var Rc=Object.defineProperty;var Fc=(Ve,je,ze)=>je in Ve?Rc(Ve,je,{enumerable:!0,configurable:!0,writable:!0,value:ze}):Ve[je]=ze;var Yn=(Ve,je,ze)=>(Fc(Ve,typeof je!="symbol"?je+"":je,ze),ze);(function(){const je=document.createElement("link").relList;if(je&&je.supports&&je.supports("modulepreload"))return;for(const Xe of document.querySelectorAll('link[rel="modulepreload"]'))qe(Xe);new MutationObserver(Xe=>{for(const Ye of Xe)if(Ye.type==="childList")for(const Ke of Ye.addedNodes)Ke.tagName==="LINK"&&Ke.rel==="modulepreload"&&qe(Ke)}).observe(document,{childList:!0,subtree:!0});function ze(Xe){const Ye={};return Xe.integrity&&(Ye.integrity=Xe.integrity),Xe.referrerPolicy&&(Ye.referrerPolicy=Xe.referrerPolicy),Xe.crossOrigin==="use-credentials"?Ye.credentials="include":Xe.crossOrigin==="anonymous"?Ye.credentials="omit":Ye.credentials="same-origin",Ye}function qe(Xe){if(Xe.ep)return;Xe.ep=!0;const Ye=ze(Xe);fetch(Xe.href,Ye)}})();function makeMap(Ve,je){const ze=Object.create(null),qe=Ve.split(",");for(let Xe=0;Xe<qe.length;Xe++)ze[qe[Xe]]=!0;return je?Xe=>!!ze[Xe.toLowerCase()]:Xe=>!!ze[Xe]}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,isOn=Ve=>Ve.charCodeAt(0)===111&&Ve.charCodeAt(1)===110&&(Ve.charCodeAt(2)>122||Ve.charCodeAt(2)<97),isModelListener=Ve=>Ve.startsWith("onUpdate:"),extend$3=Object.assign,remove=(Ve,je)=>{const ze=Ve.indexOf(je);ze>-1&&Ve.splice(ze,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn$2=(Ve,je)=>hasOwnProperty$1.call(Ve,je),isArray$1=Array.isArray,isMap=Ve=>toTypeString(Ve)==="[object Map]",isSet=Ve=>toTypeString(Ve)==="[object Set]",isDate=Ve=>toTypeString(Ve)==="[object Date]",isFunction=Ve=>typeof Ve=="function",isString=Ve=>typeof Ve=="string",isSymbol=Ve=>typeof Ve=="symbol",isObject=Ve=>Ve!==null&&typeof Ve=="object",isPromise=Ve=>(isObject(Ve)||isFunction(Ve))&&isFunction(Ve.then)&&isFunction(Ve.catch),objectToString$1=Object.prototype.toString,toTypeString=Ve=>objectToString$1.call(Ve),toRawType=Ve=>toTypeString(Ve).slice(8,-1),isPlainObject=Ve=>toTypeString(Ve)==="[object Object]",isIntegerKey=Ve=>isString(Ve)&&Ve!=="NaN"&&Ve[0]!=="-"&&""+parseInt(Ve,10)===Ve,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=Ve=>{const je=Object.create(null);return ze=>je[ze]||(je[ze]=Ve(ze))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(Ve=>Ve.replace(camelizeRE,(je,ze)=>ze?ze.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(Ve=>Ve.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(Ve=>Ve.charAt(0).toUpperCase()+Ve.slice(1)),toHandlerKey=cacheStringFunction(Ve=>Ve?`on${capitalize(Ve)}`:""),hasChanged=(Ve,je)=>!Object.is(Ve,je),invokeArrayFns=(Ve,je)=>{for(let ze=0;ze<Ve.length;ze++)Ve[ze](je)},def=(Ve,je,ze)=>{Object.defineProperty(Ve,je,{configurable:!0,enumerable:!1,value:ze})},looseToNumber=Ve=>{const je=parseFloat(Ve);return isNaN(je)?Ve:je},toNumber=Ve=>{const je=isString(Ve)?Number(Ve):NaN;return isNaN(je)?Ve:je};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(Ve){if(isArray$1(Ve)){const je={};for(let ze=0;ze<Ve.length;ze++){const qe=Ve[ze],Xe=isString(qe)?parseStringStyle(qe):normalizeStyle(qe);if(Xe)for(const Ye in Xe)je[Ye]=Xe[Ye]}return je}else if(isString(Ve)||isObject(Ve))return Ve}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(Ve){const je={};return Ve.replace(styleCommentRE,"").split(listDelimiterRE).forEach(ze=>{if(ze){const qe=ze.split(propertyDelimiterRE);qe.length>1&&(je[qe[0].trim()]=qe[1].trim())}}),je}function normalizeClass(Ve){let je="";if(isString(Ve))je=Ve;else if(isArray$1(Ve))for(let ze=0;ze<Ve.length;ze++){const qe=normalizeClass(Ve[ze]);qe&&(je+=qe+" ")}else if(isObject(Ve))for(const ze in Ve)Ve[ze]&&(je+=ze+" ");return je.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(Ve){return!!Ve||Ve===""}function looseCompareArrays(Ve,je){if(Ve.length!==je.length)return!1;let ze=!0;for(let qe=0;ze&&qe<Ve.length;qe++)ze=looseEqual(Ve[qe],je[qe]);return ze}function looseEqual(Ve,je){if(Ve===je)return!0;let ze=isDate(Ve),qe=isDate(je);if(ze||qe)return ze&&qe?Ve.getTime()===je.getTime():!1;if(ze=isSymbol(Ve),qe=isSymbol(je),ze||qe)return Ve===je;if(ze=isArray$1(Ve),qe=isArray$1(je),ze||qe)return ze&&qe?looseCompareArrays(Ve,je):!1;if(ze=isObject(Ve),qe=isObject(je),ze||qe){if(!ze||!qe)return!1;const Xe=Object.keys(Ve).length,Ye=Object.keys(je).length;if(Xe!==Ye)return!1;for(const Ke in Ve){const Ze=Ve.hasOwnProperty(Ke),Qe=je.hasOwnProperty(Ke);if(Ze&&!Qe||!Ze&&Qe||!looseEqual(Ve[Ke],je[Ke]))return!1}}return String(Ve)===String(je)}function looseIndexOf(Ve,je){return Ve.findIndex(ze=>looseEqual(ze,je))}const toDisplayString=Ve=>isString(Ve)?Ve:Ve==null?"":isArray$1(Ve)||isObject(Ve)&&(Ve.toString===objectToString$1||!isFunction(Ve.toString))?JSON.stringify(Ve,replacer,2):String(Ve),replacer=(Ve,je)=>je&&je.__v_isRef?replacer(Ve,je.value):isMap(je)?{[`Map(${je.size})`]:[...je.entries()].reduce((ze,[qe,Xe],Ye)=>(ze[stringifySymbol(qe,Ye)+" =>"]=Xe,ze),{})}:isSet(je)?{[`Set(${je.size})`]:[...je.values()].map(ze=>stringifySymbol(ze))}:isSymbol(je)?stringifySymbol(je):isObject(je)&&!isArray$1(je)&&!isPlainObject(je)?String(je):je,stringifySymbol=(Ve,je="")=>{var ze;return isSymbol(Ve)?`Symbol(${(ze=Ve.description)!=null?ze:je})`:Ve};let activeEffectScope;class EffectScope{constructor(je=!1){this.detached=je,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!je&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(je){if(this._active){const ze=activeEffectScope;try{return activeEffectScope=this,je()}finally{activeEffectScope=ze}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(je){if(this._active){let ze,qe;for(ze=0,qe=this.effects.length;ze<qe;ze++)this.effects[ze].stop();for(ze=0,qe=this.cleanups.length;ze<qe;ze++)this.cleanups[ze]();if(this.scopes)for(ze=0,qe=this.scopes.length;ze<qe;ze++)this.scopes[ze].stop(!0);if(!this.detached&&this.parent&&!je){const Xe=this.parent.scopes.pop();Xe&&Xe!==this&&(this.parent.scopes[this.index]=Xe,Xe.index=this.index)}this.parent=void 0,this._active=!1}}}function recordEffectScope(Ve,je=activeEffectScope){je&&je.active&&je.effects.push(Ve)}function getCurrentScope(){return activeEffectScope}const createDep=Ve=>{const je=new Set(Ve);return je.w=0,je.n=0,je},wasTracked=Ve=>(Ve.w&trackOpBit)>0,newTracked=Ve=>(Ve.n&trackOpBit)>0,initDepMarkers=({deps:Ve})=>{if(Ve.length)for(let je=0;je<Ve.length;je++)Ve[je].w|=trackOpBit},finalizeDepMarkers=Ve=>{const{deps:je}=Ve;if(je.length){let ze=0;for(let qe=0;qe<je.length;qe++){const Xe=je[qe];wasTracked(Xe)&&!newTracked(Xe)?Xe.delete(Ve):je[ze++]=Xe,Xe.w&=~trackOpBit,Xe.n&=~trackOpBit}je.length=ze}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(je,ze=null,qe){this.fn=je,this.scheduler=ze,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,qe)}run(){if(!this.active)return this.fn();let je=activeEffect,ze=shouldTrack;for(;je;){if(je===this)return;je=je.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=ze,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(Ve){const{deps:je}=Ve;if(je.length){for(let ze=0;ze<je.length;ze++)je[ze].delete(Ve);je.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const Ve=trackStack.pop();shouldTrack=Ve===void 0?!0:Ve}function track(Ve,je,ze){if(shouldTrack&&activeEffect){let qe=targetMap.get(Ve);qe||targetMap.set(Ve,qe=new Map);let Xe=qe.get(ze);Xe||qe.set(ze,Xe=createDep()),trackEffects(Xe)}}function trackEffects(Ve,je){let ze=!1;effectTrackDepth<=maxMarkerBits?newTracked(Ve)||(Ve.n|=trackOpBit,ze=!wasTracked(Ve)):ze=!Ve.has(activeEffect),ze&&(Ve.add(activeEffect),activeEffect.deps.push(Ve))}function trigger(Ve,je,ze,qe,Xe,Ye){const Ke=targetMap.get(Ve);if(!Ke)return;let Ze=[];if(je==="clear")Ze=[...Ke.values()];else if(ze==="length"&&isArray$1(Ve)){const Qe=Number(qe);Ke.forEach((Je,St)=>{(St==="length"||!isSymbol(St)&&St>=Qe)&&Ze.push(Je)})}else switch(ze!==void 0&&Ze.push(Ke.get(ze)),je){case"add":isArray$1(Ve)?isIntegerKey(ze)&&Ze.push(Ke.get("length")):(Ze.push(Ke.get(ITERATE_KEY)),isMap(Ve)&&Ze.push(Ke.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$1(Ve)||(Ze.push(Ke.get(ITERATE_KEY)),isMap(Ve)&&Ze.push(Ke.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(Ve)&&Ze.push(Ke.get(ITERATE_KEY));break}if(Ze.length===1)Ze[0]&&triggerEffects(Ze[0]);else{const Qe=[];for(const Je of Ze)Je&&Qe.push(...Je);triggerEffects(createDep(Qe))}}function triggerEffects(Ve,je){const ze=isArray$1(Ve)?Ve:[...Ve];for(const qe of ze)qe.computed&&triggerEffect(qe);for(const qe of ze)qe.computed||triggerEffect(qe)}function triggerEffect(Ve,je){(Ve!==activeEffect||Ve.allowRecurse)&&(Ve.scheduler?Ve.scheduler():Ve.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(Ve=>Ve!=="arguments"&&Ve!=="caller").map(Ve=>Symbol[Ve]).filter(isSymbol)),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const Ve={};return["includes","indexOf","lastIndexOf"].forEach(je=>{Ve[je]=function(...ze){const qe=toRaw(this);for(let Ye=0,Ke=this.length;Ye<Ke;Ye++)track(qe,"get",Ye+"");const Xe=qe[je](...ze);return Xe===-1||Xe===!1?qe[je](...ze.map(toRaw)):Xe}}),["push","pop","shift","unshift","splice"].forEach(je=>{Ve[je]=function(...ze){pauseTracking();const qe=toRaw(this)[je].apply(this,ze);return resetTracking(),qe}}),Ve}function hasOwnProperty(Ve){const je=toRaw(this);return track(je,"has",Ve),je.hasOwnProperty(Ve)}class BaseReactiveHandler{constructor(je=!1,ze=!1){this._isReadonly=je,this._shallow=ze}get(je,ze,qe){const Xe=this._isReadonly,Ye=this._shallow;if(ze==="__v_isReactive")return!Xe;if(ze==="__v_isReadonly")return Xe;if(ze==="__v_isShallow")return Ye;if(ze==="__v_raw")return qe===(Xe?Ye?shallowReadonlyMap:readonlyMap:Ye?shallowReactiveMap:reactiveMap).get(je)||Object.getPrototypeOf(je)===Object.getPrototypeOf(qe)?je:void 0;const Ke=isArray$1(je);if(!Xe){if(Ke&&hasOwn$2(arrayInstrumentations,ze))return Reflect.get(arrayInstrumentations,ze,qe);if(ze==="hasOwnProperty")return hasOwnProperty}const Ze=Reflect.get(je,ze,qe);return(isSymbol(ze)?builtInSymbols.has(ze):isNonTrackableKeys(ze))||(Xe||track(je,"get",ze),Ye)?Ze:isRef(Ze)?Ke&&isIntegerKey(ze)?Ze:Ze.value:isObject(Ze)?Xe?readonly(Ze):reactive(Ze):Ze}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(je=!1){super(!1,je)}set(je,ze,qe,Xe){let Ye=je[ze];if(!this._shallow){const Qe=isReadonly(Ye);if(!isShallow(qe)&&!isReadonly(qe)&&(Ye=toRaw(Ye),qe=toRaw(qe)),!isArray$1(je)&&isRef(Ye)&&!isRef(qe))return Qe?!1:(Ye.value=qe,!0)}const Ke=isArray$1(je)&&isIntegerKey(ze)?Number(ze)<je.length:hasOwn$2(je,ze),Ze=Reflect.set(je,ze,qe,Xe);return je===toRaw(Xe)&&(Ke?hasChanged(qe,Ye)&&trigger(je,"set",ze,qe):trigger(je,"add",ze,qe)),Ze}deleteProperty(je,ze){const qe=hasOwn$2(je,ze);je[ze];const Xe=Reflect.deleteProperty(je,ze);return Xe&&qe&&trigger(je,"delete",ze,void 0),Xe}has(je,ze){const qe=Reflect.has(je,ze);return(!isSymbol(ze)||!builtInSymbols.has(ze))&&track(je,"has",ze),qe}ownKeys(je){return track(je,"iterate",isArray$1(je)?"length":ITERATE_KEY),Reflect.ownKeys(je)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(je=!1){super(!0,je)}set(je,ze){return!0}deleteProperty(je,ze){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),toShallow=Ve=>Ve,getProto=Ve=>Reflect.getPrototypeOf(Ve);function get(Ve,je,ze=!1,qe=!1){Ve=Ve.__v_raw;const Xe=toRaw(Ve),Ye=toRaw(je);ze||(hasChanged(je,Ye)&&track(Xe,"get",je),track(Xe,"get",Ye));const{has:Ke}=getProto(Xe),Ze=qe?toShallow:ze?toReadonly:toReactive;if(Ke.call(Xe,je))return Ze(Ve.get(je));if(Ke.call(Xe,Ye))return Ze(Ve.get(Ye));Ve!==Xe&&Ve.get(je)}function has(Ve,je=!1){const ze=this.__v_raw,qe=toRaw(ze),Xe=toRaw(Ve);return je||(hasChanged(Ve,Xe)&&track(qe,"has",Ve),track(qe,"has",Xe)),Ve===Xe?ze.has(Ve):ze.has(Ve)||ze.has(Xe)}function size(Ve,je=!1){return Ve=Ve.__v_raw,!je&&track(toRaw(Ve),"iterate",ITERATE_KEY),Reflect.get(Ve,"size",Ve)}function add$1(Ve){Ve=toRaw(Ve);const je=toRaw(this);return getProto(je).has.call(je,Ve)||(je.add(Ve),trigger(je,"add",Ve,Ve)),this}function set(Ve,je){je=toRaw(je);const ze=toRaw(this),{has:qe,get:Xe}=getProto(ze);let Ye=qe.call(ze,Ve);Ye||(Ve=toRaw(Ve),Ye=qe.call(ze,Ve));const Ke=Xe.call(ze,Ve);return ze.set(Ve,je),Ye?hasChanged(je,Ke)&&trigger(ze,"set",Ve,je):trigger(ze,"add",Ve,je),this}function deleteEntry(Ve){const je=toRaw(this),{has:ze,get:qe}=getProto(je);let Xe=ze.call(je,Ve);Xe||(Ve=toRaw(Ve),Xe=ze.call(je,Ve)),qe&&qe.call(je,Ve);const Ye=je.delete(Ve);return Xe&&trigger(je,"delete",Ve,void 0),Ye}function clear(){const Ve=toRaw(this),je=Ve.size!==0,ze=Ve.clear();return je&&trigger(Ve,"clear",void 0,void 0),ze}function createForEach(Ve,je){return function(qe,Xe){const Ye=this,Ke=Ye.__v_raw,Ze=toRaw(Ke),Qe=je?toShallow:Ve?toReadonly:toReactive;return!Ve&&track(Ze,"iterate",ITERATE_KEY),Ke.forEach((Je,St)=>qe.call(Xe,Qe(Je),Qe(St),Ye))}}function createIterableMethod(Ve,je,ze){return function(...qe){const Xe=this.__v_raw,Ye=toRaw(Xe),Ke=isMap(Ye),Ze=Ve==="entries"||Ve===Symbol.iterator&&Ke,Qe=Ve==="keys"&&Ke,Je=Xe[Ve](...qe),St=ze?toShallow:je?toReadonly:toReactive;return!je&&track(Ye,"iterate",Qe?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:ei,done:ti}=Je.next();return ti?{value:ei,done:ti}:{value:Ze?[St(ei[0]),St(ei[1])]:St(ei),done:ti}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(Ve){return function(...je){return Ve==="delete"?!1:Ve==="clear"?void 0:this}}function createInstrumentations(){const Ve={get(Ye){return get(this,Ye)},get size(){return size(this)},has,add:add$1,set,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},je={get(Ye){return get(this,Ye,!1,!0)},get size(){return size(this)},has,add:add$1,set,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},ze={get(Ye){return get(this,Ye,!0)},get size(){return size(this,!0)},has(Ye){return has.call(this,Ye,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},qe={get(Ye){return get(this,Ye,!0,!0)},get size(){return size(this,!0)},has(Ye){return has.call(this,Ye,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(Ye=>{Ve[Ye]=createIterableMethod(Ye,!1,!1),ze[Ye]=createIterableMethod(Ye,!0,!1),je[Ye]=createIterableMethod(Ye,!1,!0),qe[Ye]=createIterableMethod(Ye,!0,!0)}),[Ve,ze,je,qe]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(Ve,je){const ze=je?Ve?shallowReadonlyInstrumentations:shallowInstrumentations:Ve?readonlyInstrumentations:mutableInstrumentations;return(qe,Xe,Ye)=>Xe==="__v_isReactive"?!Ve:Xe==="__v_isReadonly"?Ve:Xe==="__v_raw"?qe:Reflect.get(hasOwn$2(ze,Xe)&&Xe in qe?ze:qe,Xe,Ye)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(Ve){switch(Ve){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(Ve){return Ve.__v_skip||!Object.isExtensible(Ve)?0:targetTypeMap(toRawType(Ve))}function reactive(Ve){return isReadonly(Ve)?Ve:createReactiveObject(Ve,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(Ve){return createReactiveObject(Ve,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(Ve){return createReactiveObject(Ve,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(Ve,je,ze,qe,Xe){if(!isObject(Ve)||Ve.__v_raw&&!(je&&Ve.__v_isReactive))return Ve;const Ye=Xe.get(Ve);if(Ye)return Ye;const Ke=getTargetType(Ve);if(Ke===0)return Ve;const Ze=new Proxy(Ve,Ke===2?qe:ze);return Xe.set(Ve,Ze),Ze}function isReactive(Ve){return isReadonly(Ve)?isReactive(Ve.__v_raw):!!(Ve&&Ve.__v_isReactive)}function isReadonly(Ve){return!!(Ve&&Ve.__v_isReadonly)}function isShallow(Ve){return!!(Ve&&Ve.__v_isShallow)}function isProxy(Ve){return isReactive(Ve)||isReadonly(Ve)}function toRaw(Ve){const je=Ve&&Ve.__v_raw;return je?toRaw(je):Ve}function markRaw(Ve){return def(Ve,"__v_skip",!0),Ve}const toReactive=Ve=>isObject(Ve)?reactive(Ve):Ve,toReadonly=Ve=>isObject(Ve)?readonly(Ve):Ve;function trackRefValue(Ve){shouldTrack&&activeEffect&&(Ve=toRaw(Ve),trackEffects(Ve.dep||(Ve.dep=createDep())))}function triggerRefValue(Ve,je){Ve=toRaw(Ve);const ze=Ve.dep;ze&&triggerEffects(ze)}function isRef(Ve){return!!(Ve&&Ve.__v_isRef===!0)}function ref(Ve){return createRef(Ve,!1)}function createRef(Ve,je){return isRef(Ve)?Ve:new RefImpl(Ve,je)}class RefImpl{constructor(je,ze){this.__v_isShallow=ze,this.dep=void 0,this.__v_isRef=!0,this._rawValue=ze?je:toRaw(je),this._value=ze?je:toReactive(je)}get value(){return trackRefValue(this),this._value}set value(je){const ze=this.__v_isShallow||isShallow(je)||isReadonly(je);je=ze?je:toRaw(je),hasChanged(je,this._rawValue)&&(this._rawValue=je,this._value=ze?je:toReactive(je),triggerRefValue(this))}}function unref(Ve){return isRef(Ve)?Ve.value:Ve}const shallowUnwrapHandlers={get:(Ve,je,ze)=>unref(Reflect.get(Ve,je,ze)),set:(Ve,je,ze,qe)=>{const Xe=Ve[je];return isRef(Xe)&&!isRef(ze)?(Xe.value=ze,!0):Reflect.set(Ve,je,ze,qe)}};function proxyRefs(Ve){return isReactive(Ve)?Ve:new Proxy(Ve,shallowUnwrapHandlers)}class ComputedRefImpl{constructor(je,ze,qe,Xe){this._setter=ze,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ReactiveEffect(je,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!Xe,this.__v_isReadonly=qe}get value(){const je=toRaw(this);return trackRefValue(je),(je._dirty||!je._cacheable)&&(je._dirty=!1,je._value=je.effect.run()),je._value}set value(je){this._setter(je)}}function computed$1(Ve,je,ze=!1){let qe,Xe;const Ye=isFunction(Ve);return Ye?(qe=Ve,Xe=NOOP):(qe=Ve.get,Xe=Ve.set),new ComputedRefImpl(qe,Xe,Ye||!Xe,ze)}function warn(Ve,...je){}function callWithErrorHandling(Ve,je,ze,qe){let Xe;try{Xe=qe?Ve(...qe):Ve()}catch(Ye){handleError(Ye,je,ze)}return Xe}function callWithAsyncErrorHandling(Ve,je,ze,qe){if(isFunction(Ve)){const Ye=callWithErrorHandling(Ve,je,ze,qe);return Ye&&isPromise(Ye)&&Ye.catch(Ke=>{handleError(Ke,je,ze)}),Ye}const Xe=[];for(let Ye=0;Ye<Ve.length;Ye++)Xe.push(callWithAsyncErrorHandling(Ve[Ye],je,ze,qe));return Xe}function handleError(Ve,je,ze,qe=!0){const Xe=je?je.vnode:null;if(je){let Ye=je.parent;const Ke=je.proxy,Ze=ze;for(;Ye;){const Je=Ye.ec;if(Je){for(let St=0;St<Je.length;St++)if(Je[St](Ve,Ke,Ze)===!1)return}Ye=Ye.parent}const Qe=je.appContext.config.errorHandler;if(Qe){callWithErrorHandling(Qe,null,10,[Ve,Ke,Ze]);return}}logError(Ve,ze,Xe,qe)}function logError(Ve,je,ze,qe=!0){console.error(Ve)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(Ve){const je=currentFlushPromise||resolvedPromise;return Ve?je.then(this?Ve.bind(this):Ve):je}function findInsertionIndex(Ve){let je=flushIndex+1,ze=queue.length;for(;je<ze;){const qe=je+ze>>>1,Xe=queue[qe],Ye=getId(Xe);Ye<Ve||Ye===Ve&&Xe.pre?je=qe+1:ze=qe}return je}function queueJob(Ve){(!queue.length||!queue.includes(Ve,isFlushing&&Ve.allowRecurse?flushIndex+1:flushIndex))&&(Ve.id==null?queue.push(Ve):queue.splice(findInsertionIndex(Ve.id),0,Ve),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(Ve){const je=queue.indexOf(Ve);je>flushIndex&&queue.splice(je,1)}function queuePostFlushCb(Ve){isArray$1(Ve)?pendingPostFlushCbs.push(...Ve):(!activePostFlushCbs||!activePostFlushCbs.includes(Ve,Ve.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(Ve),queueFlush()}function flushPreFlushCbs(Ve,je,ze=isFlushing?flushIndex+1:0){for(;ze<queue.length;ze++){const qe=queue[ze];if(qe&&qe.pre){if(Ve&&qe.id!==Ve.uid)continue;queue.splice(ze,1),ze--,qe()}}}function flushPostFlushCbs(Ve){if(pendingPostFlushCbs.length){const je=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...je);return}for(activePostFlushCbs=je,activePostFlushCbs.sort((ze,qe)=>getId(ze)-getId(qe)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=Ve=>Ve.id==null?1/0:Ve.id,comparator=(Ve,je)=>{const ze=getId(Ve)-getId(je);if(ze===0){if(Ve.pre&&!je.pre)return-1;if(je.pre&&!Ve.pre)return 1}return ze};function flushJobs(Ve){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const je=queue[flushIndex];je&&je.active!==!1&&callWithErrorHandling(je,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit(Ve,je,...ze){if(Ve.isUnmounted)return;const qe=Ve.vnode.props||EMPTY_OBJ;let Xe=ze;const Ye=je.startsWith("update:"),Ke=Ye&&je.slice(7);if(Ke&&Ke in qe){const St=`${Ke==="modelValue"?"model":Ke}Modifiers`,{number:ei,trim:ti}=qe[St]||EMPTY_OBJ;ti&&(Xe=ze.map(ii=>isString(ii)?ii.trim():ii)),ei&&(Xe=ze.map(looseToNumber))}let Ze,Qe=qe[Ze=toHandlerKey(je)]||qe[Ze=toHandlerKey(camelize(je))];!Qe&&Ye&&(Qe=qe[Ze=toHandlerKey(hyphenate(je))]),Qe&&callWithAsyncErrorHandling(Qe,Ve,6,Xe);const Je=qe[Ze+"Once"];if(Je){if(!Ve.emitted)Ve.emitted={};else if(Ve.emitted[Ze])return;Ve.emitted[Ze]=!0,callWithAsyncErrorHandling(Je,Ve,6,Xe)}}function normalizeEmitsOptions(Ve,je,ze=!1){const qe=je.emitsCache,Xe=qe.get(Ve);if(Xe!==void 0)return Xe;const Ye=Ve.emits;let Ke={},Ze=!1;if(!isFunction(Ve)){const Qe=Je=>{const St=normalizeEmitsOptions(Je,je,!0);St&&(Ze=!0,extend$3(Ke,St))};!ze&&je.mixins.length&&je.mixins.forEach(Qe),Ve.extends&&Qe(Ve.extends),Ve.mixins&&Ve.mixins.forEach(Qe)}return!Ye&&!Ze?(isObject(Ve)&&qe.set(Ve,null),null):(isArray$1(Ye)?Ye.forEach(Qe=>Ke[Qe]=null):extend$3(Ke,Ye),isObject(Ve)&&qe.set(Ve,Ke),Ke)}function isEmitListener(Ve,je){return!Ve||!isOn(je)?!1:(je=je.slice(2).replace(/Once$/,""),hasOwn$2(Ve,je[0].toLowerCase()+je.slice(1))||hasOwn$2(Ve,hyphenate(je))||hasOwn$2(Ve,je))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(Ve){const je=currentRenderingInstance;return currentRenderingInstance=Ve,currentScopeId=Ve&&Ve.type.__scopeId||null,je}function pushScopeId(Ve){currentScopeId=Ve}function popScopeId(){currentScopeId=null}function withCtx(Ve,je=currentRenderingInstance,ze){if(!je||Ve._n)return Ve;const qe=(...Xe)=>{qe._d&&setBlockTracking(-1);const Ye=setCurrentRenderingInstance(je);let Ke;try{Ke=Ve(...Xe)}finally{setCurrentRenderingInstance(Ye),qe._d&&setBlockTracking(1)}return Ke};return qe._n=!0,qe._c=!0,qe._d=!0,qe}function markAttrsAccessed(){}function renderComponentRoot(Ve){const{type:je,vnode:ze,proxy:qe,withProxy:Xe,props:Ye,propsOptions:[Ke],slots:Ze,attrs:Qe,emit:Je,render:St,renderCache:ei,data:ti,setupState:ii,ctx:ri,inheritAttrs:si}=Ve;let ui,ai;const oi=setCurrentRenderingInstance(Ve);try{if(ze.shapeFlag&4){const ci=Xe||qe,hi=ci;ui=normalizeVNode(St.call(hi,ci,ei,Ye,ii,ti,ri)),ai=Qe}else{const ci=je;ui=normalizeVNode(ci.length>1?ci(Ye,{attrs:Qe,slots:Ze,emit:Je}):ci(Ye,null)),ai=je.props?Qe:getFunctionalFallthrough(Qe)}}catch(ci){blockStack.length=0,handleError(ci,Ve,1),ui=createVNode(Comment)}let ni=ui;if(ai&&si!==!1){const ci=Object.keys(ai),{shapeFlag:hi}=ni;ci.length&&hi&7&&(Ke&&ci.some(isModelListener)&&(ai=filterModelListeners(ai,Ke)),ni=cloneVNode(ni,ai))}return ze.dirs&&(ni=cloneVNode(ni),ni.dirs=ni.dirs?ni.dirs.concat(ze.dirs):ze.dirs),ze.transition&&(ni.transition=ze.transition),ui=ni,setCurrentRenderingInstance(oi),ui}const getFunctionalFallthrough=Ve=>{let je;for(const ze in Ve)(ze==="class"||ze==="style"||isOn(ze))&&((je||(je={}))[ze]=Ve[ze]);return je},filterModelListeners=(Ve,je)=>{const ze={};for(const qe in Ve)(!isModelListener(qe)||!(qe.slice(9)in je))&&(ze[qe]=Ve[qe]);return ze};function shouldUpdateComponent(Ve,je,ze){const{props:qe,children:Xe,component:Ye}=Ve,{props:Ke,children:Ze,patchFlag:Qe}=je,Je=Ye.emitsOptions;if(je.dirs||je.transition)return!0;if(ze&&Qe>=0){if(Qe&1024)return!0;if(Qe&16)return qe?hasPropsChanged(qe,Ke,Je):!!Ke;if(Qe&8){const St=je.dynamicProps;for(let ei=0;ei<St.length;ei++){const ti=St[ei];if(Ke[ti]!==qe[ti]&&!isEmitListener(Je,ti))return!0}}}else return(Xe||Ze)&&(!Ze||!Ze.$stable)?!0:qe===Ke?!1:qe?Ke?hasPropsChanged(qe,Ke,Je):!0:!!Ke;return!1}function hasPropsChanged(Ve,je,ze){const qe=Object.keys(je);if(qe.length!==Object.keys(Ve).length)return!0;for(let Xe=0;Xe<qe.length;Xe++){const Ye=qe[Xe];if(je[Ye]!==Ve[Ye]&&!isEmitListener(ze,Ye))return!0}return!1}function updateHOCHostEl({vnode:Ve,parent:je},ze){for(;je&&je.subTree===Ve;)(Ve=je.vnode).el=ze,je=je.parent}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc"),isSuspense=Ve=>Ve.__isSuspense;function queueEffectWithSuspense(Ve,je){je&&je.pendingBranch?isArray$1(Ve)?je.effects.push(...Ve):je.effects.push(Ve):queuePostFlushCb(Ve)}function watchEffect(Ve,je){return doWatch(Ve,null,je)}const INITIAL_WATCHER_VALUE={};function watch(Ve,je,ze){return doWatch(Ve,je,ze)}function doWatch(Ve,je,{immediate:ze,deep:qe,flush:Xe,onTrack:Ye,onTrigger:Ke}=EMPTY_OBJ){var Ze;const Qe=getCurrentScope()===((Ze=currentInstance)==null?void 0:Ze.scope)?currentInstance:null;let Je,St=!1,ei=!1;if(isRef(Ve)?(Je=()=>Ve.value,St=isShallow(Ve)):isReactive(Ve)?(Je=()=>Ve,qe=!0):isArray$1(Ve)?(ei=!0,St=Ve.some(ci=>isReactive(ci)||isShallow(ci)),Je=()=>Ve.map(ci=>{if(isRef(ci))return ci.value;if(isReactive(ci))return traverse(ci);if(isFunction(ci))return callWithErrorHandling(ci,Qe,2)})):isFunction(Ve)?je?Je=()=>callWithErrorHandling(Ve,Qe,2):Je=()=>{if(!(Qe&&Qe.isUnmounted))return ti&&ti(),callWithAsyncErrorHandling(Ve,Qe,3,[ii])}:Je=NOOP,je&&qe){const ci=Je;Je=()=>traverse(ci())}let ti,ii=ci=>{ti=oi.onStop=()=>{callWithErrorHandling(ci,Qe,4),ti=oi.onStop=void 0}},ri;if(isInSSRComponentSetup)if(ii=NOOP,je?ze&&callWithAsyncErrorHandling(je,Qe,3,[Je(),ei?[]:void 0,ii]):Je(),Xe==="sync"){const ci=useSSRContext();ri=ci.__watcherHandles||(ci.__watcherHandles=[])}else return NOOP;let si=ei?new Array(Ve.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const ui=()=>{if(oi.active)if(je){const ci=oi.run();(qe||St||(ei?ci.some((hi,di)=>hasChanged(hi,si[di])):hasChanged(ci,si)))&&(ti&&ti(),callWithAsyncErrorHandling(je,Qe,3,[ci,si===INITIAL_WATCHER_VALUE?void 0:ei&&si[0]===INITIAL_WATCHER_VALUE?[]:si,ii]),si=ci)}else oi.run()};ui.allowRecurse=!!je;let ai;Xe==="sync"?ai=ui:Xe==="post"?ai=()=>queuePostRenderEffect(ui,Qe&&Qe.suspense):(ui.pre=!0,Qe&&(ui.id=Qe.uid),ai=()=>queueJob(ui));const oi=new ReactiveEffect(Je,ai);je?ze?ui():si=oi.run():Xe==="post"?queuePostRenderEffect(oi.run.bind(oi),Qe&&Qe.suspense):oi.run();const ni=()=>{oi.stop(),Qe&&Qe.scope&&remove(Qe.scope.effects,oi)};return ri&&ri.push(ni),ni}function instanceWatch(Ve,je,ze){const qe=this.proxy,Xe=isString(Ve)?Ve.includes(".")?createPathGetter(qe,Ve):()=>qe[Ve]:Ve.bind(qe,qe);let Ye;isFunction(je)?Ye=je:(Ye=je.handler,ze=je);const Ke=currentInstance;setCurrentInstance(this);const Ze=doWatch(Xe,Ye.bind(qe),ze);return Ke?setCurrentInstance(Ke):unsetCurrentInstance(),Ze}function createPathGetter(Ve,je){const ze=je.split(".");return()=>{let qe=Ve;for(let Xe=0;Xe<ze.length&&qe;Xe++)qe=qe[ze[Xe]];return qe}}function traverse(Ve,je){if(!isObject(Ve)||Ve.__v_skip||(je=je||new Set,je.has(Ve)))return Ve;if(je.add(Ve),isRef(Ve))traverse(Ve.value,je);else if(isArray$1(Ve))for(let ze=0;ze<Ve.length;ze++)traverse(Ve[ze],je);else if(isSet(Ve)||isMap(Ve))Ve.forEach(ze=>{traverse(ze,je)});else if(isPlainObject(Ve))for(const ze in Ve)traverse(Ve[ze],je);return Ve}function withDirectives(Ve,je){const ze=currentRenderingInstance;if(ze===null)return Ve;const qe=getExposeProxy(ze)||ze.proxy,Xe=Ve.dirs||(Ve.dirs=[]);for(let Ye=0;Ye<je.length;Ye++){let[Ke,Ze,Qe,Je=EMPTY_OBJ]=je[Ye];Ke&&(isFunction(Ke)&&(Ke={mounted:Ke,updated:Ke}),Ke.deep&&traverse(Ze),Xe.push({dir:Ke,instance:qe,value:Ze,oldValue:void 0,arg:Qe,modifiers:Je}))}return Ve}function invokeDirectiveHook(Ve,je,ze,qe){const Xe=Ve.dirs,Ye=je&&je.dirs;for(let Ke=0;Ke<Xe.length;Ke++){const Ze=Xe[Ke];Ye&&(Ze.oldValue=Ye[Ke].value);let Qe=Ze.dir[qe];Qe&&(pauseTracking(),callWithAsyncErrorHandling(Qe,ze,8,[Ve.el,Ze,Ve,je]),resetTracking())}}const leaveCbKey=Symbol("_leaveCb"),enterCbKey=Symbol("_enterCb");function useTransitionState(){const Ve={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{Ve.isMounted=!0}),onBeforeUnmount(()=>{Ve.isUnmounting=!0}),Ve}const TransitionHookValidator=[Function,Array],BaseTransitionPropsValidators={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},BaseTransitionImpl={name:"BaseTransition",props:BaseTransitionPropsValidators,setup(Ve,{slots:je}){const ze=getCurrentInstance(),qe=useTransitionState();let Xe;return()=>{const Ye=je.default&&getTransitionRawChildren(je.default(),!0);if(!Ye||!Ye.length)return;let Ke=Ye[0];if(Ye.length>1){for(const si of Ye)if(si.type!==Comment){Ke=si;break}}const Ze=toRaw(Ve),{mode:Qe}=Ze;if(qe.isLeaving)return emptyPlaceholder(Ke);const Je=getKeepAliveChild(Ke);if(!Je)return emptyPlaceholder(Ke);const St=resolveTransitionHooks(Je,Ze,qe,ze);setTransitionHooks(Je,St);const ei=ze.subTree,ti=ei&&getKeepAliveChild(ei);let ii=!1;const{getTransitionKey:ri}=Je.type;if(ri){const si=ri();Xe===void 0?Xe=si:si!==Xe&&(Xe=si,ii=!0)}if(ti&&ti.type!==Comment&&(!isSameVNodeType(Je,ti)||ii)){const si=resolveTransitionHooks(ti,Ze,qe,ze);if(setTransitionHooks(ti,si),Qe==="out-in")return qe.isLeaving=!0,si.afterLeave=()=>{qe.isLeaving=!1,ze.update.active!==!1&&ze.update()},emptyPlaceholder(Ke);Qe==="in-out"&&Je.type!==Comment&&(si.delayLeave=(ui,ai,oi)=>{const ni=getLeavingNodesForType(qe,ti);ni[String(ti.key)]=ti,ui[leaveCbKey]=()=>{ai(),ui[leaveCbKey]=void 0,delete St.delayedLeave},St.delayedLeave=oi})}return Ke}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(Ve,je){const{leavingVNodes:ze}=Ve;let qe=ze.get(je.type);return qe||(qe=Object.create(null),ze.set(je.type,qe)),qe}function resolveTransitionHooks(Ve,je,ze,qe){const{appear:Xe,mode:Ye,persisted:Ke=!1,onBeforeEnter:Ze,onEnter:Qe,onAfterEnter:Je,onEnterCancelled:St,onBeforeLeave:ei,onLeave:ti,onAfterLeave:ii,onLeaveCancelled:ri,onBeforeAppear:si,onAppear:ui,onAfterAppear:ai,onAppearCancelled:oi}=je,ni=String(Ve.key),ci=getLeavingNodesForType(ze,Ve),hi=(mi,pi)=>{mi&&callWithAsyncErrorHandling(mi,qe,9,pi)},di=(mi,pi)=>{const wi=pi[1];hi(mi,pi),isArray$1(mi)?mi.every(gi=>gi.length<=1)&&wi():mi.length<=1&&wi()},fi={mode:Ye,persisted:Ke,beforeEnter(mi){let pi=Ze;if(!ze.isMounted)if(Xe)pi=si||Ze;else return;mi[leaveCbKey]&&mi[leaveCbKey](!0);const wi=ci[ni];wi&&isSameVNodeType(Ve,wi)&&wi.el[leaveCbKey]&&wi.el[leaveCbKey](),hi(pi,[mi])},enter(mi){let pi=Qe,wi=Je,gi=St;if(!ze.isMounted)if(Xe)pi=ui||Qe,wi=ai||Je,gi=oi||St;else return;let yi=!1;const Ai=mi[enterCbKey]=Si=>{yi||(yi=!0,Si?hi(gi,[mi]):hi(wi,[mi]),fi.delayedLeave&&fi.delayedLeave(),mi[enterCbKey]=void 0)};pi?di(pi,[mi,Ai]):Ai()},leave(mi,pi){const wi=String(Ve.key);if(mi[enterCbKey]&&mi[enterCbKey](!0),ze.isUnmounting)return pi();hi(ei,[mi]);let gi=!1;const yi=mi[leaveCbKey]=Ai=>{gi||(gi=!0,pi(),Ai?hi(ri,[mi]):hi(ii,[mi]),mi[leaveCbKey]=void 0,ci[wi]===Ve&&delete ci[wi])};ci[wi]=Ve,ti?di(ti,[mi,yi]):yi()},clone(mi){return resolveTransitionHooks(mi,je,ze,qe)}};return fi}function emptyPlaceholder(Ve){if(isKeepAlive(Ve))return Ve=cloneVNode(Ve),Ve.children=null,Ve}function getKeepAliveChild(Ve){return isKeepAlive(Ve)?Ve.children?Ve.children[0]:void 0:Ve}function setTransitionHooks(Ve,je){Ve.shapeFlag&6&&Ve.component?setTransitionHooks(Ve.component.subTree,je):Ve.shapeFlag&128?(Ve.ssContent.transition=je.clone(Ve.ssContent),Ve.ssFallback.transition=je.clone(Ve.ssFallback)):Ve.transition=je}function getTransitionRawChildren(Ve,je=!1,ze){let qe=[],Xe=0;for(let Ye=0;Ye<Ve.length;Ye++){let Ke=Ve[Ye];const Ze=ze==null?Ke.key:String(ze)+String(Ke.key!=null?Ke.key:Ye);Ke.type===Fragment?(Ke.patchFlag&128&&Xe++,qe=qe.concat(getTransitionRawChildren(Ke.children,je,Ze))):(je||Ke.type!==Comment)&&qe.push(Ze!=null?cloneVNode(Ke,{key:Ze}):Ke)}if(Xe>1)for(let Ye=0;Ye<qe.length;Ye++)qe[Ye].patchFlag=-2;return qe}/*! #__NO_SIDE_EFFECTS__ */function defineComponent(Ve,je){return isFunction(Ve)?extend$3({name:Ve.name},je,{setup:Ve}):Ve}const isAsyncWrapper=Ve=>!!Ve.type.__asyncLoader,isKeepAlive=Ve=>Ve.type.__isKeepAlive;function onActivated(Ve,je){registerKeepAliveHook(Ve,"a",je)}function onDeactivated(Ve,je){registerKeepAliveHook(Ve,"da",je)}function registerKeepAliveHook(Ve,je,ze=currentInstance){const qe=Ve.__wdc||(Ve.__wdc=()=>{let Xe=ze;for(;Xe;){if(Xe.isDeactivated)return;Xe=Xe.parent}return Ve()});if(injectHook(je,qe,ze),ze){let Xe=ze.parent;for(;Xe&&Xe.parent;)isKeepAlive(Xe.parent.vnode)&&injectToKeepAliveRoot(qe,je,ze,Xe),Xe=Xe.parent}}function injectToKeepAliveRoot(Ve,je,ze,qe){const Xe=injectHook(je,Ve,qe,!0);onUnmounted(()=>{remove(qe[je],Xe)},ze)}function injectHook(Ve,je,ze=currentInstance,qe=!1){if(ze){const Xe=ze[Ve]||(ze[Ve]=[]),Ye=je.__weh||(je.__weh=(...Ke)=>{if(ze.isUnmounted)return;pauseTracking(),setCurrentInstance(ze);const Ze=callWithAsyncErrorHandling(je,ze,Ve,Ke);return unsetCurrentInstance(),resetTracking(),Ze});return qe?Xe.unshift(Ye):Xe.push(Ye),Ye}}const createHook=Ve=>(je,ze=currentInstance)=>(!isInSSRComponentSetup||Ve==="sp")&&injectHook(Ve,(...qe)=>je(...qe),ze),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(Ve,je=currentInstance){injectHook("ec",Ve,je)}function renderList(Ve,je,ze,qe){let Xe;const Ye=ze&&ze[qe];if(isArray$1(Ve)||isString(Ve)){Xe=new Array(Ve.length);for(let Ke=0,Ze=Ve.length;Ke<Ze;Ke++)Xe[Ke]=je(Ve[Ke],Ke,void 0,Ye&&Ye[Ke])}else if(typeof Ve=="number"){Xe=new Array(Ve);for(let Ke=0;Ke<Ve;Ke++)Xe[Ke]=je(Ke+1,Ke,void 0,Ye&&Ye[Ke])}else if(isObject(Ve))if(Ve[Symbol.iterator])Xe=Array.from(Ve,(Ke,Ze)=>je(Ke,Ze,void 0,Ye&&Ye[Ze]));else{const Ke=Object.keys(Ve);Xe=new Array(Ke.length);for(let Ze=0,Qe=Ke.length;Ze<Qe;Ze++){const Je=Ke[Ze];Xe[Ze]=je(Ve[Je],Je,Ze,Ye&&Ye[Ze])}}else Xe=[];return ze&&(ze[qe]=Xe),Xe}const getPublicInstance=Ve=>Ve?isStatefulComponent(Ve)?getExposeProxy(Ve)||Ve.proxy:getPublicInstance(Ve.parent):null,publicPropertiesMap=extend$3(Object.create(null),{$:Ve=>Ve,$el:Ve=>Ve.vnode.el,$data:Ve=>Ve.data,$props:Ve=>Ve.props,$attrs:Ve=>Ve.attrs,$slots:Ve=>Ve.slots,$refs:Ve=>Ve.refs,$parent:Ve=>getPublicInstance(Ve.parent),$root:Ve=>getPublicInstance(Ve.root),$emit:Ve=>Ve.emit,$options:Ve=>resolveMergedOptions(Ve),$forceUpdate:Ve=>Ve.f||(Ve.f=()=>queueJob(Ve.update)),$nextTick:Ve=>Ve.n||(Ve.n=nextTick.bind(Ve.proxy)),$watch:Ve=>instanceWatch.bind(Ve)}),hasSetupBinding=(Ve,je)=>Ve!==EMPTY_OBJ&&!Ve.__isScriptSetup&&hasOwn$2(Ve,je),PublicInstanceProxyHandlers={get({_:Ve},je){const{ctx:ze,setupState:qe,data:Xe,props:Ye,accessCache:Ke,type:Ze,appContext:Qe}=Ve;let Je;if(je[0]!=="$"){const ii=Ke[je];if(ii!==void 0)switch(ii){case 1:return qe[je];case 2:return Xe[je];case 4:return ze[je];case 3:return Ye[je]}else{if(hasSetupBinding(qe,je))return Ke[je]=1,qe[je];if(Xe!==EMPTY_OBJ&&hasOwn$2(Xe,je))return Ke[je]=2,Xe[je];if((Je=Ve.propsOptions[0])&&hasOwn$2(Je,je))return Ke[je]=3,Ye[je];if(ze!==EMPTY_OBJ&&hasOwn$2(ze,je))return Ke[je]=4,ze[je];shouldCacheAccess&&(Ke[je]=0)}}const St=publicPropertiesMap[je];let ei,ti;if(St)return je==="$attrs"&&track(Ve,"get",je),St(Ve);if((ei=Ze.__cssModules)&&(ei=ei[je]))return ei;if(ze!==EMPTY_OBJ&&hasOwn$2(ze,je))return Ke[je]=4,ze[je];if(ti=Qe.config.globalProperties,hasOwn$2(ti,je))return ti[je]},set({_:Ve},je,ze){const{data:qe,setupState:Xe,ctx:Ye}=Ve;return hasSetupBinding(Xe,je)?(Xe[je]=ze,!0):qe!==EMPTY_OBJ&&hasOwn$2(qe,je)?(qe[je]=ze,!0):hasOwn$2(Ve.props,je)||je[0]==="$"&&je.slice(1)in Ve?!1:(Ye[je]=ze,!0)},has({_:{data:Ve,setupState:je,accessCache:ze,ctx:qe,appContext:Xe,propsOptions:Ye}},Ke){let Ze;return!!ze[Ke]||Ve!==EMPTY_OBJ&&hasOwn$2(Ve,Ke)||hasSetupBinding(je,Ke)||(Ze=Ye[0])&&hasOwn$2(Ze,Ke)||hasOwn$2(qe,Ke)||hasOwn$2(publicPropertiesMap,Ke)||hasOwn$2(Xe.config.globalProperties,Ke)},defineProperty(Ve,je,ze){return ze.get!=null?Ve._.accessCache[je]=0:hasOwn$2(ze,"value")&&this.set(Ve,je,ze.value,null),Reflect.defineProperty(Ve,je,ze)}};function normalizePropsOrEmits(Ve){return isArray$1(Ve)?Ve.reduce((je,ze)=>(je[ze]=null,je),{}):Ve}let shouldCacheAccess=!0;function applyOptions(Ve){const je=resolveMergedOptions(Ve),ze=Ve.proxy,qe=Ve.ctx;shouldCacheAccess=!1,je.beforeCreate&&callHook$1(je.beforeCreate,Ve,"bc");const{data:Xe,computed:Ye,methods:Ke,watch:Ze,provide:Qe,inject:Je,created:St,beforeMount:ei,mounted:ti,beforeUpdate:ii,updated:ri,activated:si,deactivated:ui,beforeDestroy:ai,beforeUnmount:oi,destroyed:ni,unmounted:ci,render:hi,renderTracked:di,renderTriggered:fi,errorCaptured:mi,serverPrefetch:pi,expose:wi,inheritAttrs:gi,components:yi,directives:Ai,filters:Si}=je;if(Je&&resolveInjections(Je,qe,null),Ke)for(const Bi in Ke){const Pi=Ke[Bi];isFunction(Pi)&&(qe[Bi]=Pi.bind(ze))}if(Xe){const Bi=Xe.call(ze,ze);isObject(Bi)&&(Ve.data=reactive(Bi))}if(shouldCacheAccess=!0,Ye)for(const Bi in Ye){const Pi=Ye[Bi],Ri=isFunction(Pi)?Pi.bind(ze,ze):isFunction(Pi.get)?Pi.get.bind(ze,ze):NOOP,Fi=!isFunction(Pi)&&isFunction(Pi.set)?Pi.set.bind(ze):NOOP,Gi=computed({get:Ri,set:Fi});Object.defineProperty(qe,Bi,{enumerable:!0,configurable:!0,get:()=>Gi.value,set:Ti=>Gi.value=Ti})}if(Ze)for(const Bi in Ze)createWatcher(Ze[Bi],qe,ze,Bi);if(Qe){const Bi=isFunction(Qe)?Qe.call(ze):Qe;Reflect.ownKeys(Bi).forEach(Pi=>{provide(Pi,Bi[Pi])})}St&&callHook$1(St,Ve,"c");function Li(Bi,Pi){isArray$1(Pi)?Pi.forEach(Ri=>Bi(Ri.bind(ze))):Pi&&Bi(Pi.bind(ze))}if(Li(onBeforeMount,ei),Li(onMounted,ti),Li(onBeforeUpdate,ii),Li(onUpdated,ri),Li(onActivated,si),Li(onDeactivated,ui),Li(onErrorCaptured,mi),Li(onRenderTracked,di),Li(onRenderTriggered,fi),Li(onBeforeUnmount,oi),Li(onUnmounted,ci),Li(onServerPrefetch,pi),isArray$1(wi))if(wi.length){const Bi=Ve.exposed||(Ve.exposed={});wi.forEach(Pi=>{Object.defineProperty(Bi,Pi,{get:()=>ze[Pi],set:Ri=>ze[Pi]=Ri})})}else Ve.exposed||(Ve.exposed={});hi&&Ve.render===NOOP&&(Ve.render=hi),gi!=null&&(Ve.inheritAttrs=gi),yi&&(Ve.components=yi),Ai&&(Ve.directives=Ai)}function resolveInjections(Ve,je,ze=NOOP){isArray$1(Ve)&&(Ve=normalizeInject(Ve));for(const qe in Ve){const Xe=Ve[qe];let Ye;isObject(Xe)?"default"in Xe?Ye=inject(Xe.from||qe,Xe.default,!0):Ye=inject(Xe.from||qe):Ye=inject(Xe),isRef(Ye)?Object.defineProperty(je,qe,{enumerable:!0,configurable:!0,get:()=>Ye.value,set:Ke=>Ye.value=Ke}):je[qe]=Ye}}function callHook$1(Ve,je,ze){callWithAsyncErrorHandling(isArray$1(Ve)?Ve.map(qe=>qe.bind(je.proxy)):Ve.bind(je.proxy),je,ze)}function createWatcher(Ve,je,ze,qe){const Xe=qe.includes(".")?createPathGetter(ze,qe):()=>ze[qe];if(isString(Ve)){const Ye=je[Ve];isFunction(Ye)&&watch(Xe,Ye)}else if(isFunction(Ve))watch(Xe,Ve.bind(ze));else if(isObject(Ve))if(isArray$1(Ve))Ve.forEach(Ye=>createWatcher(Ye,je,ze,qe));else{const Ye=isFunction(Ve.handler)?Ve.handler.bind(ze):je[Ve.handler];isFunction(Ye)&&watch(Xe,Ye,Ve)}}function resolveMergedOptions(Ve){const je=Ve.type,{mixins:ze,extends:qe}=je,{mixins:Xe,optionsCache:Ye,config:{optionMergeStrategies:Ke}}=Ve.appContext,Ze=Ye.get(je);let Qe;return Ze?Qe=Ze:!Xe.length&&!ze&&!qe?Qe=je:(Qe={},Xe.length&&Xe.forEach(Je=>mergeOptions(Qe,Je,Ke,!0)),mergeOptions(Qe,je,Ke)),isObject(je)&&Ye.set(je,Qe),Qe}function mergeOptions(Ve,je,ze,qe=!1){const{mixins:Xe,extends:Ye}=je;Ye&&mergeOptions(Ve,Ye,ze,!0),Xe&&Xe.forEach(Ke=>mergeOptions(Ve,Ke,ze,!0));for(const Ke in je)if(!(qe&&Ke==="expose")){const Ze=internalOptionMergeStrats[Ke]||ze&&ze[Ke];Ve[Ke]=Ze?Ze(Ve[Ke],je[Ke]):je[Ke]}return Ve}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(Ve,je){return je?Ve?function(){return extend$3(isFunction(Ve)?Ve.call(this,this):Ve,isFunction(je)?je.call(this,this):je)}:je:Ve}function mergeInject(Ve,je){return mergeObjectOptions(normalizeInject(Ve),normalizeInject(je))}function normalizeInject(Ve){if(isArray$1(Ve)){const je={};for(let ze=0;ze<Ve.length;ze++)je[Ve[ze]]=Ve[ze];return je}return Ve}function mergeAsArray(Ve,je){return Ve?[...new Set([].concat(Ve,je))]:je}function mergeObjectOptions(Ve,je){return Ve?extend$3(Object.create(null),Ve,je):je}function mergeEmitsOrPropsOptions(Ve,je){return Ve?isArray$1(Ve)&&isArray$1(je)?[...new Set([...Ve,...je])]:extend$3(Object.create(null),normalizePropsOrEmits(Ve),normalizePropsOrEmits(je??{})):je}function mergeWatchOptions(Ve,je){if(!Ve)return je;if(!je)return Ve;const ze=extend$3(Object.create(null),Ve);for(const qe in je)ze[qe]=mergeAsArray(Ve[qe],je[qe]);return ze}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(Ve,je){return function(qe,Xe=null){isFunction(qe)||(qe=extend$3({},qe)),Xe!=null&&!isObject(Xe)&&(Xe=null);const Ye=createAppContext(),Ke=new WeakSet;let Ze=!1;const Qe=Ye.app={_uid:uid$1++,_component:qe,_props:Xe,_container:null,_context:Ye,_instance:null,version:version$2,get config(){return Ye.config},set config(Je){},use(Je,...St){return Ke.has(Je)||(Je&&isFunction(Je.install)?(Ke.add(Je),Je.install(Qe,...St)):isFunction(Je)&&(Ke.add(Je),Je(Qe,...St))),Qe},mixin(Je){return Ye.mixins.includes(Je)||Ye.mixins.push(Je),Qe},component(Je,St){return St?(Ye.components[Je]=St,Qe):Ye.components[Je]},directive(Je,St){return St?(Ye.directives[Je]=St,Qe):Ye.directives[Je]},mount(Je,St,ei){if(!Ze){const ti=createVNode(qe,Xe);return ti.appContext=Ye,St&&je?je(ti,Je):Ve(ti,Je,ei),Ze=!0,Qe._container=Je,Je.__vue_app__=Qe,getExposeProxy(ti.component)||ti.component.proxy}},unmount(){Ze&&(Ve(null,Qe._container),delete Qe._container.__vue_app__)},provide(Je,St){return Ye.provides[Je]=St,Qe},runWithContext(Je){currentApp=Qe;try{return Je()}finally{currentApp=null}}};return Qe}}let currentApp=null;function provide(Ve,je){if(currentInstance){let ze=currentInstance.provides;const qe=currentInstance.parent&&currentInstance.parent.provides;qe===ze&&(ze=currentInstance.provides=Object.create(qe)),ze[Ve]=je}}function inject(Ve,je,ze=!1){const qe=currentInstance||currentRenderingInstance;if(qe||currentApp){const Xe=qe?qe.parent==null?qe.vnode.appContext&&qe.vnode.appContext.provides:qe.parent.provides:currentApp._context.provides;if(Xe&&Ve in Xe)return Xe[Ve];if(arguments.length>1)return ze&&isFunction(je)?je.call(qe&&qe.proxy):je}}function initProps(Ve,je,ze,qe=!1){const Xe={},Ye={};def(Ye,InternalObjectKey,1),Ve.propsDefaults=Object.create(null),setFullProps(Ve,je,Xe,Ye);for(const Ke in Ve.propsOptions[0])Ke in Xe||(Xe[Ke]=void 0);ze?Ve.props=qe?Xe:shallowReactive(Xe):Ve.type.props?Ve.props=Xe:Ve.props=Ye,Ve.attrs=Ye}function updateProps(Ve,je,ze,qe){const{props:Xe,attrs:Ye,vnode:{patchFlag:Ke}}=Ve,Ze=toRaw(Xe),[Qe]=Ve.propsOptions;let Je=!1;if((qe||Ke>0)&&!(Ke&16)){if(Ke&8){const St=Ve.vnode.dynamicProps;for(let ei=0;ei<St.length;ei++){let ti=St[ei];if(isEmitListener(Ve.emitsOptions,ti))continue;const ii=je[ti];if(Qe)if(hasOwn$2(Ye,ti))ii!==Ye[ti]&&(Ye[ti]=ii,Je=!0);else{const ri=camelize(ti);Xe[ri]=resolvePropValue(Qe,Ze,ri,ii,Ve,!1)}else ii!==Ye[ti]&&(Ye[ti]=ii,Je=!0)}}}else{setFullProps(Ve,je,Xe,Ye)&&(Je=!0);let St;for(const ei in Ze)(!je||!hasOwn$2(je,ei)&&((St=hyphenate(ei))===ei||!hasOwn$2(je,St)))&&(Qe?ze&&(ze[ei]!==void 0||ze[St]!==void 0)&&(Xe[ei]=resolvePropValue(Qe,Ze,ei,void 0,Ve,!0)):delete Xe[ei]);if(Ye!==Ze)for(const ei in Ye)(!je||!hasOwn$2(je,ei))&&(delete Ye[ei],Je=!0)}Je&&trigger(Ve,"set","$attrs")}function setFullProps(Ve,je,ze,qe){const[Xe,Ye]=Ve.propsOptions;let Ke=!1,Ze;if(je)for(let Qe in je){if(isReservedProp(Qe))continue;const Je=je[Qe];let St;Xe&&hasOwn$2(Xe,St=camelize(Qe))?!Ye||!Ye.includes(St)?ze[St]=Je:(Ze||(Ze={}))[St]=Je:isEmitListener(Ve.emitsOptions,Qe)||(!(Qe in qe)||Je!==qe[Qe])&&(qe[Qe]=Je,Ke=!0)}if(Ye){const Qe=toRaw(ze),Je=Ze||EMPTY_OBJ;for(let St=0;St<Ye.length;St++){const ei=Ye[St];ze[ei]=resolvePropValue(Xe,Qe,ei,Je[ei],Ve,!hasOwn$2(Je,ei))}}return Ke}function resolvePropValue(Ve,je,ze,qe,Xe,Ye){const Ke=Ve[ze];if(Ke!=null){const Ze=hasOwn$2(Ke,"default");if(Ze&&qe===void 0){const Qe=Ke.default;if(Ke.type!==Function&&!Ke.skipFactory&&isFunction(Qe)){const{propsDefaults:Je}=Xe;ze in Je?qe=Je[ze]:(setCurrentInstance(Xe),qe=Je[ze]=Qe.call(null,je),unsetCurrentInstance())}else qe=Qe}Ke[0]&&(Ye&&!Ze?qe=!1:Ke[1]&&(qe===""||qe===hyphenate(ze))&&(qe=!0))}return qe}function normalizePropsOptions(Ve,je,ze=!1){const qe=je.propsCache,Xe=qe.get(Ve);if(Xe)return Xe;const Ye=Ve.props,Ke={},Ze=[];let Qe=!1;if(!isFunction(Ve)){const St=ei=>{Qe=!0;const[ti,ii]=normalizePropsOptions(ei,je,!0);extend$3(Ke,ti),ii&&Ze.push(...ii)};!ze&&je.mixins.length&&je.mixins.forEach(St),Ve.extends&&St(Ve.extends),Ve.mixins&&Ve.mixins.forEach(St)}if(!Ye&&!Qe)return isObject(Ve)&&qe.set(Ve,EMPTY_ARR),EMPTY_ARR;if(isArray$1(Ye))for(let St=0;St<Ye.length;St++){const ei=camelize(Ye[St]);validatePropName(ei)&&(Ke[ei]=EMPTY_OBJ)}else if(Ye)for(const St in Ye){const ei=camelize(St);if(validatePropName(ei)){const ti=Ye[St],ii=Ke[ei]=isArray$1(ti)||isFunction(ti)?{type:ti}:extend$3({},ti);if(ii){const ri=getTypeIndex(Boolean,ii.type),si=getTypeIndex(String,ii.type);ii[0]=ri>-1,ii[1]=si<0||ri<si,(ri>-1||hasOwn$2(ii,"default"))&&Ze.push(ei)}}}const Je=[Ke,Ze];return isObject(Ve)&&qe.set(Ve,Je),Je}function validatePropName(Ve){return Ve[0]!=="$"}function getType$1(Ve){const je=Ve&&Ve.toString().match(/^\s*(function|class) (\w+)/);return je?je[2]:Ve===null?"null":""}function isSameType(Ve,je){return getType$1(Ve)===getType$1(je)}function getTypeIndex(Ve,je){return isArray$1(je)?je.findIndex(ze=>isSameType(ze,Ve)):isFunction(je)&&isSameType(je,Ve)?0:-1}const isInternalKey=Ve=>Ve[0]==="_"||Ve==="$stable",normalizeSlotValue=Ve=>isArray$1(Ve)?Ve.map(normalizeVNode):[normalizeVNode(Ve)],normalizeSlot=(Ve,je,ze)=>{if(je._n)return je;const qe=withCtx((...Xe)=>normalizeSlotValue(je(...Xe)),ze);return qe._c=!1,qe},normalizeObjectSlots=(Ve,je,ze)=>{const qe=Ve._ctx;for(const Xe in Ve){if(isInternalKey(Xe))continue;const Ye=Ve[Xe];if(isFunction(Ye))je[Xe]=normalizeSlot(Xe,Ye,qe);else if(Ye!=null){const Ke=normalizeSlotValue(Ye);je[Xe]=()=>Ke}}},normalizeVNodeSlots=(Ve,je)=>{const ze=normalizeSlotValue(je);Ve.slots.default=()=>ze},initSlots=(Ve,je)=>{if(Ve.vnode.shapeFlag&32){const ze=je._;ze?(Ve.slots=toRaw(je),def(je,"_",ze)):normalizeObjectSlots(je,Ve.slots={})}else Ve.slots={},je&&normalizeVNodeSlots(Ve,je);def(Ve.slots,InternalObjectKey,1)},updateSlots=(Ve,je,ze)=>{const{vnode:qe,slots:Xe}=Ve;let Ye=!0,Ke=EMPTY_OBJ;if(qe.shapeFlag&32){const Ze=je._;Ze?ze&&Ze===1?Ye=!1:(extend$3(Xe,je),!ze&&Ze===1&&delete Xe._):(Ye=!je.$stable,normalizeObjectSlots(je,Xe)),Ke=je}else je&&(normalizeVNodeSlots(Ve,je),Ke={default:1});if(Ye)for(const Ze in Xe)!isInternalKey(Ze)&&Ke[Ze]==null&&delete Xe[Ze]};function setRef(Ve,je,ze,qe,Xe=!1){if(isArray$1(Ve)){Ve.forEach((ti,ii)=>setRef(ti,je&&(isArray$1(je)?je[ii]:je),ze,qe,Xe));return}if(isAsyncWrapper(qe)&&!Xe)return;const Ye=qe.shapeFlag&4?getExposeProxy(qe.component)||qe.component.proxy:qe.el,Ke=Xe?null:Ye,{i:Ze,r:Qe}=Ve,Je=je&&je.r,St=Ze.refs===EMPTY_OBJ?Ze.refs={}:Ze.refs,ei=Ze.setupState;if(Je!=null&&Je!==Qe&&(isString(Je)?(St[Je]=null,hasOwn$2(ei,Je)&&(ei[Je]=null)):isRef(Je)&&(Je.value=null)),isFunction(Qe))callWithErrorHandling(Qe,Ze,12,[Ke,St]);else{const ti=isString(Qe),ii=isRef(Qe);if(ti||ii){const ri=()=>{if(Ve.f){const si=ti?hasOwn$2(ei,Qe)?ei[Qe]:St[Qe]:Qe.value;Xe?isArray$1(si)&&remove(si,Ye):isArray$1(si)?si.includes(Ye)||si.push(Ye):ti?(St[Qe]=[Ye],hasOwn$2(ei,Qe)&&(ei[Qe]=St[Qe])):(Qe.value=[Ye],Ve.k&&(St[Ve.k]=Qe.value))}else ti?(St[Qe]=Ke,hasOwn$2(ei,Qe)&&(ei[Qe]=Ke)):ii&&(Qe.value=Ke,Ve.k&&(St[Ve.k]=Ke))};Ke?(ri.id=-1,queuePostRenderEffect(ri,ze)):ri()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(Ve){return baseCreateRenderer(Ve)}function baseCreateRenderer(Ve,je){const ze=getGlobalThis();ze.__VUE__=!0;const{insert:qe,remove:Xe,patchProp:Ye,createElement:Ke,createText:Ze,createComment:Qe,setText:Je,setElementText:St,parentNode:ei,nextSibling:ti,setScopeId:ii=NOOP,insertStaticContent:ri}=Ve,si=(Ci,_i,Ii,Ni=null,Di=null,Ki=null,sn=!1,zi=null,on=!!_i.dynamicChildren)=>{if(Ci===_i)return;Ci&&!isSameVNodeType(Ci,_i)&&(Ni=tn(Ci),Ti(Ci,Di,Ki,!0),Ci=null),_i.patchFlag===-2&&(on=!1,_i.dynamicChildren=null);const{type:cn,ref:mn,shapeFlag:dn}=_i;switch(cn){case Text:ui(Ci,_i,Ii,Ni);break;case Comment:ai(Ci,_i,Ii,Ni);break;case Static:Ci==null&&oi(_i,Ii,Ni,sn);break;case Fragment:yi(Ci,_i,Ii,Ni,Di,Ki,sn,zi,on);break;default:dn&1?hi(Ci,_i,Ii,Ni,Di,Ki,sn,zi,on):dn&6?Ai(Ci,_i,Ii,Ni,Di,Ki,sn,zi,on):(dn&64||dn&128)&&cn.process(Ci,_i,Ii,Ni,Di,Ki,sn,zi,on,Qi)}mn!=null&&Di&&setRef(mn,Ci&&Ci.ref,Ki,_i||Ci,!_i)},ui=(Ci,_i,Ii,Ni)=>{if(Ci==null)qe(_i.el=Ze(_i.children),Ii,Ni);else{const Di=_i.el=Ci.el;_i.children!==Ci.children&&Je(Di,_i.children)}},ai=(Ci,_i,Ii,Ni)=>{Ci==null?qe(_i.el=Qe(_i.children||""),Ii,Ni):_i.el=Ci.el},oi=(Ci,_i,Ii,Ni)=>{[Ci.el,Ci.anchor]=ri(Ci.children,_i,Ii,Ni,Ci.el,Ci.anchor)},ni=({el:Ci,anchor:_i},Ii,Ni)=>{let Di;for(;Ci&&Ci!==_i;)Di=ti(Ci),qe(Ci,Ii,Ni),Ci=Di;qe(_i,Ii,Ni)},ci=({el:Ci,anchor:_i})=>{let Ii;for(;Ci&&Ci!==_i;)Ii=ti(Ci),Xe(Ci),Ci=Ii;Xe(_i)},hi=(Ci,_i,Ii,Ni,Di,Ki,sn,zi,on)=>{sn=sn||_i.type==="svg",Ci==null?di(_i,Ii,Ni,Di,Ki,sn,zi,on):pi(Ci,_i,Di,Ki,sn,zi,on)},di=(Ci,_i,Ii,Ni,Di,Ki,sn,zi)=>{let on,cn;const{type:mn,props:dn,shapeFlag:An,transition:pn,dirs:Mn}=Ci;if(on=Ci.el=Ke(Ci.type,Ki,dn&&dn.is,dn),An&8?St(on,Ci.children):An&16&&mi(Ci.children,on,null,Ni,Di,Ki&&mn!=="foreignObject",sn,zi),Mn&&invokeDirectiveHook(Ci,null,Ni,"created"),fi(on,Ci,Ci.scopeId,sn,Ni),dn){for(const On in dn)On!=="value"&&!isReservedProp(On)&&Ye(on,On,null,dn[On],Ki,Ci.children,Ni,Di,Wi);"value"in dn&&Ye(on,"value",null,dn.value),(cn=dn.onVnodeBeforeMount)&&invokeVNodeHook(cn,Ni,Ci)}Mn&&invokeDirectiveHook(Ci,null,Ni,"beforeMount");const Hi=needTransition(Di,pn);Hi&&pn.beforeEnter(on),qe(on,_i,Ii),((cn=dn&&dn.onVnodeMounted)||Hi||Mn)&&queuePostRenderEffect(()=>{cn&&invokeVNodeHook(cn,Ni,Ci),Hi&&pn.enter(on),Mn&&invokeDirectiveHook(Ci,null,Ni,"mounted")},Di)},fi=(Ci,_i,Ii,Ni,Di)=>{if(Ii&&ii(Ci,Ii),Ni)for(let Ki=0;Ki<Ni.length;Ki++)ii(Ci,Ni[Ki]);if(Di){let Ki=Di.subTree;if(_i===Ki){const sn=Di.vnode;fi(Ci,sn,sn.scopeId,sn.slotScopeIds,Di.parent)}}},mi=(Ci,_i,Ii,Ni,Di,Ki,sn,zi,on=0)=>{for(let cn=on;cn<Ci.length;cn++){const mn=Ci[cn]=zi?cloneIfMounted(Ci[cn]):normalizeVNode(Ci[cn]);si(null,mn,_i,Ii,Ni,Di,Ki,sn,zi)}},pi=(Ci,_i,Ii,Ni,Di,Ki,sn)=>{const zi=_i.el=Ci.el;let{patchFlag:on,dynamicChildren:cn,dirs:mn}=_i;on|=Ci.patchFlag&16;const dn=Ci.props||EMPTY_OBJ,An=_i.props||EMPTY_OBJ;let pn;Ii&&toggleRecurse(Ii,!1),(pn=An.onVnodeBeforeUpdate)&&invokeVNodeHook(pn,Ii,_i,Ci),mn&&invokeDirectiveHook(_i,Ci,Ii,"beforeUpdate"),Ii&&toggleRecurse(Ii,!0);const Mn=Di&&_i.type!=="foreignObject";if(cn?wi(Ci.dynamicChildren,cn,zi,Ii,Ni,Mn,Ki):sn||Pi(Ci,_i,zi,null,Ii,Ni,Mn,Ki,!1),on>0){if(on&16)gi(zi,_i,dn,An,Ii,Ni,Di);else if(on&2&&dn.class!==An.class&&Ye(zi,"class",null,An.class,Di),on&4&&Ye(zi,"style",dn.style,An.style,Di),on&8){const Hi=_i.dynamicProps;for(let On=0;On<Hi.length;On++){const wn=Hi[On],_n=dn[wn],an=An[wn];(an!==_n||wn==="value")&&Ye(zi,wn,_n,an,Di,Ci.children,Ii,Ni,Wi)}}on&1&&Ci.children!==_i.children&&St(zi,_i.children)}else!sn&&cn==null&&gi(zi,_i,dn,An,Ii,Ni,Di);((pn=An.onVnodeUpdated)||mn)&&queuePostRenderEffect(()=>{pn&&invokeVNodeHook(pn,Ii,_i,Ci),mn&&invokeDirectiveHook(_i,Ci,Ii,"updated")},Ni)},wi=(Ci,_i,Ii,Ni,Di,Ki,sn)=>{for(let zi=0;zi<_i.length;zi++){const on=Ci[zi],cn=_i[zi],mn=on.el&&(on.type===Fragment||!isSameVNodeType(on,cn)||on.shapeFlag&70)?ei(on.el):Ii;si(on,cn,mn,null,Ni,Di,Ki,sn,!0)}},gi=(Ci,_i,Ii,Ni,Di,Ki,sn)=>{if(Ii!==Ni){if(Ii!==EMPTY_OBJ)for(const zi in Ii)!isReservedProp(zi)&&!(zi in Ni)&&Ye(Ci,zi,Ii[zi],null,sn,_i.children,Di,Ki,Wi);for(const zi in Ni){if(isReservedProp(zi))continue;const on=Ni[zi],cn=Ii[zi];on!==cn&&zi!=="value"&&Ye(Ci,zi,cn,on,sn,_i.children,Di,Ki,Wi)}"value"in Ni&&Ye(Ci,"value",Ii.value,Ni.value)}},yi=(Ci,_i,Ii,Ni,Di,Ki,sn,zi,on)=>{const cn=_i.el=Ci?Ci.el:Ze(""),mn=_i.anchor=Ci?Ci.anchor:Ze("");let{patchFlag:dn,dynamicChildren:An,slotScopeIds:pn}=_i;pn&&(zi=zi?zi.concat(pn):pn),Ci==null?(qe(cn,Ii,Ni),qe(mn,Ii,Ni),mi(_i.children,Ii,mn,Di,Ki,sn,zi,on)):dn>0&&dn&64&&An&&Ci.dynamicChildren?(wi(Ci.dynamicChildren,An,Ii,Di,Ki,sn,zi),(_i.key!=null||Di&&_i===Di.subTree)&&traverseStaticChildren(Ci,_i,!0)):Pi(Ci,_i,Ii,mn,Di,Ki,sn,zi,on)},Ai=(Ci,_i,Ii,Ni,Di,Ki,sn,zi,on)=>{_i.slotScopeIds=zi,Ci==null?_i.shapeFlag&512?Di.ctx.activate(_i,Ii,Ni,sn,on):Si(_i,Ii,Ni,Di,Ki,sn,on):ki(Ci,_i,on)},Si=(Ci,_i,Ii,Ni,Di,Ki,sn)=>{const zi=Ci.component=createComponentInstance(Ci,Ni,Di);if(isKeepAlive(Ci)&&(zi.ctx.renderer=Qi),setupComponent(zi),zi.asyncDep){if(Di&&Di.registerDep(zi,Li),!Ci.el){const on=zi.subTree=createVNode(Comment);ai(null,on,_i,Ii)}return}Li(zi,Ci,_i,Ii,Di,Ki,sn)},ki=(Ci,_i,Ii)=>{const Ni=_i.component=Ci.component;if(shouldUpdateComponent(Ci,_i,Ii))if(Ni.asyncDep&&!Ni.asyncResolved){Bi(Ni,_i,Ii);return}else Ni.next=_i,invalidateJob(Ni.update),Ni.update();else _i.el=Ci.el,Ni.vnode=_i},Li=(Ci,_i,Ii,Ni,Di,Ki,sn)=>{const zi=()=>{if(Ci.isMounted){let{next:mn,bu:dn,u:An,parent:pn,vnode:Mn}=Ci,Hi=mn,On;toggleRecurse(Ci,!1),mn?(mn.el=Mn.el,Bi(Ci,mn,sn)):mn=Mn,dn&&invokeArrayFns(dn),(On=mn.props&&mn.props.onVnodeBeforeUpdate)&&invokeVNodeHook(On,pn,mn,Mn),toggleRecurse(Ci,!0);const wn=renderComponentRoot(Ci),_n=Ci.subTree;Ci.subTree=wn,si(_n,wn,ei(_n.el),tn(_n),Ci,Di,Ki),mn.el=wn.el,Hi===null&&updateHOCHostEl(Ci,wn.el),An&&queuePostRenderEffect(An,Di),(On=mn.props&&mn.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(On,pn,mn,Mn),Di)}else{let mn;const{el:dn,props:An}=_i,{bm:pn,m:Mn,parent:Hi}=Ci,On=isAsyncWrapper(_i);if(toggleRecurse(Ci,!1),pn&&invokeArrayFns(pn),!On&&(mn=An&&An.onVnodeBeforeMount)&&invokeVNodeHook(mn,Hi,_i),toggleRecurse(Ci,!0),dn&&bi){const wn=()=>{Ci.subTree=renderComponentRoot(Ci),bi(dn,Ci.subTree,Ci,Di,null)};On?_i.type.__asyncLoader().then(()=>!Ci.isUnmounted&&wn()):wn()}else{const wn=Ci.subTree=renderComponentRoot(Ci);si(null,wn,Ii,Ni,Ci,Di,Ki),_i.el=wn.el}if(Mn&&queuePostRenderEffect(Mn,Di),!On&&(mn=An&&An.onVnodeMounted)){const wn=_i;queuePostRenderEffect(()=>invokeVNodeHook(mn,Hi,wn),Di)}(_i.shapeFlag&256||Hi&&isAsyncWrapper(Hi.vnode)&&Hi.vnode.shapeFlag&256)&&Ci.a&&queuePostRenderEffect(Ci.a,Di),Ci.isMounted=!0,_i=Ii=Ni=null}},on=Ci.effect=new ReactiveEffect(zi,()=>queueJob(cn),Ci.scope),cn=Ci.update=()=>on.run();cn.id=Ci.uid,toggleRecurse(Ci,!0),cn()},Bi=(Ci,_i,Ii)=>{_i.component=Ci;const Ni=Ci.vnode.props;Ci.vnode=_i,Ci.next=null,updateProps(Ci,_i.props,Ni,Ii),updateSlots(Ci,_i.children,Ii),pauseTracking(),flushPreFlushCbs(Ci),resetTracking()},Pi=(Ci,_i,Ii,Ni,Di,Ki,sn,zi,on=!1)=>{const cn=Ci&&Ci.children,mn=Ci?Ci.shapeFlag:0,dn=_i.children,{patchFlag:An,shapeFlag:pn}=_i;if(An>0){if(An&128){Fi(cn,dn,Ii,Ni,Di,Ki,sn,zi,on);return}else if(An&256){Ri(cn,dn,Ii,Ni,Di,Ki,sn,zi,on);return}}pn&8?(mn&16&&Wi(cn,Di,Ki),dn!==cn&&St(Ii,dn)):mn&16?pn&16?Fi(cn,dn,Ii,Ni,Di,Ki,sn,zi,on):Wi(cn,Di,Ki,!0):(mn&8&&St(Ii,""),pn&16&&mi(dn,Ii,Ni,Di,Ki,sn,zi,on))},Ri=(Ci,_i,Ii,Ni,Di,Ki,sn,zi,on)=>{Ci=Ci||EMPTY_ARR,_i=_i||EMPTY_ARR;const cn=Ci.length,mn=_i.length,dn=Math.min(cn,mn);let An;for(An=0;An<dn;An++){const pn=_i[An]=on?cloneIfMounted(_i[An]):normalizeVNode(_i[An]);si(Ci[An],pn,Ii,null,Di,Ki,sn,zi,on)}cn>mn?Wi(Ci,Di,Ki,!0,!1,dn):mi(_i,Ii,Ni,Di,Ki,sn,zi,on,dn)},Fi=(Ci,_i,Ii,Ni,Di,Ki,sn,zi,on)=>{let cn=0;const mn=_i.length;let dn=Ci.length-1,An=mn-1;for(;cn<=dn&&cn<=An;){const pn=Ci[cn],Mn=_i[cn]=on?cloneIfMounted(_i[cn]):normalizeVNode(_i[cn]);if(isSameVNodeType(pn,Mn))si(pn,Mn,Ii,null,Di,Ki,sn,zi,on);else break;cn++}for(;cn<=dn&&cn<=An;){const pn=Ci[dn],Mn=_i[An]=on?cloneIfMounted(_i[An]):normalizeVNode(_i[An]);if(isSameVNodeType(pn,Mn))si(pn,Mn,Ii,null,Di,Ki,sn,zi,on);else break;dn--,An--}if(cn>dn){if(cn<=An){const pn=An+1,Mn=pn<mn?_i[pn].el:Ni;for(;cn<=An;)si(null,_i[cn]=on?cloneIfMounted(_i[cn]):normalizeVNode(_i[cn]),Ii,Mn,Di,Ki,sn,zi,on),cn++}}else if(cn>An)for(;cn<=dn;)Ti(Ci[cn],Di,Ki,!0),cn++;else{const pn=cn,Mn=cn,Hi=new Map;for(cn=Mn;cn<=An;cn++){const Fn=_i[cn]=on?cloneIfMounted(_i[cn]):normalizeVNode(_i[cn]);Fn.key!=null&&Hi.set(Fn.key,cn)}let On,wn=0;const _n=An-Mn+1;let an=!1,Cn=0;const Ln=new Array(_n);for(cn=0;cn<_n;cn++)Ln[cn]=0;for(cn=pn;cn<=dn;cn++){const Fn=Ci[cn];if(wn>=_n){Ti(Fn,Di,Ki,!0);continue}let Hn;if(Fn.key!=null)Hn=Hi.get(Fn.key);else for(On=Mn;On<=An;On++)if(Ln[On-Mn]===0&&isSameVNodeType(Fn,_i[On])){Hn=On;break}Hn===void 0?Ti(Fn,Di,Ki,!0):(Ln[Hn-Mn]=cn+1,Hn>=Cn?Cn=Hn:an=!0,si(Fn,_i[Hn],Ii,null,Di,Ki,sn,zi,on),wn++)}const Nn=an?getSequence(Ln):EMPTY_ARR;for(On=Nn.length-1,cn=_n-1;cn>=0;cn--){const Fn=Mn+cn,Hn=_i[Fn],zn=Fn+1<mn?_i[Fn+1].el:Ni;Ln[cn]===0?si(null,Hn,Ii,zn,Di,Ki,sn,zi,on):an&&(On<0||cn!==Nn[On]?Gi(Hn,Ii,zn,2):On--)}}},Gi=(Ci,_i,Ii,Ni,Di=null)=>{const{el:Ki,type:sn,transition:zi,children:on,shapeFlag:cn}=Ci;if(cn&6){Gi(Ci.component.subTree,_i,Ii,Ni);return}if(cn&128){Ci.suspense.move(_i,Ii,Ni);return}if(cn&64){sn.move(Ci,_i,Ii,Qi);return}if(sn===Fragment){qe(Ki,_i,Ii);for(let dn=0;dn<on.length;dn++)Gi(on[dn],_i,Ii,Ni);qe(Ci.anchor,_i,Ii);return}if(sn===Static){ni(Ci,_i,Ii);return}if(Ni!==2&&cn&1&&zi)if(Ni===0)zi.beforeEnter(Ki),qe(Ki,_i,Ii),queuePostRenderEffect(()=>zi.enter(Ki),Di);else{const{leave:dn,delayLeave:An,afterLeave:pn}=zi,Mn=()=>qe(Ki,_i,Ii),Hi=()=>{dn(Ki,()=>{Mn(),pn&&pn()})};An?An(Ki,Mn,Hi):Hi()}else qe(Ki,_i,Ii)},Ti=(Ci,_i,Ii,Ni=!1,Di=!1)=>{const{type:Ki,props:sn,ref:zi,children:on,dynamicChildren:cn,shapeFlag:mn,patchFlag:dn,dirs:An}=Ci;if(zi!=null&&setRef(zi,null,Ii,Ci,!0),mn&256){_i.ctx.deactivate(Ci);return}const pn=mn&1&&An,Mn=!isAsyncWrapper(Ci);let Hi;if(Mn&&(Hi=sn&&sn.onVnodeBeforeUnmount)&&invokeVNodeHook(Hi,_i,Ci),mn&6)$i(Ci.component,Ii,Ni);else{if(mn&128){Ci.suspense.unmount(Ii,Ni);return}pn&&invokeDirectiveHook(Ci,null,_i,"beforeUnmount"),mn&64?Ci.type.remove(Ci,_i,Ii,Di,Qi,Ni):cn&&(Ki!==Fragment||dn>0&&dn&64)?Wi(cn,_i,Ii,!1,!0):(Ki===Fragment&&dn&384||!Di&&mn&16)&&Wi(on,_i,Ii),Ni&&Vi(Ci)}(Mn&&(Hi=sn&&sn.onVnodeUnmounted)||pn)&&queuePostRenderEffect(()=>{Hi&&invokeVNodeHook(Hi,_i,Ci),pn&&invokeDirectiveHook(Ci,null,_i,"unmounted")},Ii)},Vi=Ci=>{const{type:_i,el:Ii,anchor:Ni,transition:Di}=Ci;if(_i===Fragment){Ui(Ii,Ni);return}if(_i===Static){ci(Ci);return}const Ki=()=>{Xe(Ii),Di&&!Di.persisted&&Di.afterLeave&&Di.afterLeave()};if(Ci.shapeFlag&1&&Di&&!Di.persisted){const{leave:sn,delayLeave:zi}=Di,on=()=>sn(Ii,Ki);zi?zi(Ci.el,Ki,on):on()}else Ki()},Ui=(Ci,_i)=>{let Ii;for(;Ci!==_i;)Ii=ti(Ci),Xe(Ci),Ci=Ii;Xe(_i)},$i=(Ci,_i,Ii)=>{const{bum:Ni,scope:Di,update:Ki,subTree:sn,um:zi}=Ci;Ni&&invokeArrayFns(Ni),Di.stop(),Ki&&(Ki.active=!1,Ti(sn,Ci,_i,Ii)),zi&&queuePostRenderEffect(zi,_i),queuePostRenderEffect(()=>{Ci.isUnmounted=!0},_i),_i&&_i.pendingBranch&&!_i.isUnmounted&&Ci.asyncDep&&!Ci.asyncResolved&&Ci.suspenseId===_i.pendingId&&(_i.deps--,_i.deps===0&&_i.resolve())},Wi=(Ci,_i,Ii,Ni=!1,Di=!1,Ki=0)=>{for(let sn=Ki;sn<Ci.length;sn++)Ti(Ci[sn],_i,Ii,Ni,Di)},tn=Ci=>Ci.shapeFlag&6?tn(Ci.component.subTree):Ci.shapeFlag&128?Ci.suspense.next():ti(Ci.anchor||Ci.el),nn=(Ci,_i,Ii)=>{Ci==null?_i._vnode&&Ti(_i._vnode,null,null,!0):si(_i._vnode||null,Ci,_i,null,null,null,Ii),flushPreFlushCbs(),flushPostFlushCbs(),_i._vnode=Ci},Qi={p:si,um:Ti,m:Gi,r:Vi,mt:Si,mc:mi,pc:Pi,pbc:wi,n:tn,o:Ve};let Ei,bi;return je&&([Ei,bi]=je(Qi)),{render:nn,hydrate:Ei,createApp:createAppAPI(nn,Ei)}}function toggleRecurse({effect:Ve,update:je},ze){Ve.allowRecurse=je.allowRecurse=ze}function needTransition(Ve,je){return(!Ve||Ve&&!Ve.pendingBranch)&&je&&!je.persisted}function traverseStaticChildren(Ve,je,ze=!1){const qe=Ve.children,Xe=je.children;if(isArray$1(qe)&&isArray$1(Xe))for(let Ye=0;Ye<qe.length;Ye++){const Ke=qe[Ye];let Ze=Xe[Ye];Ze.shapeFlag&1&&!Ze.dynamicChildren&&((Ze.patchFlag<=0||Ze.patchFlag===32)&&(Ze=Xe[Ye]=cloneIfMounted(Xe[Ye]),Ze.el=Ke.el),ze||traverseStaticChildren(Ke,Ze)),Ze.type===Text&&(Ze.el=Ke.el)}}function getSequence(Ve){const je=Ve.slice(),ze=[0];let qe,Xe,Ye,Ke,Ze;const Qe=Ve.length;for(qe=0;qe<Qe;qe++){const Je=Ve[qe];if(Je!==0){if(Xe=ze[ze.length-1],Ve[Xe]<Je){je[qe]=Xe,ze.push(qe);continue}for(Ye=0,Ke=ze.length-1;Ye<Ke;)Ze=Ye+Ke>>1,Ve[ze[Ze]]<Je?Ye=Ze+1:Ke=Ze;Je<Ve[ze[Ye]]&&(Ye>0&&(je[qe]=ze[Ye-1]),ze[Ye]=qe)}}for(Ye=ze.length,Ke=ze[Ye-1];Ye-- >0;)ze[Ye]=Ke,Ke=je[Ke];return ze}const isTeleport=Ve=>Ve.__isTeleport,Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(Ve=!1){blockStack.push(currentBlock=Ve?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(Ve){isBlockTreeEnabled+=Ve}function setupBlock(Ve){return Ve.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(Ve),Ve}function createElementBlock(Ve,je,ze,qe,Xe,Ye){return setupBlock(createBaseVNode(Ve,je,ze,qe,Xe,Ye,!0))}function createBlock(Ve,je,ze,qe,Xe){return setupBlock(createVNode(Ve,je,ze,qe,Xe,!0))}function isVNode(Ve){return Ve?Ve.__v_isVNode===!0:!1}function isSameVNodeType(Ve,je){return Ve.type===je.type&&Ve.key===je.key}const InternalObjectKey="__vInternal",normalizeKey=({key:Ve})=>Ve??null,normalizeRef=({ref:Ve,ref_key:je,ref_for:ze})=>(typeof Ve=="number"&&(Ve=""+Ve),Ve!=null?isString(Ve)||isRef(Ve)||isFunction(Ve)?{i:currentRenderingInstance,r:Ve,k:je,f:!!ze}:Ve:null);function createBaseVNode(Ve,je=null,ze=null,qe=0,Xe=null,Ye=Ve===Fragment?0:1,Ke=!1,Ze=!1){const Qe={__v_isVNode:!0,__v_skip:!0,type:Ve,props:je,key:je&&normalizeKey(je),ref:je&&normalizeRef(je),scopeId:currentScopeId,slotScopeIds:null,children:ze,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:Ye,patchFlag:qe,dynamicProps:Xe,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return Ze?(normalizeChildren(Qe,ze),Ye&128&&Ve.normalize(Qe)):ze&&(Qe.shapeFlag|=isString(ze)?8:16),isBlockTreeEnabled>0&&!Ke&&currentBlock&&(Qe.patchFlag>0||Ye&6)&&Qe.patchFlag!==32&&currentBlock.push(Qe),Qe}const createVNode=_createVNode;function _createVNode(Ve,je=null,ze=null,qe=0,Xe=null,Ye=!1){if((!Ve||Ve===NULL_DYNAMIC_COMPONENT)&&(Ve=Comment),isVNode(Ve)){const Ze=cloneVNode(Ve,je,!0);return ze&&normalizeChildren(Ze,ze),isBlockTreeEnabled>0&&!Ye&&currentBlock&&(Ze.shapeFlag&6?currentBlock[currentBlock.indexOf(Ve)]=Ze:currentBlock.push(Ze)),Ze.patchFlag|=-2,Ze}if(isClassComponent(Ve)&&(Ve=Ve.__vccOpts),je){je=guardReactiveProps(je);let{class:Ze,style:Qe}=je;Ze&&!isString(Ze)&&(je.class=normalizeClass(Ze)),isObject(Qe)&&(isProxy(Qe)&&!isArray$1(Qe)&&(Qe=extend$3({},Qe)),je.style=normalizeStyle(Qe))}const Ke=isString(Ve)?1:isSuspense(Ve)?128:isTeleport(Ve)?64:isObject(Ve)?4:isFunction(Ve)?2:0;return createBaseVNode(Ve,je,ze,qe,Xe,Ke,Ye,!0)}function guardReactiveProps(Ve){return Ve?isProxy(Ve)||InternalObjectKey in Ve?extend$3({},Ve):Ve:null}function cloneVNode(Ve,je,ze=!1){const{props:qe,ref:Xe,patchFlag:Ye,children:Ke}=Ve,Ze=je?mergeProps(qe||{},je):qe;return{__v_isVNode:!0,__v_skip:!0,type:Ve.type,props:Ze,key:Ze&&normalizeKey(Ze),ref:je&&je.ref?ze&&Xe?isArray$1(Xe)?Xe.concat(normalizeRef(je)):[Xe,normalizeRef(je)]:normalizeRef(je):Xe,scopeId:Ve.scopeId,slotScopeIds:Ve.slotScopeIds,children:Ke,target:Ve.target,targetAnchor:Ve.targetAnchor,staticCount:Ve.staticCount,shapeFlag:Ve.shapeFlag,patchFlag:je&&Ve.type!==Fragment?Ye===-1?16:Ye|16:Ye,dynamicProps:Ve.dynamicProps,dynamicChildren:Ve.dynamicChildren,appContext:Ve.appContext,dirs:Ve.dirs,transition:Ve.transition,component:Ve.component,suspense:Ve.suspense,ssContent:Ve.ssContent&&cloneVNode(Ve.ssContent),ssFallback:Ve.ssFallback&&cloneVNode(Ve.ssFallback),el:Ve.el,anchor:Ve.anchor,ctx:Ve.ctx,ce:Ve.ce}}function createTextVNode(Ve=" ",je=0){return createVNode(Text,null,Ve,je)}function createCommentVNode(Ve="",je=!1){return je?(openBlock(),createBlock(Comment,null,Ve)):createVNode(Comment,null,Ve)}function normalizeVNode(Ve){return Ve==null||typeof Ve=="boolean"?createVNode(Comment):isArray$1(Ve)?createVNode(Fragment,null,Ve.slice()):typeof Ve=="object"?cloneIfMounted(Ve):createVNode(Text,null,String(Ve))}function cloneIfMounted(Ve){return Ve.el===null&&Ve.patchFlag!==-1||Ve.memo?Ve:cloneVNode(Ve)}function normalizeChildren(Ve,je){let ze=0;const{shapeFlag:qe}=Ve;if(je==null)je=null;else if(isArray$1(je))ze=16;else if(typeof je=="object")if(qe&65){const Xe=je.default;Xe&&(Xe._c&&(Xe._d=!1),normalizeChildren(Ve,Xe()),Xe._c&&(Xe._d=!0));return}else{ze=32;const Xe=je._;!Xe&&!(InternalObjectKey in je)?je._ctx=currentRenderingInstance:Xe===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?je._=1:(je._=2,Ve.patchFlag|=1024))}else isFunction(je)?(je={default:je,_ctx:currentRenderingInstance},ze=32):(je=String(je),qe&64?(ze=16,je=[createTextVNode(je)]):ze=8);Ve.children=je,Ve.shapeFlag|=ze}function mergeProps(...Ve){const je={};for(let ze=0;ze<Ve.length;ze++){const qe=Ve[ze];for(const Xe in qe)if(Xe==="class")je.class!==qe.class&&(je.class=normalizeClass([je.class,qe.class]));else if(Xe==="style")je.style=normalizeStyle([je.style,qe.style]);else if(isOn(Xe)){const Ye=je[Xe],Ke=qe[Xe];Ke&&Ye!==Ke&&!(isArray$1(Ye)&&Ye.includes(Ke))&&(je[Xe]=Ye?[].concat(Ye,Ke):Ke)}else Xe!==""&&(je[Xe]=qe[Xe])}return je}function invokeVNodeHook(Ve,je,ze,qe=null){callWithAsyncErrorHandling(Ve,je,7,[ze,qe])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(Ve,je,ze){const qe=Ve.type,Xe=(je?je.appContext:Ve.appContext)||emptyAppContext,Ye={uid:uid++,vnode:Ve,type:qe,parent:je,appContext:Xe,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:je?je.provides:Object.create(Xe.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(qe,Xe),emitsOptions:normalizeEmitsOptions(qe,Xe),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:qe.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:ze,suspenseId:ze?ze.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return Ye.ctx={_:Ye},Ye.root=je?je.root:Ye,Ye.emit=emit.bind(null,Ye),Ve.ce&&Ve.ce(Ye),Ye}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,globalCurrentInstanceSetters,settersKey="__VUE_INSTANCE_SETTERS__";(globalCurrentInstanceSetters=getGlobalThis()[settersKey])||(globalCurrentInstanceSetters=getGlobalThis()[settersKey]=[]),globalCurrentInstanceSetters.push(Ve=>currentInstance=Ve),internalSetCurrentInstance=Ve=>{globalCurrentInstanceSetters.length>1?globalCurrentInstanceSetters.forEach(je=>je(Ve)):globalCurrentInstanceSetters[0](Ve)};const setCurrentInstance=Ve=>{internalSetCurrentInstance(Ve),Ve.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(Ve){return Ve.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(Ve,je=!1){isInSSRComponentSetup=je;const{props:ze,children:qe}=Ve.vnode,Xe=isStatefulComponent(Ve);initProps(Ve,ze,Xe,je),initSlots(Ve,qe);const Ye=Xe?setupStatefulComponent(Ve,je):void 0;return isInSSRComponentSetup=!1,Ye}function setupStatefulComponent(Ve,je){const ze=Ve.type;Ve.accessCache=Object.create(null),Ve.proxy=markRaw(new Proxy(Ve.ctx,PublicInstanceProxyHandlers));const{setup:qe}=ze;if(qe){const Xe=Ve.setupContext=qe.length>1?createSetupContext(Ve):null;setCurrentInstance(Ve),pauseTracking();const Ye=callWithErrorHandling(qe,Ve,0,[Ve.props,Xe]);if(resetTracking(),unsetCurrentInstance(),isPromise(Ye)){if(Ye.then(unsetCurrentInstance,unsetCurrentInstance),je)return Ye.then(Ke=>{handleSetupResult(Ve,Ke,je)}).catch(Ke=>{handleError(Ke,Ve,0)});Ve.asyncDep=Ye}else handleSetupResult(Ve,Ye,je)}else finishComponentSetup(Ve,je)}function handleSetupResult(Ve,je,ze){isFunction(je)?Ve.type.__ssrInlineRender?Ve.ssrRender=je:Ve.render=je:isObject(je)&&(Ve.setupState=proxyRefs(je)),finishComponentSetup(Ve,ze)}let compile;function finishComponentSetup(Ve,je,ze){const qe=Ve.type;if(!Ve.render){if(!je&&compile&&!qe.render){const Xe=qe.template||resolveMergedOptions(Ve).template;if(Xe){const{isCustomElement:Ye,compilerOptions:Ke}=Ve.appContext.config,{delimiters:Ze,compilerOptions:Qe}=qe,Je=extend$3(extend$3({isCustomElement:Ye,delimiters:Ze},Ke),Qe);qe.render=compile(Xe,Je)}}Ve.render=qe.render||NOOP}{setCurrentInstance(Ve),pauseTracking();try{applyOptions(Ve)}finally{resetTracking(),unsetCurrentInstance()}}}function getAttrsProxy(Ve){return Ve.attrsProxy||(Ve.attrsProxy=new Proxy(Ve.attrs,{get(je,ze){return track(Ve,"get","$attrs"),je[ze]}}))}function createSetupContext(Ve){const je=ze=>{Ve.exposed=ze||{}};return{get attrs(){return getAttrsProxy(Ve)},slots:Ve.slots,emit:Ve.emit,expose:je}}function getExposeProxy(Ve){if(Ve.exposed)return Ve.exposeProxy||(Ve.exposeProxy=new Proxy(proxyRefs(markRaw(Ve.exposed)),{get(je,ze){if(ze in je)return je[ze];if(ze in publicPropertiesMap)return publicPropertiesMap[ze](Ve)},has(je,ze){return ze in je||ze in publicPropertiesMap}}))}function isClassComponent(Ve){return isFunction(Ve)&&"__vccOpts"in Ve}const computed=(Ve,je)=>computed$1(Ve,je,isInSSRComponentSetup);function h$2(Ve,je,ze){const qe=arguments.length;return qe===2?isObject(je)&&!isArray$1(je)?isVNode(je)?createVNode(Ve,null,[je]):createVNode(Ve,je):createVNode(Ve,null,je):(qe>3?ze=Array.prototype.slice.call(arguments,2):qe===3&&isVNode(ze)&&(ze=[ze]),createVNode(Ve,je,ze))}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey),version$2="3.3.13",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(Ve,je,ze)=>{je.insertBefore(Ve,ze||null)},remove:Ve=>{const je=Ve.parentNode;je&&je.removeChild(Ve)},createElement:(Ve,je,ze,qe)=>{const Xe=je?doc.createElementNS(svgNS,Ve):doc.createElement(Ve,ze?{is:ze}:void 0);return Ve==="select"&&qe&&qe.multiple!=null&&Xe.setAttribute("multiple",qe.multiple),Xe},createText:Ve=>doc.createTextNode(Ve),createComment:Ve=>doc.createComment(Ve),setText:(Ve,je)=>{Ve.nodeValue=je},setElementText:(Ve,je)=>{Ve.textContent=je},parentNode:Ve=>Ve.parentNode,nextSibling:Ve=>Ve.nextSibling,querySelector:Ve=>doc.querySelector(Ve),setScopeId(Ve,je){Ve.setAttribute(je,"")},insertStaticContent(Ve,je,ze,qe,Xe,Ye){const Ke=ze?ze.previousSibling:je.lastChild;if(Xe&&(Xe===Ye||Xe.nextSibling))for(;je.insertBefore(Xe.cloneNode(!0),ze),!(Xe===Ye||!(Xe=Xe.nextSibling)););else{templateContainer.innerHTML=qe?`<svg>${Ve}</svg>`:Ve;const Ze=templateContainer.content;if(qe){const Qe=Ze.firstChild;for(;Qe.firstChild;)Ze.appendChild(Qe.firstChild);Ze.removeChild(Qe)}je.insertBefore(Ze,ze)}return[Ke?Ke.nextSibling:je.firstChild,ze?ze.previousSibling:je.lastChild]}},TRANSITION="transition",ANIMATION="animation",vtcKey=Symbol("_vtc"),Transition=(Ve,{slots:je})=>h$2(BaseTransition,resolveTransitionProps(Ve),je);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Transition.props=extend$3({},BaseTransitionPropsValidators,DOMTransitionPropsValidators);const callHook=(Ve,je=[])=>{isArray$1(Ve)?Ve.forEach(ze=>ze(...je)):Ve&&Ve(...je)},hasExplicitCallback=Ve=>Ve?isArray$1(Ve)?Ve.some(je=>je.length>1):Ve.length>1:!1;function resolveTransitionProps(Ve){const je={};for(const yi in Ve)yi in DOMTransitionPropsValidators||(je[yi]=Ve[yi]);if(Ve.css===!1)return je;const{name:ze="v",type:qe,duration:Xe,enterFromClass:Ye=`${ze}-enter-from`,enterActiveClass:Ke=`${ze}-enter-active`,enterToClass:Ze=`${ze}-enter-to`,appearFromClass:Qe=Ye,appearActiveClass:Je=Ke,appearToClass:St=Ze,leaveFromClass:ei=`${ze}-leave-from`,leaveActiveClass:ti=`${ze}-leave-active`,leaveToClass:ii=`${ze}-leave-to`}=Ve,ri=normalizeDuration(Xe),si=ri&&ri[0],ui=ri&&ri[1],{onBeforeEnter:ai,onEnter:oi,onEnterCancelled:ni,onLeave:ci,onLeaveCancelled:hi,onBeforeAppear:di=ai,onAppear:fi=oi,onAppearCancelled:mi=ni}=je,pi=(yi,Ai,Si)=>{removeTransitionClass(yi,Ai?St:Ze),removeTransitionClass(yi,Ai?Je:Ke),Si&&Si()},wi=(yi,Ai)=>{yi._isLeaving=!1,removeTransitionClass(yi,ei),removeTransitionClass(yi,ii),removeTransitionClass(yi,ti),Ai&&Ai()},gi=yi=>(Ai,Si)=>{const ki=yi?fi:oi,Li=()=>pi(Ai,yi,Si);callHook(ki,[Ai,Li]),nextFrame(()=>{removeTransitionClass(Ai,yi?Qe:Ye),addTransitionClass(Ai,yi?St:Ze),hasExplicitCallback(ki)||whenTransitionEnds(Ai,qe,si,Li)})};return extend$3(je,{onBeforeEnter(yi){callHook(ai,[yi]),addTransitionClass(yi,Ye),addTransitionClass(yi,Ke)},onBeforeAppear(yi){callHook(di,[yi]),addTransitionClass(yi,Qe),addTransitionClass(yi,Je)},onEnter:gi(!1),onAppear:gi(!0),onLeave(yi,Ai){yi._isLeaving=!0;const Si=()=>wi(yi,Ai);addTransitionClass(yi,ei),forceReflow(),addTransitionClass(yi,ti),nextFrame(()=>{yi._isLeaving&&(removeTransitionClass(yi,ei),addTransitionClass(yi,ii),hasExplicitCallback(ci)||whenTransitionEnds(yi,qe,ui,Si))}),callHook(ci,[yi,Si])},onEnterCancelled(yi){pi(yi,!1),callHook(ni,[yi])},onAppearCancelled(yi){pi(yi,!0),callHook(mi,[yi])},onLeaveCancelled(yi){wi(yi),callHook(hi,[yi])}})}function normalizeDuration(Ve){if(Ve==null)return null;if(isObject(Ve))return[NumberOf(Ve.enter),NumberOf(Ve.leave)];{const je=NumberOf(Ve);return[je,je]}}function NumberOf(Ve){return toNumber(Ve)}function addTransitionClass(Ve,je){je.split(/\s+/).forEach(ze=>ze&&Ve.classList.add(ze)),(Ve[vtcKey]||(Ve[vtcKey]=new Set)).add(je)}function removeTransitionClass(Ve,je){je.split(/\s+/).forEach(qe=>qe&&Ve.classList.remove(qe));const ze=Ve[vtcKey];ze&&(ze.delete(je),ze.size||(Ve[vtcKey]=void 0))}function nextFrame(Ve){requestAnimationFrame(()=>{requestAnimationFrame(Ve)})}let endId=0;function whenTransitionEnds(Ve,je,ze,qe){const Xe=Ve._endId=++endId,Ye=()=>{Xe===Ve._endId&&qe()};if(ze)return setTimeout(Ye,ze);const{type:Ke,timeout:Ze,propCount:Qe}=getTransitionInfo(Ve,je);if(!Ke)return qe();const Je=Ke+"end";let St=0;const ei=()=>{Ve.removeEventListener(Je,ti),Ye()},ti=ii=>{ii.target===Ve&&++St>=Qe&&ei()};setTimeout(()=>{St<Qe&&ei()},Ze+1),Ve.addEventListener(Je,ti)}function getTransitionInfo(Ve,je){const ze=window.getComputedStyle(Ve),qe=ri=>(ze[ri]||"").split(", "),Xe=qe(`${TRANSITION}Delay`),Ye=qe(`${TRANSITION}Duration`),Ke=getTimeout(Xe,Ye),Ze=qe(`${ANIMATION}Delay`),Qe=qe(`${ANIMATION}Duration`),Je=getTimeout(Ze,Qe);let St=null,ei=0,ti=0;je===TRANSITION?Ke>0&&(St=TRANSITION,ei=Ke,ti=Ye.length):je===ANIMATION?Je>0&&(St=ANIMATION,ei=Je,ti=Qe.length):(ei=Math.max(Ke,Je),St=ei>0?Ke>Je?TRANSITION:ANIMATION:null,ti=St?St===TRANSITION?Ye.length:Qe.length:0);const ii=St===TRANSITION&&/\b(transform|all)(,|$)/.test(qe(`${TRANSITION}Property`).toString());return{type:St,timeout:ei,propCount:ti,hasTransform:ii}}function getTimeout(Ve,je){for(;Ve.length<je.length;)Ve=Ve.concat(Ve);return Math.max(...je.map((ze,qe)=>toMs(ze)+toMs(Ve[qe])))}function toMs(Ve){return Ve==="auto"?0:Number(Ve.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}function patchClass(Ve,je,ze){const qe=Ve[vtcKey];qe&&(je=(je?[je,...qe]:[...qe]).join(" ")),je==null?Ve.removeAttribute("class"):ze?Ve.setAttribute("class",je):Ve.className=je}const vShowOldKey=Symbol("_vod"),vShow={beforeMount(Ve,{value:je},{transition:ze}){Ve[vShowOldKey]=Ve.style.display==="none"?"":Ve.style.display,ze&&je?ze.beforeEnter(Ve):setDisplay(Ve,je)},mounted(Ve,{value:je},{transition:ze}){ze&&je&&ze.enter(Ve)},updated(Ve,{value:je,oldValue:ze},{transition:qe}){!je!=!ze&&(qe?je?(qe.beforeEnter(Ve),setDisplay(Ve,!0),qe.enter(Ve)):qe.leave(Ve,()=>{setDisplay(Ve,!1)}):setDisplay(Ve,je))},beforeUnmount(Ve,{value:je}){setDisplay(Ve,je)}};function setDisplay(Ve,je){Ve.style.display=je?Ve[vShowOldKey]:"none"}const CSS_VAR_TEXT=Symbol("");function patchStyle(Ve,je,ze){const qe=Ve.style,Xe=isString(ze);if(ze&&!Xe){if(je&&!isString(je))for(const Ye in je)ze[Ye]==null&&setStyle(qe,Ye,"");for(const Ye in ze)setStyle(qe,Ye,ze[Ye])}else{const Ye=qe.display;if(Xe){if(je!==ze){const Ke=qe[CSS_VAR_TEXT];Ke&&(ze+=";"+Ke),qe.cssText=ze}}else je&&Ve.removeAttribute("style");vShowOldKey in Ve&&(qe.display=Ye)}}const importantRE=/\s*!important$/;function setStyle(Ve,je,ze){if(isArray$1(ze))ze.forEach(qe=>setStyle(Ve,je,qe));else if(ze==null&&(ze=""),je.startsWith("--"))Ve.setProperty(je,ze);else{const qe=autoPrefix(Ve,je);importantRE.test(ze)?Ve.setProperty(hyphenate(qe),ze.replace(importantRE,""),"important"):Ve[qe]=ze}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(Ve,je){const ze=prefixCache[je];if(ze)return ze;let qe=camelize(je);if(qe!=="filter"&&qe in Ve)return prefixCache[je]=qe;qe=capitalize(qe);for(let Xe=0;Xe<prefixes.length;Xe++){const Ye=prefixes[Xe]+qe;if(Ye in Ve)return prefixCache[je]=Ye}return je}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(Ve,je,ze,qe,Xe){if(qe&&je.startsWith("xlink:"))ze==null?Ve.removeAttributeNS(xlinkNS,je.slice(6,je.length)):Ve.setAttributeNS(xlinkNS,je,ze);else{const Ye=isSpecialBooleanAttr(je);ze==null||Ye&&!includeBooleanAttr(ze)?Ve.removeAttribute(je):Ve.setAttribute(je,Ye?"":ze)}}function patchDOMProp(Ve,je,ze,qe,Xe,Ye,Ke){if(je==="innerHTML"||je==="textContent"){qe&&Ke(qe,Xe,Ye),Ve[je]=ze??"";return}const Ze=Ve.tagName;if(je==="value"&&Ze!=="PROGRESS"&&!Ze.includes("-")){Ve._value=ze;const Je=Ze==="OPTION"?Ve.getAttribute("value"):Ve.value,St=ze??"";Je!==St&&(Ve.value=St),ze==null&&Ve.removeAttribute(je);return}let Qe=!1;if(ze===""||ze==null){const Je=typeof Ve[je];Je==="boolean"?ze=includeBooleanAttr(ze):ze==null&&Je==="string"?(ze="",Qe=!0):Je==="number"&&(ze=0,Qe=!0)}try{Ve[je]=ze}catch{}Qe&&Ve.removeAttribute(je)}function addEventListener(Ve,je,ze,qe){Ve.addEventListener(je,ze,qe)}function removeEventListener(Ve,je,ze,qe){Ve.removeEventListener(je,ze,qe)}const veiKey=Symbol("_vei");function patchEvent(Ve,je,ze,qe,Xe=null){const Ye=Ve[veiKey]||(Ve[veiKey]={}),Ke=Ye[je];if(qe&&Ke)Ke.value=qe;else{const[Ze,Qe]=parseName(je);if(qe){const Je=Ye[je]=createInvoker(qe,Xe);addEventListener(Ve,Ze,Je,Qe)}else Ke&&(removeEventListener(Ve,Ze,Ke,Qe),Ye[je]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(Ve){let je;if(optionsModifierRE.test(Ve)){je={};let qe;for(;qe=Ve.match(optionsModifierRE);)Ve=Ve.slice(0,Ve.length-qe[0].length),je[qe[0].toLowerCase()]=!0}return[Ve[2]===":"?Ve.slice(3):hyphenate(Ve.slice(2)),je]}let cachedNow=0;const p$4=Promise.resolve(),getNow=()=>cachedNow||(p$4.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(Ve,je){const ze=qe=>{if(!qe._vts)qe._vts=Date.now();else if(qe._vts<=ze.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(qe,ze.value),je,5,[qe])};return ze.value=Ve,ze.attached=getNow(),ze}function patchStopImmediatePropagation(Ve,je){if(isArray$1(je)){const ze=Ve.stopImmediatePropagation;return Ve.stopImmediatePropagation=()=>{ze.call(Ve),Ve._stopped=!0},je.map(qe=>Xe=>!Xe._stopped&&qe&&qe(Xe))}else return je}const isNativeOn=Ve=>Ve.charCodeAt(0)===111&&Ve.charCodeAt(1)===110&&Ve.charCodeAt(2)>96&&Ve.charCodeAt(2)<123,patchProp=(Ve,je,ze,qe,Xe=!1,Ye,Ke,Ze,Qe)=>{je==="class"?patchClass(Ve,qe,Xe):je==="style"?patchStyle(Ve,ze,qe):isOn(je)?isModelListener(je)||patchEvent(Ve,je,ze,qe,Ke):(je[0]==="."?(je=je.slice(1),!0):je[0]==="^"?(je=je.slice(1),!1):shouldSetAsProp(Ve,je,qe,Xe))?patchDOMProp(Ve,je,qe,Ye,Ke,Ze,Qe):(je==="true-value"?Ve._trueValue=qe:je==="false-value"&&(Ve._falseValue=qe),patchAttr(Ve,je,qe,Xe))};function shouldSetAsProp(Ve,je,ze,qe){if(qe)return!!(je==="innerHTML"||je==="textContent"||je in Ve&&isNativeOn(je)&&isFunction(ze));if(je==="spellcheck"||je==="draggable"||je==="translate"||je==="form"||je==="list"&&Ve.tagName==="INPUT"||je==="type"&&Ve.tagName==="TEXTAREA")return!1;if(je==="width"||je==="height"){const Xe=Ve.tagName;if(Xe==="IMG"||Xe==="VIDEO"||Xe==="CANVAS"||Xe==="SOURCE")return!1}return isNativeOn(je)&&isString(ze)?!1:je in Ve}const getModelAssigner=Ve=>{const je=Ve.props["onUpdate:modelValue"]||!1;return isArray$1(je)?ze=>invokeArrayFns(je,ze):je};function onCompositionStart(Ve){Ve.target.composing=!0}function onCompositionEnd(Ve){const je=Ve.target;je.composing&&(je.composing=!1,je.dispatchEvent(new Event("input")))}const assignKey=Symbol("_assign"),vModelText={created(Ve,{modifiers:{lazy:je,trim:ze,number:qe}},Xe){Ve[assignKey]=getModelAssigner(Xe);const Ye=qe||Xe.props&&Xe.props.type==="number";addEventListener(Ve,je?"change":"input",Ke=>{if(Ke.target.composing)return;let Ze=Ve.value;ze&&(Ze=Ze.trim()),Ye&&(Ze=looseToNumber(Ze)),Ve[assignKey](Ze)}),ze&&addEventListener(Ve,"change",()=>{Ve.value=Ve.value.trim()}),je||(addEventListener(Ve,"compositionstart",onCompositionStart),addEventListener(Ve,"compositionend",onCompositionEnd),addEventListener(Ve,"change",onCompositionEnd))},mounted(Ve,{value:je}){Ve.value=je??""},beforeUpdate(Ve,{value:je,modifiers:{lazy:ze,trim:qe,number:Xe}},Ye){if(Ve[assignKey]=getModelAssigner(Ye),Ve.composing)return;const Ke=Xe||Ve.type==="number"?looseToNumber(Ve.value):Ve.value,Ze=je??"";Ke!==Ze&&(document.activeElement===Ve&&Ve.type!=="range"&&(ze||qe&&Ve.value.trim()===Ze)||(Ve.value=Ze))}},vModelCheckbox={deep:!0,created(Ve,je,ze){Ve[assignKey]=getModelAssigner(ze),addEventListener(Ve,"change",()=>{const qe=Ve._modelValue,Xe=getValue(Ve),Ye=Ve.checked,Ke=Ve[assignKey];if(isArray$1(qe)){const Ze=looseIndexOf(qe,Xe),Qe=Ze!==-1;if(Ye&&!Qe)Ke(qe.concat(Xe));else if(!Ye&&Qe){const Je=[...qe];Je.splice(Ze,1),Ke(Je)}}else if(isSet(qe)){const Ze=new Set(qe);Ye?Ze.add(Xe):Ze.delete(Xe),Ke(Ze)}else Ke(getCheckboxValue(Ve,Ye))})},mounted:setChecked,beforeUpdate(Ve,je,ze){Ve[assignKey]=getModelAssigner(ze),setChecked(Ve,je,ze)}};function setChecked(Ve,{value:je,oldValue:ze},qe){Ve._modelValue=je,isArray$1(je)?Ve.checked=looseIndexOf(je,qe.props.value)>-1:isSet(je)?Ve.checked=je.has(qe.props.value):je!==ze&&(Ve.checked=looseEqual(je,getCheckboxValue(Ve,!0)))}function getValue(Ve){return"_value"in Ve?Ve._value:Ve.value}function getCheckboxValue(Ve,je){const ze=je?"_trueValue":"_falseValue";return ze in Ve?Ve[ze]:je}const rendererOptions=extend$3({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...Ve)=>{const je=ensureRenderer().createApp(...Ve),{mount:ze}=je;return je.mount=qe=>{const Xe=normalizeContainer(qe);if(!Xe)return;const Ye=je._component;!isFunction(Ye)&&!Ye.render&&!Ye.template&&(Ye.template=Xe.innerHTML),Xe.innerHTML="";const Ke=ze(Xe,!1,Xe instanceof SVGElement);return Xe instanceof Element&&(Xe.removeAttribute("v-cloak"),Xe.setAttribute("data-v-app","")),Ke},je};function normalizeContainer(Ve){return isString(Ve)?document.querySelector(Ve):Ve}var Ge=Object.defineProperty,We=(Ve,je,ze)=>je in Ve?Ge(Ve,je,{enumerable:!0,configurable:!0,writable:!0,value:ze}):Ve[je]=ze,D$1=(Ve,je,ze)=>(We(Ve,typeof je!="symbol"?je+"":je,ze),ze),Le$1=(Ve,je,ze)=>{if(!je.has(Ve))throw TypeError("Cannot "+ze)},Wt$1=(Ve,je,ze)=>(Le$1(Ve,je,"read from private field"),ze?ze.call(Ve):je.get(Ve)),Be$1=(Ve,je,ze)=>{if(je.has(Ve))throw TypeError("Cannot add the same private member more than once");je instanceof WeakSet?je.add(Ve):je.set(Ve,ze)},ve$2=(Ve,je,ze,qe)=>(Le$1(Ve,je,"write to private field"),qe?qe.call(Ve,ze):je.set(Ve,ze),ze),Ue$1=(Ve,je,ze)=>(Le$1(Ve,je,"access private method"),ze),DayOfWeek=(Ve=>(Ve[Ve.Sunday=0]="Sunday",Ve[Ve.Monday=1]="Monday",Ve[Ve.Tuesday=2]="Tuesday",Ve[Ve.Wednesday=3]="Wednesday",Ve[Ve.Thursday=4]="Thursday",Ve[Ve.Friday=5]="Friday",Ve[Ve.Saturday=6]="Saturday",Ve))(DayOfWeek||{});function groupBy(Ve,je){return groupBy2(Ve,ze=>ze[je])}function groupBy2(Ve,je){return Ve.reduce((ze,qe)=>{const Xe=je(qe);let Ye=ze.get(Xe);return Ye?Ye.push(qe):(Ye=[qe],ze.set(Xe,Ye)),ze},new Map)}function indexOfAny(Ve,je,ze=0){for(let qe=ze;qe<Ve.length;qe++)if(je.includes(Ve[qe]))return qe;return-1}function sortArray(Ve,je){const ze=(qe,Xe,Ye,Ke)=>qe[Ye]>Xe[Ye]?Ke.toUpperCase()=="DESC"?-1:1:qe[Ye]<Xe[Ye]?Ke.toUpperCase()=="DESC"?1:-1:0;return[...Ve].sort((qe,Xe)=>{for(const Ye of je){const Ke=ze(qe,Xe,Ye[0],Ye[1]);if(Ke!==0)return Ke}return 0})}function create2DArray(Ve,je,ze){const qe=Array(Ve);for(let Xe=0;Xe<Ve;Xe++)qe[Xe]=new Array(je),ze!==void 0&&qe[Xe].fill(ze);return qe}function arrayRemoveFirst(Ve,je){const ze=Ve.indexOf(je);return ze>-1?(Ve.splice(ze,1),!0):!1}function arrayRemoveIf(Ve,je){let ze=0;for(let qe=Ve.length-1;qe>=0;qe--)je(Ve[qe])&&(Ve.splice(qe,1),ze++);return ze}function pushMany(Ve,je){for(let ze=0;ze<je.length;ze++)Ve.push(je[ze])}function getReversedCopy(Ve){if(!Ve||Ve.length===0)return[];const je=[];return pushMany(je,Ve),je.reverse()}function maxValueOfArray(Ve,...je){let ze=0;return Ve.length>=1e5?ze=Ve.reduce(function(qe,Xe){return Math.max(qe,Xe)}):ze=Math.max.apply(null,Ve),!je||je.length===0?ze:Math.max(ze,...je)}function minValueOfArray(Ve,...je){let ze=0;return Ve.length>=1e5?ze=Ve.reduce(function(qe,Xe){return Math.min(qe,Xe)}):ze=Math.min.apply(null,Ve),!je||je.length===0?ze:Math.min(ze,...je)}function arrayBufferToBase64(Ve){const je=Array.from(Ve,ze=>String.fromCharCode(ze));return btoa(je.join(""))}function getEnumName(Ve,je){return Ve[je]}function getEnumKeys(Ve){return Object.keys(Ve).filter(je=>typeof Ve[je]!="number").map(je=>Number(je))}const DateTime_MaxValue=new Date(9999,11,31,23,59,59,999),DateTime_MinValue=new Date(1,0,1,0,0,0,0);DateTime_MinValue.setUTCFullYear(1);DateTime_MinValue.setUTCMonth(0);DateTime_MinValue.setUTCDate(1);DateTime_MinValue.setUTCHours(0);DateTime_MinValue.setUTCMinutes(0);DateTime_MinValue.setUTCSeconds(0);DateTime_MinValue.setUTCMilliseconds(0);function formatTimeSpan(Ve,je){let ze="";if(je.includes("d")&&(ze+=Ve.days.toString().padStart(2,"0")+":"),je.includes("hh")&&(ze+=Ve.hours.toString().padStart(2,"0")+":"),je.includes("mm")&&(ze+=Ve.minutes.toString().padStart(2,"0")+":"),je.includes("ss")&&(ze+=Ve.seconds.toString().padStart(2,"0")),!ze)throw new Error("Invalid format");return ze}var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$1(Ve){return Ve&&Ve.__esModule&&Object.prototype.hasOwnProperty.call(Ve,"default")?Ve.default:Ve}function getAugmentedNamespace(Ve){if(Ve.__esModule)return Ve;var je=Ve.default;if(typeof je=="function"){var ze=function qe(){return this instanceof qe?Reflect.construct(je,arguments,this.constructor):je.apply(this,arguments)};ze.prototype=je.prototype}else ze={};return Object.defineProperty(ze,"__esModule",{value:!0}),Object.keys(Ve).forEach(function(qe){var Xe=Object.getOwnPropertyDescriptor(Ve,qe);Object.defineProperty(ze,qe,Xe.get?Xe:{enumerable:!0,get:function(){return Ve[qe]}})}),ze}var dayjs_min$1={exports:{}};(function(Ve,je){(function(ze,qe){Ve.exports=qe()})(commonjsGlobal$1,function(){var ze=1e3,qe=6e4,Xe=36e5,Ye="millisecond",Ke="second",Ze="minute",Qe="hour",Je="day",St="week",ei="month",ti="quarter",ii="year",ri="date",si="Invalid Date",ui=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,ai=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,oi={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Si){var ki=["th","st","nd","rd"],Li=Si%100;return"["+Si+(ki[(Li-20)%10]||ki[Li]||ki[0])+"]"}},ni=function(Si,ki,Li){var Bi=String(Si);return!Bi||Bi.length>=ki?Si:""+Array(ki+1-Bi.length).join(Li)+Si},ci={s:ni,z:function(Si){var ki=-Si.utcOffset(),Li=Math.abs(ki),Bi=Math.floor(Li/60),Pi=Li%60;return(ki<=0?"+":"-")+ni(Bi,2,"0")+":"+ni(Pi,2,"0")},m:function Si(ki,Li){if(ki.date()<Li.date())return-Si(Li,ki);var Bi=12*(Li.year()-ki.year())+(Li.month()-ki.month()),Pi=ki.clone().add(Bi,ei),Ri=Li-Pi<0,Fi=ki.clone().add(Bi+(Ri?-1:1),ei);return+(-(Bi+(Li-Pi)/(Ri?Pi-Fi:Fi-Pi))||0)},a:function(Si){return Si<0?Math.ceil(Si)||0:Math.floor(Si)},p:function(Si){return{M:ei,y:ii,w:St,d:Je,D:ri,h:Qe,m:Ze,s:Ke,ms:Ye,Q:ti}[Si]||String(Si||"").toLowerCase().replace(/s$/,"")},u:function(Si){return Si===void 0}},hi="en",di={};di[hi]=oi;var fi="$isDayjsObject",mi=function(Si){return Si instanceof yi||!(!Si||!Si[fi])},pi=function Si(ki,Li,Bi){var Pi;if(!ki)return hi;if(typeof ki=="string"){var Ri=ki.toLowerCase();di[Ri]&&(Pi=Ri),Li&&(di[Ri]=Li,Pi=Ri);var Fi=ki.split("-");if(!Pi&&Fi.length>1)return Si(Fi[0])}else{var Gi=ki.name;di[Gi]=ki,Pi=Gi}return!Bi&&Pi&&(hi=Pi),Pi||!Bi&&hi},wi=function(Si,ki){if(mi(Si))return Si.clone();var Li=typeof ki=="object"?ki:{};return Li.date=Si,Li.args=arguments,new yi(Li)},gi=ci;gi.l=pi,gi.i=mi,gi.w=function(Si,ki){return wi(Si,{locale:ki.$L,utc:ki.$u,x:ki.$x,$offset:ki.$offset})};var yi=function(){function Si(Li){this.$L=pi(Li.locale,null,!0),this.parse(Li),this.$x=this.$x||Li.x||{},this[fi]=!0}var ki=Si.prototype;return ki.parse=function(Li){this.$d=function(Bi){var Pi=Bi.date,Ri=Bi.utc;if(Pi===null)return new Date(NaN);if(gi.u(Pi))return new Date;if(Pi instanceof Date)return new Date(Pi);if(typeof Pi=="string"&&!/Z$/i.test(Pi)){var Fi=Pi.match(ui);if(Fi){var Gi=Fi[2]-1||0,Ti=(Fi[7]||"0").substring(0,3);return Ri?new Date(Date.UTC(Fi[1],Gi,Fi[3]||1,Fi[4]||0,Fi[5]||0,Fi[6]||0,Ti)):new Date(Fi[1],Gi,Fi[3]||1,Fi[4]||0,Fi[5]||0,Fi[6]||0,Ti)}}return new Date(Pi)}(Li),this.init()},ki.init=function(){var Li=this.$d;this.$y=Li.getFullYear(),this.$M=Li.getMonth(),this.$D=Li.getDate(),this.$W=Li.getDay(),this.$H=Li.getHours(),this.$m=Li.getMinutes(),this.$s=Li.getSeconds(),this.$ms=Li.getMilliseconds()},ki.$utils=function(){return gi},ki.isValid=function(){return this.$d.toString()!==si},ki.isSame=function(Li,Bi){var Pi=wi(Li);return this.startOf(Bi)<=Pi&&Pi<=this.endOf(Bi)},ki.isAfter=function(Li,Bi){return wi(Li)<this.startOf(Bi)},ki.isBefore=function(Li,Bi){return this.endOf(Bi)<wi(Li)},ki.$g=function(Li,Bi,Pi){return gi.u(Li)?this[Bi]:this.set(Pi,Li)},ki.unix=function(){return Math.floor(this.valueOf()/1e3)},ki.valueOf=function(){return this.$d.getTime()},ki.startOf=function(Li,Bi){var Pi=this,Ri=!!gi.u(Bi)||Bi,Fi=gi.p(Li),Gi=function(Qi,Ei){var bi=gi.w(Pi.$u?Date.UTC(Pi.$y,Ei,Qi):new Date(Pi.$y,Ei,Qi),Pi);return Ri?bi:bi.endOf(Je)},Ti=function(Qi,Ei){return gi.w(Pi.toDate()[Qi].apply(Pi.toDate("s"),(Ri?[0,0,0,0]:[23,59,59,999]).slice(Ei)),Pi)},Vi=this.$W,Ui=this.$M,$i=this.$D,Wi="set"+(this.$u?"UTC":"");switch(Fi){case ii:return Ri?Gi(1,0):Gi(31,11);case ei:return Ri?Gi(1,Ui):Gi(0,Ui+1);case St:var tn=this.$locale().weekStart||0,nn=(Vi<tn?Vi+7:Vi)-tn;return Gi(Ri?$i-nn:$i+(6-nn),Ui);case Je:case ri:return Ti(Wi+"Hours",0);case Qe:return Ti(Wi+"Minutes",1);case Ze:return Ti(Wi+"Seconds",2);case Ke:return Ti(Wi+"Milliseconds",3);default:return this.clone()}},ki.endOf=function(Li){return this.startOf(Li,!1)},ki.$set=function(Li,Bi){var Pi,Ri=gi.p(Li),Fi="set"+(this.$u?"UTC":""),Gi=(Pi={},Pi[Je]=Fi+"Date",Pi[ri]=Fi+"Date",Pi[ei]=Fi+"Month",Pi[ii]=Fi+"FullYear",Pi[Qe]=Fi+"Hours",Pi[Ze]=Fi+"Minutes",Pi[Ke]=Fi+"Seconds",Pi[Ye]=Fi+"Milliseconds",Pi)[Ri],Ti=Ri===Je?this.$D+(Bi-this.$W):Bi;if(Ri===ei||Ri===ii){var Vi=this.clone().set(ri,1);Vi.$d[Gi](Ti),Vi.init(),this.$d=Vi.set(ri,Math.min(this.$D,Vi.daysInMonth())).$d}else Gi&&this.$d[Gi](Ti);return this.init(),this},ki.set=function(Li,Bi){return this.clone().$set(Li,Bi)},ki.get=function(Li){return this[gi.p(Li)]()},ki.add=function(Li,Bi){var Pi,Ri=this;Li=Number(Li);var Fi=gi.p(Bi),Gi=function(Ui){var $i=wi(Ri);return gi.w($i.date($i.date()+Math.round(Ui*Li)),Ri)};if(Fi===ei)return this.set(ei,this.$M+Li);if(Fi===ii)return this.set(ii,this.$y+Li);if(Fi===Je)return Gi(1);if(Fi===St)return Gi(7);var Ti=(Pi={},Pi[Ze]=qe,Pi[Qe]=Xe,Pi[Ke]=ze,Pi)[Fi]||1,Vi=this.$d.getTime()+Li*Ti;return gi.w(Vi,this)},ki.subtract=function(Li,Bi){return this.add(-1*Li,Bi)},ki.format=function(Li){var Bi=this,Pi=this.$locale();if(!this.isValid())return Pi.invalidDate||si;var Ri=Li||"YYYY-MM-DDTHH:mm:ssZ",Fi=gi.z(this),Gi=this.$H,Ti=this.$m,Vi=this.$M,Ui=Pi.weekdays,$i=Pi.months,Wi=Pi.meridiem,tn=function(Ei,bi,Ci,_i){return Ei&&(Ei[bi]||Ei(Bi,Ri))||Ci[bi].slice(0,_i)},nn=function(Ei){return gi.s(Gi%12||12,Ei,"0")},Qi=Wi||function(Ei,bi,Ci){var _i=Ei<12?"AM":"PM";return Ci?_i.toLowerCase():_i};return Ri.replace(ai,function(Ei,bi){return bi||function(Ci){switch(Ci){case"YY":return String(Bi.$y).slice(-2);case"YYYY":return gi.s(Bi.$y,4,"0");case"M":return Vi+1;case"MM":return gi.s(Vi+1,2,"0");case"MMM":return tn(Pi.monthsShort,Vi,$i,3);case"MMMM":return tn($i,Vi);case"D":return Bi.$D;case"DD":return gi.s(Bi.$D,2,"0");case"d":return String(Bi.$W);case"dd":return tn(Pi.weekdaysMin,Bi.$W,Ui,2);case"ddd":return tn(Pi.weekdaysShort,Bi.$W,Ui,3);case"dddd":return Ui[Bi.$W];case"H":return String(Gi);case"HH":return gi.s(Gi,2,"0");case"h":return nn(1);case"hh":return nn(2);case"a":return Qi(Gi,Ti,!0);case"A":return Qi(Gi,Ti,!1);case"m":return String(Ti);case"mm":return gi.s(Ti,2,"0");case"s":return String(Bi.$s);case"ss":return gi.s(Bi.$s,2,"0");case"SSS":return gi.s(Bi.$ms,3,"0");case"Z":return Fi}return null}(Ei)||Fi.replace(":","")})},ki.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ki.diff=function(Li,Bi,Pi){var Ri,Fi=this,Gi=gi.p(Bi),Ti=wi(Li),Vi=(Ti.utcOffset()-this.utcOffset())*qe,Ui=this-Ti,$i=function(){return gi.m(Fi,Ti)};switch(Gi){case ii:Ri=$i()/12;break;case ei:Ri=$i();break;case ti:Ri=$i()/3;break;case St:Ri=(Ui-Vi)/6048e5;break;case Je:Ri=(Ui-Vi)/864e5;break;case Qe:Ri=Ui/Xe;break;case Ze:Ri=Ui/qe;break;case Ke:Ri=Ui/ze;break;default:Ri=Ui}return Pi?Ri:gi.a(Ri)},ki.daysInMonth=function(){return this.endOf(ei).$D},ki.$locale=function(){return di[this.$L]},ki.locale=function(Li,Bi){if(!Li)return this.$L;var Pi=this.clone(),Ri=pi(Li,Bi,!0);return Ri&&(Pi.$L=Ri),Pi},ki.clone=function(){return gi.w(this.$d,this)},ki.toDate=function(){return new Date(this.valueOf())},ki.toJSON=function(){return this.isValid()?this.toISOString():null},ki.toISOString=function(){return this.$d.toISOString()},ki.toString=function(){return this.$d.toUTCString()},Si}(),Ai=yi.prototype;return wi.prototype=Ai,[["$ms",Ye],["$s",Ke],["$m",Ze],["$H",Qe],["$W",Je],["$M",ei],["$y",ii],["$D",ri]].forEach(function(Si){Ai[Si[1]]=function(ki){return this.$g(ki,Si[0],Si[1])}}),wi.extend=function(Si,ki){return Si.$i||(Si(ki,yi,wi),Si.$i=!0),wi},wi.locale=pi,wi.isDayjs=mi,wi.unix=function(Si){return wi(1e3*Si)},wi.en=di[hi],wi.Ls=di,wi.p={},wi})})(dayjs_min$1);var dayjs_minExports$1=dayjs_min$1.exports;const dayjs$1=getDefaultExportFromCjs$1(dayjs_minExports$1);var utc$1={exports:{}};(function(Ve,je){(function(ze,qe){Ve.exports=qe()})(commonjsGlobal$1,function(){var ze="minute",qe=/[+-]\d\d(?::?\d\d)?/g,Xe=/([+-]|\d\d)/g;return function(Ye,Ke,Ze){var Qe=Ke.prototype;Ze.utc=function(si){var ui={date:si,utc:!0,args:arguments};return new Ke(ui)},Qe.utc=function(si){var ui=Ze(this.toDate(),{locale:this.$L,utc:!0});return si?ui.add(this.utcOffset(),ze):ui},Qe.local=function(){return Ze(this.toDate(),{locale:this.$L,utc:!1})};var Je=Qe.parse;Qe.parse=function(si){si.utc&&(this.$u=!0),this.$utils().u(si.$offset)||(this.$offset=si.$offset),Je.call(this,si)};var St=Qe.init;Qe.init=function(){if(this.$u){var si=this.$d;this.$y=si.getUTCFullYear(),this.$M=si.getUTCMonth(),this.$D=si.getUTCDate(),this.$W=si.getUTCDay(),this.$H=si.getUTCHours(),this.$m=si.getUTCMinutes(),this.$s=si.getUTCSeconds(),this.$ms=si.getUTCMilliseconds()}else St.call(this)};var ei=Qe.utcOffset;Qe.utcOffset=function(si,ui){var ai=this.$utils().u;if(ai(si))return this.$u?0:ai(this.$offset)?ei.call(this):this.$offset;if(typeof si=="string"&&(si=function(hi){hi===void 0&&(hi="");var di=hi.match(qe);if(!di)return null;var fi=(""+di[0]).match(Xe)||["-",0,0],mi=fi[0],pi=60*+fi[1]+ +fi[2];return pi===0?0:mi==="+"?pi:-pi}(si),si===null))return this;var oi=Math.abs(si)<=16?60*si:si,ni=this;if(ui)return ni.$offset=oi,ni.$u=si===0,ni;if(si!==0){var ci=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(ni=this.local().add(oi+ci,ze)).$offset=oi,ni.$x.$localOffset=ci}else ni=this.utc();return ni};var ti=Qe.format;Qe.format=function(si){var ui=si||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return ti.call(this,ui)},Qe.valueOf=function(){var si=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*si},Qe.isUTC=function(){return!!this.$u},Qe.toISOString=function(){return this.toDate().toISOString()},Qe.toString=function(){return this.toDate().toUTCString()};var ii=Qe.toDate;Qe.toDate=function(si){return si==="s"&&this.$offset?Ze(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():ii.call(this)};var ri=Qe.diff;Qe.diff=function(si,ui,ai){if(si&&this.$u===si.$u)return ri.call(this,si,ui,ai);var oi=this.local(),ni=Ze(si).local();return ri.call(oi,ni,ui,ai)}}})})(utc$1);var utcExports=utc$1.exports;const utc=getDefaultExportFromCjs$1(utcExports);var timezone$1={exports:{}};(function(Ve,je){(function(ze,qe){Ve.exports=qe()})(commonjsGlobal$1,function(){var ze={year:0,month:1,day:2,hour:3,minute:4,second:5},qe={};return function(Xe,Ye,Ke){var Ze,Qe=function(ti,ii,ri){ri===void 0&&(ri={});var si=new Date(ti),ui=function(ai,oi){oi===void 0&&(oi={});var ni=oi.timeZoneName||"short",ci=ai+"|"+ni,hi=qe[ci];return hi||(hi=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:ai,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:ni}),qe[ci]=hi),hi}(ii,ri);return ui.formatToParts(si)},Je=function(ti,ii){for(var ri=Qe(ti,ii),si=[],ui=0;ui<ri.length;ui+=1){var ai=ri[ui],oi=ai.type,ni=ai.value,ci=ze[oi];ci>=0&&(si[ci]=parseInt(ni,10))}var hi=si[3],di=hi===24?0:hi,fi=si[0]+"-"+si[1]+"-"+si[2]+" "+di+":"+si[4]+":"+si[5]+":000",mi=+ti;return(Ke.utc(fi).valueOf()-(mi-=mi%1e3))/6e4},St=Ye.prototype;St.tz=function(ti,ii){ti===void 0&&(ti=Ze);var ri=this.utcOffset(),si=this.toDate(),ui=si.toLocaleString("en-US",{timeZone:ti}),ai=Math.round((si-new Date(ui))/1e3/60),oi=Ke(ui,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(15*-Math.round(si.getTimezoneOffset()/15)-ai,!0);if(ii){var ni=oi.utcOffset();oi=oi.add(ri-ni,"minute")}return oi.$x.$timezone=ti,oi},St.offsetName=function(ti){var ii=this.$x.$timezone||Ke.tz.guess(),ri=Qe(this.valueOf(),ii,{timeZoneName:ti}).find(function(si){return si.type.toLowerCase()==="timezonename"});return ri&&ri.value};var ei=St.startOf;St.startOf=function(ti,ii){if(!this.$x||!this.$x.$timezone)return ei.call(this,ti,ii);var ri=Ke(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return ei.call(ri,ti,ii).tz(this.$x.$timezone,!0)},Ke.tz=function(ti,ii,ri){var si=ri&&ii,ui=ri||ii||Ze,ai=Je(+Ke(),ui);if(typeof ti!="string")return Ke(ti).tz(ui);var oi=function(di,fi,mi){var pi=di-60*fi*1e3,wi=Je(pi,mi);if(fi===wi)return[pi,fi];var gi=Je(pi-=60*(wi-fi)*1e3,mi);return wi===gi?[pi,wi]:[di-60*Math.min(wi,gi)*1e3,Math.max(wi,gi)]}(Ke.utc(ti,si).valueOf(),ai,ui),ni=oi[0],ci=oi[1],hi=Ke(ni).utcOffset(ci);return hi.$x.$timezone=ui,hi},Ke.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},Ke.tz.setDefault=function(ti){Ze=ti}}})})(timezone$1);var timezoneExports=timezone$1.exports;const timezone=getDefaultExportFromCjs$1(timezoneExports);function getDateService(){return DefaultDateService}dayjs$1.extend(utc);dayjs$1.extend(timezone);const DefaultDateService={format:(Ve,je)=>dayjs$1(Ve).format(je),convertTime:(Ve,je)=>dayjs$1(Ve).tz(je).toDate(),addYears:(Ve,je)=>dayjs$1(Ve).add(je,"year").toDate(),addMonths:(Ve,je)=>dayjs$1(Ve).add(je,"month").toDate(),addTimespan:(Ve,je)=>{let ze=dayjs$1(Ve);return je.days&&(ze=ze.add(je.days,"day")),je.hours&&(ze=ze.add(je.hours,"hour")),je.minutes&&(ze=ze.add(je.minutes,"minute")),je.seconds&&(ze=ze.add(je.seconds,"second")),je.milliseconds&&(ze=ze.add(je.milliseconds,"millisecond")),ze.toDate()},dayOfWeek:Ve=>dayjs$1(Ve).day(),diff:(Ve,je)=>{const ze=dayjs$1(Ve).diff(dayjs$1(je));return TimeSpan.fromMilliseconds(ze)}},bitMethods={getBit(Ve){return this.data[getSlot(Ve)]&1<<getShift(Ve)?1:0},setBit(Ve){this.data[getSlot(Ve)]|=1<<getShift(Ve)},clearBit(Ve){this.data[getSlot(Ve)]&=~(1<<getShift(Ve))},toggleBit(Ve){this.data[getSlot(Ve)]^=1<<getShift(Ve)},getBitXY(Ve,je){return Ve>=this.width||je>=this.height?0:this.getBit(je*this.width+Ve)},setBitXY(Ve,je){this.setBit(je*this.width+Ve)},clearBitXY(Ve,je){this.clearBit(je*this.width+Ve)},toggleBitXY(Ve,je){this.toggleBit(je*this.width+Ve)}};function getSlot(Ve){return Ve>>3}function getShift(Ve){return 7-(Ve&7)}function setBitMethods(Ve){for(const je in bitMethods)Ve.prototype[je]=bitMethods[je]}function checkProcessable(Ve,je={}){let{bitDepth:ze,alpha:qe,colorModel:Xe,components:Ye,channels:Ke}=je;if(typeof Ve!="string"||Ve.length===0)throw new TypeError("processName must be a string");if(ze&&(Array.isArray(ze)||(ze=[ze]),!ze.includes(this.bitDepth)))throw new TypeError(`The process: ${Ve} can only be applied if bit depth is in: ${ze}`);if(qe&&(Array.isArray(qe)||(qe=[qe]),!qe.includes(this.alpha)))throw new TypeError(`The process: ${Ve} can only be applied if alpha is in: ${qe}`);if(Xe&&(Array.isArray(Xe)||(Xe=[Xe]),!Xe.includes(this.colorModel)))throw new TypeError(`The process: ${Ve} can only be applied if color model is in: ${Xe}`);if(Ye&&(Array.isArray(Ye)||(Ye=[Ye]),!Ye.includes(this.components))){let Ze=`The process: ${Ve} can only be applied if the number of components is in: ${Ye}`;throw Ye.length===1&&Ye[0]===1?new TypeError(`${Ze}.\rYou should transform your image using "image.grey()" before applying the algorithm.`):new TypeError(Ze)}if(Ke&&(Array.isArray(Ke)||(Ke=[Ke]),!Ke.includes(this.channels)))throw new TypeError(`The process: ${Ve} can only be applied if the number of channels is in: ${Ke}`)}function createBlob(Ve,je){Ve=Ve||[],je=je||{},typeof je=="string"&&(je={type:je});try{return new Blob(Ve,je)}catch(Ye){if(Ye.name!=="TypeError")throw Ye;for(var ze=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,qe=new ze,Xe=0;Xe<Ve.length;Xe+=1)qe.append(Ve[Xe]);return qe.getBlob(je.type)}}function dataURLToBlob(Ve){var je=Ve.match(/data:([^;]+)/)[1],ze=Ve.replace(/^[^,]+,/,""),qe=binaryStringToArrayBuffer(atob(ze));return createBlob([qe],{type:je})}function canvasToBlob(Ve,je,ze){return typeof Ve.toBlob=="function"?new Promise(function(qe){Ve.toBlob(qe,je,ze)}):Promise.resolve(dataURLToBlob(Ve.toDataURL(je,ze)))}function binaryStringToArrayBuffer(Ve){for(var je=Ve.length,ze=new ArrayBuffer(je),qe=new Uint8Array(ze),Xe=-1;++Xe<je;)qe[Xe]=Ve.charCodeAt(Xe);return ze}(function(Ve){if(Ve.TextEncoder&&Ve.TextDecoder)return!1;function je(qe="utf-8"){if(qe!=="utf-8")throw new RangeError(`Failed to construct 'TextEncoder': The encoding label provided ('${qe}') is invalid.`)}Object.defineProperty(je.prototype,"encoding",{value:"utf-8"}),je.prototype.encode=function(qe,Xe={stream:!1}){if(Xe.stream)throw new Error("Failed to encode: the 'stream' option is unsupported.");let Ye=0;const Ke=qe.length;let Ze=0,Qe=Math.max(32,Ke+(Ke>>1)+7),Je=new Uint8Array(Qe>>3<<3);for(;Ye<Ke;){let St=qe.charCodeAt(Ye++);if(St>=55296&&St<=56319){if(Ye<Ke){const ei=qe.charCodeAt(Ye);(ei&64512)===56320&&(++Ye,St=((St&1023)<<10)+(ei&1023)+65536)}if(St>=55296&&St<=56319)continue}if(Ze+4>Je.length){Qe+=8,Qe*=1+Ye/qe.length*2,Qe=Qe>>3<<3;const ei=new Uint8Array(Qe);ei.set(Je),Je=ei}if(St&4294967168)if(!(St&4294965248))Je[Ze++]=St>>6&31|192;else if(!(St&4294901760))Je[Ze++]=St>>12&15|224,Je[Ze++]=St>>6&63|128;else if(!(St&4292870144))Je[Ze++]=St>>18&7|240,Je[Ze++]=St>>12&63|128,Je[Ze++]=St>>6&63|128;else continue;else{Je[Ze++]=St;continue}Je[Ze++]=St&63|128}return Je.slice(0,Ze)};function ze(qe="utf-8",Xe={fatal:!1}){if(qe!=="utf-8")throw new RangeError(`Failed to construct 'TextDecoder': The encoding label provided ('${qe}') is invalid.`);if(Xe.fatal)throw new Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}Object.defineProperty(ze.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(ze.prototype,"fatal",{value:!1}),Object.defineProperty(ze.prototype,"ignoreBOM",{value:!1}),ze.prototype.decode=function(qe,Xe={stream:!1}){if(Xe.stream)throw new Error("Failed to decode: the 'stream' option is unsupported.");const Ye=new Uint8Array(qe);let Ke=0;const Ze=Ye.length,Qe=[];for(;Ke<Ze;){const Je=Ye[Ke++];if(Je===0)break;if(!(Je&128))Qe.push(Je);else if((Je&224)===192){const St=Ye[Ke++]&63;Qe.push((Je&31)<<6|St)}else if((Je&240)===224){const St=Ye[Ke++]&63,ei=Ye[Ke++]&63;Qe.push((Je&31)<<12|St<<6|ei)}else if((Je&248)===240){const St=Ye[Ke++]&63,ei=Ye[Ke++]&63,ti=Ye[Ke++]&63;let ii=(Je&7)<<18|St<<12|ei<<6|ti;ii>65535&&(ii-=65536,Qe.push(ii>>>10&1023|55296),ii=56320|ii&1023),Qe.push(ii)}}return String.fromCharCode.apply(null,Qe)},Ve.TextEncoder=je,Ve.TextDecoder=ze})(typeof window<"u"?window:typeof self<"u"?self:void 0);function decode$5(Ve,je="utf8"){return new TextDecoder(je).decode(Ve)}const encoder$1=new TextEncoder;function encode$3(Ve){return encoder$1.encode(Ve)}const defaultByteLength$1=1024*8,hostBigEndian=(()=>{const Ve=new Uint8Array(4),je=new Uint32Array(Ve.buffer);return!((je[0]=1)&Ve[0])})(),typedArrays={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};let IOBuffer$4=class Ru{constructor(je=defaultByteLength$1,ze={}){let qe=!1;typeof je=="number"?je=new ArrayBuffer(je):(qe=!0,this.lastWrittenByte=je.byteLength);const Xe=ze.offset?ze.offset>>>0:0,Ye=je.byteLength-Xe;let Ke=Xe;(ArrayBuffer.isView(je)||je instanceof Ru)&&(je.byteLength!==je.buffer.byteLength&&(Ke=je.byteOffset+Xe),je=je.buffer),qe?this.lastWrittenByte=Ye:this.lastWrittenByte=0,this.buffer=je,this.length=Ye,this.byteLength=Ye,this.byteOffset=Ke,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,Ke,Ye),this._mark=0,this._marks=[]}available(je=1){return this.offset+je<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(je=1){return this.offset+=je,this}back(je=1){return this.offset-=je,this}seek(je){return this.offset=je,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const je=this._marks.pop();if(je===void 0)throw new Error("Mark stack empty");return this.seek(je),this}rewind(){return this.offset=0,this}ensureAvailable(je=1){if(!this.available(je)){const ze=(this.offset+je)*2,qe=new Uint8Array(ze);qe.set(new Uint8Array(this.buffer)),this.buffer=qe.buffer,this.length=this.byteLength=ze,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(je=1){return this.readArray(je,"uint8")}readArray(je,ze){const qe=typedArrays[ze].BYTES_PER_ELEMENT*je,Xe=this.byteOffset+this.offset,Ye=this.buffer.slice(Xe,Xe+qe);if(this.littleEndian===hostBigEndian&&ze!=="uint8"&&ze!=="int8"){const Ze=new Uint8Array(this.buffer.slice(Xe,Xe+qe));Ze.reverse();const Qe=new typedArrays[ze](Ze.buffer);return this.offset+=qe,Qe.reverse(),Qe}const Ke=new typedArrays[ze](Ye);return this.offset+=qe,Ke}readInt16(){const je=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,je}readUint16(){const je=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,je}readInt32(){const je=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,je}readUint32(){const je=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,je}readFloat32(){const je=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,je}readFloat64(){const je=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,je}readBigInt64(){const je=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,je}readBigUint64(){const je=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,je}readChar(){return String.fromCharCode(this.readInt8())}readChars(je=1){let ze="";for(let qe=0;qe<je;qe++)ze+=this.readChar();return ze}readUtf8(je=1){return decode$5(this.readBytes(je))}decodeText(je=1,ze="utf-8"){return decode$5(this.readBytes(je),ze)}writeBoolean(je){return this.writeUint8(je?255:0),this}writeInt8(je){return this.ensureAvailable(1),this._data.setInt8(this.offset++,je),this._updateLastWrittenByte(),this}writeUint8(je){return this.ensureAvailable(1),this._data.setUint8(this.offset++,je),this._updateLastWrittenByte(),this}writeByte(je){return this.writeUint8(je)}writeBytes(je){this.ensureAvailable(je.length);for(let ze=0;ze<je.length;ze++)this._data.setUint8(this.offset++,je[ze]);return this._updateLastWrittenByte(),this}writeInt16(je){return this.ensureAvailable(2),this._data.setInt16(this.offset,je,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(je){return this.ensureAvailable(2),this._data.setUint16(this.offset,je,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(je){return this.ensureAvailable(4),this._data.setInt32(this.offset,je,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(je){return this.ensureAvailable(4),this._data.setUint32(this.offset,je,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(je){return this.ensureAvailable(4),this._data.setFloat32(this.offset,je,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(je){return this.ensureAvailable(8),this._data.setFloat64(this.offset,je,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(je){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,je,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(je){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,je,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(je){return this.writeUint8(je.charCodeAt(0))}writeChars(je){for(let ze=0;ze<je.length;ze++)this.writeUint8(je.charCodeAt(ze));return this}writeUtf8(je){return this.writeBytes(encode$3(je))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}};const IOBuffer$5=Object.freeze(Object.defineProperty({__proto__:null,IOBuffer:IOBuffer$4},Symbol.toStringTag,{value:"Module"})),require$$0$3=getAugmentedNamespace(IOBuffer$5);var constants$4={BITMAPV5HEADER:{LogicalColorSpace:{LCS_CALIBRATED_RGB:0,LCS_sRGB:1934772034,LCS_WINDOWS_COLOR_SPACE:1466527264},Compression:{BI_RGB:0,BI_RLE8:1,BI_RLE4:2,BI_BITFIELDS:3,BI_JPEG:4,BI_PNG:5,BI_CMYK:11,BI_CMYKRLE8:12,BI_CMYKRLE4:13},GamutMappingIntent:{LCS_GM_ABS_COLORIMETRIC:8,LCS_GM_BUSINESS:1,LCS_GM_GRAPHICS:2,LCS_GM_IMAGES:4}}};const{IOBuffer:IOBuffer$3}=require$$0$3,constants$3=constants$4,tableLeft=[];for(let Ve=0;Ve<=8;Ve++)tableLeft.push(255<<Ve);class BMPEncoder extends IOBuffer$3{constructor(je){if(je.bitDepth!==1)throw new Error("Only bitDepth of 1 is supported");if(!je.height||!je.width)throw new Error("ImageData width and height are required");super(je.data),this.width=je.width,this.height=je.height,this.bitDepth=je.bitDepth,this.channels=je.channels,this.components=je.components}encode(){this.encoded=new IOBuffer$3,this.encoded.skip(14),this.writeBitmapV5Header(),this.writeColorTable();const je=this.encoded.offset;return this.writePixelArray(),this.encoded.rewind(),this.writeBitmapFileHeader(je),this.encoded.toArray()}writePixelArray(){let je=this.encoded;const ze=Math.floor((this.bitDepth*this.width+31)/32)*4,qe=Math.ceil(this.bitDepth*this.width/8),Xe=ze-qe,Ye=this.bitDepth*this.width%8,Ke=Ye===0?0:8-Ye,Ze=ze*this.height;let Qe,Je,St=0,ei=0,ti=8;je.mark(),Je=this.readUint8();for(let ii=this.height-1;ii>=0;ii--){const ri=ii===0;je.reset(),je.skip(ii*ze);for(let si=0;si<qe;si++){const ui=si===qe-1;ei<=Ke&&ui?(je.writeByte(Je<<ei),(Ke===0||Ke===ei)&&!ri&&(Qe=Je,Je=this.readByte())):ei===0?(Qe=Je,Je=this.readUint8(),je.writeByte(Qe)):(Qe=Je,Je=this.readUint8(),je.writeByte(Qe<<ei&tableLeft[ei]|Je>>ti)),ui&&(St+=Ye||0,je.skip(Xe),ei=St%8,ti=8-ei)}}ze>qe&&(je.reset(),je.skip(Ze-1),je.writeUint8(0))}writeColorTable(){this.encoded.writeUint32(0).writeUint32(16777215)}writeBitmapFileHeader(je){this.encoded.writeChars("BM").writeInt32(this.encoded.lastWrittenByte).writeUint16(0).writeUint16(0).writeUint32(je)}writeBitmapV5Header(){const je=Math.floor((this.bitDepth*this.width+31)/32)*4*this.height;this.encoded.writeUint32(124).writeInt32(this.width).writeInt32(this.height).writeUint16(1).writeUint16(this.bitDepth).writeUint32(constants$3.BITMAPV5HEADER.Compression.BI_RGB).writeUint32(je).writeInt32(0).writeInt32(0).writeUint32(Math.pow(2,this.bitDepth)).writeUint32(Math.pow(2,this.bitDepth)).writeUint32(4278190080).writeUint32(16711680).writeUint32(65280).writeUint32(255).writeUint32(constants$3.BITMAPV5HEADER.LogicalColorSpace.LCS_sRGB).skip(36).skip(12).writeUint32(constants$3.BITMAPV5HEADER.GamutMappingIntent.LCS_GM_IMAGES).skip(12)}}var BMPEncoder_1=BMPEncoder;const Encoder=BMPEncoder_1;var encode$2=function(Ve){return new Encoder(Ve).encode()};/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(Ve){let je=Ve.length;for(;--je>=0;)Ve[je]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(Ve,je,ze,qe,Xe){this.static_tree=Ve,this.extra_bits=je,this.extra_base=ze,this.elems=qe,this.max_length=Xe,this.has_stree=Ve&&Ve.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(Ve,je){this.dyn_tree=Ve,this.max_code=0,this.stat_desc=je}const d_code=Ve=>Ve<256?_dist_code[Ve]:_dist_code[256+(Ve>>>7)],put_short=(Ve,je)=>{Ve.pending_buf[Ve.pending++]=je&255,Ve.pending_buf[Ve.pending++]=je>>>8&255},send_bits=(Ve,je,ze)=>{Ve.bi_valid>Buf_size-ze?(Ve.bi_buf|=je<<Ve.bi_valid&65535,put_short(Ve,Ve.bi_buf),Ve.bi_buf=je>>Buf_size-Ve.bi_valid,Ve.bi_valid+=ze-Buf_size):(Ve.bi_buf|=je<<Ve.bi_valid&65535,Ve.bi_valid+=ze)},send_code=(Ve,je,ze)=>{send_bits(Ve,ze[je*2],ze[je*2+1])},bi_reverse=(Ve,je)=>{let ze=0;do ze|=Ve&1,Ve>>>=1,ze<<=1;while(--je>0);return ze>>>1},bi_flush=Ve=>{Ve.bi_valid===16?(put_short(Ve,Ve.bi_buf),Ve.bi_buf=0,Ve.bi_valid=0):Ve.bi_valid>=8&&(Ve.pending_buf[Ve.pending++]=Ve.bi_buf&255,Ve.bi_buf>>=8,Ve.bi_valid-=8)},gen_bitlen=(Ve,je)=>{const ze=je.dyn_tree,qe=je.max_code,Xe=je.stat_desc.static_tree,Ye=je.stat_desc.has_stree,Ke=je.stat_desc.extra_bits,Ze=je.stat_desc.extra_base,Qe=je.stat_desc.max_length;let Je,St,ei,ti,ii,ri,si=0;for(ti=0;ti<=MAX_BITS$1;ti++)Ve.bl_count[ti]=0;for(ze[Ve.heap[Ve.heap_max]*2+1]=0,Je=Ve.heap_max+1;Je<HEAP_SIZE$1;Je++)St=Ve.heap[Je],ti=ze[ze[St*2+1]*2+1]+1,ti>Qe&&(ti=Qe,si++),ze[St*2+1]=ti,!(St>qe)&&(Ve.bl_count[ti]++,ii=0,St>=Ze&&(ii=Ke[St-Ze]),ri=ze[St*2],Ve.opt_len+=ri*(ti+ii),Ye&&(Ve.static_len+=ri*(Xe[St*2+1]+ii)));if(si!==0){do{for(ti=Qe-1;Ve.bl_count[ti]===0;)ti--;Ve.bl_count[ti]--,Ve.bl_count[ti+1]+=2,Ve.bl_count[Qe]--,si-=2}while(si>0);for(ti=Qe;ti!==0;ti--)for(St=Ve.bl_count[ti];St!==0;)ei=Ve.heap[--Je],!(ei>qe)&&(ze[ei*2+1]!==ti&&(Ve.opt_len+=(ti-ze[ei*2+1])*ze[ei*2],ze[ei*2+1]=ti),St--)}},gen_codes=(Ve,je,ze)=>{const qe=new Array(MAX_BITS$1+1);let Xe=0,Ye,Ke;for(Ye=1;Ye<=MAX_BITS$1;Ye++)Xe=Xe+ze[Ye-1]<<1,qe[Ye]=Xe;for(Ke=0;Ke<=je;Ke++){let Ze=Ve[Ke*2+1];Ze!==0&&(Ve[Ke*2]=bi_reverse(qe[Ze]++,Ze))}},tr_static_init=()=>{let Ve,je,ze,qe,Xe;const Ye=new Array(MAX_BITS$1+1);for(ze=0,qe=0;qe<LENGTH_CODES$1-1;qe++)for(base_length[qe]=ze,Ve=0;Ve<1<<extra_lbits[qe];Ve++)_length_code[ze++]=qe;for(_length_code[ze-1]=qe,Xe=0,qe=0;qe<16;qe++)for(base_dist[qe]=Xe,Ve=0;Ve<1<<extra_dbits[qe];Ve++)_dist_code[Xe++]=qe;for(Xe>>=7;qe<D_CODES$1;qe++)for(base_dist[qe]=Xe<<7,Ve=0;Ve<1<<extra_dbits[qe]-7;Ve++)_dist_code[256+Xe++]=qe;for(je=0;je<=MAX_BITS$1;je++)Ye[je]=0;for(Ve=0;Ve<=143;)static_ltree[Ve*2+1]=8,Ve++,Ye[8]++;for(;Ve<=255;)static_ltree[Ve*2+1]=9,Ve++,Ye[9]++;for(;Ve<=279;)static_ltree[Ve*2+1]=7,Ve++,Ye[7]++;for(;Ve<=287;)static_ltree[Ve*2+1]=8,Ve++,Ye[8]++;for(gen_codes(static_ltree,L_CODES$1+1,Ye),Ve=0;Ve<D_CODES$1;Ve++)static_dtree[Ve*2+1]=5,static_dtree[Ve*2]=bi_reverse(Ve,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=Ve=>{let je;for(je=0;je<L_CODES$1;je++)Ve.dyn_ltree[je*2]=0;for(je=0;je<D_CODES$1;je++)Ve.dyn_dtree[je*2]=0;for(je=0;je<BL_CODES$1;je++)Ve.bl_tree[je*2]=0;Ve.dyn_ltree[END_BLOCK*2]=1,Ve.opt_len=Ve.static_len=0,Ve.sym_next=Ve.matches=0},bi_windup=Ve=>{Ve.bi_valid>8?put_short(Ve,Ve.bi_buf):Ve.bi_valid>0&&(Ve.pending_buf[Ve.pending++]=Ve.bi_buf),Ve.bi_buf=0,Ve.bi_valid=0},smaller=(Ve,je,ze,qe)=>{const Xe=je*2,Ye=ze*2;return Ve[Xe]<Ve[Ye]||Ve[Xe]===Ve[Ye]&&qe[je]<=qe[ze]},pqdownheap=(Ve,je,ze)=>{const qe=Ve.heap[ze];let Xe=ze<<1;for(;Xe<=Ve.heap_len&&(Xe<Ve.heap_len&&smaller(je,Ve.heap[Xe+1],Ve.heap[Xe],Ve.depth)&&Xe++,!smaller(je,qe,Ve.heap[Xe],Ve.depth));)Ve.heap[ze]=Ve.heap[Xe],ze=Xe,Xe<<=1;Ve.heap[ze]=qe},compress_block=(Ve,je,ze)=>{let qe,Xe,Ye=0,Ke,Ze;if(Ve.sym_next!==0)do qe=Ve.pending_buf[Ve.sym_buf+Ye++]&255,qe+=(Ve.pending_buf[Ve.sym_buf+Ye++]&255)<<8,Xe=Ve.pending_buf[Ve.sym_buf+Ye++],qe===0?send_code(Ve,Xe,je):(Ke=_length_code[Xe],send_code(Ve,Ke+LITERALS$1+1,je),Ze=extra_lbits[Ke],Ze!==0&&(Xe-=base_length[Ke],send_bits(Ve,Xe,Ze)),qe--,Ke=d_code(qe),send_code(Ve,Ke,ze),Ze=extra_dbits[Ke],Ze!==0&&(qe-=base_dist[Ke],send_bits(Ve,qe,Ze)));while(Ye<Ve.sym_next);send_code(Ve,END_BLOCK,je)},build_tree=(Ve,je)=>{const ze=je.dyn_tree,qe=je.stat_desc.static_tree,Xe=je.stat_desc.has_stree,Ye=je.stat_desc.elems;let Ke,Ze,Qe=-1,Je;for(Ve.heap_len=0,Ve.heap_max=HEAP_SIZE$1,Ke=0;Ke<Ye;Ke++)ze[Ke*2]!==0?(Ve.heap[++Ve.heap_len]=Qe=Ke,Ve.depth[Ke]=0):ze[Ke*2+1]=0;for(;Ve.heap_len<2;)Je=Ve.heap[++Ve.heap_len]=Qe<2?++Qe:0,ze[Je*2]=1,Ve.depth[Je]=0,Ve.opt_len--,Xe&&(Ve.static_len-=qe[Je*2+1]);for(je.max_code=Qe,Ke=Ve.heap_len>>1;Ke>=1;Ke--)pqdownheap(Ve,ze,Ke);Je=Ye;do Ke=Ve.heap[1],Ve.heap[1]=Ve.heap[Ve.heap_len--],pqdownheap(Ve,ze,1),Ze=Ve.heap[1],Ve.heap[--Ve.heap_max]=Ke,Ve.heap[--Ve.heap_max]=Ze,ze[Je*2]=ze[Ke*2]+ze[Ze*2],Ve.depth[Je]=(Ve.depth[Ke]>=Ve.depth[Ze]?Ve.depth[Ke]:Ve.depth[Ze])+1,ze[Ke*2+1]=ze[Ze*2+1]=Je,Ve.heap[1]=Je++,pqdownheap(Ve,ze,1);while(Ve.heap_len>=2);Ve.heap[--Ve.heap_max]=Ve.heap[1],gen_bitlen(Ve,je),gen_codes(ze,Qe,Ve.bl_count)},scan_tree=(Ve,je,ze)=>{let qe,Xe=-1,Ye,Ke=je[0*2+1],Ze=0,Qe=7,Je=4;for(Ke===0&&(Qe=138,Je=3),je[(ze+1)*2+1]=65535,qe=0;qe<=ze;qe++)Ye=Ke,Ke=je[(qe+1)*2+1],!(++Ze<Qe&&Ye===Ke)&&(Ze<Je?Ve.bl_tree[Ye*2]+=Ze:Ye!==0?(Ye!==Xe&&Ve.bl_tree[Ye*2]++,Ve.bl_tree[REP_3_6*2]++):Ze<=10?Ve.bl_tree[REPZ_3_10*2]++:Ve.bl_tree[REPZ_11_138*2]++,Ze=0,Xe=Ye,Ke===0?(Qe=138,Je=3):Ye===Ke?(Qe=6,Je=3):(Qe=7,Je=4))},send_tree=(Ve,je,ze)=>{let qe,Xe=-1,Ye,Ke=je[0*2+1],Ze=0,Qe=7,Je=4;for(Ke===0&&(Qe=138,Je=3),qe=0;qe<=ze;qe++)if(Ye=Ke,Ke=je[(qe+1)*2+1],!(++Ze<Qe&&Ye===Ke)){if(Ze<Je)do send_code(Ve,Ye,Ve.bl_tree);while(--Ze!==0);else Ye!==0?(Ye!==Xe&&(send_code(Ve,Ye,Ve.bl_tree),Ze--),send_code(Ve,REP_3_6,Ve.bl_tree),send_bits(Ve,Ze-3,2)):Ze<=10?(send_code(Ve,REPZ_3_10,Ve.bl_tree),send_bits(Ve,Ze-3,3)):(send_code(Ve,REPZ_11_138,Ve.bl_tree),send_bits(Ve,Ze-11,7));Ze=0,Xe=Ye,Ke===0?(Qe=138,Je=3):Ye===Ke?(Qe=6,Je=3):(Qe=7,Je=4)}},build_bl_tree=Ve=>{let je;for(scan_tree(Ve,Ve.dyn_ltree,Ve.l_desc.max_code),scan_tree(Ve,Ve.dyn_dtree,Ve.d_desc.max_code),build_tree(Ve,Ve.bl_desc),je=BL_CODES$1-1;je>=3&&Ve.bl_tree[bl_order[je]*2+1]===0;je--);return Ve.opt_len+=3*(je+1)+5+5+4,je},send_all_trees=(Ve,je,ze,qe)=>{let Xe;for(send_bits(Ve,je-257,5),send_bits(Ve,ze-1,5),send_bits(Ve,qe-4,4),Xe=0;Xe<qe;Xe++)send_bits(Ve,Ve.bl_tree[bl_order[Xe]*2+1],3);send_tree(Ve,Ve.dyn_ltree,je-1),send_tree(Ve,Ve.dyn_dtree,ze-1)},detect_data_type=Ve=>{let je=4093624447,ze;for(ze=0;ze<=31;ze++,je>>>=1)if(je&1&&Ve.dyn_ltree[ze*2]!==0)return Z_BINARY;if(Ve.dyn_ltree[9*2]!==0||Ve.dyn_ltree[10*2]!==0||Ve.dyn_ltree[13*2]!==0)return Z_TEXT;for(ze=32;ze<LITERALS$1;ze++)if(Ve.dyn_ltree[ze*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=Ve=>{static_init_done||(tr_static_init(),static_init_done=!0),Ve.l_desc=new TreeDesc(Ve.dyn_ltree,static_l_desc),Ve.d_desc=new TreeDesc(Ve.dyn_dtree,static_d_desc),Ve.bl_desc=new TreeDesc(Ve.bl_tree,static_bl_desc),Ve.bi_buf=0,Ve.bi_valid=0,init_block(Ve)},_tr_stored_block$1=(Ve,je,ze,qe)=>{send_bits(Ve,(STORED_BLOCK<<1)+(qe?1:0),3),bi_windup(Ve),put_short(Ve,ze),put_short(Ve,~ze),ze&&Ve.pending_buf.set(Ve.window.subarray(je,je+ze),Ve.pending),Ve.pending+=ze},_tr_align$1=Ve=>{send_bits(Ve,STATIC_TREES<<1,3),send_code(Ve,END_BLOCK,static_ltree),bi_flush(Ve)},_tr_flush_block$1=(Ve,je,ze,qe)=>{let Xe,Ye,Ke=0;Ve.level>0?(Ve.strm.data_type===Z_UNKNOWN$1&&(Ve.strm.data_type=detect_data_type(Ve)),build_tree(Ve,Ve.l_desc),build_tree(Ve,Ve.d_desc),Ke=build_bl_tree(Ve),Xe=Ve.opt_len+3+7>>>3,Ye=Ve.static_len+3+7>>>3,Ye<=Xe&&(Xe=Ye)):Xe=Ye=ze+5,ze+4<=Xe&&je!==-1?_tr_stored_block$1(Ve,je,ze,qe):Ve.strategy===Z_FIXED$1||Ye===Xe?(send_bits(Ve,(STATIC_TREES<<1)+(qe?1:0),3),compress_block(Ve,static_ltree,static_dtree)):(send_bits(Ve,(DYN_TREES<<1)+(qe?1:0),3),send_all_trees(Ve,Ve.l_desc.max_code+1,Ve.d_desc.max_code+1,Ke+1),compress_block(Ve,Ve.dyn_ltree,Ve.dyn_dtree)),init_block(Ve),qe&&bi_windup(Ve)},_tr_tally$1=(Ve,je,ze)=>(Ve.pending_buf[Ve.sym_buf+Ve.sym_next++]=je,Ve.pending_buf[Ve.sym_buf+Ve.sym_next++]=je>>8,Ve.pending_buf[Ve.sym_buf+Ve.sym_next++]=ze,je===0?Ve.dyn_ltree[ze*2]++:(Ve.matches++,je--,Ve.dyn_ltree[(_length_code[ze]+LITERALS$1+1)*2]++,Ve.dyn_dtree[d_code(je)*2]++),Ve.sym_next===Ve.sym_end);var _tr_init_1=_tr_init$1,_tr_stored_block_1=_tr_stored_block$1,_tr_flush_block_1=_tr_flush_block$1,_tr_tally_1=_tr_tally$1,_tr_align_1=_tr_align$1,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=(Ve,je,ze,qe)=>{let Xe=Ve&65535|0,Ye=Ve>>>16&65535|0,Ke=0;for(;ze!==0;){Ke=ze>2e3?2e3:ze,ze-=Ke;do Xe=Xe+je[qe++]|0,Ye=Ye+Xe|0;while(--Ke);Xe%=65521,Ye%=65521}return Xe|Ye<<16|0};var adler32_1=adler32;const makeTable=()=>{let Ve,je=[];for(var ze=0;ze<256;ze++){Ve=ze;for(var qe=0;qe<8;qe++)Ve=Ve&1?3988292384^Ve>>>1:Ve>>>1;je[ze]=Ve}return je},crcTable$1=new Uint32Array(makeTable()),crc32=(Ve,je,ze,qe)=>{const Xe=crcTable$1,Ye=qe+ze;Ve^=-1;for(let Ke=qe;Ke<Ye;Ke++)Ve=Ve>>>8^Xe[(Ve^je[Ke])&255];return Ve^-1};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,GZIP_STATE=57,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(Ve,je)=>(Ve.msg=messages[je],je),rank=Ve=>Ve*2-(Ve>4?9:0),zero=Ve=>{let je=Ve.length;for(;--je>=0;)Ve[je]=0},slide_hash=Ve=>{let je,ze,qe,Xe=Ve.w_size;je=Ve.hash_size,qe=je;do ze=Ve.head[--qe],Ve.head[qe]=ze>=Xe?ze-Xe:0;while(--je);je=Xe,qe=je;do ze=Ve.prev[--qe],Ve.prev[qe]=ze>=Xe?ze-Xe:0;while(--je)};let HASH_ZLIB=(Ve,je,ze)=>(je<<Ve.hash_shift^ze)&Ve.hash_mask,HASH=HASH_ZLIB;const flush_pending=Ve=>{const je=Ve.state;let ze=je.pending;ze>Ve.avail_out&&(ze=Ve.avail_out),ze!==0&&(Ve.output.set(je.pending_buf.subarray(je.pending_out,je.pending_out+ze),Ve.next_out),Ve.next_out+=ze,je.pending_out+=ze,Ve.total_out+=ze,Ve.avail_out-=ze,je.pending-=ze,je.pending===0&&(je.pending_out=0))},flush_block_only=(Ve,je)=>{_tr_flush_block(Ve,Ve.block_start>=0?Ve.block_start:-1,Ve.strstart-Ve.block_start,je),Ve.block_start=Ve.strstart,flush_pending(Ve.strm)},put_byte=(Ve,je)=>{Ve.pending_buf[Ve.pending++]=je},putShortMSB=(Ve,je)=>{Ve.pending_buf[Ve.pending++]=je>>>8&255,Ve.pending_buf[Ve.pending++]=je&255},read_buf=(Ve,je,ze,qe)=>{let Xe=Ve.avail_in;return Xe>qe&&(Xe=qe),Xe===0?0:(Ve.avail_in-=Xe,je.set(Ve.input.subarray(Ve.next_in,Ve.next_in+Xe),ze),Ve.state.wrap===1?Ve.adler=adler32_1(Ve.adler,je,Xe,ze):Ve.state.wrap===2&&(Ve.adler=crc32_1(Ve.adler,je,Xe,ze)),Ve.next_in+=Xe,Ve.total_in+=Xe,Xe)},longest_match=(Ve,je)=>{let ze=Ve.max_chain_length,qe=Ve.strstart,Xe,Ye,Ke=Ve.prev_length,Ze=Ve.nice_match;const Qe=Ve.strstart>Ve.w_size-MIN_LOOKAHEAD?Ve.strstart-(Ve.w_size-MIN_LOOKAHEAD):0,Je=Ve.window,St=Ve.w_mask,ei=Ve.prev,ti=Ve.strstart+MAX_MATCH;let ii=Je[qe+Ke-1],ri=Je[qe+Ke];Ve.prev_length>=Ve.good_match&&(ze>>=2),Ze>Ve.lookahead&&(Ze=Ve.lookahead);do if(Xe=je,!(Je[Xe+Ke]!==ri||Je[Xe+Ke-1]!==ii||Je[Xe]!==Je[qe]||Je[++Xe]!==Je[qe+1])){qe+=2,Xe++;do;while(Je[++qe]===Je[++Xe]&&Je[++qe]===Je[++Xe]&&Je[++qe]===Je[++Xe]&&Je[++qe]===Je[++Xe]&&Je[++qe]===Je[++Xe]&&Je[++qe]===Je[++Xe]&&Je[++qe]===Je[++Xe]&&Je[++qe]===Je[++Xe]&&qe<ti);if(Ye=MAX_MATCH-(ti-qe),qe=ti-MAX_MATCH,Ye>Ke){if(Ve.match_start=je,Ke=Ye,Ye>=Ze)break;ii=Je[qe+Ke-1],ri=Je[qe+Ke]}}while((je=ei[je&St])>Qe&&--ze!==0);return Ke<=Ve.lookahead?Ke:Ve.lookahead},fill_window=Ve=>{const je=Ve.w_size;let ze,qe,Xe;do{if(qe=Ve.window_size-Ve.lookahead-Ve.strstart,Ve.strstart>=je+(je-MIN_LOOKAHEAD)&&(Ve.window.set(Ve.window.subarray(je,je+je-qe),0),Ve.match_start-=je,Ve.strstart-=je,Ve.block_start-=je,Ve.insert>Ve.strstart&&(Ve.insert=Ve.strstart),slide_hash(Ve),qe+=je),Ve.strm.avail_in===0)break;if(ze=read_buf(Ve.strm,Ve.window,Ve.strstart+Ve.lookahead,qe),Ve.lookahead+=ze,Ve.lookahead+Ve.insert>=MIN_MATCH)for(Xe=Ve.strstart-Ve.insert,Ve.ins_h=Ve.window[Xe],Ve.ins_h=HASH(Ve,Ve.ins_h,Ve.window[Xe+1]);Ve.insert&&(Ve.ins_h=HASH(Ve,Ve.ins_h,Ve.window[Xe+MIN_MATCH-1]),Ve.prev[Xe&Ve.w_mask]=Ve.head[Ve.ins_h],Ve.head[Ve.ins_h]=Xe,Xe++,Ve.insert--,!(Ve.lookahead+Ve.insert<MIN_MATCH)););}while(Ve.lookahead<MIN_LOOKAHEAD&&Ve.strm.avail_in!==0)},deflate_stored=(Ve,je)=>{let ze=Ve.pending_buf_size-5>Ve.w_size?Ve.w_size:Ve.pending_buf_size-5,qe,Xe,Ye,Ke=0,Ze=Ve.strm.avail_in;do{if(qe=65535,Ye=Ve.bi_valid+42>>3,Ve.strm.avail_out<Ye||(Ye=Ve.strm.avail_out-Ye,Xe=Ve.strstart-Ve.block_start,qe>Xe+Ve.strm.avail_in&&(qe=Xe+Ve.strm.avail_in),qe>Ye&&(qe=Ye),qe<ze&&(qe===0&&je!==Z_FINISH$3||je===Z_NO_FLUSH$2||qe!==Xe+Ve.strm.avail_in)))break;Ke=je===Z_FINISH$3&&qe===Xe+Ve.strm.avail_in?1:0,_tr_stored_block(Ve,0,0,Ke),Ve.pending_buf[Ve.pending-4]=qe,Ve.pending_buf[Ve.pending-3]=qe>>8,Ve.pending_buf[Ve.pending-2]=~qe,Ve.pending_buf[Ve.pending-1]=~qe>>8,flush_pending(Ve.strm),Xe&&(Xe>qe&&(Xe=qe),Ve.strm.output.set(Ve.window.subarray(Ve.block_start,Ve.block_start+Xe),Ve.strm.next_out),Ve.strm.next_out+=Xe,Ve.strm.avail_out-=Xe,Ve.strm.total_out+=Xe,Ve.block_start+=Xe,qe-=Xe),qe&&(read_buf(Ve.strm,Ve.strm.output,Ve.strm.next_out,qe),Ve.strm.next_out+=qe,Ve.strm.avail_out-=qe,Ve.strm.total_out+=qe)}while(Ke===0);return Ze-=Ve.strm.avail_in,Ze&&(Ze>=Ve.w_size?(Ve.matches=2,Ve.window.set(Ve.strm.input.subarray(Ve.strm.next_in-Ve.w_size,Ve.strm.next_in),0),Ve.strstart=Ve.w_size,Ve.insert=Ve.strstart):(Ve.window_size-Ve.strstart<=Ze&&(Ve.strstart-=Ve.w_size,Ve.window.set(Ve.window.subarray(Ve.w_size,Ve.w_size+Ve.strstart),0),Ve.matches<2&&Ve.matches++,Ve.insert>Ve.strstart&&(Ve.insert=Ve.strstart)),Ve.window.set(Ve.strm.input.subarray(Ve.strm.next_in-Ze,Ve.strm.next_in),Ve.strstart),Ve.strstart+=Ze,Ve.insert+=Ze>Ve.w_size-Ve.insert?Ve.w_size-Ve.insert:Ze),Ve.block_start=Ve.strstart),Ve.high_water<Ve.strstart&&(Ve.high_water=Ve.strstart),Ke?BS_FINISH_DONE:je!==Z_NO_FLUSH$2&&je!==Z_FINISH$3&&Ve.strm.avail_in===0&&Ve.strstart===Ve.block_start?BS_BLOCK_DONE:(Ye=Ve.window_size-Ve.strstart,Ve.strm.avail_in>Ye&&Ve.block_start>=Ve.w_size&&(Ve.block_start-=Ve.w_size,Ve.strstart-=Ve.w_size,Ve.window.set(Ve.window.subarray(Ve.w_size,Ve.w_size+Ve.strstart),0),Ve.matches<2&&Ve.matches++,Ye+=Ve.w_size,Ve.insert>Ve.strstart&&(Ve.insert=Ve.strstart)),Ye>Ve.strm.avail_in&&(Ye=Ve.strm.avail_in),Ye&&(read_buf(Ve.strm,Ve.window,Ve.strstart,Ye),Ve.strstart+=Ye,Ve.insert+=Ye>Ve.w_size-Ve.insert?Ve.w_size-Ve.insert:Ye),Ve.high_water<Ve.strstart&&(Ve.high_water=Ve.strstart),Ye=Ve.bi_valid+42>>3,Ye=Ve.pending_buf_size-Ye>65535?65535:Ve.pending_buf_size-Ye,ze=Ye>Ve.w_size?Ve.w_size:Ye,Xe=Ve.strstart-Ve.block_start,(Xe>=ze||(Xe||je===Z_FINISH$3)&&je!==Z_NO_FLUSH$2&&Ve.strm.avail_in===0&&Xe<=Ye)&&(qe=Xe>Ye?Ye:Xe,Ke=je===Z_FINISH$3&&Ve.strm.avail_in===0&&qe===Xe?1:0,_tr_stored_block(Ve,Ve.block_start,qe,Ke),Ve.block_start+=qe,flush_pending(Ve.strm)),Ke?BS_FINISH_STARTED:BS_NEED_MORE)},deflate_fast=(Ve,je)=>{let ze,qe;for(;;){if(Ve.lookahead<MIN_LOOKAHEAD){if(fill_window(Ve),Ve.lookahead<MIN_LOOKAHEAD&&je===Z_NO_FLUSH$2)return BS_NEED_MORE;if(Ve.lookahead===0)break}if(ze=0,Ve.lookahead>=MIN_MATCH&&(Ve.ins_h=HASH(Ve,Ve.ins_h,Ve.window[Ve.strstart+MIN_MATCH-1]),ze=Ve.prev[Ve.strstart&Ve.w_mask]=Ve.head[Ve.ins_h],Ve.head[Ve.ins_h]=Ve.strstart),ze!==0&&Ve.strstart-ze<=Ve.w_size-MIN_LOOKAHEAD&&(Ve.match_length=longest_match(Ve,ze)),Ve.match_length>=MIN_MATCH)if(qe=_tr_tally(Ve,Ve.strstart-Ve.match_start,Ve.match_length-MIN_MATCH),Ve.lookahead-=Ve.match_length,Ve.match_length<=Ve.max_lazy_match&&Ve.lookahead>=MIN_MATCH){Ve.match_length--;do Ve.strstart++,Ve.ins_h=HASH(Ve,Ve.ins_h,Ve.window[Ve.strstart+MIN_MATCH-1]),ze=Ve.prev[Ve.strstart&Ve.w_mask]=Ve.head[Ve.ins_h],Ve.head[Ve.ins_h]=Ve.strstart;while(--Ve.match_length!==0);Ve.strstart++}else Ve.strstart+=Ve.match_length,Ve.match_length=0,Ve.ins_h=Ve.window[Ve.strstart],Ve.ins_h=HASH(Ve,Ve.ins_h,Ve.window[Ve.strstart+1]);else qe=_tr_tally(Ve,0,Ve.window[Ve.strstart]),Ve.lookahead--,Ve.strstart++;if(qe&&(flush_block_only(Ve,!1),Ve.strm.avail_out===0))return BS_NEED_MORE}return Ve.insert=Ve.strstart<MIN_MATCH-1?Ve.strstart:MIN_MATCH-1,je===Z_FINISH$3?(flush_block_only(Ve,!0),Ve.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):Ve.sym_next&&(flush_block_only(Ve,!1),Ve.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(Ve,je)=>{let ze,qe,Xe;for(;;){if(Ve.lookahead<MIN_LOOKAHEAD){if(fill_window(Ve),Ve.lookahead<MIN_LOOKAHEAD&&je===Z_NO_FLUSH$2)return BS_NEED_MORE;if(Ve.lookahead===0)break}if(ze=0,Ve.lookahead>=MIN_MATCH&&(Ve.ins_h=HASH(Ve,Ve.ins_h,Ve.window[Ve.strstart+MIN_MATCH-1]),ze=Ve.prev[Ve.strstart&Ve.w_mask]=Ve.head[Ve.ins_h],Ve.head[Ve.ins_h]=Ve.strstart),Ve.prev_length=Ve.match_length,Ve.prev_match=Ve.match_start,Ve.match_length=MIN_MATCH-1,ze!==0&&Ve.prev_length<Ve.max_lazy_match&&Ve.strstart-ze<=Ve.w_size-MIN_LOOKAHEAD&&(Ve.match_length=longest_match(Ve,ze),Ve.match_length<=5&&(Ve.strategy===Z_FILTERED||Ve.match_length===MIN_MATCH&&Ve.strstart-Ve.match_start>4096)&&(Ve.match_length=MIN_MATCH-1)),Ve.prev_length>=MIN_MATCH&&Ve.match_length<=Ve.prev_length){Xe=Ve.strstart+Ve.lookahead-MIN_MATCH,qe=_tr_tally(Ve,Ve.strstart-1-Ve.prev_match,Ve.prev_length-MIN_MATCH),Ve.lookahead-=Ve.prev_length-1,Ve.prev_length-=2;do++Ve.strstart<=Xe&&(Ve.ins_h=HASH(Ve,Ve.ins_h,Ve.window[Ve.strstart+MIN_MATCH-1]),ze=Ve.prev[Ve.strstart&Ve.w_mask]=Ve.head[Ve.ins_h],Ve.head[Ve.ins_h]=Ve.strstart);while(--Ve.prev_length!==0);if(Ve.match_available=0,Ve.match_length=MIN_MATCH-1,Ve.strstart++,qe&&(flush_block_only(Ve,!1),Ve.strm.avail_out===0))return BS_NEED_MORE}else if(Ve.match_available){if(qe=_tr_tally(Ve,0,Ve.window[Ve.strstart-1]),qe&&flush_block_only(Ve,!1),Ve.strstart++,Ve.lookahead--,Ve.strm.avail_out===0)return BS_NEED_MORE}else Ve.match_available=1,Ve.strstart++,Ve.lookahead--}return Ve.match_available&&(qe=_tr_tally(Ve,0,Ve.window[Ve.strstart-1]),Ve.match_available=0),Ve.insert=Ve.strstart<MIN_MATCH-1?Ve.strstart:MIN_MATCH-1,je===Z_FINISH$3?(flush_block_only(Ve,!0),Ve.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):Ve.sym_next&&(flush_block_only(Ve,!1),Ve.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(Ve,je)=>{let ze,qe,Xe,Ye;const Ke=Ve.window;for(;;){if(Ve.lookahead<=MAX_MATCH){if(fill_window(Ve),Ve.lookahead<=MAX_MATCH&&je===Z_NO_FLUSH$2)return BS_NEED_MORE;if(Ve.lookahead===0)break}if(Ve.match_length=0,Ve.lookahead>=MIN_MATCH&&Ve.strstart>0&&(Xe=Ve.strstart-1,qe=Ke[Xe],qe===Ke[++Xe]&&qe===Ke[++Xe]&&qe===Ke[++Xe])){Ye=Ve.strstart+MAX_MATCH;do;while(qe===Ke[++Xe]&&qe===Ke[++Xe]&&qe===Ke[++Xe]&&qe===Ke[++Xe]&&qe===Ke[++Xe]&&qe===Ke[++Xe]&&qe===Ke[++Xe]&&qe===Ke[++Xe]&&Xe<Ye);Ve.match_length=MAX_MATCH-(Ye-Xe),Ve.match_length>Ve.lookahead&&(Ve.match_length=Ve.lookahead)}if(Ve.match_length>=MIN_MATCH?(ze=_tr_tally(Ve,1,Ve.match_length-MIN_MATCH),Ve.lookahead-=Ve.match_length,Ve.strstart+=Ve.match_length,Ve.match_length=0):(ze=_tr_tally(Ve,0,Ve.window[Ve.strstart]),Ve.lookahead--,Ve.strstart++),ze&&(flush_block_only(Ve,!1),Ve.strm.avail_out===0))return BS_NEED_MORE}return Ve.insert=0,je===Z_FINISH$3?(flush_block_only(Ve,!0),Ve.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):Ve.sym_next&&(flush_block_only(Ve,!1),Ve.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(Ve,je)=>{let ze;for(;;){if(Ve.lookahead===0&&(fill_window(Ve),Ve.lookahead===0)){if(je===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(Ve.match_length=0,ze=_tr_tally(Ve,0,Ve.window[Ve.strstart]),Ve.lookahead--,Ve.strstart++,ze&&(flush_block_only(Ve,!1),Ve.strm.avail_out===0))return BS_NEED_MORE}return Ve.insert=0,je===Z_FINISH$3?(flush_block_only(Ve,!0),Ve.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):Ve.sym_next&&(flush_block_only(Ve,!1),Ve.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config(Ve,je,ze,qe,Xe){this.good_length=Ve,this.max_lazy=je,this.nice_length=ze,this.max_chain=qe,this.func=Xe}const configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],lm_init=Ve=>{Ve.window_size=2*Ve.w_size,zero(Ve.head),Ve.max_lazy_match=configuration_table[Ve.level].max_lazy,Ve.good_match=configuration_table[Ve.level].good_length,Ve.nice_match=configuration_table[Ve.level].nice_length,Ve.max_chain_length=configuration_table[Ve.level].max_chain,Ve.strstart=0,Ve.block_start=0,Ve.lookahead=0,Ve.insert=0,Ve.match_length=Ve.prev_length=MIN_MATCH-1,Ve.match_available=0,Ve.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateStateCheck=Ve=>{if(!Ve)return 1;const je=Ve.state;return!je||je.strm!==Ve||je.status!==INIT_STATE&&je.status!==GZIP_STATE&&je.status!==EXTRA_STATE&&je.status!==NAME_STATE&&je.status!==COMMENT_STATE&&je.status!==HCRC_STATE&&je.status!==BUSY_STATE&&je.status!==FINISH_STATE?1:0},deflateResetKeep=Ve=>{if(deflateStateCheck(Ve))return err(Ve,Z_STREAM_ERROR$2);Ve.total_in=Ve.total_out=0,Ve.data_type=Z_UNKNOWN;const je=Ve.state;return je.pending=0,je.pending_out=0,je.wrap<0&&(je.wrap=-je.wrap),je.status=je.wrap===2?GZIP_STATE:je.wrap?INIT_STATE:BUSY_STATE,Ve.adler=je.wrap===2?0:1,je.last_flush=-2,_tr_init(je),Z_OK$3},deflateReset=Ve=>{const je=deflateResetKeep(Ve);return je===Z_OK$3&&lm_init(Ve.state),je},deflateSetHeader=(Ve,je)=>deflateStateCheck(Ve)||Ve.state.wrap!==2?Z_STREAM_ERROR$2:(Ve.state.gzhead=je,Z_OK$3),deflateInit2=(Ve,je,ze,qe,Xe,Ye)=>{if(!Ve)return Z_STREAM_ERROR$2;let Ke=1;if(je===Z_DEFAULT_COMPRESSION$1&&(je=6),qe<0?(Ke=0,qe=-qe):qe>15&&(Ke=2,qe-=16),Xe<1||Xe>MAX_MEM_LEVEL||ze!==Z_DEFLATED$2||qe<8||qe>15||je<0||je>9||Ye<0||Ye>Z_FIXED||qe===8&&Ke!==1)return err(Ve,Z_STREAM_ERROR$2);qe===8&&(qe=9);const Ze=new DeflateState;return Ve.state=Ze,Ze.strm=Ve,Ze.status=INIT_STATE,Ze.wrap=Ke,Ze.gzhead=null,Ze.w_bits=qe,Ze.w_size=1<<Ze.w_bits,Ze.w_mask=Ze.w_size-1,Ze.hash_bits=Xe+7,Ze.hash_size=1<<Ze.hash_bits,Ze.hash_mask=Ze.hash_size-1,Ze.hash_shift=~~((Ze.hash_bits+MIN_MATCH-1)/MIN_MATCH),Ze.window=new Uint8Array(Ze.w_size*2),Ze.head=new Uint16Array(Ze.hash_size),Ze.prev=new Uint16Array(Ze.w_size),Ze.lit_bufsize=1<<Xe+6,Ze.pending_buf_size=Ze.lit_bufsize*4,Ze.pending_buf=new Uint8Array(Ze.pending_buf_size),Ze.sym_buf=Ze.lit_bufsize,Ze.sym_end=(Ze.lit_bufsize-1)*3,Ze.level=je,Ze.strategy=Ye,Ze.method=ze,deflateReset(Ve)},deflateInit=(Ve,je)=>deflateInit2(Ve,je,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=(Ve,je)=>{if(deflateStateCheck(Ve)||je>Z_BLOCK$1||je<0)return Ve?err(Ve,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const ze=Ve.state;if(!Ve.output||Ve.avail_in!==0&&!Ve.input||ze.status===FINISH_STATE&&je!==Z_FINISH$3)return err(Ve,Ve.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);const qe=ze.last_flush;if(ze.last_flush=je,ze.pending!==0){if(flush_pending(Ve),Ve.avail_out===0)return ze.last_flush=-1,Z_OK$3}else if(Ve.avail_in===0&&rank(je)<=rank(qe)&&je!==Z_FINISH$3)return err(Ve,Z_BUF_ERROR$1);if(ze.status===FINISH_STATE&&Ve.avail_in!==0)return err(Ve,Z_BUF_ERROR$1);if(ze.status===INIT_STATE&&ze.wrap===0&&(ze.status=BUSY_STATE),ze.status===INIT_STATE){let Xe=Z_DEFLATED$2+(ze.w_bits-8<<4)<<8,Ye=-1;if(ze.strategy>=Z_HUFFMAN_ONLY||ze.level<2?Ye=0:ze.level<6?Ye=1:ze.level===6?Ye=2:Ye=3,Xe|=Ye<<6,ze.strstart!==0&&(Xe|=PRESET_DICT),Xe+=31-Xe%31,putShortMSB(ze,Xe),ze.strstart!==0&&(putShortMSB(ze,Ve.adler>>>16),putShortMSB(ze,Ve.adler&65535)),Ve.adler=1,ze.status=BUSY_STATE,flush_pending(Ve),ze.pending!==0)return ze.last_flush=-1,Z_OK$3}if(ze.status===GZIP_STATE){if(Ve.adler=0,put_byte(ze,31),put_byte(ze,139),put_byte(ze,8),ze.gzhead)put_byte(ze,(ze.gzhead.text?1:0)+(ze.gzhead.hcrc?2:0)+(ze.gzhead.extra?4:0)+(ze.gzhead.name?8:0)+(ze.gzhead.comment?16:0)),put_byte(ze,ze.gzhead.time&255),put_byte(ze,ze.gzhead.time>>8&255),put_byte(ze,ze.gzhead.time>>16&255),put_byte(ze,ze.gzhead.time>>24&255),put_byte(ze,ze.level===9?2:ze.strategy>=Z_HUFFMAN_ONLY||ze.level<2?4:0),put_byte(ze,ze.gzhead.os&255),ze.gzhead.extra&&ze.gzhead.extra.length&&(put_byte(ze,ze.gzhead.extra.length&255),put_byte(ze,ze.gzhead.extra.length>>8&255)),ze.gzhead.hcrc&&(Ve.adler=crc32_1(Ve.adler,ze.pending_buf,ze.pending,0)),ze.gzindex=0,ze.status=EXTRA_STATE;else if(put_byte(ze,0),put_byte(ze,0),put_byte(ze,0),put_byte(ze,0),put_byte(ze,0),put_byte(ze,ze.level===9?2:ze.strategy>=Z_HUFFMAN_ONLY||ze.level<2?4:0),put_byte(ze,OS_CODE),ze.status=BUSY_STATE,flush_pending(Ve),ze.pending!==0)return ze.last_flush=-1,Z_OK$3}if(ze.status===EXTRA_STATE){if(ze.gzhead.extra){let Xe=ze.pending,Ye=(ze.gzhead.extra.length&65535)-ze.gzindex;for(;ze.pending+Ye>ze.pending_buf_size;){let Ze=ze.pending_buf_size-ze.pending;if(ze.pending_buf.set(ze.gzhead.extra.subarray(ze.gzindex,ze.gzindex+Ze),ze.pending),ze.pending=ze.pending_buf_size,ze.gzhead.hcrc&&ze.pending>Xe&&(Ve.adler=crc32_1(Ve.adler,ze.pending_buf,ze.pending-Xe,Xe)),ze.gzindex+=Ze,flush_pending(Ve),ze.pending!==0)return ze.last_flush=-1,Z_OK$3;Xe=0,Ye-=Ze}let Ke=new Uint8Array(ze.gzhead.extra);ze.pending_buf.set(Ke.subarray(ze.gzindex,ze.gzindex+Ye),ze.pending),ze.pending+=Ye,ze.gzhead.hcrc&&ze.pending>Xe&&(Ve.adler=crc32_1(Ve.adler,ze.pending_buf,ze.pending-Xe,Xe)),ze.gzindex=0}ze.status=NAME_STATE}if(ze.status===NAME_STATE){if(ze.gzhead.name){let Xe=ze.pending,Ye;do{if(ze.pending===ze.pending_buf_size){if(ze.gzhead.hcrc&&ze.pending>Xe&&(Ve.adler=crc32_1(Ve.adler,ze.pending_buf,ze.pending-Xe,Xe)),flush_pending(Ve),ze.pending!==0)return ze.last_flush=-1,Z_OK$3;Xe=0}ze.gzindex<ze.gzhead.name.length?Ye=ze.gzhead.name.charCodeAt(ze.gzindex++)&255:Ye=0,put_byte(ze,Ye)}while(Ye!==0);ze.gzhead.hcrc&&ze.pending>Xe&&(Ve.adler=crc32_1(Ve.adler,ze.pending_buf,ze.pending-Xe,Xe)),ze.gzindex=0}ze.status=COMMENT_STATE}if(ze.status===COMMENT_STATE){if(ze.gzhead.comment){let Xe=ze.pending,Ye;do{if(ze.pending===ze.pending_buf_size){if(ze.gzhead.hcrc&&ze.pending>Xe&&(Ve.adler=crc32_1(Ve.adler,ze.pending_buf,ze.pending-Xe,Xe)),flush_pending(Ve),ze.pending!==0)return ze.last_flush=-1,Z_OK$3;Xe=0}ze.gzindex<ze.gzhead.comment.length?Ye=ze.gzhead.comment.charCodeAt(ze.gzindex++)&255:Ye=0,put_byte(ze,Ye)}while(Ye!==0);ze.gzhead.hcrc&&ze.pending>Xe&&(Ve.adler=crc32_1(Ve.adler,ze.pending_buf,ze.pending-Xe,Xe))}ze.status=HCRC_STATE}if(ze.status===HCRC_STATE){if(ze.gzhead.hcrc){if(ze.pending+2>ze.pending_buf_size&&(flush_pending(Ve),ze.pending!==0))return ze.last_flush=-1,Z_OK$3;put_byte(ze,Ve.adler&255),put_byte(ze,Ve.adler>>8&255),Ve.adler=0}if(ze.status=BUSY_STATE,flush_pending(Ve),ze.pending!==0)return ze.last_flush=-1,Z_OK$3}if(Ve.avail_in!==0||ze.lookahead!==0||je!==Z_NO_FLUSH$2&&ze.status!==FINISH_STATE){let Xe=ze.level===0?deflate_stored(ze,je):ze.strategy===Z_HUFFMAN_ONLY?deflate_huff(ze,je):ze.strategy===Z_RLE?deflate_rle(ze,je):configuration_table[ze.level].func(ze,je);if((Xe===BS_FINISH_STARTED||Xe===BS_FINISH_DONE)&&(ze.status=FINISH_STATE),Xe===BS_NEED_MORE||Xe===BS_FINISH_STARTED)return Ve.avail_out===0&&(ze.last_flush=-1),Z_OK$3;if(Xe===BS_BLOCK_DONE&&(je===Z_PARTIAL_FLUSH?_tr_align(ze):je!==Z_BLOCK$1&&(_tr_stored_block(ze,0,0,!1),je===Z_FULL_FLUSH$1&&(zero(ze.head),ze.lookahead===0&&(ze.strstart=0,ze.block_start=0,ze.insert=0))),flush_pending(Ve),Ve.avail_out===0))return ze.last_flush=-1,Z_OK$3}return je!==Z_FINISH$3?Z_OK$3:ze.wrap<=0?Z_STREAM_END$3:(ze.wrap===2?(put_byte(ze,Ve.adler&255),put_byte(ze,Ve.adler>>8&255),put_byte(ze,Ve.adler>>16&255),put_byte(ze,Ve.adler>>24&255),put_byte(ze,Ve.total_in&255),put_byte(ze,Ve.total_in>>8&255),put_byte(ze,Ve.total_in>>16&255),put_byte(ze,Ve.total_in>>24&255)):(putShortMSB(ze,Ve.adler>>>16),putShortMSB(ze,Ve.adler&65535)),flush_pending(Ve),ze.wrap>0&&(ze.wrap=-ze.wrap),ze.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=Ve=>{if(deflateStateCheck(Ve))return Z_STREAM_ERROR$2;const je=Ve.state.status;return Ve.state=null,je===BUSY_STATE?err(Ve,Z_DATA_ERROR$2):Z_OK$3},deflateSetDictionary=(Ve,je)=>{let ze=je.length;if(deflateStateCheck(Ve))return Z_STREAM_ERROR$2;const qe=Ve.state,Xe=qe.wrap;if(Xe===2||Xe===1&&qe.status!==INIT_STATE||qe.lookahead)return Z_STREAM_ERROR$2;if(Xe===1&&(Ve.adler=adler32_1(Ve.adler,je,ze,0)),qe.wrap=0,ze>=qe.w_size){Xe===0&&(zero(qe.head),qe.strstart=0,qe.block_start=0,qe.insert=0);let Qe=new Uint8Array(qe.w_size);Qe.set(je.subarray(ze-qe.w_size,ze),0),je=Qe,ze=qe.w_size}const Ye=Ve.avail_in,Ke=Ve.next_in,Ze=Ve.input;for(Ve.avail_in=ze,Ve.next_in=0,Ve.input=je,fill_window(qe);qe.lookahead>=MIN_MATCH;){let Qe=qe.strstart,Je=qe.lookahead-(MIN_MATCH-1);do qe.ins_h=HASH(qe,qe.ins_h,qe.window[Qe+MIN_MATCH-1]),qe.prev[Qe&qe.w_mask]=qe.head[qe.ins_h],qe.head[qe.ins_h]=Qe,Qe++;while(--Je);qe.strstart=Qe,qe.lookahead=MIN_MATCH-1,fill_window(qe)}return qe.strstart+=qe.lookahead,qe.block_start=qe.strstart,qe.insert=qe.lookahead,qe.lookahead=0,qe.match_length=qe.prev_length=MIN_MATCH-1,qe.match_available=0,Ve.next_in=Ke,Ve.input=Ze,Ve.avail_in=Ye,qe.wrap=Xe,Z_OK$3};var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo};const _has=(Ve,je)=>Object.prototype.hasOwnProperty.call(Ve,je);var assign=function(Ve){const je=Array.prototype.slice.call(arguments,1);for(;je.length;){const ze=je.shift();if(ze){if(typeof ze!="object")throw new TypeError(ze+"must be non-object");for(const qe in ze)_has(ze,qe)&&(Ve[qe]=ze[qe])}}return Ve},flattenChunks=Ve=>{let je=0;for(let qe=0,Xe=Ve.length;qe<Xe;qe++)je+=Ve[qe].length;const ze=new Uint8Array(je);for(let qe=0,Xe=0,Ye=Ve.length;qe<Ye;qe++){let Ke=Ve[qe];ze.set(Ke,Xe),Xe+=Ke.length}return ze},common={assign,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let Ve=0;Ve<256;Ve++)_utf8len[Ve]=Ve>=252?6:Ve>=248?5:Ve>=240?4:Ve>=224?3:Ve>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=Ve=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(Ve);let je,ze,qe,Xe,Ye,Ke=Ve.length,Ze=0;for(Xe=0;Xe<Ke;Xe++)ze=Ve.charCodeAt(Xe),(ze&64512)===55296&&Xe+1<Ke&&(qe=Ve.charCodeAt(Xe+1),(qe&64512)===56320&&(ze=65536+(ze-55296<<10)+(qe-56320),Xe++)),Ze+=ze<128?1:ze<2048?2:ze<65536?3:4;for(je=new Uint8Array(Ze),Ye=0,Xe=0;Ye<Ze;Xe++)ze=Ve.charCodeAt(Xe),(ze&64512)===55296&&Xe+1<Ke&&(qe=Ve.charCodeAt(Xe+1),(qe&64512)===56320&&(ze=65536+(ze-55296<<10)+(qe-56320),Xe++)),ze<128?je[Ye++]=ze:ze<2048?(je[Ye++]=192|ze>>>6,je[Ye++]=128|ze&63):ze<65536?(je[Ye++]=224|ze>>>12,je[Ye++]=128|ze>>>6&63,je[Ye++]=128|ze&63):(je[Ye++]=240|ze>>>18,je[Ye++]=128|ze>>>12&63,je[Ye++]=128|ze>>>6&63,je[Ye++]=128|ze&63);return je};const buf2binstring=(Ve,je)=>{if(je<65534&&Ve.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,Ve.length===je?Ve:Ve.subarray(0,je));let ze="";for(let qe=0;qe<je;qe++)ze+=String.fromCharCode(Ve[qe]);return ze};var buf2string=(Ve,je)=>{const ze=je||Ve.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(Ve.subarray(0,je));let qe,Xe;const Ye=new Array(ze*2);for(Xe=0,qe=0;qe<ze;){let Ke=Ve[qe++];if(Ke<128){Ye[Xe++]=Ke;continue}let Ze=_utf8len[Ke];if(Ze>4){Ye[Xe++]=65533,qe+=Ze-1;continue}for(Ke&=Ze===2?31:Ze===3?15:7;Ze>1&&qe<ze;)Ke=Ke<<6|Ve[qe++]&63,Ze--;if(Ze>1){Ye[Xe++]=65533;continue}Ke<65536?Ye[Xe++]=Ke:(Ke-=65536,Ye[Xe++]=55296|Ke>>10&1023,Ye[Xe++]=56320|Ke&1023)}return buf2binstring(Ye,Xe)},utf8border=(Ve,je)=>{je=je||Ve.length,je>Ve.length&&(je=Ve.length);let ze=je-1;for(;ze>=0&&(Ve[ze]&192)===128;)ze--;return ze<0||ze===0?je:ze+_utf8len[Ve[ze]]>je?ze:je},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const toString$1$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1(Ve){this.options=common.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},Ve||{});let je=this.options;je.raw&&je.windowBits>0?je.windowBits=-je.windowBits:je.gzip&&je.windowBits>0&&je.windowBits<16&&(je.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let ze=deflate_1$2.deflateInit2(this.strm,je.level,je.method,je.windowBits,je.memLevel,je.strategy);if(ze!==Z_OK$2)throw new Error(messages[ze]);if(je.header&&deflate_1$2.deflateSetHeader(this.strm,je.header),je.dictionary){let qe;if(typeof je.dictionary=="string"?qe=strings.string2buf(je.dictionary):toString$1$1.call(je.dictionary)==="[object ArrayBuffer]"?qe=new Uint8Array(je.dictionary):qe=je.dictionary,ze=deflate_1$2.deflateSetDictionary(this.strm,qe),ze!==Z_OK$2)throw new Error(messages[ze]);this._dict_set=!0}}Deflate$1.prototype.push=function(Ve,je){const ze=this.strm,qe=this.options.chunkSize;let Xe,Ye;if(this.ended)return!1;for(je===~~je?Ye=je:Ye=je===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof Ve=="string"?ze.input=strings.string2buf(Ve):toString$1$1.call(Ve)==="[object ArrayBuffer]"?ze.input=new Uint8Array(Ve):ze.input=Ve,ze.next_in=0,ze.avail_in=ze.input.length;;){if(ze.avail_out===0&&(ze.output=new Uint8Array(qe),ze.next_out=0,ze.avail_out=qe),(Ye===Z_SYNC_FLUSH||Ye===Z_FULL_FLUSH)&&ze.avail_out<=6){this.onData(ze.output.subarray(0,ze.next_out)),ze.avail_out=0;continue}if(Xe=deflate_1$2.deflate(ze,Ye),Xe===Z_STREAM_END$2)return ze.next_out>0&&this.onData(ze.output.subarray(0,ze.next_out)),Xe=deflate_1$2.deflateEnd(this.strm),this.onEnd(Xe),this.ended=!0,Xe===Z_OK$2;if(ze.avail_out===0){this.onData(ze.output);continue}if(Ye>0&&ze.next_out>0){this.onData(ze.output.subarray(0,ze.next_out)),ze.avail_out=0;continue}if(ze.avail_in===0)break}return!0};Deflate$1.prototype.onData=function(Ve){this.chunks.push(Ve)};Deflate$1.prototype.onEnd=function(Ve){Ve===Z_OK$2&&(this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=Ve,this.msg=this.strm.msg};function deflate$1(Ve,je){const ze=new Deflate$1(je);if(ze.push(Ve,!0),ze.err)throw ze.msg||messages[ze.err];return ze.result}function deflateRaw$1(Ve,je){return je=je||{},je.raw=!0,deflate$1(Ve,je)}function gzip$1(Ve,je){return je=je||{},je.gzip=!0,deflate$1(Ve,je)}var Deflate_1$1=Deflate$1,deflate_2=deflate$1,deflateRaw_1$1=deflateRaw$1,gzip_1$1=gzip$1,constants$1=constants$2,deflate_1$1={Deflate:Deflate_1$1,deflate:deflate_2,deflateRaw:deflateRaw_1$1,gzip:gzip_1$1,constants:constants$1};const BAD$1=16209,TYPE$1=16191;var inffast=function(Ve,je){let ze,qe,Xe,Ye,Ke,Ze,Qe,Je,St,ei,ti,ii,ri,si,ui,ai,oi,ni,ci,hi,di,fi,mi,pi;const wi=Ve.state;ze=Ve.next_in,mi=Ve.input,qe=ze+(Ve.avail_in-5),Xe=Ve.next_out,pi=Ve.output,Ye=Xe-(je-Ve.avail_out),Ke=Xe+(Ve.avail_out-257),Ze=wi.dmax,Qe=wi.wsize,Je=wi.whave,St=wi.wnext,ei=wi.window,ti=wi.hold,ii=wi.bits,ri=wi.lencode,si=wi.distcode,ui=(1<<wi.lenbits)-1,ai=(1<<wi.distbits)-1;e:do{ii<15&&(ti+=mi[ze++]<<ii,ii+=8,ti+=mi[ze++]<<ii,ii+=8),oi=ri[ti&ui];t:for(;;){if(ni=oi>>>24,ti>>>=ni,ii-=ni,ni=oi>>>16&255,ni===0)pi[Xe++]=oi&65535;else if(ni&16){ci=oi&65535,ni&=15,ni&&(ii<ni&&(ti+=mi[ze++]<<ii,ii+=8),ci+=ti&(1<<ni)-1,ti>>>=ni,ii-=ni),ii<15&&(ti+=mi[ze++]<<ii,ii+=8,ti+=mi[ze++]<<ii,ii+=8),oi=si[ti&ai];i:for(;;){if(ni=oi>>>24,ti>>>=ni,ii-=ni,ni=oi>>>16&255,ni&16){if(hi=oi&65535,ni&=15,ii<ni&&(ti+=mi[ze++]<<ii,ii+=8,ii<ni&&(ti+=mi[ze++]<<ii,ii+=8)),hi+=ti&(1<<ni)-1,hi>Ze){Ve.msg="invalid distance too far back",wi.mode=BAD$1;break e}if(ti>>>=ni,ii-=ni,ni=Xe-Ye,hi>ni){if(ni=hi-ni,ni>Je&&wi.sane){Ve.msg="invalid distance too far back",wi.mode=BAD$1;break e}if(di=0,fi=ei,St===0){if(di+=Qe-ni,ni<ci){ci-=ni;do pi[Xe++]=ei[di++];while(--ni);di=Xe-hi,fi=pi}}else if(St<ni){if(di+=Qe+St-ni,ni-=St,ni<ci){ci-=ni;do pi[Xe++]=ei[di++];while(--ni);if(di=0,St<ci){ni=St,ci-=ni;do pi[Xe++]=ei[di++];while(--ni);di=Xe-hi,fi=pi}}}else if(di+=St-ni,ni<ci){ci-=ni;do pi[Xe++]=ei[di++];while(--ni);di=Xe-hi,fi=pi}for(;ci>2;)pi[Xe++]=fi[di++],pi[Xe++]=fi[di++],pi[Xe++]=fi[di++],ci-=3;ci&&(pi[Xe++]=fi[di++],ci>1&&(pi[Xe++]=fi[di++]))}else{di=Xe-hi;do pi[Xe++]=pi[di++],pi[Xe++]=pi[di++],pi[Xe++]=pi[di++],ci-=3;while(ci>2);ci&&(pi[Xe++]=pi[di++],ci>1&&(pi[Xe++]=pi[di++]))}}else if(ni&64){Ve.msg="invalid distance code",wi.mode=BAD$1;break e}else{oi=si[(oi&65535)+(ti&(1<<ni)-1)];continue i}break}}else if(ni&64)if(ni&32){wi.mode=TYPE$1;break e}else{Ve.msg="invalid literal/length code",wi.mode=BAD$1;break e}else{oi=ri[(oi&65535)+(ti&(1<<ni)-1)];continue t}break}}while(ze<qe&&Xe<Ke);ci=ii>>3,ze-=ci,ii-=ci<<3,ti&=(1<<ii)-1,Ve.next_in=ze,Ve.next_out=Xe,Ve.avail_in=ze<qe?5+(qe-ze):5-(ze-qe),Ve.avail_out=Xe<Ke?257+(Ke-Xe):257-(Xe-Ke),wi.hold=ti,wi.bits=ii};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(Ve,je,ze,qe,Xe,Ye,Ke,Ze)=>{const Qe=Ze.bits;let Je=0,St=0,ei=0,ti=0,ii=0,ri=0,si=0,ui=0,ai=0,oi=0,ni,ci,hi,di,fi,mi=null,pi;const wi=new Uint16Array(MAXBITS+1),gi=new Uint16Array(MAXBITS+1);let yi=null,Ai,Si,ki;for(Je=0;Je<=MAXBITS;Je++)wi[Je]=0;for(St=0;St<qe;St++)wi[je[ze+St]]++;for(ii=Qe,ti=MAXBITS;ti>=1&&wi[ti]===0;ti--);if(ii>ti&&(ii=ti),ti===0)return Xe[Ye++]=1<<24|64<<16|0,Xe[Ye++]=1<<24|64<<16|0,Ze.bits=1,0;for(ei=1;ei<ti&&wi[ei]===0;ei++);for(ii<ei&&(ii=ei),ui=1,Je=1;Je<=MAXBITS;Je++)if(ui<<=1,ui-=wi[Je],ui<0)return-1;if(ui>0&&(Ve===CODES$1||ti!==1))return-1;for(gi[1]=0,Je=1;Je<MAXBITS;Je++)gi[Je+1]=gi[Je]+wi[Je];for(St=0;St<qe;St++)je[ze+St]!==0&&(Ke[gi[je[ze+St]]++]=St);if(Ve===CODES$1?(mi=yi=Ke,pi=20):Ve===LENS$1?(mi=lbase,yi=lext,pi=257):(mi=dbase,yi=dext,pi=0),oi=0,St=0,Je=ei,fi=Ye,ri=ii,si=0,hi=-1,ai=1<<ii,di=ai-1,Ve===LENS$1&&ai>ENOUGH_LENS$1||Ve===DISTS$1&&ai>ENOUGH_DISTS$1)return 1;for(;;){Ai=Je-si,Ke[St]+1<pi?(Si=0,ki=Ke[St]):Ke[St]>=pi?(Si=yi[Ke[St]-pi],ki=mi[Ke[St]-pi]):(Si=96,ki=0),ni=1<<Je-si,ci=1<<ri,ei=ci;do ci-=ni,Xe[fi+(oi>>si)+ci]=Ai<<24|Si<<16|ki|0;while(ci!==0);for(ni=1<<Je-1;oi&ni;)ni>>=1;if(ni!==0?(oi&=ni-1,oi+=ni):oi=0,St++,--wi[Je]===0){if(Je===ti)break;Je=je[ze+Ke[St]]}if(Je>ii&&(oi&di)!==hi){for(si===0&&(si=ii),fi+=ei,ri=Je-si,ui=1<<ri;ri+si<ti&&(ui-=wi[ri+si],!(ui<=0));)ri++,ui<<=1;if(ai+=1<<ri,Ve===LENS$1&&ai>ENOUGH_LENS$1||Ve===DISTS$1&&ai>ENOUGH_DISTS$1)return 1;hi=oi&di,Xe[hi]=ii<<24|ri<<16|fi-Ye|0}}return oi!==0&&(Xe[fi+oi]=Je-si<<24|64<<16|0),Ze.bits=ii,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=16180,FLAGS=16181,TIME=16182,OS=16183,EXLEN=16184,EXTRA=16185,NAME=16186,COMMENT=16187,HCRC=16188,DICTID=16189,DICT=16190,TYPE=16191,TYPEDO=16192,STORED=16193,COPY_=16194,COPY=16195,TABLE=16196,LENLENS=16197,CODELENS=16198,LEN_=16199,LEN=16200,LENEXT=16201,DIST=16202,DISTEXT=16203,MATCH=16204,LIT=16205,CHECK=16206,LENGTH=16207,DONE=16208,BAD=16209,MEM=16210,SYNC=16211,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=Ve=>(Ve>>>24&255)+(Ve>>>8&65280)+((Ve&65280)<<8)+((Ve&255)<<24);function InflateState(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateStateCheck=Ve=>{if(!Ve)return 1;const je=Ve.state;return!je||je.strm!==Ve||je.mode<HEAD||je.mode>SYNC?1:0},inflateResetKeep=Ve=>{if(inflateStateCheck(Ve))return Z_STREAM_ERROR$1;const je=Ve.state;return Ve.total_in=Ve.total_out=je.total=0,Ve.msg="",je.wrap&&(Ve.adler=je.wrap&1),je.mode=HEAD,je.last=0,je.havedict=0,je.flags=-1,je.dmax=32768,je.head=null,je.hold=0,je.bits=0,je.lencode=je.lendyn=new Int32Array(ENOUGH_LENS),je.distcode=je.distdyn=new Int32Array(ENOUGH_DISTS),je.sane=1,je.back=-1,Z_OK$1},inflateReset=Ve=>{if(inflateStateCheck(Ve))return Z_STREAM_ERROR$1;const je=Ve.state;return je.wsize=0,je.whave=0,je.wnext=0,inflateResetKeep(Ve)},inflateReset2=(Ve,je)=>{let ze;if(inflateStateCheck(Ve))return Z_STREAM_ERROR$1;const qe=Ve.state;return je<0?(ze=0,je=-je):(ze=(je>>4)+5,je<48&&(je&=15)),je&&(je<8||je>15)?Z_STREAM_ERROR$1:(qe.window!==null&&qe.wbits!==je&&(qe.window=null),qe.wrap=ze,qe.wbits=je,inflateReset(Ve))},inflateInit2=(Ve,je)=>{if(!Ve)return Z_STREAM_ERROR$1;const ze=new InflateState;Ve.state=ze,ze.strm=Ve,ze.window=null,ze.mode=HEAD;const qe=inflateReset2(Ve,je);return qe!==Z_OK$1&&(Ve.state=null),qe},inflateInit=Ve=>inflateInit2(Ve,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=Ve=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let je=0;for(;je<144;)Ve.lens[je++]=8;for(;je<256;)Ve.lens[je++]=9;for(;je<280;)Ve.lens[je++]=7;for(;je<288;)Ve.lens[je++]=8;for(inftrees(LENS,Ve.lens,0,288,lenfix,0,Ve.work,{bits:9}),je=0;je<32;)Ve.lens[je++]=5;inftrees(DISTS,Ve.lens,0,32,distfix,0,Ve.work,{bits:5}),virgin=!1}Ve.lencode=lenfix,Ve.lenbits=9,Ve.distcode=distfix,Ve.distbits=5},updatewindow=(Ve,je,ze,qe)=>{let Xe;const Ye=Ve.state;return Ye.window===null&&(Ye.wsize=1<<Ye.wbits,Ye.wnext=0,Ye.whave=0,Ye.window=new Uint8Array(Ye.wsize)),qe>=Ye.wsize?(Ye.window.set(je.subarray(ze-Ye.wsize,ze),0),Ye.wnext=0,Ye.whave=Ye.wsize):(Xe=Ye.wsize-Ye.wnext,Xe>qe&&(Xe=qe),Ye.window.set(je.subarray(ze-qe,ze-qe+Xe),Ye.wnext),qe-=Xe,qe?(Ye.window.set(je.subarray(ze-qe,ze),0),Ye.wnext=qe,Ye.whave=Ye.wsize):(Ye.wnext+=Xe,Ye.wnext===Ye.wsize&&(Ye.wnext=0),Ye.whave<Ye.wsize&&(Ye.whave+=Xe))),0},inflate$2=(Ve,je)=>{let ze,qe,Xe,Ye,Ke,Ze,Qe,Je,St,ei,ti,ii,ri,si,ui=0,ai,oi,ni,ci,hi,di,fi,mi;const pi=new Uint8Array(4);let wi,gi;const yi=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck(Ve)||!Ve.output||!Ve.input&&Ve.avail_in!==0)return Z_STREAM_ERROR$1;ze=Ve.state,ze.mode===TYPE&&(ze.mode=TYPEDO),Ke=Ve.next_out,Xe=Ve.output,Qe=Ve.avail_out,Ye=Ve.next_in,qe=Ve.input,Ze=Ve.avail_in,Je=ze.hold,St=ze.bits,ei=Ze,ti=Qe,mi=Z_OK$1;e:for(;;)switch(ze.mode){case HEAD:if(ze.wrap===0){ze.mode=TYPEDO;break}for(;St<16;){if(Ze===0)break e;Ze--,Je+=qe[Ye++]<<St,St+=8}if(ze.wrap&2&&Je===35615){ze.wbits===0&&(ze.wbits=15),ze.check=0,pi[0]=Je&255,pi[1]=Je>>>8&255,ze.check=crc32_1(ze.check,pi,2,0),Je=0,St=0,ze.mode=FLAGS;break}if(ze.head&&(ze.head.done=!1),!(ze.wrap&1)||(((Je&255)<<8)+(Je>>8))%31){Ve.msg="incorrect header check",ze.mode=BAD;break}if((Je&15)!==Z_DEFLATED){Ve.msg="unknown compression method",ze.mode=BAD;break}if(Je>>>=4,St-=4,fi=(Je&15)+8,ze.wbits===0&&(ze.wbits=fi),fi>15||fi>ze.wbits){Ve.msg="invalid window size",ze.mode=BAD;break}ze.dmax=1<<ze.wbits,ze.flags=0,Ve.adler=ze.check=1,ze.mode=Je&512?DICTID:TYPE,Je=0,St=0;break;case FLAGS:for(;St<16;){if(Ze===0)break e;Ze--,Je+=qe[Ye++]<<St,St+=8}if(ze.flags=Je,(ze.flags&255)!==Z_DEFLATED){Ve.msg="unknown compression method",ze.mode=BAD;break}if(ze.flags&57344){Ve.msg="unknown header flags set",ze.mode=BAD;break}ze.head&&(ze.head.text=Je>>8&1),ze.flags&512&&ze.wrap&4&&(pi[0]=Je&255,pi[1]=Je>>>8&255,ze.check=crc32_1(ze.check,pi,2,0)),Je=0,St=0,ze.mode=TIME;case TIME:for(;St<32;){if(Ze===0)break e;Ze--,Je+=qe[Ye++]<<St,St+=8}ze.head&&(ze.head.time=Je),ze.flags&512&&ze.wrap&4&&(pi[0]=Je&255,pi[1]=Je>>>8&255,pi[2]=Je>>>16&255,pi[3]=Je>>>24&255,ze.check=crc32_1(ze.check,pi,4,0)),Je=0,St=0,ze.mode=OS;case OS:for(;St<16;){if(Ze===0)break e;Ze--,Je+=qe[Ye++]<<St,St+=8}ze.head&&(ze.head.xflags=Je&255,ze.head.os=Je>>8),ze.flags&512&&ze.wrap&4&&(pi[0]=Je&255,pi[1]=Je>>>8&255,ze.check=crc32_1(ze.check,pi,2,0)),Je=0,St=0,ze.mode=EXLEN;case EXLEN:if(ze.flags&1024){for(;St<16;){if(Ze===0)break e;Ze--,Je+=qe[Ye++]<<St,St+=8}ze.length=Je,ze.head&&(ze.head.extra_len=Je),ze.flags&512&&ze.wrap&4&&(pi[0]=Je&255,pi[1]=Je>>>8&255,ze.check=crc32_1(ze.check,pi,2,0)),Je=0,St=0}else ze.head&&(ze.head.extra=null);ze.mode=EXTRA;case EXTRA:if(ze.flags&1024&&(ii=ze.length,ii>Ze&&(ii=Ze),ii&&(ze.head&&(fi=ze.head.extra_len-ze.length,ze.head.extra||(ze.head.extra=new Uint8Array(ze.head.extra_len)),ze.head.extra.set(qe.subarray(Ye,Ye+ii),fi)),ze.flags&512&&ze.wrap&4&&(ze.check=crc32_1(ze.check,qe,ii,Ye)),Ze-=ii,Ye+=ii,ze.length-=ii),ze.length))break e;ze.length=0,ze.mode=NAME;case NAME:if(ze.flags&2048){if(Ze===0)break e;ii=0;do fi=qe[Ye+ii++],ze.head&&fi&&ze.length<65536&&(ze.head.name+=String.fromCharCode(fi));while(fi&&ii<Ze);if(ze.flags&512&&ze.wrap&4&&(ze.check=crc32_1(ze.check,qe,ii,Ye)),Ze-=ii,Ye+=ii,fi)break e}else ze.head&&(ze.head.name=null);ze.length=0,ze.mode=COMMENT;case COMMENT:if(ze.flags&4096){if(Ze===0)break e;ii=0;do fi=qe[Ye+ii++],ze.head&&fi&&ze.length<65536&&(ze.head.comment+=String.fromCharCode(fi));while(fi&&ii<Ze);if(ze.flags&512&&ze.wrap&4&&(ze.check=crc32_1(ze.check,qe,ii,Ye)),Ze-=ii,Ye+=ii,fi)break e}else ze.head&&(ze.head.comment=null);ze.mode=HCRC;case HCRC:if(ze.flags&512){for(;St<16;){if(Ze===0)break e;Ze--,Je+=qe[Ye++]<<St,St+=8}if(ze.wrap&4&&Je!==(ze.check&65535)){Ve.msg="header crc mismatch",ze.mode=BAD;break}Je=0,St=0}ze.head&&(ze.head.hcrc=ze.flags>>9&1,ze.head.done=!0),Ve.adler=ze.check=0,ze.mode=TYPE;break;case DICTID:for(;St<32;){if(Ze===0)break e;Ze--,Je+=qe[Ye++]<<St,St+=8}Ve.adler=ze.check=zswap32(Je),Je=0,St=0,ze.mode=DICT;case DICT:if(ze.havedict===0)return Ve.next_out=Ke,Ve.avail_out=Qe,Ve.next_in=Ye,Ve.avail_in=Ze,ze.hold=Je,ze.bits=St,Z_NEED_DICT$1;Ve.adler=ze.check=1,ze.mode=TYPE;case TYPE:if(je===Z_BLOCK||je===Z_TREES)break e;case TYPEDO:if(ze.last){Je>>>=St&7,St-=St&7,ze.mode=CHECK;break}for(;St<3;){if(Ze===0)break e;Ze--,Je+=qe[Ye++]<<St,St+=8}switch(ze.last=Je&1,Je>>>=1,St-=1,Je&3){case 0:ze.mode=STORED;break;case 1:if(fixedtables(ze),ze.mode=LEN_,je===Z_TREES){Je>>>=2,St-=2;break e}break;case 2:ze.mode=TABLE;break;case 3:Ve.msg="invalid block type",ze.mode=BAD}Je>>>=2,St-=2;break;case STORED:for(Je>>>=St&7,St-=St&7;St<32;){if(Ze===0)break e;Ze--,Je+=qe[Ye++]<<St,St+=8}if((Je&65535)!==(Je>>>16^65535)){Ve.msg="invalid stored block lengths",ze.mode=BAD;break}if(ze.length=Je&65535,Je=0,St=0,ze.mode=COPY_,je===Z_TREES)break e;case COPY_:ze.mode=COPY;case COPY:if(ii=ze.length,ii){if(ii>Ze&&(ii=Ze),ii>Qe&&(ii=Qe),ii===0)break e;Xe.set(qe.subarray(Ye,Ye+ii),Ke),Ze-=ii,Ye+=ii,Qe-=ii,Ke+=ii,ze.length-=ii;break}ze.mode=TYPE;break;case TABLE:for(;St<14;){if(Ze===0)break e;Ze--,Je+=qe[Ye++]<<St,St+=8}if(ze.nlen=(Je&31)+257,Je>>>=5,St-=5,ze.ndist=(Je&31)+1,Je>>>=5,St-=5,ze.ncode=(Je&15)+4,Je>>>=4,St-=4,ze.nlen>286||ze.ndist>30){Ve.msg="too many length or distance symbols",ze.mode=BAD;break}ze.have=0,ze.mode=LENLENS;case LENLENS:for(;ze.have<ze.ncode;){for(;St<3;){if(Ze===0)break e;Ze--,Je+=qe[Ye++]<<St,St+=8}ze.lens[yi[ze.have++]]=Je&7,Je>>>=3,St-=3}for(;ze.have<19;)ze.lens[yi[ze.have++]]=0;if(ze.lencode=ze.lendyn,ze.lenbits=7,wi={bits:ze.lenbits},mi=inftrees(CODES,ze.lens,0,19,ze.lencode,0,ze.work,wi),ze.lenbits=wi.bits,mi){Ve.msg="invalid code lengths set",ze.mode=BAD;break}ze.have=0,ze.mode=CODELENS;case CODELENS:for(;ze.have<ze.nlen+ze.ndist;){for(;ui=ze.lencode[Je&(1<<ze.lenbits)-1],ai=ui>>>24,oi=ui>>>16&255,ni=ui&65535,!(ai<=St);){if(Ze===0)break e;Ze--,Je+=qe[Ye++]<<St,St+=8}if(ni<16)Je>>>=ai,St-=ai,ze.lens[ze.have++]=ni;else{if(ni===16){for(gi=ai+2;St<gi;){if(Ze===0)break e;Ze--,Je+=qe[Ye++]<<St,St+=8}if(Je>>>=ai,St-=ai,ze.have===0){Ve.msg="invalid bit length repeat",ze.mode=BAD;break}fi=ze.lens[ze.have-1],ii=3+(Je&3),Je>>>=2,St-=2}else if(ni===17){for(gi=ai+3;St<gi;){if(Ze===0)break e;Ze--,Je+=qe[Ye++]<<St,St+=8}Je>>>=ai,St-=ai,fi=0,ii=3+(Je&7),Je>>>=3,St-=3}else{for(gi=ai+7;St<gi;){if(Ze===0)break e;Ze--,Je+=qe[Ye++]<<St,St+=8}Je>>>=ai,St-=ai,fi=0,ii=11+(Je&127),Je>>>=7,St-=7}if(ze.have+ii>ze.nlen+ze.ndist){Ve.msg="invalid bit length repeat",ze.mode=BAD;break}for(;ii--;)ze.lens[ze.have++]=fi}}if(ze.mode===BAD)break;if(ze.lens[256]===0){Ve.msg="invalid code -- missing end-of-block",ze.mode=BAD;break}if(ze.lenbits=9,wi={bits:ze.lenbits},mi=inftrees(LENS,ze.lens,0,ze.nlen,ze.lencode,0,ze.work,wi),ze.lenbits=wi.bits,mi){Ve.msg="invalid literal/lengths set",ze.mode=BAD;break}if(ze.distbits=6,ze.distcode=ze.distdyn,wi={bits:ze.distbits},mi=inftrees(DISTS,ze.lens,ze.nlen,ze.ndist,ze.distcode,0,ze.work,wi),ze.distbits=wi.bits,mi){Ve.msg="invalid distances set",ze.mode=BAD;break}if(ze.mode=LEN_,je===Z_TREES)break e;case LEN_:ze.mode=LEN;case LEN:if(Ze>=6&&Qe>=258){Ve.next_out=Ke,Ve.avail_out=Qe,Ve.next_in=Ye,Ve.avail_in=Ze,ze.hold=Je,ze.bits=St,inffast(Ve,ti),Ke=Ve.next_out,Xe=Ve.output,Qe=Ve.avail_out,Ye=Ve.next_in,qe=Ve.input,Ze=Ve.avail_in,Je=ze.hold,St=ze.bits,ze.mode===TYPE&&(ze.back=-1);break}for(ze.back=0;ui=ze.lencode[Je&(1<<ze.lenbits)-1],ai=ui>>>24,oi=ui>>>16&255,ni=ui&65535,!(ai<=St);){if(Ze===0)break e;Ze--,Je+=qe[Ye++]<<St,St+=8}if(oi&&!(oi&240)){for(ci=ai,hi=oi,di=ni;ui=ze.lencode[di+((Je&(1<<ci+hi)-1)>>ci)],ai=ui>>>24,oi=ui>>>16&255,ni=ui&65535,!(ci+ai<=St);){if(Ze===0)break e;Ze--,Je+=qe[Ye++]<<St,St+=8}Je>>>=ci,St-=ci,ze.back+=ci}if(Je>>>=ai,St-=ai,ze.back+=ai,ze.length=ni,oi===0){ze.mode=LIT;break}if(oi&32){ze.back=-1,ze.mode=TYPE;break}if(oi&64){Ve.msg="invalid literal/length code",ze.mode=BAD;break}ze.extra=oi&15,ze.mode=LENEXT;case LENEXT:if(ze.extra){for(gi=ze.extra;St<gi;){if(Ze===0)break e;Ze--,Je+=qe[Ye++]<<St,St+=8}ze.length+=Je&(1<<ze.extra)-1,Je>>>=ze.extra,St-=ze.extra,ze.back+=ze.extra}ze.was=ze.length,ze.mode=DIST;case DIST:for(;ui=ze.distcode[Je&(1<<ze.distbits)-1],ai=ui>>>24,oi=ui>>>16&255,ni=ui&65535,!(ai<=St);){if(Ze===0)break e;Ze--,Je+=qe[Ye++]<<St,St+=8}if(!(oi&240)){for(ci=ai,hi=oi,di=ni;ui=ze.distcode[di+((Je&(1<<ci+hi)-1)>>ci)],ai=ui>>>24,oi=ui>>>16&255,ni=ui&65535,!(ci+ai<=St);){if(Ze===0)break e;Ze--,Je+=qe[Ye++]<<St,St+=8}Je>>>=ci,St-=ci,ze.back+=ci}if(Je>>>=ai,St-=ai,ze.back+=ai,oi&64){Ve.msg="invalid distance code",ze.mode=BAD;break}ze.offset=ni,ze.extra=oi&15,ze.mode=DISTEXT;case DISTEXT:if(ze.extra){for(gi=ze.extra;St<gi;){if(Ze===0)break e;Ze--,Je+=qe[Ye++]<<St,St+=8}ze.offset+=Je&(1<<ze.extra)-1,Je>>>=ze.extra,St-=ze.extra,ze.back+=ze.extra}if(ze.offset>ze.dmax){Ve.msg="invalid distance too far back",ze.mode=BAD;break}ze.mode=MATCH;case MATCH:if(Qe===0)break e;if(ii=ti-Qe,ze.offset>ii){if(ii=ze.offset-ii,ii>ze.whave&&ze.sane){Ve.msg="invalid distance too far back",ze.mode=BAD;break}ii>ze.wnext?(ii-=ze.wnext,ri=ze.wsize-ii):ri=ze.wnext-ii,ii>ze.length&&(ii=ze.length),si=ze.window}else si=Xe,ri=Ke-ze.offset,ii=ze.length;ii>Qe&&(ii=Qe),Qe-=ii,ze.length-=ii;do Xe[Ke++]=si[ri++];while(--ii);ze.length===0&&(ze.mode=LEN);break;case LIT:if(Qe===0)break e;Xe[Ke++]=ze.length,Qe--,ze.mode=LEN;break;case CHECK:if(ze.wrap){for(;St<32;){if(Ze===0)break e;Ze--,Je|=qe[Ye++]<<St,St+=8}if(ti-=Qe,Ve.total_out+=ti,ze.total+=ti,ze.wrap&4&&ti&&(Ve.adler=ze.check=ze.flags?crc32_1(ze.check,Xe,ti,Ke-ti):adler32_1(ze.check,Xe,ti,Ke-ti)),ti=Qe,ze.wrap&4&&(ze.flags?Je:zswap32(Je))!==ze.check){Ve.msg="incorrect data check",ze.mode=BAD;break}Je=0,St=0}ze.mode=LENGTH;case LENGTH:if(ze.wrap&&ze.flags){for(;St<32;){if(Ze===0)break e;Ze--,Je+=qe[Ye++]<<St,St+=8}if(ze.wrap&4&&Je!==(ze.total&4294967295)){Ve.msg="incorrect length check",ze.mode=BAD;break}Je=0,St=0}ze.mode=DONE;case DONE:mi=Z_STREAM_END$1;break e;case BAD:mi=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return Ve.next_out=Ke,Ve.avail_out=Qe,Ve.next_in=Ye,Ve.avail_in=Ze,ze.hold=Je,ze.bits=St,(ze.wsize||ti!==Ve.avail_out&&ze.mode<BAD&&(ze.mode<CHECK||je!==Z_FINISH$1))&&updatewindow(Ve,Ve.output,Ve.next_out,ti-Ve.avail_out),ei-=Ve.avail_in,ti-=Ve.avail_out,Ve.total_in+=ei,Ve.total_out+=ti,ze.total+=ti,ze.wrap&4&&ti&&(Ve.adler=ze.check=ze.flags?crc32_1(ze.check,Xe,ti,Ve.next_out-ti):adler32_1(ze.check,Xe,ti,Ve.next_out-ti)),Ve.data_type=ze.bits+(ze.last?64:0)+(ze.mode===TYPE?128:0)+(ze.mode===LEN_||ze.mode===COPY_?256:0),(ei===0&&ti===0||je===Z_FINISH$1)&&mi===Z_OK$1&&(mi=Z_BUF_ERROR),mi},inflateEnd=Ve=>{if(inflateStateCheck(Ve))return Z_STREAM_ERROR$1;let je=Ve.state;return je.window&&(je.window=null),Ve.state=null,Z_OK$1},inflateGetHeader=(Ve,je)=>{if(inflateStateCheck(Ve))return Z_STREAM_ERROR$1;const ze=Ve.state;return ze.wrap&2?(ze.head=je,je.done=!1,Z_OK$1):Z_STREAM_ERROR$1},inflateSetDictionary=(Ve,je)=>{const ze=je.length;let qe,Xe,Ye;return inflateStateCheck(Ve)||(qe=Ve.state,qe.wrap!==0&&qe.mode!==DICT)?Z_STREAM_ERROR$1:qe.mode===DICT&&(Xe=1,Xe=adler32_1(Xe,je,ze,0),Xe!==qe.check)?Z_DATA_ERROR$1:(Ye=updatewindow(Ve,je,ze,ze),Ye?(qe.mode=MEM,Z_MEM_ERROR$1):(qe.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString$2=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(Ve){this.options=common.assign({chunkSize:1024*64,windowBits:15,to:""},Ve||{});const je=this.options;je.raw&&je.windowBits>=0&&je.windowBits<16&&(je.windowBits=-je.windowBits,je.windowBits===0&&(je.windowBits=-15)),je.windowBits>=0&&je.windowBits<16&&!(Ve&&Ve.windowBits)&&(je.windowBits+=32),je.windowBits>15&&je.windowBits<48&&(je.windowBits&15||(je.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let ze=inflate_1$2.inflateInit2(this.strm,je.windowBits);if(ze!==Z_OK)throw new Error(messages[ze]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),je.dictionary&&(typeof je.dictionary=="string"?je.dictionary=strings.string2buf(je.dictionary):toString$2.call(je.dictionary)==="[object ArrayBuffer]"&&(je.dictionary=new Uint8Array(je.dictionary)),je.raw&&(ze=inflate_1$2.inflateSetDictionary(this.strm,je.dictionary),ze!==Z_OK)))throw new Error(messages[ze])}Inflate$1.prototype.push=function(Ve,je){const ze=this.strm,qe=this.options.chunkSize,Xe=this.options.dictionary;let Ye,Ke,Ze;if(this.ended)return!1;for(je===~~je?Ke=je:Ke=je===!0?Z_FINISH:Z_NO_FLUSH,toString$2.call(Ve)==="[object ArrayBuffer]"?ze.input=new Uint8Array(Ve):ze.input=Ve,ze.next_in=0,ze.avail_in=ze.input.length;;){for(ze.avail_out===0&&(ze.output=new Uint8Array(qe),ze.next_out=0,ze.avail_out=qe),Ye=inflate_1$2.inflate(ze,Ke),Ye===Z_NEED_DICT&&Xe&&(Ye=inflate_1$2.inflateSetDictionary(ze,Xe),Ye===Z_OK?Ye=inflate_1$2.inflate(ze,Ke):Ye===Z_DATA_ERROR&&(Ye=Z_NEED_DICT));ze.avail_in>0&&Ye===Z_STREAM_END&&ze.state.wrap>0&&Ve[ze.next_in]!==0;)inflate_1$2.inflateReset(ze),Ye=inflate_1$2.inflate(ze,Ke);switch(Ye){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(Ye),this.ended=!0,!1}if(Ze=ze.avail_out,ze.next_out&&(ze.avail_out===0||Ye===Z_STREAM_END))if(this.options.to==="string"){let Qe=strings.utf8border(ze.output,ze.next_out),Je=ze.next_out-Qe,St=strings.buf2string(ze.output,Qe);ze.next_out=Je,ze.avail_out=qe-Je,Je&&ze.output.set(ze.output.subarray(Qe,Qe+Je),0),this.onData(St)}else this.onData(ze.output.length===ze.next_out?ze.output:ze.output.subarray(0,ze.next_out));if(!(Ye===Z_OK&&Ze===0)){if(Ye===Z_STREAM_END)return Ye=inflate_1$2.inflateEnd(this.strm),this.onEnd(Ye),this.ended=!0,!0;if(ze.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(Ve){this.chunks.push(Ve)};Inflate$1.prototype.onEnd=function(Ve){Ve===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=Ve,this.msg=this.strm.msg};function inflate$1(Ve,je){const ze=new Inflate$1(je);if(ze.push(Ve),ze.err)throw ze.msg||messages[ze.err];return ze.result}function inflateRaw$1(Ve,je){return je=je||{},je.raw=!0,inflate$1(Ve,je)}var Inflate_1$1=Inflate$1,inflate_2=inflate$1,inflateRaw_1$1=inflateRaw$1,ungzip$1=inflate$1,constants=constants$2,inflate_1$1={Inflate:Inflate_1$1,inflate:inflate_2,inflateRaw:inflateRaw_1$1,ungzip:ungzip$1,constants};const{Deflate,deflate,deflateRaw,gzip}=deflate_1$1,{Inflate,inflate,inflateRaw,ungzip}=inflate_1$1;var deflate_1=deflate,Inflate_1=Inflate,inflate_1=inflate;const pngSignature=[137,80,78,71,13,10,26,10],crcTable=[];for(let Ve=0;Ve<256;Ve++){let je=Ve;for(let ze=0;ze<8;ze++)je&1?je=3988292384^je>>>1:je=je>>>1;crcTable[Ve]=je}const initialCrc=4294967295;function updateCrc(Ve,je,ze){let qe=Ve;for(let Xe=0;Xe<ze;Xe++)qe=crcTable[(qe^je[Xe])&255]^qe>>>8;return qe}function crc(Ve,je){return(updateCrc(initialCrc,Ve,je)^initialCrc)>>>0}var ColorType;(function(Ve){Ve[Ve.UNKNOWN=-1]="UNKNOWN",Ve[Ve.GREYSCALE=0]="GREYSCALE",Ve[Ve.TRUECOLOUR=2]="TRUECOLOUR",Ve[Ve.INDEXED_COLOUR=3]="INDEXED_COLOUR",Ve[Ve.GREYSCALE_ALPHA=4]="GREYSCALE_ALPHA",Ve[Ve.TRUECOLOUR_ALPHA=6]="TRUECOLOUR_ALPHA"})(ColorType||(ColorType={}));var CompressionMethod;(function(Ve){Ve[Ve.UNKNOWN=-1]="UNKNOWN",Ve[Ve.DEFLATE=0]="DEFLATE"})(CompressionMethod||(CompressionMethod={}));var FilterMethod;(function(Ve){Ve[Ve.UNKNOWN=-1]="UNKNOWN",Ve[Ve.ADAPTIVE=0]="ADAPTIVE"})(FilterMethod||(FilterMethod={}));var InterlaceMethod;(function(Ve){Ve[Ve.UNKNOWN=-1]="UNKNOWN",Ve[Ve.NO_INTERLACE=0]="NO_INTERLACE",Ve[Ve.ADAM7=1]="ADAM7"})(InterlaceMethod||(InterlaceMethod={}));const empty=new Uint8Array(0),NULL="\0",uint16=new Uint16Array([255]),uint8=new Uint8Array(uint16.buffer),osIsLittleEndian=uint8[0]===255;class PngDecoder extends IOBuffer$4{constructor(je,ze={}){super(je);const{checkCrc:qe=!1}=ze;this._checkCrc=qe,this._inflator=new Inflate_1,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=CompressionMethod.UNKNOWN,this._filterMethod=FilterMethod.UNKNOWN,this._interlaceMethod=InterlaceMethod.UNKNOWN,this._colorType=ColorType.UNKNOWN,this.setBigEndian()}decode(){for(this.decodeSignature();!this._end;)this.decodeChunk();return this.decodeImage(),this._png}decodeSignature(){for(let je=0;je<pngSignature.length;je++)if(this.readUint8()!==pngSignature[je])throw new Error(`wrong PNG signature. Byte at ${je} should be ${pngSignature[je]}.`)}decodeChunk(){const je=this.readUint32(),ze=this.readChars(4),qe=this.offset;switch(ze){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(je);break;case"IDAT":this.decodeIDAT(je);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(je);break;case"iCCP":this.decodeiCCP(je);break;case"tEXt":this.decodetEXt(je);break;case"pHYs":this.decodepHYs();break;default:this.skip(je);break}if(this.offset-qe!==je)throw new Error(`Length mismatch while decoding chunk ${ze}`);if(this._checkCrc){const Xe=this.readUint32(),Ye=je+4,Ke=crc(new Uint8Array(this.buffer,this.byteOffset+this.offset-Ye-4,Ye),Ye);if(Ke!==Xe)throw new Error(`CRC mismatch for chunk ${ze}. Expected ${Xe}, found ${Ke}`)}else this.skip(4)}decodeIHDR(){const je=this._png;je.width=this.readUint32(),je.height=this.readUint32(),je.depth=checkBitDepth(this.readUint8());const ze=this.readUint8();this._colorType=ze;let qe;switch(ze){case ColorType.GREYSCALE:qe=1;break;case ColorType.TRUECOLOUR:qe=3;break;case ColorType.INDEXED_COLOUR:qe=1;break;case ColorType.GREYSCALE_ALPHA:qe=2;break;case ColorType.TRUECOLOUR_ALPHA:qe=4;break;default:throw new Error(`Unknown color type: ${ze}`)}if(this._png.channels=qe,this._compressionMethod=this.readUint8(),this._compressionMethod!==CompressionMethod.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodePLTE(je){if(je%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${je}`);const ze=je/3;this._hasPalette=!0;const qe=[];this._palette=qe;for(let Xe=0;Xe<ze;Xe++)qe.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(je){this._inflator.push(new Uint8Array(this.buffer,this.offset+this.byteOffset,je)),this.skip(je)}decodetRNS(je){switch(this._colorType){case ColorType.GREYSCALE:case ColorType.TRUECOLOUR:{if(je%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${je}`);if(je/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${je/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(je/2);for(let ze=0;ze<je/2;ze++)this._transparency[ze]=this.readUint16();break}case ColorType.INDEXED_COLOUR:{if(je>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${je} vs ${this._palette.length})`);let ze=0;for(;ze<je;ze++){const qe=this.readByte();this._palette[ze].push(qe)}for(;ze<this._palette.length;ze++)this._palette[ze].push(255);break}default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(je){let ze="",qe;for(;(qe=this.readChar())!==NULL;)ze+=qe;const Xe=this.readUint8();if(Xe!==CompressionMethod.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${Xe}`);const Ye=this.readBytes(je-ze.length-2);this._png.iccEmbeddedProfile={name:ze,profile:inflate_1(Ye)}}decodetEXt(je){let ze="",qe;for(;(qe=this.readChar())!==NULL;)ze+=qe;this._png.text[ze]=this.readChars(je-ze.length-1)}decodepHYs(){const je=this.readUint32(),ze=this.readUint32(),qe=this.readByte();this._png.resolution={x:je,y:ze,unit:qe}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const je=this._inflator.result;if(this._filterMethod!==FilterMethod.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===InterlaceMethod.NO_INTERLACE)this.decodeInterlaceNull(je);else throw new Error(`Interlace method ${this._interlaceMethod} not supported`)}decodeInterlaceNull(je){const ze=this._png.height,qe=this._png.channels*this._png.depth/8,Xe=this._png.width*qe,Ye=new Uint8Array(this._png.height*Xe);let Ke=empty,Ze=0,Qe,Je;for(let St=0;St<ze;St++){switch(Qe=je.subarray(Ze+1,Ze+1+Xe),Je=Ye.subarray(St*Xe,(St+1)*Xe),je[Ze]){case 0:unfilterNone(Qe,Je,Xe);break;case 1:unfilterSub(Qe,Je,Xe,qe);break;case 2:unfilterUp(Qe,Je,Ke,Xe);break;case 3:unfilterAverage(Qe,Je,Ke,Xe,qe);break;case 4:unfilterPaeth(Qe,Je,Ke,Xe,qe);break;default:throw new Error(`Unsupported filter: ${je[Ze]}`)}Ke=Je,Ze+=Xe+1}if(this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency),this._png.depth===16){const St=new Uint16Array(Ye.buffer);if(osIsLittleEndian)for(let ei=0;ei<St.length;ei++)St[ei]=swap16(St[ei]);this._png.data=St}else this._png.data=Ye}}function unfilterNone(Ve,je,ze){for(let qe=0;qe<ze;qe++)je[qe]=Ve[qe]}function unfilterSub(Ve,je,ze,qe){let Xe=0;for(;Xe<qe;Xe++)je[Xe]=Ve[Xe];for(;Xe<ze;Xe++)je[Xe]=Ve[Xe]+je[Xe-qe]&255}function unfilterUp(Ve,je,ze,qe){let Xe=0;if(ze.length===0)for(;Xe<qe;Xe++)je[Xe]=Ve[Xe];else for(;Xe<qe;Xe++)je[Xe]=Ve[Xe]+ze[Xe]&255}function unfilterAverage(Ve,je,ze,qe,Xe){let Ye=0;if(ze.length===0){for(;Ye<Xe;Ye++)je[Ye]=Ve[Ye];for(;Ye<qe;Ye++)je[Ye]=Ve[Ye]+(je[Ye-Xe]>>1)&255}else{for(;Ye<Xe;Ye++)je[Ye]=Ve[Ye]+(ze[Ye]>>1)&255;for(;Ye<qe;Ye++)je[Ye]=Ve[Ye]+(je[Ye-Xe]+ze[Ye]>>1)&255}}function unfilterPaeth(Ve,je,ze,qe,Xe){let Ye=0;if(ze.length===0){for(;Ye<Xe;Ye++)je[Ye]=Ve[Ye];for(;Ye<qe;Ye++)je[Ye]=Ve[Ye]+je[Ye-Xe]&255}else{for(;Ye<Xe;Ye++)je[Ye]=Ve[Ye]+ze[Ye]&255;for(;Ye<qe;Ye++)je[Ye]=Ve[Ye]+paethPredictor(je[Ye-Xe],ze[Ye],ze[Ye-Xe])&255}}function paethPredictor(Ve,je,ze){const qe=Ve+je-ze,Xe=Math.abs(qe-Ve),Ye=Math.abs(qe-je),Ke=Math.abs(qe-ze);return Xe<=Ye&&Xe<=Ke?Ve:Ye<=Ke?je:ze}function swap16(Ve){return(Ve&255)<<8|Ve>>8&255}function checkBitDepth(Ve){if(Ve!==1&&Ve!==2&&Ve!==4&&Ve!==8&&Ve!==16)throw new Error(`invalid bit depth: ${Ve}`);return Ve}const defaultZlibOptions={level:3};class PngEncoder extends IOBuffer$4{constructor(je,ze={}){super(),this._colorType=ColorType.UNKNOWN,this._zlibOptions={...defaultZlibOptions,...ze.zlib},this._png=this._checkData(je),this.setBigEndian()}encode(){return this.encodeSignature(),this.encodeIHDR(),this.encodeData(),this.encodeIEND(),this.toArray()}encodeSignature(){this.writeBytes(pngSignature)}encodeIHDR(){this.writeUint32(13),this.writeChars("IHDR"),this.writeUint32(this._png.width),this.writeUint32(this._png.height),this.writeByte(this._png.depth),this.writeByte(this._colorType),this.writeByte(CompressionMethod.DEFLATE),this.writeByte(FilterMethod.ADAPTIVE),this.writeByte(InterlaceMethod.NO_INTERLACE),this.writeCrc(17)}encodeIEND(){this.writeUint32(0),this.writeChars("IEND"),this.writeCrc(4)}encodeIDAT(je){this.writeUint32(je.length),this.writeChars("IDAT"),this.writeBytes(je),this.writeCrc(je.length+4)}encodeData(){const{width:je,height:ze,channels:qe,depth:Xe,data:Ye}=this._png,Ke=qe*je,Ze=new IOBuffer$4().setBigEndian();let Qe=0;for(let ei=0;ei<ze;ei++)if(Ze.writeByte(0),Xe===8)Qe=writeDataBytes(Ye,Ze,Ke,Qe);else if(Xe===16)Qe=writeDataUint16(Ye,Ze,Ke,Qe);else throw new Error("unreachable");const Je=Ze.toArray(),St=deflate_1(Je,this._zlibOptions);this.encodeIDAT(St)}_checkData(je){const{colorType:ze,channels:qe,depth:Xe}=getColorType(je),Ye={width:checkInteger(je.width,"width"),height:checkInteger(je.height,"height"),channels:qe,data:je.data,depth:Xe,text:{}};this._colorType=ze;const Ke=Ye.width*Ye.height*qe;if(Ye.data.length!==Ke)throw new RangeError(`wrong data size. Found ${Ye.data.length}, expected ${Ke}`);return Ye}writeCrc(je){this.writeUint32(crc(new Uint8Array(this.buffer,this.byteOffset+this.offset-je,je),je))}}function checkInteger(Ve,je){if(Number.isInteger(Ve)&&Ve>0)return Ve;throw new TypeError(`${je} must be a positive integer`)}function getColorType(Ve){const{channels:je=4,depth:ze=8}=Ve;if(je!==4&&je!==3&&je!==2&&je!==1)throw new RangeError(`unsupported number of channels: ${je}`);if(ze!==8&&ze!==16)throw new RangeError(`unsupported bit depth: ${ze}`);const qe={channels:je,depth:ze,colorType:ColorType.UNKNOWN};switch(je){case 4:qe.colorType=ColorType.TRUECOLOUR_ALPHA;break;case 3:qe.colorType=ColorType.TRUECOLOUR;break;case 1:qe.colorType=ColorType.GREYSCALE;break;case 2:qe.colorType=ColorType.GREYSCALE_ALPHA;break;default:throw new Error("unsupported number of channels")}return qe}function writeDataBytes(Ve,je,ze,qe){for(let Xe=0;Xe<ze;Xe++)je.writeByte(Ve[qe++]);return qe}function writeDataUint16(Ve,je,ze,qe){for(let Xe=0;Xe<ze;Xe++)je.writeUint16(Ve[qe++]);return qe}var ResolutionUnitSpecifier;(function(Ve){Ve[Ve.UNKNOWN=0]="UNKNOWN",Ve[Ve.METRE=1]="METRE"})(ResolutionUnitSpecifier||(ResolutionUnitSpecifier={}));function decodePng(Ve,je){return new PngDecoder(Ve,je).decode()}function encodePng$1(Ve,je){return new PngEncoder(Ve,je).encode()}var encoder={exports:{}};(function(Ve){function je(qe){var Xe=Math.floor,Ye=new Array(64),Ke=new Array(64),Ze=new Array(64),Qe=new Array(64),Je,St,ei,ti,ii=new Array(65535),ri=new Array(65535),si=new Array(64),ui=new Array(64),ai=[],oi=0,ni=7,ci=new Array(64),hi=new Array(64),di=new Array(64),fi=new Array(256),mi=new Array(2048),pi,wi=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],gi=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],yi=[0,1,2,3,4,5,6,7,8,9,10,11],Ai=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Si=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],ki=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Li=[0,1,2,3,4,5,6,7,8,9,10,11],Bi=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Pi=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ri(zi){for(var on=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],cn=0;cn<64;cn++){var mn=Xe((on[cn]*zi+50)/100);mn<1?mn=1:mn>255&&(mn=255),Ye[wi[cn]]=mn}for(var dn=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],An=0;An<64;An++){var pn=Xe((dn[An]*zi+50)/100);pn<1?pn=1:pn>255&&(pn=255),Ke[wi[An]]=pn}for(var Mn=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Hi=0,On=0;On<8;On++)for(var wn=0;wn<8;wn++)Ze[Hi]=1/(Ye[wi[Hi]]*Mn[On]*Mn[wn]*8),Qe[Hi]=1/(Ke[wi[Hi]]*Mn[On]*Mn[wn]*8),Hi++}function Fi(zi,on){for(var cn=0,mn=0,dn=new Array,An=1;An<=16;An++){for(var pn=1;pn<=zi[An];pn++)dn[on[mn]]=[],dn[on[mn]][0]=cn,dn[on[mn]][1]=An,mn++,cn++;cn*=2}return dn}function Gi(){Je=Fi(gi,yi),St=Fi(ki,Li),ei=Fi(Ai,Si),ti=Fi(Bi,Pi)}function Ti(){for(var zi=1,on=2,cn=1;cn<=15;cn++){for(var mn=zi;mn<on;mn++)ri[32767+mn]=cn,ii[32767+mn]=[],ii[32767+mn][1]=cn,ii[32767+mn][0]=mn;for(var dn=-(on-1);dn<=-zi;dn++)ri[32767+dn]=cn,ii[32767+dn]=[],ii[32767+dn][1]=cn,ii[32767+dn][0]=on-1+dn;zi<<=1,on<<=1}}function Vi(){for(var zi=0;zi<256;zi++)mi[zi]=19595*zi,mi[zi+256>>0]=38470*zi,mi[zi+512>>0]=7471*zi+32768,mi[zi+768>>0]=-11059*zi,mi[zi+1024>>0]=-21709*zi,mi[zi+1280>>0]=32768*zi+8421375,mi[zi+1536>>0]=-27439*zi,mi[zi+1792>>0]=-5329*zi}function Ui(zi){for(var on=zi[0],cn=zi[1]-1;cn>=0;)on&1<<cn&&(oi|=1<<ni),cn--,ni--,ni<0&&(oi==255?($i(255),$i(0)):$i(oi),ni=7,oi=0)}function $i(zi){ai.push(zi)}function Wi(zi){$i(zi>>8&255),$i(zi&255)}function tn(zi,on){var cn,mn,dn,An,pn,Mn,Hi,On,wn=0,_n,an=8,Cn=64;for(_n=0;_n<an;++_n){cn=zi[wn],mn=zi[wn+1],dn=zi[wn+2],An=zi[wn+3],pn=zi[wn+4],Mn=zi[wn+5],Hi=zi[wn+6],On=zi[wn+7];var Ln=cn+On,Nn=cn-On,Fn=mn+Hi,Hn=mn-Hi,zn=dn+Mn,Xn=dn-Mn,tr=An+pn,nr=An-pn,mr=Ln+tr,ar=Ln-tr,rr=Fn+zn,Qn=Fn-zn;zi[wn]=mr+rr,zi[wn+4]=mr-rr;var hr=(Qn+ar)*.707106781;zi[wn+2]=ar+hr,zi[wn+6]=ar-hr,mr=nr+Xn,rr=Xn+Hn,Qn=Hn+Nn;var En=(mr-Qn)*.382683433,Yi=.5411961*mr+En,fn=1.306562965*Qn+En,Sn=rr*.707106781,Dn=Nn+Sn,qn=Nn-Sn;zi[wn+5]=qn+Yi,zi[wn+3]=qn-Yi,zi[wn+1]=Dn+fn,zi[wn+7]=Dn-fn,wn+=8}for(wn=0,_n=0;_n<an;++_n){cn=zi[wn],mn=zi[wn+8],dn=zi[wn+16],An=zi[wn+24],pn=zi[wn+32],Mn=zi[wn+40],Hi=zi[wn+48],On=zi[wn+56];var Wn=cn+On,fr=cn-On,or=mn+Hi,cr=mn-Hi,Pr=dn+Mn,so=dn-Mn,Ar=An+pn,Rr=An-pn,wr=Wn+Ar,kr=Wn-Ar,_r=or+Pr,Lr=or-Pr;zi[wn]=wr+_r,zi[wn+32]=wr-_r;var qr=(Lr+kr)*.707106781;zi[wn+16]=kr+qr,zi[wn+48]=kr-qr,wr=Rr+so,_r=so+cr,Lr=cr+fr;var Vr=(wr-Lr)*.382683433,mo=.5411961*wr+Vr,Do=1.306562965*Lr+Vr,ko=_r*.707106781,To=fr+ko,rs=fr-ko;zi[wn+40]=rs+mo,zi[wn+24]=rs-mo,zi[wn+8]=To+Do,zi[wn+56]=To-Do,wn++}var Vo;for(_n=0;_n<Cn;++_n)Vo=zi[_n]*on[_n],si[_n]=Vo>0?Vo+.5|0:Vo-.5|0;return si}function nn(){Wi(65504),Wi(16),$i(74),$i(70),$i(73),$i(70),$i(0),$i(1),$i(1),$i(0),Wi(1),Wi(1),$i(0),$i(0)}function Qi(zi){if(zi){Wi(65505),zi[0]===69&&zi[1]===120&&zi[2]===105&&zi[3]===102?Wi(zi.length+2):(Wi(zi.length+5+2),$i(69),$i(120),$i(105),$i(102),$i(0));for(var on=0;on<zi.length;on++)$i(zi[on])}}function Ei(zi,on){Wi(65472),Wi(17),$i(8),Wi(on),Wi(zi),$i(3),$i(1),$i(17),$i(0),$i(2),$i(17),$i(1),$i(3),$i(17),$i(1)}function bi(){Wi(65499),Wi(132),$i(0);for(var zi=0;zi<64;zi++)$i(Ye[zi]);$i(1);for(var on=0;on<64;on++)$i(Ke[on])}function Ci(){Wi(65476),Wi(418),$i(0);for(var zi=0;zi<16;zi++)$i(gi[zi+1]);for(var on=0;on<=11;on++)$i(yi[on]);$i(16);for(var cn=0;cn<16;cn++)$i(Ai[cn+1]);for(var mn=0;mn<=161;mn++)$i(Si[mn]);$i(1);for(var dn=0;dn<16;dn++)$i(ki[dn+1]);for(var An=0;An<=11;An++)$i(Li[An]);$i(17);for(var pn=0;pn<16;pn++)$i(Bi[pn+1]);for(var Mn=0;Mn<=161;Mn++)$i(Pi[Mn])}function _i(zi){typeof zi>"u"||zi.constructor!==Array||zi.forEach(on=>{if(typeof on=="string"){Wi(65534);var cn=on.length;Wi(cn+2);var mn;for(mn=0;mn<cn;mn++)$i(on.charCodeAt(mn))}})}function Ii(){Wi(65498),Wi(12),$i(3),$i(1),$i(0),$i(2),$i(17),$i(3),$i(17),$i(0),$i(63),$i(0)}function Ni(zi,on,cn,mn,dn){for(var An=dn[0],pn=dn[240],Mn,Hi=16,On=63,wn=64,_n=tn(zi,on),an=0;an<wn;++an)ui[wi[an]]=_n[an];var Cn=ui[0]-cn;cn=ui[0],Cn==0?Ui(mn[0]):(Mn=32767+Cn,Ui(mn[ri[Mn]]),Ui(ii[Mn]));for(var Ln=63;Ln>0&&ui[Ln]==0;Ln--);if(Ln==0)return Ui(An),cn;for(var Nn=1,Fn;Nn<=Ln;){for(var Hn=Nn;ui[Nn]==0&&Nn<=Ln;++Nn);var zn=Nn-Hn;if(zn>=Hi){Fn=zn>>4;for(var Xn=1;Xn<=Fn;++Xn)Ui(pn);zn=zn&15}Mn=32767+ui[Nn],Ui(dn[(zn<<4)+ri[Mn]]),Ui(ii[Mn]),Nn++}return Ln!=On&&Ui(An),cn}function Di(){for(var zi=String.fromCharCode,on=0;on<256;on++)fi[on]=zi(on)}this.encode=function(zi,on){new Date().getTime(),on&&Ki(on),ai=new Array,oi=0,ni=7,Wi(65496),nn(),_i(zi.comments),Qi(zi.exifBuffer),bi(),Ei(zi.width,zi.height),Ci(),Ii();var cn=0,mn=0,dn=0;oi=0,ni=7,this.encode.displayName="_encode_";for(var An=zi.data,pn=zi.width,Mn=zi.height,Hi=pn*4,On,wn=0,_n,an,Cn,Ln,Nn,Fn,Hn,zn;wn<Mn;){for(On=0;On<Hi;){for(Ln=Hi*wn+On,Nn=Ln,Fn=-1,Hn=0,zn=0;zn<64;zn++)Hn=zn>>3,Fn=(zn&7)*4,Nn=Ln+Hn*Hi+Fn,wn+Hn>=Mn&&(Nn-=Hi*(wn+1+Hn-Mn)),On+Fn>=Hi&&(Nn-=On+Fn-Hi+4),_n=An[Nn++],an=An[Nn++],Cn=An[Nn++],ci[zn]=(mi[_n]+mi[an+256>>0]+mi[Cn+512>>0]>>16)-128,hi[zn]=(mi[_n+768>>0]+mi[an+1024>>0]+mi[Cn+1280>>0]>>16)-128,di[zn]=(mi[_n+1280>>0]+mi[an+1536>>0]+mi[Cn+1792>>0]>>16)-128;cn=Ni(ci,Ze,cn,Je,ei),mn=Ni(hi,Qe,mn,St,ti),dn=Ni(di,Qe,dn,St,ti),On+=32}wn+=8}if(ni>=0){var Xn=[];Xn[1]=ni+1,Xn[0]=(1<<ni+1)-1,Ui(Xn)}return Wi(65497),Buffer.from(ai)};function Ki(zi){if(zi<=0&&(zi=1),zi>100&&(zi=100),pi!=zi){var on=0;zi<50?on=Math.floor(5e3/zi):on=Math.floor(200-zi*2),Ri(on),pi=zi}}function sn(){var zi=new Date().getTime();qe||(qe=50),Di(),Gi(),Ti(),Vi(),Ki(qe),new Date().getTime()-zi}sn()}Ve.exports=ze;function ze(qe,Xe){typeof Xe>"u"&&(Xe=50);var Ye=new je(Xe),Ke=Ye.encode(qe,Xe);return{data:Ke,width:qe.width,height:qe.height}}})(encoder);var encoderExports=encoder.exports,decoder={exports:{}};(function(Ve){var je=function(){var qe=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),Xe=4017,Ye=799,Ke=3406,Ze=2276,Qe=1567,Je=3784,St=5793,ei=2896;function ti(){}function ii(ci,hi){for(var di=0,fi=[],mi,pi,wi=16;wi>0&&!ci[wi-1];)wi--;fi.push({children:[],index:0});var gi=fi[0],yi;for(mi=0;mi<wi;mi++){for(pi=0;pi<ci[mi];pi++){for(gi=fi.pop(),gi.children[gi.index]=hi[di];gi.index>0;){if(fi.length===0)throw new Error("Could not recreate Huffman Table");gi=fi.pop()}for(gi.index++,fi.push(gi);fi.length<=mi;)fi.push(yi={children:[],index:0}),gi.children[gi.index]=yi.children,gi=yi;di++}mi+1<wi&&(fi.push(yi={children:[],index:0}),gi.children[gi.index]=yi.children,gi=yi)}return fi[0].children}function ri(ci,hi,di,fi,mi,pi,wi,gi,yi,Ai){di.precision,di.samplesPerLine,di.scanLines;var Si=di.mcusPerLine,ki=di.progressive;di.maxH,di.maxV;var Li=hi,Bi=0,Pi=0;function Ri(){if(Pi>0)return Pi--,Bi>>Pi&1;if(Bi=ci[hi++],Bi==255){var pn=ci[hi++];if(pn)throw new Error("unexpected marker: "+(Bi<<8|pn).toString(16))}return Pi=7,Bi>>>7}function Fi(pn){for(var Mn=pn,Hi;(Hi=Ri())!==null;){if(Mn=Mn[Hi],typeof Mn=="number")return Mn;if(typeof Mn!="object")throw new Error("invalid huffman sequence")}return null}function Gi(pn){for(var Mn=0;pn>0;){var Hi=Ri();if(Hi===null)return;Mn=Mn<<1|Hi,pn--}return Mn}function Ti(pn){var Mn=Gi(pn);return Mn>=1<<pn-1?Mn:Mn+(-1<<pn)+1}function Vi(pn,Mn){var Hi=Fi(pn.huffmanTableDC),On=Hi===0?0:Ti(Hi);Mn[0]=pn.pred+=On;for(var wn=1;wn<64;){var _n=Fi(pn.huffmanTableAC),an=_n&15,Cn=_n>>4;if(an===0){if(Cn<15)break;wn+=16;continue}wn+=Cn;var Ln=qe[wn];Mn[Ln]=Ti(an),wn++}}function Ui(pn,Mn){var Hi=Fi(pn.huffmanTableDC),On=Hi===0?0:Ti(Hi)<<yi;Mn[0]=pn.pred+=On}function $i(pn,Mn){Mn[0]|=Ri()<<yi}var Wi=0;function tn(pn,Mn){if(Wi>0){Wi--;return}for(var Hi=pi,On=wi;Hi<=On;){var wn=Fi(pn.huffmanTableAC),_n=wn&15,an=wn>>4;if(_n===0){if(an<15){Wi=Gi(an)+(1<<an)-1;break}Hi+=16;continue}Hi+=an;var Cn=qe[Hi];Mn[Cn]=Ti(_n)*(1<<yi),Hi++}}var nn=0,Qi;function Ei(pn,Mn){for(var Hi=pi,On=wi,wn=0;Hi<=On;){var _n=qe[Hi],an=Mn[_n]<0?-1:1;switch(nn){case 0:var Cn=Fi(pn.huffmanTableAC),Ln=Cn&15,wn=Cn>>4;if(Ln===0)wn<15?(Wi=Gi(wn)+(1<<wn),nn=4):(wn=16,nn=1);else{if(Ln!==1)throw new Error("invalid ACn encoding");Qi=Ti(Ln),nn=wn?2:3}continue;case 1:case 2:Mn[_n]?Mn[_n]+=(Ri()<<yi)*an:(wn--,wn===0&&(nn=nn==2?3:0));break;case 3:Mn[_n]?Mn[_n]+=(Ri()<<yi)*an:(Mn[_n]=Qi<<yi,nn=0);break;case 4:Mn[_n]&&(Mn[_n]+=(Ri()<<yi)*an);break}Hi++}nn===4&&(Wi--,Wi===0&&(nn=0))}function bi(pn,Mn,Hi,On,wn){var _n=Hi/Si|0,an=Hi%Si,Cn=_n*pn.v+On,Ln=an*pn.h+wn;pn.blocks[Cn]===void 0&&Ai.tolerantDecoding||Mn(pn,pn.blocks[Cn][Ln])}function Ci(pn,Mn,Hi){var On=Hi/pn.blocksPerLine|0,wn=Hi%pn.blocksPerLine;pn.blocks[On]===void 0&&Ai.tolerantDecoding||Mn(pn,pn.blocks[On][wn])}var _i=fi.length,Ii,Ni,Di,Ki,sn,zi;ki?pi===0?zi=gi===0?Ui:$i:zi=gi===0?tn:Ei:zi=Vi;var on=0,cn,mn;_i==1?mn=fi[0].blocksPerLine*fi[0].blocksPerColumn:mn=Si*di.mcusPerColumn,mi||(mi=mn);for(var dn,An;on<mn;){for(Ni=0;Ni<_i;Ni++)fi[Ni].pred=0;if(Wi=0,_i==1)for(Ii=fi[0],sn=0;sn<mi;sn++)Ci(Ii,zi,on),on++;else for(sn=0;sn<mi;sn++){for(Ni=0;Ni<_i;Ni++)for(Ii=fi[Ni],dn=Ii.h,An=Ii.v,Di=0;Di<An;Di++)for(Ki=0;Ki<dn;Ki++)bi(Ii,zi,on,Di,Ki);if(on++,on===mn)break}if(on===mn)do{if(ci[hi]===255&&ci[hi+1]!==0)break;hi+=1}while(hi<ci.length-2);if(Pi=0,cn=ci[hi]<<8|ci[hi+1],cn<65280)throw new Error("marker was not found");if(cn>=65488&&cn<=65495)hi+=2;else break}return hi-Li}function si(ci,hi){var di=[],fi=hi.blocksPerLine,mi=hi.blocksPerColumn,pi=fi<<3,wi=new Int32Array(64),gi=new Uint8Array(64);function yi(Gi,Ti,Vi){var Ui=hi.quantizationTable,$i,Wi,tn,nn,Qi,Ei,bi,Ci,_i,Ii=Vi,Ni;for(Ni=0;Ni<64;Ni++)Ii[Ni]=Gi[Ni]*Ui[Ni];for(Ni=0;Ni<8;++Ni){var Di=8*Ni;if(Ii[1+Di]==0&&Ii[2+Di]==0&&Ii[3+Di]==0&&Ii[4+Di]==0&&Ii[5+Di]==0&&Ii[6+Di]==0&&Ii[7+Di]==0){_i=St*Ii[0+Di]+512>>10,Ii[0+Di]=_i,Ii[1+Di]=_i,Ii[2+Di]=_i,Ii[3+Di]=_i,Ii[4+Di]=_i,Ii[5+Di]=_i,Ii[6+Di]=_i,Ii[7+Di]=_i;continue}$i=St*Ii[0+Di]+128>>8,Wi=St*Ii[4+Di]+128>>8,tn=Ii[2+Di],nn=Ii[6+Di],Qi=ei*(Ii[1+Di]-Ii[7+Di])+128>>8,Ci=ei*(Ii[1+Di]+Ii[7+Di])+128>>8,Ei=Ii[3+Di]<<4,bi=Ii[5+Di]<<4,_i=$i-Wi+1>>1,$i=$i+Wi+1>>1,Wi=_i,_i=tn*Je+nn*Qe+128>>8,tn=tn*Qe-nn*Je+128>>8,nn=_i,_i=Qi-bi+1>>1,Qi=Qi+bi+1>>1,bi=_i,_i=Ci+Ei+1>>1,Ei=Ci-Ei+1>>1,Ci=_i,_i=$i-nn+1>>1,$i=$i+nn+1>>1,nn=_i,_i=Wi-tn+1>>1,Wi=Wi+tn+1>>1,tn=_i,_i=Qi*Ze+Ci*Ke+2048>>12,Qi=Qi*Ke-Ci*Ze+2048>>12,Ci=_i,_i=Ei*Ye+bi*Xe+2048>>12,Ei=Ei*Xe-bi*Ye+2048>>12,bi=_i,Ii[0+Di]=$i+Ci,Ii[7+Di]=$i-Ci,Ii[1+Di]=Wi+bi,Ii[6+Di]=Wi-bi,Ii[2+Di]=tn+Ei,Ii[5+Di]=tn-Ei,Ii[3+Di]=nn+Qi,Ii[4+Di]=nn-Qi}for(Ni=0;Ni<8;++Ni){var Ki=Ni;if(Ii[8+Ki]==0&&Ii[16+Ki]==0&&Ii[24+Ki]==0&&Ii[32+Ki]==0&&Ii[40+Ki]==0&&Ii[48+Ki]==0&&Ii[56+Ki]==0){_i=St*Vi[Ni+0]+8192>>14,Ii[0+Ki]=_i,Ii[8+Ki]=_i,Ii[16+Ki]=_i,Ii[24+Ki]=_i,Ii[32+Ki]=_i,Ii[40+Ki]=_i,Ii[48+Ki]=_i,Ii[56+Ki]=_i;continue}$i=St*Ii[0+Ki]+2048>>12,Wi=St*Ii[32+Ki]+2048>>12,tn=Ii[16+Ki],nn=Ii[48+Ki],Qi=ei*(Ii[8+Ki]-Ii[56+Ki])+2048>>12,Ci=ei*(Ii[8+Ki]+Ii[56+Ki])+2048>>12,Ei=Ii[24+Ki],bi=Ii[40+Ki],_i=$i-Wi+1>>1,$i=$i+Wi+1>>1,Wi=_i,_i=tn*Je+nn*Qe+2048>>12,tn=tn*Qe-nn*Je+2048>>12,nn=_i,_i=Qi-bi+1>>1,Qi=Qi+bi+1>>1,bi=_i,_i=Ci+Ei+1>>1,Ei=Ci-Ei+1>>1,Ci=_i,_i=$i-nn+1>>1,$i=$i+nn+1>>1,nn=_i,_i=Wi-tn+1>>1,Wi=Wi+tn+1>>1,tn=_i,_i=Qi*Ze+Ci*Ke+2048>>12,Qi=Qi*Ke-Ci*Ze+2048>>12,Ci=_i,_i=Ei*Ye+bi*Xe+2048>>12,Ei=Ei*Xe-bi*Ye+2048>>12,bi=_i,Ii[0+Ki]=$i+Ci,Ii[56+Ki]=$i-Ci,Ii[8+Ki]=Wi+bi,Ii[48+Ki]=Wi-bi,Ii[16+Ki]=tn+Ei,Ii[40+Ki]=tn-Ei,Ii[24+Ki]=nn+Qi,Ii[32+Ki]=nn-Qi}for(Ni=0;Ni<64;++Ni){var sn=128+(Ii[Ni]+8>>4);Ti[Ni]=sn<0?0:sn>255?255:sn}}ni(pi*mi*8);for(var Ai,Si,ki=0;ki<mi;ki++){var Li=ki<<3;for(Ai=0;Ai<8;Ai++)di.push(new Uint8Array(pi));for(var Bi=0;Bi<fi;Bi++){yi(hi.blocks[ki][Bi],gi,wi);var Pi=0,Ri=Bi<<3;for(Si=0;Si<8;Si++){var Fi=di[Li+Si];for(Ai=0;Ai<8;Ai++)Fi[Ri+Ai]=gi[Pi++]}}}return di}function ui(ci){return ci<0?0:ci>255?255:ci}ti.prototype={load:function(ci){var hi=new XMLHttpRequest;hi.open("GET",ci,!0),hi.responseType="arraybuffer",hi.onload=(function(){var di=new Uint8Array(hi.response||hi.mozResponseArrayBuffer);this.parse(di),this.onload&&this.onload()}).bind(this),hi.send(null)},parse:function(ci){var hi=this.opts.maxResolutionInMP*1e3*1e3,di=0;ci.length;function fi(){var _n=ci[di]<<8|ci[di+1];return di+=2,_n}function mi(){var _n=fi(),an=ci.subarray(di,di+_n-2);return di+=an.length,an}function pi(_n){var an=1,Cn=1,Ln,Nn;for(Nn in _n.components)_n.components.hasOwnProperty(Nn)&&(Ln=_n.components[Nn],an<Ln.h&&(an=Ln.h),Cn<Ln.v&&(Cn=Ln.v));var Fn=Math.ceil(_n.samplesPerLine/8/an),Hn=Math.ceil(_n.scanLines/8/Cn);for(Nn in _n.components)if(_n.components.hasOwnProperty(Nn)){Ln=_n.components[Nn];var zn=Math.ceil(Math.ceil(_n.samplesPerLine/8)*Ln.h/an),Xn=Math.ceil(Math.ceil(_n.scanLines/8)*Ln.v/Cn),tr=Fn*Ln.h,nr=Hn*Ln.v,mr=nr*tr,ar=[];ni(mr*256);for(var rr=0;rr<nr;rr++){for(var Qn=[],hr=0;hr<tr;hr++)Qn.push(new Int32Array(64));ar.push(Qn)}Ln.blocksPerLine=zn,Ln.blocksPerColumn=Xn,Ln.blocks=ar}_n.maxH=an,_n.maxV=Cn,_n.mcusPerLine=Fn,_n.mcusPerColumn=Hn}var wi=null,gi=null,yi,Ai,Si=[],ki=[],Li=[],Bi=[],Pi=fi(),Ri=-1;if(this.comments=[],Pi!=65496)throw new Error("SOI not found");for(Pi=fi();Pi!=65497;){var Fi,Gi;switch(Pi){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var Ti=mi();if(Pi===65534){var Vi=String.fromCharCode.apply(null,Ti);this.comments.push(Vi)}Pi===65504&&Ti[0]===74&&Ti[1]===70&&Ti[2]===73&&Ti[3]===70&&Ti[4]===0&&(wi={version:{major:Ti[5],minor:Ti[6]},densityUnits:Ti[7],xDensity:Ti[8]<<8|Ti[9],yDensity:Ti[10]<<8|Ti[11],thumbWidth:Ti[12],thumbHeight:Ti[13],thumbData:Ti.subarray(14,14+3*Ti[12]*Ti[13])}),Pi===65505&&Ti[0]===69&&Ti[1]===120&&Ti[2]===105&&Ti[3]===102&&Ti[4]===0&&(this.exifBuffer=Ti.subarray(5,Ti.length)),Pi===65518&&Ti[0]===65&&Ti[1]===100&&Ti[2]===111&&Ti[3]===98&&Ti[4]===101&&Ti[5]===0&&(gi={version:Ti[6],flags0:Ti[7]<<8|Ti[8],flags1:Ti[9]<<8|Ti[10],transformCode:Ti[11]});break;case 65499:for(var Ui=fi(),$i=Ui+di-2;di<$i;){var Wi=ci[di++];ni(256);var tn=new Int32Array(64);if(Wi>>4)if(Wi>>4===1)for(Gi=0;Gi<64;Gi++){var nn=qe[Gi];tn[nn]=fi()}else throw new Error("DQT: invalid table spec");else for(Gi=0;Gi<64;Gi++){var nn=qe[Gi];tn[nn]=ci[di++]}Si[Wi&15]=tn}break;case 65472:case 65473:case 65474:fi(),yi={},yi.extended=Pi===65473,yi.progressive=Pi===65474,yi.precision=ci[di++],yi.scanLines=fi(),yi.samplesPerLine=fi(),yi.components={},yi.componentsOrder=[];var Qi=yi.scanLines*yi.samplesPerLine;if(Qi>hi){var Ei=Math.ceil((Qi-hi)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${Ei}MP`)}var bi=ci[di++],Ci;for(Fi=0;Fi<bi;Fi++){Ci=ci[di];var _i=ci[di+1]>>4,Ii=ci[di+1]&15,Ni=ci[di+2];if(_i<=0||Ii<=0)throw new Error("Invalid sampling factor, expected values above 0");yi.componentsOrder.push(Ci),yi.components[Ci]={h:_i,v:Ii,quantizationIdx:Ni},di+=3}pi(yi),ki.push(yi);break;case 65476:var Di=fi();for(Fi=2;Fi<Di;){var Ki=ci[di++],sn=new Uint8Array(16),zi=0;for(Gi=0;Gi<16;Gi++,di++)zi+=sn[Gi]=ci[di];ni(16+zi);var on=new Uint8Array(zi);for(Gi=0;Gi<zi;Gi++,di++)on[Gi]=ci[di];Fi+=17+zi,(Ki>>4?Li:Bi)[Ki&15]=ii(sn,on)}break;case 65501:fi(),Ai=fi();break;case 65500:fi(),fi();break;case 65498:fi();var cn=ci[di++],mn=[],dn;for(Fi=0;Fi<cn;Fi++){dn=yi.components[ci[di++]];var An=ci[di++];dn.huffmanTableDC=Bi[An>>4],dn.huffmanTableAC=Li[An&15],mn.push(dn)}var pn=ci[di++],Mn=ci[di++],Hi=ci[di++],On=ri(ci,di,yi,mn,Ai,pn,Mn,Hi>>4,Hi&15,this.opts);di+=On;break;case 65535:ci[di]!==255&&di--;break;default:if(ci[di-3]==255&&ci[di-2]>=192&&ci[di-2]<=254){di-=3;break}else if(Pi===224||Pi==225){if(Ri!==-1)throw new Error(`first unknown JPEG marker at offset ${Ri.toString(16)}, second unknown JPEG marker ${Pi.toString(16)} at offset ${(di-1).toString(16)}`);Ri=di-1;const _n=fi();if(ci[di+_n-2]===255){di+=_n-2;break}}throw new Error("unknown JPEG marker "+Pi.toString(16))}Pi=fi()}if(ki.length!=1)throw new Error("only single frame JPEGs supported");for(var Fi=0;Fi<ki.length;Fi++){var wn=ki[Fi].components;for(var Gi in wn)wn[Gi].quantizationTable=Si[wn[Gi].quantizationIdx],delete wn[Gi].quantizationIdx}this.width=yi.samplesPerLine,this.height=yi.scanLines,this.jfif=wi,this.adobe=gi,this.components=[];for(var Fi=0;Fi<yi.componentsOrder.length;Fi++){var dn=yi.components[yi.componentsOrder[Fi]];this.components.push({lines:si(yi,dn),scaleX:dn.h/yi.maxH,scaleY:dn.v/yi.maxV})}},getData:function(ci,hi){var di=this.width/ci,fi=this.height/hi,mi,pi,wi,gi,yi,Ai,Si,ki,Li,Bi,Pi=0,Ri,Fi,Gi,Ti,Vi,Ui,$i,Wi,tn,nn,Qi,Ei=ci*hi*this.components.length;ni(Ei);var bi=new Uint8Array(Ei);switch(this.components.length){case 1:for(mi=this.components[0],Bi=0;Bi<hi;Bi++)for(yi=mi.lines[0|Bi*mi.scaleY*fi],Li=0;Li<ci;Li++)Ri=yi[0|Li*mi.scaleX*di],bi[Pi++]=Ri;break;case 2:for(mi=this.components[0],pi=this.components[1],Bi=0;Bi<hi;Bi++)for(yi=mi.lines[0|Bi*mi.scaleY*fi],Ai=pi.lines[0|Bi*pi.scaleY*fi],Li=0;Li<ci;Li++)Ri=yi[0|Li*mi.scaleX*di],bi[Pi++]=Ri,Ri=Ai[0|Li*pi.scaleX*di],bi[Pi++]=Ri;break;case 3:for(Qi=!0,this.adobe&&this.adobe.transformCode?Qi=!0:typeof this.opts.colorTransform<"u"&&(Qi=!!this.opts.colorTransform),mi=this.components[0],pi=this.components[1],wi=this.components[2],Bi=0;Bi<hi;Bi++)for(yi=mi.lines[0|Bi*mi.scaleY*fi],Ai=pi.lines[0|Bi*pi.scaleY*fi],Si=wi.lines[0|Bi*wi.scaleY*fi],Li=0;Li<ci;Li++)Qi?(Ri=yi[0|Li*mi.scaleX*di],Fi=Ai[0|Li*pi.scaleX*di],Gi=Si[0|Li*wi.scaleX*di],Wi=ui(Ri+1.402*(Gi-128)),tn=ui(Ri-.3441363*(Fi-128)-.71413636*(Gi-128)),nn=ui(Ri+1.772*(Fi-128))):(Wi=yi[0|Li*mi.scaleX*di],tn=Ai[0|Li*pi.scaleX*di],nn=Si[0|Li*wi.scaleX*di]),bi[Pi++]=Wi,bi[Pi++]=tn,bi[Pi++]=nn;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(Qi=!1,this.adobe&&this.adobe.transformCode?Qi=!0:typeof this.opts.colorTransform<"u"&&(Qi=!!this.opts.colorTransform),mi=this.components[0],pi=this.components[1],wi=this.components[2],gi=this.components[3],Bi=0;Bi<hi;Bi++)for(yi=mi.lines[0|Bi*mi.scaleY*fi],Ai=pi.lines[0|Bi*pi.scaleY*fi],Si=wi.lines[0|Bi*wi.scaleY*fi],ki=gi.lines[0|Bi*gi.scaleY*fi],Li=0;Li<ci;Li++)Qi?(Ri=yi[0|Li*mi.scaleX*di],Fi=Ai[0|Li*pi.scaleX*di],Gi=Si[0|Li*wi.scaleX*di],Ti=ki[0|Li*gi.scaleX*di],Vi=255-ui(Ri+1.402*(Gi-128)),Ui=255-ui(Ri-.3441363*(Fi-128)-.71413636*(Gi-128)),$i=255-ui(Ri+1.772*(Fi-128))):(Vi=yi[0|Li*mi.scaleX*di],Ui=Ai[0|Li*pi.scaleX*di],$i=Si[0|Li*wi.scaleX*di],Ti=ki[0|Li*gi.scaleX*di]),bi[Pi++]=255-Vi,bi[Pi++]=255-Ui,bi[Pi++]=255-$i,bi[Pi++]=255-Ti;break;default:throw new Error("Unsupported color mode")}return bi},copyToImageData:function(ci,hi){var di=ci.width,fi=ci.height,mi=ci.data,pi=this.getData(di,fi),wi=0,gi=0,yi,Ai,Si,ki,Li,Bi,Pi,Ri,Fi;switch(this.components.length){case 1:for(Ai=0;Ai<fi;Ai++)for(yi=0;yi<di;yi++)Si=pi[wi++],mi[gi++]=Si,mi[gi++]=Si,mi[gi++]=Si,hi&&(mi[gi++]=255);break;case 3:for(Ai=0;Ai<fi;Ai++)for(yi=0;yi<di;yi++)Pi=pi[wi++],Ri=pi[wi++],Fi=pi[wi++],mi[gi++]=Pi,mi[gi++]=Ri,mi[gi++]=Fi,hi&&(mi[gi++]=255);break;case 4:for(Ai=0;Ai<fi;Ai++)for(yi=0;yi<di;yi++)Li=pi[wi++],Bi=pi[wi++],Si=pi[wi++],ki=pi[wi++],Pi=255-ui(Li*(1-ki/255)+ki),Ri=255-ui(Bi*(1-ki/255)+ki),Fi=255-ui(Si*(1-ki/255)+ki),mi[gi++]=Pi,mi[gi++]=Ri,mi[gi++]=Fi,hi&&(mi[gi++]=255);break;default:throw new Error("Unsupported color mode")}}};var ai=0,oi=0;function ni(ci=0){var hi=ai+ci;if(hi>oi){var di=Math.ceil((hi-oi)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${di}MB`)}ai=hi}return ti.resetMaxMemoryUsage=function(ci){ai=0,oi=ci},ti.getBytesAllocated=function(){return ai},ti.requestMemoryAllocation=ni,ti}();Ve.exports=ze;function ze(qe,Xe={}){var Ye={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512},Ke={...Ye,...Xe},Ze=new Uint8Array(qe),Qe=new je;Qe.opts=Ke,je.resetMaxMemoryUsage(Ke.maxMemoryUsageInMB*1024*1024),Qe.parse(Ze);var Je=Ke.formatAsRGBA?4:3,St=Qe.width*Qe.height*Je;try{je.requestMemoryAllocation(St);var ei={width:Qe.width,height:Qe.height,exifBuffer:Qe.exifBuffer,data:Ke.useTArray?new Uint8Array(St):Buffer.alloc(St)};Qe.comments.length>0&&(ei.comments=Qe.comments)}catch(ti){throw ti instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+St):ti instanceof ReferenceError&&ti.message==="Buffer is not defined"?new Error("Buffer is not globally defined in this environment. Consider setting useTArray to true"):ti}return Qe.copyToImageData(ei,Ke.formatAsRGBA),ei}})(decoder);var decoderExports=decoder.exports,encode$1=encoderExports,decode$4=decoderExports,jpegJs={encode:encode$1,decode:decode$4};let chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup=new Uint8Array(256);for(let Ve=0;Ve<chars.length;Ve++)lookup[chars.charCodeAt(Ve)]=Ve;function encode(Ve){let je,ze=Ve.length,qe="";for(je=0;je<ze;je+=3)qe+=chars[Ve[je]>>2],qe+=chars[(Ve[je]&3)<<4|Ve[je+1]>>4],qe+=chars[(Ve[je+1]&15)<<2|Ve[je+2]>>6],qe+=chars[Ve[je+2]&63];return ze%3===2?qe=`${qe.substring(0,qe.length-1)}=`:ze%3===1&&(qe=`${qe.substring(0,qe.length-2)}==`),qe}function decode$3(Ve){let je=Ve.length*.75,ze=Ve.length,qe=0,Xe,Ye,Ke,Ze;Ve[Ve.length-1]==="="&&(je--,Ve[Ve.length-2]==="="&&je--);const Qe=new Uint8Array(je);for(let Je=0;Je<ze;Je+=4)Xe=lookup[Ve.charCodeAt(Je)],Ye=lookup[Ve.charCodeAt(Je+1)],Ke=lookup[Ve.charCodeAt(Je+2)],Ze=lookup[Ve.charCodeAt(Je+3)],Qe[qe++]=Xe<<2|Ye>>4,Qe[qe++]=(Ye&15)<<4|Ke>>2,Qe[qe++]=(Ke&3)<<6|Ze&63;return Qe}function toBase64URL(Ve,je){const ze=encode(Ve);return`data:${je};base64,${ze}`}const ImageData=self.ImageData,DOMImage=self.Image;function createCanvas(Ve,je){let ze=self.document.createElement("canvas");return ze.width=Ve,ze.height=je,ze}function fetchBinary(Ve,{withCredentials:je=!1}={}){return new Promise(function(ze,qe){let Xe=new self.XMLHttpRequest;Xe.open("GET",Ve,!0),Xe.responseType="arraybuffer",Xe.withCredentials=je,Xe.onload=function(Ye){this.status!==200?qe(Ye):ze(this.response)},Xe.onerror=qe,Xe.send()})}function createWriteStream(){throw new Error("createWriteStream does not exist in the browser")}function writeFile(){throw new Error("writeFile does not exist in the browser")}function getType(Ve){return Ve.includes("/")||(Ve=`image/${Ve}`),Ve}function encodeJpeg(Ve,je={}){const ze={width:Ve.width,height:Ve.height,data:Ve.getRGBAData()};return jpegJs.encode(ze,je.quality).data}function encodePng(Ve,je){const ze={width:Ve.width,height:Ve.height,channels:Ve.channels,depth:Ve.bitDepth,data:Ve.data};return(ze.depth===1||ze.depth===32)&&(ze.depth=8,ze.channels=4,ze.data=Ve.getRGBAData()),encodePng$1(ze,je)}const exportMethods={save(Ve,je={}){const{useCanvas:ze=!1,encoder:qe=void 0}=je;let{format:Xe}=je;if(!Xe){const Ye=/\.(?<format>[a-zA-Z]+)$/.exec(Ve);Ye&&(Xe=Ye.groups.format.toLowerCase())}if(!Xe)throw new Error("file format not provided");return new Promise((Ye,Ke)=>{let Ze,Qe;switch(Xe.toLowerCase()){case"png":{ze?Ze=this.getCanvas().pngStream():Qe=encodePng(this,qe);break}case"jpg":case"jpeg":ze?Ze=this.getCanvas().jpegStream():Qe=encodeJpeg(this,qe);break;case"bmp":Qe=encode$2(this);break;default:throw new RangeError(`invalid output format: ${Xe}`)}if(Ze){let Je=createWriteStream();Je.on("finish",Ye),Je.on("error",Ke),Ze.pipe(Je)}else Qe&&writeFile()})},toDataURL(Ve="image/png",je={}){typeof Ve=="object"&&(je=Ve,Ve="image/png");const{useCanvas:ze=!1,encoder:qe=void 0}=je;Ve=getType(Ve);function Xe(Ye,Ke){const Ze=Ye(Ke,qe);return toBase64URL(Ze,Ve)}return Ve==="image/bmp"?Xe(encode$2,this):Ve==="image/png"&&!ze?Xe(encodePng,this):Ve==="image/jpeg"&&!ze?Xe(encodeJpeg,this):this.getCanvas().toDataURL(Ve)},toBuffer(Ve={}){const{format:je="png",encoder:ze=void 0}=Ve;switch(je.toLowerCase()){case"png":return encodePng(this,ze);case"jpeg":case"jpg":return encodeJpeg(this,ze);case"bmp":return encode$2(this);default:throw new RangeError(`invalid output format: ${je}`)}},toBase64(Ve="image/png",je={}){if(je.async)return this.toDataURL(Ve,je).then(function(ze){return ze.substring(ze.indexOf(",")+1)});{const ze=this.toDataURL(Ve,je);return ze.substring(ze.indexOf(",")+1)}},toBlob(Ve="image/png",je=.8){return canvasToBlob(this.getCanvas(),Ve,je)},getCanvas(){const Ve=new ImageData(this.getRGBAData({clamped:!0}),this.width,this.height);let je=createCanvas(this.width,this.height);return je.getContext("2d").putImageData(Ve,0,0),je}};function setExportMethods(Ve){for(const je in exportMethods)Ve.prototype[je]=exportMethods[je]}var hasOwn$1={exports:{}};const name="has-own",version$1="1.0.1",description="A safer .hasOwnProperty() - hasOwn(name, obj)",main="index.js",scripts={test:"make test"},author="Aaron Heckmann <aaron.heckmann+github@gmail.com>",license="MIT",repository={type:"git",url:"git://github.com/aheckmann/has-own.git"},homepage="https://github.com/aheckmann/has-own/",devDependencies={mocha:"^6.2.2"},require$$0$2={name,version:version$1,description,main,scripts,author,license,repository,homepage,devDependencies};(function(Ve,je){var ze=Object.prototype.hasOwnProperty;Ve.exports=je=function(qe,Xe){return ze.call(Xe,qe)},je.version=require$$0$2.version})(hasOwn$1,hasOwn$1.exports);var hasOwnExports=hasOwn$1.exports;const hasOwn=getDefaultExportFromCjs$1(hasOwnExports);let computedPropertyDescriptor$1={configurable:!0,enumerable:!1,get:void 0};function extendMethod(Ve,je,ze={}){let{inPlace:qe=!1,returnThis:Xe=!0,partialArgs:Ye=[]}=ze;return qe?Image$1.prototype[Ve]=function(...Ke){this.computed=null;let Ze=je.apply(this,[...Ye,...Ke]);return Xe?this:Ze}:Image$1.prototype[Ve]=function(...Ke){return je.apply(this,[...Ye,...Ke])},Image$1}function extendProperty(Ve,je,ze={}){let{partialArgs:qe=[]}=ze;return computedPropertyDescriptor$1.get=function(){if(this.computed===null)this.computed={};else if(hasOwn(Ve,this.computed))return this.computed[Ve];let Xe=je.apply(this,qe);return this.computed[Ve]=Xe,Xe},Object.defineProperty(Image$1.prototype,Ve,computedPropertyDescriptor$1),Image$1}const GREY$1="GREY",RGB$1="RGB",HSL="HSL",HSV="HSV",CMYK$1="CMYK",ColorModel=Object.freeze(Object.defineProperty({__proto__:null,CMYK:CMYK$1,GREY:GREY$1,HSL,HSV,RGB:RGB$1},Symbol.toStringTag,{value:"Module"}));function getRGBAData(Ve={}){const{clamped:je}=Ve;this.checkProcessable("getRGBAData",{components:[1,3],bitDepth:[1,8,16,32]});const ze=this.width*this.height*4;let qe=je?new Uint8ClampedArray(ze):new Uint8Array(ze);return this.bitDepth===1?fillDataFromBinary(this,qe):this.bitDepth===32?(this.checkProcessable("getRGBAData",{alpha:0}),this.components===1?fillDataFromGrey32(this,qe):this.components===3&&(this.checkProcessable("getRGBAData",{colorModel:[RGB$1]}),fillDataFromRGB32(this,qe))):this.components===1?fillDataFromGrey(this,qe):this.components===3&&(this.checkProcessable("getRGBAData",{colorModel:[RGB$1]}),fillDataFromRGB(this,qe)),this.alpha===1?(this.checkProcessable("getRGBAData",{bitDepth:[8,16]}),copyAlpha(this,qe)):fillAlpha(this,qe),qe}function fillDataFromBinary(Ve,je){for(let ze=0;ze<Ve.size;ze++){const qe=Ve.getBit(ze);je[ze*4]=qe*255,je[ze*4+1]=qe*255,je[ze*4+2]=qe*255}}function fillDataFromGrey32(Ve,je){const ze=Ve.min[0],qe=Ve.max[0]-ze;for(let Xe=0;Xe<Ve.size;Xe++){const Ye=Math.floor(255*(Ve.data[Xe]-ze)/qe);je[Xe*4]=Ye,je[Xe*4+1]=Ye,je[Xe*4+2]=Ye}}function fillDataFromRGB32(Ve,je){const ze=Math.min(...Ve.min),qe=Math.max(...Ve.max)-ze;for(let Xe=0;Xe<Ve.size;Xe++){const Ye=Math.floor(255*(Ve.data[Xe*3]-ze)/qe),Ke=Math.floor(255*(Ve.data[Xe*3+1]-ze)/qe),Ze=Math.floor(255*(Ve.data[Xe*3+2]-ze)/qe);je[Xe*4]=Ye,je[Xe*4+1]=Ke,je[Xe*4+2]=Ze}}function fillDataFromGrey(Ve,je){for(let ze=0;ze<Ve.size;ze++)je[ze*4]=Ve.data[ze*Ve.channels]>>>Ve.bitDepth-8,je[ze*4+1]=Ve.data[ze*Ve.channels]>>>Ve.bitDepth-8,je[ze*4+2]=Ve.data[ze*Ve.channels]>>>Ve.bitDepth-8}function fillDataFromRGB(Ve,je){for(let ze=0;ze<Ve.size;ze++)je[ze*4]=Ve.data[ze*Ve.channels]>>>Ve.bitDepth-8,je[ze*4+1]=Ve.data[ze*Ve.channels+1]>>>Ve.bitDepth-8,je[ze*4+2]=Ve.data[ze*Ve.channels+2]>>>Ve.bitDepth-8}function copyAlpha(Ve,je){for(let ze=0;ze<Ve.size;ze++)je[ze*4+3]=Ve.data[ze*Ve.channels+Ve.components]>>Ve.bitDepth-8}function fillAlpha(Ve,je){for(let ze=0;ze<Ve.size;ze++)je[ze*4+3]=255}const BINARY="BINARY",GREY="GREY",GREYA="GREYA",RGB="RGB",RGBA="RGBA",CMYK="CMYK",CMYKA="CMYKA",kinds={};kinds[BINARY]={components:1,alpha:0,bitDepth:1,colorModel:GREY$1};kinds[GREYA]={components:1,alpha:1,bitDepth:8,colorModel:GREY$1};kinds[GREY]={components:1,alpha:0,bitDepth:8,colorModel:GREY$1};kinds[RGBA]={components:3,alpha:1,bitDepth:8,colorModel:RGB$1};kinds[RGB]={components:3,alpha:0,bitDepth:8,colorModel:RGB$1};kinds[CMYK]={components:4,alpha:0,bitDepth:8,colorModel:CMYK$1};kinds[CMYKA]={components:4,alpha:1,bitDepth:8,colorModel:CMYK$1};function getKind(Ve){const je=kinds[Ve];if(!je)throw new RangeError(`invalid image kind: ${Ve}`);return je}const validBitDepth=[1,8,16,32];function verifyKindDefinition(Ve){const{components:je,alpha:ze,bitDepth:qe,colorModel:Xe}=Ve;if(!Number.isInteger(je)||je<=0)throw new RangeError(`invalid components: ${je}. Must be a positive integer`);if(ze!==0&&ze!==1&&typeof ze!="boolean")throw new TypeError(`invalid alpha: ${ze}: must be a boolean, 0 or 1`);if(!validBitDepth.includes(qe))throw new RangeError(`invalid bitDepth: ${qe}. Must be one of ${validBitDepth.join(", ")}`);if(!ColorModel[Xe])throw new RangeError(`invalid colorModel: ${Xe}. Must be one of ${Object.keys(ColorModel).join(", ")}`)}function getTheoreticalPixelArraySize(Ve,je,ze){let qe=je*Ve;return ze===1&&(qe=Math.ceil(qe/8)),qe}function createPixelArray(Ve,je,ze,qe,Xe,Ye){const Ke=qe*Ve;let Ze;switch(Xe){case 1:Ze=new Uint8Array(Math.ceil(Ke/8));break;case 8:Ze=new Uint8Array(Ke);break;case 16:Ze=new Uint16Array(Ke);break;case 32:Ze=new Float32Array(Ke);break;default:throw new Error(`Cannot create pixel array for bit depth ${Xe}`)}if(ze)for(let Qe=je;Qe<Ze.length;Qe+=qe)Ze[Qe]=Ye;return Ze}const defaultByteLength=1024*8,charArray=[];let IOBuffer$2=class{constructor(Ve,je){je=je||{},Ve===void 0&&(Ve=defaultByteLength),typeof Ve=="number"&&(Ve=new ArrayBuffer(Ve));let ze=Ve.byteLength;const qe=je.offset?je.offset>>>0:0;Ve.buffer&&(ze=Ve.byteLength-qe,Ve.byteLength!==Ve.buffer.byteLength?Ve=Ve.buffer.slice(Ve.byteOffset+qe,Ve.byteOffset+Ve.byteLength):qe?Ve=Ve.buffer.slice(qe):Ve=Ve.buffer),this.buffer=Ve,this.length=ze,this.byteLength=ze,this.byteOffset=0,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer),this._increment=ze||defaultByteLength,this._mark=0}available(Ve){return Ve===void 0&&(Ve=1),this.offset+Ve<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){this.littleEndian=!0}isBigEndian(){return!this.littleEndian}setBigEndian(){this.littleEndian=!1}skip(Ve){Ve===void 0&&(Ve=1),this.offset+=Ve}seek(Ve){this.offset=Ve}mark(){this._mark=this.offset}reset(){this.offset=this._mark}rewind(){this.offset=0}ensureAvailable(Ve){if(Ve===void 0&&(Ve=1),!this.available(Ve)){const je=this._increment+this._increment;this._increment=je;const ze=this.length+je,qe=new Uint8Array(ze);qe.set(new Uint8Array(this.buffer)),this.buffer=qe.buffer,this.length=ze,this._data=new DataView(this.buffer)}}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(Ve){Ve===void 0&&(Ve=1);for(var je=new Uint8Array(Ve),ze=0;ze<Ve;ze++)je[ze]=this.readByte();return je}readInt16(){var Ve=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,Ve}readUint16(){var Ve=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,Ve}readInt32(){var Ve=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,Ve}readUint32(){var Ve=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,Ve}readFloat32(){var Ve=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,Ve}readFloat64(){var Ve=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,Ve}readChar(){return String.fromCharCode(this.readInt8())}readChars(Ve){Ve===void 0&&(Ve=1),charArray.length=Ve;for(var je=0;je<Ve;je++)charArray[je]=this.readChar();return charArray.join("")}writeBoolean(Ve){this.writeUint8(Ve?255:0)}writeInt8(Ve){this.ensureAvailable(1),this._data.setInt8(this.offset++,Ve)}writeUint8(Ve){this.ensureAvailable(1),this._data.setUint8(this.offset++,Ve)}writeByte(Ve){this.writeUint8(Ve)}writeBytes(Ve){this.ensureAvailable(Ve.length);for(var je=0;je<Ve.length;je++)this._data.setUint8(this.offset++,Ve[je])}writeInt16(Ve){this.ensureAvailable(2),this._data.setInt16(this.offset,Ve,this.littleEndian),this.offset+=2}writeUint16(Ve){this.ensureAvailable(2),this._data.setUint16(this.offset,Ve,this.littleEndian),this.offset+=2}writeInt32(Ve){this.ensureAvailable(4),this._data.setInt32(this.offset,Ve,this.littleEndian),this.offset+=4}writeUint32(Ve){this.ensureAvailable(4),this._data.setUint32(this.offset,Ve,this.littleEndian),this.offset+=4}writeFloat32(Ve){this.ensureAvailable(4),this._data.setFloat32(this.offset,Ve,this.littleEndian),this.offset+=4}writeFloat64(Ve){this.ensureAvailable(8),this._data.setFloat64(this.offset,Ve,this.littleEndian),this.offset+=8}writeChar(Ve){this.writeUint8(Ve.charCodeAt(0))}writeChars(Ve){for(var je=0;je<Ve.length;je++)this.writeUint8(Ve.charCodeAt(je))}toArray(){return new Uint8Array(this.buffer,0,this.offset)}};var IOBuffer_1=IOBuffer$2,src$3={};const tagsById$5={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Threshholding",264:"CellWidth",265:"CellLength",266:"FillOrder",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",296:"ResolutionUnit",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",320:"ColorMap",338:"ExtraSamples",33432:"Copyright",269:"DocumentName",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",293:"T6Options",297:"PageNumber",301:"TransferFunction",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFDs",332:"InkSet",333:"InkNames",334:"NumberOfInks",336:"DotRange",337:"TargetPrinter",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"XMP",32781:"ImageID",34732:"ImageLayer",32932:"WangAnnotatio",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"ModelPixelScaleTag",33723:"IPTC",33918:"INGRPacketDataTag",33919:"INGRFlagRegisters",33920:"IrasBTransformationMatrix",33922:"ModelTiepointTag",34264:"ModelTransformationTag",34377:"Photoshop",34665:"ExifIFD",34675:"ICCProfile",34735:"GeoKeyDirectoryTag",34736:"GeoDoubleParamsTag",34737:"GeoAsciiParamsTag",34853:"GPSIFD",34908:"HylaFAXFaxRecvParams",34909:"HylaFAXFaxSubAddress",34910:"HylaFAXFaxRecvTime",37724:"ImageSourceData",40965:"InteroperabilityIFD",42112:"GDAL_METADATA",42113:"GDAL_NODATA",50215:"OceScanjobDescription",50216:"OceApplicationSelector",50217:"OceIdentificationNumber",50218:"OceImageLogicCharacteristics",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50784:"AliasLayerMetadata"},tagsByName$5={};for(var i$2$1 in tagsById$5)tagsByName$5[tagsById$5[i$2$1]]=i$2$1;var standard$1={tagsById:tagsById$5,tagsByName:tagsByName$5};const tagsById$4={33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37396:"SubjectArea",37500:"MakerNote",37510:"UserComment",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42240:"Gamma"},tagsByName$4={};for(var i$1$1 in tagsById$4)tagsByName$4[tagsById$4[i$1$1]]=i$1$1;var exif$1={tagsById:tagsById$4,tagsByName:tagsByName$4};const tagsById$3={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},tagsByName$3={};for(var i$3 in tagsById$3)tagsByName$3[tagsById$3[i$3]]=i$3;var gps$1={tagsById:tagsById$3,tagsByName:tagsByName$3};const tags$1={standard:standard$1,exif:exif$1,gps:gps$1};let IFD$2=class{constructor(Ve){if(!Ve)throw new Error("missing kind");this.data=null,this.fields=new Map,this.kind=Ve,this._map=null}get(Ve){if(typeof Ve=="number")return this.fields.get(Ve);if(typeof Ve=="string")return this.fields.get(tags$1[this.kind].tagsByName[Ve]);throw new Error("expected a number or string")}get map(){if(!this._map){this._map={};const je=tags$1[this.kind].tagsById;for(var Ve of this.fields.keys())je[Ve]&&(this._map[je[Ve]]=this.fields.get(Ve))}return this._map}};var ifd=IFD$2;const Ifd=ifd,dateTimeRegex$1=/^(\d{4}):(\d{2}):(\d{2}) (\d{2}):(\d{2}):(\d{2})$/;let TiffIfd$1=class extends Ifd{constructor(){super("standard")}get size(){return this.width*this.height}get width(){return this.imageWidth}get height(){return this.imageLength}get components(){return this.samplesPerPixel}get date(){var Ve=new Date,je=dateTimeRegex$1.exec(this.dateTime);return Ve.setFullYear(je[1],je[2]-1,je[3]),Ve.setHours(je[4],je[5],je[6]),Ve}get newSubfileType(){return this.get(254)}get imageWidth(){return this.get(256)}get imageLength(){return this.get(257)}get bitsPerSample(){return this.get(258)}get compression(){return this.get(259)||1}get type(){return this.get(262)}get fillOrder(){return this.get(266)||1}get documentName(){return this.get(269)}get imageDescription(){return this.get(270)}get stripOffsets(){return alwaysArray$1(this.get(273))}get orientation(){return this.get(274)}get samplesPerPixel(){return this.get(277)}get rowsPerStrip(){return this.get(278)}get stripByteCounts(){return alwaysArray$1(this.get(279))}get minSampleValue(){return this.get(280)||0}get maxSampleValue(){return this.get(281)||Math.pow(2,this.bitsPerSample)-1}get xResolution(){return this.get(282)}get yResolution(){return this.get(283)}get planarConfiguration(){return this.get(284)||1}get resolutionUnit(){return this.get(296)||2}get dateTime(){return this.get(306)}get predictor(){return this.get(317)||1}get sampleFormat(){return this.get(339)||1}get sMinSampleValue(){return this.get(340)||this.minSampleValue}get sMaxSampleValue(){return this.get(341)||this.maxSampleValue}};function alwaysArray$1(Ve){return typeof Ve=="number"?[Ve]:Ve}var tiffIfd=TiffIfd$1,ifdValue={},types$1=new Map([[1,[1,readByte$1]],[2,[1,readASCII$1]],[3,[2,readShort$1]],[4,[4,readLong$1]],[5,[8,readRational$1]],[6,[1,readSByte$1]],[7,[1,readByte$1]],[8,[2,readSShort$1]],[9,[4,readSLong$1]],[10,[8,readSRational$1]],[11,[4,readFloat$1]],[12,[8,readDouble$1]]]);ifdValue.getByteLength=function(Ve,je){return types$1.get(Ve)[0]*je};ifdValue.readData=function(Ve,je,ze){return types$1.get(je)[1](Ve,ze)};function readByte$1(Ve,je){if(je===1)return Ve.readUint8();for(var ze=new Uint8Array(je),qe=0;qe<je;qe++)ze[qe]=Ve.readUint8();return ze}function readASCII$1(Ve,je){for(var ze=[],qe="",Xe=0;Xe<je;Xe++){var Ye=String.fromCharCode(Ve.readUint8());Ye==="\0"?(ze.push(qe),qe=""):qe+=Ye}return ze.length===1?ze[0]:ze}function readShort$1(Ve,je){if(je===1)return Ve.readUint16();for(var ze=new Uint16Array(je),qe=0;qe<je;qe++)ze[qe]=Ve.readUint16();return ze}function readLong$1(Ve,je){if(je===1)return Ve.readUint32();for(var ze=new Uint32Array(je),qe=0;qe<je;qe++)ze[qe]=Ve.readUint32();return ze}function readRational$1(Ve,je){if(je===1)return Ve.readUint32()/Ve.readUint32();for(var ze=new Array(je),qe=0;qe<je;qe++)ze[qe]=Ve.readUint32()/Ve.readUint32();return ze}function readSByte$1(Ve,je){if(je===1)return Ve.readInt8();for(var ze=new Int8Array(je),qe=0;qe<je;qe++)ze[qe]=Ve.readInt8();return ze}function readSShort$1(Ve,je){if(je===1)return Ve.readInt16();for(var ze=new Int16Array(je),qe=0;qe<je;qe++)ze[qe]=Ve.readInt16();return ze}function readSLong$1(Ve,je){if(je===1)return Ve.readInt32();for(var ze=new Int32Array(je),qe=0;qe<je;qe++)ze[qe]=Ve.readInt32();return ze}function readSRational$1(Ve,je){if(je===1)return Ve.readInt32()/Ve.readInt32();for(var ze=new Array(je),qe=0;qe<je;qe++)ze[qe]=Ve.readInt32()/Ve.readInt32();return ze}function readFloat$1(Ve,je){if(je===1)return Ve.readFloat32();for(var ze=new Float32Array(je),qe=0;qe<je;qe++)ze[qe]=Ve.readFloat32();return ze}function readDouble$1(Ve,je){if(je===1)return Ve.readFloat64();for(var ze=new Float64Array(je),qe=0;qe<je;qe++)ze[qe]=Ve.readFloat64();return ze}const IOBuffer$1=IOBuffer_1,IFD$1=ifd,TiffIFD=tiffIfd,IFDValue=ifdValue,defaultOptions$d={ignoreImageData:!1,onlyFirst:!1};let TIFFDecoder$2=class extends IOBuffer$1{constructor(Ve,je){super(Ve,je),this._nextIFD=0}decode(Ve){Ve=Object.assign({},defaultOptions$d,Ve);const je=[];for(this.decodeHeader();this._nextIFD;)if(je.push(this.decodeIFD(Ve)),Ve.onlyFirst)return je[0];return je}decodeHeader(){let Ve=this.readUint16();if(Ve===18761)this.setLittleEndian();else if(Ve===19789)this.setBigEndian();else throw new Error("invalid byte order: 0x"+Ve.toString(16));if(Ve=this.readUint16(),Ve!==42)throw new Error("not a TIFF file");this._nextIFD=this.readUint32()}decodeIFD(Ve){this.seek(this._nextIFD);var je;Ve.kind?je=new IFD$1(Ve.kind):je=new TiffIFD;const ze=this.readUint16();for(var qe=0;qe<ze;qe++)this.decodeIFDEntry(je);return Ve.ignoreImageData||this.decodeImageData(je),this._nextIFD=this.readUint32(),je}decodeIFDEntry(Ve){const je=this.offset,ze=this.readUint16(),qe=this.readUint16(),Xe=this.readUint32();if(qe<1||qe>12){this.skip(4);return}IFDValue.getByteLength(qe,Xe)>4&&this.seek(this.readUint32());const Ye=IFDValue.readData(this,qe,Xe);if(Ve.fields.set(ze,Ye),ze===34665||ze===34853){let Ke=this.offset,Ze;ze===34665?Ze="exif":ze===34853&&(Ze="gps"),this._nextIFD=Ye,Ve[Ze]=this.decodeIFD({kind:Ze,ignoreImageData:!0}),this.offset=Ke}this.seek(je),this.skip(12)}decodeImageData(Ve){const je=Ve.orientation;switch(je&&je!==1&&unsupported$1("orientation",je),Ve.type){case 1:case 2:this.readStripData(Ve);break;default:unsupported$1("image type",Ve.type);break}}readStripData(Ve){const je=Ve.width,ze=Ve.height,qe=validateBitDepth(Ve.bitsPerSample),Xe=Ve.sampleFormat;let Ye=je*ze;const Ke=getDataArray$1(Ye,1,qe,Xe),Ze=Ve.compression,Qe=Ve.rowsPerStrip*je,Je=Ve.stripOffsets,St=Ve.stripByteCounts;for(var ei=0,ti=0;ti<Je.length;ti++){var ii=this.getStripData(Ze,Je[ti],St[ti]),ri=Ye>Qe?Qe:Ye;Ye-=ri,qe===8?ei=fill8bit$1(Ke,ii,ei,ri):qe===16?ei=fill16bit$1(Ke,ii,ei,ri,this.isLittleEndian()):qe===32&&Xe===3?ei=fillFloat32$1(Ke,ii,ei,ri,this.isLittleEndian()):unsupported$1("bitDepth",qe)}Ve.data=Ke}getStripData(Ve,je,ze){switch(Ve){case 1:return new DataView(this.buffer,je,ze);case 2:case 32773:return unsupported$1("Compression",Ve);default:throw new Error("invalid compression: "+Ve)}}};var tiffDecoder=TIFFDecoder$2;function getDataArray$1(Ve,je,ze,qe){return ze===8?new Uint8Array(Ve*je):ze===16?new Uint16Array(Ve*je):ze===32&&qe===3?new Float32Array(Ve*je):unsupported$1("bit depth / sample format",ze+" / "+qe)}function fill8bit$1(Ve,je,ze,qe){for(var Xe=0;Xe<qe;Xe++)Ve[ze++]=je.getUint8(Xe);return ze}function fill16bit$1(Ve,je,ze,qe,Xe){for(var Ye=0;Ye<qe*2;Ye+=2)Ve[ze++]=je.getUint16(Ye,Xe);return ze}function fillFloat32$1(Ve,je,ze,qe,Xe){for(var Ye=0;Ye<qe*4;Ye+=4)Ve[ze++]=je.getFloat32(Ye,Xe);return ze}function unsupported$1(Ve,je){throw new Error("Unsupported "+Ve+": "+je)}function validateBitDepth(Ve){if(Ve.length){const ze=Ve;Ve=ze[0];for(var je=0;je<ze.length;je++)ze[je]!==Ve&&unsupported$1("bit depth",ze)}return Ve}const TIFFDecoder$1=tiffDecoder;var decode$2=function(Ve,je){return new TIFFDecoder$1(Ve,je).decode(je)};src$3.decode=decode$2;const IOBuffer=IOBuffer_1,tiff=src$3;function decode$1(Ve){const je=new IOBuffer(Ve),ze={};if(je.setBigEndian(),je.readUint16()!==65496)throw new Error("SOI marker not found. Not a valid JPEG file");if(je.readUint16()===65505){je.readUint16();const qe=je.readBytes(6);if(qe[0]===69&&qe[1]===120&&qe[2]===105&&qe[3]===102&&qe[4]===0&&qe[5]===0){const Xe=tiff.decode(je,{onlyFirst:!0,ignoreImageData:!0,offset:je.offset});ze.exif=Xe}}return ze}var decode_1=decode$1,decode=decode_1,imageType$2={exports:{}},fileType$1={exports:{}};(function(module){const toBytes=Ve=>[...Ve].map(je=>je.charCodeAt(0)),xpiZipFilename=toBytes("META-INF/mozilla.rsa"),oxmlContentTypes=toBytes("[Content_Types].xml"),oxmlRels=toBytes("_rels/.rels");function readUInt64LE(Ve,je=0){let ze=Ve[je],qe=1,Xe=0;for(;++Xe<8;)qe*=256,ze+=Ve[je+Xe]*qe;return ze}const fileType=Ve=>{if(!(Ve instanceof Uint8Array||Ve instanceof ArrayBuffer||Buffer.isBuffer(Ve)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof Ve}\``);const je=Ve instanceof Uint8Array?Ve:new Uint8Array(Ve);if(!(je&&je.length>1))return null;const ze=(Xe,Ye)=>{Ye=Object.assign({offset:0},Ye);for(let Ke=0;Ke<Xe.length;Ke++)if(Ye.mask){if(Xe[Ke]!==(Ye.mask[Ke]&je[Ke+Ye.offset]))return!1}else if(Xe[Ke]!==je[Ke+Ye.offset])return!1;return!0},qe=(Xe,Ye)=>ze(toBytes(Xe),Ye);if(ze([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(ze([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(ze([71,73,70]))return{ext:"gif",mime:"image/gif"};if(ze([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(ze([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((ze([73,73,42,0])||ze([77,77,0,42]))&&ze([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(ze([73,73,42,0])||ze([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(ze([66,77]))return{ext:"bmp",mime:"image/bmp"};if(ze([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(ze([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(ze([80,75,3,4])){if(ze([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(ze(xpiZipFilename,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(qe("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(qe("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(qe("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};const Xe=(Qe,Je=0)=>Qe.findIndex((St,ei,ti)=>ei>=Je&&ti[ei]===80&&ti[ei+1]===75&&ti[ei+2]===3&&ti[ei+3]===4);let Ye=0,Ke=!1,Ze=null;do{const Qe=Ye+30;if(Ke||(Ke=ze(oxmlContentTypes,{offset:Qe})||ze(oxmlRels,{offset:Qe})),Ze||(qe("word/",{offset:Qe})?Ze={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:qe("ppt/",{offset:Qe})?Ze={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:qe("xl/",{offset:Qe})&&(Ze={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),Ke&&Ze)return Ze;Ye=Xe(je,Qe)}while(Ye>=0);if(Ze)return Ze}if(ze([80,75])&&(je[2]===3||je[2]===5||je[2]===7)&&(je[3]===4||je[3]===6||je[3]===8))return{ext:"zip",mime:"application/zip"};if(ze([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(ze([82,97,114,33,26,7])&&(je[6]===0||je[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(ze([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(ze([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(ze([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(ze([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(ze([51,103,112,53])||ze([0,0,0])&&ze([102,116,121,112],{offset:4})&&(ze([109,112,52,49],{offset:8})||ze([109,112,52,50],{offset:8})||ze([105,115,111,109],{offset:8})||ze([105,115,111,50],{offset:8})||ze([109,109,112,52],{offset:8})||ze([77,52,86],{offset:8})||ze([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(ze([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(ze([26,69,223,163])){const Xe=je.subarray(4,4100),Ye=Xe.findIndex((Ke,Ze,Qe)=>Qe[Ze]===66&&Qe[Ze+1]===130);if(Ye!==-1){const Ke=Ye+3,Ze=Qe=>[...Qe].every((Je,St)=>Xe[Ke+St]===Je.charCodeAt(0));if(Ze("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(Ze("webm"))return{ext:"webm",mime:"video/webm"}}}if(ze([0,0,0,20,102,116,121,112,113,116,32,32])||ze([102,114,101,101],{offset:4})||ze([102,116,121,112,113,116,32,32],{offset:4})||ze([109,100,97,116],{offset:4})||ze([109,111,111,118],{offset:4})||ze([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(ze([82,73,70,70])){if(ze([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(ze([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(ze([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(ze([48,38,178,117,142,102,207,17,166,217])){let Xe=30;do{const Ye=readUInt64LE(je,Xe+16);if(ze([145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101],{offset:Xe})){if(ze([64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43],{offset:Xe+24}))return{ext:"wma",mime:"audio/x-ms-wma"};if(ze([192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43],{offset:Xe+24}))return{ext:"wmv",mime:"video/x-ms-asf"};break}Xe+=Ye}while(Xe+24<=je.length);return{ext:"asf",mime:"application/vnd.ms-asf"}}if(ze([0,0,1,186])||ze([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(ze([102,116,121,112,51,103],{offset:4}))return{ext:"3gp",mime:"video/3gpp"};for(let Xe=0;Xe<2&&Xe<je.length-16;Xe++){if(ze([73,68,51],{offset:Xe})||ze([255,226],{offset:Xe,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};if(ze([255,228],{offset:Xe,mask:[255,228]}))return{ext:"mp2",mime:"audio/mpeg"};if(ze([255,248],{offset:Xe,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(ze([255,240],{offset:Xe,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(ze([102,116,121,112,77,52,65],{offset:4}))return{ext:"m4a",mime:"audio/mp4"};if(ze([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(ze([79,103,103,83]))return ze([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:ze([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:ze([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:ze([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:ze([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(ze([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(ze([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(ze([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(ze([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(ze([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(ze([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((je[0]===67||je[0]===70)&&ze([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(ze([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(ze([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(ze([119,79,70,70])&&(ze([0,1,0,0],{offset:4})||ze([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(ze([119,79,70,50])&&(ze([0,1,0,0],{offset:4})||ze([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(ze([76,80],{offset:34})&&(ze([0,0,1],{offset:8})||ze([1,0,2],{offset:8})||ze([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(ze([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(ze([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(ze([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(ze([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(ze([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(ze([37,33]))return{ext:"ps",mime:"application/postscript"};if(ze([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(ze([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(ze([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(ze([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(ze([77,83,67,70])||ze([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(ze([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(ze([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(ze([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(ze([31,160])||ze([31,157]))return{ext:"Z",mime:"application/x-compress"};if(ze([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(ze([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(ze([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(ze([71],{offset:4})&&(ze([71],{offset:192})||ze([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(ze([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(ze([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(ze([0,0,0,12,106,80,32,32,13,10,135,10])){if(ze([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(ze([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(ze([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(ze([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}if(ze([70,79,82,77]))return{ext:"aif",mime:"audio/aiff"};if(qe("<?xml "))return{ext:"xml",mime:"application/xml"};if(ze([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(ze([102,116,121,112],{offset:4})){if(ze([109,105,102,49],{offset:8}))return{ext:"heic",mime:"image/heif"};if(ze([109,115,102,49],{offset:8}))return{ext:"heic",mime:"image/heif-sequence"};if(ze([104,101,105,99],{offset:8})||ze([104,101,105,120],{offset:8}))return{ext:"heic",mime:"image/heic"};if(ze([104,101,118,99],{offset:8})||ze([104,101,118,120],{offset:8}))return{ext:"heic",mime:"image/heic-sequence"}}return ze([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:ze([68,73,67,77],{offset:128})?{ext:"dcm",mime:"application/dicom"}:ze([77,80,43])?{ext:"mpc",mime:"audio/x-musepack"}:ze([77,80,67,75])?{ext:"mpc",mime:"audio/x-musepack"}:ze([66,69,71,73,78,58])?{ext:"ics",mime:"text/calendar"}:ze([103,108,84,70,2,0,0,0])?{ext:"glb",mime:"model/gltf-binary"}:ze([212,195,178,161])||ze([161,178,195,212])?{ext:"pcap",mime:"application/vnd.tcpdump.pcap"}:null};module.exports=fileType,module.exports.default=fileType,Object.defineProperty(fileType,"minimumBytes",{value:4100}),module.exports.stream=readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.once("readable",()=>{const Ve=new stream.PassThrough,je=readableStream.read(module.exports.minimumBytes)||readableStream.read();try{Ve.fileType=fileType(je)}catch(ze){reject(ze)}readableStream.unshift(je),stream.pipeline?resolve(stream.pipeline(readableStream,Ve,()=>{})):resolve(readableStream.pipe(Ve))})})})(fileType$1);var fileTypeExports=fileType$1.exports;const fileType=fileTypeExports,imageExts=new Set(["jpg","png","gif","webp","flif","cr2","tif","bmp","jxr","psd","ico","bpg","jp2","jpm","jpx","heic","cur","dcm"]),imageType=Ve=>{const je=fileType(Ve);return imageExts.has(je&&je.ext)?je:null};imageType$2.exports=imageType;imageType$2.exports.default=imageType;Object.defineProperty(imageType,"minimumBytes",{value:fileType.minimumBytes});var imageTypeExports=imageType$2.exports;const imageType$1=getDefaultExportFromCjs$1(imageTypeExports);function guessStripByteCounts(Ve){if(Ve.compression!==1)throw new Error("missing mandatory StripByteCounts field in compressed image");const je=Ve.rowsPerStrip*Ve.width*Ve.samplesPerPixel*(Ve.bitsPerSample/8);return new Array(Ve.stripOffsets.length).fill(je)}function applyHorizontalDifferencing8Bit(Ve,je,ze){let qe=0;for(;qe<Ve.length;){for(let Xe=ze;Xe<je*ze;Xe+=ze)for(let Ye=0;Ye<ze;Ye++)Ve[qe+Xe+Ye]=Ve[qe+Xe+Ye]+Ve[qe+Xe-(ze-Ye)]&255;qe+=je*ze}}function applyHorizontalDifferencing16Bit(Ve,je,ze){let qe=0;for(;qe<Ve.length;){for(let Xe=ze;Xe<je*ze;Xe+=ze)for(let Ye=0;Ye<ze;Ye++)Ve[qe+Xe+Ye]=Ve[qe+Xe+Ye]+Ve[qe+Xe-(ze-Ye)]&65535;qe+=je*ze}}const tagsById$2={33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37396:"SubjectArea",37500:"MakerNote",37510:"UserComment",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42240:"Gamma"},tagsByName$2={};for(let Ve in tagsById$2)tagsByName$2[tagsById$2[Ve]]=Number(Ve);const exif=Object.freeze(Object.defineProperty({__proto__:null,tagsById:tagsById$2,tagsByName:tagsByName$2},Symbol.toStringTag,{value:"Module"})),tagsById$1={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},tagsByName$1={};for(let Ve in tagsById$1)tagsByName$1[tagsById$1[Ve]]=Number(Ve);const gps=Object.freeze(Object.defineProperty({__proto__:null,tagsById:tagsById$1,tagsByName:tagsByName$1},Symbol.toStringTag,{value:"Module"})),tagsById={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Threshholding",264:"CellWidth",265:"CellLength",266:"FillOrder",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",296:"ResolutionUnit",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",320:"ColorMap",338:"ExtraSamples",33432:"Copyright",269:"DocumentName",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",293:"T6Options",297:"PageNumber",301:"TransferFunction",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFDs",332:"InkSet",333:"InkNames",334:"NumberOfInks",336:"DotRange",337:"TargetPrinter",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"XMP",32781:"ImageID",34732:"ImageLayer",32932:"WangAnnotatio",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"ModelPixelScaleTag",33723:"IPTC",33918:"INGRPacketDataTag",33919:"INGRFlagRegisters",33920:"IrasBTransformationMatrix",33922:"ModelTiepointTag",34264:"ModelTransformationTag",34377:"Photoshop",34665:"ExifIFD",34675:"ICCProfile",34735:"GeoKeyDirectoryTag",34736:"GeoDoubleParamsTag",34737:"GeoAsciiParamsTag",34853:"GPSIFD",34908:"HylaFAXFaxRecvParams",34909:"HylaFAXFaxSubAddress",34910:"HylaFAXFaxRecvTime",37724:"ImageSourceData",40965:"InteroperabilityIFD",42112:"GDAL_METADATA",42113:"GDAL_NODATA",50215:"OceScanjobDescription",50216:"OceApplicationSelector",50217:"OceIdentificationNumber",50218:"OceImageLogicCharacteristics",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50784:"AliasLayerMetadata"},tagsByName={};for(let Ve in tagsById)tagsByName[tagsById[Ve]]=Number(Ve);const standard=Object.freeze(Object.defineProperty({__proto__:null,tagsById,tagsByName},Symbol.toStringTag,{value:"Module"})),tags={standard,exif,gps};class IFD{constructor(je){if(!je)throw new Error("missing kind");this.data=new Uint8Array,this.fields=new Map,this.kind=je,this._hasMap=!1,this._map={}}get(je){if(typeof je=="number")return this.fields.get(je);if(typeof je=="string")return this.fields.get(tags[this.kind].tagsByName[je]);throw new Error("expected a number or string")}get map(){if(!this._hasMap){const je=tags[this.kind].tagsById;for(let ze of this.fields.keys())je[ze]&&(this._map[je[ze]]=this.fields.get(ze));this._hasMap=!0}return this._map}}let types=new Map([[1,[1,readByte]],[2,[1,readASCII]],[3,[2,readShort]],[4,[4,readLong]],[5,[8,readRational]],[6,[1,readSByte]],[7,[1,readByte]],[8,[2,readSShort]],[9,[4,readSLong]],[10,[8,readSRational]],[11,[4,readFloat]],[12,[8,readDouble]]]);function getByteLength(Ve,je){const ze=types.get(Ve);if(!ze)throw new Error(`type not found: ${Ve}`);return ze[0]*je}function readData(Ve,je,ze){const qe=types.get(je);if(!qe)throw new Error(`type not found: ${je}`);return qe[1](Ve,ze)}function readByte(Ve,je){if(je===1)return Ve.readUint8();let ze=new Uint8Array(je);for(let qe=0;qe<je;qe++)ze[qe]=Ve.readUint8();return ze}function readASCII(Ve,je){let ze=[],qe="";for(let Xe=0;Xe<je;Xe++){let Ye=String.fromCharCode(Ve.readUint8());Ye==="\0"?(ze.push(qe),qe=""):qe+=Ye}return ze.length===1?ze[0]:ze}function readShort(Ve,je){if(je===1)return Ve.readUint16();let ze=new Uint16Array(je);for(let qe=0;qe<je;qe++)ze[qe]=Ve.readUint16();return ze}function readLong(Ve,je){if(je===1)return Ve.readUint32();let ze=new Uint32Array(je);for(let qe=0;qe<je;qe++)ze[qe]=Ve.readUint32();return ze}function readRational(Ve,je){if(je===1)return Ve.readUint32()/Ve.readUint32();let ze=new Array(je);for(let qe=0;qe<je;qe++)ze[qe]=Ve.readUint32()/Ve.readUint32();return ze}function readSByte(Ve,je){if(je===1)return Ve.readInt8();let ze=new Int8Array(je);for(let qe=0;qe<je;qe++)ze[qe]=Ve.readInt8();return ze}function readSShort(Ve,je){if(je===1)return Ve.readInt16();let ze=new Int16Array(je);for(let qe=0;qe<je;qe++)ze[qe]=Ve.readInt16();return ze}function readSLong(Ve,je){if(je===1)return Ve.readInt32();let ze=new Int32Array(je);for(let qe=0;qe<je;qe++)ze[qe]=Ve.readInt32();return ze}function readSRational(Ve,je){if(je===1)return Ve.readInt32()/Ve.readInt32();let ze=new Array(je);for(let qe=0;qe<je;qe++)ze[qe]=Ve.readInt32()/Ve.readInt32();return ze}function readFloat(Ve,je){if(je===1)return Ve.readFloat32();let ze=new Float32Array(je);for(let qe=0;qe<je;qe++)ze[qe]=Ve.readFloat32();return ze}function readDouble(Ve,je){if(je===1)return Ve.readFloat64();let ze=new Float64Array(je);for(let qe=0;qe<je;qe++)ze[qe]=Ve.readFloat64();return ze}const CLEAR_CODE=256,EOI_CODE=257,TABLE_START=258,MIN_BIT_LENGTH=9;let stringTable=[];function initializeStringTable(){if(stringTable.length===0){for(let je=0;je<256;je++)stringTable.push([je]);const Ve=[];for(let je=256;je<4096;je++)stringTable.push(Ve)}}const andTable=[511,1023,2047,4095],bitJumps=[0,0,0,0,0,0,0,0,0,511,1023,2047,4095];class LzwDecoder{constructor(je){this.nextData=0,this.nextBits=0,this.bytePointer=0,this.tableLength=TABLE_START,this.currentBitLength=MIN_BIT_LENGTH,this.stripArray=new Uint8Array(je.buffer,je.byteOffset,je.byteLength),this.outData=new IOBuffer$4(je.byteLength),this.initializeTable()}decode(){let je=0,ze=0;for(;(je=this.getNextCode())!==EOI_CODE;)if(je===CLEAR_CODE){if(this.initializeTable(),je=this.getNextCode(),je===EOI_CODE)break;this.writeString(this.stringFromCode(je)),ze=je}else if(this.isInTable(je))this.writeString(this.stringFromCode(je)),this.addStringToTable(this.stringFromCode(ze).concat(this.stringFromCode(je)[0])),ze=je;else{const Xe=this.stringFromCode(ze).concat(this.stringFromCode(ze)[0]);this.writeString(Xe),this.addStringToTable(Xe),ze=je}const qe=this.outData.toArray();return new DataView(qe.buffer,qe.byteOffset,qe.byteLength)}initializeTable(){initializeStringTable(),this.tableLength=TABLE_START,this.currentBitLength=MIN_BIT_LENGTH}writeString(je){this.outData.writeBytes(je)}stringFromCode(je){return stringTable[je]}isInTable(je){return je<this.tableLength}addStringToTable(je){if(stringTable[this.tableLength++]=je,stringTable.length>4096)throw stringTable=[],new Error("LZW decoding error. Please open an issue at https://github.com/image-js/tiff/issues/new/choose (include a test image).");this.tableLength===bitJumps[this.currentBitLength]&&this.currentBitLength++}getNextCode(){this.nextData=this.nextData<<8|this.stripArray[this.bytePointer++]&255,this.nextBits+=8,this.nextBits<this.currentBitLength&&(this.nextData=this.nextData<<8|this.stripArray[this.bytePointer++]&255,this.nextBits+=8);const je=this.nextData>>this.nextBits-this.currentBitLength&andTable[this.currentBitLength-9];return this.nextBits-=this.currentBitLength,this.bytePointer>this.stripArray.length?257:je}}function decompressLzw(Ve){return new LzwDecoder(Ve).decode()}const dateTimeRegex=/^(\d{4}):(\d{2}):(\d{2}) (\d{2}):(\d{2}):(\d{2})$/;class TiffIfd extends IFD{constructor(){super("standard")}get size(){return this.width*this.height}get width(){return this.imageWidth}get height(){return this.imageLength}get components(){return this.samplesPerPixel}get date(){let je=new Date,ze=dateTimeRegex.exec(this.dateTime);if(ze===null)throw new Error(`invalid dateTime: ${this.dateTime}`);return je.setFullYear(Number(ze[1]),Number(ze[2])-1,Number(ze[3])),je.setHours(Number(ze[4]),Number(ze[5]),Number(ze[6])),je}get newSubfileType(){return this.get("NewSubfileType")}get imageWidth(){return this.get("ImageWidth")}get imageLength(){return this.get("ImageLength")}get bitsPerSample(){const je=this.get("BitsPerSample");return je&&typeof je!="number"?je[0]:je}get alpha(){const je=this.extraSamples;return je?je[0]!==0:!1}get associatedAlpha(){const je=this.extraSamples;return je?je[0]===1:!1}get extraSamples(){return alwaysArray(this.get("ExtraSamples"))}get compression(){return this.get("Compression")||1}get type(){return this.get("PhotometricInterpretation")}get fillOrder(){return this.get("FillOrder")||1}get documentName(){return this.get("DocumentName")}get imageDescription(){return this.get("ImageDescription")}get stripOffsets(){return alwaysArray(this.get("StripOffsets"))}get orientation(){return this.get("Orientation")}get samplesPerPixel(){return this.get("SamplesPerPixel")||1}get rowsPerStrip(){return this.get("RowsPerStrip")}get stripByteCounts(){return alwaysArray(this.get("StripByteCounts"))}get minSampleValue(){return this.get("MinSampleValue")||0}get maxSampleValue(){return this.get("MaxSampleValue")||Math.pow(2,this.bitsPerSample)-1}get xResolution(){return this.get("XResolution")}get yResolution(){return this.get("YResolution")}get planarConfiguration(){return this.get("PlanarConfiguration")||1}get resolutionUnit(){return this.get("ResolutionUnit")||2}get dateTime(){return this.get("DateTime")}get predictor(){return this.get("Predictor")||1}get sampleFormat(){return this.get("SampleFormat")||1}get sMinSampleValue(){return this.get("SMinSampleValue")||this.minSampleValue}get sMaxSampleValue(){return this.get("SMaxSampleValue")||this.maxSampleValue}get palette(){const je=2**this.bitsPerSample,ze=this.get("ColorMap");if(!ze)return;if(ze.length!==3*je)throw new Error(`ColorMap size must be ${je}`);const qe=[];for(let Xe=0;Xe<je;Xe++)qe.push([ze[Xe],ze[Xe+je],ze[Xe+2*je]]);return qe}}function alwaysArray(Ve){return typeof Ve=="number"?[Ve]:Ve}function decompressZlib(Ve){const je=new Uint8Array(Ve.buffer,Ve.byteOffset,Ve.byteLength),ze=inflate_1(je);return new DataView(ze.buffer,ze.byteOffset,ze.byteLength)}const defaultOptions$c={ignoreImageData:!1,onlyFirst:!1};class TIFFDecoder extends IOBuffer$4{constructor(je){super(je),this._nextIFD=0}get isMultiPage(){let je=0;for(this.decodeHeader();this._nextIFD;)if(je++,this.decodeIFD({ignoreImageData:!0},!0),je===2)return!0;if(je===1)return!1;throw unsupported("ifdCount",je)}get pageCount(){let je=0;for(this.decodeHeader();this._nextIFD;)je++,this.decodeIFD({ignoreImageData:!0},!0);if(je>0)return je;throw unsupported("ifdCount",je)}decode(je={}){je=Object.assign({},defaultOptions$c,je);const ze=[];for(this.decodeHeader();this._nextIFD;)if(ze.push(this.decodeIFD(je,!0)),je.onlyFirst)return[ze[0]];return ze}decodeHeader(){const je=this.readUint16();if(je===18761)this.setLittleEndian();else if(je===19789)this.setBigEndian();else throw new Error(`invalid byte order: 0x${je.toString(16)}`);if(this.readUint16()!==42)throw new Error("not a TIFF file");this._nextIFD=this.readUint32()}decodeIFD(je,ze){this.seek(this._nextIFD);let qe;if(ze)qe=new TiffIfd;else{if(!je.kind)throw new Error("kind is missing");qe=new IFD(je.kind)}const Xe=this.readUint16();for(let Ye=0;Ye<Xe;Ye++)this.decodeIFDEntry(qe);if(!je.ignoreImageData){if(!(qe instanceof TiffIfd))throw new Error("must be a tiff ifd");this.decodeImageData(qe)}return this._nextIFD=this.readUint32(),qe}decodeIFDEntry(je){const ze=this.offset,qe=this.readUint16(),Xe=this.readUint16(),Ye=this.readUint32();if(Xe<1||Xe>12){this.skip(4);return}getByteLength(Xe,Ye)>4&&this.seek(this.readUint32());const Ke=readData(this,Xe,Ye);if(je.fields.set(qe,Ke),qe===34665||qe===34853){let Ze=this.offset,Qe="exif";qe===34665?Qe="exif":qe===34853&&(Qe="gps"),this._nextIFD=Ke,je[Qe]=this.decodeIFD({kind:Qe,ignoreImageData:!0},!1),this.offset=Ze}this.seek(ze),this.skip(12)}decodeImageData(je){const ze=je.orientation;if(ze&&ze!==1)throw unsupported("orientation",ze);switch(je.type){case 0:case 1:case 2:case 3:this.readStripData(je);break;default:throw unsupported("image type",je.type)}if(this.applyPredictor(je),this.convertAlpha(je),je.type===0){const qe=je.bitsPerSample,Xe=Math.pow(2,qe)-1;for(let Ye=0;Ye<je.data.length;Ye++)je.data[Ye]=Xe-je.data[Ye]}}readStripData(je){const ze=je.width,qe=je.height,Xe=je.bitsPerSample,Ye=je.sampleFormat,Ke=ze*qe*je.samplesPerPixel,Ze=getDataArray(Ke,Xe,Ye),Qe=je.rowsPerStrip*ze*je.samplesPerPixel,Je=je.stripOffsets,St=je.stripByteCounts||guessStripByteCounts(je);let ei=Ke,ti=0;for(let ii=0;ii<Je.length;ii++){let ri=new DataView(this.buffer,this.byteOffset+Je[ii],St[ii]),si=ei>Qe?Qe:ei;ei-=si;let ui=ri;switch(je.compression){case 1:break;case 5:{ui=decompressLzw(ri);break}case 8:{ui=decompressZlib(ri);break}case 2:throw unsupported("Compression","CCITT Group 3");case 32773:throw unsupported("Compression","PackBits");default:throw unsupported("Compression",je.compression)}ti=this.fillUncompressed(Xe,Ye,Ze,ui,ti,si)}je.data=Ze}fillUncompressed(je,ze,qe,Xe,Ye,Ke){if(je===8)return fill8bit(qe,Xe,Ye,Ke);if(je===16)return fill16bit(qe,Xe,Ye,Ke,this.isLittleEndian());if(je===32&&ze===3)return fillFloat32(qe,Xe,Ye,Ke,this.isLittleEndian());throw unsupported("bitDepth",je)}applyPredictor(je){const ze=je.bitsPerSample;switch(je.predictor){case 1:break;case 2:{if(ze===8)applyHorizontalDifferencing8Bit(je.data,je.width,je.components);else if(ze===16)applyHorizontalDifferencing16Bit(je.data,je.width,je.components);else throw new Error(`Horizontal differencing is only supported for images with a bit depth of ${ze}`);break}default:throw new Error(`invalid predictor: ${je.predictor}`)}}convertAlpha(je){if(je.alpha&&je.associatedAlpha){const{data:ze,components:qe,maxSampleValue:Xe}=je;for(let Ye=0;Ye<ze.length;Ye+=qe){const Ke=ze[Ye+qe-1];for(let Ze=0;Ze<qe-1;Ze++)ze[Ye+Ze]=Math.round(ze[Ye+Ze]*Xe/Ke)}}}}function getDataArray(Ve,je,ze){if(je===8)return new Uint8Array(Ve);if(je===16)return new Uint16Array(Ve);if(je===32&&ze===3)return new Float32Array(Ve);throw unsupported("bit depth / sample format",`${je} / ${ze}`)}function fill8bit(Ve,je,ze,qe){for(let Xe=0;Xe<qe;Xe++)Ve[ze++]=je.getUint8(Xe);return ze}function fill16bit(Ve,je,ze,qe,Xe){for(let Ye=0;Ye<qe*2;Ye+=2)Ve[ze++]=je.getUint16(Ye,Xe);return ze}function fillFloat32(Ve,je,ze,qe,Xe){for(let Ye=0;Ye<qe*4;Ye+=4)Ve[ze++]=je.getFloat32(Ye,Xe);return ze}function unsupported(Ve,je){return new Error(`Unsupported ${Ve}: ${je}`)}function decodeTIFF(Ve,je){return new TIFFDecoder(Ve).decode(je)}function matchAndCrop(Ve={}){let{algorithm:je="matchToPrevious",ignoreBorder:ze=[0,0]}=Ve;this.checkProcessable("matchAndCrop",{bitDepth:[8,16]});let qe=je==="matchToPrevious",Xe=this[0],Ye=[];Ye[0]={position:[0,0],image:this[0]};let Ke=[0,0];for(let ti=1;ti<this.length;ti++){let ii=Xe.getBestMatch(this[ti],{border:ze});Ye[ti]={position:[ii[0]+Ke[0],ii[1]+Ke[1]],image:this[ti]},qe&&(Ke[0]+=ii[0],Ke[1]+=ii[1],Xe=this[ti])}let Ze=0,Qe=0,Je=0,St=0;for(let ti=0;ti<Ye.length;ti++){let ii=Ye[ti];ii.position[0]>Ze&&(Ze=ii.position[0]),ii.position[0]<Qe&&(Qe=ii.position[0]),ii.position[1]>Je&&(Je=ii.position[1]),ii.position[1]<St&&(St=ii.position[1])}Qe=0-Qe,St=0-St;for(let ti=0;ti<Ye.length;ti++){let ii=Ye[ti];ii.crop=ii.image.crop({x:Ze-ii.position[0],y:Je-ii.position[1],width:Xe.width-Qe-Ze,height:Xe.height-St-Je})}let ei=[];for(let ti=0;ti<Ye.length;ti++)ei[ti]=Ye[ti].crop;return new Stack(ei)}function min$2(){this.checkProcessable("min",{bitDepth:[8,16]});let Ve=this[0].min;for(let je=1;je<this.length;je++)for(let ze=0;ze<Ve.length;ze++)Ve[ze]=Math.min(Ve[ze],this[je].min[ze]);return Ve}function max$2(){this.checkProcessable("min",{bitDepth:[8,16]});let Ve=this[0].max;for(let je=1;je<this.length;je++)for(let ze=0;ze<Ve.length;ze++)Ve[ze]=Math.max(Ve[ze],this[je].max[ze]);return Ve}function median$2(Ve){let je=Ve.reduce((Ke,Ze)=>Ke+Ze);if(je===0)throw new Error("unreachable");let ze=0,qe=0,Xe=je/2,Ye;for(;;){if(Ve[ze]>0){if(Ye!==void 0)return(Ye+ze)/2;if(qe+=Ve[ze],qe>Xe)return ze;qe===Xe&&(Ye=ze)}ze++}}function mean$2(Ve){let je=0,ze=0;for(let qe=0;qe<Ve.length;qe++)je+=Ve[qe],ze+=Ve[qe]*qe;return je===0?0:ze/je}function median$1(){this.checkProcessable("median",{bitDepth:[8,16]});let Ve=this.getHistograms({maxSlots:this[0].maxValue+1}),je=new Array(Ve.length);for(let ze=0;ze<Ve.length;ze++){let qe=Ve[ze];je[ze]=median$2(qe)}return je}function histogram(Ve){this.checkProcessable("min",{bitDepth:[8,16]});let je=this[0].getHistogram(Ve);for(let ze=1;ze<this.length;ze++){let qe=this[ze].getHistogram(Ve);for(let Xe=0;Xe<je.length;Xe++)je[Xe]+=qe[Xe]}return je}function histograms(Ve){this.checkProcessable("min",{bitDepth:[8,16]});let je=this[0].getHistograms(Ve),ze=je[0].length;for(let qe=1;qe<this.length;qe++){let Xe=this[qe].getHistograms(Ve);for(let Ye=0;Ye<je.length;Ye++)for(let Ke=0;Ke<ze;Ke++)je[Ye][Ke]+=Xe[Ye][Ke]}return je}function averageImage(){this.checkProcessable("averageImage",{bitDepth:[8,16]});let Ve=new Uint32Array(this[0].data.length);for(let qe=0;qe<this.length;qe++){let Xe=this[qe];for(let Ye=0;Ye<this[0].data.length;Ye++)Ve[Ye]+=Xe.data[Ye]}let je=Image$1.createFrom(this[0]),ze=je.data;for(let qe=0;qe<this[0].data.length;qe++)ze[qe]=Ve[qe]/this.length;return je}function maxImage(){this.checkProcessable("max",{bitDepth:[8,16]});let Ve=Image$1.createFrom(this[0]);Ve.data.fill(0);for(const je of this)for(let ze=0;ze<Ve.data.length;ze++)Ve.data[ze]=Math.max(je.data[ze],Ve.data[ze]);return Ve}function minImage(){this.checkProcessable("max",{bitDepth:[8,16]});let Ve=Image$1.createFrom(this[0]);Ve.data.fill(Ve.maxValue);for(const je of this)for(let ze=0;ze<Ve.data.length;ze++)Ve.data[ze]=Math.min(je.data[ze],Ve.data[ze]);return Ve}function extend$2(Ve){Ve.extendMethod("matchAndCrop",matchAndCrop),Ve.extendMethod("getMin",min$2),Ve.extendMethod("getMax",max$2),Ve.extendMethod("getMedian",median$1),Ve.extendMethod("getHistogram",histogram),Ve.extendMethod("getHistograms",histograms),Ve.extendMethod("getAverage",averageImage),Ve.extendMethod("getAverageImage",averageImage),Ve.extendMethod("getMaxImage",maxImage),Ve.extendMethod("getMinImage",minImage)}let computedPropertyDescriptor={configurable:!0,enumerable:!1,get:void 0};class Stack extends Array{constructor(je){if(Array.isArray(je)){super(je.length);for(let ze=0;ze<je.length;ze++)this[ze]=je[ze]}else typeof je=="number"?super(je):super();this.computed=null}static load(je){return Promise.all(je.map(Image$1.load)).then(ze=>new Stack(ze))}static extendMethod(je,ze,qe={}){let{inPlace:Xe=!1,returnThis:Ye=!0,partialArgs:Ke=[]}=qe;return Xe?Stack.prototype[je]=function(...Ze){this.computed=null;let Qe=ze.apply(this,[...Ke,...Ze]);return Ye?this:Qe}:Stack.prototype[je]=function(...Ze){return ze.apply(this,[...Ke,...Ze])},Stack}static extendProperty(je,ze,qe={}){let{partialArgs:Xe=[]}=qe;return computedPropertyDescriptor.get=function(){if(this.computed===null)this.computed={};else if(hasOwn(je,this.computed))return this.computed[je];let Ye=ze.apply(this,Xe);return this.computed[je]=Ye,Ye},Object.defineProperty(Stack.prototype,je,computedPropertyDescriptor),Stack}checkProcessable(je,ze={}){if(typeof je!="string")throw new TypeError("checkProcessable requires as first parameter the processName (a string)");if(this.size===0)throw new TypeError(`The process: ${je} can not be applied on an empty stack`);this[0].checkProcessable(je,ze);for(let qe=1;qe<this.length;qe++){if((ze.sameSize===void 0||ze.sameSize)&&this[0].width!==this[qe].width)throw new TypeError(`The process: ${je} can not be applied if width is not identical in all images`);if((ze.sameSize===void 0||ze.sameSize)&&this[0].height!==this[qe].height)throw new TypeError(`The process: ${je} can not be applied if height is not identical in all images`);if((ze.sameAlpha===void 0||ze.sameAlpha)&&this[0].alpha!==this[qe].alpha)throw new TypeError(`The process: ${je} can not be applied if alpha is not identical in all images`);if((ze.sameBitDepth===void 0||ze.sameBitDepth)&&this[0].bitDepth!==this[qe].bitDepth)throw new TypeError(`The process: ${je} can not be applied if bitDepth is not identical in all images`);if((ze.sameColorModel===void 0||ze.sameColorModel)&&this[0].colorModel!==this[qe].colorModel)throw new TypeError(`The process: ${je} can not be applied if colorModel is not identical in all images`);if((ze.sameNumberChannels===void 0||ze.sameNumberChannels)&&this[0].channels!==this[qe].channels)throw new TypeError(`The process: ${je} can not be applied if channels is not identical in all images`)}}}Array[Symbol.species]||(Stack.prototype.map=function(Ve,je){if(typeof Ve!="function")throw new TypeError(`${Ve} is not a function`);let ze=new Stack(this.length);for(let qe=0;qe<this.length;qe++)ze[qe]=Ve.call(je,this[qe],qe,this);return ze});extend$2(Stack);const isDataURL=/^data:[a-z]+\/(?:[a-z]+);base64,/;function load(Ve,je){if(typeof Ve=="string")return loadURL(Ve,je);if(Ve instanceof ArrayBuffer)return Promise.resolve(loadBinary(new Uint8Array(Ve),void 0,je&&je.ignorePalette));if(Ve.buffer)return Promise.resolve(loadBinary(Ve,void 0,je&&je.ignorePalette));throw new Error('argument to "load" must be a string or buffer.')}function loadBinary(Ve,je,ze){const qe=imageType$1(Ve);if(qe)switch(qe.mime){case"image/png":return loadPNG(Ve);case"image/jpeg":return loadJPEG(Ve);case"image/tiff":return loadTIFF(Ve,ze);default:return loadGeneric(Xe(qe.mime))}return loadGeneric(Xe("application/octet-stream"));function Xe(Ye){return je||toBase64URL(Ve,Ye)}}function loadURL(Ve,je){const ze=Ve.slice(0,64).match(isDataURL);let qe;return ze!==null?qe=Promise.resolve(decode$3(Ve.slice(ze[0].length))):qe=fetchBinary(Ve,je),qe.then(Xe=>{const Ye=new Uint8Array(Xe);return loadBinary(Ye,ze?Ve:void 0,je&&je.ignorePalette)})}function loadPNG(Ve){const je=decodePng(Ve);let ze=je.channels,qe,Xe=0;return ze===2||ze===4?(qe=ze-1,Xe=1):qe=ze,je.palette?loadPNGFromPalette(je):new Image$1(je.width,je.height,je.data,{components:qe,alpha:Xe,bitDepth:je.depth})}function loadPNGFromPalette(Ve){const je=Ve.width*Ve.height,ze=Ve.palette[0].length,qe=new Uint8Array(je*ze),Xe=8/Ve.depth,Ye=Ve.depth<8?Xe:1,Ke=parseInt("1".repeat(Ve.depth),2),Ze=ze===4;let Qe=0;for(let Je=0;Je<je;Je++){const St=Math.floor(Je/Ye);let ei=Ve.data[St];Ve.depth<8&&(ei=ei>>>Ve.depth*(Xe-1-Je%Xe)&Ke);const ti=Ve.palette[ei];qe[Qe++]=ti[0],qe[Qe++]=ti[1],qe[Qe++]=ti[2],Ze&&(qe[Qe++]=ti[3])}return new Image$1(Ve.width,Ve.height,qe,{components:3,alpha:Ze,bitDepth:8})}function loadJPEG(Ve){const je=decode(Ve);let ze;je.exif&&(ze=getMetadata(je.exif));const qe=jpegJs.decode(Ve,{useTArray:!0,maxMemoryUsageInMB:1024});let Xe=new Image$1(qe.width,qe.height,qe.data,{meta:ze});if(ze&&ze.tiff.tags.Orientation){const Ye=ze.tiff.tags.Orientation;Ye>2&&(Xe=Xe.rotate({3:180,4:180,5:90,6:90,7:270,8:270}[Ye])),[2,4,5,7].includes(Ye)&&(Xe=Xe.flipX())}return Xe}function loadTIFF(Ve,je){let ze=decodeTIFF(Ve);return ze.length===1?getImageFromIFD(ze[0],je):new Stack(ze.map(function(qe){return getImageFromIFD(qe,je)}))}function getMetadata(Ve){const je={tiff:{fields:Ve.fields,tags:Ve.map}};return Ve.exif&&(je.exif=Ve.exif),Ve.gps&&(je.gps=Ve.gps),je}function getImageFromIFD(Ve,je){if(!je&&Ve.type===3){const ze=new Uint16Array(3*Ve.width*Ve.height),qe=Ve.palette;let Xe=0;for(let Ye=0;Ye<Ve.data.length;Ye++){const Ke=Ve.data[Ye],Ze=qe[Ke];ze[Xe++]=Ze[0],ze[Xe++]=Ze[1],ze[Xe++]=Ze[2]}return new Image$1(Ve.width,Ve.height,ze,{components:3,alpha:Ve.alpha,colorModel:RGB$1,bitDepth:16,meta:getMetadata(Ve)})}else return new Image$1(Ve.width,Ve.height,Ve.data,{components:Ve.type===2?3:1,alpha:Ve.alpha,colorModel:Ve.type===2?RGB$1:GREY$1,bitDepth:Ve.bitsPerSample.length?Ve.bitsPerSample[0]:Ve.bitsPerSample,meta:getMetadata(Ve)})}function loadGeneric(Ve,je){return je=je||{},new Promise(function(ze,qe){let Xe=new DOMImage;Xe.onload=function(){let Ye=Xe.width,Ke=Xe.height,Ze=createCanvas(Ye,Ke).getContext("2d");Ze.drawImage(Xe,0,0,Ye,Ke);let Qe=Ze.getImageData(0,0,Ye,Ke).data;ze(new Image$1(Ye,Ke,Qe,je))},Xe.onerror=function(){qe(new Error(`Could not load ${Ve}`))},Xe.src=Ve})}const valueMethods={getValueXY(Ve,je,ze){return this.data[(je*this.width+Ve)*this.channels+ze]},setValueXY(Ve,je,ze,qe){return this.data[(je*this.width+Ve)*this.channels+ze]=qe,this.computed=null,this},getValue(Ve,je){return this.data[Ve*this.channels+je]},setValue(Ve,je,ze){return this.data[Ve*this.channels+je]=ze,this.computed=null,this},getPixelXY(Ve,je){return this.getPixel(je*this.width+Ve)},setPixelXY(Ve,je,ze){return this.setPixel(je*this.width+Ve,ze)},getPixel(Ve){const je=new Array(this.channels),ze=Ve*this.channels;for(let qe=0;qe<this.channels;qe++)je[qe]=this.data[ze+qe];return je},setPixel(Ve,je){const ze=Ve*this.channels;for(let qe=0;qe<je.length;qe++)this.data[ze+qe]=je[qe];return this.computed=null,this}};function setValueMethods(Ve){for(const je in valueMethods)Ve.prototype[je]=valueMethods[je]}function getImageParameters(Ve){return{width:Ve.width,height:Ve.height,components:Ve.components,alpha:Ve.alpha,colorModel:Ve.colorModel,bitDepth:Ve.bitDepth}}function getOutputImage(Ve,je,ze,qe={}){const{out:Xe}=je;if(Xe===void 0)return qe.copy?Ve.clone():Image$1.createFrom(Ve,ze);{if(!Image$1.isImage(Xe))throw new TypeError("out must be an Image object");const Ye=Object.assign(getImageParameters(Ve),ze);for(const Ke in Ye)if(Xe[Ke]!==Ye[Ke])throw new RangeError(`cannot use out. Its ${Ke} must be "${Ye[Ke]}" (found "${Xe[Ke]}")`);return Xe}}function getOutputImageOrInPlace(Ve,je,ze){if(je.inPlace!==void 0&&typeof je.inPlace!="boolean")throw new TypeError("inPlace option must be a boolean");if(je.inPlace){if(je.out!==void 0)throw new TypeError("out option must not be set if inPlace option is true");return Ve}return getOutputImage(Ve,je,null,ze)}function abs(Ve={}){this.checkProcessable("abs",{bitDepth:[32]});const je=getOutputImageOrInPlace(this,Ve);return absolute(this,je),je}function absolute(Ve,je){for(let ze=0;ze<Ve.data.length;ze++)je.data[ze]=Math.abs(Ve.data[ze])}function copyAlphaChannel(Ve,je){if(Ve.alpha===1&&je.alpha===1)for(let ze=0;ze<Ve.size;ze++)je.data[ze*je.channels+je.components]=Ve.data[ze*Ve.channels+Ve.components]}function invert(Ve={}){this.checkProcessable("invert",{bitDepth:[1,8,16]});const je=getOutputImageOrInPlace(this,Ve);return this.bitDepth===1?invertBinary(this,je):(invertColor(this,je),this!==je&&copyAlphaChannel(this,je)),je}function invertBinary(Ve,je){for(let ze=0;ze<Ve.data.length;ze++)je.data[ze]=~Ve.data[ze]}function invertColor(Ve,je){for(let ze=0;ze<Ve.data.length;ze+=Ve.channels)for(let qe=0;qe<Ve.components;qe++)je.data[ze+qe]=Ve.maxValue-Ve.data[ze+qe]}function flipX(){this.checkProcessable("flipX",{bitDepth:[8,16]});for(let Ve=0;Ve<this.height;Ve++){let je=Ve*this.width*this.channels;for(let ze=0;ze<Math.floor(this.width/2);ze++){let qe=ze*this.channels+je,Xe=(this.width-ze-1)*this.channels+je;for(let Ye=0;Ye<this.channels;Ye++){let Ke=this.data[qe+Ye];this.data[qe+Ye]=this.data[Xe+Ye],this.data[Xe+Ye]=Ke}}}return this}function flipY(){this.checkProcessable("flipY",{bitDepth:[8,16]});for(let Ve=0;Ve<Math.floor(this.height/2);Ve++)for(let je=0;je<this.width;je++){let ze=je*this.channels+Ve*this.width*this.channels,qe=je*this.channels+(this.height-1-Ve)*this.channels*this.width;for(let Xe=0;Xe<this.channels;Xe++){let Ye=this.data[ze+Xe];this.data[ze+Xe]=this.data[qe+Xe],this.data[qe+Xe]=Ye}}return this}function blurFilter(Ve={}){const{radius:je=1}=Ve;if(je<1)throw new Error("radius must be greater than 1");const ze=2*je+1,qe=new Array(ze);for(let Xe=0;Xe<ze;Xe++){qe[Xe]=new Array(ze);for(let Ye=0;Ye<ze;Ye++)qe[Xe][Ye]=1/(ze*ze)}return this.convolution(qe)}var medianQuickselect_min={exports:{}};(function(Ve){(function(){function je(Xe){for(var Ye=0,Ke=Xe.length-1,Ze=void 0,Qe=void 0,Je=void 0,St=qe(Ye,Ke);;){if(Ke<=Ye)return Xe[St];if(Ke==Ye+1)return Xe[Ye]>Xe[Ke]&&ze(Xe,Ye,Ke),Xe[St];for(Ze=qe(Ye,Ke),Xe[Ze]>Xe[Ke]&&ze(Xe,Ze,Ke),Xe[Ye]>Xe[Ke]&&ze(Xe,Ye,Ke),Xe[Ze]>Xe[Ye]&&ze(Xe,Ze,Ye),ze(Xe,Ze,Ye+1),Qe=Ye+1,Je=Ke;;){do Qe++;while(Xe[Ye]>Xe[Qe]);do Je--;while(Xe[Je]>Xe[Ye]);if(Je<Qe)break;ze(Xe,Qe,Je)}ze(Xe,Ye,Je),Je<=St&&(Ye=Qe),Je>=St&&(Ke=Je-1)}}var ze=function(Xe,Ye,Ke){var Ze;return Ze=[Xe[Ke],Xe[Ye]],Xe[Ye]=Ze[0],Xe[Ke]=Ze[1],Ze},qe=function(Xe,Ye){return~~((Xe+Ye)/2)};Ve.exports?Ve.exports=je:window.median=je})()})(medianQuickselect_min);var medianQuickselect_minExports=medianQuickselect_min.exports;const quickSelectMedian=getDefaultExportFromCjs$1(medianQuickselect_minExports);function validateArrayOfChannels(Ve,je={}){let{channels:ze,allowAlpha:qe,defaultAlpha:Xe}=je;return typeof qe!="boolean"&&(qe=!0),typeof ze>"u"?allChannels(Ve,Xe):validateChannels(Ve,ze,qe)}function allChannels(Ve,je){let ze=je?Ve.channels:Ve.components,qe=new Array(ze);for(let Xe=0;Xe<ze;Xe++)qe[Xe]=Xe;return qe}function validateChannels(Ve,je,ze){Array.isArray(je)||(je=[je]);for(let qe=0;qe<je.length;qe++)je[qe]=validateChannel(Ve,je[qe],ze);return je}function validateChannel(Ve,je,ze=!0){if(je===void 0)throw new RangeError(`validateChannel : the channel has to be >=0 and <${Ve.channels}`);if(typeof je=="string"){switch(Ve.colorModel){case GREY$1:break;case RGB$1:if("rgb".includes(je))switch(je){case"r":je=0;break;case"g":je=1;break;case"b":je=2;break}break;case HSL:if("hsl".includes(je))switch(je){case"h":je=0;break;case"s":je=1;break;case"l":je=2;break}break;case HSV:if("hsv".includes(je))switch(je){case"h":je=0;break;case"s":je=1;break;case"v":je=2;break}break;case CMYK$1:if("cmyk".includes(je))switch(je){case"c":je=0;break;case"m":je=1;break;case"y":je=2;break;case"k":je=3;break}break;default:throw new Error(`Unexpected color model: ${Ve.colorModel}`)}if(je==="a"){if(!Ve.alpha)throw new Error("validateChannel : the image does not contain alpha channel");je=Ve.components}if(typeof je=="string")throw new Error(`validateChannel : undefined channel: ${je}`)}if(je>=Ve.channels)throw new RangeError(`validateChannel : the channel has to be >=0 and <${Ve.channels}`);if(!ze&&je>=Ve.components)throw new RangeError("validateChannel : alpha channel may not be selected");return je}function medianFilter(Ve={}){let{radius:je=1,border:ze="copy",channels:qe}=Ve;if(this.checkProcessable("medianFilter",{bitDepth:[8,16]}),je<1)throw new Error("radius must be greater than 0");qe=validateArrayOfChannels(this,qe);let Xe=je,Ye=je,Ke=Image$1.createFrom(this),Ze=(Xe*2+1)*(Ye*2+1),Qe=new Array(Ze);for(let Je=0;Je<qe.length;Je++){let St=qe[Je];for(let ei=Ye;ei<this.height-Ye;ei++)for(let ti=Xe;ti<this.width-Xe;ti++){let ii=0;for(let si=-Ye;si<=Ye;si++)for(let ui=-Xe;ui<=Xe;ui++){let ai=((ei+si)*this.width+ti+ui)*this.channels+St;Qe[ii++]=this.data[ai]}let ri=(ei*this.width+ti)*this.channels+St;Ke.data[ri]=quickSelectMedian(Qe)}}if(this.alpha&&!qe.includes(this.channels))for(let Je=this.components;Je<this.data.length;Je=Je+this.channels)Ke.data[Je]=this.data[Je];return Ke.setBorder({size:[Xe,Ye],algorithm:ze}),Ke}function gaussianFilter(Ve={}){let{radius:je=1,sigma:ze,channels:qe,border:Xe="copy"}=Ve;this.checkProcessable("gaussian",{bitDepth:[8,16]});const Ye=getKernel(je,ze);return this.convolution([Ye,Ye],{border:Xe,channels:qe,algorithm:"separable"})}function getKernel(Ve,je){const ze=Ve*2+1,qe=new Array(ze),Xe=je||((ze-1)*.5-1)*.3+.8,Ye=-.5/(Xe*Xe);let Ke=0;for(let Ze=0;Ze<ze;Ze++){const Qe=Ze-Ve,Je=Math.exp(Ye*Qe*Qe);qe[Ze]=Je,Ke+=Je}for(let Ze=0;Ze<ze;Ze++)qe[Ze]/=Ke;return qe}const SOBEL_X=[[-1,0,1],[-2,0,2],[-1,0,1]],SOBEL_Y=[[-1,-2,-1],[0,0,0],[1,2,1]],SCHARR_X=[[3,0,-3],[10,0,-10],[3,0,-3]],SCHARR_Y=[[3,10,3],[0,0,0],[-3,-10,-3]];var src$2={},fftlib={};(function(Ve){(function(){var je;je=Ve;var ze={release:"0.3.0",date:"2013-03"};je.toString=function(){return"version "+ze.release+", released "+ze.date};for(var qe=0,Xe=null,Ye=null,Ke={init:function(Je){if(Je!==0&&!(Je&Je-1))qe=Je,Ke._initArray(),Ke._makeBitReversalTable(),Ke._makeCosSinTable();else throw new Error("init: radix-2 required")},fft1d:function(Je,St){Ke.fft(Je,St,1)},ifft1d:function(Je,St){var ei=1/qe;Ke.fft(Je,St,-1);for(var ti=0;ti<qe;ti++)Je[ti]*=ei,St[ti]*=ei},bt1d:function(Je,St){Ke.fft(Je,St,-1)},fft2d:function(Je,St){for(var ei=[],ti=[],ii=0,ri=0;ri<qe;ri++){ii=ri*qe;for(var si=0;si<qe;si++)ei[si]=Je[si+ii],ti[si]=St[si+ii];Ke.fft1d(ei,ti);for(var ui=0;ui<qe;ui++)Je[ui+ii]=ei[ui],St[ui+ii]=ti[ui]}for(var ai=0;ai<qe;ai++){for(var oi=0;oi<qe;oi++)ii=ai+oi*qe,ei[oi]=Je[ii],ti[oi]=St[ii];Ke.fft1d(ei,ti);for(var ni=0;ni<qe;ni++)ii=ai+ni*qe,Je[ii]=ei[ni],St[ii]=ti[ni]}},ifft2d:function(Je,St){for(var ei=[],ti=[],ii=0,ri=0;ri<qe;ri++){ii=ri*qe;for(var si=0;si<qe;si++)ei[si]=Je[si+ii],ti[si]=St[si+ii];Ke.ifft1d(ei,ti);for(var ui=0;ui<qe;ui++)Je[ui+ii]=ei[ui],St[ui+ii]=ti[ui]}for(var ai=0;ai<qe;ai++){for(var oi=0;oi<qe;oi++)ii=ai+oi*qe,ei[oi]=Je[ii],ti[oi]=St[ii];Ke.ifft1d(ei,ti);for(var ni=0;ni<qe;ni++)ii=ai+ni*qe,Je[ii]=ei[ni],St[ii]=ti[ni]}},fft:function(Je,St,ei){for(var ti,ii,ri,si,ui,ai,oi,ni,ci,hi=qe>>2,di=0;di<qe;di++)si=Xe[di],di<si&&(ui=Je[di],Je[di]=Je[si],Je[si]=ui,ui=St[di],St[di]=St[si],St[si]=ui);for(var fi=1;fi<qe;fi<<=1){ii=0,ti=qe/(fi<<1);for(var mi=0;mi<fi;mi++){ai=Ye[ii+hi],oi=ei*Ye[ii];for(var pi=mi;pi<qe;pi+=fi<<1)ri=pi+fi,ni=ai*Je[ri]+oi*St[ri],ci=ai*St[ri]-oi*Je[ri],Je[ri]=Je[pi]-ni,Je[pi]+=ni,St[ri]=St[pi]-ci,St[pi]+=ci;ii+=ti}}},_initArray:function(){typeof Uint32Array<"u"?Xe=new Uint32Array(qe):Xe=[],typeof Float64Array<"u"?Ye=new Float64Array(qe*1.25):Ye=[]},_paddingZero:function(){},_makeBitReversalTable:function(){var Je=0,St=0,ei=0;for(Xe[0]=0;++Je<qe;){for(ei=qe>>1;ei<=St;)St-=ei,ei>>=1;St+=ei,Xe[Je]=St}},_makeCosSinTable:function(){var Je=qe>>1,St=qe>>2,ei=qe>>3,ti=Je+St,ii=Math.sin(Math.PI/qe),ri=2*ii*ii,si=Math.sqrt(ri*(2-ri)),ui=Ye[St]=1,ai=Ye[0]=0;ii=2*ri;for(var oi=1;oi<ei;oi++)ui-=ri,ri+=ii*ui,ai+=si,si-=ii*ai,Ye[oi]=ai,Ye[St-oi]=ui;ei!==0&&(Ye[ei]=Math.sqrt(.5));for(var ni=0;ni<St;ni++)Ye[Je-ni]=Ye[ni];for(var ci=0;ci<ti;ci++)Ye[ci+Je]=-Ye[ci]}},Ze=["init","fft1d","ifft1d","fft2d","ifft2d"],Qe=0;Qe<Ze.length;Qe++)je[Ze[Qe]]=Ke[Ze[Qe]];return je.bt=Ke.bt1d,je.fft=Ke.fft1d,je.ifft=Ke.ifft1d,je}).call(commonjsGlobal$1)})(fftlib);var FFT$1=fftlib,FFTUtils$1={DEBUG:!1,ifft2DArray:function(Ve,je,ze){var qe=new Array(je*ze),Xe=je/2,Ye=(ze-1)*2;FFT$1.init(Xe);for(var Ke={re:new Array(Xe),im:new Array(Xe)},Ze=0;Ze<ze;Ze++){for(var Qe=Xe-1;Qe>=0;Qe--)Ke.re[Qe]=Ve[Qe*2*ze+Ze],Ke.im[Qe]=Ve[(Qe*2+1)*ze+Ze];FFT$1.bt(Ke.re,Ke.im);for(var Qe=Xe-1;Qe>=0;Qe--)qe[Qe*2*ze+Ze]=Ke.re[Qe],qe[(Qe*2+1)*ze+Ze]=Ke.im[Qe]}var Je=new Array(Xe*Ye);FFT$1.init(Ye);for(var St={re:new Array(Ye),im:new Array(Ye)},ei=Ye*Xe,Qe=0;Qe<je;Qe+=2){St.re[0]=qe[Qe*ze],St.im[0]=qe[(Qe+1)*ze];for(var Ze=1;Ze<ze;Ze++)St.re[Ze]=qe[Qe*ze+Ze],St.im[Ze]=qe[(Qe+1)*ze+Ze],St.re[Ye-Ze]=qe[Qe*ze+Ze],St.im[Ye-Ze]=-qe[(Qe+1)*ze+Ze];FFT$1.bt(St.re,St.im);for(var ti=Qe/2*Ye,Ze=Ye-1;Ze>=0;Ze--)Je[ti+Ze]=St.re[Ze]/ei}return Je},fft2DArray:function(Ve,je,ze,qe){Object.assign({},{inplace:!0});var Xe=ze/2+1,Ye=je*2,Ke=new Array(Ye*Xe);FFT$1.init(ze);for(var Ze={re:new Array(ze),im:new Array(ze)},Qe={re:new Array(ze),im:new Array(ze)},Je={re:new Array(ze),im:new Array(ze)},St,ei,ti,ii,ri,si=0;si<je/2;si++){St=si*2*ze,Ze.re=Ve.slice(St,St+ze),St=(si*2+1)*ze,Ze.im=Ve.slice(St,St+ze),FFT$1.fft1d(Ze.re,Ze.im),this.reconstructTwoRealFFT(Ze,Qe,Je),ei=si*4*Xe,ti=(si*4+1)*Xe,ii=(si*4+2)*Xe,ri=(si*4+3)*Xe;for(var ui=Xe-1;ui>=0;ui--)Ke[ei+ui]=Qe.re[ui],Ke[ti+ui]=Qe.im[ui],Ke[ii+ui]=Je.re[ui],Ke[ri+ui]=Je.im[ui]}Qe=null,Je=null;var ai=new Array(Ye*Xe);FFT$1.init(je);for(var oi={re:new Array(je),im:new Array(je)},ni=Xe-1;ni>=0;ni--){for(var si=je-1;si>=0;si--)oi.re[si]=Ke[si*2*Xe+ni],oi.im[si]=Ke[(si*2+1)*Xe+ni],isNaN(oi.re[si])&&(oi.re[si]=0),isNaN(oi.im[si])&&(oi.im[si]=0);FFT$1.fft1d(oi.re,oi.im);for(var si=je-1;si>=0;si--)ai[si*2*Xe+ni]=oi.re[si],ai[(si*2+1)*Xe+ni]=oi.im[si]}return ai},reconstructTwoRealFFT:function(Ve,je,ze){var qe=Ve.re.length;je.re[0]=Ve.re[0],je.im[0]=0,ze.re[0]=Ve.im[0],ze.im[0]=0;for(var Xe,Ye,Ke,Ze,Qe,Je=qe/2;Je>0;Je--)Qe=qe-Je,Xe=.5*(Ve.re[Je]-Ve.re[Qe]),Ye=.5*(Ve.re[Je]+Ve.re[Qe]),Ke=.5*(Ve.im[Je]-Ve.im[Qe]),Ze=.5*(Ve.im[Je]+Ve.im[Qe]),je.re[Je]=Ye,je.im[Je]=Ke,je.re[Qe]=Ye,je.im[Qe]=-Ke,ze.re[Je]=Ze,ze.im[Je]=-Xe,ze.re[Qe]=Ze,ze.im[Qe]=Xe},convolute2DI:function(Ve,je,ze,qe){for(var Xe,Ye,Ke=0;Ke<ze/2;Ke++)for(var Ze=0;Ze<qe;Ze++)Xe=Ve[Ke*2*qe+Ze]*je[Ke*2*qe+Ze]-Ve[(Ke*2+1)*qe+Ze]*je[(Ke*2+1)*qe+Ze],Ye=Ve[Ke*2*qe+Ze]*je[(Ke*2+1)*qe+Ze]+Ve[(Ke*2+1)*qe+Ze]*je[Ke*2*qe+Ze],Ve[Ke*2*qe+Ze]=Xe,Ve[(Ke*2+1)*qe+Ze]=Ye},convolute:function(Ve,je,ze,qe,Xe){for(var Ye=new Array(qe*ze),Ke=0;Ke<ze*qe;Ke++)Ye[Ke]=Ve[Ke];Ye=this.fft2DArray(Ye,ze,qe);for(var Ze=je.length,Qe=je[0].length,Je=new Array(qe*ze),Ke=0;Ke<qe*ze;Ke++)Je[Ke]=0;for(var St,ei,ti=Math.floor((Ze-1)/2),ii=Math.floor((Qe-1)/2),ri=0;ri<Ze;ri++){St=(ri-ti+ze)%ze;for(var si=0;si<Qe;si++)ei=(si-ii+qe)%qe,Je[St*qe+ei]=je[ri][si]}Je=this.fft2DArray(Je,ze,qe);var ui=ze*2,ai=qe/2+1;return this.convolute2DI(Ye,Je,ui,ai),this.ifft2DArray(Ye,ui,ai)},toRadix2:function(Ve,je,ze){var qe,Xe,Ye,Ke,Ze=ze,Qe=je;if(!(ze!==0&&!(ze&ze-1))){for(Ze=0;ze>>++Ze;);Ze=1<<Ze}if(!(je!==0&&!(je&je-1))){for(Qe=0;je>>++Qe;);Qe=1<<Qe}if(Qe==je&&Ze==ze)return{data:Ve,rows:je,cols:ze};var Je=new Array(Qe*Ze),St=Math.floor((Qe-je)/2)-je,ei=Math.floor((Ze-ze)/2)-ze;for(qe=0;qe<Qe;qe++)for(Ye=qe*Ze,Ke=(qe-St)%je*ze,Xe=0;Xe<Ze;Xe++)Je[Ye+Xe]=Ve[Ke+(Xe-ei)%ze];return{data:Je,rows:Qe,cols:Ze}},crop:function(Ve,je,ze,qe,Xe,Ye){if(je==qe&&ze==Xe)return Ve;Object.assign({},Ye);var Ke=new Array(Xe*qe),Ze=Math.floor((je-qe)/2),Qe=Math.floor((ze-Xe)/2),Je,St,ei,ti;for(ei=0;ei<qe;ei++)for(Je=ei*Xe,St=(ei+Ze)*ze,ti=0;ti<Xe;ti++)Ke[Je+ti]=Ve[St+(ti+Qe)];return Ke}},FFTUtils_1=FFTUtils$1;src$2.FFTUtils=FFTUtils_1;src$2.FFT=fftlib;var FFTUtils=src$2.FFTUtils;function convolutionFFT(Ve,je,ze){var qe=matrix2Array(Ve),Xe=qe.data,Ye=Object.assign({normalize:!1,divisor:1,rows:qe.rows,cols:qe.cols},ze),Ke,Ze;if(Ye.rows&&Ye.cols)Ke=Ye.rows,Ze=Ye.cols;else throw new Error("Invalid number of rows or columns "+Ke+" "+Ze);var Qe=Ye.divisor,Je,St,ei=je.length,ti=je[0].length;if(Ye.normalize)for(Qe=0,Je=0;Je<ei;Je++)for(St=0;St<ti;St++)Qe+=je[Je][St];if(Qe===0)throw new RangeError("convolution: The divisor is equal to zero");var ii=FFTUtils.toRadix2(Xe,Ke,Ze),ri=FFTUtils.convolute(ii.data,je,ii.rows,ii.cols);if(ri=FFTUtils.crop(ri,ii.rows,ii.cols,Ke,Ze),Qe!=0&&Qe!=1)for(Je=0;Je<ri.length;Je++)ri[Je]/=Qe;return ri}function convolutionDirect(Ve,je,ze){var qe=matrix2Array(Ve),Xe=qe.data,Ye=Object.assign({normalize:!1,divisor:1,rows:qe.rows,cols:qe.cols},ze),Ke,Ze;if(Ye.rows&&Ye.cols)Ke=Ye.rows,Ze=Ye.cols;else throw new Error("Invalid number of rows or columns "+Ke+" "+Ze);var Qe=Ye.divisor,Je=je.length,St=je[0].length,ei,ti,ii,ri,si,ui,ai,oi,ni;if(Ye.normalize)for(Qe=0,ei=0;ei<Je;ei++)for(ti=0;ti<St;ti++)Qe+=je[ei][ti];if(Qe===0)throw new RangeError("convolution: The divisor is equal to zero");var ci=new Array(Ke*Ze),hi=Math.floor(Je/2),di=Math.floor(St/2);for(ri=0;ri<Ke;ri++)for(ii=0;ii<Ze;ii++){for(ui=0,ti=0;ti<Je;ti++)for(ei=0;ei<St;ei++)ai=je[Je-ti-1][St-ei-1],oi=(ri+ti-hi+Ke)%Ke,ni=(ii+ei-di+Ze)%Ze,si=oi*Ze+ni,ui+=Xe[si]*ai;si=ri*Ze+ii,ci[si]=ui/Qe}return ci}function LoG(Ve,je,ze){var qe=1e3;ze&&ze.factor&&(qe=ze.factor);var Xe=new Array(je),Ye,Ke,Ze,Qe;qe*=-1;var Je=(je-1)/2,St=2*Ve*Ve;for(Ye=0;Ye<je;Ye++)for(Xe[Ye]=new Array(je),Qe=(Ye-Je)*(Ye-Je),Ke=0;Ke<je;Ke++)Ze=-((Ke-Je)*(Ke-Je)+Qe)/St,Xe[Ye][Ke]=Math.round(qe*(1+Ze)*Math.exp(Ze));return Xe}function matrix2Array(Ve){var je=Ve,ze,qe;if(typeof Ve[0]!="number"){ze=Ve.length,qe=Ve[0].length,je=new Array(ze*qe);for(var Xe=0;Xe<ze;Xe++)for(var Ye=0;Ye<qe;Ye++)je[Xe*qe+Ye]=Ve[Xe][Ye]}else{var Ke=Math.sqrt(Ve.length);Number.isInteger(Ke)&&(ze=Ke,qe=Ke)}return{data:je,rows:ze,cols:qe}}var src$1={fft:convolutionFFT,direct:convolutionDirect,kernelFactory:{LoG},matrix2Array},_isFinite=Number.isFinite||function(Ve){return!(typeof Ve!="number"||Ve!==Ve||Ve===1/0||Ve===-1/0)},isFinite$1=_isFinite,isInteger=Number.isInteger||function(Ve){return typeof Ve=="number"&&isFinite$1(Ve)&&Math.floor(Ve)===Ve};const isInteger$1=getDefaultExportFromCjs$1(isInteger);function validateKernel(Ve){let je,ze;if(Array.isArray(Ve))if(Array.isArray(Ve[0])){if(!(Ve.length&1)||!(Ve[0].length&1))throw new RangeError("validateKernel: Kernel rows and columns should be odd numbers");je=Math.floor(Ve.length/2),ze=Math.floor(Ve[0].length/2)}else{let qe=Math.sqrt(Ve.length);if(isInteger$1(qe))ze=je=Math.floor(Math.sqrt(Ve.length)/2);else throw new RangeError("validateKernel: Kernel array should be a square");let Xe=new Array(qe);for(let Ye=0;Ye<qe;Ye++){Xe[Ye]=new Array(qe);for(let Ke=0;Ke<qe;Ke++)Xe[Ye][Ke]=Ve[Ye*qe+Ke]}Ve=Xe}else throw new Error(`validateKernel: Invalid Kernel: ${Ve}`);return{kernel:Ve,kWidth:ze,kHeight:je}}function clamp(Ve,je){return Math.round(Math.min(Math.max(Ve,0),je.maxValue))}function directConvolution(Ve,je,ze){if(ze===void 0){const Ye=Ve.length+je.length-1;ze=new Array(Ye)}fill(ze);for(var qe=0;qe<Ve.length;qe++)for(var Xe=0;Xe<je.length;Xe++)ze[qe+Xe]+=Ve[qe]*je[Xe];return ze}function fill(Ve){for(var je=0;je<Ve.length;je++)Ve[je]=0}function convolutionSeparable(Ve,je,ze,qe){const Xe=new Array(Ve.length);let Ye,Ke,Ze,Qe;Qe=je[1],Ze=(Qe.length-1)/2,Ke=new Array(ze+Qe.length-1),Ye=new Array(ze);for(let Je=0;Je<qe;Je++){for(let St=0;St<ze;St++)Ye[St]=Ve[Je*ze+St];directConvolution(Ye,Qe,Ke);for(let St=0;St<ze;St++)Xe[Je*ze+St]=Ke[Ze+St]}Qe=je[0],Ze=(Qe.length-1)/2,Ke=new Array(qe+Qe.length-1),Ye=new Array(qe);for(let Je=0;Je<ze;Je++){for(let St=0;St<qe;St++)Ye[St]=Xe[St*ze+Je];directConvolution(Ye,Qe,Ke);for(let St=0;St<qe;St++)Xe[St*ze+Je]=Ke[Ze+St]}return Xe}var matrix={};const toString$1=Object.prototype.toString;function isAnyArray$1(Ve){const je=toString$1.call(Ve);return je.endsWith("Array]")&&!je.includes("Big")}const libEsm=Object.freeze(Object.defineProperty({__proto__:null,isAnyArray:isAnyArray$1},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(libEsm);function max$1(Ve){var je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!isAnyArray$1(Ve))throw new TypeError("input must be an array");if(Ve.length===0)throw new TypeError("input must not be empty");var ze=je.fromIndex,qe=ze===void 0?0:ze,Xe=je.toIndex,Ye=Xe===void 0?Ve.length:Xe;if(qe<0||qe>=Ve.length||!Number.isInteger(qe))throw new Error("fromIndex must be a positive integer smaller than length");if(Ye<=qe||Ye>Ve.length||!Number.isInteger(Ye))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var Ke=Ve[qe],Ze=qe+1;Ze<Ye;Ze++)Ve[Ze]>Ke&&(Ke=Ve[Ze]);return Ke}function min$1(Ve){var je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!isAnyArray$1(Ve))throw new TypeError("input must be an array");if(Ve.length===0)throw new TypeError("input must not be empty");var ze=je.fromIndex,qe=ze===void 0?0:ze,Xe=je.toIndex,Ye=Xe===void 0?Ve.length:Xe;if(qe<0||qe>=Ve.length||!Number.isInteger(qe))throw new Error("fromIndex must be a positive integer smaller than length");if(Ye<=qe||Ye>Ve.length||!Number.isInteger(Ye))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var Ke=Ve[qe],Ze=qe+1;Ze<Ye;Ze++)Ve[Ze]<Ke&&(Ke=Ve[Ze]);return Ke}function rescale$1(Ve){var je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(isAnyArray$1(Ve)){if(Ve.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var ze;if(je.output!==void 0){if(!isAnyArray$1(je.output))throw new TypeError("output option must be an array if specified");ze=je.output}else ze=new Array(Ve.length);var qe=min$1(Ve),Xe=max$1(Ve);if(qe===Xe)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var Ye=je.min,Ke=Ye===void 0?je.autoMinMax?qe:0:Ye,Ze=je.max,Qe=Ze===void 0?je.autoMinMax?Xe:1:Ze;if(Ke>=Qe)throw new RangeError("min option must be smaller than max option");for(var Je=(Qe-Ke)/(Xe-qe),St=0;St<Ve.length;St++)ze[St]=(Ve[St]-qe)*Je+Ke;return ze}const libEs6=Object.freeze(Object.defineProperty({__proto__:null,default:rescale$1},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(libEs6);Object.defineProperty(matrix,"__esModule",{value:!0});var isAnyArray=require$$0$1,rescale=require$$1;const indent=" ".repeat(2),indentData=" ".repeat(4);function inspectMatrix(){return inspectMatrixWithOptions(this)}function inspectMatrixWithOptions(Ve,je={}){const{maxRows:ze=15,maxColumns:qe=10,maxNumSize:Xe=8,padMinus:Ye="auto"}=je;return`${Ve.constructor.name} {
${indent}[
${indentData}${inspectData(Ve,ze,qe,Xe,Ye)}
${indent}]
${indent}rows: ${Ve.rows}
${indent}columns: ${Ve.columns}
}`}function inspectData(Ve,je,ze,qe,Xe){const{rows:Ye,columns:Ke}=Ve,Ze=Math.min(Ye,je),Qe=Math.min(Ke,ze),Je=[];if(Xe==="auto"){Xe=!1;e:for(let St=0;St<Ze;St++)for(let ei=0;ei<Qe;ei++)if(Ve.get(St,ei)<0){Xe=!0;break e}}for(let St=0;St<Ze;St++){let ei=[];for(let ti=0;ti<Qe;ti++)ei.push(formatNumber(Ve.get(St,ti),qe,Xe));Je.push(`${ei.join(" ")}`)}return Qe!==Ke&&(Je[Je.length-1]+=` ... ${Ke-ze} more columns`),Ze!==Ye&&Je.push(`... ${Ye-je} more rows`),Je.join(`
${indentData}`)}function formatNumber(Ve,je,ze){return(Ve>=0&&ze?` ${formatNumber2(Ve,je-1)}`:formatNumber2(Ve,je)).padEnd(je)}function formatNumber2(Ve,je){let ze=Ve.toString();if(ze.length<=je)return ze;let qe=Ve.toFixed(je);if(qe.length>je&&(qe=Ve.toFixed(Math.max(0,je-(qe.length-je)))),qe.length<=je&&!qe.startsWith("0.000")&&!qe.startsWith("-0.000"))return qe;let Xe=Ve.toExponential(je);return Xe.length>je&&(Xe=Ve.toExponential(Math.max(0,je-(Xe.length-je)))),Xe.slice(0)}function installMathOperations(Ve,je){Ve.prototype.add=function(ze){return typeof ze=="number"?this.addS(ze):this.addM(ze)},Ve.prototype.addS=function(ze){for(let qe=0;qe<this.rows;qe++)for(let Xe=0;Xe<this.columns;Xe++)this.set(qe,Xe,this.get(qe,Xe)+ze);return this},Ve.prototype.addM=function(ze){if(ze=je.checkMatrix(ze),this.rows!==ze.rows||this.columns!==ze.columns)throw new RangeError("Matrices dimensions must be equal");for(let qe=0;qe<this.rows;qe++)for(let Xe=0;Xe<this.columns;Xe++)this.set(qe,Xe,this.get(qe,Xe)+ze.get(qe,Xe));return this},Ve.add=function(ze,qe){return new je(ze).add(qe)},Ve.prototype.sub=function(ze){return typeof ze=="number"?this.subS(ze):this.subM(ze)},Ve.prototype.subS=function(ze){for(let qe=0;qe<this.rows;qe++)for(let Xe=0;Xe<this.columns;Xe++)this.set(qe,Xe,this.get(qe,Xe)-ze);return this},Ve.prototype.subM=function(ze){if(ze=je.checkMatrix(ze),this.rows!==ze.rows||this.columns!==ze.columns)throw new RangeError("Matrices dimensions must be equal");for(let qe=0;qe<this.rows;qe++)for(let Xe=0;Xe<this.columns;Xe++)this.set(qe,Xe,this.get(qe,Xe)-ze.get(qe,Xe));return this},Ve.sub=function(ze,qe){return new je(ze).sub(qe)},Ve.prototype.subtract=Ve.prototype.sub,Ve.prototype.subtractS=Ve.prototype.subS,Ve.prototype.subtractM=Ve.prototype.subM,Ve.subtract=Ve.sub,Ve.prototype.mul=function(ze){return typeof ze=="number"?this.mulS(ze):this.mulM(ze)},Ve.prototype.mulS=function(ze){for(let qe=0;qe<this.rows;qe++)for(let Xe=0;Xe<this.columns;Xe++)this.set(qe,Xe,this.get(qe,Xe)*ze);return this},Ve.prototype.mulM=function(ze){if(ze=je.checkMatrix(ze),this.rows!==ze.rows||this.columns!==ze.columns)throw new RangeError("Matrices dimensions must be equal");for(let qe=0;qe<this.rows;qe++)for(let Xe=0;Xe<this.columns;Xe++)this.set(qe,Xe,this.get(qe,Xe)*ze.get(qe,Xe));return this},Ve.mul=function(ze,qe){return new je(ze).mul(qe)},Ve.prototype.multiply=Ve.prototype.mul,Ve.prototype.multiplyS=Ve.prototype.mulS,Ve.prototype.multiplyM=Ve.prototype.mulM,Ve.multiply=Ve.mul,Ve.prototype.div=function(ze){return typeof ze=="number"?this.divS(ze):this.divM(ze)},Ve.prototype.divS=function(ze){for(let qe=0;qe<this.rows;qe++)for(let Xe=0;Xe<this.columns;Xe++)this.set(qe,Xe,this.get(qe,Xe)/ze);return this},Ve.prototype.divM=function(ze){if(ze=je.checkMatrix(ze),this.rows!==ze.rows||this.columns!==ze.columns)throw new RangeError("Matrices dimensions must be equal");for(let qe=0;qe<this.rows;qe++)for(let Xe=0;Xe<this.columns;Xe++)this.set(qe,Xe,this.get(qe,Xe)/ze.get(qe,Xe));return this},Ve.div=function(ze,qe){return new je(ze).div(qe)},Ve.prototype.divide=Ve.prototype.div,Ve.prototype.divideS=Ve.prototype.divS,Ve.prototype.divideM=Ve.prototype.divM,Ve.divide=Ve.div,Ve.prototype.mod=function(ze){return typeof ze=="number"?this.modS(ze):this.modM(ze)},Ve.prototype.modS=function(ze){for(let qe=0;qe<this.rows;qe++)for(let Xe=0;Xe<this.columns;Xe++)this.set(qe,Xe,this.get(qe,Xe)%ze);return this},Ve.prototype.modM=function(ze){if(ze=je.checkMatrix(ze),this.rows!==ze.rows||this.columns!==ze.columns)throw new RangeError("Matrices dimensions must be equal");for(let qe=0;qe<this.rows;qe++)for(let Xe=0;Xe<this.columns;Xe++)this.set(qe,Xe,this.get(qe,Xe)%ze.get(qe,Xe));return this},Ve.mod=function(ze,qe){return new je(ze).mod(qe)},Ve.prototype.modulus=Ve.prototype.mod,Ve.prototype.modulusS=Ve.prototype.modS,Ve.prototype.modulusM=Ve.prototype.modM,Ve.modulus=Ve.mod,Ve.prototype.and=function(ze){return typeof ze=="number"?this.andS(ze):this.andM(ze)},Ve.prototype.andS=function(ze){for(let qe=0;qe<this.rows;qe++)for(let Xe=0;Xe<this.columns;Xe++)this.set(qe,Xe,this.get(qe,Xe)&ze);return this},Ve.prototype.andM=function(ze){if(ze=je.checkMatrix(ze),this.rows!==ze.rows||this.columns!==ze.columns)throw new RangeError("Matrices dimensions must be equal");for(let qe=0;qe<this.rows;qe++)for(let Xe=0;Xe<this.columns;Xe++)this.set(qe,Xe,this.get(qe,Xe)&ze.get(qe,Xe));return this},Ve.and=function(ze,qe){return new je(ze).and(qe)},Ve.prototype.or=function(ze){return typeof ze=="number"?this.orS(ze):this.orM(ze)},Ve.prototype.orS=function(ze){for(let qe=0;qe<this.rows;qe++)for(let Xe=0;Xe<this.columns;Xe++)this.set(qe,Xe,this.get(qe,Xe)|ze);return this},Ve.prototype.orM=function(ze){if(ze=je.checkMatrix(ze),this.rows!==ze.rows||this.columns!==ze.columns)throw new RangeError("Matrices dimensions must be equal");for(let qe=0;qe<this.rows;qe++)for(let Xe=0;Xe<this.columns;Xe++)this.set(qe,Xe,this.get(qe,Xe)|ze.get(qe,Xe));return this},Ve.or=function(ze,qe){return new je(ze).or(qe)},Ve.prototype.xor=function(ze){return typeof ze=="number"?this.xorS(ze):this.xorM(ze)},Ve.prototype.xorS=function(ze){for(let qe=0;qe<this.rows;qe++)for(let Xe=0;Xe<this.columns;Xe++)this.set(qe,Xe,this.get(qe,Xe)^ze);return this},Ve.prototype.xorM=function(ze){if(ze=je.checkMatrix(ze),this.rows!==ze.rows||this.columns!==ze.columns)throw new RangeError("Matrices dimensions must be equal");for(let qe=0;qe<this.rows;qe++)for(let Xe=0;Xe<this.columns;Xe++)this.set(qe,Xe,this.get(qe,Xe)^ze.get(qe,Xe));return this},Ve.xor=function(ze,qe){return new je(ze).xor(qe)},Ve.prototype.leftShift=function(ze){return typeof ze=="number"?this.leftShiftS(ze):this.leftShiftM(ze)},Ve.prototype.leftShiftS=function(ze){for(let qe=0;qe<this.rows;qe++)for(let Xe=0;Xe<this.columns;Xe++)this.set(qe,Xe,this.get(qe,Xe)<<ze);return this},Ve.prototype.leftShiftM=function(ze){if(ze=je.checkMatrix(ze),this.rows!==ze.rows||this.columns!==ze.columns)throw new RangeError("Matrices dimensions must be equal");for(let qe=0;qe<this.rows;qe++)for(let Xe=0;Xe<this.columns;Xe++)this.set(qe,Xe,this.get(qe,Xe)<<ze.get(qe,Xe));return this},Ve.leftShift=function(ze,qe){return new je(ze).leftShift(qe)},Ve.prototype.signPropagatingRightShift=function(ze){return typeof ze=="number"?this.signPropagatingRightShiftS(ze):this.signPropagatingRightShiftM(ze)},Ve.prototype.signPropagatingRightShiftS=function(ze){for(let qe=0;qe<this.rows;qe++)for(let Xe=0;Xe<this.columns;Xe++)this.set(qe,Xe,this.get(qe,Xe)>>ze);return this},Ve.prototype.signPropagatingRightShiftM=function(ze){if(ze=je.checkMatrix(ze),this.rows!==ze.rows||this.columns!==ze.columns)throw new RangeError("Matrices dimensions must be equal");for(let qe=0;qe<this.rows;qe++)for(let Xe=0;Xe<this.columns;Xe++)this.set(qe,Xe,this.get(qe,Xe)>>ze.get(qe,Xe));return this},Ve.signPropagatingRightShift=function(ze,qe){return new je(ze).signPropagatingRightShift(qe)},Ve.prototype.rightShift=function(ze){return typeof ze=="number"?this.rightShiftS(ze):this.rightShiftM(ze)},Ve.prototype.rightShiftS=function(ze){for(let qe=0;qe<this.rows;qe++)for(let Xe=0;Xe<this.columns;Xe++)this.set(qe,Xe,this.get(qe,Xe)>>>ze);return this},Ve.prototype.rightShiftM=function(ze){if(ze=je.checkMatrix(ze),this.rows!==ze.rows||this.columns!==ze.columns)throw new RangeError("Matrices dimensions must be equal");for(let qe=0;qe<this.rows;qe++)for(let Xe=0;Xe<this.columns;Xe++)this.set(qe,Xe,this.get(qe,Xe)>>>ze.get(qe,Xe));return this},Ve.rightShift=function(ze,qe){return new je(ze).rightShift(qe)},Ve.prototype.zeroFillRightShift=Ve.prototype.rightShift,Ve.prototype.zeroFillRightShiftS=Ve.prototype.rightShiftS,Ve.prototype.zeroFillRightShiftM=Ve.prototype.rightShiftM,Ve.zeroFillRightShift=Ve.rightShift,Ve.prototype.not=function(){for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,~this.get(ze,qe));return this},Ve.not=function(ze){return new je(ze).not()},Ve.prototype.abs=function(){for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,Math.abs(this.get(ze,qe)));return this},Ve.abs=function(ze){return new je(ze).abs()},Ve.prototype.acos=function(){for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,Math.acos(this.get(ze,qe)));return this},Ve.acos=function(ze){return new je(ze).acos()},Ve.prototype.acosh=function(){for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,Math.acosh(this.get(ze,qe)));return this},Ve.acosh=function(ze){return new je(ze).acosh()},Ve.prototype.asin=function(){for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,Math.asin(this.get(ze,qe)));return this},Ve.asin=function(ze){return new je(ze).asin()},Ve.prototype.asinh=function(){for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,Math.asinh(this.get(ze,qe)));return this},Ve.asinh=function(ze){return new je(ze).asinh()},Ve.prototype.atan=function(){for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,Math.atan(this.get(ze,qe)));return this},Ve.atan=function(ze){return new je(ze).atan()},Ve.prototype.atanh=function(){for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,Math.atanh(this.get(ze,qe)));return this},Ve.atanh=function(ze){return new je(ze).atanh()},Ve.prototype.cbrt=function(){for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,Math.cbrt(this.get(ze,qe)));return this},Ve.cbrt=function(ze){return new je(ze).cbrt()},Ve.prototype.ceil=function(){for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,Math.ceil(this.get(ze,qe)));return this},Ve.ceil=function(ze){return new je(ze).ceil()},Ve.prototype.clz32=function(){for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,Math.clz32(this.get(ze,qe)));return this},Ve.clz32=function(ze){return new je(ze).clz32()},Ve.prototype.cos=function(){for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,Math.cos(this.get(ze,qe)));return this},Ve.cos=function(ze){return new je(ze).cos()},Ve.prototype.cosh=function(){for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,Math.cosh(this.get(ze,qe)));return this},Ve.cosh=function(ze){return new je(ze).cosh()},Ve.prototype.exp=function(){for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,Math.exp(this.get(ze,qe)));return this},Ve.exp=function(ze){return new je(ze).exp()},Ve.prototype.expm1=function(){for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,Math.expm1(this.get(ze,qe)));return this},Ve.expm1=function(ze){return new je(ze).expm1()},Ve.prototype.floor=function(){for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,Math.floor(this.get(ze,qe)));return this},Ve.floor=function(ze){return new je(ze).floor()},Ve.prototype.fround=function(){for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,Math.fround(this.get(ze,qe)));return this},Ve.fround=function(ze){return new je(ze).fround()},Ve.prototype.log=function(){for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,Math.log(this.get(ze,qe)));return this},Ve.log=function(ze){return new je(ze).log()},Ve.prototype.log1p=function(){for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,Math.log1p(this.get(ze,qe)));return this},Ve.log1p=function(ze){return new je(ze).log1p()},Ve.prototype.log10=function(){for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,Math.log10(this.get(ze,qe)));return this},Ve.log10=function(ze){return new je(ze).log10()},Ve.prototype.log2=function(){for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,Math.log2(this.get(ze,qe)));return this},Ve.log2=function(ze){return new je(ze).log2()},Ve.prototype.round=function(){for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,Math.round(this.get(ze,qe)));return this},Ve.round=function(ze){return new je(ze).round()},Ve.prototype.sign=function(){for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,Math.sign(this.get(ze,qe)));return this},Ve.sign=function(ze){return new je(ze).sign()},Ve.prototype.sin=function(){for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,Math.sin(this.get(ze,qe)));return this},Ve.sin=function(ze){return new je(ze).sin()},Ve.prototype.sinh=function(){for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,Math.sinh(this.get(ze,qe)));return this},Ve.sinh=function(ze){return new je(ze).sinh()},Ve.prototype.sqrt=function(){for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,Math.sqrt(this.get(ze,qe)));return this},Ve.sqrt=function(ze){return new je(ze).sqrt()},Ve.prototype.tan=function(){for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,Math.tan(this.get(ze,qe)));return this},Ve.tan=function(ze){return new je(ze).tan()},Ve.prototype.tanh=function(){for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,Math.tanh(this.get(ze,qe)));return this},Ve.tanh=function(ze){return new je(ze).tanh()},Ve.prototype.trunc=function(){for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,Math.trunc(this.get(ze,qe)));return this},Ve.trunc=function(ze){return new je(ze).trunc()},Ve.pow=function(ze,qe){return new je(ze).pow(qe)},Ve.prototype.pow=function(ze){return typeof ze=="number"?this.powS(ze):this.powM(ze)},Ve.prototype.powS=function(ze){for(let qe=0;qe<this.rows;qe++)for(let Xe=0;Xe<this.columns;Xe++)this.set(qe,Xe,Math.pow(this.get(qe,Xe),ze));return this},Ve.prototype.powM=function(ze){if(ze=je.checkMatrix(ze),this.rows!==ze.rows||this.columns!==ze.columns)throw new RangeError("Matrices dimensions must be equal");for(let qe=0;qe<this.rows;qe++)for(let Xe=0;Xe<this.columns;Xe++)this.set(qe,Xe,Math.pow(this.get(qe,Xe),ze.get(qe,Xe)));return this}}function checkRowIndex(Ve,je,ze){let qe=ze?Ve.rows:Ve.rows-1;if(je<0||je>qe)throw new RangeError("Row index out of range")}function checkColumnIndex(Ve,je,ze){let qe=ze?Ve.columns:Ve.columns-1;if(je<0||je>qe)throw new RangeError("Column index out of range")}function checkRowVector(Ve,je){if(je.to1DArray&&(je=je.to1DArray()),je.length!==Ve.columns)throw new RangeError("vector size must be the same as the number of columns");return je}function checkColumnVector(Ve,je){if(je.to1DArray&&(je=je.to1DArray()),je.length!==Ve.rows)throw new RangeError("vector size must be the same as the number of rows");return je}function checkRowIndices(Ve,je){if(!isAnyArray.isAnyArray(je))throw new TypeError("row indices must be an array");for(let ze=0;ze<je.length;ze++)if(je[ze]<0||je[ze]>=Ve.rows)throw new RangeError("row indices are out of range")}function checkColumnIndices(Ve,je){if(!isAnyArray.isAnyArray(je))throw new TypeError("column indices must be an array");for(let ze=0;ze<je.length;ze++)if(je[ze]<0||je[ze]>=Ve.columns)throw new RangeError("column indices are out of range")}function checkRange(Ve,je,ze,qe,Xe){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(checkNumber("startRow",je),checkNumber("endRow",ze),checkNumber("startColumn",qe),checkNumber("endColumn",Xe),je>ze||qe>Xe||je<0||je>=Ve.rows||ze<0||ze>=Ve.rows||qe<0||qe>=Ve.columns||Xe<0||Xe>=Ve.columns)throw new RangeError("Submatrix indices are out of range")}function newArray$2(Ve,je=0){let ze=[];for(let qe=0;qe<Ve;qe++)ze.push(je);return ze}function checkNumber(Ve,je){if(typeof je!="number")throw new TypeError(`${Ve} must be a number`)}function checkNonEmpty(Ve){if(Ve.isEmpty())throw new Error("Empty matrix has no elements to index")}function sumByRow(Ve){let je=newArray$2(Ve.rows);for(let ze=0;ze<Ve.rows;++ze)for(let qe=0;qe<Ve.columns;++qe)je[ze]+=Ve.get(ze,qe);return je}function sumByColumn(Ve){let je=newArray$2(Ve.columns);for(let ze=0;ze<Ve.rows;++ze)for(let qe=0;qe<Ve.columns;++qe)je[qe]+=Ve.get(ze,qe);return je}function sumAll(Ve){let je=0;for(let ze=0;ze<Ve.rows;ze++)for(let qe=0;qe<Ve.columns;qe++)je+=Ve.get(ze,qe);return je}function productByRow(Ve){let je=newArray$2(Ve.rows,1);for(let ze=0;ze<Ve.rows;++ze)for(let qe=0;qe<Ve.columns;++qe)je[ze]*=Ve.get(ze,qe);return je}function productByColumn(Ve){let je=newArray$2(Ve.columns,1);for(let ze=0;ze<Ve.rows;++ze)for(let qe=0;qe<Ve.columns;++qe)je[qe]*=Ve.get(ze,qe);return je}function productAll(Ve){let je=1;for(let ze=0;ze<Ve.rows;ze++)for(let qe=0;qe<Ve.columns;qe++)je*=Ve.get(ze,qe);return je}function varianceByRow(Ve,je,ze){const qe=Ve.rows,Xe=Ve.columns,Ye=[];for(let Ke=0;Ke<qe;Ke++){let Ze=0,Qe=0,Je=0;for(let St=0;St<Xe;St++)Je=Ve.get(Ke,St)-ze[Ke],Ze+=Je,Qe+=Je*Je;je?Ye.push((Qe-Ze*Ze/Xe)/(Xe-1)):Ye.push((Qe-Ze*Ze/Xe)/Xe)}return Ye}function varianceByColumn(Ve,je,ze){const qe=Ve.rows,Xe=Ve.columns,Ye=[];for(let Ke=0;Ke<Xe;Ke++){let Ze=0,Qe=0,Je=0;for(let St=0;St<qe;St++)Je=Ve.get(St,Ke)-ze[Ke],Ze+=Je,Qe+=Je*Je;je?Ye.push((Qe-Ze*Ze/qe)/(qe-1)):Ye.push((Qe-Ze*Ze/qe)/qe)}return Ye}function varianceAll(Ve,je,ze){const qe=Ve.rows,Xe=Ve.columns,Ye=qe*Xe;let Ke=0,Ze=0,Qe=0;for(let Je=0;Je<qe;Je++)for(let St=0;St<Xe;St++)Qe=Ve.get(Je,St)-ze,Ke+=Qe,Ze+=Qe*Qe;return je?(Ze-Ke*Ke/Ye)/(Ye-1):(Ze-Ke*Ke/Ye)/Ye}function centerByRow(Ve,je){for(let ze=0;ze<Ve.rows;ze++)for(let qe=0;qe<Ve.columns;qe++)Ve.set(ze,qe,Ve.get(ze,qe)-je[ze])}function centerByColumn(Ve,je){for(let ze=0;ze<Ve.rows;ze++)for(let qe=0;qe<Ve.columns;qe++)Ve.set(ze,qe,Ve.get(ze,qe)-je[qe])}function centerAll(Ve,je){for(let ze=0;ze<Ve.rows;ze++)for(let qe=0;qe<Ve.columns;qe++)Ve.set(ze,qe,Ve.get(ze,qe)-je)}function getScaleByRow(Ve){const je=[];for(let ze=0;ze<Ve.rows;ze++){let qe=0;for(let Xe=0;Xe<Ve.columns;Xe++)qe+=Math.pow(Ve.get(ze,Xe),2)/(Ve.columns-1);je.push(Math.sqrt(qe))}return je}function scaleByRow(Ve,je){for(let ze=0;ze<Ve.rows;ze++)for(let qe=0;qe<Ve.columns;qe++)Ve.set(ze,qe,Ve.get(ze,qe)/je[ze])}function getScaleByColumn(Ve){const je=[];for(let ze=0;ze<Ve.columns;ze++){let qe=0;for(let Xe=0;Xe<Ve.rows;Xe++)qe+=Math.pow(Ve.get(Xe,ze),2)/(Ve.rows-1);je.push(Math.sqrt(qe))}return je}function scaleByColumn(Ve,je){for(let ze=0;ze<Ve.rows;ze++)for(let qe=0;qe<Ve.columns;qe++)Ve.set(ze,qe,Ve.get(ze,qe)/je[qe])}function getScaleAll(Ve){const je=Ve.size-1;let ze=0;for(let qe=0;qe<Ve.columns;qe++)for(let Xe=0;Xe<Ve.rows;Xe++)ze+=Math.pow(Ve.get(Xe,qe),2)/je;return Math.sqrt(ze)}function scaleAll(Ve,je){for(let ze=0;ze<Ve.rows;ze++)for(let qe=0;qe<Ve.columns;qe++)Ve.set(ze,qe,Ve.get(ze,qe)/je)}class AbstractMatrix{static from1DArray(je,ze,qe){if(je*ze!==qe.length)throw new RangeError("data length does not match given dimensions");let Xe=new Matrix$3(je,ze);for(let Ye=0;Ye<je;Ye++)for(let Ke=0;Ke<ze;Ke++)Xe.set(Ye,Ke,qe[Ye*ze+Ke]);return Xe}static rowVector(je){let ze=new Matrix$3(1,je.length);for(let qe=0;qe<je.length;qe++)ze.set(0,qe,je[qe]);return ze}static columnVector(je){let ze=new Matrix$3(je.length,1);for(let qe=0;qe<je.length;qe++)ze.set(qe,0,je[qe]);return ze}static zeros(je,ze){return new Matrix$3(je,ze)}static ones(je,ze){return new Matrix$3(je,ze).fill(1)}static rand(je,ze,qe={}){if(typeof qe!="object")throw new TypeError("options must be an object");const{random:Xe=Math.random}=qe;let Ye=new Matrix$3(je,ze);for(let Ke=0;Ke<je;Ke++)for(let Ze=0;Ze<ze;Ze++)Ye.set(Ke,Ze,Xe());return Ye}static randInt(je,ze,qe={}){if(typeof qe!="object")throw new TypeError("options must be an object");const{min:Xe=0,max:Ye=1e3,random:Ke=Math.random}=qe;if(!Number.isInteger(Xe))throw new TypeError("min must be an integer");if(!Number.isInteger(Ye))throw new TypeError("max must be an integer");if(Xe>=Ye)throw new RangeError("min must be smaller than max");let Ze=Ye-Xe,Qe=new Matrix$3(je,ze);for(let Je=0;Je<je;Je++)for(let St=0;St<ze;St++){let ei=Xe+Math.round(Ke()*Ze);Qe.set(Je,St,ei)}return Qe}static eye(je,ze,qe){ze===void 0&&(ze=je),qe===void 0&&(qe=1);let Xe=Math.min(je,ze),Ye=this.zeros(je,ze);for(let Ke=0;Ke<Xe;Ke++)Ye.set(Ke,Ke,qe);return Ye}static diag(je,ze,qe){let Xe=je.length;ze===void 0&&(ze=Xe),qe===void 0&&(qe=ze);let Ye=Math.min(Xe,ze,qe),Ke=this.zeros(ze,qe);for(let Ze=0;Ze<Ye;Ze++)Ke.set(Ze,Ze,je[Ze]);return Ke}static min(je,ze){je=this.checkMatrix(je),ze=this.checkMatrix(ze);let qe=je.rows,Xe=je.columns,Ye=new Matrix$3(qe,Xe);for(let Ke=0;Ke<qe;Ke++)for(let Ze=0;Ze<Xe;Ze++)Ye.set(Ke,Ze,Math.min(je.get(Ke,Ze),ze.get(Ke,Ze)));return Ye}static max(je,ze){je=this.checkMatrix(je),ze=this.checkMatrix(ze);let qe=je.rows,Xe=je.columns,Ye=new this(qe,Xe);for(let Ke=0;Ke<qe;Ke++)for(let Ze=0;Ze<Xe;Ze++)Ye.set(Ke,Ze,Math.max(je.get(Ke,Ze),ze.get(Ke,Ze)));return Ye}static checkMatrix(je){return AbstractMatrix.isMatrix(je)?je:new Matrix$3(je)}static isMatrix(je){return je!=null&&je.klass==="Matrix"}get size(){return this.rows*this.columns}apply(je){if(typeof je!="function")throw new TypeError("callback must be a function");for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)je.call(this,ze,qe);return this}to1DArray(){let je=[];for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)je.push(this.get(ze,qe));return je}to2DArray(){let je=[];for(let ze=0;ze<this.rows;ze++){je.push([]);for(let qe=0;qe<this.columns;qe++)je[ze].push(this.get(ze,qe))}return je}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let je=0;je<this.rows;je++)for(let ze=0;ze<=je;ze++)if(this.get(je,ze)!==this.get(ze,je))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let je=0;je<this.rows;je++)if(this.get(je,je)!==0)return!1;return!0}isEchelonForm(){let je=0,ze=0,qe=-1,Xe=!0,Ye=!1;for(;je<this.rows&&Xe;){for(ze=0,Ye=!1;ze<this.columns&&Ye===!1;)this.get(je,ze)===0?ze++:this.get(je,ze)===1&&ze>qe?(Ye=!0,qe=ze):(Xe=!1,Ye=!0);je++}return Xe}isReducedEchelonForm(){let je=0,ze=0,qe=-1,Xe=!0,Ye=!1;for(;je<this.rows&&Xe;){for(ze=0,Ye=!1;ze<this.columns&&Ye===!1;)this.get(je,ze)===0?ze++:this.get(je,ze)===1&&ze>qe?(Ye=!0,qe=ze):(Xe=!1,Ye=!0);for(let Ke=ze+1;Ke<this.rows;Ke++)this.get(je,Ke)!==0&&(Xe=!1);je++}return Xe}echelonForm(){let je=this.clone(),ze=0,qe=0;for(;ze<je.rows&&qe<je.columns;){let Xe=ze;for(let Ye=ze;Ye<je.rows;Ye++)je.get(Ye,qe)>je.get(Xe,qe)&&(Xe=Ye);if(je.get(Xe,qe)===0)qe++;else{je.swapRows(ze,Xe);let Ye=je.get(ze,qe);for(let Ke=qe;Ke<je.columns;Ke++)je.set(ze,Ke,je.get(ze,Ke)/Ye);for(let Ke=ze+1;Ke<je.rows;Ke++){let Ze=je.get(Ke,qe)/je.get(ze,qe);je.set(Ke,qe,0);for(let Qe=qe+1;Qe<je.columns;Qe++)je.set(Ke,Qe,je.get(Ke,Qe)-je.get(ze,Qe)*Ze)}ze++,qe++}}return je}reducedEchelonForm(){let je=this.echelonForm(),ze=je.columns,qe=je.rows,Xe=qe-1;for(;Xe>=0;)if(je.maxRow(Xe)===0)Xe--;else{let Ye=0,Ke=!1;for(;Ye<qe&&Ke===!1;)je.get(Xe,Ye)===1?Ke=!0:Ye++;for(let Ze=0;Ze<Xe;Ze++){let Qe=je.get(Ze,Ye);for(let Je=Ye;Je<ze;Je++){let St=je.get(Ze,Je)-Qe*je.get(Xe,Je);je.set(Ze,Je,St)}}Xe--}return je}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(je={}){if(typeof je!="object")throw new TypeError("options must be an object");const{rows:ze=1,columns:qe=1}=je;if(!Number.isInteger(ze)||ze<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(qe)||qe<=0)throw new TypeError("columns must be a positive integer");let Xe=new Matrix$3(this.rows*ze,this.columns*qe);for(let Ye=0;Ye<ze;Ye++)for(let Ke=0;Ke<qe;Ke++)Xe.setSubMatrix(this,this.rows*Ye,this.columns*Ke);return Xe}fill(je){for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,je);return this}neg(){return this.mulS(-1)}getRow(je){checkRowIndex(this,je);let ze=[];for(let qe=0;qe<this.columns;qe++)ze.push(this.get(je,qe));return ze}getRowVector(je){return Matrix$3.rowVector(this.getRow(je))}setRow(je,ze){checkRowIndex(this,je),ze=checkRowVector(this,ze);for(let qe=0;qe<this.columns;qe++)this.set(je,qe,ze[qe]);return this}swapRows(je,ze){checkRowIndex(this,je),checkRowIndex(this,ze);for(let qe=0;qe<this.columns;qe++){let Xe=this.get(je,qe);this.set(je,qe,this.get(ze,qe)),this.set(ze,qe,Xe)}return this}getColumn(je){checkColumnIndex(this,je);let ze=[];for(let qe=0;qe<this.rows;qe++)ze.push(this.get(qe,je));return ze}getColumnVector(je){return Matrix$3.columnVector(this.getColumn(je))}setColumn(je,ze){checkColumnIndex(this,je),ze=checkColumnVector(this,ze);for(let qe=0;qe<this.rows;qe++)this.set(qe,je,ze[qe]);return this}swapColumns(je,ze){checkColumnIndex(this,je),checkColumnIndex(this,ze);for(let qe=0;qe<this.rows;qe++){let Xe=this.get(qe,je);this.set(qe,je,this.get(qe,ze)),this.set(qe,ze,Xe)}return this}addRowVector(je){je=checkRowVector(this,je);for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,this.get(ze,qe)+je[qe]);return this}subRowVector(je){je=checkRowVector(this,je);for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,this.get(ze,qe)-je[qe]);return this}mulRowVector(je){je=checkRowVector(this,je);for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,this.get(ze,qe)*je[qe]);return this}divRowVector(je){je=checkRowVector(this,je);for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,this.get(ze,qe)/je[qe]);return this}addColumnVector(je){je=checkColumnVector(this,je);for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,this.get(ze,qe)+je[ze]);return this}subColumnVector(je){je=checkColumnVector(this,je);for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,this.get(ze,qe)-je[ze]);return this}mulColumnVector(je){je=checkColumnVector(this,je);for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,this.get(ze,qe)*je[ze]);return this}divColumnVector(je){je=checkColumnVector(this,je);for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,this.get(ze,qe)/je[ze]);return this}mulRow(je,ze){checkRowIndex(this,je);for(let qe=0;qe<this.columns;qe++)this.set(je,qe,this.get(je,qe)*ze);return this}mulColumn(je,ze){checkColumnIndex(this,je);for(let qe=0;qe<this.rows;qe++)this.set(qe,je,this.get(qe,je)*ze);return this}max(je){if(this.isEmpty())return NaN;switch(je){case"row":{const ze=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let qe=0;qe<this.rows;qe++)for(let Xe=0;Xe<this.columns;Xe++)this.get(qe,Xe)>ze[qe]&&(ze[qe]=this.get(qe,Xe));return ze}case"column":{const ze=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let qe=0;qe<this.rows;qe++)for(let Xe=0;Xe<this.columns;Xe++)this.get(qe,Xe)>ze[Xe]&&(ze[Xe]=this.get(qe,Xe));return ze}case void 0:{let ze=this.get(0,0);for(let qe=0;qe<this.rows;qe++)for(let Xe=0;Xe<this.columns;Xe++)this.get(qe,Xe)>ze&&(ze=this.get(qe,Xe));return ze}default:throw new Error(`invalid option: ${je}`)}}maxIndex(){checkNonEmpty(this);let je=this.get(0,0),ze=[0,0];for(let qe=0;qe<this.rows;qe++)for(let Xe=0;Xe<this.columns;Xe++)this.get(qe,Xe)>je&&(je=this.get(qe,Xe),ze[0]=qe,ze[1]=Xe);return ze}min(je){if(this.isEmpty())return NaN;switch(je){case"row":{const ze=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let qe=0;qe<this.rows;qe++)for(let Xe=0;Xe<this.columns;Xe++)this.get(qe,Xe)<ze[qe]&&(ze[qe]=this.get(qe,Xe));return ze}case"column":{const ze=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let qe=0;qe<this.rows;qe++)for(let Xe=0;Xe<this.columns;Xe++)this.get(qe,Xe)<ze[Xe]&&(ze[Xe]=this.get(qe,Xe));return ze}case void 0:{let ze=this.get(0,0);for(let qe=0;qe<this.rows;qe++)for(let Xe=0;Xe<this.columns;Xe++)this.get(qe,Xe)<ze&&(ze=this.get(qe,Xe));return ze}default:throw new Error(`invalid option: ${je}`)}}minIndex(){checkNonEmpty(this);let je=this.get(0,0),ze=[0,0];for(let qe=0;qe<this.rows;qe++)for(let Xe=0;Xe<this.columns;Xe++)this.get(qe,Xe)<je&&(je=this.get(qe,Xe),ze[0]=qe,ze[1]=Xe);return ze}maxRow(je){if(checkRowIndex(this,je),this.isEmpty())return NaN;let ze=this.get(je,0);for(let qe=1;qe<this.columns;qe++)this.get(je,qe)>ze&&(ze=this.get(je,qe));return ze}maxRowIndex(je){checkRowIndex(this,je),checkNonEmpty(this);let ze=this.get(je,0),qe=[je,0];for(let Xe=1;Xe<this.columns;Xe++)this.get(je,Xe)>ze&&(ze=this.get(je,Xe),qe[1]=Xe);return qe}minRow(je){if(checkRowIndex(this,je),this.isEmpty())return NaN;let ze=this.get(je,0);for(let qe=1;qe<this.columns;qe++)this.get(je,qe)<ze&&(ze=this.get(je,qe));return ze}minRowIndex(je){checkRowIndex(this,je),checkNonEmpty(this);let ze=this.get(je,0),qe=[je,0];for(let Xe=1;Xe<this.columns;Xe++)this.get(je,Xe)<ze&&(ze=this.get(je,Xe),qe[1]=Xe);return qe}maxColumn(je){if(checkColumnIndex(this,je),this.isEmpty())return NaN;let ze=this.get(0,je);for(let qe=1;qe<this.rows;qe++)this.get(qe,je)>ze&&(ze=this.get(qe,je));return ze}maxColumnIndex(je){checkColumnIndex(this,je),checkNonEmpty(this);let ze=this.get(0,je),qe=[0,je];for(let Xe=1;Xe<this.rows;Xe++)this.get(Xe,je)>ze&&(ze=this.get(Xe,je),qe[0]=Xe);return qe}minColumn(je){if(checkColumnIndex(this,je),this.isEmpty())return NaN;let ze=this.get(0,je);for(let qe=1;qe<this.rows;qe++)this.get(qe,je)<ze&&(ze=this.get(qe,je));return ze}minColumnIndex(je){checkColumnIndex(this,je),checkNonEmpty(this);let ze=this.get(0,je),qe=[0,je];for(let Xe=1;Xe<this.rows;Xe++)this.get(Xe,je)<ze&&(ze=this.get(Xe,je),qe[0]=Xe);return qe}diag(){let je=Math.min(this.rows,this.columns),ze=[];for(let qe=0;qe<je;qe++)ze.push(this.get(qe,qe));return ze}norm(je="frobenius"){switch(je){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError(`unknown norm type: ${je}`)}}cumulativeSum(){let je=0;for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)je+=this.get(ze,qe),this.set(ze,qe,je);return this}dot(je){AbstractMatrix.isMatrix(je)&&(je=je.to1DArray());let ze=this.to1DArray();if(ze.length!==je.length)throw new RangeError("vectors do not have the same size");let qe=0;for(let Xe=0;Xe<ze.length;Xe++)qe+=ze[Xe]*je[Xe];return qe}mmul(je){je=Matrix$3.checkMatrix(je);let ze=this.rows,qe=this.columns,Xe=je.columns,Ye=new Matrix$3(ze,Xe),Ke=new Float64Array(qe);for(let Ze=0;Ze<Xe;Ze++){for(let Qe=0;Qe<qe;Qe++)Ke[Qe]=je.get(Qe,Ze);for(let Qe=0;Qe<ze;Qe++){let Je=0;for(let St=0;St<qe;St++)Je+=this.get(Qe,St)*Ke[St];Ye.set(Qe,Ze,Je)}}return Ye}strassen2x2(je){je=Matrix$3.checkMatrix(je);let ze=new Matrix$3(2,2);const qe=this.get(0,0),Xe=je.get(0,0),Ye=this.get(0,1),Ke=je.get(0,1),Ze=this.get(1,0),Qe=je.get(1,0),Je=this.get(1,1),St=je.get(1,1),ei=(qe+Je)*(Xe+St),ti=(Ze+Je)*Xe,ii=qe*(Ke-St),ri=Je*(Qe-Xe),si=(qe+Ye)*St,ui=(Ze-qe)*(Xe+Ke),ai=(Ye-Je)*(Qe+St),oi=ei+ri-si+ai,ni=ii+si,ci=ti+ri,hi=ei-ti+ii+ui;return ze.set(0,0,oi),ze.set(0,1,ni),ze.set(1,0,ci),ze.set(1,1,hi),ze}strassen3x3(je){je=Matrix$3.checkMatrix(je);let ze=new Matrix$3(3,3);const qe=this.get(0,0),Xe=this.get(0,1),Ye=this.get(0,2),Ke=this.get(1,0),Ze=this.get(1,1),Qe=this.get(1,2),Je=this.get(2,0),St=this.get(2,1),ei=this.get(2,2),ti=je.get(0,0),ii=je.get(0,1),ri=je.get(0,2),si=je.get(1,0),ui=je.get(1,1),ai=je.get(1,2),oi=je.get(2,0),ni=je.get(2,1),ci=je.get(2,2),hi=(qe+Xe+Ye-Ke-Ze-St-ei)*ui,di=(qe-Ke)*(-ii+ui),fi=Ze*(-ti+ii+si-ui-ai-oi+ci),mi=(-qe+Ke+Ze)*(ti-ii+ui),pi=(Ke+Ze)*(-ti+ii),wi=qe*ti,gi=(-qe+Je+St)*(ti-ri+ai),yi=(-qe+Je)*(ri-ai),Ai=(Je+St)*(-ti+ri),Si=(qe+Xe+Ye-Ze-Qe-Je-St)*ai,ki=St*(-ti+ri+si-ui-ai-oi+ni),Li=(-Ye+St+ei)*(ui+oi-ni),Bi=(Ye-ei)*(ui-ni),Pi=Ye*oi,Ri=(St+ei)*(-oi+ni),Fi=(-Ye+Ze+Qe)*(ai+oi-ci),Gi=(Ye-Qe)*(ai-ci),Ti=(Ze+Qe)*(-oi+ci),Vi=Xe*si,Ui=Qe*ni,$i=Ke*ri,Wi=Je*ii,tn=ei*ci,nn=wi+Pi+Vi,Qi=hi+mi+pi+wi+Li+Pi+Ri,Ei=wi+gi+Ai+Si+Pi+Fi+Ti,bi=di+fi+mi+wi+Pi+Fi+Gi,Ci=di+mi+pi+wi+Ui,_i=Pi+Fi+Gi+Ti+$i,Ii=wi+gi+yi+ki+Li+Bi+Pi,Ni=Li+Bi+Pi+Ri+Wi,Di=wi+gi+yi+Ai+tn;return ze.set(0,0,nn),ze.set(0,1,Qi),ze.set(0,2,Ei),ze.set(1,0,bi),ze.set(1,1,Ci),ze.set(1,2,_i),ze.set(2,0,Ii),ze.set(2,1,Ni),ze.set(2,2,Di),ze}mmulStrassen(je){je=Matrix$3.checkMatrix(je);let ze=this.clone(),qe=ze.rows,Xe=ze.columns,Ye=je.rows,Ke=je.columns;Xe!==Ye&&console.warn(`Multiplying ${qe} x ${Xe} and ${Ye} x ${Ke} matrix: dimensions do not match.`);function Ze(ei,ti,ii){let ri=ei.rows,si=ei.columns;if(ri===ti&&si===ii)return ei;{let ui=AbstractMatrix.zeros(ti,ii);return ui=ui.setSubMatrix(ei,0,0),ui}}let Qe=Math.max(qe,Ye),Je=Math.max(Xe,Ke);ze=Ze(ze,Qe,Je),je=Ze(je,Qe,Je);function St(ei,ti,ii,ri){if(ii<=512||ri<=512)return ei.mmul(ti);ii%2===1&&ri%2===1?(ei=Ze(ei,ii+1,ri+1),ti=Ze(ti,ii+1,ri+1)):ii%2===1?(ei=Ze(ei,ii+1,ri),ti=Ze(ti,ii+1,ri)):ri%2===1&&(ei=Ze(ei,ii,ri+1),ti=Ze(ti,ii,ri+1));let si=parseInt(ei.rows/2,10),ui=parseInt(ei.columns/2,10),ai=ei.subMatrix(0,si-1,0,ui-1),oi=ti.subMatrix(0,si-1,0,ui-1),ni=ei.subMatrix(0,si-1,ui,ei.columns-1),ci=ti.subMatrix(0,si-1,ui,ti.columns-1),hi=ei.subMatrix(si,ei.rows-1,0,ui-1),di=ti.subMatrix(si,ti.rows-1,0,ui-1),fi=ei.subMatrix(si,ei.rows-1,ui,ei.columns-1),mi=ti.subMatrix(si,ti.rows-1,ui,ti.columns-1),pi=St(AbstractMatrix.add(ai,fi),AbstractMatrix.add(oi,mi),si,ui),wi=St(AbstractMatrix.add(hi,fi),oi,si,ui),gi=St(ai,AbstractMatrix.sub(ci,mi),si,ui),yi=St(fi,AbstractMatrix.sub(di,oi),si,ui),Ai=St(AbstractMatrix.add(ai,ni),mi,si,ui),Si=St(AbstractMatrix.sub(hi,ai),AbstractMatrix.add(oi,ci),si,ui),ki=St(AbstractMatrix.sub(ni,fi),AbstractMatrix.add(di,mi),si,ui),Li=AbstractMatrix.add(pi,yi);Li.sub(Ai),Li.add(ki);let Bi=AbstractMatrix.add(gi,Ai),Pi=AbstractMatrix.add(wi,yi),Ri=AbstractMatrix.sub(pi,wi);Ri.add(gi),Ri.add(Si);let Fi=AbstractMatrix.zeros(2*Li.rows,2*Li.columns);return Fi=Fi.setSubMatrix(Li,0,0),Fi=Fi.setSubMatrix(Bi,Li.rows,0),Fi=Fi.setSubMatrix(Pi,0,Li.columns),Fi=Fi.setSubMatrix(Ri,Li.rows,Li.columns),Fi.subMatrix(0,ii-1,0,ri-1)}return St(ze,je,Qe,Je)}scaleRows(je={}){if(typeof je!="object")throw new TypeError("options must be an object");const{min:ze=0,max:qe=1}=je;if(!Number.isFinite(ze))throw new TypeError("min must be a number");if(!Number.isFinite(qe))throw new TypeError("max must be a number");if(ze>=qe)throw new RangeError("min must be smaller than max");let Xe=new Matrix$3(this.rows,this.columns);for(let Ye=0;Ye<this.rows;Ye++){const Ke=this.getRow(Ye);Ke.length>0&&rescale(Ke,{min:ze,max:qe,output:Ke}),Xe.setRow(Ye,Ke)}return Xe}scaleColumns(je={}){if(typeof je!="object")throw new TypeError("options must be an object");const{min:ze=0,max:qe=1}=je;if(!Number.isFinite(ze))throw new TypeError("min must be a number");if(!Number.isFinite(qe))throw new TypeError("max must be a number");if(ze>=qe)throw new RangeError("min must be smaller than max");let Xe=new Matrix$3(this.rows,this.columns);for(let Ye=0;Ye<this.columns;Ye++){const Ke=this.getColumn(Ye);Ke.length&&rescale(Ke,{min:ze,max:qe,output:Ke}),Xe.setColumn(Ye,Ke)}return Xe}flipRows(){const je=Math.ceil(this.columns/2);for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<je;qe++){let Xe=this.get(ze,qe),Ye=this.get(ze,this.columns-1-qe);this.set(ze,qe,Ye),this.set(ze,this.columns-1-qe,Xe)}return this}flipColumns(){const je=Math.ceil(this.rows/2);for(let ze=0;ze<this.columns;ze++)for(let qe=0;qe<je;qe++){let Xe=this.get(qe,ze),Ye=this.get(this.rows-1-qe,ze);this.set(qe,ze,Ye),this.set(this.rows-1-qe,ze,Xe)}return this}kroneckerProduct(je){je=Matrix$3.checkMatrix(je);let ze=this.rows,qe=this.columns,Xe=je.rows,Ye=je.columns,Ke=new Matrix$3(ze*Xe,qe*Ye);for(let Ze=0;Ze<ze;Ze++)for(let Qe=0;Qe<qe;Qe++)for(let Je=0;Je<Xe;Je++)for(let St=0;St<Ye;St++)Ke.set(Xe*Ze+Je,Ye*Qe+St,this.get(Ze,Qe)*je.get(Je,St));return Ke}kroneckerSum(je){if(je=Matrix$3.checkMatrix(je),!this.isSquare()||!je.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let ze=this.rows,qe=je.rows,Xe=this.kroneckerProduct(Matrix$3.eye(qe,qe)),Ye=Matrix$3.eye(ze,ze).kroneckerProduct(je);return Xe.add(Ye)}transpose(){let je=new Matrix$3(this.columns,this.rows);for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)je.set(qe,ze,this.get(ze,qe));return je}sortRows(je=compareNumbers){for(let ze=0;ze<this.rows;ze++)this.setRow(ze,this.getRow(ze).sort(je));return this}sortColumns(je=compareNumbers){for(let ze=0;ze<this.columns;ze++)this.setColumn(ze,this.getColumn(ze).sort(je));return this}subMatrix(je,ze,qe,Xe){checkRange(this,je,ze,qe,Xe);let Ye=new Matrix$3(ze-je+1,Xe-qe+1);for(let Ke=je;Ke<=ze;Ke++)for(let Ze=qe;Ze<=Xe;Ze++)Ye.set(Ke-je,Ze-qe,this.get(Ke,Ze));return Ye}subMatrixRow(je,ze,qe){if(ze===void 0&&(ze=0),qe===void 0&&(qe=this.columns-1),ze>qe||ze<0||ze>=this.columns||qe<0||qe>=this.columns)throw new RangeError("Argument out of range");let Xe=new Matrix$3(je.length,qe-ze+1);for(let Ye=0;Ye<je.length;Ye++)for(let Ke=ze;Ke<=qe;Ke++){if(je[Ye]<0||je[Ye]>=this.rows)throw new RangeError(`Row index out of range: ${je[Ye]}`);Xe.set(Ye,Ke-ze,this.get(je[Ye],Ke))}return Xe}subMatrixColumn(je,ze,qe){if(ze===void 0&&(ze=0),qe===void 0&&(qe=this.rows-1),ze>qe||ze<0||ze>=this.rows||qe<0||qe>=this.rows)throw new RangeError("Argument out of range");let Xe=new Matrix$3(qe-ze+1,je.length);for(let Ye=0;Ye<je.length;Ye++)for(let Ke=ze;Ke<=qe;Ke++){if(je[Ye]<0||je[Ye]>=this.columns)throw new RangeError(`Column index out of range: ${je[Ye]}`);Xe.set(Ke-ze,Ye,this.get(Ke,je[Ye]))}return Xe}setSubMatrix(je,ze,qe){if(je=Matrix$3.checkMatrix(je),je.isEmpty())return this;let Xe=ze+je.rows-1,Ye=qe+je.columns-1;checkRange(this,ze,Xe,qe,Ye);for(let Ke=0;Ke<je.rows;Ke++)for(let Ze=0;Ze<je.columns;Ze++)this.set(ze+Ke,qe+Ze,je.get(Ke,Ze));return this}selection(je,ze){checkRowIndices(this,je),checkColumnIndices(this,ze);let qe=new Matrix$3(je.length,ze.length);for(let Xe=0;Xe<je.length;Xe++){let Ye=je[Xe];for(let Ke=0;Ke<ze.length;Ke++){let Ze=ze[Ke];qe.set(Xe,Ke,this.get(Ye,Ze))}}return qe}trace(){let je=Math.min(this.rows,this.columns),ze=0;for(let qe=0;qe<je;qe++)ze+=this.get(qe,qe);return ze}clone(){return this.constructor.copy(this,new Matrix$3(this.rows,this.columns))}static copy(je,ze){for(const[qe,Xe,Ye]of je.entries())ze.set(qe,Xe,Ye);return ze}sum(je){switch(je){case"row":return sumByRow(this);case"column":return sumByColumn(this);case void 0:return sumAll(this);default:throw new Error(`invalid option: ${je}`)}}product(je){switch(je){case"row":return productByRow(this);case"column":return productByColumn(this);case void 0:return productAll(this);default:throw new Error(`invalid option: ${je}`)}}mean(je){const ze=this.sum(je);switch(je){case"row":{for(let qe=0;qe<this.rows;qe++)ze[qe]/=this.columns;return ze}case"column":{for(let qe=0;qe<this.columns;qe++)ze[qe]/=this.rows;return ze}case void 0:return ze/this.size;default:throw new Error(`invalid option: ${je}`)}}variance(je,ze={}){if(typeof je=="object"&&(ze=je,je=void 0),typeof ze!="object")throw new TypeError("options must be an object");const{unbiased:qe=!0,mean:Xe=this.mean(je)}=ze;if(typeof qe!="boolean")throw new TypeError("unbiased must be a boolean");switch(je){case"row":{if(!isAnyArray.isAnyArray(Xe))throw new TypeError("mean must be an array");return varianceByRow(this,qe,Xe)}case"column":{if(!isAnyArray.isAnyArray(Xe))throw new TypeError("mean must be an array");return varianceByColumn(this,qe,Xe)}case void 0:{if(typeof Xe!="number")throw new TypeError("mean must be a number");return varianceAll(this,qe,Xe)}default:throw new Error(`invalid option: ${je}`)}}standardDeviation(je,ze){typeof je=="object"&&(ze=je,je=void 0);const qe=this.variance(je,ze);if(je===void 0)return Math.sqrt(qe);for(let Xe=0;Xe<qe.length;Xe++)qe[Xe]=Math.sqrt(qe[Xe]);return qe}center(je,ze={}){if(typeof je=="object"&&(ze=je,je=void 0),typeof ze!="object")throw new TypeError("options must be an object");const{center:qe=this.mean(je)}=ze;switch(je){case"row":{if(!isAnyArray.isAnyArray(qe))throw new TypeError("center must be an array");return centerByRow(this,qe),this}case"column":{if(!isAnyArray.isAnyArray(qe))throw new TypeError("center must be an array");return centerByColumn(this,qe),this}case void 0:{if(typeof qe!="number")throw new TypeError("center must be a number");return centerAll(this,qe),this}default:throw new Error(`invalid option: ${je}`)}}scale(je,ze={}){if(typeof je=="object"&&(ze=je,je=void 0),typeof ze!="object")throw new TypeError("options must be an object");let qe=ze.scale;switch(je){case"row":{if(qe===void 0)qe=getScaleByRow(this);else if(!isAnyArray.isAnyArray(qe))throw new TypeError("scale must be an array");return scaleByRow(this,qe),this}case"column":{if(qe===void 0)qe=getScaleByColumn(this);else if(!isAnyArray.isAnyArray(qe))throw new TypeError("scale must be an array");return scaleByColumn(this,qe),this}case void 0:{if(qe===void 0)qe=getScaleAll(this);else if(typeof qe!="number")throw new TypeError("scale must be a number");return scaleAll(this,qe),this}default:throw new Error(`invalid option: ${je}`)}}toString(je){return inspectMatrixWithOptions(this,je)}[Symbol.iterator](){return this.entries()}*entries(){for(let je=0;je<this.rows;je++)for(let ze=0;ze<this.columns;ze++)yield[je,ze,this.get(je,ze)]}*values(){for(let je=0;je<this.rows;je++)for(let ze=0;ze<this.columns;ze++)yield this.get(je,ze)}}AbstractMatrix.prototype.klass="Matrix";typeof Symbol<"u"&&(AbstractMatrix.prototype[Symbol.for("nodejs.util.inspect.custom")]=inspectMatrix);function compareNumbers(Ve,je){return Ve-je}function isArrayOfNumbers(Ve){return Ve.every(je=>typeof je=="number")}AbstractMatrix.random=AbstractMatrix.rand;AbstractMatrix.randomInt=AbstractMatrix.randInt;AbstractMatrix.diagonal=AbstractMatrix.diag;AbstractMatrix.prototype.diagonal=AbstractMatrix.prototype.diag;AbstractMatrix.identity=AbstractMatrix.eye;AbstractMatrix.prototype.negate=AbstractMatrix.prototype.neg;AbstractMatrix.prototype.tensorProduct=AbstractMatrix.prototype.kroneckerProduct;var ye$1,$e,de$1;let Matrix$3=(de$1=class extends AbstractMatrix{constructor(Ve,je){if(super(),Be$1(this,ye$1),D$1(this,"data"),de$1.isMatrix(Ve))Ue$1(this,ye$1,$e).call(this,Ve.rows,Ve.columns),de$1.copy(Ve,this);else if(Number.isInteger(Ve)&&Ve>=0)Ue$1(this,ye$1,$e).call(this,Ve,je);else if(isAnyArray.isAnyArray(Ve)){const ze=Ve;if(Ve=ze.length,je=Ve?ze[0].length:0,typeof je!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let qe=0;qe<Ve;qe++){if(ze[qe].length!==je)throw new RangeError("Inconsistent array dimensions");if(!isArrayOfNumbers(ze[qe]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(ze[qe]))}this.rows=Ve,this.columns=je}else throw new TypeError("First argument must be a positive number or an array")}set(Ve,je,ze){return this.data[Ve][je]=ze,this}get(Ve,je){return this.data[Ve][je]}removeRow(Ve){return checkRowIndex(this,Ve),this.data.splice(Ve,1),this.rows-=1,this}addRow(Ve,je){return je===void 0&&(je=Ve,Ve=this.rows),checkRowIndex(this,Ve,!0),je=Float64Array.from(checkRowVector(this,je)),this.data.splice(Ve,0,je),this.rows+=1,this}removeColumn(Ve){checkColumnIndex(this,Ve);for(let je=0;je<this.rows;je++){const ze=new Float64Array(this.columns-1);for(let qe=0;qe<Ve;qe++)ze[qe]=this.data[je][qe];for(let qe=Ve+1;qe<this.columns;qe++)ze[qe-1]=this.data[je][qe];this.data[je]=ze}return this.columns-=1,this}addColumn(Ve,je){typeof je>"u"&&(je=Ve,Ve=this.columns),checkColumnIndex(this,Ve,!0),je=checkColumnVector(this,je);for(let ze=0;ze<this.rows;ze++){const qe=new Float64Array(this.columns+1);let Xe=0;for(;Xe<Ve;Xe++)qe[Xe]=this.data[ze][Xe];for(qe[Xe++]=je[ze];Xe<this.columns+1;Xe++)qe[Xe]=this.data[ze][Xe-1];this.data[ze]=qe}return this.columns+=1,this}},ye$1=new WeakSet,$e=function(Ve,je){if(this.data=[],Number.isInteger(je)&&je>=0)for(let ze=0;ze<Ve;ze++)this.data.push(new Float64Array(je));else throw new TypeError("nColumns must be a positive integer");this.rows=Ve,this.columns=je},de$1);installMathOperations(AbstractMatrix,Matrix$3);var Ht$1;const _e=class Wl extends AbstractMatrix{constructor(je){if(super(),Be$1(this,Ht$1,void 0),Matrix$3.isMatrix(je)){if(!je.isSymmetric())throw new TypeError("not symmetric data");ve$2(this,Ht$1,Matrix$3.copy(je,new Matrix$3(je.rows,je.rows)))}else if(Number.isInteger(je)&&je>=0)ve$2(this,Ht$1,new Matrix$3(je,je));else if(ve$2(this,Ht$1,new Matrix$3(je)),!this.isSymmetric())throw new TypeError("not symmetric data")}get size(){return Wt$1(this,Ht$1).size}get rows(){return Wt$1(this,Ht$1).rows}get columns(){return Wt$1(this,Ht$1).columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(je){return Matrix$3.isMatrix(je)&&je.klassType==="SymmetricMatrix"}static zeros(je){return new this(je)}static ones(je){return new this(je).fill(1)}clone(){const je=new Wl(this.diagonalSize);for(const[ze,qe,Xe]of this.upperRightEntries())je.set(ze,qe,Xe);return je}toMatrix(){return new Matrix$3(this)}get(je,ze){return Wt$1(this,Ht$1).get(je,ze)}set(je,ze,qe){return Wt$1(this,Ht$1).set(je,ze,qe),Wt$1(this,Ht$1).set(ze,je,qe),this}removeCross(je){return Wt$1(this,Ht$1).removeRow(je),Wt$1(this,Ht$1).removeColumn(je),this}addCross(je,ze){ze===void 0&&(ze=je,je=this.diagonalSize);const qe=ze.slice();return qe.splice(je,1),Wt$1(this,Ht$1).addRow(je,qe),Wt$1(this,Ht$1).addColumn(je,ze),this}applyMask(je){if(je.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");const ze=[];for(const[qe,Xe]of je.entries())Xe||ze.push(qe);ze.reverse();for(const qe of ze)this.removeCross(qe);return this}toCompact(){const{diagonalSize:je}=this,ze=new Array(je*(je+1)/2);for(let qe=0,Xe=0,Ye=0;Ye<ze.length;Ye++)ze[Ye]=this.get(Xe,qe),++qe>=je&&(qe=++Xe);return ze}static fromCompact(je){const ze=je.length,qe=(Math.sqrt(8*ze+1)-1)/2;if(!Number.isInteger(qe))throw new TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(je)}`);const Xe=new Wl(qe);for(let Ye=0,Ke=0,Ze=0;Ze<ze;Ze++)Xe.set(Ye,Ke,je[Ze]),++Ye>=qe&&(Ye=++Ke);return Xe}*upperRightEntries(){for(let je=0,ze=0;je<this.diagonalSize;void 0){const qe=this.get(je,ze);yield[je,ze,qe],++ze>=this.diagonalSize&&(ze=++je)}}*upperRightValues(){for(let je=0,ze=0;je<this.diagonalSize;void 0)yield this.get(je,ze),++ze>=this.diagonalSize&&(ze=++je)}};Ht$1=new WeakMap;let SymmetricMatrix=_e;SymmetricMatrix.prototype.klassType="SymmetricMatrix";class DistanceMatrix extends SymmetricMatrix{static isDistanceMatrix(je){return SymmetricMatrix.isSymmetricMatrix(je)&&je.klassSubType==="DistanceMatrix"}constructor(je){if(super(je),!this.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix")}set(je,ze,qe){return je===ze&&(qe=0),super.set(je,ze,qe)}addCross(je,ze){return ze===void 0&&(ze=je,je=this.diagonalSize),ze=ze.slice(),ze[je]=0,super.addCross(je,ze)}toSymmetricMatrix(){return new SymmetricMatrix(this)}clone(){const je=new DistanceMatrix(this.diagonalSize);for(const[ze,qe,Xe]of this.upperRightEntries())ze!==qe&&je.set(ze,qe,Xe);return je}toCompact(){const{diagonalSize:je}=this,ze=(je-1)*je/2,qe=new Array(ze);for(let Xe=1,Ye=0,Ke=0;Ke<qe.length;Ke++)qe[Ke]=this.get(Ye,Xe),++Xe>=je&&(Xe=++Ye+1);return qe}static fromCompact(je){const ze=je.length,qe=(Math.sqrt(8*ze+1)+1)/2;if(!Number.isInteger(qe))throw new TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(je)}`);const Xe=new this(qe);for(let Ye=1,Ke=0,Ze=0;Ze<ze;Ze++)Xe.set(Ye,Ke,je[Ze]),++Ye>=qe&&(Ye=++Ke+1);return Xe}}DistanceMatrix.prototype.klassSubType="DistanceMatrix";class BaseView extends AbstractMatrix{constructor(je,ze,qe){super(),this.matrix=je,this.rows=ze,this.columns=qe}}class MatrixColumnView extends BaseView{constructor(je,ze){checkColumnIndex(je,ze),super(je,je.rows,1),this.column=ze}set(je,ze,qe){return this.matrix.set(je,this.column,qe),this}get(je){return this.matrix.get(je,this.column)}}class MatrixColumnSelectionView extends BaseView{constructor(je,ze){checkColumnIndices(je,ze),super(je,je.rows,ze.length),this.columnIndices=ze}set(je,ze,qe){return this.matrix.set(je,this.columnIndices[ze],qe),this}get(je,ze){return this.matrix.get(je,this.columnIndices[ze])}}class MatrixFlipColumnView extends BaseView{constructor(je){super(je,je.rows,je.columns)}set(je,ze,qe){return this.matrix.set(je,this.columns-ze-1,qe),this}get(je,ze){return this.matrix.get(je,this.columns-ze-1)}}class MatrixFlipRowView extends BaseView{constructor(je){super(je,je.rows,je.columns)}set(je,ze,qe){return this.matrix.set(this.rows-je-1,ze,qe),this}get(je,ze){return this.matrix.get(this.rows-je-1,ze)}}class MatrixRowView extends BaseView{constructor(je,ze){checkRowIndex(je,ze),super(je,1,je.columns),this.row=ze}set(je,ze,qe){return this.matrix.set(this.row,ze,qe),this}get(je,ze){return this.matrix.get(this.row,ze)}}class MatrixRowSelectionView extends BaseView{constructor(je,ze){checkRowIndices(je,ze),super(je,ze.length,je.columns),this.rowIndices=ze}set(je,ze,qe){return this.matrix.set(this.rowIndices[je],ze,qe),this}get(je,ze){return this.matrix.get(this.rowIndices[je],ze)}}class MatrixSelectionView extends BaseView{constructor(je,ze,qe){checkRowIndices(je,ze),checkColumnIndices(je,qe),super(je,ze.length,qe.length),this.rowIndices=ze,this.columnIndices=qe}set(je,ze,qe){return this.matrix.set(this.rowIndices[je],this.columnIndices[ze],qe),this}get(je,ze){return this.matrix.get(this.rowIndices[je],this.columnIndices[ze])}}class MatrixSubView extends BaseView{constructor(je,ze,qe,Xe,Ye){checkRange(je,ze,qe,Xe,Ye),super(je,qe-ze+1,Ye-Xe+1),this.startRow=ze,this.startColumn=Xe}set(je,ze,qe){return this.matrix.set(this.startRow+je,this.startColumn+ze,qe),this}get(je,ze){return this.matrix.get(this.startRow+je,this.startColumn+ze)}}let MatrixTransposeView$1=class extends BaseView{constructor(Ve){super(Ve,Ve.columns,Ve.rows)}set(Ve,je,ze){return this.matrix.set(je,Ve,ze),this}get(Ve,je){return this.matrix.get(je,Ve)}};class WrapperMatrix1D extends AbstractMatrix{constructor(je,ze={}){const{rows:qe=1}=ze;if(je.length%qe!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=qe,this.columns=je.length/qe,this.data=je}set(je,ze,qe){let Xe=this._calculateIndex(je,ze);return this.data[Xe]=qe,this}get(je,ze){let qe=this._calculateIndex(je,ze);return this.data[qe]}_calculateIndex(je,ze){return je*this.columns+ze}}class WrapperMatrix2D extends AbstractMatrix{constructor(je){super(),this.data=je,this.rows=je.length,this.columns=je[0].length}set(je,ze,qe){return this.data[je][ze]=qe,this}get(je,ze){return this.data[je][ze]}}function wrap(Ve,je){if(isAnyArray.isAnyArray(Ve))return Ve[0]&&isAnyArray.isAnyArray(Ve[0])?new WrapperMatrix2D(Ve):new WrapperMatrix1D(Ve,je);throw new Error("the argument is not an array")}class LuDecomposition{constructor(je){je=WrapperMatrix2D.checkMatrix(je);let ze=je.clone(),qe=ze.rows,Xe=ze.columns,Ye=new Float64Array(qe),Ke=1,Ze,Qe,Je,St,ei,ti,ii,ri,si;for(Ze=0;Ze<qe;Ze++)Ye[Ze]=Ze;for(ri=new Float64Array(qe),Qe=0;Qe<Xe;Qe++){for(Ze=0;Ze<qe;Ze++)ri[Ze]=ze.get(Ze,Qe);for(Ze=0;Ze<qe;Ze++){for(si=Math.min(Ze,Qe),ei=0,Je=0;Je<si;Je++)ei+=ze.get(Ze,Je)*ri[Je];ri[Ze]-=ei,ze.set(Ze,Qe,ri[Ze])}for(St=Qe,Ze=Qe+1;Ze<qe;Ze++)Math.abs(ri[Ze])>Math.abs(ri[St])&&(St=Ze);if(St!==Qe){for(Je=0;Je<Xe;Je++)ti=ze.get(St,Je),ze.set(St,Je,ze.get(Qe,Je)),ze.set(Qe,Je,ti);ii=Ye[St],Ye[St]=Ye[Qe],Ye[Qe]=ii,Ke=-Ke}if(Qe<qe&&ze.get(Qe,Qe)!==0)for(Ze=Qe+1;Ze<qe;Ze++)ze.set(Ze,Qe,ze.get(Ze,Qe)/ze.get(Qe,Qe))}this.LU=ze,this.pivotVector=Ye,this.pivotSign=Ke}isSingular(){let je=this.LU,ze=je.columns;for(let qe=0;qe<ze;qe++)if(je.get(qe,qe)===0)return!0;return!1}solve(je){je=Matrix$3.checkMatrix(je);let ze=this.LU;if(ze.rows!==je.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let qe=je.columns,Xe=je.subMatrixRow(this.pivotVector,0,qe-1),Ye=ze.columns,Ke,Ze,Qe;for(Qe=0;Qe<Ye;Qe++)for(Ke=Qe+1;Ke<Ye;Ke++)for(Ze=0;Ze<qe;Ze++)Xe.set(Ke,Ze,Xe.get(Ke,Ze)-Xe.get(Qe,Ze)*ze.get(Ke,Qe));for(Qe=Ye-1;Qe>=0;Qe--){for(Ze=0;Ze<qe;Ze++)Xe.set(Qe,Ze,Xe.get(Qe,Ze)/ze.get(Qe,Qe));for(Ke=0;Ke<Qe;Ke++)for(Ze=0;Ze<qe;Ze++)Xe.set(Ke,Ze,Xe.get(Ke,Ze)-Xe.get(Qe,Ze)*ze.get(Ke,Qe))}return Xe}get determinant(){let je=this.LU;if(!je.isSquare())throw new Error("Matrix must be square");let ze=this.pivotSign,qe=je.columns;for(let Xe=0;Xe<qe;Xe++)ze*=je.get(Xe,Xe);return ze}get lowerTriangularMatrix(){let je=this.LU,ze=je.rows,qe=je.columns,Xe=new Matrix$3(ze,qe);for(let Ye=0;Ye<ze;Ye++)for(let Ke=0;Ke<qe;Ke++)Ye>Ke?Xe.set(Ye,Ke,je.get(Ye,Ke)):Ye===Ke?Xe.set(Ye,Ke,1):Xe.set(Ye,Ke,0);return Xe}get upperTriangularMatrix(){let je=this.LU,ze=je.rows,qe=je.columns,Xe=new Matrix$3(ze,qe);for(let Ye=0;Ye<ze;Ye++)for(let Ke=0;Ke<qe;Ke++)Ye<=Ke?Xe.set(Ye,Ke,je.get(Ye,Ke)):Xe.set(Ye,Ke,0);return Xe}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function hypotenuse$1(Ve,je){let ze=0;return Math.abs(Ve)>Math.abs(je)?(ze=je/Ve,Math.abs(Ve)*Math.sqrt(1+ze*ze)):je!==0?(ze=Ve/je,Math.abs(je)*Math.sqrt(1+ze*ze)):0}class QrDecomposition{constructor(je){je=WrapperMatrix2D.checkMatrix(je);let ze=je.clone(),qe=je.rows,Xe=je.columns,Ye=new Float64Array(Xe),Ke,Ze,Qe,Je;for(Qe=0;Qe<Xe;Qe++){let St=0;for(Ke=Qe;Ke<qe;Ke++)St=hypotenuse$1(St,ze.get(Ke,Qe));if(St!==0){for(ze.get(Qe,Qe)<0&&(St=-St),Ke=Qe;Ke<qe;Ke++)ze.set(Ke,Qe,ze.get(Ke,Qe)/St);for(ze.set(Qe,Qe,ze.get(Qe,Qe)+1),Ze=Qe+1;Ze<Xe;Ze++){for(Je=0,Ke=Qe;Ke<qe;Ke++)Je+=ze.get(Ke,Qe)*ze.get(Ke,Ze);for(Je=-Je/ze.get(Qe,Qe),Ke=Qe;Ke<qe;Ke++)ze.set(Ke,Ze,ze.get(Ke,Ze)+Je*ze.get(Ke,Qe))}}Ye[Qe]=-St}this.QR=ze,this.Rdiag=Ye}solve(je){je=Matrix$3.checkMatrix(je);let ze=this.QR,qe=ze.rows;if(je.rows!==qe)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let Xe=je.columns,Ye=je.clone(),Ke=ze.columns,Ze,Qe,Je,St;for(Je=0;Je<Ke;Je++)for(Qe=0;Qe<Xe;Qe++){for(St=0,Ze=Je;Ze<qe;Ze++)St+=ze.get(Ze,Je)*Ye.get(Ze,Qe);for(St=-St/ze.get(Je,Je),Ze=Je;Ze<qe;Ze++)Ye.set(Ze,Qe,Ye.get(Ze,Qe)+St*ze.get(Ze,Je))}for(Je=Ke-1;Je>=0;Je--){for(Qe=0;Qe<Xe;Qe++)Ye.set(Je,Qe,Ye.get(Je,Qe)/this.Rdiag[Je]);for(Ze=0;Ze<Je;Ze++)for(Qe=0;Qe<Xe;Qe++)Ye.set(Ze,Qe,Ye.get(Ze,Qe)-Ye.get(Je,Qe)*ze.get(Ze,Je))}return Ye.subMatrix(0,Ke-1,0,Xe-1)}isFullRank(){let je=this.QR.columns;for(let ze=0;ze<je;ze++)if(this.Rdiag[ze]===0)return!1;return!0}get upperTriangularMatrix(){let je=this.QR,ze=je.columns,qe=new Matrix$3(ze,ze),Xe,Ye;for(Xe=0;Xe<ze;Xe++)for(Ye=0;Ye<ze;Ye++)Xe<Ye?qe.set(Xe,Ye,je.get(Xe,Ye)):Xe===Ye?qe.set(Xe,Ye,this.Rdiag[Xe]):qe.set(Xe,Ye,0);return qe}get orthogonalMatrix(){let je=this.QR,ze=je.rows,qe=je.columns,Xe=new Matrix$3(ze,qe),Ye,Ke,Ze,Qe;for(Ze=qe-1;Ze>=0;Ze--){for(Ye=0;Ye<ze;Ye++)Xe.set(Ye,Ze,0);for(Xe.set(Ze,Ze,1),Ke=Ze;Ke<qe;Ke++)if(je.get(Ze,Ze)!==0){for(Qe=0,Ye=Ze;Ye<ze;Ye++)Qe+=je.get(Ye,Ze)*Xe.get(Ye,Ke);for(Qe=-Qe/je.get(Ze,Ze),Ye=Ze;Ye<ze;Ye++)Xe.set(Ye,Ke,Xe.get(Ye,Ke)+Qe*je.get(Ye,Ze))}}return Xe}}let SingularValueDecomposition$1=class{constructor(Ve,je={}){if(Ve=WrapperMatrix2D.checkMatrix(Ve),Ve.isEmpty())throw new Error("Matrix must be non-empty");let ze=Ve.rows,qe=Ve.columns;const{computeLeftSingularVectors:Xe=!0,computeRightSingularVectors:Ye=!0,autoTranspose:Ke=!1}=je;let Ze=!!Xe,Qe=!!Ye,Je=!1,St;if(ze<qe)if(!Ke)St=Ve.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{St=Ve.transpose(),ze=St.rows,qe=St.columns,Je=!0;let pi=Ze;Ze=Qe,Qe=pi}else St=Ve.clone();let ei=Math.min(ze,qe),ti=Math.min(ze+1,qe),ii=new Float64Array(ti),ri=new Matrix$3(ze,ei),si=new Matrix$3(qe,qe),ui=new Float64Array(qe),ai=new Float64Array(ze),oi=new Float64Array(ti);for(let pi=0;pi<ti;pi++)oi[pi]=pi;let ni=Math.min(ze-1,qe),ci=Math.max(0,Math.min(qe-2,ze)),hi=Math.max(ni,ci);for(let pi=0;pi<hi;pi++){if(pi<ni){ii[pi]=0;for(let wi=pi;wi<ze;wi++)ii[pi]=hypotenuse$1(ii[pi],St.get(wi,pi));if(ii[pi]!==0){St.get(pi,pi)<0&&(ii[pi]=-ii[pi]);for(let wi=pi;wi<ze;wi++)St.set(wi,pi,St.get(wi,pi)/ii[pi]);St.set(pi,pi,St.get(pi,pi)+1)}ii[pi]=-ii[pi]}for(let wi=pi+1;wi<qe;wi++){if(pi<ni&&ii[pi]!==0){let gi=0;for(let yi=pi;yi<ze;yi++)gi+=St.get(yi,pi)*St.get(yi,wi);gi=-gi/St.get(pi,pi);for(let yi=pi;yi<ze;yi++)St.set(yi,wi,St.get(yi,wi)+gi*St.get(yi,pi))}ui[wi]=St.get(pi,wi)}if(Ze&&pi<ni)for(let wi=pi;wi<ze;wi++)ri.set(wi,pi,St.get(wi,pi));if(pi<ci){ui[pi]=0;for(let wi=pi+1;wi<qe;wi++)ui[pi]=hypotenuse$1(ui[pi],ui[wi]);if(ui[pi]!==0){ui[pi+1]<0&&(ui[pi]=0-ui[pi]);for(let wi=pi+1;wi<qe;wi++)ui[wi]/=ui[pi];ui[pi+1]+=1}if(ui[pi]=-ui[pi],pi+1<ze&&ui[pi]!==0){for(let wi=pi+1;wi<ze;wi++)ai[wi]=0;for(let wi=pi+1;wi<ze;wi++)for(let gi=pi+1;gi<qe;gi++)ai[wi]+=ui[gi]*St.get(wi,gi);for(let wi=pi+1;wi<qe;wi++){let gi=-ui[wi]/ui[pi+1];for(let yi=pi+1;yi<ze;yi++)St.set(yi,wi,St.get(yi,wi)+gi*ai[yi])}}if(Qe)for(let wi=pi+1;wi<qe;wi++)si.set(wi,pi,ui[wi])}}let di=Math.min(qe,ze+1);if(ni<qe&&(ii[ni]=St.get(ni,ni)),ze<di&&(ii[di-1]=0),ci+1<di&&(ui[ci]=St.get(ci,di-1)),ui[di-1]=0,Ze){for(let pi=ni;pi<ei;pi++){for(let wi=0;wi<ze;wi++)ri.set(wi,pi,0);ri.set(pi,pi,1)}for(let pi=ni-1;pi>=0;pi--)if(ii[pi]!==0){for(let wi=pi+1;wi<ei;wi++){let gi=0;for(let yi=pi;yi<ze;yi++)gi+=ri.get(yi,pi)*ri.get(yi,wi);gi=-gi/ri.get(pi,pi);for(let yi=pi;yi<ze;yi++)ri.set(yi,wi,ri.get(yi,wi)+gi*ri.get(yi,pi))}for(let wi=pi;wi<ze;wi++)ri.set(wi,pi,-ri.get(wi,pi));ri.set(pi,pi,1+ri.get(pi,pi));for(let wi=0;wi<pi-1;wi++)ri.set(wi,pi,0)}else{for(let wi=0;wi<ze;wi++)ri.set(wi,pi,0);ri.set(pi,pi,1)}}if(Qe)for(let pi=qe-1;pi>=0;pi--){if(pi<ci&&ui[pi]!==0)for(let wi=pi+1;wi<qe;wi++){let gi=0;for(let yi=pi+1;yi<qe;yi++)gi+=si.get(yi,pi)*si.get(yi,wi);gi=-gi/si.get(pi+1,pi);for(let yi=pi+1;yi<qe;yi++)si.set(yi,wi,si.get(yi,wi)+gi*si.get(yi,pi))}for(let wi=0;wi<qe;wi++)si.set(wi,pi,0);si.set(pi,pi,1)}let fi=di-1,mi=Number.EPSILON;for(;di>0;){let pi,wi;for(pi=di-2;pi>=-1&&pi!==-1;pi--){const gi=Number.MIN_VALUE+mi*Math.abs(ii[pi]+Math.abs(ii[pi+1]));if(Math.abs(ui[pi])<=gi||Number.isNaN(ui[pi])){ui[pi]=0;break}}if(pi===di-2)wi=4;else{let gi;for(gi=di-1;gi>=pi&&gi!==pi;gi--){let yi=(gi!==di?Math.abs(ui[gi]):0)+(gi!==pi+1?Math.abs(ui[gi-1]):0);if(Math.abs(ii[gi])<=mi*yi){ii[gi]=0;break}}gi===pi?wi=3:gi===di-1?wi=1:(wi=2,pi=gi)}switch(pi++,wi){case 1:{let gi=ui[di-2];ui[di-2]=0;for(let yi=di-2;yi>=pi;yi--){let Ai=hypotenuse$1(ii[yi],gi),Si=ii[yi]/Ai,ki=gi/Ai;if(ii[yi]=Ai,yi!==pi&&(gi=-ki*ui[yi-1],ui[yi-1]=Si*ui[yi-1]),Qe)for(let Li=0;Li<qe;Li++)Ai=Si*si.get(Li,yi)+ki*si.get(Li,di-1),si.set(Li,di-1,-ki*si.get(Li,yi)+Si*si.get(Li,di-1)),si.set(Li,yi,Ai)}break}case 2:{let gi=ui[pi-1];ui[pi-1]=0;for(let yi=pi;yi<di;yi++){let Ai=hypotenuse$1(ii[yi],gi),Si=ii[yi]/Ai,ki=gi/Ai;if(ii[yi]=Ai,gi=-ki*ui[yi],ui[yi]=Si*ui[yi],Ze)for(let Li=0;Li<ze;Li++)Ai=Si*ri.get(Li,yi)+ki*ri.get(Li,pi-1),ri.set(Li,pi-1,-ki*ri.get(Li,yi)+Si*ri.get(Li,pi-1)),ri.set(Li,yi,Ai)}break}case 3:{const gi=Math.max(Math.abs(ii[di-1]),Math.abs(ii[di-2]),Math.abs(ui[di-2]),Math.abs(ii[pi]),Math.abs(ui[pi])),yi=ii[di-1]/gi,Ai=ii[di-2]/gi,Si=ui[di-2]/gi,ki=ii[pi]/gi,Li=ui[pi]/gi,Bi=((Ai+yi)*(Ai-yi)+Si*Si)/2,Pi=yi*Si*(yi*Si);let Ri=0;(Bi!==0||Pi!==0)&&(Bi<0?Ri=0-Math.sqrt(Bi*Bi+Pi):Ri=Math.sqrt(Bi*Bi+Pi),Ri=Pi/(Bi+Ri));let Fi=(ki+yi)*(ki-yi)+Ri,Gi=ki*Li;for(let Ti=pi;Ti<di-1;Ti++){let Vi=hypotenuse$1(Fi,Gi);Vi===0&&(Vi=Number.MIN_VALUE);let Ui=Fi/Vi,$i=Gi/Vi;if(Ti!==pi&&(ui[Ti-1]=Vi),Fi=Ui*ii[Ti]+$i*ui[Ti],ui[Ti]=Ui*ui[Ti]-$i*ii[Ti],Gi=$i*ii[Ti+1],ii[Ti+1]=Ui*ii[Ti+1],Qe)for(let Wi=0;Wi<qe;Wi++)Vi=Ui*si.get(Wi,Ti)+$i*si.get(Wi,Ti+1),si.set(Wi,Ti+1,-$i*si.get(Wi,Ti)+Ui*si.get(Wi,Ti+1)),si.set(Wi,Ti,Vi);if(Vi=hypotenuse$1(Fi,Gi),Vi===0&&(Vi=Number.MIN_VALUE),Ui=Fi/Vi,$i=Gi/Vi,ii[Ti]=Vi,Fi=Ui*ui[Ti]+$i*ii[Ti+1],ii[Ti+1]=-$i*ui[Ti]+Ui*ii[Ti+1],Gi=$i*ui[Ti+1],ui[Ti+1]=Ui*ui[Ti+1],Ze&&Ti<ze-1)for(let Wi=0;Wi<ze;Wi++)Vi=Ui*ri.get(Wi,Ti)+$i*ri.get(Wi,Ti+1),ri.set(Wi,Ti+1,-$i*ri.get(Wi,Ti)+Ui*ri.get(Wi,Ti+1)),ri.set(Wi,Ti,Vi)}ui[di-2]=Fi;break}case 4:{if(ii[pi]<=0&&(ii[pi]=ii[pi]<0?-ii[pi]:0,Qe))for(let gi=0;gi<=fi;gi++)si.set(gi,pi,-si.get(gi,pi));for(;pi<fi&&!(ii[pi]>=ii[pi+1]);){let gi=ii[pi];if(ii[pi]=ii[pi+1],ii[pi+1]=gi,Qe&&pi<qe-1)for(let yi=0;yi<qe;yi++)gi=si.get(yi,pi+1),si.set(yi,pi+1,si.get(yi,pi)),si.set(yi,pi,gi);if(Ze&&pi<ze-1)for(let yi=0;yi<ze;yi++)gi=ri.get(yi,pi+1),ri.set(yi,pi+1,ri.get(yi,pi)),ri.set(yi,pi,gi);pi++}di--;break}}}if(Je){let pi=si;si=ri,ri=pi}this.m=ze,this.n=qe,this.s=ii,this.U=ri,this.V=si}solve(Ve){let je=Ve,ze=this.threshold,qe=this.s.length,Xe=Matrix$3.zeros(qe,qe);for(let ei=0;ei<qe;ei++)Math.abs(this.s[ei])<=ze?Xe.set(ei,ei,0):Xe.set(ei,ei,1/this.s[ei]);let Ye=this.U,Ke=this.rightSingularVectors,Ze=Ke.mmul(Xe),Qe=Ke.rows,Je=Ye.rows,St=Matrix$3.zeros(Qe,Je);for(let ei=0;ei<Qe;ei++)for(let ti=0;ti<Je;ti++){let ii=0;for(let ri=0;ri<qe;ri++)ii+=Ze.get(ei,ri)*Ye.get(ti,ri);St.set(ei,ti,ii)}return St.mmul(je)}solveForDiagonal(Ve){return this.solve(Matrix$3.diag(Ve))}inverse(){let Ve=this.V,je=this.threshold,ze=Ve.rows,qe=Ve.columns,Xe=new Matrix$3(ze,this.s.length);for(let Je=0;Je<ze;Je++)for(let St=0;St<qe;St++)Math.abs(this.s[St])>je&&Xe.set(Je,St,Ve.get(Je,St)/this.s[St]);let Ye=this.U,Ke=Ye.rows,Ze=Ye.columns,Qe=new Matrix$3(ze,Ke);for(let Je=0;Je<ze;Je++)for(let St=0;St<Ke;St++){let ei=0;for(let ti=0;ti<Ze;ti++)ei+=Xe.get(Je,ti)*Ye.get(St,ti);Qe.set(Je,St,ei)}return Qe}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let Ve=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,je=0,ze=this.s;for(let qe=0,Xe=ze.length;qe<Xe;qe++)ze[qe]>Ve&&je++;return je}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return Matrix$3.diag(this.s)}};function inverse$1(Ve,je=!1){return Ve=WrapperMatrix2D.checkMatrix(Ve),je?new SingularValueDecomposition$1(Ve).inverse():solve$1(Ve,Matrix$3.eye(Ve.rows))}function solve$1(Ve,je,ze=!1){return Ve=WrapperMatrix2D.checkMatrix(Ve),je=WrapperMatrix2D.checkMatrix(je),ze?new SingularValueDecomposition$1(Ve).solve(je):Ve.isSquare()?new LuDecomposition(Ve).solve(je):new QrDecomposition(Ve).solve(je)}function determinant(Ve){if(Ve=Matrix$3.checkMatrix(Ve),Ve.isSquare()){if(Ve.columns===0)return 1;let je,ze,qe,Xe;if(Ve.columns===2)return je=Ve.get(0,0),ze=Ve.get(0,1),qe=Ve.get(1,0),Xe=Ve.get(1,1),je*Xe-ze*qe;if(Ve.columns===3){let Ye,Ke,Ze;return Ye=new MatrixSelectionView(Ve,[1,2],[1,2]),Ke=new MatrixSelectionView(Ve,[1,2],[0,2]),Ze=new MatrixSelectionView(Ve,[1,2],[0,1]),je=Ve.get(0,0),ze=Ve.get(0,1),qe=Ve.get(0,2),je*determinant(Ye)-ze*determinant(Ke)+qe*determinant(Ze)}else return new LuDecomposition(Ve).determinant}else throw Error("determinant can only be calculated for a square matrix")}function xrange(Ve,je){let ze=[];for(let qe=0;qe<Ve;qe++)qe!==je&&ze.push(qe);return ze}function dependenciesOneRow(Ve,je,ze,qe=1e-9,Xe=1e-9){if(Ve>Xe)return new Array(je.rows+1).fill(0);{let Ye=je.addRow(ze,[0]);for(let Ke=0;Ke<Ye.rows;Ke++)Math.abs(Ye.get(Ke,0))<qe&&Ye.set(Ke,0,0);return Ye.to1DArray()}}function linearDependencies(Ve,je={}){const{thresholdValue:ze=1e-9,thresholdError:qe=1e-9}=je;Ve=Matrix$3.checkMatrix(Ve);let Xe=Ve.rows,Ye=new Matrix$3(Xe,Xe);for(let Ke=0;Ke<Xe;Ke++){let Ze=Matrix$3.columnVector(Ve.getRow(Ke)),Qe=Ve.subMatrixRow(xrange(Xe,Ke)).transpose(),Je=new SingularValueDecomposition$1(Qe).solve(Ze),St=Matrix$3.sub(Ze,Qe.mmul(Je)).abs().max();Ye.setRow(Ke,dependenciesOneRow(St,Je,Ke,ze,qe))}return Ye}function pseudoInverse(Ve,je=Number.EPSILON){if(Ve=Matrix$3.checkMatrix(Ve),Ve.isEmpty())return Ve.transpose();let ze=new SingularValueDecomposition$1(Ve,{autoTranspose:!0}),qe=ze.leftSingularVectors,Xe=ze.rightSingularVectors,Ye=ze.diagonal;for(let Ke=0;Ke<Ye.length;Ke++)Math.abs(Ye[Ke])>je?Ye[Ke]=1/Ye[Ke]:Ye[Ke]=0;return Xe.mmul(Matrix$3.diag(Ye).mmul(qe.transpose()))}function covariance$1(Ve,je=Ve,ze={}){Ve=new Matrix$3(Ve);let qe=!1;if(typeof je=="object"&&!Matrix$3.isMatrix(je)&&!isAnyArray.isAnyArray(je)?(ze=je,je=Ve,qe=!0):je=new Matrix$3(je),Ve.rows!==je.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:Xe=!0}=ze;Xe&&(Ve=Ve.center("column"),qe||(je=je.center("column")));const Ye=Ve.transpose().mmul(je);for(let Ke=0;Ke<Ye.rows;Ke++)for(let Ze=0;Ze<Ye.columns;Ze++)Ye.set(Ke,Ze,Ye.get(Ke,Ze)*(1/(Ve.rows-1)));return Ye}function correlation(Ve,je=Ve,ze={}){Ve=new Matrix$3(Ve);let qe=!1;if(typeof je=="object"&&!Matrix$3.isMatrix(je)&&!isAnyArray.isAnyArray(je)?(ze=je,je=Ve,qe=!0):je=new Matrix$3(je),Ve.rows!==je.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:Xe=!0,scale:Ye=!0}=ze;Xe&&(Ve.center("column"),qe||je.center("column")),Ye&&(Ve.scale("column"),qe||je.scale("column"));const Ke=Ve.standardDeviation("column",{unbiased:!0}),Ze=qe?Ke:je.standardDeviation("column",{unbiased:!0}),Qe=Ve.transpose().mmul(je);for(let Je=0;Je<Qe.rows;Je++)for(let St=0;St<Qe.columns;St++)Qe.set(Je,St,Qe.get(Je,St)*(1/(Ke[Je]*Ze[St]))*(1/(Ve.rows-1)));return Qe}class EigenvalueDecomposition{constructor(je,ze={}){const{assumeSymmetric:qe=!1}=ze;if(je=WrapperMatrix2D.checkMatrix(je),!je.isSquare())throw new Error("Matrix is not a square matrix");if(je.isEmpty())throw new Error("Matrix must be non-empty");let Xe=je.columns,Ye=new Matrix$3(Xe,Xe),Ke=new Float64Array(Xe),Ze=new Float64Array(Xe),Qe=je,Je,St,ei=!1;if(qe?ei=!0:ei=je.isSymmetric(),ei){for(Je=0;Je<Xe;Je++)for(St=0;St<Xe;St++)Ye.set(Je,St,Qe.get(Je,St));tred2(Xe,Ze,Ke,Ye),tql2(Xe,Ze,Ke,Ye)}else{let ti=new Matrix$3(Xe,Xe),ii=new Float64Array(Xe);for(St=0;St<Xe;St++)for(Je=0;Je<Xe;Je++)ti.set(Je,St,Qe.get(Je,St));orthes(Xe,ti,ii,Ye),hqr2(Xe,Ze,Ke,Ye,ti)}this.n=Xe,this.e=Ze,this.d=Ke,this.V=Ye}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let je=this.n,ze=this.e,qe=this.d,Xe=new Matrix$3(je,je),Ye,Ke;for(Ye=0;Ye<je;Ye++){for(Ke=0;Ke<je;Ke++)Xe.set(Ye,Ke,0);Xe.set(Ye,Ye,qe[Ye]),ze[Ye]>0?Xe.set(Ye,Ye+1,ze[Ye]):ze[Ye]<0&&Xe.set(Ye,Ye-1,ze[Ye])}return Xe}}function tred2(Ve,je,ze,qe){let Xe,Ye,Ke,Ze,Qe,Je,St,ei;for(Qe=0;Qe<Ve;Qe++)ze[Qe]=qe.get(Ve-1,Qe);for(Ze=Ve-1;Ze>0;Ze--){for(ei=0,Ke=0,Je=0;Je<Ze;Je++)ei=ei+Math.abs(ze[Je]);if(ei===0)for(je[Ze]=ze[Ze-1],Qe=0;Qe<Ze;Qe++)ze[Qe]=qe.get(Ze-1,Qe),qe.set(Ze,Qe,0),qe.set(Qe,Ze,0);else{for(Je=0;Je<Ze;Je++)ze[Je]/=ei,Ke+=ze[Je]*ze[Je];for(Xe=ze[Ze-1],Ye=Math.sqrt(Ke),Xe>0&&(Ye=-Ye),je[Ze]=ei*Ye,Ke=Ke-Xe*Ye,ze[Ze-1]=Xe-Ye,Qe=0;Qe<Ze;Qe++)je[Qe]=0;for(Qe=0;Qe<Ze;Qe++){for(Xe=ze[Qe],qe.set(Qe,Ze,Xe),Ye=je[Qe]+qe.get(Qe,Qe)*Xe,Je=Qe+1;Je<=Ze-1;Je++)Ye+=qe.get(Je,Qe)*ze[Je],je[Je]+=qe.get(Je,Qe)*Xe;je[Qe]=Ye}for(Xe=0,Qe=0;Qe<Ze;Qe++)je[Qe]/=Ke,Xe+=je[Qe]*ze[Qe];for(St=Xe/(Ke+Ke),Qe=0;Qe<Ze;Qe++)je[Qe]-=St*ze[Qe];for(Qe=0;Qe<Ze;Qe++){for(Xe=ze[Qe],Ye=je[Qe],Je=Qe;Je<=Ze-1;Je++)qe.set(Je,Qe,qe.get(Je,Qe)-(Xe*je[Je]+Ye*ze[Je]));ze[Qe]=qe.get(Ze-1,Qe),qe.set(Ze,Qe,0)}}ze[Ze]=Ke}for(Ze=0;Ze<Ve-1;Ze++){if(qe.set(Ve-1,Ze,qe.get(Ze,Ze)),qe.set(Ze,Ze,1),Ke=ze[Ze+1],Ke!==0){for(Je=0;Je<=Ze;Je++)ze[Je]=qe.get(Je,Ze+1)/Ke;for(Qe=0;Qe<=Ze;Qe++){for(Ye=0,Je=0;Je<=Ze;Je++)Ye+=qe.get(Je,Ze+1)*qe.get(Je,Qe);for(Je=0;Je<=Ze;Je++)qe.set(Je,Qe,qe.get(Je,Qe)-Ye*ze[Je])}}for(Je=0;Je<=Ze;Je++)qe.set(Je,Ze+1,0)}for(Qe=0;Qe<Ve;Qe++)ze[Qe]=qe.get(Ve-1,Qe),qe.set(Ve-1,Qe,0);qe.set(Ve-1,Ve-1,1),je[0]=0}function tql2(Ve,je,ze,qe){let Xe,Ye,Ke,Ze,Qe,Je,St,ei,ti,ii,ri,si,ui,ai,oi,ni;for(Ke=1;Ke<Ve;Ke++)je[Ke-1]=je[Ke];je[Ve-1]=0;let ci=0,hi=0,di=Number.EPSILON;for(Je=0;Je<Ve;Je++){for(hi=Math.max(hi,Math.abs(ze[Je])+Math.abs(je[Je])),St=Je;St<Ve&&!(Math.abs(je[St])<=di*hi);)St++;if(St>Je)do{for(Xe=ze[Je],ei=(ze[Je+1]-Xe)/(2*je[Je]),ti=hypotenuse$1(ei,1),ei<0&&(ti=-ti),ze[Je]=je[Je]/(ei+ti),ze[Je+1]=je[Je]*(ei+ti),ii=ze[Je+1],Ye=Xe-ze[Je],Ke=Je+2;Ke<Ve;Ke++)ze[Ke]-=Ye;for(ci=ci+Ye,ei=ze[St],ri=1,si=ri,ui=ri,ai=je[Je+1],oi=0,ni=0,Ke=St-1;Ke>=Je;Ke--)for(ui=si,si=ri,ni=oi,Xe=ri*je[Ke],Ye=ri*ei,ti=hypotenuse$1(ei,je[Ke]),je[Ke+1]=oi*ti,oi=je[Ke]/ti,ri=ei/ti,ei=ri*ze[Ke]-oi*Xe,ze[Ke+1]=Ye+oi*(ri*Xe+oi*ze[Ke]),Qe=0;Qe<Ve;Qe++)Ye=qe.get(Qe,Ke+1),qe.set(Qe,Ke+1,oi*qe.get(Qe,Ke)+ri*Ye),qe.set(Qe,Ke,ri*qe.get(Qe,Ke)-oi*Ye);ei=-oi*ni*ui*ai*je[Je]/ii,je[Je]=oi*ei,ze[Je]=ri*ei}while(Math.abs(je[Je])>di*hi);ze[Je]=ze[Je]+ci,je[Je]=0}for(Ke=0;Ke<Ve-1;Ke++){for(Qe=Ke,ei=ze[Ke],Ze=Ke+1;Ze<Ve;Ze++)ze[Ze]<ei&&(Qe=Ze,ei=ze[Ze]);if(Qe!==Ke)for(ze[Qe]=ze[Ke],ze[Ke]=ei,Ze=0;Ze<Ve;Ze++)ei=qe.get(Ze,Ke),qe.set(Ze,Ke,qe.get(Ze,Qe)),qe.set(Ze,Qe,ei)}}function orthes(Ve,je,ze,qe){let Xe=0,Ye=Ve-1,Ke,Ze,Qe,Je,St,ei,ti;for(ei=Xe+1;ei<=Ye-1;ei++){for(ti=0,Je=ei;Je<=Ye;Je++)ti=ti+Math.abs(je.get(Je,ei-1));if(ti!==0){for(Qe=0,Je=Ye;Je>=ei;Je--)ze[Je]=je.get(Je,ei-1)/ti,Qe+=ze[Je]*ze[Je];for(Ze=Math.sqrt(Qe),ze[ei]>0&&(Ze=-Ze),Qe=Qe-ze[ei]*Ze,ze[ei]=ze[ei]-Ze,St=ei;St<Ve;St++){for(Ke=0,Je=Ye;Je>=ei;Je--)Ke+=ze[Je]*je.get(Je,St);for(Ke=Ke/Qe,Je=ei;Je<=Ye;Je++)je.set(Je,St,je.get(Je,St)-Ke*ze[Je])}for(Je=0;Je<=Ye;Je++){for(Ke=0,St=Ye;St>=ei;St--)Ke+=ze[St]*je.get(Je,St);for(Ke=Ke/Qe,St=ei;St<=Ye;St++)je.set(Je,St,je.get(Je,St)-Ke*ze[St])}ze[ei]=ti*ze[ei],je.set(ei,ei-1,ti*Ze)}}for(Je=0;Je<Ve;Je++)for(St=0;St<Ve;St++)qe.set(Je,St,Je===St?1:0);for(ei=Ye-1;ei>=Xe+1;ei--)if(je.get(ei,ei-1)!==0){for(Je=ei+1;Je<=Ye;Je++)ze[Je]=je.get(Je,ei-1);for(St=ei;St<=Ye;St++){for(Ze=0,Je=ei;Je<=Ye;Je++)Ze+=ze[Je]*qe.get(Je,St);for(Ze=Ze/ze[ei]/je.get(ei,ei-1),Je=ei;Je<=Ye;Je++)qe.set(Je,St,qe.get(Je,St)+Ze*ze[Je])}}}function hqr2(Ve,je,ze,qe,Xe){let Ye=Ve-1,Ke=0,Ze=Ve-1,Qe=Number.EPSILON,Je=0,St=0,ei=0,ti=0,ii=0,ri=0,si=0,ui=0,ai,oi,ni,ci,hi,di,fi,mi,pi,wi,gi,yi,Ai,Si,ki;for(ai=0;ai<Ve;ai++)for((ai<Ke||ai>Ze)&&(ze[ai]=Xe.get(ai,ai),je[ai]=0),oi=Math.max(ai-1,0);oi<Ve;oi++)St=St+Math.abs(Xe.get(ai,oi));for(;Ye>=Ke;){for(ci=Ye;ci>Ke&&(ri=Math.abs(Xe.get(ci-1,ci-1))+Math.abs(Xe.get(ci,ci)),ri===0&&(ri=St),!(Math.abs(Xe.get(ci,ci-1))<Qe*ri));)ci--;if(ci===Ye)Xe.set(Ye,Ye,Xe.get(Ye,Ye)+Je),ze[Ye]=Xe.get(Ye,Ye),je[Ye]=0,Ye--,ui=0;else if(ci===Ye-1){if(fi=Xe.get(Ye,Ye-1)*Xe.get(Ye-1,Ye),ei=(Xe.get(Ye-1,Ye-1)-Xe.get(Ye,Ye))/2,ti=ei*ei+fi,si=Math.sqrt(Math.abs(ti)),Xe.set(Ye,Ye,Xe.get(Ye,Ye)+Je),Xe.set(Ye-1,Ye-1,Xe.get(Ye-1,Ye-1)+Je),mi=Xe.get(Ye,Ye),ti>=0){for(si=ei>=0?ei+si:ei-si,ze[Ye-1]=mi+si,ze[Ye]=ze[Ye-1],si!==0&&(ze[Ye]=mi-fi/si),je[Ye-1]=0,je[Ye]=0,mi=Xe.get(Ye,Ye-1),ri=Math.abs(mi)+Math.abs(si),ei=mi/ri,ti=si/ri,ii=Math.sqrt(ei*ei+ti*ti),ei=ei/ii,ti=ti/ii,oi=Ye-1;oi<Ve;oi++)si=Xe.get(Ye-1,oi),Xe.set(Ye-1,oi,ti*si+ei*Xe.get(Ye,oi)),Xe.set(Ye,oi,ti*Xe.get(Ye,oi)-ei*si);for(ai=0;ai<=Ye;ai++)si=Xe.get(ai,Ye-1),Xe.set(ai,Ye-1,ti*si+ei*Xe.get(ai,Ye)),Xe.set(ai,Ye,ti*Xe.get(ai,Ye)-ei*si);for(ai=Ke;ai<=Ze;ai++)si=qe.get(ai,Ye-1),qe.set(ai,Ye-1,ti*si+ei*qe.get(ai,Ye)),qe.set(ai,Ye,ti*qe.get(ai,Ye)-ei*si)}else ze[Ye-1]=mi+ei,ze[Ye]=mi+ei,je[Ye-1]=si,je[Ye]=-si;Ye=Ye-2,ui=0}else{if(mi=Xe.get(Ye,Ye),pi=0,fi=0,ci<Ye&&(pi=Xe.get(Ye-1,Ye-1),fi=Xe.get(Ye,Ye-1)*Xe.get(Ye-1,Ye)),ui===10){for(Je+=mi,ai=Ke;ai<=Ye;ai++)Xe.set(ai,ai,Xe.get(ai,ai)-mi);ri=Math.abs(Xe.get(Ye,Ye-1))+Math.abs(Xe.get(Ye-1,Ye-2)),mi=pi=.75*ri,fi=-.4375*ri*ri}if(ui===30&&(ri=(pi-mi)/2,ri=ri*ri+fi,ri>0)){for(ri=Math.sqrt(ri),pi<mi&&(ri=-ri),ri=mi-fi/((pi-mi)/2+ri),ai=Ke;ai<=Ye;ai++)Xe.set(ai,ai,Xe.get(ai,ai)-ri);Je+=ri,mi=pi=fi=.964}for(ui=ui+1,hi=Ye-2;hi>=ci&&(si=Xe.get(hi,hi),ii=mi-si,ri=pi-si,ei=(ii*ri-fi)/Xe.get(hi+1,hi)+Xe.get(hi,hi+1),ti=Xe.get(hi+1,hi+1)-si-ii-ri,ii=Xe.get(hi+2,hi+1),ri=Math.abs(ei)+Math.abs(ti)+Math.abs(ii),ei=ei/ri,ti=ti/ri,ii=ii/ri,!(hi===ci||Math.abs(Xe.get(hi,hi-1))*(Math.abs(ti)+Math.abs(ii))<Qe*(Math.abs(ei)*(Math.abs(Xe.get(hi-1,hi-1))+Math.abs(si)+Math.abs(Xe.get(hi+1,hi+1))))));)hi--;for(ai=hi+2;ai<=Ye;ai++)Xe.set(ai,ai-2,0),ai>hi+2&&Xe.set(ai,ai-3,0);for(ni=hi;ni<=Ye-1&&(Si=ni!==Ye-1,ni!==hi&&(ei=Xe.get(ni,ni-1),ti=Xe.get(ni+1,ni-1),ii=Si?Xe.get(ni+2,ni-1):0,mi=Math.abs(ei)+Math.abs(ti)+Math.abs(ii),mi!==0&&(ei=ei/mi,ti=ti/mi,ii=ii/mi)),mi!==0);ni++)if(ri=Math.sqrt(ei*ei+ti*ti+ii*ii),ei<0&&(ri=-ri),ri!==0){for(ni!==hi?Xe.set(ni,ni-1,-ri*mi):ci!==hi&&Xe.set(ni,ni-1,-Xe.get(ni,ni-1)),ei=ei+ri,mi=ei/ri,pi=ti/ri,si=ii/ri,ti=ti/ei,ii=ii/ei,oi=ni;oi<Ve;oi++)ei=Xe.get(ni,oi)+ti*Xe.get(ni+1,oi),Si&&(ei=ei+ii*Xe.get(ni+2,oi),Xe.set(ni+2,oi,Xe.get(ni+2,oi)-ei*si)),Xe.set(ni,oi,Xe.get(ni,oi)-ei*mi),Xe.set(ni+1,oi,Xe.get(ni+1,oi)-ei*pi);for(ai=0;ai<=Math.min(Ye,ni+3);ai++)ei=mi*Xe.get(ai,ni)+pi*Xe.get(ai,ni+1),Si&&(ei=ei+si*Xe.get(ai,ni+2),Xe.set(ai,ni+2,Xe.get(ai,ni+2)-ei*ii)),Xe.set(ai,ni,Xe.get(ai,ni)-ei),Xe.set(ai,ni+1,Xe.get(ai,ni+1)-ei*ti);for(ai=Ke;ai<=Ze;ai++)ei=mi*qe.get(ai,ni)+pi*qe.get(ai,ni+1),Si&&(ei=ei+si*qe.get(ai,ni+2),qe.set(ai,ni+2,qe.get(ai,ni+2)-ei*ii)),qe.set(ai,ni,qe.get(ai,ni)-ei),qe.set(ai,ni+1,qe.get(ai,ni+1)-ei*ti)}}}if(St!==0){for(Ye=Ve-1;Ye>=0;Ye--)if(ei=ze[Ye],ti=je[Ye],ti===0)for(ci=Ye,Xe.set(Ye,Ye,1),ai=Ye-1;ai>=0;ai--){for(fi=Xe.get(ai,ai)-ei,ii=0,oi=ci;oi<=Ye;oi++)ii=ii+Xe.get(ai,oi)*Xe.get(oi,Ye);if(je[ai]<0)si=fi,ri=ii;else if(ci=ai,je[ai]===0?Xe.set(ai,Ye,fi!==0?-ii/fi:-ii/(Qe*St)):(mi=Xe.get(ai,ai+1),pi=Xe.get(ai+1,ai),ti=(ze[ai]-ei)*(ze[ai]-ei)+je[ai]*je[ai],di=(mi*ri-si*ii)/ti,Xe.set(ai,Ye,di),Xe.set(ai+1,Ye,Math.abs(mi)>Math.abs(si)?(-ii-fi*di)/mi:(-ri-pi*di)/si)),di=Math.abs(Xe.get(ai,Ye)),Qe*di*di>1)for(oi=ai;oi<=Ye;oi++)Xe.set(oi,Ye,Xe.get(oi,Ye)/di)}else if(ti<0)for(ci=Ye-1,Math.abs(Xe.get(Ye,Ye-1))>Math.abs(Xe.get(Ye-1,Ye))?(Xe.set(Ye-1,Ye-1,ti/Xe.get(Ye,Ye-1)),Xe.set(Ye-1,Ye,-(Xe.get(Ye,Ye)-ei)/Xe.get(Ye,Ye-1))):(ki=cdiv(0,-Xe.get(Ye-1,Ye),Xe.get(Ye-1,Ye-1)-ei,ti),Xe.set(Ye-1,Ye-1,ki[0]),Xe.set(Ye-1,Ye,ki[1])),Xe.set(Ye,Ye-1,0),Xe.set(Ye,Ye,1),ai=Ye-2;ai>=0;ai--){for(wi=0,gi=0,oi=ci;oi<=Ye;oi++)wi=wi+Xe.get(ai,oi)*Xe.get(oi,Ye-1),gi=gi+Xe.get(ai,oi)*Xe.get(oi,Ye);if(fi=Xe.get(ai,ai)-ei,je[ai]<0)si=fi,ii=wi,ri=gi;else if(ci=ai,je[ai]===0?(ki=cdiv(-wi,-gi,fi,ti),Xe.set(ai,Ye-1,ki[0]),Xe.set(ai,Ye,ki[1])):(mi=Xe.get(ai,ai+1),pi=Xe.get(ai+1,ai),yi=(ze[ai]-ei)*(ze[ai]-ei)+je[ai]*je[ai]-ti*ti,Ai=(ze[ai]-ei)*2*ti,yi===0&&Ai===0&&(yi=Qe*St*(Math.abs(fi)+Math.abs(ti)+Math.abs(mi)+Math.abs(pi)+Math.abs(si))),ki=cdiv(mi*ii-si*wi+ti*gi,mi*ri-si*gi-ti*wi,yi,Ai),Xe.set(ai,Ye-1,ki[0]),Xe.set(ai,Ye,ki[1]),Math.abs(mi)>Math.abs(si)+Math.abs(ti)?(Xe.set(ai+1,Ye-1,(-wi-fi*Xe.get(ai,Ye-1)+ti*Xe.get(ai,Ye))/mi),Xe.set(ai+1,Ye,(-gi-fi*Xe.get(ai,Ye)-ti*Xe.get(ai,Ye-1))/mi)):(ki=cdiv(-ii-pi*Xe.get(ai,Ye-1),-ri-pi*Xe.get(ai,Ye),si,ti),Xe.set(ai+1,Ye-1,ki[0]),Xe.set(ai+1,Ye,ki[1]))),di=Math.max(Math.abs(Xe.get(ai,Ye-1)),Math.abs(Xe.get(ai,Ye))),Qe*di*di>1)for(oi=ai;oi<=Ye;oi++)Xe.set(oi,Ye-1,Xe.get(oi,Ye-1)/di),Xe.set(oi,Ye,Xe.get(oi,Ye)/di)}for(ai=0;ai<Ve;ai++)if(ai<Ke||ai>Ze)for(oi=ai;oi<Ve;oi++)qe.set(ai,oi,Xe.get(ai,oi));for(oi=Ve-1;oi>=Ke;oi--)for(ai=Ke;ai<=Ze;ai++){for(si=0,ni=Ke;ni<=Math.min(oi,Ze);ni++)si=si+qe.get(ai,ni)*Xe.get(ni,oi);qe.set(ai,oi,si)}}}function cdiv(Ve,je,ze,qe){let Xe,Ye;return Math.abs(ze)>Math.abs(qe)?(Xe=qe/ze,Ye=ze+Xe*qe,[(Ve+Xe*je)/Ye,(je-Xe*Ve)/Ye]):(Xe=ze/qe,Ye=qe+Xe*ze,[(Xe*Ve+je)/Ye,(Xe*je-Ve)/Ye])}class CholeskyDecomposition{constructor(je){if(je=WrapperMatrix2D.checkMatrix(je),!je.isSymmetric())throw new Error("Matrix is not symmetric");let ze=je,qe=ze.rows,Xe=new Matrix$3(qe,qe),Ye=!0,Ke,Ze,Qe;for(Ze=0;Ze<qe;Ze++){let Je=0;for(Qe=0;Qe<Ze;Qe++){let St=0;for(Ke=0;Ke<Qe;Ke++)St+=Xe.get(Qe,Ke)*Xe.get(Ze,Ke);St=(ze.get(Ze,Qe)-St)/Xe.get(Qe,Qe),Xe.set(Ze,Qe,St),Je=Je+St*St}for(Je=ze.get(Ze,Ze)-Je,Ye&=Je>0,Xe.set(Ze,Ze,Math.sqrt(Math.max(Je,0))),Qe=Ze+1;Qe<qe;Qe++)Xe.set(Ze,Qe,0)}this.L=Xe,this.positiveDefinite=!!Ye}isPositiveDefinite(){return this.positiveDefinite}solve(je){je=WrapperMatrix2D.checkMatrix(je);let ze=this.L,qe=ze.rows;if(je.rows!==qe)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");let Xe=je.columns,Ye=je.clone(),Ke,Ze,Qe;for(Qe=0;Qe<qe;Qe++)for(Ze=0;Ze<Xe;Ze++){for(Ke=0;Ke<Qe;Ke++)Ye.set(Qe,Ze,Ye.get(Qe,Ze)-Ye.get(Ke,Ze)*ze.get(Qe,Ke));Ye.set(Qe,Ze,Ye.get(Qe,Ze)/ze.get(Qe,Qe))}for(Qe=qe-1;Qe>=0;Qe--)for(Ze=0;Ze<Xe;Ze++){for(Ke=Qe+1;Ke<qe;Ke++)Ye.set(Qe,Ze,Ye.get(Qe,Ze)-Ye.get(Ke,Ze)*ze.get(Ke,Qe));Ye.set(Qe,Ze,Ye.get(Qe,Ze)/ze.get(Qe,Qe))}return Ye}get lowerTriangularMatrix(){return this.L}}class nipals{constructor(je,ze={}){je=WrapperMatrix2D.checkMatrix(je);let{Y:qe}=ze;const{scaleScores:Xe=!1,maxIterations:Ye=1e3,terminationCriteria:Ke=1e-10}=ze;let Ze;if(qe){if(isAnyArray.isAnyArray(qe)&&typeof qe[0]=="number"?qe=Matrix$3.columnVector(qe):qe=WrapperMatrix2D.checkMatrix(qe),qe.rows!==je.rows)throw new Error("Y should have the same number of rows as X");Ze=qe.getColumnVector(0)}else Ze=je.getColumnVector(0);let Qe=1,Je,St,ei,ti;for(let ii=0;ii<Ye&&Qe>Ke;ii++)ei=je.transpose().mmul(Ze).div(Ze.transpose().mmul(Ze).get(0,0)),ei=ei.div(ei.norm()),Je=je.mmul(ei).div(ei.transpose().mmul(ei).get(0,0)),ii>0&&(Qe=Je.clone().sub(ti).pow(2).sum()),ti=Je.clone(),qe?(St=qe.transpose().mmul(Je).div(Je.transpose().mmul(Je).get(0,0)),St=St.div(St.norm()),Ze=qe.mmul(St).div(St.transpose().mmul(St).get(0,0))):Ze=Je;if(qe){let ii=je.transpose().mmul(Je).div(Je.transpose().mmul(Je).get(0,0));ii=ii.div(ii.norm());let ri=je.clone().sub(Je.clone().mmul(ii.transpose())),si=Ze.transpose().mmul(Je).div(Je.transpose().mmul(Je).get(0,0)),ui=qe.clone().sub(Je.clone().mulS(si.get(0,0)).mmul(St.transpose()));this.t=Je,this.p=ii.transpose(),this.w=ei.transpose(),this.q=St,this.u=Ze,this.s=Je.transpose().mmul(Je),this.xResidual=ri,this.yResidual=ui,this.betas=si}else this.w=ei.transpose(),this.s=Je.transpose().mmul(Je).sqrt(),Xe?this.t=Je.clone().div(this.s.get(0,0)):this.t=Je,this.xResidual=je.sub(Je.mmul(ei.transpose()))}}matrix.AbstractMatrix=AbstractMatrix;matrix.CHO=CholeskyDecomposition;matrix.CholeskyDecomposition=CholeskyDecomposition;matrix.DistanceMatrix=DistanceMatrix;matrix.EVD=EigenvalueDecomposition;matrix.EigenvalueDecomposition=EigenvalueDecomposition;matrix.LU=LuDecomposition;matrix.LuDecomposition=LuDecomposition;var Matrix_1=matrix.Matrix=Matrix$3;matrix.MatrixColumnSelectionView=MatrixColumnSelectionView;matrix.MatrixColumnView=MatrixColumnView;matrix.MatrixFlipColumnView=MatrixFlipColumnView;matrix.MatrixFlipRowView=MatrixFlipRowView;matrix.MatrixRowSelectionView=MatrixRowSelectionView;matrix.MatrixRowView=MatrixRowView;matrix.MatrixSelectionView=MatrixSelectionView;matrix.MatrixSubView=MatrixSubView;matrix.MatrixTransposeView=MatrixTransposeView$1;matrix.NIPALS=nipals;matrix.Nipals=nipals;matrix.QR=QrDecomposition;matrix.QrDecomposition=QrDecomposition;var SVD$1=matrix.SVD=SingularValueDecomposition$1,SingularValueDecomposition_1=matrix.SingularValueDecomposition=SingularValueDecomposition$1;matrix.SymmetricMatrix=SymmetricMatrix;matrix.WrapperMatrix1D=WrapperMatrix1D;matrix.WrapperMatrix2D=WrapperMatrix2D;matrix.correlation=correlation;matrix.covariance=covariance$1;var _default=matrix.default=Matrix$3;matrix.determinant=determinant;var inverse_1=matrix.inverse=inverse$1;matrix.linearDependencies=linearDependencies;matrix.pseudoInverse=pseudoInverse;var solve_1=matrix.solve=solve$1;matrix.wrap=wrap;const Matrix$2=Matrix_1,SVD=SVD$1,SingularValueDecomposition=SingularValueDecomposition_1;_default.Matrix&&_default.Matrix;const inverse=inverse_1,solve=solve_1;function getSeparatedKernel(Ve){const je=new SVD(Ve,{autoTranspose:!0});if(je.rank!==1)return null;const ze=Math.sqrt(je.s[0]),qe=je.U.to2DArray().map(Ye=>Ye[0]*ze),Xe=je.V.to2DArray().map(Ye=>Ye[0]*ze);return[qe,Xe]}function convolution(Ve,je={}){let{channels:ze,bitDepth:qe,normalize:Xe=!1,divisor:Ye=1,border:Ke="copy",algorithm:Ze="auto"}=je,Qe={};qe&&(Qe.bitDepth=qe);let Je=Image$1.createFrom(this,Qe);if(ze=validateArrayOfChannels(this,ze),Ze!=="separable")({kernel:Ve}=validateKernel(Ve));else if(!Array.isArray(Ve)||Ve.length!==2)throw new RangeError("separable convolution requires two arrays of numbers to represent the kernel");if(Ze==="auto"){let ci=getSeparatedKernel(Ve);ci!==null?(Ze="separable",Ve=ci):(Ve.length>9||Ve[0].length>9)&&this.width<=4096&&this.height<=4096?Ze="fft":Ze="direct"}let St,ei;Ze==="separable"?(St=Math.floor(Ve[0].length/2),ei=Math.floor(Ve[1].length/2)):(St=Math.floor(Ve.length/2),ei=Math.floor(Ve[0].length/2));let ti=Je.isClamped,ii=new Array(this.height*this.width),ri,si,ui,ai,oi,ni;for(ai=0;ai<ze.length;ai++){for(oi=ze[ai],ui=0;ui<this.height;ui++)for(si=0;si<this.width;si++)ri=ui*this.width+si,ii[ri]=this.data[ri*this.channels+oi];if(Ze==="direct")ni=src$1.direct(ii,Ve,{rows:this.height,cols:this.width,normalize:Xe,divisor:Ye});else if(Ze==="separable"){if(ni=convolutionSeparable(ii,Ve,this.width,this.height),Xe){Ye=0;for(let ci=0;ci<Ve[0].length;ci++)for(let hi=0;hi<Ve[1].length;hi++)Ye+=Ve[0][ci]*Ve[1][hi]}if(Ye!==1)for(let ci=0;ci<ni.length;ci++)ni[ci]/=Ye}else ni=src$1.fft(ii,Ve,{rows:this.height,cols:this.width,normalize:Xe,divisor:Ye});for(ui=0;ui<this.height;ui++)for(si=0;si<this.width;si++)ri=ui*this.width+si,ti?Je.data[ri*this.channels+oi]=clamp(ni[ri],Je):Je.data[ri*this.channels+oi]=ni[ri]}if(this.alpha&&!ze.includes(this.channels))for(si=this.components;si<this.data.length;si=si+this.channels)Je.data[si]=this.data[si];return Ke!=="periodic"&&Je.setBorder({size:[ei,St],algorithm:Ke}),Je}function gradientFilter(Ve={}){let{direction:je="xy",border:ze="copy",kernelX:qe,kernelY:Xe,channels:Ye,bitDepth:Ke=this.bitDepth}=Ve;switch(this.checkProcessable("gradientFilter",{bitDepth:[8,16]}),je){case"x":if(!qe)throw new Error("kernelX option is missing");return convolution.call(this,qe,{channels:Ye,border:ze,bitDepth:Ke});case"y":if(!Xe)throw new Error("kernelY option is missing");return convolution.call(this,Xe,{channels:Ye,border:ze,bitDepth:Ke});case"xy":{if(!qe)throw new Error("kernelX option is missing");if(!Xe)throw new Error("kernelY option is missing");const Ze=convolution.call(this,qe,{channels:Ye,border:ze,bitDepth:32}),Qe=convolution.call(this,Xe,{channels:Ye,border:ze,bitDepth:32});return Ze.hypotenuse(Qe,{bitDepth:Ke,channels:Ye})}default:throw new Error(`Unknown parameter direction: ${je}`)}}function sobelFilter(Ve){return gradientFilter.call(this,Object.assign({},Ve,{kernelX:SOBEL_X,kernelY:SOBEL_Y}))}function scharrFilter(Ve){return gradientFilter.call(this,Object.assign({},Ve,{kernelX:SCHARR_X,kernelY:SCHARR_Y}))}var newArray_1=newArray;function newArray(Ve,je){Ve=Ve||0;for(var ze=new Array(Ve),qe=0;qe<Ve;qe++)ze[qe]=je;return ze}const newArray$1=getDefaultExportFromCjs$1(newArray_1);function level(Ve={}){let{algorithm:je="range",channels:ze,min:qe=this.min,max:Xe=this.max}=Ve;switch(this.checkProcessable("level",{bitDepth:[8,16,32]}),ze=validateArrayOfChannels(this,{channels:ze}),ze.length!==this.channel&&(Array.isArray(qe)&&qe.length===this.channels&&(qe=qe.filter((Ye,Ke)=>ze.includes(Ke))),Array.isArray(Xe)&&Xe.length===this.channels&&(Xe=Xe.filter((Ye,Ke)=>ze.includes(Ke)))),je){case"range":qe<0&&(qe=0),Xe>this.maxValue&&(Xe=this.maxValue),Array.isArray(qe)||(qe=newArray$1(ze.length,qe)),Array.isArray(Xe)||(Xe=newArray$1(ze.length,Xe)),processImage(this,qe,Xe,ze);break;default:throw new Error(`level: algorithm not implement: ${je}`)}return this}function processImage(Ve,je,ze,qe){let Xe=1e-5,Ye=new Array(qe.length);for(let Ke=0;Ke<qe.length;Ke++)je[Ke]===0&&ze[Ke]===Ve.maxValue||ze[Ke]===je[Ke]?Ye[Ke]=0:Ye[Ke]=(Ve.maxValue+1-Xe)/(ze[Ke]-je[Ke]),je[Ke]+=(.5-Xe/2)/Ye[Ke];for(let Ke=0;Ke<qe.length;Ke++){let Ze=qe[Ke];if(Ye[Ke]!==0)for(let Qe=0;Qe<Ve.data.length;Qe+=Ve.channels)Ve.data[Qe+Ze]=Math.min(Math.max(0,(Ve.data[Qe+Ze]-je[Ke])*Ye[Ke]+.5|0),Ve.maxValue)}}var toString=Object.prototype.toString,isArrayType=function Ve(je){return toString.call(je).substr(-6,5)==="Array"};const isArray=getDefaultExportFromCjs$1(isArrayType);function checkNumberArray(Ve){if(isNaN(Ve)){if(Ve instanceof Image$1)return Ve.data;if(!isArray(Ve))throw new Error("checkNumberArray: the value should be either a number, array or Image");return Ve}else{if(Ve<=0)throw new Error("checkNumberArray: the value must be greater than 0");return Ve}}function add(Ve,je={}){let{channels:ze}=je;if(this.checkProcessable("add",{bitDepth:[8,16]}),ze=validateArrayOfChannels(this,{channels:ze}),Ve=checkNumberArray(Ve),isNaN(Ve)){if(this.data.length!==Ve.length)throw new Error("add: the data size is different");for(let qe=0;qe<ze.length;qe++){let Xe=ze[qe];for(let Ye=0;Ye<this.data.length;Ye+=this.channels)this.data[Ye+Xe]=Math.max(0,Math.min(this.maxValue,this.data[Ye+Xe]+Ve[Ye+Xe]>>0))}}else for(let qe=0;qe<ze.length;qe++){let Xe=ze[qe];for(let Ye=0;Ye<this.data.length;Ye+=this.channels)this.data[Ye+Xe]=Math.min(this.maxValue,this.data[Ye+Xe]+Ve>>0)}return this}function subtract(Ve,je={}){let{channels:ze}=je;if(this.checkProcessable("subtract",{bitDepth:[8,16]}),ze=validateArrayOfChannels(this,{channels:ze}),Ve=checkNumberArray(Ve),isNaN(Ve)){if(this.data.length!==Ve.length)throw new Error("subtract: the data size is different");for(let qe=0;qe<ze.length;qe++){let Xe=ze[qe];for(let Ye=0;Ye<this.data.length;Ye+=this.channels)this.data[Ye+Xe]=Math.max(0,Math.min(this.maxValue,this.data[Ye+Xe]-Ve[Ye+Xe]>>0))}}else for(let qe=0;qe<ze.length;qe++){let Xe=ze[qe];for(let Ye=0;Ye<this.data.length;Ye+=this.channels)this.data[Ye+Xe]=Math.max(0,this.data[Ye+Xe]-Ve>>0)}return this}function subtractImage(Ve,je={}){let{channels:ze,absolute:qe=!1}=je;if(this.checkProcessable("subtractImage",{bitDepth:[8,16]}),this.width!==Ve.width||this.height!==Ve.height)throw new Error("subtractImage: both images must have the same size");if(this.alpha!==Ve.alpha||this.bitDepth!==Ve.bitDepth)throw new Error("subtractImage: both images must have the same alpha and bitDepth");if(this.channels!==Ve.channels)throw new Error("subtractImage: both images must have the same number of channels");let Xe=this.clone();ze=validateArrayOfChannels(this,{channels:ze});for(let Ye=0;Ye<ze.length;Ye++){let Ke=ze[Ye];for(let Ze=Ke;Ze<this.data.length;Ze+=this.channels){let Qe=this.data[Ze]-Ve.data[Ze];qe?Xe.data[Ze]=Math.abs(Qe):Xe.data[Ze]=Math.max(Qe,0)}}return Xe}function hypotenuse(Ve,je={}){let{bitDepth:ze=this.bitDepth,channels:qe}=je;if(this.checkProcessable("hypotenuse",{bitDepth:[8,16,32]}),this.width!==Ve.width||this.height!==Ve.height)throw new Error("hypotenuse: both images must have the same size");if(this.alpha!==Ve.alpha||this.bitDepth!==Ve.bitDepth)throw new Error("hypotenuse: both images must have the same alpha and bitDepth");if(this.channels!==Ve.channels)throw new Error("hypotenuse: both images must have the same number of channels");let Xe=Image$1.createFrom(this,{bitDepth:ze});qe=validateArrayOfChannels(this,{channels:qe});let Ye=Xe.isClamped;for(let Ke=0;Ke<qe.length;Ke++){let Ze=qe[Ke];for(let Qe=Ze;Qe<this.data.length;Qe+=this.channels){let Je=Math.hypot(this.data[Qe],Ve.data[Qe]);Ye?Xe.data[Qe]=Math.min(Math.max(Math.round(Je),0),Xe.maxValue):Xe.data[Qe]=Je}}return Xe}function multiply(Ve,je={}){let{channels:ze}=je;if(this.checkProcessable("multiply",{bitDepth:[8,16]}),Ve<=0)throw new Error("multiply: the value must be greater than 0");if(ze=validateArrayOfChannels(this,{channels:ze}),Ve=checkNumberArray(Ve),isNaN(Ve)){if(this.data.length!==Ve.length)throw new Error("multiply: the data size is different");for(let qe=0;qe<ze.length;qe++){let Xe=ze[qe];for(let Ye=0;Ye<this.data.length;Ye+=this.channels)this.data[Ye+Xe]=Math.max(0,Math.min(this.maxValue,this.data[Ye+Xe]*Ve[Ye+Xe]>>0))}}else for(let qe=0;qe<ze.length;qe++){let Xe=ze[qe];for(let Ye=0;Ye<this.data.length;Ye+=this.channels)this.data[Ye+Xe]=Math.min(this.maxValue,this.data[Ye+Xe]*Ve>>0)}return this}function divide(Ve,je={}){let{channels:ze}=je;if(this.checkProcessable("divide",{bitDepth:[8,16]}),ze=validateArrayOfChannels(this,{channels:ze}),Ve=checkNumberArray(Ve),isNaN(Ve)){if(this.data.length!==Ve.length)throw new Error("divide: the: the data size is different");for(let qe=0;qe<ze.length;qe++){let Xe=ze[qe];for(let Ye=0;Ye<this.data.length;Ye+=this.channels)this.data[Ye+Xe]=Math.max(0,Math.min(this.maxValue,this.data[Ye+Xe]/Ve[Ye+Xe]>>0))}}else for(let qe=0;qe<ze.length;qe++){let Xe=ze[qe];for(let Ye=0;Ye<this.data.length;Ye+=this.channels)this.data[Ye+Xe]=Math.min(this.maxValue,this.data[Ye+Xe]/Ve>>0)}return this}class BaseRegression{constructor(){if(new.target===BaseRegression)throw new Error("BaseRegression must be subclassed")}predict(je){if(typeof je=="number")return this._predict(je);if(isAnyArray$1(je)){const ze=[];for(let qe=0;qe<je.length;qe++)ze.push(this._predict(je[qe]));return ze}else throw new TypeError("x must be a number or array")}_predict(){throw new Error("_predict must be implemented")}train(){}toString(){return""}toLaTeX(){return""}score(je,ze){if(!isAnyArray$1(je)||!isAnyArray$1(ze)||je.length!==ze.length)throw new Error("x and y must be arrays of the same length");const qe=je.length,Xe=new Array(qe);for(let ii=0;ii<qe;ii++)Xe[ii]=this._predict(je[ii]);let Ye=0,Ke=0,Ze=0,Qe=0,Je=0,St=0,ei=0;for(let ii=0;ii<qe;ii++)Ye+=Xe[ii],Ke+=ze[ii],Je+=Xe[ii]*Xe[ii],St+=ze[ii]*ze[ii],ei+=Xe[ii]*ze[ii],ze[ii]!==0&&(Ze+=(ze[ii]-Xe[ii])*(ze[ii]-Xe[ii])/ze[ii]),Qe+=(ze[ii]-Xe[ii])*(ze[ii]-Xe[ii]);const ti=(qe*ei-Ye*Ke)/Math.sqrt((qe*Je-Ye*Ye)*(qe*St-Ke*Ke));return{r:ti,r2:ti*ti,chi2:Ze,rmsd:Math.sqrt(Qe/qe)}}}function squaredEuclidean$4(Ve,je){let ze=0;for(let qe=0;qe<Ve.length;qe++)ze+=(Ve[qe]-je[qe])*(Ve[qe]-je[qe]);return ze}function euclidean$2(Ve,je){return Math.sqrt(squaredEuclidean$4(Ve,je))}const euclidean$3=Object.freeze(Object.defineProperty({__proto__:null,euclidean:euclidean$2,squaredEuclidean:squaredEuclidean$4},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(euclidean$3),{squaredEuclidean:squaredEuclidean$3}=require$$0,defaultOptions$b={sigma:1};let GaussianKernel$1=class{constructor(Ve){Ve=Object.assign({},defaultOptions$b,Ve),this.sigma=Ve.sigma,this.divisor=2*Ve.sigma*Ve.sigma}compute(Ve,je){const ze=squaredEuclidean$3(Ve,je);return Math.exp(-ze/this.divisor)}};var gaussianKernel=GaussianKernel$1;const defaultOptions$a={degree:1,constant:1,scale:1};let PolynomialKernel$1=class{constructor(Ve){Ve=Object.assign({},defaultOptions$a,Ve),this.degree=Ve.degree,this.constant=Ve.constant,this.scale=Ve.scale}compute(Ve,je){for(var ze=0,qe=0;qe<Ve.length;qe++)ze+=Ve[qe]*je[qe];return Math.pow(this.scale*ze+this.constant,this.degree)}};var polynomialKernel=PolynomialKernel$1;const defaultOptions$9={alpha:.01,constant:-Math.E};let SigmoidKernel$1=class{constructor(Ve){Ve=Object.assign({},defaultOptions$9,Ve),this.alpha=Ve.alpha,this.constant=Ve.constant}compute(Ve,je){for(var ze=0,qe=0;qe<Ve.length;qe++)ze+=Ve[qe]*je[qe];return Math.tanh(this.alpha*ze+this.constant)}};var sigmoidKernel=SigmoidKernel$1;const defaultOptions$8={sigma:1,degree:1};let ANOVAKernel$1=class{constructor(Ve){Ve=Object.assign({},defaultOptions$8,Ve),this.sigma=Ve.sigma,this.degree=Ve.degree}compute(Ve,je){for(var ze=0,qe=Math.min(Ve.length,je.length),Xe=1;Xe<=qe;++Xe)ze+=Math.pow(Math.exp(-this.sigma*Math.pow(Math.pow(Ve[Xe-1],Xe)-Math.pow(je[Xe-1],Xe),2)),this.degree);return ze}};var anovaKernel=ANOVAKernel$1;const{squaredEuclidean:squaredEuclidean$2}=require$$0,defaultOptions$7={sigma:1};let CauchyKernel$1=class{constructor(Ve){Ve=Object.assign({},defaultOptions$7,Ve),this.sigma=Ve.sigma}compute(Ve,je){return 1/(1+squaredEuclidean$2(Ve,je)/(this.sigma*this.sigma))}};var cauchyKernel=CauchyKernel$1;const{euclidean:euclidean$1}=require$$0,defaultOptions$6={sigma:1};let ExponentialKernel$1=class{constructor(Ve){Ve=Object.assign({},defaultOptions$6,Ve),this.sigma=Ve.sigma,this.divisor=2*Ve.sigma*Ve.sigma}compute(Ve,je){const ze=euclidean$1(Ve,je);return Math.exp(-ze/this.divisor)}};var exponentialKernel=ExponentialKernel$1;class HistogramIntersectionKernel{compute(je,ze){for(var qe=Math.min(je.length,ze.length),Xe=0,Ye=0;Ye<qe;++Ye)Xe+=Math.min(je[Ye],ze[Ye]);return Xe}}var histogramIntersectionKernel=HistogramIntersectionKernel;const{euclidean}=require$$0,defaultOptions$5={sigma:1};let LaplacianKernel$1=class{constructor(Ve){Ve=Object.assign({},defaultOptions$5,Ve),this.sigma=Ve.sigma}compute(Ve,je){const ze=euclidean(Ve,je);return Math.exp(-ze/this.sigma)}};var laplacianKernel=LaplacianKernel$1;const{squaredEuclidean:squaredEuclidean$1}=require$$0,defaultOptions$4={constant:1};let MultiquadraticKernel$1=class{constructor(Ve){Ve=Object.assign({},defaultOptions$4,Ve),this.constant=Ve.constant}compute(Ve,je){return Math.sqrt(squaredEuclidean$1(Ve,je)+this.constant*this.constant)}};var multiquadraticKernel=MultiquadraticKernel$1;const{squaredEuclidean}=require$$0,defaultOptions$3={constant:1};class RationalQuadraticKernel{constructor(je){je=Object.assign({},defaultOptions$3,je),this.constant=je.constant}compute(je,ze){const qe=squaredEuclidean(je,ze);return 1-qe/(qe+this.constant)}}var rationalQuadraticKernel=RationalQuadraticKernel;const{Matrix:Matrix$1,MatrixTransposeView}=matrix,GaussianKernel=gaussianKernel,PolynomialKernel=polynomialKernel,SigmoidKernel=sigmoidKernel,ANOVAKernel=anovaKernel,CauchyKernel=cauchyKernel,ExponentialKernel=exponentialKernel,HistogramKernel=histogramIntersectionKernel,LaplacianKernel=laplacianKernel,MultiquadraticKernel=multiquadraticKernel,RationalKernel=rationalQuadraticKernel,kernelType={gaussian:GaussianKernel,rbf:GaussianKernel,polynomial:PolynomialKernel,poly:PolynomialKernel,anova:ANOVAKernel,cauchy:CauchyKernel,exponential:ExponentialKernel,histogram:HistogramKernel,min:HistogramKernel,laplacian:LaplacianKernel,multiquadratic:MultiquadraticKernel,rational:RationalKernel,sigmoid:SigmoidKernel,mlp:SigmoidKernel};class Kernel{constructor(je,ze){if(this.kernelType=je,je!=="linear")if(typeof je=="string"){je=je.toLowerCase();var qe=kernelType[je];if(qe)this.kernelFunction=new qe(ze);else throw new Error(`unsupported kernel type: ${je}`)}else if(typeof je=="object"&&typeof je.compute=="function")this.kernelFunction=je;else throw new TypeError("first argument must be a valid kernel type or instance")}compute(je,ze){if(je=Matrix$1.checkMatrix(je),ze===void 0?ze=je:ze=Matrix$1.checkMatrix(ze),this.kernelType==="linear")return je.mmul(new MatrixTransposeView(ze));const qe=new Matrix$1(je.rows,ze.rows);if(je===ze)for(let Xe=0;Xe<je.rows;Xe++)for(let Ye=Xe;Ye<je.rows;Ye++){const Ke=this.kernelFunction.compute(je.getRow(Xe),je.getRow(Ye));qe.set(Xe,Ye,Ke),qe.set(Ye,Xe,Ke)}else for(let Xe=0;Xe<je.rows;Xe++)for(let Ye=0;Ye<ze.rows;Ye++)qe.set(Xe,Ye,this.kernelFunction.compute(je.getRow(Xe),ze.getRow(Ye)));return qe}}var kernel=Kernel;const Kernel$1=getDefaultExportFromCjs$1(kernel),defaultOptions$2={lambda:.1,kernelType:"gaussian",kernelOptions:{},computeCoefficient:!1};class KernelRidgeRegression extends BaseRegression{constructor(je,ze,qe){if(super(),je===!0)this.alpha=ze.alpha,this.inputs=ze.inputs,this.kernelType=ze.kernelType,this.kernelOptions=ze.kernelOptions,this.kernel=new Kernel$1(ze.kernelType,ze.kernelOptions);else{je=Matrix$2.checkMatrix(je),qe=Object.assign({},defaultOptions$2,qe);const Xe=new Kernel$1(qe.kernelType,qe.kernelOptions),Ye=Xe.compute(je),Ke=je.rows;Ye.add(Matrix$2.eye(Ke,Ke).mul(qe.lambda)),this.alpha=solve(Ye,ze),this.inputs=je,this.kernelType=qe.kernelType,this.kernelOptions=qe.kernelOptions,this.kernel=Xe}}_predict(je){return this.kernel.compute([je],this.inputs).mmul(this.alpha).getRow(0)}toJSON(){return{name:"kernelRidgeRegression",alpha:this.alpha,inputs:this.inputs,kernelType:this.kernelType,kernelOptions:this.kernelOptions}}static load(je){if(je.name!=="kernelRidgeRegression")throw new TypeError("not a KRR model");return new KernelRidgeRegression(!0,je)}}function background$1(Ve,je,ze){const qe=new KernelRidgeRegression(Ve,je,ze),Xe=new Array(this.size);for(let Ze=0;Ze<this.width;Ze++)for(let Qe=0;Qe<this.height;Qe++)Xe[Qe*this.width+Ze]=[Ze,Qe];const Ye=qe.predict(Xe),Ke=Image$1.createFrom(this);for(let Ze=0;Ze<this.size;Ze++)Ke.data[Ze]=Math.min(this.maxValue,Math.max(0,Ye[Ze][0]));return Ke}function dilate(Ve={}){let{kernel:je=[[1,1,1],[1,1,1],[1,1,1]],iterations:ze=1}=Ve;if(this.checkProcessable("dilate",{bitDepth:[1,8,16],components:1,alpha:0}),je.columns%2===0||je.rows%2===0)throw new TypeError("dilate: The number of rows and columns of the kernel must be odd");let qe=!0;e:for(const Ye of je)for(const Ke of Ye)if(Ke!==1){qe=!1;break e}let Xe=this;for(let Ye=0;Ye<ze;Ye++)if(this.bitDepth===1)if(qe){const Ke=Xe.clone();Xe=dilateOnceBinaryOnlyOnes(Xe,Ke,je.length,je[0].length)}else{const Ke=Image$1.createFrom(Xe);Xe=dilateOnceBinary(Xe,Ke,je)}else if(qe){const Ke=Image$1.createFrom(Xe);Xe=dilateOnceGreyOnlyOnes(Xe,Ke,je.length,je[0].length)}else{const Ke=Image$1.createFrom(Xe);Xe=dilateOnceGrey(Xe,Ke,je)}return Xe}function dilateOnceGrey(Ve,je,ze){const qe=ze.length,Xe=ze[0].length;let Ye=(qe-1)/2,Ke=(Xe-1)/2;for(let Ze=0;Ze<Ve.height;Ze++)for(let Qe=0;Qe<Ve.width;Qe++){let Je=0;for(let St=0;St<Xe;St++)for(let ei=0;ei<qe;ei++){if(ze[ei][St]!==1)continue;let ti=ei-Ye+Qe,ii=St-Ke+Ze;if(ti<0||ii<0||ti>=Ve.width||ii>=Ve.height)continue;const ri=Ve.getValueXY(ti,ii,0);ri>Je&&(Je=ri)}je.setValueXY(Qe,Ze,0,Je)}return je}function dilateOnceGreyOnlyOnes(Ve,je,ze,qe){const Xe=(ze-1)/2,Ye=(qe-1)/2,Ke=[];for(let Ze=0;Ze<Ve.width;Ze++)Ke.push(0);for(let Ze=0;Ze<Ve.height;Ze++){for(let Qe=0;Qe<Ve.width;Qe++){let Je=0;for(let St=Math.max(0,Ze-Ye);St<Math.min(Ve.height,Ze+Ye+1);St++){const ei=Ve.getValueXY(Qe,St,0);ei>Je&&(Je=ei)}Ke[Qe]=Je}for(let Qe=0;Qe<Ve.width;Qe++){let Je=0;for(let St=Math.max(0,Qe-Xe);St<Math.min(Ve.width,Qe+Xe+1);St++)Ke[St]>Je&&(Je=Ke[St]);je.setValueXY(Qe,Ze,0,Je)}}return je}function dilateOnceBinary(Ve,je,ze){const qe=ze.length,Xe=ze[0].length;let Ye=(qe-1)/2,Ke=(Xe-1)/2;for(let Ze=0;Ze<Ve.height;Ze++)for(let Qe=0;Qe<Ve.width;Qe++){let Je=0;e:for(let St=0;St<Xe;St++)for(let ei=0;ei<qe;ei++){if(ze[ei][St]!==1)continue;let ti=ei-Ye+Qe,ii=St-Ke+Ze;if(!(ii<0||ti<0||ti>=Ve.width||ii>=Ve.height)&&Ve.getBitXY(ti,ii)===1){Je=1;break e}}Je===1&&je.setBitXY(Qe,Ze)}return je}function dilateOnceBinaryOnlyOnes(Ve,je,ze,qe){const Xe=(ze-1)/2,Ye=(qe-1)/2,Ke=[];for(let Ze=0;Ze<Ve.width;Ze++)Ke.push(1);for(let Ze=0;Ze<Ve.height;Ze++){for(let Qe=0;Qe<Ve.width;Qe++){Ke[Qe]=0;for(let Je=Math.max(0,Ze-Ye);Je<Math.min(Ve.height,Ze+Ye+1);Je++)if(Ve.getBitXY(Qe,Je)===1){Ke[Qe]=1;break}}for(let Qe=0;Qe<Ve.width;Qe++)if(je.getBitXY(Qe,Ze)!==1){for(let Je=Math.max(0,Qe-Xe);Je<Math.min(Ve.width,Qe+Xe+1);Je++)if(Ke[Je]===1){je.setBitXY(Qe,Ze);break}}}return je}function erode(Ve={}){let{kernel:je=[[1,1,1],[1,1,1],[1,1,1]],iterations:ze=1}=Ve;if(this.checkProcessable("erode",{bitDepth:[1,8,16],components:1,alpha:0}),je.columns%2===0||je.rows%2===0)throw new TypeError("erode: The number of rows and columns of the kernel must be odd");let qe=!0;e:for(const Ye of je)for(const Ke of Ye)if(Ke!==1){qe=!1;break e}let Xe=this;for(let Ye=0;Ye<ze;Ye++)if(this.bitDepth===1)if(qe){const Ke=Xe.clone();Xe=erodeOnceBinaryOnlyOnes(Xe,Ke,je.length,je[0].length)}else{const Ke=Image$1.createFrom(Xe);Xe=erodeOnceBinary(Xe,Ke,je)}else if(qe){const Ke=Image$1.createFrom(Xe);Xe=erodeOnceGreyOnlyOnes(Xe,Ke,je.length,je[0].length)}else{const Ke=Image$1.createFrom(Xe);Xe=erodeOnceGrey(Xe,Ke,je)}return Xe}function erodeOnceGrey(Ve,je,ze){const qe=ze.length,Xe=ze[0].length;let Ye=(qe-1)/2,Ke=(Xe-1)/2;for(let Ze=0;Ze<Ve.height;Ze++)for(let Qe=0;Qe<Ve.width;Qe++){let Je=Ve.maxValue;for(let St=0;St<Xe;St++)for(let ei=0;ei<qe;ei++){if(ze[ei][St]!==1)continue;let ti=ei-Ye+Qe,ii=St-Ke+Ze;if(ti<0||ii<0||ti>=Ve.width||ii>=Ve.height)continue;const ri=Ve.getValueXY(ti,ii,0);ri<Je&&(Je=ri)}je.setValueXY(Qe,Ze,0,Je)}return je}function erodeOnceGreyOnlyOnes(Ve,je,ze,qe){const Xe=(ze-1)/2,Ye=(qe-1)/2,Ke=[];for(let Ze=0;Ze<Ve.width;Ze++)Ke.push(0);for(let Ze=0;Ze<Ve.height;Ze++){for(let Qe=0;Qe<Ve.width;Qe++){let Je=Ve.maxValue;for(let St=Math.max(0,Ze-Ye);St<Math.min(Ve.height,Ze+Ye+1);St++){const ei=Ve.getValueXY(Qe,St,0);ei<Je&&(Je=ei)}Ke[Qe]=Je}for(let Qe=0;Qe<Ve.width;Qe++){let Je=Ve.maxValue;for(let St=Math.max(0,Qe-Xe);St<Math.min(Ve.width,Qe+Xe+1);St++)Ke[St]<Je&&(Je=Ke[St]);je.setValueXY(Qe,Ze,0,Je)}}return je}function erodeOnceBinary(Ve,je,ze){const qe=ze.length,Xe=ze[0].length;let Ye=(qe-1)/2,Ke=(Xe-1)/2;for(let Ze=0;Ze<Ve.height;Ze++)for(let Qe=0;Qe<Ve.width;Qe++){let Je=1;e:for(let St=0;St<Xe;St++)for(let ei=0;ei<qe;ei++){if(ze[ei][St]!==1)continue;let ti=ei-Ye+Qe,ii=St-Ke+Ze;if(!(ii<0||ti<0||ti>=Ve.width||ii>=Ve.height)&&Ve.getBitXY(ti,ii)===0){Je=0;break e}}Je===1&&je.setBitXY(Qe,Ze)}return je}function erodeOnceBinaryOnlyOnes(Ve,je,ze,qe){const Xe=(ze-1)/2,Ye=(qe-1)/2,Ke=[];for(let Ze=0;Ze<Ve.width;Ze++)Ke.push(0);for(let Ze=0;Ze<Ve.height;Ze++){for(let Qe=0;Qe<Ve.width;Qe++){Ke[Qe]=1;for(let Je=Math.max(0,Ze-Ye);Je<Math.min(Ve.height,Ze+Ye+1);Je++)if(Ve.getBitXY(Qe,Je)===0){Ke[Qe]=0;break}}for(let Qe=0;Qe<Ve.width;Qe++)if(je.getBitXY(Qe,Ze)!==0){for(let Je=Math.max(0,Qe-Xe);Je<Math.min(Ve.width,Qe+Xe+1);Je++)if(Ke[Je]===0){je.clearBitXY(Qe,Ze);break}}}return je}function open$1(Ve={}){let{kernel:je=[[1,1,1],[1,1,1],[1,1,1]],iterations:ze=1}=Ve;if(this.checkProcessable("open",{bitDepth:[8,16],components:1,alpha:0}),je.columns%2===0||je.rows%2===0)throw new TypeError("open: The number of rows and columns of the kernel must be odd");let qe=this;for(let Xe=0;Xe<ze;Xe++)qe=qe.erode({kernel:je}),qe=qe.dilate({kernel:je});return qe}function close(Ve={}){let{kernel:je=[[1,1,1],[1,1,1],[1,1,1]],iterations:ze=1}=Ve;if(this.checkProcessable("close",{bitDepth:[1,8,16],components:1,alpha:0}),je.columns%2===0||je.rows%2===0)throw new TypeError("close: The number of rows and columns of the kernel must be odd");let qe=this;for(let Xe=0;Xe<ze;Xe++)qe=qe.dilate({kernel:je}).erode({kernel:je});return qe}function topHat(Ve={}){let{kernel:je=[[1,1,1],[1,1,1],[1,1,1]],iterations:ze=1}=Ve;if(this.checkProcessable("topHat",{bitDepth:[8,16],components:1,alpha:0}),je.length%2===0||je[0].length%2===0)throw new TypeError("topHat: The number of rows and columns of the kernel must be odd");let qe=this;for(let Xe=0;Xe<ze;Xe++)qe=qe.open({kernel:je}).subtractImage(qe,{absolute:!0});return qe}function blackHat(Ve={}){let{kernel:je=[[1,1,1],[1,1,1],[1,1,1]],iterations:ze=1}=Ve;if(this.checkProcessable("blackHat",{bitDepth:[8,16],components:1,alpha:0}),je.columns%2===0||je.rows%2===0)throw new TypeError("blackHat: The number of rows and columns of the kernel must be odd");let qe=this;for(let Xe=0;Xe<ze;Xe++)qe=qe.close({kernel:je}).subtractImage(qe,{absolute:!0});return qe}function morphologicalGradient(Ve={}){let{kernel:je=[[1,1,1],[1,1,1],[1,1,1]],iterations:ze=1}=Ve;if(this.checkProcessable("morphologicalGradient",{bitDepth:[8,16],components:1,alpha:0}),je.columns%2===0||je.rows%2===0)throw new TypeError("morphologicalGradient: The number of rows and columns of the kernel must be odd");let qe=this;for(let Xe=0;Xe<ze;Xe++){let Ye=qe.dilate({kernel:je}),Ke=qe.erode({kernel:je});qe=Ye.subtractImage(Ke,{absolute:!0})}return qe}function order4Points(Ve){let je=0,ze=0,qe=0,Xe=0,Ye=Ve[0][0],Ke=0;for(let Je=1;Je<Ve.length;Je++)Ve[Je][0]<Ye&&(Ye=Ve[Je][0],Ke=Je);let Ze=Ve[(Ke+1)%Ve.length][0],Qe=(Ke+1)%Ve.length;for(let Je=1;Je<Ve.length;Je++)Ve[Je][0]<Ze&&Je!==Ke&&(Ze=Ve[Je][0],Qe=Je);return Ve[Qe][1]<Ve[Ke][1]?(je=Ve[Qe],Xe=Ve[Ke],Ke!==(Qe+1)%4?(ze=Ve[(Qe+1)%4],qe=Ve[(Qe+2)%4]):(ze=Ve[(Qe+2)%4],qe=Ve[(Qe+3)%4])):(Xe=Ve[Qe],je=Ve[Ke],Qe!==(Ke+1)%4?(ze=Ve[(Ke+1)%4],qe=Ve[(Ke+2)%4]):(ze=Ve[(Ke+2)%4],qe=Ve[(Ke+3)%4])),[je,ze,qe,Xe]}function distance2Points(Ve,je){return Math.sqrt(Math.pow(Ve[0]-je[0],2)+Math.pow(Ve[1]-je[1],2))}function crossVect(Ve,je){return[Ve[1]*je[2]-Ve[2]*je[1],Ve[2]*je[0]-Ve[0]*je[2],Ve[0]*je[1]-Ve[1]*je[0]]}function dotVect(Ve,je){return Ve[0]*je[0]+Ve[1]*je[1]+Ve[2]*je[2]}function computeWidthAndHeigth(Ve,je,ze,qe,Xe,Ye){let Ke=Math.max(distance2Points(Ve,je),distance2Points(qe,ze)),Ze=Math.max(distance2Points(Ve,qe),distance2Points(je,ze)),Qe=0,Je=0,St=Math.ceil(Xe/2),ei=Math.ceil(Ye/2),ti=Ke/Ze,ii=[Ve[0],Ve[1],1],ri=[je[0],je[1],1],si=[qe[0],qe[1],1],ui=[ze[0],ze[1],1],ai=dotVect(crossVect(ii,ui),si)/dotVect(crossVect(ri,ui),si),oi=dotVect(crossVect(ii,ui),ri)/dotVect(crossVect(si,ui),ri),ni=[ai*ri[0]-ii[0],ai*ri[1]-ii[1],ai*ri[2]-ii[2]],ci=[oi*si[0]-ii[0],oi*si[1]-ii[1],oi*si[2]-ii[2]],hi=ni[0],di=ni[1],fi=ni[2],mi=ci[0],pi=ci[1],wi=ci[2],gi=1/(fi*wi)*(hi*mi-(hi*wi+fi*mi)*St+fi*wi*St*St+(di*pi-(di*wi+fi*pi)*ei+fi*wi*ei*ei));gi>=0?gi=Math.sqrt(gi):gi=Math.sqrt(-gi);let yi=new Matrix$2([[gi,0,St],[0,gi,ei],[0,0,1]]),Ai=yi.transpose(),Si=inverse(Ai),ki=inverse(yi),Li=Matrix$2.rowVector(ni),Bi=Matrix$2.rowVector(ci),Pi=Math.sqrt(dotVect(Li.mmul(Si).mmul(ki).to1DArray(),ni)/dotVect(Bi.mmul(Si).mmul(ki).to1DArray(),ci));return Pi===0||ti===0?(Qe=Math.ceil(Ke),Je=Math.ceil(Ze)):Pi<ti?(Qe=Math.ceil(Ke),Je=Math.ceil(Qe/Pi)):(Je=Math.ceil(Ze),Qe=Math.ceil(Pi*Je)),[Qe,Je]}function projectionPoint(Ve,je,ze,qe,Xe,Ye,Ke,Ze,Qe,Je,St,ei){let[ti,ii]=[(ze*Ve+qe*je+Xe)/(Qe*Ve+Je*je+1),(Ye*Ve+Ke*je+Ze)/(Qe*Ve+Je*je+1)];return St.getValueXY(Math.floor(ti),Math.floor(ii),ei)}function warpingFourPoints(Ve,je={}){let{calculateRatio:ze=!0}=je;if(Ve.length!==4)throw new Error(`The array pts must have four elements, which are the four corners. Currently, pts have ${Ve.length} elements`);let[qe,Xe,Ye,Ke]=Ve,Ze=[qe,Xe,Ye,Ke],[Qe,Je,St,ei]=order4Points(Ze),ti,ii;ze?[ti,ii]=computeWidthAndHeigth(Qe,Je,St,ei,this.width,this.height):(ti=Math.ceil(Math.max(distance2Points(Qe,Je),distance2Points(ei,St))),ii=Math.ceil(Math.max(distance2Points(Qe,ei),distance2Points(Je,St))));let ri=Image$1.createFrom(this,{width:ti,height:ii}),[si,ui]=Qe,[ai,oi]=Je,[ni,ci]=St,[hi,di]=ei,[fi,mi]=[0,0],[pi,wi]=[0,ti-1],[gi,yi]=[ii-1,ti-1],[Ai,Si]=[ii-1,0],ki=new Matrix$2([[fi,mi,1,0,0,0,-fi*si,-mi*si],[pi,wi,1,0,0,0,-pi*ai,-wi*ai],[gi,yi,1,0,0,0,-gi*ni,-mi*ni],[Ai,Si,1,0,0,0,-Ai*hi,-Si*hi],[0,0,0,fi,mi,1,-fi*ui,-mi*ui],[0,0,0,pi,wi,1,-pi*oi,-wi*oi],[0,0,0,gi,yi,1,-gi*ci,-yi*ci],[0,0,0,Ai,Si,1,-Ai*di,-Si*di]]),Li=Matrix$2.columnVector([si,ai,ni,hi,ui,oi,ci,di]),Bi=new SingularValueDecomposition(ki).solve(Li),[Pi,Ri,Fi,Gi,Ti,Vi,Ui,$i]=Bi.to1DArray(),Wi=new Matrix$2(ii,ti);for(let tn=0;tn<this.channels;tn++){for(let nn=0;nn<ii;nn++)for(let Qi=0;Qi<ti;Qi++)Wi.set(nn,Qi,projectionPoint(nn,Qi,Pi,Ri,Fi,Gi,Ti,Vi,Ui,$i,this,tn));ri.setMatrix(Wi,{channel:tn})}return ri}function crop(Ve={}){let{x:je=0,y:ze=0,width:qe=this.width-je,height:Xe=this.height-ze}=Ve;if(this.checkProcessable("crop",{bitDepth:[1,8,16]}),je=Math.round(je),ze=Math.round(ze),qe=Math.round(qe),Xe=Math.round(Xe),je>this.width-1||ze>this.height-1)throw new RangeError(`crop: origin (x:${je}, y:${ze}) out of range (${this.width-1}; ${this.height-1})`);if(qe<=0||Xe<=0)throw new RangeError(`crop: width and height (width:${qe}; height:${Xe}) must be positive numbers`);if(je<0||ze<0)throw new RangeError(`crop: x and y (x:${je}, y:${ze}) must be positive numbers`);if(qe>this.width-je||Xe>this.height-ze)throw new RangeError(`crop: (x: ${je}, y:${ze}, width:${qe}, height:${Xe}) size is out of range`);let Ye=this;if(this.bitDepth===1){const Ke=new Image$1(qe,Xe,{kind:"BINARY",parent:this});Ye=cropBinary(this,Ke,je,ze,qe,Xe)}else{const Ke=Image$1.createFrom(this,{width:qe,height:Xe,position:[je,ze]});Ye=cropDefault(this,Ke,je,ze,qe,Xe)}return Ye}function cropDefault(Ve,je,ze,qe,Xe,Ye){let Ke=Xe*Ve.channels,Ze=qe+Ye,Qe=0,Je=ze*Ve.channels;for(let St=qe;St<Ze;St++){let ei=St*Ve.width*Ve.channels+Je,ti=ei+Ke;for(;ei<ti;ei++)je.data[Qe++]=Ve.data[ei]}return je}function cropBinary(Ve,je,ze,qe,Xe,Ye){let Ke=Xe*Ve.channels,Ze=qe+Ye,Qe=0,Je=ze*Ve.channels;for(let St=qe;St<Ze;St++){let ei=St*Ve.width*Ve.channels+Je,ti=ei+Ke;for(;ei<ti;ei++)Ve.getBit(ei)&&je.setBit(Qe),++Qe}return je}function cropAlpha(Ve={}){this.checkProcessable("cropAlpha",{alpha:1});const{threshold:je=this.maxValue}=Ve;let ze=findLeft(this,je,this.components);if(ze===-1)throw new Error("Could not find new dimensions. Threshold may be too high.");let qe=findTop(this,je,this.components,ze),Xe=findBottom(this,je,this.components,ze),Ye=findRight(this,je,this.components,ze,qe,Xe);return this.crop({x:ze,y:qe,width:Ye-ze+1,height:Xe-qe+1})}function findLeft(Ve,je,ze){for(let qe=0;qe<Ve.width;qe++)for(let Xe=0;Xe<Ve.height;Xe++)if(Ve.getValueXY(qe,Xe,ze)>=je)return qe;return-1}function findTop(Ve,je,ze,qe){for(let Xe=0;Xe<Ve.height;Xe++)for(let Ye=qe;Ye<Ve.width;Ye++)if(Ve.getValueXY(Ye,Xe,ze)>=je)return Xe;return-1}function findBottom(Ve,je,ze,qe){for(let Xe=Ve.height-1;Xe>=0;Xe--)for(let Ye=qe;Ye<Ve.width;Ye++)if(Ve.getValueXY(Ye,Xe,ze)>=je)return Xe;return-1}function findRight(Ve,je,ze,qe,Xe,Ye){for(let Ke=Ve.width-1;Ke>=qe;Ke--)for(let Ze=Xe;Ze<=Ye;Ze++)if(Ve.getValueXY(Ke,Ze,ze)>=je)return Ke;return-1}function getFactor(Ve){if(typeof Ve=="string"){const je=Ve[Ve.length-1];Ve=parseFloat(Ve),je==="%"&&(Ve/=100)}return Ve}function getThreshold$1(Ve,je){if(!je)throw Error("getThreshold : the maxValue should be specified");if(typeof Ve=="string"){if(Ve[Ve.length-1]!=="%")throw Error("getThreshold : if the value is a string it must finish by %");return parseFloat(Ve)/100*je}else{if(typeof Ve=="number")return Ve<1?Ve*je:Ve;throw Error("getThreshold : the value is not valid")}}function factorDimensions(Ve,je,ze){Ve=getFactor(Ve);let qe=Math.round(Ve*je),Xe=Math.round(Ve*ze);return qe<=0&&(qe=1),Xe<=0&&(Xe=1),{width:qe,height:Xe}}function checkRow(Ve,je){if(je<0||je>=Ve.height)throw new RangeError(`row must be included between 0 and ${Ve.height-1}. Current value: ${je}`)}function checkColumn(Ve,je){if(je<0||je>=Ve.width)throw new RangeError(`column must be included between 0 and ${Ve.width-1}. Current value: ${je}`)}function checkChannel(Ve,je){if(je<0||je>=Ve.channels)throw new RangeError(`channel must be included between 0 and ${Ve.channels-1}. Current value: ${je}`)}const validInterpolations={nearestneighbor:"nearestNeighbor",nearestneighbour:"nearestNeighbor",bilinear:"bilinear"};function checkInterpolation(Ve){if(typeof Ve!="string")throw new TypeError("interpolation must be a string");if(Ve=Ve.toLowerCase(),!validInterpolations[Ve])throw new RangeError(`invalid interpolation algorithm: ${Ve}`);return validInterpolations[Ve]}function nearestNeighbor(Ve,je,ze){const qe=this.width/je,Xe=this.height/ze;if(this.bitDepth>1)for(let Ye=0;Ye<je;Ye++){const Ke=Math.floor((Ye+.5)*qe);for(let Ze=0;Ze<ze;Ze++){const Qe=Math.floor((Ze+.5)*Xe);for(let Je=0;Je<this.channels;Je++)Ve.setValueXY(Ye,Ze,Je,this.getValueXY(Ke,Qe,Je))}}else for(let Ye=0;Ye<je;Ye++){const Ke=Math.floor((Ye+.5)*qe);for(let Ze=0;Ze<ze;Ze++){const Qe=Math.floor((Ze+.5)*Xe);this.getBitXY(Ke,Qe)&&Ve.setBitXY(Ye,Ze)}}}function resize(Ve={}){const{factor:je=1,interpolation:ze=validInterpolations.nearestneighbor,preserveAspectRatio:qe=!0}=Ve,Xe=checkInterpolation(ze);let Ye=Ve.width,Ke=Ve.height;if(Ye||(Ke&&qe?Ye=Math.round(Ke*(this.width/this.height)):Ye=this.width),Ke||(qe?Ke=Math.round(Ye*(this.height/this.width)):Ke=this.height),{width:Ye,height:Ke}=factorDimensions(je,Ye,Ke),Ye===this.width&&Ke===this.height){const St=this.clone();return St.position=[0,0],St}let Ze=Math.round((this.width-Ye)/2),Qe=Math.round((this.height-Ke)/2);const Je=Image$1.createFrom(this,{width:Ye,height:Ke,position:[Ze,Qe]});switch(Xe){case validInterpolations.nearestneighbor:nearestNeighbor.call(this,Je,Ye,Ke);break;default:throw new Error(`unsupported resize interpolation: ${Xe}`)}return Je}function hsv(){this.checkProcessable("hsv",{bitDepth:[8,16],alpha:[0,1],colorModel:[RGB$1]});let Ve=Image$1.createFrom(this,{colorModel:HSV}),je=0,ze=this.data;for(let qe=0;qe<ze.length;qe+=this.channels){let Xe=ze[qe],Ye=ze[qe+1],Ke=ze[qe+2],Ze=Math.min(Xe,Ye,Ke),Qe=Math.max(Xe,Ye,Ke),Je=Qe-Ze,St=0,ei=Qe===0?0:Je/Qe,ti=Qe;if(Qe!==Ze){switch(Qe){case Xe:St=(Ye-Ke)/Je+(Ye<Ke?6:0);break;case Ye:St=(Ke-Xe)/Je+2;break;case Ke:St=(Xe-Ye)/Je+4;break;default:throw new Error("unreachable")}St/=6}Ve.data[je++]=St*this.maxValue,Ve.data[je++]=ei*this.maxValue,Ve.data[je++]=ti,this.alpha&&(Ve.data[je++]=ze[qe+3])}return Ve}function hsl$1(){this.checkProcessable("hsl",{bitDepth:[8,16],alpha:[0,1],colorModel:[RGB$1]});let Ve=Image$1.createFrom(this,{colorModel:HSL}),je=Math.floor(this.maxValue/2),ze=0,qe=this.data;for(let Xe=0;Xe<qe.length;Xe+=this.channels){let Ye=qe[Xe],Ke=qe[Xe+1],Ze=qe[Xe+2],Qe=Math.max(Ye,Ke,Ze),Je=Math.min(Ye,Ke,Ze),St=0,ei=0,ti=(Qe+Je)/2;if(Qe!==Je){let ii=Qe-Je;switch(ei=ti>je?ii/(2-Qe-Je):ii/(Qe+Je),Qe){case Ye:St=(Ke-Ze)/ii+(Ke<Ze?6:0);break;case Ke:St=(Ze-Ye)/ii+2;break;case Ze:St=(Ye-Ke)/ii+4;break;default:throw new Error("unreachable")}St/=6}Ve.data[ze++]=St*this.maxValue,Ve.data[ze++]=ei*this.maxValue,Ve.data[ze++]=ti,this.alpha&&(Ve.data[ze++]=qe[Xe+3])}return Ve}function cmyk(){this.checkProcessable("cmyk",{bitDepth:[8,16],alpha:[0,1],colorModel:[RGB$1]});let Ve=Image$1.createFrom(this,{components:4,colorModel:CMYK$1}),je=0,ze=this.data;for(let qe=0;qe<ze.length;qe+=this.channels){let Xe=ze[qe],Ye=ze[qe+1],Ke=ze[qe+2],Ze=Math.min(this.maxValue-Xe,this.maxValue-Ye,this.maxValue-Ke),Qe=(this.maxValue-Xe-Ze)/(1-Ze/this.maxValue),Je=(this.maxValue-Ye-Ze)/(1-Ze/this.maxValue),St=(this.maxValue-Ke-Ze)/(1-Ze/this.maxValue);Ve.data[je++]=Math.round(Qe),Ve.data[je++]=Math.round(Je),Ve.data[je++]=Math.round(St),Ve.data[je++]=Math.round(Ze),this.alpha&&(Ve.data[je++]=ze[qe+3])}return Ve}function rgba8(){return new Image$1(this.width,this.height,this.getRGBAData(),{kind:"RGBA",parent:this})}const methods$1={luma709(Ve,je,ze){return Ve*6966+je*23436+ze*2366>>15},luma601(Ve,je,ze){return Ve*9798+je*19235+ze*3735>>15},maximum(Ve,je,ze){return Math.max(Ve,je,ze)},minimum(Ve,je,ze){return Math.min(Ve,je,ze)},average(Ve,je,ze){return(Ve+je+ze)/3>>0},minmax(Ve,je,ze){return(Math.max(Ve,je,ze)+Math.min(Ve,je,ze))/2},red(Ve){return Ve},green(Ve,je){return je},blue(Ve,je,ze){return ze},cyan(Ve,je,ze,qe){let Xe=methods$1.black(Ve,je,ze,qe);return(qe.maxValue-Ve-Xe)/(1-Xe/qe.maxValue)>>0},magenta(Ve,je,ze,qe){let Xe=methods$1.black(Ve,je,ze,qe);return(qe.maxValue-je-Xe)/(1-Xe/qe.maxValue)>>0},yellow(Ve,je,ze,qe){let Xe=methods$1.black(Ve,je,ze,qe);return(qe.maxValue-ze-Xe)/(1-Xe/qe.maxValue)>>0},black(Ve,je,ze,qe){return Math.min(qe.maxValue-Ve,qe.maxValue-je,qe.maxValue-ze)},hue(Ve,je,ze,qe){let Xe=methods$1.min(Ve,je,ze),Ye=methods$1.max(Ve,je,ze);if(Ye===Xe)return 0;let Ke=0,Ze=Ye-Xe;switch(Ye){case Ve:Ke=(je-ze)/Ze+(je<ze?6:0);break;case je:Ke=(ze-Ve)/Ze+2;break;case ze:Ke=(Ve-je)/Ze+4;break;default:throw new Error("unreachable")}return Ke/6*qe.maxValue>>0},saturation(Ve,je,ze,qe){let Xe=methods$1.min(Ve,je,ze),Ye=methods$1.max(Ve,je,ze),Ke=Ye-Xe;return Ye===0?0:Ke/Ye*qe.maxValue},lightness(Ve,je,ze){let qe=methods$1.min(Ve,je,ze);return(methods$1.max(Ve,je,ze)+qe)/2}};Object.defineProperty(methods$1,"luminosity",{enumerable:!1,value:methods$1.lightness});Object.defineProperty(methods$1,"luminance",{enumerable:!1,value:methods$1.lightness});Object.defineProperty(methods$1,"min",{enumerable:!1,value:methods$1.minimum});Object.defineProperty(methods$1,"max",{enumerable:!1,value:methods$1.maximum});Object.defineProperty(methods$1,"brightness",{enumerable:!1,value:methods$1.maximum});Object.keys(methods$1).forEach(Ve=>{});function grey(Ve={}){let{algorithm:je="luma709",keepAlpha:ze=!1,mergeAlpha:qe=!0}=Ve;if(typeof je!="string"&&typeof je!="function")throw new TypeError("algorithm must be a string or a function");this.checkProcessable("grey",{bitDepth:[8,16],alpha:[0,1]}),this.components===1&&(je="red"),ze&=this.alpha,qe&=this.alpha,ze&&(qe=!1);let Xe=getOutputImage(this,Ve,{components:1,alpha:ze,colorModel:GREY$1}),Ye;if(typeof je=="function")Ye=je;else if(Ye=methods$1[je.toLowerCase()],!Ye)throw new Error(`unsupported grey algorithm: ${je}`);let Ke=0;for(let Ze=0;Ze<this.data.length;Ze+=this.channels)qe?Xe.data[Ke++]=clamp(Ye(this.data[Ze],this.data[Ze+1],this.data[Ze+2],this)*this.data[Ze+this.components]/this.maxValue,this):(Xe.data[Ke++]=clamp(Ye(this.data[Ze],this.data[Ze+1],this.data[Ze+2],this),this),Xe.alpha&&(Xe.data[Ke++]=this.data[Ze+this.components]));return Xe}function huang(Ve){let je=0;for(let St=0;St<Ve.length;St++)if(Ve[St]!==0){je=St;break}let ze=Ve.length-1;for(let St=Ve.length-1;St>=je;St--)if(Ve[St]!==0){ze=St;break}let qe=1/(ze-je),Xe=new Array(Ve.length),Ye=0,Ke=0;for(let St=je;St<Ve.length;St++)Ye+=St*Ve[St],Ke+=Ve[St],Xe[St]=Ye/Ke;let Ze=new Array(Ve.length);Ye=Ke=0;for(let St=ze;St>0;St--)Ye+=St*Ve[St],Ke+=Ve[St],Ze[St-1]=Ye/Ke;let Qe=-1,Je=Number.MAX_VALUE;for(let St=0;St<Ve.length;St++){let ei=0,ti;for(let ii=0;ii<=St;ii++)ti=1/(1+qe*Math.abs(ii-Xe[St])),ti<1e-6||ti>.999999||(ei+=Ve[ii]*(-ti*Math.log(ti)-(1-ti)*Math.log(1-ti)));for(let ii=St+1;ii<Ve.length;ii++)ti=1/(1+qe*Math.abs(ii-Ze[St])),ti<1e-6||ti>.999999||(ei+=Ve[ii]*(-ti*Math.log(ti)-(1-ti)*Math.log(1-ti)));ei<Je&&(Je=ei,Qe=St)}return Qe}function intermodes(Ve){let je=Ve.slice(),ze=0;for(;!bimodalTest$1(je);){let Xe=0,Ye=0,Ke=je[0];for(let Ze=0;Ze<Ve.length-1;Ze++)Xe=Ye,Ye=Ke,Ke=je[Ze+1],je[Ze]=(Xe+Ye+Ke)/3;if(je[Ve.length-1]=(Ye+Ke)/3,ze++,ze>1e4)throw new Error("Intermodes Threshold not found after 10000 iterations")}let qe=0;for(let Xe=1;Xe<Ve.length-1;Xe++)je[Xe-1]<je[Xe]&&je[Xe+1]<je[Xe]&&(qe+=Xe);return Math.floor(qe/2)}function bimodalTest$1(Ve){let je=!1,ze=0;for(let qe=1;qe<Ve.length-1;qe++)if(Ve[qe-1]<Ve[qe]&&Ve[qe+1]<Ve[qe]&&(ze++,ze>2))return!1;return ze===2&&(je=!0),je}function isodata(Ve){let je,ze,qe,Xe,Ye=0;for(let Ke=1;Ke<Ve.length;Ke++)if(Ve[Ke]>0){Ye=Ke+1;break}for(;;){je=0,qe=0;for(let Ke=0;Ke<Ye;Ke++)qe=qe+Ve[Ke],je=je+Ve[Ke]*Ke;Xe=0,ze=0;for(let Ke=Ye+1;Ke<Ve.length;Ke++)ze+=Ve[Ke],Xe+=Ve[Ke]*Ke;if(qe>0&&ze>0&&(je/=qe,Xe/=ze,Ye===Math.round((je+Xe)/2)))break;if(Ye++,Ye>Ve.length-2)throw new Error("Threshold not found")}return Ye}function li(Ve,je){let ze,qe,Xe,Ye,Ke,Ze,Qe,Je,St,ei,ti,ii;ti=.5,ei=0;for(let ri=0;ri<Ve.length;ri++)ei+=ri*Ve[ri];ei/=je,Qe=ei;do{Ze=Qe,ze=Ze+.5|0,qe=0,Ye=0;for(let ri=0;ri<=ze;ri++)qe+=ri*Ve[ri],Ye+=Ve[ri];Je=Ye===0?0:qe/Ye,Xe=0,Ke=0;for(let ri=ze+1;ri<Ve.length;ri++)Xe+=ri*Ve[ri],Ke+=Ve[ri];St=Ke===0?0:Xe/Ke,ii=(Je-St)/(Math.log(Je)-Math.log(St)),ii<-Number.EPSILON?Qe=ii-.5|0:Qe=ii+.5|0}while(Math.abs(Qe-Ze)>ti);return ze}function maxEntropy(Ve,je){let ze=new Array(Ve.length);for(let ti=0;ti<Ve.length;ti++)ze[ti]=Ve[ti]/je;let qe=new Array(Ve.length),Xe=new Array(Ve.length);qe[0]=ze[0],Xe[0]=1-qe[0];for(let ti=1;ti<Ve.length;ti++)qe[ti]=qe[ti-1]+ze[ti],Xe[ti]=1-qe[ti];let Ye=0;for(let ti=0;ti<Ve.length;ti++)if(Math.abs(qe[ti])>=Number.EPSILON){Ye=ti;break}let Ke=Ve.length-1;for(let ti=Ve.length-1;ti>=Ye;ti--)if(Math.abs(Xe[ti])>=Number.EPSILON){Ke=ti;break}let Ze=-1,Qe,Je=Number.MIN_VALUE,St,ei;for(let ti=Ye;ti<=Ke;ti++){St=0;for(let ii=0;ii<=ti;ii++)Ve[ii]!==0&&(St-=ze[ii]/qe[ti]*Math.log(ze[ii]/qe[ti]));ei=0;for(let ii=ti+1;ii<Ve.length;ii++)Ve[ii]!==0&&(ei-=ze[ii]/Xe[ti]*Math.log(ze[ii]/Xe[ti]));Qe=St+ei,Je<Qe&&(Je=Qe,Ze=ti)}return Ze}function mean$1(Ve,je){let ze=0;for(let qe=0;qe<Ve.length;qe++)ze+=qe*Ve[qe];return Math.floor(ze/je)}function minError(Ve,je){let ze,qe=-2,Xe,Ye,Ke,Ze,Qe,Je,St,ei,ti,ii,ri,si=0;for(let ui=0;ui<Ve.length;ui++)si+=ui*Ve[ui];for(si/=je,ze=si;ze!==qe;){let ui=sumA(Ve,ze),ai=sumA(Ve,Ve.length-1),oi=sumB(Ve,ze),ni=sumB(Ve,Ve.length-1),ci=sumC(Ve,ze),hi=sumC(Ve,Ve.length-1);if(Xe=oi/ui,Ye=(ni-oi)/(ai-ui),Ke=ui/ai,Ze=(ai-ui)/ai,Qe=ci/ui-Xe*Xe,Je=(hi-ci)/(ai-ui)-Ye*Ye,St=1/Qe-1/Je,ei=Xe/Qe-Ye/Je,ti=Xe*Xe/Qe-Ye*Ye/Je+Math.log10(Qe*(Ze*Ze)/(Je*(Ke*Ke))),ii=ei*ei-St*ti,ii<0)return ze;qe=ze,ri=(ei+Math.sqrt(ii))/St,isNaN(ri)?ze=qe:ze=Math.floor(ri)}return ze}function sumA(Ve,je){let ze=0;for(let qe=0;qe<=je;qe++)ze+=Ve[qe];return ze}function sumB(Ve,je){let ze=0;for(let qe=0;qe<=je;qe++)ze+=qe*Ve[qe];return ze}function sumC(Ve,je){let ze=0;for(let qe=0;qe<=je;qe++)ze+=qe*qe*Ve[qe];return ze}function minimum(Ve){if(Ve.length<2)return 0;let je=0,ze=-1,qe=-1,Xe=new Array(Ve.length);for(let Ye=0;Ye<Ve.length;Ye++)Xe[Ye]=Ve[Ye],Ve[Ye]>0&&(qe=Ye);for(;!bimodalTest(Xe);)if(Xe=smoothed(Xe),je++,je>1e4)return ze;return ze=minimumBetweenPeeks(Xe,qe),ze}function smoothed(Ve){let je=new Array(Ve.length);for(let ze=1;ze<Ve.length-1;ze++)je[ze]=(Ve[ze-1]+Ve[ze]+Ve[ze+1])/3;return je[0]=(Ve[0]+Ve[1])/3,je[Ve.length-1]=(Ve[Ve.length-2]+Ve[Ve.length-1])/3,je}function minimumBetweenPeeks(Ve,je){let ze;for(let qe=1;qe<je;qe++)if(Ve[qe-1]>Ve[qe]&&Ve[qe+1]>=Ve[qe]){ze=qe;break}return ze}function bimodalTest(Ve){let je=Ve.length,ze=!1,qe=0;for(let Xe=1;Xe<je-1;Xe++)if(Ve[Xe-1]<Ve[Xe]&&Ve[Xe+1]<Ve[Xe]&&(qe++,qe>2))return!1;return qe===2&&(ze=!0),ze}function moments(Ve,je){let ze=1,qe=0,Xe=0,Ye=0,Ke=0,Ze,Qe,Je,St,ei,ti,ii=-1,ri=Ve.length,si=new Array(ri);for(let ui=0;ui<ri;ui++)si[ui]=Ve[ui]/je;for(let ui=0;ui<ri;ui++)qe+=ui*si[ui],Xe+=ui*ui*si[ui],Ye+=ui*ui*ui*si[ui];Qe=ze*Xe-qe*qe,Je=(-Xe*Xe+qe*Ye)/Qe,St=(ze*-Ye+Xe*qe)/Qe,ei=.5*(-St-Math.sqrt(St*St-4*Je)),ti=.5*(-St+Math.sqrt(St*St-4*Je)),Ze=(ti-qe)/(ti-ei);for(let ui=0;ui<ri;ui++)if(Ke+=si[ui],Ke>Ze){ii=ui;break}return ii}function otsu(Ve,je){let ze=0,qe=0,Xe=0,Ye=0,Ke=0;for(let Ze=0;Ze<Ve.length;Ze++)Ke+=Ze*Ve[Ze];for(let Ze=0;Ze<Ve.length;Ze++){qe=qe+Ve[Ze];const Qe=je-qe;if(qe===0||Qe===0)continue;ze=ze+Ze*Ve[Ze];const Je=(Ke-ze)/Qe,St=qe*Qe*(ze/qe-Je)*(ze/qe-Je);St>=Xe&&(Ye=Ze,Xe=St)}return Ye}function percentile(Ve){let je=-1,ze=.5,qe=new Array(Ve.length),Xe=partialSum(Ve,Ve.length-1),Ye=1;for(let Ke=0;Ke<Ve.length;Ke++)qe[Ke]=Math.abs(partialSum(Ve,Ke)/Xe-ze),qe[Ke]<Ye&&(Ye=qe[Ke],je=Ke);return je}function partialSum(Ve,je){let ze=0;for(let qe=0;qe<=je;qe++)ze+=Ve[qe];return ze}function renyiEntropy(Ve,je){let ze,qe,Xe,Ye=new Array(Ve.length),Ke=new Array(Ve.length),Ze=new Array(Ve.length),Qe=0,Je=0,St=0,ei=0,ti=0,ii=0,ri=1/(1-.5),si=1/-1;for(let ni=0;ni<Ve.length;ni++)Ye[ni]=Ve[ni]/je;Ke[0]=Ye[0],Ze[0]=1-Ke[0];for(let ni=1;ni<Ve.length;ni++)Ke[ni]=Ke[ni-1]+Ye[ni],Ze[ni]=1-Ke[ni];qe=0;for(let ni=0;ni<Ve.length;ni++)if(Math.abs(Ke[ni])>=Number.EPSILON){qe=ni;break}Xe=Ve.length-1;for(let ni=Ve.length-1;ni>=qe;ni--)if(Math.abs(Ze[ni])>=Number.EPSILON){Xe=ni;break}for(let ni=qe;ni<=Xe;ni++){let ci=0,hi=0,di=0;for(let Ai=0;Ai<=ni;Ai++)Ve[Ai]!==0&&(ci-=Ye[Ai]/Ke[ni]*Math.log(Ye[Ai]/Ke[ni])),hi+=Math.sqrt(Ye[Ai]/Ke[ni]),di+=Ye[Ai]*Ye[Ai]/(Ke[ni]*Ke[ni]);let fi=0,mi=0,pi=0;for(let Ai=ni+1;Ai<Ve.length;Ai++)Ve[Ai]!==0&&(fi-=Ye[Ai]/Ze[ni]*Math.log(Ye[Ai]/Ze[ni])),mi+=Math.sqrt(Ye[Ai]/Ze[ni]),pi+=Ye[Ai]*Ye[Ai]/(Ze[ni]*Ze[ni]);let wi=ci+fi,gi=ri*(hi*mi>0?Math.log(hi*mi):0),yi=si*(di*pi>0?Math.log(di*pi):0);wi>ei&&(ei=wi,Qe=ni),gi>ti&&(ti=gi,Je=ni),yi>ii&&(ii=yi,St=ni)}let ui=[Qe,Je,St];ui.sort((ni,ci)=>ni-ci);let ai;Math.abs(ui[0]-ui[1])<=5?Math.abs(ui[1]-ui[2])<=5?ai=[1,2,1]:ai=[0,1,3]:Math.abs(ui[1]-ui[2])<=5?ai=[3,1,0]:ai=[1,2,1];let oi=Ke[ui[2]]-Ke[ui[0]];return ze=Math.round(ui[0]*(Ke[ui[0]]+.25*oi*ai[0])+.25*ui[1]*oi*ai[1]+ui[2]*(Ze[ui[2]]+.25*oi*ai[2])),ze}function shanbhag(Ve,je){let ze=new Array(Ve.length);for(let ii=0;ii<Ve.length;ii++)ze[ii]=Ve[ii]/je;let qe=new Array(Ve.length),Xe=new Array(Ve.length);qe[0]=ze[0],Xe[0]=1-qe[0];for(let ii=1;ii<Ve.length;ii++)qe[ii]=qe[ii-1]+ze[ii],Xe[ii]=1-qe[ii];let Ye=0;for(let ii=0;ii<Ve.length;ii++)if(Math.abs(qe[ii])>=Number.EPSILON){Ye=ii;break}let Ke=Ve.length-1;for(let ii=Ve.length-1;ii>=Ye;ii--)if(Math.abs(Xe[ii])>=Number.EPSILON){Ke=ii;break}let Ze=-1,Qe=Number.MAX_VALUE,Je,St,ei,ti;for(let ii=Ye;ii<=Ke;ii++){ei=0,Je=.5/qe[ii];for(let ri=1;ri<=ii;ri++)ei-=ze[ri]*Math.log(1-Je*qe[ri-1]);ei*=Je,ti=0,Je=.5/Xe[ii];for(let ri=ii+1;ri<Ve.length;ri++)ti-=ze[ri]*Math.log(1-Je*Xe[ri]);ti*=Je,St=Math.abs(ei-ti),St<Qe&&(Qe=St,Ze=ii)}return Ze}function triangle$1(Ve){let je=0,ze=0,qe=0,Xe=0;for(let ei=0;ei<Ve.length;ei++)if(Ve[ei]>0){je=ei;break}je>0&&je--;for(let ei=Ve.length-1;ei>0;ei--)if(Ve[ei]>0){Xe=ei;break}Xe<Ve.length-1&&Xe++;for(let ei=0;ei<Ve.length;ei++)Ve[ei]>ze&&(qe=ei,ze=Ve[ei]);let Ye=!1;if(qe-je<Xe-qe){Ye=!0;let ei=0,ti=Ve.length-1;for(;ei<ti;){let ii=Ve[ei];Ve[ei]=Ve[ti],Ve[ti]=ii,ei++,ti--}je=Ve.length-1-Xe,qe=Ve.length-1-qe}if(je===qe)return je;let Ke,Ze,Qe;Ke=Ve[qe],Ze=je-qe,Qe=Math.sqrt(Ke*Ke+Ze*Ze),Ke/=Qe,Ze/=Qe,Qe=Ke*je+Ze*Ve[je];let Je=je,St=0;for(let ei=je+1;ei<=qe;ei++){let ti=Ke*ei+Ze*Ve[ei]-Qe;ti>St&&(Je=ei,St=ti)}if(Je--,Ye){let ei=0,ti=Ve.length-1;for(;ei<ti;){let ii=Ve[ei];Ve[ei]=Ve[ti],Ve[ti]=ii,ei++,ti--}return Ve.length-1-Je}else return Je}function yen(Ve,je){let ze=new Array(Ve.length);for(let Je=0;Je<Ve.length;Je++)ze[Je]=Ve[Je]/je;let qe=new Array(Ve.length);qe[0]=ze[0];for(let Je=1;Je<Ve.length;Je++)qe[Je]=qe[Je-1]+ze[Je];let Xe=new Array(Ve.length);Xe[0]=ze[0]*ze[0];for(let Je=1;Je<Ve.length;Je++)Xe[Je]=Xe[Je-1]+ze[Je]*ze[Je];let Ye=new Array(Ve.length);Ye[Ve.length-1]=0;for(let Je=Ve.length-2;Je>=0;Je--)Ye[Je]=Ye[Je+1]+ze[Je+1]*ze[Je+1];let Ke=-1,Ze=Number.MIN_VALUE,Qe;for(let Je=0;Je<Ve.length;Je++)Qe=-1*(Xe[Je]*Ye[Je]>0?Math.log(Xe[Je]*Ye[Je]):0)+2*(qe[Je]*(1-qe[Je])>0?Math.log(qe[Je]*(1-qe[Je])):0),Qe>Ze&&(Ze=Qe,Ke=Je);return Ke}const methods={huang,intermodes,isodata,li,maxentropy:maxEntropy,mean:mean$1,minerror:minError,minimum,moments,otsu,percentile,renyientropy:renyiEntropy,shanbhag,triangle:triangle$1,yen},names={};Object.keys(methods).forEach(Ve=>{names[Ve]=Ve});function getThreshold(Ve={}){let{algorithm:je=names.otsu}=Ve;this.checkProcessable("getThreshold",{components:1,bitDepth:[8,16]});let ze=methods[je.toLowerCase()];if(ze){let qe=this.getHistogram();return ze(qe,this.size)}else throw new Error(`unknown thresholding algorithm: ${je}`)}const THRESHOLD="threshold";function mask(Ve={}){let{algorithm:je=THRESHOLD,threshold:ze=.5,useAlpha:qe=!0,invert:Xe=!1}=Ve;this.checkProcessable("mask",{components:1,bitDepth:[8,16]}),je===THRESHOLD?ze=getThreshold$1(ze,this.maxValue):ze=getThreshold.call(this,Ve);let Ye=new Image$1(this.width,this.height,{kind:"BINARY",parent:this}),Ke=0;if(this.alpha&&qe)for(let Ze=0;Ze<this.data.length;Ze+=this.channels){let Qe=this.data[Ze]+(this.maxValue-this.data[Ze])*(this.maxValue-this.data[Ze+1])/this.maxValue;(Xe&&Qe<=ze||!Xe&&Qe>=ze)&&Ye.setBit(Ke),Ke++}else for(let Ze=0;Ze<this.data.length;Ze+=this.channels)(Xe&&this.data[Ze]<=ze||!Xe&&this.data[Ze]>=ze)&&Ye.setBit(Ke),Ke++;return Ye}function copyImage(Ve,je,ze,qe){let Xe=Ve.width,Ye=Ve.height,Ke=je.width,Ze=Ve.channels;for(let Qe=0;Qe<Xe;Qe++)for(let Je=0;Je<Ye;Je++)for(let St=0;St<Ze;St++){let ei=(Je*Xe+Qe)*Ze+St,ti=((qe+Je)*Ke+ze+Qe)*Ze+St;je.data[ti]=Ve.data[ei]}}function pad(Ve={}){let{size:je=0,algorithm:ze="copy",color:qe}=Ve;if(this.checkProcessable("pad",{bitDepth:[8,16]}),ze==="set"){if(qe.length!==this.channels)throw new Error(`pad: the color array must have the same length as the number of channels. Here: ${this.channels}`);for(let Qe=0;Qe<qe.length;Qe++)qe[Qe]===0&&(qe[Qe]=.001)}else qe=newArray$1(this.channels,null);Array.isArray(je)||(je=[je,je]);let Xe=this.width+je[0]*2,Ye=this.height+je[1]*2,Ke=this.channels,Ze=Image$1.createFrom(this,{width:Xe,height:Ye});copyImage(this,Ze,je[0],je[1]);for(let Qe=je[0];Qe<Xe-je[0];Qe++)for(let Je=0;Je<Ke;Je++){let St=qe[Je]||Ze.data[(je[1]*Xe+Qe)*Ke+Je];for(let ei=0;ei<je[1];ei++)Ze.data[(ei*Xe+Qe)*Ke+Je]=St;St=qe[Je]||Ze.data[((Ye-je[1]-1)*Xe+Qe)*Ke+Je];for(let ei=Ye-je[1];ei<Ye;ei++)Ze.data[(ei*Xe+Qe)*Ke+Je]=St}for(let Qe=0;Qe<Ye;Qe++)for(let Je=0;Je<Ke;Je++){let St=qe[Je]||Ze.data[(Qe*Xe+je[0])*Ke+Je];for(let ei=0;ei<je[0];ei++)Ze.data[(Qe*Xe+ei)*Ke+Je]=St;St=qe[Je]||Ze.data[(Qe*Xe+Xe-je[0]-1)*Ke+Je];for(let ei=Xe-je[0];ei<Xe;ei++)Ze.data[(Qe*Xe+ei)*Ke+Je]=St}return Ze}function colorDepth(Ve=8){if(this.checkProcessable("colorDepth",{bitDepth:[1,8,16]}),![8,16].includes(Ve))throw Error("You need to specify the new colorDepth as 8 or 16");if(this.bitDepth===Ve)return this.clone();let je=Image$1.createFrom(this,{bitDepth:Ve});switch(Ve){case 8:if(this.bitDepth===1)for(let ze=0;ze<this.size;ze++)this.getBit(ze)&&(je.data[ze]=255);else for(let ze=0;ze<this.data.length;ze++)je.data[ze]=this.data[ze]>>8;break;case 16:if(this.bitDepth===1)for(let ze=0;ze<this.size;ze++)this.getBit(ze)&&(je.data[ze]=65535);else for(let ze=0;ze<this.data.length;ze++)je.data[ze]=this.data[ze]<<8|this.data[ze];break;default:throw new Error("colorDepth conversion unexpected case")}return je}function rotateFree(Ve,je={}){const{interpolation:ze=validInterpolations.nearestneighbor,width:qe=this.width,height:Xe=this.height}=je;if(typeof Ve!="number")throw new TypeError("degrees must be a number");const Ye=checkInterpolation(ze),Ke=Ve*Math.PI/180,Ze=Math.floor(Math.abs(qe*Math.cos(Ke))+Math.abs(Xe*Math.sin(Ke))),Qe=Math.floor(Math.abs(Xe*Math.cos(Ke))+Math.abs(qe*Math.sin(Ke))),Je=Math.cos(-Ke),St=Math.sin(-Ke);let ei=Ze/2,ti=Qe/2;Ze%2===0?(ei=ei-.5,Qe%2===0?ti=ti-.5:ti=Math.floor(ti)):(ei=Math.floor(ei),Qe%2===0?ti=ti-.5:ti=Math.floor(ti));const ii=Math.floor(qe/2-ei),ri=Math.floor(Xe/2-ti);if(this.bitDepth===1){const si=new Image$1(Ze,Qe,{kind:"BINARY",parent:this});switch(Ye){case validInterpolations.nearestneighbor:return rotateBinaryNearestNeighbor(this,si,ii,ri,ei,ti,Je,St);case validInterpolations.bilinear:return rotateBinaryBilinear(this,si,ii,ri,ei,ti,Je,St);default:throw new Error(`unsupported rotate interpolation: ${Ye}`)}}else{const si=Image$1.createFrom(this,{width:Ze,height:Qe});switch(Ye){case validInterpolations.nearestneighbor:return rotateNearestNeighbor(this,si,ii,ri,ei,ti,Je,St);case validInterpolations.bilinear:return rotateBilinear(this,si,ii,ri,ei,ti,Je,St);default:throw new Error(`unsupported rotate interpolation: ${Ye}`)}}}function rotateNearestNeighbor(Ve,je,ze,qe,Xe,Ye,Ke,Ze){for(let Qe=0;Qe<je.width;Qe+=1)for(let Je=0;Je<je.height;Je+=1)for(let St=0;St<Ve.channels;St++){let ei=Math.round((Qe-Xe)*Ke-(Je-Ye)*Ze+Xe)+ze,ti=Math.round((Je-Ye)*Ke+(Qe-Xe)*Ze+Ye)+qe;ei<0||ei>=Ve.width||ti<0||ti>=Ve.height?Ve.alpha===1&&St===Ve.channels-1?je.setValueXY(Qe,Je,St,0):je.setValueXY(Qe,Je,St,Ve.maxValue):je.setValueXY(Qe,Je,St,Ve.getValueXY(ei,ti,St))}return je}function rotateBinaryNearestNeighbor(Ve,je,ze,qe,Xe,Ye,Ke,Ze){for(let Qe=0;Qe<je.width;Qe+=1)for(let Je=0;Je<je.height;Je+=1){let St=Math.round((Qe-Xe)*Ke-(Je-Ye)*Ze+Xe)+ze,ei=Math.round((Je-Ye)*Ke+(Qe-Xe)*Ze+Ye)+qe;(St<0||St>=Ve.width||ei<0||ei>=Ve.height||Ve.getBitXY(St,ei))&&je.setBitXY(Qe,Je)}return je}function rotateBilinear(Ve,je,ze,qe,Xe,Ye,Ke,Ze){let Qe=Ve.width*Ve.channels;for(let Je=0;Je<je.height;Je++)for(let St=0;St<je.width;St++){let ei=(St-Xe)*Ke-(Je-Ye)*Ze+Xe+ze,ti=(Je-Ye)*Ke+(St-Xe)*Ze+Ye+qe,ii=ei|0,ri=ti|0,si=ei-ii,ui=ti-ri;for(let ai=0;ai<Ve.channels;ai++)if(ei<0||ei>=Ve.width||ti<0||ti>=Ve.height)Ve.alpha===1&&ai===Ve.channels-1?je.setValueXY(St,Je,ai,0):je.setValueXY(St,Je,ai,Ve.maxValue);else{let oi=(ri*Ve.width+ii)*Ve.channels+ai,ni=Ve.data[oi],ci=Ve.data[oi+Ve.channels],hi=Ve.data[oi+Qe],di=Ve.data[oi+Qe+Ve.channels],fi=ni+si*(ci-ni)+ui*(hi-ni)+si*ui*(ni-ci-hi+di)|0;je.setValueXY(St,Je,ai,fi)}}return je}function rotateBinaryBilinear(Ve,je,ze,qe,Xe,Ye,Ke,Ze){let Qe=Ve.width;for(let Je=0;Je<je.height;Je++)for(let St=0;St<je.width;St++){let ei=(St-Xe)*Ke-(Je-Ye)*Ze+Xe+ze,ti=(Je-Ye)*Ke+(St-Xe)*Ze+Ye+qe,ii=ei|0,ri=ti|0,si=ei-ii,ui=ti-ri;if(ei<0||ei>=Ve.width||ti<0||ti>=Ve.height)je.setBitXY(St,Je);else{let ai=ri*Ve.width+ii,oi=Ve.getBit(ai),ni=Ve.getBit(ai+1),ci=Ve.getBit(ai+Qe),hi=Ve.getBit(ai+1+Qe);(oi|si&ni-oi|ui&ci-oi|si&ui&oi-ni-ci+hi)>0&&je.setBitXY(St,Je)}}return je}function rotate$1(Ve,je){if(this.checkProcessable("rotate",{bitDepth:[1,8,16]}),typeof Ve!="number")throw new TypeError("angle must be a number");switch(Ve<0&&(Ve=Math.ceil(-Ve/360)*360+Ve),Ve%360){case 0:return this.clone();case 90:return rotateRight.call(this);case 180:return rotate180.call(this);case 270:return rotateLeft.call(this);default:return rotateFree.call(this,Ve,je)}}function rotateLeft(){if(this.bitDepth===1){const Ve=new Image$1(this.height,this.width,{kind:"BINARY",parent:this}),je=Ve.height-1;for(let ze=0;ze<this.height;ze++)for(let qe=0;qe<this.width;qe++)this.getBitXY(qe,ze)&&Ve.setBitXY(ze,je-qe);return Ve}else{const Ve=Image$1.createFrom(this,{width:this.height,height:this.width}),je=Ve.height-1;for(let ze=0;ze<this.height;ze++)for(let qe=0;qe<this.width;qe++)for(let Xe=0;Xe<this.channels;Xe++)Ve.setValueXY(ze,je-qe,Xe,this.getValueXY(qe,ze,Xe));return Ve}}function rotateRight(){if(this.bitDepth===1){const Ve=new Image$1(this.height,this.width,{kind:"BINARY",parent:this}),je=Ve.width-1;for(let ze=0;ze<this.height;ze++)for(let qe=0;qe<this.width;qe++)this.getBitXY(qe,ze)&&Ve.setBitXY(je-ze,qe);return Ve}else{const Ve=Image$1.createFrom(this,{width:this.height,height:this.width}),je=Ve.width-1;for(let ze=0;ze<this.height;ze++)for(let qe=0;qe<this.width;qe++)for(let Xe=0;Xe<this.channels;Xe++)Ve.setValueXY(je-ze,qe,Xe,this.getValueXY(qe,ze,Xe));return Ve}}function rotate180(){if(this.bitDepth===1){const Ve=new Image$1(this.width,this.height,{kind:"BINARY",parent:this}),je=Ve.width-1,ze=Ve.height-1;for(let qe=0;qe<this.height;qe++)for(let Xe=0;Xe<this.width;Xe++)this.getBitXY(Xe,qe)&&Ve.setBitXY(je-Xe,ze-qe);return Ve}else{const Ve=Image$1.createFrom(this),je=Ve.width-1,ze=Ve.height-1;for(let qe=0;qe<this.height;qe++)for(let Xe=0;Xe<this.width;Xe++)for(let Ye=0;Ye<this.channels;Ye++)Ve.setValueXY(je-Xe,ze-qe,Ye,this.getValueXY(Xe,qe,Ye));return Ve}}function insert(Ve,je={}){const ze=getImageParameters(Ve);this.checkProcessable("insert",ze);let{x:qe=0,y:Xe=0}=je;const Ye=getOutputImageOrInPlace(this,je,{copy:!0}),Ke=Math.min(Ye.height,Xe+Ve.height),Ze=Math.min(Ye.width,qe+Ve.width);if(Ye.bitDepth===1)for(let Qe=Xe;Qe<Ke;Qe++)for(let Je=qe;Je<Ze;Je++)Ve.getBitXY(Je-qe,Qe-Xe)?Ye.setBitXY(Je,Qe):Ye.clearBitXY(Je,Qe);else for(let Qe=Xe;Qe<Ke;Qe++)for(let Je=qe;Je<Ze;Je++)Ye.setPixelXY(Je,Qe,Ve.getPixelXY(Je-qe,Qe-Xe));return Ye}function setBorder(Ve={}){let{size:je=0,algorithm:ze="copy",color:qe}=Ve;if(this.checkProcessable("setBorder",{bitDepth:[8,16,32,64]}),ze==="set"){if(qe.length!==this.channels)throw new Error(`setBorder: the color array must have the same length as the number of channels. Here: ${this.channels}`);for(let Ze=0;Ze<qe.length;Ze++)qe[Ze]===0&&(qe[Ze]=.001)}else qe=newArray$1(this.channels,null);Array.isArray(je)||(je=[je,je]);let Xe=je[0],Ye=je[1],Ke=this.channels;for(let Ze=Xe;Ze<this.width-Xe;Ze++)for(let Qe=0;Qe<Ke;Qe++){let Je=qe[Qe]||this.data[(Ze+this.width*Ye)*Ke+Qe];for(let St=0;St<Ye;St++)this.data[(St*this.width+Ze)*Ke+Qe]=Je;Je=qe[Qe]||this.data[(Ze+this.width*(this.height-Ye-1))*Ke+Qe];for(let St=this.height-Ye;St<this.height;St++)this.data[(St*this.width+Ze)*Ke+Qe]=Je}for(let Ze=0;Ze<this.height;Ze++)for(let Qe=0;Qe<Ke;Qe++){let Je=qe[Qe]||this.data[(Ze*this.width+Xe)*Ke+Qe];for(let St=0;St<Xe;St++)this.data[(Ze*this.width+St)*Ke+Qe]=Je;Je=qe[Qe]||this.data[(Ze*this.width+this.width-Xe-1)*Ke+Qe];for(let St=this.width-Xe;St<this.width;St++)this.data[(Ze*this.width+St)*Ke+Qe]=Je}return this}function split(Ve={}){let{preserveAlpha:je=!0}=Ve;if(this.checkProcessable("split",{bitDepth:[8,16]}),this.components===1)return new Stack([this.clone()]);let ze=new Stack,qe=this.data;if(this.alpha&&je)for(let Xe=0;Xe<this.components;Xe++){let Ye=Image$1.createFrom(this,{components:1,alpha:!0,colorModel:GREY$1}),Ke=0;for(let Ze=0;Ze<qe.length;Ze+=this.channels)Ye.data[Ke++]=qe[Ze+Xe],Ye.data[Ke++]=qe[Ze+this.components];ze.push(Ye)}else for(let Xe=0;Xe<this.channels;Xe++){let Ye=Image$1.createFrom(this,{components:1,alpha:!1,colorModel:GREY$1}),Ke=0;for(let Ze=0;Ze<qe.length;Ze+=this.channels)Ye.data[Ke++]=qe[Ze+Xe];ze.push(Ye)}return ze}function getChannel(Ve,je={}){let{keepAlpha:ze=!1,mergeAlpha:qe=!1}=je;ze&=this.alpha,qe&=this.alpha,this.checkProcessable("getChannel",{bitDepth:[8,16]}),Ve=validateChannel(this,Ve);let Xe=Image$1.createFrom(this,{components:1,alpha:ze,colorModel:GREY$1}),Ye=0;for(let Ke=0;Ke<this.data.length;Ke+=this.channels)qe?Xe.data[Ye++]=this.data[Ke+Ve]*this.data[Ke+this.components]/this.maxValue:(Xe.data[Ye++]=this.data[Ke+Ve],ze&&(Xe.data[Ye++]=this.data[Ke+this.components]));return Xe}function combineChannels(Ve=defaultCombineMethod,je={}){let{mergeAlpha:ze=!1,keepAlpha:qe=!1}=je;ze&=this.alpha,qe&=this.alpha,this.checkProcessable("combineChannels",{bitDepth:[8,16]});let Xe=Image$1.createFrom(this,{components:1,alpha:qe,colorModel:GREY$1}),Ye=0;for(let Ke=0;Ke<this.size;Ke++){let Ze=Ve(this.getPixel(Ke));ze?Xe.data[Ye++]=Ze*this.data[Ke*this.channels+this.components]/this.maxValue:(Xe.data[Ye++]=Ze,qe&&(Xe.data[Ye++]=this.data[Ke*this.channels+this.components]))}return Xe}function defaultCombineMethod(Ve){return(Ve[0]+Ve[1]+Ve[2])/3}function setChannel(Ve,je){if(this.checkProcessable("setChannel",{bitDepth:[8,16]}),je.checkProcessable("setChannel (image parameter check)",{bitDepth:[this.bitDepth],alpha:[0],components:[1]}),je.width!==this.width||je.height!==this.height)throw new Error("Images must have exactly the same width and height");Ve=validateChannel(this,Ve);let ze=Ve;for(let qe=0;qe<je.data.length;qe++)this.data[ze]=je.data[qe],ze+=this.channels;return this}function getSimilarity(Ve,je={}){let{shift:ze=[0,0],average:qe,channels:Xe,defaultAlpha:Ye,normalize:Ke,border:Ze=[0,0]}=je;if(this.checkProcessable("getSimilarity",{bitDepth:[8,16]}),Array.isArray(Ze)||(Ze=[Ze,Ze]),Xe=validateArrayOfChannels(this,{channels:Xe,defaultAlpha:Ye}),this.bitDepth!==Ve.bitDepth)throw new Error("Both images must have the same bitDepth");if(this.channels!==Ve.channels)throw new Error("Both images must have the same number of channels");if(this.colorModel!==Ve.colorModel)throw new Error("Both images must have the same colorModel");typeof qe>"u"&&(qe=!0);let Qe=Math.max(Ze[0],-ze[0]),Je=Math.min(this.width-Ze[0],this.width-ze[0]),St=Math.max(Ze[1],-ze[1]),ei=Math.min(this.height-Ze[1],this.height-ze[1]),ti=newArray$1(Xe.length,0);for(let ii=0;ii<Xe.length;ii++){let ri=Xe[ii],si=Ke?this.sum[ri]:Math.max(this.sum[ri],Ve.sum[ri]),ui=Ke?Ve.sum[ri]:Math.max(this.sum[ri],Ve.sum[ri]);if(si!==0&&ui!==0)for(let ai=Qe;ai<Je;ai++)for(let oi=St;oi<ei;oi++){let ni=ai*this.multiplierX+oi*this.multiplierY+ri,ci=ni+ze[0]*this.multiplierX+ze[1]*this.multiplierY;ti[ii]+=Math.min(this.data[ni]/si,Ve.data[ci]/ui)}}return qe?ti.reduce((ii,ri)=>ii+ri)/ti.length:ti}function getPixelsGrid(Ve={}){let{sampling:je=[10,10],painted:ze=!1,mask:qe}=Ve;this.checkProcessable("getPixelsGrid",{bitDepth:[8,16],channels:1}),Array.isArray(je)||(je=[je,je]);const Xe=je[0],Ye=je[1],Ke=[],Ze=[],Qe=this.width/Xe,Je=this.height/Ye;let St=Math.floor(Qe/2);for(let ti=0;ti<Xe;ti++){let ii=Math.floor(Je/2);for(let ri=0;ri<Ye;ri++){let si=Math.round(St),ui=Math.round(ii);(!qe||qe.getBitXY(si,ui))&&(Ke.push([si,ui]),Ze.push(this.getPixelXY(si,ui))),ii+=Je}St+=Qe}const ei={xyS:Ke,zS:Ze};return ze&&(ei.painted=this.rgba8().paintPoints(Ke)),ei}function Matrix(Ve,je,ze){const qe=new Array(Ve);for(let Xe=0;Xe<Ve;Xe++)qe[Xe]=new Array(je);if(ze)for(let Xe=0;Xe<Ve;Xe++)for(let Ye=0;Ye<je;Ye++)qe[Xe][Ye]=ze;return qe.width=Ve,qe.height=je,Object.setPrototypeOf(qe,Matrix.prototype),qe}Matrix.prototype.localMin=function(Ve,je){let ze=this[Ve][je],qe=[Ve,je];for(let Xe=Math.max(0,Ve-1);Xe<Math.min(this.length,Ve+2);Xe++)for(let Ye=Math.max(0,je-1);Ye<Math.min(this[0].length,je+2);Ye++)this[Xe][Ye]<ze&&(ze=this[Xe][Ye],qe=[Xe,Ye]);return{position:qe,value:ze}};Matrix.prototype.localMax=function(Ve,je){let ze=this[Ve][je],qe=[Ve,je];for(let Xe=Math.max(0,Ve-1);Xe<Math.min(this.length,Ve+2);Xe++)for(let Ye=Math.max(0,je-1);Ye<Math.min(this[0].length,je+2);Ye++)this[Xe][Ye]>ze&&(ze=this[Xe][Ye],qe=[Xe,Ye]);return{position:qe,value:ze}};Matrix.prototype.localSearch=function(Ve,je,ze){let qe=[];for(let Xe=Math.max(0,Ve-1);Xe<Math.min(this.length,Ve+2);Xe++)for(let Ye=Math.max(0,je-1);Ye<Math.min(this[0].length,je+2);Ye++)this[Xe][Ye]===ze&&qe.push([Xe,Ye]);return qe};function getBestMatch(Ve,je={}){let{border:ze}=je;if(this.checkProcessable("getChannel",{bitDepth:[8,16]}),this.bitDepth!==Ve.bitDepth)throw new Error("Both images must have the same bitDepth");if(this.channels!==Ve.channels)throw new Error("Both images must have the same number of channels");if(this.colorModel!==Ve.colorModel)throw new Error("Both images must have the same colorModel");let qe=new Matrix(Ve.width,Ve.height,-1/0),Xe=Math.floor(Ve.width/2),Ye=Math.floor(Ve.height/2),Ke=Xe,Ze=Ye,Qe=!1;for(;!Qe;){let Je=qe.localSearch(Xe,Ye,-1/0);for(let ei=0;ei<Je.length;ei++){let ti=Je[ei],ii=this.getSimilarity(Ve,{border:ze,shift:[Ke-ti[0],Ze-ti[1]]});qe[ti[0]][ti[1]]=ii}let St=qe.localMax(Xe,Ye);St.position[0]!==Xe||St.position[1]!==Ye?(Xe=St.position[0],Ye=St.position[1]):Qe=!0}return[Xe-Ke,Ye-Ze]}function getRow(Ve,je=0){this.checkProcessable("getRow",{bitDepth:[8,16]}),checkRow(this,Ve),checkChannel(this,je);let ze=new Array(this.width),qe=0,Xe=Ve*this.width*this.channels+je,Ye=Xe+this.width*this.channels;for(let Ke=Xe;Ke<Ye;Ke+=this.channels)ze[qe++]=this.data[Ke];return ze}function getColumn(Ve,je=0){this.checkProcessable("getColumn",{bitDepth:[8,16]}),checkColumn(this,Ve),checkChannel(this,je);let ze=new Array(this.height),qe=0,Xe=this.width*this.channels;for(let Ye=je+Ve*this.channels;Ye<this.data.length;Ye+=Xe)ze[qe++]=this.data[Ye];return ze}function getMatrix(Ve={}){let{channel:je}=Ve;if(this.checkProcessable("getMatrix",{bitDepth:[8,16]}),je===void 0){if(this.components>1)throw new RangeError("You need to define the channel for an image that contains more than one channel");je=0}let ze=new Matrix$2(this.height,this.width);for(let qe=0;qe<this.height;qe++)for(let Xe=0;Xe<this.width;Xe++)ze.set(qe,Xe,this.getValueXY(Xe,qe,je));return ze}function setMatrix(Ve,je={}){Ve=new Matrix$2(Ve);let{channel:ze}=je;if(this.checkProcessable("getMatrix",{bitDepth:[8,16]}),ze===void 0){if(this.components>1)throw new RangeError("You need to define the channel for an image that contains more than one channel");ze=0}if(this.width!==Ve.columns||this.height!==Ve.rows)throw new RangeError("The size of the matrix must be equal to the size of the image");for(let qe=0;qe<this.height;qe++)for(let Xe=0;Xe<this.width;Xe++)this.setValueXY(Xe,qe,ze,Ve.get(qe,Xe));return this}function getPixelsArray(){this.checkProcessable("getPixelsArray",{bitDepth:[8,16,32]});let Ve=new Array(this.size),je=0;for(let ze=0;ze<this.data.length;ze+=this.channels){let qe=new Array(this.components);for(let Xe=0;Xe<this.components;Xe++)qe[Xe]=this.data[ze+Xe];Ve[je++]=qe}return Ve}function getIntersection(Ve){let je=this,ze=je.getClosestCommonParent(Ve),qe=je.getRelativePosition(ze,{defaultFurther:!0}),Xe=getRelativePositionForAllPixels(je,qe),Ye=Ve.getRelativePosition(ze,{defaultFurther:!0}),Ke=getRelativePositionForAllPixels(Ve,Ye),Ze=getCommonSurface(Xe,Ke),Qe={whitePixelsMask1:[],whitePixelsMask2:[],commonWhitePixels:[]};for(let Je=0;Je<Ze.length;Je++){let St=Ze[Je],ei=[St[0]-qe[0],St[1]-qe[1]],ti=[St[0]-Ye[0],St[1]-Ye[1]],ii=je.getBitXY(ei[0],ei[1]),ri=Ve.getBitXY(ti[0],ti[1]);ii===1&&ri===1&&Qe.commonWhitePixels.push(St)}for(let Je=0;Je<Xe.length;Je++){let St,ei;Je!==0&&(St=Math.floor(Je/je.width),ei=Je%je.width),je.getBitXY(St,ei)===1&&Qe.whitePixelsMask1.push(Xe[Je])}for(let Je=0;Je<Ke.length;Je++){let St=0,ei=0;Je!==0&&(St=Math.floor(Je/Ve.width),ei=Je%Ve.width),Ve.getBitXY(St,ei)===1&&Qe.whitePixelsMask2.push(Ke[Je])}return Qe}function getRelativePositionForAllPixels(Ve,je){let ze=[];for(let qe=0;qe<Ve.height;qe++)for(let Xe=0;Xe<Ve.width;Xe++){let Ye=[qe,Xe];ze.push([Ye[0]+je[0],Ye[1]+je[1]])}return ze}function getCommonSurface(Ve,je){let ze=0,qe=0,Xe=[];for(;ze<Ve.length&&qe<je.length;)Ve[ze][0]===je[qe][0]&&Ve[ze][1]===je[qe][1]?(Xe.push(Ve[ze]),ze++,qe++):Ve[ze][0]<je[qe][0]||Ve[ze][0]===je[qe][0]&&Ve[ze][1]<je[qe][1]?ze++:qe++;return Xe}function getClosestCommonParent(Ve){let je=getDepth(this),ze=getDepth(Ve),qe;if(je>=ze?qe=getFurthestParent(this,je):qe=getFurthestParent(Ve,ze),je===0||ze===0)return qe;let Xe=this,Ye=Ve;for(;je!==ze;)if(je>ze){if(Xe=Xe.parent,Xe===null)return qe;je=je-1}else{if(Ye=Ye.parent,Ye===null)return qe;ze=ze-1}for(;Xe!==Ye&&Xe!==null&&Ye!==null;)if(Xe=Xe.parent,Ye=Ye.parent,Xe===null||Ye===null)return qe;return Xe!==Ye?qe:Xe}function getDepth(Ve){let je=0,ze=Ve;for(;ze.parent!=null;)ze=ze.parent,je++;return je}function getFurthestParent(Ve,je){let ze=Ve;for(;je>0;)ze=ze.parent,je=je-1;return ze}const defaultOptions$1={lowThreshold:10,highThreshold:30,gaussianBlur:1.1},Gx=[[-1,0,1],[-2,0,2],[-1,0,1]],Gy=[[-1,-2,-1],[0,0,0],[1,2,1]],convOptions={bitDepth:32,mode:"periodic"};function cannyEdgeDetector(Ve,je){Ve.checkProcessable("Canny edge detector",{bitDepth:8,channels:1,components:1}),je=Object.assign({},defaultOptions$1,je);const ze=Ve.width,qe=Ve.height,Xe=Ve.maxValue,Ye={sigma:je.gaussianBlur,radius:3},Ke=Ve.gaussianFilter(Ye),Ze=Ke.convolution(Gy,convOptions),Qe=Ke.convolution(Gx,convOptions),Je=Qe.hypotenuse(Ze),St=Ve.constructor,ei=new St(ze,qe,{kind:"GREY",bitDepth:32}),ti=new St(ze,qe,{kind:"GREY",bitDepth:32}),ii=new St(ze,qe,{kind:"GREY"});for(var ri=1;ri<ze-1;ri++)for(var si=1;si<qe-1;si++){var ui=(Math.round(Math.atan2(Qe.getValueXY(ri,si,0),Ze.getValueXY(ri,si,0))*(5/Math.PI))+5)%5;ui===0&&(Je.getValueXY(ri,si,0)<=Je.getValueXY(ri,si-1,0)||Je.getValueXY(ri,si,0)<=Je.getValueXY(ri,si+1,0))||ui===1&&(Je.getValueXY(ri,si,0)<=Je.getValueXY(ri-1,si+1,0)||Je.getValueXY(ri,si,0)<=Je.getValueXY(ri+1,si-1,0))||ui===2&&(Je.getValueXY(ri,si,0)<=Je.getValueXY(ri-1,si,0)||Je.getValueXY(ri,si,0)<=Je.getValueXY(ri+1,si,0))||ui===3&&(Je.getValueXY(ri,si,0)<=Je.getValueXY(ri-1,si-1,0)||Je.getValueXY(ri,si,0)<=Je.getValueXY(ri+1,si+1,0))||ei.setValueXY(ri,si,0,Je.getValueXY(ri,si,0))}for(ri=0;ri<ze*qe;++ri){var ai=ei.data[ri],oi=0;ai>je.highThreshold&&(oi++,ii.data[ri]=Xe),ai>je.lowThreshold&&oi++,ti.data[ri]=oi}var ni=[];for(ri=1;ri<ze-1;++ri)for(si=1;si<qe-1;++si)if(ti.getValueXY(ri,si,0)===1){e:for(var ci=ri-1;ci<ri+2;++ci)for(var hi=si-1;hi<si+2;++hi)if(ti.getValueXY(ci,hi,0)===2){ni.push([ri,si]),ii.setValueXY(ri,si,0,Xe);break e}}for(;ni.length>0;){var di=[];for(ri=0;ri<ni.length;++ri)for(si=-1;si<2;++si)for(ci=-1;ci<2;++ci)if(!(si===0&&ci===0)){var fi=ni[ri][0]+si,mi=ni[ri][1]+ci;ti.getValueXY(fi,mi,0)===1&&ii.getValueXY(fi,mi,0)===0&&(di.push([fi,mi]),ii.setValueXY(fi,mi,0,Xe))}ni=di}return ii}function cannyEdge(Ve){return cannyEdgeDetector(this,Ve)}function extract(Ve,je={}){let{position:ze}=je;if(this.checkProcessable("extract",{bitDepth:[1,8,16]}),!ze&&(ze=Ve.getRelativePosition(this),!ze))throw new Error("extract : can not extract an image because the relative position can not be determined, try to specify manually the position as an array of 2 elements [x,y].");if(this.bitDepth>1){let qe=Image$1.createFrom(this,{width:Ve.width,height:Ve.height,alpha:1,position:ze,parent:this});for(let Xe=0;Xe<Ve.width;Xe++)for(let Ye=0;Ye<Ve.height;Ye++){for(let Ke=0;Ke<this.channels;Ke++){let Ze=this.getValueXY(Xe+ze[0],Ye+ze[1],Ke);qe.setValueXY(Xe,Ye,Ke,Ze)}Ve.getBitXY(Xe,Ye)||qe.setValueXY(Xe,Ye,this.components,0)}return qe}else{let qe=Image$1.createFrom(this,{width:Ve.width,height:Ve.height,position:ze,parent:this});for(let Xe=0;Xe<Ve.height;Xe++)for(let Ye=0;Ye<Ve.width;Ye++)Ve.getBitXY(Ye,Xe)&&this.getBitXY(Ye+ze[0],Xe+ze[1])&&qe.setBitXY(Ye,Xe);return qe}}var fastList={exports:{}};(function(Ve,je){(function(){function ze(Xe,Ye,Ke){this.next=Ke,Ke&&(Ke.prev=this),this.prev=Ye,Ye&&(Ye.next=this),this.data=Xe}function qe(){if(!(this instanceof qe))return new qe;this._head=null,this._tail=null,this.length=0}qe.prototype={push:function(Xe){this._tail=new ze(Xe,this._tail,null),this._head||(this._head=this._tail),this.length++},pop:function(){if(this.length!==0){var Xe=this._tail;return this._tail=Xe.prev,Xe.prev&&(Xe.prev=this._tail.next=null),this.length--,this.length===1?this._head=this._tail:this.length===0&&(this._head=this._tail=null),Xe.data}},unshift:function(Xe){this._head=new ze(Xe,null,this._head),this._tail||(this._tail=this._head),this.length++},shift:function(){if(this.length!==0){var Xe=this._head;return this._head=Xe.next,Xe.next&&(Xe.next=this._head.prev=null),this.length--,this.length===1?this._tail=this._head:this.length===0&&(this._head=this._tail=null),Xe.data}},item:function(Xe){Xe<0&&(Xe=this.length+Xe);for(var Ye=this._head;Xe-- >0&&Ye;)Ye=Ye.next;return Ye?Ye.data:void 0},slice:function(Xe,Ye){if(Xe||(Xe=0),Ye||(Ye=this.length),Ye<0&&(Ye=this.length+Ye),Xe<0&&(Xe=this.length+Xe),Ye===Xe)return[];if(Ye<Xe)throw new Error("invalid offset: "+Xe+","+Ye+" (length="+this.length+")");for(var Ke=Ye-Xe,Ze=new Array(Ke),Qe=0,Je=this._head;Xe-- >0&&Je;)Je=Je.next;for(;Qe<Ke&&Je;)Ze[Qe++]=Je.data,Je=Je.next;return Ze},drop:function(){qe.call(this)},forEach:function(Xe,Ye){for(var Ke=this._head,Ze=0,Qe=this.length;Ze<Qe&&Ke;)Xe.call(Ye||this,Ke.data,Ze,this),Ke=Ke.next,Ze++},map:function(Xe,Ye){var Ke=new qe;return this.forEach(function(Ze,Qe,Je){Ke.push(Xe.call(Ye||Je,Ze,Qe,Je))}),Ke},filter:function(Xe,Ye){var Ke=new qe;return this.forEach(function(Ze,Qe,Je){Xe.call(Ye||Je,Ze,Qe,Je)&&Ke.push(Ze)}),Ke},reduce:function(Xe,Ye,Ke){var Ze=0,Qe=this._head,Je=this.length;for(Ye||(Ze=1,Ye=Qe&&Qe.data,Qe=Qe&&Qe.next);Ze<Je&&Qe;)Ye=Xe.call(Ke||this,Ye,Qe.data,this),Ze++,Qe=Qe.next;return Ye}},Ve.exports=qe})()})(fastList);var fastListExports=fastList.exports;const LinkedList=getDefaultExportFromCjs$1(fastListExports);function floodFill(Ve={}){const{x:je=0,y:ze=0,inPlace:qe=!0}=Ve,Xe=qe?this:Image$1.createFrom(this);if(this.checkProcessable("floodFill",{bitDepth:1}),this.getBitXY(je,ze))return Xe;const Ye=new LinkedList;for(Ye.push(new Node$1(je,ze));Ye.length>0;){const Ke=Ye.shift();Xe.setBitXY(Ke.x,Ke.y);for(let Ze=Ke.x+1;Ze<this.width&&!Xe.getBitXY(Ze,Ke.y)&&!this.getBitXY(Ze,Ke.y);Ze++)Xe.setBitXY(Ze,Ke.y),Ke.y+1<this.height&&!this.getBitXY(Ze,Ke.y+1)&&Ye.push(new Node$1(Ze,Ke.y+1)),Ke.y-1>=0&&!this.getBitXY(Ze,Ke.y-1)&&Ye.push(new Node$1(Ze,Ke.y-1));for(let Ze=Ke.x-1;Ze>=0&&!Xe.getBitXY(Ze,Ke.y)&&!this.getBitXY(Ze,Ke.y);Ze++)Xe.setBitXY(Ze,Ke.y),Ke.y+1<this.height&&!this.getBitXY(Ze,Ke.y+1)&&Ye.push(new Node$1(Ze,Ke.y+1)),Ke.y-1>=0&&!this.getBitXY(Ze,Ke.y-1)&&Ye.push(new Node$1(Ze,Ke.y-1))}return Xe}function Node$1(Ve,je){this.x=Ve,this.y=je}function _extends(){return _extends=Object.assign?Object.assign.bind():function(Ve){for(var je=1;je<arguments.length;je++){var ze=arguments[je];for(var qe in ze)Object.prototype.hasOwnProperty.call(ze,qe)&&(Ve[qe]=ze[qe])}return Ve},_extends.apply(this,arguments)}function hsv2rgb(Ve,je,ze){je=je/100,ze=ze/100;var qe=[],Xe=ze*je,Ye=Ve/60,Ke=Xe*(1-Math.abs(Ye%2-1)),Ze=ze-Xe;return Ye>=0&&Ye<1?qe=[Xe,Ke,0]:Ye>=1&&Ye<2?qe=[Ke,Xe,0]:Ye>=2&&Ye<3?qe=[0,Xe,Ke]:Ve>=3&&Ye<4?qe=[0,Ke,Xe]:Ve>=4&&Ye<5?qe=[Ke,0,Xe]:Ve>=5&&Ye<=6?qe=[Xe,0,Ke]:qe=[0,0,0],{r:Math.round(255*(qe[0]+Ze)),g:Math.round(255*(qe[1]+Ze)),b:Math.round(255*(qe[2]+Ze))}}function hsl2hsv(Ve,je,ze){return je*=(ze<50?ze:100-ze)/100,{h:Ve,s:2*je/(ze+je)*100,v:ze+je}}function hsl2rgb$1(Ve,je,ze){var qe=hsl2hsv(Ve,je,ze);return hsv2rgb(qe.h,qe.s,qe.v)}var colors={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]};function parse(Ve){return named(Ve)||hex3(Ve)||hex6(Ve)||rgb(Ve)||rgba$1(Ve)||hsl(Ve)||hsla(Ve)}function named(Ve){var je=colors[Ve.toLowerCase()];if(je)return{r:je[0],g:je[1],b:je[2],a:100}}function rgb(Ve){var je=Ve.match(/rgb\(([^)]+)\)/);if(je){var ze=je[1].split(/ *, */).map(Number);return{r:ze[0],g:ze[1],b:ze[2],a:100}}}function rgba$1(Ve){var je=Ve.match(/rgba\(([^)]+)\)/);if(je){var ze=je[1].split(/ *, */).map(Number);return{r:ze[0],g:ze[1],b:ze[2],a:ze[3]*100}}}function hex6(Ve){if(Ve[0]==="#"&&Ve.length===7)return{r:parseInt(Ve.slice(1,3),16),g:parseInt(Ve.slice(3,5),16),b:parseInt(Ve.slice(5,7),16),a:100}}function hex3(Ve){if(Ve[0]==="#"&&Ve.length===4)return{r:parseInt(Ve[1]+Ve[1],16),g:parseInt(Ve[2]+Ve[2],16),b:parseInt(Ve[3]+Ve[3],16),a:100}}function hsl(Ve){var je=Ve.match(/hsl\(([^)]+)\)/);if(je){var ze=je[1].split(/ *, */),qe=parseInt(ze[0],10),Xe=parseInt(ze[1],10),Ye=parseInt(ze[2],10),Ke=hsl2rgb$1(qe,Xe,Ye);return _extends({},Ke,{a:100})}}function hsla(Ve){var je=Ve.match(/hsla\(([^)]+)\)/);if(je){var ze=je[1].split(/ *, */),qe=parseInt(ze[0],10),Xe=parseInt(ze[1],10),Ye=parseInt(ze[2],10),Ke=parseInt(parseFloat(ze[3])*100,10),Ze=hsl2rgb$1(qe,Xe,Ye);return _extends({},Ze,{a:Ke})}}function css2array(Ve){let je=parse(Ve);return[je.r,je.g,je.b,Math.round(je.a*255/100)]}function hue2rgb(Ve,je,ze){return ze<0&&(ze+=1),ze>1&&(ze-=1),ze<1/6?Ve+(je-Ve)*6*ze:ze<1/2?je:ze<2/3?Ve+(je-Ve)*(2/3-ze)*6:Ve}function hsl2rgb(Ve,je,ze){let qe,Xe,Ye,Ke,Ze,Qe;return je/=100,ze/=100,je===0?Ke=Ze=Qe=ze*255:(ze<=.5?Xe=ze*(je+1):Xe=ze+je-ze*je,qe=ze*2-Xe,Ye=Ve/360,Ke=hue2rgb(qe,Xe,Ye+1/3),Ze=hue2rgb(qe,Xe,Ye),Qe=hue2rgb(qe,Xe,Ye-1/3)),{r:Ke,g:Ze,b:Qe}}function getDistinctColors(Ve){let je=new Array(Ve),ze=0;for(let qe=0;qe<360;qe+=360/Ve){ze++;let Xe=hsl2rgb(qe,100,30+ze%4*15);je[ze-1]=[Math.round(Xe.r*255),Math.round(Xe.g*255),Math.round(Xe.b*255)]}return je}function getRandomColor(){return[Math.floor(Math.random()*256),Math.floor(Math.random()*256),Math.floor(Math.random()*256)]}function getColors(Ve){let{color:je,colors:ze,randomColors:qe,numberColors:Xe=50}=Ve;if(je&&!Array.isArray(je)&&(je=css2array(je)),je)return[je];if(ze)return ze=ze.map(function(Ye){return Array.isArray(Ye)?Ye:css2array(Ye)}),ze;if(qe){ze=new Array(Xe);for(let Ye=0;Ye<Xe;Ye++)ze[Ye]=getRandomColor()}return getDistinctColors(Xe)}function paintLabels(Ve,je,ze={}){let{color:qe="blue",colors:Xe,font:Ye="12px Helvetica",rotate:Ke=0}=ze;if(this.checkProcessable("paintMasks",{channels:[3,4],bitDepth:[8,16],colorModel:RGB$1}),!Array.isArray(Ve))throw Error("paintLabels: labels must be an array");if(!Array.isArray(je))throw Error("paintLabels: positions must be an array");if(qe&&!Array.isArray(qe)&&(qe=css2array(qe)),Xe?Xe=Xe.map(function(Qe){return Array.isArray(Qe)?Qe:css2array(Qe)}):Xe=[qe],Ve.length!==je.length)throw Error("paintLabels: positions and labels must be arrays from the same size");Array.isArray(Ye)||(Ye=[Ye]),Array.isArray(Ke)||(Ke=[Ke]);let Ze=this.getCanvas().getContext("2d");for(let Qe=0;Qe<Ve.length;Qe++){Ze.save();let Je=Xe[Qe%Xe.length];Ze.fillStyle=`rgba(${Je[0]},${Je[1]},${Je[2]},${Je[3]/this.maxValue})`,Ze.font=Ye[Qe%Ye.length];let St=je[Qe];Ze.translate(St[0],St[1]),Ze.rotate(Ke[Qe%Ke.length]/180*Math.PI),Ze.fillText(Ve[Qe],0,0),Ze.restore()}return this.data=Uint8Array.from(Ze.getImageData(0,0,this.width,this.height).data),this}function paintMasks(Ve,je={}){let{alpha:ze=255,labels:qe=[],labelsPosition:Xe=[],labelColor:Ye="blue",labelFont:Ke="12px Helvetica"}=je;this.checkProcessable("paintMasks",{channels:[3,4],bitDepth:[8,16],colorModel:RGB$1});let Ze=getColors(Object.assign({},je,{numberColors:Ve.length}));Array.isArray(Ve)||(Ve=[Ve]);for(let Qe=0;Qe<Ve.length;Qe++){let Je=Ve[Qe],St=Ze[Qe%Ze.length];for(let ei=0;ei<Je.width;ei++)for(let ti=0;ti<Je.height;ti++)if(Je.getBitXY(ei,ti))for(let ii=0;ii<Math.min(this.components,St.length);ii++)if(ze===255)this.setValueXY(ei+Je.position[0],ti+Je.position[1],ii,St[ii]);else{let ri=this.getValueXY(ei+Je.position[0],ti+Je.position[1],ii);ri=Math.round((ri*(255-ze)+St[ii]*ze)/255),this.setValueXY(ei+Je.position[0],ti+Je.position[1],ii,ri)}}if(Array.isArray(qe)&&qe.length>0){let Qe=this.getCanvas().getContext("2d");Qe.fillStyle=Ye,Qe.font=Ke;for(let Je=0;Je<Math.min(Ve.length,qe.length);Je++){let St=Xe[Je]?Xe[Je]:Ve[Je].position;Qe.fillText(qe[Je],St[0],St[1])}this.data=Uint8Array.from(Qe.getImageData(0,0,this.width,this.height).data)}return this}function zerosMatrix(Ve,je){let ze=new Array(Ve);for(let qe=0;qe<Ve;qe++)ze[qe]=new Array(je).fill(0);return ze}const cross=[[0,0,1,0,0],[0,0,1,0,0],[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0]],smallCross=[[0,1,0],[1,1,1],[0,1,0]];class Shape{constructor(je={}){let{kind:ze="cross",shape:qe,size:Xe,width:Ye,height:Ke,filled:Ze=!0}=je;if(Xe&&(Ye=Xe,Ke=Xe),qe)switch(qe.toLowerCase()){case"square":case"rectangle":this.matrix=rectangle(Ye,Ke,{filled:Ze});break;case"circle":case"ellipse":this.matrix=ellipse(Ye,Ke,{filled:Ze});break;case"triangle":this.matrix=triangle(Ye,Ke,{filled:Ze});break;default:throw new Error(`Shape: unexpected shape: ${qe}`)}else if(ze)switch(ze.toLowerCase()){case"cross":this.matrix=cross;break;case"smallcross":this.matrix=smallCross;break;default:throw new Error(`Shape: unexpected kind: ${ze}`)}else throw new Error("Shape: expected a kind or a shape option");this.height=this.matrix.length,this.width=this.matrix[0].length,this.halfHeight=this.height/2>>0,this.halfWidth=this.width/2>>0}getPoints(){let je=this.matrix,ze=[];for(let qe=0;qe<je.length;qe++)for(let Xe=0;Xe<je[0].length;Xe++)je[qe][Xe]&&ze.push([Xe-this.halfWidth,qe-this.halfHeight]);return ze}getMask(){let je=new Image$1(this.width,this.height,{kind:BINARY});for(let ze=0;ze<this.matrix.length;ze++)for(let qe=0;qe<this.matrix[0].length;qe++)this.matrix[ze][qe]&&je.setBitXY(qe,ze);return je}}function rectangle(Ve,je,ze){const qe=zerosMatrix(je,Ve);if(ze.filled)for(let Xe=0;Xe<je;Xe++)for(let Ye=0;Ye<Ve;Ye++)qe[Xe][Ye]=1;else{for(let Xe of[0,je-1])for(let Ye=0;Ye<Ve;Ye++)qe[Xe][Ye]=1;for(let Xe=0;Xe<je;Xe++)for(let Ye of[0,Ve-1])qe[Xe][Ye]=1}return qe}function ellipse(Ve,je,ze){const qe=zerosMatrix(je,Ve);let Xe=1-je%2,Ye=1-Ve%2,Ke=Math.floor((Ve-1)/2),Ze=Math.floor((je-1)/2),Qe=Ke*Ke,Je=Ze*Ze;if(ze.filled)for(let St=0;St<=Ze;St++){let ei=Math.floor(Math.sqrt(Qe-Qe*St*St/Je));for(let ti=Ke-ei;ti<=Ke;ti++)qe[Ze-St][ti]=1,qe[Ze+St+Xe][ti]=1,qe[Ze-St][Ve-ti-1]=1,qe[Ze+St+Xe][Ve-ti-1]=1}else{for(let St=0;St<=Ze;St++){let ei=Math.floor(Math.sqrt(Qe-Qe*St*St/Je)),ti=Ke-ei;qe[Ze-St][ti]=1,qe[Ze+St+Xe][ti]=1,qe[Ze-St][Ve-ti-1]=1,qe[Ze+St+Xe][Ve-ti-1]=1}for(let St=0;St<=Ke;St++){let ei=Math.floor(Math.sqrt(Je-Je*St*St/Qe)),ti=Ze-ei;qe[ti][Ke-St]=1,qe[ti][Ke+St+Ye]=1,qe[je-ti-1][Ke-St]=1,qe[je-ti-1][Ke+St+Ye]=1}}return qe}function triangle(Ve,je,ze){if(!ze.filled)throw new Error("Non filled triangle is not implemented");const qe=zerosMatrix(je,Ve);for(let Xe=0;Xe<je;Xe++){let Ye=Math.floor((1-Xe/je)*Ve/2);for(let Ke=Ye;Ke<Ve-Ye;Ke++)qe[Xe][Ke]=1}return qe}function paintPoints(Ve,je={}){let{shape:ze}=je;this.checkProcessable("paintPoints",{bitDepth:[8,16]});let qe=getColors(Object.assign({},je,{numberColors:Ve.length})),Xe=new Shape(ze).getPoints(),Ye=Math.min(this.channels,qe[0].length);for(let Ke=0;Ke<Ve.length;Ke++){let Ze=qe[Ke%qe.length],Qe=Ve[Ke][0],Je=Ve[Ke][1];for(let St=0;St<Xe.length;St++){let ei=Xe[St][0],ti=Xe[St][1];if(Qe+ei>=0&&Je+ti>=0&&Qe+ei<this.width&&Je+ti<this.height){let ii=(Qe+ei+(Je+ti)*this.width)*this.channels;for(let ri=0;ri<Ye;ri++)this.data[ii+ri]=Ze[ri]}}}return this}function paintPolyline(Ve,je={}){let{color:ze=[this.maxValue,0,0],closed:qe=!1}=je;this.checkProcessable("paintPoints",{bitDepth:[1,8,16]});let Xe=Math.min(this.channels,ze.length);for(let Ye=0;Ye<Ve.length-1+qe;Ye++){let Ke=Ve[Ye],Ze=Ve[(Ye+1)%Ve.length],Qe=Ze[0]-Ke[0],Je=Ze[1]-Ke[1],St=Math.max(Math.abs(Qe),Math.abs(Je)),ei=Qe/St,ti=Je/St,ii=Ke[0],ri=Ke[1];for(let si=0;si<=St;si++){let ui=Math.round(ii),ai=Math.round(ri);if(ui>=0&&ai>=0&&ui<this.width&&ai<this.height)if(this.bitDepth===1)this.setBitXY(ui,ai);else{let oi=(ui+ai*this.width)*this.channels;for(let ni=0;ni<Xe;ni++)this.data[oi+ni]=ze[ni]}ii=ii+ei,ri=ri+ti}}return this}function paintPolylines(Ve,je={}){let ze=Object.assign({},je);this.checkProcessable("paintPolylines",{bitDepth:[8,16]});let qe=getColors(Object.assign({},je,{numberColors:Ve.length}));for(let Xe=0;Xe<Ve.length;Xe++)ze.color=qe[Xe%qe.length],this.paintPolyline(Ve[Xe],ze);return this}function paintPolygon(Ve,je={}){let{color:ze=[this.maxValue,0,0],filled:qe=!1}=je;this.checkProcessable("paintPoints",{bitDepth:[1,8,16]}),je.closed=!0;let Xe=deleteDouble(Ve);if(qe===!1)return this.paintPolyline(Ve,je);{let Ye=Array(this.height);for(let Ke=0;Ke<this.height;Ke++){Ye[Ke]=[];for(let Ze=0;Ze<this.width;Ze++)Ye[Ke].push(0)}for(let Ke=0;Ke<Xe.length;Ke++){const Ze=lineBetweenTwoPoints(Xe[Ke],Xe[(Ke+1)%Xe.length]);for(let Qe=0;Qe<this.height;Qe++)for(let Je=0;Je<this.width;Je++)isAtTheRightOfTheLine(Je,Qe,Ze,this.height)&&(Ye[Qe][Je]=Ye[Qe][Je]===0?1:0)}for(let Ke=0;Ke<this.height;Ke++)for(let Ze=0;Ze<this.width;Ze++)if(Ye[Ke][Ze]===1)if(this.bitDepth===1)this.setBitXY(Ze,Ke);else{let Qe=Math.min(this.channels,ze.length),Je=(Ze+Ke*this.width)*this.channels;for(let St=0;St<Qe;St++)this.data[Je+St]=ze[St]}return this.paintPolyline(Ve,je)}}function deleteDouble(Ve){let je=[];for(let ze=0;ze<Ve.length;ze++)if(!(Ve[ze][0]===Ve[(ze+1)%Ve.length][0]&&Ve[ze][1]===Ve[(ze+1)%Ve.length][1])){if(Ve[ze][0]===Ve[(ze-1+Ve.length)%Ve.length][0]&&Ve[ze][1]===Ve[(ze-1+Ve.length)%Ve.length][1]||Ve[(ze+1)%Ve.length][0]===Ve[(ze-1+Ve.length)%Ve.length][0]&&Ve[(ze-1+Ve.length)%Ve.length][1]===Ve[(ze+1)%Ve.length][1])continue;je.push(Ve[ze])}return je}function lineBetweenTwoPoints(Ve,je){if(Ve[0]===je[0])return{a:0,b:Ve[0],vertical:!0};{const ze=(je[1]-Ve[1])/(je[0]-Ve[0]),qe=Ve[1]-ze*Ve[0];return{a:ze,b:qe,vertical:!1}}}function isAtTheRightOfTheLine(Ve,je,ze,qe){if(ze.vertical===!0)return ze.b<=Ve;if(ze.a===0)return!1;{const Xe=(je-ze.b)/ze.a;return Xe<Ve&&Xe>=0&&Xe<=qe}}function paintPolygons(Ve,je={}){let ze=Object.assign({},je);this.checkProcessable("paintPolygons",{bitDepth:[8,16]});let qe=getColors(Object.assign({},je,{numberColors:Ve.length}));for(let Xe=0;Xe<Ve.length;Xe++)ze.color=qe[Xe%qe.length],this.paintPolygon(Ve[Xe],ze);return this}function getHistogram(Ve={}){let{maxSlots:je=256,channel:ze,useAlpha:qe=!0}=Ve;if(this.checkProcessable("getHistogram",{bitDepth:[1,8,16]}),ze===void 0){if(this.components>1)throw new RangeError("You need to define the channel for an image that contains more than one channel");ze=0}return getChannelHistogram.call(this,ze,{useAlpha:qe,maxSlots:je})}function getHistograms(Ve={}){const{maxSlots:je=256,useAlpha:ze=!0}=Ve;this.checkProcessable("getHistograms",{bitDepth:[8,16]});let qe=new Array(ze?this.components:this.channels);for(let Xe=0;Xe<qe.length;Xe++)qe[Xe]=getChannelHistogram.call(this,Xe,{useAlpha:ze,maxSlots:je});return qe}function getChannelHistogram(Ve,je){let{useAlpha:ze,maxSlots:qe}=je;if(this.bitDepth===1){let Qe=[0,0];for(let Je=0;Je<this.height;Je++)for(let St=0;St<this.width;St++){let ei=this.getBitXY(Je,St);ei===0?Qe[0]+=1:ei===1&&(Qe[1]+=1)}return Qe}let Xe=Math.log2(qe);if(!isInteger$1(Xe))throw new RangeError("maxSlots must be a power of 2, for example: 64, 256, 1024");let Ye=0;this.bitDepth>Xe&&(Ye=this.bitDepth-Xe);let Ke=this.data,Ze=newArray$1(Math.pow(2,Math.min(this.bitDepth,Xe)),0);if(ze&&this.alpha){let Qe=this.channels-Ve-1;for(let Je=Ve;Je<Ke.length;Je+=this.channels)Ze[Ke[Je]>>Ye]+=Ke[Je+Qe]/this.maxValue}else for(let Qe=Ve;Qe<Ke.length;Qe+=this.channels)Ze[Ke[Qe]>>Ye]++;return Ze}function getColorHistogram(Ve={}){let{useAlpha:je=!0,nbSlots:ze=512}=Ve;this.checkProcessable("getColorHistogram",{bitDepth:[8,16],components:[3]});let qe=Math.log(ze)/Math.log(8);if(qe!==Math.floor(qe))throw new RangeError("nbSlots must be a power of 8. Usually 8, 64, 512 or 4096");let Xe=this.bitDepth-qe,Ye=this.data,Ke=newArray$1(Math.pow(8,qe),0),Ze=Math.pow(2,qe*2),Qe=Math.pow(2,qe);for(let Je=0;Je<Ye.length;Je+=this.channels){let St=(Ye[Je]>>Xe)*Ze+(Ye[Je+1]>>Xe)*Qe+(Ye[Je+2]>>Xe);je&&this.alpha?Ke[St]+=Ye[Je+this.channels-1]/this.maxValue:Ke[St]++}return Ke}function min(){this.checkProcessable("min",{bitDepth:[8,16,32]});let Ve=newArray$1(this.channels,1/0);for(let je=0;je<this.data.length;je+=this.channels)for(let ze=0;ze<this.channels;ze++)this.data[je+ze]<Ve[ze]&&(Ve[ze]=this.data[je+ze]);return Ve}function max$3(){this.checkProcessable("max",{bitDepth:[8,16,32]});let Ve=newArray$1(this.channels,-1/0);for(let je=0;je<this.data.length;je+=this.channels)for(let ze=0;ze<this.channels;ze++)this.data[je+ze]>Ve[ze]&&(Ve[ze]=this.data[je+ze]);return Ve}function sum(){this.checkProcessable("sum",{bitDepth:[8,16]});let Ve=newArray$1(this.channels,0);for(let je=0;je<this.data.length;je+=this.channels)for(let ze=0;ze<this.channels;ze++)Ve[ze]+=this.data[je+ze];return Ve}function getMoment(Ve=0,je=0){this.checkProcessable("getMoment",{bitDepth:[1]});let ze=0;for(let qe=0;qe<this.width;qe++)for(let Xe=0;Xe<this.height;Xe++)this.getBitXY(qe,Xe)===1&&(ze+=qe**Ve*Xe**je);return ze}function localMaxima(Ve={}){let{mask:je,region:ze=3,removeClosePoints:qe=0,invert:Xe=!1,maxEquals:Ye=2}=Ve,Ke=this;this.checkProcessable("localMaxima",{bitDepth:[8,16],components:1}),ze*=4;let Ze=Xe?0:1,Qe=[1,0,-1,0,1,1,-1,-1,2,0,-2,0,2,2,-2,-2],Je=[0,1,0,-1,1,-1,1,-1,0,2,0,-2,2,-2,2,-2],St=ze<=8?1:2,ei=[];for(let ti=St;ti<Ke.height-St;ti++)for(let ii=St;ii<Ke.width-St;ii++){if(je&&je.getBitXY(ii,ti)!==Ze)continue;let ri=0,si=0,ui=Ke.data[ii+ti*Ke.width];for(let ai=0;ai<ze;ai++)Xe?Ke.data[ii+Qe[ai]+(ti+Je[ai])*Ke.width]>ui&&ri++:Ke.data[ii+Qe[ai]+(ti+Je[ai])*Ke.width]<ui&&ri++,Ke.data[ii+Qe[ai]+(ti+Je[ai])*Ke.width]===ui&&si++;ri+si===ze&&si<=Ye&&ei.push([ii,ti])}if(qe>0)for(let ti=0;ti<ei.length;ti++)for(let ii=ti+1;ii<ei.length;ii++)Math.sqrt(Math.pow(ei[ti][0]-ei[ii][0],2)+Math.pow(ei[ti][1]-ei[ii][1],2))<qe&&(ei[ti][0]=ei[ti][0]+ei[ii][0]>>1,ei[ti][1]=ei[ti][1]+ei[ii][1]>>1,ei.splice(ii,1),ii--);return ei}function mean(){let Ve=this.getHistograms({maxSlots:this.maxValue+1}),je=new Array(Ve.length);for(let ze=0;ze<Ve.length;ze++){let qe=Ve[ze];je[ze]=mean$2(qe)}return je}function median(){let Ve=this.getHistograms({maxSlots:this.maxValue+1}),je=new Array(Ve.length);for(let ze=0;ze<Ve.length;ze++){let qe=Ve[ze];je[ze]=median$2(qe)}return je}function points$1(){this.checkProcessable("points",{bitDepth:[1]});const Ve=[];for(let je=0;je<this.width;je++)for(let ze=0;ze<this.height;ze++)this.getBitXY(je,ze)===1&&Ve.push([je,ze]);return Ve}function extendedPoints(){this.checkProcessable("extendedPoints",{bitDepth:[1]});const Ve=[];for(let je=0;je<this.height;je++)for(let ze=0;ze<this.width;ze++)if(this.getBitXY(ze,je)===1)for(Ve.push([ze,je]),this.getBitXY(ze+1,je)!==1?(Ve.push([ze+1,je]),Ve.push([ze+1,je+1]),this.getBitXY(ze,je+1)!==1&&Ve.push([ze,je+1])):this.getBitXY(ze,je+1)!==1&&(Ve.push([ze,je+1]),Ve.push([ze+1,je+1]));ze<this.width-2&&this.getBitXY(ze+1,je)===1&&this.getBitXY(ze+2,je)===1;)ze++;return Ve}function getRelativePosition(Ve,je={}){if(this===Ve)return[0,0];let ze=[0,0],qe=this;for(;qe;){if(qe===Ve)return ze;qe.position&&(ze[0]+=qe.position[0],ze[1]+=qe.position[1]),qe=qe.parent}return je.defaultFurther?ze:!1}function countAlphaPixels(Ve={}){let{alpha:je=1}=Ve;this.checkProcessable("countAlphaPixels",{bitDepth:[8,16],alpha:1});let ze=0;if(je!==void 0){for(let qe=this.components;qe<this.data.length;qe+=this.channels)this.data[qe]===je&&ze++;return ze}else return this.size}function monotoneChainConvexHull$1(Ve,je={}){const{sorted:ze}=je;ze||(Ve=Ve.slice().sort(byXThenY));const qe=Ve.length,Xe=new Array(qe*2);let Ye=0;for(let Ze=0;Ze<qe;Ze++){const Qe=Ve[Ze];for(;Ye>=2&&cw(Xe[Ye-2],Xe[Ye-1],Qe)<=0;)Ye--;Xe[Ye++]=Qe}const Ke=Ye+1;for(let Ze=qe-2;Ze>=0;Ze--){const Qe=Ve[Ze];for(;Ye>=Ke&&cw(Xe[Ye-2],Xe[Ye-1],Qe)<=0;)Ye--;Xe[Ye++]=Qe}return Xe.slice(0,Ye-1)}function cw(Ve,je,ze){return(je[1]-Ve[1])*(ze[0]-Ve[0])-(je[0]-Ve[0])*(ze[1]-Ve[1])}function byXThenY(Ve,je){return Ve[0]===je[0]?Ve[1]-je[1]:Ve[0]-je[0]}function monotoneChainConvexHull(){return monotoneChainConvexHull$1(this.extendedPoints,{sorted:!1})}function round$1(Ve){for(let je=0;je<Ve.length;je++)Ve[je][0]=Math.round(Ve[je][0]),Ve[je][1]=Math.round(Ve[je][1]);return Ve}function difference(Ve,je){return[Ve[0]-je[0],Ve[1]-je[1]]}function normalize(Ve){let je=Math.sqrt(Ve[0]**2+Ve[1]**2);return[Ve[0]/je,Ve[1]/je]}function rotate(Ve,je,ze){ze===void 0&&(ze=new Array(je.length));let qe=Math.cos(Ve),Xe=Math.sin(Ve);for(let Ye=0;Ye<ze.length;++Ye)ze[Ye]=[qe*je[Ye][0]-Xe*je[Ye][1],Xe*je[Ye][0]+qe*je[Ye][1]];return ze}function perimeter(Ve){let je=0;for(let ze=0;ze<Ve.length;ze++){let qe=Ve[ze][0],Xe=Ve[ze][1],Ye=Ve[ze===Ve.length-1?0:ze+1][0],Ke=Ve[ze===Ve.length-1?0:ze+1][1];je+=Math.sqrt((Ye-qe)**2+(Ke-Xe)**2)}return je}function surface(Ve){let je=0;for(let ze=0;ze<Ve.length;ze++){let qe=Ve[ze][0],Xe=Ve[ze===Ve.length-1?0:ze+1][1],Ye=Ve[ze===Ve.length-1?0:ze+1][0],Ke=Ve[ze][1];je+=qe*Xe*.5,je-=Ye*Ke*.5}return Math.abs(je)}function minMax(Ve){let je=1/0,ze=1/0,qe=-1/0,Xe=-1/0;for(let Ye=0;Ye<Ve.length;Ye++)Ve[Ye][0]<je&&(je=Ve[Ye][0]),Ve[Ye][0]>qe&&(qe=Ve[Ye][0]),Ve[Ye][1]<ze&&(ze=Ve[Ye][1]),Ve[Ye][1]>Xe&&(Xe=Ve[Ye][1]);return[[je,ze],[qe,Xe]]}function moveToZeroZero(Ve,je){je===void 0&&(je=new Array(Ve.length).fill(0).map(()=>[]));let ze=minMax(Ve),qe=ze[0][0],Xe=ze[0][1];for(let Ye=0;Ye<Ve.length;Ye++)je[Ye][0]=Ve[Ye][0]-qe,je[Ye][1]=Ve[Ye][1]-Xe;return je}function minimalBoundingRectangle(Ve={}){const{originalPoints:je=monotoneChainConvexHull.call(this)}=Ve;if(je.length===0)return[];if(je.length===1)return[je[0],je[0],je[0],je[0]];const ze=new Array(je.length);let qe=1/0,Xe=0,Ye;for(let Ke=0;Ke<ze.length;Ke++){let Ze=getAngle$1(je[Ke],je[(Ke+1)%ze.length]);rotate(-Ze,je,ze);let Qe=ze[Ke][0],Je=ze[Ke][1],St=ze[(Ke+1)%ze.length][0],ei=ze[(Ke+1)%ze.length][1],ti=!0,ii=0,ri=0,si=0;for(let ni=0;ni<ze.length;ni++){let ci=ze[ni][0],hi=ze[ni][1],di=(ci-Qe)/(St-Qe);ti===!0?(ti=!1,ii=di,ri=di):(di<ii&&(ii=di),di>ri&&(ri=di));let fi=(-(St-Qe)*hi+St*Je-ei*Qe)/(St-Qe);Math.abs(fi)>Math.abs(si)&&(si=fi)}let ui=[Qe+ii*(St-Qe),Je],ai=[Qe+ri*(St-Qe),Je],oi=Math.abs(si*(ii-ri)*(St-Qe));oi<qe&&(Xe=Ze,qe=oi,Ye=[ui,ai,[ai[0],ai[1]-si],[ui[0],ui[1]-si]])}return rotate(Xe,Ye,Ye),Ye}function getAngle$1(Ve,je){let ze=difference(je,Ve),qe=normalize(ze),Xe=Math.acos(qe[0]);return qe[1]<0?-Xe:Xe}function extend$1(Ve){let je={inPlace:!0};Ve.extendMethod("invert",invert),Ve.extendMethod("abs",abs),Ve.extendMethod("level",level,je),Ve.extendMethod("add",add,je),Ve.extendMethod("subtract",subtract,je),Ve.extendMethod("subtractImage",subtractImage),Ve.extendMethod("multiply",multiply,je),Ve.extendMethod("divide",divide,je),Ve.extendMethod("hypotenuse",hypotenuse),Ve.extendMethod("background",background$1),Ve.extendMethod("flipX",flipX),Ve.extendMethod("flipY",flipY),Ve.extendMethod("blurFilter",blurFilter),Ve.extendMethod("medianFilter",medianFilter),Ve.extendMethod("gaussianFilter",gaussianFilter),Ve.extendMethod("sobelFilter",sobelFilter),Ve.extendMethod("gradientFilter",gradientFilter),Ve.extendMethod("scharrFilter",scharrFilter),Ve.extendMethod("dilate",dilate),Ve.extendMethod("erode",erode),Ve.extendMethod("open",open$1),Ve.extendMethod("close",close),Ve.extendMethod("topHat",topHat),Ve.extendMethod("blackHat",blackHat),Ve.extendMethod("morphologicalGradient",morphologicalGradient),Ve.extendMethod("warpingFourPoints",warpingFourPoints),Ve.extendMethod("crop",crop),Ve.extendMethod("cropAlpha",cropAlpha),Ve.extendMethod("resize",resize).extendMethod("scale",resize),Ve.extendMethod("hsv",hsv),Ve.extendMethod("hsl",hsl$1),Ve.extendMethod("cmyk",cmyk),Ve.extendMethod("rgba8",rgba8),Ve.extendMethod("grey",grey).extendMethod("gray",grey),Ve.extendMethod("mask",mask),Ve.extendMethod("pad",pad),Ve.extendMethod("colorDepth",colorDepth),Ve.extendMethod("setBorder",setBorder,je),Ve.extendMethod("rotate",rotate$1),Ve.extendMethod("rotateLeft",rotateLeft),Ve.extendMethod("rotateRight",rotateRight),Ve.extendMethod("insert",insert),Ve.extendMethod("getRow",getRow),Ve.extendMethod("getColumn",getColumn),Ve.extendMethod("getMatrix",getMatrix),Ve.extendMethod("setMatrix",setMatrix),Ve.extendMethod("getPixelsArray",getPixelsArray),Ve.extendMethod("getIntersection",getIntersection),Ve.extendMethod("getClosestCommonParent",getClosestCommonParent),Ve.extendMethod("getThreshold",getThreshold),Ve.extendMethod("split",split),Ve.extendMethod("getChannel",getChannel),Ve.extendMethod("combineChannels",combineChannels),Ve.extendMethod("setChannel",setChannel),Ve.extendMethod("getSimilarity",getSimilarity),Ve.extendMethod("getPixelsGrid",getPixelsGrid),Ve.extendMethod("getBestMatch",getBestMatch),Ve.extendMethod("cannyEdge",cannyEdge),Ve.extendMethod("convolution",convolution),Ve.extendMethod("extract",extract),Ve.extendMethod("floodFill",floodFill),Ve.extendMethod("paintLabels",paintLabels,je),Ve.extendMethod("paintMasks",paintMasks,je),Ve.extendMethod("paintPoints",paintPoints,je),Ve.extendMethod("paintPolyline",paintPolyline,je),Ve.extendMethod("paintPolylines",paintPolylines,je),Ve.extendMethod("paintPolygon",paintPolygon,je),Ve.extendMethod("paintPolygons",paintPolygons,je),Ve.extendMethod("countAlphaPixels",countAlphaPixels),Ve.extendMethod("monotoneChainConvexHull",monotoneChainConvexHull),Ve.extendMethod("minimalBoundingRectangle",minimalBoundingRectangle),Ve.extendMethod("getHistogram",getHistogram).extendProperty("histogram",getHistogram),Ve.extendMethod("getHistograms",getHistograms).extendProperty("histograms",getHistograms),Ve.extendMethod("getColorHistogram",getColorHistogram).extendProperty("colorHistogram",getColorHistogram),Ve.extendMethod("getMin",min).extendProperty("min",min),Ve.extendMethod("getMax",max$3).extendProperty("max",max$3),Ve.extendMethod("getSum",sum).extendProperty("sum",sum),Ve.extendMethod("getMoment",getMoment).extendProperty("moment",getMoment),Ve.extendMethod("getLocalMaxima",localMaxima),Ve.extendMethod("getMedian",median).extendProperty("median",median),Ve.extendMethod("getMean",mean).extendProperty("mean",mean),Ve.extendMethod("getPoints",points$1).extendProperty("points",points$1),Ve.extendMethod("getExtendedPoints",extendedPoints).extendProperty("extendedPoints",extendedPoints),Ve.extendMethod("getRelativePosition",getRelativePosition)}var quantities={exports:{}};(function(Ve,je){(function(ze,qe){Ve.exports=qe()})(commonjsGlobal$1,function(){function ze(Yi){return typeof Yi=="string"||Yi instanceof String}var qe=Number.isFinite||window.isFinite;function Xe(Yi){return qe(Yi)}function Ye(Yi){return Yi}function Ke(Yi){var fn={};return Yi.filter(function(Sn){return fn.hasOwnProperty(Sn)?!1:fn[Sn]=!0})}function Ze(Yi,fn){if(fn.length!==Yi.length)return!1;for(var Sn=0;Sn<Yi.length;Sn++)if(fn[Sn].compareArray&&!fn[Sn].compareArray(Yi[Sn])||fn[Sn]!==Yi[Sn])return!1;return!0}function Qe(Yi,fn){Object.keys(fn).forEach(function(Sn){Yi[Sn]=fn[Sn]})}function Je(){for(var Yi=1,fn=0,Sn=0;Sn<arguments.length;Sn++){var Dn=arguments[Sn];fn=fn+ti(Dn),Yi*=Dn}return fn!==0?ei(Yi,fn):Yi}function St(Yi,fn){if(fn===0)throw new Error("Divide by zero");var Sn=Math.pow(10,ti(fn)),Dn=Sn/(Sn*fn);return Je(Yi,Dn)}function ei(Yi,fn){return Math.round(Yi*Math.pow(10,fn))/Math.pow(10,fn)}function ti(Yi){if(!isFinite(Yi))return 0;for(var fn=0;Yi%1!==0;)Yi*=10,fn++;return fn}function ii(){var Yi;if(!this)return Yi=Object.create(ii.prototype),ii.apply(Yi,arguments),Yi;Yi=Error.apply(this,arguments),this.name="QtyError",this.message=Yi.message,this.stack=Yi.stack}ii.prototype=Object.create(Error.prototype,{constructor:{value:ii}});function ri(Yi,fn){throw new ii("Incompatible units: "+Yi+" and "+fn)}var si={"<googol>":[["googol"],1e100,"prefix"],"<kibi>":[["Ki","Kibi","kibi"],Math.pow(2,10),"prefix"],"<mebi>":[["Mi","Mebi","mebi"],Math.pow(2,20),"prefix"],"<gibi>":[["Gi","Gibi","gibi"],Math.pow(2,30),"prefix"],"<tebi>":[["Ti","Tebi","tebi"],Math.pow(2,40),"prefix"],"<pebi>":[["Pi","Pebi","pebi"],Math.pow(2,50),"prefix"],"<exi>":[["Ei","Exi","exi"],Math.pow(2,60),"prefix"],"<zebi>":[["Zi","Zebi","zebi"],Math.pow(2,70),"prefix"],"<yebi>":[["Yi","Yebi","yebi"],Math.pow(2,80),"prefix"],"<yotta>":[["Y","Yotta","yotta"],1e24,"prefix"],"<zetta>":[["Z","Zetta","zetta"],1e21,"prefix"],"<exa>":[["E","Exa","exa"],1e18,"prefix"],"<peta>":[["P","Peta","peta"],1e15,"prefix"],"<tera>":[["T","Tera","tera"],1e12,"prefix"],"<giga>":[["G","Giga","giga"],1e9,"prefix"],"<mega>":[["M","Mega","mega"],1e6,"prefix"],"<kilo>":[["k","kilo"],1e3,"prefix"],"<hecto>":[["h","Hecto","hecto"],100,"prefix"],"<deca>":[["da","Deca","deca","deka"],10,"prefix"],"<deci>":[["d","Deci","deci"],.1,"prefix"],"<centi>":[["c","Centi","centi"],.01,"prefix"],"<milli>":[["m","Milli","milli"],.001,"prefix"],"<micro>":[["u","","","Micro","mc","micro"],1e-6,"prefix"],"<nano>":[["n","Nano","nano"],1e-9,"prefix"],"<pico>":[["p","Pico","pico"],1e-12,"prefix"],"<femto>":[["f","Femto","femto"],1e-15,"prefix"],"<atto>":[["a","Atto","atto"],1e-18,"prefix"],"<zepto>":[["z","Zepto","zepto"],1e-21,"prefix"],"<yocto>":[["y","Yocto","yocto"],1e-24,"prefix"],"<1>":[["1","<1>"],1,""],"<meter>":[["m","meter","meters","metre","metres"],1,"length",["<meter>"]],"<inch>":[["in","inch","inches",'"'],.0254,"length",["<meter>"]],"<foot>":[["ft","foot","feet","'"],.3048,"length",["<meter>"]],"<yard>":[["yd","yard","yards"],.9144,"length",["<meter>"]],"<mile>":[["mi","mile","miles"],1609.344,"length",["<meter>"]],"<naut-mile>":[["nmi","naut-mile"],1852,"length",["<meter>"]],"<league>":[["league","leagues"],4828,"length",["<meter>"]],"<furlong>":[["furlong","furlongs"],201.2,"length",["<meter>"]],"<rod>":[["rd","rod","rods"],5.029,"length",["<meter>"]],"<mil>":[["mil","mils"],254e-7,"length",["<meter>"]],"<angstrom>":[["ang","angstrom","angstroms"],1e-10,"length",["<meter>"]],"<fathom>":[["fathom","fathoms"],1.829,"length",["<meter>"]],"<pica>":[["pica","picas"],.00423333333,"length",["<meter>"]],"<point>":[["pt","point","points"],.000352777778,"length",["<meter>"]],"<redshift>":[["z","red-shift","redshift"],1302773e20,"length",["<meter>"]],"<AU>":[["AU","astronomical-unit"],1495979e5,"length",["<meter>"]],"<light-second>":[["ls","light-second"],299792500,"length",["<meter>"]],"<light-minute>":[["lmin","light-minute"],1798755e4,"length",["<meter>"]],"<light-year>":[["ly","light-year"],9460528e9,"length",["<meter>"]],"<parsec>":[["pc","parsec","parsecs"],3085678e10,"length",["<meter>"]],"<datamile>":[["DM","datamile"],1828.8,"length",["<meter>"]],"<kilogram>":[["kg","kilogram","kilograms"],1,"mass",["<kilogram>"]],"<AMU>":[["u","AMU","amu"],1660538921e-36,"mass",["<kilogram>"]],"<dalton>":[["Da","Dalton","Daltons","dalton","daltons"],1660538921e-36,"mass",["<kilogram>"]],"<slug>":[["slug","slugs"],14.5939029,"mass",["<kilogram>"]],"<short-ton>":[["tn","ton","short-ton"],907.18474,"mass",["<kilogram>"]],"<metric-ton>":[["t","tonne","metric-ton"],1e3,"mass",["<kilogram>"]],"<carat>":[["ct","carat","carats"],2e-4,"mass",["<kilogram>"]],"<pound>":[["lbs","lb","pound","pounds","#"],.45359237,"mass",["<kilogram>"]],"<ounce>":[["oz","ounce","ounces"],.0283495231,"mass",["<kilogram>"]],"<gram>":[["g","gram","grams","gramme","grammes"],.001,"mass",["<kilogram>"]],"<grain>":[["grain","grains","gr"],6479891e-11,"mass",["<kilogram>"]],"<dram>":[["dram","drams","dr"],.0017718452,"mass",["<kilogram>"]],"<stone>":[["stone","stones","st"],6.35029318,"mass",["<kilogram>"]],"<hectare>":[["hectare"],1e4,"area",["<meter>","<meter>"]],"<acre>":[["acre","acres"],4046.85642,"area",["<meter>","<meter>"]],"<sqft>":[["sqft"],1,"area",["<foot>","<foot>"]],"<liter>":[["l","L","liter","liters","litre","litres"],.001,"volume",["<meter>","<meter>","<meter>"]],"<gallon>":[["gal","gallon","gallons"],.0037854118,"volume",["<meter>","<meter>","<meter>"]],"<gallon-imp>":[["galimp","gallon-imp","gallons-imp"],.00454609,"volume",["<meter>","<meter>","<meter>"]],"<quart>":[["qt","quart","quarts"],.00094635295,"volume",["<meter>","<meter>","<meter>"]],"<pint>":[["pt","pint","pints"],.000473176475,"volume",["<meter>","<meter>","<meter>"]],"<pint-imp>":[["ptimp","pint-imp","pints-imp"],.00056826125,"volume",["<meter>","<meter>","<meter>"]],"<cup>":[["cu","cup","cups"],.000236588238,"volume",["<meter>","<meter>","<meter>"]],"<fluid-ounce>":[["floz","fluid-ounce","fluid-ounces"],295735297e-13,"volume",["<meter>","<meter>","<meter>"]],"<fluid-ounce-imp>":[["flozimp","floz-imp","fluid-ounce-imp","fluid-ounces-imp"],284130625e-13,"volume",["<meter>","<meter>","<meter>"]],"<tablespoon>":[["tb","tbsp","tbs","tablespoon","tablespoons"],147867648e-13,"volume",["<meter>","<meter>","<meter>"]],"<teaspoon>":[["tsp","teaspoon","teaspoons"],492892161e-14,"volume",["<meter>","<meter>","<meter>"]],"<bushel>":[["bu","bsh","bushel","bushels"],.035239072,"volume",["<meter>","<meter>","<meter>"]],"<oilbarrel>":[["bbl","oilbarrel","oilbarrels","oil-barrel","oil-barrels"],.158987294928,"volume",["<meter>","<meter>","<meter>"]],"<beerbarrel>":[["bl","bl-us","beerbarrel","beerbarrels","beer-barrel","beer-barrels"],.1173477658,"volume",["<meter>","<meter>","<meter>"]],"<beerbarrel-imp>":[["blimp","bl-imp","beerbarrel-imp","beerbarrels-imp","beer-barrel-imp","beer-barrels-imp"],.16365924,"volume",["<meter>","<meter>","<meter>"]],"<kph>":[["kph"],.277777778,"speed",["<meter>"],["<second>"]],"<mph>":[["mph"],.44704,"speed",["<meter>"],["<second>"]],"<knot>":[["kt","kn","kts","knot","knots"],.514444444,"speed",["<meter>"],["<second>"]],"<fps>":[["fps"],.3048,"speed",["<meter>"],["<second>"]],"<gee>":[["gee"],9.80665,"acceleration",["<meter>"],["<second>","<second>"]],"<Gal>":[["Gal"],.01,"acceleration",["<meter>"],["<second>","<second>"]],"<kelvin>":[["degK","kelvin"],1,"temperature",["<kelvin>"]],"<celsius>":[["degC","celsius","celsius","centigrade"],1,"temperature",["<kelvin>"]],"<fahrenheit>":[["degF","fahrenheit"],5/9,"temperature",["<kelvin>"]],"<rankine>":[["degR","rankine"],5/9,"temperature",["<kelvin>"]],"<temp-K>":[["tempK","temp-K"],1,"temperature",["<temp-K>"]],"<temp-C>":[["tempC","temp-C"],1,"temperature",["<temp-K>"]],"<temp-F>":[["tempF","temp-F"],5/9,"temperature",["<temp-K>"]],"<temp-R>":[["tempR","temp-R"],5/9,"temperature",["<temp-K>"]],"<second>":[["s","sec","secs","second","seconds"],1,"time",["<second>"]],"<minute>":[["min","mins","minute","minutes"],60,"time",["<second>"]],"<hour>":[["h","hr","hrs","hour","hours"],3600,"time",["<second>"]],"<day>":[["d","day","days"],3600*24,"time",["<second>"]],"<week>":[["wk","week","weeks"],7*3600*24,"time",["<second>"]],"<fortnight>":[["fortnight","fortnights"],1209600,"time",["<second>"]],"<year>":[["y","yr","year","years","annum"],31556926,"time",["<second>"]],"<decade>":[["decade","decades"],315569260,"time",["<second>"]],"<century>":[["century","centuries"],3155692600,"time",["<second>"]],"<pascal>":[["Pa","pascal","Pascal"],1,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<bar>":[["bar","bars"],1e5,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<mmHg>":[["mmHg"],133.322368,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<inHg>":[["inHg"],3386.3881472,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<torr>":[["torr"],133.322368,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<atm>":[["atm","ATM","atmosphere","atmospheres"],101325,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<psi>":[["psi"],6894.76,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<cmh2o>":[["cmH2O","cmh2o"],98.0638,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<inh2o>":[["inH2O","inh2o"],249.082052,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<poise>":[["P","poise"],.1,"viscosity",["<kilogram>"],["<meter>","<second>"]],"<stokes>":[["St","stokes"],1e-4,"viscosity",["<meter>","<meter>"],["<second>"]],"<mole>":[["mol","mole"],1,"substance",["<mole>"]],"<molar>":[["M","molar"],1e3,"molar_concentration",["<mole>"],["<meter>","<meter>","<meter>"]],"<wtpercent>":[["wt%","wtpercent"],10,"molar_concentration",["<kilogram>"],["<meter>","<meter>","<meter>"]],"<katal>":[["kat","katal","Katal"],1,"activity",["<mole>"],["<second>"]],"<unit>":[["U","enzUnit","unit"],16667e-19,"activity",["<mole>"],["<second>"]],"<farad>":[["F","farad","Farad"],1,"capacitance",["<second>","<second>","<second>","<second>","<ampere>","<ampere>"],["<meter>","<meter>","<kilogram>"]],"<coulomb>":[["C","coulomb","Coulomb"],1,"charge",["<ampere>","<second>"]],"<Ah>":[["Ah"],3600,"charge",["<ampere>","<second>"]],"<ampere>":[["A","Ampere","ampere","amp","amps"],1,"current",["<ampere>"]],"<siemens>":[["S","Siemens","siemens"],1,"conductance",["<second>","<second>","<second>","<ampere>","<ampere>"],["<kilogram>","<meter>","<meter>"]],"<henry>":[["H","Henry","henry"],1,"inductance",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>","<ampere>"]],"<volt>":[["V","Volt","volt","volts"],1,"potential",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<second>","<ampere>"]],"<ohm>":[["Ohm","ohm","",""],1,"resistance",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<second>","<ampere>","<ampere>"]],"<weber>":[["Wb","weber","webers"],1,"magnetism",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>"]],"<tesla>":[["T","tesla","teslas"],1,"magnetism",["<kilogram>"],["<second>","<second>","<ampere>"]],"<gauss>":[["G","gauss"],1e-4,"magnetism",["<kilogram>"],["<second>","<second>","<ampere>"]],"<maxwell>":[["Mx","maxwell","maxwells"],1e-8,"magnetism",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>"]],"<oersted>":[["Oe","oersted","oersteds"],250/Math.PI,"magnetism",["<ampere>"],["<meter>"]],"<joule>":[["J","joule","Joule","joules","Joules"],1,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<erg>":[["erg","ergs"],1e-7,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<btu>":[["BTU","btu","BTUs"],1055.056,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<calorie>":[["cal","calorie","calories"],4.184,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<Calorie>":[["Cal","Calorie","Calories"],4184,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<therm-US>":[["th","therm","therms","Therm","therm-US"],105480400,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<Wh>":[["Wh"],3600,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<electronvolt>":[["eV","electronvolt","electronvolts"],1602176634e-28,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<newton>":[["N","Newton","newton"],1,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<dyne>":[["dyn","dyne"],1e-5,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<pound-force>":[["lbf","pound-force"],4.448222,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<hertz>":[["Hz","hertz","Hertz"],1,"frequency",["<1>"],["<second>"]],"<radian>":[["rad","radian","radians"],1,"angle",["<radian>"]],"<degree>":[["deg","degree","degrees"],Math.PI/180,"angle",["<radian>"]],"<arcminute>":[["arcmin","arcminute","arcminutes"],Math.PI/10800,"angle",["<radian>"]],"<arcsecond>":[["arcsec","arcsecond","arcseconds"],Math.PI/648e3,"angle",["<radian>"]],"<gradian>":[["gon","grad","gradian","grads"],Math.PI/200,"angle",["<radian>"]],"<steradian>":[["sr","steradian","steradians"],1,"solid_angle",["<steradian>"]],"<rotation>":[["rotation"],2*Math.PI,"angle",["<radian>"]],"<rpm>":[["rpm"],2*Math.PI/60,"angular_velocity",["<radian>"],["<second>"]],"<byte>":[["B","byte","bytes"],1,"information",["<byte>"]],"<bit>":[["b","bit","bits"],.125,"information",["<byte>"]],"<Bps>":[["Bps"],1,"information_rate",["<byte>"],["<second>"]],"<bps>":[["bps"],.125,"information_rate",["<byte>"],["<second>"]],"<dollar>":[["USD","dollar"],1,"currency",["<dollar>"]],"<cents>":[["cents"],.01,"currency",["<dollar>"]],"<candela>":[["cd","candela"],1,"luminosity",["<candela>"]],"<lumen>":[["lm","lumen"],1,"luminous_power",["<candela>","<steradian>"]],"<lux>":[["lux"],1,"illuminance",["<candela>","<steradian>"],["<meter>","<meter>"]],"<watt>":[["W","watt","watts"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<volt-ampere>":[["VA","volt-ampere"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<volt-ampere-reactive>":[["var","Var","VAr","VAR","volt-ampere-reactive"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<horsepower>":[["hp","horsepower"],745.699872,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<gray>":[["Gy","gray","grays"],1,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<roentgen>":[["R","roentgen"],.00933,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<sievert>":[["Sv","sievert","sieverts"],1,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<becquerel>":[["Bq","becquerel","becquerels"],1,"radiation",["<1>"],["<second>"]],"<curie>":[["Ci","curie","curies"],37e9,"radiation",["<1>"],["<second>"]],"<cpm>":[["cpm"],1/60,"rate",["<count>"],["<second>"]],"<dpm>":[["dpm"],1/60,"rate",["<count>"],["<second>"]],"<bpm>":[["bpm"],1/60,"rate",["<count>"],["<second>"]],"<dot>":[["dot","dots"],1,"resolution",["<each>"]],"<pixel>":[["pixel","px"],1,"resolution",["<each>"]],"<ppi>":[["ppi"],1,"resolution",["<pixel>"],["<inch>"]],"<dpi>":[["dpi"],1,"typography",["<dot>"],["<inch>"]],"<cell>":[["cells","cell"],1,"counting",["<each>"]],"<each>":[["each"],1,"counting",["<each>"]],"<count>":[["count"],1,"counting",["<each>"]],"<base-pair>":[["bp","base-pair"],1,"counting",["<each>"]],"<nucleotide>":[["nt","nucleotide"],1,"counting",["<each>"]],"<molecule>":[["molecule","molecules"],1,"counting",["<1>"]],"<dozen>":[["doz","dz","dozen"],12,"prefix_only",["<each>"]],"<percent>":[["%","percent"],.01,"prefix_only",["<1>"]],"<ppm>":[["ppm"],1e-6,"prefix_only",["<1>"]],"<ppb>":[["ppb"],1e-9,"prefix_only",["<1>"]],"<ppt>":[["ppt"],1e-12,"prefix_only",["<1>"]],"<ppq>":[["ppq"],1e-15,"prefix_only",["<1>"]],"<gross>":[["gr","gross"],144,"prefix_only",["<dozen>","<dozen>"]],"<decibel>":[["dB","decibel","decibels"],1,"logarithmic",["<decibel>"]]},ui=["<meter>","<kilogram>","<second>","<mole>","<ampere>","<radian>","<kelvin>","<temp-K>","<byte>","<dollar>","<candela>","<each>","<steradian>","<decibel>"],ai="<1>",oi=[ai];function ni(Yi,fn){var Sn=fn[1],Dn=fn[3]||[],qn=fn[4]||[];if(!Xe(Sn))throw new ii(Yi+": Invalid unit definition. 'scalar' must be a number");Dn.forEach(function(Wn){if(si[Wn]===void 0)throw new ii(Yi+": Invalid unit definition. Unit "+Wn+" in 'numerator' is not recognized")}),qn.forEach(function(Wn){if(si[Wn]===void 0)throw new ii(Yi+": Invalid unit definition. Unit "+Wn+" in 'denominator' is not recognized")})}var ci={},hi={},di={},fi={},mi={};for(var pi in si)if(si.hasOwnProperty(pi)){var wi=si[pi];if(wi[2]==="prefix"){ci[pi]=wi[1];for(var gi=0;gi<wi[0].length;gi++)hi[wi[0][gi]]=pi}else{ni(pi,wi),di[pi]={scalar:wi[1],numerator:wi[3],denominator:wi[4]};for(var yi=0;yi<wi[0].length;yi++)fi[wi[0][yi]]=pi}mi[pi]=wi[0][0]}function Ai(Yi){var fn,Sn=[],Dn=Object.keys(si);if(typeof Yi>"u")for(fn=0;fn<Dn.length;fn++)["","prefix"].indexOf(si[Dn[fn]][2])===-1&&Sn.push(Dn[fn].substr(1,Dn[fn].length-2));else{if(this.getKinds().indexOf(Yi)===-1)throw new ii("Kind not recognized");for(fn=0;fn<Dn.length;fn++)si[Dn[fn]][2]===Yi&&Sn.push(Dn[fn].substr(1,Dn[fn].length-2))}return Sn.sort(function(qn,Wn){return qn.toLowerCase()<Wn.toLowerCase()?-1:qn.toLowerCase()>Wn.toLowerCase()?1:0})}function Si(Yi){if(!fi[Yi])throw new ii("Unit not recognized");return si[fi[Yi]][0]}var ki=["length","time","temperature","mass","current","substance","luminosity","currency","information","angle"];function Li(){if(this.signature)return this.signature;for(var Yi=Bi.call(this),fn=0;fn<Yi.length;fn++)Yi[fn]*=Math.pow(20,fn);return Yi.reduce(function(Sn,Dn){return Sn+Dn},0)}function Bi(){if(!this.isBase())return Bi.call(this.toBase());for(var Yi=new Array(ki.length),fn=0;fn<Yi.length;fn++)Yi[fn]=0;for(var Sn,Dn,qn=0;qn<this.numerator.length;qn++)(Sn=si[this.numerator[qn]])&&(Dn=ki.indexOf(Sn[2]),Dn>=0&&(Yi[Dn]=Yi[Dn]+1));for(var Wn=0;Wn<this.denominator.length;Wn++)(Sn=si[this.denominator[Wn]])&&(Dn=ki.indexOf(Sn[2]),Dn>=0&&(Yi[Dn]=Yi[Dn]-1));return Yi}var Pi="[+-]",Ri="\\d+",Fi=Pi+"?"+Ri,Gi="\\."+Ri,Ti="(?:"+Ri+"(?:"+Gi+")?)|(?:"+Gi+")",Vi="[Ee]"+Fi,Ui="(?:"+Ti+")(?:"+Vi+")?",$i=Pi+"?\\s*"+Ui,Wi="("+$i+")?\\s*([^/]*)(?:/(.+))?",tn=new RegExp("^"+Wi+"$"),nn="\\^|\\*{2}",Qi="[01234]",Ei=new RegExp("([^ \\*\\d]+?)(?:"+nn+")?(-?"+Qi+"(?![a-zA-Z]))"),bi=new RegExp("([^ \\*\\d]+?)(?:"+nn+")?("+Qi+"(?![a-zA-Z]))");function Ci(Yi){ze(Yi)||(Yi=Yi.toString()),Yi=Yi.trim();var fn=tn.exec(Yi);if(!fn)throw new ii(Yi+": Quantity not recognized");var Sn=fn[1];Sn?(Sn=Sn.replace(/\s/g,""),this.scalar=parseFloat(Sn)):this.scalar=1;for(var Dn=fn[2],qn=fn[3],Wn,fr,or;fn=Ei.exec(Dn);){if(Wn=parseFloat(fn[2]),isNaN(Wn))throw new ii("Unit exponent is not a number");if(Wn===0&&!Ki.test(fn[1]))throw new ii("Unit not recognized");fr=fn[1]+" ",or="";for(var cr=0;cr<Math.abs(Wn);cr++)or+=fr;Wn>=0?Dn=Dn.replace(fn[0],or):(qn=qn?qn+or:or,Dn=Dn.replace(fn[0],""))}for(;fn=bi.exec(qn);){if(Wn=parseFloat(fn[2]),isNaN(Wn))throw new ii("Unit exponent is not a number");if(Wn===0&&!Ki.test(fn[1]))throw new ii("Unit not recognized");fr=fn[1]+" ",or="";for(var Pr=0;Pr<Wn;Pr++)or+=fr;qn=qn.replace(fn[0],or)}Dn&&(this.numerator=on(Dn.trim())),qn&&(this.denominator=on(qn.trim()))}var _i=Object.keys(hi).sort(function(Yi,fn){return fn.length-Yi.length}).join("|"),Ii=Object.keys(fi).sort(function(Yi,fn){return fn.length-Yi.length}).join("|"),Ni="\\b|$",Di="("+_i+")??("+Ii+")(?:"+Ni+")",Ki=new RegExp("^\\s*("+Di+"[\\s\\*]*)+$"),sn=new RegExp(Di,"g"),zi={};function on(Yi){var fn=zi[Yi];if(fn)return fn;var Sn,Dn=[];if(!Ki.test(Yi))throw new ii("Unit not recognized");for(;Sn=sn.exec(Yi);)Dn.push(Sn.slice(1));return Dn=Dn.map(function(qn){return hi[qn[0]]?[hi[qn[0]],fi[qn[1]]]:[fi[qn[1]]]}),Dn=Dn.reduce(function(qn,Wn){return qn.concat(Wn)},[]),Dn=Dn.filter(function(qn){return qn}),zi[Yi]=Dn,Dn}function cn(Yi){if(!ze(Yi))throw new ii("Argument should be a string");try{return this(Yi)}catch{return null}}function mn(Yi){return Yi instanceof dn}function dn(Yi,fn){if(An.apply(null,arguments),!mn(this))return new dn(Yi,fn);if(this.scalar=null,this.baseScalar=null,this.signature=null,this._conversionCache={},this.numerator=oi,this.denominator=oi,pn(Yi)?(this.scalar=Yi.scalar,this.numerator=Yi.numerator&&Yi.numerator.length!==0?Yi.numerator:oi,this.denominator=Yi.denominator&&Yi.denominator.length!==0?Yi.denominator:oi):fn?(Ci.call(this,fn),this.scalar=Yi):Ci.call(this,Yi),this.denominator.join("*").indexOf("temp")>=0)throw new ii("Cannot divide with temperatures");if(this.numerator.join("*").indexOf("temp")>=0){if(this.numerator.length>1)throw new ii("Cannot multiply by temperatures");if(!Ze(this.denominator,oi))throw new ii("Cannot divide with temperatures")}if(this.initValue=Yi,Mn.call(this),this.isTemperature()&&this.baseScalar<0)throw new ii("Temperatures must not be less than absolute zero")}dn.prototype={constructor:dn};function An(Yi,fn){if(fn){if(!(Xe(Yi)&&ze(fn)))throw new ii("Only number accepted as initialization value when units are explicitly provided")}else if(!(ze(Yi)||Xe(Yi)||mn(Yi)||pn(Yi)))throw new ii("Only string, number or quantity accepted as single initialization value")}function pn(Yi){return Yi&&typeof Yi=="object"&&Yi.hasOwnProperty("scalar")}function Mn(){if(this.baseScalar)return this.baseScalar;if(this.isBase())this.baseScalar=this.scalar,this.signature=Li.call(this);else{var Yi=this.toBase();this.baseScalar=Yi.scalar,this.signature=Yi.signature}}var Hi={"-312078":"elastance","-312058":"resistance","-312038":"inductance","-152058":"potential","-152040":"magnetism","-152038":"magnetism","-7997":"specific_volume","-79":"snap","-59":"jolt","-39":"acceleration","-38":"radiation","-20":"frequency","-19":"speed","-18":"viscosity","-17":"volumetric_flow","-1":"wavenumber",0:"unitless",1:"length",2:"area",3:"volume",20:"time",400:"temperature",7941:"yank",7942:"power",7959:"pressure",7961:"force",7962:"energy",7979:"viscosity",7981:"momentum",7982:"angular_momentum",7997:"density",7998:"area_density",8e3:"mass",152020:"radiation_exposure",159999:"magnetism",16e4:"current",160020:"charge",312058:"conductance",312078:"capacitance",3199980:"activity",3199997:"molar_concentration",32e5:"substance",63999998:"illuminance",64e6:"luminous_power",128e7:"currency","25599999980":"information_rate","25600000000":"information","511999999980":"angular_velocity","512000000000":"angle"};function On(){return Ke(Object.keys(Hi).map(function(Yi){return Hi[Yi]}))}dn.prototype.kind=function(){return Hi[this.signature.toString()]},Qe(dn.prototype,{isDegrees:function(){return(this.signature===null||this.signature===400)&&this.numerator.length===1&&Ze(this.denominator,oi)&&(this.numerator[0].match(/<temp-[CFRK]>/)||this.numerator[0].match(/<(kelvin|celsius|rankine|fahrenheit)>/))},isTemperature:function(){return this.isDegrees()&&this.numerator[0].match(/<temp-[CFRK]>/)}});function wn(Yi,fn){var Sn=Yi.units(),Dn=fn.to(Sn),qn=dn(Cn(Sn));return dn({scalar:Yi.scalar-Dn.scalar,numerator:qn.numerator,denominator:qn.denominator})}function _n(Yi,fn){var Sn=fn.to(Cn(Yi.units()));return dn({scalar:Yi.scalar-Sn.scalar,numerator:Yi.numerator,denominator:Yi.denominator})}function an(Yi,fn){var Sn=fn.to(Cn(Yi.units()));return dn({scalar:Yi.scalar+Sn.scalar,numerator:Yi.numerator,denominator:Yi.denominator})}function Cn(Yi){if(Yi==="tempK")return"degK";if(Yi==="tempC")return"degC";if(Yi==="tempF")return"degF";if(Yi==="tempR")return"degR";throw new ii("Unknown type for temp conversion from: "+Yi)}function Ln(Yi,fn){var Sn=Nn(Yi),Dn=fn.units(),qn;if(Dn==="degK")qn=Sn.scalar;else if(Dn==="degC")qn=Sn.scalar;else if(Dn==="degF")qn=Sn.scalar*9/5;else if(Dn==="degR")qn=Sn.scalar*9/5;else throw new ii("Unknown type for degree conversion to: "+Dn);return dn({scalar:qn,numerator:fn.numerator,denominator:fn.denominator})}function Nn(Yi){var fn=Yi.units(),Sn;if(fn.match(/(deg)[CFRK]/))Sn=Yi.baseScalar;else if(fn==="tempK")Sn=Yi.scalar;else if(fn==="tempC")Sn=Yi.scalar;else if(fn==="tempF")Sn=Yi.scalar*5/9;else if(fn==="tempR")Sn=Yi.scalar*5/9;else throw new ii("Unknown type for temp conversion from: "+fn);return dn({scalar:Sn,numerator:["<kelvin>"],denominator:oi})}function Fn(Yi,fn){var Sn=fn.units(),Dn;if(Sn==="tempK")Dn=Yi.baseScalar;else if(Sn==="tempC")Dn=Yi.baseScalar-273.15;else if(Sn==="tempF")Dn=Yi.baseScalar*9/5-459.67;else if(Sn==="tempR")Dn=Yi.baseScalar*9/5;else throw new ii("Unknown type for temp conversion to: "+Sn);return dn({scalar:Dn,numerator:fn.numerator,denominator:fn.denominator})}function Hn(Yi){var fn=Yi.units(),Sn;if(fn.match(/(deg)[CFRK]/))Sn=Yi.baseScalar;else if(fn==="tempK")Sn=Yi.scalar;else if(fn==="tempC")Sn=Yi.scalar+273.15;else if(fn==="tempF")Sn=(Yi.scalar+459.67)*5/9;else if(fn==="tempR")Sn=Yi.scalar*5/9;else throw new ii("Unknown type for temp conversion from: "+fn);return dn({scalar:Sn,numerator:["<temp-K>"],denominator:oi})}Qe(dn.prototype,{to:function(Yi){var fn,Sn;if(Yi==null)return this;if(!ze(Yi))return this.to(Yi.units());if(fn=this._conversionCache[Yi],fn)return fn;if(Sn=dn(Yi),Sn.units()===this.units())return this;if(!this.isCompatible(Sn))this.isInverse(Sn)?Sn=this.inverse().to(Yi):ri(this.units(),Sn.units());else if(Sn.isTemperature())Sn=Fn(this,Sn);else if(Sn.isDegrees())Sn=Ln(this,Sn);else{var Dn=St(this.baseScalar,Sn.baseScalar);Sn=dn({scalar:Dn,numerator:Sn.numerator,denominator:Sn.denominator})}return this._conversionCache[Yi]=Sn,Sn},toBase:function(){if(this.isBase())return this;if(this.isTemperature())return Hn(this);var Yi=Xn[this.units()];return Yi||(Yi=tr(this.numerator,this.denominator),Xn[this.units()]=Yi),Yi.mul(this.scalar)},toFloat:function(){if(this.isUnitless())return this.scalar;throw new ii("Can't convert to Float unless unitless.  Use Unit#scalar")},toPrec:function(Yi){if(ze(Yi)&&(Yi=dn(Yi)),Xe(Yi)&&(Yi=dn(Yi+" "+this.units())),this.isUnitless()?Yi.isUnitless()||ri(this.units(),Yi.units()):Yi=Yi.to(this.units()),Yi.scalar===0)throw new ii("Divide by zero");var fn=Je(Math.round(this.scalar/Yi.scalar),Yi.scalar);return dn(fn+this.units())}});function zn(Yi,fn){var Sn=dn(Yi),Dn=dn(fn);if(Sn.eq(Dn))return Ye;var qn;return Sn.isTemperature()?qn=function(Wn){return Sn.mul(Wn).to(Dn).scalar}:qn=function(Wn){return Wn*Sn.baseScalar/Dn.baseScalar},function(Wn){var fr,or,cr;if(Array.isArray(Wn)){for(or=Wn.length,cr=[],fr=0;fr<or;fr++)cr.push(qn(Wn[fr]));return cr}else return qn(Wn)}}var Xn={};function tr(Yi,fn){for(var Sn=[],Dn=[],qn=1,Wn,fr=0;fr<Yi.length;fr++)Wn=Yi[fr],ci[Wn]?qn=Je(qn,ci[Wn]):di[Wn]&&(qn*=di[Wn].scalar,di[Wn].numerator&&Sn.push(di[Wn].numerator),di[Wn].denominator&&Dn.push(di[Wn].denominator));for(var or=0;or<fn.length;or++)Wn=fn[or],ci[Wn]?qn/=ci[Wn]:di[Wn]&&(qn/=di[Wn].scalar,di[Wn].numerator&&Dn.push(di[Wn].numerator),di[Wn].denominator&&Sn.push(di[Wn].denominator));return Sn=Sn.reduce(function(cr,Pr){return cr.concat(Pr)},[]),Dn=Dn.reduce(function(cr,Pr){return cr.concat(Pr)},[]),dn({scalar:qn,numerator:Sn,denominator:Dn})}dn.parse=cn,dn.getUnits=Ai,dn.getAliases=Si,dn.mulSafe=Je,dn.divSafe=St,dn.getKinds=On,dn.swiftConverter=zn,dn.Error=ii,Qe(dn.prototype,{add:function(Yi){if(ze(Yi)&&(Yi=dn(Yi)),this.isCompatible(Yi)||ri(this.units(),Yi.units()),this.isTemperature()&&Yi.isTemperature())throw new ii("Cannot add two temperatures");return this.isTemperature()?an(this,Yi):Yi.isTemperature()?an(Yi,this):dn({scalar:this.scalar+Yi.to(this).scalar,numerator:this.numerator,denominator:this.denominator})},sub:function(Yi){if(ze(Yi)&&(Yi=dn(Yi)),this.isCompatible(Yi)||ri(this.units(),Yi.units()),this.isTemperature()&&Yi.isTemperature())return wn(this,Yi);if(this.isTemperature())return _n(this,Yi);if(Yi.isTemperature())throw new ii("Cannot subtract a temperature from a differential degree unit");return dn({scalar:this.scalar-Yi.to(this).scalar,numerator:this.numerator,denominator:this.denominator})},mul:function(Yi){if(Xe(Yi))return dn({scalar:Je(this.scalar,Yi),numerator:this.numerator,denominator:this.denominator});if(ze(Yi)&&(Yi=dn(Yi)),(this.isTemperature()||Yi.isTemperature())&&!(this.isUnitless()||Yi.isUnitless()))throw new ii("Cannot multiply by temperatures");var fn=this,Sn=Yi;fn.isCompatible(Sn)&&fn.signature!==400&&(Sn=Sn.to(fn));var Dn=nr(fn.numerator,fn.denominator,Sn.numerator,Sn.denominator);return dn({scalar:Je(fn.scalar,Sn.scalar,Dn[2]),numerator:Dn[0],denominator:Dn[1]})},div:function(Yi){if(Xe(Yi)){if(Yi===0)throw new ii("Divide by zero");return dn({scalar:this.scalar/Yi,numerator:this.numerator,denominator:this.denominator})}else ze(Yi)&&(Yi=dn(Yi));if(Yi.scalar===0)throw new ii("Divide by zero");if(Yi.isTemperature())throw new ii("Cannot divide with temperatures");if(this.isTemperature()&&!Yi.isUnitless())throw new ii("Cannot divide with temperatures");var fn=this,Sn=Yi;fn.isCompatible(Sn)&&fn.signature!==400&&(Sn=Sn.to(fn));var Dn=nr(fn.numerator,fn.denominator,Sn.denominator,Sn.numerator);return dn({scalar:Je(fn.scalar,Dn[2])/Sn.scalar,numerator:Dn[0],denominator:Dn[1]})},inverse:function(){if(this.isTemperature())throw new ii("Cannot divide with temperatures");if(this.scalar===0)throw new ii("Divide by zero");return dn({scalar:1/this.scalar,numerator:this.denominator,denominator:this.numerator})}});function nr(Yi,fn,Sn,Dn){function qn(wr){return wr!==ai}Yi=Yi.filter(qn),Sn=Sn.filter(qn),fn=fn.filter(qn),Dn=Dn.filter(qn);var Wn={};function fr(wr,kr){for(var _r,Lr,qr,Vr=0;Vr<wr.length;Vr++)if(ci[wr[Vr]]?(_r=wr[Vr+1],Lr=wr[Vr],qr=ci[Lr],Vr++):(_r=wr[Vr],Lr=null,qr=1),_r&&_r!==ai)if(Wn[_r]){Wn[_r][0]+=kr;var mo=Wn[_r][2]?ci[Wn[_r][2]]:1;Wn[_r][kr===1?3:4]*=St(qr,mo)}else Wn[_r]=[kr,_r,Lr,1,1]}fr(Yi,1),fr(fn,-1),fr(Sn,1),fr(Dn,-1);var or=[],cr=[],Pr=1;for(var so in Wn)if(Wn.hasOwnProperty(so)){var Ar=Wn[so],Rr;if(Ar[0]>0)for(Rr=0;Rr<Ar[0];Rr++)or.push(Ar[2]===null?Ar[1]:[Ar[2],Ar[1]]);else if(Ar[0]<0)for(Rr=0;Rr<-Ar[0];Rr++)cr.push(Ar[2]===null?Ar[1]:[Ar[2],Ar[1]]);Pr*=St(Ar[3],Ar[4])}return or.length===0&&(or=oi),cr.length===0&&(cr=oi),or=or.reduce(function(wr,kr){return wr.concat(kr)},[]),cr=cr.reduce(function(wr,kr){return wr.concat(kr)},[]),[or,cr,Pr]}Qe(dn.prototype,{eq:function(Yi){return this.compareTo(Yi)===0},lt:function(Yi){return this.compareTo(Yi)===-1},lte:function(Yi){return this.eq(Yi)||this.lt(Yi)},gt:function(Yi){return this.compareTo(Yi)===1},gte:function(Yi){return this.eq(Yi)||this.gt(Yi)},compareTo:function(Yi){if(ze(Yi))return this.compareTo(dn(Yi));if(this.isCompatible(Yi)||ri(this.units(),Yi.units()),this.baseScalar<Yi.baseScalar)return-1;if(this.baseScalar===Yi.baseScalar)return 0;if(this.baseScalar>Yi.baseScalar)return 1},same:function(Yi){return this.scalar===Yi.scalar&&this.units()===Yi.units()}}),Qe(dn.prototype,{isUnitless:function(){return[this.numerator,this.denominator].every(function(Yi){return Ze(Yi,oi)})},isCompatible:function(Yi){return ze(Yi)?this.isCompatible(dn(Yi)):mn(Yi)&&Yi.signature!==void 0?this.signature===Yi.signature:!1},isInverse:function(Yi){return this.inverse().isCompatible(Yi)},isBase:function(){return this._isBase!==void 0?this._isBase:this.isDegrees()&&this.numerator[0].match(/<(kelvin|temp-K)>/)?(this._isBase=!0,this._isBase):(this.numerator.concat(this.denominator).forEach(function(Yi){Yi!==ai&&ui.indexOf(Yi)===-1&&(this._isBase=!1)},this),this._isBase===!1?this._isBase:(this._isBase=!0,this._isBase))}});function mr(){}mr.prototype.get=function(Yi){return arguments.length>1&&(Yi=Array.apply(null,arguments)),Yi.reduce(function(fn,Sn,Dn){if(fn){var qn=fn[Sn];return Dn===Yi.length-1?qn?qn.data:void 0:qn}},this)},mr.prototype.set=function(Yi,fn){return arguments.length>2&&(Yi=Array.prototype.slice.call(arguments,0,-1),fn=arguments[arguments.length-1]),Yi.reduce(function(Sn,Dn,qn){var Wn=Sn[Dn];return Wn===void 0&&(Wn=Sn[Dn]={}),qn===Yi.length-1?(Wn.data=fn,fn):Wn},this)};function ar(Yi,fn){return(Yi+" "+fn).trim()}dn.formatter=ar,Qe(dn.prototype,{units:function(){if(this._units!==void 0)return this._units;var Yi=Ze(this.numerator,oi),fn=Ze(this.denominator,oi);if(Yi&&fn)return this._units="",this._units;var Sn=Qn(this.numerator),Dn=Qn(this.denominator);return this._units=Sn+(fn?"":"/"+Dn),this._units},toString:function(Yi,fn){var Sn;if(Xe(Yi))Sn=this.units(),fn=Yi;else if(ze(Yi))Sn=Yi;else if(mn(Yi))return this.toPrec(Yi).toString(fn);var Dn=this.to(Sn),qn=fn!==void 0?ei(Dn.scalar,fn):Dn.scalar;return Dn=(qn+" "+Dn.units()).trim(),Dn},format:function(Yi,fn){arguments.length===1&&typeof Yi=="function"&&(fn=Yi,Yi=void 0),fn=fn||dn.formatter;var Sn=this.to(Yi);return fn.call(this,Sn.scalar,Sn.units())}});var rr=new mr;function Qn(Yi){var fn=rr.get(Yi);if(fn)return fn;var Sn=Ze(Yi,oi);return Sn?fn="1":fn=En(hr(Yi)).join("*"),rr.set(Yi,fn),fn}function hr(Yi){for(var fn=[],Sn,Dn,qn=0;qn<Yi.length;qn++)Sn=Yi[qn],Dn=Yi[qn+1],ci[Sn]?(fn.push(mi[Sn]+mi[Dn]),qn++):fn.push(mi[Sn]);return fn}function En(Yi){var fn=Yi.reduce(function(Sn,Dn){var qn=Sn[Dn];return qn||Sn.push(qn=Sn[Dn]=[Dn,0]),qn[1]++,Sn},[]);return fn.map(function(Sn){return Sn[0]+(Sn[1]>1?Sn[1]:"")})}return dn.version="1.8.0",dn})})(quantities);var quantitiesExports=quantities.exports;const Qty=getDefaultExportFromCjs$1(quantitiesExports);function deepValue(Ve,je=""){let ze=je.split(".");for(let qe of ze){if(Ve[qe]===void 0)return;Ve=Ve[qe]}return Ve}var orientation={exports:{}},twoProduct_1=twoProduct$1,SPLITTER=+(Math.pow(2,27)+1);function twoProduct$1(Ve,je,ze){var qe=Ve*je,Xe=SPLITTER*Ve,Ye=Xe-Ve,Ke=Xe-Ye,Ze=Ve-Ke,Qe=SPLITTER*je,Je=Qe-je,St=Qe-Je,ei=je-St,ti=qe-Ke*St,ii=ti-Ze*St,ri=ii-Ke*ei,si=Ze*ei-ri;return ze?(ze[0]=si,ze[1]=qe,ze):[si,qe]}var robustSum=linearExpansionSum;function scalarScalar$1(Ve,je){var ze=Ve+je,qe=ze-Ve,Xe=ze-qe,Ye=je-qe,Ke=Ve-Xe,Ze=Ke+Ye;return Ze?[Ze,ze]:[ze]}function linearExpansionSum(Ve,je){var ze=Ve.length|0,qe=je.length|0;if(ze===1&&qe===1)return scalarScalar$1(Ve[0],je[0]);var Xe=ze+qe,Ye=new Array(Xe),Ke=0,Ze=0,Qe=0,Je=Math.abs,St=Ve[Ze],ei=Je(St),ti=je[Qe],ii=Je(ti),ri,si;ei<ii?(si=St,Ze+=1,Ze<ze&&(St=Ve[Ze],ei=Je(St))):(si=ti,Qe+=1,Qe<qe&&(ti=je[Qe],ii=Je(ti))),Ze<ze&&ei<ii||Qe>=qe?(ri=St,Ze+=1,Ze<ze&&(St=Ve[Ze],ei=Je(St))):(ri=ti,Qe+=1,Qe<qe&&(ti=je[Qe],ii=Je(ti)));for(var ui=ri+si,ai=ui-ri,oi=si-ai,ni=oi,ci=ui,hi,di,fi,mi,pi;Ze<ze&&Qe<qe;)ei<ii?(ri=St,Ze+=1,Ze<ze&&(St=Ve[Ze],ei=Je(St))):(ri=ti,Qe+=1,Qe<qe&&(ti=je[Qe],ii=Je(ti))),si=ni,ui=ri+si,ai=ui-ri,oi=si-ai,oi&&(Ye[Ke++]=oi),hi=ci+ui,di=hi-ci,fi=hi-di,mi=ui-di,pi=ci-fi,ni=pi+mi,ci=hi;for(;Ze<ze;)ri=St,si=ni,ui=ri+si,ai=ui-ri,oi=si-ai,oi&&(Ye[Ke++]=oi),hi=ci+ui,di=hi-ci,fi=hi-di,mi=ui-di,pi=ci-fi,ni=pi+mi,ci=hi,Ze+=1,Ze<ze&&(St=Ve[Ze]);for(;Qe<qe;)ri=ti,si=ni,ui=ri+si,ai=ui-ri,oi=si-ai,oi&&(Ye[Ke++]=oi),hi=ci+ui,di=hi-ci,fi=hi-di,mi=ui-di,pi=ci-fi,ni=pi+mi,ci=hi,Qe+=1,Qe<qe&&(ti=je[Qe]);return ni&&(Ye[Ke++]=ni),ci&&(Ye[Ke++]=ci),Ke||(Ye[Ke++]=0),Ye.length=Ke,Ye}var twoSum$1=fastTwoSum;function fastTwoSum(Ve,je,ze){var qe=Ve+je,Xe=qe-Ve,Ye=qe-Xe,Ke=je-Xe,Ze=Ve-Ye;return ze?(ze[0]=Ze+Ke,ze[1]=qe,ze):[Ze+Ke,qe]}var twoProduct=twoProduct_1,twoSum=twoSum$1,robustScale=scaleLinearExpansion;function scaleLinearExpansion(Ve,je){var ze=Ve.length;if(ze===1){var qe=twoProduct(Ve[0],je);return qe[0]?qe:[qe[1]]}var Xe=new Array(2*ze),Ye=[.1,.1],Ke=[.1,.1],Ze=0;twoProduct(Ve[0],je,Ye),Ye[0]&&(Xe[Ze++]=Ye[0]);for(var Qe=1;Qe<ze;++Qe){twoProduct(Ve[Qe],je,Ke);var Je=Ye[1];twoSum(Je,Ke[0],Ye),Ye[0]&&(Xe[Ze++]=Ye[0]);var St=Ke[1],ei=Ye[1],ti=St+ei,ii=ti-St,ri=ei-ii;Ye[1]=ti,ri&&(Xe[Ze++]=ri)}return Ye[1]&&(Xe[Ze++]=Ye[1]),Ze===0&&(Xe[Ze++]=0),Xe.length=Ze,Xe}var robustDiff=robustSubtract;function scalarScalar(Ve,je){var ze=Ve+je,qe=ze-Ve,Xe=ze-qe,Ye=je-qe,Ke=Ve-Xe,Ze=Ke+Ye;return Ze?[Ze,ze]:[ze]}function robustSubtract(Ve,je){var ze=Ve.length|0,qe=je.length|0;if(ze===1&&qe===1)return scalarScalar(Ve[0],-je[0]);var Xe=ze+qe,Ye=new Array(Xe),Ke=0,Ze=0,Qe=0,Je=Math.abs,St=Ve[Ze],ei=Je(St),ti=-je[Qe],ii=Je(ti),ri,si;ei<ii?(si=St,Ze+=1,Ze<ze&&(St=Ve[Ze],ei=Je(St))):(si=ti,Qe+=1,Qe<qe&&(ti=-je[Qe],ii=Je(ti))),Ze<ze&&ei<ii||Qe>=qe?(ri=St,Ze+=1,Ze<ze&&(St=Ve[Ze],ei=Je(St))):(ri=ti,Qe+=1,Qe<qe&&(ti=-je[Qe],ii=Je(ti)));for(var ui=ri+si,ai=ui-ri,oi=si-ai,ni=oi,ci=ui,hi,di,fi,mi,pi;Ze<ze&&Qe<qe;)ei<ii?(ri=St,Ze+=1,Ze<ze&&(St=Ve[Ze],ei=Je(St))):(ri=ti,Qe+=1,Qe<qe&&(ti=-je[Qe],ii=Je(ti))),si=ni,ui=ri+si,ai=ui-ri,oi=si-ai,oi&&(Ye[Ke++]=oi),hi=ci+ui,di=hi-ci,fi=hi-di,mi=ui-di,pi=ci-fi,ni=pi+mi,ci=hi;for(;Ze<ze;)ri=St,si=ni,ui=ri+si,ai=ui-ri,oi=si-ai,oi&&(Ye[Ke++]=oi),hi=ci+ui,di=hi-ci,fi=hi-di,mi=ui-di,pi=ci-fi,ni=pi+mi,ci=hi,Ze+=1,Ze<ze&&(St=Ve[Ze]);for(;Qe<qe;)ri=ti,si=ni,ui=ri+si,ai=ui-ri,oi=si-ai,oi&&(Ye[Ke++]=oi),hi=ci+ui,di=hi-ci,fi=hi-di,mi=ui-di,pi=ci-fi,ni=pi+mi,ci=hi,Qe+=1,Qe<qe&&(ti=-je[Qe]);return ni&&(Ye[Ke++]=ni),ci&&(Ye[Ke++]=ci),Ke||(Ye[Ke++]=0),Ye.length=Ke,Ye}(function(Ve){var je=twoProduct_1,ze=robustSum,qe=robustScale,Xe=robustDiff,Ye=5,Ke=11102230246251565e-32,Ze=(3+16*Ke)*Ke,Qe=(7+56*Ke)*Ke;function Je(ni,ci,hi,di){return function(fi,mi,pi){var wi=ni(ni(ci(mi[1],pi[0]),ci(-pi[1],mi[0])),ni(ci(fi[1],mi[0]),ci(-mi[1],fi[0]))),gi=ni(ci(fi[1],pi[0]),ci(-pi[1],fi[0])),yi=di(wi,gi);return yi[yi.length-1]}}function St(ni,ci,hi,di){return function(fi,mi,pi,wi){var gi=ni(ni(hi(ni(ci(pi[1],wi[0]),ci(-wi[1],pi[0])),mi[2]),ni(hi(ni(ci(mi[1],wi[0]),ci(-wi[1],mi[0])),-pi[2]),hi(ni(ci(mi[1],pi[0]),ci(-pi[1],mi[0])),wi[2]))),ni(hi(ni(ci(mi[1],wi[0]),ci(-wi[1],mi[0])),fi[2]),ni(hi(ni(ci(fi[1],wi[0]),ci(-wi[1],fi[0])),-mi[2]),hi(ni(ci(fi[1],mi[0]),ci(-mi[1],fi[0])),wi[2])))),yi=ni(ni(hi(ni(ci(pi[1],wi[0]),ci(-wi[1],pi[0])),fi[2]),ni(hi(ni(ci(fi[1],wi[0]),ci(-wi[1],fi[0])),-pi[2]),hi(ni(ci(fi[1],pi[0]),ci(-pi[1],fi[0])),wi[2]))),ni(hi(ni(ci(mi[1],pi[0]),ci(-pi[1],mi[0])),fi[2]),ni(hi(ni(ci(fi[1],pi[0]),ci(-pi[1],fi[0])),-mi[2]),hi(ni(ci(fi[1],mi[0]),ci(-mi[1],fi[0])),pi[2])))),Ai=di(gi,yi);return Ai[Ai.length-1]}}function ei(ni,ci,hi,di){return function(fi,mi,pi,wi,gi){var yi=ni(ni(ni(hi(ni(hi(ni(ci(wi[1],gi[0]),ci(-gi[1],wi[0])),pi[2]),ni(hi(ni(ci(pi[1],gi[0]),ci(-gi[1],pi[0])),-wi[2]),hi(ni(ci(pi[1],wi[0]),ci(-wi[1],pi[0])),gi[2]))),mi[3]),ni(hi(ni(hi(ni(ci(wi[1],gi[0]),ci(-gi[1],wi[0])),mi[2]),ni(hi(ni(ci(mi[1],gi[0]),ci(-gi[1],mi[0])),-wi[2]),hi(ni(ci(mi[1],wi[0]),ci(-wi[1],mi[0])),gi[2]))),-pi[3]),hi(ni(hi(ni(ci(pi[1],gi[0]),ci(-gi[1],pi[0])),mi[2]),ni(hi(ni(ci(mi[1],gi[0]),ci(-gi[1],mi[0])),-pi[2]),hi(ni(ci(mi[1],pi[0]),ci(-pi[1],mi[0])),gi[2]))),wi[3]))),ni(hi(ni(hi(ni(ci(pi[1],wi[0]),ci(-wi[1],pi[0])),mi[2]),ni(hi(ni(ci(mi[1],wi[0]),ci(-wi[1],mi[0])),-pi[2]),hi(ni(ci(mi[1],pi[0]),ci(-pi[1],mi[0])),wi[2]))),-gi[3]),ni(hi(ni(hi(ni(ci(wi[1],gi[0]),ci(-gi[1],wi[0])),mi[2]),ni(hi(ni(ci(mi[1],gi[0]),ci(-gi[1],mi[0])),-wi[2]),hi(ni(ci(mi[1],wi[0]),ci(-wi[1],mi[0])),gi[2]))),fi[3]),hi(ni(hi(ni(ci(wi[1],gi[0]),ci(-gi[1],wi[0])),fi[2]),ni(hi(ni(ci(fi[1],gi[0]),ci(-gi[1],fi[0])),-wi[2]),hi(ni(ci(fi[1],wi[0]),ci(-wi[1],fi[0])),gi[2]))),-mi[3])))),ni(ni(hi(ni(hi(ni(ci(mi[1],gi[0]),ci(-gi[1],mi[0])),fi[2]),ni(hi(ni(ci(fi[1],gi[0]),ci(-gi[1],fi[0])),-mi[2]),hi(ni(ci(fi[1],mi[0]),ci(-mi[1],fi[0])),gi[2]))),wi[3]),ni(hi(ni(hi(ni(ci(mi[1],wi[0]),ci(-wi[1],mi[0])),fi[2]),ni(hi(ni(ci(fi[1],wi[0]),ci(-wi[1],fi[0])),-mi[2]),hi(ni(ci(fi[1],mi[0]),ci(-mi[1],fi[0])),wi[2]))),-gi[3]),hi(ni(hi(ni(ci(pi[1],wi[0]),ci(-wi[1],pi[0])),mi[2]),ni(hi(ni(ci(mi[1],wi[0]),ci(-wi[1],mi[0])),-pi[2]),hi(ni(ci(mi[1],pi[0]),ci(-pi[1],mi[0])),wi[2]))),fi[3]))),ni(hi(ni(hi(ni(ci(pi[1],wi[0]),ci(-wi[1],pi[0])),fi[2]),ni(hi(ni(ci(fi[1],wi[0]),ci(-wi[1],fi[0])),-pi[2]),hi(ni(ci(fi[1],pi[0]),ci(-pi[1],fi[0])),wi[2]))),-mi[3]),ni(hi(ni(hi(ni(ci(mi[1],wi[0]),ci(-wi[1],mi[0])),fi[2]),ni(hi(ni(ci(fi[1],wi[0]),ci(-wi[1],fi[0])),-mi[2]),hi(ni(ci(fi[1],mi[0]),ci(-mi[1],fi[0])),wi[2]))),pi[3]),hi(ni(hi(ni(ci(mi[1],pi[0]),ci(-pi[1],mi[0])),fi[2]),ni(hi(ni(ci(fi[1],pi[0]),ci(-pi[1],fi[0])),-mi[2]),hi(ni(ci(fi[1],mi[0]),ci(-mi[1],fi[0])),pi[2]))),-wi[3]))))),Ai=ni(ni(ni(hi(ni(hi(ni(ci(wi[1],gi[0]),ci(-gi[1],wi[0])),pi[2]),ni(hi(ni(ci(pi[1],gi[0]),ci(-gi[1],pi[0])),-wi[2]),hi(ni(ci(pi[1],wi[0]),ci(-wi[1],pi[0])),gi[2]))),fi[3]),hi(ni(hi(ni(ci(wi[1],gi[0]),ci(-gi[1],wi[0])),fi[2]),ni(hi(ni(ci(fi[1],gi[0]),ci(-gi[1],fi[0])),-wi[2]),hi(ni(ci(fi[1],wi[0]),ci(-wi[1],fi[0])),gi[2]))),-pi[3])),ni(hi(ni(hi(ni(ci(pi[1],gi[0]),ci(-gi[1],pi[0])),fi[2]),ni(hi(ni(ci(fi[1],gi[0]),ci(-gi[1],fi[0])),-pi[2]),hi(ni(ci(fi[1],pi[0]),ci(-pi[1],fi[0])),gi[2]))),wi[3]),hi(ni(hi(ni(ci(pi[1],wi[0]),ci(-wi[1],pi[0])),fi[2]),ni(hi(ni(ci(fi[1],wi[0]),ci(-wi[1],fi[0])),-pi[2]),hi(ni(ci(fi[1],pi[0]),ci(-pi[1],fi[0])),wi[2]))),-gi[3]))),ni(ni(hi(ni(hi(ni(ci(pi[1],gi[0]),ci(-gi[1],pi[0])),mi[2]),ni(hi(ni(ci(mi[1],gi[0]),ci(-gi[1],mi[0])),-pi[2]),hi(ni(ci(mi[1],pi[0]),ci(-pi[1],mi[0])),gi[2]))),fi[3]),hi(ni(hi(ni(ci(pi[1],gi[0]),ci(-gi[1],pi[0])),fi[2]),ni(hi(ni(ci(fi[1],gi[0]),ci(-gi[1],fi[0])),-pi[2]),hi(ni(ci(fi[1],pi[0]),ci(-pi[1],fi[0])),gi[2]))),-mi[3])),ni(hi(ni(hi(ni(ci(mi[1],gi[0]),ci(-gi[1],mi[0])),fi[2]),ni(hi(ni(ci(fi[1],gi[0]),ci(-gi[1],fi[0])),-mi[2]),hi(ni(ci(fi[1],mi[0]),ci(-mi[1],fi[0])),gi[2]))),pi[3]),hi(ni(hi(ni(ci(mi[1],pi[0]),ci(-pi[1],mi[0])),fi[2]),ni(hi(ni(ci(fi[1],pi[0]),ci(-pi[1],fi[0])),-mi[2]),hi(ni(ci(fi[1],mi[0]),ci(-mi[1],fi[0])),pi[2]))),-gi[3])))),Si=di(yi,Ai);return Si[Si.length-1]}}function ti(ni){var ci=ni===3?Je:ni===4?St:ei;return ci(ze,je,qe,Xe)}var ii=ti(3),ri=ti(4),si=[function(){return 0},function(){return 0},function(ni,ci){return ci[0]-ni[0]},function(ni,ci,hi){var di=(ni[1]-hi[1])*(ci[0]-hi[0]),fi=(ni[0]-hi[0])*(ci[1]-hi[1]),mi=di-fi,pi;if(di>0){if(fi<=0)return mi;pi=di+fi}else if(di<0){if(fi>=0)return mi;pi=-(di+fi)}else return mi;var wi=Ze*pi;return mi>=wi||mi<=-wi?mi:ii(ni,ci,hi)},function(ni,ci,hi,di){var fi=ni[0]-di[0],mi=ci[0]-di[0],pi=hi[0]-di[0],wi=ni[1]-di[1],gi=ci[1]-di[1],yi=hi[1]-di[1],Ai=ni[2]-di[2],Si=ci[2]-di[2],ki=hi[2]-di[2],Li=mi*yi,Bi=pi*gi,Pi=pi*wi,Ri=fi*yi,Fi=fi*gi,Gi=mi*wi,Ti=Ai*(Li-Bi)+Si*(Pi-Ri)+ki*(Fi-Gi),Vi=(Math.abs(Li)+Math.abs(Bi))*Math.abs(Ai)+(Math.abs(Pi)+Math.abs(Ri))*Math.abs(Si)+(Math.abs(Fi)+Math.abs(Gi))*Math.abs(ki),Ui=Qe*Vi;return Ti>Ui||-Ti>Ui?Ti:ri(ni,ci,hi,di)}];function ui(ni){var ci=si[ni.length];return ci||(ci=si[ni.length]=ti(ni.length)),ci.apply(void 0,ni)}function ai(ni,ci,hi,di,fi,mi,pi){return function(wi,gi,yi,Ai,Si){switch(arguments.length){case 0:case 1:return 0;case 2:return di(wi,gi);case 3:return fi(wi,gi,yi);case 4:return mi(wi,gi,yi,Ai);case 5:return pi(wi,gi,yi,Ai,Si)}for(var ki=new Array(arguments.length),Li=0;Li<arguments.length;++Li)ki[Li]=arguments[Li];return ni(ki)}}function oi(){for(;si.length<=Ye;)si.push(ti(si.length));Ve.exports=ai.apply(void 0,[ui].concat(si));for(var ni=0;ni<=Ye;++ni)Ve.exports[ni]=si[ni]}oi()})(orientation);var orientationExports=orientation.exports,robustPnp=robustPointInPolygon,orient=orientationExports;function robustPointInPolygon(Ve,je){for(var ze=je[0],qe=je[1],Xe=Ve.length,Ye=1,Ke=Xe,Ze=0,Qe=Xe-1;Ze<Ke;Qe=Ze++){var Je=Ve[Ze],St=Ve[Qe],ei=Je[1],ti=St[1];if(ti<ei){if(ti<qe&&qe<ei){var ii=orient(Je,St,je);if(ii===0)return 0;Ye^=0<ii|0}else if(qe===ei){var ri=Ve[(Ze+1)%Xe],si=ri[1];if(ei<si){var ii=orient(Je,St,je);if(ii===0)return 0;Ye^=0<ii|0}}}else if(ei<ti){if(ei<qe&&qe<ti){var ii=orient(Je,St,je);if(ii===0)return 0;Ye^=ii<0|0}else if(qe===ei){var ri=Ve[(Ze+1)%Xe],si=ri[1];if(si<ei){var ii=orient(Je,St,je);if(ii===0)return 0;Ye^=ii<0|0}}}else if(qe===ei){var ui=Math.min(Je[0],St[0]),ai=Math.max(Je[0],St[0]);if(Ze===0){for(;Qe>0;){var oi=(Qe+Xe-1)%Xe,ni=Ve[oi];if(ni[1]!==qe)break;var ci=ni[0];ui=Math.min(ui,ci),ai=Math.max(ai,ci),Qe=oi}if(Qe===0)return ui<=ze&&ze<=ai?0:1;Ke=Qe+1}for(var hi=Ve[(Qe+Xe-1)%Xe][1];Ze+1<Ke;){var ni=Ve[Ze+1];if(ni[1]!==qe)break;var ci=ni[0];ui=Math.min(ui,ci),ai=Math.max(ai,ci),Ze+=1}if(ui<=ze&&ze<=ai)return 0;var di=Ve[(Ze+1)%Xe][1];ze<ui&&hi<qe!=di<qe&&(Ye^=1)}}return 2*Ye-1}const robustPointInPolygon$1=getDefaultExportFromCjs$1(robustPnp);function feretDiameters(Ve={}){const{originalPoints:je=monotoneChainConvexHull.call(this)}=Ve;if(je.length===0)return{min:0,max:0,minLine:[],maxLine:[],aspectRatio:1};if(je.length===1)return{min:1,max:1,minLine:[je[0],je[0]],maxLine:[je[0],je[0]],aspectRatio:1};const ze=new Array(je.length);let qe=1/0,Xe=0,Ye=[];for(let Je=0;Je<je.length;Je++){let St=getAngle(je[Je],je[(Je+1)%je.length]);rotate(-St,je,ze);let ei=0,ti=[];for(let ii=0;ii<je.length;ii++){let ri=Math.abs(ze[Je][1]-ze[ii][1]);ri>ei&&(ei=ri,ti=[],ti.push([ze[ii][0],ze[Je][1]],[ze[ii][0],ze[ii][1]]))}ei<qe&&(qe=ei,Xe=St,Ye=ti)}rotate(Xe,Ye,Ye);let Ke=0,Ze=[],Qe=0;for(let Je=0;Je<je.length-1;Je++)for(let St=Je+1;St<je.length;St++){let ei=(je[Je][0]-je[St][0])**2+(je[Je][1]-je[St][1])**2;ei>Qe&&(Qe=ei,Ke=Math.sqrt(ei),Ze=[je[Je],je[St]])}return{min:qe,minLine:Ye,max:Ke,maxLine:Ze,aspectRatio:qe/Ke}}function getAngle(Ve,je){let ze=difference(je,Ve),qe=normalize(ze),Xe=Math.acos(qe[0]);return qe[1]<0?-Xe:Xe}class Roi{constructor(je,ze){this.map=je,this.id=ze,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY,this.meanX=0,this.meanY=0,this.surface=0,this.computed={}}getMask(je={}){const{scale:ze=1,kind:qe=""}=je;let Xe;switch(qe){case"contour":Xe=this.contourMask;break;case"box":Xe=this.boxMask;break;case"filled":Xe=this.filledMask;break;case"center":Xe=this.centerMask;break;case"mbr":Xe=this.mbrFilledMask;break;case"hull":Xe=this.convexHullFilledMask;break;case"hullContour":Xe=this.convexHullMask;break;case"mbrContour":Xe=this.mbrMask;break;case"feret":Xe=this.feretMask;break;default:Xe=this.mask}return ze<1&&(Xe=Xe.resize({factor:ze}),Xe.parent=this.mask.parent,Xe.position[0]+=this.minX,Xe.position[1]+=this.minY),Xe}get mean(){throw new Error("Roi mean not implemented yet")}get center(){return this.computed.center||(this.computed.center=[this.width/2>>0,this.height/2>>0]),this.computed.center}get ratio(){return this.width/this.height}get width(){return this.maxX-this.minX+1}get height(){return this.maxY-this.minY+1}_computExternalIDs(){let je=this.borderIDs,ze=this.borderLengths;this.computed.externalIDs=[],this.computed.externalLengths=[];let qe=this.internalIDs;for(let Xe=0;Xe<je.length;Xe++)qe.includes(je[Xe])||(this.computed.externalIDs.push(je[Xe]),this.computed.externalLengths.push(ze[Xe]))}get externalIDs(){return this.computed.externalIDs?this.computed.externalIDs:(this._computExternalIDs(),this.computed.externalIDs)}get externalLengths(){return this.computed.externalLengths?this.computed.externalLengths:(this._computExternalIDs(),this.computed.externalLengths)}_computeBorderIDs(){let je=getBorders(this);this.computed.borderIDs=je.ids,this.computed.borderLengths=je.lengths}get borderIDs(){return this.computed.borderIDs?this.computed.borderIDs:(this._computeBorderIDs(),this.computed.borderIDs)}get borderLengths(){return this.computed.borderLengths?this.computed.borderLengths:(this._computeBorderIDs(),this.computed.borderLengths)}get boxIDs(){return this.computed.boxIDs||(this.computed.boxIDs=getBoxIDs(this)),this.computed.boxIDs}get internalIDs(){return this.computed.internalIDs||(this.computed.internalIDs=getInternalIDs(this)),this.computed.internalIDs}get box(){return this.computed.box||(this.computed.box=getBox(this)),this.computed.box}get external(){return this.computed.external||(this.computed.external=getExternal(this)),this.computed.external}get holesInfo(){return this.computed.holesInfo||(this.computed.holesInfo=getHolesInfo(this)),this.computed.holesInfo}get border(){return this.computed.border||(this.computed.border=getBorder(this)),this.computed.border}get contourMask(){if(!this.computed.contourMask){let je=new Image$1(this.width,this.height,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent});for(let ze=0;ze<this.width;ze++)for(let qe=0;qe<this.height;qe++)this.map.data[ze+this.minX+(qe+this.minY)*this.map.width]===this.id&&(ze>0&&ze<this.width-1&&qe>0&&qe<this.height-1?(this.map.data[ze-1+this.minX+(qe+this.minY)*this.map.width]!==this.id||this.map.data[ze+1+this.minX+(qe+this.minY)*this.map.width]!==this.id||this.map.data[ze+this.minX+(qe-1+this.minY)*this.map.width]!==this.id||this.map.data[ze+this.minX+(qe+1+this.minY)*this.map.width]!==this.id)&&je.setBitXY(ze,qe):je.setBitXY(ze,qe));this.computed.contourMask=je}return this.computed.contourMask}get boxMask(){if(!this.computed.boxMask){let je=new Image$1(this.width,this.height,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent});for(let ze=0;ze<this.width;ze++)je.setBitXY(ze,0),je.setBitXY(ze,this.height-1);for(let ze=0;ze<this.height;ze++)je.setBitXY(0,ze),je.setBitXY(this.width-1,ze);this.computed.boxMask=je}return this.computed.boxMask}get mask(){if(!this.computed.mask){let je=new Image$1(this.width,this.height,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent});for(let ze=0;ze<this.width;ze++)for(let qe=0;qe<this.height;qe++)this.map.data[ze+this.minX+(qe+this.minY)*this.map.width]===this.id&&je.setBitXY(ze,qe);this.computed.mask=je}return this.computed.mask}get filledMask(){if(!this.computed.filledMask){let je=new Image$1(this.width,this.height,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent});for(let ze=0;ze<this.width;ze++)for(let qe=0;qe<this.height;qe++){let Xe=ze+this.minX+(qe+this.minY)*this.map.width;this.internalIDs.includes(this.map.data[Xe])&&je.setBitXY(ze,qe)}this.computed.filledMask=je}return this.computed.filledMask}get centerMask(){if(!this.computed.centerMask){let je=new Shape({kind:"smallCross"}).getMask();je.parent=this.map.parent,je.position=[this.minX+this.center[0]-1,this.minY+this.center[1]-1],this.computed.centerMask=je}return this.computed.centerMask}get convexHull(){if(!this.computed.convexHull){const je=[];for(let qe=0;qe<this.width;qe++)for(let Xe=0;Xe<this.height;Xe++)this.map.data[qe+this.minX+(Xe+this.minY)*this.map.width]===this.id&&(qe>0&&qe<this.width-1&&Xe>0&&Xe<this.height-1?(this.map.data[qe-1+this.minX+(Xe+this.minY)*this.map.width]!==this.id||this.map.data[qe+1+this.minX+(Xe+this.minY)*this.map.width]!==this.id||this.map.data[qe+this.minX+(Xe-1+this.minY)*this.map.width]!==this.id||this.map.data[qe+this.minX+(Xe+1+this.minY)*this.map.width]!==this.id)&&(je.push([qe,Xe]),je.push([qe+1,Xe]),je.push([qe,Xe+1]),je.push([qe+1,Xe+1])):(je.push([qe,Xe]),je.push([qe+1,Xe]),je.push([qe,Xe+1]),je.push([qe+1,Xe+1])));const ze=monotoneChainConvexHull$1(je);this.computed.convexHull={polyline:ze,surface:surface(ze),perimeter:perimeter(ze)}}return this.computed.convexHull}get convexHullMask(){if(!this.computed.convexHullMask){const je=this.convexHull,ze=new Image$1(this.width+1,this.height+1,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent});ze.paintPolyline(je.polyline,{closed:!0}),this.computed.convexHullMask=ze}return this.computed.convexHullMask}get convexHullFilledMask(){if(!this.computed.convexHullFilledMask){const je=this.convexHull,ze=new Image$1(this.width,this.height,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent});for(let qe=0;qe<this.width;qe++)for(let Xe=0;Xe<this.height;Xe++)robustPointInPolygon$1(je.polyline,[qe,Xe])!==1&&ze.setBitXY(qe,Xe);this.computed.convexHullFilledMask=ze}return this.computed.convexHullFilledMask}get mbr(){if(!this.computed.mbr){let je=minimalBoundingRectangle({originalPoints:this.convexHull.polyline});if(je.length===0)this.computed.mbr={width:0,height:0,surface:0,perimeter:0,rectangle:je};else{let ze=je[0],qe=je[1],Xe=je[2],Ye=Math.sqrt((ze[0]-qe[0])**2+(ze[1]-qe[1])**2),Ke=Math.sqrt((Xe[0]-qe[0])**2+(Xe[1]-qe[1])**2);this.computed.mbr={width:Ye,height:Ke,elongation:1-Ye/Ke,aspectRatio:Ye/Ke,surface:Ye*Ke,perimeter:(Ye+Ke)*2,rectangle:je}}}return this.computed.mbr}get fillRatio(){return this.surface/(this.surface+this.holesInfo.surface)}get feretDiameters(){return this.computed.feretDiameters||(this.computed.feretDiameters=feretDiameters({originalPoints:this.convexHull.polyline})),this.computed.feretDiameters}get eqpc(){return this.computed.eqpc||(this.computed.eqpc=2*Math.sqrt(this.surface/Math.PI)),this.computed.eqpc}get perimeterInfo(){return this.computed.perimeterInfo||(this.computed.perimeterInfo=getPerimeterInfo(this)),this.computed.perimeterInfo}get perimeter(){let je=this.perimeterInfo,ze=2-Math.sqrt(2);return je.one+je.two*2+je.three*3+je.four*4-ze*(je.two+je.three*2+je.four)}get ped(){return this.computed.ped||(this.computed.ped=this.perimeter/Math.PI),this.computed.ped}get feretMask(){if(!this.computed.feretMask){const je=new Image$1(this.width+1,this.height+1,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent});je.paintPolyline(this.feretDiameters.minLine),je.paintPolyline(this.feretDiameters.maxLine),this.computed.feretMask=je}return this.computed.feretMask}get mbrMask(){if(!this.computed.mbrMask){let je=round$1(this.mbr.rectangle);if(je.length>0){const ze=minMax(je),qe=new Image$1(ze[1][0]-ze[0][0]+1,ze[1][1]-ze[0][1]+1,{kind:BINARY,position:[this.minX+ze[0][0],this.minY+ze[0][1]],parent:this.map.parent});je=moveToZeroZero(je),qe.paintPolyline(je,{closed:!0}),this.computed.mbrMask=qe}else this.computed.mbrMask=new Image$1(1,1,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent})}return this.computed.mbrMask}get mbrFilledMask(){if(!this.computed.mbrFilledMask){const je=new Image$1(this.width,this.height,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent}),ze=this.mask.minimalBoundingRectangle();for(let qe=0;qe<this.width;qe++)for(let Xe=0;Xe<this.height;Xe++)robustPointInPolygon$1(ze,[qe,Xe])!==1&&je.setBitXY(qe,Xe);this.computed.mbrFilledMask=je}return this.computed.mbrFilledMask}get points(){if(!this.computed.points){let je=[];for(let ze=0;ze<this.height;ze++)for(let qe=0;qe<this.width;qe++){let Xe=(ze+this.minY)*this.map.width+qe+this.minX;this.map.data[Xe]===this.id&&je.push([qe,ze])}this.computed.points=je}return this.computed.points}get maxLengthPoints(){if(!this.computed.maxLengthPoints){let je=0,ze;const qe=this.points;for(let Xe=0;Xe<qe.length;Xe++)for(let Ye=Xe+1;Ye<qe.length;Ye++){let Ke=Math.pow(qe[Xe][0]-qe[Ye][0],2)+Math.pow(qe[Xe][1]-qe[Ye][1],2);Ke>=je&&(je=Ke,ze=[qe[Xe],qe[Ye]])}this.computed.maxLengthPoints=ze}return this.computed.maxLengthPoints}get maxLength(){if(!this.computed.maxLength){let je=Math.sqrt(Math.pow(this.maxLengthPoints[0][0]-this.maxLengthPoints[1][0],2)+Math.pow(this.maxLengthPoints[0][1]-this.maxLengthPoints[1][1],2));this.computed.maxLength=je}return this.computed.maxLength}get roundness(){return 4*this.surface/(Math.PI*this.feretDiameters.max**2)}get sphericity(){return 2*Math.sqrt(this.surface*Math.PI)/this.perimeter}get solidity(){return this.surface/this.convexHull.surface}get angle(){if(!this.computed.angle){let je=this.maxLengthPoints,ze=-Math.atan2(je[0][1]-je[1][1],je[0][0]-je[1][0])*180/Math.PI;this.computed.angle=ze}return this.computed.angle}toJSON(){return{id:this.id,minX:this.minX,maxX:this.maxX,minY:this.minY,maxY:this.maxY,meanX:this.meanX,meanY:this.meanY,height:this.height,width:this.width,surface:this.surface,mbrWidth:this.mbr.width,mbrHeight:this.mbr.height,mbrSurface:this.mbr.surface,eqpc:this.eqpc,ped:this.ped,feretDiameterMin:this.feretDiameters.min,feretDiameterMax:this.feretDiameters.max,aspectRatio:this.feretDiameters.aspectRatio,fillRatio:this.fillRatio,sphericity:this.sphericity,roundness:this.roundness,solidity:this.solidity,perimeter:this.perimeter}}}function getBorders(Ve){let je=Ve.map,ze=je.data,qe=new Set,Xe=new Map,Ye=new Set,Ke=[1,0,-1,0],Ze=[0,1,0,-1];for(let St=Ve.minX;St<=Ve.maxX;St++)for(let ei=Ve.minY;ei<=Ve.maxY;ei++){let ti=St+ei*je.width;if(ze[ti]===Ve.id)for(let ii=0;ii<4;ii++){let ri=St+Ke[ii],si=ei+Ze[ii];if(ri>=0&&si>=0&&ri<je.width&&si<je.height){let ui=ri+si*je.width;if(ze[ui]!==Ve.id&&!Ye.has(ui)){Ye.add(ui),qe.add(ze[ui]);let ai=Xe.get(ze[ui]);ai?Xe.set(ze[ui],++ai):Xe.set(ze[ui],1)}}}}let Qe=Array.from(qe),Je=Qe.map(function(St){return Xe.get(St)});return{ids:Qe,lengths:Je}}function getBoxIDs(Ve){let je=new Set,ze=Ve.map,qe=ze.data;for(let Xe of[0,Ve.height-1])for(let Ye=0;Ye<Ve.width;Ye++){let Ke=(Xe+Ve.minY)*ze.width+Ye+Ve.minX;if(Ye-Ve.minX>0&&qe[Ke]===Ve.id&&qe[Ke-1]!==Ve.id){let Ze=qe[Ke-1];je.add(Ze)}if(ze.width-Ye-Ve.minX>1&&qe[Ke]===Ve.id&&qe[Ke+1]!==Ve.id){let Ze=qe[Ke+1];je.add(Ze)}}for(let Xe of[0,Ve.width-1])for(let Ye=0;Ye<Ve.height;Ye++){let Ke=(Ye+Ve.minY)*ze.width+Xe+Ve.minX;if(Ye-Ve.minY>0&&qe[Ke]===Ve.id&&qe[Ke-ze.width]!==Ve.id){let Ze=qe[Ke-ze.width];je.add(Ze)}if(ze.height-Ye-Ve.minY>1&&qe[Ke]===Ve.id&&qe[Ke+ze.width]!==Ve.id){let Ze=qe[Ke+ze.width];je.add(Ze)}}return Array.from(je)}function getBox(Ve){let je=0,ze=Ve.map,qe=ze.data,Xe=[0];Ve.height>1&&(Xe[1]=Ve.height-1);for(let Ke of Xe)for(let Ze=1;Ze<Ve.width-1;Ze++){let Qe=(Ke+Ve.minY)*ze.width+Ze+Ve.minX;qe[Qe]===Ve.id&&je++}let Ye=[0];Ve.width>1&&(Ye[1]=Ve.width-1);for(let Ke of Ye)for(let Ze=0;Ze<Ve.height;Ze++){let Qe=(Ze+Ve.minY)*ze.width+Ke+Ve.minX;qe[Qe]===Ve.id&&je++}return je}function getBorder(Ve){let je=0,ze=Ve.map,qe=ze.data;for(let Xe=1;Xe<Ve.width-1;Xe++)for(let Ye=1;Ye<Ve.height-1;Ye++){let Ke=(Ye+Ve.minY)*ze.width+Xe+Ve.minX;qe[Ke]===Ve.id&&(qe[Ke-1]!==Ve.id||qe[Ke+1]!==Ve.id||qe[Ke-ze.width]!==Ve.id||qe[Ke+ze.width]!==Ve.id)&&je++}return je+Ve.box}function getPerimeterInfo(Ve){let je=Ve.map,ze=je.data,qe=0,Xe=0,Ye=0,Ke=0;for(let Ze=0;Ze<Ve.width;Ze++)for(let Qe=0;Qe<Ve.height;Qe++){let Je=(Qe+Ve.minY)*je.width+Ze+Ve.minX;if(ze[Je]===Ve.id){let St=0;switch((Ze===0||Ve.externalIDs.includes(ze[Je-1]))&&St++,(Ze===Ve.width-1||Ve.externalIDs.includes(ze[Je+1]))&&St++,(Qe===0||Ve.externalIDs.includes(ze[Je-je.width]))&&St++,(Qe===Ve.height-1||Ve.externalIDs.includes(ze[Je+je.width]))&&St++,St){case 1:qe++;break;case 2:Xe++;break;case 3:Ye++;break;case 4:Ke++;break}}}return{one:qe,two:Xe,three:Ye,four:Ke}}function getExternal(Ve){let je=0,ze=Ve.map,qe=ze.data;for(let Xe=1;Xe<Ve.width-1;Xe++)for(let Ye=1;Ye<Ve.height-1;Ye++){let Ke=(Ye+Ve.minY)*ze.width+Xe+Ve.minX;qe[Ke]===Ve.id&&(Ve.externalIDs.includes(qe[Ke-1])||Ve.externalIDs.includes(qe[Ke+1])||Ve.externalIDs.includes(qe[Ke-ze.width])||Ve.externalIDs.includes(qe[Ke+ze.width]))&&je++}return je+Ve.box}function getHolesInfo(Ve){let je=0,ze=Ve.map.width,qe=Ve.map.data;for(let Xe=1;Xe<Ve.width-1;Xe++)for(let Ye=1;Ye<Ve.height-1;Ye++){let Ke=(Ye+Ve.minY)*ze+Xe+Ve.minX;Ve.internalIDs.includes(qe[Ke])&&qe[Ke]!==Ve.id&&je++}return{number:Ve.internalIDs.length-1,surface:je}}function getInternalIDs(Ve){let je=[Ve.id],ze=Ve.map,qe=ze.data;if(Ve.height>2)for(let Ye=0;Ye<Ve.width;Ye++){let Ke=Ve.minY*ze.width+Ye+Ve.minX;if(je.includes(qe[Ke])){let Ze=qe[Ke+ze.width];!je.includes(Ze)&&!Ve.boxIDs.includes(Ze)&&je.push(Ze)}}let Xe=new Array(4);for(let Ye=1;Ye<Ve.width-1;Ye++)for(let Ke=1;Ke<Ve.height-1;Ke++){let Ze=(Ke+Ve.minY)*ze.width+Ye+Ve.minX;if(je.includes(qe[Ze])){Xe[0]=qe[Ze-1],Xe[1]=qe[Ze+1],Xe[2]=qe[Ze-ze.width],Xe[3]=qe[Ze+ze.width];for(let Qe=0;Qe<4;Qe++){let Je=Xe[Qe];!je.includes(Je)&&!Ve.boxIDs.includes(Je)&&je.push(Je)}}}return je}class RoiLayer{constructor(je,ze){this.roiMap=je,this.options=ze,this.roi=this.createRoi()}createRoi(){let je=this.roiMap.data,ze={};this.roiMap.positive=0,this.roiMap.negative=0;for(let Ze=0;Ze<je.length;Ze++)je[Ze]&&!ze[je[Ze]]&&(ze[je[Ze]]=!0,je[Ze]>0?this.roiMap.positive++:this.roiMap.negative++);let qe={};for(let Ze in ze)qe[Ze]=new Roi(this.roiMap,Ze*1);let Xe=this.roiMap.width,Ye=this.roiMap.height;for(let Ze=0;Ze<Ye;Ze++)for(let Qe=0;Qe<Xe;Qe++){let Je=Ze*Xe+Qe;if(je[Je]!==0){const St=je[Je],ei=qe[St];Qe<ei.minX&&(ei.minX=Qe),Qe>ei.maxX&&(ei.maxX=Qe),Ze<ei.minY&&(ei.minY=Ze),Ze>ei.maxY&&(ei.maxY=Ze),ei.meanX+=Qe,ei.meanY+=Ze,ei.surface++}}let Ke=[];for(let Ze in ze)qe[Ze].meanX/=qe[Ze].surface,qe[Ze].meanY/=qe[Ze].surface,Ke.push(qe[Ze]);return Ke}}function commonBorderLength(Ve){let je=Ve.data,ze=[1,0,-1,0],qe=[0,1,0,-1],Xe=Ve.minMax,Ye=-Xe.min,Ke=Xe.max+Ye,Ze=[];for(let Je=0;Je<=Ke;Je++)Ze.push(Object.create(null));for(let Je=0;Je<Ve.width;Je++)for(let St=0;St<Ve.height;St++){let ei=Je+St*Ve.width,ti=je[ei];if(ti!==0){let ii=Object.create(null),ri=!1;for(let si=0;si<4;si++){let ui=Je+ze[si],ai=St+qe[si];if(ui>=0&&ai>=0&&ui<Ve.width&&ai<Ve.height){let oi=je[ui+ai*Ve.width];ti!==oi&&(ri=!0,oi!==0&&ii[oi]===void 0&&(ii[oi]=!0,Ze[oi+Ye][ti]?Ze[oi+Ye][ti]++:Ze[oi+Ye][ti]=1))}else ri=!0}ri&&(Ze[ti+Ye][ti]?Ze[ti+Ye][ti]++:Ze[ti+Ye][ti]=1)}}let Qe={};for(let Je=0;Je<Ze.length;Je++)Object.keys(Ze[Je]).length>0&&(Qe[Je-Ye]=Ze[Je]);return Qe}function mergeRoi(Ve={}){const{algorithm:je="commonBorderLength",minCommonBorderLength:ze=5,maxCommonBorderLength:qe=100,minCommonBorderRatio:Xe=.3,maxCommonBorderRatio:Ye=1}=Ve;let Ke=function(ui,ai,oi){return ui[oi]>=ze&&ui[oi]<=qe};typeof je=="function"&&(Ke=je),je.toLowerCase()==="commonborderratio"&&(Ke=function(ui,ai,oi){let ni=Math.min(ui[oi]/ui[ai],1);return ni>=Xe&&ni<=Ye});const Ze=this,Qe=Ze.commonBorderLength;let Je={},St={};for(let ui of Object.keys(Qe)){let ai=Qe[ui],oi=Object.keys(ai);for(let ni of oi)if(ni!==ui&&Ke(ai,ui,ni)){let ci=ni;St[ni]&&(ci=St[ni]);let hi=ui;if(St[ui]&&(hi=St[ui]),Number(ci)!==hi){let di=Math.min(ci,hi),fi=Math.max(ci,hi);if(Je[di]||(Je[di]={}),Je[di][fi]=!0,St[fi]=di,Je[fi]){for(let mi of Object.keys(Je[fi]))Je[di][mi]=!0,St[mi]=di;delete Je[fi]}}}}let ei=Ze.minMax,ti=-ei.min,ii=ei.max+ti,ri=new Array(ii+1).fill(0);for(let ui of Object.keys(St))ri[Number(ui)+ti]=St[ui];let si=Ze.data;for(let ui=0;ui<si.length;ui++){let ai=si[ui];if(ai!==0){let oi=ri[ai+ti];oi!==0&&(si[ui]=oi)}}return Ze.computed={},Ze}class RoiMap{constructor(je,ze){this.parent=je,this.width=je.width,this.height=je.height,this.data=ze,this.negative=0,this.positive=0}get total(){return this.negative+this.positive}get minMax(){let je=Number.MAX_SAFE_INTEGER,ze=Number.MIN_SAFE_INTEGER;for(let qe=0;qe<this.data.length;qe++)this.data[qe]<je&&(je=this.data[qe]),this.data[qe]>ze&&(ze=this.data[qe]);return{min:je,max:ze}}get commonBorderLength(){return commonBorderLength(this)}mergeRoi(je={}){return mergeRoi.call(this,je)}mergeRois(je){const ze=je[0],qe=je.slice(1);for(let Xe=0;Xe<this.data.length;Xe++)qe.includes(this.data[Xe])&&(this.data[Xe]=ze)}rowsInfo(){let je=new Array(this.height),ze=0;for(let qe=0;qe<this.data.length;qe+=this.width){let Xe={row:ze,positivePixel:0,negativePixel:0,zeroPixel:0,positiveRoi:0,negativeRoi:0,medianChange:0};je[ze++]=Xe;let Ye={},Ke={},Ze=[],Qe=this.data[qe],Je=0;for(let St=qe;St<qe+this.width;St++){let ei=this.data[St];Qe!==ei&&(Qe=ei,Ze.push(Je),Je=0),Je++,ei>0?(Xe.positivePixel++,Ye[ei]||(Ye[ei]=!0)):ei<0?(Xe.negativePixel++,Ke[ei]||(Ke[ei]=!0)):Xe.zeroPixel++}Ze.push(Je),Xe.medianChange=Ze.sort((St,ei)=>St-ei)[Math.floor(Ze.length/2)],Xe.positiveRoiIDs=Object.keys(Ye),Xe.negativeRoiIDs=Object.keys(Ke),Xe.positiveRoi=Xe.positiveRoiIDs.length,Xe.negativeRoi=Xe.negativeRoiIDs.length}return je}colsInfo(){let je=new Array(this.width),ze=0;for(let qe=0;qe<this.width;qe++){let Xe={col:ze,positivePixel:0,negativePixel:0,zeroPixel:0,positiveRoi:0,negativeRoi:0,medianChange:0};je[ze++]=Xe;let Ye={},Ke={},Ze=[],Qe=this.data[qe],Je=0;for(let St=qe;St<qe+this.data.length;St+=this.width){let ei=this.data[St];Qe!==ei&&(Qe=ei,Ze.push(Je),Je=0),Je++,ei>0?(Xe.positivePixel++,Ye[ei]||(Ye[ei]=!0)):ei<0?(Xe.negativePixel++,Ke[ei]||(Ke[ei]=!0)):Xe.zeroPixel++}Ze.push(Je),Xe.medianChange=Ze.sort((St,ei)=>St-ei)[Math.floor(Ze.length/2)],Xe.positiveRoiIDs=Object.keys(Ye),Xe.negativeRoiIDs=Object.keys(Ke),Xe.positiveRoi=Xe.positiveRoiIDs.length,Xe.negativeRoi=Xe.negativeRoiIDs.length}return je}}function fromMask(Ve,je={}){const{allowCorners:ze=!1}=je,qe=65535;let Xe=new Int16Array(Ve.size),Ye=0,Ke=0,Ze=new Uint16Array(qe+1),Qe=new Uint16Array(qe+1);for(let St=0;St<Ve.width;St++)for(let ei=0;ei<Ve.height;ei++)Xe[ei*Ve.width+St]===0&&Je(St,ei);function Je(St,ei){let ti=0,ii=0,ri=Ve.getBitXY(St,ei),si=ri?++Ye:--Ke;if(Ye>32767||Ke<-32768)throw new Error("Too many regions of interest");for(Ze[0]=St,Qe[0]=ei;ti<=ii;){let ui=Ze[ti&qe],ai=Qe[ti&qe];if(Xe[ai*Ve.width+ui]=si,ui>0&&Xe[ai*Ve.width+ui-1]===0&&Ve.getBitXY(ui-1,ai)===ri&&(ii++,Ze[ii&qe]=ui-1,Qe[ii&qe]=ai,Xe[ai*Ve.width+ui-1]=-32768),ai>0&&Xe[(ai-1)*Ve.width+ui]===0&&Ve.getBitXY(ui,ai-1)===ri&&(ii++,Ze[ii&qe]=ui,Qe[ii&qe]=ai-1,Xe[(ai-1)*Ve.width+ui]=-32768),ui<Ve.width-1&&Xe[ai*Ve.width+ui+1]===0&&Ve.getBitXY(ui+1,ai)===ri&&(ii++,Ze[ii&qe]=ui+1,Qe[ii&qe]=ai,Xe[ai*Ve.width+ui+1]=-32768),ai<Ve.height-1&&Xe[(ai+1)*Ve.width+ui]===0&&Ve.getBitXY(ui,ai+1)===ri&&(ii++,Ze[ii&qe]=ui,Qe[ii&qe]=ai+1,Xe[(ai+1)*Ve.width+ui]=-32768),ze&&(ui>0&&ai>0&&Xe[(ai-1)*Ve.width+ui-1]===0&&Ve.getBitXY(ui-1,ai-1)===ri&&(ii++,Ze[ii&qe]=ui-1,Qe[ii&qe]=ai-1,Xe[(ai-1)*Ve.width+ui-1]=-32768),ui<Ve.width-1&&ai>0&&Xe[(ai-1)*Ve.width+ui+1]===0&&Ve.getBitXY(ui+1,ai-1)===ri&&(ii++,Ze[ii&qe]=ui+1,Qe[ii&qe]=ai-1,Xe[(ai-1)*Ve.width+ui+1]=-32768),ui>0&&ai<Ve.height-1&&Xe[(ai+1)*Ve.width+ui-1]===0&&Ve.getBitXY(ui-1,ai+1)===ri&&(ii++,Ze[ii&qe]=ui-1,Qe[ii&qe]=ai+1,Xe[(ai+1)*Ve.width+ui-1]=-32768),ui<Ve.width-1&&ai<Ve.height-1&&Xe[(ai+1)*Ve.width+ui+1]===0&&Ve.getBitXY(ui+1,ai+1)===ri&&(ii++,Ze[ii&qe]=ui+1,Qe[ii&qe]=ai+1,Xe[(ai+1)*Ve.width+ui+1]=-32768)),ti++,ii-ti>qe)throw new Error("analyseMask can not finish, the array to manage internal data is not big enough.You could improve mask by changing MAX_ARRAY")}}return new RoiMap(Ve,Xe)}class DisjointSet{constructor(){this.nodes=new Map}add(je){var ze=this.nodes.get(je);return ze||(ze=new DisjointSetNode(je),this.nodes.set(je,ze)),ze}union(je,ze){const qe=this.find(je),Xe=this.find(ze);qe!==Xe&&(qe.rank<Xe.rank?qe.parent=Xe:qe.rank>Xe.rank?Xe.parent=qe:(Xe.parent=qe,qe.rank++))}find(je){for(var ze=je;ze.parent!==null;)ze=ze.parent;for(var qe=je;qe.parent!==null;){var Xe=qe;qe=qe.parent,Xe.parent=ze}return ze}connected(je,ze){return this.find(je)===this.find(ze)}}var DisjointSet_1=DisjointSet;function DisjointSetNode(Ve){this.value=Ve,this.parent=null,this.rank=0}const DisjointSet$1=getDefaultExportFromCjs$1(DisjointSet_1),direction4X=[-1,0],direction4Y=[0,-1],neighbours4=[null,null],direction8X=[-1,-1,0,1],direction8Y=[0,-1,-1,-1],neighbours8=[null,null,null,null];function fromMaskConnectedComponentLabelingAlgorithm(Ve,je={}){const{allowCorners:ze=!1}=je;let qe=4;ze&&(qe=8);let Xe,Ye,Ke;if(qe===8)Xe=direction8X,Ye=direction8Y,Ke=neighbours8;else if(qe===4)Xe=direction4X,Ye=direction4Y,Ke=neighbours4;else throw new RangeError(`unsupported neighbours count: ${qe}`);const Ze=Ve.size,Qe=Ve.width,Je=Ve.height,St=new Array(Ze),ei=new Uint32Array(Ze),ti=new DisjointSet$1;let ii=1;for(let ri=0;ri<Je;ri++)for(let si=0;si<Qe;si++){const ui=si+ri*Qe;if(Ve.getBit(ui)){let ai=null;for(let oi=0;oi<Ke.length;oi++){const ni=si+Xe[oi],ci=ri+Ye[oi];if(ni>=0&&ci>=0&&ni<Qe&&ci<Je){const hi=ni+ci*Qe;let di=St[hi];di?(Ke[oi]=di,(!ai||Ke[oi].value<ai.value)&&(ai=Ke[oi])):Ke[oi]=null}}if(!ai)St[ui]=ti.add(ii++);else{St[ui]=ai;for(let oi=0;oi<Ke.length;oi++)Ke[oi]&&Ke[oi]!==ai&&ti.union(ai,Ke[oi])}}}for(let ri=0;ri<Je;ri++)for(let si=0;si<Qe;si++){const ui=si+ri*Qe;Ve.getBit(ui)&&(ei[ui]=ti.find(St[ui]).value)}return new RoiMap(Ve,ei)}function fromMaxima(Ve={}){let{allowCorner:je=!0,onlyTop:ze=!1,invert:qe=!1}=Ve,Xe=this;Xe.checkProcessable("fromMaxima",{components:[1]});const Ye=1,Ke=2;let Ze=0,Qe=0,Je=new Int16Array(Xe.size),St=new Int8Array(Xe.size),ei=new Float32Array(Xe.size),ti=1048575,ii=new Uint16Array(ti+1),ri=new Uint16Array(ti+1),si=0,ui=0,ai=new Uint16Array(ti+1),oi=new Uint16Array(ti+1),ni=0,ci=0;for(hi(Xe);si<ui;){let mi=ii[si&ti],pi=ri[si&ti];fi(mi,pi,Ke),si++}return new RoiMap(Xe,Je);function hi({maxima:mi=!0}){for(let pi=1;pi<Xe.height-1;pi++)for(let wi=1;wi<Xe.width-1;wi++){let gi=wi+pi*Xe.width;if(St[gi]===0){let yi=mi?Xe.data[gi]:-Xe.data[wi+pi*Xe.width];if(Xe.data[pi*Xe.width+wi-1]>yi||Xe.data[pi*Xe.width+wi+1]>yi||Xe.data[(pi-1)*Xe.width+wi]>yi||Xe.data[(pi+1)*Xe.width+wi]>yi||je&&(Xe.data[(pi-1)*Xe.width+wi-1]>yi||Xe.data[(pi-1)*Xe.width+wi+1]>yi||Xe.data[(pi+1)*Xe.width+wi-1]>yi||Xe.data[(pi+1)*Xe.width+wi+1]>yi))continue;Je[gi]=mi?++Ze:--Qe,di(wi,pi)||(mi?--Ze:++Qe)}}}function di(mi,pi){let wi=ui;ni=0,ci=1,ai[0]=mi,oi[0]=pi;let gi=!0;for(;ni<ci;){let yi=ai[ni&ti],Ai=oi[ni&ti];gi&=fi(yi,Ai,Ye),ni++}if(!gi){for(let yi=0;yi<ci;yi++){let Ai=ai[yi&ti],Si=oi[yi&ti]*Xe.width+Ai;Je[Si]=0}ui=wi}return gi}function fi(mi,pi,wi){let gi=Je[pi*Xe.width+mi],yi=Xe.data[pi*Xe.width+mi];for(let Ai=pi-1;Ai<=pi+1;Ai++)for(let Si=mi-1;Si<=mi+1;Si++){let ki=Ai*Xe.width+Si;if(St[ki]===0)switch(St[ki]=1,ei[ki]=Xe.data[ki]-yi,wi){case Ye:if(ei[ki]===0){if(Si===0||Ai===0||Si===Xe.width-1||Ai===Xe.height-1)return!1;Je[ki]=gi,ai[ci&ti]=Si,oi[ci&ti]=Ai,ci++}else{if(ei[ki]>0)return!1;ze||(Je[ki]=gi,ii[ui&ti]=Si,ri[ui&ti]=Ai,ui++)}break;case Ke:ei[ki]<=0&&(Je[ki]=gi,ii[ui&ti]=Si,ri[ui&ti]=Ai,ui++);break;default:throw new Error("unreachable")}}return!0}}function fromPoints(Ve,je={}){let ze=new Shape(je),qe=new Int16Array(this.size),Xe=0,Ye=ze.getPoints();for(let Ke=0;Ke<Ve.length;Ke++){Xe++;let Ze=Ve[Ke][0],Qe=Ve[Ke][1];for(let Je=0;Je<Ye.length;Je++){let St=Ye[Je][0],ei=Ye[Je][1];Ze+St>=0&&Qe+ei>=0&&Ze+St<this.width&&Qe+ei<this.height&&(qe[Ze+St+(Qe+ei)*this.width]=Xe)}}return new RoiMap(this,qe)}function commonjsRequire(Ve){throw new Error('Could not dynamically require "'+Ve+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var priorityQueue={exports:{}};(function(Ve,je){(function(ze){Ve.exports=ze()})(function(){return function ze(qe,Xe,Ye){function Ke(Je,St){if(!Xe[Je]){if(!qe[Je]){var ei=typeof commonjsRequire=="function"&&commonjsRequire;if(!St&&ei)return ei(Je,!0);if(Ze)return Ze(Je,!0);var ti=new Error("Cannot find module '"+Je+"'");throw ti.code="MODULE_NOT_FOUND",ti}var ii=Xe[Je]={exports:{}};qe[Je][0].call(ii.exports,function(ri){var si=qe[Je][1][ri];return Ke(si||ri)},ii,ii.exports,ze,qe,Xe,Ye)}return Xe[Je].exports}for(var Ze=typeof commonjsRequire=="function"&&commonjsRequire,Qe=0;Qe<Ye.length;Qe++)Ke(Ye[Qe]);return Ke}({1:[function(ze,qe,Xe){var Ye,Ke,Ze,Qe,Je,St=function(ti,ii){for(var ri in ii)ei.call(ii,ri)&&(ti[ri]=ii[ri]);function si(){this.constructor=ti}return si.prototype=ii.prototype,ti.prototype=new si,ti.__super__=ii.prototype,ti},ei={}.hasOwnProperty;Ye=ze("./PriorityQueue/AbstractPriorityQueue"),Ke=ze("./PriorityQueue/ArrayStrategy"),Qe=ze("./PriorityQueue/BinaryHeapStrategy"),Ze=ze("./PriorityQueue/BHeapStrategy"),Je=function(ti){St(ii,ti);function ii(ri){ri||(ri={}),ri.strategy||(ri.strategy=Qe),ri.comparator||(ri.comparator=function(si,ui){return(si||0)-(ui||0)}),ii.__super__.constructor.call(this,ri)}return ii}(Ye),Je.ArrayStrategy=Ke,Je.BinaryHeapStrategy=Qe,Je.BHeapStrategy=Ze,qe.exports=Je},{"./PriorityQueue/AbstractPriorityQueue":2,"./PriorityQueue/ArrayStrategy":3,"./PriorityQueue/BHeapStrategy":4,"./PriorityQueue/BinaryHeapStrategy":5}],2:[function(ze,qe,Xe){qe.exports=function(){function Ye(Ke){var Ze;if((Ke!=null?Ke.strategy:void 0)==null)throw"Must pass options.strategy, a strategy";if((Ke!=null?Ke.comparator:void 0)==null)throw"Must pass options.comparator, a comparator";this.priv=new Ke.strategy(Ke),this.length=(Ke!=null&&(Ze=Ke.initialValues)!=null?Ze.length:void 0)||0}return Ye.prototype.queue=function(Ke){this.length++,this.priv.queue(Ke)},Ye.prototype.dequeue=function(Ke){if(!this.length)throw"Empty queue";return this.length--,this.priv.dequeue()},Ye.prototype.peek=function(Ke){if(!this.length)throw"Empty queue";return this.priv.peek()},Ye.prototype.clear=function(){return this.length=0,this.priv.clear()},Ye}()},{}],3:[function(ze,qe,Xe){var Ye;Ye=function(Ke,Ze,Qe){var Je,St,ei;for(St=0,Je=Ke.length;St<Je;)ei=St+Je>>>1,Qe(Ke[ei],Ze)>=0?St=ei+1:Je=ei;return St},qe.exports=function(){function Ke(Ze){var Qe;this.options=Ze,this.comparator=this.options.comparator,this.data=((Qe=this.options.initialValues)!=null?Qe.slice(0):void 0)||[],this.data.sort(this.comparator).reverse()}return Ke.prototype.queue=function(Ze){var Qe;Qe=Ye(this.data,Ze,this.comparator),this.data.splice(Qe,0,Ze)},Ke.prototype.dequeue=function(){return this.data.pop()},Ke.prototype.peek=function(){return this.data[this.data.length-1]},Ke.prototype.clear=function(){this.data.length=0},Ke}()},{}],4:[function(ze,qe,Xe){qe.exports=function(){function Ye(Ke){var Ze,Qe,Je,St,ei,ti,ii,ri;for(this.comparator=(Ke!=null?Ke.comparator:void 0)||function(si,ui){return si-ui},this.pageSize=(Ke!=null?Ke.pageSize:void 0)||512,this.length=0,ii=0;1<<ii<this.pageSize;)ii+=1;if(1<<ii!==this.pageSize)throw"pageSize must be a power of two";for(this._shift=ii,this._emptyMemoryPageTemplate=Ze=[],Qe=0,ei=this.pageSize;0<=ei?Qe<ei:Qe>ei;0<=ei?++Qe:--Qe)Ze.push(null);if(this._memory=[],this._mask=this.pageSize-1,Ke.initialValues)for(ti=Ke.initialValues,Je=0,St=ti.length;Je<St;Je++)ri=ti[Je],this.queue(ri)}return Ye.prototype.queue=function(Ke){this.length+=1,this._write(this.length,Ke),this._bubbleUp(this.length,Ke)},Ye.prototype.dequeue=function(){var Ke,Ze;return Ke=this._read(1),Ze=this._read(this.length),this.length-=1,this.length>0&&(this._write(1,Ze),this._bubbleDown(1,Ze)),Ke},Ye.prototype.peek=function(){return this._read(1)},Ye.prototype.clear=function(){this.length=0,this._memory.length=0},Ye.prototype._write=function(Ke,Ze){var Qe;for(Qe=Ke>>this._shift;Qe>=this._memory.length;)this._memory.push(this._emptyMemoryPageTemplate.slice(0));return this._memory[Qe][Ke&this._mask]=Ze},Ye.prototype._read=function(Ke){return this._memory[Ke>>this._shift][Ke&this._mask]},Ye.prototype._bubbleUp=function(Ke,Ze){var Qe,Je,St,ei;for(Qe=this.comparator;Ke>1&&(Je=Ke&this._mask,Ke<this.pageSize||Je>3?St=Ke&~this._mask|Je>>1:Je<2?(St=Ke-this.pageSize>>this._shift,St+=St&~(this._mask>>1),St|=this.pageSize>>1):St=Ke-2,ei=this._read(St),!(Qe(ei,Ze)<0));)this._write(St,Ze),this._write(Ke,ei),Ke=St},Ye.prototype._bubbleDown=function(Ke,Ze){var Qe,Je,St,ei,ti;for(ti=this.comparator;Ke<this.length;)if(Ke>this._mask&&!(Ke&this._mask-1)?Qe=Je=Ke+2:Ke&this.pageSize>>1?(Qe=(Ke&~this._mask)>>1,Qe|=Ke&this._mask>>1,Qe=Qe+1<<this._shift,Je=Qe+1):(Qe=Ke+(Ke&this._mask),Je=Qe+1),Qe!==Je&&Je<=this.length)if(St=this._read(Qe),ei=this._read(Je),ti(St,Ze)<0&&ti(St,ei)<=0)this._write(Qe,Ze),this._write(Ke,St),Ke=Qe;else if(ti(ei,Ze)<0)this._write(Je,Ze),this._write(Ke,ei),Ke=Je;else break;else if(Qe<=this.length)if(St=this._read(Qe),ti(St,Ze)<0)this._write(Qe,Ze),this._write(Ke,St),Ke=Qe;else break;else break},Ye}()},{}],5:[function(ze,qe,Xe){qe.exports=function(){function Ye(Ke){var Ze;this.comparator=(Ke!=null?Ke.comparator:void 0)||function(Qe,Je){return Qe-Je},this.length=0,this.data=((Ze=Ke.initialValues)!=null?Ze.slice(0):void 0)||[],this._heapify()}return Ye.prototype._heapify=function(){var Ke,Ze,Qe;if(this.data.length>0)for(Ke=Ze=1,Qe=this.data.length;1<=Qe?Ze<Qe:Ze>Qe;Ke=1<=Qe?++Ze:--Ze)this._bubbleUp(Ke)},Ye.prototype.queue=function(Ke){this.data.push(Ke),this._bubbleUp(this.data.length-1)},Ye.prototype.dequeue=function(){var Ke,Ze;return Ze=this.data[0],Ke=this.data.pop(),this.data.length>0&&(this.data[0]=Ke,this._bubbleDown(0)),Ze},Ye.prototype.peek=function(){return this.data[0]},Ye.prototype.clear=function(){this.length=0,this.data.length=0},Ye.prototype._bubbleUp=function(Ke){for(var Ze,Qe;Ke>0&&(Ze=Ke-1>>>1,this.comparator(this.data[Ke],this.data[Ze])<0);)Qe=this.data[Ze],this.data[Ze]=this.data[Ke],this.data[Ke]=Qe,Ke=Ze},Ye.prototype._bubbleDown=function(Ke){var Ze,Qe,Je,St,ei;for(Ze=this.data.length-1;Qe=(Ke<<1)+1,St=Qe+1,Je=Ke,Qe<=Ze&&this.comparator(this.data[Qe],this.data[Je])<0&&(Je=Qe),St<=Ze&&this.comparator(this.data[St],this.data[Je])<0&&(Je=St),Je!==Ke;)ei=this.data[Je],this.data[Je]=this.data[Ke],this.data[Ke]=ei,Ke=Je},Ye}()},{}]},{},[1])(1)})})(priorityQueue);var priorityQueueExports=priorityQueue.exports;const PriorityQueue=getDefaultExportFromCjs$1(priorityQueueExports),dxs=[1,0,-1,0,1,1,-1,-1],dys=[0,1,0,-1,1,-1,1,-1];function fromWaterShed(Ve={}){let{points:je,mask:ze,image:qe,fillMaxValue:Xe=this.maxValue,invert:Ye=!1}=Ve,Ke=qe||this;Ke.checkProcessable("fromWaterShed",{bitDepth:[8,16],components:1}),Ye=!Ye,je||(je=Ke.getLocalMaxima({invert:Ye,mask:ze}));let Ze=Ye?0:1,Qe=new Int16Array(Ke.size),Je=Ke.width,St=Ke.height,ei=new PriorityQueue({comparator:(ti,ii)=>ti[2]-ii[2],strategy:PriorityQueue.BinaryHeapStrategy});for(let ti=0;ti<je.length;ti++){let ii=je[ti][0]+je[ti][1]*Je;Qe[ii]=ti+1;let ri=Ke.data[ii];(Ye&&ri<=Xe||!Ye&&ri>=Xe)&&ei.queue([je[ti][0],je[ti][1],ri])}for(;ei.length>0;){let ti=ei.dequeue(),ii=ti[0]+ti[1]*Je;for(let ri=0;ri<4;ri++){let si=ti[0]+dxs[ri],ui=ti[1]+dys[ri];if(si>=0&&ui>=0&&si<Je&&ui<St){let ai=si+ui*Je;if(!ze||ze.getBit(ai)===Ze){let oi=Ke.data[ai];(Ye&&oi<=Xe||!Ye&&oi>=Xe)&&Qe[ai]===0&&(Qe[ai]=Qe[ii],ei.queue([ti[0]+dxs[ri],ti[1]+dys[ri],oi]))}}}}return new RoiMap(Ke,Qe)}class RoiManager{constructor(je,ze={}){this._image=je,this._options=ze,this._options.label||(this._options.label="default"),this._layers={},this._painted=null}fromMaxima(je={}){let ze=Object.assign({},this._options,je),qe=fromMaxima.call(this._image,je);this._layers[ze.label]=new RoiLayer(qe,ze)}fromPoints(je,ze={}){let qe=Object.assign({},this._options,ze),Xe=fromPoints.call(this._image,je,ze);return this._layers[qe.label]=new RoiLayer(Xe,qe),this}putMap(je,ze={}){let qe=new RoiMap(this._image,je),Xe=Object.assign({},this._options,ze);return this._layers[Xe.label]=new RoiLayer(qe,Xe),this}fromWaterShed(je={}){let ze=Object.assign({},this._options,je),qe=fromWaterShed.call(this._image,je);this._layers[ze.label]=new RoiLayer(qe,ze)}fromMask(je,ze={}){let qe=Object.assign({},this._options,ze),Xe=fromMask.call(this._image,je,ze);return this._layers[qe.label]=new RoiLayer(Xe,qe),this}fromMaskConnectedComponentLabelingAlgorithm(je,ze={}){let qe=Object.assign({},this._options,ze),Xe=fromMaskConnectedComponentLabelingAlgorithm.call(this._image,je,ze);return this._layers[qe.label]=new RoiLayer(Xe,qe),this}getMap(je={}){let ze=Object.assign({},this._options,je);return this._assertLayerWithLabel(ze.label),this._layers[ze.label].roiMap}rowsInfo(je={}){return this.getMap(je).rowsInfo()}colsInfo(je={}){return this.getMap(je).rowsInfo()}getRoiIds(je={}){let ze=this.getRois(je);if(ze){let qe=new Array(ze.length);for(let Xe=0;Xe<ze.length;Xe++)qe[Xe]=ze[Xe].id;return qe}throw new Error("ROIs not found")}getRois(je={}){let{label:ze=this._options.label,positive:qe=!0,negative:Xe=!0,minSurface:Ye=0,maxSurface:Ke=Number.POSITIVE_INFINITY,minWidth:Ze=0,maxWidth:Qe=Number.POSITIVE_INFINITY,minHeight:Je=0,maxHeight:St=Number.POSITIVE_INFINITY,minRatio:ei=0,maxRatio:ti=Number.POSITIVE_INFINITY}=je;if(!this._layers[ze])throw new Error(`this Roi layer (${ze}) does not exist`);const ii=this._layers[ze].roi,ri=[];for(const si of ii)(si.id<0&&Xe||si.id>0&&qe)&&si.surface>=Ye&&si.surface<=Ke&&si.width>=Ze&&si.width<=Qe&&si.height>=Je&&si.height<=St&&si.ratio>=ei&&si.ratio<=ti&&ri.push(si);return ri}getRoi(je,ze={}){const{label:qe=this._options.label}=ze;if(!this._layers[qe])throw new Error(`this Roi layer (${qe}) does not exist`);const Xe=this._layers[qe].roi.find(Ye=>Ye.id===je);if(!Xe)throw new Error(`found no Roi with id ${je}`);return Xe}getMasks(je={}){let ze=this.getRois(je),qe=new Array(ze.length);for(let Xe=0;Xe<ze.length;Xe++)qe[Xe]=ze[Xe].getMask(je);return qe}getAnalysisMasks(je={}){const{analysisProperty:ze}=je;let qe=`${ze}Mask`,Xe=this.getRois(je);return Xe.length===0||!Xe[0][qe]?[]:Xe.map(Ye=>Ye[qe])}getData(je={}){let ze=Object.assign({},this._options,je);return this._assertLayerWithLabel(ze.label),this._layers[ze.label].roiMap.data}paint(je={}){let{labelProperty:ze,analysisProperty:qe}=je;this._painted||(this._painted=this._image.rgba8());let Xe=this.getMasks(je);if(ze){const Ye=this.getRois(je);je.labels=Ye.map(Je=>deepValue(Je,ze));const Ke=Math.max(...je.labels);let Ze=!1,Qe=!1;if(ze.includes("surface")?Ze=!0:/(?:perimeter|min|max|external|width|height|length)/.test(ze)&&(Qe=!0),isFinite(Ke)){let Je="";if(je.unit!=="pixel"&&je.pixelSize&&(Qe||Ze)){Je=Ze?`${je.unit}^2`:je.unit;let St=Ze?"m^2":"m",ei=Ze?je.pixelSize**2:je.pixelSize;const ti=Qty.swiftConverter(St,Je);je.labels=je.labels.map(ii=>ti(ei*ii))}Ke>50?je.labels=je.labels.map(St=>Math.round(St)+Je):Ke>10?je.labels=je.labels.map(St=>St.toFixed(1)+Je):je.labels=je.labels.map(St=>St.toFixed(2)+Je)}je.labelsPosition=Ye.map(Je=>[Je.meanX,Je.meanY])}if(this._painted.paintMasks(Xe,je),qe){let Ye=this.getAnalysisMasks(je);this._painted.paintMasks(Ye,{color:je.analysisColor,alpha:je.analysisAlpha})}return this._painted}getMask(je={}){let ze=new Image$1(this._image.width,this._image.height,{kind:"BINARY"}),qe=this.getMasks(je);for(let Xe=0;Xe<qe.length;Xe++){let Ye=qe[Xe];for(let Ke=0;Ke<Ye.width;Ke++)for(let Ze=0;Ze<Ye.height;Ze++)Ye.getBitXY(Ke,Ze)&&ze.setBitXY(Ke+Ye.position[0],Ze+Ye.position[1])}return ze}resetPainted(je={}){const{image:ze}=je;ze?this._painted=this.image.rgba8():this._painted=this._image.rgba8()}mergeRoi(je={}){const ze=this.getMap(je);return ze.mergeRoi(je),this.putMap(ze.data,je),this}mergeRois(je,ze={}){if(!Array.isArray(je)||je.some(Xe=>!Number.isInteger(Xe)))throw new Error("Roi ids must be an array of integers");if(je.length<2)throw new Error("Roi ids must have at least two elements");if(new Set(je).size!==je.length)throw new Error("Roi ids must be all different");je.forEach(Xe=>this.getRoi(Xe));const qe=this.getMap(ze);return qe.mergeRois(je),this.putMap(qe.data,ze),this}findCorrespondingRoi(je,ze={}){let qe=this.getRois(ze),Xe=[];for(let Ye=0;Ye<qe.length;Ye++){let Ke=qe[Ye],Ze=Ke.minX,Qe=Ke.minY,Je=Ke.points,St=Math.sign(Ke.id),ei=correspondingRoisInformation(Ze,Qe,Je,je,St);Xe.push(ei)}return Xe}_assertLayerWithLabel(je){if(!this._layers[je])throw new Error(`no layer with label ${je}`)}}function correspondingRoisInformation(Ve,je,ze,qe,Xe){let Ye={id:[],surface:[],roiSurfaceCovered:[],same:0,opposite:0,total:0};for(let Ke=0;Ke<ze.length;Ke++){let Ze=ze[Ke],Qe=Ze[0],Je=Ze[1],St=Qe+Ve+(Je+je)*qe.width,ei=qe.data[St];(ei>0||ei<0)&&(Ye.id.includes(ei)?Ye.surface[Ye.id.indexOf(ei)]+=1:(Ye.id.push(ei),Ye.surface.push(1)))}for(let Ke=0;Ke<Ye.id.length;Ke++)Math.sign(Ye.id[Ke])===Xe?Ye.same+=Ye.surface[Ke]:Ye.opposite+=Ye.surface[Ke],Ye.roiSurfaceCovered[Ke]=Ye.surface[Ke]/ze.length;return Ye.total=Ye.opposite+Ye.same,Ye}const objectToString=Object.prototype.toString;let Image$1=class tl{constructor(je,ze,qe,Xe){if(arguments.length===1?(Xe=je,{width:je,height:ze,data:qe}=Xe):qe&&!qe.length&&(Xe=qe,{data:qe}=Xe),je===void 0&&(je=1),ze===void 0&&(ze=1),Xe===void 0&&(Xe={}),typeof Xe!="object"||Xe===null)throw new TypeError("options must be an object");if(!Number.isInteger(je)||je<=0)throw new RangeError("width must be a positive integer");if(!Number.isInteger(ze)||ze<=0)throw new RangeError("height must be a positive integer");const{kind:Ye=RGBA}=Xe;if(typeof Ye!="string")throw new TypeError("kind must be a string");const Ke=getKind(Ye),Ze=Object.assign({},Xe);for(const si in Ke)Ze[si]===void 0&&(Ze[si]=Ke[si]);verifyKindDefinition(Ze);const{components:Qe,bitDepth:Je,colorModel:St}=Ze,ei=Ze.alpha+0,ti=je*ze,ii=Qe+ei,ri=Je===32?Number.MAX_VALUE:2**Je-1;if(qe===void 0)qe=createPixelArray(ti,Qe,ei,ii,Je,ri);else{const si=getTheoreticalPixelArraySize(ti,ii,Je);if(qe.length!==si)throw new RangeError(`incorrect data size: ${qe.length}. Should be ${si}`)}this.width=je,this.height=ze,this.data=qe,this.size=ti,this.components=Qe,this.alpha=ei,this.bitDepth=Je,this.maxValue=ri,this.colorModel=St,this.channels=ii,this.meta=Xe.meta||{},Object.defineProperty(this,"parent",{enumerable:!1,writable:!0,configurable:!0,value:Xe.parent||null}),this.position=Xe.position||[0,0],this.computed=null,this.sizes=[this.width,this.height],this.multiplierX=this.channels,this.multiplierY=this.channels*this.width,this.isClamped=this.bitDepth<32,this.borderSizes=[0,0]}get[Symbol.toStringTag](){return"IJSImage"}static isImage(je){return objectToString.call(je)==="[object IJSImage]"}static fromCanvas(je){const ze=je.getContext("2d").getImageData(0,0,je.width,je.height);return new tl(ze.width,ze.height,ze.data)}static createFrom(je,ze){const qe=getImageParameters(je);return Object.assign(qe,{parent:je,position:[0,0]},ze),new tl(qe)}getRoiManager(je){return new RoiManager(this,je)}clone(){const je=this.data.slice();return new tl(this.width,this.height,je,this)}apply(je){for(let ze=0;ze<this.height;ze++)for(let qe=0;qe<this.width;qe++){let Xe=(ze*this.width+qe)*this.channels;je.call(this,Xe)}}};setValueMethods(Image$1);setBitMethods(Image$1);setExportMethods(Image$1);Image$1.prototype.checkProcessable=checkProcessable;Image$1.prototype.getRGBAData=getRGBAData;Image$1.load=load;Image$1.extendMethod=extendMethod;Image$1.extendProperty=extendProperty;extend$1(Image$1);var workerTemplate$1={},worker$1=function(){self.window=self;function Ve(){this._listeners={}}Ve.prototype.on=function(ze,qe){if(this._listeners[ze])throw new RangeError("there is already a listener for "+ze);if(typeof qe!="function")throw new TypeError("callback argument must be a function");this._listeners[ze]=qe},Ve.prototype._send=function(ze,qe,Xe){Xe===void 0?Xe=[]:Array.isArray(Xe)||(Xe=[Xe]),self.postMessage({id:ze,data:qe},Xe)},Ve.prototype._trigger=function(ze,qe){if(!this._listeners[ze])throw new Error("event "+ze+" is not defined");this._listeners[ze].apply(null,qe)};var je=new Ve;self.onmessage=function(ze){switch(ze.data.action){case"exec":ze.data.args.unshift(function(qe,Xe){je._send(ze.data.id,qe,Xe)}),je._trigger(ze.data.event,ze.data.args);break;case"ping":je._send(ze.data.id,"pong");break;default:throw new Error("unexpected action: "+ze.data.action)}}},workerStr=worker$1.toString().split('"CODE";');workerTemplate$1.newWorkerURL=function Ve(je,ze){var qe=new Blob(["(",workerStr[0],"importScripts.apply(self, "+JSON.stringify(ze)+`);
`,"(",je,")();",workerStr[1],")();"],{type:"application/javascript"});return URL.createObjectURL(qe)};var workerTemplate=workerTemplate$1,CORES=navigator.hardwareConcurrency||1;function WorkerManager(Ve,je){if(typeof Ve!="string"&&typeof Ve!="function")throw new TypeError("func argument must be a function");if(je===void 0&&(je={}),typeof je!="object"||je===null)throw new TypeError("options argument must be an object");this._workerCode=Ve.toString(),je.maxWorkers===void 0||je.maxWorkers==="auto"?this._numWorkers=Math.min(CORES-1,1):je.maxWorkers>0?this._numWorkers=Math.min(je.maxWorkers,CORES):this._numWorkers=CORES,this._workers=new Map,this._timeout=je.timeout||0,this._terminateOnError=!!je.terminateOnError;var ze=je.deps;typeof ze=="string"&&(ze=[ze]),Array.isArray(ze)||(ze=void 0),this._id=0,this._terminated=!1,this._working=0,this._waiting=[],this._init(ze)}WorkerManager.prototype._init=function(Ve){for(var je=workerTemplate.newWorkerURL(this._workerCode,Ve),ze=0;ze<this._numWorkers;ze++){var qe=new Worker(je);qe.onmessage=this._onmessage.bind(this,qe),qe.onerror=this._onerror.bind(this,qe),qe.running=!1,qe.id=ze,this._workers.set(qe,null)}URL.revokeObjectURL(je)};WorkerManager.prototype._onerror=function(Ve,je){if(!this._terminated){this._working--,Ve.running=!1;var ze=this._workers.get(Ve);ze&&ze[1](je.message),this._workers.set(Ve,null),this._terminateOnError?this.terminate():this._exec()}};WorkerManager.prototype._onmessage=function(Ve,je){if(!this._terminated){this._working--,Ve.running=!1;var ze=this._workers.get(Ve);ze&&ze[0](je.data.data),this._workers.set(Ve,null),this._exec()}};WorkerManager.prototype._exec=function(){for(var Ve of this._workers.keys()){if(this._working===this._numWorkers||this._waiting.length===0)return;if(!Ve.running)for(var je=0;je<this._waiting.length;je++){var ze=this._waiting[je];if(!(typeof ze[4]=="number"&&ze[4]!==Ve.id)){this._waiting.splice(je,1),Ve.postMessage({action:"exec",event:ze[0],args:ze[1]},ze[2]),Ve.running=!0,Ve.time=Date.now(),this._workers.set(Ve,ze[3]),this._working++;break}}}};WorkerManager.prototype.terminate=function(){if(!this._terminated){for(var Ve of this._workers)Ve[0].terminate(),Ve[1]&&Ve[1][1](new Error("Terminated"));this._workers.clear(),this._waiting=[],this._working=0,this._terminated=!0}};WorkerManager.prototype.postAll=function(Ve,je){if(this._terminated)throw new Error("Cannot post (terminated)");var ze=[];for(var qe of this._workers.keys())ze.push(this.post(Ve,je,[],qe.id));return Promise.all(ze)};WorkerManager.prototype.post=function(Ve,je,ze,qe){je===void 0&&(je=[]),ze===void 0&&(ze=[]),Array.isArray(je)||(je=[je]),Array.isArray(ze)||(ze=[ze]);var Xe=this;return new Promise(function(Ye,Ke){if(Xe._terminated)throw new Error("Cannot post (terminated)");Xe._waiting.push([Ve,je,ze,[Ye,Ke],qe]),Xe._exec()})};var src=WorkerManager;const WorkerManager$1=getDefaultExportFromCjs$1(src),defaultOptions={regression:{kernelType:"polynomial",kernelOptions:{degree:2,constant:1}},threshold:.02,roi:{minSurface:100,positive:!1},sampling:20,include:[]};function run(Ve,je,ze){je=Object.assign({},defaultOptions,je);const qe=this.manager;return Array.isArray(Ve)?Promise.all(Ve.map(function(Xe){const Ye=runOnce(qe,Xe,je);return typeof ze=="function"&&Ye.then(ze),Ye})):runOnce(qe,Ve,je)}function runOnce(Ve,je,ze){return Ve.post("data",[je,ze]).then(function(qe){for(let Xe in qe)qe[Xe]=new Image$1(qe[Xe]);return qe})}function work(){worker.on("data",function(Ve,je,ze){je=new IJS(je);const qe={},Xe=[],Ye=je.grey(),Ke=Ye.sobelFilter();ii("sobel",Ke);const Ze=Ke.level().mask({threshold:ze.threshold});ii("mask",Ze);const Qe=Ke.getRoiManager();Qe.fromMask(Ze);const Je=Qe.getMask(ze.roi);ii("realMask",Je);const St=Ye.getPixelsGrid({sampling:ze.sampling,mask:Je}),ei=je.getBackground(St.xyS,St.zS,ze.regression);ii("background",ei);const ti=je.subtract(ei);qe.result=ti,Xe.push(ti.data.buffer),Ve(qe,Xe);function ii(ri,si){ze.include.includes(ri)&&(qe[ri]=si,Xe.push(si.data.buffer))}})}const background={run,work};function extend(Ve){Ve.extendMethod("background",background)}let Worker$1=class Fu{constructor(){this._url=null,this._deps=[null]}checkUrl(){if(this._url===null)throw new Error("image worker must be initialized with an URL")}get url(){return this._url}set url(je){if(typeof je!="string")throw new TypeError("worker URL must be a string");this._url=je,this._deps[0]=je}static extendMethod(je,ze){let qe,Xe,Ye={};function Ke(...Ze){return qe||(this.checkUrl(),Xe=this.url,qe=new WorkerManager$1(ze.work,{deps:Xe}),Ye.manager=qe),ze.run.call(Ye,...Ze)}Ke.reset=function(){qe&&(qe.terminate(),qe=new WorkerManager$1(ze.work,{deps:Xe}),Ye.manager=qe)},Fu.prototype[je]=Ke}};extend(Worker$1);let _imageService=null;function getImageService(){return _imageService||(_imageService=new DefaultOxyImageService,_imageService)}class DefaultOxyImageService{async decode(je){const ze=await Image$1.load(je),qe=ze.height,Xe=ze.width,Ye=ze.data,Ke=create2DArray(Xe,qe);for(let Ze=0;Ze<qe;Ze++)for(let Qe=0;Qe<Xe;Qe++){let Je=Ze*Xe+Qe;const St=Ye[Je++],ei=Ye[Je++],ti=Ye[Je++],ii=Ye[Je++];Ke[Ze][Qe]=OxyColor.fromArgb(ii,St,ei,ti)}return Ke}encode(je){const ze=new DataView(new ArrayBuffer(je.imageInfo.width*je.imageInfo.height*4));let qe=0;const Xe=je.pixels;for(let Ke=0;Ke<je.imageInfo.height;Ke++)for(let Ze=0;Ze<je.imageInfo.width;Ze++){const Qe=Xe.get(Ze,Ke);ze.setUint8(qe++,Qe.r),ze.setUint8(qe++,Qe.g),ze.setUint8(qe++,Qe.b),ze.setUint8(qe++,Qe.a)}const Ye=new Image$1(je.imageInfo.width,je.imageInfo.height,new Uint8Array(ze.buffer)).toBuffer();return Promise.resolve(Ye)}async getImageInfo(je){const ze=await Image$1.load(je);return{width:ze.width,height:ze.height,bitsPerPixel:ze.bitDepth,dpiX:0,dpiY:0,format:OxyImage.getImageFormat(je)}}async load(je){const ze=await Image$1.load(je),qe=ze.toBuffer(),Xe=new OxyImage(qe);return Xe.format=OxyImage.getImageFormat(qe),Xe.width=ze.width,Xe.height=ze.height,Xe}}function isUndef(Ve){return Ve===void 0}function isNullOrUndef(Ve){return Ve==null}function removeProperties(Ve,...je){if(Ve)for(const ze of je)delete Ve[ze]}function getOrDefault(Ve,je,ze){if(!Ve||!je)return ze;const qe=Ve[je];return isNullOrUndef(qe)?ze:qe}function removeUndef(Ve,je){const ze=Ve;if(Array.isArray(ze))return ze.forEach(Xe=>removeUndef(Xe,je)),Ve;const qe=Object.assign({removeNull:!0,removeEmptyStr:!1,deep:1},je);return Object.keys(ze).forEach(Xe=>{const Ye=ze[Xe];if(Ye===void 0){delete ze[Xe];return}if(Ye===null&&qe.removeNull){delete ze[Xe];return}if(qe.removeEmptyStr&&typeof Ye=="string"&&Ye.length==0){delete ze[Xe];return}if(typeof Ye=="object"&&qe.deep>1){const Ke=Object.assign({},qe,{deep:qe.deep-1});removeUndef(Ye,Ke);return}}),Ve}function hashCode(Ve){let je=0;for(let ze=0;ze<Ve.length;ze++)je=Math.imul(31,je)+Ve[ze];return je}const Number_MIN_VALUE=-17976931348623157e292,Number_MAX_VALUE=Number.MAX_VALUE;function round(Ve,je){if(je<0){const ze=Math.pow(10,je);return Math.round(Ve*ze)/ze}return+(Math.round(+(Ve+"e+"+je))+"e-"+je)}function isInfinity(Ve){return!isFinite(Ve)}function isNegativeInfinity(Ve){return Ve===Number.NEGATIVE_INFINITY}function isPositiveInfinity(Ve){return Ve===Number.POSITIVE_INFINITY}function toUint(Ve){return Ve>=0?Ve:Ve>>>0}function log$1(Ve,je){return isNaN(Ve)?Ve:isNaN(je)?je:je===1?NaN:Ve!==1&&(je===0||Number.POSITIVE_INFINITY===je)?NaN:Math.log(Ve)/Math.log(je)}function pettyNumber(Ve,je){let ze;if(Ve>=1e6||Ve<=-1e6?ze=Ve.toExponential(je):ze=Ve.toString(),ze.includes("e")){const qe=Number(ze.split("e")[0]);return round(qe,je).toString()+"e"+ze.split("e")[1]}return round(Ve,je).toString()}function toPercent(Ve,je=1){return isNullOrUndef(Ve)?"":isNaN(Ve)?"NaN":round(Ve*100,je)+"%"}function assertInteger(Ve,je){if(Math.round(Ve)!==Ve)throw new Error(`${je||"number"} must be an integer.`)}function trimString(Ve,je){return Ve&&Ve.replace(new RegExp(`^${je}+|${je}+$`,"g"),"")}function substring(Ve,je,ze){return ze===void 0?Ve.substring(je):Ve.substring(je,je+ze)}const $1Second=1e3,$1Minute=6e4,$1Hour=36e5,$1Day=864e5;class TimeSpan{constructor(je){D$1(this,"_totalMs",0),D$1(this,"_ms",0),D$1(this,"_seconds",0),D$1(this,"_minutes",0),D$1(this,"_hours",0),D$1(this,"_days",0),D$1(this,"toString",()=>`${this._days}day ${this._hours}hour ${this._minutes}minute ${this._seconds}second ${this._ms}ms`),this.ms=je,this._totalMs=je;const ze=je<0?-1:1;let qe=Math.abs(je);qe>=$1Day&&(this._days=ze*Math.floor(qe/$1Day),qe=qe%$1Day),qe>=$1Hour&&(this._hours=ze*Math.floor(qe/$1Hour),qe=qe%$1Hour),qe>=$1Minute&&(this._minutes=ze*Math.floor(qe/$1Minute),qe=qe%$1Minute),qe>=$1Second&&(this._seconds=ze*Math.floor(qe/$1Second),qe=qe%$1Second),this._ms=ze*qe}get milliseconds(){return this._ms}get seconds(){return this._seconds}get minutes(){return this._minutes}get hours(){return this._hours}get days(){return this._days}get totalMs(){return this._totalMs}get totalSeconds(){return this._totalMs/$1Second}get totalMinutes(){return this._totalMs/$1Minute}get totalHours(){return this._totalMs/$1Hour}get totalDays(){return this._totalMs/$1Day}static fromMilliseconds(je){return new TimeSpan(je)}static fromSeconds(je){return new TimeSpan(je*$1Second)}static fromMinutes(je){return new TimeSpan(je*$1Minute)}static fromHours(je){return new TimeSpan(je*$1Hour)}static fromDays(je){return new TimeSpan(je*$1Day)}static from(je=0,ze=0,qe=0,Xe=0,Ye=0){return new TimeSpan(je*$1Day+ze*$1Hour+qe*$1Minute+Xe*$1Second+Ye)}}class TwoDimensionalArray{constructor(je,ze,qe){D$1(this,"_data"),this.columnCount=je,this.rowCount=ze,this._data=create2DArray(ze,je,qe)}static fromArray(je){const ze=je.length,qe=je[0].length,Xe=new TwoDimensionalArray(qe,ze);for(let Ye=0;Ye<ze;Ye++)for(let Ke=0;Ke<qe;Ke++)Xe.set(Ke,Ye,je[Ye][Ke]);return Xe}toArray(){const je=create2DArray(this.rowCount,this.columnCount);for(let ze=0;ze<this.rowCount;ze++)for(let qe=0;qe<this.columnCount;qe++)je[ze][qe]=this.get(qe,ze);return je}get height(){return this.rowCount}get width(){return this.columnCount}get(je,ze){return this._data[ze][je]}set(je,ze,qe){this._data[ze][je]=qe}}const zt$1=class Ao{constructor(je,ze,qe,Xe){D$1(this,"_r"),D$1(this,"_g"),D$1(this,"_b"),D$1(this,"_a"),this._a=toByte(je),this._r=toByte(ze),this._g=toByte(qe),this._b=toByte(Xe)}get a(){return this._a}get b(){return this._b}get g(){return this._g}get r(){return this._r}static parse(je){if(!je||je.toLowerCase()==="none")return this._undefined;if(je.toLowerCase()==="auto")return this._automatic;if(je=je.trim(),je.startsWith("#")){je=trimString(je,"#"),je.length===3&&(je=`${je[0]}${je[0]}${je[1]}${je[1]}${je[2]}${je[2]}`);let Qe=parseInt(je,16);return je.length<8&&(Qe+=4278190080),Ao.fromUInt32(Qe)}const ze=je.split(",");if(ze.length<3||ze.length>4)throw new Error("Invalid format.");let qe=0,Xe=255;ze.length>3&&(Xe=parseInt(ze[qe],10),qe++);const Ye=parseInt(ze[qe],10),Ke=parseInt(ze[qe+1],10),Ze=parseInt(ze[qe+2],10);return Ao.fromArgb(Xe,Ye,Ke,Ze)}static colorDifference(je,ze){const qe=(je.r-ze.r)/255,Xe=(je.g-ze.g)/255,Ye=(je.b-ze.b)/255,Ke=(je.a-ze.a)/255,Ze=qe*qe+Xe*Xe+Ye*Ye+Ke*Ke;return Math.sqrt(Ze)}static fromUInt32(je){const ze=je>>24&255,qe=je>>16&255,Xe=je>>8&255,Ye=je&255;return Ao.fromArgb(ze,qe,Xe,Ye)}static fromHsv(je,ze,qe){let Xe,Ye,Ke=Xe=Ye=0;if(ze===0)Ke=Xe=Ye=qe;else{je===1&&(je=0),je*=6;const Ze=Math.floor(je),Qe=je-Ze,Je=qe*(1-ze),St=qe*(1-ze*Qe),ei=qe*(1-ze*(1-Qe));switch(Ze){case 0:Ke=qe,Xe=ei,Ye=Je;break;case 1:Ke=St,Xe=qe,Ye=Je;break;case 2:Ke=Je,Xe=qe,Ye=ei;break;case 3:Ke=Je,Xe=St,Ye=qe;break;case 4:Ke=ei,Xe=Je,Ye=qe;break;case 5:Ke=qe,Xe=Je,Ye=St;break}}return Ao.fromRgb(Ke*255,Xe*255,Ye*255)}static fromAColor(je,ze){return Ao.fromArgb(je,ze.r,ze.g,ze.b)}static fromArgb(je,ze,qe,Xe){return new Ao(je,ze,qe,Xe)}static fromRgb(je,ze,qe){return new Ao(255,je,ze,qe)}static interpolate(je,ze,qe){const Xe=je.a*(1-qe)+ze.a*qe,Ye=je.r*(1-qe)+ze.r*qe,Ke=je.g*(1-qe)+ze.g*qe,Ze=je.b*(1-qe)+ze.b*qe;return Ao.fromArgb(toByte(Xe),toByte(Ye),toByte(Ke),toByte(Ze))}equals(je){return je.a===this.a&&je.r===this.r&&je.g===this.g&&je.b===this.b}toArgb(){return this.toArgbInner("start")}toRgba(){return this.toArgbInner("end")}toRgb(){return this.toArgbInner("none")}toArgbInner(je){const ze=Xe=>Xe.toString(16).padStart(2,"0"),qe=`${ze(this.r)}${ze(this.g)}${ze(this.b)}`;return je==="start"?`#${ze(this.a)}${qe}`:je==="end"?`#${qe}${ze(this.a)}`:`#${qe}`}toString(){return this.toArgb()}isInvisible(){return this.a===0}isVisible(){return this.a>0}isUndefined(){return this.equals(Ao._undefined)}isAutomatic(){return this.equals(Ao._automatic)}getActualColor(je){return this.isAutomatic()?je:this}};D$1(zt$1,"_undefined",zt$1.fromUInt32(0)),D$1(zt$1,"_automatic",zt$1.fromUInt32(1));let OxyColor=zt$1;function toByte(Ve){return Math.round(Ve)}const OxyColors={Undefined:OxyColor.fromUInt32(0),Automatic:OxyColor.fromUInt32(1),AliceBlue:OxyColor.fromUInt32(4293982463),AntiqueWhite:OxyColor.fromUInt32(4294634455),Aqua:OxyColor.fromUInt32(4278255615),Aquamarine:OxyColor.fromUInt32(4286578644),Azure:OxyColor.fromUInt32(4293984255),Beige:OxyColor.fromUInt32(4294309340),Bisque:OxyColor.fromUInt32(4294960324),Black:OxyColor.fromUInt32(4278190080),BlanchedAlmond:OxyColor.fromUInt32(4294962125),Blue:OxyColor.fromUInt32(4278190335),BlueViolet:OxyColor.fromUInt32(4287245282),Brown:OxyColor.fromUInt32(4289014314),BurlyWood:OxyColor.fromUInt32(4292786311),CadetBlue:OxyColor.fromUInt32(4284456608),Chartreuse:OxyColor.fromUInt32(4286578432),Chocolate:OxyColor.fromUInt32(4291979550),Coral:OxyColor.fromUInt32(4294934352),CornflowerBlue:OxyColor.fromUInt32(4284782061),Cornsilk:OxyColor.fromUInt32(4294965468),Crimson:OxyColor.fromUInt32(4292613180),Cyan:OxyColor.fromUInt32(4278255615),DarkBlue:OxyColor.fromUInt32(4278190219),DarkCyan:OxyColor.fromUInt32(4278225803),DarkGoldenrod:OxyColor.fromUInt32(4290283019),DarkGray:OxyColor.fromUInt32(4289309097),DarkGreen:OxyColor.fromUInt32(4278215680),DarkKhaki:OxyColor.fromUInt32(4290623339),DarkMagenta:OxyColor.fromUInt32(4287299723),DarkOliveGreen:OxyColor.fromUInt32(4283788079),DarkOrange:OxyColor.fromUInt32(4294937600),DarkOrchid:OxyColor.fromUInt32(4288230092),DarkRed:OxyColor.fromUInt32(4287299584),DarkSalmon:OxyColor.fromUInt32(4293498490),DarkSeaGreen:OxyColor.fromUInt32(4287609999),DarkSlateBlue:OxyColor.fromUInt32(4282924427),DarkSlateGray:OxyColor.fromUInt32(4281290575),DarkTurquoise:OxyColor.fromUInt32(4278243025),DarkViolet:OxyColor.fromUInt32(4287889619),DeepPink:OxyColor.fromUInt32(4294907027),DeepSkyBlue:OxyColor.fromUInt32(4278239231),DimGray:OxyColor.fromUInt32(4285098345),DodgerBlue:OxyColor.fromUInt32(4280193279),Firebrick:OxyColor.fromUInt32(4289864226),FloralWhite:OxyColor.fromUInt32(4294966e3),ForestGreen:OxyColor.fromUInt32(4280453922),Fuchsia:OxyColor.fromUInt32(4294902015),Gainsboro:OxyColor.fromUInt32(4292664540),GhostWhite:OxyColor.fromUInt32(4294506751),Gold:OxyColor.fromUInt32(4294956800),Goldenrod:OxyColor.fromUInt32(4292519200),Gray:OxyColor.fromUInt32(4286611584),Green:OxyColor.fromUInt32(4278222848),GreenYellow:OxyColor.fromUInt32(4289593135),Honeydew:OxyColor.fromUInt32(4293984240),HotPink:OxyColor.fromUInt32(4294928820),IndianRed:OxyColor.fromUInt32(4291648604),Indigo:OxyColor.fromUInt32(4283105410),Ivory:OxyColor.fromUInt32(4294967280),Khaki:OxyColor.fromUInt32(4293977740),Lavender:OxyColor.fromUInt32(4293322490),LavenderBlush:OxyColor.fromUInt32(4294963445),LawnGreen:OxyColor.fromUInt32(4286381056),LemonChiffon:OxyColor.fromUInt32(4294965965),LightBlue:OxyColor.fromUInt32(4289583334),LightCoral:OxyColor.fromUInt32(4293951616),LightCyan:OxyColor.fromUInt32(4292935679),LightGoldenrodYellow:OxyColor.fromUInt32(4294638290),LightGray:OxyColor.fromUInt32(4292072403),LightGreen:OxyColor.fromUInt32(4287688336),LightPink:OxyColor.fromUInt32(4294948545),LightSalmon:OxyColor.fromUInt32(4294942842),LightSeaGreen:OxyColor.fromUInt32(4280332970),LightSkyBlue:OxyColor.fromUInt32(4287090426),LightSlateGray:OxyColor.fromUInt32(4286023833),LightSteelBlue:OxyColor.fromUInt32(4289774814),LightYellow:OxyColor.fromUInt32(4294967264),Lime:OxyColor.fromUInt32(4278255360),LimeGreen:OxyColor.fromUInt32(4281519410),Linen:OxyColor.fromUInt32(4294635750),Magenta:OxyColor.fromUInt32(4294902015),Maroon:OxyColor.fromUInt32(4286578688),MediumAquamarine:OxyColor.fromUInt32(4284927402),MediumBlue:OxyColor.fromUInt32(4278190285),MediumOrchid:OxyColor.fromUInt32(4290401747),MediumPurple:OxyColor.fromUInt32(4287852763),MediumSeaGreen:OxyColor.fromUInt32(4282168177),MediumSlateBlue:OxyColor.fromUInt32(4286277870),MediumSpringGreen:OxyColor.fromUInt32(4278254234),MediumTurquoise:OxyColor.fromUInt32(4282962380),MediumVioletRed:OxyColor.fromUInt32(4291237253),MidnightBlue:OxyColor.fromUInt32(4279834992),MintCream:OxyColor.fromUInt32(4294311930),MistyRose:OxyColor.fromUInt32(4294960353),Moccasin:OxyColor.fromUInt32(4294960309),NavajoWhite:OxyColor.fromUInt32(4294958765),Navy:OxyColor.fromUInt32(4278190208),OldLace:OxyColor.fromUInt32(4294833638),Olive:OxyColor.fromUInt32(4286611456),OliveDrab:OxyColor.fromUInt32(4285238819),Orange:OxyColor.fromUInt32(4294944e3),OrangeRed:OxyColor.fromUInt32(4294919424),Orchid:OxyColor.fromUInt32(4292505814),PaleGoldenrod:OxyColor.fromUInt32(4293847210),PaleGreen:OxyColor.fromUInt32(4288215960),PaleTurquoise:OxyColor.fromUInt32(4289720046),PaleVioletRed:OxyColor.fromUInt32(4292571283),PapayaWhip:OxyColor.fromUInt32(4294963157),PeachPuff:OxyColor.fromUInt32(4294957753),Peru:OxyColor.fromUInt32(4291659071),Pink:OxyColor.fromUInt32(4294951115),Plum:OxyColor.fromUInt32(4292714717),PowderBlue:OxyColor.fromUInt32(4289781990),Purple:OxyColor.fromUInt32(4286578816),Red:OxyColor.fromUInt32(4294901760),RosyBrown:OxyColor.fromUInt32(4290547599),RoyalBlue:OxyColor.fromUInt32(4282477025),SaddleBrown:OxyColor.fromUInt32(4287317267),Salmon:OxyColor.fromUInt32(4294606962),SandyBrown:OxyColor.fromUInt32(4294222944),SeaGreen:OxyColor.fromUInt32(4281240407),SeaShell:OxyColor.fromUInt32(4294964718),Sienna:OxyColor.fromUInt32(4288696877),Silver:OxyColor.fromUInt32(4290822336),SkyBlue:OxyColor.fromUInt32(4287090411),SlateBlue:OxyColor.fromUInt32(4285160141),SlateGray:OxyColor.fromUInt32(4285563024),Snow:OxyColor.fromUInt32(4294966010),SpringGreen:OxyColor.fromUInt32(4278255487),SteelBlue:OxyColor.fromUInt32(4282811060),Tan:OxyColor.fromUInt32(4291998860),Teal:OxyColor.fromUInt32(4278222976),Thistle:OxyColor.fromUInt32(4292394968),Tomato:OxyColor.fromUInt32(4294927175),Transparent:OxyColor.fromUInt32(16777215),Turquoise:OxyColor.fromUInt32(4282441936),Violet:OxyColor.fromUInt32(4293821166),Wheat:OxyColor.fromUInt32(4294303411),White:OxyColor.fromUInt32(4294967295),WhiteSmoke:OxyColor.fromUInt32(4294309365),Yellow:OxyColor.fromUInt32(4294967040),YellowGreen:OxyColor.fromUInt32(4288335154)};Object.freeze(OxyColors);const colorNamesCache=new Map,OxyColorExtensions={changeIntensity:(Ve,je)=>{const ze=OxyColorExtensions.toHsv(Ve);return ze[2]*=je,ze[2]>1&&(ze[2]=1),OxyColor.fromHsv(ze[0],ze[1],ze[2])},changeSaturation:(Ve,je)=>{const ze=OxyColorExtensions.toHsv(Ve);return ze[1]*=je,ze[1]>1&&(ze[1]=1),OxyColor.fromHsv(ze[0],ze[1],ze[2])},changeOpacity:(Ve,je)=>OxyColor.fromAColor(Ve.a*je,Ve),complementary:Ve=>{const je=OxyColorExtensions.toHsv(Ve);let ze=je[0]-.5;return ze<0&&(ze+=1),OxyColor.fromHsv(ze,je[1],je[2])},toHsv:Ve=>{const je=Ve.r,ze=Ve.g,qe=Ve.b,Xe=Math.min(Math.min(je,ze),qe),Ye=Math.max(Math.max(je,ze),qe),Ke=Ye-Xe,Ze=Ye===0?0:Ke/Ye;let Qe=0;Ze===0?Qe=0:(je===Ye?Qe=(ze-qe)/Ke:ze===Ye?Qe=2+(qe-je)/Ke:qe===Ye&&(Qe=4+(je-ze)/Ke),Qe*=60,Qe<0&&(Qe+=360));const Je=new Array(3);return Je[0]=Qe/360,Je[1]=Ze,Je[2]=Ye/255,Je},toUint:Ve=>{let je=toUint(Ve.a<<24);return je+=toUint(Ve.r<<16),je+=toUint(Ve.g<<8),je+=toUint(Ve.b),toUint(je)},toByteString:Ve=>`${Ve.a},${Ve.r},${Ve.g},${Ve.b}`,getColorName:Ve=>{const je=OxyColorExtensions.toUint(Ve);if(colorNamesCache.has(je))return colorNamesCache.get(je);const ze=OxyColors;for(const qe of Object.keys(ze)){const Xe=ze[qe];if(OxyColorExtensions.toUint(Xe)===je)return colorNamesCache.set(je,qe),qe}},hueDifference:(Ve,je)=>{const ze=OxyColorExtensions.toHsv(Ve),qe=OxyColorExtensions.toHsv(je);let Xe=ze[0]-qe[0];Xe>.5&&(Xe-=1),Xe<-.5&&(Xe+=1);const Ye=Math.pow(Xe,2);return Math.sqrt(Ye)}};class OxyPalette{constructor(je){D$1(this,"colors",[]),je&&(this.colors=[...je],Object.freeze(this.colors))}static interpolate(je,...ze){if(!ze||ze.length===0||je<1)return new OxyPalette([]);const qe=[],Xe=je===1?0:1/(je-1);for(let Ye=0;Ye<je;Ye++){const Ke=Ye*Xe*(ze.length-1),Ze=Math.floor(Ke),Qe=Ze+1<ze.length?Ze+1:Ze;qe[Ye]=OxyColor.interpolate(ze[Ze],ze[Qe],Ke-Ze)}return new OxyPalette(qe)}reverse(){return new OxyPalette(getReversedCopy(this.colors))}}class OxyPalettes{static blackWhiteRed(je){return OxyPalette.interpolate(je,OxyColors.Black,OxyColors.White,OxyColors.Red)}static blueWhiteRed(je){return OxyPalette.interpolate(je,OxyColors.Blue,OxyColors.White,OxyColors.Red)}static cool(je){return OxyPalette.interpolate(je,OxyColors.Cyan,OxyColors.Magenta)}static gray(je){return OxyPalette.interpolate(je,OxyColors.Black,OxyColors.White)}static hot(je){return OxyPalette.interpolate(je,OxyColors.Black,OxyColor.fromRgb(127,0,0),OxyColor.fromRgb(255,127,0),OxyColor.fromRgb(255,255,127),OxyColors.White)}static hue(je){return OxyPalette.interpolate(je,OxyColors.Red,OxyColors.Yellow,OxyColors.Green,OxyColors.Cyan,OxyColors.Blue,OxyColors.Magenta,OxyColors.Red)}static hueDistinct(je){return OxyPalette.interpolate(je,OxyColors.Magenta,OxyColors.Blue,OxyColors.Cyan,OxyColors.Green,OxyColors.Yellow,OxyColors.Red)}static jet(je){return OxyPalette.interpolate(je,OxyColors.DarkBlue,OxyColors.Cyan,OxyColors.Yellow,OxyColors.Orange,OxyColors.DarkRed)}static rainbow(je){return OxyPalette.interpolate(je,OxyColors.Violet,OxyColors.Indigo,OxyColors.Blue,OxyColors.Green,OxyColors.Yellow,OxyColors.Orange,OxyColors.Red)}static cividis(je=256){return je===cividisColors.length?new OxyPalette(cividisColors):OxyPalette.interpolate(je,...cividisColors)}static inferno(je=256){return je===infernoColors.length?new OxyPalette(infernoColors):OxyPalette.interpolate(je,...infernoColors)}static magma(je=256){return je===magmaColors.length?new OxyPalette(magmaColors):OxyPalette.interpolate(je,...magmaColors)}static plasma(je=256){return je===plasmaColors.length?new OxyPalette(plasmaColors):OxyPalette.interpolate(je,...plasmaColors)}static viridis(je=256){return je===viridisColors.length?new OxyPalette(viridisColors):OxyPalette.interpolate(je,...viridisColors)}}D$1(OxyPalettes,"blueWhiteRed31"),D$1(OxyPalettes,"hot64"),D$1(OxyPalettes,"hue64");OxyPalettes.blueWhiteRed31=OxyPalettes.blueWhiteRed(31);OxyPalettes.hot64=OxyPalettes.hot(64);OxyPalettes.hue64=OxyPalettes.hue(64);const cividisColors=[OxyColor.fromRgb(0,32,77),OxyColor.fromRgb(0,33,78),OxyColor.fromRgb(0,34,80),OxyColor.fromRgb(0,34,82),OxyColor.fromRgb(0,35,83),OxyColor.fromRgb(0,36,85),OxyColor.fromRgb(0,37,87),OxyColor.fromRgb(0,37,88),OxyColor.fromRgb(0,38,90),OxyColor.fromRgb(0,39,92),OxyColor.fromRgb(0,39,94),OxyColor.fromRgb(0,40,96),OxyColor.fromRgb(0,41,97),OxyColor.fromRgb(0,42,99),OxyColor.fromRgb(0,42,101),OxyColor.fromRgb(0,43,103),OxyColor.fromRgb(0,44,105),OxyColor.fromRgb(0,44,106),OxyColor.fromRgb(0,45,108),OxyColor.fromRgb(0,46,110),OxyColor.fromRgb(0,46,111),OxyColor.fromRgb(0,47,111),OxyColor.fromRgb(0,47,111),OxyColor.fromRgb(0,48,111),OxyColor.fromRgb(0,48,111),OxyColor.fromRgb(0,49,111),OxyColor.fromRgb(0,50,111),OxyColor.fromRgb(0,51,111),OxyColor.fromRgb(0,51,111),OxyColor.fromRgb(0,52,111),OxyColor.fromRgb(0,53,110),OxyColor.fromRgb(1,54,110),OxyColor.fromRgb(6,54,110),OxyColor.fromRgb(11,55,110),OxyColor.fromRgb(15,56,110),OxyColor.fromRgb(18,56,109),OxyColor.fromRgb(21,57,109),OxyColor.fromRgb(24,58,109),OxyColor.fromRgb(26,59,109),OxyColor.fromRgb(29,59,109),OxyColor.fromRgb(31,60,109),OxyColor.fromRgb(33,61,109),OxyColor.fromRgb(35,62,108),OxyColor.fromRgb(36,62,108),OxyColor.fromRgb(38,63,108),OxyColor.fromRgb(40,64,108),OxyColor.fromRgb(42,64,108),OxyColor.fromRgb(43,65,108),OxyColor.fromRgb(45,66,108),OxyColor.fromRgb(46,67,108),OxyColor.fromRgb(48,67,108),OxyColor.fromRgb(49,68,107),OxyColor.fromRgb(50,69,107),OxyColor.fromRgb(52,69,107),OxyColor.fromRgb(53,70,107),OxyColor.fromRgb(54,71,107),OxyColor.fromRgb(56,72,107),OxyColor.fromRgb(57,72,107),OxyColor.fromRgb(58,73,107),OxyColor.fromRgb(59,74,107),OxyColor.fromRgb(61,74,107),OxyColor.fromRgb(62,75,107),OxyColor.fromRgb(63,76,107),OxyColor.fromRgb(64,77,107),OxyColor.fromRgb(65,77,107),OxyColor.fromRgb(66,78,107),OxyColor.fromRgb(67,79,107),OxyColor.fromRgb(68,79,107),OxyColor.fromRgb(70,80,107),OxyColor.fromRgb(71,81,107),OxyColor.fromRgb(72,82,107),OxyColor.fromRgb(73,82,107),OxyColor.fromRgb(74,83,107),OxyColor.fromRgb(75,84,108),OxyColor.fromRgb(76,84,108),OxyColor.fromRgb(77,85,108),OxyColor.fromRgb(78,86,108),OxyColor.fromRgb(79,87,108),OxyColor.fromRgb(80,87,108),OxyColor.fromRgb(81,88,108),OxyColor.fromRgb(82,89,108),OxyColor.fromRgb(83,89,108),OxyColor.fromRgb(84,90,108),OxyColor.fromRgb(85,91,109),OxyColor.fromRgb(86,92,109),OxyColor.fromRgb(87,92,109),OxyColor.fromRgb(88,93,109),OxyColor.fromRgb(89,94,109),OxyColor.fromRgb(89,95,109),OxyColor.fromRgb(90,95,109),OxyColor.fromRgb(91,96,110),OxyColor.fromRgb(92,97,110),OxyColor.fromRgb(93,97,110),OxyColor.fromRgb(94,98,110),OxyColor.fromRgb(95,99,110),OxyColor.fromRgb(96,100,111),OxyColor.fromRgb(97,100,111),OxyColor.fromRgb(98,101,111),OxyColor.fromRgb(99,102,111),OxyColor.fromRgb(100,102,111),OxyColor.fromRgb(100,103,112),OxyColor.fromRgb(101,104,112),OxyColor.fromRgb(102,105,112),OxyColor.fromRgb(103,105,112),OxyColor.fromRgb(104,106,113),OxyColor.fromRgb(105,107,113),OxyColor.fromRgb(106,108,113),OxyColor.fromRgb(107,108,113),OxyColor.fromRgb(108,109,114),OxyColor.fromRgb(108,110,114),OxyColor.fromRgb(109,110,114),OxyColor.fromRgb(110,111,115),OxyColor.fromRgb(111,112,115),OxyColor.fromRgb(112,113,115),OxyColor.fromRgb(113,113,116),OxyColor.fromRgb(114,114,116),OxyColor.fromRgb(114,115,116),OxyColor.fromRgb(115,116,117),OxyColor.fromRgb(116,116,117),OxyColor.fromRgb(117,117,117),OxyColor.fromRgb(118,118,118),OxyColor.fromRgb(119,119,118),OxyColor.fromRgb(120,119,119),OxyColor.fromRgb(120,120,119),OxyColor.fromRgb(121,121,119),OxyColor.fromRgb(122,122,120),OxyColor.fromRgb(123,122,120),OxyColor.fromRgb(124,123,120),OxyColor.fromRgb(125,124,120),OxyColor.fromRgb(126,125,120),OxyColor.fromRgb(127,125,120),OxyColor.fromRgb(128,126,121),OxyColor.fromRgb(129,127,121),OxyColor.fromRgb(130,128,121),OxyColor.fromRgb(131,128,121),OxyColor.fromRgb(132,129,121),OxyColor.fromRgb(132,130,121),OxyColor.fromRgb(133,131,121),OxyColor.fromRgb(134,131,121),OxyColor.fromRgb(135,132,121),OxyColor.fromRgb(136,133,121),OxyColor.fromRgb(137,134,121),OxyColor.fromRgb(138,135,121),OxyColor.fromRgb(139,135,121),OxyColor.fromRgb(140,136,121),OxyColor.fromRgb(141,137,121),OxyColor.fromRgb(142,138,121),OxyColor.fromRgb(143,138,121),OxyColor.fromRgb(144,139,121),OxyColor.fromRgb(145,140,120),OxyColor.fromRgb(146,141,120),OxyColor.fromRgb(147,142,120),OxyColor.fromRgb(148,142,120),OxyColor.fromRgb(149,143,120),OxyColor.fromRgb(150,144,120),OxyColor.fromRgb(151,145,120),OxyColor.fromRgb(152,146,120),OxyColor.fromRgb(153,146,120),OxyColor.fromRgb(154,147,119),OxyColor.fromRgb(155,148,119),OxyColor.fromRgb(156,149,119),OxyColor.fromRgb(157,150,119),OxyColor.fromRgb(158,150,119),OxyColor.fromRgb(159,151,119),OxyColor.fromRgb(160,152,119),OxyColor.fromRgb(161,153,118),OxyColor.fromRgb(162,154,118),OxyColor.fromRgb(163,154,118),OxyColor.fromRgb(164,155,118),OxyColor.fromRgb(165,156,118),OxyColor.fromRgb(166,157,117),OxyColor.fromRgb(168,158,117),OxyColor.fromRgb(169,159,117),OxyColor.fromRgb(170,159,117),OxyColor.fromRgb(171,160,116),OxyColor.fromRgb(172,161,116),OxyColor.fromRgb(173,162,116),OxyColor.fromRgb(174,163,116),OxyColor.fromRgb(175,164,115),OxyColor.fromRgb(176,164,115),OxyColor.fromRgb(177,165,115),OxyColor.fromRgb(178,166,114),OxyColor.fromRgb(179,167,114),OxyColor.fromRgb(180,168,114),OxyColor.fromRgb(181,169,113),OxyColor.fromRgb(182,169,113),OxyColor.fromRgb(183,170,113),OxyColor.fromRgb(184,171,112),OxyColor.fromRgb(185,172,112),OxyColor.fromRgb(186,173,112),OxyColor.fromRgb(187,174,111),OxyColor.fromRgb(188,175,111),OxyColor.fromRgb(190,175,111),OxyColor.fromRgb(191,176,110),OxyColor.fromRgb(192,177,110),OxyColor.fromRgb(193,178,109),OxyColor.fromRgb(194,179,109),OxyColor.fromRgb(195,180,109),OxyColor.fromRgb(196,181,108),OxyColor.fromRgb(197,181,108),OxyColor.fromRgb(198,182,107),OxyColor.fromRgb(199,183,107),OxyColor.fromRgb(200,184,106),OxyColor.fromRgb(201,185,106),OxyColor.fromRgb(203,186,105),OxyColor.fromRgb(204,187,105),OxyColor.fromRgb(205,188,104),OxyColor.fromRgb(206,188,104),OxyColor.fromRgb(207,189,103),OxyColor.fromRgb(208,190,103),OxyColor.fromRgb(209,191,102),OxyColor.fromRgb(210,192,102),OxyColor.fromRgb(211,193,101),OxyColor.fromRgb(212,194,100),OxyColor.fromRgb(214,195,100),OxyColor.fromRgb(215,196,99),OxyColor.fromRgb(216,197,99),OxyColor.fromRgb(217,197,98),OxyColor.fromRgb(218,198,97),OxyColor.fromRgb(219,199,97),OxyColor.fromRgb(220,200,96),OxyColor.fromRgb(221,201,95),OxyColor.fromRgb(222,202,95),OxyColor.fromRgb(224,203,94),OxyColor.fromRgb(225,204,93),OxyColor.fromRgb(226,205,92),OxyColor.fromRgb(227,206,92),OxyColor.fromRgb(228,207,91),OxyColor.fromRgb(229,208,90),OxyColor.fromRgb(230,209,89),OxyColor.fromRgb(232,210,89),OxyColor.fromRgb(233,211,88),OxyColor.fromRgb(234,211,87),OxyColor.fromRgb(235,212,86),OxyColor.fromRgb(236,213,85),OxyColor.fromRgb(237,214,84),OxyColor.fromRgb(239,215,83),OxyColor.fromRgb(240,216,82),OxyColor.fromRgb(241,217,81),OxyColor.fromRgb(242,218,80),OxyColor.fromRgb(243,219,79),OxyColor.fromRgb(244,220,78),OxyColor.fromRgb(246,221,77),OxyColor.fromRgb(247,222,76),OxyColor.fromRgb(248,223,75),OxyColor.fromRgb(249,224,74),OxyColor.fromRgb(250,225,73),OxyColor.fromRgb(251,226,72),OxyColor.fromRgb(253,227,70),OxyColor.fromRgb(254,228,69),OxyColor.fromRgb(255,229,68),OxyColor.fromRgb(255,230,66),OxyColor.fromRgb(255,231,66),OxyColor.fromRgb(255,232,67),OxyColor.fromRgb(255,233,68),OxyColor.fromRgb(255,234,70)],infernoColors=[OxyColor.fromRgb(0,0,4),OxyColor.fromRgb(1,0,5),OxyColor.fromRgb(1,1,6),OxyColor.fromRgb(1,1,8),OxyColor.fromRgb(2,1,10),OxyColor.fromRgb(2,2,12),OxyColor.fromRgb(2,2,14),OxyColor.fromRgb(3,2,16),OxyColor.fromRgb(4,3,18),OxyColor.fromRgb(4,3,20),OxyColor.fromRgb(5,4,23),OxyColor.fromRgb(6,4,25),OxyColor.fromRgb(7,5,27),OxyColor.fromRgb(8,5,29),OxyColor.fromRgb(9,6,31),OxyColor.fromRgb(10,7,34),OxyColor.fromRgb(11,7,36),OxyColor.fromRgb(12,8,38),OxyColor.fromRgb(13,8,41),OxyColor.fromRgb(14,9,43),OxyColor.fromRgb(16,9,45),OxyColor.fromRgb(17,10,48),OxyColor.fromRgb(18,10,50),OxyColor.fromRgb(20,11,52),OxyColor.fromRgb(21,11,55),OxyColor.fromRgb(22,11,57),OxyColor.fromRgb(24,12,60),OxyColor.fromRgb(25,12,62),OxyColor.fromRgb(27,12,65),OxyColor.fromRgb(28,12,67),OxyColor.fromRgb(30,12,69),OxyColor.fromRgb(31,12,72),OxyColor.fromRgb(33,12,74),OxyColor.fromRgb(35,12,76),OxyColor.fromRgb(36,12,79),OxyColor.fromRgb(38,12,81),OxyColor.fromRgb(40,11,83),OxyColor.fromRgb(41,11,85),OxyColor.fromRgb(43,11,87),OxyColor.fromRgb(45,11,89),OxyColor.fromRgb(47,10,91),OxyColor.fromRgb(49,10,92),OxyColor.fromRgb(50,10,94),OxyColor.fromRgb(52,10,95),OxyColor.fromRgb(54,9,97),OxyColor.fromRgb(56,9,98),OxyColor.fromRgb(57,9,99),OxyColor.fromRgb(59,9,100),OxyColor.fromRgb(61,9,101),OxyColor.fromRgb(62,9,102),OxyColor.fromRgb(64,10,103),OxyColor.fromRgb(66,10,104),OxyColor.fromRgb(68,10,104),OxyColor.fromRgb(69,10,105),OxyColor.fromRgb(71,11,106),OxyColor.fromRgb(73,11,106),OxyColor.fromRgb(74,12,107),OxyColor.fromRgb(76,12,107),OxyColor.fromRgb(77,13,108),OxyColor.fromRgb(79,13,108),OxyColor.fromRgb(81,14,108),OxyColor.fromRgb(82,14,109),OxyColor.fromRgb(84,15,109),OxyColor.fromRgb(85,15,109),OxyColor.fromRgb(87,16,110),OxyColor.fromRgb(89,16,110),OxyColor.fromRgb(90,17,110),OxyColor.fromRgb(92,18,110),OxyColor.fromRgb(93,18,110),OxyColor.fromRgb(95,19,110),OxyColor.fromRgb(97,19,110),OxyColor.fromRgb(98,20,110),OxyColor.fromRgb(100,21,110),OxyColor.fromRgb(101,21,110),OxyColor.fromRgb(103,22,110),OxyColor.fromRgb(105,22,110),OxyColor.fromRgb(106,23,110),OxyColor.fromRgb(108,24,110),OxyColor.fromRgb(109,24,110),OxyColor.fromRgb(111,25,110),OxyColor.fromRgb(113,25,110),OxyColor.fromRgb(114,26,110),OxyColor.fromRgb(116,26,110),OxyColor.fromRgb(117,27,110),OxyColor.fromRgb(119,28,109),OxyColor.fromRgb(120,28,109),OxyColor.fromRgb(122,29,109),OxyColor.fromRgb(124,29,109),OxyColor.fromRgb(125,30,109),OxyColor.fromRgb(127,30,108),OxyColor.fromRgb(128,31,108),OxyColor.fromRgb(130,32,108),OxyColor.fromRgb(132,32,107),OxyColor.fromRgb(133,33,107),OxyColor.fromRgb(135,33,107),OxyColor.fromRgb(136,34,106),OxyColor.fromRgb(138,34,106),OxyColor.fromRgb(140,35,105),OxyColor.fromRgb(141,35,105),OxyColor.fromRgb(143,36,105),OxyColor.fromRgb(144,37,104),OxyColor.fromRgb(146,37,104),OxyColor.fromRgb(147,38,103),OxyColor.fromRgb(149,38,103),OxyColor.fromRgb(151,39,102),OxyColor.fromRgb(152,39,102),OxyColor.fromRgb(154,40,101),OxyColor.fromRgb(155,41,100),OxyColor.fromRgb(157,41,100),OxyColor.fromRgb(159,42,99),OxyColor.fromRgb(160,42,99),OxyColor.fromRgb(162,43,98),OxyColor.fromRgb(163,44,97),OxyColor.fromRgb(165,44,96),OxyColor.fromRgb(166,45,96),OxyColor.fromRgb(168,46,95),OxyColor.fromRgb(169,46,94),OxyColor.fromRgb(171,47,94),OxyColor.fromRgb(173,48,93),OxyColor.fromRgb(174,48,92),OxyColor.fromRgb(176,49,91),OxyColor.fromRgb(177,50,90),OxyColor.fromRgb(179,50,90),OxyColor.fromRgb(180,51,89),OxyColor.fromRgb(182,52,88),OxyColor.fromRgb(183,53,87),OxyColor.fromRgb(185,53,86),OxyColor.fromRgb(186,54,85),OxyColor.fromRgb(188,55,84),OxyColor.fromRgb(189,56,83),OxyColor.fromRgb(191,57,82),OxyColor.fromRgb(192,58,81),OxyColor.fromRgb(193,58,80),OxyColor.fromRgb(195,59,79),OxyColor.fromRgb(196,60,78),OxyColor.fromRgb(198,61,77),OxyColor.fromRgb(199,62,76),OxyColor.fromRgb(200,63,75),OxyColor.fromRgb(202,64,74),OxyColor.fromRgb(203,65,73),OxyColor.fromRgb(204,66,72),OxyColor.fromRgb(206,67,71),OxyColor.fromRgb(207,68,70),OxyColor.fromRgb(208,69,69),OxyColor.fromRgb(210,70,68),OxyColor.fromRgb(211,71,67),OxyColor.fromRgb(212,72,66),OxyColor.fromRgb(213,74,65),OxyColor.fromRgb(215,75,63),OxyColor.fromRgb(216,76,62),OxyColor.fromRgb(217,77,61),OxyColor.fromRgb(218,78,60),OxyColor.fromRgb(219,80,59),OxyColor.fromRgb(221,81,58),OxyColor.fromRgb(222,82,56),OxyColor.fromRgb(223,83,55),OxyColor.fromRgb(224,85,54),OxyColor.fromRgb(225,86,53),OxyColor.fromRgb(226,87,52),OxyColor.fromRgb(227,89,51),OxyColor.fromRgb(228,90,49),OxyColor.fromRgb(229,92,48),OxyColor.fromRgb(230,93,47),OxyColor.fromRgb(231,94,46),OxyColor.fromRgb(232,96,45),OxyColor.fromRgb(233,97,43),OxyColor.fromRgb(234,99,42),OxyColor.fromRgb(235,100,41),OxyColor.fromRgb(235,102,40),OxyColor.fromRgb(236,103,38),OxyColor.fromRgb(237,105,37),OxyColor.fromRgb(238,106,36),OxyColor.fromRgb(239,108,35),OxyColor.fromRgb(239,110,33),OxyColor.fromRgb(240,111,32),OxyColor.fromRgb(241,113,31),OxyColor.fromRgb(241,115,29),OxyColor.fromRgb(242,116,28),OxyColor.fromRgb(243,118,27),OxyColor.fromRgb(243,120,25),OxyColor.fromRgb(244,121,24),OxyColor.fromRgb(245,123,23),OxyColor.fromRgb(245,125,21),OxyColor.fromRgb(246,126,20),OxyColor.fromRgb(246,128,19),OxyColor.fromRgb(247,130,18),OxyColor.fromRgb(247,132,16),OxyColor.fromRgb(248,133,15),OxyColor.fromRgb(248,135,14),OxyColor.fromRgb(248,137,12),OxyColor.fromRgb(249,139,11),OxyColor.fromRgb(249,140,10),OxyColor.fromRgb(249,142,9),OxyColor.fromRgb(250,144,8),OxyColor.fromRgb(250,146,7),OxyColor.fromRgb(250,148,7),OxyColor.fromRgb(251,150,6),OxyColor.fromRgb(251,151,6),OxyColor.fromRgb(251,153,6),OxyColor.fromRgb(251,155,6),OxyColor.fromRgb(251,157,7),OxyColor.fromRgb(252,159,7),OxyColor.fromRgb(252,161,8),OxyColor.fromRgb(252,163,9),OxyColor.fromRgb(252,165,10),OxyColor.fromRgb(252,166,12),OxyColor.fromRgb(252,168,13),OxyColor.fromRgb(252,170,15),OxyColor.fromRgb(252,172,17),OxyColor.fromRgb(252,174,18),OxyColor.fromRgb(252,176,20),OxyColor.fromRgb(252,178,22),OxyColor.fromRgb(252,180,24),OxyColor.fromRgb(251,182,26),OxyColor.fromRgb(251,184,29),OxyColor.fromRgb(251,186,31),OxyColor.fromRgb(251,188,33),OxyColor.fromRgb(251,190,35),OxyColor.fromRgb(250,192,38),OxyColor.fromRgb(250,194,40),OxyColor.fromRgb(250,196,42),OxyColor.fromRgb(250,198,45),OxyColor.fromRgb(249,199,47),OxyColor.fromRgb(249,201,50),OxyColor.fromRgb(249,203,53),OxyColor.fromRgb(248,205,55),OxyColor.fromRgb(248,207,58),OxyColor.fromRgb(247,209,61),OxyColor.fromRgb(247,211,64),OxyColor.fromRgb(246,213,67),OxyColor.fromRgb(246,215,70),OxyColor.fromRgb(245,217,73),OxyColor.fromRgb(245,219,76),OxyColor.fromRgb(244,221,79),OxyColor.fromRgb(244,223,83),OxyColor.fromRgb(244,225,86),OxyColor.fromRgb(243,227,90),OxyColor.fromRgb(243,229,93),OxyColor.fromRgb(242,230,97),OxyColor.fromRgb(242,232,101),OxyColor.fromRgb(242,234,105),OxyColor.fromRgb(241,236,109),OxyColor.fromRgb(241,237,113),OxyColor.fromRgb(241,239,117),OxyColor.fromRgb(241,241,121),OxyColor.fromRgb(242,242,125),OxyColor.fromRgb(242,244,130),OxyColor.fromRgb(243,245,134),OxyColor.fromRgb(243,246,138),OxyColor.fromRgb(244,248,142),OxyColor.fromRgb(245,249,146),OxyColor.fromRgb(246,250,150),OxyColor.fromRgb(248,251,154),OxyColor.fromRgb(249,252,157),OxyColor.fromRgb(250,253,161),OxyColor.fromRgb(252,255,164)],magmaColors=[OxyColor.fromRgb(0,0,4),OxyColor.fromRgb(1,0,5),OxyColor.fromRgb(1,1,6),OxyColor.fromRgb(1,1,8),OxyColor.fromRgb(2,1,9),OxyColor.fromRgb(2,2,11),OxyColor.fromRgb(2,2,13),OxyColor.fromRgb(3,3,15),OxyColor.fromRgb(3,3,18),OxyColor.fromRgb(4,4,20),OxyColor.fromRgb(5,4,22),OxyColor.fromRgb(6,5,24),OxyColor.fromRgb(6,5,26),OxyColor.fromRgb(7,6,28),OxyColor.fromRgb(8,7,30),OxyColor.fromRgb(9,7,32),OxyColor.fromRgb(10,8,34),OxyColor.fromRgb(11,9,36),OxyColor.fromRgb(12,9,38),OxyColor.fromRgb(13,10,41),OxyColor.fromRgb(14,11,43),OxyColor.fromRgb(16,11,45),OxyColor.fromRgb(17,12,47),OxyColor.fromRgb(18,13,49),OxyColor.fromRgb(19,13,52),OxyColor.fromRgb(20,14,54),OxyColor.fromRgb(21,14,56),OxyColor.fromRgb(22,15,59),OxyColor.fromRgb(24,15,61),OxyColor.fromRgb(25,16,63),OxyColor.fromRgb(26,16,66),OxyColor.fromRgb(28,16,68),OxyColor.fromRgb(29,17,71),OxyColor.fromRgb(30,17,73),OxyColor.fromRgb(32,17,75),OxyColor.fromRgb(33,17,78),OxyColor.fromRgb(34,17,80),OxyColor.fromRgb(36,18,83),OxyColor.fromRgb(37,18,85),OxyColor.fromRgb(39,18,88),OxyColor.fromRgb(41,17,90),OxyColor.fromRgb(42,17,92),OxyColor.fromRgb(44,17,95),OxyColor.fromRgb(45,17,97),OxyColor.fromRgb(47,17,99),OxyColor.fromRgb(49,17,101),OxyColor.fromRgb(51,16,103),OxyColor.fromRgb(52,16,105),OxyColor.fromRgb(54,16,107),OxyColor.fromRgb(56,16,108),OxyColor.fromRgb(57,15,110),OxyColor.fromRgb(59,15,112),OxyColor.fromRgb(61,15,113),OxyColor.fromRgb(63,15,114),OxyColor.fromRgb(64,15,116),OxyColor.fromRgb(66,15,117),OxyColor.fromRgb(68,15,118),OxyColor.fromRgb(69,16,119),OxyColor.fromRgb(71,16,120),OxyColor.fromRgb(73,16,120),OxyColor.fromRgb(74,16,121),OxyColor.fromRgb(76,17,122),OxyColor.fromRgb(78,17,123),OxyColor.fromRgb(79,18,123),OxyColor.fromRgb(81,18,124),OxyColor.fromRgb(82,19,124),OxyColor.fromRgb(84,19,125),OxyColor.fromRgb(86,20,125),OxyColor.fromRgb(87,21,126),OxyColor.fromRgb(89,21,126),OxyColor.fromRgb(90,22,126),OxyColor.fromRgb(92,22,127),OxyColor.fromRgb(93,23,127),OxyColor.fromRgb(95,24,127),OxyColor.fromRgb(96,24,128),OxyColor.fromRgb(98,25,128),OxyColor.fromRgb(100,26,128),OxyColor.fromRgb(101,26,128),OxyColor.fromRgb(103,27,128),OxyColor.fromRgb(104,28,129),OxyColor.fromRgb(106,28,129),OxyColor.fromRgb(107,29,129),OxyColor.fromRgb(109,29,129),OxyColor.fromRgb(110,30,129),OxyColor.fromRgb(112,31,129),OxyColor.fromRgb(114,31,129),OxyColor.fromRgb(115,32,129),OxyColor.fromRgb(117,33,129),OxyColor.fromRgb(118,33,129),OxyColor.fromRgb(120,34,129),OxyColor.fromRgb(121,34,130),OxyColor.fromRgb(123,35,130),OxyColor.fromRgb(124,35,130),OxyColor.fromRgb(126,36,130),OxyColor.fromRgb(128,37,130),OxyColor.fromRgb(129,37,129),OxyColor.fromRgb(131,38,129),OxyColor.fromRgb(132,38,129),OxyColor.fromRgb(134,39,129),OxyColor.fromRgb(136,39,129),OxyColor.fromRgb(137,40,129),OxyColor.fromRgb(139,41,129),OxyColor.fromRgb(140,41,129),OxyColor.fromRgb(142,42,129),OxyColor.fromRgb(144,42,129),OxyColor.fromRgb(145,43,129),OxyColor.fromRgb(147,43,128),OxyColor.fromRgb(148,44,128),OxyColor.fromRgb(150,44,128),OxyColor.fromRgb(152,45,128),OxyColor.fromRgb(153,45,128),OxyColor.fromRgb(155,46,127),OxyColor.fromRgb(156,46,127),OxyColor.fromRgb(158,47,127),OxyColor.fromRgb(160,47,127),OxyColor.fromRgb(161,48,126),OxyColor.fromRgb(163,48,126),OxyColor.fromRgb(165,49,126),OxyColor.fromRgb(166,49,125),OxyColor.fromRgb(168,50,125),OxyColor.fromRgb(170,51,125),OxyColor.fromRgb(171,51,124),OxyColor.fromRgb(173,52,124),OxyColor.fromRgb(174,52,123),OxyColor.fromRgb(176,53,123),OxyColor.fromRgb(178,53,123),OxyColor.fromRgb(179,54,122),OxyColor.fromRgb(181,54,122),OxyColor.fromRgb(183,55,121),OxyColor.fromRgb(184,55,121),OxyColor.fromRgb(186,56,120),OxyColor.fromRgb(188,57,120),OxyColor.fromRgb(189,57,119),OxyColor.fromRgb(191,58,119),OxyColor.fromRgb(192,58,118),OxyColor.fromRgb(194,59,117),OxyColor.fromRgb(196,60,117),OxyColor.fromRgb(197,60,116),OxyColor.fromRgb(199,61,115),OxyColor.fromRgb(200,62,115),OxyColor.fromRgb(202,62,114),OxyColor.fromRgb(204,63,113),OxyColor.fromRgb(205,64,113),OxyColor.fromRgb(207,64,112),OxyColor.fromRgb(208,65,111),OxyColor.fromRgb(210,66,111),OxyColor.fromRgb(211,67,110),OxyColor.fromRgb(213,68,109),OxyColor.fromRgb(214,69,108),OxyColor.fromRgb(216,69,108),OxyColor.fromRgb(217,70,107),OxyColor.fromRgb(219,71,106),OxyColor.fromRgb(220,72,105),OxyColor.fromRgb(222,73,104),OxyColor.fromRgb(223,74,104),OxyColor.fromRgb(224,76,103),OxyColor.fromRgb(226,77,102),OxyColor.fromRgb(227,78,101),OxyColor.fromRgb(228,79,100),OxyColor.fromRgb(229,80,100),OxyColor.fromRgb(231,82,99),OxyColor.fromRgb(232,83,98),OxyColor.fromRgb(233,84,98),OxyColor.fromRgb(234,86,97),OxyColor.fromRgb(235,87,96),OxyColor.fromRgb(236,88,96),OxyColor.fromRgb(237,90,95),OxyColor.fromRgb(238,91,94),OxyColor.fromRgb(239,93,94),OxyColor.fromRgb(240,95,94),OxyColor.fromRgb(241,96,93),OxyColor.fromRgb(242,98,93),OxyColor.fromRgb(242,100,92),OxyColor.fromRgb(243,101,92),OxyColor.fromRgb(244,103,92),OxyColor.fromRgb(244,105,92),OxyColor.fromRgb(245,107,92),OxyColor.fromRgb(246,108,92),OxyColor.fromRgb(246,110,92),OxyColor.fromRgb(247,112,92),OxyColor.fromRgb(247,114,92),OxyColor.fromRgb(248,116,92),OxyColor.fromRgb(248,118,92),OxyColor.fromRgb(249,120,93),OxyColor.fromRgb(249,121,93),OxyColor.fromRgb(249,123,93),OxyColor.fromRgb(250,125,94),OxyColor.fromRgb(250,127,94),OxyColor.fromRgb(250,129,95),OxyColor.fromRgb(251,131,95),OxyColor.fromRgb(251,133,96),OxyColor.fromRgb(251,135,97),OxyColor.fromRgb(252,137,97),OxyColor.fromRgb(252,138,98),OxyColor.fromRgb(252,140,99),OxyColor.fromRgb(252,142,100),OxyColor.fromRgb(252,144,101),OxyColor.fromRgb(253,146,102),OxyColor.fromRgb(253,148,103),OxyColor.fromRgb(253,150,104),OxyColor.fromRgb(253,152,105),OxyColor.fromRgb(253,154,106),OxyColor.fromRgb(253,155,107),OxyColor.fromRgb(254,157,108),OxyColor.fromRgb(254,159,109),OxyColor.fromRgb(254,161,110),OxyColor.fromRgb(254,163,111),OxyColor.fromRgb(254,165,113),OxyColor.fromRgb(254,167,114),OxyColor.fromRgb(254,169,115),OxyColor.fromRgb(254,170,116),OxyColor.fromRgb(254,172,118),OxyColor.fromRgb(254,174,119),OxyColor.fromRgb(254,176,120),OxyColor.fromRgb(254,178,122),OxyColor.fromRgb(254,180,123),OxyColor.fromRgb(254,182,124),OxyColor.fromRgb(254,183,126),OxyColor.fromRgb(254,185,127),OxyColor.fromRgb(254,187,129),OxyColor.fromRgb(254,189,130),OxyColor.fromRgb(254,191,132),OxyColor.fromRgb(254,193,133),OxyColor.fromRgb(254,194,135),OxyColor.fromRgb(254,196,136),OxyColor.fromRgb(254,198,138),OxyColor.fromRgb(254,200,140),OxyColor.fromRgb(254,202,141),OxyColor.fromRgb(254,204,143),OxyColor.fromRgb(254,205,144),OxyColor.fromRgb(254,207,146),OxyColor.fromRgb(254,209,148),OxyColor.fromRgb(254,211,149),OxyColor.fromRgb(254,213,151),OxyColor.fromRgb(254,215,153),OxyColor.fromRgb(254,216,154),OxyColor.fromRgb(253,218,156),OxyColor.fromRgb(253,220,158),OxyColor.fromRgb(253,222,160),OxyColor.fromRgb(253,224,161),OxyColor.fromRgb(253,226,163),OxyColor.fromRgb(253,227,165),OxyColor.fromRgb(253,229,167),OxyColor.fromRgb(253,231,169),OxyColor.fromRgb(253,233,170),OxyColor.fromRgb(253,235,172),OxyColor.fromRgb(252,236,174),OxyColor.fromRgb(252,238,176),OxyColor.fromRgb(252,240,178),OxyColor.fromRgb(252,242,180),OxyColor.fromRgb(252,244,182),OxyColor.fromRgb(252,246,184),OxyColor.fromRgb(252,247,185),OxyColor.fromRgb(252,249,187),OxyColor.fromRgb(252,251,189),OxyColor.fromRgb(252,253,191)],plasmaColors=[OxyColor.fromRgb(13,8,135),OxyColor.fromRgb(16,7,136),OxyColor.fromRgb(19,7,137),OxyColor.fromRgb(22,7,138),OxyColor.fromRgb(25,6,140),OxyColor.fromRgb(27,6,141),OxyColor.fromRgb(29,6,142),OxyColor.fromRgb(32,6,143),OxyColor.fromRgb(34,6,144),OxyColor.fromRgb(36,6,145),OxyColor.fromRgb(38,5,145),OxyColor.fromRgb(40,5,146),OxyColor.fromRgb(42,5,147),OxyColor.fromRgb(44,5,148),OxyColor.fromRgb(46,5,149),OxyColor.fromRgb(47,5,150),OxyColor.fromRgb(49,5,151),OxyColor.fromRgb(51,5,151),OxyColor.fromRgb(53,4,152),OxyColor.fromRgb(55,4,153),OxyColor.fromRgb(56,4,154),OxyColor.fromRgb(58,4,154),OxyColor.fromRgb(60,4,155),OxyColor.fromRgb(62,4,156),OxyColor.fromRgb(63,4,156),OxyColor.fromRgb(65,4,157),OxyColor.fromRgb(67,3,158),OxyColor.fromRgb(68,3,158),OxyColor.fromRgb(70,3,159),OxyColor.fromRgb(72,3,159),OxyColor.fromRgb(73,3,160),OxyColor.fromRgb(75,3,161),OxyColor.fromRgb(76,2,161),OxyColor.fromRgb(78,2,162),OxyColor.fromRgb(80,2,162),OxyColor.fromRgb(81,2,163),OxyColor.fromRgb(83,2,163),OxyColor.fromRgb(85,2,164),OxyColor.fromRgb(86,1,164),OxyColor.fromRgb(88,1,164),OxyColor.fromRgb(89,1,165),OxyColor.fromRgb(91,1,165),OxyColor.fromRgb(92,1,166),OxyColor.fromRgb(94,1,166),OxyColor.fromRgb(96,1,166),OxyColor.fromRgb(97,0,167),OxyColor.fromRgb(99,0,167),OxyColor.fromRgb(100,0,167),OxyColor.fromRgb(102,0,167),OxyColor.fromRgb(103,0,168),OxyColor.fromRgb(105,0,168),OxyColor.fromRgb(106,0,168),OxyColor.fromRgb(108,0,168),OxyColor.fromRgb(110,0,168),OxyColor.fromRgb(111,0,168),OxyColor.fromRgb(113,0,168),OxyColor.fromRgb(114,1,168),OxyColor.fromRgb(116,1,168),OxyColor.fromRgb(117,1,168),OxyColor.fromRgb(119,1,168),OxyColor.fromRgb(120,1,168),OxyColor.fromRgb(122,2,168),OxyColor.fromRgb(123,2,168),OxyColor.fromRgb(125,3,168),OxyColor.fromRgb(126,3,168),OxyColor.fromRgb(128,4,168),OxyColor.fromRgb(129,4,167),OxyColor.fromRgb(131,5,167),OxyColor.fromRgb(132,5,167),OxyColor.fromRgb(134,6,166),OxyColor.fromRgb(135,7,166),OxyColor.fromRgb(136,8,166),OxyColor.fromRgb(138,9,165),OxyColor.fromRgb(139,10,165),OxyColor.fromRgb(141,11,165),OxyColor.fromRgb(142,12,164),OxyColor.fromRgb(143,13,164),OxyColor.fromRgb(145,14,163),OxyColor.fromRgb(146,15,163),OxyColor.fromRgb(148,16,162),OxyColor.fromRgb(149,17,161),OxyColor.fromRgb(150,19,161),OxyColor.fromRgb(152,20,160),OxyColor.fromRgb(153,21,159),OxyColor.fromRgb(154,22,159),OxyColor.fromRgb(156,23,158),OxyColor.fromRgb(157,24,157),OxyColor.fromRgb(158,25,157),OxyColor.fromRgb(160,26,156),OxyColor.fromRgb(161,27,155),OxyColor.fromRgb(162,29,154),OxyColor.fromRgb(163,30,154),OxyColor.fromRgb(165,31,153),OxyColor.fromRgb(166,32,152),OxyColor.fromRgb(167,33,151),OxyColor.fromRgb(168,34,150),OxyColor.fromRgb(170,35,149),OxyColor.fromRgb(171,36,148),OxyColor.fromRgb(172,38,148),OxyColor.fromRgb(173,39,147),OxyColor.fromRgb(174,40,146),OxyColor.fromRgb(176,41,145),OxyColor.fromRgb(177,42,144),OxyColor.fromRgb(178,43,143),OxyColor.fromRgb(179,44,142),OxyColor.fromRgb(180,46,141),OxyColor.fromRgb(181,47,140),OxyColor.fromRgb(182,48,139),OxyColor.fromRgb(183,49,138),OxyColor.fromRgb(184,50,137),OxyColor.fromRgb(186,51,136),OxyColor.fromRgb(187,52,136),OxyColor.fromRgb(188,53,135),OxyColor.fromRgb(189,55,134),OxyColor.fromRgb(190,56,133),OxyColor.fromRgb(191,57,132),OxyColor.fromRgb(192,58,131),OxyColor.fromRgb(193,59,130),OxyColor.fromRgb(194,60,129),OxyColor.fromRgb(195,61,128),OxyColor.fromRgb(196,62,127),OxyColor.fromRgb(197,64,126),OxyColor.fromRgb(198,65,125),OxyColor.fromRgb(199,66,124),OxyColor.fromRgb(200,67,123),OxyColor.fromRgb(201,68,122),OxyColor.fromRgb(202,69,122),OxyColor.fromRgb(203,70,121),OxyColor.fromRgb(204,71,120),OxyColor.fromRgb(204,73,119),OxyColor.fromRgb(205,74,118),OxyColor.fromRgb(206,75,117),OxyColor.fromRgb(207,76,116),OxyColor.fromRgb(208,77,115),OxyColor.fromRgb(209,78,114),OxyColor.fromRgb(210,79,113),OxyColor.fromRgb(211,81,113),OxyColor.fromRgb(212,82,112),OxyColor.fromRgb(213,83,111),OxyColor.fromRgb(213,84,110),OxyColor.fromRgb(214,85,109),OxyColor.fromRgb(215,86,108),OxyColor.fromRgb(216,87,107),OxyColor.fromRgb(217,88,106),OxyColor.fromRgb(218,90,106),OxyColor.fromRgb(218,91,105),OxyColor.fromRgb(219,92,104),OxyColor.fromRgb(220,93,103),OxyColor.fromRgb(221,94,102),OxyColor.fromRgb(222,95,101),OxyColor.fromRgb(222,97,100),OxyColor.fromRgb(223,98,99),OxyColor.fromRgb(224,99,99),OxyColor.fromRgb(225,100,98),OxyColor.fromRgb(226,101,97),OxyColor.fromRgb(226,102,96),OxyColor.fromRgb(227,104,95),OxyColor.fromRgb(228,105,94),OxyColor.fromRgb(229,106,93),OxyColor.fromRgb(229,107,93),OxyColor.fromRgb(230,108,92),OxyColor.fromRgb(231,110,91),OxyColor.fromRgb(231,111,90),OxyColor.fromRgb(232,112,89),OxyColor.fromRgb(233,113,88),OxyColor.fromRgb(233,114,87),OxyColor.fromRgb(234,116,87),OxyColor.fromRgb(235,117,86),OxyColor.fromRgb(235,118,85),OxyColor.fromRgb(236,119,84),OxyColor.fromRgb(237,121,83),OxyColor.fromRgb(237,122,82),OxyColor.fromRgb(238,123,81),OxyColor.fromRgb(239,124,81),OxyColor.fromRgb(239,126,80),OxyColor.fromRgb(240,127,79),OxyColor.fromRgb(240,128,78),OxyColor.fromRgb(241,129,77),OxyColor.fromRgb(241,131,76),OxyColor.fromRgb(242,132,75),OxyColor.fromRgb(243,133,75),OxyColor.fromRgb(243,135,74),OxyColor.fromRgb(244,136,73),OxyColor.fromRgb(244,137,72),OxyColor.fromRgb(245,139,71),OxyColor.fromRgb(245,140,70),OxyColor.fromRgb(246,141,69),OxyColor.fromRgb(246,143,68),OxyColor.fromRgb(247,144,68),OxyColor.fromRgb(247,145,67),OxyColor.fromRgb(247,147,66),OxyColor.fromRgb(248,148,65),OxyColor.fromRgb(248,149,64),OxyColor.fromRgb(249,151,63),OxyColor.fromRgb(249,152,62),OxyColor.fromRgb(249,154,62),OxyColor.fromRgb(250,155,61),OxyColor.fromRgb(250,156,60),OxyColor.fromRgb(250,158,59),OxyColor.fromRgb(251,159,58),OxyColor.fromRgb(251,161,57),OxyColor.fromRgb(251,162,56),OxyColor.fromRgb(252,163,56),OxyColor.fromRgb(252,165,55),OxyColor.fromRgb(252,166,54),OxyColor.fromRgb(252,168,53),OxyColor.fromRgb(252,169,52),OxyColor.fromRgb(253,171,51),OxyColor.fromRgb(253,172,51),OxyColor.fromRgb(253,174,50),OxyColor.fromRgb(253,175,49),OxyColor.fromRgb(253,177,48),OxyColor.fromRgb(253,178,47),OxyColor.fromRgb(253,180,47),OxyColor.fromRgb(253,181,46),OxyColor.fromRgb(254,183,45),OxyColor.fromRgb(254,184,44),OxyColor.fromRgb(254,186,44),OxyColor.fromRgb(254,187,43),OxyColor.fromRgb(254,189,42),OxyColor.fromRgb(254,190,42),OxyColor.fromRgb(254,192,41),OxyColor.fromRgb(253,194,41),OxyColor.fromRgb(253,195,40),OxyColor.fromRgb(253,197,39),OxyColor.fromRgb(253,198,39),OxyColor.fromRgb(253,200,39),OxyColor.fromRgb(253,202,38),OxyColor.fromRgb(253,203,38),OxyColor.fromRgb(252,205,37),OxyColor.fromRgb(252,206,37),OxyColor.fromRgb(252,208,37),OxyColor.fromRgb(252,210,37),OxyColor.fromRgb(251,211,36),OxyColor.fromRgb(251,213,36),OxyColor.fromRgb(251,215,36),OxyColor.fromRgb(250,216,36),OxyColor.fromRgb(250,218,36),OxyColor.fromRgb(249,220,36),OxyColor.fromRgb(249,221,37),OxyColor.fromRgb(248,223,37),OxyColor.fromRgb(248,225,37),OxyColor.fromRgb(247,226,37),OxyColor.fromRgb(247,228,37),OxyColor.fromRgb(246,230,38),OxyColor.fromRgb(246,232,38),OxyColor.fromRgb(245,233,38),OxyColor.fromRgb(245,235,39),OxyColor.fromRgb(244,237,39),OxyColor.fromRgb(243,238,39),OxyColor.fromRgb(243,240,39),OxyColor.fromRgb(242,242,39),OxyColor.fromRgb(241,244,38),OxyColor.fromRgb(241,245,37),OxyColor.fromRgb(240,247,36),OxyColor.fromRgb(240,249,33)],viridisColors=[OxyColor.fromRgb(68,1,84),OxyColor.fromRgb(68,2,86),OxyColor.fromRgb(69,4,87),OxyColor.fromRgb(69,5,89),OxyColor.fromRgb(70,7,90),OxyColor.fromRgb(70,8,92),OxyColor.fromRgb(70,10,93),OxyColor.fromRgb(70,11,94),OxyColor.fromRgb(71,13,96),OxyColor.fromRgb(71,14,97),OxyColor.fromRgb(71,16,99),OxyColor.fromRgb(71,17,100),OxyColor.fromRgb(71,19,101),OxyColor.fromRgb(72,20,103),OxyColor.fromRgb(72,22,104),OxyColor.fromRgb(72,23,105),OxyColor.fromRgb(72,24,106),OxyColor.fromRgb(72,26,108),OxyColor.fromRgb(72,27,109),OxyColor.fromRgb(72,28,110),OxyColor.fromRgb(72,29,111),OxyColor.fromRgb(72,31,112),OxyColor.fromRgb(72,32,113),OxyColor.fromRgb(72,33,115),OxyColor.fromRgb(72,35,116),OxyColor.fromRgb(72,36,117),OxyColor.fromRgb(72,37,118),OxyColor.fromRgb(72,38,119),OxyColor.fromRgb(72,40,120),OxyColor.fromRgb(72,41,121),OxyColor.fromRgb(71,42,122),OxyColor.fromRgb(71,44,122),OxyColor.fromRgb(71,45,123),OxyColor.fromRgb(71,46,124),OxyColor.fromRgb(71,47,125),OxyColor.fromRgb(70,48,126),OxyColor.fromRgb(70,50,126),OxyColor.fromRgb(70,51,127),OxyColor.fromRgb(70,52,128),OxyColor.fromRgb(69,53,129),OxyColor.fromRgb(69,55,129),OxyColor.fromRgb(69,56,130),OxyColor.fromRgb(68,57,131),OxyColor.fromRgb(68,58,131),OxyColor.fromRgb(68,59,132),OxyColor.fromRgb(67,61,132),OxyColor.fromRgb(67,62,133),OxyColor.fromRgb(66,63,133),OxyColor.fromRgb(66,64,134),OxyColor.fromRgb(66,65,134),OxyColor.fromRgb(65,66,135),OxyColor.fromRgb(65,68,135),OxyColor.fromRgb(64,69,136),OxyColor.fromRgb(64,70,136),OxyColor.fromRgb(63,71,136),OxyColor.fromRgb(63,72,137),OxyColor.fromRgb(62,73,137),OxyColor.fromRgb(62,74,137),OxyColor.fromRgb(62,76,138),OxyColor.fromRgb(61,77,138),OxyColor.fromRgb(61,78,138),OxyColor.fromRgb(60,79,138),OxyColor.fromRgb(60,80,139),OxyColor.fromRgb(59,81,139),OxyColor.fromRgb(59,82,139),OxyColor.fromRgb(58,83,139),OxyColor.fromRgb(58,84,140),OxyColor.fromRgb(57,85,140),OxyColor.fromRgb(57,86,140),OxyColor.fromRgb(56,88,140),OxyColor.fromRgb(56,89,140),OxyColor.fromRgb(55,90,140),OxyColor.fromRgb(55,91,141),OxyColor.fromRgb(54,92,141),OxyColor.fromRgb(54,93,141),OxyColor.fromRgb(53,94,141),OxyColor.fromRgb(53,95,141),OxyColor.fromRgb(52,96,141),OxyColor.fromRgb(52,97,141),OxyColor.fromRgb(51,98,141),OxyColor.fromRgb(51,99,141),OxyColor.fromRgb(50,100,142),OxyColor.fromRgb(50,101,142),OxyColor.fromRgb(49,102,142),OxyColor.fromRgb(49,103,142),OxyColor.fromRgb(49,104,142),OxyColor.fromRgb(48,105,142),OxyColor.fromRgb(48,106,142),OxyColor.fromRgb(47,107,142),OxyColor.fromRgb(47,108,142),OxyColor.fromRgb(46,109,142),OxyColor.fromRgb(46,110,142),OxyColor.fromRgb(46,111,142),OxyColor.fromRgb(45,112,142),OxyColor.fromRgb(45,113,142),OxyColor.fromRgb(44,113,142),OxyColor.fromRgb(44,114,142),OxyColor.fromRgb(44,115,142),OxyColor.fromRgb(43,116,142),OxyColor.fromRgb(43,117,142),OxyColor.fromRgb(42,118,142),OxyColor.fromRgb(42,119,142),OxyColor.fromRgb(42,120,142),OxyColor.fromRgb(41,121,142),OxyColor.fromRgb(41,122,142),OxyColor.fromRgb(41,123,142),OxyColor.fromRgb(40,124,142),OxyColor.fromRgb(40,125,142),OxyColor.fromRgb(39,126,142),OxyColor.fromRgb(39,127,142),OxyColor.fromRgb(39,128,142),OxyColor.fromRgb(38,129,142),OxyColor.fromRgb(38,130,142),OxyColor.fromRgb(38,130,142),OxyColor.fromRgb(37,131,142),OxyColor.fromRgb(37,132,142),OxyColor.fromRgb(37,133,142),OxyColor.fromRgb(36,134,142),OxyColor.fromRgb(36,135,142),OxyColor.fromRgb(35,136,142),OxyColor.fromRgb(35,137,142),OxyColor.fromRgb(35,138,141),OxyColor.fromRgb(34,139,141),OxyColor.fromRgb(34,140,141),OxyColor.fromRgb(34,141,141),OxyColor.fromRgb(33,142,141),OxyColor.fromRgb(33,143,141),OxyColor.fromRgb(33,144,141),OxyColor.fromRgb(33,145,140),OxyColor.fromRgb(32,146,140),OxyColor.fromRgb(32,146,140),OxyColor.fromRgb(32,147,140),OxyColor.fromRgb(31,148,140),OxyColor.fromRgb(31,149,139),OxyColor.fromRgb(31,150,139),OxyColor.fromRgb(31,151,139),OxyColor.fromRgb(31,152,139),OxyColor.fromRgb(31,153,138),OxyColor.fromRgb(31,154,138),OxyColor.fromRgb(30,155,138),OxyColor.fromRgb(30,156,137),OxyColor.fromRgb(30,157,137),OxyColor.fromRgb(31,158,137),OxyColor.fromRgb(31,159,136),OxyColor.fromRgb(31,160,136),OxyColor.fromRgb(31,161,136),OxyColor.fromRgb(31,161,135),OxyColor.fromRgb(31,162,135),OxyColor.fromRgb(32,163,134),OxyColor.fromRgb(32,164,134),OxyColor.fromRgb(33,165,133),OxyColor.fromRgb(33,166,133),OxyColor.fromRgb(34,167,133),OxyColor.fromRgb(34,168,132),OxyColor.fromRgb(35,169,131),OxyColor.fromRgb(36,170,131),OxyColor.fromRgb(37,171,130),OxyColor.fromRgb(37,172,130),OxyColor.fromRgb(38,173,129),OxyColor.fromRgb(39,173,129),OxyColor.fromRgb(40,174,128),OxyColor.fromRgb(41,175,127),OxyColor.fromRgb(42,176,127),OxyColor.fromRgb(44,177,126),OxyColor.fromRgb(45,178,125),OxyColor.fromRgb(46,179,124),OxyColor.fromRgb(47,180,124),OxyColor.fromRgb(49,181,123),OxyColor.fromRgb(50,182,122),OxyColor.fromRgb(52,182,121),OxyColor.fromRgb(53,183,121),OxyColor.fromRgb(55,184,120),OxyColor.fromRgb(56,185,119),OxyColor.fromRgb(58,186,118),OxyColor.fromRgb(59,187,117),OxyColor.fromRgb(61,188,116),OxyColor.fromRgb(63,188,115),OxyColor.fromRgb(64,189,114),OxyColor.fromRgb(66,190,113),OxyColor.fromRgb(68,191,112),OxyColor.fromRgb(70,192,111),OxyColor.fromRgb(72,193,110),OxyColor.fromRgb(74,193,109),OxyColor.fromRgb(76,194,108),OxyColor.fromRgb(78,195,107),OxyColor.fromRgb(80,196,106),OxyColor.fromRgb(82,197,105),OxyColor.fromRgb(84,197,104),OxyColor.fromRgb(86,198,103),OxyColor.fromRgb(88,199,101),OxyColor.fromRgb(90,200,100),OxyColor.fromRgb(92,200,99),OxyColor.fromRgb(94,201,98),OxyColor.fromRgb(96,202,96),OxyColor.fromRgb(99,203,95),OxyColor.fromRgb(101,203,94),OxyColor.fromRgb(103,204,92),OxyColor.fromRgb(105,205,91),OxyColor.fromRgb(108,205,90),OxyColor.fromRgb(110,206,88),OxyColor.fromRgb(112,207,87),OxyColor.fromRgb(115,208,86),OxyColor.fromRgb(117,208,84),OxyColor.fromRgb(119,209,83),OxyColor.fromRgb(122,209,81),OxyColor.fromRgb(124,210,80),OxyColor.fromRgb(127,211,78),OxyColor.fromRgb(129,211,77),OxyColor.fromRgb(132,212,75),OxyColor.fromRgb(134,213,73),OxyColor.fromRgb(137,213,72),OxyColor.fromRgb(139,214,70),OxyColor.fromRgb(142,214,69),OxyColor.fromRgb(144,215,67),OxyColor.fromRgb(147,215,65),OxyColor.fromRgb(149,216,64),OxyColor.fromRgb(152,216,62),OxyColor.fromRgb(155,217,60),OxyColor.fromRgb(157,217,59),OxyColor.fromRgb(160,218,57),OxyColor.fromRgb(162,218,55),OxyColor.fromRgb(165,219,54),OxyColor.fromRgb(168,219,52),OxyColor.fromRgb(170,220,50),OxyColor.fromRgb(173,220,48),OxyColor.fromRgb(176,221,47),OxyColor.fromRgb(178,221,45),OxyColor.fromRgb(181,222,43),OxyColor.fromRgb(184,222,41),OxyColor.fromRgb(186,222,40),OxyColor.fromRgb(189,223,38),OxyColor.fromRgb(192,223,37),OxyColor.fromRgb(194,223,35),OxyColor.fromRgb(197,224,33),OxyColor.fromRgb(200,224,32),OxyColor.fromRgb(202,225,31),OxyColor.fromRgb(205,225,29),OxyColor.fromRgb(208,225,28),OxyColor.fromRgb(210,226,27),OxyColor.fromRgb(213,226,26),OxyColor.fromRgb(216,226,25),OxyColor.fromRgb(218,227,25),OxyColor.fromRgb(221,227,24),OxyColor.fromRgb(223,227,24),OxyColor.fromRgb(226,228,24),OxyColor.fromRgb(229,228,25),OxyColor.fromRgb(231,228,25),OxyColor.fromRgb(234,229,26),OxyColor.fromRgb(236,229,27),OxyColor.fromRgb(239,229,28),OxyColor.fromRgb(241,229,29),OxyColor.fromRgb(244,230,30),OxyColor.fromRgb(246,230,32),OxyColor.fromRgb(248,230,33),OxyColor.fromRgb(251,231,35),OxyColor.fromRgb(253,231,37)];let Element$1=class{constructor(je){D$1(this,"parent"),D$1(this,"keyDown"),D$1(this,"mouseDown"),D$1(this,"mouseMove"),D$1(this,"mouseUp"),D$1(this,"touchStarted"),D$1(this,"touchDelta"),D$1(this,"touchCompleted"),D$1(this,"selection"),D$1(this,"selectionChanged"),D$1(this,"selectable",!0),D$1(this,"selectionMode",SelectionMode.All)}hitTest(je){return this.hitTestOverride(je)}hitTestOverride(je){}onMouseDown(je){this.mouseDown&&this.mouseDown(this,je)}onMouseMove(je){this.mouseMove&&this.mouseMove(this,je)}onKeyDown(je){this.keyDown&&this.keyDown(this,je)}onMouseUp(je){this.mouseUp&&this.mouseUp(this,je)}onTouchStarted(je){this.touchStarted&&this.touchStarted(this,je)}onTouchDelta(je){this.touchDelta&&this.touchDelta(this,je)}onTouchCompleted(je){this.touchCompleted&&this.touchCompleted(this,je)}get actualSelectedColor(){return this.parent?this.parent.selectionColor.getActualColor(Model.DefaultSelectionColor):Model.DefaultSelectionColor}isSelected(){return!!this.selection}getSelectedItems(){return this.ensureSelection(),this.selection.getSelectedItems()}clearSelection(){this.selection=void 0,this.onSelectionChanged()}unselect(){this.selection=void 0,this.onSelectionChanged()}isItemSelected(je){return this.selection?je===-1?this.selection.isEverythingSelected():this.selection.isItemSelected(je):!1}select(){this.selection=Selection.Everything,this.onSelectionChanged()}selectItem(je){if(this.selectionMode===SelectionMode.All)throw new Error("Use the select() method when using SelectionMode.All");this.ensureSelection(),this.selectionMode===SelectionMode.Single&&this.selection.clear(),this.selection.select(je),this.onSelectionChanged()}unselectItem(je){if(this.selectionMode===SelectionMode.All)throw new Error("Use the unselect() method when using SelectionMode.All");this.ensureSelection(),this.selection.unselect(je),this.onSelectionChanged()}getSelectableColor(je,ze=-1){return je.isUndefined()?OxyColors.Undefined:this.isItemSelected(ze)?this.actualSelectedColor:je}getSelectableFillColor(je,ze=-1){return this.getSelectableColor(je,ze)}ensureSelection(){this.selection=this.selection||new Selection}onSelectionChanged(je){this.selectionChanged&&this.selectionChanged(this,je)}};class PlotElement extends Element$1{constructor(je){super(je),D$1(this,"font"),D$1(this,"fontSize",NaN),D$1(this,"fontWeight",FontWeights.Normal),D$1(this,"tag"),D$1(this,"textColor"),D$1(this,"edgeRenderingMode"),D$1(this,"toolTip"),D$1(this,"_plotElementId"),this.fontSize=NaN,this.fontWeight=FontWeights.Normal,this.textColor=OxyColors.Automatic,this.edgeRenderingMode=EdgeRenderingMode.Automatic}get plotModel(){return this.parent}get actualFont(){return this.font||this.plotModel.defaultFont}get actualFontSize(){return isNaN(this.fontSize)?this.plotModel.defaultFontSize:this.fontSize}get actualFontWeight(){return this.fontWeight}get actualTextColor(){return this.textColor.getActualColor(this.plotModel.textColor)}getClippingRect(){return OxyRect.Everything}getElementHashCode(){return isUndef(this._plotElementId)&&(plotElementId++,this._plotElementId=plotElementId),this._plotElementId}}let plotElementId=0;var AnnotationLayer=(Ve=>(Ve[Ve.BelowAxes=0]="BelowAxes",Ve[Ve.BelowSeries=1]="BelowSeries",Ve[Ve.AboveSeries=2]="AboveSeries",Ve))(AnnotationLayer||{}),AnnotationTextOrientation=(Ve=>(Ve[Ve.Horizontal=0]="Horizontal",Ve[Ve.Vertical=1]="Vertical",Ve[Ve.AlongLine=2]="AlongLine",Ve))(AnnotationTextOrientation||{});class Annotation extends PlotElement{constructor(je){super(),D$1(this,"layer"),D$1(this,"_xAxis"),D$1(this,"xAxisKey"),D$1(this,"_yAxis"),D$1(this,"clipByXAxis"),D$1(this,"clipByYAxis"),D$1(this,"yAxisKey"),this.layer=AnnotationLayer.AboveSeries,this.clipByXAxis=!0,this.clipByYAxis=!0,je&&(je.xAxis&&(this._xAxis=je.xAxis),je.yAxis&&(this._yAxis=je.yAxis))}get xAxis(){return this._xAxis}get yAxis(){return this._yAxis}ensureAxes(){this._xAxis=this.xAxisKey?this.plotModel.getAxis(this.xAxisKey):this.plotModel.defaultXAxis,this._yAxis=this.yAxisKey?this.plotModel.getAxis(this.yAxisKey):this.plotModel.defaultYAxis}getClippingRect(){const je=this.plotModel.plotArea,ze=PlotElementUtilities.getClippingRect(this);let qe=0,Xe=Number.POSITIVE_INFINITY,Ye=0,Ke=Number.POSITIVE_INFINITY;this.clipByXAxis&&(qe=ze.topLeft.x,Xe=ze.bottomRight.x),this.clipByYAxis&&(Ye=ze.topLeft.y,Ke=ze.bottomRight.y);const Ze=new ScreenPoint(qe,Ye),Qe=new ScreenPoint(Xe,Ke),Je=OxyRect.fromScreenPoints(Ze,Qe);return je.clip(Je)}transform(je){return PlotElementUtilities.transform(this,je)}inverseTransform(je){return PlotElementUtilities.inverseTransform(this,je)}}class TransposableAnnotation extends Annotation{constructor(je){super(je),setTransposablePlotElement(this)}getClippingRect(){const je=this.plotModel.plotArea,ze=PlotElementUtilities.getClippingRect(this);let qe=0,Xe=Number.POSITIVE_INFINITY,Ye=0,Ke=Number.POSITIVE_INFINITY;this.clipByXAxis&&(qe=PlotElementExtensions.orientate(this,ze.topLeft).x,Xe=PlotElementExtensions.orientate(this,ze.bottomRight).x),this.clipByYAxis&&(Ye=PlotElementExtensions.orientate(this,ze.topLeft).y,Ke=PlotElementExtensions.orientate(this,ze.bottomRight).y);const Ze=PlotElementExtensions.orientate(this,new ScreenPoint(qe,Ye)),Qe=PlotElementExtensions.orientate(this,new ScreenPoint(Xe,Ke)),Je=OxyRect.fromScreenPoints(Ze,Qe);return je.clip(Je)}transform(je){return PlotElementUtilities.transformOrientated(this,je)}inverseTransform(je){return PlotElementUtilities.inverseTransformOrientated(this,je)}}class TextualAnnotation extends TransposableAnnotation{constructor(je){super(je),D$1(this,"text"),D$1(this,"textPosition"),D$1(this,"textHorizontalAlignment"),D$1(this,"textVerticalAlignment"),D$1(this,"textRotation"),this.textHorizontalAlignment=HorizontalAlignment.Center,this.textVerticalAlignment=VerticalAlignment.Middle,this.textPosition=DataPoint.Undefined,this.textRotation=0}getActualTextPosition(je){return this.textPosition.isDefined()?this.transform(this.textPosition):je()}getActualTextAlignment(){return[this.textHorizontalAlignment,this.textVerticalAlignment]}}class TextAnnotation extends TextualAnnotation{constructor(je){super(je),D$1(this,"actualBounds"),D$1(this,"background"),D$1(this,"offset",ScreenVector.Zero),D$1(this,"padding"),D$1(this,"stroke"),D$1(this,"strokeThickness"),this.stroke=OxyColors.Black,this.background=OxyColors.Undefined,this.strokeThickness=1,this.textVerticalAlignment=VerticalAlignment.Bottom,this.padding=new OxyThickness(4),je&&Object.assign(this,removeUndef(je))}async render(je){if(!this.text)throw new Error("text must be non-undefined before rendering.");const ze=this.transform(this.textPosition).plus(PlotElementExtensions.orientateVector(this,this.offset)),qe=je.measureText(this.text,this.actualFont,this.actualFontSize,this.actualFontWeight),[Xe,Ye]=this.getActualTextAlignment();if(this.actualBounds=TextAnnotation.getTextBounds(ze,qe,this.padding,this.textRotation,Xe,Ye),this.textRotation%90===0){const Ke=OxyRect.fromScreenPoints(this.actualBounds[0],this.actualBounds[2]);await je.drawRectangle(Ke,this.background,this.stroke,this.strokeThickness,this.edgeRenderingMode)}else await je.drawPolygon(this.actualBounds,this.background,this.stroke,this.strokeThickness,this.edgeRenderingMode);await MathRenderingExtensions.drawMathText(je,ze,this.text,this.getSelectableFillColor(this.actualTextColor),this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,Xe,Ye)}hitTestOverride(je){if(this.actualBounds)return ScreenPointHelper.isPointInPolygon(je.point,this.actualBounds)?{element:this,nearestHitPoint:je.point}:void 0}static getTextBounds(je,ze,qe,Xe,Ye,Ke){let Ze,Qe,Je,St;switch(Ye){case HorizontalAlignment.Center:Ze=-ze.width*.5,Qe=-Ze;break;case HorizontalAlignment.Right:Ze=-ze.width,Qe=0;break;default:Ze=0,Qe=ze.width;break}switch(Ke){case VerticalAlignment.Middle:Je=-ze.height*.5,St=-Je;break;case VerticalAlignment.Bottom:Je=-ze.height,St=0;break;default:Je=0,St=ze.height;break}const ei=Math.cos(Xe/180*Math.PI),ti=Math.sin(Xe/180*Math.PI),ii=new ScreenVector(ei,ti),ri=new ScreenVector(-ti,ei),si=new Array(4);return si[0]=je.plus(ii.times(Ze-qe.left)).plus(ri.times(Je-qe.top)),si[1]=je.plus(ii.times(Qe+qe.right)).plus(ri.times(Je-qe.top)),si[2]=je.plus(ii.times(Qe+qe.right)).plus(ri.times(St+qe.bottom)),si[3]=je.plus(ii.times(Ze-qe.left)).plus(ri.times(St+qe.bottom)),si}}class PathAnnotation extends TextualAnnotation{constructor(je){super(je),D$1(this,"screenPoints"),D$1(this,"color"),D$1(this,"lineJoin"),D$1(this,"lineStyle"),D$1(this,"maximumX"),D$1(this,"maximumY"),D$1(this,"minimumX"),D$1(this,"minimumY"),D$1(this,"strokeThickness"),D$1(this,"textMargin"),D$1(this,"textPadding",0),D$1(this,"borderPadding",OxyThickness.Zero),D$1(this,"borderBackground",OxyColors.Undefined),D$1(this,"borderStroke",OxyColors.Undefined),D$1(this,"borderStrokeThickness",0),D$1(this,"textOrientation"),D$1(this,"textLinePosition"),D$1(this,"minimumSegmentLength"),D$1(this,"actualMinimumX",NaN),D$1(this,"actualMinimumY",NaN),D$1(this,"actualMaximumX",NaN),D$1(this,"actualMaximumY",NaN),this.minimumX=Number_MIN_VALUE,this.maximumX=Number_MAX_VALUE,this.minimumY=Number_MIN_VALUE,this.maximumY=Number_MAX_VALUE,this.color=OxyColors.Blue,this.strokeThickness=1,this.lineStyle=LineStyle.Dash,this.lineJoin=LineJoin.Miter,this.textLinePosition=1,this.textOrientation=AnnotationTextOrientation.AlongLine,this.textMargin=12,this.textHorizontalAlignment=HorizontalAlignment.Right,this.textVerticalAlignment=VerticalAlignment.Top,this.minimumSegmentLength=2}async render(je){if(this.calculateActualMinimumsMaximums(),this.actualMinimumX>this.actualMaximumX||this.actualMinimumY>this.actualMaximumY)return;this.screenPoints=this.getScreenPoints();const ze=[],qe=LineStyleHelper.getDashArray(this.lineStyle);this.strokeThickness>0&&this.lineStyle!==LineStyle.None&&await RenderingExtensions.drawReducedLine(je,this.screenPoints,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(this.color),this.strokeThickness,this.edgeRenderingMode,qe,this.lineJoin,void 0,ii=>ze.push(...ii));let Xe=this.textMargin;const[Ye,Ke]=this.getActualTextAlignment(),Ze=PlotElementExtensions.isTransposed(this)?this.yAxis.isReversed?1-this.textLinePosition:this.textLinePosition:this.xAxis.isReversed?1-this.textLinePosition:this.textLinePosition;Ye===HorizontalAlignment.Center?Xe=0:Xe*=Ze<.5?1:-1;const Qe=PathAnnotation.getPointAtRelativeDistance(ze,Ze,Xe);if(!Qe)return;let{position:Je,angle:St}=Qe;switch(St<-90&&(St+=180),St>=90&&(St-=180),this.textOrientation){case AnnotationTextOrientation.Horizontal:St=0;break;case AnnotationTextOrientation.Vertical:St=-90;break}const ei=St/180*Math.PI;let ti=1;if(Ye===HorizontalAlignment.Right&&(ti=-1),Ye===HorizontalAlignment.Center&&(ti=0),Je=Je.plus(new ScreenVector(ti*this.textPadding*Math.cos(ei),ti*this.textPadding*Math.sin(ei))),this.text){const ii=this.getActualTextPosition(()=>Je);this.textPosition.isDefined()&&(St=this.textRotation);const ri=je.measureText(this.text,this.actualFont,this.actualFontSize,this.actualFontWeight),si=TextAnnotation.getTextBounds(Je,ri,this.borderPadding,St,Ye,Ke);if(St%90==0){const ui=OxyRect.fromScreenPoints(si[0],si[2]);await je.drawRectangle(ui,this.borderBackground,this.borderStroke,this.borderStrokeThickness,this.edgeRenderingMode)}else await je.drawPolygon(si,this.borderBackground,this.borderStroke,this.borderStrokeThickness,this.edgeRenderingMode);await je.drawText(ii,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,St,Ye,Ke)}}hitTestOverride(je){if(!this.screenPoints)return;const ze=ScreenPointHelper.findNearestPointOnPolyline(je.point,this.screenPoints);if(je.point.minus(ze).length<je.tolerance)return{element:this,nearestHitPoint:ze}}calculateActualMinimumsMaximums(){if(!this.xAxis)throw new Error("xAxis is undefined.");if(!this.yAxis)throw new Error("yAxis is undefined.");this.actualMinimumX=Math.max(this.minimumX,this.xAxis.clipMinimum),this.actualMaximumX=Math.min(this.maximumX,this.xAxis.clipMaximum),this.actualMinimumY=Math.max(this.minimumY,this.yAxis.clipMinimum),this.actualMaximumY=Math.min(this.maximumY,this.yAxis.clipMaximum);const je=this.inverseTransform(this.plotModel.plotArea.topLeft),ze=this.inverseTransform(this.plotModel.plotArea.bottomRight);this.clipByXAxis||(this.actualMaximumX=Math.max(je.x,ze.x),this.actualMinimumX=Math.min(je.x,ze.x)),this.clipByYAxis||(this.actualMaximumY=Math.max(je.y,ze.y),this.actualMinimumY=Math.min(je.y,ze.y))}static getPointAtRelativeDistance(je,ze,qe){if(!je||je.length===0)return;let Xe=0;for(let Ze=1;Ze<je.length;Ze++)Xe+=je[Ze].minus(je[Ze-1]).length;const Ye=Xe*ze+qe,Ke=1e-8;Xe=0;for(let Ze=1;Ze<je.length;Ze++){const Qe=je[Ze].minus(je[Ze-1]).length;if(Ye>=Xe-Ke&&Ye<=Xe+Qe+Ke){const Je=(Ye-Xe)/Qe,St=je[Ze].x*Je+je[Ze-1].x*(1-Je),ei=je[Ze].y*Je+je[Ze-1].y*(1-Je),ti=new ScreenPoint(St,ei),ii=je[Ze].x-je[Ze-1].x,ri=je[Ze].y-je[Ze-1].y,si=Math.atan2(ri,ii)/Math.PI*180;return{position:ti,angle:si}}Xe+=Qe}}}var LineAnnotationType=(Ve=>(Ve[Ve.Horizontal=0]="Horizontal",Ve[Ve.Vertical=1]="Vertical",Ve[Ve.LinearEquation=2]="LinearEquation",Ve))(LineAnnotationType||{});class LineAnnotation extends PathAnnotation{constructor(je){super(je),D$1(this,"intercept",0),D$1(this,"slope",0),D$1(this,"type"),D$1(this,"x",0),D$1(this,"y",0),this.type=2,je&&Object.assign(this,removeUndef(je))}getScreenPoints(){let je,ze;switch(this.type){case 0:je=Xe=>this.y;break;case 1:ze=Xe=>this.x;break;default:je=Xe=>this.slope*Xe+this.intercept;break}const qe=[];if(this.xAxis instanceof LinearAxis&&this.yAxis instanceof LinearAxis)if(je)qe.push(new DataPoint(this.actualMinimumX,je(this.actualMinimumX))),qe.push(new DataPoint(this.actualMaximumX,je(this.actualMaximumX)));else if(ze)qe.push(new DataPoint(ze(this.actualMinimumY),this.actualMinimumY)),qe.push(new DataPoint(ze(this.actualMaximumY),this.actualMaximumY));else throw new Error("fx or fy must be non-undefined.");else if(je){const Xe=(this.actualMaximumX-this.actualMinimumX)/100;for(let Ye=0;Ye<=100;Ye++){const Ke=this.actualMinimumX+Ye*Xe;qe.push(new DataPoint(Ke,je(Ke)))}}else if(ze){const Xe=(this.actualMaximumY-this.actualMinimumY)/100;for(let Ye=0;Ye<=100;Ye++){const Ke=this.actualMinimumY+Ye*Xe;qe.push(new DataPoint(ze(Ke),Ke))}}return qe.map(Xe=>this.transform(Xe))}}class ShapeAnnotation extends TextualAnnotation{constructor(je){super(je),D$1(this,"fill"),D$1(this,"stroke"),D$1(this,"strokeThickness",0),this.stroke=OxyColors.Black,this.fill=OxyColors.LightBlue}}class PointAnnotation extends ShapeAnnotation{constructor(je){super(je),D$1(this,"screenPosition",ScreenPoint.LeftTop),D$1(this,"x",0),D$1(this,"y",0),D$1(this,"size"),D$1(this,"textMargin"),D$1(this,"shape"),D$1(this,"customOutline"),this.size=4,this.textMargin=2,this.shape=MarkerType.Circle,this.textVerticalAlignment=VerticalAlignment.Top,je&&Object.assign(this,removeUndef(je))}async render(je){if(this.screenPosition=PlotElementExtensions.transform(this,this.x,this.y),await RenderingExtensions.drawMarker(je,this.screenPosition,this.shape,this.customOutline,this.size,this.fill,this.stroke,this.strokeThickness,this.edgeRenderingMode),this.text){const[ze,qe]=this.getActualTextAlignment(),Xe=-Number(ze)*(this.size+this.textMargin),Ye=-Number(qe)*(this.size+this.textMargin),Ke=this.screenPosition.plus(new ScreenVector(Xe,Ye));await je.drawText(Ke,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,ze,qe)}}hitTestOverride(je){if(this.screenPosition.distanceTo(je.point)<this.size)return{element:this,nearestHitPoint:this.screenPosition}}}class FunctionAnnotation extends PathAnnotation{constructor(je){super(je),D$1(this,"type"),D$1(this,"equation"),D$1(this,"resolution"),this.resolution=400,this.type=0,je&&Object.assign(this,removeUndef(je))}getScreenPoints(){let je,ze;switch(this.type){case 0:je=this.equation;break;case 1:ze=this.equation;break}const qe=[];if(je){let Xe=this.actualMinimumX;const Ye=(this.actualMaximumX-this.actualMinimumX)/this.resolution;for(;qe.push(new DataPoint(Xe,je(Xe))),!(Xe>this.actualMaximumX);)Xe+=Ye}else if(ze){let Xe=this.actualMinimumY;const Ye=(this.actualMaximumY-this.actualMinimumY)/this.resolution;for(;qe.push(new DataPoint(ze(Xe),Xe)),!(Xe>this.actualMaximumY);)Xe+=Ye}return qe.map(Xe=>this.transform(Xe))}}var FunctionAnnotationType=(Ve=>(Ve[Ve.EquationX=0]="EquationX",Ve[Ve.EquationY=1]="EquationY",Ve))(FunctionAnnotationType||{});class ArrowAnnotation extends TextualAnnotation{constructor(je){super(),D$1(this,"screenEndPoint",ScreenPoint.LeftTop),D$1(this,"screenStartPoint",ScreenPoint.LeftTop),D$1(this,"arrowDirection",ScreenVector.Zero),D$1(this,"color"),D$1(this,"endPoint",DataPoint.Zero),D$1(this,"headLength"),D$1(this,"headWidth"),D$1(this,"lineJoin"),D$1(this,"lineStyle"),D$1(this,"startPoint",DataPoint.Zero),D$1(this,"strokeThickness"),D$1(this,"veeness",0),this.headLength=10,this.headWidth=3,this.color=OxyColors.Blue,this.strokeThickness=2,this.lineStyle=LineStyle.Solid,this.lineJoin=LineJoin.Miter,je&&Object.assign(this,removeUndef(je))}async render(je){this.screenEndPoint=this.transform(this.endPoint),this.arrowDirection.lengthSquared>0?this.screenStartPoint=this.screenEndPoint.minusVector(PlotElementExtensions.orientateVector(this,this.arrowDirection)):this.screenStartPoint=this.transform(this.startPoint);const ze=this.screenEndPoint.minus(this.screenStartPoint);ze.normalize();const qe=new ScreenVector(ze.y,-ze.x),Xe=this.screenEndPoint.minusVector(ze.times(this.headLength*this.strokeThickness)),Ye=Xe.plus(qe.times(this.headWidth*this.strokeThickness)),Ke=Xe.minusVector(qe.times(this.headWidth*this.strokeThickness)),Ze=Xe.plus(ze.times(this.veeness*this.strokeThickness)),Qe=0,Je=LineStyleHelper.getDashArray(this.lineStyle);if(this.strokeThickness>0&&this.lineStyle!==LineStyle.None&&(await RenderingExtensions.drawReducedLine(je,[this.screenStartPoint,Ze],Qe*Qe,this.getSelectableColor(this.color),this.strokeThickness,this.edgeRenderingMode,Je,this.lineJoin),await RenderingExtensions.drawReducedPolygon(je,[Ke,this.screenEndPoint,Ye,Ze],Qe*Qe,this.getSelectableColor(this.color),OxyColors.Undefined,0,this.edgeRenderingMode)),!this.text)return;let St,ei;if(this.textPosition.isDefined())[St,ei]=this.getActualTextAlignment();else{const ii=Math.atan2(ze.y,ze.x),ri=Math.PI/8;ii<3*ri&&ii>-3*ri?St=HorizontalAlignment.Right:ii>5*ri||ii<-5*ri?St=HorizontalAlignment.Left:St=HorizontalAlignment.Center,ii>ri&&ii<7*ri?ei=VerticalAlignment.Bottom:ii<-ri&&ii>-7*ri?ei=VerticalAlignment.Top:ei=VerticalAlignment.Middle}const ti=this.getActualTextPosition(()=>this.screenStartPoint);await je.drawText(ti,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,St,ei)}hitTestOverride(je){if(je.point.minus(this.screenStartPoint).length<je.tolerance)return{element:this,nearestHitPoint:this.screenStartPoint,index:0};if(je.point.minus(this.screenEndPoint).length<je.tolerance)return{element:this,nearestHitPoint:this.screenEndPoint,index:2};const ze=ScreenPointHelper.findPointOnLine(je.point,this.screenStartPoint,this.screenEndPoint);if(ze.minus(je.point).length<je.tolerance)return{element:this,nearestHitPoint:ze}}}class DelegateAnnotation extends Annotation{constructor(je){super(),D$1(this,"rendering"),this.rendering=je}async render(je){await this.rendering(je)}getClippingRect(){return OxyRect.Everything}}class EllipseAnnotation extends ShapeAnnotation{constructor(je){super(je),D$1(this,"screenRectangle",OxyRect.Empty),D$1(this,"x",0),D$1(this,"y",0),D$1(this,"width",0),D$1(this,"height",0),this.width=NaN,this.height=NaN,je&&Object.assign(this,removeUndef(je))}async render(je){const ze=PlotElementExtensions.transform(this,this.x-this.width/2,this.y-this.height/2),qe=PlotElementExtensions.transform(this,this.x+this.width/2,this.y+this.height/2);if(this.screenRectangle=OxyRect.fromScreenPoints(ze,qe),await je.drawEllipse(this.screenRectangle,this.getSelectableFillColor(this.fill),this.getSelectableColor(this.stroke),this.strokeThickness,this.edgeRenderingMode),this.text){const Xe=this.getActualTextPosition(()=>this.screenRectangle.center),[Ye,Ke]=this.getActualTextAlignment();await je.drawText(Xe,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,Ye,Ke)}}hitTestOverride(je){if(this.screenRectangle.containsPoint(je.point))return{element:this,nearestHitPoint:je.point}}}class PolygonAnnotation extends ShapeAnnotation{constructor(je){super(je),D$1(this,"screenPoints",[]),D$1(this,"lineJoin"),D$1(this,"lineStyle"),D$1(this,"minimumSegmentLength"),D$1(this,"points",[]),this.lineStyle=LineStyle.Solid,this.lineJoin=LineJoin.Miter,this.minimumSegmentLength=2,je&&Object.assign(this,je)}async render(je){if(this.points&&(this.screenPoints=this.points.map(ze=>this.transform(ze)),this.screenPoints.length!==0&&(await RenderingExtensions.drawReducedPolygon(je,this.screenPoints,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableFillColor(this.fill),this.getSelectableColor(this.stroke),this.strokeThickness,this.edgeRenderingMode,this.lineStyle,this.lineJoin),this.text))){const[ze,qe]=this.getActualTextAlignment(),Xe=this.getActualTextPosition(()=>ScreenPointHelper.getCentroid(this.screenPoints));await je.drawText(Xe,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,ze,qe)}}hitTestOverride(je){if(!(!this.screenPoints||this.screenPoints.length===0))return ScreenPointHelper.isPointInPolygon(je.point,this.screenPoints)?{element:this,nearestHitPoint:je.point}:void 0}}class PolylineAnnotation extends PathAnnotation{constructor(je){super(je),D$1(this,"_points",[]),D$1(this,"interpolationAlgorithm"),je&&Object.assign(this,removeUndef(je))}get points(){return this._points}getScreenPoints(){const je=this.points.map(ze=>this.transform(ze));if(this.interpolationAlgorithm){const ze=ScreenPointHelper.resamplePoints(je,this.minimumSegmentLength);return this.interpolationAlgorithm.createSplineSp(ze,!1,.25)}return this.points.map(ze=>this.transform(ze))}}class RectangleAnnotation extends ShapeAnnotation{constructor(je){super(je),D$1(this,"screenRectangle",OxyRect.Empty),D$1(this,"minimumX"),D$1(this,"maximumX"),D$1(this,"minimumY"),D$1(this,"maximumY"),this.minimumX=-1/0,this.maximumX=1/0,this.minimumY=-1/0,this.maximumY=1/0,this.textRotation=0,this.textHorizontalAlignment=HorizontalAlignment.Center,this.textVerticalAlignment=VerticalAlignment.Middle,je&&Object.assign(this,removeUndef(je))}async render(je){const ze=this.getClippingRect(),qe=this.inverseTransform(ze.topLeft),Xe=this.inverseTransform(ze.bottomRight),Ye=this.minimumX===-1/0||isNaN(this.minimumX)?Math.min(qe.x,Xe.x):this.minimumX,Ke=this.maximumX===1/0||isNaN(this.maximumX)?Math.max(qe.x,Xe.x):this.maximumX,Ze=this.minimumY===-1/0||isNaN(this.minimumY)?Math.min(qe.y,Xe.y):this.minimumY,Qe=this.maximumY===1/0||isNaN(this.maximumY)?Math.max(qe.y,Xe.y):this.maximumY,Je=PlotElementExtensions.transform;this.screenRectangle=OxyRect.fromScreenPoints(Je(this,Ye,Ze),Je(this,Ke,Qe));const St=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);if(await je.drawRectangle(this.screenRectangle,this.getSelectableFillColor(this.fill),this.getSelectableColor(this.stroke),this.strokeThickness,St),this.text){const[ei,ti]=this.getActualTextAlignment(),ii=this.getActualTextPosition(()=>this.screenRectangle.center);await je.drawText(ii,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,ei,ti)}}hitTestOverride(je){if(this.screenRectangle.containsPoint(je.point))return{element:this,nearestHitPoint:je.point}}}class ImageAnnotation extends TransposableAnnotation{constructor(je){super(je),D$1(this,"actualBounds",OxyRect.Empty),D$1(this,"imageSource"),D$1(this,"horizontalAlignment"),D$1(this,"x"),D$1(this,"y"),D$1(this,"offsetX"),D$1(this,"offsetY"),D$1(this,"width"),D$1(this,"height"),D$1(this,"opacity"),D$1(this,"interpolate"),D$1(this,"verticalAlignment"),this.x=new PlotLength(.5,PlotLengthUnit.RelativeToPlotArea),this.y=new PlotLength(.5,PlotLengthUnit.RelativeToPlotArea),this.offsetX=new PlotLength(0,PlotLengthUnit.ScreenUnits),this.offsetY=new PlotLength(0,PlotLengthUnit.ScreenUnits),this.width=new PlotLength(NaN,PlotLengthUnit.ScreenUnits),this.height=new PlotLength(NaN,PlotLengthUnit.ScreenUnits),this.opacity=1,this.interpolate=!0,this.horizontalAlignment=HorizontalAlignment.Center,this.verticalAlignment=VerticalAlignment.Middle,je&&Object.assign(this,removeUndef(je))}async render(je){if(!this.imageSource)throw new Error(`${this.imageSource} must be non-null before rendering.`);const ze=this.getPoint(this.x,this.y,this.plotModel),qe=this.getVector(this.offsetX,this.offsetY,this.plotModel),Xe=ze.plus(qe),Ye=this.getVector(this.width,this.height,this.plotModel);let Ke=Ye.x,Ze=Ye.y;isNaN(Ke)&&isNaN(Ze)&&(Ke=this.imageSource.width,Ze=this.imageSource.height),isNaN(Ke)&&(Ke=Ze/this.imageSource.height*this.imageSource.width),isNaN(Ze)&&(Ze=Ke/this.imageSource.width*this.imageSource.height),Ke=Math.abs(Ke),Ze=Math.abs(Ze);let Qe=Xe.x,Je=Xe.y;const St=this.horizontalAlignment,ei=this.verticalAlignment;St===HorizontalAlignment.Center?Qe-=Ke*.5:St===HorizontalAlignment.Right&&(Qe-=Ke),ei===VerticalAlignment.Middle?Je-=Ze*.5:ei===VerticalAlignment.Bottom&&(Je-=Ze),this.actualBounds=new OxyRect(Qe,Je,Ke,Ze),await RenderingExtensions.drawImage(je,this.imageSource,Qe,Je,Ke,Ze,this.opacity,this.interpolate)}hitTestOverride(je){if(this.actualBounds.containsPoint(je.point))return{element:this,nearestHitPoint:je.point}}getPoint(je,ze,qe){let Xe=NaN,Ye=NaN;if(je.unit===PlotLengthUnit.Data||ze.unit===PlotLengthUnit.Data){const Ke=je.unit===PlotLengthUnit.Data?je.value:NaN,Ze=ze.unit===PlotLengthUnit.Data?ze.value:NaN,Qe=PlotElementExtensions.transform(this,Ke,Ze);Xe=Qe.x,Ye=Qe.y}switch(je.unit){case PlotLengthUnit.Data:break;case PlotLengthUnit.ScreenUnits:Xe=je.value;break;case PlotLengthUnit.RelativeToViewport:Xe=qe.width*je.value;break;case PlotLengthUnit.RelativeToPlotArea:Xe=qe.plotArea.left+qe.plotArea.width*je.value;break;default:throw new Error("Invalid unit")}switch(ze.unit){case PlotLengthUnit.Data:break;case PlotLengthUnit.ScreenUnits:Ye=ze.value;break;case PlotLengthUnit.RelativeToViewport:Ye=qe.height*ze.value;break;case PlotLengthUnit.RelativeToPlotArea:Ye=qe.plotArea.top+qe.plotArea.height*ze.value;break;default:throw new Error("Invalid unit")}return new ScreenPoint(Xe,Ye)}getVector(je,ze,qe){let Xe=NaN,Ye=NaN;if(je.unit===PlotLengthUnit.Data||ze.unit===PlotLengthUnit.Data){const Ke=je.unit===PlotLengthUnit.Data?je.value:NaN,Ze=ze.unit===PlotLengthUnit.Data?ze.value:NaN,Qe=PlotElementExtensions.transform(this,Ke,Ze).minus(this.transform(DataPoint.Zero));Xe=Qe.x,Ye=Qe.y}switch(je.unit){case PlotLengthUnit.Data:break;case PlotLengthUnit.ScreenUnits:Xe=je.value;break;case PlotLengthUnit.RelativeToViewport:Xe=qe.width*je.value;break;case PlotLengthUnit.RelativeToPlotArea:Xe=qe.plotArea.width*je.value;break;default:throw new Error("Invalid unit")}switch(ze.unit){case PlotLengthUnit.Data:break;case PlotLengthUnit.ScreenUnits:Ye=ze.value;break;case PlotLengthUnit.RelativeToViewport:Ye=qe.height*ze.value;break;case PlotLengthUnit.RelativeToPlotArea:Ye=qe.plotArea.height*ze.value;break;default:throw new Error("Invalid unit")}return new ScreenVector(Xe,Ye)}getClippingRect(){return this.x.unit===PlotLengthUnit.Data||this.y.unit===PlotLengthUnit.Data?super.getClippingRect():OxyRect.Everything}}const Zt$1=class Yl extends PlotElement{constructor(je){super(je),D$1(this,"_offset",0),D$1(this,"_scale",1),D$1(this,"axisChanged"),D$1(this,"transformChanged"),D$1(this,"absoluteMaximum"),D$1(this,"absoluteMinimum"),D$1(this,"_actualMajorStep",0),D$1(this,"minimumMajorIntervalCount"),D$1(this,"maximumMajorIntervalCount"),D$1(this,"_actualMaximum",0),D$1(this,"_actualMinimum",0),D$1(this,"_clipMaximum",0),D$1(this,"_clipMinimum",0),D$1(this,"_actualMinorStep",0),D$1(this,"_actualStringFormatter"),D$1(this,"angle"),D$1(this,"axisTickToLabelDistance"),D$1(this,"axisTitleDistance"),D$1(this,"axisDistance"),D$1(this,"axislineColor"),D$1(this,"axislineStyle"),D$1(this,"axislineThickness"),D$1(this,"clipTitle"),D$1(this,"cropGridlines",!1),D$1(this,"_dataMaximum",0),D$1(this,"_dataMinimum",0),D$1(this,"endPosition"),D$1(this,"extraGridlineColor"),D$1(this,"extraGridlineStyle"),D$1(this,"extraGridlineThickness"),D$1(this,"extraGridlines"),D$1(this,"filterFunction"),D$1(this,"filterMaxValue"),D$1(this,"filterMinValue"),D$1(this,"intervalLength"),D$1(this,"isAxisVisible"),D$1(this,"isPanEnabled"),D$1(this,"isZoomEnabled"),D$1(this,"key"),D$1(this,"labelFormatter"),D$1(this,"layer"),D$1(this,"majorGridlineColor"),D$1(this,"majorGridlineStyle"),D$1(this,"majorGridlineThickness"),D$1(this,"majorStep"),D$1(this,"majorTickSize"),D$1(this,"maximum"),D$1(this,"maximumPadding"),D$1(this,"maximumDataMargin"),D$1(this,"maximumMargin"),D$1(this,"maximumRange"),D$1(this,"minimum"),D$1(this,"minimumMajorStep"),D$1(this,"minimumMinorStep"),D$1(this,"minimumPadding"),D$1(this,"minimumDataMargin"),D$1(this,"minimumMargin"),D$1(this,"minimumRange"),D$1(this,"minorGridlineColor"),D$1(this,"minorGridlineStyle"),D$1(this,"minorGridlineThickness"),D$1(this,"minorStep"),D$1(this,"minorTicklineColor"),D$1(this,"minorTickSize"),D$1(this,"position",AxisPosition.Left),D$1(this,"positionAtZeroCrossing",!1),D$1(this,"positionTier",0),D$1(this,"_screenMax",ScreenPoint.Undefined),D$1(this,"_screenMin",ScreenPoint.Undefined),D$1(this,"startPosition"),D$1(this,"stringFormatter"),D$1(this,"tickStyle"),D$1(this,"ticklineColor"),D$1(this,"title"),D$1(this,"titleClippingLength"),D$1(this,"titleColor"),D$1(this,"titleFont"),D$1(this,"titleFontSize"),D$1(this,"titleFontWeight"),D$1(this,"titleFormatter"),D$1(this,"titlePosition"),D$1(this,"unit"),D$1(this,"useSuperExponentialFormat",!1),D$1(this,"_desiredMargin",OxyThickness.Zero),D$1(this,"positionTierMaxShift",0),D$1(this,"positionTierMinShift",0),D$1(this,"positionTierSize",0),D$1(this,"viewMaximum"),D$1(this,"viewMinimum"),this.position=AxisPosition.Left,this.positionTier=0,this.isAxisVisible=!0,this.layer=AxisLayer.BelowSeries,this.viewMaximum=Number.NaN,this.viewMinimum=Number.NaN,this.absoluteMaximum=Number_MAX_VALUE,this.absoluteMinimum=Number_MIN_VALUE,this.minimum=Number.NaN,this.maximum=Number.NaN,this.minorStep=Number.NaN,this.majorStep=Number.NaN,this.minimumMinorStep=0,this.minimumMajorStep=0,this.minimumMajorIntervalCount=2,this.maximumMajorIntervalCount=Number_MAX_VALUE,this.minimumPadding=.01,this.maximumPadding=.01,this.minimumRange=0,this.maximumRange=Number.POSITIVE_INFINITY,this.minimumDataMargin=0,this.maximumDataMargin=0,this.minimumMargin=0,this.maximumMargin=0,this.tickStyle=TickStyle.Outside,this.ticklineColor=OxyColors.Black,this.minorTicklineColor=OxyColors.Automatic,this.axislineStyle=LineStyle.None,this.axislineColor=OxyColors.Black,this.axislineThickness=1,this.majorGridlineStyle=LineStyle.None,this.majorGridlineColor=OxyColor.fromArgb(64,0,0,0),this.majorGridlineThickness=1,this.minorGridlineStyle=LineStyle.None,this.minorGridlineColor=OxyColor.fromArgb(32,0,0,0),this.minorGridlineThickness=1,this.extraGridlineStyle=LineStyle.Solid,this.extraGridlineColor=OxyColors.Black,this.extraGridlineThickness=1,this.minorTickSize=4,this.majorTickSize=7,this.startPosition=0,this.endPosition=1,this.titlePosition=.5,this.titleFormatter=(ze,qe)=>`${ze||""} [${qe||""}]`,this.titleClippingLength=.9,this.titleColor=OxyColors.Automatic,this.titleFontSize=Number.NaN,this.titleFontWeight=FontWeights.Normal,this.clipTitle=!0,this.angle=0,this.isZoomEnabled=!0,this.isPanEnabled=!0,this.filterMinValue=Number_MIN_VALUE,this.filterMaxValue=Number_MAX_VALUE,this.filterFunction=void 0,this.intervalLength=60,this.axisDistance=0,this.axisTitleDistance=4,this.axisTickToLabelDistance=4,this.dataMaximum=Number.NaN,this.dataMinimum=Number.NaN}get actualMajorStep(){return this._actualMajorStep}set actualMajorStep(je){this._actualMajorStep=je}get actualMaximum(){return this._actualMaximum}set actualMaximum(je){this._actualMaximum=je}get actualMinimum(){return this._actualMinimum}set actualMinimum(je){this._actualMinimum=je}get clipMaximum(){return this._clipMaximum}set clipMaximum(je){this._clipMaximum=je}get clipMinimum(){return this._clipMinimum}set clipMinimum(je){this._clipMinimum=je}get actualMinorStep(){return this._actualMinorStep}set actualMinorStep(je){this._actualMinorStep=je}get actualStringFormatter(){return this._actualStringFormatter}set actualStringFormatter(je){this._actualStringFormatter=je}get actualTitle(){return this.unit?`${this.title} [${this.unit}]`:this.title}get dataMaximum(){return this._dataMaximum}set dataMaximum(je){this._dataMaximum=je}get dataMinimum(){return this._dataMinimum}set dataMinimum(je){this._dataMinimum=je}get isReversed(){return this.startPosition>this.endPosition}get offset(){return this._offset}get scale(){return this._scale}get screenMax(){return this._screenMax}set screenMax(je){this._screenMax=je}get screenMin(){return this._screenMin}set screenMin(je){this._screenMin=je}get desiredMargin(){return this._desiredMargin}set desiredMargin(je){this._desiredMargin=je}get actualTitleColor(){return this.titleColor.getActualColor(this.plotModel.textColor)}get actualTitleFont(){return this.titleFont||this.plotModel.defaultFont}get actualTitleFontSize(){return isNaN(this.titleFontSize)?this.actualFontSize:this.titleFontSize}get actualTitleFontWeight(){return isNaN(this.titleFontWeight)?this.actualFontWeight:this.titleFontWeight}itemToDouble(je){return Number(je)}static inverseTransform(je,ze,qe){return ze.inverseTransformPoint(je.x,je.y,qe)}formatValue(je){return this.labelFormatter?this.labelFormatter(je):this.formatValueOverride(je)}getTickValues(){const je=[],ze=[],qe=[],Xe=this.createTickValues(this.clipMinimum,this.clipMaximum,this.actualMinorStep);return ze.push(...this.createTickValues(this.clipMinimum,this.clipMaximum,this.actualMajorStep)),je.push(...ze),qe.push(...AxisUtilities.filterRedundantMinorTicks(ze,Xe)),{majorLabelValues:je,majorTickValues:ze,minorTickValues:qe}}getValue(je){return je}inverseTransformPoint(je,ze,qe){return new DataPoint(this.inverseTransform(je),qe?qe.inverseTransform(ze):0)}inverseTransform(je){return je/this._scale+this._offset}isHorizontal(){return this.position===AxisPosition.Top||this.position===AxisPosition.Bottom}isValidValue(je){return Number.isFinite(je)&&je<this.filterMaxValue&&je>this.filterMinValue&&(!this.filterFunction||this.filterFunction(je))}isVertical(){return this.position===AxisPosition.Left||this.position===AxisPosition.Right}isLogarithmic(){return!1}measure(je){if(this.position===AxisPosition.None){this.desiredMargin=new OxyThickness(0);return}const{majorLabelValues:ze}=this.getTickValues();let qe=new OxySize;for(const ti of ze){const ii=this.formatValue(ti),ri=RenderingExtensions.measureText(je,ii,this.actualFont,this.actualFontSize,this.actualFontWeight,this.angle);qe=qe.include(ri)}const Xe=je.measureText(this.actualTitle||"",this.actualTitleFont,this.actualTitleFontSize,this.actualTitleFontWeight);let Ye=0,Ke=0,Ze=0,Qe=0;const Je=Math.max(0,this.isReversed?this.maximumMargin:this.minimumMargin),St=Math.max(0,this.isReversed?this.minimumMargin:this.maximumMargin);let ei=0;switch(this.tickStyle){case TickStyle.Outside:ei=this.majorTickSize;break;case TickStyle.Crossing:ei=this.majorTickSize*.75;break}switch(ei+=this.axisDistance+this.axisTickToLabelDistance,Xe.height>0&&(ei+=this.axisTitleDistance+Xe.height),this.position){case AxisPosition.Left:Ye=ei+qe.width;break;case AxisPosition.Right:Ze=ei+qe.width;break;case AxisPosition.Top:Ke=ei+qe.height;break;case AxisPosition.Bottom:Qe=ei+qe.height;break;case AxisPosition.All:Ye=Ze=ei+qe.width,Ke=Qe=ei+qe.height;break;default:throw new Error("Invalid operation")}if(this.isPanEnabled||this.isZoomEnabled){const ti=Math.min(this.startPosition,this.endPosition)<.01,ii=Math.max(this.startPosition,this.endPosition)>.99;switch(this.position){case AxisPosition.Left:case AxisPosition.Right:ti&&(Qe=Math.max(0,qe.height/2-Je)),ii&&(Ke=Math.max(0,qe.height/2-St));break;case AxisPosition.Top:case AxisPosition.Bottom:ti&&(Ye=Math.max(0,qe.width/2-Je)),ii&&(Ze=Math.max(0,qe.width/2-St));break}}else if(ze.length>0){const ti=Math.min(...ze),ii=Math.max(...ze),ri=this.formatValue(ti),si=this.formatValue(ii);let ui=RenderingExtensions.measureText(je,ri,this.actualFont,this.actualFontSize,this.actualFontWeight,this.angle),ai=RenderingExtensions.measureText(je,si,this.actualFont,this.actualFontSize,this.actualFontWeight,this.angle),oi=this.transform(ti),ni=this.transform(ii);oi>ni&&([oi,ni]=[ni,oi],[ui,ai]=[ai,ui]);let ci=0,hi=0,di=0,fi=0;switch(this.position){case AxisPosition.Left:case AxisPosition.Right:ci=Math.min(this.screenMin.y,this.screenMax.y),hi=Math.max(this.screenMin.y,this.screenMax.y),Ke=Math.max(0,ci-oi+ui.height/2-Je),Qe=Math.max(0,ni-hi+ai.height/2-St);break;case AxisPosition.Top:case AxisPosition.Bottom:di=Math.min(this.screenMin.x,this.screenMax.x),fi=Math.max(this.screenMin.x,this.screenMax.x),Ye=Math.max(0,di-oi+ui.width/2-Je),Ze=Math.max(0,ni-fi+ai.width/2-St);break}}this.desiredMargin=new OxyThickness(Ye,Ke,Ze,Qe)}pan(je,ze){if(typeof je=="number"){this.pan2(je);return}this.pan1(je,ze)}pan1(je,ze){if(!this.isPanEnabled)return;const qe=this.isHorizontal()?ze.x-je.x:ze.y-je.y;this.pan(qe)}pan2(je){if(!this.isPanEnabled)return;const ze=this.actualMinimum,qe=this.actualMaximum,Xe=je/this._scale;let Ye=this.actualMinimum-Xe,Ke=this.actualMaximum-Xe;Ye<this.absoluteMinimum&&(Ye=this.absoluteMinimum,Ke=Math.min(Ye+this.actualMaximum-this.actualMinimum,this.absoluteMaximum)),Ke>this.absoluteMaximum&&(Ke=this.absoluteMaximum,Ye=Math.max(Ke-(this.actualMaximum-this.actualMinimum),this.absoluteMinimum)),this.viewMinimum=Ye,this.viewMaximum=Ke,this.updateActualMaxMin();const Ze=this.actualMinimum-ze,Qe=this.actualMaximum-qe;this.onAxisChanged({changeType:AxisChangeTypes.Pan,deltaMaximum:Qe,deltaMinimum:Ze})}async render(je,ze){this.position!==AxisPosition.None&&await new HorizontalAndVerticalAxisRenderer(je,this.plotModel).render(this,ze)}reset(){const je=this.actualMinimum,ze=this.actualMaximum;this.viewMinimum=NaN,this.viewMaximum=NaN,this.updateActualMaxMin();const qe=this.actualMinimum-je,Xe=this.actualMaximum-ze;this.onAxisChanged({changeType:AxisChangeTypes.Reset,deltaMinimum:qe,deltaMaximum:Xe})}toString(){return`${this.constructor.name}(${this.position}, ${this.clipMinimum}, ${this.clipMaximum}, ${this.actualMajorStep})`}transformPoint(je,ze,qe){if(!qe)throw new Error("Y axis should not be null when transforming.");return new ScreenPoint(this.transform(je),qe.transform(ze))}transform(je){return(je-this._offset)*this._scale}zoomScale(je){const ze=this.actualMinimum,qe=this.actualMaximum,Xe=this.transform(this.actualMaximum),Ye=this.transform(this.actualMinimum),Ke=Math.sign(this._scale),Ze=(this.preTransform(this.actualMaximum)+this.preTransform(this.actualMinimum))/2,Qe=(this._offset-Ze)*this._scale/(Ke*je)+Ze;this.setTransform(Ke*je,Qe);let Je=this.inverseTransform(Xe),St=this.inverseTransform(Ye);if(St<this.absoluteMinimum&&Je>this.absoluteMaximum)St=this.absoluteMinimum,Je=this.absoluteMaximum;else if(St<this.absoluteMinimum){const ii=Je-St;St=this.absoluteMinimum,Je=this.absoluteMinimum+ii,Je>this.absoluteMaximum&&(Je=this.absoluteMaximum)}else if(Je>this.absoluteMaximum){const ii=Je-St;Je=this.absoluteMaximum,St=this.absoluteMaximum-ii,St<this.absoluteMinimum&&(St=this.absoluteMinimum)}this.clipMaximum=this.viewMaximum=Je,this.clipMinimum=this.viewMinimum=St,this.updateActualMaxMin();const ei=this.actualMinimum-ze,ti=this.actualMaximum-qe;this.actualMaximumAndMinimumChangedOverride(),this.onAxisChanged({changeType:AxisChangeTypes.Zoom,deltaMinimum:ei,deltaMaximum:ti})}zoom(je,ze){if(!this.isZoomEnabled)return;const qe=this.actualMinimum,Xe=this.actualMaximum,Ye=Math.max(Math.min(je,ze),this.absoluteMinimum),Ke=Math.min(Math.max(je,ze),this.absoluteMaximum);this.viewMinimum=Ye,this.viewMaximum=Ke,this.updateActualMaxMin();const Ze=this.actualMinimum-qe,Qe=this.actualMaximum-Xe;this.onAxisChanged({changeType:AxisChangeTypes.Zoom,deltaMinimum:Ze,deltaMaximum:Qe})}zoomAt(je,ze){if(!this.isZoomEnabled)return;const qe=this.actualMinimum,Xe=this.actualMaximum,Ye=(this.actualMinimum-ze)*this._scale,Ke=(this.actualMaximum-ze)*this._scale;this._scale*=je;let Ze=Ye/this._scale+ze,Qe=Ke/this._scale+ze;if(Qe-Ze>this.maximumRange){const ei=(Ze+Qe)*.5;Qe=ei+this.maximumRange*.5,Ze=ei-this.maximumRange*.5}if(Qe-Ze<this.minimumRange){const ei=(Ze+Qe)*.5;Qe=ei+this.minimumRange*.5,Ze=ei-this.minimumRange*.5}Ze=Math.max(Ze,this.absoluteMinimum),Qe=Math.min(Qe,this.absoluteMaximum),this.viewMinimum=Ze,this.viewMaximum=Qe,this.updateActualMaxMin();const Je=this.actualMinimum-qe,St=this.actualMaximum-Xe;this.onAxisChanged({changeType:AxisChangeTypes.Zoom,deltaMinimum:Je,deltaMaximum:St})}zoomAtCenter(je){const ze=(this.transform(this.clipMaximum)+this.transform(this.clipMinimum))*.5,qe=this.inverseTransform(ze);this.zoomAt(je,qe)}include(je){this.isValidValue(je)&&(this.dataMinimum=isNaN(this.dataMinimum)?je:Math.min(this.dataMinimum,je),this.dataMaximum=isNaN(this.dataMaximum)?je:Math.max(this.dataMaximum,je))}resetDataMaxMin(){this.dataMaximum=this.dataMinimum=this.actualMaximum=this.actualMinimum=NaN}updateActualMaxMin(){isNaN(this.viewMaximum)?isNaN(this.maximum)?this.actualMaximum=this.calculateActualMaximum():this.actualMaximum=this.maximum:this.actualMaximum=this.viewMaximum,isNaN(this.viewMinimum)?isNaN(this.minimum)?this.actualMinimum=this.calculateActualMinimum():this.actualMinimum=this.minimum:this.actualMinimum=this.viewMinimum,this.coerceActualMaxMin()}updateIntervals(je){const ze=this.intervalLength;let qe=this.isHorizontal()?je.width:je.height;qe*=Math.abs(this.endPosition-this.startPosition),this.actualMajorStep=isNaN(this.majorStep)?this.calculateActualInterval(qe,ze,this.minimumMajorIntervalCount,this.maximumMajorIntervalCount):this.majorStep,this.actualMinorStep=isNaN(this.minorStep)?this.calculateMinorInterval(this.actualMajorStep):this.minorStep,isNaN(this.actualMinorStep)&&(this.actualMinorStep=2),isNaN(this.actualMajorStep)&&(this.actualMajorStep=10),this.actualMinorStep=Math.max(this.actualMinorStep,this.minimumMinorStep),this.actualMajorStep=Math.max(this.actualMajorStep,this.minimumMajorStep),this.actualStringFormatter=this.stringFormatter||this.getDefaultStringFormatter()}updateTransform(je){const ze=je.left,qe=je.right,Xe=je.bottom,Ye=je.top;let Ke=this.isHorizontal()?ze:Xe,Ze=this.isHorizontal()?qe:Ye;const Qe=Ze-Ke;Ze=Ke+this.endPosition*Qe,Ke=Ke+this.startPosition*Qe;const Je=this.isHorizontal()!=this.isReversed?1:-1;this.minimumMargin>0&&(Ke+=this.minimumMargin*Je),this.maximumMargin>0&&(Ze-=this.maximumMargin*Je),this.isHorizontal()?(this.screenMin=new ScreenPoint(Ke,Ye),this.screenMax=new ScreenPoint(Ze,Xe)):this.isVertical()&&(this.screenMin=new ScreenPoint(ze,Ze),this.screenMax=new ScreenPoint(qe,Ke)),this.minimumDataMargin>0&&(Ke+=this.minimumDataMargin*Je),this.maximumDataMargin>0&&(Ze-=this.maximumDataMargin*Je),this.actualMaximum-this.actualMinimum<=0&&(this.actualMaximum=this.actualMinimum+1);const St=this.preTransform(this.actualMaximum),ei=this.preTransform(this.actualMinimum),ti=Ke-Ze;let ii,ri;Math.abs(ti)>Number.EPSILON?ii=Ke/ti*St-Ze/ti*ei:ii=0;const si=St-ei;Math.abs(si)>Number.EPSILON?ri=(Ze-Ke)/si:ri=1,this.setTransform(ri,ii),this.minimumDataMargin>0?this.clipMinimum=this.inverseTransform(Ke-this.minimumDataMargin*Je):this.clipMinimum=this.actualMinimum,this.maximumDataMargin>0?this.clipMaximum=this.inverseTransform(Ze+this.maximumDataMargin*Je):this.clipMaximum=this.actualMaximum,this.actualMaximumAndMinimumChangedOverride()}actualMaximumAndMinimumChangedOverride(){}getDefaultStringFormatter(){return je=>pettyNumber(je,4)}postInverseTransform(je){return je}preTransform(je){return je}calculateMinorInterval(je){return AxisUtilities.calculateMinorInterval(je)}createTickValues(je,ze,qe,Xe=1e3){return AxisUtilities.createTickValues(je,ze,qe,Xe)}coerceActualMaxMin(){if(this.absoluteMaximum<=this.absoluteMinimum)throw new Error("AbsoluteMaximum must be larger than AbsoluteMinimum.");if(this.absoluteMaximum-this.absoluteMinimum<this.minimumRange)throw new Error("MinimumRange must not be larger than AbsoluteMaximum-AbsoluteMinimum.");if(this.maximumRange<this.minimumRange)throw new Error("MinimumRange must not be larger than MaximumRange.");if((isNaN(this.actualMinimum)||isInfinity(this.actualMinimum))&&(this.actualMinimum=0),(isNaN(this.actualMaximum)||isInfinity(this.actualMaximum))&&(this.actualMaximum=100),this.absoluteMinimum>Number_MIN_VALUE&&this.absoluteMinimum<Number_MAX_VALUE&&(this.actualMinimum=Math.max(this.actualMinimum,this.absoluteMinimum),this.maximumRange<Number_MAX_VALUE&&(this.actualMaximum=Math.min(this.actualMaximum,this.absoluteMinimum+this.maximumRange))),this.absoluteMaximum>Number_MIN_VALUE&&this.absoluteMaximum<Number_MAX_VALUE&&(this.actualMaximum=Math.min(this.actualMaximum,this.absoluteMaximum),this.maximumRange<Number_MAX_VALUE&&(this.actualMinimum=Math.max(this.actualMinimum,this.absoluteMaximum-this.maximumRange))),this.actualMaximum-this.actualMinimum<this.minimumRange)if(this.actualMinimum+this.minimumRange<this.absoluteMaximum){const je=(this.actualMaximum+this.actualMinimum)*.5,ze=this.minimumRange/2;if(this.actualMinimum=je-ze,this.actualMaximum=je+ze,this.actualMinimum<this.absoluteMinimum){const qe=this.absoluteMinimum-this.actualMinimum;this.actualMinimum=this.absoluteMinimum,this.actualMaximum+=qe}if(this.actualMaximum>this.absoluteMaximum){const qe=this.absoluteMaximum-this.actualMaximum;this.actualMaximum=this.absoluteMaximum,this.actualMinimum+=qe}}else this.absoluteMaximum-this.minimumRange>this.absoluteMinimum?(this.actualMinimum=this.absoluteMaximum-this.minimumRange,this.actualMaximum=this.absoluteMaximum):(this.actualMaximum=this.absoluteMaximum,this.actualMinimum=this.absoluteMinimum);if(this.actualMaximum-this.actualMinimum>this.maximumRange)if(this.actualMinimum+this.maximumRange<this.absoluteMaximum){const je=(this.actualMaximum+this.actualMinimum)*.5,ze=this.maximumRange/2;if(this.actualMinimum=je-ze,this.actualMaximum=je+ze,this.actualMinimum<this.absoluteMinimum){const qe=this.absoluteMinimum-this.actualMinimum;this.actualMinimum=this.absoluteMinimum,this.actualMaximum+=qe}if(this.actualMaximum>this.absoluteMaximum){const qe=this.absoluteMaximum-this.actualMaximum;this.actualMaximum=this.absoluteMaximum,this.actualMinimum+=qe}}else this.absoluteMaximum-this.maximumRange>this.absoluteMinimum?(this.actualMinimum=this.absoluteMaximum-this.maximumRange,this.actualMaximum=this.absoluteMaximum):(this.actualMaximum=this.absoluteMaximum,this.actualMinimum=this.absoluteMinimum);this.actualMaximum<=this.actualMinimum&&(this.actualMaximum=this.actualMinimum+100)}formatValueOverride(je){let ze=this.stringFormatter;if(this.useSuperExponentialFormat&&je!==0){const qe=Yl.Exponent(je),Xe=Yl.Mantissa(je);if(ze){if(typeof ze=="function")return`${ze(je)}10^{${qe}}`}else return Math.abs(Xe-1)<1e-6?`10^{${qe}}`:`${Xe}10^{${qe}}`;throw new Error("invalid stringFormat")}if(ze=this.actualStringFormatter||this.stringFormatter,typeof ze=="function")return ze(je);if(!ze)return je.toString();throw new Error("invalid stringFormat")}calculateActualMaximum(){let je=this.dataMaximum;if(this.dataMaximum-this.dataMinimum<=0){const ze=this.dataMaximum>0?this.dataMaximum:1;je+=ze*.5}if(!isNaN(this.dataMinimum)&&!isNaN(je)){const ze=this.preTransform(je),qe=this.preTransform(this.dataMinimum),Xe=this.maximumPadding*(ze-qe);return this.postInverseTransform(ze+Xe)}return je}calculateActualMinimum(){let je=this.dataMinimum;if(this.dataMaximum-this.dataMinimum<=0){const ze=this.dataMaximum>0?this.dataMaximum:1;je-=ze*.5}if(!isNaN(this.actualMaximum)){const ze=this.preTransform(this.actualMaximum),qe=this.preTransform(je),Xe=this.maximumPadding,Ye=this.minimumPadding*((ze-qe)/(1+Xe));return this.postInverseTransform(qe-Ye)}return je}setTransform(je,ze){this._scale=je,this._offset=ze,this.onTransformChanged()}calculateActualInterval(je,ze,qe,Xe,Ye){if(isNullOrUndef(Ye)&&(Ye=Math.abs(this.clipMinimum-this.clipMaximum)),je<=0)return ze;if(Math.abs(ze)<=0)throw new Error("Maximum interval size cannot be zero.");if(Math.abs(Ye)<=0)throw new Error("Range cannot be zero.");const Ke=ei=>Math.ceil(Math.log10(ei)),Ze=ei=>ei/Math.pow(10,Ke(ei)-1);qe=Math.max(qe,0),Xe=Math.min(Xe,je/ze),Ye=Math.abs(Ye);let Qe=Math.pow(10,Ke(Ye)),Je=Qe;const St=ei=>parseFloat(ei.toPrecision(14));for(;Ze(Je)===5?Je=St(Je/2.5):Je=St(Je/2),!(Ye/Qe>=qe&&Ye/Je>Xe||isNaN(Je)||isInfinity(Je));)Qe=Je;return Qe}onAxisChanged(je){this.updateActualMaxMin();const ze=this.axisChanged;ze&&ze(this,je)}onTransformChanged(){const je=this.transformChanged;je&&je(this)}};D$1(Zt$1,"Exponent",Ve=>Math.floor(Zt$1.ThresholdRound(Math.log(Math.abs(Ve))/Math.LN10))),D$1(Zt$1,"Mantissa",Ve=>Zt$1.ThresholdRound(Ve/Math.pow(10,Zt$1.Exponent(Ve)))),D$1(Zt$1,"ThresholdRound",Ve=>Math.abs(Math.round(Ve)-Ve)<1e-6?Math.round(Ve):Ve);let Axis=Zt$1;class LinearAxis extends Axis{constructor(je){super(),D$1(this,"formatAsFractions"),D$1(this,"fractionUnit"),D$1(this,"fractionUnitSymbol"),this.fractionUnit=1,this.fractionUnitSymbol=void 0,this.formatAsFractions=!1,je&&Object.assign(this,removeUndef(je))}isXyAxis(){return!0}isLogarithmic(){return!1}formatValueOverride(je){return this.formatAsFractions?FractionHelper.convertToFractionString(je,this.fractionUnit,this.fractionUnitSymbol,1e-6,this.stringFormatter):super.formatValueOverride(je)}}class AngleAxis extends LinearAxis{constructor(je){super(je),D$1(this,"startAngle"),D$1(this,"endAngle"),this.position=AxisPosition.All,this.tickStyle=TickStyle.None,this.isPanEnabled=!1,this.isZoomEnabled=!1,this.majorGridlineStyle=LineStyle.Solid,this.minorGridlineStyle=LineStyle.Solid,this.startAngle=0,this.endAngle=360,je&&Object.assign(this,removeUndef(je))}getTickValues(){const je=this.startAngle/this.scale,ze=this.endAngle/this.scale;let qe=this.createTickValues(je,ze,this.actualMinorStep);const Xe=this.createTickValues(je,ze,this.actualMajorStep),Ye=this.createTickValues(this.minimum,this.maximum,this.actualMajorStep);return qe=AxisUtilities.filterRedundantMinorTicks(Xe,qe),{majorLabelValues:Ye,majorTickValues:Xe,minorTickValues:qe}}inverseTransformPoint(je,ze,qe){throw new Error("Angle axis should always be the y-axis.")}isXyAxis(){return!1}async render(je,ze){await new AngleAxisRenderer(je,this.plotModel).render(this,ze)}transformPoint(je,ze,qe){throw new Error("Angle axis should always be the y-axis.")}updateTransform(je){const ze=je.left,qe=je.right,Xe=je.bottom,Ye=je.top;this.screenMin=new ScreenPoint(ze,Ye),this.screenMax=new ScreenPoint(qe,Xe);const Ke=(this.endAngle-this.startAngle)/(this.actualMaximum-this.actualMinimum),Ze=this.actualMinimum-this.startAngle/Ke;this.setTransform(Ke,Ze),this.clipMinimum=this.actualMinimum,this.clipMaximum=this.actualMaximum}}class AngleAxisFullPlotArea extends AngleAxis{async render(je,ze){await new AngleAxisFullPlotAreaRenderer(je,this.plotModel).render(this,ze)}}var AxisChangeTypes=(Ve=>(Ve[Ve.Zoom=0]="Zoom",Ve[Ve.Pan=1]="Pan",Ve[Ve.Reset=2]="Reset",Ve))(AxisChangeTypes||{}),AxisLayer=(Ve=>(Ve[Ve.BelowSeries=0]="BelowSeries",Ve[Ve.AboveSeries=1]="AboveSeries",Ve))(AxisLayer||{}),AxisPosition=(Ve=>(Ve[Ve.None=0]="None",Ve[Ve.Left=1]="Left",Ve[Ve.Right=2]="Right",Ve[Ve.Top=3]="Top",Ve[Ve.Bottom=4]="Bottom",Ve[Ve.All=5]="All",Ve))(AxisPosition||{});class AxisUtilities{static calculateMinorInterval(je){return Math.abs((Math.log10(je)+1e3)%1-Math.log10(2))<1e-10?je/4:je/5}static calculateMinorInterval2(je){const ze=Math.ceil(Math.log(je)/Math.LN10);return(je/Math.pow(10,ze-1)|0)===2?je/4:je/5}static createTickValues(je,ze,qe,Xe=1e3){if(qe<=0)throw new Error("Step cannot be zero or negative.");ze<je&&(qe=-qe);const Ye=qe*.001;je-=Ye,ze+=Ye;let Ke=Math.ceil(je/qe)*qe;Math.abs(Ke)<Number.EPSILON&&(Ke=0);const Ze=[],Qe=Math.sign(qe);let Je=0,St=Ke;for(;(ze-St)*Qe>=0&&Je<Xe;)Ze.push(St),St=Ke+ ++Je*qe;return Ze}static filterRedundantMinorTicks(je,ze){if(je.length===0||ze.length===0)return ze;const qe=[];let Xe=0,Ye=1,Ke=je.length>1?je[Ye]:je[0];const Ze=(St,ei)=>Math.abs(St-ei)*.001;let Qe=ze.length>1?Ze(ze[0],ze[1]):0,Je=1;je.length>1&&je[0]>je[1]&&(Je=-1);for(let St=0;St<ze.length;St++){const ei=ze[St];for(St>0&&(Qe=Ze(ei,Xe));(Ke-ei)*Je<0&&Ye<je.length-1;)Ke=je[++Ye];const ti=je[Ye-1];Math.abs(ei-Ke)>Qe&&Math.abs(ei-ti)>Qe&&qe.push(ei),Xe=ei}return qe}}class CategoryAxis extends LinearAxis{constructor(je){super(je),D$1(this,"_autoGeneratedLabels",[]),D$1(this,"_itemsSourceLabels",[]),D$1(this,"gapWidth"),D$1(this,"isTickCentered",!1),D$1(this,"itemsSource"),D$1(this,"labelField"),D$1(this,"_labels",[]),this.tickStyle=TickStyle.Outside,this.position=AxisPosition.Bottom,this.minimumPadding=0,this.maximumPadding=0,this.majorStep=1,this.gapWidth=1,je&&Object.assign(this,removeUndef(je))}get actualLabels(){return this.itemsSource?this._itemsSourceLabels:this.labels.length>0?this.labels:this._autoGeneratedLabels}get labels(){return this._labels}getTickValues(){const{majorLabelValues:je,majorTickValues:ze,minorTickValues:qe}=super.getTickValues();if(qe.length=0,!this.isTickCentered){let Xe=[];if(Xe=je.map(Ye=>Ye-.5).filter(Ye=>Ye>this.clipMinimum-.001),Xe.length>0){const Ye=Xe[Xe.length-1]+this.majorStep;Ye<this.clipMaximum+.001&&Xe.push(Ye)}ze.length=0,ze.push(...Xe)}return{majorLabelValues:je,majorTickValues:ze,minorTickValues:qe}}getValue(je){return this.formatValue(je)}updateActualMaxMin(){this.include(-.5);const je=this.actualLabels;je.length>0?this.include(je.length-1+.5):this.include(.5),super.updateActualMaxMin(),this.minorStep=1}updateLabels(je){if(this.itemsSource){this._itemsSourceLabels.length=0;const ze=[];for(let qe of this.itemsSource||[])qe=this.labelField?qe[this.labelField]:qe,this.stringFormatter?ze.push(this.stringFormatter(qe)):ze.push(qe.toString());this._itemsSourceLabels.push(...ze);return}if(this.labels.length===0){if(this._autoGeneratedLabels.length===je)return;this._autoGeneratedLabels.length=0,this._autoGeneratedLabels.push(...Array.from({length:je},(ze,qe)=>(qe+1).toString()))}}formatValueOverride(je){const ze=Math.floor(je),qe=this.actualLabels;return ze>=0&&ze<qe.length?qe[ze]:""}}function isColorAxis(Ve){return Ve&&typeof Ve.getColor=="function"&&typeof Ve.getPaletteIndex=="function"}function toColorAxis(Ve){return Ve}class MagnitudeAxis extends LinearAxis{constructor(je){super(je),D$1(this,"midPoint",ScreenPoint.LeftTop),this.position=AxisPosition.None,this.isPanEnabled=!1,this.isZoomEnabled=!1,this.majorGridlineStyle=LineStyle.Solid,this.minorGridlineStyle=LineStyle.Solid,je&&Object.assign(this,je)}inverseTransformPoint(je,ze,qe){if(!(qe instanceof AngleAxis))throw new Error("Polar angle axis not defined!");const Xe=qe;je-=this.midPoint.x,ze-=this.midPoint.y,ze*=-1;const Ye=Math.atan2(ze,je);return je=Math.sqrt(je*je+ze*ze)/this.scale+this.offset,ze=Ye/Xe.scale+Xe.offset*Math.PI/180,new DataPoint(je,ze)}isXyAxis(){return!1}async render(je,ze){await new MagnitudeAxisRenderer(je,this.plotModel).render(this,ze)}transformPoint(je,ze,qe){if(!(qe instanceof AngleAxis))throw new Error("Polar angle axis not defined!");const Xe=qe,Ye=(je-this.offset)*this.scale,Ke=(ze-Xe.offset)*Xe.scale;return new ScreenPoint(this.midPoint.x+Ye*Math.cos(Ke/180*Math.PI),this.midPoint.y-Ye*Math.sin(Ke/180*Math.PI))}updateTransform(je){const ze=je.left,qe=je.right,Xe=je.bottom,Ye=je.top;this.screenMin=new ScreenPoint(ze,Ye),this.screenMax=new ScreenPoint(qe,Xe),this.midPoint=new ScreenPoint((ze+qe)/2,(Xe+Ye)/2);const Ke=Math.min(Math.abs(qe-ze),Math.abs(Ye-Xe));let Ze=0,Qe=Ke*.5;const Je=Qe-Ze;Qe=Ze+this.endPosition*Je,Ze=Ze+this.startPosition*Je;const St=this.isReversed?-1:1;this.minimumMargin>0&&(Ze+=this.minimumMargin*St),this.maximumMargin>0&&(Qe-=this.maximumMargin*St),this.minimumDataMargin>0&&(Ze+=this.minimumDataMargin*St),this.maximumDataMargin>0&&(Qe-=this.maximumDataMargin*St),this.actualMaximum-this.actualMinimum<=0&&(this.actualMaximum=this.actualMinimum+1);const ei=this.preTransform(this.actualMaximum),ti=this.preTransform(this.actualMinimum),ii=Ze-Qe;let ri,si;Math.abs(ii)>Number.EPSILON?ri=Ze/ii*ei-Qe/ii*ti:ri=0;const ui=ei-ti;Math.abs(ui)>Number.EPSILON?si=(Qe-Ze)/ui:si=1,this.setTransform(si,ri),this.minimumDataMargin>0?this.clipMinimum=this.inverseTransform(0):this.clipMinimum=this.actualMinimum,this.maximumDataMargin>0?this.clipMaximum=this.inverseTransform(Ke*.5):this.clipMaximum=this.actualMaximum,this.actualMaximumAndMinimumChangedOverride()}}var TickStyle=(Ve=>(Ve[Ve.Crossing=0]="Crossing",Ve[Ve.Inside=1]="Inside",Ve[Ve.Outside=2]="Outside",Ve[Ve.None=3]="None",Ve))(TickStyle||{});class AxisRendererBase{constructor(je,ze){D$1(this,"_plot"),D$1(this,"rc"),D$1(this,"minorTickValues",[]),D$1(this,"axislinePen"),D$1(this,"extraPen"),D$1(this,"majorLabelValues",[]),D$1(this,"majorPen"),D$1(this,"majorTickPen"),D$1(this,"majorTickValues",[]),D$1(this,"minorPen"),D$1(this,"minorTickPen"),D$1(this,"zeroPen"),this._plot=ze,this.rc=je}get plot(){return this._plot}get renderContext(){return this.rc}async render(je,ze){if(!je)return;const{majorLabelValues:qe,majorTickValues:Xe,minorTickValues:Ye}=je.getTickValues();this.majorLabelValues=qe,this.majorTickValues=Xe,this.minorTickValues=Ye,this.createPens(je)}createPens(je){const ze=je.minorTicklineColor.isAutomatic()?je.ticklineColor:je.minorTicklineColor;this.minorPen=OxyPen.create(je.minorGridlineColor,je.minorGridlineThickness,je.minorGridlineStyle),this.majorPen=OxyPen.create(je.majorGridlineColor,je.majorGridlineThickness,je.majorGridlineStyle),this.minorTickPen=OxyPen.create(ze,je.minorGridlineThickness),this.majorTickPen=OxyPen.create(je.ticklineColor,je.majorGridlineThickness),this.zeroPen=OxyPen.create(je.ticklineColor,je.majorGridlineThickness),this.extraPen=OxyPen.create(je.extraGridlineColor,je.extraGridlineThickness,je.extraGridlineStyle),this.axislinePen=OxyPen.create(je.axislineColor,je.axislineThickness,je.axislineStyle)}getTickPositions(je,ze,qe,Xe){let Ye=0,Ke=0;const Ze=Xe===AxisPosition.Top||Xe===AxisPosition.Left?-1:1;switch(ze){case TickStyle.Crossing:Ye=-qe*Ze*.75,Ke=qe*Ze*.75;break;case TickStyle.Inside:Ye=-qe*Ze;break;case TickStyle.Outside:Ke=qe*Ze;break}return[Ye,Ke]}isWithin(je,ze,qe){return je<ze?!1:je<=qe}}class AngleAxisRenderer extends AxisRendererBase{constructor(je,ze){super(je,ze)}async render(je,ze){const qe=je;await super.render(je,ze);const Xe=this.plot.defaultMagnitudeAxis;if(!Xe)throw new Error("Magnitude axis not defined.");const Ye=qe.startAngle/qe.scale,Ke=qe.endAngle/qe.scale,Ze=Math.abs(Ke-Ye);if(this.minorPen){const St=Math.abs(Ze/je.actualMinorStep|0),ei=this.minorTickValues.slice(0,St+1).map(ti=>Xe.transformPoint(Xe.clipMaximum,ti,je));for(const ti of ei)await RenderingExtensions.drawLine(this.renderContext,Xe.midPoint.x,Xe.midPoint.y,ti.x,ti.y,this.minorPen,je.edgeRenderingMode)}const Qe=Math.abs(Math.abs(Math.max(qe.endAngle,qe.startAngle)-Math.min(qe.startAngle,qe.endAngle))-360)<.001;let Je=Ze/je.actualMajorStep|0;if(Qe||Je++,this.majorPen){const St=this.majorTickValues.slice(0,Je).map(ei=>Xe.transformPoint(Xe.clipMaximum,ei,je));for(const ei of St)await RenderingExtensions.drawLine(this.renderContext,Xe.midPoint.x,Xe.midPoint.y,ei.x,ei.y,this.majorPen,je.edgeRenderingMode)}for(const St of this.majorLabelValues.slice(0,Je)){let ei=Xe.transformPoint(Xe.clipMaximum,St,je);const ti=Math.atan2(ei.y-Xe.midPoint.y,ei.x-Xe.midPoint.x);let{x:ii,y:ri}=ei;ii+=Math.cos(ti)*je.axisTickToLabelDistance,ri+=Math.sin(ti)*je.axisTickToLabelDistance,ei=new ScreenPoint(ii,ri);let si=ti*180/Math.PI;const ui=je.formatValue(St);let ai=HorizontalAlignment.Left,oi=VerticalAlignment.Middle;Math.abs(Math.abs(si)-90)<10?(ai=HorizontalAlignment.Center,oi=si>=90?VerticalAlignment.Top:VerticalAlignment.Bottom,si=0):(si>90||si<-90)&&(si-=180,ai=HorizontalAlignment.Right),await MathRenderingExtensions.drawMathText(this.renderContext,ei,ui,je.actualTextColor,je.actualFont,je.actualFontSize,je.actualFontWeight,si,ai,oi)}}}class HorizontalAndVerticalAxisRenderer extends AxisRendererBase{constructor(je,ze){super(je,ze)}async render(je,ze){await super.render(je,ze);let qe=!0;const Xe=je.axisDistance+je.positionTierMinShift,Ye=je.positionTierSize-this.plot.axisTierDistance,Ke=this.plot.plotArea.left,Ze=this.plot.plotArea.right,Qe=this.plot.plotArea.top,Je=this.plot.plotArea.bottom;let St=0,ei=0;switch(je.position){case AxisPosition.Left:St=Ke-Xe;break;case AxisPosition.Right:St=Ze+Xe;break;case AxisPosition.Top:St=Qe-Xe;break;case AxisPosition.Bottom:St=Je+Xe;break}if(je.positionAtZeroCrossing){const ti=je.isHorizontal()?this.plot.defaultYAxis:this.plot.defaultXAxis;St=ti.transform(0);const ii=je.isHorizontal()?ti.screenMin.y:ti.screenMin.x,ri=je.isHorizontal()?ti.screenMax.y:ti.screenMax.x;let si=Math.min(ii,ri),ui=Math.max(ii,ri);const ai=je.isHorizontal()?Qe:Ke,oi=je.isHorizontal()?Je:Ze;if(si=Math.max(si,ai),ui=Math.min(ui,oi),St<si){St=si;const ni=je.isHorizontal()?this.plot.plotAreaBorderThickness.top:this.plot.plotAreaBorderThickness.left,ci=je.isHorizontal()?this.plot.plotArea.top:this.plot.plotArea.left;St<=ci&&ni>0&&this.plot.plotAreaBorderColor.isVisible()&&(qe=!1)}if(St>ui){St=ui;const ni=je.isHorizontal()?this.plot.plotAreaBorderThickness.bottom:this.plot.plotAreaBorderThickness.right,ci=je.isHorizontal()?this.plot.plotArea.bottom:this.plot.plotArea.right;St>=ci&&ni>0&&this.plot.plotAreaBorderColor.isVisible()&&(qe=!1)}}switch(je.position){case AxisPosition.Left:ei=St-Ye;break;case AxisPosition.Right:ei=St+Ye;break;case AxisPosition.Top:ei=St-Ye;break;case AxisPosition.Bottom:ei=St+Ye;break}switch(je.position){case AxisPosition.Left:case AxisPosition.Top:ei+=je.axisDistance;break;case AxisPosition.Right:case AxisPosition.Bottom:ei-=je.axisDistance;break}ze==0&&await this.renderMinorItems(je,St),ze==1&&(await this.renderMajorItems(je,St,ei,qe),await this.renderAxisTitle(je,ei))}static lerp(je,ze,qe){return je*(1-qe)+ze*qe}static snapTo(je,ze,qe=.5){return ze>je-qe&&ze<je+qe?je:ze}getAxisTitlePositionAndAlignment(je,ze){let qe=-90,Xe=HorizontalAlignment.Center,Ye=VerticalAlignment.Top,Ke=je.isHorizontal()?HorizontalAndVerticalAxisRenderer.lerp(je.screenMin.x,je.screenMax.x,je.titlePosition):HorizontalAndVerticalAxisRenderer.lerp(je.screenMax.y,je.screenMin.y,je.titlePosition);je.positionAtZeroCrossing&&(Ke=HorizontalAndVerticalAxisRenderer.lerp(je.transform(je.clipMaximum),je.transform(je.clipMinimum),je.titlePosition));let Ze=ScreenPoint.LeftTop;switch(je.position){case AxisPosition.Left:Ze=new ScreenPoint(ze,Ke);break;case AxisPosition.Right:Ye=VerticalAlignment.Bottom,Ze=new ScreenPoint(ze,Ke);break;case AxisPosition.Top:Xe=HorizontalAlignment.Center,Ye=VerticalAlignment.Top,qe=0,Ze=new ScreenPoint(Ke,ze);break;case AxisPosition.Bottom:Xe=HorizontalAlignment.Center,Ye=VerticalAlignment.Bottom,qe=0,Ze=new ScreenPoint(Ke,ze);break;default:throw new Error("Invalid axis position")}return{point:Ze,angle:qe,halign:Xe,valign:Ye}}async renderAxisTitle(je,ze){if(!je.actualTitle)return;const qe=je.isHorizontal();let Xe;if(je.clipTitle){const Je=Math.abs(qe?je.screenMax.x-je.screenMin.x:je.screenMax.y-je.screenMin.y);Xe=new OxySize(Je*je.titleClippingLength,Number_MAX_VALUE)}const{point:Ye,angle:Ke,halign:Ze,valign:Qe}=this.getAxisTitlePositionAndAlignment(je,ze);await MathRenderingExtensions.drawMathText(this.renderContext,Ye,je.actualTitle,je.actualTitleColor,je.actualTitleFont,je.actualTitleFontSize,je.actualTitleFontWeight,Ke,Ze,Qe,Xe)}async renderMajorItems(je,ze,qe,Xe){const Ye=je.actualMinorStep*.001,Ke=je.clipMinimum,Ze=je.clipMaximum,Qe=this.plot.plotArea.left,Je=this.plot.plotArea.right,St=this.plot.plotArea.top,ei=this.plot.plotArea.bottom,ti=je.isHorizontal(),ii=je.cropGridlines,ri=[],si=[],[ui,ai]=this.getTickPositions(je,je.tickStyle,je.majorTickSize,je.position),oi=je.isHorizontal()?this.plot.defaultYAxis:this.plot.defaultXAxis,ni=je.positionAtZeroCrossing&&(oi==null?void 0:oi.positionAtZeroCrossing);let ci=[];ii&&(ti?ci=this.plot.axes.filter(fi=>fi.isXyAxis()&&fi.isVertical()):ci=this.plot.axes.filter(fi=>fi.isXyAxis()&&fi.isHorizontal()));const hi=HorizontalAndVerticalAxisRenderer.snapTo;for(const fi of this.majorTickValues){if(ni&&Math.abs(fi)<Ye)continue;let mi=je.transform(fi);ti?(mi=hi(Qe,mi),mi=hi(Je,mi)):(mi=hi(St,mi),mi=hi(ei,mi)),this.majorPen&&this.addSegments(ri,ci,ti,ii,mi,Qe,Je,St,ei),je.tickStyle!=TickStyle.None&&je.majorTickSize>0&&(ti?(si.push(new ScreenPoint(mi,ze+ui)),si.push(new ScreenPoint(mi,ze+ai))):(si.push(new ScreenPoint(ze+ui,mi)),si.push(new ScreenPoint(ze+ai,mi))))}for(const fi of this.majorLabelValues){if(fi<Ke-Ye||fi>Ze+Ye||ni&&Math.abs(fi)<Ye)continue;let mi=je.transform(fi);ti?(mi=hi(Qe,mi),mi=hi(Je,mi)):(mi=hi(St,mi),mi=hi(ei,mi));let pi=new ScreenPoint,wi=[HorizontalAlignment.Center,VerticalAlignment.Middle];switch(je.position){case AxisPosition.Left:pi=new ScreenPoint(ze+ai-je.axisTickToLabelDistance,mi),wi=this.getRotatedAlignments(je.angle,-90);break;case AxisPosition.Right:pi=new ScreenPoint(ze+ai+je.axisTickToLabelDistance,mi),wi=this.getRotatedAlignments(je.angle,90);break;case AxisPosition.Top:pi=new ScreenPoint(mi,ze+ai-je.axisTickToLabelDistance),wi=this.getRotatedAlignments(je.angle,0);break;case AxisPosition.Bottom:pi=new ScreenPoint(mi,ze+ai+je.axisTickToLabelDistance),wi=this.getRotatedAlignments(je.angle,-180);break}const[gi,yi]=wi,Ai=je.formatValue(fi);await MathRenderingExtensions.drawMathText(this.renderContext,pi,Ai,je.actualTextColor,je.actualFont,je.actualFontSize,je.actualFontWeight,je.angle,gi,yi)}const di=RenderingExtensions.getActualEdgeRenderingMode(je.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);if(je.extraGridlines&&this.extraPen){const fi=[];for(const mi of je.extraGridlines){if(!this.isWithin(mi,Ke,Ze))continue;const pi=je.transform(mi);this.addSegments(fi,ci,ti,ii,pi,Qe,Je,St,ei)}await RenderingExtensions.drawLineSegments(this.renderContext,fi,this.extraPen,di)}Xe&&(ti?await RenderingExtensions.drawLine(this.renderContext,je.transform(Ke),ze,je.transform(Ze),ze,this.axislinePen,di):await RenderingExtensions.drawLine(this.renderContext,ze,je.transform(Ke),ze,je.transform(Ze),this.axislinePen,di)),this.majorPen&&await RenderingExtensions.drawLineSegments(this.renderContext,ri,this.majorPen,di),this.majorTickPen&&await RenderingExtensions.drawLineSegments(this.renderContext,si,this.majorTickPen,di)}async renderMinorItems(je,ze){const qe=je.actualMinorStep*.001,Xe=this.plot.plotArea.left,Ye=this.plot.plotArea.right,Ke=this.plot.plotArea.top,Ze=this.plot.plotArea.bottom,Qe=je.cropGridlines,Je=je.isHorizontal(),St=[],ei=[];let ti=[];Qe&&(Je?ti=this.plot.axes.filter(ai=>ai.isXyAxis()&&ai.isVertical()):ti=this.plot.axes.filter(ai=>ai.isXyAxis()&&ai.isHorizontal()));const[ii,ri]=this.getTickPositions(je,je.tickStyle,je.minorTickSize,je.position),si=HorizontalAndVerticalAxisRenderer.snapTo;for(const ai of this.minorTickValues){if(je.positionAtZeroCrossing&&Math.abs(ai)<qe)continue;let oi=je.transform(ai);Je?(oi=si(Xe,oi),oi=si(Ye,oi)):(oi=si(Ke,oi),oi=si(Ze,oi)),this.minorPen&&this.addSegments(St,ti,Je,Qe,oi,Xe,Ye,Ke,Ze),je.tickStyle!=TickStyle.None&&je.minorTickSize>0&&(Je?(ei.push(new ScreenPoint(oi,ze+ii)),ei.push(new ScreenPoint(oi,ze+ri))):(ei.push(new ScreenPoint(ze+ii,oi)),ei.push(new ScreenPoint(ze+ri,oi))))}const ui=RenderingExtensions.getActualEdgeRenderingMode(je.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);this.minorPen&&await RenderingExtensions.drawLineSegments(this.renderContext,St,this.minorPen,ui),this.minorTickPen&&await RenderingExtensions.drawLineSegments(this.renderContext,ei,this.minorTickPen,ui)}addSegments(je,ze,qe,Xe,Ye,Ke,Ze,Qe,Je){if(qe)if(!Xe)je.push(new ScreenPoint(Ye,Qe)),je.push(new ScreenPoint(Ye,Je));else for(const St of ze)je.push(new ScreenPoint(Ye,St.transform(St.clipMinimum))),je.push(new ScreenPoint(Ye,St.transform(St.clipMaximum)));else if(!Xe)je.push(new ScreenPoint(Ke,Ye)),je.push(new ScreenPoint(Ze,Ye));else for(const St of ze)je.push(new ScreenPoint(St.transform(St.clipMinimum),Ye)),je.push(new ScreenPoint(St.transform(St.clipMaximum),Ye))}getRotatedAlignments(je,ze){const qe=(ze+360)%360-180;let Xe=je>=Math.min(ze,qe)&&je<Math.max(ze,qe)?HorizontalAlignment.Left:HorizontalAlignment.Right,Ye=VerticalAlignment.Middle;return ze<0&&(Xe=Xe===HorizontalAlignment.Left?HorizontalAlignment.Right:HorizontalAlignment.Left),(Math.abs(je-qe)<10||Math.abs(je-ze)<10)&&(Xe=HorizontalAlignment.Center),Math.abs(je-ze)<10&&(Ye=VerticalAlignment.Bottom),Math.abs(je-qe)<10&&(Ye=VerticalAlignment.Top),[Xe,Ye]}}class MagnitudeAxisRenderer extends AxisRendererBase{constructor(je,ze){super(je,ze)}async render(je,ze){await super.render(je,ze);const qe=this.plot.defaultAngleAxis;if(!qe)throw new Error("Angle axis should not be null.");if(qe.updateActualMaxMin(),ze===0&&this.extraPen){const Xe=je.extraGridlines;if(Xe)for(let Ye=0;Ye<Xe.length;Ye++)await this.renderTick(je,qe,Xe[Ye],this.extraPen)}if(ze===0&&this.minorPen)for(const Xe of this.minorTickValues)await this.renderTick(je,qe,Xe,this.minorPen);if(ze===0&&this.majorPen)for(const Xe of this.majorTickValues)await this.renderTick(je,qe,Xe,this.majorPen);if(ze===1)for(const Xe of this.majorTickValues)await this.renderTickText(je,Xe,qe)}static getActualAngle(je,ze){const qe=je.transformPoint(0,ze.angle,ze),Xe=je.transformPoint(1,ze.angle,ze);return Math.atan2(Xe.y-qe.y,Xe.x-qe.x)}static getTickTextAlignment(je){let ze=HorizontalAlignment.Center,qe=VerticalAlignment.Bottom;return je>3*Math.PI/4||je<-3*Math.PI/4?(ze=HorizontalAlignment.Center,qe=VerticalAlignment.Top):je<-Math.PI/4?(ze=HorizontalAlignment.Right,qe=VerticalAlignment.Middle):je>Math.PI/4?(ze=HorizontalAlignment.Left,qe=VerticalAlignment.Middle):(ze=HorizontalAlignment.Center,qe=VerticalAlignment.Bottom),[ze,qe]}async renderTick(je,ze,qe,Xe){Math.abs(Math.abs(ze.endAngle-ze.startAngle)-360)<1e-6&&!Xe.actualDashArray?await this.renderTickCircle(je,ze,qe,Xe):await this.renderTickArc(je,ze,qe,Xe)}async renderTickCircle(je,ze,qe,Xe){const Ye=ze.offset,Ke=je.transformPoint(je.clipMinimum,Ye,ze),Ze=je.transformPoint(qe,Ye,ze).x,Qe=Ze-Ke.x,Je=Qe*2,St=Ze-Je,ei=Ke.y-Qe,ti=Je;await this.renderContext.drawEllipse(new OxyRect(St,ei,Je,ti),OxyColors.Undefined,Xe.color,Xe.thickness,je.edgeRenderingMode)}async renderTickArc(je,ze,qe,Xe){const Ye=ze.clipMinimum,Ke=ze.clipMaximum,Ze=Math.round(90*Math.abs(ze.endAngle-ze.startAngle)/360),Qe=(Ke-Ye)/(Ze-1),Je=[];for(let St=0;St<Ze;St++){const ei=Ye+St*Qe;Je.push(je.transformPoint(qe,ei,ze))}await this.renderContext.drawLine(Je,Xe.color,Xe.thickness,je.edgeRenderingMode,Xe.actualDashArray)}async renderTickText(je,ze,qe){const Xe=MagnitudeAxisRenderer.getActualAngle(je,qe),Ye=je.axisTickToLabelDistance*Math.sin(Xe),Ke=-je.axisTickToLabelDistance*Math.cos(Xe),[Ze,Qe]=MagnitudeAxisRenderer.getTickTextAlignment(Xe);let Je=je.transformPoint(ze,qe.angle,qe);Je=new ScreenPoint(Je.x+Ye,Je.y+Ke);const St=je.formatValue(ze);await MathRenderingExtensions.drawMathText(this.renderContext,Je,St,je.actualTextColor,je.actualFont,je.actualFontSize,je.actualFontWeight,je.angle,Ze,Qe)}}class AngleAxisFullPlotAreaRenderer extends AxisRendererBase{constructor(je,ze){super(je,ze)}async render(je,ze){const qe=je;await super.render(je,ze);const Xe=this.plot.defaultMagnitudeAxis;if(!Xe)throw new Error("Magnitude axis not defined.");const Ye=qe.startAngle/qe.scale,Ke=qe.endAngle/qe.scale,Ze=Math.abs(Ke-Ye);if(this.minorPen){const St=Math.abs(Ze/je.actualMinorStep),ei=this.minorTickValues.slice(0,St+1).map(ti=>this.transformToClientRectangle(Xe.clipMaximum,ti,je,this.plot.plotArea,Xe.midPoint));for(const ti of ei)await RenderingExtensions.drawLine(this.renderContext,Xe.midPoint.x,Xe.midPoint.y,ti.x,ti.y,this.minorPen,je.edgeRenderingMode)}const Qe=Math.abs(Math.abs(Math.max(qe.endAngle,qe.startAngle)-Math.min(qe.startAngle,qe.endAngle))-360)<.001;let Je=Math.floor(Ze/je.actualMajorStep);if(Qe||Je++,this.majorPen){const St=this.majorTickValues.slice(0,Je).map(ei=>this.transformToClientRectangle(Xe.clipMaximum,ei,je,this.plot.plotArea,Xe.midPoint));for(const ei of St)await RenderingExtensions.drawLine(this.renderContext,Xe.midPoint.x,Xe.midPoint.y,ei.x,ei.y,this.majorPen,je.edgeRenderingMode)}for(const St of this.majorLabelValues.slice(0,Je)){const ei=this.transformToClientRectangle(Xe.clipMaximum,St,je,this.plot.plotArea,Xe.midPoint),ti=je.formatValue(St);let ii=HorizontalAlignment.Center,ri=VerticalAlignment.Middle;const si=this.plot.plotArea;let ui=ei.y,ai=ei.x;ui<=si.top?(ii=HorizontalAlignment.Center,ri=VerticalAlignment.Top,ui+=je.axisTickToLabelDistance):ui>=si.bottom?(ii=HorizontalAlignment.Center,ri=VerticalAlignment.Bottom,ui-=je.axisTickToLabelDistance):ai<=si.left?(ii=HorizontalAlignment.Left,ri=VerticalAlignment.Middle,ai+=je.axisTickToLabelDistance):ai>=si.right&&(ii=HorizontalAlignment.Right,ri=VerticalAlignment.Middle,ai-=je.axisTickToLabelDistance);const oi=new ScreenPoint(ai,ui);await MathRenderingExtensions.drawMathText(this.renderContext,oi,ti,je.actualTextColor,je.actualFont,je.actualFontSize,je.actualFontWeight,0,ii,ri)}}transformToClientRectangle(je,ze,qe,Xe,Ye){let Ke=new ScreenPoint,Ze=(ze-qe.offset)*qe.scale;Ze%=360;const Qe=Ze/180*Math.PI,Je=Math.cos(Qe),St=-Math.sin(Qe);if(Je!==0){let ei=0;Je>0?ei=Xe.right-Ye.x:Je<0&&(ei=Xe.left-Ye.x);const ti=ei/Je;let ii=ti*Je,ri=ti*St;if(ri+Ye.y>Xe.bottom||ri+Ye.y<Xe.top){let si=0;St>0?si=Xe.bottom-Ye.y:si=Xe.top-Ye.y;const ui=si/St;ii=ui*Je,ri=ui*St,Ke=new ScreenPoint(ui*Je+Ye.x,ui*St+Ye.y)}else Ke=new ScreenPoint(ii+Ye.x,ri+Ye.y)}return Ke}}const degree=180/Math.PI,rad=Math.PI/180,ee$1=class Ns extends AxisRendererBase{constructor(je,ze){super(je,ze)}async render(je,ze){await super.render(je,ze);const qe=this.plot.defaultAngleAxis,Xe=this.plot.defaultMagnitudeAxis;if(!qe)throw new Error("Angle axis should not be undefined.");qe.updateActualMaxMin();const Ye=Math.abs(je.plotModel.plotArea.top-Xe.midPoint.y),Ke=Math.abs(je.plotModel.plotArea.bottom-Xe.midPoint.y),Ze=Math.abs(je.plotModel.plotArea.left-Xe.midPoint.x),Qe=Math.abs(je.plotModel.plotArea.right-Xe.midPoint.x),Je=je.plotModel.plotArea.offset(-Xe.midPoint.x,-Xe.midPoint.y),St=-degree*Math.atan2(Je.top,Je.right);let ei=-degree*Math.atan2(Je.top,Je.left),ti=360-degree*Math.atan2(Je.bottom,Je.left);const ii=360-degree*Math.atan2(Je.bottom,Je.right);ei<0&&(ei+=360),ti>360&&(ti-=360);const ri=Math.sqrt(Math.pow(Je.top,2)+Math.pow(Je.right,2)),si=Math.sqrt(Math.pow(Je.top,2)+Math.pow(Je.left,2)),ui=Math.sqrt(Math.pow(Je.bottom,2)+Math.pow(Je.left,2)),ai=Math.sqrt(Math.pow(Je.bottom,2)+Math.pow(Je.right,2));if(ze===0&&this.minorPen){const oi=this.minorPen;for(const ni of this.minorTickValues){const ci=je.transform(ni);let hi=0,di=90,fi=90,mi=180,pi=180,wi=270,gi=270,yi=360;const Ai=Qe/ci,Si=Ye/ci,ki=Ze/ci,Li=Ke/ci;ci>Qe&&(yi=360-degree*Math.acos(Ai),hi=degree*Math.acos(Ai)),ci>Ye&&(di=degree*Math.asin(Si),fi=180-degree*Math.asin(Si)),ci>Ze&&(mi=180-degree*Math.acos(ki),pi=180+degree*Math.acos(ki)),ci>Ke&&(wi=180+degree*Math.asin(Li),gi=360-degree*Math.asin(Li)),ci<=ri&&(hi<St&&await this.renderTickArc(je,qe,ni,oi,hi+qe.offset,St+qe.offset),St<di&&await this.renderTickArc(je,qe,ni,oi,St+qe.offset,di+qe.offset)),ci<=si&&(fi<ei&&await this.renderTickArc(je,qe,ni,oi,fi+qe.offset,ei+qe.offset),ei<mi&&await this.renderTickArc(je,qe,ni,oi,ei+qe.offset,mi+qe.offset)),ci<=ui&&(pi<ti&&await this.renderTickArc(je,qe,ni,oi,pi+qe.offset,ti+qe.offset),ti<wi&&await this.renderTickArc(je,qe,ni,oi,ti+qe.offset,wi+qe.offset)),ci<=ai&&(gi<ii&&await this.renderTickArc(je,qe,ni,oi,gi+qe.offset,ii+qe.offset),ii<yi&&await this.renderTickArc(je,qe,ni,oi,ii+qe.offset,yi+qe.offset))}}if(ze===0&&this.majorPen){const oi=this.majorPen;for(const ni of this.majorTickValues){const ci=je.transform(ni);let hi=0,di=90,fi=90,mi=180,pi=180,wi=270,gi=270,yi=360;const Ai=Qe/ci,Si=Ye/ci,ki=Ze/ci,Li=Ke/ci;ci>Qe&&(yi=360-degree*Math.acos(Ai),hi=degree*Math.acos(Ai)),ci>Ye&&(di=degree*Math.asin(Si),fi=180-degree*Math.asin(Si)),ci>Ze&&(mi=180-degree*Math.acos(ki),pi=180+degree*Math.acos(ki)),ci>Ke&&(wi=180+degree*Math.asin(Li),gi=360-degree*Math.asin(Li)),ci<=ri&&(hi<St&&await this.renderTickArc(je,qe,ni,oi,hi+qe.offset,St+qe.offset),St<di&&await this.renderTickArc(je,qe,ni,oi,St+qe.offset,di+qe.offset)),ci<=si&&(fi<ei&&await this.renderTickArc(je,qe,ni,oi,fi+qe.offset,ei+qe.offset),ei<mi&&await this.renderTickArc(je,qe,ni,oi,ei+qe.offset,mi+qe.offset)),ci<=ui&&(pi<ti&&await this.renderTickArc(je,qe,ni,oi,pi+qe.offset,ti+qe.offset),ti<wi&&await this.renderTickArc(je,qe,ni,oi,ti+qe.offset,wi+qe.offset)),ci<=ai&&(gi<ii&&await this.renderTickArc(je,qe,ni,oi,gi+qe.offset,ii+qe.offset),ii<yi&&await this.renderTickArc(je,qe,ni,oi,ii+qe.offset,yi+qe.offset))}}if(ze===1){const oi=RenderingExtensions.autoResetClip(this.renderContext,OxyRect.fromScreenPoints(je.screenMin,je.screenMax));for(const ni of this.majorLabelValues)await this.renderTickText(je,ni,qe);oi.dispose()}}static getActualAngle(je,ze){const qe=je.transformPoint(0,ze.angle,ze),Xe=je.transformPoint(1,ze.angle,ze);return Math.atan2(Xe.y-qe.y,Xe.x-qe.x)}static getTickTextAligment(je){let ze=HorizontalAlignment.Center,qe=VerticalAlignment.Bottom;return je>3*Math.PI/4||je<-3*Math.PI/4?(ze=HorizontalAlignment.Center,qe=VerticalAlignment.Top):je<-Math.PI/4?(ze=HorizontalAlignment.Right,qe=VerticalAlignment.Middle):je>Math.PI/4?(ze=HorizontalAlignment.Left,qe=VerticalAlignment.Middle):(ze=HorizontalAlignment.Center,qe=VerticalAlignment.Bottom),[ze,qe]}async renderTickArc(je,ze,qe,Xe,Ye,Ke){let Ze=Ns.maxSegments*Math.abs(Ke-Ye)/360;(ze.fractionUnit===Math.PI||ze.actualMaximum===2*Math.PI)&&(Ze=Ns.maxSegments*Math.abs(Ke-Ye)/(2*Math.PI),Ye*=rad,Ke*=rad),Ze=Math.max(Ze,2),Ze=Math.min(Ze,Ns.maxSegments);const Qe=Math.abs(Ke-Ye)/(Ze-1),Je=[];for(let St=0;St<Ze;St++){const ei=Ye+St*Qe,ti=je.transformPoint(qe,ei,ze);Je.push(ti)}await this.renderContext.drawLine(Je,Xe.color,Xe.thickness,je.edgeRenderingMode,Xe.actualDashArray)}async renderTickText(je,ze,qe){const Xe=Ns.getActualAngle(je,qe),Ye=je.axisTickToLabelDistance*Math.sin(Xe),Ke=-je.axisTickToLabelDistance*Math.cos(Xe),[Ze,Qe]=Ns.getTickTextAligment(Xe);let Je=je.transformPoint(ze,qe.angle,qe);Je=new ScreenPoint(Je.x+Ye,Je.y+Ke);const St=je.formatValue(ze);await MathRenderingExtensions.drawMathText(this.renderContext,Je,St,je.actualTextColor,je.actualFont,je.actualFontSize,je.actualFontWeight,je.angle,Ze,Qe)}};D$1(ee$1,"maxSegments",180);let MagnitudeAxisFullPlotAreaRenderer=ee$1;class LogarithmicAxis extends Axis{constructor(je){super(je),D$1(this,"base"),D$1(this,"powerPadding"),D$1(this,"logActualMaximum",0),D$1(this,"logActualMinimum",0),D$1(this,"logClipMaximum",0),D$1(this,"logClipMinimum",0),this.powerPadding=!0,this.base=10,this.filterMinValue=0,je&&Object.assign(this,removeUndef(je))}getTickValues(){let je=[],ze=[],qe=[];const Xe=Math.abs(this.logClipMaximum-this.logClipMinimum),Ye=Math.abs(this.isVertical()?this.screenMax.y-this.screenMin.y:this.screenMax.x-this.screenMin.x)/this.intervalLength/Xe,Ke=1/Math.floor(Ye),Ze=Math.round(this.base);if(Ye<.75){const Qe=Math.pow(2,Math.ceil(Math.log(1/Ye)/Math.log(2)));je=this.decadeTicks(Qe),qe=this.decadeTicks(Math.ceil(Qe/8))}else if(Math.abs(this.base-Ze)>1e-10)je=this.decadeTicks(Ke),qe=this.decadeTicks(.5*Ke);else if(Ye<2)je=this.decadeTicks(),qe=this.subdividedDecadeTicks();else{if(Ye>this.base*1.5)return super.getTickValues();{const Qe=this.logSubdividedDecadeTicks(!1);if(Qe.length<2)return super.getTickValues();const Je=this.logCalculateMinorCandidates(Qe,Ke);qe=this.powList(Je,!0),je=this.alignTicksToCandidates(Qe,Ke)}}return ze=je,qe=AxisUtilities.filterRedundantMinorTicks(je,qe),{majorLabelValues:ze,majorTickValues:je,minorTickValues:qe}}isXyAxis(){return!0}isLogarithmic(){return!0}pan(je,ze){if(!this.isPanEnabled)return;const qe=this.isHorizontal(),Xe=this.inverseTransform(qe?je.x:je.y),Ye=this.inverseTransform(qe?ze.x:ze.y);if(Math.abs(Ye)<=0)return;const Ke=this.actualMinimum,Ze=this.actualMaximum,Qe=Xe/Ye;let Je=this.actualMinimum*Qe,St=this.actualMaximum*Qe;Je<this.absoluteMinimum&&(Je=this.absoluteMinimum,St=Je*this.actualMaximum/this.actualMinimum),St>this.absoluteMaximum&&(St=this.absoluteMaximum,Je=St*this.actualMinimum/this.actualMaximum),this.viewMinimum=Je,this.viewMaximum=St;const ei=this.actualMinimum-Ke,ti=this.actualMaximum-Ze;this.onAxisChanged({changeType:AxisChangeTypes.Pan,deltaMinimum:ei,deltaMaximum:ti})}inverseTransform(je){return Math.exp(je/this.scale+this.offset)}transform(je){return je<=0?-1:(Math.log(je)-this.offset)*this.scale}zoomAt(je,ze){if(!this.isZoomEnabled)return;const qe=this.actualMinimum,Xe=this.actualMaximum,Ye=this.preTransform(ze),Ke=this.preTransform(this.actualMinimum)-Ye,Ze=this.preTransform(this.actualMaximum)-Ye,Qe=this.postInverseTransform(Ke/je+Ye),Je=this.postInverseTransform(Ze/je+Ye),St=Math.max(Qe,this.absoluteMinimum),ei=Math.min(Je,this.absoluteMaximum);this.viewMinimum=St,this.viewMaximum=ei,this.updateActualMaxMin();const ti=this.actualMinimum-qe,ii=this.actualMaximum-Xe;this.onAxisChanged({changeType:AxisChangeTypes.Zoom,deltaMinimum:ti,deltaMaximum:ii})}powList(je,ze=!1){return je.filter(qe=>!ze||!(qe<this.logClipMinimum)).filter(qe=>!ze||!(qe>this.logClipMaximum)).map(qe=>Math.pow(this.base,qe))}logList(je,ze=!1){return je.filter(qe=>!ze||!(qe<this.clipMinimum)).filter(qe=>!ze||!(qe>this.clipMaximum)).map(qe=>Math.log(qe)/Math.log(this.base))}decadeTicks(je=1){return this.powList(this.logDecadeTicks(je))}logDecadeTicks(je=1){const ze=[];if(je<=0)return ze;let qe=Number.NaN;for(let Xe=Math.ceil(this.logClipMinimum);Xe<=this.logClipMaximum&&!(Xe<=qe);Xe+=je)qe=Xe,Xe>=this.logClipMinimum&&ze.push(Xe);return ze}logSubdividedDecadeTicks(je=!0){return this.logList(this.subdividedDecadeTicks(je))}subdividedDecadeTicks(je=!0){const ze=[];for(let qe=Math.floor(this.logClipMinimum);!(qe>this.logClipMaximum);qe++){const Xe=Math.pow(this.base,qe);for(let Ye=1;Ye<this.base;Ye++){const Ke=Xe*Ye;if(!(je&&Ke<this.clipMinimum)){if(je&&Ke>this.clipMaximum)break;ze.push(Xe*Ye)}}}return ze}alignTicksToCandidates(je,ze){return this.powList(this.logAlignTicksToCandidates(je,ze))}logAlignTicksToCandidates(je,ze){const qe=[];let Xe=1,Ye=Number.NaN;for(let Ke=Math.floor(this.logClipMinimum);;Ke+=ze){if(Ke<this.logClipMinimum-ze)continue;if(Ke>this.logClipMaximum+ze)break;for(;Xe<je.length-1&&je[Xe]<Ke;)Xe++;const Ze=Math.abs(je[Xe]-Ke)<Math.abs(je[Xe-1]-Ke)?je[Xe]:je[Xe-1];Ze!=Ye&&Ze>=this.logClipMinimum&&Ze<=this.logClipMaximum&&qe.push(Ze),Ye=Ze}return qe}logCalculateMinorCandidates(je,ze){const qe=[];for(let Xe=1;Xe<je.length;Xe++){const Ye=je[Xe-1],Ke=je[Xe];if(!(Ke<this.logClipMinimum)){if(Ye>this.logClipMaximum)break;(Ke-Ye)/ze>2&&this.logSubdivideInterval(qe,this.base,Ye,Ke),qe.push(Ke)}}return qe}logSubdivideInterval(je,ze,qe,Xe){let Ye=1;const Ke=Math.round(this.base);if(ze<2)return;if(Math.abs(this.base-Ke)>this.base*1e-10)Ye=Math.round(ze);else if(Ke&Ke-1)for(Ke!=10&&(Ye=Ke);!(Ye>=ze||(Ye*=2,Ye>=ze)||(Ye=Math.round(Ye*2.5),Ye>=ze));)Ye*=2;else for(;Ye<ze;)Ye*=2;const Ze=Math.pow(this.base,qe),Qe=Math.pow(this.base,Xe);for(let Je=1;Je<Ye;Je++){const St=Je/Ye,ei=Math.log(Ze+(Qe-Ze)*St)/Math.log(this.base);je.push(ei)}}updateActualMaxMin(){if(this.powerPadding){const je=Math.log(this.base),ze=Math.floor(Math.log(this.actualMinimum)/je),qe=Math.ceil(Math.log(this.actualMaximum)/je);isNaN(this.actualMinimum)||(this.actualMinimum=round(Math.exp(ze*je),14)),isNaN(this.actualMaximum)||(this.actualMaximum=round(Math.exp(qe*je),14))}super.updateActualMaxMin(),this.actualMinimum<=0&&(this.actualMinimum=.1)}actualMaximumAndMinimumChangedOverride(){this.logActualMinimum=log$1(this.actualMinimum,this.base),this.logActualMaximum=log$1(this.actualMaximum,this.base),this.logClipMinimum=log$1(this.clipMinimum,this.base),this.logClipMaximum=log$1(this.clipMaximum,this.base)}postInverseTransform(je){return Math.exp(je)}preTransform(je){if(je<=0)throw new Error("Value should be positive.");return je<=0?0:Math.log(je)}coerceActualMaxMin(){(isNaN(this.actualMinimum)||isInfinity(this.actualMinimum))&&(this.actualMinimum=1),this.actualMinimum<=0&&(this.actualMinimum=1),this.actualMaximum<=this.actualMinimum&&(this.actualMaximum=this.actualMinimum*100),super.coerceActualMaxMin()}calculateActualMaximum(){let je=this.dataMaximum;if(this.dataMaximum-this.dataMinimum<Number.EPSILON){const ze=this.dataMaximum>0?this.dataMaximum:1;je+=ze*.5}if(!isNaN(this.dataMinimum)&&!isNaN(je)){const ze=je,qe=this.dataMinimum;return Math.pow(ze,this.maximumPadding+1)*(qe>Number.EPSILON?Math.pow(qe,-this.maximumPadding):1)}return je}calculateActualMinimum(){let je=this.dataMinimum;if(this.dataMaximum-this.dataMinimum<Number.EPSILON){const ze=this.dataMaximum>0?this.dataMaximum:1;je-=ze*.5}if(!isNaN(this.actualMaximum)){const ze=this.actualMaximum,qe=je,Xe=this.maximumPadding;return Math.pow(qe,1+this.minimumPadding-this.minimumPadding*Xe/(1+Xe))*Math.pow(ze,-this.minimumPadding/(1+Xe))}return je}}var DateTimeIntervalType=(Ve=>(Ve[Ve.Auto=0]="Auto",Ve[Ve.Manual=1]="Manual",Ve[Ve.Milliseconds=2]="Milliseconds",Ve[Ve.Seconds=3]="Seconds",Ve[Ve.Minutes=4]="Minutes",Ve[Ve.Hours=5]="Hours",Ve[Ve.Days=6]="Days",Ve[Ve.Weeks=7]="Weeks",Ve[Ve.Months=8]="Months",Ve[Ve.Years=9]="Years",Ve))(DateTimeIntervalType||{});const Lt$1=class to extends LinearAxis{constructor(je){super(je),D$1(this,"actualIntervalType",DateTimeIntervalType.Auto),D$1(this,"actualMinorIntervalType",DateTimeIntervalType.Auto),D$1(this,"_dateService"),D$1(this,"firstDayOfWeek"),D$1(this,"intervalType"),D$1(this,"minorIntervalType",DateTimeIntervalType.Auto),D$1(this,"timeZone"),this.position=AxisPosition.Bottom,this.intervalType=DateTimeIntervalType.Auto,this.firstDayOfWeek=DayOfWeek.Monday,this._dateService=getDateService(),je&&Object.assign(this,removeUndef(je))}static createDataPoint(je,ze){return new DataPoint(to.toDouble(je),ze)}static toDateTime(je){return isNaN(je)||je<to.MinDayValue||je>to.MaxDayValue?new Date:getDateService().addTimespan(to.TimeOrigin,TimeSpan.fromDays(je-1))}static toDouble(je){return getDateService().diff(je,to.TimeOrigin).totalDays+1}itemToDouble(je){return je instanceof Date?to.toDouble(je):super.itemToDouble(je)}getTickValues(){let je=this.createDateTimeTickValues(this.clipMinimum,this.clipMaximum,this.actualMinorStep,this.actualMinorIntervalType);const ze=this.createDateTimeTickValues(this.clipMinimum,this.clipMaximum,this.actualMajorStep,this.actualIntervalType),qe=ze;return je=AxisUtilities.filterRedundantMinorTicks(ze,je),{majorLabelValues:qe,majorTickValues:ze,minorTickValues:je}}getValue(je){const ze=to.toDateTime(je);return this.timeZone?this._dateService.convertTime(ze,this.timeZone):ze}updateIntervals(je){super.updateIntervals(je);const ze=!isNullOrUndef(this.stringFormatter);switch(this.actualIntervalType){case DateTimeIntervalType.Years:this.actualMinorStep=31,this.actualMinorIntervalType=DateTimeIntervalType.Years,ze||(this.actualStringFormatter=qe=>this._dateService.format(qe,"YYYY"));break;case DateTimeIntervalType.Months:this.actualMinorIntervalType=DateTimeIntervalType.Months,ze||(this.actualStringFormatter=qe=>this._dateService.format(qe,"YYYY-MM-DD"));break;case DateTimeIntervalType.Weeks:this.actualMinorIntervalType=DateTimeIntervalType.Days,this.actualMajorStep=7,this.actualMinorStep=1,ze||(this.actualStringFormatter=qe=>this._dateService.format(qe,"YYYY/ww"));break;case DateTimeIntervalType.Days:this.actualMinorStep=this.actualMajorStep,ze||(this.actualStringFormatter=qe=>this._dateService.format(qe,"YYYY-MM-DD"));break;case DateTimeIntervalType.Hours:this.actualMinorStep=this.actualMajorStep,ze||(this.actualStringFormatter=qe=>this._dateService.format(qe,"HH:mm"));break;case DateTimeIntervalType.Minutes:this.actualMinorStep=this.actualMajorStep,ze||(this.actualStringFormatter=qe=>this._dateService.format(qe,"HH:mm"));break;case DateTimeIntervalType.Seconds:this.actualMinorStep=this.actualMajorStep,ze||(this.actualStringFormatter=qe=>this._dateService.format(qe,"HH:mm:ss"));break;case DateTimeIntervalType.Milliseconds:this.actualMinorStep=this.actualMajorStep,ze||(this.actualStringFormatter=qe=>this._dateService.format(qe,"HH:mm:ss.SSS"));break;case DateTimeIntervalType.Manual:break;case DateTimeIntervalType.Auto:break}}getDefaultStringFormatter(){return je=>this._dateService.format(je,"yyyy-MM-dd")}formatValueOverride(je){let ze=to.toDateTime(je);this.timeZone&&(ze=this._dateService.convertTime(ze,this.timeZone));const qe=this.actualStringFormatter;return qe?qe(ze):ze.toLocaleDateString()}calculateActualInterval(je,ze,qe,Xe,Ye){const Ke=.041666666666666664,Ze=Ke/60,Qe=Ze/60,Je=Qe/1e3;Ye=Math.abs(this.clipMinimum-this.clipMaximum);const St=[Je,2*Je,10*Je,100*Je,Qe,2*Qe,5*Qe,10*Qe,30*Qe,Ze,2*Ze,5*Ze,10*Ze,30*Ze,Ke,4*Ke,8*Ke,12*Ke,1,2*1,5*1,7,2*7,30.5,2*30.5,3*30.5,4*30.5,6*30.5,365.25];let ei=St[0];for(qe=Math.max(qe,0),Xe=Math.min(Xe,Math.max(Math.floor(je/ze),2));!(Ye/ei<Xe);){let ti=St.find(ii=>ii>ei);if(isUndef(ti))throw new Error(`cannot calculate interval,range=${Ye}`);if(Math.abs(ti)<=0&&(ti=ei*2),Ye/ti<qe)break;ei=ti}if(this.actualIntervalType=this.intervalType,this.actualMinorIntervalType=this.minorIntervalType,this.intervalType===DateTimeIntervalType.Auto&&(this.actualIntervalType=DateTimeIntervalType.Milliseconds,ei>=1/24/60/60&&(this.actualIntervalType=DateTimeIntervalType.Seconds),ei>=1/24/60&&(this.actualIntervalType=DateTimeIntervalType.Minutes),ei>=1/24&&(this.actualIntervalType=DateTimeIntervalType.Hours),ei>=1&&(this.actualIntervalType=DateTimeIntervalType.Days),ei>=30&&(this.actualIntervalType=DateTimeIntervalType.Months),Ye>=365.25&&(this.actualIntervalType=DateTimeIntervalType.Years)),this.actualIntervalType===DateTimeIntervalType.Months){const ti=Ye/30.5;ei=super.calculateActualInterval(je,ze,this.minimumMajorIntervalCount,this.maximumMajorIntervalCount,ti)}if(this.actualIntervalType===DateTimeIntervalType.Years){const ti=Ye/365.25;ei=super.calculateActualInterval(je,ze,this.minimumMajorIntervalCount,this.maximumMajorIntervalCount,ti)}if(this.actualMinorIntervalType===DateTimeIntervalType.Auto)switch(this.actualIntervalType){case DateTimeIntervalType.Years:this.actualMinorIntervalType=DateTimeIntervalType.Months;break;case DateTimeIntervalType.Months:this.actualMinorIntervalType=DateTimeIntervalType.Days;break;case DateTimeIntervalType.Weeks:this.actualMinorIntervalType=DateTimeIntervalType.Days;break;case DateTimeIntervalType.Days:this.actualMinorIntervalType=DateTimeIntervalType.Hours;break;case DateTimeIntervalType.Hours:this.actualMinorIntervalType=DateTimeIntervalType.Minutes;break;default:this.actualMinorIntervalType=DateTimeIntervalType.Days;break}return ei}createDateTickValues(je,ze,qe,Xe){const Ye=[];let Ke=to.toDateTime(je);if(!Ke)return Ye;let Ze=0;switch(Xe){case DateTimeIntervalType.Weeks:Ze=this._dateService.dayOfWeek(Ke),Ke=this._dateService.addTimespan(Ke,TimeSpan.fromDays(-Ze+this.firstDayOfWeek));break;case DateTimeIntervalType.Months:Ke=new Date(Ke.getFullYear(),Ke.getMonth(),1);break;case DateTimeIntervalType.Years:Ke=new Date(Ke.getFullYear(),0,1);break}const Qe=this._dateService.addTimespan(to.toDateTime(ze),TimeSpan.fromMilliseconds(1));if(!Qe)return Ye;let Je=Ke;const St=qe*.001,ei=to.toDateTime(je-St),ti=to.toDateTime(ze+St);if(!ei||!ti)return Ye;for(;Je<Qe;)switch(Je>ei&&Je<ti&&Ye.push(to.toDouble(Je)),Xe){case DateTimeIntervalType.Months:Je=this._dateService.addMonths(Je,Math.ceil(qe));break;case DateTimeIntervalType.Years:Je=this._dateService.addYears(Je,Math.ceil(qe));break;default:Je=this._dateService.addTimespan(Je,TimeSpan.fromDays(qe));break}return Ye}createDateTimeTickValues(je,ze,qe,Xe){return Xe>DateTimeIntervalType.Days?this.createDateTickValues(je,ze,qe,Xe):this.createTickValues(je,ze,qe)}};D$1(Lt$1,"TimeOrigin",new Date(Date.UTC(1901,0,1,0,0,0))),D$1(Lt$1,"MaxDayValue",TimeSpan.fromMilliseconds(DateTime_MaxValue.getTime()-Lt$1.TimeOrigin.getTime()).totalDays),D$1(Lt$1,"MinDayValue",TimeSpan.fromMilliseconds(DateTime_MinValue.getTime()-Lt$1.TimeOrigin.getTime()).totalDays);let DateTimeAxis=Lt$1;class TimeSpanAxis extends LinearAxis{static toDouble(je){return je.totalSeconds}itemToDouble(je){return je instanceof TimeSpan?TimeSpanAxis.toDouble(je):super.itemToDouble(je)}static toTimeSpan(je){return TimeSpan.fromSeconds(je)}getValue(je){return TimeSpanAxis.toTimeSpan(je)}getDefaultStringFormatter(){function je(ze){return ze.toString().padStart(2,"0")}return ze=>`${ze.hours}:${je(ze.minutes)}:${je(ze.seconds)}`}formatValueOverride(je){const ze=TimeSpanAxis.toTimeSpan(je),qe=this.actualStringFormatter??this.stringFormatter;return qe?qe(ze):ze.toString()}calculateActualInterval(je,ze,qe,Xe){const Ye=Math.abs(this.clipMinimum-this.clipMaximum);let Ke=1;const Ze=[1,5,10,30,60,120,300,600,900,1200,1800,3600];for(qe=Math.max(qe,0),Xe=Math.min(Xe,Math.max(Math.floor(je/ze),2));!(Ye/Ke<Xe);){let Qe=Ze.find(Je=>Je>Ke);if(Qe||(Qe=Ke*2),Ye/Qe<qe)break;Ke=Qe}return Ke}}class LinearColorAxis extends LinearAxis{constructor(je){super(je),D$1(this,"invalidNumberColor"),D$1(this,"highColor"),D$1(this,"lowColor"),D$1(this,"palette"),D$1(this,"renderAsImage",!1),this.position=AxisPosition.None,this.axisDistance=20,this.isPanEnabled=!1,this.isZoomEnabled=!1,this.palette=OxyPalettes.viridis(),this.lowColor=OxyColors.Undefined,this.highColor=OxyColors.Undefined,this.invalidNumberColor=OxyColors.Gray,je&&Object.assign(this,removeUndef(je))}isXyAxis(){return!1}getColor(je){return assertInteger(je,"paletteIndex"),je===Number_MIN_VALUE?this.invalidNumberColor:je===0?this.lowColor:je===this.palette.colors.length+1?this.highColor:this.palette.colors[je-1]}getColors(){return[this.lowColor,...this.palette.colors,this.highColor]}getPaletteIndex(je){if(isNaN(je))return Number_MIN_VALUE;if(!this.lowColor.isUndefined()&&je<this.clipMinimum)return 0;if(!this.highColor.isUndefined()&&je>this.clipMaximum)return this.palette.colors.length+1;let ze=1+Math.floor((je-this.clipMinimum)/(this.clipMaximum-this.clipMinimum)*this.palette.colors.length);return ze<1&&(ze=1),ze>this.palette.colors.length&&(ze=this.palette.colors.length),ze}async render(je,ze){if(this.position!==AxisPosition.None){if(this.palette===void 0)throw new Error("No Palette defined for color axis.");if(ze===0){const qe=this.axisDistance;let Xe=this.plotModel.plotArea.left,Ye=this.plotModel.plotArea.top;const Ke=this.majorTickSize-2,Ze=this.majorTickSize-2;switch(this.position){case AxisPosition.Left:Xe=this.plotModel.plotArea.left-this.positionTierMinShift-Ke-qe,Ye=this.plotModel.plotArea.top;break;case AxisPosition.Right:Xe=this.plotModel.plotArea.right+this.positionTierMinShift+qe,Ye=this.plotModel.plotArea.top;break;case AxisPosition.Top:Xe=this.plotModel.plotArea.left,Ye=this.plotModel.plotArea.top-this.positionTierMinShift-Ze-qe;break;case AxisPosition.Bottom:Xe=this.plotModel.plotArea.left,Ye=this.plotModel.plotArea.bottom+this.positionTierMinShift+qe;break}if(this.renderAsImage){const Qe=this.transform(this.clipMaximum)-this.transform(this.clipMinimum),Je=Qe>0,St=Math.abs(Qe);if(this.isHorizontal()){const ei=await this.generateColorAxisImage(Je);await RenderingExtensions.drawImage(je,ei,Xe,Ye,St,Ze,1,!0)}else{const ei=await this.generateColorAxisImage(Je);await RenderingExtensions.drawImage(je,ei,Xe,Ye,Ke,St,1,!0)}}else{const Qe=async(ei,ti,ii)=>{const ri=Math.min(ei,ti),si=Math.max(ei,ti)+.5;await je.drawRectangle(this.isHorizontal()?new OxyRect(ri,Ye,si-ri,Ze):new OxyRect(Xe,ri,Ke,si-ri),ii,OxyColors.Undefined,0,this.edgeRenderingMode)},Je=this.palette.colors.length;for(let ei=0;ei<Je;ei++){const ti=this.transform(this.getLowValue(ei)),ii=this.transform(this.getHighValue(ei));await Qe(ti,ii,this.palette.colors[ei])}let St=10;if(this.isHorizontal()&&(St*=-1),!this.lowColor.isUndefined()){const ei=this.transform(this.clipMinimum);await Qe(ei,ei+St,this.lowColor)}if(!this.highColor.isUndefined()){const ei=this.transform(this.clipMaximum);await Qe(ei,ei-St,this.highColor)}}}await super.render(je,ze)}}getHighValue(je){return this.getLowValue(je+1)}getLowValue(je){return je/this.palette.colors.length*(this.clipMaximum-this.clipMinimum)+this.clipMinimum}generateColorAxisImage(je){const ze=this.palette.colors.length,qe=this.isHorizontal()?ze:1,Xe=this.isHorizontal()?1:ze,Ye=new TwoDimensionalArray(qe,Xe);for(let Ke=0;Ke<ze;Ke++){const Ze=this.palette.colors[Ke],Qe=je?ze-1-Ke:Ke;this.isHorizontal()?Ye.set(Qe,0,Ze):Ye.set(0,Qe,Ze)}return OxyImage.create(Ye,ImageFormat.Png)}}class RangeColorAxis extends LinearAxis{constructor(je){super(je),D$1(this,"ranges",[]),D$1(this,"invalidNumberColor"),D$1(this,"highColor"),D$1(this,"lowColor"),this.position=AxisPosition.None,this.axisDistance=20,this.lowColor=OxyColors.Undefined,this.highColor=OxyColors.Undefined,this.invalidNumberColor=OxyColors.Gray,this.isPanEnabled=!1,this.isZoomEnabled=!1,je&&Object.assign(this,je)}addRange(je,ze,qe){this.ranges.push({lowerBound:je,upperBound:ze,color:qe})}clearRanges(){this.ranges.length=0}getPaletteIndex(je){if(!this.lowColor.isUndefined()&&je<this.ranges[0].lowerBound)return-1;if(!this.highColor.isUndefined()&&je>this.ranges[this.ranges.length-1].upperBound)return this.ranges.length;for(let ze=0;ze<this.ranges.length;ze++){const qe=this.ranges[ze];if(qe.lowerBound<=je&&qe.upperBound>je)return ze}return Number_MIN_VALUE}getColor(je){return je===Number_MIN_VALUE?this.invalidNumberColor:je===-1?this.lowColor:je===this.ranges.length?this.highColor:this.ranges[je].color}async render(je,ze){if(this.position!==AxisPosition.None){if(ze===0){const qe=this.axisDistance;let Xe=this.plotModel.plotArea.left,Ye=this.plotModel.plotArea.top;const Ke=this.majorTickSize-2,Ze=this.majorTickSize-2,Qe=0;switch(this.position){case AxisPosition.Left:Xe=this.plotModel.plotArea.left-Qe-Ke-qe,Ye=this.plotModel.plotArea.top;break;case AxisPosition.Right:Xe=this.plotModel.plotArea.right+Qe+qe,Ye=this.plotModel.plotArea.top;break;case AxisPosition.Top:Xe=this.plotModel.plotArea.left,Ye=this.plotModel.plotArea.top-Qe-Ze-qe;break;case AxisPosition.Bottom:Xe=this.plotModel.plotArea.left,Ye=this.plotModel.plotArea.bottom+Qe+qe;break}const Je=async(ii,ri,si)=>{const ui=Math.min(ii,ri),ai=Math.max(ii,ri);await je.drawRectangle(this.isHorizontal()?new OxyRect(ui,Ye,ai-ui,Ze):new OxyRect(Xe,ui,Ke,ai-ui),si,OxyColors.Undefined,0,this.edgeRenderingMode)},St=this.transform(this.isReversed?this.actualMinimum:this.actualMaximum),ei=this.transform(this.isReversed?this.actualMaximum:this.actualMinimum);for(const ii of this.ranges){let ri=this.transform(ii.lowerBound),si=this.transform(ii.upperBound);this.isHorizontal()?(ri<ei&&(ri=ei),si>St&&(si=St)):(ri>ei&&(ri=ei),si<St&&(si=St)),await Je(ri,si,ii.color)}let ti=10;if(this.isHorizontal()&&(ti*=-1),!this.lowColor.isUndefined()){const ii=this.transform(this.actualMinimum);await Je(ii,ii+ti,this.lowColor)}if(!this.highColor.isUndefined()){const ii=this.transform(this.actualMaximum);await Je(ii,ii-ti,this.highColor)}}await new HorizontalAndVerticalAxisRenderer(je,this.plotModel).render(this,ze)}}}class MagnitudeAxisFullPlotArea extends MagnitudeAxis{constructor(je){super(je),D$1(this,"_midShiftH",0),D$1(this,"_midShiftV",0),this.position=AxisPosition.None,this.isPanEnabled=!0,this.isZoomEnabled=!1,this.majorGridlineStyle=LineStyle.Solid,this.minorGridlineStyle=LineStyle.Solid,je&&Object.assign(this,je)}get midShiftH(){return this._midShiftH}set midShiftH(je){this._midShiftH=je,this._midShiftH=Math.max(this._midShiftH,-.5),this._midShiftH=Math.min(this._midShiftH,.5)}get midShiftV(){return this._midShiftV}set midShiftV(je){this._midShiftV=je,this._midShiftV=Math.max(this._midShiftV,-.5),this._midShiftV=Math.min(this._midShiftV,.5)}async render(je,ze){await new MagnitudeAxisFullPlotAreaRenderer(je,this.plotModel).render(this,ze)}getTickValues(){const je=OxyRect.fromScreenPoints(this.screenMin,this.screenMax),ze=je.topLeft.distanceTo(this.midPoint),qe=je.topRight.distanceTo(this.midPoint),Xe=je.bottomRight.distanceTo(this.midPoint),Ye=je.bottomLeft.distanceTo(this.midPoint);let Ke=Math.max(ze,qe);Ke=Math.max(Ke,Xe),Ke=Math.max(Ke,Ye);const Ze=this.inverseTransform(Ke),Qe=AxisUtilities.createTickValues(this.actualMinimum,Ze,this.actualMajorStep);let Je=AxisUtilities.createTickValues(this.actualMinimum,Ze,this.actualMinorStep);return Je=AxisUtilities.filterRedundantMinorTicks(Qe,Je),{majorLabelValues:Qe,majorTickValues:Qe,minorTickValues:Je}}updateTransform(je){const ze=je.left,qe=je.right,Xe=je.bottom,Ye=je.top;this.screenMin=new ScreenPoint(ze,Ye),this.screenMax=new ScreenPoint(qe,Xe),this.midPoint=new ScreenPoint((ze+qe)/2+this.midShiftH*je.width,(Xe+Ye)/2+this.midShiftV*je.height);const Ke=Math.min(Math.abs(qe-ze),Math.abs(Ye-Xe));let Ze=0,Qe=Ke*.5;const Je=Qe-Ze;Qe=Ze+this.endPosition*Je,Ze=Ze+this.startPosition*Je;const St=this.isReversed?-1:1;this.minimumDataMargin>0&&(Ze+=this.minimumDataMargin*St),this.maximumDataMargin>0&&(Qe-=this.maximumDataMargin*St),this.actualMaximum-this.actualMinimum<=0&&(this.actualMaximum=this.actualMinimum+1);const ei=this.preTransform(this.actualMaximum),ti=this.preTransform(this.actualMinimum),ii=Ze-Qe;let ri,si;Math.abs(ii)>Number.EPSILON?ri=Ze/ii*ei-Qe/ii*ti:ri=0;const ui=ei-ti;Math.abs(ui)>Number.EPSILON?si=(Qe-Ze)/ui:si=1,this.setTransform(si,ri),this.minimumDataMargin>0?this.clipMinimum=this.inverseTransform(0):this.clipMinimum=this.actualMinimum,this.maximumDataMargin>0?this.clipMaximum=this.inverseTransform(Ke*.5):this.clipMaximum=this.actualMaximum,this.actualMaximumAndMinimumChangedOverride()}pan(je,ze){if(!this.isPanEnabled)return;const qe=ze.x-je.x,Xe=ze.y-je.y,Ye=qe/this.plotModel.plotArea.width,Ke=Xe/this.plotModel.plotArea.height;this.midShiftH+=Ye,this.midShiftV+=Ke,this.onAxisChanged({changeType:AxisChangeTypes.Pan,deltaMinimum:0,deltaMaximum:0})}zoomAt(je,ze){this.isZoomEnabled&&super.zoomAt(je,0)}}class ColorAxisExtensions{static getColor(je,ze){return je.getColor(je.getPaletteIndex(ze))}}class CategoryColorAxis extends CategoryAxis{constructor(je){super(je),D$1(this,"invalidCategoryColor",OxyColors.Undefined),D$1(this,"palette"),this.palette=new OxyPalette,je&&Object.assign(this,je)}getColor(je){return je===-1?this.invalidCategoryColor:je>=this.palette.colors.length?this.invalidCategoryColor:this.palette.colors[je]}getPaletteIndex(je){return Math.floor(je)}async render(je,ze){if(this.position!==AxisPosition.None){if(ze===0){let qe=this.plotModel.plotArea.left,Xe=this.plotModel.plotArea.top;const Ye=this.majorTickSize-2,Ke=this.majorTickSize-2;switch(this.position){case AxisPosition.Left:qe=this.plotModel.plotArea.left-this.positionTierMinShift-Ye,Xe=this.plotModel.plotArea.top;break;case AxisPosition.Right:qe=this.plotModel.plotArea.right+this.positionTierMinShift,Xe=this.plotModel.plotArea.top;break;case AxisPosition.Top:qe=this.plotModel.plotArea.left,Xe=this.plotModel.plotArea.top-this.positionTierMinShift-Ke;break;case AxisPosition.Bottom:qe=this.plotModel.plotArea.left,Xe=this.plotModel.plotArea.bottom+this.positionTierMinShift;break}const Ze=async(St,ei,ti)=>{const ii=Math.min(St,ei),ri=Math.max(St,ei);await je.drawRectangle(this.isHorizontal()?new OxyRect(ii,Xe,ri-ii,Ke):new OxyRect(qe,ii,Ye,ri-ii),ti,OxyColors.Undefined,0,this.edgeRenderingMode)},{majorLabelValues:Qe}=this.getTickValues(),Je=this.palette.colors.length;for(let St=0;St<Je;St++){const ei=this.transform(this.getLowValue(St,Qe)),ti=this.transform(this.getHighValue(St,Qe));await Ze(ei,ti,this.palette.colors[St])}}await super.render(je,ze)}}getHighValue(je,ze){return je>=this.palette.colors.length-1?this.clipMaximum:(ze[je]+ze[je+1])/2}getLowValue(je,ze){return je===0?this.clipMinimum:(ze[je-1]+ze[je])/2}}const ie$1=class Gl{constructor(je,ze){D$1(this,"_x"),D$1(this,"_y"),this._x=je,this._y=ze}get x(){return this._x}get y(){return this._y}equals(je){return this._x===je._x&&this._y===je._y}plus(je){const ze=this;return new Gl(ze._x+je.x,ze._y+je.y)}minus(je){const ze=this;return new DataVector(ze._x-je._x,ze._y-je._y)}minusVector(je){const ze=this;return new Gl(ze._x-je.x,ze._y-je.y)}toString(){return`${this._x} ${this._y}`}isDefined(){return this._x===this._x&&this._y===this._y}};D$1(ie$1,"Undefined",new ie$1(NaN,NaN)),D$1(ie$1,"Zero",new ie$1(0,0));let DataPoint=ie$1;const ne$1=class da{constructor(je,ze){D$1(this,"_x"),D$1(this,"_y"),this._x=je,this._y=ze}get length(){return Math.sqrt(this._x*this._x+this._y*this._y)}get lengthSquared(){return this._x*this._x+this._y*this._y}get x(){return this._x}get y(){return this._y}times(je){const ze=this;return new da(ze._x*je,ze._y*je)}plus(je){const ze=this;return new da(ze._x+je._x,ze._y+je._y)}minus(je){const ze=this;return new da(ze._x-je._x,ze._y-je._y)}negate(){const je=this;return new da(-je._x,-je._y)}equals(je){return this._x===je._x&&this._y===je._y}toString(){return`${this._x} ${this._y}`}isDefined(){return this._x===this._x&&this._y===this._y}};D$1(ne$1,"Undefined",new ne$1(NaN,NaN));let DataVector=ne$1;function isDataPointProvider(Ve){return Ve.getDataPoint&&typeof Ve.getDataPoint=="function"}var MarkerType=(Ve=>(Ve[Ve.None=0]="None",Ve[Ve.Circle=1]="Circle",Ve[Ve.Square=2]="Square",Ve[Ve.Diamond=3]="Diamond",Ve[Ve.Triangle=4]="Triangle",Ve[Ve.Cross=5]="Cross",Ve[Ve.Plus=6]="Plus",Ve[Ve.Star=7]="Star",Ve[Ve.Custom=8]="Custom",Ve))(MarkerType||{}),PlotLengthUnit=(Ve=>(Ve[Ve.Data=0]="Data",Ve[Ve.ScreenUnits=1]="ScreenUnits",Ve[Ve.RelativeToViewport=2]="RelativeToViewport",Ve[Ve.RelativeToPlotArea=3]="RelativeToPlotArea",Ve))(PlotLengthUnit||{});class PlotLength{constructor(je,ze){D$1(this,"_unit"),D$1(this,"_value"),this._value=je,this._unit=ze}get value(){return this._value}get unit(){return this._unit}equals(je){return this._value===je.value&&this._unit===je.unit}}var CursorType=(Ve=>(Ve[Ve.Default=0]="Default",Ve[Ve.Pan=1]="Pan",Ve[Ve.ZoomRectangle=2]="ZoomRectangle",Ve[Ve.ZoomHorizontal=3]="ZoomHorizontal",Ve[Ve.ZoomVertical=4]="ZoomVertical",Ve))(CursorType||{});function newElementCollection(Ve){const je=[];return new Proxy(je,{deleteProperty:function(ze,qe){const Xe=ze[qe];return Xe&&Xe instanceof Element$1&&(Xe.parent=void 0),delete ze[qe],!0},set:function(ze,qe,Xe,Ye){return ze[qe]=Xe,qe==="length"||Xe&&Xe instanceof Element$1&&(Xe.parent=Ve),!0}})}class HitTestArguments{constructor(je,ze){D$1(this,"point"),D$1(this,"tolerance"),this.point=je,this.tolerance=ze}}class ManipulatorBase{constructor(je){D$1(this,"view"),this.view=je}completed(je){}delta(je){}started(je){}}const he$1=class Kl{constructor(){D$1(this,"selectionColor"),D$1(this,"currentMouseEventElement"),D$1(this,"currentTouchEventElement"),D$1(this,"keyDown"),D$1(this,"mouseDown"),D$1(this,"mouseMove"),D$1(this,"mouseUp"),D$1(this,"mouseEnter"),D$1(this,"mouseLeave"),D$1(this,"touchStarted"),D$1(this,"touchDelta"),D$1(this,"touchCompleted"),this.selectionColor=OxyColors.Yellow}hitTest(je){const ze=this.getHitTestElements(),qe=[];for(const Xe of ze){const Ye=Xe.hitTest(je);Ye&&qe.push(Ye)}return qe}handleMouseDown(je,ze){const qe=new HitTestArguments(ze.position,Kl.mouseHitTolerance);for(const Xe of this.hitTest(qe)){ze.hitTestResult=Xe;const Ye=Xe.element;if(Ye.onMouseDown(ze),ze.handled){this.currentMouseEventElement=Ye;return}}ze.handled||this.onMouseDown(je,ze)}handleMouseMove(je,ze){this.currentMouseEventElement&&this.currentMouseEventElement.onMouseMove(ze),ze.handled||this.onMouseMove(je,ze)}handleMouseUp(je,ze){this.currentMouseEventElement&&(this.currentMouseEventElement.onMouseUp(ze),this.currentMouseEventElement=void 0),ze.handled||this.onMouseUp(je,ze)}handleMouseEnter(je,ze){ze.handled||this.onMouseEnter(je,ze)}handleMouseLeave(je,ze){ze.handled||this.onMouseLeave(je,ze)}handleTouchStarted(je,ze){const qe=new HitTestArguments(ze.position,Kl.mouseHitTolerance);for(const Xe of this.hitTest(qe)){const Ye=Xe.element;if(Ye.onTouchStarted(ze),ze.handled){this.currentTouchEventElement=Ye;return}}ze.handled||this.onTouchStarted(je,ze)}handleTouchDelta(je,ze){this.currentTouchEventElement&&this.currentTouchEventElement.onTouchDelta(ze),ze.handled||this.onTouchDelta(je,ze)}handleTouchCompleted(je,ze){this.currentTouchEventElement&&(this.currentTouchEventElement.onTouchCompleted(ze),this.currentTouchEventElement=void 0),ze.handled||this.onTouchCompleted(je,ze)}handleKeyDown(je,ze){for(const qe of this.getHitTestElements())if(qe.onKeyDown(ze),ze.handled)break;ze.handled||this.onKeyDown(je,ze)}onKeyDown(je,ze){const qe=this.keyDown;qe&&qe(je,ze)}onMouseDown(je,ze){const qe=this.mouseDown;qe&&qe(je,ze)}onMouseMove(je,ze){const qe=this.mouseMove;qe&&qe(je,ze)}onMouseUp(je,ze){const qe=this.mouseUp;qe&&qe(je,ze)}onMouseEnter(je,ze){const qe=this.mouseEnter;qe&&qe(je,ze)}onMouseLeave(je,ze){const qe=this.mouseLeave;qe&&qe(je,ze)}onTouchStarted(je,ze){const qe=this.touchStarted;qe&&qe(je,ze)}onTouchDelta(je,ze){const qe=this.touchDelta;qe&&qe(je,ze)}onTouchCompleted(je,ze){const qe=this.touchCompleted;qe&&qe(je,ze)}};D$1(he$1,"DefaultSelectionColor",OxyColors.Yellow),D$1(he$1,"mouseHitTolerance",10);let Model=he$1;const ue$2=class Zl{constructor(){D$1(this,"selection",new Map)}static get Everything(){return Zl.EverythingSelection}isEverythingSelected(){return this===Zl.EverythingSelection}getSelectedItems(){return Array.from(this.selection.keys()).map(je=>je.Index)}getSelectedItemsByFeature(je){return Array.from(this.selection.keys()).filter(ze=>ze.Feature===je).map(ze=>ze.Index)}clear(){this.selection.clear()}isItemSelected(je,ze=null){if(this.isEverythingSelected())return!0;const qe=new SelectionItem(je,ze);return this.hasSelection(qe)}select(je,ze=null){const qe=new SelectionItem(je,ze);this.setSelection(qe,!0)}unselect(je,ze=null){const qe=new SelectionItem(je,ze);if(!this.hasSelection(qe))throw new Error(`Item ${je} and feature ${ze} is not selected. Cannot unselect.`);this.deleteSelection(qe)}getSameKey(je){for(const ze of this.selection.keys())if(ze.equals(je))return ze}hasSelection(je){return!!this.getSameKey(je)}deleteSelection(je){const ze=this.getSameKey(je);ze&&this.selection.delete(ze)}setSelection(je,ze){const qe=this.getSameKey(je)||je;this.selection.set(qe,ze)}};D$1(ue$2,"EverythingSelection",new ue$2);let Selection=ue$2;class SelectionItem{constructor(je,ze){D$1(this,"index"),D$1(this,"feature"),this.index=je,this.feature=ze}get Index(){return this.index}get Feature(){return this.feature}equals(je){return je.index===this.index&&je.feature===this.feature}}var SelectionMode=(Ve=>(Ve[Ve.All=0]="All",Ve[Ve.Single=1]="Single",Ve[Ve.Multiple=2]="Multiple",Ve))(SelectionMode||{});class InputCommandBinding{constructor(je,ze){D$1(this,"gesture"),D$1(this,"command"),this.gesture=je,this.command=ze}static fromKeyGesture(je,ze,qe){return new InputCommandBinding(new OxyKeyGesture(je,ze),qe)}static fromMouseGesture(je,ze,qe){return new InputCommandBinding(new OxyMouseDownGesture(je,ze),qe)}getGesture(){return this.gesture}getCommand(){return this.command}}class ControllerBase{constructor(){D$1(this,"inputCommandBindings",[]),D$1(this,"mouseDownManipulators",[]),D$1(this,"mouseHoverManipulators",[]),D$1(this,"touchManipulators",[])}handleGesture(je,ze,qe){const Xe=this.getCommand(ze);return this.handleCommand(Xe,je,qe)}handleMouseDown(je,ze){if(je.actualModel&&(je.actualModel.handleMouseDown(this,ze),ze.handled))return!0;const qe=this.getCommand(new OxyMouseDownGesture(ze.changedButton,ze.modifierKeys,ze.clickCount));return this.handleCommand(qe,je,ze)}handleMouseEnter(je,ze){if(je.actualModel&&(je.actualModel.handleMouseEnter(this,ze),ze.handled))return!0;const qe=this.getCommand(new OxyMouseEnterGesture(ze.modifierKeys));return this.handleCommand(qe,je,ze)}handleMouseLeave(je,ze){if(je.actualModel&&(je.actualModel.handleMouseLeave(this,ze),ze.handled))return!0;for(const qe of[...this.mouseHoverManipulators])qe.completed(ze),arrayRemoveFirst(this.mouseHoverManipulators,qe);return ze.handled}handleMouseMove(je,ze){if(je.actualModel&&(je.actualModel.handleMouseMove(this,ze),ze.handled))return!0;for(const qe of this.mouseDownManipulators)qe.delta(ze);for(const qe of this.mouseHoverManipulators)qe.delta(ze);return ze.handled}handleMouseUp(je,ze){if(je.actualModel&&(je.actualModel.handleMouseUp(this,ze),ze.handled))return!0;for(const qe of[...this.mouseDownManipulators])qe.completed(ze),arrayRemoveFirst(this.mouseDownManipulators,qe);return ze.handled}handleMouseWheel(je,ze){const qe=this.getCommand(new OxyMouseWheelGesture(ze.modifierKeys));return this.handleCommand(qe,je,ze)}handleTouchStarted(je,ze){if(je.actualModel&&(je.actualModel.handleTouchStarted(this,ze),ze.handled))return!0;const qe=this.getCommand(new OxyTouchGesture);return this.handleCommand(qe,je,ze)}handleTouchDelta(je,ze){if(je.actualModel&&(je.actualModel.handleTouchDelta(this,ze),ze.handled))return!0;for(const qe of this.touchManipulators)qe.delta(ze);return ze.handled}handleTouchCompleted(je,ze){if(je.actualModel&&(je.actualModel.handleTouchCompleted(this,ze),ze.handled))return!0;for(const qe of[...this.touchManipulators])qe.completed(ze),arrayRemoveFirst(this.touchManipulators,qe);return ze.handled}handleKeyDown(je,ze){if(!je.actualModel)return!1;if(je.actualModel.handleKeyDown(this,ze),ze.handled)return!0;const qe=this.getCommand(new OxyKeyGesture(ze.key,ze.modifierKeys));return this.handleCommand(qe,je,ze)}addMouseManipulator(je,ze,qe){this.mouseDownManipulators.push(ze),ze.started(qe)}addHoverManipulator(je,ze,qe){this.mouseHoverManipulators.push(ze),ze.started(qe)}addTouchManipulator(je,ze,qe){this.touchManipulators.push(ze),ze.started(qe)}bindMouseDown(je,ze){this.bindCore(je,ze)}bindMouseEnter(je,ze){this.bindCore(je,ze)}bindMouseWheel(je,ze){this.bindCore(je,ze)}bindTouch(je,ze){this.bindCore(je,ze)}bindKey(je,ze){this.bindCore(je,ze)}unbindInput(je){arrayRemoveIf(this.inputCommandBindings,ze=>ze.getGesture().equals(je))}unbindViewCommand(je){arrayRemoveIf(this.inputCommandBindings,ze=>ze.getCommand()===je)}unbindAll(){this.inputCommandBindings.length=0}bindCore(je,ze){const qe=this.inputCommandBindings.find(Xe=>Xe.getGesture().equals(je));qe&&arrayRemoveFirst(this.inputCommandBindings,qe),ze&&this.inputCommandBindings.push(new InputCommandBinding(je,ze))}getCommand(je){const ze=this.inputCommandBindings.find(qe=>qe.getGesture().equals(je));return ze?ze.getCommand():void 0}handleCommand(je,ze,qe){return je?(je.execute(ze,this,qe),qe.handled):!1}}class ControllerExtensions{static bindKeyDown(je,ze,qe,Xe=OxyModifierKeys.None){je.bindKey(new OxyKeyGesture(ze,Xe),qe)}static bindMouseDown(je,ze,qe,Xe=OxyModifierKeys.None,Ye=1){je.bindMouseDown(new OxyMouseDownGesture(ze,Xe,Ye),qe)}static bindTouchDown(je,ze){je.bindTouch(new OxyTouchGesture,ze)}static bindMouseEnter(je,ze){je.bindMouseEnter(new OxyMouseEnterGesture,ze)}static bindMouseWheel(je,ze,qe=OxyModifierKeys.None){je.bindMouseWheel(new OxyMouseWheelGesture(qe),ze)}static unbindMouseDown(je,ze,qe=OxyModifierKeys.None,Xe=1){je.unbindInput(new OxyMouseDownGesture(ze,qe,Xe))}static unbindKeyDown(je,ze,qe=OxyModifierKeys.None){je.unbindInput(new OxyKeyGesture(ze,qe))}static unbindMouseEnter(je){je.unbindInput(new OxyMouseEnterGesture)}static unbindTouchDown(je){je.unbindInput(new OxyTouchGesture)}static unbindMouseWheel(je){je.unbindInput(new OxyMouseWheelGesture)}}class DelegateViewCommand{constructor(je){D$1(this,"handler"),this.handler=je}execute(je,ze,qe){this.handler(je,ze,qe)}}var ImageFormat=(Ve=>(Ve[Ve.Png=0]="Png",Ve[Ve.Bmp=1]="Bmp",Ve[Ve.Jpeg=2]="Jpeg",Ve[Ve.Unknown=3]="Unknown",Ve))(ImageFormat||{});class OxyImage{constructor(je){D$1(this,"_data"),D$1(this,"uri"),D$1(this,"format",ImageFormat.Unknown),D$1(this,"width",0),D$1(this,"height",0),D$1(this,"bitsPerPixel",0),D$1(this,"dpiX",96),D$1(this,"dpiY",96),D$1(this,"_hashCode"),this._data=je}static async create(je,ze,qe,Xe){const Ye=getImageService(),Ke=je.height,Ze=je.width,Qe={pixels:je,palette:Xe,imageInfo:{width:Ze,height:Ke,bitsPerPixel:0,dpiX:qe==null?void 0:qe.dpiX,dpiY:qe==null?void 0:qe.dpiY,format:ze}},Je=await Ye.encode(Qe),St=new OxyImage(Je);return St.width=Ze,St.height=Ke,St}get data(){return this._data}static getImageFormat(je){return je.length>=2&&je[0]===255&&je[1]===216?ImageFormat.Jpeg:je.length>=2&&je[0]===66&&je[1]===77?ImageFormat.Bmp:je.length>=4&&je[0]===137&&je[1]===80&&je[2]===78&&je[3]===71?ImageFormat.Png:ImageFormat.Unknown}getHashCode(){return this._hashCode===void 0&&(this._hashCode=hashCode([...this._data])),this._hashCode}}var OxyKey=(Ve=>(Ve[Ve.Space=0]="Space",Ve[Ve.Enter=1]="Enter",Ve[Ve.Escape=2]="Escape",Ve[Ve.Tab=3]="Tab",Ve[Ve.Backspace=4]="Backspace",Ve[Ve.Insert=5]="Insert",Ve[Ve.Delete=6]="Delete",Ve[Ve.Home=7]="Home",Ve[Ve.End=8]="End",Ve[Ve.Up=9]="Up",Ve[Ve.Down=10]="Down",Ve[Ve.Left=11]="Left",Ve[Ve.Right=12]="Right",Ve[Ve.PageUp=13]="PageUp",Ve[Ve.PageDown=14]="PageDown",Ve[Ve.A=15]="A",Ve[Ve.B=16]="B",Ve[Ve.C=17]="C",Ve[Ve.D=18]="D",Ve[Ve.E=19]="E",Ve[Ve.F=20]="F",Ve[Ve.G=21]="G",Ve[Ve.H=22]="H",Ve[Ve.I=23]="I",Ve[Ve.J=24]="J",Ve[Ve.K=25]="K",Ve[Ve.L=26]="L",Ve[Ve.M=27]="M",Ve[Ve.N=28]="N",Ve[Ve.O=29]="O",Ve[Ve.P=30]="P",Ve[Ve.Q=31]="Q",Ve[Ve.R=32]="R",Ve[Ve.S=33]="S",Ve[Ve.T=34]="T",Ve[Ve.U=35]="U",Ve[Ve.V=36]="V",Ve[Ve.W=37]="W",Ve[Ve.X=38]="X",Ve[Ve.Y=39]="Y",Ve[Ve.Z=40]="Z",Ve[Ve.D0=41]="D0",Ve[Ve.D1=42]="D1",Ve[Ve.D2=43]="D2",Ve[Ve.D3=44]="D3",Ve[Ve.D4=45]="D4",Ve[Ve.D5=46]="D5",Ve[Ve.D6=47]="D6",Ve[Ve.D7=48]="D7",Ve[Ve.D8=49]="D8",Ve[Ve.D9=50]="D9",Ve[Ve.NumPad0=51]="NumPad0",Ve[Ve.NumPad1=52]="NumPad1",Ve[Ve.NumPad2=53]="NumPad2",Ve[Ve.NumPad3=54]="NumPad3",Ve[Ve.NumPad4=55]="NumPad4",Ve[Ve.NumPad5=56]="NumPad5",Ve[Ve.NumPad6=57]="NumPad6",Ve[Ve.NumPad7=58]="NumPad7",Ve[Ve.NumPad8=59]="NumPad8",Ve[Ve.NumPad9=60]="NumPad9",Ve[Ve.Add=61]="Add",Ve[Ve.Subtract=62]="Subtract",Ve[Ve.Multiply=63]="Multiply",Ve[Ve.Divide=64]="Divide",Ve[Ve.Decimal=65]="Decimal",Ve[Ve.F1=66]="F1",Ve[Ve.F2=67]="F2",Ve[Ve.F3=68]="F3",Ve[Ve.F4=69]="F4",Ve[Ve.F5=70]="F5",Ve[Ve.F6=71]="F6",Ve[Ve.F7=72]="F7",Ve[Ve.F8=73]="F8",Ve[Ve.F9=74]="F9",Ve[Ve.F10=75]="F10",Ve[Ve.F11=76]="F11",Ve[Ve.F12=77]="F12",Ve[Ve.Unknown=78]="Unknown",Ve))(OxyKey||{}),OxyModifierKeys=(Ve=>(Ve[Ve.None=0]="None",Ve[Ve.Control=1]="Control",Ve[Ve.Alt=2]="Alt",Ve[Ve.Shift=4]="Shift",Ve[Ve.Windows=8]="Windows",Ve))(OxyModifierKeys||{}),OxyMouseButton=(Ve=>(Ve[Ve.None=0]="None",Ve[Ve.Left=1]="Left",Ve[Ve.Middle=2]="Middle",Ve[Ve.Right=3]="Right",Ve[Ve.XButton1=4]="XButton1",Ve[Ve.XButton2=5]="XButton2",Ve))(OxyMouseButton||{});class OxyKeyGesture{constructor(je,ze=OxyModifierKeys.None){this.key=je,this.modifiers=ze}equals(je){if(!(je instanceof OxyKeyGesture))return!1;const ze=je;return ze.modifiers===this.modifiers&&ze.key===this.key}}class OxyMouseDownGesture{constructor(je,ze=OxyModifierKeys.None,qe=1){this.mouseButton=je,this.modifiers=ze,this.clickCount=qe}equals(je){if(!(je instanceof OxyMouseDownGesture))return!1;const ze=je;return ze.modifiers===this.modifiers&&ze.mouseButton===this.mouseButton&&ze.clickCount===this.clickCount}}class OxyMouseEnterGesture{constructor(je=OxyModifierKeys.None){this.modifiers=je}equals(je){return je instanceof OxyMouseEnterGesture?je.modifiers===this.modifiers:!1}}class OxyMouseWheelGesture{constructor(je=OxyModifierKeys.None){this.modifiers=je}equals(je){return je instanceof OxyMouseWheelGesture?je.modifiers===this.modifiers:!1}}class OxyShakeGesture{equals(je){return je instanceof OxyShakeGesture}}class OxyTouchGesture{equals(je){return je instanceof OxyTouchGesture}}var LegendPlacement=(Ve=>(Ve[Ve.Inside=0]="Inside",Ve[Ve.Outside=1]="Outside",Ve))(LegendPlacement||{}),LegendPosition=(Ve=>(Ve[Ve.TopLeft=0]="TopLeft",Ve[Ve.TopCenter=1]="TopCenter",Ve[Ve.TopRight=2]="TopRight",Ve[Ve.BottomLeft=3]="BottomLeft",Ve[Ve.BottomCenter=4]="BottomCenter",Ve[Ve.BottomRight=5]="BottomRight",Ve[Ve.LeftTop=6]="LeftTop",Ve[Ve.LeftMiddle=7]="LeftMiddle",Ve[Ve.LeftBottom=8]="LeftBottom",Ve[Ve.RightTop=9]="RightTop",Ve[Ve.RightMiddle=10]="RightMiddle",Ve[Ve.RightBottom=11]="RightBottom",Ve))(LegendPosition||{});const isLeftLegend=Ve=>Ve===6||Ve===7||Ve===8,isRightLegend=Ve=>Ve===9||Ve===10||Ve===11,isTopLegend=Ve=>Ve===0||Ve===1||Ve===2,isBottomLegend=Ve=>Ve===3||Ve===4||Ve===5;var LegendOrientation=(Ve=>(Ve[Ve.Horizontal=0]="Horizontal",Ve[Ve.Vertical=1]="Vertical",Ve))(LegendOrientation||{}),LegendItemOrder=(Ve=>(Ve[Ve.Normal=0]="Normal",Ve[Ve.Reverse=1]="Reverse",Ve))(LegendItemOrder||{}),LegendSymbolPlacement=(Ve=>(Ve[Ve.Left=0]="Left",Ve[Ve.Right=1]="Right",Ve))(LegendSymbolPlacement||{});class LegendBase extends PlotElement{constructor(je){super(je),D$1(this,"key"),D$1(this,"isLegendVisible",!1),D$1(this,"legendOrientation",0),D$1(this,"legendPadding",0),D$1(this,"legendSymbolLength",0),D$1(this,"legendSymbolMargin",0),D$1(this,"legendSymbolPlacement",0),D$1(this,"legendTitle"),D$1(this,"legendTitleColor",OxyColors.Undefined),D$1(this,"legendTitleFont"),D$1(this,"legendTitleFontSize",0),D$1(this,"legendTitleFontWeight",0),D$1(this,"legendArea",OxyRect.Empty),D$1(this,"legendSize",OxySize.Empty),D$1(this,"legendBackground",OxyColors.Undefined),D$1(this,"legendBorder",OxyColors.Undefined),D$1(this,"legendBorderThickness",0),D$1(this,"legendColumnSpacing",0),D$1(this,"legendFont"),D$1(this,"legendFontSize",0),D$1(this,"legendTextColor"),D$1(this,"legendFontWeight",0),D$1(this,"legendItemAlignment",HorizontalAlignment.Left),D$1(this,"legendItemOrder",0),D$1(this,"legendItemSpacing",0),D$1(this,"legendLineSpacing",0),D$1(this,"legendMargin",0),D$1(this,"legendMaxWidth",0),D$1(this,"legendMaxHeight",0),D$1(this,"legendPlacement",0),D$1(this,"legendPosition",0),D$1(this,"allowUseFullExtent",!1),D$1(this,"showInvisibleSeries",!1)}hitTestOverride(je){return this.legendHitTest(je)}}class Legend extends LegendBase{constructor(je){super(je),D$1(this,"legendBox"),D$1(this,"seriesPosMap",new Map),D$1(this,"groupNameFont"),D$1(this,"groupNameFontSize"),D$1(this,"groupNameFontWeight"),D$1(this,"seriesInvisibleTextColor"),this.isLegendVisible=!0,this.legendBox=OxyRect.Empty,this.key=void 0,this.groupNameFont=void 0,this.groupNameFontWeight=FontWeights.Normal,this.groupNameFontSize=NaN,this.legendTitleFont=void 0,this.legendTitleFontSize=NaN,this.legendTitleFontWeight=FontWeights.Bold,this.legendFont=void 0,this.legendFontSize=NaN,this.legendFontWeight=FontWeights.Normal,this.legendSymbolLength=16,this.legendSymbolMargin=4,this.legendPadding=8,this.legendColumnSpacing=8,this.legendItemSpacing=24,this.legendLineSpacing=0,this.legendMargin=8,this.legendBackground=OxyColors.Undefined,this.legendBorder=OxyColors.Undefined,this.legendBorderThickness=1,this.legendTextColor=OxyColors.Automatic,this.legendTitleColor=OxyColors.Automatic,this.legendMaxWidth=NaN,this.legendMaxHeight=NaN,this.legendPlacement=LegendPlacement.Inside,this.legendPosition=LegendPosition.RightTop,this.legendOrientation=LegendOrientation.Vertical,this.legendItemOrder=LegendItemOrder.Normal,this.legendItemAlignment=HorizontalAlignment.Left,this.legendSymbolPlacement=LegendSymbolPlacement.Left,this.showInvisibleSeries=!0,this.seriesInvisibleTextColor=OxyColor.fromAColor(64,this.legendTextColor),this.selectable=!0,this.selectionMode=SelectionMode.Single,je&&Object.assign(this,removeUndef(je))}legendHitTest(je){if(!this.isLegendVisible||!this.plotModel.isLegendVisible)return;const ze=je.point;if(this.isPointInLegend(ze)&&this.seriesPosMap&&this.seriesPosMap.size>0){for(const[qe,Xe]of this.seriesPosMap)if(Xe.containsPoint(ze)&&this.showInvisibleSeries){qe.isVisible=!qe.isVisible,this.plotModel.invalidatePlot(!1);break}}}isPointInLegend(je){return this.legendBox.containsPoint(je)}ensureLegendProperties(){switch(this.legendPosition){case LegendPosition.LeftTop:case LegendPosition.LeftMiddle:case LegendPosition.LeftBottom:case LegendPosition.RightTop:case LegendPosition.RightMiddle:case LegendPosition.RightBottom:this.legendOrientation===LegendOrientation.Horizontal&&(this.legendOrientation=LegendOrientation.Vertical);break}}async renderLegends(je){await this.renderOrMeasureLegends(je,this.legendArea)}async getLegendSize(je,ze){const qe=ze.width,Xe=ze.height;let Ye=await this.measureLegends(je,new OxySize(Math.max(0,qe),Math.max(0,Xe)));return Ye=new OxySize(Math.max(0,Ye.width),Math.max(0,Ye.height)),Ye}getLegendRectangle(je){let ze=0,qe=0;if(this.legendPlacement===LegendPlacement.Outside){switch(this.legendPosition){case LegendPosition.LeftTop:case LegendPosition.LeftMiddle:case LegendPosition.LeftBottom:qe=this.plotModel.plotAndAxisArea.left-je.width-this.legendMargin;break;case LegendPosition.RightTop:case LegendPosition.RightMiddle:case LegendPosition.RightBottom:qe=this.plotModel.plotAndAxisArea.right+this.legendMargin;break;case LegendPosition.TopLeft:case LegendPosition.TopCenter:case LegendPosition.TopRight:ze=this.plotModel.plotAndAxisArea.top-je.height-this.legendMargin;break;case LegendPosition.BottomLeft:case LegendPosition.BottomCenter:case LegendPosition.BottomRight:ze=this.plotModel.plotAndAxisArea.bottom+this.legendMargin;break}const Xe=this.allowUseFullExtent?this.plotModel.plotAndAxisArea:this.plotModel.plotArea;switch(this.legendPosition){case LegendPosition.TopLeft:case LegendPosition.BottomLeft:qe=Xe.left;break;case LegendPosition.TopRight:case LegendPosition.BottomRight:qe=Xe.right-je.width;break;case LegendPosition.LeftTop:case LegendPosition.RightTop:ze=Xe.top;break;case LegendPosition.LeftBottom:case LegendPosition.RightBottom:ze=Xe.bottom-je.height;break;case LegendPosition.LeftMiddle:case LegendPosition.RightMiddle:ze=(Xe.top+Xe.bottom-je.height)*.5;break;case LegendPosition.TopCenter:case LegendPosition.BottomCenter:qe=(Xe.left+Xe.right-je.width)*.5;break}}else{switch(this.legendPosition){case LegendPosition.LeftTop:case LegendPosition.LeftMiddle:case LegendPosition.LeftBottom:qe=this.plotModel.plotArea.left+this.legendMargin;break;case LegendPosition.RightTop:case LegendPosition.RightMiddle:case LegendPosition.RightBottom:qe=this.plotModel.plotArea.right-je.width-this.legendMargin;break;case LegendPosition.TopLeft:case LegendPosition.TopCenter:case LegendPosition.TopRight:ze=this.plotModel.plotArea.top+this.legendMargin;break;case LegendPosition.BottomLeft:case LegendPosition.BottomCenter:case LegendPosition.BottomRight:ze=this.plotModel.plotArea.bottom-je.height-this.legendMargin;break}switch(this.legendPosition){case LegendPosition.TopLeft:case LegendPosition.BottomLeft:qe=this.plotModel.plotArea.left+this.legendMargin;break;case LegendPosition.TopRight:case LegendPosition.BottomRight:qe=this.plotModel.plotArea.right-je.width-this.legendMargin;break;case LegendPosition.LeftTop:case LegendPosition.RightTop:ze=this.plotModel.plotArea.top+this.legendMargin;break;case LegendPosition.LeftBottom:case LegendPosition.RightBottom:ze=this.plotModel.plotArea.bottom-je.height-this.legendMargin;break;case LegendPosition.LeftMiddle:case LegendPosition.RightMiddle:ze=(this.plotModel.plotArea.top+this.plotModel.plotArea.bottom-je.height)*.5;break;case LegendPosition.TopCenter:case LegendPosition.BottomCenter:qe=(this.plotModel.plotArea.left+this.plotModel.plotArea.right-je.width)*.5;break}}return new OxyRect(qe,ze,je.width,je.height)}async renderLegend(je,ze,qe){let Xe=this.legendItemAlignment;this.legendOrientation===LegendOrientation.Horizontal&&(Xe=HorizontalAlignment.Left);let Ye=qe.left;switch(Xe){case HorizontalAlignment.Center:Ye=(qe.left+qe.right)/2,this.legendSymbolPlacement===LegendSymbolPlacement.Left?Ye-=(this.legendSymbolLength+this.legendSymbolMargin)/2:Ye-=(this.legendSymbolLength+this.legendSymbolMargin)/2;break;case HorizontalAlignment.Right:Ye=qe.right,this.legendSymbolPlacement===LegendSymbolPlacement.Right&&(Ye-=this.legendSymbolLength+this.legendSymbolMargin);break}this.legendSymbolPlacement===LegendSymbolPlacement.Left&&(Ye+=this.legendSymbolLength+this.legendSymbolMargin);const Ke=qe.top,Ze=new OxySize(Math.max(qe.width-this.legendSymbolLength-this.legendSymbolMargin,0),qe.height),Qe=isNaN(this.legendFontSize)?this.plotModel.defaultFontSize:this.legendFontSize;let Je=ze.isVisible?this.legendTextColor:this.seriesInvisibleTextColor;Je=Je||OxyColors.Black,je.setToolTip(ze.toolTip);const St=await MathRenderingExtensions.drawMathText(je,new ScreenPoint(Ye,Ke),ze.title||"",Je.getActualColor(this.plotModel.textColor),this.legendFont??this.plotModel.defaultFont,Qe,this.legendFontWeight,0,Xe,VerticalAlignment.Top,Ze,!0);this.seriesPosMap.set(ze,OxyRect.fromScreenPointAndSize(new ScreenPoint(Ye,Ke),St));let ei=Ye;switch(Xe){case HorizontalAlignment.Center:ei=Ye-St.width*.5;break;case HorizontalAlignment.Right:ei=Ye-St.width;break}if(ze.isVisible){const ti=new OxyRect(this.legendSymbolPlacement===LegendSymbolPlacement.Right?ei+St.width+this.legendSymbolMargin:ei-this.legendSymbolMargin-this.legendSymbolLength,qe.top,this.legendSymbolLength,St.height);await ze.renderLegend(je,ti)}je.setToolTip(void 0)}measureLegends(je,ze){return this.renderOrMeasureLegends(je,new OxyRect(0,0,ze.width,ze.height),!0)}async renderOrMeasureLegends(je,ze,qe=!1){if(!qe&&ze.width>0&&ze.height>0){this.legendBox=ze;const hi=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);await je.drawRectangle(ze,this.legendBackground,this.legendBorder,this.legendBorderThickness,hi)}const Xe=ze.width,Ye=ze.height;let Ke=this.legendPadding,Ze=this.legendPadding,Qe=OxySize.Empty;const Je=isNaN(this.legendFontSize)?this.plotModel.defaultFontSize:this.legendFontSize,St=isNaN(this.legendTitleFontSize)?Je:this.legendTitleFontSize,ei=isNaN(this.groupNameFontSize)?Je:this.groupNameFontSize;if(this.legendTitle){let hi;qe?hi=await MathRenderingExtensions.measureMathText(je,this.legendTitle,this.legendTitleFont??this.plotModel.defaultFont,St,this.legendTitleFontWeight):hi=await MathRenderingExtensions.drawMathText(je,new ScreenPoint(ze.left+Ke,ze.top+Ze),this.legendTitle,this.legendTitleColor.getActualColor(this.plotModel.textColor),this.legendTitleFont??this.plotModel.defaultFont,St,this.legendTitleFontWeight,0,HorizontalAlignment.Left,VerticalAlignment.Top,void 0,!0),Ze+=hi.height,Qe=new OxySize(Ke+hi.width+this.legendPadding,Ze+hi.height)}let ti=Ze,ii=0;const ri=.001;let si=0;const ui=getReversedCopy(this.plotModel.series),ai=this.legendItemOrder===LegendItemOrder.Reverse?ui.filter(hi=>hi.renderInLegend&&hi.legendKey===this.key):this.plotModel.series.filter(hi=>hi.renderInLegend&&hi.legendKey===this.key),oi=[];for(const hi of ai)oi.includes(hi.seriesGroupName||"")||oi.push(hi.seriesGroupName||"");this.seriesPosMap.clear();const ni=new Map,ci=async()=>{const hi=[];for(const[di,fi]of ni){if(di.seriesGroupName&&!hi.includes(di.seriesGroupName)){hi.push(di.seriesGroupName);const gi=await MathRenderingExtensions.measureMathText(je,di.seriesGroupName,this.groupNameFont??this.plotModel.defaultFont,ei,this.groupNameFontWeight);let yi=fi.top,Ai=fi.left;this.legendOrientation===LegendOrientation.Vertical?yi-=gi.height+this.legendLineSpacing/2:Ai-=gi.width+this.legendItemSpacing/2,await MathRenderingExtensions.drawMathText(je,new ScreenPoint(Ai,yi),di.seriesGroupName,this.legendTitleColor.getActualColor(this.plotModel.textColor),this.groupNameFont??this.plotModel.defaultFont,ei,this.groupNameFontWeight,0,HorizontalAlignment.Left,VerticalAlignment.Top,void 0,!0)}let mi=Xe;fi.left+mi+this.legendPadding>ze.left+Xe&&(mi=ze.left+Xe-fi.left-this.legendPadding);let pi=fi.height;ze.top+pi+this.legendPadding>ze.top+Ye&&(pi=ze.top+Ye-ze.top-this.legendPadding);const wi=new OxyRect(fi.left,fi.top,Math.max(mi,0),Math.max(pi,0));await this.renderLegend(je,di,wi)}hi.length=0,ni.clear()};qe||je.pushClip(ze);for(const hi of oi){const di=ai.filter(pi=>(pi.seriesGroupName||"")===hi);let fi=OxySize.Empty;di.length>0&&hi&&(fi=await MathRenderingExtensions.measureMathText(je,hi,this.groupNameFont??this.plotModel.defaultFont,ei,this.groupNameFontWeight),this.legendOrientation===LegendOrientation.Vertical?ti+=fi.height:Ke+=fi.width);let mi=0;for(const pi of di){if(!pi.title||!pi.renderInLegend||!pi.isVisible&&!this.showInvisibleSeries)continue;const wi=await MathRenderingExtensions.measureMathText(je,pi.title,this.legendFont??this.plotModel.defaultFont,Je,this.legendFontWeight),gi=this.legendSymbolLength+this.legendSymbolMargin+wi.width,yi=wi.height;this.legendOrientation===LegendOrientation.Horizontal?(Ke>this.legendPadding&&(Ke+=this.legendItemSpacing),Ke+gi>Xe-this.legendPadding+ri&&(Ke=this.legendPadding,mi===0&&fi.width>0&&(Ke+=fi.width+this.legendItemSpacing),ti+=ii+this.legendLineSpacing,ii=0),ii=Math.max(ii,wi.height),qe||ni.set(pi,new OxyRect(ze.left+Ke,ze.top+ti,gi,yi)),Ke+=gi,Ke=Math.max(fi.width,Ke),Qe=new OxySize(Math.max(Qe.width,Ke),Math.max(Qe.height,ti+wi.height))):(ti+yi>Ye-this.legendPadding+ri&&(await ci(),ti=Ze+fi.height,Ke+=si+this.legendColumnSpacing,si=0),qe||ni.set(pi,new OxyRect(ze.left+Ke,ze.top+ti,gi,yi)),ti+=yi+this.legendLineSpacing,si=Math.max(si,gi),Qe=new OxySize(Math.max(Qe.width,Ke+gi),Math.max(Qe.height,ti))),mi++}await ci()}return qe||je.popClip(),Qe.width>0&&(Qe=new OxySize(Qe.width+this.legendPadding,Qe.height)),Qe.height>0&&(Qe=new OxySize(Qe.width,Qe.height+this.legendPadding)),Qe.width>Xe&&(Qe=new OxySize(Xe,Qe.height)),Qe.height>Ye&&(Qe=new OxySize(Qe.width,Ye)),!isNaN(this.legendMaxWidth)&&Qe.width>this.legendMaxWidth&&(Qe=new OxySize(this.legendMaxWidth,Qe.height)),!isNaN(this.legendMaxHeight)&&Qe.height>this.legendMaxHeight&&(Qe=new OxySize(Qe.width,this.legendMaxHeight)),Qe}}class OxyModifierKeysExtensions{static isAltDown(je){return(je.modifierKeys&OxyModifierKeys.Alt)===OxyModifierKeys.Alt}static isControlDown(je){return(je.modifierKeys&OxyModifierKeys.Control)===OxyModifierKeys.Control}static isShiftDown(je){return(je.modifierKeys&OxyModifierKeys.Shift)===OxyModifierKeys.Shift}}class TrackerHitResult{constructor(je){D$1(this,"dataPoint"),D$1(this,"item"),D$1(this,"index",0),D$1(this,"lineExtents"),D$1(this,"plotModel"),D$1(this,"position"),D$1(this,"series"),D$1(this,"text"),je&&Object.assign(this,removeUndef(je))}get xAxis(){return!this.series||!(this.series instanceof XYAxisSeries)?void 0:this.series.xAxis}get yAxis(){return!this.series||!(this.series instanceof XYAxisSeries)?void 0:this.series.yAxis}toString(){return this.text?this.text.trim():""}}var AxisPreference=(Ve=>(Ve[Ve.None=0]="None",Ve[Ve.X=1]="X",Ve[Ve.Y=2]="Y",Ve))(AxisPreference||{});class PlotManipulator extends ManipulatorBase{constructor(je){super(je),D$1(this,"plotView"),D$1(this,"axisPreference",AxisPreference.None),D$1(this,"xAxis"),D$1(this,"yAxis"),this.plotView=je}inverseTransform(je,ze){return this.xAxis?this.xAxis.inverseTransformPoint(je,ze,this.yAxis):this.yAxis?new DataPoint(0,this.yAxis.inverseTransform(ze)):DataPoint.Zero}assignAxes(je){let ze,qe;this.plotView.actualModel?([ze,qe]=this.plotView.actualModel.getAxesFromPoint(je),this.axisPreference!==AxisPreference.None&&this.plotView.actualModel.plotArea.containsPoint(je)&&(this.axisPreference===AxisPreference.X?ze&&(qe=void 0):this.axisPreference===AxisPreference.Y&&qe&&(ze=void 0))):(ze=void 0,qe=void 0),this.xAxis=ze,this.yAxis=qe}}class MouseManipulator extends PlotManipulator{constructor(je){super(je),D$1(this,"startPosition")}started(je){this.assignAxes(je.position),this.startPosition=je.position}}class ZoomStepManipulator extends MouseManipulator{constructor(je,ze,qe){super(je),D$1(this,"fineControl"),D$1(this,"step"),this.step=ze,this.fineControl=qe}started(je){if(super.started(je),!(this.xAxis&&this.xAxis.isZoomEnabled||this.yAxis&&this.yAxis.isZoomEnabled))return;const ze=this.inverseTransform(je.position.x,je.position.y);let qe=this.step;this.fineControl&&(qe*=3),qe>0?qe=1+qe:qe=1/(1-qe),this.xAxis&&this.xAxis.zoomAt(qe,ze.x),this.yAxis&&this.yAxis.zoomAt(qe,ze.y),this.plotView.invalidatePlot(!1),je.handled=!0}}class PanManipulator extends MouseManipulator{constructor(je){super(je),D$1(this,"previousPosition",ScreenPoint.LeftTop),D$1(this,"isPanEnabled",!1)}completed(je){super.completed(je),this.isPanEnabled&&(this.view.setCursorType(CursorType.Default),je.handled=!0)}delta(je){super.delta(je),this.isPanEnabled&&(this.xAxis&&this.xAxis.pan(this.previousPosition,je.position),this.yAxis&&this.yAxis.pan(this.previousPosition,je.position),this.plotView.invalidatePlot(!1),this.previousPosition=je.position,je.handled=!0)}started(je){super.started(je),this.previousPosition=je.position,this.isPanEnabled=!!(this.xAxis&&this.xAxis.isPanEnabled||this.yAxis&&this.yAxis.isPanEnabled),this.isPanEnabled&&(this.view.setCursorType(CursorType.Pan),je.handled=!0)}}class ZoomRectangleManipulator extends MouseManipulator{constructor(je){super(je),D$1(this,"zoomRectangle",OxyRect.Empty),D$1(this,"isZoomEnabled",!1)}completed(je){if(super.completed(je),!!this.isZoomEnabled){if(this.plotView.setCursorType(CursorType.Default),this.plotView.hideZoomRectangle(),this.zoomRectangle.width>10&&this.zoomRectangle.height>10){const ze=this.inverseTransform(this.zoomRectangle.left,this.zoomRectangle.top),qe=this.inverseTransform(this.zoomRectangle.right,this.zoomRectangle.bottom);this.xAxis&&this.xAxis.zoom(ze.x,qe.x),this.yAxis&&this.yAxis.zoom(ze.y,qe.y),this.plotView.invalidatePlot()}je.handled=!0}}delta(je){if(super.delta(je),!this.plotView.actualModel||!this.isZoomEnabled||!this.startPosition)return;const ze=this.plotView.actualModel.plotArea;let qe=Math.min(this.startPosition.x,je.position.x),Xe=Math.abs(this.startPosition.x-je.position.x),Ye=Math.min(this.startPosition.y,je.position.y),Ke=Math.abs(this.startPosition.y-je.position.y);(this.xAxis===void 0||!this.xAxis.isZoomEnabled)&&(qe=ze.left,Xe=ze.width),(this.yAxis===void 0||!this.yAxis.isZoomEnabled)&&(Ye=ze.top,Ke=ze.height),this.zoomRectangle=new OxyRect(qe,Ye,Xe,Ke),this.plotView.showZoomRectangle(this.zoomRectangle),je.handled=!0}started(je){super.started(je),this.isZoomEnabled=!!(this.xAxis&&this.xAxis.isZoomEnabled||this.yAxis&&this.yAxis.isZoomEnabled),this.isZoomEnabled&&this.startPosition&&(this.zoomRectangle=new OxyRect(this.startPosition.x,this.startPosition.y,0,0),this.plotView.showZoomRectangle(this.zoomRectangle),this.plotView.setCursorType(this.getCursorType()),je.handled=!0)}getCursorType(){return this.xAxis===void 0?CursorType.ZoomVertical:this.yAxis===void 0?CursorType.ZoomHorizontal:CursorType.ZoomRectangle}}class TouchManipulator extends PlotManipulator{constructor(je){super(je),D$1(this,"setHandledForPanOrZoom"),D$1(this,"isPanEnabled",!1),D$1(this,"isZoomEnabled",!1),this.setHandledForPanOrZoom=!0}completed(je){super.completed(je),this.setHandledForPanOrZoom&&(je.handled=je.handled||this.isPanEnabled||this.isZoomEnabled)}delta(je){if(super.delta(je),!this.isPanEnabled&&!this.isZoomEnabled)return;const ze=je.position,qe=ze.minusVector(je.deltaTranslation);this.xAxis&&this.xAxis.pan(qe,ze),this.yAxis&&this.yAxis.pan(qe,ze);const Xe=this.inverseTransform(ze.x,ze.y);this.xAxis&&this.xAxis.zoomAt(je.deltaScale.x,Xe.x),this.yAxis&&this.yAxis.zoomAt(je.deltaScale.y,Xe.y),this.plotView.invalidatePlot(!1),je.handled=!0}started(je){this.assignAxes(je.position),super.started(je),this.setHandledForPanOrZoom&&(this.isPanEnabled=!!(this.xAxis&&this.xAxis.isPanEnabled||this.yAxis&&this.yAxis.isPanEnabled),this.isZoomEnabled=!!(this.xAxis&&this.xAxis.isZoomEnabled||this.yAxis&&this.yAxis.isZoomEnabled),je.handled=je.handled||this.isPanEnabled||this.isZoomEnabled)}}class TrackerManipulator extends MouseManipulator{constructor(je,ze){super(je),D$1(this,"currentSeries"),D$1(this,"pointsOnly"),D$1(this,"snap"),D$1(this,"lockToInitialSeries"),D$1(this,"firesDistance"),D$1(this,"checkDistanceBetweenPoints"),D$1(this,"isTrackAnnotations",!0),this.snap=!0,this.pointsOnly=!1,this.lockToInitialSeries=!0,this.firesDistance=20,this.checkDistanceBetweenPoints=!1,this.isTrackAnnotations=!0,ze&&Object.assign(this,removeUndef(ze))}completed(je){super.completed(je),je.handled=!0,this.currentSeries=void 0,this.plotView.hideTracker(),this.plotView.actualModel&&this.plotView.actualModel.raiseTrackerChanged(void 0)}delta(je){var ze;if(super.delta(je),je.handled=!0,(!this.currentSeries||!this.lockToInitialSeries)&&(this.currentSeries=(ze=this.plotView.actualModel)==null?void 0:ze.getSeriesFromPoint(je.position,this.firesDistance)),!this.currentSeries){this.lockToInitialSeries||this.plotView.hideTracker(),this.isTrackAnnotations&&this.trackAnnotations(je.position);return}const qe=this.plotView.actualModel;if(!qe||!qe.plotArea.contains(je.position.x,je.position.y))return;const Xe=TrackerHelper.getNearestHit(this.currentSeries,je.position,this.snap,this.pointsOnly,this.firesDistance,this.checkDistanceBetweenPoints);Xe&&(Xe.plotModel=this.plotView.actualModel,this.plotView.showTracker(Xe),this.plotView.actualModel.raiseTrackerChanged(Xe))}started(je){var ze;super.started(je),this.currentSeries=(ze=this.plotView.actualModel)==null?void 0:ze.getSeriesFromPoint(je.position,this.firesDistance),this.delta(je)}trackAnnotations(je){const ze=this.plotView.actualModel;for(const qe of ze.annotations.filter(Xe=>Xe.toolTip).reverse()){if(!qe.toolTip)continue;const Xe=new HitTestArguments(je,this.firesDistance);if(!qe.hitTest(Xe))continue;const Ye=qe.inverseTransform(je),Ke=new TrackerHitResult({position:je,dataPoint:Ye,text:qe.toolTip,plotModel:this.plotView.actualModel});this.plotView.showTracker(Ke),ze.raiseTrackerChanged(Ke);break}}}class TouchTrackerManipulator extends TouchManipulator{constructor(je,ze){super(je),D$1(this,"currentSeries"),D$1(this,"pointsOnly"),D$1(this,"snap"),D$1(this,"lockToInitialSeries"),D$1(this,"firesDistance"),D$1(this,"checkDistanceBetweenPoints"),this.snap=!0,this.pointsOnly=!1,this.lockToInitialSeries=!0,this.firesDistance=20,this.checkDistanceBetweenPoints=!1,this.setHandledForPanOrZoom=!1,ze&&Object.assign(this,removeUndef(ze))}completed(je){super.completed(je),this.currentSeries=void 0,this.plotView.hideTracker(),this.plotView.actualModel&&this.plotView.actualModel.raiseTrackerChanged(void 0)}delta(je){super.delta(je),this.plotView.hideTracker()}started(je){var ze;super.started(je),this.currentSeries=(ze=this.plotView.actualModel)==null?void 0:ze.getSeriesFromPoint(je.position,this.firesDistance),this.updateTracker(je.position)}updateTracker(je){var ze;if((!this.currentSeries||!this.lockToInitialSeries)&&(this.currentSeries=(ze=this.plotView.actualModel)==null?void 0:ze.getSeriesFromPoint(je,this.firesDistance)),!this.currentSeries){this.lockToInitialSeries||this.plotView.hideTracker();return}const qe=this.plotView.actualModel;if(!qe||!qe.plotArea.contains(je.x,je.y))return;const Xe=TrackerHelper.getNearestHit(this.currentSeries,je,this.snap,this.pointsOnly,this.firesDistance,this.checkDistanceBetweenPoints);Xe&&(Xe.plotModel=this.plotView.actualModel,this.plotView.showTracker(Xe),this.plotView.actualModel.raiseTrackerChanged(Xe))}}class DelegatePlotCommand extends DelegateViewCommand{constructor(je){super((ze,qe,Xe)=>je(ze,qe,Xe))}}class PlotCommands{static init(){this.reset=new DelegatePlotCommand((je,ze,qe)=>this.handleReset(je,qe)),this.resetAt=new DelegatePlotCommand((je,ze,qe)=>this.handleReset(je,qe)),this.panAt=new DelegatePlotCommand((je,ze,qe)=>ze.addMouseManipulator(je,new PanManipulator(je),qe)),this.zoomRectangle=new DelegatePlotCommand((je,ze,qe)=>ze.addMouseManipulator(je,new ZoomRectangleManipulator(je),qe)),this.track=new DelegatePlotCommand((je,ze,qe)=>ze.addMouseManipulator(je,new TrackerManipulator(je,{snap:!1,pointsOnly:!1}),qe)),this.snapTrack=new DelegatePlotCommand((je,ze,qe)=>ze.addMouseManipulator(je,new TrackerManipulator(je,{snap:!0,pointsOnly:!1}),qe)),this.pointsOnlyTrack=new DelegatePlotCommand((je,ze,qe)=>ze.addMouseManipulator(je,new TrackerManipulator(je,{snap:!1,pointsOnly:!0}),qe)),this.zoomWheel=new DelegatePlotCommand((je,ze,qe)=>this.handleZoomByWheel(je,qe)),this.zoomWheelFine=new DelegatePlotCommand((je,ze,qe)=>this.handleZoomByWheel(je,qe,.1)),this.zoomInAt=new DelegatePlotCommand((je,ze,qe)=>this.handleZoomAt(je,qe,.05)),this.zoomOutAt=new DelegatePlotCommand((je,ze,qe)=>this.handleZoomAt(je,qe,-.05)),this.hoverTrack=new DelegatePlotCommand((je,ze,qe)=>ze.addHoverManipulator(je,new TrackerManipulator(je,{lockToInitialSeries:!1,snap:!1,pointsOnly:!1}),qe)),this.hoverSnapTrack=new DelegatePlotCommand((je,ze,qe)=>ze.addHoverManipulator(je,new TrackerManipulator(je,{lockToInitialSeries:!1,snap:!0,pointsOnly:!1}),qe)),this.hoverPointsOnlyTrack=new DelegatePlotCommand((je,ze,qe)=>ze.addHoverManipulator(je,new TrackerManipulator(je,{lockToInitialSeries:!1,snap:!1,pointsOnly:!0}),qe)),this.snapTrackTouch=new DelegatePlotCommand((je,ze,qe)=>ze.addTouchManipulator(je,new TouchTrackerManipulator(je,{snap:!0,pointsOnly:!1}),qe)),this.pointsOnlyTrackTouch=new DelegatePlotCommand((je,ze,qe)=>ze.addTouchManipulator(je,new TouchTrackerManipulator(je,{snap:!0,pointsOnly:!0}),qe)),this.panZoomByTouch=new DelegatePlotCommand((je,ze,qe)=>ze.addTouchManipulator(je,new TouchManipulator(je),qe)),this.panLeft=new DelegatePlotCommand((je,ze,qe)=>this.handlePan(je,qe,-.1,0)),this.panRight=new DelegatePlotCommand((je,ze,qe)=>this.handlePan(je,qe,.1,0)),this.panUp=new DelegatePlotCommand((je,ze,qe)=>this.handlePan(je,qe,0,-.1)),this.panDown=new DelegatePlotCommand((je,ze,qe)=>this.handlePan(je,qe,0,.1)),this.panLeftFine=new DelegatePlotCommand((je,ze,qe)=>this.handlePan(je,qe,-.01,0)),this.panRightFine=new DelegatePlotCommand((je,ze,qe)=>this.handlePan(je,qe,.01,0)),this.panUpFine=new DelegatePlotCommand((je,ze,qe)=>this.handlePan(je,qe,0,-.01)),this.panDownFine=new DelegatePlotCommand((je,ze,qe)=>this.handlePan(je,qe,0,.01)),this.zoomIn=new DelegatePlotCommand((je,ze,qe)=>this.handleZoomCenter(je,qe,1)),this.zoomOut=new DelegatePlotCommand((je,ze,qe)=>this.handleZoomCenter(je,qe,-1)),this.zoomInFine=new DelegatePlotCommand((je,ze,qe)=>this.handleZoomCenter(je,qe,.1)),this.zoomOutFine=new DelegatePlotCommand((je,ze,qe)=>this.handleZoomCenter(je,qe,-.1))}static handleReset(je,ze){je.actualModel&&(ze.handled=!0,je.actualModel.resetAllAxes(),je.invalidatePlot(!1))}static handleZoomAt(je,ze,qe){const Xe=OxyModifierKeysExtensions.isControlDown(ze);new ZoomStepManipulator(je,qe,Xe).started(ze)}static handleZoomByWheel(je,ze,qe=1){const Xe=OxyModifierKeysExtensions.isControlDown(ze);new ZoomStepManipulator(je,ze.delta*.001*qe,Xe).started(ze)}static handleZoomCenter(je,ze,qe){je.actualModel&&(ze.handled=!0,je.actualModel.zoomAllAxes(1+qe*.12),je.invalidatePlot(!1))}static handlePan(je,ze,qe,Xe){je.actualModel&&(ze.handled=!0,qe*=je.actualModel.plotArea.width,Xe*=je.actualModel.plotArea.height,je.actualModel.panAllAxes(qe,Xe),je.invalidatePlot(!1))}}D$1(PlotCommands,"reset"),D$1(PlotCommands,"resetAt"),D$1(PlotCommands,"panZoomByTouch"),D$1(PlotCommands,"panAt"),D$1(PlotCommands,"zoomRectangle"),D$1(PlotCommands,"zoomWheel"),D$1(PlotCommands,"zoomWheelFine"),D$1(PlotCommands,"track"),D$1(PlotCommands,"snapTrack"),D$1(PlotCommands,"snapTrackTouch"),D$1(PlotCommands,"pointsOnlyTrack"),D$1(PlotCommands,"pointsOnlyTrackTouch"),D$1(PlotCommands,"hoverTrack"),D$1(PlotCommands,"hoverSnapTrack"),D$1(PlotCommands,"hoverPointsOnlyTrack"),D$1(PlotCommands,"panLeft"),D$1(PlotCommands,"panRight"),D$1(PlotCommands,"panUp"),D$1(PlotCommands,"panDown"),D$1(PlotCommands,"panLeftFine"),D$1(PlotCommands,"panRightFine"),D$1(PlotCommands,"panUpFine"),D$1(PlotCommands,"panDownFine"),D$1(PlotCommands,"zoomInAt"),D$1(PlotCommands,"zoomOutAt"),D$1(PlotCommands,"zoomIn"),D$1(PlotCommands,"zoomOut"),D$1(PlotCommands,"zoomInFine"),D$1(PlotCommands,"zoomOutFine");PlotCommands.init();class PlotController extends ControllerBase{constructor(){super(),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Middle,PlotCommands.zoomRectangle),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Right,PlotCommands.zoomRectangle,OxyModifierKeys.Control),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Left,PlotCommands.zoomRectangle,OxyModifierKeys.Control|OxyModifierKeys.Alt),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Middle,PlotCommands.resetAt,OxyModifierKeys.None,2),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Right,PlotCommands.resetAt,OxyModifierKeys.Control,2),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Left,PlotCommands.resetAt,OxyModifierKeys.Control|OxyModifierKeys.Alt,2),ControllerExtensions.bindKeyDown(this,OxyKey.A,PlotCommands.reset),ControllerExtensions.bindKeyDown(this,OxyKey.Home,PlotCommands.reset),this.bindCore(new OxyShakeGesture,PlotCommands.reset),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Right,PlotCommands.panAt),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Left,PlotCommands.panAt,OxyModifierKeys.Alt),ControllerExtensions.bindKeyDown(this,OxyKey.Left,PlotCommands.panLeft),ControllerExtensions.bindKeyDown(this,OxyKey.Right,PlotCommands.panRight),ControllerExtensions.bindKeyDown(this,OxyKey.Up,PlotCommands.panUp),ControllerExtensions.bindKeyDown(this,OxyKey.Down,PlotCommands.panDown),ControllerExtensions.bindKeyDown(this,OxyKey.Left,PlotCommands.panLeftFine,OxyModifierKeys.Control),ControllerExtensions.bindKeyDown(this,OxyKey.Right,PlotCommands.panRightFine,OxyModifierKeys.Control),ControllerExtensions.bindKeyDown(this,OxyKey.Up,PlotCommands.panUpFine,OxyModifierKeys.Control),ControllerExtensions.bindKeyDown(this,OxyKey.Down,PlotCommands.panDownFine,OxyModifierKeys.Control),ControllerExtensions.bindTouchDown(this,PlotCommands.panZoomByTouch),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Left,PlotCommands.snapTrack),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Left,PlotCommands.track,OxyModifierKeys.Control),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Left,PlotCommands.pointsOnlyTrack,OxyModifierKeys.Shift),ControllerExtensions.bindTouchDown(this,PlotCommands.snapTrackTouch),ControllerExtensions.bindMouseDown(this,OxyMouseButton.XButton1,PlotCommands.zoomInAt),ControllerExtensions.bindMouseDown(this,OxyMouseButton.XButton2,PlotCommands.zoomOutAt),ControllerExtensions.bindMouseWheel(this,PlotCommands.zoomWheel),ControllerExtensions.bindMouseWheel(this,PlotCommands.zoomWheelFine,OxyModifierKeys.Control),ControllerExtensions.bindKeyDown(this,OxyKey.Add,PlotCommands.zoomIn),ControllerExtensions.bindKeyDown(this,OxyKey.Subtract,PlotCommands.zoomOut),ControllerExtensions.bindKeyDown(this,OxyKey.PageUp,PlotCommands.zoomIn),ControllerExtensions.bindKeyDown(this,OxyKey.PageDown,PlotCommands.zoomOut),ControllerExtensions.bindKeyDown(this,OxyKey.Add,PlotCommands.zoomInFine,OxyModifierKeys.Control),ControllerExtensions.bindKeyDown(this,OxyKey.Subtract,PlotCommands.zoomOutFine,OxyModifierKeys.Control),ControllerExtensions.bindKeyDown(this,OxyKey.PageUp,PlotCommands.zoomInFine,OxyModifierKeys.Control),ControllerExtensions.bindKeyDown(this,OxyKey.PageDown,PlotCommands.zoomOutFine,OxyModifierKeys.Control)}}function isTransposablePlotElement(Ve){return Ve instanceof Object&&"__isTransposable"in Ve}function setTransposablePlotElement(Ve){Ve.__isTransposable=!0}class PlotElementExtensions{static inverseTransform(je,ze,qe){return je.inverseTransform(new ScreenPoint(ze,qe))}static isTransposed(je){return je.xAxis.isVertical()}static orientate(je,ze){return PlotElementExtensions.isTransposed(je)?new ScreenPoint(ze.y,ze.x):ze}static orientateVector(je,ze){return ze=new ScreenVector(je.xAxis.isReversed?-ze.x:ze.x,je.yAxis.isReversed?-ze.y:ze.y),PlotElementExtensions.isTransposed(je)?new ScreenVector(-ze.y,-ze.x):ze}static orientateAlignment(je,ze,qe){if(je.xAxis.isReversed&&(ze=-ze),je.yAxis.isReversed&&(qe=-qe),PlotElementExtensions.isTransposed(je)){const Xe=-qe;qe=-ze,ze=Xe}return[ze,qe]}static transform(je,ze,qe){return je.transform(new DataPoint(ze,qe))}}class PlotElementUtilities{static getClippingRect(je){const ze=OxyRect.fromScreenPoints(je.xAxis.screenMin,je.xAxis.screenMax),qe=OxyRect.fromScreenPoints(je.yAxis.screenMin,je.yAxis.screenMax);return ze.intersect(qe)}static inverseTransform(je,ze){return je.xAxis.inverseTransformPoint(ze.x,ze.y,je.yAxis)}static inverseTransformOrientated(je,ze){return this.inverseTransform(je,PlotElementExtensions.orientate(je,ze))}static transform(je,ze){return je.xAxis.transformPoint(ze.x,ze.y,je.yAxis)}static transformOrientated(je,ze){return PlotElementExtensions.orientate(je,this.transform(je,ze))}}var PlotType=(Ve=>(Ve[Ve.XY=0]="XY",Ve[Ve.Cartesian=1]="Cartesian",Ve[Ve.Polar=2]="Polar",Ve))(PlotType||{}),TitleHorizontalAlignment=(Ve=>(Ve[Ve.CenteredWithinPlotArea=0]="CenteredWithinPlotArea",Ve[Ve.CenteredWithinView=1]="CenteredWithinView",Ve))(TitleHorizontalAlignment||{});class PlotModel extends Model{constructor(je){super(),D$1(this,"barSeriesManagers",[]),D$1(this,"plotViewReference"),D$1(this,"currentColorIndex",0),D$1(this,"isDataUpdated",!1),D$1(this,"lastPlotException"),D$1(this,"trackerChanged"),D$1(this,"updated"),D$1(this,"updating"),D$1(this,"defaultFont"),D$1(this,"defaultFontSize"),D$1(this,"_actualPlotMargins",OxyThickness.Zero),D$1(this,"_annotations"),D$1(this,"_axes"),D$1(this,"_legends"),D$1(this,"background",OxyColors.Undefined),D$1(this,"defaultColors"),D$1(this,"edgeRenderingMode"),D$1(this,"assignColorsToInvisibleSeries"),D$1(this,"isLegendVisible"),D$1(this,"padding",OxyThickness.Zero),D$1(this,"_plotBounds",OxyRect.Empty),D$1(this,"_plotAndAxisArea",OxyRect.Empty),D$1(this,"_plotArea",OxyRect.Empty),D$1(this,"axisTierDistance"),D$1(this,"plotAreaBackground",OxyColors.Undefined),D$1(this,"plotAreaBorderColor",OxyColors.Undefined),D$1(this,"plotAreaBorderThickness"),D$1(this,"plotMargins"),D$1(this,"plotType"),D$1(this,"_series"),D$1(this,"renderingDecorator"),D$1(this,"subtitle"),D$1(this,"subtitleFont"),D$1(this,"subtitleFontSize"),D$1(this,"subtitleFontWeight"),D$1(this,"textColor",OxyColors.Black),D$1(this,"title"),D$1(this,"titleToolTip"),D$1(this,"titleColor",OxyColors.Automatic),D$1(this,"clipTitle"),D$1(this,"titleClippingLength"),D$1(this,"subtitleColor",OxyColors.Automatic),D$1(this,"titleHorizontalAlignment",0),D$1(this,"_titleArea",OxyRect.Empty),D$1(this,"titleFont"),D$1(this,"titleFontSize"),D$1(this,"titleFontWeight"),D$1(this,"titlePadding"),D$1(this,"_defaultAngleAxis"),D$1(this,"_defaultMagnitudeAxis"),D$1(this,"_defaultXAxis"),D$1(this,"_defaultYAxis"),D$1(this,"_defaultColorAxis"),this._axes=newElementCollection(this),this._series=newElementCollection(this),this._annotations=newElementCollection(this),this._legends=newElementCollection(this),this.plotType=0,this.plotMargins=new OxyThickness(NaN),this.padding=new OxyThickness(8),this.background=OxyColors.Undefined,this.plotAreaBackground=OxyColors.Undefined,this.textColor=OxyColors.Black,this.titleColor=OxyColors.Automatic,this.subtitleColor=OxyColors.Automatic,this.defaultFont="Segoe UI",this.defaultFontSize=12,this.titleToolTip=void 0,this.titleFont=void 0,this.titleFontSize=18,this.titleFontWeight=FontWeights.Bold,this.subtitleFont=void 0,this.subtitleFontSize=14,this.subtitleFontWeight=FontWeights.Normal,this.titlePadding=6,this.clipTitle=!0,this.titleClippingLength=.9,this.plotAreaBorderColor=OxyColors.Black,this.plotAreaBorderThickness=new OxyThickness(1),this.edgeRenderingMode=EdgeRenderingMode.Automatic,this.assignColorsToInvisibleSeries=!0,this.isLegendVisible=!0,this.defaultColors=[OxyColor.fromRgb(78,154,6),OxyColor.fromRgb(200,141,0),OxyColor.fromRgb(204,0,0),OxyColor.fromRgb(32,74,135),OxyColors.Red,OxyColors.Orange,OxyColors.Yellow,OxyColors.Green,OxyColors.Blue,OxyColors.Indigo,OxyColors.Violet],this.axisTierDistance=4,je&&this.applyOptions(je)}applyOptions(je){removeProperties(je,"_axes","_series","_annotations","_legends"),je.axes&&je.axes.length>0&&this._axes.push(...je.axes),je.series&&je.series.length>0&&this._series.push(...je.series),je.annotations&&je.annotations.length>0&&this._annotations.push(...je.annotations),je.legends&&je.legends.length>0&&this._legends.push(...je.legends),removeProperties(je,"axes","series","annotations","legends"),Object.assign(this,removeUndef(je))}get actualPlotMargins(){return this._actualPlotMargins}get plotView(){return this.plotViewReference}get annotations(){return this._annotations}get axes(){return this._axes}get legends(){return this._legends}get plotBounds(){return this._plotBounds}get width(){return this.plotBounds.width}get height(){return this.plotBounds.height}get plotAndAxisArea(){return this._plotAndAxisArea}get plotArea(){return this._plotArea}get series(){return this._series}get titleArea(){return this._titleArea}get defaultAngleAxis(){return this._defaultAngleAxis}get defaultMagnitudeAxis(){return this._defaultMagnitudeAxis}get defaultXAxis(){return this._defaultXAxis}get defaultYAxis(){return this._defaultYAxis}get defaultColorAxis(){return this._defaultColorAxis}get actualTitleFont(){return this.titleFont||this.defaultFont}get actualSubtitleFont(){return this.subtitleFont||this.defaultFont}attachPlotView(je){const ze=this.plotView;if(ze&&je&&ze!==je){debugger;throw new Error("This PlotModel is already in use by some other PlotView control.")}this.plotViewReference=je}invalidatePlot(je){var ze;(ze=this.plotView)==null||ze.invalidatePlot(je)}getAxesFromPoint(je){let ze,qe,Xe,Ye=0;je.x<this.plotArea.left&&(Xe=AxisPosition.Left,Ye=this.plotArea.left),je.x>this.plotArea.right&&(Xe=AxisPosition.Right,Ye=this.plotArea.right),je.y<this.plotArea.top&&(Xe=AxisPosition.Top,Ye=this.plotArea.top),je.y>this.plotArea.bottom&&(Xe=AxisPosition.Bottom,Ye=this.plotArea.bottom);for(const Ke of this.axes){if(!Ke.isAxisVisible||isColorAxis(Ke))continue;if(Ke instanceof MagnitudeAxis){ze=Ke;continue}if(Ke instanceof AngleAxis){qe=Ke;continue}let Ze=NaN;if(Ke.isHorizontal()&&(Ze=Ke.inverseTransform(je.x)),Ke.isVertical()&&(Ze=Ke.inverseTransform(je.y)),Ze>=Ke.clipMinimum&&Ze<=Ke.clipMaximum){if(!Xe)Ke.isHorizontal()?ze||(ze=Ke):Ke.isVertical()&&(qe||(qe=Ke));else if(Xe===Ke.position){const Qe=Ke.positionTierMinShift,Je=Ke.positionTierMaxShift,St=Ke.isHorizontal()?je.y:je.x,ei=Xe===AxisPosition.Top||Xe===AxisPosition.Left;(St>=Ye+Qe&&St<Ye+Je&&!ei||St<=Ye-Qe&&St>Ye-Je&&ei)&&(Ke.isHorizontal()?isNullOrUndef(ze)&&(ze=Ke):Ke.isVertical()&&isNullOrUndef(qe)&&(qe=Ke))}}}return[ze,qe]}getDefaultColor(){return this.defaultColors[this.currentColorIndex++%this.defaultColors.length]}getDefaultLineStyle(){return this.currentColorIndex/this.defaultColors.length%Number(LineStyle.None)}getSeriesFromPoint(je,ze=100){let qe=Number_MAX_VALUE,Xe;const Ye=getReversedCopy(this.series);for(const Ke of Ye.filter(Ze=>Ze.isVisible)){const Ze=Ke.getNearestPoint(je,!0)||Ke.getNearestPoint(je,!1);if(!(Ze!=null&&Ze.position))continue;const Qe=je.distanceTo(Ze.position);Qe<qe&&(Xe=Ke,qe=Qe)}if(qe<ze)return Xe}toString(){return this.title||""}getLastPlotException(){return this.lastPlotException}update(je){try{this.lastPlotException=null,this.onUpdating(),this.ensureDefaultAxes();const ze=this.series.filter(Xe=>Xe.isVisible);if(je||!this.isDataUpdated){for(const Xe of ze)Xe.updateData();this.isDataUpdated=!0}this.updateBarSeriesManagers(),this.updateMaxMin(je),this.updateUnmanagedCategoryAxes();const qe=this.assignColorsToInvisibleSeries?this.series:ze;this.resetDefaultColor();for(const Xe of qe)Xe.setDefaultValues();this.onUpdated()}catch(ze){console.log(ze),this.lastPlotException=ze}}getAxis(je){if(!je)throw new Error("Axis key cannot be null.");const ze=this.axes.find(qe=>qe.key===je);if(!ze)throw new Error(`Cannot find axis with Key = "${je}"`);return ze}getAxisOrDefault(je,ze){return je?ze:this.axes.find(qe=>qe.key===je)||ze}resetAllAxes(){for(const je of this.axes)je.reset()}panAllAxes(je,ze){for(const qe of this.axes)qe.pan(qe.isHorizontal()?je:ze)}zoomAllAxes(je){for(const ze of this.axes)ze.zoomAtCenter(je)}raiseTrackerChanged(je){const ze=this.trackerChanged;ze&&ze(this,{hitResult:je})}onTrackerChanged(je){this.raiseTrackerChanged(je)}getHitTestElements(){const je=[],ze=getReversedCopy(this.axes);for(const Ye of ze.filter(Ke=>Ke.isAxisVisible&&Ke.layer===AxisLayer.AboveSeries))je.push(Ye);const qe=getReversedCopy(this.annotations);for(const Ye of qe.filter(Ke=>Ke.layer===AnnotationLayer.AboveSeries))je.push(Ye);const Xe=getReversedCopy(this.series);for(const Ye of Xe.filter(Ke=>Ke.isVisible))je.push(Ye);for(const Ye of qe.filter(Ke=>Ke.layer===AnnotationLayer.BelowSeries))je.push(Ye);for(const Ye of ze.filter(Ke=>Ke.isAxisVisible&&Ke.layer===AxisLayer.BelowSeries))je.push(Ye);for(const Ye of qe.filter(Ke=>Ke.layer===AnnotationLayer.BelowAxes))je.push(Ye);for(const Ye of this.legends)je.push(Ye);return je}onUpdated(){const je=this.updated;je&&je(this)}onUpdating(){const je=this.updating;je&&je(this)}updateAxisTransforms(){for(const je of this.axes)je.updateTransform(this.plotArea)}enforceCartesianTransforms(){const je=this.axes.filter(qe=>!isColorAxis(qe));let ze=Math.min(...je.map(qe=>Math.abs(qe.scale)));for(const qe of je)qe.zoomScale(ze);ze=Math.max(...je.map(qe=>Math.abs(qe.scale)));for(const qe of je)qe.zoomScale(ze);for(const qe of je)qe.updateTransform(this.plotArea)}updateIntervals(){for(const je of this.axes)je.updateIntervals(this.plotArea)}ensureDefaultAxes(){const je=this.axes,ze=this.series;if(this._defaultXAxis=je.find(qe=>qe.isHorizontal()&&qe.isXyAxis()),this._defaultYAxis=je.find(qe=>qe.isVertical()&&qe.isXyAxis()),this._defaultMagnitudeAxis=je.find(qe=>qe instanceof MagnitudeAxis),this._defaultAngleAxis=je.find(qe=>qe instanceof AngleAxis),this._defaultColorAxis=je.find(qe=>isColorAxis(qe)),isNullOrUndef(this.defaultXAxis)&&(this._defaultXAxis=this.defaultMagnitudeAxis),isNullOrUndef(this.defaultYAxis)&&(this._defaultYAxis=this.defaultAngleAxis),this.plotType===2)isNullOrUndef(this.defaultXAxis)&&(this._defaultXAxis=this._defaultMagnitudeAxis=new MagnitudeAxis),isNullOrUndef(this.defaultYAxis)&&(this._defaultYAxis=this._defaultAngleAxis=new AngleAxis);else{let qe=!1,Xe=!1;isNullOrUndef(this.defaultXAxis)&&(this._defaultXAxis=new LinearAxis({position:AxisPosition.Bottom}),qe=!0),isNullOrUndef(this.defaultYAxis)&&(ze.some(Ye=>Ye.isVisible&&Ye instanceof BarSeries)?this._defaultYAxis=new CategoryAxis({position:AxisPosition.Left}):(this._defaultYAxis=new LinearAxis({position:AxisPosition.Left}),Xe=!0)),qe&&this.defaultXAxis&&this.defaultYAxis instanceof CategoryAxis&&(this.defaultXAxis.minimumPadding=0),Xe&&this.defaultYAxis&&this.defaultXAxis instanceof CategoryAxis&&(this.defaultYAxis.minimumPadding=0)}ze.some(qe=>qe.isVisible&&qe.areAxesRequired())&&(je.includes(this.defaultXAxis)||(console.assert(this.defaultXAxis,"Default x-axis not created."),this.defaultXAxis&&this.axes.push(this.defaultXAxis)),je.includes(this.defaultYAxis)||(console.assert(this.defaultYAxis,"Default y-axis not created."),this.defaultYAxis&&this.axes.push(this.defaultYAxis)));for(const qe of this.series)qe.isVisible&&qe.areAxesRequired()&&qe.ensureAxes();for(const qe of this.annotations)qe.ensureAxes()}resetDefaultColor(){this.currentColorIndex=0}updateMaxMin(je){if(je){for(const ze of this.axes)ze.resetDataMaxMin();for(const ze of this.series.filter(qe=>qe.isVisible))ze.updateMaxMin()}for(const ze of this.series.filter(qe=>qe.isVisible))ze.updateAxisMaxMin();for(const ze of this.axes)ze.updateActualMaxMin()}updateBarSeriesManagers(){this.barSeriesManagers=[];const je=this.series.filter(qe=>qe.isVisible&&isBarSeries(qe)).map(qe=>qe),ze=new Map;for(const qe of je){const Xe=[...ze.keys()].find(Ye=>Ye.ca===qe.categoryAxis&&Ye.va===qe.valueAxis);if(Xe){ze.get(Xe).push(qe);continue}ze.set({ca:qe.categoryAxis,va:qe.valueAxis},[qe])}ze.forEach((qe,Xe)=>{const Ye=new BarSeriesManager(Xe.ca,Xe.va,qe);Ye.update(),this.barSeriesManagers.push(Ye)})}updateUnmanagedCategoryAxes(){const je=this.barSeriesManagers.map(qe=>qe.categoryAxis),ze=this.axes.filter(qe=>qe instanceof CategoryAxis).map(qe=>qe).filter(qe=>!je.includes(qe));for(const qe of ze){let Xe=0;!isInfinity(qe.dataMaximum)&&!isNaN(qe.dataMaximum)&&qe.dataMaximum>0&&(Xe=Math.floor(qe.dataMaximum)+1),qe.updateLabels(Xe)}}render(je,ze){return this.renderOverride(je,ze)}async renderOverride(je,ze){var qe;const Xe=je.clipCount;let Ye=null;try{if(Ye=RenderingExtensions.autoResetClip(je,ze),this.lastPlotException){const Ke=`An exception of type ${this.lastPlotException.constructor.name} was thrown when updating the plot model.\r
${this.lastPlotException.stack}`;await this.renderErrorMessage(je,`OxyPlot exception: ${this.lastPlotException.message}`,Ke);return}this.renderingDecorator&&(je=this.renderingDecorator(je)),this._plotBounds=ze,this._actualPlotMargins=new OxyThickness(isNaN(this.plotMargins.left)?0:this.plotMargins.left,isNaN(this.plotMargins.top)?0:this.plotMargins.top,isNaN(this.plotMargins.right)?0:this.plotMargins.right,isNaN(this.plotMargins.bottom)?0:this.plotMargins.bottom);for(const Ke of this.legends)Ke.ensureLegendProperties();for(let Ke=0;Ke<10&&(await this.updatePlotArea(je),this.updateAxisTransforms(),this.updateIntervals(),!!this.adjustPlotMargins(je));Ke++);if(this.plotType===1&&(this.enforceCartesianTransforms(),this.updateIntervals()),await this.renderBackgrounds(je),await this.renderAnnotations(je,AnnotationLayer.BelowAxes),await this.renderAxes(je,AxisLayer.BelowSeries),await this.renderAnnotations(je,AnnotationLayer.BelowSeries),await this.renderSeries(je),await this.renderAnnotations(je,AnnotationLayer.AboveSeries),await this.renderTitle(je),await this.renderBox(je),await this.renderAxes(je,AxisLayer.AboveSeries),this.isLegendVisible&&await this.renderLegends(je),je.clipCount!==Xe+1)throw new Error("Unbalanced calls to IRenderContext.pushClip were made during rendering.")}catch(Ke){debugger;for(console.log(Ke);je.clipCount>Xe;)je.popClip();const Ze=`An exception of type ${(qe=Ke.constructor)==null?void 0:qe.name} was thrown when rendering the plot model.\r
${Ke.stack}`;this.lastPlotException=Ke,await this.renderErrorMessage(je,`OxyPlot exception: ${Ke.message}`,Ze)}finally{Ye==null||Ye.dispose(),je.cleanUp()}}async renderErrorMessage(je,ze,qe,Xe=12){const Ye=new ScreenPoint(10,10);await je.drawText(Ye,ze,this.textColor,void 0,Xe,FontWeights.Bold),await RenderingExtensions.drawMultilineText(je,Ye.plus(new ScreenVector(0,Xe*1.5)),qe,this.textColor,void 0,Xe,Xe*1.25)}adjustPlotMargins(je){const ze=this.axes.filter(Ke=>Ke.isAxisVisible);ze.forEach(Ke=>{Ke.measure(je)});let qe=OxyThickness.Zero;const Xe=(Ke,Ze)=>{switch(Ze){case AxisPosition.Bottom:qe=new OxyThickness(qe.left,qe.top,qe.right,Math.max(qe.bottom,Ke));break;case AxisPosition.Left:qe=new OxyThickness(Math.max(qe.left,Ke),qe.top,qe.right,qe.bottom);break;case AxisPosition.Right:qe=new OxyThickness(qe.left,qe.top,Math.max(qe.right,Ke),qe.bottom);break;case AxisPosition.Top:qe=new OxyThickness(qe.left,Math.max(qe.top,Ke),qe.right,qe.bottom);break}};for(let Ke=AxisPosition.Left;Ke<=AxisPosition.Bottom;Ke++){const Ze=ze.filter(Je=>Je.position===Ke),Qe=this.adjustAxesPositions(Ze);Xe(Qe,Ke)}ze.forEach(Ke=>{qe=qe.include(Ke.desiredMargin)});let Ye=this.plotMargins;return Ye=new OxyThickness(isNaN(Ye.left)?qe.left:Ye.left,isNaN(Ye.top)?qe.top:Ye.top,isNaN(Ye.right)?qe.right:Ye.right,isNaN(Ye.bottom)?qe.bottom:Ye.bottom),Ye.equals(this.actualPlotMargins)?!1:(this._actualPlotMargins=Ye,!0)}adjustAxesPositions(je){let ze=0;const qe=Xe=>{switch(Xe.position){case AxisPosition.Left:return Xe.desiredMargin.left;case AxisPosition.Right:return Xe.desiredMargin.right;case AxisPosition.Top:return Xe.desiredMargin.top;case AxisPosition.Bottom:return Xe.desiredMargin.bottom;default:throw new Error("We don't do this for polar axes")}};return je.reduce((Xe,Ye)=>{const Ke=Ye.positionTier,Ze=Xe.get(Ke);return Ze?Ze.push(Ye):Xe.set(Ke,[Ye]),Xe},new Map).forEach((Xe,Ye)=>{const Ke=Math.max(...Xe.map(qe)),Ze=ze;Math.abs(ze)>1e-5&&(ze+=this.axisTierDistance),ze+=Ke,Xe.forEach(Qe=>{Qe.positionTierSize=Ke,Qe.positionTierMinShift=Ze,Qe.positionTierMaxShift=ze})}),ze}measureTitles(je){const ze=je.measureText(this.title||"",this.actualTitleFont,this.titleFontSize,this.titleFontWeight),qe=je.measureText(this.subtitle||"",this.subtitleFont||this.actualSubtitleFont,this.subtitleFontSize,this.subtitleFontWeight),Xe=ze.height+qe.height,Ye=Math.max(ze.width,qe.width);return new OxySize(Ye,Xe)}renderAnnotations(je,ze){return this.renderPlotElements(this.annotations.filter(qe=>qe.layer===ze),je,async qe=>qe.render(je))}async renderAxes(je,ze){for(const qe of this.axes.filter(Xe=>Xe.isAxisVisible&&Xe.layer===ze))je.setToolTip(qe.toolTip),await qe.render(je,0);for(const qe of this.axes.filter(Xe=>Xe.isAxisVisible&&Xe.layer===ze))je.setToolTip(qe.toolTip),await qe.render(je,1);je.setToolTip(void 0)}async renderLegends(je){if(this.isLegendVisible)for(const ze of this.legends.filter(qe=>qe.isLegendVisible))je.setToolTip(ze.toolTip),await ze.renderLegends(je)}async renderBackgrounds(je){this.axes.length>0&&this.plotAreaBackground.isVisible()&&await je.drawRectangle(this.plotArea,this.plotAreaBackground,OxyColors.Undefined,0,this.edgeRenderingMode);const ze=this.series.filter(qe=>qe instanceof XYAxisSeries).map(qe=>qe).filter(qe=>qe.isVisible&&qe.background.isVisible());for(const qe of ze)await je.drawRectangle(qe.getScreenRectangle(),qe.background,OxyColors.Undefined,0,this.edgeRenderingMode)}async renderBox(je){if(this.axes.length>0){const ze=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);await RenderingExtensions.drawRectangle(je,this.plotArea,this.plotAreaBorderColor,this.plotAreaBorderThickness,ze)}}async renderSeries(je){return this.barSeriesManagers.forEach(ze=>{ze.initializeRender()}),this.renderPlotElements(this.series.filter(ze=>ze.isVisible),je,async ze=>ze.render(je))}async renderPlotElements(je,ze,qe){let Xe=OxyRect.Everything;for(const Ye of je){const Ke=Ye.getClippingRect();Ke.equals(Xe)||(Xe.equals(OxyRect.Everything)||(ze.popClip(),Xe=OxyRect.Everything),Ke.equals(OxyRect.Everything)||(ze.pushClip(Ke),Xe=Ke)),ze.setToolTip(Ye.toolTip),await qe(Ye)}Xe.equals(OxyRect.Everything)||ze.popClip(),ze.setToolTip(void 0)}async renderTitle(je){let ze;this.clipTitle&&(ze=new OxySize(this.titleArea.width*this.titleClippingLength,Number_MAX_VALUE));const qe=je.measureText(this.title||"",this.actualTitleFont,this.titleFontSize,this.titleFontWeight),Xe=(this.titleArea.left+this.titleArea.right)*.5;let Ye=this.titleArea.top;this.title&&(je.setToolTip(this.titleToolTip),await MathRenderingExtensions.drawMathText(je,new ScreenPoint(Xe,Ye),this.title,this.titleColor.getActualColor(this.textColor),this.actualTitleFont,this.titleFontSize,this.titleFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Top,ze),Ye+=qe.height,je.setToolTip(void 0)),this.subtitle&&await MathRenderingExtensions.drawMathText(je,new ScreenPoint(Xe,Ye),this.subtitle,this.subtitleColor.getActualColor(this.textColor),this.actualSubtitleFont,this.subtitleFontSize,this.subtitleFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Top,ze)}async updatePlotArea(je){let ze=new OxyRect(this.plotBounds.left+this.padding.left,this.plotBounds.top+this.padding.top,Math.max(0,this.width-this.padding.left-this.padding.right),Math.max(0,this.height-this.padding.top-this.padding.bottom));const qe=this.measureTitles(je);if(qe.height>0){const Ye=qe.height+this.titlePadding;ze=new OxyRect(ze.left,ze.top+Ye,ze.width,Math.max(0,ze.height-Ye))}let Xe=ze.deflate(this.actualPlotMargins);if(this.isLegendVisible){let Ye=new OxySize(0,0),Ke=0;const Ze=this.legends.filter(Qe=>Qe.legendPlacement===LegendPlacement.Outside&&Qe.isLegendVisible);for(const Qe of Ze.filter(Je=>isLeftLegend(Je.legendPosition))){const Je=Qe.allowUseFullExtent?ze.width:Xe.width;let St=Qe.allowUseFullExtent?ze.height:Xe.height;St=isNaN(Qe.legendMaxHeight)?St:Math.min(St,Qe.legendMaxHeight);const ei=await Qe.getLegendSize(je,new OxySize(Je,St));Qe.legendSize=ei,Ye=new OxySize(Math.max(Ye.width,ei.width),Math.max(Ye.height,ei.height)),Qe.legendMargin>Ke&&(Ke=Qe.legendMargin)}(Ye.width>0||Ye.height>0)&&(Xe=new OxyRect(Xe.left+Ye.width+Ke,Xe.top,Math.max(0,Xe.width-(Ye.width+Ke)),Xe.height)),Ye=new OxySize(0,0),Ke=0;for(const Qe of Ze.filter(Je=>isRightLegend(Je.legendPosition))){const Je=Qe.allowUseFullExtent?ze.width:Xe.width;let St=Qe.allowUseFullExtent?ze.height:Xe.height;St=isNaN(Qe.legendMaxHeight)?St:Math.min(St,Qe.legendMaxHeight);const ei=await Qe.getLegendSize(je,new OxySize(Je,St));Qe.legendSize=ei,Ye=new OxySize(Math.max(Ye.width,ei.width),Math.max(Ye.height,ei.height)),Qe.legendMargin>Ke&&(Ke=Qe.legendMargin)}(Ye.width>0||Ye.height>0)&&(Xe=new OxyRect(Xe.left,Xe.top,Math.max(0,Xe.width-(Ye.width+Ke)),Xe.height)),Ye=new OxySize(0,0),Ke=0;for(const Qe of Ze.filter(Je=>isTopLegend(Je.legendPosition))){const Je=Qe.allowUseFullExtent?ze.width:Xe.width;let St=Qe.allowUseFullExtent?ze.height:Xe.height;St=isNaN(Qe.legendMaxHeight)?St:Math.min(St,Qe.legendMaxHeight);const ei=await Qe.getLegendSize(je,new OxySize(Je,St));Qe.legendSize=ei,Ye=new OxySize(Math.max(Ye.width,ei.width),Math.max(Ye.height,ei.height)),Qe.legendMargin>Ke&&(Ke=Qe.legendMargin)}(Ye.width>0||Ye.height>0)&&(Xe=new OxyRect(Xe.left,Xe.top+Ye.height+Ke,Xe.width,Math.max(0,Xe.height-(Ye.height+Ke)))),Ye=new OxySize(0,0),Ke=0;for(const Qe of Ze.filter(Je=>isBottomLegend(Je.legendPosition))){const Je=Qe.allowUseFullExtent?ze.width:Xe.width;let St=Qe.allowUseFullExtent?ze.height:Xe.height;St=isNaN(Qe.legendMaxHeight)?St:Math.min(St,Qe.legendMaxHeight);const ei=await Qe.getLegendSize(je,new OxySize(Je,St));Qe.legendSize=ei,Ye=new OxySize(Math.max(Ye.width,ei.width),Math.max(Ye.height,ei.height)),Qe.legendMargin>Ke&&(Ke=Qe.legendMargin)}(Ye.width>0||Ye.height>0)&&(Xe=new OxyRect(Xe.left,Xe.top,Xe.width,Math.max(0,Xe.height-(Ye.height+Ke))));for(const Qe of this.legends.filter(Je=>Je.legendPlacement===LegendPlacement.Inside&&Je.isLegendVisible)){let Je=Xe.width,St=isNaN(Qe.legendMaxHeight)?Xe.height:Math.min(Xe.height,Qe.legendMaxHeight);Qe.legendPlacement===LegendPlacement.Inside&&(Je-=Qe.legendMargin*2,St-=Qe.legendMargin*2),Qe.legendSize=await Qe.getLegendSize(je,new OxySize(Je,St))}}switch(Xe.height<0&&(Xe=new OxyRect(Xe.left,Xe.top,Xe.width,1)),Xe.width<0&&(Xe=new OxyRect(Xe.left,Xe.top,1,Xe.height)),this._plotArea=Xe,this._plotAndAxisArea=Xe.inflateAll(this.actualPlotMargins),this.titleHorizontalAlignment){case 1:this._titleArea=new OxyRect(this.plotBounds.left,this.plotBounds.top+this.padding.top,this.width,qe.height+this.titlePadding*2);break;default:this._titleArea=new OxyRect(this.plotArea.left,this.plotBounds.top+this.padding.top,this.plotArea.width,qe.height+this.titlePadding*2);break}for(const Ye of this.legends)Ye.legendArea=Ye.getLegendRectangle(Ye.legendSize)}}class FontWeights{}D$1(FontWeights,"Bold",700),D$1(FontWeights,"Normal",400);var HorizontalAlignment=(Ve=>(Ve[Ve.Left=-1]="Left",Ve[Ve.Center=0]="Center",Ve[Ve.Right=1]="Right",Ve))(HorizontalAlignment||{}),LineJoin=(Ve=>(Ve[Ve.Miter=0]="Miter",Ve[Ve.Round=1]="Round",Ve[Ve.Bevel=2]="Bevel",Ve))(LineJoin||{}),LineStyle=(Ve=>(Ve[Ve.Solid=0]="Solid",Ve[Ve.Dash=1]="Dash",Ve[Ve.Dot=2]="Dot",Ve[Ve.DashDot=3]="DashDot",Ve[Ve.DashDashDot=4]="DashDashDot",Ve[Ve.DashDotDot=5]="DashDotDot",Ve[Ve.DashDashDotDot=6]="DashDashDotDot",Ve[Ve.LongDash=7]="LongDash",Ve[Ve.LongDashDot=8]="LongDashDot",Ve[Ve.LongDashDotDot=9]="LongDashDotDot",Ve[Ve.None=10]="None",Ve[Ve.Automatic=11]="Automatic",Ve))(LineStyle||{});class LineStyleHelper{static getDashArray(je){switch(je){case LineStyle.Solid:return;case LineStyle.Dash:return[4,1];case LineStyle.Dot:return[1,1];case LineStyle.DashDot:return[4,1,1,1];case LineStyle.DashDashDot:return[4,1,4,1,1,1];case LineStyle.DashDotDot:return[4,1,1,1,1,1];case LineStyle.DashDashDotDot:return[4,1,4,1,1,1,1,1];case LineStyle.LongDash:return[10,1];case LineStyle.LongDashDot:return[10,1,1,1];case LineStyle.LongDashDotDot:return[10,1,1,1,1,1];default:return}}}class OxyPen{constructor(je,ze=1,qe=LineStyle.Solid,Xe=LineJoin.Miter){D$1(this,"dashArray"),this.color=je,this.thickness=ze,this.lineStyle=qe,this.lineJoin=Xe,this.dashArray=LineStyleHelper.getDashArray(qe)}get actualDashArray(){return this.dashArray||LineStyleHelper.getDashArray(this.lineStyle)}static create(je,ze,qe=LineStyle.Solid,Xe=LineJoin.Miter){if(!(je.isInvisible()||qe===LineStyle.None||Math.abs(ze)<=0))return new OxyPen(je,ze,qe,Xe)}}const Xt$1=class _o{constructor(je,ze,qe,Xe){if(D$1(this,"_height"),D$1(this,"_left"),D$1(this,"_top"),D$1(this,"_width"),qe<0)throw new Error("width;The width should not be negative.");if(Xe<0)throw new Error("height;The height should not be negative.");this._left=je,this._top=ze,this._width=qe,this._height=Xe}static fromScreenPoints(je,ze){return new _o(Math.min(je.x,ze.x),Math.min(je.y,ze.y),Math.abs(ze.x-je.x),Math.abs(ze.y-je.y))}static fromScreenPointAndSize(je,ze){return new _o(je.x,je.y,ze.width,ze.height)}get bottom(){return this._top+this._height}get height(){return this._height}get left(){return this._left}get right(){return this._left+this._width}get top(){return this._top}get width(){return this._width}get center(){return new ScreenPoint(this._left+this._width*.5,this._top+this._height*.5)}get topLeft(){return new ScreenPoint(this.left,this.top)}get topRight(){return new ScreenPoint(this.right,this.top)}get bottomLeft(){return new ScreenPoint(this.left,this.bottom)}get bottomRight(){return new ScreenPoint(this.right,this.bottom)}static create(je,ze,qe,Xe){return new _o(Math.min(je,qe),Math.min(ze,Xe),Math.abs(qe-je),Math.abs(Xe-ze))}contains(je,ze){return je>=this.left&&je<=this.right&&ze>=this.top&&ze<=this.bottom}containsPoint(je){return this.contains(je.x,je.y)}toString(){return`(${this._left}, ${this._top}, ${this._width}, ${this._height})`}equals(je){return this.left===je.left&&this.top===je.top&&this.width===je.width&&this.height===je.height}inflate(je,ze){return new _o(this._left-je,this._top-ze,this._width+je*2,this._height+ze*2)}inflateAll(je){return new _o(this._left-je.left,this._top-je.top,this._width+je.left+je.right,this._height+je.top+je.bottom)}intersect(je){const ze=Math.max(this.left,je.left),qe=Math.max(this.top,je.top),Xe=Math.min(this.right,je.right),Ye=Math.min(this.bottom,je.bottom);return Xe<ze||Ye<qe?_o.Empty:new _o(ze,qe,Xe-ze,Ye-qe)}deflate(je){return new _o(this._left+je.left,this._top+je.top,Math.max(0,this._width-je.left-je.right),Math.max(0,this._height-je.top-je.bottom))}offset(je,ze){return new _o(this._left+je,this._top+ze,this._width,this._height)}clip(je){const ze=isNegativeInfinity(je.left)&&isPositiveInfinity(je.width)?je.right:1/0,qe=isNegativeInfinity(je.top)&&isPositiveInfinity(je.height)?je.bottom:1/0;return _o.create(Math.max(Math.min(this.left,ze),je.left),Math.max(Math.min(this.top,qe),je.top),Math.max(Math.min(this.right,ze),je.left),Math.max(Math.min(this.bottom,qe),je.top))}};D$1(Xt$1,"Everything",new Xt$1(0,0,1/0,1/0)),D$1(Xt$1,"Empty",new Xt$1(0,0,0,0));let OxyRect=Xt$1;const pe$2=class Bu{constructor(je,ze){D$1(this,"_height"),D$1(this,"_width"),this._width=je||0,this._height=ze||0}get height(){return this._height}get width(){return this._width}toString(){return`(${this.width}, ${this.height})`}equals(je){return this.width===je.width&&this.height===je.height}include(je){return new Bu(Math.max(this.width,je.width),Math.max(this.height,je.height))}};D$1(pe$2,"Empty",new pe$2(0,0));let OxySize=pe$2;OxySize.prototype.getBounds=function(Ve,je,ze){return OxySizeExtensions.getBounds(this,Ve,je,ze)};class OxySizeExtensions{static getBounds(je,ze,qe,Xe){const Ye=qe===HorizontalAlignment.Left?0:qe===HorizontalAlignment.Center?.5:1,Ke=Xe===VerticalAlignment.Top?0:Xe===VerticalAlignment.Middle?.5:1,Ze=new ScreenVector(Ye*je.width,Ke*je.height);if(ze===0)return new OxyRect(-Ze.x,-Ze.y,je.width,je.height);const Qe=new ScreenVector(0,0).minus(Ze),Je=new ScreenVector(je.width,0).minus(Ze),St=new ScreenVector(je.width,je.height).minus(Ze),ei=new ScreenVector(0,je.height).minus(Ze),ti=ze*Math.PI/180,ii=Math.cos(ti),ri=Math.sin(ti),si=mi=>new ScreenVector(ii*mi.x-ri*mi.y,ri*mi.x+ii*mi.y),ui=si(Qe),ai=si(Je),oi=si(St),ni=si(ei),ci=Math.min(Math.min(ui.x,ai.x),Math.min(oi.x,ni.x)),hi=Math.min(Math.min(ui.y,ai.y),Math.min(oi.y,ni.y)),di=Math.max(Math.max(ui.x-ci,ai.x-ci),Math.max(oi.x-ci,ni.x-ci)),fi=Math.max(Math.max(ui.y-hi,ai.y-hi),Math.max(oi.y-hi,ni.y-hi));return new OxyRect(ci,hi,di,fi)}static getPolygon(je,ze,qe,Xe,Ye){const Ke=Xe===HorizontalAlignment.Left?0:Xe===HorizontalAlignment.Center?.5:1,Ze=Ye===VerticalAlignment.Top?0:Ye===VerticalAlignment.Middle?.5:1,Qe=new ScreenVector(Ke*je.width,Ze*je.height);let Je=new ScreenVector(0,0).minus(Qe),St=new ScreenVector(je.width,0).minus(Qe),ei=new ScreenVector(je.width,je.height).minus(Qe),ti=new ScreenVector(0,je.height).minus(Qe);if(qe!==0){const ii=qe*Math.PI/180,ri=Math.cos(ii),si=Math.sin(ii),ui=ai=>new ScreenVector(ri*ai.x-si*ai.y,si*ai.x+ri*ai.y);Je=ui(Je),St=ui(St),ei=ui(ei),ti=ui(ti)}return[ze.plus(Je),ze.plus(St),ze.plus(ei),ze.plus(ti)]}}const ge$1=class $u{constructor(je,ze,qe,Xe){if(D$1(this,"_bottom"),D$1(this,"_left"),D$1(this,"_right"),D$1(this,"_top"),isNullOrUndef(ze)&&isNullOrUndef(qe)&&isNullOrUndef(Xe))this._left=this._top=this._right=this._bottom=je;else if(!isNullOrUndef(ze)&&!isNullOrUndef(qe)&&!isNullOrUndef(Xe))this._left=je,this._top=ze,this._right=qe,this._bottom=Xe;else throw new Error("Invalid arguments")}get bottom(){return this._bottom}get left(){return this._left}get right(){return this._right}get top(){return this._top}toString(){return`(${this._left}, ${this._top}, ${this._right}, ${this._bottom})`}equals(je){return this.left===je.left&&this.top===je.top&&this.right===je.right&&this.bottom===je.bottom}include(je){return new $u(Math.max(je.left,this.left),Math.max(je.top,this.top),Math.max(je.right,this.right),Math.max(je.bottom,this.bottom))}};D$1(ge$1,"Zero",new ge$1(0));let OxyThickness=ge$1;const re$1=class Jl{constructor(je,ze){D$1(this,"_x"),D$1(this,"_y"),this._x=je||0,this._y=ze||0}get x(){return this._x}get y(){return this._y}static isUndefined(je){return isNaN(je._x)&&isNaN(je._y)}plus(je){const ze=this;return new Jl(ze.x+je.x,ze.y+je.y)}minus(je){const ze=this;return new ScreenVector(ze.x-je.x,ze.y-je.y)}minusVector(je){const ze=this;return new Jl(ze.x-je.x,ze.y-je.y)}distanceTo(je){const ze=je._x-this._x,qe=je._y-this._y;return Math.sqrt(ze*ze+qe*qe)}distanceToSquared(je){const ze=je._x-this._x,qe=je._y-this._y;return ze*ze+qe*qe}toString(){return`${this._x} ${this._y}`}equals(je){return this._x===je._x&&this._y===je._y}};D$1(re$1,"Undefined",new re$1(NaN,NaN)),D$1(re$1,"LeftTop",new re$1(0,0));let ScreenPoint=re$1;class ScreenPointHelper{static findNearestPointOnPolyline(je,ze){if(!ze)throw new Error("points is null");let qe=Number_MAX_VALUE,Xe=ScreenPoint.LeftTop;for(let Ye=0;Ye+1<ze.length;Ye++){const Ke=ze[Ye],Ze=ze[Ye+1];if(ScreenPoint.isUndefined(Ke)||ScreenPoint.isUndefined(Ze))continue;const Qe=ScreenPointHelper.findPointOnLine(je,Ke,Ze);if(ScreenPoint.isUndefined(Qe))continue;const Je=je.minus(Qe).lengthSquared;Je<qe&&(Xe=Qe,qe=Je)}return Xe}static findPointOnLine(je,ze,qe){const Xe=qe.x-ze.x,Ye=qe.y-ze.y;let Ke=ScreenPointHelper.findPositionOnLine(je,ze,qe);return isNaN(Ke)&&(Ke=0),Ke<0&&(Ke=0),Ke>1&&(Ke=1),new ScreenPoint(ze.x+Ke*Xe,ze.y+Ke*Ye)}static findPositionOnLine(je,ze,qe){const Xe=qe.x-ze.x,Ye=qe.y-ze.y,Ke=(je.x-ze.x)*Xe+(je.y-ze.y)*Ye,Ze=Xe*Xe+Ye*Ye;return Ze<1e-6?NaN:Ke/Ze}static isPointInPolygon(je,ze){if(!ze)return!1;const qe=ze.length;let Xe=!1;for(let Ye=0,Ke=qe-1;Ye<qe;Ke=Ye++)ze[Ye].y>je.y!=ze[Ke].y>je.y&&je.x<(ze[Ke].x-ze[Ye].x)*((je.y-ze[Ye].y)/(ze[Ke].y-ze[Ye].y))+ze[Ye].x&&(Xe=!Xe);return Xe}static resamplePoints(je,ze){const qe=ze*ze,Xe=je.length,Ye=[];if(Xe>0){Ye.push(je[0]);let Ke=0;for(let Ze=1;Ze<Xe;Ze++)je[Ke].distanceToSquared(je[Ze])<qe&&Ze!==Xe-1||(Ke=Ze,Ye.push(je[Ze]))}return Ye}static getCentroid(je){let ze=0,qe=0,Xe=0;for(let Ye=0;Ye<je.length;Ye++){const Ke=(Ye+1)%je.length,Ze=je[Ye].x*je[Ke].y-je[Ke].x*je[Ye].y;ze+=(je[Ye].x+je[Ke].x)*Ze,qe+=(je[Ye].y+je[Ke].y)*Ze,Xe+=Ze}return Xe*=.5,ze/=6*Xe,qe/=6*Xe,new ScreenPoint(ze,qe)}}const Qt$1=class Rs{constructor(je,ze){D$1(this,"_x"),D$1(this,"_y"),this._x=je,this._y=ze}get length(){return Math.sqrt(this._x*this._x+this._y*this._y)}get lengthSquared(){return this._x*this._x+this._y*this._y}get x(){return this._x}get y(){return this._y}normalize(){if(this===Rs.Zero)throw new Error("Cannot normalize the zero vector");const je=Math.sqrt(this._x*this._x+this._y*this._y);je>0&&(this._x/=je,this._y/=je)}plus(je){const ze=this;return new Rs(ze.x+je.x,ze.y+je.y)}minus(je){const ze=this;return new Rs(ze.x-je.x,ze.y-je.y)}times(je){const ze=this;return new Rs(ze.x*je,ze.y*je)}negate(){const je=this;return new Rs(-je.x,-je.y)}toString(){return`${this._x} ${this._y}`}equals(je){return this._x===je._x&&this._y===je._y}};D$1(Qt$1,"Zero",Object.freeze(new Qt$1(0,0)));let ScreenVector=Qt$1;var VerticalAlignment=(Ve=>(Ve[Ve.Top=-1]="Top",Ve[Ve.Middle=0]="Middle",Ve[Ve.Bottom=1]="Bottom",Ve))(VerticalAlignment||{}),EdgeRenderingMode=(Ve=>(Ve[Ve.Automatic=0]="Automatic",Ve[Ve.Adaptive=1]="Adaptive",Ve[Ve.PreferSharpness=2]="PreferSharpness",Ve[Ve.PreferSpeed=3]="PreferSpeed",Ve[Ve.PreferGeometricAccuracy=4]="PreferGeometricAccuracy",Ve))(EdgeRenderingMode||{});const SubAlignment=.6,SubSize=.62,SuperAlignment=0,SuperSize=.62;class MathRenderingExtensions{static async drawMathText(je,ze,qe,Xe,Ye,Ke,Ze,Qe,Je,St,ei,ti=!1){if(!qe)return OxySize.Empty;if(qe.includes("^{")||qe.includes("_{")){const ii=ze.x,ri=ze.y,si=await this.internalDrawMathText(je,ii,ri,0,0,qe,Xe,Ye,Ke,Ze,!0,Qe);let ui=0,ai=0;switch(Je){case HorizontalAlignment.Right:ui=-si.width;break;case HorizontalAlignment.Center:ui=-si.width*.5;break}switch(St){case VerticalAlignment.Bottom:ai=-si.height;break;case VerticalAlignment.Middle:ai=-si.height*.5;break}return await this.internalDrawMathText(je,ii,ri,ui,ai,qe,Xe,Ye,Ke,Ze,!1,Qe),ti?si:OxySize.Empty}return await je.drawText(ze,qe,Xe,Ye,Ke,Ze,Qe,Je,St,ei),ti?je.measureText(qe,Ye,Ke,Ze):OxySize.Empty}static async measureMathText(je,ze,qe,Xe,Ye){return ze.includes("^{")||ze.includes("_{")?this.internalDrawMathText(je,0,0,0,0,ze,OxyColors.Black,qe,Xe,Ye,!0,0):je.measureText(ze,qe,Xe,Ye)}static async internalDrawMathText(je,ze,qe,Xe,Ye,Ke,Ze,Qe,Je,St,ei,ti){let ii=0;const ri=ti*Math.PI/180,si=round(Math.cos(ri),5),ui=round(Math.sin(ri),5);let ai=ze,oi=ze,ni=ze;const ci=qe;let hi=qe,di=qe;const fi=Je*SuperAlignment,mi=Je*SubAlignment,pi=Je*SuperSize,wi=Je*SubSize,gi=async(yi,Ai,Si,ki)=>{if(!ei){const Bi=ze+(yi-ze+Xe)*si-(Ai-qe+Ye)*ui,Pi=qe+(yi-ze+Xe)*ui+(Ai-qe+Ye)*si;await je.drawText(new ScreenPoint(Bi,Pi),Si,Ze,Qe,ki,St,ti)}const Li=je.measureText(Si,Qe,ki,St);return new OxySize(Li.width,Li.height)};for(;ii<Ke.length;){if(ii+1<Ke.length&&Ke[ii]==="^"&&Ke[ii+1]==="{"){const ki=Ke.indexOf("}",ii);if(ki!==-1){const Li=substring(Ke,ii+2,ki-ii-2);ii=ki+1;const Bi=ai,Pi=ci+fi,Ri=await gi(Bi,Pi,Li,pi);oi=Math.max(Bi+Ri.width,oi),hi=Math.max(Pi+Ri.height,hi),ni=Math.min(Bi,ni),di=Math.min(Pi,di);continue}}if(ii+1<Ke.length&&Ke[ii]==="_"&&Ke[ii+1]==="{"){const ki=Ke.indexOf("}",ii);if(ki!==-1){const Li=substring(Ke,ii+2,ki-ii-2);ii=ki+1;const Bi=ai,Pi=ci+mi,Ri=await gi(Bi,Pi,Li,wi);oi=Math.max(Bi+Ri.width,oi),hi=Math.max(Pi+Ri.height,hi),ni=Math.min(Bi,ni),di=Math.min(Pi,di);continue}}const yi=indexOfAny(Ke.split(""),["^","_"],ii+1);let Ai;yi===-1?(Ai=substring(Ke,ii),ii=Ke.length):(Ai=substring(Ke,ii,yi-ii),ii=yi),ai=oi+2;const Si=await gi(ai,ci,Ai,Je);oi=Math.max(ai+Si.width,oi),hi=Math.max(ci+Si.height,hi),ni=Math.min(ai,ni),di=Math.min(ci,di),ai=oi}return new OxySize(oi-ni,hi-di)}}class RenderContextBase{constructor(){D$1(this,"rendersToScreen"),this.rendersToScreen=!0}static isStraightLine(je,ze){return Math.abs(je.x-ze.x)<1e-5||Math.abs(je.y-ze.y)<1e-5}static isStraightLine2(je){for(let ze=1;ze<je.length;ze++)if(!this.isStraightLine(je[ze-1],je[ze]))return!1;return!0}async drawEllipse(je,ze,qe,Xe,Ye){const Ke=RenderContextBase.createEllipse(je);await this.drawPolygon(Ke,ze,qe,Xe,Ye,void 0,LineJoin.Miter)}async drawEllipses(je,ze,qe,Xe,Ye){for(const Ke of je)await this.drawEllipse(Ke,ze,qe,Xe,Ye)}async drawLineSegments(je,ze,qe,Xe,Ye,Ke){for(let Ze=0;Ze+1<je.length;Ze+=2)await this.drawLine([je[Ze],je[Ze+1]],ze,qe,Xe,Ye,Ke)}async drawPolygons(je,ze,qe,Xe,Ye,Ke,Ze){for(const Qe of je)await this.drawPolygon(Qe,ze,qe,Xe,Ye,Ke,Ze)}async drawRectangle(je,ze,qe,Xe,Ye){const Ke=RenderContextBase.createRectangle(je);await this.drawPolygon(Ke,ze,qe,Xe,Ye,void 0,LineJoin.Miter)}async drawRectangles(je,ze,qe,Xe,Ye){for(const Ke of je)await this.drawRectangle(Ke,ze,qe,Xe,Ye)}setToolTip(je){}cleanUp(){}static createEllipse(je,ze=40){const qe=je.center.x,Xe=je.center.y,Ye=je.width/2,Ke=je.height/2,Ze=new Array(ze);for(let Qe=0;Qe<ze;Qe++){const Je=Math.PI*2*Qe/ze;Ze[Qe]=new ScreenPoint(qe+Math.cos(Je)*Ye,Xe+Math.sin(Je)*Ke)}return Ze}static createRectangle(je){return[new ScreenPoint(je.left,je.top),new ScreenPoint(je.left,je.bottom),new ScreenPoint(je.right,je.bottom),new ScreenPoint(je.right,je.top)]}shouldUseAntiAliasingForRect(je){switch(je){case EdgeRenderingMode.PreferGeometricAccuracy:return!0;default:return!1}}shouldUseAntiAliasingForEllipse(je){switch(je){case EdgeRenderingMode.PreferSpeed:return!1;default:return!0}}shouldUseAntiAliasingForLine(je,ze){switch(je){case EdgeRenderingMode.PreferSpeed:case EdgeRenderingMode.PreferSharpness:return!1;case EdgeRenderingMode.Automatic:if(RenderContextBase.isStraightLine2(ze))return!1;break;case EdgeRenderingMode.Adaptive:if(RenderContextBase.isStraightLine2(ze))return!1;break;default:return!0}return!0}}const ae$1=class{static getActualEdgeRenderingMode(je,ze){return je===EdgeRenderingMode.Automatic?ze:je}static async drawReducedLine(je,ze,qe,Xe,Ye,Ke,Ze,Qe,Je,St){ze.length!==0&&(Je?Je.length=0:Je=[],this.reducePoints(ze,qe,Je),await je.drawLine(Je,Xe,Ye,Ke,Ze,Qe),Je.length=0,pushMany(Je,ze),St&&St(Je))}static async drawReducedPolygon(je,ze,qe,Xe,Ye,Ke,Ze,Qe=LineStyle.Solid,Je=LineJoin.Miter){if(ze.length===0||Qe===LineStyle.None)return;const St=[];this.reducePoints(ze,qe,St),await je.drawPolygon(St,Xe,Ye,Ke,Ze,LineStyleHelper.getDashArray(Qe),Je)}static async drawImage(je,ze,qe,Xe,Ye,Ke,Ze,Qe){await je.drawImage(ze,0,0,ze.width,ze.height,qe,Xe,Ye,Ke,Ze,Qe)}static async drawMultilineText(je,ze,qe,Xe,Ye,Ke=10,Ze=FontWeights.Normal,Qe=12){const Je=StringHelper.splitLines(qe);for(let St=0;St<Je.length;St++)await je.drawText(new ScreenPoint(ze.x,ze.y+St*Qe),Je[St],Xe,void 0,Ke,Ze)}static async drawLine(je,ze,qe,Xe,Ye,Ke,Ze){Ke&&await je.drawLine([new ScreenPoint(ze,qe),new ScreenPoint(Xe,Ye)],Ke.color,Ke.thickness,Ze,Ke.actualDashArray,Ke.lineJoin)}static async drawLineSegments(je,ze,qe,Xe){qe&&await je.drawLineSegments(ze,qe.color,qe.thickness,Xe,qe.actualDashArray,qe.lineJoin)}static async drawMarker(je,ze,qe,Xe,Ye,Ke,Ze,Qe,Je){await this.drawMarkers(je,[ze],qe,Xe,[Ye],Ke,Ze,Qe,Je)}static async drawMarkers(je,ze,qe,Xe,Ye,Ke,Ze,Qe,Je,St=0,ei=new ScreenPoint){if(qe===MarkerType.None)return;const ti=[],ii=[],ri=[],si=[],ui=new Set;let ai=0;for(const oi of ze){if(St>1){const ci=Math.floor((oi.x-ei.x)/St),hi=Math.floor((oi.y-ei.y)/St),di=toUint(ci<<16)+toUint(hi);if(ui.has(di)){ai++;continue}ui.add(di)}const ni=ai<Ye.length?ai:0;this.addMarkerGeometry(oi,qe,Xe,Ye[ni],ti,ii,ri,si),ai++}Je===EdgeRenderingMode.Automatic&&(Je=EdgeRenderingMode.PreferGeometricAccuracy),ti.length>0&&await je.drawEllipses(ti,Ke,Ze,Qe,Je),ii.length>0&&await je.drawRectangles(ii,Ke,Ze,Qe,Je),ri.length>0&&await je.drawPolygons(ri,Ke,Ze,Qe,Je),si.length>0&&await je.drawLineSegments(si,Ze,Qe,Je)}static async drawCircle(je,ze,qe,Xe,Ye,Ke,Ze,Qe){await je.drawEllipse(new OxyRect(ze-Xe,qe-Xe,Xe*2,Xe*2),Ye,Ke,Ze,Qe)}static async drawCircle2(je,ze,qe,Xe,Ye,Ke,Ze){await this.drawCircle(je,ze.x,ze.y,qe,Xe,Ye,Ke,Ze)}static async fillCircle(je,ze,qe,Xe,Ye){await this.drawCircle(je,ze.x,ze.y,qe,Xe,OxyColors.Undefined,0,Ye)}static async fillRectangle(je,ze,qe,Xe){await je.drawRectangle(ze,qe,OxyColors.Undefined,0,Xe)}static async drawRectangle(je,ze,qe,Xe,Ye){if(Xe.left===Xe.right&&Xe.left===Xe.top&&Xe.left===Xe.bottom){await je.drawRectangle(ze,OxyColors.Undefined,qe,Xe.left,Ye);return}const Ke=ze.left-Xe.left/2+.5,Ze=ze.right+Xe.right/2-.5,Qe=ze.top-Xe.top/2+.5,Je=ze.bottom+Xe.bottom/2-.5,St=[new ScreenPoint(Ke,ze.top),new ScreenPoint(Ze,ze.top)],ei=[new ScreenPoint(ze.right,Qe),new ScreenPoint(ze.right,Je)],ti=[new ScreenPoint(Ke,ze.bottom),new ScreenPoint(Ze,ze.bottom)],ii=[new ScreenPoint(ze.left,Qe),new ScreenPoint(ze.left,Je)];await je.drawLine(St,qe,Xe.top,Ye,void 0,LineJoin.Miter),await je.drawLine(ei,qe,Xe.right,Ye,void 0,LineJoin.Miter),await je.drawLine(ti,qe,Xe.bottom,Ye,void 0,LineJoin.Miter),await je.drawLine(ii,qe,Xe.left,Ye,void 0,LineJoin.Miter)}static measureText(je,ze,qe,Xe,Ye,Ke){const Ze=je.measureText(ze,qe,Xe,Ye);return this.measureRotatedRectangleBound(Ze,Ke)}static autoResetClip(je,ze){return new AutoResetClipToken(je,ze)}static addMarkerGeometry(je,ze,qe,Xe,Ye,Ke,Ze,Qe){if(ze===MarkerType.Custom){if(!qe)throw new Error("The outline should be set when MarkerType is 'Custom'.");const St=qe.map(ei=>new ScreenPoint(je.x+ei.x*Xe,je.y+ei.y*Xe));Ze.push(St);return}switch(ze){case MarkerType.Circle:Ye.push(new OxyRect(je.x-Xe,je.y-Xe,Xe*2,Xe*2));break;case MarkerType.Square:Ke.push(new OxyRect(je.x-Xe,je.y-Xe,Xe*2,Xe*2));break;case MarkerType.Diamond:Ze.push([new ScreenPoint(je.x,je.y-this.M2*Xe),new ScreenPoint(je.x+this.M2*Xe,je.y),new ScreenPoint(je.x,je.y+this.M2*Xe),new ScreenPoint(je.x-this.M2*Xe,je.y)]);break;case MarkerType.Triangle:Ze.push([new ScreenPoint(je.x-Xe,je.y+this.M1*Xe),new ScreenPoint(je.x+Xe,je.y+this.M1*Xe),new ScreenPoint(je.x,je.y-this.M2*Xe)]);break;case MarkerType.Plus:case MarkerType.Star:Qe.push(new ScreenPoint(je.x-Xe,je.y)),Qe.push(new ScreenPoint(je.x+Xe,je.y)),Qe.push(new ScreenPoint(je.x,je.y-Xe)),Qe.push(new ScreenPoint(je.x,je.y+Xe));break}const Je=this.M3;switch(ze){case MarkerType.Cross:case MarkerType.Star:Qe.push(new ScreenPoint(je.x-Xe*Je,je.y-Xe*Je)),Qe.push(new ScreenPoint(je.x+Xe*Je,je.y+Xe*Je)),Qe.push(new ScreenPoint(je.x-Xe*Je,je.y+Xe*Je)),Qe.push(new ScreenPoint(je.x+Xe*Je,je.y-Xe*Je));break}}static measureRotatedRectangleBound(je,ze){const qe=je.getBounds(ze,HorizontalAlignment.Center,VerticalAlignment.Middle);return new OxySize(qe.width,qe.height)}static reducePoints(je,ze,qe){const Xe=je.length;if(Xe===0)return;qe.push(je[0]);let Ye=0;for(let Ke=1;Ke<Xe;Ke++){const Ze=je[Ke],Qe=Ze.x-je[Ye].x,Je=Ze.y-je[Ye].y;(Qe*Qe+Je*Je>ze||Ke===Xe-1)&&(qe.push(new ScreenPoint(Ze.x,Ze.y)),Ye=Ke)}}static transformAndInterpolateLines(je,ze,qe,Xe){const Ye=je.xAxis,Ke=je.yAxis;if(Ye.isLogarithmic()||Ke.isLogarithmic()){let Ze=!1,Qe=!0,Je=DataPoint.Undefined;for(const St of ze)if(!St.isDefined()||Ye.isLogarithmic()&&St.x<=0||Ke.isLogarithmic()&&St.y<=0)Qe=!0;else{if(Qe)qe.length>0&&qe.push(ScreenPoint.Undefined),Qe=!1,Ze=!0;else if(Ze){const ei=St.minus(Je);this.interpolatePoints(ti=>je.transform(Je.plus(ei.times(ti))),qe,Xe,Ze)}Je=St}}else{let Ze=!0;for(const Qe of ze)Qe.isDefined()?(Ze&&qe.length>0&&qe.push(ScreenPoint.Undefined),qe.push(je.transform(Qe)),Ze=!1):Ze=!0}}static interpolatePoints(je,ze,qe,Xe){const Ye=qe*qe,Ke=[],Ze=[];Ke.push(1),Ze.push(je(1));let Qe=0,Je=je(0);for(Xe&&ze.push(Je);Ke.length>0;){let St=Ke[Ke.length-1],ei=Ze[Ze.length-1];ei.distanceToSquared(Je)<Ye?(Qe=St,Je=ei,ze.push(ei),Ke.pop(),Ze.pop()):(St=Qe+(St-Qe)/2,ei=je(St),Ke.push(St),Ze.push(ei))}}};D$1(ae$1,"M1",Math.tan(Math.PI/6)),D$1(ae$1,"M2",Math.sqrt(1+ae$1.M1*ae$1.M1)),D$1(ae$1,"M3",Math.tan(Math.PI/4));let RenderingExtensions=ae$1;class AutoResetClipToken{constructor(je,ze){D$1(this,"renderContext"),this.renderContext=je,je.pushClip(ze)}dispose(){this.renderContext.popClip()}}class ClippingRenderContext extends RenderContextBase{constructor(){super(...arguments),D$1(this,"clipStack",[])}popClip(){if(this.clipStack.length===0)throw new Error("Unbalanced call to popClip.");const je=this.clipStack.pop();if(this.clipStack.length>0){const ze=this.clipStack[this.clipStack.length-1];je.equals(ze)||(this.resetClip(),this.setClip(ze))}else this.resetClip()}pushClip(je){if(this.clipStack.length>0){const ze=this.clipStack[this.clipStack.length-1],qe=je.intersect(ze);ze.equals(qe)||(this.resetClip(),this.setClip(qe)),this.clipStack.push(qe)}else this.setClip(je),this.clipStack.push(je)}get clipCount(){return this.clipStack.length}}class XkcdRenderingDecorator extends RenderContextBase{constructor(je){super(),D$1(this,"rc"),D$1(this,"distortionFactor"),D$1(this,"interpolationDistance"),D$1(this,"fontFamily"),D$1(this,"thicknessScale"),this.rc=je,this.rendersToScreen=this.rc.rendersToScreen,this.distortionFactor=7,this.interpolationDistance=10,this.thicknessScale=2,this.fontFamily="Humor Sans"}get clipCount(){return this.rc.clipCount}async drawLine(je,ze,qe,Xe,Ye,Ke){const Ze=this.distort(je);await this.rc.drawLine(Ze,ze,qe*this.thicknessScale,Xe,Ye,Ke)}async drawPolygon(je,ze,qe,Xe,Ye,Ke,Ze){const Qe=[...je,je[0]],Je=this.distort(Qe);await this.rc.drawPolygon(Je,ze,qe,Xe*this.thicknessScale,Ye,Ke,Ze)}async drawText(je,ze,qe,Xe,Ye,Ke,Ze,Qe,Je,St){await this.rc.drawText(je,ze,qe,this.getFontFamily(Xe),Ye,Ke,Ze,Qe,Je,St)}measureText(je,ze,qe,Xe){return this.rc.measureText(je,this.getFontFamily(ze),qe,Xe)}setToolTip(je){this.rc.setToolTip(je)}cleanUp(){this.rc.cleanUp()}async drawImage(je,ze,qe,Xe,Ye,Ke,Ze,Qe,Je,St,ei){await this.rc.drawImage(je,ze,qe,Xe,Ye,Ke,Ze,Qe,Je,St,ei)}pushClip(je){this.rc.pushClip(je)}popClip(){this.rc.popClip()}getFontFamily(je){return this.fontFamily}distort(je){const ze=this.interpolate(je,this.interpolationDistance),qe=new Array(ze.length);let Xe=this.generateRandomNumbers(ze.length);Xe=this.applyMovingAverage(Xe,5);const Ye=this.distortionFactor,Ke=Ye/2;for(let Ze=0;Ze<ze.length;Ze++){if(Ze===0||Ze===ze.length-1){qe[Ze]=ze[Ze];continue}const Qe=ze[Ze+1].minus(ze[Ze-1]);Qe.normalize();const Je=new ScreenVector(Qe.y,-Qe.x).times(Xe[Ze]*Ye-Ke);qe[Ze]=ze[Ze].plus(Je)}return qe}generateRandomNumbers(je){const ze=new Array(je);for(let qe=0;qe<je;qe++)ze[qe]=Math.random();return ze}applyMovingAverage(je,ze){const qe=je.length,Xe=new Array(qe).fill(0),Ye=Math.round(ze/2);for(let Ke=0;Ke<qe;Ke++){const Ze=Math.max(0,Ke-Ye),Qe=Math.min(qe-1,Ke+Ye);for(let Je=Ze;Je<=Qe;Je++)Xe[Ke]+=je[Je];Xe[Ke]/=ze}return Xe}interpolate(je,ze){let qe=ScreenPoint.LeftTop,Xe=-1,Ye=ze;const Ke=[];for(const Ze of je){if(Xe<0){Ke.push(Ze),qe=Ze,Xe=0;continue}const Qe=Ze.minus(qe).length;if(Qe>0)for(;Ye>=Xe&&Ye<=Xe+Qe;){const Je=(Ye-Xe)/Qe;Ke.push(new ScreenPoint(qe.x*(1-Je)+Ze.x*Je,qe.y*(1-Je)+Ze.y*Je)),Ye+=ze}Xe+=Qe,qe=Ze}return Ke.push(qe),Ke}}class Decimator{static decimate(je,ze){if(je===void 0||je.length===0)return;let qe=je[0],Xe=Math.round(qe.x),Ye=Math.round(qe.y),Ke=Ye,Ze=Ye,Qe=Ye;for(let Je=1;Je<je.length;++Je){qe=je[Je];const St=Math.round(qe.x),ei=Math.round(qe.y);if(St!==Xe){Decimator.addVerticalPoints(ze,Xe,Ze,Qe,Ye,Ke),Ze=Qe=Ye=Ke=ei,Xe=St;continue}ei<Ye&&(Ye=ei),ei>Ke&&(Ke=ei),Qe=ei}Qe=Ze===Ye?Ke:Ye,Decimator.addVerticalPoints(ze,Xe,Ze,Qe,Ye,Ke)}static addVerticalPoints(je,ze,qe,Xe,Ye,Ke){if(je.push(new ScreenPoint(ze,qe)),qe===Ye){Ye!==Ke&&je.push(new ScreenPoint(ze,Ke)),Ke!==Xe&&je.push(new ScreenPoint(ze,Xe));return}if(qe===Ke){Ke!==Ye&&je.push(new ScreenPoint(ze,Ye)),Ye!==Xe&&je.push(new ScreenPoint(ze,Xe));return}Xe===Ye?Ye!==Ke&&je.push(new ScreenPoint(ze,Ke)):Xe===Ke?Ke!==Ye&&je.push(new ScreenPoint(ze,Ye)):(je.push(new ScreenPoint(ze,Ye)),je.push(new ScreenPoint(ze,Ke))),je.push(new ScreenPoint(ze,Xe))}}class CanonicalSpline{constructor(je){D$1(this,"tension"),this.tension=je}createSplineDp(je,ze,qe){return CanonicalSpline.createSplineForDp(je,this.tension,void 0,ze,qe)}createSplineSp(je,ze,qe){return CanonicalSpline.createSpline(je,this.tension,void 0,ze,qe)}static createSplineForDp(je,ze,qe,Xe,Ye){const Ke=je.map(Je=>new ScreenPoint(Je.x,Je.y)),Ze=CanonicalSpline.createSpline(Ke,ze,qe,Xe,Ye),Qe=[];for(const Je of Ze)Qe.push(new DataPoint(Je.x,Je.y));return Qe}static createSpline(je,ze,qe,Xe,Ye){const Ke=[];if(!je)return Ke;const Ze=je.length;if(Ze<1)return Ke;if(Ze<2)return Ke.push(...je),Ke;if(Ze===2)Xe?(CanonicalSpline.segment(Ke,je[1],je[0],je[1],je[0],ze,ze,Ye),CanonicalSpline.segment(Ke,je[0],je[1],je[0],je[1],ze,ze,Ye)):CanonicalSpline.segment(Ke,je[0],je[0],je[1],je[1],ze,ze,Ye);else{const Qe=qe&&qe.length>0;for(let Je=0;Je<Ze;Je++){const St=Qe?qe[Je%qe.length]:ze,ei=Qe?qe[(Je+1)%qe.length]:ze;Je===0?CanonicalSpline.segment(Ke,Xe?je[Ze-1]:je[0],je[0],je[1],je[2],St,ei,Ye):Je===Ze-2?CanonicalSpline.segment(Ke,je[Je-1],je[Je],je[Je+1],Xe?je[0]:je[Je+1],St,ei,Ye):Je===Ze-1?Xe&&CanonicalSpline.segment(Ke,je[Je-1],je[Je],je[0],je[1],St,ei,Ye):CanonicalSpline.segment(Ke,je[Je-1],je[Je],je[Je+1],je[Je+2],St,ei,Ye)}}return Ke}static segment(je,ze,qe,Xe,Ye,Ke,Ze,Qe,Je=1e3){const St=Ke*(Xe.x-ze.x),ei=Ke*(Xe.y-ze.y),ti=Ze*(Ye.x-qe.x),ii=Ze*(Ye.y-qe.y),ri=St+ti+2*qe.x-2*Xe.x,si=ei+ii+2*qe.y-2*Xe.y,ui=-2*St-ti-3*qe.x+3*Xe.x,ai=-2*ei-ii-3*qe.y+3*Xe.y,oi=St,ni=ei,ci=qe.x,hi=qe.y,di=Math.min(Je,Math.round((Math.abs(qe.x-Xe.x)+Math.abs(qe.y-Xe.y))/Qe));for(let fi=1;fi<di;fi++){const mi=fi/(di-1),pi=new ScreenPoint(ri*mi*mi*mi+ui*mi*mi+oi*mi+ci,si*mi*mi*mi+ai*mi*mi+ni*mi+hi);je.push(pi)}}}class CatmullRomSpline{constructor(je){D$1(this,"alpha"),D$1(this,"maxSegments"),this.alpha=je,this.maxSegments=100}createSplineDp(je,ze,qe){return CatmullRomSpline.createSplineForDp(je,this.alpha,ze,qe,this.maxSegments)}createSplineSp(je,ze,qe){return CatmullRomSpline.createSpline(je,this.alpha,ze,qe,this.maxSegments)}static createSplineForDp(je,ze,qe,Xe,Ye){const Ke=je.map(Je=>new ScreenPoint(Je.x,Je.y)),Ze=this.createSpline(Ke,ze,qe,Xe,Ye),Qe=[];for(const Je of Ze)Qe.push(new DataPoint(Je.x,Je.y));return Qe}static createSpline(je,ze,qe,Xe,Ye){const Ke=[];if(je===void 0)return Ke;const Ze=je.length;if(Ze<1)return Ke;if(Ze<2)return Ke.push(...je),Ke;if(Ze===2)qe?(this.segment(Ke,je[1],je[0],je[1],je[0],ze,Xe,Ye),this.segment(Ke,je[0],je[1],je[0],je[1],ze,Xe,Ye)):this.segment(Ke,je[0],je[0],je[1],je[1],ze,Xe,Ye);else for(let Qe=0;Qe<Ze;Qe++)Qe===0?this.segment(Ke,qe?je[Ze-1]:je[0],je[0],je[1],je[2],ze,Xe,Ye):Qe===Ze-2?this.segment(Ke,je[Qe-1],je[Qe],je[Qe+1],qe?je[0]:je[Qe+1],ze,Xe,Ye):Qe===Ze-1?qe&&this.segment(Ke,je[Qe-1],je[Qe],je[0],je[1],ze,Xe,Ye):this.segment(Ke,je[Qe-1],je[Qe],je[Qe+1],je[Qe+2],ze,Xe,Ye);return Ke}static segment(je,ze,qe,Xe,Ye,Ke,Ze,Qe){if(qe.equals(Xe)){je.push(qe);return}ze.equals(qe)&&(ze=this.prev(qe,Xe)),Xe.equals(Ye)&&(Ye=this.prev(Xe,qe));const Je=0,St=this.getT(Je,ze,qe,Ke),ei=this.getT(St,qe,Xe,Ke),ti=this.getT(ei,Xe,Ye,Ke);let ii=Math.round((Math.abs(qe.x-Xe.x)+Math.abs(qe.y-Xe.y))/Ze);ii=Math.max(0,ii),ii=Math.min(Qe,ii);for(let ri=St;ri<ei;ri+=(ei-St)/ii){const si=this.sum(this.mult((St-ri)/(St-Je),ze),this.mult((ri-Je)/(St-Je),qe)),ui=this.sum(this.mult((ei-ri)/(ei-St),qe),this.mult((ri-St)/(ei-St),Xe)),ai=this.sum(this.mult((ti-ri)/(ti-ei),Xe),this.mult((ri-ei)/(ti-ei),Ye)),oi=this.sum(this.mult((ei-ri)/(ei-Je),si),this.mult((ri-Je)/(ei-Je),ui)),ni=this.sum(this.mult((ti-ri)/(ti-St),ui),this.mult((ri-St)/(ti-St),ai)),ci=this.sum(this.mult((ei-ri)/(ei-St),oi),this.mult((ri-St)/(ei-St),ni));je.push(ci)}}static getT(je,ze,qe,Xe){const Ye=Math.pow(qe.x-ze.x,2)+Math.pow(qe.y-ze.y,2),Ke=Math.sqrt(Ye);return Math.pow(Ke,Xe)+je}static mult(je,ze){return new ScreenPoint(ze.x*je,ze.y*je)}static equals(je,ze){return je.x===ze.x&&je.y===ze.y}static prev(je,ze){return new ScreenPoint(je.x-1e-4*(ze.x-je.x),je.y-1e-4*(ze.y-je.y))}static sum(je,ze){return new ScreenPoint(je.x+ze.x,je.y+ze.y)}}class InterpolationAlgorithms{}D$1(InterpolationAlgorithms,"CanonicalSpline",new CanonicalSpline(.5)),D$1(InterpolationAlgorithms,"CatmullRomSpline",new CatmullRomSpline(.5)),D$1(InterpolationAlgorithms,"UniformCatmullRomSpline",new CatmullRomSpline(0)),D$1(InterpolationAlgorithms,"ChordalCatmullRomSpline",new CatmullRomSpline(1));let Series$1=class extends PlotElement{constructor(je){super(je),D$1(this,"background"),D$1(this,"isVisible"),D$1(this,"title"),D$1(this,"legendKey"),D$1(this,"seriesGroupName"),D$1(this,"renderInLegend"),D$1(this,"trackerStringFormatter"),D$1(this,"trackerKey"),this.isVisible=!0,this.background=OxyColors.Undefined,this.renderInLegend=!0}getNearestPoint(je,ze){}hitTestOverride(je){const ze=this.getNearestPoint(je.point,!0)||this.getNearestPoint(je.point,!1);if(ze!=null&&ze.position)return ze.position.distanceTo(je.point)>je.tolerance?void 0:{element:this,nearestHitPoint:ze.position,item:ze.item,index:ze.index}}};class ItemsSeries extends Series$1{constructor(je){super(je),D$1(this,"itemsSource")}static getItem(je,ze){if(!(!je||ze<0)&&ze<je.length&&ze>=0)return je[ze]}getItem(je){if(this.itemsSource)return ItemsSeries.getItem(this.itemsSource,je)}}const oe$1=class il extends ItemsSeries{constructor(je){super(je),D$1(this,"trackerStringFormatter"),D$1(this,"_maxX",0),D$1(this,"_maxY",0),D$1(this,"_minX",0),D$1(this,"_minY",0),D$1(this,"_xAxis"),D$1(this,"xAxisKey"),D$1(this,"_yAxis"),D$1(this,"yAxisKey"),D$1(this,"isXMonotonic",!1),D$1(this,"windowStartIndex",0),this.trackerStringFormatter=il.DefaultTrackerFormatter,setTransposablePlotElement(this)}get maxX(){return this._maxX}set maxX(je){this._maxX=je}get maxY(){return this._maxY}set maxY(je){this._maxY=je}get minX(){return this._minX}set minX(je){this._minX=je}get minY(){return this._minY}set minY(je){this._minY=je}get xAxis(){return this._xAxis}get yAxis(){return this._yAxis}getClippingRect(){return PlotElementUtilities.getClippingRect(this)}getScreenRectangle(){return this.getClippingRect()}inverseTransform(je){return PlotElementUtilities.inverseTransformOrientated(this,je)}async renderLegend(je,ze){}transform(je){return PlotElementUtilities.transformOrientated(this,je)}areAxesRequired(){return!0}ensureAxes(){this._xAxis=this.xAxisKey?this.plotModel.getAxis(this.xAxisKey):this.plotModel.defaultXAxis,this._yAxis=this.yAxisKey?this.plotModel.getAxis(this.yAxisKey):this.plotModel.defaultYAxis}isUsing(je){return!1}setDefaultValues(){}updateAxisMaxMin(){this.xAxis.include(this.minX),this.xAxis.include(this.maxX),this.yAxis.include(this.minY),this.yAxis.include(this.maxY)}updateData(){this.windowStartIndex=0}updateMaxMin(){this.minX=this.minY=this.maxX=this.maxY=Number.NaN}getNearestInterpolatedPointInternal(je,ze,qe){if(!this.xAxis||!this.yAxis||!je)return;let Xe=ScreenPoint.LeftTop,Ye=DataPoint.Zero,Ke=-1,Ze=Number_MAX_VALUE;for(let Qe=ze;Qe+1<je.length;Qe++){const Je=je[Qe],St=je[Qe+1];if(!this.isValidPoint(Je)||!this.isValidPoint(St))continue;const ei=this.transform(Je),ti=this.transform(St),ii=ScreenPointHelper.findPointOnLine(qe,ei,ti);if(ScreenPoint.isUndefined(ii))continue;const ri=qe.minus(ii).lengthSquared;if(ri<Ze){const si=ti.minus(ei).length,ui=si>0?ii.minus(ei).length/si:0;Ye=this.inverseTransform(ii),Xe=ii,Ze=ri,Ke=Qe+ui}}if(Ze<Number_MAX_VALUE){const Qe=this.getItem(Math.round(Ke));return new TrackerHitResult({series:this,dataPoint:Ye,position:Xe,item:Qe,index:Ke})}}getNearestPointInternal(je,ze,qe){let Xe=ScreenPoint.LeftTop,Ye=DataPoint.Zero,Ke=-1,Ze=Number_MAX_VALUE,Qe=ze;for(const Je of je.slice(ze)){if(!this.isValidPoint(Je)){Qe++;continue}const St=PlotElementExtensions.transform(this,Je.x,Je.y),ei=St.minus(qe).lengthSquared;ei<Ze&&(Ye=Je,Xe=St,Ze=ei,Ke=Qe),Qe++}if(Ze<Number_MAX_VALUE){const Je=this.getItem(Math.round(Ke));return new TrackerHitResult({series:this,dataPoint:Ye,position:Xe,item:Je,index:Ke})}}isValidPoint(je){return this.isValidPoint2(je.x,je.y)}isValidPoint2(je,ze){return!!(this.xAxis&&this.xAxis.isValidValue(je)&&this.yAxis&&this.yAxis.isValidValue(ze))}internalUpdateMaxMin(je){if(!je)throw new Error("points is null");if(this.isXMonotonic=!0,je.length===0)return;let ze=this.minX,qe=this.minY,Xe=this.maxX,Ye=this.maxY;isNaN(ze)&&(ze=Number_MAX_VALUE),isNaN(qe)&&(qe=Number_MAX_VALUE),isNaN(Xe)&&(Xe=Number_MIN_VALUE),isNaN(Ye)&&(Ye=Number_MIN_VALUE);let Ke=Number_MIN_VALUE;for(const Ze of je){const Qe=Ze.x,Je=Ze.y;this.isValidPoint2(Qe,Je)&&(Qe<Ke&&(this.isXMonotonic=!1),Qe<ze&&(ze=Qe),Qe>Xe&&(Xe=Qe),Je<qe&&(qe=Je),Je>Ye&&(Ye=Je),Ke=Qe)}ze<Number_MAX_VALUE&&(this.minX=ze),qe<Number_MAX_VALUE&&(this.minY=qe),Xe>Number_MIN_VALUE&&(this.maxX=Xe),Ye>Number_MIN_VALUE&&(this.maxY=Ye)}internalUpdateMaxMin2(je,ze,qe){if(!je)throw new Error("items is null");if(this.isXMonotonic=!0,je.length===0)return;let Xe=this.minX,Ye=this.minY,Ke=this.maxX,Ze=this.maxY;isNaN(Xe)&&(Xe=Number_MAX_VALUE),isNaN(Ye)&&(Ye=Number_MAX_VALUE),isNaN(Ke)&&(Ke=Number_MIN_VALUE),isNaN(Ze)&&(Ze=Number_MIN_VALUE);let Qe=Number_MIN_VALUE;for(const Je of je){const St=ze(Je),ei=qe(Je);this.isValidPoint2(St,ei)&&(St<Qe&&(this.isXMonotonic=!1),St<Xe&&(Xe=St),St>Ke&&(Ke=St),ei<Ye&&(Ye=ei),ei>Ze&&(Ze=ei),Qe=St)}Xe<Number_MAX_VALUE&&(this.minX=Xe),Ye<Number_MAX_VALUE&&(this.minY=Ye),Ke>Number_MIN_VALUE&&(this.maxX=Ke),Ze>Number_MIN_VALUE&&(this.maxY=Ze)}internalUpdateMaxMin3(je,ze,qe,Xe,Ye){if(!je)throw new Error("items is null");if(this.isXMonotonic=!0,je.length===0)return;let Ke=this.minX,Ze=this.minY,Qe=this.maxX,Je=this.maxY;isNaN(Ke)&&(Ke=Number_MAX_VALUE),isNaN(Ze)&&(Ze=Number_MAX_VALUE),isNaN(Qe)&&(Qe=Number_MIN_VALUE),isNaN(Je)&&(Je=Number_MIN_VALUE);let St=Number_MIN_VALUE,ei=Number_MIN_VALUE;for(const ti of je){const ii=ze(ti),ri=qe(ti),si=Xe(ti),ui=Ye(ti);!this.isValidPoint2(ii,si)||!this.isValidPoint2(ri,ui)||((ii<St||ri<ei)&&(this.isXMonotonic=!1),ii<Ke&&(Ke=ii),ri>Qe&&(Qe=ri),si<Ze&&(Ze=si),ui>Je&&(Je=ui),St=ii,ei=ri)}Ke<Number_MAX_VALUE&&(this.minX=Ke),Ze<Number_MAX_VALUE&&(this.minY=Ze),Qe>Number_MIN_VALUE&&(this.maxX=Qe),Je>Number_MIN_VALUE&&(this.maxY=Je)}verifyAxes(){if(!this.xAxis)throw new Error("XAxis not defined.");if(!this.yAxis)throw new Error("YAxis not defined.")}updateWindowStartIndex(je,ze,qe,Xe){return Xe=this.findWindowStartIndex(je,ze,qe,Xe),Xe>0&&Xe--,Xe}findWindowStartIndex(je,ze,qe,Xe){let Ye=0,Ke=je.length-1;for(;Ke>0&&isNaN(ze(je[Ke]));)Ke-=1;let Ze=Ke,Qe=Math.max(0,Math.min(Ze,Xe));const Je=St=>{for(;St<=Ke;){const ei=ze(je[St]);if(isNaN(ei))St+=1;else return ei}return ze(je[Ke])};for(;Ye<Ze;){const St=Je(Qe);if(St===qe){Ye=Qe;break}else St>qe?Ze=Qe-1:Ye=Qe;if(Ye>=Ze)break;const ei=Je(Ze),ti=Je(Ye),ii=(Ze-Ye+1)/(ei-ti);Qe=Ye+Math.round((qe-ti)*ii),Qe=Math.max(Ye+1,Math.min(Qe,Ze))}for(;Ye>0&&ze(je[Ye])>qe;)Ye-=1;return Ye}formatDefaultTrackerString(je,ze,qe){var Xe,Ye,Ke,Ze;if(!this.trackerStringFormatter)return;const Qe={item:je,title:this.title||""};return ze&&(Qe.xTitle=((Xe=this.xAxis)==null?void 0:Xe.title)??il.defaultXAxisTitle,Qe.xValue=(Ye=this.xAxis)==null?void 0:Ye.getValue(ze.x),Qe.yTitle=((Ke=this.yAxis)==null?void 0:Ke.title)??il.defaultYAxisTitle,Qe.yValue=(Ze=this.yAxis)==null?void 0:Ze.getValue(ze.y)),qe&&qe(Qe),this.trackerStringFormatter(Qe)}};D$1(oe$1,"DefaultTrackerFormatter",Ve=>`${Ve.title||""}
${Ve.xTitle}: ${Ve.xValue}
${Ve.yTitle}: ${Ve.yValue}`),D$1(oe$1,"defaultXAxisTitle","X"),D$1(oe$1,"defaultYAxisTitle","Y");let XYAxisSeries=oe$1;class DataPointSeries extends XYAxisSeries{constructor(je){super(je),D$1(this,"_points",[]),D$1(this,"_itemsSourcePoints",[]),D$1(this,"canTrackerInterpolatePoints",!1),D$1(this,"dataFieldX"),D$1(this,"dataFieldY"),D$1(this,"mapping"),je&&je.points&&(this._points.push(...je.points),delete je.points)}get points(){return this._points}get actualPoints(){return this.itemsSource?this._itemsSourcePoints:this._points}getNearestPoint(je,ze){if(ze&&!this.canTrackerInterpolatePoints)return;let qe;return ze&&(qe=this.getNearestInterpolatedPointInternal(this.actualPoints,0,je)),qe||(qe=this.getNearestPointInternal(this.actualPoints,0,je)),qe&&this.trackerStringFormatter&&(qe.text=this.formatDefaultTrackerString(qe.item,qe.dataPoint)),qe}updateData(){this.itemsSource&&this.updateItemsSourcePoints()}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMin(this.actualPoints)}getItem(je){const ze=this.actualPoints;return!this.itemsSource&&ze&&je<ze.length?ze[je]:super.getItem(je)}clearItemsSourcePoints(){this._itemsSourcePoints&&(this._itemsSourcePoints.length=0)}updateItemsSourcePoints(){if(!this.itemsSource)return;const je=this.itemsSource;if(this.mapping){this.clearItemsSourcePoints();for(const ze of je)this._itemsSourcePoints.push(this.mapping(ze));return}this.clearItemsSourcePoints();for(const ze of je){const qe=this.convertToDataPoint(ze);qe&&this._itemsSourcePoints.push(qe)}}convertToDataPoint(je){if(je){if(je instanceof DataPoint)return je;if(this.dataFieldX&&this.dataFieldY){const ze=this.xAxis?this.xAxis.itemToDouble(je[this.dataFieldX]):Number(je[this.dataFieldX]),qe=this.yAxis?this.yAxis.itemToDouble(je[this.dataFieldY]):Number(je[this.dataFieldY]);return new DataPoint(ze,qe)}if(isDataPointProvider(je))return je.getDataPoint();throw new Error(`Cannot convert item ${je} to DataPoint`)}}}var LineLegendPosition=(Ve=>(Ve[Ve.None=0]="None",Ve[Ve.Start=1]="Start",Ve[Ve.End=2]="End",Ve))(LineLegendPosition||{});const Se=class ju extends DataPointSeries{constructor(je){super(je),D$1(this,"outputBuffer"),D$1(this,"contiguousScreenPointsBuffer"),D$1(this,"decimatorBuffer",[]),D$1(this,"defaultColor",OxyColors.Undefined),D$1(this,"defaultMarkerFill",OxyColors.Undefined),D$1(this,"defaultLineStyle",LineStyle.Solid),D$1(this,"_smoothedPoints"),D$1(this,"color"),D$1(this,"brokenLineColor"),D$1(this,"brokenLineStyle",LineStyle.Solid),D$1(this,"brokenLineThickness",0),D$1(this,"dashes"),D$1(this,"decimator"),D$1(this,"labelStringFormatter"),D$1(this,"labelMargin"),D$1(this,"lineJoin"),D$1(this,"lineStyle"),D$1(this,"lineLegendPosition",0),D$1(this,"markerFill"),D$1(this,"markerOutline"),D$1(this,"markerResolution"),D$1(this,"markerSize"),D$1(this,"markerStroke"),D$1(this,"markerStrokeThickness"),D$1(this,"markerType"),D$1(this,"minimumSegmentLength"),D$1(this,"interpolationAlgorithm"),D$1(this,"strokeThickness"),this.strokeThickness=2,this.lineJoin=LineJoin.Bevel,this.lineStyle=LineStyle.Automatic,this.color=OxyColors.Automatic,this.brokenLineColor=OxyColors.Undefined,this.markerFill=OxyColors.Automatic,this.markerStroke=OxyColors.Automatic,this.markerResolution=0,this.markerSize=3,this.markerStrokeThickness=1,this.markerType=MarkerType.None,this.minimumSegmentLength=2,this.canTrackerInterpolatePoints=!0,this.labelMargin=6,this._smoothedPoints=new Array,je&&Object.assign(this,removeUndef(je))}get actualColor(){return this.color.getActualColor(this.defaultColor)}get actualMarkerFill(){return this.markerFill.getActualColor(this.defaultMarkerFill)}get actualLineStyle(){return this.lineStyle!=LineStyle.Automatic?this.lineStyle:this.defaultLineStyle}get actualDashArray(){return this.dashes??LineStyleHelper.getDashArray(this.actualLineStyle)}get smoothedPoints(){return this._smoothedPoints}getNearestPoint(je,ze){if(ze&&(this.actualColor.isInvisible()||this.strokeThickness===0||!this.canTrackerInterpolatePoints))return;const qe=this.trackerStringFormatter;if(ze&&this.interpolationAlgorithm){const Xe=this.getNearestInterpolatedPointInternal(this.smoothedPoints,0,je);return Xe&&qe&&(Xe.text=qe({item:Xe.item,title:this.title,xTitle:this.xAxis.title??XYAxisSeries.defaultXAxisTitle,xValue:this.xAxis.getValue(Xe.dataPoint.x),yTitle:this.yAxis.title??XYAxisSeries.defaultYAxisTitle,yValue:this.yAxis.getValue(Xe.dataPoint.y)})),Xe}return super.getNearestPoint(je,ze)}async render(je){const ze=this.actualPoints;!ze||ze.length===0||(this.verifyAxes(),await this.renderPoints(je,ze),this.labelStringFormatter&&await this.renderPointLabels(je),this.lineLegendPosition!==0&&this.title&&await this.renderLegendOnLine(je))}async renderLegend(je,ze){const qe=(ze.left+ze.right)/2,Xe=(ze.top+ze.bottom)/2,Ye=[new ScreenPoint(ze.left,Xe),new ScreenPoint(ze.right,Xe)];await je.drawLine(Ye,this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode,this.actualDashArray);const Ke=new ScreenPoint(qe,Xe);await RenderingExtensions.drawMarker(je,Ke,this.markerType,this.markerOutline,this.markerSize,this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)}setDefaultValues(){this.lineStyle===LineStyle.Automatic&&(this.defaultLineStyle=this.plotModel.getDefaultLineStyle()),this.color.isAutomatic()&&(this.defaultColor=this.plotModel.getDefaultColor()),this.markerFill.isAutomatic()&&(this.defaultMarkerFill=this.color.isAutomatic()?this.defaultColor:this.color)}updateMaxMin(){if(this.interpolationAlgorithm){if(super.updateMaxMin(),this.resetSmoothedPoints(),this.smoothedPoints.every(qe=>isNaN(qe.x)))return;const je=this.smoothedPoints.filter(qe=>!isNaN(qe.x)).map(qe=>qe.x),ze=this.smoothedPoints.filter(qe=>!isNaN(qe.y)).map(qe=>qe.y);this.minX=minValueOfArray(je),this.minY=minValueOfArray(ze),this.maxX=maxValueOfArray(je),this.maxY=maxValueOfArray(ze)}else super.updateMaxMin()}async renderPoints(je,ze){let qe;const Xe=this.brokenLineThickness>0&&this.brokenLineStyle!==LineStyle.None,Ye=Xe?LineStyleHelper.getDashArray(this.brokenLineStyle):void 0,Ke=Xe?[]:void 0;this.contiguousScreenPointsBuffer||(this.contiguousScreenPointsBuffer=[]);let Ze=0,Qe=Number_MAX_VALUE;if(this.isXMonotonic){const Je=this.xAxis.clipMinimum;Qe=this.xAxis.clipMaximum,this.windowStartIndex=this.updateWindowStartIndex(ze,St=>St.x,Je,this.windowStartIndex),Ze=this.windowStartIndex}for(let Je=Ze;Je<ze.length;Je++){const{result:St,pointIdx:ei,previousContiguousLineSegmentEndPoint:ti}=this.extractNextContiguousLineSegment(ze,Je,qe,Qe,Ke,this.contiguousScreenPointsBuffer);if(Je=ei,qe=ti,!St)break;if(Xe){if(Ke&&Ke.length>0){const ii=this.brokenLineColor.isAutomatic()?this.actualColor:this.brokenLineColor;await je.drawLineSegments(Ke,ii,this.brokenLineThickness,this.edgeRenderingMode,Ye,this.lineJoin),Ke.length=0}}else qe=void 0;this.decimator?(this.decimatorBuffer?this.decimatorBuffer.length=0:this.decimatorBuffer=[],this.decimator(this.contiguousScreenPointsBuffer,this.decimatorBuffer),await this.renderLineAndMarkers(je,this.decimatorBuffer)):await this.renderLineAndMarkers(je,this.contiguousScreenPointsBuffer),this.contiguousScreenPointsBuffer.length=0}}extractNextContiguousLineSegment(je,ze,qe,Xe,Ye,Ke){let Ze=new DataPoint(0,0),Qe=!1;for(;ze<je.length;ze++){if(Ze=je[ze],Ze.x>Xe)return{result:!1,pointIdx:ze,previousContiguousLineSegmentEndPoint:qe};if(Qe=this.isValidPoint(Ze),Qe)break}if(!Qe)return{result:!1,pointIdx:ze,previousContiguousLineSegmentEndPoint:qe};let Je=this.transform(Ze);qe&&(Ye.push(qe),Ye.push(Je)),Ke.push(Je);let St=0;for(ze++;ze<je.length&&(Ze=je[ze],St+=Ze.x>Xe?1:0,!(St>1||!this.isValidPoint(Ze)));ze++)Je=this.transform(Ze),Ke.push(Je);return qe=Je,{result:!0,pointIdx:ze,previousContiguousLineSegmentEndPoint:qe}}async renderPointLabels(je){if(!this.labelStringFormatter)return;let ze=-1;for(const qe of this.actualPoints){if(ze++,!this.isValidPoint(qe))continue;const Xe=this.transform(qe).plus(new ScreenVector(0,-this.labelMargin)),Ye=this.getItem(ze),Ke=this.labelStringFormatter(Ye,[qe.x,qe.y]);await je.drawText(Xe,Ke,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Bottom)}}async renderLegendOnLine(je){if(!this.title)return;let ze,qe,Xe=VerticalAlignment.Middle,Ye=4;switch(this.lineLegendPosition){case 1:ze=this.actualPoints[0],qe=HorizontalAlignment.Right,Ye=-Ye;break;case 2:ze=this.actualPoints[this.actualPoints.length-1],qe=HorizontalAlignment.Left;break;case 0:return;default:throw new Error("Invalid LineLegendPosition")}const Ke=PlotElementExtensions.orientateAlignment(this,qe,Xe);qe=Ke[0],Xe=Ke[1];const Ze=this.transform(ze).plus(PlotElementExtensions.orientateVector(this,new ScreenVector(Ye,0)));await je.drawText(Ze,this.title,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,qe,Xe)}async renderLineAndMarkers(je,ze){let qe=ze;if(this.interpolationAlgorithm){const Xe=ScreenPointHelper.resamplePoints(ze,this.minimumSegmentLength);qe=this.interpolationAlgorithm.createSplineSp(Xe,!1,.25)}if(this.strokeThickness>0&&this.actualLineStyle!==LineStyle.None&&await this.renderLine(je,qe),this.markerType!==MarkerType.None){const Xe=this.markerResolution>0?PlotElementExtensions.transform(this,this.minX,this.minY):ScreenPoint.LeftTop;await RenderingExtensions.drawMarkers(je,ze,this.markerType,this.markerOutline,[this.markerSize],this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,this.markerResolution,Xe)}}async renderLine(je,ze){const qe=this.actualDashArray;this.outputBuffer||(this.outputBuffer=[]),await RenderingExtensions.drawReducedLine(je,ze,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode,qe,this.lineJoin,this.outputBuffer)}resetSmoothedPoints(){const je=Math.abs(Math.max(this.maxX-this.minX,this.maxY-this.minY)/ju.ToleranceDivisor);this._smoothedPoints=this.interpolationAlgorithm.createSplineDp(this.actualPoints,!1,je)}};D$1(Se,"ToleranceDivisor",200);let LineSeries=Se;class BarItemBase{constructor(je){D$1(this,"categoryIndex"),this.categoryIndex=-1,je&&(isNullOrUndef(je.categoryIndex)||(this.categoryIndex=je.categoryIndex))}getCategoryIndex(je){return this.categoryIndex<0?je:this.categoryIndex}}class BarItem extends BarItemBase{constructor(je){super(je),D$1(this,"color"),D$1(this,"value",0),this.color=OxyColors.Automatic,je&&Object.assign(this,removeUndef(je))}static fromValue(je){return new BarItem({value:je})}}class BarSeriesBase extends XYAxisSeries{constructor(je){super(je),D$1(this,"barWidth"),D$1(this,"itemsSourceItems"),D$1(this,"strokeColor"),D$1(this,"strokeThickness",0),D$1(this,"manager"),D$1(this,"validItems",[]),D$1(this,"validItemsIndexInversion",new Map),D$1(this,"labelColor",OxyColors.Undefined),D$1(this,"labelMargin",0),D$1(this,"labelAngle",0),D$1(this,"labelPlacement",LabelPlacement.Outside),D$1(this,"items",[]),this.strokeColor=OxyColors.Black,this.barWidth=1}get actualItems(){return this.itemsSource?this.itemsSourceItems:this.items}getActualBarWidth(){if(!this.manager)return 0;const je=this.getCategoryAxis();return this.barWidth/(1+je.gapWidth)/this.manager.getMaxWidth()}get categoryAxis(){return this.getCategoryAxis()}getCategoryAxis(){if(!(this.yAxis instanceof CategoryAxis))throw new Error("BarSeries requires a CategoryAxis on the Y Axis.");return this.yAxis}get valueAxis(){return this.xAxis}getItem(je){return this.itemsSource||!this.actualItems||this.actualItems.length===0?super.getItem(je):this.actualItems[je]}clearItemsSourceItems(){this.itemsSourceItems&&(this.itemsSourceItems.length=0)}isUsing(je){return this.xAxis===je||this.yAxis===je}async renderLabel(je,ze,qe,Xe,Ye,Ke,Ze,...Qe){const Je=[];if(Qe.length)Je.push(...Qe);else if(ze instanceof BarItem)Je.push(ze.value);else if(ze instanceof IntervalBarItem)Je.push(ze.start),Je.push(ze.end);else throw ze instanceof TornadoBarItem?new Error("RenderLabel does not support automatic determination of label values for TornadoBarItem objects. Please populate the labelValues parameter."):new Error(`RenderLabel automatic value determination not implemented for ${this.constructor.name}. Please populate the labelValues parameter.`);const St=Ze?Ze(ze,Je):"";let ei;const ti=(Ke+Ye)/2,ii=Math.sign(Xe-qe);let ri=new ScreenVector(this.labelMargin,0).times(ii),si=new ScreenVector(0,0);const ui=RenderingExtensions.measureText(je,St,this.actualFont,this.actualFontSize,this.actualFontWeight,this.labelAngle),ai=(PlotElementExtensions.isTransposed(this)?ui.height:ui.width)/2,oi=PlotElementExtensions.transform;switch(this.labelPlacement){case LabelPlacement.Inside:ei=oi(this,Xe,ti),ri=ri.negate(),si=new ScreenVector(-ii*ai,0);break;case LabelPlacement.Outside:ei=oi(this,Xe,ti),si=new ScreenVector(ii*ai,0);break;case LabelPlacement.Middle:ei=oi(this,(Xe+qe)/2,ti),ri=new ScreenVector(0,0);break;case LabelPlacement.Base:ei=oi(this,qe,ti),si=new ScreenVector(ii*ai,0);break;default:throw new Error("Invalid label placement")}const ni=PlotElementExtensions.orientateVector;ei=ei.plus(ni(this,ri)).plus(ni(this,si)),await je.drawText(ei,St,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.labelAngle,HorizontalAlignment.Center,VerticalAlignment.Middle)}updateAxisMaxMin(){this.xAxis.include(this.minX),this.xAxis.include(this.maxX)}updateData(){this.clearItemsSourceItems(),!(!this.itemsSource||this.itemsSource.length==0)&&(this.updateFromDataFields()||(this.itemsSourceItems||(this.itemsSourceItems=[]),this.itemsSourceItems.push(...this.itemsSource)))}updateValidData(){this.validItems.length=0,this.validItemsIndexInversion.clear();const je=this.manager.categories.length;for(let ze=0;ze<this.actualItems.length;ze++){const qe=this.actualItems[ze];qe&&qe.getCategoryIndex(ze)<je&&this.isValid(qe)&&(this.validItemsIndexInversion.set(this.validItems.length,ze),this.validItems.push(qe))}}}D$1(BarSeriesBase,"DefaultCategoryAxisTitle","Category"),D$1(BarSeriesBase,"DefaultValueAxisTitle","Value");const Ce=class Vu extends BarSeriesBase{constructor(je){super(je),D$1(this,"defaultFillColor",OxyColors.Undefined),D$1(this,"trackerStringFormatter"),D$1(this,"baseValue"),D$1(this,"baseLine"),D$1(this,"actualBaseLine"),D$1(this,"colorField"),D$1(this,"fillColor"),D$1(this,"isStacked",!1),D$1(this,"overlapsStack",!1),D$1(this,"labelStringFormatter"),D$1(this,"negativeFillColor"),D$1(this,"stackGroup"),D$1(this,"valueField"),D$1(this,"actualBarRectangles"),this.fillColor=OxyColors.Automatic,this.negativeFillColor=OxyColors.Undefined,this.trackerStringFormatter=Vu.DefaultTrackerFormatter,this.labelMargin=2,this.labelAngle=0,this.stackGroup="",this.strokeThickness=0,this.baseValue=0,this.baseLine=NaN,this.actualBaseLine=NaN,je&&Object.assign(this,removeUndef(je))}get actualFillColor(){return this.fillColor.getActualColor(this.defaultFillColor)}getNearestPoint(je,ze){if(!this.actualBarRectangles||this.validItems.length===0)return;let qe=0;for(const Xe of this.actualBarRectangles){if(Xe.containsPoint(je)){const Ye=this.validItems[qe],Ke=Ye.getCategoryIndex(qe),Ze=new DataPoint(Ke,this.validItems[qe].value),Qe=this.getItem(this.validItemsIndexInversion.get(qe));return new TrackerHitResult({series:this,dataPoint:Ze,position:je,item:Qe,index:qe,text:this.getTrackerText(Ye,Qe,Ke)})}qe++}}renderLegend(je,ze){const qe=(ze.left+ze.right)/2,Xe=(ze.top+ze.bottom)/2,Ye=(ze.bottom-ze.top)*.8,Ke=Ye;return je.drawRectangle(new OxyRect(qe-.5*Ke,Xe-.5*Ye,Ke,Ye),this.getSelectableColor(this.actualFillColor),this.strokeColor,this.strokeThickness,this.edgeRenderingMode)}setDefaultValues(){this.fillColor.isAutomatic()&&(this.defaultFillColor=this.plotModel.getDefaultColor())}updateAxisMaxMin(){super.updateAxisMaxMin(),this.computeActualBaseLine(),this.xAxis.include(this.actualBaseLine)}computeActualBaseLine(){if(isNaN(this.baseLine))if(this.xAxis.isLogarithmic()){const je=(this.actualItems||[]).map(qe=>qe.value),ze=minValueOfArray(je.filter(qe=>qe>0),1);this.actualBaseLine=Math.max(ze/10,this.baseValue)}else this.actualBaseLine=0;else this.actualBaseLine=this.baseLine}updateMaxMin(){if(super.updateMaxMin(),this.validItems.length===0)return;const je=this.getCategoryAxis();let ze=Number_MAX_VALUE,qe=Number_MIN_VALUE;const Xe=this.manager;if(this.isStacked){const Ye=je.actualLabels;for(let Ke=0;Ke<Ye.length;Ke++){let Ze=0;const Qe=this.validItems.filter(ri=>ri.getCategoryIndex(Ze++)===Ke).map(ri=>ri.value).concat([0]);let Je=Qe.filter(ri=>ri<=0).reduce((ri,si)=>ri+si,0),St=Qe.filter(ri=>ri>=0).reduce((ri,si)=>ri+si,0);const ei=Xe.getStackIndex(this.stackGroup),ti=Xe.getCurrentMinValue(ei,Ke);isNaN(ti)||(Je+=ti),Xe.setCurrentMinValue(ei,Ke,Je);const ii=Xe.getCurrentMaxValue(ei,Ke);!this.overlapsStack&&!isNaN(ii)&&(St+=ii),Xe.setCurrentMaxValue(ei,Ke,St),ze=Math.min(ze,Je+this.baseValue),qe=Math.max(qe,St+this.baseValue)}}else{const Ye=this.validItems.map(Ke=>Ke.value).concat([0]);ze=minValueOfArray(Ye),qe=maxValueOfArray(Ye),this.baseValue<ze&&(ze=this.baseValue),this.baseValue>qe&&(qe=this.baseValue)}this.minX=ze,this.maxX=qe}getTrackerText(je,ze,qe){if(!this.trackerStringFormatter)return;const Xe=this.getCategoryAxis(),Ye=this.xAxis;return this.trackerStringFormatter({item:ze,title:this.title,category:Xe.formatValue(qe),value:Ye==null?void 0:Ye.getValue(je.value)})}isValid(je){return this.xAxis.isValidValue(je.value)}async renderItem(je,ze,qe,Xe,Ye,Ke){let Ze=Ye.color;Ze.isAutomatic()&&(Ze=this.actualFillColor,Ye.value<0&&!this.negativeFillColor.isUndefined()&&(Ze=this.negativeFillColor));const Qe=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);await je.drawRectangle(Ke,this.getSelectableFillColor(Ze),this.strokeColor,this.strokeThickness,Qe)}async render(je){if(this.actualBarRectangles=[],this.validItems.length===0)return;const ze=this.manager,qe=this.yAxis,Xe=this.xAxis,Ye=PlotElementExtensions.transform,Ke=this.getActualBarWidth(),Ze=this.isStacked?ze.getStackIndex(this.stackGroup):0;for(let Qe=0;Qe<this.validItems.length;Qe++){const Je=this.validItems[Qe],St=Je.getCategoryIndex(Qe),ei=Je.value;let ti=NaN;this.isStacked&&!this.overlapsStack&&(ti=ze.getCurrentBaseValue(Ze,St,ei<0)),isNaN(ti)&&(ti=this.baseValue);const ii=this.isStacked?ti+ei:ei;if(qe.isLogarithmic()&&!qe.isValidValue(ii))continue;let ri;this.isStacked?ri=ze.getCategoryValue(St,Ze,Ke):ri=St-.5+ze.getCurrentBarOffset(St),this.isStacked&&ze.setCurrentBaseValue(Ze,St,ei<0,ii);const si=Xe.isLogarithmic()&&!Xe.isValidValue(ti),ui=Ye(this,si?Xe.clipMinimum:ti,ri),ai=Ye(this,ii,ri+Ke),oi=OxyRect.fromScreenPoints(ui,ai);this.actualBarRectangles.push(oi),await this.renderItem(je,ii,ri,Ke,Je,oi),this.labelStringFormatter&&await this.renderLabel(je,Je,ti,ii,ri,ri+Ke,this.labelStringFormatter),this.isStacked||ze.increaseCurrentBarOffset(St,Ke)}}updateFromDataFields(){if(!this.valueField)return!1;if(!this.itemsSource||this.itemsSource.length==0)return!0;this.itemsSourceItems=this.itemsSourceItems||[];for(const je of this.itemsSource){if(isNullOrUndef(je))continue;const ze=je[this.valueField],qe=new BarItem;qe.value=isNullOrUndef(ze)?NaN:ze;let Xe=OxyColors.Automatic;this.colorField&&je[this.colorField]&&je[this.colorField]instanceof OxyColor&&(Xe=je[this.colorField]),qe.color=Xe,this.itemsSourceItems.push(qe)}return!0}};D$1(Ce,"DefaultTrackerFormatter",Ve=>`${Ve.title||""}
${Ve.category}: ${Ve.value}`);let BarSeries=Ce;class BarSeriesManager{constructor(je,ze,qe){if(D$1(this,"currentBarOffset"),D$1(this,"currentMaxValue"),D$1(this,"currentMinValue"),D$1(this,"currentNegativeBaseValues"),D$1(this,"currentPositiveBaseValues"),D$1(this,"maxWidth",NaN),D$1(this,"_categoryAxis"),D$1(this,"_series"),D$1(this,"_valueAxis"),D$1(this,"_barOffset"),D$1(this,"_stackedBarOffset"),D$1(this,"_stackIndexMapping",new Map),!je.plotModel)throw new Error("The category axis must be part of a plot model.");this._categoryAxis=je,this._valueAxis=ze,this._series=qe;for(const Xe of this._series)Xe.manager=this}get categoryAxis(){return this._categoryAxis}get managedSeries(){return this._series}get plotModel(){return this.categoryAxis.plotModel}get valueAxis(){return this._valueAxis}get categories(){return this._categoryAxis.actualLabels}get stackIndexMapping(){return this._stackIndexMapping}getCategoryValue(je,ze,qe){const Xe=this._stackedBarOffset[ze][je],Ye=this._stackedBarOffset[ze+1][je];return je-.5+(Ye+Xe-qe)*.5}getCurrentBarOffset(je){return this.currentBarOffset?this.currentBarOffset[je]:0}getCurrentBaseValue(je,ze,qe){return qe?this.currentNegativeBaseValues[je][ze]:this.currentPositiveBaseValues[je][ze]}getCurrentMaxValue(je,ze){return this.currentMaxValue?this.currentMaxValue[je][ze]:0}getCurrentMinValue(je,ze){return this.currentMinValue?this.currentMinValue[je][ze]:0}getMaxWidth(){return this.maxWidth}getStackIndex(je){const ze=this._stackIndexMapping.get(je);return isUndef(ze)?-1:ze}increaseCurrentBarOffset(je,ze){this.currentBarOffset&&(this.currentBarOffset[je]+=ze)}initializeRender(){this.resetCurrentValues()}setCurrentBaseValue(je,ze,qe,Xe){qe?this.currentNegativeBaseValues[je][ze]=Xe:this.currentPositiveBaseValues[je][ze]=Xe}setCurrentMaxValue(je,ze,qe){this.currentMaxValue[je][ze]=qe}setCurrentMinValue(je,ze,qe){this.currentMinValue[je][ze]=qe}update(){this.categoryAxis.updateLabels(Math.max(...this.managedSeries.map(je=>je.actualItems.length))),this.updateBarOffsets(),this.updateValidData(),this.resetCurrentValues()}static hasCategory(je,ze){return je.actualItems.length>ze&&je.actualItems[ze].categoryIndex<0?!0:je.actualItems.some(qe=>qe.categoryIndex===ze)}resetCurrentValues(){this.currentBarOffset=[...this._barOffset||[]];const je=this.categoryAxis.actualLabels,ze=this._stackIndexMapping.size;ze>0?(this.currentPositiveBaseValues=create2DArray(ze,je.length,Number.NaN),this.currentNegativeBaseValues=create2DArray(ze,je.length,Number.NaN),this.currentMaxValue=create2DArray(ze,je.length,Number.NaN),this.currentMinValue=create2DArray(ze,je.length,Number.NaN)):(this.currentPositiveBaseValues=void 0,this.currentNegativeBaseValues=void 0,this.currentMaxValue=void 0,this.currentMinValue=void 0)}updateBarOffsets(){if(this.categories.length===0){this.maxWidth=Number.NaN,this._stackedBarOffset=void 0,this._stackIndexMapping.clear();return}const je=new Array(this.categories.length).fill(0),ze=new Map;this._barOffset=new Array(this.categories.length).fill(0);const qe=this.managedSeries.filter(Ze=>isStackableSeries(Ze)).map(Ze=>Ze),Xe=Array.from(qe.filter(Ze=>Ze.isStacked).reduce((Ze,Qe)=>Ze.set(Qe.stackGroup,(Ze.get(Qe.stackGroup)||[]).concat(Qe)),new Map).values());for(const Ze of Xe){const Qe=Math.max(...Ze.map(Je=>Je.barWidth));ze.set(Ze[0].stackGroup,Qe);for(let Je=0;Je<this.categories.length;Je++)Ze.some(St=>BarSeriesManager.hasCategory(St,Je))&&(je[Je]+=Qe)}for(const Ze of this.managedSeries.filter(Qe=>!isStackableSeries(Qe)||!Qe.isStacked))for(let Qe=0;Qe<this.categories.length;Qe++){let Je=Ze.actualItems.filter(St=>St.categoryIndex===Qe).length;Ze.actualItems.length>Qe&&Ze.actualItems[Qe].categoryIndex<0&&Je++,je[Qe]+=Ze.barWidth*Je}this.maxWidth=Math.max(...je),this._stackedBarOffset=create2DArray(Xe.length+1,this.categories.length,0);const Ye=1/(1+this.categoryAxis.gapWidth)/this.maxWidth;for(let Ze=0;Ze<this.categories.length;Ze++)this._barOffset[Ze]=.5-je[Ze]*Ye*.5;for(let Ze=0;Ze<Xe.length;Ze++){const Qe=Xe[Ze];for(let Je=0;Je<this.categories.length;Je++)this._stackedBarOffset[Ze][Je]=this._barOffset[Je],Qe.some(St=>BarSeriesManager.hasCategory(St,Je))&&(this._barOffset[Je]+=ze.get(Qe[0].stackGroup)*Ye)}for(let Ze=0;Ze<this.categories.length;Ze++)this._stackedBarOffset[Xe.length][Ze]=this._barOffset[Ze];this._stackIndexMapping.clear();let Ke=0;for(const Ze of Xe.map(Qe=>Qe[0].stackGroup).sort())this._stackIndexMapping.set(Ze,Ke++)}updateValidData(){for(const je of this.managedSeries)je.updateValidData()}}function isBarSeries(Ve){return Ve&&!isNullOrUndef(Ve.barWidth)&&Ve.categoryAxis}class IntervalBarItem extends BarItemBase{constructor(je){super(je),D$1(this,"color"),D$1(this,"end",0),D$1(this,"start",0),D$1(this,"title"),this.color=OxyColors.Automatic,je&&Object.assign(this,removeUndef(je))}}const Ae=class Uu extends BarSeriesBase{constructor(je){super(je),D$1(this,"defaultFillColor",OxyColors.Undefined),D$1(this,"trackerStringFormatter"),D$1(this,"colorField"),D$1(this,"endField"),D$1(this,"fillColor"),D$1(this,"isStacked",!0),D$1(this,"overlapsStack",!0),D$1(this,"labelStringFormatter",(ze,qe)=>`${qe[0]} - ${qe[1]}`),D$1(this,"stackGroup",""),D$1(this,"startField"),D$1(this,"actualBarRectangles",[]),this.fillColor=OxyColors.Automatic,this.strokeThickness=1,this.trackerStringFormatter=Uu.DefaultTrackerStringFormatter,this.labelMargin=4,this.labelPlacement=LabelPlacement.Middle,je&&Object.assign(this,removeUndef(je))}get actualFillColor(){return this.fillColor.getActualColor(this.defaultFillColor)}getNearestPoint(je,ze){for(let qe=0;qe<this.actualBarRectangles.length;qe++){if(!this.actualBarRectangles[qe].containsPoint(je))continue;const Xe=this.getItem(this.validItemsIndexInversion.get(qe)),Ye=Xe.getCategoryIndex(qe),Ke=(this.validItems[qe].start+this.validItems[qe].end)/2,Ze=new DataPoint(Ye,Ke),Qe=this.getCategoryAxis(),Je=this.xAxis,St=this.trackerStringFormatter({item:Xe,title:this.title,categoryTitle:Qe.title??BarSeriesBase.DefaultCategoryAxisTitle,categoryValue:Qe.formatValue(Ye),valueTitle:Je.title??BarSeriesBase.DefaultValueAxisTitle});return new TrackerHitResult({series:this,dataPoint:Ze,position:je,item:Xe,index:qe,text:St})}}async renderLegend(je,ze){const qe=(ze.left+ze.right)/2,Xe=(ze.top+ze.bottom)/2,Ye=(ze.bottom-ze.top)*.8,Ke=Ye;await je.drawRectangle(new OxyRect(qe-.5*Ke,Xe-.5*Ye,Ke,Ye),this.getSelectableFillColor(this.actualFillColor),this.strokeColor,this.strokeThickness,this.edgeRenderingMode)}setDefaultValues(){this.fillColor.isAutomatic()&&(this.defaultFillColor=this.plotModel.getDefaultColor())}updateMaxMin(){if(super.updateMaxMin(),this.validItems.length===0)return;let je=Number_MAX_VALUE,ze=Number_MIN_VALUE;for(const qe of this.validItems)je=Math.min(je,qe.start),je=Math.min(je,qe.end),ze=Math.max(ze,qe.start),ze=Math.max(ze,qe.end);this.minX=je,this.maxX=ze}isValid(je){return this.xAxis.isValidValue(je.start)&&this.xAxis.isValidValue(je.end)}async render(je){if(this.actualBarRectangles=[],this.validItems.length===0)return;const ze=this.getActualBarWidth(),qe=this.manager.getStackIndex(this.stackGroup),Xe=PlotElementExtensions.transform,Ye=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);for(let Ke=0;Ke<this.validItems.length;Ke++){const Ze=this.validItems[Ke],Qe=Ze.getCategoryIndex(Ke),Je=this.manager.getCategoryValue(Qe,qe,ze),St=Xe(this,Ze.start,Je),ei=Xe(this,Ze.end,Je+ze),ti=OxyRect.fromScreenPoints(St,ei);this.actualBarRectangles.push(ti),await je.drawRectangle(ti,this.getSelectableFillColor(Ze.color.getActualColor(this.actualFillColor)),this.strokeColor,this.strokeThickness,Ye),this.labelStringFormatter&&await this.renderLabel(je,this.getItem(Ke),Ze.start,Ze.end,Je,Je+ze,this.labelStringFormatter)}}updateFromDataFields(){var je;if(!this.startField||!this.endField||!this.itemsSource)return!1;for(const ze of this.itemsSource){const qe=getOrDefault(ze,this.startField,NaN),Xe=getOrDefault(ze,this.endField,NaN),Ye=getOrDefault(ze,this.colorField,OxyColors.Automatic);(je=this.itemsSourceItems)==null||je.push(new IntervalBarItem({start:qe,end:Xe,color:Ye}))}return!0}};D$1(Ae,"DefaultTrackerStringFormatter",Ve=>{var je,ze;return`${Ve.title}
${Ve.categoryTitle}: ${Ve.categoryValue}
${Ve.valueTitle}: ${(je=Ve.item)==null?void 0:je.start} - ${(ze=Ve.item)==null?void 0:ze.end}`});let IntervalBarSeries=Ae;function isStackableSeries(Ve){return Ve&&!isUndef(Ve.isStacked)&&typeof Ve.isStacked=="boolean"&&!isUndef(Ve.stackGroup)&&typeof Ve.stackGroup=="string"}var LabelPlacement=(Ve=>(Ve[Ve.Outside=0]="Outside",Ve[Ve.Inside=1]="Inside",Ve[Ve.Middle=2]="Middle",Ve[Ve.Base=3]="Base",Ve))(LabelPlacement||{});class ErrorBarItem extends BarItem{constructor(je){super(je),D$1(this,"error",0),this.color=OxyColors.Automatic,je&&Object.assign(this,removeUndef(je))}}const Me=class zu extends BarSeries{constructor(je){super(je),D$1(this,"errorStrokeThickness"),D$1(this,"errorWidth"),this.errorWidth=.4,this.errorStrokeThickness=1,this.trackerStringFormatter=zu.DefaultTrackerStringFormatter,je&&Object.assign(this,removeUndef(je))}updateMaxMin(){if(super.updateMaxMin(),this.validItems.length===0)return;let je=Number_MAX_VALUE,ze=Number_MIN_VALUE;if(!this.isStacked){const qe=this.validItems.map(Ye=>Ye.value-Ye.error).concat([0]),Xe=this.validItems.map(Ye=>Ye.value+Ye.error).concat([0]);je=minValueOfArray(qe),ze=maxValueOfArray(Xe),this.baseValue<je&&(je=this.baseValue),this.baseValue>ze&&(ze=this.baseValue)}this.minX=je,this.maxX=ze}async renderItem(je,ze,qe,Xe,Ye,Ke){await super.renderItem(je,ze,qe,Xe,Ye,Ke);const Ze=ze-Ye.error,Qe=ze+Ye.error,Je=.5-this.errorWidth/2,St=.5+this.errorWidth/2,ei=qe+Je*Xe,ti=qe+.5*Xe,ii=qe+St*Xe,ri=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness),si=PlotElementExtensions.transform,ui=si(this,Ze,ti),ai=si(this,Qe,ti);if(await je.drawLine([ui,ai],this.strokeColor,this.errorStrokeThickness,ri,void 0,LineJoin.Miter),this.errorWidth>0){const oi=si(this,Ze,ei),ni=si(this,Ze,ii);await je.drawLine([oi,ni],this.strokeColor,this.errorStrokeThickness,ri,void 0,LineJoin.Miter);const ci=si(this,Qe,ei),hi=si(this,Qe,ii);await je.drawLine([ci,hi],this.strokeColor,this.errorStrokeThickness,ri,void 0,LineJoin.Miter)}}};D$1(Me,"DefaultTrackerStringFormatter",Ve=>`${Ve.title||""}
${Ve.category}: ${Ve.value}, Error: ${round(Ve.item.error,3)}`);let ErrorBarSeries=Me;class LinearBarSeries extends DataPointSeries{constructor(je){super(je),D$1(this,"rectangles",[]),D$1(this,"rectanglesPointIndexes",[]),D$1(this,"defaultColor",OxyColors.Undefined),D$1(this,"fillColor"),D$1(this,"barWidth"),D$1(this,"strokeThickness"),D$1(this,"strokeColor"),D$1(this,"negativeFillColor"),D$1(this,"negativeStrokeColor"),D$1(this,"baseValue"),D$1(this,"baseLine"),D$1(this,"actualBaseLine"),this.fillColor=OxyColors.Automatic,this.barWidth=5,this.strokeColor=OxyColors.Black,this.strokeThickness=0,this.negativeFillColor=OxyColors.Undefined,this.negativeStrokeColor=OxyColors.Undefined,this.baseValue=0,this.baseLine=Number.NaN,this.actualBaseLine=Number.NaN,je&&Object.assign(this,removeUndef(je))}get actualColor(){return this.fillColor.getActualColor(this.defaultColor)}getNearestPoint(je,ze){const qe=this.findRectangleIndex(je);if(qe<0||!this.rectangles[qe].containsPoint(je))return;const Xe=this.rectanglesPointIndexes[qe],Ye=this.actualPoints[Xe],Ke=this.getItem(Xe),Ze=this.formatDefaultTrackerString(Ke,Ye);return new TrackerHitResult({series:this,dataPoint:Ye,position:je,item:Ke,index:Xe,text:Ze})}async render(je){this.rectangles.length=0,this.rectanglesPointIndexes.length=0;const ze=this.actualPoints;!ze||ze.length===0||(this.verifyAxes(),await this.renderBars(je,ze))}async renderLegend(je,ze){const qe=(ze.left+ze.right)/2,Xe=(ze.top+ze.bottom)/2,Ye=(ze.bottom-ze.top)*.8,Ke=Ye;await je.drawRectangle(new OxyRect(qe-.5*Ke,Xe-.5*Ye,Ke,Ye),this.getSelectableColor(this.actualColor),this.strokeColor,this.strokeThickness,this.edgeRenderingMode)}setDefaultValues(){this.fillColor.isAutomatic()&&(this.defaultColor=this.plotModel.getDefaultColor())}updateAxisMaxMin(){super.updateAxisMaxMin(),this.computeActualBaseLine(),this.yAxis.include(this.actualBaseLine)}computeActualBaseLine(){if(isNaN(this.baseLine))if(this.yAxis.isLogarithmic()){const je=this.actualPoints?minValueOfArray(this.actualPoints.filter(ze=>ze.y>0).map(ze=>ze.y),1):1;this.actualBaseLine=Math.max(je/10,this.baseValue)}else this.actualBaseLine=0;else this.actualBaseLine=this.baseLine}findRectangleIndex(je){let ze;return PlotElementExtensions.isTransposed(this)?ze=(qe,Xe)=>qe.bottom<je.y?1:qe.top>je.y?-1:0:ze=(qe,Xe)=>qe.right<je.x?-1:qe.left>je.x?1:0,this.rectangles.findIndex(qe=>ze(qe,OxyRect.Empty)===0)}async renderBars(je,ze){const qe=this.yAxis.isLogarithmic()&&!this.yAxis.isValidValue(this.baseValue),Xe=this.getBarWidth(ze)/2,Ye=PlotElementExtensions.orientateVector(this,new ScreenVector(Xe,0)),Ke=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);for(let Ze=0;Ze<ze.length;Ze++){const Qe=ze[Ze];if(!this.isValidPoint(Qe))continue;const Je=this.transform(Qe).minusVector(Ye),St=this.transform(new DataPoint(Qe.x,qe?this.yAxis.clipMinimum:this.baseValue)).plus(Ye),ei=OxyRect.fromScreenPoints(St,Je);this.rectangles.push(ei),this.rectanglesPointIndexes.push(Ze);const ti=this.getBarColors(Qe.y);await je.drawRectangle(ei,ti.fillColor,ti.strokeColor,this.strokeThickness,Ke)}}getBarWidth(je){let ze=this.barWidth/this.xAxis.scale;for(let qe=1;qe<je.length;qe++){const Xe=je[qe].x-je[qe-1].x;Xe<ze&&(ze=Xe)}return ze*this.xAxis.scale}getBarColors(je){const ze=je>=this.baseValue,qe=ze||this.negativeFillColor.isUndefined()?this.getSelectableFillColor(this.actualColor):this.negativeFillColor,Xe=ze||this.negativeStrokeColor.isUndefined()?this.strokeColor:this.negativeStrokeColor;return{fillColor:qe,strokeColor:Xe}}}class TornadoBarItem extends BarItemBase{constructor(je){super(je),D$1(this,"baseValue"),D$1(this,"maximum"),D$1(this,"maximumColor"),D$1(this,"minimum"),D$1(this,"minimumColor"),this.minimum=NaN,this.maximum=NaN,this.baseValue=NaN,this.minimumColor=OxyColors.Automatic,this.maximumColor=OxyColors.Automatic,je&&Object.assign(this,removeUndef(je))}}const Ee=class Hu extends BarSeriesBase{constructor(je){super(je),D$1(this,"defaultMaximumFillColor",OxyColors.Undefined),D$1(this,"defaultMinimumFillColor",OxyColors.Undefined),D$1(this,"baseField"),D$1(this,"baseValue",NaN),D$1(this,"maximumColorField"),D$1(this,"maximumField"),D$1(this,"maximumFillColor"),D$1(this,"maximumLabelStringFormatter"),D$1(this,"minimumColorField"),D$1(this,"minimumField"),D$1(this,"minimumFillColor"),D$1(this,"minimumLabelStringFormatter"),D$1(this,"actualMaximumBarRectangles",[]),D$1(this,"actualMinimumBarRectangles",[]),this.maximumFillColor=OxyColor.fromRgb(216,82,85),this.minimumFillColor=OxyColor.fromRgb(84,138,209),this.strokeColor=OxyColors.Black,this.strokeThickness=1,this.trackerStringFormatter=Hu.defaultTrackerStringFormatter,this.labelMargin=4,this.minimumLabelStringFormatter=(ze,qe)=>qe[0].toString(),this.maximumLabelStringFormatter=(ze,qe)=>qe[0].toString(),je&&Object.assign(this,removeUndef(je))}get actualMaximumFillColor(){return this.maximumFillColor.getActualColor(this.defaultMaximumFillColor)}get actualMinimumFillColor(){return this.minimumFillColor.getActualColor(this.defaultMinimumFillColor)}getNearestPoint(je,ze){for(let qe=0;qe<this.actualMinimumBarRectangles.length;qe++){const Xe=this.actualMinimumBarRectangles[qe].containsPoint(je),Ye=this.actualMaximumBarRectangles[qe].containsPoint(je);if(Xe||Ye){const Ke=this.getItem(this.validItemsIndexInversion.get(qe)),Ze=Ke.getCategoryIndex(qe),Qe=Ye?this.validItems[qe].maximum:this.validItems[qe].minimum,Je=new DataPoint(Ze,Qe),St=this.getCategoryAxis(),ei=this.trackerStringFormatter({item:Ke,title:this.title,yTitle:St.title??BarSeriesBase.DefaultCategoryAxisTitle,yValue:St.formatValue(Ze),xTitle:this.xAxis.title??BarSeriesBase.DefaultValueAxisTitle,xValue:this.xAxis.getValue(Qe)});return new TrackerHitResult({series:this,dataPoint:Je,position:je,item:Ke,index:qe,text:ei})}}}async render(je){if(this.actualMinimumBarRectangles=[],this.actualMaximumBarRectangles=[],this.validItems.length===0)return;const ze=this.getActualBarWidth();for(let qe=0;qe<this.validItems.length;qe++){const Xe=this.validItems[qe],Ye=Xe.getCategoryIndex(qe),Ke=isNaN(Xe.baseValue)?this.baseValue:Xe.baseValue,Ze=this.manager.getCurrentBarOffset(Ye),Qe=Ye-.5+Ze,Je=Qe+ze,St=PlotElementExtensions.transform,ei=St(this,Xe.minimum,Qe),ti=St(this,Xe.maximum,Qe),ii=St(this,Ke,Qe+ze),ri=OxyRect.fromScreenPoints(ei,ii),si=OxyRect.fromScreenPoints(ti,ii);this.actualMinimumBarRectangles.push(ri),this.actualMaximumBarRectangles.push(si);const ui=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);await je.drawRectangle(ri,Xe.minimumColor.getActualColor(this.actualMinimumFillColor),this.strokeColor,this.strokeThickness,ui),await je.drawRectangle(si,Xe.maximumColor.getActualColor(this.actualMaximumFillColor),this.strokeColor,this.strokeThickness,ui),this.minimumLabelStringFormatter&&await this.renderLabel(je,Xe,Ke,Xe.minimum,Qe,Je,this.minimumLabelStringFormatter,Xe.minimum),this.maximumLabelStringFormatter&&await this.renderLabel(je,Xe,Ke,Xe.maximum,Qe,Je,this.maximumLabelStringFormatter,Xe.maximum)}}async renderLegend(je,ze){const qe=(ze.left+ze.right)/2,Xe=(ze.top+ze.bottom)/2,Ye=(ze.bottom-ze.top)*.8,Ke=Ye,Ze=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);await je.drawRectangle(new OxyRect(qe-.5*Ke,Xe-.5*Ye,.5*Ke,Ye),this.actualMinimumFillColor,this.strokeColor,this.strokeThickness,Ze),await je.drawRectangle(new OxyRect(qe,Xe-.5*Ye,.5*Ke,Ye),this.actualMaximumFillColor,this.strokeColor,this.strokeThickness,Ze)}setDefaultValues(){this.maximumFillColor.isAutomatic()&&(this.defaultMaximumFillColor=this.plotModel.getDefaultColor()),this.minimumFillColor.isAutomatic()&&(this.defaultMinimumFillColor=this.plotModel.getDefaultColor())}updateMaxMin(){if(super.updateMaxMin(),this.validItems.length===0)return;let je=Number_MAX_VALUE,ze=Number_MIN_VALUE;for(const qe of this.validItems)je=Math.min(je,qe.minimum),ze=Math.max(ze,qe.maximum);this.minX=je,this.maxX=ze}isValid(je){return this.xAxis.isValidValue(je.minimum)&&this.xAxis.isValidValue(je.maximum)}updateFromDataFields(){if(!this.minimumField||!this.maximumField||!this.itemsSource)return!1;this.itemsSourceItems?this.itemsSourceItems.length=0:this.itemsSourceItems=[];for(const je of this.itemsSource){if(!je)continue;if(je instanceof TornadoBarItem){this.itemsSourceItems.push(je);continue}const ze=getOrDefault(je,this.minimumField,Number.NaN),qe=getOrDefault(je,this.maximumField,Number.NaN),Xe=getOrDefault(je,this.baseField,Number.NaN),Ye=getOrDefault(je,this.minimumColorField,OxyColors.Automatic),Ke=getOrDefault(je,this.maximumColorField,OxyColors.Automatic);this.itemsSourceItems.push(new TornadoBarItem({minimum:ze,maximum:qe,baseValue:Xe,minimumColor:Ye,maximumColor:Ke}))}return!0}};D$1(Ee,"defaultTrackerStringFormatter",Ve=>`${Ve.title||""}
${Ve.yTitle}: ${Ve.yValue}
${Ve.xTitle}: ${Ve.xValue}`);let TornadoBarSeries=Ee;const De=class qu extends XYAxisSeries{constructor(je){super(je),D$1(this,"defaultFillColor",OxyColors.Undefined),D$1(this,"fillColor"),D$1(this,"items"),D$1(this,"labelStringFormatter"),D$1(this,"strokeColor"),D$1(this,"strokeThickness"),D$1(this,"actualBarRectangles",[]),D$1(this,"actualItems",[]),this.items=[],this.fillColor=OxyColors.Automatic,this.strokeColor=OxyColors.Black,this.strokeThickness=1,this.trackerStringFormatter=qu.defaultTrackerStringFormatter,this.labelStringFormatter=(ze,qe)=>`${qe[4]||""}`,je&&Object.assign(this,removeUndef(je))}get actualFillColor(){return this.fillColor.getActualColor(this.defaultFillColor)}getNearestPoint(je,ze){if(!(!this.actualBarRectangles||!this.actualItems)){for(let qe=0;qe<this.actualBarRectangles.length;qe++)if(this.actualBarRectangles[qe].containsPoint(je)){const Xe=(this.actualItems[qe].y0+this.actualItems[qe].y1)/2,Ye=je,Ke=new DataPoint(qe,Xe),Ze=this.actualItems[qe],Qe=this.formatDefaultTrackerString(Ze,new DataPoint(this.actualItems[qe].x0,this.actualItems[qe].y0),Je=>{Je.x1Value=this.xAxis.getValue(this.actualItems[qe].x1),Je.y1Value=this.yAxis.getValue(this.actualItems[qe].y1)});return new TrackerHitResult({series:this,dataPoint:Ke,position:Ye,item:Ze,index:qe,text:Qe})}}}async render(je){if(this.items.length===0)return;let ze=0,qe=Number_MAX_VALUE;if(this.actualBarRectangles=[],this.actualItems=[],this.isXMonotonic){const Ke=this.xAxis.clipMinimum;qe=this.xAxis.clipMaximum,this.windowStartIndex=this.updateWindowStartIndex(this.items,Ze=>Ze.x0,Ke,this.windowStartIndex),ze=this.windowStartIndex}const Xe=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);let Ye=0;for(let Ke=ze;Ke<this.items.length;Ke++){const Ze=this.items[Ke];if(!this.isValid(Ze.x0)||!this.isValid(Ze.x1)||!this.isValid(Ze.y0)||!this.isValid(Ze.y1))continue;const Qe=PlotElementExtensions.transform,Je=Qe(this,Ze.x0,Ze.y0),St=Qe(this,Ze.x1,Ze.y1),ei=OxyRect.create(Je.x,Je.y,St.x,St.y);if(this.actualBarRectangles.push(ei),this.actualItems.push(Ze),await je.drawRectangle(ei,this.getSelectableFillColor(Ze.color.getActualColor(this.actualFillColor)),this.strokeColor,this.strokeThickness,Xe),this.labelStringFormatter){const ti=this.labelStringFormatter(this.getItem(Ke),[Ze.x0,Ze.x1,Ze.y0,Ze.y1,Ze.title]),ii=new ScreenPoint((ei.left+ei.right)/2,(ei.top+ei.bottom)/2);await je.drawText(ii,ti,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Middle)}if(Ye+=Ze.x0>qe?1:0,Ye>1)break}}async renderLegend(je,ze){const qe=(ze.left+ze.right)/2,Xe=(ze.top+ze.bottom)/2,Ye=(ze.bottom-ze.top)*.8,Ke=Ye;await je.drawRectangle(new OxyRect(qe-.5*Ke,Xe-.5*Ye,Ke,Ye),this.getSelectableFillColor(this.actualFillColor),this.strokeColor,this.strokeThickness,this.edgeRenderingMode)}setDefaultValues(){this.fillColor.isAutomatic()&&(this.defaultFillColor=this.plotModel.getDefaultColor())}updateData(){if(this.itemsSource)throw this.items=[],new Error("Not implemented")}updateMaxMin(){if(super.updateMaxMin(),this.isXMonotonic=!0,this.items===null||this.items.length===0)return;let je=Number_MAX_VALUE,ze=Number_MIN_VALUE,qe=Number_MAX_VALUE,Xe=Number_MIN_VALUE,Ye=Number_MIN_VALUE,Ke=Number_MIN_VALUE;for(const Ze of this.items)(Ze.x0<Ye||Ze.x1<Ke)&&(this.isXMonotonic=!1),je=Math.min(je,Math.min(Ze.x0,Ze.x1)),ze=Math.max(ze,Math.max(Ze.x1,Ze.x0)),qe=Math.min(qe,Math.min(Ze.y0,Ze.y1)),Xe=Math.max(Xe,Math.max(Ze.y0,Ze.y1)),Ye=Ze.x0,Ke=Ze.x1;this.minX=je,this.maxX=ze,this.minY=qe,this.maxY=Xe}isValid(je){return!isNaN(je)&&isFinite(je)}};D$1(De,"defaultTrackerStringFormatter",Ve=>`${Ve.title}
${Ve.xTitle}: ${Ve.xValue} ${Ve.x1Value}  
${Ve.yTitle}: ${Ve.yValue} ${Ve.y1Value}`);let RectangleBarSeries=De;function createHighLowItem(Ve,je,ze,qe=NaN,Xe=NaN){return{x:Ve,high:je,low:ze,open:qe,close:Xe}}const Te=class Xu extends XYAxisSeries{constructor(je){super(je),D$1(this,"_items",[]),D$1(this,"defaultColor",OxyColors.Undefined),D$1(this,"trackerStringFormatter"),D$1(this,"color"),D$1(this,"dashes"),D$1(this,"dataFieldClose"),D$1(this,"dataFieldHigh"),D$1(this,"dataFieldLow"),D$1(this,"dataFieldOpen"),D$1(this,"dataFieldX"),D$1(this,"lineJoin",LineJoin.Miter),D$1(this,"lineStyle",LineStyle.Solid),D$1(this,"mapping"),D$1(this,"strokeThickness"),D$1(this,"tickLength"),this.color=OxyColors.Automatic,this.tickLength=4,this.strokeThickness=1,this.trackerStringFormatter=Xu.DefaultTrackerStringFormatter,je&&Object.assign(this,removeUndef(je))}get actualColor(){return this.color.getActualColor(this.defaultColor)}get items(){return this._items}getNearestPoint(je,ze){if(!this.xAxis||!this.yAxis||ze)return;let qe=Number_MAX_VALUE,Xe;const Ye=(Ke,Ze,Qe)=>{const Je=this.transform(Ke),St=Je.x-je.x,ei=Je.y-je.y,ti=St*St+ei*ei;if(ti<qe){const ii=this.formatHighLowItemTrackerString(Ze);Xe=new TrackerHitResult({series:this,dataPoint:Ke,position:Je,item:Ze,index:Qe,text:ii}),qe=ti}};for(let Ke=0;Ke<this.items.length;Ke++){const Ze=this.items[Ke];Ye(new DataPoint(Ze.x,Ze.high),Ze,Ke),Ye(new DataPoint(Ze.x,Ze.low),Ze,Ke),Ye(new DataPoint(Ze.x,Ze.open),Ze,Ke),Ye(new DataPoint(Ze.x,Ze.close),Ze,Ke)}if(qe<Number_MAX_VALUE)return Xe}formatHighLowItemTrackerString(je){return this.trackerStringFormatter&&this.trackerStringFormatter({item:je,title:this.title||"",xTitle:this.xAxis.title??XYAxisSeries.defaultXAxisTitle,xValue:this.xAxis.getValue(je.x),high:this.yAxis.getValue(je.high),low:this.yAxis.getValue(je.low),open:this.yAxis.getValue(je.open),close:this.yAxis.getValue(je.close)})||""}isValidItem(je,ze,qe){return!isNaN(je.x)&&isFinite(je.x)&&!isNaN(je.high)&&isFinite(je.high)&&!isNaN(je.low)&&isFinite(je.low)}async render(je){if(this.items.length===0)return;this.verifyAxes();const ze=LineStyleHelper.getDashArray(this.lineStyle),qe=this.getSelectableColor(this.actualColor),Xe=PlotElementExtensions.transform;for(const Ye of this.items)if(this.isValidItem(Ye,this.xAxis,this.yAxis)&&this.strokeThickness>0&&this.lineStyle!==LineStyle.None){const Ke=Xe(this,Ye.x,Ye.high),Ze=Xe(this,Ye.x,Ye.low);await je.drawLine([Ze,Ke],qe,this.strokeThickness,this.edgeRenderingMode,ze,this.lineJoin);const Qe=PlotElementExtensions.orientateVector(this,new ScreenVector(this.tickLength,0));if(!isNaN(Ye.open)){const Je=Xe(this,Ye.x,Ye.open),St=Je.minusVector(Qe);await je.drawLine([Je,St],qe,this.strokeThickness,this.edgeRenderingMode,ze,this.lineJoin)}if(!isNaN(Ye.close)){const Je=Xe(this,Ye.x,Ye.close),St=Je.plus(Qe);await je.drawLine([Je,St],qe,this.strokeThickness,this.edgeRenderingMode,ze,this.lineJoin)}}}async renderLegend(je,ze){const qe=(ze.left+ze.right)/2,Xe=ze.top+(ze.bottom-ze.top)*.7,Ye=ze.top+(ze.bottom-ze.top)*.3,Ke=LineStyleHelper.getDashArray(this.lineStyle),Ze=this.getSelectableColor(this.actualColor);this.strokeThickness>0&&this.lineStyle!==LineStyle.None&&(await je.drawLine([new ScreenPoint(qe,ze.top),new ScreenPoint(qe,ze.bottom)],Ze,this.strokeThickness,this.edgeRenderingMode,Ke,LineJoin.Miter),await je.drawLine([new ScreenPoint(qe-this.tickLength,Xe),new ScreenPoint(qe,Xe)],Ze,this.strokeThickness,this.edgeRenderingMode,Ke,LineJoin.Miter),await je.drawLine([new ScreenPoint(qe+this.tickLength,Ye),new ScreenPoint(qe,Ye)],Ze,this.strokeThickness,this.edgeRenderingMode,Ke,LineJoin.Miter))}setDefaultValues(){this.color.isAutomatic()&&(this.lineStyle=this.plotModel.getDefaultLineStyle(),this.defaultColor=this.plotModel.getDefaultColor())}updateData(){if(this.itemsSource){if(this._items.length=0,this.mapping){for(const je of this.itemsSource)this._items.push(this.mapping(je));return}for(const je of this.itemsSource){if(!je)continue;if("high"in je&&"low"in je&&"x"in je){this._items.push(je);continue}if(!this.dataFieldX||!this.dataFieldHigh||!this.dataFieldLow)throw new Error("HighLowSeries: dataFieldX, dataFieldHigh and dataFieldLow are required");const ze=getOrDefault(je,this.dataFieldX,NaN),qe=getOrDefault(je,this.dataFieldHigh,NaN),Xe=getOrDefault(je,this.dataFieldLow,NaN),Ye=getOrDefault(je,this.dataFieldOpen,NaN),Ke=getOrDefault(je,this.dataFieldClose,NaN);this._items.push({x:ze,high:qe,low:Xe,open:Ye,close:Ke})}}}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMin3(this.items,je=>je.x,je=>je.x,je=>je.low,je=>je.high)}};D$1(Te,"DefaultTrackerStringFormatter",Ve=>`${Ve.title}
${Ve.xTitle}: ${Ve.xValue}
High: ${round(Ve.high,3)}
Low: ${round(Ve.low,3)}
Open: ${round(Ve.open,3)}
Close: ${round(Ve.close,3)}`);let HighLowSeries=Te;const Oe=class{constructor(je=NaN,ze,qe){D$1(this,"x"),D$1(this,"buyVolume"),D$1(this,"sellVolume"),this.x=je||NaN,this.buyVolume=ze,this.sellVolume=qe}static findIndex(je,ze,qe){let Xe=0,Ye=0,Ke=je.length-1;for(;Ye<=Ke;){if(qe<Ye)return Xe;if(qe>Ke)return Ke;const Ze=je[qe].x;if(Ze===ze)return qe;if(Ze>ze){if(Ke=qe-1,Ke<Ye)return Xe;if(Ke===Ye)return Ke}else Ye=qe+1,Xe=qe;if(Ye>=Ke)return Xe;const Qe=je[Ke].x,Je=je[Ye].x,St=(Ke-Ye+1)/(Qe-Je);qe=Ye+Math.round((ze-Je)*St)}return Xe}isValid(){return!isNaN(this.x)&&!isNaN(this.buyVolume)&&!isNaN(this.sellVolume)}};D$1(Oe,"Undefined",new Oe(NaN,NaN,NaN));let OhlcvItem=Oe;var VolumeStyle=(Ve=>(Ve[Ve.None=0]="None",Ve[Ve.Combined=1]="Combined",Ve[Ve.Stacked=2]="Stacked",Ve[Ve.PositiveNegative=3]="PositiveNegative",Ve))(VolumeStyle||{});const ke=class Wu extends XYAxisSeries{constructor(je){super(je),D$1(this,"data",[]),D$1(this,"minDx",0),D$1(this,"winIndex",0),D$1(this,"volumeStyle"),D$1(this,"strokeThickness"),D$1(this,"strokeIntensity"),D$1(this,"positiveColor"),D$1(this,"negativeColor"),D$1(this,"interceptColor"),D$1(this,"interceptStrokeThickness"),D$1(this,"interceptLineStyle"),D$1(this,"positiveHollow"),D$1(this,"negativeHollow"),D$1(this,"barWidth"),D$1(this,"minimumVolume",0),D$1(this,"maximumVolume",0),D$1(this,"averageVolume",0),this.positiveColor=OxyColors.DarkGreen,this.negativeColor=OxyColors.Red,this.barWidth=0,this.strokeThickness=1,this.negativeHollow=!1,this.positiveHollow=!0,this.strokeIntensity=.8,this.volumeStyle=1,this.interceptColor=OxyColors.Gray,this.interceptLineStyle=LineStyle.Dash,this.interceptStrokeThickness=1,this.trackerStringFormatter=Wu.DefaultTrackerStringFormatter,je&&Object.assign(this,removeUndef(je))}get items(){return this.data}set items(je){this.data=je}append(je){if(this.data===null&&(this.data=[]),this.data.length>0&&this.data[this.data.length-1].x>je.x)throw new Error("cannot append bar out of order, must be sequential in X");this.data.push(je)}async render(je){if(this.data===null||this.data.length===0)return;const ze=this.data,qe=this.data.length;this.verifyAxes();const Xe=this.getClippingRect();this.barWidth>0?this.barWidth:this.minDx*.8;const Ye=this.getSelectableFillColor(this.positiveColor),Ke=this.getSelectableFillColor(this.negativeColor),Ze=this.positiveHollow?OxyColors.Transparent:Ye,Qe=this.negativeHollow?OxyColors.Transparent:Ke,Je=OxyColorExtensions.changeIntensity(this.positiveColor,this.strokeIntensity),St=OxyColorExtensions.changeIntensity(this.negativeColor,this.strokeIntensity),ei=this.getSelectableColor(Je),ti=this.getSelectableColor(St),ii=this.xAxis.clipMinimum,ri=this.xAxis.clipMaximum;this.winIndex=OhlcvItem.findIndex(ze,ii,this.winIndex);const si=PlotElementExtensions.transform;for(let ui=this.winIndex;ui<qe;ui++){const ai=ze[ui];if(ai.x>ri)break;if(!ai.isValid())continue;const oi=this.getBuyBarRect(ai),ni=this.getSellBarRect(ai);switch(this.volumeStyle){case 1:{const ci=ai.buyVolume>ai.sellVolume?Ze:Qe,hi=ai.buyVolume>ai.sellVolume?ei:ti;await je.drawRectangle(oi,ci,hi,this.strokeThickness,this.edgeRenderingMode)}break;case 3:await je.drawRectangle(oi,Ye,ei,this.strokeThickness,this.edgeRenderingMode),await je.drawRectangle(ni,Ke,ti,this.strokeThickness,this.edgeRenderingMode);break;case 2:{await je.drawRectangle(oi,Ye,ei,this.strokeThickness,this.edgeRenderingMode),await je.drawRectangle(ni,Ke,ti,this.strokeThickness,this.edgeRenderingMode);break}case 0:break;default:throw new Error("Invalid VolumeStyle")}}if(this.interceptStrokeThickness>0&&this.interceptLineStyle!==LineStyle.None){const ui=this.inverseTransform(Xe.bottomLeft),ai=this.inverseTransform(Xe.topRight),oi=si(this,ui.x,0),ni=si(this,ai.x,0);await je.drawLine([oi,ni],this.interceptColor,this.interceptStrokeThickness,this.edgeRenderingMode,LineStyleHelper.getDashArray(this.interceptLineStyle),LineJoin.Miter)}}getBuyBarRect(je){const ze=PlotElementExtensions.transform,qe=(this.barWidth>0?this.barWidth:this.minDx*.8)*.5,Xe=ze(this,je.x-qe,0);switch(this.volumeStyle){case 1:{const Ye=ze(this,je.x+qe,Math.abs(je.buyVolume-je.sellVolume));return OxyRect.fromScreenPoints(Xe,Ye)}case 3:{const Ye=ze(this,je.x+qe,je.buyVolume);return OxyRect.fromScreenPoints(Xe,Ye)}case 2:{const Ye=ze(this,je.x+qe,je.buyVolume),Ke=ze(this,je.x+qe,je.sellVolume),Ze=ze(this,je.x-qe,je.buyVolume+je.sellVolume);return je.buyVolume>je.sellVolume?OxyRect.fromScreenPoints(Ke,Ze):OxyRect.fromScreenPoints(Xe,Ye)}}throw new Error("Invalid VolumeStyle")}getSellBarRect(je){const ze=PlotElementExtensions.transform,qe=(this.barWidth>0?this.barWidth:this.minDx*.8)*.5,Xe=ze(this,je.x-qe,0);switch(this.volumeStyle){case 1:{const Ye=ze(this,je.x+qe,Math.abs(je.buyVolume-je.sellVolume));return OxyRect.fromScreenPoints(Xe,Ye)}case 3:{const Ye=ze(this,je.x+qe,-je.sellVolume);return OxyRect.fromScreenPoints(Xe,Ye)}case 2:{const Ye=ze(this,je.x+qe,je.buyVolume),Ke=ze(this,je.x+qe,je.sellVolume),Ze=ze(this,je.x-qe,je.buyVolume+je.sellVolume);return je.buyVolume>je.sellVolume?OxyRect.fromScreenPoints(Xe,Ke):OxyRect.fromScreenPoints(Ye,Ze)}}throw new Error("Invalid VolumeStyle")}async renderLegend(je,ze){const qe=(ze.left+ze.right)/2,Xe=ze.top+(ze.bottom-ze.top)*.7,Ye=ze.top+(ze.bottom-ze.top)*.3,Ke=LineStyleHelper.getDashArray(LineStyle.Solid),Ze=this.getSelectableFillColor(this.positiveColor),Qe=this.getSelectableColor(OxyColorExtensions.changeIntensity(this.positiveColor,this.strokeIntensity)),Je=ze.width*.75;this.strokeThickness>0&&(await je.drawLine([new ScreenPoint(qe,ze.top),new ScreenPoint(qe,ze.bottom)],Qe,this.strokeThickness,this.edgeRenderingMode,Ke,LineJoin.Miter),await je.drawRectangle(new OxyRect(qe-Je*.5,Ye,Je,Xe-Ye),Ze,Qe,this.strokeThickness,this.edgeRenderingMode))}getNearestPoint(je,ze){if(!this.xAxis||!this.yAxis||ze||!this.data||this.data.length===0)return;const qe=this.data.length,Xe=this.inverseTransform(je),Ye=Xe.x;if(Ye>this.data[qe-1].x+this.minDx||Ye<this.data[0].x-this.minDx)return;const Ke=OhlcvItem.findIndex(this.data,Ye,this.winIndex),Ze=Ke+1<this.data.length?Ke+1:Ke,Qe=ii=>{const ri=ii.x-Xe.x;return ri*ri},Je=Qe(this.data[Ke])<=Qe(this.data[Ze])?Ke:Ze,St=this.data[Je];let ei=!1;if(this.getBuyBarRect(St).containsPoint(je)&&(ei=!0),ei||this.getSellBarRect(St).containsPoint(je)&&(ei=!0),ei)return;const ti=this.formatDefaultTrackerString(St,new DataPoint(St.x,0));return new TrackerHitResult({series:this,dataPoint:Xe,position:je,item:St,index:Je,text:ti})}updateData(){if(super.updateData(),this.winIndex=0,!this.data||this.data.length===0)return;const je=this.data,ze=je.length;this.minDx=Number_MAX_VALUE;for(let qe=1;qe<ze;qe++)if(this.minDx=Math.min(this.minDx,je[qe].x-je[qe-1].x),this.minDx<0)throw new Error("bars are out of order, must be sequential in x");ze<=1&&(this.minDx=1)}updateAxisMaxMin(){this.xAxis.include(this.minX),this.xAxis.include(this.maxX);let je=this.minimumVolume,ze=this.maximumVolume;const qe=this.averageVolume,Xe=(ze-je)/4;switch(this.volumeStyle){case 3:je=-(qe+Xe/2),ze=+(qe+Xe/2);break;case 2:ze=qe+Xe,je=0;break;default:ze=qe+Xe/2,je=0;break}je=Math.max(this.yAxis.filterMinValue,je),ze=Math.min(this.yAxis.filterMaxValue,ze),this.yAxis.include(je),this.yAxis.include(ze)}updateMaxMin(){super.updateMaxMin();let je=Number_MAX_VALUE,ze=Number_MIN_VALUE,qe=0,Xe=Number_MIN_VALUE,Ye=0,Ke=0;for(const Ze of this.items)Ze.isValid()&&(Ze.sellVolume>0&&Ye++,Ze.buyVolume>0&&Ye++,Ke+=Ze.buyVolume,Ke+=Ze.sellVolume,je=Math.min(je,Ze.x),ze=Math.max(ze,Ze.x),qe=Math.min(qe,-Ze.sellVolume),Xe=Math.max(Xe,+Ze.buyVolume));this.minX=Math.max(this.xAxis.filterMinValue,je),this.maxX=Math.min(this.xAxis.filterMaxValue,ze),this.minimumVolume=qe,this.maximumVolume=Xe,this.averageVolume=Ke/Ye}};D$1(ke,"DefaultTrackerStringFormatter",Ve=>{const je=Ve.item;return`Time: ${Ve.xValue}
Buy Volume: ${je.buyVolume}
Sell Volume: ${je.sellVolume}`});let VolumeSeries=ke;class CandleStickSeries extends HighLowSeries{constructor(je){super(),D$1(this,"minDx",0),D$1(this,"increasingColor"),D$1(this,"decreasingColor"),D$1(this,"candleWidth"),this.increasingColor=OxyColors.DarkGreen,this.decreasingColor=OxyColors.Red,this.candleWidth=0,je&&Object.assign(this,removeUndef(je))}findByX(je,ze=-1){return ze<0&&(ze=this.windowStartIndex),this.findWindowStartIndex(this.items,qe=>qe.x,je,ze)}async render(je){const ze=this.items.length,qe=this.items;if(ze===0||this.strokeThickness<=0||this.lineStyle===LineStyle.None)return;this.verifyAxes();const Xe=LineStyleHelper.getDashArray(this.lineStyle),Ye=.5*(this.candleWidth>0?this.candleWidth:this.minDx*.8),Ke=this.getSelectableFillColor(this.increasingColor),Ze=this.getSelectableFillColor(this.decreasingColor),Qe=this.getSelectableColor(OxyColorExtensions.changeIntensity(this.increasingColor,.7)),Je=this.getSelectableColor(OxyColorExtensions.changeIntensity(this.decreasingColor,.7)),St=this.xAxis.clipMinimum,ei=this.xAxis.clipMaximum;this.windowStartIndex=this.updateWindowStartIndex(qe,ii=>ii.x,St,this.windowStartIndex);const ti=PlotElementExtensions.transform;for(let ii=this.windowStartIndex;ii<ze;ii++){const ri=qe[ii];if(ri.x>ei)return;if(!this.isValidItem(ri,this.xAxis,this.yAxis))continue;const si=ri.close>ri.open?Ke:Ze,ui=ri.close>ri.open?Qe:Je,ai=ti(this,ri.x,ri.high),oi=ti(this,ri.x,ri.low),ni=ti(this,ri.x,Math.max(ri.open,ri.close)),ci=ti(this,ri.x,Math.min(ri.open,ri.close));this.strokeThickness>0&&(await je.drawLine([ai,ni],ui,this.strokeThickness,this.edgeRenderingMode,Xe,this.lineJoin),await je.drawLine([ci,oi],ui,this.strokeThickness,this.edgeRenderingMode,Xe,this.lineJoin));const hi=ti(this,ri.x-Ye,ri.open),di=ti(this,ri.x+Ye,ri.close),fi=OxyRect.fromScreenPoints(hi,di);await je.drawRectangle(fi,si,ui,this.strokeThickness,this.edgeRenderingMode)}}async renderLegend(je,ze){const qe=(ze.left+ze.right)/2,Xe=ze.top+(ze.bottom-ze.top)*.7,Ye=ze.top+(ze.bottom-ze.top)*.3,Ke=LineStyleHelper.getDashArray(this.lineStyle),Ze=ze.width*.75;this.strokeThickness>0&&this.lineStyle!==LineStyle.None&&await je.drawLine([new ScreenPoint(qe,ze.top),new ScreenPoint(qe,ze.bottom)],this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode,Ke,LineJoin.Miter),await je.drawRectangle(new OxyRect(qe-Ze*.5,Ye,Ze,Xe-Ye),this.getSelectableFillColor(this.increasingColor),this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode)}getNearestPoint(je,ze){if(!this.xAxis||!this.yAxis||ze||this.items.length===0)return;const qe=this.items.length,Xe=this.inverseTransform(je),Ye=Xe.x;if(Ye>this.items[qe-1].x+this.minDx||Ye<this.items[0].x-this.minDx)return;const Ke=this.findWindowStartIndex(this.items,ii=>ii.x,Ye,this.windowStartIndex),Ze=Ke+1<this.items.length?Ke+1:Ke,Qe=ii=>{const ri=ii.x-Xe.x,si=ii.open-Xe.y,ui=ii.high-Xe.y,ai=ii.low-Xe.y,oi=ii.close-Xe.y,ni=ri*ri+si*si,ci=ri*ri+ui*ui,hi=ri*ri+ai*ai,di=ri*ri+oi*oi;return Math.min(ni,Math.min(ci,Math.min(hi,di)))},Je=Qe(this.items[Ke])<=Qe(this.items[Ze])?Ke:Ze,St=this.items[Je],ei=new DataPoint(St.x,St.close),ti=this.formatHighLowItemTrackerString(St);return new TrackerHitResult({series:this,dataPoint:ei,position:this.transform(ei),item:St,index:Je,text:ti})}updateData(){super.updateData();const je=this.items,ze=je.length;this.minDx=Number_MAX_VALUE;for(let qe=1;qe<ze;qe++)if(this.minDx=Math.min(this.minDx,je[qe].x-je[qe-1].x),this.minDx<0)throw new Error("bars are out of order, must be sequential in x");ze<=1&&(this.minDx=1)}}class FunctionSeries extends LineSeries{constructor(je){if(super(je),je.title&&(this.title=je.title),je.f){je.dx?this.f1(je.f,je.x0,je.x1,je.dx):je.n&&this.f2(je.f,je.x0,je.x1,je.n);return}je.fx&&je.fy&&(je.dt?this.f3(je.fx,je.fy,je.t0,je.t1,je.dt):je.n&&this.f4(je.fx,je.fy,je.t0,je.t1,je.n))}static fromDx(je,ze,qe,Xe,Ye){return new FunctionSeries({f:je,x0:ze,x1:qe,dx:Xe,title:Ye})}static fromN(je,ze,qe,Xe,Ye){return assertInteger(Xe,"n"),new FunctionSeries({f:je,x0:ze,x1:qe,n:Xe,title:Ye})}static fromFxFyDt(je,ze,qe,Xe,Ye,Ke){return new FunctionSeries({fx:je,fy:ze,t0:qe,t1:Xe,dt:Ye,title:Ke})}static fromFxFyN(je,ze,qe,Xe,Ye,Ke){return assertInteger(Ye,"n"),new FunctionSeries({fx:je,fy:ze,t0:qe,t1:Xe,n:Ye,title:Ke})}f1(je,ze,qe,Xe){for(let Ye=ze;Ye<=qe+Xe*.5;Ye+=Xe)this.points.push(new DataPoint(Ye,je(Ye)))}f2(je,ze,qe,Xe){this.f1(je,ze,qe,(qe-ze)/(Xe-1))}f3(je,ze,qe,Xe,Ye){for(let Ke=qe;Ke<=Xe+Ye*.5;Ke+=Ye)this.points.push(new DataPoint(je(Ke),ze(Ke)))}f4(je,ze,qe,Xe,Ye){this.f3(je,ze,qe,Xe,(Xe-qe)/(Ye-1))}}class HistogramItem{constructor(je,ze,qe,Xe,Ye=OxyColors.Automatic){D$1(this,"rangeStart"),D$1(this,"rangeEnd"),D$1(this,"area"),D$1(this,"count"),D$1(this,"color"),this.rangeStart=je,this.rangeEnd=ze,this.area=qe,this.count=Xe,this.color=Ye}get rangeCenter(){return this.rangeStart+(this.rangeEnd-this.rangeStart)/2}get width(){return this.rangeEnd-this.rangeStart}get height(){return this.area/this.width}get value(){return this.height}contains(je){return this.height<0?je.x<=this.rangeEnd&&je.x>=this.rangeStart&&je.y>=this.height&&je.y<=0||je.x<=this.rangeStart&&je.x>=this.rangeEnd&&je.y>=this.height&&je.y<=0:je.x<=this.rangeEnd&&je.x>=this.rangeStart&&je.y<=this.height&&je.y>=0||je.x<=this.rangeStart&&je.x>=this.rangeEnd&&je.y<=this.height&&je.y>=0}toString(){return`${this.rangeStart} ${this.rangeEnd} ${this.area} ${this.count}`}}const Pe=class Yu extends XYAxisSeries{constructor(je){super(je),D$1(this,"defaultFillColor",OxyColors.Undefined),D$1(this,"_actualItems"),D$1(this,"baseValue"),D$1(this,"baseLine"),D$1(this,"actualBaseLine"),D$1(this,"fillColor"),D$1(this,"strokeColor"),D$1(this,"negativeFillColor"),D$1(this,"negativeStrokeColor"),D$1(this,"strokeThickness"),D$1(this,"minValue",0),D$1(this,"maxValue",0),D$1(this,"labelStringFormatter"),D$1(this,"trackerStringFormatter"),D$1(this,"labelMargin",0),D$1(this,"labelPlacement"),D$1(this,"colorMapping"),D$1(this,"mapping"),D$1(this,"items",[]),this.fillColor=OxyColors.Automatic,this.strokeColor=OxyColors.Black,this.strokeThickness=0,this.trackerStringFormatter=Yu.defaultTrackerStringFormatter,this.labelPlacement=LabelPlacement.Outside,this.colorMapping=this.getDefaultColor,this.negativeFillColor=OxyColors.Undefined,this.negativeStrokeColor=OxyColors.Undefined,this.baseValue=0,this.baseLine=NaN,this.actualBaseLine=NaN,je&&Object.assign(this,removeUndef(je))}get actualFillColor(){return this.fillColor.getActualColor(this.defaultFillColor)}get actualItems(){return this.itemsSource?this._actualItems:this.items}async render(je){this.verifyAxes(),await this.renderBins(je,this.actualItems)}getNearestPoint(je,ze){const qe=this.inverseTransform(je);if(this.isPointInRange(qe)&&this.actualItems)for(let Xe=0;Xe<this.actualItems.length;Xe++){const Ye=this.actualItems[Xe];if(Ye.contains(qe)){const Ke=this.getItem(Xe);return new TrackerHitResult({series:this,dataPoint:qe,position:je,item:Ke,index:Xe,text:this.formatDefaultTrackerString(Ye,qe)})}}}async renderLegend(je,ze){const qe=(ze.left+ze.right)/2,Xe=(ze.top+ze.bottom)/2,Ye=(ze.bottom-ze.top)*.8,Ke=Ye,Ze=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);await je.drawRectangle(new OxyRect(qe-.5*Ke,Xe-.5*Ye,Ke,Ye),this.getSelectableColor(this.actualFillColor),this.strokeColor,this.strokeThickness,Ze)}updateData(){this.itemsSource&&this.updateActualItems()}setDefaultValues(){this.fillColor.isAutomatic()&&(this.defaultFillColor=this.plotModel.getDefaultColor())}updateAxisMaxMin(){super.updateAxisMaxMin(),this.computeActualBaseLine(),this.yAxis.include(this.actualBaseLine)}computeActualBaseLine(){if(isNaN(this.baseLine))if(this.yAxis.isLogarithmic()){const je=this.actualItems?minValueOfArray(this.actualItems.map(ze=>ze.value).filter(ze=>ze>0),1):1;this.actualBaseLine=Math.max(je/10,this.baseValue)}else this.actualBaseLine=0;else this.actualBaseLine=this.baseLine}updateMaxMinXY(){if(this.actualItems&&this.actualItems.length>0){const je=this.actualItems.map(Xe=>Xe.rangeStart),ze=this.actualItems.map(Xe=>Xe.rangeEnd),qe=this.actualItems.map(Xe=>Xe.height);this.minX=Math.min(minValueOfArray(je),minValueOfArray(ze)),this.maxX=Math.max(maxValueOfArray(je),maxValueOfArray(ze)),this.yAxis.isLogarithmic()?(this.minY=Math.max(minValueOfArray(qe),Number.EPSILON),this.maxY=maxValueOfArray(qe,Number.EPSILON)):(this.minY=minValueOfArray(qe,0),this.maxY=maxValueOfArray(qe,0))}}updateMaxMin(){super.updateMaxMin();const je=[];if(pushMany(je,this.actualItems.map(ze=>new DataPoint(ze.rangeStart,0))),pushMany(je,this.actualItems.map(ze=>new DataPoint(ze.rangeEnd,ze.height))),this.internalUpdateMaxMin(je),this.updateMaxMinXY(),this.actualItems&&this.actualItems.length>0){const ze=this.actualItems.map(qe=>qe.value);this.minValue=minValueOfArray(ze),this.maxValue=maxValueOfArray(ze)}}getItem(je){const ze=this.actualItems;return!this.itemsSource&&ze&&je<ze.length?ze[je]:super.getItem(je)}async renderBins(je,ze){const qe=this.yAxis,Xe=qe.isLogarithmic()&&!qe.isValidValue(this.baseValue);for(const Ye of ze){if(qe.isLogarithmic()&&!qe.isValidValue(Ye.height))continue;const Ke=this.getItemFillColor(Ye),Ze=this.getItemStrokeColor(Ye),Qe=this.transform(new DataPoint(Ye.rangeStart,Xe?qe.clipMinimum:this.baseValue)),Je=this.transform(new DataPoint(Ye.rangeEnd,Ye.height)),St=OxyRect.fromScreenPoints(Qe,Je),ei=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);await je.drawRectangle(St,Ke,Ze,this.strokeThickness,ei),this.labelStringFormatter&&await this.renderLabel(je,St,Ye)}}getItemFillColor(je){return je.color.isAutomatic()?this.colorMapping(je):je.color}getItemStrokeColor(je){return this.negativeStrokeColor.isUndefined()||je.height>=this.baseValue?this.strokeColor:this.negativeStrokeColor}async renderLabel(je,ze,qe){const Xe=this.labelStringFormatter(qe,[qe.value,qe.rangeStart,qe.rangeEnd,qe.area,qe.count]);let Ye,Ke,Ze=HorizontalAlignment.Center;const Qe=(qe.rangeStart+qe.rangeEnd)/2,Je=Math.sign(qe.value);let St=Je*this.labelMargin;switch(this.labelPlacement){case LabelPlacement.Inside:Ye=new DataPoint(Qe,qe.value),Ke=-Je;break;case LabelPlacement.Middle:{const ii=this.inverseTransform(ze.topLeft),ri=this.inverseTransform(ze.bottomRight);Ye=new DataPoint(Qe,(ii.y+ri.y)/2),Ke=VerticalAlignment.Middle;break}case LabelPlacement.Base:Ye=new DataPoint(Qe,0),St=-St,Ke=Je;break;case LabelPlacement.Outside:Ye=new DataPoint(Qe,qe.value),St=-St,Ke=Je;break;default:throw new Error("Invalid label placement")}const ei=PlotElementExtensions.orientateAlignment(this,Ze,Ke);Ze=ei[0],Ke=ei[1];const ti=this.transform(Ye).plus(PlotElementExtensions.orientateVector(this,new ScreenVector(0,St)));await je.drawText(ti,Xe,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,Ze,Ke)}isPointInRange(je){return this.updateMaxMinXY(),je.x>=this.minX&&je.x<=this.maxX&&je.y>=this.minY&&je.y<=this.maxY}clearActualItems(){this._actualItems&&(this._actualItems.length=0)}getDefaultColor(je){return this.negativeFillColor.isUndefined()||je.value>=this.baseValue?this.actualFillColor:this.negativeFillColor}updateActualItems(){if(this.mapping){if(!this.itemsSource)throw new Error("itemsSource is required when using the Mapping property");this.clearActualItems(),this._actualItems=this._actualItems||[];for(const je of this.itemsSource)this._actualItems.push(this.mapping(je));return}this.clearActualItems(),this._actualItems=this._actualItems||[];for(const je of this.itemsSource||[])if(je)throw je instanceof HistogramItem&&this._actualItems.push(je),new Error("invalid item type")}};D$1(Pe,"defaultTrackerStringFormatter",Ve=>`Start: ${Ve.item.rangeStart}
End: ${Ve.item.rangeEnd}
Value: ${Ve.item.value}
Area: ${Ve.item.area}
Count: ${Ve.item.count}`);let HistogramSeries=Pe;function isScatterPointProvider(Ve){return Ve&&typeof Ve.getScatterPoint=="function"}const Re=class Gu extends XYAxisSeries{constructor(je){super(je),D$1(this,"_points",[]),D$1(this,"defaultMarkerFillColor",OxyColors.Undefined),D$1(this,"markerFill",OxyColors.Automatic),D$1(this,"markerOutline"),D$1(this,"markerSize",5),D$1(this,"markerType",MarkerType.Square),D$1(this,"markerStroke",OxyColors.Automatic),D$1(this,"markerStrokeThickness",1),D$1(this,"labelStringFormatter"),D$1(this,"labelMargin",6),D$1(this,"binSize",0),D$1(this,"colorAxisKey"),D$1(this,"dataFieldX"),D$1(this,"dataFieldY"),D$1(this,"dataFieldSize"),D$1(this,"dataFieldTag"),D$1(this,"dataFieldValue"),D$1(this,"mapping"),D$1(this,"colorAxis"),D$1(this,"itemsSourcePoints"),D$1(this,"maxValue",0),D$1(this,"minValue",0),this.markerFill=OxyColors.Automatic,this.markerSize=5,this.markerType=MarkerType.Square,this.markerStroke=OxyColors.Automatic,this.markerStrokeThickness=1,this.labelMargin=6,je&&Object.assign(this,removeUndef(je))}get actualMarkerFillColor(){return this.markerFill.getActualColor(this.defaultMarkerFillColor)}get points(){return this._points}get actualPoints(){return this.itemsSource?this.itemsSourcePoints:this.points}getNearestPoint(je,ze){if(!this.xAxis||!this.yAxis||ze)return;const qe=this.actualPoints;if(!qe||qe.length===0)return;let Xe,Ye=Number_MAX_VALUE,Ke=0;const Ze=this.colorAxis?this.colorAxis.title:Gu.defaultColorAxisTitle,Qe=this.xAxis.clipMinimum,Je=this.xAxis.clipMaximum,St=this.yAxis.clipMinimum,ei=this.yAxis.clipMaximum;for(const ti of qe){if(ti.x<Qe||ti.x>Je||ti.y<St||ti.y>ei){Ke++;continue}const ii=this.transform(new DataPoint(ti.x,ti.y)),ri=ii.x-je.x,si=ii.y-je.y,ui=ri*ri+si*si;if(ui<Ye){const ai=this.getItem(Ke)??ti;let oi;!isNullOrUndef(ti.value)&&!isNaN(ti.value)&&!isInfinity(ti.value)&&(oi=ti.value);const ni=new DataPoint(ti.x,ti.y);Xe=new TrackerHitResult({series:this,dataPoint:ni,position:ii,item:ai,index:Ke,text:this.formatDefaultTrackerString(ai,ni,ci=>{ci.colorAxisTitle=Ze,ci.zValue=oi})}),Ye=ui}Ke++}return Xe}async render(je){const ze=this.actualPoints;if(!ze||ze.length===0)return;const qe=this.getClippingRect(),Xe=ze.length,Ye=[],Ke=[],Ze=[],Qe=[],Je=new Map,St=new Map,ei=this.isSelected();for(let ii=0;ii<Xe;ii++){const ri=new DataPoint(ze[ii].x,ze[ii].y);if(!this.isValidPoint(ri))continue;let si=NaN,ui=NaN;const ai=ze[ii];ai&&(isNullOrUndef(ai.size)||(si=ai.size),isNullOrUndef(ai.value)||(ui=ai.value)),isNaN(si)&&(si=this.markerSize);const oi=this.transform(new DataPoint(ri.x,ri.y));if(ei&&this.isItemSelected(ii)){Ze.push(oi),Qe.push(si);continue}if(this.colorAxis){if(isNaN(ui))continue;const ni=this.colorAxis.getPaletteIndex(ui);Je.has(ni)||(Je.set(ni,[]),St.set(ni,[])),Je.get(ni).push(oi),St.get(ni).push(si)}else Ye.push(oi),Ke.push(si)}const ti=this.transform(new DataPoint(this.minX,this.maxY));if(this.colorAxis){const ii=this.markerType===MarkerType.Plus||this.markerType===MarkerType.Star||this.markerType===MarkerType.Cross;for(const[ri,si]of Je){const ui=this.colorAxis.getColor(ri);await RenderingExtensions.drawMarkers(je,si,this.markerType,this.markerOutline,St.get(ri),this.markerFill.getActualColor(ui),ii?ui:this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,this.binSize,ti)}}await RenderingExtensions.drawMarkers(je,Ye,this.markerType,this.markerOutline,Ke,this.actualMarkerFillColor,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,this.binSize,ti),await RenderingExtensions.drawMarkers(je,Ze,this.markerType,this.markerOutline,Qe,this.plotModel.selectionColor,this.plotModel.selectionColor,this.markerStrokeThickness,this.edgeRenderingMode,this.binSize,ti),this.labelStringFormatter&&await this.renderPointLabels(je,qe)}async renderLegend(je,ze){const qe=(ze.left+ze.right)/2,Xe=(ze.top+ze.bottom)/2,Ye=new ScreenPoint(qe,Xe);await RenderingExtensions.drawMarker(je,Ye,this.markerType,this.markerOutline,this.markerSize,this.isSelected()?this.plotModel.selectionColor:this.actualMarkerFillColor,this.isSelected()?this.plotModel.selectionColor:this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}setDefaultValues(){this.markerFill.isAutomatic()&&(this.defaultMarkerFillColor=this.plotModel.getDefaultColor())}updateData(){this.itemsSource&&this.updateItemsSourcePoints()}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMinValue(this.actualPoints)}async renderPointLabels(je,ze){const qe=this.actualPoints;if(!qe||qe.length===0)return;let Xe=-1;for(const Ye of qe){Xe++;const Ke=new DataPoint(Ye.x,Ye.y);if(!this.isValidPoint(Ke))continue;const Ze=this.transform(Ke).plus(new ScreenVector(0,-this.labelMargin));if(!ze.containsPoint(Ze))continue;const Qe=this.getItem(Xe),Je=this.labelStringFormatter(Qe,[Ye.x,Ye.y]);await je.drawText(Ze,Je,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Bottom)}}internalUpdateMaxMinValue(je){if(!je||je.length===0)return;let ze=Number_MAX_VALUE,qe=Number_MAX_VALUE,Xe=Number_MAX_VALUE,Ye=Number_MIN_VALUE,Ke=Number_MIN_VALUE,Ze=Number_MIN_VALUE;isNaN(ze)&&(ze=Number_MAX_VALUE),isNaN(qe)&&(qe=Number_MAX_VALUE),isNaN(Ye)&&(Ye=Number_MIN_VALUE),isNaN(Ke)&&(Ke=Number_MIN_VALUE),isNaN(Xe)&&(Xe=Number_MIN_VALUE),isNaN(Ze)&&(Ze=Number_MIN_VALUE);for(const Qe of je){const Je=Qe.x,St=Qe.y;if(Je!==Je||St!==St)continue;const ei=isNullOrUndef(Qe.value)?Number.NaN:Qe.value;Je<ze&&(ze=Je),Je>Ye&&(Ye=Je),St<qe&&(qe=St),St>Ke&&(Ke=St),ei<Xe&&(Xe=ei),ei>Ze&&(Ze=ei)}ze<Number_MAX_VALUE&&(this.minX=ze),qe<Number_MAX_VALUE&&(this.minY=qe),Ye>Number_MIN_VALUE&&(this.maxX=Ye),Ke>Number_MIN_VALUE&&(this.maxY=Ke),Xe<Number_MAX_VALUE&&(this.minValue=Xe),Ze>Number_MIN_VALUE&&(this.maxValue=Ze),this.colorAxis instanceof Axis&&(this.colorAxis.include(this.minValue),this.colorAxis.include(this.maxValue))}clearItemsSourcePoints(){this.itemsSourcePoints&&(this.itemsSourcePoints.length=0)}updateItemsSourcePoints(){var je,ze,qe;if(this.clearItemsSourcePoints(),this.mapping){if(!this.itemsSource)throw new Error("itemsSource is required when mapping is set");this.itemsSourcePoints=this.itemsSourcePoints||[];for(const Xe of this.itemsSource)this.itemsSourcePoints.push(this.mapping(Xe));return}this.itemsSourcePoints=this.itemsSourcePoints||[];for(const Xe of this.itemsSource||[])if(!isNullOrUndef(Xe)){if(!isUndef(Xe.x)&&!isUndef(Xe.y)){(je=this.itemsSourcePoints)==null||je.push(Xe);continue}if(this.dataFieldX&&this.dataFieldY){const Ye=this.updateFromDataFields(Xe);if(!Ye)continue;(ze=this.itemsSourcePoints)==null||ze.push(Ye);continue}if(isScatterPointProvider(Xe)){const Ye=Xe.getScatterPoint();if(!Ye)continue;(qe=this.itemsSourcePoints)==null||qe.push(Ye);continue}throw new Error("Invalid item type")}}updateFromDataFields(je){const ze=getOrDefault(je,this.dataFieldX,Number.NaN),qe=getOrDefault(je,this.dataFieldY,Number.NaN);return{x:ze,y:qe,size:getOrDefault(je,this.dataFieldSize,Number.NaN),value:getOrDefault(je,this.dataFieldValue,Number.NaN),tag:getOrDefault(je,this.dataFieldTag,void 0)}}};D$1(Re,"defaultColorAxisTitle","Value");let ScatterSeries=Re;const ce$2=class Ql extends XYAxisSeries{constructor(je){super(je),D$1(this,"_actualItems"),D$1(this,"defaultColor",OxyColors.Undefined),D$1(this,"defaultLineStyle",LineStyle.Solid),D$1(this,"color"),D$1(this,"minValue",0),D$1(this,"maxValue",0),D$1(this,"arrowHeadLength"),D$1(this,"arrowHeadWidth"),D$1(this,"arrowHeadPosition"),D$1(this,"lineJoin"),D$1(this,"lineStyle"),D$1(this,"strokeThickness"),D$1(this,"minimumSegmentLength"),D$1(this,"arrowVeeness"),D$1(this,"arrowStartPosition"),D$1(this,"arrowLabelPosition"),D$1(this,"colorAxis"),D$1(this,"colorAxisKey"),D$1(this,"labelStringFormatter"),D$1(this,"trackerStringFormatter"),D$1(this,"labelFontSize"),D$1(this,"canTrackerInterpolatePoints",!1),D$1(this,"mapping"),D$1(this,"items",[]),this.color=OxyColors.Automatic,this.minimumSegmentLength=2,this.strokeThickness=2,this.lineStyle=LineStyle.Solid,this.lineJoin=LineJoin.Miter,this.arrowHeadLength=3,this.arrowHeadWidth=2,this.arrowHeadPosition=1,this.arrowVeeness=0,this.arrowStartPosition=0,this.arrowLabelPosition=0,this.trackerStringFormatter=Ql.DefaultTrackerStringFormatter,this.labelStringFormatter=ze=>ze.value.toFixed(2),this.labelFontSize=0,je&&Object.assign(this,je)}get actualLineStyle(){return this.lineStyle!=LineStyle.Automatic?this.lineStyle:this.defaultLineStyle}get ActualItems(){return this.itemsSource?this._actualItems:this.items}async render(je){const ze=this.ActualItems;this.verifyAxes(),await this.renderVectors(je,ze)}updateData(){this.itemsSource&&this.updateActualItems()}clearActualItems(){this._actualItems&&(this._actualItems.length=0)}updateActualItems(){if(!this.itemsSource)return;this.clearActualItems(),this._actualItems=this._actualItems||[];let je=this.itemsSource;this.mapping&&(je=this.itemsSource.map(ze=>this.mapping(ze))),this._actualItems.push(...je)}async renderVectors(je,ze){let qe=0;for(const Xe of ze){let Ye;this.colorAxis&&(this.color.isUndefined()||this.color.isAutomatic())?Ye=ColorAxisExtensions.getColor(this.colorAxis,Xe.value):Ye=this.color.getActualColor(this.defaultColor),Ye=this.getSelectableColor(Ye,qe);const Ke=Xe.direction,Ze=Xe.origin.minusVector(Ke.times(this.arrowStartPosition)),Qe=Ze.plus(Ke.times(this.arrowLabelPosition));await this.drawVector(je,Ze,Ke,Ye),this.labelFontSize>0&&this.labelStringFormatter&&await je.drawText(this.transform(Qe),this.labelStringFormatter(Xe),this.actualTextColor,this.actualFont,this.labelFontSize,this.actualFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Middle),qe++}}async drawVector(je,ze,qe,Xe){const Ye=[ze,ze.plus(qe)],Ke=[];RenderingExtensions.transformAndInterpolateLines(this,Ye,Ke,this.minimumSegmentLength),Ke.length>=2&&await this.drawArrow(je,Ke,Ke[Ke.length-1].minus(Ke[Ke.length-2]),Xe)}async drawArrow(je,ze,qe,Xe){const Ye=qe;Ye.normalize();const Ke=new ScreenVector(Ye.y,-Ye.x),Ze=this.arrowHeadLength*this.strokeThickness,Qe=this.arrowHeadWidth*this.strokeThickness,Je=ze[ze.length-1].minusVector(Ye.times(Ze*this.arrowHeadPosition)),St=Ye.times(this.arrowVeeness*this.strokeThickness),ei=Je.plus(Ye.times(Ze)),ti=Je.plus(Ke.times(Qe)).minusVector(St),ii=Je.minusVector(Ke.times(Qe)).minusVector(St),ri=this.actualLineStyle,si=LineStyleHelper.getDashArray(ri);if(this.arrowHeadPosition>0&&this.arrowHeadPosition<=1){const ui=Ze*this.arrowHeadPosition*Ze*this.arrowHeadPosition;for(let ai=ze.length-1;ai>=0;ai--)ze[ai].distanceToSquared(ei)<=ui&&ze.splice(ai,1);ze.length>0&&ze.push(Je)}this.strokeThickness>0&&ri!==LineStyle.None&&(await je.drawLine(ze,Xe,this.strokeThickness,this.edgeRenderingMode,si,this.lineJoin),await je.drawPolygon([ii,ei,ti,Je],Xe,OxyColors.Undefined,0,this.edgeRenderingMode))}getNearestPoint(je,ze){const qe=this.colorAxis,Xe=(qe==null?void 0:qe.title)??Ql.DefaultColorAxisTitle;if(!(this.ActualItems&&this.ActualItems.length>0))return;const Ye=argMin(this.ActualItems,Qe=>this.transform(Qe.origin).distanceToSquared(je)),Ke=Ye.origin,Ze=this.formatDefaultTrackerString(Ye,Ke,Qe=>{const Je=Qe;Je.colorAxisTitle=Xe,Je.itemDirection=Ye.direction});return new TrackerHitResult({series:this,dataPoint:Ke,position:this.transform(Ke),item:void 0,index:-1,text:Ze})}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}setDefaultValues(){this.color.isAutomatic()&&this.colorAxis===void 0&&(this.defaultLineStyle=this.plotModel.getDefaultLineStyle(),this.defaultColor=this.plotModel.getDefaultColor())}updateMaxMinXY(){const je=this.ActualItems;je&&je.length>0&&(this.minX=Math.min(...je.map(ze=>ze.origin.x-ze.direction.x*this.arrowStartPosition),...je.map(ze=>ze.origin.x-ze.direction.x*(this.arrowStartPosition-1))),this.maxX=Math.max(...je.map(ze=>ze.origin.x-ze.direction.x*this.arrowStartPosition),...je.map(ze=>ze.origin.x-ze.direction.x*(this.arrowStartPosition-1))),this.minY=Math.min(...je.map(ze=>ze.origin.y-ze.direction.y*this.arrowStartPosition),...je.map(ze=>ze.origin.y-ze.direction.y*(this.arrowStartPosition-1))),this.maxY=Math.max(...je.map(ze=>ze.origin.y-ze.direction.y*this.arrowStartPosition),...je.map(ze=>ze.origin.y-ze.direction.y*(this.arrowStartPosition-1))))}updateMaxMin(){super.updateMaxMin();const je=this.ActualItems,ze=[];if(ze.push(...je.map(qe=>qe.origin.minusVector(qe.direction.times(this.arrowStartPosition)))),ze.push(...je.map(qe=>qe.origin.plus(qe.direction.times(1-this.arrowStartPosition)))),this.internalUpdateMaxMin(ze),this.updateMaxMinXY(),je&&je.length>0){const qe=je.map(Xe=>Xe.value);this.minValue=minValueOfArray(qe),this.maxValue=maxValueOfArray(qe)}}updateAxisMaxMin(){if(super.updateAxisMaxMin(),!this.colorAxis)return;const je=this.colorAxis;je.include(this.minValue),je.include(this.maxValue)}};D$1(ce$2,"DefaultTrackerStringFormatter",Ve=>`${Ve.title}
${Ve.xTitle}: ${Ve.xValue}
${Ve.yTitle}: ${Ve.yValue}
${Ve.colorAxisTitle}: ${Ve.item.value}
${Ve.xTitle}: ${Ve.itemDirection.x}
${Ve.yTitle}: ${Ve.itemDirection.y}`),D$1(ce$2,"DefaultColorAxisTitle","Value");let VectorSeries=ce$2;const argMin=(Ve,je)=>{if(!Ve)throw new Error("Sequence must be defined.");if(!je)throw new Error("Projection must be defined.");let ze,qe,Xe=!0;for(const Ye of Ve){const Ke=je(Ye);(Xe||Ke<qe)&&(ze=Ye,qe=Ke,Xe=!1)}if(Xe)throw new Error("Sequence must be non-empty.");return ze};class DataRange{constructor(je,ze){if(D$1(this,"_minimum"),D$1(this,"_maximum"),D$1(this,"_isDefined"),isNaN(je)||isNaN(ze))throw new Error("NaN values are not permitted");if(ze<je)throw new Error("max must be larger or equal min");this._minimum=je,this._maximum=ze,this._isDefined=!0}get minimum(){return this._minimum}get maximum(){return this._maximum}get range(){return this.maximum-this.minimum}isDefined(){return this._isDefined}contains(je){return je>=this.minimum&&je<=this.maximum}intersectsWith(je){return this.isDefined()&&je.isDefined()&&(this.contains(je.minimum)||this.contains(je.maximum)||je.contains(this.minimum)||je.contains(this.maximum))}toString(){return`[${this.minimum}, ${this.maximum}]`}}const DataRange_Undefined=new DataRange(0,0);DataRange_Undefined._isDefined=!1;Object.freeze(DataRange_Undefined);class ExtrapolationLineSeries extends LineSeries{constructor(je){super(je),D$1(this,"defaultExtrapolationColor",OxyColors.Black),D$1(this,"defaultExtrapolationLineStyle",LineStyle.Dash),D$1(this,"orderedIntervals",[]),D$1(this,"extrapolationColor"),D$1(this,"extrapolationDashes"),D$1(this,"extrapolationLineStyle",LineStyle.Solid),D$1(this,"ignoreExtraplotationForScaling",!1),D$1(this,"intervals",[]),this.extrapolationColor=OxyColors.Black,this.lineStyle=LineStyle.Dot,je&&Object.assign(this,je)}get actualExtrapolationColor(){return this.extrapolationColor.getActualColor(this.defaultExtrapolationColor)}get actualExtrapolationLineStyle(){return this.extrapolationLineStyle!==LineStyle.Automatic?this.extrapolationLineStyle:this.defaultExtrapolationLineStyle}get actualExtrapolationDashArray(){return this.extrapolationDashes||LineStyleHelper.getDashArray(this.actualExtrapolationLineStyle)}async renderLegend(je,ze){const qe=(ze.left+ze.right)/2,Xe=(ze.top+ze.bottom)/2;let Ye=[new ScreenPoint(ze.left,Xe),new ScreenPoint(qe,Xe)];await je.drawLine(Ye,this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode,this.actualDashArray),Ye=[new ScreenPoint(qe,Xe),new ScreenPoint(ze.right,Xe)],await je.drawLine(Ye,this.getSelectableColor(this.actualExtrapolationColor),this.strokeThickness,this.edgeRenderingMode,this.actualExtrapolationDashArray);const Ke=new ScreenPoint(qe,Xe);await RenderingExtensions.drawMarker(je,Ke,this.markerType,this.markerOutline,this.markerSize,this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)}updateData(){super.updateData(),this.orderedIntervals=this.mergeOverlaps(this.intervals)}updateMaxMin(){this.ignoreExtraplotationForScaling&&this.orderedIntervals.length>0?(this.minX=this.points.filter(je=>!this.inAnyInterval(je.x)).map(je=>je.x).filter(je=>!isNaN(je)).reduce((je,ze)=>Math.min(je,ze),Number.NaN),this.minY=this.points.filter(je=>!this.inAnyInterval(je.x)).map(je=>je.y).filter(je=>!isNaN(je)).reduce((je,ze)=>Math.min(je,ze),Number.NaN),this.maxX=this.points.filter(je=>!this.inAnyInterval(je.x)).map(je=>je.x).filter(je=>!isNaN(je)).reduce((je,ze)=>Math.max(je,ze),Number.NaN),this.maxY=this.points.filter(je=>!this.inAnyInterval(je.x)).map(je=>je.y).filter(je=>!isNaN(je)).reduce((je,ze)=>Math.max(je,ze),Number.NaN)):super.updateMaxMin()}async renderLine(je,ze){if(this.strokeThickness<=0||this.actualLineStyle===LineStyle.None)return;const qe=this.getClippingRect(),Xe=this.inverseTransform(qe.bottomLeft),Ye=this.inverseTransform(qe.topRight),Ke=Math.min(Xe.x,Ye.x),Ze=Math.max(Xe.x,Ye.x),Qe=Math.min(Xe.y,Ye.y),Je=Math.max(Xe.y,Ye.y),St=this.createClippingRectangles(qe,Ke,Ze,Qe,Je);for(const ei of St){const ti=this.inverseTransform(ei.center).x,ii=this.orderedIntervals&&this.orderedIntervals.some(si=>si.contains(ti)),ri=RenderingExtensions.autoResetClip(je,ei);await this.renderLinePart(je,ze,ii),ri.dispose()}}createClippingRectangles(je,ze,qe,Xe,Ye){const Ke=[];let Ze=ze;const Qe=PlotElementExtensions.transform;if(this.orderedIntervals&&this.orderedIntervals.length>0){const Je=this.flatten(this.orderedIntervals).filter(St=>St>=ze&&St<=qe);for(const St of Je){const ei=OxyRect.fromScreenPoints(Qe(this,Ze,Xe),Qe(this,St,Ye));Ke.push(ei.clip(je)),Ze=St}}return Ke.push(OxyRect.fromScreenPoints(Qe(this,Ze,Xe),Qe(this,qe,Ye)).clip(je)),Ke}flatten(je){const ze=[];for(const qe of je)ze.push(qe.minimum),ze.push(qe.maximum);return ze}async renderLinePart(je,ze,qe){const Xe=qe?this.extrapolationColor:this.color,Ye=qe?this.actualExtrapolationDashArray:this.actualDashArray;await RenderingExtensions.drawReducedLine(je,ze,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(Xe),this.strokeThickness,this.edgeRenderingMode,Ye,this.lineJoin)}mergeOverlaps(je){const ze=[];if(je){const qe=je.sort((Xe,Ye)=>Xe.minimum-Ye.minimum);for(const Xe of qe){const Ye=ze[ze.length-1]||DataRange_Undefined;Xe.intersectsWith(Ye)?ze[ze.length-1]=new DataRange(Ye.minimum,Math.max(Ye.maximum,Xe.maximum)):ze.push(Xe)}}return ze}inAnyInterval(je){let ze=0,qe=this.orderedIntervals.length-1;for(;ze<=qe;){const Xe=Math.floor((ze+qe)/2),Ye=this.compare(this.orderedIntervals[Xe],je);if(Ye===0)return!0;Ye<0?qe=Xe-1:ze=Xe+1}return!1}compare(je,ze){return ze<je.minimum?-1:ze>je.maximum?1:0}}const xe=class eu extends XYAxisSeries{constructor(je){super(je),D$1(this,"contours"),D$1(this,"segments",[]),D$1(this,"defaultColor",OxyColors.Undefined),D$1(this,"color"),D$1(this,"columnCoordinates",[]),D$1(this,"contourLevelStep"),D$1(this,"contourLevels"),D$1(this,"contourColors",[]),D$1(this,"data"),D$1(this,"labelBackground"),D$1(this,"labelStringFormatter"),D$1(this,"trackerStringFormatter"),D$1(this,"labelSpacing"),D$1(this,"multiLabel"),D$1(this,"labelStep"),D$1(this,"lineStyle"),D$1(this,"rowCoordinates",[]),D$1(this,"strokeThickness"),D$1(this,"minimumSegmentLength"),this.contourLevelStep=NaN,this.labelStep=1,this.multiLabel=!1,this.labelSpacing=150,this.labelBackground=OxyColor.fromAColor(220,OxyColors.White),this.color=OxyColors.Automatic,this.strokeThickness=1,this.lineStyle=LineStyle.Solid,this.minimumSegmentLength=2,this.trackerStringFormatter=eu.DefaultTrackerFormatString,je&&Object.assign(this,removeUndef(je))}get actualColor(){return this.color.getActualColor(this.defaultColor)}calculateContours(){if(!this.data)return;let je=this.contourLevels;this.segments=[];const ze=(qe,Xe,Ye,Ke,Ze)=>{this.segments.push({startPoint:new DataPoint(qe,Xe),endPoint:new DataPoint(Ye,Ke),contourLevel:Ze})};if(!je){let qe=this.data[0][0],Xe=this.data[0][0];for(let Ke=0;Ke<this.data.length;Ke++)for(let Ze=0;Ze<this.data[Ke].length;Ze++)qe=Math.max(qe,this.data[Ke][Ze]),Xe=Math.min(Xe,this.data[Ke][Ze]);let Ye=this.contourLevelStep;if(isNaN(Ye)){const Ke=(qe-Xe)/20,Ze=Math.round(Math.log(Math.abs(Ke))/Math.LN10);Ye=Math.pow(10,Math.floor(Ze)),this.contourLevelStep=Ye}qe=Math.round(Ye*Math.ceil(qe/Ye)*1e14)/1e14,Xe=Math.round(Ye*Math.floor(Xe/Ye)*1e14)/1e14,je=ArrayBuilder.createVectorWithStep(Xe,qe,Ye)}if(Conrec.contour(this.data,this.columnCoordinates,this.rowCoordinates,je,ze),this.joinContourSegments(),this.contourColors&&this.contourColors.length>0)for(const qe of this.contours){let Xe=eu.indexOf(je,qe.contourLevel);Xe>=0&&(Xe=Xe%this.contourColors.length,qe.color=this.contourColors[Xe])}}getNearestPoint(je,ze){let qe;const Xe="Z";for(const Ye of this.contours){const Ke=ze?this.getNearestInterpolatedPointInternal(Ye.points,0,je):this.getNearestPointInternal(Ye.points,0,je);Ke&&(!qe||qe.position.distanceToSquared(je)>Ke.position.distanceToSquared(je))&&(qe=Ke,qe.text=this.formatDefaultTrackerString(Ye,Ke.dataPoint,Ze=>{const Qe=Ze;Qe.zTitle=Xe,Qe.contourLevel=Ye.contourLevel}))}return qe}async render(je){if(this.contours||this.calculateContours(),this.contours.length===0)return;this.verifyAxes();const ze=[],qe=LineStyleHelper.getDashArray(this.lineStyle);for(const Xe of this.contours){if(this.strokeThickness<=0||this.lineStyle===LineStyle.None)continue;const Ye=Xe.points.map(ri=>this.transform(ri)),Ke=Xe.color.getActualColor(this.actualColor);await RenderingExtensions.drawReducedLine(je,Ye,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(Ke),this.strokeThickness,this.edgeRenderingMode,qe,LineJoin.Miter);let Ze=0;for(let ri=1;ri<Ye.length;ri++)Ze+=Ye[ri].minus(Ye[ri-1]).length;if(Ye.length<=10||Math.round(Xe.contourLevel/this.contourLevelStep)%this.labelStep!==0)continue;if(!this.multiLabel){this.addContourLabels(Xe,Ye,ze,(Ye.length-1)*.5);continue}const Qe=Math.floor(Ze/this.labelSpacing);if(Qe===0){this.addContourLabels(Xe,Ye,ze,(Ye.length-1)*.5);continue}let Je=0,St=0,ei=1,ti=0;const ii=(Ze-(Qe-1)*this.labelSpacing)/2;for(let ri=0;ri<Qe;ri++){let si=0;ei===1?ti=ii:ti=ii+ri*this.labelSpacing;for(let ui=ei;ui<Ye.length;ui++){if(Je+=Ye[ui].minus(Ye[ui-1]).length,Je>ti){si=ui-1+(ti-St)/(Je-St),ei=ui+1;break}St=Je}this.addContourLabels(Xe,Ye,ze,si)}}for(const Xe of ze)await this.renderLabelBackground(je,Xe);for(const Xe of ze)await this.renderLabel(je,Xe)}setDefaultValues(){this.color.isAutomatic()&&(this.lineStyle=this.plotModel.getDefaultLineStyle(),this.defaultColor=this.plotModel.getDefaultColor())}updateMaxMin(){this.minX=Math.min(...this.columnCoordinates),this.maxX=Math.max(...this.columnCoordinates),this.minY=Math.min(...this.rowCoordinates),this.maxY=Math.max(...this.rowCoordinates)}static indexOf(je,ze){let qe=Number_MAX_VALUE,Xe=-1;for(let Ye=0;Ye<je.length;Ye++){const Ke=Math.abs(je[Ye]-ze);Ke<qe&&(qe=Ke,Xe=Ye)}return Xe}addContourLabels(je,ze,qe,Xe){if(ze.length<2)return;const Ye=Math.floor(Xe),Ke=Ye+1,Ze=ze[Ke].x-ze[Ye].x,Qe=ze[Ke].y-ze[Ye].y,Je=ze[Ye].x+Ze*(Xe-Ye),St=ze[Ye].y+Qe*(Xe-Ye),ei=new ScreenPoint(Je,St);let ti=Math.atan2(Qe,Ze)*180/Math.PI;ti>90&&(ti-=180),ti<-90&&(ti+=180);const ii=this.labelStringFormatter?this.labelStringFormatter(je.contourLevel,[]):je.contourLevel.toString();qe.push({position:ei,angle:ti,text:ii})}joinContourSegments(je=1e-10){this.contours=new Array;const ze=Xe=>{const Ye=new SegmentPoint(Xe.startPoint),Ke=new SegmentPoint(Xe.endPoint);return Ye.partner=Ke,Ke.partner=Ye,[Ye,Ke]},qe=groupBy(this.segments,"contourLevel");for(const Xe of qe){const Ye=Xe[0],Ke=Xe[1].flatMap(Ze=>ze(Ze)).sort((Ze,Qe)=>Ze.point.x-Qe.point.x);for(let Ze=0;Ze<Ke.length-1;Ze++){const Qe=Ke[Ze];if(Qe.join)continue;const Je=Math.sqrt(Math.pow(Qe.point.x,2)+Math.pow(Qe.point.y,2))*je,St=Qe.point.x+Je;let ei=Ze+1,ti;for(;;){if(ei>=Ke.length){ti=void 0;break}if(ti=Ke[ei],ei++,!ti.join){if(ti.point.x>St){ti=void 0;break}if(Math.sqrt(Math.pow(ti.point.x-Qe.point.x,2)+Math.pow(ti.point.y-Qe.point.y,2))<Je)break}}ti&&(Qe.join=ti,ti.join=Qe)}for(const Ze of Ke){if(Ze.processed)continue;let Qe=Ze;for(;Qe.join&&(Qe=Qe.join.partner,Qe!==Ze););const Je=new Array(Qe.point,Qe.partner.point);for(Qe.processed=!0,Qe=Qe.partner,Qe.processed=!0;Qe.join&&(Qe=Qe.join,!Qe.processed);)Qe.processed=!0,Qe=Qe.partner,Qe.processed=!0,Je.push(Qe.point);const St=new Contour(Je,Ye);this.contours.push(St)}}}async renderLabel(je,ze){this.actualFontSize>0&&await je.drawText(ze.position,ze.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,ze.angle,HorizontalAlignment.Center,VerticalAlignment.Middle)}async renderLabelBackground(je,ze){if(this.labelBackground.isInvisible())return;const qe=je.measureText(ze.text,this.actualFont,this.actualFontSize,this.actualFontWeight),Xe=ze.angle/180*Math.PI,Ye=Math.cos(Xe),Ke=Math.sin(Xe),Ze=Ye*.6,Qe=Ke*.6,Je=-Ke*.5,St=Ye*.5,ei=ze.position.x,ti=ze.position.y,ii=[new ScreenPoint(ei-qe.width*Ze-qe.height*Je,ti-qe.width*Qe-qe.height*St),new ScreenPoint(ei+qe.width*Ze-qe.height*Je,ti+qe.width*Qe-qe.height*St),new ScreenPoint(ei+qe.width*Ze+qe.height*Je,ti+qe.width*Qe+qe.height*St),new ScreenPoint(ei-qe.width*Ze+qe.height*Je,ti-qe.width*Qe+qe.height*St)];await je.drawPolygon(ii,this.labelBackground,OxyColors.Undefined,0,this.edgeRenderingMode)}};D$1(xe,"DefaultTrackerFormatString",Ve=>`${Ve.title}
${Ve.xTitle}: ${Ve.xValue}
${Ve.yTitle}: ${Ve.yValue}
${Ve.zTitle}: ${Ve.contourLevel}`);let ContourSeries=xe;class SegmentPoint{constructor(je){D$1(this,"partner"),D$1(this,"join"),D$1(this,"processed"),D$1(this,"point"),this.point=je,this.processed=!1}}class Contour{constructor(je,ze){D$1(this,"contourLevel"),D$1(this,"points"),D$1(this,"color"),this.points=je,this.contourLevel=ze,this.color=OxyColors.Automatic}}class StairStepSeries extends LineSeries{constructor(je){super(je),D$1(this,"verticalStrokeThickness"),D$1(this,"verticalLineStyle"),this.verticalStrokeThickness=NaN,this.verticalLineStyle=this.lineStyle,je&&Object.assign(this,removeUndef(je))}getNearestPoint(je,ze){if(!this.xAxis||!this.yAxis)return;let qe=16*16,Xe=this.getNearestPointInternal(this.actualPoints,0,je);if(!ze&&Xe&&Xe.position.distanceToSquared(je)<qe)return Xe.text=this.formatDefaultTrackerString(Xe.item,Xe.dataPoint),Xe;Xe=void 0;const Ye=this.actualPoints.length;for(let Ke=0;Ke<Ye;Ke++){const Ze=this.actualPoints[Ke],Qe=this.actualPoints[Ke+1<Ye?Ke+1:Ke],Je=PlotElementExtensions.transform(this,Ze.x,Ze.y),St=PlotElementExtensions.transform(this,Qe.x,Ze.y),ei=St.x-Je.x,ti=St.y-Je.y;let ii=(je.x-Je.x)*ei+(je.y-Je.y)*ti,ri=ei*ei+ti*ti;if(ei*ei+ti*ti<4&&(ii=0,ri=1),Math.abs(ri)<=0)continue;const si=ii/ri;if(si<0||si>1)continue;const ui=Je.x+si*ei,ai=Je.y+si*ti,oi=je.x-ui,ni=je.y-ai,ci=oi*oi+ni*ni;if(ci>=qe)continue;const hi=Ze.x+si*(Qe.x-Ze.x),di=Ze.y,fi=this.getItem(Ke),mi=this.formatDefaultTrackerString(fi,new DataPoint(hi,di));Xe=new TrackerHitResult({series:this,dataPoint:new DataPoint(hi,di),position:new ScreenPoint(ui,ai),item:fi,index:Ke,text:mi}),qe=ci}return Xe}async render(je){if(!this.actualPoints||this.actualPoints.length===0)return;this.verifyAxes();const ze=this.actualDashArray,qe=LineStyleHelper.getDashArray(this.verticalLineStyle),Xe=this.actualLineStyle,Ye=isNaN(this.verticalStrokeThickness)?this.strokeThickness:this.verticalStrokeThickness,Ke=this.getSelectableColor(this.actualColor),Ze=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness),Qe=async(ri,si)=>{if(this.strokeThickness>0&&Xe!==LineStyle.None)if(Ye!==this.strokeThickness||this.verticalLineStyle!==Xe){const ui=[],ai=[];if(ri.length>=2){ui.push(ri[0]),ui.push(ri[1]);for(let oi=1;oi+2<ri.length;oi+=2)ai.push(ri[oi]),ai.push(ri[oi+1]),ui.push(ri[oi+1]),ui.push(ri[oi+2])}await je.drawLineSegments(ui,Ke,this.strokeThickness,Ze,ze,this.lineJoin),await je.drawLineSegments(ai,Ke,Ye,Ze,qe,this.lineJoin)}else await je.drawLine(ri,Ke,this.strokeThickness,Ze,ze,this.lineJoin);this.markerType!==MarkerType.None&&await RenderingExtensions.drawMarkers(je,si,this.markerType,this.markerOutline,[this.markerSize],this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)},Je=this.actualPoints;let St=0,ei=Number_MAX_VALUE;if(this.isXMonotonic){const ri=this.xAxis.clipMinimum;ei=this.xAxis.clipMaximum,this.windowStartIndex=this.updateWindowStartIndex(Je,si=>si.x,ri,this.windowStartIndex),St=this.windowStartIndex}const ti=[],ii=[];for(let ri=St;ri<Je.length;){const{valid:si,validOffset:ui,endOffset:ai}=this.findNextValidSegment(Je,ri,ei);if(!si)break;let oi=new ScreenPoint(0,0),ni=DataPoint.Undefined,ci=!1,hi=!1;for(ri=ui;ri<ai;++ri){const di=Je[ri];ci=ci||di.x>ni.x,hi=hi||di.x<ni.x,ci&&hi&&(ti.push(this.transform(ni)),ti.push(this.transform(ni)),ci=di.x>ni.x,hi=di.x<ni.x),oi=this.transform(di),di.y!==ni.y&&(isNaN(ni.y)||ti.push(this.transform(new DataPoint(di.x,ni.y))),ti.push(oi),ci=!1,hi=!1),ni=di,ii.push(oi)}ri<Je.length&&this.xAxis.isValidValue(Je[ri].x)?ti.push(this.transform(new DataPoint(Je[ri].x,ni.y))):ti.push(oi),await Qe(ti,ii),ti.length=0,ii.length=0}this.labelStringFormatter&&await this.renderPointLabels(je)}findNextValidSegment(je,ze,qe){for(;;++ze){if(ze>=je.length)return{valid:!1,validOffset:0,endOffset:0};const Ye=je[ze];if(Ye.x>qe)return{valid:!1,validOffset:0,endOffset:0};if(this.isValidPoint(Ye))break}const Xe=ze;for(;!(ze>=je.length);++ze){const Ye=je[ze];if(!this.isValidPoint(Ye)||Ye.x>qe)break}return{valid:!0,validOffset:Xe,endOffset:ze}}}const Ne$2=class Ku extends XYAxisSeries{constructor(je){super(je),D$1(this,"itemsSourceItems",[]),D$1(this,"trackerStringFormatter"),D$1(this,"boxWidth"),D$1(this,"fill"),D$1(this,"items"),D$1(this,"lineStyle"),D$1(this,"medianPointSize"),D$1(this,"medianThickness"),D$1(this,"meanPointSize"),D$1(this,"meanThickness"),D$1(this,"outlierSize"),D$1(this,"outlierTrackerStringFormatter"),D$1(this,"outlierType"),D$1(this,"outlierOutline"),D$1(this,"showBox"),D$1(this,"showMedianAsDot"),D$1(this,"showMeanAsDot"),D$1(this,"stroke"),D$1(this,"strokeThickness"),D$1(this,"whiskerWidth"),this.items=[],this.trackerStringFormatter=Ku.DefaultTrackerFormatString,this.outlierTrackerStringFormatter=ze=>`${ze.title||""}
${ze.xTitle}: ${ze.xValue}
Y: ${ze.outlier.toFixed(2)}`,this.title=void 0,this.fill=OxyColors.Automatic,this.stroke=OxyColors.Black,this.boxWidth=.3,this.strokeThickness=1,this.medianThickness=2,this.meanThickness=2,this.outlierSize=2,this.outlierType=MarkerType.Circle,this.medianPointSize=2,this.meanPointSize=2,this.whiskerWidth=.5,this.lineStyle=LineStyle.Solid,this.showMedianAsDot=!1,this.showMeanAsDot=!1,this.showBox=!0,je&&Object.assign(this,removeUndef(je))}get actualItems(){return this.itemsSource?this.itemsSourceItems:this.items}getNearestPoint(je,ze){if(!this.xAxis||!this.yAxis)return;let qe=Number_MAX_VALUE,Xe;for(const Ye of this.actualItems){for(const ei of Ye.outliers){const ti=PlotElementExtensions.transform(this,Ye.x,ei),ii=ti.minus(je).lengthSquared;if(ii<qe){const ri=this.outlierTrackerStringFormatter({item:Ye,title:this.title,xTitle:this.xAxis.title||XYAxisSeries.defaultXAxisTitle,xValue:this.xAxis.getValue(Ye.x),outlier:ei});Xe=new TrackerHitResult({series:this,dataPoint:new DataPoint(Ye.x,ei),position:ti,item:Ye,text:ri}),qe=ii}}let Ke=DataPoint.Undefined;if(this.getBoxRect(Ye).containsPoint(je)){const ei=this.inverseTransform(je);Ke=new DataPoint(Ye.x,ei.y),qe=0}const Ze=PlotElementExtensions.transform(this,Ye.x,Ye.upperWhisker),Qe=PlotElementExtensions.transform(this,Ye.x,Ye.lowerWhisker),Je=ScreenPointHelper.findPointOnLine(je,Ze,Qe),St=Je.minus(je).lengthSquared;if(St<qe&&(Ke=this.inverseTransform(Je),qe=St),Ke.isDefined()){const ei=this.trackerStringFormatter({item:Ye,title:this.title,xTitle:this.xAxis.title||XYAxisSeries.defaultXAxisTitle,xValue:this.xAxis.getValue(Ye.x),upperWhisker:this.yAxis.getValue(Ye.upperWhisker),boxTop:this.yAxis.getValue(Ye.boxTop),median:this.yAxis.getValue(Ye.median),boxBottom:this.yAxis.getValue(Ye.boxBottom),lowerWhisker:this.yAxis.getValue(Ye.lowerWhisker),mean:this.yAxis.getValue(Ye.mean!==void 0?Ye.mean:NaN)});Xe=new TrackerHitResult({series:this,dataPoint:Ke,position:this.transform(Ke),item:Ye,text:ei})}}if(qe<Number_MAX_VALUE)return Xe}isValidPointBoxPlot(je,ze,qe){const Xe=getBoxPlotItemValues(je);return!isNaN(je.x)&&!isInfinity(je.x)&&!Xe.some(isNaN)&&!Xe.some(isInfinity)&&ze&&ze.isValidValue(je.x)&&qe&&Xe.every(Ye=>qe.isValidValue(Ye))}async render(je){if(this.actualItems.length===0)return;const ze=this.getClippingRect(),qe=[],Xe=this.boxWidth*.5,Ye=Xe*this.whiskerWidth,Ke=this.getSelectableColor(this.stroke),Ze=this.getSelectableFillColor(this.fill),Qe=LineStyleHelper.getDashArray(this.lineStyle),Je=PlotElementExtensions.transform,St=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);for(const ei of this.actualItems){const ti=ei.mean!==void 0?ei.mean:NaN;qe.push(...ei.outliers.map(ai=>Je(this,ei.x,ai)));const ii=Je(this,ei.x,ei.upperWhisker),ri=Je(this,ei.x,ei.boxTop),si=Je(this,ei.x,ei.boxBottom),ui=Je(this,ei.x,ei.lowerWhisker);if(this.strokeThickness>0&&this.lineStyle!==LineStyle.None&&(await je.drawLine([ii,ri],Ke,this.strokeThickness,St,Qe,LineJoin.Miter),await je.drawLine([si,ui],Ke,this.strokeThickness,St,Qe,LineJoin.Miter)),this.whiskerWidth>0){const ai=Je(this,ei.x-Ye,ei.upperWhisker),oi=Je(this,ei.x+Ye,ei.upperWhisker),ni=Je(this,ei.x-Ye,ei.lowerWhisker),ci=Je(this,ei.x+Ye,ei.lowerWhisker);await je.drawLine([ai,oi],Ke,this.strokeThickness,St,void 0,LineJoin.Miter),await je.drawLine([ni,ci],Ke,this.strokeThickness,St,void 0,LineJoin.Miter)}if(this.showBox){const ai=this.getBoxRect(ei);await je.drawRectangle(ai,Ze,Ke,this.strokeThickness,St)}if(this.showMedianAsDot){const ai=Je(this,ei.x,ei.median);if(ze.containsPoint(ai)){const oi=new OxyRect(ai.x-this.medianPointSize,ai.y-this.medianPointSize,this.medianPointSize*2,this.medianPointSize*2);await je.drawEllipse(oi,Ze,OxyColors.Undefined,0,this.edgeRenderingMode)}}else{const ai=Je(this,ei.x-Xe,ei.median),oi=Je(this,ei.x+Xe,ei.median);await je.drawLine([ai,oi],Ke,this.strokeThickness*this.medianThickness,St,void 0,LineJoin.Miter)}if(!this.showMeanAsDot&&!isNaN(ti)){const ai=Je(this,ei.x-Xe,ti),oi=Je(this,ei.x+Xe,ti);await je.drawLine([ai,oi],Ke,this.strokeThickness*this.meanThickness,St,LineStyleHelper.getDashArray(LineStyle.Dash),LineJoin.Miter)}else if(!isNaN(ti)){const ai=Je(this,ei.x,ti);if(ze.containsPoint(ai)){const oi=new OxyRect(ai.x-this.meanPointSize,ai.y-this.meanPointSize,this.meanPointSize*2,this.meanPointSize*2);await je.drawEllipse(oi,Ze,OxyColors.Undefined,0,this.edgeRenderingMode)}}}if(this.outlierType!==MarkerType.None){const ei=qe.map(ti=>this.outlierSize);await RenderingExtensions.drawMarkers(je,qe,this.outlierType,this.outlierOutline,ei,Ze,Ke,this.strokeThickness,this.edgeRenderingMode)}}async renderLegend(je,ze){const qe=(ze.left+ze.right)/2,Xe=ze.top+(ze.bottom-ze.top)*.7,Ye=ze.top+(ze.bottom-ze.top)*.3,Ke=(Xe+Ye)*.5,Ze=ze.width*.24,Qe=Ze*this.whiskerWidth,Je=1,St=this.getSelectableColor(this.stroke),ei=this.getSelectableFillColor(this.fill),ti=LineStyleHelper.getDashArray(LineStyle.Solid),ii=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferGeometricAccuracy);if(await je.drawLine([new ScreenPoint(qe,ze.top),new ScreenPoint(qe,Ye)],St,Je,ii,ti,LineJoin.Miter),await je.drawLine([new ScreenPoint(qe,Xe),new ScreenPoint(qe,ze.bottom)],St,Je,ii,ti,LineJoin.Miter),this.whiskerWidth>0&&(await je.drawLine([new ScreenPoint(qe-Qe,ze.bottom),new ScreenPoint(qe+Qe,ze.bottom)],St,Je,ii,ti,LineJoin.Miter),await je.drawLine([new ScreenPoint(qe-Qe,ze.top),new ScreenPoint(qe+Qe,ze.top)],St,Je,ii,ti,LineJoin.Miter)),this.showBox&&await je.drawRectangle(new OxyRect(qe-Ze,Ye,2*Ze,Xe-Ye),ei,St,Je,ii),!this.showMedianAsDot)await je.drawLine([new ScreenPoint(qe-Ze,Ke),new ScreenPoint(qe+Ze,Ke)],St,Je*this.medianThickness,ii,ti,LineJoin.Miter);else{const ri=new OxyRect(qe-this.medianPointSize,Ke-this.medianPointSize,this.medianPointSize*2,this.medianPointSize*2);await je.drawEllipse(ri,ei,OxyColors.Undefined,0,ii)}}updateData(){this.itemsSource&&(this.clearItemsSourceItems(),this.itemsSourceItems.push(...this.itemsSource),this.itemsSourceItems.forEach(je=>{je.mean===void 0&&(je.median=NaN)}))}updateMaxMin(){super.updateMaxMin(),this.internalUpdateBoxPlotMaxMin(this.actualItems)}internalUpdateBoxPlotMaxMin(je){if(!je||je.length===0)return;let ze=this.minX,qe=this.minY,Xe=this.maxX,Ye=this.maxY;for(const Ke of je){if(!this.isValidPointBoxPlot(Ke,this.xAxis,this.yAxis))continue;const Ze=Ke.x;(Ze<ze||isNaN(ze))&&(ze=Ze),(Ze>Xe||isNaN(Xe))&&(Xe=Ze);const Qe=getBoxPlotItemValues(Ke);for(const Je of Qe)(Je<qe||isNaN(qe))&&(qe=Je),(Je>Ye||isNaN(Ye))&&(Ye=Je)}this.minX=ze,this.minY=qe,this.maxX=Xe,this.maxY=Ye}getItem(je){return this.itemsSource||!this.actualItems||this.actualItems.length===0?super.getItem(je):this.actualItems[je]}getBoxRect(je){const ze=this.boxWidth*.5,qe=PlotElementExtensions.transform(this,je.x-ze,je.boxTop),Xe=PlotElementExtensions.transform(this,je.x+ze,je.boxBottom);return OxyRect.fromScreenPoints(qe,Xe)}clearItemsSourceItems(){this.itemsSourceItems.length=0}};D$1(Ne$2,"DefaultTrackerFormatString",Ve=>`${Ve.title||""}
${Ve.xTitle}: ${Ve.xValue}
Upper Whisker: ${Ve.upperWhisker.toFixed(2)}
Third Quartil: ${Ve.boxTop.toFixed(2)}
Median: ${Ve.median.toFixed(2)}
First Quartil: ${Ve.boxBottom.toFixed(2)}
Lower Whisker: ${Ve.lowerWhisker.toFixed(2)}
Mean: ${Ve.mean.toFixed(2)}`);let BoxPlotSeries=Ne$2;function getBoxPlotItemValues(Ve){const je=[Ve.lowerWhisker,Ve.boxBottom,Ve.median,Ve.boxTop,Ve.upperWhisker];return Ve.mean!==void 0&&!isNaN(Ve.mean)&&je.push(Ve.mean),je.push(...Ve.outliers),je}class StemSeries extends LineSeries{constructor(je){super(je),D$1(this,"base"),this.base=0,je&&(this.base=je.base??0)}getNearestPoint(je,ze){if(!this.xAxis||!this.yAxis||ze)return;let qe,Xe=Number_MAX_VALUE;const Ye=this.actualPoints;for(let Ke=0;Ke<Ye.length;Ke++){const Ze=Ye[Ke],Qe=new DataPoint(Ze.x,this.base),Je=this.transform(Ze),St=this.transform(Qe);let ei=ScreenPointHelper.findPositionOnLine(je,Je,St);isNaN(ei)&&(ei=1),(ei<0||ei>1)&&(ei=1);const ti=Je.plus(St.minus(Je).times(ei)),ii=je.minus(ti).lengthSquared;if(ii<Xe){const ri=this.getItem(Ke),si=this.formatDefaultTrackerString(ri,Ze);qe=new TrackerHitResult({series:this,dataPoint:new DataPoint(Ze.x,Ze.y),position:new ScreenPoint(Je.x,Je.y),item:this.getItem(Ke),index:Ke,text:si}),Xe=ii}}return qe}async render(je){if(this.actualPoints.length===0)return;this.verifyAxes();const ze=this.minimumSegmentLength*this.minimumSegmentLength,qe=this.actualDashArray,Xe=this.getSelectableColor(this.actualColor),Ye=[],Ke=this.markerType!==MarkerType.None?[]:void 0;for(const Ze of this.actualPoints)if(this.isValidPoint(Ze)){if(Ye[0]=PlotElementExtensions.transform(this,Ze.x,this.base),Ye[1]=PlotElementExtensions.transform(this,Ze.x,Ze.y),this.strokeThickness>0&&this.actualLineStyle!==LineStyle.None){const Qe=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);await RenderingExtensions.drawReducedLine(je,Ye,ze,Xe,this.strokeThickness,Qe,qe,this.lineJoin)}Ke&&Ke.push(Ye[1])}Ke&&Ke.length>0&&await RenderingExtensions.drawMarkers(je,Ke,this.markerType,this.markerOutline,[this.markerSize],this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)}}function getActualFillColor(Ve){return Ve.fill.getActualColor(Ve.defaultFillColor)}const Ie=class Zu extends ItemsSeries{constructor(je){super(je),D$1(this,"slicePoints",[]),D$1(this,"total",0),D$1(this,"angleIncrement"),D$1(this,"angleSpan"),D$1(this,"areInsideLabelsAngled",!1),D$1(this,"colorField"),D$1(this,"diameter"),D$1(this,"explodedDistance",0),D$1(this,"innerDiameter"),D$1(this,"insideLabelColor"),D$1(this,"insideLabelFormatter"),D$1(this,"insideLabelPosition"),D$1(this,"isExplodedField"),D$1(this,"labelField"),D$1(this,"outsideLabelFormatter"),D$1(this,"slices",[]),D$1(this,"startAngle"),D$1(this,"stroke"),D$1(this,"strokeThickness"),D$1(this,"tickDistance"),D$1(this,"tickHorizontalLength"),D$1(this,"tickLabelDistance"),D$1(this,"tickRadialLength"),D$1(this,"valueField"),D$1(this,"trackerStringFormatter"),this.stroke=OxyColors.White,this.strokeThickness=1,this.diameter=1,this.innerDiameter=0,this.startAngle=0,this.angleSpan=360,this.angleIncrement=1,this.outsideLabelFormatter=(ze,qe)=>`${round(qe,0)} %`,this.insideLabelColor=OxyColors.Automatic,this.insideLabelFormatter=(ze,qe)=>ze.label,this.tickDistance=0,this.tickRadialLength=6,this.tickHorizontalLength=8,this.tickLabelDistance=4,this.insideLabelPosition=.5,this.fontSize=12,this.trackerStringFormatter=Zu.DefaultTrackerStringFormatter,je&&Object.assign(this,je)}getNearestPoint(je,ze){const qe=this.trackerStringFormatter;for(let Xe=0;Xe<this.slicePoints.length;Xe++)if(ScreenPointHelper.isPointInPolygon(je,this.slicePoints[Xe])){const Ye=this.slices[Xe],Ke=this.getItem(Xe),Ze=qe?qe({item:Ke,title:this.title,xTitle:Ye.label,xValue:Ye.value,percent:Ye.value/this.total*100}):void 0;return new TrackerHitResult({series:this,position:je,item:Ke,index:Xe,text:Ze})}}async render(je){if(this.slicePoints=[],this.slices.length===0||(this.total=this.slices.reduce((Ze,Qe)=>Ze+Qe.value,0),Math.abs(this.total)<=0))return;const ze=Math.min(this.plotModel.plotArea.width,this.plotModel.plotArea.height)/2,qe=ze*(this.diameter-this.explodedDistance),Xe=ze*this.innerDiameter;let Ye=this.startAngle;const Ke=new ScreenPoint((this.plotModel.plotArea.left+this.plotModel.plotArea.right)*.5,(this.plotModel.plotArea.top+this.plotModel.plotArea.bottom)*.5);for(const Ze of this.slices){const Qe=[],Je=[],St=Ze.value/this.total*this.angleSpan,ei=Ye+St,ti=Ze.isExploded?this.explodedDistance*ze:0,ii=Ye+St/2,ri=ii*Math.PI/180,si=new ScreenPoint(Ke.x+ti*Math.cos(ri),Ke.y+ti*Math.sin(ri));for(;;){let ai=!1;Ye>=ei&&(Ye=ei,ai=!0);const oi=Ye*Math.PI/180,ni=new ScreenPoint(si.x+qe*Math.cos(oi),si.y+qe*Math.sin(oi));Qe.push(ni);const ci=new ScreenPoint(si.x+Xe*Math.cos(oi),si.y+Xe*Math.sin(oi));if(Xe+ti>0&&Je.push(ci),ai)break;Ye+=this.angleIncrement}Je.reverse(),Je.length===0&&Je.push(si),Je.push(Qe[0]);const ui=[...Qe,...Je];if(await je.drawPolygon(ui,getActualFillColor(Ze),this.stroke,this.strokeThickness,this.edgeRenderingMode,void 0,LineJoin.Bevel),this.slicePoints.push(ui),this.outsideLabelFormatter){const ai=this.outsideLabelFormatter(Ze,Ze.value/this.total*100),oi=Math.sign(Math.cos(ri)),ni=new ScreenPoint(si.x+(qe+this.tickDistance)*Math.cos(ri),si.y+(qe+this.tickDistance)*Math.sin(ri)),ci=new ScreenPoint(ni.x+this.tickRadialLength*Math.cos(ri),ni.y+this.tickRadialLength*Math.sin(ri)),hi=new ScreenPoint(ci.x+this.tickHorizontalLength*oi,ci.y);await je.drawLine([ni,ci,hi],this.actualTextColor,1,this.edgeRenderingMode,void 0,LineJoin.Bevel);const di=new ScreenPoint(hi.x+this.tickLabelDistance*oi,hi.y);await je.drawText(di,ai,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,oi>0?HorizontalAlignment.Left:HorizontalAlignment.Right,VerticalAlignment.Middle)}if(this.insideLabelFormatter&&!this.insideLabelColor.isUndefined()){const ai=this.insideLabelFormatter(Ze,Ze.value/this.total*100),oi=Xe*(1-this.insideLabelPosition)+qe*this.insideLabelPosition,ni=new ScreenPoint(si.x+oi*Math.cos(ri),si.y+oi*Math.sin(ri));let ci=0;this.areInsideLabelsAngled&&(ci=ii,Math.cos(ri)<0&&(ci+=180));const hi=this.insideLabelColor.isAutomatic()?this.actualTextColor:this.insideLabelColor;await je.drawText(ni,ai,hi,this.actualFont,this.actualFontSize,this.actualFontWeight,ci,HorizontalAlignment.Center,VerticalAlignment.Middle)}}}async renderLegend(je,ze){}areAxesRequired(){return!1}ensureAxes(){}isUsing(je){return!1}setDefaultValues(){for(const je of this.slices)je.fill=je.fill||OxyColors.Automatic,je.fill.isAutomatic()&&(je.defaultFillColor=this.plotModel.getDefaultColor())}updateAxisMaxMin(){}updateData(){if(this.itemsSource){this.slices=[];for(const je of this.itemsSource){const ze=getOrDefault(je,this.labelField,""),qe=getOrDefault(je,this.valueField,NaN),Xe=getOrDefault(je,this.colorField,OxyColors.Automatic),Ye=getOrDefault(je,this.isExplodedField,!1);this.slices.push({label:ze,value:qe,fill:Xe,isExploded:Ye})}}}updateMaxMin(){}};D$1(Ie,"DefaultTrackerStringFormatter",Ve=>`${Ve.xTitle}: ${round(Ve.xValue,3)} (${toPercent((Ve.percent||0)/100)})`);let PieSeries=Ie;class AreaSeries extends LineSeries{constructor(je){super(je),D$1(this,"_points2",[]),D$1(this,"itemsSourcePoints2",[]),D$1(this,"_actualPoints2"),D$1(this,"constantY2",0),D$1(this,"dataFieldX2"),D$1(this,"dataFieldY2"),D$1(this,"color2"),D$1(this,"fill"),D$1(this,"reverse2",!1),D$1(this,"windowStartIndex2",0),D$1(this,"isPoints2Defined",!1),this.reverse2=!0,this.color2=OxyColors.Automatic,this.fill=OxyColors.Automatic,je&&Object.assign(this,removeUndef(je))}get actualColor2(){return this.color2.getActualColor(this.actualColor)}get actualFill(){return this.fill.getActualColor(OxyColor.fromAColor(100,this.actualColor))}get points2(){return this._points2}get actualPoints2(){return this.itemsSource?this.itemsSourcePoints2:this._actualPoints2}getNearestPoint(je,ze){const qe=this.isXMonotonic?this.windowStartIndex:0,Xe=this.isXMonotonic?this.windowStartIndex2:0;let Ye,Ke;ze&&this.canTrackerInterpolatePoints?(Ye=this.getNearestInterpolatedPointInternal(this.actualPoints,qe,je),Ke=this.getNearestInterpolatedPointInternal(this.actualPoints2,Xe,je)):(Ye=this.getNearestPointInternal(this.actualPoints,qe,je),Ke=this.getNearestPointInternal(this.actualPoints2,Xe,je));let Ze;if(Ye&&Ke){const Qe=Ye.position.distanceTo(je),Je=Ke.position.distanceTo(je);Ze=Qe<Je?Ye:Ke}else Ze=Ye??Ke;return Ze&&(Ze.text=this.formatDefaultTrackerString(Ze.item,Ze.dataPoint)),Ze}async render(je){this.verifyAxes();const ze=this.actualPoints;if(!ze||ze.length===0)return;const qe=this.actualPoints2;if(!qe||qe.length===0)return;let Xe=0,Ye=0,Ke=Number_MAX_VALUE;if(this.isXMonotonic){const ei=this.xAxis.clipMinimum;Ke=this.xAxis.clipMaximum,this.windowStartIndex=this.updateWindowStartIndex(ze,ti=>ti.x,ei,this.windowStartIndex),this.windowStartIndex2=this.updateWindowStartIndex(qe,ti=>ti.x,ei,this.windowStartIndex2),Xe=this.windowStartIndex,Ye=this.windowStartIndex2}const Ze=this.minimumSegmentLength*this.minimumSegmentLength,Qe={points:ze,windowStartIndex:Xe,xMax:Ke,renderContext:je,minDistSquared:Ze,reverse:!1,color:this.actualColor,dashArray:this.actualDashArray},Je=await this.renderChunkedPoints(Qe);Qe.points=qe,Qe.windowStartIndex=Ye,Qe.reverse=this.reverse2,Qe.color=this.actualColor2;const St=await this.renderChunkedPoints(Qe);if(Je.length===St.length)for(let ei=0;ei<Je.length;ei++){const ti=Je[ei],ii=St[ei],ri=[];ri.push(...ii),ri.push(...ti),await RenderingExtensions.drawReducedPolygon(je,ri,Ze,this.getSelectableFillColor(this.actualFill),OxyColors.Undefined,0,this.edgeRenderingMode);const si=[this.markerSize];await RenderingExtensions.drawMarkers(je,ti,this.markerType,void 0,si,this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,1),await RenderingExtensions.drawMarkers(je,ii,this.markerType,void 0,si,this.markerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,1)}}async renderLegend(je,ze){const qe=ze.top*.2+ze.bottom*.8,Xe=ze.top*.4+ze.bottom*.6,Ye=ze.top*.8+ze.bottom*.2,Ke=[new ScreenPoint(ze.left,qe),new ScreenPoint(ze.right,qe)],Ze=[new ScreenPoint(ze.right,Ye),new ScreenPoint(ze.left,Xe)],Qe=[...Ke,...Ze];if(this.strokeThickness>0&&this.actualLineStyle!==LineStyle.None){const Je=LineStyleHelper.getDashArray(this.actualLineStyle);await je.drawLine(Ke,this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode,Je),await je.drawLine(Ze,this.getSelectableColor(this.actualColor2),this.strokeThickness,this.edgeRenderingMode,Je)}await je.drawPolygon(Qe,this.getSelectableFillColor(this.actualFill),OxyColors.Undefined,0,this.edgeRenderingMode)}updateData(){if(super.updateData(),!this.itemsSource){this.isPoints2Defined=this._points2.length>0,this.isPoints2Defined?this._actualPoints2=this._points2:this._actualPoints2=this.getConstantPoints2();return}if(this.itemsSourcePoints2.length=0,this.isPoints2Defined=!!(this.dataFieldX2&&this.dataFieldY2),this.isPoints2Defined)for(const je of this.itemsSource){if(!je)continue;const ze=getOrDefault(je,this.dataFieldX2,Number.NaN),qe=getOrDefault(je,this.dataFieldY2,Number.NaN),Xe=new DataPoint(this.xAxis.itemToDouble(ze),this.yAxis.itemToDouble(qe));this.itemsSourcePoints2.push(Xe)}else this.itemsSourcePoints2.push(...this.getConstantPoints2())}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMin(this.actualPoints2)}async renderChunkedPoints(je){const ze=[];let qe=[],Xe=0;const Ye=je.points;for(let Ke=je.windowStartIndex;Ke<Ye.length;Ke++){const Ze=Ye[Ke];if(isNaN(Ze.y)){if(qe.length===0)continue;ze.push(await this.renderScreenPoints(je,qe)),qe=[]}else{const Qe=PlotElementExtensions.transform(this,Ze.x,Ze.y);qe.push(Qe)}if(Xe+=Ze.x>je.xMax?1:0,Xe>1)break}return qe.length>0&&ze.push(await this.renderScreenPoints(je,qe)),ze}async renderScreenPoints(je,ze){let qe=ze;if(je.reverse&&qe.reverse(),this.interpolationAlgorithm){const Xe=ScreenPointHelper.resamplePoints(qe,this.minimumSegmentLength);qe=this.interpolationAlgorithm.createSplineSp(Xe,!1,.25)}return await RenderingExtensions.drawReducedLine(je.renderContext,qe,je.minDistSquared,this.getSelectableColor(je.color),this.strokeThickness,this.edgeRenderingMode,je.dashArray,this.lineJoin),qe}getConstantPoints2(){const je=this.actualPoints,ze=[];if(!isNaN(this.constantY2)&&je.length>0){const qe=je[0].x,Xe=je[je.length-1].x;ze.push(new DataPoint(qe,this.constantY2)),ze.push(new DataPoint(Xe,this.constantY2))}return ze}}var HeatMapCoordinateDefinition=(Ve=>(Ve[Ve.Center=0]="Center",Ve[Ve.Edge=1]="Edge",Ve))(HeatMapCoordinateDefinition||{}),HeatMapRenderMethod=(Ve=>(Ve[Ve.Bitmap=0]="Bitmap",Ve[Ve.Rectangles=1]="Rectangles",Ve))(HeatMapRenderMethod||{});const se$1=class ma extends XYAxisSeries{constructor(je){super(je),D$1(this,"dataHash",0),D$1(this,"colorAxisHash",0),D$1(this,"image"),D$1(this,"x0",0),D$1(this,"x1",0),D$1(this,"y0",0),D$1(this,"y1",0),D$1(this,"data"),D$1(this,"interpolate",!0),D$1(this,"minValue",0),D$1(this,"maxValue",0),D$1(this,"colorAxis"),D$1(this,"colorAxisKey"),D$1(this,"coordinateDefinition",0),D$1(this,"renderMethod",0),D$1(this,"labelStringFormatter",ze=>ze.toFixed(2)),D$1(this,"labelFontSize",0),this.trackerStringFormatter=ma.DefaultTrackerFormatString,this.interpolate=!0,this.labelFontSize=0,je&&Object.assign(this,removeUndef(je))}invalidate(){this.image=void 0}async render(je){if(!this.data){this.image=void 0;return}if(!this.colorAxis)throw new Error("Color axis not specified.");let ze=this.x0,qe=this.x1,Xe=this.y0,Ye=this.y1;const Ke=this.data.length,Ze=this.data[0].length,Qe=(this.x1-this.x0)/(Ke-1),Je=(this.y1-this.y0)/(Ze-1);if(this.coordinateDefinition===0){if(this.xAxis.isLogarithmic()){const ai=Math.log(this.x1/this.x0)/(Ke-1);ze*=Math.exp(ai/-2),qe*=Math.exp(ai/2)}else ze-=Qe/2,qe+=Qe/2;if(this.yAxis.isLogarithmic()){const ai=Math.log(this.y1/this.y0)/(Ze-1);Xe*=Math.exp(ai/-2),Ye*=Math.exp(ai/2)}else Xe-=Je/2,Ye+=Je/2}const St=PlotElementExtensions.transform(this,ze,Xe),ei=PlotElementExtensions.transform(this,qe,Ye),ti=OxyRect.fromScreenPoints(St,ei),ii=this.renderMethod===0,ri=calculateHashcode(this.data),si=this.colorAxis.getElementHashCode();(ii&&!this.image||ri!==this.dataHash||si!==this.colorAxisHash)&&(ii&&await this.updateImage(),this.dataHash=ri,this.colorAxisHash=si);const ui=PlotElementExtensions.orientate;if(ii)this.image&&await RenderingExtensions.drawImage(je,this.image,ti.left,ti.top,ti.width,ti.height,1,this.interpolate);else{const ai=ui(this,St),oi=ui(this,ei),ni=(oi.x-ai.x)/Ke,ci=(oi.y-ai.y)/Ze,hi=ColorAxisExtensions.getColor;for(let di=0;di<Ke;di++)for(let fi=0;fi<Ze;fi++){const mi=hi(this.colorAxis,this.data[di][fi]),pi=ui(this,new ScreenPoint(ai.x+di*ni,ai.y+fi*ci)),wi=ui(this,new ScreenPoint(ai.x+(di+1)*ni,ai.y+(fi+1)*ci)),gi=OxyRect.fromScreenPoints(pi,wi);await je.drawRectangle(gi,mi,OxyColors.Undefined,0,this.edgeRenderingMode)}}this.labelFontSize>0&&await this.renderLabels(je,ti)}getNearestPoint(je,ze){if(!this.data)return;this.interpolate||(ze=!1);let qe=this.inverseTransform(je);if(!this.isPointInRange(qe))return;let Xe,Ye;if(this.xAxis.isLogarithmic()){const St=Math.log(this.x1/this.x0)/(this.data.length-1);Xe=Math.log(qe.x/this.x0)/St}else{const St=(this.x1-this.x0)/(this.data.length-1);Xe=(qe.x-this.x0)/St}if(this.yAxis.isLogarithmic()){const St=Math.log(this.y1/this.y0)/(this.data[0].length-1);Ye=Math.log(qe.y/this.y0)/St}else{const St=(this.y1-this.y0)/(this.data[0].length-1);Ye=(qe.y-this.y0)/St}if(!ze){Xe=Math.round(Xe),Ye=Math.round(Ye);let St,ei;if(this.xAxis.isLogarithmic()){const ti=Math.log(this.x1/this.x0)/(this.data.length-1);St=this.x0*Math.exp(Xe*ti)}else{const ti=(this.x1-this.x0)/(this.data.length-1);St=Xe*ti+this.x0}if(this.yAxis.isLogarithmic()){const ti=Math.log(this.y1/this.y0)/(this.data[0].length-1);ei=this.y0*Math.exp(Ye*ti)}else{const ti=(this.y1-this.y0)/(this.data[0].length-1);ei=Ye*ti+this.y0}qe=new DataPoint(St,ei),je=this.transform(qe)}if(Xe<-.5||Xe>this.data.length-.5||Ye<-.5||Ye>this.data[0].length-.5)return;const Ke=ma.getValue(this.data,Xe,Ye),Ze=this.colorAxis,Qe=(Ze==null?void 0:Ze.title)??ma.DefaultColorAxisTitle,Je=this.formatDefaultTrackerString(void 0,qe,St=>{St.colorAxisTitle=Qe,St.value=Ke});return new TrackerHitResult({series:this,dataPoint:qe,position:je,item:null,index:-1,text:Je})}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}updateMaxMinXY(){if(!this.data)return;const je=this.data.length,ze=this.data[0].length;if(this.minX=Math.min(this.x0,this.x1),this.maxX=Math.max(this.x0,this.x1),this.minY=Math.min(this.y0,this.y1),this.maxY=Math.max(this.y0,this.y1),this.coordinateDefinition===0){if(this.xAxis.isLogarithmic()){const qe=Math.log(this.maxX/this.minX)/(je-1);this.minX*=Math.exp(qe/-2),this.maxX*=Math.exp(qe/2)}else{const qe=(this.maxX-this.minX)/(je-1);this.minX-=qe/2,this.maxX+=qe/2}if(this.yAxis.isLogarithmic()){const qe=Math.log(this.maxY/this.minY)/(ze-1);this.minY*=Math.exp(qe/-2),this.maxY*=Math.exp(qe/2)}else{const qe=(this.maxY-this.minY)/(ze-1);this.minY-=qe/2,this.maxY+=qe/2}}}updateMaxMin(){if(super.updateMaxMin(),this.updateMaxMinXY(),!this.data)return;const je=this.data.flat().filter(ze=>!isNaN(ze));this.minValue=minValueOfArray(je),this.maxValue=maxValueOfArray(je)}updateAxisMaxMin(){super.updateAxisMaxMin();const je=this.colorAxis;je&&(je.include(this.minValue),je.include(this.maxValue))}async renderLabels(je,ze){if(!this.data)return;const qe=this.data.length,Xe=this.data[0].length,Ye=ze.height/Xe*this.labelFontSize,Ke=this.x0,Ze=this.x1,Qe=this.y0,Je=this.y1,St=PlotElementExtensions.orientate,ei=PlotElementExtensions.transform,ti=St(this,ei(this,Ke,Qe)),ii=St(this,ei(this,Ze,Je)),ri=(ii.x-ti.x)/(qe-1),si=(ii.y-ti.y)/(Xe-1),ui=ColorAxisExtensions.getColor;for(let ai=0;ai<qe;ai++)for(let oi=0;oi<Xe;oi++){const ni=St(this,new ScreenPoint(ti.x+ai*ri,ti.y+oi*si)),ci=ma.getValue(this.data,ai,oi),hi=ui(this.colorAxis,ci),di=OxyColorExtensions.toHsv(hi)[2]>.6?OxyColors.Black:OxyColors.White,fi=this.getLabel(ci,ai,oi);await je.drawText(ni,fi,di,this.actualFont,Ye,500,0,HorizontalAlignment.Center,VerticalAlignment.Middle)}}getLabel(je,ze,qe){return this.labelStringFormatter(je,[])}static getValue(je,ze,qe){ze=Math.max(ze,0),qe=Math.max(qe,0);const Xe=Math.floor(ze),Ye=Xe+1<je.length?Xe+1:Xe,Ke=Math.floor(qe),Ze=Ke+1<je[0].length?Ke+1:Ke;if(ze=Math.min(ze,Ye),qe=Math.min(qe,Ze),ze===Xe&&qe===Ke)return je[Xe][Ke];if(ze!==Xe&&qe===Ke){if(isNaN(je[Xe][Ke])||isNaN(je[Ye][Ke]))return NaN;const Qe=ze-Xe;return Xe!==Ye?je[Xe][Ke]*(1-Qe)+je[Ye][Ke]*Qe:je[Xe][Ke]}if(ze===Xe&&qe!==Ke){if(isNaN(je[Xe][Ke])||isNaN(je[Xe][Ze]))return NaN;const Qe=qe-Ke;return Ke!==Ze?je[Xe][Ke]*(1-Qe)+je[Xe][Ze]*Qe:je[Xe][Ke]}else{if(isNaN(je[Xe][Ke])||isNaN(je[Ye][Ke])||isNaN(je[Xe][Ze])||isNaN(je[Ye][Ze]))return NaN;const Qe=ze-Xe,Je=qe-Ke;let St,ei;return Xe!==Ye?(St=je[Xe][Ke]*(1-Qe)+je[Ye][Ke]*Qe,ei=je[Xe][Ze]*(1-Qe)+je[Ye][Ze]*Qe):(St=je[Xe][Ke],ei=je[Xe][Ze]),Ke!==Ze?St*(1-Je)+ei*Je:St}}isPointInRange(je){return this.updateMaxMinXY(),je.x>=this.minX&&je.x<=this.maxX&&je.y>=this.minY&&je.y<=this.maxY}async updateImage(){if(!this.data)return;const je=this.xAxis.transform(this.x0)>this.xAxis.transform(this.x1),ze=this.yAxis.transform(this.y0)>this.yAxis.transform(this.y1),qe=PlotElementExtensions.isTransposed(this),Xe=this.data.length,Ye=this.data[0].length,Ke=qe?new TwoDimensionalArray(Ye,Xe):new TwoDimensionalArray(Xe,Ye),Ze=ColorAxisExtensions.getColor;for(let Qe=0;Qe<Xe;Qe++){const Je=je?Xe-1-Qe:Qe;for(let St=0;St<Ye;St++){const ei=ze?Ye-1-St:St,ti=Ze(this.colorAxis,this.data[Je][ei]);qe?Ke.set(St,Qe,ti):Ke.set(Qe,St,ti)}}this.image=await OxyImage.create(Ke,ImageFormat.Png)}};D$1(se$1,"DefaultTrackerFormatString",Ve=>`${Ve.title}
${Ve.xTitle}: ${Ve.xValue}
${Ve.yTitle}: ${Ve.yValue}
${Ve.colorAxisTitle}: ${Ve.value}`),D$1(se$1,"DefaultColorAxisTitle","Value");let HeatMapSeries=se$1;function calculateHashcode(Ve){return hashCode(Ve.flat())}const Fe=class{constructor(je,ze,qe,Xe,Ye){D$1(this,"a"),D$1(this,"b"),D$1(this,"value"),typeof je=="number"?(this.a=new DataPoint(je,qe),this.b=new DataPoint(ze,Xe),this.value=Ye):(this.a=je,this.b=ze,this.value=qe)}contains(je){return je.x<=this.b.x&&je.x>=this.a.x&&je.y<=this.b.y&&je.y>=this.a.y||je.x<=this.a.x&&je.x>=this.b.x&&je.y<=this.a.y&&je.y>=this.b.y}equals(je){return this.a.equals(je.a)&&this.b.equals(je.b)&&this.value===je.value}toString(){return`${this.a} ${this.b} ${this.value}`}isDefined(){return this.a.isDefined()&&this.b.isDefined()&&!isNaN(this.value)}};D$1(Fe,"Undefined",new Fe(DataPoint.Undefined,DataPoint.Undefined,Number.NaN));let RectangleItem=Fe;const fe$1=class tu extends XYAxisSeries{constructor(je){super(je),D$1(this,"_actualItems",[]),D$1(this,"_minValue",0),D$1(this,"_maxValue",0),D$1(this,"_colorAxis"),D$1(this,"colorAxisKey"),D$1(this,"labelStringFormatter",ze=>ze.toFixed(2)),D$1(this,"labelFontSize"),D$1(this,"mapping"),D$1(this,"items",[]),this.trackerStringFormatter=tu.DefaultTrackerFormatString,this.labelFontSize=0,je&&Object.assign(this,removeUndef(je))}get minValue(){return this._minValue}get maxValue(){return this._maxValue}get colorAxis(){return this._colorAxis}set colorAxis(je){this._colorAxis=je}get actualItems(){return this.itemsSource?this._actualItems:this.items}async render(je){this.verifyAxes(),await this.renderRectangles(je,this.actualItems)}updateData(){this.itemsSource&&this.updateActualItems()}getItem(je){const ze=this.actualItems;return!this.itemsSource&&ze&&je<ze.length?ze[je]:super.getItem(je)}clearActualItems(){this._actualItems.length=0}updateActualItems(){if(this.clearActualItems(),!(!this.itemsSource||this.itemsSource.length==0)){for(const je of this.itemsSource)if(je){if(je instanceof RectangleItem){this._actualItems.push(je);continue}if(this.mapping){this._actualItems.push(this.mapping(je));continue}throw new Error("Invalid itemsSource")}}}async renderRectangles(je,ze){const qe=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness),Xe=PlotElementExtensions.transform;for(const Ye of ze){const Ke=ColorAxisExtensions.getColor(this.colorAxis,Ye.value),Ze=Xe(this,Ye.a.x,Ye.a.y),Qe=Xe(this,Ye.b.x,Ye.b.y),Je=OxyRect.fromScreenPoints(Ze,Qe);await je.drawRectangle(Je,Ke,OxyColors.Undefined,0,qe),this.labelFontSize>0&&await je.drawText(Je.center,this.labelStringFormatter(Ye.value,[]),this.actualTextColor,this.actualFont,this.labelFontSize,this.actualFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Middle)}}getNearestPoint(je,ze){const qe=this.inverseTransform(je);if(!this.isPointInRange(qe)||!this.actualItems)return;const Xe=this.colorAxis,Ye=(Xe==null?void 0:Xe.title)??tu.DefaultColorAxisTitle;for(const Ke of this.actualItems)if(Ke.contains(qe)){const Ze=this.formatDefaultTrackerString(Ke,qe,Qe=>{Qe.colorAxisTitle=Ye,Qe.value=Ke.value});return new TrackerHitResult({series:this,dataPoint:qe,position:je,item:null,index:-1,text:Ze})}}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}updateMaxMinXY(){if(this.actualItems&&this.actualItems.length>0){const je=minValueOfArray(this.actualItems.map(Je=>Je.a.x)),ze=minValueOfArray(this.actualItems.map(Je=>Je.b.x)),qe=maxValueOfArray(this.actualItems.map(Je=>Je.a.x)),Xe=maxValueOfArray(this.actualItems.map(Je=>Je.b.x)),Ye=minValueOfArray(this.actualItems.map(Je=>Je.a.y)),Ke=minValueOfArray(this.actualItems.map(Je=>Je.b.y)),Ze=maxValueOfArray(this.actualItems.map(Je=>Je.a.y)),Qe=maxValueOfArray(this.actualItems.map(Je=>Je.b.y));this.minX=Math.min(je,ze),this.maxX=Math.max(qe,Xe),this.minY=Math.min(Ye,Ke),this.maxY=Math.max(Ze,Qe)}}updateMaxMin(){super.updateMaxMin();const je=[];if(pushMany(je,this.actualItems.map(ze=>ze.a)),pushMany(je,this.actualItems.map(ze=>ze.b)),this.internalUpdateMaxMin(je),this.updateMaxMinXY(),this.actualItems&&this.actualItems.length>0){const ze=this.actualItems.map(qe=>qe.value);this._minValue=minValueOfArray(ze),this._maxValue=minValueOfArray(ze)}}updateAxisMaxMin(){super.updateAxisMaxMin();const je=this.colorAxis;je&&(je.include(this.minValue),je.include(this.maxValue))}isPointInRange(je){return this.updateMaxMinXY(),je.x>=this.minX&&je.x<=this.maxX&&je.y>=this.minY&&je.y<=this.maxY}};D$1(fe$1,"DefaultTrackerFormatString",Ve=>`${Ve.title}
${Ve.xTitle}: ${Ve.xValue}
${Ve.yTitle}: ${Ve.yValue}
${Ve.colorAxisTitle}: ${Ve.value}`),D$1(fe$1,"DefaultColorAxisTitle","Value");let RectangleSeries=fe$1;class ThreeColorLineSeries extends LineSeries{constructor(je){super(je),D$1(this,"defaultColorLo",OxyColors.Undefined),D$1(this,"defaultColorHi",OxyColors.Undefined),D$1(this,"colorLo"),D$1(this,"colorHi"),D$1(this,"limitHi"),D$1(this,"limitLo"),D$1(this,"dashesHi"),D$1(this,"dashesLo"),D$1(this,"lineStyleHi"),D$1(this,"lineStyleLo"),this.limitLo=-5,this.colorLo=OxyColor.fromRgb(0,0,255),this.lineStyleLo=LineStyle.Solid,this.limitHi=5,this.colorHi=OxyColor.fromRgb(255,0,0),this.lineStyleHi=LineStyle.Solid,je&&Object.assign(this,removeUndef(je))}get actualColorLo(){return this.colorLo.getActualColor(this.defaultColorLo)}get actualColorHi(){return this.colorHi.getActualColor(this.defaultColorHi)}get actualLineStyleHi(){return this.lineStyleHi!==LineStyle.Automatic?this.lineStyleHi:LineStyle.Solid}get actualLineStyleLo(){return this.lineStyleLo!==LineStyle.Automatic?this.lineStyleLo:LineStyle.Solid}get actualDashArrayHi(){return this.dashesHi??LineStyleHelper.getDashArray(this.actualLineStyleHi)}get actualDashArrayLo(){return this.dashesLo??LineStyleHelper.getDashArray(this.actualLineStyleLo)}setDefaultValues(){super.setDefaultValues(),this.colorLo.isAutomatic()&&(this.defaultColorLo=this.plotModel.getDefaultColor()),this.lineStyleLo===LineStyle.Automatic&&(this.lineStyleLo=this.plotModel.getDefaultLineStyle()),this.colorHi.isAutomatic()&&(this.defaultColorHi=this.plotModel.getDefaultColor()),this.lineStyleHi===LineStyle.Automatic&&(this.lineStyleHi=this.plotModel.getDefaultLineStyle())}async renderLine(je,ze){const qe=this.getClippingRect(),Xe=this.inverseTransform(qe.bottomLeft),Ye=this.inverseTransform(qe.topRight),Ke=PlotElementExtensions.transform;let Ze=Ke(this,Xe.x,Math.min(Xe.y,Ye.y)),Qe=Ke(this,Ye.x,this.limitLo);const Je=OxyRect.fromScreenPoints(Ze,Qe).clip(qe);Ze=Ke(this,Xe.x,this.limitLo),Qe=Ke(this,Ye.x,this.limitHi);const St=OxyRect.fromScreenPoints(Ze,Qe).clip(qe);Ze=Ke(this,Xe.x,Math.max(Xe.y,Ye.y)),Qe=Ke(this,Ye.x,this.limitHi);const ei=OxyRect.fromScreenPoints(Ze,Qe).clip(qe);if(this.strokeThickness<=0||this.actualLineStyle===LineStyle.None)return;const ti=async ri=>{await RenderingExtensions.drawReducedLine(je,ze,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(ri),this.strokeThickness,this.edgeRenderingMode,this.actualDashArray,this.lineJoin)};let ii=RenderingExtensions.autoResetClip(je,St);await ti(this.actualColor),ii.dispose(),ii=RenderingExtensions.autoResetClip(je,Je),await ti(this.actualColorLo),ii.dispose(),ii=RenderingExtensions.autoResetClip(je,ei),await ti(this.actualColorHi),ii.dispose()}}class TwoColorAreaSeries extends AreaSeries{constructor(je){super(je),D$1(this,"defaultColor2",OxyColors.Undefined),D$1(this,"abovePoints",[]),D$1(this,"belowPoints",[]),D$1(this,"markerStartIndex",0),D$1(this,"fill2"),D$1(this,"dashes2"),D$1(this,"lineStyle2"),D$1(this,"markerFill2"),D$1(this,"markerStroke2"),D$1(this,"limit",0),this.color2=OxyColor.fromRgb(0,0,255),this.fill=OxyColors.Automatic,this.fill2=OxyColors.Automatic,this.markerFill2=OxyColors.Automatic,this.markerStroke2=OxyColors.Automatic,this.lineStyle2=LineStyle.Solid,je&&Object.assign(this,removeUndef(je))}get actualFill2(){return this.fill2.getActualColor(OxyColor.fromAColor(100,this.actualColor2))}get actualColor2(){return this.color2.getActualColor(this.defaultColor2)}get actualLineStyle2(){return this.lineStyle2!==LineStyle.Automatic?this.lineStyle2:LineStyle.Solid}get actualDashArray2(){return this.dashes2??LineStyleHelper.getDashArray(this.actualLineStyle2)}getNearestPoint(je,ze){let qe;return ze&&this.canTrackerInterpolatePoints?qe=this.getNearestInterpolatedPointInternal(this.actualPoints,0,je):qe=this.getNearestPointInternal(this.actualPoints,0,je),qe&&(qe.text=this.formatDefaultTrackerString(qe.item,qe.dataPoint)),qe}async render(je){const ze=this.xAxis.clipMinimum,qe=this.xAxis.clipMaximum,Xe=Ze=>Ze.x;this.windowStartIndex=this.updateWindowStartIndex(this.abovePoints,Xe,ze,this.windowStartIndex),this.windowStartIndex2=this.updateWindowStartIndex(this.belowPoints,Xe,ze,this.windowStartIndex2);const Ye=this.minimumSegmentLength*this.minimumSegmentLength,Ke={points:this.abovePoints,windowStartIndex:this.windowStartIndex,xMax:qe,renderContext:je,minDistSquared:Ye,reverse:!1,color:this.actualColor,fill:this.actualFill,markerFill:this.actualMarkerFill,markerStroke:this.markerStroke,dashArray:this.actualDashArray,baseline:this.limit};if(await this.renderChunkedPoints(Ke),Ke.points=this.belowPoints,Ke.windowStartIndex=this.windowStartIndex2,Ke.reverse=this.reverse2,Ke.color=this.actualColor2,Ke.fill=this.actualFill2,Ke.markerFill=this.markerFill2,Ke.markerStroke=this.markerStroke2,Ke.dashArray=this.actualDashArray2,this.isPoints2Defined&&(Ke.baseline=this.constantY2),await this.renderChunkedPoints(Ke),!this.isPoints2Defined){const Ze=[this.markerSize],Qe=this.limit,Je=this.actualPoints,St=[],ei=[];this.markerStartIndex=this.updateWindowStartIndex(Je,Xe,ze,this.markerStartIndex);let ti=0;for(let ii=this.markerStartIndex;ii<Je.length;ii++){const ri=Je[ii];if((ri.y>=Qe?St:ei).push(this.transform(ri)),ti+=ri.x>qe?1:0,ti>1)break}await RenderingExtensions.drawMarkers(je,St,this.markerType,void 0,Ze,this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,1),await RenderingExtensions.drawMarkers(je,ei,this.markerType,void 0,Ze,this.markerFill2,this.markerStroke2,this.markerStrokeThickness,this.edgeRenderingMode,1)}}setDefaultValues(){super.setDefaultValues(),this.color2.isAutomatic()&&(this.defaultColor2=this.plotModel.getDefaultColor()),this.lineStyle2===LineStyle.Automatic&&(this.lineStyle2=this.plotModel.getDefaultLineStyle())}updateData(){super.updateData(),this.isPoints2Defined?(this.abovePoints=this.actualPoints,this.belowPoints=this.actualPoints2):this.splitPoints(this.actualPoints)}async renderScreenPoints(je,ze){const qe=await super.renderScreenPoints(je,ze),Xe=je,Ye=[...this.getConstantScreenPoints2(qe,Xe.baseline),...qe],Ke=je.renderContext;if(await RenderingExtensions.drawReducedPolygon(Ke,Ye,je.minDistSquared,this.getSelectableFillColor(Xe.fill),OxyColors.Undefined,0,this.edgeRenderingMode),this.isPoints2Defined){const Ze=[this.markerSize];await RenderingExtensions.drawMarkers(Ke,qe,this.markerType,void 0,Ze,Xe.markerFill,Xe.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,1)}return qe}splitPoints(je){const ze=new DataPoint(Number.NaN,Number.NaN),qe=this.limit;this.abovePoints=new Array,this.belowPoints=new Array;let Xe=!1,Ye=null;for(const Ke of je){const Ze=Ke.y>=qe;if(Ye&&Ze!==Xe){const Qe=new DataPoint(this.getInterpolatedX(Ye,Ke,qe),qe);this.abovePoints.push(Ze?ze:Qe),this.abovePoints.push(Ze?Qe:ze),this.belowPoints.push(Ze?Qe:ze),this.belowPoints.push(Ze?ze:Qe)}(Ze?this.abovePoints:this.belowPoints).push(Ke),Ye=Ke,Xe=Ze}}getConstantScreenPoints2(je,ze){const qe=[];if(isNaN(ze)||je.length<=0)return qe;let Xe=this.inverseTransform(je[0]);Xe=new DataPoint(Xe.x,ze),qe.push(this.transform(Xe));let Ye=this.inverseTransform(je[je.length-1]);return Ye=new DataPoint(Ye.x,ze),qe.push(this.transform(Ye)),this.reverse2&&qe.reverse(),qe}getInterpolatedX(je,ze,qe){return(qe-je.y)/(ze.y-je.y)*(ze.x-je.x)+je.x}}class TwoColorLineSeries extends LineSeries{constructor(je){super(je),D$1(this,"defaultColor2",OxyColors.Undefined),D$1(this,"color2"),D$1(this,"limit"),this.limit=0,this.color2=OxyColor.fromRgb(0,0,255),je&&Object.assign(this,removeUndef(je))}get actualColor2(){return this.color2.getActualColor(this.defaultColor2)}setDefaultValues(){super.setDefaultValues(),this.color2.isAutomatic()&&(this.defaultColor2=this.plotModel.getDefaultColor())}async renderLine(je,ze){const qe=this.getClippingRect(),Xe=this.inverseTransform(qe.bottomLeft),Ye=this.inverseTransform(qe.topRight),Ke=PlotElementExtensions.transform;let Ze=Ke(this,Xe.x,Math.min(Xe.y,Ye.y));const Qe=Ke(this,Ye.x,this.limit),Je=OxyRect.fromScreenPoints(Ze,Qe).clip(qe);Ze=Ke(this,Xe.x,Math.max(Xe.y,Ye.y));const St=OxyRect.fromScreenPoints(Ze,Qe).clip(qe);if(this.strokeThickness<=0||this.actualLineStyle===LineStyle.None)return;const ei=async ii=>{await RenderingExtensions.drawReducedLine(je,ze,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(ii),this.strokeThickness,this.edgeRenderingMode,this.actualDashArray,this.lineJoin)};let ti=RenderingExtensions.autoResetClip(je,Je);await ei(this.actualColor2),ti.dispose(),ti=RenderingExtensions.autoResetClip(je,St),await ei(this.actualColor),ti.dispose()}}var xmlbuilder2_min={exports:{}};(function(Ve,je){(function(ze,qe){Ve.exports=qe()})(commonjsGlobal$1,function(){return function(ze){var qe={};function Xe(Ye){if(qe[Ye])return qe[Ye].exports;var Ke=qe[Ye]={i:Ye,l:!1,exports:{}};return ze[Ye].call(Ke.exports,Ke,Ke.exports,Xe),Ke.l=!0,Ke.exports}return Xe.m=ze,Xe.c=qe,Xe.d=function(Ye,Ke,Ze){Xe.o(Ye,Ke)||Object.defineProperty(Ye,Ke,{enumerable:!0,get:Ze})},Xe.r=function(Ye){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Ye,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Ye,"__esModule",{value:!0})},Xe.t=function(Ye,Ke){if(1&Ke&&(Ye=Xe(Ye)),8&Ke||4&Ke&&typeof Ye=="object"&&Ye&&Ye.__esModule)return Ye;var Ze=Object.create(null);if(Xe.r(Ze),Object.defineProperty(Ze,"default",{enumerable:!0,value:Ye}),2&Ke&&typeof Ye!="string")for(var Qe in Ye)Xe.d(Ze,Qe,(function(Je){return Ye[Je]}).bind(null,Qe));return Ze},Xe.n=function(Ye){var Ke=Ye&&Ye.__esModule?function(){return Ye.default}:function(){return Ye};return Xe.d(Ke,"a",Ke),Ke},Xe.o=function(Ye,Ke){return Object.prototype.hasOwnProperty.call(Ye,Ke)},Xe.p="",Xe(Xe.s=184)}([function(ze,qe,Xe){function Ye(Ke){for(var Ze in Ke)qe.hasOwnProperty(Ze)||(qe[Ze]=Ke[Ze])}Object.defineProperty(qe,"__esModule",{value:!0}),Ye(Xe(240)),Ye(Xe(251)),Ye(Xe(175)),Ye(Xe(107)),Ye(Xe(29)),Ye(Xe(73)),Ye(Xe(106)),Ye(Xe(30)),Ye(Xe(252)),Ye(Xe(52)),Ye(Xe(97)),Ye(Xe(253)),Ye(Xe(37)),Ye(Xe(51)),Ye(Xe(173)),Ye(Xe(176)),Ye(Xe(172)),Ye(Xe(108)),Ye(Xe(254)),Ye(Xe(255)),Ye(Xe(256)),Ye(Xe(72)),Ye(Xe(177)),Ye(Xe(105)),Ye(Xe(17)),Ye(Xe(257)),Ye(Xe(12)),Ye(Xe(174))},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0}),function(Ye){Ye[Ye.Before=0]="Before",Ye[Ye.Equal=1]="Equal",Ye[Ye.After=2]="After"}(qe.BoundaryPosition||(qe.BoundaryPosition={})),function(Ye){Ye[Ye.None=0]="None",Ye[Ye.Capturing=1]="Capturing",Ye[Ye.AtTarget=2]="AtTarget",Ye[Ye.Bubbling=3]="Bubbling"}(qe.EventPhase||(qe.EventPhase={})),function(Ye){Ye[Ye.Element=1]="Element",Ye[Ye.Attribute=2]="Attribute",Ye[Ye.Text=3]="Text",Ye[Ye.CData=4]="CData",Ye[Ye.EntityReference=5]="EntityReference",Ye[Ye.Entity=6]="Entity",Ye[Ye.ProcessingInstruction=7]="ProcessingInstruction",Ye[Ye.Comment=8]="Comment",Ye[Ye.Document=9]="Document",Ye[Ye.DocumentType=10]="DocumentType",Ye[Ye.DocumentFragment=11]="DocumentFragment",Ye[Ye.Notation=12]="Notation"}(qe.NodeType||(qe.NodeType={})),function(Ye){Ye[Ye.Disconnected=1]="Disconnected",Ye[Ye.Preceding=2]="Preceding",Ye[Ye.Following=4]="Following",Ye[Ye.Contains=8]="Contains",Ye[Ye.ContainedBy=16]="ContainedBy",Ye[Ye.ImplementationSpecific=32]="ImplementationSpecific"}(qe.Position||(qe.Position={})),function(Ye){Ye[Ye.Accept=1]="Accept",Ye[Ye.Reject=2]="Reject",Ye[Ye.Skip=3]="Skip"}(qe.FilterResult||(qe.FilterResult={})),function(Ye){Ye[Ye.All=4294967295]="All",Ye[Ye.Element=1]="Element",Ye[Ye.Attribute=2]="Attribute",Ye[Ye.Text=4]="Text",Ye[Ye.CDataSection=8]="CDataSection",Ye[Ye.EntityReference=16]="EntityReference",Ye[Ye.Entity=32]="Entity",Ye[Ye.ProcessingInstruction=64]="ProcessingInstruction",Ye[Ye.Comment=128]="Comment",Ye[Ye.Document=256]="Document",Ye[Ye.DocumentType=512]="DocumentType",Ye[Ye.DocumentFragment=1024]="DocumentFragment",Ye[Ye.Notation=2048]="Notation"}(qe.WhatToShow||(qe.WhatToShow={})),function(Ye){Ye[Ye.StartToStart=0]="StartToStart",Ye[Ye.StartToEnd=1]="StartToEnd",Ye[Ye.EndToEnd=2]="EndToEnd",Ye[Ye.EndToStart=3]="EndToStart"}(qe.HowToCompare||(qe.HowToCompare={}))},function(ze,qe,Xe){var Ye=this&&this.__values||function(ni){var ci=typeof Symbol=="function"&&Symbol.iterator,hi=ci&&ni[ci],di=0;if(hi)return hi.call(ni);if(ni&&typeof ni.length=="number")return{next:function(){return ni&&di>=ni.length&&(ni=void 0),{value:ni&&ni[di++],done:!ni}}};throw new TypeError(ci?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(qe,"__esModule",{value:!0});var Ke=Xe(212);qe.FixedSizeSet=Ke.FixedSizeSet;var Ze=Xe(213);qe.ObjectCache=Ze.ObjectCache;var Qe=Xe(214);qe.CompareCache=Qe.CompareCache;var Je=Xe(215);qe.Lazy=Je.Lazy;var St=Xe(216);function ei(ni,ci,hi){if(ai(ni))ni.forEach(function(fi,mi){return ci.call(hi,mi,fi)});else for(var di in ni)ni.hasOwnProperty(di)&&ci.call(hi,di,ni[di])}function ti(ni){var ci,hi;if(ii(ni))return ni;if(si(ni)){var di=[];try{for(var fi=Ye(ni),mi=fi.next();!mi.done;mi=fi.next()){var pi=mi.value;di.push(ti(pi))}}catch(yi){ci={error:yi}}finally{try{mi&&!mi.done&&(hi=fi.return)&&hi.call(fi)}finally{if(ci)throw ci.error}}return di}if(ri(ni)){di={};for(var wi in ni)if(ni.hasOwnProperty(wi)){var gi=ni[wi];di[wi]=ti(gi)}return di}return ni}function ii(ni){return!!ni&&Object.prototype.toString.call(ni)==="[object Function]"}function ri(ni){var ci=typeof ni;return!!ni&&(ci==="function"||ci==="object")}function si(ni){return Array.isArray(ni)}function ui(ni){return ni instanceof Set}function ai(ni){return ni instanceof Map}function oi(ni){if(ri(ni)){var ci=Object.getPrototypeOf(ni),hi=ci.constructor;return ci&&hi&&typeof hi=="function"&&hi instanceof hi&&Function.prototype.toString.call(hi)===Function.prototype.toString.call(Object)}return!1}qe.StringWalker=St.StringWalker,qe.applyMixin=function(ni,ci){for(var hi=[],di=2;di<arguments.length;di++)hi[di-2]=arguments[di];Object.getOwnPropertyNames(ci.prototype).forEach(function(fi){if(fi!=="constructor"){if(hi.indexOf(fi)!==-1){var mi=Object.getOwnPropertyDescriptor(ni.prototype,fi);mi&&Object.defineProperty(ni.prototype,"_"+fi,mi)}var pi=Object.getOwnPropertyDescriptor(ci.prototype,fi);pi&&Object.defineProperty(ni.prototype,fi,pi)}})},qe.applyDefaults=function ni(ci,hi,di){di===void 0&&(di=!1);var fi=ti(ci||{});return ei(hi,function(mi,pi){oi(pi)?fi[mi]=ni(fi[mi],pi,di):(di||fi[mi]===void 0)&&(fi[mi]=pi)}),fi},qe.forEachArray=function(ni,ci,hi){ni.forEach(ci,hi)},qe.forEachObject=ei,qe.arrayLength=function(ni){return ui(ni)?ni.size:ni.length},qe.objectLength=function(ni){return ai(ni)?ni.size:Object.keys(ni).length},qe.getObjectValue=function(ni,ci){return ai(ni)?ni.get(ci):ni[ci]},qe.removeObjectValue=function(ni,ci){ai(ni)?ni.delete(ci):delete ni[ci]},qe.clone=ti,qe.isBoolean=function(ni){return typeof ni=="boolean"},qe.isNumber=function(ni){return typeof ni=="number"},qe.isString=function(ni){return typeof ni=="string"},qe.isFunction=ii,qe.isObject=ri,qe.isArray=si,qe.isSet=ui,qe.isMap=ai,qe.isEmpty=function(ni){if(si(ni))return!ni.length;if(ui(ni)||ai(ni))return!ni.size;if(ri(ni)){for(var ci in ni)if(ni.hasOwnProperty(ci))return!1;return!0}return!1},qe.isPlainObject=oi,qe.isIterable=function(ni){return ni&&typeof ni[Symbol.iterator]=="function"},qe.getValue=function(ni){return ii(ni.valueOf)?ni.valueOf():ni},qe.utf8Encode=function(ni){for(var ci=new Uint8Array(4*ni.length),hi=0,di=0;di<ni.length;di++){var fi=ni.charCodeAt(di);if(fi<128)ci[hi++]=fi;else{if(fi<2048)ci[hi++]=fi>>6|192;else{if(fi>55295&&fi<56320){if(++di>=ni.length)throw new Error("Incomplete surrogate pair.");var mi=ni.charCodeAt(di);if(mi<56320||mi>57343)throw new Error("Invalid surrogate character.");fi=65536+((1023&fi)<<10)+(1023&mi),ci[hi++]=fi>>18|240,ci[hi++]=fi>>12&63|128}else ci[hi++]=fi>>12|224;ci[hi++]=fi>>6&63|128}ci[hi++]=63&fi|128}}return ci.subarray(0,hi)},qe.utf8Decode=function(ni){for(var ci="",hi=0;hi<ni.length;){var di=ni[hi++];if(di>127)if(di>191&&di<224){if(hi>=ni.length)throw new Error("Incomplete 2-byte sequence.");di=(31&di)<<6|63&ni[hi++]}else if(di>223&&di<240){if(hi+1>=ni.length)throw new Error("Incomplete 3-byte sequence.");di=(15&di)<<12|(63&ni[hi++])<<6|63&ni[hi++]}else{if(!(di>239&&di<248))throw new Error("Unknown multi-byte start.");if(hi+2>=ni.length)throw new Error("Incomplete 4-byte sequence.");di=(7&di)<<18|(63&ni[hi++])<<12|(63&ni[hi++])<<6|63&ni[hi++]}if(di<=65535)ci+=String.fromCharCode(di);else{if(!(di<=1114111))throw new Error("Code point exceeds UTF-16 limit.");di-=65536,ci+=String.fromCharCode(di>>10|55296),ci+=String.fromCharCode(1023&di|56320)}}return ci}},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=Xe(241);qe.Cast=Ye.Cast;var Ke=Xe(150);qe.Guard=Ke.Guard;var Ze=Xe(242);qe.EmptySet=Ze.EmptySet},function(ze,qe,Xe){var Ye=Xe(11),Ke=Xe(55).f,Ze=Xe(21),Qe=Xe(25),Je=Xe(80),St=Xe(119),ei=Xe(123);ze.exports=function(ti,ii){var ri,si,ui,ai,oi,ni=ti.target,ci=ti.global,hi=ti.stat;if(ri=ci?Ye:hi?Ye[ni]||Je(ni,{}):(Ye[ni]||{}).prototype)for(si in ii){if(ai=ii[si],ui=ti.noTargetGet?(oi=Ke(ri,si))&&oi.value:ri[si],!ei(ci?si:ni+(hi?".":"#")+si,ti.forced)&&ui!==void 0){if(typeof ai==typeof ui)continue;St(ai,ui)}(ti.sham||ui&&ui.sham)&&Ze(ai,"sham",!0),Qe(ri,si,ai,ti)}}},function(ze,qe,Xe){var Ye=Xe(11),Ke=Xe(81),Ze=Xe(14),Qe=Xe(58),Je=Xe(86),St=Xe(124),ei=Ke("wks"),ti=Ye.Symbol,ii=St?ti:ti&&ti.withoutSetter||Qe;ze.exports=function(ri){return Ze(ei,ri)||(Je&&Ze(ti,ri)?ei[ri]=ti[ri]:ei[ri]=ii("Symbol."+ri)),ei[ri]}},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=Xe(2),Ke=Xe(29),Ze=function(){function Qe(){this._features={mutationObservers:!0,customElements:!0,slots:!0,steps:!0},this._window=null,this._compareCache=new Ye.CompareCache,this._rangeList=new Ye.FixedSizeSet}return Qe.prototype.setFeatures=function(Je){if(Je===void 0&&(Je=!0),Ye.isObject(Je))for(var St in Je)this._features[St]=Je[St]||!1;else for(var St in this._features)this._features[St]=Je},Object.defineProperty(Qe.prototype,"features",{get:function(){return this._features},enumerable:!0,configurable:!0}),Object.defineProperty(Qe.prototype,"window",{get:function(){return this._window===null&&(this._window=Ke.create_window()),this._window},enumerable:!0,configurable:!0}),Object.defineProperty(Qe.prototype,"compareCache",{get:function(){return this._compareCache},enumerable:!0,configurable:!0}),Object.defineProperty(Qe.prototype,"rangeList",{get:function(){return this._rangeList},enumerable:!0,configurable:!0}),Object.defineProperty(Qe,"instance",{get:function(){return Qe._instance||(Qe._instance=new Qe),Qe._instance},enumerable:!0,configurable:!0}),Qe}();qe.dom=Ze.instance},function(ze,qe,Xe){var Ye=this&&this.__importStar||function(oi){if(oi&&oi.__esModule)return oi;var ni={};if(oi!=null)for(var ci in oi)Object.hasOwnProperty.call(oi,ci)&&(ni[ci]=oi[ci]);return ni.default=oi,ni};Object.defineProperty(qe,"__esModule",{value:!0});var Ke=Ye(Xe(228));qe.base64=Ke;var Ze=Ye(Xe(146));qe.byte=Ze;var Qe=Ye(Xe(147));qe.byteSequence=Qe;var Je=Ye(Xe(96));qe.codePoint=Je;var St=Ye(Xe(232));qe.json=St;var ei=Ye(Xe(233));qe.list=ei;var ti=Ye(Xe(234));qe.map=ti;var ii=Ye(Xe(235));qe.namespace=ii;var ri=Ye(Xe(236));qe.queue=ri;var si=Ye(Xe(237));qe.set=si;var ui=Ye(Xe(238));qe.stack=ui;var ai=Ye(Xe(239));qe.string=ai},function(ze,qe){ze.exports=function(Xe){try{return!!Xe()}catch{return!0}}},function(ze,qe,Xe){var Ye,Ke=this&&this.__extends||(Ye=function(Pi,Ri){return(Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Fi,Gi){Fi.__proto__=Gi}||function(Fi,Gi){for(var Ti in Gi)Gi.hasOwnProperty(Ti)&&(Fi[Ti]=Gi[Ti])})(Pi,Ri)},function(Pi,Ri){function Fi(){this.constructor=Pi}Ye(Pi,Ri),Pi.prototype=Ri===null?Object.create(Ri):(Fi.prototype=Ri.prototype,new Fi)});Object.defineProperty(qe,"__esModule",{value:!0});var Ze=function(Pi){function Ri(Fi,Gi){Gi===void 0&&(Gi="");var Ti=Pi.call(this,Gi)||this;return Ti.name=Fi,Ti}return Ke(Ri,Pi),Ri}(Error);qe.DOMException=Ze;var Qe=function(Pi){function Ri(Fi){return Fi===void 0&&(Fi=""),Pi.call(this,"DOMStringSizeError",Fi)||this}return Ke(Ri,Pi),Ri}(Ze);qe.DOMStringSizeError=Qe;var Je=function(Pi){function Ri(Fi){return Fi===void 0&&(Fi=""),Pi.call(this,"WrongDocumentError","The object is in the wrong document. "+Fi)||this}return Ke(Ri,Pi),Ri}(Ze);qe.WrongDocumentError=Je;var St=function(Pi){function Ri(Fi){return Fi===void 0&&(Fi=""),Pi.call(this,"NoDataAllowedError",Fi)||this}return Ke(Ri,Pi),Ri}(Ze);qe.NoDataAllowedError=St;var ei=function(Pi){function Ri(Fi){return Fi===void 0&&(Fi=""),Pi.call(this,"NoModificationAllowedError","The object can not be modified. "+Fi)||this}return Ke(Ri,Pi),Ri}(Ze);qe.NoModificationAllowedError=ei;var ti=function(Pi){function Ri(Fi){return Fi===void 0&&(Fi=""),Pi.call(this,"NotSupportedError","The operation is not supported. "+Fi)||this}return Ke(Ri,Pi),Ri}(Ze);qe.NotSupportedError=ti;var ii=function(Pi){function Ri(Fi){return Fi===void 0&&(Fi=""),Pi.call(this,"InUseAttributeError",Fi)||this}return Ke(Ri,Pi),Ri}(Ze);qe.InUseAttributeError=ii;var ri=function(Pi){function Ri(Fi){return Fi===void 0&&(Fi=""),Pi.call(this,"InvalidStateError","The object is in an invalid state. "+Fi)||this}return Ke(Ri,Pi),Ri}(Ze);qe.InvalidStateError=ri;var si=function(Pi){function Ri(Fi){return Fi===void 0&&(Fi=""),Pi.call(this,"InvalidModificationError","The object can not be modified in this way. "+Fi)||this}return Ke(Ri,Pi),Ri}(Ze);qe.InvalidModificationError=si;var ui=function(Pi){function Ri(Fi){return Fi===void 0&&(Fi=""),Pi.call(this,"NamespaceError","The operation is not allowed by Namespaces in XML. [XMLNS] "+Fi)||this}return Ke(Ri,Pi),Ri}(Ze);qe.NamespaceError=ui;var ai=function(Pi){function Ri(Fi){return Fi===void 0&&(Fi=""),Pi.call(this,"InvalidAccessError","The object does not support the operation or argument. "+Fi)||this}return Ke(Ri,Pi),Ri}(Ze);qe.InvalidAccessError=ai;var oi=function(Pi){function Ri(Fi){return Fi===void 0&&(Fi=""),Pi.call(this,"ValidationError",Fi)||this}return Ke(Ri,Pi),Ri}(Ze);qe.ValidationError=oi;var ni=function(Pi){function Ri(Fi){return Fi===void 0&&(Fi=""),Pi.call(this,"TypeMismatchError",Fi)||this}return Ke(Ri,Pi),Ri}(Ze);qe.TypeMismatchError=ni;var ci=function(Pi){function Ri(Fi){return Fi===void 0&&(Fi=""),Pi.call(this,"SecurityError","The operation is insecure. "+Fi)||this}return Ke(Ri,Pi),Ri}(Ze);qe.SecurityError=ci;var hi=function(Pi){function Ri(Fi){return Fi===void 0&&(Fi=""),Pi.call(this,"NetworkError","A network error occurred. "+Fi)||this}return Ke(Ri,Pi),Ri}(Ze);qe.NetworkError=hi;var di=function(Pi){function Ri(Fi){return Fi===void 0&&(Fi=""),Pi.call(this,"AbortError","The operation was aborted. "+Fi)||this}return Ke(Ri,Pi),Ri}(Ze);qe.AbortError=di;var fi=function(Pi){function Ri(Fi){return Fi===void 0&&(Fi=""),Pi.call(this,"URLMismatchError","The given URL does not match another URL. "+Fi)||this}return Ke(Ri,Pi),Ri}(Ze);qe.URLMismatchError=fi;var mi=function(Pi){function Ri(Fi){return Fi===void 0&&(Fi=""),Pi.call(this,"QuotaExceededError","The quota has been exceeded. "+Fi)||this}return Ke(Ri,Pi),Ri}(Ze);qe.QuotaExceededError=mi;var pi=function(Pi){function Ri(Fi){return Fi===void 0&&(Fi=""),Pi.call(this,"TimeoutError","The operation timed out. "+Fi)||this}return Ke(Ri,Pi),Ri}(Ze);qe.TimeoutError=pi;var wi=function(Pi){function Ri(Fi){return Fi===void 0&&(Fi=""),Pi.call(this,"InvalidNodeTypeError","The supplied node is incorrect or has an incorrect ancestor for this operation. "+Fi)||this}return Ke(Ri,Pi),Ri}(Ze);qe.InvalidNodeTypeError=wi;var gi=function(Pi){function Ri(Fi){return Fi===void 0&&(Fi=""),Pi.call(this,"DataCloneError","The object can not be cloned. "+Fi)||this}return Ke(Ri,Pi),Ri}(Ze);qe.DataCloneError=gi;var yi=function(Pi){function Ri(Fi){return Fi===void 0&&(Fi=""),Pi.call(this,"NotImplementedError","The DOM method is not implemented by this module. "+Fi)||this}return Ke(Ri,Pi),Ri}(Ze);qe.NotImplementedError=yi;var Ai=function(Pi){function Ri(Fi){return Fi===void 0&&(Fi=""),Pi.call(this,"HierarchyRequestError","The operation would yield an incorrect node tree. "+Fi)||this}return Ke(Ri,Pi),Ri}(Ze);qe.HierarchyRequestError=Ai;var Si=function(Pi){function Ri(Fi){return Fi===void 0&&(Fi=""),Pi.call(this,"NotFoundError","The object can not be found here. "+Fi)||this}return Ke(Ri,Pi),Ri}(Ze);qe.NotFoundError=Si;var ki=function(Pi){function Ri(Fi){return Fi===void 0&&(Fi=""),Pi.call(this,"IndexSizeError","The index is not in the allowed range. "+Fi)||this}return Ke(Ri,Pi),Ri}(Ze);qe.IndexSizeError=ki;var Li=function(Pi){function Ri(Fi){return Fi===void 0&&(Fi=""),Pi.call(this,"SyntaxError","The string did not match the expected pattern. "+Fi)||this}return Ke(Ri,Pi),Ri}(Ze);qe.SyntaxError=Li;var Bi=function(Pi){function Ri(Fi){return Fi===void 0&&(Fi=""),Pi.call(this,"InvalidCharacterError","The string contains invalid characters. "+Fi)||this}return Ke(Ri,Pi),Ri}(Ze);qe.InvalidCharacterError=Bi},function(ze,qe,Xe){var Ye=Xe(53),Ke=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],Ze=["scalar","sequence","mapping"];ze.exports=function(Qe,Je){var St,ei;if(Je=Je||{},Object.keys(Je).forEach(function(ti){if(Ke.indexOf(ti)===-1)throw new Ye('Unknown option "'+ti+'" is met in definition of "'+Qe+'" YAML type.')}),this.tag=Qe,this.kind=Je.kind||null,this.resolve=Je.resolve||function(){return!0},this.construct=Je.construct||function(ti){return ti},this.instanceOf=Je.instanceOf||null,this.predicate=Je.predicate||null,this.represent=Je.represent||null,this.defaultStyle=Je.defaultStyle||null,this.styleAliases=(St=Je.styleAliases||null,ei={},St!==null&&Object.keys(St).forEach(function(ti){St[ti].forEach(function(ii){ei[String(ii)]=ti})}),ei),Ze.indexOf(this.kind)===-1)throw new Ye('Unknown kind "'+this.kind+'" is specified for "'+Qe+'" YAML type.')}},function(ze,qe,Xe){(function(Ye){var Ke=function(Ze){return Ze&&Ze.Math==Math&&Ze};ze.exports=Ke(typeof globalThis=="object"&&globalThis)||Ke(typeof window=="object"&&window)||Ke(typeof self=="object"&&self)||Ke(typeof Ye=="object"&&Ye)||Function("return this")()}).call(this,Xe(78))},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0}),qe.idl_defineConst=function(Ye,Ke,Ze){Object.defineProperty(Ye,Ke,{writable:!1,enumerable:!0,configurable:!1,value:Ze})}},function(ze,qe){ze.exports=function(Xe){return typeof Xe=="object"?Xe!==null:typeof Xe=="function"}},function(ze,qe){var Xe={}.hasOwnProperty;ze.exports=function(Ye,Ke){return Xe.call(Ye,Ke)}},function(ze,qe,Xe){var Ye=Xe(16),Ke=Xe(115),Ze=Xe(18),Qe=Xe(56),Je=Object.defineProperty;qe.f=Ye?Je:function(St,ei,ti){if(Ze(St),ei=Qe(ei,!0),Ze(ti),Ke)try{return Je(St,ei,ti)}catch{}if("get"in ti||"set"in ti)throw TypeError("Accessors not supported");return"value"in ti&&(St[ei]=ti.value),St}},function(ze,qe,Xe){var Ye=Xe(8);ze.exports=!Ye(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(ze,qe,Xe){var Ye=this&&this.__values||function(ni){var ci=typeof Symbol=="function"&&Symbol.iterator,hi=ci&&ni[ci],di=0;if(hi)return hi.call(ni);if(ni&&typeof ni.length=="number")return{next:function(){return ni&&di>=ni.length&&(ni=void 0),{value:ni&&ni[di++],done:!ni}}};throw new TypeError(ci?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(qe,"__esModule",{value:!0});var Ke=Xe(3),Ze=Xe(1);function Qe(ni,ci,hi){if(hi===void 0&&(hi=!1),hi&&Ke.Guard.isElementNode(ci)&&Ke.Guard.isShadowRoot(ci.shadowRoot)&&ci.shadowRoot._firstChild)return ci.shadowRoot._firstChild;if(ci._firstChild)return ci._firstChild;if(ci===ni)return null;if(ci._nextSibling)return ci._nextSibling;for(var di=ci._parent;di&&di!==ni;){if(di._nextSibling)return di._nextSibling;di=di._parent}return null}function Je(){var ni;return(ni={})[Symbol.iterator]=function(){return{next:function(){return{done:!0,value:null}}}},ni}function St(ni,ci,hi,di){ci===void 0&&(ci=!1),hi===void 0&&(hi=!1);for(var fi=ci?ni:Qe(ni,ni,hi);fi&&di&&!di(fi);)fi=Qe(ni,fi,hi);return fi}function ei(ni,ci,hi,di,fi){di===void 0&&(di=!1);for(var mi=Qe(ni,ci,di);mi&&fi&&!fi(mi);)mi=Qe(ni,mi,di);return mi}function ti(ni,ci,hi,di){var fi;return ci===void 0&&(ci=!1),hi===void 0&&(hi=!1),ci||ni._children.size!==0?((fi={})[Symbol.iterator]=function(){var mi=ci?ni:Qe(ni,ni,hi);return{next:function(){for(;mi&&di&&!di(mi);)mi=Qe(ni,mi,hi);if(mi===null)return{done:!0,value:null};var pi={done:!1,value:mi};return mi=Qe(ni,mi,hi),pi}}},fi):Je()}function ii(ni,ci,hi){ci===void 0&&(ci=!1);for(var di=ci?ni:ni._parent;di&&hi&&!hi(di);)di=di._parent;return di}function ri(ni,ci,hi,di){for(var fi=ci._parent;fi&&di&&!di(fi);)fi=fi._parent;return fi}function si(ni){return Ke.Guard.isDocumentTypeNode(ni)?0:Ke.Guard.isCharacterDataNode(ni)?ni._data.length:ni._children.size}function ui(ni,ci){if(ci===void 0&&(ci=!1),ci){var hi=ui(ni,!1);return Ke.Guard.isShadowRoot(hi)?ui(hi._host,!0):hi}return ni._parent?ui(ni._parent):ni}function ai(ni,ci,hi,di){hi===void 0&&(hi=!1),di===void 0&&(di=!1);for(var fi=hi?ni:di&&Ke.Guard.isShadowRoot(ni)?ni._host:ni._parent;fi!==null;){if(fi===ci)return!0;fi=di&&Ke.Guard.isShadowRoot(fi)?fi._host:fi._parent}return!1}function oi(ni){for(var ci=ui(ni),hi=0,di=St(ci);di!==null;){if(hi++,di===ni)return hi;di=ei(ci,di)}return-1}qe.tree_getFirstDescendantNode=St,qe.tree_getNextDescendantNode=ei,qe.tree_getDescendantNodes=ti,qe.tree_getDescendantElements=function(ni,ci,hi,di){var fi;return ci===void 0&&(ci=!1),hi===void 0&&(hi=!1),ci||ni._children.size!==0?((fi={})[Symbol.iterator]=function(){var mi=ti(ni,ci,hi,function(wi){return Ke.Guard.isElementNode(wi)})[Symbol.iterator](),pi=mi.next().value;return{next:function(){for(;pi&&di&&!di(pi);)pi=mi.next().value;if(pi===null)return{done:!0,value:null};var wi={done:!1,value:pi};return pi=mi.next().value,wi}}},fi):Je()},qe.tree_getSiblingNodes=function(ni,ci,hi){var di;return ci===void 0&&(ci=!1),ni._parent&&ni._parent._children.size!==0?((di={})[Symbol.iterator]=function(){var fi=ni._parent?ni._parent._firstChild:null;return{next:function(){for(;fi&&(hi&&!hi(fi)||!ci&&fi===ni);)fi=fi._nextSibling;if(fi===null)return{done:!0,value:null};var mi={done:!1,value:fi};return fi=fi._nextSibling,mi}}},di):Je()},qe.tree_getFirstAncestorNode=ii,qe.tree_getNextAncestorNode=ri,qe.tree_getAncestorNodes=function(ni,ci,hi){var di;return ci===void 0&&(ci=!1),ci||ni._parent?((di={})[Symbol.iterator]=function(){var fi=ii(ni,ci,hi);return{next:function(){if(fi===null)return{done:!0,value:null};var mi={done:!1,value:fi};return fi=ri(0,fi,ci,hi),mi}}},di):Je()},qe.tree_getCommonAncestor=function(ni,ci){if(ni===ci)return ni._parent;for(var hi=[],di=[],fi=ii(ni,!0);fi!==null;)hi.push(fi),fi=ri(0,fi);for(var mi=ii(ci,!0);mi!==null;)di.push(mi),mi=ri(0,mi);for(var pi=hi.length,wi=di.length,gi=null,yi=Math.min(pi,wi);yi>0;yi--){var Ai=hi[--pi];if(Ai!==di[--wi])break;gi=Ai}return gi},qe.tree_getFollowingNode=function(ni,ci){if(ci._firstChild)return ci._firstChild;if(ci._nextSibling)return ci._nextSibling;for(;;){var hi=ci._parent;if(hi===null||hi===ni)return null;if(hi._nextSibling)return hi._nextSibling;ci=hi}},qe.tree_getPrecedingNode=function(ni,ci){return ci===ni?null:ci._previousSibling?(ci=ci._previousSibling)._lastChild?ci._lastChild:ci:ci._parent},qe.tree_isConstrained=function ni(ci){var hi,di,fi,mi,pi,wi;switch(ci._nodeType){case Ze.NodeType.Document:var gi=!1,yi=!1;try{for(var Ai=Ye(ci._children),Si=Ai.next();!Si.done;Si=Ai.next())switch(Si.value._nodeType){case Ze.NodeType.ProcessingInstruction:case Ze.NodeType.Comment:break;case Ze.NodeType.DocumentType:if(gi||yi)return!1;gi=!0;break;case Ze.NodeType.Element:if(yi)return!1;yi=!0;break;default:return!1}}catch(Ri){hi={error:Ri}}finally{try{Si&&!Si.done&&(di=Ai.return)&&di.call(Ai)}finally{if(hi)throw hi.error}}break;case Ze.NodeType.DocumentFragment:case Ze.NodeType.Element:try{for(var ki=Ye(ci._children),Li=ki.next();!Li.done;Li=ki.next())switch(Li.value._nodeType){case Ze.NodeType.Element:case Ze.NodeType.Text:case Ze.NodeType.ProcessingInstruction:case Ze.NodeType.CData:case Ze.NodeType.Comment:break;default:return!1}}catch(Ri){fi={error:Ri}}finally{try{Li&&!Li.done&&(mi=ki.return)&&mi.call(ki)}finally{if(fi)throw fi.error}}break;case Ze.NodeType.DocumentType:case Ze.NodeType.Text:case Ze.NodeType.ProcessingInstruction:case Ze.NodeType.CData:case Ze.NodeType.Comment:return!ci.hasChildNodes()}try{for(var Bi=Ye(ci._children),Pi=Bi.next();!Pi.done;Pi=Bi.next())if(!ni(Pi.value))return!1}catch(Ri){pi={error:Ri}}finally{try{Pi&&!Pi.done&&(wi=Bi.return)&&wi.call(Bi)}finally{if(pi)throw pi.error}}return!0},qe.tree_nodeLength=si,qe.tree_isEmpty=function(ni){return si(ni)===0},qe.tree_rootNode=ui,qe.tree_isDescendantOf=function(ni,ci,hi,di){hi===void 0&&(hi=!1),di===void 0&&(di=!1);for(var fi=St(ni,hi,di);fi!==null;){if(fi===ci)return!0;fi=ei(ni,fi,hi,di)}return!1},qe.tree_isAncestorOf=ai,qe.tree_isHostIncludingAncestorOf=function ni(ci,hi,di){if(di===void 0&&(di=!1),ai(ci,hi,di))return!0;var fi=ui(ci);return!(!Ke.Guard.isDocumentFragmentNode(fi)||fi._host===null||!ni(fi._host,hi,di))},qe.tree_isSiblingOf=function(ni,ci,hi){return hi===void 0&&(hi=!1),ni!==ci?ni._parent!==null&&ni._parent===ci._parent:!!hi},qe.tree_isPreceding=function(ni,ci){var hi=oi(ni),di=oi(ci);return hi!==-1&&di!==-1&&ui(ni)===ui(ci)&&di<hi},qe.tree_isFollowing=function(ni,ci){var hi=oi(ni),di=oi(ci);return hi!==-1&&di!==-1&&ui(ni)===ui(ci)&&di>hi},qe.tree_isParentOf=function(ni,ci){return ni._parent===ci},qe.tree_isChildOf=function(ni,ci){return ci._parent===ni},qe.tree_previousSibling=function(ni){return ni._previousSibling},qe.tree_nextSibling=function(ni){return ni._nextSibling},qe.tree_firstChild=function(ni){return ni._firstChild},qe.tree_lastChild=function(ni){return ni._lastChild},qe.tree_treePosition=oi,qe.tree_index=function(ni){for(var ci=0;ni._previousSibling!==null;)ci++,ni=ni._previousSibling;return ci},qe.tree_retarget=function(ni,ci){for(;;){if(!ni||!Ke.Guard.isNode(ni))return ni;var hi=ui(ni);if(!Ke.Guard.isShadowRoot(hi)||ci&&Ke.Guard.isNode(ci)&&ai(hi,ci,!0,!0))return ni;ni=hi.host}}},function(ze,qe,Xe){var Ye=Xe(13);ze.exports=function(Ke){if(!Ye(Ke))throw TypeError(String(Ke)+" is not an object");return Ke}},function(ze,qe,Xe){var Ye=Xe(24),Ke=Xe(130),Ze=Xe(49),Qe=Xe(43),Je=Xe(88),St=Qe.set,ei=Qe.getterFor("Array Iterator");ze.exports=Je(Array,"Array",function(ti,ii){St(this,{type:"Array Iterator",target:Ye(ti),index:0,kind:ii})},function(){var ti=ei(this),ii=ti.target,ri=ti.kind,si=ti.index++;return!ii||si>=ii.length?(ti.target=void 0,{value:void 0,done:!0}):ri=="keys"?{value:si,done:!1}:ri=="values"?{value:ii[si],done:!1}:{value:[si,ii[si]],done:!1}},"values"),Ze.Arguments=Ze.Array,Ke("keys"),Ke("values"),Ke("entries")},function(ze,qe,Xe){var Ye=Xe(90),Ke=Xe(25),Ze=Xe(202);Ye||Ke(Object.prototype,"toString",Ze,{unsafe:!0})},function(ze,qe,Xe){var Ye=Xe(16),Ke=Xe(15),Ze=Xe(40);ze.exports=Ye?function(Qe,Je,St){return Ke.f(Qe,Je,Ze(1,St))}:function(Qe,Je,St){return Qe[Je]=St,Qe}},function(ze,qe,Xe){var Ye=Xe(137).charAt,Ke=Xe(43),Ze=Xe(88),Qe=Ke.set,Je=Ke.getterFor("String Iterator");Ze(String,"String",function(St){Qe(this,{type:"String Iterator",string:String(St),index:0})},function(){var St,ei=Je(this),ti=ei.string,ii=ei.index;return ii>=ti.length?{value:void 0,done:!0}:(St=Ye(ti,ii),ei.index+=St.length,{value:St,done:!1})})},function(ze,qe,Xe){var Ye=Xe(11),Ke=Xe(203),Ze=Xe(19),Qe=Xe(21),Je=Xe(5),St=Je("iterator"),ei=Je("toStringTag"),ti=Ze.values;for(var ii in Ke){var ri=Ye[ii],si=ri&&ri.prototype;if(si){if(si[St]!==ti)try{Qe(si,St,ti)}catch{si[St]=ti}if(si[ei]||Qe(si,ei,ii),Ke[ii]){for(var ui in Ze)if(si[ui]!==Ze[ui])try{Qe(si,ui,Ze[ui])}catch{si[ui]=Ze[ui]}}}}},function(ze,qe,Xe){var Ye=Xe(41),Ke=Xe(35);ze.exports=function(Ze){return Ye(Ke(Ze))}},function(ze,qe,Xe){var Ye=Xe(11),Ke=Xe(21),Ze=Xe(14),Qe=Xe(80),Je=Xe(117),St=Xe(43),ei=St.get,ti=St.enforce,ii=String(String).split("String");(ze.exports=function(ri,si,ui,ai){var oi=!!ai&&!!ai.unsafe,ni=!!ai&&!!ai.enumerable,ci=!!ai&&!!ai.noTargetGet;typeof ui=="function"&&(typeof si!="string"||Ze(ui,"name")||Ke(ui,"name",si),ti(ui).source=ii.join(typeof si=="string"?si:"")),ri!==Ye?(oi?!ci&&ri[si]&&(ni=!0):delete ri[si],ni?ri[si]=ui:Ke(ri,si,ui)):ni?ri[si]=ui:Qe(si,ui)})(Function.prototype,"toString",function(){return typeof this=="function"&&ei(this).source||Je(this)})},function(ze,qe,Xe){var Ye=Xe(47),Ke=Math.min;ze.exports=function(Ze){return Ze>0?Ke(Ye(Ze),9007199254740991):0}},function(ze,qe,Xe){var Ye=Xe(35);ze.exports=function(Ke){return Object(Ye(Ke))}},function(ze,qe,Xe){var Ye=Xe(16),Ke=Xe(8),Ze=Xe(14),Qe=Object.defineProperty,Je={},St=function(ei){throw ei};ze.exports=function(ei,ti){if(Ze(Je,ei))return Je[ei];ti||(ti={});var ii=[][ei],ri=!!Ze(ti,"ACCESSORS")&&ti.ACCESSORS,si=Ze(ti,0)?ti[0]:St,ui=Ze(ti,1)?ti[1]:void 0;return Je[ei]=!!ii&&!Ke(function(){if(ri&&!Ye)return!0;var ai={length:-1};ri?Qe(ai,1,{enumerable:!0,get:St}):ai[1]=1,ii.call(ai,si,ui)})}},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=Xe(148),Ke=Xe(149),Ze=Xe(151),Qe=Xe(98),Je=Xe(153),St=Xe(154),ei=Xe(155),ti=Xe(99),ii=Xe(100),ri=Xe(156),si=Xe(157),ui=Xe(101),ai=Xe(158),oi=Xe(159),ni=Xe(160),ci=Xe(161),hi=Xe(162),di=Xe(163),fi=Xe(164),mi=Xe(165),pi=Xe(166),wi=Xe(167),gi=Xe(168),yi=Xe(169),Ai=Xe(170);qe.create_domImplementation=function(Si){return Ye.DOMImplementationImpl._create(Si)},qe.create_window=function(){return Ke.WindowImpl._create()},qe.create_xmlDocument=function(){return new Ze.XMLDocumentImpl},qe.create_document=function(){return new Qe.DocumentImpl},qe.create_abortController=function(){return new Je.AbortControllerImpl},qe.create_abortSignal=function(){return St.AbortSignalImpl._create()},qe.create_documentType=function(Si,ki,Li,Bi){return ei.DocumentTypeImpl._create(Si,ki,Li,Bi)},qe.create_element=function(Si,ki,Li,Bi){return ti.ElementImpl._create(Si,ki,Li,Bi)},qe.create_htmlElement=function(Si,ki,Li,Bi){return ti.ElementImpl._create(Si,ki,Li,Bi)},qe.create_htmlUnknownElement=function(Si,ki,Li,Bi){return ti.ElementImpl._create(Si,ki,Li,Bi)},qe.create_documentFragment=function(Si){return ii.DocumentFragmentImpl._create(Si)},qe.create_shadowRoot=function(Si,ki){return ri.ShadowRootImpl._create(Si,ki)},qe.create_attr=function(Si,ki){return si.AttrImpl._create(Si,ki)},qe.create_text=function(Si,ki){return ui.TextImpl._create(Si,ki)},qe.create_cdataSection=function(Si,ki){return ai.CDATASectionImpl._create(Si,ki)},qe.create_comment=function(Si,ki){return oi.CommentImpl._create(Si,ki)},qe.create_processingInstruction=function(Si,ki,Li){return ni.ProcessingInstructionImpl._create(Si,ki,Li)},qe.create_htmlCollection=function(Si,ki){return ki===void 0&&(ki=function(){return!0}),ci.HTMLCollectionImpl._create(Si,ki)},qe.create_nodeList=function(Si){return hi.NodeListImpl._create(Si)},qe.create_nodeListStatic=function(Si,ki){return di.NodeListStaticImpl._create(Si,ki)},qe.create_namedNodeMap=function(Si){return fi.NamedNodeMapImpl._create(Si)},qe.create_range=function(Si,ki){return mi.RangeImpl._create(Si,ki)},qe.create_nodeIterator=function(Si,ki,Li){return pi.NodeIteratorImpl._create(Si,ki,Li)},qe.create_treeWalker=function(Si,ki){return wi.TreeWalkerImpl._create(Si,ki)},qe.create_nodeFilter=function(){return gi.NodeFilterImpl._create()},qe.create_mutationRecord=function(Si,ki,Li,Bi,Pi,Ri,Fi,Gi,Ti){return yi.MutationRecordImpl._create(Si,ki,Li,Bi,Pi,Ri,Fi,Gi,Ti)},qe.create_domTokenList=function(Si,ki){return Ai.DOMTokenListImpl._create(Si,ki)}},function(ze,qe,Xe){var Ye=this&&this.__values||function(si){var ui=typeof Symbol=="function"&&Symbol.iterator,ai=ui&&si[ui],oi=0;if(ai)return ai.call(si);if(si&&typeof si.length=="number")return{next:function(){return si&&oi>=si.length&&(si=void 0),{value:si&&si[oi++],done:!si}}};throw new TypeError(ui?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(qe,"__esModule",{value:!0});var Ke=Xe(6),Ze=Xe(17),Qe=Xe(3),Je=Xe(72),St=new Map;function ei(si,ui){if(ui!==si._root&&Ze.tree_isAncestorOf(si._reference,ui,!0)){if(si._pointerBeforeReference)for(;;){var ai=Ze.tree_getFollowingNode(si._root,ui);if(ai!==null&&Ze.tree_isDescendantOf(si._root,ai,!0)&&!Ze.tree_isDescendantOf(ui,ai,!0))return void(si._reference=ai);if(ai===null)return void(si._pointerBeforeReference=!1)}if(ui._previousSibling===null)ui._parent!==null&&(si._reference=ui._parent);else{for(var oi=ui._previousSibling,ni=Ze.tree_getFirstDescendantNode(ui._previousSibling,!0,!1);ni!==null;)ni!==null&&(oi=ni),ni=Ze.tree_getNextDescendantNode(ui._previousSibling,ni,!0,!1);si._reference=oi}}}function ti(si,ui,ai,oi,ni){if(Qe.Guard.isSlot(si)&&ui==="name"&&ni===null){if(oi===ai||oi===null&&ai===""||oi===""&&ai===null)return;si._name=oi===null||oi===""?"":oi,Je.shadowTree_assignSlotablesForATree(Ze.tree_rootNode(si))}}function ii(si,ui,ai,oi,ni){if(Qe.Guard.isSlotable(si)&&ui==="slot"&&ni===null){if(oi===ai||oi===null&&ai===""||oi===""&&ai===null)return;si._name=oi===null||oi===""?"":oi,Je.shadowTree_isAssigned(si)&&Je.shadowTree_assignSlotables(si._assignedSlot),Je.shadowTree_assignASlot(si)}}function ri(si,ui,ai,oi){ui==="id"&&oi===null&&(si._uniqueIdentifier=ai||void 0)}qe.dom_runRemovingSteps=function(si,ui){},qe.dom_runCloningSteps=function(si,ui,ai,oi){},qe.dom_runAdoptingSteps=function(si,ui){},qe.dom_runAttributeChangeSteps=function(si,ui,ai,oi,ni){var ci,hi;Ke.dom.features.slots&&(ii.call(si,si,ui,ai,oi,ni),ti.call(si,si,ui,ai,oi,ni)),ri.call(si,si,ui,oi,ni);try{for(var di=Ye(si._attributeChangeSteps),fi=di.next();!fi.done;fi=di.next())fi.value.call(si,si,ui,ai,oi,ni)}catch(mi){ci={error:mi}}finally{try{fi&&!fi.done&&(hi=di.return)&&hi.call(di)}finally{if(ci)throw ci.error}}},qe.dom_runInsertionSteps=function(si){},qe.dom_runNodeIteratorPreRemovingSteps=function(si,ui){ei.call(si,si,ui)},qe.dom_hasSupportedTokens=function(si){return St.has(si)},qe.dom_getSupportedTokens=function(si){return St.get(si)||new Set},qe.dom_runEventConstructingSteps=function(si){},qe.dom_runChildTextContentChangeSteps=function(si){}},function(ze,qe,Xe){var Ye=Xe(4),Ke=Xe(11),Ze=Xe(46),Qe=Xe(44),Je=Xe(16),St=Xe(86),ei=Xe(124),ti=Xe(8),ii=Xe(14),ri=Xe(59),si=Xe(13),ui=Xe(18),ai=Xe(27),oi=Xe(24),ni=Xe(56),ci=Xe(40),hi=Xe(60),di=Xe(61),fi=Xe(82),mi=Xe(190),pi=Xe(85),wi=Xe(55),gi=Xe(15),yi=Xe(79),Ai=Xe(21),Si=Xe(25),ki=Xe(81),Li=Xe(57),Bi=Xe(45),Pi=Xe(58),Ri=Xe(5),Fi=Xe(125),Gi=Xe(126),Ti=Xe(62),Vi=Xe(43),Ui=Xe(36).forEach,$i=Li("hidden"),Wi=Ri("toPrimitive"),tn=Vi.set,nn=Vi.getterFor("Symbol"),Qi=Object.prototype,Ei=Ke.Symbol,bi=Ze("JSON","stringify"),Ci=wi.f,_i=gi.f,Ii=mi.f,Ni=yi.f,Di=ki("symbols"),Ki=ki("op-symbols"),sn=ki("string-to-symbol-registry"),zi=ki("symbol-to-string-registry"),on=ki("wks"),cn=Ke.QObject,mn=!cn||!cn.prototype||!cn.prototype.findChild,dn=Je&&ti(function(){return hi(_i({},"a",{get:function(){return _i(this,"a",{value:7}).a}})).a!=7})?function(Cn,Ln,Nn){var Fn=Ci(Qi,Ln);Fn&&delete Qi[Ln],_i(Cn,Ln,Nn),Fn&&Cn!==Qi&&_i(Qi,Ln,Fn)}:_i,An=function(Cn,Ln){var Nn=Di[Cn]=hi(Ei.prototype);return tn(Nn,{type:"Symbol",tag:Cn,description:Ln}),Je||(Nn.description=Ln),Nn},pn=ei?function(Cn){return typeof Cn=="symbol"}:function(Cn){return Object(Cn)instanceof Ei},Mn=function(Cn,Ln,Nn){Cn===Qi&&Mn(Ki,Ln,Nn),ui(Cn);var Fn=ni(Ln,!0);return ui(Nn),ii(Di,Fn)?(Nn.enumerable?(ii(Cn,$i)&&Cn[$i][Fn]&&(Cn[$i][Fn]=!1),Nn=hi(Nn,{enumerable:ci(0,!1)})):(ii(Cn,$i)||_i(Cn,$i,ci(1,{})),Cn[$i][Fn]=!0),dn(Cn,Fn,Nn)):_i(Cn,Fn,Nn)},Hi=function(Cn,Ln){ui(Cn);var Nn=oi(Ln),Fn=di(Nn).concat(an(Nn));return Ui(Fn,function(Hn){Je&&!On.call(Nn,Hn)||Mn(Cn,Hn,Nn[Hn])}),Cn},On=function(Cn){var Ln=ni(Cn,!0),Nn=Ni.call(this,Ln);return!(this===Qi&&ii(Di,Ln)&&!ii(Ki,Ln))&&(!(Nn||!ii(this,Ln)||!ii(Di,Ln)||ii(this,$i)&&this[$i][Ln])||Nn)},wn=function(Cn,Ln){var Nn=oi(Cn),Fn=ni(Ln,!0);if(Nn!==Qi||!ii(Di,Fn)||ii(Ki,Fn)){var Hn=Ci(Nn,Fn);return!Hn||!ii(Di,Fn)||ii(Nn,$i)&&Nn[$i][Fn]||(Hn.enumerable=!0),Hn}},_n=function(Cn){var Ln=Ii(oi(Cn)),Nn=[];return Ui(Ln,function(Fn){ii(Di,Fn)||ii(Bi,Fn)||Nn.push(Fn)}),Nn},an=function(Cn){var Ln=Cn===Qi,Nn=Ii(Ln?Ki:oi(Cn)),Fn=[];return Ui(Nn,function(Hn){!ii(Di,Hn)||Ln&&!ii(Qi,Hn)||Fn.push(Di[Hn])}),Fn};St||(Si((Ei=function(){if(this instanceof Ei)throw TypeError("Symbol is not a constructor");var Cn=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,Ln=Pi(Cn),Nn=function(Fn){this===Qi&&Nn.call(Ki,Fn),ii(this,$i)&&ii(this[$i],Ln)&&(this[$i][Ln]=!1),dn(this,Ln,ci(1,Fn))};return Je&&mn&&dn(Qi,Ln,{configurable:!0,set:Nn}),An(Ln,Cn)}).prototype,"toString",function(){return nn(this).tag}),Si(Ei,"withoutSetter",function(Cn){return An(Pi(Cn),Cn)}),yi.f=On,gi.f=Mn,wi.f=wn,fi.f=mi.f=_n,pi.f=an,Fi.f=function(Cn){return An(Ri(Cn),Cn)},Je&&(_i(Ei.prototype,"description",{configurable:!0,get:function(){return nn(this).description}}),Qe||Si(Qi,"propertyIsEnumerable",On,{unsafe:!0}))),Ye({global:!0,wrap:!0,forced:!St,sham:!St},{Symbol:Ei}),Ui(di(on),function(Cn){Gi(Cn)}),Ye({target:"Symbol",stat:!0,forced:!St},{for:function(Cn){var Ln=String(Cn);if(ii(sn,Ln))return sn[Ln];var Nn=Ei(Ln);return sn[Ln]=Nn,zi[Nn]=Ln,Nn},keyFor:function(Cn){if(!pn(Cn))throw TypeError(Cn+" is not a symbol");if(ii(zi,Cn))return zi[Cn]},useSetter:function(){mn=!0},useSimple:function(){mn=!1}}),Ye({target:"Object",stat:!0,forced:!St,sham:!Je},{create:function(Cn,Ln){return Ln===void 0?hi(Cn):Hi(hi(Cn),Ln)},defineProperty:Mn,defineProperties:Hi,getOwnPropertyDescriptor:wn}),Ye({target:"Object",stat:!0,forced:!St},{getOwnPropertyNames:_n,getOwnPropertySymbols:an}),Ye({target:"Object",stat:!0,forced:ti(function(){pi.f(1)})},{getOwnPropertySymbols:function(Cn){return pi.f(ai(Cn))}}),bi&&Ye({target:"JSON",stat:!0,forced:!St||ti(function(){var Cn=Ei();return bi([Cn])!="[null]"||bi({a:Cn})!="{}"||bi(Object(Cn))!="{}"})},{stringify:function(Cn,Ln,Nn){for(var Fn,Hn=[Cn],zn=1;arguments.length>zn;)Hn.push(arguments[zn++]);if(Fn=Ln,(si(Ln)||Cn!==void 0)&&!pn(Cn))return ri(Ln)||(Ln=function(Xn,tr){if(typeof Fn=="function"&&(tr=Fn.call(this,Xn,tr)),!pn(tr))return tr}),Hn[1]=Ln,bi.apply(null,Hn)}}),Ei.prototype[Wi]||Ai(Ei.prototype,Wi,Ei.prototype.valueOf),Ti(Ei,"Symbol"),Bi[$i]=!0},function(ze,qe,Xe){var Ye=Xe(4),Ke=Xe(16),Ze=Xe(11),Qe=Xe(14),Je=Xe(13),St=Xe(15).f,ei=Xe(119),ti=Ze.Symbol;if(Ke&&typeof ti=="function"&&(!("description"in ti.prototype)||ti().description!==void 0)){var ii={},ri=function(){var ni=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),ci=this instanceof ri?new ti(ni):ni===void 0?ti():ti(ni);return ni===""&&(ii[ci]=!0),ci};ei(ri,ti);var si=ri.prototype=ti.prototype;si.constructor=ri;var ui=si.toString,ai=String(ti("test"))=="Symbol(test)",oi=/^Symbol\((.*)\)[^)]+$/;St(si,"description",{configurable:!0,get:function(){var ni=Je(this)?this.valueOf():this,ci=ui.call(ni);if(Qe(ii,ni))return"";var hi=ai?ci.slice(7,-1):ci.replace(oi,"$1");return hi===""?void 0:hi}}),Ye({global:!0,forced:!0},{Symbol:ri})}},function(ze,qe,Xe){Xe(126)("iterator")},function(ze,qe,Xe){var Ye,Ke=this&&this.__extends||(Ye=function(ai,oi){return(Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ni,ci){ni.__proto__=ci}||function(ni,ci){for(var hi in ci)ci.hasOwnProperty(hi)&&(ni[hi]=ci[hi])})(ai,oi)},function(ai,oi){function ni(){this.constructor=ai}Ye(ai,oi),ai.prototype=oi===null?Object.create(oi):(ni.prototype=oi.prototype,new ni)}),Ze=this&&this.__values||function(ai){var oi=typeof Symbol=="function"&&Symbol.iterator,ni=oi&&ai[oi],ci=0;if(ni)return ni.call(ai);if(ai&&typeof ai.length=="number")return{next:function(){return ai&&ci>=ai.length&&(ai=void 0),{value:ai&&ai[ci++],done:!ai}}};throw new TypeError(oi?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(qe,"__esModule",{value:!0});var Qe=Xe(6),Je=Xe(1),St=Xe(70),ei=Xe(3),ti=Xe(9),ii=Xe(0),ri=Xe(152),si=Xe(12),ui=function(ai){function oi(){var ni=ai.call(this)||this;return ni._parent=null,ni._firstChild=null,ni._lastChild=null,ni._previousSibling=null,ni._nextSibling=null,ni}return Ke(oi,ai),Object.defineProperty(oi.prototype,"_childNodes",{get:function(){return this.__childNodes||(this.__childNodes=ii.create_nodeList(this))},enumerable:!0,configurable:!0}),Object.defineProperty(oi.prototype,"_nodeDocument",{get:function(){return this._nodeDocumentOverride||Qe.dom.window._associatedDocument},set:function(ni){this._nodeDocumentOverride=ni},enumerable:!0,configurable:!0}),Object.defineProperty(oi.prototype,"_registeredObserverList",{get:function(){return this.__registeredObserverList||(this.__registeredObserverList=[])},enumerable:!0,configurable:!0}),Object.defineProperty(oi.prototype,"nodeType",{get:function(){return this._nodeType},enumerable:!0,configurable:!0}),Object.defineProperty(oi.prototype,"nodeName",{get:function(){return ei.Guard.isElementNode(this)?this._htmlUppercasedQualifiedName:ei.Guard.isAttrNode(this)?this._qualifiedName:ei.Guard.isExclusiveTextNode(this)?"#text":ei.Guard.isCDATASectionNode(this)?"#cdata-section":ei.Guard.isProcessingInstructionNode(this)?this._target:ei.Guard.isCommentNode(this)?"#comment":ei.Guard.isDocumentNode(this)?"#document":ei.Guard.isDocumentTypeNode(this)?this._name:ei.Guard.isDocumentFragmentNode(this)?"#document-fragment":""},enumerable:!0,configurable:!0}),Object.defineProperty(oi.prototype,"baseURI",{get:function(){return ri.urlSerializer(this._nodeDocument._URL)},enumerable:!0,configurable:!0}),Object.defineProperty(oi.prototype,"isConnected",{get:function(){return ei.Guard.isElementNode(this)&&ii.shadowTree_isConnected(this)},enumerable:!0,configurable:!0}),Object.defineProperty(oi.prototype,"ownerDocument",{get:function(){return this._nodeType===Je.NodeType.Document?null:this._nodeDocument},enumerable:!0,configurable:!0}),oi.prototype.getRootNode=function(ni){return ii.tree_rootNode(this,!!ni&&ni.composed)},Object.defineProperty(oi.prototype,"parentNode",{get:function(){return this._nodeType===Je.NodeType.Attribute?null:this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(oi.prototype,"parentElement",{get:function(){return this._parent&&ei.Guard.isElementNode(this._parent)?this._parent:null},enumerable:!0,configurable:!0}),oi.prototype.hasChildNodes=function(){return this._firstChild!==null},Object.defineProperty(oi.prototype,"childNodes",{get:function(){return this._childNodes},enumerable:!0,configurable:!0}),Object.defineProperty(oi.prototype,"firstChild",{get:function(){return this._firstChild},enumerable:!0,configurable:!0}),Object.defineProperty(oi.prototype,"lastChild",{get:function(){return this._lastChild},enumerable:!0,configurable:!0}),Object.defineProperty(oi.prototype,"previousSibling",{get:function(){return this._previousSibling},enumerable:!0,configurable:!0}),Object.defineProperty(oi.prototype,"nextSibling",{get:function(){return this._nextSibling},enumerable:!0,configurable:!0}),Object.defineProperty(oi.prototype,"nodeValue",{get:function(){return ei.Guard.isAttrNode(this)?this._value:ei.Guard.isCharacterDataNode(this)?this._data:null},set:function(ni){ni===null&&(ni=""),ei.Guard.isAttrNode(this)?ii.attr_setAnExistingAttributeValue(this,ni):ei.Guard.isCharacterDataNode(this)&&ii.characterData_replaceData(this,0,this._data.length,ni)},enumerable:!0,configurable:!0}),Object.defineProperty(oi.prototype,"textContent",{get:function(){return ei.Guard.isDocumentFragmentNode(this)||ei.Guard.isElementNode(this)?ii.text_descendantTextContent(this):ei.Guard.isAttrNode(this)?this._value:ei.Guard.isCharacterDataNode(this)?this._data:null},set:function(ni){ni===null&&(ni=""),ei.Guard.isDocumentFragmentNode(this)||ei.Guard.isElementNode(this)?ii.node_stringReplaceAll(ni,this):ei.Guard.isAttrNode(this)?ii.attr_setAnExistingAttributeValue(this,ni):ei.Guard.isCharacterDataNode(this)&&ii.characterData_replaceData(this,0,ii.tree_nodeLength(this),ni)},enumerable:!0,configurable:!0}),oi.prototype.normalize=function(){for(var ni,ci,hi,di,fi=[],mi=ii.tree_getFirstDescendantNode(this,!1,!1,function(Ui){return ei.Guard.isExclusiveTextNode(Ui)});mi!==null;)fi.push(mi),mi=ii.tree_getNextDescendantNode(this,mi,!1,!1,function(Ui){return ei.Guard.isExclusiveTextNode(Ui)});for(var pi=0;pi<fi.length;pi++){var wi=fi[pi];if(wi._parent!==null){var gi=ii.tree_nodeLength(wi);if(gi!==0){var yi=[],Ai="";try{for(var Si=(ni=void 0,Ze(ii.text_contiguousExclusiveTextNodes(wi))),ki=Si.next();!ki.done;ki=Si.next()){var Li=ki.value;yi.push(Li),Ai+=Li._data}}catch(Ui){ni={error:Ui}}finally{try{ki&&!ki.done&&(ci=Si.return)&&ci.call(Si)}finally{if(ni)throw ni.error}}if(ii.characterData_replaceData(wi,gi,0,Ai),Qe.dom.rangeList.size!==0)for(var Bi=wi._nextSibling;Bi!==null&&ei.Guard.isExclusiveTextNode(Bi);){var Pi=Bi,Ri=ii.tree_index(Pi);try{for(var Fi=(hi=void 0,Ze(Qe.dom.rangeList)),Gi=Fi.next();!Gi.done;Gi=Fi.next()){var Ti=Gi.value;Ti._start[0]===Pi&&(Ti._start[0]=wi,Ti._start[1]+=gi),Ti._end[0]===Pi&&(Ti._end[0]=wi,Ti._end[1]+=gi),Ti._start[0]===Pi._parent&&Ti._start[1]===Ri&&(Ti._start[0]=wi,Ti._start[1]=gi),Ti._end[0]===Pi._parent&&Ti._end[1]===Ri&&(Ti._end[0]=wi,Ti._end[1]=gi)}}catch(Ui){hi={error:Ui}}finally{try{Gi&&!Gi.done&&(di=Fi.return)&&di.call(Fi)}finally{if(hi)throw hi.error}}gi+=ii.tree_nodeLength(Bi),Bi=Bi._nextSibling}for(var Vi=0;Vi<yi.length;Vi++)(Li=yi[Vi])._parent!==null&&ii.mutation_remove(Li,Li._parent)}else ii.mutation_remove(wi,wi._parent)}}},oi.prototype.cloneNode=function(ni){if(ni===void 0&&(ni=!1),ei.Guard.isShadowRoot(this))throw new ti.NotSupportedError;return ii.node_clone(this,null,ni)},oi.prototype.isEqualNode=function(ni){return ni===void 0&&(ni=null),ni!==null&&ii.node_equals(this,ni)},oi.prototype.isSameNode=function(ni){return ni===void 0&&(ni=null),this===ni},oi.prototype.compareDocumentPosition=function(ni){if(ni===this)return 0;var ci=ni,hi=this,di=null,fi=null;if(ei.Guard.isAttrNode(ci)&&(ci=(di=ci)._element),ei.Guard.isAttrNode(hi)&&(hi=(fi=hi)._element,di&&ci&&ci===hi))for(var mi=0;mi<hi._attributeList.length;mi++){var pi=hi._attributeList[mi];if(ii.node_equals(pi,di))return Je.Position.ImplementationSpecific|Je.Position.Preceding;if(ii.node_equals(pi,fi))return Je.Position.ImplementationSpecific|Je.Position.Following}return ci===null||hi===null||ii.tree_rootNode(ci)!==ii.tree_rootNode(hi)?Je.Position.Disconnected|Je.Position.ImplementationSpecific|(Qe.dom.compareCache.check(this,ni)?Je.Position.Preceding:Je.Position.Following):!di&&ii.tree_isAncestorOf(hi,ci)||fi&&ci===hi?Je.Position.Contains|Je.Position.Preceding:!fi&&ii.tree_isDescendantOf(hi,ci)||di&&ci===hi?Je.Position.ContainedBy|Je.Position.Following:ii.tree_isPreceding(hi,ci)?Je.Position.Preceding:Je.Position.Following},oi.prototype.contains=function(ni){return ni!==null&&ii.tree_isDescendantOf(this,ni,!0)},oi.prototype.lookupPrefix=function(ni){return ni?ei.Guard.isElementNode(this)?ii.node_locateANamespacePrefix(this,ni):ei.Guard.isDocumentNode(this)?this.documentElement===null?null:ii.node_locateANamespacePrefix(this.documentElement,ni):ei.Guard.isDocumentTypeNode(this)||ei.Guard.isDocumentFragmentNode(this)?null:ei.Guard.isAttrNode(this)?this._element===null?null:ii.node_locateANamespacePrefix(this._element,ni):this._parent!==null&&ei.Guard.isElementNode(this._parent)?ii.node_locateANamespacePrefix(this._parent,ni):null:null},oi.prototype.lookupNamespaceURI=function(ni){return ii.node_locateANamespace(this,ni||null)},oi.prototype.isDefaultNamespace=function(ni){return ni||(ni=null),ii.node_locateANamespace(this,null)===ni},oi.prototype.insertBefore=function(ni,ci){return ii.mutation_preInsert(ni,this,ci)},oi.prototype.appendChild=function(ni){return ii.mutation_append(ni,this)},oi.prototype.replaceChild=function(ni,ci){return ii.mutation_replace(ci,ni,this)},oi.prototype.removeChild=function(ni){return ii.mutation_preRemove(ni,this)},oi.prototype._getTheParent=function(ni){return ei.Guard.isSlotable(this)&&ii.shadowTree_isAssigned(this)?this._assignedSlot:this._parent},oi.ELEMENT_NODE=1,oi.ATTRIBUTE_NODE=2,oi.TEXT_NODE=3,oi.CDATA_SECTION_NODE=4,oi.ENTITY_REFERENCE_NODE=5,oi.ENTITY_NODE=6,oi.PROCESSING_INSTRUCTION_NODE=7,oi.COMMENT_NODE=8,oi.DOCUMENT_NODE=9,oi.DOCUMENT_TYPE_NODE=10,oi.DOCUMENT_FRAGMENT_NODE=11,oi.NOTATION_NODE=12,oi.DOCUMENT_POSITION_DISCONNECTED=1,oi.DOCUMENT_POSITION_PRECEDING=2,oi.DOCUMENT_POSITION_FOLLOWING=4,oi.DOCUMENT_POSITION_CONTAINS=8,oi.DOCUMENT_POSITION_CONTAINED_BY=16,oi.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32,oi}(St.EventTargetImpl);qe.NodeImpl=ui,ui.prototype._children=new ei.EmptySet,si.idl_defineConst(ui.prototype,"ELEMENT_NODE",1),si.idl_defineConst(ui.prototype,"ATTRIBUTE_NODE",2),si.idl_defineConst(ui.prototype,"TEXT_NODE",3),si.idl_defineConst(ui.prototype,"CDATA_SECTION_NODE",4),si.idl_defineConst(ui.prototype,"ENTITY_REFERENCE_NODE",5),si.idl_defineConst(ui.prototype,"ENTITY_NODE",6),si.idl_defineConst(ui.prototype,"PROCESSING_INSTRUCTION_NODE",7),si.idl_defineConst(ui.prototype,"COMMENT_NODE",8),si.idl_defineConst(ui.prototype,"DOCUMENT_NODE",9),si.idl_defineConst(ui.prototype,"DOCUMENT_TYPE_NODE",10),si.idl_defineConst(ui.prototype,"DOCUMENT_FRAGMENT_NODE",11),si.idl_defineConst(ui.prototype,"NOTATION_NODE",12),si.idl_defineConst(ui.prototype,"DOCUMENT_POSITION_DISCONNECTED",1),si.idl_defineConst(ui.prototype,"DOCUMENT_POSITION_PRECEDING",2),si.idl_defineConst(ui.prototype,"DOCUMENT_POSITION_FOLLOWING",4),si.idl_defineConst(ui.prototype,"DOCUMENT_POSITION_CONTAINS",8),si.idl_defineConst(ui.prototype,"DOCUMENT_POSITION_CONTAINED_BY",16),si.idl_defineConst(ui.prototype,"DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC",32)},function(ze,qe){ze.exports=function(Xe){if(Xe==null)throw TypeError("Can't call method on "+Xe);return Xe}},function(ze,qe,Xe){var Ye=Xe(87),Ke=Xe(41),Ze=Xe(27),Qe=Xe(26),Je=Xe(128),St=[].push,ei=function(ti){var ii=ti==1,ri=ti==2,si=ti==3,ui=ti==4,ai=ti==6,oi=ti==5||ai;return function(ni,ci,hi,di){for(var fi,mi,pi=Ze(ni),wi=Ke(pi),gi=Ye(ci,hi,3),yi=Qe(wi.length),Ai=0,Si=di||Je,ki=ii?Si(ni,yi):ri?Si(ni,0):void 0;yi>Ai;Ai++)if((oi||Ai in wi)&&(mi=gi(fi=wi[Ai],Ai,pi),ti)){if(ii)ki[Ai]=mi;else if(mi)switch(ti){case 3:return!0;case 5:return fi;case 6:return Ai;case 2:St.call(ki,fi)}else if(ui)return!1}return ai?-1:si||ui?ui:ki}};ze.exports={forEach:ei(0),map:ei(1),filter:ei(2),some:ei(3),every:ei(4),find:ei(5),findIndex:ei(6)}},function(ze,qe,Xe){var Ye=this&&this.__values||function(pi){var wi=typeof Symbol=="function"&&Symbol.iterator,gi=wi&&pi[wi],yi=0;if(gi)return gi.call(pi);if(pi&&typeof pi.length=="number")return{next:function(){return pi&&yi>=pi.length&&(pi=void 0),{value:pi&&pi[yi++],done:!pi}}};throw new TypeError(wi?"Object is not iterable.":"Symbol.iterator is not defined.")},Ke=this&&this.__read||function(pi,wi){var gi=typeof Symbol=="function"&&pi[Symbol.iterator];if(!gi)return pi;var yi,Ai,Si=gi.call(pi),ki=[];try{for(;(wi===void 0||wi-- >0)&&!(yi=Si.next()).done;)ki.push(yi.value)}catch(Li){Ai={error:Li}}finally{try{yi&&!yi.done&&(gi=Si.return)&&gi.call(Si)}finally{if(Ai)throw Ai.error}}return ki},Ze=this&&this.__spread||function(){for(var pi=[],wi=0;wi<arguments.length;wi++)pi=pi.concat(Ke(arguments[wi]));return pi};Object.defineProperty(qe,"__esModule",{value:!0});var Qe=Xe(6),Je=Xe(9),St=Xe(1),ei=Xe(3),ti=Xe(2),ii=Xe(7),ri=Xe(73),si=Xe(17),ui=Xe(172),ai=Xe(72),oi=Xe(51),ni=Xe(30),ci=Xe(106);function hi(pi,wi,gi){var yi,Ai,Si,ki,Li,Bi,Pi,Ri,Fi=wi._nodeType,Gi=pi._nodeType,Ti=gi?gi._nodeType:null;if(Fi!==St.NodeType.Document&&Fi!==St.NodeType.DocumentFragment&&Fi!==St.NodeType.Element)throw new Je.HierarchyRequestError("Only document, document fragment and element nodes can contain child nodes. Parent node is "+wi.nodeName+".");if(si.tree_isHostIncludingAncestorOf(wi,pi,!0))throw new Je.HierarchyRequestError("The node to be inserted cannot be an inclusive ancestor of parent node. Node is "+pi.nodeName+", parent node is "+wi.nodeName+".");if(gi!==null&&gi._parent!==wi)throw new Je.NotFoundError("The reference child node cannot be found under parent node. Child node is "+gi.nodeName+", parent node is "+wi.nodeName+".");if(Gi!==St.NodeType.DocumentFragment&&Gi!==St.NodeType.DocumentType&&Gi!==St.NodeType.Element&&Gi!==St.NodeType.Text&&Gi!==St.NodeType.ProcessingInstruction&&Gi!==St.NodeType.CData&&Gi!==St.NodeType.Comment)throw new Je.HierarchyRequestError("Only document fragment, document type, element, text, processing instruction, cdata section or comment nodes can be inserted. Node is "+pi.nodeName+".");if(Gi===St.NodeType.Text&&Fi===St.NodeType.Document)throw new Je.HierarchyRequestError("Cannot insert a text node as a child of a document node. Node is "+pi.nodeName+".");if(Gi===St.NodeType.DocumentType&&Fi!==St.NodeType.Document)throw new Je.HierarchyRequestError("A document type node can only be inserted under a document node. Parent node is "+wi.nodeName+".");if(Fi===St.NodeType.Document){if(Gi===St.NodeType.DocumentFragment){var Vi=0;try{for(var Ui=Ye(pi._children),$i=Ui.next();!$i.done;$i=Ui.next()){var Wi=$i.value;if(Wi._nodeType===St.NodeType.Element)Vi++;else if(Wi._nodeType===St.NodeType.Text)throw new Je.HierarchyRequestError("Cannot insert text a node as a child of a document node. Node is "+Wi.nodeName+".")}}catch(Ni){yi={error:Ni}}finally{try{$i&&!$i.done&&(Ai=Ui.return)&&Ai.call(Ui)}finally{if(yi)throw yi.error}}if(Vi>1)throw new Je.HierarchyRequestError("A document node can only have one document element node. Document fragment to be inserted has "+Vi+" element nodes.");if(Vi===1){try{for(var tn=Ye(wi._children),nn=tn.next();!nn.done;nn=tn.next())if(nn.value._nodeType===St.NodeType.Element)throw new Je.HierarchyRequestError("The document node already has a document element node.")}catch(Ni){Si={error:Ni}}finally{try{nn&&!nn.done&&(ki=tn.return)&&ki.call(tn)}finally{if(Si)throw Si.error}}if(gi){if(Ti===St.NodeType.DocumentType)throw new Je.HierarchyRequestError("Cannot insert an element node before a document type node.");for(var Qi=gi._nextSibling;Qi;){if(Qi._nodeType===St.NodeType.DocumentType)throw new Je.HierarchyRequestError("Cannot insert an element node before a document type node.");Qi=Qi._nextSibling}}}}else if(Gi===St.NodeType.Element){try{for(var Ei=Ye(wi._children),bi=Ei.next();!bi.done;bi=Ei.next())if(bi.value._nodeType===St.NodeType.Element)throw new Je.HierarchyRequestError("Document already has a document element node. Node is "+pi.nodeName+".")}catch(Ni){Li={error:Ni}}finally{try{bi&&!bi.done&&(Bi=Ei.return)&&Bi.call(Ei)}finally{if(Li)throw Li.error}}if(gi){if(Ti===St.NodeType.DocumentType)throw new Je.HierarchyRequestError("Cannot insert an element node before a document type node. Node is "+pi.nodeName+".");for(Qi=gi._nextSibling;Qi;){if(Qi._nodeType===St.NodeType.DocumentType)throw new Je.HierarchyRequestError("Cannot insert an element node before a document type node. Node is "+pi.nodeName+".");Qi=Qi._nextSibling}}}else if(Gi===St.NodeType.DocumentType){try{for(var Ci=Ye(wi._children),_i=Ci.next();!_i.done;_i=Ci.next())if(_i.value._nodeType===St.NodeType.DocumentType)throw new Je.HierarchyRequestError("Document already has a document type node. Node is "+pi.nodeName+".")}catch(Ni){Pi={error:Ni}}finally{try{_i&&!_i.done&&(Ri=Ci.return)&&Ri.call(Ci)}finally{if(Pi)throw Pi.error}}if(gi)for(var Ii=gi._previousSibling;Ii;){if(Ii._nodeType===St.NodeType.Element)throw new Je.HierarchyRequestError("Cannot insert a document type node before an element node. Node is "+pi.nodeName+".");Ii=Ii._previousSibling}else for(Ii=wi._firstChild;Ii;){if(Ii._nodeType===St.NodeType.Element)throw new Je.HierarchyRequestError("Cannot insert a document type node before an element node. Node is "+pi.nodeName+".");Ii=Ii._nextSibling}}}}function di(pi,wi,gi){hi(pi,wi,gi);var yi=gi;return yi===pi&&(yi=pi._nextSibling),ci.document_adopt(pi,wi._nodeDocument),fi(pi,wi,yi),pi}function fi(pi,wi,gi,yi){var Ai,Si;if(gi!==null||pi._nodeType===St.NodeType.DocumentFragment){var ki=pi._nodeType===St.NodeType.DocumentFragment?pi._children.size:1;if(gi!==null&&Qe.dom.rangeList.size!==0){var Li=si.tree_index(gi);try{for(var Bi=Ye(Qe.dom.rangeList),Pi=Bi.next();!Pi.done;Pi=Bi.next()){var Ri=Pi.value;Ri._start[0]===wi&&Ri._start[1]>Li&&(Ri._start[1]+=ki),Ri._end[0]===wi&&Ri._end[1]>Li&&(Ri._end[1]+=ki)}}catch(nn){Ai={error:nn}}finally{try{Pi&&!Pi.done&&(Si=Bi.return)&&Si.call(Bi)}finally{if(Ai)throw Ai.error}}}var Fi=pi._nodeType===St.NodeType.DocumentFragment?new(Array.bind.apply(Array,Ze([void 0],pi._children))):[pi];if(pi._nodeType===St.NodeType.DocumentFragment)for(;pi._firstChild;)mi(pi._firstChild,pi,!0);Qe.dom.features.mutationObservers&&pi._nodeType===St.NodeType.DocumentFragment&&oi.observer_queueTreeMutationRecord(pi,[],Fi,null,null);for(var Gi=gi?gi._previousSibling:wi._lastChild,Ti=gi===null?-1:si.tree_index(gi),Vi=0;Vi<Fi.length;Vi++){var Ui=Fi[Vi];if(ei.Guard.isElementNode(Ui)&&(ei.Guard.isDocumentNode(wi)&&(wi._documentElement=Ui),Ui._nodeDocument._hasNamespaces||Ui._namespace===null&&Ui._namespacePrefix===null||(Ui._nodeDocument._hasNamespaces=!0)),Ui._parent=wi,gi===null?ii.set.append(wi._children,Ui):(ii.set.insert(wi._children,Ui,Ti),Ti++),wi._firstChild===null)Ui._previousSibling=null,Ui._nextSibling=null,wi._firstChild=Ui,wi._lastChild=Ui;else{var $i=gi?gi._previousSibling:wi._lastChild,Wi=gi||null;Ui._previousSibling=$i,Ui._nextSibling=Wi,$i&&($i._nextSibling=Ui),Wi&&(Wi._previousSibling=Ui),$i||(wi._firstChild=Ui),Wi||(wi._lastChild=Ui)}Qe.dom.features.slots&&wi._shadowRoot!==null&&ei.Guard.isSlotable(Ui)&&ai.shadowTree_assignASlot(Ui),Qe.dom.features.steps&&ei.Guard.isTextNode(Ui)&&ni.dom_runChildTextContentChangeSteps(wi),Qe.dom.features.slots&&ei.Guard.isShadowRoot(si.tree_rootNode(wi))&&ei.Guard.isSlot(wi)&&ti.isEmpty(wi._assignedNodes)&&ai.shadowTree_signalASlotChange(wi),Qe.dom.features.slots&&ai.shadowTree_assignSlotablesForATree(si.tree_rootNode(Ui));for(var tn=si.tree_getFirstDescendantNode(Ui,!0,!0);tn!==null;)Qe.dom.features.steps&&ni.dom_runInsertionSteps(tn),Qe.dom.features.customElements&&ei.Guard.isElementNode(tn)&&ai.shadowTree_isConnected(tn)&&(ei.Guard.isCustomElementNode(tn)?ri.customElement_enqueueACustomElementCallbackReaction(tn,"connectedCallback",[]):ri.customElement_tryToUpgrade(tn)),tn=si.tree_getNextDescendantNode(Ui,tn,!0,!0)}Qe.dom.features.mutationObservers&&(yi||oi.observer_queueTreeMutationRecord(wi,Fi,[],Gi,gi))}else(function(nn,Qi,Ei){var bi=Qi._lastChild;if(ei.Guard.isElementNode(nn)&&(ei.Guard.isDocumentNode(Qi)&&(Qi._documentElement=nn),nn._nodeDocument._hasNamespaces||nn._namespace===null&&nn._namespacePrefix===null||(nn._nodeDocument._hasNamespaces=!0)),nn._parent=Qi,Qi._children.add(nn),Qi._firstChild===null)nn._previousSibling=null,nn._nextSibling=null,Qi._firstChild=nn,Qi._lastChild=nn;else{var Ci=Qi._lastChild;nn._previousSibling=Ci,nn._nextSibling=null,Ci&&(Ci._nextSibling=nn),Ci||(Qi._firstChild=nn),Qi._lastChild=nn}Qe.dom.features.slots&&Qi._shadowRoot!==null&&ei.Guard.isSlotable(nn)&&ai.shadowTree_assignASlot(nn),Qe.dom.features.steps&&ei.Guard.isTextNode(nn)&&ni.dom_runChildTextContentChangeSteps(Qi),Qe.dom.features.slots&&ei.Guard.isShadowRoot(si.tree_rootNode(Qi))&&ei.Guard.isSlot(Qi)&&ti.isEmpty(Qi._assignedNodes)&&ai.shadowTree_signalASlotChange(Qi),Qe.dom.features.slots&&ai.shadowTree_assignSlotablesForATree(si.tree_rootNode(nn)),Qe.dom.features.steps&&ni.dom_runInsertionSteps(nn),Qe.dom.features.customElements&&ei.Guard.isElementNode(nn)&&ai.shadowTree_isConnected(nn)&&(ei.Guard.isCustomElementNode(nn)?ri.customElement_enqueueACustomElementCallbackReaction(nn,"connectedCallback",[]):ri.customElement_tryToUpgrade(nn)),Qe.dom.features.mutationObservers&&(Ei||oi.observer_queueTreeMutationRecord(Qi,[nn],[],bi,null))})(pi,wi,yi)}function mi(pi,wi,gi){var yi,Ai,Si,ki,Li,Bi,Pi,Ri;if(Qe.dom.rangeList.size!==0){var Fi=si.tree_index(pi);try{for(var Gi=Ye(Qe.dom.rangeList),Ti=Gi.next();!Ti.done;Ti=Gi.next()){var Vi=Ti.value;si.tree_isDescendantOf(pi,Vi._start[0],!0)&&(Vi._start=[wi,Fi]),si.tree_isDescendantOf(pi,Vi._end[0],!0)&&(Vi._end=[wi,Fi]),Vi._start[0]===wi&&Vi._start[1]>Fi&&Vi._start[1]--,Vi._end[0]===wi&&Vi._end[1]>Fi&&Vi._end[1]--}}catch(sn){yi={error:sn}}finally{try{Ti&&!Ti.done&&(Ai=Gi.return)&&Ai.call(Gi)}finally{if(yi)throw yi.error}}try{for(var Ui=Ye(Qe.dom.rangeList),$i=Ui.next();!$i.done;$i=Ui.next())(Vi=$i.value)._start[0]===wi&&Vi._start[1]>Fi&&(Vi._start[1]-=1),Vi._end[0]===wi&&Vi._end[1]>Fi&&(Vi._end[1]-=1)}catch(sn){Si={error:sn}}finally{try{$i&&!$i.done&&(ki=Ui.return)&&ki.call(Ui)}finally{if(Si)throw Si.error}}}if(Qe.dom.features.steps)try{for(var Wi=Ye(ui.nodeIterator_iteratorList()),tn=Wi.next();!tn.done;tn=Wi.next()){var nn=tn.value;nn._root._nodeDocument===pi._nodeDocument&&ni.dom_runNodeIteratorPreRemovingSteps(nn,pi)}}catch(sn){Li={error:sn}}finally{try{tn&&!tn.done&&(Bi=Wi.return)&&Bi.call(Wi)}finally{if(Li)throw Li.error}}var Qi=pi._previousSibling,Ei=pi._nextSibling;ei.Guard.isDocumentNode(wi)&&ei.Guard.isElementNode(pi)&&(wi._documentElement=null),pi._parent=null,wi._children.delete(pi);var bi=pi._previousSibling,Ci=pi._nextSibling;pi._previousSibling=null,pi._nextSibling=null,bi&&(bi._nextSibling=Ci),Ci&&(Ci._previousSibling=bi),bi||(wi._firstChild=Ci),Ci||(wi._lastChild=bi),Qe.dom.features.slots&&ei.Guard.isSlotable(pi)&&pi._assignedSlot!==null&&ai.shadowTree_isAssigned(pi)&&ai.shadowTree_assignSlotables(pi._assignedSlot),Qe.dom.features.slots&&ei.Guard.isShadowRoot(si.tree_rootNode(wi))&&ei.Guard.isSlot(wi)&&ti.isEmpty(wi._assignedNodes)&&ai.shadowTree_signalASlotChange(wi),Qe.dom.features.slots&&si.tree_getFirstDescendantNode(pi,!0,!1,function(sn){return ei.Guard.isSlot(sn)})!==null&&(ai.shadowTree_assignSlotablesForATree(si.tree_rootNode(wi)),ai.shadowTree_assignSlotablesForATree(pi)),Qe.dom.features.steps&&ni.dom_runRemovingSteps(pi,wi),Qe.dom.features.customElements&&ei.Guard.isCustomElementNode(pi)&&ri.customElement_enqueueACustomElementCallbackReaction(pi,"disconnectedCallback",[]);for(var _i=si.tree_getFirstDescendantNode(pi,!1,!0);_i!==null;)Qe.dom.features.steps&&ni.dom_runRemovingSteps(_i,pi),Qe.dom.features.customElements&&ei.Guard.isCustomElementNode(_i)&&ri.customElement_enqueueACustomElementCallbackReaction(_i,"disconnectedCallback",[]),_i=si.tree_getNextDescendantNode(pi,_i,!1,!0);if(Qe.dom.features.mutationObservers)for(var Ii=si.tree_getFirstAncestorNode(wi,!0);Ii!==null;){try{for(var Ni=(Pi=void 0,Ye(Ii._registeredObserverList)),Di=Ni.next();!Di.done;Di=Ni.next()){var Ki=Di.value;Ki.options.subtree&&pi._registeredObserverList.push({observer:Ki.observer,options:Ki.options,source:Ki})}}catch(sn){Pi={error:sn}}finally{try{Di&&!Di.done&&(Ri=Ni.return)&&Ri.call(Ni)}finally{if(Pi)throw Pi.error}}Ii=si.tree_getNextAncestorNode(wi,Ii,!0)}Qe.dom.features.mutationObservers&&(gi||oi.observer_queueTreeMutationRecord(wi,[],[pi],Qi,Ei)),Qe.dom.features.steps&&ei.Guard.isTextNode(pi)&&ni.dom_runChildTextContentChangeSteps(wi)}qe.mutation_ensurePreInsertionValidity=hi,qe.mutation_preInsert=di,qe.mutation_insert=fi,qe.mutation_append=function(pi,wi){return di(pi,wi,null)},qe.mutation_replace=function(pi,wi,gi){var yi,Ai,Si,ki,Li,Bi,Pi,Ri;if(gi._nodeType!==St.NodeType.Document&&gi._nodeType!==St.NodeType.DocumentFragment&&gi._nodeType!==St.NodeType.Element)throw new Je.HierarchyRequestError("Only document, document fragment and element nodes can contain child nodes. Parent node is "+gi.nodeName+".");if(si.tree_isHostIncludingAncestorOf(gi,wi,!0))throw new Je.HierarchyRequestError("The node to be inserted cannot be an ancestor of parent node. Node is "+wi.nodeName+", parent node is "+gi.nodeName+".");if(pi._parent!==gi)throw new Je.NotFoundError("The reference child node cannot be found under parent node. Child node is "+pi.nodeName+", parent node is "+gi.nodeName+".");if(wi._nodeType!==St.NodeType.DocumentFragment&&wi._nodeType!==St.NodeType.DocumentType&&wi._nodeType!==St.NodeType.Element&&wi._nodeType!==St.NodeType.Text&&wi._nodeType!==St.NodeType.ProcessingInstruction&&wi._nodeType!==St.NodeType.CData&&wi._nodeType!==St.NodeType.Comment)throw new Je.HierarchyRequestError("Only document fragment, document type, element, text, processing instruction, cdata section or comment nodes can be inserted. Node is "+wi.nodeName+".");if(wi._nodeType===St.NodeType.Text&&gi._nodeType===St.NodeType.Document)throw new Je.HierarchyRequestError("Cannot insert a text node as a child of a document node. Node is "+wi.nodeName+".");if(wi._nodeType===St.NodeType.DocumentType&&gi._nodeType!==St.NodeType.Document)throw new Je.HierarchyRequestError("A document type node can only be inserted under a document node. Parent node is "+gi.nodeName+".");if(gi._nodeType===St.NodeType.Document){if(wi._nodeType===St.NodeType.DocumentFragment){var Fi=0;try{for(var Gi=Ye(wi._children),Ti=Gi.next();!Ti.done;Ti=Gi.next()){var Vi=Ti.value;if(Vi._nodeType===St.NodeType.Element)Fi++;else if(Vi._nodeType===St.NodeType.Text)throw new Je.HierarchyRequestError("Cannot insert text a node as a child of a document node. Node is "+Vi.nodeName+".")}}catch(Ki){yi={error:Ki}}finally{try{Ti&&!Ti.done&&(Ai=Gi.return)&&Ai.call(Gi)}finally{if(yi)throw yi.error}}if(Fi>1)throw new Je.HierarchyRequestError("A document node can only have one document element node. Document fragment to be inserted has "+Fi+" element nodes.");if(Fi===1){try{for(var Ui=Ye(gi._children),$i=Ui.next();!$i.done;$i=Ui.next())if((bi=$i.value)._nodeType===St.NodeType.Element&&bi!==pi)throw new Je.HierarchyRequestError("The document node already has a document element node.")}catch(Ki){Si={error:Ki}}finally{try{$i&&!$i.done&&(ki=Ui.return)&&ki.call(Ui)}finally{if(Si)throw Si.error}}for(var Wi=pi._nextSibling;Wi;){if(Wi._nodeType===St.NodeType.DocumentType)throw new Je.HierarchyRequestError("Cannot insert an element node before a document type node.");Wi=Wi._nextSibling}}}else if(wi._nodeType===St.NodeType.Element){try{for(var tn=Ye(gi._children),nn=tn.next();!nn.done;nn=tn.next())if((bi=nn.value)._nodeType===St.NodeType.Element&&bi!==pi)throw new Je.HierarchyRequestError("Document already has a document element node. Node is "+wi.nodeName+".")}catch(Ki){Li={error:Ki}}finally{try{nn&&!nn.done&&(Bi=tn.return)&&Bi.call(tn)}finally{if(Li)throw Li.error}}for(Wi=pi._nextSibling;Wi;){if(Wi._nodeType===St.NodeType.DocumentType)throw new Je.HierarchyRequestError("Cannot insert an element node before a document type node. Node is "+wi.nodeName+".");Wi=Wi._nextSibling}}else if(wi._nodeType===St.NodeType.DocumentType){try{for(var Qi=Ye(gi._children),Ei=Qi.next();!Ei.done;Ei=Qi.next()){var bi;if((bi=Ei.value)._nodeType===St.NodeType.DocumentType&&bi!==pi)throw new Je.HierarchyRequestError("Document already has a document type node. Node is "+wi.nodeName+".")}}catch(Ki){Pi={error:Ki}}finally{try{Ei&&!Ei.done&&(Ri=Qi.return)&&Ri.call(Qi)}finally{if(Pi)throw Pi.error}}for(var Ci=pi._previousSibling;Ci;){if(Ci._nodeType===St.NodeType.Element)throw new Je.HierarchyRequestError("Cannot insert a document type node before an element node. Node is "+wi.nodeName+".");Ci=Ci._previousSibling}}}var _i=pi._nextSibling;_i===wi&&(_i=wi._nextSibling);var Ii=pi._previousSibling;ci.document_adopt(wi,gi._nodeDocument);var Ni=[];pi._parent!==null&&(Ni.push(pi),mi(pi,pi._parent,!0));var Di=[];return wi._nodeType===St.NodeType.DocumentFragment?Di=Array.from(wi._children):Di.push(wi),fi(wi,gi,_i,!0),Qe.dom.features.mutationObservers&&oi.observer_queueTreeMutationRecord(gi,Di,Ni,Ii,_i),pi},qe.mutation_replaceAll=function(pi,wi){var gi,yi;pi!==null&&ci.document_adopt(pi,wi._nodeDocument);var Ai=Array.from(wi._children),Si=[];pi&&pi._nodeType===St.NodeType.DocumentFragment?Si=Array.from(pi._children):pi!==null&&Si.push(pi);try{for(var ki=Ye(Ai),Li=ki.next();!Li.done;Li=ki.next())mi(Li.value,wi,!0)}catch(Bi){gi={error:Bi}}finally{try{Li&&!Li.done&&(yi=ki.return)&&yi.call(ki)}finally{if(gi)throw gi.error}}pi!==null&&fi(pi,wi,null,!0),Qe.dom.features.mutationObservers&&oi.observer_queueTreeMutationRecord(wi,Si,Ai,null,null)},qe.mutation_preRemove=function(pi,wi){if(pi._parent!==wi)throw new Je.NotFoundError("The child node cannot be found under parent node. Child node is "+pi.nodeName+", parent node is "+wi.nodeName+".");return mi(pi,wi),pi},qe.mutation_remove=mi},function(ze,qe,Xe){function Ye(Ke){return Ke==null}ze.exports.isNothing=Ye,ze.exports.isObject=function(Ke){return typeof Ke=="object"&&Ke!==null},ze.exports.toArray=function(Ke){return Array.isArray(Ke)?Ke:Ye(Ke)?[]:[Ke]},ze.exports.repeat=function(Ke,Ze){var Qe,Je="";for(Qe=0;Qe<Ze;Qe+=1)Je+=Ke;return Je},ze.exports.isNegativeZero=function(Ke){return Ke===0&&Number.NEGATIVE_INFINITY===1/Ke},ze.exports.extend=function(Ke,Ze){var Qe,Je,St,ei;if(Ze)for(Qe=0,Je=(ei=Object.keys(Ze)).length;Qe<Je;Qe+=1)Ke[St=ei[Qe]]=Ze[St];return Ke}},function(ze,qe,Xe){var Ye=Xe(38),Ke=Xe(53),Ze=Xe(10);function Qe(St,ei,ti){var ii=[];return St.include.forEach(function(ri){ti=Qe(ri,ei,ti)}),St[ei].forEach(function(ri){ti.forEach(function(si,ui){si.tag===ri.tag&&si.kind===ri.kind&&ii.push(ui)}),ti.push(ri)}),ti.filter(function(ri,si){return ii.indexOf(si)===-1})}function Je(St){this.include=St.include||[],this.implicit=St.implicit||[],this.explicit=St.explicit||[],this.implicit.forEach(function(ei){if(ei.loadKind&&ei.loadKind!=="scalar")throw new Ke("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=Qe(this,"implicit",[]),this.compiledExplicit=Qe(this,"explicit",[]),this.compiledTypeMap=function(){var ei,ti,ii={scalar:{},sequence:{},mapping:{},fallback:{}};function ri(si){ii[si.kind][si.tag]=ii.fallback[si.tag]=si}for(ei=0,ti=arguments.length;ei<ti;ei+=1)arguments[ei].forEach(ri);return ii}(this.compiledImplicit,this.compiledExplicit)}Je.DEFAULT=null,Je.create=function(){var St,ei;switch(arguments.length){case 1:St=Je.DEFAULT,ei=arguments[0];break;case 2:St=arguments[0],ei=arguments[1];break;default:throw new Ke("Wrong number of arguments for Schema.create function")}if(St=Ye.toArray(St),ei=Ye.toArray(ei),!St.every(function(ti){return ti instanceof Je}))throw new Ke("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!ei.every(function(ti){return ti instanceof Ze}))throw new Ke("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new Je({include:St,explicit:ei})},ze.exports=Je},function(ze,qe){ze.exports=function(Xe,Ye){return{enumerable:!(1&Xe),configurable:!(2&Xe),writable:!(4&Xe),value:Ye}}},function(ze,qe,Xe){var Ye=Xe(8),Ke=Xe(42),Ze="".split;ze.exports=Ye(function(){return!Object("z").propertyIsEnumerable(0)})?function(Qe){return Ke(Qe)=="String"?Ze.call(Qe,""):Object(Qe)}:Object},function(ze,qe){var Xe={}.toString;ze.exports=function(Ye){return Xe.call(Ye).slice(8,-1)}},function(ze,qe,Xe){var Ye,Ke,Ze,Qe=Xe(186),Je=Xe(11),St=Xe(13),ei=Xe(21),ti=Xe(14),ii=Xe(57),ri=Xe(45),si=Je.WeakMap;if(Qe){var ui=new si,ai=ui.get,oi=ui.has,ni=ui.set;Ye=function(hi,di){return ni.call(ui,hi,di),di},Ke=function(hi){return ai.call(ui,hi)||{}},Ze=function(hi){return oi.call(ui,hi)}}else{var ci=ii("state");ri[ci]=!0,Ye=function(hi,di){return ei(hi,ci,di),di},Ke=function(hi){return ti(hi,ci)?hi[ci]:{}},Ze=function(hi){return ti(hi,ci)}}ze.exports={set:Ye,get:Ke,has:Ze,enforce:function(hi){return Ze(hi)?Ke(hi):Ye(hi,{})},getterFor:function(hi){return function(di){var fi;if(!St(di)||(fi=Ke(di)).type!==hi)throw TypeError("Incompatible receiver, "+hi+" required");return fi}}}},function(ze,qe){ze.exports=!1},function(ze,qe){ze.exports={}},function(ze,qe,Xe){var Ye=Xe(120),Ke=Xe(11),Ze=function(Qe){return typeof Qe=="function"?Qe:void 0};ze.exports=function(Qe,Je){return arguments.length<2?Ze(Ye[Qe])||Ze(Ke[Qe]):Ye[Qe]&&Ye[Qe][Je]||Ke[Qe]&&Ke[Qe][Je]}},function(ze,qe){var Xe=Math.ceil,Ye=Math.floor;ze.exports=function(Ke){return isNaN(Ke=+Ke)?0:(Ke>0?Ye:Xe)(Ke)}},function(ze,qe,Xe){var Ye=Xe(8);ze.exports=function(Ke,Ze){var Qe=[][Ke];return!!Qe&&Ye(function(){Qe.call(null,Ze||function(){throw 1},1)})}},function(ze,qe){ze.exports={}},function(ze,qe,Xe){Xe(31),Xe(32),Xe(33),Xe(220),Xe(64),Xe(19),Xe(65),Xe(20),Xe(68),Xe(66),Xe(92),Xe(144),Xe(22),Xe(94),Xe(23);var Ye=this&&this.__values||function(si){var ui=typeof Symbol=="function"&&Symbol.iterator,ai=ui&&si[ui],oi=0;if(ai)return ai.call(si);if(si&&typeof si.length=="number")return{next:function(){return si&&oi>=si.length&&(si=void 0),{value:si&&si[oi++],done:!si}}};throw new TypeError(ui?"Object is not iterable.":"Symbol.iterator is not defined.")},Ke=this&&this.__read||function(si,ui){var ai=typeof Symbol=="function"&&si[Symbol.iterator];if(!ai)return si;var oi,ni,ci=ai.call(si),hi=[];try{for(;(ui===void 0||ui-- >0)&&!(oi=ci.next()).done;)hi.push(oi.value)}catch(di){ni={error:di}}finally{try{oi&&!oi.done&&(ai=ci.return)&&ai.call(ci)}finally{if(ni)throw ni.error}}return hi},Ze=this&&this.__spread||function(){for(var si=[],ui=0;ui<arguments.length;ui++)si=si.concat(Ke(arguments[ui]));return si};Object.defineProperty(qe,"__esModule",{value:!0});var Qe=Xe(1),Je=Xe(69),St=Xe(95),ei=Xe(7),ti=Xe(0),ii=Xe(258),ri=function(){function si(ui){this.level=0,this._builderOptions=ui}return si.prototype.declaration=function(ui,ai,oi){},si.prototype.docType=function(ui,ai,oi){},si.prototype.comment=function(ui){},si.prototype.text=function(ui){},si.prototype.instruction=function(ui,ai){},si.prototype.cdata=function(ui){},si.prototype.openTagBegin=function(ui){},si.prototype.openTagEnd=function(ui,ai,oi){},si.prototype.closeTag=function(ui){},si.prototype.attributes=function(ui){var ai,oi;try{for(var ni=Ye(ui),ci=ni.next();!ci.done;ci=ni.next()){var hi=ci.value;this.attribute(hi[1]===null?hi[2]:hi[1]+":"+hi[2],hi[3])}}catch(di){ai={error:di}}finally{try{ci&&!ci.done&&(oi=ni.return)&&oi.call(ni)}finally{if(ai)throw ai.error}}},si.prototype.attribute=function(ui,ai){},si.prototype.beginElement=function(ui){},si.prototype.endElement=function(ui){},si.prototype.serializeNode=function(ui,ai){var oi=ui._nodeDocument!==void 0&&ui._nodeDocument._hasNamespaces;if(this.level=0,this.currentNode=ui,oi){var ni=new St.NamespacePrefixMap;ni.set("xml",ei.namespace.XML),this._serializeNodeNS(ui,null,ni,{value:1},ai)}else this._serializeNode(ui,ai)},si.prototype._serializeNodeNS=function(ui,ai,oi,ni,ci){switch(this.currentNode=ui,ui.nodeType){case Qe.NodeType.Element:this._serializeElementNS(ui,ai,oi,ni,ci);break;case Qe.NodeType.Document:this._serializeDocumentNS(ui,ai,oi,ni,ci);break;case Qe.NodeType.Comment:this._serializeComment(ui,ci);break;case Qe.NodeType.Text:this._serializeText(ui,ci);break;case Qe.NodeType.DocumentFragment:this._serializeDocumentFragmentNS(ui,ai,oi,ni,ci);break;case Qe.NodeType.DocumentType:this._serializeDocumentType(ui,ci);break;case Qe.NodeType.ProcessingInstruction:this._serializeProcessingInstruction(ui,ci);break;case Qe.NodeType.CData:this._serializeCData(ui,ci);break;default:throw new Error("Unknown node type: "+ui.nodeType)}},si.prototype._serializeNode=function(ui,ai){switch(this.currentNode=ui,ui.nodeType){case Qe.NodeType.Element:this._serializeElement(ui,ai);break;case Qe.NodeType.Document:this._serializeDocument(ui,ai);break;case Qe.NodeType.Comment:this._serializeComment(ui,ai);break;case Qe.NodeType.Text:this._serializeText(ui,ai);break;case Qe.NodeType.DocumentFragment:this._serializeDocumentFragment(ui,ai);break;case Qe.NodeType.DocumentType:this._serializeDocumentType(ui,ai);break;case Qe.NodeType.ProcessingInstruction:this._serializeProcessingInstruction(ui,ai);break;case Qe.NodeType.CData:this._serializeCData(ui,ai);break;default:throw new Error("Unknown node type: "+ui.nodeType)}},si.prototype._serializeElementNS=function(ui,ai,oi,ni,ci){var hi,di,fi=[];if(ci&&(ui.localName.indexOf(":")!==-1||!ti.xml_isName(ui.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var mi="",pi=!1,wi=!1,gi=oi.copy(),yi={},Ai=this._recordNamespaceInformation(ui,gi,yi),Si=ai,ki=ui.namespaceURI;if(Si===ki)Ai!==null&&(wi=!0),mi=ki===ei.namespace.XML?"xml:"+ui.localName:ui.localName,this.beginElement(mi),this.openTagBegin(mi);else{var Li=ui.prefix,Bi=null;if(Li===null&&ki===Ai||(Bi=gi.get(Li,ki)),Li==="xmlns"){if(ci)throw new Error("An element cannot have the 'xmlns' prefix (well-formed required).");Bi=Li}Bi!==null?(mi=Bi+":"+ui.localName,Ai!==null&&Ai!==ei.namespace.XML&&(Si=Ai||null),this.beginElement(mi),this.openTagBegin(mi)):Li!==null?(Li in yi&&(Li=this._generatePrefix(ki,gi,ni)),gi.set(Li,ki),mi+=Li+":"+ui.localName,this.beginElement(mi),this.openTagBegin(mi),fi.push([null,"xmlns",Li,this._serializeAttributeValue(ki,ci)]),Ai!==null&&(Si=Ai||null)):Ai===null||Ai!==null&&Ai!==ki?(wi=!0,mi+=ui.localName,Si=ki,this.beginElement(mi),this.openTagBegin(mi),fi.push([null,null,"xmlns",this._serializeAttributeValue(ki,ci)])):(mi+=ui.localName,Si=ki,this.beginElement(mi),this.openTagBegin(mi))}fi.push.apply(fi,Ze(this._serializeAttributesNS(ui,gi,ni,yi,wi,ci))),this.attributes(fi);var Pi=ki===ei.namespace.HTML;if(Pi&&ui.childNodes.length===0&&si._VoidElementNames.has(ui.localName)?(this.openTagEnd(mi,!0,!0),this.endElement(mi),pi=!0):Pi||ui.childNodes.length!==0?this.openTagEnd(mi,!1,!1):(this.openTagEnd(mi,!0,!1),this.endElement(mi),pi=!0),!pi){if(!(Pi&&ui.localName==="template"))try{for(var Ri=Ye(ui.childNodes),Fi=Ri.next();!Fi.done;Fi=Ri.next()){var Gi=Fi.value;this.level++,this._serializeNodeNS(Gi,Si,gi,ni,ci),this.level--}}catch(Ti){hi={error:Ti}}finally{try{Fi&&!Fi.done&&(di=Ri.return)&&di.call(Ri)}finally{if(hi)throw hi.error}}this.closeTag(mi),this.endElement(mi)}},si.prototype._serializeElement=function(ui,ai){var oi,ni;if(ai&&(ui.localName.indexOf(":")!==-1||!ti.xml_isName(ui.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var ci=!1,hi=ui.localName;this.beginElement(hi),this.openTagBegin(hi);var di=this._serializeAttributes(ui,ai);if(this.attributes(di),ui.hasChildNodes()?this.openTagEnd(hi,!1,!1):(this.openTagEnd(hi,!0,!1),this.endElement(hi),ci=!0),!ci){try{for(var fi=Ye(ui._children),mi=fi.next();!mi.done;mi=fi.next()){var pi=mi.value;this.level++,this._serializeNode(pi,ai),this.level--}}catch(wi){oi={error:wi}}finally{try{mi&&!mi.done&&(ni=fi.return)&&ni.call(fi)}finally{if(oi)throw oi.error}}this.closeTag(hi),this.endElement(hi)}},si.prototype._serializeDocumentNS=function(ui,ai,oi,ni,ci){var hi,di;if(ci&&ui.documentElement===null)throw new Error("Missing document element (well-formed required).");try{for(var fi=Ye(ui.childNodes),mi=fi.next();!mi.done;mi=fi.next()){var pi=mi.value;this._serializeNodeNS(pi,ai,oi,ni,ci)}}catch(wi){hi={error:wi}}finally{try{mi&&!mi.done&&(di=fi.return)&&di.call(fi)}finally{if(hi)throw hi.error}}},si.prototype._serializeDocument=function(ui,ai){var oi,ni;if(ai&&ui.documentElement===null)throw new Error("Missing document element (well-formed required).");try{for(var ci=Ye(ui._children),hi=ci.next();!hi.done;hi=ci.next()){var di=hi.value;this._serializeNode(di,ai)}}catch(fi){oi={error:fi}}finally{try{hi&&!hi.done&&(ni=ci.return)&&ni.call(ci)}finally{if(oi)throw oi.error}}},si.prototype._serializeComment=function(ui,ai){if(ai&&(!ti.xml_isLegalChar(ui.data)||ui.data.indexOf("--")!==-1||ui.data.endsWith("-")))throw new Error("Comment data contains invalid characters (well-formed required).");this.comment(ui.data)},si.prototype._serializeText=function(ui,ai){if(ai&&!ti.xml_isLegalChar(ui.data))throw new Error("Text data contains invalid characters (well-formed required).");var oi=ui.data.replace(ii.nonEntityAmpersandRegex,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");this.text(oi)},si.prototype._serializeDocumentFragmentNS=function(ui,ai,oi,ni,ci){var hi,di;try{for(var fi=Ye(ui.childNodes),mi=fi.next();!mi.done;mi=fi.next()){var pi=mi.value;this._serializeNodeNS(pi,ai,oi,ni,ci)}}catch(wi){hi={error:wi}}finally{try{mi&&!mi.done&&(di=fi.return)&&di.call(fi)}finally{if(hi)throw hi.error}}},si.prototype._serializeDocumentFragment=function(ui,ai){var oi,ni;try{for(var ci=Ye(ui._children),hi=ci.next();!hi.done;hi=ci.next()){var di=hi.value;this._serializeNode(di,ai)}}catch(fi){oi={error:fi}}finally{try{hi&&!hi.done&&(ni=ci.return)&&ni.call(ci)}finally{if(oi)throw oi.error}}},si.prototype._serializeDocumentType=function(ui,ai){if(ai&&!ti.xml_isPubidChar(ui.publicId))throw new Error("DocType public identifier does not match PubidChar construct (well-formed required).");if(ai&&(!ti.xml_isLegalChar(ui.systemId)||ui.systemId.indexOf('"')!==-1&&ui.systemId.indexOf("'")!==-1))throw new Error("DocType system identifier contains invalid characters (well-formed required).");this.docType(ui.name,ui.publicId,ui.systemId)},si.prototype._serializeProcessingInstruction=function(ui,ai){if(ai&&(ui.target.indexOf(":")!==-1||/^xml$/i.test(ui.target)))throw new Error("Processing instruction target contains invalid characters (well-formed required).");if(ai&&(!ti.xml_isLegalChar(ui.data)||ui.data.indexOf("?>")!==-1))throw new Error("Processing instruction data contains invalid characters (well-formed required).");this.instruction(ui.target,ui.data)},si.prototype._serializeCData=function(ui,ai){if(ai&&ui.data.indexOf("]]>")!==-1)throw new Error("CDATA contains invalid characters (well-formed required).");this.cdata(ui.data)},si.prototype._serializeAttributesNS=function(ui,ai,oi,ni,ci,hi){var di,fi,mi=[],pi=hi?new Je.LocalNameSet:void 0;try{for(var wi=Ye(ui.attributes),gi=wi.next();!gi.done;gi=wi.next()){var yi=gi.value;if(hi||ci||yi.namespaceURI!==null){if(hi&&pi&&pi.has(yi.namespaceURI,yi.localName))throw new Error("Element contains duplicate attributes (well-formed required).");hi&&pi&&pi.set(yi.namespaceURI,yi.localName);var Ai=yi.namespaceURI,Si=null;if(Ai!==null)if(Si=ai.get(yi.prefix,Ai),Ai===ei.namespace.XMLNS){if(yi.value===ei.namespace.XML||yi.prefix===null&&ci||yi.prefix!==null&&(!(yi.localName in ni)||ni[yi.localName]!==yi.value)&&ai.has(yi.localName,yi.value))continue;if(hi&&yi.value===ei.namespace.XMLNS)throw new Error("XMLNS namespace is reserved (well-formed required).");if(hi&&yi.value==="")throw new Error("Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required).");yi.prefix==="xmlns"&&(Si="xmlns")}else Si===null&&(Si=yi.prefix===null||ai.hasPrefix(yi.prefix)&&!ai.has(yi.prefix,Ai)?this._generatePrefix(Ai,ai,oi):yi.prefix,mi.push([null,"xmlns",Si,this._serializeAttributeValue(Ai,hi)]));if(hi&&(yi.localName.indexOf(":")!==-1||!ti.xml_isName(yi.localName)||yi.localName==="xmlns"&&Ai===null))throw new Error("Attribute local name contains invalid characters (well-formed required).");mi.push([Ai,Si,yi.localName,this._serializeAttributeValue(yi.value,hi)])}else mi.push([null,null,yi.localName,this._serializeAttributeValue(yi.value,hi)])}}catch(ki){di={error:ki}}finally{try{gi&&!gi.done&&(fi=wi.return)&&fi.call(wi)}finally{if(di)throw di.error}}return mi},si.prototype._serializeAttributes=function(ui,ai){var oi,ni,ci=[],hi=ai?{}:void 0;try{for(var di=Ye(ui.attributes),fi=di.next();!fi.done;fi=di.next()){var mi=fi.value;if(ai){if(ai&&hi&&mi.localName in hi)throw new Error("Element contains duplicate attributes (well-formed required).");if(ai&&hi&&(hi[mi.localName]=!0),ai&&(mi.localName.indexOf(":")!==-1||!ti.xml_isName(mi.localName)))throw new Error("Attribute local name contains invalid characters (well-formed required).");ci.push([null,null,mi.localName,this._serializeAttributeValue(mi.value,ai)])}else ci.push([null,null,mi.localName,this._serializeAttributeValue(mi.value,ai)])}}catch(pi){oi={error:pi}}finally{try{fi&&!fi.done&&(ni=di.return)&&ni.call(di)}finally{if(oi)throw oi.error}}return ci},si.prototype._recordNamespaceInformation=function(ui,ai,oi){var ni,ci,hi=null;try{for(var di=Ye(ui.attributes),fi=di.next();!fi.done;fi=di.next()){var mi=fi.value,pi=mi.namespaceURI,wi=mi.prefix;if(pi===ei.namespace.XMLNS){if(wi===null){hi=mi.value;continue}var gi=mi.localName,yi=mi.value;if(yi===ei.namespace.XML||(yi===""&&(yi=null),ai.has(gi,yi)))continue;ai.set(gi,yi),oi[gi]=yi||""}}}catch(Ai){ni={error:Ai}}finally{try{fi&&!fi.done&&(ci=di.return)&&ci.call(di)}finally{if(ni)throw ni.error}}return hi},si.prototype._generatePrefix=function(ui,ai,oi){var ni="ns"+oi.value.toString();return oi.value++,ai.set(ni,ui),ni},si.prototype._serializeAttributeValue=function(ui,ai){if(ai&&ui!==null&&!ti.xml_isLegalChar(ui))throw new Error("Invalid characters in attribute value.");return ui===null?"":ui.replace(ii.nonEntityAmpersandRegex,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},si._VoidElementNames=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),si}();qe.BaseWriter=ri},function(ze,qe,Xe){var Ye=this&&this.__values||function(ui){var ai=typeof Symbol=="function"&&Symbol.iterator,oi=ai&&ui[ai],ni=0;if(oi)return oi.call(ui);if(ui&&typeof ui.length=="number")return{next:function(){return ui&&ni>=ui.length&&(ui=void 0),{value:ui&&ui[ni++],done:!ui}}};throw new TypeError(ai?"Object is not iterable.":"Symbol.iterator is not defined.")},Ke=this&&this.__read||function(ui,ai){var oi=typeof Symbol=="function"&&ui[Symbol.iterator];if(!oi)return ui;var ni,ci,hi=oi.call(ui),di=[];try{for(;(ai===void 0||ai-- >0)&&!(ni=hi.next()).done;)di.push(ni.value)}catch(fi){ci={error:fi}}finally{try{ni&&!ni.done&&(oi=hi.return)&&oi.call(hi)}finally{if(ci)throw ci.error}}return di};Object.defineProperty(qe,"__esModule",{value:!0});var Ze=Xe(6),Qe=Xe(3),Je=Xe(7),St=Xe(29),ei=Xe(17),ti=Xe(97);function ii(){var ui=Ze.dom.window;ui._mutationObserverMicrotaskQueued||(ui._mutationObserverMicrotaskQueued=!0,Promise.resolve().then(function(){ri()}))}function ri(){var ui,ai,oi,ni,ci=Ze.dom.window;ci._mutationObserverMicrotaskQueued=!1;var hi=Je.set.clone(ci._mutationObservers),di=Je.set.clone(ci._signalSlots);Je.set.empty(ci._signalSlots);var fi=function(Ai){var Si=Je.list.clone(Ai._recordQueue);Je.list.empty(Ai._recordQueue);for(var ki=0;ki<Ai._nodeList.length;ki++){var Li=Ai._nodeList[ki];Je.list.remove(Li._registeredObserverList,function(Bi){return Qe.Guard.isTransientRegisteredObserver(Bi)&&Bi.observer===Ai})}if(!Je.list.isEmpty(Si))try{Ai._callback.call(Ai,Si,Ai)}catch{}};try{for(var mi=Ye(hi),pi=mi.next();!pi.done;pi=mi.next())fi(pi.value)}catch(Ai){ui={error:Ai}}finally{try{pi&&!pi.done&&(ai=mi.return)&&ai.call(mi)}finally{if(ui)throw ui.error}}if(Ze.dom.features.slots)try{for(var wi=Ye(di),gi=wi.next();!gi.done;gi=wi.next()){var yi=gi.value;ti.event_fireAnEvent("slotchange",yi,void 0,{bubbles:!0})}}catch(Ai){oi={error:Ai}}finally{try{gi&&!gi.done&&(ni=wi.return)&&ni.call(wi)}finally{if(oi)throw oi.error}}}function si(ui,ai,oi,ni,ci,hi,di,fi,mi){for(var pi,wi,gi=new Map,yi=ei.tree_getFirstAncestorNode(ai,!0);yi!==null;){for(var Ai=0;Ai<yi._registeredObserverList.length;Ai++){var Si=yi._registeredObserverList[Ai],ki=Si.options;if((yi===ai||ki.subtree)&&(ui!=="attributes"||ki.attributes)&&(ui!=="attributes"||!ki.attributeFilter||ki.attributeFilter.indexOf(oi||"")&&ni===null)&&(ui!=="characterData"||ki.characterData)&&(ui!=="childList"||ki.childList)){var Li=Si.observer;gi.has(Li)||gi.set(Li,null),(ui==="attributes"&&ki.attributeOldValue||ui==="characterData"&&ki.characterDataOldValue)&&gi.set(Li,ci)}}yi=ei.tree_getNextAncestorNode(ai,yi,!0)}try{for(var Bi=Ye(gi),Pi=Bi.next();!Pi.done;Pi=Bi.next()){var Ri=Ke(Pi.value,2),Fi=Ri[0],Gi=Ri[1],Ti=St.create_mutationRecord(ui,ai,St.create_nodeListStatic(ai,hi),St.create_nodeListStatic(ai,di),fi,mi,oi,ni,Gi);Fi._recordQueue.push(Ti)}}catch(Vi){pi={error:Vi}}finally{try{Pi&&!Pi.done&&(wi=Bi.return)&&wi.call(Bi)}finally{if(pi)throw pi.error}}ii()}qe.observer_queueAMutationObserverMicrotask=ii,qe.observer_notifyMutationObservers=ri,qe.observer_queueMutationRecord=si,qe.observer_queueTreeMutationRecord=function(ui,ai,oi,ni,ci){si("childList",ui,null,null,null,ai,oi,ni,ci)},qe.observer_queueAttributeMutationRecord=function(ui,ai,oi,ni){si("attributes",ui,ai,oi,ni,[],[],null,null)}},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=Xe(6),Ke=Xe(7),Ze=Xe(3),Qe=Xe(9),Je=Xe(29),St=Xe(73),ei=Xe(51),ti=Xe(30),ii=Xe(37),ri=Xe(106);function si(hi,di,fi){Ye.dom.features.mutationObservers&&ei.observer_queueAttributeMutationRecord(di,hi._localName,hi._namespace,hi._value),Ye.dom.features.customElements&&Ze.Guard.isCustomElementNode(di)&&St.customElement_enqueueACustomElementCallbackReaction(di,"attributeChangedCallback",[hi._localName,hi._value,fi,hi._namespace]),Ye.dom.features.steps&&ti.dom_runAttributeChangeSteps(di,hi._localName,hi._value,fi,hi._namespace),hi._value=fi}function ui(hi,di){Ye.dom.features.mutationObservers&&ei.observer_queueAttributeMutationRecord(di,hi._localName,hi._namespace,null),Ye.dom.features.customElements&&Ze.Guard.isCustomElementNode(di)&&St.customElement_enqueueACustomElementCallbackReaction(di,"attributeChangedCallback",[hi._localName,null,hi._value,hi._namespace]),Ye.dom.features.steps&&ti.dom_runAttributeChangeSteps(di,hi._localName,null,hi._value,hi._namespace),di._attributeList._asArray().push(hi),hi._element=di,di._nodeDocument._hasNamespaces||hi._namespace===null&&hi._namespacePrefix===null&&hi._localName!=="xmlns"||(di._nodeDocument._hasNamespaces=!0)}function ai(hi,di){Ye.dom.features.mutationObservers&&ei.observer_queueAttributeMutationRecord(di,hi._localName,hi._namespace,hi._value),Ye.dom.features.customElements&&Ze.Guard.isCustomElementNode(di)&&St.customElement_enqueueACustomElementCallbackReaction(di,"attributeChangedCallback",[hi._localName,hi._value,null,hi._namespace]),Ye.dom.features.steps&&ti.dom_runAttributeChangeSteps(di,hi._localName,hi._value,null,hi._namespace);var fi=di._attributeList._asArray().indexOf(hi);di._attributeList._asArray().splice(fi,1),hi._element=null}function oi(hi,di,fi){Ye.dom.features.mutationObservers&&ei.observer_queueAttributeMutationRecord(fi,hi._localName,hi._namespace,hi._value),Ye.dom.features.customElements&&Ze.Guard.isCustomElementNode(fi)&&St.customElement_enqueueACustomElementCallbackReaction(fi,"attributeChangedCallback",[hi._localName,hi._value,di._value,hi._namespace]),Ye.dom.features.steps&&ti.dom_runAttributeChangeSteps(fi,hi._localName,hi._value,di._value,hi._namespace);var mi=fi._attributeList._asArray().indexOf(hi);mi!==-1&&(fi._attributeList._asArray()[mi]=di),hi._element=null,di._element=fi,fi._nodeDocument._hasNamespaces||di._namespace===null&&di._namespacePrefix===null&&di._localName!=="xmlns"||(fi._nodeDocument._hasNamespaces=!0)}function ni(hi,di){return di._namespace===Ke.namespace.HTML&&di._nodeDocument._type==="html"&&(hi=hi.toLowerCase()),di._attributeList._asArray().find(function(fi){return fi._qualifiedName===hi})||null}function ci(hi,di,fi){var mi=hi||null;return fi._attributeList._asArray().find(function(pi){return pi._namespace===mi&&pi._localName===di})||null}qe.element_has=function(hi,di){return di._attributeList._asArray().indexOf(hi)!==-1},qe.element_change=si,qe.element_append=ui,qe.element_remove=ai,qe.element_replace=oi,qe.element_getAnAttributeByName=ni,qe.element_getAnAttributeByNamespaceAndLocalName=ci,qe.element_getAnAttributeValue=function(hi,di,fi){fi===void 0&&(fi="");var mi=ci(fi,di,hi);return mi===null?"":mi._value},qe.element_setAnAttribute=function(hi,di){if(hi._element!==null&&hi._element!==di)throw new Qe.InUseAttributeError("This attribute already exists in the document: "+hi._qualifiedName+" as a child of "+hi._element._qualifiedName+".");var fi=ci(hi._namespace||"",hi._localName,di);return fi===hi?hi:(fi!==null?oi(fi,hi,di):ui(hi,di),fi)},qe.element_setAnAttributeValue=function(hi,di,fi,mi,pi){mi===void 0&&(mi=null),pi===void 0&&(pi=null);var wi=ci(pi||"",di,hi);if(wi===null){var gi=Je.create_attr(hi._nodeDocument,di);return gi._namespace=pi,gi._namespacePrefix=mi,gi._value=fi,void ui(gi,hi)}si(wi,hi,fi)},qe.element_removeAnAttributeByName=function(hi,di){var fi=ni(hi,di);return fi!==null&&ai(fi,di),fi},qe.element_removeAnAttributeByNamespaceAndLocalName=function(hi,di,fi){var mi=ci(hi,di,fi);return mi!==null&&ai(mi,fi),mi},qe.element_createAnElement=function(hi,di,fi,mi,pi,wi){mi===void 0&&(mi=null),pi===void 0&&(pi=null),wi===void 0&&(wi=!1);var gi=null;if(!Ye.dom.features.customElements)return(gi=Je.create_element(hi,di,fi,mi))._customElementState="uncustomized",gi._customElementDefinition=null,gi._is=pi,gi;var yi=St.customElement_lookUpACustomElementDefinition(hi,fi,di,pi);if(yi!==null&&yi.name!==yi.localName)(gi=new(ri.document_elementInterface(di,Ke.namespace.HTML)))._localName=di,gi._namespace=Ke.namespace.HTML,gi._namespacePrefix=mi,gi._customElementState="undefined",gi._customElementDefinition=null,gi._is=pi,gi._nodeDocument=hi,wi?St.customElement_upgrade(yi,gi):St.customElement_enqueueACustomElementUpgradeReaction(gi,yi);else if(yi!==null)if(wi)try{var Ai=new yi.constructor;if(console.assert(Ai._customElementState!==void 0),console.assert(Ai._customElementDefinition!==void 0),console.assert(Ai._namespace===Ke.namespace.HTML),Ai._attributeList.length!==0)throw new Qe.NotSupportedError("Custom element already has attributes.");if(Ai._children.size!==0)throw new Qe.NotSupportedError("Custom element already has child nodes.");if(Ai._parent!==null)throw new Qe.NotSupportedError("Custom element already has a parent node.");if(Ai._nodeDocument!==hi)throw new Qe.NotSupportedError("Custom element is already in a document.");if(Ai._localName!==di)throw new Qe.NotSupportedError("Custom element has a different local name.");Ai._namespacePrefix=mi,Ai._is=null}catch{(gi=Je.create_htmlUnknownElement(hi,di,Ke.namespace.HTML,mi))._customElementState="failed",gi._customElementDefinition=null,gi._is=null}else(gi=Je.create_htmlElement(hi,di,Ke.namespace.HTML,mi))._customElementState="undefined",gi._customElementDefinition=null,gi._is=null,St.customElement_enqueueACustomElementUpgradeReaction(gi,yi);else(gi=new(ri.document_elementInterface(di,fi)))._localName=di,gi._namespace=fi,gi._namespacePrefix=mi,gi._customElementState="uncustomized",gi._customElementDefinition=null,gi._is=pi,gi._nodeDocument=hi,fi!==Ke.namespace.HTML||pi===null&&!St.customElement_isValidCustomElementName(di)||(gi._customElementState="undefined");if(gi===null)throw new Error("Unable to create element.");return gi},qe.element_insertAdjacent=function(hi,di,fi){switch(di.toLowerCase()){case"beforebegin":return hi._parent===null?null:ii.mutation_preInsert(fi,hi._parent,hi);case"afterbegin":return ii.mutation_preInsert(fi,hi,hi._firstChild);case"beforeend":return ii.mutation_preInsert(fi,hi,null);case"afterend":return hi._parent===null?null:ii.mutation_preInsert(fi,hi._parent,hi._nextSibling);default:throw new Qe.SyntaxError(`Invalid 'where' argument. "beforebegin", "afterbegin", "beforeend" or "afterend" expected`)}}},function(ze,qe,Xe){function Ye(Ke,Ze){Error.call(this),this.name="YAMLException",this.reason=Ke,this.mark=Ze,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Ye.prototype=Object.create(Error.prototype),Ye.prototype.constructor=Ye,Ye.prototype.toString=function(Ke){var Ze=this.name+": ";return Ze+=this.reason||"(unknown reason)",!Ke&&this.mark&&(Ze+=" "+this.mark.toString()),Ze},ze.exports=Ye},function(ze,qe,Xe){var Ye=Xe(39);ze.exports=new Ye({include:[Xe(181)],implicit:[Xe(294),Xe(295)],explicit:[Xe(296),Xe(297),Xe(298),Xe(299)]})},function(ze,qe,Xe){var Ye=Xe(16),Ke=Xe(79),Ze=Xe(40),Qe=Xe(24),Je=Xe(56),St=Xe(14),ei=Xe(115),ti=Object.getOwnPropertyDescriptor;qe.f=Ye?ti:function(ii,ri){if(ii=Qe(ii),ri=Je(ri,!0),ei)try{return ti(ii,ri)}catch{}if(St(ii,ri))return Ze(!Ke.f.call(ii,ri),ii[ri])}},function(ze,qe,Xe){var Ye=Xe(13);ze.exports=function(Ke,Ze){if(!Ye(Ke))return Ke;var Qe,Je;if(Ze&&typeof(Qe=Ke.toString)=="function"&&!Ye(Je=Qe.call(Ke))||typeof(Qe=Ke.valueOf)=="function"&&!Ye(Je=Qe.call(Ke))||!Ze&&typeof(Qe=Ke.toString)=="function"&&!Ye(Je=Qe.call(Ke)))return Je;throw TypeError("Can't convert object to primitive value")}},function(ze,qe,Xe){var Ye=Xe(81),Ke=Xe(58),Ze=Ye("keys");ze.exports=function(Qe){return Ze[Qe]||(Ze[Qe]=Ke(Qe))}},function(ze,qe){var Xe=0,Ye=Math.random();ze.exports=function(Ke){return"Symbol("+String(Ke===void 0?"":Ke)+")_"+(++Xe+Ye).toString(36)}},function(ze,qe,Xe){var Ye=Xe(42);ze.exports=Array.isArray||function(Ke){return Ye(Ke)=="Array"}},function(ze,qe,Xe){var Ye,Ke=Xe(18),Ze=Xe(188),Qe=Xe(84),Je=Xe(45),St=Xe(189),ei=Xe(116),ti=Xe(57),ii=ti("IE_PROTO"),ri=function(){},si=function(ai){return"<script>"+ai+"<\/script>"},ui=function(){try{Ye=document.domain&&new ActiveXObject("htmlfile")}catch{}var ai,oi;ui=Ye?function(ci){ci.write(si("")),ci.close();var hi=ci.parentWindow.Object;return ci=null,hi}(Ye):((oi=ei("iframe")).style.display="none",St.appendChild(oi),oi.src="javascript:",(ai=oi.contentWindow.document).open(),ai.write(si("document.F=Object")),ai.close(),ai.F);for(var ni=Qe.length;ni--;)delete ui.prototype[Qe[ni]];return ui()};Je[ii]=!0,ze.exports=Object.create||function(ai,oi){var ni;return ai!==null?(ri.prototype=Ke(ai),ni=new ri,ri.prototype=null,ni[ii]=ai):ni=ui(),oi===void 0?ni:Ze(ni,oi)}},function(ze,qe,Xe){var Ye=Xe(121),Ke=Xe(84);ze.exports=Object.keys||function(Ze){return Ye(Ze,Ke)}},function(ze,qe,Xe){var Ye=Xe(15).f,Ke=Xe(14),Ze=Xe(5)("toStringTag");ze.exports=function(Qe,Je,St){Qe&&!Ke(Qe=St?Qe:Qe.prototype,Ze)&&Ye(Qe,Ze,{configurable:!0,value:Je})}},function(ze,qe,Xe){var Ye=Xe(8),Ke=Xe(5),Ze=Xe(129),Qe=Ke("species");ze.exports=function(Je){return Ze>=51||!Ye(function(){var St=[];return(St.constructor={})[Qe]=function(){return{foo:1}},St[Je](Boolean).foo!==1})}},function(ze,qe,Xe){var Ye=Xe(4),Ke=Xe(122).indexOf,Ze=Xe(48),Qe=Xe(28),Je=[].indexOf,St=!!Je&&1/[1].indexOf(1,-0)<0,ei=Ze("indexOf"),ti=Qe("indexOf",{ACCESSORS:!0,1:0});Ye({target:"Array",proto:!0,forced:St||!ei||!ti},{indexOf:function(ii){return St?Je.apply(this,arguments)||0:Ke(this,ii,arguments.length>1?arguments[1]:void 0)}})},function(ze,qe,Xe){var Ye=Xe(16),Ke=Xe(15).f,Ze=Function.prototype,Qe=Ze.toString,Je=/^\s*function ([^ (]*)/;Ye&&!("name"in Ze)&&Ke(Ze,"name",{configurable:!0,get:function(){try{return Qe.call(this).match(Je)[1]}catch{return""}}})},function(ze,qe,Xe){var Ye=Xe(25),Ke=Xe(18),Ze=Xe(8),Qe=Xe(136),Je=RegExp.prototype,St=Je.toString,ei=Ze(function(){return St.call({source:"a",flags:"b"})!="/a/b"}),ti=St.name!="toString";(ei||ti)&&Ye(RegExp.prototype,"toString",function(){var ii=Ke(this),ri=String(ii.source),si=ii.flags;return"/"+ri+"/"+String(si===void 0&&ii instanceof RegExp&&!("flags"in Je)?Qe.call(ii):si)},{unsafe:!0})},function(ze,qe,Xe){Xe(31),Xe(32),Xe(33),Xe(19),Xe(138),Xe(20),Xe(66),Xe(22),Xe(23);var Ye,Ke=this&&this.__extends||(Ye=function(ei,ti){return(Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ii,ri){ii.__proto__=ri}||function(ii,ri){for(var si in ri)ri.hasOwnProperty(si)&&(ii[si]=ri[si])})(ei,ti)},function(ei,ti){function ii(){this.constructor=ei}Ye(ei,ti),ei.prototype=ti===null?Object.create(ti):(ii.prototype=ti.prototype,new ii)}),Ze=this&&this.__values||function(ei){var ti=typeof Symbol=="function"&&Symbol.iterator,ii=ti&&ei[ti],ri=0;if(ii)return ii.call(ei);if(ei&&typeof ei.length=="number")return{next:function(){return ei&&ri>=ei.length&&(ei=void 0),{value:ei&&ei[ri++],done:!ei}}};throw new TypeError(ti?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(qe,"__esModule",{value:!0});var Qe=Xe(2),Je=Xe(1),St=function(ei){function ti(ii,ri){var si=ei.call(this,ii)||this;return si._writerOptions=Qe.applyDefaults(ri,{format:"object",wellFormed:!1,group:!1,verbose:!1}),si}return Ke(ti,ei),ti.prototype.serialize=function(ii){return this._currentList=[],this._currentIndex=0,this._listRegister=[this._currentList],this.serializeNode(ii,this._writerOptions.wellFormed),this._process(this._currentList,this._writerOptions)},ti.prototype._process=function(ii,ri){var si,ui,ai,oi,ni,ci,hi;if(ii.length===0)return{};for(var di={},fi=!1,mi=0,pi=0,wi=0,gi=0,yi=0;yi<ii.length;yi++){var Ai=ii[yi];switch(Qi=Object.keys(Ai)[0]){case"@":continue;case"#":mi++;break;case"!":pi++;break;case"?":wi++;break;case"$":gi++;break;default:di[Qi]?fi=!0:di[Qi]=!0}}var Si=this._getAttrKey(),ki=this._getNodeKey(Je.NodeType.Text),Li=this._getNodeKey(Je.NodeType.Comment),Bi=this._getNodeKey(Je.NodeType.ProcessingInstruction),Pi=this._getNodeKey(Je.NodeType.CData);if(mi===1&&ii.length===1&&Qe.isString(ii[0]["#"]))return ii[0]["#"];if(fi){var Ri={};for(yi=0;yi<ii.length;yi++)if(Ai=ii[yi],(Qi=Object.keys(Ai)[0])==="@"){var Fi=Ai["@"];(Ei=Object.keys(Fi)).length===1?Ri[Si+Ei[0]]=Fi[Ei[0]]:Ri[Si]=Ai["@"]}var Gi=[];for(yi=0;yi<ii.length;yi++)switch(Ai=ii[yi],Qi=Object.keys(Ai)[0]){case"@":break;case"#":Gi.push(((si={})[ki]=Ai["#"],si));break;case"!":Gi.push(((ui={})[Li]=Ai["!"],ui));break;case"?":Gi.push(((ai={})[Bi]=Ai["?"],ai));break;case"$":Gi.push(((oi={})[Pi]=Ai.$,oi));break;default:if((Ci=Ai)[Qi].length!==0&&Qe.isArray(Ci[Qi][0])){for(var Ti=[],Vi=Ci[Qi],Ui=0;Ui<Vi.length;Ui++)Ti.push(this._process(Vi[Ui],ri));Gi.push(((ni={})[Qi]=Ti,ni))}else ri.verbose?Gi.push(((ci={})[Qi]=[this._process(Ci[Qi],ri)],ci)):Gi.push(((hi={})[Qi]=this._process(Ci[Qi],ri),hi))}return Ri[ki]=Gi,Ri}var $i=1,Wi=1,tn=1,nn=1;for(Ri={},yi=0;yi<ii.length;yi++){var Qi;switch(Ai=ii[yi],Qi=Object.keys(Ai)[0]){case"@":Fi=Ai["@"];var Ei=Object.keys(Fi);if(ri.group&&Ei.length!==1)Ri[Si]=Fi;else for(var bi in Fi)Ri[Si+bi]=Fi[bi];break;case"#":$i=this._processSpecItem(Ai["#"],Ri,ri.group,ki,mi,$i);break;case"!":Wi=this._processSpecItem(Ai["!"],Ri,ri.group,Li,pi,Wi);break;case"?":tn=this._processSpecItem(Ai["?"],Ri,ri.group,Bi,wi,tn);break;case"$":nn=this._processSpecItem(Ai.$,Ri,ri.group,Pi,gi,nn);break;default:var Ci;if((Ci=Ai)[Qi].length!==0&&Qe.isArray(Ci[Qi][0])){Ti=[],Vi=Ci[Qi];for(var _i=0;_i<Vi.length;_i++)Ti.push(this._process(Vi[_i],ri));Ri[Qi]=Ti}else ri.verbose?Ri[Qi]=[this._process(Ci[Qi],ri)]:Ri[Qi]=this._process(Ci[Qi],ri)}}return Ri},ti.prototype._processSpecItem=function(ii,ri,si,ui,ai,oi){var ni,ci;if(!si&&Qe.isArray(ii)&&ai+ii.length>2)try{for(var hi=Ze(ii),di=hi.next();!di.done;di=hi.next()){var fi=di.value;ri[ui+(oi++).toString()]=fi}}catch(mi){ni={error:mi}}finally{try{di&&!di.done&&(ci=hi.return)&&ci.call(hi)}finally{if(ni)throw ni.error}}else ri[ai>1?ui+(oi++).toString():ui]=ii;return oi},ti.prototype.beginElement=function(ii){var ri,si,ui=[];if(this._currentList.length===0)this._currentList.push(((ri={})[ii]=ui,ri));else{var ai=this._currentList[this._currentList.length-1];this._isElementNode(ai,ii)?ai[ii].length!==0&&Qe.isArray(ai[ii][0])?ai[ii].push(ui):ai[ii]=[ai[ii],ui]:this._currentList.push(((si={})[ii]=ui,si))}this._currentIndex++,this._listRegister.length>this._currentIndex?this._listRegister[this._currentIndex]=ui:this._listRegister.push(ui),this._currentList=ui},ti.prototype.endElement=function(){this._currentList=this._listRegister[--this._currentIndex]},ti.prototype.attribute=function(ii,ri){var si,ui;if(this._currentList.length===0)this._currentList.push({"@":(si={},si[ii]=ri,si)});else{var ai=this._currentList[this._currentList.length-1];this._isAttrNode(ai)?ai["@"][ii]=ri:this._currentList.push({"@":(ui={},ui[ii]=ri,ui)})}},ti.prototype.comment=function(ii){if(this._currentList.length===0)this._currentList.push({"!":ii});else{var ri=this._currentList[this._currentList.length-1];this._isCommentNode(ri)?Qe.isArray(ri["!"])?ri["!"].push(ii):ri["!"]=[ri["!"],ii]:this._currentList.push({"!":ii})}},ti.prototype.text=function(ii){if(this._currentList.length===0)this._currentList.push({"#":ii});else{var ri=this._currentList[this._currentList.length-1];this._isTextNode(ri)?Qe.isArray(ri["#"])?ri["#"].push(ii):ri["#"]=[ri["#"],ii]:this._currentList.push({"#":ii})}},ti.prototype.instruction=function(ii,ri){var si=ri===""?ii:ii+" "+ri;if(this._currentList.length===0)this._currentList.push({"?":si});else{var ui=this._currentList[this._currentList.length-1];this._isInstructionNode(ui)?Qe.isArray(ui["?"])?ui["?"].push(si):ui["?"]=[ui["?"],si]:this._currentList.push({"?":si})}},ti.prototype.cdata=function(ii){if(this._currentList.length===0)this._currentList.push({$:ii});else{var ri=this._currentList[this._currentList.length-1];this._isCDATANode(ri)?Qe.isArray(ri.$)?ri.$.push(ii):ri.$=[ri.$,ii]:this._currentList.push({$:ii})}},ti.prototype._isAttrNode=function(ii){return"@"in ii},ti.prototype._isTextNode=function(ii){return"#"in ii},ti.prototype._isCommentNode=function(ii){return"!"in ii},ti.prototype._isInstructionNode=function(ii){return"?"in ii},ti.prototype._isCDATANode=function(ii){return"$"in ii},ti.prototype._isElementNode=function(ii,ri){return ri in ii},ti.prototype._getAttrKey=function(){return this._builderOptions.convert.att},ti.prototype._getNodeKey=function(ii){switch(ii){case Je.NodeType.Comment:return this._builderOptions.convert.comment;case Je.NodeType.Text:return this._builderOptions.convert.text;case Je.NodeType.ProcessingInstruction:return this._builderOptions.convert.ins;case Je.NodeType.CData:return this._builderOptions.convert.cdata;default:throw new Error("Invalid node type.")}},ti}(Xe(50).BaseWriter);qe.ObjectWriter=St},function(ze,qe,Xe){var Ye=Xe(4),Ke=Xe(93);Ye({target:"RegExp",proto:!0,forced:/./.exec!==Ke},{exec:Ke})},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=function(){function Ke(){this._items={},this._nullItems={}}return Ke.prototype.set=function(Ze,Qe){Ze===null?this._nullItems[Qe]=!0:(this._items[Ze]||(this._items[Ze]={}),this._items[Ze][Qe]=!0)},Ke.prototype.has=function(Ze,Qe){return Ze===null?this._nullItems[Qe]===!0:!!this._items[Ze]&&this._items[Ze][Qe]===!0},Ke}();qe.LocalNameSet=Ye},function(ze,qe,Xe){var Ye=this&&this.__read||function(St,ei){var ti=typeof Symbol=="function"&&St[Symbol.iterator];if(!ti)return St;var ii,ri,si=ti.call(St),ui=[];try{for(;(ei===void 0||ei-- >0)&&!(ii=si.next()).done;)ui.push(ii.value)}catch(ai){ri={error:ai}}finally{try{ii&&!ii.done&&(ti=si.return)&&ti.call(si)}finally{if(ri)throw ri.error}}return ui};Object.defineProperty(qe,"__esModule",{value:!0});var Ke=Xe(9),Ze=Xe(3),Qe=Xe(0),Je=function(){function St(){}return Object.defineProperty(St.prototype,"_eventListenerList",{get:function(){return this.__eventListenerList||(this.__eventListenerList=[])},enumerable:!0,configurable:!0}),Object.defineProperty(St.prototype,"_eventHandlerMap",{get:function(){return this.__eventHandlerMap||(this.__eventHandlerMap={})},enumerable:!0,configurable:!0}),St.prototype.addEventListener=function(ei,ti,ii){ii===void 0&&(ii={passive:!1,once:!1,capture:!1});var ri,si=Ye(Qe.eventTarget_flattenMore(ii),3),ui=si[0],ai=si[1],oi=si[2];ti&&(ri=Ze.Guard.isEventListener(ti)?ti:{handleEvent:ti},Qe.eventTarget_addEventListener(this,{type:ei,callback:ri,capture:ui,passive:ai,once:oi,removed:!1}))},St.prototype.removeEventListener=function(ei,ti,ii){ii===void 0&&(ii={capture:!1});var ri=Qe.eventTarget_flatten(ii);if(ti)for(var si=0;si<this._eventListenerList.length;si++){var ui=this._eventListenerList[si];if(ui.type===ei&&ui.capture===ri){if(Ze.Guard.isEventListener(ti)&&ui.callback===ti){Qe.eventTarget_removeEventListener(this,ui,si);break}if(ti&&ui.callback.handleEvent===ti){Qe.eventTarget_removeEventListener(this,ui,si);break}}}},St.prototype.dispatchEvent=function(ei){if(ei._dispatchFlag||!ei._initializedFlag)throw new Ke.InvalidStateError;return ei._isTrusted=!1,Qe.event_dispatch(ei,this)},St.prototype._getTheParent=function(ei){return null},St}();qe.EventTargetImpl=Je},function(ze,qe,Xe){var Ye,Ke=this&&this.__extends||(Ye=function(St,ei){return(Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ti,ii){ti.__proto__=ii}||function(ti,ii){for(var ri in ii)ii.hasOwnProperty(ri)&&(ti[ri]=ii[ri])})(St,ei)},function(St,ei){function ti(){this.constructor=St}Ye(St,ei),St.prototype=ei===null?Object.create(ei):(ti.prototype=ei.prototype,new ti)});Object.defineProperty(qe,"__esModule",{value:!0});var Ze=Xe(34),Qe=Xe(0),Je=function(St){function ei(ti){var ii=St.call(this)||this;return ii._data=ti,ii}return Ke(ei,St),Object.defineProperty(ei.prototype,"data",{get:function(){return this._data},set:function(ti){Qe.characterData_replaceData(this,0,this._data.length,ti)},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"length",{get:function(){return this._data.length},enumerable:!0,configurable:!0}),ei.prototype.substringData=function(ti,ii){return Qe.characterData_substringData(this,ti,ii)},ei.prototype.appendData=function(ti){return Qe.characterData_replaceData(this,this._data.length,0,ti)},ei.prototype.insertData=function(ti,ii){Qe.characterData_replaceData(this,ti,0,ii)},ei.prototype.deleteData=function(ti,ii){Qe.characterData_replaceData(this,ti,ii,"")},ei.prototype.replaceData=function(ti,ii,ri){Qe.characterData_replaceData(this,ti,ii,ri)},Object.defineProperty(ei.prototype,"previousElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"nextElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),ei.prototype.before=function(){for(var ti=[],ii=0;ii<arguments.length;ii++)ti[ii]=arguments[ii];throw new Error("Mixin: ChildNode not implemented.")},ei.prototype.after=function(){for(var ti=[],ii=0;ii<arguments.length;ii++)ti[ii]=arguments[ii];throw new Error("Mixin: ChildNode not implemented.")},ei.prototype.replaceWith=function(){for(var ti=[],ii=0;ii<arguments.length;ii++)ti[ii]=arguments[ii];throw new Error("Mixin: ChildNode not implemented.")},ei.prototype.remove=function(){throw new Error("Mixin: ChildNode not implemented.")},ei}(Ze.NodeImpl);qe.CharacterDataImpl=Je},function(ze,qe,Xe){var Ye=this&&this.__values||function(ai){var oi=typeof Symbol=="function"&&Symbol.iterator,ni=oi&&ai[oi],ci=0;if(ni)return ni.call(ai);if(ai&&typeof ai.length=="number")return{next:function(){return ai&&ci>=ai.length&&(ai=void 0),{value:ai&&ai[ci++],done:!ai}}};throw new TypeError(oi?"Object is not iterable.":"Symbol.iterator is not defined.")},Ke=this&&this.__read||function(ai,oi){var ni=typeof Symbol=="function"&&ai[Symbol.iterator];if(!ni)return ai;var ci,hi,di=ni.call(ai),fi=[];try{for(;(oi===void 0||oi-- >0)&&!(ci=di.next()).done;)fi.push(ci.value)}catch(mi){hi={error:mi}}finally{try{ci&&!ci.done&&(ni=di.return)&&ni.call(di)}finally{if(hi)throw hi.error}}return fi},Ze=this&&this.__spread||function(){for(var ai=[],oi=0;oi<arguments.length;oi++)ai=ai.concat(Ke(arguments[oi]));return ai};Object.defineProperty(qe,"__esModule",{value:!0});var Qe=Xe(6),Je=Xe(3),St=Xe(2),ei=Xe(17),ti=Xe(51);function ii(ai){Qe.dom.window._signalSlots.add(ai),ti.observer_queueAMutationObserverMicrotask()}function ri(ai,oi){oi===void 0&&(oi=!1);var ni=Je.Cast.asNode(ai)._parent;if(ni===null)return null;var ci=ni._shadowRoot||null;if(ci===null||oi&&ci._mode!=="open")return null;for(var hi=ei.tree_getFirstDescendantNode(ci,!1,!0,function(di){return Je.Guard.isSlot(di)});hi!==null;){if(hi._name===ai._name)return hi;hi=ei.tree_getNextDescendantNode(ci,hi,!1,!0,function(di){return Je.Guard.isSlot(di)})}return null}function si(ai){var oi,ni,ci=[],hi=ei.tree_rootNode(ai);if(!Je.Guard.isShadowRoot(hi))return ci;var di=hi._host;try{for(var fi=Ye(di._children),mi=fi.next();!mi.done;mi=fi.next()){var pi=mi.value;Je.Guard.isSlotable(pi)&&ri(pi)===ai&&ci.push(pi)}}catch(wi){oi={error:wi}}finally{try{mi&&!mi.done&&(ni=fi.return)&&ni.call(fi)}finally{if(oi)throw oi.error}}return ci}function ui(ai){var oi,ni,ci=si(ai);if(ci.length===ai._assignedNodes.length){for(var hi=!0,di=0;di<ci.length;di++)if(ci[di]!==ai._assignedNodes[di]){hi=!1;break}hi||ii(ai)}ai._assignedNodes=ci;try{for(var fi=Ye(ci),mi=fi.next();!mi.done;mi=fi.next())mi.value._assignedSlot=ai}catch(pi){oi={error:pi}}finally{try{mi&&!mi.done&&(ni=fi.return)&&ni.call(fi)}finally{if(oi)throw oi.error}}}qe.shadowTree_signalASlotChange=ii,qe.shadowTree_isConnected=function(ai){return Je.Guard.isDocumentNode(ei.tree_rootNode(ai,!0))},qe.shadowTree_isAssigned=function(ai){return ai._assignedSlot!==null},qe.shadowTree_findASlot=ri,qe.shadowTree_findSlotables=si,qe.shadowTree_findFlattenedSlotables=function ai(oi){var ni,ci,hi,di,fi=[],mi=ei.tree_rootNode(oi);if(!Je.Guard.isShadowRoot(mi))return fi;var pi=si(oi);if(St.isEmpty(pi))try{for(var wi=Ye(oi._children),gi=wi.next();!gi.done;gi=wi.next()){var yi=gi.value;Je.Guard.isSlotable(yi)&&pi.push(yi)}}catch(Bi){ni={error:Bi}}finally{try{gi&&!gi.done&&(ci=wi.return)&&ci.call(wi)}finally{if(ni)throw ni.error}}try{for(var Ai=Ye(pi),Si=Ai.next();!Si.done;Si=Ai.next()){var ki=Si.value;if(Je.Guard.isSlot(ki)&&Je.Guard.isShadowRoot(ei.tree_rootNode(ki))){var Li=ai(ki);fi.push.apply(fi,Ze(Li))}else fi.push(ki)}}catch(Bi){hi={error:Bi}}finally{try{Si&&!Si.done&&(di=Ai.return)&&di.call(Ai)}finally{if(hi)throw hi.error}}return fi},qe.shadowTree_assignSlotables=ui,qe.shadowTree_assignSlotablesForATree=function(ai){for(var oi=ei.tree_getFirstDescendantNode(ai,!0,!1,function(ni){return Je.Guard.isSlot(ni)});oi!==null;)ui(oi),oi=ei.tree_getNextDescendantNode(ai,oi,!0,!1,function(ni){return Je.Guard.isSlot(ni)})},qe.shadowTree_assignASlot=function(ai){var oi=ri(ai);oi!==null&&ui(oi)}},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=/[a-z]([\0-\t\x2D\._a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*-([\0-\t\x2D\._a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*/,Ke=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]),Ze=new Set(["article","aside","blockquote","body","div","footer","h1","h2","h3","h4","h5","h6","header","main","nav","p","section","span"]),Qe=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),Je=new Set(["article","aside","blockquote","body","div","footer","h1","h2","h3","h4","h5","h6","header","main","nav","p","section","span"]);qe.customElement_isValidCustomElementName=function(St){return!!Ye.test(St)&&!Ke.has(St)},qe.customElement_isValidElementName=function(St){return Ze.has(St)},qe.customElement_isVoidElementName=function(St){return Qe.has(St)},qe.customElement_isValidShadowHostName=function(St){return Je.has(St)},qe.customElement_enqueueACustomElementUpgradeReaction=function(St,ei){},qe.customElement_enqueueACustomElementCallbackReaction=function(St,ei,ti){},qe.customElement_upgrade=function(St,ei){},qe.customElement_tryToUpgrade=function(St){},qe.customElement_lookUpACustomElementDefinition=function(St,ei,ti,ii){return null}},function(ze,qe,Xe){Xe(4)({target:"String",proto:!0},{repeat:Xe(260)})},function(ze,qe,Xe){Xe(279),Xe(68),Xe(179),Xe(94),Object.defineProperty(qe,"__esModule",{value:!0});var Ye=Xe(109),Ke=function(){function Ze(Qe){this._builderOptions=Qe,Qe.parser&&Object.assign(this,Qe.parser)}return Ze.prototype._docType=function(Qe,Je,St,ei){return Qe.dtd({name:Je,pubID:St,sysID:ei})},Ze.prototype._comment=function(Qe,Je){return Qe.com(Je)},Ze.prototype._text=function(Qe,Je){return Qe.txt(Je)},Ze.prototype._instruction=function(Qe,Je,St){return Qe.ins(Je,St)},Ze.prototype._cdata=function(Qe,Je){return Qe.dat(Je)},Ze.prototype._element=function(Qe,Je,St){return Je===void 0?Qe.ele(St):Qe.ele(Je,St)},Ze.prototype._attribute=function(Qe,Je,St,ei){return Je===void 0?Qe.att(St,ei):Qe.att(Je,St,ei)},Ze.prototype._sanitize=function(Qe){return Ye.sanitizeInput(Qe,this._builderOptions.invalidCharReplacement)},Ze.prototype._decodeText=function(Qe){return Qe==null?Qe:Qe.replace(/&(quot|amp|apos|lt|gt);/g,function(Je,St){return Ze._entityTable[St]}).replace(/&#(?:x([a-fA-F0-9]+)|([0-9]+));/g,function(Je,St,ei){return String.fromCodePoint(parseInt(St||ei,St?16:10))})},Ze.prototype._decodeAttributeValue=function(Qe){return this._decodeText(Qe)},Ze.prototype.parse=function(Qe,Je){return this._parse(Qe,Je)},Ze.prototype.docType=function(Qe,Je,St,ei){return this._docType(Qe,Je,St,ei)},Ze.prototype.comment=function(Qe,Je){return this._comment(Qe,Je)},Ze.prototype.text=function(Qe,Je){return this._text(Qe,Je)},Ze.prototype.instruction=function(Qe,Je,St){return this._instruction(Qe,Je,St)},Ze.prototype.cdata=function(Qe,Je){return this._cdata(Qe,Je)},Ze.prototype.element=function(Qe,Je,St){return this._element(Qe,Je,St)},Ze.prototype.attribute=function(Qe,Je,St,ei){return this._attribute(Qe,Je,St,ei)},Ze.prototype.sanitize=function(Qe){return this._sanitize(Qe)},Ze._entityTable={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"},Ze}();qe.BaseReader=Ke},function(ze,qe,Xe){var Ye=Xe(39);ze.exports=Ye.DEFAULT=new Ye({include:[Xe(54)],explicit:[Xe(300),Xe(301),Xe(302)]})},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=Xe(185);qe.XMLBuilderImpl=Ye.XMLBuilderImpl;var Ke=Xe(305);qe.XMLBuilderCBImpl=Ke.XMLBuilderCBImpl;var Ze=Xe(183);qe.builder=Ze.builder,qe.create=Ze.create,qe.fragment=Ze.fragment,qe.convert=Ze.convert;var Qe=Xe(310);qe.createCB=Qe.createCB,qe.fragmentCB=Qe.fragmentCB},function(ze,qe){var Xe;Xe=function(){return this}();try{Xe=Xe||new Function("return this")()}catch{typeof window=="object"&&(Xe=window)}ze.exports=Xe},function(ze,qe,Xe){var Ye={}.propertyIsEnumerable,Ke=Object.getOwnPropertyDescriptor,Ze=Ke&&!Ye.call({1:2},1);qe.f=Ze?function(Qe){var Je=Ke(this,Qe);return!!Je&&Je.enumerable}:Ye},function(ze,qe,Xe){var Ye=Xe(11),Ke=Xe(21);ze.exports=function(Ze,Qe){try{Ke(Ye,Ze,Qe)}catch{Ye[Ze]=Qe}return Qe}},function(ze,qe,Xe){var Ye=Xe(44),Ke=Xe(118);(ze.exports=function(Ze,Qe){return Ke[Ze]||(Ke[Ze]=Qe!==void 0?Qe:{})})("versions",[]).push({version:"3.6.5",mode:Ye?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},function(ze,qe,Xe){var Ye=Xe(121),Ke=Xe(84).concat("length","prototype");qe.f=Object.getOwnPropertyNames||function(Ze){return Ye(Ze,Ke)}},function(ze,qe,Xe){var Ye=Xe(47),Ke=Math.max,Ze=Math.min;ze.exports=function(Qe,Je){var St=Ye(Qe);return St<0?Ke(St+Je,0):Ze(St,Je)}},function(ze,qe){ze.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(ze,qe){qe.f=Object.getOwnPropertySymbols},function(ze,qe,Xe){var Ye=Xe(8);ze.exports=!!Object.getOwnPropertySymbols&&!Ye(function(){return!String(Symbol())})},function(ze,qe,Xe){var Ye=Xe(127);ze.exports=function(Ke,Ze,Qe){if(Ye(Ke),Ze===void 0)return Ke;switch(Qe){case 0:return function(){return Ke.call(Ze)};case 1:return function(Je){return Ke.call(Ze,Je)};case 2:return function(Je,St){return Ke.call(Ze,Je,St)};case 3:return function(Je,St,ei){return Ke.call(Ze,Je,St,ei)}}return function(){return Ke.apply(Ze,arguments)}}},function(ze,qe,Xe){var Ye=Xe(4),Ke=Xe(195),Ze=Xe(132),Qe=Xe(133),Je=Xe(62),St=Xe(21),ei=Xe(25),ti=Xe(5),ii=Xe(44),ri=Xe(49),si=Xe(131),ui=si.IteratorPrototype,ai=si.BUGGY_SAFARI_ITERATORS,oi=ti("iterator"),ni=function(){return this};ze.exports=function(ci,hi,di,fi,mi,pi,wi){Ke(di,hi,fi);var gi,yi,Ai,Si=function(Gi){if(Gi===mi&&Ri)return Ri;if(!ai&&Gi in Bi)return Bi[Gi];switch(Gi){case"keys":case"values":case"entries":return function(){return new di(this,Gi)}}return function(){return new di(this)}},ki=hi+" Iterator",Li=!1,Bi=ci.prototype,Pi=Bi[oi]||Bi["@@iterator"]||mi&&Bi[mi],Ri=!ai&&Pi||Si(mi),Fi=hi=="Array"&&Bi.entries||Pi;if(Fi&&(gi=Ze(Fi.call(new ci)),ui!==Object.prototype&&gi.next&&(ii||Ze(gi)===ui||(Qe?Qe(gi,ui):typeof gi[oi]!="function"&&St(gi,oi,ni)),Je(gi,ki,!0,!0),ii&&(ri[ki]=ni))),mi=="values"&&Pi&&Pi.name!=="values"&&(Li=!0,Ri=function(){return Pi.call(this)}),ii&&!wi||Bi[oi]===Ri||St(Bi,oi,Ri),ri[hi]=Ri,mi)if(yi={values:Si("values"),keys:pi?Ri:Si("keys"),entries:Si("entries")},wi)for(Ai in yi)(ai||Li||!(Ai in Bi))&&ei(Bi,Ai,yi[Ai]);else Ye({target:hi,proto:!0,forced:ai||Li},yi);return yi}},function(ze,qe,Xe){var Ye=Xe(4),Ke=Xe(13),Ze=Xe(59),Qe=Xe(83),Je=Xe(26),St=Xe(24),ei=Xe(134),ti=Xe(5),ii=Xe(63),ri=Xe(28),si=ii("slice"),ui=ri("slice",{ACCESSORS:!0,0:0,1:2}),ai=ti("species"),oi=[].slice,ni=Math.max;Ye({target:"Array",proto:!0,forced:!si||!ui},{slice:function(ci,hi){var di,fi,mi,pi=St(this),wi=Je(pi.length),gi=Qe(ci,wi),yi=Qe(hi===void 0?wi:hi,wi);if(Ze(pi)&&(typeof(di=pi.constructor)!="function"||di!==Array&&!Ze(di.prototype)?Ke(di)&&(di=di[ai])===null&&(di=void 0):di=void 0,di===Array||di===void 0))return oi.call(pi,gi,yi);for(fi=new(di===void 0?Array:di)(ni(yi-gi,0)),mi=0;gi<yi;gi++,mi++)gi in pi&&ei(fi,mi,pi[gi]);return fi.length=mi,fi}})},function(ze,qe,Xe){var Ye={};Ye[Xe(5)("toStringTag")]="z",ze.exports=String(Ye)==="[object z]"},function(ze,qe,Xe){Xe(19),Xe(138),Xe(20),Xe(92),Xe(22),Xe(23),Object.defineProperty(qe,"__esModule",{value:!0}),qe.DefaultBuilderOptions={version:"1.0",encoding:void 0,standalone:void 0,keepNullNodes:!1,keepNullAttributes:!1,ignoreConverters:!1,skipWhitespaceOnlyText:!0,convert:{att:"@",ins:"?",text:"#",cdata:"$",comment:"!"},defaultNamespace:{ele:void 0,att:void 0},namespaceAlias:{html:"http://www.w3.org/1999/xhtml",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"},invalidCharReplacement:void 0,parser:void 0},qe.XMLBuilderOptionKeys=new Set(Object.keys(qe.DefaultBuilderOptions)),qe.DefaultXMLBuilderCBOptions={format:"xml",wellFormed:!1,prettyPrint:!1,indent:"  ",newline:`
`,offset:0,width:0,allowEmptyTags:!1,spaceBeforeSlash:!1,keepNullNodes:!1,keepNullAttributes:!1,ignoreConverters:!1,convert:{att:"@",ins:"?",text:"#",cdata:"$",comment:"!"},defaultNamespace:{ele:void 0,att:void 0},namespaceAlias:{html:"http://www.w3.org/1999/xhtml",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"}}},function(ze,qe,Xe){var Ye=Xe(139),Ke=Xe(143);ze.exports=Ye("Set",function(Ze){return function(){return Ze(this,arguments.length?arguments[0]:void 0)}},Ke)},function(ze,qe,Xe){var Ye,Ke,Ze=Xe(136),Qe=Xe(221),Je=RegExp.prototype.exec,St=String.prototype.replace,ei=Je,ti=(Ye=/a/,Ke=/b*/g,Je.call(Ye,"a"),Je.call(Ke,"a"),Ye.lastIndex!==0||Ke.lastIndex!==0),ii=Qe.UNSUPPORTED_Y||Qe.BROKEN_CARET,ri=/()??/.exec("")[1]!==void 0;(ti||ri||ii)&&(ei=function(si){var ui,ai,oi,ni,ci=this,hi=ii&&ci.sticky,di=Ze.call(ci),fi=ci.source,mi=0,pi=si;return hi&&((di=di.replace("y","")).indexOf("g")===-1&&(di+="g"),pi=String(si).slice(ci.lastIndex),ci.lastIndex>0&&(!ci.multiline||ci.multiline&&si[ci.lastIndex-1]!==`
`)&&(fi="(?: "+fi+")",pi=" "+pi,mi++),ai=new RegExp("^(?:"+fi+")",di)),ri&&(ai=new RegExp("^"+fi+"$(?!\\s)",di)),ti&&(ui=ci.lastIndex),oi=Je.call(hi?ai:ci,pi),hi?oi?(oi.input=oi.input.slice(mi),oi[0]=oi[0].slice(mi),oi.index=ci.lastIndex,ci.lastIndex+=oi[0].length):ci.lastIndex=0:ti&&oi&&(ci.lastIndex=ci.global?oi.index+oi[0].length:ui),ri&&oi&&oi.length>1&&St.call(oi[0],ai,function(){for(ni=1;ni<arguments.length-2;ni++)arguments[ni]===void 0&&(oi[ni]=void 0)}),oi}),ze.exports=ei},function(ze,qe,Xe){var Ye=Xe(225),Ke=Xe(18),Ze=Xe(27),Qe=Xe(26),Je=Xe(47),St=Xe(35),ei=Xe(226),ti=Xe(227),ii=Math.max,ri=Math.min,si=Math.floor,ui=/\$([$&'`]|\d\d?|<[^>]*>)/g,ai=/\$([$&'`]|\d\d?)/g;Ye("replace",2,function(oi,ni,ci,hi){var di=hi.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,fi=hi.REPLACE_KEEPS_$0,mi=di?"$":"$0";return[function(wi,gi){var yi=St(this),Ai=wi==null?void 0:wi[oi];return Ai!==void 0?Ai.call(wi,yi,gi):ni.call(String(yi),wi,gi)},function(wi,gi){if(!di&&fi||typeof gi=="string"&&gi.indexOf(mi)===-1){var yi=ci(ni,wi,this,gi);if(yi.done)return yi.value}var Ai=Ke(wi),Si=String(this),ki=typeof gi=="function";ki||(gi=String(gi));var Li=Ai.global;if(Li){var Bi=Ai.unicode;Ai.lastIndex=0}for(var Pi=[];;){var Ri=ti(Ai,Si);if(Ri===null||(Pi.push(Ri),!Li))break;String(Ri[0])===""&&(Ai.lastIndex=ei(Si,Qe(Ai.lastIndex),Bi))}for(var Fi,Gi="",Ti=0,Vi=0;Vi<Pi.length;Vi++){Ri=Pi[Vi];for(var Ui=String(Ri[0]),$i=ii(ri(Je(Ri.index),Si.length),0),Wi=[],tn=1;tn<Ri.length;tn++)Wi.push((Fi=Ri[tn])===void 0?Fi:String(Fi));var nn=Ri.groups;if(ki){var Qi=[Ui].concat(Wi,$i,Si);nn!==void 0&&Qi.push(nn);var Ei=String(gi.apply(void 0,Qi))}else Ei=pi(Ui,Si,$i,Wi,nn,gi);$i>=Ti&&(Gi+=Si.slice(Ti,$i)+Ei,Ti=$i+Ui.length)}return Gi+Si.slice(Ti)}];function pi(wi,gi,yi,Ai,Si,ki){var Li=yi+wi.length,Bi=Ai.length,Pi=ai;return Si!==void 0&&(Si=Ze(Si),Pi=ui),ni.call(ki,Pi,function(Ri,Fi){var Gi;switch(Fi.charAt(0)){case"$":return"$";case"&":return wi;case"`":return gi.slice(0,yi);case"'":return gi.slice(Li);case"<":Gi=Si[Fi.slice(1,-1)];break;default:var Ti=+Fi;if(Ti===0)return Ri;if(Ti>Bi){var Vi=si(Ti/10);return Vi===0?Ri:Vi<=Bi?Ai[Vi-1]===void 0?Fi.charAt(1):Ai[Vi-1]+Fi.charAt(1):Ri}Gi=Ai[Ti-1]}return Gi===void 0?"":Gi})}})},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=function(){function Ke(){this._items={},this._nullItems=[]}return Ke.prototype.copy=function(){var Ze=new Ke;for(var Qe in this._items)Ze._items[Qe]=this._items[Qe].slice(0);return Ze._nullItems=this._nullItems.slice(0),Ze},Ke.prototype.get=function(Ze,Qe){var Je=Qe===null?this._nullItems:this._items[Qe]||null;if(Je===null)return null;for(var St=null,ei=0;ei<Je.length;ei++)if((St=Je[ei])===Ze)return St;return St},Ke.prototype.has=function(Ze,Qe){var Je=Qe===null?this._nullItems:this._items[Qe]||null;return Je!==null&&Je.indexOf(Ze)!==-1},Ke.prototype.hasPrefix=function(Ze){if(this._nullItems.indexOf(Ze)!==-1)return!0;for(var Qe in this._items)if(this._items[Qe].indexOf(Ze)!==-1)return!0;return!1},Ke.prototype.set=function(Ze,Qe){var Je=Qe===null?this._nullItems:this._items[Qe]||null;Qe!==null&&Je===null?this._items[Qe]=[Ze]:Je.push(Ze)},Ke}();qe.NamespacePrefixMap=Ye},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0}),qe.Surrogate=/[\uD800-\uDFFF]/,qe.ScalarValue=/[\uD800-\uDFFF]/,qe.NonCharacter=/[\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]/,qe.ASCIICodePoint=/[\u0000-\u007F]/,qe.ASCIITabOrNewLine=/[\t\n\r]/,qe.ASCIIWhiteSpace=/[\t\n\f\r ]/,qe.C0Control=/[\u0000-\u001F]/,qe.C0ControlOrSpace=/[\u0000-\u001F ]/,qe.Control=/[\u0000-\u001F\u007F-\u009F]/,qe.ASCIIDigit=/[0-9]/,qe.ASCIIUpperHexDigit=/[0-9A-F]/,qe.ASCIILowerHexDigit=/[0-9a-f]/,qe.ASCIIHexDigit=/[0-9A-Fa-f]/,qe.ASCIIUpperAlpha=/[A-Z]/,qe.ASCIILowerAlpha=/[a-z]/,qe.ASCIIAlpha=/[A-Za-z]/,qe.ASCIIAlphanumeric=/[0-9A-Za-z]/},function(ze,qe,Xe){var Ye=this&&this.__values||function(gi){var yi=typeof Symbol=="function"&&Symbol.iterator,Ai=yi&&gi[yi],Si=0;if(Ai)return Ai.call(gi);if(gi&&typeof gi.length=="number")return{next:function(){return gi&&Si>=gi.length&&(gi=void 0),{value:gi&&gi[Si++],done:!gi}}};throw new TypeError(yi?"Object is not iterable.":"Symbol.iterator is not defined.")},Ke=this&&this.__read||function(gi,yi){var Ai=typeof Symbol=="function"&&gi[Symbol.iterator];if(!Ai)return gi;var Si,ki,Li=Ai.call(gi),Bi=[];try{for(;(yi===void 0||yi-- >0)&&!(Si=Li.next()).done;)Bi.push(Si.value)}catch(Pi){ki={error:Pi}}finally{try{Si&&!Si.done&&(Ai=Li.return)&&Ai.call(Li)}finally{if(ki)throw ki.error}}return Bi},Ze=this&&this.__spread||function(){for(var gi=[],yi=0;yi<arguments.length;yi++)gi=gi.concat(Ke(arguments[yi]));return gi};Object.defineProperty(qe,"__esModule",{value:!0});var Qe=Xe(6),Je=Xe(1),St=Xe(3),ei=Xe(171),ti=Xe(104),ii=Xe(9),ri=Xe(17),si=Xe(72),ui=Xe(30);function ai(gi,yi){yi===void 0&&(yi=void 0),yi===void 0&&(yi=null);var Ai=oi(gi,yi,new Date,{});return Ai._isTrusted=!0,Ai}function oi(gi,yi,Ai,Si){var ki=new gi("");return ki._initializedFlag=!0,ki._timeStamp=Ai.getTime(),Object.assign(ki,Si),Qe.dom.features.steps&&ui.dom_runEventConstructingSteps(ki),ki}function ni(gi,yi,Ai,Si){var ki,Li,Bi,Pi;Ai===void 0&&(Ai=!1),Si===void 0&&(Si={value:!1});var Ri=!1;gi._dispatchFlag=!0;var Fi=yi;if(Ai){var Gi=yi._associatedDocument;St.Guard.isDocumentNode(Gi)&&(Fi=Gi)}var Ti=null,Vi=ri.tree_retarget(gi._relatedTarget,yi);if(yi!==Vi||yi===gi._relatedTarget){var Ui=[];try{for(var $i=Ye(gi._touchTargetList),Wi=$i.next();!Wi.done;Wi=$i.next()){var tn=Wi.value;Ui.push(ri.tree_retarget(tn,yi))}}catch(on){ki={error:on}}finally{try{Wi&&!Wi.done&&(Li=$i.return)&&Li.call($i)}finally{if(ki)throw ki.error}}ci(gi,yi,Fi,Vi,Ui,!1);var nn=St.Guard.isMouseEvent(gi)&&gi._type==="click";nn&&yi._activationBehavior!==void 0&&(Ti=yi);for(var Qi=St.Guard.isSlotable(yi)&&si.shadowTree_isAssigned(yi)?yi:null,Ei=!1,bi=yi._getTheParent(gi);bi!==null&&St.Guard.isNode(bi);){if(Qi!==null){if(!St.Guard.isSlot(bi))throw new Error("Parent node of a slotable should be a slot.");Qi=null;var Ci=ri.tree_rootNode(bi,!0);St.Guard.isShadowRoot(Ci)&&Ci._mode==="closed"&&(Ei=!0)}St.Guard.isSlotable(bi)&&si.shadowTree_isAssigned(bi)&&(Qi=bi),Vi=ri.tree_retarget(gi._relatedTarget,bi),Ui=[];try{for(var _i=(Bi=void 0,Ye(gi._touchTargetList)),Ii=_i.next();!Ii.done;Ii=_i.next())tn=Ii.value,Ui.push(ri.tree_retarget(tn,bi))}catch(on){Bi={error:on}}finally{try{Ii&&!Ii.done&&(Pi=_i.return)&&Pi.call(_i)}finally{if(Bi)throw Bi.error}}St.Guard.isWindow(bi)||St.Guard.isNode(bi)&&St.Guard.isNode(yi)&&ri.tree_isAncestorOf(ri.tree_rootNode(yi,!0),bi,!0,!0)?(nn&&gi._bubbles&&Ti===null&&bi._activationBehavior&&(Ti=bi),ci(gi,bi,null,Vi,Ui,Ei)):bi===Vi?bi=null:(yi=bi,nn&&Ti===null&&yi._activationBehavior&&(Ti=yi),ci(gi,bi,yi,Vi,Ui,Ei)),bi!==null&&(bi=bi._getTheParent(gi)),Ei=!1}for(var Ni=null,Di=gi._path,Ki=Di.length-1;Ki>=0;Ki--)if((zi=Di[Ki]).shadowAdjustedTarget!==null){Ni=zi;break}if(Ni!==null)if(St.Guard.isNode(Ni.shadowAdjustedTarget)&&St.Guard.isShadowRoot(ri.tree_rootNode(Ni.shadowAdjustedTarget,!0)))Ri=!0;else if(St.Guard.isNode(Ni.relatedTarget)&&St.Guard.isShadowRoot(ri.tree_rootNode(Ni.relatedTarget,!0)))Ri=!0;else for(var sn=0;sn<Ni.touchTargetList.length;sn++){var zi=Ni.touchTargetList[sn];if(St.Guard.isNode(zi)&&St.Guard.isShadowRoot(ri.tree_rootNode(zi,!0))){Ri=!0;break}}for(Ti!==null&&Ti._legacyPreActivationBehavior!==void 0&&Ti._legacyPreActivationBehavior(gi),Ki=Di.length-1;Ki>=0;Ki--)(zi=Di[Ki]).shadowAdjustedTarget!==null?gi._eventPhase=Je.EventPhase.AtTarget:gi._eventPhase=Je.EventPhase.Capturing,hi(zi,gi,"capturing",Si);for(Ki=0;Ki<Di.length;Ki++){if((zi=Di[Ki]).shadowAdjustedTarget!==null)gi._eventPhase=Je.EventPhase.AtTarget;else{if(!gi._bubbles)continue;gi._eventPhase=Je.EventPhase.Bubbling}hi(zi,gi,"bubbling",Si)}}return gi._eventPhase=Je.EventPhase.None,gi._currentTarget=null,gi._path=[],gi._dispatchFlag=!1,gi._stopPropagationFlag=!1,gi._stopImmediatePropagationFlag=!1,Ri&&(gi._target=null,gi._relatedTarget=null,gi._touchTargetList=[]),Ti!==null&&(gi._canceledFlag||Ti._activationBehavior===void 0?Ti._legacyCanceledActivationBehavior!==void 0&&Ti._legacyCanceledActivationBehavior(gi):Ti._activationBehavior(gi)),!gi._canceledFlag}function ci(gi,yi,Ai,Si,ki,Li){var Bi=!1;St.Guard.isNode(yi)&&St.Guard.isShadowRoot(ri.tree_rootNode(yi))&&(Bi=!0);var Pi=!1;St.Guard.isShadowRoot(yi)&&yi._mode==="closed"&&(Pi=!0),gi._path.push({invocationTarget:yi,invocationTargetInShadowTree:Bi,shadowAdjustedTarget:Ai,relatedTarget:Si,touchTargetList:ki,rootOfClosedTree:Pi,slotInClosedTree:Li})}function hi(gi,yi,Ai,Si){Si===void 0&&(Si={value:!1});for(var ki=yi._path,Li=-1,Bi=0;Bi<ki.length;Bi++)if(ki[Bi]===gi){Li=Bi;break}if(Li!==-1){var Pi=ki[Li];(Pi.shadowAdjustedTarget!==null||Li>0&&(Pi=ki[Li-1]).shadowAdjustedTarget!==null)&&(yi._target=Pi.shadowAdjustedTarget)}if(yi._relatedTarget=gi.relatedTarget,yi._touchTargetList=gi.touchTargetList,!yi._stopPropagationFlag){yi._currentTarget=gi.invocationTarget;var Ri=yi._currentTarget._eventListenerList,Fi=new(Array.bind.apply(Array,Ze([void 0],Ri)));if(!di(yi,Fi,Ai,gi,Si)&&yi._isTrusted){var Gi=yi._type;Gi==="animationend"?yi._type="webkitAnimationEnd":Gi==="animationiteration"?yi._type="webkitAnimationIteration":Gi==="animationstart"?yi._type="webkitAnimationStart":Gi==="transitionend"&&(yi._type="webkitTransitionEnd"),di(yi,Fi,Ai,gi,Si),yi._type=Gi}}}function di(gi,yi,Ai,Si,ki){ki===void 0&&(ki={value:!1});for(var Li=!1,Bi=0;Bi<yi.length;Bi++){var Pi=yi[Bi];if(!Pi.removed){if(gi._type!==Pi.type||(Li=!0,Ai==="capturing"&&!Pi.capture)||Ai==="bubbling"&&Pi.capture)continue;if(Pi.once&&gi._currentTarget!==null){for(var Ri=gi._currentTarget,Fi=-1,Gi=0;Gi<Ri._eventListenerList.length;Gi++)if(Ri._eventListenerList[Gi]===Pi){Fi=Gi;break}Fi!==-1&&Ri._eventListenerList.splice(Fi,1)}var Ti=void 0,Vi=void 0;St.Guard.isWindow(Ti)&&(Vi=Ti._currentEvent,Si.invocationTargetInShadowTree===!1&&(Ti._currentEvent=gi)),Pi.passive&&(gi._inPassiveListenerFlag=!0);try{Pi.callback.handleEvent.call(gi._currentTarget,gi)}catch{ki.value=!0}if(Pi.passive&&(gi._inPassiveListenerFlag=!1),St.Guard.isWindow(Ti)&&(Ti._currentEvent=Vi),gi._stopImmediatePropagationFlag)return Li}}return Li}function fi(gi,yi){return null}function mi(gi,yi){return null}function pi(gi,yi){}function wi(gi,yi){}qe.event_setTheCanceledFlag=function(gi){gi._cancelable&&!gi._inPassiveListenerFlag&&(gi._canceledFlag=!0)},qe.event_initialize=function(gi,yi,Ai,Si){gi._initializedFlag=!0,gi._stopPropagationFlag=!1,gi._stopImmediatePropagationFlag=!1,gi._canceledFlag=!1,gi._isTrusted=!1,gi._target=null,gi._type=yi,gi._bubbles=Ai,gi._cancelable=Si},qe.event_createAnEvent=ai,qe.event_innerEventCreationSteps=oi,qe.event_dispatch=ni,qe.event_appendToAnEventPath=ci,qe.event_invoke=hi,qe.event_innerInvoke=di,qe.event_fireAnEvent=function(gi,yi,Ai,Si,ki){Ai===void 0&&(Ai=ti.EventImpl);var Li=ai(Ai);if(Li._type=gi,Si)for(var Bi in Si)Li[Bi]=Si[Bi];return ni(Li,yi,ki)},qe.event_createLegacyEvent=function(gi){var yi=null;switch(gi.toLowerCase()){case"beforeunloadevent":case"compositionevent":break;case"customevent":yi=ei.CustomEventImpl;break;case"devicemotionevent":case"deviceorientationevent":case"dragevent":break;case"event":case"events":yi=ti.EventImpl}if(yi===null)throw new ii.NotSupportedError("Event constructor not found for interface "+gi+".");var Ai=new yi("");return Ai._type="",Ai._timeStamp=new Date().getTime(),Ai._isTrusted=!1,Ai._initializedFlag=!1,Ai},qe.event_getterEventHandlerIDLAttribute=function(gi,yi){return null},qe.event_setterEventHandlerIDLAttribute=function(gi,yi,Ai){},qe.event_determineTheTargetOfAnEventHandler=fi,qe.event_getTheCurrentValueOfAnEventHandler=mi,qe.event_activateAnEventHandler=pi,qe.event_deactivateAnEventHandler=wi},function(ze,qe,Xe){var Ye,Ke=this&&this.__extends||(Ye=function(ci,hi){return(Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(di,fi){di.__proto__=fi}||function(di,fi){for(var mi in fi)fi.hasOwnProperty(mi)&&(di[mi]=fi[mi])})(ci,hi)},function(ci,hi){function di(){this.constructor=ci}Ye(ci,hi),ci.prototype=hi===null?Object.create(hi):(di.prototype=hi.prototype,new di)}),Ze=this&&this.__values||function(ci){var hi=typeof Symbol=="function"&&Symbol.iterator,di=hi&&ci[hi],fi=0;if(di)return di.call(ci);if(ci&&typeof ci.length=="number")return{next:function(){return ci&&fi>=ci.length&&(ci=void 0),{value:ci&&ci[fi++],done:!ci}}};throw new TypeError(hi?"Object is not iterable.":"Symbol.iterator is not defined.")},Qe=this&&this.__read||function(ci,hi){var di=typeof Symbol=="function"&&ci[Symbol.iterator];if(!di)return ci;var fi,mi,pi=di.call(ci),wi=[];try{for(;(hi===void 0||hi-- >0)&&!(fi=pi.next()).done;)wi.push(fi.value)}catch(gi){mi={error:gi}}finally{try{fi&&!fi.done&&(di=pi.return)&&di.call(pi)}finally{if(mi)throw mi.error}}return wi};Object.defineProperty(qe,"__esModule",{value:!0});var Je=Xe(6),St=Xe(1),ei=Xe(9),ti=Xe(34),ii=Xe(3),ri=Xe(2),si=Xe(7),ui=Xe(152),ai=Xe(0),oi=Xe(12),ni=function(ci){function hi(){var di=ci.call(this)||this;return di._children=new Set,di._encoding={name:"UTF-8",labels:["unicode-1-1-utf-8","utf-8","utf8"]},di._contentType="application/xml",di._URL={scheme:"about",username:"",password:"",host:null,port:null,path:["blank"],query:null,fragment:null,_cannotBeABaseURLFlag:!0,_blobURLEntry:null},di._origin=null,di._type="xml",di._mode="no-quirks",di._documentElement=null,di._hasNamespaces=!1,di._nodeDocumentOverwrite=null,di}return Ke(hi,ci),Object.defineProperty(hi.prototype,"_nodeDocument",{get:function(){return this._nodeDocumentOverwrite||this},set:function(di){this._nodeDocumentOverwrite=di},enumerable:!0,configurable:!0}),Object.defineProperty(hi.prototype,"implementation",{get:function(){return this._implementation||(this._implementation=ai.create_domImplementation(this))},enumerable:!0,configurable:!0}),Object.defineProperty(hi.prototype,"URL",{get:function(){return ui.urlSerializer(this._URL)},enumerable:!0,configurable:!0}),Object.defineProperty(hi.prototype,"documentURI",{get:function(){return this.URL},enumerable:!0,configurable:!0}),Object.defineProperty(hi.prototype,"origin",{get:function(){return"null"},enumerable:!0,configurable:!0}),Object.defineProperty(hi.prototype,"compatMode",{get:function(){return this._mode==="quirks"?"BackCompat":"CSS1Compat"},enumerable:!0,configurable:!0}),Object.defineProperty(hi.prototype,"characterSet",{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(hi.prototype,"charset",{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(hi.prototype,"inputEncoding",{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(hi.prototype,"contentType",{get:function(){return this._contentType},enumerable:!0,configurable:!0}),Object.defineProperty(hi.prototype,"doctype",{get:function(){var di,fi;try{for(var mi=Ze(this._children),pi=mi.next();!pi.done;pi=mi.next()){var wi=pi.value;if(ii.Guard.isDocumentTypeNode(wi))return wi}}catch(gi){di={error:gi}}finally{try{pi&&!pi.done&&(fi=mi.return)&&fi.call(mi)}finally{if(di)throw di.error}}return null},enumerable:!0,configurable:!0}),Object.defineProperty(hi.prototype,"documentElement",{get:function(){return this._documentElement},enumerable:!0,configurable:!0}),hi.prototype.getElementsByTagName=function(di){return ai.node_listOfElementsWithQualifiedName(di,this)},hi.prototype.getElementsByTagNameNS=function(di,fi){return ai.node_listOfElementsWithNamespace(di,fi,this)},hi.prototype.getElementsByClassName=function(di){return ai.node_listOfElementsWithClassNames(di,this)},hi.prototype.createElement=function(di,fi){if(!ai.xml_isName(di))throw new ei.InvalidCharacterError;this._type==="html"&&(di=di.toLowerCase());var mi=null;fi!==void 0&&(mi=ri.isString(fi)?fi:fi.is);var pi=this._type==="html"||this._contentType==="application/xhtml+xml"?si.namespace.HTML:null;return ai.element_createAnElement(this,di,pi,null,mi,!0)},hi.prototype.createElementNS=function(di,fi,mi){return ai.document_internalCreateElementNS(this,di,fi,mi)},hi.prototype.createDocumentFragment=function(){return ai.create_documentFragment(this)},hi.prototype.createTextNode=function(di){return ai.create_text(this,di)},hi.prototype.createCDATASection=function(di){if(this._type==="html")throw new ei.NotSupportedError;if(di.indexOf("]]>")!==-1)throw new ei.InvalidCharacterError;return ai.create_cdataSection(this,di)},hi.prototype.createComment=function(di){return ai.create_comment(this,di)},hi.prototype.createProcessingInstruction=function(di,fi){if(!ai.xml_isName(di))throw new ei.InvalidCharacterError;if(fi.indexOf("?>")!==-1)throw new ei.InvalidCharacterError;return ai.create_processingInstruction(this,di,fi)},hi.prototype.importNode=function(di,fi){if(fi===void 0&&(fi=!1),ii.Guard.isDocumentNode(di)||ii.Guard.isShadowRoot(di))throw new ei.NotSupportedError;return ai.node_clone(di,this,fi)},hi.prototype.adoptNode=function(di){if(ii.Guard.isDocumentNode(di))throw new ei.NotSupportedError;if(ii.Guard.isShadowRoot(di))throw new ei.HierarchyRequestError;return ai.document_adopt(di,this),di},hi.prototype.createAttribute=function(di){if(!ai.xml_isName(di))throw new ei.InvalidCharacterError;return this._type==="html"&&(di=di.toLowerCase()),ai.create_attr(this,di)},hi.prototype.createAttributeNS=function(di,fi){var mi=Qe(ai.namespace_validateAndExtract(di,fi),3),pi=mi[0],wi=mi[1],gi=mi[2],yi=ai.create_attr(this,gi);return yi._namespace=pi,yi._namespacePrefix=wi,yi},hi.prototype.createEvent=function(di){return ai.event_createLegacyEvent(di)},hi.prototype.createRange=function(){var di=ai.create_range();return di._start=[this,0],di._end=[this,0],di},hi.prototype.createNodeIterator=function(di,fi,mi){fi===void 0&&(fi=St.WhatToShow.All),mi===void 0&&(mi=null);var pi=ai.create_nodeIterator(di,di,!0);return pi._whatToShow=fi,pi._iteratorCollection=ai.create_nodeList(di),ri.isFunction(mi)?(pi._filter=ai.create_nodeFilter(),pi._filter.acceptNode=mi):pi._filter=mi,pi},hi.prototype.createTreeWalker=function(di,fi,mi){fi===void 0&&(fi=St.WhatToShow.All),mi===void 0&&(mi=null);var pi=ai.create_treeWalker(di,di);return pi._whatToShow=fi,ri.isFunction(mi)?(pi._filter=ai.create_nodeFilter(),pi._filter.acceptNode=mi):pi._filter=mi,pi},hi.prototype._getTheParent=function(di){return di._type==="load"?null:Je.dom.window},hi.prototype.getElementById=function(di){throw new Error("Mixin: NonElementParentNode not implemented.")},Object.defineProperty(hi.prototype,"children",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(hi.prototype,"firstElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(hi.prototype,"lastElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(hi.prototype,"childElementCount",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),hi.prototype.prepend=function(){for(var di=[],fi=0;fi<arguments.length;fi++)di[fi]=arguments[fi];throw new Error("Mixin: ParentNode not implemented.")},hi.prototype.append=function(){for(var di=[],fi=0;fi<arguments.length;fi++)di[fi]=arguments[fi];throw new Error("Mixin: ParentNode not implemented.")},hi.prototype.querySelector=function(di){throw new Error("Mixin: ParentNode not implemented.")},hi.prototype.querySelectorAll=function(di){throw new Error("Mixin: ParentNode not implemented.")},hi}(ti.NodeImpl);qe.DocumentImpl=ni,oi.idl_defineConst(ni.prototype,"_nodeType",St.NodeType.Document)},function(ze,qe,Xe){var Ye,Ke=this&&this.__extends||(Ye=function(ui,ai){return(Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(oi,ni){oi.__proto__=ni}||function(oi,ni){for(var ci in ni)ni.hasOwnProperty(ci)&&(oi[ci]=ni[ci])})(ui,ai)},function(ui,ai){function oi(){this.constructor=ui}Ye(ui,ai),ui.prototype=ai===null?Object.create(ai):(oi.prototype=ai.prototype,new oi)}),Ze=this&&this.__values||function(ui){var ai=typeof Symbol=="function"&&Symbol.iterator,oi=ai&&ui[ai],ni=0;if(oi)return oi.call(ui);if(ui&&typeof ui.length=="number")return{next:function(){return ui&&ni>=ui.length&&(ui=void 0),{value:ui&&ui[ni++],done:!ui}}};throw new TypeError(ai?"Object is not iterable.":"Symbol.iterator is not defined.")},Qe=this&&this.__read||function(ui,ai){var oi=typeof Symbol=="function"&&ui[Symbol.iterator];if(!oi)return ui;var ni,ci,hi=oi.call(ui),di=[];try{for(;(ai===void 0||ai-- >0)&&!(ni=hi.next()).done;)di.push(ni.value)}catch(fi){ci={error:fi}}finally{try{ni&&!ni.done&&(oi=hi.return)&&oi.call(hi)}finally{if(ci)throw ci.error}}return di};Object.defineProperty(qe,"__esModule",{value:!0});var Je=Xe(1),St=Xe(34),ei=Xe(9),ti=Xe(7),ii=Xe(0),ri=Xe(12),si=function(ui){function ai(){var oi=ui.call(this)||this;return oi._children=new Set,oi._namespace=null,oi._namespacePrefix=null,oi._localName="",oi._customElementState="undefined",oi._customElementDefinition=null,oi._is=null,oi._shadowRoot=null,oi._attributeList=ii.create_namedNodeMap(oi),oi._attributeChangeSteps=[],oi._name="",oi._assignedSlot=null,oi}return Ke(ai,ui),Object.defineProperty(ai.prototype,"namespaceURI",{get:function(){return this._namespace},enumerable:!0,configurable:!0}),Object.defineProperty(ai.prototype,"prefix",{get:function(){return this._namespacePrefix},enumerable:!0,configurable:!0}),Object.defineProperty(ai.prototype,"localName",{get:function(){return this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(ai.prototype,"tagName",{get:function(){return this._htmlUppercasedQualifiedName},enumerable:!0,configurable:!0}),Object.defineProperty(ai.prototype,"id",{get:function(){return ii.element_getAnAttributeValue(this,"id")},set:function(oi){ii.element_setAnAttributeValue(this,"id",oi)},enumerable:!0,configurable:!0}),Object.defineProperty(ai.prototype,"className",{get:function(){return ii.element_getAnAttributeValue(this,"class")},set:function(oi){ii.element_setAnAttributeValue(this,"class",oi)},enumerable:!0,configurable:!0}),Object.defineProperty(ai.prototype,"classList",{get:function(){var oi=ii.element_getAnAttributeByName("class",this);return oi===null&&(oi=ii.create_attr(this._nodeDocument,"class")),ii.create_domTokenList(this,oi)},enumerable:!0,configurable:!0}),Object.defineProperty(ai.prototype,"slot",{get:function(){return ii.element_getAnAttributeValue(this,"slot")},set:function(oi){ii.element_setAnAttributeValue(this,"slot",oi)},enumerable:!0,configurable:!0}),ai.prototype.hasAttributes=function(){return this._attributeList.length!==0},Object.defineProperty(ai.prototype,"attributes",{get:function(){return this._attributeList},enumerable:!0,configurable:!0}),ai.prototype.getAttributeNames=function(){var oi,ni,ci=[];try{for(var hi=Ze(this._attributeList),di=hi.next();!di.done;di=hi.next()){var fi=di.value;ci.push(fi._qualifiedName)}}catch(mi){oi={error:mi}}finally{try{di&&!di.done&&(ni=hi.return)&&ni.call(hi)}finally{if(oi)throw oi.error}}return ci},ai.prototype.getAttribute=function(oi){var ni=ii.element_getAnAttributeByName(oi,this);return ni?ni._value:null},ai.prototype.getAttributeNS=function(oi,ni){var ci=ii.element_getAnAttributeByNamespaceAndLocalName(oi,ni,this);return ci?ci._value:null},ai.prototype.setAttribute=function(oi,ni){if(!ii.xml_isName(oi))throw new ei.InvalidCharacterError;this._namespace===ti.namespace.HTML&&this._nodeDocument._type==="html"&&(oi=oi.toLowerCase());for(var ci=null,hi=0;hi<this._attributeList.length;hi++){var di=this._attributeList[hi];if(di._qualifiedName===oi){ci=di;break}}if(ci===null)return(ci=ii.create_attr(this._nodeDocument,oi))._value=ni,void ii.element_append(ci,this);ii.element_change(ci,this,ni)},ai.prototype.setAttributeNS=function(oi,ni,ci){var hi=Qe(ii.namespace_validateAndExtract(oi,ni),3),di=hi[0],fi=hi[1],mi=hi[2];ii.element_setAnAttributeValue(this,mi,ci,fi,di)},ai.prototype.removeAttribute=function(oi){ii.element_removeAnAttributeByName(oi,this)},ai.prototype.removeAttributeNS=function(oi,ni){ii.element_removeAnAttributeByNamespaceAndLocalName(oi,ni,this)},ai.prototype.hasAttribute=function(oi){this._namespace===ti.namespace.HTML&&this._nodeDocument._type==="html"&&(oi=oi.toLowerCase());for(var ni=0;ni<this._attributeList.length;ni++)if(this._attributeList[ni]._qualifiedName===oi)return!0;return!1},ai.prototype.toggleAttribute=function(oi,ni){if(!ii.xml_isName(oi))throw new ei.InvalidCharacterError;this._namespace===ti.namespace.HTML&&this._nodeDocument._type==="html"&&(oi=oi.toLowerCase());for(var ci=null,hi=0;hi<this._attributeList.length;hi++){var di=this._attributeList[hi];if(di._qualifiedName===oi){ci=di;break}}return ci===null?(ni===void 0||ni===!0)&&((ci=ii.create_attr(this._nodeDocument,oi))._value="",ii.element_append(ci,this),!0):ni!==void 0&&ni!==!1||(ii.element_removeAnAttributeByName(oi,this),!1)},ai.prototype.hasAttributeNS=function(oi,ni){for(var ci=oi||null,hi=0;hi<this._attributeList.length;hi++){var di=this._attributeList[hi];if(di._namespace===ci&&di._localName===ni)return!0}return!1},ai.prototype.getAttributeNode=function(oi){return ii.element_getAnAttributeByName(oi,this)},ai.prototype.getAttributeNodeNS=function(oi,ni){return ii.element_getAnAttributeByNamespaceAndLocalName(oi,ni,this)},ai.prototype.setAttributeNode=function(oi){return ii.element_setAnAttribute(oi,this)},ai.prototype.setAttributeNodeNS=function(oi){return ii.element_setAnAttribute(oi,this)},ai.prototype.removeAttributeNode=function(oi){for(var ni=!1,ci=0;ci<this._attributeList.length;ci++)if(this._attributeList[ci]===oi){ni=!0;break}if(!ni)throw new ei.NotFoundError;return ii.element_remove(oi,this),oi},ai.prototype.attachShadow=function(oi){if(this._namespace!==ti.namespace.HTML)throw new ei.NotSupportedError;if(!ii.customElement_isValidCustomElementName(this._localName)&&!ii.customElement_isValidShadowHostName(this._localName))throw new ei.NotSupportedError;if(ii.customElement_isValidCustomElementName(this._localName)||this._is!==null){var ni=ii.customElement_lookUpACustomElementDefinition(this._nodeDocument,this._namespace,this._localName,this._is);if(ni!==null&&ni.disableShadow===!0)throw new ei.NotSupportedError}if(this._shadowRoot!==null)throw new ei.NotSupportedError;var ci=ii.create_shadowRoot(this._nodeDocument,this);return ci._mode=oi.mode,this._shadowRoot=ci,ci},Object.defineProperty(ai.prototype,"shadowRoot",{get:function(){var oi=this._shadowRoot;return oi===null||oi.mode==="closed"?null:oi},enumerable:!0,configurable:!0}),ai.prototype.closest=function(oi){throw new ei.NotImplementedError},ai.prototype.matches=function(oi){throw new ei.NotImplementedError},ai.prototype.webkitMatchesSelector=function(oi){return this.matches(oi)},ai.prototype.getElementsByTagName=function(oi){return ii.node_listOfElementsWithQualifiedName(oi,this)},ai.prototype.getElementsByTagNameNS=function(oi,ni){return ii.node_listOfElementsWithNamespace(oi,ni,this)},ai.prototype.getElementsByClassName=function(oi){return ii.node_listOfElementsWithClassNames(oi,this)},ai.prototype.insertAdjacentElement=function(oi,ni){return ii.element_insertAdjacent(this,oi,ni)},ai.prototype.insertAdjacentText=function(oi,ni){var ci=ii.create_text(this._nodeDocument,ni);ii.element_insertAdjacent(this,oi,ci)},Object.defineProperty(ai.prototype,"_qualifiedName",{get:function(){return this._namespacePrefix?this._namespacePrefix+":"+this._localName:this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(ai.prototype,"_htmlUppercasedQualifiedName",{get:function(){var oi=this._qualifiedName;return this._namespace===ti.namespace.HTML&&this._nodeDocument._type==="html"&&(oi=oi.toUpperCase()),oi},enumerable:!0,configurable:!0}),Object.defineProperty(ai.prototype,"children",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(ai.prototype,"firstElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(ai.prototype,"lastElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(ai.prototype,"childElementCount",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),ai.prototype.prepend=function(){for(var oi=[],ni=0;ni<arguments.length;ni++)oi[ni]=arguments[ni];throw new Error("Mixin: ParentNode not implemented.")},ai.prototype.append=function(){for(var oi=[],ni=0;ni<arguments.length;ni++)oi[ni]=arguments[ni];throw new Error("Mixin: ParentNode not implemented.")},ai.prototype.querySelector=function(oi){throw new Error("Mixin: ParentNode not implemented.")},ai.prototype.querySelectorAll=function(oi){throw new Error("Mixin: ParentNode not implemented.")},Object.defineProperty(ai.prototype,"previousElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(ai.prototype,"nextElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),ai.prototype.before=function(){for(var oi=[],ni=0;ni<arguments.length;ni++)oi[ni]=arguments[ni];throw new Error("Mixin: ChildNode not implemented.")},ai.prototype.after=function(){for(var oi=[],ni=0;ni<arguments.length;ni++)oi[ni]=arguments[ni];throw new Error("Mixin: ChildNode not implemented.")},ai.prototype.replaceWith=function(){for(var oi=[],ni=0;ni<arguments.length;ni++)oi[ni]=arguments[ni];throw new Error("Mixin: ChildNode not implemented.")},ai.prototype.remove=function(){throw new Error("Mixin: ChildNode not implemented.")},Object.defineProperty(ai.prototype,"assignedSlot",{get:function(){throw new Error("Mixin: Slotable not implemented.")},enumerable:!0,configurable:!0}),ai._create=function(oi,ni,ci,hi){ci===void 0&&(ci=null),hi===void 0&&(hi=null);var di=new ai;return di._localName=ni,di._namespace=ci,di._namespacePrefix=hi,di._nodeDocument=oi,di},ai}(St.NodeImpl);qe.ElementImpl=si,ri.idl_defineConst(si.prototype,"_nodeType",Je.NodeType.Element)},function(ze,qe,Xe){var Ye,Ke=this&&this.__extends||(Ye=function(ei,ti){return(Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ii,ri){ii.__proto__=ri}||function(ii,ri){for(var si in ri)ri.hasOwnProperty(si)&&(ii[si]=ri[si])})(ei,ti)},function(ei,ti){function ii(){this.constructor=ei}Ye(ei,ti),ei.prototype=ti===null?Object.create(ti):(ii.prototype=ti.prototype,new ii)});Object.defineProperty(qe,"__esModule",{value:!0});var Ze=Xe(1),Qe=Xe(34),Je=Xe(12),St=function(ei){function ti(ii){ii===void 0&&(ii=null);var ri=ei.call(this)||this;return ri._children=new Set,ri._host=ii,ri}return Ke(ti,ei),ti.prototype.getElementById=function(ii){throw new Error("Mixin: NonElementParentNode not implemented.")},Object.defineProperty(ti.prototype,"children",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(ti.prototype,"firstElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(ti.prototype,"lastElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(ti.prototype,"childElementCount",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),ti.prototype.prepend=function(){for(var ii=[],ri=0;ri<arguments.length;ri++)ii[ri]=arguments[ri];throw new Error("Mixin: ParentNode not implemented.")},ti.prototype.append=function(){for(var ii=[],ri=0;ri<arguments.length;ri++)ii[ri]=arguments[ri];throw new Error("Mixin: ParentNode not implemented.")},ti.prototype.querySelector=function(ii){throw new Error("Mixin: ParentNode not implemented.")},ti.prototype.querySelectorAll=function(ii){throw new Error("Mixin: ParentNode not implemented.")},ti._create=function(ii,ri){ri===void 0&&(ri=null);var si=new ti(ri);return si._nodeDocument=ii,si},ti}(Qe.NodeImpl);qe.DocumentFragmentImpl=St,Je.idl_defineConst(St.prototype,"_nodeType",Ze.NodeType.DocumentFragment)},function(ze,qe,Xe){var Ye,Ke=this&&this.__extends||(Ye=function(ii,ri){return(Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(si,ui){si.__proto__=ui}||function(si,ui){for(var ai in ui)ui.hasOwnProperty(ai)&&(si[ai]=ui[ai])})(ii,ri)},function(ii,ri){function si(){this.constructor=ii}Ye(ii,ri),ii.prototype=ri===null?Object.create(ri):(si.prototype=ri.prototype,new si)}),Ze=this&&this.__values||function(ii){var ri=typeof Symbol=="function"&&Symbol.iterator,si=ri&&ii[ri],ui=0;if(si)return si.call(ii);if(ii&&typeof ii.length=="number")return{next:function(){return ii&&ui>=ii.length&&(ii=void 0),{value:ii&&ii[ui++],done:!ii}}};throw new TypeError(ri?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(qe,"__esModule",{value:!0});var Qe=Xe(1),Je=Xe(71),St=Xe(0),ei=Xe(12),ti=function(ii){function ri(si){si===void 0&&(si="");var ui=ii.call(this,si)||this;return ui._name="",ui._assignedSlot=null,ui}return Ke(ri,ii),Object.defineProperty(ri.prototype,"wholeText",{get:function(){var si,ui,ai="";try{for(var oi=Ze(St.text_contiguousTextNodes(this,!0)),ni=oi.next();!ni.done;ni=oi.next())ai+=ni.value._data}catch(ci){si={error:ci}}finally{try{ni&&!ni.done&&(ui=oi.return)&&ui.call(oi)}finally{if(si)throw si.error}}return ai},enumerable:!0,configurable:!0}),ri.prototype.splitText=function(si){return St.text_split(this,si)},Object.defineProperty(ri.prototype,"assignedSlot",{get:function(){throw new Error("Mixin: Slotable not implemented.")},enumerable:!0,configurable:!0}),ri._create=function(si,ui){ui===void 0&&(ui="");var ai=new ri(ui);return ai._nodeDocument=si,ai},ri}(Je.CharacterDataImpl);qe.TextImpl=ti,ei.idl_defineConst(ti.prototype,"_nodeType",Qe.NodeType.Text)},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=function(){function Ke(){}return Object.defineProperty(Ke.prototype,"_startNode",{get:function(){return this._start[0]},enumerable:!0,configurable:!0}),Object.defineProperty(Ke.prototype,"_startOffset",{get:function(){return this._start[1]},enumerable:!0,configurable:!0}),Object.defineProperty(Ke.prototype,"_endNode",{get:function(){return this._end[0]},enumerable:!0,configurable:!0}),Object.defineProperty(Ke.prototype,"_endOffset",{get:function(){return this._end[1]},enumerable:!0,configurable:!0}),Object.defineProperty(Ke.prototype,"_collapsed",{get:function(){return this._start[0]===this._end[0]&&this._start[1]===this._end[1]},enumerable:!0,configurable:!0}),Object.defineProperty(Ke.prototype,"startContainer",{get:function(){return this._startNode},enumerable:!0,configurable:!0}),Object.defineProperty(Ke.prototype,"startOffset",{get:function(){return this._startOffset},enumerable:!0,configurable:!0}),Object.defineProperty(Ke.prototype,"endContainer",{get:function(){return this._endNode},enumerable:!0,configurable:!0}),Object.defineProperty(Ke.prototype,"endOffset",{get:function(){return this._endOffset},enumerable:!0,configurable:!0}),Object.defineProperty(Ke.prototype,"collapsed",{get:function(){return this._collapsed},enumerable:!0,configurable:!0}),Ke}();qe.AbstractRangeImpl=Ye},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=Xe(1),Ke=function(){function Ze(Qe){this._activeFlag=!1,this._root=Qe,this._whatToShow=Ye.WhatToShow.All,this._filter=null}return Object.defineProperty(Ze.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),Object.defineProperty(Ze.prototype,"whatToShow",{get:function(){return this._whatToShow},enumerable:!0,configurable:!0}),Object.defineProperty(Ze.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),Ze}();qe.TraverserImpl=Ke},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=Xe(1),Ke=Xe(0),Ze=Xe(12),Qe=function(){function Je(St,ei){this._target=null,this._relatedTarget=null,this._touchTargetList=[],this._path=[],this._currentTarget=null,this._eventPhase=Ye.EventPhase.None,this._stopPropagationFlag=!1,this._stopImmediatePropagationFlag=!1,this._canceledFlag=!1,this._inPassiveListenerFlag=!1,this._composedFlag=!1,this._initializedFlag=!1,this._dispatchFlag=!1,this._isTrusted=!1,this._bubbles=!1,this._cancelable=!1,this._type=St,ei&&(this._bubbles=ei.bubbles||!1,this._cancelable=ei.cancelable||!1,this._composedFlag=ei.composed||!1),this._initializedFlag=!0,this._timeStamp=new Date().getTime()}return Object.defineProperty(Je.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(Je.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(Je.prototype,"srcElement",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(Je.prototype,"currentTarget",{get:function(){return this._currentTarget},enumerable:!0,configurable:!0}),Je.prototype.composedPath=function(){var St=[],ei=this._path;if(ei.length===0)return St;var ti=this._currentTarget;if(ti===null)throw new Error("Event currentTarget is null.");St.push(ti);for(var ii=0,ri=0,si=ei.length-1;si>=0;){if(ei[si].rootOfClosedTree&&ri++,ei[si].invocationTarget===ti){ii=si;break}ei[si].slotInClosedTree&&ri--,si--}var ui=ri,ai=ri;for(si=ii-1;si>=0;)ei[si].rootOfClosedTree&&ui++,ui<=ai&&St.unshift(ei[si].invocationTarget),ei[si].slotInClosedTree&&--ui<ai&&(ai=ui),si--;for(ui=ri,ai=ri,si=ii+1;si<ei.length;)ei[si].slotInClosedTree&&ui++,ui<=ai&&St.push(ei[si].invocationTarget),ei[si].rootOfClosedTree&&--ui<ai&&(ai=ui),si++;return St},Object.defineProperty(Je.prototype,"eventPhase",{get:function(){return this._eventPhase},enumerable:!0,configurable:!0}),Je.prototype.stopPropagation=function(){this._stopPropagationFlag=!0},Object.defineProperty(Je.prototype,"cancelBubble",{get:function(){return this._stopPropagationFlag},set:function(St){St&&this.stopPropagation()},enumerable:!0,configurable:!0}),Je.prototype.stopImmediatePropagation=function(){this._stopPropagationFlag=!0,this._stopImmediatePropagationFlag=!0},Object.defineProperty(Je.prototype,"bubbles",{get:function(){return this._bubbles},enumerable:!0,configurable:!0}),Object.defineProperty(Je.prototype,"cancelable",{get:function(){return this._cancelable},enumerable:!0,configurable:!0}),Object.defineProperty(Je.prototype,"returnValue",{get:function(){return!this._canceledFlag},set:function(St){St||Ke.event_setTheCanceledFlag(this)},enumerable:!0,configurable:!0}),Je.prototype.preventDefault=function(){Ke.event_setTheCanceledFlag(this)},Object.defineProperty(Je.prototype,"defaultPrevented",{get:function(){return this._canceledFlag},enumerable:!0,configurable:!0}),Object.defineProperty(Je.prototype,"composed",{get:function(){return this._composedFlag},enumerable:!0,configurable:!0}),Object.defineProperty(Je.prototype,"isTrusted",{get:function(){return this._isTrusted},enumerable:!0,configurable:!0}),Object.defineProperty(Je.prototype,"timeStamp",{get:function(){return this._timeStamp},enumerable:!0,configurable:!0}),Je.prototype.initEvent=function(St,ei,ti){ei===void 0&&(ei=!1),ti===void 0&&(ti=!1),this._dispatchFlag||Ke.event_initialize(this,St,ei,ti)},Je.NONE=0,Je.CAPTURING_PHASE=1,Je.AT_TARGET=2,Je.BUBBLING_PHASE=3,Je}();qe.EventImpl=Qe,Ze.idl_defineConst(Qe.prototype,"NONE",0),Ze.idl_defineConst(Qe.prototype,"CAPTURING_PHASE",1),Ze.idl_defineConst(Qe.prototype,"AT_TARGET",2),Ze.idl_defineConst(Qe.prototype,"BUBBLING_PHASE",3)},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=Xe(1),Ke=Xe(9);qe.traversal_filter=function(Ze,Qe){if(Ze._activeFlag)throw new Ke.InvalidStateError;var Je=1<<Qe._nodeType-1;if(!(Ze.whatToShow&Je))return Ye.FilterResult.Skip;if(!Ze.filter)return Ye.FilterResult.Accept;Ze._activeFlag=!0;var St=Ye.FilterResult.Reject;try{St=Ze.filter.acceptNode(Qe)}catch(ei){throw Ze._activeFlag=!1,ei}return Ze._activeFlag=!1,St}},function(ze,qe,Xe){var Ye=this&&this.__read||function(ai,oi){var ni=typeof Symbol=="function"&&ai[Symbol.iterator];if(!ni)return ai;var ci,hi,di=ni.call(ai),fi=[];try{for(;(oi===void 0||oi-- >0)&&!(ci=di.next()).done;)fi.push(ci.value)}catch(mi){hi={error:mi}}finally{try{ci&&!ci.done&&(ni=di.return)&&ni.call(di)}finally{if(hi)throw hi.error}}return fi},Ke=this&&this.__values||function(ai){var oi=typeof Symbol=="function"&&Symbol.iterator,ni=oi&&ai[oi],ci=0;if(ni)return ni.call(ai);if(ai&&typeof ai.length=="number")return{next:function(){return ai&&ci>=ai.length&&(ai=void 0),{value:ai&&ai[ci++],done:!ai}}};throw new TypeError(oi?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(qe,"__esModule",{value:!0});var Ze=Xe(6),Qe=Xe(3),Je=Xe(2),St=Xe(99),ei=Xe(73),ti=Xe(17),ii=Xe(173),ri=Xe(30),si=Xe(52),ui=Xe(37);qe.document_elementInterface=function(ai,oi){return St.ElementImpl},qe.document_internalCreateElementNS=function(ai,oi,ni,ci){var hi=Ye(ii.namespace_validateAndExtract(oi,ni),3),di=hi[0],fi=hi[1],mi=hi[2],pi=null;return ci!==void 0&&(pi=Je.isString(ci)?ci:ci.is),si.element_createAnElement(ai,mi,di,fi,pi,!0)},qe.document_adopt=function(ai,oi){var ni,ci;if(ai._nodeDocument!==oi||ai._parent!==null){var hi=ai._nodeDocument;if(ai._parent&&ui.mutation_remove(ai,ai._parent),oi!==hi)for(var di=ti.tree_getFirstDescendantNode(ai,!0,!0);di!==null;){if(di._nodeDocument=oi,Qe.Guard.isElementNode(di))try{for(var fi=(ni=void 0,Ke(di._attributeList._asArray())),mi=fi.next();!mi.done;mi=fi.next())mi.value._nodeDocument=oi}catch(pi){ni={error:pi}}finally{try{mi&&!mi.done&&(ci=fi.return)&&ci.call(fi)}finally{if(ni)throw ni.error}}Ze.dom.features.customElements&&Qe.Guard.isElementNode(di)&&di._customElementState==="custom"&&ei.customElement_enqueueACustomElementCallbackReaction(di,"adoptedCallback",[hi,oi]),Ze.dom.features.steps&&ri.dom_runAdoptingSteps(di,hi),di=ti.tree_getNextDescendantNode(ai,di,!0,!0)}}}},function(ze,qe,Xe){var Ye=this&&this.__values||function(ti){var ii=typeof Symbol=="function"&&Symbol.iterator,ri=ii&&ti[ii],si=0;if(ri)return ri.call(ti);if(ti&&typeof ti.length=="number")return{next:function(){return ti&&si>=ti.length&&(ti=void 0),{value:ti&&ti[si++],done:!ti}}};throw new TypeError(ii?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(qe,"__esModule",{value:!0});var Ke=Xe(6),Ze=Xe(3),Qe=Xe(9),Je=Xe(17),St=Xe(51),ei=Xe(30);qe.characterData_replaceData=function(ti,ii,ri,si){var ui,ai,oi=Je.tree_nodeLength(ti);if(ii>oi)throw new Qe.IndexSizeError("Offset exceeds character data length. Offset: "+ii+", Length: "+oi+", Node is "+ti.nodeName+".");ii+ri>oi&&(ri=oi-ii),Ke.dom.features.mutationObservers&&St.observer_queueMutationRecord("characterData",ti,null,null,ti._data,[],[],null,null);var ni=ti._data.substring(0,ii)+si+ti._data.substring(ii+ri);ti._data=ni;try{for(var ci=Ye(Ke.dom.rangeList),hi=ci.next();!hi.done;hi=ci.next()){var di=hi.value;di._start[0]===ti&&di._start[1]>ii&&di._start[1]<=ii+ri&&(di._start[1]=ii),di._end[0]===ti&&di._end[1]>ii&&di._end[1]<=ii+ri&&(di._end[1]=ii),di._start[0]===ti&&di._start[1]>ii+ri&&(di._start[1]+=si.length-ri),di._end[0]===ti&&di._end[1]>ii+ri&&(di._end[1]+=si.length-ri)}}catch(fi){ui={error:fi}}finally{try{hi&&!hi.done&&(ai=ci.return)&&ai.call(ci)}finally{if(ui)throw ui.error}}Ke.dom.features.steps&&Ze.Guard.isTextNode(ti)&&ti._parent!==null&&ei.dom_runChildTextContentChangeSteps(ti._parent)},qe.characterData_substringData=function(ti,ii,ri){var si=Je.tree_nodeLength(ti);if(ii>si)throw new Qe.IndexSizeError("Offset exceeds character data length. Offset: "+ii+", Length: "+si+", Node is "+ti.nodeName+".");return ii+ri>si?ti._data.substr(ii):ti._data.substr(ii,ri)}},function(ze,qe,Xe){var Ye=this&&this.__read||function(ei,ti){var ii=typeof Symbol=="function"&&ei[Symbol.iterator];if(!ii)return ei;var ri,si,ui=ii.call(ei),ai=[];try{for(;(ti===void 0||ti-- >0)&&!(ri=ui.next()).done;)ai.push(ri.value)}catch(oi){si={error:oi}}finally{try{ri&&!ri.done&&(ii=ui.return)&&ii.call(ui)}finally{if(si)throw si.error}}return ai},Ke=this&&this.__spread||function(){for(var ei=[],ti=0;ti<arguments.length;ti++)ei=ei.concat(Ye(arguments[ti]));return ei},Ze=this&&this.__values||function(ei){var ti=typeof Symbol=="function"&&Symbol.iterator,ii=ti&&ei[ti],ri=0;if(ii)return ii.call(ei);if(ei&&typeof ei.length=="number")return{next:function(){return ei&&ri>=ei.length&&(ei=void 0),{value:ei&&ei[ri++],done:!ei}}};throw new TypeError(ti?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(qe,"__esModule",{value:!0});var Qe=Xe(7);function Je(ei){var ti=Qe.string.splitAStringOnASCIIWhitespace(ei);return new Set(ti)}function St(ei){return Ke(ei).join(" ")}qe.orderedSet_parse=Je,qe.orderedSet_serialize=St,qe.orderedSet_sanitize=function(ei){return St(Je(ei))},qe.orderedSet_contains=function(ei,ti,ii){var ri,si,ui,ai;try{for(var oi=Ze(ti),ni=oi.next();!ni.done;ni=oi.next()){var ci=ni.value,hi=!1;try{for(var di=(ui=void 0,Ze(ei)),fi=di.next();!fi.done;fi=di.next()){var mi=fi.value;if(ii){if(mi===ci){hi=!0;break}}else if(mi.toUpperCase()===ci.toUpperCase()){hi=!0;break}}}catch(pi){ui={error:pi}}finally{try{fi&&!fi.done&&(ai=di.return)&&ai.call(di)}finally{if(ui)throw ui.error}}if(!hi)return!1}}catch(pi){ri={error:pi}}finally{try{ni&&!ni.done&&(si=oi.return)&&si.call(oi)}finally{if(ri)throw ri.error}}return!0}},function(ze,qe,Xe){Xe(179),Object.defineProperty(qe,"__esModule",{value:!0});var Ye=Xe(263),Ke=Xe(110),Ze=Xe(2);Ke.dom.setFeatures(!1),qe.createDocument=function(){var Qe=new Ye.DOMImplementation().createDocument(null,"root",null);return Qe.documentElement&&Qe.removeChild(Qe.documentElement),Qe},qe.sanitizeInput=function(Qe,Je){if(Qe==null)return Qe;if(Je===void 0)return Qe+"";var St="";Qe+="";for(var ei=0;ei<Qe.length;ei++){var ti=Qe.charCodeAt(ei);if(ti===9||ti===10||ti===13||ti>=32&&ti<=55295||ti>=57344&&ti<=65533)St+=Qe.charAt(ei);else if(ti>=55296&&ti<=56319&&ei<Qe.length-1){var ii=Qe.charCodeAt(ei+1);ii>=56320&&ii<=57343?(ti=1024*(ti-55296)+ii-56320+65536,St+=String.fromCodePoint(ti),ei++):St+=Ze.isString(Je)?Je:Je(Qe.charAt(ei),ei,Qe)}else St+=Ze.isString(Je)?Je:Je(Qe.charAt(ei),ei,Qe)}return St}},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=Xe(2),Ke=Xe(153);qe.AbortController=Ke.AbortControllerImpl;var Ze=Xe(154);qe.AbortSignal=Ze.AbortSignalImpl;var Qe=Xe(102);qe.AbstractRange=Qe.AbstractRangeImpl;var Je=Xe(157);qe.Attr=Je.AttrImpl;var St=Xe(158);qe.CDATASection=St.CDATASectionImpl;var ei=Xe(71);qe.CharacterData=ei.CharacterDataImpl;var ti=Xe(264),ii=Xe(159);qe.Comment=ii.CommentImpl;var ri=Xe(171);qe.CustomEvent=ri.CustomEventImpl;var si=Xe(100);qe.DocumentFragment=si.DocumentFragmentImpl;var ui=Xe(98);qe.Document=ui.DocumentImpl;var ai=Xe(265),oi=Xe(155);qe.DocumentType=oi.DocumentTypeImpl;var ni=Xe(6);qe.dom=ni.dom;var ci=Xe(148);qe.DOMImplementation=ci.DOMImplementationImpl;var hi=Xe(170);qe.DOMTokenList=hi.DOMTokenListImpl;var di=Xe(99);qe.Element=di.ElementImpl;var fi=Xe(104);qe.Event=fi.EventImpl;var mi=Xe(70);qe.EventTarget=mi.EventTargetImpl;var pi=Xe(161);qe.HTMLCollection=pi.HTMLCollectionImpl;var wi=Xe(266);qe.MutationObserver=wi.MutationObserverImpl;var gi=Xe(169);qe.MutationRecord=gi.MutationRecordImpl;var yi=Xe(164);qe.NamedNodeMap=yi.NamedNodeMapImpl;var Ai=Xe(168);qe.NodeFilter=Ai.NodeFilterImpl;var Si=Xe(34);qe.Node=Si.NodeImpl;var ki=Xe(166);qe.NodeIterator=ki.NodeIteratorImpl;var Li=Xe(162);qe.NodeList=Li.NodeListImpl;var Bi=Xe(163);qe.NodeListStatic=Bi.NodeListStaticImpl;var Pi=Xe(267),Ri=Xe(268),Fi=Xe(269),Gi=Xe(160);qe.ProcessingInstruction=Gi.ProcessingInstructionImpl;var Ti=Xe(165);qe.Range=Ti.RangeImpl;var Vi=Xe(156);qe.ShadowRoot=Vi.ShadowRootImpl;var Ui=Xe(270),$i=Xe(271);qe.StaticRange=$i.StaticRangeImpl;var Wi=Xe(101);qe.Text=Wi.TextImpl;var tn=Xe(103);qe.Traverser=tn.TraverserImpl;var nn=Xe(167);qe.TreeWalker=nn.TreeWalkerImpl;var Qi=Xe(149);qe.Window=Qi.WindowImpl;var Ei=Xe(151);qe.XMLDocument=Ei.XMLDocumentImpl,Ye.applyMixin(di.ElementImpl,ti.ChildNodeImpl),Ye.applyMixin(ei.CharacterDataImpl,ti.ChildNodeImpl),Ye.applyMixin(oi.DocumentTypeImpl,ti.ChildNodeImpl),Ye.applyMixin(ui.DocumentImpl,ai.DocumentOrShadowRootImpl),Ye.applyMixin(Vi.ShadowRootImpl,ai.DocumentOrShadowRootImpl),Ye.applyMixin(di.ElementImpl,Pi.NonDocumentTypeChildNodeImpl),Ye.applyMixin(ei.CharacterDataImpl,Pi.NonDocumentTypeChildNodeImpl),Ye.applyMixin(ui.DocumentImpl,Ri.NonElementParentNodeImpl),Ye.applyMixin(si.DocumentFragmentImpl,Ri.NonElementParentNodeImpl),Ye.applyMixin(ui.DocumentImpl,Fi.ParentNodeImpl),Ye.applyMixin(si.DocumentFragmentImpl,Fi.ParentNodeImpl),Ye.applyMixin(di.ElementImpl,Fi.ParentNodeImpl),Ye.applyMixin(Wi.TextImpl,Ui.SlotableImpl),Ye.applyMixin(di.ElementImpl,Ui.SlotableImpl)},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0}),function(Ye){Ye[Ye.EOF=0]="EOF",Ye[Ye.Declaration=1]="Declaration",Ye[Ye.DocType=2]="DocType",Ye[Ye.Element=3]="Element",Ye[Ye.Text=4]="Text",Ye[Ye.CDATA=5]="CDATA",Ye[Ye.PI=6]="PI",Ye[Ye.Comment=7]="Comment",Ye[Ye.ClosingTag=8]="ClosingTag"}(qe.TokenType||(qe.TokenType={}))},function(ze,qe,Xe){Xe(64),Xe(20),Xe(66);var Ye,Ke=this&&this.__extends||(Ye=function(Je,St){return(Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ei,ti){ei.__proto__=ti}||function(ei,ti){for(var ii in ti)ti.hasOwnProperty(ii)&&(ei[ii]=ti[ii])})(Je,St)},function(Je,St){function ei(){this.constructor=Je}Ye(Je,St),Je.prototype=St===null?Object.create(St):(ei.prototype=St.prototype,new ei)});Object.defineProperty(qe,"__esModule",{value:!0});var Ze=Xe(2),Qe=function(Je){function St(){return Je!==null&&Je.apply(this,arguments)||this}return Ke(St,Je),St.prototype._parse=function(ei,ti){var ii=this,ri=this._builderOptions,si=null;return Ze.isFunction(ti)?si=this.parse(ei,ti.apply(this)):Ze.isArray(ti)||Ze.isSet(ti)?Ze.forEachArray(ti,function(ui){return si=ii.parse(ei,ui)},this):Ze.isMap(ti)||Ze.isObject(ti)?Ze.forEachObject(ti,function(ui,ai){if(Ze.isFunction(ai)&&(ai=ai.apply(ii)),ri.ignoreConverters||ui.indexOf(ri.convert.att)!==0)if(ri.ignoreConverters||ui.indexOf(ri.convert.text)!==0)if(ri.ignoreConverters||ui.indexOf(ri.convert.cdata)!==0)if(ri.ignoreConverters||ui.indexOf(ri.convert.comment)!==0)if(ri.ignoreConverters||ui.indexOf(ri.convert.ins)!==0){if(!((Ze.isArray(ai)||Ze.isSet(ai))&&Ze.isEmpty(ai))){if((Ze.isMap(ai)||Ze.isObject(ai))&&Ze.isEmpty(ai))si=ii.element(ei,void 0,ii.sanitize(ui))||si;else if(ri.keepNullNodes||ai!=null)if(Ze.isArray(ai)||Ze.isSet(ai))Ze.forEachArray(ai,function(di){var fi={};fi[ui]=di,si=ii.parse(ei,fi)},ii);else if(Ze.isMap(ai)||Ze.isObject(ai))(oi=ii.element(ei,void 0,ii.sanitize(ui)))&&(si=oi,ii.parse(oi,ai));else if(ai!=null&&ai!==""){var oi;(oi=ii.element(ei,void 0,ii.sanitize(ui)))&&(si=oi,ii.text(oi,ii._decodeText(ii.sanitize(ai))))}else si=ii.element(ei,void 0,ii.sanitize(ui))||si}}else if(Ze.isString(ai)){var ni=ai.indexOf(" "),ci=ni===-1?ai:ai.substr(0,ni),hi=ni===-1?"":ai.substr(ni+1);si=ii.instruction(ei,ii.sanitize(ci),ii.sanitize(hi))||si}else Ze.isArray(ai)||Ze.isSet(ai)?Ze.forEachArray(ai,function(di){var fi=di.indexOf(" "),mi=fi===-1?di:di.substr(0,fi),pi=fi===-1?"":di.substr(fi+1);si=ii.instruction(ei,ii.sanitize(mi),ii.sanitize(pi))||si},ii):Ze.forEachObject(ai,function(di,fi){return si=ii.instruction(ei,ii.sanitize(di),ii.sanitize(fi))||si},ii);else Ze.isArray(ai)||Ze.isSet(ai)?Ze.forEachArray(ai,function(di){return si=ii.comment(ei,ii.sanitize(di))||si},ii):si=ii.comment(ei,ii.sanitize(ai))||si;else Ze.isArray(ai)||Ze.isSet(ai)?Ze.forEachArray(ai,function(di){return si=ii.cdata(ei,ii.sanitize(di))||si},ii):si=ii.cdata(ei,ii.sanitize(ai))||si;else si=Ze.isMap(ai)||Ze.isObject(ai)?ii.parse(ei,ai):ii.text(ei,ii._decodeText(ii.sanitize(ai)))||si;else if(ui===ri.convert.att){if(Ze.isArray(ai)||Ze.isSet(ai))throw new Error("Invalid attribute: "+ai.toString()+". "+ei._debugInfo());Ze.forEachObject(ai,function(di,fi){si=ii.attribute(ei,void 0,ii.sanitize(di),ii._decodeAttributeValue(ii.sanitize(fi)))||si})}else si=ii.attribute(ei,void 0,ii.sanitize(ui.substr(ri.convert.att.length)),ii._decodeAttributeValue(ii.sanitize(ai)))||si},this):(ri.keepNullNodes||ti!=null)&&(si=this.text(ei,this._decodeText(this.sanitize(ti)))||si),si||ei},St}(Xe(75).BaseReader);qe.ObjectReader=Qe},function(ze,qe,Xe){var Ye=Xe(39);ze.exports=new Ye({explicit:[Xe(287),Xe(288),Xe(289)]})},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=function(Ke){this.level=0,this._builderOptions=Ke,this._writerOptions=Ke};qe.BaseCBWriter=Ye},function(ze,qe,Xe){var Ye=Xe(16),Ke=Xe(8),Ze=Xe(116);ze.exports=!Ye&&!Ke(function(){return Object.defineProperty(Ze("div"),"a",{get:function(){return 7}}).a!=7})},function(ze,qe,Xe){var Ye=Xe(11),Ke=Xe(13),Ze=Ye.document,Qe=Ke(Ze)&&Ke(Ze.createElement);ze.exports=function(Je){return Qe?Ze.createElement(Je):{}}},function(ze,qe,Xe){var Ye=Xe(118),Ke=Function.toString;typeof Ye.inspectSource!="function"&&(Ye.inspectSource=function(Ze){return Ke.call(Ze)}),ze.exports=Ye.inspectSource},function(ze,qe,Xe){var Ye=Xe(11),Ke=Xe(80),Ze=Ye["__core-js_shared__"]||Ke("__core-js_shared__",{});ze.exports=Ze},function(ze,qe,Xe){var Ye=Xe(14),Ke=Xe(187),Ze=Xe(55),Qe=Xe(15);ze.exports=function(Je,St){for(var ei=Ke(St),ti=Qe.f,ii=Ze.f,ri=0;ri<ei.length;ri++){var si=ei[ri];Ye(Je,si)||ti(Je,si,ii(St,si))}}},function(ze,qe,Xe){var Ye=Xe(11);ze.exports=Ye},function(ze,qe,Xe){var Ye=Xe(14),Ke=Xe(24),Ze=Xe(122).indexOf,Qe=Xe(45);ze.exports=function(Je,St){var ei,ti=Ke(Je),ii=0,ri=[];for(ei in ti)!Ye(Qe,ei)&&Ye(ti,ei)&&ri.push(ei);for(;St.length>ii;)Ye(ti,ei=St[ii++])&&(~Ze(ri,ei)||ri.push(ei));return ri}},function(ze,qe,Xe){var Ye=Xe(24),Ke=Xe(26),Ze=Xe(83),Qe=function(Je){return function(St,ei,ti){var ii,ri=Ye(St),si=Ke(ri.length),ui=Ze(ti,si);if(Je&&ei!=ei){for(;si>ui;)if((ii=ri[ui++])!=ii)return!0}else for(;si>ui;ui++)if((Je||ui in ri)&&ri[ui]===ei)return Je||ui||0;return!Je&&-1}};ze.exports={includes:Qe(!0),indexOf:Qe(!1)}},function(ze,qe,Xe){var Ye=Xe(8),Ke=/#|\.prototype\./,Ze=function(ti,ii){var ri=Je[Qe(ti)];return ri==ei||ri!=St&&(typeof ii=="function"?Ye(ii):!!ii)},Qe=Ze.normalize=function(ti){return String(ti).replace(Ke,".").toLowerCase()},Je=Ze.data={},St=Ze.NATIVE="N",ei=Ze.POLYFILL="P";ze.exports=Ze},function(ze,qe,Xe){var Ye=Xe(86);ze.exports=Ye&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(ze,qe,Xe){var Ye=Xe(5);qe.f=Ye},function(ze,qe,Xe){var Ye=Xe(120),Ke=Xe(14),Ze=Xe(125),Qe=Xe(15).f;ze.exports=function(Je){var St=Ye.Symbol||(Ye.Symbol={});Ke(St,Je)||Qe(St,Je,{value:Ze.f(Je)})}},function(ze,qe){ze.exports=function(Xe){if(typeof Xe!="function")throw TypeError(String(Xe)+" is not a function");return Xe}},function(ze,qe,Xe){var Ye=Xe(13),Ke=Xe(59),Ze=Xe(5)("species");ze.exports=function(Qe,Je){var St;return Ke(Qe)&&(typeof(St=Qe.constructor)!="function"||St!==Array&&!Ke(St.prototype)?Ye(St)&&(St=St[Ze])===null&&(St=void 0):St=void 0),new(St===void 0?Array:St)(Je===0?0:Je)}},function(ze,qe,Xe){var Ye,Ke,Ze=Xe(11),Qe=Xe(193),Je=Ze.process,St=Je&&Je.versions,ei=St&&St.v8;ei?Ke=(Ye=ei.split("."))[0]+Ye[1]:Qe&&(!(Ye=Qe.match(/Edge\/(\d+)/))||Ye[1]>=74)&&(Ye=Qe.match(/Chrome\/(\d+)/))&&(Ke=Ye[1]),ze.exports=Ke&&+Ke},function(ze,qe,Xe){var Ye=Xe(5),Ke=Xe(60),Ze=Xe(15),Qe=Ye("unscopables"),Je=Array.prototype;Je[Qe]==null&&Ze.f(Je,Qe,{configurable:!0,value:Ke(null)}),ze.exports=function(St){Je[Qe][St]=!0}},function(ze,qe,Xe){var Ye,Ke,Ze,Qe=Xe(132),Je=Xe(21),St=Xe(14),ei=Xe(5),ti=Xe(44),ii=ei("iterator"),ri=!1;[].keys&&("next"in(Ze=[].keys())?(Ke=Qe(Qe(Ze)))!==Object.prototype&&(Ye=Ke):ri=!0),Ye==null&&(Ye={}),ti||St(Ye,ii)||Je(Ye,ii,function(){return this}),ze.exports={IteratorPrototype:Ye,BUGGY_SAFARI_ITERATORS:ri}},function(ze,qe,Xe){var Ye=Xe(14),Ke=Xe(27),Ze=Xe(57),Qe=Xe(196),Je=Ze("IE_PROTO"),St=Object.prototype;ze.exports=Qe?Object.getPrototypeOf:function(ei){return ei=Ke(ei),Ye(ei,Je)?ei[Je]:typeof ei.constructor=="function"&&ei instanceof ei.constructor?ei.constructor.prototype:ei instanceof Object?St:null}},function(ze,qe,Xe){var Ye=Xe(18),Ke=Xe(197);ze.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var Ze,Qe=!1,Je={};try{(Ze=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(Je,[]),Qe=Je instanceof Array}catch{}return function(St,ei){return Ye(St),Ke(ei),Qe?Ze.call(St,ei):St.__proto__=ei,St}}():void 0)},function(ze,qe,Xe){var Ye=Xe(56),Ke=Xe(15),Ze=Xe(40);ze.exports=function(Qe,Je,St){var ei=Ye(Je);ei in Qe?Ke.f(Qe,ei,Ze(0,St)):Qe[ei]=St}},function(ze,qe,Xe){var Ye=Xe(90),Ke=Xe(42),Ze=Xe(5)("toStringTag"),Qe=Ke(function(){return arguments}())=="Arguments";ze.exports=Ye?Ke:function(Je){var St,ei,ti;return Je===void 0?"Undefined":Je===null?"Null":typeof(ei=function(ii,ri){try{return ii[ri]}catch{}}(St=Object(Je),Ze))=="string"?ei:Qe?Ke(St):(ti=Ke(St))=="Object"&&typeof St.callee=="function"?"Arguments":ti}},function(ze,qe,Xe){var Ye=Xe(18);ze.exports=function(){var Ke=Ye(this),Ze="";return Ke.global&&(Ze+="g"),Ke.ignoreCase&&(Ze+="i"),Ke.multiline&&(Ze+="m"),Ke.dotAll&&(Ze+="s"),Ke.unicode&&(Ze+="u"),Ke.sticky&&(Ze+="y"),Ze}},function(ze,qe,Xe){var Ye=Xe(47),Ke=Xe(35),Ze=function(Qe){return function(Je,St){var ei,ti,ii=String(Ke(Je)),ri=Ye(St),si=ii.length;return ri<0||ri>=si?Qe?"":void 0:(ei=ii.charCodeAt(ri))<55296||ei>56319||ri+1===si||(ti=ii.charCodeAt(ri+1))<56320||ti>57343?Qe?ii.charAt(ri):ei:Qe?ii.slice(ri,ri+2):ti-56320+(ei-55296<<10)+65536}};ze.exports={codeAt:Ze(!1),charAt:Ze(!0)}},function(ze,qe,Xe){var Ye=Xe(4),Ke=Xe(27),Ze=Xe(61);Ye({target:"Object",stat:!0,forced:Xe(8)(function(){Ze(1)})},{keys:function(Qe){return Ze(Ke(Qe))}})},function(ze,qe,Xe){var Ye=Xe(4),Ke=Xe(11),Ze=Xe(123),Qe=Xe(25),Je=Xe(140),St=Xe(141),ei=Xe(142),ti=Xe(13),ii=Xe(8),ri=Xe(208),si=Xe(62),ui=Xe(209);ze.exports=function(ai,oi,ni){var ci=ai.indexOf("Map")!==-1,hi=ai.indexOf("Weak")!==-1,di=ci?"set":"add",fi=Ke[ai],mi=fi&&fi.prototype,pi=fi,wi={},gi=function(Bi){var Pi=mi[Bi];Qe(mi,Bi,Bi=="add"?function(Ri){return Pi.call(this,Ri===0?0:Ri),this}:Bi=="delete"?function(Ri){return!(hi&&!ti(Ri))&&Pi.call(this,Ri===0?0:Ri)}:Bi=="get"?function(Ri){return hi&&!ti(Ri)?void 0:Pi.call(this,Ri===0?0:Ri)}:Bi=="has"?function(Ri){return!(hi&&!ti(Ri))&&Pi.call(this,Ri===0?0:Ri)}:function(Ri,Fi){return Pi.call(this,Ri===0?0:Ri,Fi),this})};if(Ze(ai,typeof fi!="function"||!(hi||mi.forEach&&!ii(function(){new fi().entries().next()}))))pi=ni.getConstructor(oi,ai,ci,di),Je.REQUIRED=!0;else if(Ze(ai,!0)){var yi=new pi,Ai=yi[di](hi?{}:-0,1)!=yi,Si=ii(function(){yi.has(1)}),ki=ri(function(Bi){new fi(Bi)}),Li=!hi&&ii(function(){for(var Bi=new fi,Pi=5;Pi--;)Bi[di](Pi,Pi);return!Bi.has(-0)});ki||((pi=oi(function(Bi,Pi){ei(Bi,pi,ai);var Ri=ui(new fi,Bi,pi);return Pi!=null&&St(Pi,Ri[di],Ri,ci),Ri})).prototype=mi,mi.constructor=pi),(Si||Li)&&(gi("delete"),gi("has"),ci&&gi("get")),(Li||Ai)&&gi(di),hi&&mi.clear&&delete mi.clear}return wi[ai]=pi,Ye({global:!0,forced:pi!=fi},wi),si(pi,ai),hi||ni.setStrong(pi,ai,ci),pi}},function(ze,qe,Xe){var Ye=Xe(45),Ke=Xe(13),Ze=Xe(14),Qe=Xe(15).f,Je=Xe(58),St=Xe(204),ei=Je("meta"),ti=0,ii=Object.isExtensible||function(){return!0},ri=function(ui){Qe(ui,ei,{value:{objectID:"O"+ ++ti,weakData:{}}})},si=ze.exports={REQUIRED:!1,fastKey:function(ui,ai){if(!Ke(ui))return typeof ui=="symbol"?ui:(typeof ui=="string"?"S":"P")+ui;if(!Ze(ui,ei)){if(!ii(ui))return"F";if(!ai)return"E";ri(ui)}return ui[ei].objectID},getWeakData:function(ui,ai){if(!Ze(ui,ei)){if(!ii(ui))return!0;if(!ai)return!1;ri(ui)}return ui[ei].weakData},onFreeze:function(ui){return St&&si.REQUIRED&&ii(ui)&&!Ze(ui,ei)&&ri(ui),ui}};Ye[ei]=!0},function(ze,qe,Xe){var Ye=Xe(18),Ke=Xe(205),Ze=Xe(26),Qe=Xe(87),Je=Xe(206),St=Xe(207),ei=function(ti,ii){this.stopped=ti,this.result=ii};(ze.exports=function(ti,ii,ri,si,ui){var ai,oi,ni,ci,hi,di,fi,mi=Qe(ii,ri,si?2:1);if(ui)ai=ti;else{if(typeof(oi=Je(ti))!="function")throw TypeError("Target is not iterable");if(Ke(oi)){for(ni=0,ci=Ze(ti.length);ci>ni;ni++)if((hi=si?mi(Ye(fi=ti[ni])[0],fi[1]):mi(ti[ni]))&&hi instanceof ei)return hi;return new ei(!1)}ai=oi.call(ti)}for(di=ai.next;!(fi=di.call(ai)).done;)if(typeof(hi=St(ai,mi,fi.value,si))=="object"&&hi&&hi instanceof ei)return hi;return new ei(!1)}).stop=function(ti){return new ei(!0,ti)}},function(ze,qe){ze.exports=function(Xe,Ye,Ke){if(!(Xe instanceof Ye))throw TypeError("Incorrect "+(Ke?Ke+" ":"")+"invocation");return Xe}},function(ze,qe,Xe){var Ye=Xe(15).f,Ke=Xe(60),Ze=Xe(210),Qe=Xe(87),Je=Xe(142),St=Xe(141),ei=Xe(88),ti=Xe(211),ii=Xe(16),ri=Xe(140).fastKey,si=Xe(43),ui=si.set,ai=si.getterFor;ze.exports={getConstructor:function(oi,ni,ci,hi){var di=oi(function(wi,gi){Je(wi,di,ni),ui(wi,{type:ni,index:Ke(null),first:void 0,last:void 0,size:0}),ii||(wi.size=0),gi!=null&&St(gi,wi[hi],wi,ci)}),fi=ai(ni),mi=function(wi,gi,yi){var Ai,Si,ki=fi(wi),Li=pi(wi,gi);return Li?Li.value=yi:(ki.last=Li={index:Si=ri(gi,!0),key:gi,value:yi,previous:Ai=ki.last,next:void 0,removed:!1},ki.first||(ki.first=Li),Ai&&(Ai.next=Li),ii?ki.size++:wi.size++,Si!=="F"&&(ki.index[Si]=Li)),wi},pi=function(wi,gi){var yi,Ai=fi(wi),Si=ri(gi);if(Si!=="F")return Ai.index[Si];for(yi=Ai.first;yi;yi=yi.next)if(yi.key==gi)return yi};return Ze(di.prototype,{clear:function(){for(var wi=fi(this),gi=wi.index,yi=wi.first;yi;)yi.removed=!0,yi.previous&&(yi.previous=yi.previous.next=void 0),delete gi[yi.index],yi=yi.next;wi.first=wi.last=void 0,ii?wi.size=0:this.size=0},delete:function(wi){var gi=fi(this),yi=pi(this,wi);if(yi){var Ai=yi.next,Si=yi.previous;delete gi.index[yi.index],yi.removed=!0,Si&&(Si.next=Ai),Ai&&(Ai.previous=Si),gi.first==yi&&(gi.first=Ai),gi.last==yi&&(gi.last=Si),ii?gi.size--:this.size--}return!!yi},forEach:function(wi){for(var gi,yi=fi(this),Ai=Qe(wi,arguments.length>1?arguments[1]:void 0,3);gi=gi?gi.next:yi.first;)for(Ai(gi.value,gi.key,this);gi&&gi.removed;)gi=gi.previous},has:function(wi){return!!pi(this,wi)}}),Ze(di.prototype,ci?{get:function(wi){var gi=pi(this,wi);return gi&&gi.value},set:function(wi,gi){return mi(this,wi===0?0:wi,gi)}}:{add:function(wi){return mi(this,wi=wi===0?0:wi,wi)}}),ii&&Ye(di.prototype,"size",{get:function(){return fi(this).size}}),di},setStrong:function(oi,ni,ci){var hi=ni+" Iterator",di=ai(ni),fi=ai(hi);ei(oi,ni,function(mi,pi){ui(this,{type:hi,target:mi,state:di(mi),kind:pi,last:void 0})},function(){for(var mi=fi(this),pi=mi.kind,wi=mi.last;wi&&wi.removed;)wi=wi.previous;return mi.target&&(mi.last=wi=wi?wi.next:mi.state.first)?pi=="keys"?{value:wi.key,done:!1}:pi=="values"?{value:wi.value,done:!1}:{value:[wi.key,wi.value],done:!1}:(mi.target=void 0,{value:void 0,done:!0})},ci?"entries":"values",!ci,!0),ti(ni)}}},function(ze,qe,Xe){var Ye,Ke=Xe(4),Ze=Xe(55).f,Qe=Xe(26),Je=Xe(222),St=Xe(35),ei=Xe(224),ti=Xe(44),ii="".endsWith,ri=Math.min,si=ei("endsWith");Ke({target:"String",proto:!0,forced:!!(ti||si||(Ye=Ze(String.prototype,"endsWith"),!Ye||Ye.writable))&&!si},{endsWith:function(ui){var ai=String(St(this));Je(ui);var oi=arguments.length>1?arguments[1]:void 0,ni=Qe(ai.length),ci=oi===void 0?ni:ri(Qe(oi),ni),hi=String(ui);return ii?ii.call(ai,hi,ci):ai.slice(ci-hi.length,ci)===hi}})},function(ze,qe,Xe){(function(Ye){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var Ke=Xe(229),Ze=Xe(230),Qe=Xe(231);function Je(){return ei.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function St(Ei,bi){if(Je()<bi)throw new RangeError("Invalid typed array length");return ei.TYPED_ARRAY_SUPPORT?(Ei=new Uint8Array(bi)).__proto__=ei.prototype:(Ei===null&&(Ei=new ei(bi)),Ei.length=bi),Ei}function ei(Ei,bi,Ci){if(!(ei.TYPED_ARRAY_SUPPORT||this instanceof ei))return new ei(Ei,bi,Ci);if(typeof Ei=="number"){if(typeof bi=="string")throw new Error("If encoding is specified then the first argument must be a string");return ri(this,Ei)}return ti(this,Ei,bi,Ci)}function ti(Ei,bi,Ci,_i){if(typeof bi=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&bi instanceof ArrayBuffer?function(Ii,Ni,Di,Ki){if(Ni.byteLength,Di<0||Ni.byteLength<Di)throw new RangeError("'offset' is out of bounds");if(Ni.byteLength<Di+(Ki||0))throw new RangeError("'length' is out of bounds");return Ni=Di===void 0&&Ki===void 0?new Uint8Array(Ni):Ki===void 0?new Uint8Array(Ni,Di):new Uint8Array(Ni,Di,Ki),ei.TYPED_ARRAY_SUPPORT?(Ii=Ni).__proto__=ei.prototype:Ii=si(Ii,Ni),Ii}(Ei,bi,Ci,_i):typeof bi=="string"?function(Ii,Ni,Di){if(typeof Di=="string"&&Di!==""||(Di="utf8"),!ei.isEncoding(Di))throw new TypeError('"encoding" must be a valid string encoding');var Ki=0|ai(Ni,Di),sn=(Ii=St(Ii,Ki)).write(Ni,Di);return sn!==Ki&&(Ii=Ii.slice(0,sn)),Ii}(Ei,bi,Ci):function(Ii,Ni){if(ei.isBuffer(Ni)){var Di=0|ui(Ni.length);return(Ii=St(Ii,Di)).length===0||Ni.copy(Ii,0,0,Di),Ii}if(Ni){if(typeof ArrayBuffer<"u"&&Ni.buffer instanceof ArrayBuffer||"length"in Ni)return typeof Ni.length!="number"||(Ki=Ni.length)!=Ki?St(Ii,0):si(Ii,Ni);if(Ni.type==="Buffer"&&Qe(Ni.data))return si(Ii,Ni.data)}var Ki;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(Ei,bi)}function ii(Ei){if(typeof Ei!="number")throw new TypeError('"size" argument must be a number');if(Ei<0)throw new RangeError('"size" argument must not be negative')}function ri(Ei,bi){if(ii(bi),Ei=St(Ei,bi<0?0:0|ui(bi)),!ei.TYPED_ARRAY_SUPPORT)for(var Ci=0;Ci<bi;++Ci)Ei[Ci]=0;return Ei}function si(Ei,bi){var Ci=bi.length<0?0:0|ui(bi.length);Ei=St(Ei,Ci);for(var _i=0;_i<Ci;_i+=1)Ei[_i]=255&bi[_i];return Ei}function ui(Ei){if(Ei>=Je())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Je().toString(16)+" bytes");return 0|Ei}function ai(Ei,bi){if(ei.isBuffer(Ei))return Ei.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(Ei)||Ei instanceof ArrayBuffer))return Ei.byteLength;typeof Ei!="string"&&(Ei=""+Ei);var Ci=Ei.length;if(Ci===0)return 0;for(var _i=!1;;)switch(bi){case"ascii":case"latin1":case"binary":return Ci;case"utf8":case"utf-8":case void 0:return tn(Ei).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Ci;case"hex":return Ci>>>1;case"base64":return nn(Ei).length;default:if(_i)return tn(Ei).length;bi=(""+bi).toLowerCase(),_i=!0}}function oi(Ei,bi,Ci){var _i=!1;if((bi===void 0||bi<0)&&(bi=0),bi>this.length||((Ci===void 0||Ci>this.length)&&(Ci=this.length),Ci<=0)||(Ci>>>=0)<=(bi>>>=0))return"";for(Ei||(Ei="utf8");;)switch(Ei){case"hex":return Li(this,bi,Ci);case"utf8":case"utf-8":return Ai(this,bi,Ci);case"ascii":return Si(this,bi,Ci);case"latin1":case"binary":return ki(this,bi,Ci);case"base64":return yi(this,bi,Ci);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Bi(this,bi,Ci);default:if(_i)throw new TypeError("Unknown encoding: "+Ei);Ei=(Ei+"").toLowerCase(),_i=!0}}function ni(Ei,bi,Ci){var _i=Ei[bi];Ei[bi]=Ei[Ci],Ei[Ci]=_i}function ci(Ei,bi,Ci,_i,Ii){if(Ei.length===0)return-1;if(typeof Ci=="string"?(_i=Ci,Ci=0):Ci>2147483647?Ci=2147483647:Ci<-2147483648&&(Ci=-2147483648),Ci=+Ci,isNaN(Ci)&&(Ci=Ii?0:Ei.length-1),Ci<0&&(Ci=Ei.length+Ci),Ci>=Ei.length){if(Ii)return-1;Ci=Ei.length-1}else if(Ci<0){if(!Ii)return-1;Ci=0}if(typeof bi=="string"&&(bi=ei.from(bi,_i)),ei.isBuffer(bi))return bi.length===0?-1:hi(Ei,bi,Ci,_i,Ii);if(typeof bi=="number")return bi&=255,ei.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?Ii?Uint8Array.prototype.indexOf.call(Ei,bi,Ci):Uint8Array.prototype.lastIndexOf.call(Ei,bi,Ci):hi(Ei,[bi],Ci,_i,Ii);throw new TypeError("val must be string, number or Buffer")}function hi(Ei,bi,Ci,_i,Ii){var Ni,Di=1,Ki=Ei.length,sn=bi.length;if(_i!==void 0&&((_i=String(_i).toLowerCase())==="ucs2"||_i==="ucs-2"||_i==="utf16le"||_i==="utf-16le")){if(Ei.length<2||bi.length<2)return-1;Di=2,Ki/=2,sn/=2,Ci/=2}function zi(dn,An){return Di===1?dn[An]:dn.readUInt16BE(An*Di)}if(Ii){var on=-1;for(Ni=Ci;Ni<Ki;Ni++)if(zi(Ei,Ni)===zi(bi,on===-1?0:Ni-on)){if(on===-1&&(on=Ni),Ni-on+1===sn)return on*Di}else on!==-1&&(Ni-=Ni-on),on=-1}else for(Ci+sn>Ki&&(Ci=Ki-sn),Ni=Ci;Ni>=0;Ni--){for(var cn=!0,mn=0;mn<sn;mn++)if(zi(Ei,Ni+mn)!==zi(bi,mn)){cn=!1;break}if(cn)return Ni}return-1}function di(Ei,bi,Ci,_i){Ci=Number(Ci)||0;var Ii=Ei.length-Ci;_i?(_i=Number(_i))>Ii&&(_i=Ii):_i=Ii;var Ni=bi.length;if(Ni%2!=0)throw new TypeError("Invalid hex string");_i>Ni/2&&(_i=Ni/2);for(var Di=0;Di<_i;++Di){var Ki=parseInt(bi.substr(2*Di,2),16);if(isNaN(Ki))return Di;Ei[Ci+Di]=Ki}return Di}function fi(Ei,bi,Ci,_i){return Qi(tn(bi,Ei.length-Ci),Ei,Ci,_i)}function mi(Ei,bi,Ci,_i){return Qi(function(Ii){for(var Ni=[],Di=0;Di<Ii.length;++Di)Ni.push(255&Ii.charCodeAt(Di));return Ni}(bi),Ei,Ci,_i)}function pi(Ei,bi,Ci,_i){return mi(Ei,bi,Ci,_i)}function wi(Ei,bi,Ci,_i){return Qi(nn(bi),Ei,Ci,_i)}function gi(Ei,bi,Ci,_i){return Qi(function(Ii,Ni){for(var Di,Ki,sn,zi=[],on=0;on<Ii.length&&!((Ni-=2)<0);++on)Di=Ii.charCodeAt(on),Ki=Di>>8,sn=Di%256,zi.push(sn),zi.push(Ki);return zi}(bi,Ei.length-Ci),Ei,Ci,_i)}function yi(Ei,bi,Ci){return bi===0&&Ci===Ei.length?Ke.fromByteArray(Ei):Ke.fromByteArray(Ei.slice(bi,Ci))}function Ai(Ei,bi,Ci){Ci=Math.min(Ei.length,Ci);for(var _i=[],Ii=bi;Ii<Ci;){var Ni,Di,Ki,sn,zi=Ei[Ii],on=null,cn=zi>239?4:zi>223?3:zi>191?2:1;if(Ii+cn<=Ci)switch(cn){case 1:zi<128&&(on=zi);break;case 2:(192&(Ni=Ei[Ii+1]))==128&&(sn=(31&zi)<<6|63&Ni)>127&&(on=sn);break;case 3:Ni=Ei[Ii+1],Di=Ei[Ii+2],(192&Ni)==128&&(192&Di)==128&&(sn=(15&zi)<<12|(63&Ni)<<6|63&Di)>2047&&(sn<55296||sn>57343)&&(on=sn);break;case 4:Ni=Ei[Ii+1],Di=Ei[Ii+2],Ki=Ei[Ii+3],(192&Ni)==128&&(192&Di)==128&&(192&Ki)==128&&(sn=(15&zi)<<18|(63&Ni)<<12|(63&Di)<<6|63&Ki)>65535&&sn<1114112&&(on=sn)}on===null?(on=65533,cn=1):on>65535&&(on-=65536,_i.push(on>>>10&1023|55296),on=56320|1023&on),_i.push(on),Ii+=cn}return function(mn){var dn=mn.length;if(dn<=4096)return String.fromCharCode.apply(String,mn);for(var An="",pn=0;pn<dn;)An+=String.fromCharCode.apply(String,mn.slice(pn,pn+=4096));return An}(_i)}qe.Buffer=ei,qe.SlowBuffer=function(Ei){return+Ei!=Ei&&(Ei=0),ei.alloc(+Ei)},qe.INSPECT_MAX_BYTES=50,ei.TYPED_ARRAY_SUPPORT=Ye.TYPED_ARRAY_SUPPORT!==void 0?Ye.TYPED_ARRAY_SUPPORT:function(){try{var Ei=new Uint8Array(1);return Ei.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},Ei.foo()===42&&typeof Ei.subarray=="function"&&Ei.subarray(1,1).byteLength===0}catch{return!1}}(),qe.kMaxLength=Je(),ei.poolSize=8192,ei._augment=function(Ei){return Ei.__proto__=ei.prototype,Ei},ei.from=function(Ei,bi,Ci){return ti(null,Ei,bi,Ci)},ei.TYPED_ARRAY_SUPPORT&&(ei.prototype.__proto__=Uint8Array.prototype,ei.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&ei[Symbol.species]===ei&&Object.defineProperty(ei,Symbol.species,{value:null,configurable:!0})),ei.alloc=function(Ei,bi,Ci){return function(_i,Ii,Ni,Di){return ii(Ii),Ii<=0?St(_i,Ii):Ni!==void 0?typeof Di=="string"?St(_i,Ii).fill(Ni,Di):St(_i,Ii).fill(Ni):St(_i,Ii)}(null,Ei,bi,Ci)},ei.allocUnsafe=function(Ei){return ri(null,Ei)},ei.allocUnsafeSlow=function(Ei){return ri(null,Ei)},ei.isBuffer=function(Ei){return!(Ei==null||!Ei._isBuffer)},ei.compare=function(Ei,bi){if(!ei.isBuffer(Ei)||!ei.isBuffer(bi))throw new TypeError("Arguments must be Buffers");if(Ei===bi)return 0;for(var Ci=Ei.length,_i=bi.length,Ii=0,Ni=Math.min(Ci,_i);Ii<Ni;++Ii)if(Ei[Ii]!==bi[Ii]){Ci=Ei[Ii],_i=bi[Ii];break}return Ci<_i?-1:_i<Ci?1:0},ei.isEncoding=function(Ei){switch(String(Ei).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ei.concat=function(Ei,bi){if(!Qe(Ei))throw new TypeError('"list" argument must be an Array of Buffers');if(Ei.length===0)return ei.alloc(0);var Ci;if(bi===void 0)for(bi=0,Ci=0;Ci<Ei.length;++Ci)bi+=Ei[Ci].length;var _i=ei.allocUnsafe(bi),Ii=0;for(Ci=0;Ci<Ei.length;++Ci){var Ni=Ei[Ci];if(!ei.isBuffer(Ni))throw new TypeError('"list" argument must be an Array of Buffers');Ni.copy(_i,Ii),Ii+=Ni.length}return _i},ei.byteLength=ai,ei.prototype._isBuffer=!0,ei.prototype.swap16=function(){var Ei=this.length;if(Ei%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var bi=0;bi<Ei;bi+=2)ni(this,bi,bi+1);return this},ei.prototype.swap32=function(){var Ei=this.length;if(Ei%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var bi=0;bi<Ei;bi+=4)ni(this,bi,bi+3),ni(this,bi+1,bi+2);return this},ei.prototype.swap64=function(){var Ei=this.length;if(Ei%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var bi=0;bi<Ei;bi+=8)ni(this,bi,bi+7),ni(this,bi+1,bi+6),ni(this,bi+2,bi+5),ni(this,bi+3,bi+4);return this},ei.prototype.toString=function(){var Ei=0|this.length;return Ei===0?"":arguments.length===0?Ai(this,0,Ei):oi.apply(this,arguments)},ei.prototype.equals=function(Ei){if(!ei.isBuffer(Ei))throw new TypeError("Argument must be a Buffer");return this===Ei||ei.compare(this,Ei)===0},ei.prototype.inspect=function(){var Ei="",bi=qe.INSPECT_MAX_BYTES;return this.length>0&&(Ei=this.toString("hex",0,bi).match(/.{2}/g).join(" "),this.length>bi&&(Ei+=" ... ")),"<Buffer "+Ei+">"},ei.prototype.compare=function(Ei,bi,Ci,_i,Ii){if(!ei.isBuffer(Ei))throw new TypeError("Argument must be a Buffer");if(bi===void 0&&(bi=0),Ci===void 0&&(Ci=Ei?Ei.length:0),_i===void 0&&(_i=0),Ii===void 0&&(Ii=this.length),bi<0||Ci>Ei.length||_i<0||Ii>this.length)throw new RangeError("out of range index");if(_i>=Ii&&bi>=Ci)return 0;if(_i>=Ii)return-1;if(bi>=Ci)return 1;if(this===Ei)return 0;for(var Ni=(Ii>>>=0)-(_i>>>=0),Di=(Ci>>>=0)-(bi>>>=0),Ki=Math.min(Ni,Di),sn=this.slice(_i,Ii),zi=Ei.slice(bi,Ci),on=0;on<Ki;++on)if(sn[on]!==zi[on]){Ni=sn[on],Di=zi[on];break}return Ni<Di?-1:Di<Ni?1:0},ei.prototype.includes=function(Ei,bi,Ci){return this.indexOf(Ei,bi,Ci)!==-1},ei.prototype.indexOf=function(Ei,bi,Ci){return ci(this,Ei,bi,Ci,!0)},ei.prototype.lastIndexOf=function(Ei,bi,Ci){return ci(this,Ei,bi,Ci,!1)},ei.prototype.write=function(Ei,bi,Ci,_i){if(bi===void 0)_i="utf8",Ci=this.length,bi=0;else if(Ci===void 0&&typeof bi=="string")_i=bi,Ci=this.length,bi=0;else{if(!isFinite(bi))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");bi|=0,isFinite(Ci)?(Ci|=0,_i===void 0&&(_i="utf8")):(_i=Ci,Ci=void 0)}var Ii=this.length-bi;if((Ci===void 0||Ci>Ii)&&(Ci=Ii),Ei.length>0&&(Ci<0||bi<0)||bi>this.length)throw new RangeError("Attempt to write outside buffer bounds");_i||(_i="utf8");for(var Ni=!1;;)switch(_i){case"hex":return di(this,Ei,bi,Ci);case"utf8":case"utf-8":return fi(this,Ei,bi,Ci);case"ascii":return mi(this,Ei,bi,Ci);case"latin1":case"binary":return pi(this,Ei,bi,Ci);case"base64":return wi(this,Ei,bi,Ci);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return gi(this,Ei,bi,Ci);default:if(Ni)throw new TypeError("Unknown encoding: "+_i);_i=(""+_i).toLowerCase(),Ni=!0}},ei.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Si(Ei,bi,Ci){var _i="";Ci=Math.min(Ei.length,Ci);for(var Ii=bi;Ii<Ci;++Ii)_i+=String.fromCharCode(127&Ei[Ii]);return _i}function ki(Ei,bi,Ci){var _i="";Ci=Math.min(Ei.length,Ci);for(var Ii=bi;Ii<Ci;++Ii)_i+=String.fromCharCode(Ei[Ii]);return _i}function Li(Ei,bi,Ci){var _i=Ei.length;(!bi||bi<0)&&(bi=0),(!Ci||Ci<0||Ci>_i)&&(Ci=_i);for(var Ii="",Ni=bi;Ni<Ci;++Ni)Ii+=Wi(Ei[Ni]);return Ii}function Bi(Ei,bi,Ci){for(var _i=Ei.slice(bi,Ci),Ii="",Ni=0;Ni<_i.length;Ni+=2)Ii+=String.fromCharCode(_i[Ni]+256*_i[Ni+1]);return Ii}function Pi(Ei,bi,Ci){if(Ei%1!=0||Ei<0)throw new RangeError("offset is not uint");if(Ei+bi>Ci)throw new RangeError("Trying to access beyond buffer length")}function Ri(Ei,bi,Ci,_i,Ii,Ni){if(!ei.isBuffer(Ei))throw new TypeError('"buffer" argument must be a Buffer instance');if(bi>Ii||bi<Ni)throw new RangeError('"value" argument is out of bounds');if(Ci+_i>Ei.length)throw new RangeError("Index out of range")}function Fi(Ei,bi,Ci,_i){bi<0&&(bi=65535+bi+1);for(var Ii=0,Ni=Math.min(Ei.length-Ci,2);Ii<Ni;++Ii)Ei[Ci+Ii]=(bi&255<<8*(_i?Ii:1-Ii))>>>8*(_i?Ii:1-Ii)}function Gi(Ei,bi,Ci,_i){bi<0&&(bi=4294967295+bi+1);for(var Ii=0,Ni=Math.min(Ei.length-Ci,4);Ii<Ni;++Ii)Ei[Ci+Ii]=bi>>>8*(_i?Ii:3-Ii)&255}function Ti(Ei,bi,Ci,_i,Ii,Ni){if(Ci+_i>Ei.length)throw new RangeError("Index out of range");if(Ci<0)throw new RangeError("Index out of range")}function Vi(Ei,bi,Ci,_i,Ii){return Ii||Ti(Ei,0,Ci,4),Ze.write(Ei,bi,Ci,_i,23,4),Ci+4}function Ui(Ei,bi,Ci,_i,Ii){return Ii||Ti(Ei,0,Ci,8),Ze.write(Ei,bi,Ci,_i,52,8),Ci+8}ei.prototype.slice=function(Ei,bi){var Ci,_i=this.length;if((Ei=~~Ei)<0?(Ei+=_i)<0&&(Ei=0):Ei>_i&&(Ei=_i),(bi=bi===void 0?_i:~~bi)<0?(bi+=_i)<0&&(bi=0):bi>_i&&(bi=_i),bi<Ei&&(bi=Ei),ei.TYPED_ARRAY_SUPPORT)(Ci=this.subarray(Ei,bi)).__proto__=ei.prototype;else{var Ii=bi-Ei;Ci=new ei(Ii,void 0);for(var Ni=0;Ni<Ii;++Ni)Ci[Ni]=this[Ni+Ei]}return Ci},ei.prototype.readUIntLE=function(Ei,bi,Ci){Ei|=0,bi|=0,Ci||Pi(Ei,bi,this.length);for(var _i=this[Ei],Ii=1,Ni=0;++Ni<bi&&(Ii*=256);)_i+=this[Ei+Ni]*Ii;return _i},ei.prototype.readUIntBE=function(Ei,bi,Ci){Ei|=0,bi|=0,Ci||Pi(Ei,bi,this.length);for(var _i=this[Ei+--bi],Ii=1;bi>0&&(Ii*=256);)_i+=this[Ei+--bi]*Ii;return _i},ei.prototype.readUInt8=function(Ei,bi){return bi||Pi(Ei,1,this.length),this[Ei]},ei.prototype.readUInt16LE=function(Ei,bi){return bi||Pi(Ei,2,this.length),this[Ei]|this[Ei+1]<<8},ei.prototype.readUInt16BE=function(Ei,bi){return bi||Pi(Ei,2,this.length),this[Ei]<<8|this[Ei+1]},ei.prototype.readUInt32LE=function(Ei,bi){return bi||Pi(Ei,4,this.length),(this[Ei]|this[Ei+1]<<8|this[Ei+2]<<16)+16777216*this[Ei+3]},ei.prototype.readUInt32BE=function(Ei,bi){return bi||Pi(Ei,4,this.length),16777216*this[Ei]+(this[Ei+1]<<16|this[Ei+2]<<8|this[Ei+3])},ei.prototype.readIntLE=function(Ei,bi,Ci){Ei|=0,bi|=0,Ci||Pi(Ei,bi,this.length);for(var _i=this[Ei],Ii=1,Ni=0;++Ni<bi&&(Ii*=256);)_i+=this[Ei+Ni]*Ii;return _i>=(Ii*=128)&&(_i-=Math.pow(2,8*bi)),_i},ei.prototype.readIntBE=function(Ei,bi,Ci){Ei|=0,bi|=0,Ci||Pi(Ei,bi,this.length);for(var _i=bi,Ii=1,Ni=this[Ei+--_i];_i>0&&(Ii*=256);)Ni+=this[Ei+--_i]*Ii;return Ni>=(Ii*=128)&&(Ni-=Math.pow(2,8*bi)),Ni},ei.prototype.readInt8=function(Ei,bi){return bi||Pi(Ei,1,this.length),128&this[Ei]?-1*(255-this[Ei]+1):this[Ei]},ei.prototype.readInt16LE=function(Ei,bi){bi||Pi(Ei,2,this.length);var Ci=this[Ei]|this[Ei+1]<<8;return 32768&Ci?4294901760|Ci:Ci},ei.prototype.readInt16BE=function(Ei,bi){bi||Pi(Ei,2,this.length);var Ci=this[Ei+1]|this[Ei]<<8;return 32768&Ci?4294901760|Ci:Ci},ei.prototype.readInt32LE=function(Ei,bi){return bi||Pi(Ei,4,this.length),this[Ei]|this[Ei+1]<<8|this[Ei+2]<<16|this[Ei+3]<<24},ei.prototype.readInt32BE=function(Ei,bi){return bi||Pi(Ei,4,this.length),this[Ei]<<24|this[Ei+1]<<16|this[Ei+2]<<8|this[Ei+3]},ei.prototype.readFloatLE=function(Ei,bi){return bi||Pi(Ei,4,this.length),Ze.read(this,Ei,!0,23,4)},ei.prototype.readFloatBE=function(Ei,bi){return bi||Pi(Ei,4,this.length),Ze.read(this,Ei,!1,23,4)},ei.prototype.readDoubleLE=function(Ei,bi){return bi||Pi(Ei,8,this.length),Ze.read(this,Ei,!0,52,8)},ei.prototype.readDoubleBE=function(Ei,bi){return bi||Pi(Ei,8,this.length),Ze.read(this,Ei,!1,52,8)},ei.prototype.writeUIntLE=function(Ei,bi,Ci,_i){Ei=+Ei,bi|=0,Ci|=0,_i||Ri(this,Ei,bi,Ci,Math.pow(2,8*Ci)-1,0);var Ii=1,Ni=0;for(this[bi]=255&Ei;++Ni<Ci&&(Ii*=256);)this[bi+Ni]=Ei/Ii&255;return bi+Ci},ei.prototype.writeUIntBE=function(Ei,bi,Ci,_i){Ei=+Ei,bi|=0,Ci|=0,_i||Ri(this,Ei,bi,Ci,Math.pow(2,8*Ci)-1,0);var Ii=Ci-1,Ni=1;for(this[bi+Ii]=255&Ei;--Ii>=0&&(Ni*=256);)this[bi+Ii]=Ei/Ni&255;return bi+Ci},ei.prototype.writeUInt8=function(Ei,bi,Ci){return Ei=+Ei,bi|=0,Ci||Ri(this,Ei,bi,1,255,0),ei.TYPED_ARRAY_SUPPORT||(Ei=Math.floor(Ei)),this[bi]=255&Ei,bi+1},ei.prototype.writeUInt16LE=function(Ei,bi,Ci){return Ei=+Ei,bi|=0,Ci||Ri(this,Ei,bi,2,65535,0),ei.TYPED_ARRAY_SUPPORT?(this[bi]=255&Ei,this[bi+1]=Ei>>>8):Fi(this,Ei,bi,!0),bi+2},ei.prototype.writeUInt16BE=function(Ei,bi,Ci){return Ei=+Ei,bi|=0,Ci||Ri(this,Ei,bi,2,65535,0),ei.TYPED_ARRAY_SUPPORT?(this[bi]=Ei>>>8,this[bi+1]=255&Ei):Fi(this,Ei,bi,!1),bi+2},ei.prototype.writeUInt32LE=function(Ei,bi,Ci){return Ei=+Ei,bi|=0,Ci||Ri(this,Ei,bi,4,4294967295,0),ei.TYPED_ARRAY_SUPPORT?(this[bi+3]=Ei>>>24,this[bi+2]=Ei>>>16,this[bi+1]=Ei>>>8,this[bi]=255&Ei):Gi(this,Ei,bi,!0),bi+4},ei.prototype.writeUInt32BE=function(Ei,bi,Ci){return Ei=+Ei,bi|=0,Ci||Ri(this,Ei,bi,4,4294967295,0),ei.TYPED_ARRAY_SUPPORT?(this[bi]=Ei>>>24,this[bi+1]=Ei>>>16,this[bi+2]=Ei>>>8,this[bi+3]=255&Ei):Gi(this,Ei,bi,!1),bi+4},ei.prototype.writeIntLE=function(Ei,bi,Ci,_i){if(Ei=+Ei,bi|=0,!_i){var Ii=Math.pow(2,8*Ci-1);Ri(this,Ei,bi,Ci,Ii-1,-Ii)}var Ni=0,Di=1,Ki=0;for(this[bi]=255&Ei;++Ni<Ci&&(Di*=256);)Ei<0&&Ki===0&&this[bi+Ni-1]!==0&&(Ki=1),this[bi+Ni]=(Ei/Di>>0)-Ki&255;return bi+Ci},ei.prototype.writeIntBE=function(Ei,bi,Ci,_i){if(Ei=+Ei,bi|=0,!_i){var Ii=Math.pow(2,8*Ci-1);Ri(this,Ei,bi,Ci,Ii-1,-Ii)}var Ni=Ci-1,Di=1,Ki=0;for(this[bi+Ni]=255&Ei;--Ni>=0&&(Di*=256);)Ei<0&&Ki===0&&this[bi+Ni+1]!==0&&(Ki=1),this[bi+Ni]=(Ei/Di>>0)-Ki&255;return bi+Ci},ei.prototype.writeInt8=function(Ei,bi,Ci){return Ei=+Ei,bi|=0,Ci||Ri(this,Ei,bi,1,127,-128),ei.TYPED_ARRAY_SUPPORT||(Ei=Math.floor(Ei)),Ei<0&&(Ei=255+Ei+1),this[bi]=255&Ei,bi+1},ei.prototype.writeInt16LE=function(Ei,bi,Ci){return Ei=+Ei,bi|=0,Ci||Ri(this,Ei,bi,2,32767,-32768),ei.TYPED_ARRAY_SUPPORT?(this[bi]=255&Ei,this[bi+1]=Ei>>>8):Fi(this,Ei,bi,!0),bi+2},ei.prototype.writeInt16BE=function(Ei,bi,Ci){return Ei=+Ei,bi|=0,Ci||Ri(this,Ei,bi,2,32767,-32768),ei.TYPED_ARRAY_SUPPORT?(this[bi]=Ei>>>8,this[bi+1]=255&Ei):Fi(this,Ei,bi,!1),bi+2},ei.prototype.writeInt32LE=function(Ei,bi,Ci){return Ei=+Ei,bi|=0,Ci||Ri(this,Ei,bi,4,2147483647,-2147483648),ei.TYPED_ARRAY_SUPPORT?(this[bi]=255&Ei,this[bi+1]=Ei>>>8,this[bi+2]=Ei>>>16,this[bi+3]=Ei>>>24):Gi(this,Ei,bi,!0),bi+4},ei.prototype.writeInt32BE=function(Ei,bi,Ci){return Ei=+Ei,bi|=0,Ci||Ri(this,Ei,bi,4,2147483647,-2147483648),Ei<0&&(Ei=4294967295+Ei+1),ei.TYPED_ARRAY_SUPPORT?(this[bi]=Ei>>>24,this[bi+1]=Ei>>>16,this[bi+2]=Ei>>>8,this[bi+3]=255&Ei):Gi(this,Ei,bi,!1),bi+4},ei.prototype.writeFloatLE=function(Ei,bi,Ci){return Vi(this,Ei,bi,!0,Ci)},ei.prototype.writeFloatBE=function(Ei,bi,Ci){return Vi(this,Ei,bi,!1,Ci)},ei.prototype.writeDoubleLE=function(Ei,bi,Ci){return Ui(this,Ei,bi,!0,Ci)},ei.prototype.writeDoubleBE=function(Ei,bi,Ci){return Ui(this,Ei,bi,!1,Ci)},ei.prototype.copy=function(Ei,bi,Ci,_i){if(Ci||(Ci=0),_i||_i===0||(_i=this.length),bi>=Ei.length&&(bi=Ei.length),bi||(bi=0),_i>0&&_i<Ci&&(_i=Ci),_i===Ci||Ei.length===0||this.length===0)return 0;if(bi<0)throw new RangeError("targetStart out of bounds");if(Ci<0||Ci>=this.length)throw new RangeError("sourceStart out of bounds");if(_i<0)throw new RangeError("sourceEnd out of bounds");_i>this.length&&(_i=this.length),Ei.length-bi<_i-Ci&&(_i=Ei.length-bi+Ci);var Ii,Ni=_i-Ci;if(this===Ei&&Ci<bi&&bi<_i)for(Ii=Ni-1;Ii>=0;--Ii)Ei[Ii+bi]=this[Ii+Ci];else if(Ni<1e3||!ei.TYPED_ARRAY_SUPPORT)for(Ii=0;Ii<Ni;++Ii)Ei[Ii+bi]=this[Ii+Ci];else Uint8Array.prototype.set.call(Ei,this.subarray(Ci,Ci+Ni),bi);return Ni},ei.prototype.fill=function(Ei,bi,Ci,_i){if(typeof Ei=="string"){if(typeof bi=="string"?(_i=bi,bi=0,Ci=this.length):typeof Ci=="string"&&(_i=Ci,Ci=this.length),Ei.length===1){var Ii=Ei.charCodeAt(0);Ii<256&&(Ei=Ii)}if(_i!==void 0&&typeof _i!="string")throw new TypeError("encoding must be a string");if(typeof _i=="string"&&!ei.isEncoding(_i))throw new TypeError("Unknown encoding: "+_i)}else typeof Ei=="number"&&(Ei&=255);if(bi<0||this.length<bi||this.length<Ci)throw new RangeError("Out of range index");if(Ci<=bi)return this;var Ni;if(bi>>>=0,Ci=Ci===void 0?this.length:Ci>>>0,Ei||(Ei=0),typeof Ei=="number")for(Ni=bi;Ni<Ci;++Ni)this[Ni]=Ei;else{var Di=ei.isBuffer(Ei)?Ei:tn(new ei(Ei,_i).toString()),Ki=Di.length;for(Ni=0;Ni<Ci-bi;++Ni)this[Ni+bi]=Di[Ni%Ki]}return this};var $i=/[^+\/0-9A-Za-z-_]/g;function Wi(Ei){return Ei<16?"0"+Ei.toString(16):Ei.toString(16)}function tn(Ei,bi){var Ci;bi=bi||1/0;for(var _i=Ei.length,Ii=null,Ni=[],Di=0;Di<_i;++Di){if((Ci=Ei.charCodeAt(Di))>55295&&Ci<57344){if(!Ii){if(Ci>56319){(bi-=3)>-1&&Ni.push(239,191,189);continue}if(Di+1===_i){(bi-=3)>-1&&Ni.push(239,191,189);continue}Ii=Ci;continue}if(Ci<56320){(bi-=3)>-1&&Ni.push(239,191,189),Ii=Ci;continue}Ci=65536+(Ii-55296<<10|Ci-56320)}else Ii&&(bi-=3)>-1&&Ni.push(239,191,189);if(Ii=null,Ci<128){if((bi-=1)<0)break;Ni.push(Ci)}else if(Ci<2048){if((bi-=2)<0)break;Ni.push(Ci>>6|192,63&Ci|128)}else if(Ci<65536){if((bi-=3)<0)break;Ni.push(Ci>>12|224,Ci>>6&63|128,63&Ci|128)}else{if(!(Ci<1114112))throw new Error("Invalid code point");if((bi-=4)<0)break;Ni.push(Ci>>18|240,Ci>>12&63|128,Ci>>6&63|128,63&Ci|128)}}return Ni}function nn(Ei){return Ke.toByteArray(function(bi){if((bi=function(Ci){return Ci.trim?Ci.trim():Ci.replace(/^\s+|\s+$/g,"")}(bi).replace($i,"")).length<2)return"";for(;bi.length%4!=0;)bi+="=";return bi}(Ei))}function Qi(Ei,bi,Ci,_i){for(var Ii=0;Ii<_i&&!(Ii+Ci>=bi.length||Ii>=Ei.length);++Ii)bi[Ii+Ci]=Ei[Ii];return Ii}}).call(this,Xe(78))},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0}),qe.isASCIIByte=function(Ye){return Ye>=0&&Ye<=127}},function(ze,qe,Xe){var Ye=this&&this.__read||function(Ze,Qe){var Je=typeof Symbol=="function"&&Ze[Symbol.iterator];if(!Je)return Ze;var St,ei,ti=Je.call(Ze),ii=[];try{for(;(Qe===void 0||Qe-- >0)&&!(St=ti.next()).done;)ii.push(St.value)}catch(ri){ei={error:ri}}finally{try{St&&!St.done&&(Je=ti.return)&&Je.call(ti)}finally{if(ei)throw ei.error}}return ii},Ke=this&&this.__spread||function(){for(var Ze=[],Qe=0;Qe<arguments.length;Qe++)Ze=Ze.concat(Ye(arguments[Qe]));return Ze};Object.defineProperty(qe,"__esModule",{value:!0}),qe.length=function(Ze){return Ze.length},qe.byteLowercase=function(Ze){for(var Qe=0;Qe<Ze.length;Qe++){var Je=Ze[Qe];Je>=65&&Je<=90&&(Ze[Qe]=Je+32)}},qe.byteUppercase=function(Ze){for(var Qe=0;Qe<Ze.length;Qe++){var Je=Ze[Qe];Je>=97&&Je<=122&&(Ze[Qe]=Je-32)}},qe.byteCaseInsensitiveMatch=function(Ze,Qe){if(Ze.length!==Qe.length)return!1;for(var Je=0;Je<Ze.length;Je++){var St=Ze[Je],ei=Qe[Je];if(St>=65&&St<=90&&(St+=32),ei>=65&&ei<=90&&(ei+=32),St!==ei)return!1}return!0},qe.startsWith=function(Ze,Qe){for(var Je=0;;){if(Je>=Ze.length)return!1;if(Je>=Qe.length)return!0;if(Ze[Je]!==Qe[Je])return!1;Je++}},qe.byteLessThan=function(Ze,Qe){for(var Je=0;;){if(Je>=Ze.length)return!1;if(Je>=Qe.length)return!0;var St=Ze[Je],ei=Qe[Je];if(St<ei)return!0;if(St>ei)return!1;Je++}},qe.isomorphicDecode=function(Ze){return String.fromCodePoint.apply(String,Ke(Ze))}},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=Xe(6),Ke=Xe(7),Ze=Xe(0),Qe=Xe(12),Je=function(){function St(ei){this._associatedDocument=ei||Ye.dom.window.document}return St.prototype.createDocumentType=function(ei,ti,ii){return Ze.namespace_validate(ei),Ze.create_documentType(this._associatedDocument,ei,ti,ii)},St.prototype.createDocument=function(ei,ti,ii){ii===void 0&&(ii=null);var ri=Ze.create_xmlDocument(),si=null;return ti&&(si=Ze.document_internalCreateElementNS(ri,ei,ti)),ii&&ri.appendChild(ii),si&&ri.appendChild(si),ri._origin=this._associatedDocument._origin,ei===Ke.namespace.HTML?ri._contentType="application/xhtml+xml":ei===Ke.namespace.SVG?ri._contentType="image/svg+xml":ri._contentType="application/xml",ri},St.prototype.createHTMLDocument=function(ei){var ti=Ze.create_document();ti._type="html",ti._contentType="text/html",ti.appendChild(Ze.create_documentType(ti,"html","",""));var ii=Ze.element_createAnElement(ti,"html",Ke.namespace.HTML);ti.appendChild(ii);var ri=Ze.element_createAnElement(ti,"head",Ke.namespace.HTML);if(ii.appendChild(ri),ei!==void 0){var si=Ze.element_createAnElement(ti,"title",Ke.namespace.HTML);ri.appendChild(si);var ui=Ze.create_text(ti,ei);si.appendChild(ui)}var ai=Ze.element_createAnElement(ti,"body",Ke.namespace.HTML);return ii.appendChild(ai),ti._origin=this._associatedDocument._origin,ti},St.prototype.hasFeature=function(){return!0},St._create=function(ei){return new St(ei)},St}();qe.DOMImplementationImpl=Je,Qe.idl_defineConst(Je.prototype,"_ID","@oozcitak/dom")},function(ze,qe,Xe){var Ye,Ke=this&&this.__extends||(Ye=function(ei,ti){return(Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ii,ri){ii.__proto__=ri}||function(ii,ri){for(var si in ri)ri.hasOwnProperty(si)&&(ii[si]=ri[si])})(ei,ti)},function(ei,ti){function ii(){this.constructor=ei}Ye(ei,ti),ei.prototype=ti===null?Object.create(ti):(ii.prototype=ti.prototype,new ii)});Object.defineProperty(qe,"__esModule",{value:!0});var Ze=Xe(70),Qe=Xe(2),Je=Xe(0),St=function(ei){function ti(){var ii=ei.call(this)||this;return ii._signalSlots=new Set,ii._mutationObserverMicrotaskQueued=!1,ii._mutationObservers=new Set,ii._iteratorList=new Qe.FixedSizeSet,ii._associatedDocument=Je.create_document(),ii}return Ke(ti,ei),Object.defineProperty(ti.prototype,"document",{get:function(){return this._associatedDocument},enumerable:!0,configurable:!0}),Object.defineProperty(ti.prototype,"event",{get:function(){return this._currentEvent},enumerable:!0,configurable:!0}),ti._create=function(){return new ti},ti}(Ze.EventTargetImpl);qe.WindowImpl=St},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=Xe(1),Ke=function(){function Ze(){}return Ze.isNode=function(Qe){return!!Qe&&Qe._nodeType!==void 0},Ze.isDocumentNode=function(Qe){return Ze.isNode(Qe)&&Qe._nodeType===Ye.NodeType.Document},Ze.isDocumentTypeNode=function(Qe){return Ze.isNode(Qe)&&Qe._nodeType===Ye.NodeType.DocumentType},Ze.isDocumentFragmentNode=function(Qe){return Ze.isNode(Qe)&&Qe._nodeType===Ye.NodeType.DocumentFragment},Ze.isAttrNode=function(Qe){return Ze.isNode(Qe)&&Qe._nodeType===Ye.NodeType.Attribute},Ze.isCharacterDataNode=function(Qe){if(!Ze.isNode(Qe))return!1;var Je=Qe._nodeType;return Je===Ye.NodeType.Text||Je===Ye.NodeType.ProcessingInstruction||Je===Ye.NodeType.Comment||Je===Ye.NodeType.CData},Ze.isTextNode=function(Qe){return Ze.isNode(Qe)&&(Qe._nodeType===Ye.NodeType.Text||Qe._nodeType===Ye.NodeType.CData)},Ze.isExclusiveTextNode=function(Qe){return Ze.isNode(Qe)&&Qe._nodeType===Ye.NodeType.Text},Ze.isCDATASectionNode=function(Qe){return Ze.isNode(Qe)&&Qe._nodeType===Ye.NodeType.CData},Ze.isCommentNode=function(Qe){return Ze.isNode(Qe)&&Qe._nodeType===Ye.NodeType.Comment},Ze.isProcessingInstructionNode=function(Qe){return Ze.isNode(Qe)&&Qe._nodeType===Ye.NodeType.ProcessingInstruction},Ze.isElementNode=function(Qe){return Ze.isNode(Qe)&&Qe._nodeType===Ye.NodeType.Element},Ze.isCustomElementNode=function(Qe){return Ze.isElementNode(Qe)&&Qe._customElementState==="custom"},Ze.isShadowRoot=function(Qe){return!!Qe&&Qe.host!==void 0},Ze.isMouseEvent=function(Qe){return!!Qe&&Qe.screenX!==void 0&&Qe.screenY!=null},Ze.isSlotable=function(Qe){return!!Qe&&Qe._name!==void 0&&Qe._assignedSlot!==void 0&&(Ze.isTextNode(Qe)||Ze.isElementNode(Qe))},Ze.isSlot=function(Qe){return!!Qe&&Qe._name!==void 0&&Qe._assignedNodes!==void 0&&Ze.isElementNode(Qe)},Ze.isWindow=function(Qe){return!!Qe&&Qe.navigator!==void 0},Ze.isEventListener=function(Qe){return!!Qe&&Qe.handleEvent!==void 0},Ze.isRegisteredObserver=function(Qe){return!!Qe&&Qe.observer!==void 0&&Qe.options!==void 0},Ze.isTransientRegisteredObserver=function(Qe){return!!Qe&&Qe.source!==void 0&&Ze.isRegisteredObserver(Qe)},Ze}();qe.Guard=Ke},function(ze,qe,Xe){var Ye,Ke=this&&this.__extends||(Ye=function(Qe,Je){return(Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(St,ei){St.__proto__=ei}||function(St,ei){for(var ti in ei)ei.hasOwnProperty(ti)&&(St[ti]=ei[ti])})(Qe,Je)},function(Qe,Je){function St(){this.constructor=Qe}Ye(Qe,Je),Qe.prototype=Je===null?Object.create(Je):(St.prototype=Je.prototype,new St)});Object.defineProperty(qe,"__esModule",{value:!0});var Ze=function(Qe){function Je(){return Qe.call(this)||this}return Ke(Je,Qe),Je}(Xe(98).DocumentImpl);qe.XMLDocumentImpl=Ze},function(ze,qe,Xe){var Ye=this&&this.__values||function(_i){var Ii=typeof Symbol=="function"&&Symbol.iterator,Ni=Ii&&_i[Ii],Di=0;if(Ni)return Ni.call(_i);if(_i&&typeof _i.length=="number")return{next:function(){return _i&&Di>=_i.length&&(_i=void 0),{value:_i&&_i[Di++],done:!_i}}};throw new TypeError(Ii?"Object is not iterable.":"Symbol.iterator is not defined.")},Ke=this&&this.__read||function(_i,Ii){var Ni=typeof Symbol=="function"&&_i[Symbol.iterator];if(!Ni)return _i;var Di,Ki,sn=Ni.call(_i),zi=[];try{for(;(Ii===void 0||Ii-- >0)&&!(Di=sn.next()).done;)zi.push(Di.value)}catch(on){Ki={error:on}}finally{try{Di&&!Di.done&&(Ni=sn.return)&&Ni.call(sn)}finally{if(Ki)throw Ki.error}}return zi};Object.defineProperty(qe,"__esModule",{value:!0});var Ze,Qe=Xe(2),Je=Xe(243),St=Xe(7),ei=Xe(244),ti={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ii=/[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,ri=/[ "<>`]|[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,si=/[ "<>`#?{}]|[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,ui=/[ "<>`#?{}/:;=@\[\]\\\^\|]|[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,ai=/[0-9A-Za-z!\$&-\/:;=\?@_~\xA0-\uD7FF\uE000-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uD83E\uD840-\uD87E\uD880-\uD8BE\uD8C0-\uD8FE\uD900-\uD93E\uD940-\uD97E\uD980-\uD9BE\uD9C0-\uD9FE\uDA00-\uDA3E\uDA40-\uDA7E\uDA80-\uDABE\uDAC0-\uDAFE\uDB00-\uDB3E\uDB40-\uDB7E\uDB80-\uDBBE\uDBC0-\uDBFE][\uDC00-\uDFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDC00-\uDFFD]/,oi=/[\0\t\f\r #%/:?@\[\\\]]/;function ni(_i){Ze!==void 0&&Ze.call(null,"Validation Error: "+_i)}function ci(){return{scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,_cannotBeABaseURLFlag:!1,_blobURLEntry:null}}function hi(_i){return _i in ti}function di(_i){return hi(_i.scheme)}function fi(_i){return ti[_i]||null}function mi(_i){return _i.username!==""||_i.password!==""}function pi(_i,Ii){var Ni,Di;Ii===void 0&&(Ii=!1);var Ki=_i.scheme+":";if(_i.host!==null?(Ki+="//",mi(_i)&&(Ki+=_i.username,_i.password!==""&&(Ki+=":"+_i.password),Ki+="@"),Ki+=wi(_i.host),_i.port!==null&&(Ki+=":"+_i.port)):_i.host===null&&_i.scheme==="file"&&(Ki+="//"),_i._cannotBeABaseURLFlag)Ki+=_i.path[0];else try{for(var sn=Ye(_i.path),zi=sn.next();!zi.done;zi=sn.next())Ki+="/"+zi.value}catch(on){Ni={error:on}}finally{try{zi&&!zi.done&&(Di=sn.return)&&Di.call(sn)}finally{if(Ni)throw Ni.error}}return _i.query!==null&&(Ki+="?"+_i.query),Ii||_i.fragment===null||(Ki+="#"+_i.fragment),Ki}function wi(_i){return Qe.isNumber(_i)?gi(_i):Qe.isArray(_i)?"["+yi(_i)+"]":_i}function gi(_i){for(var Ii="",Ni=_i,Di=1;Di<=4;Di++)Ii=(Ni%256).toString()+Ii,Di!==4&&(Ii="."+Ii),Ni=Math.floor(Ni/256);return Ii}function yi(_i){for(var Ii="",Ni=null,Di=-1,Ki=0,sn=0,zi=0;zi<8;zi++)if(_i[zi]===0){Ki=1;for(var on=zi+1;on<8&&_i[on]===0;on++)Ki++;Ki>sn&&(sn=Ki,Di=zi)}sn>1&&(Ni=Di);for(var cn=!1,mn=0;mn<8;mn++)cn&&_i[mn]===0||(cn&&(cn=!1),Ni!==mn?(Ii+=_i[mn].toString(16),mn!==7&&(Ii+=":")):(Ii+=mn===0?"::":":",cn=!0));return Ii}function Ai(_i,Ii,Ni,Di,Ki){var sn,zi,on,cn;if(Di===void 0){Di={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,_cannotBeABaseURLFlag:!1,_blobURLEntry:null};var mn=/^[\u0000-\u001F\u0020]+/,dn=/[\u0000-\u001F\u0020]+$/;(mn.test(_i)||dn.test(_i))&&ni("Input string contains leading or trailing control characters or space."),_i=(_i=_i.replace(mn,"")).replace(dn,"")}var An=/[\u0009\u000A\u000D]/g;An.test(_i)&&ni("Input string contains tab or newline characters."),_i=_i.replace(An,"");var pn=Ki===void 0?Je.ParserState.SchemeStart:Ki;Ii===void 0&&(Ii=null);for(var Mn=Ni===void 0||Ni==="replacement"||Ni==="UTF-16BE"||Ni==="UTF-16LE"?"UTF-8":Ni,Hi="",On=!1,wn=!1,_n=!1,an=new Qe.StringWalker(_i);;){switch(pn){case Je.ParserState.SchemeStart:if(St.codePoint.ASCIIAlpha.test(an.c()))Hi+=an.c().toLowerCase(),pn=Je.ParserState.Scheme;else{if(Ki!==void 0)return ni("Invalid scheme start character."),null;pn=Je.ParserState.NoScheme,an.pointer--}break;case Je.ParserState.Scheme:if(St.codePoint.ASCIIAlphanumeric.test(an.c())||an.c()==="+"||an.c()==="-"||an.c()===".")Hi+=an.c().toLowerCase();else{if(an.c()!==":"){if(Ki===void 0){Hi="",pn=Je.ParserState.NoScheme,an.pointer=0;continue}return ni("Invalid input string."),null}if(Ki!==void 0&&(hi(Di.scheme)&&!hi(Hi)||!hi(Di.scheme)&&hi(Hi)||(mi(Di)||Di.port!==null)&&Hi==="file"||Di.scheme==="file"&&(Di.host===""||Di.host===null)))return Di;if(Di.scheme=Hi,Ki!==void 0)return Di.port===fi(Di.scheme)&&(Di.port=null),Di;Hi="",Di.scheme==="file"?(an.remaining().startsWith("//")||ni("Invalid file URL scheme, '//' expected."),pn=Je.ParserState.File):di(Di)&&Ii!==null&&Ii.scheme===Di.scheme?pn=Je.ParserState.SpecialRelativeOrAuthority:di(Di)?pn=Je.ParserState.SpecialAuthoritySlashes:an.remaining().startsWith("/")?(pn=Je.ParserState.PathOrAuthority,an.pointer++):(Di._cannotBeABaseURLFlag=!0,Di.path.push(""),pn=Je.ParserState.CannotBeABaseURLPath)}break;case Je.ParserState.NoScheme:if(Ii===null||Ii._cannotBeABaseURLFlag&&an.c()!=="#")return ni("Invalid input string."),null;Ii._cannotBeABaseURLFlag&&an.c()==="#"?(Di.scheme=Ii.scheme,Di.path=St.list.clone(Ii.path),Di.query=Ii.query,Di.fragment="",Di._cannotBeABaseURLFlag=!0,pn=Je.ParserState.Fragment):Ii.scheme!=="file"?(pn=Je.ParserState.Relative,an.pointer--):(pn=Je.ParserState.File,an.pointer--);break;case Je.ParserState.SpecialRelativeOrAuthority:an.c()==="/"&&an.remaining().startsWith("/")?(pn=Je.ParserState.SpecialAuthorityIgnoreSlashes,an.pointer++):(ni("Invalid input string."),pn=Je.ParserState.Relative,an.pointer--);break;case Je.ParserState.PathOrAuthority:an.c()==="/"?pn=Je.ParserState.Authority:(pn=Je.ParserState.Path,an.pointer--);break;case Je.ParserState.Relative:if(Ii===null)throw new Error("Invalid parser state. Base URL is null.");switch(Di.scheme=Ii.scheme,an.c()){case"":Di.username=Ii.username,Di.password=Ii.password,Di.host=Ii.host,Di.port=Ii.port,Di.path=St.list.clone(Ii.path),Di.query=Ii.query;break;case"/":pn=Je.ParserState.RelativeSlash;break;case"?":Di.username=Ii.username,Di.password=Ii.password,Di.host=Ii.host,Di.port=Ii.port,Di.path=St.list.clone(Ii.path),Di.query="",pn=Je.ParserState.Query;break;case"#":Di.username=Ii.username,Di.password=Ii.password,Di.host=Ii.host,Di.port=Ii.port,Di.path=St.list.clone(Ii.path),Di.query=Ii.query,Di.fragment="",pn=Je.ParserState.Fragment;break;default:di(Di)&&an.c()==="\\"?(ni("Invalid input string."),pn=Je.ParserState.RelativeSlash):(Di.username=Ii.username,Di.password=Ii.password,Di.host=Ii.host,Di.port=Ii.port,Di.path=St.list.clone(Ii.path),Di.path.length!==0&&Di.path.splice(Di.path.length-1,1),pn=Je.ParserState.Path,an.pointer--)}break;case Je.ParserState.RelativeSlash:if(!di(Di)||an.c()!=="/"&&an.c()!=="\\")if(an.c()==="/")pn=Je.ParserState.Authority;else{if(Ii===null)throw new Error("Invalid parser state. Base URL is null.");Di.username=Ii.username,Di.password=Ii.password,Di.host=Ii.host,Di.port=Ii.port,pn=Je.ParserState.Path,an.pointer--}else an.c()==="\\"&&ni("Invalid input string."),pn=Je.ParserState.SpecialAuthorityIgnoreSlashes;break;case Je.ParserState.SpecialAuthoritySlashes:an.c()==="/"&&an.remaining().startsWith("/")?(pn=Je.ParserState.SpecialAuthorityIgnoreSlashes,an.pointer++):(ni("Expected '//'."),pn=Je.ParserState.SpecialAuthorityIgnoreSlashes,an.pointer--);break;case Je.ParserState.SpecialAuthorityIgnoreSlashes:an.c()!=="/"&&an.c()!=="\\"?(pn=Je.ParserState.Authority,an.pointer--):ni("Unexpected '/' or '\\'.");break;case Je.ParserState.Authority:if(an.c()==="@"){ni("Unexpected '@'."),On&&(Hi="%40"+Hi),On=!0;try{for(var Cn=(sn=void 0,Ye(Hi)),Ln=Cn.next();!Ln.done;Ln=Cn.next()){var Nn=Ln.value;if(Nn!==":"||_n){var Fn=Qi(Nn,ui);_n?Di.password+=Fn:Di.username+=Fn}else _n=!0}}catch(rr){sn={error:rr}}finally{try{Ln&&!Ln.done&&(zi=Cn.return)&&zi.call(Cn)}finally{if(sn)throw sn.error}}Hi=""}else if(an.c()===""||an.c()==="/"||an.c()==="?"||an.c()==="#"||di(Di)&&an.c()==="\\"){if(On&&Hi==="")return ni("Invalid input string."),null;an.pointer-=Hi.length+1,Hi="",pn=Je.ParserState.Host}else Hi+=an.c();break;case Je.ParserState.Host:case Je.ParserState.Hostname:if(Ki!==void 0&&Di.scheme==="file")an.pointer--,pn=Je.ParserState.FileHost;else if(an.c()!==":"||wn)if(an.c()===""||an.c()==="/"||an.c()==="?"||an.c()==="#"||di(Di)&&an.c()==="\\"){if(an.pointer--,di(Di)&&Hi==="")return ni("Invalid input string."),null;if(Ki!==void 0&&Hi===""&&(mi(Di)||Di.port!==null))return ni("Invalid input string."),Di;if((zn=Fi(Hi,!di(Di)))===null)return null;if(Di.host=zn,Hi="",pn=Je.ParserState.PathStart,Ki!==void 0)return Di}else an.c()==="["&&(wn=!0),an.c()==="]"&&(wn=!1),Hi+=an.c();else{if(Hi==="")return ni("Invalid input string."),null;if((zn=Fi(Hi,!di(Di)))===null)return null;if(Di.host=zn,Hi="",pn=Je.ParserState.Port,Ki===Je.ParserState.Hostname)return Di}break;case Je.ParserState.Port:if(St.codePoint.ASCIIDigit.test(an.c()))Hi+=an.c();else{if(!(an.c()===""||an.c()==="/"||an.c()==="?"||an.c()==="#"||di(Di)&&an.c()==="\\"||Ki))return ni("Invalid input string."),null;if(Hi!==""&&Hi!==""){var Hn=parseInt(Hi,10);if(Hn>Math.pow(2,16)-1)return ni("Invalid port number."),null;Di.port=Hn===fi(Di.scheme)?null:Hn,Hi=""}if(Ki!==void 0)return Di;pn=Je.ParserState.PathStart,an.pointer--}break;case Je.ParserState.File:if(Di.scheme="file",an.c()==="/"||an.c()==="\\")an.c()==="\\"&&ni("Invalid input string."),pn=Je.ParserState.FileSlash;else if(Ii!==null&&Ii.scheme==="file")switch(an.c()){case"":Di.host=Ii.host,Di.path=St.list.clone(Ii.path),Di.query=Ii.query;break;case"?":Di.host=Ii.host,Di.path=St.list.clone(Ii.path),Di.query="",pn=Je.ParserState.Query;break;case"#":Di.host=Ii.host,Di.path=St.list.clone(Ii.path),Di.query=Ii.query,Di.fragment="",pn=Je.ParserState.Fragment;break;default:Ri(an.substring())?ni("Unexpected windows drive letter in input string."):(Di.host=Ii.host,Di.path=St.list.clone(Ii.path),Li(Di)),pn=Je.ParserState.Path,an.pointer--}else pn=Je.ParserState.Path,an.pointer--;break;case Je.ParserState.FileSlash:an.c()==="/"||an.c()==="\\"?(an.c()==="\\"&&ni("Invalid input string."),pn=Je.ParserState.FileHost):(Ii===null||Ii.scheme!=="file"||Ri(an.substring())||(Bi(Ii.path[0])?Di.path.push(Ii.path[0]):Di.host=Ii.host),pn=Je.ParserState.Path,an.pointer--);break;case Je.ParserState.FileHost:if(an.c()===""||an.c()==="/"||an.c()==="\\"||an.c()==="?"||an.c()==="#")if(an.pointer--,Ki===void 0&&Pi(Hi))ni("Unexpected windows drive letter in input string."),pn=Je.ParserState.Path;else if(Hi===""){if(Di.host="",Ki!==void 0)return Di;pn=Je.ParserState.PathStart}else{var zn;if((zn=Fi(Hi,!di(Di)))===null)return null;if(zn==="localhost"&&(zn=""),Di.host=zn,Ki!==void 0)return Di;Hi="",pn=Je.ParserState.PathStart}else Hi+=an.c();break;case Je.ParserState.PathStart:di(Di)?(an.c()==="\\"&&ni("Invalid input string."),pn=Je.ParserState.Path,an.c()!=="/"&&an.c()!=="\\"&&an.pointer--):Ki===void 0&&an.c()==="?"?(Di.query="",pn=Je.ParserState.Query):Ki===void 0&&an.c()==="#"?(Di.fragment="",pn=Je.ParserState.Fragment):an.c()!==""&&(pn=Je.ParserState.Path,an.c()!=="/"&&an.pointer--);break;case Je.ParserState.Path:if(an.c()===""||an.c()==="/"||di(Di)&&an.c()==="\\"||Ki===void 0&&(an.c()==="?"||an.c()==="#")){if(di(Di)&&an.c()==="\\"&&ni("Invalid input string."),ki(Hi))Li(Di),an.c()==="/"||di(Di)&&an.c()==="\\"||Di.path.push("");else if(!Si(Hi)||an.c()==="/"||di(Di)&&an.c()==="\\"){if(!Si(Hi)){if(Di.scheme==="file"&&Di.path.length===0&&Pi(Hi)){Di.host!==null&&Di.host!==""&&(ni("Invalid input string."),Di.host="");var Xn=Array.from(Hi);Hi=Xn.slice(0,1)+":"+Xn.slice(2)}Di.path.push(Hi)}}else Di.path.push("");if(Hi="",Di.scheme==="file"&&(an.c()===""||an.c()==="?"||an.c()==="#"))for(;Di.path.length>1&&Di.path[0]==="";)ni("Invalid input string."),Di.path.splice(0,1);an.c()==="?"&&(Di.query="",pn=Je.ParserState.Query),an.c()==="#"&&(Di.fragment="",pn=Je.ParserState.Fragment)}else ai.test(an.c())||an.c()==="%"||ni("Character is not a URL code point or a percent encoded character."),an.c()!=="%"||/^[0-9a-fA-F][0-9a-fA-F]/.test(an.remaining())||ni("Percent encoded character must be followed by two hex digits."),Hi+=Qi(an.c(),si);break;case Je.ParserState.CannotBeABaseURLPath:an.c()==="?"?(Di.query="",pn=Je.ParserState.Query):an.c()==="#"?(Di.fragment="",pn=Je.ParserState.Fragment):(an.c()===""||ai.test(an.c())||an.c()==="%"||ni("Character is not a URL code point or a percent encoded character."),an.c()!=="%"||/^[0-9a-fA-F][0-9a-fA-F]/.test(an.remaining())||ni("Percent encoded character must be followed by two hex digits."),an.c()!==""&&(Di.path[0]+=Qi(an.c(),ii)));break;case Je.ParserState.Query:if(Mn==="UTF-8"||di(Di)&&Di.scheme!=="ws"&&Di.scheme!=="wss"||(Mn="UTF-8"),Ki===void 0&&an.c()==="#")Di.fragment="",pn=Je.ParserState.Fragment;else if(an.c()!==""){if(ai.test(an.c())||an.c()==="%"||ni("Character is not a URL code point or a percent encoded character."),an.c()!=="%"||/^[0-9a-fA-F][0-9a-fA-F]/.test(an.remaining())||ni("Percent encoded character must be followed by two hex digits."),Mn.toUpperCase()!=="UTF-8")throw new Error("Only UTF-8 encoding is supported.");var tr=Qe.utf8Encode(an.c());if(tr.length>=3&&tr[0]===38&&tr[1]===35&&tr[tr.length-1]===59)tr=tr.subarray(2,tr.length-1),Di.query+="%26%23"+St.byteSequence.isomorphicDecode(tr)+"%3B";else try{for(var nr=(on=void 0,Ye(tr)),mr=nr.next();!mr.done;mr=nr.next()){var ar=mr.value;ar<33||ar>126||ar===34||ar===35||ar===60||ar===62||ar===39&&di(Di)?Di.query+=Wi(ar):Di.query+=String.fromCharCode(ar)}}catch(rr){on={error:rr}}finally{try{mr&&!mr.done&&(cn=nr.return)&&cn.call(nr)}finally{if(on)throw on.error}}}break;case Je.ParserState.Fragment:an.c()===""||(an.c()==="\0"?ni("NULL character in input string."):(ai.test(an.c())||an.c()==="%"||ni("Unexpected character in fragment string."),an.c()!=="%"||/^[A-Za-z0-9][A-Za-z0-9]/.test(an.remaining())||ni("Unexpected character in fragment string."),Di.fragment+=Qi(an.c(),ri)))}if(an.eof)break;an.pointer++}return Di}function Si(_i){return _i==="."||_i.toLowerCase()==="%2e"}function ki(_i){var Ii=_i.toLowerCase();return Ii===".."||Ii===".%2e"||Ii==="%2e."||Ii==="%2e%2e"}function Li(_i){var Ii=_i.path;Ii.length!==0&&(_i.scheme==="file"&&Ii.length===1&&Bi(Ii[0])||_i.path.splice(_i.path.length-1,1))}function Bi(_i){return _i.length>=2&&St.codePoint.ASCIIAlpha.test(_i[0])&&_i[1]===":"}function Pi(_i){return _i.length>=2&&St.codePoint.ASCIIAlpha.test(_i[0])&&(_i[1]===":"||_i[1]==="|")}function Ri(_i){return _i.length>=2&&Pi(_i)&&(_i.length===2||_i[2]==="/"||_i[2]==="\\"||_i[2]==="?"||_i[2]==="#")}function Fi(_i,Ii){if(Ii===void 0&&(Ii=!1),_i.startsWith("["))return _i.endsWith("]")?Vi(_i.substring(1,_i.length-1)):(ni("Expected ']' after '['."),null);if(Ii)return Ui(_i);var Ni=Ci(Qe.utf8Decode(nn(_i)));if(Ni===null||oi.test(Ni))return ni("Invalid domain."),null;var Di=Ti(Ni);return Di===null||Qe.isNumber(Di)?Di:Ni}function Gi(_i,Ii){Ii===void 0&&(Ii={value:!1});var Ni=10;return _i.startsWith("0x")||_i.startsWith("0X")?(Ii.value=!0,_i=_i.substr(2),Ni=16):_i.length>=2&&_i[0]==="0"&&(Ii.value=!0,_i=_i.substr(1),Ni=8),_i===""?0:(Ni===10?/^[0-9]+$/:Ni===16?/^[0-9A-Fa-f]+$/:/^[0-7]+$/).test(_i)?parseInt(_i,Ni):null}function Ti(_i){var Ii,Ni,Di,Ki,sn={value:!1},zi=_i.split(".");if(zi[zi.length-1]===""&&(sn.value=!0,zi.length>1&&zi.pop()),zi.length>4)return _i;var on=[];try{for(var cn=Ye(zi),mn=cn.next();!mn.done;mn=cn.next()){var dn=mn.value;if(dn===""||(wn=Gi(dn,sn))===null)return _i;on.push(wn)}}catch(_n){Ii={error:_n}}finally{try{mn&&!mn.done&&(Ni=cn.return)&&Ni.call(cn)}finally{if(Ii)throw Ii.error}}sn.value&&ni("Invalid IP v4 address.");for(var An=0;An<on.length;An++)if(on[An]>255&&(ni("Invalid IP v4 address."),An<on.length-1))return null;if(on[on.length-1]>=Math.pow(256,5-on.length))return ni("Invalid IP v4 address."),null;var pn=on[on.length-1];on.pop();var Mn=0;try{for(var Hi=Ye(on),On=Hi.next();!On.done;On=Hi.next()){var wn;pn+=(wn=On.value)*Math.pow(256,3-Mn),Mn++}}catch(_n){Di={error:_n}}finally{try{On&&!On.done&&(Ki=Hi.return)&&Ki.call(Hi)}finally{if(Di)throw Di.error}}return pn}function Vi(_i){var Ii,Ni=[0,0,0,0,0,0,0,0],Di=0,Ki=null,sn=new Qe.StringWalker(_i);if(sn.c()===":"){if(!sn.remaining().startsWith(":"))return ni("Invalid IP v6 address."),null;sn.pointer+=2,Ki=Di+=1}for(;sn.c()!=="";){if(Di===8)return ni("Invalid IP v6 address."),null;if(sn.c()!==":"){for(var zi=0,on=0;on<4&&St.codePoint.ASCIIHexDigit.test(sn.c());)zi=16*zi+parseInt(sn.c(),16),sn.pointer++,on++;if(sn.c()==="."){if(on===0||(sn.pointer-=on,Di>6))return ni("Invalid IP v6 address."),null;for(var cn=0;sn.c()!=="";){var mn=null;if(cn>0){if(!(sn.c()==="."&&cn<4))return ni("Invalid IP v6 address."),null;sn.pointer++}if(!St.codePoint.ASCIIDigit.test(sn.c()))return ni("Invalid IP v6 address."),null;for(;St.codePoint.ASCIIDigit.test(sn.c());){var dn=parseInt(sn.c(),10);if(mn===null)mn=dn;else{if(mn===0)return ni("Invalid IP v6 address."),null;mn=10*mn+dn}if(mn>255)return ni("Invalid IP v6 address."),null;sn.pointer++}if(mn===null)return ni("Invalid IP v6 address."),null;Ni[Di]=256*Ni[Di]+mn,++cn!==2&&cn!==4||Di++}if(cn!==4)return ni("Invalid IP v6 address."),null;break}if(sn.c()===":"){if(sn.pointer++,sn.c()==="")return ni("Invalid IP v6 address."),null}else if(sn.c()!=="")return ni("Invalid IP v6 address."),null;Ni[Di]=zi,Di++}else{if(Ki!==null)return ni("Invalid IP v6 address."),null;sn.pointer++,Ki=++Di}}if(Ki!==null){var An=Di-Ki;for(Di=7;Di!==0&&An>0;)Ii=Ke([Ni[Ki+An-1],Ni[Di]],2),Ni[Di]=Ii[0],Ni[Ki+An-1]=Ii[1],Di--,An--}else if(Ki===null&&Di!==8)return ni("Invalid IP v6 address."),null;return Ni}function Ui(_i){var Ii,Ni;if(/[\x00\t\f\r #/:?@\[\\\]]/.test(_i))return ni("Invalid host string."),null;var Di="";try{for(var Ki=Ye(_i),sn=Ki.next();!sn.done;sn=Ki.next())Di+=Qi(sn.value,ii)}catch(zi){Ii={error:zi}}finally{try{sn&&!sn.done&&(Ni=Ki.return)&&Ni.call(Ki)}finally{if(Ii)throw Ii.error}}return Di}function $i(_i){return null}function Wi(_i){return"%"+("00"+_i.toString(16).toUpperCase()).slice(-2)}function tn(_i){for(var Ii=function(on){return on>=48&&on<=57||on>=65&&on<=70||on>=97&&on<=102},Ni=new Uint8Array(_i.length),Di=0,Ki=0;Ki<_i.length;Ki++){var sn=_i[Ki];if(sn!==37)Ni[Di]=sn,Di++;else if(sn===37&&Ki>=_i.length-2)Ni[Di]=sn,Di++;else if(sn!==37||Ii(_i[Ki+1])&&Ii(_i[Ki+2])){var zi=parseInt(Qe.utf8Decode(Uint8Array.of(_i[Ki+1],_i[Ki+2])),16);Ni[Di]=zi,Di++,Ki+=2}else Ni[Di]=sn,Di++}return Ni.subarray(0,Di)}function nn(_i){return tn(Qe.utf8Encode(_i))}function Qi(_i,Ii){var Ni,Di;if(!Ii.test(_i))return _i;var Ki=Qe.utf8Encode(_i),sn="";try{for(var zi=Ye(Ki),on=zi.next();!on.done;on=zi.next())sn+=Wi(on.value)}catch(cn){Ni={error:cn}}finally{try{on&&!on.done&&(Di=zi.return)&&Di.call(zi)}finally{if(Ni)throw Ni.error}}return sn}function Ei(_i){var Ii,Ni,Di,Ki,sn=[],zi=[];try{for(var on=Ye(_i),cn=on.next();!cn.done;cn=on.next()){var mn=cn.value;mn===38?(sn.push(Uint8Array.from(zi)),zi=[]):zi.push(mn)}}catch(Ln){Ii={error:Ln}}finally{try{cn&&!cn.done&&(Ni=on.return)&&Ni.call(on)}finally{if(Ii)throw Ii.error}}zi.length!==0&&sn.push(Uint8Array.from(zi));var dn=[];try{for(var An=Ye(sn),pn=An.next();!pn.done;pn=An.next()){var Mn=pn.value;if(Mn.length!==0){for(var Hi=Mn.indexOf(61),On=Hi!==-1?Mn.slice(0,Hi):Mn,wn=Hi!==-1?Mn.slice(Hi+1):new Uint8Array,_n=0;_n<On.length;_n++)On[_n]===43&&(On[_n]=32);for(_n=0;_n<wn.length;_n++)wn[_n]===43&&(wn[_n]=32);var an=Qe.utf8Decode(On),Cn=Qe.utf8Decode(wn);dn.push([an,Cn])}}}catch(Ln){Di={error:Ln}}finally{try{pn&&!pn.done&&(Ki=An.return)&&Ki.call(An)}finally{if(Di)throw Di.error}}return dn}function bi(_i){var Ii,Ni,Di="";try{for(var Ki=Ye(_i),sn=Ki.next();!sn.done;sn=Ki.next()){var zi=sn.value;Di+=zi===32?"+":zi===42||zi===45||zi===46||zi>=48&&zi<=57||zi>=65&&zi<=90||zi===95||zi>=97&&zi<=122?String.fromCodePoint(zi):Wi(zi)}}catch(on){Ii={error:on}}finally{try{sn&&!sn.done&&(Ni=Ki.return)&&Ni.call(Ki)}finally{if(Ii)throw Ii.error}}return Di}function Ci(_i,Ii){var Ni=ei.domainToASCII(_i);return Ni===""?(ni("Invalid domain name."),null):Ni}qe.setValidationErrorCallback=function(_i){Ze=_i},qe.newURL=ci,qe.isSpecialScheme=hi,qe.isSpecial=di,qe.defaultPort=fi,qe.includesCredentials=mi,qe.cannotHaveAUsernamePasswordPort=function(_i){return _i.host===null||_i.host===""||_i._cannotBeABaseURLFlag||_i.scheme==="file"},qe.urlSerializer=pi,qe.hostSerializer=wi,qe.iPv4Serializer=gi,qe.iPv6Serializer=yi,qe.urlParser=function(_i,Ii,Ni){var Di=Ai(_i,Ii,Ni);return Di===null?null:(Di.scheme!=="blob"||(Di._blobURLEntry=null),Di)},qe.basicURLParser=Ai,qe.setTheUsername=function(_i,Ii){var Ni,Di,Ki="";try{for(var sn=Ye(Ii),zi=sn.next();!zi.done;zi=sn.next())Ki+=Qi(zi.value,ui)}catch(on){Ni={error:on}}finally{try{zi&&!zi.done&&(Di=sn.return)&&Di.call(sn)}finally{if(Ni)throw Ni.error}}_i.username=Ki},qe.setThePassword=function(_i,Ii){var Ni,Di,Ki="";try{for(var sn=Ye(Ii),zi=sn.next();!zi.done;zi=sn.next())Ki+=Qi(zi.value,ui)}catch(on){Ni={error:on}}finally{try{zi&&!zi.done&&(Di=sn.return)&&Di.call(sn)}finally{if(Ni)throw Ni.error}}_i.password=Ki},qe.isSingleDotPathSegment=Si,qe.isDoubleDotPathSegment=ki,qe.shorten=Li,qe.isNormalizedWindowsDriveLetter=Bi,qe.isWindowsDriveLetter=Pi,qe.startsWithAWindowsDriveLetter=Ri,qe.hostParser=Fi,qe.iPv4NumberParser=Gi,qe.iPv4Parser=Ti,qe.iPv6Parser=Vi,qe.opaqueHostParser=Ui,qe.resolveABlobURL=$i,qe.percentEncode=Wi,qe.percentDecode=tn,qe.stringPercentDecode=nn,qe.utf8PercentEncode=Qi,qe.hostEquals=function(_i,Ii){return _i===Ii},qe.urlEquals=function(_i,Ii,Ni){return Ni===void 0&&(Ni=!1),pi(_i,Ni)===pi(Ii,Ni)},qe.urlEncodedStringParser=function(_i){return Ei(Qe.utf8Encode(_i))},qe.urlEncodedParser=Ei,qe.urlEncodedByteSerializer=bi,qe.urlEncodedSerializer=function(_i,Ii){var Ni,Di;if((Ii===void 0||Ii==="replacement"||Ii==="UTF-16BE"||Ii==="UTF-16LE"?"UTF-8":Ii).toUpperCase()!=="UTF-8")throw new Error("Only UTF-8 encoding is supported.");var Ki="";try{for(var sn=Ye(_i),zi=sn.next();!zi.done;zi=sn.next()){var on=zi.value,cn=bi(Qe.utf8Encode(on[0])),mn=on[1];mn=bi(Qe.utf8Encode(mn)),Ki!==""&&(Ki+="&"),Ki+=cn+"="+mn}}catch(dn){Ni={error:dn}}finally{try{zi&&!zi.done&&(Di=sn.return)&&Di.call(sn)}finally{if(Ni)throw Ni.error}}return Ki},qe.origin=function _i(Ii){switch(Ii.scheme){case"blob":Ii._blobURLEntry;var Ni=Ai(Ii.path[0]);return Ni===null?Je.OpaqueOrigin:_i(Ni);case"ftp":case"http":case"https":case"ws":case"wss":return[Ii.scheme,Ii.host===null?"":Ii.host,Ii.port,null];case"file":default:return Je.OpaqueOrigin}},qe.domainToASCII=Ci,qe.domainToUnicode=function(_i,Ii){var Ni=ei.domainToUnicode(_i);return Ni===""&&ni("Invalid domain name."),Ni},qe.asciiSerializationOfAnOrigin=function(_i){if(_i[0]===""&&_i[1]===""&&_i[2]===null&&_i[3]===null)return"null";var Ii=_i[0]+"://"+wi(_i[1]);return _i[2]!==null&&(Ii+=":"+_i[2].toString()),Ii}},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=Xe(0),Ke=function(){function Ze(){this._signal=Ye.create_abortSignal()}return Object.defineProperty(Ze.prototype,"signal",{get:function(){return this._signal},enumerable:!0,configurable:!0}),Ze.prototype.abort=function(){Ye.abort_signalAbort(this._signal)},Ze}();qe.AbortControllerImpl=Ke},function(ze,qe,Xe){var Ye,Ke=this&&this.__extends||(Ye=function(St,ei){return(Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ti,ii){ti.__proto__=ii}||function(ti,ii){for(var ri in ii)ii.hasOwnProperty(ri)&&(ti[ri]=ii[ri])})(St,ei)},function(St,ei){function ti(){this.constructor=St}Ye(St,ei),St.prototype=ei===null?Object.create(ei):(ti.prototype=ei.prototype,new ti)});Object.defineProperty(qe,"__esModule",{value:!0});var Ze=Xe(70),Qe=Xe(0),Je=function(St){function ei(){var ti=St.call(this)||this;return ti._abortedFlag=!1,ti._abortAlgorithms=new Set,ti}return Ke(ei,St),Object.defineProperty(ei.prototype,"aborted",{get:function(){return this._abortedFlag},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"onabort",{get:function(){return Qe.event_getterEventHandlerIDLAttribute(this,"onabort")},set:function(ti){Qe.event_setterEventHandlerIDLAttribute(this,"onabort",ti)},enumerable:!0,configurable:!0}),ei._create=function(){return new ei},ei}(Ze.EventTargetImpl);qe.AbortSignalImpl=Je},function(ze,qe,Xe){var Ye,Ke=this&&this.__extends||(Ye=function(ei,ti){return(Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ii,ri){ii.__proto__=ri}||function(ii,ri){for(var si in ri)ri.hasOwnProperty(si)&&(ii[si]=ri[si])})(ei,ti)},function(ei,ti){function ii(){this.constructor=ei}Ye(ei,ti),ei.prototype=ti===null?Object.create(ti):(ii.prototype=ti.prototype,new ii)});Object.defineProperty(qe,"__esModule",{value:!0});var Ze=Xe(1),Qe=Xe(34),Je=Xe(12),St=function(ei){function ti(ii,ri,si){var ui=ei.call(this)||this;return ui._name="",ui._publicId="",ui._systemId="",ui._name=ii,ui._publicId=ri,ui._systemId=si,ui}return Ke(ti,ei),Object.defineProperty(ti.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(ti.prototype,"publicId",{get:function(){return this._publicId},enumerable:!0,configurable:!0}),Object.defineProperty(ti.prototype,"systemId",{get:function(){return this._systemId},enumerable:!0,configurable:!0}),ti.prototype.before=function(){for(var ii=[],ri=0;ri<arguments.length;ri++)ii[ri]=arguments[ri];throw new Error("Mixin: ChildNode not implemented.")},ti.prototype.after=function(){for(var ii=[],ri=0;ri<arguments.length;ri++)ii[ri]=arguments[ri];throw new Error("Mixin: ChildNode not implemented.")},ti.prototype.replaceWith=function(){for(var ii=[],ri=0;ri<arguments.length;ri++)ii[ri]=arguments[ri];throw new Error("Mixin: ChildNode not implemented.")},ti.prototype.remove=function(){throw new Error("Mixin: ChildNode not implemented.")},ti._create=function(ii,ri,si,ui){si===void 0&&(si=""),ui===void 0&&(ui="");var ai=new ti(ri,si,ui);return ai._nodeDocument=ii,ai},ti}(Qe.NodeImpl);qe.DocumentTypeImpl=St,Je.idl_defineConst(St.prototype,"_nodeType",Ze.NodeType.DocumentType)},function(ze,qe,Xe){var Ye,Ke=this&&this.__extends||(Ye=function(ei,ti){return(Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ii,ri){ii.__proto__=ri}||function(ii,ri){for(var si in ri)ri.hasOwnProperty(si)&&(ii[si]=ri[si])})(ei,ti)},function(ei,ti){function ii(){this.constructor=ei}Ye(ei,ti),ei.prototype=ti===null?Object.create(ti):(ii.prototype=ti.prototype,new ii)});Object.defineProperty(qe,"__esModule",{value:!0});var Ze=Xe(100),Qe=Xe(2),Je=Xe(0),St=function(ei){function ti(ii,ri){var si=ei.call(this)||this;return si._host=ii,si._mode=ri,si}return Ke(ti,ei),Object.defineProperty(ti.prototype,"mode",{get:function(){return this._mode},enumerable:!0,configurable:!0}),Object.defineProperty(ti.prototype,"host",{get:function(){return this._host},enumerable:!0,configurable:!0}),ti.prototype._getTheParent=function(ii){return ii._composedFlag||Qe.isEmpty(ii._path)||Je.tree_rootNode(ii._path[0].invocationTarget)!==this?this._host:null},ti._create=function(ii,ri){return new ti(ri,"closed")},ti}(Ze.DocumentFragmentImpl);qe.ShadowRootImpl=St},function(ze,qe,Xe){var Ye,Ke=this&&this.__extends||(Ye=function(ti,ii){return(Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ri,si){ri.__proto__=si}||function(ri,si){for(var ui in si)si.hasOwnProperty(ui)&&(ri[ui]=si[ui])})(ti,ii)},function(ti,ii){function ri(){this.constructor=ti}Ye(ti,ii),ti.prototype=ii===null?Object.create(ii):(ri.prototype=ii.prototype,new ri)});Object.defineProperty(qe,"__esModule",{value:!0});var Ze=Xe(1),Qe=Xe(34),Je=Xe(0),St=Xe(12),ei=function(ti){function ii(ri){var si=ti.call(this)||this;return si._namespace=null,si._namespacePrefix=null,si._element=null,si._value="",si._localName=ri,si}return Ke(ii,ti),Object.defineProperty(ii.prototype,"ownerElement",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(ii.prototype,"namespaceURI",{get:function(){return this._namespace},enumerable:!0,configurable:!0}),Object.defineProperty(ii.prototype,"prefix",{get:function(){return this._namespacePrefix},enumerable:!0,configurable:!0}),Object.defineProperty(ii.prototype,"localName",{get:function(){return this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(ii.prototype,"name",{get:function(){return this._qualifiedName},enumerable:!0,configurable:!0}),Object.defineProperty(ii.prototype,"value",{get:function(){return this._value},set:function(ri){Je.attr_setAnExistingAttributeValue(this,ri)},enumerable:!0,configurable:!0}),Object.defineProperty(ii.prototype,"_qualifiedName",{get:function(){return this._namespacePrefix!==null?this._namespacePrefix+":"+this._localName:this._localName},enumerable:!0,configurable:!0}),ii._create=function(ri,si){var ui=new ii(si);return ui._nodeDocument=ri,ui},ii}(Qe.NodeImpl);qe.AttrImpl=ei,St.idl_defineConst(ei.prototype,"_nodeType",Ze.NodeType.Attribute),St.idl_defineConst(ei.prototype,"specified",!0)},function(ze,qe,Xe){var Ye,Ke=this&&this.__extends||(Ye=function(ei,ti){return(Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ii,ri){ii.__proto__=ri}||function(ii,ri){for(var si in ri)ri.hasOwnProperty(si)&&(ii[si]=ri[si])})(ei,ti)},function(ei,ti){function ii(){this.constructor=ei}Ye(ei,ti),ei.prototype=ti===null?Object.create(ti):(ii.prototype=ti.prototype,new ii)});Object.defineProperty(qe,"__esModule",{value:!0});var Ze=Xe(101),Qe=Xe(1),Je=Xe(12),St=function(ei){function ti(ii){return ei.call(this,ii)||this}return Ke(ti,ei),ti._create=function(ii,ri){ri===void 0&&(ri="");var si=new ti(ri);return si._nodeDocument=ii,si},ti}(Ze.TextImpl);qe.CDATASectionImpl=St,Je.idl_defineConst(St.prototype,"_nodeType",Qe.NodeType.CData)},function(ze,qe,Xe){var Ye,Ke=this&&this.__extends||(Ye=function(ei,ti){return(Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ii,ri){ii.__proto__=ri}||function(ii,ri){for(var si in ri)ri.hasOwnProperty(si)&&(ii[si]=ri[si])})(ei,ti)},function(ei,ti){function ii(){this.constructor=ei}Ye(ei,ti),ei.prototype=ti===null?Object.create(ti):(ii.prototype=ti.prototype,new ii)});Object.defineProperty(qe,"__esModule",{value:!0});var Ze=Xe(1),Qe=Xe(71),Je=Xe(12),St=function(ei){function ti(ii){return ii===void 0&&(ii=""),ei.call(this,ii)||this}return Ke(ti,ei),ti._create=function(ii,ri){ri===void 0&&(ri="");var si=new ti(ri);return si._nodeDocument=ii,si},ti}(Qe.CharacterDataImpl);qe.CommentImpl=St,Je.idl_defineConst(St.prototype,"_nodeType",Ze.NodeType.Comment)},function(ze,qe,Xe){var Ye,Ke=this&&this.__extends||(Ye=function(ei,ti){return(Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ii,ri){ii.__proto__=ri}||function(ii,ri){for(var si in ri)ri.hasOwnProperty(si)&&(ii[si]=ri[si])})(ei,ti)},function(ei,ti){function ii(){this.constructor=ei}Ye(ei,ti),ei.prototype=ti===null?Object.create(ti):(ii.prototype=ti.prototype,new ii)});Object.defineProperty(qe,"__esModule",{value:!0});var Ze=Xe(1),Qe=Xe(71),Je=Xe(12),St=function(ei){function ti(ii,ri){var si=ei.call(this,ri)||this;return si._target=ii,si}return Ke(ti,ei),Object.defineProperty(ti.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),ti._create=function(ii,ri,si){var ui=new ti(ri,si);return ui._nodeDocument=ii,ui},ti}(Qe.CharacterDataImpl);qe.ProcessingInstructionImpl=St,Je.idl_defineConst(St.prototype,"_nodeType",Ze.NodeType.ProcessingInstruction)},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=Xe(7),Ke=Xe(0),Ze=Xe(3),Qe=Xe(2),Je=function(){function St(ei,ti){return this._live=!0,this._root=ei,this._filter=ti,new Proxy(this,this)}return Object.defineProperty(St.prototype,"length",{get:function(){for(var ei=this,ti=0,ii=Ke.tree_getFirstDescendantNode(this._root,!1,!1,function(ri){return Ze.Guard.isElementNode(ri)&&ei._filter(ri)});ii!==null;)ti++,ii=Ke.tree_getNextDescendantNode(this._root,ii,!1,!1,function(ri){return Ze.Guard.isElementNode(ri)&&ei._filter(ri)});return ti},enumerable:!0,configurable:!0}),St.prototype.item=function(ei){for(var ti=this,ii=0,ri=Ke.tree_getFirstDescendantNode(this._root,!1,!1,function(si){return Ze.Guard.isElementNode(si)&&ti._filter(si)});ri!==null;){if(ii===ei)return ri;ii++,ri=Ke.tree_getNextDescendantNode(this._root,ri,!1,!1,function(si){return Ze.Guard.isElementNode(si)&&ti._filter(si)})}return null},St.prototype.namedItem=function(ei){var ti=this;if(ei==="")return null;for(var ii=Ke.tree_getFirstDescendantNode(this._root,!1,!1,function(ui){return Ze.Guard.isElementNode(ui)&&ti._filter(ui)});ii!=null;){if(ii._uniqueIdentifier===ei)return ii;if(ii._namespace===Ye.namespace.HTML)for(var ri=0;ri<ii._attributeList.length;ri++){var si=ii._attributeList[ri];if(si._localName==="name"&&si._namespace===null&&si._namespacePrefix===null&&si._value===ei)return ii}ii=Ke.tree_getNextDescendantNode(this._root,ii,!1,!1,function(ui){return Ze.Guard.isElementNode(ui)&&ti._filter(ui)})}return null},St.prototype[Symbol.iterator]=function(){var ei=this._root,ti=this._filter,ii=Ke.tree_getFirstDescendantNode(ei,!1,!1,function(ri){return Ze.Guard.isElementNode(ri)&&ti(ri)});return{next:function(){if(ii===null)return{done:!0,value:null};var ri={done:!1,value:ii};return ii=Ke.tree_getNextDescendantNode(ei,ii,!1,!1,function(si){return Ze.Guard.isElementNode(si)&&ti(si)}),ri}}},St.prototype.get=function(ei,ti,ii){if(!Qe.isString(ti)||St.reservedNames.indexOf(ti)!==-1)return Reflect.get(ei,ti,ii);var ri=Number(ti);return isNaN(ri)?ei.namedItem(ti)||void 0:ei.item(ri)||void 0},St.prototype.set=function(ei,ti,ii,ri){if(!Qe.isString(ti)||St.reservedNames.indexOf(ti)!==-1)return Reflect.set(ei,ti,ii,ri);var si=Number(ti),ui=isNaN(si)?ei.namedItem(ti)||void 0:ei.item(si)||void 0;return!(!ui||!ui._parent)&&(Ke.mutation_replace(ui,ii,ui._parent),!0)},St._create=function(ei,ti){return ti===void 0&&(ti=function(){return!0}),new St(ei,ti)},St.reservedNames=["_root","_live","_filter","length","item","namedItem","get","set"],St}();qe.HTMLCollectionImpl=Je},function(ze,qe,Xe){var Ye=this&&this.__values||function(St){var ei=typeof Symbol=="function"&&Symbol.iterator,ti=ei&&St[ei],ii=0;if(ti)return ti.call(St);if(St&&typeof St.length=="number")return{next:function(){return St&&ii>=St.length&&(St=void 0),{value:St&&St[ii++],done:!St}}};throw new TypeError(ei?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(qe,"__esModule",{value:!0});var Ke=Xe(6),Ze=Xe(2),Qe=Xe(0),Je=function(){function St(ei){return this._live=!0,this._filter=null,this._length=0,this._root=ei,new Proxy(this,this)}return Object.defineProperty(St.prototype,"length",{get:function(){return this._root._children.size},enumerable:!0,configurable:!0}),St.prototype.item=function(ei){if(ei<0||ei>this.length-1)return null;if(ei<this.length/2){for(var ti=0,ii=this._root._firstChild;ii!==null&&ti!==ei;)ii=ii._nextSibling,ti++;return ii}for(ti=this.length-1,ii=this._root._lastChild;ii!==null&&ti!==ei;)ii=ii._previousSibling,ti--;return ii},St.prototype.keys=function(){var ei;return(ei={})[Symbol.iterator]=(function(){var ti=0;return{next:(function(){return ti===this.length?{done:!0,value:null}:{done:!1,value:ti++}}).bind(this)}}).bind(this),ei},St.prototype.values=function(){var ei;return(ei={})[Symbol.iterator]=(function(){var ti=this[Symbol.iterator]();return{next:function(){return ti.next()}}}).bind(this),ei},St.prototype.entries=function(){var ei;return(ei={})[Symbol.iterator]=(function(){var ti=this[Symbol.iterator](),ii=0;return{next:function(){var ri=ti.next();return ri.done?{done:!0,value:null}:{done:!1,value:[ii++,ri.value]}}}}).bind(this),ei},St.prototype[Symbol.iterator]=function(){return this._root._children[Symbol.iterator]()},St.prototype.forEach=function(ei,ti){var ii,ri;ti===void 0&&(ti=Ke.dom.window);var si=0;try{for(var ui=Ye(this._root._children),ai=ui.next();!ai.done;ai=ui.next()){var oi=ai.value;ei.call(ti,oi,si++,this)}}catch(ni){ii={error:ni}}finally{try{ai&&!ai.done&&(ri=ui.return)&&ri.call(ui)}finally{if(ii)throw ii.error}}},St.prototype.get=function(ei,ti,ii){if(!Ze.isString(ti))return Reflect.get(ei,ti,ii);var ri=Number(ti);return isNaN(ri)?Reflect.get(ei,ti,ii):ei.item(ri)||void 0},St.prototype.set=function(ei,ti,ii,ri){if(!Ze.isString(ti))return Reflect.set(ei,ti,ii,ri);var si=Number(ti);if(isNaN(si))return Reflect.set(ei,ti,ii,ri);var ui=ei.item(si)||void 0;return!!ui&&!!ui._parent&&(Qe.mutation_replace(ui,ii,ui._parent),!0)},St._create=function(ei){return new St(ei)},St}();qe.NodeListImpl=Je},function(ze,qe,Xe){var Ye=this&&this.__values||function(Je){var St=typeof Symbol=="function"&&Symbol.iterator,ei=St&&Je[St],ti=0;if(ei)return ei.call(Je);if(Je&&typeof Je.length=="number")return{next:function(){return Je&&ti>=Je.length&&(Je=void 0),{value:Je&&Je[ti++],done:!Je}}};throw new TypeError(St?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(qe,"__esModule",{value:!0});var Ke=Xe(6),Ze=Xe(2),Qe=function(){function Je(St){return this._live=!1,this._items=[],this._length=0,this._root=St,this._items=[],this._filter=function(ei){return!0},new Proxy(this,this)}return Object.defineProperty(Je.prototype,"length",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),Je.prototype.item=function(St){return St<0||St>this.length-1?null:this._items[St]},Je.prototype.keys=function(){var St;return(St={})[Symbol.iterator]=(function(){var ei=0;return{next:(function(){return ei===this.length?{done:!0,value:null}:{done:!1,value:ei++}}).bind(this)}}).bind(this),St},Je.prototype.values=function(){var St;return(St={})[Symbol.iterator]=(function(){var ei=this[Symbol.iterator]();return{next:function(){return ei.next()}}}).bind(this),St},Je.prototype.entries=function(){var St;return(St={})[Symbol.iterator]=(function(){var ei=this[Symbol.iterator](),ti=0;return{next:function(){var ii=ei.next();return ii.done?{done:!0,value:null}:{done:!1,value:[ti++,ii.value]}}}}).bind(this),St},Je.prototype[Symbol.iterator]=function(){var St=this._items[Symbol.iterator]();return{next:function(){return St.next()}}},Je.prototype.forEach=function(St,ei){var ti,ii;ei===void 0&&(ei=Ke.dom.window);var ri=0;try{for(var si=Ye(this._items),ui=si.next();!ui.done;ui=si.next()){var ai=ui.value;St.call(ei,ai,ri++,this)}}catch(oi){ti={error:oi}}finally{try{ui&&!ui.done&&(ii=si.return)&&ii.call(si)}finally{if(ti)throw ti.error}}},Je.prototype.get=function(St,ei,ti){if(!Ze.isString(ei))return Reflect.get(St,ei,ti);var ii=Number(ei);return isNaN(ii)?Reflect.get(St,ei,ti):St._items[ii]||void 0},Je.prototype.set=function(St,ei,ti,ii){if(!Ze.isString(ei))return Reflect.set(St,ei,ti,ii);var ri=Number(ei);return isNaN(ri)?Reflect.set(St,ei,ti,ii):ri>=0&&ri<St._items.length&&(St._items[ri]=ti,!0)},Je._create=function(St,ei){var ti=new Je(St);return ti._items=ei,ti},Je}();qe.NodeListStaticImpl=Qe},function(ze,qe,Xe){var Ye,Ke=this&&this.__extends||(Ye=function(St,ei){return(Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ti,ii){ti.__proto__=ii}||function(ti,ii){for(var ri in ii)ii.hasOwnProperty(ri)&&(ti[ri]=ii[ri])})(St,ei)},function(St,ei){function ti(){this.constructor=St}Ye(St,ei),St.prototype=ei===null?Object.create(ei):(ti.prototype=ei.prototype,new ti)});Object.defineProperty(qe,"__esModule",{value:!0});var Ze=Xe(9),Qe=Xe(0),Je=function(St){function ei(ti){var ii=St.call(this)||this;return ii._element=ti,Object.setPrototypeOf(ii,ei.prototype),ii}return Ke(ei,St),ei.prototype._asArray=function(){return this},ei.prototype.item=function(ti){return this[ti]||null},ei.prototype.getNamedItem=function(ti){return Qe.element_getAnAttributeByName(ti,this._element)},ei.prototype.getNamedItemNS=function(ti,ii){return Qe.element_getAnAttributeByNamespaceAndLocalName(ti||"",ii,this._element)},ei.prototype.setNamedItem=function(ti){return Qe.element_setAnAttribute(ti,this._element)},ei.prototype.setNamedItemNS=function(ti){return Qe.element_setAnAttribute(ti,this._element)},ei.prototype.removeNamedItem=function(ti){var ii=Qe.element_removeAnAttributeByName(ti,this._element);if(ii===null)throw new Ze.NotFoundError;return ii},ei.prototype.removeNamedItemNS=function(ti,ii){var ri=Qe.element_removeAnAttributeByNamespaceAndLocalName(ti||"",ii,this._element);if(ri===null)throw new Ze.NotFoundError;return ri},ei._create=function(ti){return new ei(ti)},ei}(Array);qe.NamedNodeMapImpl=Je},function(ze,qe,Xe){var Ye,Ke=this&&this.__extends||(Ye=function(ui,ai){return(Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(oi,ni){oi.__proto__=ni}||function(oi,ni){for(var ci in ni)ni.hasOwnProperty(ci)&&(oi[ci]=ni[ci])})(ui,ai)},function(ui,ai){function oi(){this.constructor=ui}Ye(ui,ai),ui.prototype=ai===null?Object.create(ai):(oi.prototype=ai.prototype,new oi)}),Ze=this&&this.__values||function(ui){var ai=typeof Symbol=="function"&&Symbol.iterator,oi=ai&&ui[ai],ni=0;if(oi)return oi.call(ui);if(ui&&typeof ui.length=="number")return{next:function(){return ui&&ni>=ui.length&&(ui=void 0),{value:ui&&ui[ni++],done:!ui}}};throw new TypeError(ai?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(qe,"__esModule",{value:!0});var Qe=Xe(6),Je=Xe(1),St=Xe(102),ei=Xe(9),ti=Xe(0),ii=Xe(12),ri=Xe(3),si=function(ui){function ai(){var oi=ui.call(this)||this,ni=Qe.dom.window._associatedDocument;return oi._start=[ni,0],oi._end=[ni,0],Qe.dom.rangeList.add(oi),oi}return Ke(ai,ui),Object.defineProperty(ai.prototype,"commonAncestorContainer",{get:function(){for(var oi=this._start[0];!ti.tree_isAncestorOf(this._end[0],oi,!0);){if(oi._parent===null)throw new Error("Parent node  is null.");oi=oi._parent}return oi},enumerable:!0,configurable:!0}),ai.prototype.setStart=function(oi,ni){ti.range_setTheStart(this,oi,ni)},ai.prototype.setEnd=function(oi,ni){ti.range_setTheEnd(this,oi,ni)},ai.prototype.setStartBefore=function(oi){var ni=oi._parent;if(ni===null)throw new ei.InvalidNodeTypeError;ti.range_setTheStart(this,ni,ti.tree_index(oi))},ai.prototype.setStartAfter=function(oi){var ni=oi._parent;if(ni===null)throw new ei.InvalidNodeTypeError;ti.range_setTheStart(this,ni,ti.tree_index(oi)+1)},ai.prototype.setEndBefore=function(oi){var ni=oi._parent;if(ni===null)throw new ei.InvalidNodeTypeError;ti.range_setTheEnd(this,ni,ti.tree_index(oi))},ai.prototype.setEndAfter=function(oi){var ni=oi._parent;if(ni===null)throw new ei.InvalidNodeTypeError;ti.range_setTheEnd(this,ni,ti.tree_index(oi)+1)},ai.prototype.collapse=function(oi){oi?this._end=this._start:this._start=this._end},ai.prototype.selectNode=function(oi){ti.range_select(oi,this)},ai.prototype.selectNodeContents=function(oi){if(ri.Guard.isDocumentTypeNode(oi))throw new ei.InvalidNodeTypeError;var ni=ti.tree_nodeLength(oi);this._start=[oi,0],this._end=[oi,ni]},ai.prototype.compareBoundaryPoints=function(oi,ni){if(oi!==Je.HowToCompare.StartToStart&&oi!==Je.HowToCompare.StartToEnd&&oi!==Je.HowToCompare.EndToEnd&&oi!==Je.HowToCompare.EndToStart)throw new ei.NotSupportedError;if(ti.range_root(this)!==ti.range_root(ni))throw new ei.WrongDocumentError;var ci,hi;switch(oi){case Je.HowToCompare.StartToStart:ci=this._start,hi=ni._start;break;case Je.HowToCompare.StartToEnd:ci=this._end,hi=ni._start;break;case Je.HowToCompare.EndToEnd:ci=this._end,hi=ni._end;break;case Je.HowToCompare.EndToStart:ci=this._start,hi=ni._end;break;default:throw new ei.NotSupportedError}var di=ti.boundaryPoint_position(ci,hi);return di===Je.BoundaryPosition.Before?-1:di===Je.BoundaryPosition.After?1:0},ai.prototype.deleteContents=function(){var oi,ni,ci,hi;if(!ti.range_collapsed(this)){var di=this._startNode,fi=this._startOffset,mi=this._endNode,pi=this._endOffset;if(di===mi&&ri.Guard.isCharacterDataNode(di))ti.characterData_replaceData(di,fi,pi-fi,"");else{var wi,gi,yi=[];try{for(var Ai=Ze(ti.range_getContainedNodes(this)),Si=Ai.next();!Si.done;Si=Ai.next()){var ki=(Ri=Si.value)._parent;ki!==null&&ti.range_isContained(ki,this)||yi.push(Ri)}}catch(Fi){oi={error:Fi}}finally{try{Si&&!Si.done&&(ni=Ai.return)&&ni.call(Ai)}finally{if(oi)throw oi.error}}if(ti.tree_isAncestorOf(mi,di,!0))wi=di,gi=fi;else{for(var Li=di;Li._parent!==null&&!ti.tree_isAncestorOf(mi,Li._parent,!0);)Li=Li._parent;if(Li._parent===null)throw new Error("Parent node is null.");wi=Li._parent,gi=ti.tree_index(Li)+1}ri.Guard.isCharacterDataNode(di)&&ti.characterData_replaceData(di,fi,ti.tree_nodeLength(di)-fi,"");try{for(var Bi=Ze(yi),Pi=Bi.next();!Pi.done;Pi=Bi.next()){var Ri;(Ri=Pi.value)._parent&&ti.mutation_remove(Ri,Ri._parent)}}catch(Fi){ci={error:Fi}}finally{try{Pi&&!Pi.done&&(hi=Bi.return)&&hi.call(Bi)}finally{if(ci)throw ci.error}}ri.Guard.isCharacterDataNode(mi)&&ti.characterData_replaceData(mi,0,pi,""),this._start=[wi,gi],this._end=[wi,gi]}}},ai.prototype.extractContents=function(){return ti.range_extract(this)},ai.prototype.cloneContents=function(){return ti.range_cloneTheContents(this)},ai.prototype.insertNode=function(oi){return ti.range_insert(oi,this)},ai.prototype.surroundContents=function(oi){var ni,ci;try{for(var hi=Ze(ti.range_getPartiallyContainedNodes(this)),di=hi.next();!di.done;di=hi.next()){var fi=di.value;if(!ri.Guard.isTextNode(fi))throw new ei.InvalidStateError}}catch(pi){ni={error:pi}}finally{try{di&&!di.done&&(ci=hi.return)&&ci.call(hi)}finally{if(ni)throw ni.error}}if(ri.Guard.isDocumentNode(oi)||ri.Guard.isDocumentTypeNode(oi)||ri.Guard.isDocumentFragmentNode(oi))throw new ei.InvalidNodeTypeError;var mi=ti.range_extract(this);oi._children.size!==0&&ti.mutation_replaceAll(null,oi),ti.range_insert(oi,this),ti.mutation_append(mi,oi),ti.range_select(oi,this)},ai.prototype.cloneRange=function(){return ti.create_range(this._start,this._end)},ai.prototype.detach=function(){Qe.dom.rangeList.delete(this)},ai.prototype.isPointInRange=function(oi,ni){if(ti.tree_rootNode(oi)!==ti.range_root(this))return!1;if(ri.Guard.isDocumentTypeNode(oi))throw new ei.InvalidNodeTypeError;if(ni>ti.tree_nodeLength(oi))throw new ei.IndexSizeError;var ci=[oi,ni];return ti.boundaryPoint_position(ci,this._start)!==Je.BoundaryPosition.Before&&ti.boundaryPoint_position(ci,this._end)!==Je.BoundaryPosition.After},ai.prototype.comparePoint=function(oi,ni){if(ti.tree_rootNode(oi)!==ti.range_root(this))throw new ei.WrongDocumentError;if(ri.Guard.isDocumentTypeNode(oi))throw new ei.InvalidNodeTypeError;if(ni>ti.tree_nodeLength(oi))throw new ei.IndexSizeError;var ci=[oi,ni];return ti.boundaryPoint_position(ci,this._start)===Je.BoundaryPosition.Before?-1:ti.boundaryPoint_position(ci,this._end)===Je.BoundaryPosition.After?1:0},ai.prototype.intersectsNode=function(oi){if(ti.tree_rootNode(oi)!==ti.range_root(this))return!1;var ni=oi._parent;if(ni===null)return!0;var ci=ti.tree_index(oi);return ti.boundaryPoint_position([ni,ci],this._end)===Je.BoundaryPosition.Before&&ti.boundaryPoint_position([ni,ci+1],this._start)===Je.BoundaryPosition.After},ai.prototype.toString=function(){var oi,ni,ci="";if(this._startNode===this._endNode&&ri.Guard.isTextNode(this._startNode))return this._startNode._data.substring(this._startOffset,this._endOffset);ri.Guard.isTextNode(this._startNode)&&(ci+=this._startNode._data.substring(this._startOffset));try{for(var hi=Ze(ti.range_getContainedNodes(this)),di=hi.next();!di.done;di=hi.next()){var fi=di.value;ri.Guard.isTextNode(fi)&&(ci+=fi._data)}}catch(mi){oi={error:mi}}finally{try{di&&!di.done&&(ni=hi.return)&&ni.call(hi)}finally{if(oi)throw oi.error}}return ri.Guard.isTextNode(this._endNode)&&(ci+=this._endNode._data.substring(0,this._endOffset)),ci},ai._create=function(oi,ni){var ci=new ai;return oi&&(ci._start=oi),ni&&(ci._end=ni),ci},ai.START_TO_START=0,ai.START_TO_END=1,ai.END_TO_END=2,ai.END_TO_START=3,ai}(St.AbstractRangeImpl);qe.RangeImpl=si,ii.idl_defineConst(si.prototype,"START_TO_START",0),ii.idl_defineConst(si.prototype,"START_TO_END",1),ii.idl_defineConst(si.prototype,"END_TO_END",2),ii.idl_defineConst(si.prototype,"END_TO_START",3)},function(ze,qe,Xe){var Ye,Ke=this&&this.__extends||(Ye=function(St,ei){return(Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ti,ii){ti.__proto__=ii}||function(ti,ii){for(var ri in ii)ii.hasOwnProperty(ri)&&(ti[ri]=ii[ri])})(St,ei)},function(St,ei){function ti(){this.constructor=St}Ye(St,ei),St.prototype=ei===null?Object.create(ei):(ti.prototype=ei.prototype,new ti)});Object.defineProperty(qe,"__esModule",{value:!0});var Ze=Xe(103),Qe=Xe(0),Je=function(St){function ei(ti,ii,ri){var si=St.call(this,ti)||this;return si._iteratorCollection=void 0,si._reference=ii,si._pointerBeforeReference=ri,Qe.nodeIterator_iteratorList().add(si),si}return Ke(ei,St),Object.defineProperty(ei.prototype,"referenceNode",{get:function(){return this._reference},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"pointerBeforeReferenceNode",{get:function(){return this._pointerBeforeReference},enumerable:!0,configurable:!0}),ei.prototype.nextNode=function(){return Qe.nodeIterator_traverse(this,!0)},ei.prototype.previousNode=function(){return Qe.nodeIterator_traverse(this,!1)},ei.prototype.detach=function(){Qe.nodeIterator_iteratorList().delete(this)},ei._create=function(ti,ii,ri){return new ei(ti,ii,ri)},ei}(Ze.TraverserImpl);qe.NodeIteratorImpl=Je},function(ze,qe,Xe){var Ye,Ke=this&&this.__extends||(Ye=function(ei,ti){return(Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ii,ri){ii.__proto__=ri}||function(ii,ri){for(var si in ri)ri.hasOwnProperty(si)&&(ii[si]=ri[si])})(ei,ti)},function(ei,ti){function ii(){this.constructor=ei}Ye(ei,ti),ei.prototype=ti===null?Object.create(ti):(ii.prototype=ti.prototype,new ii)});Object.defineProperty(qe,"__esModule",{value:!0});var Ze=Xe(1),Qe=Xe(103),Je=Xe(0),St=function(ei){function ti(ii,ri){var si=ei.call(this,ii)||this;return si._current=ri,si}return Ke(ti,ei),Object.defineProperty(ti.prototype,"currentNode",{get:function(){return this._current},set:function(ii){this._current=ii},enumerable:!0,configurable:!0}),ti.prototype.parentNode=function(){for(var ii=this._current;ii!==null&&ii!==this._root;)if((ii=ii._parent)!==null&&Je.traversal_filter(this,ii)===Ze.FilterResult.Accept)return this._current=ii,ii;return null},ti.prototype.firstChild=function(){return Je.treeWalker_traverseChildren(this,!0)},ti.prototype.lastChild=function(){return Je.treeWalker_traverseChildren(this,!1)},ti.prototype.nextSibling=function(){return Je.treeWalker_traverseSiblings(this,!0)},ti.prototype.previousNode=function(){for(var ii=this._current;ii!==this._root;){for(var ri=ii._previousSibling;ri;){ii=ri;for(var si=Je.traversal_filter(this,ii);si!==Ze.FilterResult.Reject&&ii._lastChild;)ii=ii._lastChild,si=Je.traversal_filter(this,ii);if(si===Ze.FilterResult.Accept)return this._current=ii,ii;ri=ii._previousSibling}if(ii===this._root||ii._parent===null)return null;if(ii=ii._parent,Je.traversal_filter(this,ii)===Ze.FilterResult.Accept)return this._current=ii,ii}return null},ti.prototype.previousSibling=function(){return Je.treeWalker_traverseSiblings(this,!1)},ti.prototype.nextNode=function(){for(var ii=this._current,ri=Ze.FilterResult.Accept;;){for(;ri!==Ze.FilterResult.Reject&&ii._firstChild;)if(ii=ii._firstChild,(ri=Je.traversal_filter(this,ii))===Ze.FilterResult.Accept)return this._current=ii,ii;for(var si=null,ui=ii;ui!==null;){if(ui===this._root)return null;if((si=ui._nextSibling)!==null){ii=si;break}ui=ui._parent}if((ri=Je.traversal_filter(this,ii))===Ze.FilterResult.Accept)return this._current=ii,ii}},ti._create=function(ii,ri){return new ti(ii,ri)},ti}(Qe.TraverserImpl);qe.TreeWalkerImpl=St},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=Xe(1),Ke=Xe(12),Ze=function(){function Qe(){}return Qe.prototype.acceptNode=function(Je){return Ye.FilterResult.Accept},Qe._create=function(){return new Qe},Qe.FILTER_ACCEPT=1,Qe.FILTER_REJECT=2,Qe.FILTER_SKIP=3,Qe.SHOW_ALL=4294967295,Qe.SHOW_ELEMENT=1,Qe.SHOW_ATTRIBUTE=2,Qe.SHOW_TEXT=4,Qe.SHOW_CDATA_SECTION=8,Qe.SHOW_ENTITY_REFERENCE=16,Qe.SHOW_ENTITY=32,Qe.SHOW_PROCESSING_INSTRUCTION=64,Qe.SHOW_COMMENT=128,Qe.SHOW_DOCUMENT=256,Qe.SHOW_DOCUMENT_TYPE=512,Qe.SHOW_DOCUMENT_FRAGMENT=1024,Qe.SHOW_NOTATION=2048,Qe}();qe.NodeFilterImpl=Ze,Ke.idl_defineConst(Ze.prototype,"FILTER_ACCEPT",1),Ke.idl_defineConst(Ze.prototype,"FILTER_REJECT",2),Ke.idl_defineConst(Ze.prototype,"FILTER_SKIP",3),Ke.idl_defineConst(Ze.prototype,"SHOW_ALL",4294967295),Ke.idl_defineConst(Ze.prototype,"SHOW_ELEMENT",1),Ke.idl_defineConst(Ze.prototype,"SHOW_ATTRIBUTE",2),Ke.idl_defineConst(Ze.prototype,"SHOW_TEXT",4),Ke.idl_defineConst(Ze.prototype,"SHOW_CDATA_SECTION",8),Ke.idl_defineConst(Ze.prototype,"SHOW_ENTITY_REFERENCE",16),Ke.idl_defineConst(Ze.prototype,"SHOW_ENTITY",32),Ke.idl_defineConst(Ze.prototype,"SHOW_PROCESSING_INSTRUCTION",64),Ke.idl_defineConst(Ze.prototype,"SHOW_COMMENT",128),Ke.idl_defineConst(Ze.prototype,"SHOW_DOCUMENT",256),Ke.idl_defineConst(Ze.prototype,"SHOW_DOCUMENT_TYPE",512),Ke.idl_defineConst(Ze.prototype,"SHOW_DOCUMENT_FRAGMENT",1024),Ke.idl_defineConst(Ze.prototype,"SHOW_NOTATION",2048)},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=function(){function Ke(Ze,Qe,Je,St,ei,ti,ii,ri,si){this._type=Ze,this._target=Qe,this._addedNodes=Je,this._removedNodes=St,this._previousSibling=ei,this._nextSibling=ti,this._attributeName=ii,this._attributeNamespace=ri,this._oldValue=si}return Object.defineProperty(Ke.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(Ke.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(Ke.prototype,"addedNodes",{get:function(){return this._addedNodes},enumerable:!0,configurable:!0}),Object.defineProperty(Ke.prototype,"removedNodes",{get:function(){return this._removedNodes},enumerable:!0,configurable:!0}),Object.defineProperty(Ke.prototype,"previousSibling",{get:function(){return this._previousSibling},enumerable:!0,configurable:!0}),Object.defineProperty(Ke.prototype,"nextSibling",{get:function(){return this._nextSibling},enumerable:!0,configurable:!0}),Object.defineProperty(Ke.prototype,"attributeName",{get:function(){return this._attributeName},enumerable:!0,configurable:!0}),Object.defineProperty(Ke.prototype,"attributeNamespace",{get:function(){return this._attributeNamespace},enumerable:!0,configurable:!0}),Object.defineProperty(Ke.prototype,"oldValue",{get:function(){return this._oldValue},enumerable:!0,configurable:!0}),Ke._create=function(Ze,Qe,Je,St,ei,ti,ii,ri,si){return new Ke(Ze,Qe,Je,St,ei,ti,ii,ri,si)},Ke}();qe.MutationRecordImpl=Ye},function(ze,qe,Xe){var Ye=this&&this.__values||function(ei){var ti=typeof Symbol=="function"&&Symbol.iterator,ii=ti&&ei[ti],ri=0;if(ii)return ii.call(ei);if(ei&&typeof ei.length=="number")return{next:function(){return ei&&ri>=ei.length&&(ei=void 0),{value:ei&&ei[ri++],done:!ei}}};throw new TypeError(ti?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(qe,"__esModule",{value:!0});var Ke=Xe(6),Ze=Xe(9),Qe=Xe(7),Je=Xe(0),St=function(){function ei(ti,ii){this._element=ti,this._attribute=ii,this._tokenSet=new Set;var ri=ii._localName,si=Je.element_getAnAttributeValue(ti,ri),ui=this;this._element._attributeChangeSteps.push(function(ai,oi,ni,ci,hi){oi===ui._attribute._localName&&hi===null&&(ci?ui._tokenSet=Je.orderedSet_parse(ci):ui._tokenSet.clear())}),Ke.dom.features.steps&&Je.dom_runAttributeChangeSteps(ti,ri,si,si,null)}return Object.defineProperty(ei.prototype,"length",{get:function(){return this._tokenSet.size},enumerable:!0,configurable:!0}),ei.prototype.item=function(ti){var ii,ri,si=0;try{for(var ui=Ye(this._tokenSet),ai=ui.next();!ai.done;ai=ui.next()){var oi=ai.value;if(si===ti)return oi;si++}}catch(ni){ii={error:ni}}finally{try{ai&&!ai.done&&(ri=ui.return)&&ri.call(ui)}finally{if(ii)throw ii.error}}return null},ei.prototype.contains=function(ti){return this._tokenSet.has(ti)},ei.prototype.add=function(){for(var ti,ii,ri=[],si=0;si<arguments.length;si++)ri[si]=arguments[si];try{for(var ui=Ye(ri),ai=ui.next();!ai.done;ai=ui.next()){var oi=ai.value;if(oi==="")throw new Ze.SyntaxError("Cannot add an empty token.");if(Qe.codePoint.ASCIIWhiteSpace.test(oi))throw new Ze.InvalidCharacterError("Token cannot contain whitespace.");this._tokenSet.add(oi)}}catch(ni){ti={error:ni}}finally{try{ai&&!ai.done&&(ii=ui.return)&&ii.call(ui)}finally{if(ti)throw ti.error}}Je.tokenList_updateSteps(this)},ei.prototype.remove=function(){for(var ti,ii,ri=[],si=0;si<arguments.length;si++)ri[si]=arguments[si];try{for(var ui=Ye(ri),ai=ui.next();!ai.done;ai=ui.next()){var oi=ai.value;if(oi==="")throw new Ze.SyntaxError("Cannot remove an empty token.");if(Qe.codePoint.ASCIIWhiteSpace.test(oi))throw new Ze.InvalidCharacterError("Token cannot contain whitespace.");this._tokenSet.delete(oi)}}catch(ni){ti={error:ni}}finally{try{ai&&!ai.done&&(ii=ui.return)&&ii.call(ui)}finally{if(ti)throw ti.error}}Je.tokenList_updateSteps(this)},ei.prototype.toggle=function(ti,ii){if(ii===void 0&&(ii=void 0),ti==="")throw new Ze.SyntaxError("Cannot toggle an empty token.");if(Qe.codePoint.ASCIIWhiteSpace.test(ti))throw new Ze.InvalidCharacterError("Token cannot contain whitespace.");return this._tokenSet.has(ti)?ii!==void 0&&ii!==!1||(this._tokenSet.delete(ti),Je.tokenList_updateSteps(this),!1):(ii===void 0||ii===!0)&&(this._tokenSet.add(ti),Je.tokenList_updateSteps(this),!0)},ei.prototype.replace=function(ti,ii){if(ti===""||ii==="")throw new Ze.SyntaxError("Cannot replace an empty token.");if(Qe.codePoint.ASCIIWhiteSpace.test(ti)||Qe.codePoint.ASCIIWhiteSpace.test(ii))throw new Ze.InvalidCharacterError("Token cannot contain whitespace.");return!!this._tokenSet.has(ti)&&(Qe.set.replace(this._tokenSet,ti,ii),Je.tokenList_updateSteps(this),!0)},ei.prototype.supports=function(ti){return Je.tokenList_validationSteps(this,ti)},Object.defineProperty(ei.prototype,"value",{get:function(){return Je.tokenList_serializeSteps(this)},set:function(ti){Je.element_setAnAttributeValue(this._element,this._attribute._localName,ti)},enumerable:!0,configurable:!0}),ei.prototype[Symbol.iterator]=function(){var ti=this._tokenSet[Symbol.iterator]();return{next:function(){return ti.next()}}},ei._create=function(ti,ii){return new ei(ti,ii)},ei}();qe.DOMTokenListImpl=St},function(ze,qe,Xe){var Ye,Ke=this&&this.__extends||(Ye=function(St,ei){return(Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ti,ii){ti.__proto__=ii}||function(ti,ii){for(var ri in ii)ii.hasOwnProperty(ri)&&(ti[ri]=ii[ri])})(St,ei)},function(St,ei){function ti(){this.constructor=St}Ye(St,ei),St.prototype=ei===null?Object.create(ei):(ti.prototype=ei.prototype,new ti)});Object.defineProperty(qe,"__esModule",{value:!0});var Ze=Xe(104),Qe=Xe(0),Je=function(St){function ei(ti,ii){var ri=St.call(this,ti,ii)||this;return ri._detail=null,ri._detail=ii&&ii.detail||null,ri}return Ke(ei,St),Object.defineProperty(ei.prototype,"detail",{get:function(){return this._detail},enumerable:!0,configurable:!0}),ei.prototype.initCustomEvent=function(ti,ii,ri,si){ii===void 0&&(ii=!1),ri===void 0&&(ri=!1),si===void 0&&(si=null),this._dispatchFlag||(Qe.event_initialize(this,ti,ii,ri),this._detail=si)},ei}(Ze.EventImpl);qe.CustomEventImpl=Je},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=Xe(6),Ke=Xe(1),Ze=Xe(105),Qe=Xe(17);qe.nodeIterator_traverse=function(Je,St){for(var ei=Je._reference,ti=Je._pointerBeforeReference;;){if(St)if(ti)ti=!1;else{var ii=Qe.tree_getFollowingNode(Je._root,ei);if(!ii)return null;ei=ii}else if(ti){var ri=Qe.tree_getPrecedingNode(Je.root,ei);if(!ri)return null;ei=ri}else ti=!0;if(Ze.traversal_filter(Je,ei)===Ke.FilterResult.Accept)break}return Je._reference=ei,Je._pointerBeforeReference=ti,ei},qe.nodeIterator_iteratorList=function(){return Ye.dom.window._iteratorList}},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=Xe(9),Ke=Xe(7),Ze=Xe(174);function Qe(Je){if(!Ze.xml_isName(Je))throw new Ye.InvalidCharacterError("Invalid XML name: "+Je);if(!Ze.xml_isQName(Je))throw new Ye.InvalidCharacterError("Invalid XML qualified name: "+Je+".")}qe.namespace_validate=Qe,qe.namespace_validateAndExtract=function(Je,St){Je||(Je=null),Qe(St);var ei=St.split(":"),ti=ei.length===2?ei[0]:null,ii=ei.length===2?ei[1]:St;if(ti&&Je===null)throw new Ye.NamespaceError("Qualified name includes a prefix but the namespace is null.");if(ti==="xml"&&Je!==Ke.namespace.XML)throw new Ye.NamespaceError('Qualified name includes the "xml" prefix but the namespace is not the XML namespace.');if(Je!==Ke.namespace.XMLNS&&(ti==="xmlns"||St==="xmlns"))throw new Ye.NamespaceError('Qualified name includes the "xmlns" prefix but the namespace is not the XMLNS namespace.');if(Je===Ke.namespace.XMLNS&&ti!=="xmlns"&&St!=="xmlns")throw new Ye.NamespaceError('Qualified name does not include the "xmlns" prefix but the namespace is the XMLNS namespace.');return[Je,ti,ii]},qe.namespace_extractQName=function(Je){Qe(Je);var St=Je.split(":");return[St.length===2?St[0]:null,St.length===2?St[1]:Je]}},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0}),qe.xml_isName=function(Ye){for(var Ke=0;Ke<Ye.length;Ke++){var Ze=Ye.charCodeAt(Ke);if(!(Ze>=97&&Ze<=122||Ze>=65&&Ze<=90||Ze===58||Ze===95||Ze>=192&&Ze<=214||Ze>=216&&Ze<=246||Ze>=248&&Ze<=767||Ze>=880&&Ze<=893||Ze>=895&&Ze<=8191||Ze>=8204&&Ze<=8205||Ze>=8304&&Ze<=8591||Ze>=11264&&Ze<=12271||Ze>=12289&&Ze<=55295||Ze>=63744&&Ze<=64975||Ze>=65008&&Ze<=65533)&&(Ke===0||!(Ze===45||Ze===46||Ze>=48&&Ze<=57||Ze===183||Ze>=768&&Ze<=879||Ze>=8255&&Ze<=8256))){if(Ze>=55296&&Ze<=56319&&Ke<Ye.length-1){var Qe=Ye.charCodeAt(Ke+1);if(Qe>=56320&&Qe<=57343&&(Ke++,(Ze=1024*(Ze-55296)+Qe-56320+65536)>=65536&&Ze<=983039))continue}return!1}}return!0},qe.xml_isQName=function(Ye){for(var Ke=!1,Ze=0;Ze<Ye.length;Ze++){var Qe=Ye.charCodeAt(Ze);if(!(Qe>=97&&Qe<=122||Qe>=65&&Qe<=90||Qe===95||Qe>=192&&Qe<=214||Qe>=216&&Qe<=246||Qe>=248&&Qe<=767||Qe>=880&&Qe<=893||Qe>=895&&Qe<=8191||Qe>=8204&&Qe<=8205||Qe>=8304&&Qe<=8591||Qe>=11264&&Qe<=12271||Qe>=12289&&Qe<=55295||Qe>=63744&&Qe<=64975||Qe>=65008&&Qe<=65533)&&(Ze===0||!(Qe===45||Qe===46||Qe>=48&&Qe<=57||Qe===183||Qe>=768&&Qe<=879||Qe>=8255&&Qe<=8256))){if(Ze===0||Qe!==58){if(Qe>=55296&&Qe<=56319&&Ze<Ye.length-1){var Je=Ye.charCodeAt(Ze+1);if(Je>=56320&&Je<=57343&&(Ze++,(Qe=1024*(Qe-55296)+Je-56320+65536)>=65536&&Qe<=983039))continue}return!1}if(Ke||Ze===Ye.length-1)return!1;Ke=!0}}return!0},qe.xml_isLegalChar=function(Ye){for(var Ke=0;Ke<Ye.length;Ke++){var Ze=Ye.charCodeAt(Ke);if(!(Ze===9||Ze===10||Ze===13||Ze>=32&&Ze<=55295||Ze>=57344&&Ze<=65533)){if(Ze>=55296&&Ze<=56319&&Ke<Ye.length-1){var Qe=Ye.charCodeAt(Ke+1);if(Qe>=56320&&Qe<=57343&&(Ke++,(Ze=1024*(Ze-55296)+Qe-56320+65536)>=65536&&Ze<=1114111))continue}return!1}}return!0},qe.xml_isPubidChar=function(Ye){for(var Ke=0;Ke<Ye.length;Ke++){var Ze=Ye.charCodeAt(Ke);if(!(Ze>=97&&Ze<=122||Ze>=65&&Ze<=90||Ze>=39&&Ze<=59||Ze===32||Ze===13||Ze===10||Ze>=35&&Ze<=37||Ze===33||Ze===61||Ze===63||Ze===64||Ze===95))return!1}return!0}},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=Xe(1),Ke=Xe(17);qe.boundaryPoint_position=function Ze(Qe,Je){var St=Qe[0],ei=Qe[1],ti=Je[0],ii=Je[1];if(console.assert(Ke.tree_rootNode(St)===Ke.tree_rootNode(ti),"Boundary points must share the same root node."),St===ti)return ei===ii?Ye.BoundaryPosition.Equal:ei<ii?Ye.BoundaryPosition.Before:Ye.BoundaryPosition.After;if(Ke.tree_isFollowing(ti,St)){var ri=Ze([ti,ii],[St,ei]);if(ri===Ye.BoundaryPosition.Before)return Ye.BoundaryPosition.After;if(ri===Ye.BoundaryPosition.After)return Ye.BoundaryPosition.Before}if(Ke.tree_isAncestorOf(ti,St)){for(var si=ti;!Ke.tree_isChildOf(St,si);)si._parent!==null&&(si=si._parent);if(Ke.tree_index(si)<ei)return Ye.BoundaryPosition.After}return Ye.BoundaryPosition.Before}},function(ze,qe,Xe){var Ye=this&&this.__values||function(ri){var si=typeof Symbol=="function"&&Symbol.iterator,ui=si&&ri[si],ai=0;if(ui)return ui.call(ri);if(ri&&typeof ri.length=="number")return{next:function(){return ri&&ai>=ri.length&&(ri=void 0),{value:ri&&ri[ai++],done:!ri}}};throw new TypeError(si?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(qe,"__esModule",{value:!0});var Ke=Xe(6),Ze=Xe(3),Qe=Xe(7),Je=Xe(29),St=Xe(108),ei=Xe(30),ti=Xe(37),ii=Xe(52);qe.node_stringReplaceAll=function(ri,si){var ui=null;ri!==""&&(ui=Je.create_text(si._nodeDocument,ri)),ti.mutation_replaceAll(ui,si)},qe.node_clone=function ri(si,ui,ai){var oi,ni,ci,hi,di;if(ui===void 0&&(ui=null),ai===void 0&&(ai=!1),ui===null&&(ui=si._nodeDocument),Ze.Guard.isElementNode(si)){di=ii.element_createAnElement(ui,si._localName,si._namespace,si._namespacePrefix,si._is,!1);try{for(var fi=Ye(si._attributeList),mi=fi.next();!mi.done;mi=fi.next()){var pi=ri(mi.value,ui);ii.element_append(pi,di)}}catch(ki){oi={error:ki}}finally{try{mi&&!mi.done&&(ni=fi.return)&&ni.call(fi)}finally{if(oi)throw oi.error}}}else if(Ze.Guard.isDocumentNode(si)){var wi=Je.create_document();wi._encoding=si._encoding,wi._contentType=si._contentType,wi._URL=si._URL,wi._origin=si._origin,wi._type=si._type,wi._mode=si._mode,di=wi}else if(Ze.Guard.isDocumentTypeNode(si))di=Je.create_documentType(ui,si._name,si._publicId,si._systemId);else if(Ze.Guard.isAttrNode(si)){var gi=Je.create_attr(ui,si.localName);gi._namespace=si._namespace,gi._namespacePrefix=si._namespacePrefix,gi._value=si._value,di=gi}else di=Ze.Guard.isExclusiveTextNode(si)?Je.create_text(ui,si._data):Ze.Guard.isCDATASectionNode(si)?Je.create_cdataSection(ui,si._data):Ze.Guard.isCommentNode(si)?Je.create_comment(ui,si._data):Ze.Guard.isProcessingInstructionNode(si)?Je.create_processingInstruction(ui,si._target,si._data):Ze.Guard.isDocumentFragmentNode(si)?Je.create_documentFragment(ui):Object.create(si);if(Ze.Guard.isDocumentNode(di)?(di._nodeDocument=di,ui=di):di._nodeDocument=ui,Ke.dom.features.steps&&ei.dom_runCloningSteps(di,si,ui,ai),ai)try{for(var yi=Ye(si._children),Ai=yi.next();!Ai.done;Ai=yi.next()){var Si=ri(Ai.value,ui,!0);ti.mutation_append(Si,di)}}catch(ki){ci={error:ki}}finally{try{Ai&&!Ai.done&&(hi=yi.return)&&hi.call(yi)}finally{if(ci)throw ci.error}}return di},qe.node_equals=function ri(si,ui){var ai,oi,ni,ci;if(si._nodeType!==ui._nodeType)return!1;if(Ze.Guard.isDocumentTypeNode(si)&&Ze.Guard.isDocumentTypeNode(ui)){if(si._name!==ui._name||si._publicId!==ui._publicId||si._systemId!==ui._systemId)return!1}else if(Ze.Guard.isElementNode(si)&&Ze.Guard.isElementNode(ui)){if(si._namespace!==ui._namespace||si._namespacePrefix!==ui._namespacePrefix||si._localName!==ui._localName||si._attributeList.length!==ui._attributeList.length)return!1}else if(Ze.Guard.isAttrNode(si)&&Ze.Guard.isAttrNode(ui)){if(si._namespace!==ui._namespace||si._localName!==ui._localName||si._value!==ui._value)return!1}else if(Ze.Guard.isProcessingInstructionNode(si)&&Ze.Guard.isProcessingInstructionNode(ui)){if(si._target!==ui._target||si._data!==ui._data)return!1}else if(Ze.Guard.isCharacterDataNode(si)&&Ze.Guard.isCharacterDataNode(ui)&&si._data!==ui._data)return!1;if(Ze.Guard.isElementNode(si)&&Ze.Guard.isElementNode(ui)){var hi={};try{for(var di=Ye(si._attributeList),fi=di.next();!fi.done;fi=di.next())hi[(wi=fi.value)._localName]=wi}catch(Li){ai={error:Li}}finally{try{fi&&!fi.done&&(oi=di.return)&&oi.call(di)}finally{if(ai)throw ai.error}}try{for(var mi=Ye(ui._attributeList),pi=mi.next();!pi.done;pi=mi.next()){var wi,gi=pi.value;if(!(wi=hi[gi._localName])||!ri(wi,gi))return!1}}catch(Li){ni={error:Li}}finally{try{pi&&!pi.done&&(ci=mi.return)&&ci.call(mi)}finally{if(ni)throw ni.error}}}if(si._children.size!==ui._children.size)return!1;for(var yi=si._children[Symbol.iterator](),Ai=ui._children[Symbol.iterator](),Si=yi.next(),ki=Ai.next();!Si.done&&!ki.done;){if(!ri(Si.value,ki.value))return!1;Si=yi.next(),ki=Ai.next()}return!0},qe.node_listOfElementsWithQualifiedName=function(ri,si){return ri==="*"?Je.create_htmlCollection(si):si._nodeDocument._type==="html"?Je.create_htmlCollection(si,function(ui){return ui._namespace===Qe.namespace.HTML&&ui._qualifiedName===ri.toLowerCase()||ui._namespace!==Qe.namespace.HTML&&ui._qualifiedName===ri}):Je.create_htmlCollection(si,function(ui){return ui._qualifiedName===ri})},qe.node_listOfElementsWithNamespace=function(ri,si,ui){return ri===""&&(ri=null),ri==="*"&&si==="*"?Je.create_htmlCollection(ui):ri==="*"?Je.create_htmlCollection(ui,function(ai){return ai._localName===si}):si==="*"?Je.create_htmlCollection(ui,function(ai){return ai._namespace===ri}):Je.create_htmlCollection(ui,function(ai){return ai._localName===si&&ai._namespace===ri})},qe.node_listOfElementsWithClassNames=function(ri,si){var ui=St.orderedSet_parse(ri);if(ui.size===0)return Je.create_htmlCollection(si,function(){return!1});var ai=si._nodeDocument._mode!=="quirks";return Je.create_htmlCollection(si,function(oi){var ni=oi.classList;return St.orderedSet_contains(ni._tokenSet,ui,ai)})},qe.node_locateANamespacePrefix=function ri(si,ui){if(si._namespace===ui&&si._namespacePrefix!==null)return si._namespacePrefix;for(var ai=0;ai<si._attributeList.length;ai++){var oi=si._attributeList[ai];if(oi._namespacePrefix==="xmlns"&&oi._value===ui)return oi._localName}return si._parent&&Ze.Guard.isElementNode(si._parent)?ri(si._parent,ui):null},qe.node_locateANamespace=function ri(si,ui){if(Ze.Guard.isElementNode(si)){if(si._namespace!==null&&si._namespacePrefix===ui)return si._namespace;for(var ai=0;ai<si._attributeList.length;ai++){var oi=si._attributeList[ai];if(oi._namespace===Qe.namespace.XMLNS&&oi._namespacePrefix==="xmlns"&&oi._localName===ui||ui===null&&oi._namespace===Qe.namespace.XMLNS&&oi._namespacePrefix===null&&oi._localName==="xmlns")return oi._value||null}return si.parentElement===null?null:ri(si.parentElement,ui)}return Ze.Guard.isDocumentNode(si)?si.documentElement===null?null:ri(si.documentElement,ui):Ze.Guard.isDocumentTypeNode(si)||Ze.Guard.isDocumentFragmentNode(si)?null:Ze.Guard.isAttrNode(si)?si._element===null?null:ri(si._element,ui):si._parent&&Ze.Guard.isElementNode(si._parent)?ri(si._parent,ui):null}},function(ze,qe,Xe){var Ye=this&&this.__values||function(ii){var ri=typeof Symbol=="function"&&Symbol.iterator,si=ri&&ii[ri],ui=0;if(si)return si.call(ii);if(ii&&typeof ii.length=="number")return{next:function(){return ii&&ui>=ii.length&&(ii=void 0),{value:ii&&ii[ui++],done:!ii}}};throw new TypeError(ri?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(qe,"__esModule",{value:!0});var Ke=Xe(6),Ze=Xe(3),Qe=Xe(9),Je=Xe(29),St=Xe(17),ei=Xe(107),ti=Xe(37);qe.text_contiguousTextNodes=function(ii,ri){var si;return ri===void 0&&(ri=!1),(si={})[Symbol.iterator]=function(){for(var ui=ii;ui&&Ze.Guard.isTextNode(ui._previousSibling);)ui=ui._previousSibling;return{next:function(){if(ui&&!ri&&ui===ii&&(ui=Ze.Guard.isTextNode(ui._nextSibling)?ui._nextSibling:null),ui===null)return{done:!0,value:null};var ai={done:!1,value:ui};return ui=Ze.Guard.isTextNode(ui._nextSibling)?ui._nextSibling:null,ai}}},si},qe.text_contiguousExclusiveTextNodes=function(ii,ri){var si;return ri===void 0&&(ri=!1),(si={})[Symbol.iterator]=function(){for(var ui=ii;ui&&Ze.Guard.isExclusiveTextNode(ui._previousSibling);)ui=ui._previousSibling;return{next:function(){if(ui&&!ri&&ui===ii&&(ui=Ze.Guard.isExclusiveTextNode(ui._nextSibling)?ui._nextSibling:null),ui===null)return{done:!0,value:null};var ai={done:!1,value:ui};return ui=Ze.Guard.isExclusiveTextNode(ui._nextSibling)?ui._nextSibling:null,ai}}},si},qe.text_descendantTextContent=function(ii){for(var ri="",si=St.tree_getFirstDescendantNode(ii,!1,!1,function(ui){return Ze.Guard.isTextNode(ui)});si!==null;)ri+=si._data,si=St.tree_getNextDescendantNode(ii,si,!1,!1,function(ui){return Ze.Guard.isTextNode(ui)});return ri},qe.text_split=function(ii,ri){var si,ui,ai=ii._data.length;if(ri>ai)throw new Qe.IndexSizeError;var oi=ai-ri,ni=ei.characterData_substringData(ii,ri,oi),ci=Je.create_text(ii._nodeDocument,ni),hi=ii._parent;if(hi!==null){ti.mutation_insert(ci,hi,ii._nextSibling);try{for(var di=Ye(Ke.dom.rangeList),fi=di.next();!fi.done;fi=di.next()){var mi=fi.value;mi._start[0]===ii&&mi._start[1]>ri&&(mi._start[0]=ci,mi._start[1]-=ri),mi._end[0]===ii&&mi._end[1]>ri&&(mi._end[0]=ci,mi._end[1]-=ri);var pi=St.tree_index(ii);mi._start[0]===hi&&mi._start[1]===pi+1&&mi._start[1]++,mi._end[0]===hi&&mi._end[1]===pi+1&&mi._end[1]++}}catch(wi){si={error:wi}}finally{try{fi&&!fi.done&&(ui=di.return)&&ui.call(di)}finally{if(si)throw si.error}}}return ei.characterData_replaceData(ii,ri,oi,""),ci}},function(ze,qe,Xe){var Ye=Xe(4),Ke=Xe(41),Ze=Xe(24),Qe=Xe(48),Je=[].join,St=Ke!=Object,ei=Qe("join",",");Ye({target:"Array",proto:!0,forced:St||!ei},{join:function(ti){return Je.call(Ze(this),ti===void 0?",":ti)}})},function(ze,qe,Xe){var Ye=Xe(4),Ke=Xe(83),Ze=String.fromCharCode,Qe=String.fromCodePoint;Ye({target:"String",stat:!0,forced:!!Qe&&Qe.length!=1},{fromCodePoint:function(Je){for(var St,ei=[],ti=arguments.length,ii=0;ti>ii;){if(St=+arguments[ii++],Ke(St,1114111)!==St)throw RangeError(St+" is not a valid code point");ei.push(St<65536?Ze(St):Ze(55296+((St-=65536)>>10),St%1024+56320))}return ei.join("")}})},function(ze,qe,Xe){var Ye=this&&this.__read||function(Qe,Je){var St=typeof Symbol=="function"&&Qe[Symbol.iterator];if(!St)return Qe;var ei,ti,ii=St.call(Qe),ri=[];try{for(;(Je===void 0||Je-- >0)&&!(ei=ii.next()).done;)ri.push(ei.value)}catch(si){ti={error:si}}finally{try{ei&&!ei.done&&(St=ii.return)&&St.call(ii)}finally{if(ti)throw ti.error}}return ri};Object.defineProperty(qe,"__esModule",{value:!0});var Ke=Xe(111),Ze=function(){function Qe(Je,St){this._options={skipWhitespaceOnlyText:!1},this.err={line:-1,col:-1,index:-1,str:""},this._str=Je,this._index=0,this._length=Je.length,St&&(this._options.skipWhitespaceOnlyText=St.skipWhitespaceOnlyText||!1)}return Qe.prototype.nextToken=function(){if(this.eof())return{type:Ke.TokenType.EOF};var Je=this.skipIfStartsWith("<")?this.openBracket():this.text();return this._options.skipWhitespaceOnlyText&&Je.type===Ke.TokenType.Text&&Qe.isWhiteSpaceToken(Je)&&(Je=this.nextToken()),Je},Qe.prototype.openBracket=function(){return this.skipIfStartsWith("?")?this.skipIfStartsWith("xml")?Qe.isSpace(this._str[this._index])?this.declaration():(this.seek(-3),this.pi()):this.pi():this.skipIfStartsWith("!")?this.skipIfStartsWith("--")?this.comment():this.skipIfStartsWith("[CDATA[")?this.cdata():this.skipIfStartsWith("DOCTYPE")?this.doctype():void this.throwError("Invalid '!' in opening tag."):this.skipIfStartsWith("/")?this.closeTag():this.openTag()},Qe.prototype.declaration=function(){for(var Je="",St="",ei="";!this.eof();){if(this.skipSpace(),this.skipIfStartsWith("?>"))return{type:Ke.TokenType.Declaration,version:Je,encoding:St,standalone:ei};var ti=Ye(this.attribute(),2),ii=ti[0],ri=ti[1];ii==="version"?Je=ri:ii==="encoding"?St=ri:ii==="standalone"?ei=ri:this.throwError("Invalid attribute name: "+ii)}this.throwError("Missing declaration end symbol `?>`")},Qe.prototype.doctype=function(){var Je="",St="";this.skipSpace();var ei=this.takeUntil2("[",">",!0);return this.skipSpace(),this.skipIfStartsWith("PUBLIC")?(Je=this.quotedString(),St=this.quotedString()):this.skipIfStartsWith("SYSTEM")&&(St=this.quotedString()),this.skipSpace(),this.skipIfStartsWith("[")&&(this.skipUntil("]"),this.skipIfStartsWith("]")||this.throwError("Missing end bracket of DTD internal subset")),this.skipSpace(),this.skipIfStartsWith(">")||this.throwError("Missing doctype end symbol `>`"),{type:Ke.TokenType.DocType,name:ei,pubId:Je,sysId:St}},Qe.prototype.pi=function(){var Je=this.takeUntilStartsWith("?>",!0);if(this.eof()&&this.throwError("Missing processing instruction end symbol `?>`"),this.skipSpace(),this.skipIfStartsWith("?>"))return{type:Ke.TokenType.PI,target:Je,data:""};var St=this.takeUntilStartsWith("?>");return this.eof()&&this.throwError("Missing processing instruction end symbol `?>`"),this.seek(2),{type:Ke.TokenType.PI,target:Je,data:St}},Qe.prototype.text=function(){var Je=this.takeUntil("<");return{type:Ke.TokenType.Text,data:Je}},Qe.prototype.comment=function(){var Je=this.takeUntilStartsWith("-->");return this.eof()&&this.throwError("Missing comment end symbol `-->`"),this.seek(3),{type:Ke.TokenType.Comment,data:Je}},Qe.prototype.cdata=function(){var Je=this.takeUntilStartsWith("]]>");return this.eof()&&this.throwError("Missing CDATA end symbol `]>`"),this.seek(3),{type:Ke.TokenType.CDATA,data:Je}},Qe.prototype.openTag=function(){this.skipSpace();var Je=this.takeUntil2(">","/",!0);if(this.skipSpace(),this.skipIfStartsWith(">"))return{type:Ke.TokenType.Element,name:Je,attributes:[],selfClosing:!1};if(this.skipIfStartsWith("/>"))return{type:Ke.TokenType.Element,name:Je,attributes:[],selfClosing:!0};for(var St=[];!this.eof();){if(this.skipSpace(),this.skipIfStartsWith(">"))return{type:Ke.TokenType.Element,name:Je,attributes:St,selfClosing:!1};if(this.skipIfStartsWith("/>"))return{type:Ke.TokenType.Element,name:Je,attributes:St,selfClosing:!0};var ei=this.attribute();St.push(ei)}this.throwError("Missing opening element tag end symbol `>`")},Qe.prototype.closeTag=function(){this.skipSpace();var Je=this.takeUntil(">",!0);return this.skipSpace(),this.skipIfStartsWith(">")||this.throwError("Missing closing element tag end symbol `>`"),{type:Ke.TokenType.ClosingTag,name:Je}},Qe.prototype.attribute=function(){this.skipSpace();var Je=this.takeUntil("=",!0);return this.skipSpace(),this.skipIfStartsWith("=")||this.throwError("Missing equals sign before attribute value"),[Je,this.quotedString()]},Qe.prototype.quotedString=function(){this.skipSpace();var Je=this.take(1);Qe.isQuote(Je)||this.throwError("Missing start quote character before quoted value");var St=this.takeUntil(Je);return this.skipIfStartsWith(Je)||this.throwError("Missing end quote character after quoted value"),St},Qe.prototype.eof=function(){return this._index>=this._length},Qe.prototype.skipIfStartsWith=function(Je){var St=Je.length;if(St===1)return this._str[this._index]===Je&&(this._index++,!0);for(var ei=0;ei<St;ei++)if(this._str[this._index+ei]!==Je[ei])return!1;return this._index+=St,!0},Qe.prototype.seek=function(Je){this._index+=Je,this._index<0&&(this._index=0),this._index>this._length&&(this._index=this._length)},Qe.prototype.skipSpace=function(){for(;!this.eof()&&Qe.isSpace(this._str[this._index]);)this._index++},Qe.prototype.take=function(Je){if(Je===1)return this._str[this._index++];var St=this._index;return this.seek(Je),this._str.slice(St,this._index)},Qe.prototype.takeUntil=function(Je,St){St===void 0&&(St=!1);for(var ei=this._index;this._index<this._length;){var ti=this._str[this._index];if(ti===Je||St&&Qe.isSpace(ti))break;this._index++}return this._str.slice(ei,this._index)},Qe.prototype.takeUntil2=function(Je,St,ei){ei===void 0&&(ei=!1);for(var ti=this._index;this._index<this._length;){var ii=this._str[this._index];if(ii===Je||ii===St||ei&&Qe.isSpace(ii))break;this._index++}return this._str.slice(ti,this._index)},Qe.prototype.takeUntilStartsWith=function(Je,St){St===void 0&&(St=!1);for(var ei=this._index,ti=Je.length;this._index<this._length;){for(var ii=!0,ri=0;ri<ti;ri++){var si=this._str[this._index+ri],ui=Je[ri];if(St&&Qe.isSpace(si))return this._str.slice(ei,this._index);if(si!==ui){this._index++,ii=!1;break}}if(ii)return this._str.slice(ei,this._index)}return this._index=this._length,this._str.slice(ei)},Qe.prototype.skipUntil=function(Je){for(;this._index<this._length&&this._str[this._index]!==Je;)this._index++},Qe.isWhiteSpaceToken=function(Je){for(var St=Je.data,ei=0;ei<St.length;ei++){var ti=St[ei];if(ti!==" "&&ti!==`
`&&ti!=="\r"&&ti!=="	"&&ti!=="\f")return!1}return!0},Qe.isSpace=function(Je){return Je===" "||Je===`
`||Je==="\r"||Je==="	"},Qe.isQuote=function(Je){return Je==='"'||Je==="'"},Qe.prototype.throwError=function(Je){for(var St=/\r\n|\r|\n/g,ei=null,ti=0,ii=0,ri=this._str.length;(ei=St.exec(this._str))!==null&&ei!==null;)if(ti++,ei.index<this._index&&(ii=St.lastIndex),ei.index>this._index){ri=ei.index;break}throw this.err={line:ti,col:this._index-ii,index:this._index,str:this._str.substring(ii,ri)},new Error(Je+`
Index: `+this.err.index+`
Ln: `+this.err.line+", Col: "+this.err.col+`
Input: `+this.err.str)},Qe.prototype[Symbol.iterator]=function(){return this._index=0,{next:(function(){var Je=this.nextToken();return Je.type===Ke.TokenType.EOF?{done:!0,value:null}:{done:!1,value:Je}}).bind(this)}},Qe}();qe.XMLStringLexer=Ze},function(ze,qe,Xe){var Ye=Xe(39);ze.exports=new Ye({include:[Xe(182)]})},function(ze,qe,Xe){var Ye=Xe(39);ze.exports=new Ye({include:[Xe(113)],implicit:[Xe(290),Xe(291),Xe(292),Xe(293)]})},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=Xe(91),Ke=Xe(2),Ze=Xe(3),Qe=Xe(77),Je=Xe(109);function St(ri,si){var ui=ti(ri===void 0||ei(ri)?ri:Ye.DefaultBuilderOptions),ai=ei(ri)?si:ri,oi=Je.createDocument();ii(oi,ui);var ni=new Qe.XMLBuilderImpl(oi);return ai!==void 0&&ni.ele(ai),ni}function ei(ri){if(!Ke.isPlainObject(ri))return!1;for(var si in ri)if(ri.hasOwnProperty(si)&&!Ye.XMLBuilderOptionKeys.has(si))return!1;return!0}function ti(ri){ri===void 0&&(ri={});var si=Ke.applyDefaults(ri,Ye.DefaultBuilderOptions);if(si.convert.att.length===0||si.convert.ins.length===0||si.convert.text.length===0||si.convert.cdata.length===0||si.convert.comment.length===0)throw new Error("JS object converter strings cannot be zero length.");return si}function ii(ri,si,ui){var ai=ri;ai._xmlBuilderOptions=si,ai._isFragment=ui}qe.builder=function(ri,si){var ui=ti(ei(ri)?ri:Ye.DefaultBuilderOptions),ai=Ze.Guard.isNode(ri)||Ke.isArray(ri)?ri:si;if(ai===void 0)throw new Error("Invalid arguments.");if(Ke.isArray(ai)){for(var oi=[],ni=0;ni<ai.length;ni++){var ci=new Qe.XMLBuilderImpl(ai[ni]);ci.set(ui),oi.push(ci)}return oi}var hi=new Qe.XMLBuilderImpl(ai);return hi.set(ui),hi},qe.create=St,qe.fragment=function(ri,si){var ui=ti(ri===void 0||ei(ri)?ri:Ye.DefaultBuilderOptions),ai=ei(ri)?si:ri,oi=Je.createDocument();ii(oi,ui,!0);var ni=new Qe.XMLBuilderImpl(oi.createDocumentFragment());return ai!==void 0&&ni.ele(ai),ni},qe.convert=function(ri,si,ui){var ai,oi,ni;return ei(ri)&&si!==void 0?(ai=ri,oi=si,ni=ui):(ai=Ye.DefaultBuilderOptions,oi=ri,ni=si||void 0),St(ai,oi).end(ni)}},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=Xe(77);qe.builder=Ye.builder,qe.create=Ye.create,qe.fragment=Ye.fragment,qe.convert=Ye.convert,qe.createCB=Ye.createCB,qe.fragmentCB=Ye.fragmentCB},function(ze,qe,Xe){Xe(31),Xe(32),Xe(33),Xe(191),Xe(192),Xe(194),Xe(64),Xe(19),Xe(198),Xe(199),Xe(89),Xe(201),Xe(65),Xe(20),Xe(66),Xe(22),Xe(23);var Ye=this&&this.__read||function(ai,oi){var ni=typeof Symbol=="function"&&ai[Symbol.iterator];if(!ni)return ai;var ci,hi,di=ni.call(ai),fi=[];try{for(;(oi===void 0||oi-- >0)&&!(ci=di.next()).done;)fi.push(ci.value)}catch(mi){hi={error:mi}}finally{try{ci&&!ci.done&&(ni=di.return)&&ni.call(di)}finally{if(hi)throw hi.error}}return fi},Ke=this&&this.__values||function(ai){var oi=typeof Symbol=="function"&&Symbol.iterator,ni=oi&&ai[oi],ci=0;if(ni)return ni.call(ai);if(ai&&typeof ai.length=="number")return{next:function(){return ai&&ci>=ai.length&&(ai=void 0),{value:ai&&ai[ci++],done:!ai}}};throw new TypeError(oi?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(qe,"__esModule",{value:!0});var Ze=Xe(91),Qe=Xe(2),Je=Xe(217),St=Xe(1),ei=Xe(3),ti=Xe(0),ii=Xe(109),ri=Xe(7),si=Xe(277),ui=function(){function ai(oi){this._domNode=oi}return Object.defineProperty(ai.prototype,"node",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),Object.defineProperty(ai.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),ai.prototype.set=function(oi){return this._options=Qe.applyDefaults(Qe.applyDefaults(this._options,oi,!0),Ze.DefaultBuilderOptions),this},ai.prototype.ele=function(oi,ni,ci){var hi,di,fi,mi,pi,wi;if(Qe.isObject(oi))return new si.ObjectReader(this._options).parse(this,oi);if(oi!==null&&/^\s*</.test(oi))return new si.XMLReader(this._options).parse(this,oi);if(oi!==null&&/^\s*[\{\[]/.test(oi))return new si.JSONReader(this._options).parse(this,oi);if(oi!==null&&/^(\s*|(#.*)|(%.*))*---/.test(oi))return new si.YAMLReader(this._options).parse(this,oi);if((oi===null||Qe.isString(oi))&&Qe.isString(ni))mi=(hi=Ye([oi,ni,ci],3))[0],pi=hi[1],wi=hi[2];else{if(oi===null)throw new Error("Element name cannot be null. "+this._debugInfo());mi=(di=Ye([void 0,oi,Qe.isObject(ni)?ni:void 0],3))[0],pi=di[1],wi=di[2]}if(wi&&(wi=Qe.getValue(wi)),mi=(fi=Ye(this._extractNamespace(ii.sanitizeInput(mi,this._options.invalidCharReplacement),ii.sanitizeInput(pi,this._options.invalidCharReplacement),!0),2))[0],pi=fi[1],mi===void 0){var gi=Ye(ti.namespace_extractQName(pi),1)[0];mi=this.node.lookupNamespaceURI(gi)}var yi=mi!=null?this._doc.createElementNS(mi,pi):this._doc.createElement(pi);this.node.appendChild(yi);var Ai=new ai(yi),Si=this._doc.doctype;if(yi===this._doc.documentElement&&Si!==null){var ki=this._doc.implementation.createDocumentType(this._doc.documentElement.tagName,Si.publicId,Si.systemId);this._doc.replaceChild(ki,Si)}return wi&&!Qe.isEmpty(wi)&&Ai.att(wi),Ai},ai.prototype.remove=function(){var oi=this.up();return oi.node.removeChild(this.node),oi},ai.prototype.att=function(oi,ni,ci){var hi,di,fi,mi,pi,wi,gi=this;if(Qe.isMap(oi)||Qe.isObject(oi))return Qe.forEachObject(oi,function(Pi,Ri){return gi.att(Pi,Ri)},this),this;if(oi!=null&&(oi=Qe.getValue(oi+"")),ni!=null&&(ni=Qe.getValue(ni+"")),ci!=null&&(ci=Qe.getValue(ci+"")),oi!==null&&!Qe.isString(oi)||!Qe.isString(ni)||ci!==null&&!Qe.isString(ci)){if(!Qe.isString(oi)||ni!=null&&!Qe.isString(ni))throw new Error("Attribute name and value not specified. "+this._debugInfo());mi=(di=Ye([void 0,oi,ni],3))[0],pi=di[1],wi=di[2]}else mi=(hi=Ye([oi,ni,ci],3))[0],pi=hi[1],wi=hi[2];if(this._options.keepNullAttributes&&wi==null)wi="";else if(wi==null)return this;if(!ei.Guard.isElementNode(this.node))throw new Error("An attribute can only be assigned to an element node.");var yi=this.node;mi=(fi=Ye(this._extractNamespace(mi,pi,!1),2))[0],pi=fi[1],pi=ii.sanitizeInput(pi,this._options.invalidCharReplacement),mi=ii.sanitizeInput(mi,this._options.invalidCharReplacement),wi=ii.sanitizeInput(wi,this._options.invalidCharReplacement);var Ai=Ye(ti.namespace_extractQName(pi),2),Si=Ai[0],ki=Ai[1],Li=Ye(ti.namespace_extractQName(yi.prefix?yi.prefix+":"+yi.localName:yi.localName),1)[0],Bi=null;return Si==="xmlns"?(mi=ri.namespace.XMLNS,yi.namespaceURI===null&&Li===ki&&(Bi=wi)):Si===null&&ki==="xmlns"&&Li===null&&(mi=ri.namespace.XMLNS,Bi=wi),Bi!==null&&(this._updateNamespace(Bi),yi=this.node),mi!==void 0?yi.setAttributeNS(mi,pi,wi):yi.setAttribute(pi,wi),this},ai.prototype.removeAtt=function(oi,ni){var ci,hi,di=this;if(!ei.Guard.isElementNode(this.node))throw new Error("An attribute can only be removed from an element node.");if(oi=Qe.getValue(oi),ni!==void 0&&(ni=Qe.getValue(ni)),oi!==null&&ni===void 0)hi=oi;else{if(oi!==null&&!Qe.isString(oi)||ni===void 0)throw new Error("Attribute namespace must be a string. "+this._debugInfo());ci=oi,hi=ni}return Qe.isArray(hi)||Qe.isSet(hi)?Qe.forEachArray(hi,function(fi){return ci===void 0?di.removeAtt(fi):di.removeAtt(ci,fi)},this):ci!==void 0?(hi=ii.sanitizeInput(hi,this._options.invalidCharReplacement),ci=ii.sanitizeInput(ci,this._options.invalidCharReplacement),this.node.removeAttributeNS(ci,hi)):(hi=ii.sanitizeInput(hi,this._options.invalidCharReplacement),this.node.removeAttribute(hi)),this},ai.prototype.txt=function(oi){if(oi==null){if(!this._options.keepNullNodes)return this;oi=""}var ni=this._doc.createTextNode(ii.sanitizeInput(oi,this._options.invalidCharReplacement));return this.node.appendChild(ni),this},ai.prototype.com=function(oi){if(oi==null){if(!this._options.keepNullNodes)return this;oi=""}var ni=this._doc.createComment(ii.sanitizeInput(oi,this._options.invalidCharReplacement));return this.node.appendChild(ni),this},ai.prototype.dat=function(oi){if(oi==null){if(!this._options.keepNullNodes)return this;oi=""}var ni=this._doc.createCDATASection(ii.sanitizeInput(oi,this._options.invalidCharReplacement));return this.node.appendChild(ni),this},ai.prototype.ins=function(oi,ni){var ci=this;if(ni===void 0&&(ni=""),ni==null){if(!this._options.keepNullNodes)return this;ni=""}if(Qe.isArray(oi)||Qe.isSet(oi))Qe.forEachArray(oi,function(di){var fi=(di+="").indexOf(" "),mi=fi===-1?di:di.substr(0,fi),pi=fi===-1?"":di.substr(fi+1);ci.ins(mi,pi)},this);else if(Qe.isMap(oi)||Qe.isObject(oi))Qe.forEachObject(oi,function(di,fi){return ci.ins(di,fi)},this);else{var hi=this._doc.createProcessingInstruction(ii.sanitizeInput(oi,this._options.invalidCharReplacement),ii.sanitizeInput(ni,this._options.invalidCharReplacement));this.node.appendChild(hi)}return this},ai.prototype.dec=function(oi){return this._options.version=oi.version||"1.0",this._options.encoding=oi.encoding,this._options.standalone=oi.standalone,this},ai.prototype.dtd=function(oi){var ni=ii.sanitizeInput(oi&&oi.name||(this._doc.documentElement?this._doc.documentElement.tagName:"ROOT"),this._options.invalidCharReplacement),ci=ii.sanitizeInput(oi&&oi.pubID||"",this._options.invalidCharReplacement),hi=ii.sanitizeInput(oi&&oi.sysID||"",this._options.invalidCharReplacement);if(this._doc.documentElement!==null&&ni!==this._doc.documentElement.tagName)throw new Error("DocType name does not match document element name.");var di=this._doc.implementation.createDocumentType(ni,ci,hi);return this._doc.doctype!==null?this._doc.replaceChild(di,this._doc.doctype):this._doc.insertBefore(di,this._doc.documentElement),this},ai.prototype.import=function(oi){var ni,ci,hi=this._domNode,di=this._doc,fi=oi.node;if(ei.Guard.isDocumentNode(fi)){var mi=fi.documentElement;if(mi===null)throw new Error("Imported document has no document element node. "+this._debugInfo());var pi=di.importNode(mi,!0);hi.appendChild(pi);var wi=Ye(ti.namespace_extractQName(pi.prefix?pi.prefix+":"+pi.localName:pi.localName),1)[0],gi=hi.lookupNamespaceURI(wi);new ai(pi)._updateNamespace(gi)}else if(ei.Guard.isDocumentFragmentNode(fi))try{for(var yi=Ke(fi.childNodes),Ai=yi.next();!Ai.done;Ai=yi.next()){var Si=Ai.value;pi=di.importNode(Si,!0),hi.appendChild(pi),ei.Guard.isElementNode(pi)&&(wi=Ye(ti.namespace_extractQName(pi.prefix?pi.prefix+":"+pi.localName:pi.localName),1)[0],gi=hi.lookupNamespaceURI(wi),new ai(pi)._updateNamespace(gi))}}catch(ki){ni={error:ki}}finally{try{Ai&&!Ai.done&&(ci=yi.return)&&ci.call(yi)}finally{if(ni)throw ni.error}}else pi=di.importNode(fi,!0),hi.appendChild(pi),ei.Guard.isElementNode(pi)&&(wi=Ye(ti.namespace_extractQName(pi.prefix?pi.prefix+":"+pi.localName:pi.localName),1)[0],gi=hi.lookupNamespaceURI(wi),new ai(pi)._updateNamespace(gi));return this},ai.prototype.doc=function(){if(this._doc._isFragment){for(var oi=this.node;oi&&oi.nodeType!==St.NodeType.DocumentFragment;)oi=oi.parentNode;if(oi===null)throw new Error("Node has no parent node while searching for document fragment ancestor. "+this._debugInfo());return new ai(oi)}return new ai(this._doc)},ai.prototype.root=function(){var oi=this._doc.documentElement;if(!oi)throw new Error("Document root element is null. "+this._debugInfo());return new ai(oi)},ai.prototype.up=function(){var oi=this._domNode.parentNode;if(!oi)throw new Error("Parent node is null. "+this._debugInfo());return new ai(oi)},ai.prototype.prev=function(){var oi=this._domNode.previousSibling;if(!oi)throw new Error("Previous sibling node is null. "+this._debugInfo());return new ai(oi)},ai.prototype.next=function(){var oi=this._domNode.nextSibling;if(!oi)throw new Error("Next sibling node is null. "+this._debugInfo());return new ai(oi)},ai.prototype.first=function(){var oi=this._domNode.firstChild;if(!oi)throw new Error("First child node is null. "+this._debugInfo());return new ai(oi)},ai.prototype.last=function(){var oi=this._domNode.lastChild;if(!oi)throw new Error("Last child node is null. "+this._debugInfo());return new ai(oi)},ai.prototype.each=function(oi,ni,ci,hi){ni===void 0&&(ni=!1),ci===void 0&&(ci=!1);for(var di=this._getFirstDescendantNode(this._domNode,ni,ci);di[0];){var fi=this._getNextDescendantNode(this._domNode,di[0],ci,di[1],di[2]);oi.call(hi,new ai(di[0]),di[1],di[2]),di=fi}return this},ai.prototype.map=function(oi,ni,ci,hi){ni===void 0&&(ni=!1),ci===void 0&&(ci=!1);var di=[];return this.each(function(fi,mi,pi){return di.push(oi.call(hi,fi,mi,pi))},ni,ci),di},ai.prototype.reduce=function(oi,ni,ci,hi,di){ci===void 0&&(ci=!1),hi===void 0&&(hi=!1);var fi=ni;return this.each(function(mi,pi,wi){return fi=oi.call(di,fi,mi,pi,wi)},ci,hi),fi},ai.prototype.find=function(oi,ni,ci,hi){ni===void 0&&(ni=!1),ci===void 0&&(ci=!1);for(var di=this._getFirstDescendantNode(this._domNode,ni,ci);di[0];){var fi=new ai(di[0]);if(oi.call(hi,fi,di[1],di[2]))return fi;di=this._getNextDescendantNode(this._domNode,di[0],ci,di[1],di[2])}},ai.prototype.filter=function(oi,ni,ci,hi){ni===void 0&&(ni=!1),ci===void 0&&(ci=!1);var di=[];return this.each(function(fi,mi,pi){oi.call(hi,fi,mi,pi)&&di.push(fi)},ni,ci),di},ai.prototype.every=function(oi,ni,ci,hi){ni===void 0&&(ni=!1),ci===void 0&&(ci=!1);for(var di=this._getFirstDescendantNode(this._domNode,ni,ci);di[0];){var fi=new ai(di[0]);if(!oi.call(hi,fi,di[1],di[2]))return!1;di=this._getNextDescendantNode(this._domNode,di[0],ci,di[1],di[2])}return!0},ai.prototype.some=function(oi,ni,ci,hi){ni===void 0&&(ni=!1),ci===void 0&&(ci=!1);for(var di=this._getFirstDescendantNode(this._domNode,ni,ci);di[0];){var fi=new ai(di[0]);if(oi.call(hi,fi,di[1],di[2]))return!0;di=this._getNextDescendantNode(this._domNode,di[0],ci,di[1],di[2])}return!1},ai.prototype.toArray=function(oi,ni){oi===void 0&&(oi=!1),ni===void 0&&(ni=!1);var ci=[];return this.each(function(hi){return ci.push(hi)},oi,ni),ci},ai.prototype.toString=function(oi){return(oi=oi||{}).format===void 0&&(oi.format="xml"),this._serialize(oi)},ai.prototype.toObject=function(oi){return(oi=oi||{}).format===void 0&&(oi.format="object"),this._serialize(oi)},ai.prototype.end=function(oi){return(oi=oi||{}).format===void 0&&(oi.format="xml"),this.doc()._serialize(oi)},ai.prototype._getFirstDescendantNode=function(oi,ni,ci){return ni?[this._domNode,0,0]:ci?this._getNextDescendantNode(oi,oi,ci,0,0):[this._domNode.firstChild,0,1]},ai.prototype._getNextDescendantNode=function(oi,ni,ci,hi,di){if(!ci)return oi===ni?[ni.firstChild,0,di+1]:[ni.nextSibling,hi+1,di];if(ni.firstChild)return[ni.firstChild,0,di+1];if(ni===oi)return[null,-1,-1];if(ni.nextSibling)return[ni.nextSibling,hi+1,di];for(var fi=ni.parentNode;fi&&fi!==oi;){if(fi.nextSibling)return[fi.nextSibling,ti.tree_index(fi.nextSibling),di-1];fi=fi.parentNode,di--}return[null,-1,-1]},ai.prototype._serialize=function(oi){if(oi.format==="xml")return new Je.XMLWriter(this._options,oi).serialize(this.node);if(oi.format==="map")return new Je.MapWriter(this._options,oi).serialize(this.node);if(oi.format==="object")return new Je.ObjectWriter(this._options,oi).serialize(this.node);if(oi.format==="json")return new Je.JSONWriter(this._options,oi).serialize(this.node);if(oi.format==="yaml")return new Je.YAMLWriter(this._options,oi).serialize(this.node);throw new Error("Invalid writer format: "+oi.format+". "+this._debugInfo())},ai.prototype._extractNamespace=function(oi,ni,ci){var hi=ni.indexOf("@");if(hi>0&&(oi===void 0&&(oi=ni.slice(hi+1)),ni=ni.slice(0,hi)),oi===void 0)oi=ci?this._options.defaultNamespace.ele:this._options.defaultNamespace.att;else if(oi!==null&&oi[0]==="@"){var di=oi.slice(1);if((oi=this._options.namespaceAlias[di])===void 0)throw new Error("Namespace alias `"+di+"` is not defined. "+this._debugInfo())}return[oi,ni]},ai.prototype._updateNamespace=function(oi){var ni,ci,hi,di,fi=this._domNode;if(ei.Guard.isElementNode(fi)&&oi!==null&&fi.namespaceURI!==oi){var mi=Ye(ti.namespace_extractQName(fi.prefix?fi.prefix+":"+fi.localName:fi.localName),2),pi=mi[0],wi=mi[1],gi=ti.create_element(this._doc,wi,oi,pi);try{for(var yi=Ke(fi.attributes),Ai=yi.next();!Ai.done;Ai=yi.next()){var Si=Ai.value,ki=Si.prefix?Si.prefix+":"+Si.localName:Si.localName,Li=Ye(ti.namespace_extractQName(ki),1)[0],Bi=Si.namespaceURI;Bi===null&&Li!==null&&(Bi=fi.lookupNamespaceURI(Li)),Bi===null?gi.setAttribute(ki,Si.value):gi.setAttributeNS(Bi,ki,Si.value)}}catch(Ui){ni={error:Ui}}finally{try{Ai&&!Ai.done&&(ci=yi.return)&&ci.call(yi)}finally{if(ni)throw ni.error}}var Pi=fi.parentNode;if(Pi===null)throw new Error("Parent node is null."+this._debugInfo());Pi.replaceChild(gi,fi),this._domNode=gi;try{for(var Ri=Ke(fi.childNodes),Fi=Ri.next();!Fi.done;Fi=Ri.next()){var Gi=Fi.value.cloneNode(!0);if(gi.appendChild(Gi),ei.Guard.isElementNode(Gi)){var Ti=Ye(ti.namespace_extractQName(Gi.prefix?Gi.prefix+":"+Gi.localName:Gi.localName),1)[0],Vi=gi.lookupNamespaceURI(Ti);new ai(Gi)._updateNamespace(Vi)}}}catch(Ui){hi={error:Ui}}finally{try{Fi&&!Fi.done&&(di=Ri.return)&&di.call(Ri)}finally{if(hi)throw hi.error}}}},Object.defineProperty(ai.prototype,"_doc",{get:function(){var oi=this.node;if(ei.Guard.isDocumentNode(oi))return oi;var ni=oi.ownerDocument;if(!ni)throw new Error("Owner document is null. "+this._debugInfo());return ni},enumerable:!0,configurable:!0}),ai.prototype._debugInfo=function(oi){var ni=this.node,ci=ni.parentNode;oi=oi||ni.nodeName;var hi=ci?ci.nodeName:"";return hi?"node: <"+oi+">, parent: <"+hi+">":"node: <"+oi+">"},Object.defineProperty(ai.prototype,"_options",{get:function(){var oi=this._doc;if(oi._xmlBuilderOptions===void 0)throw new Error("Builder options is not set.");return oi._xmlBuilderOptions},set:function(oi){this._doc._xmlBuilderOptions=oi},enumerable:!0,configurable:!0}),ai}();qe.XMLBuilderImpl=ui},function(ze,qe,Xe){var Ye=Xe(11),Ke=Xe(117),Ze=Ye.WeakMap;ze.exports=typeof Ze=="function"&&/native code/.test(Ke(Ze))},function(ze,qe,Xe){var Ye=Xe(46),Ke=Xe(82),Ze=Xe(85),Qe=Xe(18);ze.exports=Ye("Reflect","ownKeys")||function(Je){var St=Ke.f(Qe(Je)),ei=Ze.f;return ei?St.concat(ei(Je)):St}},function(ze,qe,Xe){var Ye=Xe(16),Ke=Xe(15),Ze=Xe(18),Qe=Xe(61);ze.exports=Ye?Object.defineProperties:function(Je,St){Ze(Je);for(var ei,ti=Qe(St),ii=ti.length,ri=0;ii>ri;)Ke.f(Je,ei=ti[ri++],St[ei]);return Je}},function(ze,qe,Xe){var Ye=Xe(46);ze.exports=Ye("document","documentElement")},function(ze,qe,Xe){var Ye=Xe(24),Ke=Xe(82).f,Ze={}.toString,Qe=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];ze.exports.f=function(Je){return Qe&&Ze.call(Je)=="[object Window]"?function(St){try{return Ke(St)}catch{return Qe.slice()}}(Je):Ke(Ye(Je))}},function(ze,qe,Xe){var Ye=Xe(4),Ke=Xe(36).every,Ze=Xe(48),Qe=Xe(28),Je=Ze("every"),St=Qe("every");Ye({target:"Array",proto:!0,forced:!Je||!St},{every:function(ei){return Ke(this,ei,arguments.length>1?arguments[1]:void 0)}})},function(ze,qe,Xe){var Ye=Xe(4),Ke=Xe(36).filter,Ze=Xe(63),Qe=Xe(28),Je=Ze("filter"),St=Qe("filter");Ye({target:"Array",proto:!0,forced:!Je||!St},{filter:function(ei){return Ke(this,ei,arguments.length>1?arguments[1]:void 0)}})},function(ze,qe,Xe){var Ye=Xe(46);ze.exports=Ye("navigator","userAgent")||""},function(ze,qe,Xe){var Ye=Xe(4),Ke=Xe(36).find,Ze=Xe(130),Qe=Xe(28),Je=!0,St=Qe("find");"find"in[]&&Array(1).find(function(){Je=!1}),Ye({target:"Array",proto:!0,forced:Je||!St},{find:function(ei){return Ke(this,ei,arguments.length>1?arguments[1]:void 0)}}),Ze("find")},function(ze,qe,Xe){var Ye=Xe(131).IteratorPrototype,Ke=Xe(60),Ze=Xe(40),Qe=Xe(62),Je=Xe(49),St=function(){return this};ze.exports=function(ei,ti,ii){var ri=ti+" Iterator";return ei.prototype=Ke(Ye,{next:Ze(1,ii)}),Qe(ei,ri,!1,!0),Je[ri]=St,ei}},function(ze,qe,Xe){var Ye=Xe(8);ze.exports=!Ye(function(){function Ke(){}return Ke.prototype.constructor=null,Object.getPrototypeOf(new Ke)!==Ke.prototype})},function(ze,qe,Xe){var Ye=Xe(13);ze.exports=function(Ke){if(!Ye(Ke)&&Ke!==null)throw TypeError("Can't set "+String(Ke)+" as a prototype");return Ke}},function(ze,qe,Xe){var Ye=Xe(4),Ke=Xe(36).map,Ze=Xe(63),Qe=Xe(28),Je=Ze("map"),St=Qe("map");Ye({target:"Array",proto:!0,forced:!Je||!St},{map:function(ei){return Ke(this,ei,arguments.length>1?arguments[1]:void 0)}})},function(ze,qe,Xe){var Ye=Xe(4),Ke=Xe(200).left,Ze=Xe(48),Qe=Xe(28),Je=Ze("reduce"),St=Qe("reduce",{1:0});Ye({target:"Array",proto:!0,forced:!Je||!St},{reduce:function(ei){return Ke(this,ei,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(ze,qe,Xe){var Ye=Xe(127),Ke=Xe(27),Ze=Xe(41),Qe=Xe(26),Je=function(St){return function(ei,ti,ii,ri){Ye(ti);var si=Ke(ei),ui=Ze(si),ai=Qe(si.length),oi=St?ai-1:0,ni=St?-1:1;if(ii<2)for(;;){if(oi in ui){ri=ui[oi],oi+=ni;break}if(oi+=ni,St?oi<0:ai<=oi)throw TypeError("Reduce of empty array with no initial value")}for(;St?oi>=0:ai>oi;oi+=ni)oi in ui&&(ri=ti(ri,ui[oi],oi,si));return ri}};ze.exports={left:Je(!1),right:Je(!0)}},function(ze,qe,Xe){var Ye=Xe(4),Ke=Xe(36).some,Ze=Xe(48),Qe=Xe(28),Je=Ze("some"),St=Qe("some");Ye({target:"Array",proto:!0,forced:!Je||!St},{some:function(ei){return Ke(this,ei,arguments.length>1?arguments[1]:void 0)}})},function(ze,qe,Xe){var Ye=Xe(90),Ke=Xe(135);ze.exports=Ye?{}.toString:function(){return"[object "+Ke(this)+"]"}},function(ze,qe){ze.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(ze,qe,Xe){var Ye=Xe(8);ze.exports=!Ye(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(ze,qe,Xe){var Ye=Xe(5),Ke=Xe(49),Ze=Ye("iterator"),Qe=Array.prototype;ze.exports=function(Je){return Je!==void 0&&(Ke.Array===Je||Qe[Ze]===Je)}},function(ze,qe,Xe){var Ye=Xe(135),Ke=Xe(49),Ze=Xe(5)("iterator");ze.exports=function(Qe){if(Qe!=null)return Qe[Ze]||Qe["@@iterator"]||Ke[Ye(Qe)]}},function(ze,qe,Xe){var Ye=Xe(18);ze.exports=function(Ke,Ze,Qe,Je){try{return Je?Ze(Ye(Qe)[0],Qe[1]):Ze(Qe)}catch(ei){var St=Ke.return;throw St!==void 0&&Ye(St.call(Ke)),ei}}},function(ze,qe,Xe){var Ye=Xe(5)("iterator"),Ke=!1;try{var Ze=0,Qe={next:function(){return{done:!!Ze++}},return:function(){Ke=!0}};Qe[Ye]=function(){return this},Array.from(Qe,function(){throw 2})}catch{}ze.exports=function(Je,St){if(!St&&!Ke)return!1;var ei=!1;try{var ti={};ti[Ye]=function(){return{next:function(){return{done:ei=!0}}}},Je(ti)}catch{}return ei}},function(ze,qe,Xe){var Ye=Xe(13),Ke=Xe(133);ze.exports=function(Ze,Qe,Je){var St,ei;return Ke&&typeof(St=Qe.constructor)=="function"&&St!==Je&&Ye(ei=St.prototype)&&ei!==Je.prototype&&Ke(Ze,ei),Ze}},function(ze,qe,Xe){var Ye=Xe(25);ze.exports=function(Ke,Ze,Qe){for(var Je in Ze)Ye(Ke,Je,Ze[Je],Qe);return Ke}},function(ze,qe,Xe){var Ye=Xe(46),Ke=Xe(15),Ze=Xe(5),Qe=Xe(16),Je=Ze("species");ze.exports=function(St){var ei=Ye(St),ti=Ke.f;Qe&&ei&&!ei[Je]&&ti(ei,Je,{configurable:!0,get:function(){return this}})}},function(ze,qe,Xe){var Ye=this&&this.__generator||function(Qe,Je){var St,ei,ti,ii,ri={label:0,sent:function(){if(1&ti[0])throw ti[1];return ti[1]},trys:[],ops:[]};return ii={next:si(0),throw:si(1),return:si(2)},typeof Symbol=="function"&&(ii[Symbol.iterator]=function(){return this}),ii;function si(ui){return function(ai){return function(oi){if(St)throw new TypeError("Generator is already executing.");for(;ri;)try{if(St=1,ei&&(ti=2&oi[0]?ei.return:oi[0]?ei.throw||((ti=ei.return)&&ti.call(ei),0):ei.next)&&!(ti=ti.call(ei,oi[1])).done)return ti;switch(ei=0,ti&&(oi=[2&oi[0],ti.value]),oi[0]){case 0:case 1:ti=oi;break;case 4:return ri.label++,{value:oi[1],done:!1};case 5:ri.label++,ei=oi[1],oi=[0];continue;case 7:oi=ri.ops.pop(),ri.trys.pop();continue;default:if(ti=ri.trys,!((ti=ti.length>0&&ti[ti.length-1])||oi[0]!==6&&oi[0]!==2)){ri=0;continue}if(oi[0]===3&&(!ti||oi[1]>ti[0]&&oi[1]<ti[3])){ri.label=oi[1];break}if(oi[0]===6&&ri.label<ti[1]){ri.label=ti[1],ti=oi;break}if(ti&&ri.label<ti[2]){ri.label=ti[2],ri.ops.push(oi);break}ti[2]&&ri.ops.pop(),ri.trys.pop();continue}oi=Je.call(Qe,ri)}catch(ni){oi=[6,ni],ei=0}finally{St=ti=0}if(5&oi[0])throw oi[1];return{value:oi[0]?oi[1]:void 0,done:!0}}([ui,ai])}}},Ke=this&&this.__values||function(Qe){var Je=typeof Symbol=="function"&&Symbol.iterator,St=Je&&Qe[Je],ei=0;if(St)return St.call(Qe);if(Qe&&typeof Qe.length=="number")return{next:function(){return Qe&&ei>=Qe.length&&(Qe=void 0),{value:Qe&&Qe[ei++],done:!Qe}}};throw new TypeError(Je?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(qe,"__esModule",{value:!0});var Ze=function(){function Qe(Je){Je===void 0&&(Je=1e3),this._items=new Set,this._limit=Je}return Qe.prototype.add=function(Je){if(this._items.add(Je),this._items.size>this._limit){var St=this._items.values().next();St.done||this._items.delete(St.value)}return this},Qe.prototype.delete=function(Je){return this._items.delete(Je)},Qe.prototype.has=function(Je){return this._items.has(Je)},Qe.prototype.clear=function(){this._items.clear()},Object.defineProperty(Qe.prototype,"size",{get:function(){return this._items.size},enumerable:!0,configurable:!0}),Qe.prototype.forEach=function(Je,St){var ei=this;this._items.forEach(function(ti){return Je.call(St,ti,ti,ei)})},Qe.prototype.keys=function(){return Ye(this,function(Je){switch(Je.label){case 0:return[5,Ke(this._items.keys())];case 1:return Je.sent(),[2]}})},Qe.prototype.values=function(){return Ye(this,function(Je){switch(Je.label){case 0:return[5,Ke(this._items.values())];case 1:return Je.sent(),[2]}})},Qe.prototype.entries=function(){return Ye(this,function(Je){switch(Je.label){case 0:return[5,Ke(this._items.entries())];case 1:return Je.sent(),[2]}})},Qe.prototype[Symbol.iterator]=function(){return Ye(this,function(Je){switch(Je.label){case 0:return[5,Ke(this._items)];case 1:return Je.sent(),[2]}})},Object.defineProperty(Qe.prototype,Symbol.toStringTag,{get:function(){return"FixedSizeSet"},enumerable:!0,configurable:!0}),Qe}();qe.FixedSizeSet=Ze},function(ze,qe,Xe){var Ye=this&&this.__generator||function(Qe,Je){var St,ei,ti,ii,ri={label:0,sent:function(){if(1&ti[0])throw ti[1];return ti[1]},trys:[],ops:[]};return ii={next:si(0),throw:si(1),return:si(2)},typeof Symbol=="function"&&(ii[Symbol.iterator]=function(){return this}),ii;function si(ui){return function(ai){return function(oi){if(St)throw new TypeError("Generator is already executing.");for(;ri;)try{if(St=1,ei&&(ti=2&oi[0]?ei.return:oi[0]?ei.throw||((ti=ei.return)&&ti.call(ei),0):ei.next)&&!(ti=ti.call(ei,oi[1])).done)return ti;switch(ei=0,ti&&(oi=[2&oi[0],ti.value]),oi[0]){case 0:case 1:ti=oi;break;case 4:return ri.label++,{value:oi[1],done:!1};case 5:ri.label++,ei=oi[1],oi=[0];continue;case 7:oi=ri.ops.pop(),ri.trys.pop();continue;default:if(ti=ri.trys,!((ti=ti.length>0&&ti[ti.length-1])||oi[0]!==6&&oi[0]!==2)){ri=0;continue}if(oi[0]===3&&(!ti||oi[1]>ti[0]&&oi[1]<ti[3])){ri.label=oi[1];break}if(oi[0]===6&&ri.label<ti[1]){ri.label=ti[1],ti=oi;break}if(ti&&ri.label<ti[2]){ri.label=ti[2],ri.ops.push(oi);break}ti[2]&&ri.ops.pop(),ri.trys.pop();continue}oi=Je.call(Qe,ri)}catch(ni){oi=[6,ni],ei=0}finally{St=ti=0}if(5&oi[0])throw oi[1];return{value:oi[0]?oi[1]:void 0,done:!0}}([ui,ai])}}},Ke=this&&this.__values||function(Qe){var Je=typeof Symbol=="function"&&Symbol.iterator,St=Je&&Qe[Je],ei=0;if(St)return St.call(Qe);if(Qe&&typeof Qe.length=="number")return{next:function(){return Qe&&ei>=Qe.length&&(Qe=void 0),{value:Qe&&Qe[ei++],done:!Qe}}};throw new TypeError(Je?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(qe,"__esModule",{value:!0});var Ze=function(){function Qe(Je){Je===void 0&&(Je=1e3),this._items=new Map,this._limit=Je}return Qe.prototype.get=function(Je){return this._items.get(Je)},Qe.prototype.set=function(Je,St){if(this._items.set(Je,St),this._items.size>this._limit){var ei=this._items.keys().next();ei.done||this._items.delete(ei.value)}},Qe.prototype.delete=function(Je){return this._items.delete(Je)},Qe.prototype.has=function(Je){return this._items.has(Je)},Qe.prototype.clear=function(){this._items.clear()},Object.defineProperty(Qe.prototype,"size",{get:function(){return this._items.size},enumerable:!0,configurable:!0}),Qe.prototype.forEach=function(Je,St){this._items.forEach(function(ei,ti){return Je.call(St,ti,ei)})},Qe.prototype.keys=function(){return Ye(this,function(Je){switch(Je.label){case 0:return[5,Ke(this._items.keys())];case 1:return Je.sent(),[2]}})},Qe.prototype.values=function(){return Ye(this,function(Je){switch(Je.label){case 0:return[5,Ke(this._items.values())];case 1:return Je.sent(),[2]}})},Qe.prototype.entries=function(){return Ye(this,function(Je){switch(Je.label){case 0:return[5,Ke(this._items.entries())];case 1:return Je.sent(),[2]}})},Qe.prototype[Symbol.iterator]=function(){return Ye(this,function(Je){switch(Je.label){case 0:return[5,Ke(this._items)];case 1:return Je.sent(),[2]}})},Object.defineProperty(Qe.prototype,Symbol.toStringTag,{get:function(){return"ObjectCache"},enumerable:!0,configurable:!0}),Qe}();qe.ObjectCache=Ze},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=function(){function Ke(Ze){Ze===void 0&&(Ze=1e3),this._items=new Map,this._limit=Ze}return Ke.prototype.check=function(Ze,Qe){if(this._items.get(Ze)===Qe)return!0;if(this._items.get(Qe)===Ze)return!1;var Je=Math.random()<.5;if(Je?this._items.set(Ze,Qe):this._items.set(Qe,Ze),this._items.size>this._limit){var St=this._items.keys().next();St.done||this._items.delete(St.value)}return Je},Ke}();qe.CompareCache=Ye},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=function(){function Ke(Ze){this._initialized=!1,this._value=void 0,this._initFunc=Ze}return Object.defineProperty(Ke.prototype,"value",{get:function(){return this._initialized||(this._value=this._initFunc(),this._initialized=!0),this._value},enumerable:!0,configurable:!0}),Ke}();qe.Lazy=Ye},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=function(){function Ke(Ze){this._pointer=0,this._chars=Array.from(Ze),this._length=this._chars.length}return Object.defineProperty(Ke.prototype,"eof",{get:function(){return this._pointer>=this._length},enumerable:!0,configurable:!0}),Object.defineProperty(Ke.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),Ke.prototype.codePoint=function(){if(this._codePoint===void 0)if(this.eof)this._codePoint=-1;else{var Ze=this._chars[this._pointer].codePointAt(0);this._codePoint=Ze!==void 0?Ze:-1}return this._codePoint},Ke.prototype.c=function(){return this._c===void 0&&(this._c=this.eof?"":this._chars[this._pointer]),this._c},Ke.prototype.remaining=function(){return this._remaining===void 0&&(this._remaining=this.eof?"":this._chars.slice(this._pointer+1).join("")),this._remaining},Ke.prototype.substring=function(){return this._substring===void 0&&(this._substring=this.eof?"":this._chars.slice(this._pointer).join("")),this._substring},Object.defineProperty(Ke.prototype,"pointer",{get:function(){return this._pointer},set:function(Ze){Ze!==this._pointer&&(this._pointer=Ze,this._codePoint=void 0,this._c=void 0,this._remaining=void 0,this._substring=void 0)},enumerable:!0,configurable:!0}),Ke}();qe.StringWalker=Ye},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=Xe(218);qe.MapWriter=Ye.MapWriter;var Ke=Xe(259);qe.XMLWriter=Ke.XMLWriter;var Ze=Xe(67);qe.ObjectWriter=Ze.ObjectWriter;var Qe=Xe(261);qe.JSONWriter=Qe.JSONWriter;var Je=Xe(262);qe.YAMLWriter=Je.YAMLWriter},function(ze,qe,Xe){Xe(19),Xe(219),Xe(20),Xe(22),Xe(23);var Ye,Ke=this&&this.__extends||(Ye=function(St,ei){return(Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ti,ii){ti.__proto__=ii}||function(ti,ii){for(var ri in ii)ii.hasOwnProperty(ri)&&(ti[ri]=ii[ri])})(St,ei)},function(St,ei){function ti(){this.constructor=St}Ye(St,ei),St.prototype=ei===null?Object.create(ei):(ti.prototype=ei.prototype,new ti)});Object.defineProperty(qe,"__esModule",{value:!0});var Ze=Xe(2),Qe=Xe(67),Je=function(St){function ei(ti,ii){var ri=St.call(this,ti)||this;return ri._writerOptions=Ze.applyDefaults(ii,{format:"map",wellFormed:!1,group:!1,verbose:!1}),ri}return Ke(ei,St),ei.prototype.serialize=function(ti){var ii=Ze.applyDefaults(this._writerOptions,{format:"object",wellFormed:!1,verbose:!1}),ri=new Qe.ObjectWriter(this._builderOptions,ii).serialize(ti);return this._convertObject(ri)},ei.prototype._convertObject=function(ti){if(Ze.isArray(ti)){for(var ii=0;ii<ti.length;ii++)ti[ii]=this._convertObject(ti[ii]);return ti}if(Ze.isObject(ti)){var ri=new Map;for(var si in ti)ri.set(si,this._convertObject(ti[si]));return ri}return ti},ei}(Xe(50).BaseWriter);qe.MapWriter=Je},function(ze,qe,Xe){var Ye=Xe(139),Ke=Xe(143);ze.exports=Ye("Map",function(Ze){return function(){return Ze(this,arguments.length?arguments[0]:void 0)}},Ke)},function(ze,qe,Xe){var Ye=Xe(4),Ke=Xe(8),Ze=Xe(59),Qe=Xe(13),Je=Xe(27),St=Xe(26),ei=Xe(134),ti=Xe(128),ii=Xe(63),ri=Xe(5),si=Xe(129),ui=ri("isConcatSpreadable"),ai=si>=51||!Ke(function(){var ci=[];return ci[ui]=!1,ci.concat()[0]!==ci}),oi=ii("concat"),ni=function(ci){if(!Qe(ci))return!1;var hi=ci[ui];return hi!==void 0?!!hi:Ze(ci)};Ye({target:"Array",proto:!0,forced:!ai||!oi},{concat:function(ci){var hi,di,fi,mi,pi,wi=Je(this),gi=ti(wi,0),yi=0;for(hi=-1,fi=arguments.length;hi<fi;hi++)if(ni(pi=hi===-1?wi:arguments[hi])){if(yi+(mi=St(pi.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(di=0;di<mi;di++,yi++)di in pi&&ei(gi,yi,pi[di])}else{if(yi>=9007199254740991)throw TypeError("Maximum allowed index exceeded");ei(gi,yi++,pi)}return gi.length=yi,gi}})},function(ze,qe,Xe){var Ye=Xe(8);function Ke(Ze,Qe){return RegExp(Ze,Qe)}qe.UNSUPPORTED_Y=Ye(function(){var Ze=Ke("a","y");return Ze.lastIndex=2,Ze.exec("abcd")!=null}),qe.BROKEN_CARET=Ye(function(){var Ze=Ke("^r","gy");return Ze.lastIndex=2,Ze.exec("str")!=null})},function(ze,qe,Xe){var Ye=Xe(223);ze.exports=function(Ke){if(Ye(Ke))throw TypeError("The method doesn't accept regular expressions");return Ke}},function(ze,qe,Xe){var Ye=Xe(13),Ke=Xe(42),Ze=Xe(5)("match");ze.exports=function(Qe){var Je;return Ye(Qe)&&((Je=Qe[Ze])!==void 0?!!Je:Ke(Qe)=="RegExp")}},function(ze,qe,Xe){var Ye=Xe(5)("match");ze.exports=function(Ke){var Ze=/./;try{"/./"[Ke](Ze)}catch{try{return Ze[Ye]=!1,"/./"[Ke](Ze)}catch{}}return!1}},function(ze,qe,Xe){Xe(68);var Ye=Xe(25),Ke=Xe(8),Ze=Xe(5),Qe=Xe(93),Je=Xe(21),St=Ze("species"),ei=!Ke(function(){var ui=/./;return ui.exec=function(){var ai=[];return ai.groups={a:"7"},ai},"".replace(ui,"$<a>")!=="7"}),ti="a".replace(/./,"$0")==="$0",ii=Ze("replace"),ri=!!/./[ii]&&/./[ii]("a","$0")==="",si=!Ke(function(){var ui=/(?:)/,ai=ui.exec;ui.exec=function(){return ai.apply(this,arguments)};var oi="ab".split(ui);return oi.length!==2||oi[0]!=="a"||oi[1]!=="b"});ze.exports=function(ui,ai,oi,ni){var ci=Ze(ui),hi=!Ke(function(){var gi={};return gi[ci]=function(){return 7},""[ui](gi)!=7}),di=hi&&!Ke(function(){var gi=!1,yi=/a/;return ui==="split"&&((yi={}).constructor={},yi.constructor[St]=function(){return yi},yi.flags="",yi[ci]=/./[ci]),yi.exec=function(){return gi=!0,null},yi[ci](""),!gi});if(!hi||!di||ui==="replace"&&(!ei||!ti||ri)||ui==="split"&&!si){var fi=/./[ci],mi=oi(ci,""[ui],function(gi,yi,Ai,Si,ki){return yi.exec===Qe?hi&&!ki?{done:!0,value:fi.call(yi,Ai,Si)}:{done:!0,value:gi.call(Ai,yi,Si)}:{done:!1}},{REPLACE_KEEPS_$0:ti,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:ri}),pi=mi[0],wi=mi[1];Ye(String.prototype,ui,pi),Ye(RegExp.prototype,ci,ai==2?function(gi,yi){return wi.call(gi,this,yi)}:function(gi){return wi.call(gi,this)})}ni&&Je(RegExp.prototype[ci],"sham",!0)}},function(ze,qe,Xe){var Ye=Xe(137).charAt;ze.exports=function(Ke,Ze,Qe){return Ze+(Qe?Ye(Ke,Ze).length:1)}},function(ze,qe,Xe){var Ye=Xe(42),Ke=Xe(93);ze.exports=function(Ze,Qe){var Je=Ze.exec;if(typeof Je=="function"){var St=Je.call(Ze,Qe);if(typeof St!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return St}if(Ye(Ze)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return Ke.call(Ze,Qe)}},function(ze,qe,Xe){(function(Ye){Object.defineProperty(qe,"__esModule",{value:!0});var Ke=Xe(96);qe.forgivingBase64Encode=function(Ze){return Ye.from(Ze).toString("base64")},qe.forgivingBase64Decode=function(Ze){return Ze===""?"":((Ze=Ze.replace(Ke.ASCIIWhiteSpace,"")).length%4==0&&(Ze.endsWith("==")?Ze=Ze.substr(0,Ze.length-2):Ze.endsWith("=")&&(Ze=Ze.substr(0,Ze.length-1))),Ze.length%4==1?null:/[0-9A-Za-z+/]/.test(Ze)?Ye.from(Ze,"base64").toString("utf8"):null)}}).call(this,Xe(145).Buffer)},function(ze,qe,Xe){qe.byteLength=function(ii){var ri=ei(ii),si=ri[0],ui=ri[1];return 3*(si+ui)/4-ui},qe.toByteArray=function(ii){var ri,si,ui=ei(ii),ai=ui[0],oi=ui[1],ni=new Ze(function(di,fi,mi){return 3*(fi+mi)/4-mi}(0,ai,oi)),ci=0,hi=oi>0?ai-4:ai;for(si=0;si<hi;si+=4)ri=Ke[ii.charCodeAt(si)]<<18|Ke[ii.charCodeAt(si+1)]<<12|Ke[ii.charCodeAt(si+2)]<<6|Ke[ii.charCodeAt(si+3)],ni[ci++]=ri>>16&255,ni[ci++]=ri>>8&255,ni[ci++]=255&ri;return oi===2&&(ri=Ke[ii.charCodeAt(si)]<<2|Ke[ii.charCodeAt(si+1)]>>4,ni[ci++]=255&ri),oi===1&&(ri=Ke[ii.charCodeAt(si)]<<10|Ke[ii.charCodeAt(si+1)]<<4|Ke[ii.charCodeAt(si+2)]>>2,ni[ci++]=ri>>8&255,ni[ci++]=255&ri),ni},qe.fromByteArray=function(ii){for(var ri,si=ii.length,ui=si%3,ai=[],oi=0,ni=si-ui;oi<ni;oi+=16383)ai.push(ti(ii,oi,oi+16383>ni?ni:oi+16383));return ui===1?(ri=ii[si-1],ai.push(Ye[ri>>2]+Ye[ri<<4&63]+"==")):ui===2&&(ri=(ii[si-2]<<8)+ii[si-1],ai.push(Ye[ri>>10]+Ye[ri>>4&63]+Ye[ri<<2&63]+"=")),ai.join("")};for(var Ye=[],Ke=[],Ze=typeof Uint8Array<"u"?Uint8Array:Array,Qe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Je=0,St=Qe.length;Je<St;++Je)Ye[Je]=Qe[Je],Ke[Qe.charCodeAt(Je)]=Je;function ei(ii){var ri=ii.length;if(ri%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var si=ii.indexOf("=");return si===-1&&(si=ri),[si,si===ri?0:4-si%4]}function ti(ii,ri,si){for(var ui,ai,oi=[],ni=ri;ni<si;ni+=3)ui=(ii[ni]<<16&16711680)+(ii[ni+1]<<8&65280)+(255&ii[ni+2]),oi.push(Ye[(ai=ui)>>18&63]+Ye[ai>>12&63]+Ye[ai>>6&63]+Ye[63&ai]);return oi.join("")}Ke[45]=62,Ke[95]=63},function(ze,qe){qe.read=function(Xe,Ye,Ke,Ze,Qe){var Je,St,ei=8*Qe-Ze-1,ti=(1<<ei)-1,ii=ti>>1,ri=-7,si=Ke?Qe-1:0,ui=Ke?-1:1,ai=Xe[Ye+si];for(si+=ui,Je=ai&(1<<-ri)-1,ai>>=-ri,ri+=ei;ri>0;Je=256*Je+Xe[Ye+si],si+=ui,ri-=8);for(St=Je&(1<<-ri)-1,Je>>=-ri,ri+=Ze;ri>0;St=256*St+Xe[Ye+si],si+=ui,ri-=8);if(Je===0)Je=1-ii;else{if(Je===ti)return St?NaN:1/0*(ai?-1:1);St+=Math.pow(2,Ze),Je-=ii}return(ai?-1:1)*St*Math.pow(2,Je-Ze)},qe.write=function(Xe,Ye,Ke,Ze,Qe,Je){var St,ei,ti,ii=8*Je-Qe-1,ri=(1<<ii)-1,si=ri>>1,ui=Qe===23?Math.pow(2,-24)-Math.pow(2,-77):0,ai=Ze?0:Je-1,oi=Ze?1:-1,ni=Ye<0||Ye===0&&1/Ye<0?1:0;for(Ye=Math.abs(Ye),isNaN(Ye)||Ye===1/0?(ei=isNaN(Ye)?1:0,St=ri):(St=Math.floor(Math.log(Ye)/Math.LN2),Ye*(ti=Math.pow(2,-St))<1&&(St--,ti*=2),(Ye+=St+si>=1?ui/ti:ui*Math.pow(2,1-si))*ti>=2&&(St++,ti/=2),St+si>=ri?(ei=0,St=ri):St+si>=1?(ei=(Ye*ti-1)*Math.pow(2,Qe),St+=si):(ei=Ye*Math.pow(2,si-1)*Math.pow(2,Qe),St=0));Qe>=8;Xe[Ke+ai]=255&ei,ai+=oi,ei/=256,Qe-=8);for(St=St<<Qe|ei,ii+=Qe;ii>0;Xe[Ke+ai]=255&St,ai+=oi,St/=256,ii-=8);Xe[Ke+ai-oi]|=128*ni}},function(ze,qe){var Xe={}.toString;ze.exports=Array.isArray||function(Ye){return Xe.call(Ye)=="[object Array]"}},function(ze,qe,Xe){var Ye=this&&this.__values||function(Qe){var Je=typeof Symbol=="function"&&Symbol.iterator,St=Je&&Qe[Je],ei=0;if(St)return St.call(Qe);if(Qe&&typeof Qe.length=="number")return{next:function(){return Qe&&ei>=Qe.length&&(Qe=void 0),{value:Qe&&Qe[ei++],done:!Qe}}};throw new TypeError(Je?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(qe,"__esModule",{value:!0});var Ke=Xe(2);function Ze(Qe){var Je,St;if(Qe===null||Ke.isString(Qe)||Ke.isNumber(Qe))return Qe;if(Ke.isArray(Qe)){var ei=new Array;try{for(var ti=Ye(Qe),ii=ti.next();!ii.done;ii=ti.next()){var ri=ii.value;ei.push(Ze(ri))}}catch(ai){Je={error:ai}}finally{try{ii&&!ii.done&&(St=ti.return)&&St.call(ti)}finally{if(Je)throw Je.error}}return ei}if(Ke.isObject(Qe)){ei=new Map;for(var si in Qe)if(Qe.hasOwnProperty(si)){var ui=Qe[si];ei.set(si,Ze(ui))}return ei}return Qe}qe.parseJSONFromBytes=function(Qe){var Je=Ke.utf8Decode(Qe);return JSON.parse.call(void 0,Je)},qe.serializeJSONToBytes=function(Qe){var Je=JSON.stringify.call(void 0,Qe);return Ke.utf8Encode(Je)},qe.parseJSONIntoInfraValues=function(Qe){return Ze(JSON.parse.call(void 0,Qe))},qe.convertAJSONDerivedJavaScriptValueToAnInfraValue=Ze},function(ze,qe,Xe){var Ye=this&&this.__generator||function(St,ei){var ti,ii,ri,si,ui={label:0,sent:function(){if(1&ri[0])throw ri[1];return ri[1]},trys:[],ops:[]};return si={next:ai(0),throw:ai(1),return:ai(2)},typeof Symbol=="function"&&(si[Symbol.iterator]=function(){return this}),si;function ai(oi){return function(ni){return function(ci){if(ti)throw new TypeError("Generator is already executing.");for(;ui;)try{if(ti=1,ii&&(ri=2&ci[0]?ii.return:ci[0]?ii.throw||((ri=ii.return)&&ri.call(ii),0):ii.next)&&!(ri=ri.call(ii,ci[1])).done)return ri;switch(ii=0,ri&&(ci=[2&ci[0],ri.value]),ci[0]){case 0:case 1:ri=ci;break;case 4:return ui.label++,{value:ci[1],done:!1};case 5:ui.label++,ii=ci[1],ci=[0];continue;case 7:ci=ui.ops.pop(),ui.trys.pop();continue;default:if(ri=ui.trys,!((ri=ri.length>0&&ri[ri.length-1])||ci[0]!==6&&ci[0]!==2)){ui=0;continue}if(ci[0]===3&&(!ri||ci[1]>ri[0]&&ci[1]<ri[3])){ui.label=ci[1];break}if(ci[0]===6&&ui.label<ri[1]){ui.label=ri[1],ri=ci;break}if(ri&&ui.label<ri[2]){ui.label=ri[2],ui.ops.push(ci);break}ri[2]&&ui.ops.pop(),ui.trys.pop();continue}ci=ei.call(St,ui)}catch(hi){ci=[6,hi],ii=0}finally{ti=ri=0}if(5&ci[0])throw ci[1];return{value:ci[0]?ci[1]:void 0,done:!0}}([oi,ni])}}},Ke=this&&this.__read||function(St,ei){var ti=typeof Symbol=="function"&&St[Symbol.iterator];if(!ti)return St;var ii,ri,si=ti.call(St),ui=[];try{for(;(ei===void 0||ei-- >0)&&!(ii=si.next()).done;)ui.push(ii.value)}catch(ai){ri={error:ai}}finally{try{ii&&!ii.done&&(ti=si.return)&&ti.call(si)}finally{if(ri)throw ri.error}}return ui},Ze=this&&this.__spread||function(){for(var St=[],ei=0;ei<arguments.length;ei++)St=St.concat(Ke(arguments[ei]));return St},Qe=this&&this.__values||function(St){var ei=typeof Symbol=="function"&&Symbol.iterator,ti=ei&&St[ei],ii=0;if(ti)return ti.call(St);if(St&&typeof St.length=="number")return{next:function(){return St&&ii>=St.length&&(St=void 0),{value:St&&St[ii++],done:!St}}};throw new TypeError(ei?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(qe,"__esModule",{value:!0});var Je=Xe(2);qe.append=function(St,ei){St.push(ei)},qe.extend=function(St,ei){St.push.apply(St,Ze(ei))},qe.prepend=function(St,ei){St.unshift(ei)},qe.replace=function(St,ei,ti){var ii,ri,si=0;try{for(var ui=Qe(St),ai=ui.next();!ai.done;ai=ui.next()){var oi=ai.value;if(Je.isFunction(ei))ei.call(null,oi)&&(St[si]=ti);else if(oi===ei)return void(St[si]=ti);si++}}catch(ni){ii={error:ni}}finally{try{ai&&!ai.done&&(ri=ui.return)&&ri.call(ui)}finally{if(ii)throw ii.error}}},qe.insert=function(St,ei,ti){St.splice(ti,0,ei)},qe.remove=function(St,ei){for(var ti=St.length;ti--;){var ii=St[ti];if(Je.isFunction(ei))ei.call(null,ii)&&St.splice(ti,1);else if(ii===ei)return void St.splice(ti,1)}},qe.empty=function(St){St.length=0},qe.contains=function(St,ei){var ti,ii;try{for(var ri=Qe(St),si=ri.next();!si.done;si=ri.next()){var ui=si.value;if(Je.isFunction(ei)){if(ei.call(null,ui))return!0}else if(ui===ei)return!0}}catch(ai){ti={error:ai}}finally{try{si&&!si.done&&(ii=ri.return)&&ii.call(ri)}finally{if(ti)throw ti.error}}return!1},qe.size=function(St,ei){var ti,ii;if(ei===void 0)return St.length;var ri=0;try{for(var si=Qe(St),ui=si.next();!ui.done;ui=si.next()){var ai=ui.value;ei.call(null,ai)&&ri++}}catch(oi){ti={error:oi}}finally{try{ui&&!ui.done&&(ii=si.return)&&ii.call(si)}finally{if(ti)throw ti.error}}return ri},qe.isEmpty=function(St){return St.length===0},qe.forEach=function(St,ei){var ti,ii,ri,si,ui,ai;return Ye(this,function(oi){switch(oi.label){case 0:return ei!==void 0?[3,2]:[5,Qe(St)];case 1:return oi.sent(),[3,9];case 2:oi.trys.push([2,7,8,9]),ti=Qe(St),ii=ti.next(),oi.label=3;case 3:return ii.done?[3,6]:(ri=ii.value,ei.call(null,ri)?[4,ri]:[3,5]);case 4:oi.sent(),oi.label=5;case 5:return ii=ti.next(),[3,3];case 6:return[3,9];case 7:return si=oi.sent(),ui={error:si},[3,9];case 8:try{ii&&!ii.done&&(ai=ti.return)&&ai.call(ti)}finally{if(ui)throw ui.error}return[7];case 9:return[2]}})},qe.clone=function(St){return new(Array.bind.apply(Array,Ze([void 0],St)))},qe.sortInAscendingOrder=function(St,ei){return St.sort(function(ti,ii){return ei.call(null,ti,ii)?-1:1})},qe.sortInDescendingOrder=function(St,ei){return St.sort(function(ti,ii){return ei.call(null,ti,ii)?1:-1})}},function(ze,qe,Xe){var Ye=this&&this.__generator||function(St,ei){var ti,ii,ri,si,ui={label:0,sent:function(){if(1&ri[0])throw ri[1];return ri[1]},trys:[],ops:[]};return si={next:ai(0),throw:ai(1),return:ai(2)},typeof Symbol=="function"&&(si[Symbol.iterator]=function(){return this}),si;function ai(oi){return function(ni){return function(ci){if(ti)throw new TypeError("Generator is already executing.");for(;ui;)try{if(ti=1,ii&&(ri=2&ci[0]?ii.return:ci[0]?ii.throw||((ri=ii.return)&&ri.call(ii),0):ii.next)&&!(ri=ri.call(ii,ci[1])).done)return ri;switch(ii=0,ri&&(ci=[2&ci[0],ri.value]),ci[0]){case 0:case 1:ri=ci;break;case 4:return ui.label++,{value:ci[1],done:!1};case 5:ui.label++,ii=ci[1],ci=[0];continue;case 7:ci=ui.ops.pop(),ui.trys.pop();continue;default:if(ri=ui.trys,!((ri=ri.length>0&&ri[ri.length-1])||ci[0]!==6&&ci[0]!==2)){ui=0;continue}if(ci[0]===3&&(!ri||ci[1]>ri[0]&&ci[1]<ri[3])){ui.label=ci[1];break}if(ci[0]===6&&ui.label<ri[1]){ui.label=ri[1],ri=ci;break}if(ri&&ui.label<ri[2]){ui.label=ri[2],ui.ops.push(ci);break}ri[2]&&ui.ops.pop(),ui.trys.pop();continue}ci=ei.call(St,ui)}catch(hi){ci=[6,hi],ii=0}finally{ti=ri=0}if(5&ci[0])throw ci[1];return{value:ci[0]?ci[1]:void 0,done:!0}}([oi,ni])}}},Ke=this&&this.__values||function(St){var ei=typeof Symbol=="function"&&Symbol.iterator,ti=ei&&St[ei],ii=0;if(ti)return ti.call(St);if(St&&typeof St.length=="number")return{next:function(){return St&&ii>=St.length&&(St=void 0),{value:St&&St[ii++],done:!St}}};throw new TypeError(ei?"Object is not iterable.":"Symbol.iterator is not defined.")},Ze=this&&this.__read||function(St,ei){var ti=typeof Symbol=="function"&&St[Symbol.iterator];if(!ti)return St;var ii,ri,si=ti.call(St),ui=[];try{for(;(ei===void 0||ei-- >0)&&!(ii=si.next()).done;)ui.push(ii.value)}catch(ai){ri={error:ai}}finally{try{ii&&!ii.done&&(ti=si.return)&&ti.call(si)}finally{if(ri)throw ri.error}}return ui},Qe=this&&this.__spread||function(){for(var St=[],ei=0;ei<arguments.length;ei++)St=St.concat(Ze(arguments[ei]));return St};Object.defineProperty(qe,"__esModule",{value:!0});var Je=Xe(2);qe.get=function(St,ei){return St.get(ei)},qe.set=function(St,ei,ti){St.set(ei,ti)},qe.remove=function(St,ei){var ti,ii,ri,si;if(Je.isFunction(ei)){var ui=[];try{for(var ai=Ke(St),oi=ai.next();!oi.done;oi=ai.next()){var ni=oi.value;ei.call(null,ni)&&ui.push(ni[0])}}catch(fi){ti={error:fi}}finally{try{oi&&!oi.done&&(ii=ai.return)&&ii.call(ai)}finally{if(ti)throw ti.error}}try{for(var ci=Ke(ui),hi=ci.next();!hi.done;hi=ci.next()){var di=hi.value;St.delete(di)}}catch(fi){ri={error:fi}}finally{try{hi&&!hi.done&&(si=ci.return)&&si.call(ci)}finally{if(ri)throw ri.error}}}else St.delete(ei)},qe.contains=function(St,ei){var ti,ii;if(Je.isFunction(ei)){try{for(var ri=Ke(St),si=ri.next();!si.done;si=ri.next()){var ui=si.value;if(ei.call(null,ui))return!0}}catch(ai){ti={error:ai}}finally{try{si&&!si.done&&(ii=ri.return)&&ii.call(ri)}finally{if(ti)throw ti.error}}return!1}return St.has(ei)},qe.keys=function(St){return new Set(St.keys())},qe.values=function(St){return Qe(St.values())},qe.size=function(St,ei){var ti,ii;if(ei===void 0)return St.size;var ri=0;try{for(var si=Ke(St),ui=si.next();!ui.done;ui=si.next()){var ai=ui.value;ei.call(null,ai)&&ri++}}catch(oi){ti={error:oi}}finally{try{ui&&!ui.done&&(ii=si.return)&&ii.call(si)}finally{if(ti)throw ti.error}}return ri},qe.isEmpty=function(St){return St.size===0},qe.forEach=function(St,ei){var ti,ii,ri,si,ui,ai;return Ye(this,function(oi){switch(oi.label){case 0:return ei!==void 0?[3,2]:[5,Ke(St)];case 1:return oi.sent(),[3,9];case 2:oi.trys.push([2,7,8,9]),ti=Ke(St),ii=ti.next(),oi.label=3;case 3:return ii.done?[3,6]:(ri=ii.value,ei.call(null,ri)?[4,ri]:[3,5]);case 4:oi.sent(),oi.label=5;case 5:return ii=ti.next(),[3,3];case 6:return[3,9];case 7:return si=oi.sent(),ui={error:si},[3,9];case 8:try{ii&&!ii.done&&(ai=ti.return)&&ai.call(ti)}finally{if(ui)throw ui.error}return[7];case 9:return[2]}})},qe.clone=function(St){return new Map(St)},qe.sortInAscendingOrder=function(St,ei){var ti=new(Array.bind.apply(Array,Qe([void 0],St)));return ti.sort(function(ii,ri){return ei.call(null,ii,ri)?-1:1}),new Map(ti)},qe.sortInDescendingOrder=function(St,ei){var ti=new(Array.bind.apply(Array,Qe([void 0],St)));return ti.sort(function(ii,ri){return ei.call(null,ii,ri)?1:-1}),new Map(ti)}},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0}),qe.HTML="http://www.w3.org/1999/xhtml",qe.XML="http://www.w3.org/XML/1998/namespace",qe.XMLNS="http://www.w3.org/2000/xmlns/",qe.MathML="http://www.w3.org/1998/Math/MathML",qe.SVG="http://www.w3.org/2000/svg",qe.XLink="http://www.w3.org/1999/xlink"},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0}),qe.enqueue=function(Ye,Ke){Ye.push(Ke)},qe.dequeue=function(Ye){return Ye.shift()||null}},function(ze,qe,Xe){var Ye=this&&this.__generator||function(ei,ti){var ii,ri,si,ui,ai={label:0,sent:function(){if(1&si[0])throw si[1];return si[1]},trys:[],ops:[]};return ui={next:oi(0),throw:oi(1),return:oi(2)},typeof Symbol=="function"&&(ui[Symbol.iterator]=function(){return this}),ui;function oi(ni){return function(ci){return function(hi){if(ii)throw new TypeError("Generator is already executing.");for(;ai;)try{if(ii=1,ri&&(si=2&hi[0]?ri.return:hi[0]?ri.throw||((si=ri.return)&&si.call(ri),0):ri.next)&&!(si=si.call(ri,hi[1])).done)return si;switch(ri=0,si&&(hi=[2&hi[0],si.value]),hi[0]){case 0:case 1:si=hi;break;case 4:return ai.label++,{value:hi[1],done:!1};case 5:ai.label++,ri=hi[1],hi=[0];continue;case 7:hi=ai.ops.pop(),ai.trys.pop();continue;default:if(si=ai.trys,!((si=si.length>0&&si[si.length-1])||hi[0]!==6&&hi[0]!==2)){ai=0;continue}if(hi[0]===3&&(!si||hi[1]>si[0]&&hi[1]<si[3])){ai.label=hi[1];break}if(hi[0]===6&&ai.label<si[1]){ai.label=si[1],si=hi;break}if(si&&ai.label<si[2]){ai.label=si[2],ai.ops.push(hi);break}si[2]&&ai.ops.pop(),ai.trys.pop();continue}hi=ti.call(ei,ai)}catch(di){hi=[6,di],ri=0}finally{ii=si=0}if(5&hi[0])throw hi[1];return{value:hi[0]?hi[1]:void 0,done:!0}}([ni,ci])}}},Ke=this&&this.__values||function(ei){var ti=typeof Symbol=="function"&&Symbol.iterator,ii=ti&&ei[ti],ri=0;if(ii)return ii.call(ei);if(ei&&typeof ei.length=="number")return{next:function(){return ei&&ri>=ei.length&&(ei=void 0),{value:ei&&ei[ri++],done:!ei}}};throw new TypeError(ti?"Object is not iterable.":"Symbol.iterator is not defined.")},Ze=this&&this.__read||function(ei,ti){var ii=typeof Symbol=="function"&&ei[Symbol.iterator];if(!ii)return ei;var ri,si,ui=ii.call(ei),ai=[];try{for(;(ti===void 0||ti-- >0)&&!(ri=ui.next()).done;)ai.push(ri.value)}catch(oi){si={error:oi}}finally{try{ri&&!ri.done&&(ii=ui.return)&&ii.call(ui)}finally{if(si)throw si.error}}return ai},Qe=this&&this.__spread||function(){for(var ei=[],ti=0;ti<arguments.length;ti++)ei=ei.concat(Ze(arguments[ti]));return ei};Object.defineProperty(qe,"__esModule",{value:!0});var Je=Xe(2);function St(ei,ti){var ii,ri;try{for(var si=Ke(ei),ui=si.next();!ui.done;ui=si.next()){var ai=ui.value;if(!ti.has(ai))return!1}}catch(oi){ii={error:oi}}finally{try{ui&&!ui.done&&(ri=si.return)&&ri.call(si)}finally{if(ii)throw ii.error}}return!0}qe.append=function(ei,ti){ei.add(ti)},qe.extend=function(ei,ti){ti.forEach(ei.add,ei)},qe.prepend=function(ei,ti){var ii=new Set(ei);ei.clear(),ei.add(ti),ii.forEach(ei.add,ei)},qe.replace=function(ei,ti,ii){var ri,si,ui=new Set;try{for(var ai=Ke(ei),oi=ai.next();!oi.done;oi=ai.next()){var ni=oi.value;Je.isFunction(ti)?ti.call(null,ni)?ui.add(ii):ui.add(ni):ni===ti?ui.add(ii):ui.add(ni)}}catch(ci){ri={error:ci}}finally{try{oi&&!oi.done&&(si=ai.return)&&si.call(ai)}finally{if(ri)throw ri.error}}ei.clear(),ui.forEach(ei.add,ei)},qe.insert=function(ei,ti,ii){var ri,si,ui=new Set,ai=0;try{for(var oi=Ke(ei),ni=oi.next();!ni.done;ni=oi.next()){var ci=ni.value;ai===ii&&ui.add(ti),ui.add(ci),ai++}}catch(hi){ri={error:hi}}finally{try{ni&&!ni.done&&(si=oi.return)&&si.call(oi)}finally{if(ri)throw ri.error}}ei.clear(),ui.forEach(ei.add,ei)},qe.remove=function(ei,ti){var ii,ri,si,ui;if(Je.isFunction(ti)){var ai=[];try{for(var oi=Ke(ei),ni=oi.next();!ni.done;ni=oi.next()){var ci=ni.value;ti.call(null,ci)&&ai.push(ci)}}catch(mi){ii={error:mi}}finally{try{ni&&!ni.done&&(ri=oi.return)&&ri.call(oi)}finally{if(ii)throw ii.error}}try{for(var hi=Ke(ai),di=hi.next();!di.done;di=hi.next()){var fi=di.value;ei.delete(fi)}}catch(mi){si={error:mi}}finally{try{di&&!di.done&&(ui=hi.return)&&ui.call(hi)}finally{if(si)throw si.error}}}else ei.delete(ti)},qe.empty=function(ei){ei.clear()},qe.contains=function(ei,ti){var ii,ri;if(!Je.isFunction(ti))return ei.has(ti);try{for(var si=Ke(ei),ui=si.next();!ui.done;ui=si.next()){var ai=ui.value;if(ti.call(null,ai))return!0}}catch(oi){ii={error:oi}}finally{try{ui&&!ui.done&&(ri=si.return)&&ri.call(si)}finally{if(ii)throw ii.error}}return!1},qe.size=function(ei,ti){var ii,ri;if(ti===void 0)return ei.size;var si=0;try{for(var ui=Ke(ei),ai=ui.next();!ai.done;ai=ui.next()){var oi=ai.value;ti.call(null,oi)&&si++}}catch(ni){ii={error:ni}}finally{try{ai&&!ai.done&&(ri=ui.return)&&ri.call(ui)}finally{if(ii)throw ii.error}}return si},qe.isEmpty=function(ei){return ei.size===0},qe.forEach=function(ei,ti){var ii,ri,si,ui,ai,oi;return Ye(this,function(ni){switch(ni.label){case 0:return ti!==void 0?[3,2]:[5,Ke(ei)];case 1:return ni.sent(),[3,9];case 2:ni.trys.push([2,7,8,9]),ii=Ke(ei),ri=ii.next(),ni.label=3;case 3:return ri.done?[3,6]:(si=ri.value,ti.call(null,si)?[4,si]:[3,5]);case 4:ni.sent(),ni.label=5;case 5:return ri=ii.next(),[3,3];case 6:return[3,9];case 7:return ui=ni.sent(),ai={error:ui},[3,9];case 8:try{ri&&!ri.done&&(oi=ii.return)&&oi.call(ii)}finally{if(ai)throw ai.error}return[7];case 9:return[2]}})},qe.clone=function(ei){return new Set(ei)},qe.sortInAscendingOrder=function(ei,ti){var ii=new(Array.bind.apply(Array,Qe([void 0],ei)));return ii.sort(function(ri,si){return ti.call(null,ri,si)?-1:1}),new Set(ii)},qe.sortInDescendingOrder=function(ei,ti){var ii=new(Array.bind.apply(Array,Qe([void 0],ei)));return ii.sort(function(ri,si){return ti.call(null,ri,si)?1:-1}),new Set(ii)},qe.isSubsetOf=St,qe.isSupersetOf=function(ei,ti){return St(ti,ei)},qe.intersection=function(ei,ti){var ii,ri,si=new Set;try{for(var ui=Ke(ei),ai=ui.next();!ai.done;ai=ui.next()){var oi=ai.value;ti.has(oi)&&si.add(oi)}}catch(ni){ii={error:ni}}finally{try{ai&&!ai.done&&(ri=ui.return)&&ri.call(ui)}finally{if(ii)throw ii.error}}return si},qe.union=function(ei,ti){var ii=new Set(ei);return ti.forEach(ii.add,ii),ii},qe.range=function(ei,ti){for(var ii=new Set,ri=ei;ri<=ti;ri++)ii.add(ri);return ii}},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0}),qe.push=function(Ye,Ke){Ye.push(Ke)},qe.pop=function(Ye){return Ye.pop()||null}},function(ze,qe,Xe){var Ye=this&&this.__values||function(ai){var oi=typeof Symbol=="function"&&Symbol.iterator,ni=oi&&ai[oi],ci=0;if(ni)return ni.call(ai);if(ai&&typeof ai.length=="number")return{next:function(){return ai&&ci>=ai.length&&(ai=void 0),{value:ai&&ai[ci++],done:!ai}}};throw new TypeError(oi?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(qe,"__esModule",{value:!0});var Ke=Xe(96),Ze=Xe(147),Qe=Xe(146),Je=Xe(2);function St(ai,oi){for(var ni=0;;){var ci=ni<ai.length?ai.charCodeAt(ni):null,hi=ni<oi.length?oi.charCodeAt(ni):null;if(ci===null)return!0;if(ci!==hi)return!1;ni++}}function ei(ai){var oi,ni,ci=Array.from(ai),hi=new Uint8Array(ci.length),di=0;try{for(var fi=Ye(ai),mi=fi.next();!mi.done;mi=fi.next()){var pi=mi.value.codePointAt(0);console.assert(pi!==void 0&&pi<=255,"isomorphicEncode requires string bytes to be less than or equal to 0x00FF."),pi!==void 0&&pi<=255&&(hi[di++]=pi)}}catch(wi){oi={error:wi}}finally{try{mi&&!mi.done&&(ni=fi.return)&&ni.call(fi)}finally{if(oi)throw oi.error}}return hi}function ti(ai){return/^[\u0000-\u007F]*$/.test(ai)}function ii(ai){var oi,ni,ci="";try{for(var hi=Ye(ai),di=hi.next();!di.done;di=hi.next()){var fi=di.value,mi=fi.codePointAt(0);ci+=mi!==void 0&&mi>=65&&mi<=90?String.fromCodePoint(mi+32):fi}}catch(pi){oi={error:pi}}finally{try{di&&!di.done&&(ni=hi.return)&&ni.call(hi)}finally{if(oi)throw oi.error}}return ci}function ri(ai){return ai.replace(/^[\t\n\f\r ]+/,"").replace(/[\t\n\f\r ]+$/,"")}function si(ai,oi,ni){if(!Je.isArray(oi))return si(ai,Array.from(oi),ni);for(var ci="";ni.position<oi.length&&ai.call(null,oi[ni.position]);)ci+=oi[ni.position],ni.position++;return ci}function ui(ai,oi){si(function(ni){return Ke.ASCIIWhiteSpace.test(ni)},ai,oi)}qe.isCodeUnitPrefix=St,qe.isCodeUnitLessThan=function(ai,oi){if(St(oi,ai))return!1;if(St(ai,oi))return!0;for(var ni=0;ni<Math.min(ai.length,oi.length);ni++){var ci=ai.charCodeAt(ni),hi=oi.charCodeAt(ni);if(ci!==hi)return ci<hi}return!1},qe.isomorphicEncode=ei,qe.isASCIIString=ti,qe.asciiLowercase=ii,qe.asciiUppercase=function(ai){var oi,ni,ci="";try{for(var hi=Ye(ai),di=hi.next();!di.done;di=hi.next()){var fi=di.value,mi=fi.codePointAt(0);ci+=mi!==void 0&&mi>=97&&mi<=122?String.fromCodePoint(mi-32):fi}}catch(pi){oi={error:pi}}finally{try{di&&!di.done&&(ni=hi.return)&&ni.call(hi)}finally{if(oi)throw oi.error}}return ci},qe.asciiCaseInsensitiveMatch=function(ai,oi){return ii(ai)===ii(oi)},qe.asciiEncode=function(ai){return console.assert(ti(ai),"asciiEncode requires an ASCII string."),ei(ai)},qe.asciiDecode=function(ai){var oi,ni;try{for(var ci=Ye(ai),hi=ci.next();!hi.done;hi=ci.next()){var di=hi.value;console.assert(Qe.isASCIIByte(di),"asciiDecode requires an ASCII byte sequence.")}}catch(fi){oi={error:fi}}finally{try{hi&&!hi.done&&(ni=ci.return)&&ni.call(ci)}finally{if(oi)throw oi.error}}return Ze.isomorphicDecode(ai)},qe.stripNewlines=function(ai){return ai.replace(/[\n\r]/g,"")},qe.normalizeNewlines=function(ai){return ai.replace(/\r\n/g,`
`).replace(/\r/g,`
`)},qe.stripLeadingAndTrailingASCIIWhitespace=ri,qe.stripAndCollapseASCIIWhitespace=function(ai){return ri(ai.replace(/[\t\n\f\r ]{2,}/g," "))},qe.collectASequenceOfCodePoints=si,qe.skipASCIIWhitespace=ui,qe.strictlySplit=function ai(oi,ni){if(!Je.isArray(oi))return ai(Array.from(oi),ni);var ci={position:0},hi=[],di=si(function(fi){return ni!==fi},oi,ci);for(hi.push(di);ci.position<oi.length;)console.assert(oi[ci.position]===ni,"strictlySplit found no delimiter in input string."),ci.position++,di=si(function(fi){return ni!==fi},oi,ci),hi.push(di);return hi},qe.splitAStringOnASCIIWhitespace=function ai(oi){if(!Je.isArray(oi))return ai(Array.from(oi));var ni={position:0},ci=[];for(ui(oi,ni);ni.position<oi.length;){var hi=si(function(di){return!Ke.ASCIIWhiteSpace.test(di)},oi,ni);ci.push(hi),ui(oi,ni)}return ci},qe.splitAStringOnCommas=function ai(oi){if(!Je.isArray(oi))return ai(Array.from(oi));for(var ni={position:0},ci=[];ni.position<oi.length;){var hi=si(function(di){return di!==","},oi,ni);ci.push(ri(hi)),ni.position<oi.length&&(console.assert(oi[ni.position]===",","splitAStringOnCommas found no delimiter in input string."),ni.position++)}return ci},qe.concatenate=function(ai,oi){return oi===void 0&&(oi=""),ai.length===0?"":ai.join(oi)}},function(ze,qe,Xe){var Ye=this&&this.__values||function(Ze){var Qe=typeof Symbol=="function"&&Symbol.iterator,Je=Qe&&Ze[Qe],St=0;if(Je)return Je.call(Ze);if(Ze&&typeof Ze.length=="number")return{next:function(){return Ze&&St>=Ze.length&&(Ze=void 0),{value:Ze&&Ze[St++],done:!Ze}}};throw new TypeError(Qe?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(qe,"__esModule",{value:!0});var Ke=Xe(97);qe.abort_add=function(Ze,Qe){Qe._abortedFlag||Qe._abortAlgorithms.add(Ze)},qe.abort_remove=function(Ze,Qe){Qe._abortAlgorithms.delete(Ze)},qe.abort_signalAbort=function(Ze){var Qe,Je;if(!Ze._abortedFlag){Ze._abortedFlag=!0;try{for(var St=Ye(Ze._abortAlgorithms),ei=St.next();!ei.done;ei=St.next())ei.value.call(Ze)}catch(ti){Qe={error:ti}}finally{try{ei&&!ei.done&&(Je=St.return)&&Je.call(St)}finally{if(Qe)throw Qe.error}}Ze._abortAlgorithms.clear(),Ke.event_fireAnEvent("abort",Ze)}}},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=Xe(150),Ke=function(){function Ze(){}return Ze.asNode=function(Qe){if(Ye.Guard.isNode(Qe))return Qe;throw new Error("Invalid object. Node expected.")},Ze}();qe.Cast=Ke},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=function(){function Ze(){}return Object.defineProperty(Ze.prototype,"size",{get:function(){return 0},enumerable:!0,configurable:!0}),Ze.prototype.add=function(Qe){throw new Error("Cannot add to an empty set.")},Ze.prototype.clear=function(){},Ze.prototype.delete=function(Qe){return!1},Ze.prototype.forEach=function(Qe,Je){},Ze.prototype.has=function(Qe){return!1},Ze.prototype[Symbol.iterator]=function(){return new Ke},Ze.prototype.entries=function(){return new Ke},Ze.prototype.keys=function(){return new Ke},Ze.prototype.values=function(){return new Ke},Object.defineProperty(Ze.prototype,Symbol.toStringTag,{get:function(){return"EmptySet"},enumerable:!0,configurable:!0}),Ze}();qe.EmptySet=Ye;var Ke=function(){function Ze(){}return Ze.prototype[Symbol.iterator]=function(){return this},Ze.prototype.next=function(){return{done:!0,value:null}},Ze}()},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0}),function(Ye){Ye[Ye.SchemeStart=0]="SchemeStart",Ye[Ye.Scheme=1]="Scheme",Ye[Ye.NoScheme=2]="NoScheme",Ye[Ye.SpecialRelativeOrAuthority=3]="SpecialRelativeOrAuthority",Ye[Ye.PathOrAuthority=4]="PathOrAuthority",Ye[Ye.Relative=5]="Relative",Ye[Ye.RelativeSlash=6]="RelativeSlash",Ye[Ye.SpecialAuthoritySlashes=7]="SpecialAuthoritySlashes",Ye[Ye.SpecialAuthorityIgnoreSlashes=8]="SpecialAuthorityIgnoreSlashes",Ye[Ye.Authority=9]="Authority",Ye[Ye.Host=10]="Host",Ye[Ye.Hostname=11]="Hostname",Ye[Ye.Port=12]="Port",Ye[Ye.File=13]="File",Ye[Ye.FileSlash=14]="FileSlash",Ye[Ye.FileHost=15]="FileHost",Ye[Ye.PathStart=16]="PathStart",Ye[Ye.Path=17]="Path",Ye[Ye.CannotBeABaseURLPath=18]="CannotBeABaseURLPath",Ye[Ye.Query=19]="Query",Ye[Ye.Fragment=20]="Fragment"}(qe.ParserState||(qe.ParserState={})),qe.OpaqueOrigin=["","",null,null]},function(ze,qe,Xe){var Ye=Xe(245),Ke=Xe(247);function Ze(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}qe.parse=hi,qe.resolve=function(di,fi){return hi(di,!1,!0).resolve(fi)},qe.resolveObject=function(di,fi){return di?hi(di,!1,!0).resolveObject(fi):fi},qe.format=function(di){return Ke.isString(di)&&(di=hi(di)),di instanceof Ze?di.format():Ze.prototype.format.call(di)},qe.Url=Ze;var Qe=/^([a-z0-9.+-]+:)/i,Je=/:[0-9]*$/,St=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,ei=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),ti=["'"].concat(ei),ii=["%","/","?",";","#"].concat(ti),ri=["/","?","#"],si=/^[+a-z0-9A-Z_-]{0,63}$/,ui=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,ai={javascript:!0,"javascript:":!0},oi={javascript:!0,"javascript:":!0},ni={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},ci=Xe(248);function hi(di,fi,mi){if(di&&Ke.isObject(di)&&di instanceof Ze)return di;var pi=new Ze;return pi.parse(di,fi,mi),pi}Ze.prototype.parse=function(di,fi,mi){if(!Ke.isString(di))throw new TypeError("Parameter 'url' must be a string, not "+typeof di);var pi=di.indexOf("?"),wi=pi!==-1&&pi<di.indexOf("#")?"?":"#",gi=di.split(wi);gi[0]=gi[0].replace(/\\/g,"/");var yi=di=gi.join(wi);if(yi=yi.trim(),!mi&&di.split("#").length===1){var Ai=St.exec(yi);if(Ai)return this.path=yi,this.href=yi,this.pathname=Ai[1],Ai[2]?(this.search=Ai[2],this.query=fi?ci.parse(this.search.substr(1)):this.search.substr(1)):fi&&(this.search="",this.query={}),this}var Si=Qe.exec(yi);if(Si){var ki=(Si=Si[0]).toLowerCase();this.protocol=ki,yi=yi.substr(Si.length)}if(mi||Si||yi.match(/^\/\/[^@\/]+@[^@\/]+/)){var Li=yi.substr(0,2)==="//";!Li||Si&&oi[Si]||(yi=yi.substr(2),this.slashes=!0)}if(!oi[Si]&&(Li||Si&&!ni[Si])){for(var Bi,Pi,Ri=-1,Fi=0;Fi<ri.length;Fi++)(Gi=yi.indexOf(ri[Fi]))!==-1&&(Ri===-1||Gi<Ri)&&(Ri=Gi);for((Pi=Ri===-1?yi.lastIndexOf("@"):yi.lastIndexOf("@",Ri))!==-1&&(Bi=yi.slice(0,Pi),yi=yi.slice(Pi+1),this.auth=decodeURIComponent(Bi)),Ri=-1,Fi=0;Fi<ii.length;Fi++){var Gi;(Gi=yi.indexOf(ii[Fi]))!==-1&&(Ri===-1||Gi<Ri)&&(Ri=Gi)}Ri===-1&&(Ri=yi.length),this.host=yi.slice(0,Ri),yi=yi.slice(Ri),this.parseHost(),this.hostname=this.hostname||"";var Ti=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!Ti)for(var Vi=this.hostname.split(/\./),Ui=(Fi=0,Vi.length);Fi<Ui;Fi++){var $i=Vi[Fi];if($i&&!$i.match(si)){for(var Wi="",tn=0,nn=$i.length;tn<nn;tn++)$i.charCodeAt(tn)>127?Wi+="x":Wi+=$i[tn];if(!Wi.match(si)){var Qi=Vi.slice(0,Fi),Ei=Vi.slice(Fi+1),bi=$i.match(ui);bi&&(Qi.push(bi[1]),Ei.unshift(bi[2])),Ei.length&&(yi="/"+Ei.join(".")+yi),this.hostname=Qi.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),Ti||(this.hostname=Ye.toASCII(this.hostname));var Ci=this.port?":"+this.port:"",_i=this.hostname||"";this.host=_i+Ci,this.href+=this.host,Ti&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),yi[0]!=="/"&&(yi="/"+yi))}if(!ai[ki])for(Fi=0,Ui=ti.length;Fi<Ui;Fi++){var Ii=ti[Fi];if(yi.indexOf(Ii)!==-1){var Ni=encodeURIComponent(Ii);Ni===Ii&&(Ni=escape(Ii)),yi=yi.split(Ii).join(Ni)}}var Di=yi.indexOf("#");Di!==-1&&(this.hash=yi.substr(Di),yi=yi.slice(0,Di));var Ki=yi.indexOf("?");if(Ki!==-1?(this.search=yi.substr(Ki),this.query=yi.substr(Ki+1),fi&&(this.query=ci.parse(this.query)),yi=yi.slice(0,Ki)):fi&&(this.search="",this.query={}),yi&&(this.pathname=yi),ni[ki]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){Ci=this.pathname||"";var sn=this.search||"";this.path=Ci+sn}return this.href=this.format(),this},Ze.prototype.format=function(){var di=this.auth||"";di&&(di=(di=encodeURIComponent(di)).replace(/%3A/i,":"),di+="@");var fi=this.protocol||"",mi=this.pathname||"",pi=this.hash||"",wi=!1,gi="";this.host?wi=di+this.host:this.hostname&&(wi=di+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(wi+=":"+this.port)),this.query&&Ke.isObject(this.query)&&Object.keys(this.query).length&&(gi=ci.stringify(this.query));var yi=this.search||gi&&"?"+gi||"";return fi&&fi.substr(-1)!==":"&&(fi+=":"),this.slashes||(!fi||ni[fi])&&wi!==!1?(wi="//"+(wi||""),mi&&mi.charAt(0)!=="/"&&(mi="/"+mi)):wi||(wi=""),pi&&pi.charAt(0)!=="#"&&(pi="#"+pi),yi&&yi.charAt(0)!=="?"&&(yi="?"+yi),fi+wi+(mi=mi.replace(/[?#]/g,function(Ai){return encodeURIComponent(Ai)}))+(yi=yi.replace("#","%23"))+pi},Ze.prototype.resolve=function(di){return this.resolveObject(hi(di,!1,!0)).format()},Ze.prototype.resolveObject=function(di){if(Ke.isString(di)){var fi=new Ze;fi.parse(di,!1,!0),di=fi}for(var mi=new Ze,pi=Object.keys(this),wi=0;wi<pi.length;wi++){var gi=pi[wi];mi[gi]=this[gi]}if(mi.hash=di.hash,di.href==="")return mi.href=mi.format(),mi;if(di.slashes&&!di.protocol){for(var yi=Object.keys(di),Ai=0;Ai<yi.length;Ai++){var Si=yi[Ai];Si!=="protocol"&&(mi[Si]=di[Si])}return ni[mi.protocol]&&mi.hostname&&!mi.pathname&&(mi.path=mi.pathname="/"),mi.href=mi.format(),mi}if(di.protocol&&di.protocol!==mi.protocol){if(!ni[di.protocol]){for(var ki=Object.keys(di),Li=0;Li<ki.length;Li++){var Bi=ki[Li];mi[Bi]=di[Bi]}return mi.href=mi.format(),mi}if(mi.protocol=di.protocol,di.host||oi[di.protocol])mi.pathname=di.pathname;else{for(var Pi=(di.pathname||"").split("/");Pi.length&&!(di.host=Pi.shift()););di.host||(di.host=""),di.hostname||(di.hostname=""),Pi[0]!==""&&Pi.unshift(""),Pi.length<2&&Pi.unshift(""),mi.pathname=Pi.join("/")}if(mi.search=di.search,mi.query=di.query,mi.host=di.host||"",mi.auth=di.auth,mi.hostname=di.hostname||di.host,mi.port=di.port,mi.pathname||mi.search){var Ri=mi.pathname||"",Fi=mi.search||"";mi.path=Ri+Fi}return mi.slashes=mi.slashes||di.slashes,mi.href=mi.format(),mi}var Gi=mi.pathname&&mi.pathname.charAt(0)==="/",Ti=di.host||di.pathname&&di.pathname.charAt(0)==="/",Vi=Ti||Gi||mi.host&&di.pathname,Ui=Vi,$i=mi.pathname&&mi.pathname.split("/")||[],Wi=(Pi=di.pathname&&di.pathname.split("/")||[],mi.protocol&&!ni[mi.protocol]);if(Wi&&(mi.hostname="",mi.port=null,mi.host&&($i[0]===""?$i[0]=mi.host:$i.unshift(mi.host)),mi.host="",di.protocol&&(di.hostname=null,di.port=null,di.host&&(Pi[0]===""?Pi[0]=di.host:Pi.unshift(di.host)),di.host=null),Vi=Vi&&(Pi[0]===""||$i[0]==="")),Ti)mi.host=di.host||di.host===""?di.host:mi.host,mi.hostname=di.hostname||di.hostname===""?di.hostname:mi.hostname,mi.search=di.search,mi.query=di.query,$i=Pi;else if(Pi.length)$i||($i=[]),$i.pop(),$i=$i.concat(Pi),mi.search=di.search,mi.query=di.query;else if(!Ke.isNullOrUndefined(di.search))return Wi&&(mi.hostname=mi.host=$i.shift(),(bi=!!(mi.host&&mi.host.indexOf("@")>0)&&mi.host.split("@"))&&(mi.auth=bi.shift(),mi.host=mi.hostname=bi.shift())),mi.search=di.search,mi.query=di.query,Ke.isNull(mi.pathname)&&Ke.isNull(mi.search)||(mi.path=(mi.pathname?mi.pathname:"")+(mi.search?mi.search:"")),mi.href=mi.format(),mi;if(!$i.length)return mi.pathname=null,mi.search?mi.path="/"+mi.search:mi.path=null,mi.href=mi.format(),mi;for(var tn=$i.slice(-1)[0],nn=(mi.host||di.host||$i.length>1)&&(tn==="."||tn==="..")||tn==="",Qi=0,Ei=$i.length;Ei>=0;Ei--)(tn=$i[Ei])==="."?$i.splice(Ei,1):tn===".."?($i.splice(Ei,1),Qi++):Qi&&($i.splice(Ei,1),Qi--);if(!Vi&&!Ui)for(;Qi--;Qi)$i.unshift("..");!Vi||$i[0]===""||$i[0]&&$i[0].charAt(0)==="/"||$i.unshift(""),nn&&$i.join("/").substr(-1)!=="/"&&$i.push("");var bi,Ci=$i[0]===""||$i[0]&&$i[0].charAt(0)==="/";return Wi&&(mi.hostname=mi.host=Ci?"":$i.length?$i.shift():"",(bi=!!(mi.host&&mi.host.indexOf("@")>0)&&mi.host.split("@"))&&(mi.auth=bi.shift(),mi.host=mi.hostname=bi.shift())),(Vi=Vi||mi.host&&$i.length)&&!Ci&&$i.unshift(""),$i.length?mi.pathname=$i.join("/"):(mi.pathname=null,mi.path=null),Ke.isNull(mi.pathname)&&Ke.isNull(mi.search)||(mi.path=(mi.pathname?mi.pathname:"")+(mi.search?mi.search:"")),mi.auth=di.auth||mi.auth,mi.slashes=mi.slashes||di.slashes,mi.href=mi.format(),mi},Ze.prototype.parseHost=function(){var di=this.host,fi=Je.exec(di);fi&&((fi=fi[0])!==":"&&(this.port=fi.substr(1)),di=di.substr(0,di.length-fi.length)),di&&(this.hostname=di)}},function(ze,qe,Xe){(function(Ye,Ke){var Ze;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(Qe){qe&&qe.nodeType,Ye&&Ye.nodeType;var Je=typeof Ke=="object"&&Ke;Je.global!==Je&&Je.window!==Je&&Je.self;var St,ei=2147483647,ti=/^xn--/,ii=/[^\x20-\x7E]/,ri=/[\x2E\u3002\uFF0E\uFF61]/g,si={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ui=Math.floor,ai=String.fromCharCode;function oi(gi){throw new RangeError(si[gi])}function ni(gi,yi){for(var Ai=gi.length,Si=[];Ai--;)Si[Ai]=yi(gi[Ai]);return Si}function ci(gi,yi){var Ai=gi.split("@"),Si="";return Ai.length>1&&(Si=Ai[0]+"@",gi=Ai[1]),Si+ni((gi=gi.replace(ri,".")).split("."),yi).join(".")}function hi(gi){for(var yi,Ai,Si=[],ki=0,Li=gi.length;ki<Li;)(yi=gi.charCodeAt(ki++))>=55296&&yi<=56319&&ki<Li?(64512&(Ai=gi.charCodeAt(ki++)))==56320?Si.push(((1023&yi)<<10)+(1023&Ai)+65536):(Si.push(yi),ki--):Si.push(yi);return Si}function di(gi){return ni(gi,function(yi){var Ai="";return yi>65535&&(Ai+=ai((yi-=65536)>>>10&1023|55296),yi=56320|1023&yi),Ai+=ai(yi)}).join("")}function fi(gi,yi){return gi+22+75*(gi<26)-((yi!=0)<<5)}function mi(gi,yi,Ai){var Si=0;for(gi=Ai?ui(gi/700):gi>>1,gi+=ui(gi/yi);gi>455;Si+=36)gi=ui(gi/35);return ui(Si+36*gi/(gi+38))}function pi(gi){var yi,Ai,Si,ki,Li,Bi,Pi,Ri,Fi,Gi,Ti,Vi=[],Ui=gi.length,$i=0,Wi=128,tn=72;for((Ai=gi.lastIndexOf("-"))<0&&(Ai=0),Si=0;Si<Ai;++Si)gi.charCodeAt(Si)>=128&&oi("not-basic"),Vi.push(gi.charCodeAt(Si));for(ki=Ai>0?Ai+1:0;ki<Ui;){for(Li=$i,Bi=1,Pi=36;ki>=Ui&&oi("invalid-input"),((Ri=(Ti=gi.charCodeAt(ki++))-48<10?Ti-22:Ti-65<26?Ti-65:Ti-97<26?Ti-97:36)>=36||Ri>ui((ei-$i)/Bi))&&oi("overflow"),$i+=Ri*Bi,!(Ri<(Fi=Pi<=tn?1:Pi>=tn+26?26:Pi-tn));Pi+=36)Bi>ui(ei/(Gi=36-Fi))&&oi("overflow"),Bi*=Gi;tn=mi($i-Li,yi=Vi.length+1,Li==0),ui($i/yi)>ei-Wi&&oi("overflow"),Wi+=ui($i/yi),$i%=yi,Vi.splice($i++,0,Wi)}return di(Vi)}function wi(gi){var yi,Ai,Si,ki,Li,Bi,Pi,Ri,Fi,Gi,Ti,Vi,Ui,$i,Wi,tn=[];for(Vi=(gi=hi(gi)).length,yi=128,Ai=0,Li=72,Bi=0;Bi<Vi;++Bi)(Ti=gi[Bi])<128&&tn.push(ai(Ti));for(Si=ki=tn.length,ki&&tn.push("-");Si<Vi;){for(Pi=ei,Bi=0;Bi<Vi;++Bi)(Ti=gi[Bi])>=yi&&Ti<Pi&&(Pi=Ti);for(Pi-yi>ui((ei-Ai)/(Ui=Si+1))&&oi("overflow"),Ai+=(Pi-yi)*Ui,yi=Pi,Bi=0;Bi<Vi;++Bi)if((Ti=gi[Bi])<yi&&++Ai>ei&&oi("overflow"),Ti==yi){for(Ri=Ai,Fi=36;!(Ri<(Gi=Fi<=Li?1:Fi>=Li+26?26:Fi-Li));Fi+=36)Wi=Ri-Gi,$i=36-Gi,tn.push(ai(fi(Gi+Wi%$i,0))),Ri=ui(Wi/$i);tn.push(ai(fi(Ri,0))),Li=mi(Ai,Ui,Si==ki),Ai=0,++Si}++Ai,++yi}return tn.join("")}St={version:"1.4.1",ucs2:{decode:hi,encode:di},decode:pi,encode:wi,toASCII:function(gi){return ci(gi,function(yi){return ii.test(yi)?"xn--"+wi(yi):yi})},toUnicode:function(gi){return ci(gi,function(yi){return ti.test(yi)?pi(yi.slice(4).toLowerCase()):yi})}},(Ze=(function(){return St}).call(qe,Xe,qe,Ye))===void 0||(Ye.exports=Ze)})()}).call(this,Xe(246)(ze),Xe(78))},function(ze,qe){ze.exports=function(Xe){return Xe.webpackPolyfill||(Xe.deprecate=function(){},Xe.paths=[],Xe.children||(Xe.children=[]),Object.defineProperty(Xe,"loaded",{enumerable:!0,get:function(){return Xe.l}}),Object.defineProperty(Xe,"id",{enumerable:!0,get:function(){return Xe.i}}),Xe.webpackPolyfill=1),Xe}},function(ze,qe,Xe){ze.exports={isString:function(Ye){return typeof Ye=="string"},isObject:function(Ye){return typeof Ye=="object"&&Ye!==null},isNull:function(Ye){return Ye===null},isNullOrUndefined:function(Ye){return Ye==null}}},function(ze,qe,Xe){qe.decode=qe.parse=Xe(249),qe.encode=qe.stringify=Xe(250)},function(ze,qe,Xe){function Ye(Ze,Qe){return Object.prototype.hasOwnProperty.call(Ze,Qe)}ze.exports=function(Ze,Qe,Je,St){Qe=Qe||"&",Je=Je||"=";var ei={};if(typeof Ze!="string"||Ze.length===0)return ei;var ti=/\+/g;Ze=Ze.split(Qe);var ii=1e3;St&&typeof St.maxKeys=="number"&&(ii=St.maxKeys);var ri=Ze.length;ii>0&&ri>ii&&(ri=ii);for(var si=0;si<ri;++si){var ui,ai,oi,ni,ci=Ze[si].replace(ti,"%20"),hi=ci.indexOf(Je);hi>=0?(ui=ci.substr(0,hi),ai=ci.substr(hi+1)):(ui=ci,ai=""),oi=decodeURIComponent(ui),ni=decodeURIComponent(ai),Ye(ei,oi)?Ke(ei[oi])?ei[oi].push(ni):ei[oi]=[ei[oi],ni]:ei[oi]=ni}return ei};var Ke=Array.isArray||function(Ze){return Object.prototype.toString.call(Ze)==="[object Array]"}},function(ze,qe,Xe){var Ye=function(Je){switch(typeof Je){case"string":return Je;case"boolean":return Je?"true":"false";case"number":return isFinite(Je)?Je:"";default:return""}};ze.exports=function(Je,St,ei,ti){return St=St||"&",ei=ei||"=",Je===null&&(Je=void 0),typeof Je=="object"?Ze(Qe(Je),function(ii){var ri=encodeURIComponent(Ye(ii))+ei;return Ke(Je[ii])?Ze(Je[ii],function(si){return ri+encodeURIComponent(Ye(si))}).join(St):ri+encodeURIComponent(Ye(Je[ii]))}).join(St):ti?encodeURIComponent(Ye(ti))+ei+encodeURIComponent(Ye(Je)):""};var Ke=Array.isArray||function(Je){return Object.prototype.toString.call(Je)==="[object Array]"};function Ze(Je,St){if(Je.map)return Je.map(St);for(var ei=[],ti=0;ti<Je.length;ti++)ei.push(St(Je[ti],ti));return ei}var Qe=Object.keys||function(Je){var St=[];for(var ei in Je)Object.prototype.hasOwnProperty.call(Je,ei)&&St.push(ei);return St}},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=Xe(52);qe.attr_setAnExistingAttributeValue=function(Ke,Ze){Ke._element===null?Ke._value=Ze:Ye.element_change(Ke,Ke._element,Ze)}},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=Xe(108),Ke=Xe(30),Ze=Xe(52);qe.tokenList_validationSteps=function(Qe,Je){if(!Ke.dom_hasSupportedTokens(Qe._attribute._localName))throw new TypeError("There are no supported tokens defined for attribute name: '"+Qe._attribute._localName+"'.");return Ke.dom_getSupportedTokens(Qe._attribute._localName).has(Je.toLowerCase())},qe.tokenList_updateSteps=function(Qe){(Qe._element.hasAttribute(Qe._attribute._localName)||Qe._tokenSet.size!==0)&&Ze.element_setAnAttributeValue(Qe._element,Qe._attribute._localName,Ye.orderedSet_serialize(Qe._tokenSet))},qe.tokenList_serializeSteps=function(Qe){return Ze.element_getAnAttributeValue(Qe._element,Qe._attribute._localName)}},function(ze,qe,Xe){var Ye=this&&this.__values||function(Qe){var Je=typeof Symbol=="function"&&Symbol.iterator,St=Je&&Qe[Je],ei=0;if(St)return St.call(Qe);if(Qe&&typeof Qe.length=="number")return{next:function(){return Qe&&ei>=Qe.length&&(Qe=void 0),{value:Qe&&Qe[ei++],done:!Qe}}};throw new TypeError(Je?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(qe,"__esModule",{value:!0});var Ke=Xe(2);function Ze(Qe){return Ke.isBoolean(Qe)?Qe:Qe.capture||!1}qe.eventTarget_flatten=Ze,qe.eventTarget_flattenMore=function(Qe){var Je=Ze(Qe),St=!1,ei=!1;return Ke.isBoolean(Qe)||(St=Qe.once||!1,ei=Qe.passive||!1),[Je,ei,St]},qe.eventTarget_addEventListener=function(Qe,Je){if(Je.callback!==null){for(var St=0;St<Qe._eventListenerList.length;St++){var ei=Qe._eventListenerList[St];if(ei.type===Je.type&&ei.callback.handleEvent===Je.callback.handleEvent&&ei.capture===Je.capture)return}Qe._eventListenerList.push(Je)}},qe.eventTarget_removeEventListener=function(Qe,Je,St){Je.removed=!0,Qe._eventListenerList.splice(St,1)},qe.eventTarget_removeAllEventListeners=function(Qe){var Je,St;try{for(var ei=Ye(Qe._eventListenerList),ti=ei.next();!ti.done;ti=ei.next())ti.value.removed=!0}catch(ii){Je={error:ii}}finally{try{ti&&!ti.done&&(St=ei.return)&&St.call(ei)}finally{if(Je)throw Je.error}}Qe._eventListenerList.length=0}},function(ze,qe,Xe){var Ye=this&&this.__values||function(Qe){var Je=typeof Symbol=="function"&&Symbol.iterator,St=Je&&Qe[Je],ei=0;if(St)return St.call(Qe);if(Qe&&typeof Qe.length=="number")return{next:function(){return Qe&&ei>=Qe.length&&(Qe=void 0),{value:Qe&&Qe[ei++],done:!Qe}}};throw new TypeError(Je?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(qe,"__esModule",{value:!0});var Ke=Xe(2),Ze=Xe(29);qe.parentNode_convertNodesIntoANode=function(Qe,Je){for(var St,ei,ti=null,ii=0;ii<Qe.length;ii++){var ri=Qe[ii];if(Ke.isString(ri)){var si=Ze.create_text(Je,ri);Qe[ii]=si}}if(Qe.length===1)ti=Qe[0];else{var ui=ti=Ze.create_documentFragment(Je);try{for(var ai=Ye(Qe),oi=ai.next();!oi.done;oi=ai.next())ri=oi.value,ui.appendChild(ri)}catch(ni){St={error:ni}}finally{try{oi&&!oi.done&&(ei=ai.return)&&ei.call(ai)}finally{if(St)throw St.error}}}return ti}},function(ze,qe,Xe){var Ye=this&&this.__values||function(fi){var mi=typeof Symbol=="function"&&Symbol.iterator,pi=mi&&fi[mi],wi=0;if(pi)return pi.call(fi);if(fi&&typeof fi.length=="number")return{next:function(){return fi&&wi>=fi.length&&(fi=void 0),{value:fi&&fi[wi++],done:!fi}}};throw new TypeError(mi?"Object is not iterable.":"Symbol.iterator is not defined.")},Ke=this&&this.__read||function(fi,mi){var pi=typeof Symbol=="function"&&fi[Symbol.iterator];if(!pi)return fi;var wi,gi,yi=pi.call(fi),Ai=[];try{for(;(mi===void 0||mi-- >0)&&!(wi=yi.next()).done;)Ai.push(wi.value)}catch(Si){gi={error:Si}}finally{try{wi&&!wi.done&&(pi=yi.return)&&pi.call(yi)}finally{if(gi)throw gi.error}}return Ai},Ze=this&&this.__spread||function(){for(var fi=[],mi=0;mi<arguments.length;mi++)fi=fi.concat(Ke(arguments[mi]));return fi};Object.defineProperty(qe,"__esModule",{value:!0});var Qe=Xe(1),Je=Xe(9),St=Xe(3),ei=Xe(29),ti=Xe(17),ii=Xe(175),ri=Xe(107),si=Xe(176),ui=Xe(37),ai=Xe(177);function oi(fi){return fi._startNode===fi._endNode&&fi._startOffset===fi._endOffset}function ni(fi){return ti.tree_rootNode(fi._startNode)}function ci(fi,mi){return ti.tree_rootNode(fi)===ni(mi)&&ii.boundaryPoint_position([fi,0],mi._start)===Qe.BoundaryPosition.After&&ii.boundaryPoint_position([fi,ti.tree_nodeLength(fi)],mi._end)===Qe.BoundaryPosition.Before}function hi(fi,mi){var pi=ti.tree_isAncestorOf(mi._startNode,fi,!0),wi=ti.tree_isAncestorOf(mi._endNode,fi,!0);return pi&&!wi||!pi&&wi}function di(fi){var mi,pi,wi,gi,yi,Ai,Si=ei.create_documentFragment(fi._startNode._nodeDocument);if(oi(fi))return Si;var ki=fi._startNode,Li=fi._startOffset,Bi=fi._endNode,Pi=fi._endOffset;if(ki===Bi&&St.Guard.isCharacterDataNode(ki))return(_i=si.node_clone(ki))._data=ri.characterData_substringData(ki,Li,Pi-Li),ui.mutation_append(_i,Si),ri.characterData_replaceData(ki,Li,Pi-Li,""),Si;for(var Ri=ki;!ti.tree_isAncestorOf(Bi,Ri,!0);){if(Ri._parent===null)throw new Error("Parent node  is null.");Ri=Ri._parent}var Fi=null;if(!ti.tree_isAncestorOf(Bi,ki,!0))try{for(var Gi=Ye(Ri._children),Ti=Gi.next();!Ti.done;Ti=Gi.next())if(hi(Wi=Ti.value,fi)){Fi=Wi;break}}catch(sn){mi={error:sn}}finally{try{Ti&&!Ti.done&&(pi=Gi.return)&&pi.call(Gi)}finally{if(mi)throw mi.error}}var Vi=null;if(!ti.tree_isAncestorOf(ki,Bi,!0))for(var Ui=Ze(Ri._children),$i=Ui.length-1;$i>0;$i--){var Wi;if(hi(Wi=Ui[$i],fi)){Vi=Wi;break}}var tn,nn,Qi=[];try{for(var Ei=Ye(Ri._children),bi=Ei.next();!bi.done;bi=Ei.next())if(ci(Ki=bi.value,fi)){if(St.Guard.isDocumentTypeNode(Ki))throw new Je.HierarchyRequestError;Qi.push(Ki)}}catch(sn){wi={error:sn}}finally{try{bi&&!bi.done&&(gi=Ei.return)&&gi.call(Ei)}finally{if(wi)throw wi.error}}if(ti.tree_isAncestorOf(Bi,ki,!0))tn=ki,nn=Li;else{for(var Ci=ki;Ci._parent!==null&&!ti.tree_isAncestorOf(Bi,Ci._parent);)Ci=Ci._parent;if(Ci._parent===null)throw new Error("Parent node is null.");tn=Ci._parent,nn=1+ti.tree_index(Ci)}if(St.Guard.isCharacterDataNode(Fi))(_i=si.node_clone(ki))._data=ri.characterData_substringData(ki,Li,ti.tree_nodeLength(ki)-Li),ui.mutation_append(_i,Si),ri.characterData_replaceData(ki,Li,ti.tree_nodeLength(ki)-Li,"");else if(Fi!==null){var _i=si.node_clone(Fi);ui.mutation_append(_i,Si);var Ii=di(ei.create_range([ki,Li],[Fi,ti.tree_nodeLength(Fi)]));ui.mutation_append(Ii,_i)}try{for(var Ni=Ye(Qi),Di=Ni.next();!Di.done;Di=Ni.next()){var Ki=Di.value;ui.mutation_append(Ki,Si)}}catch(sn){yi={error:sn}}finally{try{Di&&!Di.done&&(Ai=Ni.return)&&Ai.call(Ni)}finally{if(yi)throw yi.error}}return St.Guard.isCharacterDataNode(Vi)?((_i=si.node_clone(Bi))._data=ri.characterData_substringData(Bi,0,Pi),ui.mutation_append(_i,Si),ri.characterData_replaceData(Bi,0,Pi,"")):Vi!==null&&(_i=si.node_clone(Vi),ui.mutation_append(_i,Si),Ii=di(ei.create_range([Vi,0],[Bi,Pi])),ui.mutation_append(Ii,_i)),fi._start=[tn,nn],fi._end=[tn,nn],Si}qe.range_collapsed=oi,qe.range_root=ni,qe.range_isContained=ci,qe.range_isPartiallyContained=hi,qe.range_setTheStart=function(fi,mi,pi){if(St.Guard.isDocumentTypeNode(mi))throw new Je.InvalidNodeTypeError;if(pi>ti.tree_nodeLength(mi))throw new Je.IndexSizeError;var wi=[mi,pi];ni(fi)===ti.tree_rootNode(mi)&&ii.boundaryPoint_position(wi,fi._end)!==Qe.BoundaryPosition.After||(fi._end=wi),fi._start=wi},qe.range_setTheEnd=function(fi,mi,pi){if(St.Guard.isDocumentTypeNode(mi))throw new Je.InvalidNodeTypeError;if(pi>ti.tree_nodeLength(mi))throw new Je.IndexSizeError;var wi=[mi,pi];ni(fi)===ti.tree_rootNode(mi)&&ii.boundaryPoint_position(wi,fi._start)!==Qe.BoundaryPosition.Before||(fi._start=wi),fi._end=wi},qe.range_select=function(fi,mi){var pi=fi._parent;if(pi===null)throw new Je.InvalidNodeTypeError;var wi=ti.tree_index(fi);mi._start=[pi,wi],mi._end=[pi,wi+1]},qe.range_extract=di,qe.range_cloneTheContents=function fi(mi){var pi,wi,gi,yi,Ai,Si,ki=ei.create_documentFragment(mi._startNode._nodeDocument);if(oi(mi))return ki;var Li=mi._startNode,Bi=mi._startOffset,Pi=mi._endNode,Ri=mi._endOffset;Li===Pi&&St.Guard.isCharacterDataNode(Li)&&((bi=si.node_clone(Li))._data=ri.characterData_substringData(Li,Bi,Ri-Bi),ui.mutation_append(bi,ki));for(var Fi=Li;!ti.tree_isAncestorOf(Pi,Fi,!0);){if(Fi._parent===null)throw new Error("Parent node  is null.");Fi=Fi._parent}var Gi=null;if(!ti.tree_isAncestorOf(Pi,Li,!0))try{for(var Ti=Ye(Fi._children),Vi=Ti.next();!Vi.done;Vi=Ti.next())if(hi(tn=Vi.value,mi)){Gi=tn;break}}catch(Di){pi={error:Di}}finally{try{Vi&&!Vi.done&&(wi=Ti.return)&&wi.call(Ti)}finally{if(pi)throw pi.error}}var Ui=null;if(!ti.tree_isAncestorOf(Li,Pi,!0))for(var $i=Ze(Fi._children),Wi=$i.length-1;Wi>0;Wi--){var tn;if(hi(tn=$i[Wi],mi)){Ui=tn;break}}var nn=[];try{for(var Qi=Ye(Fi._children),Ei=Qi.next();!Ei.done;Ei=Qi.next())if(ci(Ni=Ei.value,mi)){if(St.Guard.isDocumentTypeNode(Ni))throw new Je.HierarchyRequestError;nn.push(Ni)}}catch(Di){gi={error:Di}}finally{try{Ei&&!Ei.done&&(yi=Qi.return)&&yi.call(Qi)}finally{if(gi)throw gi.error}}if(St.Guard.isCharacterDataNode(Gi))(bi=si.node_clone(Li))._data=ri.characterData_substringData(Li,Bi,ti.tree_nodeLength(Li)-Bi),ui.mutation_append(bi,ki);else if(Gi!==null){var bi=si.node_clone(Gi);ui.mutation_append(bi,ki);var Ci=fi(ei.create_range([Li,Bi],[Gi,ti.tree_nodeLength(Gi)]));ui.mutation_append(Ci,bi)}try{for(var _i=Ye(nn),Ii=_i.next();!Ii.done;Ii=_i.next()){var Ni=Ii.value,bi=si.node_clone(Ni);ui.mutation_append(bi,ki)}}catch(Di){Ai={error:Di}}finally{try{Ii&&!Ii.done&&(Si=_i.return)&&Si.call(_i)}finally{if(Ai)throw Ai.error}}return St.Guard.isCharacterDataNode(Ui)?((bi=si.node_clone(Pi))._data=ri.characterData_substringData(Pi,0,Ri),ui.mutation_append(bi,ki)):Ui!==null&&(bi=si.node_clone(Ui),ki.append(bi),Ci=di(ei.create_range([Ui,0],[Pi,Ri])),ui.mutation_append(Ci,bi)),ki},qe.range_insert=function(fi,mi){var pi,wi;if(St.Guard.isProcessingInstructionNode(mi._startNode)||St.Guard.isCommentNode(mi._startNode)||St.Guard.isTextNode(mi._startNode)&&mi._startNode._parent===null||mi._startNode===fi)throw new Je.HierarchyRequestError;var gi,yi=null;if(St.Guard.isTextNode(mi._startNode))yi=mi._startNode;else{var Ai=0;try{for(var Si=Ye(mi._startNode._children),ki=Si.next();!ki.done;ki=Si.next()){var Li=ki.value;if(Ai===mi._startOffset){yi=Li;break}Ai++}}catch(Pi){pi={error:Pi}}finally{try{ki&&!ki.done&&(wi=Si.return)&&wi.call(Si)}finally{if(pi)throw pi.error}}}if(yi===null)gi=mi._startNode;else{if(yi._parent===null)throw new Error("Parent node is null.");gi=yi._parent}ui.mutation_ensurePreInsertionValidity(fi,gi,yi),St.Guard.isTextNode(mi._startNode)&&(yi=ai.text_split(mi._startNode,mi._startOffset)),fi===yi&&(yi=fi._nextSibling),fi._parent!==null&&ui.mutation_remove(fi,fi._parent);var Bi=yi===null?ti.tree_nodeLength(gi):ti.tree_index(yi);St.Guard.isDocumentFragmentNode(fi)?Bi+=ti.tree_nodeLength(fi):Bi++,ui.mutation_preInsert(fi,gi,yi),oi(mi)&&(mi._end=[gi,Bi])},qe.range_getContainedNodes=function(fi){var mi;return(mi={})[Symbol.iterator]=function(){var pi=fi.commonAncestorContainer,wi=ti.tree_getFirstDescendantNode(pi);return{next:function(){for(;wi&&!ci(wi,fi);)wi=ti.tree_getNextDescendantNode(pi,wi);if(wi===null)return{done:!0,value:null};var gi={done:!1,value:wi};return wi=ti.tree_getNextDescendantNode(pi,wi),gi}}},mi},qe.range_getPartiallyContainedNodes=function(fi){var mi;return(mi={})[Symbol.iterator]=function(){var pi=fi.commonAncestorContainer,wi=ti.tree_getFirstDescendantNode(pi);return{next:function(){for(;wi&&!hi(wi,fi);)wi=ti.tree_getNextDescendantNode(pi,wi);if(wi===null)return{done:!0,value:null};var gi={done:!1,value:wi};return wi=ti.tree_getNextDescendantNode(pi,wi),gi}}},mi}},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=Xe(9);qe.selectors_scopeMatchASelectorsString=function(Ke,Ze){throw new Ye.NotSupportedError}},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=Xe(1),Ke=Xe(105);qe.treeWalker_traverseChildren=function(Ze,Qe){for(var Je=Qe?Ze._current._firstChild:Ze._current._lastChild;Je!==null;){var St=Ke.traversal_filter(Ze,Je);if(St===Ye.FilterResult.Accept)return Ze._current=Je,Je;if(St===Ye.FilterResult.Skip){var ei=Qe?Je._firstChild:Je._lastChild;if(ei!==null){Je=ei;continue}}for(;Je!==null;){var ti=Qe?Je._nextSibling:Je._previousSibling;if(ti!==null){Je=ti;break}var ii=Je._parent;if(ii===null||ii===Ze._root||ii===Ze._current)return null;Je=ii}}return null},qe.treeWalker_traverseSiblings=function(Ze,Qe){var Je=Ze._current;if(Je===Ze._root)return null;for(;;){for(var St=Qe?Je._nextSibling:Je._previousSibling;St!==null;){Je=St;var ei=Ke.traversal_filter(Ze,Je);if(ei===Ye.FilterResult.Accept)return Ze._current=Je,Je;St=Qe?Je._firstChild:Je._lastChild,ei!==Ye.FilterResult.Reject&&St!==null||(St=Qe?Je._nextSibling:Je._previousSibling)}if((Je=Je._parent)===null||Je===Ze._root||Ke.traversal_filter(Ze,Je)===Ye.FilterResult.Accept)return null}}},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0}),qe.nonEntityAmpersandRegex=/&(?![A-Za-z]+;|#\d+;)/g},function(ze,qe,Xe){Xe(89),Xe(74);var Ye,Ke=this&&this.__extends||(Ye=function(ti,ii){return(Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ri,si){ri.__proto__=si}||function(ri,si){for(var ui in si)si.hasOwnProperty(ui)&&(ri[ui]=si[ui])})(ti,ii)},function(ti,ii){function ri(){this.constructor=ti}Ye(ti,ii),ti.prototype=ii===null?Object.create(ii):(ri.prototype=ii.prototype,new ri)});Object.defineProperty(qe,"__esModule",{value:!0});var Ze=Xe(2),Qe=Xe(1),Je=Xe(50),St=Xe(3),ei=function(ti){function ii(ri,si){var ui=ti.call(this,ri)||this;return ui._indentation={},ui._lengthToLastNewline=0,ui._writerOptions=Ze.applyDefaults(si,{wellFormed:!1,headless:!1,prettyPrint:!1,indent:"  ",newline:`
`,offset:0,width:0,allowEmptyTags:!1,indentTextOnlyNodes:!1,spaceBeforeSlash:!1}),ui}return Ke(ii,ti),ii.prototype.serialize=function(ri){return this._refs={suppressPretty:!1,emptyNode:!1,markup:""},ri.nodeType!==Qe.NodeType.Document||this._writerOptions.headless||this.declaration(this._builderOptions.version,this._builderOptions.encoding,this._builderOptions.standalone),this.serializeNode(ri,this._writerOptions.wellFormed),this._writerOptions.prettyPrint&&this._refs.markup.slice(-this._writerOptions.newline.length)===this._writerOptions.newline&&(this._refs.markup=this._refs.markup.slice(0,-this._writerOptions.newline.length)),this._refs.markup},ii.prototype.declaration=function(ri,si,ui){this._beginLine(),this._refs.markup+='<?xml version="'+ri+'"',si!==void 0&&(this._refs.markup+=' encoding="'+si+'"'),ui!==void 0&&(this._refs.markup+=' standalone="'+(ui?"yes":"no")+'"'),this._refs.markup+="?>",this._endLine()},ii.prototype.docType=function(ri,si,ui){this._beginLine(),this._refs.markup+=si&&ui?"<!DOCTYPE "+ri+' PUBLIC "'+si+'" "'+ui+'">':si?"<!DOCTYPE "+ri+' PUBLIC "'+si+'">':ui?"<!DOCTYPE "+ri+' SYSTEM "'+ui+'">':"<!DOCTYPE "+ri+">",this._endLine()},ii.prototype.openTagBegin=function(ri){this._beginLine(),this._refs.markup+="<"+ri},ii.prototype.openTagEnd=function(ri,si,ui){if(this._refs.suppressPretty=!1,this._refs.emptyNode=!1,this._writerOptions.prettyPrint&&!si&&!ui){for(var ai=!0,oi=!0,ni=this.currentNode.firstChild,ci=0,hi=0;ni;){if(St.Guard.isExclusiveTextNode(ni))hi++;else{if(!St.Guard.isCDATASectionNode(ni)){ai=!1,oi=!1;break}ci++}ni.data!==""&&(oi=!1),ni=ni.nextSibling}this._refs.suppressPretty=!this._writerOptions.indentTextOnlyNodes&&ai&&(ci<=1&&hi===0||ci===0),this._refs.emptyNode=oi}(ui||si||this._refs.emptyNode)&&this._writerOptions.allowEmptyTags?this._refs.markup+="></"+ri+">":this._refs.markup+=ui?" />":si||this._refs.emptyNode?this._writerOptions.spaceBeforeSlash?" />":"/>":">",this._endLine()},ii.prototype.closeTag=function(ri){this._refs.emptyNode||(this._beginLine(),this._refs.markup+="</"+ri+">"),this._refs.suppressPretty=!1,this._refs.emptyNode=!1,this._endLine()},ii.prototype.attribute=function(ri,si){var ui=ri+'="'+si+'"';this._writerOptions.prettyPrint&&this._writerOptions.width>0&&this._refs.markup.length-this._lengthToLastNewline+1+ui.length>this._writerOptions.width?(this._endLine(),this._beginLine(),this._refs.markup+=this._indent(1)+ui):this._refs.markup+=" "+ui},ii.prototype.text=function(ri){ri!==""&&(this._beginLine(),this._refs.markup+=ri,this._endLine())},ii.prototype.cdata=function(ri){ri!==""&&(this._beginLine(),this._refs.markup+="<![CDATA["+ri+"]]>",this._endLine())},ii.prototype.comment=function(ri){this._beginLine(),this._refs.markup+="<!--"+ri+"-->",this._endLine()},ii.prototype.instruction=function(ri,si){this._beginLine(),this._refs.markup+="<?"+(si===""?ri:ri+" "+si)+"?>",this._endLine()},ii.prototype._beginLine=function(){this._writerOptions.prettyPrint&&!this._refs.suppressPretty&&(this._refs.markup+=this._indent(this._writerOptions.offset+this.level))},ii.prototype._endLine=function(){this._writerOptions.prettyPrint&&!this._refs.suppressPretty&&(this._refs.markup+=this._writerOptions.newline,this._lengthToLastNewline=this._refs.markup.length)},ii.prototype._indent=function(ri){if(ri<=0)return"";if(this._indentation[ri]!==void 0)return this._indentation[ri];var si=this._writerOptions.indent.repeat(ri);return this._indentation[ri]=si,si},ii}(Je.BaseWriter);qe.XMLWriter=ei},function(ze,qe,Xe){var Ye=Xe(47),Ke=Xe(35);ze.exports="".repeat||function(Ze){var Qe=String(Ke(this)),Je="",St=Ye(Ze);if(St<0||St==1/0)throw RangeError("Wrong number of repetitions");for(;St>0;(St>>>=1)&&(Qe+=Qe))1&St&&(Je+=Qe);return Je}},function(ze,qe,Xe){Xe(31),Xe(32),Xe(33),Xe(19),Xe(178),Xe(20),Xe(22),Xe(23);var Ye,Ke=this&&this.__extends||(Ye=function(ei,ti){return(Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ii,ri){ii.__proto__=ri}||function(ii,ri){for(var si in ri)ri.hasOwnProperty(si)&&(ii[si]=ri[si])})(ei,ti)},function(ei,ti){function ii(){this.constructor=ei}Ye(ei,ti),ei.prototype=ti===null?Object.create(ti):(ii.prototype=ti.prototype,new ii)}),Ze=this&&this.__values||function(ei){var ti=typeof Symbol=="function"&&Symbol.iterator,ii=ti&&ei[ti],ri=0;if(ii)return ii.call(ei);if(ei&&typeof ei.length=="number")return{next:function(){return ei&&ri>=ei.length&&(ei=void 0),{value:ei&&ei[ri++],done:!ei}}};throw new TypeError(ti?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(qe,"__esModule",{value:!0});var Qe=Xe(67),Je=Xe(2),St=function(ei){function ti(ii,ri){var si=ei.call(this,ii)||this;return si._writerOptions=Je.applyDefaults(ri,{wellFormed:!1,prettyPrint:!1,indent:"  ",newline:`
`,offset:0,group:!1,verbose:!1}),si}return Ke(ti,ei),ti.prototype.serialize=function(ii){var ri=Je.applyDefaults(this._writerOptions,{format:"object",wellFormed:!1}),si=new Qe.ObjectWriter(this._builderOptions,ri).serialize(ii);return this._beginLine(this._writerOptions,0)+this._convertObject(si,this._writerOptions)},ti.prototype._convertObject=function(ii,ri,si){var ui,ai,oi=this;si===void 0&&(si=0);var ni="",ci=this._isLeafNode(ii);if(Je.isArray(ii)){ni+="[";var hi=ii.length,di=0;try{for(var fi=Ze(ii),mi=fi.next();!mi.done;mi=fi.next()){var pi=mi.value;ni+=this._endLine(ri,si+1)+this._beginLine(ri,si+1)+this._convertObject(pi,ri,si+1),di<hi-1&&(ni+=","),di++}}catch(yi){ui={error:yi}}finally{try{mi&&!mi.done&&(ai=fi.return)&&ai.call(fi)}finally{if(ui)throw ui.error}}ni+=this._endLine(ri,si)+this._beginLine(ri,si),ni+="]"}else if(Je.isObject(ii)){ni+="{";var wi=Je.objectLength(ii),gi=0;Je.forEachObject(ii,function(yi,Ai){ci&&ri.prettyPrint?ni+=" ":ni+=oi._endLine(ri,si+1)+oi._beginLine(ri,si+1),ni+=oi._key(yi),ri.prettyPrint&&(ni+=" "),ni+=oi._convertObject(Ai,ri,si+1),gi<wi-1&&(ni+=","),gi++},this),ci&&ri.prettyPrint?ni+=" ":ni+=this._endLine(ri,si)+this._beginLine(ri,si),ni+="}"}else ni+=this._val(ii);return ni},ti.prototype._beginLine=function(ii,ri){if(!ii.prettyPrint)return"";var si=ii.offset+ri+1;return si>0?new Array(si).join(ii.indent):""},ti.prototype._endLine=function(ii,ri){return ii.prettyPrint?ii.newline:""},ti.prototype._key=function(ii){return'"'+ii+'":'},ti.prototype._val=function(ii){return JSON.stringify(ii)},ti.prototype._isLeafNode=function(ii){return this._descendantCount(ii)<=1},ti.prototype._descendantCount=function(ii,ri){var si=this;return ri===void 0&&(ri=0),Je.isArray(ii)?Je.forEachArray(ii,function(ui){return ri+=si._descendantCount(ui,ri)},this):Je.isObject(ii)?Je.forEachObject(ii,function(ui,ai){return ri+=si._descendantCount(ai,ri)},this):ri++,ri},ti}(Xe(50).BaseWriter);qe.JSONWriter=St},function(ze,qe,Xe){Xe(31),Xe(32),Xe(33),Xe(19),Xe(178),Xe(89),Xe(20),Xe(22),Xe(23);var Ye,Ke=this&&this.__extends||(Ye=function(ei,ti){return(Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ii,ri){ii.__proto__=ri}||function(ii,ri){for(var si in ri)ri.hasOwnProperty(si)&&(ii[si]=ri[si])})(ei,ti)},function(ei,ti){function ii(){this.constructor=ei}Ye(ei,ti),ei.prototype=ti===null?Object.create(ti):(ii.prototype=ti.prototype,new ii)}),Ze=this&&this.__values||function(ei){var ti=typeof Symbol=="function"&&Symbol.iterator,ii=ti&&ei[ti],ri=0;if(ii)return ii.call(ei);if(ei&&typeof ei.length=="number")return{next:function(){return ei&&ri>=ei.length&&(ei=void 0),{value:ei&&ei[ri++],done:!ei}}};throw new TypeError(ti?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(qe,"__esModule",{value:!0});var Qe=Xe(67),Je=Xe(2),St=function(ei){function ti(ii,ri){var si=ei.call(this,ii)||this;if(si._writerOptions=Je.applyDefaults(ri,{wellFormed:!1,indent:"  ",newline:`
`,offset:0,group:!1,verbose:!1}),si._writerOptions.indent.length<2)throw new Error("YAML indententation string must be at least two characters long.");if(si._writerOptions.offset<0)throw new Error("YAML offset should be zero or a positive number.");return si}return Ke(ti,ei),ti.prototype.serialize=function(ii){var ri=Je.applyDefaults(this._writerOptions,{format:"object",wellFormed:!1}),si=new Qe.ObjectWriter(this._builderOptions,ri).serialize(ii),ui=this._beginLine(this._writerOptions,0)+"---"+this._endLine(this._writerOptions)+this._convertObject(si,this._writerOptions,0);return ui.slice(-this._writerOptions.newline.length)===this._writerOptions.newline&&(ui=ui.slice(0,-this._writerOptions.newline.length)),ui},ti.prototype._convertObject=function(ii,ri,si,ui){var ai,oi,ni=this;ui===void 0&&(ui=!1);var ci="";if(Je.isArray(ii))try{for(var hi=Ze(ii),di=hi.next();!di.done;di=hi.next()){var fi=di.value;ci+=this._beginLine(ri,si,!0),Je.isObject(fi)?Je.isEmpty(fi)?ci+='""'+this._endLine(ri):ci+=this._convertObject(fi,ri,si,!0):ci+=this._val(fi)+this._endLine(ri)}}catch(mi){ai={error:mi}}finally{try{di&&!di.done&&(oi=hi.return)&&oi.call(hi)}finally{if(ai)throw ai.error}}else Je.forEachObject(ii,function(mi,pi){ui?(ci+=ni._key(mi),ui=!1):ci+=ni._beginLine(ri,si)+ni._key(mi),Je.isObject(pi)?Je.isEmpty(pi)?ci+=' ""'+ni._endLine(ri):ci+=ni._endLine(ri)+ni._convertObject(pi,ri,si+1):ci+=" "+ni._val(pi)+ni._endLine(ri)},this);return ci},ti.prototype._beginLine=function(ii,ri,si){si===void 0&&(si=!1);var ui=ii.offset+ri+1,ai=new Array(ui).join(ii.indent);return si?ai.substr(0,ai.length-2)+"-"+ai.substr(-1,1):ai},ti.prototype._endLine=function(ii){return ii.newline},ti.prototype._key=function(ii){return'"'+ii+'":'},ti.prototype._val=function(ii){return JSON.stringify(ii)},ti}(Xe(50).BaseWriter);qe.YAMLWriter=St},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0}),Xe(110).dom.setFeatures(!0);var Ye=Xe(110);qe.DOMImplementation=Ye.DOMImplementation;var Ke=Xe(272);qe.DOMParser=Ke.DOMParser;var Ze=Xe(275);qe.XMLSerializer=Ze.XMLSerializer},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=Xe(3),Ke=Xe(0),Ze=function(){function Qe(){}return Qe.prototype.before=function(){for(var Je=[],St=0;St<arguments.length;St++)Je[St]=arguments[St];var ei=Ye.Cast.asNode(this),ti=ei._parent;if(ti!==null){for(var ii=ei._previousSibling,ri=!0;ri&&ii;){ri=!1;for(var si=0;si<Je.length;si++){var ui=Je[si];if(ui===ii){ii=ii._previousSibling,ri=!0;break}}}var ai=Ke.parentNode_convertNodesIntoANode(Je,ei._nodeDocument);ii=ii===null?ti._firstChild:ii._nextSibling,Ke.mutation_preInsert(ai,ti,ii)}},Qe.prototype.after=function(){for(var Je=[],St=0;St<arguments.length;St++)Je[St]=arguments[St];var ei=Ye.Cast.asNode(this),ti=ei._parent;if(ti){for(var ii=ei._nextSibling,ri=!0;ri&&ii;){ri=!1;for(var si=0;si<Je.length;si++){var ui=Je[si];if(ui===ii){ii=ii._nextSibling,ri=!0;break}}}var ai=Ke.parentNode_convertNodesIntoANode(Je,ei._nodeDocument);Ke.mutation_preInsert(ai,ti,ii)}},Qe.prototype.replaceWith=function(){for(var Je=[],St=0;St<arguments.length;St++)Je[St]=arguments[St];var ei=Ye.Cast.asNode(this),ti=ei._parent;if(ti){for(var ii=ei._nextSibling,ri=!0;ri&&ii;){ri=!1;for(var si=0;si<Je.length;si++){var ui=Je[si];if(ui===ii){ii=ii._nextSibling,ri=!0;break}}}var ai=Ke.parentNode_convertNodesIntoANode(Je,ei._nodeDocument);ei._parent===ti?Ke.mutation_replace(ei,ai,ti):Ke.mutation_preInsert(ai,ti,ii)}},Qe.prototype.remove=function(){var Je=Ye.Cast.asNode(this),St=Je._parent;St&&Ke.mutation_remove(Je,St)},Qe}();qe.ChildNodeImpl=Ze},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=function(){};qe.DocumentOrShadowRootImpl=Ye},function(ze,qe,Xe){var Ye=this&&this.__values||function(St){var ei=typeof Symbol=="function"&&Symbol.iterator,ti=ei&&St[ei],ii=0;if(ti)return ti.call(St);if(St&&typeof St.length=="number")return{next:function(){return St&&ii>=St.length&&(St=void 0),{value:St&&St[ii++],done:!St}}};throw new TypeError(ei?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(qe,"__esModule",{value:!0});var Ke=Xe(6),Ze=Xe(3),Qe=Xe(7),Je=function(){function St(ei){this._nodeList=[],this._recordQueue=[],this._callback=ei;var ti=Ke.dom.window;Qe.set.append(ti._mutationObservers,this)}return St.prototype.observe=function(ei,ti){var ii,ri;if((ti=ti||{childList:!1,subtree:!1}).attributeOldValue===void 0&&ti.attributeFilter===void 0||ti.attributes!==void 0||(ti.attributes=!0),ti.characterDataOldValue!==void 0&&ti.characterData===void 0&&(ti.characterData=!0),!ti.childList&&!ti.attributes&&!ti.characterData)throw new TypeError;if(ti.attributeOldValue&&!ti.attributes)throw new TypeError;if(ti.attributeFilter!==void 0&&!ti.attributes)throw new TypeError;if(ti.characterDataOldValue&&!ti.characterData)throw new TypeError;var si=!1,ui=ti,ai=function(hi){var di,fi;if(hi.observer===oi){si=!0;try{for(var mi=(di=void 0,Ye(oi._nodeList)),pi=mi.next();!pi.done;pi=mi.next()){var wi=pi.value;Qe.list.remove(wi._registeredObserverList,function(gi){return Ze.Guard.isTransientRegisteredObserver(gi)&&gi.source===hi})}}catch(gi){di={error:gi}}finally{try{pi&&!pi.done&&(fi=mi.return)&&fi.call(mi)}finally{if(di)throw di.error}}hi.options=ui}},oi=this;try{for(var ni=Ye(ei._registeredObserverList),ci=ni.next();!ci.done;ci=ni.next())ai(ci.value)}catch(hi){ii={error:hi}}finally{try{ci&&!ci.done&&(ri=ni.return)&&ri.call(ni)}finally{if(ii)throw ii.error}}si||(ei._registeredObserverList.push({observer:this,options:ti}),this._nodeList.push(ei))},St.prototype.disconnect=function(){var ei,ti,ii=this;try{for(var ri=Ye(this._nodeList),si=ri.next();!si.done;si=ri.next()){var ui=si.value;Qe.list.remove(ui._registeredObserverList,function(ai){return ai.observer===ii})}}catch(ai){ei={error:ai}}finally{try{si&&!si.done&&(ti=ri.return)&&ti.call(ri)}finally{if(ei)throw ei.error}}this._recordQueue=[]},St.prototype.takeRecords=function(){var ei=this._recordQueue;return this._recordQueue=[],ei},St}();qe.MutationObserverImpl=Je},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=Xe(3),Ke=function(){function Ze(){}return Object.defineProperty(Ze.prototype,"previousElementSibling",{get:function(){for(var Qe=Ye.Cast.asNode(this)._previousSibling;Qe;){if(Ye.Guard.isElementNode(Qe))return Qe;Qe=Qe._previousSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(Ze.prototype,"nextElementSibling",{get:function(){for(var Qe=Ye.Cast.asNode(this)._nextSibling;Qe;){if(Ye.Guard.isElementNode(Qe))return Qe;Qe=Qe._nextSibling}return null},enumerable:!0,configurable:!0}),Ze}();qe.NonDocumentTypeChildNodeImpl=Ke},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=Xe(3),Ke=Xe(0),Ze=function(){function Qe(){}return Qe.prototype.getElementById=function(Je){for(var St=Ke.tree_getFirstDescendantNode(Ye.Cast.asNode(this),!1,!1,function(ei){return Ye.Guard.isElementNode(ei)});St!==null;){if(St._uniqueIdentifier===Je)return St;St=Ke.tree_getNextDescendantNode(Ye.Cast.asNode(this),St,!1,!1,function(ei){return Ye.Guard.isElementNode(ei)})}return null},Qe}();qe.NonElementParentNodeImpl=Ze},function(ze,qe,Xe){var Ye=this&&this.__values||function(Je){var St=typeof Symbol=="function"&&Symbol.iterator,ei=St&&Je[St],ti=0;if(ei)return ei.call(Je);if(Je&&typeof Je.length=="number")return{next:function(){return Je&&ti>=Je.length&&(Je=void 0),{value:Je&&Je[ti++],done:!Je}}};throw new TypeError(St?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(qe,"__esModule",{value:!0});var Ke=Xe(3),Ze=Xe(0),Qe=function(){function Je(){}return Object.defineProperty(Je.prototype,"children",{get:function(){return Ze.create_htmlCollection(Ke.Cast.asNode(this))},enumerable:!0,configurable:!0}),Object.defineProperty(Je.prototype,"firstElementChild",{get:function(){for(var St=Ke.Cast.asNode(this)._firstChild;St;){if(Ke.Guard.isElementNode(St))return St;St=St._nextSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(Je.prototype,"lastElementChild",{get:function(){for(var St=Ke.Cast.asNode(this)._lastChild;St;){if(Ke.Guard.isElementNode(St))return St;St=St._previousSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(Je.prototype,"childElementCount",{get:function(){var St,ei,ti=0;try{for(var ii=Ye(Ke.Cast.asNode(this)._children),ri=ii.next();!ri.done;ri=ii.next()){var si=ri.value;Ke.Guard.isElementNode(si)&&ti++}}catch(ui){St={error:ui}}finally{try{ri&&!ri.done&&(ei=ii.return)&&ei.call(ii)}finally{if(St)throw St.error}}return ti},enumerable:!0,configurable:!0}),Je.prototype.prepend=function(){for(var St=[],ei=0;ei<arguments.length;ei++)St[ei]=arguments[ei];var ti=Ke.Cast.asNode(this),ii=Ze.parentNode_convertNodesIntoANode(St,ti._nodeDocument);Ze.mutation_preInsert(ii,ti,ti._firstChild)},Je.prototype.append=function(){for(var St=[],ei=0;ei<arguments.length;ei++)St[ei]=arguments[ei];var ti=Ke.Cast.asNode(this),ii=Ze.parentNode_convertNodesIntoANode(St,ti._nodeDocument);Ze.mutation_append(ii,ti)},Je.prototype.querySelector=function(St){var ei=Ke.Cast.asNode(this),ti=Ze.selectors_scopeMatchASelectorsString(St,ei);return ti.length===0?null:ti[0]},Je.prototype.querySelectorAll=function(St){var ei=Ke.Cast.asNode(this),ti=Ze.selectors_scopeMatchASelectorsString(St,ei);return Ze.create_nodeListStatic(ei,ti)},Je}();qe.ParentNodeImpl=Qe},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=Xe(0),Ke=function(){function Ze(){}return Object.defineProperty(Ze.prototype,"_name",{get:function(){return this.__name||""},set:function(Qe){this.__name=Qe},enumerable:!0,configurable:!0}),Object.defineProperty(Ze.prototype,"_assignedSlot",{get:function(){return this.__assignedSlot||null},set:function(Qe){this.__assignedSlot=Qe},enumerable:!0,configurable:!0}),Object.defineProperty(Ze.prototype,"assignedSlot",{get:function(){return Ye.shadowTree_findASlot(this,!0)},enumerable:!0,configurable:!0}),Ze}();qe.SlotableImpl=Ke},function(ze,qe,Xe){var Ye,Ke=this&&this.__extends||(Ye=function(ei,ti){return(Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ii,ri){ii.__proto__=ri}||function(ii,ri){for(var si in ri)ri.hasOwnProperty(si)&&(ii[si]=ri[si])})(ei,ti)},function(ei,ti){function ii(){this.constructor=ei}Ye(ei,ti),ei.prototype=ti===null?Object.create(ti):(ii.prototype=ti.prototype,new ii)});Object.defineProperty(qe,"__esModule",{value:!0});var Ze=Xe(102),Qe=Xe(9),Je=Xe(3),St=function(ei){function ti(ii){var ri=ei.call(this)||this;if(Je.Guard.isDocumentTypeNode(ii.startContainer)||Je.Guard.isAttrNode(ii.startContainer)||Je.Guard.isDocumentTypeNode(ii.endContainer)||Je.Guard.isAttrNode(ii.endContainer))throw new Qe.InvalidNodeTypeError;return ri._start=[ii.startContainer,ii.startOffset],ri._end=[ii.endContainer,ii.endOffset],ri}return Ke(ti,ei),ti}(Ze.AbstractRangeImpl);qe.StaticRangeImpl=St},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=Xe(273);qe.DOMParser=Ye.DOMParserImpl},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=Xe(0),Ke=Xe(274),Ze=function(){function Qe(){}return Qe.prototype.parseFromString=function(Je,St){if(St==="text/html")throw new Error("HTML parser not implemented.");try{return(ei=new Ke.XMLParserImpl().parse(Je))._contentType=St,ei}catch(si){var ei,ti="http://www.mozilla.org/newlayout/xml/parsererror.xml",ii=(ei=Ye.create_xmlDocument()).createElementNS(ti,"parsererror"),ri=ei.createElementNS(ti,"error");return ri.setAttribute("message",si.message),ii.appendChild(ri),ei.appendChild(ii),ei}},Qe}();qe.DOMParserImpl=Ze},function(ze,qe,Xe){var Ye=this&&this.__read||function(ii,ri){var si=typeof Symbol=="function"&&ii[Symbol.iterator];if(!si)return ii;var ui,ai,oi=si.call(ii),ni=[];try{for(;(ri===void 0||ri-- >0)&&!(ui=oi.next()).done;)ni.push(ui.value)}catch(ci){ai={error:ci}}finally{try{ui&&!ui.done&&(si=oi.return)&&si.call(oi)}finally{if(ai)throw ai.error}}return ni},Ke=this&&this.__values||function(ii){var ri=typeof Symbol=="function"&&Symbol.iterator,si=ri&&ii[ri],ui=0;if(si)return si.call(ii);if(ii&&typeof ii.length=="number")return{next:function(){return ii&&ui>=ii.length&&(ii=void 0),{value:ii&&ii[ui++],done:!ii}}};throw new TypeError(ri?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(qe,"__esModule",{value:!0});var Ze=Xe(180),Qe=Xe(111),Je=Xe(7),St=Xe(0),ei=Xe(69),ti=function(){function ii(){}return ii.prototype.parse=function(ri){for(var si,ui,ai,oi,ni=new Ze.XMLStringLexer(ri,{skipWhitespaceOnlyText:!0}),ci=St.create_document(),hi=ci,di=ni.nextToken();di.type!==Qe.TokenType.EOF;){switch(di.type){case Qe.TokenType.Declaration:var fi=di;if(fi.version!=="1.0")throw new Error("Invalid xml version: "+fi.version);break;case Qe.TokenType.DocType:var mi=di;if(!St.xml_isPubidChar(mi.pubId))throw new Error("DocType public identifier does not match PubidChar construct.");if(!St.xml_isLegalChar(mi.sysId)||mi.sysId.indexOf('"')!==-1&&mi.sysId.indexOf("'")!==-1)throw new Error("DocType system identifier contains invalid characters.");hi.appendChild(ci.implementation.createDocumentType(mi.name,mi.pubId,mi.sysId));break;case Qe.TokenType.CDATA:var pi=di;if(!St.xml_isLegalChar(pi.data)||pi.data.indexOf("]]>")!==-1)throw new Error("CDATA contains invalid characters.");hi.appendChild(ci.createCDATASection(pi.data));break;case Qe.TokenType.Comment:var wi=di;if(!St.xml_isLegalChar(wi.data)||wi.data.indexOf("--")!==-1||wi.data.endsWith("-"))throw new Error("Comment data contains invalid characters.");hi.appendChild(ci.createComment(wi.data));break;case Qe.TokenType.PI:var gi=di;if(gi.target.indexOf(":")!==-1||/^xml$/i.test(gi.target))throw new Error("Processing instruction target contains invalid characters.");if(!St.xml_isLegalChar(gi.data)||gi.data.indexOf("?>")!==-1)throw new Error("Processing instruction data contains invalid characters.");hi.appendChild(ci.createProcessingInstruction(gi.target,gi.data));break;case Qe.TokenType.Text:var yi=di;if(!St.xml_isLegalChar(yi.data))throw new Error("Text data contains invalid characters.");hi.appendChild(ci.createTextNode(this._decodeText(yi.data)));break;case Qe.TokenType.Element:var Ai=di,Si=Ye(St.namespace_extractQName(Ai.name),2),ki=Si[0],Li=Si[1];if(Li.indexOf(":")!==-1||!St.xml_isName(Li))throw new Error("Node local name contains invalid characters.");if(ki==="xmlns")throw new Error("An element cannot have the 'xmlns' prefix.");var Bi=hi.lookupNamespaceURI(ki),Pi={};try{for(var Ri=(si=void 0,Ke(Ai.attributes)),Fi=Ri.next();!Fi.done;Fi=Ri.next()){var Gi=Ye(Fi.value,2),Ti=Gi[0],Vi=Gi[1];if(Ti==="xmlns")Bi=Vi;else{var Ui=Ye(St.namespace_extractQName(Ti),2),$i=Ui[0],Wi=Ui[1];$i==="xmlns"&&(Wi===ki&&(Bi=Vi),Pi[Wi]=Vi)}}}catch(Ii){si={error:Ii}}finally{try{Fi&&!Fi.done&&(ui=Ri.return)&&ui.call(Ri)}finally{if(si)throw si.error}}var tn=Bi!==null?ci.createElementNS(Bi,Ai.name):ci.createElement(Ai.name);hi.appendChild(tn);var nn=new ei.LocalNameSet;try{for(var Qi=(ai=void 0,Ke(Ai.attributes)),Ei=Qi.next();!Ei.done;Ei=Qi.next()){var bi=Ye(Ei.value,2),Ci=(Ti=bi[0],Vi=bi[1],Ye(St.namespace_extractQName(Ti),2)),_i=($i=Ci[0],Wi=Ci[1],null);if($i==="xmlns"||$i===null&&Wi==="xmlns"?_i=Je.namespace.XMLNS:(_i=tn.lookupNamespaceURI($i))!==null&&tn.isDefaultNamespace(_i)?_i=null:_i===null&&$i!==null&&(_i=Pi[$i]||null),nn.has(_i,Wi))throw new Error("Element contains duplicate attributes.");if(nn.set(_i,Wi),_i===Je.namespace.XMLNS&&Vi===Je.namespace.XMLNS)throw new Error("XMLNS namespace is reserved.");if(Wi.indexOf(":")!==-1||!St.xml_isName(Wi))throw new Error("Attribute local name contains invalid characters.");if($i==="xmlns"&&Vi==="")throw new Error("Empty XML namespace is not allowed.");_i!==null?tn.setAttributeNS(_i,Ti,this._decodeAttributeValue(Vi)):tn.setAttribute(Ti,this._decodeAttributeValue(Vi))}}catch(Ii){ai={error:Ii}}finally{try{Ei&&!Ei.done&&(oi=Qi.return)&&oi.call(Qi)}finally{if(ai)throw ai.error}}Ai.selfClosing||(hi=tn);break;case Qe.TokenType.ClosingTag:if(di.name!==hi.nodeName)throw new Error("Closing tag name does not match opening tag name.");hi._parent&&(hi=hi._parent)}di=ni.nextToken()}return ci},ii.prototype._decodeText=function(ri){return ri==null?ri:ri.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},ii.prototype._decodeAttributeValue=function(ri){return ri==null?ri:ri.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},ii}();qe.XMLParserImpl=ti},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=Xe(276);qe.XMLSerializer=Ye.XMLSerializerImpl},function(ze,qe,Xe){var Ye=this&&this.__values||function(ii){var ri=typeof Symbol=="function"&&Symbol.iterator,si=ri&&ii[ri],ui=0;if(si)return si.call(ii);if(ii&&typeof ii.length=="number")return{next:function(){return ii&&ui>=ii.length&&(ii=void 0),{value:ii&&ii[ui++],done:!ii}}};throw new TypeError(ri?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(qe,"__esModule",{value:!0});var Ke=Xe(1),Ze=Xe(69),Qe=Xe(95),Je=Xe(9),St=Xe(7),ei=Xe(0),ti=function(){function ii(){}return ii.prototype.serializeToString=function(ri){return this._xmlSerialization(ri,!1)},ii.prototype._xmlSerialization=function(ri,si){if(ri._nodeDocument===void 0||ri._nodeDocument._hasNamespaces){var ui=new Qe.NamespacePrefixMap;ui.set("xml",St.namespace.XML);try{return this._serializeNodeNS(ri,null,ui,{value:1},si)}catch{throw new Je.InvalidStateError}}else try{return this._serializeNode(ri,si)}catch{throw new Je.InvalidStateError}},ii.prototype._serializeNodeNS=function(ri,si,ui,ai,oi){switch(ri.nodeType){case Ke.NodeType.Element:return this._serializeElementNS(ri,si,ui,ai,oi);case Ke.NodeType.Document:return this._serializeDocumentNS(ri,si,ui,ai,oi);case Ke.NodeType.Comment:return this._serializeComment(ri,oi);case Ke.NodeType.Text:return this._serializeText(ri,oi);case Ke.NodeType.DocumentFragment:return this._serializeDocumentFragmentNS(ri,si,ui,ai,oi);case Ke.NodeType.DocumentType:return this._serializeDocumentType(ri,oi);case Ke.NodeType.ProcessingInstruction:return this._serializeProcessingInstruction(ri,oi);case Ke.NodeType.CData:return this._serializeCData(ri,oi);default:throw new Error("Unknown node type: "+ri.nodeType)}},ii.prototype._serializeNode=function(ri,si){switch(ri.nodeType){case Ke.NodeType.Element:return this._serializeElement(ri,si);case Ke.NodeType.Document:return this._serializeDocument(ri,si);case Ke.NodeType.Comment:return this._serializeComment(ri,si);case Ke.NodeType.Text:return this._serializeText(ri,si);case Ke.NodeType.DocumentFragment:return this._serializeDocumentFragment(ri,si);case Ke.NodeType.DocumentType:return this._serializeDocumentType(ri,si);case Ke.NodeType.ProcessingInstruction:return this._serializeProcessingInstruction(ri,si);case Ke.NodeType.CData:return this._serializeCData(ri,si);default:throw new Error("Unknown node type: "+ri.nodeType)}},ii.prototype._serializeElementNS=function(ri,si,ui,ai,oi){var ni,ci;if(oi&&(ri.localName.indexOf(":")!==-1||!ei.xml_isName(ri.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var hi="<",di="",fi=!1,mi=!1,pi=ui.copy(),wi={},gi=this._recordNamespaceInformation(ri,pi,wi),yi=si,Ai=ri.namespaceURI;if(yi===Ai)gi!==null&&(mi=!0),hi+=di=Ai===St.namespace.XML?"xml:"+ri.localName:ri.localName;else{var Si=ri.prefix,ki=null;if(Si===null&&Ai===gi||(ki=pi.get(Si,Ai)),Si==="xmlns"){if(oi)throw new Error("An element cannot have the 'xmlns' prefix (well-formed required).");ki=Si}ki!==null?(di=ki+":"+ri.localName,gi!==null&&gi!==St.namespace.XML&&(yi=gi||null),hi+=di):Si!==null?(Si in wi&&(Si=this._generatePrefix(Ai,pi,ai)),pi.set(Si,Ai),hi+=di+=Si+":"+ri.localName,hi+=" xmlns:"+Si+'="'+this._serializeAttributeValue(Ai,oi)+'"',gi!==null&&(yi=gi||null)):gi===null||gi!==null&&gi!==Ai?(mi=!0,yi=Ai,hi+=di+=ri.localName,hi+=' xmlns="'+this._serializeAttributeValue(Ai,oi)+'"'):(yi=Ai,hi+=di+=ri.localName)}hi+=this._serializeAttributesNS(ri,pi,ai,wi,mi,oi);var Li=Ai===St.namespace.HTML;if(Li&&ri.childNodes.length===0&&ii._VoidElementNames.has(ri.localName)?(hi+=" /",fi=!0):Li||ri.childNodes.length!==0||(hi+="/",fi=!0),hi+=">",fi)return hi;if(!(Li&&ri.localName==="template"))try{for(var Bi=Ye(ri._children||ri.childNodes),Pi=Bi.next();!Pi.done;Pi=Bi.next()){var Ri=Pi.value;hi+=this._serializeNodeNS(Ri,yi,pi,ai,oi)}}catch(Fi){ni={error:Fi}}finally{try{Pi&&!Pi.done&&(ci=Bi.return)&&ci.call(Bi)}finally{if(ni)throw ni.error}}return hi+="</"+di+">"},ii.prototype._serializeDocumentNS=function(ri,si,ui,ai,oi){var ni,ci;if(oi&&ri.documentElement===null)throw new Error("Missing document element (well-formed required).");var hi="";try{for(var di=Ye(ri._children||ri.childNodes),fi=di.next();!fi.done;fi=di.next()){var mi=fi.value;hi+=this._serializeNodeNS(mi,si,ui,ai,oi)}}catch(pi){ni={error:pi}}finally{try{fi&&!fi.done&&(ci=di.return)&&ci.call(di)}finally{if(ni)throw ni.error}}return hi},ii.prototype._serializeComment=function(ri,si){if(si&&(!ei.xml_isLegalChar(ri.data)||ri.data.indexOf("--")!==-1||ri.data.endsWith("-")))throw new Error("Comment data contains invalid characters (well-formed required).");return"<!--"+ri.data+"-->"},ii.prototype._serializeText=function(ri,si){if(si&&!ei.xml_isLegalChar(ri.data))throw new Error("Text data contains invalid characters (well-formed required).");for(var ui="",ai=0;ai<ri.data.length;ai++){var oi=ri.data[ai];ui+=oi==="&"?"&amp;":oi==="<"?"&lt;":oi===">"?"&gt;":oi}return ui},ii.prototype._serializeDocumentFragmentNS=function(ri,si,ui,ai,oi){var ni,ci,hi="";try{for(var di=Ye(ri._children||ri.childNodes),fi=di.next();!fi.done;fi=di.next()){var mi=fi.value;hi+=this._serializeNodeNS(mi,si,ui,ai,oi)}}catch(pi){ni={error:pi}}finally{try{fi&&!fi.done&&(ci=di.return)&&ci.call(di)}finally{if(ni)throw ni.error}}return hi},ii.prototype._serializeDocumentType=function(ri,si){if(si&&!ei.xml_isPubidChar(ri.publicId))throw new Error("DocType public identifier does not match PubidChar construct (well-formed required).");if(si&&(!ei.xml_isLegalChar(ri.systemId)||ri.systemId.indexOf('"')!==-1&&ri.systemId.indexOf("'")!==-1))throw new Error("DocType system identifier contains invalid characters (well-formed required).");return ri.publicId&&ri.systemId?"<!DOCTYPE "+ri.name+' PUBLIC "'+ri.publicId+'" "'+ri.systemId+'">':ri.publicId?"<!DOCTYPE "+ri.name+' PUBLIC "'+ri.publicId+'">':ri.systemId?"<!DOCTYPE "+ri.name+' SYSTEM "'+ri.systemId+'">':"<!DOCTYPE "+ri.name+">"},ii.prototype._serializeProcessingInstruction=function(ri,si){if(si&&(ri.target.indexOf(":")!==-1||/^xml$/i.test(ri.target)))throw new Error("Processing instruction target contains invalid characters (well-formed required).");if(si&&(!ei.xml_isLegalChar(ri.data)||ri.data.indexOf("?>")!==-1))throw new Error("Processing instruction data contains invalid characters (well-formed required).");return"<?"+(ri.data===""?ri.target:ri.target+" "+ri.data)+"?>"},ii.prototype._serializeCData=function(ri,si){if(si&&ri.data.indexOf("]]>")!==-1)throw new Error("CDATA contains invalid characters (well-formed required).");return"<![CDATA["+ri.data+"]]>"},ii.prototype._serializeAttributesNS=function(ri,si,ui,ai,oi,ni){var ci,hi,di="",fi=ni?new Ze.LocalNameSet:void 0;try{for(var mi=Ye(ri.attributes),pi=mi.next();!pi.done;pi=mi.next()){var wi=pi.value;if(oi||ni||wi.namespaceURI!==null){if(ni&&fi&&fi.has(wi.namespaceURI,wi.localName))throw new Error("Element contains duplicate attributes (well-formed required).");ni&&fi&&fi.set(wi.namespaceURI,wi.localName);var gi=wi.namespaceURI,yi=null;if(gi!==null)if(yi=si.get(wi.prefix,gi),gi===St.namespace.XMLNS){if(wi.value===St.namespace.XML||wi.prefix===null&&oi||wi.prefix!==null&&(!(wi.localName in ai)||ai[wi.localName]!==wi.value)&&si.has(wi.localName,wi.value))continue;if(ni&&wi.value===St.namespace.XMLNS)throw new Error("XMLNS namespace is reserved (well-formed required).");if(ni&&wi.value==="")throw new Error("Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required).");wi.prefix==="xmlns"&&(yi="xmlns")}else yi===null&&(di+=" xmlns:"+(yi=wi.prefix===null||si.hasPrefix(wi.prefix)&&!si.has(wi.prefix,gi)?this._generatePrefix(gi,si,ui):wi.prefix)+'="'+this._serializeAttributeValue(gi,ni)+'"');if(di+=" ",yi!==null&&(di+=yi+":"),ni&&(wi.localName.indexOf(":")!==-1||!ei.xml_isName(wi.localName)||wi.localName==="xmlns"&&gi===null))throw new Error("Attribute local name contains invalid characters (well-formed required).");di+=wi.localName+'="'+this._serializeAttributeValue(wi.value,ni)+'"'}else di+=" "+wi.localName+'="'+this._serializeAttributeValue(wi.value,ni)+'"'}}catch(Ai){ci={error:Ai}}finally{try{pi&&!pi.done&&(hi=mi.return)&&hi.call(mi)}finally{if(ci)throw ci.error}}return di},ii.prototype._recordNamespaceInformation=function(ri,si,ui){var ai,oi,ni=null;try{for(var ci=Ye(ri.attributes),hi=ci.next();!hi.done;hi=ci.next()){var di=hi.value,fi=di.namespaceURI,mi=di.prefix;if(fi===St.namespace.XMLNS){if(mi===null){ni=di.value;continue}var pi=di.localName,wi=di.value;if(wi===St.namespace.XML||(wi===""&&(wi=null),si.has(pi,wi)))continue;si.set(pi,wi),ui[pi]=wi||""}}}catch(gi){ai={error:gi}}finally{try{hi&&!hi.done&&(oi=ci.return)&&oi.call(ci)}finally{if(ai)throw ai.error}}return ni},ii.prototype._generatePrefix=function(ri,si,ui){var ai="ns"+ui.value;return ui.value++,si.set(ai,ri),ai},ii.prototype._serializeAttributeValue=function(ri,si){if(si&&ri!==null&&!ei.xml_isLegalChar(ri))throw new Error("Invalid characters in attribute value.");if(ri===null)return"";for(var ui="",ai=0;ai<ri.length;ai++){var oi=ri[ai];ui+=oi==='"'?"&quot;":oi==="&"?"&amp;":oi==="<"?"&lt;":oi===">"?"&gt;":oi}return ui},ii.prototype._serializeElement=function(ri,si){var ui,ai;if(si&&(ri.localName.indexOf(":")!==-1||!ei.xml_isName(ri.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var oi=!1,ni=ri.localName,ci="<"+ni;if(ci+=this._serializeAttributes(ri,si),ri._children.size===0&&(ci+="/",oi=!0),ci+=">",oi)return ci;try{for(var hi=Ye(ri._children),di=hi.next();!di.done;di=hi.next()){var fi=di.value;ci+=this._serializeNode(fi,si)}}catch(mi){ui={error:mi}}finally{try{di&&!di.done&&(ai=hi.return)&&ai.call(hi)}finally{if(ui)throw ui.error}}return ci+="</"+ni+">"},ii.prototype._serializeDocument=function(ri,si){var ui,ai;if(si&&ri.documentElement===null)throw new Error("Missing document element (well-formed required).");var oi="";try{for(var ni=Ye(ri._children),ci=ni.next();!ci.done;ci=ni.next()){var hi=ci.value;oi+=this._serializeNode(hi,si)}}catch(di){ui={error:di}}finally{try{ci&&!ci.done&&(ai=ni.return)&&ai.call(ni)}finally{if(ui)throw ui.error}}return oi},ii.prototype._serializeDocumentFragment=function(ri,si){var ui,ai,oi="";try{for(var ni=Ye(ri._children),ci=ni.next();!ci.done;ci=ni.next()){var hi=ci.value;oi+=this._serializeNode(hi,si)}}catch(di){ui={error:di}}finally{try{ci&&!ci.done&&(ai=ni.return)&&ai.call(ni)}finally{if(ui)throw ui.error}}return oi},ii.prototype._serializeAttributes=function(ri,si){var ui,ai,oi="",ni=si?{}:void 0;try{for(var ci=Ye(ri.attributes),hi=ci.next();!hi.done;hi=ci.next()){var di=hi.value;if(si&&ni&&di.localName in ni)throw new Error("Element contains duplicate attributes (well-formed required).");if(si&&ni&&(ni[di.localName]=!0),si&&(di.localName.indexOf(":")!==-1||!ei.xml_isName(di.localName)))throw new Error("Attribute local name contains invalid characters (well-formed required).");oi+=" "+di.localName+'="'+this._serializeAttributeValue(di.value,si)+'"'}}catch(fi){ui={error:fi}}finally{try{hi&&!hi.done&&(ai=ci.return)&&ai.call(ci)}finally{if(ui)throw ui.error}}return oi},ii._VoidElementNames=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),ii}();qe.XMLSerializerImpl=ti},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=Xe(278);qe.XMLReader=Ye.XMLReader;var Ke=Xe(112);qe.ObjectReader=Ke.ObjectReader;var Ze=Xe(281);qe.JSONReader=Ze.JSONReader;var Qe=Xe(282);qe.YAMLReader=Qe.YAMLReader},function(ze,qe,Xe){Xe(31),Xe(32),Xe(33),Xe(19),Xe(65),Xe(20),Xe(22),Xe(23);var Ye,Ke=this&&this.__extends||(Ye=function(si,ui){return(Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ai,oi){ai.__proto__=oi}||function(ai,oi){for(var ni in oi)oi.hasOwnProperty(ni)&&(ai[ni]=oi[ni])})(si,ui)},function(si,ui){function ai(){this.constructor=si}Ye(si,ui),si.prototype=ui===null?Object.create(ui):(ai.prototype=ui.prototype,new ai)}),Ze=this&&this.__read||function(si,ui){var ai=typeof Symbol=="function"&&si[Symbol.iterator];if(!ai)return si;var oi,ni,ci=ai.call(si),hi=[];try{for(;(ui===void 0||ui-- >0)&&!(oi=ci.next()).done;)hi.push(oi.value)}catch(di){ni={error:di}}finally{try{oi&&!oi.done&&(ai=ci.return)&&ai.call(ci)}finally{if(ni)throw ni.error}}return hi},Qe=this&&this.__values||function(si){var ui=typeof Symbol=="function"&&Symbol.iterator,ai=ui&&si[ui],oi=0;if(ai)return ai.call(si);if(si&&typeof si.length=="number")return{next:function(){return si&&oi>=si.length&&(si=void 0),{value:si&&si[oi++],done:!si}}};throw new TypeError(ui?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(qe,"__esModule",{value:!0});var Je=Xe(180),St=Xe(111),ei=Xe(1),ti=Xe(7),ii=Xe(0),ri=function(si){function ui(){return si!==null&&si.apply(this,arguments)||this}return Ke(ui,si),ui.prototype._parse=function(ai,oi){for(var ni,ci,hi,di,fi=new Je.XMLStringLexer(oi,{skipWhitespaceOnlyText:this._builderOptions.skipWhitespaceOnlyText}),mi=ai,pi=ai,wi=fi.nextToken();wi.type!==St.TokenType.EOF;){switch(wi.type){case St.TokenType.Declaration:var gi=wi,yi=this.sanitize(gi.version);if(yi!=="1.0")throw new Error("Invalid xml version: "+yi);var Ai={version:yi};gi.encoding&&(Ai.encoding=this.sanitize(gi.encoding)),gi.standalone&&(Ai.standalone=this.sanitize(gi.standalone)==="yes"),pi.set(Ai);break;case St.TokenType.DocType:var Si=wi;pi=this.docType(pi,this.sanitize(Si.name),this.sanitize(Si.pubId),this.sanitize(Si.sysId))||pi;break;case St.TokenType.CDATA:var ki=wi;pi=this.cdata(pi,this.sanitize(ki.data))||pi;break;case St.TokenType.Comment:var Li=wi;pi=this.comment(pi,this.sanitize(Li.data))||pi;break;case St.TokenType.PI:var Bi=wi;pi=this.instruction(pi,this.sanitize(Bi.target),this.sanitize(Bi.data))||pi;break;case St.TokenType.Text:if(pi.node.nodeType===ei.NodeType.Document)break;var Pi=wi;pi=this.text(pi,this._decodeText(this.sanitize(Pi.data)))||pi;break;case St.TokenType.Element:var Ri=wi,Fi=this.sanitize(Ri.name),Gi=Ze(ii.namespace_extractQName(Fi),1)[0],Ti=pi.node.lookupNamespaceURI(Gi),Vi={};try{for(var Ui=(ni=void 0,Qe(Ri.attributes)),$i=Ui.next();!$i.done;$i=Ui.next()){var Wi=Ze($i.value,2),tn=Wi[0],nn=Wi[1];if(tn=this.sanitize(tn),nn=this.sanitize(nn),tn==="xmlns")Ti=nn;else{var Qi=Ze(ii.namespace_extractQName(tn),2),Ei=Qi[0],bi=Qi[1];Ei==="xmlns"&&(bi===Gi&&(Ti=nn),Vi[bi]=nn)}}}catch(sn){ni={error:sn}}finally{try{$i&&!$i.done&&(ci=Ui.return)&&ci.call(Ui)}finally{if(ni)throw ni.error}}var Ci=Ti!==null?this.element(pi,Ti,Fi):this.element(pi,void 0,Fi);if(Ci===void 0)break;pi.node===ai.node&&(mi=Ci);try{for(var _i=(hi=void 0,Qe(Ri.attributes)),Ii=_i.next();!Ii.done;Ii=_i.next()){var Ni=Ze(Ii.value,2);tn=Ni[0],nn=Ni[1],tn=this.sanitize(tn),nn=this.sanitize(nn);var Di=Ze(ii.namespace_extractQName(tn),2),Ki=(Ei=Di[0],bi=Di[1],null);Ei==="xmlns"||Ei===null&&bi==="xmlns"?Ki=ti.namespace.XMLNS:(Ki=Ci.node.lookupNamespaceURI(Ei))!==null&&Ci.node.isDefaultNamespace(Ki)?Ki=null:Ki===null&&Ei!==null&&(Ki=Vi[Ei]||null),Ki!==null?this.attribute(Ci,Ki,tn,this._decodeAttributeValue(nn)):this.attribute(Ci,void 0,tn,this._decodeAttributeValue(nn))}}catch(sn){hi={error:sn}}finally{try{Ii&&!Ii.done&&(di=_i.return)&&di.call(_i)}finally{if(hi)throw hi.error}}Ri.selfClosing||(pi=Ci);break;case St.TokenType.ClosingTag:pi.node.parentNode&&(pi=pi.up())}wi=fi.nextToken()}return mi},ui}(Xe(75).BaseReader);qe.XMLReader=ri},function(ze,qe,Xe){var Ye=Xe(4),Ke=Xe(280);Ye({target:"Object",stat:!0,forced:Object.assign!==Ke},{assign:Ke})},function(ze,qe,Xe){var Ye=Xe(16),Ke=Xe(8),Ze=Xe(61),Qe=Xe(85),Je=Xe(79),St=Xe(27),ei=Xe(41),ti=Object.assign,ii=Object.defineProperty;ze.exports=!ti||Ke(function(){if(Ye&&ti({b:1},ti(ii({},"a",{enumerable:!0,get:function(){ii(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var ri={},si={},ui=Symbol();return ri[ui]=7,"abcdefghijklmnopqrst".split("").forEach(function(ai){si[ai]=ai}),ti({},ri)[ui]!=7||Ze(ti({},si)).join("")!="abcdefghijklmnopqrst"})?function(ri,si){for(var ui=St(ri),ai=arguments.length,oi=1,ni=Qe.f,ci=Je.f;ai>oi;)for(var hi,di=ei(arguments[oi++]),fi=ni?Ze(di).concat(ni(di)):Ze(di),mi=fi.length,pi=0;mi>pi;)hi=fi[pi++],Ye&&!ci.call(di,hi)||(ui[hi]=di[hi]);return ui}:ti},function(ze,qe,Xe){var Ye,Ke=this&&this.__extends||(Ye=function(Je,St){return(Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ei,ti){ei.__proto__=ti}||function(ei,ti){for(var ii in ti)ti.hasOwnProperty(ii)&&(ei[ii]=ti[ii])})(Je,St)},function(Je,St){function ei(){this.constructor=Je}Ye(Je,St),Je.prototype=St===null?Object.create(St):(ei.prototype=St.prototype,new ei)});Object.defineProperty(qe,"__esModule",{value:!0});var Ze=Xe(112),Qe=function(Je){function St(){return Je!==null&&Je.apply(this,arguments)||this}return Ke(St,Je),St.prototype._parse=function(ei,ti){return new Ze.ObjectReader(this._builderOptions).parse(ei,JSON.parse(ti))},St}(Xe(75).BaseReader);qe.JSONReader=Qe},function(ze,qe,Xe){var Ye,Ke=this&&this.__extends||(Ye=function(ei,ti){return(Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ii,ri){ii.__proto__=ri}||function(ii,ri){for(var si in ri)ri.hasOwnProperty(si)&&(ii[si]=ri[si])})(ei,ti)},function(ei,ti){function ii(){this.constructor=ei}Ye(ei,ti),ei.prototype=ti===null?Object.create(ti):(ii.prototype=ti.prototype,new ii)});Object.defineProperty(qe,"__esModule",{value:!0});var Ze=Xe(112),Qe=Xe(75),Je=Xe(283),St=function(ei){function ti(){return ei!==null&&ei.apply(this,arguments)||this}return Ke(ti,ei),ti.prototype._parse=function(ii,ri){var si=Je.safeLoad(ri);if(si===void 0)throw new Error("Unable to parse YAML document.");return new Ze.ObjectReader(this._builderOptions).parse(ii,si)},ti}(Qe.BaseReader);qe.YAMLReader=St},function(ze,qe,Xe){var Ye=Xe(284);ze.exports=Ye},function(ze,qe,Xe){var Ye=Xe(285),Ke=Xe(304);function Ze(Qe){return function(){throw new Error("Function "+Qe+" is deprecated and cannot be used.")}}ze.exports.Type=Xe(10),ze.exports.Schema=Xe(39),ze.exports.FAILSAFE_SCHEMA=Xe(113),ze.exports.JSON_SCHEMA=Xe(182),ze.exports.CORE_SCHEMA=Xe(181),ze.exports.DEFAULT_SAFE_SCHEMA=Xe(54),ze.exports.DEFAULT_FULL_SCHEMA=Xe(76),ze.exports.load=Ye.load,ze.exports.loadAll=Ye.loadAll,ze.exports.safeLoad=Ye.safeLoad,ze.exports.safeLoadAll=Ye.safeLoadAll,ze.exports.dump=Ke.dump,ze.exports.safeDump=Ke.safeDump,ze.exports.YAMLException=Xe(53),ze.exports.MINIMAL_SCHEMA=Xe(113),ze.exports.SAFE_SCHEMA=Xe(54),ze.exports.DEFAULT_SCHEMA=Xe(76),ze.exports.scan=Ze("scan"),ze.exports.parse=Ze("parse"),ze.exports.compose=Ze("compose"),ze.exports.addConstructor=Ze("addConstructor")},function(ze,qe,Xe){var Ye=Xe(38),Ke=Xe(53),Ze=Xe(286),Qe=Xe(54),Je=Xe(76),St=Object.prototype.hasOwnProperty,ei=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,ti=/[\x85\u2028\u2029]/,ii=/[,\[\]\{\}]/,ri=/^(?:!|!!|![a-z\-]+!)$/i,si=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function ui(bi){return Object.prototype.toString.call(bi)}function ai(bi){return bi===10||bi===13}function oi(bi){return bi===9||bi===32}function ni(bi){return bi===9||bi===32||bi===10||bi===13}function ci(bi){return bi===44||bi===91||bi===93||bi===123||bi===125}function hi(bi){var Ci;return 48<=bi&&bi<=57?bi-48:97<=(Ci=32|bi)&&Ci<=102?Ci-97+10:-1}function di(bi){return bi===48?"\0":bi===97?"\x07":bi===98?"\b":bi===116||bi===9?"	":bi===110?`
`:bi===118?"\v":bi===102?"\f":bi===114?"\r":bi===101?"\x1B":bi===32?" ":bi===34?'"':bi===47?"/":bi===92?"\\":bi===78?"":bi===95?"":bi===76?"\u2028":bi===80?"\u2029":""}function fi(bi){return bi<=65535?String.fromCharCode(bi):String.fromCharCode(55296+(bi-65536>>10),56320+(bi-65536&1023))}for(var mi=new Array(256),pi=new Array(256),wi=0;wi<256;wi++)mi[wi]=di(wi)?1:0,pi[wi]=di(wi);function gi(bi,Ci){this.input=bi,this.filename=Ci.filename||null,this.schema=Ci.schema||Je,this.onWarning=Ci.onWarning||null,this.legacy=Ci.legacy||!1,this.json=Ci.json||!1,this.listener=Ci.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=bi.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function yi(bi,Ci){return new Ke(Ci,new Ze(bi.filename,bi.input,bi.position,bi.line,bi.position-bi.lineStart))}function Ai(bi,Ci){throw yi(bi,Ci)}function Si(bi,Ci){bi.onWarning&&bi.onWarning.call(null,yi(bi,Ci))}var ki={YAML:function(bi,Ci,_i){var Ii,Ni,Di;bi.version!==null&&Ai(bi,"duplication of %YAML directive"),_i.length!==1&&Ai(bi,"YAML directive accepts exactly one argument"),(Ii=/^([0-9]+)\.([0-9]+)$/.exec(_i[0]))===null&&Ai(bi,"ill-formed argument of the YAML directive"),Ni=parseInt(Ii[1],10),Di=parseInt(Ii[2],10),Ni!==1&&Ai(bi,"unacceptable YAML version of the document"),bi.version=_i[0],bi.checkLineBreaks=Di<2,Di!==1&&Di!==2&&Si(bi,"unsupported YAML version of the document")},TAG:function(bi,Ci,_i){var Ii,Ni;_i.length!==2&&Ai(bi,"TAG directive accepts exactly two arguments"),Ii=_i[0],Ni=_i[1],ri.test(Ii)||Ai(bi,"ill-formed tag handle (first argument) of the TAG directive"),St.call(bi.tagMap,Ii)&&Ai(bi,'there is a previously declared suffix for "'+Ii+'" tag handle'),si.test(Ni)||Ai(bi,"ill-formed tag prefix (second argument) of the TAG directive"),bi.tagMap[Ii]=Ni}};function Li(bi,Ci,_i,Ii){var Ni,Di,Ki,sn;if(Ci<_i){if(sn=bi.input.slice(Ci,_i),Ii)for(Ni=0,Di=sn.length;Ni<Di;Ni+=1)(Ki=sn.charCodeAt(Ni))===9||32<=Ki&&Ki<=1114111||Ai(bi,"expected valid JSON character");else ei.test(sn)&&Ai(bi,"the stream contains non-printable characters");bi.result+=sn}}function Bi(bi,Ci,_i,Ii){var Ni,Di,Ki,sn;for(Ye.isObject(_i)||Ai(bi,"cannot merge mappings; the provided source object is unacceptable"),Ki=0,sn=(Ni=Object.keys(_i)).length;Ki<sn;Ki+=1)Di=Ni[Ki],St.call(Ci,Di)||(Ci[Di]=_i[Di],Ii[Di]=!0)}function Pi(bi,Ci,_i,Ii,Ni,Di,Ki,sn){var zi,on;if(Array.isArray(Ni))for(zi=0,on=(Ni=Array.prototype.slice.call(Ni)).length;zi<on;zi+=1)Array.isArray(Ni[zi])&&Ai(bi,"nested arrays are not supported inside keys"),typeof Ni=="object"&&ui(Ni[zi])==="[object Object]"&&(Ni[zi]="[object Object]");if(typeof Ni=="object"&&ui(Ni)==="[object Object]"&&(Ni="[object Object]"),Ni=String(Ni),Ci===null&&(Ci={}),Ii==="tag:yaml.org,2002:merge")if(Array.isArray(Di))for(zi=0,on=Di.length;zi<on;zi+=1)Bi(bi,Ci,Di[zi],_i);else Bi(bi,Ci,Di,_i);else bi.json||St.call(_i,Ni)||!St.call(Ci,Ni)||(bi.line=Ki||bi.line,bi.position=sn||bi.position,Ai(bi,"duplicated mapping key")),Ci[Ni]=Di,delete _i[Ni];return Ci}function Ri(bi){var Ci;(Ci=bi.input.charCodeAt(bi.position))===10?bi.position++:Ci===13?(bi.position++,bi.input.charCodeAt(bi.position)===10&&bi.position++):Ai(bi,"a line break is expected"),bi.line+=1,bi.lineStart=bi.position}function Fi(bi,Ci,_i){for(var Ii=0,Ni=bi.input.charCodeAt(bi.position);Ni!==0;){for(;oi(Ni);)Ni=bi.input.charCodeAt(++bi.position);if(Ci&&Ni===35)do Ni=bi.input.charCodeAt(++bi.position);while(Ni!==10&&Ni!==13&&Ni!==0);if(!ai(Ni))break;for(Ri(bi),Ni=bi.input.charCodeAt(bi.position),Ii++,bi.lineIndent=0;Ni===32;)bi.lineIndent++,Ni=bi.input.charCodeAt(++bi.position)}return _i!==-1&&Ii!==0&&bi.lineIndent<_i&&Si(bi,"deficient indentation"),Ii}function Gi(bi){var Ci,_i=bi.position;return!((Ci=bi.input.charCodeAt(_i))!==45&&Ci!==46||Ci!==bi.input.charCodeAt(_i+1)||Ci!==bi.input.charCodeAt(_i+2)||(_i+=3,(Ci=bi.input.charCodeAt(_i))!==0&&!ni(Ci)))}function Ti(bi,Ci){Ci===1?bi.result+=" ":Ci>1&&(bi.result+=Ye.repeat(`
`,Ci-1))}function Vi(bi,Ci){var _i,Ii,Ni=bi.tag,Di=bi.anchor,Ki=[],sn=!1;for(bi.anchor!==null&&(bi.anchorMap[bi.anchor]=Ki),Ii=bi.input.charCodeAt(bi.position);Ii!==0&&Ii===45&&ni(bi.input.charCodeAt(bi.position+1));)if(sn=!0,bi.position++,Fi(bi,!0,-1)&&bi.lineIndent<=Ci)Ki.push(null),Ii=bi.input.charCodeAt(bi.position);else if(_i=bi.line,Wi(bi,Ci,3,!1,!0),Ki.push(bi.result),Fi(bi,!0,-1),Ii=bi.input.charCodeAt(bi.position),(bi.line===_i||bi.lineIndent>Ci)&&Ii!==0)Ai(bi,"bad indentation of a sequence entry");else if(bi.lineIndent<Ci)break;return!!sn&&(bi.tag=Ni,bi.anchor=Di,bi.kind="sequence",bi.result=Ki,!0)}function Ui(bi){var Ci,_i,Ii,Ni,Di=!1,Ki=!1;if((Ni=bi.input.charCodeAt(bi.position))!==33)return!1;if(bi.tag!==null&&Ai(bi,"duplication of a tag property"),(Ni=bi.input.charCodeAt(++bi.position))===60?(Di=!0,Ni=bi.input.charCodeAt(++bi.position)):Ni===33?(Ki=!0,_i="!!",Ni=bi.input.charCodeAt(++bi.position)):_i="!",Ci=bi.position,Di){do Ni=bi.input.charCodeAt(++bi.position);while(Ni!==0&&Ni!==62);bi.position<bi.length?(Ii=bi.input.slice(Ci,bi.position),Ni=bi.input.charCodeAt(++bi.position)):Ai(bi,"unexpected end of the stream within a verbatim tag")}else{for(;Ni!==0&&!ni(Ni);)Ni===33&&(Ki?Ai(bi,"tag suffix cannot contain exclamation marks"):(_i=bi.input.slice(Ci-1,bi.position+1),ri.test(_i)||Ai(bi,"named tag handle cannot contain such characters"),Ki=!0,Ci=bi.position+1)),Ni=bi.input.charCodeAt(++bi.position);Ii=bi.input.slice(Ci,bi.position),ii.test(Ii)&&Ai(bi,"tag suffix cannot contain flow indicator characters")}return Ii&&!si.test(Ii)&&Ai(bi,"tag name cannot contain such characters: "+Ii),Di?bi.tag=Ii:St.call(bi.tagMap,_i)?bi.tag=bi.tagMap[_i]+Ii:_i==="!"?bi.tag="!"+Ii:_i==="!!"?bi.tag="tag:yaml.org,2002:"+Ii:Ai(bi,'undeclared tag handle "'+_i+'"'),!0}function $i(bi){var Ci,_i;if((_i=bi.input.charCodeAt(bi.position))!==38)return!1;for(bi.anchor!==null&&Ai(bi,"duplication of an anchor property"),_i=bi.input.charCodeAt(++bi.position),Ci=bi.position;_i!==0&&!ni(_i)&&!ci(_i);)_i=bi.input.charCodeAt(++bi.position);return bi.position===Ci&&Ai(bi,"name of an anchor node must contain at least one character"),bi.anchor=bi.input.slice(Ci,bi.position),!0}function Wi(bi,Ci,_i,Ii,Ni){var Di,Ki,sn,zi,on,cn,mn,dn,An=1,pn=!1,Mn=!1;if(bi.listener!==null&&bi.listener("open",bi),bi.tag=null,bi.anchor=null,bi.kind=null,bi.result=null,Di=Ki=sn=_i===4||_i===3,Ii&&Fi(bi,!0,-1)&&(pn=!0,bi.lineIndent>Ci?An=1:bi.lineIndent===Ci?An=0:bi.lineIndent<Ci&&(An=-1)),An===1)for(;Ui(bi)||$i(bi);)Fi(bi,!0,-1)?(pn=!0,sn=Di,bi.lineIndent>Ci?An=1:bi.lineIndent===Ci?An=0:bi.lineIndent<Ci&&(An=-1)):sn=!1;if(sn&&(sn=pn||Ni),An!==1&&_i!==4||(mn=_i===1||_i===2?Ci:Ci+1,dn=bi.position-bi.lineStart,An===1?sn&&(Vi(bi,dn)||function(Hi,On,wn){var _n,an,Cn,Ln,Nn,Fn=Hi.tag,Hn=Hi.anchor,zn={},Xn={},tr=null,nr=null,mr=null,ar=!1,rr=!1;for(Hi.anchor!==null&&(Hi.anchorMap[Hi.anchor]=zn),Nn=Hi.input.charCodeAt(Hi.position);Nn!==0;){if(_n=Hi.input.charCodeAt(Hi.position+1),Cn=Hi.line,Ln=Hi.position,Nn!==63&&Nn!==58||!ni(_n)){if(!Wi(Hi,wn,2,!1,!0))break;if(Hi.line===Cn){for(Nn=Hi.input.charCodeAt(Hi.position);oi(Nn);)Nn=Hi.input.charCodeAt(++Hi.position);if(Nn===58)ni(Nn=Hi.input.charCodeAt(++Hi.position))||Ai(Hi,"a whitespace character is expected after the key-value separator within a block mapping"),ar&&(Pi(Hi,zn,Xn,tr,nr,null),tr=nr=mr=null),rr=!0,ar=!1,an=!1,tr=Hi.tag,nr=Hi.result;else{if(!rr)return Hi.tag=Fn,Hi.anchor=Hn,!0;Ai(Hi,"can not read an implicit mapping pair; a colon is missed")}}else{if(!rr)return Hi.tag=Fn,Hi.anchor=Hn,!0;Ai(Hi,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else Nn===63?(ar&&(Pi(Hi,zn,Xn,tr,nr,null),tr=nr=mr=null),rr=!0,ar=!0,an=!0):ar?(ar=!1,an=!0):Ai(Hi,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),Hi.position+=1,Nn=_n;if((Hi.line===Cn||Hi.lineIndent>On)&&(Wi(Hi,On,4,!0,an)&&(ar?nr=Hi.result:mr=Hi.result),ar||(Pi(Hi,zn,Xn,tr,nr,mr,Cn,Ln),tr=nr=mr=null),Fi(Hi,!0,-1),Nn=Hi.input.charCodeAt(Hi.position)),Hi.lineIndent>On&&Nn!==0)Ai(Hi,"bad indentation of a mapping entry");else if(Hi.lineIndent<On)break}return ar&&Pi(Hi,zn,Xn,tr,nr,null),rr&&(Hi.tag=Fn,Hi.anchor=Hn,Hi.kind="mapping",Hi.result=zn),rr}(bi,dn,mn))||function(Hi,On){var wn,_n,an,Cn,Ln,Nn,Fn,Hn,zn,Xn,tr=!0,nr=Hi.tag,mr=Hi.anchor,ar={};if((Xn=Hi.input.charCodeAt(Hi.position))===91)an=93,Nn=!1,_n=[];else{if(Xn!==123)return!1;an=125,Nn=!0,_n={}}for(Hi.anchor!==null&&(Hi.anchorMap[Hi.anchor]=_n),Xn=Hi.input.charCodeAt(++Hi.position);Xn!==0;){if(Fi(Hi,!0,On),(Xn=Hi.input.charCodeAt(Hi.position))===an)return Hi.position++,Hi.tag=nr,Hi.anchor=mr,Hi.kind=Nn?"mapping":"sequence",Hi.result=_n,!0;tr||Ai(Hi,"missed comma between flow collection entries"),zn=null,Cn=Ln=!1,Xn===63&&ni(Hi.input.charCodeAt(Hi.position+1))&&(Cn=Ln=!0,Hi.position++,Fi(Hi,!0,On)),wn=Hi.line,Wi(Hi,On,1,!1,!0),Hn=Hi.tag,Fn=Hi.result,Fi(Hi,!0,On),Xn=Hi.input.charCodeAt(Hi.position),!Ln&&Hi.line!==wn||Xn!==58||(Cn=!0,Xn=Hi.input.charCodeAt(++Hi.position),Fi(Hi,!0,On),Wi(Hi,On,1,!1,!0),zn=Hi.result),Nn?Pi(Hi,_n,ar,Hn,Fn,zn):Cn?_n.push(Pi(Hi,null,ar,Hn,Fn,zn)):_n.push(Fn),Fi(Hi,!0,On),(Xn=Hi.input.charCodeAt(Hi.position))===44?(tr=!0,Xn=Hi.input.charCodeAt(++Hi.position)):tr=!1}Ai(Hi,"unexpected end of the stream within a flow collection")}(bi,mn)?Mn=!0:(Ki&&function(Hi,On){var wn,_n,an,Cn,Ln,Nn=1,Fn=!1,Hn=!1,zn=On,Xn=0,tr=!1;if((Cn=Hi.input.charCodeAt(Hi.position))===124)_n=!1;else{if(Cn!==62)return!1;_n=!0}for(Hi.kind="scalar",Hi.result="";Cn!==0;)if((Cn=Hi.input.charCodeAt(++Hi.position))===43||Cn===45)Nn===1?Nn=Cn===43?3:2:Ai(Hi,"repeat of a chomping mode identifier");else{if(!((an=48<=(Ln=Cn)&&Ln<=57?Ln-48:-1)>=0))break;an===0?Ai(Hi,"bad explicit indentation width of a block scalar; it cannot be less than one"):Hn?Ai(Hi,"repeat of an indentation width identifier"):(zn=On+an-1,Hn=!0)}if(oi(Cn)){do Cn=Hi.input.charCodeAt(++Hi.position);while(oi(Cn));if(Cn===35)do Cn=Hi.input.charCodeAt(++Hi.position);while(!ai(Cn)&&Cn!==0)}for(;Cn!==0;){for(Ri(Hi),Hi.lineIndent=0,Cn=Hi.input.charCodeAt(Hi.position);(!Hn||Hi.lineIndent<zn)&&Cn===32;)Hi.lineIndent++,Cn=Hi.input.charCodeAt(++Hi.position);if(!Hn&&Hi.lineIndent>zn&&(zn=Hi.lineIndent),ai(Cn))Xn++;else{if(Hi.lineIndent<zn){Nn===3?Hi.result+=Ye.repeat(`
`,Fn?1+Xn:Xn):Nn===1&&Fn&&(Hi.result+=`
`);break}for(_n?oi(Cn)?(tr=!0,Hi.result+=Ye.repeat(`
`,Fn?1+Xn:Xn)):tr?(tr=!1,Hi.result+=Ye.repeat(`
`,Xn+1)):Xn===0?Fn&&(Hi.result+=" "):Hi.result+=Ye.repeat(`
`,Xn):Hi.result+=Ye.repeat(`
`,Fn?1+Xn:Xn),Fn=!0,Hn=!0,Xn=0,wn=Hi.position;!ai(Cn)&&Cn!==0;)Cn=Hi.input.charCodeAt(++Hi.position);Li(Hi,wn,Hi.position,!1)}}return!0}(bi,mn)||function(Hi,On){var wn,_n,an;if((wn=Hi.input.charCodeAt(Hi.position))!==39)return!1;for(Hi.kind="scalar",Hi.result="",Hi.position++,_n=an=Hi.position;(wn=Hi.input.charCodeAt(Hi.position))!==0;)if(wn===39){if(Li(Hi,_n,Hi.position,!0),(wn=Hi.input.charCodeAt(++Hi.position))!==39)return!0;_n=Hi.position,Hi.position++,an=Hi.position}else ai(wn)?(Li(Hi,_n,an,!0),Ti(Hi,Fi(Hi,!1,On)),_n=an=Hi.position):Hi.position===Hi.lineStart&&Gi(Hi)?Ai(Hi,"unexpected end of the document within a single quoted scalar"):(Hi.position++,an=Hi.position);Ai(Hi,"unexpected end of the stream within a single quoted scalar")}(bi,mn)||function(Hi,On){var wn,_n,an,Cn,Ln,Nn,Fn;if((Nn=Hi.input.charCodeAt(Hi.position))!==34)return!1;for(Hi.kind="scalar",Hi.result="",Hi.position++,wn=_n=Hi.position;(Nn=Hi.input.charCodeAt(Hi.position))!==0;){if(Nn===34)return Li(Hi,wn,Hi.position,!0),Hi.position++,!0;if(Nn===92){if(Li(Hi,wn,Hi.position,!0),ai(Nn=Hi.input.charCodeAt(++Hi.position)))Fi(Hi,!1,On);else if(Nn<256&&mi[Nn])Hi.result+=pi[Nn],Hi.position++;else if((Ln=(Fn=Nn)===120?2:Fn===117?4:Fn===85?8:0)>0){for(an=Ln,Cn=0;an>0;an--)(Ln=hi(Nn=Hi.input.charCodeAt(++Hi.position)))>=0?Cn=(Cn<<4)+Ln:Ai(Hi,"expected hexadecimal character");Hi.result+=fi(Cn),Hi.position++}else Ai(Hi,"unknown escape sequence");wn=_n=Hi.position}else ai(Nn)?(Li(Hi,wn,_n,!0),Ti(Hi,Fi(Hi,!1,On)),wn=_n=Hi.position):Hi.position===Hi.lineStart&&Gi(Hi)?Ai(Hi,"unexpected end of the document within a double quoted scalar"):(Hi.position++,_n=Hi.position)}Ai(Hi,"unexpected end of the stream within a double quoted scalar")}(bi,mn)?Mn=!0:function(Hi){var On,wn,_n;if((_n=Hi.input.charCodeAt(Hi.position))!==42)return!1;for(_n=Hi.input.charCodeAt(++Hi.position),On=Hi.position;_n!==0&&!ni(_n)&&!ci(_n);)_n=Hi.input.charCodeAt(++Hi.position);return Hi.position===On&&Ai(Hi,"name of an alias node must contain at least one character"),wn=Hi.input.slice(On,Hi.position),St.call(Hi.anchorMap,wn)||Ai(Hi,'unidentified alias "'+wn+'"'),Hi.result=Hi.anchorMap[wn],Fi(Hi,!0,-1),!0}(bi)?(Mn=!0,bi.tag===null&&bi.anchor===null||Ai(bi,"alias node should not have any properties")):function(Hi,On,wn){var _n,an,Cn,Ln,Nn,Fn,Hn,zn,Xn=Hi.kind,tr=Hi.result;if(ni(zn=Hi.input.charCodeAt(Hi.position))||ci(zn)||zn===35||zn===38||zn===42||zn===33||zn===124||zn===62||zn===39||zn===34||zn===37||zn===64||zn===96||(zn===63||zn===45)&&(ni(_n=Hi.input.charCodeAt(Hi.position+1))||wn&&ci(_n)))return!1;for(Hi.kind="scalar",Hi.result="",an=Cn=Hi.position,Ln=!1;zn!==0;){if(zn===58){if(ni(_n=Hi.input.charCodeAt(Hi.position+1))||wn&&ci(_n))break}else if(zn===35){if(ni(Hi.input.charCodeAt(Hi.position-1)))break}else{if(Hi.position===Hi.lineStart&&Gi(Hi)||wn&&ci(zn))break;if(ai(zn)){if(Nn=Hi.line,Fn=Hi.lineStart,Hn=Hi.lineIndent,Fi(Hi,!1,-1),Hi.lineIndent>=On){Ln=!0,zn=Hi.input.charCodeAt(Hi.position);continue}Hi.position=Cn,Hi.line=Nn,Hi.lineStart=Fn,Hi.lineIndent=Hn;break}}Ln&&(Li(Hi,an,Cn,!1),Ti(Hi,Hi.line-Nn),an=Cn=Hi.position,Ln=!1),oi(zn)||(Cn=Hi.position+1),zn=Hi.input.charCodeAt(++Hi.position)}return Li(Hi,an,Cn,!1),!!Hi.result||(Hi.kind=Xn,Hi.result=tr,!1)}(bi,mn,_i===1)&&(Mn=!0,bi.tag===null&&(bi.tag="?")),bi.anchor!==null&&(bi.anchorMap[bi.anchor]=bi.result)):An===0&&(Mn=sn&&Vi(bi,dn))),bi.tag!==null&&bi.tag!=="!")if(bi.tag==="?"){for(bi.result!==null&&bi.kind!=="scalar"&&Ai(bi,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+bi.kind+'"'),zi=0,on=bi.implicitTypes.length;zi<on;zi+=1)if((cn=bi.implicitTypes[zi]).resolve(bi.result)){bi.result=cn.construct(bi.result),bi.tag=cn.tag,bi.anchor!==null&&(bi.anchorMap[bi.anchor]=bi.result);break}}else St.call(bi.typeMap[bi.kind||"fallback"],bi.tag)?(cn=bi.typeMap[bi.kind||"fallback"][bi.tag],bi.result!==null&&cn.kind!==bi.kind&&Ai(bi,"unacceptable node kind for !<"+bi.tag+'> tag; it should be "'+cn.kind+'", not "'+bi.kind+'"'),cn.resolve(bi.result)?(bi.result=cn.construct(bi.result),bi.anchor!==null&&(bi.anchorMap[bi.anchor]=bi.result)):Ai(bi,"cannot resolve a node with !<"+bi.tag+"> explicit tag")):Ai(bi,"unknown tag !<"+bi.tag+">");return bi.listener!==null&&bi.listener("close",bi),bi.tag!==null||bi.anchor!==null||Mn}function tn(bi){var Ci,_i,Ii,Ni,Di=bi.position,Ki=!1;for(bi.version=null,bi.checkLineBreaks=bi.legacy,bi.tagMap={},bi.anchorMap={};(Ni=bi.input.charCodeAt(bi.position))!==0&&(Fi(bi,!0,-1),Ni=bi.input.charCodeAt(bi.position),!(bi.lineIndent>0||Ni!==37));){for(Ki=!0,Ni=bi.input.charCodeAt(++bi.position),Ci=bi.position;Ni!==0&&!ni(Ni);)Ni=bi.input.charCodeAt(++bi.position);for(Ii=[],(_i=bi.input.slice(Ci,bi.position)).length<1&&Ai(bi,"directive name must not be less than one character in length");Ni!==0;){for(;oi(Ni);)Ni=bi.input.charCodeAt(++bi.position);if(Ni===35){do Ni=bi.input.charCodeAt(++bi.position);while(Ni!==0&&!ai(Ni));break}if(ai(Ni))break;for(Ci=bi.position;Ni!==0&&!ni(Ni);)Ni=bi.input.charCodeAt(++bi.position);Ii.push(bi.input.slice(Ci,bi.position))}Ni!==0&&Ri(bi),St.call(ki,_i)?ki[_i](bi,_i,Ii):Si(bi,'unknown document directive "'+_i+'"')}Fi(bi,!0,-1),bi.lineIndent===0&&bi.input.charCodeAt(bi.position)===45&&bi.input.charCodeAt(bi.position+1)===45&&bi.input.charCodeAt(bi.position+2)===45?(bi.position+=3,Fi(bi,!0,-1)):Ki&&Ai(bi,"directives end mark is expected"),Wi(bi,bi.lineIndent-1,4,!1,!0),Fi(bi,!0,-1),bi.checkLineBreaks&&ti.test(bi.input.slice(Di,bi.position))&&Si(bi,"non-ASCII line breaks are interpreted as content"),bi.documents.push(bi.result),bi.position===bi.lineStart&&Gi(bi)?bi.input.charCodeAt(bi.position)===46&&(bi.position+=3,Fi(bi,!0,-1)):bi.position<bi.length-1&&Ai(bi,"end of the stream or a document separator is expected")}function nn(bi,Ci){Ci=Ci||{},(bi=String(bi)).length!==0&&(bi.charCodeAt(bi.length-1)!==10&&bi.charCodeAt(bi.length-1)!==13&&(bi+=`
`),bi.charCodeAt(0)===65279&&(bi=bi.slice(1)));var _i=new gi(bi,Ci),Ii=bi.indexOf("\0");for(Ii!==-1&&(_i.position=Ii,Ai(_i,"null byte is not allowed in input")),_i.input+="\0";_i.input.charCodeAt(_i.position)===32;)_i.lineIndent+=1,_i.position+=1;for(;_i.position<_i.length-1;)tn(_i);return _i.documents}function Qi(bi,Ci,_i){Ci!==null&&typeof Ci=="object"&&_i===void 0&&(_i=Ci,Ci=null);var Ii=nn(bi,_i);if(typeof Ci!="function")return Ii;for(var Ni=0,Di=Ii.length;Ni<Di;Ni+=1)Ci(Ii[Ni])}function Ei(bi,Ci){var _i=nn(bi,Ci);if(_i.length!==0){if(_i.length===1)return _i[0];throw new Ke("expected a single document in the stream, but found more")}}ze.exports.loadAll=Qi,ze.exports.load=Ei,ze.exports.safeLoadAll=function(bi,Ci,_i){return typeof Ci=="object"&&Ci!==null&&_i===void 0&&(_i=Ci,Ci=null),Qi(bi,Ci,Ye.extend({schema:Qe},_i))},ze.exports.safeLoad=function(bi,Ci){return Ei(bi,Ye.extend({schema:Qe},Ci))}},function(ze,qe,Xe){var Ye=Xe(38);function Ke(Ze,Qe,Je,St,ei){this.name=Ze,this.buffer=Qe,this.position=Je,this.line=St,this.column=ei}Ke.prototype.getSnippet=function(Ze,Qe){var Je,St,ei,ti,ii;if(!this.buffer)return null;for(Ze=Ze||4,Qe=Qe||75,Je="",St=this.position;St>0&&`\0\r
\u2028\u2029`.indexOf(this.buffer.charAt(St-1))===-1;)if(St-=1,this.position-St>Qe/2-1){Je=" ... ",St+=5;break}for(ei="",ti=this.position;ti<this.buffer.length&&`\0\r
\u2028\u2029`.indexOf(this.buffer.charAt(ti))===-1;)if((ti+=1)-this.position>Qe/2-1){ei=" ... ",ti-=5;break}return ii=this.buffer.slice(St,ti),Ye.repeat(" ",Ze)+Je+ii+ei+`
`+Ye.repeat(" ",Ze+this.position-St+Je.length)+"^"},Ke.prototype.toString=function(Ze){var Qe,Je="";return this.name&&(Je+='in "'+this.name+'" '),Je+="at line "+(this.line+1)+", column "+(this.column+1),Ze||(Qe=this.getSnippet())&&(Je+=`:
`+Qe),Je},ze.exports=Ke},function(ze,qe,Xe){var Ye=Xe(10);ze.exports=new Ye("tag:yaml.org,2002:str",{kind:"scalar",construct:function(Ke){return Ke!==null?Ke:""}})},function(ze,qe,Xe){var Ye=Xe(10);ze.exports=new Ye("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(Ke){return Ke!==null?Ke:[]}})},function(ze,qe,Xe){var Ye=Xe(10);ze.exports=new Ye("tag:yaml.org,2002:map",{kind:"mapping",construct:function(Ke){return Ke!==null?Ke:{}}})},function(ze,qe,Xe){var Ye=Xe(10);ze.exports=new Ye("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(Ke){if(Ke===null)return!0;var Ze=Ke.length;return Ze===1&&Ke==="~"||Ze===4&&(Ke==="null"||Ke==="Null"||Ke==="NULL")},construct:function(){return null},predicate:function(Ke){return Ke===null},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},function(ze,qe,Xe){var Ye=Xe(10);ze.exports=new Ye("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(Ke){if(Ke===null)return!1;var Ze=Ke.length;return Ze===4&&(Ke==="true"||Ke==="True"||Ke==="TRUE")||Ze===5&&(Ke==="false"||Ke==="False"||Ke==="FALSE")},construct:function(Ke){return Ke==="true"||Ke==="True"||Ke==="TRUE"},predicate:function(Ke){return Object.prototype.toString.call(Ke)==="[object Boolean]"},represent:{lowercase:function(Ke){return Ke?"true":"false"},uppercase:function(Ke){return Ke?"TRUE":"FALSE"},camelcase:function(Ke){return Ke?"True":"False"}},defaultStyle:"lowercase"})},function(ze,qe,Xe){var Ye=Xe(38),Ke=Xe(10);function Ze(Je){return 48<=Je&&Je<=55}function Qe(Je){return 48<=Je&&Je<=57}ze.exports=new Ke("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(Je){if(Je===null)return!1;var St,ei,ti=Je.length,ii=0,ri=!1;if(!ti)return!1;if((St=Je[ii])!=="-"&&St!=="+"||(St=Je[++ii]),St==="0"){if(ii+1===ti)return!0;if((St=Je[++ii])==="b"){for(ii++;ii<ti;ii++)if((St=Je[ii])!=="_"){if(St!=="0"&&St!=="1")return!1;ri=!0}return ri&&St!=="_"}if(St==="x"){for(ii++;ii<ti;ii++)if((St=Je[ii])!=="_"){if(!(48<=(ei=Je.charCodeAt(ii))&&ei<=57||65<=ei&&ei<=70||97<=ei&&ei<=102))return!1;ri=!0}return ri&&St!=="_"}for(;ii<ti;ii++)if((St=Je[ii])!=="_"){if(!Ze(Je.charCodeAt(ii)))return!1;ri=!0}return ri&&St!=="_"}if(St==="_")return!1;for(;ii<ti;ii++)if((St=Je[ii])!=="_"){if(St===":")break;if(!Qe(Je.charCodeAt(ii)))return!1;ri=!0}return!(!ri||St==="_")&&(St!==":"||/^(:[0-5]?[0-9])+$/.test(Je.slice(ii)))},construct:function(Je){var St,ei,ti=Je,ii=1,ri=[];return ti.indexOf("_")!==-1&&(ti=ti.replace(/_/g,"")),(St=ti[0])!=="-"&&St!=="+"||(St==="-"&&(ii=-1),St=(ti=ti.slice(1))[0]),ti==="0"?0:St==="0"?ti[1]==="b"?ii*parseInt(ti.slice(2),2):ti[1]==="x"?ii*parseInt(ti,16):ii*parseInt(ti,8):ti.indexOf(":")!==-1?(ti.split(":").forEach(function(si){ri.unshift(parseInt(si,10))}),ti=0,ei=1,ri.forEach(function(si){ti+=si*ei,ei*=60}),ii*ti):ii*parseInt(ti,10)},predicate:function(Je){return Object.prototype.toString.call(Je)==="[object Number]"&&Je%1==0&&!Ye.isNegativeZero(Je)},represent:{binary:function(Je){return Je>=0?"0b"+Je.toString(2):"-0b"+Je.toString(2).slice(1)},octal:function(Je){return Je>=0?"0"+Je.toString(8):"-0"+Je.toString(8).slice(1)},decimal:function(Je){return Je.toString(10)},hexadecimal:function(Je){return Je>=0?"0x"+Je.toString(16).toUpperCase():"-0x"+Je.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},function(ze,qe,Xe){var Ye=Xe(38),Ke=Xe(10),Ze=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),Qe=/^[-+]?[0-9]+e/;ze.exports=new Ke("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(Je){return Je!==null&&!(!Ze.test(Je)||Je[Je.length-1]==="_")},construct:function(Je){var St,ei,ti,ii;return ei=(St=Je.replace(/_/g,"").toLowerCase())[0]==="-"?-1:1,ii=[],"+-".indexOf(St[0])>=0&&(St=St.slice(1)),St===".inf"?ei===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:St===".nan"?NaN:St.indexOf(":")>=0?(St.split(":").forEach(function(ri){ii.unshift(parseFloat(ri,10))}),St=0,ti=1,ii.forEach(function(ri){St+=ri*ti,ti*=60}),ei*St):ei*parseFloat(St,10)},predicate:function(Je){return Object.prototype.toString.call(Je)==="[object Number]"&&(Je%1!=0||Ye.isNegativeZero(Je))},represent:function(Je,St){var ei;if(isNaN(Je))switch(St){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===Je)switch(St){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===Je)switch(St){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Ye.isNegativeZero(Je))return"-0.0";return ei=Je.toString(10),Qe.test(ei)?ei.replace("e",".e"):ei},defaultStyle:"lowercase"})},function(ze,qe,Xe){var Ye=Xe(10),Ke=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Ze=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");ze.exports=new Ye("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(Qe){return Qe!==null&&(Ke.exec(Qe)!==null||Ze.exec(Qe)!==null)},construct:function(Qe){var Je,St,ei,ti,ii,ri,si,ui,ai=0,oi=null;if((Je=Ke.exec(Qe))===null&&(Je=Ze.exec(Qe)),Je===null)throw new Error("Date resolve error");if(St=+Je[1],ei=+Je[2]-1,ti=+Je[3],!Je[4])return new Date(Date.UTC(St,ei,ti));if(ii=+Je[4],ri=+Je[5],si=+Je[6],Je[7]){for(ai=Je[7].slice(0,3);ai.length<3;)ai+="0";ai=+ai}return Je[9]&&(oi=6e4*(60*+Je[10]+ +(Je[11]||0)),Je[9]==="-"&&(oi=-oi)),ui=new Date(Date.UTC(St,ei,ti,ii,ri,si,ai)),oi&&ui.setTime(ui.getTime()-oi),ui},instanceOf:Date,represent:function(Qe){return Qe.toISOString()}})},function(ze,qe,Xe){var Ye=Xe(10);ze.exports=new Ye("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(Ke){return Ke==="<<"||Ke===null}})},function(ze,qe,Xe){var Ye;try{Ye=Xe(145).Buffer}catch{}var Ke=Xe(10),Ze=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;ze.exports=new Ke("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(Qe){if(Qe===null)return!1;var Je,St,ei=0,ti=Qe.length,ii=Ze;for(St=0;St<ti;St++)if(!((Je=ii.indexOf(Qe.charAt(St)))>64)){if(Je<0)return!1;ei+=6}return ei%8==0},construct:function(Qe){var Je,St,ei=Qe.replace(/[\r\n=]/g,""),ti=ei.length,ii=Ze,ri=0,si=[];for(Je=0;Je<ti;Je++)Je%4==0&&Je&&(si.push(ri>>16&255),si.push(ri>>8&255),si.push(255&ri)),ri=ri<<6|ii.indexOf(ei.charAt(Je));return(St=ti%4*6)===0?(si.push(ri>>16&255),si.push(ri>>8&255),si.push(255&ri)):St===18?(si.push(ri>>10&255),si.push(ri>>2&255)):St===12&&si.push(ri>>4&255),Ye?Ye.from?Ye.from(si):new Ye(si):si},predicate:function(Qe){return Ye&&Ye.isBuffer(Qe)},represent:function(Qe){var Je,St,ei="",ti=0,ii=Qe.length,ri=Ze;for(Je=0;Je<ii;Je++)Je%3==0&&Je&&(ei+=ri[ti>>18&63],ei+=ri[ti>>12&63],ei+=ri[ti>>6&63],ei+=ri[63&ti]),ti=(ti<<8)+Qe[Je];return(St=ii%3)===0?(ei+=ri[ti>>18&63],ei+=ri[ti>>12&63],ei+=ri[ti>>6&63],ei+=ri[63&ti]):St===2?(ei+=ri[ti>>10&63],ei+=ri[ti>>4&63],ei+=ri[ti<<2&63],ei+=ri[64]):St===1&&(ei+=ri[ti>>2&63],ei+=ri[ti<<4&63],ei+=ri[64],ei+=ri[64]),ei}})},function(ze,qe,Xe){var Ye=Xe(10),Ke=Object.prototype.hasOwnProperty,Ze=Object.prototype.toString;ze.exports=new Ye("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(Qe){if(Qe===null)return!0;var Je,St,ei,ti,ii,ri=[],si=Qe;for(Je=0,St=si.length;Je<St;Je+=1){if(ei=si[Je],ii=!1,Ze.call(ei)!=="[object Object]")return!1;for(ti in ei)if(Ke.call(ei,ti)){if(ii)return!1;ii=!0}if(!ii||ri.indexOf(ti)!==-1)return!1;ri.push(ti)}return!0},construct:function(Qe){return Qe!==null?Qe:[]}})},function(ze,qe,Xe){var Ye=Xe(10),Ke=Object.prototype.toString;ze.exports=new Ye("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(Ze){if(Ze===null)return!0;var Qe,Je,St,ei,ti,ii=Ze;for(ti=new Array(ii.length),Qe=0,Je=ii.length;Qe<Je;Qe+=1){if(St=ii[Qe],Ke.call(St)!=="[object Object]"||(ei=Object.keys(St)).length!==1)return!1;ti[Qe]=[ei[0],St[ei[0]]]}return!0},construct:function(Ze){if(Ze===null)return[];var Qe,Je,St,ei,ti,ii=Ze;for(ti=new Array(ii.length),Qe=0,Je=ii.length;Qe<Je;Qe+=1)St=ii[Qe],ei=Object.keys(St),ti[Qe]=[ei[0],St[ei[0]]];return ti}})},function(ze,qe,Xe){var Ye=Xe(10),Ke=Object.prototype.hasOwnProperty;ze.exports=new Ye("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(Ze){if(Ze===null)return!0;var Qe,Je=Ze;for(Qe in Je)if(Ke.call(Je,Qe)&&Je[Qe]!==null)return!1;return!0},construct:function(Ze){return Ze!==null?Ze:{}}})},function(ze,qe,Xe){var Ye=Xe(10);ze.exports=new Ye("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:function(){return!0},construct:function(){},predicate:function(Ke){return Ke===void 0},represent:function(){return""}})},function(ze,qe,Xe){var Ye=Xe(10);ze.exports=new Ye("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:function(Ke){if(Ke===null||Ke.length===0)return!1;var Ze=Ke,Qe=/\/([gim]*)$/.exec(Ke),Je="";return!(Ze[0]==="/"&&(Qe&&(Je=Qe[1]),Je.length>3||Ze[Ze.length-Je.length-1]!=="/"))},construct:function(Ke){var Ze=Ke,Qe=/\/([gim]*)$/.exec(Ke),Je="";return Ze[0]==="/"&&(Qe&&(Je=Qe[1]),Ze=Ze.slice(1,Ze.length-Je.length-1)),new RegExp(Ze,Je)},predicate:function(Ke){return Object.prototype.toString.call(Ke)==="[object RegExp]"},represent:function(Ke){var Ze="/"+Ke.source+"/";return Ke.global&&(Ze+="g"),Ke.multiline&&(Ze+="m"),Ke.ignoreCase&&(Ze+="i"),Ze}})},function(ze,qe,Xe){var Ye;try{Ye=Xe(303)}catch{typeof window<"u"&&(Ye=window.esprima)}var Ke=Xe(10);ze.exports=new Ke("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:function(Ze){if(Ze===null)return!1;try{var Qe="("+Ze+")",Je=Ye.parse(Qe,{range:!0});return Je.type==="Program"&&Je.body.length===1&&Je.body[0].type==="ExpressionStatement"&&(Je.body[0].expression.type==="ArrowFunctionExpression"||Je.body[0].expression.type==="FunctionExpression")}catch{return!1}},construct:function(Ze){var Qe,Je="("+Ze+")",St=Ye.parse(Je,{range:!0}),ei=[];if(St.type!=="Program"||St.body.length!==1||St.body[0].type!=="ExpressionStatement"||St.body[0].expression.type!=="ArrowFunctionExpression"&&St.body[0].expression.type!=="FunctionExpression")throw new Error("Failed to resolve function");return St.body[0].expression.params.forEach(function(ti){ei.push(ti.name)}),Qe=St.body[0].expression.body.range,St.body[0].expression.body.type==="BlockStatement"?new Function(ei,Je.slice(Qe[0]+1,Qe[1]-1)):new Function(ei,"return "+Je.slice(Qe[0],Qe[1]))},predicate:function(Ze){return Object.prototype.toString.call(Ze)==="[object Function]"},represent:function(Ze){return Ze.toString()}})},function(ze,qe,Xe){var Ye;Ye=function(){return function(Ke){var Ze={};function Qe(Je){if(Ze[Je])return Ze[Je].exports;var St=Ze[Je]={exports:{},id:Je,loaded:!1};return Ke[Je].call(St.exports,St,St.exports,Qe),St.loaded=!0,St.exports}return Qe.m=Ke,Qe.c=Ze,Qe.p="",Qe(0)}([function(Ke,Ze,Qe){Object.defineProperty(Ze,"__esModule",{value:!0});var Je=Qe(1),St=Qe(3),ei=Qe(8),ti=Qe(15);function ii(si,ui,ai){var oi=null,ni=function(wi,gi){ai&&ai(wi,gi),oi&&oi.visit(wi,gi)},ci=typeof ai=="function"?ni:null,hi=!1;if(ui){hi=typeof ui.comment=="boolean"&&ui.comment;var di=typeof ui.attachComment=="boolean"&&ui.attachComment;(hi||di)&&((oi=new Je.CommentHandler).attach=di,ui.comment=!0,ci=ni)}var fi,mi=!1;ui&&typeof ui.sourceType=="string"&&(mi=ui.sourceType==="module"),fi=ui&&typeof ui.jsx=="boolean"&&ui.jsx?new St.JSXParser(si,ui,ci):new ei.Parser(si,ui,ci);var pi=mi?fi.parseModule():fi.parseScript();return hi&&oi&&(pi.comments=oi.comments),fi.config.tokens&&(pi.tokens=fi.tokens),fi.config.tolerant&&(pi.errors=fi.errorHandler.errors),pi}Ze.parse=ii,Ze.parseModule=function(si,ui,ai){var oi=ui||{};return oi.sourceType="module",ii(si,oi,ai)},Ze.parseScript=function(si,ui,ai){var oi=ui||{};return oi.sourceType="script",ii(si,oi,ai)},Ze.tokenize=function(si,ui,ai){var oi,ni=new ti.Tokenizer(si,ui);oi=[];try{for(;;){var ci=ni.getNextToken();if(!ci)break;ai&&(ci=ai(ci)),oi.push(ci)}}catch(hi){ni.errorHandler.tolerate(hi)}return ni.errorHandler.tolerant&&(oi.errors=ni.errors()),oi};var ri=Qe(2);Ze.Syntax=ri.Syntax,Ze.version="4.0.1"},function(Ke,Ze,Qe){Object.defineProperty(Ze,"__esModule",{value:!0});var Je=Qe(2),St=function(){function ei(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return ei.prototype.insertInnerComments=function(ti,ii){if(ti.type===Je.Syntax.BlockStatement&&ti.body.length===0){for(var ri=[],si=this.leading.length-1;si>=0;--si){var ui=this.leading[si];ii.end.offset>=ui.start&&(ri.unshift(ui.comment),this.leading.splice(si,1),this.trailing.splice(si,1))}ri.length&&(ti.innerComments=ri)}},ei.prototype.findTrailingComments=function(ti){var ii=[];if(this.trailing.length>0){for(var ri=this.trailing.length-1;ri>=0;--ri){var si=this.trailing[ri];si.start>=ti.end.offset&&ii.unshift(si.comment)}return this.trailing.length=0,ii}var ui=this.stack[this.stack.length-1];if(ui&&ui.node.trailingComments){var ai=ui.node.trailingComments[0];ai&&ai.range[0]>=ti.end.offset&&(ii=ui.node.trailingComments,delete ui.node.trailingComments)}return ii},ei.prototype.findLeadingComments=function(ti){for(var ii,ri=[];this.stack.length>0&&(ai=this.stack[this.stack.length-1])&&ai.start>=ti.start.offset;)ii=ai.node,this.stack.pop();if(ii){for(var si=(ii.leadingComments?ii.leadingComments.length:0)-1;si>=0;--si){var ui=ii.leadingComments[si];ui.range[1]<=ti.start.offset&&(ri.unshift(ui),ii.leadingComments.splice(si,1))}return ii.leadingComments&&ii.leadingComments.length===0&&delete ii.leadingComments,ri}for(si=this.leading.length-1;si>=0;--si){var ai;(ai=this.leading[si]).start<=ti.start.offset&&(ri.unshift(ai.comment),this.leading.splice(si,1))}return ri},ei.prototype.visitNode=function(ti,ii){if(!(ti.type===Je.Syntax.Program&&ti.body.length>0)){this.insertInnerComments(ti,ii);var ri=this.findTrailingComments(ii),si=this.findLeadingComments(ii);si.length>0&&(ti.leadingComments=si),ri.length>0&&(ti.trailingComments=ri),this.stack.push({node:ti,start:ii.start.offset})}},ei.prototype.visitComment=function(ti,ii){var ri=ti.type[0]==="L"?"Line":"Block",si={type:ri,value:ti.value};if(ti.range&&(si.range=ti.range),ti.loc&&(si.loc=ti.loc),this.comments.push(si),this.attach){var ui={comment:{type:ri,value:ti.value,range:[ii.start.offset,ii.end.offset]},start:ii.start.offset};ti.loc&&(ui.comment.loc=ti.loc),ti.type=ri,this.leading.push(ui),this.trailing.push(ui)}},ei.prototype.visit=function(ti,ii){ti.type==="LineComment"||ti.type==="BlockComment"?this.visitComment(ti,ii):this.attach&&this.visitNode(ti,ii)},ei}();Ze.CommentHandler=St},function(Ke,Ze){Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(Ke,Ze,Qe){var Je,St=this&&this.__extends||(Je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ci,hi){ci.__proto__=hi}||function(ci,hi){for(var di in hi)hi.hasOwnProperty(di)&&(ci[di]=hi[di])},function(ci,hi){function di(){this.constructor=ci}Je(ci,hi),ci.prototype=hi===null?Object.create(hi):(di.prototype=hi.prototype,new di)});Object.defineProperty(Ze,"__esModule",{value:!0});var ei=Qe(4),ti=Qe(5),ii=Qe(6),ri=Qe(7),si=Qe(8),ui=Qe(13),ai=Qe(14);function oi(ci){var hi;switch(ci.type){case ii.JSXSyntax.JSXIdentifier:hi=ci.name;break;case ii.JSXSyntax.JSXNamespacedName:var di=ci;hi=oi(di.namespace)+":"+oi(di.name);break;case ii.JSXSyntax.JSXMemberExpression:var fi=ci;hi=oi(fi.object)+"."+oi(fi.property)}return hi}ui.TokenName[100]="JSXIdentifier",ui.TokenName[101]="JSXText";var ni=function(ci){function hi(di,fi,mi){return ci.call(this,di,fi,mi)||this}return St(hi,ci),hi.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():ci.prototype.parsePrimaryExpression.call(this)},hi.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.line,this.scanner.lineStart=this.startMarker.index-this.startMarker.column},hi.prototype.finishJSX=function(){this.nextToken()},hi.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX("}"),this.config.tokens&&this.tokens.pop()},hi.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},hi.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},hi.prototype.scanXHTMLEntity=function(di){for(var fi="&",mi=!0,pi=!1,wi=!1,gi=!1;!this.scanner.eof()&&mi&&!pi;){var yi=this.scanner.source[this.scanner.index];if(yi===di)break;if(pi=yi===";",fi+=yi,++this.scanner.index,!pi)switch(fi.length){case 2:wi=yi==="#";break;case 3:wi&&(mi=(gi=yi==="x")||ei.Character.isDecimalDigit(yi.charCodeAt(0)),wi=wi&&!gi);break;default:mi=(mi=mi&&!(wi&&!ei.Character.isDecimalDigit(yi.charCodeAt(0))))&&!(gi&&!ei.Character.isHexDigit(yi.charCodeAt(0)))}}if(mi&&pi&&fi.length>2){var Ai=fi.substr(1,fi.length-2);wi&&Ai.length>1?fi=String.fromCharCode(parseInt(Ai.substr(1),10)):gi&&Ai.length>2?fi=String.fromCharCode(parseInt("0"+Ai.substr(1),16)):wi||gi||!ai.XHTMLEntities[Ai]||(fi=ai.XHTMLEntities[Ai])}return fi},hi.prototype.lexJSX=function(){var di=this.scanner.source.charCodeAt(this.scanner.index);if(di===60||di===62||di===47||di===58||di===61||di===123||di===125)return{type:7,value:yi=this.scanner.source[this.scanner.index++],lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index};if(di===34||di===39){for(var fi=this.scanner.index,mi=this.scanner.source[this.scanner.index++],pi="";!this.scanner.eof()&&(Ai=this.scanner.source[this.scanner.index++])!==mi;)pi+=Ai==="&"?this.scanXHTMLEntity(mi):Ai;return{type:8,value:pi,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:fi,end:this.scanner.index}}if(di===46){var wi=this.scanner.source.charCodeAt(this.scanner.index+1),gi=this.scanner.source.charCodeAt(this.scanner.index+2),yi=wi===46&&gi===46?"...":".";return fi=this.scanner.index,this.scanner.index+=yi.length,{type:7,value:yi,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:fi,end:this.scanner.index}}if(di===96)return{type:10,value:"",lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(ei.Character.isIdentifierStart(di)&&di!==92){for(fi=this.scanner.index,++this.scanner.index;!this.scanner.eof();){var Ai=this.scanner.source.charCodeAt(this.scanner.index);if(ei.Character.isIdentifierPart(Ai)&&Ai!==92)++this.scanner.index;else{if(Ai!==45)break;++this.scanner.index}}return{type:100,value:this.scanner.source.slice(fi,this.scanner.index),lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:fi,end:this.scanner.index}}return this.scanner.lex()},hi.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;var di=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(di)),di},hi.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;for(var di=this.scanner.index,fi="";!this.scanner.eof();){var mi=this.scanner.source[this.scanner.index];if(mi==="{"||mi==="<")break;++this.scanner.index,fi+=mi,ei.Character.isLineTerminator(mi.charCodeAt(0))&&(++this.scanner.lineNumber,mi==="\r"&&this.scanner.source[this.scanner.index]===`
`&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart;var pi={type:101,value:fi,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:di,end:this.scanner.index};return fi.length>0&&this.config.tokens&&this.tokens.push(this.convertToken(pi)),pi},hi.prototype.peekJSXToken=function(){var di=this.scanner.saveState();this.scanner.scanComments();var fi=this.lexJSX();return this.scanner.restoreState(di),fi},hi.prototype.expectJSX=function(di){var fi=this.nextJSXToken();fi.type===7&&fi.value===di||this.throwUnexpectedToken(fi)},hi.prototype.matchJSX=function(di){var fi=this.peekJSXToken();return fi.type===7&&fi.value===di},hi.prototype.parseJSXIdentifier=function(){var di=this.createJSXNode(),fi=this.nextJSXToken();return fi.type!==100&&this.throwUnexpectedToken(fi),this.finalize(di,new ti.JSXIdentifier(fi.value))},hi.prototype.parseJSXElementName=function(){var di=this.createJSXNode(),fi=this.parseJSXIdentifier();if(this.matchJSX(":")){var mi=fi;this.expectJSX(":");var pi=this.parseJSXIdentifier();fi=this.finalize(di,new ti.JSXNamespacedName(mi,pi))}else if(this.matchJSX("."))for(;this.matchJSX(".");){var wi=fi;this.expectJSX(".");var gi=this.parseJSXIdentifier();fi=this.finalize(di,new ti.JSXMemberExpression(wi,gi))}return fi},hi.prototype.parseJSXAttributeName=function(){var di,fi=this.createJSXNode(),mi=this.parseJSXIdentifier();if(this.matchJSX(":")){var pi=mi;this.expectJSX(":");var wi=this.parseJSXIdentifier();di=this.finalize(fi,new ti.JSXNamespacedName(pi,wi))}else di=mi;return di},hi.prototype.parseJSXStringLiteralAttribute=function(){var di=this.createJSXNode(),fi=this.nextJSXToken();fi.type!==8&&this.throwUnexpectedToken(fi);var mi=this.getTokenRaw(fi);return this.finalize(di,new ri.Literal(fi.value,mi))},hi.prototype.parseJSXExpressionAttribute=function(){var di=this.createJSXNode();this.expectJSX("{"),this.finishJSX(),this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var fi=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(di,new ti.JSXExpressionContainer(fi))},hi.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},hi.prototype.parseJSXNameValueAttribute=function(){var di=this.createJSXNode(),fi=this.parseJSXAttributeName(),mi=null;return this.matchJSX("=")&&(this.expectJSX("="),mi=this.parseJSXAttributeValue()),this.finalize(di,new ti.JSXAttribute(fi,mi))},hi.prototype.parseJSXSpreadAttribute=function(){var di=this.createJSXNode();this.expectJSX("{"),this.expectJSX("..."),this.finishJSX();var fi=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(di,new ti.JSXSpreadAttribute(fi))},hi.prototype.parseJSXAttributes=function(){for(var di=[];!this.matchJSX("/")&&!this.matchJSX(">");){var fi=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();di.push(fi)}return di},hi.prototype.parseJSXOpeningElement=function(){var di=this.createJSXNode();this.expectJSX("<");var fi=this.parseJSXElementName(),mi=this.parseJSXAttributes(),pi=this.matchJSX("/");return pi&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(di,new ti.JSXOpeningElement(fi,pi,mi))},hi.prototype.parseJSXBoundaryElement=function(){var di=this.createJSXNode();if(this.expectJSX("<"),this.matchJSX("/")){this.expectJSX("/");var fi=this.parseJSXElementName();return this.expectJSX(">"),this.finalize(di,new ti.JSXClosingElement(fi))}var mi=this.parseJSXElementName(),pi=this.parseJSXAttributes(),wi=this.matchJSX("/");return wi&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(di,new ti.JSXOpeningElement(mi,wi,pi))},hi.prototype.parseJSXEmptyExpression=function(){var di=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.finalize(di,new ti.JSXEmptyExpression)},hi.prototype.parseJSXExpressionContainer=function(){var di,fi=this.createJSXNode();return this.expectJSX("{"),this.matchJSX("}")?(di=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),di=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(fi,new ti.JSXExpressionContainer(di))},hi.prototype.parseJSXChildren=function(){for(var di=[];!this.scanner.eof();){var fi=this.createJSXChildNode(),mi=this.nextJSXText();if(mi.start<mi.end){var pi=this.getTokenRaw(mi),wi=this.finalize(fi,new ti.JSXText(mi.value,pi));di.push(wi)}if(this.scanner.source[this.scanner.index]!=="{")break;var gi=this.parseJSXExpressionContainer();di.push(gi)}return di},hi.prototype.parseComplexJSXElement=function(di){for(var fi=[];!this.scanner.eof();){di.children=di.children.concat(this.parseJSXChildren());var mi=this.createJSXChildNode(),pi=this.parseJSXBoundaryElement();if(pi.type===ii.JSXSyntax.JSXOpeningElement){var wi=pi;if(wi.selfClosing){var gi=this.finalize(mi,new ti.JSXElement(wi,[],null));di.children.push(gi)}else fi.push(di),di={node:mi,opening:wi,closing:null,children:[]}}if(pi.type===ii.JSXSyntax.JSXClosingElement){di.closing=pi;var yi=oi(di.opening.name);if(yi!==oi(di.closing.name)&&this.tolerateError("Expected corresponding JSX closing tag for %0",yi),!(fi.length>0))break;gi=this.finalize(di.node,new ti.JSXElement(di.opening,di.children,di.closing)),(di=fi[fi.length-1]).children.push(gi),fi.pop()}}return di},hi.prototype.parseJSXElement=function(){var di=this.createJSXNode(),fi=this.parseJSXOpeningElement(),mi=[],pi=null;if(!fi.selfClosing){var wi=this.parseComplexJSXElement({node:di,opening:fi,closing:pi,children:mi});mi=wi.children,pi=wi.closing}return this.finalize(di,new ti.JSXElement(fi,mi,pi))},hi.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var di=this.parseJSXElement();return this.finishJSX(),di},hi.prototype.isStartOfExpression=function(){return ci.prototype.isStartOfExpression.call(this)||this.match("<")},hi}(si.Parser);Ze.JSXParser=ni},function(Ke,Ze){Object.defineProperty(Ze,"__esModule",{value:!0});var Qe={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};Ze.Character={fromCodePoint:function(Je){return Je<65536?String.fromCharCode(Je):String.fromCharCode(55296+(Je-65536>>10))+String.fromCharCode(56320+(Je-65536&1023))},isWhiteSpace:function(Je){return Je===32||Je===9||Je===11||Je===12||Je===160||Je>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(Je)>=0},isLineTerminator:function(Je){return Je===10||Je===13||Je===8232||Je===8233},isIdentifierStart:function(Je){return Je===36||Je===95||Je>=65&&Je<=90||Je>=97&&Je<=122||Je===92||Je>=128&&Qe.NonAsciiIdentifierStart.test(Ze.Character.fromCodePoint(Je))},isIdentifierPart:function(Je){return Je===36||Je===95||Je>=65&&Je<=90||Je>=97&&Je<=122||Je>=48&&Je<=57||Je===92||Je>=128&&Qe.NonAsciiIdentifierPart.test(Ze.Character.fromCodePoint(Je))},isDecimalDigit:function(Je){return Je>=48&&Je<=57},isHexDigit:function(Je){return Je>=48&&Je<=57||Je>=65&&Je<=70||Je>=97&&Je<=102},isOctalDigit:function(Je){return Je>=48&&Je<=55}}},function(Ke,Ze,Qe){Object.defineProperty(Ze,"__esModule",{value:!0});var Je=Qe(6),St=function(hi){this.type=Je.JSXSyntax.JSXClosingElement,this.name=hi};Ze.JSXClosingElement=St;var ei=function(hi,di,fi){this.type=Je.JSXSyntax.JSXElement,this.openingElement=hi,this.children=di,this.closingElement=fi};Ze.JSXElement=ei;var ti=function(){this.type=Je.JSXSyntax.JSXEmptyExpression};Ze.JSXEmptyExpression=ti;var ii=function(hi){this.type=Je.JSXSyntax.JSXExpressionContainer,this.expression=hi};Ze.JSXExpressionContainer=ii;var ri=function(hi){this.type=Je.JSXSyntax.JSXIdentifier,this.name=hi};Ze.JSXIdentifier=ri;var si=function(hi,di){this.type=Je.JSXSyntax.JSXMemberExpression,this.object=hi,this.property=di};Ze.JSXMemberExpression=si;var ui=function(hi,di){this.type=Je.JSXSyntax.JSXAttribute,this.name=hi,this.value=di};Ze.JSXAttribute=ui;var ai=function(hi,di){this.type=Je.JSXSyntax.JSXNamespacedName,this.namespace=hi,this.name=di};Ze.JSXNamespacedName=ai;var oi=function(hi,di,fi){this.type=Je.JSXSyntax.JSXOpeningElement,this.name=hi,this.selfClosing=di,this.attributes=fi};Ze.JSXOpeningElement=oi;var ni=function(hi){this.type=Je.JSXSyntax.JSXSpreadAttribute,this.argument=hi};Ze.JSXSpreadAttribute=ni;var ci=function(hi,di){this.type=Je.JSXSyntax.JSXText,this.value=hi,this.raw=di};Ze.JSXText=ci},function(Ke,Ze){Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(Ke,Ze,Qe){Object.defineProperty(Ze,"__esModule",{value:!0});var Je=Qe(2),St=function(En){this.type=Je.Syntax.ArrayExpression,this.elements=En};Ze.ArrayExpression=St;var ei=function(En){this.type=Je.Syntax.ArrayPattern,this.elements=En};Ze.ArrayPattern=ei;var ti=function(En,Yi,fn){this.type=Je.Syntax.ArrowFunctionExpression,this.id=null,this.params=En,this.body=Yi,this.generator=!1,this.expression=fn,this.async=!1};Ze.ArrowFunctionExpression=ti;var ii=function(En,Yi,fn){this.type=Je.Syntax.AssignmentExpression,this.operator=En,this.left=Yi,this.right=fn};Ze.AssignmentExpression=ii;var ri=function(En,Yi){this.type=Je.Syntax.AssignmentPattern,this.left=En,this.right=Yi};Ze.AssignmentPattern=ri;var si=function(En,Yi,fn){this.type=Je.Syntax.ArrowFunctionExpression,this.id=null,this.params=En,this.body=Yi,this.generator=!1,this.expression=fn,this.async=!0};Ze.AsyncArrowFunctionExpression=si;var ui=function(En,Yi,fn){this.type=Je.Syntax.FunctionDeclaration,this.id=En,this.params=Yi,this.body=fn,this.generator=!1,this.expression=!1,this.async=!0};Ze.AsyncFunctionDeclaration=ui;var ai=function(En,Yi,fn){this.type=Je.Syntax.FunctionExpression,this.id=En,this.params=Yi,this.body=fn,this.generator=!1,this.expression=!1,this.async=!0};Ze.AsyncFunctionExpression=ai;var oi=function(En){this.type=Je.Syntax.AwaitExpression,this.argument=En};Ze.AwaitExpression=oi;var ni=function(En,Yi,fn){var Sn=En==="||"||En==="&&";this.type=Sn?Je.Syntax.LogicalExpression:Je.Syntax.BinaryExpression,this.operator=En,this.left=Yi,this.right=fn};Ze.BinaryExpression=ni;var ci=function(En){this.type=Je.Syntax.BlockStatement,this.body=En};Ze.BlockStatement=ci;var hi=function(En){this.type=Je.Syntax.BreakStatement,this.label=En};Ze.BreakStatement=hi;var di=function(En,Yi){this.type=Je.Syntax.CallExpression,this.callee=En,this.arguments=Yi};Ze.CallExpression=di;var fi=function(En,Yi){this.type=Je.Syntax.CatchClause,this.param=En,this.body=Yi};Ze.CatchClause=fi;var mi=function(En){this.type=Je.Syntax.ClassBody,this.body=En};Ze.ClassBody=mi;var pi=function(En,Yi,fn){this.type=Je.Syntax.ClassDeclaration,this.id=En,this.superClass=Yi,this.body=fn};Ze.ClassDeclaration=pi;var wi=function(En,Yi,fn){this.type=Je.Syntax.ClassExpression,this.id=En,this.superClass=Yi,this.body=fn};Ze.ClassExpression=wi;var gi=function(En,Yi){this.type=Je.Syntax.MemberExpression,this.computed=!0,this.object=En,this.property=Yi};Ze.ComputedMemberExpression=gi;var yi=function(En,Yi,fn){this.type=Je.Syntax.ConditionalExpression,this.test=En,this.consequent=Yi,this.alternate=fn};Ze.ConditionalExpression=yi;var Ai=function(En){this.type=Je.Syntax.ContinueStatement,this.label=En};Ze.ContinueStatement=Ai;var Si=function(){this.type=Je.Syntax.DebuggerStatement};Ze.DebuggerStatement=Si;var ki=function(En,Yi){this.type=Je.Syntax.ExpressionStatement,this.expression=En,this.directive=Yi};Ze.Directive=ki;var Li=function(En,Yi){this.type=Je.Syntax.DoWhileStatement,this.body=En,this.test=Yi};Ze.DoWhileStatement=Li;var Bi=function(){this.type=Je.Syntax.EmptyStatement};Ze.EmptyStatement=Bi;var Pi=function(En){this.type=Je.Syntax.ExportAllDeclaration,this.source=En};Ze.ExportAllDeclaration=Pi;var Ri=function(En){this.type=Je.Syntax.ExportDefaultDeclaration,this.declaration=En};Ze.ExportDefaultDeclaration=Ri;var Fi=function(En,Yi,fn){this.type=Je.Syntax.ExportNamedDeclaration,this.declaration=En,this.specifiers=Yi,this.source=fn};Ze.ExportNamedDeclaration=Fi;var Gi=function(En,Yi){this.type=Je.Syntax.ExportSpecifier,this.exported=Yi,this.local=En};Ze.ExportSpecifier=Gi;var Ti=function(En){this.type=Je.Syntax.ExpressionStatement,this.expression=En};Ze.ExpressionStatement=Ti;var Vi=function(En,Yi,fn){this.type=Je.Syntax.ForInStatement,this.left=En,this.right=Yi,this.body=fn,this.each=!1};Ze.ForInStatement=Vi;var Ui=function(En,Yi,fn){this.type=Je.Syntax.ForOfStatement,this.left=En,this.right=Yi,this.body=fn};Ze.ForOfStatement=Ui;var $i=function(En,Yi,fn,Sn){this.type=Je.Syntax.ForStatement,this.init=En,this.test=Yi,this.update=fn,this.body=Sn};Ze.ForStatement=$i;var Wi=function(En,Yi,fn,Sn){this.type=Je.Syntax.FunctionDeclaration,this.id=En,this.params=Yi,this.body=fn,this.generator=Sn,this.expression=!1,this.async=!1};Ze.FunctionDeclaration=Wi;var tn=function(En,Yi,fn,Sn){this.type=Je.Syntax.FunctionExpression,this.id=En,this.params=Yi,this.body=fn,this.generator=Sn,this.expression=!1,this.async=!1};Ze.FunctionExpression=tn;var nn=function(En){this.type=Je.Syntax.Identifier,this.name=En};Ze.Identifier=nn;var Qi=function(En,Yi,fn){this.type=Je.Syntax.IfStatement,this.test=En,this.consequent=Yi,this.alternate=fn};Ze.IfStatement=Qi;var Ei=function(En,Yi){this.type=Je.Syntax.ImportDeclaration,this.specifiers=En,this.source=Yi};Ze.ImportDeclaration=Ei;var bi=function(En){this.type=Je.Syntax.ImportDefaultSpecifier,this.local=En};Ze.ImportDefaultSpecifier=bi;var Ci=function(En){this.type=Je.Syntax.ImportNamespaceSpecifier,this.local=En};Ze.ImportNamespaceSpecifier=Ci;var _i=function(En,Yi){this.type=Je.Syntax.ImportSpecifier,this.local=En,this.imported=Yi};Ze.ImportSpecifier=_i;var Ii=function(En,Yi){this.type=Je.Syntax.LabeledStatement,this.label=En,this.body=Yi};Ze.LabeledStatement=Ii;var Ni=function(En,Yi){this.type=Je.Syntax.Literal,this.value=En,this.raw=Yi};Ze.Literal=Ni;var Di=function(En,Yi){this.type=Je.Syntax.MetaProperty,this.meta=En,this.property=Yi};Ze.MetaProperty=Di;var Ki=function(En,Yi,fn,Sn,Dn){this.type=Je.Syntax.MethodDefinition,this.key=En,this.computed=Yi,this.value=fn,this.kind=Sn,this.static=Dn};Ze.MethodDefinition=Ki;var sn=function(En){this.type=Je.Syntax.Program,this.body=En,this.sourceType="module"};Ze.Module=sn;var zi=function(En,Yi){this.type=Je.Syntax.NewExpression,this.callee=En,this.arguments=Yi};Ze.NewExpression=zi;var on=function(En){this.type=Je.Syntax.ObjectExpression,this.properties=En};Ze.ObjectExpression=on;var cn=function(En){this.type=Je.Syntax.ObjectPattern,this.properties=En};Ze.ObjectPattern=cn;var mn=function(En,Yi,fn,Sn,Dn,qn){this.type=Je.Syntax.Property,this.key=Yi,this.computed=fn,this.value=Sn,this.kind=En,this.method=Dn,this.shorthand=qn};Ze.Property=mn;var dn=function(En,Yi,fn,Sn){this.type=Je.Syntax.Literal,this.value=En,this.raw=Yi,this.regex={pattern:fn,flags:Sn}};Ze.RegexLiteral=dn;var An=function(En){this.type=Je.Syntax.RestElement,this.argument=En};Ze.RestElement=An;var pn=function(En){this.type=Je.Syntax.ReturnStatement,this.argument=En};Ze.ReturnStatement=pn;var Mn=function(En){this.type=Je.Syntax.Program,this.body=En,this.sourceType="script"};Ze.Script=Mn;var Hi=function(En){this.type=Je.Syntax.SequenceExpression,this.expressions=En};Ze.SequenceExpression=Hi;var On=function(En){this.type=Je.Syntax.SpreadElement,this.argument=En};Ze.SpreadElement=On;var wn=function(En,Yi){this.type=Je.Syntax.MemberExpression,this.computed=!1,this.object=En,this.property=Yi};Ze.StaticMemberExpression=wn;var _n=function(){this.type=Je.Syntax.Super};Ze.Super=_n;var an=function(En,Yi){this.type=Je.Syntax.SwitchCase,this.test=En,this.consequent=Yi};Ze.SwitchCase=an;var Cn=function(En,Yi){this.type=Je.Syntax.SwitchStatement,this.discriminant=En,this.cases=Yi};Ze.SwitchStatement=Cn;var Ln=function(En,Yi){this.type=Je.Syntax.TaggedTemplateExpression,this.tag=En,this.quasi=Yi};Ze.TaggedTemplateExpression=Ln;var Nn=function(En,Yi){this.type=Je.Syntax.TemplateElement,this.value=En,this.tail=Yi};Ze.TemplateElement=Nn;var Fn=function(En,Yi){this.type=Je.Syntax.TemplateLiteral,this.quasis=En,this.expressions=Yi};Ze.TemplateLiteral=Fn;var Hn=function(){this.type=Je.Syntax.ThisExpression};Ze.ThisExpression=Hn;var zn=function(En){this.type=Je.Syntax.ThrowStatement,this.argument=En};Ze.ThrowStatement=zn;var Xn=function(En,Yi,fn){this.type=Je.Syntax.TryStatement,this.block=En,this.handler=Yi,this.finalizer=fn};Ze.TryStatement=Xn;var tr=function(En,Yi){this.type=Je.Syntax.UnaryExpression,this.operator=En,this.argument=Yi,this.prefix=!0};Ze.UnaryExpression=tr;var nr=function(En,Yi,fn){this.type=Je.Syntax.UpdateExpression,this.operator=En,this.argument=Yi,this.prefix=fn};Ze.UpdateExpression=nr;var mr=function(En,Yi){this.type=Je.Syntax.VariableDeclaration,this.declarations=En,this.kind=Yi};Ze.VariableDeclaration=mr;var ar=function(En,Yi){this.type=Je.Syntax.VariableDeclarator,this.id=En,this.init=Yi};Ze.VariableDeclarator=ar;var rr=function(En,Yi){this.type=Je.Syntax.WhileStatement,this.test=En,this.body=Yi};Ze.WhileStatement=rr;var Qn=function(En,Yi){this.type=Je.Syntax.WithStatement,this.object=En,this.body=Yi};Ze.WithStatement=Qn;var hr=function(En,Yi){this.type=Je.Syntax.YieldExpression,this.argument=En,this.delegate=Yi};Ze.YieldExpression=hr},function(Ke,Ze,Qe){Object.defineProperty(Ze,"__esModule",{value:!0});var Je=Qe(9),St=Qe(10),ei=Qe(11),ti=Qe(7),ii=Qe(12),ri=Qe(2),si=Qe(13),ui=function(){function ai(oi,ni,ci){ni===void 0&&(ni={}),this.config={range:typeof ni.range=="boolean"&&ni.range,loc:typeof ni.loc=="boolean"&&ni.loc,source:null,tokens:typeof ni.tokens=="boolean"&&ni.tokens,comment:typeof ni.comment=="boolean"&&ni.comment,tolerant:typeof ni.tolerant=="boolean"&&ni.tolerant},this.config.loc&&ni.source&&ni.source!==null&&(this.config.source=String(ni.source)),this.delegate=ci,this.errorHandler=new St.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new ii.Scanner(oi,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.hasLineTerminator=!1,this.context={isModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.lastMarker={index:0,line:this.scanner.lineNumber,column:0},this.nextToken(),this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}return ai.prototype.throwError=function(oi){for(var ni=[],ci=1;ci<arguments.length;ci++)ni[ci-1]=arguments[ci];var hi=Array.prototype.slice.call(arguments,1),di=oi.replace(/%(\d)/g,function(wi,gi){return Je.assert(gi<hi.length,"Message reference must be in range"),hi[gi]}),fi=this.lastMarker.index,mi=this.lastMarker.line,pi=this.lastMarker.column+1;throw this.errorHandler.createError(fi,mi,pi,di)},ai.prototype.tolerateError=function(oi){for(var ni=[],ci=1;ci<arguments.length;ci++)ni[ci-1]=arguments[ci];var hi=Array.prototype.slice.call(arguments,1),di=oi.replace(/%(\d)/g,function(wi,gi){return Je.assert(gi<hi.length,"Message reference must be in range"),hi[gi]}),fi=this.lastMarker.index,mi=this.scanner.lineNumber,pi=this.lastMarker.column+1;this.errorHandler.tolerateError(fi,mi,pi,di)},ai.prototype.unexpectedTokenError=function(oi,ni){var ci,hi=ni||ei.Messages.UnexpectedToken;if(oi?(ni||(hi=oi.type===2?ei.Messages.UnexpectedEOS:oi.type===3?ei.Messages.UnexpectedIdentifier:oi.type===6?ei.Messages.UnexpectedNumber:oi.type===8?ei.Messages.UnexpectedString:oi.type===10?ei.Messages.UnexpectedTemplate:ei.Messages.UnexpectedToken,oi.type===4&&(this.scanner.isFutureReservedWord(oi.value)?hi=ei.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(oi.value)&&(hi=ei.Messages.StrictReservedWord))),ci=oi.value):ci="ILLEGAL",hi=hi.replace("%0",ci),oi&&typeof oi.lineNumber=="number"){var di=oi.start,fi=oi.lineNumber,mi=this.lastMarker.index-this.lastMarker.column,pi=oi.start-mi+1;return this.errorHandler.createError(di,fi,pi,hi)}return di=this.lastMarker.index,fi=this.lastMarker.line,pi=this.lastMarker.column+1,this.errorHandler.createError(di,fi,pi,hi)},ai.prototype.throwUnexpectedToken=function(oi,ni){throw this.unexpectedTokenError(oi,ni)},ai.prototype.tolerateUnexpectedToken=function(oi,ni){this.errorHandler.tolerate(this.unexpectedTokenError(oi,ni))},ai.prototype.collectComments=function(){if(this.config.comment){var oi=this.scanner.scanComments();if(oi.length>0&&this.delegate)for(var ni=0;ni<oi.length;++ni){var ci=oi[ni],hi=void 0;hi={type:ci.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(ci.slice[0],ci.slice[1])},this.config.range&&(hi.range=ci.range),this.config.loc&&(hi.loc=ci.loc);var di={start:{line:ci.loc.start.line,column:ci.loc.start.column,offset:ci.range[0]},end:{line:ci.loc.end.line,column:ci.loc.end.column,offset:ci.range[1]}};this.delegate(hi,di)}}else this.scanner.scanComments()},ai.prototype.getTokenRaw=function(oi){return this.scanner.source.slice(oi.start,oi.end)},ai.prototype.convertToken=function(oi){var ni={type:si.TokenName[oi.type],value:this.getTokenRaw(oi)};if(this.config.range&&(ni.range=[oi.start,oi.end]),this.config.loc&&(ni.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),oi.type===9){var ci=oi.pattern,hi=oi.flags;ni.regex={pattern:ci,flags:hi}}return ni},ai.prototype.nextToken=function(){var oi=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.collectComments(),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var ni=this.scanner.lex();return this.hasLineTerminator=oi.lineNumber!==ni.lineNumber,ni&&this.context.strict&&ni.type===3&&this.scanner.isStrictModeReservedWord(ni.value)&&(ni.type=4),this.lookahead=ni,this.config.tokens&&ni.type!==2&&this.tokens.push(this.convertToken(ni)),oi},ai.prototype.nextRegexToken=function(){this.collectComments();var oi=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(oi))),this.lookahead=oi,this.nextToken(),oi},ai.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}},ai.prototype.startNode=function(oi,ni){ni===void 0&&(ni=0);var ci=oi.start-oi.lineStart,hi=oi.lineNumber;return ci<0&&(ci+=ni,hi--),{index:oi.start,line:hi,column:ci}},ai.prototype.finalize=function(oi,ni){if(this.config.range&&(ni.range=[oi.index,this.lastMarker.index]),this.config.loc&&(ni.loc={start:{line:oi.line,column:oi.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(ni.loc.source=this.config.source)),this.delegate){var ci={start:{line:oi.line,column:oi.column,offset:oi.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}};this.delegate(ni,ci)}return ni},ai.prototype.expect=function(oi){var ni=this.nextToken();ni.type===7&&ni.value===oi||this.throwUnexpectedToken(ni)},ai.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var oi=this.lookahead;oi.type===7&&oi.value===","?this.nextToken():oi.type===7&&oi.value===";"?(this.nextToken(),this.tolerateUnexpectedToken(oi)):this.tolerateUnexpectedToken(oi,ei.Messages.UnexpectedToken)}else this.expect(",")},ai.prototype.expectKeyword=function(oi){var ni=this.nextToken();ni.type===4&&ni.value===oi||this.throwUnexpectedToken(ni)},ai.prototype.match=function(oi){return this.lookahead.type===7&&this.lookahead.value===oi},ai.prototype.matchKeyword=function(oi){return this.lookahead.type===4&&this.lookahead.value===oi},ai.prototype.matchContextualKeyword=function(oi){return this.lookahead.type===3&&this.lookahead.value===oi},ai.prototype.matchAssign=function(){if(this.lookahead.type!==7)return!1;var oi=this.lookahead.value;return oi==="="||oi==="*="||oi==="**="||oi==="/="||oi==="%="||oi==="+="||oi==="-="||oi==="<<="||oi===">>="||oi===">>>="||oi==="&="||oi==="^="||oi==="|="},ai.prototype.isolateCoverGrammar=function(oi){var ni=this.context.isBindingElement,ci=this.context.isAssignmentTarget,hi=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var di=oi.call(this);return this.context.firstCoverInitializedNameError!==null&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=ni,this.context.isAssignmentTarget=ci,this.context.firstCoverInitializedNameError=hi,di},ai.prototype.inheritCoverGrammar=function(oi){var ni=this.context.isBindingElement,ci=this.context.isAssignmentTarget,hi=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var di=oi.call(this);return this.context.isBindingElement=this.context.isBindingElement&&ni,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&ci,this.context.firstCoverInitializedNameError=hi||this.context.firstCoverInitializedNameError,di},ai.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(this.lookahead.type===2||this.match("}")||this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)},ai.prototype.parsePrimaryExpression=function(){var oi,ni,ci,hi=this.createNode();switch(this.lookahead.type){case 3:(this.context.isModule||this.context.await)&&this.lookahead.value==="await"&&this.tolerateUnexpectedToken(this.lookahead),oi=this.matchAsyncFunction()?this.parseFunctionExpression():this.finalize(hi,new ti.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,ei.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,ni=this.nextToken(),ci=this.getTokenRaw(ni),oi=this.finalize(hi,new ti.Literal(ni.value,ci));break;case 1:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,ni=this.nextToken(),ci=this.getTokenRaw(ni),oi=this.finalize(hi,new ti.Literal(ni.value==="true",ci));break;case 5:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,ni=this.nextToken(),ci=this.getTokenRaw(ni),oi=this.finalize(hi,new ti.Literal(null,ci));break;case 10:oi=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case"(":this.context.isBindingElement=!1,oi=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":oi=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":oi=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,ni=this.nextRegexToken(),ci=this.getTokenRaw(ni),oi=this.finalize(hi,new ti.RegexLiteral(ni.regex,ci,ni.pattern,ni.flags));break;default:oi=this.throwUnexpectedToken(this.nextToken())}break;case 4:!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")?oi=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?oi=this.finalize(hi,new ti.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?oi=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),oi=this.finalize(hi,new ti.ThisExpression)):oi=this.matchKeyword("class")?this.parseClassExpression():this.throwUnexpectedToken(this.nextToken()));break;default:oi=this.throwUnexpectedToken(this.nextToken())}return oi},ai.prototype.parseSpreadElement=function(){var oi=this.createNode();this.expect("...");var ni=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(oi,new ti.SpreadElement(ni))},ai.prototype.parseArrayInitializer=function(){var oi=this.createNode(),ni=[];for(this.expect("[");!this.match("]");)if(this.match(","))this.nextToken(),ni.push(null);else if(this.match("...")){var ci=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(",")),ni.push(ci)}else ni.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");return this.expect("]"),this.finalize(oi,new ti.ArrayExpression(ni))},ai.prototype.parsePropertyMethod=function(oi){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var ni=this.context.strict,ci=this.context.allowStrictDirective;this.context.allowStrictDirective=oi.simple;var hi=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&oi.firstRestricted&&this.tolerateUnexpectedToken(oi.firstRestricted,oi.message),this.context.strict&&oi.stricted&&this.tolerateUnexpectedToken(oi.stricted,oi.message),this.context.strict=ni,this.context.allowStrictDirective=ci,hi},ai.prototype.parsePropertyMethodFunction=function(){var oi=this.createNode(),ni=this.context.allowYield;this.context.allowYield=!0;var ci=this.parseFormalParameters(),hi=this.parsePropertyMethod(ci);return this.context.allowYield=ni,this.finalize(oi,new ti.FunctionExpression(null,ci.params,hi,!1))},ai.prototype.parsePropertyMethodAsyncFunction=function(){var oi=this.createNode(),ni=this.context.allowYield,ci=this.context.await;this.context.allowYield=!1,this.context.await=!0;var hi=this.parseFormalParameters(),di=this.parsePropertyMethod(hi);return this.context.allowYield=ni,this.context.await=ci,this.finalize(oi,new ti.AsyncFunctionExpression(null,hi.params,di))},ai.prototype.parseObjectPropertyKey=function(){var oi,ni=this.createNode(),ci=this.nextToken();switch(ci.type){case 8:case 6:this.context.strict&&ci.octal&&this.tolerateUnexpectedToken(ci,ei.Messages.StrictOctalLiteral);var hi=this.getTokenRaw(ci);oi=this.finalize(ni,new ti.Literal(ci.value,hi));break;case 3:case 1:case 5:case 4:oi=this.finalize(ni,new ti.Identifier(ci.value));break;case 7:ci.value==="["?(oi=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):oi=this.throwUnexpectedToken(ci);break;default:oi=this.throwUnexpectedToken(ci)}return oi},ai.prototype.isPropertyKey=function(oi,ni){return oi.type===ri.Syntax.Identifier&&oi.name===ni||oi.type===ri.Syntax.Literal&&oi.value===ni},ai.prototype.parseObjectProperty=function(oi){var ni,ci=this.createNode(),hi=this.lookahead,di=null,fi=null,mi=!1,pi=!1,wi=!1,gi=!1;if(hi.type===3){var yi=hi.value;this.nextToken(),mi=this.match("["),di=(gi=!(this.hasLineTerminator||yi!=="async"||this.match(":")||this.match("(")||this.match("*")||this.match(",")))?this.parseObjectPropertyKey():this.finalize(ci,new ti.Identifier(yi))}else this.match("*")?this.nextToken():(mi=this.match("["),di=this.parseObjectPropertyKey());var Ai=this.qualifiedPropertyName(this.lookahead);if(hi.type===3&&!gi&&hi.value==="get"&&Ai)ni="get",mi=this.match("["),di=this.parseObjectPropertyKey(),this.context.allowYield=!1,fi=this.parseGetterMethod();else if(hi.type===3&&!gi&&hi.value==="set"&&Ai)ni="set",mi=this.match("["),di=this.parseObjectPropertyKey(),fi=this.parseSetterMethod();else if(hi.type===7&&hi.value==="*"&&Ai)ni="init",mi=this.match("["),di=this.parseObjectPropertyKey(),fi=this.parseGeneratorMethod(),pi=!0;else if(di||this.throwUnexpectedToken(this.lookahead),ni="init",this.match(":")&&!gi)!mi&&this.isPropertyKey(di,"__proto__")&&(oi.value&&this.tolerateError(ei.Messages.DuplicateProtoProperty),oi.value=!0),this.nextToken(),fi=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match("("))fi=gi?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),pi=!0;else if(hi.type===3)if(yi=this.finalize(ci,new ti.Identifier(hi.value)),this.match("=")){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),wi=!0;var Si=this.isolateCoverGrammar(this.parseAssignmentExpression);fi=this.finalize(ci,new ti.AssignmentPattern(yi,Si))}else wi=!0,fi=yi;else this.throwUnexpectedToken(this.nextToken());return this.finalize(ci,new ti.Property(ni,di,mi,fi,pi,wi))},ai.prototype.parseObjectInitializer=function(){var oi=this.createNode();this.expect("{");for(var ni=[],ci={value:!1};!this.match("}");)ni.push(this.parseObjectProperty(ci)),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(oi,new ti.ObjectExpression(ni))},ai.prototype.parseTemplateHead=function(){Je.assert(this.lookahead.head,"Template literal must start with a template head");var oi=this.createNode(),ni=this.nextToken(),ci=ni.value,hi=ni.cooked;return this.finalize(oi,new ti.TemplateElement({raw:ci,cooked:hi},ni.tail))},ai.prototype.parseTemplateElement=function(){this.lookahead.type!==10&&this.throwUnexpectedToken();var oi=this.createNode(),ni=this.nextToken(),ci=ni.value,hi=ni.cooked;return this.finalize(oi,new ti.TemplateElement({raw:ci,cooked:hi},ni.tail))},ai.prototype.parseTemplateLiteral=function(){var oi=this.createNode(),ni=[],ci=[],hi=this.parseTemplateHead();for(ci.push(hi);!hi.tail;)ni.push(this.parseExpression()),hi=this.parseTemplateElement(),ci.push(hi);return this.finalize(oi,new ti.TemplateLiteral(ci,ni))},ai.prototype.reinterpretExpressionAsPattern=function(oi){switch(oi.type){case ri.Syntax.Identifier:case ri.Syntax.MemberExpression:case ri.Syntax.RestElement:case ri.Syntax.AssignmentPattern:break;case ri.Syntax.SpreadElement:oi.type=ri.Syntax.RestElement,this.reinterpretExpressionAsPattern(oi.argument);break;case ri.Syntax.ArrayExpression:oi.type=ri.Syntax.ArrayPattern;for(var ni=0;ni<oi.elements.length;ni++)oi.elements[ni]!==null&&this.reinterpretExpressionAsPattern(oi.elements[ni]);break;case ri.Syntax.ObjectExpression:for(oi.type=ri.Syntax.ObjectPattern,ni=0;ni<oi.properties.length;ni++)this.reinterpretExpressionAsPattern(oi.properties[ni].value);break;case ri.Syntax.AssignmentExpression:oi.type=ri.Syntax.AssignmentPattern,delete oi.operator,this.reinterpretExpressionAsPattern(oi.left)}},ai.prototype.parseGroupExpression=function(){var oi;if(this.expect("("),this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),oi={type:"ArrowParameterPlaceHolder",params:[],async:!1};else{var ni=this.lookahead,ci=[];if(this.match("..."))oi=this.parseRestElement(ci),this.expect(")"),this.match("=>")||this.expect("=>"),oi={type:"ArrowParameterPlaceHolder",params:[oi],async:!1};else{var hi=!1;if(this.context.isBindingElement=!0,oi=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(",")){var di=[];for(this.context.isAssignmentTarget=!1,di.push(oi);this.lookahead.type!==2&&this.match(",");){if(this.nextToken(),this.match(")")){this.nextToken();for(var fi=0;fi<di.length;fi++)this.reinterpretExpressionAsPattern(di[fi]);hi=!0,oi={type:"ArrowParameterPlaceHolder",params:di,async:!1}}else if(this.match("...")){for(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),di.push(this.parseRestElement(ci)),this.expect(")"),this.match("=>")||this.expect("=>"),this.context.isBindingElement=!1,fi=0;fi<di.length;fi++)this.reinterpretExpressionAsPattern(di[fi]);hi=!0,oi={type:"ArrowParameterPlaceHolder",params:di,async:!1}}else di.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(hi)break}hi||(oi=this.finalize(this.startNode(ni),new ti.SequenceExpression(di)))}if(!hi){if(this.expect(")"),this.match("=>")&&(oi.type===ri.Syntax.Identifier&&oi.name==="yield"&&(hi=!0,oi={type:"ArrowParameterPlaceHolder",params:[oi],async:!1}),!hi)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),oi.type===ri.Syntax.SequenceExpression)for(fi=0;fi<oi.expressions.length;fi++)this.reinterpretExpressionAsPattern(oi.expressions[fi]);else this.reinterpretExpressionAsPattern(oi);oi={type:"ArrowParameterPlaceHolder",params:oi.type===ri.Syntax.SequenceExpression?oi.expressions:[oi],async:!1}}this.context.isBindingElement=!1}}}return oi},ai.prototype.parseArguments=function(){this.expect("(");var oi=[];if(!this.match(")"))for(;;){var ni=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(oi.push(ni),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),oi},ai.prototype.isIdentifierName=function(oi){return oi.type===3||oi.type===4||oi.type===1||oi.type===5},ai.prototype.parseIdentifierName=function(){var oi=this.createNode(),ni=this.nextToken();return this.isIdentifierName(ni)||this.throwUnexpectedToken(ni),this.finalize(oi,new ti.Identifier(ni.value))},ai.prototype.parseNewExpression=function(){var oi,ni=this.createNode(),ci=this.parseIdentifierName();if(Je.assert(ci.name==="new","New expression must start with `new`"),this.match("."))if(this.nextToken(),this.lookahead.type===3&&this.context.inFunctionBody&&this.lookahead.value==="target"){var hi=this.parseIdentifierName();oi=new ti.MetaProperty(ci,hi)}else this.throwUnexpectedToken(this.lookahead);else{var di=this.isolateCoverGrammar(this.parseLeftHandSideExpression),fi=this.match("(")?this.parseArguments():[];oi=new ti.NewExpression(di,fi),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(ni,oi)},ai.prototype.parseAsyncArgument=function(){var oi=this.parseAssignmentExpression();return this.context.firstCoverInitializedNameError=null,oi},ai.prototype.parseAsyncArguments=function(){this.expect("(");var oi=[];if(!this.match(")"))for(;;){var ni=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAsyncArgument);if(oi.push(ni),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),oi},ai.prototype.parseLeftHandSideExpressionAllowCall=function(){var oi,ni=this.lookahead,ci=this.matchContextualKeyword("async"),hi=this.context.allowIn;for(this.context.allowIn=!0,this.matchKeyword("super")&&this.context.inFunctionBody?(oi=this.createNode(),this.nextToken(),oi=this.finalize(oi,new ti.Super),this.match("(")||this.match(".")||this.match("[")||this.throwUnexpectedToken(this.lookahead)):oi=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var di=this.parseIdentifierName();oi=this.finalize(this.startNode(ni),new ti.StaticMemberExpression(oi,di))}else if(this.match("(")){var fi=ci&&ni.lineNumber===this.lookahead.lineNumber;this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var mi=fi?this.parseAsyncArguments():this.parseArguments();if(oi=this.finalize(this.startNode(ni),new ti.CallExpression(oi,mi)),fi&&this.match("=>")){for(var pi=0;pi<mi.length;++pi)this.reinterpretExpressionAsPattern(mi[pi]);oi={type:"ArrowParameterPlaceHolder",params:mi,async:!0}}}else if(this.match("["))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("["),di=this.isolateCoverGrammar(this.parseExpression),this.expect("]"),oi=this.finalize(this.startNode(ni),new ti.ComputedMemberExpression(oi,di));else{if(this.lookahead.type!==10||!this.lookahead.head)break;var wi=this.parseTemplateLiteral();oi=this.finalize(this.startNode(ni),new ti.TaggedTemplateExpression(oi,wi))}return this.context.allowIn=hi,oi},ai.prototype.parseSuper=function(){var oi=this.createNode();return this.expectKeyword("super"),this.match("[")||this.match(".")||this.throwUnexpectedToken(this.lookahead),this.finalize(oi,new ti.Super)},ai.prototype.parseLeftHandSideExpression=function(){Je.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var oi=this.startNode(this.lookahead),ni=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var ci=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),ni=this.finalize(oi,new ti.ComputedMemberExpression(ni,ci))}else if(this.match("."))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("."),ci=this.parseIdentifierName(),ni=this.finalize(oi,new ti.StaticMemberExpression(ni,ci));else{if(this.lookahead.type!==10||!this.lookahead.head)break;var hi=this.parseTemplateLiteral();ni=this.finalize(oi,new ti.TaggedTemplateExpression(ni,hi))}return ni},ai.prototype.parseUpdateExpression=function(){var oi,ni=this.lookahead;if(this.match("++")||this.match("--")){var ci=this.startNode(ni),hi=this.nextToken();oi=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&oi.type===ri.Syntax.Identifier&&this.scanner.isRestrictedWord(oi.name)&&this.tolerateError(ei.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(ei.Messages.InvalidLHSInAssignment);var di=!0;oi=this.finalize(ci,new ti.UpdateExpression(hi.value,oi,di)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(oi=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&this.lookahead.type===7&&(this.match("++")||this.match("--"))){this.context.strict&&oi.type===ri.Syntax.Identifier&&this.scanner.isRestrictedWord(oi.name)&&this.tolerateError(ei.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(ei.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var fi=this.nextToken().value;di=!1,oi=this.finalize(this.startNode(ni),new ti.UpdateExpression(fi,oi,di))}return oi},ai.prototype.parseAwaitExpression=function(){var oi=this.createNode();this.nextToken();var ni=this.parseUnaryExpression();return this.finalize(oi,new ti.AwaitExpression(ni))},ai.prototype.parseUnaryExpression=function(){var oi;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var ni=this.startNode(this.lookahead),ci=this.nextToken();oi=this.inheritCoverGrammar(this.parseUnaryExpression),oi=this.finalize(ni,new ti.UnaryExpression(ci.value,oi)),this.context.strict&&oi.operator==="delete"&&oi.argument.type===ri.Syntax.Identifier&&this.tolerateError(ei.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else oi=this.context.await&&this.matchContextualKeyword("await")?this.parseAwaitExpression():this.parseUpdateExpression();return oi},ai.prototype.parseExponentiationExpression=function(){var oi=this.lookahead,ni=this.inheritCoverGrammar(this.parseUnaryExpression);if(ni.type!==ri.Syntax.UnaryExpression&&this.match("**")){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var ci=ni,hi=this.isolateCoverGrammar(this.parseExponentiationExpression);ni=this.finalize(this.startNode(oi),new ti.BinaryExpression("**",ci,hi))}return ni},ai.prototype.binaryPrecedence=function(oi){var ni=oi.value;return oi.type===7?this.operatorPrecedence[ni]||0:oi.type===4&&(ni==="instanceof"||this.context.allowIn&&ni==="in")?7:0},ai.prototype.parseBinaryExpression=function(){var oi=this.lookahead,ni=this.inheritCoverGrammar(this.parseExponentiationExpression),ci=this.lookahead,hi=this.binaryPrecedence(ci);if(hi>0){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var di=[oi,this.lookahead],fi=ni,mi=this.isolateCoverGrammar(this.parseExponentiationExpression),pi=[fi,ci.value,mi],wi=[hi];!((hi=this.binaryPrecedence(this.lookahead))<=0);){for(;pi.length>2&&hi<=wi[wi.length-1];){mi=pi.pop();var gi=pi.pop();wi.pop(),fi=pi.pop(),di.pop();var yi=this.startNode(di[di.length-1]);pi.push(this.finalize(yi,new ti.BinaryExpression(gi,fi,mi)))}pi.push(this.nextToken().value),wi.push(hi),di.push(this.lookahead),pi.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var Ai=pi.length-1;ni=pi[Ai];for(var Si=di.pop();Ai>1;){var ki=di.pop(),Li=Si&&Si.lineStart;yi=this.startNode(ki,Li),gi=pi[Ai-1],ni=this.finalize(yi,new ti.BinaryExpression(gi,pi[Ai-2],ni)),Ai-=2,Si=ki}}return ni},ai.prototype.parseConditionalExpression=function(){var oi=this.lookahead,ni=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var ci=this.context.allowIn;this.context.allowIn=!0;var hi=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=ci,this.expect(":");var di=this.isolateCoverGrammar(this.parseAssignmentExpression);ni=this.finalize(this.startNode(oi),new ti.ConditionalExpression(ni,hi,di)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return ni},ai.prototype.checkPatternParam=function(oi,ni){switch(ni.type){case ri.Syntax.Identifier:this.validateParam(oi,ni,ni.name);break;case ri.Syntax.RestElement:this.checkPatternParam(oi,ni.argument);break;case ri.Syntax.AssignmentPattern:this.checkPatternParam(oi,ni.left);break;case ri.Syntax.ArrayPattern:for(var ci=0;ci<ni.elements.length;ci++)ni.elements[ci]!==null&&this.checkPatternParam(oi,ni.elements[ci]);break;case ri.Syntax.ObjectPattern:for(ci=0;ci<ni.properties.length;ci++)this.checkPatternParam(oi,ni.properties[ci].value)}oi.simple=oi.simple&&ni instanceof ti.Identifier},ai.prototype.reinterpretAsCoverFormalsList=function(oi){var ni,ci=[oi],hi=!1;switch(oi.type){case ri.Syntax.Identifier:break;case"ArrowParameterPlaceHolder":ci=oi.params,hi=oi.async;break;default:return null}ni={simple:!0,paramSet:{}};for(var di=0;di<ci.length;++di)(fi=ci[di]).type===ri.Syntax.AssignmentPattern?fi.right.type===ri.Syntax.YieldExpression&&(fi.right.argument&&this.throwUnexpectedToken(this.lookahead),fi.right.type=ri.Syntax.Identifier,fi.right.name="yield",delete fi.right.argument,delete fi.right.delegate):hi&&fi.type===ri.Syntax.Identifier&&fi.name==="await"&&this.throwUnexpectedToken(this.lookahead),this.checkPatternParam(ni,fi),ci[di]=fi;if(this.context.strict||!this.context.allowYield)for(di=0;di<ci.length;++di){var fi;(fi=ci[di]).type===ri.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}if(ni.message===ei.Messages.StrictParamDupe){var mi=this.context.strict?ni.stricted:ni.firstRestricted;this.throwUnexpectedToken(mi,ni.message)}return{simple:ni.simple,params:ci,stricted:ni.stricted,firstRestricted:ni.firstRestricted,message:ni.message}},ai.prototype.parseAssignmentExpression=function(){var oi;if(!this.context.allowYield&&this.matchKeyword("yield"))oi=this.parseYieldExpression();else{var ni=this.lookahead,ci=ni;if(oi=this.parseConditionalExpression(),ci.type===3&&ci.lineNumber===this.lookahead.lineNumber&&ci.value==="async"&&(this.lookahead.type===3||this.matchKeyword("yield"))){var hi=this.parsePrimaryExpression();this.reinterpretExpressionAsPattern(hi),oi={type:"ArrowParameterPlaceHolder",params:[hi],async:!0}}if(oi.type==="ArrowParameterPlaceHolder"||this.match("=>")){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var di=oi.async,fi=this.reinterpretAsCoverFormalsList(oi);if(fi){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var mi=this.context.strict,pi=this.context.allowStrictDirective;this.context.allowStrictDirective=fi.simple;var wi=this.context.allowYield,gi=this.context.await;this.context.allowYield=!0,this.context.await=di;var yi=this.startNode(ni);this.expect("=>");var Ai=void 0;if(this.match("{")){var Si=this.context.allowIn;this.context.allowIn=!0,Ai=this.parseFunctionSourceElements(),this.context.allowIn=Si}else Ai=this.isolateCoverGrammar(this.parseAssignmentExpression);var ki=Ai.type!==ri.Syntax.BlockStatement;this.context.strict&&fi.firstRestricted&&this.throwUnexpectedToken(fi.firstRestricted,fi.message),this.context.strict&&fi.stricted&&this.tolerateUnexpectedToken(fi.stricted,fi.message),oi=di?this.finalize(yi,new ti.AsyncArrowFunctionExpression(fi.params,Ai,ki)):this.finalize(yi,new ti.ArrowFunctionExpression(fi.params,Ai,ki)),this.context.strict=mi,this.context.allowStrictDirective=pi,this.context.allowYield=wi,this.context.await=gi}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(ei.Messages.InvalidLHSInAssignment),this.context.strict&&oi.type===ri.Syntax.Identifier){var Li=oi;this.scanner.isRestrictedWord(Li.name)&&this.tolerateUnexpectedToken(ci,ei.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(Li.name)&&this.tolerateUnexpectedToken(ci,ei.Messages.StrictReservedWord)}this.match("=")?this.reinterpretExpressionAsPattern(oi):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1);var Bi=(ci=this.nextToken()).value,Pi=this.isolateCoverGrammar(this.parseAssignmentExpression);oi=this.finalize(this.startNode(ni),new ti.AssignmentExpression(Bi,oi,Pi)),this.context.firstCoverInitializedNameError=null}}return oi},ai.prototype.parseExpression=function(){var oi=this.lookahead,ni=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var ci=[];for(ci.push(ni);this.lookahead.type!==2&&this.match(",");)this.nextToken(),ci.push(this.isolateCoverGrammar(this.parseAssignmentExpression));ni=this.finalize(this.startNode(oi),new ti.SequenceExpression(ci))}return ni},ai.prototype.parseStatementListItem=function(){var oi;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,this.lookahead.type===4)switch(this.lookahead.value){case"export":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,ei.Messages.IllegalExportDeclaration),oi=this.parseExportDeclaration();break;case"import":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,ei.Messages.IllegalImportDeclaration),oi=this.parseImportDeclaration();break;case"const":oi=this.parseLexicalDeclaration({inFor:!1});break;case"function":oi=this.parseFunctionDeclaration();break;case"class":oi=this.parseClassDeclaration();break;case"let":oi=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:oi=this.parseStatement()}else oi=this.parseStatement();return oi},ai.prototype.parseBlock=function(){var oi=this.createNode();this.expect("{");for(var ni=[];!this.match("}");)ni.push(this.parseStatementListItem());return this.expect("}"),this.finalize(oi,new ti.BlockStatement(ni))},ai.prototype.parseLexicalBinding=function(oi,ni){var ci=this.createNode(),hi=this.parsePattern([],oi);this.context.strict&&hi.type===ri.Syntax.Identifier&&this.scanner.isRestrictedWord(hi.name)&&this.tolerateError(ei.Messages.StrictVarName);var di=null;return oi==="const"?this.matchKeyword("in")||this.matchContextualKeyword("of")||(this.match("=")?(this.nextToken(),di=this.isolateCoverGrammar(this.parseAssignmentExpression)):this.throwError(ei.Messages.DeclarationMissingInitializer,"const")):(!ni.inFor&&hi.type!==ri.Syntax.Identifier||this.match("="))&&(this.expect("="),di=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(ci,new ti.VariableDeclarator(hi,di))},ai.prototype.parseBindingList=function(oi,ni){for(var ci=[this.parseLexicalBinding(oi,ni)];this.match(",");)this.nextToken(),ci.push(this.parseLexicalBinding(oi,ni));return ci},ai.prototype.isLexicalDeclaration=function(){var oi=this.scanner.saveState();this.scanner.scanComments();var ni=this.scanner.lex();return this.scanner.restoreState(oi),ni.type===3||ni.type===7&&ni.value==="["||ni.type===7&&ni.value==="{"||ni.type===4&&ni.value==="let"||ni.type===4&&ni.value==="yield"},ai.prototype.parseLexicalDeclaration=function(oi){var ni=this.createNode(),ci=this.nextToken().value;Je.assert(ci==="let"||ci==="const","Lexical declaration must be either let or const");var hi=this.parseBindingList(ci,oi);return this.consumeSemicolon(),this.finalize(ni,new ti.VariableDeclaration(hi,ci))},ai.prototype.parseBindingRestElement=function(oi,ni){var ci=this.createNode();this.expect("...");var hi=this.parsePattern(oi,ni);return this.finalize(ci,new ti.RestElement(hi))},ai.prototype.parseArrayPattern=function(oi,ni){var ci=this.createNode();this.expect("[");for(var hi=[];!this.match("]");)if(this.match(","))this.nextToken(),hi.push(null);else{if(this.match("...")){hi.push(this.parseBindingRestElement(oi,ni));break}hi.push(this.parsePatternWithDefault(oi,ni)),this.match("]")||this.expect(",")}return this.expect("]"),this.finalize(ci,new ti.ArrayPattern(hi))},ai.prototype.parsePropertyPattern=function(oi,ni){var ci,hi,di=this.createNode(),fi=!1,mi=!1;if(this.lookahead.type===3){var pi=this.lookahead;ci=this.parseVariableIdentifier();var wi=this.finalize(di,new ti.Identifier(pi.value));if(this.match("=")){oi.push(pi),mi=!0,this.nextToken();var gi=this.parseAssignmentExpression();hi=this.finalize(this.startNode(pi),new ti.AssignmentPattern(wi,gi))}else this.match(":")?(this.expect(":"),hi=this.parsePatternWithDefault(oi,ni)):(oi.push(pi),mi=!0,hi=wi)}else fi=this.match("["),ci=this.parseObjectPropertyKey(),this.expect(":"),hi=this.parsePatternWithDefault(oi,ni);return this.finalize(di,new ti.Property("init",ci,fi,hi,!1,mi))},ai.prototype.parseObjectPattern=function(oi,ni){var ci=this.createNode(),hi=[];for(this.expect("{");!this.match("}");)hi.push(this.parsePropertyPattern(oi,ni)),this.match("}")||this.expect(",");return this.expect("}"),this.finalize(ci,new ti.ObjectPattern(hi))},ai.prototype.parsePattern=function(oi,ni){var ci;return this.match("[")?ci=this.parseArrayPattern(oi,ni):this.match("{")?ci=this.parseObjectPattern(oi,ni):(!this.matchKeyword("let")||ni!=="const"&&ni!=="let"||this.tolerateUnexpectedToken(this.lookahead,ei.Messages.LetInLexicalBinding),oi.push(this.lookahead),ci=this.parseVariableIdentifier(ni)),ci},ai.prototype.parsePatternWithDefault=function(oi,ni){var ci=this.lookahead,hi=this.parsePattern(oi,ni);if(this.match("=")){this.nextToken();var di=this.context.allowYield;this.context.allowYield=!0;var fi=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=di,hi=this.finalize(this.startNode(ci),new ti.AssignmentPattern(hi,fi))}return hi},ai.prototype.parseVariableIdentifier=function(oi){var ni=this.createNode(),ci=this.nextToken();return ci.type===4&&ci.value==="yield"?this.context.strict?this.tolerateUnexpectedToken(ci,ei.Messages.StrictReservedWord):this.context.allowYield||this.throwUnexpectedToken(ci):ci.type!==3?this.context.strict&&ci.type===4&&this.scanner.isStrictModeReservedWord(ci.value)?this.tolerateUnexpectedToken(ci,ei.Messages.StrictReservedWord):(this.context.strict||ci.value!=="let"||oi!=="var")&&this.throwUnexpectedToken(ci):(this.context.isModule||this.context.await)&&ci.type===3&&ci.value==="await"&&this.tolerateUnexpectedToken(ci),this.finalize(ni,new ti.Identifier(ci.value))},ai.prototype.parseVariableDeclaration=function(oi){var ni=this.createNode(),ci=this.parsePattern([],"var");this.context.strict&&ci.type===ri.Syntax.Identifier&&this.scanner.isRestrictedWord(ci.name)&&this.tolerateError(ei.Messages.StrictVarName);var hi=null;return this.match("=")?(this.nextToken(),hi=this.isolateCoverGrammar(this.parseAssignmentExpression)):ci.type===ri.Syntax.Identifier||oi.inFor||this.expect("="),this.finalize(ni,new ti.VariableDeclarator(ci,hi))},ai.prototype.parseVariableDeclarationList=function(oi){var ni={inFor:oi.inFor},ci=[];for(ci.push(this.parseVariableDeclaration(ni));this.match(",");)this.nextToken(),ci.push(this.parseVariableDeclaration(ni));return ci},ai.prototype.parseVariableStatement=function(){var oi=this.createNode();this.expectKeyword("var");var ni=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(oi,new ti.VariableDeclaration(ni,"var"))},ai.prototype.parseEmptyStatement=function(){var oi=this.createNode();return this.expect(";"),this.finalize(oi,new ti.EmptyStatement)},ai.prototype.parseExpressionStatement=function(){var oi=this.createNode(),ni=this.parseExpression();return this.consumeSemicolon(),this.finalize(oi,new ti.ExpressionStatement(ni))},ai.prototype.parseIfClause=function(){return this.context.strict&&this.matchKeyword("function")&&this.tolerateError(ei.Messages.StrictFunction),this.parseStatement()},ai.prototype.parseIfStatement=function(){var oi,ni=this.createNode(),ci=null;this.expectKeyword("if"),this.expect("(");var hi=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),oi=this.finalize(this.createNode(),new ti.EmptyStatement)):(this.expect(")"),oi=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),ci=this.parseIfClause())),this.finalize(ni,new ti.IfStatement(hi,oi,ci))},ai.prototype.parseDoWhileStatement=function(){var oi=this.createNode();this.expectKeyword("do");var ni=this.context.inIteration;this.context.inIteration=!0;var ci=this.parseStatement();this.context.inIteration=ni,this.expectKeyword("while"),this.expect("(");var hi=this.parseExpression();return!this.match(")")&&this.config.tolerant?this.tolerateUnexpectedToken(this.nextToken()):(this.expect(")"),this.match(";")&&this.nextToken()),this.finalize(oi,new ti.DoWhileStatement(ci,hi))},ai.prototype.parseWhileStatement=function(){var oi,ni=this.createNode();this.expectKeyword("while"),this.expect("(");var ci=this.parseExpression();if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),oi=this.finalize(this.createNode(),new ti.EmptyStatement);else{this.expect(")");var hi=this.context.inIteration;this.context.inIteration=!0,oi=this.parseStatement(),this.context.inIteration=hi}return this.finalize(ni,new ti.WhileStatement(ci,oi))},ai.prototype.parseForStatement=function(){var oi,ni,ci,hi=null,di=null,fi=null,mi=!0,pi=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){hi=this.createNode(),this.nextToken();var wi=this.context.allowIn;this.context.allowIn=!1;var gi=this.parseVariableDeclarationList({inFor:!0});if(this.context.allowIn=wi,gi.length===1&&this.matchKeyword("in")){var yi=gi[0];yi.init&&(yi.id.type===ri.Syntax.ArrayPattern||yi.id.type===ri.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(ei.Messages.ForInOfLoopInitializer,"for-in"),hi=this.finalize(hi,new ti.VariableDeclaration(gi,"var")),this.nextToken(),oi=hi,ni=this.parseExpression(),hi=null}else gi.length===1&&gi[0].init===null&&this.matchContextualKeyword("of")?(hi=this.finalize(hi,new ti.VariableDeclaration(gi,"var")),this.nextToken(),oi=hi,ni=this.parseAssignmentExpression(),hi=null,mi=!1):(hi=this.finalize(hi,new ti.VariableDeclaration(gi,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){hi=this.createNode();var Ai=this.nextToken().value;this.context.strict||this.lookahead.value!=="in"?(wi=this.context.allowIn,this.context.allowIn=!1,gi=this.parseBindingList(Ai,{inFor:!0}),this.context.allowIn=wi,gi.length===1&&gi[0].init===null&&this.matchKeyword("in")?(hi=this.finalize(hi,new ti.VariableDeclaration(gi,Ai)),this.nextToken(),oi=hi,ni=this.parseExpression(),hi=null):gi.length===1&&gi[0].init===null&&this.matchContextualKeyword("of")?(hi=this.finalize(hi,new ti.VariableDeclaration(gi,Ai)),this.nextToken(),oi=hi,ni=this.parseAssignmentExpression(),hi=null,mi=!1):(this.consumeSemicolon(),hi=this.finalize(hi,new ti.VariableDeclaration(gi,Ai)))):(hi=this.finalize(hi,new ti.Identifier(Ai)),this.nextToken(),oi=hi,ni=this.parseExpression(),hi=null)}else{var Si=this.lookahead;if(wi=this.context.allowIn,this.context.allowIn=!1,hi=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=wi,this.matchKeyword("in"))this.context.isAssignmentTarget&&hi.type!==ri.Syntax.AssignmentExpression||this.tolerateError(ei.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(hi),oi=hi,ni=this.parseExpression(),hi=null;else if(this.matchContextualKeyword("of"))this.context.isAssignmentTarget&&hi.type!==ri.Syntax.AssignmentExpression||this.tolerateError(ei.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(hi),oi=hi,ni=this.parseAssignmentExpression(),hi=null,mi=!1;else{if(this.match(",")){for(var ki=[hi];this.match(",");)this.nextToken(),ki.push(this.isolateCoverGrammar(this.parseAssignmentExpression));hi=this.finalize(this.startNode(Si),new ti.SequenceExpression(ki))}this.expect(";")}}if(oi===void 0&&(this.match(";")||(di=this.parseExpression()),this.expect(";"),this.match(")")||(fi=this.parseExpression())),!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),ci=this.finalize(this.createNode(),new ti.EmptyStatement);else{this.expect(")");var Li=this.context.inIteration;this.context.inIteration=!0,ci=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=Li}return oi===void 0?this.finalize(pi,new ti.ForStatement(hi,di,fi,ci)):mi?this.finalize(pi,new ti.ForInStatement(oi,ni,ci)):this.finalize(pi,new ti.ForOfStatement(oi,ni,ci))},ai.prototype.parseContinueStatement=function(){var oi=this.createNode();this.expectKeyword("continue");var ni=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var ci=this.parseVariableIdentifier();ni=ci;var hi="$"+ci.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,hi)||this.throwError(ei.Messages.UnknownLabel,ci.name)}return this.consumeSemicolon(),ni!==null||this.context.inIteration||this.throwError(ei.Messages.IllegalContinue),this.finalize(oi,new ti.ContinueStatement(ni))},ai.prototype.parseBreakStatement=function(){var oi=this.createNode();this.expectKeyword("break");var ni=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var ci=this.parseVariableIdentifier(),hi="$"+ci.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,hi)||this.throwError(ei.Messages.UnknownLabel,ci.name),ni=ci}return this.consumeSemicolon(),ni!==null||this.context.inIteration||this.context.inSwitch||this.throwError(ei.Messages.IllegalBreak),this.finalize(oi,new ti.BreakStatement(ni))},ai.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(ei.Messages.IllegalReturn);var oi=this.createNode();this.expectKeyword("return");var ni=(this.match(";")||this.match("}")||this.hasLineTerminator||this.lookahead.type===2)&&this.lookahead.type!==8&&this.lookahead.type!==10?null:this.parseExpression();return this.consumeSemicolon(),this.finalize(oi,new ti.ReturnStatement(ni))},ai.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(ei.Messages.StrictModeWith);var oi,ni=this.createNode();this.expectKeyword("with"),this.expect("(");var ci=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),oi=this.finalize(this.createNode(),new ti.EmptyStatement)):(this.expect(")"),oi=this.parseStatement()),this.finalize(ni,new ti.WithStatement(ci,oi))},ai.prototype.parseSwitchCase=function(){var oi,ni=this.createNode();this.matchKeyword("default")?(this.nextToken(),oi=null):(this.expectKeyword("case"),oi=this.parseExpression()),this.expect(":");for(var ci=[];!(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"));)ci.push(this.parseStatementListItem());return this.finalize(ni,new ti.SwitchCase(oi,ci))},ai.prototype.parseSwitchStatement=function(){var oi=this.createNode();this.expectKeyword("switch"),this.expect("(");var ni=this.parseExpression();this.expect(")");var ci=this.context.inSwitch;this.context.inSwitch=!0;var hi=[],di=!1;for(this.expect("{");!this.match("}");){var fi=this.parseSwitchCase();fi.test===null&&(di&&this.throwError(ei.Messages.MultipleDefaultsInSwitch),di=!0),hi.push(fi)}return this.expect("}"),this.context.inSwitch=ci,this.finalize(oi,new ti.SwitchStatement(ni,hi))},ai.prototype.parseLabelledStatement=function(){var oi,ni=this.createNode(),ci=this.parseExpression();if(ci.type===ri.Syntax.Identifier&&this.match(":")){this.nextToken();var hi=ci,di="$"+hi.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,di)&&this.throwError(ei.Messages.Redeclaration,"Label",hi.name),this.context.labelSet[di]=!0;var fi=void 0;if(this.matchKeyword("class"))this.tolerateUnexpectedToken(this.lookahead),fi=this.parseClassDeclaration();else if(this.matchKeyword("function")){var mi=this.lookahead,pi=this.parseFunctionDeclaration();this.context.strict?this.tolerateUnexpectedToken(mi,ei.Messages.StrictFunction):pi.generator&&this.tolerateUnexpectedToken(mi,ei.Messages.GeneratorInLegacyContext),fi=pi}else fi=this.parseStatement();delete this.context.labelSet[di],oi=new ti.LabeledStatement(hi,fi)}else this.consumeSemicolon(),oi=new ti.ExpressionStatement(ci);return this.finalize(ni,oi)},ai.prototype.parseThrowStatement=function(){var oi=this.createNode();this.expectKeyword("throw"),this.hasLineTerminator&&this.throwError(ei.Messages.NewlineAfterThrow);var ni=this.parseExpression();return this.consumeSemicolon(),this.finalize(oi,new ti.ThrowStatement(ni))},ai.prototype.parseCatchClause=function(){var oi=this.createNode();this.expectKeyword("catch"),this.expect("("),this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var ni=[],ci=this.parsePattern(ni),hi={},di=0;di<ni.length;di++){var fi="$"+ni[di].value;Object.prototype.hasOwnProperty.call(hi,fi)&&this.tolerateError(ei.Messages.DuplicateBinding,ni[di].value),hi[fi]=!0}this.context.strict&&ci.type===ri.Syntax.Identifier&&this.scanner.isRestrictedWord(ci.name)&&this.tolerateError(ei.Messages.StrictCatchVariable),this.expect(")");var mi=this.parseBlock();return this.finalize(oi,new ti.CatchClause(ci,mi))},ai.prototype.parseFinallyClause=function(){return this.expectKeyword("finally"),this.parseBlock()},ai.prototype.parseTryStatement=function(){var oi=this.createNode();this.expectKeyword("try");var ni=this.parseBlock(),ci=this.matchKeyword("catch")?this.parseCatchClause():null,hi=this.matchKeyword("finally")?this.parseFinallyClause():null;return ci||hi||this.throwError(ei.Messages.NoCatchOrFinally),this.finalize(oi,new ti.TryStatement(ni,ci,hi))},ai.prototype.parseDebuggerStatement=function(){var oi=this.createNode();return this.expectKeyword("debugger"),this.consumeSemicolon(),this.finalize(oi,new ti.DebuggerStatement)},ai.prototype.parseStatement=function(){var oi;switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:oi=this.parseExpressionStatement();break;case 7:var ni=this.lookahead.value;oi=ni==="{"?this.parseBlock():ni==="("?this.parseExpressionStatement():ni===";"?this.parseEmptyStatement():this.parseExpressionStatement();break;case 3:oi=this.matchAsyncFunction()?this.parseFunctionDeclaration():this.parseLabelledStatement();break;case 4:switch(this.lookahead.value){case"break":oi=this.parseBreakStatement();break;case"continue":oi=this.parseContinueStatement();break;case"debugger":oi=this.parseDebuggerStatement();break;case"do":oi=this.parseDoWhileStatement();break;case"for":oi=this.parseForStatement();break;case"function":oi=this.parseFunctionDeclaration();break;case"if":oi=this.parseIfStatement();break;case"return":oi=this.parseReturnStatement();break;case"switch":oi=this.parseSwitchStatement();break;case"throw":oi=this.parseThrowStatement();break;case"try":oi=this.parseTryStatement();break;case"var":oi=this.parseVariableStatement();break;case"while":oi=this.parseWhileStatement();break;case"with":oi=this.parseWithStatement();break;default:oi=this.parseExpressionStatement()}break;default:oi=this.throwUnexpectedToken(this.lookahead)}return oi},ai.prototype.parseFunctionSourceElements=function(){var oi=this.createNode();this.expect("{");var ni=this.parseDirectivePrologues(),ci=this.context.labelSet,hi=this.context.inIteration,di=this.context.inSwitch,fi=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;this.lookahead.type!==2&&!this.match("}");)ni.push(this.parseStatementListItem());return this.expect("}"),this.context.labelSet=ci,this.context.inIteration=hi,this.context.inSwitch=di,this.context.inFunctionBody=fi,this.finalize(oi,new ti.BlockStatement(ni))},ai.prototype.validateParam=function(oi,ni,ci){var hi="$"+ci;this.context.strict?(this.scanner.isRestrictedWord(ci)&&(oi.stricted=ni,oi.message=ei.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(oi.paramSet,hi)&&(oi.stricted=ni,oi.message=ei.Messages.StrictParamDupe)):oi.firstRestricted||(this.scanner.isRestrictedWord(ci)?(oi.firstRestricted=ni,oi.message=ei.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(ci)?(oi.firstRestricted=ni,oi.message=ei.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(oi.paramSet,hi)&&(oi.stricted=ni,oi.message=ei.Messages.StrictParamDupe)),typeof Object.defineProperty=="function"?Object.defineProperty(oi.paramSet,hi,{value:!0,enumerable:!0,writable:!0,configurable:!0}):oi.paramSet[hi]=!0},ai.prototype.parseRestElement=function(oi){var ni=this.createNode();this.expect("...");var ci=this.parsePattern(oi);return this.match("=")&&this.throwError(ei.Messages.DefaultRestParameter),this.match(")")||this.throwError(ei.Messages.ParameterAfterRestParameter),this.finalize(ni,new ti.RestElement(ci))},ai.prototype.parseFormalParameter=function(oi){for(var ni=[],ci=this.match("...")?this.parseRestElement(ni):this.parsePatternWithDefault(ni),hi=0;hi<ni.length;hi++)this.validateParam(oi,ni[hi],ni[hi].value);oi.simple=oi.simple&&ci instanceof ti.Identifier,oi.params.push(ci)},ai.prototype.parseFormalParameters=function(oi){var ni;if(ni={simple:!0,params:[],firstRestricted:oi},this.expect("("),!this.match(")"))for(ni.paramSet={};this.lookahead.type!==2&&(this.parseFormalParameter(ni),!this.match(")"))&&(this.expect(","),!this.match(")")););return this.expect(")"),{simple:ni.simple,params:ni.params,stricted:ni.stricted,firstRestricted:ni.firstRestricted,message:ni.message}},ai.prototype.matchAsyncFunction=function(){var oi=this.matchContextualKeyword("async");if(oi){var ni=this.scanner.saveState();this.scanner.scanComments();var ci=this.scanner.lex();this.scanner.restoreState(ni),oi=ni.lineNumber===ci.lineNumber&&ci.type===4&&ci.value==="function"}return oi},ai.prototype.parseFunctionDeclaration=function(oi){var ni=this.createNode(),ci=this.matchContextualKeyword("async");ci&&this.nextToken(),this.expectKeyword("function");var hi,di=!ci&&this.match("*");di&&this.nextToken();var fi=null,mi=null;if(!oi||!this.match("(")){var pi=this.lookahead;fi=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(pi.value)&&this.tolerateUnexpectedToken(pi,ei.Messages.StrictFunctionName):this.scanner.isRestrictedWord(pi.value)?(mi=pi,hi=ei.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(pi.value)&&(mi=pi,hi=ei.Messages.StrictReservedWord)}var wi=this.context.await,gi=this.context.allowYield;this.context.await=ci,this.context.allowYield=!di;var yi=this.parseFormalParameters(mi),Ai=yi.params,Si=yi.stricted;mi=yi.firstRestricted,yi.message&&(hi=yi.message);var ki=this.context.strict,Li=this.context.allowStrictDirective;this.context.allowStrictDirective=yi.simple;var Bi=this.parseFunctionSourceElements();return this.context.strict&&mi&&this.throwUnexpectedToken(mi,hi),this.context.strict&&Si&&this.tolerateUnexpectedToken(Si,hi),this.context.strict=ki,this.context.allowStrictDirective=Li,this.context.await=wi,this.context.allowYield=gi,ci?this.finalize(ni,new ti.AsyncFunctionDeclaration(fi,Ai,Bi)):this.finalize(ni,new ti.FunctionDeclaration(fi,Ai,Bi,di))},ai.prototype.parseFunctionExpression=function(){var oi=this.createNode(),ni=this.matchContextualKeyword("async");ni&&this.nextToken(),this.expectKeyword("function");var ci,hi=!ni&&this.match("*");hi&&this.nextToken();var di,fi=null,mi=this.context.await,pi=this.context.allowYield;if(this.context.await=ni,this.context.allowYield=!hi,!this.match("(")){var wi=this.lookahead;fi=this.context.strict||hi||!this.matchKeyword("yield")?this.parseVariableIdentifier():this.parseIdentifierName(),this.context.strict?this.scanner.isRestrictedWord(wi.value)&&this.tolerateUnexpectedToken(wi,ei.Messages.StrictFunctionName):this.scanner.isRestrictedWord(wi.value)?(di=wi,ci=ei.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(wi.value)&&(di=wi,ci=ei.Messages.StrictReservedWord)}var gi=this.parseFormalParameters(di),yi=gi.params,Ai=gi.stricted;di=gi.firstRestricted,gi.message&&(ci=gi.message);var Si=this.context.strict,ki=this.context.allowStrictDirective;this.context.allowStrictDirective=gi.simple;var Li=this.parseFunctionSourceElements();return this.context.strict&&di&&this.throwUnexpectedToken(di,ci),this.context.strict&&Ai&&this.tolerateUnexpectedToken(Ai,ci),this.context.strict=Si,this.context.allowStrictDirective=ki,this.context.await=mi,this.context.allowYield=pi,ni?this.finalize(oi,new ti.AsyncFunctionExpression(fi,yi,Li)):this.finalize(oi,new ti.FunctionExpression(fi,yi,Li,hi))},ai.prototype.parseDirective=function(){var oi=this.lookahead,ni=this.createNode(),ci=this.parseExpression(),hi=ci.type===ri.Syntax.Literal?this.getTokenRaw(oi).slice(1,-1):null;return this.consumeSemicolon(),this.finalize(ni,hi?new ti.Directive(ci,hi):new ti.ExpressionStatement(ci))},ai.prototype.parseDirectivePrologues=function(){for(var oi=null,ni=[];;){var ci=this.lookahead;if(ci.type!==8)break;var hi=this.parseDirective();ni.push(hi);var di=hi.directive;if(typeof di!="string")break;di==="use strict"?(this.context.strict=!0,oi&&this.tolerateUnexpectedToken(oi,ei.Messages.StrictOctalLiteral),this.context.allowStrictDirective||this.tolerateUnexpectedToken(ci,ei.Messages.IllegalLanguageModeDirective)):!oi&&ci.octal&&(oi=ci)}return ni},ai.prototype.qualifiedPropertyName=function(oi){switch(oi.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return oi.value==="["}return!1},ai.prototype.parseGetterMethod=function(){var oi=this.createNode(),ni=this.context.allowYield;this.context.allowYield=!0;var ci=this.parseFormalParameters();ci.params.length>0&&this.tolerateError(ei.Messages.BadGetterArity);var hi=this.parsePropertyMethod(ci);return this.context.allowYield=ni,this.finalize(oi,new ti.FunctionExpression(null,ci.params,hi,!1))},ai.prototype.parseSetterMethod=function(){var oi=this.createNode(),ni=this.context.allowYield;this.context.allowYield=!0;var ci=this.parseFormalParameters();ci.params.length!==1?this.tolerateError(ei.Messages.BadSetterArity):ci.params[0]instanceof ti.RestElement&&this.tolerateError(ei.Messages.BadSetterRestParameter);var hi=this.parsePropertyMethod(ci);return this.context.allowYield=ni,this.finalize(oi,new ti.FunctionExpression(null,ci.params,hi,!1))},ai.prototype.parseGeneratorMethod=function(){var oi=this.createNode(),ni=this.context.allowYield;this.context.allowYield=!0;var ci=this.parseFormalParameters();this.context.allowYield=!1;var hi=this.parsePropertyMethod(ci);return this.context.allowYield=ni,this.finalize(oi,new ti.FunctionExpression(null,ci.params,hi,!0))},ai.prototype.isStartOfExpression=function(){var oi=!0,ni=this.lookahead.value;switch(this.lookahead.type){case 7:oi=ni==="["||ni==="("||ni==="{"||ni==="+"||ni==="-"||ni==="!"||ni==="~"||ni==="++"||ni==="--"||ni==="/"||ni==="/=";break;case 4:oi=ni==="class"||ni==="delete"||ni==="function"||ni==="let"||ni==="new"||ni==="super"||ni==="this"||ni==="typeof"||ni==="void"||ni==="yield"}return oi},ai.prototype.parseYieldExpression=function(){var oi=this.createNode();this.expectKeyword("yield");var ni=null,ci=!1;if(!this.hasLineTerminator){var hi=this.context.allowYield;this.context.allowYield=!1,(ci=this.match("*"))?(this.nextToken(),ni=this.parseAssignmentExpression()):this.isStartOfExpression()&&(ni=this.parseAssignmentExpression()),this.context.allowYield=hi}return this.finalize(oi,new ti.YieldExpression(ni,ci))},ai.prototype.parseClassElement=function(oi){var ni=this.lookahead,ci=this.createNode(),hi="",di=null,fi=null,mi=!1,pi=!1,wi=!1,gi=!1;if(this.match("*"))this.nextToken();else if(mi=this.match("["),(di=this.parseObjectPropertyKey()).name==="static"&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(ni=this.lookahead,wi=!0,mi=this.match("["),this.match("*")?this.nextToken():di=this.parseObjectPropertyKey()),ni.type===3&&!this.hasLineTerminator&&ni.value==="async"){var yi=this.lookahead.value;yi!==":"&&yi!=="("&&yi!=="*"&&(gi=!0,ni=this.lookahead,di=this.parseObjectPropertyKey(),ni.type===3&&ni.value==="constructor"&&this.tolerateUnexpectedToken(ni,ei.Messages.ConstructorIsAsync))}var Ai=this.qualifiedPropertyName(this.lookahead);return ni.type===3?ni.value==="get"&&Ai?(hi="get",mi=this.match("["),di=this.parseObjectPropertyKey(),this.context.allowYield=!1,fi=this.parseGetterMethod()):ni.value==="set"&&Ai&&(hi="set",mi=this.match("["),di=this.parseObjectPropertyKey(),fi=this.parseSetterMethod()):ni.type===7&&ni.value==="*"&&Ai&&(hi="init",mi=this.match("["),di=this.parseObjectPropertyKey(),fi=this.parseGeneratorMethod(),pi=!0),!hi&&di&&this.match("(")&&(hi="init",fi=gi?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),pi=!0),hi||this.throwUnexpectedToken(this.lookahead),hi==="init"&&(hi="method"),mi||(wi&&this.isPropertyKey(di,"prototype")&&this.throwUnexpectedToken(ni,ei.Messages.StaticPrototype),!wi&&this.isPropertyKey(di,"constructor")&&((hi!=="method"||!pi||fi&&fi.generator)&&this.throwUnexpectedToken(ni,ei.Messages.ConstructorSpecialMethod),oi.value?this.throwUnexpectedToken(ni,ei.Messages.DuplicateConstructor):oi.value=!0,hi="constructor")),this.finalize(ci,new ti.MethodDefinition(di,mi,fi,hi,wi))},ai.prototype.parseClassElementList=function(){var oi=[],ni={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():oi.push(this.parseClassElement(ni));return this.expect("}"),oi},ai.prototype.parseClassBody=function(){var oi=this.createNode(),ni=this.parseClassElementList();return this.finalize(oi,new ti.ClassBody(ni))},ai.prototype.parseClassDeclaration=function(oi){var ni=this.createNode(),ci=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var hi=oi&&this.lookahead.type!==3?null:this.parseVariableIdentifier(),di=null;this.matchKeyword("extends")&&(this.nextToken(),di=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var fi=this.parseClassBody();return this.context.strict=ci,this.finalize(ni,new ti.ClassDeclaration(hi,di,fi))},ai.prototype.parseClassExpression=function(){var oi=this.createNode(),ni=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var ci=this.lookahead.type===3?this.parseVariableIdentifier():null,hi=null;this.matchKeyword("extends")&&(this.nextToken(),hi=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var di=this.parseClassBody();return this.context.strict=ni,this.finalize(oi,new ti.ClassExpression(ci,hi,di))},ai.prototype.parseModule=function(){this.context.strict=!0,this.context.isModule=!0,this.scanner.isModule=!0;for(var oi=this.createNode(),ni=this.parseDirectivePrologues();this.lookahead.type!==2;)ni.push(this.parseStatementListItem());return this.finalize(oi,new ti.Module(ni))},ai.prototype.parseScript=function(){for(var oi=this.createNode(),ni=this.parseDirectivePrologues();this.lookahead.type!==2;)ni.push(this.parseStatementListItem());return this.finalize(oi,new ti.Script(ni))},ai.prototype.parseModuleSpecifier=function(){var oi=this.createNode();this.lookahead.type!==8&&this.throwError(ei.Messages.InvalidModuleSpecifier);var ni=this.nextToken(),ci=this.getTokenRaw(ni);return this.finalize(oi,new ti.Literal(ni.value,ci))},ai.prototype.parseImportSpecifier=function(){var oi,ni,ci=this.createNode();return this.lookahead.type===3?(ni=oi=this.parseVariableIdentifier(),this.matchContextualKeyword("as")&&(this.nextToken(),ni=this.parseVariableIdentifier())):(ni=oi=this.parseIdentifierName(),this.matchContextualKeyword("as")?(this.nextToken(),ni=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(ci,new ti.ImportSpecifier(ni,oi))},ai.prototype.parseNamedImports=function(){this.expect("{");for(var oi=[];!this.match("}");)oi.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");return this.expect("}"),oi},ai.prototype.parseImportDefaultSpecifier=function(){var oi=this.createNode(),ni=this.parseIdentifierName();return this.finalize(oi,new ti.ImportDefaultSpecifier(ni))},ai.prototype.parseImportNamespaceSpecifier=function(){var oi=this.createNode();this.expect("*"),this.matchContextualKeyword("as")||this.throwError(ei.Messages.NoAsAfterImportNamespace),this.nextToken();var ni=this.parseIdentifierName();return this.finalize(oi,new ti.ImportNamespaceSpecifier(ni))},ai.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(ei.Messages.IllegalImportDeclaration);var oi,ni=this.createNode();this.expectKeyword("import");var ci=[];if(this.lookahead.type===8)oi=this.parseModuleSpecifier();else{if(this.match("{")?ci=ci.concat(this.parseNamedImports()):this.match("*")?ci.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(ci.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?ci.push(this.parseImportNamespaceSpecifier()):this.match("{")?ci=ci.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),!this.matchContextualKeyword("from")){var hi=this.lookahead.value?ei.Messages.UnexpectedToken:ei.Messages.MissingFromClause;this.throwError(hi,this.lookahead.value)}this.nextToken(),oi=this.parseModuleSpecifier()}return this.consumeSemicolon(),this.finalize(ni,new ti.ImportDeclaration(ci,oi))},ai.prototype.parseExportSpecifier=function(){var oi=this.createNode(),ni=this.parseIdentifierName(),ci=ni;return this.matchContextualKeyword("as")&&(this.nextToken(),ci=this.parseIdentifierName()),this.finalize(oi,new ti.ExportSpecifier(ni,ci))},ai.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(ei.Messages.IllegalExportDeclaration);var oi,ni=this.createNode();if(this.expectKeyword("export"),this.matchKeyword("default"))if(this.nextToken(),this.matchKeyword("function")){var ci=this.parseFunctionDeclaration(!0);oi=this.finalize(ni,new ti.ExportDefaultDeclaration(ci))}else this.matchKeyword("class")?(ci=this.parseClassDeclaration(!0),oi=this.finalize(ni,new ti.ExportDefaultDeclaration(ci))):this.matchContextualKeyword("async")?(ci=this.matchAsyncFunction()?this.parseFunctionDeclaration(!0):this.parseAssignmentExpression(),oi=this.finalize(ni,new ti.ExportDefaultDeclaration(ci))):(this.matchContextualKeyword("from")&&this.throwError(ei.Messages.UnexpectedToken,this.lookahead.value),ci=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression(),this.consumeSemicolon(),oi=this.finalize(ni,new ti.ExportDefaultDeclaration(ci)));else if(this.match("*")){if(this.nextToken(),!this.matchContextualKeyword("from")){var hi=this.lookahead.value?ei.Messages.UnexpectedToken:ei.Messages.MissingFromClause;this.throwError(hi,this.lookahead.value)}this.nextToken();var di=this.parseModuleSpecifier();this.consumeSemicolon(),oi=this.finalize(ni,new ti.ExportAllDeclaration(di))}else if(this.lookahead.type===4){switch(ci=void 0,this.lookahead.value){case"let":case"const":ci=this.parseLexicalDeclaration({inFor:!1});break;case"var":case"class":case"function":ci=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}oi=this.finalize(ni,new ti.ExportNamedDeclaration(ci,[],null))}else if(this.matchAsyncFunction())ci=this.parseFunctionDeclaration(),oi=this.finalize(ni,new ti.ExportNamedDeclaration(ci,[],null));else{var fi=[],mi=null,pi=!1;for(this.expect("{");!this.match("}");)pi=pi||this.matchKeyword("default"),fi.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");this.expect("}"),this.matchContextualKeyword("from")?(this.nextToken(),mi=this.parseModuleSpecifier(),this.consumeSemicolon()):pi?(hi=this.lookahead.value?ei.Messages.UnexpectedToken:ei.Messages.MissingFromClause,this.throwError(hi,this.lookahead.value)):this.consumeSemicolon(),oi=this.finalize(ni,new ti.ExportNamedDeclaration(null,fi,mi))}return oi},ai}();Ze.Parser=ui},function(Ke,Ze){Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.assert=function(Qe,Je){if(!Qe)throw new Error("ASSERT: "+Je)}},function(Ke,Ze){Object.defineProperty(Ze,"__esModule",{value:!0});var Qe=function(){function Je(){this.errors=[],this.tolerant=!1}return Je.prototype.recordError=function(St){this.errors.push(St)},Je.prototype.tolerate=function(St){if(!this.tolerant)throw St;this.recordError(St)},Je.prototype.constructError=function(St,ei){var ti=new Error(St);try{throw ti}catch(ii){Object.create&&Object.defineProperty&&(ti=Object.create(ii),Object.defineProperty(ti,"column",{value:ei}))}return ti},Je.prototype.createError=function(St,ei,ti,ii){var ri="Line "+ei+": "+ii,si=this.constructError(ri,ti);return si.index=St,si.lineNumber=ei,si.description=ii,si},Je.prototype.throwError=function(St,ei,ti,ii){throw this.createError(St,ei,ti,ii)},Je.prototype.tolerateError=function(St,ei,ti,ii){var ri=this.createError(St,ei,ti,ii);if(!this.tolerant)throw ri;this.recordError(ri)},Je}();Ze.ErrorHandler=Qe},function(Ke,Ze){Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.Messages={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"}},function(Ke,Ze,Qe){Object.defineProperty(Ze,"__esModule",{value:!0});var Je=Qe(9),St=Qe(4),ei=Qe(11);function ti(si){return"0123456789abcdef".indexOf(si.toLowerCase())}function ii(si){return"01234567".indexOf(si)}var ri=function(){function si(ui,ai){this.source=ui,this.errorHandler=ai,this.trackComment=!1,this.isModule=!1,this.length=ui.length,this.index=0,this.lineNumber=ui.length>0?1:0,this.lineStart=0,this.curlyStack=[]}return si.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart}},si.prototype.restoreState=function(ui){this.index=ui.index,this.lineNumber=ui.lineNumber,this.lineStart=ui.lineStart},si.prototype.eof=function(){return this.index>=this.length},si.prototype.throwUnexpectedToken=function(ui){return ui===void 0&&(ui=ei.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,ui)},si.prototype.tolerateUnexpectedToken=function(ui){ui===void 0&&(ui=ei.Messages.UnexpectedTokenIllegal),this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,ui)},si.prototype.skipSingleLineComment=function(ui){var ai,oi,ni=[];for(this.trackComment&&(ni=[],ai=this.index-ui,oi={start:{line:this.lineNumber,column:this.index-this.lineStart-ui},end:{}});!this.eof();){var ci=this.source.charCodeAt(this.index);if(++this.index,St.Character.isLineTerminator(ci)){if(this.trackComment){oi.end={line:this.lineNumber,column:this.index-this.lineStart-1};var hi={multiLine:!1,slice:[ai+ui,this.index-1],range:[ai,this.index-1],loc:oi};ni.push(hi)}return ci===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,ni}}return this.trackComment&&(oi.end={line:this.lineNumber,column:this.index-this.lineStart},hi={multiLine:!1,slice:[ai+ui,this.index],range:[ai,this.index],loc:oi},ni.push(hi)),ni},si.prototype.skipMultiLineComment=function(){var ui,ai,oi=[];for(this.trackComment&&(oi=[],ui=this.index-2,ai={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var ni=this.source.charCodeAt(this.index);if(St.Character.isLineTerminator(ni))ni===13&&this.source.charCodeAt(this.index+1)===10&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(ni===42){if(this.source.charCodeAt(this.index+1)===47){if(this.index+=2,this.trackComment){ai.end={line:this.lineNumber,column:this.index-this.lineStart};var ci={multiLine:!0,slice:[ui+2,this.index-2],range:[ui,this.index],loc:ai};oi.push(ci)}return oi}++this.index}else++this.index}return this.trackComment&&(ai.end={line:this.lineNumber,column:this.index-this.lineStart},ci={multiLine:!0,slice:[ui+2,this.index],range:[ui,this.index],loc:ai},oi.push(ci)),this.tolerateUnexpectedToken(),oi},si.prototype.scanComments=function(){var ui;this.trackComment&&(ui=[]);for(var ai=this.index===0;!this.eof();){var oi=this.source.charCodeAt(this.index);if(St.Character.isWhiteSpace(oi))++this.index;else if(St.Character.isLineTerminator(oi))++this.index,oi===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,ai=!0;else if(oi===47)if((oi=this.source.charCodeAt(this.index+1))===47){this.index+=2;var ni=this.skipSingleLineComment(2);this.trackComment&&(ui=ui.concat(ni)),ai=!0}else{if(oi!==42)break;this.index+=2,ni=this.skipMultiLineComment(),this.trackComment&&(ui=ui.concat(ni))}else if(ai&&oi===45){if(this.source.charCodeAt(this.index+1)!==45||this.source.charCodeAt(this.index+2)!==62)break;this.index+=3,ni=this.skipSingleLineComment(3),this.trackComment&&(ui=ui.concat(ni))}else{if(oi!==60||this.isModule||this.source.slice(this.index+1,this.index+4)!=="!--")break;this.index+=4,ni=this.skipSingleLineComment(4),this.trackComment&&(ui=ui.concat(ni))}}return ui},si.prototype.isFutureReservedWord=function(ui){switch(ui){case"enum":case"export":case"import":case"super":return!0;default:return!1}},si.prototype.isStrictModeReservedWord=function(ui){switch(ui){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}},si.prototype.isRestrictedWord=function(ui){return ui==="eval"||ui==="arguments"},si.prototype.isKeyword=function(ui){switch(ui.length){case 2:return ui==="if"||ui==="in"||ui==="do";case 3:return ui==="var"||ui==="for"||ui==="new"||ui==="try"||ui==="let";case 4:return ui==="this"||ui==="else"||ui==="case"||ui==="void"||ui==="with"||ui==="enum";case 5:return ui==="while"||ui==="break"||ui==="catch"||ui==="throw"||ui==="const"||ui==="yield"||ui==="class"||ui==="super";case 6:return ui==="return"||ui==="typeof"||ui==="delete"||ui==="switch"||ui==="export"||ui==="import";case 7:return ui==="default"||ui==="finally"||ui==="extends";case 8:return ui==="function"||ui==="continue"||ui==="debugger";case 10:return ui==="instanceof";default:return!1}},si.prototype.codePointAt=function(ui){var ai=this.source.charCodeAt(ui);if(ai>=55296&&ai<=56319){var oi=this.source.charCodeAt(ui+1);oi>=56320&&oi<=57343&&(ai=1024*(ai-55296)+oi-56320+65536)}return ai},si.prototype.scanHexEscape=function(ui){for(var ai=ui==="u"?4:2,oi=0,ni=0;ni<ai;++ni){if(this.eof()||!St.Character.isHexDigit(this.source.charCodeAt(this.index)))return null;oi=16*oi+ti(this.source[this.index++])}return String.fromCharCode(oi)},si.prototype.scanUnicodeCodePointEscape=function(){var ui=this.source[this.index],ai=0;for(ui==="}"&&this.throwUnexpectedToken();!this.eof()&&(ui=this.source[this.index++],St.Character.isHexDigit(ui.charCodeAt(0)));)ai=16*ai+ti(ui);return(ai>1114111||ui!=="}")&&this.throwUnexpectedToken(),St.Character.fromCodePoint(ai)},si.prototype.getIdentifier=function(){for(var ui=this.index++;!this.eof();){var ai=this.source.charCodeAt(this.index);if(ai===92)return this.index=ui,this.getComplexIdentifier();if(ai>=55296&&ai<57343)return this.index=ui,this.getComplexIdentifier();if(!St.Character.isIdentifierPart(ai))break;++this.index}return this.source.slice(ui,this.index)},si.prototype.getComplexIdentifier=function(){var ui,ai=this.codePointAt(this.index),oi=St.Character.fromCodePoint(ai);for(this.index+=oi.length,ai===92&&(this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,ui=this.scanUnicodeCodePointEscape()):(ui=this.scanHexEscape("u"))!==null&&ui!=="\\"&&St.Character.isIdentifierStart(ui.charCodeAt(0))||this.throwUnexpectedToken(),oi=ui);!this.eof()&&(ai=this.codePointAt(this.index),St.Character.isIdentifierPart(ai));)oi+=ui=St.Character.fromCodePoint(ai),this.index+=ui.length,ai===92&&(oi=oi.substr(0,oi.length-1),this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,ui=this.scanUnicodeCodePointEscape()):(ui=this.scanHexEscape("u"))!==null&&ui!=="\\"&&St.Character.isIdentifierPart(ui.charCodeAt(0))||this.throwUnexpectedToken(),oi+=ui);return oi},si.prototype.octalToDecimal=function(ui){var ai=ui!=="0",oi=ii(ui);return!this.eof()&&St.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(ai=!0,oi=8*oi+ii(this.source[this.index++]),"0123".indexOf(ui)>=0&&!this.eof()&&St.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(oi=8*oi+ii(this.source[this.index++]))),{code:oi,octal:ai}},si.prototype.scanIdentifier=function(){var ui,ai=this.index,oi=this.source.charCodeAt(ai)===92?this.getComplexIdentifier():this.getIdentifier();if((ui=oi.length===1?3:this.isKeyword(oi)?4:oi==="null"?5:oi==="true"||oi==="false"?1:3)!=3&&ai+oi.length!==this.index){var ni=this.index;this.index=ai,this.tolerateUnexpectedToken(ei.Messages.InvalidEscapedReservedWord),this.index=ni}return{type:ui,value:oi,lineNumber:this.lineNumber,lineStart:this.lineStart,start:ai,end:this.index}},si.prototype.scanPunctuator=function(){var ui=this.index,ai=this.source[this.index];switch(ai){case"(":case"{":ai==="{"&&this.curlyStack.push("{"),++this.index;break;case".":++this.index,this.source[this.index]==="."&&this.source[this.index+1]==="."&&(this.index+=2,ai="...");break;case"}":++this.index,this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:(ai=this.source.substr(this.index,4))===">>>="?this.index+=4:(ai=ai.substr(0,3))==="==="||ai==="!=="||ai===">>>"||ai==="<<="||ai===">>="||ai==="**="?this.index+=3:(ai=ai.substr(0,2))==="&&"||ai==="||"||ai==="=="||ai==="!="||ai==="+="||ai==="-="||ai==="*="||ai==="/="||ai==="++"||ai==="--"||ai==="<<"||ai===">>"||ai==="&="||ai==="|="||ai==="^="||ai==="%="||ai==="<="||ai===">="||ai==="=>"||ai==="**"?this.index+=2:(ai=this.source[this.index],"<>=!+-*%&|^/".indexOf(ai)>=0&&++this.index)}return this.index===ui&&this.throwUnexpectedToken(),{type:7,value:ai,lineNumber:this.lineNumber,lineStart:this.lineStart,start:ui,end:this.index}},si.prototype.scanHexLiteral=function(ui){for(var ai="";!this.eof()&&St.Character.isHexDigit(this.source.charCodeAt(this.index));)ai+=this.source[this.index++];return ai.length===0&&this.throwUnexpectedToken(),St.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseInt("0x"+ai,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:ui,end:this.index}},si.prototype.scanBinaryLiteral=function(ui){for(var ai,oi="";!this.eof()&&((ai=this.source[this.index])==="0"||ai==="1");)oi+=this.source[this.index++];return oi.length===0&&this.throwUnexpectedToken(),this.eof()||(ai=this.source.charCodeAt(this.index),(St.Character.isIdentifierStart(ai)||St.Character.isDecimalDigit(ai))&&this.throwUnexpectedToken()),{type:6,value:parseInt(oi,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:ui,end:this.index}},si.prototype.scanOctalLiteral=function(ui,ai){var oi="",ni=!1;for(St.Character.isOctalDigit(ui.charCodeAt(0))?(ni=!0,oi="0"+this.source[this.index++]):++this.index;!this.eof()&&St.Character.isOctalDigit(this.source.charCodeAt(this.index));)oi+=this.source[this.index++];return ni||oi.length!==0||this.throwUnexpectedToken(),(St.Character.isIdentifierStart(this.source.charCodeAt(this.index))||St.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:6,value:parseInt(oi,8),octal:ni,lineNumber:this.lineNumber,lineStart:this.lineStart,start:ai,end:this.index}},si.prototype.isImplicitOctalLiteral=function(){for(var ui=this.index+1;ui<this.length;++ui){var ai=this.source[ui];if(ai==="8"||ai==="9")return!1;if(!St.Character.isOctalDigit(ai.charCodeAt(0)))return!0}return!0},si.prototype.scanNumericLiteral=function(){var ui=this.index,ai=this.source[ui];Je.assert(St.Character.isDecimalDigit(ai.charCodeAt(0))||ai===".","Numeric literal must start with a decimal digit or a decimal point");var oi="";if(ai!=="."){if(oi=this.source[this.index++],ai=this.source[this.index],oi==="0"){if(ai==="x"||ai==="X")return++this.index,this.scanHexLiteral(ui);if(ai==="b"||ai==="B")return++this.index,this.scanBinaryLiteral(ui);if(ai==="o"||ai==="O")return this.scanOctalLiteral(ai,ui);if(ai&&St.Character.isOctalDigit(ai.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(ai,ui)}for(;St.Character.isDecimalDigit(this.source.charCodeAt(this.index));)oi+=this.source[this.index++];ai=this.source[this.index]}if(ai==="."){for(oi+=this.source[this.index++];St.Character.isDecimalDigit(this.source.charCodeAt(this.index));)oi+=this.source[this.index++];ai=this.source[this.index]}if(ai==="e"||ai==="E")if(oi+=this.source[this.index++],(ai=this.source[this.index])!=="+"&&ai!=="-"||(oi+=this.source[this.index++]),St.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;St.Character.isDecimalDigit(this.source.charCodeAt(this.index));)oi+=this.source[this.index++];else this.throwUnexpectedToken();return St.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseFloat(oi),lineNumber:this.lineNumber,lineStart:this.lineStart,start:ui,end:this.index}},si.prototype.scanStringLiteral=function(){var ui=this.index,ai=this.source[ui];Je.assert(ai==="'"||ai==='"',"String literal must starts with a quote"),++this.index;for(var oi=!1,ni="";!this.eof();){var ci=this.source[this.index++];if(ci===ai){ai="";break}if(ci==="\\")if((ci=this.source[this.index++])&&St.Character.isLineTerminator(ci.charCodeAt(0)))++this.lineNumber,ci==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else switch(ci){case"u":if(this.source[this.index]==="{")++this.index,ni+=this.scanUnicodeCodePointEscape();else{var hi=this.scanHexEscape(ci);hi===null&&this.throwUnexpectedToken(),ni+=hi}break;case"x":var di=this.scanHexEscape(ci);di===null&&this.throwUnexpectedToken(ei.Messages.InvalidHexEscapeSequence),ni+=di;break;case"n":ni+=`
`;break;case"r":ni+="\r";break;case"t":ni+="	";break;case"b":ni+="\b";break;case"f":ni+="\f";break;case"v":ni+="\v";break;case"8":case"9":ni+=ci,this.tolerateUnexpectedToken();break;default:if(ci&&St.Character.isOctalDigit(ci.charCodeAt(0))){var fi=this.octalToDecimal(ci);oi=fi.octal||oi,ni+=String.fromCharCode(fi.code)}else ni+=ci}else{if(St.Character.isLineTerminator(ci.charCodeAt(0)))break;ni+=ci}}return ai!==""&&(this.index=ui,this.throwUnexpectedToken()),{type:8,value:ni,octal:oi,lineNumber:this.lineNumber,lineStart:this.lineStart,start:ui,end:this.index}},si.prototype.scanTemplate=function(){var ui="",ai=!1,oi=this.index,ni=this.source[oi]==="`",ci=!1,hi=2;for(++this.index;!this.eof();){var di=this.source[this.index++];if(di==="`"){hi=1,ci=!0,ai=!0;break}if(di==="$"){if(this.source[this.index]==="{"){this.curlyStack.push("${"),++this.index,ai=!0;break}ui+=di}else if(di==="\\")if(di=this.source[this.index++],St.Character.isLineTerminator(di.charCodeAt(0)))++this.lineNumber,di==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else switch(di){case"n":ui+=`
`;break;case"r":ui+="\r";break;case"t":ui+="	";break;case"u":if(this.source[this.index]==="{")++this.index,ui+=this.scanUnicodeCodePointEscape();else{var fi=this.index,mi=this.scanHexEscape(di);mi!==null?ui+=mi:(this.index=fi,ui+=di)}break;case"x":var pi=this.scanHexEscape(di);pi===null&&this.throwUnexpectedToken(ei.Messages.InvalidHexEscapeSequence),ui+=pi;break;case"b":ui+="\b";break;case"f":ui+="\f";break;case"v":ui+="\v";break;default:di==="0"?(St.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(ei.Messages.TemplateOctalLiteral),ui+="\0"):St.Character.isOctalDigit(di.charCodeAt(0))?this.throwUnexpectedToken(ei.Messages.TemplateOctalLiteral):ui+=di}else St.Character.isLineTerminator(di.charCodeAt(0))?(++this.lineNumber,di==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index,ui+=`
`):ui+=di}return ai||this.throwUnexpectedToken(),ni||this.curlyStack.pop(),{type:10,value:this.source.slice(oi+1,this.index-hi),cooked:ui,head:ni,tail:ci,lineNumber:this.lineNumber,lineStart:this.lineStart,start:oi,end:this.index}},si.prototype.testRegExp=function(ui,ai){var oi=ui,ni=this;ai.indexOf("u")>=0&&(oi=oi.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,function(ci,hi,di){var fi=parseInt(hi||di,16);return fi>1114111&&ni.throwUnexpectedToken(ei.Messages.InvalidRegExp),fi<=65535?String.fromCharCode(fi):""}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,""));try{RegExp(oi)}catch{this.throwUnexpectedToken(ei.Messages.InvalidRegExp)}try{return new RegExp(ui,ai)}catch{return null}},si.prototype.scanRegExpBody=function(){var ui=this.source[this.index];Je.assert(ui==="/","Regular expression literal must start with a slash");for(var ai=this.source[this.index++],oi=!1,ni=!1;!this.eof();)if(ai+=ui=this.source[this.index++],ui==="\\")ui=this.source[this.index++],St.Character.isLineTerminator(ui.charCodeAt(0))&&this.throwUnexpectedToken(ei.Messages.UnterminatedRegExp),ai+=ui;else if(St.Character.isLineTerminator(ui.charCodeAt(0)))this.throwUnexpectedToken(ei.Messages.UnterminatedRegExp);else if(oi)ui==="]"&&(oi=!1);else{if(ui==="/"){ni=!0;break}ui==="["&&(oi=!0)}return ni||this.throwUnexpectedToken(ei.Messages.UnterminatedRegExp),ai.substr(1,ai.length-2)},si.prototype.scanRegExpFlags=function(){for(var ui="";!this.eof();){var ai=this.source[this.index];if(!St.Character.isIdentifierPart(ai.charCodeAt(0)))break;if(++this.index,ai!=="\\"||this.eof())ui+=ai;else if((ai=this.source[this.index])==="u"){++this.index;var oi=this.index,ni=this.scanHexEscape("u");if(ni!==null)for(ui+=ni;oi<this.index;++oi)this.source[oi];else this.index=oi,ui+="u";this.tolerateUnexpectedToken()}else this.tolerateUnexpectedToken()}return ui},si.prototype.scanRegExp=function(){var ui=this.index,ai=this.scanRegExpBody(),oi=this.scanRegExpFlags();return{type:9,value:"",pattern:ai,flags:oi,regex:this.testRegExp(ai,oi),lineNumber:this.lineNumber,lineStart:this.lineStart,start:ui,end:this.index}},si.prototype.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var ui=this.source.charCodeAt(this.index);return St.Character.isIdentifierStart(ui)?this.scanIdentifier():ui===40||ui===41||ui===59?this.scanPunctuator():ui===39||ui===34?this.scanStringLiteral():ui===46?St.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():St.Character.isDecimalDigit(ui)?this.scanNumericLiteral():ui===96||ui===125&&this.curlyStack[this.curlyStack.length-1]==="${"?this.scanTemplate():ui>=55296&&ui<57343&&St.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},si}();Ze.Scanner=ri},function(Ke,Ze){Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.TokenName={},Ze.TokenName[1]="Boolean",Ze.TokenName[2]="<end>",Ze.TokenName[3]="Identifier",Ze.TokenName[4]="Keyword",Ze.TokenName[5]="Null",Ze.TokenName[6]="Numeric",Ze.TokenName[7]="Punctuator",Ze.TokenName[8]="String",Ze.TokenName[9]="RegularExpression",Ze.TokenName[10]="Template"},function(Ke,Ze){Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",fnof:"",circ:"",tilde:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",bull:"",hellip:"",permil:"",prime:"",Prime:"",lsaquo:"",rsaquo:"",oline:"",frasl:"",euro:"",image:"",weierp:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",lang:"",rang:""}},function(Ke,Ze,Qe){Object.defineProperty(Ze,"__esModule",{value:!0});var Je=Qe(10),St=Qe(12),ei=Qe(13),ti=function(){function ri(){this.values=[],this.curly=this.paren=-1}return ri.prototype.beforeFunctionExpression=function(si){return["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(si)>=0},ri.prototype.isRegexStart=function(){var si=this.values[this.values.length-1],ui=si!==null;switch(si){case"this":case"]":ui=!1;break;case")":var ai=this.values[this.paren-1];ui=ai==="if"||ai==="while"||ai==="for"||ai==="with";break;case"}":if(ui=!1,this.values[this.curly-3]==="function")ui=!!(oi=this.values[this.curly-4])&&!this.beforeFunctionExpression(oi);else if(this.values[this.curly-4]==="function"){var oi;ui=!(oi=this.values[this.curly-5])||!this.beforeFunctionExpression(oi)}}return ui},ri.prototype.push=function(si){si.type===7||si.type===4?(si.value==="{"?this.curly=this.values.length:si.value==="("&&(this.paren=this.values.length),this.values.push(si.value)):this.values.push(null)},ri}(),ii=function(){function ri(si,ui){this.errorHandler=new Je.ErrorHandler,this.errorHandler.tolerant=!!ui&&typeof ui.tolerant=="boolean"&&ui.tolerant,this.scanner=new St.Scanner(si,this.errorHandler),this.scanner.trackComment=!!ui&&typeof ui.comment=="boolean"&&ui.comment,this.trackRange=!!ui&&typeof ui.range=="boolean"&&ui.range,this.trackLoc=!!ui&&typeof ui.loc=="boolean"&&ui.loc,this.buffer=[],this.reader=new ti}return ri.prototype.errors=function(){return this.errorHandler.errors},ri.prototype.getNextToken=function(){if(this.buffer.length===0){var si=this.scanner.scanComments();if(this.scanner.trackComment)for(var ui=0;ui<si.length;++ui){var ai=si[ui],oi=this.scanner.source.slice(ai.slice[0],ai.slice[1]),ni={type:ai.multiLine?"BlockComment":"LineComment",value:oi};this.trackRange&&(ni.range=ai.range),this.trackLoc&&(ni.loc=ai.loc),this.buffer.push(ni)}if(!this.scanner.eof()){var ci=void 0;this.trackLoc&&(ci={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var hi=this.scanner.source[this.scanner.index]==="/"&&this.reader.isRegexStart()?this.scanner.scanRegExp():this.scanner.lex();this.reader.push(hi);var di={type:ei.TokenName[hi.type],value:this.scanner.source.slice(hi.start,hi.end)};if(this.trackRange&&(di.range=[hi.start,hi.end]),this.trackLoc&&(ci.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},di.loc=ci),hi.type===9){var fi=hi.pattern,mi=hi.flags;di.regex={pattern:fi,flags:mi}}this.buffer.push(di)}}return this.buffer.shift()},ri}();Ze.Tokenizer=ii}])},ze.exports=Ye()},function(ze,qe,Xe){var Ye=Xe(38),Ke=Xe(53),Ze=Xe(76),Qe=Xe(54),Je=Object.prototype.toString,St=Object.prototype.hasOwnProperty,ei={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},ti=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function ii(Si){var ki,Li,Bi;if(ki=Si.toString(16).toUpperCase(),Si<=255)Li="x",Bi=2;else if(Si<=65535)Li="u",Bi=4;else{if(!(Si<=4294967295))throw new Ke("code point within a string may not be greater than 0xFFFFFFFF");Li="U",Bi=8}return"\\"+Li+Ye.repeat("0",Bi-ki.length)+ki}function ri(Si){this.schema=Si.schema||Ze,this.indent=Math.max(1,Si.indent||2),this.noArrayIndent=Si.noArrayIndent||!1,this.skipInvalid=Si.skipInvalid||!1,this.flowLevel=Ye.isNothing(Si.flowLevel)?-1:Si.flowLevel,this.styleMap=function(ki,Li){var Bi,Pi,Ri,Fi,Gi,Ti,Vi;if(Li===null)return{};for(Bi={},Ri=0,Fi=(Pi=Object.keys(Li)).length;Ri<Fi;Ri+=1)Gi=Pi[Ri],Ti=String(Li[Gi]),Gi.slice(0,2)==="!!"&&(Gi="tag:yaml.org,2002:"+Gi.slice(2)),(Vi=ki.compiledTypeMap.fallback[Gi])&&St.call(Vi.styleAliases,Ti)&&(Ti=Vi.styleAliases[Ti]),Bi[Gi]=Ti;return Bi}(this.schema,Si.styles||null),this.sortKeys=Si.sortKeys||!1,this.lineWidth=Si.lineWidth||80,this.noRefs=Si.noRefs||!1,this.noCompatMode=Si.noCompatMode||!1,this.condenseFlow=Si.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function si(Si,ki){for(var Li,Bi=Ye.repeat(" ",ki),Pi=0,Ri=-1,Fi="",Gi=Si.length;Pi<Gi;)(Ri=Si.indexOf(`
`,Pi))===-1?(Li=Si.slice(Pi),Pi=Gi):(Li=Si.slice(Pi,Ri+1),Pi=Ri+1),Li.length&&Li!==`
`&&(Fi+=Bi),Fi+=Li;return Fi}function ui(Si,ki){return`
`+Ye.repeat(" ",Si.indent*ki)}function ai(Si){return Si===32||Si===9}function oi(Si){return 32<=Si&&Si<=126||161<=Si&&Si<=55295&&Si!==8232&&Si!==8233||57344<=Si&&Si<=65533&&Si!==65279||65536<=Si&&Si<=1114111}function ni(Si,ki){return oi(Si)&&Si!==65279&&Si!==44&&Si!==91&&Si!==93&&Si!==123&&Si!==125&&Si!==58&&(Si!==35||ki&&function(Li){return oi(Li)&&!ai(Li)&&Li!==65279&&Li!==13&&Li!==10}(ki))}function ci(Si){return/^\n* /.test(Si)}function hi(Si,ki,Li,Bi,Pi){var Ri,Fi,Gi,Ti,Vi=!1,Ui=!1,$i=Bi!==-1,Wi=-1,tn=oi(Ti=Si.charCodeAt(0))&&Ti!==65279&&!ai(Ti)&&Ti!==45&&Ti!==63&&Ti!==58&&Ti!==44&&Ti!==91&&Ti!==93&&Ti!==123&&Ti!==125&&Ti!==35&&Ti!==38&&Ti!==42&&Ti!==33&&Ti!==124&&Ti!==61&&Ti!==62&&Ti!==39&&Ti!==34&&Ti!==37&&Ti!==64&&Ti!==96&&!ai(Si.charCodeAt(Si.length-1));if(ki)for(Ri=0;Ri<Si.length;Ri++){if(!oi(Fi=Si.charCodeAt(Ri)))return 5;Gi=Ri>0?Si.charCodeAt(Ri-1):null,tn=tn&&ni(Fi,Gi)}else{for(Ri=0;Ri<Si.length;Ri++){if((Fi=Si.charCodeAt(Ri))===10)Vi=!0,$i&&(Ui=Ui||Ri-Wi-1>Bi&&Si[Wi+1]!==" ",Wi=Ri);else if(!oi(Fi))return 5;Gi=Ri>0?Si.charCodeAt(Ri-1):null,tn=tn&&ni(Fi,Gi)}Ui=Ui||$i&&Ri-Wi-1>Bi&&Si[Wi+1]!==" "}return Vi||Ui?Li>9&&ci(Si)?5:Ui?4:3:tn&&!Pi(Si)?1:2}function di(Si,ki,Li,Bi){Si.dump=function(){if(ki.length===0)return"''";if(!Si.noCompatMode&&ti.indexOf(ki)!==-1)return"'"+ki+"'";var Pi=Si.indent*Math.max(1,Li),Ri=Si.lineWidth===-1?-1:Math.max(Math.min(Si.lineWidth,40),Si.lineWidth-Pi),Fi=Bi||Si.flowLevel>-1&&Li>=Si.flowLevel;switch(hi(ki,Fi,Si.indent,Ri,function(Gi){return function(Ti,Vi){var Ui,$i;for(Ui=0,$i=Ti.implicitTypes.length;Ui<$i;Ui+=1)if(Ti.implicitTypes[Ui].resolve(Vi))return!0;return!1}(Si,Gi)})){case 1:return ki;case 2:return"'"+ki.replace(/'/g,"''")+"'";case 3:return"|"+fi(ki,Si.indent)+mi(si(ki,Pi));case 4:return">"+fi(ki,Si.indent)+mi(si(function(Gi,Ti){for(var Vi,Ui,$i=/(\n+)([^\n]*)/g,Wi=(nn=Gi.indexOf(`
`),nn=nn!==-1?nn:Gi.length,$i.lastIndex=nn,pi(Gi.slice(0,nn),Ti)),tn=Gi[0]===`
`||Gi[0]===" ",nn;Ui=$i.exec(Gi);){var Qi=Ui[1],Ei=Ui[2];Vi=Ei[0]===" ",Wi+=Qi+(tn||Vi||Ei===""?"":`
`)+pi(Ei,Ti),tn=Vi}return Wi}(ki,Ri),Pi));case 5:return'"'+function(Gi){for(var Ti,Vi,Ui,$i="",Wi=0;Wi<Gi.length;Wi++)(Ti=Gi.charCodeAt(Wi))>=55296&&Ti<=56319&&(Vi=Gi.charCodeAt(Wi+1))>=56320&&Vi<=57343?($i+=ii(1024*(Ti-55296)+Vi-56320+65536),Wi++):(Ui=ei[Ti],$i+=!Ui&&oi(Ti)?Gi[Wi]:Ui||ii(Ti));return $i}(ki)+'"';default:throw new Ke("impossible error: invalid scalar style")}}()}function fi(Si,ki){var Li=ci(Si)?String(ki):"",Bi=Si[Si.length-1]===`
`;return Li+(Bi&&(Si[Si.length-2]===`
`||Si===`
`)?"+":Bi?"":"-")+`
`}function mi(Si){return Si[Si.length-1]===`
`?Si.slice(0,-1):Si}function pi(Si,ki){if(Si===""||Si[0]===" ")return Si;for(var Li,Bi,Pi=/ [^ ]/g,Ri=0,Fi=0,Gi=0,Ti="";Li=Pi.exec(Si);)(Gi=Li.index)-Ri>ki&&(Bi=Fi>Ri?Fi:Gi,Ti+=`
`+Si.slice(Ri,Bi),Ri=Bi+1),Fi=Gi;return Ti+=`
`,Si.length-Ri>ki&&Fi>Ri?Ti+=Si.slice(Ri,Fi)+`
`+Si.slice(Fi+1):Ti+=Si.slice(Ri),Ti.slice(1)}function wi(Si,ki,Li){var Bi,Pi,Ri,Fi,Gi,Ti;for(Ri=0,Fi=(Pi=Li?Si.explicitTypes:Si.implicitTypes).length;Ri<Fi;Ri+=1)if(((Gi=Pi[Ri]).instanceOf||Gi.predicate)&&(!Gi.instanceOf||typeof ki=="object"&&ki instanceof Gi.instanceOf)&&(!Gi.predicate||Gi.predicate(ki))){if(Si.tag=Li?Gi.tag:"?",Gi.represent){if(Ti=Si.styleMap[Gi.tag]||Gi.defaultStyle,Je.call(Gi.represent)==="[object Function]")Bi=Gi.represent(ki,Ti);else{if(!St.call(Gi.represent,Ti))throw new Ke("!<"+Gi.tag+'> tag resolver accepts not "'+Ti+'" style');Bi=Gi.represent[Ti](ki,Ti)}Si.dump=Bi}return!0}return!1}function gi(Si,ki,Li,Bi,Pi,Ri){Si.tag=null,Si.dump=Li,wi(Si,Li,!1)||wi(Si,Li,!0);var Fi=Je.call(Si.dump);Bi&&(Bi=Si.flowLevel<0||Si.flowLevel>ki);var Gi,Ti,Vi=Fi==="[object Object]"||Fi==="[object Array]";if(Vi&&(Ti=(Gi=Si.duplicates.indexOf(Li))!==-1),(Si.tag!==null&&Si.tag!=="?"||Ti||Si.indent!==2&&ki>0)&&(Pi=!1),Ti&&Si.usedDuplicates[Gi])Si.dump="*ref_"+Gi;else{if(Vi&&Ti&&!Si.usedDuplicates[Gi]&&(Si.usedDuplicates[Gi]=!0),Fi==="[object Object]")Bi&&Object.keys(Si.dump).length!==0?(function($i,Wi,tn,nn){var Qi,Ei,bi,Ci,_i,Ii,Ni="",Di=$i.tag,Ki=Object.keys(tn);if($i.sortKeys===!0)Ki.sort();else if(typeof $i.sortKeys=="function")Ki.sort($i.sortKeys);else if($i.sortKeys)throw new Ke("sortKeys must be a boolean or a function");for(Qi=0,Ei=Ki.length;Qi<Ei;Qi+=1)Ii="",nn&&Qi===0||(Ii+=ui($i,Wi)),Ci=tn[bi=Ki[Qi]],gi($i,Wi+1,bi,!0,!0,!0)&&((_i=$i.tag!==null&&$i.tag!=="?"||$i.dump&&$i.dump.length>1024)&&($i.dump&&$i.dump.charCodeAt(0)===10?Ii+="?":Ii+="? "),Ii+=$i.dump,_i&&(Ii+=ui($i,Wi)),gi($i,Wi+1,Ci,!0,_i)&&($i.dump&&$i.dump.charCodeAt(0)===10?Ii+=":":Ii+=": ",Ni+=Ii+=$i.dump));$i.tag=Di,$i.dump=Ni||"{}"}(Si,ki,Si.dump,Pi),Ti&&(Si.dump="&ref_"+Gi+Si.dump)):(function($i,Wi,tn){var nn,Qi,Ei,bi,Ci,_i="",Ii=$i.tag,Ni=Object.keys(tn);for(nn=0,Qi=Ni.length;nn<Qi;nn+=1)Ci="",nn!==0&&(Ci+=", "),$i.condenseFlow&&(Ci+='"'),bi=tn[Ei=Ni[nn]],gi($i,Wi,Ei,!1,!1)&&($i.dump.length>1024&&(Ci+="? "),Ci+=$i.dump+($i.condenseFlow?'"':"")+":"+($i.condenseFlow?"":" "),gi($i,Wi,bi,!1,!1)&&(_i+=Ci+=$i.dump));$i.tag=Ii,$i.dump="{"+_i+"}"}(Si,ki,Si.dump),Ti&&(Si.dump="&ref_"+Gi+" "+Si.dump));else if(Fi==="[object Array]"){var Ui=Si.noArrayIndent&&ki>0?ki-1:ki;Bi&&Si.dump.length!==0?(function($i,Wi,tn,nn){var Qi,Ei,bi="",Ci=$i.tag;for(Qi=0,Ei=tn.length;Qi<Ei;Qi+=1)gi($i,Wi+1,tn[Qi],!0,!0)&&(nn&&Qi===0||(bi+=ui($i,Wi)),$i.dump&&$i.dump.charCodeAt(0)===10?bi+="-":bi+="- ",bi+=$i.dump);$i.tag=Ci,$i.dump=bi||"[]"}(Si,Ui,Si.dump,Pi),Ti&&(Si.dump="&ref_"+Gi+Si.dump)):(function($i,Wi,tn){var nn,Qi,Ei="",bi=$i.tag;for(nn=0,Qi=tn.length;nn<Qi;nn+=1)gi($i,Wi,tn[nn],!1,!1)&&(nn!==0&&(Ei+=","+($i.condenseFlow?"":" ")),Ei+=$i.dump);$i.tag=bi,$i.dump="["+Ei+"]"}(Si,Ui,Si.dump),Ti&&(Si.dump="&ref_"+Gi+" "+Si.dump))}else{if(Fi!=="[object String]"){if(Si.skipInvalid)return!1;throw new Ke("unacceptable kind of an object to dump "+Fi)}Si.tag!=="?"&&di(Si,Si.dump,ki,Ri)}Si.tag!==null&&Si.tag!=="?"&&(Si.dump="!<"+Si.tag+"> "+Si.dump)}return!0}function yi(Si,ki){var Li,Bi,Pi=[],Ri=[];for(function Fi(Gi,Ti,Vi){var Ui,$i,Wi;if(Gi!==null&&typeof Gi=="object")if(($i=Ti.indexOf(Gi))!==-1)Vi.indexOf($i)===-1&&Vi.push($i);else if(Ti.push(Gi),Array.isArray(Gi))for($i=0,Wi=Gi.length;$i<Wi;$i+=1)Fi(Gi[$i],Ti,Vi);else for(Ui=Object.keys(Gi),$i=0,Wi=Ui.length;$i<Wi;$i+=1)Fi(Gi[Ui[$i]],Ti,Vi)}(Si,Pi,Ri),Li=0,Bi=Ri.length;Li<Bi;Li+=1)ki.duplicates.push(Pi[Ri[Li]]);ki.usedDuplicates=new Array(Bi)}function Ai(Si,ki){var Li=new ri(ki=ki||{});return Li.noRefs||yi(Si,Li),gi(Li,0,Si,!0,!0)?Li.dump+`
`:""}ze.exports.dump=Ai,ze.exports.safeDump=function(Si,ki){return Ai(Si,Ye.extend({schema:Qe},ki))}},function(ze,qe,Xe){Xe(31),Xe(32),Xe(33),Xe(64),Xe(19),Xe(65),Xe(20),Xe(68),Xe(92),Xe(144),Xe(22),Xe(94),Xe(23);var Ye,Ke=this&&this.__extends||(Ye=function(hi,di){return(Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(fi,mi){fi.__proto__=mi}||function(fi,mi){for(var pi in mi)mi.hasOwnProperty(pi)&&(fi[pi]=mi[pi])})(hi,di)},function(hi,di){function fi(){this.constructor=hi}Ye(hi,di),hi.prototype=di===null?Object.create(di):(fi.prototype=di.prototype,new fi)}),Ze=this&&this.__values||function(hi){var di=typeof Symbol=="function"&&Symbol.iterator,fi=di&&hi[di],mi=0;if(fi)return fi.call(hi);if(hi&&typeof hi.length=="number")return{next:function(){return hi&&mi>=hi.length&&(hi=void 0),{value:hi&&hi[mi++],done:!hi}}};throw new TypeError(di?"Object is not iterable.":"Symbol.iterator is not defined.")},Qe=this&&this.__read||function(hi,di){var fi=typeof Symbol=="function"&&hi[Symbol.iterator];if(!fi)return hi;var mi,pi,wi=fi.call(hi),gi=[];try{for(;(di===void 0||di-- >0)&&!(mi=wi.next()).done;)gi.push(mi.value)}catch(yi){pi={error:yi}}finally{try{mi&&!mi.done&&(fi=wi.return)&&fi.call(wi)}finally{if(pi)throw pi.error}}return gi};Object.defineProperty(qe,"__esModule",{value:!0});var Je=Xe(91),St=Xe(2),ei=Xe(183),ti=Xe(0),ii=Xe(7),ri=Xe(95),si=Xe(69),ui=Xe(3),ai=Xe(306),oi=Xe(307),ni=Xe(308),ci=function(hi){function di(fi,mi){mi===void 0&&(mi=!1);var pi=hi.call(this)||this;return pi._hasDeclaration=!1,pi._docTypeName="",pi._hasDocumentElement=!1,pi._currentElementSerialized=!1,pi._openTags=[],pi._ended=!1,pi._fragment=mi,pi._options=St.applyDefaults(fi||{},Je.DefaultXMLBuilderCBOptions),pi._builderOptions={defaultNamespace:pi._options.defaultNamespace,namespaceAlias:pi._options.namespaceAlias},pi._options.format==="json"?pi._writer=new oi.JSONCBWriter(pi._options):pi._options.format==="yaml"?pi._writer=new ni.YAMLCBWriter(pi._options):pi._writer=new ai.XMLCBWriter(pi._options),pi._options.data!==void 0&&pi.on("data",pi._options.data),pi._options.end!==void 0&&pi.on("end",pi._options.end),pi._options.error!==void 0&&pi.on("error",pi._options.error),pi._prefixMap=new ri.NamespacePrefixMap,pi._prefixMap.set("xml",ii.namespace.XML),pi._prefixIndex={value:1},pi._push(pi._writer.frontMatter()),pi}return Ke(di,hi),di.prototype.ele=function(fi,mi,pi){var wi,gi;if(St.isObject(fi)||St.isString(fi)&&(/^\s*</.test(fi)||/^\s*[\{\[]/.test(fi)||/^(\s*|(#.*)|(%.*))*---/.test(fi))){var yi=ei.fragment().set(this._options);try{yi.ele(fi)}catch(Li){return this.emit("error",Li),this}try{for(var Ai=Ze(yi.node.childNodes),Si=Ai.next();!Si.done;Si=Ai.next()){var ki=Si.value;this._fromNode(ki)}}catch(Li){wi={error:Li}}finally{try{Si&&!Si.done&&(gi=Ai.return)&&gi.call(Ai)}finally{if(wi)throw wi.error}}return this}if(this._serializeOpenTag(!0),!this._fragment&&this._hasDocumentElement&&this._writer.level===0)return this.emit("error",new Error("Document cannot have multiple document element nodes.")),this;try{this._currentElement=ei.fragment(this._builderOptions).ele(fi,mi,pi)}catch(Li){return this.emit("error",Li),this}return this._fragment||this._hasDocumentElement||this._docTypeName===""||this._currentElement.node._qualifiedName===this._docTypeName?(this._currentElementSerialized=!1,this._fragment||(this._hasDocumentElement=!0),this):(this.emit("error",new Error("Document element name does not match DocType declaration name.")),this)},di.prototype.att=function(fi,mi,pi){if(this._currentElement===void 0)return this.emit("error",new Error("Cannot insert an attribute node as child of a document node.")),this;try{this._currentElement.att(fi,mi,pi)}catch(wi){return this.emit("error",wi),this}return this},di.prototype.com=function(fi){var mi;this._serializeOpenTag(!0);try{mi=ei.fragment(this._builderOptions).com(fi).first().node}catch(pi){return this.emit("error",pi),this}return!this._options.wellFormed||ti.xml_isLegalChar(mi.data)&&mi.data.indexOf("--")===-1&&!mi.data.endsWith("-")?(this._push(this._writer.comment(mi.data)),this):(this.emit("error",new Error("Comment data contains invalid characters (well-formed required).")),this)},di.prototype.txt=function(fi){if(!this._fragment&&this._currentElement===void 0)return this.emit("error",new Error("Cannot insert a text node as child of a document node.")),this;var mi;this._serializeOpenTag(!0);try{mi=ei.fragment(this._builderOptions).txt(fi).first().node}catch(wi){return this.emit("error",wi),this}if(this._options.wellFormed&&!ti.xml_isLegalChar(mi.data))return this.emit("error",new Error("Text data contains invalid characters (well-formed required).")),this;var pi=mi.data.replace(/(?!&(lt|gt|amp|apos|quot);)&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return this._push(this._writer.text(pi)),this},di.prototype.ins=function(fi,mi){var pi;mi===void 0&&(mi=""),this._serializeOpenTag(!0);try{pi=ei.fragment(this._builderOptions).ins(fi,mi).first().node}catch(wi){return this.emit("error",wi),this}return this._options.wellFormed&&(pi.target.indexOf(":")!==-1||/^xml$/i.test(pi.target))?(this.emit("error",new Error("Processing instruction target contains invalid characters (well-formed required).")),this):this._options.wellFormed&&!ti.xml_isLegalChar(pi.data)?(this.emit("error",Error("Processing instruction data contains invalid characters (well-formed required).")),this):(this._push(this._writer.instruction(pi.target,pi.data)),this)},di.prototype.dat=function(fi){var mi;this._serializeOpenTag(!0);try{mi=ei.fragment(this._builderOptions).dat(fi).first().node}catch(pi){return this.emit("error",pi),this}return this._push(this._writer.cdata(mi.data)),this},di.prototype.dec=function(fi){return fi===void 0&&(fi={version:"1.0"}),this._fragment?(this.emit("error",Error("Cannot insert an XML declaration into a document fragment.")),this):this._hasDeclaration?(this.emit("error",Error("XML declaration is already inserted.")),this):(this._push(this._writer.declaration(fi.version||"1.0",fi.encoding,fi.standalone)),this._hasDeclaration=!0,this)},di.prototype.dtd=function(fi){if(this._fragment)return this.emit("error",Error("Cannot insert a DocType declaration into a document fragment.")),this;if(this._docTypeName!=="")return this.emit("error",new Error("DocType declaration is already inserted.")),this;if(this._hasDocumentElement)return this.emit("error",new Error("Cannot insert DocType declaration after document element.")),this;var mi;try{mi=ei.create().dtd(fi).first().node}catch(pi){return this.emit("error",pi),this}return this._options.wellFormed&&!ti.xml_isPubidChar(mi.publicId)?(this.emit("error",new Error("DocType public identifier does not match PubidChar construct (well-formed required).")),this):this._options.wellFormed&&(!ti.xml_isLegalChar(mi.systemId)||mi.systemId.indexOf('"')!==-1&&mi.systemId.indexOf("'")!==-1)?(this.emit("error",new Error("DocType system identifier contains invalid characters (well-formed required).")),this):(this._docTypeName=fi.name,this._push(this._writer.docType(fi.name,mi.publicId,mi.systemId)),this)},di.prototype.import=function(fi){var mi,pi,wi=ei.fragment().set(this._options);try{wi.import(fi)}catch(Si){return this.emit("error",Si),this}try{for(var gi=Ze(wi.node.childNodes),yi=gi.next();!yi.done;yi=gi.next()){var Ai=yi.value;this._fromNode(Ai)}}catch(Si){mi={error:Si}}finally{try{yi&&!yi.done&&(pi=gi.return)&&pi.call(gi)}finally{if(mi)throw mi.error}}return this},di.prototype.up=function(){return this._serializeOpenTag(!1),this._serializeCloseTag(),this},di.prototype.end=function(){for(this._serializeOpenTag(!1);this._openTags.length>0;)this._serializeCloseTag();return this._push(null),this},di.prototype._serializeOpenTag=function(fi){if(!this._currentElementSerialized&&this._currentElement!==void 0){var mi=this._currentElement.node;if(!this._options.wellFormed||mi.localName.indexOf(":")===-1&&ti.xml_isName(mi.localName)){var pi="",wi=!1,gi=this._prefixMap.copy(),yi={},Ai=this._recordNamespaceInformation(mi,gi,yi),Si=this._openTags.length===0?null:this._openTags[this._openTags.length-1][1],ki=mi.namespaceURI;if(ki===null&&(ki=Si),Si===ki)Ai!==null&&(wi=!0),pi=ki===ii.namespace.XML?"xml:"+mi.localName:mi.localName,this._writer.beginElement(pi),this._push(this._writer.openTagBegin(pi));else{var Li=mi.prefix,Bi=null;if(Li===null&&ki===Ai||(Bi=gi.get(Li,ki)),Li==="xmlns"){if(this._options.wellFormed)return void this.emit("error",new Error("An element cannot have the 'xmlns' prefix (well-formed required)."));Bi=Li}Bi!==null?(pi=Bi+":"+mi.localName,Ai!==null&&Ai!==ii.namespace.XML&&(Si=Ai||null),this._writer.beginElement(pi),this._push(this._writer.openTagBegin(pi))):Li!==null?(Li in yi&&(Li=this._generatePrefix(ki,gi,this._prefixIndex)),gi.set(Li,ki),pi+=Li+":"+mi.localName,this._writer.beginElement(pi),this._push(this._writer.openTagBegin(pi)),this._push(this._writer.attribute("xmlns:"+Li,this._serializeAttributeValue(ki,this._options.wellFormed))),Ai!==null&&(Si=Ai||null)):Ai===null||Ai!==null&&Ai!==ki?(wi=!0,pi+=mi.localName,Si=ki,this._writer.beginElement(pi),this._push(this._writer.openTagBegin(pi)),this._push(this._writer.attribute("xmlns",this._serializeAttributeValue(ki,this._options.wellFormed)))):(pi+=mi.localName,Si=ki,this._writer.beginElement(pi),this._push(this._writer.openTagBegin(pi)))}this._serializeAttributes(mi,gi,this._prefixIndex,yi,wi,this._options.wellFormed);var Pi=ki===ii.namespace.HTML;Pi&&!fi&&di._VoidElementNames.has(mi.localName)?(this._push(this._writer.openTagEnd(pi,!0,!0)),this._writer.endElement(pi)):Pi||fi?this._push(this._writer.openTagEnd(pi,!1,!1)):(this._push(this._writer.openTagEnd(pi,!0,!1)),this._writer.endElement(pi)),this._currentElementSerialized=!0,this._openTags.push([pi,Si,this._prefixMap,fi]),this._isPrefixMapModified(this._prefixMap,gi)&&(this._prefixMap=gi),this._writer.level++}else this.emit("error",new Error("Node local name contains invalid characters (well-formed required)."))}},di.prototype._serializeCloseTag=function(){this._writer.level--;var fi=this._openTags.pop();if(fi!==void 0){var mi=Qe(fi,4),pi=mi[0],wi=(mi[1],mi[2]),gi=mi[3];this._prefixMap=wi,gi&&(this._push(this._writer.closeTag(pi)),this._writer.endElement(pi))}else this.emit("error",new Error("Last element is undefined."))},di.prototype._push=function(fi){fi===null?(this._ended=!0,this.emit("end")):this._ended?this.emit("error",new Error("Cannot push to ended stream.")):fi.length!==0&&(this._writer.hasData=!0,this.emit("data",fi,this._writer.level))},di.prototype._fromNode=function(fi){var mi,pi,wi,gi;if(ui.Guard.isElementNode(fi)){var yi=fi.prefix?fi.prefix+":"+fi.localName:fi.localName;fi.namespaceURI!==null?this.ele(fi.namespaceURI,yi):this.ele(yi);try{for(var Ai=Ze(fi.attributes),Si=Ai.next();!Si.done;Si=Ai.next()){var ki=Si.value,Li=ki.prefix?ki.prefix+":"+ki.localName:ki.localName;ki.namespaceURI!==null?this.att(ki.namespaceURI,Li,ki.value):this.att(Li,ki.value)}}catch(Fi){mi={error:Fi}}finally{try{Si&&!Si.done&&(pi=Ai.return)&&pi.call(Ai)}finally{if(mi)throw mi.error}}try{for(var Bi=Ze(fi.childNodes),Pi=Bi.next();!Pi.done;Pi=Bi.next()){var Ri=Pi.value;this._fromNode(Ri)}}catch(Fi){wi={error:Fi}}finally{try{Pi&&!Pi.done&&(gi=Bi.return)&&gi.call(Bi)}finally{if(wi)throw wi.error}}this.up()}else ui.Guard.isExclusiveTextNode(fi)&&fi.data?this.txt(fi.data):ui.Guard.isCommentNode(fi)?this.com(fi.data):ui.Guard.isCDATASectionNode(fi)?this.dat(fi.data):ui.Guard.isProcessingInstructionNode(fi)&&this.ins(fi.target,fi.data)},di.prototype._serializeAttributes=function(fi,mi,pi,wi,gi,yi){var Ai,Si,ki=yi?new si.LocalNameSet:void 0;try{for(var Li=Ze(fi.attributes),Bi=Li.next();!Bi.done;Bi=Li.next()){var Pi=Bi.value;if(yi||gi||Pi.namespaceURI!==null){if(yi&&ki&&ki.has(Pi.namespaceURI,Pi.localName))return void this.emit("error",new Error("Element contains duplicate attributes (well-formed required)."));yi&&ki&&ki.set(Pi.namespaceURI,Pi.localName);var Ri=Pi.namespaceURI,Fi=null;if(Ri!==null)if(Fi=mi.get(Pi.prefix,Ri),Ri===ii.namespace.XMLNS){if(Pi.value===ii.namespace.XML||Pi.prefix===null&&gi||Pi.prefix!==null&&(!(Pi.localName in wi)||wi[Pi.localName]!==Pi.value)&&mi.has(Pi.localName,Pi.value))continue;if(yi&&Pi.value===ii.namespace.XMLNS)return void this.emit("error",new Error("XMLNS namespace is reserved (well-formed required)."));if(yi&&Pi.value==="")return void this.emit("error",new Error("Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required)."));Pi.prefix==="xmlns"&&(Fi="xmlns")}else Fi===null&&(Fi=Pi.prefix===null||mi.hasPrefix(Pi.prefix)&&!mi.has(Pi.prefix,Ri)?this._generatePrefix(Ri,mi,pi):Pi.prefix,this._push(this._writer.attribute("xmlns:"+Fi,this._serializeAttributeValue(Ri,this._options.wellFormed))));if(yi&&(Pi.localName.indexOf(":")!==-1||!ti.xml_isName(Pi.localName)||Pi.localName==="xmlns"&&Ri===null))return void this.emit("error",new Error("Attribute local name contains invalid characters (well-formed required)."));this._push(this._writer.attribute((Fi!==null?Fi+":":"")+Pi.localName,this._serializeAttributeValue(Pi.value,this._options.wellFormed)))}else this._push(this._writer.attribute(Pi.localName,this._serializeAttributeValue(Pi.value,this._options.wellFormed)))}}catch(Gi){Ai={error:Gi}}finally{try{Bi&&!Bi.done&&(Si=Li.return)&&Si.call(Li)}finally{if(Ai)throw Ai.error}}},di.prototype._serializeAttributeValue=function(fi,mi){return mi&&fi!==null&&!ti.xml_isLegalChar(fi)?(this.emit("error",new Error("Invalid characters in attribute value.")),""):fi===null?"":fi.replace(/(?!&(lt|gt|amp|apos|quot);)&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},di.prototype._recordNamespaceInformation=function(fi,mi,pi){var wi,gi,yi=null;try{for(var Ai=Ze(fi.attributes),Si=Ai.next();!Si.done;Si=Ai.next()){var ki=Si.value,Li=ki.namespaceURI,Bi=ki.prefix;if(Li===ii.namespace.XMLNS){if(Bi===null){yi=ki.value;continue}var Pi=ki.localName,Ri=ki.value;if(Ri===ii.namespace.XML||(Ri===""&&(Ri=null),mi.has(Pi,Ri)))continue;mi.set(Pi,Ri),pi[Pi]=Ri||""}}}catch(Fi){wi={error:Fi}}finally{try{Si&&!Si.done&&(gi=Ai.return)&&gi.call(Ai)}finally{if(wi)throw wi.error}}return yi},di.prototype._generatePrefix=function(fi,mi,pi){var wi="ns"+pi.value;return pi.value++,mi.set(wi,fi),wi},di.prototype._isPrefixMapModified=function(fi,mi){var pi=fi._items,wi=mi._items,gi=fi._nullItems,yi=mi._nullItems;for(var Ai in wi){var Si=pi[Ai];if(Si===void 0)return!0;var ki=wi[Ai];if(Si.length!==ki.length)return!0;for(var Li=0;Li<Si.length;Li++)if(Si[Li]!==ki[Li])return!0}if(gi.length!==yi.length)return!0;for(Li=0;Li<gi.length;Li++)if(gi[Li]!==yi[Li])return!0;return!1},di._VoidElementNames=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),di}(Xe(309).EventEmitter);qe.XMLBuilderCBImpl=ci},function(ze,qe,Xe){Xe(74);var Ye,Ke=this&&this.__extends||(Ye=function(Qe,Je){return(Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(St,ei){St.__proto__=ei}||function(St,ei){for(var ti in ei)ei.hasOwnProperty(ti)&&(St[ti]=ei[ti])})(Qe,Je)},function(Qe,Je){function St(){this.constructor=Qe}Ye(Qe,Je),Qe.prototype=Je===null?Object.create(Je):(St.prototype=Je.prototype,new St)});Object.defineProperty(qe,"__esModule",{value:!0});var Ze=function(Qe){function Je(St){var ei=Qe.call(this,St)||this;return ei._lineLength=0,ei}return Ke(Je,Qe),Je.prototype.frontMatter=function(){return""},Je.prototype.declaration=function(St,ei,ti){var ii=this._beginLine()+"<?xml";return ii+=' version="'+St+'"',ei!==void 0&&(ii+=' encoding="'+ei+'"'),ti!==void 0&&(ii+=' standalone="'+(ti?"yes":"no")+'"'),ii+="?>"},Je.prototype.docType=function(St,ei,ti){var ii=this._beginLine();return ii+=ei&&ti?"<!DOCTYPE "+St+' PUBLIC "'+ei+'" "'+ti+'">':ei?"<!DOCTYPE "+St+' PUBLIC "'+ei+'">':ti?"<!DOCTYPE "+St+' SYSTEM "'+ti+'">':"<!DOCTYPE "+St+">"},Je.prototype.comment=function(St){return this._beginLine()+"<!--"+St+"-->"},Je.prototype.text=function(St){return this._beginLine()+St},Je.prototype.instruction=function(St,ei){return ei?this._beginLine()+"<?"+St+" "+ei+"?>":this._beginLine()+"<?"+St+"?>"},Je.prototype.cdata=function(St){return this._beginLine()+"<![CDATA["+St+"]]>"},Je.prototype.openTagBegin=function(St){return this._lineLength+=1+St.length,this._beginLine()+"<"+St},Je.prototype.openTagEnd=function(St,ei,ti){return ti?" />":ei?this._writerOptions.allowEmptyTags?"></"+St+">":this._writerOptions.spaceBeforeSlash?" />":"/>":">"},Je.prototype.closeTag=function(St){return this._beginLine()+"</"+St+">"},Je.prototype.attribute=function(St,ei){var ti=St+'="'+ei+'"';return this._writerOptions.prettyPrint&&this._writerOptions.width>0&&this._lineLength+1+ti.length>this._writerOptions.width?(ti=this._beginLine()+this._indent(1)+ti,this._lineLength=ti.length,ti):(this._lineLength+=1+ti.length," "+ti)},Je.prototype.beginElement=function(St){},Je.prototype.endElement=function(St){},Je.prototype._beginLine=function(){if(this._writerOptions.prettyPrint){var St=(this.hasData?this._writerOptions.newline:"")+this._indent(this._writerOptions.offset+this.level);return this._lineLength=St.length,St}return""},Je.prototype._indent=function(St){return St<=0?"":this._writerOptions.indent.repeat(St)},Je}(Xe(114).BaseCBWriter);qe.XMLCBWriter=Ze},function(ze,qe,Xe){Xe(74);var Ye,Ke=this&&this.__extends||(Ye=function(Qe,Je){return(Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(St,ei){St.__proto__=ei}||function(St,ei){for(var ti in ei)ei.hasOwnProperty(ti)&&(St[ti]=ei[ti])})(Qe,Je)},function(Qe,Je){function St(){this.constructor=Qe}Ye(Qe,Je),Qe.prototype=Je===null?Object.create(Je):(St.prototype=Je.prototype,new St)});Object.defineProperty(qe,"__esModule",{value:!0});var Ze=function(Qe){function Je(St){var ei=Qe.call(this,St)||this;return ei._hasChildren=[],ei._additionalLevel=0,ei}return Ke(Je,Qe),Je.prototype.frontMatter=function(){return""},Je.prototype.declaration=function(St,ei,ti){return""},Je.prototype.docType=function(St,ei,ti){return""},Je.prototype.comment=function(St){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.comment)+this._sep()+this._val(St)+this._sep()+"}"},Je.prototype.text=function(St){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.text)+this._sep()+this._val(St)+this._sep()+"}"},Je.prototype.instruction=function(St,ei){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.ins)+this._sep()+this._val(ei?St+" "+ei:St)+this._sep()+"}"},Je.prototype.cdata=function(St){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.cdata)+this._sep()+this._val(St)+this._sep()+"}"},Je.prototype.attribute=function(St,ei){return this._comma()+this._beginLine(1)+"{"+this._sep()+this._key(this._builderOptions.convert.att+St)+this._sep()+this._val(ei)+this._sep()+"}"},Je.prototype.openTagBegin=function(St){var ei=this._comma()+this._beginLine()+"{"+this._sep()+this._key(St)+this._sep()+"{";return this._additionalLevel++,this.hasData=!0,ei+=this._beginLine()+this._key(this._builderOptions.convert.text)+this._sep()+"[",this._hasChildren.push(!1),ei},Je.prototype.openTagEnd=function(St,ei,ti){if(ei){var ii=this._sep()+"]";return this._additionalLevel--,ii+=this._beginLine()+"}"+this._sep()+"}"}return""},Je.prototype.closeTag=function(St){var ei=this._beginLine()+"]";return this._additionalLevel--,ei+=this._beginLine()+"}"+this._sep()+"}"},Je.prototype.beginElement=function(St){},Je.prototype.endElement=function(St){this._hasChildren.pop()},Je.prototype._beginLine=function(St){return St===void 0&&(St=0),this._writerOptions.prettyPrint?(this.hasData?this._writerOptions.newline:"")+this._indent(this._writerOptions.offset+this.level+St):""},Je.prototype._indent=function(St){return St+this._additionalLevel<=0?"":this._writerOptions.indent.repeat(St+this._additionalLevel)},Je.prototype._comma=function(){var St=this._hasChildren[this._hasChildren.length-1]?",":"";return this._hasChildren.length>0&&(this._hasChildren[this._hasChildren.length-1]=!0),St},Je.prototype._sep=function(){return this._writerOptions.prettyPrint?" ":""},Je.prototype._key=function(St){return'"'+St+'":'},Je.prototype._val=function(St){return JSON.stringify(St)},Je}(Xe(114).BaseCBWriter);qe.JSONCBWriter=Ze},function(ze,qe,Xe){Xe(74);var Ye,Ke=this&&this.__extends||(Ye=function(Qe,Je){return(Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(St,ei){St.__proto__=ei}||function(St,ei){for(var ti in ei)ei.hasOwnProperty(ti)&&(St[ti]=ei[ti])})(Qe,Je)},function(Qe,Je){function St(){this.constructor=Qe}Ye(Qe,Je),Qe.prototype=Je===null?Object.create(Je):(St.prototype=Je.prototype,new St)});Object.defineProperty(qe,"__esModule",{value:!0});var Ze=function(Qe){function Je(St){var ei=Qe.call(this,St)||this;if(ei._rootWritten=!1,ei._additionalLevel=0,St.indent.length<2)throw new Error("YAML indententation string must be at least two characters long.");if(St.offset<0)throw new Error("YAML offset should be zero or a positive number.");return ei}return Ke(Je,Qe),Je.prototype.frontMatter=function(){return this._beginLine()+"---"},Je.prototype.declaration=function(St,ei,ti){return""},Je.prototype.docType=function(St,ei,ti){return""},Je.prototype.comment=function(St){return this._beginLine()+this._key(this._builderOptions.convert.comment)+" "+this._val(St)},Je.prototype.text=function(St){return this._beginLine()+this._key(this._builderOptions.convert.text)+" "+this._val(St)},Je.prototype.instruction=function(St,ei){return this._beginLine()+this._key(this._builderOptions.convert.ins)+" "+this._val(ei?St+" "+ei:St)},Je.prototype.cdata=function(St){return this._beginLine()+this._key(this._builderOptions.convert.cdata)+" "+this._val(St)},Je.prototype.attribute=function(St,ei){this._additionalLevel++;var ti=this._beginLine()+this._key(this._builderOptions.convert.att+St)+" "+this._val(ei);return this._additionalLevel--,ti},Je.prototype.openTagBegin=function(St){var ei=this._beginLine()+this._key(St);return this._rootWritten||(this._rootWritten=!0),this.hasData=!0,this._additionalLevel++,ei+=this._beginLine(!0)+this._key(this._builderOptions.convert.text)},Je.prototype.openTagEnd=function(St,ei,ti){return ei?" "+this._val(""):""},Je.prototype.closeTag=function(St){return this._additionalLevel--,""},Je.prototype.beginElement=function(St){},Je.prototype.endElement=function(St){},Je.prototype._beginLine=function(St){return St===void 0&&(St=!1),(this.hasData?this._writerOptions.newline:"")+this._indent(this._writerOptions.offset+this.level,St)},Je.prototype._indent=function(St,ei){if(St+this._additionalLevel<=0)return"";var ti=this._writerOptions.indent.repeat(St+this._additionalLevel);return!ei&&this._rootWritten?ti.substr(0,ti.length-2)+"-"+ti.substr(-1,1):ti},Je.prototype._key=function(St){return'"'+St+'":'},Je.prototype._val=function(St){return JSON.stringify(St)},Je}(Xe(114).BaseCBWriter);qe.YAMLCBWriter=Ze},function(ze,qe,Xe){var Ye,Ke=typeof Reflect=="object"?Reflect:null,Ze=Ke&&typeof Ke.apply=="function"?Ke.apply:function(ni,ci,hi){return Function.prototype.apply.call(ni,ci,hi)};Ye=Ke&&typeof Ke.ownKeys=="function"?Ke.ownKeys:Object.getOwnPropertySymbols?function(ni){return Object.getOwnPropertyNames(ni).concat(Object.getOwnPropertySymbols(ni))}:function(ni){return Object.getOwnPropertyNames(ni)};var Qe=Number.isNaN||function(ni){return ni!=ni};function Je(){Je.init.call(this)}ze.exports=Je,Je.EventEmitter=Je,Je.prototype._events=void 0,Je.prototype._eventsCount=0,Je.prototype._maxListeners=void 0;var St=10;function ei(ni){if(typeof ni!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof ni)}function ti(ni){return ni._maxListeners===void 0?Je.defaultMaxListeners:ni._maxListeners}function ii(ni,ci,hi,di){var fi,mi,pi,wi;if(ei(hi),(mi=ni._events)===void 0?(mi=ni._events=Object.create(null),ni._eventsCount=0):(mi.newListener!==void 0&&(ni.emit("newListener",ci,hi.listener?hi.listener:hi),mi=ni._events),pi=mi[ci]),pi===void 0)pi=mi[ci]=hi,++ni._eventsCount;else if(typeof pi=="function"?pi=mi[ci]=di?[hi,pi]:[pi,hi]:di?pi.unshift(hi):pi.push(hi),(fi=ti(ni))>0&&pi.length>fi&&!pi.warned){pi.warned=!0;var gi=new Error("Possible EventEmitter memory leak detected. "+pi.length+" "+String(ci)+" listeners added. Use emitter.setMaxListeners() to increase limit");gi.name="MaxListenersExceededWarning",gi.emitter=ni,gi.type=ci,gi.count=pi.length,wi=gi,console&&console.warn&&console.warn(wi)}return ni}function ri(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function si(ni,ci,hi){var di={fired:!1,wrapFn:void 0,target:ni,type:ci,listener:hi},fi=ri.bind(di);return fi.listener=hi,di.wrapFn=fi,fi}function ui(ni,ci,hi){var di=ni._events;if(di===void 0)return[];var fi=di[ci];return fi===void 0?[]:typeof fi=="function"?hi?[fi.listener||fi]:[fi]:hi?function(mi){for(var pi=new Array(mi.length),wi=0;wi<pi.length;++wi)pi[wi]=mi[wi].listener||mi[wi];return pi}(fi):oi(fi,fi.length)}function ai(ni){var ci=this._events;if(ci!==void 0){var hi=ci[ni];if(typeof hi=="function")return 1;if(hi!==void 0)return hi.length}return 0}function oi(ni,ci){for(var hi=new Array(ci),di=0;di<ci;++di)hi[di]=ni[di];return hi}Object.defineProperty(Je,"defaultMaxListeners",{enumerable:!0,get:function(){return St},set:function(ni){if(typeof ni!="number"||ni<0||Qe(ni))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+ni+".");St=ni}}),Je.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Je.prototype.setMaxListeners=function(ni){if(typeof ni!="number"||ni<0||Qe(ni))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+ni+".");return this._maxListeners=ni,this},Je.prototype.getMaxListeners=function(){return ti(this)},Je.prototype.emit=function(ni){for(var ci=[],hi=1;hi<arguments.length;hi++)ci.push(arguments[hi]);var di=ni==="error",fi=this._events;if(fi!==void 0)di=di&&fi.error===void 0;else if(!di)return!1;if(di){var mi;if(ci.length>0&&(mi=ci[0]),mi instanceof Error)throw mi;var pi=new Error("Unhandled error."+(mi?" ("+mi.message+")":""));throw pi.context=mi,pi}var wi=fi[ni];if(wi===void 0)return!1;if(typeof wi=="function")Ze(wi,this,ci);else{var gi=wi.length,yi=oi(wi,gi);for(hi=0;hi<gi;++hi)Ze(yi[hi],this,ci)}return!0},Je.prototype.addListener=function(ni,ci){return ii(this,ni,ci,!1)},Je.prototype.on=Je.prototype.addListener,Je.prototype.prependListener=function(ni,ci){return ii(this,ni,ci,!0)},Je.prototype.once=function(ni,ci){return ei(ci),this.on(ni,si(this,ni,ci)),this},Je.prototype.prependOnceListener=function(ni,ci){return ei(ci),this.prependListener(ni,si(this,ni,ci)),this},Je.prototype.removeListener=function(ni,ci){var hi,di,fi,mi,pi;if(ei(ci),(di=this._events)===void 0)return this;if((hi=di[ni])===void 0)return this;if(hi===ci||hi.listener===ci)--this._eventsCount==0?this._events=Object.create(null):(delete di[ni],di.removeListener&&this.emit("removeListener",ni,hi.listener||ci));else if(typeof hi!="function"){for(fi=-1,mi=hi.length-1;mi>=0;mi--)if(hi[mi]===ci||hi[mi].listener===ci){pi=hi[mi].listener,fi=mi;break}if(fi<0)return this;fi===0?hi.shift():function(wi,gi){for(;gi+1<wi.length;gi++)wi[gi]=wi[gi+1];wi.pop()}(hi,fi),hi.length===1&&(di[ni]=hi[0]),di.removeListener!==void 0&&this.emit("removeListener",ni,pi||ci)}return this},Je.prototype.off=Je.prototype.removeListener,Je.prototype.removeAllListeners=function(ni){var ci,hi,di;if((hi=this._events)===void 0)return this;if(hi.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):hi[ni]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete hi[ni]),this;if(arguments.length===0){var fi,mi=Object.keys(hi);for(di=0;di<mi.length;++di)(fi=mi[di])!=="removeListener"&&this.removeAllListeners(fi);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(ci=hi[ni])=="function")this.removeListener(ni,ci);else if(ci!==void 0)for(di=ci.length-1;di>=0;di--)this.removeListener(ni,ci[di]);return this},Je.prototype.listeners=function(ni){return ui(this,ni,!0)},Je.prototype.rawListeners=function(ni){return ui(this,ni,!1)},Je.listenerCount=function(ni,ci){return typeof ni.listenerCount=="function"?ni.listenerCount(ci):ai.call(ni,ci)},Je.prototype.listenerCount=ai,Je.prototype.eventNames=function(){return this._eventsCount>0?Ye(this._events):[]}},function(ze,qe,Xe){Object.defineProperty(qe,"__esModule",{value:!0});var Ye=Xe(77);qe.createCB=function(Ke){return new Ye.XMLBuilderCBImpl(Ke)},qe.fragmentCB=function(Ke){return new Ye.XMLBuilderCBImpl(Ke,!0)}}])})})(xmlbuilder2_min);var xmlbuilder2_minExports=xmlbuilder2_min.exports;const version="1.0",encoding="utf-8",log=Ve=>{};class XmlWriterBase{constructor(je){D$1(this,"_no",0),D$1(this,"w"),D$1(this,"_stream"),D$1(this,"_xml",""),D$1(this,"_disposed",!1),this._stream=je,this.w=xmlbuilder2_minExports.create({version,encoding})}close(){}flush(){}getXml(){return this._xml}writeAttributeString(je,ze){this._no++,log(`${this._no},writeAttributeString,${je},${ze}`),this.w.att(je,ze)}writeAttributeString2(je,ze,qe,Xe){this._no++,log(`${this._no},writeAttributeString,${je},${ze},${qe},${Xe}`),ze=je?`${je}:${ze}`:ze,this.w.att(qe,ze,Xe)}writeDocType(je,ze,qe,Xe){this._no++,log(`${this._no},writeDocType,${je},${ze},${qe}`),this.w.dtd({name:je,pubID:ze,sysID:qe})}writeElementString(je,ze){this._no++,log(`${this._no},writeElementString,${je},${ze}`),this.writeStartElement(je),this.writeString(ze)}writeEndDocument(){this._no++,log(`${this._no},writeEndDocument`),this._xml=this.w.end({prettyPrint:!0}),this._no=0}writeEndElement(){this._no++,log(`${this._no},writeEndElement`),this.w=this.w.up()}writeRaw(je){this._no++,log(`${this._no},writeRaw,${je}`),this.w.dat(je)}writeStartDocument(je){this._no++,log(`${this._no},writeStartDocument,${je}`),this.w.dec({version,encoding,standalone:je})}writeStartElement(je,ze){this._no++,log(`${this._no},writeStartElement,${je},${ze||""}`),ze?this.w=this.w.ele(ze,je):this.w=this.w.ele(je)}writeString(je){this._no++,log(`${this._no},writeString,${je}`),this.w.txt(je)}dispose(){this._disposed||(this._disposed=!0,this.close())}}class SvgWriter extends XmlWriterBase{constructor(je,ze,qe=!0){super(),D$1(this,"endIsWritten",!1),D$1(this,"clipPathNumber",1),D$1(this,"isDocument"),D$1(this,"numberFormat"),this.isDocument=qe,this.numberFormat=Xe=>round(Xe,4).toString(),this.writeHeader(je,ze)}close(){this.endIsWritten||this.complete()}complete(){this.writeEndElement(),this.isDocument&&this.writeEndDocument(),this.endIsWritten=!0}createStyle(je,ze,qe,Xe=[],Ye=LineJoin.Miter){let Ke="";if(je.isInvisible()?Ke+="fill:none;":(Ke+=`fill:${this.colorToString(je)};`,je.a!==255&&(Ke+=`fill-opacity:${je.a/255};`)),ze.isInvisible())Ke+="stroke:none;";else{const Ze=this.numberFormat(qe);switch(Ke+=`stroke:${this.colorToString(ze)};stroke-width:${Ze}`,Ye){case LineJoin.Round:Ke+=";stroke-linejoin:round";break;case LineJoin.Bevel:Ke+=";stroke-linejoin:bevel";break}if(ze.a!==255&&(Ke+=`;stroke-opacity:${ze.a/255}`),Xe&&Xe.length>0){Ke+=";stroke-dasharray:";for(let Qe=0;Qe<Xe.length;Qe++)Ke+=`${Qe>0?",":""}${Xe[Qe]}`}}return Ke}writeEllipse(je,ze,qe,Xe,Ye,Ke){this.writeStartElement("ellipse"),this.writeAttributeNumberString("cx",je+qe/2),this.writeAttributeNumberString("cy",ze+Xe/2),this.writeAttributeNumberString("rx",qe/2),this.writeAttributeNumberString("ry",Xe/2),this.writeAttributeString("style",Ye),this.writeEdgeRenderingModeAttribute(Ke),this.writeEndElement()}beginClip(je,ze,qe,Xe){const Ye="clipPath"+this.clipPathNumber++;this.writeStartElement("defs"),this.writeStartElement("clipPath"),this.writeAttributeString("id",Ye),this.writeStartElement("rect"),this.writeAttributeNumberString("x",je),this.writeAttributeNumberString("y",ze),this.writeAttributeNumberString("width",qe),this.writeAttributeNumberString("height",Xe),this.writeEndElement(),this.writeEndElement(),this.writeEndElement(),this.writeStartElement("g"),this.writeAttributeString("clip-path",`url(#${Ye})`)}endClip(){this.writeEndElement()}writeImage(je,ze,qe,Xe,Ye,Ke,Ze,Qe,Je,St){const ei=Ye-je/qe*Ze,ti=Je.width/qe*Ze,ii=Ke-ze/Xe*Qe,ri=Je.height/Xe*Qe;this.beginClip(Ye,Ke,Ze,Qe),this.writeImage2(ei,ii,ti,ri,Je,St),this.endClip()}writeImage2(je,ze,qe,Xe,Ye,Ke){this.writeStartElement("image"),this.writeAttributeNumberString("x",je),this.writeAttributeNumberString("y",ze),this.writeAttributeNumberString("width",qe),this.writeAttributeNumberString("height",Xe),this.writeAttributeString("preserveAspectRatio","none"),Ke||this.writeAttributeString("image-rendering","pixelated");const Ze="data:image/png;base64,"+arrayBufferToBase64(Ye.data);this.writeAttributeString("xlink:href",Ze),this.writeEndElement()}writeLine(je,ze,qe,Xe){this.writeStartElement("line"),this.writeAttributeNumberString("x1",je.x),this.writeAttributeNumberString("y1",je.y),this.writeAttributeNumberString("x2",ze.x),this.writeAttributeNumberString("y2",ze.y),this.writeAttributeString("style",qe),this.writeEdgeRenderingModeAttribute(Xe),this.writeEndElement()}writePolygon(je,ze,qe){this.writeStartElement("polygon"),this.writeAttributeString("points",this.pointsToString(je)),this.writeAttributeString("style",ze),this.writeEdgeRenderingModeAttribute(qe),this.writeEndElement()}writePolyline(je,ze,qe){this.writeStartElement("polyline"),this.writeAttributeString("points",this.pointsToString(je)),this.writeAttributeString("style",ze),this.writeEdgeRenderingModeAttribute(qe),this.writeEndElement()}writeRectangle(je,ze,qe,Xe,Ye,Ke){this.writeStartElement("rect"),this.writeAttributeNumberString("x",je),this.writeAttributeNumberString("y",ze),this.writeAttributeNumberString("width",qe),this.writeAttributeNumberString("height",Xe),this.writeAttributeString("style",Ye),this.writeEdgeRenderingModeAttribute(Ke),this.writeEndElement()}writeText(je,ze,qe,Xe=null,Ye=10,Ke=FontWeights.Normal,Ze=0,Qe=HorizontalAlignment.Left,Je=VerticalAlignment.Top){this.writeStartElement("text");let St="hanging";Je===VerticalAlignment.Middle&&(St="middle"),Je===VerticalAlignment.Bottom&&(St="baseline"),this.writeAttributeString("dominant-baseline",St);let ei="start";Qe===HorizontalAlignment.Center&&(ei="middle"),Qe===HorizontalAlignment.Right&&(ei="end"),this.writeAttributeString("text-anchor",ei);let ti=`translate(${je.x},${je.y})`;Math.abs(Ze)>0&&(ti+=` rotate(${Ze})`),this.writeAttributeString("transform",ti),Xe&&this.writeAttributeString("font-family",Xe),Ye>0&&this.writeAttributeNumberString("font-size",Ye),Ke>0&&this.writeAttributeNumberString("font-weight",Ke),qe.isInvisible()?this.writeAttributeString("fill","none"):(this.writeAttributeString("fill",this.colorToString(qe)),qe.a!==255&&this.writeAttributeNumberString("fill-opacity",qe.a/255)),this.writeString(ze),this.writeEndElement()}colorToString(je){return je.equals(OxyColors.Black)?"black":`rgb(${je.r},${je.g},${je.b})`}writeAttributeNumberString(je,ze){this.writeAttributeString(je,this.numberFormat(ze))}writeEdgeRenderingModeAttribute(je){let ze;switch(je){case EdgeRenderingMode.PreferSharpness:ze="crispEdges";break;case EdgeRenderingMode.PreferSpeed:ze="optimizeSpeed";break;case EdgeRenderingMode.PreferGeometricAccuracy:ze="geometricPrecision";break;default:return}this.writeAttributeString("shape-rendering",ze)}getAutoValue(je,ze){return isNaN(je)?ze:this.numberFormat(je)}pointsToString(je){let ze="";for(const qe of je)ze+=`${this.numberFormat(qe.x)},${this.numberFormat(qe.y)} `;return ze.trim()}writeHeader(je,ze){this.isDocument&&(this.writeStartDocument(!1),this.writeDocType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd")),this.writeStartElement("svg","http://www.w3.org/2000/svg"),this.writeAttributeString("width",this.getAutoValue(je,"100%")),this.writeAttributeString("height",this.getAutoValue(ze,"100%")),this.writeAttributeString("version","1.1"),this.writeAttributeString("xmlns:xlink","http://www.w3.org/1999/xlink")}}class SvgRenderContext extends ClippingRenderContext{constructor(je,ze,qe,Xe,Ye,Ke=!1){if(super(),D$1(this,"w"),D$1(this,"textMeasurer"),D$1(this,"useVerticalTextAlignmentWorkaround"),D$1(this,"disposed",!1),!Xe)throw new Error("A text measuring render context must be provided.");this.w=new SvgWriter(je,ze,qe),this.textMeasurer=Xe,this.useVerticalTextAlignmentWorkaround=Ke,Ye.isVisible()&&this.w.writeRectangle(0,0,je,ze,this.w.createStyle(Ye,OxyColors.Undefined,0),EdgeRenderingMode.Adaptive)}close(){this.w.close()}complete(){this.w.complete()}getXml(){return this.w.getXml()}async drawEllipse(je,ze,qe,Xe,Ye){this.w.writeEllipse(je.left,je.top,je.width,je.height,this.w.createStyle(ze,qe,Xe),Ye)}async drawLine(je,ze,qe,Xe,Ye,Ke){this.w.writePolyline(je,this.w.createStyle(OxyColors.Undefined,ze,qe,Ye,Ke),Xe)}async drawPolygon(je,ze,qe,Xe,Ye,Ke,Ze){this.w.writePolygon(je,this.w.createStyle(ze,qe,Xe,Ke,Ze),Ye)}async drawRectangle(je,ze,qe,Xe,Ye){this.w.writeRectangle(je.left,je.top,je.width,je.height,this.w.createStyle(ze,qe,Xe),Ye)}async drawText(je,ze,qe,Xe,Ye,Ke,Ze,Qe,Je,St){if(!ze)return;const ei=StringHelper.splitLines(ze),ti=this.measureText(ze,Xe,Ye,Ke).height/ei.length,ii=new ScreenVector(-Math.sin(Ze/180*Math.PI)*ti,+Math.cos(Ze/180*Math.PI)*ti);if(this.useVerticalTextAlignmentWorkaround){const ri=Je===VerticalAlignment.Bottom?1-ei.length:Je===VerticalAlignment.Top?1:1-ei.length/2;Je=VerticalAlignment.Bottom,je=je.plus(ii.times(ri));for(const si of ei)this.measureText(si,Xe,Ye,Ke),this.w.writeText(je,si,qe,Xe,Ye,Ke,Ze,Qe,Je),je=je.plus(ii)}else if(Je===VerticalAlignment.Bottom)for(let ri=ei.length-1;ri>=0;ri--){const si=ei[ri];this.measureText(si,Xe,Ye,Ke),this.w.writeText(je,si,qe,Xe,Ye,Ke,Ze,Qe,Je),je=je.minusVector(ii)}else for(const ri of ei)this.measureText(ri,Xe,Ye,Ke),this.w.writeText(je,ri,qe,Xe,Ye,Ke,Ze,Qe,Je),je=je.plus(ii)}flush(){this.w.flush()}measureText(je,ze,qe,Xe){return je===""?OxySize.Empty:this.textMeasurer.measureText(je,ze,qe,Xe)}async drawImage(je,ze,qe,Xe,Ye,Ke,Ze,Qe,Je,St,ei){this.w.writeImage(ze,qe,Xe,Ye,Ke,Ze,Qe,Je,je,ei)}dispose(je){this.disposed||je&&this.w.dispose(),this.disposed=!0}setClip(je){this.w.beginClip(je.left,je.top,je.width,je.height)}resetClip(){this.w.endClip()}}class FractionHelper{static convertToFractionString(je,ze=1,qe,Xe=1e-6,Ye){if(Math.abs(je)<Xe)return"0";je/=ze;for(let Ke=1;Ke<=64;Ke++){const Ze=je*Ke,Qe=Math.round(Ze);if(Math.abs(Ze-Qe)<Xe){const Je=!qe||Qe!=1?Qe.toString():"";return Ke==1?`${Je}${qe}`:`${Je}${qe}/${Ke}`}}return Ye?Ye(je)+(qe||""):`${je.toString()}${qe||""}`}}class StringHelper{static splitLines(je){return je.split(/\r?\n/)}}class PlotModelUtilities{static isReversible(je){if(je.axes.length===0&&je.series.length===0)return!1;for(const ze of je.axes){if(ze.position===AxisPosition.None)return!1;const qe=ze.__isReversible;if(qe!==void 0&&!qe)return!1}for(const ze of je.series){const qe=ze.constructor.name;if(!(ze instanceof XYAxisSeries)||this.NonReversibleSeriesTypes.has(qe))return!1}for(const ze of je.annotations){const qe=ze.constructor.name;if(this.NonReversibleDataSpaceAnnotationTypes.has(qe))return!1}return!0}static isTransposable(je){if(je.axes.length===0&&je.series.length===0)return!1;for(const ze of je.axes)if(ze.position===AxisPosition.None)return!1;for(const ze of je.series){const qe=ze.constructor.name;if(!isTransposablePlotElement(ze)||this.NonTransposableSeriesTypes.has(qe))return!1}for(const ze of je.annotations){const qe=ze.constructor.name;if(!isTransposablePlotElement(ze)||this.NonTransposableDataSpaceAnnotationTypes.has(qe))return!1}return!0}static reverseXAxis(je){je.title&&(je.title+=" (reversed X Axis)");let ze=!1;for(const qe of je.axes)qe.position===AxisPosition.Bottom&&(qe.startPosition=1-qe.startPosition,qe.endPosition=1-qe.endPosition,ze=!0);return ze||je.axes.push(new LinearAxis({position:AxisPosition.Bottom,startPosition:1,endPosition:0})),je}static reverseYAxis(je){je.title&&(je.title+=" (reversed Y Axis)");let ze=!1;for(const qe of je.axes)qe.position===AxisPosition.Left&&(qe.startPosition=1-qe.startPosition,qe.endPosition=1-qe.endPosition,ze=!0);return ze||je.axes.push(new LinearAxis({position:AxisPosition.Left,startPosition:1,endPosition:0})),je}static reverseAllAxes(je){je.title&&(je.title+=" (reversed all Axes)"),je.update(!1);for(const ze of je.axes)(ze.position===AxisPosition.Left||ze.position===AxisPosition.Bottom||ze.position===AxisPosition.Right||ze.position===AxisPosition.Top)&&(ze.startPosition=1-ze.startPosition,ze.endPosition=1-ze.endPosition);return je}static transpose(je){je.title&&(je.title+=" (transposed)"),je.update(!1);for(const ze of je.axes)switch(ze.position){case AxisPosition.Bottom:ze.position=AxisPosition.Left;break;case AxisPosition.Left:ze.position=AxisPosition.Bottom;break;case AxisPosition.Right:ze.position=AxisPosition.Top;break;case AxisPosition.Top:ze.position=AxisPosition.Right;break;case AxisPosition.None:break;default:throw new Error("Invalid axis position")}for(const ze of je.annotations)ze.xAxis&&!ze.xAxisKey&&(ze.xAxis.key||(ze.xAxis.key=this.XAXIS_KEY),ze.xAxisKey=ze.xAxis.key),ze.yAxis&&!ze.yAxisKey&&(ze.yAxis.key||(ze.yAxis.key=this.YAXIS_KEY),ze.yAxisKey=ze.yAxis.key);for(const ze of je.series)ze instanceof XYAxisSeries&&(ze.xAxisKey||(ze.xAxis?(ze.xAxis.key||(ze.xAxis.key=this.XAXIS_KEY),ze.xAxisKey=ze.xAxis.key):ze.xAxisKey=this.XAXIS_KEY),ze.yAxisKey||(ze.yAxis?(ze.yAxis.key||(ze.yAxis.key=this.YAXIS_KEY),ze.yAxisKey=ze.yAxis.key):ze.yAxisKey=this.YAXIS_KEY));return je}}D$1(PlotModelUtilities,"XAXIS_KEY","x"),D$1(PlotModelUtilities,"YAXIS_KEY","y"),D$1(PlotModelUtilities,"NonReversibleSeriesTypes",new Set),D$1(PlotModelUtilities,"NonReversibleDataSpaceAnnotationTypes",new Set([])),D$1(PlotModelUtilities,"NonTransposableSeriesTypes",new Set(["CandleStickAndVolumeSeries","OldCandleStickSeries"])),D$1(PlotModelUtilities,"NonTransposableDataSpaceAnnotationTypes",new Set);class ArrayBuilder{static createVector(je,ze,qe){if(qe.toFixed(0)!==qe.toString())throw new Error("use createVectorWithStep instead");const Xe=[];for(let Ye=0;Ye<qe;Ye++)Xe[Ye]=Number((je+(ze-je)*Ye/(qe-1)).toFixed(8));return Xe}static createVectorWithStep(je,ze,qe){const Xe=Math.round((ze-je)/qe),Ye=[];for(let Ke=0;Ke<=Xe;Ke++)Ye[Ke]=Number((je+Ke*qe).toFixed(8));return Ye}static evaluate(je,ze,qe){const Xe=ze.length,Ye=qe.length,Ke=[];for(let Ze=0;Ze<Xe;Ze++){Ke[Ze]=[];for(let Qe=0;Qe<Ye;Qe++)Ke[Ze][Qe]=je(ze[Ze],qe[Qe])}return Ke}static fill(je,ze){for(let qe=0;qe<je.length;qe++)je[qe]=ze}static fill2D(je,ze){for(let qe=0;qe<je.length;qe++)for(let Xe=0;Xe<je[qe].length;Xe++)je[qe][Xe]=ze}}class TrackerHelper{static getNearestHit(je,ze,qe,Xe,Ye,Ke){if(je){if(qe||Xe){const Ze=je.getNearestPoint(ze,!1);if(this.shouldTrackerOpen(Ze,ze,Ye))return Ze}if(!Xe){const Ze=je.getNearestPoint(ze,!0);if(!Ke||this.shouldTrackerOpen(Ze,ze,Ye))return Ze}}}static shouldTrackerOpen(je,ze,qe){return je!=null&&je.position?je.position.distanceTo(ze)<qe:!1}}class Conrec{static contour(je,ze,qe,Xe,Ye){let Ke=0,Ze=0,Qe=0,Je=0;const St=new Array(5),ei=new Array(5),ti=new Array(5),ii=new Array(5),ri=0,si=je.length-1,ui=0,ai=je[0].length-1,oi=Xe.length,ni=[0,1,1,0],ci=[0,0,1,1],hi=[[[0,0,8],[0,2,5],[7,6,9]],[[0,3,4],[1,3,1],[4,3,0]],[[9,6,7],[5,2,0],[8,0,0]]],di=(mi,pi)=>(St[pi]*ti[mi]-St[mi]*ti[pi])/(St[pi]-St[mi]),fi=(mi,pi)=>(St[pi]*ii[mi]-St[mi]*ii[pi])/(St[pi]-St[mi]);for(let mi=ai-1;mi>=ui;mi--)for(let pi=ri;pi<=si-1;pi++){const wi=Math.min(je[pi][mi],je[pi][mi+1]),gi=Math.min(je[pi+1][mi],je[pi+1][mi+1]),yi=Math.min(wi,gi),Ai=Math.max(je[pi][mi],je[pi][mi+1]),Si=Math.max(je[pi+1][mi],je[pi+1][mi+1]),ki=Math.max(Ai,Si);if(ki>=Xe[0]&&yi<=Xe[oi-1]){for(let Li=0;Li<oi;Li++)if(Xe[Li]>=yi&&Xe[Li]<=ki){for(let Bi=4;Bi>=0;Bi--)Bi>0?(St[Bi]=je[pi+ni[Bi-1]][mi+ci[Bi-1]]-Xe[Li],ti[Bi]=ze[pi+ni[Bi-1]],ii[Bi]=qe[mi+ci[Bi-1]]):(St[0]=.25*(St[1]+St[2]+St[3]+St[4]),ti[0]=.5*(ze[pi]+ze[pi+1]),ii[0]=.5*(qe[mi]+qe[mi+1])),St[Bi]>0?ei[Bi]=1:St[Bi]<0?ei[Bi]=-1:ei[Bi]=0;for(let Bi=1;Bi<=4;Bi++){const Pi=Bi,Ri=0,Fi=Bi!==4?Bi+1:1,Gi=hi[ei[Pi]+1][ei[Ri]+1][ei[Fi]+1];if(Gi!==0){switch(Gi){case 1:Ke=ti[Pi],Qe=ii[Pi],Ze=ti[Ri],Je=ii[Ri];break;case 2:Ke=ti[Ri],Qe=ii[Ri],Ze=ti[Fi],Je=ii[Fi];break;case 3:Ke=ti[Fi],Qe=ii[Fi],Ze=ti[Pi],Je=ii[Pi];break;case 4:Ke=ti[Pi],Qe=ii[Pi],Ze=di(Ri,Fi),Je=fi(Ri,Fi);break;case 5:Ke=ti[Ri],Qe=ii[Ri],Ze=di(Fi,Pi),Je=fi(Fi,Pi);break;case 6:Ke=ti[Fi],Qe=ii[Fi],Ze=di(Pi,Ri),Je=fi(Pi,Ri);break;case 7:Ke=di(Pi,Ri),Qe=fi(Pi,Ri),Ze=di(Ri,Fi),Je=fi(Ri,Fi);break;case 8:Ke=di(Ri,Fi),Qe=fi(Ri,Fi),Ze=di(Fi,Pi),Je=fi(Fi,Pi);break;case 9:Ke=di(Fi,Pi),Qe=fi(Fi,Pi),Ze=di(Pi,Ri),Je=fi(Pi,Ri);break}Ye(Ke,Qe,Ze,Je,Xe[Li])}}}}}}}var BinningOutlierMode=(Ve=>(Ve[Ve.RejectOutliers=0]="RejectOutliers",Ve[Ve.IgnoreOutliers=1]="IgnoreOutliers",Ve[Ve.CountOutliers=2]="CountOutliers",Ve))(BinningOutlierMode||{}),BinningIntervalType=(Ve=>(Ve[Ve.InclusiveLowerBound=0]="InclusiveLowerBound",Ve[Ve.InclusiveUpperBound=1]="InclusiveUpperBound",Ve))(BinningIntervalType||{}),BinningExtremeValueMode=(Ve=>(Ve[Ve.ExcludeExtremeValues=0]="ExcludeExtremeValues",Ve[Ve.IncludeExtremeValues=1]="IncludeExtremeValues",Ve))(BinningExtremeValueMode||{});class BinningOptions{constructor(je,ze,qe){if(this.outlierMode=je,this.intervalType=ze,this.extremeValuesMode=qe,je!==0&&je!==2&&je!==1)throw new Error("Unsupported binning outlier mode");if(ze!==0&&ze!==1)throw new Error("Unsupported bin interval type");if(qe!==0&&qe!==1)throw new Error("Unsupported bin interval type")}}class HistogramHelpers{static createUniformBins(je,ze,qe){if(qe<1)throw new Error("The bin count must be positive.");if(isNaN(je)||!isFinite(je))throw new Error("The start may not be NaN or infinite.");if(isNaN(ze)||!isFinite(ze))throw new Error("The start may not be NaN or infinite.");if(ze<=je)throw new Error("The end must be strictly greater than the start.");const Xe=[];Xe.push(je);for(let Ye=1;Ye<qe;Ye++)Xe.push(je+(ze-je)*Ye/qe);return Xe.push(ze),Xe}static collect(je,ze,qe){if(!je)throw new Error("Samples cannot be undefined.");if(!ze)throw new Error("Bin breaks cannot be undefined.");if(!qe)throw new Error("Binning options cannot be undefined.");const Xe=Array.from(new Set(ze)).sort((Je,St)=>Je-St);if(Xe.length<2)throw new Error("At least 2 distinct bin breaks must be provided.");if(Xe.some(Je=>isNaN(Je)||!isFinite(Je)))throw new Error("Bin breaks may not be NaN or infinite.");const Ye=new Array(Xe.length-1).fill(0);let Ke=0;function Ze(Je,St){return Je-St}for(const Je of je){if(isNaN(Je)||!isFinite(Je))throw new Error("Samples may not be NaN or infinite.");let St=HistogramHelpers.binarySearch(Xe,Je,Ze),ei=!1;if(St>=0?qe.intervalType===BinningIntervalType.InclusiveUpperBound?St>0?(Ye[St-1]+=1,ei=!0):qe.extremeValuesMode===BinningExtremeValueMode.IncludeExtremeValues&&(Ye[St]+=1,ei=!0):St<Ye.length?(Ye[St]+=1,ei=!0):qe.extremeValuesMode===BinningExtremeValueMode.IncludeExtremeValues&&(Ye[St-1]+=1,ei=!0):(St=~St-1,St>=0&&St<Ye.length&&(Ye[St]+=1,ei=!0)),ei)Ke++;else switch(qe.outlierMode){case BinningOutlierMode.RejectOutliers:throw new Error(`Sample with value ${Je} could not be assigned to any bin.`);case BinningOutlierMode.IgnoreOutliers:break;case BinningOutlierMode.CountOutliers:Ke++;break}}Ke===0&&(Ke=1);const Qe=[];for(let Je=0;Je<Xe.length-1;Je++){const St=Ye[Je];Qe.push(new HistogramItem(Xe[Je],Xe[Je+1],St/Ke,St))}return Qe}static binarySearch(je,ze,qe){let Xe=0,Ye=je.length-1;for(;Xe<=Ye;){const Ke=Ye+Xe>>1,Ze=qe(ze,je[Ke]);if(Ze>0)Xe=Ke+1;else if(Ze<0)Ye=Ke-1;else return Ke}return-Xe-1}}function createNormalDistributionModel(){const Ve=new PlotModel({title:"Normal distribution",subtitle:"Probability density function"});return Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-.05,maximum:1.05,majorStep:.2,minorStep:.05,tickStyle:TickStyle.Inside})),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-5.25,maximum:5.25,majorStep:1,minorStep:.25,tickStyle:TickStyle.Inside})),Ve.series.push(createNormalDistributionSeries(-5,5,0,.2)),Ve.series.push(createNormalDistributionSeries(-5,5,0,1)),Ve.series.push(createNormalDistributionSeries(-5,5,0,5)),Ve.series.push(createNormalDistributionSeries(-5,5,-2,.5)),Ve}const createNormalDistributionSeries=(Ve,je,ze,qe,Xe=1001)=>{const Ye=new LineSeries;Ye.title=`=${ze}, =${qe}`;for(let Ke=0;Ke<Xe;Ke++){const Ze=Ve+(je-Ve)*Ke/(Xe-1),Qe=1/Math.sqrt(2*Math.PI*qe)*Math.exp(-(Ze-ze)*(Ze-ze)/2/qe);Ye.points.push(new DataPoint(Ze,Qe))}return Ye};function lineLegendPositionAtEnd(){const Ve=new PlotModel({title:"Average (Mean) monthly temperatures in 2003",plotMargins:new OxyThickness(60,4,60,40),plotAreaBorderThickness:new OxyThickness(0),isLegendVisible:!1}),je=Je=>`${Je.title}: ${Number(Je.yValue).toFixed(1)}F`,ze=new LineSeries({title:"Phoenix",lineLegendPosition:LineLegendPosition.End,trackerStringFormatter:je}),qe=new LineSeries({title:"Raleigh",lineLegendPosition:LineLegendPosition.End,trackerStringFormatter:je}),Xe=new LineSeries({title:"Minneapolis",lineLegendPosition:LineLegendPosition.End,trackerStringFormatter:je}),Ye=[52.1,55.1,59.7,67.7,76.3,84.6,91.2,89.1,83.8,72.2,59.8,52.5],Ke=[40.5,42.2,49.2,59.5,67.4,74.4,77.5,76.5,70.6,60.2,50,41.2],Ze=[12.2,16.5,28.3,45.1,57.1,66.9,71.9,70.2,60,50,32.4,18.6];for(let Je=0;Je<12;Je++)ze.points.push(new DataPoint(Je,Ye[Je])),qe.points.push(new DataPoint(Je,Ke[Je])),Xe.points.push(new DataPoint(Je,Ze[Je]));Ve.series.push(ze),Ve.series.push(qe),Ve.series.push(Xe);const Qe=new CategoryAxis({axislineStyle:LineStyle.Solid});return Qe.labels.push("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"),Ve.axes.push(Qe),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Fahrenheit",axislineStyle:LineStyle.Solid})),Ve}const category$$="1 ShowCases",ShowCases$1={category:category$$,tags:["Showcase"],examples:[{title:"Normal distribution",example:{model:createNormalDistributionModel}},{title:"Average (Mean) monthly temperatures in 2003",example:{model:lineLegendPositionAtEnd}}]};function graph1(){const Ve=new PlotModel({title:"Q1 2003 Calls by Region",plotAreaBorderThickness:new OxyThickness(0)}),je=new CategoryAxis({axislineStyle:LineStyle.Solid,tickStyle:TickStyle.None,key:"y"});je.labels.push("North","East","South","West"),Ve.axes.push(je),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:6e3,majorStep:1e3,minorStep:1e3,axislineStyle:LineStyle.Solid,tickStyle:TickStyle.Outside,key:"x"}));const ze=new BarSeries({fillColor:OxyColors.Black,xAxisKey:"x",yAxisKey:"y"});return ze.items.push(new BarItem({value:3e3})),ze.items.push(new BarItem({value:4500})),ze.items.push(new BarItem({value:2100})),ze.items.push(new BarItem({value:4800})),Ve.series.push(ze),Ve}function graph2(){const Ve=new PlotModel({title:"2003 Sales",plotAreaBorderThickness:new OxyThickness(0),isLegendVisible:!1}),je=[1e3,1010,1020,1010,1020,1030,1e3,500,1e3,900,900,1e3],ze=[2250,2500,2750,2500,2750,3e3,2500,2750,3100,2800,3100,3500],qe=new CategoryAxis({axislineStyle:LineStyle.Solid,tickStyle:TickStyle.None});qe.labels.push("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov"),Ve.axes.push(qe),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:4e3,majorStep:500,minorStep:500,axislineStyle:LineStyle.Solid,tickStyle:TickStyle.Outside}));const Xe=new LineSeries({color:OxyColors.Orange});for(let Ke=0;Ke<12;Ke++)Xe.points.push(new DataPoint(Ke,je[Ke]));const Ye=new LineSeries({color:OxyColors.Gray});for(let Ke=0;Ke<12;Ke++)Ye.points.push(new DataPoint(Ke,ze[Ke]));return Ve.series.push(Xe),Ve.series.push(Ye),Ve}function graph3(){const Ve=new PlotModel({title:"Headcount",plotAreaBorderThickness:new OxyThickness(0),plotMargins:new OxyThickness(100,40,20,40)}),je=new Map([["Manufacturing",240],["Sales",160],["Engineering",50],["Operations",45],["Finance",40],["Info Systems",39],["Legal",25],["Marketing",10]]);return Ve.axes.push(new CategoryAxis({position:AxisPosition.Left,itemsSource:Array.from(je),labelField:"0",tickStyle:TickStyle.None,axisTickToLabelDistance:10,startPosition:1,endPosition:0})),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:0,maximum:250,majorStep:50,minorStep:50,axislineStyle:LineStyle.Solid,tickStyle:TickStyle.Outside,minimumPadding:0,maximumPadding:0})),Ve.series.push(new BarSeries({fillColor:OxyColors.Black,itemsSource:Array.from(je),valueField:"1"})),Ve}function graph4(){const Ve=new PlotModel({title:"Regional % of Total Expenses",plotAreaBorderThickness:new OxyThickness(0)}),je=new CategoryAxis({tickStyle:TickStyle.None,gapWidth:0,key:"y"});je.labels.push(`West
34%`,`East
30%`,`North
20%`,`South
16%`),Ve.axes.push(je),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:.35+Number.EPSILON,majorStep:.05,minorStep:.05,axislineStyle:LineStyle.Solid,tickStyle:TickStyle.Outside,stringFormatter:Xe=>`${Math.round(Xe*100)}%`,key:"x"}));const ze=new BarSeries({barWidth:1,strokeColor:OxyColors.DarkGray,strokeThickness:1,fillColor:OxyColors.Black,xAxisKey:"x",yAxisKey:"y"}),qe=[.34,.3,.2,.16];return ze.items=qe.map(Xe=>BarItem.fromValue(Xe)),Ve.series.push(ze),Ve}function graph5(){const Ve=new PlotModel({title:"Actual to Plan Variance",plotAreaBorderThickness:new OxyThickness(0)}),je=new Map([["Sales",7],["Marketing",-7],["Systems",-2],["HR",-17],["Finance",5]]);return Ve.axes.push(new CategoryAxis({itemsSource:Array.from(je),labelField:"0",tickStyle:TickStyle.None,key:"y"})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-20,maximum:10,minorStep:5,majorStep:5,layer:AxisLayer.AboveSeries,axislineStyle:LineStyle.Solid,extraGridlines:[0],extraGridlineColor:OxyColors.Black,extraGridlineThickness:3,tickStyle:TickStyle.Outside,stringFormatter:ze=>(ze>0?"+":ze<0?"-":"")+round(Math.abs(ze),0),key:"x"})),Ve.series.push(new BarSeries({fillColor:OxyColors.Orange,negativeFillColor:OxyColors.Gray,itemsSource:Array.from(je),valueField:"1",xAxisKey:"x",yAxisKey:"y"})),Ve}function graph6(){const Ve=new PlotModel({title:"Order Count by Order Size",plotAreaBorderThickness:new OxyThickness(0),plotMargins:new OxyThickness(60,4,4,60)}),je=new Map([[" <$10",5e3],[`>=$10
    &
 <$20`,1500],[`>=$20
    &
 <$30`,1e3],[`>=$40
    &
 <$40`,500],[">=$40",200]]);return Ve.axes.push(new CategoryAxis({axislineStyle:LineStyle.Solid,itemsSource:Array.from(je),labelField:"0",tickStyle:TickStyle.None,key:"y"})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:6e3,majorStep:1e3,minorStep:1e3,axislineStyle:LineStyle.Solid,tickStyle:TickStyle.Outside,stringFormatter:ze=>(ze>0?"+":ze<0?"-":"")+round(Math.abs(ze),0),key:"x"})),Ve.series.push(new BarSeries({fillColor:OxyColors.Orange,itemsSource:Array.from(je),valueField:"1",xAxisKey:"x",yAxisKey:"y"})),Ve}function graph7(){const Ve=new PlotModel({title:"Correlation of Employee Heights and Salaries",plotAreaBorderThickness:new OxyThickness(0)}),je=[new DataPoint(62,39e3),new DataPoint(66,44e3),new DataPoint(64,5e4),new DataPoint(66,49500),new DataPoint(67,52e3),new DataPoint(68,5e4),new DataPoint(66,56e3),new DataPoint(67,56e3),new DataPoint(72,56e3),new DataPoint(68,58e3),new DataPoint(69,62e3),new DataPoint(71,63e3),new DataPoint(65,64e3),new DataPoint(68,71e3),new DataPoint(72,72e3),new DataPoint(74,69e3),new DataPoint(74,79e3),new DataPoint(77,81e3)];return Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:3e4,maximum:9e4,majorStep:1e4,minorStep:1e4,axislineStyle:LineStyle.Solid,tickStyle:TickStyle.Outside})),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:60,maximum:80,majorStep:5,minorStep:5,axislineStyle:LineStyle.Solid,tickStyle:TickStyle.Outside})),Ve.series.push(new ScatterSeries({itemsSource:je,markerType:MarkerType.Circle,markerSize:3,markerFill:OxyColors.White,markerStroke:OxyColors.Black,dataFieldX:"x",dataFieldY:"y"})),Ve}const category$_="Examples from the book 'Show Me the Numbers'",ShowMeTheNumbersExamples={category:category$_,tags:["Showcase"],examples:[{title:"Q1 2003 Calls by Region",example:{model:graph1}},{title:"2003 Sales",example:{model:graph2}},{title:"Headcount",example:{model:graph3}},{title:"Regional % of Total Expenses",example:{model:graph4}},{title:"Actual to Plan Variance",example:{model:graph5}},{title:"Order Count by Order Size",example:{model:graph6}},{title:"Correlation of Employee Heights and Salaries",example:{model:graph7}}]},ShowCases=[ShowCases$1,ShowMeTheNumbersExamples];function toolTips$1(){const Ve=new PlotModel({title:"Tool tips"});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left})),Ve.annotations.push(new LineAnnotation({slope:.1,intercept:1,text:"LineAnnotation",toolTip:"This is a tool tip for the LineAnnotation"})),Ve.annotations.push(new RectangleAnnotation({minimumX:20,maximumX:70,minimumY:10,maximumY:40,textRotation:10,text:"RectangleAnnotation",toolTip:"This is a tooltip for the RectangleAnnotation",fill:OxyColor.fromAColor(99,OxyColors.Blue),stroke:OxyColors.Black,strokeThickness:2})),Ve.annotations.push(new EllipseAnnotation({x:20,y:60,width:20,height:15,text:"EllipseAnnotation",toolTip:"This is a tool tip for the EllipseAnnotation",textRotation:10,fill:OxyColor.fromAColor(99,OxyColors.Green),stroke:OxyColors.Black,strokeThickness:2})),Ve.annotations.push(new PointAnnotation({x:50,y:50,text:"P1",toolTip:"This is a tool tip for the PointAnnotation"})),Ve.annotations.push(new ArrowAnnotation({startPoint:new DataPoint(8,4),endPoint:new DataPoint(0,0),color:OxyColors.Green,text:"ArrowAnnotation",toolTip:"This is a tool tip for the ArrowAnnotation"})),Ve.annotations.push(new TextAnnotation({textPosition:new DataPoint(60,60),text:"TextAnnotation",toolTip:"This is a tool tip for the TextAnnotation"})),Ve}const category$Z="Annotations",AnnotationExamples={category:category$Z,tags:["Annotations"],examples:[{title:"Tool tips",example:{model:toolTips$1}}]};function arrowAnnotation$1(){const Ve=new PlotModel;return Ve.title="ArrowAnnotations",Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-40,maximum:60})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10})),Ve.annotations.push(new ArrowAnnotation({startPoint:new DataPoint(8,4),endPoint:new DataPoint(0,0),color:OxyColors.Green,text:"StartPoint and EndPoint"})),Ve.annotations.push(new ArrowAnnotation({arrowDirection:new ScreenVector(30,70),endPoint:new DataPoint(40,-3),color:OxyColors.Blue,text:"ArrowDirection and EndPoint"})),Ve.annotations.push(new ArrowAnnotation({arrowDirection:new ScreenVector(30,-70),endPoint:new DataPoint(10,-3),headLength:14,headWidth:6,veeness:4,color:OxyColors.Red,text:"HeadLength = 20, HeadWidth = 10, Veeness = 4"})),Ve}const category$Y="ArrowAnnotation",ArrowAnnotationExamples={category:category$Y,tags:["Annotations"],examples:[{title:"ArrowAnnotation",example:{model:arrowAnnotation$1}}]};function ellipseAnnotation(){const Ve=new PlotModel({title:"EllipseAnnotation"});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left})),Ve.annotations.push(new EllipseAnnotation({x:20,y:60,width:20,height:15,text:"EllipseAnnotation",textRotation:10,fill:OxyColor.fromAColor(99,OxyColors.Green),stroke:OxyColors.Black,strokeThickness:2})),Ve.annotations.push(new EllipseAnnotation({x:20,y:20,width:20,height:20,fill:OxyColor.fromAColor(99,OxyColors.Green),stroke:OxyColors.Black,strokeThickness:2})),Ve.annotations.push(new EllipseAnnotation({x:30,y:20,width:20,height:20,fill:OxyColor.fromAColor(99,OxyColors.Red),stroke:OxyColors.Black,strokeThickness:2})),Ve.annotations.push(new EllipseAnnotation({x:25,y:30,width:20,height:20,fill:OxyColor.fromAColor(99,OxyColors.Blue),stroke:OxyColors.Black,strokeThickness:2})),Ve}const category$X="EllipseAnnotation",EllipseAnnotationExamples={category:category$X,tags:["Annotations"],examples:[{title:"EllipseAnnotation",example:{model:ellipseAnnotation}}]};function annotation(){const Ve=new PlotModel;return Ve.title="FunctionAnnotation",Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:80})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10})),Ve.annotations.push(new FunctionAnnotation({equation:Math.sin,strokeThickness:2,color:OxyColor.fromAColor(120,OxyColors.Blue),text:"f(x)=sin(x)"})),Ve.annotations.push(new FunctionAnnotation({equation:je=>je*je,strokeThickness:2,color:OxyColor.fromAColor(120,OxyColors.Red),type:FunctionAnnotationType.EquationY,text:"f(y)=y^2"})),Ve}const category$W="FunctionAnnotation",FunctionAnnotationExamples={category:category$W,tags:["Annotations"],examples:[{title:"FunctionAnnotation",example:{model:annotation}}]};async function imageAnnotation$1(){const Ve=window.oxyPlotImg;if(!Ve)throw new Error("window.oxyPlotImg not set");const je=new PlotModel({title:"ImageAnnotation",plotMargins:new OxyThickness(60,4,4,60)});je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left}));const qe=await getImageService().load(Ve);je.annotations.push(new ImageAnnotation({imageSource:qe,opacity:.2,interpolate:!1,x:new PlotLength(.5,PlotLengthUnit.RelativeToPlotArea),y:new PlotLength(.5,PlotLengthUnit.RelativeToPlotArea),width:new PlotLength(1,PlotLengthUnit.RelativeToPlotArea),horizontalAlignment:HorizontalAlignment.Center,verticalAlignment:VerticalAlignment.Middle})),je.annotations.push(new ImageAnnotation({imageSource:qe,x:new PlotLength(1,PlotLengthUnit.RelativeToPlotArea),y:new PlotLength(0,PlotLengthUnit.RelativeToPlotArea),width:new PlotLength(120,PlotLengthUnit.ScreenUnits),horizontalAlignment:HorizontalAlignment.Right,verticalAlignment:VerticalAlignment.Top})),je.annotations.push(new ImageAnnotation({imageSource:qe,x:new PlotLength(0,PlotLengthUnit.RelativeToPlotArea),y:new PlotLength(0,PlotLengthUnit.RelativeToPlotArea),offsetY:new PlotLength(-5,PlotLengthUnit.ScreenUnits),height:new PlotLength(20,PlotLengthUnit.ScreenUnits),horizontalAlignment:HorizontalAlignment.Left,verticalAlignment:VerticalAlignment.Bottom})),je.annotations.push(new ImageAnnotation({imageSource:qe,x:new PlotLength(50,PlotLengthUnit.Data),y:new PlotLength(50,PlotLengthUnit.Data),width:new PlotLength(200,PlotLengthUnit.ScreenUnits),horizontalAlignment:HorizontalAlignment.Left,verticalAlignment:VerticalAlignment.Top})),je.annotations.push(new ImageAnnotation({imageSource:qe,x:new PlotLength(50,PlotLengthUnit.Data),y:new PlotLength(20,PlotLengthUnit.Data),width:new PlotLength(50,PlotLengthUnit.Data),horizontalAlignment:HorizontalAlignment.Center,verticalAlignment:VerticalAlignment.Top})),je.annotations.push(new ImageAnnotation({imageSource:qe,x:new PlotLength(.5,PlotLengthUnit.RelativeToViewport),y:new PlotLength(1,PlotLengthUnit.RelativeToViewport),offsetY:new PlotLength(-35,PlotLengthUnit.ScreenUnits),height:new PlotLength(30,PlotLengthUnit.ScreenUnits),horizontalAlignment:HorizontalAlignment.Center,verticalAlignment:VerticalAlignment.Top}));for(let Xe=0;Xe<10;Xe++)je.annotations.push(new ImageAnnotation({imageSource:qe,opacity:(Xe+1)/10,x:new PlotLength(10,PlotLengthUnit.Data),y:new PlotLength(Xe*2,PlotLengthUnit.Data),width:new PlotLength(100,PlotLengthUnit.ScreenUnits),horizontalAlignment:HorizontalAlignment.Center,verticalAlignment:VerticalAlignment.Bottom}));return je}async function imageAnnotationAsBackgroundGradient(){const Ve=new PlotModel({title:"Using ImageAnnotations to draw a gradient backgrounds",subtitle:"But do you really want this? This is called 'chartjunk'!",plotMargins:new OxyThickness(60,4,4,60)});Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left}));const je=256,ze=new TwoDimensionalArray(1,je);for(let Ke=0;Ke<je;Ke++)ze.set(0,Ke,OxyColor.interpolate(OxyColors.Blue,OxyColors.Red,Ke/(je-1)));const qe=await OxyImage.create(ze,ImageFormat.Png),Xe=TwoDimensionalArray.fromArray([[OxyColors.Yellow],[OxyColors.Gray]]),Ye=await OxyImage.create(Xe,ImageFormat.Png);return Ve.annotations.push(new ImageAnnotation({imageSource:Ye,interpolate:!0,layer:AnnotationLayer.BelowAxes,x:new PlotLength(0,PlotLengthUnit.RelativeToViewport),y:new PlotLength(0,PlotLengthUnit.RelativeToViewport),width:new PlotLength(1,PlotLengthUnit.RelativeToViewport),height:new PlotLength(1,PlotLengthUnit.RelativeToViewport),horizontalAlignment:HorizontalAlignment.Left,verticalAlignment:VerticalAlignment.Top})),Ve.annotations.push(new ImageAnnotation({imageSource:qe,interpolate:!0,layer:AnnotationLayer.BelowAxes,x:new PlotLength(0,PlotLengthUnit.RelativeToPlotArea),y:new PlotLength(0,PlotLengthUnit.RelativeToPlotArea),width:new PlotLength(1,PlotLengthUnit.RelativeToPlotArea),height:new PlotLength(1,PlotLengthUnit.RelativeToPlotArea),horizontalAlignment:HorizontalAlignment.Left,verticalAlignment:VerticalAlignment.Top})),Ve.series.push(new FunctionSeries({f:Math.sin,x0:0,x1:7,dx:.01})),Ve}const fourColorPixels=TwoDimensionalArray.fromArray([[OxyColors.Blue,OxyColors.Yellow],[OxyColors.Green,OxyColors.Red]]);async function imageAnnotation_NormalAxes(){const Ve=new PlotModel({title:"ImageAnnotation - normal axes"});Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left}));const je=fourColorPixels,ze=await OxyImage.create(je,ImageFormat.Png);return Ve.annotations.push(new ImageAnnotation({imageSource:ze,interpolate:!1,x:new PlotLength(0,PlotLengthUnit.Data),y:new PlotLength(0,PlotLengthUnit.Data),width:new PlotLength(80,PlotLengthUnit.Data),height:new PlotLength(50,PlotLengthUnit.Data),horizontalAlignment:HorizontalAlignment.Left,verticalAlignment:VerticalAlignment.Bottom})),Ve}async function imageAnnotation_ReverseHorizontalAxis(){const Ve=new PlotModel({title:"ImageAnnotation - reverse horizontal axis"});Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,startPosition:1,endPosition:0})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left}));const je=fourColorPixels,ze=await OxyImage.create(je,ImageFormat.Png);return Ve.annotations.push(new ImageAnnotation({imageSource:ze,interpolate:!1,x:new PlotLength(100,PlotLengthUnit.Data),y:new PlotLength(0,PlotLengthUnit.Data),width:new PlotLength(80,PlotLengthUnit.Data),height:new PlotLength(50,PlotLengthUnit.Data),horizontalAlignment:HorizontalAlignment.Left,verticalAlignment:VerticalAlignment.Bottom})),Ve}async function imageAnnotation_ReverseVerticalAxis(){const Ve=new PlotModel({title:"ImageAnnotation - reverse vertical axis"});Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,startPosition:1,endPosition:0}));const je=fourColorPixels,ze=await OxyImage.create(je,ImageFormat.Png);return Ve.annotations.push(new ImageAnnotation({imageSource:ze,interpolate:!1,x:new PlotLength(0,PlotLengthUnit.Data),y:new PlotLength(100,PlotLengthUnit.Data),width:new PlotLength(80,PlotLengthUnit.Data),height:new PlotLength(50,PlotLengthUnit.Data),horizontalAlignment:HorizontalAlignment.Left,verticalAlignment:VerticalAlignment.Bottom})),Ve}const category$V="ImageAnnotation",ImageAnnotationExamples={category:category$V,tags:["Annotations"],examples:[{title:"ImageAnnotation",example:{model:imageAnnotation$1}},{title:"ImageAnnotation - gradient backgrounds",example:{model:imageAnnotationAsBackgroundGradient}},{title:"ImageAnnotation - normal axes",example:{model:imageAnnotation_NormalAxes}},{title:"ImageAnnotation - reverse horizontal axis",example:{model:imageAnnotation_ReverseHorizontalAxis}},{title:"ImageAnnotation - reverse vertical axis",example:{model:imageAnnotation_ReverseVerticalAxis}}]};function lineAnnotationOnLinearAxes(){const Ve=new PlotModel;Ve.title="LineAnnotation on linear axes",Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:80})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10}));const je=OxyColorExtensions.changeOpacity(OxyColors.White,.75);return Ve.annotations.push(new LineAnnotation({slope:.1,intercept:1,text:"First",borderBackground:je,borderPadding:new OxyThickness(5)})),Ve.annotations.push(new LineAnnotation({slope:.3,intercept:2,maximumX:40,color:OxyColors.Red,text:"Second",borderBackground:je,borderPadding:new OxyThickness(5)})),Ve.annotations.push(new LineAnnotation({type:LineAnnotationType.Vertical,x:4,maximumY:10,color:OxyColors.Green,text:"Vertical",borderBackground:je,borderPadding:new OxyThickness(5)})),Ve.annotations.push(new LineAnnotation({type:LineAnnotationType.Horizontal,y:2,maximumX:4,color:OxyColors.Gold,text:"Horizontal",borderBackground:je,borderPadding:new OxyThickness(5)})),Ve}function lineAnnotationOnLogarithmicAxes(){const Ve=new PlotModel;return Ve.title="LineAnnotation on logarithmic axes",Ve.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom,minimum:1,maximum:80})),Ve.axes.push(new LogarithmicAxis({position:AxisPosition.Left,minimum:1,maximum:10})),Ve.annotations.push(new LineAnnotation({slope:.1,intercept:1,text:"First",textMargin:40})),Ve.annotations.push(new LineAnnotation({slope:.3,intercept:2,maximumX:40,color:OxyColors.Red,text:"Second"})),Ve.annotations.push(new LineAnnotation({type:LineAnnotationType.Vertical,x:4,maximumY:10,color:OxyColors.Green,text:"Vertical"})),Ve.annotations.push(new LineAnnotation({type:LineAnnotationType.Horizontal,y:2,maximumX:4,color:OxyColors.Gold,text:"Horizontal"})),Ve}function lineAnnotationOnLinearAxesWithTextOrientation(){const Ve=new PlotModel;return Ve.title="LineAnnotations",Ve.subtitle="with TextOrientation specified",Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:80})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10})),Ve.annotations.push(new LineAnnotation({slope:.1,intercept:1,text:"Horizontal",textOrientation:AnnotationTextOrientation.Horizontal,textVerticalAlignment:VerticalAlignment.Bottom})),Ve.annotations.push(new LineAnnotation({slope:.3,intercept:2,maximumX:40,color:OxyColors.Red,text:"Vertical",textOrientation:AnnotationTextOrientation.Vertical})),Ve.annotations.push(new LineAnnotation({type:LineAnnotationType.Vertical,x:4,maximumY:10,color:OxyColors.Green,text:"Horizontal (x=4)",textPadding:8,textOrientation:AnnotationTextOrientation.Horizontal})),Ve.annotations.push(new LineAnnotation({type:LineAnnotationType.Vertical,x:45,maximumY:10,color:OxyColors.Green,text:"Horizontal (x=45)",textHorizontalAlignment:HorizontalAlignment.Left,textPadding:8,textOrientation:AnnotationTextOrientation.Horizontal})),Ve.annotations.push(new LineAnnotation({type:LineAnnotationType.Horizontal,y:2,maximumX:4,color:OxyColors.Gold,text:"Horizontal",textLinePosition:.5,textOrientation:AnnotationTextOrientation.Horizontal})),Ve}function linearAxesMultipleAxes(){const Ve=new PlotModel;return Ve.title="ClipByAxis property",Ve.subtitle="This property specifies if the annotation should be clipped by the current axes or by the full plot area.",Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:80,startPosition:0,endPosition:.45,textColor:OxyColors.Red})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10,startPosition:0,endPosition:.45,textColor:OxyColors.Green})),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:80,startPosition:.55,endPosition:1,textColor:OxyColors.Blue})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10,startPosition:.55,endPosition:1,textColor:OxyColors.Orange})),Ve.annotations.push(new LineAnnotation({clipByYAxis:!0,type:LineAnnotationType.Vertical,x:0,color:OxyColors.Green,text:"Vertical, ClipByAxis = true"})),Ve.annotations.push(new LineAnnotation({clipByYAxis:!1,type:LineAnnotationType.Vertical,x:20,color:OxyColors.Green,text:"Vertical, ClipByAxis = false"})),Ve.annotations.push(new LineAnnotation({clipByXAxis:!0,type:LineAnnotationType.Horizontal,y:2,color:OxyColors.Gold,text:"Horizontal, ClipByAxis = true"})),Ve.annotations.push(new LineAnnotation({clipByXAxis:!1,type:LineAnnotationType.Horizontal,y:8,color:OxyColors.Gold,text:"Horizontal, ClipByAxis = false"})),Ve}function reversedAxes(){const Ve=new PlotModel;return Ve.title="LineAnnotation on reversed axes",Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:80,startPosition:1,endPosition:0})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10,startPosition:1,endPosition:0})),Ve.annotations.push(new LineAnnotation({slope:.1,intercept:1,text:"First",textHorizontalAlignment:HorizontalAlignment.Left})),Ve.annotations.push(new LineAnnotation({slope:.3,intercept:2,maximumX:40,color:OxyColors.Red,text:"Second",textHorizontalAlignment:HorizontalAlignment.Left,textVerticalAlignment:VerticalAlignment.Bottom})),Ve.annotations.push(new LineAnnotation({type:LineAnnotationType.Vertical,x:4,maximumY:10,color:OxyColors.Green,text:"Vertical",textHorizontalAlignment:HorizontalAlignment.Right})),Ve.annotations.push(new LineAnnotation({type:LineAnnotationType.Horizontal,y:2,maximumX:4,color:OxyColors.Gold,text:"Horizontal",textHorizontalAlignment:HorizontalAlignment.Left})),Ve}const category$U="LineAnnotation",LineAnnotationExamples={category:category$U,tags:["Annotations"],examples:[{title:"LineAnnotation on linear axes",example:{model:lineAnnotationOnLinearAxes}},{title:"LineAnnotation on logarithmic axes",example:{model:lineAnnotationOnLogarithmicAxes}},{title:"LineAnnotation with text orientation specified",example:{model:lineAnnotationOnLinearAxesWithTextOrientation}},{title:"LineAnnotation - ClipByAxis property",example:{model:linearAxesMultipleAxes}},{title:"LineAnnotation on reversed axes",example:{model:reversedAxes}}]};function pointAnnotation(){const Ve=new PlotModel({title:"PointAnnotation"});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left})),Ve.annotations.push(new PointAnnotation({x:50,y:50,text:"P1"})),Ve}function pointAnnotationShapes(){const Ve=new PlotModel({title:"PointAnnotation - shapes"});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,maximum:120})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left})),Ve.annotations.push(new PointAnnotation({x:20,y:60,text:"Circle",shape:MarkerType.Circle,fill:OxyColors.LightGray,stroke:OxyColors.DarkGray,strokeThickness:1})),Ve.annotations.push(new PointAnnotation({x:40,y:60,text:"Square",shape:MarkerType.Square,fill:OxyColors.LightBlue,stroke:OxyColors.DarkBlue,strokeThickness:1})),Ve.annotations.push(new PointAnnotation({x:60,y:60,text:"Triangle",shape:MarkerType.Triangle,fill:OxyColors.IndianRed,stroke:OxyColors.Black,strokeThickness:1})),Ve.annotations.push(new PointAnnotation({x:80,y:60,text:"Diamond",shape:MarkerType.Diamond,fill:OxyColors.ForestGreen,stroke:OxyColors.Black,strokeThickness:1})),Ve.annotations.push(new PointAnnotation({x:100,y:60,text:"Custom",shape:MarkerType.Custom,customOutline:[new ScreenPoint(-1,-1),new ScreenPoint(1,1),new ScreenPoint(-1,1),new ScreenPoint(1,-1)],stroke:OxyColors.Black,fill:OxyColors.CadetBlue,strokeThickness:1})),Ve.annotations.push(new PointAnnotation({x:20,y:40,text:"Cross",shape:MarkerType.Cross,stroke:OxyColors.IndianRed,strokeThickness:1})),Ve.annotations.push(new PointAnnotation({x:40,y:40,text:"Plus",shape:MarkerType.Plus,stroke:OxyColors.Navy,strokeThickness:1})),Ve.annotations.push(new PointAnnotation({x:60,y:40,text:"Star",shape:MarkerType.Star,stroke:OxyColors.DarkOliveGreen,strokeThickness:1})),Ve}function pointAnnotationTextAlignment(){const Ve=new PlotModel({title:"PointAnnotation - text alignments"});Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-50,maximum:50})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-50,maximum:50}));for(let je=-1;je<=1;je++){const ze=je,qe=getEnumName(HorizontalAlignment,ze);for(let Xe=-1;Xe<=1;Xe++){const Ye=Xe,Ke=getEnumName(VerticalAlignment,Ye);Ve.annotations.push(new PointAnnotation({x:je*20,y:Xe*20,size:10,text:`${qe},${Ke}`,textHorizontalAlignment:ze,textVerticalAlignment:Ye}))}}return Ve}const category$T="PointAnnotation",PointAnnotationExamples={category:category$T,tags:["Annotations"],examples:[{title:"PointAnnotation",example:{model:pointAnnotation}},{title:"PointAnnotation - shapes",example:{model:pointAnnotationShapes}},{title:"PointAnnotation - text alignments",example:{model:pointAnnotationTextAlignment}}]};function polygonAnnotation$1(){const Ve=new PlotModel({title:"PolygonAnnotation"});Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:20})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10}));const je=new PolygonAnnotation({text:"Polygon 1"});return je.points.push(new DataPoint(4,-2),new DataPoint(8,-4),new DataPoint(17,7),new DataPoint(5,8),new DataPoint(2,5)),Ve.annotations.push(je),Ve}function polygonAnnotationTextPosition(){const Ve=new PlotModel({title:"PolygonAnnotation with fixed text position and alignment"});Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:20})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10}));const je=new PolygonAnnotation({text:"Polygon 1",textHorizontalAlignment:HorizontalAlignment.Left,textVerticalAlignment:VerticalAlignment.Bottom,textPosition:new DataPoint(4.1,-1.9)});return je.points.push(new DataPoint(4,-2),new DataPoint(8,-2),new DataPoint(17,7),new DataPoint(5,8),new DataPoint(4,5)),Ve.annotations.push(je),Ve}function annotationLayerProperty(){const Ve=new PlotModel({title:"Annotation Layers"});Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:30,majorGridlineStyle:LineStyle.Solid,majorGridlineThickness:1})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10,majorGridlineStyle:LineStyle.Solid,majorGridlineThickness:1}));const je=new PolygonAnnotation({layer:AnnotationLayer.BelowAxes,text:"Layer = BelowAxes",points:[new DataPoint(-11,-2),new DataPoint(-7,-4),new DataPoint(-3,7),new DataPoint(-10,8),new DataPoint(-13,5)]});Ve.annotations.push(je);const ze=new PolygonAnnotation({layer:AnnotationLayer.BelowSeries,text:"Layer = BelowSeries",points:[new DataPoint(4,-2),new DataPoint(8,-4),new DataPoint(12,7),new DataPoint(5,8),new DataPoint(2,5)]});Ve.annotations.push(ze);const qe=new PolygonAnnotation({layer:AnnotationLayer.AboveSeries,text:"Layer = AboveSeries",points:[new DataPoint(19,-2),new DataPoint(23,-4),new DataPoint(27,7),new DataPoint(20,8),new DataPoint(17,5)]});return Ve.annotations.push(qe),Ve.series.push(new FunctionSeries({f:Math.sin,x0:-20,x1:30,n:400})),Ve}function kockSnowflakes(){function Ve(Ke){return[new DataPoint(Ke.x,Ke.y+1),new DataPoint(Ke.x+Math.sin(Math.PI*2/3),Ke.y+Math.cos(Math.PI*2/3)),new DataPoint(Ke.x+Math.sin(Math.PI*4/3),Ke.y+Math.cos(Math.PI*4/3))]}const je=new PlotModel({title:"PolygonAnnotation",plotType:PlotType.Cartesian});je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-4,maximum:4})),je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-2,maximum:2}));const ze=new PolygonAnnotation({text:"MSL = 4",minimumSegmentLength:4});let qe=kochFractal(Ve(new DataPoint(-2,0)),8,!0,!0);pushMany(ze.points,qe),je.annotations.push(ze);const Xe=new PolygonAnnotation({text:"MSL = 2",minimumSegmentLength:2});qe=kochFractal(Ve(new DataPoint(0,0)),8,!0,!0),pushMany(Xe.points,qe),je.annotations.push(Xe);const Ye=new PolygonAnnotation({text:"MSL = 1",minimumSegmentLength:1});return qe=kochFractal(Ve(new DataPoint(2,0)),8,!0,!0),pushMany(Ye.points,qe),je.annotations.push(Ye),je}function kochFractal(Ve,je,ze,qe){const Xe=Math.cos(Math.PI/3),Ye=Math.sin(Math.PI/3);let Ke=Ve;for(let Ze=0;Ze<je;Ze++){const Qe=new Array(qe?Ke.length*4:Ke.length*4-3);for(let Je=0;Je<(qe?Ke.length:Ke.length-1);Je++){const St=Ke[Je],ei=Ke[(Je+1)%Ke.length],ti=(ei.x-St.x)/3,ii=(ei.y-St.y)/3;let ri,si;ri=Xe*ti-Ye*ii,si=Xe*ii+Ye*ti,Qe[Je*4]=St,Qe[Je*4+1]=new DataPoint(St.x+ti,St.y+ii),Qe[Je*4+2]=new DataPoint(St.x+ti+ri,St.y+ii+si),Qe[Je*4+3]=new DataPoint(St.x+ti*2,St.y+ii*2)}qe||(Qe[Qe.length-1]=Ke[Ke.length-1]),Ke=Qe}return Ke}const PolygonAnnotationExamples={kochFractal},category$S="PolygonAnnotation",PolygonAnnotationExamples$1={category:category$S,tags:["Annotations"],examples:[{title:"PolygonAnnotation",example:{model:polygonAnnotation$1}},{title:"PolygonAnnotation with custom text position and alignment",example:{model:polygonAnnotationTextPosition}},{title:"AnnotationLayer property",example:{model:annotationLayerProperty}},{title:"Koch Snowflakes",example:{model:kockSnowflakes}}]};function polylineAnnotations(){const Ve=new PlotModel({title:"PolylineAnnotation"});Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:0,maximum:30})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:30}));const je=new PolylineAnnotation({text:"Polyline"});je.points.push(new DataPoint(0,10),new DataPoint(5,5),new DataPoint(20,1),new DataPoint(30,20));const ze=new PolylineAnnotation({text:"Smooth Polyline",interpolationAlgorithm:InterpolationAlgorithms.CanonicalSpline});return ze.points.push(new DataPoint(0,15),new DataPoint(3,23),new DataPoint(9,30),new DataPoint(20,12),new DataPoint(30,10)),Ve.annotations.push(je,ze),Ve}function kochSurface(){function Ve(Ye){return[new DataPoint(Ye.x-1,Ye.y),new DataPoint(Ye.x+1,Ye.y)]}const je=new PlotModel({title:"PolygonAnnotation",plotType:PlotType.Cartesian});je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-2,maximum:2})),je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-2,maximum:2}));const ze=new PolylineAnnotation({text:"MSL = 4",minimumSegmentLength:4,lineStyle:LineStyle.Solid,textPosition:new DataPoint(0,1)});ze.points.push(...PolygonAnnotationExamples.kochFractal(Ve(new DataPoint(0,1)),8,!0,!1)),je.annotations.push(ze);const qe=new PolylineAnnotation({text:"MSL = 2",minimumSegmentLength:2,lineStyle:LineStyle.Solid,textPosition:new DataPoint(0,0)});qe.points.push(...PolygonAnnotationExamples.kochFractal(Ve(new DataPoint(0,0)),8,!0,!1)),je.annotations.push(qe);const Xe=new PolylineAnnotation({text:"MSL = 1",minimumSegmentLength:1,lineStyle:LineStyle.Solid,textPosition:new DataPoint(0,-1)});return Xe.points.push(...PolygonAnnotationExamples.kochFractal(Ve(new DataPoint(0,-1)),8,!0,!1)),je.annotations.push(Xe),je}const category$R="PolylineAnnotation",PolylineAnnotationExamples={category:category$R,tags:["Annotations"],examples:[{title:"PolylineAnnotation",example:{model:polylineAnnotations}},{title:"Koch Surfaces",example:{model:kochSurface}}]};function rectangleAnnotation(){const Ve=new PlotModel({title:"RectangleAnnotation"});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left})),Ve.annotations.push(new RectangleAnnotation({minimumX:20,maximumX:70,minimumY:10,maximumY:40,textRotation:10,text:"RectangleAnnotation",fill:OxyColor.fromAColor(99,OxyColors.Blue),stroke:OxyColors.Black,strokeThickness:2})),Ve}function rectangleAnnotationVerticalLimit(){const Ve=new PlotModel({title:"RectangleAnnotations - vertical limit"});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left})),Ve.annotations.push(new RectangleAnnotation({maximumY:89.5,text:"Valid area",fill:OxyColor.fromAColor(99,OxyColors.Black)})),Ve}function rectangleAnnotationHorizontals(){const Ve=new PlotModel({title:"RectangleAnnotation - horizontal bands"});Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:0,maximum:10})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:87,maximum:97,majorStep:1,minorStep:1})),Ve.annotations.push(new RectangleAnnotation({minimumY:89.5,maximumY:90.8,text:"Invalid",fill:OxyColor.fromAColor(99,OxyColors.Red)})),Ve.annotations.push(new RectangleAnnotation({minimumY:90.8,maximumY:92.1,fill:OxyColor.fromAColor(99,OxyColors.Orange)})),Ve.annotations.push(new RectangleAnnotation({minimumY:92.1,maximumY:94.6,fill:OxyColor.fromAColor(99,OxyColors.Yellow)})),Ve.annotations.push(new RectangleAnnotation({minimumY:94.6,maximumY:96,text:"Ok",fill:OxyColor.fromAColor(99,OxyColors.Green)}));const je=new LineSeries({color:OxyColors.Black,strokeThickness:6,lineJoin:LineJoin.Round});return je.points.push(new DataPoint(.5,90.7)),je.points.push(new DataPoint(1.5,91.2)),je.points.push(new DataPoint(2.5,91)),je.points.push(new DataPoint(3.5,89.5)),je.points.push(new DataPoint(4.5,92.5)),je.points.push(new DataPoint(5.5,93.1)),je.points.push(new DataPoint(6.5,94.5)),je.points.push(new DataPoint(7.5,95.5)),je.points.push(new DataPoint(8.5,95.7)),je.points.push(new DataPoint(9.5,96)),Ve.series.push(je),Ve}function rectangleAnnotationVerticals(){const Ve=new PlotModel({title:"RectangleAnnotation - vertical bands"});Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:0,maximum:10})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:87,maximum:97,majorStep:1,minorStep:1})),Ve.annotations.push(new RectangleAnnotation({minimumX:2.5,maximumX:2.8,textRotation:90,text:"Red",fill:OxyColor.fromAColor(99,OxyColors.Red)})),Ve.annotations.push(new RectangleAnnotation({minimumX:2.8,maximumX:6.1,textRotation:90,text:"Orange",fill:OxyColor.fromAColor(99,OxyColors.Orange)})),Ve.annotations.push(new RectangleAnnotation({minimumX:6.1,maximumX:7.6,textRotation:90,text:"Yellow",fill:OxyColor.fromAColor(99,OxyColors.Yellow)})),Ve.annotations.push(new RectangleAnnotation({minimumX:7.6,maximumX:9.7,textRotation:270,text:"Green",fill:OxyColor.fromAColor(99,OxyColors.Green)}));const je=new LineSeries({color:OxyColors.Black,strokeThickness:6,lineJoin:LineJoin.Round});return je.points.push(new DataPoint(.5,90.7)),je.points.push(new DataPoint(1.5,91.2)),je.points.push(new DataPoint(2.5,91)),je.points.push(new DataPoint(3.5,89.5)),je.points.push(new DataPoint(4.5,92.5)),je.points.push(new DataPoint(5.5,93.1)),je.points.push(new DataPoint(6.5,94.5)),je.points.push(new DataPoint(7.5,95.5)),je.points.push(new DataPoint(8.5,95.7)),je.points.push(new DataPoint(9.5,96)),Ve.series.push(je),Ve}const category$Q="RectangleAnnotation",RectangleAnnotationExamples={category:category$Q,tags:["Annotations"],examples:[{title:"RectangleAnnotation",example:{model:rectangleAnnotation}},{title:"RectangleAnnotations - vertical limit",example:{model:rectangleAnnotationVerticalLimit}},{title:"RectangleAnnotation - horizontal bands",example:{model:rectangleAnnotationHorizontals}},{title:"RectangleAnnotation - vertical bands",example:{model:rectangleAnnotationVerticals}}]};function textAnnotations(){const Ve=new PlotModel({title:"TextAnnotation"});Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-15,maximum:25})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-5,maximum:18})),Ve.annotations.push(new TextAnnotation({textPosition:new DataPoint(-6,0),text:"Text annotation 1"})),Ve.annotations.push(new TextAnnotation({textPosition:new DataPoint(-7,10),textRotation:80,text:"Text annotation 2"})),Ve.annotations.push(new TextAnnotation({textPosition:new DataPoint(2,2),textRotation:20,textHorizontalAlignment:HorizontalAlignment.Right,textVerticalAlignment:VerticalAlignment.Top,text:"Right/Top"})),Ve.annotations.push(new TextAnnotation({textPosition:new DataPoint(2,4),textRotation:20,textHorizontalAlignment:HorizontalAlignment.Right,textVerticalAlignment:VerticalAlignment.Middle,text:"Right/Middle"})),Ve.annotations.push(new TextAnnotation({textPosition:new DataPoint(2,6),textRotation:20,textHorizontalAlignment:HorizontalAlignment.Right,textVerticalAlignment:VerticalAlignment.Bottom,text:"Right/Bottom"})),Ve.annotations.push(new TextAnnotation({textPosition:new DataPoint(10,2),textRotation:20,textHorizontalAlignment:HorizontalAlignment.Center,textVerticalAlignment:VerticalAlignment.Top,text:"Center/Top"})),Ve.annotations.push(new TextAnnotation({textPosition:new DataPoint(10,4),textRotation:20,textHorizontalAlignment:HorizontalAlignment.Center,textVerticalAlignment:VerticalAlignment.Middle,text:"Center/Middle"})),Ve.annotations.push(new TextAnnotation({textPosition:new DataPoint(10,6),textRotation:20,textHorizontalAlignment:HorizontalAlignment.Center,textVerticalAlignment:VerticalAlignment.Bottom,text:"Center/Bottom"})),Ve.annotations.push(new TextAnnotation({textPosition:new DataPoint(18,2),textRotation:20,textHorizontalAlignment:HorizontalAlignment.Left,textVerticalAlignment:VerticalAlignment.Top,text:"Left/Top"})),Ve.annotations.push(new TextAnnotation({textPosition:new DataPoint(18,4),textRotation:20,textHorizontalAlignment:HorizontalAlignment.Left,textVerticalAlignment:VerticalAlignment.Middle,text:"Left/Middle"})),Ve.annotations.push(new TextAnnotation({textPosition:new DataPoint(18,6),textRotation:20,textHorizontalAlignment:HorizontalAlignment.Left,textVerticalAlignment:VerticalAlignment.Bottom,text:"Left/Bottom"}));const je=.05,ze=(qe,Xe)=>{const Ye=new PolygonAnnotation({layer:AnnotationLayer.BelowAxes,points:[new DataPoint(qe-je,Xe-je),new DataPoint(qe+je,Xe-je),new DataPoint(qe+je,Xe+je),new DataPoint(qe-je,Xe+je),new DataPoint(qe-je,Xe-je)]});Ve.annotations.push(Ye)};for(const qe of[...Ve.annotations]){const Xe=qe;Xe&&ze(Xe.textPosition.x,Xe.textPosition.y)}return Ve}function rotations(){const Ve=new PlotModel({title:"TextAnnotation Rotations"});Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-5,maximum:45})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,startPosition:1,endPosition:0,minimum:-1,maximum:8}));for(let je=0;je<360;je+=5)Ve.annotations.push(new TextAnnotation({textRotation:je,textPosition:new DataPoint(je%45,je/45),text:`${je}`,textVerticalAlignment:VerticalAlignment.Middle,textHorizontalAlignment:HorizontalAlignment.Center}));return Ve}const category$P="TextAnnotation",TextAnnotationExamples={category:category$P,tags:["Annotations"],examples:[{title:"TextAnnotation",example:{model:textAnnotations}},{title:"Rotations",example:{model:rotations}}]},Annotations=[AnnotationExamples,ArrowAnnotationExamples,EllipseAnnotationExamples,FunctionAnnotationExamples,ImageAnnotationExamples,LineAnnotationExamples,PointAnnotationExamples,PolygonAnnotationExamples$1,PolylineAnnotationExamples,RectangleAnnotationExamples,TextAnnotationExamples];class ErrorItem{constructor(je,ze,qe,Xe){Yn(this,"x");Yn(this,"y");Yn(this,"xError");Yn(this,"yError");this.x=je||0,this.y=ze||0,this.xError=qe||0,this.yError=Xe||0}}class ErrorSeries extends XYAxisSeries{constructor(){super();Yn(this,"points",[]);Yn(this,"color");Yn(this,"strokeThickness");this.color=OxyColors.Black,this.strokeThickness=1}get pointsList(){return this.points}async render(ze){const qe=this.points;if(qe.length===0)return;this.verifyAxes();const Xe=qe.length,Ye=[];for(let Ke=0;Ke<Xe;Ke++){const Ze=this.xAxis.transformPoint(qe[Ke].x,qe[Ke].y,this.yAxis),Qe=qe[Ke],Je=Qe?Qe.xError*this.xAxis.scale:0,St=Qe?Qe.yError*Math.abs(this.yAxis.scale):0,ei=4;if(Je>0){const ti=new ScreenPoint(Ze.x-Je*.5,Ze.y),ii=new ScreenPoint(Ze.x+Je*.5,Ze.y);Ye.push(ti,ii,new ScreenPoint(ti.x,ti.y-ei),new ScreenPoint(ti.x,ti.y+ei),new ScreenPoint(ii.x,ii.y-ei),new ScreenPoint(ii.x,ii.y+ei))}if(St>0){const ti=new ScreenPoint(Ze.x,Ze.y-St*.5),ii=new ScreenPoint(Ze.x,Ze.y+St*.5);Ye.push(ti,ii,new ScreenPoint(ti.x-ei,ti.y),new ScreenPoint(ti.x+ei,ti.y),new ScreenPoint(ii.x-ei,ii.y),new ScreenPoint(ii.x+ei,ii.y))}}for(let Ke=0;Ke+1<Ye.length;Ke+=2)await RenderingExtensions.drawReducedLine(ze,[Ye[Ke],Ye[Ke+1]],0,this.getSelectableColor(this.color),this.strokeThickness,this.edgeRenderingMode,void 0,LineJoin.Bevel)}async renderLegend(ze,qe){const Xe=(qe.left+qe.right)/2,Ye=(qe.top+qe.bottom)/2,Ke=[new ScreenPoint(qe.left,Ye),new ScreenPoint(qe.right,Ye),new ScreenPoint(qe.left,Ye-2),new ScreenPoint(qe.left,Ye+3),new ScreenPoint(qe.right,Ye-2),new ScreenPoint(qe.right,Ye+3),new ScreenPoint(Xe,qe.top),new ScreenPoint(Xe,qe.bottom),new ScreenPoint(Xe-2,qe.top),new ScreenPoint(Xe+3,qe.top),new ScreenPoint(Xe-2,qe.bottom),new ScreenPoint(Xe+3,qe.bottom)];await ze.drawLineSegments(Ke,this.getSelectableColor(this.color),this.strokeThickness,this.edgeRenderingMode,void 0,LineJoin.Miter)}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMin3(this.points,ze=>ze.x-ze.xError,ze=>ze.x+ze.xError,ze=>ze.y-ze.yError,ze=>ze.y+ze.yError)}}class FlagSeries extends ItemsSeries{constructor(){super();Yn(this,"symbolPosition",0);Yn(this,"symbolSize",OxySize.Empty);Yn(this,"color");Yn(this,"maximumX",0);Yn(this,"minimumX",0);Yn(this,"symbol");Yn(this,"_values",[]);Yn(this,"xAxis");Yn(this,"xAxisKey");this.color=OxyColors.Black,this.fontSize=10,this.symbol="",this.font="Wingdings 2",this.trackerStringFormatter=ze=>`${ze.title}: ${ze.item}`}get values(){return this._values}getNearestPoint(ze,qe){if(this.xAxis)for(const Xe of this.values){if(isNaN(Xe)||Xe<this.xAxis.actualMinimum||Xe>this.xAxis.actualMaximum)continue;const Ye=this.xAxis.transform(Xe);if(new OxyRect(Ye-this.symbolSize.width/2,this.symbolPosition-this.symbolSize.height,this.symbolSize.width,this.symbolSize.height).containsPoint(ze)){const Ze=this.trackerStringFormatter({item:Xe,title:this.title});return new TrackerHitResult({series:this,dataPoint:new DataPoint(Xe,NaN),position:new ScreenPoint(Ye,this.symbolPosition-this.symbolSize.height),text:Ze})}}}async render(ze){if(this.xAxis){this.symbolPosition=this.plotModel.plotArea.bottom,this.symbolSize=ze.measureText(this.symbol,this.actualFont,this.actualFontSize,this.actualFontWeight);for(const qe of this.values){if(isNaN(qe)||qe<this.xAxis.clipMinimum||qe>this.xAxis.clipMaximum)continue;const Xe=this.xAxis.transform(qe);await ze.drawText(new ScreenPoint(Xe,this.symbolPosition),this.symbol,this.color,this.actualFont,this.actualFontSize,this.actualFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Bottom)}}}async renderLegend(ze,qe){await ze.drawText(qe.center,this.symbol,this.color,this.actualFont,this.actualFontSize,this.actualFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Middle)}areAxesRequired(){return!0}ensureAxes(){this.xAxis=this.xAxisKey!==void 0?this.plotModel.getAxis(this.xAxisKey):this.plotModel.defaultXAxis}isUsing(ze){return ze===this.xAxis}setDefaultValues(){}updateAxisMaxMin(){this.xAxis.include(this.minimumX),this.xAxis.include(this.maximumX)}updateData(){}updateMaxMin(){this.minimumX=minValueOfArray(this.values),this.maximumX=maxValueOfArray(this.values)}}class LineSegmentSeries extends LineSeries{constructor(){super();Yn(this,"showVerticals");Yn(this,"epsilon");this.showVerticals=!0,this.epsilon=1e-8}async render(ze){if(this.points.length===0)return;if(this.points.length%2!==0)throw new Error("The number of points should be even.");if(!this.xAxis||!this.yAxis)throw new Error("Axis has not been defined.");const qe=this.points.map(Ye=>this.transform(Ye)),Xe=[];for(let Ye=0;Ye<qe.length;Ye+=2)qe[Ye].distanceToSquared(qe[Ye+1])<this.strokeThickness&&(qe[Ye]=new ScreenPoint(qe[Ye].x-this.strokeThickness*.5,qe[Ye].y),qe[Ye+1]=new ScreenPoint(qe[Ye].x+this.strokeThickness*.5,qe[Ye].y)),this.showVerticals&&Ye>0&&Math.abs(qe[Ye-1].x-qe[Ye].x)<this.epsilon&&(Xe.push(qe[Ye-1]),Xe.push(qe[Ye]));if(this.strokeThickness>0){if(this.lineStyle!==LineStyle.None){const Ye=LineStyleHelper.getDashArray(this.lineStyle);await ze.drawLineSegments(qe,this.actualColor,this.strokeThickness,this.edgeRenderingMode,Ye,this.lineJoin)}await ze.drawLineSegments(Xe,this.actualColor,this.strokeThickness/3,this.edgeRenderingMode,LineStyleHelper.getDashArray(LineStyle.Dash),this.lineJoin)}await RenderingExtensions.drawMarkers(ze,qe,this.markerType,void 0,[this.markerSize],this.markerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)}getNearestPoint(ze,qe){const Xe=this.points;if(!Xe)return;let Ye,Ke,Ze=-1,Qe=Number.MAX_VALUE;for(let Je=0;Je+1<Xe.length;Je+=2){const St=Xe[Je],ei=Xe[Je+1];if(!this.isValidPoint(St)||!this.isValidPoint(ei))continue;const ti=this.transform(St),ii=this.transform(ei),ri=ScreenPointHelper.findPointOnLine(ze,ti,ii);if(ScreenPoint.isUndefined(ri))continue;const si=ze.distanceToSquared(ri);if(si<Qe){const ui=ri.distanceTo(ti)/ii.distanceTo(ti);Ke=new DataPoint(St.x+ui*(ei.x-St.x),St.y+ui*(ei.y-St.y)),Ye=ri,Qe=si,Ze=Je+ui}}if(Qe<Number.MAX_VALUE){const Je=this.getItem(Math.floor(Ze));return new TrackerHitResult({series:this,dataPoint:Ke,position:Ye,item:Je,index:Ze,text:`${this.title||""}
x: ${Je.x}
y: ${Je.y}`})}}}class MatrixSeries extends XYAxisSeries{constructor(ze){super(ze);Yn(this,"image");Yn(this,"_matrix");Yn(this,"gridInterval");Yn(this,"showDiagonal");Yn(this,"minimumGridLineDistance");Yn(this,"gridColor");Yn(this,"borderColor");Yn(this,"notZeroColor");Yn(this,"zeroTolerance");this.gridInterval=1,this.showDiagonal=!1,this.minimumGridLineDistance=4,this.gridColor=OxyColors.LightGray,this.borderColor=OxyColors.Gray,this.notZeroColor=OxyColors.Black,this.zeroTolerance=0,this.trackerStringFormatter=qe=>`${qe.title||""}
[${qe.xValue},${qe.yValue}] = ${qe.item}`,ze&&Object.assign(this,removeUndef(ze))}get matrix(){return this._matrix}set matrix(ze){this._matrix=ze,this.image=void 0}get matrixValue(){return this.matrix}set matrixValue(ze){this.image=void 0,this.matrix=ze}async render(ze){if(!this.matrixValue)return;const qe=PlotElementExtensions.transform,Xe=this.matrixValue.length,Ye=this.matrixValue[0].length,Ke=qe(this,0,0),Ze=qe(this,Ye,Xe);if(!this.image){const ii=new TwoDimensionalArray(Ye,Xe);for(let ri=0;ri<Xe;ri++)for(let si=0;si<Ye;si++){const ui=Math.abs(this.matrixValue[ri][si])<=this.zeroTolerance?OxyColors.Transparent:this.notZeroColor;ii.set(si,ri,ui)}this.image=await OxyImage.create(ii,ImageFormat.Png)}const Qe=Math.min(Ke.x,Ze.x),Je=Math.min(Ke.y,Ze.y),St=Math.abs(Ke.x-Ze.x),ei=Math.abs(Ke.y-Ze.y);await RenderingExtensions.drawImage(ze,this.image,Qe,Je,St,ei,1,!1);const ti=[];if(this.gridInterval>0){const ii=qe(this,this.gridInterval,this.gridInterval);if(Math.abs(ii.y-Ke.y)>this.minimumGridLineDistance)for(let ri=1;ri<Ye;ri+=this.gridInterval)ti.push(qe(this,0,ri)),ti.push(qe(this,Ye,ri));if(Math.abs(ii.x-Ke.x)>this.minimumGridLineDistance)for(let ri=1;ri<Xe;ri+=this.gridInterval)ti.push(qe(this,ri,0)),ti.push(qe(this,ri,Xe))}if(this.showDiagonal&&(ti.push(qe(this,0,0)),ti.push(qe(this,Ye,Xe))),await ze.drawLineSegments(ti,this.gridColor,1,this.edgeRenderingMode,void 0,LineJoin.Miter),this.borderColor.isVisible()){const ii=[qe(this,0,0),qe(this,Xe,0),qe(this,0,Ye),qe(this,Xe,Ye),qe(this,0,0),qe(this,0,Ye),qe(this,Xe,0),qe(this,Xe,Ye)];await ze.drawLineSegments(ii,this.borderColor,1,this.edgeRenderingMode,void 0,LineJoin.Miter)}}getNearestPoint(ze,qe){if(!this.matrix)return;const Xe=this.inverseTransform(ze),Ye=Math.floor(Xe.y),Ke=Math.floor(Xe.x);if(Ye>=0&&Ye<this.matrix.length&&Ke>=0&&Ke<this.matrix[0].length){const Ze=this.matrix[Ye][Ke];return new TrackerHitResult({series:this,dataPoint:Xe,position:ze,item:null,index:-1,text:this.trackerStringFormatter({item:Ze,title:this.title,xValue:Ke,yValue:Ye})})}}updateMaxMin(){super.updateMaxMin(),this.matrix&&(this.minX=0,this.maxX=this.matrix[0].length,this.minY=0,this.maxY=this.matrix.length)}}class PolarHeatMapSeries extends XYAxisSeries{constructor(ze){super(ze);Yn(this,"image");Yn(this,"pixels");Yn(this,"imageSize",0);Yn(this,"angle0",0);Yn(this,"angle1",0);Yn(this,"magnitude0",0);Yn(this,"magnitude1",0);Yn(this,"data");Yn(this,"interpolate");Yn(this,"minValue",0);Yn(this,"maxValue",0);Yn(this,"colorAxis");Yn(this,"colorAxisKey");this.interpolate=!0,ze&&Object.assign(this,removeUndef(ze))}async render(ze){if(!this.data){this.image=void 0;return}this.imageSize>0?await this.renderFixed(ze,this.plotModel):await this.renderDynamic(ze,this.plotModel)}async renderDynamic(ze,qe){if(!this.data)return;const Xe=this.data.length,Ye=this.data[0].length,Ke=qe.plotArea,Ze=Math.floor(Ke.width),Qe=Math.floor(Ke.height);if(Ze===0||Qe===0)return;(!this.pixels||this.pixels.height!==Qe||this.pixels.width!==Ze)&&(this.pixels=new TwoDimensionalArray(Ze,Qe));const Je=this.pixels,St=ColorAxisExtensions.getColor;for(let ei=0;ei<Qe;ei++)for(let ti=0;ti<Ze;ti++){const ii=new ScreenPoint(Ke.left+ti,Ke.top+ei),ri=this.inverseTransform(ii);let si,ui;if(this.plotModel.plotType!==PlotType.Polar)si=Math.atan2(ri.y,ri.x)/Math.PI*180,ui=Math.sqrt(ri.x*ri.x+ri.y*ri.y);else{for(si=ri.y/Math.PI*180,ui=ri.x;si<0;)si+=360;for(;si>360;)si-=360}const ai=(si-this.angle0)/(this.angle1-this.angle0)*Xe,oi=(ui-this.magnitude0)/(this.magnitude1-this.magnitude0)*Ye;if(ai>=0&&ai<Xe&&oi>=0&&oi<Ye){const ni=this.getValue(ai,oi),ci=OxyColor.fromAColor(160,St(this.colorAxis,ni));Je.set(ti,ei,ci)}else Je.set(ti,ei,OxyColors.Transparent)}this.image=await OxyImage.create(Je,ImageFormat.Png),await RenderingExtensions.drawImage(ze,this.image,Ke.left,Ke.top,Ke.width,Ke.height,1,!1)}async renderFixed(ze,qe){if(!this.data)return;if(!this.image){const Ke=this.data.length,Ze=this.data[0].length,Qe=this.imageSize,Je=this.imageSize;(this.pixels===void 0||this.pixels.height!==Je||this.pixels.width!==Qe)&&(this.pixels=new TwoDimensionalArray(Qe,Je));const St=ColorAxisExtensions.getColor,ei=this.pixels;for(let ti=0;ti<Je;ti++)for(let ii=0;ii<Qe;ii++){const ri=(ii-Qe*.5)/(Qe*.5)*this.magnitude1,si=-(ti-Je*.5)/(Je*.5)*this.magnitude1;let ui=Math.atan2(si,ri)/Math.PI*180;const ai=Math.sqrt(ri*ri+si*si);for(;ui<0;)ui+=360;for(;ui>360;)ui-=360;const oi=(ui-this.angle0)/(this.angle1-this.angle0)*Ke,ni=(ai-this.magnitude0)/(this.magnitude1-this.magnitude0)*Ze;if(oi>=0&&oi<Ke&&ni>=0&&ni<Ze){const ci=this.getValue(oi,ni),hi=OxyColor.fromAColor(160,St(this.colorAxis,ci));ei.set(ii,ti,hi)}else ei.set(ii,ti,OxyColors.Transparent)}this.image=await OxyImage.create(ei,ImageFormat.Png)}if(!this.image)return;const Xe=PlotElementExtensions.transform;let Ye;if(this.plotModel.plotType!==PlotType.Polar){const Ke=Xe(this,-this.magnitude1,this.magnitude1),Ze=Xe(this,this.magnitude1,-this.magnitude1);Ye=new OxyRect(Ke.x,Ke.y,Ze.x-Ke.x,Ze.y-Ke.y)}else{const Ke=Xe(this,this.magnitude1,90),Ze=Xe(this,this.magnitude1,270),Qe=Xe(this,this.magnitude1,180),Je=Xe(this,this.magnitude1,0);Ye=new OxyRect(Qe.x,Ke.y,Je.x-Qe.x,Ze.y-Ke.y)}await RenderingExtensions.drawImage(ze,this.image,Ye.left,Ye.top,Ye.width,Ye.height,1,!1)}getValue(ze,qe){if(!this.data)return NaN;if(!this.interpolate){const oi=Math.floor(ze),ni=Math.floor(qe);return this.data[oi][ni]}ze-=.5,qe-=.5;const Xe=Math.floor(ze),Ye=Math.floor(qe),Ke=Xe>0?Xe:0,Ze=Xe+1<this.data.length?Xe+1:Xe,Qe=Ye>0?Ye:0,Je=Ye+1<this.data[0].length?Ye+1:Ye,St=this.data[Ke][Qe],ei=this.data[Ke][Je],ti=this.data[Ze][Qe],ii=this.data[Ze][Je],ri=ze-Xe,si=qe-Ye,ui=St*(1-si)+ei*si,ai=ti*(1-si)+ii*si;return ui*(1-ri)+ai*ri}getNearestPoint(ze,qe){}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}updateMaxMin(){super.updateMaxMin();const ze=this.getData();this.minValue=minValueOfArray(ze),this.maxValue=maxValueOfArray(ze);const qe=this.colorAxis;qe&&(qe.include(this.minValue),qe.include(this.maxValue))}getData(){if(!this.data)return[];const ze=this.data.length,qe=[],Xe=this.data[0].length;for(let Ye=0;Ye<ze;Ye++)for(let Ke=0;Ke<Xe;Ke++)qe.push(this.data[Ye][Ke]);return qe}}function errorSeries(){const je=new PlotModel({title:"ErrorSeries"}),ze=new Legend({legendPosition:LegendPosition.BottomRight});je.legends.push(ze);const qe=new ErrorSeries;qe.title="Measurements";const Xe=Math.random();let Ye=0,Ke=0;for(let Ze=0;Ze<20;Ze++){Ye+=2+Xe*10,Ke+=1+Xe;const Qe=1+Xe*2,Je=1+Xe*2;qe.pointsList.push(new ErrorItem(Ye,Ke,Qe,Je))}return je.series.push(qe),je}function lineSegmentSeries(){const Ve=new PlotModel({title:"LineSegmentSeries"}),je=new LineSegmentSeries;je.title="The first series",je.points.push(new DataPoint(0,3),new DataPoint(2,3.2)),je.points.push(new DataPoint(2,2.7),new DataPoint(7,2.9)),Ve.series.push(je);const ze=new LineSegmentSeries;return ze.title="The second series",ze.points.push(new DataPoint(1,-3),new DataPoint(2,10)),ze.points.push(new DataPoint(0,4.8),new DataPoint(7,2.3)),ze.points.push(new DataPoint(6,4),new DataPoint(6,4+1e-8)),Ve.series.push(ze),Ve}function flagSeries(){const Ve=new PlotModel({title:"FlagSeries"}),je=new FlagSeries;return je.title="Incidents",je.color=OxyColors.Red,je.values.push(2,3,5,7,11,13,17,19),Ve.series.push(je),Ve}function diagonalMatrix(){const Ve=new PlotModel,je=[[1,0,0],[0,2,0],[0,0,3],[5,5,5]];return Ve.axes.push(new LinearAxis({position:AxisPosition.Left,startPosition:1,endPosition:0})),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.series.push(new MatrixSeries({matrix:je,showDiagonal:!0})),Ve}function polarHeatMap(){const Ve=new PlotModel({title:"Polar heat map",plotMargins:new OxyThickness(40,80,40,40),plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness(0)}),je=[[0,2],[1.5,.2]];return Ve.axes.push(new AngleAxis({startAngle:0,endAngle:360,minimum:0,maximum:360,majorStep:30,minorStep:15})),Ve.axes.push(new MagnitudeAxis({minimum:0,maximum:100,majorStep:25,minorStep:5})),Ve.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.rainbow(500),highColor:OxyColors.Gray,lowColor:OxyColors.Black})),Ve.series.push(new PolarHeatMapSeries({data:je,angle0:30,angle1:150,magnitude0:0,magnitude1:80,interpolate:!1})),Ve}function polarHeatMapReversedAngleAxis(){const Ve=polarHeatMap();return Ve.axes[0]=new AngleAxis({startAngle:360,endAngle:0,minimum:0,maximum:360,majorStep:30,minorStep:15}),Ve}function polarHeatMapRotatedCounterClockwise90(){const Ve=polarHeatMap();return Ve.axes[0]=new AngleAxis({startAngle:90,endAngle:450,minimum:0,maximum:360,majorStep:30,minorStep:15}),Ve}function polarHeatMapRotatedCounterClockwisePi(){const Ve=polarHeatMap();return Ve.axes[0]=new AngleAxis({startAngle:Math.PI,endAngle:Math.PI+360,minimum:0,maximum:360,majorStep:30,minorStep:15}),Ve}function polarHeatMapInterpolated(){const Ve=polarHeatMap();return Ve.title="Polar heat map (interpolated)",Ve.series[0].interpolate=!0,Ve}function polarHeatMapFixed(){const Ve=polarHeatMap();return Ve.title="Polar heat map with fixed size image",Ve.series[0].imageSize=800,Ve}function polarHeatMapLinearAxes(){const Ve=new PlotModel({title:"Polar heat map on linear axes"}),je=[[0,2],[1.5,.2]];return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-100,maximum:100})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:100})),Ve.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.rainbow(500),highColor:OxyColors.Gray,lowColor:OxyColors.Black})),Ve.series.push(new PolarHeatMapSeries({data:je,angle0:30,angle1:150,magnitude0:0,magnitude1:80,interpolate:!0})),Ve}function polarHeatMapLinearAxesFixed256(){const Ve=polarHeatMapLinearAxes();return Ve.title="Polar heat map on linear axes & fixed size image (256x256)",Ve.series[0].imageSize=256,Ve}function polarHeatMapLinearAxesFixed1000(){const Ve=polarHeatMapLinearAxes();return Ve.title="Polar heat map on linear axes & fixed size image (1000x1000)",Ve.series[0].imageSize=1e3,Ve}function designStructureMatrix(){const Ve=new TwoDimensionalArray(7,7,0);Ve.set(1,0,1),Ve.set(5,0,1),Ve.set(3,1,1),Ve.set(0,2,1),Ve.set(6,2,1),Ve.set(4,3,1),Ve.set(1,4,1),Ve.set(5,4,1),Ve.set(2,5,1),Ve.set(0,6,1),Ve.set(4,6,1);for(let Ye=0;Ye<7;Ye++)Ve.set(Ye,Ye,-1);const je=new PlotModel({title:"Design structure matrix (DSM)"});je.axes.push(new LinearColorAxis({position:AxisPosition.None,palette:new OxyPalette([OxyColors.White,OxyColors.LightGreen]),lowColor:OxyColors.Black,minimum:0,isAxisVisible:!1}));const ze=new CategoryAxis({position:AxisPosition.Top});ze.labels.push("A","B","C","D","E","F","G"),je.axes.push(ze);const qe=new CategoryAxis({position:AxisPosition.Left,startPosition:1,endPosition:0});qe.labels.push("Element A","Element B","Element C","Element D","Element E","Element F","Element G"),je.axes.push(qe);const Xe=new DesignStructureMatrixSeries({data:Ve.toArray(),interpolate:!1,labelStringFormatter:(Ye,Ke)=>`${Ye||""}`,labelFontSize:.25,x0:0,x1:Ve.width-1,y0:0,y1:Ve.height-1});return je.series.push(Xe),je}class DesignStructureMatrixSeries extends HeatMapSeries{constructor(je){super(je)}getLabel(je,ze,qe){return ze===qe?this.xAxis.labels[ze]:super.getLabel(je,ze,qe)}}const category$O="Custom series",CustomSeriesExamples={category:category$O,tags:["Series"],examples:[{title:"ErrorSeries",example:{model:errorSeries}},{title:"LineSegmentSeries",example:{model:lineSegmentSeries}},{title:"FlagSeries",example:{model:flagSeries}},{title:"MatrixSeries - diagonal matrix",example:{model:diagonalMatrix}},{title:"PolarHeatMap",example:{model:polarHeatMap}},{title:"PolarHeatMap Reversed Angle Axis",example:{model:polarHeatMapReversedAngleAxis}},{title:"PolarHeatMap Rotated CounterClockwise 90",example:{model:polarHeatMapRotatedCounterClockwise90}},{title:"PolarHeatMap Rotated CounterClockwise on PI degrees",example:{model:polarHeatMapRotatedCounterClockwisePi}},{title:"PolarHeatMap (interpolated)",example:{model:polarHeatMapInterpolated}},{title:"PolarHeatMap fixed size image",example:{model:polarHeatMapFixed}},{title:"PolarHeatMap on linear axes",example:{model:polarHeatMapLinearAxes}},{title:"PolarHeatMap linear axes, fixed size image (256x256)",example:{model:polarHeatMapLinearAxesFixed256}},{title:"PolarHeatMap linear axes, fixed size image (1000x1000)",example:{model:polarHeatMapLinearAxesFixed1000}},{title:"Design structure matrix (DSM)",example:{model:designStructureMatrix}}]},CustomSeries=[CustomSeriesExamples];class Random{constructor(je){}next(je,ze){return isUndef(je)&&isUndef(ze)?Math.random():(je=je||0,ze=isNullOrUndef(ze)?1:ze,Math.floor(Math.random()*(ze-je+1))+je)}}function tickStyleNone$1(){return createTickStyleExample(TickStyle.None)}function tickStyleInside$1(){return createTickStyleExample(TickStyle.Inside)}function tickStyleCrossing$1(){return createTickStyleExample(TickStyle.Crossing)}function tickStyleOutside$1(){return createTickStyleExample(TickStyle.Outside)}function tickLineColor(){const Ve=new PlotModel({title:"Color major and minor ticks differently"});return Ve.axes.push(new LinearAxis({position:AxisPosition.Left,majorGridlineThickness:3,minorGridlineThickness:3,ticklineColor:OxyColors.Blue,minorTicklineColor:OxyColors.Gray})),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,majorGridlineThickness:3,minorGridlineThickness:3,ticklineColor:OxyColors.Blue,minorTicklineColor:OxyColors.Gray})),Ve}function gridlineStyleNone(){const Ve=new PlotModel({title:"No gridlines"});return Ve.axes.push(new LinearAxis({position:AxisPosition.Left})),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve}function gridLinestyleVertical(){const Ve=new PlotModel({title:"Vertical gridlines"});return Ve.axes.push(new LinearAxis),Ve.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,position:AxisPosition.Bottom})),Ve}function gridLinestyleHorizontal(){const Ve=new PlotModel({title:"Horizontal gridlines"});return Ve.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot})),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve}function gridLinestyleBoth(){const Ve=new PlotModel({title:"Horizontal and vertical gridlines"});return Ve.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot})),Ve.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,position:AxisPosition.Bottom})),Ve}function axisPositionLeftAndBottom(){const Ve=new PlotModel;return Ve.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,title:"Left"})),Ve.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,position:AxisPosition.Bottom,title:"Bottom"})),Ve}function axisPositionTopRight(){const Ve=new PlotModel;return Ve.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,position:AxisPosition.Right,title:"Right"})),Ve.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,position:AxisPosition.Top,title:"Top"})),Ve}function axisAngle45(){const Ve=new PlotModel({plotMargins:new OxyThickness(60,40,60,30)});return Ve.axes.push(new LinearAxis({angle:45,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,title:"Left"})),Ve.axes.push(new LinearAxis({angle:45,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,position:AxisPosition.Bottom,title:"Bottom"})),Ve}function zeroCrossing(){const Ve=new PlotModel({title:"PositionAtZeroCrossing = true",plotAreaBorderThickness:new OxyThickness(0),plotMargins:new OxyThickness(10,10,10,10)});return Ve.axes.push(new LinearAxis({maximum:50,minimum:-30,positionAtZeroCrossing:!0,axislineStyle:LineStyle.Solid,tickStyle:TickStyle.Crossing})),Ve.axes.push(new LinearAxis({maximum:70,minimum:-50,position:AxisPosition.Bottom,positionAtZeroCrossing:!0,axislineStyle:LineStyle.Solid,tickStyle:TickStyle.Crossing})),Ve}function horizontalZeroCrossing(){const Ve=new PlotModel({title:"Bottom axis: PositionAtZeroCrossing = true"});return Ve.axes.push(new LinearAxis({maximum:50,minimum:-30,position:AxisPosition.Left,positionAtZeroCrossing:!1})),Ve.axes.push(new LinearAxis({maximum:70,minimum:-50,position:AxisPosition.Bottom,positionAtZeroCrossing:!0,axislineStyle:LineStyle.Solid})),Ve}function verticalZeroCrossing(){const Ve=new PlotModel({title:"Left axis: PositionAtZeroCrossing = true"});return Ve.axes.push(new LinearAxis({maximum:50,minimum:-30,position:AxisPosition.Left,positionAtZeroCrossing:!0,axislineStyle:LineStyle.Solid})),Ve.axes.push(new LinearAxis({maximum:70,minimum:-50,position:AxisPosition.Bottom,positionAtZeroCrossing:!1})),Ve}function reversed(){const Ve=new PlotModel({title:"EndPosition = 0, StartPosition = 1"});return Ve.axes.push(new LinearAxis({endPosition:0,startPosition:1,maximum:50,minimum:-30,position:AxisPosition.Left})),Ve.axes.push(new LinearAxis({endPosition:0,startPosition:1,maximum:70,minimum:-50,position:AxisPosition.Bottom})),Ve}function sharingY(){const Ve=new PlotModel;Ve.axes.push(new LinearAxis({endPosition:0,startPosition:1,maximum:1.5,minimum:-1.5,position:AxisPosition.Left}));const je=new LinearAxis({startPosition:0,endPosition:.45,maximum:7,minimum:0,position:AxisPosition.Bottom,key:"x1"});Ve.axes.push(je);const ze=new LinearAxis({startPosition:.55,endPosition:1,maximum:10,minimum:0,position:AxisPosition.Bottom,key:"x2"});return Ve.axes.push(ze),Ve.series.push(new FunctionSeries({f:Math.sin,x0:0,x1:10,n:1e3,xAxisKey:je.key})),Ve.series.push(new FunctionSeries({f:Math.sin,x0:0,x1:10,n:1e3,xAxisKey:ze.key})),Ve}function fourAxes(){const Ve=new PlotModel;return Ve.axes.push(new LinearAxis({maximum:36,minimum:0,title:"km/h"})),Ve.axes.push(new LinearAxis({maximum:10,minimum:0,position:AxisPosition.Right,title:"m/s"})),Ve.axes.push(new LinearAxis({maximum:10,minimum:0,position:AxisPosition.Bottom,title:"meter"})),Ve.axes.push(new LinearAxis({maximum:1e4,minimum:0,position:AxisPosition.Top,title:"millimeter"})),Ve}function fiveAxes(){const Ve=new PlotModel;return Ve.axes.push(new LinearAxis({endPosition:.25,maximum:1,minimum:-1,title:"C1"})),Ve.axes.push(new LinearAxis({endPosition:.5,maximum:1,minimum:-1,position:AxisPosition.Right,startPosition:.25,title:"C2"})),Ve.axes.push(new LinearAxis({endPosition:.75,maximum:1,minimum:-1,startPosition:.5,title:"C3"})),Ve.axes.push(new LinearAxis({maximum:1,minimum:-1,position:AxisPosition.Right,startPosition:.75,title:"C4"})),Ve.axes.push(new LinearAxis({maximum:100,minimum:0,position:AxisPosition.Bottom,title:"s"})),Ve}function logarithmicAxes(){const Ve=new PlotModel;return Ve.axes.push(new LogarithmicAxis({maximum:1e6,minimum:1,title:"Log axis",useSuperExponentialFormat:!0})),Ve.axes.push(new LogarithmicAxis({maximum:1e4,minimum:.001,position:AxisPosition.Bottom,title:"Log axis",useSuperExponentialFormat:!0})),Ve}const cartesianPlotLogarithmicAxes=()=>new PlotModel({plotType:PlotType.Cartesian,axes:[new LogarithmicAxis({maximum:1e6,minimum:1,title:"Log x axis",useSuperExponentialFormat:!0,majorGridlineStyle:LineStyle.Solid,isPanEnabled:!0}),new LogarithmicAxis({maximum:1e4,minimum:.001,position:AxisPosition.Bottom,title:"Log y axis",useSuperExponentialFormat:!0,majorGridlineStyle:LineStyle.Solid,isPanEnabled:!0})]});function bigNumbers(){const Ve=new PlotModel;return Ve.axes.push(new LinearAxis({maximum:6e32,minimum:-1e47,title:"big numbers"})),Ve.axes.push(new LinearAxis({maximum:3e50,minimum:-1e40,position:AxisPosition.Bottom,title:"big numbers"})),Ve}function bigNumbersSuperExponentialFormat(){const Ve=new PlotModel;return Ve.axes.push(new LinearAxis({maximum:6e32,minimum:-1e47,title:"big numbers",useSuperExponentialFormat:!0})),Ve.axes.push(new LinearAxis({maximum:3e50,minimum:-1e40,position:AxisPosition.Bottom,title:"big numbers",useSuperExponentialFormat:!0})),Ve}function smallNumbers(){const Ve=new PlotModel;return Ve.axes.push(new LinearAxis({maximum:6e-15,minimum:-5e-15,title:"small numbers"})),Ve.axes.push(new LinearAxis({maximum:3e-15,minimum:-4e-15,position:AxisPosition.Bottom,title:"small numbers"})),Ve}function defaultPadding(){const Ve=new PlotModel({title:"Default padding"});Ve.axes.push(new LinearAxis),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom}));const je=new LineSeries({color:OxyColor.fromArgb(255,78,154,6),markerFill:OxyColor.fromArgb(255,78,154,6)});return je.points.push(new DataPoint(10,4)),je.points.push(new DataPoint(12,7)),je.points.push(new DataPoint(16,3)),je.points.push(new DataPoint(20,9)),Ve.series.push(je),Ve}function noPadding(){const Ve=new PlotModel({title:"No padding"});Ve.axes.push(new LinearAxis({maximumPadding:0,minimumPadding:0})),Ve.axes.push(new LinearAxis({maximumPadding:0,minimumPadding:0,position:AxisPosition.Bottom}));const je=new LineSeries({color:OxyColor.fromArgb(255,78,154,6),markerFill:OxyColor.fromArgb(255,78,154,6)});return je.points.push(new DataPoint(10,4)),je.points.push(new DataPoint(12,7)),je.points.push(new DataPoint(16,3)),je.points.push(new DataPoint(20,9)),Ve.series.push(je),Ve}function padding(){const Ve=new PlotModel({title:"Padding 10%"});Ve.axes.push(new LinearAxis({maximumPadding:.1,minimumPadding:.1})),Ve.axes.push(new LinearAxis({maximumPadding:.1,minimumPadding:.1,position:AxisPosition.Bottom}));const je=new LineSeries({color:OxyColor.fromArgb(255,78,154,6),markerFill:OxyColor.fromArgb(255,78,154,6)});return je.points.push(new DataPoint(10,4)),je.points.push(new DataPoint(12,7)),je.points.push(new DataPoint(16,3)),je.points.push(new DataPoint(20,9)),Ve.series.push(je),Ve}function xaxisMinimumPadding(){const Ve=new PlotModel({title:"X-axis MinimumPadding=0.1"});Ve.axes.push(new LinearAxis),Ve.axes.push(new LinearAxis({minimumPadding:.1,position:AxisPosition.Bottom}));const je=new LineSeries({color:OxyColor.fromArgb(255,78,154,6),markerFill:OxyColor.fromArgb(255,78,154,6)});return je.points.push(new DataPoint(10,4)),je.points.push(new DataPoint(12,7)),je.points.push(new DataPoint(16,3)),je.points.push(new DataPoint(20,9)),Ve.series.push(je),Ve}function xaxisMaximumPadding(){const Ve=new PlotModel({title:"X-axis MaximumPadding=0.1"});Ve.axes.push(new LinearAxis),Ve.axes.push(new LinearAxis({maximumPadding:.1,position:AxisPosition.Bottom}));const je=new LineSeries({color:OxyColor.fromArgb(255,78,154,6),markerFill:OxyColor.fromArgb(255,78,154,6)});return je.points.push(new DataPoint(10,4)),je.points.push(new DataPoint(12,7)),je.points.push(new DataPoint(16,3)),je.points.push(new DataPoint(20,9)),Ve.series.push(je),Ve}function absoluteMinimumAndMaximum(){const Ve=new PlotModel({title:"AbsoluteMinimum=-17, AbsoluteMaximum=63",subtitle:"Zooming and panning is limited to these values."});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:0,maximum:50,absoluteMinimum:-17,absoluteMaximum:63})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:50,absoluteMinimum:-17,absoluteMaximum:63})),Ve}function minimumRange(){const Ve=new PlotModel({title:"MinimumRange = 400"});return Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimumRange:400})),Ve}function maximumRange(){const Ve=new PlotModel({title:"MaximumRange = 40"});return Ve.axes.push(new LinearAxis({position:AxisPosition.Left,maximumRange:40})),Ve}function titleWithUnit(){const Ve=new PlotModel({title:"Axis titles with units"});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Speed",unit:"km/h"})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Temperature",unit:"C"})),Ve}function invisibleVerticalAxis(){const Ve=new PlotModel({title:"Invisible vertical axis"});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,isAxisVisible:!1})),Ve.series.push(new FunctionSeries({f:je=>Math.sin(je)/je,x0:-5,x1:5,dx:.1})),Ve}function invisibleHorizontalAxis(){const Ve=new PlotModel({title:"Invisible horizontal axis"});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,isAxisVisible:!1})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left})),Ve.series.push(new FunctionSeries({f:je=>Math.sin(je)*je*je,x0:-5,x1:5,dx:.1})),Ve}function zoomingDisabled(){const Ve=new PlotModel({title:"Zooming disabled"});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,isZoomEnabled:!1})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,isZoomEnabled:!1})),Ve}function panningDisabled(){const Ve=new PlotModel({title:"Panning disabled"});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,isPanEnabled:!1})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,isPanEnabled:!1})),Ve}function denseIntervals(){const Ve=new PlotModel({title:"Dense intervals"});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,intervalLength:30})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,intervalLength:20})),Ve}function graphPaper(){const Ve=new PlotModel({title:"Graph Paper"}),je=OxyColors.DarkBlue;return Ve.plotType=PlotType.Cartesian,Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"X",majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,je),minorGridlineColor:OxyColor.fromAColor(20,je)})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Y",majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,je),minorGridlineColor:OxyColor.fromAColor(20,je)})),Ve}function logLogPaper(){const Ve=new PlotModel({title:"Log-Log Paper"}),je=OxyColors.DarkBlue;return Ve.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom,title:"X",minimum:.1,maximum:1e3,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,je),minorGridlineColor:OxyColor.fromAColor(20,je)})),Ve.axes.push(new LogarithmicAxis({position:AxisPosition.Left,title:"Y",minimum:.1,maximum:1e3,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,je),minorGridlineColor:OxyColor.fromAColor(20,je)})),Ve}function onBlack(){const Ve=new PlotModel({title:"Black background",background:OxyColors.Black,textColor:OxyColors.White,plotAreaBorderColor:OxyColors.White}),je=OxyColors.White;return Ve.plotType=PlotType.Cartesian,Ve.series.push(new FunctionSeries({f:Math.sin,x0:0,x1:Math.PI*2,n:1e3,title:"f(x)=sin(x)"})),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"x",majorStep:Math.PI/2,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"",majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,je),minorGridlineColor:OxyColor.fromAColor(20,je),ticklineColor:OxyColors.White})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,title:"f(x)",majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,je),minorGridlineColor:OxyColor.fromAColor(20,je),ticklineColor:OxyColors.White})),Ve}function backgrounds(){const Ve=new PlotModel({title:"Background and PlotAreaBackground",background:OxyColors.Silver,plotAreaBackground:OxyColors.Gray,plotAreaBorderColor:OxyColors.Black,plotAreaBorderThickness:new OxyThickness(3)});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left})),Ve}function currentCulture(){const Ve=new PlotModel({title:"Current culture"});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-1,maximum:1})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-1,maximum:1})),Ve.series.push(new FunctionSeries({f:Math.sin,x0:-1,x1:1,n:100})),Ve}function longAxisTitlesClipped90(){const Ve="Long title 12345678901234567890123456789012345678901234567890123456789012345678901234567890",je="The tool tip is "+Ve,ze=new PlotModel({title:"Long axis titles (clipped at 90%)"});return ze.axes.push(new LinearAxis({position:AxisPosition.Left,title:Ve,toolTip:je})),ze.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:Ve,toolTip:je})),ze}function longAxisTitlesClipped100(){const Ve="Long title 12345678901234567890123456789012345678901234567890123456789012345678901234567890",je="The tool tip is "+Ve,ze=new PlotModel({title:"Long axis titles (clipped at 100%)"});return ze.axes.push(new LinearAxis({position:AxisPosition.Left,title:Ve,toolTip:je,titleClippingLength:1})),ze.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:Ve,toolTip:je,titleClippingLength:1})),ze}function longAxisTitlesNotClipped(){const Ve="Long title 12345678901234567890123456789012345678901234567890123456789012345678901234567890",je="The tool tip is "+Ve,ze=new PlotModel({title:"Long axis titles (not clipped)"});return ze.axes.push(new LinearAxis({position:AxisPosition.Left,title:Ve,toolTip:je,clipTitle:!1})),ze.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:Ve,toolTip:je,clipTitle:!1})),ze}function positionTier(){const Ve=new PlotModel,je=new LinearAxis({maximum:1,minimum:-1,title:"PositionTier=0"});Ve.axes.push(je);const ze=new LinearAxis({axislineStyle:LineStyle.Solid,maximum:2,minimum:-2,positionTier:1,title:"PositionTier=1"});Ve.axes.push(ze);const qe=new LinearAxis({maximum:1,minimum:-1,position:AxisPosition.Right,title:"PositionTier=0"});Ve.axes.push(qe);const Xe=new LinearAxis({axislineStyle:LineStyle.Solid,maximum:2,minimum:-2,position:AxisPosition.Right,positionTier:1,title:"PositionTier=1"});Ve.axes.push(Xe);const Ye=new LinearAxis({maximum:1,minimum:-1,position:AxisPosition.Top,title:"PositionTier=0"});Ve.axes.push(Ye);const Ke=new LinearAxis({axislineStyle:LineStyle.Solid,maximum:2,minimum:-2,position:AxisPosition.Top,positionTier:1,title:"PositionTier=1"});Ve.axes.push(Ke);const Ze=new LinearAxis({axislineStyle:LineStyle.Solid,maximum:10,minimum:-10,position:AxisPosition.Top,positionTier:2,title:"PositionTier=2"});Ve.axes.push(Ze);const Qe=new LinearAxis({maximum:1,minimum:-1,position:AxisPosition.Bottom,title:"PositionTier=0"});Ve.axes.push(Qe);const Je=new LinearAxis({axislineStyle:LineStyle.Solid,maximum:2,minimum:-2,position:AxisPosition.Bottom,positionTier:1,title:"PositionTier=1"});Ve.axes.push(Je);const St=new LinearAxis({axislineStyle:LineStyle.Solid,maximum:10,minimum:-10,position:AxisPosition.Bottom,positionTier:2,title:"PositionTier=2"});return Ve.axes.push(St),Ve}function titleColor(){const Ve=new PlotModel({title:"Custom axis title color"});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-1,maximum:1,title:"Bottom axis",titleColor:OxyColors.Red})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-1,maximum:1,title:"Left axis",titleColor:OxyColors.Blue})),Ve.series.push(new FunctionSeries({f:Math.sin,x0:-1,x1:1,n:100})),Ve}function labelColor(){const Ve=new PlotModel({title:"Custom axis label color"});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-1,maximum:1,title:"Bottom axis",textColor:OxyColors.Red})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-1,maximum:1,title:"Left axis",textColor:OxyColors.Blue})),Ve.series.push(new FunctionSeries({f:Math.sin,x0:-1,x1:1,n:100})),Ve}function angledAxisNumbers(){const Ve=new PlotModel({title:"Angled axis numbers"});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-1,maximum:1,title:"Bottom axis",angle:45})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-1,maximum:1,title:"Left axis",angle:45})),Ve.axes.push(new LinearAxis({position:AxisPosition.Top,minimum:-1,maximum:1,title:"Top axis",angle:45})),Ve.axes.push(new LinearAxis({position:AxisPosition.Right,minimum:-1,maximum:1,title:"Right axis",angle:45})),Ve}function axisDistance(){const Ve=new PlotModel({title:"AxisDistance = 20"});return Ve.axes.push(new LinearAxis({axislineStyle:LineStyle.Solid,axisDistance:20,position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({axislineStyle:LineStyle.Solid,axisDistance:20,position:AxisPosition.Left})),Ve.axes.push(new LinearAxis({axislineStyle:LineStyle.Solid,axisDistance:20,position:AxisPosition.Right})),Ve.axes.push(new LinearAxis({axislineStyle:LineStyle.Solid,axisDistance:20,position:AxisPosition.Top})),Ve}function noAxesDefined(){const Ve=new PlotModel({title:"No axes defined",subtitle:"Bottom and left axes are auto-generated."});return Ve.series.push(new FunctionSeries({f:Math.sin,x0:0,x1:10,n:400})),Ve}function labelFormatter$1(){const Ve=new PlotModel({title:"LabelFormatter"});Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-10,maximum:10,labelFormatter:ze=>Math.abs(ze)<Number.EPSILON?"ZERO":ze.toString()}));const je=65;return Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:25,majorStep:1,minorStep:1,maximumPadding:0,minimumPadding:0,labelFormatter:ze=>String.fromCharCode(ze+je)})),Ve}function toolTips(){const Ve=new PlotModel({title:"Tool tips"});return Ve.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Left axis",toolTip:"Tool tip for the left axis"})),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Bottom axis",toolTip:"Tool tip for the bottom axis"})),Ve}function subSuperscriptInAxisTitles(){const Ve=new PlotModel({title:"Sub- and superscript in axis titles"});return Ve.axes.push(new LinearAxis({title:"Title with^{super}_{sub}script"})),Ve.axes.push(new LinearAxis({title:"Title with^{super}_{sub}script",position:AxisPosition.Bottom})),Ve}function minimumMajorStep(){const Ve=new PlotModel({title:"Axes with MinimumMajorStep"});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"MinimuMajorStep = 1",minimum:0,maximum:2,minimumMajorStep:1})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,title:"MinimuMajorStep = 10",minimum:0,maximum:15,minimumMajorStep:10})),Ve.axes.push(new LinearAxis({position:AxisPosition.Top,title:"MinimuMajorStep = 0 (default)",minimum:0,maximum:2})),Ve.axes.push(new LinearAxis({position:AxisPosition.Right,title:"MinimuMajorStep = 0 (default)",minimum:0,maximum:15})),Ve}function minimumMinorStep(){const Ve=new PlotModel({title:"Axes with MinimumMinorStep"});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"MinimumMinorStep = 1",minimum:0,maximum:20,minimumMinorStep:1})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,title:"MinimumMinorStep = 10",minimum:0,maximum:150,minimumMinorStep:10})),Ve.axes.push(new LinearAxis({position:AxisPosition.Top,title:"MinimumMinorStep = 0 (default)",minimum:0,maximum:20})),Ve.axes.push(new LinearAxis({position:AxisPosition.Right,title:"MinimumMinorStep = 0 (default)",minimum:0,maximum:150})),Ve}function defaultAxisTitleDistance(){const Ve=new PlotModel({title:"AxisTitleDistance = 4 (default)"});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Bottom",minimum:0,maximum:20})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Left",minimum:0,maximum:150})),Ve.axes.push(new LinearAxis({position:AxisPosition.Top,title:"Top",minimum:0,maximum:20})),Ve.axes.push(new LinearAxis({position:AxisPosition.Right,title:"Right",minimum:0,maximum:150})),Ve}function customAxisTitleDistance(){const Ve=new PlotModel({title:"AxisTitleDistance = 40"});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Bottom",minimum:0,maximum:20,axisTitleDistance:40})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Left",minimum:0,maximum:150,axisTitleDistance:40})),Ve.axes.push(new LinearAxis({position:AxisPosition.Top,title:"Top",minimum:0,maximum:20,axisTitleDistance:40})),Ve.axes.push(new LinearAxis({position:AxisPosition.Right,title:"Right",minimum:0,maximum:150,axisTitleDistance:40})),Ve}function majorGridlineStyle(){const Ve=new PlotModel({title:"MajorGridlineStyle and MajorGridlineThickness"});return Ve.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,majorGridlineThickness:10})),Ve.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,majorGridlineThickness:10,position:AxisPosition.Bottom})),Ve}function gridlineCroppingBoth(){const Ve=new PlotModel({title:"Gridline cropping"});return Ve.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,extraGridlines:[46],extraGridlineColor:OxyColors.Red,startPosition:.1,endPosition:.4,cropGridlines:!0})),Ve.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,extraGridlines:[46],extraGridlineColor:OxyColors.Red,startPosition:.6,endPosition:.9,cropGridlines:!0})),Ve.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,position:AxisPosition.Bottom,extraGridlines:[46],extraGridlineColor:OxyColors.Red,startPosition:.1,endPosition:.4,cropGridlines:!0})),Ve.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,position:AxisPosition.Bottom,extraGridlines:[46],extraGridlineColor:OxyColors.Red,startPosition:.6,endPosition:.9,cropGridlines:!0})),Ve}function multiVerticalAxes(){const Ve="axisY_Temperature",je="axisY_Pressure",ze="axisY_Humidity",qe=new PlotModel({title:"Multi vertical axes with lineSeries"}),Xe=new Legend({legendBackground:OxyColors.White});qe.legends.push(Xe);const Ye=new DateTimeAxis({title:"Time",position:AxisPosition.Bottom,majorGridlineStyle:LineStyle.Solid,fontSize:13});qe.axes.push(Ye);let Ke=null,Ze=null,Qe=null,Je=null,St=null,ei=null;Je=new LinearAxis({title:"Temperature",position:AxisPosition.Left,majorGridlineStyle:LineStyle.None,positionTier:1,key:Ve,isAxisVisible:!0}),Ke=new LineSeries({title:"Temperature",color:OxyColors.Tomato,lineStyle:LineStyle.Solid,markerType:MarkerType.Circle,markerSize:3,markerFill:OxyColors.Red,yAxisKey:Ve,isVisible:!0}),qe.axes.push(Je),qe.series.push(Ke),St=new LinearAxis({title:"Pressure",position:AxisPosition.Left,majorGridlineStyle:LineStyle.None,positionTier:2,key:je,isAxisVisible:!0}),Ze=new LineSeries({title:"Pressure",color:OxyColors.Peru,lineStyle:LineStyle.Solid,markerType:MarkerType.Circle,markerSize:3,markerFill:OxyColors.Sienna,yAxisKey:je,isVisible:!0}),qe.axes.push(St),qe.series.push(Ze),ei=new LinearAxis({title:"Humidity",position:AxisPosition.Left,majorGridlineStyle:LineStyle.None,positionTier:3,key:ze,isAxisVisible:!0}),Qe=new LineSeries({title:"Humidity",color:OxyColors.LightSkyBlue,lineStyle:LineStyle.Solid,markerType:MarkerType.Circle,markerSize:3,markerFill:OxyColors.DeepSkyBlue,yAxisKey:ze,isVisible:!0}),qe.axes.push(ei),qe.series.push(Qe);{Ke.points.length=0,Ze.points.length=0,Qe.points.length=0;const ti=TimeSpan.fromMilliseconds(1e3),ii=getDateService();let ri=new Date(2018,8,10);const si=100;for(let ui=1;ui<=si;ui++){const ai=20+Math.sin(ui),oi=760+1.5*Math.cos(1.5*ui),ni=50+2*Math.sin(2*ui);Ke.points.push(DateTimeAxis.createDataPoint(ri,ai)),Ze.points.push(DateTimeAxis.createDataPoint(ri,oi)),Qe.points.push(DateTimeAxis.createDataPoint(ri,ni)),ri=ii.addTimespan(ri,ti)}Je.minimum=10,Je.maximum=23,St.minimum=750,St.maximum=770,ei.minimum=47,ei.maximum=60}return qe}function autoMargin(){const Ve=new PlotModel({title:"Auto-adjusting plot margins",subtitle:"When zooming in and out the plot margins should adjust accordingly"});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"X Axis",titleFontSize:16})),Ve}function manualMargins(){const Ve=new PlotModel({title:"Manual Margins",subtitle:"PlotMargins = 40",plotMargins:new OxyThickness(40)});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve}function manualLeftMargin(){const Ve=new PlotModel({title:"Manual Left Margin",subtitle:"PlotMargins = 40,NaN,NaN,NaN",plotMargins:new OxyThickness(40,NaN,NaN,NaN)});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve}function autoMarginWideLabels(){const Ve=new PlotModel({title:"Auto-adjusting plot margins - wide axis labels",subtitle:"There should be enough space reserved such that the axis labels always fit in the viewport"});return Ve.axes.push(getLongLabelSeries()),Ve}function autoMarginWideLabelsRotated(){const Ve=new PlotModel({title:"Auto-adjusting plot margins - wide rotated axis labels",subtitle:"There should be enough space reserved such that the axis labels always fit in the viewport"}),je=getLongLabelSeries();return je.angle=-90,Ve.axes.push(je),Ve}function autoMarginWideLabelsFixedRange(){const Ve=new PlotModel({title:"Auto-adjusting plot margins - wide axis labels, fixed range",subtitle:"When the axis range is fixed there should be no unnecessary space reserved for axis labels"}),je=getLongLabelSeries();return je.isPanEnabled=!1,je.isZoomEnabled=!1,Ve.axes.push(je),Ve}function autoMarginWideLabelsFixedRange2(){const Ve=new PlotModel({title:"Auto-adjusting plot margins - wide axis labels, fixed range",subtitle:"The axis labels should exactly fit in the viewport"}),je=getLongLabelSeries();return je.isPanEnabled=!1,je.isZoomEnabled=!1,je.minimum=-.01,je.maximum=3.01,Ve.axes.push(je),Ve}function getLongLabelSeries(){const Ve=new CategoryAxis({position:AxisPosition.Bottom});return Ve.labels.push("Label"),Ve.labels.push("Long Label"),Ve.labels.push("Longer Label"),Ve.labels.push("Even Longer Label"),Ve}function minimumAndMaximumDataMargins(){const Ve=new PlotModel({title:"Normal distribution",subtitle:"Probability density function"});return Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,minimum:0,tickStyle:TickStyle.Inside})),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,tickStyle:TickStyle.Inside})),Ve.series.push(createNormalDistributionSeries(-5,5,0,.2)),Ve.series.push(createNormalDistributionSeries(-5,5,0,1)),Ve.series.push(createNormalDistributionSeries(-5,5,0,5)),Ve.series.push(createNormalDistributionSeries(-5,5,-2,.5)),Ve}function minimumAndMaximumDataMarginsZeroCrossing(){const Ve=new PlotModel({title:"Normal distribution",subtitle:"Probability density function"});return Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,minimum:0,tickStyle:TickStyle.Crossing,axislineStyle:LineStyle.Solid,positionAtZeroCrossing:!0})),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,tickStyle:TickStyle.Crossing,axislineStyle:LineStyle.Solid,positionAtZeroCrossing:!0})),Ve.series.push(createNormalDistributionSeries(-5,5,0,.2)),Ve.series.push(createNormalDistributionSeries(-5,5,0,1)),Ve.series.push(createNormalDistributionSeries(-5,5,0,5)),Ve.series.push(createNormalDistributionSeries(-5,5,-2,.5)),Ve}function minimumAndMaximumDataMarginsLog(){const Ve=new PlotModel({title:"Exponentials"});Ve.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,tickStyle:TickStyle.Inside})),Ve.axes.push(new LogarithmicAxis({position:AxisPosition.Left,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,tickStyle:TickStyle.Inside}));for(let je=1;je<=5;je++)Ve.series.push(new FunctionSeries({f:ze=>Math.pow(je,ze),x0:0,x1:10,dx:.01,title:`${je}^x`}));return Ve}function minimumAndMaximumMarginsPolar(){const Ve=new PlotModel({title:"Spiral",plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness(0)});return Ve.axes.push(new AngleAxis({majorStep:Math.PI/4,minorStep:Math.PI/16,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"",minimum:0,maximum:2*Math.PI})),Ve.axes.push(new MagnitudeAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,minimumPadding:0,maximumPadding:0,minimumDataMargin:0,maximumDataMargin:20})),Ve.series.push(new FunctionSeries({fx:je=>je,fy:je=>je,t0:0,t1:Math.PI*6,dt:.01})),Ve}function axisOutMargins(){const Ve=new PlotModel({title:"YAxes are evenly distributed with a constant gap",plotAreaBorderThickness:new OxyThickness(0)});Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,axislineStyle:LineStyle.Solid,key:"X"}));const je=4,ze=10;for(let qe=0;qe<je;qe++)Ve.axes.push(new LinearAxis({position:AxisPosition.Left,startPosition:qe/je,endPosition:(qe+1)/je,minimumMargin:qe/je*ze,maximumMargin:(je-qe-1)/je*ze,axislineStyle:LineStyle.Solid,key:`Y${qe}`})),Ve.series.push(new FunctionSeries({f:Xe=>Math.sin(Xe*(qe+1)),x0:1,x1:10,dx:.01,title:`x^${qe}`,xAxisKey:"X",yAxisKey:`Y${qe}`}));return Ve}function axisMarginsClipping(){const Ve=new PlotModel({title:"Axis Margins Clipping",subtitle:"Data Points and Visual Elements are clipped outside the Clip Bounds"});Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimumPadding:0,maximumPadding:0,minimumMargin:20,maximumMargin:20})),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0,maximumPadding:0,minimumMargin:20,maximumMargin:20}));const je=new Random(1),ze=new ScatterSeries({markerType:MarkerType.Diamond});for(let qe=0;qe<100;qe++)ze.points.push({x:je.next(),y:je.next()});return Ve.series.push(ze),Ve}function polarOuterMargins(){const Ve=new PlotModel({title:"Spiral",plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness(0)});return Ve.axes.push(new AngleAxis({majorStep:Math.PI/4,minorStep:Math.PI/16,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"",minimum:0,maximum:2*Math.PI})),Ve.axes.push(new MagnitudeAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,minimumPadding:0,maximumPadding:0,minimumMargin:0,maximumMargin:100})),Ve.series.push(new FunctionSeries({fx:je=>je,fy:je=>je,t0:0,t1:Math.PI*6,dt:.01})),Ve}function marginsAndPadding(){const Ve=new PlotModel({title:"Try resizing the plot",subtitle:`ClipMinimum/Maximum are Blue
ActualMinimum/Maximum are Red
DataMinimum/Maximum are Green`}),je=new LinearAxis({position:AxisPosition.Bottom,minimumPadding:.1,maximumPadding:.1,minimumDataMargin:20,maximumDataMargin:20,minimumMargin:30,maximumMargin:30,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dash,cropGridlines:!0});Ve.axes.push(je);const ze=new LinearAxis({position:AxisPosition.Left,minimumPadding:.1,maximumPadding:.1,minimumDataMargin:20,maximumDataMargin:20,minimumMargin:30,maximumMargin:30,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dash,cropGridlines:!0});Ve.axes.push(ze);const qe=new LineSeries;return qe.color=OxyColors.Green,qe.points.push(new DataPoint(-5,0)),qe.points.push(new DataPoint(-5,20)),qe.points.push(new DataPoint(25,20)),qe.points.push(new DataPoint(25,0)),qe.points.push(new DataPoint(-5,0)),Ve.series.push(qe),_addAxisMarginAnnotations(Ve),Ve}function _addAxisMarginAnnotations(Ve){Ve.annotations.push(new DelegateAnnotation(async je=>{const ze=RenderingExtensions.drawLine;for(const qe of Ve.axes)if(qe.isHorizontal()){const Xe=qe;await ze(je,Xe.transform(Xe.clipMinimum),0,Xe.transform(Xe.clipMinimum),Ve.height,new OxyPen(OxyColors.Blue,1,LineStyle.Dot),EdgeRenderingMode.Automatic),await ze(je,Xe.transform(Xe.clipMaximum),0,Xe.transform(Xe.clipMaximum),Ve.height,new OxyPen(OxyColors.Blue,1,LineStyle.Dot),EdgeRenderingMode.Automatic),await ze(je,Xe.transform(Xe.actualMinimum),0,Xe.transform(Xe.actualMinimum),Ve.height,new OxyPen(OxyColors.Red,1,LineStyle.Dot),EdgeRenderingMode.Automatic),await ze(je,Xe.transform(Xe.actualMaximum),0,Xe.transform(Xe.actualMaximum),Ve.height,new OxyPen(OxyColors.Red,1,LineStyle.Dot),EdgeRenderingMode.Automatic),await ze(je,Xe.transform(Xe.dataMinimum),0,Xe.transform(Xe.dataMinimum),Ve.height,new OxyPen(OxyColors.Green,1,LineStyle.Dot),EdgeRenderingMode.Automatic),await ze(je,Xe.transform(Xe.dataMaximum),0,Xe.transform(Xe.dataMaximum),Ve.height,new OxyPen(OxyColors.Green,1,LineStyle.Dot),EdgeRenderingMode.Automatic)}else{const Xe=qe;await ze(je,0,Xe.transform(Xe.clipMinimum),Ve.width,Xe.transform(Xe.clipMinimum),new OxyPen(OxyColors.Blue,1,LineStyle.Dot),EdgeRenderingMode.Automatic),await ze(je,0,Xe.transform(Xe.clipMaximum),Ve.width,Xe.transform(Xe.clipMaximum),new OxyPen(OxyColors.Blue,1,LineStyle.Dot),EdgeRenderingMode.Automatic),await ze(je,0,Xe.transform(Xe.actualMinimum),Ve.width,Xe.transform(Xe.actualMinimum),new OxyPen(OxyColors.Red,1,LineStyle.Dot),EdgeRenderingMode.Automatic),await ze(je,0,Xe.transform(Xe.actualMaximum),Ve.width,Xe.transform(Xe.actualMaximum),new OxyPen(OxyColors.Red,1,LineStyle.Dot),EdgeRenderingMode.Automatic),await ze(je,0,Xe.transform(Xe.dataMinimum),Ve.width,Xe.transform(Xe.dataMinimum),new OxyPen(OxyColors.Green,1,LineStyle.Dot),EdgeRenderingMode.Automatic),await ze(je,0,Xe.transform(Xe.dataMaximum),Ve.width,Xe.transform(Xe.dataMaximum),new OxyPen(OxyColors.Green,1,LineStyle.Dot),EdgeRenderingMode.Automatic)}}))}function marginsAndPaddingAsymmetrical(){const Ve=new PlotModel({title:"Try resizing the plot",subtitle:`ClipMinimum/Maximum are Blue
ActualMinimum/Maximum are Red
DataMinimum/Maximum are Green`}),je=new LinearAxis({position:AxisPosition.Bottom,minimumPadding:.1,maximumPadding:.05,minimumDataMargin:20,maximumDataMargin:10,minimumMargin:30,maximumMargin:15,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dash,cropGridlines:!0});Ve.axes.push(je);const ze=new LinearAxis({position:AxisPosition.Left,minimumPadding:.2,maximumPadding:.1,minimumDataMargin:40,maximumDataMargin:20,minimumMargin:60,maximumMargin:30,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dash,cropGridlines:!0});Ve.axes.push(ze);const qe=new LineSeries;return qe.color=OxyColors.Green,qe.points.push(new DataPoint(-5,0)),qe.points.push(new DataPoint(-5,20)),qe.points.push(new DataPoint(25,20)),qe.points.push(new DataPoint(25,0)),qe.points.push(new DataPoint(-5,0)),Ve.series.push(qe),_addAxisMarginAnnotations(Ve),Ve}function minimumMajorIntervalCount(){const Ve=new PlotModel({title:"MinimumMajorIntervalCount = 10"}),je=new LinearAxis({position:AxisPosition.Bottom,minimumMajorIntervalCount:10});Ve.axes.push(je);const ze=new LinearAxis({position:AxisPosition.Left,minimumMajorIntervalCount:10});return Ve.axes.push(ze),Ve}function maximumMajorIntervalCount(){const Ve=new PlotModel({title:"MaximumMajorIntervalCount = 5"}),je=new LinearAxis({position:AxisPosition.Bottom,maximumMajorIntervalCount:5});Ve.axes.push(je);const ze=new LinearAxis({position:AxisPosition.Left,maximumMajorIntervalCount:5});return Ve.axes.push(ze),Ve}function minimumAndMaximumMajorIntervalCount(){const Ve=new PlotModel({title:"MinimumMajorIntervalCount = MaximumMajorIntervalCount = 4"}),je=new LinearAxis({position:AxisPosition.Bottom,minimumMajorIntervalCount:4,maximumMajorIntervalCount:4});Ve.axes.push(je);const ze=new LinearAxis({position:AxisPosition.Left,minimumMajorIntervalCount:4,maximumMajorIntervalCount:4});return Ve.axes.push(ze),Ve}function createTickStyleExample(Ve){const je=getEnumName(TickStyle,Ve),ze=new PlotModel({title:"TickStyle = "+je});return ze.axes.push(new LinearAxis({position:AxisPosition.Left,tickStyle:Ve})),ze.axes.push(new LinearAxis({position:AxisPosition.Bottom,tickStyle:Ve})),ze}const category$N="Axis examples",AxisExamples={category:category$N,tags:["Axes"],examples:[{title:"TickStyle: None",example:{model:tickStyleNone$1}},{title:"TickStyle: Inside",example:{model:tickStyleInside$1}},{title:"TickStyle: Crossing",example:{model:tickStyleCrossing$1}},{title:"TickStyle: Outside",example:{model:tickStyleOutside$1}},{title:"TickStyle: Color major and minor ticks differently",example:{model:tickLineColor}},{title:"GridLinestyle: None (default)",example:{model:gridlineStyleNone}},{title:"GridLinestyle: Vertical",example:{model:gridLinestyleVertical}},{title:"GridLinestyle: Horizontal",example:{model:gridLinestyleHorizontal}},{title:"GridLinestyle: Horizontal and vertical",example:{model:gridLinestyleBoth}},{title:"Axis position left/bottom",example:{model:axisPositionLeftAndBottom}},{title:"Axis position top/right",example:{model:axisPositionTopRight}},{title:"Axis label angle 45deg",example:{model:axisAngle45}},{title:"Zero crossing axis",example:{model:zeroCrossing}},{title:"Horizontal zero crossing axis",example:{model:horizontalZeroCrossing}},{title:"Vertical zero crossing axis",example:{model:verticalZeroCrossing}},{title:"Reversed",example:{model:reversed}},{title:"Sharing Y axis",example:{model:sharingY}},{title:"Four axes",example:{model:fourAxes}},{title:"Five axes",example:{model:fiveAxes}},{title:"Logarithmic axes",example:{model:logarithmicAxes}},{title:"Logarithmic axes Cartesian Plot",example:{model:cartesianPlotLogarithmicAxes}},{title:"Big numbers",example:{model:bigNumbers}},{title:"Big numbers with super exponential format",example:{model:bigNumbersSuperExponentialFormat}},{title:"Small numbers",example:{model:smallNumbers}},{title:"Default padding",example:{model:defaultPadding}},{title:"No padding",example:{model:noPadding}},{title:"Padding 10%",example:{model:padding}},{title:"X-axis MinimumPadding=0.1",example:{model:xaxisMinimumPadding}},{title:"X-axis MaximumPadding=0.1",example:{model:xaxisMaximumPadding}},{title:"AbsoluteMinimum and AbsoluteMaximum",example:{model:absoluteMinimumAndMaximum}},{title:"MinimumRange",example:{model:minimumRange}},{title:"MaximumRange",example:{model:maximumRange}},{title:"Title with unit",example:{model:titleWithUnit}},{title:"Invisible vertical axis",example:{model:invisibleVerticalAxis}},{title:"Invisible horizontal axis",example:{model:invisibleHorizontalAxis}},{title:"Zooming disabled",example:{model:zoomingDisabled}},{title:"Panning disabled",example:{model:panningDisabled}},{title:"Dense intervals",example:{model:denseIntervals}},{title:"Graph Paper",example:{model:graphPaper}},{title:"Log-Log Paper",example:{model:logLogPaper}},{title:"Black background",example:{model:onBlack}},{title:"Background and PlotAreaBackground",example:{model:backgrounds}},{title:"Current culture",example:{model:currentCulture}},{title:"Long axis titles (clipped at 90%)",example:{model:longAxisTitlesClipped90}},{title:"Long axis titles (clipped at 100%)",example:{model:longAxisTitlesClipped100}},{title:"Long axis titles (not clipped)",example:{model:longAxisTitlesNotClipped}},{title:"PositionTier",example:{model:positionTier}},{title:"Custom axis title color",example:{model:titleColor}},{title:"Custom axis label color",example:{model:labelColor}},{title:"Angled axis numbers",example:{model:angledAxisNumbers}},{title:"Axis distance",example:{model:axisDistance}},{title:"No axes defined",example:{model:noAxesDefined}},{title:"LabelFormatter",example:{model:labelFormatter$1}},{title:"Tool tips",example:{model:toolTips}},{title:"Sub- and superscript in axis titles",example:{model:subSuperscriptInAxisTitles}},{title:"MinimumMajorStep",example:{model:minimumMajorStep}},{title:"MinimumMinorStep",example:{model:minimumMinorStep}},{title:"Default AxisTitleDistance",example:{model:defaultAxisTitleDistance}},{title:"Custom AxisTitleDistance",example:{model:customAxisTitleDistance}},{title:"MajorGridlineStyle",example:{model:majorGridlineStyle}},{title:"Gridlines Cropping: Horizontal and vertical",example:{model:gridlineCroppingBoth}},{title:"Multi vertical axes with lineSeries",example:{model:multiVerticalAxes}},{title:"Auto Margins",example:{model:autoMargin}},{title:"Manual Margins",example:{model:manualMargins}},{title:"Manual Left Margin",example:{model:manualLeftMargin}},{title:"Auto Margins - Wide Labels",example:{model:autoMarginWideLabels}},{title:"Auto Margins - Wide Labels, rotated",example:{model:autoMarginWideLabelsRotated}},{title:"Auto Margins - Wide Labels, fixed Range",example:{model:autoMarginWideLabelsFixedRange}},{title:"Auto Margins - Wide Labels, fixed Range 2",example:{model:autoMarginWideLabelsFixedRange2}},{title:"Data Margins",example:{model:minimumAndMaximumDataMargins}},{title:"Data Margins with Zero-Crossing",example:{model:minimumAndMaximumDataMarginsZeroCrossing}},{title:"Data Margins on Log Axis",example:{model:minimumAndMaximumDataMarginsLog}},{title:"Data Margins on Polar Plot",example:{model:minimumAndMaximumMarginsPolar}},{title:"Axis Margins",example:{model:axisOutMargins}},{title:"Axis Margins Clipping",example:{model:axisMarginsClipping}},{title:"Axis Margins on Polar Plot",example:{model:polarOuterMargins}},{title:"Axis Margins, Data Margins, and Padding",example:{model:marginsAndPadding}},{title:"Axis Margins, Data Margins, and Padding, Asymmetrical",example:{model:marginsAndPaddingAsymmetrical}},{title:"Minimum Major Interval Count",example:{model:minimumMajorIntervalCount}},{title:"Maximum Major Interval Count",example:{model:maximumMajorIntervalCount}},{title:"Minimum and Maximum Major Interval Count",example:{model:minimumAndMaximumMajorIntervalCount}}]};function functionSeries$1(){const Ve=new PlotModel({title:"Trigonometric functions",plotType:PlotType.Cartesian});return Ve.series.push(FunctionSeries.fromDx(Math.sin,-10,10,.1,"sin(x)")),Ve.series.push(FunctionSeries.fromDx(Math.cos,-10,10,.1,"cos(x)")),Ve.series.push(FunctionSeries.fromFxFyN(je=>5*Math.cos(je),je=>5*Math.sin(je),0,2*Math.PI,1e3,"cos(t),sin(t)")),Ve}function clover$1(){const Ve=new PlotModel({title:"Parametric function",plotType:PlotType.Cartesian});return Ve.series.push(FunctionSeries.fromFxFyN(je=>2*Math.cos(2*je)*Math.cos(je),je=>2*Math.cos(2*je)*Math.sin(je),0,Math.PI*2,1e3,"2cos(2t)cos(t) , 2cos(2t)sin(t)")),Ve}function absoluteYmin(){const Ve=new PlotModel({title:"Y: AbsoluteMinimum = 0",plotType:PlotType.Cartesian}),je=OxyColors.DarkBlue;return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"X-axis",majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,je),minorGridlineColor:OxyColor.fromAColor(20,je)})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,je),minorGridlineColor:OxyColor.fromAColor(20,je)})),Ve.series.push(createTestSeries()),Ve}function absoluteYmin2(){const Ve=new PlotModel({title:"Y: AbsoluteMinimum = 0",subtitle:"AutoAdjustPlotMargins = false",plotType:PlotType.Cartesian,plotMargins:new OxyThickness(60,4,4,40)}),je=OxyColors.DarkBlue;return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"X-axis",majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,je),minorGridlineColor:OxyColor.fromAColor(20,je)})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,je),minorGridlineColor:OxyColor.fromAColor(20,je)})),Ve.series.push(createTestSeries()),Ve}function absoluteYminXmin(){const Ve=new PlotModel({title:"X: AbsoluteMinimum = -10, Y: AbsoluteMinimum = 0",plotType:PlotType.Cartesian}),je=OxyColors.DarkBlue;return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"X-axis",absoluteMinimum:-10,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,je),minorGridlineColor:OxyColor.fromAColor(20,je)})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,je),minorGridlineColor:OxyColor.fromAColor(20,je)})),Ve.series.push(createTestSeries()),Ve}function absoluteYminYmax(){const Ve=new PlotModel({title:"Y: AbsoluteMinimum = 0, AbsoluteMaximum = 2",plotType:PlotType.Cartesian}),je=OxyColors.DarkBlue;return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"X-axis",majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,je),minorGridlineColor:OxyColor.fromAColor(20,je)})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,absoluteMaximum:2,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,je),minorGridlineColor:OxyColor.fromAColor(20,je)})),Ve.series.push(createTestSeries()),Ve}function absoluteYminXminXmax(){const Ve=new PlotModel({title:"Y: AbsoluteMinimum = 0, X: AbsoluteMinimum = -10, AbsoluteMaximum = 10",plotType:PlotType.Cartesian}),je=OxyColors.DarkBlue;return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"X-axis",absoluteMinimum:-10,absoluteMaximum:10,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,je),minorGridlineColor:OxyColor.fromAColor(20,je)})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,je),minorGridlineColor:OxyColor.fromAColor(20,je)})),Ve.series.push(createTestSeries()),Ve}function absoluteYminYmaxXminXmax(){const Ve=new PlotModel({title:"Y: AbsoluteMinimum = 0, AbsoluteMaximum = 2, X: AbsoluteMinimum = -10, AbsoluteMaximum = 10",plotType:PlotType.Cartesian}),je=OxyColors.DarkBlue;return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"X-axis",absoluteMinimum:-10,absoluteMaximum:10,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,je),minorGridlineColor:OxyColor.fromAColor(20,je)})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,absoluteMaximum:2,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,je),minorGridlineColor:OxyColor.fromAColor(20,je)})),Ve.series.push(createTestSeries()),Ve}function createTestSeries(){const Ve=new LineSeries;return Ve.points.push(new DataPoint(-8,0),new DataPoint(-7.5,.1),new DataPoint(-7,.2),new DataPoint(-6,.4),new DataPoint(-5,.5),new DataPoint(-4,.6),new DataPoint(-3,.7),new DataPoint(-2,.8),new DataPoint(-1,.9),new DataPoint(0,1),new DataPoint(1,.9),new DataPoint(2,.8),new DataPoint(3,.7),new DataPoint(4,.6),new DataPoint(5,.5),new DataPoint(6,.4),new DataPoint(7,.2),new DataPoint(7.5,.1),new DataPoint(8,0),DataPoint.Undefined,new DataPoint(-.5,.5),new DataPoint(-.5,1.5),new DataPoint(.5,1.5),new DataPoint(.5,.5),new DataPoint(-.5,.5)),Ve}const category$M="Cartesian axes",CartesianAxesExamples={category:category$M,tags:["Axes"],examples:[{title:"Trigonometric functions",example:{model:functionSeries$1}},{title:"Clover",example:{model:clover$1}},{title:"AbsoluteMinimum Y",example:{model:absoluteYmin}},{title:"AbsoluteMinimum Y, manual plotmargins",example:{model:absoluteYmin2}},{title:"AbsoluteMinimum X/Y",example:{model:absoluteYminXmin}},{title:"AbsoluteMinimum/Maximum Y",example:{model:absoluteYminYmax}},{title:"AbsoluteMinimum Y, AbsoluteMinimum/Maximum X",example:{model:absoluteYminXminXmax}},{title:"AbsoluteMinimum/Maximum X/Y",example:{model:absoluteYminYmaxXminXmax}}]};function standardCategoryAxis(){const Ve=new PlotModel({title:"Standard"}),je=new CategoryAxis;je.labels.push("1","2","3","4","5","6","7","8","9","10","11","12"),Ve.axes.push(je);const ze=new LinearAxis({position:AxisPosition.Left});return Ve.axes.push(ze),Ve}function itemsSourceStrings(){const Ve=new PlotModel({title:"CategoryAxis with string[] as ItemsSource"});Ve.axes.push(new CategoryAxis({stringFormatter:ze=>`Item ${ze}`,itemsSource:["A","B","C"]}));const je=new LinearAxis({position:AxisPosition.Left});return Ve.axes.push(je),Ve}function itemsSourceValues(){const Ve=new PlotModel({title:"CategoryAxis with int[] as ItemsSource"});Ve.axes.push(new CategoryAxis({stringFormatter:ze=>`Item ${ze}`,itemsSource:[10,100,123]}));const je=new LinearAxis({position:AxisPosition.Left});return Ve.axes.push(je),Ve}function majorStepCategoryAxis(){const Ve=new PlotModel({title:"Major Step = 4, IsTickCentered = false"}),je=new CategoryAxis({isTickCentered:!1,majorStep:4});je.labels.push("1","2","3","4","5","6","7","8","9","10","11","12"),Ve.axes.push(je);const ze=new LinearAxis({position:AxisPosition.Left});return Ve.axes.push(ze),Ve}function majorStepCategoryTickCenteredAxis(){const Ve=new PlotModel({title:"Major Step = 4, IsTickCentered = true"}),je=new CategoryAxis({isTickCentered:!0,majorStep:4});je.labels.push("1","2","3","4","5","6","7","8","9","10","11","12"),Ve.axes.push(je);const ze=new LinearAxis({position:AxisPosition.Left});return Ve.axes.push(ze),Ve}const category$L="CategoryAxis",CategoryAxisExamples={category:category$L,tags:["Axes"],examples:[{title:"Standard",example:{model:standardCategoryAxis}},{title:"ItemsSource - string[]",example:{model:itemsSourceStrings}},{title:"ItemsSource - int[]",example:{model:itemsSourceValues}},{title:"MajorStep",example:{model:majorStepCategoryAxis}},{title:"MajorStep, TickCentered",example:{model:majorStepCategoryTickCenteredAxis}}]};function standardCategoryColorAxis(){const Ve=new PlotModel({title:"CategoryColorAxis"}),je=new CategoryColorAxis({key:"ccc",palette:OxyPalettes.blackWhiteRed(12)});je.labels.push("1","2","3","4","5","6","7","8","9","10","11","12"),Ve.axes.push(je);const ze=new LinearAxis({position:AxisPosition.Left}),qe=new ScatterSeries({colorAxisKey:je.key});return qe.points.push({x:0,y:0,size:NaN,value:0}),qe.points.push({x:3,y:0,size:NaN,value:3}),Ve.series.push(qe),Ve.axes.push(ze),Ve}function majorStep4(){const Ve=new PlotModel({title:"Major Step = 4, IsTickCentered = true"}),je=new CategoryColorAxis({palette:OxyPalettes.blackWhiteRed(3),isTickCentered:!0,majorStep:4});je.labels.push("1","2","3","4","5","6","7","8","9","10","11","12"),Ve.axes.push(je);const ze=new LinearAxis({position:AxisPosition.Left});return Ve.axes.push(ze),Ve}const category$K="CategoryColorAxis",CategoryColorAxisExamples={category:category$K,tags:["Axes"],examples:[{title:"CategoryColorAxis",example:{model:standardCategoryColorAxis}},{title:"Centered ticks, MajorStep = 4",example:{model:majorStep4}}]};function customArrowAxis(){const Ve=new PlotModel({plotAreaBorderThickness:new OxyThickness(0),plotMargins:new OxyThickness(60,60,60,60)});return Ve.axes.push(new ArrowAxis({position:AxisPosition.Bottom,axislineStyle:LineStyle.Solid})),Ve.axes.push(new ArrowAxis({position:AxisPosition.Left,axislineStyle:LineStyle.Solid})),Ve}class ArrowAxis extends LinearAxis{async render(je,ze){await super.render(je,ze);const qe=[];if(this.isHorizontal()){const Xe=this.transform(this.actualMaximum);qe.push(new ScreenPoint(Xe+4,this.plotModel.plotArea.bottom-4)),qe.push(new ScreenPoint(Xe+18,this.plotModel.plotArea.bottom)),qe.push(new ScreenPoint(Xe+4,this.plotModel.plotArea.bottom+4))}else{const Xe=this.transform(this.actualMaximum);qe.push(new ScreenPoint(this.plotModel.plotArea.left-4,Xe-4)),qe.push(new ScreenPoint(this.plotModel.plotArea.left,Xe-18)),qe.push(new ScreenPoint(this.plotModel.plotArea.left+4,Xe-4))}await je.drawPolygon(qe,OxyColors.Black,OxyColors.Undefined,0,this.edgeRenderingMode)}}const category$J="Custom axes",CustomAxisExamples={category:category$J,tags:["Axes"],examples:[{title:"ArrowAxis",example:{model:customArrowAxis}}]};var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(Ve){return Ve&&Ve.__esModule&&Object.prototype.hasOwnProperty.call(Ve,"default")?Ve.default:Ve}var dayjs_min={exports:{}};(function(Ve,je){(function(ze,qe){Ve.exports=qe()})(commonjsGlobal,function(){var ze=1e3,qe=6e4,Xe=36e5,Ye="millisecond",Ke="second",Ze="minute",Qe="hour",Je="day",St="week",ei="month",ti="quarter",ii="year",ri="date",si="Invalid Date",ui=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,ai=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,oi={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Si){var ki=["th","st","nd","rd"],Li=Si%100;return"["+Si+(ki[(Li-20)%10]||ki[Li]||ki[0])+"]"}},ni=function(Si,ki,Li){var Bi=String(Si);return!Bi||Bi.length>=ki?Si:""+Array(ki+1-Bi.length).join(Li)+Si},ci={s:ni,z:function(Si){var ki=-Si.utcOffset(),Li=Math.abs(ki),Bi=Math.floor(Li/60),Pi=Li%60;return(ki<=0?"+":"-")+ni(Bi,2,"0")+":"+ni(Pi,2,"0")},m:function Si(ki,Li){if(ki.date()<Li.date())return-Si(Li,ki);var Bi=12*(Li.year()-ki.year())+(Li.month()-ki.month()),Pi=ki.clone().add(Bi,ei),Ri=Li-Pi<0,Fi=ki.clone().add(Bi+(Ri?-1:1),ei);return+(-(Bi+(Li-Pi)/(Ri?Pi-Fi:Fi-Pi))||0)},a:function(Si){return Si<0?Math.ceil(Si)||0:Math.floor(Si)},p:function(Si){return{M:ei,y:ii,w:St,d:Je,D:ri,h:Qe,m:Ze,s:Ke,ms:Ye,Q:ti}[Si]||String(Si||"").toLowerCase().replace(/s$/,"")},u:function(Si){return Si===void 0}},hi="en",di={};di[hi]=oi;var fi="$isDayjsObject",mi=function(Si){return Si instanceof yi||!(!Si||!Si[fi])},pi=function Si(ki,Li,Bi){var Pi;if(!ki)return hi;if(typeof ki=="string"){var Ri=ki.toLowerCase();di[Ri]&&(Pi=Ri),Li&&(di[Ri]=Li,Pi=Ri);var Fi=ki.split("-");if(!Pi&&Fi.length>1)return Si(Fi[0])}else{var Gi=ki.name;di[Gi]=ki,Pi=Gi}return!Bi&&Pi&&(hi=Pi),Pi||!Bi&&hi},wi=function(Si,ki){if(mi(Si))return Si.clone();var Li=typeof ki=="object"?ki:{};return Li.date=Si,Li.args=arguments,new yi(Li)},gi=ci;gi.l=pi,gi.i=mi,gi.w=function(Si,ki){return wi(Si,{locale:ki.$L,utc:ki.$u,x:ki.$x,$offset:ki.$offset})};var yi=function(){function Si(Li){this.$L=pi(Li.locale,null,!0),this.parse(Li),this.$x=this.$x||Li.x||{},this[fi]=!0}var ki=Si.prototype;return ki.parse=function(Li){this.$d=function(Bi){var Pi=Bi.date,Ri=Bi.utc;if(Pi===null)return new Date(NaN);if(gi.u(Pi))return new Date;if(Pi instanceof Date)return new Date(Pi);if(typeof Pi=="string"&&!/Z$/i.test(Pi)){var Fi=Pi.match(ui);if(Fi){var Gi=Fi[2]-1||0,Ti=(Fi[7]||"0").substring(0,3);return Ri?new Date(Date.UTC(Fi[1],Gi,Fi[3]||1,Fi[4]||0,Fi[5]||0,Fi[6]||0,Ti)):new Date(Fi[1],Gi,Fi[3]||1,Fi[4]||0,Fi[5]||0,Fi[6]||0,Ti)}}return new Date(Pi)}(Li),this.init()},ki.init=function(){var Li=this.$d;this.$y=Li.getFullYear(),this.$M=Li.getMonth(),this.$D=Li.getDate(),this.$W=Li.getDay(),this.$H=Li.getHours(),this.$m=Li.getMinutes(),this.$s=Li.getSeconds(),this.$ms=Li.getMilliseconds()},ki.$utils=function(){return gi},ki.isValid=function(){return this.$d.toString()!==si},ki.isSame=function(Li,Bi){var Pi=wi(Li);return this.startOf(Bi)<=Pi&&Pi<=this.endOf(Bi)},ki.isAfter=function(Li,Bi){return wi(Li)<this.startOf(Bi)},ki.isBefore=function(Li,Bi){return this.endOf(Bi)<wi(Li)},ki.$g=function(Li,Bi,Pi){return gi.u(Li)?this[Bi]:this.set(Pi,Li)},ki.unix=function(){return Math.floor(this.valueOf()/1e3)},ki.valueOf=function(){return this.$d.getTime()},ki.startOf=function(Li,Bi){var Pi=this,Ri=!!gi.u(Bi)||Bi,Fi=gi.p(Li),Gi=function(Qi,Ei){var bi=gi.w(Pi.$u?Date.UTC(Pi.$y,Ei,Qi):new Date(Pi.$y,Ei,Qi),Pi);return Ri?bi:bi.endOf(Je)},Ti=function(Qi,Ei){return gi.w(Pi.toDate()[Qi].apply(Pi.toDate("s"),(Ri?[0,0,0,0]:[23,59,59,999]).slice(Ei)),Pi)},Vi=this.$W,Ui=this.$M,$i=this.$D,Wi="set"+(this.$u?"UTC":"");switch(Fi){case ii:return Ri?Gi(1,0):Gi(31,11);case ei:return Ri?Gi(1,Ui):Gi(0,Ui+1);case St:var tn=this.$locale().weekStart||0,nn=(Vi<tn?Vi+7:Vi)-tn;return Gi(Ri?$i-nn:$i+(6-nn),Ui);case Je:case ri:return Ti(Wi+"Hours",0);case Qe:return Ti(Wi+"Minutes",1);case Ze:return Ti(Wi+"Seconds",2);case Ke:return Ti(Wi+"Milliseconds",3);default:return this.clone()}},ki.endOf=function(Li){return this.startOf(Li,!1)},ki.$set=function(Li,Bi){var Pi,Ri=gi.p(Li),Fi="set"+(this.$u?"UTC":""),Gi=(Pi={},Pi[Je]=Fi+"Date",Pi[ri]=Fi+"Date",Pi[ei]=Fi+"Month",Pi[ii]=Fi+"FullYear",Pi[Qe]=Fi+"Hours",Pi[Ze]=Fi+"Minutes",Pi[Ke]=Fi+"Seconds",Pi[Ye]=Fi+"Milliseconds",Pi)[Ri],Ti=Ri===Je?this.$D+(Bi-this.$W):Bi;if(Ri===ei||Ri===ii){var Vi=this.clone().set(ri,1);Vi.$d[Gi](Ti),Vi.init(),this.$d=Vi.set(ri,Math.min(this.$D,Vi.daysInMonth())).$d}else Gi&&this.$d[Gi](Ti);return this.init(),this},ki.set=function(Li,Bi){return this.clone().$set(Li,Bi)},ki.get=function(Li){return this[gi.p(Li)]()},ki.add=function(Li,Bi){var Pi,Ri=this;Li=Number(Li);var Fi=gi.p(Bi),Gi=function(Ui){var $i=wi(Ri);return gi.w($i.date($i.date()+Math.round(Ui*Li)),Ri)};if(Fi===ei)return this.set(ei,this.$M+Li);if(Fi===ii)return this.set(ii,this.$y+Li);if(Fi===Je)return Gi(1);if(Fi===St)return Gi(7);var Ti=(Pi={},Pi[Ze]=qe,Pi[Qe]=Xe,Pi[Ke]=ze,Pi)[Fi]||1,Vi=this.$d.getTime()+Li*Ti;return gi.w(Vi,this)},ki.subtract=function(Li,Bi){return this.add(-1*Li,Bi)},ki.format=function(Li){var Bi=this,Pi=this.$locale();if(!this.isValid())return Pi.invalidDate||si;var Ri=Li||"YYYY-MM-DDTHH:mm:ssZ",Fi=gi.z(this),Gi=this.$H,Ti=this.$m,Vi=this.$M,Ui=Pi.weekdays,$i=Pi.months,Wi=Pi.meridiem,tn=function(Ei,bi,Ci,_i){return Ei&&(Ei[bi]||Ei(Bi,Ri))||Ci[bi].slice(0,_i)},nn=function(Ei){return gi.s(Gi%12||12,Ei,"0")},Qi=Wi||function(Ei,bi,Ci){var _i=Ei<12?"AM":"PM";return Ci?_i.toLowerCase():_i};return Ri.replace(ai,function(Ei,bi){return bi||function(Ci){switch(Ci){case"YY":return String(Bi.$y).slice(-2);case"YYYY":return gi.s(Bi.$y,4,"0");case"M":return Vi+1;case"MM":return gi.s(Vi+1,2,"0");case"MMM":return tn(Pi.monthsShort,Vi,$i,3);case"MMMM":return tn($i,Vi);case"D":return Bi.$D;case"DD":return gi.s(Bi.$D,2,"0");case"d":return String(Bi.$W);case"dd":return tn(Pi.weekdaysMin,Bi.$W,Ui,2);case"ddd":return tn(Pi.weekdaysShort,Bi.$W,Ui,3);case"dddd":return Ui[Bi.$W];case"H":return String(Gi);case"HH":return gi.s(Gi,2,"0");case"h":return nn(1);case"hh":return nn(2);case"a":return Qi(Gi,Ti,!0);case"A":return Qi(Gi,Ti,!1);case"m":return String(Ti);case"mm":return gi.s(Ti,2,"0");case"s":return String(Bi.$s);case"ss":return gi.s(Bi.$s,2,"0");case"SSS":return gi.s(Bi.$ms,3,"0");case"Z":return Fi}return null}(Ei)||Fi.replace(":","")})},ki.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ki.diff=function(Li,Bi,Pi){var Ri,Fi=this,Gi=gi.p(Bi),Ti=wi(Li),Vi=(Ti.utcOffset()-this.utcOffset())*qe,Ui=this-Ti,$i=function(){return gi.m(Fi,Ti)};switch(Gi){case ii:Ri=$i()/12;break;case ei:Ri=$i();break;case ti:Ri=$i()/3;break;case St:Ri=(Ui-Vi)/6048e5;break;case Je:Ri=(Ui-Vi)/864e5;break;case Qe:Ri=Ui/Xe;break;case Ze:Ri=Ui/qe;break;case Ke:Ri=Ui/ze;break;default:Ri=Ui}return Pi?Ri:gi.a(Ri)},ki.daysInMonth=function(){return this.endOf(ei).$D},ki.$locale=function(){return di[this.$L]},ki.locale=function(Li,Bi){if(!Li)return this.$L;var Pi=this.clone(),Ri=pi(Li,Bi,!0);return Ri&&(Pi.$L=Ri),Pi},ki.clone=function(){return gi.w(this.$d,this)},ki.toDate=function(){return new Date(this.valueOf())},ki.toJSON=function(){return this.isValid()?this.toISOString():null},ki.toISOString=function(){return this.$d.toISOString()},ki.toString=function(){return this.$d.toUTCString()},Si}(),Ai=yi.prototype;return wi.prototype=Ai,[["$ms",Ye],["$s",Ke],["$m",Ze],["$H",Qe],["$W",Je],["$M",ei],["$y",ii],["$D",ri]].forEach(function(Si){Ai[Si[1]]=function(ki){return this.$g(ki,Si[0],Si[1])}}),wi.extend=function(Si,ki){return Si.$i||(Si(ki,yi,wi),Si.$i=!0),wi},wi.locale=pi,wi.isDayjs=mi,wi.unix=function(Si){return wi(1e3*Si)},wi.en=di[hi],wi.Ls=di,wi.p={},wi})})(dayjs_min);var dayjs_minExports=dayjs_min.exports;const dayjs=getDefaultExportFromCjs(dayjs_minExports);class Sun{static deg2Rad(je){return Math.PI*je/180}static rad2Deg(je){return 180*je/Math.PI}static fixValue(je,ze,qe){for(;je<ze;)je+=qe-ze;for(;je>=qe;)je-=qe-ze;return je}static calculate(je,ze,qe,Xe,Ye,Ke=90.5){const Ze=dayjs(je).dayOfYear(),Qe=qe/15;let Je;Xe?Je=Ze+(6-Qe)/24:Je=Ze+(18-Qe)/24;const St=.9856*Je-3.289;let ei=St+1.916*Math.sin(this.deg2Rad(St))+.02*Math.sin(this.deg2Rad(2*St))+282.634;ei=this.fixValue(ei,0,360);let ti=this.rad2Deg(Math.atan(.91764*Math.tan(this.deg2Rad(ei))));ti=this.fixValue(ti,0,360);const ii=Math.floor(ei/90)*90,ri=Math.floor(ti/90)*90;ti=ti+(ii-ri),ti=ti/15;const si=.39782*Math.sin(this.deg2Rad(ei)),ui=Math.cos(Math.asin(si)),ai=(Math.cos(this.deg2Rad(Ke))-si*Math.sin(this.deg2Rad(ze)))/(ui*Math.cos(this.deg2Rad(ze)));let oi;Xe?oi=360-this.rad2Deg(Math.acos(ai)):oi=this.rad2Deg(Math.acos(ai)),oi=oi/15;let ci=oi+ti-.06571*Je-6.622-Qe;je=new Date(Date.UTC(je.getFullYear(),je.getMonth(),je.getDate(),0,0,0));const hi=new Date(je.getTime()+ci*60*60*1e3);return ci=(Ye(hi).getTime()-je.getTime())/(60*60*1e3),ci=this.fixValue(ci,0,24),new Date(je.getTime()+ci*60*60*1e3)}}const defaultValues$1=()=>createExample$2(7,void 0),stringFormat$1=()=>{const Ve=getDateService();return createExample$2(7,je=>Ve.format(je,`MMM DD
YYYY`))};function createExample$2(Ve,je){const ze=new PlotModel,qe=new Date(2e3,0,1),Xe=DateTimeAxis.toDouble(qe),Ye=Xe+Ve;return ze.axes.push(new DateTimeAxis({position:AxisPosition.Bottom,minimum:Xe,maximum:Ye,stringFormatter:je})),ze.axes.push(new DateTimeAxis({position:AxisPosition.Left,minimum:Xe,maximum:Ye,stringFormatter:je})),ze}function daylightSavingsBreak(){const Ve=new PlotModel,je=new DateTimeAxis;je.position=AxisPosition.Bottom,Ve.axes.push(je),Ve.axes.push(new LinearAxis);const ze=new LineSeries;ze.markerType=MarkerType.Circle,Ve.series.push(ze);const qe=new Date(Date.UTC(2013,2,31,0,0,0));for(let Xe=0;Xe<400;Xe+=10){const Ye=new Date(qe.getTime()+Xe*6e4);ze.points.push(DateTimeAxis.createDataPoint(Ye,Xe))}return Ve}function dateTimeAxisPlotModel(){const Ve=new Date(2010,0,1),je=new Date(2015,0,1),ze=3600*24*14,qe=getDateService(),Xe=[];let Ye=Ve;const Ke=new Random;for(;Ye<=je;)Xe.push({date:Ye,value:Ke.next()}),Ye=qe.addTimespan(Ye,TimeSpan.fromSeconds(ze));const Ze=new PlotModel({title:"DateTime axis"}),Qe=new DateTimeAxis({firstDayOfWeek:DayOfWeek.Monday,position:AxisPosition.Bottom});Ze.axes.push(Qe);const Je=new LinearAxis;Ze.axes.push(Je);const St=new LineSeries({color:OxyColor.fromArgb(255,78,154,6),markerFill:OxyColor.fromArgb(255,78,154,6),markerStroke:OxyColors.ForestGreen,markerType:MarkerType.Plus,strokeThickness:1,dataFieldX:"date",dataFieldY:"value",itemsSource:Xe});return Ze.series.push(St),Ze}function sunriseAndSunsetInOslo(){const Ve=new Date().getFullYear(),ze=createSunData(Ve,59.91,10.75,Qe=>{const Je=isDaylightSaving(Qe)?2:1;return new Date(Qe.getTime()+Je*60*60*1e3)}),qe=new PlotModel({title:"Sunrise and sunset in Oslo",subtitle:"UTC time"}),Xe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Ye=new DateTimeAxis({firstDayOfWeek:DayOfWeek.Monday,intervalType:DateTimeIntervalType.Months,majorGridlineStyle:LineStyle.Solid,position:AxisPosition.Bottom,stringFormatter:Qe=>Xe[Qe.getMonth()]});qe.axes.push(Ye);const Ke=new TimeSpanAxis({majorGridlineStyle:LineStyle.Solid,maximum:86400,minimum:0,stringFormatter:Qe=>formatTimeSpan(Qe,"hh:mm")});qe.axes.push(Ke);const Ze=new AreaSeries({itemsSource:ze,dataFieldX:"Day",dataFieldY:"Sunrise",dataFieldX2:"Day",dataFieldY2:"Sunset",fill:OxyColor.fromArgb(128,255,255,0),color:OxyColors.Black});return qe.series.push(Ze),qe}function labelFormatter(){const Ve=new PlotModel({title:"Using LabelFormatter to format labels by day of week"});Ve.axes.push(new DateTimeAxis({labelFormatter:ze=>DateTimeAxis.toDateTime(ze).getDay().toString().substring(0,3)}));const je=new LineSeries;Ve.series.push(je);for(let ze=0;ze<7;ze++){const qe=new Date(2014,9,10);qe.setDate(qe.getDate()+ze);const Xe=DateTimeAxis.toDouble(qe),Ye=Math.sin(ze*ze);je.points.push(new DataPoint(Xe,Ye))}return Ve}function createSunData(Ve,je,ze,qe){const Xe=[];let Ye=new Date(Ve,0,1);const Ke=TimeSpan.fromMinutes(Ye.getTimezoneOffset()),Ze=getDateService();for(;Ye.getFullYear()===Ve;){let Qe=Sun.calculate(Ye,je,ze,!0,qe);Qe=Ze.addTimespan(Qe,Ke);let Je=Sun.calculate(Ye,je,ze,!1,qe);Je=Ze.addTimespan(Je,Ke),Xe.push({Day:Ye,Sunrise:Ze.diff(Qe,Ye),Sunset:Ze.diff(Je,Ye)}),Ye=Ze.addTimespan(Ye,TimeSpan.fromDays(1))}return Xe}function isDaylightSaving(Ve){const je=new Date(Ve.getFullYear(),2,31,2,0,0);je.setDate(je.getDate()-je.getDay());const ze=new Date(Ve.getFullYear(),9,31,3,0,0);return ze.setDate(ze.getDate()-ze.getDay()),Ve>=je&&Ve<=ze}const category$I="DateTimeAxis",DateTimeAxisExamples={category:category$I,tags:["Axes"],examples:[{title:"Default StringFormat",example:{model:defaultValues$1}},{title:"StringFormat 'MMM DD\\nYYYY'",example:{model:stringFormat$1}},{title:"TimeZone adjustments",example:{model:daylightSavingsBreak}},{title:"DateTime axis",example:{model:dateTimeAxisPlotModel}},{title:"Sunrise and sunset in Oslo",example:{model:sunriseAndSunsetInOslo}},{title:"LabelFormatter",example:{model:labelFormatter}}]};function stringFormat(){return createExample$1(123456.78901234567,1.2345678901234567e6,void 0)}function stringFormatF2(){return createExample$1(123456.78901234567,1.2345678901234567e6,(Ve,je)=>Ve.toFixed(2))}function tickStyleNone(){return createTickStyleModel(TickStyle.None)}function tickStyleCrossing(){return createTickStyleModel(TickStyle.Crossing)}function tickStyleInside(){return createTickStyleModel(TickStyle.Inside)}function tickStyleOutside(){return createTickStyleModel(TickStyle.Outside)}function gridlinesNone(){return createGridlinesModel("None",LineStyle.None,LineStyle.None)}function gridlinesHorizontal(){return createGridlinesModel("Horizontal",LineStyle.Solid,LineStyle.None)}function gridlinesVertical(){return createGridlinesModel("Vertical",LineStyle.None,LineStyle.Solid)}function gridlinesBoth(){return createGridlinesModel("Both",LineStyle.Solid,LineStyle.Solid)}function createExample$1(Ve,je,ze){const qe=new PlotModel;return qe.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:Ve,maximum:je,stringFormatter:ze})),qe.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:Ve,maximum:je,stringFormatter:ze})),qe}function createTickStyleModel(Ve){const je=new PlotModel({title:`TickStyle: ${Ve}`});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom,tickStyle:Ve,majorGridlineStyle:LineStyle.None,minorGridlineStyle:LineStyle.None,maximumPadding:0,minimumPadding:0})),je.axes.push(new LinearAxis({position:AxisPosition.Left,tickStyle:Ve,majorGridlineStyle:LineStyle.None,minorGridlineStyle:LineStyle.None,maximumPadding:0,minimumPadding:0})),je}function createGridlinesModel(Ve,je,ze){const qe=new PlotModel({title:`Gridlines: ${Ve}`});return qe.axes.push(new LinearAxis({position:AxisPosition.Bottom,majorGridlineStyle:ze,minorGridlineStyle:ze===LineStyle.Solid?LineStyle.Dot:LineStyle.None,maximumPadding:0,minimumPadding:0})),qe.axes.push(new LinearAxis({position:AxisPosition.Left,majorGridlineStyle:je,minorGridlineStyle:je===LineStyle.Solid?LineStyle.Dot:LineStyle.None,maximumPadding:0,minimumPadding:0})),qe}const category$H="LinearAxis",LinearAxisExamples={category:category$H,tags:["Axes"],examples:[{title:"Default StringFormat ('g6')",example:{model:stringFormat}},{title:"StringFormat = 'f2'",example:{model:stringFormatF2}},{title:"TickStyle: None",example:{model:tickStyleNone}},{title:"TickStyle: Crossing",example:{model:tickStyleCrossing}},{title:"TickStyle: Inside",example:{model:tickStyleInside}},{title:"TickStyle: Outside",example:{model:tickStyleOutside}},{title:"Gridlines: None",example:{model:gridlinesNone}},{title:"Gridlines: Horizontal",example:{model:gridlinesHorizontal}},{title:"Gridlines: Vertical",example:{model:gridlinesVertical}},{title:"Gridlines: Both",example:{model:gridlinesBoth}}]};function peaks$1(){return _createHeatMapPeaks()}function interpolated(){return _createExample("Interpolated",!0)}function interpolatedCartesian(){const Ve=_createExample("Interpolated, cartesian axes",!0);return Ve.plotType=PlotType.Cartesian,Ve}function interpolatedWithNanValue(){const Ve=_createExample("Interpolated including two NaN values",!0),je=Ve.series[0];return je.data[0][1]=Number.NaN,je.data[1][0]=Number.NaN,Ve}function interpolatedWithNanValueFlat(){const Ve=_createExample("Interpolated including two NaN values, otherwise 4.71",!0),ze=Ve.series[0].data,qe=4.71;return ze[0][0]=qe,ze[0][1]=qe,ze[0][2]=qe,ze[1][0]=qe,ze[1][1]=qe,ze[1][2]=qe,ze[0][1]=Number.NaN,ze[1][0]=Number.NaN,Ve}function notInterpolated(){return _createExample("Not interpolated values",!1)}function notInterpolatedWithNanValue(){const Ve=_createExample("Not interpolated values including two NaN values",!1),je=Ve.axes[0];je.invalidNumberColor=OxyColors.Transparent;const ze=Ve.series[0];return ze.data[0][1]=Number.NaN,ze.data[1][0]=Number.NaN,Ve}function notInterpolatedWithNanValueFlat(){const Ve=_createExample("Not interpolated values including two NaN values, otherwise 4.71",!1),je=Ve.axes[0];je.invalidNumberColor=OxyColors.Transparent;const ze=Ve.series[0];if(!ze.data)return Ve;const qe=4.71;return ze.data[0][0]=qe,ze.data[0][1]=qe,ze.data[0][2]=qe,ze.data[1][0]=qe,ze.data[1][1]=qe,ze.data[1][2]=qe,ze.data[0][1]=Number.NaN,ze.data[1][0]=Number.NaN,Ve}function notInterpolatedReversedX(){const Ve=_createExample("Reversed x-axis",!1);return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,startPosition:1,endPosition:0})),Ve}function x0GreaterThanX1(){const Ve=_createExample("X0>X1",!1),je=Ve.series[0],ze=je.x0;return je.x0=je.x1,je.x1=ze,Ve}function reversedX_X0GreaterThanX1(){const Ve=_createExample("Reversed x-axis, X0>X1",!1);Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,startPosition:1,endPosition:0}));const je=Ve.series[0],ze=je.x0;return je.x0=je.x1,je.x1=ze,Ve}function notInterpolatedReversedY(){const Ve=_createExample("Reversed y-axis",!1);return Ve.axes.push(new LinearAxis({position:AxisPosition.Left,startPosition:1,endPosition:0})),Ve}function y0GreaterThanY1(){const Ve=_createExample("Y0>Y1",!1),je=Ve.series[0],ze=je.y0;return je.y0=je.y1,je.y1=ze,Ve}function reversedY_Y0GreaterThanY1(){const Ve=_createExample("Reversed y-axis, Y0>Y1",!1);Ve.axes.push(new LinearAxis({position:AxisPosition.Left,startPosition:1,endPosition:0}));const je=Ve.series[0],ze=je.y0;return je.y0=je.y1,je.y1=ze,Ve}function notInterpolatedReversedXY(){const Ve=_createExample("Reversed x- and y-axis",!1);return Ve.axes.push(new LinearAxis({position:AxisPosition.Left,startPosition:1,endPosition:0})),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,startPosition:1,endPosition:0})),Ve}function diagonal(){const Ve=[[1,0,0],[0,1,0],[0,0,1]],je=new PlotModel({title:"Diagonal (center defined)"});je.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.jet(500),highColor:OxyColors.Gray,lowColor:OxyColors.Black}));const ze=new HeatMapSeries({coordinateDefinition:HeatMapCoordinateDefinition.Center,x0:.5,x1:2.5,y0:2.5,y1:.5,data:Ve,interpolate:!1});return je.series.push(ze),je}function diagonal2(){const Ve=[[1,0,0],[0,1,0],[0,0,1]],je=new PlotModel({title:"Diagonal (edge defined)"});je.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.jet(500),highColor:OxyColors.Gray,lowColor:OxyColors.Black}));const ze=new HeatMapSeries({coordinateDefinition:HeatMapCoordinateDefinition.Edge,x0:0,x1:3,y0:3,y1:0,data:Ve,interpolate:!1});return je.series.push(ze),je}function diagonal_6X6(){const Ve=Array(6).fill(Array(6).fill(0));Ve[0][0]=1,Ve[1][1]=1,Ve[2][2]=1,Ve[3][3]=1,Ve[4][4]=1,Ve[5][5]=1;const je=new PlotModel({title:"Diagonal 66"});je.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.jet(500),highColor:OxyColors.Gray,lowColor:OxyColors.Black}));const ze=new HeatMapSeries({x0:0,x1:5,y0:5,y1:0,data:Ve,interpolate:!1});return je.series.push(ze),je}function confusionMatrix(){let Ve=[[1,0,0],[0,.8,.2],[0,0,1]];Ve=Ve[0].map((Qe,Je)=>Ve.map(St=>St[Je]));const je=["class A","class B","class C"],ze=new PlotModel({title:"Confusion Matrix"}),qe=OxyPalette.interpolate(50,OxyColors.White,OxyColors.Black),Xe=new LinearColorAxis({position:AxisPosition.Right,palette:qe,highColor:OxyColors.White,lowColor:OxyColors.White});ze.axes.push(Xe);const Ye=new CategoryAxis({position:AxisPosition.Top,title:"Actual class"});Ye.labels.push(...je),ze.axes.push(Ye);const Ke=new CategoryAxis({position:AxisPosition.Left,title:"Predicted class",angle:-90,startPosition:1,endPosition:0});Ke.labels.push(...je),ze.axes.push(Ke);const Ze=new HeatMapSeries({data:Ve,interpolate:!1,labelFontSize:.25,x0:0,x1:Ve[0].length-1,y0:0,y1:Ve.length-1});return ze.series.push(Ze),ze}function logXInterpolated(){const Ve=Array(11).fill(0).map(()=>Array(21).fill(0)),je=Math.pow(2,.1);for(let Xe=0;Xe<11;Xe++)for(let Ye=0;Ye<21;Ye++)Ve[Xe][Ye]=Math.pow(je,Xe)*Ye/40;const ze=new PlotModel({title:"Logarithmic X, interpolated"});ze.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom})),ze.axes.push(new LinearAxis({position:AxisPosition.Left})),ze.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.gray(500),highColor:OxyColors.White,lowColor:OxyColors.Black}));const qe=new HeatMapSeries({x0:1,x1:2,y0:0,y1:20,data:Ve,interpolate:!0});return ze.series.push(qe),ze}function logXNotInterpolated(){const Ve=Array(11).fill(0).map(()=>Array(21).fill(0)),je=Math.pow(2,.1);for(let Xe=0;Xe<11;Xe++)for(let Ye=0;Ye<21;Ye++)Ve[Xe][Ye]=Math.pow(je,Xe)*Ye/40;const ze=new PlotModel({title:"Logarithmic X, discrete rectangles"});ze.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom})),ze.axes.push(new LinearAxis({position:AxisPosition.Left})),ze.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.gray(500),highColor:OxyColors.White,lowColor:OxyColors.Black}));const qe=new HeatMapSeries({x0:1,x1:2,y0:0,y1:20,data:Ve,interpolate:!1,renderMethod:HeatMapRenderMethod.Rectangles,labelFontSize:.4});return ze.series.push(qe),ze}function normal_6X4(){return _create6X4("Normal 64 Heatmap")}function _createHeatMapPeaks(Ve,je=!0,ze=100){const Ze=(ii,ri)=>3*(1-ii)*(1-ii)*Math.exp(-(ii*ii)-(ri+1)*(ri+1))-10*(ii/5-ii*ii*ii-ri*ri*ri*ri*ri)*Math.exp(-ii*ii-ri*ri)-.3333333333333333*Math.exp(-(ii+1)*(ii+1)-ri*ri),Qe=ArrayBuilder.createVector(-3.1,3.1,ze),Je=ArrayBuilder.createVector(-3,3,ze),St=ArrayBuilder.evaluate(Ze,Qe,Je),ei=new PlotModel({title:"Peaks"});ei.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:Ve??OxyPalettes.jet(500),highColor:OxyColors.Gray,lowColor:OxyColors.Black}));const ti=new HeatMapSeries({x0:-3.1,x1:3.1,y0:-3,y1:3,data:St});if(ei.series.push(ti),je){const ii=new ContourSeries({color:OxyColors.Black,fontSize:0,contourLevelStep:1,labelBackground:OxyColors.Undefined,columnCoordinates:Je,rowCoordinates:Qe,data:St});ei.series.push(ii)}return ei}function _create6X4(Ve){const je=new TwoDimensionalArray(6,4);for(let qe=1;qe<=6;qe++)for(let Xe=1;Xe<=4;Xe++)je.set(qe-1,Xe-1,qe*Xe);const ze=new PlotModel({title:Ve,subtitle:"Note the positions of the axes"});return ze.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.jet(500),highColor:OxyColors.White,lowColor:OxyColors.Black})),ze.series.push(new HeatMapSeries({x0:1,x1:6,y0:1,y1:4,data:je.toArray(),interpolate:!0,labelFontSize:.2})),ze}function _createExample(Ve,je){const ze=[[0,.2,.4],[.1,.3,.2]],qe=new PlotModel({title:"HeatMapSeries",subtitle:Ve});qe.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.rainbow(500),highColor:OxyColors.Gray,lowColor:OxyColors.Black}));const Xe=new HeatMapSeries({coordinateDefinition:HeatMapCoordinateDefinition.Center,x0:.5,x1:1.5,y0:.5,y1:2.5,data:ze,interpolate:je,labelFontSize:.2});return qe.series.push(Xe),qe}const HeatMapSeriesExamples={createPeaks:_createHeatMapPeaks},category$G="HeatMapSeries",HeatMapSeriesExamples$1={category:category$G,tags:["Series"],examples:[{title:"Peaks",example:{model:peaks$1}},{title:"23, interpolated",example:{model:interpolated}},{title:"23, interpolated, cartesian axes",example:{model:interpolatedCartesian}},{title:"23, interpolated with two NaN values",example:{model:interpolatedWithNanValue}},{title:"23, interpolated with two NaN values, flat data",example:{model:interpolatedWithNanValueFlat}},{title:"23, not interpolated",example:{model:notInterpolated}},{title:"23, not interpolated with two NaN values",example:{model:notInterpolatedWithNanValue}},{title:"23, not interpolated with two NaN values, flat data",example:{model:notInterpolatedWithNanValueFlat}},{title:"23, reversed x-axis",example:{model:notInterpolatedReversedX}},{title:"23, X0>X1",example:{model:x0GreaterThanX1}},{title:"23, reversed x-axis, X0>X1",example:{model:reversedX_X0GreaterThanX1}},{title:"23, reversed y-axis",example:{model:notInterpolatedReversedY}},{title:"23, Y0>Y1",example:{model:y0GreaterThanY1}},{title:"23, reversed y-axis, Y0>Y1",example:{model:reversedY_Y0GreaterThanY1}},{title:"2x3, reversed x- and y-axis",example:{model:notInterpolatedReversedXY}},{title:"33, diagonal (center defined)",example:{model:diagonal}},{title:"33, diagonal (edge defined)",example:{model:diagonal2}},{title:"66, diagonal",example:{model:diagonal_6X6}},{title:"Confusion matrix",example:{model:confusionMatrix}},{title:"Logarithmic X, interpolated",example:{model:logXInterpolated}},{title:"Logarithmic X, discrete rectangles",example:{model:logXNotInterpolated}},{title:"64, not transposed",example:{model:normal_6X4}}]};function defaultPalette(){const Ve=HeatMapSeriesExamples.createPeaks(void 0,!1);return Ve.axes.length=0,Ve.axes.push(new LinearColorAxis({position:AxisPosition.Right})),Ve}function jet200(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.jet(200),!1)}function jet20(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.jet(20),!1)}function hue400(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.hue(400),!1)}function hueDistinct200(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.hueDistinct(200),!1)}function hueDistinctReverse200(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.hueDistinct(200).reverse(),!1)}function hot200(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.hot(200),!1)}function hot64(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.hot64,!1)}function hot30(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.hot(30),!1)}function blueWhiteRed200(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.blueWhiteRed(200),!1)}function blueWhiteRed40(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.blueWhiteRed(40),!1)}function blackWhiteRed500(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.blackWhiteRed(500),!1)}function blackWhiteRed3(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.blackWhiteRed(3),!1)}function cool200(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.cool(200),!1)}function rainbow200(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.rainbow(200),!1)}function viridis(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.viridis(),!1)}function plasma(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.plasma(),!1)}function magma(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.magma(),!1)}function inferno(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.inferno(),!1)}function cividis(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.cividis(),!1)}function viridis10(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.viridis(10),!1)}function rainbow7(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.rainbow(7),!1)}function vertical_6(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.jet(6),!1)}function vertical_Reverse_6(){const Ve=HeatMapSeriesExamples.createPeaks(OxyPalettes.jet(6),!1),je=Ve.axes[0];return je.startPosition=1,je.endPosition=0,Ve}function horizontal_6(){const Ve=HeatMapSeriesExamples.createPeaks(OxyPalettes.jet(6),!1),je=Ve.axes[0];return je.position=AxisPosition.Top,Ve}function horizontal_Reverse_6(){const Ve=HeatMapSeriesExamples.createPeaks(OxyPalettes.jet(6),!1),je=Ve.axes[0];return je.position=AxisPosition.Top,je.startPosition=1,je.endPosition=0,Ve}function renderAsImage_Horizontal(){const Ve=HeatMapSeriesExamples.createPeaks(OxyPalettes.jet(1e3),!1),je=Ve.axes[0];return je.renderAsImage=!0,je.position=AxisPosition.Top,Ve}function renderAsImage_Horizontal_Reversed(){const Ve=HeatMapSeriesExamples.createPeaks(OxyPalettes.jet(1e3),!1),je=Ve.axes[0];return je.renderAsImage=!0,je.position=AxisPosition.Top,je.startPosition=1,je.endPosition=0,Ve}function renderAsImage_Vertical(){const Ve=HeatMapSeriesExamples.createPeaks(OxyPalettes.jet(1e3),!1),je=Ve.axes[0];return je.renderAsImage=!0,Ve}function renderAsImage_Vertical_Reversed(){const Ve=HeatMapSeriesExamples.createPeaks(OxyPalettes.jet(1e3),!1),je=Ve.axes[0];return je.renderAsImage=!0,je.startPosition=1,je.endPosition=0,Ve}function vertical_Short(){const Ve=HeatMapSeriesExamples.createPeaks(OxyPalettes.jet(600),!1),je=Ve.axes[0];return je.startPosition=.02,je.endPosition=.5,Ve}function position_None(){const Ve=HeatMapSeriesExamples.createPeaks(OxyPalettes.jet(600),!1),je=Ve.axes[0];return je.position=AxisPosition.None,Ve}const category$F="LinearColorAxis",LinearColorAxisExamples={category:category$F,tags:["Axes"],examples:[{title:"Default palette",example:{model:defaultPalette}},{title:"Jet (200 colors) palette",example:{model:jet200}},{title:"Jet (20 colors) palette",example:{model:jet20}},{title:"Hue (400 colors) palette",example:{model:hue400}},{title:"Hue distinct (200 colors) palette",example:{model:hueDistinct200}},{title:"Hue distinct reversed (200 colors) palette",example:{model:hueDistinctReverse200}},{title:"Hot (200 colors) palette",example:{model:hot200}},{title:"Hot (64 colors) palette",example:{model:hot64}},{title:"Hot (30 colors) palette",example:{model:hot30}},{title:"Blue-white-red (200 colors) palette",example:{model:blueWhiteRed200}},{title:"Blue-white-red (40 colors) palette",example:{model:blueWhiteRed40}},{title:"Black-white-red (500 colors) palette",example:{model:blackWhiteRed500}},{title:"Black-white-red (3 colors) palette",example:{model:blackWhiteRed3}},{title:"Cool (200 colors) palette",example:{model:cool200}},{title:"Rainbow (200 colors) palette",example:{model:rainbow200}},{title:"Viridis palette",example:{model:viridis}},{title:"Plasma palette",example:{model:plasma}},{title:"Magma palette",example:{model:magma}},{title:"Inferno palette",example:{model:inferno}},{title:"Cividis palette",example:{model:cividis}},{title:"Viridis (10 colors) palette",example:{model:viridis10}},{title:"Rainbow (7 colors) palette",example:{model:rainbow7}},{title:"Vertical (6 colors)",example:{model:vertical_6}},{title:"Vertical reverse (6 colors)",example:{model:vertical_Reverse_6}},{title:"Horizontal (6 colors)",example:{model:horizontal_6}},{title:"Horizontal reverse (6 colors)",example:{model:horizontal_Reverse_6}},{title:"RenderAsImage (horizontal)",example:{model:renderAsImage_Horizontal}},{title:"RenderAsImage (horizontal reversed)",example:{model:renderAsImage_Horizontal_Reversed}},{title:"RenderAsImage (vertical)",example:{model:renderAsImage_Vertical}},{title:"RenderAsImage (vertical reversed)",example:{model:renderAsImage_Vertical_Reversed}},{title:"Short vertical",example:{model:vertical_Short}},{title:"Position None",example:{model:position_None}}]};function defaultValues(){const Ve=new PlotModel;return Ve.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LogarithmicAxis({position:AxisPosition.Left})),Ve}function amdahlsLaw(){const Ve=new PlotModel({title:"Amdahl's law"}),je=new Legend({legendTitle:"Parallel portion"});Ve.legends.push(je);const ze=(Xe,Ye)=>1/(1-Xe+Xe/Ye),qe=Xe=>{const Ye=new LineSeries({title:Xe.toFixed(0)});for(let Ke=1;Ke<=65536;Ke*=2)Ye.points.push(new DataPoint(Ke,ze(Xe,Ke)));return Ye};return Ve.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom,title:"Number of processors",base:2,majorGridlineStyle:LineStyle.Solid,tickStyle:TickStyle.None})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:20,minorStep:2,majorStep:2,title:"Speedup",stringFormatter:Xe=>Xe.toFixed(2).toString(),majorGridlineStyle:LineStyle.Solid,tickStyle:TickStyle.None})),Ve.series.push(qe(.5)),Ve.series.push(qe(.75)),Ve.series.push(qe(.9)),Ve.series.push(qe(.95)),Ve}function richterMagnitudes(){const Ve=new PlotModel({title:"The Richter magnitude scale",plotMargins:new OxyThickness(80,0,80,40)}),je=new Legend({legendPlacement:LegendPlacement.Inside,legendPosition:LegendPosition.TopCenter,legendOrientation:LegendOrientation.Horizontal,legendSymbolLength:24});Ve.legends.push(je),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Richter magnitude scale",majorGridlineStyle:LineStyle.None,tickStyle:TickStyle.None}));const ze=new LineSeries({title:"Frequency",color:OxyColor.fromUInt32(4282150046),strokeThickness:3,markerStroke:OxyColor.fromUInt32(4282150046),markerFill:OxyColors.White,markerType:MarkerType.Circle,markerSize:4,markerStrokeThickness:3});ze.points.push(new DataPoint(1.5,8e3*365*100)),ze.points.push(new DataPoint(2.5,1e3*365*100)),ze.points.push(new DataPoint(3.5,49e3*100)),ze.points.push(new DataPoint(4.5,6200*100)),ze.points.push(new DataPoint(5.5,800*100)),ze.points.push(new DataPoint(6.5,120*100)),ze.points.push(new DataPoint(7.5,18*100)),ze.points.push(new DataPoint(8.5,1*100)),ze.points.push(new DataPoint(9.5,1/20*100)),Ve.axes.push(new LogarithmicAxis({position:AxisPosition.Left,title:"Frequency / 100 yr",useSuperExponentialFormat:!0,majorGridlineStyle:LineStyle.None,tickStyle:TickStyle.Outside})),Ve.series.push(ze);const qe=new LineSeries({title:"Energy",color:OxyColor.fromUInt32(4288572476),strokeThickness:3,markerStroke:OxyColor.fromUInt32(4288572476),markerFill:OxyColors.White,markerType:MarkerType.Circle,markerSize:4,markerStrokeThickness:3});return qe.points.push(new DataPoint(1.5,11e6)),qe.points.push(new DataPoint(2.5,36e7)),qe.points.push(new DataPoint(3.5,11e9)),qe.points.push(new DataPoint(4.5,36e10)),qe.points.push(new DataPoint(5.5,11e12)),qe.points.push(new DataPoint(6.5,36e13)),qe.points.push(new DataPoint(7.5,11e15)),qe.points.push(new DataPoint(8.5,36e16)),qe.points.push(new DataPoint(9.5,11e18)),qe.yAxisKey="energyAxis",Ve.axes.push(new LogarithmicAxis({position:AxisPosition.Right,title:"Energy / J",key:"energyAxis",useSuperExponentialFormat:!0,majorGridlineStyle:LineStyle.None,tickStyle:TickStyle.Outside})),Ve.series.push(qe),Ve}const absoluteMaximum=()=>{const Ve=new PlotModel({title:"AbsoluteMaximum = 1000"});return Ve.axes.push(new LogarithmicAxis({position:AxisPosition.Left,minimum:.1,maximum:1e3,absoluteMaximum:1e3})),Ve.series.push(new FunctionSeries({f:Math.exp,x0:0,x1:Math.log(900),n:100})),Ve},axisChangedEventHAndler=()=>{const Ve=new PlotModel({title:"AxisChanged event handler"});let je=0;const ze=new LogarithmicAxis({position:AxisPosition.Left,minimum:.1,maximum:1e3});return ze.axisChanged=(qe,Xe)=>{Ve.subtitle="Changed "+je+++" times. ActualMaximum="+ze.actualMaximum},Ve.axes.push(ze),Ve.series.push(new FunctionSeries({f:Math.exp,x0:0,x1:Math.log(900),n:100})),Ve},negativeValues=()=>{const Ve=new PlotModel({title:"LogarithmicAxis",subtitle:"LineSeries with negative values"});return Ve.axes.push(new LogarithmicAxis({position:AxisPosition.Left})),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.series.push(new FunctionSeries({f:je=>Math.sin(je),x0:0,x1:40,n:1e3})),Ve};function tickCalculation(){const Ve=new PlotModel({title:"Tick calculation for different bases"});return Ve.axes.push(new LogarithmicAxis({title:"Base 10",position:AxisPosition.Left,minimum:20,maximum:2e4,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),Ve.axes.push(new LogarithmicAxis({title:"Base 7",position:AxisPosition.Bottom,base:7,minimum:2,maximum:1e4,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),Ve.axes.push(new LogarithmicAxis({title:"Base 5.5",position:AxisPosition.Top,base:5.5,minimum:1,maximum:100,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),Ve.axes.push(new LogarithmicAxis({title:"Base 2",position:AxisPosition.Right,base:2,minimum:1,maximum:1e6,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),Ve}const category$E="LogarithmicAxis",LogarithmicAxisExamples={category:category$E,tags:["Axes"],examples:[{title:"LogarithmicAxis with default values",example:{model:defaultValues}},{title:"Amdahl's Law",example:{model:amdahlsLaw}},{title:"Richter magnitudes",example:{model:richterMagnitudes}},{title:"LogarithmicAxis with AbsoluteMaximum",example:{model:absoluteMaximum}},{title:"LogarithmicAxis with AxisChanged event handler",example:{model:axisChangedEventHAndler}},{title:"Negative values",example:{model:negativeValues}},{title:"Tick calculation",example:{model:tickCalculation}}]};function archimedeanSpiral(){const Ve=new PlotModel({title:"Polar plot",subtitle:"Archimedean spiral with equation r() =  for 0 <  < 6",plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness(0)});return Ve.axes.push(new AngleAxis({majorStep:Math.PI/4,minorStep:Math.PI/16,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"",minimum:0,maximum:2*Math.PI})),Ve.axes.push(new MagnitudeAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),Ve.series.push(new FunctionSeries({fx:je=>je,fy:je=>je,t0:0,t1:Math.PI*6,dt:.01})),Ve}function archimedeanSpiral2(){const Ve=archimedeanSpiral();Ve.title+="(reversed angle axis)";const je=Ve.axes[0];return je.startAngle=360,je.endAngle=0,Ve}function archimedeanSpiral3(){const Ve=archimedeanSpiral();Ve.title+=" (axis Minimum = 10 and Maximum = 20)";const je=Ve.axes[1];return je.minimum=10,je.maximum=20,Ve}function offsetAngles(){const Ve=new PlotModel({title:"Offset angle axis",plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness(0)}),je=new AngleAxis({minimum:0,maximum:Math.PI*2,majorStep:Math.PI/4,minorStep:Math.PI/16,stringFormatter:ze=>ze.toFixed(2),startAngle:30,endAngle:390});return Ve.axes.push(je),Ve.axes.push(new MagnitudeAxis),Ve.series.push(new FunctionSeries({fx:ze=>ze,fy:ze=>ze,t0:0,t1:Math.PI*6,dt:.01})),Ve.mouseDown=(ze,qe)=>{let Xe=0;qe.changedButton===OxyMouseButton.Left&&(Xe=15),qe.changedButton===OxyMouseButton.Right&&(Xe=-15),Math.abs(Xe)>Number.EPSILON&&(je.startAngle+=Xe,je.endAngle+=Xe,Ve.invalidatePlot(!1),qe.handled=!0)},Ve}function semiCircle(){const Ve=new PlotModel({title:"Semi-circle polar plot",plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness(0)});return Ve.axes.push(new AngleAxis({minimum:0,maximum:180,majorStep:45,minorStep:9,startAngle:0,endAngle:180,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),Ve.axes.push(new MagnitudeAxis({minimum:0,maximum:1,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),Ve.series.push(circleFunctionSeries()),Ve}function semiCircleOffsetAngleAxisRange(){const Ve=new PlotModel({title:"Semi-circle polar plot",subtitle:"Angle axis range offset to -180 - 180",plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness(0)});return Ve.axes.push(new AngleAxis({minimum:-180,maximum:180,majorStep:45,minorStep:9,startAngle:0,endAngle:360,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),Ve.axes.push(new MagnitudeAxis({minimum:0,maximum:1,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),Ve.series.push(circleFunctionSeries()),Ve}function eastWestDirections(){const Ve=new PlotModel({title:"East/west directions",plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness(0)});return Ve.axes.push(new AngleAxis({minimum:0,maximum:360,majorStep:30,minorStep:30,startAngle:-90,endAngle:270,labelFormatter:je=>je>0&&je<180?`${je}E`:je>180?`${360-je}W`:je.toString(),majorGridlineStyle:LineStyle.Dot,minorGridlineStyle:LineStyle.None})),Ve.axes.push(new MagnitudeAxis({minimum:0,maximum:1,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),Ve.series.push(circleFunctionSeries()),Ve}function semiCircleFullPlotArea(){const Ve=new PlotModel({title:"Semi-circle polar plot filling the plot area",subtitle:"The center can be moved using the right mouse button",plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness(1)});return Ve.axes.push(new AngleAxisFullPlotArea({minimum:0,maximum:180,majorStep:45,minorStep:9,startAngle:0,endAngle:180,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),Ve.axes.push(new MagnitudeAxisFullPlotArea({minimum:0,maximum:1,midShiftH:0,midShiftV:.9,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),Ve.series.push(circleFunctionSeries()),Ve}function archimedeanSpiralFullPlotArea(){const Ve=createFullPlotAreaPlotModel();return Ve.series.push(new FunctionSeries({fx:je=>je,fy:je=>je,t0:0,t1:Math.PI*6,dt:.01})),Ve}function spiralWithNegativeMinium(){const Ve=createFullPlotAreaPlotModel();return Ve.title+=" with a negative minimum",Ve.series.push(new FunctionSeries({fx:je=>je,fy:je=>je,t0:-Math.PI*6,t1:Math.PI*6,dt:.01})),Ve}function spiralWithPositiveMinium(){const Ve=createFullPlotAreaPlotModel();return Ve.title+=" with a positive minimum",Ve.series.push(new FunctionSeries({fx:je=>je,fy:je=>je,t0:Math.PI*6,t1:Math.PI*12,dt:.01})),Ve}function createFullPlotAreaPlotModel(){const Ve=new PlotModel({title:"Polar plot filling the plot area",subtitle:"The center can be move using the right mouse button",plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness(1)});return Ve.axes.push(new AngleAxisFullPlotArea({majorStep:Math.PI/4,minorStep:Math.PI/16,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"",minimum:0,maximum:2*Math.PI})),Ve.axes.push(new MagnitudeAxisFullPlotArea({midShiftH:-.1,midShiftV:-.25,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),Ve}const circleFunctionSeries=()=>new FunctionSeries({fx:Ve=>Math.sin(Ve/180*Math.PI),fy:Ve=>Ve,t0:0,t1:180,dt:.01}),category$D="Polar Plots",PolarPlotExamples={category:category$D,tags:["Axes"],examples:[{title:"Spiral",example:{model:archimedeanSpiral}},{title:"Spiral2",example:{model:archimedeanSpiral2}},{title:"Spiral with magnitude axis min and max",example:{model:archimedeanSpiral3}},{title:"Angle axis with offset angle",example:{model:offsetAngles}},{title:"Semi-circle",example:{model:semiCircle}},{title:"Semi-circle offset angle axis range",example:{model:semiCircleOffsetAngleAxisRange}},{title:"East/west directions",example:{model:eastWestDirections}},{title:"Semi-circle full plot area",example:{model:semiCircleFullPlotArea}},{title:"Spiral full plot area",example:{model:archimedeanSpiralFullPlotArea}},{title:"Spiral full plot area with negative minimum",example:{model:spiralWithNegativeMinium}},{title:"Spiral full plot area with positive minimum",example:{model:spiralWithPositiveMinium}}]};function reversedHorizontalRangeColorAxis(){return rangeColorAxis(AxisPosition.Top,!0)}function reversedVerticalRangeColorAxis(){return rangeColorAxis(AxisPosition.Right,!0)}function horizontalRangeColorAxis(){return rangeColorAxis(AxisPosition.Top,!1)}function verticalRangeColorAxis(){return rangeColorAxis(AxisPosition.Right,!1)}function rangeColorAxis(Ve,je){const qe=je?"ScatterSeries and Reversed RangeColorAxis (n=1000)":"ScatterSeries and RangeColorAxis (n=1000)",Xe=new PlotModel({title:qe,background:OxyColors.LightGray});Xe.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Xe.axes.push(new LinearAxis({position:AxisPosition.Left}));const Ye=new RangeColorAxis({position:Ve,maximum:2,minimum:-2});Ye.addRange(0,.5,OxyColors.Blue),Ye.addRange(-.2,-.1,OxyColors.Red),je&&(Ye.startPosition=1,Ye.endPosition=0),Xe.axes.push(Ye);const Ke=new ScatterSeries({markerType:MarkerType.Square,markerSize:6}),Ze=new Random;for(let Qe=0;Qe<1e3;Qe++){const Je=Ze.next()*2.2-1.1;Ke.points.push({x:Je,y:Ze.next(),value:Je})}return Xe.series.push(Ke),Xe}const category$C="RangeColorAxis",RangeColorAxisExamples={category:category$C,tags:["Axes"],examples:[{title:"ScatterSeries with Reversed RangeColorAxis (Horizontal)",example:{model:reversedHorizontalRangeColorAxis}},{title:"ScatterSeries with Reversed  RangeColorAxis (Vertical)",example:{model:reversedVerticalRangeColorAxis}},{title:"ScatterSeries with RangeColorAxis (Horizontal)",example:{model:horizontalRangeColorAxis}},{title:"ScatterSeries with RangeColorAxis (Vertical)",example:{model:verticalRangeColorAxis}}]};function timeSpanaxisPlotModelDefault(){return timeSpanAxisPlotModel(void 0)}function timeSpanaxisPlotModel1(){return timeSpanAxisPlotModel(Ve=>`${formatTimeSpan(Ve,"hh:mm")}`)}function timeSpanAxisPlotModel(Ve){const Xe=[];let Ye=0;const Ke=new Random;for(;Ye<=86400;)Xe.push({time:Ye,value:Ke.next()}),Ye+=3600;const Ze=new PlotModel({title:"TimeSpan axis"}),Qe=new TimeSpanAxis({position:AxisPosition.Bottom,stringFormatter:Ve});Ze.axes.push(Qe);const Je=new LinearAxis({position:AxisPosition.Left});Ze.axes.push(Je);const St=new LineSeries({color:OxyColor.fromArgb(255,78,154,6),markerFill:OxyColor.fromArgb(255,78,154,6),markerStroke:OxyColors.ForestGreen,markerType:MarkerType.Plus,strokeThickness:1,dataFieldX:"time",dataFieldY:"value",itemsSource:Xe});return Ze.series.push(St),Ze}const category$B="TimeSpanAxis",TimeSpanAxisExamples={category:category$B,tags:["Axes"],examples:[{title:"Default StringFormat",example:{model:timeSpanaxisPlotModelDefault}},{title:"StringFormat = 'h:mm'",example:{model:timeSpanaxisPlotModel1}}]},Axes=[AxisExamples,CartesianAxesExamples,CategoryAxisExamples,CategoryColorAxisExamples,CustomAxisExamples,DateTimeAxisExamples,LinearAxisExamples,LinearColorAxisExamples,LogarithmicAxisExamples,PolarPlotExamples,RangeColorAxisExamples,TimeSpanAxisExamples];function filteringInvalidPoints(){const Ve=new PlotModel({title:"Filtering NaN points"});Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left}));const je=new LineSeries;return je.points.push(new DataPoint(NaN,NaN)),je.points.push(new DataPoint(1,0)),je.points.push(new DataPoint(2,10)),je.points.push(new DataPoint(NaN,20)),je.points.push(new DataPoint(3,10)),je.points.push(new DataPoint(4,0)),je.points.push(new DataPoint(4.5,NaN)),je.points.push(new DataPoint(5,0)),je.points.push(new DataPoint(7,7)),je.points.push(new DataPoint(NaN,NaN)),je.points.push(new DataPoint(NaN,NaN)),je.points.push(new DataPoint(7,0)),je.points.push(new DataPoint(NaN,NaN)),Ve.series.push(je),Ve}function filteringInvalidPointsAreaSeries(){const Ve=new PlotModel({title:"Filtering NaN points in an AreaSeries"});Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left}));const je=new AreaSeries;return je.points.push(new DataPoint(1,0)),je.points.push(new DataPoint(2,10)),je.points.push(new DataPoint(3,10)),je.points.push(new DataPoint(4,0)),je.points.push(new DataPoint(5,0)),je.points.push(new DataPoint(6,7)),je.points.push(new DataPoint(7,7)),je.points.push(new DataPoint(NaN,NaN)),je.points.push(new DataPoint(NaN,NaN)),je.points.push(new DataPoint(8,0)),je.points.push(new DataPoint(9,0)),je.points.push(new DataPoint(NaN,NaN)),je.points2.push(new DataPoint(1,10)),je.points2.push(new DataPoint(2,110)),je.points2.push(new DataPoint(3,110)),je.points2.push(new DataPoint(4,10)),je.points2.push(new DataPoint(5,10)),je.points2.push(new DataPoint(6,17)),je.points2.push(new DataPoint(7,17)),je.points2.push(new DataPoint(NaN,NaN)),je.points2.push(new DataPoint(NaN,NaN)),je.points2.push(new DataPoint(8,10)),je.points2.push(new DataPoint(9,10)),je.points2.push(new DataPoint(NaN,NaN)),Ve.series.push(je),Ve}function filteringUndefinedPoints(){const Ve=new PlotModel({title:"Filtering undefined points"});Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left}));const je=new LineSeries;return je.points.push(DataPoint.Undefined),je.points.push(new DataPoint(1,0)),je.points.push(new DataPoint(2,10)),je.points.push(DataPoint.Undefined),je.points.push(new DataPoint(3,10)),je.points.push(new DataPoint(4,0)),je.points.push(DataPoint.Undefined),je.points.push(new DataPoint(5,0)),je.points.push(new DataPoint(7,7)),je.points.push(DataPoint.Undefined),je.points.push(DataPoint.Undefined),je.points.push(new DataPoint(7,0)),je.points.push(DataPoint.Undefined),Ve.series.push(je),Ve}function filteringInvalidPointsLog(){const Ve=new PlotModel({title:"Filtering invalid points on logarithmic axes"});Ve.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LogarithmicAxis({position:AxisPosition.Left}));const je=new LineSeries;return je.points.push(new DataPoint(NaN,NaN)),je.points.push(new DataPoint(1,1)),je.points.push(new DataPoint(10,10)),je.points.push(new DataPoint(0,20)),je.points.push(new DataPoint(100,2)),je.points.push(new DataPoint(1e3,12)),je.points.push(new DataPoint(4.5,0)),je.points.push(new DataPoint(1e4,4)),je.points.push(new DataPoint(1e5,14)),je.points.push(new DataPoint(NaN,NaN)),je.points.push(new DataPoint(1e6,5)),je.points.push(new DataPoint(NaN,NaN)),Ve.series.push(je),Ve}function filteringPointsOutsideRange(){const Ve=new PlotModel({title:"Filtering points outside (-1,1)"});Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,filterMinValue:-1,filterMaxValue:1})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,filterMinValue:-1,filterMaxValue:1}));const je=new LineSeries;for(let ze=0;ze<200;ze+=.01)je.points.push(new DataPoint(.01*ze*Math.sin(ze),.01*ze*Math.cos(ze)));return Ve.series.push(je),Ve}const category$A="Filtering data points",FilteringExamples={category:category$A,examples:[{title:"Filtering NaN points",example:{model:filteringInvalidPoints}},{title:"Filtering NaN points with AreaSeries",example:{model:filteringInvalidPointsAreaSeries}},{title:"Filtering undefined points",example:{model:filteringUndefinedPoints}},{title:"Filtering invalid points (log axis)",example:{model:filteringInvalidPointsLog}},{title:"Filtering points outside (-1,1)",example:{model:filteringPointsOutsideRange}}]},n$4=1e5;function usingIDataPoint(){const Ve=[];for(let ze=0;ze<n$4;ze++){const qe=ze/(n$4-1);Ve.push(new DataPoint(qe,y$4(qe)))}const je=new PlotModel({title:"Using IDataPoint"});return je.series.push(new LineSeries({itemsSource:Ve})),je}function usingIDataPointProvider(){const Ve=[];for(let ze=0;ze<n$4;ze++){const qe=ze/(n$4-1);Ve.push(new PointType1(qe,y$4(qe)))}const je=new PlotModel({title:"Items implementing IDataPointProvider"});return je.series.push(new LineSeries({itemsSource:Ve})),je}function usingMappingProperty(){const Ve=[];for(let ze=0;ze<n$4;ze++){const qe=ze/(n$4-1);Ve.push(new PointType2(qe,y$4(qe)))}const je=new PlotModel({title:"Using Mapping property"});return je.series.push(new LineSeries({itemsSource:Ve,mapping:ze=>new DataPoint(ze.abscissa,ze.ordinate)})),je}function usingReflection(){const Ve=[];for(let ze=0;ze<n$4;ze++){const qe=ze/(n$4-1);Ve.push(new PointType2(qe,y$4(qe)))}const je=new PlotModel({title:"Using reflection (slow)"});return je.series.push(new LineSeries({itemsSource:Ve,dataFieldX:"abscissa",dataFieldY:"ordinate"})),je}class PointType1{constructor(je,ze){this.abscissa=je,this.ordinate=ze}getDataPoint(){return new DataPoint(this.abscissa,this.ordinate)}}class PointType2{constructor(je,ze){this.abscissa=je,this.ordinate=ze}}function y$4(Ve){return Math.sin(3/Ve)*Math.sin(5/(1-Ve))}const category$z="ItemsSource",ItemsSourceExamples={category:category$z,examples:[{title:"List<DataPoint>",example:{model:usingIDataPoint}},{title:"Items implementing IDataPointProvider",example:{model:usingIDataPointProvider}},{title:"Mapping property",example:{model:usingMappingProperty}},{title:"Using reflection (slow)",example:{model:usingReflection}}]},legendRightTopInside=()=>{const Ve=createModel$1(),je=new Legend({legendPlacement:LegendPlacement.Inside,legendPosition:LegendPosition.RightTop,legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return Ve.legends.push(je),Ve},legendRightTopOutside=()=>{const Ve=createModel$1(),je=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.RightTop,legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return Ve.legends.push(je),Ve},legendBottomLeftHorizontal=()=>{const Ve=createModel$1(4),je=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomLeft,legendOrientation:LegendOrientation.Horizontal,legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return Ve.legends.push(je),Ve},legendTopLeftVertical=()=>{const Ve=createModel$1(4),je=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.TopLeft,legendOrientation:LegendOrientation.Vertical,legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return Ve.legends.push(je),Ve},legendDefault=()=>{const Ve=createModel$1(),je=new Legend;return Ve.legends.push(je),Ve},legendItemSpacing=()=>{const Ve=createModel$1(),je=new Legend({legendItemSpacing:100,legendPosition:LegendPosition.BottomLeft,legendOrientation:LegendOrientation.Horizontal,legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return Ve.legends.push(je),Ve},legendLineSpacingVertical=()=>{const Ve=createModel$1(),je=new Legend({legendLineSpacing:30,legendPosition:LegendPosition.TopLeft,legendOrientation:LegendOrientation.Vertical,legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return Ve.legends.push(je),Ve},legendLineSpacingHorizontal=()=>{const Ve=createModel$1(),je=new Legend({legendLineSpacing:30,legendPosition:LegendPosition.TopLeft,legendOrientation:LegendOrientation.Horizontal,legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return Ve.legends.push(je),Ve},legendColumnSpacing=()=>{const Ve=createModel$1(60),je=new Legend({legendColumnSpacing:100,legendPosition:LegendPosition.TopRight,legendOrientation:LegendOrientation.Vertical,legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return Ve.legends.push(je),Ve},legendHidden=()=>{const Ve=createModel$1(),je=new Legend({legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return Ve.legends.push(je),Ve.isLegendVisible=!1,Ve},legendGrayscale=()=>{const Ve=createModel$1();Ve.defaultColors=[OxyColors.Black,OxyColors.Gray];const je=new Legend({legendSymbolLength:32,legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return Ve.legends.push(je),Ve},clippedLegends=()=>{const Ve=createModel$1(1);Ve.series[0].title="1234567890 abcdefghijklmnopqrstuvwxyz ABCDEFGHIJKLMNOPQRSTUVWXYZ 1234567890 abcdefghijklmnopqrstuvwxyz ABCDEFGHIJKLMNOPQRSTUVWXYZ";const je=new Legend({legendPlacement:LegendPlacement.Inside,legendPosition:LegendPosition.RightTop,legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return Ve.legends.push(je),Ve},clippedLegendsOutside=()=>{const Ve=clippedLegends();return Ve.legends[0].legendPlacement=LegendPlacement.Outside,Ve.legends[0].legendPosition=LegendPosition.RightTop,Ve.legends[0].legendMaxWidth=200,Ve},clippedLegendsRight=()=>{const Ve=clippedLegends();return Ve.legends[0].legendPlacement=LegendPlacement.Outside,Ve.legends[0].legendPosition=LegendPosition.TopRight,Ve};function createModel$1(Ve=20){const je=new PlotModel;je.title="LineSeries";for(let ze=1;ze<=Ve;ze++){const qe=new LineSeries;qe.title="Series "+ze,je.series.push(qe);for(let Xe=0;Xe<2*Math.PI;Xe+=.1)qe.points.push(new DataPoint(Xe,Math.sin(Xe*ze)/ze+ze))}return je}const legendBottomCenterOutsideWithMaxHeight=()=>{const Ve=createModel$1(),je=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Vertical,legendMaxHeight:75,legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return Ve.legends.push(je),Ve},legendDefaultFontSize=()=>{const Ve=createModel$1(),je=new Legend({legendFontSize:NaN,legendTitle:"Title in DefaultFontSize",legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return Ve.legends.push(je),Ve.defaultFontSize=20,Ve},singleLegendWithSeriesGroupsHorizontal=()=>{const Ve=createModel$1(21);for(let ze=0;ze<7;ze++)Ve.series[ze].seriesGroupName="group 1";for(let ze=7;ze<14;ze++)Ve.series[ze].seriesGroupName="group 2";for(let ze=14;ze<21;ze++)Ve.series[ze].seriesGroupName="group 3";const je=new Legend({legendFontSize:NaN,legendTitle:"Legend with groups of Series",legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black,groupNameFont:"Segoe UI Black",legendPosition:LegendPosition.TopLeft,legendOrientation:LegendOrientation.Horizontal});return Ve.legends.push(je),Ve},singleLegendWithSeriesGroups=()=>{const Ve=createModel$1(21);for(let ze=0;ze<7;ze++)Ve.series[ze].seriesGroupName="group 1";for(let ze=7;ze<14;ze++)Ve.series[ze].seriesGroupName="group 2";for(let ze=14;ze<21;ze++)Ve.series[ze].seriesGroupName="group 3";const je=new Legend({legendFontSize:NaN,legendTitle:"Legend with groups of Series",legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return Ve.legends.push(je),Ve},singleLegendWithSeriesGroupsMaxHeight=()=>{const Ve=createModel$1(21);for(let ze=0;ze<7;ze++)Ve.series[ze].seriesGroupName="group 1";for(let ze=7;ze<14;ze++)Ve.series[ze].seriesGroupName="group 2";for(let ze=14;ze<21;ze++)Ve.series[ze].seriesGroupName="group 3";const je=new Legend({legendFontSize:NaN,legendTitle:"Legend with groups of Series",legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black,legendMaxHeight:275});return Ve.legends.push(je),Ve},multipleLegendsWithSeriesGroups=()=>{const Ve=createModel$1(21);for(let qe=0;qe<7;qe++)Ve.series[qe].seriesGroupName="group 1",Ve.series[qe].legendKey="Legend 1";for(let qe=7;qe<14;qe++)Ve.series[qe].seriesGroupName="group 2",Ve.series[qe].legendKey="Legend 1";for(let qe=14;qe<21;qe++)Ve.series[qe].seriesGroupName="group 3",Ve.series[qe].legendKey="Legend 2";const je=new Legend({key:"Legend 1",legendFontSize:NaN,legendTitle:"Legend 1 Series",legendPlacement:LegendPlacement.Inside,legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black}),ze=new Legend({key:"Legend 2",legendFontSize:NaN,legendTitle:"Legend 2 Series",legendPlacement:LegendPlacement.Outside,legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return Ve.legends.push(je),Ve.legends.push(ze),Ve},legendFullWidth=()=>{const Ve=createModel$1(21),je=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.TopCenter,legendOrientation:LegendOrientation.Horizontal,allowUseFullExtent:!0}),ze=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Horizontal,allowUseFullExtent:!0});return Ve.plotMargins=new OxyThickness(50),Ve.legends.push(je),Ve.legends.push(ze),Ve.invalidatePlot(!0),Ve},legendFullHeight=()=>{const Ve=createModel$1(21),je=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.LeftTop,legendOrientation:LegendOrientation.Vertical,allowUseFullExtent:!0}),ze=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.RightTop,legendOrientation:LegendOrientation.Vertical,allowUseFullExtent:!0});return Ve.legends.push(je),Ve.legends.push(ze),Ve},legendShowingInvisibleSeries=()=>createModelWithInvisibleSeries(!0),legendNotShowingInvisibleSeries=()=>createModelWithInvisibleSeries(!1),createModelWithInvisibleSeries=Ve=>{const je=createModel$1(),ze=new Legend({showInvisibleSeries:Ve});je.legends.push(ze);for(let qe=0;qe<je.series.length;qe+=2)je.series[qe].isVisible=!1;return je.invalidatePlot(!1),je},category$y="Legends",LegendExamples={category:category$y,tags:["Legends"],examples:[{title:"Legend at right top inside",example:{model:legendRightTopInside}},{title:"Legend at right top outside",example:{model:legendRightTopOutside}},{title:"Legend at BottomLeft outside horizontal",example:{model:legendBottomLeftHorizontal}},{title:"Legend at TopLeft outside vertical",example:{model:legendTopLeftVertical}},{title:"Legend at default position",example:{model:legendDefault}},{title:"LegendItemSpacing (only for horizontal orientation)",example:{model:legendItemSpacing}},{title:"LegendLineSpacing (vertical legend orientation)",example:{model:legendLineSpacingVertical}},{title:"LegendLineSpacing (horizontal legend orientation)",example:{model:legendLineSpacingHorizontal}},{title:"LegendColumnSpacing (only for vertical orientation)",example:{model:legendColumnSpacing}},{title:"Hidden Legend",example:{model:legendHidden}},{title:"Grayscale colors",example:{model:legendGrayscale}},{title:"Clipped legends",example:{model:clippedLegends}},{title:"Clipped legends RightTop outside with MaxWidth",example:{model:clippedLegendsOutside}},{title:"Clipped legends TopRight outside",example:{model:clippedLegendsRight}},{title:"LegendMaxHeight (vertical legend orientation)",example:{model:legendBottomCenterOutsideWithMaxHeight}},{title:"Legend with DefaultFontSize",example:{model:legendDefaultFontSize}},{title:"Legend with grouped Series Horizontal",example:{model:singleLegendWithSeriesGroupsHorizontal}},{title:"Legend with grouped Series",example:{model:singleLegendWithSeriesGroups}},{title:"Legend with grouped Series and MaxHeight",example:{model:singleLegendWithSeriesGroupsMaxHeight}},{title:"Multiple Legends with grouped Series",example:{model:multipleLegendsWithSeriesGroups}},{title:"Full width legend",example:{model:legendFullWidth}},{title:"Full height legend",example:{model:legendFullHeight}},{title:"Legend showing invisible series",example:{model:legendShowingInvisibleSeries}},{title:"Legend not showing invisible series",example:{model:legendNotShowingInvisibleSeries}}]};function mouseEvents(){const Ve=new PlotModel({title:"Mouse events",subtitle:"Left click and drag"}),je=new LinearAxis({position:AxisPosition.Left,minimum:-1,maximum:1}),ze=new LinearAxis({position:AxisPosition.Bottom,minimum:-1,maximum:1});Ve.axes.push(je),Ve.axes.push(ze);let qe;return Ve.mouseDown=(Xe,Ye)=>{Ye.changedButton===OxyMouseButton.Left&&(qe=new LineSeries({title:"LineSeries"+(Ve.series.length+1),markerType:MarkerType.None,strokeThickness:2}),qe.points.push(ze.inverseTransformPoint(Ye.position.x,Ye.position.y,je)),Ve.series.push(qe),Ve.invalidatePlot(!1),Ye.handled=!0)},Ve.mouseMove=(Xe,Ye)=>{qe!==void 0&&(qe.points.push(ze.inverseTransformPoint(Ye.position.x,Ye.position.y,je)),Ve.invalidatePlot(!1),Ye.handled=!0)},Ve.mouseUp=(Xe,Ye)=>{qe!==void 0&&(qe=void 0,Ye.handled=!0)},Ve}function mouseDownEventHitTestResult(){const Ve=new PlotModel({title:"MouseDown HitTestResult",subtitle:"Reports the index of the nearest point."}),je=new LineSeries;je.points.push(new DataPoint(0,10)),je.points.push(new DataPoint(10,40)),je.points.push(new DataPoint(40,20)),je.points.push(new DataPoint(60,30)),Ve.series.push(je),je.mouseDown=(qe,Xe)=>{Ve.subtitle="Index of nearest point in LineSeries: "+Math.round(Xe.hitTestResult.index||0),Ve.invalidatePlot(!1)};const ze=new ScatterSeries;return ze.points.push({x:0,y:15}),ze.points.push({x:10,y:45}),ze.points.push({x:40,y:25}),ze.points.push({x:60,y:35}),Ve.series.push(ze),ze.mouseDown=(qe,Xe)=>{Ve.subtitle="Index of nearest point in ScatterSeries: "+Math.round(Xe.hitTestResult.index||0),Ve.invalidatePlot(!1)},Ve}function mouseDownEvent(){const Ve=new PlotModel({title:"MouseDown",subtitle:"Left click to edit or add points."}),je=new LineSeries({title:"LineSeries1",markerType:MarkerType.Circle,markerSize:6,strokeThickness:1.5});je.points.push(new DataPoint(0,10)),je.points.push(new DataPoint(10,40)),je.points.push(new DataPoint(40,20)),je.points.push(new DataPoint(60,30)),Ve.series.push(je);let ze=-1;return je.mouseDown=(qe,Xe)=>{if(Xe.changedButton===OxyMouseButton.Left){const Ye=Math.round(Xe.hitTestResult.index);if(je.transform(je.points[Ye]).minus(Xe.position).length<10)ze=Ye;else{const Ze=Xe.hitTestResult.index+1;je.points.splice(Ze,0,je.inverseTransform(Xe.position)),ze=Ze}je.lineStyle=LineStyle.DashDot,Ve.invalidatePlot(!1),Xe.handled=!0}},je.mouseMove=(qe,Xe)=>{ze>=0&&(je.points[ze]=je.inverseTransform(Xe.position),Ve.invalidatePlot(!1),Xe.handled=!0)},je.mouseUp=(qe,Xe)=>{ze=-1,je.lineStyle=LineStyle.Solid,Ve.invalidatePlot(!1),Xe.handled=!0},Ve.mouseDown=(qe,Xe)=>{Xe.changedButton===OxyMouseButton.Left&&(je.points.push(je.inverseTransform(Xe.position)),ze=je.points.length-1,Ve.invalidatePlot(!1),Xe.handled=!0)},Ve}function addAnnotations(){const Ve=new PlotModel({title:"Add arrow annotations",subtitle:"Press and drag the left mouse button"}),je=new LinearAxis({position:AxisPosition.Bottom}),ze=new LinearAxis({position:AxisPosition.Left});Ve.axes.push(je),Ve.axes.push(ze),Ve.series.push(new FunctionSeries({f:Xe=>Math.sin(Xe/4)*Math.acos(Math.sin(Xe)),x0:0,x1:Math.PI*8,n:2e3,title:"sin(x/4)*acos(sin(x))"}));let qe=null;return Ve.mouseDown=(Xe,Ye)=>{Ye.changedButton===OxyMouseButton.Left&&(qe=new ArrowAnnotation,qe.startPoint=qe.endPoint=je.inverseTransformPoint(Ye.position.x,Ye.position.y,ze),Ve.annotations.push(qe),Ye.handled=!0)},Ve.mouseMove=(Xe,Ye)=>{qe&&(qe.endPoint=je.inverseTransformPoint(Ye.position.x,Ye.position.y,ze),qe.text=`Y = ${qe.endPoint.y.toFixed(3)}`,Ve.invalidatePlot(!1),Ye.handled=!0)},Ve.mouseUp=(Xe,Ye)=>{qe&&(qe=null,Ye.handled=!0)},Ve}function lineAnnotation(){const Ve=new PlotModel({title:"LineAnnotation",subtitle:"Click and drag the annotation line."});Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:80})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10}));const je=new LineAnnotation({type:LineAnnotationType.Vertical,x:4});return je.mouseDown=(ze,qe)=>{qe.changedButton===OxyMouseButton.Left&&(je.strokeThickness*=5,Ve.invalidatePlot(!1),qe.handled=!0)},je.mouseMove=(ze,qe)=>{je.x=je.inverseTransform(qe.position).x,Ve.invalidatePlot(!1),qe.handled=!0},je.mouseUp=(ze,qe)=>{je.strokeThickness/=5,Ve.invalidatePlot(!1),qe.handled=!0},Ve.annotations.push(je),Ve}function arrowAnnotation(){const Ve=new PlotModel({title:"ArrowAnnotation",subtitle:"Click and drag the arrow."});Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-40,maximum:60})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10}));const je=new ArrowAnnotation({startPoint:new DataPoint(8,4),endPoint:new DataPoint(0,0),text:"Move me!"});let ze=DataPoint.Undefined,qe=!1,Xe=!1,Ye=OxyColors.White;return je.mouseDown=(Ke,Ze)=>{Ze.changedButton===OxyMouseButton.Left&&(ze=je.inverseTransform(Ze.position),qe=Ze.hitTestResult.index!==2,Xe=Ze.hitTestResult.index!==1,Ye=je.color,je.color=OxyColors.Red,Ve.invalidatePlot(!1),Ze.handled=!0)},je.mouseMove=(Ke,Ze)=>{const Qe=je.inverseTransform(Ze.position),Je=Qe.x-ze.x,St=Qe.y-ze.y;qe&&(je.startPoint=new DataPoint(je.startPoint.x+Je,je.startPoint.y+St)),Xe&&(je.endPoint=new DataPoint(je.endPoint.x+Je,je.endPoint.y+St)),ze=Qe,Ve.invalidatePlot(!1),Ze.handled=!0},je.mouseUp=(Ke,Ze)=>{je.color=Ye},Ve.annotations.push(je),Ve}function polygonAnnotation(){const Ve=new PlotModel({title:"PolygonAnnotation",subtitle:"Click the polygon"});Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-20,maximum:20})),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:20}));const je=new PolygonAnnotation({text:"Polygon 1"});je.points.push(new DataPoint(4,-2),new DataPoint(8,-4),new DataPoint(17,7),new DataPoint(5,8),new DataPoint(2,5));let ze=1;return je.mouseDown=(qe,Xe)=>{Xe.changedButton===OxyMouseButton.Left&&(je.text="Hit # "+ze++,Ve.invalidatePlot(!1),Xe.handled=!0)},Ve.annotations.push(je),Ve}function textAnnotation(){const Ve=new PlotModel({title:"TextAnnotation",subtitle:"Click the text"});Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:20})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10}));const je=new TextAnnotation({textPosition:new DataPoint(4,-2),text:"Click here"});return je.mouseDown=(ze,qe)=>{console.log("mouseDown"),qe.changedButton===OxyMouseButton.Left&&(je.background=je.background.isUndefined()?OxyColors.LightGreen:OxyColors.Undefined,Ve.invalidatePlot(!1),qe.handled=!0)},Ve.annotations.push(je),Ve}async function imageAnnotation(){const Ve=new PlotModel({title:"ImageAnnotation",subtitle:"Click the image"});Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:20})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10}));const je=window.oxyPlotImg;if(!je)throw new Error("window.oxyPlotImg not set");const ze=await getImageService().load(je),qe=new ImageAnnotation({imageSource:ze,x:new PlotLength(4,PlotLengthUnit.Data),y:new PlotLength(2,PlotLengthUnit.Data),horizontalAlignment:HorizontalAlignment.Right});return Ve.annotations.push(qe),qe.mouseDown=(Xe,Ye)=>{Ye.changedButton===OxyMouseButton.Left&&(qe.horizontalAlignment=qe.horizontalAlignment===HorizontalAlignment.Right?HorizontalAlignment.Left:HorizontalAlignment.Right,Ve.invalidatePlot(!1),Ye.handled=!0)},Ve}function addSeriesByMouseDownEvent(){const Ve=new PlotModel({title:"MouseDown",subtitle:"Left click to add series."}),je=new Legend({legendSymbolLength:40});return Ve.legends.push(je),Ve.mouseDown=(ze,qe)=>{if(qe.changedButton===OxyMouseButton.Left){const Xe=Ve.series.length+1;Ve.series.push(new FunctionSeries({f:Ye=>Math.sin(Xe*Ye),x0:0,x1:10,n:1e3})),Ve.invalidatePlot(!0),qe.handled=!0}},Ve}function selectRange(){const Ve=new PlotModel({title:"Select range",subtitle:"Left click and drag to select a range."});Ve.series.push(new FunctionSeries({f:Math.cos,x0:0,x1:40,dx:.1}));const je=new RectangleAnnotation({fill:OxyColor.fromAColor(120,OxyColors.SkyBlue),minimumX:0,maximumX:0});Ve.annotations.push(je);let ze=Number.NaN;return Ve.mouseDown=(qe,Xe)=>{Xe.changedButton===OxyMouseButton.Left&&(ze=je.inverseTransform(Xe.position).x,je.minimumX=ze,je.maximumX=ze,Ve.invalidatePlot(!0),Xe.handled=!0)},Ve.mouseMove=(qe,Xe)=>{if(!Number.isNaN(ze)){const Ye=je.inverseTransform(Xe.position).x;je.minimumX=Math.min(Ye,ze),je.maximumX=Math.max(Ye,ze),je.text=` cos(x) dx =  ${Math.sin(je.maximumX)-round(Math.sin(je.minimumX),2)}`,Ve.subtitle=`Integrating from ${je.minimumX.toFixed(2)} to ${je.maximumX.toFixed(2)}`,Ve.invalidatePlot(!0),Xe.handled=!0}},Ve.mouseUp=(qe,Xe)=>{ze=Number.NaN},Ve}function hover(){const Ve=new PlotModel({title:"Hover"});let je=null;return Ve.mouseEnter=(ze,qe)=>{Ve.subtitle="The mouse entered",je=new LineSeries,Ve.series.push(je),Ve.invalidatePlot(!1),qe.handled=!0},Ve.mouseMove=(ze,qe)=>{je&&je.xAxis&&(je.points.push(je.inverseTransform(qe.position)),Ve.invalidatePlot(!1))},Ve.mouseLeave=(ze,qe)=>{Ve.subtitle="The mouse left",Ve.invalidatePlot(!1),qe.handled=!0},Ve}function touch(){const Ve=new PlotModel({title:"Touch"}),je=new LineSeries;return Ve.series.push(je),Ve.touchStarted=(ze,qe)=>{Ve.subtitle="The touch gesture started",Ve.invalidatePlot(!1),qe.handled=!0},Ve.touchDelta=(ze,qe)=>{je.points.push(je.inverseTransform(qe.position)),Ve.invalidatePlot(!1)},Ve.touchCompleted=(ze,qe)=>{Ve.subtitle="The touch gesture completed",Ve.invalidatePlot(!1),qe.handled=!0},Ve}function touchSeries(){const Ve=new PlotModel({title:"Touch on a LineSeries"}),je=new LineSeries;return je.points.push(new DataPoint(0,0)),je.points.push(new DataPoint(10,10)),Ve.series.push(je),je.touchStarted=(ze,qe)=>{Ve.subtitle="The touch gesture started on the LineSeries",Ve.invalidatePlot(!1),qe.handled=!0},je.touchDelta=(ze,qe)=>{je.points.push(je.inverseTransform(qe.position)),Ve.invalidatePlot(!1)},je.touchCompleted=(ze,qe)=>{Ve.subtitle="The touch gesture completed",Ve.invalidatePlot(!1),qe.handled=!0},Ve}function rectangleAnnotationClick(){const Ve=new PlotModel({title:"RectangleAnnotation click"});Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left}));const je=new RectangleAnnotation({minimumX:10,maximumX:60,minimumY:10,maximumY:20});Ve.annotations.push(je);let ze=0;return je.mouseDown=(qe,Xe)=>{je.text="Clicked "+ ++ze+" times.",Ve.invalidatePlot(!1)},Ve}function clickingOnAnAnnotation$1(){const Ve=new PlotModel({title:"Clicking on an annotation",subtitle:"Click on the rectangles"});Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left}));const je=new RectangleAnnotation({fill:OxyColors.Green,text:"RectangleAnnotation 1",minimumX:25,maximumX:75,minimumY:20,maximumY:40});Ve.annotations.push(je);const ze=new RectangleAnnotation({fill:OxyColors.SkyBlue,text:"RectangleAnnotation 2",minimumX:25,maximumX:75,minimumY:60,maximumY:80});Ve.annotations.push(ze);const qe=(Xe,Ye)=>{Ve.subtitle="You clicked "+Xe.text,Ve.invalidatePlot(!1)};return je.mouseDown=qe,ze.mouseDown=qe,Ve}const category$x="Mouse Events",MouseEventExamples={category:category$x,examples:[{title:"PlotModel mouse events",example:{model:mouseEvents}},{title:"MouseDown event and HitTestResult",example:{model:mouseDownEventHitTestResult}},{title:"LineSeries and PlotModel MouseDown event",example:{model:mouseDownEvent}},{title:"Add arrow annotations",example:{model:addAnnotations}},{title:"LineAnnotation",example:{model:lineAnnotation}},{title:"ArrowAnnotation",example:{model:arrowAnnotation}},{title:"PolygonAnnotation",example:{model:polygonAnnotation}},{title:"TextAnnotation",example:{model:textAnnotation}},{title:"ImageAnnotation",example:{model:imageAnnotation}},{title:"Add Series",example:{model:addSeriesByMouseDownEvent}},{title:"Select range",example:{model:selectRange}},{title:"Hover",example:{model:hover}},{title:"Touch",example:{model:touch}},{title:"Touch on a LineSeries",example:{model:touchSeries}},{title:"RectangleAnnotation click",example:{model:rectangleAnnotationClick}},{title:"Clicking on an annotation",example:{model:clickingOnAnAnnotation$1}}]};function lineSeries1M(){const Ve=new PlotModel({title:"LineSeries, 1M points"}),je=new LineSeries;return addDataPoints(je.points,1e6),Ve.series.push(je),Ve}function lineSeries1MSpeed(){const Ve=new PlotModel({title:"LineSeries, 1M points"}),je=new LineSeries({edgeRenderingMode:EdgeRenderingMode.PreferSpeed});return addDataPoints(je.points,1e6),Ve.series.push(je),Ve}function lineSeries(){const Ve=new PlotModel({title:"LineSeries, 100k points"}),je=new LineSeries;return addDataPoints(je.points,1e5),Ve.series.push(je),Ve}function lineSeriesDashedLines(){const Ve=new PlotModel({title:"LineSeries, 100k points",subtitle:"LineStyle = Dash"}),je=new LineSeries({lineStyle:LineStyle.Dash});return addDataPoints(je.points,1e5),Ve.series.push(je),Ve}function lineSeries1WithMarkers(){const Ve=new PlotModel({title:"LineSeries, 100k points",subtitle:"MarkerType = Square"}),je=new LineSeries({markerType:MarkerType.Square});return addDataPoints(je.points,1e5),Ve.series.push(je),Ve}function lineSeries1WithMarkersLowRes(){const Ve=new PlotModel({title:"LineSeries, 100k points, markers, lower resolution",subtitle:"MarkerType = Square, MarkerResolution = 3"}),je=new LineSeries({markerType:MarkerType.Square,markerResolution:3});return addDataPoints(je.points,1e5),Ve.series.push(je),Ve}function lineSeriesRoundLineJoins(){const Ve=new PlotModel({title:"LineSeries, 100k points",subtitle:"LineJoin = Round"}),je=new LineSeries({lineJoin:LineJoin.Round});return addDataPoints(je.points,1e5),Ve.series.push(je),Ve}function lineSeriesItemsSourceList(){const Ve=new PlotModel({title:"LineSeries, 100k points by ItemsSource set to a List<DataPoint>"}),je=new LineSeries,ze=[];return addDataPoints(ze,1e5),je.itemsSource=ze,Ve.series.push(je),Ve}function lineSeriesItemsSourceMapping(){const Ve=new PlotModel({title:"LineSeries, 100k points by ItemsSource and Mapping",subtitle:"Using the Mapping function"}),je=new LineSeries,ze=[];addDataPoints(ze,1e5);const qe=ze.map(Xe=>new OxyRect(Xe.x,Xe.y,0,0));return je.itemsSource=qe,je.mapping=Xe=>new DataPoint(Xe.left,Xe.top),Ve.series.push(je),Ve}function lineSeriesItemsSourceReflection(){const Ve=new PlotModel({title:"LineSeries, 100k points, ItemsSource with reflection",subtitle:"DataFieldX and DataFieldY"}),je=new LineSeries,ze=[];addDataPoints(ze,1e5);const qe=ze.map(Xe=>new OxyRect(Xe.x,Xe.y,0,0));return je.itemsSource=qe,je.dataFieldX="left",je.dataFieldY="top",Ve.series.push(je),Ve}function lineSeriesThick(){const Ve=new PlotModel({title:"LineSeries, 100k points (thick)",subtitle:"StrokeThickness = 10"}),je=new LineSeries({strokeThickness:10});return addDataPoints(je.points,1e5),Ve.series.push(je),Ve}function lineSeries2MiterLineJoins(){const Ve=new PlotModel({title:"LineSeries, 3k points, miter line joins",subtitle:"LineJoin = Miter"}),je=new LineSeries({lineJoin:LineJoin.Miter,strokeThickness:8});for(let ze=0;ze<3e3;ze++)je.points.push(new DataPoint(ze,ze%2));return Ve.series.push(je),Ve}function lineSeries2RoundLineJoins(){const Ve=new PlotModel({title:"LineSeries, 3k points, round line joins",subtitle:"LineJoin = Round"}),je=new LineSeries({lineJoin:LineJoin.Round,strokeThickness:8});for(let ze=0;ze<3e3;ze++)je.points.push(new DataPoint(ze,ze%2));return Ve.series.push(je),Ve}function lineSeries2BevelLineJoins(){const Ve=new PlotModel({title:"LineSeries, 3k points, bevel line joins",subtitle:"LineJoin = Bevel"}),je=new LineSeries({lineJoin:LineJoin.Bevel,strokeThickness:8});for(let ze=0;ze<3e3;ze++)je.points.push(new DataPoint(ze,ze%2));return Ve.series.push(je),Ve}function scatterSeriesSquares(){const Ve=new PlotModel({title:"ScatterSeries (squares)"}),je=new ScatterSeries;return addScatterPoints(je.points,2e3),Ve.series.push(je),Ve}function scatterSeriesSquaresOutline(){const Ve=new PlotModel({title:"ScatterSeries (squares with outline)",subtitle:"MarkerStroke = Black"}),je=new ScatterSeries({markerStroke:OxyColors.Black});return addScatterPoints(je.points,2e3),Ve.series.push(je),Ve}function scatterSeriesSquaresOutlineOnly(){const Ve=new PlotModel({title:"ScatterSeries (squares without fill color)",subtitle:"MarkerFill = Transparent, MarkerStroke = Black"}),je=new ScatterSeries({markerFill:OxyColors.Transparent,markerStroke:OxyColors.Black});return addScatterPoints(je.points,2e3),Ve.series.push(je),Ve}function scatterSeriesItemsSourceReflection(){const Ve=new PlotModel({title:"ScatterSeries (by ItemsSource)",subtitle:"DataFieldX = 'X', DataFieldY = 'Y'"});return Ve.series.push(new ScatterSeries({itemsSource:getPoints(2e3),dataFieldX:"X",dataFieldY:"Y"})),Ve}function scatterSeriesCircles(){const Ve=new PlotModel({title:"ScatterSeries (circles)",subtitle:"MarkerType = Circle"}),je=new ScatterSeries({markerType:MarkerType.Circle});return addScatterPoints(je.points,2e3),Ve.series.push(je),Ve}function scatterSeriesCirclesOutline(){const Ve=new PlotModel({title:"ScatterSeries (circles with outline)",subtitle:"MarkerType = Circle, MarkerStroke = Black"}),je=new ScatterSeries({markerType:MarkerType.Circle,markerStroke:OxyColors.Black});return addScatterPoints(je.points,2e3),Ve.series.push(je),Ve}function scatterSeriesCrosses(){const Ve=new PlotModel({title:"ScatterSeries (cross)",subtitle:"MarkerType = Cross"}),je=new ScatterSeries({markerType:MarkerType.Cross,markerFill:OxyColors.Undefined,markerStroke:OxyColors.Black});return addScatterPoints(je.points,2e3),Ve.series.push(je),Ve}function linearAxisNoGridlines(){const Ve=new PlotModel({title:"LinearAxis (no gridlines)"});return Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:100,majorStep:1,minorStep:1})),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:0,maximum:100,majorStep:1,minorStep:1})),Ve}function linearAxisSolidGridlines(){const Ve=new PlotModel({title:"LinearAxis (solid gridlines)"});return Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:LineStyle.Solid})),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:LineStyle.Solid})),Ve}function linearAxisDashedGridlines(){const Ve=new PlotModel({title:"LinearAxis (dashed gridlines)"});return Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:LineStyle.Dash})),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:LineStyle.Dash})),Ve}function linearAxisDottedGridlines(){const Ve=new PlotModel({title:"LinearAxis (dotted gridlines)"});return Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:LineStyle.Dot})),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:LineStyle.Dot})),Ve}function intOverflow10k(){return intOverflow(1e4)}function intOverflow50k(){return intOverflow(5e4)}function intOverflow100k(){return intOverflow(1e5)}function intOverflow(Ve){const je=new PlotModel({title:"int overflow",subtitle:`n = ${Ve}`}),ze=new LineSeries;let qe=0;for(let Xe=0;Xe<Ve;Xe++)ze.points.push(new DataPoint(Xe,qe+=Xe*Xe));return je.series.push(ze),je}function getPoints(Ve){const je=[];return addDataPoints(je,Ve),je}function addDataPoints(Ve,je){for(let ze=0;ze<je;ze++){const qe=Math.PI*10*ze/(je-1);Ve.push(new DataPoint(qe*Math.cos(qe),qe*Math.sin(qe)))}}function addScatterPoints(Ve,je){for(let ze=0;ze<je;ze++){const qe=Math.PI*10*ze/(je-1);Ve.push({x:qe*Math.cos(qe),y:qe*Math.sin(qe)})}}const category$w="Performance",PerformanceExamples={category:category$w,examples:[{title:"LineSeries, 1M points",example:{model:lineSeries1M}},{title:"LineSeries, 1M points, EdgeRenderingMode==PreferSpeed",example:{model:lineSeries1MSpeed}},{title:"LineSeries, 100k points",example:{model:lineSeries}},{title:"LineSeries, 100k points (dashed line)",example:{model:lineSeriesDashedLines}},{title:"LineSeries, 100k points, markers",example:{model:lineSeries1WithMarkers}},{title:"LineSeries, 100k points, markers, lower resolution",example:{model:lineSeries1WithMarkersLowRes}},{title:"LineSeries, 100k points, round line joins",example:{model:lineSeriesRoundLineJoins}},{title:"LineSeries, 100k points by ItemsSource set to a List<DataPoint>",example:{model:lineSeriesItemsSourceList}},{title:"LineSeries, 100k points by ItemsSource and Mapping",example:{model:lineSeriesItemsSourceMapping}},{title:"LineSeries, 100k points by ItemsSource and reflection",example:{model:lineSeriesItemsSourceReflection}},{title:"LineSeries, 100k points (thick)",example:{model:lineSeriesThick}},{title:"LineSeries, 3k points, miter line joins",example:{model:lineSeries2MiterLineJoins}},{title:"LineSeries, 3k points, round line joins",example:{model:lineSeries2RoundLineJoins}},{title:"LineSeries, 3k points, bevel line joins",example:{model:lineSeries2BevelLineJoins}},{title:"ScatterSeries (squares)",example:{model:scatterSeriesSquares}},{title:"ScatterSeries (squares with outline)",example:{model:scatterSeriesSquaresOutline}},{title:"ScatterSeries (squares without fill color)",example:{model:scatterSeriesSquaresOutlineOnly}},{title:"ScatterSeries by ItemsSource and reflection",example:{model:scatterSeriesItemsSourceReflection}},{title:"ScatterSeries (circles)",example:{model:scatterSeriesCircles}},{title:"ScatterSeries (circles with outline)",example:{model:scatterSeriesCirclesOutline}},{title:"ScatterSeries (cross)",example:{model:scatterSeriesCrosses}},{title:"LinearAxis (no gridlines)",example:{model:linearAxisNoGridlines}},{title:"LinearAxis (solid gridlines)",example:{model:linearAxisSolidGridlines}},{title:"LinearAxis (dashed gridlines)",example:{model:linearAxisDashedGridlines}},{title:"LinearAxis (dotted gridlines)",example:{model:linearAxisDottedGridlines}},{title:"int overflow (10k)",example:{model:intOverflow10k}},{title:"int overflow (50k)",example:{model:intOverflow50k}},{title:"int overflow (100k)",example:{model:intOverflow100k}}]};function basicExample(){const Ve=new PlotModel({title:"Basic Controller example",subtitle:"Panning with left mouse button"});Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left}));const je=new PlotController;return je.unbindAll(),ControllerExtensions.bindMouseDown(je,OxyMouseButton.Left,PlotCommands.panAt),{model:()=>Ve,controller:()=>je}}function hoverTracking(){const Ve=new PlotModel({title:"Show tracker without clicking"});Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left})),Ve.series.push(FunctionSeries.fromFxFyN(ze=>Math.cos(ze)*5+Math.cos(ze*50),ze=>Math.sin(ze)*5+Math.sin(ze*50),0,Math.PI*2,2e4));const je=new PlotController;return ControllerExtensions.bindMouseEnter(je,PlotCommands.hoverPointsOnlyTrack),{model:()=>Ve,controller:()=>je}}function mouseHandlingExample(){const Ve=new PlotModel({title:"Mouse handling example"}),je=new ScatterSeries;Ve.series.push(je);const ze=new DelegatePlotCommand((Xe,Ye,Ke)=>{Ke.handled=!0;const Ze=je.inverseTransform(Ke.position);je.points.push({x:Ze.x,y:Ze.y}),Ve.invalidatePlot(!0)}),qe=new PlotController;return ControllerExtensions.bindMouseDown(qe,OxyMouseButton.Left,ze),{model:()=>Ve,controller:()=>qe}}function clickingOnAnAnnotation(){const Ve=new PlotModel({title:"Clicking on an annotation",subtitle:"Click on the rectangles"});Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left}));const je=new RectangleAnnotation({fill:OxyColors.Green,text:"RectangleAnnotation 1",minimumX:25,maximumX:75,minimumY:20,maximumY:40});Ve.annotations.push(je);const ze=new RectangleAnnotation({fill:OxyColors.SkyBlue,text:"RectangleAnnotation 2",minimumX:25,maximumX:75,minimumY:60,maximumY:80});Ve.annotations.push(ze);const qe=(Ke,Ze)=>{Ve.subtitle="You clicked "+Ke.text,Ve.invalidatePlot(!1)};je.mouseDown=qe,ze.mouseDown=qe;const Xe=new PlotController,Ye=new DelegatePlotCommand((Ke,Ze,Qe)=>{const Je=new HitTestArguments(Qe.position,10),St=Ke.actualModel.hitTest(Je).find(ei=>ei.element instanceof RectangleAnnotation);St&&(Qe.handled=!0,Ve.subtitle="You clicked "+St.element.text,Ve.invalidatePlot(!1))});return Xe.bindMouseDown(new OxyMouseDownGesture(OxyMouseButton.Left),Ye),{model:()=>Ve,controller:()=>Xe}}function preferringAnAxisForManipulation(){function Ve(qe,Xe,Ye=1){const Ke=new ZoomStepManipulator(qe,Xe.delta*.001*Ye,OxyModifierKeysExtensions.isControlDown(Xe));Ke.axisPreference=AxisPreference.X,Ke.started(Xe)}const je=new PlotModel({title:"Preferring an axis for manipulation",subtitle:"Mouse wheel over plot area prefers X axis"});je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left})),je.series.push(FunctionSeries.fromDx(Math.cos,-7,7,.01));const ze=new PlotController;return ze.unbindAll(),ControllerExtensions.bindMouseWheel(ze,new DelegatePlotCommand((qe,Xe,Ye)=>Ve(qe,Ye))),ControllerExtensions.bindMouseWheel(ze,new DelegatePlotCommand((qe,Xe,Ye)=>Ve(qe,Ye,.1)),OxyModifierKeys.Control),{model:()=>je,controller:()=>ze}}function showHideLegend(){const Ve=new PlotModel({title:"Show/Hide Legend",subtitle:"Click on the rectangles"}),je=3;for(let Qe=1;Qe<=je;Qe++){const Je=new LineSeries({title:"Series "+Qe});Ve.series.push(Je);for(let St=0;St<2*Math.PI;St+=.1)Je.points.push(new DataPoint(St,Math.sin(St*Qe)/Qe+Qe))}const ze=new Legend;Ve.legends.push(ze);const qe=new RectangleAnnotation({fill:OxyColors.Green,text:"Show Legend",minimumX:.5,maximumX:1.5,minimumY:.2,maximumY:.4});Ve.annotations.push(qe);const Xe=new RectangleAnnotation({fill:OxyColors.SkyBlue,text:"Hide Legend",minimumX:.5,maximumX:1.5,minimumY:.6,maximumY:.8});Ve.annotations.push(Xe);const Ye=(Qe,Je)=>{const St=Qe.text;St==="Show Legend"?Ve.isLegendVisible=!0:St==="Hide Legend"&&(Ve.isLegendVisible=!1),Ve.subtitle="You clicked "+Qe.text,Ve.invalidatePlot(!1)};qe.mouseDown=Ye,Xe.mouseDown=Ye;const Ke=new PlotController,Ze=new DelegatePlotCommand((Qe,Je,St)=>{const ei=new HitTestArguments(St.position,10),ti=Qe.actualModel.hitTest(ei).find(ii=>ii.element instanceof RectangleAnnotation);ti&&(St.handled=!0,Ve.subtitle="You clicked "+ti.element.text,Ve.invalidatePlot(!1))});return Ke.bindMouseDown(new OxyMouseDownGesture(OxyMouseButton.Left),Ze),{model:()=>Ve,controller:()=>Ke}}const category$v="PlotController examples",PlotControllerExamples={category:category$v,examples:[{title:"Basic controller example",example:basicExample()},{title:"Show tracker without clicking",example:hoverTracking()},{title:"Mouse handling example",example:mouseHandlingExample()},{title:"Clicking on an annotation",example:clickingOnAnAnnotation()},{title:"Preferring an axis for manipulation",example:preferringAnAxisForManipulation()},{title:"Show/Hide Legend",example:showHideLegend()}]};function title(){const Ve=new PlotModel({title:"Title"});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left})),Ve}function titleAndSubtitle(){const Ve=new PlotModel({title:"Title",subtitle:"Subtitle"});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left})),Ve}function titleAndSubtitleWithSubSuperscript(){const Ve=new PlotModel({title:"Title with^{super}_{sub}script",subtitle:"Subtitle with^{super}_{sub}script"});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left})),Ve}function titlePadding0(){const Ve=new PlotModel({title:"TitlePadding = 0",subtitle:"This controls the distance between the titles and the plot area. The default value is 6",titlePadding:0});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left})),Ve}function titlePadding100(){const Ve=new PlotModel({title:"TitlePadding = 100",titlePadding:100});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left})),Ve}function titlesCenteredWithinView(){const Ve=new PlotModel({title:"Title",subtitle:"Subtitle",titleHorizontalAlignment:TitleHorizontalAlignment.CenteredWithinView});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left})),Ve}function titleClippingOff(){const Ve=new PlotModel({title:"This is a very long title to illustrate that title clipping is necessary, because currently it's not clipped.",clipTitle:!1});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left})),Ve}function titleClipping60(){const Ve=new PlotModel({title:"This is a very long title, that shows that title clippling is working with crrently 60% of title area",titleClippingLength:.6});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left})),Ve}function backgroundUndefined(){const Ve=new PlotModel({title:"Background = Undefined",background:OxyColors.Undefined});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left})),Ve}function backgroundWhite50(){const Ve=new PlotModel({title:"Background = 50% White",background:OxyColor.fromAColor(128,OxyColors.White)});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left})),Ve}function backgroundTransparent(){const Ve=new PlotModel({title:"Background = Transparent",background:OxyColors.Transparent});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left})),Ve}function backgroundLightGray(){const Ve=new PlotModel({title:"Background = LightSkyBlue",background:OxyColors.LightSkyBlue});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left})),Ve}function backgroundWhite(){const Ve=new PlotModel({title:"Background = White",background:OxyColors.White});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left})),Ve}function backgroundBlack(){const Ve=new PlotModel({title:"Background = Black",background:OxyColors.Black,textColor:OxyColors.White,titleColor:OxyColors.White,plotAreaBorderColor:OxyColors.White});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,ticklineColor:OxyColors.White})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,ticklineColor:OxyColors.White})),Ve}function plotAreaBorderThickness2(){const Ve=new PlotModel({title:"PlotAreaBorderThickness = 2",plotAreaBorderThickness:new OxyThickness(2)});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left})),Ve}function plotAreaBorderThickness1001(){const Ve=new PlotModel({title:"PlotAreaBorderThickness = (1,0,0,1)",plotAreaBorderThickness:new OxyThickness(1,0,0,1)});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left})),Ve}function plotAreaBorderThickness4114(){const Ve=new PlotModel({title:"PlotAreaBorderThickness = (4,1,1,4)",plotAreaBorderThickness:new OxyThickness(4,1,1,4)});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left})),Ve}function plotAreaBorderThickness0(){const Ve=new PlotModel({title:"PlotAreaBorderThickness = 0",plotAreaBorderThickness:new OxyThickness(0)});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left})),Ve}function plotAreaBorderThickness0AxisLineThickness1(){const Ve=new PlotModel({title:"PlotAreaBorderThickness = 0",subtitle:"AxislineThickness = 1, AxislineColor = OxyColors.Blue, AxislineStyle = LineStyle.Solid",plotAreaBorderThickness:new OxyThickness(0)});return Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,axislineThickness:1,axislineColor:OxyColors.Blue,axislineStyle:LineStyle.Solid})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,axislineThickness:1,axislineColor:OxyColors.Blue,axislineStyle:LineStyle.Solid})),Ve}function invalidAxisKey(){const Ve=new PlotModel;return Ve.axes.push(new LinearAxis),Ve.series.push(new LineSeries({xAxisKey:"invalidKey"})),Ve}function exceptionClipping(){const Ve=new PlotModel,je=new DelegateAnnotation(ze=>{throw ze.pushClip(new OxyRect(50,50,50,50)),new Error("This Exception should be completely visible and not clipped by the previously pushed clipping rectangle.")});return Ve.annotations.push(je),Ve}function unbalancedClippingPush(){const Ve=new PlotModel,je=new DelegateAnnotation(async ze=>{ze.pushClip(new OxyRect(50,50,50,50))});return Ve.annotations.push(je),Ve}function unbalancedClippingPop(){const Ve=new PlotModel,je=new DelegateAnnotation(async ze=>{ze.popClip()});return Ve.annotations.push(je),Ve}const category$u="PlotModel examples",PlotModelExamples={category:category$u,examples:[{title:"Title",example:{model:title}},{title:"Title and Subtitle",example:{model:titleAndSubtitle}},{title:"Sub- and superscript in titles",example:{model:titleAndSubtitleWithSubSuperscript}},{title:"TitlePadding = 0",example:{model:titlePadding0}},{title:"TitlePadding = 100",example:{model:titlePadding100}},{title:"TitleHorizontalAlignment = CenteredWithinView",example:{model:titlesCenteredWithinView}},{title:"TitleClippingOff",example:{model:titleClippingOff}},{title:"TitleClipping60",example:{model:titleClipping60}},{title:"Background = Undefined (default)",example:{model:backgroundUndefined}},{title:"Background = 50% White",example:{model:backgroundWhite50}},{title:"Background = Transparent",example:{model:backgroundTransparent}},{title:"Background = LightSkyBlue",example:{model:backgroundLightGray}},{title:"Background = White",example:{model:backgroundWhite}},{title:"Background = Black",example:{model:backgroundBlack}},{title:"PlotAreaBorderThickness = 2",example:{model:plotAreaBorderThickness2}},{title:"PlotAreaBorderThickness = (1,0,0,1)",example:{model:plotAreaBorderThickness1001}},{title:"PlotAreaBorderThickness = (4,1,1,4)",example:{model:plotAreaBorderThickness4114}},{title:"PlotAreaBorderThickness = 0",example:{model:plotAreaBorderThickness0}},{title:"PlotAreaBorderThickness / AxisLine",example:{model:plotAreaBorderThickness0AxisLineThickness1}},{title:"Exception handling (invalid XAxisKey)",example:{model:invalidAxisKey}},{title:"Exception handling (with clipping)",example:{model:exceptionClipping}},{title:"Unbalanced clipping (push)",example:{model:unbalancedClippingPush}},{title:"Unbalanced clipping (pop)",example:{model:unbalancedClippingPop}}]};function drawTextColors(){const Ve=new PlotModel,je="Arial",ze=32,qe=FontWeights.Bold,Xe=ze*1.6,Ye=20;let Ke=20-Xe;return Ve.annotations.push(new DelegateAnnotation(async Ze=>{await Ze.drawText(new ScreenPoint(Ye,Ke+=Xe),"Black",OxyColors.Black,je,ze,qe),await Ze.drawText(new ScreenPoint(Ye,Ke+=Xe),"Red",OxyColors.Red,je,ze,qe),await Ze.drawText(new ScreenPoint(Ye,Ke+=Xe),"Green",OxyColors.Green,je,ze,qe),await Ze.drawText(new ScreenPoint(Ye,Ke+=Xe),"Blue",OxyColors.Blue,je,ze,qe),await RenderingExtensions.fillRectangle(Ze,new OxyRect(Ye,Ke+Xe+15,200,10),OxyColors.Black,EdgeRenderingMode.Adaptive),await Ze.drawText(new ScreenPoint(Ye,Ke+Xe),"Yellow 50%",OxyColor.fromAColor(128,OxyColors.Yellow),je,ze,qe)})),Ve}function drawTextFonts(){const Ve=new PlotModel,je=20,ze=je*1.6,qe=20;let Xe=20-ze;return Ve.annotations.push(new DelegateAnnotation(async Ye=>{await Ye.drawText(new ScreenPoint(qe,Xe+=ze),"Default font",OxyColors.Black,void 0,je),await Ye.drawText(new ScreenPoint(qe,Xe+=ze),"Helvetica",OxyColors.Black,"Helvetica",je),await Ye.drawText(new ScreenPoint(qe,Xe+=ze),"Arial",OxyColors.Black,"Arial",je),await Ye.drawText(new ScreenPoint(qe,Xe+=ze),"Courier",OxyColors.Black,"Courier",je),await Ye.drawText(new ScreenPoint(qe,Xe+=ze),"Courier New",OxyColors.Black,"Courier New",je),await Ye.drawText(new ScreenPoint(qe,Xe+=ze),"Times",OxyColors.Black,"Times",je),await Ye.drawText(new ScreenPoint(qe,Xe+ze),"Times New Roman",OxyColors.Black,"Times New Roman",je)})),Ve}function drawTextFontSizes(){const Ve=new PlotModel,je=20;let ze=20;return Ve.annotations.push(new DelegateAnnotation(async qe=>{for(const Xe of[10,16,24,36,48])await qe.drawText(new ScreenPoint(je,ze),`${Xe}pt`,OxyColors.Black,"Arial",Xe),await qe.drawText(new ScreenPoint(je+200,ze),`${Xe}pt`,OxyColors.Black,"Arial",Xe,FontWeights.Bold),ze+=Xe*1.6})),Ve}function drawTextRotation(){const Ve=new PlotModel;return Ve.annotations.push(new DelegateAnnotation(async je=>{const ze=new ScreenPoint(200,200);await RenderingExtensions.fillCircle(je,ze,3,OxyColors.Blue,EdgeRenderingMode.Adaptive);for(let qe=0;qe<360;qe+=45)await je.drawText(ze,`Rotation ${qe}`,OxyColors.Black,void 0,20,void 0,qe)})),Ve}function drawTextAlignment(){const Ve=new PlotModel,je=20;return Ve.annotations.push(new DelegateAnnotation(async ze=>{for(let qe=HorizontalAlignment.Left;qe<=HorizontalAlignment.Right;qe++)for(let Xe=VerticalAlignment.Top;Xe<=VerticalAlignment.Bottom;Xe++){const Ye=new ScreenPoint((qe+1)*200+20,(Xe+1)*je*3+20);await RenderingExtensions.fillCircle(ze,Ye,3,OxyColors.Blue,EdgeRenderingMode.Adaptive);const Ke=getEnumName(HorizontalAlignment,qe),Ze=getEnumName(VerticalAlignment,Xe);await ze.drawText(Ye,`${Ke}-${Ze}`,OxyColors.Black,void 0,je,void 0,0,qe,Xe)}})),Ve}function drawTextMultiLineAlignment(){const Ve=new PlotModel,je=20;return Ve.annotations.push(new DelegateAnnotation(async ze=>{for(let qe=HorizontalAlignment.Left;qe<=HorizontalAlignment.Right;qe++){const Xe=getEnumName(HorizontalAlignment,qe);for(let Ye=VerticalAlignment.Top;Ye<=VerticalAlignment.Bottom;Ye++){const Ke=getEnumName(VerticalAlignment,Ye),Ze=(qe+1)*200+20,Qe=(Ye+1)*je*6+20,Je=new ScreenPoint(Ze,Qe);await RenderingExtensions.fillCircle(ze,Je,3,OxyColors.Blue,EdgeRenderingMode.Adaptive),await ze.drawText(Je,`${Xe}
${Ke}`,OxyColors.Black,void 0,je,void 0,0,qe,Ye)}}})),Ve}function mathTextRotation(){const Ve=new PlotModel,je="Arial",ze=24,qe=FontWeights.Normal;return Ve.annotations.push(new DelegateAnnotation(async Xe=>{const Ye=new ScreenPoint(200,200),Ke=new ScreenPoint(400,200);await RenderingExtensions.fillCircle(Xe,Ye,3,OxyColors.Blue,EdgeRenderingMode.Adaptive);for(let Ze=0;Ze<360;Ze+=45){const Qe="     A_{2}^{3}B";await MathRenderingExtensions.drawMathText(Xe,Ye,Qe,OxyColors.Black,je,ze,qe,Ze,HorizontalAlignment.Left,VerticalAlignment.Middle);const Je=await MathRenderingExtensions.measureMathText(Xe,Qe,je,ze,qe),St=OxySizeExtensions.getPolygon(Je,Ye,Ze,HorizontalAlignment.Left,VerticalAlignment.Middle);await Xe.drawPolygon(St,OxyColors.Undefined,OxyColors.Blue,1,EdgeRenderingMode.Adaptive);const ei="     A B";await Xe.drawText(Ke,ei,OxyColors.Red,je,ze,qe,Ze,HorizontalAlignment.Left,VerticalAlignment.Middle);const ti=Xe.measureText(ei,je,ze,qe),ii=OxySizeExtensions.getPolygon(ti,Ke,Ze,HorizontalAlignment.Left,VerticalAlignment.Middle);await Xe.drawPolygon(ii,OxyColors.Undefined,OxyColors.Blue,1,EdgeRenderingMode.Adaptive)}})),Ve}function drawMathTextAlignment(){const Ve="A_{2}^{3}B",je=new PlotModel,ze="Arial",qe=20,Xe=FontWeights.Normal;return je.annotations.push(new DelegateAnnotation(async Ye=>{for(let Ke=HorizontalAlignment.Left;Ke<=HorizontalAlignment.Right;Ke++)for(let Ze=VerticalAlignment.Top;Ze<=VerticalAlignment.Bottom;Ze++){const Qe=new ScreenPoint((Ke+1)*200+20,(Ze+1)*qe*3+20);await RenderingExtensions.fillCircle(Ye,Qe,3,OxyColors.Blue,EdgeRenderingMode.Adaptive),await MathRenderingExtensions.drawMathText(Ye,Qe,Ve,OxyColors.Black,ze,qe,Xe,0,Ke,Ze)}})),je}function drawTextAlignmentRotation(){const Ve=new PlotModel;return Ve.annotations.push(new DelegateAnnotation(async je=>{for(let ze=HorizontalAlignment.Left;ze<=HorizontalAlignment.Right;ze++)for(let qe=VerticalAlignment.Top;qe<=VerticalAlignment.Bottom;qe++){const Xe=(ze+2)*130,Ye=(qe+2)*130,Ke=new ScreenPoint(Xe,Ye);await RenderingExtensions.fillCircle(je,Ke,3,OxyColors.Blue,EdgeRenderingMode.Adaptive);for(let Ze=0;Ze<360;Ze+=90)await je.drawText(Ke,`R${Ze.toString().padStart(3,"0")}`,OxyColors.Black,void 0,20,void 0,Ze,ze,qe)}})),Ve}function drawMultilineTextAlignmentRotation(){const Ve=new PlotModel;return Ve.annotations.push(new DelegateAnnotation(async je=>{for(let ze=HorizontalAlignment.Left;ze<=HorizontalAlignment.Right;ze++){const qe=getEnumName(HorizontalAlignment,ze);for(let Xe=VerticalAlignment.Top;Xe<=VerticalAlignment.Bottom;Xe++){const Ye=getEnumName(VerticalAlignment,Xe),Ke=(ze+2)*170,Ze=(Xe+2)*170,Qe=new ScreenPoint(Ke,Ze);await RenderingExtensions.fillCircle(je,Qe,3,OxyColors.Blue,EdgeRenderingMode.Adaptive);for(let Je=0;Je<360;Je+=90)await je.drawText(Qe,`R${Je.toString().padStart(3,"0")}
${qe}
${Ye}`,OxyColors.Black,void 0,20,void 0,Je,ze,Xe)}}})),Ve}function drawTextMaxSize(){const Ve=new PlotModel,je="Arial",ze=32,qe=FontWeights.Bold,Xe=ze*1.6,Ye=20,Ke=200;let Ze=20;const Qe=["iii","jjj","OxyPlot","Bottom","100","KML"];return Ve.annotations.push(new DelegateAnnotation(async Je=>{for(const St of Qe){const ei=Je.measureText(St,je,ze,qe),ti=new ScreenPoint(Ye,Ze);await Je.drawText(ti,St,OxyColors.Black,je,ze,qe,void 0,void 0,void 0,ei);const ii=new OxyRect(ti.x,ti.y,ei.width,ei.height);await Je.drawRectangle(ii,OxyColors.Undefined,OxyColors.Black,1,EdgeRenderingMode.Adaptive);const ri=new ScreenPoint(Ke,Ze),si=new OxySize(ei.width/2,ei.height/2);await Je.drawText(ri,St,OxyColors.Black,je,ze,qe,void 0,void 0,void 0,si);const ui=new OxyRect(ri.x,ri.y,si.width,si.height);await Je.drawRectangle(ui,OxyColors.Undefined,OxyColors.Black,1,EdgeRenderingMode.Adaptive),Ze+=Xe}})),Ve}function measureText(){const Ve=new PlotModel,je="Arial",ze=["OxyPlot","MMM","III","jikq","gh","123","!#$&"],qe=[10,20,40,60];return Ve.annotations.push(new DelegateAnnotation(async Xe=>{let Ye=5;for(const Ke of qe){let Ze=5,Qe=0;for(const Je of ze){const St=Xe.measureText(Je,je,Ke,FontWeights.Normal);Qe=Math.max(Qe,St.width),await Xe.drawRectangle(new OxyRect(Ye,Ze,St.width,St.height),OxyColors.LightYellow,OxyColors.Black,1,EdgeRenderingMode.Adaptive),await Xe.drawText(new ScreenPoint(Ye,Ze),Je,OxyColors.Black,je,Ke),Ze+=St.height+20}Ye+=Qe+20}})),Ve}const clipping=()=>{const Ve=new PlotModel;return Ve.annotations.push(new DelegateAnnotation(async je=>{const ze=async ni=>{const ci=new OxyPen(OxyColors.Black,2,LineStyle.Dash);await RenderingExtensions.drawLine(je,ni.left,ni.top,ni.right,ni.top,ci,EdgeRenderingMode.Automatic),await RenderingExtensions.drawLine(je,ni.right,ni.top,ni.right,ni.bottom,ci,EdgeRenderingMode.Automatic),await RenderingExtensions.drawLine(je,ni.right,ni.bottom,ni.left,ni.bottom,ci,EdgeRenderingMode.Automatic),await RenderingExtensions.drawLine(je,ni.left,ni.bottom,ni.left,ni.top,ci,EdgeRenderingMode.Automatic)};let qe=20;const Xe=60,Ye=40,Ke=20,Ze=20,Qe=200;let Je=OxyRect.Empty;const St=async ni=>{await RenderingExtensions.drawCircle2(je,ni,Ye*.58,OxyColors.CornflowerBlue,OxyColors.Undefined,0,EdgeRenderingMode.Automatic)},ei=async ni=>{const ci=new ScreenPoint(Ke+Ye+Ze+Qe,qe);await je.drawText(ci,ni,OxyColors.Black,void 0,12,void 0,void 0,void 0,VerticalAlignment.Middle)},ti=async ni=>{const ci=new ScreenPoint(Ke+Ye+Ze,qe);await je.drawText(ci,ni,OxyColors.Black,void 0,12,void 0,void 0,void 0,VerticalAlignment.Middle)},ii=async(ni,ci)=>{await je.drawText(new ScreenPoint(ci,15),ni,OxyColors.Black,void 0,12,700)},ri=()=>{qe+=Xe,Je=new OxyRect(Ke,qe-Ye/2,Ye,Ye)};await ii("Actual",Ke),await ii("Test Case",Ke+Ye+Ze),await ii("Expected",Ke+Ye+Ze+Qe),ri(),je.pushClip(Je),je.popClip(),await St(Je.center),await ti(`1. Push clipping rectangle
2. Pop clipping rectangle
3. Draw circle`),await ei("The circle should be fully drawn."),ri(),je.pushClip(Je),await St(Je.center),je.popClip(),await ze(Je),await ti(`1. Push clipping rectangle
2. Draw Circle`),await ei("The circle should be clipped."),ri();let si=Je.deflate(new OxyThickness(Je.height*.25));je.pushClip(Je),je.pushClip(si),await St(Je.center),je.popClip(),je.popClip(),await ze(Je),await ze(si),await ti(`1. Push large clipping rectangle
2. Push small clipping rectangle
3. Draw Circle`),await ei("The circle should be clipped to the small clipping rectangle."),ri(),si=Je.deflate(new OxyThickness(Je.height*.25)),je.pushClip(si),je.pushClip(Je),await St(Je.center),je.popClip(),je.popClip(),await ze(Je),await ze(si),await ti(`1. Push small clipping rectangle
2. Push large clipping rectangle
3. Draw Circle`),await ei("The circle should be clipped to the small clipping rectangle."),ri(),si=Je.offset(Je.width/2,Je.height/2).deflate(new OxyThickness(Je.height*.25)),je.pushClip(Je),je.pushClip(si),await St(Je.center),je.popClip(),je.popClip(),await ze(Je),await ze(si),await ti(`1. Push large clipping rectangle
2. Push small clipping rectangle
3. Draw Circle`),await ei("The circle should be clipped to the intersection of the clipping rectangles."),ri(),si=Je.offset(Je.width/2,Je.height/2).deflate(new OxyThickness(Je.height*.25)),je.pushClip(Je),je.pushClip(si),je.popClip(),await St(Je.center),je.popClip(),await ze(Je),await ze(si),await ti(`1. Push large clipping rectangle
2. Push small clipping rectangle
3. Pop small clipping rectangle
4. Draw Circle`),await ei("The circle should be clipped to the large clipping rectangle."),ri();const ui=Je.offset(Je.width/3,Je.height/3).deflate(new OxyThickness(Je.height*.25)),ai=Je.offset(-Je.width/3,-Je.height/3).deflate(new OxyThickness(Je.height*.25));je.pushClip(ui),je.pushClip(ai),await St(Je.center),je.popClip(),je.popClip(),await ze(ui),await ze(ai),await ti(`1. Push clipping rectangle
2. Push second clipping rectangle
3. Draw Circle`),await ei("The circle should not be drawn at all."),ri();const oi=RenderingExtensions.autoResetClip(je,Je);await je.drawText(Je.center,"OxyPlot",OxyColors.CornflowerBlue,void 0,15,void 0,void 0,HorizontalAlignment.Center,VerticalAlignment.Middle),oi.dispose(),await ze(Je),await ti(`1. Push clipping rectangle
2. Draw Text`),await ei("The text should be clipped.")})),Ve},GRID_SIZE=40,TILE_SIZE=30,THICKNESS_STEPS=10,THICKNESS_STEP=.5,OFFSET_LEFT=200,OFFSET_TOP=20,FILL_COLOR=OxyColors.LightBlue,rectangles=()=>{const Ve=new PlotModel;return Ve.annotations.push(new DelegateAnnotation(async je=>{for(let qe=0;qe<THICKNESS_STEPS;qe++){const Xe=OFFSET_LEFT+qe*GRID_SIZE+TILE_SIZE/2,Ye=qe*THICKNESS_STEP;await je.drawText(new ScreenPoint(Xe,OFFSET_TOP/2),Ye.toString(),OxyColors.Black,void 0,10,void 0,void 0,HorizontalAlignment.Center,VerticalAlignment.Middle)}const ze=getEnumKeys(EdgeRenderingMode);for(const qe of ze){const Xe=OFFSET_TOP+qe*GRID_SIZE;await je.drawText(new ScreenPoint(10,Xe+10),EdgeRenderingMode[qe],OxyColors.Black,void 0,10,void 0,void 0,void 0,VerticalAlignment.Middle);for(let Ye=0;Ye<THICKNESS_STEPS;Ye++){const Ke=OFFSET_LEFT+Ye*GRID_SIZE,Ze=new OxyRect(Ke,Xe,TILE_SIZE,TILE_SIZE),Qe=Ye*THICKNESS_STEP;await je.drawRectangle(Ze,FILL_COLOR,OxyColors.Black,Qe,qe)}}})),Ve},lines=()=>{const Ve=new PlotModel;return Ve.annotations.push(new DelegateAnnotation(async je=>{for(let qe=0;qe<THICKNESS_STEPS;qe++){const Xe=OFFSET_LEFT+qe*GRID_SIZE+TILE_SIZE/2,Ye=qe*THICKNESS_STEP;await je.drawText(new ScreenPoint(Xe,OFFSET_TOP/2),Ye.toString(),OxyColors.Black,void 0,10,void 0,void 0,HorizontalAlignment.Center,VerticalAlignment.Middle)}const ze=getEnumKeys(EdgeRenderingMode);for(const qe of ze){const Xe=OFFSET_TOP+qe*GRID_SIZE;await je.drawText(new ScreenPoint(10,Xe+10),EdgeRenderingMode[qe],OxyColors.Black,void 0,10,void 0,void 0,void 0,VerticalAlignment.Middle);for(let Ye=0;Ye<THICKNESS_STEPS;Ye++){const Ke=OFFSET_LEFT+Ye*GRID_SIZE,Ze=new ScreenPoint(Ke,Xe),Qe=new ScreenPoint(Ke,Xe+TILE_SIZE),Je=new ScreenPoint(Ke+TILE_SIZE,Xe),St=new ScreenPoint(Ke+TILE_SIZE,Xe+TILE_SIZE),ei=new ScreenPoint(Ke,Xe+TILE_SIZE/2),ti=Ye*THICKNESS_STEP;await je.drawLine([Qe,Ze,Je],OxyColors.Black,ti,qe),await je.drawLine([ei,St,Ze],OxyColors.Black,ti,qe,void 0,LineJoin.Bevel)}}})),Ve},polygons=()=>{const Ve=new PlotModel;return Ve.annotations.push(new DelegateAnnotation(async je=>{for(let qe=0;qe<THICKNESS_STEPS;qe++){const Xe=OFFSET_LEFT+qe*GRID_SIZE+TILE_SIZE/2,Ye=qe*THICKNESS_STEP;await je.drawText(new ScreenPoint(Xe,OFFSET_TOP/2),Ye.toString(),OxyColors.Black,void 0,10,void 0,void 0,HorizontalAlignment.Center,VerticalAlignment.Middle)}const ze=getEnumKeys(EdgeRenderingMode);for(const qe of ze){const Xe=OFFSET_TOP+qe*GRID_SIZE;await je.drawText(new ScreenPoint(10,Xe+10),EdgeRenderingMode[qe],OxyColors.Black,void 0,10,void 0,void 0,void 0,VerticalAlignment.Middle);for(let Ye=0;Ye<THICKNESS_STEPS;Ye++){const Ke=OFFSET_LEFT+Ye*GRID_SIZE,Ze=[new ScreenPoint(Ke+TILE_SIZE*.4,Xe),new ScreenPoint(Ke+TILE_SIZE,Xe+TILE_SIZE*.2),new ScreenPoint(Ke+TILE_SIZE*.9,Xe+TILE_SIZE*.8),new ScreenPoint(Ke+TILE_SIZE*.5,Xe+TILE_SIZE),new ScreenPoint(Ke,Xe+TILE_SIZE*.6)],Qe=Ye*THICKNESS_STEP;await je.drawPolygon(Ze,FILL_COLOR,OxyColors.Black,Qe,qe)}}})),Ve},ellipses=()=>{const Ve=new PlotModel;return Ve.annotations.push(new DelegateAnnotation(async je=>{for(let qe=0;qe<THICKNESS_STEPS;qe++){const Xe=OFFSET_LEFT+qe*GRID_SIZE+TILE_SIZE/2,Ye=qe*THICKNESS_STEP;await je.drawText(new ScreenPoint(Xe,OFFSET_TOP/2),Ye.toString(),OxyColors.Black,void 0,10,void 0,void 0,HorizontalAlignment.Center,VerticalAlignment.Middle)}const ze=getEnumKeys(EdgeRenderingMode);for(const qe of ze){const Xe=OFFSET_TOP+qe*GRID_SIZE;await je.drawText(new ScreenPoint(10,Xe+10),EdgeRenderingMode[qe],OxyColors.Black,void 0,10,void 0,void 0,void 0,VerticalAlignment.Middle);for(let Ye=0;Ye<THICKNESS_STEPS;Ye++){const Ke=OFFSET_LEFT+Ye*GRID_SIZE,Ze=new OxyRect(Ke,Xe+TILE_SIZE*.1,TILE_SIZE,TILE_SIZE*.8),Qe=Ye*THICKNESS_STEP;await je.drawEllipse(Ze,FILL_COLOR,OxyColors.Black,Qe,qe)}}})),Ve},lineJoins=()=>{const ze=[135,90,45,22.5],qe=140,Xe=90,Ye=50,Ke=50,Ze=new PlotModel;return Ze.annotations.push(new DelegateAnnotation(async Qe=>{let Je=0,St=0;const ei=getEnumKeys(LineJoin);for(const ti of ei){const ii=new ScreenPoint(qe*(Je+.5)+Ye,Ke/2);await Qe.drawText(ii,LineJoin[ti],OxyColors.Black,void 0,12,void 0,void 0,HorizontalAlignment.Center,VerticalAlignment.Middle),Je++}for(const ti of ze){Je=0;const ii=Xe*St+Ke,ri=ti/2/360*2*Math.PI,si=Math.sin(ri)*60,ui=Math.cos(ri)*60,ai=new ScreenPoint(15,ii);await Qe.drawText(ai,ti.toString()+"",OxyColors.Black,void 0,12);for(const oi of ei){const ni=qe*(Je+.5)+Ye,ci=new ScreenPoint(ni,ii),hi=new ScreenPoint(ni-si,ii+ui),di=new ScreenPoint(ni+si,ii+ui);await Qe.drawLine([hi,ci,di],OxyColors.CornflowerBlue,15,EdgeRenderingMode.PreferGeometricAccuracy,void 0,oi),Je++}St++}})),Ze},ellipseDrawing=()=>{const Ye=new PlotModel;return Ye.annotations.push(new DelegateAnnotation(async Ke=>{const Ze=new OxyRect(60,20,600,200),Qe=new Array(200),Je=(Ze.left+Ze.right)/2,St=(Ze.top+Ze.bottom)/2,ei=(Ze.right-Ze.left)/2,ti=(Ze.bottom-Ze.top)/2;for(let ii=0;ii<200;ii++){const ri=Math.PI*2*ii/199;Qe[ii]=new ScreenPoint(Je+ei*Math.cos(ri),St+ti*Math.sin(ri))}await Ke.drawPolygon(Qe,OxyColors.Undefined,OxyColors.Black,4,EdgeRenderingMode.PreferGeometricAccuracy),await Ke.drawEllipse(Ze,OxyColors.Undefined,OxyColors.White,2,EdgeRenderingMode.PreferGeometricAccuracy),await Ke.drawText(new ScreenPoint(360,120),"The white ellipse (drawn by Renderer) should match the black ellipse (drawn as Path).",OxyColors.Black,void 0,12,void 0,void 0,HorizontalAlignment.Center,VerticalAlignment.Middle)})),Ye},category$t="9 Rendering capabilities",RenderingCapabilities={category:category$t,examples:[{title:"DrawText - Colors",example:{model:drawTextColors}},{title:"DrawText - Fonts",example:{model:drawTextFonts}},{title:"DrawText - Font sizes",example:{model:drawTextFontSizes}},{title:"DrawText - Rotation",example:{model:drawTextRotation}},{title:"DrawText - Alignment",example:{model:drawTextAlignment}},{title:"DrawText - Multi-line Alignment",example:{model:drawTextMultiLineAlignment}},{title:"DrawMathText - Rotation",example:{model:mathTextRotation}},{title:"DrawMathText - Alignment",example:{model:drawMathTextAlignment}},{title:"DrawText - Alignment/Rotation",example:{model:drawTextAlignmentRotation}},{title:"DrawText - Multi-line Alignment/Rotation",example:{model:drawMultilineTextAlignmentRotation}},{title:"DrawText - MaxSize",example:{model:drawTextMaxSize}},{title:"MeasureText",example:{model:measureText}},{title:"Clipping",example:{model:clipping}},{title:"Rectangles - EdgeRenderingMode",example:{model:rectangles}},{title:"Lines - EdgeRenderingMode",example:{model:lines}},{title:"Polygons - EdgeRenderingMode",example:{model:polygons}},{title:"Ellipses - EdgeRenderingMode",example:{model:ellipses}},{title:"LineJoin",example:{model:lineJoins}},{title:"Ellipse Drawing",example:{model:ellipseDrawing}}]};function noInterpolation(){const Ve=new PlotModel({title:"No tracker interpolation",subtitle:"Used for discrete values or scatter plots."}),je=new Legend({legendSymbolLength:30});Ve.legends.push(je);const ze=new LineSeries({title:"Series 1",canTrackerInterpolatePoints:!1,color:OxyColors.SkyBlue,markerType:MarkerType.Circle,markerSize:6,markerStroke:OxyColors.White,markerFill:OxyColors.SkyBlue,markerStrokeThickness:1.5});for(let qe=0;qe<63;qe++){const Xe=Math.round(Math.sqrt(qe)*Math.cos(qe*.1)),Ye=Math.round(Math.sqrt(qe)*Math.sin(qe*.1));ze.points.push(new DataPoint(Xe,Ye))}return Ve.series.push(ze),Ve}function trackerChangedEvent(){const Ve=new PlotModel({title:"Handling the TrackerChanged event",subtitle:"Press the left mouse button to test the tracker."});return Ve.series.push(FunctionSeries.fromN(Math.sin,0,10,100)),Ve.trackerChanged=(je,ze)=>{Ve.subtitle=ze.hitResult?"Tracker item index = "+ze.hitResult.index:"Not tracking",Ve.invalidatePlot(!1)},Ve}function trackerFiresDistance(){const Ve=new PlotModel({title:"Specified distance of the tracker fires",subtitle:"Press the left mouse button to test the tracker."});Ve.series.push(FunctionSeries.fromN(Math.sin,0,10,100));const je=new PlotController;return je.unbindViewCommand(PlotCommands.snapTrack),je.unbindViewCommand(PlotCommands.snapTrackTouch),ControllerExtensions.bindMouseDown(je,OxyMouseButton.Left,new DelegatePlotCommand((ze,qe,Xe)=>qe.addMouseManipulator(ze,new TrackerManipulator(ze,{snap:!0,pointsOnly:!1,firesDistance:2,checkDistanceBetweenPoints:!0}),Xe))),ControllerExtensions.bindTouchDown(je,new DelegatePlotCommand((ze,qe,Xe)=>qe.addTouchManipulator(ze,new TouchTrackerManipulator(ze,{snap:!0,pointsOnly:!1,firesDistance:2}),Xe))),{model:()=>Ve,controller:()=>je}}const category$s="Tracker",TrackerExamples={category:category$s,examples:[{title:"No interpolation",example:{model:noInterpolation}},{title:"TrackerChangedEvent",example:{model:trackerChangedEvent}},{title:"Specified distance of the tracker fires",example:trackerFiresDistance()}]},Exps=[FilteringExamples,ItemsSourceExamples,LegendExamples,MouseEventExamples,PerformanceExamples,PlotControllerExamples,PlotModelExamples,RenderingCapabilities,TrackerExamples],points=[{x:589.3649979,y:16.10595703},{x:437.9979935,y:16.10595703},{x:400.4249954,y:16.10595703},{x:399.1255264,y:16.05047607},{x:397.463356,y:15.92333984},{x:393.5852432,y:15.69073486},{x:389.8589859,y:15.88067627},{x:388.3866653,y:16.28186035},{x:387.3529739,y:16.96594238},{x:386.8373489,y:18.53930664},{x:387.2163773,y:20.51794434},{x:387.9814529,y:22.51843262},{x:388.6240005,y:24.15698242},{x:395.958992,y:45.09094238},{x:399.2686234,y:54.89562988},{x:402.1330338,y:64.90338135},{x:404.5822525,y:75.06884766},{x:406.6462479,y:85.34680176},{x:409.7385635,y:106.0593262},{x:411.6500015,y:126.6789551},{x:412.0961685,y:137.0930786},{x:412.0253677,y:147.4713135},{x:411.4655228,y:157.8103638},{x:410.4446182,y:168.1069336},{x:408.9906387,y:178.3577881},{x:407.1315689,y:188.5595703},{x:404.8953629,y:198.7091064},{x:402.3099747,y:208.8029785},{x:392.9860001,y:237.2509766},{x:392.1175613,y:240.0527954},{x:391.2060013,y:243.0959473},{x:390.5509415,y:246.1691284},{x:390.4520035,y:249.0609741},{x:391.406044,y:252.6694336},{x:393.1980057,y:256.0982056},{x:395.3566971,y:259.3631287},{x:397.4109879,y:262.47995},{x:411.7649918,y:287.7079468},{x:426.5997696,y:312.9102173},{x:441.8913651,y:337.8200684},{x:457.3402786,y:362.6333923},{x:472.6469803,y:387.5459595},{x:478.0007401,y:395.7557983},{x:483.6958694,y:403.8400879},{x:489.2894974,y:411.9628296},{x:494.3389969,y:420.2879639},{x:494.9800491,y:421.8480225},{x:495.4455032,y:423.6903687},{x:496.1577225,y:427.7724609},{x:497.0915604,y:431.6355591},{x:497.8341141,y:433.2041321},{x:498.8629837,y:434.3809509},{x:500.0935135,y:434.9877625},{x:501.7391434,y:435.3059082},{x:505.7623367,y:435.3148193},{x:509.9061356,y:434.8848267},{x:511.7024612,y:434.6542969},{x:513.1439896,y:434.4929504},{x:520.0768509,y:434.1251831},{x:527.3961258,y:434.1952209},{x:534.6892776,y:434.728363},{x:541.544014,y:435.7499695},{x:544.2357864,y:436.3025513},{x:547.021492,y:437.0792236},{x:549.6099319,y:438.2590027},{x:551.7099686,y:440.0209656},{x:552.7028275,y:441.4446106},{x:553.2691116,y:442.791626},{x:553.4498978,y:444.0619202},{x:553.2864456,y:445.2554626},{x:552.0910721,y:447.4119873},{x:550.0122147,y:449.2607117},{x:547.3790359,y:450.8010864},{x:544.5206985,y:452.0325928},{x:541.766304,y:452.9547119},{x:539.445015,y:453.5669556},{x:539.445015,y:454.6409607},{x:542.6554031,y:455.4246521},{x:546.0063553,y:455.8735962},{x:549.2799149,y:456.4869385},{x:552.2580032,y:457.7639465},{x:554.3335648,y:459.5966797},{x:555.6600418,y:461.8208313},{x:556.278389,y:464.282959},{x:556.2294998,y:466.8295898},{x:555.55439,y:469.307251},{x:554.2939529,y:471.5625},{x:552.4892044,y:473.4418945},{x:550.1809769,y:474.7919617},{x:547.1414261,y:475.8059387},{x:543.8482132,y:476.5288391},{x:537.2979813,y:477.0559692},{x:535.5239944,y:476.8666077},{x:533.5114822,y:476.5535889},{x:531.5334549,y:476.4162598},{x:529.8629837,y:476.7539673},{x:529.0471268,y:477.3421631},{x:528.5394363,y:478.1289673},{x:528.1448441,y:480.0927124},{x:528.071846,y:482.2338257},{x:527.7129593,y:484.1409607},{x:526.901741,y:485.4877014},{x:525.8139114,y:486.4950867},{x:523.0528641,y:487.6643372},{x:519.9188919,y:487.9933777},{x:516.9010086,y:487.8269653},{x:511.7325516,y:486.9451599},{x:506.4563065,y:485.4539185},{x:501.155159,y:483.4500427},{x:495.912117,y:481.0302124},{x:485.9321365,y:475.3295898},{x:481.3610916,y:472.2423096},{x:477.1800003,y:469.125946},{x:465.3709793,y:459.3179626},{x:464.3509598,y:458.3116455},{x:463.1867142,y:457.1624451},{x:461.9141312,y:456.2180176},{x:460.5689774,y:455.8259583},{x:459.6923904,y:456.0762939},{x:458.8656693,y:456.7503662},{x:457.3631058,y:458.907959},{x:456.063179,y:461.3753052},{x:455.4898758,y:462.436554},{x:454.9679642,y:463.2289734},{x:453.0795364,y:465.3183289},{x:450.8528519,y:467.2734985},{x:448.3575516,y:468.9848328},{x:445.6630936,y:470.3425903},{x:442.83918,y:471.2370605},{x:439.9552689,y:471.5585938},{x:437.0810318,y:471.1974487},{x:434.2859879,y:470.0439453},{x:432.4744034,y:468.6621399},{x:431.3244705,y:467.0726013},{x:430.7551956,y:465.3302612},{x:430.6856155,y:463.4900818},{x:431.0347672,y:461.6070251},{x:431.7216873,y:459.7360229},{x:433.7849808,y:456.2499695},{x:438.1093216,y:450.118988},{x:441.4749832,y:444.3893433},{x:444.0351639,y:438.28302},{x:445.0610428,y:434.845459},{x:445.9430008,y:431.0219727},{x:446.6270218,y:428.7687378},{x:447.4476395,y:426.4767151},{x:447.9032059,y:424.1760559},{x:447.492012,y:421.8969727},{x:445.6156082,y:418.2295837},{x:443.3608475,y:414.6139832},{x:438.1008682,y:407.5364685},{x:432.48069,y:400.6614685},{x:427.2689896,y:393.9859619},{x:389.1699905,y:339.2359619},{x:374.5550003,y:318.3009644},{x:372.5515823,y:314.8404541},{x:370.2787552,y:310.9485779},{x:367.7467728,y:307.2946777},{x:366.3868484,y:305.7660828},{x:364.9659805,y:304.5479736},{x:363.9477615,y:304.0406799},{x:363.082222,y:304.0159912},{x:361.6236038,y:304.9024658},{x:360.2191849,y:306.1834412},{x:359.4213638,y:306.651886},{x:358.4979935,y:306.8349609},{x:356.6694107,y:306.4464722},{x:354.9371109,y:305.5308228},{x:353.2544937,y:304.4515076},{x:351.5749893,y:303.5719604},{x:343.4895706,y:301.1234131},{x:335.0169449,y:299.8048401},{x:326.3076553,y:299.5128174},{x:317.5122147,y:300.1439514},{x:308.7811966,y:301.5948486},{x:300.2651443,y:303.762085},{x:292.1145401,y:306.5422668},{x:284.4799881,y:309.8319702},{x:282.3371964,y:310.7483521},{x:279.925972,y:311.644928},{x:274.7942581,y:313.5763245},{x:270.0769119,y:316.0212708},{x:268.1836319,y:317.559845},{x:266.7659988,y:319.3749695},{x:271.6227798,y:320.1968384},{x:276.5877457,y:321.7830811},{x:281.472847,y:323.7190247},{x:286.090004,y:325.5899658},{x:298.3649979,y:330.7419739},{x:310.3880997,y:336.8226929},{x:321.8024063,y:343.941803},{x:332.2509842,y:352.2089539},{x:339.2033768,y:358.533844},{x:342.4841385,y:361.901825},{x:345.4439774,y:365.5359497},{x:346.445076,y:367.0002136},{x:347.3386307,y:368.7592163},{x:347.6443558,y:370.5680847},{x:347.4267044,y:371.4147034},{x:346.8819962,y:372.1819458},{x:345.387001,y:372.7861023},{x:343.5981216,y:372.4627075},{x:341.8064041,y:371.7001953},{x:340.3029861,y:370.986969},{x:336.1688919,y:369.4472046},{x:331.5998611,y:368.1002197},{x:326.9541702,y:367.1023254},{x:322.5899734,y:366.6099548},{x:324.6785049,y:369.6851501},{x:327.4601212,y:372.3129578},{x:330.467659,y:374.7735291},{x:333.2339859,y:377.3469543},{x:338.3369217,y:383.6273193},{x:342.70298,y:390.7063293},{x:344.4534683,y:394.4726563},{x:345.8323135,y:398.3514099},{x:346.7769547,y:402.3135376},{x:347.2249832,y:406.3299561},{x:346.8078384,y:412.0097046},{x:345.1297989,y:416.5983276},{x:342.383522,y:420.1838074},{x:338.7616043,y:422.8540955},{x:334.4566727,y:424.6971741},{x:329.6613541,y:425.8010559},{x:324.5682449,y:426.2536621},{x:319.3700027,y:426.1429749},{x:315.144783,y:425.6447144},{x:311.0141983,y:424.7691345},{x:303.0388565,y:422.0056763},{x:295.4478226,y:418.0917969},{x:288.2450027,y:413.2668457},{x:281.4342422,y:407.769989},{x:275.0194168,y:401.8405762},{x:269.0043716,y:395.717804},{x:263.393013,y:389.6409607},{x:255.0782547,y:379.5436707},{x:247.6409988,y:368.3999634},{x:244.4098587,y:362.5210571},{x:241.5882645,y:356.4829712},{x:239.2395096,y:350.3198853},{x:237.4270096,y:344.0659485},{x:236.2694168,y:338.2407532},{x:235.5486526,y:332.3677368},{x:235.0773697,y:320.528717},{x:235.3326797,y:308.6495667},{x:235.6340103,y:296.8309631},{x:233.1889725,y:297.9562988},{x:230.9140091,y:299.4570923},{x:226.5090103,y:302.6929626},{x:206.6489944,y:315.875946},{x:157.2670059,y:346.7819519},{x:136.8219986,y:360.059967},{x:132.2092514,y:363.0340881},{x:130.0033798,y:364.6920166},{x:128.1559982,y:366.6599731},{x:127.0190811,y:368.5368958},{x:126.298027,y:370.4631348},{x:125.9532547,y:372.4280701},{x:125.9451218,y:374.4211121},{x:126.7804031,y:378.4490356},{x:128.4870071,y:382.4620972},{x:130.748024,y:386.3754272},{x:133.2466202,y:390.104248},{x:135.6659012,y:393.5636902},{x:137.689003,y:396.6689453},{x:139.2043839,y:400.197052},{x:139.5524673,y:402.0329285},{x:139.5626297,y:403.8374634},{x:139.1861954,y:405.551239},{x:138.3745499,y:407.1148682},{x:137.0790329,y:408.4689026},{x:135.2509995,y:409.5539551},{x:132.8812943,y:410.31427},{x:130.5507584,y:410.5262146},{x:128.270546,y:410.2424316},{x:126.0518265,y:409.5155334},{x:123.9057388,y:408.3982239},{x:121.8434372,y:406.9431458},{x:118.0148697,y:403.2301941},{x:114.6553879,y:398.7979126},{x:111.8542252,y:394.0675049},{x:109.7006912,y:389.4601135},{x:108.2840042,y:385.3969727},{x:107.7778549,y:382.5092468},{x:107.3788681,y:379.2887268},{x:106.6309433,y:376.2470703},{x:105.0779953,y:373.8959656},{x:103.1701126,y:372.6677246},{x:100.7825394,y:371.7599487},{x:95.13137054,y:370.6252136},{x:89.25051117,y:369.9303284},{x:86.57584381,y:369.5724182},{x:84.26599884,y:369.1139526},{x:78.20024872,y:367.3027649},{x:71.70685577,y:364.820343},{x:65.1133194,y:361.6892395},{x:58.74712372,y:357.9318237},{x:52.93579102,y:353.5706482},{x:48.00682831,y:348.6281433},{x:45.97557068,y:345.9458923},{x:44.28772736,y:343.1267395},{x:42.98422241,y:340.1734924},{x:42.10599518,y:337.0889587},{x:41.90753937,y:335.2592163},{x:42.08698273,y:333.7605286},{x:43.18836975,y:331.3730774},{x:44.62782288,y:329.1598206},{x:45.6230011,y:326.3539734},{x:45.62973022,y:324.9945984},{x:45.33054352,y:323.6192627},{x:44.36862183,y:320.8330994},{x:43.98298645,y:319.4284058},{x:43.84563446,y:318.0201111},{x:44.09512329,y:316.6112671},{x:44.86999512,y:315.2049561},{x:45.80908966,y:314.2088623},{x:46.79941559,y:313.5540161},{x:48.9025116,y:313.1113892},{x:51.11682129,y:313.5637512},{x:53.37987518,y:314.5978394},{x:57.8022995,y:317.1580811},{x:59.83672333,y:318.0577087},{x:61.6700058,y:318.2859497},{x:62.82819366,y:317.6254883},{x:63.23600006,y:316.3283386},{x:63.24330902,y:314.8067627},{x:63.20000458,y:313.4729614},{x:63.68109894,y:310.3050232},{x:64.93375397,y:307.6513367},{x:67.09728241,y:305.979187},{x:68.56415558,y:305.6572571},{x:70.31099701,y:305.7559509},{x:73.2078476,y:306.4935913},{x:76.04866791,y:307.6478271},{x:81.46486664,y:310.9243164},{x:86.36489105,y:315.0218811},{x:90.55399323,y:319.3769531},{x:92.14154816,y:321.4163208},{x:93.72263336,y:323.6399536},{x:95.39614105,y:325.7593689},{x:97.26099396,y:327.4859619},{x:98.87421417,y:328.2453918},{x:100.5960007,y:328.4575806},{x:104.1259995,y:328.1189575},{x:107.9671097,y:328.0540771},{x:112.0256271,y:328.345459},{x:116.0258255,y:328.4305725},{x:119.6919937,y:327.7469482},{x:122.6980515,y:326.2321777},{x:125.5723801,y:324.1764526},{x:128.3242722,y:321.9129944},{x:130.9630051,y:319.7749634},{x:158.6139908,y:297.5969543},{x:183.9269943,y:278.8919678},{x:215.7729874,y:251.3609619},{x:222.6591263,y:245.7957153},{x:229.6908646,y:240.2703247},{x:236.5836563,y:234.5932617},{x:243.0529861,y:228.572937},{x:246.137764,y:224.8230591},{x:248.7661209,y:220.4605103},{x:251.0138321,y:215.6484985},{x:252.9567337,y:210.5499878},{x:256.2312393,y:200.1459351},{x:257.7144547,y:195.1665039},{x:259.1959915,y:190.5529785},{x:263.9845047,y:175.0708008},{x:267.8167191,y:159.2056274},{x:270.6394424,y:143.0612183},{x:272.3993607,y:126.7412109},{x:273.043251,y:110.3493042},{x:272.5178299,y:93.98913574},{x:270.7698441,y:77.76446533},{x:267.7460098,y:61.77893066},{x:260.9010086,y:28.45196533},{x:260.3377457,y:25.5088501},{x:259.7099991,y:22.24182129},{x:258.5879898,y:19.265625},{x:257.7073746,y:18.07867432},{x:256.5419998,y:17.19494629},{x:254.5226212,y:16.44396973},{x:252.1078568,y:16.0401001},{x:246.5816116,y:15.96911621},{x:240.9423294,y:16.37298584},{x:238.3862076,y:16.56274414},{x:236.1689835,y:16.64294434},{x:185.1770096,y:17.17895508},{x:0,y:16.64294434},{x:0,y:.53894043},{x:188.9400101,y:.53894043},{x:242.0799942,y:.53894043},{x:244.6571732,y:.474975586},{x:247.5546951,y:.33001709},{x:253.8458633,y:.078552246},{x:260.0235977,y:.347839355},{x:262.779335,y:.853759766},{x:265.1579971,y:1.70098877},{x:266.7366104,y:2.746398926},{x:268.0821915,y:4.172119141},{x:270.1900101,y:7.797119141},{x:271.7128067,y:11.84075928},{x:272.8819962,y:15.56799316},{x:276.034523,y:25.44775391},{x:279.0441055,y:35.50836182},{x:281.6616287,y:45.66326904},{x:283.6380081,y:55.82598877},{x:285.7761917,y:72.32995605},{x:287.0616837,y:88.9072876},{x:287.4597855,y:105.5118408},{x:286.9358597,y:122.0977173},{x:285.4552994,y:138.6187744},{x:282.9833755,y:155.0289917},{x:279.4855118,y:171.2824097},{x:274.9270096,y:187.3329468},{x:271.4097672,y:198.2474976},{x:267.3623734,y:209.4165039},{x:262.4050369,y:220.1444092},{x:259.4664688,y:225.1257324},{x:256.1579971,y:229.7359619},{x:249.3205032,y:237.2365723},{x:241.720253,y:244.1188354},{x:233.794136,y:250.6709595},{x:225.9790115,y:257.1809692},{x:195.5280228,y:282.9415894},{x:164.2490005,y:307.6559448},{x:141.1689987,y:324.8109741},{x:133.2555008,y:330.7440796},{x:129.0609055,y:333.3323975},{x:124.5289993,y:335.2859497},{x:122.1544113,y:335.8482361},{x:119.7157364,y:336.0837402},{x:114.7126236,y:335.969696},{x:109.6527023,y:335.7345581},{x:104.6689987,y:336.1689453},{x:102.779686,y:336.7739563},{x:100.6949997,y:337.5380859},{x:98.61257172,y:337.9761353},{x:96.73000336,y:337.6029663},{x:94.59128571,y:335.8127136},{x:92.66425323,y:333.2740784},{x:90.92359161,y:330.5338745},{x:89.34400177,y:328.1389465},{x:87.08150482,y:325.4346313},{x:84.48600006,y:322.8813171},{x:78.90499115,y:318.3849487},{x:77.3181076,y:317.091217},{x:75.22336578,y:315.5139465},{x:73.02420807,y:314.5059509},{x:72.01151276,y:314.4819031},{x:71.12400055,y:314.9199524},{x:70.59803009,y:315.7275085},{x:70.51831818,y:316.7388916},{x:71.29537201,y:319.0906982},{x:72.65048981,y:321.4106445},{x:73.77899933,y:323.1339722},{x:77.82125092,y:329.0054626},{x:80.16477203,y:331.7309265},{x:82.71099091,y:334.177948},{x:84.92420197,y:335.9799805},{x:87.10187531,y:337.9599609},{x:88.68236542,y:340.2526855},{x:89.07314301,y:341.5584412},{x:89.10399628,y:342.9929504},{x:89.61742401,y:343.8485413},{x:89.34513092,y:344.4684448},{x:88.5472641,y:344.7538757},{x:87.48400116,y:344.605957},{x:85.91378021,y:343.8370972},{x:84.39550018,y:342.7818298},{x:81.58899689,y:340.4889526},{x:78.80124664,y:338.1679382},{x:75.64672089,y:335.4441223},{x:68.57024384,y:329.6803589},{x:64.81476593,y:327.0864868},{x:61.02541351,y:324.9821167},{x:57.28540802,y:323.5902405},{x:53.6780014,y:323.1339722},{x:55.6113739,y:326.1587524},{x:58.03131866,y:328.9006653},{x:63.8632431,y:333.7370911},{x:70.23856354,y:338.0457153},{x:76.22199249,y:342.2289734},{x:77.03455353,y:342.7995605},{x:78.11525726,y:343.5061951},{x:80.57563019,y:345.232605},{x:82.59217072,y:347.217926},{x:83.11811066,y:348.24823},{x:83.15399933,y:349.2719727},{x:82.68766022,y:350.0397949},{x:81.87210846,y:350.3486328},{x:79.6248703,y:349.9825745},{x:77.27544403,y:348.9604797},{x:76.33216095,y:348.4492188},{x:75.68700409,y:348.0689697},{x:66.5876236,y:342.1790771},{x:61.90306854,y:339.4937744},{x:56.897995,y:337.35495},{x:55.17505646,y:336.726532},{x:53.01000214,y:336.1444702},{x:51.04743958,y:336.2538757},{x:50.34353638,y:336.7695007},{x:49.93199921,y:337.6999512},{x:50.0814743,y:339.3566589},{x:51.06142426,y:341.0038757},{x:52.65550232,y:342.6039124},{x:54.64737701,y:344.1190796},{x:58.95914459,y:346.743988},{x:60.84635162,y:347.7783203},{x:62.26599884,y:348.5769653},{x:70.1079483,y:352.9052734},{x:78.1873703,y:356.6586914},{x:86.4916153,y:359.8837585},{x:95.00800323,y:362.6269531},{x:96.84983063,y:363.0866394},{x:98.97579193,y:363.5275574},{x:103.6091232,y:364.5426941},{x:107.965889,y:366.0517273},{x:109.7461472,y:367.1099854},{x:111.1039963,y:368.43396},{x:112.0068741,y:370.5414429},{x:112.4139938,y:373.21521},{x:112.6441269,y:375.9950867},{x:113.0159988,y:378.4209595},{x:113.902565,y:381.2496643},{x:115.2284775,y:384.6081543},{x:116.9393082,y:388.2300415},{x:118.980629,y:391.8488464},{x:121.2979813,y:395.1981506},{x:123.8369522,y:398.0115662},{x:126.5430984,y:400.022644},{x:129.3619919,y:400.9649658},{x:128.5566483,y:397.5397949},{x:126.8852463,y:394.5133362},{x:124.8594742,y:391.6261902},{x:122.9910049,y:388.6189575},{x:120.504631,y:382.5281982},{x:119.1972427,y:376.1178589},{x:119.0547104,y:372.875061},{x:119.2897568,y:369.6510315},{x:119.9299698,y:366.4787292},{x:121.0029984,y:363.3909607},{x:122.9761124,y:359.8041687},{x:125.5510788,y:356.6000061},{x:128.5915298,y:353.7098083},{x:131.9611282,y:351.0648499},{x:139.1423569,y:346.2359619},{x:146.0040054,y:341.5639648},{x:153.3126602,y:336.4172363},{x:160.8510056,y:331.6148376},{x:176.060997,y:322.2139587},{x:223.2120132,y:292.0619507},{x:241.0090103,y:281.0089722},{x:244.4554214,y:278.2832642},{x:248.0213699,y:275.5827026},{x:251.8383865,y:273.5125122},{x:253.8821487,y:272.9029541},{x:256.038002,y:272.677948},{x:255.5765762,y:275.73526},{x:254.4421158,y:278.3285828},{x:252.9171219,y:280.7803345},{x:251.2840042,y:283.4129639},{x:249.1513138,y:287.4288635},{x:247.2273636,y:291.7029724},{x:245.725502,y:296.1263123},{x:244.8589859,y:300.5899658},{x:244.4298477,y:307.2876587},{x:244.5635757,y:313.9535828},{x:245.2291336,y:320.570282},{x:246.3955154,y:327.1204224},{x:248.0315933,y:333.5866089},{x:250.1063919,y:339.951416},{x:252.5888138,y:346.1975098},{x:255.4478531,y:352.3074646},{x:262.1715469,y:364.0494385},{x:270.0290298,y:375.0382385},{x:278.7719803,y:385.1347656},{x:288.1519852,y:394.1999512},{x:294.92173,y:399.6752014},{x:302.1428604,y:404.5257263},{x:309.7718277,y:408.7135925},{x:317.7649918,y:412.2009583},{x:322.0982132,y:413.5901184},{x:326.4935989,y:414.2129517},{x:328.6687698,y:414.1019592},{x:330.8044205,y:413.6372986},{x:332.8823013,y:412.7649841},{x:334.8839798,y:411.4309692},{x:336.700325,y:409.4726868},{x:337.756813,y:407.2593689},{x:338.1652908,y:404.8675537},{x:338.0374832,y:402.3738403},{x:337.4851761,y:399.8547668},{x:336.6201553,y:397.3868713},{x:334.3989944,y:392.9109497},{x:331.2719803,y:388.0760193},{x:327.7468643,y:383.5949097},{x:319.7087479,y:375.5498352},{x:310.6974869,y:368.4870605},{x:301.1259842,y:362.1179504},{x:289.341011,y:355.3789673},{x:288.3749161,y:354.5166321},{x:287.4871292,y:353.3829651},{x:287.1665115,y:352.1690369},{x:287.3716812,y:351.5917053},{x:287.9019852,y:351.0659485},{x:290.0786819,y:350.5000305},{x:292.8593826,y:350.8098145},{x:295.6623917,y:351.5259399},{x:297.9060135,y:352.1789551},{x:300.6676102,y:353.0059814},{x:303.7700882,y:354.0613708},{x:310.5398636,y:356.3453369},{x:313.9782486,y:357.3178101},{x:317.2997208,y:358.0065918},{x:320.3897781,y:358.2836609},{x:323.1339798,y:358.0209656},{x:311.4509048,y:349.4853516},{x:299.2507401,y:341.6953125},{x:286.5124283,y:334.8171387},{x:273.215004,y:329.0169678},{x:258.7229996,y:323.8179626},{x:257.2878494,y:323.337738},{x:255.7744827,y:322.6670837},{x:254.4943924,y:321.7168884},{x:253.7590103,y:320.3979492},{x:253.827034,y:319.0723267},{x:254.5322647,y:317.7234802},{x:255.711647,y:316.3885193},{x:257.2022476,y:315.1045837},{x:260.465126,y:312.8383789},{x:261.9114456,y:311.9303589},{x:263.0170059,y:311.2219543},{x:271.8112259,y:305.8678284},{x:281.198616,y:301.1617126},{x:290.8884659,y:297.0829773},{x:300.590004,y:293.6109619},{x:310.0823746,y:291.1308289},{x:319.4608536,y:289.9150696},{x:328.9314041,y:289.7652893},{x:338.6999893,y:290.4829712},{x:354.2659988,y:293.3499451},{x:355.8602982,y:293.1119995},{x:357.197731,y:292.2803345},{x:358.3595047,y:291.0731506},{x:359.4267349,y:289.7085876},{x:360.4805679,y:288.4048157},{x:361.6021194,y:287.3800049},{x:362.8725357,y:286.8523254},{x:364.3729935,y:287.0399475},{x:365.9158707,y:287.8427734},{x:367.3995438,y:289.0066833},{x:370.1699905,y:292.0510864},{x:372.6456985,y:295.4399109},{x:374.788002,y:298.4399719},{x:394.8579788,y:325.8149719},{x:397.3873978,y:329.0663757},{x:399.9987259,y:332.6233521},{x:402.1026993,y:336.3991089},{x:402.7802811,y:338.3419189},{x:403.109993,y:340.3069458},{x:403.7992325,y:340.2913818},{x:404.1172256,y:340.3743286},{x:404.2001114,y:340.691864},{x:404.1839981,y:341.3799744},{x:405.9170609,y:342.5977478},{x:407.5672379,y:344.3135681},{x:410.6323624,y:348.6974487},{x:413.4063187,y:353.4481201},{x:414.6925125,y:355.6223755},{x:415.9159927,y:357.4819641},{x:446.1409988,y:402.5239563},{x:447.8941116,y:404.6854248},{x:449.9755325,y:406.9086609},{x:454.483345,y:411.5653381},{x:456.5896683,y:414.0111694},{x:458.3842239,y:416.5435791},{x:459.7070389,y:419.1687927},{x:460.3980179,y:421.8929749},{x:460.330513,y:423.2209473},{x:459.8673782,y:424.4043274},{x:458.1563797,y:426.4813232},{x:456.0694046,y:428.4118958},{x:454.4110184,y:430.4839478},{x:453.6341629,y:432.6287231},{x:453.2503738,y:434.9552002},{x:452.6709671,y:439.6079712},{x:451.6133499,y:443.3995361},{x:450.0984573,y:447.2178345},{x:448.1988602,y:450.8544312},{x:445.9870071,y:454.1009521},{x:445.2327957,y:454.9499512},{x:444.120369,y:456.1347046},{x:441.6337357,y:459.0782166},{x:440.6658401,y:460.6203003},{x:440.1524734,y:462.0648193},{x:440.2967911,y:463.3034973},{x:441.3020096,y:464.2279663},{x:443.0089798,y:464.4325867},{x:444.7705154,y:463.7559509},{x:446.3872757,y:462.6180725},{x:447.6599808,y:461.4389648},{x:449.96418,y:458.7336426},{x:451.896492,y:455.7789612},{x:454.7979813,y:449.3179626},{x:455.2873001,y:447.6248474},{x:455.8775101,y:445.8508301},{x:456.8382034,y:444.3796387},{x:458.4389725,y:443.5949707},{x:460.0345535,y:443.7620239},{x:461.7698441,y:444.6128235},{x:463.5780106,y:445.9676208},{x:465.3921585,y:447.6465759},{x:468.7708817,y:451.2580566},{x:470.2016678,y:452.8309631},{x:471.3709793,y:454.0089722},{x:478.8518143,y:460.0104675},{x:486.9943924,y:465.3340759},{x:495.4878006,y:470.1171265},{x:504.0210037,y:474.4969482},{x:509.5540848,y:477.1457214},{x:515.2860184,y:479.3189697},{x:516.4008255,y:479.6032104},{x:517.6022415,y:479.6870728},{x:518.5872879,y:479.3061523},{x:519.0529861,y:478.1959534},{x:518.8626175,y:476.8864441},{x:518.1857986,y:475.7019958},{x:515.84095,y:473.7122192},{x:512.9545975,y:472.234314},{x:510.4629593,y:471.2759705},{x:507.6074905,y:470.256958},{x:504.0599442,y:468.8930969},{x:496.255867,y:465.2143555},{x:492.682869,y:462.9411621},{x:489.7850418,y:460.4066467},{x:487.9041214,y:457.6316223},{x:487.4518509,y:456.1604309},{x:487.3819656,y:454.6369629},{x:491.1286697,y:455.6597595},{x:494.7612381,y:457.2131958},{x:498.3274002,y:458.9732666},{x:501.8750076,y:460.6159668},{x:508.6896439,y:463.2619934},{x:515.7986526,y:465.5415649},{x:523.0577469,y:467.2131042},{x:530.3230057,y:468.0349731},{x:536.5177689,y:468.0764465},{x:542.669014,y:467.3979492},{x:543.9200516,y:466.9833069},{x:545.0242386,y:466.2348328},{x:545.5588455,y:465.2004089},{x:545.1009598,y:463.927948},{x:544.175972,y:463.0953064},{x:542.9511795,y:462.4622803},{x:539.9430008,y:461.6712036},{x:536.7585526,y:461.3072815},{x:534.0799637,y:461.1229553},{x:520.8706131,y:459.9545898},{x:514.2815628,y:459.0859985},{x:507.7789993,y:457.8509521},{x:506.4525833,y:457.5542603},{x:504.8121414,y:457.1582336},{x:501.1944656,y:455.9819641},{x:499.5198441,y:455.1585083},{x:498.1362991,y:454.1494141},{x:497.1952591,y:452.9331055},{x:496.8479691,y:451.4879456},{x:497.117012,y:450.6549377},{x:497.8393021,y:450.1732788},{x:500.1341019,y:449.9840698},{x:502.7133255,y:450.3605652},{x:503.7911453,y:450.5859985},{x:504.557991,y:450.7429504},{x:511.3823318,y:451.3563843},{x:518.3227615,y:451.0169373},{x:525.2244949,y:449.9740295},{x:531.932991,y:448.4769592},{x:532.8128738,y:448.2760315},{x:534.1250076,y:447.9761353},{x:537.3393631,y:447.0833435},{x:538.8882523,y:446.4923706},{x:540.1627884,y:445.8063354},{x:540.9862747,y:445.0262146},{x:541.1820145,y:444.1529541},{x:540.6489334,y:443.4705505},{x:539.4853592,y:443.0022888},{x:537.8792191,y:442.7068176},{x:536.0183792,y:442.5428467},{x:532.2842484,y:442.4439392},{x:530.7866898,y:442.4263916},{x:529.7860184,y:442.3749695},{x:522.7177811,y:441.8120117},{x:515.5401077,y:441.6993408},{x:501.2470169,y:442.2559509},{x:498.6232986,y:442.5908508},{x:495.6024857,y:442.9595947},{x:492.7076492,y:442.7930298},{x:491.4709549,y:442.3311157},{x:490.4619827,y:441.5219727},{x:489.3800125,y:439.9010925},{x:488.6179276,y:438.0290833},{x:487.6418533,y:433.8266907},{x:486.7113724,y:429.5046997},{x:486.0061722,y:427.4831848},{x:485.0039749,y:425.6529541},{x:464.5570145,y:397.51297},{x:441.859993,y:359.0939636},{x:419.5407486,y:322.4837036},{x:397.7539749,y:285.5569458},{x:392.6534195,y:277.3995361},{x:387.2727432,y:269.1647034},{x:382.4174271,y:260.6722412},{x:380.4385147,y:256.2730713},{x:378.8929825,y:251.7419434},{x:378.4342422,y:247.8017578},{x:378.8919754,y:243.618103},{x:379.8762283,y:239.4705811},{x:380.9969864,y:235.6389771},{x:388.6119766,y:208.7999878},{x:391.0815811,y:198.9997559},{x:393.3593521,y:188.8963623},{x:395.3594131,y:178.5748901},{x:396.9958572,y:168.1204834},{x:398.1828384,y:157.6182251},{x:398.8344498,y:147.1533203},{x:398.8647842,y:136.8108521},{x:398.1879959,y:126.6759644},{x:395.2633438,y:103.3844604},{x:393.3301468,y:91.60638428},{x:390.9952469,y:79.85656738},{x:388.1928177,y:68.22253418},{x:384.8570328,y:56.79168701},{x:380.9220352,y:45.65136719},{x:376.3219986,y:34.88897705},{x:371.1558609,y:23.22259521},{x:366.6760025,y:11.27197266},{x:365.8827591,y:9.214355469},{x:365.0445023,y:6.805603027},{x:364.7049942,y:4.406799316},{x:364.892189,y:3.323974609},{x:365.4079971,y:2.378967285},{x:366.5955276,y:1.439331055},{x:368.2348099,y:.826660156},{x:372.3311234,y:.333557129},{x:376.6218643,y:.40246582},{x:378.5041885,y:.4921875},{x:380.0319901,y:.535949707},{x:420.2889786,y:0},{x:527.1040115,y:0},{x:558.0751419,y:.09362793},{x:573.5140457,y:.204589844},{x:588.6629715,y:.352966309},{x:588.6629715,y:.352966309}],lineaPoints=points.map(Ve=>new DataPoint(Ve.x,Ve.y));function numericOdeSolvers1(){return numericOdeSolvers("Numeric ODE solvers","y'=y, y(0)=1",0,1,Math.exp,(Ve,je)=>je)}function numericOdeSolvers2(){return numericOdeSolvers("Numeric ODE solvers","y'=x, y(0)=0",0,0,Ve=>.5*Ve*Ve,(Ve,je)=>Ve)}function numericOdeSolvers3(){return numericOdeSolvers("Numeric ODE solvers","y'=cos(x), y(0)=0",0,0,Math.sin,(Ve,je)=>Math.cos(Ve))}function trainSchedule(){const Ve=new PlotModel({title:"Train schedule",subtitle:"Bergensbanen (Oslo-Bergen, Norway)",isLegendVisible:!1,plotAreaBorderColor:OxyColors.LightGray}),je=new LinearAxis({position:AxisPosition.Left,minimum:-20,maximum:540,title:"Distance from Oslo S",isAxisVisible:!0});Ve.axes.push(je);const ze=new CustomAxis({majorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColors.LightGray,minimum:je.minimum,maximum:je.maximum,position:AxisPosition.Right,isPanEnabled:!1,isZoomEnabled:!1,majorTickSize:0});je.axisChanged=(St,ei)=>{ze.minimum=je.actualMinimum,ze.maximum=je.actualMaximum},Ve.axes.push(ze),Ve.axes.push(new TimeSpanAxis({position:AxisPosition.Bottom,minimum:0,maximum:TimeSpanAxis.toDouble(TimeSpan.fromHours(24)),stringFormatter:St=>Math.abs(St.hours).toString().padStart(2,"0"),title:"Time",majorStep:TimeSpanAxis.toDouble(TimeSpan.fromHours(1)),minorStep:TimeSpanAxis.toDouble(TimeSpan.fromMinutes(10)),tickStyle:TickStyle.None,majorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColors.LightGray,minorGridlineStyle:LineStyle.Solid,minorGridlineColor:OxyColor.fromArgb(255,240,240,240)}));const qe=`Stasjon;km;moh;609;61;601;1405;607;603;63;605;62;602;608;604;64;610;1404;606
Oslo;0.00;4.0;0631;0811;1037;;1227;1437;1609;2311;1432;1736;1956;2210;2236;2348;;0626
Lysaker;7.00;7.5;0642;0822;1048;;1238;1448;1620;2322;1420;1724;1944;2158;2224;;;
Asker;23.83;104.6;0653;0832;1059;;1249;1458;1630;2334;1409;1713;1932;2144;2214;2324;;0555
Drammen;52.86;2.2;0708;0846;1115;;1303;1513;1645;2351;1354;1701;1914;2125;2201;2307;;0540
Hokksund;70.22;8.0;;;1136;;1320;1531;;0007;;1638;1854;2111;2140;;;0525
Vikersund;95.91;67.1;;;1158;;1349;1552;;0029;;1617;1833;2048;;;;0503
Hnefoss;124.21;96.8;0804;0937;1222;;1414;1619;1736;0056;1304;1555;1811;2025;2100;2201;;0442
Fl;186.64;155.0;;;1314;;;1712;;;;1503;1715;1934;;2108;;0349
Nesbyen;220.06;168.8;;1045;1340;;1532;1744;1845;0223;1152;1436;1643;1909;1949;2041;;0321
Gol;237.02;207.4;0930;1100;1354;;1545;1800;1900;0239;1141;1423;1630;1858;1938;2028;;0308
l;262.85;436.6;0950;1123;1419;1520;1608;1832;1921;0305;1121;1400;1609;1833;1919;2007;1957;0246
Geilo;287.38;794.2;1013;1145;1442;1545;1630;1855;1942;0328;1059;1339;1547;1812;1857;1946;1939;0224
Ustaoset;299.31;990.6;;1156;1454;1556;1643;1905;1953;0341;1048;1326;1536;1800;1845;;1927;0209
Haugastl;310.14;988.0;1042;;1505;1606;1655;1916;;0352;;1315;1527;1750;;1922;;0158
Finse;336.74;1222.2;1108;1224;1526;1626;1717;1937;2021;0417;1019;1254;1508;1730;1818;1900;1854;0138
Hallingskeid;357.44;1110.1;1123;;1538;1637;1732;1950;;;;1239;1454;1711;;1842;1839;
Myrdal;370.44;866.8;1137;1253;1551;1650;1746;2003;2045;0445;0953;1225;1440;1657;1752;1828;1825;0105
;370.44;866.8;1220;1258;1556;1652;1751;2004;2047;0445;0950;1220;1439;1652;1750;1823;1822;0101
// Upsete;376.79;850.2;;;;;;;;;;;;;;;;
// Mjlfjell;388.86;627.2;;;;;;;;;;;;;;;;
Voss;419.96;56.5;1312;1343;1640;1738;1836;2048;2130;0537;0910;1139;1355;1608;1710;1736;1740;0015
Dale;459;43.4;;;;;1903;;2156;0608;0836;1109;;;;;;2344
Vaksdal;475.17;16.0;;;;;;;;0626;;;;;;;;2326
Arna;501.43;8.0;1410;1441;1740;1840;1935;2155;2228;0644;0806;1037;1248;1506;1606;1618;1637;2307
Bergen;526.64;3.9;1422;1442;1752;1850;1945;2204;2235;0656;0758;1028;1240;1458;1558;1610;1628;2258
`.split(`
`),Xe=qe[0];qe.splice(0,1);const Ye=Xe.split(";"),Ke=Ye.length-3,Ze=new LineSeries({strokeThickness:0,markerType:MarkerType.Circle,markerFill:OxyColor.fromAColor(200,OxyColors.Black),markerSize:4}),Qe=new Array(Ke);for(let St=0;St<Qe.length;St++)Qe[St]=new LineSeries({title:Ye[3+St],color:OxyColor.fromAColor(180,OxyColors.Black),strokeThickness:2,trackerStringFormatter:ei=>`Train ${ei.title}
Time: ${formatTimeSpan(ei.xValue,"hh:mm:ss")}
Distance from Oslo S: ${ei.yValue.toFixed(1)} km`}),Ve.series.push(Qe[St]);for(const St of qe){if(!St||St.startsWith("//"))continue;const ei=St.split(";"),ti=ei[0],ii=parseFloat(ei[1]);ti&&(ze.majorTicks.push(ii),ze.labels.push(ti));for(let ri=0;ri<Qe.length;ri++){const si=ei[ri+3];if(!si)continue;const ui=parseInt(si),ai=TimeSpan.from(0,Math.floor(ui/100),ui%100,0),oi=TimeSpanAxis.toDouble(ai);Qe[ri].points.push(new DataPoint(oi,ii)),Ze.points.push(new DataPoint(oi,ii))}}const Je=TimeSpanAxis.toDouble(TimeSpan.fromHours(24));for(const St of Ve.series)if(St instanceof DataPointSeries){for(let ei=0;ei+1<St.points.length;ei++)if(Math.abs(St.points[ei].x-St.points[ei+1].x)>Je/2){let ti=St.points[ei].x;ti>Je/2&&(ti-=Je);let ii=St.points[ei+1].x;ii>Je/2&&(ii-=Je);const ri=St.points[ei].y+(St.points[ei+1].y-St.points[ei].y)/(ii-ti)*(0-ti);St.points.splice(ei+1,0,new DataPoint(ti<ii?0:Je,ri)),St.points.splice(ei+1,0,new DataPoint(Number.NaN,ri)),St.points.splice(ei+1,0,new DataPoint(ti<ii?Je:0,ri)),ei+=3}}return console.log(ze),Ve.series.push(Ze),Ve}function laLineaAreaSeries(){const Ve=new PlotModel({title:"La Linea",plotType:PlotType.Cartesian,background:OxyColor.fromRgb(84,98,207)});Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-500,maximum:1e3}));const je=new AreaSeries({fill:OxyColors.White,strokeThickness:0});return je.points.push(...lineaPoints),Ve.series.push(je),Ve}function laLinea(){const Ve=new PlotModel({title:"La Linea",plotType:PlotType.Cartesian,background:OxyColor.fromRgb(84,98,207)});Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-500,maximum:1e3}));const je=new LineSeries({color:OxyColors.White,strokeThickness:1.5});return je.points.push(...lineaPoints),Ve.series.push(je),Ve}function conwayLife(){const Ve=new PlotModel({title:"Conway's Game of Life",subtitle:"Click the mouse to step to the next generation."});Ve.axes.push(new LinearAxis({position:AxisPosition.Left,startPosition:1,endPosition:0})),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom}));const je=40,ze=40;let qe=create2DArray(ze,je,0);const Xe=new MatrixSeries({matrix:qe}),Ye=(St,ei)=>{qe[St][ei]=qe[St][ei+1]=qe[St][ei+2]=1},Ke=(St,ei)=>{qe[St][ei]=qe[St+1][ei+1]=qe[St+1][ei+2]=qe[St+2][ei]=qe[St+2][ei+1]=1},Ze=(St,ei)=>{qe[St][ei+1]=qe[St][ei+2]=qe[St+1][ei]=qe[St+1][ei+1]=qe[St+2][ei+1]=1};Ye(2,10),Ke(2,2),Ze(20,20),Ve.series.push(Xe);let Qe=0;const Je=()=>{const St=create2DArray(ze,je,0);for(let ei=1;ei<je-1;ei++)for(let ti=1;ti<ze-1;ti++){const ii=qe[ei-1][ti-1]+qe[ei-1][ti]+qe[ei-1][ti+1]+qe[ei][ti-1]+qe[ei][ti+1]+qe[ei+1][ti-1]+qe[ei+1][ti]+qe[ei+1][ti+1];if(qe[ei][ti]===0&&ii===3){St[ei][ti]=1;continue}qe[ei][ti]===1&&(ii===2||ii===3)&&(St[ei][ti]=1)}Qe++,Xe.title="Generation "+Qe,Xe.matrix=qe=St,Ve.invalidatePlot(!0)};return Ve.mouseDown=(St,ei)=>{ei.changedButton===OxyMouseButton.Left&&(Je(),ei.handled=!0)},Ve}function elephantCurve(){const Ve=Math.sin,je=Xe=>-27/5*Ve(3/2-30*Xe)-16/3*Ve(9/8-29*Xe)-29/5*Ve(5/4-27*Xe)-8/3*Ve(1/4-26*Xe)-25/7*Ve(1/3-25*Xe)-31/4*Ve(4/7-22*Xe)-25/4*Ve(4/3-20*Xe)-33/2*Ve(2/3-19*Xe)-67/4*Ve(6/5-16*Xe)-100/11*Ve(1/4-10*Xe)-425/7*Ve(1-4*Xe)+149/4*Ve(8*Xe)+1172/3*Ve(Xe+21/5)+661/11*Ve(2*Xe+3)+471/8*Ve(3*Xe+10/7)+211/7*Ve(5*Xe+13/4)+39/4*Ve(6*Xe+10/7)+139/10*Ve(7*Xe+7/6)+77/3*Ve(9*Xe+18/7)+135/8*Ve(11*Xe+1/2)+23/4*Ve(12*Xe+8/5)+95/4*Ve(13*Xe+4)+31/4*Ve(14*Xe+3/5)+67/11*Ve(15*Xe+7/3)+127/21*Ve(17*Xe+17/4)+95/8*Ve(18*Xe+7/8)+32/11*Ve(21*Xe+8/3)+81/10*Ve(23*Xe+45/11)+13/3*Ve(24*Xe+13/4)+7/4*Ve(28*Xe+3/2)+11/5*Ve(31*Xe+5/2)+1/3*Ve(32*Xe+12/5)+13/4*Ve(33*Xe+22/5)+14/3*Ve(34*Xe+9/4)+9/5*Ve(35*Xe+8/5)+17/9*Ve(36*Xe+22/5)+1/3*Ve(37*Xe+15/7)+3/2*Ve(38*Xe+39/10)+4/3*Ve(39*Xe+7/2)+5/3*Ve(40*Xe+17/6),ze=Xe=>-13/7*Ve(1/2-40*Xe)-31/8*Ve(1/11-34*Xe)-12/5*Ve(1/4-31*Xe)-9/4*Ve(4/3-29*Xe)-5/3*Ve(4/3-28*Xe)-11/2*Ve(6/5-26*Xe)-17/7*Ve(3/2-25*Xe)-5/2*Ve(1-24*Xe)-39/7*Ve(1-19*Xe)-59/5*Ve(2/3-18*Xe)-179/9*Ve(13/12-12*Xe)-103/2*Ve(1/10-9*Xe)-356/5*Ve(1-5*Xe)-429/2*Ve(20/19-Xe)+288/5*Ve(2*Xe+10/3)+53/6*Ve(3*Xe+5/2)+351/7*Ve(4*Xe+5/2)+201/4*Ve(6*Xe+17/7)+167/3*Ve(7*Xe+19/5)+323/5*Ve(8*Xe+1/4)+153/7*Ve(10*Xe+2/3)+71/5*Ve(11*Xe+6/5)+47/12*Ve(13*Xe+11/5)+391/26*Ve(14*Xe+2)+164/11*Ve(15*Xe+1/7)+11/2*Ve(16*Xe+2/3)+31/3*Ve(17*Xe+1/7)+54/11*Ve(20*Xe+1/4)+43/5*Ve(21*Xe+13/3)+13/5*Ve(22*Xe+3/2)+17/5*Ve(23*Xe+11/5)+19/10*Ve(27*Xe+4)+15/2*Ve(30*Xe+55/18)+4/3*Ve(32*Xe+3/5)+5/3*Ve(33*Xe+4)+27/7*Ve(35*Xe+13/6)+1/4*Ve(36*Xe+43/11)+16/5*Ve(37*Xe+9/2)+20/19*Ve(38*Xe+23/6)+8/3*Ve(39*Xe+4/7),qe=new PlotModel({title:"Elephant curve",plotType:PlotType.Cartesian});return qe.series.push(FunctionSeries.fromFxFyN(je,ze,0,Math.PI*2,1e3)),qe}function piCurve(){const Ve=Math.sin,je=Xe=>17/31*Ve(235/57-32*Xe)+19/17*Ve(192/55-30*Xe)+47/32*Ve(69/25-29*Xe)+35/26*Ve(75/34-27*Xe)+6/31*Ve(23/10-26*Xe)+35/43*Ve(10/33-25*Xe)+126/43*Ve(421/158-24*Xe)+143/57*Ve(35/22-22*Xe)+106/27*Ve(84/29-21*Xe)+88/25*Ve(23/27-20*Xe)+74/27*Ve(53/22-19*Xe)+44/53*Ve(117/25-18*Xe)+126/25*Ve(88/49-17*Xe)+79/11*Ve(43/26-16*Xe)+43/12*Ve(41/17-15*Xe)+47/27*Ve(244/81-14*Xe)+8/5*Ve(79/19-13*Xe)+373/46*Ve(109/38-12*Xe)+1200/31*Ve(133/74-11*Xe)+67/24*Ve(157/61-10*Xe)+583/28*Ve(13/8-8*Xe)+772/35*Ve(59/16-7*Xe)+3705/46*Ve(117/50-6*Xe)+862/13*Ve(19/8-5*Xe)+6555/34*Ve(157/78-3*Xe)+6949/13*Ve(83/27-Xe)-6805/54*Ve(2*Xe+1/145)-5207/37*Ve(4*Xe+49/74)-1811/58*Ve(9*Xe+55/43)-63/20*Ve(23*Xe+2/23)-266/177*Ve(28*Xe+13/18)-2/21*Ve(31*Xe+7/16),ze=Xe=>70/37*Ve(65/32-32*Xe)+11/12*Ve(98/41-31*Xe)+26/29*Ve(35/12-30*Xe)+54/41*Ve(18/7-29*Xe)+177/71*Ve(51/19-27*Xe)+59/34*Ve(125/33-26*Xe)+49/29*Ve(18/11-25*Xe)+151/75*Ve(59/22-24*Xe)+52/9*Ve(118/45-22*Xe)+52/33*Ve(133/52-21*Xe)+37/45*Ve(61/14-20*Xe)+143/46*Ve(144/41-19*Xe)+254/47*Ve(19/52-18*Xe)+246/35*Ve(92/25-17*Xe)+722/111*Ve(176/67-16*Xe)+136/23*Ve(3/19-15*Xe)+273/25*Ve(32/21-13*Xe)+229/33*Ve(117/28-12*Xe)+19/4*Ve(43/11-11*Xe)+135/8*Ve(23/10-10*Xe)+205/6*Ve(33/23-8*Xe)+679/45*Ve(55/12-7*Xe)+101/8*Ve(11/12-6*Xe)+2760/59*Ve(40/11-5*Xe)+1207/18*Ve(21/23-4*Xe)+8566/27*Ve(39/28-3*Xe)+12334/29*Ve(47/37-2*Xe)+15410/39*Ve(185/41-Xe)-596/17*Ve(9*Xe+3/26)-247/28*Ve(14*Xe+25/21)-458/131*Ve(23*Xe+21/37)-41/36*Ve(28*Xe+7/8),qe=new PlotModel({title:"PI curve",plotType:PlotType.Cartesian});return qe.series.push(FunctionSeries.fromFxFyN(je,ze,0,Math.PI*2,1e3)),qe}function numericOdeSolvers(Ve,je,ze,qe,Xe,Ye){const Ke=new PlotModel({title:Ve,subtitle:je}),Ze=new Legend({legendPosition:LegendPosition.BottomCenter,legendPlacement:LegendPlacement.Outside,legendOrientation:LegendOrientation.Horizontal});Ke.legends.push(Ze);const Qe=FunctionSeries.fromN(Xe,0,4,100);Object.assign(Qe,{title:"Exact solution",strokeThickness:5}),Ke.series.push(Qe);const Je=new LineSeries({title:"Euler, h=0.25",markerType:MarkerType.Circle,markerFill:OxyColors.Black});Je.points.push(...euler(Ye,ze,qe,4,.25)),Ke.series.push(Je);const St=new LineSeries({title:"Heun, h=0.25",markerType:MarkerType.Circle,markerFill:OxyColors.Black});St.points.push(...heun(Ye,ze,qe,4,.25)),Ke.series.push(St);const ei=new LineSeries({title:"Midpoint, h=0.25",markerType:MarkerType.Circle,markerFill:OxyColors.Black});ei.points.push(...midpoint(Ye,ze,qe,4,.25)),Ke.series.push(ei);const ti=new LineSeries({title:"RK4, h=0.25",markerType:MarkerType.Circle,markerFill:OxyColors.Black});return ti.points.push(...rungeKutta4(Ye,ze,qe,4,.25)),Ke.series.push(ti),Ke.axes.push(new LinearAxis({position:AxisPosition.Left})),Ke}function euler(Ve,je,ze,qe,Xe){const Ye=[];let Ke=ze;for(let Ze=je;Ze<qe+Xe/2;Ze+=Xe)Ye.push(new DataPoint(Ze,Ke)),Ke+=Xe*Ve(Ze,Ke);return Ye}function heun(Ve,je,ze,qe,Xe){const Ye=[];let Ke=ze;for(let Ze=je;Ze<qe+Xe/2;Ze+=Xe){Ye.push(new DataPoint(Ze,Ke));const Qe=Ke+Xe*Ve(Ze,Ke);Ke=Ke+Xe/2*(Ve(Ze,Ke)+Ve(Ze+Xe,Qe))}return Ye}function midpoint(Ve,je,ze,qe,Xe){const Ye=[];let Ke=ze;for(let Ze=je;Ze<qe+Xe/2;Ze+=Xe)Ye.push(new DataPoint(Ze,Ke)),Ke+=Xe*Ve(Ze+Xe/2,Ke+Xe/2*Ve(Ze,Ke));return Ye}function rungeKutta4(Ve,je,ze,qe,Xe){const Ye=[];let Ke=ze;for(let Ze=je;Ze<qe+Xe/2;Ze+=Xe){Ye.push(new DataPoint(Ze,Ke));const Qe=Xe*Ve(Ze,Ke),Je=Xe*Ve(Ze+Xe/2,Ke+Qe/2),St=Xe*Ve(Ze+Xe/2,Ke+Je/2),ei=Xe*Ve(Ze+Xe,Ke+St);Ke+=(Qe+2*Je+2*St+ei)/6}return Ye}class CustomAxis extends LinearAxis{constructor(ze){super(ze);Yn(this,"majorTicks",[]);Yn(this,"minorTicks",[]);Yn(this,"labels",[])}getTickValues(){const ze=this.majorTicks.filter(Ye=>Ye>=this.actualMinimum&&Ye<=this.actualMaximum),qe=this.minorTicks.filter(Ye=>Ye>=this.actualMinimum&&Ye<=this.actualMaximum);return{majorTickValues:ze,minorTickValues:qe,majorLabelValues:ze}}formatValueOverride(ze){return this.labels[this.majorTicks.indexOf(ze)]}}const category$r="Misc",MiscExamples={category:category$r,examples:[{title:"Numeric ODE solvers (y'=y)",example:{model:numericOdeSolvers1}},{title:"Numeric ODE solvers (y'=x)",example:{model:numericOdeSolvers2}},{title:"Numeric ODE solvers (y'=cos(x))",example:{model:numericOdeSolvers3}},{title:"Train schedule",example:{model:trainSchedule}},{title:"La Linea (AreaSeries)",example:{model:laLineaAreaSeries}},{title:"La Linea (LineSeries)",example:{model:laLinea}},{title:"Conway's Game of Life",example:{model:conwayLife}},{title:"Elephant curve",example:{model:elephantCurve}},{title:"PI curve",example:{model:piCurve}}]};function test1(){const Ve=new PlotModel({title:"XKCD style plot",subtitle:"Install the 'Humor Sans' font for the best experience"});Ve.renderingDecorator=ze=>new XkcdRenderingDecorator(ze);const je=FunctionSeries.fromN(Math.sin,0,10,50,"sin(x)");return Ve.series.push(je),Ve}function test2(){const Ve=new PlotModel({title:"Test #2"});Ve.renderingDecorator=Ze=>new XkcdRenderingDecorator(Ze),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:8,title:"INTENSITY"})),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"TIME"}));const je=new LineSeries({color:OxyColors.Cyan,strokeThickness:4}),ze=new LineSeries({color:OxyColors.White,strokeThickness:14}),qe=new LineSeries({color:OxyColors.Red,strokeThickness:4}),Xe=257,Ye=1,Ke=9;for(let Ze=0;Ze<Xe;Ze++){const Qe=Ye+(Ke-Ye)*Ze/(Xe-1),Je=1.5+10*(Math.sin(Qe)*Math.sin(Qe)/Math.sqrt(Qe))*Math.exp(-.5*(Qe-5)*(Qe-5)),St=3+10*(Math.sin(Qe)*Math.sin(Qe)/Math.sqrt(Qe))*Math.exp(-.5*(Qe-7)*(Qe-7));je.points.push(new DataPoint(Qe,Je)),ze.points.push(new DataPoint(Qe,St)),qe.points.push(new DataPoint(Qe,St))}return Ve.series.push(je,ze,qe),Ve}function test3(){const Ve=new PlotModel({title:"Test #3"});Ve.renderingDecorator=Ke=>new XkcdRenderingDecorator(Ke);const je=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Horizontal,legendBorderThickness:0});Ve.legends.push(je);const ze=new BarSeries({title:"Series 1",isStacked:!1,strokeColor:OxyColors.Black,strokeThickness:1,xAxisKey:"x",yAxisKey:"y"});ze.items.push(new BarItem({value:25})),ze.items.push(new BarItem({value:137})),ze.items.push(new BarItem({value:18})),ze.items.push(new BarItem({value:40}));const qe=new BarSeries({title:"Series 2",isStacked:!1,strokeColor:OxyColors.Black,strokeThickness:1,xAxisKey:"x",yAxisKey:"y"});qe.items.push(new BarItem({value:12})),qe.items.push(new BarItem({value:14})),qe.items.push(new BarItem({value:120})),qe.items.push(new BarItem({value:26}));const Xe=new CategoryAxis({position:AxisPosition.Bottom,key:"y"});Xe.labels.push("Category A","Category B","Category C","Category D");const Ye=new LinearAxis({position:AxisPosition.Left,minimumPadding:0,maximumPadding:.06,absoluteMinimum:0,key:"x"});return Ve.series.push(ze),Ve.series.push(qe),Ve.axes.push(Xe),Ve.axes.push(Ye),Ve}const category$q="XKCD",XkcdExamples={category:category$q,examples:[{title:"XKCD Test #1",example:{model:test1}},{title:"XKCD Test #2",example:{model:test2}},{title:"XKCD Test #3",example:{model:test3}}]},Misc=[MiscExamples,XkcdExamples];class HighLowItemGenerator{static mrProcess(je,ze=100,qe=.5,Xe=.7,Ye=.01){let Ke=ze;const Ze=[],Qe=new Date;for(let Je=0;Je<je;Je++){const St=-Ye*(Ke-ze)+this.randomNormal(0,qe),ei=-Ye*(Ke-ze)+this.randomNormal(0,Xe),ti=-Ye*(Ke-ze)+this.randomNormal(0,Xe),ii=Ke,ri=Ke=Ke+St,si=this.min(ii,ri,ii+ei,ii+ti),ui=this.max(ii,ri,ii+ei,ii+ti),ai=new Date(Qe.getTime()+Je*1e3),oi=DateTimeAxis.toDouble(ai);Ze.push(createHighLowItem(oi,ui,si,ii,ri))}return Ze}static min(je,ze,qe,Xe){return Math.min(je,Math.min(ze,Math.min(qe,Xe)))}static max(je,ze,qe,Xe){return Math.max(je,Math.max(ze,Math.max(qe,Xe)))}static randomNormal(je,ze){return this.inverseCumNormal(this.rand.next(),je,ze)}static inverseCumNormal(je,ze,qe){const Xe=-39.69683028665376,Ye=220.9460984245205,Ke=-275.9285104469687,Ze=138.357751867269,Qe=-30.66479806614716,Je=2.506628277459239,St=-54.47609879822406,ei=161.5858368580409,ti=-155.6989798598866,ii=66.80131188771972,ri=-13.28068155288572,si=-.007784894002430293,ui=-.3223964580411365,ai=-2.400758277161838,oi=-2.549732539343734,ni=4.374664141464968,ci=2.938163982698783,hi=.007784695709041462,di=.3224671290700398,fi=2.445134137142996,mi=3.754408661907416,pi=.02425,wi=1-pi;let gi,yi;return je<pi?(gi=Math.sqrt(-2*Math.log(je)),gi=(((((si*gi+ui)*gi+ai)*gi+oi)*gi+ni)*gi+ci)/((((hi*gi+di)*gi+fi)*gi+mi)*gi+1)):je<=wi?(gi=je-.5,yi=gi*gi,gi=(((((Xe*yi+Ye)*yi+Ke)*yi+Ze)*yi+Qe)*yi+Je)*gi/(((((St*yi+ei)*yi+ti)*yi+ii)*yi+ri)*yi+1)):(gi=Math.sqrt(-2*Math.log(1-je)),gi=-(((((si*gi+ui)*gi+ai)*gi+oi)*gi+ni)*gi+ci)/((((hi*gi+di)*gi+fi)*gi+mi)*gi+1)),yi=(this.cumN0(gi)-je)*Math.sqrt(2)*Math.sqrt(Math.PI)*Math.exp(.5*gi*gi),gi-=yi/(1+.5*gi*yi),ze+gi*qe}static cumN0(je){const ze=.31938153,qe=-.356563782,Xe=1.781477937,Ye=-1.821255978,Ke=1.330274429,Ze=.2316419,Qe=.39894228;if(je>=0){const Je=1/(1+Ze*je);return 1-Qe*Math.exp(-je*je/2)*Je*(Je*(Je*(Je*(Je*Ke+Ye)+Xe)+qe)+ze)}else{const Je=1/(1-Ze*je);return Qe*Math.exp(-je*je/2)*Je*(Je*(Je*(Je*(Je*Ke+Ye)+Xe)+qe)+ze)}}}Yn(HighLowItemGenerator,"rand",new Random);function largeDataSetWide(){const Ve=new PlotModel({title:"Large Data Set (wide window)"}),je=new DateTimeAxis({position:AxisPosition.Bottom});Ve.axes.push(je);const ze=new LinearAxis({position:AxisPosition.Left});Ve.axes.push(ze);const qe=1e5,Xe=HighLowItemGenerator.mrProcess(qe),Ye=new CandleStickSeries({color:OxyColors.Black,increasingColor:OxyColors.DarkGreen,decreasingColor:OxyColors.Red,dataFieldX:"Time",dataFieldHigh:"H",dataFieldLow:"L",dataFieldOpen:"O",dataFieldClose:"C",trackerStringFormatter:Je=>`High: ${Je.high.toFixed(2)}
Low: ${Je.low.toFixed(2)}
Open: ${Je.open.toFixed(2)}
Close: ${Je.close.toFixed(2)}`,itemsSource:Xe}),Ke=qe-200,Ze=70;je.minimum=Xe[Ke].x,je.maximum=Xe[Ke+Ze].x;const Qe=Xe.slice(Ke,Ke+Ze);return ze.minimum=Math.min(...Qe.map(Je=>Je.low)),ze.maximum=Math.max(...Qe.map(Je=>Je.high)),Ve.series.push(Ye),je.axisChanged=(Je,St)=>_adjustYExtent(Ye,je,ze),Ve}function largeDataSetNarrow(){const Ve=new PlotModel({title:"Large Data Set (narrow window)"}),je=new DateTimeAxis({position:AxisPosition.Bottom});Ve.axes.push(je);const ze=new LinearAxis({position:AxisPosition.Left});Ve.axes.push(ze);const qe=1e5,Xe=HighLowItemGenerator.mrProcess(qe),Ye=new CandleStickSeries({color:OxyColors.Black,increasingColor:OxyColors.DarkGreen,decreasingColor:OxyColors.Red,trackerStringFormatter:Ke=>`High: ${Ke.high.toFixed(2)}
Low: ${Ke.low.toFixed(2)}
Open: ${Ke.open.toFixed(2)}
Close: ${Ke.close.toFixed(2)}`,itemsSource:Xe});return je.minimum=Xe[0].x,je.maximum=Xe[29].x,ze.minimum=Xe.slice(0,30).map(Ke=>Ke.low).reduce((Ke,Ze)=>Math.min(Ke,Ze)),ze.maximum=Xe.slice(0,30).map(Ke=>Ke.high).reduce((Ke,Ze)=>Math.max(Ke,Ze)),Ve.series.push(Ye),je.axisChanged=(Ke,Ze)=>_adjustYExtent(Ye,je,ze),Ve}function smallDataSet(){const Ve=new PlotModel({title:"Small Data Set"}),je=new DateTimeAxis({position:AxisPosition.Bottom});Ve.axes.push(je);const ze=new LinearAxis({position:AxisPosition.Left});Ve.axes.push(ze);const qe=100,Xe=HighLowItemGenerator.mrProcess(qe),Ye=new CandleStickSeries({color:OxyColors.Black,increasingColor:OxyColors.DarkGreen,decreasingColor:OxyColors.Red,dataFieldX:"X",dataFieldHigh:"High",dataFieldLow:"Low",dataFieldOpen:"Open",dataFieldClose:"Close",trackerStringFormatter:Ke=>`High: ${Ke.high.toFixed(2)}
Low: ${Ke.low.toFixed(2)}
Open: ${Ke.open.toFixed(2)}
Close: ${Ke.close.toFixed(2)}`,itemsSource:Xe});return Ve.series.push(Ye),je.axisChanged=(Ke,Ze)=>_adjustYExtent(Ye,je,ze),Ve}function simpleExample(){const Ve=DateTimeAxis.toDouble(new Date(2016,1,1)),je=new PlotModel({title:"Simple CandleStickSeries example"});je.axes.push(new DateTimeAxis({position:AxisPosition.Bottom,minimum:Ve-7,maximum:Ve+7})),je.axes.push(new LinearAxis({position:AxisPosition.Left}));const ze=new CandleStickSeries;return ze.items.push(createHighLowItem(Ve,100,80,92,94)),ze.items.push(createHighLowItem(Ve+1,102,77,94,93)),ze.items.push(createHighLowItem(Ve+2,99,85,93,93)),je.series.push(ze),je}function _adjustYExtent(Ve,je,ze){const qe=je.actualMinimum,Xe=je.actualMaximum,Ye=Ve.findByX(qe),Ke=Ve.findByX(Xe,Ye);let Ze=Number_MAX_VALUE,Qe=Number_MIN_VALUE;for(let ei=Ye;ei<=Ke;ei++){const ti=Ve.items[ei];Ze=Math.min(Ze,ti.low),Qe=Math.max(Qe,ti.high)}const St=(Qe-Ze)*.1;ze.zoom(Ze-St,Qe+St)}const category$p="CandleStickSeries",CandleStickSeriesExamples={category:category$p,tags:["Series"],examples:[{title:"Large Data Set (wide window)",example:{model:largeDataSetWide}},{title:"Large Data Set (narrow window)",example:{model:largeDataSetNarrow}},{title:"Small Set",example:{model:smallDataSet}},{title:"Simple CandleStickSeries example",example:{model:simpleExample}}]};function highLowSeries(){const Ve=new PlotModel({title:"HighLowSeries"}),je=new Legend({legendSymbolLength:24});Ve.legends.push(je);const ze=new HighLowSeries({title:"HighLowSeries 1",color:OxyColors.Black}),qe=new Random(314);let Xe=100;for(let Ye=0;Ye<24;Ye++){Xe=Xe+qe.next()+.1;const Ke=Xe+10+qe.next()*10,Ze=Xe-(10+qe.next()*10),Qe=Ze+qe.next()*(Ke-Ze),Je=Ze+qe.next()*(Ke-Ze);ze.items.push({x:Ye,high:Ke,low:Ze,open:Qe,close:Je})}return Ve.series.push(ze),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,maximumPadding:.3,minimumPadding:.3})),Ve}function highLowSeriesDateTimeAxis(){const Ve=new PlotModel,je=DateTimeAxis.toDouble(new Date(2013,5,4)),ze=getDateService(),qe=new DateTimeAxis({position:AxisPosition.Bottom,minimum:je-.9,maximum:je+1.9,intervalType:DateTimeIntervalType.Days,majorStep:1,minorStep:1,stringFormatter:Ye=>ze.format(Ye,"YYYY-MM-DD")});Ve.axes.push(qe);const Xe=new HighLowSeries({trackerStringFormatter:Ye=>`X: ${ze.format(Ye.xValue,"YYYY-MM-DD")}
High: ${Ye.high.toFixed(2)}
Low: ${Ye.low.toFixed(2)}
Open: ${Ye.open.toFixed(2)}
Close: ${Ye.close.toFixed(2)}`});return Xe.items.push(createHighLowItem(je,14,10,13,12.4)),Xe.items.push(createHighLowItem(je+1,17,8,12.4,16.3)),Ve.series.push(Xe),Ve}const category$o="HighLowSeries",HighLowSeriesExamples={category:category$o,tags:["Series"],examples:[{title:"HighLowSeries",example:{model:highLowSeries}},{title:"HighLowSeries (DateTime axis)",example:{model:highLowSeriesDateTimeAxis}}]};class OhlcvItemGenerator{static mrProcess(je,ze=100,qe=500,Xe=.5,Ye=.75,Ke=.01){let Ze=ze;const Qe=[],Je=new Date;for(let St=0;St<je;St++){const ei=-Ke*(Ze-ze)+this.randomNormal(0,Xe),ti=Ze,ri=(Ze=Ze+ei)-ti,si=qe*Math.exp(Math.abs(ri)/Xe),ai=((ri<0?-Math.min(-ri/Ye,1):Math.min(ri/Ye,1))+1)/2,oi=ai*si,ni=(1-ai)*si,ci=new Date(Je.getTime()+St*1e3),hi=DateTimeAxis.toDouble(ci);Qe.push(new OhlcvItem(hi,oi,ni))}return Qe}static min(je,ze,qe,Xe){return Math.min(je,Math.min(ze,Math.min(qe,Xe)))}static max(je,ze,qe,Xe){return Math.max(je,Math.max(ze,Math.max(qe,Xe)))}static randomNormal(je,ze){return HighLowItemGenerator.inverseCumNormal(this.rand.next(),je,ze)}}Yn(OhlcvItemGenerator,"rand",new Random);function justVolumeCombinedFixed(){return _createVolumeSeries("Just Volume (combined)",VolumeStyle.Combined,!1)}function justVolumeCombinedNatural(){return _createVolumeSeries("Just Volume (combined)",VolumeStyle.Combined,!0)}function justVolumeStackedFixed(){return _createVolumeSeries("Just Volume (stacked)",VolumeStyle.Stacked,!1)}function justVolumeStackedNatural(){return _createVolumeSeries("Just Volume (stacked)",VolumeStyle.Stacked,!0)}function justVolumePositiveNegativeFixed(){return _createVolumeSeries("Just Volume (+/-)",VolumeStyle.PositiveNegative,!1)}function justVolumePositiveNegativeNatural(){return _createVolumeSeries("Just Volume (+/-)",VolumeStyle.PositiveNegative,!0)}function _createVolumeSeries(Ve,je,ze=!1,qe=1e4){qe=201;const Xe=new PlotModel({title:Ve}),Ye=new VolumeSeries({positiveColor:OxyColors.DarkGreen,negativeColor:OxyColors.Red,positiveHollow:!1,negativeHollow:!1,volumeStyle:je,title:"VolumeSeries"});for(const ti of OhlcvItemGenerator.mrProcess(qe))Ye.append(ti);const Ke=qe-200,Ze=qe-120,Qe=Ye.items[Ke].x,Je=Ye.items[Ze].x,St=new DateTimeAxis({position:AxisPosition.Bottom,minimum:Qe,maximum:Je}),ei=new LinearAxis({position:AxisPosition.Left,startPosition:0,endPosition:1,minimum:ze?NaN:0,maximum:ze?NaN:1e4});switch(je){case VolumeStyle.Combined:case VolumeStyle.Stacked:Xe.axes.push(St),Xe.axes.push(ei);break;case VolumeStyle.PositiveNegative:ei.minimum=ze?NaN:-1e4,Xe.axes.push(St),Xe.axes.push(ei);break}return Xe.series.push(Ye),Xe}const category$n="VolumeSeries",VolumeSeriesExamples={category:category$n,tags:["Series"],examples:[{title:"Just Volume (combined), fixed axis",example:{model:justVolumeCombinedFixed}},{title:"Just Volume (combined), natural axis",example:{model:justVolumeCombinedNatural}},{title:"Just Volume (stacked), fixed axis",example:{model:justVolumeStackedFixed}},{title:"Just Volume (stacked), natural axis",example:{model:justVolumeStackedNatural}},{title:"Just Volume (+/-), fixed axis",example:{model:justVolumePositiveNegativeFixed}},{title:"Just Volume (+/-), natural axis",example:{model:justVolumePositiveNegativeNatural}}]},FinancialSeries=[CandleStickSeriesExamples,HighLowSeriesExamples,VolumeSeriesExamples];function defaultStyle$2(){const Ve=new PlotModel({title:"AreaSeries with default style"});return Ve.series.push(createExampleAreaSeries()),Ve}function differentColors$1(){const Ve=new PlotModel({title:"AreaSeries with different stroke colors"}),je=createExampleAreaSeries();return je.color=OxyColors.Red,je.color2=OxyColors.Blue,Ve.series.push(je),Ve}function crossingLines(){const Ve=new PlotModel({title:"AreaSeries with crossing lines"}),je=new AreaSeries;return je.points.push(new DataPoint(0,50)),je.points.push(new DataPoint(10,140)),je.points.push(new DataPoint(20,60)),je.points2.push(new DataPoint(0,60)),je.points2.push(new DataPoint(5,80)),je.points2.push(new DataPoint(20,70)),Ve.series.push(je),Ve}function trackerFormatString$2(){const Ve=new PlotModel({title:"AreaSeries with custom TrackerFormatString"});Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"X-axis"})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Y-axis"}));const je=createExampleAreaSeries();return je.title="X={2:0.0} Y={4:0.0}",je.trackerStringFormatter=ze=>`X=${ze.xValue.toFixed(1)} Y=${ze.yValue.toFixed(1)}`,Ve.series.push(je),Ve}function constantBaseline(){const Ve=new PlotModel({title:"AreaSeries with constant baseline",subtitle:"Empty Points2, ConstantY2 = 0 (default)"}),je=new AreaSeries;return je.points.push(new DataPoint(0,50)),je.points.push(new DataPoint(10,140)),je.points.push(new DataPoint(20,60)),Ve.series.push(je),Ve}function constantBaselineNaN(){const Ve=new PlotModel({title:"AreaSeries with constant baseline",subtitle:"Empty Points2, ConstantY2 = NaN"}),je=new AreaSeries;return je.points.push(new DataPoint(0,50)),je.points.push(new DataPoint(10,140)),je.points.push(new DataPoint(20,60)),je.constantY2=Number.NaN,Ve.series.push(je),Ve}function constantBaselineItemsSource(){const Ve=new PlotModel({title:"AreaSeries with constant baseline",subtitle:"ItemsSource and DataField2 not set, ConstantY2 = -20"}),je=new AreaSeries,ze=[new DataPoint(0,50),new DataPoint(10,140),new DataPoint(20,60)];return je.itemsSource=ze,je.dataFieldX="x",je.dataFieldY="y",je.constantY2=-20,Ve.series.push(je),Ve}function lineSeriesAndAreaSeries(){const Ve=new PlotModel({title:"LineSeries and AreaSeries"}),je=new LinearAxis({position:AxisPosition.Bottom});Ve.axes.push(je);const ze=new LinearAxis;Ve.axes.push(ze);const qe=new AreaSeries({fill:OxyColors.LightBlue,dataFieldX2:"Time",dataFieldY2:"Minimum",color:OxyColors.Red,strokeThickness:0,markerFill:OxyColors.Transparent,dataFieldX:"Time",dataFieldY:"Maximum"});qe.points2.push(new DataPoint(0,-5.04135905692417)),qe.points2.push(new DataPoint(2.5,-4.91731850813018)),qe.points2.push(new DataPoint(5,-4.45266314658926)),qe.points2.push(new DataPoint(7.5,-3.87303874542613)),qe.points2.push(new DataPoint(10,-3.00101110255393)),qe.points2.push(new DataPoint(12.5,-2.17980725503518)),qe.points2.push(new DataPoint(15,-1.67332229254456)),qe.points2.push(new DataPoint(17.5,-1.10537158549082)),qe.points2.push(new DataPoint(20,-.6145459544447)),qe.points2.push(new DataPoint(22.5,.120028106039404)),qe.points2.push(new DataPoint(25,1.06357270435597)),qe.points2.push(new DataPoint(27.5,1.87301405606466)),qe.points2.push(new DataPoint(30,2.57569854952195)),qe.points2.push(new DataPoint(32.5,3.59165537664278)),qe.points2.push(new DataPoint(35,4.87991958133872)),qe.points2.push(new DataPoint(37.5,6.36214537958714)),qe.points2.push(new DataPoint(40,7.62564585126268)),qe.points2.push(new DataPoint(42.5,8.69606320261772)),qe.points2.push(new DataPoint(45,10.0118704438265)),qe.points2.push(new DataPoint(47.5,11.0434480519236)),qe.points2.push(new DataPoint(50,11.9794171576758)),qe.points2.push(new DataPoint(52.5,12.9591851832621)),qe.points2.push(new DataPoint(55,14.172107889304)),qe.points2.push(new DataPoint(57.5,15.5520057698488)),qe.points2.push(new DataPoint(60,17.2274942386092)),qe.points2.push(new DataPoint(62.5,18.6983982186757)),qe.points2.push(new DataPoint(65,20.4560332001448)),qe.points2.push(new DataPoint(67.5,22.4867327382261)),qe.points2.push(new DataPoint(70,24.5319674302041)),qe.points2.push(new DataPoint(72.5,26.600547815813)),qe.points2.push(new DataPoint(75,28.5210891459701)),qe.points2.push(new DataPoint(77.5,30.6793080755413)),qe.points2.push(new DataPoint(80,33.0546651200646)),qe.points2.push(new DataPoint(82.5,35.3256065179713)),qe.points2.push(new DataPoint(85,37.6336074839968)),qe.points2.push(new DataPoint(87.5,40.2012266359763)),qe.points2.push(new DataPoint(90,42.8923555399256)),qe.points2.push(new DataPoint(92.5,45.8665211907432)),qe.points2.push(new DataPoint(95,48.8200195945427)),qe.points2.push(new DataPoint(97.5,51.8304284402311)),qe.points2.push(new DataPoint(100,54.6969868542147)),qe.points2.push(new DataPoint(102.5,57.7047292990632)),qe.points2.push(new DataPoint(105,60.4216644602929)),qe.points2.push(new DataPoint(107.5,62.926258762519)),qe.points2.push(new DataPoint(110,65.1829734629407)),qe.points2.push(new DataPoint(112.5,67.2365592083133)),qe.points2.push(new DataPoint(115,69.5713628691022)),qe.points2.push(new DataPoint(117.5,71.7267046705944)),qe.points2.push(new DataPoint(120,73.633463102781)),qe.points2.push(new DataPoint(122.5,75.4660150158061)),qe.points2.push(new DataPoint(125,77.5669292504745)),qe.points2.push(new DataPoint(127.5,79.564218544664)),qe.points2.push(new DataPoint(130,81.8631309028078)),qe.points2.push(new DataPoint(132.5,83.9698189969034)),qe.points2.push(new DataPoint(135,86.3847886532009)),qe.points2.push(new DataPoint(137.5,88.5559348267764)),qe.points2.push(new DataPoint(140,91.0455050418365)),qe.points2.push(new DataPoint(142.5,93.6964157585504)),qe.points2.push(new DataPoint(145,96.284336864941)),qe.points2.push(new DataPoint(147.5,98.7508602689723)),qe.points2.push(new DataPoint(150,100.904510594255)),qe.points2.push(new DataPoint(152.5,103.266136681506)),qe.points2.push(new DataPoint(155,105.780951269521)),qe.points2.push(new DataPoint(157.5,108.032859257065)),qe.points2.push(new DataPoint(160,110.035478448093)),qe.points2.push(new DataPoint(162.5,112.10655731615)),qe.points2.push(new DataPoint(165,114.37480786097)),qe.points2.push(new DataPoint(167.5,116.403992550869)),qe.points2.push(new DataPoint(170,118.61663988727)),qe.points2.push(new DataPoint(172.5,120.538730287384)),qe.points2.push(new DataPoint(175,122.515721057177)),qe.points2.push(new DataPoint(177.5,124.474386629124)),qe.points2.push(new DataPoint(180,126.448283293214)),qe.points2.push(new DataPoint(182.5,128.373811322299)),qe.points2.push(new DataPoint(185,130.33627914667)),qe.points2.push(new DataPoint(187.5,132.487933658477)),qe.points2.push(new DataPoint(190,134.716989778456)),qe.points2.push(new DataPoint(192.5,136.817287595392)),qe.points2.push(new DataPoint(195,139.216488664698)),qe.points2.push(new DataPoint(197.5,141.50803227574)),qe.points2.push(new DataPoint(200,143.539586683614)),qe.points2.push(new DataPoint(202.5,145.535911545221)),qe.points2.push(new DataPoint(205,147.516964978686)),qe.points2.push(new DataPoint(207.5,149.592416731684)),qe.points2.push(new DataPoint(210,151.600983566512)),qe.points2.push(new DataPoint(212.5,153.498210993362)),qe.points2.push(new DataPoint(215,155.512606828247)),qe.points2.push(new DataPoint(217.5,157.426564302774)),qe.points2.push(new DataPoint(220,159.364474964172)),qe.points2.push(new DataPoint(222.5,161.152806492128)),qe.points2.push(new DataPoint(225,162.679069434562)),qe.points2.push(new DataPoint(227.5,163.893622036741)),qe.points2.push(new DataPoint(230,165.475827621238)),qe.points2.push(new DataPoint(232.5,167.303960444734)),qe.points2.push(new DataPoint(235,169.259393394952)),qe.points2.push(new DataPoint(237.5,171.265193646758)),qe.points2.push(new DataPoint(240,173.074304345192)),qe.points2.push(new DataPoint(242.5,174.975492766814)),qe.points2.push(new DataPoint(245,176.684088218484)),qe.points2.push(new DataPoint(247.5,178.406887247603)),qe.points.push(new DataPoint(0,5.0184649433561)),qe.points.push(new DataPoint(2.5,5.27685959268215)),qe.points.push(new DataPoint(5,5.81437064628786)),qe.points.push(new DataPoint(7.5,6.51022475040994)),qe.points.push(new DataPoint(10,7.49921246878766)),qe.points.push(new DataPoint(12.5,8.41941631823751)),qe.points.push(new DataPoint(15,9.09826907222079)),qe.points.push(new DataPoint(17.5,9.89500750098145)),qe.points.push(new DataPoint(20,10.6633345249404)),qe.points.push(new DataPoint(22.5,11.6249613445368)),qe.points.push(new DataPoint(25,12.8816391467497)),qe.points.push(new DataPoint(27.5,13.9665185705603)),qe.points.push(new DataPoint(30,14.8501816818724)),qe.points.push(new DataPoint(32.5,16.0683128022441)),qe.points.push(new DataPoint(35,17.5378799723172)),qe.points.push(new DataPoint(37.5,19.1262752954039)),qe.points.push(new DataPoint(40,20.4103953650735)),qe.points.push(new DataPoint(42.5,21.5430627723891)),qe.points.push(new DataPoint(45,22.9105459463366)),qe.points.push(new DataPoint(47.5,23.9802361888719)),qe.points.push(new DataPoint(50,24.8659461235003)),qe.points.push(new DataPoint(52.5,25.7303194442439)),qe.points.push(new DataPoint(55,26.7688545912359)),qe.points.push(new DataPoint(57.5,28.0545112571933)),qe.points.push(new DataPoint(60,29.7036634266394)),qe.points.push(new DataPoint(62.5,31.2273634344467)),qe.points.push(new DataPoint(65,33.1038196356519)),qe.points.push(new DataPoint(67.5,35.2639893610328)),qe.points.push(new DataPoint(70,37.434293559489)),qe.points.push(new DataPoint(72.5,39.7109359368267)),qe.points.push(new DataPoint(75,41.7573881676222)),qe.points.push(new DataPoint(77.5,44.0460374479862)),qe.points.push(new DataPoint(80,46.5098714746581)),qe.points.push(new DataPoint(82.5,48.7754012129155)),qe.points.push(new DataPoint(85,51.1619816926597)),qe.points.push(new DataPoint(87.5,53.9036778414639)),qe.points.push(new DataPoint(90,56.7448825012636)),qe.points.push(new DataPoint(92.5,59.9294987878434)),qe.points.push(new DataPoint(95,63.0148831289797)),qe.points.push(new DataPoint(97.5,66.0721745989622)),qe.points.push(new DataPoint(100,68.8980036274521)),qe.points.push(new DataPoint(102.5,71.7719322611447)),qe.points.push(new DataPoint(105,74.4206055336728)),qe.points.push(new DataPoint(107.5,76.816198386632)),qe.points.push(new DataPoint(110,79.0040432726983)),qe.points.push(new DataPoint(112.5,80.9617606926066)),qe.points.push(new DataPoint(115,83.1345574620341)),qe.points.push(new DataPoint(117.5,85.0701022046479)),qe.points.push(new DataPoint(120,86.8557530286516)),qe.points.push(new DataPoint(122.5,88.5673387745243)),qe.points.push(new DataPoint(125,90.6003321543338)),qe.points.push(new DataPoint(127.5,92.439864576254)),qe.points.push(new DataPoint(130,94.5383744861178)),qe.points.push(new DataPoint(132.5,96.4600166864507)),qe.points.push(new DataPoint(135,98.6091052949006)),qe.points.push(new DataPoint(137.5,100.496459351478)),qe.points.push(new DataPoint(140,102.705767030085)),qe.points.push(new DataPoint(142.5,105.009994476992)),qe.points.push(new DataPoint(145,107.31287026052)),qe.points.push(new DataPoint(147.5,109.584842542272)),qe.points.push(new DataPoint(150,111.641435600837)),qe.points.push(new DataPoint(152.5,113.988459973544)),qe.points.push(new DataPoint(155,116.50349048027)),qe.points.push(new DataPoint(157.5,118.753612704274)),qe.points.push(new DataPoint(160,120.801728924085)),qe.points.push(new DataPoint(162.5,122.902486914165)),qe.points.push(new DataPoint(165,125.104391935796)),qe.points.push(new DataPoint(167.5,127.06056966547)),qe.points.push(new DataPoint(170,129.217086578495)),qe.points.push(new DataPoint(172.5,131.151968896274)),qe.points.push(new DataPoint(175,133.159906275133)),qe.points.push(new DataPoint(177.5,135.065263957561)),qe.points.push(new DataPoint(180,137.041870026822)),qe.points.push(new DataPoint(182.5,138.937477489811)),qe.points.push(new DataPoint(185,140.776914926282)),qe.points.push(new DataPoint(187.5,142.786975776398)),qe.points.push(new DataPoint(190,144.862762377347)),qe.points.push(new DataPoint(192.5,146.89654967049)),qe.points.push(new DataPoint(195,149.204343821204)),qe.points.push(new DataPoint(197.5,151.369748673527)),qe.points.push(new DataPoint(200,153.324438580137)),qe.points.push(new DataPoint(202.5,155.173148715344)),qe.points.push(new DataPoint(205,157.0501827528)),qe.points.push(new DataPoint(207.5,159.109122278359)),qe.points.push(new DataPoint(210,161.044446932778)),qe.points.push(new DataPoint(212.5,162.942364031841)),qe.points.push(new DataPoint(215,164.966769883021)),qe.points.push(new DataPoint(217.5,166.89711806788)),qe.points.push(new DataPoint(220,168.906874949069)),qe.points.push(new DataPoint(222.5,170.85692034995)),qe.points.push(new DataPoint(225,172.602125010408)),qe.points.push(new DataPoint(227.5,173.964258466598)),qe.points.push(new DataPoint(230,175.629908385654)),qe.points.push(new DataPoint(232.5,177.495778359378)),qe.points.push(new DataPoint(235,179.432933300749)),qe.points.push(new DataPoint(237.5,181.400180771342)),qe.points.push(new DataPoint(240,183.232300309899)),qe.points.push(new DataPoint(242.5,185.225502661441)),qe.points.push(new DataPoint(245,186.979590140413)),qe.points.push(new DataPoint(247.5,188.816640077725)),qe.title="Maximum/Minimum",Ve.series.push(qe);const Xe=new LineSeries({color:OxyColors.Blue,markerFill:OxyColors.Transparent,dataFieldX:"Time",dataFieldY:"Value"});return Xe.points.push(new DataPoint(0,-.011447056784037)),Xe.points.push(new DataPoint(2.5,.179770542275985)),Xe.points.push(new DataPoint(5,.6808537498493)),Xe.points.push(new DataPoint(7.5,1.31859300249191)),Xe.points.push(new DataPoint(10,2.24910068311687)),Xe.points.push(new DataPoint(12.5,3.11980453160117)),Xe.points.push(new DataPoint(15,3.71247338983811)),Xe.points.push(new DataPoint(17.5,4.39481795774531)),Xe.points.push(new DataPoint(20,5.02439428524784)),Xe.points.push(new DataPoint(22.5,5.87249472528812)),Xe.points.push(new DataPoint(25,6.97260592555283)),Xe.points.push(new DataPoint(27.5,7.91976631331247)),Xe.points.push(new DataPoint(30,8.71294011569719)),Xe.points.push(new DataPoint(32.5,9.82998408944345)),Xe.points.push(new DataPoint(35,11.208899776828)),Xe.points.push(new DataPoint(37.5,12.7442103374955)),Xe.points.push(new DataPoint(40,14.0180206081681)),Xe.points.push(new DataPoint(42.5,15.1195629875034)),Xe.points.push(new DataPoint(45,16.4612081950815)),Xe.points.push(new DataPoint(47.5,17.5118421203978)),Xe.points.push(new DataPoint(50,18.4226816405881)),Xe.points.push(new DataPoint(52.5,19.344752313753)),Xe.points.push(new DataPoint(55,20.47048124027)),Xe.points.push(new DataPoint(57.5,21.8032585135211)),Xe.points.push(new DataPoint(60,23.4655788326243)),Xe.points.push(new DataPoint(62.5,24.9628808265612)),Xe.points.push(new DataPoint(65,26.7799264178984)),Xe.points.push(new DataPoint(67.5,28.8753610496295)),Xe.points.push(new DataPoint(70,30.9831304948466)),Xe.points.push(new DataPoint(72.5,33.1557418763199)),Xe.points.push(new DataPoint(75,35.1392386567962)),Xe.points.push(new DataPoint(77.5,37.3626727617638)),Xe.points.push(new DataPoint(80,39.7822682973613)),Xe.points.push(new DataPoint(82.5,42.0505038654434)),Xe.points.push(new DataPoint(85,44.3977945883283)),Xe.points.push(new DataPoint(87.5,47.0524522387201)),Xe.points.push(new DataPoint(90,49.8186190205946)),Xe.points.push(new DataPoint(92.5,52.8980099892933)),Xe.points.push(new DataPoint(95,55.9174513617612)),Xe.points.push(new DataPoint(97.5,58.9513015195966)),Xe.points.push(new DataPoint(100,61.7974952408334)),Xe.points.push(new DataPoint(102.5,64.738330780104)),Xe.points.push(new DataPoint(105,67.4211349969828)),Xe.points.push(new DataPoint(107.5,69.8712285745755)),Xe.points.push(new DataPoint(110,72.0935083678195)),Xe.points.push(new DataPoint(112.5,74.0991599504599)),Xe.points.push(new DataPoint(115,76.3529601655682)),Xe.points.push(new DataPoint(117.5,78.3984034376212)),Xe.points.push(new DataPoint(120,80.2446080657163)),Xe.points.push(new DataPoint(122.5,82.0166768951652)),Xe.points.push(new DataPoint(125,84.0836307024042)),Xe.points.push(new DataPoint(127.5,86.002041560459)),Xe.points.push(new DataPoint(130,88.2007526944628)),Xe.points.push(new DataPoint(132.5,90.2149178416771)),Xe.points.push(new DataPoint(135,92.4969469740507)),Xe.points.push(new DataPoint(137.5,94.5261970891274)),Xe.points.push(new DataPoint(140,96.875636035961)),Xe.points.push(new DataPoint(142.5,99.3532051177711)),Xe.points.push(new DataPoint(145,101.798603562731)),Xe.points.push(new DataPoint(147.5,104.167851405622)),Xe.points.push(new DataPoint(150,106.272973097546)),Xe.points.push(new DataPoint(152.5,108.627298327525)),Xe.points.push(new DataPoint(155,111.142220874895)),Xe.points.push(new DataPoint(157.5,113.39323598067)),Xe.points.push(new DataPoint(160,115.418603686089)),Xe.points.push(new DataPoint(162.5,117.504522115157)),Xe.points.push(new DataPoint(165,119.739599898383)),Xe.points.push(new DataPoint(167.5,121.732281108169)),Xe.points.push(new DataPoint(170,123.916863232882)),Xe.points.push(new DataPoint(172.5,125.845349591829)),Xe.points.push(new DataPoint(175,127.837813666155)),Xe.points.push(new DataPoint(177.5,129.769825293343)),Xe.points.push(new DataPoint(180,131.745076660018)),Xe.points.push(new DataPoint(182.5,133.655644406055)),Xe.points.push(new DataPoint(185,135.556597036476)),Xe.points.push(new DataPoint(187.5,137.637454717438)),Xe.points.push(new DataPoint(190,139.789876077902)),Xe.points.push(new DataPoint(192.5,141.856918632941)),Xe.points.push(new DataPoint(195,144.210416242951)),Xe.points.push(new DataPoint(197.5,146.438890474634)),Xe.points.push(new DataPoint(200,148.432012631876)),Xe.points.push(new DataPoint(202.5,150.354530130282)),Xe.points.push(new DataPoint(205,152.283573865743)),Xe.points.push(new DataPoint(207.5,154.350769505022)),Xe.points.push(new DataPoint(210,156.322715249645)),Xe.points.push(new DataPoint(212.5,158.220287512602)),Xe.points.push(new DataPoint(215,160.239688355634)),Xe.points.push(new DataPoint(217.5,162.161841185327)),Xe.points.push(new DataPoint(220,164.135674956621)),Xe.points.push(new DataPoint(222.5,166.004863421039)),Xe.points.push(new DataPoint(225,167.640597222485)),Xe.points.push(new DataPoint(227.5,168.928940251669)),Xe.points.push(new DataPoint(230,170.552868003446)),Xe.points.push(new DataPoint(232.5,172.399869402056)),Xe.points.push(new DataPoint(235,174.346163347851)),Xe.points.push(new DataPoint(237.5,176.33268720905)),Xe.points.push(new DataPoint(240,178.153302327545)),Xe.points.push(new DataPoint(242.5,180.100497714128)),Xe.points.push(new DataPoint(245,181.831839179449)),Xe.points.push(new DataPoint(247.5,183.611763662664)),Xe.title="Average",Ve.series.push(Xe),Ve}function createExampleAreaSeries(){const Ve=new AreaSeries;return Ve.points.push(new DataPoint(0,50)),Ve.points.push(new DataPoint(10,40)),Ve.points.push(new DataPoint(20,60)),Ve.points2.push(new DataPoint(0,60)),Ve.points2.push(new DataPoint(5,80)),Ve.points2.push(new DataPoint(20,70)),Ve}const category$m="AreaSeries",AreaSeriesExamples={category:category$m,tags:["Series"],examples:[{title:"Default style",example:{model:defaultStyle$2}},{title:"Different stroke colors",example:{model:differentColors$1}},{title:"Crossing lines",example:{model:crossingLines}},{title:"Custom TrackerFormatString",example:{model:trackerFormatString$2}},{title:"Constant baseline (empty Points2)",example:{model:constantBaseline}},{title:"Constant baseline (empty Points2, ConstantY2=NaN)",example:{model:constantBaselineNaN}},{title:"Constant baseline (ItemsSource and DataField2 not set)",example:{model:constantBaselineItemsSource}},{title:"LineSeries and AreaSeries",example:{model:lineSeriesAndAreaSeries}}]};function withLabels(){const Ve=new PlotModel;Ve.title="With labels";const je=(Ke,Ze)=>Ke.value.toString(),ze=new Random(1),qe=[new BarSeries({labelStringFormatter:je,labelPlacement:LabelPlacement.Base,textColor:OxyColors.White,title:"Base"}),new BarSeries({labelStringFormatter:je,labelPlacement:LabelPlacement.Inside,textColor:OxyColors.White,title:"Inside"}),new BarSeries({labelStringFormatter:je,labelPlacement:LabelPlacement.Middle,textColor:OxyColors.White,title:"Middle"}),new BarSeries({labelStringFormatter:je,labelPlacement:LabelPlacement.Outside,title:"Outside"})];for(let Ke=0;Ke<4;Ke++)for(const Ze of qe)Ze.items.push(BarItem.fromValue(ze.next(-100,100)));const Xe=new CategoryAxis;Xe.position=AxisPosition.Left,Xe.labels.push("Category A","Category B","Category C","Category D");const Ye=new LinearAxis;Ye.position=AxisPosition.Bottom,Ye.minimumPadding=.06,Ye.maximumPadding=.06,Ye.extraGridlines=[0];for(const Ke of qe)Ve.series.push(Ke);return Ve.axes.push(Xe),Ve.axes.push(Ye),Ve}function withLabelsAtAnAngle(){const Ve=withLabels();for(const je of Ve.series)je.labelAngle=-45;return Ve}const stackedSeries=()=>createSimpleModel(!0,"Simple stacked model"),multipleValueAxes=()=>{const Ve=new PlotModel({title:"Multiple Value Axes"}),je=new CategoryAxis({position:AxisPosition.Left}),ze=new LinearAxis({title:"Value Axis 1",position:AxisPosition.Bottom,minimumPadding:.06,maximumPadding:.06,extraGridlines:[0],endPosition:.5,key:"x1"}),qe=new LinearAxis({title:"Value Axis 2",position:AxisPosition.Bottom,minimumPadding:.06,maximumPadding:.06,extraGridlines:[0],startPosition:.5,key:"x2"});Ve.axes.push(je,ze,qe);const Xe=[new BarSeries({xAxisKey:"x1"}),new BarSeries({xAxisKey:"x1"}),new BarSeries({xAxisKey:"x2"}),new BarSeries({xAxisKey:"x2"})],Ye=new Random(1);for(const Ke of Xe){for(let Ze=0;Ze<4;Ze++)Ke.items.push(BarItem.fromValue(Ye.next(-100,100)));Ve.series.push(Ke)}return Ve},stackedMultipleValueAxes=()=>{const Ve=multipleValueAxes();Ve.title=`Stacked, ${Ve.title}`;for(const je of Ve.series)je.isStacked=!0;return Ve},multipleCategoryAxes=()=>{const Ve=new PlotModel({title:"Multiple Category Axes"});Ve.legends.push(new Legend({isLegendVisible:!0,legendPosition:LegendPosition.TopLeft,legendPlacement:LegendPlacement.Inside}));const je=new LinearAxis({position:AxisPosition.Bottom,key:"x",extraGridlines:[0]}),ze=new CategoryAxis({title:"Category Axis 1",position:AxisPosition.Left,minimumPadding:.06,maximumPadding:.06,endPosition:.5,key:"y1"}),qe=new CategoryAxis({title:"Category Axis 2",position:AxisPosition.Left,minimumPadding:.06,maximumPadding:.06,startPosition:.5,key:"y2"});Ve.axes.push(je,ze,qe);const Xe=[new BarSeries({yAxisKey:"y1",xAxisKey:"x",renderInLegend:!0,title:"Y1A"}),new BarSeries({yAxisKey:"y1",xAxisKey:"x",renderInLegend:!0,title:"Y1B"}),new BarSeries({yAxisKey:"y2",xAxisKey:"x",renderInLegend:!0,title:"Y2A"}),new BarSeries({yAxisKey:"y2",xAxisKey:"x",renderInLegend:!0,title:"Y2B"})],Ye=new Random;for(const Ke of Xe){for(let Ze=0;Ze<4;Ze++)Ke.items.push(BarItem.fromValue(Ye.next(-100,100)));Ve.series.push(Ke)}return Ve},stackedMultipleCategoryAxes=()=>{const Ve=multipleCategoryAxes();Ve.title=`Stacked, ${Ve.title}`;for(const je of Ve.series)je.isStacked=!0;return Ve},emptySeries=()=>{const Ve=new PlotModel({title:"Empty series"}),je=new BarSeries({title:"Series 1"}),ze=new BarSeries({title:"Series 2"}),qe=new CategoryAxis({position:AxisPosition.Left}),Xe=new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0});return Ve.series.push(je,ze),Ve.axes.push(qe,Xe),Ve},noCategoryAxisDefined=()=>{const Ve=new PlotModel({title:"No category axis defined"}),je=new BarSeries({title:"Series 1",itemsSource:[BarItem.fromValue(25),BarItem.fromValue(137)]}),ze=new BarSeries({title:"Series 2",itemsSource:[BarItem.fromValue(52),BarItem.fromValue(317)]}),qe=new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0});return Ve.series.push(je,ze),Ve.axes.push(qe),Ve},bindingItemsSource=()=>{const Ve=[{label:"Apples",value1:37,value2:12,value3:19},{label:"Pears",value1:7,value2:21,value3:9},{label:"Bananas",value1:23,value2:2,value3:29}],je=new PlotModel({title:"Binding to ItemsSource"}),ze=new Legend({legendPlacement:LegendPlacement.Outside});je.legends.push(ze);const qe=new CategoryAxis({position:AxisPosition.Left,labelField:"label",itemsSource:Ve,majorStep:1,minorStep:1});je.axes.push(qe);const Xe=new LinearAxis({position:AxisPosition.Bottom,absoluteMinimum:0,minimumPadding:0});je.axes.push(Xe);const Ye=new BarSeries({fillColor:OxyColor.fromArgb(255,78,154,6),valueField:"value1",title:"2009",itemsSource:Ve});je.series.push(Ye);const Ke=new BarSeries({fillColor:OxyColor.fromArgb(255,200,141,0),valueField:"value2",title:"2010",itemsSource:Ve});je.series.push(Ke);const Ze=new BarSeries({fillColor:OxyColor.fromArgb(255,204,0,0),valueField:"value3",title:"2011",itemsSource:Ve});return je.series.push(Ze),je},bindingToItemsSourceArray=()=>{const Ve=new PlotModel({title:"Binding to ItemsSource",subtitle:"The items are defined by an array of BarItem/ColumnItem"});return Ve.series.push(new BarSeries({title:"Series 1",itemsSource:[new BarItem({value:25}),new BarItem({value:137})]})),Ve.series.push(new BarSeries({title:"Series 2",itemsSource:[new BarItem({value:52}),new BarItem({value:317})]})),Ve.axes.push(new CategoryAxis({position:AxisPosition.Left})),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0})),Ve},bindingToItemsSourceListT=()=>{const Ve=new PlotModel({title:"Binding to ItemsSource",subtitle:"The items are defined by a List of BarItem/ColumnItem"});return Ve.series.push(new BarSeries({title:"Series 1",itemsSource:[new BarItem({value:25}),new BarItem({value:137})]})),Ve.series.push(new BarSeries({title:"Series 2",itemsSource:[new BarItem({value:52}),new BarItem({value:317})]})),Ve.axes.push(new CategoryAxis({position:AxisPosition.Left})),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0})),Ve},bindingToItemsSourceReflection=()=>{const Ve=new PlotModel({title:"Binding to ItemsSource",subtitle:"Reflect by 'ValueField'"});return Ve.series.push(new BarSeries({title:"Series 1",valueField:"value1",itemsSource:[{value1:25},{value1:137}]})),Ve.series.push(new BarSeries({title:"Series 2",valueField:"value1",itemsSource:[{value1:52},{value1:317}]})),Ve.axes.push(new CategoryAxis({position:AxisPosition.Left})),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0})),Ve},definedByItems=()=>{const Ve=new PlotModel({title:"Defined by Items",subtitle:"The items are added to the `Items` property."}),je=new BarSeries({title:"Series 1"});je.items.push(new BarItem({value:25}),new BarItem({value:137}));const ze=new BarSeries({title:"Series 2"});return ze.items.push(new BarItem({value:52}),new BarItem({value:317})),Ve.series.push(je,ze),Ve.axes.push(new CategoryAxis({position:AxisPosition.Left})),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0})),Ve};function emptyCategoryAxis(){const Ve=new PlotModel({title:"Empty category axis"}),je=new BarSeries({title:"Series 1"});je.items.push(new BarItem({value:25})),je.items.push(new BarItem({value:137})),je.items.push(new BarItem({value:18})),je.items.push(new BarItem({value:40}));const ze=new BarSeries({title:"Series 2"});ze.items.push(new BarItem({value:-12})),ze.items.push(new BarItem({value:-14})),ze.items.push(new BarItem({value:-120})),ze.items.push(new BarItem({value:-26}));const qe=new CategoryAxis({position:AxisPosition.Left}),Xe=new LinearAxis({position:AxisPosition.Bottom,minimumPadding:.06,maximumPadding:.06,extraGridlines:[0],extraGridlineStyle:LineStyle.Solid,extraGridlineColor:OxyColors.Black,extraGridlineThickness:1});return Ve.series.push(je,ze),Ve.axes.push(qe,Xe),Ve}function withNegativeValue(){return createModelWithNegativeValues(!1,"With negative values")}function stackedWithNegativeValue(){return createModelWithNegativeValues(!0,"Stacked with negative values")}function mixedWithLineSeries(){const Ve=createSimpleModel(!1,"Mixed with LineSeries");Ve.title="Mixed with LineSeries";const je=new LineSeries({title:"LineSeries 1"});return je.points.push(new DataPoint(25,0)),je.points.push(new DataPoint(137,1)),je.points.push(new DataPoint(18,2)),je.points.push(new DataPoint(40,3)),Ve.series.push(je),Ve}function noAxes(){const Ve=createSimpleModel(!1,"No axes defined");return Ve.axes.length=0,Ve}function stackedNoAxes(){const Ve=createSimpleModel(!0,"Stacked and no axes defined");return Ve.axes.length=0,Ve}function logAxisBaseValue(){const Ve=new PlotModel({title:"Logarithmic axis"}),je=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Horizontal,legendBorderThickness:0});Ve.legends.push(je);const ze=new BarSeries({title:"Series 1",baseValue:.1,strokeColor:OxyColors.Black,strokeThickness:1});ze.items.push(new BarItem({value:25})),ze.items.push(new BarItem({value:37})),ze.items.push(new BarItem({value:18})),ze.items.push(new BarItem({value:40}));const qe=new CategoryAxis({position:AxisPosition.Left});return qe.labels.push("Category A","Category B","Category C","Category D"),Ve.series.push(ze),Ve.axes.push(qe),Ve.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom,minimum:.1,minimumPadding:0,absoluteMinimum:0})),Ve}function logAxisBaseLine(){const Ve=new PlotModel({title:"Logarithmic axis"}),je=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Horizontal,legendBorderThickness:0});Ve.legends.push(je);const ze=new BarSeries({title:"Series 1",baseLine:.1,strokeColor:OxyColors.Black,strokeThickness:1});ze.items.push(new BarItem({value:25})),ze.items.push(new BarItem({value:37})),ze.items.push(new BarItem({value:18})),ze.items.push(new BarItem({value:40}));const qe=new CategoryAxis({position:AxisPosition.Left});return qe.labels.push("Category A","Category B","Category C","Category D"),Ve.series.push(ze),Ve.axes.push(qe),Ve.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom,minimumPadding:0,absoluteMinimum:0})),Ve}function logAxisNotStacked(){const Ve=new PlotModel({title:"Logarithmic axis"}),je=new Legend({legendPlacement:LegendPlacement.Outside});Ve.legends.push(je);const ze=[{label:"Apples",value1:37,value2:12,value3:19},{label:"Pears",value1:7,value2:21,value3:9},{label:"Bananas",value1:23,value2:2,value3:29}];return Ve.series.push(new BarSeries({title:"2009",itemsSource:ze,valueField:"value1"})),Ve.series.push(new BarSeries({title:"2010",itemsSource:ze,valueField:"value2"})),Ve.series.push(new BarSeries({title:"2011",itemsSource:ze,valueField:"value3"})),Ve.axes.push(new CategoryAxis({position:AxisPosition.Left,itemsSource:ze,labelField:"label"})),Ve.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom,minimum:1})),Ve}function logAxisStacked(){const Ve=logAxisNotStacked();for(const je of Ve.series)je instanceof BarSeries&&(je.isStacked=!0);return Ve}function histogram3(){return createHistogram(1e5,5)}function histogram20(){return createHistogram(1e5,20)}function histogram200(){return createHistogram(1e5,200)}function histogramStandardNormalDistribution(){return createNormalDistributionHistogram(1e5,2e3)}function differentColors(){const Ve=new PlotModel({title:"Different colors within the same series"}),je=new BarSeries({title:"Series 1"});je.items.push(new BarItem({value:1,color:OxyColors.Red})),je.items.push(new BarItem({value:2,color:OxyColors.Green})),je.items.push(new BarItem({value:1,color:OxyColors.Blue}));const ze=new CategoryAxis({title:"Category",position:AxisPosition.Left});return ze.labels.push("A","B","C"),Ve.axes.push(ze),Ve.series.push(je),Ve}function stackingGroups(){const Ve=new PlotModel({title:"Stacking groups"}),je=new BarSeries({title:"Series 1",stackGroup:"1",isStacked:!0});je.items.push(new BarItem({value:1})),je.items.push(new BarItem({value:2})),Ve.series.push(je);const ze=new BarSeries({title:"Series 2",stackGroup:"2",isStacked:!0});ze.items.push(new BarItem({value:2})),ze.items.push(new BarItem({value:1})),Ve.series.push(ze);const qe=new BarSeries({title:"Series 3",stackGroup:"1",isStacked:!0});qe.items.push(new BarItem({value:3})),qe.items.push(new BarItem({value:1})),Ve.series.push(qe);const Xe=new CategoryAxis({title:"Category",position:AxisPosition.Left});return Xe.labels.push("A","B"),Ve.axes.push(Xe),Ve}function differentWidths(){const Ve=new PlotModel({title:"Different widths",subtitle:"Series1=0.6 and Series2=0.3"}),je=new BarSeries({title:"Series 1",barWidth:.6});je.items.push(new BarItem({value:1})),je.items.push(new BarItem({value:2})),Ve.series.push(je);const ze=new BarSeries({title:"Series 2",barWidth:.3});ze.items.push(new BarItem({value:3})),ze.items.push(new BarItem({value:1})),Ve.series.push(ze);const qe=new CategoryAxis({title:"Category",position:AxisPosition.Left});return qe.labels.push("A","B"),Ve.axes.push(qe),Ve}function differentWidthsStacked(){const Ve=new PlotModel({title:"Different widths (stacked)"}),je=new BarSeries({title:"Series 1",isStacked:!0,barWidth:.6});je.items.push(new BarItem({value:1})),je.items.push(new BarItem({value:2})),Ve.series.push(je);const ze=new BarSeries({title:"Series 2",isStacked:!0,barWidth:.3});ze.items.push(new BarItem({value:3})),ze.items.push(new BarItem({value:1})),Ve.series.push(ze);const qe=new CategoryAxis({title:"Category",position:AxisPosition.Left});return qe.labels.push("A","B"),Ve.axes.push(qe),Ve}function invalidValues(){const Ve=new PlotModel({title:"Invalid values",subtitle:"Series 1 contains a NaN value for category B."}),je=new BarSeries({title:"Series 1"});je.items.push(new BarItem({value:1})),je.items.push(new BarItem({value:NaN})),Ve.series.push(je);const ze=new BarSeries({title:"Series 2"});ze.items.push(new BarItem({value:3})),ze.items.push(new BarItem({value:1})),Ve.series.push(ze);const qe=new CategoryAxis({title:"Category",position:AxisPosition.Left});return qe.labels.push("A","B"),Ve.axes.push(qe),Ve}function missingValues(){const Ve=new PlotModel({title:"Missing values",subtitle:"Series 1 contains only one item with CategoryIndex = 1"}),je=new BarSeries({title:"Series 1"});je.items.push(new BarItem({value:1,categoryIndex:1})),Ve.series.push(je);const ze=new BarSeries({title:"Series 2"});ze.items.push(new BarItem({value:3})),ze.items.push(new BarItem({value:1.2})),Ve.series.push(ze);const qe=new CategoryAxis({title:"Category",position:AxisPosition.Left});return qe.labels.push("A","B"),Ve.axes.push(qe),Ve}function categoryIndex(){const Ve=new PlotModel({title:"CategoryIndex",subtitle:"Setting CategoryIndex = 0 for both items in the series."}),je=new BarSeries({title:"Series 1",strokeThickness:1});je.items.push(new BarItem({value:1,categoryIndex:0})),je.items.push(new BarItem({value:2,categoryIndex:0})),Ve.series.push(je);const ze=new CategoryAxis({title:"Category",position:AxisPosition.Left});return ze.labels.push("A","B"),Ve.axes.push(ze),Ve}function categoryIndexStacked(){const Ve=new PlotModel({title:"CategoryIndex (stacked)",subtitle:"Setting CategoryIndex = 0 for both items in the series."}),je=new BarSeries({title:"Series 1",isStacked:!0,strokeThickness:1});je.items.push(new BarItem({value:1,categoryIndex:0})),je.items.push(new BarItem({value:2,categoryIndex:0})),Ve.series.push(je);const ze=new CategoryAxis({title:"Category",position:AxisPosition.Left});return ze.labels.push("A","B"),Ve.axes.push(ze),Ve}function baseValue(){const Ve=new PlotModel({title:"BaseValue",subtitle:"BaseValue = -1"}),je=new BarSeries({title:"Series 1",baseValue:-1});je.items.push(new BarItem({value:1})),je.items.push(new BarItem({value:2})),Ve.series.push(je);const ze=new BarSeries({title:"Series 2",baseValue:-1});ze.items.push(new BarItem({value:4})),ze.items.push(new BarItem({value:7})),Ve.series.push(ze);const qe=new CategoryAxis({title:"Category",position:AxisPosition.Left});return qe.labels.push("A","B"),Ve.axes.push(qe),Ve}function baseValueStacked(){const Ve=new PlotModel({title:"BaseValue (stacked)",subtitle:"BaseValue = -1"}),je=new BarSeries({title:"Series 1",isStacked:!0,baseValue:-1});je.items.push(new BarItem({value:1})),je.items.push(new BarItem({value:2})),Ve.series.push(je);const ze=new BarSeries({title:"Series 2",isStacked:!0,baseValue:-1});ze.items.push(new BarItem({value:4})),ze.items.push(new BarItem({value:7})),Ve.series.push(ze);const qe=new CategoryAxis({title:"Category",position:AxisPosition.Left});return qe.labels.push("A","B"),Ve.axes.push(qe),Ve}function baseValueOverlaping(){const Ve=new PlotModel({title:"BaseValue (overlaping)",subtitle:"BaseValue = -1"}),je=new BarSeries({title:"Series 1",isStacked:!0,overlapsStack:!0,baseValue:-1});je.items.push(new BarItem({value:1})),je.items.push(new BarItem({value:2})),Ve.series.push(je);const ze=new BarSeries({title:"Series 2",isStacked:!0,overlapsStack:!0,baseValue:-1,barWidth:.5});ze.items.push(new BarItem({value:4})),ze.items.push(new BarItem({value:7})),Ve.series.push(ze);const qe=new CategoryAxis({title:"Category",position:AxisPosition.Left});return qe.labels.push("A","B"),Ve.axes.push(qe),Ve}function baseValueLabels(){const Ve=new PlotModel({title:"BaseValue with Labels"});for(const ze of getEnumKeys(LabelPlacement)){const qe=new BarSeries({title:ze.toString(),baseValue:-25,labelPlacement:ze,labelStringFormatter:BarSeriesLabelStringFormatter});qe.items.push(new BarItem({value:-40})),qe.items.push(new BarItem({value:-25})),qe.items.push(new BarItem({value:-10})),qe.items.push(new BarItem({value:0})),qe.items.push(new BarItem({value:10})),Ve.series.push(qe)}const je=new CategoryAxis({title:"Category",position:AxisPosition.Left,startPosition:1,endPosition:0});return je.labels.push("A","B","C","D","E"),Ve.axes.push(je),Ve.legends.push(new Legend),Ve}function stackedLabels(){const Ve=new PlotModel({title:"Stacked with Labels"});let je=0;for(const ze of getEnumKeys(LabelPlacement)){const qe=new CategoryAxis({title:"Category",position:AxisPosition.Left,startPosition:1-je*.25,endPosition:.75-je*.25,key:`C${je}`}),Xe=new BarSeries({title:ze.toString(),labelPlacement:ze,labelStringFormatter:BarSeriesLabelStringFormatter,isStacked:!0,yAxisKey:qe.key});Xe.items.push(new BarItem({value:5})),Xe.items.push(new BarItem({value:10})),Xe.items.push(new BarItem({value:15})),Ve.series.push(Xe);const Ye=new BarSeries({title:ze.toString(),labelPlacement:ze,labelStringFormatter:BarSeriesLabelStringFormatter,isStacked:!0,yAxisKey:qe.key});Ye.items.push(new BarItem({value:15})),Ye.items.push(new BarItem({value:10})),Ye.items.push(new BarItem({value:5})),Ve.series.push(Ye),qe.labels.push("A","B","C"),Ve.axes.push(qe),je++}return Ve.legends.push(new Legend),Ve}function gapWidth0(){return createGapWidthModel(0,"GapWidth 0%")}function gapWidth100(){return createGapWidthModel(1,"GapWidth 100% (default)")}function gapWidth200(){return createGapWidthModel(2,"GapWidth 200%")}function allInOne(){const Ve=new PlotModel({title:"All in one"}),je=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Horizontal,legendBorderThickness:0});Ve.legends.push(je);const ze=new CategoryAxis({position:AxisPosition.Left,gapWidth:.01});ze.labels.push("Category A","Category B","Category C","Category D"),Ve.axes.push(ze);const qe=new LinearAxis({position:AxisPosition.Bottom,minimumPadding:.06,maximumPadding:.06,extraGridlines:[0],extraGridlineStyle:LineStyle.Solid,extraGridlineColor:OxyColors.Black,extraGridlineThickness:1});Ve.axes.push(qe);const Xe=0,Ye=1,Ke=2,Ze=3,Qe=new BarSeries({title:"Series 1",isStacked:!0,strokeColor:OxyColors.Black,strokeThickness:1,stackGroup:"3"});Qe.items.push(new BarItem({value:25}),new BarItem({value:137}),new BarItem({value:18}),new BarItem({value:40})),Ve.series.push(Qe);const Je=new BarSeries({title:"Series 2",isStacked:!0,strokeColor:OxyColors.Black,strokeThickness:1,stackGroup:"3"});Je.items.push(new BarItem({value:-12}),new BarItem({value:-14}),new BarItem({value:-120}),new BarItem({value:-26})),Ve.series.push(Je);const St=new BarSeries({title:"Series 3",isStacked:!0,strokeColor:OxyColors.Black,strokeThickness:1,stackGroup:"5",isVisible:!1});St.items.push(new BarItem({value:21}),new BarItem({value:8}),new BarItem({value:48}),new BarItem({value:3})),Ve.series.push(St);const ei=new BarSeries({title:"Series 4",isStacked:!0,strokeColor:OxyColors.Black,strokeThickness:1,stackGroup:"5",labelStringFormatter:BarSeriesLabelStringFormatter,labelPlacement:LabelPlacement.Middle});ei.items.push(new BarItem({value:-8,categoryIndex:Xe}),new BarItem({value:-8,categoryIndex:Xe}),new BarItem({value:-8,categoryIndex:Xe}),new BarItem({value:-21,categoryIndex:Ye}),new BarItem({value:-3,categoryIndex:Ke}),new BarItem({value:-48,categoryIndex:Ze}),new BarItem({value:8,categoryIndex:Xe}),new BarItem({value:21,categoryIndex:Ye}),new BarItem({value:3,categoryIndex:Ke}),new BarItem({value:48,categoryIndex:Ze})),Ve.series.push(ei);const ti=new BarSeries({title:"Series 5",isStacked:!1,strokeColor:OxyColors.Black,strokeThickness:1});ti.items.push(new BarItem({value:17,categoryIndex:Xe}),new BarItem({value:179,categoryIndex:Ye}),new BarItem({value:45,categoryIndex:Ke}),new BarItem({value:65,categoryIndex:Ze}),new BarItem({value:97,categoryIndex:Xe}),new BarItem({value:21,categoryIndex:Ze})),Ve.series.push(ti);const ii=new BarSeries({title:"Series 6",isStacked:!1,strokeColor:OxyColors.Black,strokeThickness:1,labelStringFormatter:BarSeriesLabelStringFormatter,labelPlacement:LabelPlacement.Base});ii.items.push(new BarItem({value:7}),new BarItem({value:54}),new BarItem({value:68}),new BarItem({value:12})),Ve.series.push(ii);const ri=new BarSeries({title:"Series 7",isStacked:!0,overlapsStack:!0,strokeColor:OxyColors.Black,strokeThickness:1,labelStringFormatter:BarSeriesLabelStringFormatter,labelPlacement:LabelPlacement.Base,stackGroup:"3",barWidth:.5});return ri.items.push(new BarItem({value:10}),new BarItem({value:80}),new BarItem({value:100,categoryIndex:Ze})),Ve.series.push(ri),Ve}const BarSeriesLabelStringFormatter=Ve=>Ve.value.toString();function createGapWidthModel(Ve,je){const ze=createSimpleModel(!1,je);return ze.axes[0].gapWidth=Ve,ze}function createSimpleModel(Ve,je){const ze=new PlotModel({title:je}),qe=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Horizontal,legendBorderThickness:0});ze.legends.push(qe);const Xe=new BarSeries({title:"Series 1",isStacked:Ve,strokeColor:OxyColors.Black,strokeThickness:1});Xe.items.push(BarItem.fromValue(25)),Xe.items.push(BarItem.fromValue(137)),Xe.items.push(BarItem.fromValue(18)),Xe.items.push(BarItem.fromValue(40));const Ye=new BarSeries({title:"Series 2",isStacked:Ve,strokeColor:OxyColors.Black,strokeThickness:1});Ye.items.push(BarItem.fromValue(12)),Ye.items.push(BarItem.fromValue(14)),Ye.items.push(BarItem.fromValue(120)),Ye.items.push(BarItem.fromValue(26));const Ke=new CategoryAxis({position:AxisPosition.Left});Ke.labels.push("Category A","Category B","Category C","Category D");const Ze=new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0,maximumPadding:.06,absoluteMinimum:0});return ze.series.push(Xe,Ye),ze.axes.push(Ke,Ze),ze}function createModelWithNegativeValues(Ve,je){const ze=new PlotModel({title:je}),qe=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Horizontal,legendBorderThickness:0});ze.legends.push(qe);const Xe=new BarSeries({title:"Series 1",isStacked:Ve,strokeColor:OxyColors.Black,strokeThickness:1});Xe.items.push(BarItem.fromValue(25)),Xe.items.push(BarItem.fromValue(137)),Xe.items.push(BarItem.fromValue(18)),Xe.items.push(BarItem.fromValue(40));const Ye=new BarSeries({title:"Series 2",isStacked:Ve,strokeColor:OxyColors.Black,strokeThickness:1});Ye.items.push(BarItem.fromValue(-12)),Ye.items.push(BarItem.fromValue(-14)),Ye.items.push(BarItem.fromValue(-120)),Ye.items.push(BarItem.fromValue(-26));const Ke=new BarSeries({title:"Series 3",isStacked:Ve,strokeColor:OxyColors.Black,strokeThickness:1});Ke.items.push(BarItem.fromValue(21)),Ke.items.push(BarItem.fromValue(8)),Ke.items.push(BarItem.fromValue(48)),Ke.items.push(BarItem.fromValue(3));const Ze=new BarSeries({title:"Series 4",isStacked:Ve,strokeColor:OxyColors.Black,strokeThickness:1});Ze.items.push(BarItem.fromValue(-8)),Ze.items.push(BarItem.fromValue(-21)),Ze.items.push(BarItem.fromValue(-3)),Ze.items.push(BarItem.fromValue(-48));const Qe=new CategoryAxis({position:AxisPosition.Left});Qe.labels.push("Category A","Category B","Category C","Category D");const Je=new LinearAxis({position:AxisPosition.Bottom,minimumPadding:.06,maximumPadding:.06,extraGridlines:[0],extraGridlineStyle:LineStyle.Solid,extraGridlineColor:OxyColors.Black,extraGridlineThickness:1});return ze.series.push(Xe,Ye,Ke,Ze),ze.axes.push(Qe,Je),ze}function createHistogram(Ve,je){const ze=[];for(let Ke=0;Ke<je;Ke++)ze.push({label:Ke.toString(),value:0});const qe=new Random;for(let Ke=0;Ke<Ve;Ke++){const Ze=qe.next(0,je-1);ze[Ze].value++}const Xe=new PlotModel;Xe.title=`Histogram (bins=${je}, n=${Ve})`,Xe.subtitle="Pseudorandom numbers";const Ye=new BarSeries;return Ye.itemsSource=ze,Ye.valueField="value",je<100&&(Ye.labelStringFormatter=(Ke,Ze)=>Ze[0].toString()),Xe.series.push(Ye),Xe.axes.push(new CategoryAxis({position:AxisPosition.Left,itemsSource:ze,labelField:"label",gapWidth:0})),Xe.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0,maximumPadding:.1,absoluteMinimum:0})),Xe}function createNormalDistributionHistogram(Ve,je){const ze=[];for(let Je=0;Je<je;Je++){const St=-10+20*Je/(ze.length-1);ze.push({label:St.toFixed(1),value:0})}const Ye=new Random(31);for(let Je=0;Je<Ve;Je++){const St=Ye.next(),ei=Ye.next(),ti=Math.sqrt(-2*Math.log(St))*Math.cos(2*Math.PI*ei),ii=Math.round((ti- -10)/20*(ze.length-1));ii>=0&&ii<ze.length&&ze[ii].value++}const Ke=new PlotModel;Ke.title=`Histogram (bins=${je}, n=${Ve})`,Ke.subtitle="Standard normal distribution by Box-Muller transform";const Ze=new BarSeries;Ze.itemsSource=ze,Ze.valueField="value",Ke.series.push(Ze);const Qe=new CategoryAxis({position:AxisPosition.Left,gapWidth:0});return Qe.labels.push(...ze.map(Je=>Je.label)),Qe.isAxisVisible=!1,Ke.axes.push(Qe),Ke.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10})),Ke.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0,absoluteMinimum:0})),Ke}const category$l="BarSeries",BarSeriesExamples={category:category$l,tags:["Series"],examples:[{title:"With labels",example:{model:withLabels}},{title:"With labels (at an angle)",example:{model:withLabelsAtAnAngle}},{title:"Stacked",example:{model:stackedSeries}},{title:"Multiple Value Axes",example:{model:multipleValueAxes}},{title:"Stacked, Multiple Value Axes",example:{model:stackedMultipleValueAxes}},{title:"Multiple Category Axes",example:{model:multipleCategoryAxes}},{title:"Stacked, Multiple Category Axes",example:{model:stackedMultipleCategoryAxes}},{title:"Empty series",example:{model:emptySeries}},{title:"No category axis defined",example:{model:noCategoryAxisDefined}},{title:"Binding to ItemsSource",example:{model:bindingItemsSource}},{title:"Binding to ItemsSource (array)",example:{model:bindingToItemsSourceArray}},{title:"Binding to ItemsSource (list)",example:{model:bindingToItemsSourceListT}},{title:"Binding to ItemsSource (reflection)",example:{model:bindingToItemsSourceReflection}},{title:"Defined by Items",example:{model:definedByItems}},{title:"Empty category axis",example:{model:emptyCategoryAxis}},{title:"With negative values",example:{model:withNegativeValue}},{title:"Stacked with negative values",example:{model:stackedWithNegativeValue}},{title:"Mixed with LineSeries",example:{model:mixedWithLineSeries}},{title:"No axes defined",example:{model:noAxes}},{title:"Stacked and no axes defined",example:{model:stackedNoAxes}},{title:"Logarithmic axis (Base Value)",example:{model:logAxisBaseValue}},{title:"Logarithmic axis (Base Line)",example:{model:logAxisBaseLine}},{title:"Logarithmic axis (not stacked)",example:{model:logAxisNotStacked}},{title:"Logarithmic axis (stacked series)",example:{model:logAxisStacked}},{title:"Histogram (bins=5)",example:{model:histogram3}},{title:"Histogram (bins=20)",example:{model:histogram20}},{title:"Histogram (bins=200)",example:{model:histogram200}},{title:"Histogram (standard normal distribution)",example:{model:histogramStandardNormalDistribution}},{title:"Different colors within the same series",example:{model:differentColors}},{title:"Different stacking groups",example:{model:stackingGroups}},{title:"Different widths",example:{model:differentWidths}},{title:"Different widths (stacked)",example:{model:differentWidthsStacked}},{title:"Invalid values",example:{model:invalidValues}},{title:"Missing values",example:{model:missingValues}},{title:"CategoryIndex",example:{model:categoryIndex}},{title:"CategoryIndex (stacked)",example:{model:categoryIndexStacked}},{title:"BaseValue",example:{model:baseValue}},{title:"BaseValue (stacked)",example:{model:baseValueStacked}},{title:"BaseValue (overlaping)",example:{model:baseValueOverlaping}},{title:"BaseValue (labels)",example:{model:baseValueLabels}},{title:"Stacked (labels)",example:{model:stackedLabels}},{title:"GapWidth 0%",example:{model:gapWidth0}},{title:"GapWidth 100% (default)",example:{model:gapWidth100}},{title:"GapWidth 200%",example:{model:gapWidth200}},{title:"All in one",example:{model:allInOne}}]};function boxPlot(){const je=new PlotModel({title:"BoxPlot (n=10)"}),ze=new Legend({legendPlacement:LegendPlacement.Outside});je.legends.push(ze);const qe=new BoxPlotSeries({title:"BoxPlotSeries",boxWidth:.3}),Xe=new Random(31);for(let Ye=0;Ye<10;Ye++){const Ke=Ye,Ze=5+Xe.next(15),Qe=[];for(let ni=0;ni<Ze;ni++)Qe.push(Xe.next(0,20));Qe.sort();const Je=getMedian(Qe),St=Qe.reduce((ni,ci)=>ni+ci,0)/Qe.length,ei=Qe.length%2,ti=getMedian(Qe.slice(0,(Qe.length+ei)/2)),ii=getMedian(Qe.slice((Qe.length-ei)/2)),si=(ii-ti)*1.5;let ui=ii+si;ui=maxValueOfArray(Qe.filter(ni=>ni<=ui));let ai=ti-si;ai=minValueOfArray(Qe.filter(ni=>ni>=ai));const oi=[ui+Xe.next(1,10),ai-Xe.next(1,10)];qe.items.push({x:Ke,lowerWhisker:ai,boxBottom:ti,median:Je,boxTop:ii,upperWhisker:ui,mean:St,outliers:oi})}return je.series.push(qe),je.axes.push(new LinearAxis({position:AxisPosition.Left})),je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:.1,maximumPadding:.1})),je}function getMedian(Ve){const je=[...Ve].sort((qe,Xe)=>qe-Xe),ze=je.length;return ze%2===1?je[(ze-1)/2]:.5*je[ze/2]+.5*je[ze/2-1]}function boxPlot2(){const Ve=boxPlot(),je=Ve.series[0];return je.showMedianAsDot=!0,je.outlierType=MarkerType.Cross,je.fill=OxyColors.Black,je.showBox=!1,je.whiskerWidth=0,Ve}function boxPlot3(){const Ve=boxPlot(),je=Ve.series[0];return je.lineStyle=LineStyle.Dash,Ve}function outlierTypeCross(){const Ve=boxPlot(),je=Ve.series[0];return je.outlierType=MarkerType.Cross,Ve}function outlierTypeCustom(){const Ve=boxPlot(),je=Ve.series[0];return je.outlierType=MarkerType.Custom,je.outlierOutline=[new ScreenPoint(-1,-1),new ScreenPoint(1,1),new ScreenPoint(-1,1),new ScreenPoint(1,-1)],Ve}function michelsonMorleyExperiment(){const Ve=new PlotModel,je=new BoxPlotSeries({title:"Results",stroke:OxyColors.Black,strokeThickness:1,outlierSize:2,boxWidth:.4,items:[]});je.items.push({x:0,lowerWhisker:740,boxBottom:850,median:945,boxTop:980,upperWhisker:1070,outliers:[650]}),je.items.push({x:1,lowerWhisker:750,boxBottom:805,median:845,boxTop:890,upperWhisker:970,outliers:[]}),je.items.push({x:2,lowerWhisker:845,boxBottom:847,median:855,boxTop:880,upperWhisker:910,outliers:[640,950,970]}),je.items.push({x:3,lowerWhisker:720,boxBottom:760,median:820,boxTop:870,upperWhisker:910,outliers:[]}),je.items.push({x:4,lowerWhisker:730,boxBottom:805,median:807,boxTop:870,upperWhisker:950,outliers:[]}),Ve.series.push(je),Ve.annotations.push(new LineAnnotation({type:LineAnnotationType.Horizontal,lineStyle:LineStyle.Solid,y:792.458,text:"true speed"}));const ze=new CategoryAxis({title:"Experiment No."});return ze.labels.push("1","2","3","4","5"),Ve.axes.push(ze),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Speed of light (km/s minus 299,000)",majorStep:100,minorStep:100})),Ve}function boxPlotSeries_DateTimeAxis(){const Ve=getDateService(),je=new PlotModel,ze=DateTimeAxis.toDouble(new Date(2013,5,4));je.axes.push(new DateTimeAxis({position:AxisPosition.Bottom,minimum:ze-.9,maximum:ze+1.9,intervalType:DateTimeIntervalType.Days,majorStep:1,minorStep:1,stringFormatter:Xe=>Ve.format(Xe,"YYYY-MM-DD")}));const qe=new BoxPlotSeries({trackerStringFormatter:Xe=>`X: ${Ve.format(Xe.xValue,"YYYY-MM-DD")}
Upper Whisker: ${Xe.upperWhisker.toFixed(2)}
Third Quartil: ${Xe.boxTop.toFixed(2)}
Median: ${Xe.median.toFixed(2)}
First Quartil: ${Xe.boxBottom.toFixed(2)}
Lower Whisker: ${Xe.lowerWhisker.toFixed(2)}
Mean: ${Xe.mean.toFixed(2)}`,items:[]});return qe.items.push({x:ze,lowerWhisker:10,boxBottom:14,median:16,boxTop:20,upperWhisker:22,mean:17,outliers:[23.5]}),qe.items.push({x:ze+1,lowerWhisker:11,boxBottom:13,median:14,boxTop:15,upperWhisker:18,outliers:[23.4]}),je.series.push(qe),je}const category$k="BoxPlotSeries",BoxPlotSeriesExamples={category:category$k,tags:["Series"],examples:[{title:"BoxPlot",example:{model:boxPlot}},{title:"BoxPlot (minimal data/ink ratio)",example:{model:boxPlot2}},{title:"BoxPlot (dashed line)",example:{model:boxPlot3}},{title:"Outlier type = Cross",example:{model:outlierTypeCross}},{title:"Outlier type = Custom",example:{model:outlierTypeCustom}},{title:"Michelson-Morley experiment",example:{model:michelsonMorleyExperiment}},{title:"BoxPlot (DateTime axis)",example:{model:boxPlotSeries_DateTimeAxis}}]},peaks=(Ve,je)=>3*(1-Ve)*(1-Ve)*Math.exp(-(Ve*Ve)-(je+1)*(je+1))-10*(Ve/5-Ve*Ve*Ve-je*je*je*je*je)*Math.exp(-Ve*Ve-je*je)-1/3*Math.exp(-(Ve+1)*(Ve+1)-je*je),openContours=(Ve,je)=>Ve*Ve/(je*je+1)+je*je/(Ve*Ve+1),createVector=(Ve,je,ze)=>ArrayBuilder.createVectorWithStep(Ve,je,ze);function peaksModel(){const Ve=new PlotModel({title:"Peaks"}),je=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3.1,3.1,.05)});return je.data=ArrayBuilder.evaluate(peaks,je.columnCoordinates,je.rowCoordinates),Ve.subtitle=`${je.data.length}${je.data[0].length}`,Ve.series.push(je),Ve}function peaksLabelStep1LevelStepPI2(){const Ve=new PlotModel({title:"Peaks LabelStep = 1, ContourLevelStep = PI/2"}),je=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3.1,3.1,.05),contourLevelStep:Math.PI/2,labelStep:1});return je.data=ArrayBuilder.evaluate(peaks,je.columnCoordinates,je.rowCoordinates),Ve.subtitle=`${je.data.length}${je.data[0].length}`,Ve.series.push(je),Ve}function peaksLabelStep2(){const Ve=new PlotModel({title:"Peaks LabelStep = 2, ContourLevelStep = 0.5"}),je=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3.1,3.1,.05),contourLevelStep:.5,labelStep:2});return je.data=ArrayBuilder.evaluate(peaks,je.columnCoordinates,je.rowCoordinates),Ve.subtitle=`${je.data.length}${je.data[0].length}`,Ve.series.push(je),Ve}function peaksLabelStep2LevelStep033(){const Ve=new PlotModel({title:"Peaks LabelStep = 2, ContourLevelStep = 0.33"}),je=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3.1,3.1,.05),contourLevelStep:.33,labelStep:2});return je.data=ArrayBuilder.evaluate(peaks,je.columnCoordinates,je.rowCoordinates),Ve.subtitle=`${je.data.length}${je.data[0].length}`,Ve.series.push(je),Ve}function peaksLabelStep3(){const Ve=new PlotModel({title:"Peaks LabelStep = 3, ContourLevelStep = 1"}),je=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3.1,3.1,.05),labelStep:3});return je.data=ArrayBuilder.evaluate(peaks,je.columnCoordinates,je.rowCoordinates),Ve.subtitle=`${je.data.length}${je.data[0].length}`,Ve.series.push(je),Ve}function peaksMultiLabel(){const Ve=new PlotModel({title:"Peaks MultiLabel"}),je=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3.1,3.1,.05),multiLabel:!0});return je.data=ArrayBuilder.evaluate(peaks,je.columnCoordinates,je.rowCoordinates),Ve.subtitle=`${je.data.length}${je.data[0].length}`,Ve.series.push(je),Ve}function peaksLabelSpacing400(){const Ve=new PlotModel({title:"Peaks LabelSpacing = 400"}),je=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3.1,3.1,.05),multiLabel:!0,labelSpacing:400});return je.data=ArrayBuilder.evaluate(peaks,je.columnCoordinates,je.rowCoordinates),Ve.subtitle=`${je.data.length}${je.data[0].length}`,Ve.series.push(je),Ve}function peaksWithColors(){const Ve=new PlotModel({title:"Peaks"}),je=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3.1,3.1,.05),contourColors:[OxyColors.SeaGreen,OxyColors.RoyalBlue,OxyColors.IndianRed]});return je.data=ArrayBuilder.evaluate(peaks,je.columnCoordinates,je.rowCoordinates),Ve.subtitle=`${je.data.length}${je.data[0].length}`,Ve.series.push(je),Ve}function wideArrayPeaks(){const Ve=new PlotModel({title:"Peaks"});Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-3.16262,maximum:3.162}));const je=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-1,1,.05)});return je.data=ArrayBuilder.evaluate(peaks,je.columnCoordinates,je.rowCoordinates),Ve.subtitle=`${je.data.length}${je.data[0].length}`,Ve.series.push(je),Ve}function openContoursModel(){const Ve=new PlotModel,je=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3,3,.05)});return je.data=ArrayBuilder.evaluate(openContours,je.columnCoordinates,je.rowCoordinates),Ve.series.push(je),Ve}function logPeaks(){const Ve=(Xe,Ye)=>peaks(Math.log(Xe)/10,Math.log(Ye)/10),je=new PlotModel,ze=createVector(-3,3,.05);for(let Xe=0;Xe<ze.length;Xe++)ze[Xe]=Math.exp(ze[Xe]*10);const qe=new ContourSeries({columnCoordinates:ze,rowCoordinates:ze});return qe.data=ArrayBuilder.evaluate(Ve,qe.columnCoordinates,qe.rowCoordinates),je.series.push(qe),je.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom})),je.axes.push(new LogarithmicAxis({position:AxisPosition.Left})),je}const category$j="ContourSeries",ContourSeriesExamples={category:category$j,tags:["Series"],examples:[{title:"Peaks",example:{model:peaksModel}},{title:"Peaks LabelStep = 1, ContourLevelStep = PI/2",example:{model:peaksLabelStep1LevelStepPI2}},{title:"Peaks LabelStep = 2, ContourLevelStep = 0.5",example:{model:peaksLabelStep2}},{title:"Peaks LabelStep = 2, ContourLevelStep = 0.33",example:{model:peaksLabelStep2LevelStep033}},{title:"Peaks LabelStep = 3, ContourLevelStep = 1",example:{model:peaksLabelStep3}},{title:"Peaks MultiLabel",example:{model:peaksMultiLabel}},{title:"Peaks LabelSpacing = 400",example:{model:peaksLabelSpacing400}},{title:"Peaks (different contour colors)",example:{model:peaksWithColors}},{title:"Peaks (wide array)",example:{model:wideArrayPeaks}},{title:"Open Contours",example:{model:openContoursModel}},{title:"Logarithmic Peaks",example:{model:logPeaks}}]};function getErrorBarSeries(){const Ve=new PlotModel({title:"ErrorBarSeries"}),je=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Horizontal,legendBorderThickness:0});Ve.legends.push(je);const ze=new ErrorBarSeries({title:"Series 1",isStacked:!1,strokeColor:OxyColors.Black,strokeThickness:1});ze.items.push(new ErrorBarItem({value:25,error:2})),ze.items.push(new ErrorBarItem({value:137,error:25})),ze.items.push(new ErrorBarItem({value:18,error:4})),ze.items.push(new ErrorBarItem({value:40,error:29}));const qe=new ErrorBarSeries({title:"Series 2",isStacked:!1,strokeColor:OxyColors.Black,strokeThickness:1});qe.items.push(new ErrorBarItem({value:35,error:20})),qe.items.push(new ErrorBarItem({value:17,error:7})),qe.items.push(new ErrorBarItem({value:118,error:44})),qe.items.push(new ErrorBarItem({value:49,error:29}));const Xe=new CategoryAxis({position:AxisPosition.Left});Xe.labels.push("Category A"),Xe.labels.push("Category B"),Xe.labels.push("Category C"),Xe.labels.push("Category D");const Ye=new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0,maximumPadding:.06,absoluteMinimum:0});return Ve.series.push(ze),Ve.series.push(qe),Ve.axes.push(Xe),Ve.axes.push(Ye),Ve}function getErrorBarSeriesThickErrorLines(){const Ve=getErrorBarSeries();for(const je of Ve.series)je instanceof ErrorBarSeries&&(je.errorWidth=0,je.errorStrokeThickness=4);return Ve}const category$i="ErrorBarSeries",ErrorBarSeriesExamples={category:category$i,tags:["Series"],examples:[{title:"ErrorBarSeries",example:{model:getErrorBarSeries}},{title:"ErrorBarSeries (thick error lines)",example:{model:getErrorBarSeriesThickErrorLines}}]};function extrapolatedLineSeries(){const Ve=new PlotModel({title:"Line Fit"}),je=new ScatterSeries({title:"Data"});je.points.push({x:3,y:1.4}),je.points.push({x:4,y:1.3}),je.points.push({x:5,y:1.6}),je.points.push({x:6,y:2.3}),je.points.push({x:7,y:2.2}),je.points.push({x:8,y:2.5}),je.points.push({x:9,y:2.9}),je.points.push({x:10,y:3.1}),je.points.push({x:11,y:3.1}),je.points.push({x:12,y:3.8}),Ve.series.push(je);const{slope:ze,intercept:qe}=calculateLinearRegressionParameters(je.points),Xe=new ExtrapolationLineSeries({title:"Fit",color:OxyColors.Black,lineStyle:LineStyle.Solid,extrapolationColor:OxyColors.DarkGray,extrapolationLineStyle:LineStyle.Dash,strokeThickness:3,ignoreExtraplotationForScaling:!0});Xe.intervals.push(new DataRange(Number.NEGATIVE_INFINITY,minValueOfArray(je.points.map(Ze=>Ze.x)))),Xe.intervals.push(new DataRange(maxValueOfArray(je.points.map(Ze=>Ze.x)),Number.POSITIVE_INFINITY));const Ye=Array.from({length:200},(Ze,Qe)=>Qe-100).map(Ze=>new DataPoint(Ze,ze*Ze+qe));Xe.points.push(...Ye),Ve.series.push(Xe);const Ke=new Legend({legendPosition:LegendPosition.BottomRight});return Ve.legends.push(Ke),Ve}function interpolationStyleLineSeries(){const Ve=new PlotModel({title:"Interpolation"}),je=new ExtrapolationLineSeries({title:"Third Order Polynomial",color:OxyColors.Black,lineStyle:LineStyle.Dash,extrapolationColor:OxyColors.Gray,extrapolationLineStyle:LineStyle.Dot,strokeThickness:3});je.intervals.push(new DataRange(Number.NEGATIVE_INFINITY,-15)),je.intervals.push(new DataRange(10,30)),je.intervals.push(new DataRange(55,Number.POSITIVE_INFINITY));const ze=[.1,-6,-12,0],qe=(Ke,Ze)=>Ze.reduce((Qe,Je)=>Qe*Ke+Je,0),Xe=Array.from({length:100},(Ke,Ze)=>Ze-30).map(Ke=>new DataPoint(Ke,qe(Ke,ze)));je.points.push(...Xe),Ve.series.push(je);const Ye=new Legend({legendPosition:LegendPosition.TopCenter});return Ve.legends.push(Ye),Ve}function twoColorLineSeriesReversed$2(){return PlotModelUtilities.reverseYAxis(interpolationStyleLineSeries())}function intersectingIntervals(){const Ve=new PlotModel({title:"Intersecting Intervals"}),je=new DataRange(-20,20),ze=new DataRange(0,30),qe=new DataRange(10,40),Xe=new ExtrapolationLineSeries({title:`Overlapping intervals ${je}, ${ze}, ${qe}`,color:OxyColors.Black,lineStyle:LineStyle.Solid,extrapolationColor:OxyColors.Gray,extrapolationLineStyle:LineStyle.Dot,strokeThickness:3});Xe.intervals.push(je,ze,qe);const Ye=[.1,-6,-12,0],Ke=(Je,St)=>St.reduce((ei,ti)=>ei*Je+ti,0),Ze=Array.from({length:100},(Je,St)=>St-30).map(Je=>new DataPoint(Je,Ke(Je,Ye)));Xe.points.push(...Ze),Ve.series.push(Xe);const Qe=new Legend({legendPosition:LegendPosition.TopCenter});return Ve.legends.push(Qe),Ve}function customDashes(){const Ve=new PlotModel({title:"Custom Dashes"}),je=new ExtrapolationLineSeries({title:"y = 5",color:OxyColors.Black,lineStyle:LineStyle.Dash,dashes:[5,1],extrapolationColor:OxyColors.Gray,extrapolationLineStyle:LineStyle.Dot,extrapolationDashes:[1,5],strokeThickness:3});je.intervals.push(new DataRange(Number.NEGATIVE_INFINITY,0));const ze=Array.from({length:200},(Xe,Ye)=>Ye-100).map(Xe=>new DataPoint(Xe,5));je.points.push(...ze),Ve.series.push(je);const qe=new Legend({legendPosition:LegendPosition.TopCenter});return Ve.legends.push(qe),Ve}function manyIntervals(){const Ve=new PlotModel({title:"ManyIntervals"}),je=new ExtrapolationLineSeries({title:"y = x",color:OxyColors.Red,lineStyle:LineStyle.Solid,extrapolationLineStyle:LineStyle.Solid,strokeThickness:3,ignoreExtraplotationForScaling:!0});je.intervals.push(new DataRange(-1e3,1e4)),Array.from({length:98},(Ye,Ke)=>new DataRange(1e3*Ke,1e3*Ke+500)).forEach(Ye=>je.intervals.push(Ye)),je.intervals.push(new DataRange(2e5,Number.POSITIVE_INFINITY));const qe=Array.from({length:1e5},(Ye,Ke)=>new DataPoint(Ke,Ke));je.points.push(...qe),Ve.series.push(je);const Xe=new Legend({legendPosition:LegendPosition.TopCenter});return Ve.legends.push(Xe),Ve}function mooresLaw(){const Ve=new PlotModel({title:"Moore's Law"}),je=new ScatterSeries({title:"Data"});je.points.push(...getPointForMooresLaw()),Ve.series.push(je),Ve.axes.push(new LinearAxis({title:"Year",position:AxisPosition.Bottom})),Ve.axes.push(new LogarithmicAxis({title:"Transistors (in thousands)",position:AxisPosition.Left}));const{slope:ze,intercept:qe}=calculateLinearRegressionParameters(je.points.map(Ze=>({x:Ze.x,y:Math.log10(Ze.y)}))),Xe=new ExtrapolationLineSeries({title:"Fit and Extrapolation",color:OxyColors.Black,lineStyle:LineStyle.Solid,extrapolationColor:OxyColors.Blue,extrapolationLineStyle:LineStyle.Dot,strokeThickness:3});Xe.intervals.push(new DataRange(2015,Number.POSITIVE_INFINITY));const Ye=Array.from({length:55},(Ze,Qe)=>Qe+1970).map(Ze=>new DataPoint(Ze,Math.pow(10,ze*Ze+qe)));Xe.points.push(...Ye),Ve.series.push(Xe);const Ke=new Legend({legendPosition:LegendPosition.TopCenter});return Ve.legends.push(Ke),Ve}function calculateLinearRegressionParameters(Ve){if(Ve===void 0)throw new Error("points is undefined");if(Ve.length<2)throw new Error("at least two points required");const je=Ve.reduce((Ze,Qe)=>Ze+Qe.x,0)/Ve.length,ze=Ve.reduce((Ze,Qe)=>Ze+Qe.y,0)/Ve.length,qe=covariance(Ve,je,ze),Xe=variance2(Ve.map(Ze=>Ze.x)),Ye=qe/Xe,Ke=ze-Ye*je;return{slope:Ye,intercept:Ke}}function covariance(Ve,je,ze){let qe=Ve.reduce((Xe,Ye)=>Xe+Ye.x*Ye.y,0);return qe-=Ve.length*je*ze,qe/=Ve.length-1,qe}function variance2(Ve){const je=Ve.reduce((qe,Xe)=>qe+Xe,0)/Ve.length;let ze=Ve.reduce((qe,Xe)=>qe+Xe*Xe,0);return ze-=Ve.length*je*je,ze/=Ve.length-1,ze}function getPointForMooresLaw(){return[{x:1971.875,y:2.30824152676},{x:1972.30769231,y:3.55452235561},{x:1974.32692308,y:6.09756235221},{x:1979.56730769,y:29.1637757405},{x:1982.30769231,y:135.772714211},{x:1985.91346154,y:273.841963426},{x:1986.25,y:109.411381058},{x:1988.65384615,y:121.881418484},{x:1989.47115385,y:1207.90074743},{x:1990.57692308,y:1207.90074743},{x:1992.40384615,y:1207.90074743},{x:1992.69230769,y:3105.90022362},{x:1992.69230769,y:1113.97385999},{x:1993.02884615,y:1715.43789634},{x:1993.41346154,y:3105.90022362},{x:1993.41346154,y:922.239565104},{x:1994.71153846,y:1910.95297497},{x:1994.71153846,y:2788.12666541},{x:1995.43269231,y:9646.61619911},{x:1995.72115385,y:3105.90022362},{x:1996.15384615,y:5473.70326288},{x:1996.34615385,y:6792.52507006},{x:1996.34615385,y:3651.74127255},{x:1996.44230769,y:4293.51021008},{x:1996.82692308,y:9646.61619911},{x:1997.35576923,y:5473.70326288},{x:1997.45192308,y:3554.52235561},{x:1997.54807692,y:8896.4911282},{x:1997.64423077,y:7566.6953714},{x:1998.89423077,y:15261.3780258},{x:1999.13461538,y:9389.79801048},{x:1999.18269231,y:6978.3058486},{x:1999.47115385,y:9389.79801048},{x:1999.47115385,y:21673.9216957},{x:2000.19230769,y:22266.7201035},{x:2000.67307692,y:28387.3596476},{x:2000.67307692,y:37180.2666391},{x:2001.10576923,y:29163.7757405},{x:2001.20192308,y:42550.6550247},{x:2001.68269231,y:25482.9674798},{x:2001.82692308,y:37180.2666391},{x:2002.40384615,y:55730.6040127},{x:2002.78846154,y:38197.1754928},{x:2002.88461538,y:220673.406908},{x:2003.41346154,y:151247.254531},{x:2003.50961538,y:54246.9093701},{x:2003.65384615,y:106498.563535},{x:2004.80769231,y:125214.968907},{x:2004.80769231,y:106498.563535},{x:2004.80769231,y:273841.963426},{x:2005.72115385,y:232909.659246},{x:2005.81730769,y:112403.866377},{x:2005.96153846,y:305052.789027},{x:2006.05769231,y:115478.198469},{x:2006.875,y:378551.524926},{x:2006.875,y:155383.983127},{x:2006.92307692,y:245824.406892},{x:2006.97115385,y:296931.48482},{x:2006.97115385,y:582941.534714},{x:2007.06730769,y:151247.254531},{x:2007.64423077,y:582941.534714},{x:2007.74038462,y:232909.659246},{x:2007.78846154,y:805842.187761},{x:2007.83653846,y:115478.198469},{x:2007.98076923,y:509367.521678},{x:2008.22115385,y:445079.406236},{x:2008.46153846,y:410469.838044},{x:2009.18269231,y:457252.669897},{x:2009.27884615,y:784388.558145},{x:2009.66346154,y:230824152676e-5},{x:2009.71153846,y:191095297497e-5},{x:2010.19230769,y:410469.838044},{x:2010.38461538,y:13097472643e-4},{x:2011.16,y:117e4},{x:2011.32,y:26e5},{x:2011.9,y:12e5},{x:2012.4,y:24e5},{x:2012.41,y:23e5},{x:2012.7,y:21e5},{x:2012.9,y:12e5},{x:2013.4,y:5e6},{x:2013.8,y:43e5},{x:2014.16,y:43e5},{x:2014.5,y:42e5},{x:2014.8,y:26e5},{x:2014.81,y:38e5},{x:2014.82,y:57e5}]}const category$h="ExtrapolationLineSeries",ExtrapolationLineSeriesExamples={category:category$h,tags:["Series"],examples:[{title:"Line Fit (Ignore Extrapolation For Scaling)",example:{model:extrapolatedLineSeries}},{title:"Interpolation",example:{model:interpolationStyleLineSeries}},{title:"Interpolation (Y Axis reversed)",example:{model:twoColorLineSeriesReversed$2}},{title:"Intersecting Intervals",example:{model:intersectingIntervals}},{title:"Custom Dashes",example:{model:customDashes}},{title:"Many Intervals",example:{model:manyIntervals}},{title:"Moore's Law",example:{model:mooresLaw}}]};function squareWave(){return _createSquareWave(25)}function clover(){return _createParametricPlot(Ve=>2*Math.cos(2*Ve)*Math.cos(Ve),Ve=>2*Math.cos(2*Ve)*Math.sin(Ve),0,Math.PI*2,1e3,"Parametric function","Using the CartesianAxes property","2cos(2t)cos(t) , 2cos(2t)sin(t)")}function parametricFunction2(){return _createParametricPlot(Ve=>3*Math.sin(5*Ve),Ve=>3*Math.cos(3*Ve),0,Math.PI*2,1e3,"Parametric function",void 0,"3sin(5t) , 3cos(3t)")}function parametricFunction3(){return _createParametricPlot(Ve=>2*Math.cos(Ve)+Math.cos(8*Ve),Ve=>2*Math.sin(Ve)+Math.sin(8*Ve),0,Math.PI*2,1e3,"Parametric function",void 0,"2cos(t)+cos(8t) , 2sin(t)+sin(8t)")}function lemniscateOfBernoulli(){return _createParametricPlot(je=>1*Math.sqrt(2)*Math.cos(je)/(Math.sin(je)*Math.sin(je)+1),je=>1*Math.sqrt(2)*Math.cos(je)*Math.sin(je)/(Math.sin(je)*Math.sin(je)+1),0,Math.PI*2,1e3,"Lemniscate of Bernoulli")}function lemniscateOfGerono(){return _createParametricPlot(Ve=>Math.cos(Ve),Ve=>Math.sin(2*Ve)/2,0,Math.PI*2,1e3,"Lemniscate of Gerono")}function lissajousFigure(){const ze=Math.PI/2;return _createParametricPlot(qe=>Math.sin(3*qe+ze),qe=>Math.sin(2*qe),0,Math.PI*2,1e3,"Lissajous figure",void 0,"a=3, b=2,  = /2")}function roseCurve(){const Ve=new PlotModel({title:"Rose curve",plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness(0)});Ve.axes.push(new AngleAxis({minimum:0,maximum:Math.PI*2,majorStep:Math.PI/4,minorStep:Math.PI/16,majorGridlineStyle:LineStyle.Solid,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:""})),Ve.axes.push(new MagnitudeAxis({majorGridlineStyle:LineStyle.Solid}));const je=4,ze=3,qe=ze/je;return Ve.series.push(new FunctionSeries({fx:Xe=>Math.sin(qe*Xe),fy:Xe=>Xe,t0:0,t1:Math.PI*2*je,n:1e3,title:`d=${je}, n=${ze}`})),Ve}function limaconOfPascal(){const Ve=new PlotModel({title:"Limaon of Pascal",plotType:PlotType.Cartesian});for(let je=4;je<=4;je++)for(let ze=0;ze<=10;ze++)Ve.series.push(new FunctionSeries({fx:qe=>je/2+ze*Math.cos(qe)+je/2*Math.cos(2*qe),fy:qe=>ze*Math.sin(qe)+je/2*Math.sin(2*qe),t0:0,t1:Math.PI*2,n:1e3,title:`a=${je}, b=${ze}`}));return Ve}function descartesFolium(){const Ve=new PlotModel({title:"Folium of Descartes",plotType:PlotType.Cartesian});Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-3,maximum:3})),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-3,maximum:3}));const je=1;return Ve.series.push(new FunctionSeries({fx:ze=>3*je*ze/(Math.pow(ze,3)+1),fy:ze=>3*je*Math.pow(ze,2)/(Math.pow(ze,3)+1),t0:-30,t1:30,n:1001,title:`a=${je}`})),Ve}function trisectrixOfMaclaurin(){const Ve=new PlotModel({title:"Trisectrix of Maclaurin",plotType:PlotType.Cartesian}),je=1;return Ve.series.push(new FunctionSeries({fx:ze=>je*(ze*ze-3)/(ze*ze+1),fy:ze=>je*ze*(ze*ze-3)/(ze*ze+1),t0:-5,t1:5,n:1e3})),Ve}function fermatsSpiral(){const Ve=new PlotModel({title:"Fermat's spiral",plotType:PlotType.Cartesian}),je=1;return Ve.series.push(new FunctionSeries({fx:ze=>je*Math.sqrt(ze)*Math.cos(ze),fy:ze=>je*Math.sqrt(ze)*Math.sin(ze),t0:0,t1:20,n:1e3})),Ve.series.push(new FunctionSeries({fx:ze=>-je*Math.sqrt(ze)*Math.cos(ze),fy:ze=>-je*Math.sqrt(ze)*Math.sin(ze),t0:0,t1:20,n:1e3})),Ve}function fishCurve(){const Ve=new PlotModel({title:"Fish curve",plotType:PlotType.Cartesian});for(let je=.1;je<1;je+=.1)Ve.series.push(new FunctionSeries({fx:ze=>je*(Math.cos(ze)-Math.sin(ze)*Math.sin(ze)/Math.sqrt(2)),fy:ze=>je*Math.cos(ze)*Math.sin(ze),t0:0,t1:2*Math.PI,n:1e3}));return Ve}function heavisideStepFunction(){const Ve=new PlotModel({title:"Heaviside step function",plotType:PlotType.Cartesian});return Ve.series.push(new FunctionSeries({f:je=>Math.abs(je)<1e-8?NaN:je<0?0:1,x0:-2,x1:2,dx:.001})),Ve.annotations.push(new LineAnnotation({type:LineAnnotationType.Vertical,color:Ve.defaultColors[0],x:0,minimumY:0,maximumY:1})),Ve}function functionSeries(){const Ve=new PlotModel({title:"Trigonometric functions",subtitle:"Example using the FunctionSeries",plotType:PlotType.Cartesian,plotAreaBackground:OxyColors.White});return Ve.series.push(new FunctionSeries({f:Math.sin,x0:-10,x1:10,dx:.1,title:"sin(x)"})),Ve.series.push(new FunctionSeries({f:Math.cos,x0:-10,x1:10,dx:.1,title:"cos(x)"})),Ve.series.push(new FunctionSeries({fx:je=>5*Math.cos(je),fy:je=>5*Math.sin(je),t0:0,t1:2*Math.PI,n:1e3,title:"cos(t),sin(t)"})),Ve}function squirqle(){const Ve=new PlotModel({title:"Squirqle",plotType:PlotType.Cartesian});return Ve.series.push(_createSuperellipseSeries(4,1,1)),Ve}function superellipse20(){const Ve=new PlotModel({title:"Superellipse",plotType:PlotType.Cartesian}),je=_createSuperellipseSeries(20,1,1);return je.markerType=MarkerType.Circle,Ve.series.push(je),Ve}function lameCurves(){const Ve=new PlotModel({title:"Lam curves",plotType:PlotType.Cartesian}),je=new Legend({legendPlacement:LegendPlacement.Outside});Ve.legends.push(je);for(let ze=.25;ze<2;ze+=.25)Ve.series.push(_createSuperellipseSeries(ze,1,1));for(let ze=2;ze<=8+1e-6;ze+=1)Ve.series.push(_createSuperellipseSeries(ze,1,1));return Ve}function _createSquareWave(Ve=25){const je=new PlotModel({title:"Square wave (Gibbs phenomenon)"}),ze=Xe=>{let Ye=0;for(let Ke=0;Ke<Ve;Ke++){const Ze=Ke*2+1;Ye+=Math.sin(Ze*Xe)/Ze}return Ye},qe=new FunctionSeries({f:ze,x0:-10,x1:10,dx:1e-4,title:`sin(x)+sin(3x)/3+sin(5x)/5+...+sin(${2*Ve-1})/${2*Ve-1}`});return je.series.push(qe),je.subtitle=`n = ${qe.points.length}`,je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-4,maximum:4})),je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je}function _createSuperellipseSeries(Ve,je,ze){return new FunctionSeries({fx:qe=>je*Math.sign(Math.cos(qe))*Math.pow(Math.abs(Math.cos(qe)),2/Ve),fy:qe=>ze*Math.sign(Math.sin(qe))*Math.pow(Math.abs(Math.sin(qe)),2/Ve),t0:0,t1:Math.PI*2,n:101,title:`n=${Ve}, a=${je}, b=${ze}`})}function _createParametricPlot(Ve,je,ze,qe,Xe,Ye,Ke,Ze){const Qe=new PlotModel({title:Ye,subtitle:Ke,plotType:PlotType.Cartesian});return Qe.series.push(new FunctionSeries({fx:Ve,fy:je,t0:ze,t1:qe,n:Xe,title:Ze})),Qe}const category$g="FunctionSeries",FunctionSeriesExamples={category:category$g,tags:["Series"],examples:[{title:"Square wave",example:{model:squareWave}},{title:"Parametric function 1",example:{model:clover}},{title:"Parametric function 2",example:{model:parametricFunction2}},{title:"Parametric function 3",example:{model:parametricFunction3}},{title:"Lemniscate of Bernoulli",example:{model:lemniscateOfBernoulli}},{title:"Lemniscate of Gerono",example:{model:lemniscateOfGerono}},{title:"Lissajous figure",example:{model:lissajousFigure}},{title:"Rose curve",example:{model:roseCurve}},{title:"Limaon of Pascal",example:{model:limaconOfPascal}},{title:"Folium of Descartes",example:{model:descartesFolium}},{title:"Trisectrix of Maclaurin",example:{model:trisectrixOfMaclaurin}},{title:"Fermat's spiral",example:{model:fermatsSpiral}},{title:"Fish curve",example:{model:fishCurve}},{title:"Heaviside step function",example:{model:heavisideStepFunction}},{title:"FunctionSeries",example:{model:functionSeries}},{title:"Squirqle",example:{model:squirqle}},{title:"Superellipse n=20",example:{model:superellipse20}},{title:"Lam curves",example:{model:lameCurves}}]};function exponentialDistribution(){return createExponentialDistribution()}function exponentialDistributionLogarithmicAxis(){return createExponentialDistribution(!0)}function exponentialDistributionLogarithmicAxisWithBaseValue(){return createExponentialDistribution(!0,1,1e4,.1)}function histogramLabelPlacement(){const Ve=new PlotModel({title:"Label Placement"}),je=new HistogramSeries({labelPlacement:LabelPlacement.Base,labelStringFormatter:Ye=>"Base",strokeThickness:1,labelMargin:5}),ze=new HistogramSeries({labelPlacement:LabelPlacement.Inside,labelStringFormatter:Ye=>"Inside",strokeThickness:1,labelMargin:5}),qe=new HistogramSeries({labelPlacement:LabelPlacement.Middle,labelStringFormatter:Ye=>"Middle",strokeThickness:1,labelMargin:5}),Xe=new HistogramSeries({labelPlacement:LabelPlacement.Outside,labelStringFormatter:Ye=>"Outside",strokeThickness:1,labelMargin:5});return je.items.push(new HistogramItem(1,2,4,4)),je.items.push(new HistogramItem(2,3,-4,4)),ze.items.push(new HistogramItem(3,4,2,2)),ze.items.push(new HistogramItem(4,5,-2,2)),qe.items.push(new HistogramItem(5,6,3,3)),qe.items.push(new HistogramItem(6,7,-3,3)),Xe.items.push(new HistogramItem(7,8,1,1)),Xe.items.push(new HistogramItem(8,9,-1,-1)),Ve.series.push(je),Ve.series.push(ze),Ve.series.push(qe),Ve.series.push(Xe),Ve}function labelPlacementReversed(){const Ve=histogramLabelPlacement();return PlotModelUtilities.reverseYAxis(Ve),Ve}function labelFormatString$1(){const Ve=createDisconnectedBins(),je=Ve.series[0];return je.labelStringFormatter=ze=>`Start: ${ze.rangeStart.toFixed(2)}
End: ${ze.rangeEnd.toFixed(2)}
Value: ${ze.value.toFixed(2)}
Area: ${ze.area.toFixed(2)}
Count: ${ze.count}`,je.labelPlacement=LabelPlacement.Inside,Ve}function customBins(){return createExponentialDistributionCustomBins()}function disconnectedBins(){return createDisconnectedBins()}function normalDistribution(){return createNormalDistribution()}function individualBinColors(){return createIndividualBinColors()}function customItemMapping(){const Ve=new PlotModel({title:"Custom Item Mapping"}),je=new HistogramSeries({mapping:ze=>ze,trackerStringFormatter:ze=>ze.item.description});return je.items.push(new CustomHistogramItem(1,2,4,4,"Item 1")),je.items.push(new CustomHistogramItem(2,3,-4,4,"Item 2")),je.items.push(new CustomHistogramItem(3,4,2,2,"Item 3")),je.items.push(new CustomHistogramItem(4,5,-2,2,"Item 4")),Ve.series.push(je),Ve}class CustomHistogramItem extends HistogramItem{constructor(je,ze,qe,Xe,Ye){super(je,ze,qe,Xe),this.description=Ye}}function createExponentialDistribution(Ve=!1,je=1,ze=1e4,qe=0){const Xe=new PlotModel({title:Ve?"Exponential Distribution (logarithmic)":"Exponential Distribution",subtitle:`Uniformly distributed bins (${ze} samples)`});Xe.axes.push(Ve?new LogarithmicAxis({position:AxisPosition.Left,title:"Frequency"}):new LinearAxis({position:AxisPosition.Left,title:"Frequency"})),Xe.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"x"}));const Ye=new Random(1),Ke=new HistogramSeries,Ze=new BinningOptions(BinningOutlierMode.CountOutliers,BinningIntervalType.InclusiveLowerBound,BinningExtremeValueMode.ExcludeExtremeValues),Qe=HistogramHelpers.createUniformBins(0,5,15);return Ke.items.push(...HistogramHelpers.collect(sampleExps(Ye,je,ze),Qe,Ze)),Ke.strokeThickness=1,Ke.baseValue=qe,Ke.negativeFillColor=OxyColors.Red,Xe.series.push(Ke),Xe}function createExponentialDistributionCustomBins(Ve=1,je=5e4){const ze=new PlotModel({title:"Exponential Distribution",subtitle:`Custom bins (${je} samples)`});ze.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Frequency"})),ze.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"x"}));const qe=new Random(1),Xe=new HistogramSeries,Ye=new BinningOptions(BinningOutlierMode.CountOutliers,BinningIntervalType.InclusiveLowerBound,BinningExtremeValueMode.ExcludeExtremeValues);return Xe.items.push(...HistogramHelpers.collect(sampleExps(qe,Ve,je),[0,.1,.2,.3,.4,.5,.75,1,2,3,4,5],Ye)),Xe.strokeThickness=1,Xe.fillColor=OxyColors.Purple,ze.series.push(Xe),ze}function createNormalDistribution(Ve=0,je=1,ze=1e6){const qe=new PlotModel({title:`Normal Distribution (=${Ve}, =${je})`,subtitle:`95% of the distribution (${ze} samples)`});qe.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Frequency"})),qe.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"x"}));const Xe=new Random(1),Ye=new HistogramSeries,Ke=new BinningOptions(BinningOutlierMode.CountOutliers,BinningIntervalType.InclusiveLowerBound,BinningExtremeValueMode.ExcludeExtremeValues),Ze=HistogramHelpers.createUniformBins(-je*4,je*4,100);Ye.items.push(...HistogramHelpers.collect(sampleNormal(Xe,Ve,je,ze),Ze,Ke)),Ye.strokeThickness=1;const Qe=Ve+1.96*je,Je=Ve-1.96*je,St=OxyColors.DarkRed,ei=OxyColors.DarkRed;return Ye.colorMapping=ti=>ti.rangeCenter>Qe?St:ti.rangeCenter<Je?ei:Ye.actualFillColor,qe.series.push(Ye),qe}function createDisconnectedBins(){const Ve=new PlotModel({title:"Disconnected Bins"});Ve.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Representation"})),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"x"}));const je=new HistogramSeries;return je.items.push(new HistogramItem(0,.5,10,7),new HistogramItem(.75,1,10,7)),je.labelStringFormatter=ze=>ze.toFixed(2),je.labelPlacement=LabelPlacement.Middle,Ve.series.push(je),Ve}function createIndividualBinColors(Ve=1,je=1e4){const ze=new PlotModel({title:"Individual Bin Colors",subtitle:"Minimum is Red, Maximum is Green"});ze.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Frequency"})),ze.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Observation"}));const qe=new Random(1),Xe=new HistogramSeries({fillColor:OxyColors.Gray,renderInLegend:!0,title:"Measurements"}),Ye=new BinningOptions(BinningOutlierMode.CountOutliers,BinningIntervalType.InclusiveLowerBound,BinningExtremeValueMode.ExcludeExtremeValues),Ke=HistogramHelpers.createUniformBins(0,10,20),Ze=HistogramHelpers.collect(sampleUniform(qe,0,10,1e3),Ke,Ye).sort((Qe,Je)=>Qe.count-Je.count);return Ze[0].color=OxyColors.Red,Ze[Ze.length-1].color=OxyColors.Green,Xe.items.push(...Ze),Xe.strokeThickness=1,ze.series.push(Xe),ze}function sampleExps(Ve,je,ze){const qe=[];for(let Xe=0;Xe<ze;Xe++)qe.push(sampleExp(Ve,je));return qe}function sampleExp(Ve,je){return Math.log(1-Ve.next())/-je}function sampleNormal(Ve,je,ze,qe){const Xe=[];for(let Ye=0;Ye<qe;Ye++)Xe.push(sampleNormalSingle(Ve,je,ze));return Xe}function sampleNormalSingle(Ve,je,ze){const qe=1-Ve.next(),Xe=Ve.next();return Math.sqrt(-2*Math.log(qe))*Math.cos(2*Math.PI*Xe)*ze+je}function sampleUniform(Ve,je,ze,qe){const Xe=[];for(let Ye=0;Ye<qe;Ye++)Xe.push(Ve.next()*(ze-je)+je);return Xe}const category$f="HistogramSeries",HistogramSeriesExamples={category:category$f,tags:["Series"],examples:[{title:"Exponential Distribution",example:{model:exponentialDistribution}},{title:"Exponential Distribution (logarithmic)",example:{model:exponentialDistributionLogarithmicAxis}},{title:"Exponential Distribution (logarithmic,with BaseValue)",example:{model:exponentialDistributionLogarithmicAxisWithBaseValue}},{title:"Label Placement",example:{model:histogramLabelPlacement}},{title:"Label Placement (reversed Y Axis)",example:{model:labelPlacementReversed}},{title:"Label Format String",example:{model:labelFormatString$1}},{title:"Custom Bins",example:{model:customBins}},{title:"Disconnected Bins",example:{model:disconnectedBins}},{title:"Normal Distribution Three Colors",example:{model:normalDistribution}},{title:"Individual Bin Colors",example:{model:individualBinColors}},{title:"Custom Item Mapping",example:{model:customItemMapping}}]};function intervalBarSeries(){const Ve=new PlotModel({title:"IntervalBarSeries"}),je=new Legend({legendPlacement:LegendPlacement.Outside});Ve.legends.push(je);const ze=new IntervalBarSeries({title:"IntervalBarSeries 1"});ze.items.push(new IntervalBarItem({start:6,end:8})),ze.items.push(new IntervalBarItem({start:4,end:8})),ze.items.push(new IntervalBarItem({start:5,end:11})),ze.items.push(new IntervalBarItem({start:4,end:12})),Ve.series.push(ze);const qe=new IntervalBarSeries({title:"IntervalBarSeries 2"});qe.items.push(new IntervalBarItem({start:8,end:9})),qe.items.push(new IntervalBarItem({start:8,end:10})),qe.items.push(new IntervalBarItem({start:11,end:12})),qe.items.push(new IntervalBarItem({start:12,end:12.5})),Ve.series.push(qe);const Xe=new CategoryAxis({position:AxisPosition.Left});Xe.labels.push("Activity A"),Xe.labels.push("Activity B"),Xe.labels.push("Activity C"),Xe.labels.push("Activity D");const Ye=new LinearAxis({position:AxisPosition.Bottom,minimumPadding:.1,maximumPadding:.1});return Ve.axes.push(Xe),Ve.axes.push(Ye),Ve}function intervalBarSeriesWithLabels(){const Ve=new PlotModel({title:"IntervalBarSeries"}),je=new Legend({legendPlacement:LegendPlacement.Outside});Ve.legends.push(je);const ze=new IntervalBarSeries({title:"IntervalBarSeries 1",labelPlacement:LabelPlacement.Outside});ze.items.push(new IntervalBarItem({start:6,end:8,categoryIndex:0})),ze.items.push(new IntervalBarItem({start:10,end:12,categoryIndex:0})),Ve.series.push(ze);const qe=new IntervalBarSeries({title:"IntervalBarSeries 2",labelPlacement:LabelPlacement.Inside});qe.items.push(new IntervalBarItem({start:4,end:8,categoryIndex:1})),qe.items.push(new IntervalBarItem({start:10,end:12,categoryIndex:1})),Ve.series.push(qe);const Xe=new IntervalBarSeries({title:"IntervalBarSeries 3",labelPlacement:LabelPlacement.Middle});Xe.items.push(new IntervalBarItem({start:5,end:11,categoryIndex:2})),Xe.items.push(new IntervalBarItem({start:13,end:17,categoryIndex:2})),Ve.series.push(Xe);const Ye=new IntervalBarSeries({title:"IntervalBarSeries 4",labelPlacement:LabelPlacement.Base,textColor:OxyColors.White});Ye.items.push(new IntervalBarItem({start:4,end:12,categoryIndex:3})),Ye.items.push(new IntervalBarItem({start:13,end:17,categoryIndex:3})),Ve.series.push(Ye);const Ke=new IntervalBarSeries({title:"IntervalBarSeries 5",labelPlacement:LabelPlacement.Outside,labelAngle:-45});Ke.items.push(new IntervalBarItem({start:6,end:8,categoryIndex:4})),Ke.items.push(new IntervalBarItem({start:10,end:12,categoryIndex:4})),Ve.series.push(Ke);const Ze=new IntervalBarSeries({title:"IntervalBarSeries 6",labelPlacement:LabelPlacement.Inside,labelAngle:-45});Ze.items.push(new IntervalBarItem({start:4,end:8,categoryIndex:5})),Ze.items.push(new IntervalBarItem({start:10,end:12,categoryIndex:5})),Ve.series.push(Ze);const Qe=new IntervalBarSeries({title:"IntervalBarSeries 7",labelPlacement:LabelPlacement.Middle,labelAngle:-45});Qe.items.push(new IntervalBarItem({start:5,end:11,categoryIndex:6})),Qe.items.push(new IntervalBarItem({start:13,end:17,categoryIndex:6})),Ve.series.push(Qe);const Je=new IntervalBarSeries({title:"IntervalBarSeries 8",labelPlacement:LabelPlacement.Base,labelAngle:-45});Je.items.push(new IntervalBarItem({start:4,end:12,categoryIndex:7})),Je.items.push(new IntervalBarItem({start:13,end:17,categoryIndex:7})),Ve.series.push(Je);const St=new CategoryAxis({key:"CategoryAxis",position:AxisPosition.Left,startPosition:1,endPosition:0});St.labels.push("Label Outside"),St.labels.push("Label Inside"),St.labels.push("Label Middle"),St.labels.push("Label Base"),St.labels.push("Label Outside (angled)"),St.labels.push("Label Inside (angled)"),St.labels.push("Label Middle (angled)"),St.labels.push("Label Base (angled)");const ei=new LinearAxis({key:"ValueAxis",position:AxisPosition.Bottom,minimumPadding:.1,maximumPadding:.1});return Ve.axes.push(St),Ve.axes.push(ei),Ve}const category$e="IntervalBarSeries",IntervalBarSeriesExamples={category:category$e,tags:["Series"],examples:[{title:"IntervalBarSeries",example:{model:intervalBarSeries}},{title:"IntervalBarSeries with various label types",example:{model:intervalBarSeriesWithLabels}}]};function defaultStyle$1(){const Ve=new PlotModel({title:"LinearBarSeries with default style"});Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left}));const je=_createExampleLinearBarSeries();return je.title="LinearBarSeries",Ve.series.push(je),Ve}function withStroke(){const Ve=new PlotModel({title:"LinearBarSeries with stroke"});Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left}));const je=_createExampleLinearBarSeries();return je.title="LinearBarSeries",je.fillColor=OxyColor.parse("#454CAF50"),je.strokeColor=OxyColor.parse("#4CAF50"),je.strokeThickness=1,Ve.series.push(je),Ve}function withNegativeColors(){return _createWithNegativeColors()}function withNegativeColorsLogarithmic(){return _createWithNegativeColors(!0)}function withBaseValue(){return _createWithNegativeColors(void 0,50)}function withBaseValueLogarithmic(){return _createWithNegativeColors(!0,50)}function _createWithNegativeColors(Ve=!1,je=0){const ze=new PlotModel({title:Ve?"LinearBarSeries with stroke (logarithmic)":"LinearBarSeries with stroke"});ze.axes.push(new LinearAxis({position:AxisPosition.Bottom})),ze.axes.push(Ve?new LogarithmicAxis({position:AxisPosition.Left}):new LinearAxis({position:AxisPosition.Left}));const qe=_createExampleLinearBarSeriesWithNegativeValues();return qe.title="LinearBarSeries",qe.fillColor=OxyColor.parse("#454CAF50"),qe.strokeColor=OxyColor.parse("#4CAF50"),qe.negativeFillColor=OxyColor.parse("#45BF360C"),qe.negativeStrokeColor=OxyColor.parse("#BF360C"),qe.strokeThickness=1,qe.baseValue=je,ze.series.push(qe),ze}function _createExampleLinearBarSeries(){const Ve=new LinearBarSeries,je=new Random;let ze=je.next(10,31);for(let qe=0;qe<=50;qe++)Ve.points.push(new DataPoint(qe,ze)),ze+=je.next(-5,5);return Ve}function _createExampleLinearBarSeriesWithNegativeValues(){const Ve=new LinearBarSeries,je=new Random;for(let ze=0;ze<=50;ze++){const qe=-200+je.next(0,1e3);Ve.points.push(new DataPoint(ze,qe))}return Ve}const category$d="LinearBarSeries",LinearBarSeriesExamples={category:category$d,tags:["Series"],examples:[{title:"Default style",example:{model:defaultStyle$1}},{title:"With stroke",example:{model:withStroke}},{title:"With negative colors",example:{model:withNegativeColors}},{title:"With negative colors (logaritmic)",example:{model:withNegativeColorsLogarithmic}},{title:"With BaseValue",example:{model:withBaseValue}},{title:"With BaseValue (Logarithmic)",example:{model:withBaseValueLogarithmic}}]};function defaultStyle(){const Ve=new PlotModel({title:"LineSeries with default style"});Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left}));const je=createExampleLineSeries();return je.title="LineSeries 1",Ve.series.push(je),Ve}function customStyle(){const Ve=new PlotModel({title:"LineSeries with custom style"}),je=new Legend({legendSymbolLength:24});Ve.legends.push(je),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left}));const ze=createExampleLineSeries();return ze.title="LineSeries 1",ze.toolTip="This is a tooltip for a LineSeries 1",ze.color=OxyColors.SkyBlue,ze.strokeThickness=3,ze.lineStyle=LineStyle.Dash,ze.markerType=MarkerType.Circle,ze.markerSize=5,ze.markerStroke=OxyColors.White,ze.markerFill=OxyColors.SkyBlue,ze.markerStrokeThickness=1.5,Ve.series.push(ze),Ve}function twoLineSeries(){const Ve=new PlotModel({title:"Two LineSeries"});Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left}));const je=createExampleLineSeries();je.title="LineSeries 1",Ve.series.push(je);const ze=createExampleLineSeries(41);return ze.title="LineSeries 2",Ve.series.push(ze),Ve}function isVisibleFalse(){const Ve=new PlotModel({title:"LineSeries with IsVisible = false",subtitle:"Click to change the IsVisible property for LineSeries 2"});Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:50}));const je=createExampleLineSeries(38);je.title="LineSeries 1",Ve.series.push(je);const ze=createExampleLineSeries(39);return ze.title="LineSeries 2",ze.isVisible=!1,Ve.series.push(ze),Ve.mouseDown=(qe,Xe)=>{ze.isVisible=!ze.isVisible,Ve.invalidatePlot(!0)},Ve}function trackerFormatString$1(){const Ve=new PlotModel({title:"LineSeries with custom TrackerFormatString",subtitle:'TrackerFormatString = "X={2:0.0} Y={4:0.0}"'});Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left}));const je=createExampleLineSeries();return je.trackerStringFormatter=ze=>"X="+ze.xValue.toFixed(1)+" Y="+ze.yValue.toFixed(1),Ve.series.push(je),Ve}function customMarkers(){const Ve=new PlotModel({title:"LineSeries with custom markers"}),je=new Legend({legendSymbolLength:30});Ve.legends.push(je);const ze=6,qe=[];for(let Ye=0;Ye<ze;Ye++){const Ke=Math.PI*(4*Ye/(ze-1)-.5),Ze=1;qe[Ye]=new ScreenPoint(Math.cos(Ke)*Ze,Math.sin(Ke)*Ze)}const Xe=createExampleLineSeries(39);return Xe.title="LineSeries 1",Xe.markerType=MarkerType.Custom,Xe.markerSize=8,Xe.markerOutline=qe,Ve.series.push(Xe),Ve}function markerTypes$1(){const Ve=createModel("LineSeries with different MarkerType",MarkerType.Custom),je=new Legend({legendBackground:OxyColor.fromAColor(220,OxyColors.White),legendBorder:OxyColors.Black,legendBorderThickness:1});Ve.legends.push(je);let ze=0;for(const qe of Ve.series){const Xe=qe;Xe.color=OxyColors.Red,Xe.markerStroke=OxyColors.Black,Xe.markerFill=OxyColors.Green,Xe.markerType=ze++,Xe.title=MarkerType[Xe.markerType]}return Ve}function labels(){const Ve=new PlotModel({title:"LineSeries with labels",subtitle:"Use the 'labelFormatString' property"}),je=new Legend({legendSymbolLength:24});Ve.legends.push(je),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,maximumPadding:.1}));const ze=createExampleLineSeries();return ze.labelStringFormatter=(qe,Xe)=>Xe[1].toString(),ze.markerType=MarkerType.Circle,Ve.series.push(ze),Ve}function lineStyles(){const Ve=createModel("LineSeries with LineStyle",LineStyle.None),je=new Legend({legendPlacement:LegendPlacement.Outside,legendSymbolLength:50});Ve.legends.push(je);let ze=0;for(const qe of Ve.series){const Xe=qe;Xe.color=OxyColors.Red,Xe.lineStyle=ze++,Xe.title=LineStyle[Xe.lineStyle]}return Ve}function smooth(){const Ve=new PlotModel({title:"LineSeries with interpolation",subtitle:"InterpolationAlgorithm = CanonicalSpline"}),je=new Legend({legendSymbolLength:24});Ve.legends.push(je);const ze=createExampleLineSeries();return ze.markerType=MarkerType.Circle,ze.interpolationAlgorithm=InterpolationAlgorithms.CanonicalSpline,Ve.series.push(ze),Ve}function customLineLegendPosition(){const Ve=new PlotModel({title:"LineSeries with LineLegendPosition"});Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:.05,maximumPadding:.05})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimumPadding:.05,maximumPadding:.05}));const je=createExampleLineSeries();je.title="Start",je.markerType=MarkerType.Circle,je.lineLegendPosition=LineLegendPosition.Start,Ve.series.push(je);const ze=createExampleLineSeries(41);return ze.title="End",ze.markerType=MarkerType.Circle,ze.lineLegendPosition=LineLegendPosition.End,Ve.series.push(ze),Ve}function customLineLegendPositionReversed(){return PlotModelUtilities.reverseXAxis(customLineLegendPosition())}function brokenLine(){const Ve=new PlotModel({title:"LineSeries with broken lines"}),je=createExampleLineSeries();je.points[3]=DataPoint.Undefined,je.points[7]=DataPoint.Undefined,je.brokenLineColor=OxyColors.Gray,je.brokenLineThickness=.5,je.brokenLineStyle=LineStyle.Solid,Ve.series.push(je);const ze=createExampleLineSeries(49);return ze.points[3]=DataPoint.Undefined,ze.points[7]=DataPoint.Undefined,ze.brokenLineColor=OxyColors.Automatic,ze.brokenLineThickness=1,ze.brokenLineStyle=LineStyle.Dot,Ve.series.push(ze),Ve}function withoutDecimator(){const Ve=new PlotModel({title:"LineSeries without Decimator"}),je=createSeriesSuitableForDecimation();return Ve.series.push(je),Ve}function withXDecimator(){const Ve=new PlotModel({title:"LineSeries with X Decimator"}),je=createSeriesSuitableForDecimation();return je.decimator=Decimator.decimate,Ve.series.push(je),Ve}function canonicalSplineInterpolation(){const Ve=createRandomPoints();return new PlotModel({title:"Canonical spline interpolation",series:[new LineSeries({itemsSource:Ve,title:"Default (0.5)",interpolationAlgorithm:InterpolationAlgorithms.CanonicalSpline,markerType:MarkerType.Circle,markerFill:OxyColors.Black}),new LineSeries({itemsSource:Ve,title:"0.1",interpolationAlgorithm:new CanonicalSpline(.1)}),new LineSeries({itemsSource:Ve,title:"1.0",interpolationAlgorithm:new CanonicalSpline(1)})]})}function catmullRomInterpolation(){const Ve=createRandomPoints();return new PlotModel({title:"Catmull-Rom interpolation",series:[new LineSeries({itemsSource:Ve,title:"Standard",interpolationAlgorithm:InterpolationAlgorithms.CatmullRomSpline,markerType:MarkerType.Circle,markerFill:OxyColors.Black}),new LineSeries({itemsSource:Ve,title:"Chordal",interpolationAlgorithm:InterpolationAlgorithms.ChordalCatmullRomSpline}),new LineSeries({itemsSource:Ve,title:"Uniform",interpolationAlgorithm:InterpolationAlgorithms.UniformCatmullRomSpline})]})}function markerColorOptions(){createRandomPoints();const Ve=new PlotModel({title:"Marker color options"}),je=createExampleLineSeries(1);je.markerType=MarkerType.Circle,Ve.series.push(je);const ze=createExampleLineSeries(4);ze.markerType=MarkerType.Square,ze.color=OxyColors.LightBlue,Ve.series.push(ze);const qe=createExampleLineSeries(13);qe.markerType=MarkerType.Square,qe.markerFill=OxyColors.Black,Ve.series.push(qe);const Xe=createExampleLineSeries(5);return Xe.markerType=MarkerType.Square,Xe.markerFill=OxyColors.OrangeRed,Xe.color=OxyColors.Orange,Ve.series.push(Xe),Ve}function createRandomPoints(Ve=50){const je=new Random,ze=[];for(let qe=0;qe<Ve;qe++)qe<5?ze.push(new DataPoint(qe,0)):qe<10?ze.push(new DataPoint(qe,1)):qe<12?ze.push(new DataPoint(qe,0)):ze.push(new DataPoint(qe,je.next()));return ze}function createExampleLineSeries(Ve=13){const je=new LineSeries,ze=new Random(Ve);let qe=ze.next(10,30);for(let Xe=0;Xe<=100;Xe+=10)je.points.push(new DataPoint(Xe,qe)),qe+=ze.next(-5,5);return je}function createModel(Ve,je=20){const ze=new PlotModel({title:Ve});for(let qe=1;qe<=je;qe++){const Xe=new LineSeries({title:"Series "+qe});ze.series.push(Xe);for(let Ye=0;Ye<2*Math.PI;Ye+=.1)Xe.points.push(new DataPoint(Ye,Math.sin(Ye*qe)/(qe+1)+qe))}return ze}function createSeriesSuitableForDecimation(){const Ve=new LineSeries,je=2e4;for(let ze=0;ze<je;ze++)Ve.points.push(new DataPoint(ze/je,Math.sin(ze)));return Ve}const category$c="LineSeries",LineSeriesExamples={category:category$c,tags:["Series"],examples:[{title:"Default style",example:{model:defaultStyle}},{title:"Custom style",example:{model:customStyle}},{title:"Two LineSeries",example:{model:twoLineSeries}},{title:"Visibility",example:{model:isVisibleFalse}},{title:"Custom TrackerFormatString",example:{model:trackerFormatString$1}},{title:"Custom markers",example:{model:customMarkers}},{title:"Marker types",example:{model:markerTypes$1}},{title:"Labels",example:{model:labels}},{title:"LineStyle",example:{model:lineStyles}},{title:"Interpolation",example:{model:smooth}},{title:"LineLegendPosition",example:{model:customLineLegendPosition}},{title:"LineLegendPosition (reversed X Axis)",example:{model:customLineLegendPositionReversed}},{title:"Broken lines",example:{model:brokenLine}},{title:"Without Decimator",example:{model:withoutDecimator}},{title:"With X Decimator",example:{model:withXDecimator}},{title:"Canonical spline interpolation",example:{model:canonicalSplineInterpolation}},{title:"Catmull-Rom interpolation",example:{model:catmullRomInterpolation}},{title:"Marker color options",example:{model:markerColorOptions}}]};function pieSeries(){return createExample()}function insideLabelColor(){const Ve=createExample(),je=Ve.series[0];return je.insideLabelColor=OxyColors.White,Ve}function createExample(){const Ve=new PlotModel({title:"World population by continent"}),je=new PieSeries({strokeThickness:2,insideLabelPosition:.8,angleSpan:360,startAngle:0});return je.slices.push({label:"Africa",value:1030,isExploded:!0}),je.slices.push({label:"Americas",value:929,isExploded:!0}),je.slices.push({label:"Asia",value:4157}),je.slices.push({label:"Europe",value:739,isExploded:!0}),je.slices.push({label:"Oceania",value:35,isExploded:!0}),Ve.series.push(je),Ve}const category$b="PieSeries",PieSeriesExamples={category:category$b,tags:["Series"],examples:[{title:"PieSeries",example:{model:pieSeries}},{title:"PieSeries with inside label color",example:{model:insideLabelColor}}]};function rectangleBarSeries(){const Ve=new PlotModel({title:"RectangleBarSeries"}),je=new Legend({legendPlacement:LegendPlacement.Outside});Ve.legends.push(je);const ze=new RectangleBarSeries({title:"RectangleBarSeries 1"}),qe=Ye=>(Ye.color||(Ye.color=OxyColors.Automatic),Ye);ze.items.push(qe({x0:2,x1:8,y0:1,y1:4})),ze.items.push(qe({x0:6,x1:12,y0:6,y1:7})),Ve.series.push(ze);const Xe=new RectangleBarSeries({title:"RectangleBarSeries 2"});return Xe.items.push(qe({x0:2,x1:8,y0:-4,y1:-1})),Xe.items.push(qe({x0:6,x1:12,y0:-7,y1:-6})),Ve.series.push(Xe),Ve}const category$a="RectangleBarSeries",RectangleBarSeriesExamples={category:category$a,tags:["Series"],examples:[{title:"RectangleBarSeries",example:{model:rectangleBarSeries}}]};function fromItems$1(){const je=new PlotModel({title:"RectangleSeries"});je.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.jet(100)}));const ze=new RectangleSeries({labelFontSize:12});for(let qe=9;qe>=0;qe--)ze.items.push(new RectangleItem(-qe*.5,qe*.5,qe*qe,qe*(qe+3),qe));return je.series.push(ze),je}function fromItemsSource$1(){const je=new PlotModel({title:"RectangleSeries"});je.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.jet(100)}));const ze=[];for(let qe=0;qe<10;qe++)ze.push({x:qe,value:qe});return je.series.push(new RectangleSeries({itemsSource:ze,mapping:qe=>{const Xe=qe;return new RectangleItem(Xe.x,Xe.x*2,Xe.x,Xe.x*2,Xe.value)}})),je}const category$9="RectangleSeries",RectangleSeriesExamples={category:category$9,tags:["Series"],examples:[{title:"RectangleSeries",example:{model:fromItems$1}},{title:"RectangleSeries from ItemsSource and Mapping",example:{model:fromItemsSource$1}}]};function correlatedScatter(){return createCorrelatedScatter(1e3)}function randomScatter1(){return randomScatter(32768,0)}function randomScatter2(){return randomScatter(32768,2)}function randomScatter4(){return randomScatter(32768,4)}function randomScatter6(){return randomScatter(32768,6)}function randomScatter8(){return randomScatter(32768,8)}function randomScatter10(){return randomScatter(32768,10)}function twoScatterSeries(){const Ve=new PlotModel({title:"Two ScatterSeries (with and without values)",subtitle:"With values (squares), without values (triangles)"}),je=new LinearColorAxis({position:AxisPosition.Right,key:"ColorAxis",palette:OxyPalettes.jet(30),minimum:-1,maximum:1});return Ve.axes.push(je),Ve.series.push(createRandomScatterSeries(50,MarkerType.Triangle,!1,!1,void 0)),Ve.series.push(createRandomScatterSeries(50,MarkerType.Square,!1,!0,je)),Ve}function labelFormatString(){const Ve=new PlotModel({title:"ScatterSeries with LabelFormatString"}),je=createRandomScatterSeries(50,MarkerType.Square,!1,!1,void 0);return je.labelStringFormatter=(ze,qe)=>round(qe[1],3).toString(),Ve.series.push(je),Ve}function createRandomScatterSeries(Ve,je,ze,qe,Xe){const Ye=new ScatterSeries({markerType:je,markerSize:6,colorAxisKey:Xe!==void 0?Xe.key:void 0}),Ke=new Random;for(let Ze=0;Ze<Ve;Ze++){let Qe;ze&&(Qe=Ke.next()*5+5);let Je;qe&&(Je=Ke.next()*2.2-1.1);const St={x:Ke.next()*2.2-1.1,y:Ke.next(),size:Qe,value:Je};Ye.points.push(St)}return Ye}function randomSize(){return createRandomSizeModel(1e3,8)}function createRandomSizeModel(Ve,je){const ze=new PlotModel({title:`ScatterSeries with random MarkerSize (n=${Ve})`,subtitle:`BinSize = ${je}`}),qe=new ScatterSeries({title:"Series 1",markerStrokeThickness:0,binSize:je}),Xe=new Random;for(let Ye=0;Ye<Ve;Ye++)qe.points.push({x:Xe.next(),y:Xe.next(),size:4+10*Xe.next()});return ze.series.push(qe),ze}function randomWithFit(){const je=new PlotModel({title:"Random data (n=20)"}),ze=new Legend({legendPosition:LegendPosition.LeftTop});je.legends.push(ze);const qe=new ScatterSeries({title:"Measurements"}),Xe=new Random;let Ye=0,Ke=0;for(let Je=0;Je<20;Je++){Ye+=2+Xe.next()*10,Ke+=1+Xe.next();const St={x:Ye,y:Ke};qe.points.push(St)}je.series.push(qe);const[Ze,Qe]=leastSquaresFit(qe.points);return je.annotations.push(new LineAnnotation({slope:Ze,intercept:Qe,text:"Least squares fit"})),je}function leastSquaresFit(Ve){let je=0,ze=0,qe=0,Xe=0,Ye=0;for(const Je of Ve)je+=Je.x,ze+=Je.y,qe+=Je.x*Je.y,Xe+=Je.x*Je.x,Ye++;const Ke=je*je-Ye*Xe,Ze=1/Ke*(je*ze-Ye*qe),Qe=1/Ke*(je*qe-Xe*ze);return[Ze,Qe]}function markerTypes(){const Ve=new PlotModel({title:"Marker types"}),je=new Random;return Ve.series.push(createRandomScatterSeriesWithMarker(je,10,"Circle",MarkerType.Circle)),Ve.series.push(createRandomScatterSeriesWithMarker(je,10,"Cross",MarkerType.Cross)),Ve.series.push(createRandomScatterSeriesWithMarker(je,10,"Diamond",MarkerType.Diamond)),Ve.series.push(createRandomScatterSeriesWithMarker(je,10,"Plus",MarkerType.Plus)),Ve.series.push(createRandomScatterSeriesWithMarker(je,10,"Square",MarkerType.Square)),Ve.series.push(createRandomScatterSeriesWithMarker(je,10,"Star",MarkerType.Star)),Ve.series.push(createRandomScatterSeriesWithMarker(je,10,"Triangle",MarkerType.Triangle)),Ve}function dataPoints(){const Ve=new PlotModel({title:"ScatterSeries (n=1000)",subtitle:"The scatter points are added to the Points collection."}),je=new ScatterSeries;return je.points.push(...createRandomScatterPoints(1e3)),Ve.series.push(je),Ve}function fromItemsSource(){const Ve=new PlotModel({title:"ScatterSeries (n=1000)",subtitle:"The scatter points are defined in the ItemsSource property."});return Ve.series.push(new ScatterSeries({itemsSource:createRandomScatterPoints(1e3)})),Ve}function fromMapping(){const Ve=new PlotModel({title:"ScatterSeries (n=1000)",subtitle:"The scatter points are defined by a mapping from the ItemsSource."});return Ve.series.push(new ScatterSeries({itemsSource:createRandomDataPoints(1e3),mapping:je=>je})),Ve}function fromItemsSourceReflection(){const Ve=new PlotModel({title:"ScatterSeries (n=1000)",subtitle:"The scatter points are defined by reflection from the ItemsSource."});return Ve.series.push(new ScatterSeries({itemsSource:createRandomDataPoints(1e3),dataFieldX:"x",dataFieldY:"y"})),Ve}function colorMapRainbow16(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.rainbow(16),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapHue30(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.hue(30),MarkerType.Star,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapHot64(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.hot(64),MarkerType.Triangle,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapCool32(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.cool(32),MarkerType.Circle,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapGray32(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.gray(32),MarkerType.Diamond,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapJet32(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.jet(32),MarkerType.Plus,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapHot64Extreme(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.hot(64),MarkerType.Square,AxisPosition.Right,OxyColors.Magenta,OxyColors.Green)}function colorMapHot64ExtremeTopLegend(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.hot(64),MarkerType.Cross,AxisPosition.Top,OxyColors.Magenta,OxyColors.Green)}function colorMapHot16Big(){return createRandomScatterSeriesWithColorAxisPlotModel(31e3,OxyPalettes.hot(16),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapBlueWhiteRed3(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.blueWhiteRed(3),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapBlueWhiteRed9(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.blueWhiteRed(9),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapBlueWhiteRed256(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.blueWhiteRed(256),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapBlackWhiteRed9(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.blackWhiteRed(9),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapBlackWhiteRed9TopLegend(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.blackWhiteRed(9),MarkerType.Square,AxisPosition.Top,OxyColors.Undefined,OxyColors.Undefined)}function colorMapViridis(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.viridis(),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapPlasma(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.plasma(),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapMagma(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.magma(),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapInferno(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.inferno(),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapCividis(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.cividis(),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function singleSelectItems(){const Ve=randomScatter(10,8);Ve.subtitle="Click to select a point",Ve.selectionColor=OxyColors.Red;const je=Ve.series[0];return je.selectionMode=SelectionMode.Single,je.selectItem(3),je.selectItem(5),je.mouseDown=(ze,qe)=>{const Xe=qe.hitTestResult.index;je.selectItem(Xe),Ve.invalidatePlot(!1),qe.handled=!0},Ve.mouseDown=(ze,qe)=>{je.clearSelection(),Ve.invalidatePlot(!1),qe.handled=!0},Ve}function multiSelectItems(){const Ve=randomScatter(10,8);Ve.subtitle="Click to toggle point selection",Ve.selectionColor=OxyColors.Red;const je=Ve.series[0];return je.selectionMode=SelectionMode.Multiple,je.selectItem(3),je.selectItem(5),je.mouseDown=(ze,qe)=>{const Xe=qe.hitTestResult.index;je.isItemSelected(Xe)?je.unselectItem(Xe):je.selectItem(Xe),Ve.invalidatePlot(!1),qe.handled=!0},Ve.mouseDown=(ze,qe)=>{je.clearSelection(),Ve.invalidatePlot(!1),qe.handled=!0},Ve}function allSelected(){return createAllSelectedModel(!1)}function allSelectedWithTracker(){return createAllSelectedModel(!0)}function trackerFormatString(){const Ve=new PlotModel({title:"TrackerFormatString"}),je=new ScatterSeries({trackerStringFormatter:qe=>qe.item.sum.toString(),dataFieldX:"x",dataFieldY:"y"}),ze=[new MyPoint(10,40),new MyPoint(40,20),new MyPoint(60,30)];return je.itemsSource=ze,Ve.series.push(je),Ve}function createAllSelectedModel(Ve){const je=randomScatter(10,8);je.subtitle="Click to select all points",je.selectionColor=OxyColors.Red;const ze=je.series[0];return ze.selectionMode=SelectionMode.All,ze.mouseDown=(qe,Xe)=>{ze.select(),je.invalidatePlot(!1),Xe.handled=!Ve},je.mouseDown=(qe,Xe)=>{Xe.hitTestResult!==void 0&&Ve||(ze.clearSelection(),je.invalidatePlot(!1),Xe.handled=!0)},je}class MyPoint{constructor(je,ze){this.x=je,this.y=ze}get sum(){return this.x+this.y}}function randomScatter(Ve,je){const ze=new PlotModel({title:`ScatterSeries (n=${Ve})`,subtitle:je>0?`BinSize = ${je}`:"No 'binning'"}),qe=new ScatterSeries({title:"Series 1",markerType:MarkerType.Diamond,markerStrokeThickness:0,binSize:je}),Xe=new Random;for(let Ye=0;Ye<Ve;Ye++)qe.points.push({x:Xe.next(),y:Xe.next()});return ze.series.push(qe),ze}function createRandomScatterSeriesWithColorAxisPlotModel(Ve,je,ze,qe,Xe,Ye){const Ke=new PlotModel({title:`ScatterSeries (n=${Ve})`,background:OxyColors.LightGray}),Ze=new LinearColorAxis({position:qe,palette:je,minimum:-1,maximum:1,highColor:Xe,lowColor:Ye});return Ke.axes.push(Ze),Ke.series.push(createRandomScatterSeries(Ve,ze,!1,!0,Ze)),Ke}function createCorrelatedScatter(Ve){const je=new PlotModel({title:`Correlated ScatterSeries (n=${Ve})`}),ze=new ScatterSeries({title:"Series 1",markerType:MarkerType.Diamond,markerStrokeThickness:0}),qe=new Random;for(let Xe=0;Xe<Ve;Xe++){const Ye=getNormalDistributedValue(qe),Ke=2*Ye*Ye+getNormalDistributedValue(qe);ze.points.push({x:Ye,y:Ke})}return je.series.push(ze),je}function createRandomScatterSeriesWithMarker(Ve,je,ze,qe){const Xe=new ScatterSeries({title:ze,markerType:qe,markerStroke:OxyColors.Black,markerStrokeThickness:1});for(let Ye=0;Ye<je;Ye++){const Ke=Ve.next()*10,Ze=Ve.next()*10,Qe={x:Ke,y:Ze};Xe.points.push(Qe)}return Xe}function getNormalDistributedValue(Ve){const je=Ve.next(),ze=Ve.next();return Math.sqrt(-2*Math.log(je))*Math.sin(2*Math.PI*ze)}function createRandomDataPoints(Ve){return createRandomScatterPoints(Ve).map(je=>new DataPoint(je.x,je.y))}function createRandomScatterPoints(Ve){const je=new Random,ze=[];for(let qe=0;qe<Ve;qe++){const Xe=je.next()*10,Ye=je.next()*10,Ke={x:Xe,y:Ye};ze.push(Ke)}return ze}const category$8="ScatterSeries",ScatterSeriesExamples={category:category$8,tags:["Series"],examples:[{title:"Correlated points",example:{model:correlatedScatter}},{title:"Random points",example:{model:randomScatter1}},{title:"Random points (BinSize=2)",example:{model:randomScatter2}},{title:"Random points (BinSize=4)",example:{model:randomScatter4}},{title:"Random points (BinSize=6)",example:{model:randomScatter6}},{title:"Random points (BinSize=8)",example:{model:randomScatter8}},{title:"Random points (BinSize=10)",example:{model:randomScatter10}},{title:"Two ScatterSeries",example:{model:twoScatterSeries}},{title:"LabelFormatString",example:{model:labelFormatString}},{title:"Random points with random size",example:{model:randomSize}},{title:"Random points with least squares fit",example:{model:randomWithFit}},{title:"Marker types",example:{model:markerTypes}},{title:"ScatterSeries.Points",example:{model:dataPoints}},{title:"ScatterSeries.ItemsSource",example:{model:fromItemsSource}},{title:"ScatterSeries.ItemsSource + Mapping",example:{model:fromMapping}},{title:"ScatterSeries.ItemsSource + reflection",example:{model:fromItemsSourceReflection}},{title:"ScatterSeries with ColorAxis Rainbow(16)",example:{model:colorMapRainbow16}},{title:"ScatterSeries with ColorAxis Hue(30) Star",example:{model:colorMapHue30}},{title:"ScatterSeries with ColorAxis Hot(64)",example:{model:colorMapHot64}},{title:"ScatterSeries with ColorAxis Cool(32)",example:{model:colorMapCool32}},{title:"ScatterSeries with ColorAxis Gray(32)",example:{model:colorMapGray32}},{title:"ScatterSeries with ColorAxis Jet(32)",example:{model:colorMapJet32}},{title:"ScatterSeries with ColorAxis Hot with extreme colors",example:{model:colorMapHot64Extreme}},{title:"ScatterSeries with ColorAxis Hot (top legend)",example:{model:colorMapHot64ExtremeTopLegend}},{title:"ScatterSeries with ColorAxis Hot(16) N=31000",example:{model:colorMapHot16Big}},{title:"ScatterSeries with ColorAxis BlueWhiteRed (3)",example:{model:colorMapBlueWhiteRed3}},{title:"ScatterSeries with ColorAxis BlueWhiteRed (9)",example:{model:colorMapBlueWhiteRed9}},{title:"ScatterSeries with ColorAxis BlueWhiteRed (256)",example:{model:colorMapBlueWhiteRed256}},{title:"ScatterSeries with ColorAxis BlackWhiteRed (9)",example:{model:colorMapBlackWhiteRed9}},{title:"ScatterSeries with ColorAxis BlackWhiteRed (9) top legend",example:{model:colorMapBlackWhiteRed9TopLegend}},{title:"ScatterSeries with ColorAxis Viridis",example:{model:colorMapViridis}},{title:"ScatterSeries with ColorAxis Plasma",example:{model:colorMapPlasma}},{title:"ScatterSeries with ColorAxis Magma",example:{model:colorMapMagma}},{title:"ScatterSeries with ColorAxis Inferno",example:{model:colorMapInferno}},{title:"ScatterSeries with ColorAxis Cividis",example:{model:colorMapCividis}},{title:"ScatterSeries with single-selected items",example:{model:singleSelectItems}},{title:"ScatterSeries with multi-selected items",example:{model:multiSelectItems}},{title:"ScatterSeries with SelectionMode.All (no tracker)",example:{model:allSelected}},{title:"ScatterSeries with SelectionMode.All (with tracker)",example:{model:allSelectedWithTracker}},{title:"TrackerFormatString",example:{model:trackerFormatString}}]};function stairStepSeries(){return createExampleModel$1(new StairStepSeries)}function stairStepSeriesWithLabels(){return createExampleModel$1(new StairStepSeries({labelStringFormatter:(Ve,je)=>`${round(je[1],2)}`}))}function stairStepSeriesWithMarkers(){return createExampleModel$1(new StairStepSeries({color:OxyColors.SkyBlue,markerType:MarkerType.Circle,markerSize:6,markerStroke:OxyColors.White,markerFill:OxyColors.SkyBlue,markerStrokeThickness:1.5}))}function stairStepSeriesThinVertical(){return createExampleModel$1(new StairStepSeries({strokeThickness:3,verticalStrokeThickness:.4,markerType:MarkerType.None}))}function stairStepSeriesDashedVertical(){return createExampleModel$1(new StairStepSeries({verticalLineStyle:LineStyle.Dash,markerType:MarkerType.None}))}function stairStepSeriesWithInvalidPoints(){const Ve=new PlotModel({title:"StairStepSeries with invalid points",subtitle:"Horizontal lines do not continue"});return populateInvalidPointExampleModel(Ve,je=>DataPoint.Undefined),Ve}function stairStepSeriesWithInvalidY(){const Ve=new PlotModel({title:"StairStepSeries with invalid Y",subtitle:"Horizontal lines continue until X of point with invalid Y"});return populateInvalidPointExampleModel(Ve,je=>new DataPoint(je,NaN)),Ve}function stairStepSeriesWithNonmonotonicX(){const Ve=new PlotModel({title:"StairStepSeries with non-monotonic X",subtitle:"Lines form a boxed I-beam"}),je=new StairStepSeries({markerType:MarkerType.Circle,verticalLineStyle:LineStyle.Dash,verticalStrokeThickness:4,points:[new DataPoint(1,1),new DataPoint(3,1),new DataPoint(2,3),new DataPoint(1,3),new DataPoint(3,3)]});Ve.series.push(je);const ze=new StairStepSeries({markerType:MarkerType.Circle,verticalLineStyle:LineStyle.Dash,verticalStrokeThickness:4,points:[new DataPoint(1,0),new DataPoint(2,0),new DataPoint(0,0),new DataPoint(4,0),new DataPoint(4,4)]});Ve.series.push(ze);const qe=new StairStepSeries({markerType:MarkerType.Circle,verticalLineStyle:LineStyle.Dash,verticalStrokeThickness:4,points:[new DataPoint(3,4),new DataPoint(2,4),new DataPoint(4,4),new DataPoint(0,4),new DataPoint(0,0)]});return Ve.series.push(qe),Ve}function createExampleModel$1(Ve){const je=new PlotModel({title:"StairStepSeries"}),ze=new Legend({legendSymbolLength:24});je.legends.push(ze),Ve.title="sin(x)";for(let qe=0;qe<Math.PI*2;qe+=.5)Ve.points.push(new DataPoint(qe,Math.sin(qe)));return je.series.push(Ve),je}function populateInvalidPointExampleModel(Ve,je){Ve.legends.push(new Legend({legendOrientation:LegendOrientation.Horizontal,legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter}));const ze=new StairStepSeries({title:"Invalid First Point",markerType:MarkerType.Circle,points:[je(0),new DataPoint(1,3.5),new DataPoint(2,4),new DataPoint(3,4.5)]});Ve.series.push(ze);const qe=new StairStepSeries({title:"Invalid Second Point",markerType:MarkerType.Circle,points:[new DataPoint(0,2),je(1),new DataPoint(2,3),new DataPoint(3,3.5)]});Ve.series.push(qe);const Xe=new StairStepSeries({title:"Invalid Penultimate Point",markerType:MarkerType.Circle,points:[new DataPoint(0,1),new DataPoint(1,1.5),je(2),new DataPoint(3,2.5)]});Ve.series.push(Xe);const Ye=new StairStepSeries({title:"Invalid Last Point",markerType:MarkerType.Circle,points:[new DataPoint(0,0),new DataPoint(1,.5),new DataPoint(2,1),je(3)]});Ve.series.push(Ye)}const category$7="StairStepSeries",StairStepSeriesExamples={category:category$7,tags:["Series"],examples:[{title:"StairStepSeries",example:{model:stairStepSeries}},{title:"StairStepSeries with labels",example:{model:stairStepSeriesWithLabels}},{title:"StairStepSeries with markers",example:{model:stairStepSeriesWithMarkers}},{title:"StairStepSeries with thin vertical lines",example:{model:stairStepSeriesThinVertical}},{title:"StairStepSeries with dashed vertical lines",example:{model:stairStepSeriesDashedVertical}},{title:"StairStepSeries with invalid points",example:{model:stairStepSeriesWithInvalidPoints}},{title:"StairStepSeries with invalid Y",example:{model:stairStepSeriesWithInvalidY}},{title:"StairStepSeries with non-monotonic X",example:{model:stairStepSeriesWithNonmonotonicX}}]};function stemSeries(){return createExampleModel(new StemSeries({color:OxyColors.SkyBlue,markerType:MarkerType.Circle,markerSize:6,markerStroke:OxyColors.White,markerStrokeThickness:1.5}))}function createExampleModel(Ve){const je=new PlotModel({title:"StemSeries"}),ze=new Legend({legendSymbolLength:24});je.legends.push(ze),Ve.title="sin(x)";for(let qe=0;qe<Math.PI*2;qe+=.1)Ve.points.push(new DataPoint(qe,Math.sin(qe)));return je.series.push(Ve),je}const category$6="StemSeries",StemSeriesExamples={category:category$6,tags:["Series"],examples:[{title:"StemSeries",example:{model:stemSeries}}]};function threeColorLineSeries(){const Ve=new PlotModel({title:"ThreeColorLineSeries"}),je=new Legend({legendSymbolLength:24});Ve.legends.push(je);const ze=new ThreeColorLineSeries({title:"Temperature at Eidesmoen, December 1986.",trackerStringFormatter:Xe=>`December ${round(Xe.xValue,0)}: ${Xe.yValue.toFixed(1)} C`,markerSize:4,markerStroke:OxyColors.Black,markerStrokeThickness:1.5,markerType:MarkerType.Circle,interpolationAlgorithm:InterpolationAlgorithms.CanonicalSpline,strokeThickness:3}),qe=[5,0,7,7,4,3,5,5,11,4,2,3,2,1,0,2,-1,0,0,-3,-6,-13,-10,-10,0,-4,-5,-4,3,0,-5];for(let Xe=0;Xe<qe.length;Xe++)ze.points.push(new DataPoint(Xe+1,qe[Xe]));return Ve.series.push(ze),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Temperature",unit:"C",extraGridlines:[0]})),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Date"})),Ve}function twoColorLineSeriesReversed$1(){const Ve=threeColorLineSeries();return PlotModelUtilities.reverseYAxis(Ve),Ve}const category$5="ThreeColorLineSeries",ThreeColorLineSeriesExamples={category:category$5,tags:["Series"],examples:[{title:"Temperatures",example:{model:threeColorLineSeries}},{title:"Temperatures (Y Axis reversed)",example:{model:twoColorLineSeriesReversed$1}}]};function tornadoDiagram1(){const Ve=new PlotModel({title:"Tornado diagram 1"}),je=new Legend({legendPlacement:LegendPlacement.Outside});Ve.legends.push(je);const ze=new BarSeries({title:"High",isStacked:!0,fillColor:OxyColor.fromRgb(216,82,85),baseValue:7,strokeColor:OxyColors.Black,strokeThickness:1});ze.items.push(new BarItem({value:1})),ze.items.push(new BarItem({value:1})),ze.items.push(new BarItem({value:4})),ze.items.push(new BarItem({value:5}));const qe=new BarSeries({title:"Low",isStacked:!0,fillColor:OxyColor.fromRgb(84,138,209),baseValue:7,strokeColor:OxyColors.Black,strokeThickness:1});qe.items.push(new BarItem({value:-1})),qe.items.push(new BarItem({value:-3})),qe.items.push(new BarItem({value:-2})),qe.items.push(new BarItem({value:-3}));const Xe=new CategoryAxis({position:AxisPosition.Left});Xe.labels.push("F/X rate"),Xe.labels.push("Inflation"),Xe.labels.push("Price"),Xe.labels.push("Conversion");const Ye=new LinearAxis({position:AxisPosition.Bottom,extraGridlines:[7]});return Ve.series.push(ze),Ve.series.push(qe),Ve.axes.push(Xe),Ve.axes.push(Ye),Ve}function tornadoDiagram2(){const Ve=new PlotModel({title:"Tornado diagram 2"}),je=new Legend({legendPlacement:LegendPlacement.Outside});Ve.legends.push(je);const ze=new TornadoBarSeries({title:"TornadoBarSeries",baseValue:7});ze.items.push(new TornadoBarItem({minimum:6,maximum:8})),ze.items.push(new TornadoBarItem({minimum:4,maximum:8})),ze.items.push(new TornadoBarItem({minimum:5,maximum:11})),ze.items.push(new TornadoBarItem({minimum:4,maximum:12}));const qe=new CategoryAxis({position:AxisPosition.Left});qe.labels.push("F/X rate"),qe.labels.push("Inflation"),qe.labels.push("Price"),qe.labels.push("Conversion");const Xe=new LinearAxis({position:AxisPosition.Bottom,extraGridlines:[7],minimumPadding:.1,maximumPadding:.1});return Ve.series.push(ze),Ve.axes.push(qe),Ve.axes.push(Xe),Ve}function tornadoDiagramWithLabels(){const Ve=new PlotModel({title:"Tornado Diagram"}),je=new Legend({legendPlacement:LegendPlacement.Outside});Ve.legends.push(je);const ze=new TornadoBarSeries({baseValue:7,labelPlacement:LabelPlacement.Outside});ze.items.push(new TornadoBarItem({minimum:6,maximum:8,categoryIndex:0}));const qe=new TornadoBarSeries({baseValue:7,labelPlacement:LabelPlacement.Inside});qe.items.push(new TornadoBarItem({minimum:4,maximum:8,categoryIndex:1}));const Xe=new TornadoBarSeries({baseValue:7,labelPlacement:LabelPlacement.Middle});Xe.items.push(new TornadoBarItem({minimum:5,maximum:11,categoryIndex:2}));const Ye=new TornadoBarSeries({baseValue:7,labelPlacement:LabelPlacement.Base});Ye.items.push(new TornadoBarItem({minimum:4,maximum:12,categoryIndex:3}));const Ke=new TornadoBarSeries({baseValue:7,labelPlacement:LabelPlacement.Outside,labelAngle:-45});Ke.items.push(new TornadoBarItem({minimum:6,maximum:8,categoryIndex:4}));const Ze=new TornadoBarSeries({baseValue:7,labelPlacement:LabelPlacement.Inside,labelAngle:-45});Ze.items.push(new TornadoBarItem({minimum:4,maximum:8,categoryIndex:5}));const Qe=new TornadoBarSeries({baseValue:7,labelPlacement:LabelPlacement.Middle,labelAngle:-45});Qe.items.push(new TornadoBarItem({minimum:5,maximum:11,categoryIndex:6}));const Je=new TornadoBarSeries({baseValue:7,labelPlacement:LabelPlacement.Base,labelAngle:-45});Je.items.push(new TornadoBarItem({minimum:4,maximum:12,categoryIndex:7}));const St=new CategoryAxis({position:AxisPosition.Left,startPosition:1,endPosition:0});St.labels.push("Labels Outside"),St.labels.push("Labels Inside"),St.labels.push("Labels Middle"),St.labels.push("Labels Base"),St.labels.push("Labels Outside (angled)"),St.labels.push("Labels Inside (angled)"),St.labels.push("Labels Middle (angled)"),St.labels.push("Labels Base (angled)");const ei=new LinearAxis({position:AxisPosition.Bottom,extraGridlines:[7],minimumPadding:.1,maximumPadding:.1});return Ve.series.push(ze),Ve.series.push(qe),Ve.series.push(Xe),Ve.series.push(Ye),Ve.series.push(Ke),Ve.series.push(Ze),Ve.series.push(Qe),Ve.series.push(Je),Ve.axes.push(St),Ve.axes.push(ei),Ve}const category$4="TornadoBarSeries",TornadoBarSeriesExamples={category:category$4,tags:["Series"],examples:[{title:"Tornado diagram 1",example:{model:tornadoDiagram1}},{title:"Tornado diagram 2",example:{model:tornadoDiagram2}},{title:"Tornado diagram with various label types",example:{model:tornadoDiagramWithLabels}}]};function twoColorAreaSeries(){const Ve=new PlotModel({title:"TwoColorAreaSeries"}),je=new Legend({legendSymbolLength:24});Ve.legends.push(je);const ze=new TwoColorAreaSeries({title:"Temperature at Eidesmoen, December 1986.",trackerStringFormatter:Xe=>`December ${round(Xe.xValue,0)}: ${Xe.yValue.toFixed(1)} C`,color:OxyColors.Tomato,color2:OxyColors.LightBlue,markerFill:OxyColors.Tomato,markerFill2:OxyColors.LightBlue,strokeThickness:2,limit:-1,markerType:MarkerType.Circle,markerSize:3}),qe=[5,0,7,7,4,3,5,5,11,4,2,3,2,1,0,2,-1,0,0,-3,-6,-13,-10,-10,0,-4,-5,-4,3,0,-5];for(let Xe=0;Xe<qe.length;Xe++)ze.points.push(new DataPoint(Xe+1,qe[Xe]));return Ve.series.push(ze),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Temperature",unit:"C",extraGridlines:[0]})),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Date"})),Ve}function twoColorAreaSeries2(){const Ve=new PlotModel({title:"TwoColorAreaSeries"}),je=new Legend({legendSymbolLength:24});Ve.legends.push(je);const ze=new TwoColorAreaSeries({title:"Temperature at Eidesmoen, December 1986.",trackerStringFormatter:Xe=>`December ${round(Xe.xValue,0)}: ${Xe.yValue.toFixed(1)} C`,color:OxyColors.Black,color2:OxyColors.Brown,markerFill:OxyColors.Red,fill:OxyColors.Tomato,fill2:OxyColors.LightBlue,markerFill2:OxyColors.Blue,markerStroke:OxyColors.Brown,markerStroke2:OxyColors.Black,strokeThickness:2,limit:0,markerType:MarkerType.Circle,markerSize:3}),qe=[5,0,7,7,4,3,5,5,11,4,2,3,2,1,0,2,-1,0,0,-3,-6,-13,-10,-10,0,-4,-5,-4,3,0,-5];for(let Xe=0;Xe<qe.length;Xe++)ze.points.push(new DataPoint(Xe+1,qe[Xe]));return Ve.series.push(ze),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Temperature",unit:"C",extraGridlines:[0]})),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Date"})),Ve}function twoColorAreaSeries3(){const Ve=new PlotModel({title:"TwoColorAreaSeries"}),je=new Legend({legendSymbolLength:24});Ve.legends.push(je);const ze=new TwoColorAreaSeries({title:"Temperature at Eidesmoen, December 1986.",trackerStringFormatter:Xe=>`December ${round(Xe.xValue,0)}: ${Xe.yValue.toFixed(1)} C`,color:OxyColors.Black,color2:OxyColors.Brown,markerFill:OxyColors.Red,fill:OxyColors.Tomato,fill2:OxyColors.LightBlue,markerFill2:OxyColors.Blue,markerStroke:OxyColors.Brown,markerStroke2:OxyColors.Black,strokeThickness:1,limit:0,interpolationAlgorithm:InterpolationAlgorithms.CanonicalSpline,markerType:MarkerType.Circle,markerSize:1}),qe=[5,0,7,7,4,3,5,5,11,4,2,3,2,1,0,2,-1,0,0,-3,-6,-13,-10,-10,0,-4,-5,-4,3,0,-5];for(let Xe=0;Xe<qe.length;Xe++)ze.points.push(new DataPoint(Xe+1,qe[Xe]));return Ve.series.push(ze),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Temperature",unit:"C",extraGridlines:[0]})),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Date"})),Ve}function twoColorAreaSeriesTwoPolygons(){const Ve=new PlotModel({title:"Two polygons"}),je=new Legend({legendSymbolLength:24});Ve.legends.push(je);const ze=new TwoColorAreaSeries({color:OxyColors.Tomato,color2:OxyColors.LightBlue,markerFill:OxyColors.Tomato,markerFill2:OxyColors.LightBlue,strokeThickness:2,markerType:MarkerType.Circle,markerSize:3});return ze.points.push(new DataPoint(0,3),new DataPoint(1,5),new DataPoint(2,1),new DataPoint(3,0),new DataPoint(4,3)),ze.points2.push(new DataPoint(0,-3),new DataPoint(1,-1),new DataPoint(2,0),new DataPoint(3,-6),new DataPoint(4,-4)),Ve.series.push(ze),Ve.axes.push(new LinearAxis({position:AxisPosition.Left})),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve}const category$3="TwoColorAreaSeries",TwoColorAreaSeriesExamples={category:category$3,tags:["Series"],examples:[{title:"Temperatures",example:{model:twoColorAreaSeries}},{title:"Temperatures ver2",example:{model:twoColorAreaSeries2}},{title:"Temperatures ver3",example:{model:twoColorAreaSeries3}},{title:"Two polygons",example:{model:twoColorAreaSeriesTwoPolygons}}]};function twoColorLineSeries(){const Ve=new PlotModel({title:"TwoColorLineSeries"}),je=new Legend({legendSymbolLength:24});Ve.legends.push(je);const ze=new TwoColorLineSeries({title:"Temperature at Eidesmoen, December 1986.",trackerStringFormatter:Xe=>`December ${round(Xe.xValue,0)}: ${Xe.yValue.toFixed(1)} C`,color:OxyColors.Red,color2:OxyColors.LightBlue,strokeThickness:3,limit:0,interpolationAlgorithm:InterpolationAlgorithms.CanonicalSpline,markerType:MarkerType.Circle,markerSize:4,markerStroke:OxyColors.Black,markerStrokeThickness:1.5}),qe=[5,0,7,7,4,3,5,5,11,4,2,3,2,1,0,2,-1,0,0,-3,-6,-13,-10,-10,0,-4,-5,-4,3,0,-5];for(let Xe=0;Xe<qe.length;Xe++)ze.points.push(new DataPoint(Xe+1,qe[Xe]));return Ve.series.push(ze),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Temperature",unit:"C",extraGridlines:[0]})),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Date"})),Ve}function twoColorLineSeriesReversed(){const Ve=twoColorLineSeries();return PlotModelUtilities.reverseYAxis(Ve),Ve}const category$2="TwoColorLineSeries",TwoColorLineSeriesExamples={category:category$2,tags:["Series"],examples:[{title:"Temperatures",example:{model:twoColorLineSeries}},{title:"Temperatures (Y Axis reversed)",example:{model:twoColorLineSeriesReversed}}]};function fromItems(){const{model:Ve}=getModel(!0);return Ve}function fromItemsVeeness(){const{model:Ve,series:je}=getModel(!0);return je.arrowVeeness=2,Ve}function fromItemsVectorOriginAndLabelPosition(){const{model:Ve,series:je}=getModel(!0);return je.arrowLabelPosition=.25,je.arrowStartPosition=.5,Ve}function fromItemsWithoutColorAxis(){const{model:Ve}=getModel(!1);return Ve}function vectorField(){const Ve=new PlotModel({title:"Peaks (Gradient)"}),je=new VectorSeries,ze=ArrayBuilder.createVectorWithStep(-3,3,.25),qe=ArrayBuilder.createVectorWithStep(-3.1,3.1,.25);return je.arrowVeeness=1,je.arrowStartPosition=.5,je.itemsSource=ze.flatMap(Xe=>qe.map(Ye=>({origin:new DataPoint(Xe,Ye),direction:new DataVector(dpeaksdx(Xe,Ye)/40,dpeaksdy(Xe,Ye)/40),value:NaN}))),Ve.series.push(je),Ve}function logarithmicYAxis(){const je=new PlotModel({title:"VectorSeries"}),ze=new Random,qe=100,Xe=100,Ye=50;je.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.cool(10),minimum:0,maximum:Ye})),je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-Ye,maximum:qe+Ye})),je.axes.push(new LogarithmicAxis({position:AxisPosition.Left,minimum:1,maximum:Xe+Ye}));const Ke=new VectorSeries({labelFontSize:12});for(let Ze=99;Ze>=0;Ze--){const Qe=ze.next()*Math.PI*2,Je=ze.next()*Ye,St=new DataPoint(ze.next()*qe,ze.next()*Xe+1),ei=new DataVector(Math.cos(Qe)*Je,Math.sin(Qe)*Je);Ke.items.push({origin:St,direction:ei,value:Je})}return je.series.push(Ke),je}const dpeaksdx=(Ve,je)=>-10*((1/5-3*Math.pow(Ve,2))*Math.exp(-Math.pow(Ve,2)-Math.pow(je,2))-2*Ve*(Ve/5-Math.pow(Ve,3)-Math.pow(je,5))*Math.exp(-Math.pow(Ve,2)-Math.pow(je,2)))+.6666666666666666*(1+Ve)*Math.exp(-Math.pow(1+Ve,2)-Math.pow(je,2))+3*(-2*(1-Ve)*Math.exp(-Math.pow(Ve,2)-Math.pow(1+je,2))-2*Ve*Math.pow(1-Ve,2)*Math.exp(-Math.pow(Ve,2)-Math.pow(1+je,2))),dpeaksdy=(Ve,je)=>-10*(-5*Math.pow(je,4)*Math.exp(-Math.pow(Ve,2)-Math.pow(je,2))-2*je*(Ve/5-Math.pow(Ve,3)-Math.pow(je,5))*Math.exp(-Math.pow(Ve,2)-Math.pow(je,2)))+.6666666666666666*je*Math.exp(-Math.pow(1+Ve,2)-Math.pow(je,2))-6*Math.pow(1-Ve,2)*(1+je)*Math.exp(-Math.pow(Ve,2)-Math.pow(1+je,2));function getModel(Ve){const ze=new PlotModel({title:"VectorSeries (Veeness = 2)"}),qe=new Random,Xe=100,Ye=100,Ke=10;Ve&&ze.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:new OxyPalette(OxyPalettes.cool(10).colors.map(Qe=>OxyColor.fromAColor(100,Qe))),minimum:0,maximum:Ke})),ze.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-Ke,maximum:Xe+Ke})),ze.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-Ke,maximum:Ye+Ke}));const Ze=new VectorSeries({labelFontSize:12});for(let Qe=99;Qe>=0;Qe--){const Je=qe.next()*Math.PI*2,St=qe.next()*Ke,ei=new DataPoint(qe.next()*Xe,qe.next()*Ye),ti=new DataVector(Math.cos(Je)*St,Math.sin(Je)*St);Ze.items.push({origin:ei,direction:ti,value:St})}return ze.series.push(Ze),{model:ze,series:Ze}}const category$1="VectorSeries",VectorSeriesExamples={category:category$1,tags:["Series"],examples:[{title:"VectorSeries",example:{model:fromItems}},{title:"VectorSeries (Veeness = 2)",example:{model:fromItemsVeeness}},{title:"VectorSeries (Vector Origin and Label position)",example:{model:fromItemsVectorOriginAndLabelPosition}},{title:"VectorSeries (without ColorAxis)",example:{model:fromItemsWithoutColorAxis}},{title:"Vector Field",example:{model:vectorField}},{title:"VectorSeries on Log Axis",example:{model:logarithmicYAxis}}]},Series=[...FinancialSeries,AreaSeriesExamples,BarSeriesExamples,BoxPlotSeriesExamples,ContourSeriesExamples,ErrorBarSeriesExamples,ExtrapolationLineSeriesExamples,FunctionSeriesExamples,HeatMapSeriesExamples$1,HistogramSeriesExamples,IntervalBarSeriesExamples,LinearBarSeriesExamples,LineSeriesExamples,PieSeriesExamples,RectangleBarSeriesExamples,RectangleSeriesExamples,ScatterSeriesExamples,StairStepSeriesExamples,StemSeriesExamples,ThreeColorLineSeriesExamples,TornadoBarSeriesExamples,TwoColorAreaSeriesExamples,TwoColorLineSeriesExamples,VectorSeriesExamples];function invisibleContourSeries(){const Ve=new PlotModel;Ve.title="Invisible contour series";const je=new ContourSeries;return je.isVisible=!1,je.columnCoordinates=ArrayBuilder.createVectorWithStep(-1,1,.05),je.rowCoordinates=ArrayBuilder.createVectorWithStep(-1,1,.05),je.data=ArrayBuilder.evaluate((ze,qe)=>ze+qe,je.columnCoordinates,je.rowCoordinates),Ve.series.push(je),Ve}function stairStepSeries_NullReferenceException(){const Ve=new PlotModel;return Ve.title="StairStepSeries NullReferenceException",Ve.series.push(new StairStepSeries),Ve}function heatMapSeriesInterpolationColor(){const Ve=[[10,0,-10],[0,0,0]],je=new PlotModel({title:"HeatMapSeries"});je.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:new OxyPalette([OxyColors.Red,OxyColors.Green,OxyColors.Blue])}));const ze=new HeatMapSeries({coordinateDefinition:HeatMapCoordinateDefinition.Center,x0:0,x1:3,y0:0,y1:2,data:Ve,interpolate:!1,labelFontSize:.2});return je.series.push(ze),je}function peaks400(){return HeatMapSeriesExamples.createPeaks(void 0,!0,400)}function updatingHeatMapSeries1(){const Ve=HeatMapSeriesExamples.createPeaks();Ve.title="Updating HeatMapSeries",Ve.subtitle="Click the heat map to change the Maximum of the color axis.";const je=Ve.axes[0],ze=Ve.series[0];return ze.onMouseDown=qe=>{je.maximum=isNaN(je.maximum)?10:NaN,Ve.invalidatePlot(!0)},Ve}function updatingHeatMapSeries2(){const Ve=HeatMapSeriesExamples.createPeaks();Ve.title="Updating HeatMapSeries",Ve.subtitle="Click the heat map to change the Maximum of the color axis and invoke the Invalidate method on the HeatMapSeries.";const je=Ve.axes[0],ze=Ve.series[0];return ze.onMouseDown=qe=>{je.maximum=isNaN(je.maximum)?10:NaN,ze.invalidate(),Ve.invalidatePlot(!0)},Ve}function reducedColorSaturation(){const Ve=new PlotModel;Ve.title="Reduced color saturation",Ve.axes.push(new CategoryAxis({position:AxisPosition.Bottom})),Ve.defaultColors=Ve.defaultColors.map(ze=>OxyColorExtensions.changeSaturation(ze,.5));const je=new Random;for(let ze=0;ze<Ve.defaultColors.length;ze++){const qe=new BarSeries;qe.items.push(BarItem.fromValue(50+je.next()*50)),qe.items.push(BarItem.fromValue(40+je.next()*50)),Ve.series.push(qe)}return Ve}function mediumIntensityColors(){const Ve=new PlotModel;Ve.title="Medium intensity colors",Ve.axes.push(new CategoryAxis({position:AxisPosition.Bottom})),Ve.defaultColors=[OxyColor.fromRgb(114,114,114),OxyColor.fromRgb(241,89,95),OxyColor.fromRgb(121,195,106),OxyColor.fromRgb(89,154,211),OxyColor.fromRgb(249,166,90),OxyColor.fromRgb(158,102,171),OxyColor.fromRgb(205,112,88),OxyColor.fromRgb(215,127,179)];const je=new Random;for(let ze=0;ze<Ve.defaultColors.length;ze++){const qe=new BarSeries;qe.items.push(BarItem.fromValue(50+je.next()*50)),qe.items.push(BarItem.fromValue(40+je.next()*50)),Ve.series.push(qe)}return Ve}function brewerColors4(){const Ve=new PlotModel;Ve.title="Brewer colors (Accent scheme)",Ve.axes.push(new CategoryAxis({position:AxisPosition.Bottom})),Ve.defaultColors=[OxyColor.fromRgb(127,201,127),OxyColor.fromRgb(190,174,212),OxyColor.fromRgb(253,192,134),OxyColor.fromRgb(255,255,153)];const je=new Random;for(let ze=0;ze<Ve.defaultColors.length;ze++){const qe=new BarSeries;qe.items.push(BarItem.fromValue(50+je.next()*50)),qe.items.push(BarItem.fromValue(40+je.next()*50)),Ve.series.push(qe)}return Ve}function brewerColors6(){const Ve=new PlotModel;Ve.title="Brewer colors (Paired scheme)",Ve.axes.push(new CategoryAxis({position:AxisPosition.Bottom})),Ve.defaultColors=[OxyColor.fromRgb(166,206,227),OxyColor.fromRgb(31,120,180),OxyColor.fromRgb(178,223,138),OxyColor.fromRgb(51,160,44),OxyColor.fromRgb(251,154,153),OxyColor.fromRgb(227,26,28)];const je=new Random;for(let ze=0;ze<Ve.defaultColors.length;ze++){const qe=new BarSeries;qe.items.push(BarItem.fromValue(50+je.next()*50)),qe.items.push(BarItem.fromValue(40+je.next()*50)),Ve.series.push(qe)}return Ve}function sameColorOfLineSeriesAndAxisTitleAndLabels(){const Ve=new PlotModel;Ve.title="Same color of LineSeries and axis title & labels";const je=OxyColors.IndianRed;return Ve.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Axis 1",titleColor:je,textColor:je})),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.series.push(new LineSeries({title:"LineSeries 1",color:je,itemsSource:[new DataPoint(0,0),new DataPoint(10,3),new DataPoint(20,2)]})),Ve}function polarPlotWithArrows(){const Ve=new PlotModel;return Ve.title="Custom arrow series",Ve.plotType=PlotType.Polar,Ve.plotAreaBorderColor=OxyColors.Undefined,Ve.axes.push(new AngleAxis({minimum:0,maximum:360,majorStep:30,minorStep:30,majorGridlineStyle:LineStyle.Dash})),Ve.axes.push(new MagnitudeAxis({minimum:0,maximum:5,majorStep:1,minorStep:1,angle:90,majorGridlineStyle:LineStyle.Dash})),Ve.series.push(new ArrowSeries549839({endPoint:new DataPoint(1,40)})),Ve.series.push(new ArrowSeries549839({endPoint:new DataPoint(2,75)})),Ve.series.push(new ArrowSeries549839({endPoint:new DataPoint(3,110)})),Ve.series.push(new ArrowSeries549839({endPoint:new DataPoint(4,140)})),Ve.series.push(new ArrowSeries549839({endPoint:new DataPoint(5,180)})),Ve}function markerTypeCircleProblem(){const Ve=new PlotModel({plotType:PlotType.Cartesian,plotAreaBorderThickness:new OxyThickness(0)}),je=new Legend;je.legendSymbolLength=30;const ze=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],qe=getDateService(),Xe=new DateTimeAxis({position:AxisPosition.Bottom,tickStyle:TickStyle.None,axislineStyle:LineStyle.Solid,axislineColor:OxyColor.fromRgb(153,153,153),stringFormatter:(Ze,Qe)=>ze[Ze.getMonth()]+qe.format(Ze,"d HH"),intervalType:DateTimeIntervalType.Hours}),Ye=new LinearAxis({position:AxisPosition.Left,minimum:.001,maximum:3,majorGridlineStyle:LineStyle.Solid,tickStyle:TickStyle.None,intervalLength:50});Ve.axes.push(Xe),Ve.axes.push(Ye);const Ke=new LineSeries({color:OxyColor.fromRgb(44,169,173),strokeThickness:1,markerType:MarkerType.Circle,markerStroke:OxyColors.Blue,markerFill:OxyColors.SkyBlue,markerSize:2,dataFieldX:"Date",dataFieldY:"Value",trackerStringFormatter:Ze=>`Date: ${qe.format(Ze.xValue,"DD HH")}
Value: ${Ze.yValue}`});return Ke.points.push(new DataPoint(.1,.7)),Ke.points.push(new DataPoint(.6,.9)),Ke.points.push(new DataPoint(1,.85)),Ke.points.push(new DataPoint(1.4,.95)),Ke.points.push(new DataPoint(1.8,1.2)),Ke.points.push(new DataPoint(2.2,1.7)),Ke.points.push(new DataPoint(2.6,1.7)),Ke.points.push(new DataPoint(3,.7)),Ve.series.push(Ke),Ve}class ArrowSeries549839 extends XYAxisSeries{constructor(ze){super(ze);Yn(this,"defaultColor",OxyColors.Undefined);Yn(this,"startPoint",DataPoint.Zero);Yn(this,"endPoint",DataPoint.Zero);Yn(this,"color");Yn(this,"strokeThickness");this.color=OxyColors.Automatic,this.strokeThickness=2,ze&&Object.assign(this,ze)}setDefaultValues(){this.color.isAutomatic()&&(this.defaultColor=this.plotModel.getDefaultColor())}get actualColor(){return this.color.getActualColor(this.defaultColor)}async render(ze){const qe=this.transform(this.startPoint),Xe=this.transform(this.endPoint),Ye=Xe.minus(qe),Ke=new ScreenVector(Ye.y,-Ye.x),Ze=Xe.minusVector(Ye.times(.2)).plus(Ke.times(.1)),Qe=Xe.minusVector(Ye.times(.2)).minusVector(Ke.times(.1));await ze.drawLineSegments([qe,Xe,Xe,Ze,Xe,Qe],this.actualColor,this.strokeThickness,this.edgeRenderingMode)}}const category="Z0 Discussions",DiscussionExamples={category,examples:[{title:"#445576: Invisible contour series",example:{model:invisibleContourSeries}},{title:"#461507: StairStepSeries NullReferenceException",example:{model:stairStepSeries_NullReferenceException}},{title:"#501409: Heatmap interpolation color",example:{model:heatMapSeriesInterpolationColor}},{title:"#522598: Peaks 400x400",example:{model:peaks400}},{title:"#474875: Updating HeatMapSeries 1",example:{model:updatingHeatMapSeries1}},{title:"#474875: Updating HeatMapSeries 2",example:{model:updatingHeatMapSeries2}},{title:"#539104: Reduced color saturation",example:{model:reducedColorSaturation}},{title:"#539104: Medium intensity colors",example:{model:mediumIntensityColors}},{title:"#539104: Brewer colors (4)",example:{model:brewerColors4}},{title:"#539104: Brewer colors (6)",example:{model:brewerColors6}},{title:"#542701: Same color of LineSeries and axis title & labels",example:{model:sameColorOfLineSeriesAndAxisTitleAndLabels}},{title:"#549839: Polar plot with custom arrow series",example:{model:polarPlotWithArrows}},{title:"MarkerType = Circle problem",example:{model:markerTypeCircleProblem}}]},Discussions=[DiscussionExamples],allExampleCats=[...Annotations,...Axes,...Discussions,...CustomSeries,...Exps,...Misc,...Series,...ShowCases];let finalExamples=[];for(const Ve of allExampleCats){const je=finalExamples.find(ze=>ze.category===Ve.category);je?je.examples.push(...Ve.examples):finalExamples.push(Ve)}finalExamples=sortArray(finalExamples,[["category","ASC"]]);const examples=finalExamples;function u$3(Ve,je,...ze){if(Ve in je){let Xe=je[Ve];return typeof Xe=="function"?Xe(...ze):Xe}let qe=new Error(`Tried to handle "${Ve}" but there is no handler defined. Only defined handlers are: ${Object.keys(je).map(Xe=>`"${Xe}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(qe,u$3),qe}var N$2=(Ve=>(Ve[Ve.None=0]="None",Ve[Ve.RenderStrategy=1]="RenderStrategy",Ve[Ve.Static=2]="Static",Ve))(N$2||{}),S$2=(Ve=>(Ve[Ve.Unmount=0]="Unmount",Ve[Ve.Hidden=1]="Hidden",Ve))(S$2||{});function H$1({visible:Ve=!0,features:je=0,ourProps:ze,theirProps:qe,...Xe}){var Ye;let Ke=j$1(qe,ze),Ze=Object.assign(Xe,{props:Ke});if(Ve||je&2&&Ke.static)return y$3(Ze);if(je&1){let Qe=(Ye=Ke.unmount)==null||Ye?0:1;return u$3(Qe,{0(){return null},1(){return y$3({...Xe,props:{...Ke,hidden:!0,style:{display:"none"}}})}})}return y$3(Ze)}function y$3({props:Ve,attrs:je,slots:ze,slot:qe,name:Xe}){var Ye,Ke;let{as:Ze,...Qe}=T$3(Ve,["unmount","static"]),Je=(Ye=ze.default)==null?void 0:Ye.call(ze,qe),St={};if(qe){let ei=!1,ti=[];for(let[ii,ri]of Object.entries(qe))typeof ri=="boolean"&&(ei=!0),ri===!0&&ti.push(ii);ei&&(St["data-headlessui-state"]=ti.join(" "))}if(Ze==="template"){if(Je=b$2(Je??[]),Object.keys(Qe).length>0||Object.keys(je).length>0){let[ei,...ti]=Je??[];if(!v$1(ei)||ti.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${Xe} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(Qe).concat(Object.keys(je)).map(si=>si.trim()).filter((si,ui,ai)=>ai.indexOf(si)===ui).sort((si,ui)=>si.localeCompare(ui)).map(si=>`  - ${si}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(si=>`  - ${si}`).join(`
`)].join(`
`));let ii=j$1((Ke=ei.props)!=null?Ke:{},Qe),ri=cloneVNode(ei,ii);for(let si in ii)si.startsWith("on")&&(ri.props||(ri.props={}),ri.props[si]=ii[si]);return ri}return Array.isArray(Je)&&Je.length===1?Je[0]:Je}return h$2(Ze,Object.assign({},Qe,St),{default:()=>Je})}function b$2(Ve){return Ve.flatMap(je=>je.type===Fragment?b$2(je.children):[je])}function j$1(...Ve){if(Ve.length===0)return{};if(Ve.length===1)return Ve[0];let je={},ze={};for(let qe of Ve)for(let Xe in qe)Xe.startsWith("on")&&typeof qe[Xe]=="function"?(ze[Xe]!=null||(ze[Xe]=[]),ze[Xe].push(qe[Xe])):je[Xe]=qe[Xe];if(je.disabled||je["aria-disabled"])return Object.assign(je,Object.fromEntries(Object.keys(ze).map(qe=>[qe,void 0])));for(let qe in ze)Object.assign(je,{[qe](Xe,...Ye){let Ke=ze[qe];for(let Ze of Ke){if(Xe instanceof Event&&Xe.defaultPrevented)return;Ze(Xe,...Ye)}}});return je}function K$1(Ve){let je=Object.assign({},Ve);for(let ze in je)je[ze]===void 0&&delete je[ze];return je}function T$3(Ve,je=[]){let ze=Object.assign({},Ve);for(let qe of je)qe in ze&&delete ze[qe];return ze}function v$1(Ve){return Ve==null?!1:typeof Ve.type=="string"||typeof Ve.type=="object"||typeof Ve.type=="function"}let e$1=0;function n$3(){return++e$1}function t(){return n$3()}var o$4=(Ve=>(Ve.Space=" ",Ve.Enter="Enter",Ve.Escape="Escape",Ve.Backspace="Backspace",Ve.Delete="Delete",Ve.ArrowLeft="ArrowLeft",Ve.ArrowUp="ArrowUp",Ve.ArrowRight="ArrowRight",Ve.ArrowDown="ArrowDown",Ve.Home="Home",Ve.End="End",Ve.PageUp="PageUp",Ve.PageDown="PageDown",Ve.Tab="Tab",Ve))(o$4||{});function f$3(Ve){throw new Error("Unexpected object: "+Ve)}var a$3=(Ve=>(Ve[Ve.First=0]="First",Ve[Ve.Previous=1]="Previous",Ve[Ve.Next=2]="Next",Ve[Ve.Last=3]="Last",Ve[Ve.Specific=4]="Specific",Ve[Ve.Nothing=5]="Nothing",Ve))(a$3||{});function x$2(Ve,je){let ze=je.resolveItems();if(ze.length<=0)return null;let qe=je.resolveActiveIndex(),Xe=qe??-1,Ye=(()=>{switch(Ve.focus){case 0:return ze.findIndex(Ke=>!je.resolveDisabled(Ke));case 1:{let Ke=ze.slice().reverse().findIndex((Ze,Qe,Je)=>Xe!==-1&&Je.length-Qe-1>=Xe?!1:!je.resolveDisabled(Ze));return Ke===-1?Ke:ze.length-1-Ke}case 2:return ze.findIndex((Ke,Ze)=>Ze<=Xe?!1:!je.resolveDisabled(Ke));case 3:{let Ke=ze.slice().reverse().findIndex(Ze=>!je.resolveDisabled(Ze));return Ke===-1?Ke:ze.length-1-Ke}case 4:return ze.findIndex(Ke=>je.resolveId(Ke)===Ve.id);case 5:return null;default:f$3(Ve)}})();return Ye===-1?qe:Ye}function o$3(Ve){var je;return Ve==null||Ve.value==null?null:(je=Ve.value.$el)!=null?je:Ve.value}let n$2=Symbol("Context");var l$1=(Ve=>(Ve[Ve.Open=1]="Open",Ve[Ve.Closed=2]="Closed",Ve[Ve.Closing=4]="Closing",Ve[Ve.Opening=8]="Opening",Ve))(l$1||{});function p$3(){return inject(n$2,null)}function c$3(Ve){provide(n$2,Ve)}function r$1(Ve,je){if(Ve)return Ve;let ze=je??"button";if(typeof ze=="string"&&ze.toLowerCase()==="button")return"button"}function b$1(Ve,je){let ze=ref(r$1(Ve.value.type,Ve.value.as));return onMounted(()=>{ze.value=r$1(Ve.value.type,Ve.value.as)}),watchEffect(()=>{var qe;ze.value||o$3(je)&&o$3(je)instanceof HTMLButtonElement&&!((qe=o$3(je))!=null&&qe.hasAttribute("type"))&&(ze.value="button")}),ze}var i$2=Object.defineProperty,d$2=(Ve,je,ze)=>je in Ve?i$2(Ve,je,{enumerable:!0,configurable:!0,writable:!0,value:ze}):Ve[je]=ze,n$1=(Ve,je,ze)=>(d$2(Ve,typeof je!="symbol"?je+"":je,ze),ze);let s$1=class{constructor(){n$1(this,"current",this.detect()),n$1(this,"currentId",0)}set(je){this.current!==je&&(this.currentId=0,this.current=je)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},c$2=new s$1;function m$1(Ve){if(c$2.isServer)return null;if(Ve instanceof Node)return Ve.ownerDocument;if(Ve!=null&&Ve.hasOwnProperty("value")){let je=o$3(Ve);if(je)return je.ownerDocument}return document}let c$1=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(Ve=>`${Ve}:not([tabindex='-1'])`).join(",");var N$1=(Ve=>(Ve[Ve.First=1]="First",Ve[Ve.Previous=2]="Previous",Ve[Ve.Next=4]="Next",Ve[Ve.Last=8]="Last",Ve[Ve.WrapAround=16]="WrapAround",Ve[Ve.NoScroll=32]="NoScroll",Ve))(N$1||{}),T$2=(Ve=>(Ve[Ve.Error=0]="Error",Ve[Ve.Overflow=1]="Overflow",Ve[Ve.Success=2]="Success",Ve[Ve.Underflow=3]="Underflow",Ve))(T$2||{}),F$1=(Ve=>(Ve[Ve.Previous=-1]="Previous",Ve[Ve.Next=1]="Next",Ve))(F$1||{}),h$1=(Ve=>(Ve[Ve.Strict=0]="Strict",Ve[Ve.Loose=1]="Loose",Ve))(h$1||{});function w$2(Ve,je=0){var ze;return Ve===((ze=m$1(Ve))==null?void 0:ze.body)?!1:u$3(je,{0(){return Ve.matches(c$1)},1(){let qe=Ve;for(;qe!==null;){if(qe.matches(c$1))return!0;qe=qe.parentElement}return!1}})}var y$2=(Ve=>(Ve[Ve.Keyboard=0]="Keyboard",Ve[Ve.Mouse=1]="Mouse",Ve))(y$2||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",Ve=>{Ve.metaKey||Ve.altKey||Ve.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",Ve=>{Ve.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:Ve.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function O$2(Ve,je=ze=>ze){return Ve.slice().sort((ze,qe)=>{let Xe=je(ze),Ye=je(qe);if(Xe===null||Ye===null)return 0;let Ke=Xe.compareDocumentPosition(Ye);return Ke&Node.DOCUMENT_POSITION_FOLLOWING?-1:Ke&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function u$2(Ve,je,ze){c$2.isServer||watchEffect(qe=>{document.addEventListener(Ve,je,ze),qe(()=>document.removeEventListener(Ve,je,ze))})}function w$1(Ve,je,ze){c$2.isServer||watchEffect(qe=>{window.addEventListener(Ve,je,ze),qe(()=>window.removeEventListener(Ve,je,ze))})}function y$1(Ve,je,ze=computed(()=>!0)){function qe(Ye,Ke){if(!ze.value||Ye.defaultPrevented)return;let Ze=Ke(Ye);if(Ze===null||!Ze.getRootNode().contains(Ze))return;let Qe=function Je(St){return typeof St=="function"?Je(St()):Array.isArray(St)||St instanceof Set?St:[St]}(Ve);for(let Je of Qe){if(Je===null)continue;let St=Je instanceof HTMLElement?Je:o$3(Je);if(St!=null&&St.contains(Ze)||Ye.composed&&Ye.composedPath().includes(St))return}return!w$2(Ze,h$1.Loose)&&Ze.tabIndex!==-1&&Ye.preventDefault(),je(Ye,Ze)}let Xe=ref(null);u$2("pointerdown",Ye=>{var Ke,Ze;ze.value&&(Xe.value=((Ze=(Ke=Ye.composedPath)==null?void 0:Ke.call(Ye))==null?void 0:Ze[0])||Ye.target)},!0),u$2("mousedown",Ye=>{var Ke,Ze;ze.value&&(Xe.value=((Ze=(Ke=Ye.composedPath)==null?void 0:Ke.call(Ye))==null?void 0:Ze[0])||Ye.target)},!0),u$2("click",Ye=>{Xe.value&&(qe(Ye,()=>Xe.value),Xe.value=null)},!0),u$2("touchend",Ye=>qe(Ye,()=>Ye.target instanceof HTMLElement?Ye.target:null),!0),w$1("blur",Ye=>qe(Ye,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var a$2=(Ve=>(Ve[Ve.None=1]="None",Ve[Ve.Focusable=2]="Focusable",Ve[Ve.Hidden=4]="Hidden",Ve))(a$2||{});let f$2=defineComponent({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(Ve,{slots:je,attrs:ze}){return()=>{let{features:qe,...Xe}=Ve,Ye={"aria-hidden":(qe&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(qe&4)===4&&(qe&2)!==2&&{display:"none"}}};return H$1({ourProps:Ye,theirProps:Xe,slot:{},attrs:ze,slots:je,name:"Hidden"})}}});function e(Ve={},je=null,ze=[]){for(let[qe,Xe]of Object.entries(Ve))o$2(ze,f$1(je,qe),Xe);return ze}function f$1(Ve,je){return Ve?Ve+"["+je+"]":je}function o$2(Ve,je,ze){if(Array.isArray(ze))for(let[qe,Xe]of ze.entries())o$2(Ve,f$1(je,qe.toString()),Xe);else ze instanceof Date?Ve.push([je,ze.toISOString()]):typeof ze=="boolean"?Ve.push([je,ze?"1":"0"]):typeof ze=="string"?Ve.push([je,ze]):typeof ze=="number"?Ve.push([je,`${ze}`]):ze==null?Ve.push([je,""]):e(ze,je,Ve)}function p$2(Ve){var je,ze;let qe=(je=Ve==null?void 0:Ve.form)!=null?je:Ve.closest("form");if(qe){for(let Xe of qe.elements)if(Xe!==Ve&&(Xe.tagName==="INPUT"&&Xe.type==="submit"||Xe.tagName==="BUTTON"&&Xe.type==="submit"||Xe.nodeName==="INPUT"&&Xe.type==="image")){Xe.click();return}(ze=qe.requestSubmit)==null||ze.call(qe)}}function d$1(Ve,je,ze){let qe=ref(ze==null?void 0:ze.value),Xe=computed(()=>Ve.value!==void 0);return[computed(()=>Xe.value?Ve.value:qe.value),function(Ye){return Xe.value||(qe.value=Ye),je==null?void 0:je(Ye)}]}function r(Ve){return[Ve.screenX,Ve.screenY]}function u$1(){let Ve=ref([-1,-1]);return{wasMoved(je){let ze=r(je);return Ve.value[0]===ze[0]&&Ve.value[1]===ze[1]?!1:(Ve.value=ze,!0)},update(je){Ve.value=r(je)}}}var $$2=(Ve=>(Ve[Ve.Open=0]="Open",Ve[Ve.Closed=1]="Closed",Ve))($$2||{});let T$1=Symbol("DisclosureContext");function O$1(Ve){let je=inject(T$1,null);if(je===null){let ze=new Error(`<${Ve} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(ze,O$1),ze}return je}let k$1=Symbol("DisclosurePanelContext");function U$1(){return inject(k$1,null)}let V$1=defineComponent({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(Ve,{slots:je,attrs:ze}){let qe=ref(Ve.defaultOpen?0:1),Xe=ref(null),Ye=ref(null),Ke={buttonId:ref(`headlessui-disclosure-button-${t()}`),panelId:ref(`headlessui-disclosure-panel-${t()}`),disclosureState:qe,panel:Xe,button:Ye,toggleDisclosure(){qe.value=u$3(qe.value,{0:1,1:0})},closeDisclosure(){qe.value!==1&&(qe.value=1)},close(Ze){Ke.closeDisclosure();let Qe=Ze?Ze instanceof HTMLElement?Ze:Ze.value instanceof HTMLElement?o$3(Ze):o$3(Ke.button):o$3(Ke.button);Qe==null||Qe.focus()}};return provide(T$1,Ke),c$3(computed(()=>u$3(qe.value,{0:l$1.Open,1:l$1.Closed}))),()=>{let{defaultOpen:Ze,...Qe}=Ve,Je={open:qe.value===0,close:Ke.close};return H$1({theirProps:Qe,ourProps:{},slot:Je,slots:je,attrs:ze,name:"Disclosure"})}}}),X$1=defineComponent({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(Ve,{attrs:je,slots:ze,expose:qe}){let Xe=O$1("DisclosureButton"),Ye=U$1(),Ke=computed(()=>Ye===null?!1:Ye.value===Xe.panelId.value);onMounted(()=>{Ke.value||Ve.id!==null&&(Xe.buttonId.value=Ve.id)}),onUnmounted(()=>{Ke.value||(Xe.buttonId.value=null)});let Ze=ref(null);qe({el:Ze,$el:Ze}),Ke.value||watchEffect(()=>{Xe.button.value=Ze.value});let Qe=b$1(computed(()=>({as:Ve.as,type:je.type})),Ze);function Je(){var ti;Ve.disabled||(Ke.value?(Xe.toggleDisclosure(),(ti=o$3(Xe.button))==null||ti.focus()):Xe.toggleDisclosure())}function St(ti){var ii;if(!Ve.disabled)if(Ke.value)switch(ti.key){case o$4.Space:case o$4.Enter:ti.preventDefault(),ti.stopPropagation(),Xe.toggleDisclosure(),(ii=o$3(Xe.button))==null||ii.focus();break}else switch(ti.key){case o$4.Space:case o$4.Enter:ti.preventDefault(),ti.stopPropagation(),Xe.toggleDisclosure();break}}function ei(ti){switch(ti.key){case o$4.Space:ti.preventDefault();break}}return()=>{var ti;let ii={open:Xe.disclosureState.value===0},{id:ri,...si}=Ve,ui=Ke.value?{ref:Ze,type:Qe.value,onClick:Je,onKeydown:St}:{id:(ti=Xe.buttonId.value)!=null?ti:ri,ref:Ze,type:Qe.value,"aria-expanded":Xe.disclosureState.value===0,"aria-controls":Xe.disclosureState.value===0||o$3(Xe.panel)?Xe.panelId.value:void 0,disabled:Ve.disabled?!0:void 0,onClick:Je,onKeydown:St,onKeyup:ei};return H$1({ourProps:ui,theirProps:si,slot:ii,attrs:je,slots:ze,name:"DisclosureButton"})}}}),Y$1=defineComponent({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(Ve,{attrs:je,slots:ze,expose:qe}){let Xe=O$1("DisclosurePanel");onMounted(()=>{Ve.id!==null&&(Xe.panelId.value=Ve.id)}),onUnmounted(()=>{Xe.panelId.value=null}),qe({el:Xe.panel,$el:Xe.panel}),provide(k$1,Xe.panelId);let Ye=p$3(),Ke=computed(()=>Ye!==null?(Ye.value&l$1.Open)===l$1.Open:Xe.disclosureState.value===0);return()=>{var Ze;let Qe={open:Xe.disclosureState.value===0,close:Xe.close},{id:Je,...St}=Ve,ei={id:(Ze=Xe.panelId.value)!=null?Ze:Je,ref:Xe.panel};return H$1({ourProps:ei,theirProps:St,slot:Qe,attrs:je,slots:ze,features:N$2.RenderStrategy|N$2.Static,visible:Ke.value,name:"DisclosurePanel"})}}}),a$1=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function o$1(Ve){var je,ze;let qe=(je=Ve.innerText)!=null?je:"",Xe=Ve.cloneNode(!0);if(!(Xe instanceof HTMLElement))return qe;let Ye=!1;for(let Ze of Xe.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))Ze.remove(),Ye=!0;let Ke=Ye?(ze=Xe.innerText)!=null?ze:"":qe;return a$1.test(Ke)&&(Ke=Ke.replace(a$1,"")),Ke}function g$1(Ve){let je=Ve.getAttribute("aria-label");if(typeof je=="string")return je.trim();let ze=Ve.getAttribute("aria-labelledby");if(ze){let qe=ze.split(" ").map(Xe=>{let Ye=document.getElementById(Xe);if(Ye){let Ke=Ye.getAttribute("aria-label");return typeof Ke=="string"?Ke.trim():o$1(Ye).trim()}return null}).filter(Boolean);if(qe.length>0)return qe.join(", ")}return o$1(Ve).trim()}function p$1(Ve){let je=ref(""),ze=ref("");return()=>{let qe=o$3(Ve);if(!qe)return"";let Xe=qe.innerText;if(je.value===Xe)return ze.value;let Ye=g$1(qe).trim().toLowerCase();return je.value=Xe,ze.value=Ye,Ye}}function pe$1(Ve,je){return Ve===je}var ce$1=(Ve=>(Ve[Ve.Open=0]="Open",Ve[Ve.Closed=1]="Closed",Ve))(ce$1||{}),ve$1=(Ve=>(Ve[Ve.Single=0]="Single",Ve[Ve.Multi=1]="Multi",Ve))(ve$1||{}),be$1=(Ve=>(Ve[Ve.Pointer=0]="Pointer",Ve[Ve.Other=1]="Other",Ve))(be$1||{});function me$1(Ve){requestAnimationFrame(()=>requestAnimationFrame(Ve))}let $$1=Symbol("ListboxContext");function A$1(Ve){let je=inject($$1,null);if(je===null){let ze=new Error(`<${Ve} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(ze,A$1),ze}return je}let Be=defineComponent({name:"Listbox",emits:{"update:modelValue":Ve=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>pe$1},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(Ve,{slots:je,attrs:ze,emit:qe}){let Xe=ref(1),Ye=ref(null),Ke=ref(null),Ze=ref(null),Qe=ref([]),Je=ref(""),St=ref(null),ei=ref(1);function ti(ni=ci=>ci){let ci=St.value!==null?Qe.value[St.value]:null,hi=O$2(ni(Qe.value.slice()),fi=>o$3(fi.dataRef.domRef)),di=ci?hi.indexOf(ci):null;return di===-1&&(di=null),{options:hi,activeOptionIndex:di}}let ii=computed(()=>Ve.multiple?1:0),[ri,si]=d$1(computed(()=>Ve.modelValue),ni=>qe("update:modelValue",ni),computed(()=>Ve.defaultValue)),ui=computed(()=>ri.value===void 0?u$3(ii.value,{1:[],0:void 0}):ri.value),ai={listboxState:Xe,value:ui,mode:ii,compare(ni,ci){if(typeof Ve.by=="string"){let hi=Ve.by;return(ni==null?void 0:ni[hi])===(ci==null?void 0:ci[hi])}return Ve.by(ni,ci)},orientation:computed(()=>Ve.horizontal?"horizontal":"vertical"),labelRef:Ye,buttonRef:Ke,optionsRef:Ze,disabled:computed(()=>Ve.disabled),options:Qe,searchQuery:Je,activeOptionIndex:St,activationTrigger:ei,closeListbox(){Ve.disabled||Xe.value!==1&&(Xe.value=1,St.value=null)},openListbox(){Ve.disabled||Xe.value!==0&&(Xe.value=0)},goToOption(ni,ci,hi){if(Ve.disabled||Xe.value===1)return;let di=ti(),fi=x$2(ni===a$3.Specific?{focus:a$3.Specific,id:ci}:{focus:ni},{resolveItems:()=>di.options,resolveActiveIndex:()=>di.activeOptionIndex,resolveId:mi=>mi.id,resolveDisabled:mi=>mi.dataRef.disabled});Je.value="",St.value=fi,ei.value=hi??1,Qe.value=di.options},search(ni){if(Ve.disabled||Xe.value===1)return;let ci=Je.value!==""?0:1;Je.value+=ni.toLowerCase();let hi=(St.value!==null?Qe.value.slice(St.value+ci).concat(Qe.value.slice(0,St.value+ci)):Qe.value).find(fi=>fi.dataRef.textValue.startsWith(Je.value)&&!fi.dataRef.disabled),di=hi?Qe.value.indexOf(hi):-1;di===-1||di===St.value||(St.value=di,ei.value=1)},clearSearch(){Ve.disabled||Xe.value!==1&&Je.value!==""&&(Je.value="")},registerOption(ni,ci){let hi=ti(di=>[...di,{id:ni,dataRef:ci}]);Qe.value=hi.options,St.value=hi.activeOptionIndex},unregisterOption(ni){let ci=ti(hi=>{let di=hi.findIndex(fi=>fi.id===ni);return di!==-1&&hi.splice(di,1),hi});Qe.value=ci.options,St.value=ci.activeOptionIndex,ei.value=1},theirOnChange(ni){Ve.disabled||si(ni)},select(ni){Ve.disabled||si(u$3(ii.value,{0:()=>ni,1:()=>{let ci=toRaw(ai.value.value).slice(),hi=toRaw(ni),di=ci.findIndex(fi=>ai.compare(hi,toRaw(fi)));return di===-1?ci.push(hi):ci.splice(di,1),ci}}))}};y$1([Ke,Ze],(ni,ci)=>{var hi;ai.closeListbox(),w$2(ci,h$1.Loose)||(ni.preventDefault(),(hi=o$3(Ke))==null||hi.focus())},computed(()=>Xe.value===0)),provide($$1,ai),c$3(computed(()=>u$3(Xe.value,{0:l$1.Open,1:l$1.Closed})));let oi=computed(()=>{var ni;return(ni=o$3(Ke))==null?void 0:ni.closest("form")});return onMounted(()=>{watch([oi],()=>{if(!oi.value||Ve.defaultValue===void 0)return;function ni(){ai.theirOnChange(Ve.defaultValue)}return oi.value.addEventListener("reset",ni),()=>{var ci;(ci=oi.value)==null||ci.removeEventListener("reset",ni)}},{immediate:!0})}),()=>{let{name:ni,modelValue:ci,disabled:hi,form:di,...fi}=Ve,mi={open:Xe.value===0,disabled:hi,value:ui.value};return h$2(Fragment,[...ni!=null&&ui.value!=null?e({[ni]:ui.value}).map(([pi,wi])=>h$2(f$2,K$1({features:a$2.Hidden,key:pi,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:di,name:pi,value:wi}))):[],H$1({ourProps:{},theirProps:{...ze,...T$3(fi,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:mi,slots:je,attrs:ze,name:"Listbox"})])}}}),Ne$1=defineComponent({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-listbox-button-${t()}`}},setup(Ve,{attrs:je,slots:ze,expose:qe}){let Xe=A$1("ListboxButton");qe({el:Xe.buttonRef,$el:Xe.buttonRef});function Ye(Je){switch(Je.key){case o$4.Space:case o$4.Enter:case o$4.ArrowDown:Je.preventDefault(),Xe.openListbox(),nextTick(()=>{var St;(St=o$3(Xe.optionsRef))==null||St.focus({preventScroll:!0}),Xe.value.value||Xe.goToOption(a$3.First)});break;case o$4.ArrowUp:Je.preventDefault(),Xe.openListbox(),nextTick(()=>{var St;(St=o$3(Xe.optionsRef))==null||St.focus({preventScroll:!0}),Xe.value.value||Xe.goToOption(a$3.Last)});break}}function Ke(Je){switch(Je.key){case o$4.Space:Je.preventDefault();break}}function Ze(Je){Xe.disabled.value||(Xe.listboxState.value===0?(Xe.closeListbox(),nextTick(()=>{var St;return(St=o$3(Xe.buttonRef))==null?void 0:St.focus({preventScroll:!0})})):(Je.preventDefault(),Xe.openListbox(),me$1(()=>{var St;return(St=o$3(Xe.optionsRef))==null?void 0:St.focus({preventScroll:!0})})))}let Qe=b$1(computed(()=>({as:Ve.as,type:je.type})),Xe.buttonRef);return()=>{var Je,St;let ei={open:Xe.listboxState.value===0,disabled:Xe.disabled.value,value:Xe.value.value},{id:ti,...ii}=Ve,ri={ref:Xe.buttonRef,id:ti,type:Qe.value,"aria-haspopup":"listbox","aria-controls":(Je=o$3(Xe.optionsRef))==null?void 0:Je.id,"aria-expanded":Xe.listboxState.value===0,"aria-labelledby":Xe.labelRef.value?[(St=o$3(Xe.labelRef))==null?void 0:St.id,ti].join(" "):void 0,disabled:Xe.disabled.value===!0?!0:void 0,onKeydown:Ye,onKeyup:Ke,onClick:Ze};return H$1({ourProps:ri,theirProps:ii,slot:ei,attrs:je,slots:ze,name:"ListboxButton"})}}}),He=defineComponent({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-listbox-options-${t()}`}},setup(Ve,{attrs:je,slots:ze,expose:qe}){let Xe=A$1("ListboxOptions"),Ye=ref(null);qe({el:Xe.optionsRef,$el:Xe.optionsRef});function Ke(Je){switch(Ye.value&&clearTimeout(Ye.value),Je.key){case o$4.Space:if(Xe.searchQuery.value!=="")return Je.preventDefault(),Je.stopPropagation(),Xe.search(Je.key);case o$4.Enter:if(Je.preventDefault(),Je.stopPropagation(),Xe.activeOptionIndex.value!==null){let St=Xe.options.value[Xe.activeOptionIndex.value];Xe.select(St.dataRef.value)}Xe.mode.value===0&&(Xe.closeListbox(),nextTick(()=>{var St;return(St=o$3(Xe.buttonRef))==null?void 0:St.focus({preventScroll:!0})}));break;case u$3(Xe.orientation.value,{vertical:o$4.ArrowDown,horizontal:o$4.ArrowRight}):return Je.preventDefault(),Je.stopPropagation(),Xe.goToOption(a$3.Next);case u$3(Xe.orientation.value,{vertical:o$4.ArrowUp,horizontal:o$4.ArrowLeft}):return Je.preventDefault(),Je.stopPropagation(),Xe.goToOption(a$3.Previous);case o$4.Home:case o$4.PageUp:return Je.preventDefault(),Je.stopPropagation(),Xe.goToOption(a$3.First);case o$4.End:case o$4.PageDown:return Je.preventDefault(),Je.stopPropagation(),Xe.goToOption(a$3.Last);case o$4.Escape:Je.preventDefault(),Je.stopPropagation(),Xe.closeListbox(),nextTick(()=>{var St;return(St=o$3(Xe.buttonRef))==null?void 0:St.focus({preventScroll:!0})});break;case o$4.Tab:Je.preventDefault(),Je.stopPropagation();break;default:Je.key.length===1&&(Xe.search(Je.key),Ye.value=setTimeout(()=>Xe.clearSearch(),350));break}}let Ze=p$3(),Qe=computed(()=>Ze!==null?(Ze.value&l$1.Open)===l$1.Open:Xe.listboxState.value===0);return()=>{var Je,St,ei,ti;let ii={open:Xe.listboxState.value===0},{id:ri,...si}=Ve,ui={"aria-activedescendant":Xe.activeOptionIndex.value===null||(Je=Xe.options.value[Xe.activeOptionIndex.value])==null?void 0:Je.id,"aria-multiselectable":Xe.mode.value===1?!0:void 0,"aria-labelledby":(ti=(St=o$3(Xe.labelRef))==null?void 0:St.id)!=null?ti:(ei=o$3(Xe.buttonRef))==null?void 0:ei.id,"aria-orientation":Xe.orientation.value,id:ri,onKeydown:Ke,role:"listbox",tabIndex:0,ref:Xe.optionsRef};return H$1({ourProps:ui,theirProps:si,slot:ii,attrs:je,slots:ze,features:N$2.RenderStrategy|N$2.Static,visible:Qe.value,name:"ListboxOptions"})}}}),Ue=defineComponent({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-listbox.option-${t()}`}},setup(Ve,{slots:je,attrs:ze,expose:qe}){let Xe=A$1("ListboxOption"),Ye=ref(null);qe({el:Ye,$el:Ye});let Ke=computed(()=>Xe.activeOptionIndex.value!==null?Xe.options.value[Xe.activeOptionIndex.value].id===Ve.id:!1),Ze=computed(()=>u$3(Xe.mode.value,{0:()=>Xe.compare(toRaw(Xe.value.value),toRaw(Ve.value)),1:()=>toRaw(Xe.value.value).some(ai=>Xe.compare(toRaw(ai),toRaw(Ve.value)))})),Qe=computed(()=>u$3(Xe.mode.value,{1:()=>{var ai;let oi=toRaw(Xe.value.value);return((ai=Xe.options.value.find(ni=>oi.some(ci=>Xe.compare(toRaw(ci),toRaw(ni.dataRef.value)))))==null?void 0:ai.id)===Ve.id},0:()=>Ze.value})),Je=p$1(Ye),St=computed(()=>({disabled:Ve.disabled,value:Ve.value,get textValue(){return Je()},domRef:Ye}));onMounted(()=>Xe.registerOption(Ve.id,St)),onUnmounted(()=>Xe.unregisterOption(Ve.id)),onMounted(()=>{watch([Xe.listboxState,Ze],()=>{Xe.listboxState.value===0&&Ze.value&&u$3(Xe.mode.value,{1:()=>{Qe.value&&Xe.goToOption(a$3.Specific,Ve.id)},0:()=>{Xe.goToOption(a$3.Specific,Ve.id)}})},{immediate:!0})}),watchEffect(()=>{Xe.listboxState.value===0&&Ke.value&&Xe.activationTrigger.value!==0&&nextTick(()=>{var ai,oi;return(oi=(ai=o$3(Ye))==null?void 0:ai.scrollIntoView)==null?void 0:oi.call(ai,{block:"nearest"})})});function ei(ai){if(Ve.disabled)return ai.preventDefault();Xe.select(Ve.value),Xe.mode.value===0&&(Xe.closeListbox(),nextTick(()=>{var oi;return(oi=o$3(Xe.buttonRef))==null?void 0:oi.focus({preventScroll:!0})}))}function ti(){if(Ve.disabled)return Xe.goToOption(a$3.Nothing);Xe.goToOption(a$3.Specific,Ve.id)}let ii=u$1();function ri(ai){ii.update(ai)}function si(ai){ii.wasMoved(ai)&&(Ve.disabled||Ke.value||Xe.goToOption(a$3.Specific,Ve.id,0))}function ui(ai){ii.wasMoved(ai)&&(Ve.disabled||Ke.value&&Xe.goToOption(a$3.Nothing))}return()=>{let{disabled:ai}=Ve,oi={active:Ke.value,selected:Ze.value,disabled:ai},{id:ni,value:ci,disabled:hi,...di}=Ve,fi={id:ni,ref:Ye,role:"option",tabIndex:ai===!0?void 0:-1,"aria-disabled":ai===!0?!0:void 0,"aria-selected":Ze.value,disabled:void 0,onClick:ei,onFocus:ti,onPointerenter:ri,onMouseenter:ri,onPointermove:si,onMousemove:si,onPointerleave:ui,onMouseleave:ui};return H$1({ourProps:fi,theirProps:di,slot:oi,attrs:ze,slots:je,name:"ListboxOption"})}}}),S$1=Symbol("GroupContext"),ue$1=defineComponent({name:"Switch",emits:{"update:modelValue":Ve=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:()=>`headlessui-switch-${t()}`}},inheritAttrs:!1,setup(Ve,{emit:je,attrs:ze,slots:qe,expose:Xe}){let Ye=inject(S$1,null),[Ke,Ze]=d$1(computed(()=>Ve.modelValue),ui=>je("update:modelValue",ui),computed(()=>Ve.defaultChecked));function Qe(){Ze(!Ke.value)}let Je=ref(null),St=Ye===null?Je:Ye.switchRef,ei=b$1(computed(()=>({as:Ve.as,type:ze.type})),St);Xe({el:St,$el:St});function ti(ui){ui.preventDefault(),Qe()}function ii(ui){ui.key===o$4.Space?(ui.preventDefault(),Qe()):ui.key===o$4.Enter&&p$2(ui.currentTarget)}function ri(ui){ui.preventDefault()}let si=computed(()=>{var ui,ai;return(ai=(ui=o$3(St))==null?void 0:ui.closest)==null?void 0:ai.call(ui,"form")});return onMounted(()=>{watch([si],()=>{if(!si.value||Ve.defaultChecked===void 0)return;function ui(){Ze(Ve.defaultChecked)}return si.value.addEventListener("reset",ui),()=>{var ai;(ai=si.value)==null||ai.removeEventListener("reset",ui)}},{immediate:!0})}),()=>{let{id:ui,name:ai,value:oi,form:ni,...ci}=Ve,hi={checked:Ke.value},di={id:ui,ref:St,role:"switch",type:ei.value,tabIndex:0,"aria-checked":Ke.value,"aria-labelledby":Ye==null?void 0:Ye.labelledby.value,"aria-describedby":Ye==null?void 0:Ye.describedby.value,onClick:ti,onKeyup:ii,onKeypress:ri};return h$2(Fragment,[ai!=null&&Ke.value!=null?h$2(f$2,K$1({features:a$2.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:Ke.value,form:ni,name:ai,value:oi})):null,H$1({ourProps:di,theirProps:{...ze,...T$3(ci,["modelValue","defaultChecked"])},slot:hi,attrs:ze,slots:qe,name:"Switch"})])}}});function render$1(Ve,je){return openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[createBaseVNode("path",{"fill-rule":"evenodd",d:"M10.53 3.47a.75.75 0 0 0-1.06 0L6.22 6.72a.75.75 0 0 0 1.06 1.06L10 5.06l2.72 2.72a.75.75 0 1 0 1.06-1.06l-3.25-3.25Zm-4.31 9.81 3.25 3.25a.75.75 0 0 0 1.06 0l3.25-3.25a.75.75 0 1 0-1.06-1.06L10 14.94l-2.72-2.72a.75.75 0 0 0-1.06 1.06Z","clip-rule":"evenodd"})])}function render(Ve,je){return openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[createBaseVNode("path",{"fill-rule":"evenodd",d:"M9.47 6.47a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 1 1-1.06 1.06L10 8.06l-3.72 3.72a.75.75 0 0 1-1.06-1.06l4.25-4.25Z","clip-rule":"evenodd"})])}var duration$1={exports:{}};(function(Ve,je){(function(ze,qe){Ve.exports=qe()})(commonjsGlobal,function(){var ze,qe,Xe=1e3,Ye=6e4,Ke=36e5,Ze=864e5,Qe=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Je=31536e6,St=2628e6,ei=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,ti={years:Je,months:St,days:Ze,hours:Ke,minutes:Ye,seconds:Xe,milliseconds:1,weeks:6048e5},ii=function(di){return di instanceof ci},ri=function(di,fi,mi){return new ci(di,mi,fi.$l)},si=function(di){return qe.p(di)+"s"},ui=function(di){return di<0},ai=function(di){return ui(di)?Math.ceil(di):Math.floor(di)},oi=function(di){return Math.abs(di)},ni=function(di,fi){return di?ui(di)?{negative:!0,format:""+oi(di)+fi}:{negative:!1,format:""+di+fi}:{negative:!1,format:""}},ci=function(){function di(mi,pi,wi){var gi=this;if(this.$d={},this.$l=wi,mi===void 0&&(this.$ms=0,this.parseFromMilliseconds()),pi)return ri(mi*ti[si(pi)],this);if(typeof mi=="number")return this.$ms=mi,this.parseFromMilliseconds(),this;if(typeof mi=="object")return Object.keys(mi).forEach(function(Si){gi.$d[si(Si)]=mi[Si]}),this.calMilliseconds(),this;if(typeof mi=="string"){var yi=mi.match(ei);if(yi){var Ai=yi.slice(2).map(function(Si){return Si!=null?Number(Si):0});return this.$d.years=Ai[0],this.$d.months=Ai[1],this.$d.weeks=Ai[2],this.$d.days=Ai[3],this.$d.hours=Ai[4],this.$d.minutes=Ai[5],this.$d.seconds=Ai[6],this.calMilliseconds(),this}}return this}var fi=di.prototype;return fi.calMilliseconds=function(){var mi=this;this.$ms=Object.keys(this.$d).reduce(function(pi,wi){return pi+(mi.$d[wi]||0)*ti[wi]},0)},fi.parseFromMilliseconds=function(){var mi=this.$ms;this.$d.years=ai(mi/Je),mi%=Je,this.$d.months=ai(mi/St),mi%=St,this.$d.days=ai(mi/Ze),mi%=Ze,this.$d.hours=ai(mi/Ke),mi%=Ke,this.$d.minutes=ai(mi/Ye),mi%=Ye,this.$d.seconds=ai(mi/Xe),mi%=Xe,this.$d.milliseconds=mi},fi.toISOString=function(){var mi=ni(this.$d.years,"Y"),pi=ni(this.$d.months,"M"),wi=+this.$d.days||0;this.$d.weeks&&(wi+=7*this.$d.weeks);var gi=ni(wi,"D"),yi=ni(this.$d.hours,"H"),Ai=ni(this.$d.minutes,"M"),Si=this.$d.seconds||0;this.$d.milliseconds&&(Si+=this.$d.milliseconds/1e3,Si=Math.round(1e3*Si)/1e3);var ki=ni(Si,"S"),Li=mi.negative||pi.negative||gi.negative||yi.negative||Ai.negative||ki.negative,Bi=yi.format||Ai.format||ki.format?"T":"",Pi=(Li?"-":"")+"P"+mi.format+pi.format+gi.format+Bi+yi.format+Ai.format+ki.format;return Pi==="P"||Pi==="-P"?"P0D":Pi},fi.toJSON=function(){return this.toISOString()},fi.format=function(mi){var pi=mi||"YYYY-MM-DDTHH:mm:ss",wi={Y:this.$d.years,YY:qe.s(this.$d.years,2,"0"),YYYY:qe.s(this.$d.years,4,"0"),M:this.$d.months,MM:qe.s(this.$d.months,2,"0"),D:this.$d.days,DD:qe.s(this.$d.days,2,"0"),H:this.$d.hours,HH:qe.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:qe.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:qe.s(this.$d.seconds,2,"0"),SSS:qe.s(this.$d.milliseconds,3,"0")};return pi.replace(Qe,function(gi,yi){return yi||String(wi[gi])})},fi.as=function(mi){return this.$ms/ti[si(mi)]},fi.get=function(mi){var pi=this.$ms,wi=si(mi);return wi==="milliseconds"?pi%=1e3:pi=wi==="weeks"?ai(pi/ti[wi]):this.$d[wi],pi||0},fi.add=function(mi,pi,wi){var gi;return gi=pi?mi*ti[si(pi)]:ii(mi)?mi.$ms:ri(mi,this).$ms,ri(this.$ms+gi*(wi?-1:1),this)},fi.subtract=function(mi,pi){return this.add(mi,pi,!0)},fi.locale=function(mi){var pi=this.clone();return pi.$l=mi,pi},fi.clone=function(){return ri(this.$ms,this)},fi.humanize=function(mi){return ze().add(this.$ms,"ms").locale(this.$l).fromNow(!mi)},fi.valueOf=function(){return this.asMilliseconds()},fi.milliseconds=function(){return this.get("milliseconds")},fi.asMilliseconds=function(){return this.as("milliseconds")},fi.seconds=function(){return this.get("seconds")},fi.asSeconds=function(){return this.as("seconds")},fi.minutes=function(){return this.get("minutes")},fi.asMinutes=function(){return this.as("minutes")},fi.hours=function(){return this.get("hours")},fi.asHours=function(){return this.as("hours")},fi.days=function(){return this.get("days")},fi.asDays=function(){return this.as("days")},fi.weeks=function(){return this.get("weeks")},fi.asWeeks=function(){return this.as("weeks")},fi.months=function(){return this.get("months")},fi.asMonths=function(){return this.as("months")},fi.years=function(){return this.get("years")},fi.asYears=function(){return this.as("years")},di}(),hi=function(di,fi,mi){return di.add(fi.years()*mi,"y").add(fi.months()*mi,"M").add(fi.days()*mi,"d").add(fi.hours()*mi,"h").add(fi.minutes()*mi,"m").add(fi.seconds()*mi,"s").add(fi.milliseconds()*mi,"ms")};return function(di,fi,mi){ze=mi,qe=mi().$utils(),mi.duration=function(gi,yi){var Ai=mi.locale();return ri(gi,{$l:Ai},yi)},mi.isDuration=ii;var pi=fi.prototype.add,wi=fi.prototype.subtract;fi.prototype.add=function(gi,yi){return ii(gi)?hi(this,gi,1):pi.bind(this)(gi,yi)},fi.prototype.subtract=function(gi,yi){return ii(gi)?hi(this,gi,-1):wi.bind(this)(gi,yi)}}})})(duration$1);var durationExports=duration$1.exports;const duration=getDefaultExportFromCjs(durationExports);var dayOfYear$1={exports:{}};(function(Ve,je){(function(ze,qe){Ve.exports=qe()})(commonjsGlobal,function(){return function(ze,qe,Xe){qe.prototype.dayOfYear=function(Ye){var Ke=Math.round((Xe(this).startOf("day")-Xe(this).startOf("year"))/864e5)+1;return Ye==null?Ke:this.add(Ye-Ke,"day")}}})})(dayOfYear$1);var dayOfYearExports=dayOfYear$1.exports;const dayOfYear=getDefaultExportFromCjs(dayOfYearExports),oxyPlotImg="/oxyplot-js/assets/OxyPlot-4SQiqpWf.png";class RenderContextImageCacheService{constructor(){Yn(this,"cache",new Map)}get(je){return this.cache.get(je)}set(je,ze){this.cache.set(je,ze)}clear(je){je?this.cache.delete(je):this.cache.clear()}}let renderContextImageCacheService=new RenderContextImageCacheService;function getRenderContextImageCacheService(){return renderContextImageCacheService}let cachedContext=null;function getCanvasContext(){if(cachedContext)return cachedContext;const Ve=document.createElement("canvas");if(cachedContext=Ve==null?void 0:Ve.getContext("2d"),!cachedContext)throw new Error("Could not get canvas context");return cachedContext}let styleConverter=null;const getFont=(Ve,je,ze)=>(styleConverter||(styleConverter=new OxyStyleToCanvasStyleConverter),styleConverter.convertFont(Ve,je,ze||FontWeights.Normal));function canvasTextMeasurer(Ve){Ve=Ve||getCanvasContext();function je(ze,qe,Xe,Ye){if(!Ve)throw new Error("Could not get canvas context");Ve.font=getFont(qe,Xe,Ye);const Ke=Ve.measureText(ze);return new OxySize(Ke.width,Xe)}return{measureText:je}}class OxyStyleToCanvasStyleConverter{convertLineJoin(je){switch(je=je||LineJoin.Miter,je){case LineJoin.Miter:return"miter";case LineJoin.Bevel:return"bevel";case LineJoin.Round:return"round"}}convertStrokeOrFillStyle(je){return je.toRgba()}convertFont(je,ze,qe){let Xe="";return(qe||FontWeights.Normal)>FontWeights.Normal&&(Xe+="bold "),Xe+=`${ze||12}px `,je&&(Xe+=`"${je}" `),Xe.trim()}}const scriptRel="modulepreload",assetsURL=function(Ve){return"/oxyplot-js/"+Ve},seen={},__vitePreload=function Ve(je,ze,qe){let Xe=Promise.resolve();if(ze&&ze.length>0){const Ye=document.getElementsByTagName("link");Xe=Promise.all(ze.map(Ke=>{if(Ke=assetsURL(Ke),Ke in seen)return;seen[Ke]=!0;const Ze=Ke.endsWith(".css"),Qe=Ze?'[rel="stylesheet"]':"";if(!!qe)for(let ei=Ye.length-1;ei>=0;ei--){const ti=Ye[ei];if(ti.href===Ke&&(!Ze||ti.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${Ke}"]${Qe}`))return;const St=document.createElement("link");if(St.rel=Ze?"stylesheet":scriptRel,Ze||(St.as="script",St.crossOrigin=""),St.href=Ke,document.head.appendChild(St),Ze)return new Promise((ei,ti)=>{St.addEventListener("load",ei),St.addEventListener("error",()=>ti(new Error(`Unable to preload CSS for ${Ke}`)))})}))}return Xe.then(()=>je()).catch(Ye=>{const Ke=new Event("vite:preloadError",{cancelable:!0});if(Ke.payload=Ye,window.dispatchEvent(Ke),!Ke.defaultPrevented)throw Ye})};function _typeof(Ve){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(je){return typeof je}:function(je){return je&&typeof Symbol=="function"&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je},_typeof(Ve)}var u8=Uint8Array,u16=Uint16Array,u32=Uint32Array,fleb=new u8([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fdeb=new u8([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),clim=new u8([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),freb=function(Ve,je){for(var ze=new u16(31),qe=0;qe<31;++qe)ze[qe]=je+=1<<Ve[qe-1];for(var Xe=new u32(ze[30]),qe=1;qe<30;++qe)for(var Ye=ze[qe];Ye<ze[qe+1];++Ye)Xe[Ye]=Ye-ze[qe]<<5|qe;return[ze,Xe]},_a=freb(fleb,2),fl=_a[0],revfl=_a[1];fl[28]=258,revfl[258]=28;var _b=freb(fdeb,0),fd=_b[0],revfd=_b[1],rev=new u16(32768);for(var i$1=0;i$1<32768;++i$1){var x$1=(i$1&43690)>>>1|(i$1&21845)<<1;x$1=(x$1&52428)>>>2|(x$1&13107)<<2,x$1=(x$1&61680)>>>4|(x$1&3855)<<4,rev[i$1]=((x$1&65280)>>>8|(x$1&255)<<8)>>>1}var hMap=function(Ve,je,ze){for(var qe=Ve.length,Xe=0,Ye=new u16(je);Xe<qe;++Xe)++Ye[Ve[Xe]-1];var Ke=new u16(je);for(Xe=0;Xe<je;++Xe)Ke[Xe]=Ke[Xe-1]+Ye[Xe-1]<<1;var Ze;if(ze){Ze=new u16(1<<je);var Qe=15-je;for(Xe=0;Xe<qe;++Xe)if(Ve[Xe])for(var Je=Xe<<4|Ve[Xe],St=je-Ve[Xe],ei=Ke[Ve[Xe]-1]++<<St,ti=ei|(1<<St)-1;ei<=ti;++ei)Ze[rev[ei]>>>Qe]=Je}else for(Ze=new u16(qe),Xe=0;Xe<qe;++Xe)Ze[Xe]=rev[Ke[Ve[Xe]-1]++]>>>15-Ve[Xe];return Ze},flt=new u8(288);for(var i$1=0;i$1<144;++i$1)flt[i$1]=8;for(var i$1=144;i$1<256;++i$1)flt[i$1]=9;for(var i$1=256;i$1<280;++i$1)flt[i$1]=7;for(var i$1=280;i$1<288;++i$1)flt[i$1]=8;var fdt=new u8(32);for(var i$1=0;i$1<32;++i$1)fdt[i$1]=5;var flm=hMap(flt,9,0),flrm=hMap(flt,9,1),fdm=hMap(fdt,5,0),fdrm=hMap(fdt,5,1),max=function(Ve){for(var je=Ve[0],ze=1;ze<Ve.length;++ze)Ve[ze]>je&&(je=Ve[ze]);return je},bits=function(Ve,je,ze){var qe=je/8>>0;return(Ve[qe]|Ve[qe+1]<<8)>>>(je&7)&ze},bits16=function(Ve,je){var ze=je/8>>0;return(Ve[ze]|Ve[ze+1]<<8|Ve[ze+2]<<16)>>>(je&7)},shft=function(Ve){return(Ve/8>>0)+(Ve&7&&1)},slc=function(Ve,je,ze){(je==null||je<0)&&(je=0),(ze==null||ze>Ve.length)&&(ze=Ve.length);var qe=new(Ve instanceof u16?u16:Ve instanceof u32?u32:u8)(ze-je);return qe.set(Ve.subarray(je,ze)),qe},inflt=function(Ve,je,ze){var qe=Ve.length,Xe=!je||ze,Ye=!ze||ze.i;ze||(ze={}),je||(je=new u8(qe*3));var Ke=function(Wi){var tn=je.length;if(Wi>tn){var nn=new u8(Math.max(tn*2,Wi));nn.set(je),je=nn}},Ze=ze.f||0,Qe=ze.p||0,Je=ze.b||0,St=ze.l,ei=ze.d,ti=ze.m,ii=ze.n,ri=qe*8;do{if(!St){ze.f=Ze=bits(Ve,Qe,1);var si=bits(Ve,Qe+1,3);if(Qe+=3,si)if(si==1)St=flrm,ei=fdrm,ti=9,ii=5;else if(si==2){var ni=bits(Ve,Qe,31)+257,ci=bits(Ve,Qe+10,15)+4,hi=ni+bits(Ve,Qe+5,31)+1;Qe+=14;for(var di=new u8(hi),fi=new u8(19),mi=0;mi<ci;++mi)fi[clim[mi]]=bits(Ve,Qe+mi*3,7);Qe+=ci*3;var pi=max(fi),wi=(1<<pi)-1;if(!Ye&&Qe+hi*(pi+7)>ri)break;for(var gi=hMap(fi,pi,1),mi=0;mi<hi;){var yi=gi[bits(Ve,Qe,wi)];Qe+=yi&15;var ui=yi>>>4;if(ui<16)di[mi++]=ui;else{var Ai=0,Si=0;for(ui==16?(Si=3+bits(Ve,Qe,3),Qe+=2,Ai=di[mi-1]):ui==17?(Si=3+bits(Ve,Qe,7),Qe+=3):ui==18&&(Si=11+bits(Ve,Qe,127),Qe+=7);Si--;)di[mi++]=Ai}}var ki=di.subarray(0,ni),Li=di.subarray(ni);ti=max(ki),ii=max(Li),St=hMap(ki,ti,1),ei=hMap(Li,ii,1)}else throw"invalid block type";else{var ui=shft(Qe)+4,ai=Ve[ui-4]|Ve[ui-3]<<8,oi=ui+ai;if(oi>qe){if(Ye)throw"unexpected EOF";break}Xe&&Ke(Je+ai),je.set(Ve.subarray(ui,oi),Je),ze.b=Je+=ai,ze.p=Qe=oi*8;continue}if(Qe>ri)throw"unexpected EOF"}Xe&&Ke(Je+131072);for(var Bi=(1<<ti)-1,Pi=(1<<ii)-1,Ri=ti+ii+18;Ye||Qe+Ri<ri;){var Ai=St[bits16(Ve,Qe)&Bi],Fi=Ai>>>4;if(Qe+=Ai&15,Qe>ri)throw"unexpected EOF";if(!Ai)throw"invalid length/literal";if(Fi<256)je[Je++]=Fi;else if(Fi==256){St=null;break}else{var Gi=Fi-254;if(Fi>264){var mi=Fi-257,Ti=fleb[mi];Gi=bits(Ve,Qe,(1<<Ti)-1)+fl[mi],Qe+=Ti}var Vi=ei[bits16(Ve,Qe)&Pi],Ui=Vi>>>4;if(!Vi)throw"invalid distance";Qe+=Vi&15;var Li=fd[Ui];if(Ui>3){var Ti=fdeb[Ui];Li+=bits16(Ve,Qe)&(1<<Ti)-1,Qe+=Ti}if(Qe>ri)throw"unexpected EOF";Xe&&Ke(Je+131072);for(var $i=Je+Gi;Je<$i;Je+=4)je[Je]=je[Je-Li],je[Je+1]=je[Je+1-Li],je[Je+2]=je[Je+2-Li],je[Je+3]=je[Je+3-Li];Je=$i}}ze.l=St,ze.p=Qe,ze.b=Je,St&&(Ze=1,ze.m=ti,ze.d=ei,ze.n=ii)}while(!Ze);return Je==je.length?je:slc(je,0,Je)},wbits=function(Ve,je,ze){ze<<=je&7;var qe=je/8>>0;Ve[qe]|=ze,Ve[qe+1]|=ze>>>8},wbits16=function(Ve,je,ze){ze<<=je&7;var qe=je/8>>0;Ve[qe]|=ze,Ve[qe+1]|=ze>>>8,Ve[qe+2]|=ze>>>16},hTree=function(Ve,je){for(var ze=[],qe=0;qe<Ve.length;++qe)Ve[qe]&&ze.push({s:qe,f:Ve[qe]});var Xe=ze.length,Ye=ze.slice();if(!Xe)return[new u8(0),0];if(Xe==1){var Ke=new u8(ze[0].s+1);return Ke[ze[0].s]=1,[Ke,1]}ze.sort(function(hi,di){return hi.f-di.f}),ze.push({s:-1,f:25001});var Ze=ze[0],Qe=ze[1],Je=0,St=1,ei=2;for(ze[0]={s:-1,f:Ze.f+Qe.f,l:Ze,r:Qe};St!=Xe-1;)Ze=ze[ze[Je].f<ze[ei].f?Je++:ei++],Qe=ze[Je!=St&&ze[Je].f<ze[ei].f?Je++:ei++],ze[St++]={s:-1,f:Ze.f+Qe.f,l:Ze,r:Qe};for(var ti=Ye[0].s,qe=1;qe<Xe;++qe)Ye[qe].s>ti&&(ti=Ye[qe].s);var ii=new u16(ti+1),ri=ln(ze[St-1],ii,0);if(ri>je){var qe=0,si=0,ui=ri-je,ai=1<<ui;for(Ye.sort(function(di,fi){return ii[fi.s]-ii[di.s]||di.f-fi.f});qe<Xe;++qe){var oi=Ye[qe].s;if(ii[oi]>je)si+=ai-(1<<ri-ii[oi]),ii[oi]=je;else break}for(si>>>=ui;si>0;){var ni=Ye[qe].s;ii[ni]<je?si-=1<<je-ii[ni]++-1:++qe}for(;qe>=0&&si;--qe){var ci=Ye[qe].s;ii[ci]==je&&(--ii[ci],++si)}ri=je}return[new u8(ii),ri]},ln=function(Ve,je,ze){return Ve.s==-1?Math.max(ln(Ve.l,je,ze+1),ln(Ve.r,je,ze+1)):je[Ve.s]=ze},lc=function(Ve){for(var je=Ve.length;je&&!Ve[--je];);for(var ze=new u16(++je),qe=0,Xe=Ve[0],Ye=1,Ke=function(Qe){ze[qe++]=Qe},Ze=1;Ze<=je;++Ze)if(Ve[Ze]==Xe&&Ze!=je)++Ye;else{if(!Xe&&Ye>2){for(;Ye>138;Ye-=138)Ke(32754);Ye>2&&(Ke(Ye>10?Ye-11<<5|28690:Ye-3<<5|12305),Ye=0)}else if(Ye>3){for(Ke(Xe),--Ye;Ye>6;Ye-=6)Ke(8304);Ye>2&&(Ke(Ye-3<<5|8208),Ye=0)}for(;Ye--;)Ke(Xe);Ye=1,Xe=Ve[Ze]}return[ze.subarray(0,qe),je]},clen=function(Ve,je){for(var ze=0,qe=0;qe<je.length;++qe)ze+=Ve[qe]*je[qe];return ze},wfblk=function(Ve,je,ze){var qe=ze.length,Xe=shft(je+2);Ve[Xe]=qe&255,Ve[Xe+1]=qe>>>8,Ve[Xe+2]=Ve[Xe]^255,Ve[Xe+3]=Ve[Xe+1]^255;for(var Ye=0;Ye<qe;++Ye)Ve[Xe+Ye+4]=ze[Ye];return(Xe+4+qe)*8},wblk=function(Ve,je,ze,qe,Xe,Ye,Ke,Ze,Qe,Je,St){wbits(je,St++,ze),++Xe[256];for(var ei=hTree(Xe,15),ti=ei[0],ii=ei[1],ri=hTree(Ye,15),si=ri[0],ui=ri[1],ai=lc(ti),oi=ai[0],ni=ai[1],ci=lc(si),hi=ci[0],di=ci[1],fi=new u16(19),mi=0;mi<oi.length;++mi)fi[oi[mi]&31]++;for(var mi=0;mi<hi.length;++mi)fi[hi[mi]&31]++;for(var pi=hTree(fi,7),wi=pi[0],gi=pi[1],yi=19;yi>4&&!wi[clim[yi-1]];--yi);var Ai=Je+5<<3,Si=clen(Xe,flt)+clen(Ye,fdt)+Ke,ki=clen(Xe,ti)+clen(Ye,si)+Ke+14+3*yi+clen(fi,wi)+(2*fi[16]+3*fi[17]+7*fi[18]);if(Ai<=Si&&Ai<=ki)return wfblk(je,St,Ve.subarray(Qe,Qe+Je));var Li,Bi,Pi,Ri;if(wbits(je,St,1+(ki<Si)),St+=2,ki<Si){Li=hMap(ti,ii,0),Bi=ti,Pi=hMap(si,ui,0),Ri=si;var Fi=hMap(wi,gi,0);wbits(je,St,ni-257),wbits(je,St+5,di-1),wbits(je,St+10,yi-4),St+=14;for(var mi=0;mi<yi;++mi)wbits(je,St+3*mi,wi[clim[mi]]);St+=3*yi;for(var Gi=[oi,hi],Ti=0;Ti<2;++Ti)for(var Vi=Gi[Ti],mi=0;mi<Vi.length;++mi){var Ui=Vi[mi]&31;wbits(je,St,Fi[Ui]),St+=wi[Ui],Ui>15&&(wbits(je,St,Vi[mi]>>>5&127),St+=Vi[mi]>>>12)}}else Li=flm,Bi=flt,Pi=fdm,Ri=fdt;for(var mi=0;mi<Ze;++mi)if(qe[mi]>255){var Ui=qe[mi]>>>18&31;wbits16(je,St,Li[Ui+257]),St+=Bi[Ui+257],Ui>7&&(wbits(je,St,qe[mi]>>>23&31),St+=fleb[Ui]);var $i=qe[mi]&31;wbits16(je,St,Pi[$i]),St+=Ri[$i],$i>3&&(wbits16(je,St,qe[mi]>>>5&8191),St+=fdeb[$i])}else wbits16(je,St,Li[qe[mi]]),St+=Bi[qe[mi]];return wbits16(je,St,Li[256]),St+Bi[256]},deo=new u32([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),et$1=new u8(0),dflt=function(Ve,je,ze,qe,Xe,Ye){var Ke=Ve.length,Ze=new u8(qe+Ke+5*(1+Math.floor(Ke/7e3))+Xe),Qe=Ze.subarray(qe,Ze.length-Xe),Je=0;if(!je||Ke<8)for(var St=0;St<=Ke;St+=65535){var ei=St+65535;ei<Ke?Je=wfblk(Qe,Je,Ve.subarray(St,ei)):(Qe[St]=Ye,Je=wfblk(Qe,Je,Ve.subarray(St,Ke)))}else{for(var ti=deo[je-1],ii=ti>>>13,ri=ti&8191,si=(1<<ze)-1,ui=new u16(32768),ai=new u16(si+1),oi=Math.ceil(ze/3),ni=2*oi,ci=function(Ii){return(Ve[Ii]^Ve[Ii+1]<<oi^Ve[Ii+2]<<ni)&si},hi=new u32(25e3),di=new u16(288),fi=new u16(32),mi=0,pi=0,St=0,wi=0,gi=0,yi=0;St<Ke;++St){var Ai=ci(St),Si=St&32767,ki=ai[Ai];if(ui[Si]=ki,ai[Ai]=Si,gi<=St){var Li=Ke-St;if((mi>7e3||wi>24576)&&Li>423){Je=wblk(Ve,Qe,0,hi,di,fi,pi,wi,yi,St-yi,Je),wi=mi=pi=0,yi=St;for(var Bi=0;Bi<286;++Bi)di[Bi]=0;for(var Bi=0;Bi<30;++Bi)fi[Bi]=0}var Pi=2,Ri=0,Fi=ri,Gi=Si-ki&32767;if(Li>2&&Ai==ci(St-Gi))for(var Ti=Math.min(ii,Li)-1,Vi=Math.min(32767,St),Ui=Math.min(258,Li);Gi<=Vi&&--Fi&&Si!=ki;){if(Ve[St+Pi]==Ve[St+Pi-Gi]){for(var $i=0;$i<Ui&&Ve[St+$i]==Ve[St+$i-Gi];++$i);if($i>Pi){if(Pi=$i,Ri=Gi,$i>Ti)break;for(var Wi=Math.min(Gi,$i-2),tn=0,Bi=0;Bi<Wi;++Bi){var nn=St-Gi+Bi+32768&32767,Qi=ui[nn],Ei=nn-Qi+32768&32767;Ei>tn&&(tn=Ei,ki=nn)}}}Si=ki,ki=ui[Si],Gi+=Si-ki+32768&32767}if(Ri){hi[wi++]=268435456|revfl[Pi]<<18|revfd[Ri];var bi=revfl[Pi]&31,Ci=revfd[Ri]&31;pi+=fleb[bi]+fdeb[Ci],++di[257+bi],++fi[Ci],gi=St+Pi,++mi}else hi[wi++]=Ve[St],++di[Ve[St]]}}Je=wblk(Ve,Qe,Ye,hi,di,fi,pi,wi,yi,St-yi,Je),Ye||(Je=wfblk(Qe,Je,et$1))}return slc(Ze,0,qe+shft(Je)+Xe)},adler=function(){var Ve=1,je=0;return{p:function(ze){for(var qe=Ve,Xe=je,Ye=ze.length,Ke=0;Ke!=Ye;){for(var Ze=Math.min(Ke+5552,Ye);Ke<Ze;++Ke)qe+=ze[Ke],Xe+=qe;qe%=65521,Xe%=65521}Ve=qe,je=Xe},d:function(){return(Ve>>>8<<16|(je&255)<<8|je>>>8)+((Ve&255)<<23)*2}}},dopt=function(Ve,je,ze,qe,Xe){return dflt(Ve,je.level==null?6:je.level,je.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(Ve.length)))*1.5):12+je.mem,ze,qe,!Xe)},wbytes=function(Ve,je,ze){for(;ze;++je)Ve[je]=ze,ze>>>=8},zlh=function(Ve,je){var ze=je.level,qe=ze==0?0:ze<6?1:ze==9?3:2;Ve[0]=120,Ve[1]=qe<<6|(qe?32-2*qe:1)},zlv=function(Ve){if((Ve[0]&15)!=8||Ve[0]>>>4>7||(Ve[0]<<8|Ve[1])%31)throw"invalid zlib data";if(Ve[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function zlibSync(Ve,je){je===void 0&&(je={});var ze=adler();ze.p(Ve);var qe=dopt(Ve,je,2,4);return zlh(qe,je),wbytes(qe,qe.length-4,ze.d()),qe}function unzlibSync(Ve,je){return inflt((zlv(Ve),Ve.subarray(2,-4)),je)}var n=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function i(){n.console&&typeof n.console.log=="function"&&n.console.log.apply(n.console,arguments)}var a={log:i,warn:function(Ve){n.console&&(typeof n.console.warn=="function"?n.console.warn.apply(n.console,arguments):i.call(null,arguments))},error:function(Ve){n.console&&(typeof n.console.error=="function"?n.console.error.apply(n.console,arguments):i(Ve))}};function o(Ve,je,ze){var qe=new XMLHttpRequest;qe.open("GET",Ve),qe.responseType="blob",qe.onload=function(){l(qe.response,je,ze)},qe.onerror=function(){a.error("could not download file")},qe.send()}function s(Ve){var je=new XMLHttpRequest;je.open("HEAD",Ve,!1);try{je.send()}catch{}return je.status>=200&&je.status<=299}function c(Ve){try{Ve.dispatchEvent(new MouseEvent("click"))}catch{var je=document.createEvent("MouseEvents");je.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),Ve.dispatchEvent(je)}}var u,h,l=n.saveAs||((typeof window>"u"?"undefined":_typeof(window))!=="object"||window!==n?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(Ve,je,ze){var qe=n.URL||n.webkitURL,Xe=document.createElement("a");je=je||Ve.name||"download",Xe.download=je,Xe.rel="noopener",typeof Ve=="string"?(Xe.href=Ve,Xe.origin!==location.origin?s(Xe.href)?o(Ve,je,ze):c(Xe,Xe.target="_blank"):c(Xe)):(Xe.href=qe.createObjectURL(Ve),setTimeout(function(){qe.revokeObjectURL(Xe.href)},4e4),setTimeout(function(){c(Xe)},0))}:"msSaveOrOpenBlob"in navigator?function(Ve,je,ze){if(je=je||Ve.name||"download",typeof Ve=="string")if(s(Ve))o(Ve,je,ze);else{var qe=document.createElement("a");qe.href=Ve,qe.target="_blank",setTimeout(function(){c(qe)})}else navigator.msSaveOrOpenBlob(function(Xe,Ye){return Ye===void 0?Ye={autoBom:!1}:_typeof(Ye)!=="object"&&(a.warn("Deprecated: Expected third argument to be a object"),Ye={autoBom:!Ye}),Ye.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(Xe.type)?new Blob(["\uFEFF",Xe],{type:Xe.type}):Xe}(Ve,ze),je)}:function(Ve,je,ze,qe){if((qe=qe||open("","_blank"))&&(qe.document.title=qe.document.body.innerText="downloading..."),typeof Ve=="string")return o(Ve,je,ze);var Xe=Ve.type==="application/octet-stream",Ye=/constructor/i.test(n.HTMLElement)||n.safari,Ke=/CriOS\/[\d]+/.test(navigator.userAgent);if((Ke||Xe&&Ye)&&(typeof FileReader>"u"?"undefined":_typeof(FileReader))==="object"){var Ze=new FileReader;Ze.onloadend=function(){var St=Ze.result;St=Ke?St:St.replace(/^data:[^;]*;/,"data:attachment/file;"),qe?qe.location.href=St:location=St,qe=null},Ze.readAsDataURL(Ve)}else{var Qe=n.URL||n.webkitURL,Je=Qe.createObjectURL(Ve);qe?qe.location=Je:location.href=Je,qe=null,setTimeout(function(){Qe.revokeObjectURL(Je)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function f(Ve){var je;Ve=Ve||"",this.ok=!1,Ve.charAt(0)=="#"&&(Ve=Ve.substr(1,6)),Ve={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[Ve=(Ve=Ve.replace(/ /g,"")).toLowerCase()]||Ve;for(var ze=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(Ze){return[parseInt(Ze[1]),parseInt(Ze[2]),parseInt(Ze[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(Ze){return[parseInt(Ze[1],16),parseInt(Ze[2],16),parseInt(Ze[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(Ze){return[parseInt(Ze[1]+Ze[1],16),parseInt(Ze[2]+Ze[2],16),parseInt(Ze[3]+Ze[3],16)]}}],qe=0;qe<ze.length;qe++){var Xe=ze[qe].re,Ye=ze[qe].process,Ke=Xe.exec(Ve);Ke&&(je=Ye(Ke),this.r=je[0],this.g=je[1],this.b=je[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var Ze=this.r.toString(16),Qe=this.g.toString(16),Je=this.b.toString(16);return Ze.length==1&&(Ze="0"+Ze),Qe.length==1&&(Qe="0"+Qe),Je.length==1&&(Je="0"+Je),"#"+Ze+Qe+Je}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function d(Ve,je){var ze=Ve[0],qe=Ve[1],Xe=Ve[2],Ye=Ve[3];ze=g(ze,qe,Xe,Ye,je[0],7,-680876936),Ye=g(Ye,ze,qe,Xe,je[1],12,-389564586),Xe=g(Xe,Ye,ze,qe,je[2],17,606105819),qe=g(qe,Xe,Ye,ze,je[3],22,-1044525330),ze=g(ze,qe,Xe,Ye,je[4],7,-176418897),Ye=g(Ye,ze,qe,Xe,je[5],12,1200080426),Xe=g(Xe,Ye,ze,qe,je[6],17,-1473231341),qe=g(qe,Xe,Ye,ze,je[7],22,-45705983),ze=g(ze,qe,Xe,Ye,je[8],7,1770035416),Ye=g(Ye,ze,qe,Xe,je[9],12,-1958414417),Xe=g(Xe,Ye,ze,qe,je[10],17,-42063),qe=g(qe,Xe,Ye,ze,je[11],22,-1990404162),ze=g(ze,qe,Xe,Ye,je[12],7,1804603682),Ye=g(Ye,ze,qe,Xe,je[13],12,-40341101),Xe=g(Xe,Ye,ze,qe,je[14],17,-1502002290),ze=m(ze,qe=g(qe,Xe,Ye,ze,je[15],22,1236535329),Xe,Ye,je[1],5,-165796510),Ye=m(Ye,ze,qe,Xe,je[6],9,-1069501632),Xe=m(Xe,Ye,ze,qe,je[11],14,643717713),qe=m(qe,Xe,Ye,ze,je[0],20,-373897302),ze=m(ze,qe,Xe,Ye,je[5],5,-701558691),Ye=m(Ye,ze,qe,Xe,je[10],9,38016083),Xe=m(Xe,Ye,ze,qe,je[15],14,-660478335),qe=m(qe,Xe,Ye,ze,je[4],20,-405537848),ze=m(ze,qe,Xe,Ye,je[9],5,568446438),Ye=m(Ye,ze,qe,Xe,je[14],9,-1019803690),Xe=m(Xe,Ye,ze,qe,je[3],14,-187363961),qe=m(qe,Xe,Ye,ze,je[8],20,1163531501),ze=m(ze,qe,Xe,Ye,je[13],5,-1444681467),Ye=m(Ye,ze,qe,Xe,je[2],9,-51403784),Xe=m(Xe,Ye,ze,qe,je[7],14,1735328473),ze=v(ze,qe=m(qe,Xe,Ye,ze,je[12],20,-1926607734),Xe,Ye,je[5],4,-378558),Ye=v(Ye,ze,qe,Xe,je[8],11,-2022574463),Xe=v(Xe,Ye,ze,qe,je[11],16,1839030562),qe=v(qe,Xe,Ye,ze,je[14],23,-35309556),ze=v(ze,qe,Xe,Ye,je[1],4,-1530992060),Ye=v(Ye,ze,qe,Xe,je[4],11,1272893353),Xe=v(Xe,Ye,ze,qe,je[7],16,-155497632),qe=v(qe,Xe,Ye,ze,je[10],23,-1094730640),ze=v(ze,qe,Xe,Ye,je[13],4,681279174),Ye=v(Ye,ze,qe,Xe,je[0],11,-358537222),Xe=v(Xe,Ye,ze,qe,je[3],16,-722521979),qe=v(qe,Xe,Ye,ze,je[6],23,76029189),ze=v(ze,qe,Xe,Ye,je[9],4,-640364487),Ye=v(Ye,ze,qe,Xe,je[12],11,-421815835),Xe=v(Xe,Ye,ze,qe,je[15],16,530742520),ze=b(ze,qe=v(qe,Xe,Ye,ze,je[2],23,-995338651),Xe,Ye,je[0],6,-198630844),Ye=b(Ye,ze,qe,Xe,je[7],10,1126891415),Xe=b(Xe,Ye,ze,qe,je[14],15,-1416354905),qe=b(qe,Xe,Ye,ze,je[5],21,-57434055),ze=b(ze,qe,Xe,Ye,je[12],6,1700485571),Ye=b(Ye,ze,qe,Xe,je[3],10,-1894986606),Xe=b(Xe,Ye,ze,qe,je[10],15,-1051523),qe=b(qe,Xe,Ye,ze,je[1],21,-2054922799),ze=b(ze,qe,Xe,Ye,je[8],6,1873313359),Ye=b(Ye,ze,qe,Xe,je[15],10,-30611744),Xe=b(Xe,Ye,ze,qe,je[6],15,-1560198380),qe=b(qe,Xe,Ye,ze,je[13],21,1309151649),ze=b(ze,qe,Xe,Ye,je[4],6,-145523070),Ye=b(Ye,ze,qe,Xe,je[11],10,-1120210379),Xe=b(Xe,Ye,ze,qe,je[2],15,718787259),qe=b(qe,Xe,Ye,ze,je[9],21,-343485551),Ve[0]=_(ze,Ve[0]),Ve[1]=_(qe,Ve[1]),Ve[2]=_(Xe,Ve[2]),Ve[3]=_(Ye,Ve[3])}function p(Ve,je,ze,qe,Xe,Ye){return je=_(_(je,Ve),_(qe,Ye)),_(je<<Xe|je>>>32-Xe,ze)}function g(Ve,je,ze,qe,Xe,Ye,Ke){return p(je&ze|~je&qe,Ve,je,Xe,Ye,Ke)}function m(Ve,je,ze,qe,Xe,Ye,Ke){return p(je&qe|ze&~qe,Ve,je,Xe,Ye,Ke)}function v(Ve,je,ze,qe,Xe,Ye,Ke){return p(je^ze^qe,Ve,je,Xe,Ye,Ke)}function b(Ve,je,ze,qe,Xe,Ye,Ke){return p(ze^(je|~qe),Ve,je,Xe,Ye,Ke)}function y(Ve){var je,ze=Ve.length,qe=[1732584193,-271733879,-1732584194,271733878];for(je=64;je<=Ve.length;je+=64)d(qe,w(Ve.substring(je-64,je)));Ve=Ve.substring(je-64);var Xe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(je=0;je<Ve.length;je++)Xe[je>>2]|=Ve.charCodeAt(je)<<(je%4<<3);if(Xe[je>>2]|=128<<(je%4<<3),je>55)for(d(qe,Xe),je=0;je<16;je++)Xe[je]=0;return Xe[14]=8*ze,d(qe,Xe),qe}function w(Ve){var je,ze=[];for(je=0;je<64;je+=4)ze[je>>2]=Ve.charCodeAt(je)+(Ve.charCodeAt(je+1)<<8)+(Ve.charCodeAt(je+2)<<16)+(Ve.charCodeAt(je+3)<<24);return ze}u=n.atob.bind(n),h=n.btoa.bind(n);var N="0123456789abcdef".split("");function L(Ve){for(var je="",ze=0;ze<4;ze++)je+=N[Ve>>8*ze+4&15]+N[Ve>>8*ze&15];return je}function A(Ve){return String.fromCharCode((255&Ve)>>0,(65280&Ve)>>8,(16711680&Ve)>>16,(4278190080&Ve)>>24)}function x(Ve){return y(Ve).map(A).join("")}var S=function(Ve){for(var je=0;je<Ve.length;je++)Ve[je]=L(Ve[je]);return Ve.join("")}(y("hello"))!="5d41402abc4b2a76b9719d911017c592";function _(Ve,je){if(S){var ze=(65535&Ve)+(65535&je);return(Ve>>16)+(je>>16)+(ze>>16)<<16|65535&ze}return Ve+je&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function P(Ve,je){var ze,qe,Xe,Ye;if(Ve!==ze){for(var Ke=(Xe=Ve,Ye=1+(256/Ve.length>>0),new Array(Ye+1).join(Xe)),Ze=[],Qe=0;Qe<256;Qe++)Ze[Qe]=Qe;var Je=0;for(Qe=0;Qe<256;Qe++){var St=Ze[Qe];Je=(Je+St+Ke.charCodeAt(Qe))%256,Ze[Qe]=Ze[Je],Ze[Je]=St}ze=Ve,qe=Ze}else Ze=qe;var ei=je.length,ti=0,ii=0,ri="";for(Qe=0;Qe<ei;Qe++)ii=(ii+(St=Ze[ti=(ti+1)%256]))%256,Ze[ti]=Ze[ii],Ze[ii]=St,Ke=Ze[(Ze[ti]+Ze[ii])%256],ri+=String.fromCharCode(je.charCodeAt(Qe)^Ke);return ri}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var k={print:4,modify:8,copy:16,"annot-forms":32};function I(Ve,je,ze,qe){this.v=1,this.r=2;var Xe=192;Ve.forEach(function(Ze){if(k.perm!==void 0)throw new Error("Invalid permission: "+Ze);Xe+=k[Ze]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var Ye=(je+this.padding).substr(0,32),Ke=(ze+this.padding).substr(0,32);this.O=this.processOwnerPassword(Ye,Ke),this.P=-(1+(255^Xe)),this.encryptionKey=x(Ye+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(qe)).substr(0,5),this.U=P(this.encryptionKey,this.padding)}function F(Ve){if(/[^\u0000-\u00ff]/.test(Ve))throw new Error("Invalid PDF Name Object: "+Ve+", Only accept ASCII characters.");for(var je="",ze=Ve.length,qe=0;qe<ze;qe++){var Xe=Ve.charCodeAt(qe);Xe<33||Xe===35||Xe===37||Xe===40||Xe===41||Xe===47||Xe===60||Xe===62||Xe===91||Xe===93||Xe===123||Xe===125||Xe>126?je+="#"+("0"+Xe.toString(16)).slice(-2):je+=Ve[qe]}return je}function C(Ve){if(_typeof(Ve)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var je={};this.subscribe=function(ze,qe,Xe){if(Xe=Xe||!1,typeof ze!="string"||typeof qe!="function"||typeof Xe!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");je.hasOwnProperty(ze)||(je[ze]={});var Ye=Math.random().toString(35);return je[ze][Ye]=[qe,!!Xe],Ye},this.unsubscribe=function(ze){for(var qe in je)if(je[qe][ze])return delete je[qe][ze],Object.keys(je[qe]).length===0&&delete je[qe],!0;return!1},this.publish=function(ze){if(je.hasOwnProperty(ze)){var qe=Array.prototype.slice.call(arguments,1),Xe=[];for(var Ye in je[ze]){var Ke=je[ze][Ye];try{Ke[0].apply(Ve,qe)}catch(Ze){n.console&&a.error("jsPDF PubSub Error",Ze.message,Ze)}Ke[1]&&Xe.push(Ye)}Xe.length&&Xe.forEach(this.unsubscribe)}},this.getTopics=function(){return je}}function j(Ve){if(!(this instanceof j))return new j(Ve);var je="opacity,stroke-opacity".split(",");for(var ze in Ve)Ve.hasOwnProperty(ze)&&je.indexOf(ze)>=0&&(this[ze]=Ve[ze]);this.id="",this.objectNumber=-1}function O(Ve,je){this.gState=Ve,this.matrix=je,this.id="",this.objectNumber=-1}function B(Ve,je,ze,qe,Xe){if(!(this instanceof B))return new B(Ve,je,ze,qe,Xe);this.type=Ve==="axial"?2:3,this.coords=je,this.colors=ze,O.call(this,qe,Xe)}function M(Ve,je,ze,qe,Xe){if(!(this instanceof M))return new M(Ve,je,ze,qe,Xe);this.boundingBox=Ve,this.xStep=je,this.yStep=ze,this.stream="",this.cloneIndex=0,O.call(this,qe,Xe)}function E(Ve){var je,ze=typeof arguments[0]=="string"?arguments[0]:"p",qe=arguments[1],Xe=arguments[2],Ye=arguments[3],Ke=[],Ze=1,Qe=16,Je="S",St=null;_typeof(Ve=Ve||{})==="object"&&(ze=Ve.orientation,qe=Ve.unit||qe,Xe=Ve.format||Xe,Ye=Ve.compress||Ve.compressPdf||Ye,(St=Ve.encryption||null)!==null&&(St.userPassword=St.userPassword||"",St.ownerPassword=St.ownerPassword||"",St.userPermissions=St.userPermissions||[]),Ze=typeof Ve.userUnit=="number"?Math.abs(Ve.userUnit):1,Ve.precision!==void 0&&(je=Ve.precision),Ve.floatPrecision!==void 0&&(Qe=Ve.floatPrecision),Je=Ve.defaultPathOperation||"S"),Ke=Ve.filters||(Ye===!0?["FlateEncode"]:Ke),qe=qe||"mm",ze=(""+(ze||"P")).toLowerCase();var ei=Ve.putOnlyUsedFonts||!1,ti={},ii={internal:{},__private__:{}};ii.__private__.PubSub=C;var ri="1.3",si=ii.__private__.getPdfVersion=function(){return ri};ii.__private__.setPdfVersion=function(Mi){ri=Mi};var ui={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};ii.__private__.getPageFormats=function(){return ui};var ai=ii.__private__.getPageFormat=function(Mi){return ui[Mi]};Xe=Xe||"a4";var oi={COMPAT:"compat",ADVANCED:"advanced"},ni=oi.COMPAT;function ci(){this.saveGraphicsState(),Di(new Dn(an,0,0,-an,0,qo()*an).toString()+" cm"),this.setFontSize(this.getFontSize()/an),Je="n",ni=oi.ADVANCED}function hi(){this.restoreGraphicsState(),Je="S",ni=oi.COMPAT}var di=ii.__private__.combineFontStyleAndFontWeight=function(Mi,Xi){if(Mi=="bold"&&Xi=="normal"||Mi=="bold"&&Xi==400||Mi=="normal"&&Xi=="italic"||Mi=="bold"&&Xi=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Xi&&(Mi=Xi==400||Xi==="normal"?Mi==="italic"?"italic":"normal":Xi!=700&&Xi!=="bold"||Mi!=="normal"?(Xi==700?"bold":Xi)+""+Mi:"bold"),Mi};ii.advancedAPI=function(Mi){var Xi=ni===oi.COMPAT;return Xi&&ci.call(this),typeof Mi!="function"||(Mi(this),Xi&&hi.call(this)),this},ii.compatAPI=function(Mi){var Xi=ni===oi.ADVANCED;return Xi&&hi.call(this),typeof Mi!="function"||(Mi(this),Xi&&ci.call(this)),this},ii.isAdvancedAPI=function(){return ni===oi.ADVANCED};var fi,mi=function(Mi){if(ni!==oi.ADVANCED)throw new Error(Mi+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},pi=ii.roundToPrecision=ii.__private__.roundToPrecision=function(Mi,Xi){var hn=je||Xi;if(isNaN(Mi)||isNaN(hn))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return Mi.toFixed(hn).replace(/0+$/,"")};fi=ii.hpf=ii.__private__.hpf=typeof Qe=="number"?function(Mi){if(isNaN(Mi))throw new Error("Invalid argument passed to jsPDF.hpf");return pi(Mi,Qe)}:Qe==="smart"?function(Mi){if(isNaN(Mi))throw new Error("Invalid argument passed to jsPDF.hpf");return pi(Mi,Mi>-1&&Mi<1?16:5)}:function(Mi){if(isNaN(Mi))throw new Error("Invalid argument passed to jsPDF.hpf");return pi(Mi,16)};var wi=ii.f2=ii.__private__.f2=function(Mi){if(isNaN(Mi))throw new Error("Invalid argument passed to jsPDF.f2");return pi(Mi,2)},gi=ii.__private__.f3=function(Mi){if(isNaN(Mi))throw new Error("Invalid argument passed to jsPDF.f3");return pi(Mi,3)},yi=ii.scale=ii.__private__.scale=function(Mi){if(isNaN(Mi))throw new Error("Invalid argument passed to jsPDF.scale");return ni===oi.COMPAT?Mi*an:ni===oi.ADVANCED?Mi:void 0},Ai=function(Mi){return ni===oi.COMPAT?qo()-Mi:ni===oi.ADVANCED?Mi:void 0},Si=function(Mi){return yi(Ai(Mi))};ii.__private__.setPrecision=ii.setPrecision=function(Mi){typeof parseInt(Mi,10)=="number"&&(je=parseInt(Mi,10))};var ki,Li="00000000000000000000000000000000",Bi=ii.__private__.getFileId=function(){return Li},Pi=ii.__private__.setFileId=function(Mi){return Li=Mi!==void 0&&/^[a-fA-F0-9]{32}$/.test(Mi)?Mi.toUpperCase():Li.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),St!==null&&(Wr=new I(St.userPermissions,St.userPassword,St.ownerPassword,Li)),Li};ii.setFileId=function(Mi){return Pi(Mi),this},ii.getFileId=function(){return Bi()};var Ri=ii.__private__.convertDateToPDFDate=function(Mi){var Xi=Mi.getTimezoneOffset(),hn=Xi<0?"+":"-",gn=Math.floor(Math.abs(Xi/60)),Pn=Math.abs(Xi%60),Rn=[hn,Ui(gn),"'",Ui(Pn),"'"].join("");return["D:",Mi.getFullYear(),Ui(Mi.getMonth()+1),Ui(Mi.getDate()),Ui(Mi.getHours()),Ui(Mi.getMinutes()),Ui(Mi.getSeconds()),Rn].join("")},Fi=ii.__private__.convertPDFDateToDate=function(Mi){var Xi=parseInt(Mi.substr(2,4),10),hn=parseInt(Mi.substr(6,2),10)-1,gn=parseInt(Mi.substr(8,2),10),Pn=parseInt(Mi.substr(10,2),10),Rn=parseInt(Mi.substr(12,2),10),Un=parseInt(Mi.substr(14,2),10);return new Date(Xi,hn,gn,Pn,Rn,Un,0)},Gi=ii.__private__.setCreationDate=function(Mi){var Xi;if(Mi===void 0&&(Mi=new Date),Mi instanceof Date)Xi=Ri(Mi);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(Mi))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Xi=Mi}return ki=Xi},Ti=ii.__private__.getCreationDate=function(Mi){var Xi=ki;return Mi==="jsDate"&&(Xi=Fi(ki)),Xi};ii.setCreationDate=function(Mi){return Gi(Mi),this},ii.getCreationDate=function(Mi){return Ti(Mi)};var Vi,Ui=ii.__private__.padd2=function(Mi){return("0"+parseInt(Mi)).slice(-2)},$i=ii.__private__.padd2Hex=function(Mi){return("00"+(Mi=Mi.toString())).substr(Mi.length)},Wi=0,tn=[],nn=[],Qi=0,Ei=[],bi=[],Ci=!1,_i=nn,Ii=function(){Wi=0,Qi=0,nn=[],tn=[],Ei=[],Ar=cr(),Rr=cr()};ii.__private__.setCustomOutputDestination=function(Mi){Ci=!0,_i=Mi};var Ni=function(Mi){Ci||(_i=Mi)};ii.__private__.resetCustomOutputDestination=function(){Ci=!1,_i=nn};var Di=ii.__private__.out=function(Mi){return Mi=Mi.toString(),Qi+=Mi.length+1,_i.push(Mi),_i},Ki=ii.__private__.write=function(Mi){return Di(arguments.length===1?Mi.toString():Array.prototype.join.call(arguments," "))},sn=ii.__private__.getArrayBuffer=function(Mi){for(var Xi=Mi.length,hn=new ArrayBuffer(Xi),gn=new Uint8Array(hn);Xi--;)gn[Xi]=Mi.charCodeAt(Xi);return hn},zi=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];ii.__private__.getStandardFonts=function(){return zi};var on=Ve.fontSize||16;ii.__private__.setFontSize=ii.setFontSize=function(Mi){return on=ni===oi.ADVANCED?Mi/an:Mi,this};var cn,mn=ii.__private__.getFontSize=ii.getFontSize=function(){return ni===oi.COMPAT?on:on*an},dn=Ve.R2L||!1;ii.__private__.setR2L=ii.setR2L=function(Mi){return dn=Mi,this},ii.__private__.getR2L=ii.getR2L=function(){return dn};var An,pn=ii.__private__.setZoomMode=function(Mi){var Xi=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(Mi))cn=Mi;else if(isNaN(Mi)){if(Xi.indexOf(Mi)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+Mi+'" is not recognized.');cn=Mi}else cn=parseInt(Mi,10)};ii.__private__.getZoomMode=function(){return cn};var Mn,Hi=ii.__private__.setPageMode=function(Mi){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(Mi)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+Mi+'" is not recognized.');An=Mi};ii.__private__.getPageMode=function(){return An};var On=ii.__private__.setLayoutMode=function(Mi){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(Mi)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+Mi+'" is not recognized.');Mn=Mi};ii.__private__.getLayoutMode=function(){return Mn},ii.__private__.setDisplayMode=ii.setDisplayMode=function(Mi,Xi,hn){return pn(Mi),On(Xi),Hi(hn),this};var wn={title:"",subject:"",author:"",keywords:"",creator:""};ii.__private__.getDocumentProperty=function(Mi){if(Object.keys(wn).indexOf(Mi)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return wn[Mi]},ii.__private__.getDocumentProperties=function(){return wn},ii.__private__.setDocumentProperties=ii.setProperties=ii.setDocumentProperties=function(Mi){for(var Xi in wn)wn.hasOwnProperty(Xi)&&Mi[Xi]&&(wn[Xi]=Mi[Xi]);return this},ii.__private__.setDocumentProperty=function(Mi,Xi){if(Object.keys(wn).indexOf(Mi)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return wn[Mi]=Xi};var _n,an,Cn,Ln,Nn,Fn={},Hn={},zn=[],Xn={},tr={},nr={},mr={},ar=null,rr=0,Qn=[],hr=new C(ii),En=Ve.hotfixes||[],Yi={},fn={},Sn=[],Dn=function Mi(Xi,hn,gn,Pn,Rn,Un){if(!(this instanceof Mi))return new Mi(Xi,hn,gn,Pn,Rn,Un);isNaN(Xi)&&(Xi=1),isNaN(hn)&&(hn=0),isNaN(gn)&&(gn=0),isNaN(Pn)&&(Pn=1),isNaN(Rn)&&(Rn=0),isNaN(Un)&&(Un=0),this._matrix=[Xi,hn,gn,Pn,Rn,Un]};Object.defineProperty(Dn.prototype,"sx",{get:function(){return this._matrix[0]},set:function(Mi){this._matrix[0]=Mi}}),Object.defineProperty(Dn.prototype,"shy",{get:function(){return this._matrix[1]},set:function(Mi){this._matrix[1]=Mi}}),Object.defineProperty(Dn.prototype,"shx",{get:function(){return this._matrix[2]},set:function(Mi){this._matrix[2]=Mi}}),Object.defineProperty(Dn.prototype,"sy",{get:function(){return this._matrix[3]},set:function(Mi){this._matrix[3]=Mi}}),Object.defineProperty(Dn.prototype,"tx",{get:function(){return this._matrix[4]},set:function(Mi){this._matrix[4]=Mi}}),Object.defineProperty(Dn.prototype,"ty",{get:function(){return this._matrix[5]},set:function(Mi){this._matrix[5]=Mi}}),Object.defineProperty(Dn.prototype,"a",{get:function(){return this._matrix[0]},set:function(Mi){this._matrix[0]=Mi}}),Object.defineProperty(Dn.prototype,"b",{get:function(){return this._matrix[1]},set:function(Mi){this._matrix[1]=Mi}}),Object.defineProperty(Dn.prototype,"c",{get:function(){return this._matrix[2]},set:function(Mi){this._matrix[2]=Mi}}),Object.defineProperty(Dn.prototype,"d",{get:function(){return this._matrix[3]},set:function(Mi){this._matrix[3]=Mi}}),Object.defineProperty(Dn.prototype,"e",{get:function(){return this._matrix[4]},set:function(Mi){this._matrix[4]=Mi}}),Object.defineProperty(Dn.prototype,"f",{get:function(){return this._matrix[5]},set:function(Mi){this._matrix[5]=Mi}}),Object.defineProperty(Dn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Dn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Dn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Dn.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Dn.prototype.join=function(Mi){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(fi).join(Mi)},Dn.prototype.multiply=function(Mi){var Xi=Mi.sx*this.sx+Mi.shy*this.shx,hn=Mi.sx*this.shy+Mi.shy*this.sy,gn=Mi.shx*this.sx+Mi.sy*this.shx,Pn=Mi.shx*this.shy+Mi.sy*this.sy,Rn=Mi.tx*this.sx+Mi.ty*this.shx+this.tx,Un=Mi.tx*this.shy+Mi.ty*this.sy+this.ty;return new Dn(Xi,hn,gn,Pn,Rn,Un)},Dn.prototype.decompose=function(){var Mi=this.sx,Xi=this.shy,hn=this.shx,gn=this.sy,Pn=this.tx,Rn=this.ty,Un=Math.sqrt(Mi*Mi+Xi*Xi),Zn=(Mi/=Un)*hn+(Xi/=Un)*gn;hn-=Mi*Zn,gn-=Xi*Zn;var er=Math.sqrt(hn*hn+gn*gn);return Zn/=er,Mi*(gn/=er)<Xi*(hn/=er)&&(Mi=-Mi,Xi=-Xi,Zn=-Zn,Un=-Un),{scale:new Dn(Un,0,0,er,0,0),translate:new Dn(1,0,0,1,Pn,Rn),rotate:new Dn(Mi,Xi,-Xi,Mi,0,0),skew:new Dn(1,0,Zn,1,0,0)}},Dn.prototype.toString=function(Mi){return this.join(" ")},Dn.prototype.inversed=function(){var Mi=this.sx,Xi=this.shy,hn=this.shx,gn=this.sy,Pn=this.tx,Rn=this.ty,Un=1/(Mi*gn-Xi*hn),Zn=gn*Un,er=-Xi*Un,lr=-hn*Un,dr=Mi*Un;return new Dn(Zn,er,lr,dr,-Zn*Pn-lr*Rn,-er*Pn-dr*Rn)},Dn.prototype.applyToPoint=function(Mi){var Xi=Mi.x*this.sx+Mi.y*this.shx+this.tx,hn=Mi.x*this.shy+Mi.y*this.sy+this.ty;return new bs(Xi,hn)},Dn.prototype.applyToRectangle=function(Mi){var Xi=this.applyToPoint(Mi),hn=this.applyToPoint(new bs(Mi.x+Mi.w,Mi.y+Mi.h));return new Ws(Xi.x,Xi.y,hn.x-Xi.x,hn.y-Xi.y)},Dn.prototype.clone=function(){var Mi=this.sx,Xi=this.shy,hn=this.shx,gn=this.sy,Pn=this.tx,Rn=this.ty;return new Dn(Mi,Xi,hn,gn,Pn,Rn)},ii.Matrix=Dn;var qn=ii.matrixMult=function(Mi,Xi){return Xi.multiply(Mi)},Wn=new Dn(1,0,0,1,0,0);ii.unitMatrix=ii.identityMatrix=Wn;var fr=function(Mi,Xi){if(!tr[Mi]){var hn=(Xi instanceof B?"Sh":"P")+(Object.keys(Xn).length+1).toString(10);Xi.id=hn,tr[Mi]=hn,Xn[hn]=Xi,hr.publish("addPattern",Xi)}};ii.ShadingPattern=B,ii.TilingPattern=M,ii.addShadingPattern=function(Mi,Xi){return mi("addShadingPattern()"),fr(Mi,Xi),this},ii.beginTilingPattern=function(Mi){mi("beginTilingPattern()"),Ea(Mi.boundingBox[0],Mi.boundingBox[1],Mi.boundingBox[2]-Mi.boundingBox[0],Mi.boundingBox[3]-Mi.boundingBox[1],Mi.matrix)},ii.endTilingPattern=function(Mi,Xi){mi("endTilingPattern()"),Xi.stream=bi[Vi].join(`
`),fr(Mi,Xi),hr.publish("endTilingPattern",Xi),Sn.pop().restore()};var or=ii.__private__.newObject=function(){var Mi=cr();return Pr(Mi,!0),Mi},cr=ii.__private__.newObjectDeferred=function(){return Wi++,tn[Wi]=function(){return Qi},Wi},Pr=function(Mi,Xi){return Xi=typeof Xi=="boolean"&&Xi,tn[Mi]=Qi,Xi&&Di(Mi+" 0 obj"),Mi},so=ii.__private__.newAdditionalObject=function(){var Mi={objId:cr(),content:""};return Ei.push(Mi),Mi},Ar=cr(),Rr=cr(),wr=ii.__private__.decodeColorString=function(Mi){var Xi=Mi.split(" ");if(Xi.length!==2||Xi[1]!=="g"&&Xi[1]!=="G")Xi.length===5&&(Xi[4]==="k"||Xi[4]==="K")&&(Xi=[(1-Xi[0])*(1-Xi[3]),(1-Xi[1])*(1-Xi[3]),(1-Xi[2])*(1-Xi[3]),"r"]);else{var hn=parseFloat(Xi[0]);Xi=[hn,hn,hn,"r"]}for(var gn="#",Pn=0;Pn<3;Pn++)gn+=("0"+Math.floor(255*parseFloat(Xi[Pn])).toString(16)).slice(-2);return gn},kr=ii.__private__.encodeColorString=function(Mi){var Xi;typeof Mi=="string"&&(Mi={ch1:Mi});var hn=Mi.ch1,gn=Mi.ch2,Pn=Mi.ch3,Rn=Mi.ch4,Un=Mi.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof hn=="string"&&hn.charAt(0)!=="#"){var Zn=new f(hn);if(Zn.ok)hn=Zn.toHex();else if(!/^\d*\.?\d*$/.test(hn))throw new Error('Invalid color "'+hn+'" passed to jsPDF.encodeColorString.')}if(typeof hn=="string"&&/^#[0-9A-Fa-f]{3}$/.test(hn)&&(hn="#"+hn[1]+hn[1]+hn[2]+hn[2]+hn[3]+hn[3]),typeof hn=="string"&&/^#[0-9A-Fa-f]{6}$/.test(hn)){var er=parseInt(hn.substr(1),16);hn=er>>16&255,gn=er>>8&255,Pn=255&er}if(gn===void 0||Rn===void 0&&hn===gn&&gn===Pn)if(typeof hn=="string")Xi=hn+" "+Un[0];else switch(Mi.precision){case 2:Xi=wi(hn/255)+" "+Un[0];break;case 3:default:Xi=gi(hn/255)+" "+Un[0]}else if(Rn===void 0||_typeof(Rn)==="object"){if(Rn&&!isNaN(Rn.a)&&Rn.a===0)return Xi=["1.","1.","1.",Un[1]].join(" ");if(typeof hn=="string")Xi=[hn,gn,Pn,Un[1]].join(" ");else switch(Mi.precision){case 2:Xi=[wi(hn/255),wi(gn/255),wi(Pn/255),Un[1]].join(" ");break;default:case 3:Xi=[gi(hn/255),gi(gn/255),gi(Pn/255),Un[1]].join(" ")}}else if(typeof hn=="string")Xi=[hn,gn,Pn,Rn,Un[2]].join(" ");else switch(Mi.precision){case 2:Xi=[wi(hn),wi(gn),wi(Pn),wi(Rn),Un[2]].join(" ");break;case 3:default:Xi=[gi(hn),gi(gn),gi(Pn),gi(Rn),Un[2]].join(" ")}return Xi},_r=ii.__private__.getFilters=function(){return Ke},Lr=ii.__private__.putStream=function(Mi){var Xi=(Mi=Mi||{}).data||"",hn=Mi.filters||_r(),gn=Mi.alreadyAppliedFilters||[],Pn=Mi.addLength1||!1,Rn=Xi.length,Un=Mi.objectId,Zn=function(Yr){return Yr};if(St!==null&&Un===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");St!==null&&(Zn=Wr.encryptor(Un,0));var er={};hn===!0&&(hn=["FlateEncode"]);var lr=Mi.additionalKeyValues||[],dr=(er=E.API.processDataByFilters!==void 0?E.API.processDataByFilters(Xi,hn):{data:Xi,reverseChain:[]}).reverseChain+(Array.isArray(gn)?gn.join(" "):gn.toString());if(er.data.length!==0&&(lr.push({key:"Length",value:er.data.length}),Pn===!0&&lr.push({key:"Length1",value:Rn})),dr.length!=0)if(dr.split("/").length-1==1)lr.push({key:"Filter",value:dr});else{lr.push({key:"Filter",value:"["+dr+"]"});for(var gr=0;gr<lr.length;gr+=1)if(lr[gr].key==="DecodeParms"){for(var Tr=[],Er=0;Er<er.reverseChain.split("/").length-1;Er+=1)Tr.push("null");Tr.push(lr[gr].value),lr[gr].value="["+Tr.join(" ")+"]"}}Di("<<");for(var Fr=0;Fr<lr.length;Fr++)Di("/"+lr[Fr].key+" "+lr[Fr].value);Di(">>"),er.data.length!==0&&(Di("stream"),Di(Zn(er.data)),Di("endstream"))},qr=ii.__private__.putPage=function(Mi){var Xi=Mi.number,hn=Mi.data,gn=Mi.objId,Pn=Mi.contentsObjId;Pr(gn,!0),Di("<</Type /Page"),Di("/Parent "+Mi.rootDictionaryObjId+" 0 R"),Di("/Resources "+Mi.resourceDictionaryObjId+" 0 R"),Di("/MediaBox ["+parseFloat(fi(Mi.mediaBox.bottomLeftX))+" "+parseFloat(fi(Mi.mediaBox.bottomLeftY))+" "+fi(Mi.mediaBox.topRightX)+" "+fi(Mi.mediaBox.topRightY)+"]"),Mi.cropBox!==null&&Di("/CropBox ["+fi(Mi.cropBox.bottomLeftX)+" "+fi(Mi.cropBox.bottomLeftY)+" "+fi(Mi.cropBox.topRightX)+" "+fi(Mi.cropBox.topRightY)+"]"),Mi.bleedBox!==null&&Di("/BleedBox ["+fi(Mi.bleedBox.bottomLeftX)+" "+fi(Mi.bleedBox.bottomLeftY)+" "+fi(Mi.bleedBox.topRightX)+" "+fi(Mi.bleedBox.topRightY)+"]"),Mi.trimBox!==null&&Di("/TrimBox ["+fi(Mi.trimBox.bottomLeftX)+" "+fi(Mi.trimBox.bottomLeftY)+" "+fi(Mi.trimBox.topRightX)+" "+fi(Mi.trimBox.topRightY)+"]"),Mi.artBox!==null&&Di("/ArtBox ["+fi(Mi.artBox.bottomLeftX)+" "+fi(Mi.artBox.bottomLeftY)+" "+fi(Mi.artBox.topRightX)+" "+fi(Mi.artBox.topRightY)+"]"),typeof Mi.userUnit=="number"&&Mi.userUnit!==1&&Di("/UserUnit "+Mi.userUnit),hr.publish("putPage",{objId:gn,pageContext:Qn[Xi],pageNumber:Xi,page:hn}),Di("/Contents "+Pn+" 0 R"),Di(">>"),Di("endobj");var Rn=hn.join(`
`);return ni===oi.ADVANCED&&(Rn+=`
Q`),Pr(Pn,!0),Lr({data:Rn,filters:_r(),objectId:Pn}),Di("endobj"),gn},Vr=ii.__private__.putPages=function(){var Mi,Xi,hn=[];for(Mi=1;Mi<=rr;Mi++)Qn[Mi].objId=cr(),Qn[Mi].contentsObjId=cr();for(Mi=1;Mi<=rr;Mi++)hn.push(qr({number:Mi,data:bi[Mi],objId:Qn[Mi].objId,contentsObjId:Qn[Mi].contentsObjId,mediaBox:Qn[Mi].mediaBox,cropBox:Qn[Mi].cropBox,bleedBox:Qn[Mi].bleedBox,trimBox:Qn[Mi].trimBox,artBox:Qn[Mi].artBox,userUnit:Qn[Mi].userUnit,rootDictionaryObjId:Ar,resourceDictionaryObjId:Rr}));Pr(Ar,!0),Di("<</Type /Pages");var gn="/Kids [";for(Xi=0;Xi<rr;Xi++)gn+=hn[Xi]+" 0 R ";Di(gn+"]"),Di("/Count "+rr),Di(">>"),Di("endobj"),hr.publish("postPutPages")},mo=function(Mi){hr.publish("putFont",{font:Mi,out:Di,newObject:or,putStream:Lr}),Mi.isAlreadyPutted!==!0&&(Mi.objectNumber=or(),Di("<<"),Di("/Type /Font"),Di("/BaseFont /"+F(Mi.postScriptName)),Di("/Subtype /Type1"),typeof Mi.encoding=="string"&&Di("/Encoding /"+Mi.encoding),Di("/FirstChar 32"),Di("/LastChar 255"),Di(">>"),Di("endobj"))},Do=function(){for(var Mi in Fn)Fn.hasOwnProperty(Mi)&&(ei===!1||ei===!0&&ti.hasOwnProperty(Mi))&&mo(Fn[Mi])},ko=function(Mi){Mi.objectNumber=or();var Xi=[];Xi.push({key:"Type",value:"/XObject"}),Xi.push({key:"Subtype",value:"/Form"}),Xi.push({key:"BBox",value:"["+[fi(Mi.x),fi(Mi.y),fi(Mi.x+Mi.width),fi(Mi.y+Mi.height)].join(" ")+"]"}),Xi.push({key:"Matrix",value:"["+Mi.matrix.toString()+"]"});var hn=Mi.pages[1].join(`
`);Lr({data:hn,additionalKeyValues:Xi,objectId:Mi.objectNumber}),Di("endobj")},To=function(){for(var Mi in Yi)Yi.hasOwnProperty(Mi)&&ko(Yi[Mi])},rs=function(Mi,Xi){var hn,gn=[],Pn=1/(Xi-1);for(hn=0;hn<1;hn+=Pn)gn.push(hn);if(gn.push(1),Mi[0].offset!=0){var Rn={offset:0,color:Mi[0].color};Mi.unshift(Rn)}if(Mi[Mi.length-1].offset!=1){var Un={offset:1,color:Mi[Mi.length-1].color};Mi.push(Un)}for(var Zn="",er=0,lr=0;lr<gn.length;lr++){for(hn=gn[lr];hn>Mi[er+1].offset;)er++;var dr=Mi[er].offset,gr=(hn-dr)/(Mi[er+1].offset-dr),Tr=Mi[er].color,Er=Mi[er+1].color;Zn+=$i(Math.round((1-gr)*Tr[0]+gr*Er[0]).toString(16))+$i(Math.round((1-gr)*Tr[1]+gr*Er[1]).toString(16))+$i(Math.round((1-gr)*Tr[2]+gr*Er[2]).toString(16))}return Zn.trim()},Vo=function(Mi,Xi){Xi||(Xi=21);var hn=or(),gn=rs(Mi.colors,Xi),Pn=[];Pn.push({key:"FunctionType",value:"0"}),Pn.push({key:"Domain",value:"[0.0 1.0]"}),Pn.push({key:"Size",value:"["+Xi+"]"}),Pn.push({key:"BitsPerSample",value:"8"}),Pn.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Pn.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Lr({data:gn,additionalKeyValues:Pn,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:hn}),Di("endobj"),Mi.objectNumber=or(),Di("<< /ShadingType "+Mi.type),Di("/ColorSpace /DeviceRGB");var Rn="/Coords ["+fi(parseFloat(Mi.coords[0]))+" "+fi(parseFloat(Mi.coords[1]))+" ";Mi.type===2?Rn+=fi(parseFloat(Mi.coords[2]))+" "+fi(parseFloat(Mi.coords[3])):Rn+=fi(parseFloat(Mi.coords[2]))+" "+fi(parseFloat(Mi.coords[3]))+" "+fi(parseFloat(Mi.coords[4]))+" "+fi(parseFloat(Mi.coords[5])),Di(Rn+="]"),Mi.matrix&&Di("/Matrix ["+Mi.matrix.toString()+"]"),Di("/Function "+hn+" 0 R"),Di("/Extend [true true]"),Di(">>"),Di("endobj")},nl=function(Mi,Xi){var hn=cr(),gn=or();Xi.push({resourcesOid:hn,objectOid:gn}),Mi.objectNumber=gn;var Pn=[];Pn.push({key:"Type",value:"/Pattern"}),Pn.push({key:"PatternType",value:"1"}),Pn.push({key:"PaintType",value:"1"}),Pn.push({key:"TilingType",value:"1"}),Pn.push({key:"BBox",value:"["+Mi.boundingBox.map(fi).join(" ")+"]"}),Pn.push({key:"XStep",value:fi(Mi.xStep)}),Pn.push({key:"YStep",value:fi(Mi.yStep)}),Pn.push({key:"Resources",value:hn+" 0 R"}),Mi.matrix&&Pn.push({key:"Matrix",value:"["+Mi.matrix.toString()+"]"}),Lr({data:Mi.stream,additionalKeyValues:Pn,objectId:Mi.objectNumber}),Di("endobj")},ds=function(Mi){var Xi;for(Xi in Xn)Xn.hasOwnProperty(Xi)&&(Xn[Xi]instanceof B?Vo(Xn[Xi]):Xn[Xi]instanceof M&&nl(Xn[Xi],Mi))},fa=function(Mi){for(var Xi in Mi.objectNumber=or(),Di("<<"),Mi)switch(Xi){case"opacity":Di("/ca "+wi(Mi[Xi]));break;case"stroke-opacity":Di("/CA "+wi(Mi[Xi]))}Di(">>"),Di("endobj")},rl=function(){var Mi;for(Mi in nr)nr.hasOwnProperty(Mi)&&fa(nr[Mi])},Fs=function(){for(var Mi in Di("/XObject <<"),Yi)Yi.hasOwnProperty(Mi)&&Yi[Mi].objectNumber>=0&&Di("/"+Mi+" "+Yi[Mi].objectNumber+" 0 R");hr.publish("putXobjectDict"),Di(">>")},ol=function(){Wr.oid=or(),Di("<<"),Di("/Filter /Standard"),Di("/V "+Wr.v),Di("/R "+Wr.r),Di("/U <"+Wr.toHexString(Wr.U)+">"),Di("/O <"+Wr.toHexString(Wr.O)+">"),Di("/P "+Wr.P),Di(">>"),Di("endobj")},pa=function(){for(var Mi in Di("/Font <<"),Fn)Fn.hasOwnProperty(Mi)&&(ei===!1||ei===!0&&ti.hasOwnProperty(Mi))&&Di("/"+Mi+" "+Fn[Mi].objectNumber+" 0 R");Di(">>")},sl=function(){if(Object.keys(Xn).length>0){for(var Mi in Di("/Shading <<"),Xn)Xn.hasOwnProperty(Mi)&&Xn[Mi]instanceof B&&Xn[Mi].objectNumber>=0&&Di("/"+Mi+" "+Xn[Mi].objectNumber+" 0 R");hr.publish("putShadingPatternDict"),Di(">>")}},ms=function(Mi){if(Object.keys(Xn).length>0){for(var Xi in Di("/Pattern <<"),Xn)Xn.hasOwnProperty(Xi)&&Xn[Xi]instanceof ii.TilingPattern&&Xn[Xi].objectNumber>=0&&Xn[Xi].objectNumber<Mi&&Di("/"+Xi+" "+Xn[Xi].objectNumber+" 0 R");hr.publish("putTilingPatternDict"),Di(">>")}},al=function(){if(Object.keys(nr).length>0){var Mi;for(Mi in Di("/ExtGState <<"),nr)nr.hasOwnProperty(Mi)&&nr[Mi].objectNumber>=0&&Di("/"+Mi+" "+nr[Mi].objectNumber+" 0 R");hr.publish("putGStateDict"),Di(">>")}},Ir=function(Mi){Pr(Mi.resourcesOid,!0),Di("<<"),Di("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),pa(),sl(),ms(Mi.objectOid),al(),Fs(),Di(">>"),Di("endobj")},ga=function(){var Mi=[];Do(),rl(),To(),ds(Mi),hr.publish("putResources"),Mi.forEach(Ir),Ir({resourcesOid:Rr,objectOid:Number.MAX_SAFE_INTEGER}),hr.publish("postPutResources")},xa=function(){hr.publish("putAdditionalObjects");for(var Mi=0;Mi<Ei.length;Mi++){var Xi=Ei[Mi];Pr(Xi.objId,!0),Di(Xi.content),Di("endobj")}hr.publish("postPutAdditionalObjects")},ya=function(Mi){Hn[Mi.fontName]=Hn[Mi.fontName]||{},Hn[Mi.fontName][Mi.fontStyle]=Mi.id},Bs=function(Mi,Xi,hn,gn,Pn){var Rn={id:"F"+(Object.keys(Fn).length+1).toString(10),postScriptName:Mi,fontName:Xi,fontStyle:hn,encoding:gn,isStandardFont:Pn||!1,metadata:{}};return hr.publish("addFont",{font:Rn,instance:this}),Fn[Rn.id]=Rn,ya(Rn),Rn.id},ll=function(Mi){for(var Xi=0,hn=zi.length;Xi<hn;Xi++){var gn=Bs.call(this,Mi[Xi][0],Mi[Xi][1],Mi[Xi][2],zi[Xi][3],!0);ei===!1&&(ti[gn]=!0);var Pn=Mi[Xi][0].split("-");ya({id:gn,fontName:Pn[0],fontStyle:Pn[1]||""})}hr.publish("addFonts",{fonts:Fn,dictionary:Hn})},fo=function(Mi){return Mi.foo=function(){try{return Mi.apply(this,arguments)}catch(gn){var Xi=gn.stack||"";~Xi.indexOf(" at ")&&(Xi=Xi.split(" at ")[1]);var hn="Error in function "+Xi.split(`
`)[0].split("<")[0]+": "+gn.message;if(!n.console)throw new Error(hn);n.console.error(hn,gn),n.alert&&alert(hn)}},Mi.foo.bar=Mi,Mi.foo},fs=function(Mi,Xi){var hn,gn,Pn,Rn,Un,Zn,er,lr,dr;if(Pn=(Xi=Xi||{}).sourceEncoding||"Unicode",Un=Xi.outputEncoding,(Xi.autoencode||Un)&&Fn[_n].metadata&&Fn[_n].metadata[Pn]&&Fn[_n].metadata[Pn].encoding&&(Rn=Fn[_n].metadata[Pn].encoding,!Un&&Fn[_n].encoding&&(Un=Fn[_n].encoding),!Un&&Rn.codePages&&(Un=Rn.codePages[0]),typeof Un=="string"&&(Un=Rn[Un]),Un)){for(er=!1,Zn=[],hn=0,gn=Mi.length;hn<gn;hn++)(lr=Un[Mi.charCodeAt(hn)])?Zn.push(String.fromCharCode(lr)):Zn.push(Mi[hn]),Zn[hn].charCodeAt(0)>>8&&(er=!0);Mi=Zn.join("")}for(hn=Mi.length;er===void 0&&hn!==0;)Mi.charCodeAt(hn-1)>>8&&(er=!0),hn--;if(!er)return Mi;for(Zn=Xi.noBOM?[]:[254,255],hn=0,gn=Mi.length;hn<gn;hn++){if((dr=(lr=Mi.charCodeAt(hn))>>8)>>8)throw new Error("Character at position "+hn+" of string '"+Mi+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Zn.push(dr),Zn.push(lr-(dr<<8))}return String.fromCharCode.apply(void 0,Zn)},Kr=ii.__private__.pdfEscape=ii.pdfEscape=function(Mi,Xi){return fs(Mi,Xi).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},$s=ii.__private__.beginPage=function(Mi){bi[++rr]=[],Qn[rr]={objId:0,contentsObjId:0,userUnit:Number(Ze),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(Mi[0]),topRightY:Number(Mi[1])}},ba(rr),Ni(bi[Vi])},wa=function(Mi,Xi){var hn,gn,Pn;switch(ze=Xi||ze,typeof Mi=="string"&&(hn=ai(Mi.toLowerCase()),Array.isArray(hn)&&(gn=hn[0],Pn=hn[1])),Array.isArray(Mi)&&(gn=Mi[0]*an,Pn=Mi[1]*an),isNaN(gn)&&(gn=Xe[0],Pn=Xe[1]),(gn>14400||Pn>14400)&&(a.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),gn=Math.min(14400,gn),Pn=Math.min(14400,Pn)),Xe=[gn,Pn],ze.substr(0,1)){case"l":Pn>gn&&(Xe=[Pn,gn]);break;case"p":gn>Pn&&(Xe=[Pn,gn])}$s(Xe),Ma(zs),Di(po),qs!==0&&Di(qs+" J"),Xs!==0&&Di(Xs+" j"),hr.publish("addPage",{pageNumber:rr})},ul=function(Mi){Mi>0&&Mi<=rr&&(bi.splice(Mi,1),Qn.splice(Mi,1),rr--,Vi>rr&&(Vi=rr),this.setPage(Vi))},ba=function(Mi){Mi>0&&Mi<=rr&&(Vi=Mi)},cl=ii.__private__.getNumberOfPages=ii.getNumberOfPages=function(){return bi.length-1},va=function(Mi,Xi,hn){var gn,Pn=void 0;return hn=hn||{},Mi=Mi!==void 0?Mi:Fn[_n].fontName,Xi=Xi!==void 0?Xi:Fn[_n].fontStyle,gn=Mi.toLowerCase(),Hn[gn]!==void 0&&Hn[gn][Xi]!==void 0?Pn=Hn[gn][Xi]:Hn[Mi]!==void 0&&Hn[Mi][Xi]!==void 0?Pn=Hn[Mi][Xi]:hn.disableWarning===!1&&a.warn("Unable to look up font label for font '"+Mi+"', '"+Xi+"'. Refer to getFontList() for available fonts."),Pn||hn.noFallback||(Pn=Hn.times[Xi])==null&&(Pn=Hn.times.normal),Pn},hl=ii.__private__.putInfo=function(){var Mi=or(),Xi=function(gn){return gn};for(var hn in St!==null&&(Xi=Wr.encryptor(Mi,0)),Di("<<"),Di("/Producer ("+Kr(Xi("jsPDF "+E.version))+")"),wn)wn.hasOwnProperty(hn)&&wn[hn]&&Di("/"+hn.substr(0,1).toUpperCase()+hn.substr(1)+" ("+Kr(Xi(wn[hn]))+")");Di("/CreationDate ("+Kr(Xi(ki))+")"),Di(">>"),Di("endobj")},js=ii.__private__.putCatalog=function(Mi){var Xi=(Mi=Mi||{}).rootDictionaryObjId||Ar;switch(or(),Di("<<"),Di("/Type /Catalog"),Di("/Pages "+Xi+" 0 R"),cn||(cn="fullwidth"),cn){case"fullwidth":Di("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Di("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Di("/OpenAction [3 0 R /Fit]");break;case"original":Di("/OpenAction [3 0 R /XYZ null null 1]");break;default:var hn=""+cn;hn.substr(hn.length-1)==="%"&&(cn=parseInt(cn)/100),typeof cn=="number"&&Di("/OpenAction [3 0 R /XYZ null null "+wi(cn)+"]")}switch(Mn||(Mn="continuous"),Mn){case"continuous":Di("/PageLayout /OneColumn");break;case"single":Di("/PageLayout /SinglePage");break;case"two":case"twoleft":Di("/PageLayout /TwoColumnLeft");break;case"tworight":Di("/PageLayout /TwoColumnRight")}An&&Di("/PageMode /"+An),hr.publish("putCatalog"),Di(">>"),Di("endobj")},dl=ii.__private__.putTrailer=function(){Di("trailer"),Di("<<"),Di("/Size "+(Wi+1)),Di("/Root "+Wi+" 0 R"),Di("/Info "+(Wi-1)+" 0 R"),St!==null&&Di("/Encrypt "+Wr.oid+" 0 R"),Di("/ID [ <"+Li+"> <"+Li+"> ]"),Di(">>")},ml=ii.__private__.putHeader=function(){Di("%PDF-"+ri),Di("%")},pl=ii.__private__.putXRef=function(){var Mi="0000000000";Di("xref"),Di("0 "+(Wi+1)),Di("0000000000 65535 f ");for(var Xi=1;Xi<=Wi;Xi++)typeof tn[Xi]=="function"?Di((Mi+tn[Xi]()).slice(-10)+" 00000 n "):tn[Xi]!==void 0?Di((Mi+tn[Xi]).slice(-10)+" 00000 n "):Di("0000000000 00000 n ")},Lo=ii.__private__.buildDocument=function(){Ii(),Ni(nn),hr.publish("buildDocument"),ml(),Vr(),xa(),ga(),St!==null&&ol(),hl(),js();var Mi=Qi;return pl(),dl(),Di("startxref"),Di(""+Mi),Di("%%EOF"),Ni(bi[Vi]),nn.join(`
`)},ps=ii.__private__.getBlob=function(Mi){return new Blob([sn(Mi)],{type:"application/pdf"})},gs=ii.output=ii.__private__.output=fo(function(Mi,Xi){switch(typeof(Xi=Xi||{})=="string"?Xi={filename:Xi}:Xi.filename=Xi.filename||"generated.pdf",Mi){case void 0:return Lo();case"save":ii.save(Xi.filename);break;case"arraybuffer":return sn(Lo());case"blob":return ps(Lo());case"bloburi":case"bloburl":if(n.URL!==void 0&&typeof n.URL.createObjectURL=="function")return n.URL&&n.URL.createObjectURL(ps(Lo()))||void 0;a.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var hn="",gn=Lo();try{hn=h(gn)}catch{hn=h(unescape(encodeURIComponent(gn)))}return"data:application/pdf;filename="+Xi.filename+";base64,"+hn;case"pdfobjectnewwindow":if(Object.prototype.toString.call(n)==="[object Window]"){var Pn="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Rn=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Xi.pdfObjectUrl&&(Pn=Xi.pdfObjectUrl,Rn="");var Un='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Pn+'"'+Rn+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Xi)+");<\/script></body></html>",Zn=n.open();return Zn!==null&&Zn.document.write(Un),Zn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(n)==="[object Window]"){var er='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Xi.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Xi.filename+'" width="500px" height="400px" /></body></html>',lr=n.open();if(lr!==null){lr.document.write(er);var dr=this;lr.document.documentElement.querySelector("#pdfViewer").onload=function(){lr.document.title=Xi.filename,lr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(dr.output("bloburl"))}}return lr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(n)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var gr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Xi)+'"></iframe></body></html>',Tr=n.open();if(Tr!==null&&(Tr.document.write(gr),Tr.document.title=Xi.filename),Tr||typeof safari>"u")return Tr;break;case"datauri":case"dataurl":return n.document.location.href=this.output("datauristring",Xi);default:return null}}),Sa=function(Mi){return Array.isArray(En)===!0&&En.indexOf(Mi)>-1};switch(qe){case"pt":an=1;break;case"mm":an=72/25.4;break;case"cm":an=72/2.54;break;case"in":an=72;break;case"px":an=Sa("px_scaling")==1?.75:96/72;break;case"pc":case"em":an=12;break;case"ex":an=6;break;default:if(typeof qe!="number")throw new Error("Invalid unit: "+qe);an=qe}var Wr=null;Gi(),Pi();var gl=function(Mi){return St!==null?Wr.encryptor(Mi,0):function(Xi){return Xi}},Aa=ii.__private__.getPageInfo=ii.getPageInfo=function(Mi){if(isNaN(Mi)||Mi%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Qn[Mi].objId,pageNumber:Mi,pageContext:Qn[Mi]}},sr=ii.__private__.getPageInfoByObjId=function(Mi){if(isNaN(Mi)||Mi%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Xi in Qn)if(Qn[Xi].objId===Mi)break;return Aa(Xi)},xl=ii.__private__.getCurrentPageInfo=ii.getCurrentPageInfo=function(){return{objId:Qn[Vi].objId,pageNumber:Vi,pageContext:Qn[Vi]}};ii.addPage=function(){return wa.apply(this,arguments),this},ii.setPage=function(){return ba.apply(this,arguments),Ni.call(this,bi[Vi]),this},ii.insertPage=function(Mi){return this.addPage(),this.movePage(Vi,Mi),this},ii.movePage=function(Mi,Xi){var hn,gn;if(Mi>Xi){hn=bi[Mi],gn=Qn[Mi];for(var Pn=Mi;Pn>Xi;Pn--)bi[Pn]=bi[Pn-1],Qn[Pn]=Qn[Pn-1];bi[Xi]=hn,Qn[Xi]=gn,this.setPage(Xi)}else if(Mi<Xi){hn=bi[Mi],gn=Qn[Mi];for(var Rn=Mi;Rn<Xi;Rn++)bi[Rn]=bi[Rn+1],Qn[Rn]=Qn[Rn+1];bi[Xi]=hn,Qn[Xi]=gn,this.setPage(Xi)}return this},ii.deletePage=function(){return ul.apply(this,arguments),this},ii.__private__.text=ii.text=function(Mi,Xi,hn,gn,Pn){var Rn,Un,Zn,er,lr,dr,gr,Tr,Er,Fr=(gn=gn||{}).scope||this;if(typeof Mi=="number"&&typeof Xi=="number"&&(typeof hn=="string"||Array.isArray(hn))){var Yr=hn;hn=Xi,Xi=Mi,Mi=Yr}if(arguments[3]instanceof Dn?(mi("The transform parameter of text() with a Matrix value"),Er=Pn):(Zn=arguments[4],er=arguments[5],_typeof(gr=arguments[3])==="object"&&gr!==null||(typeof Zn=="string"&&(er=Zn,Zn=null),typeof gr=="string"&&(er=gr,gr=null),typeof gr=="number"&&(Zn=gr,gr=null),gn={flags:gr,angle:Zn,align:er})),isNaN(Xi)||isNaN(hn)||Mi==null)throw new Error("Invalid arguments passed to jsPDF.text");if(Mi.length===0)return Fr;var Ur="",go=!1,io=typeof gn.lineHeightFactor=="number"?gn.lineHeightFactor:ss,Oo=Fr.internal.scaleFactor;function Oa(Mr){return Mr=Mr.split("	").join(Array(gn.TabLen||9).join(" ")),Kr(Mr,gr)}function Zs(Mr){for(var Dr,Nr=Mr.concat(),jr=[],Fo=Nr.length;Fo--;)typeof(Dr=Nr.shift())=="string"?jr.push(Dr):Array.isArray(Mr)&&(Dr.length===1||Dr[1]===void 0&&Dr[2]===void 0)?jr.push(Dr[0]):jr.push([Dr[0],Dr[1],Dr[2]]);return jr}function Js(Mr,Dr){var Nr;if(typeof Mr=="string")Nr=Dr(Mr)[0];else if(Array.isArray(Mr)){for(var jr,Fo,Ko=Mr.concat(),Ts=[],Na=Ko.length;Na--;)typeof(jr=Ko.shift())=="string"?Ts.push(Dr(jr)[0]):Array.isArray(jr)&&typeof jr[0]=="string"&&(Fo=Dr(jr[0],jr[1],jr[2]),Ts.push([Fo[0],Fo[1],Fo[2]]));Nr=Ts}return Nr}var Ss=!1,Qs=!0;if(typeof Mi=="string")Ss=!0;else if(Array.isArray(Mi)){var ea=Mi.concat();Un=[];for(var As,Zr=ea.length;Zr--;)(typeof(As=ea.shift())!="string"||Array.isArray(As)&&typeof As[0]!="string")&&(Qs=!1);Ss=Qs}if(Ss===!1)throw new Error('Type of text must be string or Array. "'+Mi+'" is not recognized.');typeof Mi=="string"&&(Mi=Mi.match(/[\r?\n]/)?Mi.split(/\r\n|\r|\n/g):[Mi]);var _s=on/Fr.internal.scaleFactor,Cs=_s*(io-1);switch(gn.baseline){case"bottom":hn-=Cs;break;case"top":hn+=_s-Cs;break;case"hanging":hn+=_s-2*Cs;break;case"middle":hn+=_s/2-Cs}if((dr=gn.maxWidth||0)>0&&(typeof Mi=="string"?Mi=Fr.splitTextToSize(Mi,dr):Object.prototype.toString.call(Mi)==="[object Array]"&&(Mi=Mi.reduce(function(Mr,Dr){return Mr.concat(Fr.splitTextToSize(Dr,dr))},[]))),Rn={text:Mi,x:Xi,y:hn,options:gn,mutex:{pdfEscape:Kr,activeFontKey:_n,fonts:Fn,activeFontSize:on}},hr.publish("preProcessText",Rn),Mi=Rn.text,Zn=(gn=Rn.options).angle,!(Er instanceof Dn)&&Zn&&typeof Zn=="number"){Zn*=Math.PI/180,gn.rotationDirection===0&&(Zn=-Zn),ni===oi.ADVANCED&&(Zn=-Zn);var Ps=Math.cos(Zn),ta=Math.sin(Zn);Er=new Dn(Ps,ta,-ta,Ps,0,0)}else Zn&&Zn instanceof Dn&&(Er=Zn);ni!==oi.ADVANCED||Er||(Er=Wn),(lr=gn.charSpace||ws)!==void 0&&(Ur+=fi(yi(lr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Tr=gn.horizontalScale)!==void 0&&(Ur+=fi(100*Tr)+` Tz
`),gn.lang;var Jr=-1,Ml=gn.renderingMode!==void 0?gn.renderingMode:gn.stroke,ia=Fr.internal.getCurrentPageInfo().pageContext;switch(Ml){case 0:case!1:case"fill":Jr=0;break;case 1:case!0:case"stroke":Jr=1;break;case 2:case"fillThenStroke":Jr=2;break;case 3:case"invisible":Jr=3;break;case 4:case"fillAndAddForClipping":Jr=4;break;case 5:case"strokeAndAddPathForClipping":Jr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Jr=6;break;case 7:case"addToPathForClipping":Jr=7}var Ia=ia.usedRenderingMode!==void 0?ia.usedRenderingMode:-1;Jr!==-1?Ur+=Jr+` Tr
`:Ia!==-1&&(Ur+=`0 Tr
`),Jr!==-1&&(ia.usedRenderingMode=Jr),er=gn.align||"left";var xo,na=on*io,Dl=Fr.internal.pageSize.getWidth(),kl=Fn[_n];lr=gn.charSpace||ws,dr=gn.maxWidth||0,gr=Object.assign({autoencode:!0,noBOM:!0},gn.flags);var Xo=[];if(Object.prototype.toString.call(Mi)==="[object Array]"){var ao;Un=Zs(Mi),er!=="left"&&(xo=Un.map(function(Mr){return Fr.getStringUnitWidth(Mr,{font:kl,charSpace:lr,fontSize:on,doKerning:!1})*on/Oo}));var yo,Wo=0;if(er==="right"){Xi-=xo[0],Mi=[],Zr=Un.length;for(var Po=0;Po<Zr;Po++)Po===0?(yo=Eo(Xi),ao=zo(hn)):(yo=yi(Wo-xo[Po]),ao=-na),Mi.push([Un[Po],yo,ao]),Wo=xo[Po]}else if(er==="center"){Xi-=xo[0]/2,Mi=[],Zr=Un.length;for(var Io=0;Io<Zr;Io++)Io===0?(yo=Eo(Xi),ao=zo(hn)):(yo=yi((Wo-xo[Io])/2),ao=-na),Mi.push([Un[Io],yo,ao]),Wo=xo[Io]}else if(er==="left"){Mi=[],Zr=Un.length;for(var Ms=0;Ms<Zr;Ms++)Mi.push(Un[Ms])}else{if(er!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');Mi=[],Zr=Un.length,dr=dr!==0?dr:Dl;for(var wo=0;wo<Zr;wo++)ao=wo===0?zo(hn):-na,yo=wo===0?Eo(Xi):0,wo<Zr-1?Xo.push(fi(yi((dr-xo[wo])/(Un[wo].split(" ").length-1)))):Xo.push(0),Mi.push([Un[wo],yo,ao])}}var Ds=typeof gn.R2L=="boolean"?gn.R2L:dn;Ds===!0&&(Mi=Js(Mi,function(Mr,Dr,Nr){return[Mr.split("").reverse().join(""),Dr,Nr]})),Rn={text:Mi,x:Xi,y:hn,options:gn,mutex:{pdfEscape:Kr,activeFontKey:_n,fonts:Fn,activeFontSize:on}},hr.publish("postProcessText",Rn),Mi=Rn.text,go=Rn.mutex.isHex||!1;var ra=Fn[_n].encoding;ra!=="WinAnsiEncoding"&&ra!=="StandardEncoding"||(Mi=Js(Mi,function(Mr,Dr,Nr){return[Oa(Mr),Dr,Nr]})),Un=Zs(Mi),Mi=[];for(var Yo,bo,No,us=0,ks=1,cs=Array.isArray(Un[0])?ks:us,Go="",oa=function(Mr,Dr,Nr){var jr="";return Nr instanceof Dn?(Nr=typeof gn.angle=="number"?qn(Nr,new Dn(1,0,0,1,Mr,Dr)):qn(new Dn(1,0,0,1,Mr,Dr),Nr),ni===oi.ADVANCED&&(Nr=qn(new Dn(1,0,0,-1,0,0),Nr)),jr=Nr.join(" ")+` Tm
`):jr=fi(Mr)+" "+fi(Dr)+` Td
`,jr},lo=0;lo<Un.length;lo++){switch(Go="",cs){case ks:No=(go?"<":"(")+Un[lo][0]+(go?">":")"),Yo=parseFloat(Un[lo][1]),bo=parseFloat(Un[lo][2]);break;case us:No=(go?"<":"(")+Un[lo]+(go?">":")"),Yo=Eo(Xi),bo=zo(hn)}Xo!==void 0&&Xo[lo]!==void 0&&(Go=Xo[lo]+` Tw
`),lo===0?Mi.push(Go+oa(Yo,bo,Er)+No):cs===us?Mi.push(Go+No):cs===ks&&Mi.push(Go+oa(Yo,bo,Er)+No)}Mi=cs===us?Mi.join(` Tj
T* `):Mi.join(` Tj
`),Mi+=` Tj
`;var Ro=`BT
/`;return Ro+=_n+" "+on+` Tf
`,Ro+=fi(on*io)+` TL
`,Ro+=as+`
`,Ro+=Ur,Ro+=Mi,Di(Ro+="ET"),ti[_n]=!0,Fr};var yl=ii.__private__.clip=ii.clip=function(Mi){return Di(Mi==="evenodd"?"W*":"W"),this};ii.clipEvenOdd=function(){return yl("evenodd")},ii.__private__.discardPath=ii.discardPath=function(){return Di("n"),this};var Co=ii.__private__.isValidStyle=function(Mi){var Xi=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(Mi)!==-1&&(Xi=!0),Xi};ii.__private__.setDefaultPathOperation=ii.setDefaultPathOperation=function(Mi){return Co(Mi)&&(Je=Mi),this};var Ca=ii.__private__.getStyle=ii.getStyle=function(Mi){var Xi=Je;switch(Mi){case"D":case"S":Xi="S";break;case"F":Xi="f";break;case"FD":case"DF":Xi="B";break;case"f":case"f*":case"B":case"B*":Xi=Mi}return Xi},Pa=ii.close=function(){return Di("h"),this};ii.stroke=function(){return Di("S"),this},ii.fill=function(Mi){return xs("f",Mi),this},ii.fillEvenOdd=function(Mi){return xs("f*",Mi),this},ii.fillStroke=function(Mi){return xs("B",Mi),this},ii.fillStrokeEvenOdd=function(Mi){return xs("B*",Mi),this};var xs=function(Mi,Xi){_typeof(Xi)==="object"?bl(Xi,Mi):Di(Mi)},Vs=function(Mi){Mi===null||ni===oi.ADVANCED&&Mi===void 0||(Mi=Ca(Mi),Di(Mi))};function wl(Mi,Xi,hn,gn,Pn){var Rn=new M(Xi||this.boundingBox,hn||this.xStep,gn||this.yStep,this.gState,Pn||this.matrix);Rn.stream=this.stream;var Un=Mi+"$$"+this.cloneIndex+++"$$";return fr(Un,Rn),Rn}var bl=function(Mi,Xi){var hn=tr[Mi.key],gn=Xn[hn];if(gn instanceof B)Di("q"),Di(vl(Xi)),gn.gState&&ii.setGState(gn.gState),Di(Mi.matrix.toString()+" cm"),Di("/"+hn+" sh"),Di("Q");else if(gn instanceof M){var Pn=new Dn(1,0,0,-1,0,qo());Mi.matrix&&(Pn=Pn.multiply(Mi.matrix||Wn),hn=wl.call(gn,Mi.key,Mi.boundingBox,Mi.xStep,Mi.yStep,Pn).id),Di("q"),Di("/Pattern cs"),Di("/"+hn+" scn"),gn.gState&&ii.setGState(gn.gState),Di(Xi),Di("Q")}},vl=function(Mi){switch(Mi){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Us=ii.moveTo=function(Mi,Xi){return Di(fi(yi(Mi))+" "+fi(Si(Xi))+" m"),this},os=ii.lineTo=function(Mi,Xi){return Di(fi(yi(Mi))+" "+fi(Si(Xi))+" l"),this},Uo=ii.curveTo=function(Mi,Xi,hn,gn,Pn,Rn){return Di([fi(yi(Mi)),fi(Si(Xi)),fi(yi(hn)),fi(Si(gn)),fi(yi(Pn)),fi(Si(Rn)),"c"].join(" ")),this};ii.__private__.line=ii.line=function(Mi,Xi,hn,gn,Pn){if(isNaN(Mi)||isNaN(Xi)||isNaN(hn)||isNaN(gn)||!Co(Pn))throw new Error("Invalid arguments passed to jsPDF.line");return ni===oi.COMPAT?this.lines([[hn-Mi,gn-Xi]],Mi,Xi,[1,1],Pn||"S"):this.lines([[hn-Mi,gn-Xi]],Mi,Xi,[1,1]).stroke()},ii.__private__.lines=ii.lines=function(Mi,Xi,hn,gn,Pn,Rn){var Un,Zn,er,lr,dr,gr,Tr,Er,Fr,Yr,Ur,go;if(typeof Mi=="number"&&(go=hn,hn=Xi,Xi=Mi,Mi=go),gn=gn||[1,1],Rn=Rn||!1,isNaN(Xi)||isNaN(hn)||!Array.isArray(Mi)||!Array.isArray(gn)||!Co(Pn)||typeof Rn!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Us(Xi,hn),Un=gn[0],Zn=gn[1],lr=Mi.length,Yr=Xi,Ur=hn,er=0;er<lr;er++)(dr=Mi[er]).length===2?(Yr=dr[0]*Un+Yr,Ur=dr[1]*Zn+Ur,os(Yr,Ur)):(gr=dr[0]*Un+Yr,Tr=dr[1]*Zn+Ur,Er=dr[2]*Un+Yr,Fr=dr[3]*Zn+Ur,Yr=dr[4]*Un+Yr,Ur=dr[5]*Zn+Ur,Uo(gr,Tr,Er,Fr,Yr,Ur));return Rn&&Pa(),Vs(Pn),this},ii.path=function(Mi){for(var Xi=0;Xi<Mi.length;Xi++){var hn=Mi[Xi],gn=hn.c;switch(hn.op){case"m":Us(gn[0],gn[1]);break;case"l":os(gn[0],gn[1]);break;case"c":Uo.apply(this,gn);break;case"h":Pa()}}return this},ii.__private__.rect=ii.rect=function(Mi,Xi,hn,gn,Pn){if(isNaN(Mi)||isNaN(Xi)||isNaN(hn)||isNaN(gn)||!Co(Pn))throw new Error("Invalid arguments passed to jsPDF.rect");return ni===oi.COMPAT&&(gn=-gn),Di([fi(yi(Mi)),fi(Si(Xi)),fi(yi(hn)),fi(yi(gn)),"re"].join(" ")),Vs(Pn),this},ii.__private__.triangle=ii.triangle=function(Mi,Xi,hn,gn,Pn,Rn,Un){if(isNaN(Mi)||isNaN(Xi)||isNaN(hn)||isNaN(gn)||isNaN(Pn)||isNaN(Rn)||!Co(Un))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[hn-Mi,gn-Xi],[Pn-hn,Rn-gn],[Mi-Pn,Xi-Rn]],Mi,Xi,[1,1],Un,!0),this},ii.__private__.roundedRect=ii.roundedRect=function(Mi,Xi,hn,gn,Pn,Rn,Un){if(isNaN(Mi)||isNaN(Xi)||isNaN(hn)||isNaN(gn)||isNaN(Pn)||isNaN(Rn)||!Co(Un))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Zn=4/3*(Math.SQRT2-1);return Pn=Math.min(Pn,.5*hn),Rn=Math.min(Rn,.5*gn),this.lines([[hn-2*Pn,0],[Pn*Zn,0,Pn,Rn-Rn*Zn,Pn,Rn],[0,gn-2*Rn],[0,Rn*Zn,-Pn*Zn,Rn,-Pn,Rn],[2*Pn-hn,0],[-Pn*Zn,0,-Pn,-Rn*Zn,-Pn,-Rn],[0,2*Rn-gn],[0,-Rn*Zn,Pn*Zn,-Rn,Pn,-Rn]],Mi+Pn,Xi,[1,1],Un,!0),this},ii.__private__.ellipse=ii.ellipse=function(Mi,Xi,hn,gn,Pn){if(isNaN(Mi)||isNaN(Xi)||isNaN(hn)||isNaN(gn)||!Co(Pn))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Rn=4/3*(Math.SQRT2-1)*hn,Un=4/3*(Math.SQRT2-1)*gn;return Us(Mi+hn,Xi),Uo(Mi+hn,Xi-Un,Mi+Rn,Xi-gn,Mi,Xi-gn),Uo(Mi-Rn,Xi-gn,Mi-hn,Xi-Un,Mi-hn,Xi),Uo(Mi-hn,Xi+Un,Mi-Rn,Xi+gn,Mi,Xi+gn),Uo(Mi+Rn,Xi+gn,Mi+hn,Xi+Un,Mi+hn,Xi),Vs(Pn),this},ii.__private__.circle=ii.circle=function(Mi,Xi,hn,gn){if(isNaN(Mi)||isNaN(Xi)||isNaN(hn)||!Co(gn))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(Mi,Xi,hn,hn,gn)},ii.setFont=function(Mi,Xi,hn){return hn&&(Xi=di(Xi,hn)),_n=va(Mi,Xi,{disableWarning:!1}),this};var Sl=ii.__private__.getFont=ii.getFont=function(){return Fn[va.apply(ii,arguments)]};ii.__private__.getFontList=ii.getFontList=function(){var Mi,Xi,hn={};for(Mi in Hn)if(Hn.hasOwnProperty(Mi))for(Xi in hn[Mi]=[],Hn[Mi])Hn[Mi].hasOwnProperty(Xi)&&hn[Mi].push(Xi);return hn},ii.addFont=function(Mi,Xi,hn,gn,Pn){var Rn=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Rn.indexOf(arguments[3])!==-1?Pn=arguments[3]:arguments[3]&&Rn.indexOf(arguments[3])==-1&&(hn=di(hn,gn)),Pn=Pn||"Identity-H",Bs.call(this,Mi,Xi,hn,Pn)};var ss,zs=Ve.lineWidth||.200025,ys=ii.__private__.getLineWidth=ii.getLineWidth=function(){return zs},Ma=ii.__private__.setLineWidth=ii.setLineWidth=function(Mi){return zs=Mi,Di(fi(yi(Mi))+" w"),this};ii.__private__.setLineDash=E.API.setLineDash=E.API.setLineDashPattern=function(Mi,Xi){if(Mi=Mi||[],Xi=Xi||0,isNaN(Xi)||!Array.isArray(Mi))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return Mi=Mi.map(function(hn){return fi(yi(hn))}).join(" "),Xi=fi(yi(Xi)),Di("["+Mi+"] "+Xi+" d"),this};var Da=ii.__private__.getLineHeight=ii.getLineHeight=function(){return on*ss};ii.__private__.getLineHeight=ii.getLineHeight=function(){return on*ss};var ka=ii.__private__.setLineHeightFactor=ii.setLineHeightFactor=function(Mi){return typeof(Mi=Mi||1.15)=="number"&&(ss=Mi),this},Ta=ii.__private__.getLineHeightFactor=ii.getLineHeightFactor=function(){return ss};ka(Ve.lineHeight);var Eo=ii.__private__.getHorizontalCoordinate=function(Mi){return yi(Mi)},zo=ii.__private__.getVerticalCoordinate=function(Mi){return ni===oi.ADVANCED?Mi:Qn[Vi].mediaBox.topRightY-Qn[Vi].mediaBox.bottomLeftY-yi(Mi)},Al=ii.__private__.getHorizontalCoordinateString=ii.getHorizontalCoordinateString=function(Mi){return fi(Eo(Mi))},Ho=ii.__private__.getVerticalCoordinateString=ii.getVerticalCoordinateString=function(Mi){return fi(zo(Mi))},po=Ve.strokeColor||"0 G";ii.__private__.getStrokeColor=ii.getDrawColor=function(){return wr(po)},ii.__private__.setStrokeColor=ii.setDrawColor=function(Mi,Xi,hn,gn){return po=kr({ch1:Mi,ch2:Xi,ch3:hn,ch4:gn,pdfColorType:"draw",precision:2}),Di(po),this};var Hs=Ve.fillColor||"0 g";ii.__private__.getFillColor=ii.getFillColor=function(){return wr(Hs)},ii.__private__.setFillColor=ii.setFillColor=function(Mi,Xi,hn,gn){return Hs=kr({ch1:Mi,ch2:Xi,ch3:hn,ch4:gn,pdfColorType:"fill",precision:2}),Di(Hs),this};var as=Ve.textColor||"0 g",_l=ii.__private__.getTextColor=ii.getTextColor=function(){return wr(as)};ii.__private__.setTextColor=ii.setTextColor=function(Mi,Xi,hn,gn){return as=kr({ch1:Mi,ch2:Xi,ch3:hn,ch4:gn,pdfColorType:"text",precision:3}),this};var ws=Ve.charSpace,Cl=ii.__private__.getCharSpace=ii.getCharSpace=function(){return parseFloat(ws||0)};ii.__private__.setCharSpace=ii.setCharSpace=function(Mi){if(isNaN(Mi))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ws=Mi,this};var qs=0;ii.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},ii.__private__.setLineCap=ii.setLineCap=function(Mi){var Xi=ii.CapJoinStyles[Mi];if(Xi===void 0)throw new Error("Line cap style of '"+Mi+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return qs=Xi,Di(Xi+" J"),this};var Xs=0;ii.__private__.setLineJoin=ii.setLineJoin=function(Mi){var Xi=ii.CapJoinStyles[Mi];if(Xi===void 0)throw new Error("Line join style of '"+Mi+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xs=Xi,Di(Xi+" j"),this},ii.__private__.setLineMiterLimit=ii.__private__.setMiterLimit=ii.setLineMiterLimit=ii.setMiterLimit=function(Mi){if(Mi=Mi||0,isNaN(Mi))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Di(fi(yi(Mi))+" M"),this},ii.GState=j,ii.setGState=function(Mi){(Mi=typeof Mi=="string"?nr[mr[Mi]]:La(null,Mi)).equals(ar)||(Di("/"+Mi.id+" gs"),ar=Mi)};var La=function(Mi,Xi){if(!Mi||!mr[Mi]){var hn=!1;for(var gn in nr)if(nr.hasOwnProperty(gn)&&nr[gn].equals(Xi)){hn=!0;break}if(hn)Xi=nr[gn];else{var Pn="GS"+(Object.keys(nr).length+1).toString(10);nr[Pn]=Xi,Xi.id=Pn}return Mi&&(mr[Mi]=Xi.id),hr.publish("addGState",Xi),Xi}};ii.addGState=function(Mi,Xi){return La(Mi,Xi),this},ii.saveGraphicsState=function(){return Di("q"),zn.push({key:_n,size:on,color:as}),this},ii.restoreGraphicsState=function(){Di("Q");var Mi=zn.pop();return _n=Mi.key,on=Mi.size,as=Mi.color,ar=null,this},ii.setCurrentTransformationMatrix=function(Mi){return Di(Mi.toString()+" cm"),this},ii.comment=function(Mi){return Di("#"+Mi),this};var bs=function(Mi,Xi){var hn=Mi||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return hn},set:function(Rn){isNaN(Rn)||(hn=parseFloat(Rn))}});var gn=Xi||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return gn},set:function(Rn){isNaN(Rn)||(gn=parseFloat(Rn))}});var Pn="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Pn},set:function(Rn){Pn=Rn.toString()}}),this},Ws=function(Mi,Xi,hn,gn){bs.call(this,Mi,Xi),this.type="rect";var Pn=hn||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Pn},set:function(Un){isNaN(Un)||(Pn=parseFloat(Un))}});var Rn=gn||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Rn},set:function(Un){isNaN(Un)||(Rn=parseFloat(Un))}}),this},Ys=function(){this.page=rr,this.currentPage=Vi,this.pages=bi.slice(0),this.pagesContext=Qn.slice(0),this.x=Cn,this.y=Ln,this.matrix=Nn,this.width=ls(Vi),this.height=qo(Vi),this.outputDestination=_i,this.id="",this.objectNumber=-1};Ys.prototype.restore=function(){rr=this.page,Vi=this.currentPage,Qn=this.pagesContext,bi=this.pages,Cn=this.x,Ln=this.y,Nn=this.matrix,Gs(Vi,this.width),Ks(Vi,this.height),_i=this.outputDestination};var Ea=function(Mi,Xi,hn,gn,Pn){Sn.push(new Ys),rr=Vi=0,bi=[],Cn=Mi,Ln=Xi,Nn=Pn,$s([hn,gn])},Pl=function(Mi){if(fn[Mi])Sn.pop().restore();else{var Xi=new Ys,hn="Xo"+(Object.keys(Yi).length+1).toString(10);Xi.id=hn,fn[Mi]=hn,Yi[hn]=Xi,hr.publish("addFormObject",Xi),Sn.pop().restore()}};for(var vs in ii.beginFormObject=function(Mi,Xi,hn,gn,Pn){return Ea(Mi,Xi,hn,gn,Pn),this},ii.endFormObject=function(Mi){return Pl(Mi),this},ii.doFormObject=function(Mi,Xi){var hn=Yi[fn[Mi]];return Di("q"),Di(Xi.toString()+" cm"),Di("/"+hn.id+" Do"),Di("Q"),this},ii.getFormObject=function(Mi){var Xi=Yi[fn[Mi]];return{x:Xi.x,y:Xi.y,width:Xi.width,height:Xi.height,matrix:Xi.matrix}},ii.save=function(Mi,Xi){return Mi=Mi||"generated.pdf",(Xi=Xi||{}).returnPromise=Xi.returnPromise||!1,Xi.returnPromise===!1?(l(ps(Lo()),Mi),typeof l.unload=="function"&&n.setTimeout&&setTimeout(l.unload,911),this):new Promise(function(hn,gn){try{var Pn=l(ps(Lo()),Mi);typeof l.unload=="function"&&n.setTimeout&&setTimeout(l.unload,911),hn(Pn)}catch(Rn){gn(Rn.message)}})},E.API)E.API.hasOwnProperty(vs)&&(vs==="events"&&E.API.events.length?function(Mi,Xi){var hn,gn,Pn;for(Pn=Xi.length-1;Pn!==-1;Pn--)hn=Xi[Pn][0],gn=Xi[Pn][1],Mi.subscribe.apply(Mi,[hn].concat(typeof gn=="function"?[gn]:gn))}(hr,E.API.events):ii[vs]=E.API[vs]);var ls=ii.getPageWidth=function(Mi){return(Qn[Mi=Mi||Vi].mediaBox.topRightX-Qn[Mi].mediaBox.bottomLeftX)/an},Gs=ii.setPageWidth=function(Mi,Xi){Qn[Mi].mediaBox.topRightX=Xi*an+Qn[Mi].mediaBox.bottomLeftX},qo=ii.getPageHeight=function(Mi){return(Qn[Mi=Mi||Vi].mediaBox.topRightY-Qn[Mi].mediaBox.bottomLeftY)/an},Ks=ii.setPageHeight=function(Mi,Xi){Qn[Mi].mediaBox.topRightY=Xi*an+Qn[Mi].mediaBox.bottomLeftY};return ii.internal={pdfEscape:Kr,getStyle:Ca,getFont:Sl,getFontSize:mn,getCharSpace:Cl,getTextColor:_l,getLineHeight:Da,getLineHeightFactor:Ta,getLineWidth:ys,write:Ki,getHorizontalCoordinate:Eo,getVerticalCoordinate:zo,getCoordinateString:Al,getVerticalCoordinateString:Ho,collections:{},newObject:or,newAdditionalObject:so,newObjectDeferred:cr,newObjectDeferredBegin:Pr,getFilters:_r,putStream:Lr,events:hr,scaleFactor:an,pageSize:{getWidth:function(){return ls(Vi)},setWidth:function(Mi){Gs(Vi,Mi)},getHeight:function(){return qo(Vi)},setHeight:function(Mi){Ks(Vi,Mi)}},encryptionOptions:St,encryption:Wr,getEncryptor:gl,output:gs,getNumberOfPages:cl,pages:bi,out:Di,f2:wi,f3:gi,getPageInfo:Aa,getPageInfoByObjId:sr,getCurrentPageInfo:xl,getPDFVersion:si,Point:bs,Rectangle:Ws,Matrix:Dn,hasHotfix:Sa},Object.defineProperty(ii.internal.pageSize,"width",{get:function(){return ls(Vi)},set:function(Mi){Gs(Vi,Mi)},enumerable:!0,configurable:!0}),Object.defineProperty(ii.internal.pageSize,"height",{get:function(){return qo(Vi)},set:function(Mi){Ks(Vi,Mi)},enumerable:!0,configurable:!0}),ll.call(ii,zi),_n="F1",wa(Xe,ze),hr.publish("initialized"),ii}I.prototype.lsbFirstWord=function(Ve){return String.fromCharCode(Ve>>0&255,Ve>>8&255,Ve>>16&255,Ve>>24&255)},I.prototype.toHexString=function(Ve){return Ve.split("").map(function(je){return("0"+(255&je.charCodeAt(0)).toString(16)).slice(-2)}).join("")},I.prototype.hexToBytes=function(Ve){for(var je=[],ze=0;ze<Ve.length;ze+=2)je.push(String.fromCharCode(parseInt(Ve.substr(ze,2),16)));return je.join("")},I.prototype.processOwnerPassword=function(Ve,je){return P(x(je).substr(0,5),Ve)},I.prototype.encryptor=function(Ve,je){var ze=x(this.encryptionKey+String.fromCharCode(255&Ve,Ve>>8&255,Ve>>16&255,255&je,je>>8&255)).substr(0,10);return function(qe){return P(ze,qe)}},j.prototype.equals=function(Ve){var je,ze="id,objectNumber,equals";if(!Ve||_typeof(Ve)!==_typeof(this))return!1;var qe=0;for(je in this)if(!(ze.indexOf(je)>=0)){if(this.hasOwnProperty(je)&&!Ve.hasOwnProperty(je)||this[je]!==Ve[je])return!1;qe++}for(je in Ve)Ve.hasOwnProperty(je)&&ze.indexOf(je)<0&&qe--;return qe===0},E.API={events:[]},E.version="2.5.1";var q=E.API,D=1,R=function(Ve){return Ve.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},T=function(Ve){return Ve.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},U=function(Ve){return Ve.toFixed(2)},z=function(Ve){return Ve.toFixed(5)};q.__acroform__={};var H=function(Ve,je){Ve.prototype=Object.create(je.prototype),Ve.prototype.constructor=Ve},W=function(Ve){return Ve*D},V=function(Ve){var je=new ut,ze=At.internal.getHeight(Ve)||0,qe=At.internal.getWidth(Ve)||0;return je.BBox=[0,0,Number(U(qe)),Number(U(ze))],je},G=q.__acroform__.setBit=function(Ve,je){if(Ve=Ve||0,je=je||0,isNaN(Ve)||isNaN(je))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return Ve|=1<<je},Y=q.__acroform__.clearBit=function(Ve,je){if(Ve=Ve||0,je=je||0,isNaN(Ve)||isNaN(je))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return Ve&=~(1<<je)},J=q.__acroform__.getBit=function(Ve,je){if(isNaN(Ve)||isNaN(je))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return Ve&1<<je?1:0},X=q.__acroform__.getBitForPdf=function(Ve,je){if(isNaN(Ve)||isNaN(je))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return J(Ve,je-1)},K=q.__acroform__.setBitForPdf=function(Ve,je){if(isNaN(Ve)||isNaN(je))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return G(Ve,je-1)},Z=q.__acroform__.clearBitForPdf=function(Ve,je){if(isNaN(Ve)||isNaN(je))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Y(Ve,je-1)},$=q.__acroform__.calculateCoordinates=function(Ve,je){var ze=je.internal.getHorizontalCoordinate,qe=je.internal.getVerticalCoordinate,Xe=Ve[0],Ye=Ve[1],Ke=Ve[2],Ze=Ve[3],Qe={};return Qe.lowerLeft_X=ze(Xe)||0,Qe.lowerLeft_Y=qe(Ye+Ze)||0,Qe.upperRight_X=ze(Xe+Ke)||0,Qe.upperRight_Y=qe(Ye)||0,[Number(U(Qe.lowerLeft_X)),Number(U(Qe.lowerLeft_Y)),Number(U(Qe.upperRight_X)),Number(U(Qe.upperRight_Y))]},Q=function(Ve){if(Ve.appearanceStreamContent)return Ve.appearanceStreamContent;if(Ve.V||Ve.DV){var je=[],ze=Ve._V||Ve.DV,qe=tt(Ve,ze),Xe=Ve.scope.internal.getFont(Ve.fontName,Ve.fontStyle).id;je.push("/Tx BMC"),je.push("q"),je.push("BT"),je.push(Ve.scope.__private__.encodeColorString(Ve.color)),je.push("/"+Xe+" "+U(qe.fontSize)+" Tf"),je.push("1 0 0 1 0 0 Tm"),je.push(qe.text),je.push("ET"),je.push("Q"),je.push("EMC");var Ye=V(Ve);return Ye.scope=Ve.scope,Ye.stream=je.join(`
`),Ye}},tt=function(Ve,je){var ze=Ve.fontSize===0?Ve.maxFontSize:Ve.fontSize,qe={text:"",fontSize:""},Xe=(je=(je=je.substr(0,1)=="("?je.substr(1):je).substr(je.length-1)==")"?je.substr(0,je.length-1):je).split(" ");Xe=Ve.multiline?Xe.map(function(gi){return gi.split(`
`)}):Xe.map(function(gi){return[gi]});var Ye=ze,Ke=At.internal.getHeight(Ve)||0;Ke=Ke<0?-Ke:Ke;var Ze=At.internal.getWidth(Ve)||0;Ze=Ze<0?-Ze:Ze;var Qe=function(gi,yi,Ai){if(gi+1<Xe.length){var Si=yi+" "+Xe[gi+1][0];return et(Si,Ve,Ai).width<=Ze-4}return!1};Ye++;e:for(;Ye>0;){je="",Ye--;var Je,St,ei=et("3",Ve,Ye).height,ti=Ve.multiline?Ke-Ye:(Ke-ei)/2,ii=ti+=2,ri=0,si=0,ui=0;if(Ye<=0){je=`(...) Tj
`,je+="% Width of Text: "+et(je,Ve,Ye=12).width+", FieldWidth:"+Ze+`
`;break}for(var ai="",oi=0,ni=0;ni<Xe.length;ni++)if(Xe.hasOwnProperty(ni)){var ci=!1;if(Xe[ni].length!==1&&ui!==Xe[ni].length-1){if((ei+2)*(oi+2)+2>Ke)continue e;ai+=Xe[ni][ui],ci=!0,si=ni,ni--}else{ai=(ai+=Xe[ni][ui]+" ").substr(ai.length-1)==" "?ai.substr(0,ai.length-1):ai;var hi=parseInt(ni),di=Qe(hi,ai,Ye),fi=ni>=Xe.length-1;if(di&&!fi){ai+=" ",ui=0;continue}if(di||fi){if(fi)si=hi;else if(Ve.multiline&&(ei+2)*(oi+2)+2>Ke)continue e}else{if(!Ve.multiline||(ei+2)*(oi+2)+2>Ke)continue e;si=hi}}for(var mi="",pi=ri;pi<=si;pi++){var wi=Xe[pi];if(Ve.multiline){if(pi===si){mi+=wi[ui]+" ",ui=(ui+1)%wi.length;continue}if(pi===ri){mi+=wi[wi.length-1]+" ";continue}}mi+=wi[0]+" "}switch(mi=mi.substr(mi.length-1)==" "?mi.substr(0,mi.length-1):mi,St=et(mi,Ve,Ye).width,Ve.textAlign){case"right":Je=Ze-St-2;break;case"center":Je=(Ze-St)/2;break;case"left":default:Je=2}je+=U(Je)+" "+U(ii)+` Td
`,je+="("+R(mi)+`) Tj
`,je+=-U(Je)+` 0 Td
`,ii=-(Ye+2),St=0,ri=ci?si:si+1,oi++,ai=""}break}return qe.text=je,qe.fontSize=Ye,qe},et=function(Ve,je,ze){var qe=je.scope.internal.getFont(je.fontName,je.fontStyle),Xe=je.scope.getStringUnitWidth(Ve,{font:qe,fontSize:parseFloat(ze),charSpace:0})*parseFloat(ze);return{height:je.scope.getStringUnitWidth("3",{font:qe,fontSize:parseFloat(ze),charSpace:0})*parseFloat(ze)*1.5,width:Xe}},rt={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nt=function(Ve,je){var ze={type:"reference",object:Ve};je.internal.getPageInfo(Ve.page).pageContext.annotations.find(function(qe){return qe.type===ze.type&&qe.object===ze.object})===void 0&&je.internal.getPageInfo(Ve.page).pageContext.annotations.push(ze)},it=function(Ve,je){for(var ze in Ve)if(Ve.hasOwnProperty(ze)){var qe=ze,Xe=Ve[ze];je.internal.newObjectDeferredBegin(Xe.objId,!0),_typeof(Xe)==="object"&&typeof Xe.putStream=="function"&&Xe.putStream(),delete Ve[qe]}},at=function(Ve,je){if(je.scope=Ve,Ve.internal!==void 0&&(Ve.internal.acroformPlugin===void 0||Ve.internal.acroformPlugin.isInitialized===!1)){if(lt.FieldNum=0,Ve.internal.acroformPlugin=JSON.parse(JSON.stringify(rt)),Ve.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");D=Ve.internal.scaleFactor,Ve.internal.acroformPlugin.acroFormDictionaryRoot=new ht,Ve.internal.acroformPlugin.acroFormDictionaryRoot.scope=Ve,Ve.internal.acroformPlugin.acroFormDictionaryRoot._eventID=Ve.internal.events.subscribe("postPutResources",function(){(function(ze){ze.internal.events.unsubscribe(ze.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete ze.internal.acroformPlugin.acroFormDictionaryRoot._eventID,ze.internal.acroformPlugin.printedOut=!0})(Ve)}),Ve.internal.events.subscribe("buildDocument",function(){(function(ze){ze.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var qe=ze.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var Xe in qe)if(qe.hasOwnProperty(Xe)){var Ye=qe[Xe];Ye.objId=void 0,Ye.hasAnnotation&&nt(Ye,ze)}})(Ve)}),Ve.internal.events.subscribe("putCatalog",function(){(function(ze){if(ze.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");ze.internal.write("/AcroForm "+ze.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(Ve)}),Ve.internal.events.subscribe("postPutPages",function(ze){(function(qe,Xe){var Ye=!qe;for(var Ke in qe||(Xe.internal.newObjectDeferredBegin(Xe.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),Xe.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),qe=qe||Xe.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(qe.hasOwnProperty(Ke)){var Ze=qe[Ke],Qe=[],Je=Ze.Rect;if(Ze.Rect&&(Ze.Rect=$(Ze.Rect,Xe)),Xe.internal.newObjectDeferredBegin(Ze.objId,!0),Ze.DA=At.createDefaultAppearanceStream(Ze),_typeof(Ze)==="object"&&typeof Ze.getKeyValueListForStream=="function"&&(Qe=Ze.getKeyValueListForStream()),Ze.Rect=Je,Ze.hasAppearanceStream&&!Ze.appearanceStreamContent){var St=Q(Ze);Qe.push({key:"AP",value:"<</N "+St+">>"}),Xe.internal.acroformPlugin.xForms.push(St)}if(Ze.appearanceStreamContent){var ei="";for(var ti in Ze.appearanceStreamContent)if(Ze.appearanceStreamContent.hasOwnProperty(ti)){var ii=Ze.appearanceStreamContent[ti];if(ei+="/"+ti+" ",ei+="<<",Object.keys(ii).length>=1||Array.isArray(ii)){for(var Ke in ii)if(ii.hasOwnProperty(Ke)){var ri=ii[Ke];typeof ri=="function"&&(ri=ri.call(Xe,Ze)),ei+="/"+Ke+" "+ri+" ",Xe.internal.acroformPlugin.xForms.indexOf(ri)>=0||Xe.internal.acroformPlugin.xForms.push(ri)}}else typeof(ri=ii)=="function"&&(ri=ri.call(Xe,Ze)),ei+="/"+Ke+" "+ri,Xe.internal.acroformPlugin.xForms.indexOf(ri)>=0||Xe.internal.acroformPlugin.xForms.push(ri);ei+=">>"}Qe.push({key:"AP",value:`<<
`+ei+">>"})}Xe.internal.putStream({additionalKeyValues:Qe,objectId:Ze.objId}),Xe.internal.out("endobj")}Ye&&it(Xe.internal.acroformPlugin.xForms,Xe)})(ze,Ve)}),Ve.internal.acroformPlugin.isInitialized=!0}},ot=q.__acroform__.arrayToPdfArray=function(Ve,je,ze){var qe=function(Ke){return Ke};if(Array.isArray(Ve)){for(var Xe="[",Ye=0;Ye<Ve.length;Ye++)switch(Ye!==0&&(Xe+=" "),_typeof(Ve[Ye])){case"boolean":case"number":case"object":Xe+=Ve[Ye].toString();break;case"string":Ve[Ye].substr(0,1)!=="/"?(je!==void 0&&ze&&(qe=ze.internal.getEncryptor(je)),Xe+="("+R(qe(Ve[Ye].toString()))+")"):Xe+=Ve[Ye].toString()}return Xe+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},st=function(Ve,je,ze){var qe=function(Xe){return Xe};return je!==void 0&&ze&&(qe=ze.internal.getEncryptor(je)),(Ve=Ve||"").toString(),Ve="("+R(qe(Ve))+")"},ct=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(Ve){this._objId=Ve}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ct.prototype.toString=function(){return this.objId+" 0 R"},ct.prototype.putStream=function(){var Ve=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:Ve,objectId:this.objId}),this.scope.internal.out("endobj")},ct.prototype.getKeyValueListForStream=function(){var Ve=[],je=Object.getOwnPropertyNames(this).filter(function(Ye){return Ye!="content"&&Ye!="appearanceStreamContent"&&Ye!="scope"&&Ye!="objId"&&Ye.substring(0,1)!="_"});for(var ze in je)if(Object.getOwnPropertyDescriptor(this,je[ze]).configurable===!1){var qe=je[ze],Xe=this[qe];Xe&&(Array.isArray(Xe)?Ve.push({key:qe,value:ot(Xe,this.objId,this.scope)}):Xe instanceof ct?(Xe.scope=this.scope,Ve.push({key:qe,value:Xe.objId+" 0 R"})):typeof Xe!="function"&&Ve.push({key:qe,value:Xe}))}return Ve};var ut=function(){ct.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var Ve,je=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return je},set:function(ze){je=ze}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(ze){Ve=ze.trim()},get:function(){return Ve||null}})};H(ut,ct);var ht=function(){ct.call(this);var Ve,je=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return je.length>0?je:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return je}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(Ve){var ze=function(qe){return qe};return this.scope&&(ze=this.scope.internal.getEncryptor(this.objId)),"("+R(ze(Ve))+")"}},set:function(ze){Ve=ze}})};H(ht,ct);var lt=function Ve(){ct.call(this);var je=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return je},set:function(ai){if(isNaN(ai))throw new Error('Invalid value "'+ai+'" for attribute F supplied.');je=ai}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!X(je,3)},set:function(ai){ai?this.F=K(je,3):this.F=Z(je,3)}});var ze=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return ze},set:function(ai){if(isNaN(ai))throw new Error('Invalid value "'+ai+'" for attribute Ff supplied.');ze=ai}});var qe=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(qe.length!==0)return qe},set:function(ai){qe=ai!==void 0?ai:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!qe||isNaN(qe[0])?0:qe[0]},set:function(ai){qe[0]=ai}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!qe||isNaN(qe[1])?0:qe[1]},set:function(ai){qe[1]=ai}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!qe||isNaN(qe[2])?0:qe[2]},set:function(ai){qe[2]=ai}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!qe||isNaN(qe[3])?0:qe[3]},set:function(ai){qe[3]=ai}});var Xe="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return Xe},set:function(ai){switch(ai){case"/Btn":case"/Tx":case"/Ch":case"/Sig":Xe=ai;break;default:throw new Error('Invalid value "'+ai+'" for attribute FT supplied.')}}});var Ye=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!Ye||Ye.length<1){if(this instanceof yt)return;Ye="FieldObject"+Ve.FieldNum++}var ai=function(oi){return oi};return this.scope&&(ai=this.scope.internal.getEncryptor(this.objId)),"("+R(ai(Ye))+")"},set:function(ai){Ye=ai.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return Ye},set:function(ai){Ye=ai}});var Ke="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return Ke},set:function(ai){Ke=ai}});var Ze="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return Ze},set:function(ai){Ze=ai}});var Qe=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return Qe},set:function(ai){Qe=ai}});var Je=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return Je===void 0?50/D:Je},set:function(ai){Je=ai}});var St="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return St},set:function(ai){St=ai}});var ei="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!ei||this instanceof yt||this instanceof Nt))return st(ei,this.objId,this.scope)},set:function(ai){ai=ai.toString(),ei=ai}});var ti=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(ti)return this instanceof mt?ti:st(ti,this.objId,this.scope)},set:function(ai){ai=ai.toString(),ti=this instanceof mt?ai:ai.substr(0,1)==="("?T(ai.substr(1,ai.length-2)):T(ai)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T(ti.substr(1,ti.length-1)):ti},set:function(ai){ai=ai.toString(),ti=this instanceof mt?"/"+ai:ai}});var ii=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(ii)return ii},set:function(ai){this.V=ai}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(ii)return this instanceof mt?ii:st(ii,this.objId,this.scope)},set:function(ai){ai=ai.toString(),ii=this instanceof mt?ai:ai.substr(0,1)==="("?T(ai.substr(1,ai.length-2)):T(ai)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T(ii.substr(1,ii.length-1)):ii},set:function(ai){ai=ai.toString(),ii=this instanceof mt?"/"+ai:ai}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var ri,si=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return si},set:function(ai){ai=!!ai,si=ai}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(ri)return ri},set:function(ai){ri=ai}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,1)},set:function(ai){ai?this.Ff=K(this.Ff,1):this.Ff=Z(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,2)},set:function(ai){ai?this.Ff=K(this.Ff,2):this.Ff=Z(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,3)},set:function(ai){ai?this.Ff=K(this.Ff,3):this.Ff=Z(this.Ff,3)}});var ui=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(ui!==null)return ui},set:function(ai){if([0,1,2].indexOf(ai)===-1)throw new Error('Invalid value "'+ai+'" for attribute Q supplied.');ui=ai}}),Object.defineProperty(this,"textAlign",{get:function(){var ai;switch(ui){case 0:default:ai="left";break;case 1:ai="center";break;case 2:ai="right"}return ai},configurable:!0,enumerable:!0,set:function(ai){switch(ai){case"right":case 2:ui=2;break;case"center":case 1:ui=1;break;case"left":case 0:default:ui=0}}})};H(lt,ct);var ft=function(){lt.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var Ve=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return Ve},set:function(ze){Ve=ze}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return Ve},set:function(ze){Ve=ze}});var je=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ot(je,this.objId,this.scope)},set:function(ze){var qe,Xe;Xe=[],typeof(qe=ze)=="string"&&(Xe=function(Ye,Ke,Ze){Ze||(Ze=1);for(var Qe,Je=[];Qe=Ke.exec(Ye);)Je.push(Qe[Ze]);return Je}(qe,/\((.*?)\)/g)),je=Xe}}),this.getOptions=function(){return je},this.setOptions=function(ze){je=ze,this.sort&&je.sort()},this.addOption=function(ze){ze=(ze=ze||"").toString(),je.push(ze),this.sort&&je.sort()},this.removeOption=function(ze,qe){for(qe=qe||!1,ze=(ze=ze||"").toString();je.indexOf(ze)!==-1&&(je.splice(je.indexOf(ze),1),qe!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,18)},set:function(ze){ze?this.Ff=K(this.Ff,18):this.Ff=Z(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,19)},set:function(ze){this.combo===!0&&(ze?this.Ff=K(this.Ff,19):this.Ff=Z(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,20)},set:function(ze){ze?(this.Ff=K(this.Ff,20),je.sort()):this.Ff=Z(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,22)},set:function(ze){ze?this.Ff=K(this.Ff,22):this.Ff=Z(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,23)},set:function(ze){ze?this.Ff=K(this.Ff,23):this.Ff=Z(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,27)},set:function(ze){ze?this.Ff=K(this.Ff,27):this.Ff=Z(this.Ff,27)}}),this.hasAppearanceStream=!1};H(ft,lt);var dt=function(){ft.call(this),this.fontName="helvetica",this.combo=!1};H(dt,ft);var pt=function(){dt.call(this),this.combo=!0};H(pt,dt);var gt=function(){pt.call(this),this.edit=!0};H(gt,pt);var mt=function(){lt.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,15)},set:function(ze){ze?this.Ff=K(this.Ff,15):this.Ff=Z(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,16)},set:function(ze){ze?this.Ff=K(this.Ff,16):this.Ff=Z(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,17)},set:function(ze){ze?this.Ff=K(this.Ff,17):this.Ff=Z(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,26)},set:function(ze){ze?this.Ff=K(this.Ff,26):this.Ff=Z(this.Ff,26)}});var Ve,je={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var ze=function(Ye){return Ye};if(this.scope&&(ze=this.scope.internal.getEncryptor(this.objId)),Object.keys(je).length!==0){var qe,Xe=[];for(qe in Xe.push("<<"),je)Xe.push("/"+qe+" ("+R(ze(je[qe]))+")");return Xe.push(">>"),Xe.join(`
`)}},set:function(ze){_typeof(ze)==="object"&&(je=ze)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return je.CA||""},set:function(ze){typeof ze=="string"&&(je.CA=ze)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return Ve},set:function(ze){Ve=ze}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return Ve.substr(1,Ve.length-1)},set:function(ze){Ve="/"+ze}})};H(mt,lt);var vt=function(){mt.call(this),this.pushButton=!0};H(vt,mt);var bt=function(){mt.call(this),this.radio=!0,this.pushButton=!1;var Ve=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return Ve},set:function(je){Ve=je!==void 0?je:[]}})};H(bt,mt);var yt=function(){var Ve,je;lt.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return Ve},set:function(Xe){Ve=Xe}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return je},set:function(Xe){je=Xe}});var ze,qe={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var Xe=function(Ze){return Ze};this.scope&&(Xe=this.scope.internal.getEncryptor(this.objId));var Ye,Ke=[];for(Ye in Ke.push("<<"),qe)Ke.push("/"+Ye+" ("+R(Xe(qe[Ye]))+")");return Ke.push(">>"),Ke.join(`
`)},set:function(Xe){_typeof(Xe)==="object"&&(qe=Xe)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return qe.CA||""},set:function(Xe){typeof Xe=="string"&&(qe.CA=Xe)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return ze},set:function(Xe){ze=Xe}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return ze.substr(1,ze.length-1)},set:function(Xe){ze="/"+Xe}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=At.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};H(yt,lt),bt.prototype.setAppearance=function(Ve){if(!("createAppearanceStream"in Ve)||!("getCA"in Ve))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var je in this.Kids)if(this.Kids.hasOwnProperty(je)){var ze=this.Kids[je];ze.appearanceStreamContent=Ve.createAppearanceStream(ze.optionName),ze.caption=Ve.getCA()}},bt.prototype.createOption=function(Ve){var je=new yt;return je.Parent=this,je.optionName=Ve,this.Kids.push(je),xt.call(this.scope,je),je};var wt=function(){mt.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=At.CheckBox.createAppearanceStream()};H(wt,mt);var Nt=function(){lt.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,13)},set:function(je){je?this.Ff=K(this.Ff,13):this.Ff=Z(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,21)},set:function(je){je?this.Ff=K(this.Ff,21):this.Ff=Z(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,23)},set:function(je){je?this.Ff=K(this.Ff,23):this.Ff=Z(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,24)},set:function(je){je?this.Ff=K(this.Ff,24):this.Ff=Z(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,25)},set:function(je){je?this.Ff=K(this.Ff,25):this.Ff=Z(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,26)},set:function(je){je?this.Ff=K(this.Ff,26):this.Ff=Z(this.Ff,26)}});var Ve=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return Ve},set:function(je){Ve=je}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return Ve},set:function(je){Number.isInteger(je)&&(Ve=je)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};H(Nt,lt);var Lt=function(){Nt.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,14)},set:function(Ve){Ve?this.Ff=K(this.Ff,14):this.Ff=Z(this.Ff,14)}}),this.password=!0};H(Lt,Nt);var At={CheckBox:{createAppearanceStream:function(){return{N:{On:At.CheckBox.YesNormal},D:{On:At.CheckBox.YesPushDown,Off:At.CheckBox.OffPushDown}}},YesPushDown:function(Ve){var je=V(Ve);je.scope=Ve.scope;var ze=[],qe=Ve.scope.internal.getFont(Ve.fontName,Ve.fontStyle).id,Xe=Ve.scope.__private__.encodeColorString(Ve.color),Ye=tt(Ve,Ve.caption);return ze.push("0.749023 g"),ze.push("0 0 "+U(At.internal.getWidth(Ve))+" "+U(At.internal.getHeight(Ve))+" re"),ze.push("f"),ze.push("BMC"),ze.push("q"),ze.push("0 0 1 rg"),ze.push("/"+qe+" "+U(Ye.fontSize)+" Tf "+Xe),ze.push("BT"),ze.push(Ye.text),ze.push("ET"),ze.push("Q"),ze.push("EMC"),je.stream=ze.join(`
`),je},YesNormal:function(Ve){var je=V(Ve);je.scope=Ve.scope;var ze=Ve.scope.internal.getFont(Ve.fontName,Ve.fontStyle).id,qe=Ve.scope.__private__.encodeColorString(Ve.color),Xe=[],Ye=At.internal.getHeight(Ve),Ke=At.internal.getWidth(Ve),Ze=tt(Ve,Ve.caption);return Xe.push("1 g"),Xe.push("0 0 "+U(Ke)+" "+U(Ye)+" re"),Xe.push("f"),Xe.push("q"),Xe.push("0 0 1 rg"),Xe.push("0 0 "+U(Ke-1)+" "+U(Ye-1)+" re"),Xe.push("W"),Xe.push("n"),Xe.push("0 g"),Xe.push("BT"),Xe.push("/"+ze+" "+U(Ze.fontSize)+" Tf "+qe),Xe.push(Ze.text),Xe.push("ET"),Xe.push("Q"),je.stream=Xe.join(`
`),je},OffPushDown:function(Ve){var je=V(Ve);je.scope=Ve.scope;var ze=[];return ze.push("0.749023 g"),ze.push("0 0 "+U(At.internal.getWidth(Ve))+" "+U(At.internal.getHeight(Ve))+" re"),ze.push("f"),je.stream=ze.join(`
`),je}},RadioButton:{Circle:{createAppearanceStream:function(Ve){var je={D:{Off:At.RadioButton.Circle.OffPushDown},N:{}};return je.N[Ve]=At.RadioButton.Circle.YesNormal,je.D[Ve]=At.RadioButton.Circle.YesPushDown,je},getCA:function(){return"l"},YesNormal:function(Ve){var je=V(Ve);je.scope=Ve.scope;var ze=[],qe=At.internal.getWidth(Ve)<=At.internal.getHeight(Ve)?At.internal.getWidth(Ve)/4:At.internal.getHeight(Ve)/4;qe=Number((.9*qe).toFixed(5));var Xe=At.internal.Bezier_C,Ye=Number((qe*Xe).toFixed(5));return ze.push("q"),ze.push("1 0 0 1 "+z(At.internal.getWidth(Ve)/2)+" "+z(At.internal.getHeight(Ve)/2)+" cm"),ze.push(qe+" 0 m"),ze.push(qe+" "+Ye+" "+Ye+" "+qe+" 0 "+qe+" c"),ze.push("-"+Ye+" "+qe+" -"+qe+" "+Ye+" -"+qe+" 0 c"),ze.push("-"+qe+" -"+Ye+" -"+Ye+" -"+qe+" 0 -"+qe+" c"),ze.push(Ye+" -"+qe+" "+qe+" -"+Ye+" "+qe+" 0 c"),ze.push("f"),ze.push("Q"),je.stream=ze.join(`
`),je},YesPushDown:function(Ve){var je=V(Ve);je.scope=Ve.scope;var ze=[],qe=At.internal.getWidth(Ve)<=At.internal.getHeight(Ve)?At.internal.getWidth(Ve)/4:At.internal.getHeight(Ve)/4;qe=Number((.9*qe).toFixed(5));var Xe=Number((2*qe).toFixed(5)),Ye=Number((Xe*At.internal.Bezier_C).toFixed(5)),Ke=Number((qe*At.internal.Bezier_C).toFixed(5));return ze.push("0.749023 g"),ze.push("q"),ze.push("1 0 0 1 "+z(At.internal.getWidth(Ve)/2)+" "+z(At.internal.getHeight(Ve)/2)+" cm"),ze.push(Xe+" 0 m"),ze.push(Xe+" "+Ye+" "+Ye+" "+Xe+" 0 "+Xe+" c"),ze.push("-"+Ye+" "+Xe+" -"+Xe+" "+Ye+" -"+Xe+" 0 c"),ze.push("-"+Xe+" -"+Ye+" -"+Ye+" -"+Xe+" 0 -"+Xe+" c"),ze.push(Ye+" -"+Xe+" "+Xe+" -"+Ye+" "+Xe+" 0 c"),ze.push("f"),ze.push("Q"),ze.push("0 g"),ze.push("q"),ze.push("1 0 0 1 "+z(At.internal.getWidth(Ve)/2)+" "+z(At.internal.getHeight(Ve)/2)+" cm"),ze.push(qe+" 0 m"),ze.push(qe+" "+Ke+" "+Ke+" "+qe+" 0 "+qe+" c"),ze.push("-"+Ke+" "+qe+" -"+qe+" "+Ke+" -"+qe+" 0 c"),ze.push("-"+qe+" -"+Ke+" -"+Ke+" -"+qe+" 0 -"+qe+" c"),ze.push(Ke+" -"+qe+" "+qe+" -"+Ke+" "+qe+" 0 c"),ze.push("f"),ze.push("Q"),je.stream=ze.join(`
`),je},OffPushDown:function(Ve){var je=V(Ve);je.scope=Ve.scope;var ze=[],qe=At.internal.getWidth(Ve)<=At.internal.getHeight(Ve)?At.internal.getWidth(Ve)/4:At.internal.getHeight(Ve)/4;qe=Number((.9*qe).toFixed(5));var Xe=Number((2*qe).toFixed(5)),Ye=Number((Xe*At.internal.Bezier_C).toFixed(5));return ze.push("0.749023 g"),ze.push("q"),ze.push("1 0 0 1 "+z(At.internal.getWidth(Ve)/2)+" "+z(At.internal.getHeight(Ve)/2)+" cm"),ze.push(Xe+" 0 m"),ze.push(Xe+" "+Ye+" "+Ye+" "+Xe+" 0 "+Xe+" c"),ze.push("-"+Ye+" "+Xe+" -"+Xe+" "+Ye+" -"+Xe+" 0 c"),ze.push("-"+Xe+" -"+Ye+" -"+Ye+" -"+Xe+" 0 -"+Xe+" c"),ze.push(Ye+" -"+Xe+" "+Xe+" -"+Ye+" "+Xe+" 0 c"),ze.push("f"),ze.push("Q"),je.stream=ze.join(`
`),je}},Cross:{createAppearanceStream:function(Ve){var je={D:{Off:At.RadioButton.Cross.OffPushDown},N:{}};return je.N[Ve]=At.RadioButton.Cross.YesNormal,je.D[Ve]=At.RadioButton.Cross.YesPushDown,je},getCA:function(){return"8"},YesNormal:function(Ve){var je=V(Ve);je.scope=Ve.scope;var ze=[],qe=At.internal.calculateCross(Ve);return ze.push("q"),ze.push("1 1 "+U(At.internal.getWidth(Ve)-2)+" "+U(At.internal.getHeight(Ve)-2)+" re"),ze.push("W"),ze.push("n"),ze.push(U(qe.x1.x)+" "+U(qe.x1.y)+" m"),ze.push(U(qe.x2.x)+" "+U(qe.x2.y)+" l"),ze.push(U(qe.x4.x)+" "+U(qe.x4.y)+" m"),ze.push(U(qe.x3.x)+" "+U(qe.x3.y)+" l"),ze.push("s"),ze.push("Q"),je.stream=ze.join(`
`),je},YesPushDown:function(Ve){var je=V(Ve);je.scope=Ve.scope;var ze=At.internal.calculateCross(Ve),qe=[];return qe.push("0.749023 g"),qe.push("0 0 "+U(At.internal.getWidth(Ve))+" "+U(At.internal.getHeight(Ve))+" re"),qe.push("f"),qe.push("q"),qe.push("1 1 "+U(At.internal.getWidth(Ve)-2)+" "+U(At.internal.getHeight(Ve)-2)+" re"),qe.push("W"),qe.push("n"),qe.push(U(ze.x1.x)+" "+U(ze.x1.y)+" m"),qe.push(U(ze.x2.x)+" "+U(ze.x2.y)+" l"),qe.push(U(ze.x4.x)+" "+U(ze.x4.y)+" m"),qe.push(U(ze.x3.x)+" "+U(ze.x3.y)+" l"),qe.push("s"),qe.push("Q"),je.stream=qe.join(`
`),je},OffPushDown:function(Ve){var je=V(Ve);je.scope=Ve.scope;var ze=[];return ze.push("0.749023 g"),ze.push("0 0 "+U(At.internal.getWidth(Ve))+" "+U(At.internal.getHeight(Ve))+" re"),ze.push("f"),je.stream=ze.join(`
`),je}}},createDefaultAppearanceStream:function(Ve){var je=Ve.scope.internal.getFont(Ve.fontName,Ve.fontStyle).id,ze=Ve.scope.__private__.encodeColorString(Ve.color);return"/"+je+" "+Ve.fontSize+" Tf "+ze}};At.internal={Bezier_C:.551915024494,calculateCross:function(Ve){var je=At.internal.getWidth(Ve),ze=At.internal.getHeight(Ve),qe=Math.min(je,ze);return{x1:{x:(je-qe)/2,y:(ze-qe)/2+qe},x2:{x:(je-qe)/2+qe,y:(ze-qe)/2},x3:{x:(je-qe)/2,y:(ze-qe)/2},x4:{x:(je-qe)/2+qe,y:(ze-qe)/2+qe}}}},At.internal.getWidth=function(Ve){var je=0;return _typeof(Ve)==="object"&&(je=W(Ve.Rect[2])),je},At.internal.getHeight=function(Ve){var je=0;return _typeof(Ve)==="object"&&(je=W(Ve.Rect[3])),je};var xt=q.addField=function(Ve){if(at(this,Ve),!(Ve instanceof lt))throw new Error("Invalid argument passed to jsPDF.addField.");var je;return(je=Ve).scope.internal.acroformPlugin.printedOut&&(je.scope.internal.acroformPlugin.printedOut=!1,je.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),je.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(je),Ve.page=Ve.scope.internal.getCurrentPageInfo().pageNumber,this};q.AcroFormChoiceField=ft,q.AcroFormListBox=dt,q.AcroFormComboBox=pt,q.AcroFormEditBox=gt,q.AcroFormButton=mt,q.AcroFormPushButton=vt,q.AcroFormRadioButton=bt,q.AcroFormCheckBox=wt,q.AcroFormTextField=Nt,q.AcroFormPasswordField=Lt,q.AcroFormAppearance=At,q.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:At},E.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:At};function _t(Ve){return Ve.reduce(function(je,ze,qe){return je[ze]=qe,je},{})}(function(Ve){Ve.__addimage__={};var je="UNKNOWN",ze={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},qe=Ve.__addimage__.getImageFileTypeByImageData=function(gi,yi){var Ai,Si,ki,Li,Bi,Pi=je;if((yi=yi||je)==="RGBA"||gi.data!==void 0&&gi.data instanceof Uint8ClampedArray&&"height"in gi&&"width"in gi)return"RGBA";if(di(gi))for(Bi in ze)for(ki=ze[Bi],Ai=0;Ai<ki.length;Ai+=1){for(Li=!0,Si=0;Si<ki[Ai].length;Si+=1)if(ki[Ai][Si]!==void 0&&ki[Ai][Si]!==gi[Si]){Li=!1;break}if(Li===!0){Pi=Bi;break}}else for(Bi in ze)for(ki=ze[Bi],Ai=0;Ai<ki.length;Ai+=1){for(Li=!0,Si=0;Si<ki[Ai].length;Si+=1)if(ki[Ai][Si]!==void 0&&ki[Ai][Si]!==gi.charCodeAt(Si)){Li=!1;break}if(Li===!0){Pi=Bi;break}}return Pi===je&&yi!==je&&(Pi=yi),Pi},Xe=function gi(yi){for(var Ai=this.internal.write,Si=this.internal.putStream,ki=(0,this.internal.getFilters)();ki.indexOf("FlateEncode")!==-1;)ki.splice(ki.indexOf("FlateEncode"),1);yi.objectId=this.internal.newObject();var Li=[];if(Li.push({key:"Type",value:"/XObject"}),Li.push({key:"Subtype",value:"/Image"}),Li.push({key:"Width",value:yi.width}),Li.push({key:"Height",value:yi.height}),yi.colorSpace===ui.INDEXED?Li.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(yi.palette.length/3-1)+" "+("sMask"in yi&&yi.sMask!==void 0?yi.objectId+2:yi.objectId+1)+" 0 R]"}):(Li.push({key:"ColorSpace",value:"/"+yi.colorSpace}),yi.colorSpace===ui.DEVICE_CMYK&&Li.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Li.push({key:"BitsPerComponent",value:yi.bitsPerComponent}),"decodeParameters"in yi&&yi.decodeParameters!==void 0&&Li.push({key:"DecodeParms",value:"<<"+yi.decodeParameters+">>"}),"transparency"in yi&&Array.isArray(yi.transparency)){for(var Bi="",Pi=0,Ri=yi.transparency.length;Pi<Ri;Pi++)Bi+=yi.transparency[Pi]+" "+yi.transparency[Pi]+" ";Li.push({key:"Mask",value:"["+Bi+"]"})}yi.sMask!==void 0&&Li.push({key:"SMask",value:yi.objectId+1+" 0 R"});var Fi=yi.filter!==void 0?["/"+yi.filter]:void 0;if(Si({data:yi.data,additionalKeyValues:Li,alreadyAppliedFilters:Fi,objectId:yi.objectId}),Ai("endobj"),"sMask"in yi&&yi.sMask!==void 0){var Gi="/Predictor "+yi.predictor+" /Colors 1 /BitsPerComponent "+yi.bitsPerComponent+" /Columns "+yi.width,Ti={width:yi.width,height:yi.height,colorSpace:"DeviceGray",bitsPerComponent:yi.bitsPerComponent,decodeParameters:Gi,data:yi.sMask};"filter"in yi&&(Ti.filter=yi.filter),gi.call(this,Ti)}if(yi.colorSpace===ui.INDEXED){var Vi=this.internal.newObject();Si({data:mi(new Uint8Array(yi.palette)),objectId:Vi}),Ai("endobj")}},Ye=function(){var gi=this.internal.collections.addImage_images;for(var yi in gi)Xe.call(this,gi[yi])},Ke=function(){var gi,yi=this.internal.collections.addImage_images,Ai=this.internal.write;for(var Si in yi)Ai("/I"+(gi=yi[Si]).index,gi.objectId,"0","R")},Ze=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",Ye),this.internal.events.subscribe("putXobjectDict",Ke))},Qe=function(){var gi=this.internal.collections.addImage_images;return Ze.call(this),gi},Je=function(){return Object.keys(this.internal.collections.addImage_images).length},St=function(gi){return typeof Ve["process"+gi.toUpperCase()]=="function"},ei=function(gi){return _typeof(gi)==="object"&&gi.nodeType===1},ti=function(gi,yi){if(gi.nodeName==="IMG"&&gi.hasAttribute("src")){var Ai=""+gi.getAttribute("src");if(Ai.indexOf("data:image/")===0)return u(unescape(Ai).split("base64,").pop());var Si=Ve.loadFile(Ai,!0);if(Si!==void 0)return Si}if(gi.nodeName==="CANVAS"){if(gi.width===0||gi.height===0)throw new Error("Given canvas must have data. Canvas width: "+gi.width+", height: "+gi.height);var ki;switch(yi){case"PNG":ki="image/png";break;case"WEBP":ki="image/webp";break;case"JPEG":case"JPG":default:ki="image/jpeg"}return u(gi.toDataURL(ki,1).split("base64,").pop())}},ii=function(gi){var yi=this.internal.collections.addImage_images;if(yi){for(var Ai in yi)if(gi===yi[Ai].alias)return yi[Ai]}},ri=function(gi,yi,Ai){return gi||yi||(gi=-96,yi=-96),gi<0&&(gi=-1*Ai.width*72/gi/this.internal.scaleFactor),yi<0&&(yi=-1*Ai.height*72/yi/this.internal.scaleFactor),gi===0&&(gi=yi*Ai.width/Ai.height),yi===0&&(yi=gi*Ai.height/Ai.width),[gi,yi]},si=function(gi,yi,Ai,Si,ki,Li){var Bi=ri.call(this,Ai,Si,ki),Pi=this.internal.getCoordinateString,Ri=this.internal.getVerticalCoordinateString,Fi=Qe.call(this);if(Ai=Bi[0],Si=Bi[1],Fi[ki.index]=ki,Li){Li*=Math.PI/180;var Gi=Math.cos(Li),Ti=Math.sin(Li),Vi=function($i){return $i.toFixed(4)},Ui=[Vi(Gi),Vi(Ti),Vi(-1*Ti),Vi(Gi),0,0,"cm"]}this.internal.write("q"),Li?(this.internal.write([1,"0","0",1,Pi(gi),Ri(yi+Si),"cm"].join(" ")),this.internal.write(Ui.join(" ")),this.internal.write([Pi(Ai),"0","0",Pi(Si),"0","0","cm"].join(" "))):this.internal.write([Pi(Ai),"0","0",Pi(Si),Pi(gi),Ri(yi+Si),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ki.index+" Do"),this.internal.write("Q")},ui=Ve.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};Ve.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var ai=Ve.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},oi=Ve.__addimage__.sHashCode=function(gi){var yi,Ai,Si=0;if(typeof gi=="string")for(Ai=gi.length,yi=0;yi<Ai;yi++)Si=(Si<<5)-Si+gi.charCodeAt(yi),Si|=0;else if(di(gi))for(Ai=gi.byteLength/2,yi=0;yi<Ai;yi++)Si=(Si<<5)-Si+gi[yi],Si|=0;return Si},ni=Ve.__addimage__.validateStringAsBase64=function(gi){(gi=gi||"").toString().trim();var yi=!0;return gi.length===0&&(yi=!1),gi.length%4!=0&&(yi=!1),/^[A-Za-z0-9+/]+$/.test(gi.substr(0,gi.length-2))===!1&&(yi=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(gi.substr(-2))===!1&&(yi=!1),yi},ci=Ve.__addimage__.extractImageFromDataUrl=function(gi){var yi=(gi=gi||"").split("base64,"),Ai=null;if(yi.length===2){var Si=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(yi[0]);Array.isArray(Si)&&(Ai={mimeType:Si[1],charset:Si[2],data:yi[1]})}return Ai},hi=Ve.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};Ve.__addimage__.isArrayBuffer=function(gi){return hi()&&gi instanceof ArrayBuffer};var di=Ve.__addimage__.isArrayBufferView=function(gi){return hi()&&typeof Uint32Array<"u"&&(gi instanceof Int8Array||gi instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&gi instanceof Uint8ClampedArray||gi instanceof Int16Array||gi instanceof Uint16Array||gi instanceof Int32Array||gi instanceof Uint32Array||gi instanceof Float32Array||gi instanceof Float64Array)},fi=Ve.__addimage__.binaryStringToUint8Array=function(gi){for(var yi=gi.length,Ai=new Uint8Array(yi),Si=0;Si<yi;Si++)Ai[Si]=gi.charCodeAt(Si);return Ai},mi=Ve.__addimage__.arrayBufferToBinaryString=function(gi){for(var yi="",Ai=di(gi)?gi:new Uint8Array(gi),Si=0;Si<Ai.length;Si+=8192)yi+=String.fromCharCode.apply(null,Ai.subarray(Si,Si+8192));return yi};Ve.addImage=function(){var gi,yi,Ai,Si,ki,Li,Bi,Pi,Ri;if(typeof arguments[1]=="number"?(yi=je,Ai=arguments[1],Si=arguments[2],ki=arguments[3],Li=arguments[4],Bi=arguments[5],Pi=arguments[6],Ri=arguments[7]):(yi=arguments[1],Ai=arguments[2],Si=arguments[3],ki=arguments[4],Li=arguments[5],Bi=arguments[6],Pi=arguments[7],Ri=arguments[8]),_typeof(gi=arguments[0])==="object"&&!ei(gi)&&"imageData"in gi){var Fi=gi;gi=Fi.imageData,yi=Fi.format||yi||je,Ai=Fi.x||Ai||0,Si=Fi.y||Si||0,ki=Fi.w||Fi.width||ki,Li=Fi.h||Fi.height||Li,Bi=Fi.alias||Bi,Pi=Fi.compression||Pi,Ri=Fi.rotation||Fi.angle||Ri}var Gi=this.internal.getFilters();if(Pi===void 0&&Gi.indexOf("FlateEncode")!==-1&&(Pi="SLOW"),isNaN(Ai)||isNaN(Si))throw new Error("Invalid coordinates passed to jsPDF.addImage");Ze.call(this);var Ti=pi.call(this,gi,yi,Bi,Pi);return si.call(this,Ai,Si,ki,Li,Ti,Ri),this};var pi=function(gi,yi,Ai,Si){var ki,Li,Bi;if(typeof gi=="string"&&qe(gi)===je){gi=unescape(gi);var Pi=wi(gi,!1);(Pi!==""||(Pi=Ve.loadFile(gi,!0))!==void 0)&&(gi=Pi)}if(ei(gi)&&(gi=ti(gi,yi)),yi=qe(gi,yi),!St(yi))throw new Error("addImage does not support files of type '"+yi+"', please ensure that a plugin for '"+yi+"' support is added.");if(((Bi=Ai)==null||Bi.length===0)&&(Ai=function(Ri){return typeof Ri=="string"||di(Ri)?oi(Ri):di(Ri.data)?oi(Ri.data):null}(gi)),(ki=ii.call(this,Ai))||(hi()&&(gi instanceof Uint8Array||yi==="RGBA"||(Li=gi,gi=fi(gi))),ki=this["process"+yi.toUpperCase()](gi,Je.call(this),Ai,function(Ri){return Ri&&typeof Ri=="string"&&(Ri=Ri.toUpperCase()),Ri in Ve.image_compression?Ri:ai.NONE}(Si),Li)),!ki)throw new Error("An unknown error occurred whilst processing the image.");return ki},wi=Ve.__addimage__.convertBase64ToBinaryString=function(gi,yi){var Ai;yi=typeof yi!="boolean"||yi;var Si,ki="";if(typeof gi=="string"){Si=(Ai=ci(gi))!==null?Ai.data:gi;try{ki=u(Si)}catch(Li){if(yi)throw ni(Si)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Li.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ki};Ve.getImageProperties=function(gi){var yi,Ai,Si="";if(ei(gi)&&(gi=ti(gi)),typeof gi=="string"&&qe(gi)===je&&((Si=wi(gi,!1))===""&&(Si=Ve.loadFile(gi)||""),gi=Si),Ai=qe(gi),!St(Ai))throw new Error("addImage does not support files of type '"+Ai+"', please ensure that a plugin for '"+Ai+"' support is added.");if(!hi()||gi instanceof Uint8Array||(gi=fi(gi)),!(yi=this["process"+Ai.toUpperCase()](gi)))throw new Error("An unknown error occurred whilst processing the image");return yi.fileType=Ai,yi}})(E.API),function(Ve){var je=function(ze){if(ze!==void 0&&ze!="")return!0};E.API.events.push(["addPage",function(ze){this.internal.getPageInfo(ze.pageNumber).pageContext.annotations=[]}]),Ve.events.push(["putPage",function(ze){for(var qe,Xe,Ye,Ke=this.internal.getCoordinateString,Ze=this.internal.getVerticalCoordinateString,Qe=this.internal.getPageInfoByObjId(ze.objId),Je=ze.pageContext.annotations,St=!1,ei=0;ei<Je.length&&!St;ei++)switch((qe=Je[ei]).type){case"link":(je(qe.options.url)||je(qe.options.pageNumber))&&(St=!0);break;case"reference":case"text":case"freetext":St=!0}if(St!=0){this.internal.write("/Annots [");for(var ti=0;ti<Je.length;ti++){qe=Je[ti];var ii=this.internal.pdfEscape,ri=this.internal.getEncryptor(ze.objId);switch(qe.type){case"reference":this.internal.write(" "+qe.object.objId+" 0 R ");break;case"text":var si=this.internal.newAdditionalObject(),ui=this.internal.newAdditionalObject(),ai=this.internal.getEncryptor(si.objId),oi=qe.title||"Note";Ye="<</Type /Annot /Subtype /Text "+(Xe="/Rect ["+Ke(qe.bounds.x)+" "+Ze(qe.bounds.y+qe.bounds.h)+" "+Ke(qe.bounds.x+qe.bounds.w)+" "+Ze(qe.bounds.y)+"] ")+"/Contents ("+ii(ai(qe.contents))+")",Ye+=" /Popup "+ui.objId+" 0 R",Ye+=" /P "+Qe.objId+" 0 R",Ye+=" /T ("+ii(ai(oi))+") >>",si.content=Ye;var ni=si.objId+" 0 R";Ye="<</Type /Annot /Subtype /Popup "+(Xe="/Rect ["+Ke(qe.bounds.x+30)+" "+Ze(qe.bounds.y+qe.bounds.h)+" "+Ke(qe.bounds.x+qe.bounds.w+30)+" "+Ze(qe.bounds.y)+"] ")+" /Parent "+ni,qe.open&&(Ye+=" /Open true"),Ye+=" >>",ui.content=Ye,this.internal.write(si.objId,"0 R",ui.objId,"0 R");break;case"freetext":Xe="/Rect ["+Ke(qe.bounds.x)+" "+Ze(qe.bounds.y)+" "+Ke(qe.bounds.x+qe.bounds.w)+" "+Ze(qe.bounds.y+qe.bounds.h)+"] ";var ci=qe.color||"#000000";Ye="<</Type /Annot /Subtype /FreeText "+Xe+"/Contents ("+ii(ri(qe.contents))+")",Ye+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+ci+")",Ye+=" /Border [0 0 0]",Ye+=" >>",this.internal.write(Ye);break;case"link":if(qe.options.name){var hi=this.annotations._nameMap[qe.options.name];qe.options.pageNumber=hi.page,qe.options.top=hi.y}else qe.options.top||(qe.options.top=0);if(Xe="/Rect ["+qe.finalBounds.x+" "+qe.finalBounds.y+" "+qe.finalBounds.w+" "+qe.finalBounds.h+"] ",Ye="",qe.options.url)Ye="<</Type /Annot /Subtype /Link "+Xe+"/Border [0 0 0] /A <</S /URI /URI ("+ii(ri(qe.options.url))+") >>";else if(qe.options.pageNumber)switch(Ye="<</Type /Annot /Subtype /Link "+Xe+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(qe.options.pageNumber).objId+" 0 R",qe.options.magFactor=qe.options.magFactor||"XYZ",qe.options.magFactor){case"Fit":Ye+=" /Fit]";break;case"FitH":Ye+=" /FitH "+qe.options.top+"]";break;case"FitV":qe.options.left=qe.options.left||0,Ye+=" /FitV "+qe.options.left+"]";break;case"XYZ":default:var di=Ze(qe.options.top);qe.options.left=qe.options.left||0,qe.options.zoom===void 0&&(qe.options.zoom=0),Ye+=" /XYZ "+qe.options.left+" "+di+" "+qe.options.zoom+"]"}Ye!=""&&(Ye+=" >>",this.internal.write(Ye))}}this.internal.write("]")}}]),Ve.createAnnotation=function(ze){var qe=this.internal.getCurrentPageInfo();switch(ze.type){case"link":this.link(ze.bounds.x,ze.bounds.y,ze.bounds.w,ze.bounds.h,ze);break;case"text":case"freetext":qe.pageContext.annotations.push(ze)}},Ve.link=function(ze,qe,Xe,Ye,Ke){var Ze=this.internal.getCurrentPageInfo(),Qe=this.internal.getCoordinateString,Je=this.internal.getVerticalCoordinateString;Ze.pageContext.annotations.push({finalBounds:{x:Qe(ze),y:Je(qe),w:Qe(ze+Xe),h:Je(qe+Ye)},options:Ke,type:"link"})},Ve.textWithLink=function(ze,qe,Xe,Ye){var Ke,Ze,Qe=this.getTextWidth(ze),Je=this.internal.getLineHeight()/this.internal.scaleFactor;if(Ye.maxWidth!==void 0){Ze=Ye.maxWidth;var St=this.splitTextToSize(ze,Ze).length;Ke=Math.ceil(Je*St)}else Ze=Qe,Ke=Je;return this.text(ze,qe,Xe,Ye),Xe+=.2*Je,Ye.align==="center"&&(qe-=Qe/2),Ye.align==="right"&&(qe-=Qe),this.link(qe,Xe-Je,Ze,Ke,Ye),Qe},Ve.getTextWidth=function(ze){var qe=this.internal.getFontSize();return this.getStringUnitWidth(ze)*qe/this.internal.scaleFactor}}(E.API),function(Ve){var je={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},ze={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},qe={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},Xe=[1570,1571,1573,1575];Ve.__arabicParser__={};var Ye=Ve.__arabicParser__.isInArabicSubstitutionA=function(si){return je[si.charCodeAt(0)]!==void 0},Ke=Ve.__arabicParser__.isArabicLetter=function(si){return typeof si=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(si)},Ze=Ve.__arabicParser__.isArabicEndLetter=function(si){return Ke(si)&&Ye(si)&&je[si.charCodeAt(0)].length<=2},Qe=Ve.__arabicParser__.isArabicAlfLetter=function(si){return Ke(si)&&Xe.indexOf(si.charCodeAt(0))>=0};Ve.__arabicParser__.arabicLetterHasIsolatedForm=function(si){return Ke(si)&&Ye(si)&&je[si.charCodeAt(0)].length>=1};var Je=Ve.__arabicParser__.arabicLetterHasFinalForm=function(si){return Ke(si)&&Ye(si)&&je[si.charCodeAt(0)].length>=2};Ve.__arabicParser__.arabicLetterHasInitialForm=function(si){return Ke(si)&&Ye(si)&&je[si.charCodeAt(0)].length>=3};var St=Ve.__arabicParser__.arabicLetterHasMedialForm=function(si){return Ke(si)&&Ye(si)&&je[si.charCodeAt(0)].length==4},ei=Ve.__arabicParser__.resolveLigatures=function(si){var ui=0,ai=ze,oi="",ni=0;for(ui=0;ui<si.length;ui+=1)ai[si.charCodeAt(ui)]!==void 0?(ni++,typeof(ai=ai[si.charCodeAt(ui)])=="number"&&(oi+=String.fromCharCode(ai),ai=ze,ni=0),ui===si.length-1&&(ai=ze,oi+=si.charAt(ui-(ni-1)),ui-=ni-1,ni=0)):(ai=ze,oi+=si.charAt(ui-ni),ui-=ni,ni=0);return oi};Ve.__arabicParser__.isArabicDiacritic=function(si){return si!==void 0&&qe[si.charCodeAt(0)]!==void 0};var ti=Ve.__arabicParser__.getCorrectForm=function(si,ui,ai){return Ke(si)?Ye(si)===!1?-1:!Je(si)||!Ke(ui)&&!Ke(ai)||!Ke(ai)&&Ze(ui)||Ze(si)&&!Ke(ui)||Ze(si)&&Qe(ui)||Ze(si)&&Ze(ui)?0:St(si)&&Ke(ui)&&!Ze(ui)&&Ke(ai)&&Je(ai)?3:Ze(si)||!Ke(ai)?1:2:-1},ii=function(si){var ui=0,ai=0,oi=0,ni="",ci="",hi="",di=(si=si||"").split("\\s+"),fi=[];for(ui=0;ui<di.length;ui+=1){for(fi.push(""),ai=0;ai<di[ui].length;ai+=1)ni=di[ui][ai],ci=di[ui][ai-1],hi=di[ui][ai+1],Ke(ni)?(oi=ti(ni,ci,hi),fi[ui]+=oi!==-1?String.fromCharCode(je[ni.charCodeAt(0)][oi]):ni):fi[ui]+=ni;fi[ui]=ei(fi[ui])}return fi.join(" ")},ri=Ve.__arabicParser__.processArabic=Ve.processArabic=function(){var si,ui=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,ai=[];if(Array.isArray(ui)){var oi=0;for(ai=[],oi=0;oi<ui.length;oi+=1)Array.isArray(ui[oi])?ai.push([ii(ui[oi][0]),ui[oi][1],ui[oi][2]]):ai.push([ii(ui[oi])]);si=ai}else si=ii(ui);return typeof arguments[0]=="string"?si:(arguments[0].text=si,arguments[0])};Ve.events.push(["preProcessText",ri])}(E.API),E.API.autoPrint=function(Ve){var je;switch((Ve=Ve||{}).variant=Ve.variant||"non-conform",Ve.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){je=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+je+" 0 R")})}return this},function(Ve){var je=function(){var ze=void 0;Object.defineProperty(this,"pdf",{get:function(){return ze},set:function(Ze){ze=Ze}});var qe=150;Object.defineProperty(this,"width",{get:function(){return qe},set:function(Ze){qe=isNaN(Ze)||Number.isInteger(Ze)===!1||Ze<0?150:Ze,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=qe+1)}});var Xe=300;Object.defineProperty(this,"height",{get:function(){return Xe},set:function(Ze){Xe=isNaN(Ze)||Number.isInteger(Ze)===!1||Ze<0?300:Ze,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=Xe+1)}});var Ye=[];Object.defineProperty(this,"childNodes",{get:function(){return Ye},set:function(Ze){Ye=Ze}});var Ke={};Object.defineProperty(this,"style",{get:function(){return Ke},set:function(Ze){Ke=Ze}}),Object.defineProperty(this,"parentNode",{})};je.prototype.getContext=function(ze,qe){var Xe;if((ze=ze||"2d")!=="2d")return null;for(Xe in qe)this.pdf.context2d.hasOwnProperty(Xe)&&(this.pdf.context2d[Xe]=qe[Xe]);return this.pdf.context2d._canvas=this,this.pdf.context2d},je.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},Ve.events.push(["initialized",function(){this.canvas=new je,this.canvas.pdf=this}])}(E.API),function(Ve){var je={left:0,top:0,bottom:0,right:0},ze=!1,qe=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},je),this.internal.__cell__.margins.width=this.getPageWidth(),Xe.call(this))},Xe=function(){this.internal.__cell__.lastCell=new Ye,this.internal.__cell__.pages=1},Ye=function(){var Qe=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Qe},set:function(si){Qe=si}});var Je=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Je},set:function(si){Je=si}});var St=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return St},set:function(si){St=si}});var ei=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return ei},set:function(si){ei=si}});var ti=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return ti},set:function(si){ti=si}});var ii=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return ii},set:function(si){ii=si}});var ri=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return ri},set:function(si){ri=si}}),this};Ye.prototype.clone=function(){return new Ye(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},Ye.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},Ve.setHeaderFunction=function(Qe){return qe.call(this),this.internal.__cell__.headerFunction=typeof Qe=="function"?Qe:void 0,this},Ve.getTextDimensions=function(Qe,Je){qe.call(this);var St=(Je=Je||{}).fontSize||this.getFontSize(),ei=Je.font||this.getFont(),ti=Je.scaleFactor||this.internal.scaleFactor,ii=0,ri=0,si=0,ui=this;if(!Array.isArray(Qe)&&typeof Qe!="string"){if(typeof Qe!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");Qe=String(Qe)}var ai=Je.maxWidth;ai>0?typeof Qe=="string"?Qe=this.splitTextToSize(Qe,ai):Object.prototype.toString.call(Qe)==="[object Array]"&&(Qe=Qe.reduce(function(ni,ci){return ni.concat(ui.splitTextToSize(ci,ai))},[])):Qe=Array.isArray(Qe)?Qe:[Qe];for(var oi=0;oi<Qe.length;oi++)ii<(si=this.getStringUnitWidth(Qe[oi],{font:ei})*St)&&(ii=si);return ii!==0&&(ri=Qe.length),{w:ii/=ti,h:Math.max((ri*St*this.getLineHeightFactor()-St*(this.getLineHeightFactor()-1))/ti,0)}},Ve.cellAddPage=function(){qe.call(this),this.addPage();var Qe=this.internal.__cell__.margins||je;return this.internal.__cell__.lastCell=new Ye(Qe.left,Qe.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var Ke=Ve.cell=function(){var Qe;Qe=arguments[0]instanceof Ye?arguments[0]:new Ye(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),qe.call(this);var Je=this.internal.__cell__.lastCell,St=this.internal.__cell__.padding,ei=this.internal.__cell__.margins||je,ti=this.internal.__cell__.tableHeaderRow,ii=this.internal.__cell__.printHeaders;return Je.lineNumber!==void 0&&(Je.lineNumber===Qe.lineNumber?(Qe.x=(Je.x||0)+(Je.width||0),Qe.y=Je.y||0):Je.y+Je.height+Qe.height+ei.bottom>this.getPageHeight()?(this.cellAddPage(),Qe.y=ei.top,ii&&ti&&(this.printHeaderRow(Qe.lineNumber,!0),Qe.y+=ti[0].height)):Qe.y=Je.y+Je.height||Qe.y),Qe.text[0]!==void 0&&(this.rect(Qe.x,Qe.y,Qe.width,Qe.height,ze===!0?"FD":void 0),Qe.align==="right"?this.text(Qe.text,Qe.x+Qe.width-St,Qe.y+St,{align:"right",baseline:"top"}):Qe.align==="center"?this.text(Qe.text,Qe.x+Qe.width/2,Qe.y+St,{align:"center",baseline:"top",maxWidth:Qe.width-St-St}):this.text(Qe.text,Qe.x+St,Qe.y+St,{align:"left",baseline:"top",maxWidth:Qe.width-St-St})),this.internal.__cell__.lastCell=Qe,this};Ve.table=function(Qe,Je,St,ei,ti){if(qe.call(this),!St)throw new Error("No data for PDF table.");var ii,ri,si,ui,ai=[],oi=[],ni=[],ci={},hi={},di=[],fi=[],mi=(ti=ti||{}).autoSize||!1,pi=ti.printHeaders!==!1,wi=ti.css&&ti.css["font-size"]!==void 0?16*ti.css["font-size"]:ti.fontSize||12,gi=ti.margins||Object.assign({width:this.getPageWidth()},je),yi=typeof ti.padding=="number"?ti.padding:3,Ai=ti.headerBackgroundColor||"#c8c8c8",Si=ti.headerTextColor||"#000";if(Xe.call(this),this.internal.__cell__.printHeaders=pi,this.internal.__cell__.margins=gi,this.internal.__cell__.table_font_size=wi,this.internal.__cell__.padding=yi,this.internal.__cell__.headerBackgroundColor=Ai,this.internal.__cell__.headerTextColor=Si,this.setFontSize(wi),ei==null)oi=ai=Object.keys(St[0]),ni=ai.map(function(){return"left"});else if(Array.isArray(ei)&&_typeof(ei[0])==="object")for(ai=ei.map(function(Fi){return Fi.name}),oi=ei.map(function(Fi){return Fi.prompt||Fi.name||""}),ni=ei.map(function(Fi){return Fi.align||"left"}),ii=0;ii<ei.length;ii+=1)hi[ei[ii].name]=ei[ii].width*(19.049976/25.4);else Array.isArray(ei)&&typeof ei[0]=="string"&&(oi=ai=ei,ni=ai.map(function(){return"left"}));if(mi||Array.isArray(ei)&&typeof ei[0]=="string")for(ii=0;ii<ai.length;ii+=1){for(ci[ui=ai[ii]]=St.map(function(Fi){return Fi[ui]}),this.setFont(void 0,"bold"),di.push(this.getTextDimensions(oi[ii],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),ri=ci[ui],this.setFont(void 0,"normal"),si=0;si<ri.length;si+=1)di.push(this.getTextDimensions(ri[si],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);hi[ui]=Math.max.apply(null,di)+yi+yi,di=[]}if(pi){var ki={};for(ii=0;ii<ai.length;ii+=1)ki[ai[ii]]={},ki[ai[ii]].text=oi[ii],ki[ai[ii]].align=ni[ii];var Li=Ze.call(this,ki,hi);fi=ai.map(function(Fi){return new Ye(Qe,Je,hi[Fi],Li,ki[Fi].text,void 0,ki[Fi].align)}),this.setTableHeaderRow(fi),this.printHeaderRow(1,!1)}var Bi=ei.reduce(function(Fi,Gi){return Fi[Gi.name]=Gi.align,Fi},{});for(ii=0;ii<St.length;ii+=1){"rowStart"in ti&&ti.rowStart instanceof Function&&ti.rowStart({row:ii,data:St[ii]},this);var Pi=Ze.call(this,St[ii],hi);for(si=0;si<ai.length;si+=1){var Ri=St[ii][ai[si]];"cellStart"in ti&&ti.cellStart instanceof Function&&ti.cellStart({row:ii,col:si,data:Ri},this),Ke.call(this,new Ye(Qe,Je,hi[ai[si]],Pi,Ri,ii+2,Bi[ai[si]]))}}return this.internal.__cell__.table_x=Qe,this.internal.__cell__.table_y=Je,this};var Ze=function(Qe,Je){var St=this.internal.__cell__.padding,ei=this.internal.__cell__.table_font_size,ti=this.internal.scaleFactor;return Object.keys(Qe).map(function(ii){var ri=Qe[ii];return this.splitTextToSize(ri.hasOwnProperty("text")?ri.text:ri,Je[ii]-St-St)},this).map(function(ii){return this.getLineHeightFactor()*ii.length*ei/ti+St+St},this).reduce(function(ii,ri){return Math.max(ii,ri)},0)};Ve.setTableHeaderRow=function(Qe){qe.call(this),this.internal.__cell__.tableHeaderRow=Qe},Ve.printHeaderRow=function(Qe,Je){if(qe.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var St;if(ze=!0,typeof this.internal.__cell__.headerFunction=="function"){var ei=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new Ye(ei[0],ei[1],ei[2],ei[3],void 0,-1)}this.setFont(void 0,"bold");for(var ti=[],ii=0;ii<this.internal.__cell__.tableHeaderRow.length;ii+=1){St=this.internal.__cell__.tableHeaderRow[ii].clone(),Je&&(St.y=this.internal.__cell__.margins.top||0,ti.push(St)),St.lineNumber=Qe;var ri=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),Ke.call(this,St),this.setTextColor(ri)}ti.length>0&&this.setTableHeaderRow(ti),this.setFont(void 0,"normal"),ze=!1}}(E.API);var Pt={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kt=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],It=_t(kt),Ft=[100,200,300,400,500,600,700,800,900],Ct=_t(Ft);function jt(Ve){var je=Ve.family.replace(/"|'/g,"").toLowerCase(),ze=function(Ye){return Pt[Ye=Ye||"normal"]?Ye:"normal"}(Ve.style),qe=function(Ye){if(!Ye)return 400;if(typeof Ye=="number")return Ye>=100&&Ye<=900&&Ye%100==0?Ye:400;if(/^\d00$/.test(Ye))return parseInt(Ye);switch(Ye){case"bold":return 700;case"normal":default:return 400}}(Ve.weight),Xe=function(Ye){return typeof It[Ye=Ye||"normal"]=="number"?Ye:"normal"}(Ve.stretch);return{family:je,style:ze,weight:qe,stretch:Xe,src:Ve.src||[],ref:Ve.ref||{name:je,style:[Xe,ze,qe].join(" ")}}}function Ot(Ve,je,ze,qe){var Xe;for(Xe=ze;Xe>=0&&Xe<je.length;Xe+=qe)if(Ve[je[Xe]])return Ve[je[Xe]];for(Xe=ze;Xe>=0&&Xe<je.length;Xe-=qe)if(Ve[je[Xe]])return Ve[je[Xe]]}var Bt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Mt={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Et(Ve){return[Ve.stretch,Ve.style,Ve.weight,Ve.family].join(" ")}function qt(Ve,je,ze){for(var qe=(ze=ze||{}).defaultFontFamily||"times",Xe=Object.assign({},Bt,ze.genericFontFamilies||{}),Ye=null,Ke=null,Ze=0;Ze<je.length;++Ze)if(Xe[(Ye=jt(je[Ze])).family]&&(Ye.family=Xe[Ye.family]),Ve.hasOwnProperty(Ye.family)){Ke=Ve[Ye.family];break}if(!(Ke=Ke||Ve[qe]))throw new Error("Could not find a font-family for the rule '"+Et(Ye)+"' and default family '"+qe+"'.");if(Ke=function(Qe,Je){if(Je[Qe])return Je[Qe];var St=It[Qe],ei=St<=It.normal?-1:1,ti=Ot(Je,kt,St,ei);if(!ti)throw new Error("Could not find a matching font-stretch value for "+Qe);return ti}(Ye.stretch,Ke),Ke=function(Qe,Je){if(Je[Qe])return Je[Qe];for(var St=Pt[Qe],ei=0;ei<St.length;++ei)if(Je[St[ei]])return Je[St[ei]];throw new Error("Could not find a matching font-style for "+Qe)}(Ye.style,Ke),!(Ke=function(Qe,Je){if(Je[Qe])return Je[Qe];if(Qe===400&&Je[500])return Je[500];if(Qe===500&&Je[400])return Je[400];var St=Ct[Qe],ei=Ot(Je,Ft,St,Qe<400?-1:1);if(!ei)throw new Error("Could not find a matching font-weight for value "+Qe);return ei}(Ye.weight,Ke)))throw new Error("Failed to resolve a font for the rule '"+Et(Ye)+"'.");return Ke}function Dt(Ve){return Ve.trimLeft()}function Rt(Ve,je){for(var ze=0;ze<Ve.length;){if(Ve.charAt(ze)===je)return[Ve.substring(0,ze),Ve.substring(ze+1)];ze+=1}return null}function Tt(Ve){var je=Ve.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return je===null?null:[je[0],Ve.substring(je[0].length)]}var Ut,zt,Ht,Wt=["times"];(function(Ve){var je,ze,qe,Xe,Ye,Ke,Ze,Qe,Je,St=function(Ti){return Ti=Ti||{},this.isStrokeTransparent=Ti.isStrokeTransparent||!1,this.strokeOpacity=Ti.strokeOpacity||1,this.strokeStyle=Ti.strokeStyle||"#000000",this.fillStyle=Ti.fillStyle||"#000000",this.isFillTransparent=Ti.isFillTransparent||!1,this.fillOpacity=Ti.fillOpacity||1,this.font=Ti.font||"10px sans-serif",this.textBaseline=Ti.textBaseline||"alphabetic",this.textAlign=Ti.textAlign||"left",this.lineWidth=Ti.lineWidth||1,this.lineJoin=Ti.lineJoin||"miter",this.lineCap=Ti.lineCap||"butt",this.path=Ti.path||[],this.transform=Ti.transform!==void 0?Ti.transform.clone():new Qe,this.globalCompositeOperation=Ti.globalCompositeOperation||"normal",this.globalAlpha=Ti.globalAlpha||1,this.clip_path=Ti.clip_path||[],this.currentPoint=Ti.currentPoint||new Ke,this.miterLimit=Ti.miterLimit||10,this.lastPoint=Ti.lastPoint||new Ke,this.lineDashOffset=Ti.lineDashOffset||0,this.lineDash=Ti.lineDash||[],this.margin=Ti.margin||[0,0,0,0],this.prevPageLastElemOffset=Ti.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Ti.ignoreClearRect!="boolean"||Ti.ignoreClearRect,this};Ve.events.push(["initialized",function(){this.context2d=new ei(this),je=this.internal.f2,ze=this.internal.getCoordinateString,qe=this.internal.getVerticalCoordinateString,Xe=this.internal.getHorizontalCoordinate,Ye=this.internal.getVerticalCoordinate,Ke=this.internal.Point,Ze=this.internal.Rectangle,Qe=this.internal.Matrix,Je=new St}]);var ei=function(Ti){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Vi=Ti;Object.defineProperty(this,"pdf",{get:function(){return Vi}});var Ui=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Ui},set:function(Ni){Ui=!!Ni}});var $i=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return $i},set:function(Ni){$i=!!Ni}});var Wi=0;Object.defineProperty(this,"posX",{get:function(){return Wi},set:function(Ni){isNaN(Ni)||(Wi=Ni)}});var tn=0;Object.defineProperty(this,"posY",{get:function(){return tn},set:function(Ni){isNaN(Ni)||(tn=Ni)}}),Object.defineProperty(this,"margin",{get:function(){return Je.margin},set:function(Ni){var Di;typeof Ni=="number"?Di=[Ni,Ni,Ni,Ni]:((Di=new Array(4))[0]=Ni[0],Di[1]=Ni.length>=2?Ni[1]:Di[0],Di[2]=Ni.length>=3?Ni[2]:Di[0],Di[3]=Ni.length>=4?Ni[3]:Di[1]),Je.margin=Di}});var nn=!1;Object.defineProperty(this,"autoPaging",{get:function(){return nn},set:function(Ni){nn=Ni}});var Qi=0;Object.defineProperty(this,"lastBreak",{get:function(){return Qi},set:function(Ni){Qi=Ni}});var Ei=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ei},set:function(Ni){Ei=Ni}}),Object.defineProperty(this,"ctx",{get:function(){return Je},set:function(Ni){Ni instanceof St&&(Je=Ni)}}),Object.defineProperty(this,"path",{get:function(){return Je.path},set:function(Ni){Je.path=Ni}});var bi=[];Object.defineProperty(this,"ctxStack",{get:function(){return bi},set:function(Ni){bi=Ni}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ni){var Di;Di=ti(Ni),this.ctx.fillStyle=Di.style,this.ctx.isFillTransparent=Di.a===0,this.ctx.fillOpacity=Di.a,this.pdf.setFillColor(Di.r,Di.g,Di.b,{a:Di.a}),this.pdf.setTextColor(Di.r,Di.g,Di.b,{a:Di.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ni){var Di=ti(Ni);this.ctx.strokeStyle=Di.style,this.ctx.isStrokeTransparent=Di.a===0,this.ctx.strokeOpacity=Di.a,Di.a===0?this.pdf.setDrawColor(255,255,255):(Di.a,this.pdf.setDrawColor(Di.r,Di.g,Di.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ni){["butt","round","square"].indexOf(Ni)!==-1&&(this.ctx.lineCap=Ni,this.pdf.setLineCap(Ni))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ni){isNaN(Ni)||(this.ctx.lineWidth=Ni,this.pdf.setLineWidth(Ni))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ni){["bevel","round","miter"].indexOf(Ni)!==-1&&(this.ctx.lineJoin=Ni,this.pdf.setLineJoin(Ni))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ni){isNaN(Ni)||(this.ctx.miterLimit=Ni,this.pdf.setMiterLimit(Ni))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ni){this.ctx.textBaseline=Ni}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ni){["right","end","center","left","start"].indexOf(Ni)!==-1&&(this.ctx.textAlign=Ni)}});var Ci=null;function _i(Ni,Di){if(Ci===null){var Ki=function(sn){var zi=[];return Object.keys(sn).forEach(function(on){sn[on].forEach(function(cn){var mn=null;switch(cn){case"bold":mn={family:on,weight:"bold"};break;case"italic":mn={family:on,style:"italic"};break;case"bolditalic":mn={family:on,weight:"bold",style:"italic"};break;case"":case"normal":mn={family:on}}mn!==null&&(mn.ref={name:on,style:cn},zi.push(mn))})}),zi}(Ni.getFontList());Ci=function(sn){for(var zi={},on=0;on<sn.length;++on){var cn=jt(sn[on]),mn=cn.family,dn=cn.stretch,An=cn.style,pn=cn.weight;zi[mn]=zi[mn]||{},zi[mn][dn]=zi[mn][dn]||{},zi[mn][dn][An]=zi[mn][dn][An]||{},zi[mn][dn][An][pn]=cn}return zi}(Ki.concat(Di))}return Ci}var Ii=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ii},set:function(Ni){Ci=null,Ii=Ni}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ni){var Di;if(this.ctx.font=Ni,(Di=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ni))!==null){var Ki=Di[1],sn=(Di[2],Di[3]),zi=Di[4],on=(Di[5],Di[6]),cn=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(zi)[2];zi=Math.floor(cn==="px"?parseFloat(zi)*this.pdf.internal.scaleFactor:cn==="em"?parseFloat(zi)*this.pdf.getFontSize():parseFloat(zi)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(zi);var mn=function(wn){var _n,an,Cn=[],Ln=wn.trim();if(Ln==="")return Wt;if(Ln in Mt)return[Mt[Ln]];for(;Ln!=="";){switch(an=null,_n=(Ln=Dt(Ln)).charAt(0)){case'"':case"'":an=Rt(Ln.substring(1),_n);break;default:an=Tt(Ln)}if(an===null||(Cn.push(an[0]),(Ln=Dt(an[1]))!==""&&Ln.charAt(0)!==","))return Wt;Ln=Ln.replace(/^,/,"")}return Cn}(on);if(this.fontFaces){var dn=qt(_i(this.pdf,this.fontFaces),mn.map(function(wn){return{family:wn,stretch:"normal",weight:sn,style:Ki}}));this.pdf.setFont(dn.ref.name,dn.ref.style)}else{var An="";(sn==="bold"||parseInt(sn,10)>=700||Ki==="bold")&&(An="bold"),Ki==="italic"&&(An+="italic"),An.length===0&&(An="normal");for(var pn="",Mn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Hi=0;Hi<mn.length;Hi++){if(this.pdf.internal.getFont(mn[Hi],An,{noFallback:!0,disableWarning:!0})!==void 0){pn=mn[Hi];break}if(An==="bolditalic"&&this.pdf.internal.getFont(mn[Hi],"bold",{noFallback:!0,disableWarning:!0})!==void 0)pn=mn[Hi],An="bold";else if(this.pdf.internal.getFont(mn[Hi],"normal",{noFallback:!0,disableWarning:!0})!==void 0){pn=mn[Hi],An="normal";break}}if(pn===""){for(var On=0;On<mn.length;On++)if(Mn[mn[On]]){pn=Mn[mn[On]];break}}pn=pn===""?"Times":pn,this.pdf.setFont(pn,An)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ni){this.ctx.globalCompositeOperation=Ni}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ni){this.ctx.globalAlpha=Ni}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ni){this.ctx.lineDashOffset=Ni,Gi.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ni){this.ctx.lineDash=Ni,Gi.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ni){this.ctx.ignoreClearRect=!!Ni}})};ei.prototype.setLineDash=function(Ti){this.lineDash=Ti},ei.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},ei.prototype.fill=function(){ci.call(this,"fill",!1)},ei.prototype.stroke=function(){ci.call(this,"stroke",!1)},ei.prototype.beginPath=function(){this.path=[{type:"begin"}]},ei.prototype.moveTo=function(Ti,Vi){if(isNaN(Ti)||isNaN(Vi))throw a.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Ui=this.ctx.transform.applyToPoint(new Ke(Ti,Vi));this.path.push({type:"mt",x:Ui.x,y:Ui.y}),this.ctx.lastPoint=new Ke(Ti,Vi)},ei.prototype.closePath=function(){var Ti=new Ke(0,0),Vi=0;for(Vi=this.path.length-1;Vi!==-1;Vi--)if(this.path[Vi].type==="begin"&&_typeof(this.path[Vi+1])==="object"&&typeof this.path[Vi+1].x=="number"){Ti=new Ke(this.path[Vi+1].x,this.path[Vi+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new Ke(Ti.x,Ti.y)},ei.prototype.lineTo=function(Ti,Vi){if(isNaN(Ti)||isNaN(Vi))throw a.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Ui=this.ctx.transform.applyToPoint(new Ke(Ti,Vi));this.path.push({type:"lt",x:Ui.x,y:Ui.y}),this.ctx.lastPoint=new Ke(Ui.x,Ui.y)},ei.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),ci.call(this,null,!0)},ei.prototype.quadraticCurveTo=function(Ti,Vi,Ui,$i){if(isNaN(Ui)||isNaN($i)||isNaN(Ti)||isNaN(Vi))throw a.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Wi=this.ctx.transform.applyToPoint(new Ke(Ui,$i)),tn=this.ctx.transform.applyToPoint(new Ke(Ti,Vi));this.path.push({type:"qct",x1:tn.x,y1:tn.y,x:Wi.x,y:Wi.y}),this.ctx.lastPoint=new Ke(Wi.x,Wi.y)},ei.prototype.bezierCurveTo=function(Ti,Vi,Ui,$i,Wi,tn){if(isNaN(Wi)||isNaN(tn)||isNaN(Ti)||isNaN(Vi)||isNaN(Ui)||isNaN($i))throw a.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var nn=this.ctx.transform.applyToPoint(new Ke(Wi,tn)),Qi=this.ctx.transform.applyToPoint(new Ke(Ti,Vi)),Ei=this.ctx.transform.applyToPoint(new Ke(Ui,$i));this.path.push({type:"bct",x1:Qi.x,y1:Qi.y,x2:Ei.x,y2:Ei.y,x:nn.x,y:nn.y}),this.ctx.lastPoint=new Ke(nn.x,nn.y)},ei.prototype.arc=function(Ti,Vi,Ui,$i,Wi,tn){if(isNaN(Ti)||isNaN(Vi)||isNaN(Ui)||isNaN($i)||isNaN(Wi))throw a.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(tn=!!tn,!this.ctx.transform.isIdentity){var nn=this.ctx.transform.applyToPoint(new Ke(Ti,Vi));Ti=nn.x,Vi=nn.y;var Qi=this.ctx.transform.applyToPoint(new Ke(0,Ui)),Ei=this.ctx.transform.applyToPoint(new Ke(0,0));Ui=Math.sqrt(Math.pow(Qi.x-Ei.x,2)+Math.pow(Qi.y-Ei.y,2))}Math.abs(Wi-$i)>=2*Math.PI&&($i=0,Wi=2*Math.PI),this.path.push({type:"arc",x:Ti,y:Vi,radius:Ui,startAngle:$i,endAngle:Wi,counterclockwise:tn})},ei.prototype.arcTo=function(Ti,Vi,Ui,$i,Wi){throw new Error("arcTo not implemented.")},ei.prototype.rect=function(Ti,Vi,Ui,$i){if(isNaN(Ti)||isNaN(Vi)||isNaN(Ui)||isNaN($i))throw a.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Ti,Vi),this.lineTo(Ti+Ui,Vi),this.lineTo(Ti+Ui,Vi+$i),this.lineTo(Ti,Vi+$i),this.lineTo(Ti,Vi),this.lineTo(Ti+Ui,Vi),this.lineTo(Ti,Vi)},ei.prototype.fillRect=function(Ti,Vi,Ui,$i){if(isNaN(Ti)||isNaN(Vi)||isNaN(Ui)||isNaN($i))throw a.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!ii.call(this)){var Wi={};this.lineCap!=="butt"&&(Wi.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Wi.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Ti,Vi,Ui,$i),this.fill(),Wi.hasOwnProperty("lineCap")&&(this.lineCap=Wi.lineCap),Wi.hasOwnProperty("lineJoin")&&(this.lineJoin=Wi.lineJoin)}},ei.prototype.strokeRect=function(Ti,Vi,Ui,$i){if(isNaN(Ti)||isNaN(Vi)||isNaN(Ui)||isNaN($i))throw a.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");ri.call(this)||(this.beginPath(),this.rect(Ti,Vi,Ui,$i),this.stroke())},ei.prototype.clearRect=function(Ti,Vi,Ui,$i){if(isNaN(Ti)||isNaN(Vi)||isNaN(Ui)||isNaN($i))throw a.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Ti,Vi,Ui,$i))},ei.prototype.save=function(Ti){Ti=typeof Ti!="boolean"||Ti;for(var Vi=this.pdf.internal.getCurrentPageInfo().pageNumber,Ui=0;Ui<this.pdf.internal.getNumberOfPages();Ui++)this.pdf.setPage(Ui+1),this.pdf.internal.out("q");if(this.pdf.setPage(Vi),Ti){this.ctx.fontSize=this.pdf.internal.getFontSize();var $i=new St(this.ctx);this.ctxStack.push(this.ctx),this.ctx=$i}},ei.prototype.restore=function(Ti){Ti=typeof Ti!="boolean"||Ti;for(var Vi=this.pdf.internal.getCurrentPageInfo().pageNumber,Ui=0;Ui<this.pdf.internal.getNumberOfPages();Ui++)this.pdf.setPage(Ui+1),this.pdf.internal.out("Q");this.pdf.setPage(Vi),Ti&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},ei.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var ti=function(Ti){var Vi,Ui,$i,Wi;if(Ti.isCanvasGradient===!0&&(Ti=Ti.getColor()),!Ti)return{r:0,g:0,b:0,a:0,style:Ti};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Ti))Vi=0,Ui=0,$i=0,Wi=0;else{var tn=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Ti);if(tn!==null)Vi=parseInt(tn[1]),Ui=parseInt(tn[2]),$i=parseInt(tn[3]),Wi=1;else if((tn=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Ti))!==null)Vi=parseInt(tn[1]),Ui=parseInt(tn[2]),$i=parseInt(tn[3]),Wi=parseFloat(tn[4]);else{if(Wi=1,typeof Ti=="string"&&Ti.charAt(0)!=="#"){var nn=new f(Ti);Ti=nn.ok?nn.toHex():"#000000"}Ti.length===4?(Vi=Ti.substring(1,2),Vi+=Vi,Ui=Ti.substring(2,3),Ui+=Ui,$i=Ti.substring(3,4),$i+=$i):(Vi=Ti.substring(1,3),Ui=Ti.substring(3,5),$i=Ti.substring(5,7)),Vi=parseInt(Vi,16),Ui=parseInt(Ui,16),$i=parseInt($i,16)}}return{r:Vi,g:Ui,b:$i,a:Wi,style:Ti}},ii=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},ri=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};ei.prototype.fillText=function(Ti,Vi,Ui,$i){if(isNaN(Vi)||isNaN(Ui)||typeof Ti!="string")throw a.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if($i=isNaN($i)?void 0:$i,!ii.call(this)){var Wi=Pi(this.ctx.transform.rotation),tn=this.ctx.transform.scaleX;yi.call(this,{text:Ti,x:Vi,y:Ui,scale:tn,angle:Wi,align:this.textAlign,maxWidth:$i})}},ei.prototype.strokeText=function(Ti,Vi,Ui,$i){if(isNaN(Vi)||isNaN(Ui)||typeof Ti!="string")throw a.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!ri.call(this)){$i=isNaN($i)?void 0:$i;var Wi=Pi(this.ctx.transform.rotation),tn=this.ctx.transform.scaleX;yi.call(this,{text:Ti,x:Vi,y:Ui,scale:tn,renderingMode:"stroke",angle:Wi,align:this.textAlign,maxWidth:$i})}},ei.prototype.measureText=function(Ti){if(typeof Ti!="string")throw a.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Vi=this.pdf,Ui=this.pdf.internal.scaleFactor,$i=Vi.internal.getFontSize(),Wi=Vi.getStringUnitWidth(Ti)*$i/Vi.internal.scaleFactor,tn=function(nn){var Qi=(nn=nn||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Qi}}),this};return new tn({width:Wi*=Math.round(96*Ui/72*1e4)/1e4})},ei.prototype.scale=function(Ti,Vi){if(isNaN(Ti)||isNaN(Vi))throw a.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Ui=new Qe(Ti,0,0,Vi,0,0);this.ctx.transform=this.ctx.transform.multiply(Ui)},ei.prototype.rotate=function(Ti){if(isNaN(Ti))throw a.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Vi=new Qe(Math.cos(Ti),Math.sin(Ti),-Math.sin(Ti),Math.cos(Ti),0,0);this.ctx.transform=this.ctx.transform.multiply(Vi)},ei.prototype.translate=function(Ti,Vi){if(isNaN(Ti)||isNaN(Vi))throw a.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Ui=new Qe(1,0,0,1,Ti,Vi);this.ctx.transform=this.ctx.transform.multiply(Ui)},ei.prototype.transform=function(Ti,Vi,Ui,$i,Wi,tn){if(isNaN(Ti)||isNaN(Vi)||isNaN(Ui)||isNaN($i)||isNaN(Wi)||isNaN(tn))throw a.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var nn=new Qe(Ti,Vi,Ui,$i,Wi,tn);this.ctx.transform=this.ctx.transform.multiply(nn)},ei.prototype.setTransform=function(Ti,Vi,Ui,$i,Wi,tn){Ti=isNaN(Ti)?1:Ti,Vi=isNaN(Vi)?0:Vi,Ui=isNaN(Ui)?0:Ui,$i=isNaN($i)?1:$i,Wi=isNaN(Wi)?0:Wi,tn=isNaN(tn)?0:tn,this.ctx.transform=new Qe(Ti,Vi,Ui,$i,Wi,tn)};var si=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};ei.prototype.drawImage=function(Ti,Vi,Ui,$i,Wi,tn,nn,Qi,Ei){var bi=this.pdf.getImageProperties(Ti),Ci=1,_i=1,Ii=1,Ni=1;$i!==void 0&&Qi!==void 0&&(Ii=Qi/$i,Ni=Ei/Wi,Ci=bi.width/$i*Qi/$i,_i=bi.height/Wi*Ei/Wi),tn===void 0&&(tn=Vi,nn=Ui,Vi=0,Ui=0),$i!==void 0&&Qi===void 0&&(Qi=$i,Ei=Wi),$i===void 0&&Qi===void 0&&(Qi=bi.width,Ei=bi.height);for(var Di,Ki=this.ctx.transform.decompose(),sn=Pi(Ki.rotate.shx),zi=new Qe,on=(zi=(zi=(zi=zi.multiply(Ki.translate)).multiply(Ki.skew)).multiply(Ki.scale)).applyToRectangle(new Ze(tn-Vi*Ii,nn-Ui*Ni,$i*Ci,Wi*_i)),cn=ui.call(this,on),mn=[],dn=0;dn<cn.length;dn+=1)mn.indexOf(cn[dn])===-1&&mn.push(cn[dn]);if(ni(mn),this.autoPaging)for(var An=mn[0],pn=mn[mn.length-1],Mn=An;Mn<pn+1;Mn++){this.pdf.setPage(Mn);var Hi=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],On=Mn===1?this.posY+this.margin[0]:this.margin[0],wn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_n=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],an=Mn===1?0:wn+(Mn-2)*_n;if(this.ctx.clip_path.length!==0){var Cn=this.path;Di=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=oi(Di,this.posX+this.margin[3],-an+On+this.ctx.prevPageLastElemOffset),hi.call(this,"fill",!0),this.path=Cn}var Ln=JSON.parse(JSON.stringify(on));Ln=oi([Ln],this.posX+this.margin[3],-an+On+this.ctx.prevPageLastElemOffset)[0];var Nn=(Mn>An||Mn<pn)&&si.call(this);Nn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Hi,_n,null).clip().discardPath()),this.pdf.addImage(Ti,"JPEG",Ln.x,Ln.y,Ln.w,Ln.h,null,null,sn),Nn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(Ti,"JPEG",on.x,on.y,on.w,on.h,null,null,sn)};var ui=function(Ti,Vi,Ui){var $i=[];Vi=Vi||this.pdf.internal.pageSize.width,Ui=Ui||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Wi=this.posY+this.ctx.prevPageLastElemOffset;switch(Ti.type){default:case"mt":case"lt":$i.push(Math.floor((Ti.y+Wi)/Ui)+1);break;case"arc":$i.push(Math.floor((Ti.y+Wi-Ti.radius)/Ui)+1),$i.push(Math.floor((Ti.y+Wi+Ti.radius)/Ui)+1);break;case"qct":var tn=Ri(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Ti.x1,Ti.y1,Ti.x,Ti.y);$i.push(Math.floor((tn.y+Wi)/Ui)+1),$i.push(Math.floor((tn.y+tn.h+Wi)/Ui)+1);break;case"bct":var nn=Fi(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Ti.x1,Ti.y1,Ti.x2,Ti.y2,Ti.x,Ti.y);$i.push(Math.floor((nn.y+Wi)/Ui)+1),$i.push(Math.floor((nn.y+nn.h+Wi)/Ui)+1);break;case"rect":$i.push(Math.floor((Ti.y+Wi)/Ui)+1),$i.push(Math.floor((Ti.y+Ti.h+Wi)/Ui)+1)}for(var Qi=0;Qi<$i.length;Qi+=1)for(;this.pdf.internal.getNumberOfPages()<$i[Qi];)ai.call(this);return $i},ai=function(){var Ti=this.fillStyle,Vi=this.strokeStyle,Ui=this.font,$i=this.lineCap,Wi=this.lineWidth,tn=this.lineJoin;this.pdf.addPage(),this.fillStyle=Ti,this.strokeStyle=Vi,this.font=Ui,this.lineCap=$i,this.lineWidth=Wi,this.lineJoin=tn},oi=function(Ti,Vi,Ui){for(var $i=0;$i<Ti.length;$i++)switch(Ti[$i].type){case"bct":Ti[$i].x2+=Vi,Ti[$i].y2+=Ui;case"qct":Ti[$i].x1+=Vi,Ti[$i].y1+=Ui;case"mt":case"lt":case"arc":default:Ti[$i].x+=Vi,Ti[$i].y+=Ui}return Ti},ni=function(Ti){return Ti.sort(function(Vi,Ui){return Vi-Ui})},ci=function(Ti,Vi){for(var Ui,$i,Wi=this.fillStyle,tn=this.strokeStyle,nn=this.lineCap,Qi=this.lineWidth,Ei=Math.abs(Qi*this.ctx.transform.scaleX),bi=this.lineJoin,Ci=JSON.parse(JSON.stringify(this.path)),_i=JSON.parse(JSON.stringify(this.path)),Ii=[],Ni=0;Ni<_i.length;Ni++)if(_i[Ni].x!==void 0)for(var Di=ui.call(this,_i[Ni]),Ki=0;Ki<Di.length;Ki+=1)Ii.indexOf(Di[Ki])===-1&&Ii.push(Di[Ki]);for(var sn=0;sn<Ii.length;sn++)for(;this.pdf.internal.getNumberOfPages()<Ii[sn];)ai.call(this);if(ni(Ii),this.autoPaging)for(var zi=Ii[0],on=Ii[Ii.length-1],cn=zi;cn<on+1;cn++){this.pdf.setPage(cn),this.fillStyle=Wi,this.strokeStyle=tn,this.lineCap=nn,this.lineWidth=Ei,this.lineJoin=bi;var mn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],dn=cn===1?this.posY+this.margin[0]:this.margin[0],An=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Mn=cn===1?0:An+(cn-2)*pn;if(this.ctx.clip_path.length!==0){var Hi=this.path;Ui=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=oi(Ui,this.posX+this.margin[3],-Mn+dn+this.ctx.prevPageLastElemOffset),hi.call(this,Ti,!0),this.path=Hi}if($i=JSON.parse(JSON.stringify(Ci)),this.path=oi($i,this.posX+this.margin[3],-Mn+dn+this.ctx.prevPageLastElemOffset),Vi===!1||cn===0){var On=(cn>zi||cn<on)&&si.call(this);On&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mn,pn,null).clip().discardPath()),hi.call(this,Ti,Vi),On&&this.pdf.restoreGraphicsState()}this.lineWidth=Qi}else this.lineWidth=Ei,hi.call(this,Ti,Vi),this.lineWidth=Qi;this.path=Ci},hi=function(Ti,Vi){if((Ti!=="stroke"||Vi||!ri.call(this))&&(Ti==="stroke"||Vi||!ii.call(this))){for(var Ui,$i,Wi=[],tn=this.path,nn=0;nn<tn.length;nn++){var Qi=tn[nn];switch(Qi.type){case"begin":Wi.push({begin:!0});break;case"close":Wi.push({close:!0});break;case"mt":Wi.push({start:Qi,deltas:[],abs:[]});break;case"lt":var Ei=Wi.length;if(tn[nn-1]&&!isNaN(tn[nn-1].x)&&(Ui=[Qi.x-tn[nn-1].x,Qi.y-tn[nn-1].y],Ei>0)){for(;Ei>=0;Ei--)if(Wi[Ei-1].close!==!0&&Wi[Ei-1].begin!==!0){Wi[Ei-1].deltas.push(Ui),Wi[Ei-1].abs.push(Qi);break}}break;case"bct":Ui=[Qi.x1-tn[nn-1].x,Qi.y1-tn[nn-1].y,Qi.x2-tn[nn-1].x,Qi.y2-tn[nn-1].y,Qi.x-tn[nn-1].x,Qi.y-tn[nn-1].y],Wi[Wi.length-1].deltas.push(Ui);break;case"qct":var bi=tn[nn-1].x+2/3*(Qi.x1-tn[nn-1].x),Ci=tn[nn-1].y+2/3*(Qi.y1-tn[nn-1].y),_i=Qi.x+2/3*(Qi.x1-Qi.x),Ii=Qi.y+2/3*(Qi.y1-Qi.y),Ni=Qi.x,Di=Qi.y;Ui=[bi-tn[nn-1].x,Ci-tn[nn-1].y,_i-tn[nn-1].x,Ii-tn[nn-1].y,Ni-tn[nn-1].x,Di-tn[nn-1].y],Wi[Wi.length-1].deltas.push(Ui);break;case"arc":Wi.push({deltas:[],abs:[],arc:!0}),Array.isArray(Wi[Wi.length-1].abs)&&Wi[Wi.length-1].abs.push(Qi)}}$i=Vi?null:Ti==="stroke"?"stroke":"fill";for(var Ki=!1,sn=0;sn<Wi.length;sn++)if(Wi[sn].arc)for(var zi=Wi[sn].abs,on=0;on<zi.length;on++){var cn=zi[on];cn.type==="arc"?mi.call(this,cn.x,cn.y,cn.radius,cn.startAngle,cn.endAngle,cn.counterclockwise,void 0,Vi,!Ki):Ai.call(this,cn.x,cn.y),Ki=!0}else if(Wi[sn].close===!0)this.pdf.internal.out("h"),Ki=!1;else if(Wi[sn].begin!==!0){var mn=Wi[sn].start.x,dn=Wi[sn].start.y;Si.call(this,Wi[sn].deltas,mn,dn),Ki=!0}$i&&pi.call(this,$i),Vi&&wi.call(this)}},di=function(Ti){var Vi=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Ui=Vi*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Ti-Ui;case"top":return Ti+Vi-Ui;case"hanging":return Ti+Vi-2*Ui;case"middle":return Ti+Vi/2-Ui;case"ideographic":return Ti;case"alphabetic":default:return Ti}},fi=function(Ti){return Ti+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};ei.prototype.createLinearGradient=function(){var Ti=function(){};return Ti.colorStops=[],Ti.addColorStop=function(Vi,Ui){this.colorStops.push([Vi,Ui])},Ti.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Ti.isCanvasGradient=!0,Ti},ei.prototype.createPattern=function(){return this.createLinearGradient()},ei.prototype.createRadialGradient=function(){return this.createLinearGradient()};var mi=function(Ti,Vi,Ui,$i,Wi,tn,nn,Qi,Ei){for(var bi=Li.call(this,Ui,$i,Wi,tn),Ci=0;Ci<bi.length;Ci++){var _i=bi[Ci];Ci===0&&(Ei?gi.call(this,_i.x1+Ti,_i.y1+Vi):Ai.call(this,_i.x1+Ti,_i.y1+Vi)),ki.call(this,Ti,Vi,_i.x2,_i.y2,_i.x3,_i.y3,_i.x4,_i.y4)}Qi?wi.call(this):pi.call(this,nn)},pi=function(Ti){switch(Ti){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},wi=function(){this.pdf.clip(),this.pdf.discardPath()},gi=function(Ti,Vi){this.pdf.internal.out(ze(Ti)+" "+qe(Vi)+" m")},yi=function(Ti){var Vi;switch(Ti.align){case"right":case"end":Vi="right";break;case"center":Vi="center";break;case"left":case"start":default:Vi="left"}var Ui=this.pdf.getTextDimensions(Ti.text),$i=di.call(this,Ti.y),Wi=fi.call(this,$i)-Ui.h,tn=this.ctx.transform.applyToPoint(new Ke(Ti.x,$i)),nn=this.ctx.transform.decompose(),Qi=new Qe;Qi=(Qi=(Qi=Qi.multiply(nn.translate)).multiply(nn.skew)).multiply(nn.scale);for(var Ei,bi,Ci,_i=this.ctx.transform.applyToRectangle(new Ze(Ti.x,$i,Ui.w,Ui.h)),Ii=Qi.applyToRectangle(new Ze(Ti.x,Wi,Ui.w,Ui.h)),Ni=ui.call(this,Ii),Di=[],Ki=0;Ki<Ni.length;Ki+=1)Di.indexOf(Ni[Ki])===-1&&Di.push(Ni[Ki]);if(ni(Di),this.autoPaging)for(var sn=Di[0],zi=Di[Di.length-1],on=sn;on<zi+1;on++){this.pdf.setPage(on);var cn=on===1?this.posY+this.margin[0]:this.margin[0],mn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dn=this.pdf.internal.pageSize.height-this.margin[2],An=dn-this.margin[0],pn=this.pdf.internal.pageSize.width-this.margin[1],Mn=pn-this.margin[3],Hi=on===1?0:mn+(on-2)*An;if(this.ctx.clip_path.length!==0){var On=this.path;Ei=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=oi(Ei,this.posX+this.margin[3],-1*Hi+cn),hi.call(this,"fill",!0),this.path=On}var wn=oi([JSON.parse(JSON.stringify(Ii))],this.posX+this.margin[3],-Hi+cn+this.ctx.prevPageLastElemOffset)[0];Ti.scale>=.01&&(bi=this.pdf.internal.getFontSize(),this.pdf.setFontSize(bi*Ti.scale),Ci=this.lineWidth,this.lineWidth=Ci*Ti.scale);var _n=this.autoPaging!=="text";if(_n||wn.y+wn.h<=dn){if(_n||wn.y>=cn&&wn.x<=pn){var an=_n?Ti.text:this.pdf.splitTextToSize(Ti.text,Ti.maxWidth||pn-wn.x)[0],Cn=oi([JSON.parse(JSON.stringify(_i))],this.posX+this.margin[3],-Hi+cn+this.ctx.prevPageLastElemOffset)[0],Ln=_n&&(on>sn||on<zi)&&si.call(this);Ln&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Mn,An,null).clip().discardPath()),this.pdf.text(an,Cn.x,Cn.y,{angle:Ti.angle,align:Vi,renderingMode:Ti.renderingMode}),Ln&&this.pdf.restoreGraphicsState()}}else wn.y<dn&&(this.ctx.prevPageLastElemOffset+=dn-wn.y);Ti.scale>=.01&&(this.pdf.setFontSize(bi),this.lineWidth=Ci)}else Ti.scale>=.01&&(bi=this.pdf.internal.getFontSize(),this.pdf.setFontSize(bi*Ti.scale),Ci=this.lineWidth,this.lineWidth=Ci*Ti.scale),this.pdf.text(Ti.text,tn.x+this.posX,tn.y+this.posY,{angle:Ti.angle,align:Vi,renderingMode:Ti.renderingMode,maxWidth:Ti.maxWidth}),Ti.scale>=.01&&(this.pdf.setFontSize(bi),this.lineWidth=Ci)},Ai=function(Ti,Vi,Ui,$i){Ui=Ui||0,$i=$i||0,this.pdf.internal.out(ze(Ti+Ui)+" "+qe(Vi+$i)+" l")},Si=function(Ti,Vi,Ui){return this.pdf.lines(Ti,Vi,Ui,null,null)},ki=function(Ti,Vi,Ui,$i,Wi,tn,nn,Qi){this.pdf.internal.out([je(Xe(Ui+Ti)),je(Ye($i+Vi)),je(Xe(Wi+Ti)),je(Ye(tn+Vi)),je(Xe(nn+Ti)),je(Ye(Qi+Vi)),"c"].join(" "))},Li=function(Ti,Vi,Ui,$i){for(var Wi=2*Math.PI,tn=Math.PI/2;Vi>Ui;)Vi-=Wi;var nn=Math.abs(Ui-Vi);nn<Wi&&$i&&(nn=Wi-nn);for(var Qi=[],Ei=$i?-1:1,bi=Vi;nn>1e-5;){var Ci=bi+Ei*Math.min(nn,tn);Qi.push(Bi.call(this,Ti,bi,Ci)),nn-=Math.abs(Ci-bi),bi=Ci}return Qi},Bi=function(Ti,Vi,Ui){var $i=(Ui-Vi)/2,Wi=Ti*Math.cos($i),tn=Ti*Math.sin($i),nn=Wi,Qi=-tn,Ei=nn*nn+Qi*Qi,bi=Ei+nn*Wi+Qi*tn,Ci=4/3*(Math.sqrt(2*Ei*bi)-bi)/(nn*tn-Qi*Wi),_i=nn-Ci*Qi,Ii=Qi+Ci*nn,Ni=_i,Di=-Ii,Ki=$i+Vi,sn=Math.cos(Ki),zi=Math.sin(Ki);return{x1:Ti*Math.cos(Vi),y1:Ti*Math.sin(Vi),x2:_i*sn-Ii*zi,y2:_i*zi+Ii*sn,x3:Ni*sn-Di*zi,y3:Ni*zi+Di*sn,x4:Ti*Math.cos(Ui),y4:Ti*Math.sin(Ui)}},Pi=function(Ti){return 180*Ti/Math.PI},Ri=function(Ti,Vi,Ui,$i,Wi,tn){var nn=Ti+.5*(Ui-Ti),Qi=Vi+.5*($i-Vi),Ei=Wi+.5*(Ui-Wi),bi=tn+.5*($i-tn),Ci=Math.min(Ti,Wi,nn,Ei),_i=Math.max(Ti,Wi,nn,Ei),Ii=Math.min(Vi,tn,Qi,bi),Ni=Math.max(Vi,tn,Qi,bi);return new Ze(Ci,Ii,_i-Ci,Ni-Ii)},Fi=function(Ti,Vi,Ui,$i,Wi,tn,nn,Qi){var Ei,bi,Ci,_i,Ii,Ni,Di,Ki,sn,zi,on,cn,mn,dn,An=Ui-Ti,pn=$i-Vi,Mn=Wi-Ui,Hi=tn-$i,On=nn-Wi,wn=Qi-tn;for(bi=0;bi<41;bi++)sn=(Di=(Ci=Ti+(Ei=bi/40)*An)+Ei*((Ii=Ui+Ei*Mn)-Ci))+Ei*(Ii+Ei*(Wi+Ei*On-Ii)-Di),zi=(Ki=(_i=Vi+Ei*pn)+Ei*((Ni=$i+Ei*Hi)-_i))+Ei*(Ni+Ei*(tn+Ei*wn-Ni)-Ki),bi==0?(on=sn,cn=zi,mn=sn,dn=zi):(on=Math.min(on,sn),cn=Math.min(cn,zi),mn=Math.max(mn,sn),dn=Math.max(dn,zi));return new Ze(Math.round(on),Math.round(cn),Math.round(mn-on),Math.round(dn-cn))},Gi=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Ti,Vi,Ui=(Ti=this.ctx.lineDash,Vi=this.ctx.lineDashOffset,JSON.stringify({lineDash:Ti,lineDashOffset:Vi}));this.prevLineDash!==Ui&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Ui)}}})(E.API),function(Ve){var je=function(Ye){var Ke,Ze,Qe,Je,St,ei,ti,ii,ri,si;for(Ze=[],Qe=0,Je=(Ye+=Ke="\0\0\0\0".slice(Ye.length%4||4)).length;Je>Qe;Qe+=4)(St=(Ye.charCodeAt(Qe)<<24)+(Ye.charCodeAt(Qe+1)<<16)+(Ye.charCodeAt(Qe+2)<<8)+Ye.charCodeAt(Qe+3))!==0?(ei=(St=((St=((St=((St=(St-(si=St%85))/85)-(ri=St%85))/85)-(ii=St%85))/85)-(ti=St%85))/85)%85,Ze.push(ei+33,ti+33,ii+33,ri+33,si+33)):Ze.push(122);return function(ui,ai){for(var oi=ai;oi>0;oi--)ui.pop()}(Ze,Ke.length),String.fromCharCode.apply(String,Ze)+"~>"},ze=function(Ye){var Ke,Ze,Qe,Je,St,ei=String,ti="length",ii=255,ri="charCodeAt",si="slice",ui="replace";for(Ye[si](-2),Ye=Ye[si](0,-2)[ui](/\s/g,"")[ui]("z","!!!!!"),Qe=[],Je=0,St=(Ye+=Ke="uuuuu"[si](Ye[ti]%5||5))[ti];St>Je;Je+=5)Ze=52200625*(Ye[ri](Je)-33)+614125*(Ye[ri](Je+1)-33)+7225*(Ye[ri](Je+2)-33)+85*(Ye[ri](Je+3)-33)+(Ye[ri](Je+4)-33),Qe.push(ii&Ze>>24,ii&Ze>>16,ii&Ze>>8,ii&Ze);return function(ai,oi){for(var ni=oi;ni>0;ni--)ai.pop()}(Qe,Ke[ti]),ei.fromCharCode.apply(ei,Qe)},qe=function(Ye){var Ke=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((Ye=Ye.replace(/\s/g,"")).indexOf(">")!==-1&&(Ye=Ye.substr(0,Ye.indexOf(">"))),Ye.length%2&&(Ye+="0"),Ke.test(Ye)===!1)return"";for(var Ze="",Qe=0;Qe<Ye.length;Qe+=2)Ze+=String.fromCharCode("0x"+(Ye[Qe]+Ye[Qe+1]));return Ze},Xe=function(Ye){for(var Ke=new Uint8Array(Ye.length),Ze=Ye.length;Ze--;)Ke[Ze]=Ye.charCodeAt(Ze);return Ye=(Ke=zlibSync(Ke)).reduce(function(Qe,Je){return Qe+String.fromCharCode(Je)},"")};Ve.processDataByFilters=function(Ye,Ke){var Ze=0,Qe=Ye||"",Je=[];for(typeof(Ke=Ke||[])=="string"&&(Ke=[Ke]),Ze=0;Ze<Ke.length;Ze+=1)switch(Ke[Ze]){case"ASCII85Decode":case"/ASCII85Decode":Qe=ze(Qe),Je.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":Qe=je(Qe),Je.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":Qe=qe(Qe),Je.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":Qe=Qe.split("").map(function(St){return("0"+St.charCodeAt().toString(16)).slice(-2)}).join("")+">",Je.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":Qe=Xe(Qe),Je.push("/FlateDecode");break;default:throw new Error('The filter: "'+Ke[Ze]+'" is not implemented')}return{data:Qe,reverseChain:Je.reverse().join(" ")}}}(E.API),function(Ve){Ve.loadFile=function(je,ze,qe){return function(Xe,Ye,Ke){Ye=Ye!==!1,Ke=typeof Ke=="function"?Ke:function(){};var Ze=void 0;try{Ze=function(Qe,Je,St){var ei=new XMLHttpRequest,ti=0,ii=function(ri){var si=ri.length,ui=[],ai=String.fromCharCode;for(ti=0;ti<si;ti+=1)ui.push(ai(255&ri.charCodeAt(ti)));return ui.join("")};if(ei.open("GET",Qe,!Je),ei.overrideMimeType("text/plain; charset=x-user-defined"),Je===!1&&(ei.onload=function(){ei.status===200?St(ii(this.responseText)):St(void 0)}),ei.send(null),Je&&ei.status===200)return ii(ei.responseText)}(Xe,Ye,Ke)}catch{}return Ze}(je,ze,qe)},Ve.loadImageFile=Ve.loadFile}(E.API),function(Ve){function je(){return(n.html2canvas?Promise.resolve(n.html2canvas):__vitePreload(()=>import("./html2canvas.esm-Ry1SfrtC.js"),__vite__mapDeps([]))).catch(function(Ke){return Promise.reject(new Error("Could not load html2canvas: "+Ke))}).then(function(Ke){return Ke.default?Ke.default:Ke})}function ze(){return(n.DOMPurify?Promise.resolve(n.DOMPurify):__vitePreload(()=>import("./purify.es-zHtM-7sw.js"),__vite__mapDeps([]))).catch(function(Ke){return Promise.reject(new Error("Could not load dompurify: "+Ke))}).then(function(Ke){return Ke.default?Ke.default:Ke})}var qe=function(Ke){var Ze=_typeof(Ke);return Ze==="undefined"?"undefined":Ze==="string"||Ke instanceof String?"string":Ze==="number"||Ke instanceof Number?"number":Ze==="function"||Ke instanceof Function?"function":Ke&&Ke.constructor===Array?"array":Ke&&Ke.nodeType===1?"element":Ze==="object"?"object":"unknown"},Xe=function(Ke,Ze){var Qe=document.createElement(Ke);for(var Je in Ze.className&&(Qe.className=Ze.className),Ze.innerHTML&&Ze.dompurify&&(Qe.innerHTML=Ze.dompurify.sanitize(Ze.innerHTML)),Ze.style)Qe.style[Je]=Ze.style[Je];return Qe},Ye=function Ke(Ze){var Qe=Object.assign(Ke.convert(Promise.resolve()),JSON.parse(JSON.stringify(Ke.template))),Je=Ke.convert(Promise.resolve(),Qe);return Je=(Je=Je.setProgress(1,Ke,1,[Ke])).set(Ze)};(Ye.prototype=Object.create(Promise.prototype)).constructor=Ye,Ye.convert=function(Ke,Ze){return Ke.__proto__=Ze||Ye.prototype,Ke},Ye.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},Ye.prototype.from=function(Ke,Ze){return this.then(function(){switch(Ze=Ze||function(Qe){switch(qe(Qe)){case"string":return"string";case"element":return Qe.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(Ke)){case"string":return this.then(ze).then(function(Qe){return this.set({src:Xe("div",{innerHTML:Ke,dompurify:Qe})})});case"element":return this.set({src:Ke});case"canvas":return this.set({canvas:Ke});case"img":return this.set({img:Ke});default:return this.error("Unknown source type.")}})},Ye.prototype.to=function(Ke){switch(Ke){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},Ye.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var Ke={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},Ze=function Qe(Je,St){for(var ei=Je.nodeType===3?document.createTextNode(Je.nodeValue):Je.cloneNode(!1),ti=Je.firstChild;ti;ti=ti.nextSibling)St!==!0&&ti.nodeType===1&&ti.nodeName==="SCRIPT"||ei.appendChild(Qe(ti,St));return Je.nodeType===1&&(Je.nodeName==="CANVAS"?(ei.width=Je.width,ei.height=Je.height,ei.getContext("2d").drawImage(Je,0,0)):Je.nodeName!=="TEXTAREA"&&Je.nodeName!=="SELECT"||(ei.value=Je.value),ei.addEventListener("load",function(){ei.scrollTop=Je.scrollTop,ei.scrollLeft=Je.scrollLeft},!0)),ei}(this.prop.src,this.opt.html2canvas.javascriptEnabled);Ze.tagName==="BODY"&&(Ke.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=Xe("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=Xe("div",{className:"html2pdf__container",style:Ke}),this.prop.container.appendChild(Ze),this.prop.container.firstChild.appendChild(Xe("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},Ye.prototype.toCanvas=function(){var Ke=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(Ke).then(je).then(function(Ze){var Qe=Object.assign({},this.opt.html2canvas);return delete Qe.onrendered,Ze(this.prop.container,Qe)}).then(function(Ze){(this.opt.html2canvas.onrendered||function(){})(Ze),this.prop.canvas=Ze,document.body.removeChild(this.prop.overlay)})},Ye.prototype.toContext2d=function(){var Ke=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(Ke).then(je).then(function(Ze){var Qe=this.opt.jsPDF,Je=this.opt.fontFaces,St=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,ei=Object.assign({async:!0,allowTaint:!0,scale:St,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete ei.onrendered,Qe.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,Qe.context2d.posX=this.opt.x,Qe.context2d.posY=this.opt.y,Qe.context2d.margin=this.opt.margin,Qe.context2d.fontFaces=Je,Je)for(var ti=0;ti<Je.length;++ti){var ii=Je[ti],ri=ii.src.find(function(si){return si.format==="truetype"});ri&&Qe.addFont(ri.url,ii.ref.name,ii.ref.style)}return ei.windowHeight=ei.windowHeight||0,ei.windowHeight=ei.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):ei.windowHeight,Qe.context2d.save(!0),Ze(this.prop.container,ei)}).then(function(Ze){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(Ze),this.prop.canvas=Ze,document.body.removeChild(this.prop.overlay)})},Ye.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var Ke=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=Ke})},Ye.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},Ye.prototype.output=function(Ke,Ze,Qe){return(Qe=Qe||"pdf").toLowerCase()==="img"||Qe.toLowerCase()==="image"?this.outputImg(Ke,Ze):this.outputPdf(Ke,Ze)},Ye.prototype.outputPdf=function(Ke,Ze){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(Ke,Ze)})},Ye.prototype.outputImg=function(Ke){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(Ke){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+Ke+'" is not supported.'}})},Ye.prototype.save=function(Ke){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(Ke?{filename:Ke}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},Ye.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},Ye.prototype.set=function(Ke){if(qe(Ke)!=="object")return this;var Ze=Object.keys(Ke||{}).map(function(Qe){if(Qe in Ye.template.prop)return function(){this.prop[Qe]=Ke[Qe]};switch(Qe){case"margin":return this.setMargin.bind(this,Ke.margin);case"jsPDF":return function(){return this.opt.jsPDF=Ke.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,Ke.pageSize);default:return function(){this.opt[Qe]=Ke[Qe]}}},this);return this.then(function(){return this.thenList(Ze)})},Ye.prototype.get=function(Ke,Ze){return this.then(function(){var Qe=Ke in Ye.template.prop?this.prop[Ke]:this.opt[Ke];return Ze?Ze(Qe):Qe})},Ye.prototype.setMargin=function(Ke){return this.then(function(){switch(qe(Ke)){case"number":Ke=[Ke,Ke,Ke,Ke];case"array":if(Ke.length===2&&(Ke=[Ke[0],Ke[1],Ke[0],Ke[1]]),Ke.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=Ke}).then(this.setPageSize)},Ye.prototype.setPageSize=function(Ke){function Ze(Qe,Je){return Math.floor(Qe*Je/72*96)}return this.then(function(){(Ke=Ke||E.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(Ke.inner={width:Ke.width-this.opt.margin[1]-this.opt.margin[3],height:Ke.height-this.opt.margin[0]-this.opt.margin[2]},Ke.inner.px={width:Ze(Ke.inner.width,Ke.k),height:Ze(Ke.inner.height,Ke.k)},Ke.inner.ratio=Ke.inner.height/Ke.inner.width),this.prop.pageSize=Ke})},Ye.prototype.setProgress=function(Ke,Ze,Qe,Je){return Ke!=null&&(this.progress.val=Ke),Ze!=null&&(this.progress.state=Ze),Qe!=null&&(this.progress.n=Qe),Je!=null&&(this.progress.stack=Je),this.progress.ratio=this.progress.val/this.progress.state,this},Ye.prototype.updateProgress=function(Ke,Ze,Qe,Je){return this.setProgress(Ke?this.progress.val+Ke:null,Ze||null,Qe?this.progress.n+Qe:null,Je?this.progress.stack.concat(Je):null)},Ye.prototype.then=function(Ke,Ze){var Qe=this;return this.thenCore(Ke,Ze,function(Je,St){return Qe.updateProgress(null,null,1,[Je]),Promise.prototype.then.call(this,function(ei){return Qe.updateProgress(null,Je),ei}).then(Je,St).then(function(ei){return Qe.updateProgress(1),ei})})},Ye.prototype.thenCore=function(Ke,Ze,Qe){Qe=Qe||Promise.prototype.then,Ke&&(Ke=Ke.bind(this)),Ze&&(Ze=Ze.bind(this));var Je=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:Ye.convert(Object.assign({},this),Promise.prototype),St=Qe.call(Je,Ke,Ze);return Ye.convert(St,this.__proto__)},Ye.prototype.thenExternal=function(Ke,Ze){return Promise.prototype.then.call(this,Ke,Ze)},Ye.prototype.thenList=function(Ke){var Ze=this;return Ke.forEach(function(Qe){Ze=Ze.thenCore(Qe)}),Ze},Ye.prototype.catch=function(Ke){Ke&&(Ke=Ke.bind(this));var Ze=Promise.prototype.catch.call(this,Ke);return Ye.convert(Ze,this)},Ye.prototype.catchExternal=function(Ke){return Promise.prototype.catch.call(this,Ke)},Ye.prototype.error=function(Ke){return this.then(function(){throw new Error(Ke)})},Ye.prototype.using=Ye.prototype.set,Ye.prototype.saveAs=Ye.prototype.save,Ye.prototype.export=Ye.prototype.output,Ye.prototype.run=Ye.prototype.then,E.getPageSize=function(Ke,Ze,Qe){if(_typeof(Ke)==="object"){var Je=Ke;Ke=Je.orientation,Ze=Je.unit||Ze,Qe=Je.format||Qe}Ze=Ze||"mm",Qe=Qe||"a4",Ke=(""+(Ke||"P")).toLowerCase();var St,ei=(""+Qe).toLowerCase(),ti={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(Ze){case"pt":St=1;break;case"mm":St=72/25.4;break;case"cm":St=72/2.54;break;case"in":St=72;break;case"px":St=.75;break;case"pc":case"em":St=12;break;case"ex":St=6;break;default:throw"Invalid unit: "+Ze}var ii,ri=0,si=0;if(ti.hasOwnProperty(ei))ri=ti[ei][1]/St,si=ti[ei][0]/St;else try{ri=Qe[1],si=Qe[0]}catch{throw new Error("Invalid format: "+Qe)}if(Ke==="p"||Ke==="portrait")Ke="p",si>ri&&(ii=si,si=ri,ri=ii);else{if(Ke!=="l"&&Ke!=="landscape")throw"Invalid orientation: "+Ke;Ke="l",ri>si&&(ii=si,si=ri,ri=ii)}return{width:si,height:ri,unit:Ze,k:St,orientation:Ke}},Ve.html=function(Ke,Ze){(Ze=Ze||{}).callback=Ze.callback||function(){},Ze.html2canvas=Ze.html2canvas||{},Ze.html2canvas.canvas=Ze.html2canvas.canvas||this.canvas,Ze.jsPDF=Ze.jsPDF||this,Ze.fontFaces=Ze.fontFaces?Ze.fontFaces.map(jt):null;var Qe=new Ye(Ze);return Ze.worker?Qe:Qe.from(Ke).doCallback()}}(E.API),E.API.addJS=function(Ve){return Ht=Ve,this.internal.events.subscribe("postPutResources",function(){Ut=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ut+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),zt=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ht+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ut!==void 0&&zt!==void 0&&this.internal.out("/Names <</JavaScript "+Ut+" 0 R>>")}),this},function(Ve){var je;Ve.events.push(["postPutResources",function(){var ze=this,qe=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var Xe=ze.outline.render().split(/\r\n/),Ye=0;Ye<Xe.length;Ye++){var Ke=Xe[Ye],Ze=qe.exec(Ke);if(Ze!=null){var Qe=Ze[1];ze.internal.newObjectDeferredBegin(Qe,!1)}ze.internal.write(Ke)}if(this.outline.createNamedDestinations){var Je=this.internal.pages.length,St=[];for(Ye=0;Ye<Je;Ye++){var ei=ze.internal.newObject();St.push(ei);var ti=ze.internal.getPageInfo(Ye+1);ze.internal.write("<< /D["+ti.objId+" 0 R /XYZ null null null]>> endobj")}var ii=ze.internal.newObject();for(ze.internal.write("<< /Names [ "),Ye=0;Ye<St.length;Ye++)ze.internal.write("(page_"+(Ye+1)+")"+St[Ye]+" 0 R");ze.internal.write(" ] >>","endobj"),je=ze.internal.newObject(),ze.internal.write("<< /Dests "+ii+" 0 R"),ze.internal.write(">>","endobj")}}]),Ve.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+je+" 0 R"))}]),Ve.events.push(["initialized",function(){var ze=this;ze.outline={createNamedDestinations:!1,root:{children:[]}},ze.outline.add=function(qe,Xe,Ye){var Ke={title:Xe,options:Ye,children:[]};return qe==null&&(qe=this.root),qe.children.push(Ke),Ke},ze.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=ze,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},ze.outline.genIds_r=function(qe){qe.id=ze.internal.newObjectDeferred();for(var Xe=0;Xe<qe.children.length;Xe++)this.genIds_r(qe.children[Xe])},ze.outline.renderRoot=function(qe){this.objStart(qe),this.line("/Type /Outlines"),qe.children.length>0&&(this.line("/First "+this.makeRef(qe.children[0])),this.line("/Last "+this.makeRef(qe.children[qe.children.length-1]))),this.line("/Count "+this.count_r({count:0},qe)),this.objEnd()},ze.outline.renderItems=function(qe){for(var Xe=this.ctx.pdf.internal.getVerticalCoordinateString,Ye=0;Ye<qe.children.length;Ye++){var Ke=qe.children[Ye];this.objStart(Ke),this.line("/Title "+this.makeString(Ke.title)),this.line("/Parent "+this.makeRef(qe)),Ye>0&&this.line("/Prev "+this.makeRef(qe.children[Ye-1])),Ye<qe.children.length-1&&this.line("/Next "+this.makeRef(qe.children[Ye+1])),Ke.children.length>0&&(this.line("/First "+this.makeRef(Ke.children[0])),this.line("/Last "+this.makeRef(Ke.children[Ke.children.length-1])));var Ze=this.count=this.count_r({count:0},Ke);if(Ze>0&&this.line("/Count "+Ze),Ke.options&&Ke.options.pageNumber){var Qe=ze.internal.getPageInfo(Ke.options.pageNumber);this.line("/Dest ["+Qe.objId+" 0 R /XYZ 0 "+Xe(0)+" 0]")}this.objEnd()}for(var Je=0;Je<qe.children.length;Je++)this.renderItems(qe.children[Je])},ze.outline.line=function(qe){this.ctx.val+=qe+`\r
`},ze.outline.makeRef=function(qe){return qe.id+" 0 R"},ze.outline.makeString=function(qe){return"("+ze.internal.pdfEscape(qe)+")"},ze.outline.objStart=function(qe){this.ctx.val+=`\r
`+qe.id+` 0 obj\r
<<\r
`},ze.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},ze.outline.count_r=function(qe,Xe){for(var Ye=0;Ye<Xe.children.length;Ye++)qe.count++,this.count_r(qe,Xe.children[Ye]);return qe.count}}])}(E.API),function(Ve){var je=[192,193,194,195,196,197,198,199];Ve.processJPEG=function(ze,qe,Xe,Ye,Ke,Ze){var Qe,Je=this.decode.DCT_DECODE,St=null;if(typeof ze=="string"||this.__addimage__.isArrayBuffer(ze)||this.__addimage__.isArrayBufferView(ze)){switch(ze=Ke||ze,ze=this.__addimage__.isArrayBuffer(ze)?new Uint8Array(ze):ze,(Qe=function(ei){for(var ti,ii=256*ei.charCodeAt(4)+ei.charCodeAt(5),ri=ei.length,si={width:0,height:0,numcomponents:1},ui=4;ui<ri;ui+=2){if(ui+=ii,je.indexOf(ei.charCodeAt(ui+1))!==-1){ti=256*ei.charCodeAt(ui+5)+ei.charCodeAt(ui+6),si={width:256*ei.charCodeAt(ui+7)+ei.charCodeAt(ui+8),height:ti,numcomponents:ei.charCodeAt(ui+9)};break}ii=256*ei.charCodeAt(ui+2)+ei.charCodeAt(ui+3)}return si}(ze=this.__addimage__.isArrayBufferView(ze)?this.__addimage__.arrayBufferToBinaryString(ze):ze)).numcomponents){case 1:Ze=this.color_spaces.DEVICE_GRAY;break;case 4:Ze=this.color_spaces.DEVICE_CMYK;break;case 3:Ze=this.color_spaces.DEVICE_RGB}St={data:ze,width:Qe.width,height:Qe.height,colorSpace:Ze,bitsPerComponent:8,filter:Je,index:qe,alias:Xe}}return St}}(E.API);var Vt,Gt,Yt,Jt,Xt,Kt=function(){var Ve,je,ze;function qe(Ye){var Ke,Ze,Qe,Je,St,ei,ti,ii,ri,si,ui,ai,oi,ni;for(this.data=Ye,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},ei=null;;){switch(Ke=this.readUInt32(),ri=(function(){var ci,hi;for(hi=[],ci=0;ci<4;++ci)hi.push(String.fromCharCode(this.data[this.pos++]));return hi}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(Ke);break;case"fcTL":ei&&this.animation.frames.push(ei),this.pos+=4,ei={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},St=this.readUInt16(),Je=this.readUInt16()||100,ei.delay=1e3*St/Je,ei.disposeOp=this.data[this.pos++],ei.blendOp=this.data[this.pos++],ei.data=[];break;case"IDAT":case"fdAT":for(ri==="fdAT"&&(this.pos+=4,Ke-=4),Ye=(ei!=null?ei.data:void 0)||this.imgData,ai=0;0<=Ke?ai<Ke:ai>Ke;0<=Ke?++ai:--ai)Ye.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(Qe=this.palette.length/3,this.transparency.indexed=this.read(Ke),this.transparency.indexed.length>Qe)throw new Error("More transparent colors than palette size");if((si=Qe-this.transparency.indexed.length)>0)for(oi=0;0<=si?oi<si:oi>si;0<=si?++oi:--oi)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(Ke)[0];break;case 2:this.transparency.rgb=this.read(Ke)}break;case"tEXt":ti=(ui=this.read(Ke)).indexOf(0),ii=String.fromCharCode.apply(String,ui.slice(0,ti)),this.text[ii]=String.fromCharCode.apply(String,ui.slice(ti+1));break;case"IEND":return ei&&this.animation.frames.push(ei),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(ni=this.colorType)===4||ni===6,Ze=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*Ze,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=Ke}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}qe.prototype.read=function(Ye){var Ke,Ze;for(Ze=[],Ke=0;0<=Ye?Ke<Ye:Ke>Ye;0<=Ye?++Ke:--Ke)Ze.push(this.data[this.pos++]);return Ze},qe.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},qe.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},qe.prototype.decodePixels=function(Ye){var Ke=this.pixelBitlength/8,Ze=new Uint8Array(this.width*this.height*Ke),Qe=0,Je=this;if(Ye==null&&(Ye=this.imgData),Ye.length===0)return new Uint8Array(0);function St(ei,ti,ii,ri){var si,ui,ai,oi,ni,ci,hi,di,fi,mi,pi,wi,gi,yi,Ai,Si,ki,Li,Bi,Pi,Ri,Fi=Math.ceil((Je.width-ei)/ii),Gi=Math.ceil((Je.height-ti)/ri),Ti=Je.width==Fi&&Je.height==Gi;for(yi=Ke*Fi,wi=Ti?Ze:new Uint8Array(yi*Gi),ci=Ye.length,gi=0,ui=0;gi<Gi&&Qe<ci;){switch(Ye[Qe++]){case 0:for(oi=ki=0;ki<yi;oi=ki+=1)wi[ui++]=Ye[Qe++];break;case 1:for(oi=Li=0;Li<yi;oi=Li+=1)si=Ye[Qe++],ni=oi<Ke?0:wi[ui-Ke],wi[ui++]=(si+ni)%256;break;case 2:for(oi=Bi=0;Bi<yi;oi=Bi+=1)si=Ye[Qe++],ai=(oi-oi%Ke)/Ke,Ai=gi&&wi[(gi-1)*yi+ai*Ke+oi%Ke],wi[ui++]=(Ai+si)%256;break;case 3:for(oi=Pi=0;Pi<yi;oi=Pi+=1)si=Ye[Qe++],ai=(oi-oi%Ke)/Ke,ni=oi<Ke?0:wi[ui-Ke],Ai=gi&&wi[(gi-1)*yi+ai*Ke+oi%Ke],wi[ui++]=(si+Math.floor((ni+Ai)/2))%256;break;case 4:for(oi=Ri=0;Ri<yi;oi=Ri+=1)si=Ye[Qe++],ai=(oi-oi%Ke)/Ke,ni=oi<Ke?0:wi[ui-Ke],gi===0?Ai=Si=0:(Ai=wi[(gi-1)*yi+ai*Ke+oi%Ke],Si=ai&&wi[(gi-1)*yi+(ai-1)*Ke+oi%Ke]),hi=ni+Ai-Si,di=Math.abs(hi-ni),mi=Math.abs(hi-Ai),pi=Math.abs(hi-Si),fi=di<=mi&&di<=pi?ni:mi<=pi?Ai:Si,wi[ui++]=(si+fi)%256;break;default:throw new Error("Invalid filter algorithm: "+Ye[Qe-1])}if(!Ti){var Vi=((ti+gi*ri)*Je.width+ei)*Ke,Ui=gi*yi;for(oi=0;oi<Fi;oi+=1){for(var $i=0;$i<Ke;$i+=1)Ze[Vi++]=wi[Ui++];Vi+=(ii-1)*Ke}}gi++}}return Ye=unzlibSync(Ye),Je.interlaceMethod==1?(St(0,0,8,8),St(4,0,8,8),St(0,4,4,8),St(2,0,4,4),St(0,2,2,4),St(1,0,2,2),St(0,1,1,2)):St(0,0,1,1),Ze},qe.prototype.decodePalette=function(){var Ye,Ke,Ze,Qe,Je,St,ei,ti,ii;for(Ze=this.palette,St=this.transparency.indexed||[],Je=new Uint8Array((St.length||0)+Ze.length),Qe=0,Ye=0,Ke=ei=0,ti=Ze.length;ei<ti;Ke=ei+=3)Je[Qe++]=Ze[Ke],Je[Qe++]=Ze[Ke+1],Je[Qe++]=Ze[Ke+2],Je[Qe++]=(ii=St[Ye++])!=null?ii:255;return Je},qe.prototype.copyToImageData=function(Ye,Ke){var Ze,Qe,Je,St,ei,ti,ii,ri,si,ui,ai;if(Qe=this.colors,si=null,Ze=this.hasAlphaChannel,this.palette.length&&(si=(ai=this._decodedPalette)!=null?ai:this._decodedPalette=this.decodePalette(),Qe=4,Ze=!0),ri=(Je=Ye.data||Ye).length,ei=si||Ke,St=ti=0,Qe===1)for(;St<ri;)ii=si?4*Ke[St/4]:ti,ui=ei[ii++],Je[St++]=ui,Je[St++]=ui,Je[St++]=ui,Je[St++]=Ze?ei[ii++]:255,ti=ii;else for(;St<ri;)ii=si?4*Ke[St/4]:ti,Je[St++]=ei[ii++],Je[St++]=ei[ii++],Je[St++]=ei[ii++],Je[St++]=Ze?ei[ii++]:255,ti=ii},qe.prototype.decode=function(){var Ye;return Ye=new Uint8Array(this.width*this.height*4),this.copyToImageData(Ye,this.decodePixels()),Ye};var Xe=function(){if(Object.prototype.toString.call(n)==="[object Window]"){try{je=n.document.createElement("canvas"),ze=je.getContext("2d")}catch{return!1}return!0}return!1};return Xe(),Ve=function(Ye){var Ke;if(Xe()===!0)return ze.width=Ye.width,ze.height=Ye.height,ze.clearRect(0,0,Ye.width,Ye.height),ze.putImageData(Ye,0,0),(Ke=new Image).src=je.toDataURL(),Ke;throw new Error("This method requires a Browser with Canvas-capability.")},qe.prototype.decodeFrames=function(Ye){var Ke,Ze,Qe,Je,St,ei,ti,ii;if(this.animation){for(ii=[],Ze=St=0,ei=(ti=this.animation.frames).length;St<ei;Ze=++St)Ke=ti[Ze],Qe=Ye.createImageData(Ke.width,Ke.height),Je=this.decodePixels(new Uint8Array(Ke.data)),this.copyToImageData(Qe,Je),Ke.imageData=Qe,ii.push(Ke.image=Ve(Qe));return ii}},qe.prototype.renderFrame=function(Ye,Ke){var Ze,Qe,Je;return Ze=(Qe=this.animation.frames)[Ke],Je=Qe[Ke-1],Ke===0&&Ye.clearRect(0,0,this.width,this.height),(Je!=null?Je.disposeOp:void 0)===1?Ye.clearRect(Je.xOffset,Je.yOffset,Je.width,Je.height):(Je!=null?Je.disposeOp:void 0)===2&&Ye.putImageData(Je.imageData,Je.xOffset,Je.yOffset),Ze.blendOp===0&&Ye.clearRect(Ze.xOffset,Ze.yOffset,Ze.width,Ze.height),Ye.drawImage(Ze.image,Ze.xOffset,Ze.yOffset)},qe.prototype.animate=function(Ye){var Ke,Ze,Qe,Je,St,ei,ti=this;return Ze=0,ei=this.animation,Je=ei.numFrames,Qe=ei.frames,St=ei.numPlays,(Ke=function(){var ii,ri;if(ii=Ze++%Je,ri=Qe[ii],ti.renderFrame(Ye,ii),Je>1&&Ze/Je<St)return ti.animation._timeout=setTimeout(Ke,ri.delay)})()},qe.prototype.stopAnimation=function(){var Ye;return clearTimeout((Ye=this.animation)!=null?Ye._timeout:void 0)},qe.prototype.render=function(Ye){var Ke,Ze;return Ye._png&&Ye._png.stopAnimation(),Ye._png=this,Ye.width=this.width,Ye.height=this.height,Ke=Ye.getContext("2d"),this.animation?(this.decodeFrames(Ke),this.animate(Ke)):(Ze=Ke.createImageData(this.width,this.height),this.copyToImageData(Ze,this.decodePixels()),Ke.putImageData(Ze,0,0))},qe}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Zt(Ve){var je=0;if(Ve[je++]!==71||Ve[je++]!==73||Ve[je++]!==70||Ve[je++]!==56||(Ve[je++]+1&253)!=56||Ve[je++]!==97)throw new Error("Invalid GIF 87a/89a header.");var ze=Ve[je++]|Ve[je++]<<8,qe=Ve[je++]|Ve[je++]<<8,Xe=Ve[je++],Ye=Xe>>7,Ke=1<<(7&Xe)+1;Ve[je++],Ve[je++];var Ze=null,Qe=null;Ye&&(Ze=je,Qe=Ke,je+=3*Ke);var Je=!0,St=[],ei=0,ti=null,ii=0,ri=null;for(this.width=ze,this.height=qe;Je&&je<Ve.length;)switch(Ve[je++]){case 33:switch(Ve[je++]){case 255:if(Ve[je]!==11||Ve[je+1]==78&&Ve[je+2]==69&&Ve[je+3]==84&&Ve[je+4]==83&&Ve[je+5]==67&&Ve[je+6]==65&&Ve[je+7]==80&&Ve[je+8]==69&&Ve[je+9]==50&&Ve[je+10]==46&&Ve[je+11]==48&&Ve[je+12]==3&&Ve[je+13]==1&&Ve[je+16]==0)je+=14,ri=Ve[je++]|Ve[je++]<<8,je++;else for(je+=12;;){if(!((gi=Ve[je++])>=0))throw Error("Invalid block size");if(gi===0)break;je+=gi}break;case 249:if(Ve[je++]!==4||Ve[je+4]!==0)throw new Error("Invalid graphics extension block.");var si=Ve[je++];ei=Ve[je++]|Ve[je++]<<8,ti=Ve[je++],!(1&si)&&(ti=null),ii=si>>2&7,je++;break;case 254:for(;;){if(!((gi=Ve[je++])>=0))throw Error("Invalid block size");if(gi===0)break;je+=gi}break;default:throw new Error("Unknown graphic control label: 0x"+Ve[je-1].toString(16))}break;case 44:var ui=Ve[je++]|Ve[je++]<<8,ai=Ve[je++]|Ve[je++]<<8,oi=Ve[je++]|Ve[je++]<<8,ni=Ve[je++]|Ve[je++]<<8,ci=Ve[je++],hi=ci>>6&1,di=1<<(7&ci)+1,fi=Ze,mi=Qe,pi=!1;ci>>7&&(pi=!0,fi=je,mi=di,je+=3*di);var wi=je;for(je++;;){var gi;if(!((gi=Ve[je++])>=0))throw Error("Invalid block size");if(gi===0)break;je+=gi}St.push({x:ui,y:ai,width:oi,height:ni,has_local_palette:pi,palette_offset:fi,palette_size:mi,data_offset:wi,data_length:je-wi,transparent_index:ti,interlaced:!!hi,delay:ei,disposal:ii});break;case 59:Je=!1;break;default:throw new Error("Unknown gif block: 0x"+Ve[je-1].toString(16))}this.numFrames=function(){return St.length},this.loopCount=function(){return ri},this.frameInfo=function(yi){if(yi<0||yi>=St.length)throw new Error("Frame index out of range.");return St[yi]},this.decodeAndBlitFrameBGRA=function(yi,Ai){var Si=this.frameInfo(yi),ki=Si.width*Si.height,Li=new Uint8Array(ki);$t(Ve,Si.data_offset,Li,ki);var Bi=Si.palette_offset,Pi=Si.transparent_index;Pi===null&&(Pi=256);var Ri=Si.width,Fi=ze-Ri,Gi=Ri,Ti=4*(Si.y*ze+Si.x),Vi=4*((Si.y+Si.height)*ze+Si.x),Ui=Ti,$i=4*Fi;Si.interlaced===!0&&($i+=4*ze*7);for(var Wi=8,tn=0,nn=Li.length;tn<nn;++tn){var Qi=Li[tn];if(Gi===0&&(Gi=Ri,(Ui+=$i)>=Vi&&($i=4*Fi+4*ze*(Wi-1),Ui=Ti+(Ri+Fi)*(Wi<<1),Wi>>=1)),Qi===Pi)Ui+=4;else{var Ei=Ve[Bi+3*Qi],bi=Ve[Bi+3*Qi+1],Ci=Ve[Bi+3*Qi+2];Ai[Ui++]=Ci,Ai[Ui++]=bi,Ai[Ui++]=Ei,Ai[Ui++]=255}--Gi}},this.decodeAndBlitFrameRGBA=function(yi,Ai){var Si=this.frameInfo(yi),ki=Si.width*Si.height,Li=new Uint8Array(ki);$t(Ve,Si.data_offset,Li,ki);var Bi=Si.palette_offset,Pi=Si.transparent_index;Pi===null&&(Pi=256);var Ri=Si.width,Fi=ze-Ri,Gi=Ri,Ti=4*(Si.y*ze+Si.x),Vi=4*((Si.y+Si.height)*ze+Si.x),Ui=Ti,$i=4*Fi;Si.interlaced===!0&&($i+=4*ze*7);for(var Wi=8,tn=0,nn=Li.length;tn<nn;++tn){var Qi=Li[tn];if(Gi===0&&(Gi=Ri,(Ui+=$i)>=Vi&&($i=4*Fi+4*ze*(Wi-1),Ui=Ti+(Ri+Fi)*(Wi<<1),Wi>>=1)),Qi===Pi)Ui+=4;else{var Ei=Ve[Bi+3*Qi],bi=Ve[Bi+3*Qi+1],Ci=Ve[Bi+3*Qi+2];Ai[Ui++]=Ei,Ai[Ui++]=bi,Ai[Ui++]=Ci,Ai[Ui++]=255}--Gi}}}function $t(Ve,je,ze,qe){for(var Xe=Ve[je++],Ye=1<<Xe,Ke=Ye+1,Ze=Ke+1,Qe=Xe+1,Je=(1<<Qe)-1,St=0,ei=0,ti=0,ii=Ve[je++],ri=new Int32Array(4096),si=null;;){for(;St<16&&ii!==0;)ei|=Ve[je++]<<St,St+=8,ii===1?ii=Ve[je++]:--ii;if(St<Qe)break;var ui=ei&Je;if(ei>>=Qe,St-=Qe,ui!==Ye){if(ui===Ke)break;for(var ai=ui<Ze?ui:si,oi=0,ni=ai;ni>Ye;)ni=ri[ni]>>8,++oi;var ci=ni;if(ti+oi+(ai!==ui?1:0)>qe)return void a.log("Warning, gif stream longer than expected.");ze[ti++]=ci;var hi=ti+=oi;for(ai!==ui&&(ze[ti++]=ci),ni=ai;oi--;)ni=ri[ni],ze[--hi]=255&ni,ni>>=8;si!==null&&Ze<4096&&(ri[Ze++]=si<<8|ci,Ze>=Je+1&&Qe<12&&(++Qe,Je=Je<<1|1)),si=ui}else Ze=Ke+1,Je=(1<<(Qe=Xe+1))-1,si=null}return ti!==qe&&a.log("Warning, gif stream shorter than expected."),ze}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Qt(Ve){var je,ze,qe,Xe,Ye,Ke=Math.floor,Ze=new Array(64),Qe=new Array(64),Je=new Array(64),St=new Array(64),ei=new Array(65535),ti=new Array(65535),ii=new Array(64),ri=new Array(64),si=[],ui=0,ai=7,oi=new Array(64),ni=new Array(64),ci=new Array(64),hi=new Array(256),di=new Array(2048),fi=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],mi=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],pi=[0,1,2,3,4,5,6,7,8,9,10,11],wi=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],gi=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],yi=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Ai=[0,1,2,3,4,5,6,7,8,9,10,11],Si=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ki=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Li(Ti,Vi){for(var Ui=0,$i=0,Wi=new Array,tn=1;tn<=16;tn++){for(var nn=1;nn<=Ti[tn];nn++)Wi[Vi[$i]]=[],Wi[Vi[$i]][0]=Ui,Wi[Vi[$i]][1]=tn,$i++,Ui++;Ui*=2}return Wi}function Bi(Ti){for(var Vi=Ti[0],Ui=Ti[1]-1;Ui>=0;)Vi&1<<Ui&&(ui|=1<<ai),Ui--,--ai<0&&(ui==255?(Pi(255),Pi(0)):Pi(ui),ai=7,ui=0)}function Pi(Ti){si.push(Ti)}function Ri(Ti){Pi(Ti>>8&255),Pi(255&Ti)}function Fi(Ti,Vi,Ui,$i,Wi){for(var tn,nn=Wi[0],Qi=Wi[240],Ei=function(zi,on){var cn,mn,dn,An,pn,Mn,Hi,On,wn,_n,an=0;for(wn=0;wn<8;++wn){cn=zi[an],mn=zi[an+1],dn=zi[an+2],An=zi[an+3],pn=zi[an+4],Mn=zi[an+5],Hi=zi[an+6];var Cn=cn+(On=zi[an+7]),Ln=cn-On,Nn=mn+Hi,Fn=mn-Hi,Hn=dn+Mn,zn=dn-Mn,Xn=An+pn,tr=An-pn,nr=Cn+Xn,mr=Cn-Xn,ar=Nn+Hn,rr=Nn-Hn;zi[an]=nr+ar,zi[an+4]=nr-ar;var Qn=.707106781*(rr+mr);zi[an+2]=mr+Qn,zi[an+6]=mr-Qn;var hr=.382683433*((nr=tr+zn)-(rr=Fn+Ln)),En=.5411961*nr+hr,Yi=1.306562965*rr+hr,fn=.707106781*(ar=zn+Fn),Sn=Ln+fn,Dn=Ln-fn;zi[an+5]=Dn+En,zi[an+3]=Dn-En,zi[an+1]=Sn+Yi,zi[an+7]=Sn-Yi,an+=8}for(an=0,wn=0;wn<8;++wn){cn=zi[an],mn=zi[an+8],dn=zi[an+16],An=zi[an+24],pn=zi[an+32],Mn=zi[an+40],Hi=zi[an+48];var qn=cn+(On=zi[an+56]),Wn=cn-On,fr=mn+Hi,or=mn-Hi,cr=dn+Mn,Pr=dn-Mn,so=An+pn,Ar=An-pn,Rr=qn+so,wr=qn-so,kr=fr+cr,_r=fr-cr;zi[an]=Rr+kr,zi[an+32]=Rr-kr;var Lr=.707106781*(_r+wr);zi[an+16]=wr+Lr,zi[an+48]=wr-Lr;var qr=.382683433*((Rr=Ar+Pr)-(_r=or+Wn)),Vr=.5411961*Rr+qr,mo=1.306562965*_r+qr,Do=.707106781*(kr=Pr+or),ko=Wn+Do,To=Wn-Do;zi[an+40]=To+Vr,zi[an+24]=To-Vr,zi[an+8]=ko+mo,zi[an+56]=ko-mo,an++}for(wn=0;wn<64;++wn)_n=zi[wn]*on[wn],ii[wn]=_n>0?_n+.5|0:_n-.5|0;return ii}(Ti,Vi),bi=0;bi<64;++bi)ri[fi[bi]]=Ei[bi];var Ci=ri[0]-Ui;Ui=ri[0],Ci==0?Bi($i[0]):(Bi($i[ti[tn=32767+Ci]]),Bi(ei[tn]));for(var _i=63;_i>0&&ri[_i]==0;)_i--;if(_i==0)return Bi(nn),Ui;for(var Ii,Ni=1;Ni<=_i;){for(var Di=Ni;ri[Ni]==0&&Ni<=_i;)++Ni;var Ki=Ni-Di;if(Ki>=16){Ii=Ki>>4;for(var sn=1;sn<=Ii;++sn)Bi(Qi);Ki&=15}tn=32767+ri[Ni],Bi(Wi[(Ki<<4)+ti[tn]]),Bi(ei[tn]),Ni++}return _i!=63&&Bi(nn),Ui}function Gi(Ti){Ti=Math.min(Math.max(Ti,1),100),Ye!=Ti&&(function(Vi){for(var Ui=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],$i=0;$i<64;$i++){var Wi=Ke((Ui[$i]*Vi+50)/100);Wi=Math.min(Math.max(Wi,1),255),Ze[fi[$i]]=Wi}for(var tn=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],nn=0;nn<64;nn++){var Qi=Ke((tn[nn]*Vi+50)/100);Qi=Math.min(Math.max(Qi,1),255),Qe[fi[nn]]=Qi}for(var Ei=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],bi=0,Ci=0;Ci<8;Ci++)for(var _i=0;_i<8;_i++)Je[bi]=1/(Ze[fi[bi]]*Ei[Ci]*Ei[_i]*8),St[bi]=1/(Qe[fi[bi]]*Ei[Ci]*Ei[_i]*8),bi++}(Ti<50?Math.floor(5e3/Ti):Math.floor(200-2*Ti)),Ye=Ti)}this.encode=function(Ti,Vi){Vi&&Gi(Vi),si=new Array,ui=0,ai=7,Ri(65496),Ri(65504),Ri(16),Pi(74),Pi(70),Pi(73),Pi(70),Pi(0),Pi(1),Pi(1),Pi(0),Ri(1),Ri(1),Pi(0),Pi(0),function(){Ri(65499),Ri(132),Pi(0);for(var mn=0;mn<64;mn++)Pi(Ze[mn]);Pi(1);for(var dn=0;dn<64;dn++)Pi(Qe[dn])}(),function(mn,dn){Ri(65472),Ri(17),Pi(8),Ri(dn),Ri(mn),Pi(3),Pi(1),Pi(17),Pi(0),Pi(2),Pi(17),Pi(1),Pi(3),Pi(17),Pi(1)}(Ti.width,Ti.height),function(){Ri(65476),Ri(418),Pi(0);for(var mn=0;mn<16;mn++)Pi(mi[mn+1]);for(var dn=0;dn<=11;dn++)Pi(pi[dn]);Pi(16);for(var An=0;An<16;An++)Pi(wi[An+1]);for(var pn=0;pn<=161;pn++)Pi(gi[pn]);Pi(1);for(var Mn=0;Mn<16;Mn++)Pi(yi[Mn+1]);for(var Hi=0;Hi<=11;Hi++)Pi(Ai[Hi]);Pi(17);for(var On=0;On<16;On++)Pi(Si[On+1]);for(var wn=0;wn<=161;wn++)Pi(ki[wn])}(),Ri(65498),Ri(12),Pi(3),Pi(1),Pi(0),Pi(2),Pi(17),Pi(3),Pi(17),Pi(0),Pi(63),Pi(0);var Ui=0,$i=0,Wi=0;ui=0,ai=7,this.encode.displayName="_encode_";for(var tn,nn,Qi,Ei,bi,Ci,_i,Ii,Ni,Di=Ti.data,Ki=Ti.width,sn=Ti.height,zi=4*Ki,on=0;on<sn;){for(tn=0;tn<zi;){for(bi=zi*on+tn,_i=-1,Ii=0,Ni=0;Ni<64;Ni++)Ci=bi+(Ii=Ni>>3)*zi+(_i=4*(7&Ni)),on+Ii>=sn&&(Ci-=zi*(on+1+Ii-sn)),tn+_i>=zi&&(Ci-=tn+_i-zi+4),nn=Di[Ci++],Qi=Di[Ci++],Ei=Di[Ci++],oi[Ni]=(di[nn]+di[Qi+256>>0]+di[Ei+512>>0]>>16)-128,ni[Ni]=(di[nn+768>>0]+di[Qi+1024>>0]+di[Ei+1280>>0]>>16)-128,ci[Ni]=(di[nn+1280>>0]+di[Qi+1536>>0]+di[Ei+1792>>0]>>16)-128;Ui=Fi(oi,Je,Ui,je,qe),$i=Fi(ni,St,$i,ze,Xe),Wi=Fi(ci,St,Wi,ze,Xe),tn+=32}on+=8}if(ai>=0){var cn=[];cn[1]=ai+1,cn[0]=(1<<ai+1)-1,Bi(cn)}return Ri(65497),new Uint8Array(si)},Ve=Ve||50,function(){for(var Ti=String.fromCharCode,Vi=0;Vi<256;Vi++)hi[Vi]=Ti(Vi)}(),je=Li(mi,pi),ze=Li(yi,Ai),qe=Li(wi,gi),Xe=Li(Si,ki),function(){for(var Ti=1,Vi=2,Ui=1;Ui<=15;Ui++){for(var $i=Ti;$i<Vi;$i++)ti[32767+$i]=Ui,ei[32767+$i]=[],ei[32767+$i][1]=Ui,ei[32767+$i][0]=$i;for(var Wi=-(Vi-1);Wi<=-Ti;Wi++)ti[32767+Wi]=Ui,ei[32767+Wi]=[],ei[32767+Wi][1]=Ui,ei[32767+Wi][0]=Vi-1+Wi;Ti<<=1,Vi<<=1}}(),function(){for(var Ti=0;Ti<256;Ti++)di[Ti]=19595*Ti,di[Ti+256>>0]=38470*Ti,di[Ti+512>>0]=7471*Ti+32768,di[Ti+768>>0]=-11059*Ti,di[Ti+1024>>0]=-21709*Ti,di[Ti+1280>>0]=32768*Ti+8421375,di[Ti+1536>>0]=-27439*Ti,di[Ti+1792>>0]=-5329*Ti}(),Gi(Ve)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function te(Ve,je){if(this.pos=0,this.buffer=Ve,this.datav=new DataView(Ve.buffer),this.is_with_alpha=!!je,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ee(Ve){function je(mi){if(!mi)throw Error("assert :P")}function ze(mi,pi,wi){for(var gi=0;4>gi;gi++)if(mi[pi+gi]!=wi.charCodeAt(gi))return!0;return!1}function qe(mi,pi,wi,gi,yi){for(var Ai=0;Ai<yi;Ai++)mi[pi+Ai]=wi[gi+Ai]}function Xe(mi,pi,wi,gi){for(var yi=0;yi<gi;yi++)mi[pi+yi]=wi}function Ye(mi){return new Int32Array(mi)}function Ke(mi,pi){for(var wi=[],gi=0;gi<mi;gi++)wi.push(new pi);return wi}function Ze(mi,pi){var wi=[];return function gi(yi,Ai,Si){for(var ki=Si[Ai],Li=0;Li<ki&&(yi.push(Si.length>Ai+1?[]:new pi),!(Si.length<Ai+1));Li++)gi(yi[Li],Ai+1,Si)}(wi,0,mi),wi}var Qe=function(){var mi=this;function pi(xi,vi){for(var Oi=1<<vi-1>>>0;xi&Oi;)Oi>>>=1;return Oi?(xi&Oi-1)+Oi:xi}function wi(xi,vi,Oi,ji,qi){je(!(ji%Oi));do xi[vi+(ji-=Oi)]=qi;while(0<ji)}function gi(xi,vi,Oi,ji,qi){if(je(2328>=qi),512>=qi)var Zi=Ye(512);else if((Zi=Ye(qi))==null)return 0;return function(Ji,en,rn,un,xn,kn){var Tn,vn,jn=en,In=1<<rn,yn=Ye(16),bn=Ye(16);for(je(xn!=0),je(un!=null),je(Ji!=null),je(0<rn),vn=0;vn<xn;++vn){if(15<un[vn])return 0;++yn[un[vn]]}if(yn[0]==xn)return 0;for(bn[1]=0,Tn=1;15>Tn;++Tn){if(yn[Tn]>1<<Tn)return 0;bn[Tn+1]=bn[Tn]+yn[Tn]}for(vn=0;vn<xn;++vn)Tn=un[vn],0<un[vn]&&(kn[bn[Tn]++]=vn);if(bn[15]==1)return(un=new yi).g=0,un.value=kn[0],wi(Ji,jn,1,In,un),In;var Bn,Vn=-1,$n=In-1,Jn=0,Gn=1,ir=1,Kn=1<<rn;for(vn=0,Tn=1,xn=2;Tn<=rn;++Tn,xn<<=1){if(Gn+=ir<<=1,0>(ir-=yn[Tn]))return 0;for(;0<yn[Tn];--yn[Tn])(un=new yi).g=Tn,un.value=kn[vn++],wi(Ji,jn+Jn,xn,Kn,un),Jn=pi(Jn,Tn)}for(Tn=rn+1,xn=2;15>=Tn;++Tn,xn<<=1){if(Gn+=ir<<=1,0>(ir-=yn[Tn]))return 0;for(;0<yn[Tn];--yn[Tn]){if(un=new yi,(Jn&$n)!=Vn){for(jn+=Kn,Bn=1<<(Vn=Tn)-rn;15>Vn&&!(0>=(Bn-=yn[Vn]));)++Vn,Bn<<=1;In+=Kn=1<<(Bn=Vn-rn),Ji[en+(Vn=Jn&$n)].g=Bn+rn,Ji[en+Vn].value=jn-en-Vn}un.g=Tn-rn,un.value=kn[vn++],wi(Ji,jn+(Jn>>rn),xn,Kn,un),Jn=pi(Jn,Tn)}}return Gn!=2*bn[15]-1?0:In}(xi,vi,Oi,ji,qi,Zi)}function yi(){this.value=this.g=0}function Ai(){this.value=this.g=0}function Si(){this.G=Ke(5,yi),this.H=Ye(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=Ke(Zr,Ai)}function ki(xi,vi,Oi,ji){je(xi!=null),je(vi!=null),je(2147483648>ji),xi.Ca=254,xi.I=0,xi.b=-8,xi.Ka=0,xi.oa=vi,xi.pa=Oi,xi.Jd=vi,xi.Yc=Oi+ji,xi.Zc=4<=ji?Oi+ji-4+1:Oi,tn(xi)}function Li(xi,vi){for(var Oi=0;0<vi--;)Oi|=Qi(xi,128)<<vi;return Oi}function Bi(xi,vi){var Oi=Li(xi,vi);return nn(xi)?-Oi:Oi}function Pi(xi,vi,Oi,ji){var qi,Zi=0;for(je(xi!=null),je(vi!=null),je(4294967288>ji),xi.Sb=ji,xi.Ra=0,xi.u=0,xi.h=0,4<ji&&(ji=4),qi=0;qi<ji;++qi)Zi+=vi[Oi+qi]<<8*qi;xi.Ra=Zi,xi.bb=ji,xi.oa=vi,xi.pa=Oi}function Ri(xi){for(;8<=xi.u&&xi.bb<xi.Sb;)xi.Ra>>>=8,xi.Ra+=xi.oa[xi.pa+xi.bb]<<Ps-8>>>0,++xi.bb,xi.u-=8;Ui(xi)&&(xi.h=1,xi.u=0)}function Fi(xi,vi){if(je(0<=vi),!xi.h&&vi<=Cs){var Oi=Vi(xi)&_s[vi];return xi.u+=vi,Ri(xi),Oi}return xi.h=1,xi.u=0}function Gi(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Ti(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Vi(xi){return xi.Ra>>>(xi.u&Ps-1)>>>0}function Ui(xi){return je(xi.bb<=xi.Sb),xi.h||xi.bb==xi.Sb&&xi.u>Ps}function $i(xi,vi){xi.u=vi,xi.h=Ui(xi)}function Wi(xi){xi.u>=ta&&(je(xi.u>=ta),Ri(xi))}function tn(xi){je(xi!=null&&xi.oa!=null),xi.pa<xi.Zc?(xi.I=(xi.oa[xi.pa++]|xi.I<<8)>>>0,xi.b+=8):(je(xi!=null&&xi.oa!=null),xi.pa<xi.Yc?(xi.b+=8,xi.I=xi.oa[xi.pa++]|xi.I<<8):xi.Ka?xi.b=0:(xi.I<<=8,xi.b+=8,xi.Ka=1))}function nn(xi){return Li(xi,1)}function Qi(xi,vi){var Oi=xi.Ca;0>xi.b&&tn(xi);var ji=xi.b,qi=Oi*vi>>>8,Zi=(xi.I>>>ji>qi)+0;for(Zi?(Oi-=qi,xi.I-=qi+1<<ji>>>0):Oi=qi+1,ji=Oi,qi=0;256<=ji;)qi+=8,ji>>=8;return ji=7^qi+Jr[ji],xi.b-=ji,xi.Ca=(Oi<<ji)-1,Zi}function Ei(xi,vi,Oi){xi[vi+0]=Oi>>24&255,xi[vi+1]=Oi>>16&255,xi[vi+2]=Oi>>8&255,xi[vi+3]=Oi>>0&255}function bi(xi,vi){return xi[vi+0]<<0|xi[vi+1]<<8}function Ci(xi,vi){return bi(xi,vi)|xi[vi+2]<<16}function _i(xi,vi){return bi(xi,vi)|bi(xi,vi+2)<<16}function Ii(xi,vi){var Oi=1<<vi;return je(xi!=null),je(0<vi),xi.X=Ye(Oi),xi.X==null?0:(xi.Mb=32-vi,xi.Xa=vi,1)}function Ni(xi,vi){je(xi!=null),je(vi!=null),je(xi.Xa==vi.Xa),qe(vi.X,0,xi.X,0,1<<vi.Xa)}function Di(){this.X=[],this.Xa=this.Mb=0}function Ki(xi,vi,Oi,ji){je(Oi!=null),je(ji!=null);var qi=Oi[0],Zi=ji[0];return qi==0&&(qi=(xi*Zi+vi/2)/vi),Zi==0&&(Zi=(vi*qi+xi/2)/xi),0>=qi||0>=Zi?0:(Oi[0]=qi,ji[0]=Zi,1)}function sn(xi,vi){return xi+(1<<vi)-1>>>vi}function zi(xi,vi){return((4278255360&xi)+(4278255360&vi)>>>0&4278255360)+((16711935&xi)+(16711935&vi)>>>0&16711935)>>>0}function on(xi,vi){mi[vi]=function(Oi,ji,qi,Zi,Ji,en,rn){var un;for(un=0;un<Ji;++un){var xn=mi[xi](en[rn+un-1],qi,Zi+un);en[rn+un]=zi(Oi[ji+un],xn)}}}function cn(){this.ud=this.hd=this.jd=0}function mn(xi,vi){return((4278124286&(xi^vi))>>>1)+(xi&vi)>>>0}function dn(xi){return 0<=xi&&256>xi?xi:0>xi?0:255<xi?255:void 0}function An(xi,vi){return dn(xi+(xi-vi+.5>>1))}function pn(xi,vi,Oi){return Math.abs(vi-Oi)-Math.abs(xi-Oi)}function Mn(xi,vi,Oi,ji,qi,Zi,Ji){for(ji=Zi[Ji-1],Oi=0;Oi<qi;++Oi)Zi[Ji+Oi]=ji=zi(xi[vi+Oi],ji)}function Hi(xi,vi,Oi,ji,qi){var Zi;for(Zi=0;Zi<Oi;++Zi){var Ji=xi[vi+Zi],en=Ji>>8&255,rn=16711935&(rn=(rn=16711935&Ji)+((en<<16)+en));ji[qi+Zi]=(4278255360&Ji)+rn>>>0}}function On(xi,vi){vi.jd=xi>>0&255,vi.hd=xi>>8&255,vi.ud=xi>>16&255}function wn(xi,vi,Oi,ji,qi,Zi){var Ji;for(Ji=0;Ji<ji;++Ji){var en=vi[Oi+Ji],rn=en>>>8,un=en,xn=255&(xn=(xn=en>>>16)+((xi.jd<<24>>24)*(rn<<24>>24)>>>5));un=255&(un=(un=un+((xi.hd<<24>>24)*(rn<<24>>24)>>>5))+((xi.ud<<24>>24)*(xn<<24>>24)>>>5)),qi[Zi+Ji]=(4278255360&en)+(xn<<16)+un}}function _n(xi,vi,Oi,ji,qi){mi[vi]=function(Zi,Ji,en,rn,un,xn,kn,Tn,vn){for(rn=kn;rn<Tn;++rn)for(kn=0;kn<vn;++kn)un[xn++]=qi(en[ji(Zi[Ji++])])},mi[xi]=function(Zi,Ji,en,rn,un,xn,kn){var Tn=8>>Zi.b,vn=Zi.Ea,jn=Zi.K[0],In=Zi.w;if(8>Tn)for(Zi=(1<<Zi.b)-1,In=(1<<Tn)-1;Ji<en;++Ji){var yn,bn=0;for(yn=0;yn<vn;++yn)yn&Zi||(bn=ji(rn[un++])),xn[kn++]=qi(jn[bn&In]),bn>>=Tn}else mi["VP8LMapColor"+Oi](rn,un,jn,In,xn,kn,Ji,en,vn)}}function an(xi,vi,Oi,ji,qi){for(Oi=vi+Oi;vi<Oi;){var Zi=xi[vi++];ji[qi++]=Zi>>16&255,ji[qi++]=Zi>>8&255,ji[qi++]=Zi>>0&255}}function Cn(xi,vi,Oi,ji,qi){for(Oi=vi+Oi;vi<Oi;){var Zi=xi[vi++];ji[qi++]=Zi>>16&255,ji[qi++]=Zi>>8&255,ji[qi++]=Zi>>0&255,ji[qi++]=Zi>>24&255}}function Ln(xi,vi,Oi,ji,qi){for(Oi=vi+Oi;vi<Oi;){var Zi=(Ji=xi[vi++])>>16&240|Ji>>12&15,Ji=Ji>>0&240|Ji>>28&15;ji[qi++]=Zi,ji[qi++]=Ji}}function Nn(xi,vi,Oi,ji,qi){for(Oi=vi+Oi;vi<Oi;){var Zi=(Ji=xi[vi++])>>16&248|Ji>>13&7,Ji=Ji>>5&224|Ji>>3&31;ji[qi++]=Zi,ji[qi++]=Ji}}function Fn(xi,vi,Oi,ji,qi){for(Oi=vi+Oi;vi<Oi;){var Zi=xi[vi++];ji[qi++]=Zi>>0&255,ji[qi++]=Zi>>8&255,ji[qi++]=Zi>>16&255}}function Hn(xi,vi,Oi,ji,qi,Zi){if(Zi==0)for(Oi=vi+Oi;vi<Oi;)Ei(ji,((Zi=xi[vi++])[0]>>24|Zi[1]>>8&65280|Zi[2]<<8&16711680|Zi[3]<<24)>>>0),qi+=32;else qe(ji,qi,xi,vi,Oi)}function zn(xi,vi){mi[vi][0]=mi[xi+"0"],mi[vi][1]=mi[xi+"1"],mi[vi][2]=mi[xi+"2"],mi[vi][3]=mi[xi+"3"],mi[vi][4]=mi[xi+"4"],mi[vi][5]=mi[xi+"5"],mi[vi][6]=mi[xi+"6"],mi[vi][7]=mi[xi+"7"],mi[vi][8]=mi[xi+"8"],mi[vi][9]=mi[xi+"9"],mi[vi][10]=mi[xi+"10"],mi[vi][11]=mi[xi+"11"],mi[vi][12]=mi[xi+"12"],mi[vi][13]=mi[xi+"13"],mi[vi][14]=mi[xi+"0"],mi[vi][15]=mi[xi+"0"]}function Xn(xi){return xi==El||xi==Ol||xi==Va||xi==Il}function tr(){this.eb=[],this.size=this.A=this.fb=0}function nr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function mr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new tr,this.f.kb=new nr,this.sd=null}function ar(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function rr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Qn(xi){return alert("todo:WebPSamplerProcessPlane"),xi.T}function hr(xi,vi){var Oi=xi.T,ji=vi.ba.f.RGBA,qi=ji.eb,Zi=ji.fb+xi.ka*ji.A,Ji=co[vi.ba.S],en=xi.y,rn=xi.O,un=xi.f,xn=xi.N,kn=xi.ea,Tn=xi.W,vn=vi.cc,jn=vi.dc,In=vi.Mc,yn=vi.Nc,bn=xi.ka,Bn=xi.ka+xi.T,Vn=xi.U,$n=Vn+1>>1;for(bn==0?Ji(en,rn,null,null,un,xn,kn,Tn,un,xn,kn,Tn,qi,Zi,null,null,Vn):(Ji(vi.ec,vi.fc,en,rn,vn,jn,In,yn,un,xn,kn,Tn,qi,Zi-ji.A,qi,Zi,Vn),++Oi);bn+2<Bn;bn+=2)vn=un,jn=xn,In=kn,yn=Tn,xn+=xi.Rc,Tn+=xi.Rc,Zi+=2*ji.A,Ji(en,(rn+=2*xi.fa)-xi.fa,en,rn,vn,jn,In,yn,un,xn,kn,Tn,qi,Zi-ji.A,qi,Zi,Vn);return rn+=xi.fa,xi.j+Bn<xi.o?(qe(vi.ec,vi.fc,en,rn,Vn),qe(vi.cc,vi.dc,un,xn,$n),qe(vi.Mc,vi.Nc,kn,Tn,$n),Oi--):1&Bn||Ji(en,rn,null,null,un,xn,kn,Tn,un,xn,kn,Tn,qi,Zi+ji.A,null,null,Vn),Oi}function En(xi,vi,Oi){var ji=xi.F,qi=[xi.J];if(ji!=null){var Zi=xi.U,Ji=vi.ba.S,en=Ji==ja||Ji==Va;vi=vi.ba.f.RGBA;var rn=[0],un=xi.ka;rn[0]=xi.T,xi.Kb&&(un==0?--rn[0]:(--un,qi[0]-=xi.width),xi.j+xi.ka+xi.T==xi.o&&(rn[0]=xi.o-xi.j-un));var xn=vi.eb;un=vi.fb+un*vi.A,xi=Na(ji,qi[0],xi.width,Zi,rn,xn,un+(en?0:3),vi.A),je(Oi==rn),xi&&Xn(Ji)&&Ko(xn,un,en,Zi,rn,vi.A)}return 0}function Yi(xi){var vi=xi.ma,Oi=vi.ba.S,ji=11>Oi,qi=Oi==Ba||Oi==$a||Oi==ja||Oi==Ll||Oi==12||Xn(Oi);if(vi.memory=null,vi.Ib=null,vi.Jb=null,vi.Nd=null,!Qs(vi.Oa,xi,qi?11:12))return 0;if(qi&&Xn(Oi)&&Un(),xi.da)alert("todo:use_scaling");else{if(ji){if(vi.Ib=Qn,xi.Kb){if(Oi=xi.U+1>>1,vi.memory=Ye(xi.U+2*Oi),vi.memory==null)return 0;vi.ec=vi.memory,vi.fc=0,vi.cc=vi.ec,vi.dc=vi.fc+xi.U,vi.Mc=vi.cc,vi.Nc=vi.dc+Oi,vi.Ib=hr,Un()}}else alert("todo:EmitYUV");qi&&(vi.Jb=En,ji&&Pn())}if(ji&&!yu){for(xi=0;256>xi;++xi)xc[xi]=89858*(xi-128)+za>>Ua,bc[xi]=-22014*(xi-128)+za,wc[xi]=-45773*(xi-128),yc[xi]=113618*(xi-128)+za>>Ua;for(xi=aa;xi<Fl;++xi)vi=76283*(xi-16)+za>>Ua,vc[xi-aa]=io(vi,255),Sc[xi-aa]=io(vi+8>>4,15);yu=1}return 1}function fn(xi){var vi=xi.ma,Oi=xi.U,ji=xi.T;return je(!(1&xi.ka)),0>=Oi||0>=ji?0:(Oi=vi.Ib(xi,vi),vi.Jb!=null&&vi.Jb(xi,vi,Oi),vi.Dc+=Oi,1)}function Sn(xi){xi.ma.memory=null}function Dn(xi,vi,Oi,ji){return Fi(xi,8)!=47?0:(vi[0]=Fi(xi,14)+1,Oi[0]=Fi(xi,14)+1,ji[0]=Fi(xi,1),Fi(xi,3)!=0?0:!xi.h)}function qn(xi,vi){if(4>xi)return xi+1;var Oi=xi-2>>1;return(2+(1&xi)<<Oi)+Fi(vi,Oi)+1}function Wn(xi,vi){return 120<vi?vi-120:1<=(Oi=((Oi=ic[vi-1])>>4)*xi+(8-(15&Oi)))?Oi:1;var Oi}function fr(xi,vi,Oi){var ji=Vi(Oi),qi=xi[vi+=255&ji].g-8;return 0<qi&&($i(Oi,Oi.u+8),ji=Vi(Oi),vi+=xi[vi].value,vi+=ji&(1<<qi)-1),$i(Oi,Oi.u+xi[vi].g),xi[vi].value}function or(xi,vi,Oi){return Oi.g+=xi.g,Oi.value+=xi.value<<vi>>>0,je(8>=Oi.g),xi.g}function cr(xi,vi,Oi){var ji=xi.xc;return je((vi=ji==0?0:xi.vc[xi.md*(Oi>>ji)+(vi>>ji)])<xi.Wb),xi.Ya[vi]}function Pr(xi,vi,Oi,ji){var qi=xi.ab,Zi=xi.c*vi,Ji=xi.C;vi=Ji+vi;var en=Oi,rn=ji;for(ji=xi.Ta,Oi=xi.Ua;0<qi--;){var un=xi.gc[qi],xn=Ji,kn=vi,Tn=en,vn=rn,jn=(rn=ji,en=Oi,un.Ea);switch(je(xn<kn),je(kn<=un.nc),un.hc){case 2:Ia(Tn,vn,(kn-xn)*jn,rn,en);break;case 0:var In=xn,yn=kn,bn=rn,Bn=en,Vn=(Kn=un).Ea;In==0&&(Ml(Tn,vn,null,null,1,bn,Bn),Mn(Tn,vn+1,0,0,Vn-1,bn,Bn+1),vn+=Vn,Bn+=Vn,++In);for(var $n=1<<Kn.b,Jn=$n-1,Gn=sn(Vn,Kn.b),ir=Kn.K,Kn=Kn.w+(In>>Kn.b)*Gn;In<yn;){var yr=ir,br=Kn,xr=1;for(ia(Tn,vn,bn,Bn-Vn,1,bn,Bn);xr<Vn;){var pr=(xr&~Jn)+$n;pr>Vn&&(pr=Vn),(0,Xo[yr[br++]>>8&15])(Tn,vn+ +xr,bn,Bn+xr-Vn,pr-xr,bn,Bn+xr),xr=pr}vn+=Vn,Bn+=Vn,++In&Jn||(Kn+=Gn)}kn!=un.nc&&qe(rn,en-jn,rn,en+(kn-xn-1)*jn,jn);break;case 1:for(jn=Tn,yn=vn,Vn=(Tn=un.Ea)-(Bn=Tn&~(bn=(vn=1<<un.b)-1)),In=sn(Tn,un.b),$n=un.K,un=un.w+(xn>>un.b)*In;xn<kn;){for(Jn=$n,Gn=un,ir=new cn,Kn=yn+Bn,yr=yn+Tn;yn<Kn;)On(Jn[Gn++],ir),ao(ir,jn,yn,vn,rn,en),yn+=vn,en+=vn;yn<yr&&(On(Jn[Gn++],ir),ao(ir,jn,yn,Vn,rn,en),yn+=Vn,en+=Vn),++xn&bn||(un+=In)}break;case 3:if(Tn==rn&&vn==en&&0<un.b){for(yn=rn,Tn=jn=en+(kn-xn)*jn-(Bn=(kn-xn)*sn(un.Ea,un.b)),vn=rn,bn=en,In=[],Bn=(Vn=Bn)-1;0<=Bn;--Bn)In[Bn]=vn[bn+Bn];for(Bn=Vn-1;0<=Bn;--Bn)yn[Tn+Bn]=In[Bn];xo(un,xn,kn,rn,jn,rn,en)}else xo(un,xn,kn,Tn,vn,rn,en)}en=ji,rn=Oi}rn!=Oi&&qe(ji,Oi,en,rn,Zi)}function so(xi,vi){var Oi=xi.V,ji=xi.Ba+xi.c*xi.C,qi=vi-xi.C;if(je(vi<=xi.l.o),je(16>=qi),0<qi){var Zi=xi.l,Ji=xi.Ta,en=xi.Ua,rn=Zi.width;if(Pr(xi,qi,Oi,ji),qi=en=[en],je((Oi=xi.C)<(ji=vi)),je(Zi.v<Zi.va),ji>Zi.o&&(ji=Zi.o),Oi<Zi.j){var un=Zi.j-Oi;Oi=Zi.j,qi[0]+=un*rn}if(Oi>=ji?Oi=0:(qi[0]+=4*Zi.v,Zi.ka=Oi-Zi.j,Zi.U=Zi.va-Zi.v,Zi.T=ji-Oi,Oi=1),Oi){if(en=en[0],11>(Oi=xi.ca).S){var xn=Oi.f.RGBA,kn=(ji=Oi.S,qi=Zi.U,Zi=Zi.T,un=xn.eb,xn.A),Tn=Zi;for(xn=xn.fb+xi.Ma*xn.A;0<Tn--;){var vn=Ji,jn=en,In=qi,yn=un,bn=xn;switch(ji){case Fa:yo(vn,jn,In,yn,bn);break;case Ba:Wo(vn,jn,In,yn,bn);break;case El:Wo(vn,jn,In,yn,bn),Ko(yn,bn,0,In,1,0);break;case lu:Ms(vn,jn,In,yn,bn);break;case $a:Hn(vn,jn,In,yn,bn,1);break;case Ol:Hn(vn,jn,In,yn,bn,1),Ko(yn,bn,0,In,1,0);break;case ja:Hn(vn,jn,In,yn,bn,0);break;case Va:Hn(vn,jn,In,yn,bn,0),Ko(yn,bn,1,In,1,0);break;case Ll:Po(vn,jn,In,yn,bn);break;case Il:Po(vn,jn,In,yn,bn),Ts(yn,bn,In,1,0);break;case uu:Io(vn,jn,In,yn,bn);break;default:je(0)}en+=rn,xn+=kn}xi.Ma+=Zi}else alert("todo:EmitRescaledRowsYUVA");je(xi.Ma<=Oi.height)}}xi.C=vi,je(xi.C<=xi.i)}function Ar(xi){var vi;if(0<xi.ua)return 0;for(vi=0;vi<xi.Wb;++vi){var Oi=xi.Ya[vi].G,ji=xi.Ya[vi].H;if(0<Oi[1][ji[1]+0].g||0<Oi[2][ji[2]+0].g||0<Oi[3][ji[3]+0].g)return 0}return 1}function Rr(xi,vi,Oi,ji,qi,Zi){if(xi.Z!=0){var Ji=xi.qd,en=xi.rd;for(je(Jo[xi.Z]!=null);vi<Oi;++vi)Jo[xi.Z](Ji,en,ji,qi,ji,qi,Zi),Ji=ji,en=qi,qi+=Zi;xi.qd=Ji,xi.rd=en}}function wr(xi,vi){var Oi=xi.l.ma,ji=Oi.Z==0||Oi.Z==1?xi.l.j:xi.C;if(ji=xi.C<ji?ji:xi.C,je(vi<=xi.l.o),vi>ji){var qi=xi.l.width,Zi=Oi.ca,Ji=Oi.tb+qi*ji,en=xi.V,rn=xi.Ba+xi.c*ji,un=xi.gc;je(xi.ab==1),je(un[0].hc==3),Dl(un[0],ji,vi,en,rn,Zi,Ji),Rr(Oi,ji,vi,Zi,Ji,qi)}xi.C=xi.Ma=vi}function kr(xi,vi,Oi,ji,qi,Zi,Ji){var en=xi.$/ji,rn=xi.$%ji,un=xi.m,xn=xi.s,kn=Oi+xi.$,Tn=kn;qi=Oi+ji*qi;var vn=Oi+ji*Zi,jn=280+xn.ua,In=xi.Pb?en:16777216,yn=0<xn.ua?xn.Wa:null,bn=xn.wc,Bn=kn<vn?cr(xn,rn,en):null;je(xi.C<Zi),je(vn<=qi);var Vn=!1;e:for(;;){for(;Vn||kn<vn;){var $n=0;if(en>=In){var Jn=kn-Oi;je((In=xi).Pb),In.wd=In.m,In.xd=Jn,0<In.s.ua&&Ni(In.s.Wa,In.s.vb),In=en+rc}if(rn&bn||(Bn=cr(xn,rn,en)),je(Bn!=null),Bn.Qb&&(vi[kn]=Bn.qb,Vn=!0),!Vn)if(Wi(un),Bn.jc){$n=un,Jn=vi;var Gn=kn,ir=Bn.pd[Vi($n)&Zr-1];je(Bn.jc),256>ir.g?($i($n,$n.u+ir.g),Jn[Gn]=ir.value,$n=0):($i($n,$n.u+ir.g-256),je(256<=ir.value),$n=ir.value),$n==0&&(Vn=!0)}else $n=fr(Bn.G[0],Bn.H[0],un);if(un.h)break;if(Vn||256>$n){if(!Vn)if(Bn.nd)vi[kn]=(Bn.qb|$n<<8)>>>0;else{if(Wi(un),Vn=fr(Bn.G[1],Bn.H[1],un),Wi(un),Jn=fr(Bn.G[2],Bn.H[2],un),Gn=fr(Bn.G[3],Bn.H[3],un),un.h)break;vi[kn]=(Gn<<24|Vn<<16|$n<<8|Jn)>>>0}if(Vn=!1,++kn,++rn>=ji&&(rn=0,++en,Ji!=null&&en<=Zi&&!(en%16)&&Ji(xi,en),yn!=null))for(;Tn<kn;)$n=vi[Tn++],yn.X[(506832829*$n&4294967295)>>>yn.Mb]=$n}else if(280>$n){if($n=qn($n-256,un),Jn=fr(Bn.G[4],Bn.H[4],un),Wi(un),Jn=Wn(ji,Jn=qn(Jn,un)),un.h)break;if(kn-Oi<Jn||qi-kn<$n)break e;for(Gn=0;Gn<$n;++Gn)vi[kn+Gn]=vi[kn+Gn-Jn];for(kn+=$n,rn+=$n;rn>=ji;)rn-=ji,++en,Ji!=null&&en<=Zi&&!(en%16)&&Ji(xi,en);if(je(kn<=qi),rn&bn&&(Bn=cr(xn,rn,en)),yn!=null)for(;Tn<kn;)$n=vi[Tn++],yn.X[(506832829*$n&4294967295)>>>yn.Mb]=$n}else{if(!($n<jn))break e;for(Vn=$n-280,je(yn!=null);Tn<kn;)$n=vi[Tn++],yn.X[(506832829*$n&4294967295)>>>yn.Mb]=$n;$n=kn,je(!(Vn>>>(Jn=yn).Xa)),vi[$n]=Jn.X[Vn],Vn=!0}Vn||je(un.h==Ui(un))}if(xi.Pb&&un.h&&kn<qi)je(xi.m.h),xi.a=5,xi.m=xi.wd,xi.$=xi.xd,0<xi.s.ua&&Ni(xi.s.vb,xi.s.Wa);else{if(un.h)break e;Ji!=null&&Ji(xi,en>Zi?Zi:en),xi.a=0,xi.$=kn-Oi}return 1}return xi.a=3,0}function _r(xi){je(xi!=null),xi.vc=null,xi.yc=null,xi.Ya=null;var vi=xi.Wa;vi!=null&&(vi.X=null),xi.vb=null,je(xi!=null)}function Lr(){var xi=new Pl;return xi==null?null:(xi.a=0,xi.xb=du,zn("Predictor","VP8LPredictors"),zn("Predictor","VP8LPredictors_C"),zn("PredictorAdd","VP8LPredictorsAdd"),zn("PredictorAdd","VP8LPredictorsAdd_C"),Ia=Hi,ao=wn,yo=an,Wo=Cn,Po=Ln,Io=Nn,Ms=Fn,mi.VP8LMapColor32b=na,mi.VP8LMapColor8b=kl,xi)}function qr(xi,vi,Oi,ji,qi){var Zi=1,Ji=[xi],en=[vi],rn=ji.m,un=ji.s,xn=null,kn=0;e:for(;;){if(Oi)for(;Zi&&Fi(rn,1);){var Tn=Ji,vn=en,jn=ji,In=1,yn=jn.m,bn=jn.gc[jn.ab],Bn=Fi(yn,2);if(jn.Oc&1<<Bn)Zi=0;else{switch(jn.Oc|=1<<Bn,bn.hc=Bn,bn.Ea=Tn[0],bn.nc=vn[0],bn.K=[null],++jn.ab,je(4>=jn.ab),Bn){case 0:case 1:bn.b=Fi(yn,3)+2,In=qr(sn(bn.Ea,bn.b),sn(bn.nc,bn.b),0,jn,bn.K),bn.K=bn.K[0];break;case 3:var Vn,$n=Fi(yn,8)+1,Jn=16<$n?0:4<$n?1:2<$n?2:3;if(Tn[0]=sn(bn.Ea,Jn),bn.b=Jn,Vn=In=qr($n,1,0,jn,bn.K)){var Gn,ir=$n,Kn=bn,yr=1<<(8>>Kn.b),br=Ye(yr);if(br==null)Vn=0;else{var xr=Kn.K[0],pr=Kn.w;for(br[0]=Kn.K[0][0],Gn=1;Gn<1*ir;++Gn)br[Gn]=zi(xr[pr+Gn],br[Gn-1]);for(;Gn<4*yr;++Gn)br[Gn]=0;Kn.K[0]=null,Kn.K[0]=br,Vn=1}}In=Vn;break;case 2:break;default:je(0)}Zi=In}}if(Ji=Ji[0],en=en[0],Zi&&Fi(rn,1)&&!(Zi=1<=(kn=Fi(rn,4))&&11>=kn)){ji.a=3;break e}var Cr;if(Cr=Zi)t:{var Sr,ur,Br,Qr=ji,$r=Ji,eo=en,vr=kn,ro=Oi,oo=Qr.m,zr=Qr.s,Xr=[null],Gr=1,ho=0,Mo=nc[vr];i:for(;;){if(ro&&Fi(oo,1)){var Hr=Fi(oo,3)+2,$o=sn($r,Hr),hs=sn(eo,Hr),Ls=$o*hs;if(!qr($o,hs,0,Qr,Xr))break i;for(Xr=Xr[0],zr.xc=Hr,Sr=0;Sr<Ls;++Sr){var Qo=Xr[Sr]>>8&65535;Xr[Sr]=Qo,Qo>=Gr&&(Gr=Qo+1)}}if(oo.h)break i;for(ur=0;5>ur;++ur){var Or=cu[ur];!ur&&0<vr&&(Or+=1<<vr),ho<Or&&(ho=Or)}var Bl=Ke(Gr*Mo,yi),vu=Gr,Su=Ke(vu,Si);if(Su==null)var qa=null;else je(65536>=vu),qa=Su;var la=Ye(ho);if(qa==null||la==null||Bl==null){Qr.a=1;break i}var Xa=Bl;for(Sr=Br=0;Sr<Gr;++Sr){var So=qa[Sr],Es=So.G,Os=So.H,Au=0,Wa=1,_u=0;for(ur=0;5>ur;++ur){Or=cu[ur],Es[ur]=Xa,Os[ur]=Br,!ur&&0<vr&&(Or+=1<<vr);r:{var Ya,$l=Or,Ga=Qr,ua=la,Cc=Xa,Pc=Br,jl=0,es=Ga.m,Mc=Fi(es,1);if(Xe(ua,0,0,$l),Mc){var Dc=Fi(es,1)+1,kc=Fi(es,1),Cu=Fi(es,kc==0?1:8);ua[Cu]=1,Dc==2&&(ua[Cu=Fi(es,8)]=1);var Ka=1}else{var Pu=Ye(19),Mu=Fi(es,4)+4;if(19<Mu){Ga.a=3;var Za=0;break r}for(Ya=0;Ya<Mu;++Ya)Pu[tc[Ya]]=Fi(es,3);var Vl=void 0,ca=void 0,Du=Ga,Tc=Pu,Ja=$l,ku=ua,Ul=0,ts=Du.m,Tu=8,Lu=Ke(128,yi);n:for(;gi(Lu,0,7,Tc,19);){if(Fi(ts,1)){var Lc=2+2*Fi(ts,3);if((Vl=2+Fi(ts,Lc))>Ja)break n}else Vl=Ja;for(ca=0;ca<Ja&&Vl--;){Wi(ts);var Eu=Lu[0+(127&Vi(ts))];$i(ts,ts.u+Eu.g);var Is=Eu.value;if(16>Is)ku[ca++]=Is,Is!=0&&(Tu=Is);else{var Ec=Is==16,Ou=Is-16,Oc=Qu[Ou],Iu=Fi(ts,Ju[Ou])+Oc;if(ca+Iu>Ja)break n;for(var Ic=Ec?Tu:0;0<Iu--;)ku[ca++]=Ic}}Ul=1;break n}Ul||(Du.a=3),Ka=Ul}(Ka=Ka&&!es.h)&&(jl=gi(Cc,Pc,8,ua,$l)),Ka&&jl!=0?Za=jl:(Ga.a=3,Za=0)}if(Za==0)break i;if(Wa&&ec[ur]==1&&(Wa=Xa[Br].g==0),Au+=Xa[Br].g,Br+=Za,3>=ur){var ha,zl=la[0];for(ha=1;ha<Or;++ha)la[ha]>zl&&(zl=la[ha]);_u+=zl}}if(So.nd=Wa,So.Qb=0,Wa&&(So.qb=(Es[3][Os[3]+0].value<<24|Es[1][Os[1]+0].value<<16|Es[2][Os[2]+0].value)>>>0,Au==0&&256>Es[0][Os[0]+0].value&&(So.Qb=1,So.qb+=Es[0][Os[0]+0].value<<8)),So.jc=!So.Qb&&6>_u,So.jc){var Qa,jo=So;for(Qa=0;Qa<Zr;++Qa){var is=Qa,ns=jo.pd[is],el=jo.G[0][jo.H[0]+is];256<=el.value?(ns.g=el.g+256,ns.value=el.value):(ns.g=0,ns.value=0,is>>=or(el,8,ns),is>>=or(jo.G[1][jo.H[1]+is],16,ns),is>>=or(jo.G[2][jo.H[2]+is],0,ns),or(jo.G[3][jo.H[3]+is],24,ns))}}}zr.vc=Xr,zr.Wb=Gr,zr.Ya=qa,zr.yc=Bl,Cr=1;break t}Cr=0}if(!(Zi=Cr)){ji.a=3;break e}if(0<kn){if(un.ua=1<<kn,!Ii(un.Wa,kn)){ji.a=1,Zi=0;break e}}else un.ua=0;var Hl=ji,Nu=Ji,Nc=en,ql=Hl.s,Xl=ql.xc;if(Hl.c=Nu,Hl.i=Nc,ql.md=sn(Nu,Xl),ql.wc=Xl==0?-1:(1<<Xl)-1,Oi){ji.xb=dc;break e}if((xn=Ye(Ji*en))==null){ji.a=1,Zi=0;break e}Zi=(Zi=kr(ji,xn,0,Ji,en,en,null))&&!rn.h;break e}return Zi?(qi!=null?qi[0]=xn:(je(xn==null),je(Oi)),ji.$=0,Oi||_r(un)):_r(un),Zi}function Vr(xi,vi){var Oi=xi.c*xi.i,ji=Oi+vi+16*vi;return je(xi.c<=vi),xi.V=Ye(ji),xi.V==null?(xi.Ta=null,xi.Ua=0,xi.a=1,0):(xi.Ta=xi.V,xi.Ua=xi.Ba+Oi+vi,1)}function mo(xi,vi){var Oi=xi.C,ji=vi-Oi,qi=xi.V,Zi=xi.Ba+xi.c*Oi;for(je(vi<=xi.l.o);0<ji;){var Ji=16<ji?16:ji,en=xi.l.ma,rn=xi.l.width,un=rn*Ji,xn=en.ca,kn=en.tb+rn*Oi,Tn=xi.Ta,vn=xi.Ua;Pr(xi,Ji,qi,Zi),iu(Tn,vn,xn,kn,un),Rr(en,Oi,Oi+Ji,xn,kn,rn),ji-=Ji,qi+=Ji*xi.c,Oi+=Ji}je(Oi==vi),xi.C=xi.Ma=vi}function Do(){this.ub=this.yd=this.td=this.Rb=0}function ko(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function To(){this.Fb=this.Bb=this.Cb=0,this.Zb=Ye(4),this.Lb=Ye(4)}function rs(){this.Yb=function(){var xi=[];return function vi(Oi,ji,qi){for(var Zi=qi[ji],Ji=0;Ji<Zi&&(Oi.push(qi.length>ji+1?[]:0),!(qi.length<ji+1));Ji++)vi(Oi[Ji],ji+1,qi)}(xi,0,[3,11]),xi}()}function Vo(){this.jb=Ye(3),this.Wc=Ze([4,8],rs),this.Xc=Ze([4,17],rs)}function nl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new Ye(4),this.od=new Ye(4)}function ds(){this.ld=this.La=this.dd=this.tc=0}function fa(){this.Na=this.la=0}function rl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Fs(){this.ad=Ye(384),this.Za=0,this.Ob=Ye(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ol(){this.uc=this.M=this.Nb=0,this.wa=Array(new ds),this.Y=0,this.ya=Array(new Fs),this.aa=0,this.l=new ms}function pa(){this.y=Ye(16),this.f=Ye(8),this.ea=Ye(8)}function sl(){this.cb=this.a=0,this.sc="",this.m=new Gi,this.Od=new Do,this.Kc=new ko,this.ed=new nl,this.Qa=new To,this.Ic=this.$c=this.Aa=0,this.D=new ol,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=Ke(8,Gi),this.ia=0,this.pb=Ke(4,rl),this.Pa=new Vo,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new pa),this.Hd=0,this.rb=Array(new fa),this.sb=0,this.wa=Array(new ds),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Fs),this.L=this.aa=0,this.gd=Ze([4,2],ds),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ms(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function al(){var xi=new sl;return xi!=null&&(xi.a=0,xi.sc="OK",xi.cb=0,xi.Xb=0,sa||(sa=ya)),xi}function Ir(xi,vi,Oi){return xi.a==0&&(xi.a=vi,xi.sc=Oi,xi.cb=0),0}function ga(xi,vi,Oi){return 3<=Oi&&xi[vi+0]==157&&xi[vi+1]==1&&xi[vi+2]==42}function xa(xi,vi){if(xi==null)return 0;if(xi.a=0,xi.sc="OK",vi==null)return Ir(xi,2,"null VP8Io passed to VP8GetHeaders()");var Oi=vi.data,ji=vi.w,qi=vi.ha;if(4>qi)return Ir(xi,7,"Truncated header.");var Zi=Oi[ji+0]|Oi[ji+1]<<8|Oi[ji+2]<<16,Ji=xi.Od;if(Ji.Rb=!(1&Zi),Ji.td=Zi>>1&7,Ji.yd=Zi>>4&1,Ji.ub=Zi>>5,3<Ji.td)return Ir(xi,3,"Incorrect keyframe parameters.");if(!Ji.yd)return Ir(xi,4,"Frame not displayable.");ji+=3,qi-=3;var en=xi.Kc;if(Ji.Rb){if(7>qi)return Ir(xi,7,"cannot parse picture header");if(!ga(Oi,ji,qi))return Ir(xi,3,"Bad code word");en.c=16383&(Oi[ji+4]<<8|Oi[ji+3]),en.Td=Oi[ji+4]>>6,en.i=16383&(Oi[ji+6]<<8|Oi[ji+5]),en.Ud=Oi[ji+6]>>6,ji+=7,qi-=7,xi.za=en.c+15>>4,xi.Ub=en.i+15>>4,vi.width=en.c,vi.height=en.i,vi.Da=0,vi.j=0,vi.v=0,vi.va=vi.width,vi.o=vi.height,vi.da=0,vi.ib=vi.width,vi.hb=vi.height,vi.U=vi.width,vi.T=vi.height,Xe((Zi=xi.Pa).jb,0,255,Zi.jb.length),je((Zi=xi.Qa)!=null),Zi.Cb=0,Zi.Bb=0,Zi.Fb=1,Xe(Zi.Zb,0,0,Zi.Zb.length),Xe(Zi.Lb,0,0,Zi.Lb)}if(Ji.ub>qi)return Ir(xi,7,"bad partition length");ki(Zi=xi.m,Oi,ji,Ji.ub),ji+=Ji.ub,qi-=Ji.ub,Ji.Rb&&(en.Ld=nn(Zi),en.Kd=nn(Zi)),en=xi.Qa;var rn,un=xi.Pa;if(je(Zi!=null),je(en!=null),en.Cb=nn(Zi),en.Cb){if(en.Bb=nn(Zi),nn(Zi)){for(en.Fb=nn(Zi),rn=0;4>rn;++rn)en.Zb[rn]=nn(Zi)?Bi(Zi,7):0;for(rn=0;4>rn;++rn)en.Lb[rn]=nn(Zi)?Bi(Zi,6):0}if(en.Bb)for(rn=0;3>rn;++rn)un.jb[rn]=nn(Zi)?Li(Zi,8):255}else en.Bb=0;if(Zi.Ka)return Ir(xi,3,"cannot parse segment header");if((en=xi.ed).zd=nn(Zi),en.Tb=Li(Zi,6),en.wb=Li(Zi,3),en.Pc=nn(Zi),en.Pc&&nn(Zi)){for(un=0;4>un;++un)nn(Zi)&&(en.vd[un]=Bi(Zi,6));for(un=0;4>un;++un)nn(Zi)&&(en.od[un]=Bi(Zi,6))}if(xi.L=en.Tb==0?0:en.zd?1:2,Zi.Ka)return Ir(xi,3,"cannot parse filter header");var xn=qi;if(qi=rn=ji,ji=rn+xn,en=xn,xi.Xb=(1<<Li(xi.m,2))-1,xn<3*(un=xi.Xb))Oi=7;else{for(rn+=3*un,en-=3*un,xn=0;xn<un;++xn){var kn=Oi[qi+0]|Oi[qi+1]<<8|Oi[qi+2]<<16;kn>en&&(kn=en),ki(xi.Jc[+xn],Oi,rn,kn),rn+=kn,en-=kn,qi+=3}ki(xi.Jc[+un],Oi,rn,en),Oi=rn<ji?0:5}if(Oi!=0)return Ir(xi,Oi,"cannot parse partitions");for(Oi=Li(rn=xi.m,7),qi=nn(rn)?Bi(rn,4):0,ji=nn(rn)?Bi(rn,4):0,en=nn(rn)?Bi(rn,4):0,un=nn(rn)?Bi(rn,4):0,rn=nn(rn)?Bi(rn,4):0,xn=xi.Qa,kn=0;4>kn;++kn){if(xn.Cb){var Tn=xn.Zb[kn];xn.Fb||(Tn+=Oi)}else{if(0<kn){xi.pb[kn]=xi.pb[0];continue}Tn=Oi}var vn=xi.pb[kn];vn.Sc[0]=Nl[io(Tn+qi,127)],vn.Sc[1]=Rl[io(Tn+0,127)],vn.Eb[0]=2*Nl[io(Tn+ji,127)],vn.Eb[1]=101581*Rl[io(Tn+en,127)]>>16,8>vn.Eb[1]&&(vn.Eb[1]=8),vn.Qc[0]=Nl[io(Tn+un,117)],vn.Qc[1]=Rl[io(Tn+rn,127)],vn.lc=Tn+rn}if(!Ji.Rb)return Ir(xi,4,"Not a key frame.");for(nn(Zi),Ji=xi.Pa,Oi=0;4>Oi;++Oi){for(qi=0;8>qi;++qi)for(ji=0;3>ji;++ji)for(en=0;11>en;++en)un=Qi(Zi,cc[Oi][qi][ji][en])?Li(Zi,8):ac[Oi][qi][ji][en],Ji.Wc[Oi][qi].Yb[ji][en]=un;for(qi=0;17>qi;++qi)Ji.Xc[Oi][qi]=Ji.Wc[Oi][hc[qi]]}return xi.kc=nn(Zi),xi.kc&&(xi.Bd=Li(Zi,8)),xi.cb=1}function ya(xi,vi,Oi,ji,qi,Zi,Ji){var en=vi[qi].Yb[Oi];for(Oi=0;16>qi;++qi){if(!Qi(xi,en[Oi+0]))return qi;for(;!Qi(xi,en[Oi+1]);)if(en=vi[++qi].Yb[0],Oi=0,qi==16)return 16;var rn=vi[qi+1].Yb;if(Qi(xi,en[Oi+2])){var un=xi,xn=0;if(Qi(un,(Tn=en)[(kn=Oi)+3]))if(Qi(un,Tn[kn+6])){for(en=0,kn=2*(xn=Qi(un,Tn[kn+8]))+(Tn=Qi(un,Tn[kn+9+xn])),xn=0,Tn=oc[kn];Tn[en];++en)xn+=xn+Qi(un,Tn[en]);xn+=3+(8<<kn)}else Qi(un,Tn[kn+7])?(xn=7+2*Qi(un,165),xn+=Qi(un,145)):xn=5+Qi(un,159);else xn=Qi(un,Tn[kn+4])?3+Qi(un,Tn[kn+5]):2;en=rn[2]}else xn=1,en=rn[1];rn=Ji+sc[qi],0>(un=xi).b&&tn(un);var kn,Tn=un.b,vn=(kn=un.Ca>>1)-(un.I>>Tn)>>31;--un.b,un.Ca+=vn,un.Ca|=1,un.I-=(kn+1&vn)<<Tn,Zi[rn]=((xn^vn)-vn)*ji[(0<qi)+0]}return 16}function Bs(xi){var vi=xi.rb[xi.sb-1];vi.la=0,vi.Na=0,Xe(xi.zc,0,0,xi.zc.length),xi.ja=0}function ll(xi,vi){if(xi==null)return 0;if(vi==null)return Ir(xi,2,"NULL VP8Io parameter in VP8Decode().");if(!xi.cb&&!xa(xi,vi))return 0;if(je(xi.cb),vi.ac==null||vi.ac(vi)){vi.ob&&(xi.L=0);var Oi=Ha[xi.L];if(xi.L==2?(xi.yb=0,xi.zb=0):(xi.yb=vi.v-Oi>>4,xi.zb=vi.j-Oi>>4,0>xi.yb&&(xi.yb=0),0>xi.zb&&(xi.zb=0)),xi.Va=vi.o+15+Oi>>4,xi.Hb=vi.va+15+Oi>>4,xi.Hb>xi.za&&(xi.Hb=xi.za),xi.Va>xi.Ub&&(xi.Va=xi.Ub),0<xi.L){var ji=xi.ed;for(Oi=0;4>Oi;++Oi){var qi;if(xi.Qa.Cb){var Zi=xi.Qa.Lb[Oi];xi.Qa.Fb||(Zi+=ji.Tb)}else Zi=ji.Tb;for(qi=0;1>=qi;++qi){var Ji=xi.gd[Oi][qi],en=Zi;if(ji.Pc&&(en+=ji.vd[0],qi&&(en+=ji.od[0])),0<(en=0>en?0:63<en?63:en)){var rn=en;0<ji.wb&&(rn=4<ji.wb?rn>>2:rn>>1)>9-ji.wb&&(rn=9-ji.wb),1>rn&&(rn=1),Ji.dd=rn,Ji.tc=2*en+rn,Ji.ld=40<=en?2:15<=en?1:0}else Ji.tc=0;Ji.La=qi}}}Oi=0}else Ir(xi,6,"Frame setup failed"),Oi=xi.a;if(Oi=Oi==0){if(Oi){xi.$c=0,0<xi.Aa||(xi.Ic=_c);e:{Oi=xi.Ic,ji=4*(rn=xi.za);var un=32*rn,xn=rn+1,kn=0<xi.L?rn*(0<xi.Aa?2:1):0,Tn=(xi.Aa==2?2:1)*rn;if((Ji=ji+832+(qi=3*(16*Oi+Ha[xi.L])/2*un)+(Zi=xi.Fa!=null&&0<xi.Fa.length?xi.Kc.c*xi.Kc.i:0))!=Ji)Oi=0;else{if(Ji>xi.Vb){if(xi.Vb=0,xi.Ec=Ye(Ji),xi.Fc=0,xi.Ec==null){Oi=Ir(xi,1,"no memory during frame initialization.");break e}xi.Vb=Ji}Ji=xi.Ec,en=xi.Fc,xi.Ac=Ji,xi.Bc=en,en+=ji,xi.Gd=Ke(un,pa),xi.Hd=0,xi.rb=Ke(xn+1,fa),xi.sb=1,xi.wa=kn?Ke(kn,ds):null,xi.Y=0,xi.D.Nb=0,xi.D.wa=xi.wa,xi.D.Y=xi.Y,0<xi.Aa&&(xi.D.Y+=rn),je(!0),xi.oc=Ji,xi.pc=en,en+=832,xi.ya=Ke(Tn,Fs),xi.aa=0,xi.D.ya=xi.ya,xi.D.aa=xi.aa,xi.Aa==2&&(xi.D.aa+=rn),xi.R=16*rn,xi.B=8*rn,rn=(un=Ha[xi.L])*xi.R,un=un/2*xi.B,xi.sa=Ji,xi.ta=en+rn,xi.qa=xi.sa,xi.ra=xi.ta+16*Oi*xi.R+un,xi.Ha=xi.qa,xi.Ia=xi.ra+8*Oi*xi.B+un,xi.$c=0,en+=qi,xi.mb=Zi?Ji:null,xi.nb=Zi?en:null,je(en+Zi<=xi.Fc+xi.Vb),Bs(xi),Xe(xi.Ac,xi.Bc,0,ji),Oi=1}}if(Oi){if(vi.ka=0,vi.y=xi.sa,vi.O=xi.ta,vi.f=xi.qa,vi.N=xi.ra,vi.ea=xi.Ha,vi.Vd=xi.Ia,vi.fa=xi.R,vi.Rc=xi.B,vi.F=null,vi.J=0,!au){for(Oi=-255;255>=Oi;++Oi)nu[255+Oi]=0>Oi?-Oi:Oi;for(Oi=-1020;1020>=Oi;++Oi)ru[1020+Oi]=-128>Oi?-128:127<Oi?127:Oi;for(Oi=-112;112>=Oi;++Oi)ou[112+Oi]=-16>Oi?-16:15<Oi?15:Oi;for(Oi=-255;510>=Oi;++Oi)su[255+Oi]=0>Oi?0:255<Oi?255:Oi;au=1}wo=hl,Ds=ul,Yo=ba,bo=cl,No=va,ra=wa,us=Hs,ks=as,cs=Cl,Go=qs,oa=_l,lo=ws,Ro=Xs,Mr=La,Dr=Ta,Nr=Eo,jr=zo,Fo=Al,vo[0]=Co,vo[1]=dl,vo[2]=xl,vo[3]=yl,vo[4]=Ca,vo[5]=xs,vo[6]=Pa,vo[7]=Vs,vo[8]=bl,vo[9]=wl,Zo[0]=Sa,Zo[1]=pl,Zo[2]=Lo,Zo[3]=ps,Zo[4]=Wr,Zo[5]=gl,Zo[6]=Aa,Bo[0]=Uo,Bo[1]=ml,Bo[2]=vl,Bo[3]=Us,Bo[4]=ss,Bo[5]=Sl,Bo[6]=zs,Oi=1}else Oi=0}Oi&&(Oi=function(vn,jn){for(vn.M=0;vn.M<vn.Va;++vn.M){var In,yn=vn.Jc[vn.M&vn.Xb],bn=vn.m,Bn=vn;for(In=0;In<Bn.za;++In){var Vn=bn,$n=Bn,Jn=$n.Ac,Gn=$n.Bc+4*In,ir=$n.zc,Kn=$n.ya[$n.aa+In];if($n.Qa.Bb?Kn.$b=Qi(Vn,$n.Pa.jb[0])?2+Qi(Vn,$n.Pa.jb[2]):Qi(Vn,$n.Pa.jb[1]):Kn.$b=0,$n.kc&&(Kn.Ad=Qi(Vn,$n.Bd)),Kn.Za=!Qi(Vn,145)+0,Kn.Za){var yr=Kn.Ob,br=0;for($n=0;4>$n;++$n){var xr,pr=ir[0+$n];for(xr=0;4>xr;++xr){pr=uc[Jn[Gn+xr]][pr];for(var Cr=hu[Qi(Vn,pr[0])];0<Cr;)Cr=hu[2*Cr+Qi(Vn,pr[Cr])];pr=-Cr,Jn[Gn+xr]=pr}qe(yr,br,Jn,Gn,4),br+=4,ir[0+$n]=pr}}else pr=Qi(Vn,156)?Qi(Vn,128)?1:3:Qi(Vn,163)?2:0,Kn.Ob[0]=pr,Xe(Jn,Gn,pr,4),Xe(ir,0,pr,4);Kn.Dd=Qi(Vn,142)?Qi(Vn,114)?Qi(Vn,183)?1:3:2:0}if(Bn.m.Ka)return Ir(vn,7,"Premature end-of-partition0 encountered.");for(;vn.ja<vn.za;++vn.ja){if(Bn=yn,Vn=(bn=vn).rb[bn.sb-1],Jn=bn.rb[bn.sb+bn.ja],In=bn.ya[bn.aa+bn.ja],Gn=bn.kc?In.Ad:0)Vn.la=Jn.la=0,In.Za||(Vn.Na=Jn.Na=0),In.Hc=0,In.Gc=0,In.ia=0;else{var Sr,ur;if(Vn=Jn,Jn=Bn,Gn=bn.Pa.Xc,ir=bn.ya[bn.aa+bn.ja],Kn=bn.pb[ir.$b],$n=ir.ad,yr=0,br=bn.rb[bn.sb-1],pr=xr=0,Xe($n,yr,0,384),ir.Za)var Br=0,Qr=Gn[3];else{Cr=Ye(16);var $r=Vn.Na+br.Na;if($r=sa(Jn,Gn[1],$r,Kn.Eb,0,Cr,0),Vn.Na=br.Na=(0<$r)+0,1<$r)wo(Cr,0,$n,yr);else{var eo=Cr[0]+3>>3;for(Cr=0;256>Cr;Cr+=16)$n[yr+Cr]=eo}Br=1,Qr=Gn[0]}var vr=15&Vn.la,ro=15&br.la;for(Cr=0;4>Cr;++Cr){var oo=1&ro;for(eo=ur=0;4>eo;++eo)vr=vr>>1|(oo=($r=sa(Jn,Qr,$r=oo+(1&vr),Kn.Sc,Br,$n,yr))>Br)<<7,ur=ur<<2|(3<$r?3:1<$r?2:$n[yr+0]!=0),yr+=16;vr>>=4,ro=ro>>1|oo<<7,xr=(xr<<8|ur)>>>0}for(Qr=vr,Br=ro>>4,Sr=0;4>Sr;Sr+=2){for(ur=0,vr=Vn.la>>4+Sr,ro=br.la>>4+Sr,Cr=0;2>Cr;++Cr){for(oo=1&ro,eo=0;2>eo;++eo)$r=oo+(1&vr),vr=vr>>1|(oo=0<($r=sa(Jn,Gn[2],$r,Kn.Qc,0,$n,yr)))<<3,ur=ur<<2|(3<$r?3:1<$r?2:$n[yr+0]!=0),yr+=16;vr>>=2,ro=ro>>1|oo<<5}pr|=ur<<4*Sr,Qr|=vr<<4<<Sr,Br|=(240&ro)<<Sr}Vn.la=Qr,br.la=Br,ir.Hc=xr,ir.Gc=pr,ir.ia=43690&pr?0:Kn.ia,Gn=!(xr|pr)}if(0<bn.L&&(bn.wa[bn.Y+bn.ja]=bn.gd[In.$b][In.Za],bn.wa[bn.Y+bn.ja].La|=!Gn),Bn.Ka)return Ir(vn,7,"Premature end-of-file encountered.")}if(Bs(vn),bn=jn,Bn=1,In=(yn=vn).D,Vn=0<yn.L&&yn.M>=yn.zb&&yn.M<=yn.Va,yn.Aa==0)e:{if(In.M=yn.M,In.uc=Vn,Js(yn,In),Bn=1,In=(ur=yn.D).Nb,Vn=(pr=Ha[yn.L])*yn.R,Jn=pr/2*yn.B,Cr=16*In*yn.R,eo=8*In*yn.B,Gn=yn.sa,ir=yn.ta-Vn+Cr,Kn=yn.qa,$n=yn.ra-Jn+eo,yr=yn.Ha,br=yn.Ia-Jn+eo,ro=(vr=ur.M)==0,xr=vr>=yn.Va-1,yn.Aa==2&&Js(yn,ur),ur.uc)for(oo=($r=yn).D.M,je($r.D.uc),ur=$r.yb;ur<$r.Hb;++ur){Br=ur,Qr=oo;var zr=(Xr=(Or=$r).D).Nb;Sr=Or.R;var Xr=Xr.wa[Xr.Y+Br],Gr=Or.sa,ho=Or.ta+16*zr*Sr+16*Br,Mo=Xr.dd,Hr=Xr.tc;if(Hr!=0)if(je(3<=Hr),Or.L==1)0<Br&&Nr(Gr,ho,Sr,Hr+4),Xr.La&&Fo(Gr,ho,Sr,Hr),0<Qr&&Dr(Gr,ho,Sr,Hr+4),Xr.La&&jr(Gr,ho,Sr,Hr);else{var $o=Or.B,hs=Or.qa,Ls=Or.ra+8*zr*$o+8*Br,Qo=Or.Ha,Or=Or.Ia+8*zr*$o+8*Br;zr=Xr.ld,0<Br&&(ks(Gr,ho,Sr,Hr+4,Mo,zr),Go(hs,Ls,Qo,Or,$o,Hr+4,Mo,zr)),Xr.La&&(lo(Gr,ho,Sr,Hr,Mo,zr),Mr(hs,Ls,Qo,Or,$o,Hr,Mo,zr)),0<Qr&&(us(Gr,ho,Sr,Hr+4,Mo,zr),cs(hs,Ls,Qo,Or,$o,Hr+4,Mo,zr)),Xr.La&&(oa(Gr,ho,Sr,Hr,Mo,zr),Ro(hs,Ls,Qo,Or,$o,Hr,Mo,zr))}}if(yn.ia&&alert("todo:DitherRow"),bn.put!=null){if(ur=16*vr,vr=16*(vr+1),ro?(bn.y=yn.sa,bn.O=yn.ta+Cr,bn.f=yn.qa,bn.N=yn.ra+eo,bn.ea=yn.Ha,bn.W=yn.Ia+eo):(ur-=pr,bn.y=Gn,bn.O=ir,bn.f=Kn,bn.N=$n,bn.ea=yr,bn.W=br),xr||(vr-=pr),vr>bn.o&&(vr=bn.o),bn.F=null,bn.J=null,yn.Fa!=null&&0<yn.Fa.length&&ur<vr&&(bn.J=Ks(yn,bn,ur,vr-ur),bn.F=yn.mb,bn.F==null&&bn.F.length==0)){Bn=Ir(yn,3,"Could not decode alpha data.");break e}ur<bn.j&&(pr=bn.j-ur,ur=bn.j,je(!(1&pr)),bn.O+=yn.R*pr,bn.N+=yn.B*(pr>>1),bn.W+=yn.B*(pr>>1),bn.F!=null&&(bn.J+=bn.width*pr)),ur<vr&&(bn.O+=bn.v,bn.N+=bn.v>>1,bn.W+=bn.v>>1,bn.F!=null&&(bn.J+=bn.v),bn.ka=ur-bn.j,bn.U=bn.va-bn.v,bn.T=vr-ur,Bn=bn.put(bn))}In+1!=yn.Ic||xr||(qe(yn.sa,yn.ta-Vn,Gn,ir+16*yn.R,Vn),qe(yn.qa,yn.ra-Jn,Kn,$n+8*yn.B,Jn),qe(yn.Ha,yn.Ia-Jn,yr,br+8*yn.B,Jn))}if(!Bn)return Ir(vn,6,"Output aborted.")}return 1}(xi,vi)),vi.bc!=null&&vi.bc(vi),Oi&=1}return Oi?(xi.cb=0,Oi):0}function fo(xi,vi,Oi,ji,qi){qi=xi[vi+Oi+32*ji]+(qi>>3),xi[vi+Oi+32*ji]=-256&qi?0>qi?0:255:qi}function fs(xi,vi,Oi,ji,qi,Zi){fo(xi,vi,0,Oi,ji+qi),fo(xi,vi,1,Oi,ji+Zi),fo(xi,vi,2,Oi,ji-Zi),fo(xi,vi,3,Oi,ji-qi)}function Kr(xi){return(20091*xi>>16)+xi}function $s(xi,vi,Oi,ji){var qi,Zi=0,Ji=Ye(16);for(qi=0;4>qi;++qi){var en=xi[vi+0]+xi[vi+8],rn=xi[vi+0]-xi[vi+8],un=(35468*xi[vi+4]>>16)-Kr(xi[vi+12]),xn=Kr(xi[vi+4])+(35468*xi[vi+12]>>16);Ji[Zi+0]=en+xn,Ji[Zi+1]=rn+un,Ji[Zi+2]=rn-un,Ji[Zi+3]=en-xn,Zi+=4,vi++}for(qi=Zi=0;4>qi;++qi)en=(xi=Ji[Zi+0]+4)+Ji[Zi+8],rn=xi-Ji[Zi+8],un=(35468*Ji[Zi+4]>>16)-Kr(Ji[Zi+12]),fo(Oi,ji,0,0,en+(xn=Kr(Ji[Zi+4])+(35468*Ji[Zi+12]>>16))),fo(Oi,ji,1,0,rn+un),fo(Oi,ji,2,0,rn-un),fo(Oi,ji,3,0,en-xn),Zi++,ji+=32}function wa(xi,vi,Oi,ji){var qi=xi[vi+0]+4,Zi=35468*xi[vi+4]>>16,Ji=Kr(xi[vi+4]),en=35468*xi[vi+1]>>16;fs(Oi,ji,0,qi+Ji,xi=Kr(xi[vi+1]),en),fs(Oi,ji,1,qi+Zi,xi,en),fs(Oi,ji,2,qi-Zi,xi,en),fs(Oi,ji,3,qi-Ji,xi,en)}function ul(xi,vi,Oi,ji,qi){$s(xi,vi,Oi,ji),qi&&$s(xi,vi+16,Oi,ji+4)}function ba(xi,vi,Oi,ji){Ds(xi,vi+0,Oi,ji,1),Ds(xi,vi+32,Oi,ji+128,1)}function cl(xi,vi,Oi,ji){var qi;for(xi=xi[vi+0]+4,qi=0;4>qi;++qi)for(vi=0;4>vi;++vi)fo(Oi,ji,vi,qi,xi)}function va(xi,vi,Oi,ji){xi[vi+0]&&bo(xi,vi+0,Oi,ji),xi[vi+16]&&bo(xi,vi+16,Oi,ji+4),xi[vi+32]&&bo(xi,vi+32,Oi,ji+128),xi[vi+48]&&bo(xi,vi+48,Oi,ji+128+4)}function hl(xi,vi,Oi,ji){var qi,Zi=Ye(16);for(qi=0;4>qi;++qi){var Ji=xi[vi+0+qi]+xi[vi+12+qi],en=xi[vi+4+qi]+xi[vi+8+qi],rn=xi[vi+4+qi]-xi[vi+8+qi],un=xi[vi+0+qi]-xi[vi+12+qi];Zi[0+qi]=Ji+en,Zi[8+qi]=Ji-en,Zi[4+qi]=un+rn,Zi[12+qi]=un-rn}for(qi=0;4>qi;++qi)Ji=(xi=Zi[0+4*qi]+3)+Zi[3+4*qi],en=Zi[1+4*qi]+Zi[2+4*qi],rn=Zi[1+4*qi]-Zi[2+4*qi],un=xi-Zi[3+4*qi],Oi[ji+0]=Ji+en>>3,Oi[ji+16]=un+rn>>3,Oi[ji+32]=Ji-en>>3,Oi[ji+48]=un-rn>>3,ji+=64}function js(xi,vi,Oi){var ji,qi=vi-32,Zi=no,Ji=255-xi[qi-1];for(ji=0;ji<Oi;++ji){var en,rn=Zi,un=Ji+xi[vi-1];for(en=0;en<Oi;++en)xi[vi+en]=rn[un+xi[qi+en]];vi+=32}}function dl(xi,vi){js(xi,vi,4)}function ml(xi,vi){js(xi,vi,8)}function pl(xi,vi){js(xi,vi,16)}function Lo(xi,vi){var Oi;for(Oi=0;16>Oi;++Oi)qe(xi,vi+32*Oi,xi,vi-32,16)}function ps(xi,vi){var Oi;for(Oi=16;0<Oi;--Oi)Xe(xi,vi,xi[vi-1],16),vi+=32}function gs(xi,vi,Oi){var ji;for(ji=0;16>ji;++ji)Xe(vi,Oi+32*ji,xi,16)}function Sa(xi,vi){var Oi,ji=16;for(Oi=0;16>Oi;++Oi)ji+=xi[vi-1+32*Oi]+xi[vi+Oi-32];gs(ji>>5,xi,vi)}function Wr(xi,vi){var Oi,ji=8;for(Oi=0;16>Oi;++Oi)ji+=xi[vi-1+32*Oi];gs(ji>>4,xi,vi)}function gl(xi,vi){var Oi,ji=8;for(Oi=0;16>Oi;++Oi)ji+=xi[vi+Oi-32];gs(ji>>4,xi,vi)}function Aa(xi,vi){gs(128,xi,vi)}function sr(xi,vi,Oi){return xi+2*vi+Oi+2>>2}function xl(xi,vi){var Oi,ji=vi-32;for(ji=new Uint8Array([sr(xi[ji-1],xi[ji+0],xi[ji+1]),sr(xi[ji+0],xi[ji+1],xi[ji+2]),sr(xi[ji+1],xi[ji+2],xi[ji+3]),sr(xi[ji+2],xi[ji+3],xi[ji+4])]),Oi=0;4>Oi;++Oi)qe(xi,vi+32*Oi,ji,0,ji.length)}function yl(xi,vi){var Oi=xi[vi-1],ji=xi[vi-1+32],qi=xi[vi-1+64],Zi=xi[vi-1+96];Ei(xi,vi+0,16843009*sr(xi[vi-1-32],Oi,ji)),Ei(xi,vi+32,16843009*sr(Oi,ji,qi)),Ei(xi,vi+64,16843009*sr(ji,qi,Zi)),Ei(xi,vi+96,16843009*sr(qi,Zi,Zi))}function Co(xi,vi){var Oi,ji=4;for(Oi=0;4>Oi;++Oi)ji+=xi[vi+Oi-32]+xi[vi-1+32*Oi];for(ji>>=3,Oi=0;4>Oi;++Oi)Xe(xi,vi+32*Oi,ji,4)}function Ca(xi,vi){var Oi=xi[vi-1+0],ji=xi[vi-1+32],qi=xi[vi-1+64],Zi=xi[vi-1-32],Ji=xi[vi+0-32],en=xi[vi+1-32],rn=xi[vi+2-32],un=xi[vi+3-32];xi[vi+0+96]=sr(ji,qi,xi[vi-1+96]),xi[vi+1+96]=xi[vi+0+64]=sr(Oi,ji,qi),xi[vi+2+96]=xi[vi+1+64]=xi[vi+0+32]=sr(Zi,Oi,ji),xi[vi+3+96]=xi[vi+2+64]=xi[vi+1+32]=xi[vi+0+0]=sr(Ji,Zi,Oi),xi[vi+3+64]=xi[vi+2+32]=xi[vi+1+0]=sr(en,Ji,Zi),xi[vi+3+32]=xi[vi+2+0]=sr(rn,en,Ji),xi[vi+3+0]=sr(un,rn,en)}function Pa(xi,vi){var Oi=xi[vi+1-32],ji=xi[vi+2-32],qi=xi[vi+3-32],Zi=xi[vi+4-32],Ji=xi[vi+5-32],en=xi[vi+6-32],rn=xi[vi+7-32];xi[vi+0+0]=sr(xi[vi+0-32],Oi,ji),xi[vi+1+0]=xi[vi+0+32]=sr(Oi,ji,qi),xi[vi+2+0]=xi[vi+1+32]=xi[vi+0+64]=sr(ji,qi,Zi),xi[vi+3+0]=xi[vi+2+32]=xi[vi+1+64]=xi[vi+0+96]=sr(qi,Zi,Ji),xi[vi+3+32]=xi[vi+2+64]=xi[vi+1+96]=sr(Zi,Ji,en),xi[vi+3+64]=xi[vi+2+96]=sr(Ji,en,rn),xi[vi+3+96]=sr(en,rn,rn)}function xs(xi,vi){var Oi=xi[vi-1+0],ji=xi[vi-1+32],qi=xi[vi-1+64],Zi=xi[vi-1-32],Ji=xi[vi+0-32],en=xi[vi+1-32],rn=xi[vi+2-32],un=xi[vi+3-32];xi[vi+0+0]=xi[vi+1+64]=Zi+Ji+1>>1,xi[vi+1+0]=xi[vi+2+64]=Ji+en+1>>1,xi[vi+2+0]=xi[vi+3+64]=en+rn+1>>1,xi[vi+3+0]=rn+un+1>>1,xi[vi+0+96]=sr(qi,ji,Oi),xi[vi+0+64]=sr(ji,Oi,Zi),xi[vi+0+32]=xi[vi+1+96]=sr(Oi,Zi,Ji),xi[vi+1+32]=xi[vi+2+96]=sr(Zi,Ji,en),xi[vi+2+32]=xi[vi+3+96]=sr(Ji,en,rn),xi[vi+3+32]=sr(en,rn,un)}function Vs(xi,vi){var Oi=xi[vi+0-32],ji=xi[vi+1-32],qi=xi[vi+2-32],Zi=xi[vi+3-32],Ji=xi[vi+4-32],en=xi[vi+5-32],rn=xi[vi+6-32],un=xi[vi+7-32];xi[vi+0+0]=Oi+ji+1>>1,xi[vi+1+0]=xi[vi+0+64]=ji+qi+1>>1,xi[vi+2+0]=xi[vi+1+64]=qi+Zi+1>>1,xi[vi+3+0]=xi[vi+2+64]=Zi+Ji+1>>1,xi[vi+0+32]=sr(Oi,ji,qi),xi[vi+1+32]=xi[vi+0+96]=sr(ji,qi,Zi),xi[vi+2+32]=xi[vi+1+96]=sr(qi,Zi,Ji),xi[vi+3+32]=xi[vi+2+96]=sr(Zi,Ji,en),xi[vi+3+64]=sr(Ji,en,rn),xi[vi+3+96]=sr(en,rn,un)}function wl(xi,vi){var Oi=xi[vi-1+0],ji=xi[vi-1+32],qi=xi[vi-1+64],Zi=xi[vi-1+96];xi[vi+0+0]=Oi+ji+1>>1,xi[vi+2+0]=xi[vi+0+32]=ji+qi+1>>1,xi[vi+2+32]=xi[vi+0+64]=qi+Zi+1>>1,xi[vi+1+0]=sr(Oi,ji,qi),xi[vi+3+0]=xi[vi+1+32]=sr(ji,qi,Zi),xi[vi+3+32]=xi[vi+1+64]=sr(qi,Zi,Zi),xi[vi+3+64]=xi[vi+2+64]=xi[vi+0+96]=xi[vi+1+96]=xi[vi+2+96]=xi[vi+3+96]=Zi}function bl(xi,vi){var Oi=xi[vi-1+0],ji=xi[vi-1+32],qi=xi[vi-1+64],Zi=xi[vi-1+96],Ji=xi[vi-1-32],en=xi[vi+0-32],rn=xi[vi+1-32],un=xi[vi+2-32];xi[vi+0+0]=xi[vi+2+32]=Oi+Ji+1>>1,xi[vi+0+32]=xi[vi+2+64]=ji+Oi+1>>1,xi[vi+0+64]=xi[vi+2+96]=qi+ji+1>>1,xi[vi+0+96]=Zi+qi+1>>1,xi[vi+3+0]=sr(en,rn,un),xi[vi+2+0]=sr(Ji,en,rn),xi[vi+1+0]=xi[vi+3+32]=sr(Oi,Ji,en),xi[vi+1+32]=xi[vi+3+64]=sr(ji,Oi,Ji),xi[vi+1+64]=xi[vi+3+96]=sr(qi,ji,Oi),xi[vi+1+96]=sr(Zi,qi,ji)}function vl(xi,vi){var Oi;for(Oi=0;8>Oi;++Oi)qe(xi,vi+32*Oi,xi,vi-32,8)}function Us(xi,vi){var Oi;for(Oi=0;8>Oi;++Oi)Xe(xi,vi,xi[vi-1],8),vi+=32}function os(xi,vi,Oi){var ji;for(ji=0;8>ji;++ji)Xe(vi,Oi+32*ji,xi,8)}function Uo(xi,vi){var Oi,ji=8;for(Oi=0;8>Oi;++Oi)ji+=xi[vi+Oi-32]+xi[vi-1+32*Oi];os(ji>>4,xi,vi)}function Sl(xi,vi){var Oi,ji=4;for(Oi=0;8>Oi;++Oi)ji+=xi[vi+Oi-32];os(ji>>3,xi,vi)}function ss(xi,vi){var Oi,ji=4;for(Oi=0;8>Oi;++Oi)ji+=xi[vi-1+32*Oi];os(ji>>3,xi,vi)}function zs(xi,vi){os(128,xi,vi)}function ys(xi,vi,Oi){var ji=xi[vi-Oi],qi=xi[vi+0],Zi=3*(qi-ji)+Tl[1020+xi[vi-2*Oi]-xi[vi+Oi]],Ji=Ra[112+(Zi+4>>3)];xi[vi-Oi]=no[255+ji+Ra[112+(Zi+3>>3)]],xi[vi+0]=no[255+qi-Ji]}function Ma(xi,vi,Oi,ji){var qi=xi[vi+0],Zi=xi[vi+Oi];return uo[255+xi[vi-2*Oi]-xi[vi-Oi]]>ji||uo[255+Zi-qi]>ji}function Da(xi,vi,Oi,ji){return 4*uo[255+xi[vi-Oi]-xi[vi+0]]+uo[255+xi[vi-2*Oi]-xi[vi+Oi]]<=ji}function ka(xi,vi,Oi,ji,qi){var Zi=xi[vi-3*Oi],Ji=xi[vi-2*Oi],en=xi[vi-Oi],rn=xi[vi+0],un=xi[vi+Oi],xn=xi[vi+2*Oi],kn=xi[vi+3*Oi];return 4*uo[255+en-rn]+uo[255+Ji-un]>ji?0:uo[255+xi[vi-4*Oi]-Zi]<=qi&&uo[255+Zi-Ji]<=qi&&uo[255+Ji-en]<=qi&&uo[255+kn-xn]<=qi&&uo[255+xn-un]<=qi&&uo[255+un-rn]<=qi}function Ta(xi,vi,Oi,ji){var qi=2*ji+1;for(ji=0;16>ji;++ji)Da(xi,vi+ji,Oi,qi)&&ys(xi,vi+ji,Oi)}function Eo(xi,vi,Oi,ji){var qi=2*ji+1;for(ji=0;16>ji;++ji)Da(xi,vi+ji*Oi,1,qi)&&ys(xi,vi+ji*Oi,1)}function zo(xi,vi,Oi,ji){var qi;for(qi=3;0<qi;--qi)Ta(xi,vi+=4*Oi,Oi,ji)}function Al(xi,vi,Oi,ji){var qi;for(qi=3;0<qi;--qi)Eo(xi,vi+=4,Oi,ji)}function Ho(xi,vi,Oi,ji,qi,Zi,Ji,en){for(Zi=2*Zi+1;0<qi--;){if(ka(xi,vi,Oi,Zi,Ji))if(Ma(xi,vi,Oi,en))ys(xi,vi,Oi);else{var rn=xi,un=vi,xn=Oi,kn=rn[un-2*xn],Tn=rn[un-xn],vn=rn[un+0],jn=rn[un+xn],In=rn[un+2*xn],yn=27*(Bn=Tl[1020+3*(vn-Tn)+Tl[1020+kn-jn]])+63>>7,bn=18*Bn+63>>7,Bn=9*Bn+63>>7;rn[un-3*xn]=no[255+rn[un-3*xn]+Bn],rn[un-2*xn]=no[255+kn+bn],rn[un-xn]=no[255+Tn+yn],rn[un+0]=no[255+vn-yn],rn[un+xn]=no[255+jn-bn],rn[un+2*xn]=no[255+In-Bn]}vi+=ji}}function po(xi,vi,Oi,ji,qi,Zi,Ji,en){for(Zi=2*Zi+1;0<qi--;){if(ka(xi,vi,Oi,Zi,Ji))if(Ma(xi,vi,Oi,en))ys(xi,vi,Oi);else{var rn=xi,un=vi,xn=Oi,kn=rn[un-xn],Tn=rn[un+0],vn=rn[un+xn],jn=Ra[112+((In=3*(Tn-kn))+4>>3)],In=Ra[112+(In+3>>3)],yn=jn+1>>1;rn[un-2*xn]=no[255+rn[un-2*xn]+yn],rn[un-xn]=no[255+kn+In],rn[un+0]=no[255+Tn-jn],rn[un+xn]=no[255+vn-yn]}vi+=ji}}function Hs(xi,vi,Oi,ji,qi,Zi){Ho(xi,vi,Oi,1,16,ji,qi,Zi)}function as(xi,vi,Oi,ji,qi,Zi){Ho(xi,vi,1,Oi,16,ji,qi,Zi)}function _l(xi,vi,Oi,ji,qi,Zi){var Ji;for(Ji=3;0<Ji;--Ji)po(xi,vi+=4*Oi,Oi,1,16,ji,qi,Zi)}function ws(xi,vi,Oi,ji,qi,Zi){var Ji;for(Ji=3;0<Ji;--Ji)po(xi,vi+=4,1,Oi,16,ji,qi,Zi)}function Cl(xi,vi,Oi,ji,qi,Zi,Ji,en){Ho(xi,vi,qi,1,8,Zi,Ji,en),Ho(Oi,ji,qi,1,8,Zi,Ji,en)}function qs(xi,vi,Oi,ji,qi,Zi,Ji,en){Ho(xi,vi,1,qi,8,Zi,Ji,en),Ho(Oi,ji,1,qi,8,Zi,Ji,en)}function Xs(xi,vi,Oi,ji,qi,Zi,Ji,en){po(xi,vi+4*qi,qi,1,8,Zi,Ji,en),po(Oi,ji+4*qi,qi,1,8,Zi,Ji,en)}function La(xi,vi,Oi,ji,qi,Zi,Ji,en){po(xi,vi+4,1,qi,8,Zi,Ji,en),po(Oi,ji+4,1,qi,8,Zi,Ji,en)}function bs(){this.ba=new mr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new rr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ws(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ys(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ea(){this.ua=0,this.Wa=new Di,this.vb=new Di,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Si,this.yc=new yi}function Pl(){this.xb=this.a=0,this.l=new ms,this.ca=new mr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Ti,this.Pb=0,this.wd=new Ti,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ea,this.ab=0,this.gc=Ke(4,Ys),this.Oc=0}function vs(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ms,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ls(xi,vi,Oi,ji,qi,Zi,Ji){for(xi=xi==null?0:xi[vi+0],vi=0;vi<Ji;++vi)qi[Zi+vi]=xi+Oi[ji+vi]&255,xi=qi[Zi+vi]}function Gs(xi,vi,Oi,ji,qi,Zi,Ji){var en;if(xi==null)ls(null,null,Oi,ji,qi,Zi,Ji);else for(en=0;en<Ji;++en)qi[Zi+en]=xi[vi+en]+Oi[ji+en]&255}function qo(xi,vi,Oi,ji,qi,Zi,Ji){if(xi==null)ls(null,null,Oi,ji,qi,Zi,Ji);else{var en,rn=xi[vi+0],un=rn,xn=rn;for(en=0;en<Ji;++en)un=xn+(rn=xi[vi+en])-un,xn=Oi[ji+en]+(-256&un?0>un?0:255:un)&255,un=rn,qi[Zi+en]=xn}}function Ks(xi,vi,Oi,ji){var qi=vi.width,Zi=vi.o;if(je(xi!=null&&vi!=null),0>Oi||0>=ji||Oi+ji>Zi)return null;if(!xi.Cc){if(xi.ga==null){var Ji;if(xi.ga=new vs,(Ji=xi.ga==null)||(Ji=vi.width*vi.o,je(xi.Gb.length==0),xi.Gb=Ye(Ji),xi.Uc=0,xi.Gb==null?Ji=0:(xi.mb=xi.Gb,xi.nb=xi.Uc,xi.rc=null,Ji=1),Ji=!Ji),!Ji){Ji=xi.ga;var en=xi.Fa,rn=xi.P,un=xi.qc,xn=xi.mb,kn=xi.nb,Tn=rn+1,vn=un-1,jn=Ji.l;if(je(en!=null&&xn!=null&&vi!=null),Jo[0]=null,Jo[1]=ls,Jo[2]=Gs,Jo[3]=qo,Ji.ca=xn,Ji.tb=kn,Ji.c=vi.width,Ji.i=vi.height,je(0<Ji.c&&0<Ji.i),1>=un)vi=0;else if(Ji.$a=en[rn+0]>>0&3,Ji.Z=en[rn+0]>>2&3,Ji.Lc=en[rn+0]>>4&3,rn=en[rn+0]>>6&3,0>Ji.$a||1<Ji.$a||4<=Ji.Z||1<Ji.Lc||rn)vi=0;else if(jn.put=fn,jn.ac=Yi,jn.bc=Sn,jn.ma=Ji,jn.width=vi.width,jn.height=vi.height,jn.Da=vi.Da,jn.v=vi.v,jn.va=vi.va,jn.j=vi.j,jn.o=vi.o,Ji.$a)e:{je(Ji.$a==1),vi=Lr();t:for(;;){if(vi==null){vi=0;break e}if(je(Ji!=null),Ji.mc=vi,vi.c=Ji.c,vi.i=Ji.i,vi.l=Ji.l,vi.l.ma=Ji,vi.l.width=Ji.c,vi.l.height=Ji.i,vi.a=0,Pi(vi.m,en,Tn,vn),!qr(Ji.c,Ji.i,1,vi,null)||(vi.ab==1&&vi.gc[0].hc==3&&Ar(vi.s)?(Ji.ic=1,en=vi.c*vi.i,vi.Ta=null,vi.Ua=0,vi.V=Ye(en),vi.Ba=0,vi.V==null?(vi.a=1,vi=0):vi=1):(Ji.ic=0,vi=Vr(vi,Ji.c)),!vi))break t;vi=1;break e}Ji.mc=null,vi=0}else vi=vn>=Ji.c*Ji.i;Ji=!vi}if(Ji)return null;xi.ga.Lc!=1?xi.Ga=0:ji=Zi-Oi}je(xi.ga!=null),je(Oi+ji<=Zi);e:{if(vi=(en=xi.ga).c,Zi=en.l.o,en.$a==0){if(Tn=xi.rc,vn=xi.Vc,jn=xi.Fa,rn=xi.P+1+Oi*vi,un=xi.mb,xn=xi.nb+Oi*vi,je(rn<=xi.P+xi.qc),en.Z!=0)for(je(Jo[en.Z]!=null),Ji=0;Ji<ji;++Ji)Jo[en.Z](Tn,vn,jn,rn,un,xn,vi),Tn=un,vn=xn,xn+=vi,rn+=vi;else for(Ji=0;Ji<ji;++Ji)qe(un,xn,jn,rn,vi),Tn=un,vn=xn,xn+=vi,rn+=vi;xi.rc=Tn,xi.Vc=vn}else{if(je(en.mc!=null),vi=Oi+ji,je((Ji=en.mc)!=null),je(vi<=Ji.i),Ji.C>=vi)vi=1;else if(en.ic||Pn(),en.ic){en=Ji.V,Tn=Ji.Ba,vn=Ji.c;var In=Ji.i,yn=(jn=1,rn=Ji.$/vn,un=Ji.$%vn,xn=Ji.m,kn=Ji.s,Ji.$),bn=vn*In,Bn=vn*vi,Vn=kn.wc,$n=yn<Bn?cr(kn,un,rn):null;je(yn<=bn),je(vi<=In),je(Ar(kn));t:for(;;){for(;!xn.h&&yn<Bn;){if(un&Vn||($n=cr(kn,un,rn)),je($n!=null),Wi(xn),256>(In=fr($n.G[0],$n.H[0],xn)))en[Tn+yn]=In,++yn,++un>=vn&&(un=0,++rn<=vi&&!(rn%16)&&wr(Ji,rn));else{if(!(280>In)){jn=0;break t}In=qn(In-256,xn);var Jn,Gn=fr($n.G[4],$n.H[4],xn);if(Wi(xn),!(yn>=(Gn=Wn(vn,Gn=qn(Gn,xn)))&&bn-yn>=In)){jn=0;break t}for(Jn=0;Jn<In;++Jn)en[Tn+yn+Jn]=en[Tn+yn+Jn-Gn];for(yn+=In,un+=In;un>=vn;)un-=vn,++rn<=vi&&!(rn%16)&&wr(Ji,rn);yn<Bn&&un&Vn&&($n=cr(kn,un,rn))}je(xn.h==Ui(xn))}wr(Ji,rn>vi?vi:rn);break t}!jn||xn.h&&yn<bn?(jn=0,Ji.a=xn.h?5:3):Ji.$=yn,vi=jn}else vi=kr(Ji,Ji.V,Ji.Ba,Ji.c,Ji.i,vi,mo);if(!vi){ji=0;break e}}Oi+ji>=Zi&&(xi.Cc=1),ji=1}if(!ji)return null;if(xi.Cc&&((ji=xi.ga)!=null&&(ji.mc=null),xi.ga=null,0<xi.Ga))return alert("todo:WebPDequantizeLevels"),null}return xi.nb+Oi*qi}function Mi(xi,vi,Oi,ji,qi,Zi){for(;0<qi--;){var Ji,en=xi,rn=vi+(Oi?1:0),un=xi,xn=vi+(Oi?0:3);for(Ji=0;Ji<ji;++Ji){var kn=un[xn+4*Ji];kn!=255&&(kn*=32897,en[rn+4*Ji+0]=en[rn+4*Ji+0]*kn>>23,en[rn+4*Ji+1]=en[rn+4*Ji+1]*kn>>23,en[rn+4*Ji+2]=en[rn+4*Ji+2]*kn>>23)}vi+=Zi}}function Xi(xi,vi,Oi,ji,qi){for(;0<ji--;){var Zi;for(Zi=0;Zi<Oi;++Zi){var Ji=xi[vi+2*Zi+0],en=15&(un=xi[vi+2*Zi+1]),rn=4369*en,un=(240&un|un>>4)*rn>>16;xi[vi+2*Zi+0]=(240&Ji|Ji>>4)*rn>>16&240|(15&Ji|Ji<<4)*rn>>16>>4&15,xi[vi+2*Zi+1]=240&un|en}vi+=qi}}function hn(xi,vi,Oi,ji,qi,Zi,Ji,en){var rn,un,xn=255;for(un=0;un<qi;++un){for(rn=0;rn<ji;++rn){var kn=xi[vi+rn];Zi[Ji+4*rn]=kn,xn&=kn}vi+=Oi,Ji+=en}return xn!=255}function gn(xi,vi,Oi,ji,qi){var Zi;for(Zi=0;Zi<qi;++Zi)Oi[ji+Zi]=xi[vi+Zi]>>8}function Pn(){Ko=Mi,Ts=Xi,Na=hn,iu=gn}function Rn(xi,vi,Oi){mi[xi]=function(ji,qi,Zi,Ji,en,rn,un,xn,kn,Tn,vn,jn,In,yn,bn,Bn,Vn){var $n,Jn=Vn-1>>1,Gn=en[rn+0]|un[xn+0]<<16,ir=kn[Tn+0]|vn[jn+0]<<16;je(ji!=null);var Kn=3*Gn+ir+131074>>2;for(vi(ji[qi+0],255&Kn,Kn>>16,In,yn),Zi!=null&&(Kn=3*ir+Gn+131074>>2,vi(Zi[Ji+0],255&Kn,Kn>>16,bn,Bn)),$n=1;$n<=Jn;++$n){var yr=en[rn+$n]|un[xn+$n]<<16,br=kn[Tn+$n]|vn[jn+$n]<<16,xr=Gn+yr+ir+br+524296,pr=xr+2*(yr+ir)>>3;Kn=pr+Gn>>1,Gn=(xr=xr+2*(Gn+br)>>3)+yr>>1,vi(ji[qi+2*$n-1],255&Kn,Kn>>16,In,yn+(2*$n-1)*Oi),vi(ji[qi+2*$n-0],255&Gn,Gn>>16,In,yn+(2*$n-0)*Oi),Zi!=null&&(Kn=xr+ir>>1,Gn=pr+br>>1,vi(Zi[Ji+2*$n-1],255&Kn,Kn>>16,bn,Bn+(2*$n-1)*Oi),vi(Zi[Ji+2*$n+0],255&Gn,Gn>>16,bn,Bn+(2*$n+0)*Oi)),Gn=yr,ir=br}1&Vn||(Kn=3*Gn+ir+131074>>2,vi(ji[qi+Vn-1],255&Kn,Kn>>16,In,yn+(Vn-1)*Oi),Zi!=null&&(Kn=3*ir+Gn+131074>>2,vi(Zi[Ji+Vn-1],255&Kn,Kn>>16,bn,Bn+(Vn-1)*Oi)))}}function Un(){co[Fa]=mc,co[Ba]=mu,co[lu]=fc,co[$a]=fu,co[ja]=pu,co[Ll]=gu,co[uu]=pc,co[El]=mu,co[Ol]=fu,co[Va]=pu,co[Il]=gu}function Zn(xi){return xi&~gc?0>xi?0:255:xi>>xu}function er(xi,vi){return Zn((19077*xi>>8)+(26149*vi>>8)-14234)}function lr(xi,vi,Oi){return Zn((19077*xi>>8)-(6419*vi>>8)-(13320*Oi>>8)+8708)}function dr(xi,vi){return Zn((19077*xi>>8)+(33050*vi>>8)-17685)}function gr(xi,vi,Oi,ji,qi){ji[qi+0]=er(xi,Oi),ji[qi+1]=lr(xi,vi,Oi),ji[qi+2]=dr(xi,vi)}function Tr(xi,vi,Oi,ji,qi){ji[qi+0]=dr(xi,vi),ji[qi+1]=lr(xi,vi,Oi),ji[qi+2]=er(xi,Oi)}function Er(xi,vi,Oi,ji,qi){var Zi=lr(xi,vi,Oi);vi=Zi<<3&224|dr(xi,vi)>>3,ji[qi+0]=248&er(xi,Oi)|Zi>>5,ji[qi+1]=vi}function Fr(xi,vi,Oi,ji,qi){var Zi=240&dr(xi,vi)|15;ji[qi+0]=240&er(xi,Oi)|lr(xi,vi,Oi)>>4,ji[qi+1]=Zi}function Yr(xi,vi,Oi,ji,qi){ji[qi+0]=255,gr(xi,vi,Oi,ji,qi+1)}function Ur(xi,vi,Oi,ji,qi){Tr(xi,vi,Oi,ji,qi),ji[qi+3]=255}function go(xi,vi,Oi,ji,qi){gr(xi,vi,Oi,ji,qi),ji[qi+3]=255}function io(xi,vi){return 0>xi?0:xi>vi?vi:xi}function Oo(xi,vi,Oi){mi[xi]=function(ji,qi,Zi,Ji,en,rn,un,xn,kn){for(var Tn=xn+(-2&kn)*Oi;xn!=Tn;)vi(ji[qi+0],Zi[Ji+0],en[rn+0],un,xn),vi(ji[qi+1],Zi[Ji+0],en[rn+0],un,xn+Oi),qi+=2,++Ji,++rn,xn+=2*Oi;1&kn&&vi(ji[qi+0],Zi[Ji+0],en[rn+0],un,xn)}}function Oa(xi,vi,Oi){return Oi==0?xi==0?vi==0?6:5:vi==0?4:0:Oi}function Zs(xi,vi,Oi,ji,qi){switch(xi>>>30){case 3:Ds(vi,Oi,ji,qi,0);break;case 2:ra(vi,Oi,ji,qi);break;case 1:bo(vi,Oi,ji,qi)}}function Js(xi,vi){var Oi,ji,qi=vi.M,Zi=vi.Nb,Ji=xi.oc,en=xi.pc+40,rn=xi.oc,un=xi.pc+584,xn=xi.oc,kn=xi.pc+600;for(Oi=0;16>Oi;++Oi)Ji[en+32*Oi-1]=129;for(Oi=0;8>Oi;++Oi)rn[un+32*Oi-1]=129,xn[kn+32*Oi-1]=129;for(0<qi?Ji[en-1-32]=rn[un-1-32]=xn[kn-1-32]=129:(Xe(Ji,en-32-1,127,21),Xe(rn,un-32-1,127,9),Xe(xn,kn-32-1,127,9)),ji=0;ji<xi.za;++ji){var Tn=vi.ya[vi.aa+ji];if(0<ji){for(Oi=-1;16>Oi;++Oi)qe(Ji,en+32*Oi-4,Ji,en+32*Oi+12,4);for(Oi=-1;8>Oi;++Oi)qe(rn,un+32*Oi-4,rn,un+32*Oi+4,4),qe(xn,kn+32*Oi-4,xn,kn+32*Oi+4,4)}var vn=xi.Gd,jn=xi.Hd+ji,In=Tn.ad,yn=Tn.Hc;if(0<qi&&(qe(Ji,en-32,vn[jn].y,0,16),qe(rn,un-32,vn[jn].f,0,8),qe(xn,kn-32,vn[jn].ea,0,8)),Tn.Za){var bn=Ji,Bn=en-32+16;for(0<qi&&(ji>=xi.za-1?Xe(bn,Bn,vn[jn].y[15],4):qe(bn,Bn,vn[jn+1].y,0,4)),Oi=0;4>Oi;Oi++)bn[Bn+128+Oi]=bn[Bn+256+Oi]=bn[Bn+384+Oi]=bn[Bn+0+Oi];for(Oi=0;16>Oi;++Oi,yn<<=2)bn=Ji,Bn=en+wu[Oi],vo[Tn.Ob[Oi]](bn,Bn),Zs(yn,In,16*+Oi,bn,Bn)}else if(bn=Oa(ji,qi,Tn.Ob[0]),Zo[bn](Ji,en),yn!=0)for(Oi=0;16>Oi;++Oi,yn<<=2)Zs(yn,In,16*+Oi,Ji,en+wu[Oi]);for(Oi=Tn.Gc,bn=Oa(ji,qi,Tn.Dd),Bo[bn](rn,un),Bo[bn](xn,kn),yn=In,bn=rn,Bn=un,255&(Tn=Oi>>0)&&(170&Tn?Yo(yn,256,bn,Bn):No(yn,256,bn,Bn)),Tn=xn,yn=kn,255&(Oi>>=8)&&(170&Oi?Yo(In,320,Tn,yn):No(In,320,Tn,yn)),qi<xi.Ub-1&&(qe(vn[jn].y,0,Ji,en+480,16),qe(vn[jn].f,0,rn,un+224,8),qe(vn[jn].ea,0,xn,kn+224,8)),Oi=8*Zi*xi.B,vn=xi.sa,jn=xi.ta+16*ji+16*Zi*xi.R,In=xi.qa,Tn=xi.ra+8*ji+Oi,yn=xi.Ha,bn=xi.Ia+8*ji+Oi,Oi=0;16>Oi;++Oi)qe(vn,jn+Oi*xi.R,Ji,en+32*Oi,16);for(Oi=0;8>Oi;++Oi)qe(In,Tn+Oi*xi.B,rn,un+32*Oi,8),qe(yn,bn+Oi*xi.B,xn,kn+32*Oi,8)}}function Ss(xi,vi,Oi,ji,qi,Zi,Ji,en,rn){var un=[0],xn=[0],kn=0,Tn=rn!=null?rn.kd:0,vn=rn??new Ws;if(xi==null||12>Oi)return 7;vn.data=xi,vn.w=vi,vn.ha=Oi,vi=[vi],Oi=[Oi],vn.gb=[vn.gb];e:{var jn=vi,In=Oi,yn=vn.gb;if(je(xi!=null),je(In!=null),je(yn!=null),yn[0]=0,12<=In[0]&&!ze(xi,jn[0],"RIFF")){if(ze(xi,jn[0]+8,"WEBP")){yn=3;break e}var bn=_i(xi,jn[0]+4);if(12>bn||4294967286<bn){yn=3;break e}if(Tn&&bn>In[0]-8){yn=7;break e}yn[0]=bn,jn[0]+=12,In[0]-=12}yn=0}if(yn!=0)return yn;for(bn=0<vn.gb[0],Oi=Oi[0];;){e:{var Bn=xi;In=vi,yn=Oi;var Vn=un,$n=xn,Jn=jn=[0];if((Kn=kn=[kn])[0]=0,8>yn[0])yn=7;else{if(!ze(Bn,In[0],"VP8X")){if(_i(Bn,In[0]+4)!=10){yn=3;break e}if(18>yn[0]){yn=7;break e}var Gn=_i(Bn,In[0]+8),ir=1+Ci(Bn,In[0]+12);if(2147483648<=ir*(Bn=1+Ci(Bn,In[0]+15))){yn=3;break e}Jn!=null&&(Jn[0]=Gn),Vn!=null&&(Vn[0]=ir),$n!=null&&($n[0]=Bn),In[0]+=18,yn[0]-=18,Kn[0]=1}yn=0}}if(kn=kn[0],jn=jn[0],yn!=0)return yn;if(In=!!(2&jn),!bn&&kn)return 3;if(Zi!=null&&(Zi[0]=!!(16&jn)),Ji!=null&&(Ji[0]=In),en!=null&&(en[0]=0),Ji=un[0],jn=xn[0],kn&&In&&rn==null){yn=0;break}if(4>Oi){yn=7;break}if(bn&&kn||!bn&&!kn&&!ze(xi,vi[0],"ALPH")){Oi=[Oi],vn.na=[vn.na],vn.P=[vn.P],vn.Sa=[vn.Sa];e:{Gn=xi,yn=vi,bn=Oi;var Kn=vn.gb;Vn=vn.na,$n=vn.P,Jn=vn.Sa,ir=22,je(Gn!=null),je(bn!=null),Bn=yn[0];var yr=bn[0];for(je(Vn!=null),je(Jn!=null),Vn[0]=null,$n[0]=null,Jn[0]=0;;){if(yn[0]=Bn,bn[0]=yr,8>yr){yn=7;break e}var br=_i(Gn,Bn+4);if(4294967286<br){yn=3;break e}var xr=8+br+1&-2;if(ir+=xr,0<Kn&&ir>Kn){yn=3;break e}if(!ze(Gn,Bn,"VP8 ")||!ze(Gn,Bn,"VP8L")){yn=0;break e}if(yr[0]<xr){yn=7;break e}ze(Gn,Bn,"ALPH")||(Vn[0]=Gn,$n[0]=Bn+8,Jn[0]=br),Bn+=xr,yr-=xr}}if(Oi=Oi[0],vn.na=vn.na[0],vn.P=vn.P[0],vn.Sa=vn.Sa[0],yn!=0)break}Oi=[Oi],vn.Ja=[vn.Ja],vn.xa=[vn.xa];e:if(Kn=xi,yn=vi,bn=Oi,Vn=vn.gb[0],$n=vn.Ja,Jn=vn.xa,Gn=yn[0],Bn=!ze(Kn,Gn,"VP8 "),ir=!ze(Kn,Gn,"VP8L"),je(Kn!=null),je(bn!=null),je($n!=null),je(Jn!=null),8>bn[0])yn=7;else{if(Bn||ir){if(Kn=_i(Kn,Gn+4),12<=Vn&&Kn>Vn-12){yn=3;break e}if(Tn&&Kn>bn[0]-8){yn=7;break e}$n[0]=Kn,yn[0]+=8,bn[0]-=8,Jn[0]=ir}else Jn[0]=5<=bn[0]&&Kn[Gn+0]==47&&!(Kn[Gn+4]>>5),$n[0]=bn[0];yn=0}if(Oi=Oi[0],vn.Ja=vn.Ja[0],vn.xa=vn.xa[0],vi=vi[0],yn!=0)break;if(4294967286<vn.Ja)return 3;if(en==null||In||(en[0]=vn.xa?2:1),Ji=[Ji],jn=[jn],vn.xa){if(5>Oi){yn=7;break}en=Ji,Tn=jn,In=Zi,xi==null||5>Oi?xi=0:5<=Oi&&xi[vi+0]==47&&!(xi[vi+4]>>5)?(bn=[0],Kn=[0],Vn=[0],Pi($n=new Ti,xi,vi,Oi),Dn($n,bn,Kn,Vn)?(en!=null&&(en[0]=bn[0]),Tn!=null&&(Tn[0]=Kn[0]),In!=null&&(In[0]=Vn[0]),xi=1):xi=0):xi=0}else{if(10>Oi){yn=7;break}en=jn,xi==null||10>Oi||!ga(xi,vi+3,Oi-3)?xi=0:(Tn=xi[vi+0]|xi[vi+1]<<8|xi[vi+2]<<16,In=16383&(xi[vi+7]<<8|xi[vi+6]),xi=16383&(xi[vi+9]<<8|xi[vi+8]),1&Tn||3<(Tn>>1&7)||!(Tn>>4&1)||Tn>>5>=vn.Ja||!In||!xi?xi=0:(Ji&&(Ji[0]=In),en&&(en[0]=xi),xi=1))}if(!xi||(Ji=Ji[0],jn=jn[0],kn&&(un[0]!=Ji||xn[0]!=jn)))return 3;rn!=null&&(rn[0]=vn,rn.offset=vi-rn.w,je(4294967286>vi-rn.w),je(rn.offset==rn.ha-Oi));break}return yn==0||yn==7&&kn&&rn==null?(Zi!=null&&(Zi[0]|=vn.na!=null&&0<vn.na.length),ji!=null&&(ji[0]=Ji),qi!=null&&(qi[0]=jn),0):yn}function Qs(xi,vi,Oi){var ji=vi.width,qi=vi.height,Zi=0,Ji=0,en=ji,rn=qi;if(vi.Da=xi!=null&&0<xi.Da,vi.Da&&(en=xi.cd,rn=xi.bd,Zi=xi.v,Ji=xi.j,11>Oi||(Zi&=-2,Ji&=-2),0>Zi||0>Ji||0>=en||0>=rn||Zi+en>ji||Ji+rn>qi))return 0;if(vi.v=Zi,vi.j=Ji,vi.va=Zi+en,vi.o=Ji+rn,vi.U=en,vi.T=rn,vi.da=xi!=null&&0<xi.da,vi.da){if(!Ki(en,rn,Oi=[xi.ib],Zi=[xi.hb]))return 0;vi.ib=Oi[0],vi.hb=Zi[0]}return vi.ob=xi!=null&&xi.ob,vi.Kb=xi==null||!xi.Sd,vi.da&&(vi.ob=vi.ib<3*ji/4&&vi.hb<3*qi/4,vi.Kb=0),1}function ea(xi){if(xi==null)return 2;if(11>xi.S){var vi=xi.f.RGBA;vi.fb+=(xi.height-1)*vi.A,vi.A=-vi.A}else vi=xi.f.kb,xi=xi.height,vi.O+=(xi-1)*vi.fa,vi.fa=-vi.fa,vi.N+=(xi-1>>1)*vi.Ab,vi.Ab=-vi.Ab,vi.W+=(xi-1>>1)*vi.Db,vi.Db=-vi.Db,vi.F!=null&&(vi.J+=(xi-1)*vi.lb,vi.lb=-vi.lb);return 0}function As(xi,vi,Oi,ji){if(ji==null||0>=xi||0>=vi)return 2;if(Oi!=null){if(Oi.Da){var qi=Oi.cd,Zi=Oi.bd,Ji=-2&Oi.v,en=-2&Oi.j;if(0>Ji||0>en||0>=qi||0>=Zi||Ji+qi>xi||en+Zi>vi)return 2;xi=qi,vi=Zi}if(Oi.da){if(!Ki(xi,vi,qi=[Oi.ib],Zi=[Oi.hb]))return 2;xi=qi[0],vi=Zi[0]}}ji.width=xi,ji.height=vi;e:{var rn=ji.width,un=ji.height;if(xi=ji.S,0>=rn||0>=un||!(xi>=Fa&&13>xi))xi=2;else{if(0>=ji.Rd&&ji.sd==null){Ji=Zi=qi=vi=0;var xn=(en=rn*bu[xi])*un;if(11>xi||(Zi=(un+1)/2*(vi=(rn+1)/2),xi==12&&(Ji=(qi=rn)*un)),(un=Ye(xn+2*Zi+Ji))==null){xi=1;break e}ji.sd=un,11>xi?((rn=ji.f.RGBA).eb=un,rn.fb=0,rn.A=en,rn.size=xn):((rn=ji.f.kb).y=un,rn.O=0,rn.fa=en,rn.Fd=xn,rn.f=un,rn.N=0+xn,rn.Ab=vi,rn.Cd=Zi,rn.ea=un,rn.W=0+xn+Zi,rn.Db=vi,rn.Ed=Zi,xi==12&&(rn.F=un,rn.J=0+xn+2*Zi),rn.Tc=Ji,rn.lb=qi)}if(vi=1,qi=ji.S,Zi=ji.width,Ji=ji.height,qi>=Fa&&13>qi)if(11>qi)xi=ji.f.RGBA,vi&=(en=Math.abs(xi.A))*(Ji-1)+Zi<=xi.size,vi&=en>=Zi*bu[qi],vi&=xi.eb!=null;else{xi=ji.f.kb,en=(Zi+1)/2,xn=(Ji+1)/2,rn=Math.abs(xi.fa),un=Math.abs(xi.Ab);var kn=Math.abs(xi.Db),Tn=Math.abs(xi.lb),vn=Tn*(Ji-1)+Zi;vi&=rn*(Ji-1)+Zi<=xi.Fd,vi&=un*(xn-1)+en<=xi.Cd,vi=(vi&=kn*(xn-1)+en<=xi.Ed)&rn>=Zi&un>=en&kn>=en,vi&=xi.y!=null,vi&=xi.f!=null,vi&=xi.ea!=null,qi==12&&(vi&=Tn>=Zi,vi&=vn<=xi.Tc,vi&=xi.F!=null)}else vi=0;xi=vi?0:2}}return xi!=0||Oi!=null&&Oi.fd&&(xi=ea(ji)),xi}var Zr=64,_s=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Cs=24,Ps=32,ta=8,Jr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];on("Predictor0","PredictorAdd0"),mi.Predictor0=function(){return 4278190080},mi.Predictor1=function(xi){return xi},mi.Predictor2=function(xi,vi,Oi){return vi[Oi+0]},mi.Predictor3=function(xi,vi,Oi){return vi[Oi+1]},mi.Predictor4=function(xi,vi,Oi){return vi[Oi-1]},mi.Predictor5=function(xi,vi,Oi){return mn(mn(xi,vi[Oi+1]),vi[Oi+0])},mi.Predictor6=function(xi,vi,Oi){return mn(xi,vi[Oi-1])},mi.Predictor7=function(xi,vi,Oi){return mn(xi,vi[Oi+0])},mi.Predictor8=function(xi,vi,Oi){return mn(vi[Oi-1],vi[Oi+0])},mi.Predictor9=function(xi,vi,Oi){return mn(vi[Oi+0],vi[Oi+1])},mi.Predictor10=function(xi,vi,Oi){return mn(mn(xi,vi[Oi-1]),mn(vi[Oi+0],vi[Oi+1]))},mi.Predictor11=function(xi,vi,Oi){var ji=vi[Oi+0];return 0>=pn(ji>>24&255,xi>>24&255,(vi=vi[Oi-1])>>24&255)+pn(ji>>16&255,xi>>16&255,vi>>16&255)+pn(ji>>8&255,xi>>8&255,vi>>8&255)+pn(255&ji,255&xi,255&vi)?ji:xi},mi.Predictor12=function(xi,vi,Oi){var ji=vi[Oi+0];return(dn((xi>>24&255)+(ji>>24&255)-((vi=vi[Oi-1])>>24&255))<<24|dn((xi>>16&255)+(ji>>16&255)-(vi>>16&255))<<16|dn((xi>>8&255)+(ji>>8&255)-(vi>>8&255))<<8|dn((255&xi)+(255&ji)-(255&vi)))>>>0},mi.Predictor13=function(xi,vi,Oi){var ji=vi[Oi-1];return(An((xi=mn(xi,vi[Oi+0]))>>24&255,ji>>24&255)<<24|An(xi>>16&255,ji>>16&255)<<16|An(xi>>8&255,ji>>8&255)<<8|An(xi>>0&255,ji>>0&255))>>>0};var Ml=mi.PredictorAdd0;mi.PredictorAdd1=Mn,on("Predictor2","PredictorAdd2"),on("Predictor3","PredictorAdd3"),on("Predictor4","PredictorAdd4"),on("Predictor5","PredictorAdd5"),on("Predictor6","PredictorAdd6"),on("Predictor7","PredictorAdd7"),on("Predictor8","PredictorAdd8"),on("Predictor9","PredictorAdd9"),on("Predictor10","PredictorAdd10"),on("Predictor11","PredictorAdd11"),on("Predictor12","PredictorAdd12"),on("Predictor13","PredictorAdd13");var ia=mi.PredictorAdd2;_n("ColorIndexInverseTransform","MapARGB","32b",function(xi){return xi>>8&255},function(xi){return xi}),_n("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(xi){return xi},function(xi){return xi>>8&255});var Ia,xo=mi.ColorIndexInverseTransform,na=mi.MapARGB,Dl=mi.VP8LColorIndexInverseTransformAlpha,kl=mi.MapAlpha,Xo=mi.VP8LPredictorsAdd=[];Xo.length=16,(mi.VP8LPredictors=[]).length=16,(mi.VP8LPredictorsAdd_C=[]).length=16,(mi.VP8LPredictors_C=[]).length=16;var ao,yo,Wo,Po,Io,Ms,wo,Ds,ra,Yo,bo,No,us,ks,cs,Go,oa,lo,Ro,Mr,Dr,Nr,jr,Fo,Ko,Ts,Na,iu,nu=Ye(511),ru=Ye(2041),ou=Ye(225),su=Ye(767),au=0,Tl=ru,Ra=ou,no=su,uo=nu,Fa=0,Ba=1,lu=2,$a=3,ja=4,Ll=5,uu=6,El=7,Ol=8,Va=9,Il=10,Ju=[2,3,7],Qu=[3,3,11],cu=[280,256,256,256,40],ec=[0,1,1,1,0],tc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ic=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],nc=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],rc=8,Nl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Rl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],sa=null,oc=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],sc=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],hu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ac=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],uc=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],cc=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],hc=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Zo=[],vo=[],Bo=[],dc=1,du=2,Jo=[],co=[];Rn("UpsampleRgbLinePair",gr,3),Rn("UpsampleBgrLinePair",Tr,3),Rn("UpsampleRgbaLinePair",go,4),Rn("UpsampleBgraLinePair",Ur,4),Rn("UpsampleArgbLinePair",Yr,4),Rn("UpsampleRgba4444LinePair",Fr,2),Rn("UpsampleRgb565LinePair",Er,2);var mc=mi.UpsampleRgbLinePair,fc=mi.UpsampleBgrLinePair,mu=mi.UpsampleRgbaLinePair,fu=mi.UpsampleBgraLinePair,pu=mi.UpsampleArgbLinePair,gu=mi.UpsampleRgba4444LinePair,pc=mi.UpsampleRgb565LinePair,Ua=16,za=1<<Ua-1,aa=-227,Fl=482,xu=6,gc=(256<<xu)-1,yu=0,xc=Ye(256),yc=Ye(256),wc=Ye(256),bc=Ye(256),vc=Ye(Fl-aa),Sc=Ye(Fl-aa);Oo("YuvToRgbRow",gr,3),Oo("YuvToBgrRow",Tr,3),Oo("YuvToRgbaRow",go,4),Oo("YuvToBgraRow",Ur,4),Oo("YuvToArgbRow",Yr,4),Oo("YuvToRgba4444Row",Fr,2),Oo("YuvToRgb565Row",Er,2);var wu=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ha=[0,2,8],Ac=[8,7,6,4,4,2,2,2,1,1,1,1],_c=1;this.WebPDecodeRGBA=function(xi,vi,Oi,ji,qi){var Zi=Ba,Ji=new bs,en=new mr;Ji.ba=en,en.S=Zi,en.width=[en.width],en.height=[en.height];var rn=en.width,un=en.height,xn=new ar;if(xn==null||xi==null)var kn=2;else je(xn!=null),kn=Ss(xi,vi,Oi,xn.width,xn.height,xn.Pd,xn.Qd,xn.format,null);if(kn!=0?rn=0:(rn!=null&&(rn[0]=xn.width[0]),un!=null&&(un[0]=xn.height[0]),rn=1),rn){en.width=en.width[0],en.height=en.height[0],ji!=null&&(ji[0]=en.width),qi!=null&&(qi[0]=en.height);e:{if(ji=new ms,(qi=new Ws).data=xi,qi.w=vi,qi.ha=Oi,qi.kd=1,vi=[0],je(qi!=null),((xi=Ss(qi.data,qi.w,qi.ha,null,null,null,vi,null,qi))==0||xi==7)&&vi[0]&&(xi=4),(vi=xi)==0){if(je(Ji!=null),ji.data=qi.data,ji.w=qi.w+qi.offset,ji.ha=qi.ha-qi.offset,ji.put=fn,ji.ac=Yi,ji.bc=Sn,ji.ma=Ji,qi.xa){if((xi=Lr())==null){Ji=1;break e}if(function(Tn,vn){var jn=[0],In=[0],yn=[0];t:for(;;){if(Tn==null)return 0;if(vn==null)return Tn.a=2,0;if(Tn.l=vn,Tn.a=0,Pi(Tn.m,vn.data,vn.w,vn.ha),!Dn(Tn.m,jn,In,yn)){Tn.a=3;break t}if(Tn.xb=du,vn.width=jn[0],vn.height=In[0],!qr(jn[0],In[0],1,Tn,null))break t;return 1}return je(Tn.a!=0),0}(xi,ji)){if(ji=(vi=As(ji.width,ji.height,Ji.Oa,Ji.ba))==0){t:{ji=xi;i:for(;;){if(ji==null){ji=0;break t}if(je(ji.s.yc!=null),je(ji.s.Ya!=null),je(0<ji.s.Wb),je((Oi=ji.l)!=null),je((qi=Oi.ma)!=null),ji.xb!=0){if(ji.ca=qi.ba,ji.tb=qi.tb,je(ji.ca!=null),!Qs(qi.Oa,Oi,$a)){ji.a=2;break i}if(!Vr(ji,Oi.width)||Oi.da)break i;if((Oi.da||Xn(ji.ca.S))&&Pn(),11>ji.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ji.ca.f.kb.F!=null&&Pn()),ji.Pb&&0<ji.s.ua&&ji.s.vb.X==null&&!Ii(ji.s.vb,ji.s.Wa.Xa)){ji.a=1;break i}ji.xb=0}if(!kr(ji,ji.V,ji.Ba,ji.c,ji.i,Oi.o,so))break i;qi.Dc=ji.Ma,ji=1;break t}je(ji.a!=0),ji=0}ji=!ji}ji&&(vi=xi.a)}else vi=xi.a}else{if((xi=new al)==null){Ji=1;break e}if(xi.Fa=qi.na,xi.P=qi.P,xi.qc=qi.Sa,xa(xi,ji)){if((vi=As(ji.width,ji.height,Ji.Oa,Ji.ba))==0){if(xi.Aa=0,Oi=Ji.Oa,je((qi=xi)!=null),Oi!=null){if(0<(rn=0>(rn=Oi.Md)?0:100<rn?255:255*rn/100)){for(un=xn=0;4>un;++un)12>(kn=qi.pb[un]).lc&&(kn.ia=rn*Ac[0>kn.lc?0:kn.lc]>>3),xn|=kn.ia;xn&&(alert("todo:VP8InitRandom"),qi.ia=1)}qi.Ga=Oi.Id,100<qi.Ga?qi.Ga=100:0>qi.Ga&&(qi.Ga=0)}ll(xi,ji)||(vi=xi.a)}}else vi=xi.a}vi==0&&Ji.Oa!=null&&Ji.Oa.fd&&(vi=ea(Ji.ba))}Ji=vi}Zi=Ji!=0?null:11>Zi?en.f.RGBA.eb:en.f.kb.y}else Zi=null;return Zi};var bu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function Je(mi,pi){for(var wi="",gi=0;gi<4;gi++)wi+=String.fromCharCode(mi[pi++]);return wi}function St(mi,pi){return(mi[pi+0]<<0|mi[pi+1]<<8|mi[pi+2]<<16)>>>0}function ei(mi,pi){return(mi[pi+0]<<0|mi[pi+1]<<8|mi[pi+2]<<16|mi[pi+3]<<24)>>>0}new Qe;var ti=[0],ii=[0],ri=[],si=new Qe,ui=Ve,ai=function(mi,pi){var wi={},gi=0,yi=!1,Ai=0,Si=0;if(wi.frames=[],!function(Vi,Ui,$i,Wi){for(var tn=0;tn<Wi;tn++)if(Vi[Ui+tn]!=$i.charCodeAt(tn))return!0;return!1}(mi,pi,"RIFF",4)){var ki,Li;for(ei(mi,pi+=4),pi+=8;pi<mi.length;){var Bi=Je(mi,pi),Pi=ei(mi,pi+=4);pi+=4;var Ri=Pi+(1&Pi);switch(Bi){case"VP8 ":case"VP8L":wi.frames[gi]===void 0&&(wi.frames[gi]={}),(Ti=wi.frames[gi]).src_off=yi?Si:pi-8,Ti.src_size=Ai+Pi+8,gi++,yi&&(yi=!1,Ai=0,Si=0);break;case"VP8X":(Ti=wi.header={}).feature_flags=mi[pi];var Fi=pi+4;Ti.canvas_width=1+St(mi,Fi),Fi+=3,Ti.canvas_height=1+St(mi,Fi),Fi+=3;break;case"ALPH":yi=!0,Ai=Ri+8,Si=pi-8;break;case"ANIM":(Ti=wi.header).bgcolor=ei(mi,pi),Fi=pi+4,Ti.loop_count=(ki=mi)[(Li=Fi)+0]<<0|ki[Li+1]<<8,Fi+=2;break;case"ANMF":var Gi,Ti;(Ti=wi.frames[gi]={}).offset_x=2*St(mi,pi),pi+=3,Ti.offset_y=2*St(mi,pi),pi+=3,Ti.width=1+St(mi,pi),pi+=3,Ti.height=1+St(mi,pi),pi+=3,Ti.duration=St(mi,pi),pi+=3,Gi=mi[pi++],Ti.dispose=1&Gi,Ti.blend=Gi>>1&1}Bi!="ANMF"&&(pi+=Ri)}return wi}}(ui,0);ai.response=ui,ai.rgbaoutput=!0,ai.dataurl=!1;var oi=ai.header?ai.header:null,ni=ai.frames?ai.frames:null;if(oi){oi.loop_counter=oi.loop_count,ti=[oi.canvas_height],ii=[oi.canvas_width];for(var ci=0;ci<ni.length&&ni[ci].blend!=0;ci++);}var hi=ni[0],di=si.WebPDecodeRGBA(ui,hi.src_off,hi.src_size,ii,ti);hi.rgba=di,hi.imgwidth=ii[0],hi.imgheight=ti[0];for(var fi=0;fi<ii[0]*ti[0]*4;fi++)ri[fi]=di[fi];return this.width=ii,this.height=ti,this.data=ri,this}(function(Ve){var je=function(){return typeof zlibSync=="function"},ze=function(ti,ii,ri,si){var ui=4,ai=Ke;switch(si){case Ve.image_compression.FAST:ui=1,ai=Ye;break;case Ve.image_compression.MEDIUM:ui=6,ai=Ze;break;case Ve.image_compression.SLOW:ui=9,ai=Qe}ti=qe(ti,ii,ri,ai);var oi=zlibSync(ti,{level:ui});return Ve.__addimage__.arrayBufferToBinaryString(oi)},qe=function(ti,ii,ri,si){for(var ui,ai,oi,ni=ti.length/ii,ci=new Uint8Array(ti.length+ni),hi=St(),di=0;di<ni;di+=1){if(oi=di*ii,ui=ti.subarray(oi,oi+ii),si)ci.set(si(ui,ri,ai),oi+di);else{for(var fi,mi=hi.length,pi=[];fi<mi;fi+=1)pi[fi]=hi[fi](ui,ri,ai);var wi=ei(pi.concat());ci.set(pi[wi],oi+di)}ai=ui}return ci},Xe=function(ti){var ii=Array.apply([],ti);return ii.unshift(0),ii},Ye=function(ti,ii){var ri,si=[],ui=ti.length;si[0]=1;for(var ai=0;ai<ui;ai+=1)ri=ti[ai-ii]||0,si[ai+1]=ti[ai]-ri+256&255;return si},Ke=function(ti,ii,ri){var si,ui=[],ai=ti.length;ui[0]=2;for(var oi=0;oi<ai;oi+=1)si=ri&&ri[oi]||0,ui[oi+1]=ti[oi]-si+256&255;return ui},Ze=function(ti,ii,ri){var si,ui,ai=[],oi=ti.length;ai[0]=3;for(var ni=0;ni<oi;ni+=1)si=ti[ni-ii]||0,ui=ri&&ri[ni]||0,ai[ni+1]=ti[ni]+256-(si+ui>>>1)&255;return ai},Qe=function(ti,ii,ri){var si,ui,ai,oi,ni=[],ci=ti.length;ni[0]=4;for(var hi=0;hi<ci;hi+=1)si=ti[hi-ii]||0,ui=ri&&ri[hi]||0,ai=ri&&ri[hi-ii]||0,oi=Je(si,ui,ai),ni[hi+1]=ti[hi]-oi+256&255;return ni},Je=function(ti,ii,ri){if(ti===ii&&ii===ri)return ti;var si=Math.abs(ii-ri),ui=Math.abs(ti-ri),ai=Math.abs(ti+ii-ri-ri);return si<=ui&&si<=ai?ti:ui<=ai?ii:ri},St=function(){return[Xe,Ye,Ke,Ze,Qe]},ei=function(ti){var ii=ti.map(function(ri){return ri.reduce(function(si,ui){return si+Math.abs(ui)},0)});return ii.indexOf(Math.min.apply(null,ii))};Ve.processPNG=function(ti,ii,ri,si){var ui,ai,oi,ni,ci,hi,di,fi,mi,pi,wi,gi,yi,Ai,Si,ki=this.decode.FLATE_DECODE,Li="";if(this.__addimage__.isArrayBuffer(ti)&&(ti=new Uint8Array(ti)),this.__addimage__.isArrayBufferView(ti)){if(ti=(oi=new Kt(ti)).imgData,ai=oi.bits,ui=oi.colorSpace,ci=oi.colors,[4,6].indexOf(oi.colorType)!==-1){if(oi.bits===8){mi=(fi=oi.pixelBitlength==32?new Uint32Array(oi.decodePixels().buffer):oi.pixelBitlength==16?new Uint16Array(oi.decodePixels().buffer):new Uint8Array(oi.decodePixels().buffer)).length,wi=new Uint8Array(mi*oi.colors),pi=new Uint8Array(mi);var Bi,Pi=oi.pixelBitlength-oi.bits;for(Ai=0,Si=0;Ai<mi;Ai++){for(yi=fi[Ai],Bi=0;Bi<Pi;)wi[Si++]=yi>>>Bi&255,Bi+=oi.bits;pi[Ai]=yi>>>Bi&255}}if(oi.bits===16){mi=(fi=new Uint32Array(oi.decodePixels().buffer)).length,wi=new Uint8Array(mi*(32/oi.pixelBitlength)*oi.colors),pi=new Uint8Array(mi*(32/oi.pixelBitlength)),gi=oi.colors>1,Ai=0,Si=0;for(var Ri=0;Ai<mi;)yi=fi[Ai++],wi[Si++]=yi>>>0&255,gi&&(wi[Si++]=yi>>>16&255,yi=fi[Ai++],wi[Si++]=yi>>>0&255),pi[Ri++]=yi>>>16&255;ai=8}si!==Ve.image_compression.NONE&&je()?(ti=ze(wi,oi.width*oi.colors,oi.colors,si),di=ze(pi,oi.width,1,si)):(ti=wi,di=pi,ki=void 0)}if(oi.colorType===3&&(ui=this.color_spaces.INDEXED,hi=oi.palette,oi.transparency.indexed)){var Fi=oi.transparency.indexed,Gi=0;for(Ai=0,mi=Fi.length;Ai<mi;++Ai)Gi+=Fi[Ai];if((Gi/=255)===mi-1&&Fi.indexOf(0)!==-1)ni=[Fi.indexOf(0)];else if(Gi!==mi){for(fi=oi.decodePixels(),pi=new Uint8Array(fi.length),Ai=0,mi=fi.length;Ai<mi;Ai++)pi[Ai]=Fi[fi[Ai]];di=ze(pi,oi.width,1)}}var Ti=function(Vi){var Ui;switch(Vi){case Ve.image_compression.FAST:Ui=11;break;case Ve.image_compression.MEDIUM:Ui=13;break;case Ve.image_compression.SLOW:Ui=14;break;default:Ui=12}return Ui}(si);return ki===this.decode.FLATE_DECODE&&(Li="/Predictor "+Ti+" "),Li+="/Colors "+ci+" /BitsPerComponent "+ai+" /Columns "+oi.width,(this.__addimage__.isArrayBuffer(ti)||this.__addimage__.isArrayBufferView(ti))&&(ti=this.__addimage__.arrayBufferToBinaryString(ti)),(di&&this.__addimage__.isArrayBuffer(di)||this.__addimage__.isArrayBufferView(di))&&(di=this.__addimage__.arrayBufferToBinaryString(di)),{alias:ri,data:ti,index:ii,filter:ki,decodeParameters:Li,transparency:ni,palette:hi,sMask:di,predictor:Ti,width:oi.width,height:oi.height,bitsPerComponent:ai,colorSpace:ui}}}})(E.API),function(Ve){Ve.processGIF89A=function(je,ze,qe,Xe){var Ye=new Zt(je),Ke=Ye.width,Ze=Ye.height,Qe=[];Ye.decodeAndBlitFrameRGBA(0,Qe);var Je={data:Qe,width:Ke,height:Ze},St=new Qt(100).encode(Je,100);return Ve.processJPEG.call(this,St,ze,qe,Xe)},Ve.processGIF87A=Ve.processGIF89A}(E.API),te.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var Ve=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(Ve);for(var je=0;je<Ve;je++){var ze=this.datav.getUint8(this.pos++,!0),qe=this.datav.getUint8(this.pos++,!0),Xe=this.datav.getUint8(this.pos++,!0),Ye=this.datav.getUint8(this.pos++,!0);this.palette[je]={red:Xe,green:qe,blue:ze,quad:Ye}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},te.prototype.parseBGR=function(){this.pos=this.offset;try{var Ve="bit"+this.bitPP,je=this.width*this.height*4;this.data=new Uint8Array(je),this[Ve]()}catch(ze){a.log("bit decode error:"+ze)}},te.prototype.bit1=function(){var Ve,je=Math.ceil(this.width/8),ze=je%4;for(Ve=this.height-1;Ve>=0;Ve--){for(var qe=this.bottom_up?Ve:this.height-1-Ve,Xe=0;Xe<je;Xe++)for(var Ye=this.datav.getUint8(this.pos++,!0),Ke=qe*this.width*4+8*Xe*4,Ze=0;Ze<8&&8*Xe+Ze<this.width;Ze++){var Qe=this.palette[Ye>>7-Ze&1];this.data[Ke+4*Ze]=Qe.blue,this.data[Ke+4*Ze+1]=Qe.green,this.data[Ke+4*Ze+2]=Qe.red,this.data[Ke+4*Ze+3]=255}ze!==0&&(this.pos+=4-ze)}},te.prototype.bit4=function(){for(var Ve=Math.ceil(this.width/2),je=Ve%4,ze=this.height-1;ze>=0;ze--){for(var qe=this.bottom_up?ze:this.height-1-ze,Xe=0;Xe<Ve;Xe++){var Ye=this.datav.getUint8(this.pos++,!0),Ke=qe*this.width*4+2*Xe*4,Ze=Ye>>4,Qe=15&Ye,Je=this.palette[Ze];if(this.data[Ke]=Je.blue,this.data[Ke+1]=Je.green,this.data[Ke+2]=Je.red,this.data[Ke+3]=255,2*Xe+1>=this.width)break;Je=this.palette[Qe],this.data[Ke+4]=Je.blue,this.data[Ke+4+1]=Je.green,this.data[Ke+4+2]=Je.red,this.data[Ke+4+3]=255}je!==0&&(this.pos+=4-je)}},te.prototype.bit8=function(){for(var Ve=this.width%4,je=this.height-1;je>=0;je--){for(var ze=this.bottom_up?je:this.height-1-je,qe=0;qe<this.width;qe++){var Xe=this.datav.getUint8(this.pos++,!0),Ye=ze*this.width*4+4*qe;if(Xe<this.palette.length){var Ke=this.palette[Xe];this.data[Ye]=Ke.red,this.data[Ye+1]=Ke.green,this.data[Ye+2]=Ke.blue,this.data[Ye+3]=255}else this.data[Ye]=255,this.data[Ye+1]=255,this.data[Ye+2]=255,this.data[Ye+3]=255}Ve!==0&&(this.pos+=4-Ve)}},te.prototype.bit15=function(){for(var Ve=this.width%3,je=parseInt("11111",2),ze=this.height-1;ze>=0;ze--){for(var qe=this.bottom_up?ze:this.height-1-ze,Xe=0;Xe<this.width;Xe++){var Ye=this.datav.getUint16(this.pos,!0);this.pos+=2;var Ke=(Ye&je)/je*255|0,Ze=(Ye>>5&je)/je*255|0,Qe=(Ye>>10&je)/je*255|0,Je=Ye>>15?255:0,St=qe*this.width*4+4*Xe;this.data[St]=Qe,this.data[St+1]=Ze,this.data[St+2]=Ke,this.data[St+3]=Je}this.pos+=Ve}},te.prototype.bit16=function(){for(var Ve=this.width%3,je=parseInt("11111",2),ze=parseInt("111111",2),qe=this.height-1;qe>=0;qe--){for(var Xe=this.bottom_up?qe:this.height-1-qe,Ye=0;Ye<this.width;Ye++){var Ke=this.datav.getUint16(this.pos,!0);this.pos+=2;var Ze=(Ke&je)/je*255|0,Qe=(Ke>>5&ze)/ze*255|0,Je=(Ke>>11)/je*255|0,St=Xe*this.width*4+4*Ye;this.data[St]=Je,this.data[St+1]=Qe,this.data[St+2]=Ze,this.data[St+3]=255}this.pos+=Ve}},te.prototype.bit24=function(){for(var Ve=this.height-1;Ve>=0;Ve--){for(var je=this.bottom_up?Ve:this.height-1-Ve,ze=0;ze<this.width;ze++){var qe=this.datav.getUint8(this.pos++,!0),Xe=this.datav.getUint8(this.pos++,!0),Ye=this.datav.getUint8(this.pos++,!0),Ke=je*this.width*4+4*ze;this.data[Ke]=Ye,this.data[Ke+1]=Xe,this.data[Ke+2]=qe,this.data[Ke+3]=255}this.pos+=this.width%4}},te.prototype.bit32=function(){for(var Ve=this.height-1;Ve>=0;Ve--)for(var je=this.bottom_up?Ve:this.height-1-Ve,ze=0;ze<this.width;ze++){var qe=this.datav.getUint8(this.pos++,!0),Xe=this.datav.getUint8(this.pos++,!0),Ye=this.datav.getUint8(this.pos++,!0),Ke=this.datav.getUint8(this.pos++,!0),Ze=je*this.width*4+4*ze;this.data[Ze]=Ye,this.data[Ze+1]=Xe,this.data[Ze+2]=qe,this.data[Ze+3]=Ke}},te.prototype.getData=function(){return this.data},function(Ve){Ve.processBMP=function(je,ze,qe,Xe){var Ye=new te(je,!1),Ke=Ye.width,Ze=Ye.height,Qe={data:Ye.getData(),width:Ke,height:Ze},Je=new Qt(100).encode(Qe,100);return Ve.processJPEG.call(this,Je,ze,qe,Xe)}}(E.API),ee.prototype.getData=function(){return this.data},function(Ve){Ve.processWEBP=function(je,ze,qe,Xe){var Ye=new ee(je),Ke=Ye.width,Ze=Ye.height,Qe={data:Ye.getData(),width:Ke,height:Ze},Je=new Qt(100).encode(Qe,100);return Ve.processJPEG.call(this,Je,ze,qe,Xe)}}(E.API),E.API.processRGBA=function(Ve,je,ze){for(var qe=Ve.data,Xe=qe.length,Ye=new Uint8Array(Xe/4*3),Ke=new Uint8Array(Xe/4),Ze=0,Qe=0,Je=0;Je<Xe;Je+=4){var St=qe[Je],ei=qe[Je+1],ti=qe[Je+2],ii=qe[Je+3];Ye[Ze++]=St,Ye[Ze++]=ei,Ye[Ze++]=ti,Ke[Qe++]=ii}var ri=this.__addimage__.arrayBufferToBinaryString(Ye);return{alpha:this.__addimage__.arrayBufferToBinaryString(Ke),data:ri,index:je,alias:ze,colorSpace:"DeviceRGB",bitsPerComponent:8,width:Ve.width,height:Ve.height}},E.API.setLanguage=function(Ve){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[Ve]!==void 0&&(this.internal.languageSettings.languageCode=Ve,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Vt=E.API,Gt=Vt.getCharWidthsArray=function(Ve,je){var ze,qe,Xe=(je=je||{}).font||this.internal.getFont(),Ye=je.fontSize||this.internal.getFontSize(),Ke=je.charSpace||this.internal.getCharSpace(),Ze=je.widths?je.widths:Xe.metadata.Unicode.widths,Qe=Ze.fof?Ze.fof:1,Je=je.kerning?je.kerning:Xe.metadata.Unicode.kerning,St=Je.fof?Je.fof:1,ei=je.doKerning!==!1,ti=0,ii=Ve.length,ri=0,si=Ze[0]||Qe,ui=[];for(ze=0;ze<ii;ze++)qe=Ve.charCodeAt(ze),typeof Xe.metadata.widthOfString=="function"?ui.push((Xe.metadata.widthOfGlyph(Xe.metadata.characterToGlyph(qe))+Ke*(1e3/Ye)||0)/1e3):(ti=ei&&_typeof(Je[qe])==="object"&&!isNaN(parseInt(Je[qe][ri],10))?Je[qe][ri]/St:0,ui.push((Ze[qe]||si)/Qe+ti)),ri=qe;return ui},Yt=Vt.getStringUnitWidth=function(Ve,je){var ze=(je=je||{}).fontSize||this.internal.getFontSize(),qe=je.font||this.internal.getFont(),Xe=je.charSpace||this.internal.getCharSpace();return Vt.processArabic&&(Ve=Vt.processArabic(Ve)),typeof qe.metadata.widthOfString=="function"?qe.metadata.widthOfString(Ve,ze,Xe)/ze:Gt.apply(this,arguments).reduce(function(Ye,Ke){return Ye+Ke},0)},Jt=function(Ve,je,ze,qe){for(var Xe=[],Ye=0,Ke=Ve.length,Ze=0;Ye!==Ke&&Ze+je[Ye]<ze;)Ze+=je[Ye],Ye++;Xe.push(Ve.slice(0,Ye));var Qe=Ye;for(Ze=0;Ye!==Ke;)Ze+je[Ye]>qe&&(Xe.push(Ve.slice(Qe,Ye)),Ze=0,Qe=Ye),Ze+=je[Ye],Ye++;return Qe!==Ye&&Xe.push(Ve.slice(Qe,Ye)),Xe},Xt=function(Ve,je,ze){ze||(ze={});var qe,Xe,Ye,Ke,Ze,Qe,Je,St=[],ei=[St],ti=ze.textIndent||0,ii=0,ri=0,si=Ve.split(" "),ui=Gt.apply(this,[" ",ze])[0];if(Qe=ze.lineIndent===-1?si[0].length+2:ze.lineIndent||0){var ai=Array(Qe).join(" "),oi=[];si.map(function(ci){(ci=ci.split(/\s*\n/)).length>1?oi=oi.concat(ci.map(function(hi,di){return(di&&hi.length?`
`:"")+hi})):oi.push(ci[0])}),si=oi,Qe=Yt.apply(this,[ai,ze])}for(Ye=0,Ke=si.length;Ye<Ke;Ye++){var ni=0;if(qe=si[Ye],Qe&&qe[0]==`
`&&(qe=qe.substr(1),ni=1),ti+ii+(ri=(Xe=Gt.apply(this,[qe,ze])).reduce(function(ci,hi){return ci+hi},0))>je||ni){if(ri>je){for(Ze=Jt.apply(this,[qe,Xe,je-(ti+ii),je]),St.push(Ze.shift()),St=[Ze.pop()];Ze.length;)ei.push([Ze.shift()]);ri=Xe.slice(qe.length-(St[0]?St[0].length:0)).reduce(function(ci,hi){return ci+hi},0)}else St=[qe];ei.push(St),ti=ri+Qe,ii=ui}else St.push(qe),ti+=ii+ri,ii=ui}return Je=Qe?function(ci,hi){return(hi?ai:"")+ci.join(" ")}:function(ci){return ci.join(" ")},ei.map(Je)},Vt.splitTextToSize=function(Ve,je,ze){var qe,Xe=(ze=ze||{}).fontSize||this.internal.getFontSize(),Ye=(function(St){if(St.widths&&St.kerning)return{widths:St.widths,kerning:St.kerning};var ei=this.internal.getFont(St.fontName,St.fontStyle);return ei.metadata.Unicode?{widths:ei.metadata.Unicode.widths||{0:1},kerning:ei.metadata.Unicode.kerning||{}}:{font:ei.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,ze);qe=Array.isArray(Ve)?Ve:String(Ve).split(/\r?\n/);var Ke=1*this.internal.scaleFactor*je/Xe;Ye.textIndent=ze.textIndent?1*ze.textIndent*this.internal.scaleFactor/Xe:0,Ye.lineIndent=ze.lineIndent;var Ze,Qe,Je=[];for(Ze=0,Qe=qe.length;Ze<Qe;Ze++)Je=Je.concat(Xt.apply(this,[qe[Ze],Ke,Ye]));return Je},function(Ve){Ve.__fontmetrics__=Ve.__fontmetrics__||{};for(var je="klmnopqrstuvwxyz",ze={},qe={},Xe=0;Xe<je.length;Xe++)ze[je[Xe]]="0123456789abcdef"[Xe],qe["0123456789abcdef"[Xe]]=je[Xe];var Ye=function(ei){return"0x"+parseInt(ei,10).toString(16)},Ke=Ve.__fontmetrics__.compress=function(ei){var ti,ii,ri,si,ui=["{"];for(var ai in ei){if(ti=ei[ai],isNaN(parseInt(ai,10))?ii="'"+ai+"'":(ai=parseInt(ai,10),ii=(ii=Ye(ai).slice(2)).slice(0,-1)+qe[ii.slice(-1)]),typeof ti=="number")ti<0?(ri=Ye(ti).slice(3),si="-"):(ri=Ye(ti).slice(2),si=""),ri=si+ri.slice(0,-1)+qe[ri.slice(-1)];else{if(_typeof(ti)!=="object")throw new Error("Don't know what to do with value type "+_typeof(ti)+".");ri=Ke(ti)}ui.push(ii+ri)}return ui.push("}"),ui.join("")},Ze=Ve.__fontmetrics__.uncompress=function(ei){if(typeof ei!="string")throw new Error("Invalid argument passed to uncompress.");for(var ti,ii,ri,si,ui={},ai=1,oi=ui,ni=[],ci="",hi="",di=ei.length-1,fi=1;fi<di;fi+=1)(si=ei[fi])=="'"?ti?(ri=ti.join(""),ti=void 0):ti=[]:ti?ti.push(si):si=="{"?(ni.push([oi,ri]),oi={},ri=void 0):si=="}"?((ii=ni.pop())[0][ii[1]]=oi,ri=void 0,oi=ii[0]):si=="-"?ai=-1:ri===void 0?ze.hasOwnProperty(si)?(ci+=ze[si],ri=parseInt(ci,16)*ai,ai=1,ci=""):ci+=si:ze.hasOwnProperty(si)?(hi+=ze[si],oi[ri]=parseInt(hi,16)*ai,ai=1,ri=void 0,hi=""):hi+=si;return ui},Qe={codePages:["WinAnsiEncoding"],WinAnsiEncoding:Ze("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},Je={Unicode:{Courier:Qe,"Courier-Bold":Qe,"Courier-BoldOblique":Qe,"Courier-Oblique":Qe,Helvetica:Qe,"Helvetica-Bold":Qe,"Helvetica-BoldOblique":Qe,"Helvetica-Oblique":Qe,"Times-Roman":Qe,"Times-Bold":Qe,"Times-BoldItalic":Qe,"Times-Italic":Qe}},St={Unicode:{"Courier-Oblique":Ze("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":Ze("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":Ze("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:Ze("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":Ze("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":Ze("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:Ze("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:Ze("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":Ze("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:Ze("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":Ze("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":Ze("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":Ze("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":Ze("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};Ve.events.push(["addFont",function(ei){var ti=ei.font,ii=St.Unicode[ti.postScriptName];ii&&(ti.metadata.Unicode={},ti.metadata.Unicode.widths=ii.widths,ti.metadata.Unicode.kerning=ii.kerning);var ri=Je.Unicode[ti.postScriptName];ri&&(ti.metadata.Unicode.encoding=ri,ti.encoding=ri.codePages[0])}])}(E.API),function(Ve){var je=function(ze){for(var qe=ze.length,Xe=new Uint8Array(qe),Ye=0;Ye<qe;Ye++)Xe[Ye]=ze.charCodeAt(Ye);return Xe};Ve.API.events.push(["addFont",function(ze){var qe=void 0,Xe=ze.font,Ye=ze.instance;if(!Xe.isStandardFont){if(Ye===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+Xe.postScriptName+"').");if(typeof(qe=Ye.existsFileInVFS(Xe.postScriptName)===!1?Ye.loadFile(Xe.postScriptName):Ye.getFileFromVFS(Xe.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+Xe.postScriptName+"').");(function(Ke,Ze){Ze=/^\x00\x01\x00\x00/.test(Ze)?je(Ze):je(u(Ze)),Ke.metadata=Ve.API.TTFFont.open(Ze),Ke.metadata.Unicode=Ke.metadata.Unicode||{encoding:{},kerning:{},widths:[]},Ke.metadata.glyIdsUsed=[0]})(Xe,qe)}}])}(E),function(Ve){function je(){return(n.canvg?Promise.resolve(n.canvg):__vitePreload(()=>import("./index.es-r62iVvZP.js"),__vite__mapDeps([]))).catch(function(ze){return Promise.reject(new Error("Could not load canvg: "+ze))}).then(function(ze){return ze.default?ze.default:ze})}E.API.addSvgAsImage=function(ze,qe,Xe,Ye,Ke,Ze,Qe,Je){if(isNaN(qe)||isNaN(Xe))throw a.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(Ye)||isNaN(Ke))throw a.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var St=document.createElement("canvas");St.width=Ye,St.height=Ke;var ei=St.getContext("2d");ei.fillStyle="#fff",ei.fillRect(0,0,St.width,St.height);var ti={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},ii=this;return je().then(function(ri){return ri.fromString(ei,ze,ti)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(ri){return ri.render(ti)}).then(function(){ii.addImage(St.toDataURL("image/jpeg",1),qe,Xe,Ye,Ke,Qe,Je)})}}(),E.API.putTotalPages=function(Ve){var je,ze=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(je=new RegExp(Ve,"g"),ze=this.internal.getNumberOfPages()):(je=new RegExp(this.pdfEscape16(Ve,this.internal.getFont()),"g"),ze=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var qe=1;qe<=this.internal.getNumberOfPages();qe++)for(var Xe=0;Xe<this.internal.pages[qe].length;Xe++)this.internal.pages[qe][Xe]=this.internal.pages[qe][Xe].replace(je,ze);return this},E.API.viewerPreferences=function(Ve,je){var ze;Ve=Ve||{},je=je||!1;var qe,Xe,Ye,Ke={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},Ze=Object.keys(Ke),Qe=[],Je=0,St=0,ei=0;function ti(ri,si){var ui,ai=!1;for(ui=0;ui<ri.length;ui+=1)ri[ui]===si&&(ai=!0);return ai}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(Ke)),this.internal.viewerpreferences.isSubscribed=!1),ze=this.internal.viewerpreferences.configuration,Ve==="reset"||je===!0){var ii=Ze.length;for(ei=0;ei<ii;ei+=1)ze[Ze[ei]].value=ze[Ze[ei]].defaultValue,ze[Ze[ei]].explicitSet=!1}if(_typeof(Ve)==="object"){for(Xe in Ve)if(Ye=Ve[Xe],ti(Ze,Xe)&&Ye!==void 0){if(ze[Xe].type==="boolean"&&typeof Ye=="boolean")ze[Xe].value=Ye;else if(ze[Xe].type==="name"&&ti(ze[Xe].valueSet,Ye))ze[Xe].value=Ye;else if(ze[Xe].type==="integer"&&Number.isInteger(Ye))ze[Xe].value=Ye;else if(ze[Xe].type==="array"){for(Je=0;Je<Ye.length;Je+=1)if(qe=!0,Ye[Je].length===1&&typeof Ye[Je][0]=="number")Qe.push(String(Ye[Je]-1));else if(Ye[Je].length>1){for(St=0;St<Ye[Je].length;St+=1)typeof Ye[Je][St]!="number"&&(qe=!1);qe===!0&&Qe.push([Ye[Je][0]-1,Ye[Je][1]-1].join(" "))}ze[Xe].value="["+Qe.join(" ")+"]"}else ze[Xe].value=ze[Xe].defaultValue;ze[Xe].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var ri,si=[];for(ri in ze)ze[ri].explicitSet===!0&&(ze[ri].type==="name"?si.push("/"+ri+" /"+ze[ri].value):si.push("/"+ri+" "+ze[ri].value));si.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+si.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=ze,this},function(Ve){var je=function(){var qe='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',Xe=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),Ye=unescape(encodeURIComponent(qe)),Ke=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),Ze=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),Qe=unescape(encodeURIComponent("</x:xmpmeta>")),Je=Ye.length+Ke.length+Ze.length+Xe.length+Qe.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+Je+" >>"),this.internal.write("stream"),this.internal.write(Xe+Ye+Ke+Ze+Qe),this.internal.write("endstream"),this.internal.write("endobj")},ze=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};Ve.addMetadata=function(qe,Xe){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:qe,namespaceuri:Xe||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",ze),this.internal.events.subscribe("postPutResources",je)),this}}(E.API),function(Ve){var je=Ve.API,ze=je.pdfEscape16=function(Ye,Ke){for(var Ze,Qe=Ke.metadata.Unicode.widths,Je=["","0","00","000","0000"],St=[""],ei=0,ti=Ye.length;ei<ti;++ei){if(Ze=Ke.metadata.characterToGlyph(Ye.charCodeAt(ei)),Ke.metadata.glyIdsUsed.push(Ze),Ke.metadata.toUnicode[Ze]=Ye.charCodeAt(ei),Qe.indexOf(Ze)==-1&&(Qe.push(Ze),Qe.push([parseInt(Ke.metadata.widthOfGlyph(Ze),10)])),Ze=="0")return St.join("");Ze=Ze.toString(16),St.push(Je[4-Ze.length],Ze)}return St.join("")},qe=function(Ye){var Ke,Ze,Qe,Je,St,ei,ti;for(St=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,Qe=[],ei=0,ti=(Ze=Object.keys(Ye).sort(function(ii,ri){return ii-ri})).length;ei<ti;ei++)Ke=Ze[ei],Qe.length>=100&&(St+=`
`+Qe.length+` beginbfchar
`+Qe.join(`
`)+`
endbfchar`,Qe=[]),Ye[Ke]!==void 0&&Ye[Ke]!==null&&typeof Ye[Ke].toString=="function"&&(Je=("0000"+Ye[Ke].toString(16)).slice(-4),Ke=("0000"+(+Ke).toString(16)).slice(-4),Qe.push("<"+Ke+"><"+Je+">"));return Qe.length&&(St+=`
`+Qe.length+` beginbfchar
`+Qe.join(`
`)+`
endbfchar
`),St+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};je.events.push(["putFont",function(Ye){(function(Ke){var Ze=Ke.font,Qe=Ke.out,Je=Ke.newObject,St=Ke.putStream;if(Ze.metadata instanceof Ve.API.TTFFont&&Ze.encoding==="Identity-H"){for(var ei=Ze.metadata.Unicode.widths,ti=Ze.metadata.subset.encode(Ze.metadata.glyIdsUsed,1),ii="",ri=0;ri<ti.length;ri++)ii+=String.fromCharCode(ti[ri]);var si=Je();St({data:ii,addLength1:!0,objectId:si}),Qe("endobj");var ui=Je();St({data:qe(Ze.metadata.toUnicode),addLength1:!0,objectId:ui}),Qe("endobj");var ai=Je();Qe("<<"),Qe("/Type /FontDescriptor"),Qe("/FontName /"+F(Ze.fontName)),Qe("/FontFile2 "+si+" 0 R"),Qe("/FontBBox "+Ve.API.PDFObject.convert(Ze.metadata.bbox)),Qe("/Flags "+Ze.metadata.flags),Qe("/StemV "+Ze.metadata.stemV),Qe("/ItalicAngle "+Ze.metadata.italicAngle),Qe("/Ascent "+Ze.metadata.ascender),Qe("/Descent "+Ze.metadata.decender),Qe("/CapHeight "+Ze.metadata.capHeight),Qe(">>"),Qe("endobj");var oi=Je();Qe("<<"),Qe("/Type /Font"),Qe("/BaseFont /"+F(Ze.fontName)),Qe("/FontDescriptor "+ai+" 0 R"),Qe("/W "+Ve.API.PDFObject.convert(ei)),Qe("/CIDToGIDMap /Identity"),Qe("/DW 1000"),Qe("/Subtype /CIDFontType2"),Qe("/CIDSystemInfo"),Qe("<<"),Qe("/Supplement 0"),Qe("/Registry (Adobe)"),Qe("/Ordering ("+Ze.encoding+")"),Qe(">>"),Qe(">>"),Qe("endobj"),Ze.objectNumber=Je(),Qe("<<"),Qe("/Type /Font"),Qe("/Subtype /Type0"),Qe("/ToUnicode "+ui+" 0 R"),Qe("/BaseFont /"+F(Ze.fontName)),Qe("/Encoding /"+Ze.encoding),Qe("/DescendantFonts ["+oi+" 0 R]"),Qe(">>"),Qe("endobj"),Ze.isAlreadyPutted=!0}})(Ye)}]),je.events.push(["putFont",function(Ye){(function(Ke){var Ze=Ke.font,Qe=Ke.out,Je=Ke.newObject,St=Ke.putStream;if(Ze.metadata instanceof Ve.API.TTFFont&&Ze.encoding==="WinAnsiEncoding"){for(var ei=Ze.metadata.rawData,ti="",ii=0;ii<ei.length;ii++)ti+=String.fromCharCode(ei[ii]);var ri=Je();St({data:ti,addLength1:!0,objectId:ri}),Qe("endobj");var si=Je();St({data:qe(Ze.metadata.toUnicode),addLength1:!0,objectId:si}),Qe("endobj");var ui=Je();Qe("<<"),Qe("/Descent "+Ze.metadata.decender),Qe("/CapHeight "+Ze.metadata.capHeight),Qe("/StemV "+Ze.metadata.stemV),Qe("/Type /FontDescriptor"),Qe("/FontFile2 "+ri+" 0 R"),Qe("/Flags 96"),Qe("/FontBBox "+Ve.API.PDFObject.convert(Ze.metadata.bbox)),Qe("/FontName /"+F(Ze.fontName)),Qe("/ItalicAngle "+Ze.metadata.italicAngle),Qe("/Ascent "+Ze.metadata.ascender),Qe(">>"),Qe("endobj"),Ze.objectNumber=Je();for(var ai=0;ai<Ze.metadata.hmtx.widths.length;ai++)Ze.metadata.hmtx.widths[ai]=parseInt(Ze.metadata.hmtx.widths[ai]*(1e3/Ze.metadata.head.unitsPerEm));Qe("<</Subtype/TrueType/Type/Font/ToUnicode "+si+" 0 R/BaseFont/"+F(Ze.fontName)+"/FontDescriptor "+ui+" 0 R/Encoding/"+Ze.encoding+" /FirstChar 29 /LastChar 255 /Widths "+Ve.API.PDFObject.convert(Ze.metadata.hmtx.widths)+">>"),Qe("endobj"),Ze.isAlreadyPutted=!0}})(Ye)}]);var Xe=function(Ye){var Ke,Ze=Ye.text||"",Qe=Ye.x,Je=Ye.y,St=Ye.options||{},ei=Ye.mutex||{},ti=ei.pdfEscape,ii=ei.activeFontKey,ri=ei.fonts,si=ii,ui="",ai=0,oi="",ni=ri[si].encoding;if(ri[si].encoding!=="Identity-H")return{text:Ze,x:Qe,y:Je,options:St,mutex:ei};for(oi=Ze,si=ii,Array.isArray(Ze)&&(oi=Ze[0]),ai=0;ai<oi.length;ai+=1)ri[si].metadata.hasOwnProperty("cmap")&&(Ke=ri[si].metadata.cmap.unicode.codeMap[oi[ai].charCodeAt(0)]),Ke||oi[ai].charCodeAt(0)<256&&ri[si].metadata.hasOwnProperty("Unicode")?ui+=oi[ai]:ui+="";var ci="";return parseInt(si.slice(1))<14||ni==="WinAnsiEncoding"?ci=ti(ui,si).split("").map(function(hi){return hi.charCodeAt(0).toString(16)}).join(""):ni==="Identity-H"&&(ci=ze(ui,ri[si])),ei.isHex=!0,{text:ci,x:Qe,y:Je,options:St,mutex:ei}};je.events.push(["postProcessText",function(Ye){var Ke=Ye.text||"",Ze=[],Qe={text:Ke,x:Ye.x,y:Ye.y,options:Ye.options,mutex:Ye.mutex};if(Array.isArray(Ke)){var Je=0;for(Je=0;Je<Ke.length;Je+=1)Array.isArray(Ke[Je])&&Ke[Je].length===3?Ze.push([Xe(Object.assign({},Qe,{text:Ke[Je][0]})).text,Ke[Je][1],Ke[Je][2]]):Ze.push(Xe(Object.assign({},Qe,{text:Ke[Je]})).text);Ye.text=Ze}else Ye.text=Xe(Object.assign({},Qe,{text:Ke})).text}])}(E),function(Ve){var je=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};Ve.existsFileInVFS=function(ze){return je.call(this),this.internal.vFS[ze]!==void 0},Ve.addFileToVFS=function(ze,qe){return je.call(this),this.internal.vFS[ze]=qe,this},Ve.getFileFromVFS=function(ze){return je.call(this),this.internal.vFS[ze]!==void 0?this.internal.vFS[ze]:null}}(E.API),function(Ve){Ve.__bidiEngine__=Ve.prototype.__bidiEngine__=function(qe){var Xe,Ye,Ke,Ze,Qe,Je,St,ei=je,ti=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],ii=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],ri={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},si={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},ui=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],ai=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),oi=!1,ni=0;this.__bidiEngine__={};var ci=function(gi){var yi=gi.charCodeAt(),Ai=yi>>8,Si=si[Ai];return Si!==void 0?ei[256*Si+(255&yi)]:Ai===252||Ai===253?"AL":ai.test(Ai)?"L":Ai===8?"R":"N"},hi=function(gi){for(var yi,Ai=0;Ai<gi.length;Ai++){if((yi=ci(gi.charAt(Ai)))==="L")return!1;if(yi==="R")return!0}return!1},di=function(gi,yi,Ai,Si){var ki,Li,Bi,Pi,Ri=yi[Si];switch(Ri){case"L":case"R":oi=!1;break;case"N":case"AN":break;case"EN":oi&&(Ri="AN");break;case"AL":oi=!0,Ri="R";break;case"WS":Ri="N";break;case"CS":Si<1||Si+1>=yi.length||(ki=Ai[Si-1])!=="EN"&&ki!=="AN"||(Li=yi[Si+1])!=="EN"&&Li!=="AN"?Ri="N":oi&&(Li="AN"),Ri=Li===ki?Li:"N";break;case"ES":Ri=(ki=Si>0?Ai[Si-1]:"B")==="EN"&&Si+1<yi.length&&yi[Si+1]==="EN"?"EN":"N";break;case"ET":if(Si>0&&Ai[Si-1]==="EN"){Ri="EN";break}if(oi){Ri="N";break}for(Bi=Si+1,Pi=yi.length;Bi<Pi&&yi[Bi]==="ET";)Bi++;Ri=Bi<Pi&&yi[Bi]==="EN"?"EN":"N";break;case"NSM":if(Ke&&!Ze){for(Pi=yi.length,Bi=Si+1;Bi<Pi&&yi[Bi]==="NSM";)Bi++;if(Bi<Pi){var Fi=gi[Si],Gi=Fi>=1425&&Fi<=2303||Fi===64286;if(ki=yi[Bi],Gi&&(ki==="R"||ki==="AL")){Ri="R";break}}}Ri=Si<1||(ki=yi[Si-1])==="B"?"N":Ai[Si-1];break;case"B":oi=!1,Xe=!0,Ri=ni;break;case"S":Ye=!0,Ri="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":oi=!1;break;case"BN":Ri="N"}return Ri},fi=function(gi,yi,Ai){var Si=gi.split("");return Ai&&mi(Si,Ai,{hiLevel:ni}),Si.reverse(),yi&&yi.reverse(),Si.join("")},mi=function(gi,yi,Ai){var Si,ki,Li,Bi,Pi,Ri=-1,Fi=gi.length,Gi=0,Ti=[],Vi=ni?ii:ti,Ui=[];for(oi=!1,Xe=!1,Ye=!1,ki=0;ki<Fi;ki++)Ui[ki]=ci(gi[ki]);for(Li=0;Li<Fi;Li++){if(Pi=Gi,Ti[Li]=di(gi,Ui,Ti,Li),Si=240&(Gi=Vi[Pi][ri[Ti[Li]]]),Gi&=15,yi[Li]=Bi=Vi[Gi][5],Si>0)if(Si===16){for(ki=Ri;ki<Li;ki++)yi[ki]=1;Ri=-1}else Ri=-1;if(Vi[Gi][6])Ri===-1&&(Ri=Li);else if(Ri>-1){for(ki=Ri;ki<Li;ki++)yi[ki]=Bi;Ri=-1}Ui[Li]==="B"&&(yi[Li]=0),Ai.hiLevel|=Bi}Ye&&function($i,Wi,tn){for(var nn=0;nn<tn;nn++)if($i[nn]==="S"){Wi[nn]=ni;for(var Qi=nn-1;Qi>=0&&$i[Qi]==="WS";Qi--)Wi[Qi]=ni}}(Ui,yi,Fi)},pi=function(gi,yi,Ai,Si,ki){if(!(ki.hiLevel<gi)){if(gi===1&&ni===1&&!Xe)return yi.reverse(),void(Ai&&Ai.reverse());for(var Li,Bi,Pi,Ri,Fi=yi.length,Gi=0;Gi<Fi;){if(Si[Gi]>=gi){for(Pi=Gi+1;Pi<Fi&&Si[Pi]>=gi;)Pi++;for(Ri=Gi,Bi=Pi-1;Ri<Bi;Ri++,Bi--)Li=yi[Ri],yi[Ri]=yi[Bi],yi[Bi]=Li,Ai&&(Li=Ai[Ri],Ai[Ri]=Ai[Bi],Ai[Bi]=Li);Gi=Pi}Gi++}}},wi=function(gi,yi,Ai){var Si=gi.split(""),ki={hiLevel:ni};return Ai||(Ai=[]),mi(Si,Ai,ki),function(Li,Bi,Pi){if(Pi.hiLevel!==0&&St)for(var Ri,Fi=0;Fi<Li.length;Fi++)Bi[Fi]===1&&(Ri=ui.indexOf(Li[Fi]))>=0&&(Li[Fi]=ui[Ri+1])}(Si,Ai,ki),pi(2,Si,yi,Ai,ki),pi(1,Si,yi,Ai,ki),Si.join("")};return this.__bidiEngine__.doBidiReorder=function(gi,yi,Ai){if(function(ki,Li){if(Li)for(var Bi=0;Bi<ki.length;Bi++)Li[Bi]=Bi;Ze===void 0&&(Ze=hi(ki)),Je===void 0&&(Je=hi(ki))}(gi,yi),Ke||!Qe||Je)if(Ke&&Qe&&Ze^Je)ni=Ze?1:0,gi=fi(gi,yi,Ai);else if(!Ke&&Qe&&Je)ni=Ze?1:0,gi=wi(gi,yi,Ai),gi=fi(gi,yi);else if(!Ke||Ze||Qe||Je){if(Ke&&!Qe&&Ze^Je)gi=fi(gi,yi),Ze?(ni=0,gi=wi(gi,yi,Ai)):(ni=1,gi=wi(gi,yi,Ai),gi=fi(gi,yi));else if(Ke&&Ze&&!Qe&&Je)ni=1,gi=wi(gi,yi,Ai),gi=fi(gi,yi);else if(!Ke&&!Qe&&Ze^Je){var Si=St;Ze?(ni=1,gi=wi(gi,yi,Ai),ni=0,St=!1,gi=wi(gi,yi,Ai),St=Si):(ni=0,gi=wi(gi,yi,Ai),gi=fi(gi,yi),ni=1,St=!1,gi=wi(gi,yi,Ai),St=Si,gi=fi(gi,yi))}}else ni=0,gi=wi(gi,yi,Ai);else ni=Ze?1:0,gi=wi(gi,yi,Ai);return gi},this.__bidiEngine__.setOptions=function(gi){gi&&(Ke=gi.isInputVisual,Qe=gi.isOutputVisual,Ze=gi.isInputRtl,Je=gi.isOutputRtl,St=gi.isSymmetricSwapping)},this.__bidiEngine__.setOptions(qe),this.__bidiEngine__};var je=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],ze=new Ve.__bidiEngine__({isInputVisual:!0});Ve.API.events.push(["postProcessText",function(qe){var Xe=qe.text,Ye=(qe.x,qe.y,qe.options||{}),Ke=(qe.mutex,Ye.lang,[]);if(Ye.isInputVisual=typeof Ye.isInputVisual!="boolean"||Ye.isInputVisual,ze.setOptions(Ye),Object.prototype.toString.call(Xe)==="[object Array]"){var Ze=0;for(Ke=[],Ze=0;Ze<Xe.length;Ze+=1)Object.prototype.toString.call(Xe[Ze])==="[object Array]"?Ke.push([ze.doBidiReorder(Xe[Ze][0]),Xe[Ze][1],Xe[Ze][2]]):Ke.push([ze.doBidiReorder(Xe[Ze])]);qe.text=Ke}else qe.text=ze.doBidiReorder(Xe);ze.setOptions({isInputVisual:!0})}])}(E),E.API.TTFFont=function(){function Ve(je){var ze;if(this.rawData=je,ze=this.contents=new ne(je),this.contents.pos=4,ze.readString(4)==="ttcf")throw new Error("TTCF not supported.");ze.pos=0,this.parse(),this.subset=new Le(this),this.registerTTF()}return Ve.open=function(je){return new Ve(je)},Ve.prototype.parse=function(){return this.directory=new ie(this.contents),this.head=new se(this),this.name=new pe(this),this.cmap=new ue(this),this.toUnicode={},this.hhea=new he(this),this.maxp=new ge(this),this.hmtx=new me(this),this.post=new fe(this),this.os2=new le(this),this.loca=new Ne(this),this.glyf=new be(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},Ve.prototype.registerTTF=function(){var je,ze,qe,Xe,Ye;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var Ke,Ze,Qe,Je;for(Je=[],Ke=0,Ze=(Qe=this.bbox).length;Ke<Ze;Ke++)je=Qe[Ke],Je.push(Math.round(je*this.scaleFactor));return Je}).call(this),this.stemV=0,this.post.exists?(qe=255&(Xe=this.post.italic_angle),32768&(ze=Xe>>16)&&(ze=-(1+(65535^ze))),this.italicAngle=+(ze+"."+qe)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(Ye=this.familyClass)===1||Ye===2||Ye===3||Ye===4||Ye===5||Ye===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},Ve.prototype.characterToGlyph=function(je){var ze;return((ze=this.cmap.unicode)!=null?ze.codeMap[je]:void 0)||0},Ve.prototype.widthOfGlyph=function(je){var ze;return ze=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(je).advance*ze},Ve.prototype.widthOfString=function(je,ze,qe){var Xe,Ye,Ke,Ze;for(Ke=0,Ye=0,Ze=(je=""+je).length;0<=Ze?Ye<Ze:Ye>Ze;Ye=0<=Ze?++Ye:--Ye)Xe=je.charCodeAt(Ye),Ke+=this.widthOfGlyph(this.characterToGlyph(Xe))+qe*(1e3/ze)||0;return Ke*(ze/1e3)},Ve.prototype.lineHeight=function(je,ze){var qe;return ze==null&&(ze=!1),qe=ze?this.lineGap:0,(this.ascender+qe-this.decender)/1e3*je},Ve}();var re,ne=function(){function Ve(je){this.data=je??[],this.pos=0,this.length=this.data.length}return Ve.prototype.readByte=function(){return this.data[this.pos++]},Ve.prototype.writeByte=function(je){return this.data[this.pos++]=je},Ve.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},Ve.prototype.writeUInt32=function(je){return this.writeByte(je>>>24&255),this.writeByte(je>>16&255),this.writeByte(je>>8&255),this.writeByte(255&je)},Ve.prototype.readInt32=function(){var je;return(je=this.readUInt32())>=2147483648?je-4294967296:je},Ve.prototype.writeInt32=function(je){return je<0&&(je+=4294967296),this.writeUInt32(je)},Ve.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},Ve.prototype.writeUInt16=function(je){return this.writeByte(je>>8&255),this.writeByte(255&je)},Ve.prototype.readInt16=function(){var je;return(je=this.readUInt16())>=32768?je-65536:je},Ve.prototype.writeInt16=function(je){return je<0&&(je+=65536),this.writeUInt16(je)},Ve.prototype.readString=function(je){var ze,qe;for(qe=[],ze=0;0<=je?ze<je:ze>je;ze=0<=je?++ze:--ze)qe[ze]=String.fromCharCode(this.readByte());return qe.join("")},Ve.prototype.writeString=function(je){var ze,qe,Xe;for(Xe=[],ze=0,qe=je.length;0<=qe?ze<qe:ze>qe;ze=0<=qe?++ze:--ze)Xe.push(this.writeByte(je.charCodeAt(ze)));return Xe},Ve.prototype.readShort=function(){return this.readInt16()},Ve.prototype.writeShort=function(je){return this.writeInt16(je)},Ve.prototype.readLongLong=function(){var je,ze,qe,Xe,Ye,Ke,Ze,Qe;return je=this.readByte(),ze=this.readByte(),qe=this.readByte(),Xe=this.readByte(),Ye=this.readByte(),Ke=this.readByte(),Ze=this.readByte(),Qe=this.readByte(),128&je?-1*(72057594037927940*(255^je)+281474976710656*(255^ze)+1099511627776*(255^qe)+4294967296*(255^Xe)+16777216*(255^Ye)+65536*(255^Ke)+256*(255^Ze)+(255^Qe)+1):72057594037927940*je+281474976710656*ze+1099511627776*qe+4294967296*Xe+16777216*Ye+65536*Ke+256*Ze+Qe},Ve.prototype.writeLongLong=function(je){var ze,qe;return ze=Math.floor(je/4294967296),qe=4294967295&je,this.writeByte(ze>>24&255),this.writeByte(ze>>16&255),this.writeByte(ze>>8&255),this.writeByte(255&ze),this.writeByte(qe>>24&255),this.writeByte(qe>>16&255),this.writeByte(qe>>8&255),this.writeByte(255&qe)},Ve.prototype.readInt=function(){return this.readInt32()},Ve.prototype.writeInt=function(je){return this.writeInt32(je)},Ve.prototype.read=function(je){var ze,qe;for(ze=[],qe=0;0<=je?qe<je:qe>je;qe=0<=je?++qe:--qe)ze.push(this.readByte());return ze},Ve.prototype.write=function(je){var ze,qe,Xe,Ye;for(Ye=[],qe=0,Xe=je.length;qe<Xe;qe++)ze=je[qe],Ye.push(this.writeByte(ze));return Ye},Ve}(),ie=function(){var Ve;function je(ze){var qe,Xe,Ye;for(this.scalarType=ze.readInt(),this.tableCount=ze.readShort(),this.searchRange=ze.readShort(),this.entrySelector=ze.readShort(),this.rangeShift=ze.readShort(),this.tables={},Xe=0,Ye=this.tableCount;0<=Ye?Xe<Ye:Xe>Ye;Xe=0<=Ye?++Xe:--Xe)qe={tag:ze.readString(4),checksum:ze.readInt(),offset:ze.readInt(),length:ze.readInt()},this.tables[qe.tag]=qe}return je.prototype.encode=function(ze){var qe,Xe,Ye,Ke,Ze,Qe,Je,St,ei,ti,ii,ri,si;for(si in ii=Object.keys(ze).length,Qe=Math.log(2),ei=16*Math.floor(Math.log(ii)/Qe),Ke=Math.floor(ei/Qe),St=16*ii-ei,(Xe=new ne).writeInt(this.scalarType),Xe.writeShort(ii),Xe.writeShort(ei),Xe.writeShort(Ke),Xe.writeShort(St),Ye=16*ii,Je=Xe.pos+Ye,Ze=null,ri=[],ze)for(ti=ze[si],Xe.writeString(si),Xe.writeInt(Ve(ti)),Xe.writeInt(Je),Xe.writeInt(ti.length),ri=ri.concat(ti),si==="head"&&(Ze=Je),Je+=ti.length;Je%4;)ri.push(0),Je++;return Xe.write(ri),qe=2981146554-Ve(Xe.data),Xe.pos=Ze+8,Xe.writeUInt32(qe),Xe.data},Ve=function(ze){var qe,Xe,Ye,Ke;for(ze=ve.call(ze);ze.length%4;)ze.push(0);for(Ye=new ne(ze),Xe=0,qe=0,Ke=ze.length;qe<Ke;qe=qe+=4)Xe+=Ye.readUInt32();return 4294967295&Xe},je}(),ae={}.hasOwnProperty,oe=function(Ve,je){for(var ze in je)ae.call(je,ze)&&(Ve[ze]=je[ze]);function qe(){this.constructor=Ve}return qe.prototype=je.prototype,Ve.prototype=new qe,Ve.__super__=je.prototype,Ve};re=function(){function Ve(je){var ze;this.file=je,ze=this.file.directory.tables[this.tag],this.exists=!!ze,ze&&(this.offset=ze.offset,this.length=ze.length,this.parse(this.file.contents))}return Ve.prototype.parse=function(){},Ve.prototype.encode=function(){},Ve.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},Ve}();var se=function(Ve){function je(){return je.__super__.constructor.apply(this,arguments)}return oe(je,re),je.prototype.tag="head",je.prototype.parse=function(ze){return ze.pos=this.offset,this.version=ze.readInt(),this.revision=ze.readInt(),this.checkSumAdjustment=ze.readInt(),this.magicNumber=ze.readInt(),this.flags=ze.readShort(),this.unitsPerEm=ze.readShort(),this.created=ze.readLongLong(),this.modified=ze.readLongLong(),this.xMin=ze.readShort(),this.yMin=ze.readShort(),this.xMax=ze.readShort(),this.yMax=ze.readShort(),this.macStyle=ze.readShort(),this.lowestRecPPEM=ze.readShort(),this.fontDirectionHint=ze.readShort(),this.indexToLocFormat=ze.readShort(),this.glyphDataFormat=ze.readShort()},je.prototype.encode=function(ze){var qe;return(qe=new ne).writeInt(this.version),qe.writeInt(this.revision),qe.writeInt(this.checkSumAdjustment),qe.writeInt(this.magicNumber),qe.writeShort(this.flags),qe.writeShort(this.unitsPerEm),qe.writeLongLong(this.created),qe.writeLongLong(this.modified),qe.writeShort(this.xMin),qe.writeShort(this.yMin),qe.writeShort(this.xMax),qe.writeShort(this.yMax),qe.writeShort(this.macStyle),qe.writeShort(this.lowestRecPPEM),qe.writeShort(this.fontDirectionHint),qe.writeShort(ze),qe.writeShort(this.glyphDataFormat),qe.data},je}(),ce=function(){function Ve(je,ze){var qe,Xe,Ye,Ke,Ze,Qe,Je,St,ei,ti,ii,ri,si,ui,ai,oi,ni;switch(this.platformID=je.readUInt16(),this.encodingID=je.readShort(),this.offset=ze+je.readInt(),ei=je.pos,je.pos=this.offset,this.format=je.readUInt16(),this.length=je.readUInt16(),this.language=je.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(Qe=0;Qe<256;++Qe)this.codeMap[Qe]=je.readByte();break;case 4:for(ii=je.readUInt16(),ti=ii/2,je.pos+=6,Ye=function(){var ci,hi;for(hi=[],Qe=ci=0;0<=ti?ci<ti:ci>ti;Qe=0<=ti?++ci:--ci)hi.push(je.readUInt16());return hi}(),je.pos+=2,si=function(){var ci,hi;for(hi=[],Qe=ci=0;0<=ti?ci<ti:ci>ti;Qe=0<=ti?++ci:--ci)hi.push(je.readUInt16());return hi}(),Je=function(){var ci,hi;for(hi=[],Qe=ci=0;0<=ti?ci<ti:ci>ti;Qe=0<=ti?++ci:--ci)hi.push(je.readUInt16());return hi}(),St=function(){var ci,hi;for(hi=[],Qe=ci=0;0<=ti?ci<ti:ci>ti;Qe=0<=ti?++ci:--ci)hi.push(je.readUInt16());return hi}(),Xe=(this.length-je.pos+this.offset)/2,Ze=function(){var ci,hi;for(hi=[],Qe=ci=0;0<=Xe?ci<Xe:ci>Xe;Qe=0<=Xe?++ci:--ci)hi.push(je.readUInt16());return hi}(),Qe=ai=0,ni=Ye.length;ai<ni;Qe=++ai)for(ui=Ye[Qe],qe=oi=ri=si[Qe];ri<=ui?oi<=ui:oi>=ui;qe=ri<=ui?++oi:--oi)St[Qe]===0?Ke=qe+Je[Qe]:(Ke=Ze[St[Qe]/2+(qe-ri)-(ti-Qe)]||0)!==0&&(Ke+=Je[Qe]),this.codeMap[qe]=65535&Ke}je.pos=ei}return Ve.encode=function(je,ze){var qe,Xe,Ye,Ke,Ze,Qe,Je,St,ei,ti,ii,ri,si,ui,ai,oi,ni,ci,hi,di,fi,mi,pi,wi,gi,yi,Ai,Si,ki,Li,Bi,Pi,Ri,Fi,Gi,Ti,Vi,Ui,$i,Wi,tn,nn,Qi,Ei,bi,Ci;switch(Si=new ne,Ke=Object.keys(je).sort(function(_i,Ii){return _i-Ii}),ze){case"macroman":for(si=0,ui=function(){var _i=[];for(ri=0;ri<256;++ri)_i.push(0);return _i}(),oi={0:0},Ye={},ki=0,Ri=Ke.length;ki<Ri;ki++)oi[Qi=je[Xe=Ke[ki]]]==null&&(oi[Qi]=++si),Ye[Xe]={old:je[Xe],new:oi[je[Xe]]},ui[Xe]=oi[je[Xe]];return Si.writeUInt16(1),Si.writeUInt16(0),Si.writeUInt32(12),Si.writeUInt16(0),Si.writeUInt16(262),Si.writeUInt16(0),Si.write(ui),{charMap:Ye,subtable:Si.data,maxGlyphID:si+1};case"unicode":for(yi=[],ei=[],ni=0,oi={},qe={},ai=Je=null,Li=0,Fi=Ke.length;Li<Fi;Li++)oi[hi=je[Xe=Ke[Li]]]==null&&(oi[hi]=++ni),qe[Xe]={old:hi,new:oi[hi]},Ze=oi[hi]-Xe,ai!=null&&Ze===Je||(ai&&ei.push(ai),yi.push(Xe),Je=Ze),ai=Xe;for(ai&&ei.push(ai),ei.push(65535),yi.push(65535),wi=2*(pi=yi.length),mi=2*Math.pow(Math.log(pi)/Math.LN2,2),ti=Math.log(mi/2)/Math.LN2,fi=2*pi-mi,Qe=[],di=[],ii=[],ri=Bi=0,Gi=yi.length;Bi<Gi;ri=++Bi){if(gi=yi[ri],St=ei[ri],gi===65535){Qe.push(0),di.push(0);break}if(gi-(Ai=qe[gi].new)>=32768)for(Qe.push(0),di.push(2*(ii.length+pi-ri)),Xe=Pi=gi;gi<=St?Pi<=St:Pi>=St;Xe=gi<=St?++Pi:--Pi)ii.push(qe[Xe].new);else Qe.push(Ai-gi),di.push(0)}for(Si.writeUInt16(3),Si.writeUInt16(1),Si.writeUInt32(12),Si.writeUInt16(4),Si.writeUInt16(16+8*pi+2*ii.length),Si.writeUInt16(0),Si.writeUInt16(wi),Si.writeUInt16(mi),Si.writeUInt16(ti),Si.writeUInt16(fi),tn=0,Ti=ei.length;tn<Ti;tn++)Xe=ei[tn],Si.writeUInt16(Xe);for(Si.writeUInt16(0),nn=0,Vi=yi.length;nn<Vi;nn++)Xe=yi[nn],Si.writeUInt16(Xe);for(Ei=0,Ui=Qe.length;Ei<Ui;Ei++)Ze=Qe[Ei],Si.writeUInt16(Ze);for(bi=0,$i=di.length;bi<$i;bi++)ci=di[bi],Si.writeUInt16(ci);for(Ci=0,Wi=ii.length;Ci<Wi;Ci++)si=ii[Ci],Si.writeUInt16(si);return{charMap:qe,subtable:Si.data,maxGlyphID:ni+1}}},Ve}(),ue=function(Ve){function je(){return je.__super__.constructor.apply(this,arguments)}return oe(je,re),je.prototype.tag="cmap",je.prototype.parse=function(ze){var qe,Xe,Ye;for(ze.pos=this.offset,this.version=ze.readUInt16(),Ye=ze.readUInt16(),this.tables=[],this.unicode=null,Xe=0;0<=Ye?Xe<Ye:Xe>Ye;Xe=0<=Ye?++Xe:--Xe)qe=new ce(ze,this.offset),this.tables.push(qe),qe.isUnicode&&this.unicode==null&&(this.unicode=qe);return!0},je.encode=function(ze,qe){var Xe,Ye;return qe==null&&(qe="macroman"),Xe=ce.encode(ze,qe),(Ye=new ne).writeUInt16(0),Ye.writeUInt16(1),Xe.table=Ye.data.concat(Xe.subtable),Xe},je}(),he=function(Ve){function je(){return je.__super__.constructor.apply(this,arguments)}return oe(je,re),je.prototype.tag="hhea",je.prototype.parse=function(ze){return ze.pos=this.offset,this.version=ze.readInt(),this.ascender=ze.readShort(),this.decender=ze.readShort(),this.lineGap=ze.readShort(),this.advanceWidthMax=ze.readShort(),this.minLeftSideBearing=ze.readShort(),this.minRightSideBearing=ze.readShort(),this.xMaxExtent=ze.readShort(),this.caretSlopeRise=ze.readShort(),this.caretSlopeRun=ze.readShort(),this.caretOffset=ze.readShort(),ze.pos+=8,this.metricDataFormat=ze.readShort(),this.numberOfMetrics=ze.readUInt16()},je}(),le=function(Ve){function je(){return je.__super__.constructor.apply(this,arguments)}return oe(je,re),je.prototype.tag="OS/2",je.prototype.parse=function(ze){if(ze.pos=this.offset,this.version=ze.readUInt16(),this.averageCharWidth=ze.readShort(),this.weightClass=ze.readUInt16(),this.widthClass=ze.readUInt16(),this.type=ze.readShort(),this.ySubscriptXSize=ze.readShort(),this.ySubscriptYSize=ze.readShort(),this.ySubscriptXOffset=ze.readShort(),this.ySubscriptYOffset=ze.readShort(),this.ySuperscriptXSize=ze.readShort(),this.ySuperscriptYSize=ze.readShort(),this.ySuperscriptXOffset=ze.readShort(),this.ySuperscriptYOffset=ze.readShort(),this.yStrikeoutSize=ze.readShort(),this.yStrikeoutPosition=ze.readShort(),this.familyClass=ze.readShort(),this.panose=function(){var qe,Xe;for(Xe=[],qe=0;qe<10;++qe)Xe.push(ze.readByte());return Xe}(),this.charRange=function(){var qe,Xe;for(Xe=[],qe=0;qe<4;++qe)Xe.push(ze.readInt());return Xe}(),this.vendorID=ze.readString(4),this.selection=ze.readShort(),this.firstCharIndex=ze.readShort(),this.lastCharIndex=ze.readShort(),this.version>0&&(this.ascent=ze.readShort(),this.descent=ze.readShort(),this.lineGap=ze.readShort(),this.winAscent=ze.readShort(),this.winDescent=ze.readShort(),this.codePageRange=function(){var qe,Xe;for(Xe=[],qe=0;qe<2;qe=++qe)Xe.push(ze.readInt());return Xe}(),this.version>1))return this.xHeight=ze.readShort(),this.capHeight=ze.readShort(),this.defaultChar=ze.readShort(),this.breakChar=ze.readShort(),this.maxContext=ze.readShort()},je}(),fe=function(Ve){function je(){return je.__super__.constructor.apply(this,arguments)}return oe(je,re),je.prototype.tag="post",je.prototype.parse=function(ze){var qe,Xe,Ye;switch(ze.pos=this.offset,this.format=ze.readInt(),this.italicAngle=ze.readInt(),this.underlinePosition=ze.readShort(),this.underlineThickness=ze.readShort(),this.isFixedPitch=ze.readInt(),this.minMemType42=ze.readInt(),this.maxMemType42=ze.readInt(),this.minMemType1=ze.readInt(),this.maxMemType1=ze.readInt(),this.format){case 65536:break;case 131072:var Ke;for(Xe=ze.readUInt16(),this.glyphNameIndex=[],Ke=0;0<=Xe?Ke<Xe:Ke>Xe;Ke=0<=Xe?++Ke:--Ke)this.glyphNameIndex.push(ze.readUInt16());for(this.names=[],Ye=[];ze.pos<this.offset+this.length;)qe=ze.readByte(),Ye.push(this.names.push(ze.readString(qe)));return Ye;case 151552:return Xe=ze.readUInt16(),this.offsets=ze.read(Xe);case 196608:break;case 262144:return this.map=(function(){var Ze,Qe,Je;for(Je=[],Ke=Ze=0,Qe=this.file.maxp.numGlyphs;0<=Qe?Ze<Qe:Ze>Qe;Ke=0<=Qe?++Ze:--Ze)Je.push(ze.readUInt32());return Je}).call(this)}},je}(),de=function(Ve,je){this.raw=Ve,this.length=Ve.length,this.platformID=je.platformID,this.encodingID=je.encodingID,this.languageID=je.languageID},pe=function(Ve){function je(){return je.__super__.constructor.apply(this,arguments)}return oe(je,re),je.prototype.tag="name",je.prototype.parse=function(ze){var qe,Xe,Ye,Ke,Ze,Qe,Je,St,ei,ti,ii;for(ze.pos=this.offset,ze.readShort(),qe=ze.readShort(),Qe=ze.readShort(),Xe=[],Ke=0;0<=qe?Ke<qe:Ke>qe;Ke=0<=qe?++Ke:--Ke)Xe.push({platformID:ze.readShort(),encodingID:ze.readShort(),languageID:ze.readShort(),nameID:ze.readShort(),length:ze.readShort(),offset:this.offset+Qe+ze.readShort()});for(Je={},Ke=ei=0,ti=Xe.length;ei<ti;Ke=++ei)Ye=Xe[Ke],ze.pos=Ye.offset,St=ze.readString(Ye.length),Ze=new de(St,Ye),Je[ii=Ye.nameID]==null&&(Je[ii]=[]),Je[Ye.nameID].push(Ze);this.strings=Je,this.copyright=Je[0],this.fontFamily=Je[1],this.fontSubfamily=Je[2],this.uniqueSubfamily=Je[3],this.fontName=Je[4],this.version=Je[5];try{this.postscriptName=Je[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=Je[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=Je[7],this.manufacturer=Je[8],this.designer=Je[9],this.description=Je[10],this.vendorUrl=Je[11],this.designerUrl=Je[12],this.license=Je[13],this.licenseUrl=Je[14],this.preferredFamily=Je[15],this.preferredSubfamily=Je[17],this.compatibleFull=Je[18],this.sampleText=Je[19]},je}(),ge=function(Ve){function je(){return je.__super__.constructor.apply(this,arguments)}return oe(je,re),je.prototype.tag="maxp",je.prototype.parse=function(ze){return ze.pos=this.offset,this.version=ze.readInt(),this.numGlyphs=ze.readUInt16(),this.maxPoints=ze.readUInt16(),this.maxContours=ze.readUInt16(),this.maxCompositePoints=ze.readUInt16(),this.maxComponentContours=ze.readUInt16(),this.maxZones=ze.readUInt16(),this.maxTwilightPoints=ze.readUInt16(),this.maxStorage=ze.readUInt16(),this.maxFunctionDefs=ze.readUInt16(),this.maxInstructionDefs=ze.readUInt16(),this.maxStackElements=ze.readUInt16(),this.maxSizeOfInstructions=ze.readUInt16(),this.maxComponentElements=ze.readUInt16(),this.maxComponentDepth=ze.readUInt16()},je}(),me=function(Ve){function je(){return je.__super__.constructor.apply(this,arguments)}return oe(je,re),je.prototype.tag="hmtx",je.prototype.parse=function(ze){var qe,Xe,Ye,Ke,Ze,Qe,Je;for(ze.pos=this.offset,this.metrics=[],qe=0,Qe=this.file.hhea.numberOfMetrics;0<=Qe?qe<Qe:qe>Qe;qe=0<=Qe?++qe:--qe)this.metrics.push({advance:ze.readUInt16(),lsb:ze.readInt16()});for(Ye=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var St,ei;for(ei=[],qe=St=0;0<=Ye?St<Ye:St>Ye;qe=0<=Ye?++St:--St)ei.push(ze.readInt16());return ei}(),this.widths=(function(){var St,ei,ti,ii;for(ii=[],St=0,ei=(ti=this.metrics).length;St<ei;St++)Ke=ti[St],ii.push(Ke.advance);return ii}).call(this),Xe=this.widths[this.widths.length-1],Je=[],qe=Ze=0;0<=Ye?Ze<Ye:Ze>Ye;qe=0<=Ye?++Ze:--Ze)Je.push(this.widths.push(Xe));return Je},je.prototype.forGlyph=function(ze){return ze in this.metrics?this.metrics[ze]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[ze-this.metrics.length]}},je}(),ve=[].slice,be=function(Ve){function je(){return je.__super__.constructor.apply(this,arguments)}return oe(je,re),je.prototype.tag="glyf",je.prototype.parse=function(){return this.cache={}},je.prototype.glyphFor=function(ze){var qe,Xe,Ye,Ke,Ze,Qe,Je,St,ei,ti;return ze in this.cache?this.cache[ze]:(Ke=this.file.loca,qe=this.file.contents,Xe=Ke.indexOf(ze),(Ye=Ke.lengthOf(ze))===0?this.cache[ze]=null:(qe.pos=this.offset+Xe,Ze=(Qe=new ne(qe.read(Ye))).readShort(),St=Qe.readShort(),ti=Qe.readShort(),Je=Qe.readShort(),ei=Qe.readShort(),this.cache[ze]=Ze===-1?new we(Qe,St,ti,Je,ei):new ye(Qe,Ze,St,ti,Je,ei),this.cache[ze]))},je.prototype.encode=function(ze,qe,Xe){var Ye,Ke,Ze,Qe,Je;for(Ze=[],Ke=[],Qe=0,Je=qe.length;Qe<Je;Qe++)Ye=ze[qe[Qe]],Ke.push(Ze.length),Ye&&(Ze=Ze.concat(Ye.encode(Xe)));return Ke.push(Ze.length),{table:Ze,offsets:Ke}},je}(),ye=function(){function Ve(je,ze,qe,Xe,Ye,Ke){this.raw=je,this.numberOfContours=ze,this.xMin=qe,this.yMin=Xe,this.xMax=Ye,this.yMax=Ke,this.compound=!1}return Ve.prototype.encode=function(){return this.raw.data},Ve}(),we=function(){function Ve(je,ze,qe,Xe,Ye){var Ke,Ze;for(this.raw=je,this.xMin=ze,this.yMin=qe,this.xMax=Xe,this.yMax=Ye,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],Ke=this.raw;Ze=Ke.readShort(),this.glyphOffsets.push(Ke.pos),this.glyphIDs.push(Ke.readUInt16()),32&Ze;)Ke.pos+=1&Ze?4:2,128&Ze?Ke.pos+=8:64&Ze?Ke.pos+=4:8&Ze&&(Ke.pos+=2)}return Ve.prototype.encode=function(){var je,ze,qe;for(ze=new ne(ve.call(this.raw.data)),je=0,qe=this.glyphIDs.length;je<qe;++je)ze.pos=this.glyphOffsets[je];return ze.data},Ve}(),Ne=function(Ve){function je(){return je.__super__.constructor.apply(this,arguments)}return oe(je,re),je.prototype.tag="loca",je.prototype.parse=function(ze){var qe,Xe;return ze.pos=this.offset,qe=this.file.head.indexToLocFormat,this.offsets=qe===0?(function(){var Ye,Ke;for(Ke=[],Xe=0,Ye=this.length;Xe<Ye;Xe+=2)Ke.push(2*ze.readUInt16());return Ke}).call(this):(function(){var Ye,Ke;for(Ke=[],Xe=0,Ye=this.length;Xe<Ye;Xe+=4)Ke.push(ze.readUInt32());return Ke}).call(this)},je.prototype.indexOf=function(ze){return this.offsets[ze]},je.prototype.lengthOf=function(ze){return this.offsets[ze+1]-this.offsets[ze]},je.prototype.encode=function(ze,qe){for(var Xe=new Uint32Array(this.offsets.length),Ye=0,Ke=0,Ze=0;Ze<Xe.length;++Ze)if(Xe[Ze]=Ye,Ke<qe.length&&qe[Ke]==Ze){++Ke,Xe[Ze]=Ye;var Qe=this.offsets[Ze],Je=this.offsets[Ze+1]-Qe;Je>0&&(Ye+=Je)}for(var St=new Array(4*Xe.length),ei=0;ei<Xe.length;++ei)St[4*ei+3]=255&Xe[ei],St[4*ei+2]=(65280&Xe[ei])>>8,St[4*ei+1]=(16711680&Xe[ei])>>16,St[4*ei]=(4278190080&Xe[ei])>>24;return St},je}(),Le=function(){function Ve(je){this.font=je,this.subset={},this.unicodes={},this.next=33}return Ve.prototype.generateCmap=function(){var je,ze,qe,Xe,Ye;for(ze in Xe=this.font.cmap.tables[0].codeMap,je={},Ye=this.subset)qe=Ye[ze],je[ze]=Xe[qe];return je},Ve.prototype.glyphsFor=function(je){var ze,qe,Xe,Ye,Ke,Ze,Qe;for(Xe={},Ke=0,Ze=je.length;Ke<Ze;Ke++)Xe[Ye=je[Ke]]=this.font.glyf.glyphFor(Ye);for(Ye in ze=[],Xe)(qe=Xe[Ye])!=null&&qe.compound&&ze.push.apply(ze,qe.glyphIDs);if(ze.length>0)for(Ye in Qe=this.glyphsFor(ze))qe=Qe[Ye],Xe[Ye]=qe;return Xe},Ve.prototype.encode=function(je,ze){var qe,Xe,Ye,Ke,Ze,Qe,Je,St,ei,ti,ii,ri,si,ui,ai;for(Xe in qe=ue.encode(this.generateCmap(),"unicode"),Ke=this.glyphsFor(je),ii={0:0},ai=qe.charMap)ii[(Qe=ai[Xe]).old]=Qe.new;for(ri in ti=qe.maxGlyphID,Ke)ri in ii||(ii[ri]=ti++);return St=function(oi){var ni,ci;for(ni in ci={},oi)ci[oi[ni]]=ni;return ci}(ii),ei=Object.keys(St).sort(function(oi,ni){return oi-ni}),si=function(){var oi,ni,ci;for(ci=[],oi=0,ni=ei.length;oi<ni;oi++)Ze=ei[oi],ci.push(St[Ze]);return ci}(),Ye=this.font.glyf.encode(Ke,si,ii),Je=this.font.loca.encode(Ye.offsets,si),ui={cmap:this.font.cmap.raw(),glyf:Ye.table,loca:Je,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(ze)},this.font.os2.exists&&(ui["OS/2"]=this.font.os2.raw()),this.font.directory.encode(ui)},Ve}();E.API.PDFObject=function(){var Ve;function je(){}return Ve=function(ze,qe){return(Array(qe+1).join("0")+ze).slice(-qe)},je.convert=function(ze){var qe,Xe,Ye,Ke;if(Array.isArray(ze))return"["+function(){var Ze,Qe,Je;for(Je=[],Ze=0,Qe=ze.length;Ze<Qe;Ze++)qe=ze[Ze],Je.push(je.convert(qe));return Je}().join(" ")+"]";if(typeof ze=="string")return"/"+ze;if(ze!=null&&ze.isString)return"("+ze+")";if(ze instanceof Date)return"(D:"+Ve(ze.getUTCFullYear(),4)+Ve(ze.getUTCMonth(),2)+Ve(ze.getUTCDate(),2)+Ve(ze.getUTCHours(),2)+Ve(ze.getUTCMinutes(),2)+Ve(ze.getUTCSeconds(),2)+"Z)";if({}.toString.call(ze)==="[object Object]"){for(Xe in Ye=["<<"],ze)Ke=ze[Xe],Ye.push("/"+Xe+" "+je.convert(Ke));return Ye.push(">>"),Ye.join(`
`)}return""+ze},je}();class PdfRenderContext extends ClippingRenderContext{constructor(ze){super();Yn(this,"_pdf");Yn(this,"ctx");Yn(this,"_textMeasurer");Yn(this,"styleConverter",new OxyStyleToCanvasStyleConverter);Yn(this,"_ctxInitStyles");this._pdf=new E({unit:"px",orientation:ze});const qe=this._pdf.context2d;this.ctx=qe,this._ctxInitStyles={fillStyle:qe.fillStyle,strokeStyle:qe.strokeStyle,lineJoin:qe.lineJoin,lineWidth:qe.lineWidth},this._textMeasurer=canvasTextMeasurer()}getPdf(){return this._pdf}async drawImage(ze,qe,Xe,Ye,Ke,Ze,Qe,Je,St,ei,ti){if(ei<=0)return;const ii=Ze-qe/Ye*Je,ri=ze.width/Ye*Je,si=Qe-Xe/Ke*St,ui=ze.height/Ke*St;this.clearStyles(),this._pdf.addImage(ze.data,"PNG",ii,si,ri,ui)}async drawLineSegments(ze,qe,Xe,Ye,Ke,Ze){if(ze.length<2||qe.isInvisible()||Xe==0)return;this.clearStyles();const Qe=this.ctx;Qe.beginPath(),this.applyLineStyle(qe,Xe,Ye,Ke,Ze);for(let Je=0;Je<ze.length;Je+=2){const St=ze[Je],ei=ze[Je+1];this.drawPoints([St,ei])}Qe.stroke()}async drawLine(ze,qe,Xe,Ye,Ke,Ze){if(ze.length<2||qe.isInvisible()||Xe==0)return;this.clearStyles();const Qe=this.ctx;Qe.beginPath(),this.applyLineStyle(qe,Xe,Ye,Ke,Ze),this.drawPoints(ze),Qe.stroke()}async drawPolygon(ze,qe,Xe,Ye,Ke,Ze,Qe){if(qe.isInvisible()&&!(Xe.isVisible()||Ye<=0)||ze.length<2)return;this.clearStyles();const Je=this.ctx;if(qe.a<255||Xe.a<255){this._pdf.saveGraphicsState();let St=1,ei=1;qe.a<255&&(St=qe.a/255),Xe.a<255&&(ei=Xe.a/255),this._pdf.setGState(this._pdf.GState({opacity:St,"stroke-opacity":ei}))}Je.beginPath(),this.applyPolygonStyle(qe,Xe,Ye,Ke,Ze,Qe),this.drawPoints(ze),Je.closePath(),qe.isVisible()&&Je.fill(),Xe.isVisible()&&Ye>0&&Je.stroke(),(qe.a<255||Xe.a<255)&&this._pdf.restoreGraphicsState()}async drawPolygons(ze,qe,Xe,Ye,Ke,Ze,Qe){if(qe.isInvisible()&&!(Xe.isVisible()||Ye<=0)||ze.length===0)return;this.clearStyles();const Je=this.ctx;this.applyPolygonStyle(qe,Xe,Ye,Ke,Ze,Qe);for(const St of ze)St.length<2||(Je.beginPath(),this.drawPoints(St),Je.closePath(),qe.isVisible()&&Je.fill(),Xe.isVisible()&&Ye>0&&Je.stroke())}async drawText(ze,qe,Xe,Ye,Ke,Ze,Qe,Je,St,ei){if(!qe||Xe.isInvisible())return;this.clearStyles(),isNullOrUndef(Je)&&(Je=HorizontalAlignment.Left),isNullOrUndef(St)&&(St=VerticalAlignment.Top);const ti=this.ctx;Ke=Ke||12,Ze=Ze||FontWeights.Normal,this.applyTextStyle(Xe,Ye,Ke,Ze),ti.save(),ti.translate(ze.x,ze.y),Qe&&ti.rotate(Qe*(Math.PI/180));const ii=StringHelper.splitLines(qe),ri=[];for(const ai of ii){const oi=this.measureText(ai,Ye,Ke,Ze);ri.push(oi)}const si=ri.reduce((ai,oi)=>ai+oi.height,0);let ui=0;ti.textBaseline="middle",St===VerticalAlignment.Top?ui=0:St===VerticalAlignment.Middle?ui=-si/2:St===VerticalAlignment.Bottom&&(ui=-si);for(let ai=0;ai<ii.length;ai++){const oi=ii[ai];let ni=0;const ci=ri[ai];Je===HorizontalAlignment.Center?ni=-ci.width/2:Je===HorizontalAlignment.Right&&(ni=-ci.width),ti.fillText(oi,ni,ui+ci.height/2),ui+=ci.height}ti.restore()}measureText(ze,qe,Xe,Ye){return this._textMeasurer.measureText(ze,qe,Xe,Ye)}setClip(ze){this.ctx.save(),this.ctx.rect(ze.left,ze.top,ze.width,ze.height),this.ctx.clip()}resetClip(){this.ctx.restore()}applyLineStyle(ze,qe,Xe,Ye,Ke){const Ze=this.ctx;Ye&&Ye.length>0&&Ze.setLineDash(Ye),Ze.lineWidth=qe,Ze.lineJoin=this.styleConverter.convertLineJoin(Ke),Ze.strokeStyle=this.styleConverter.convertStrokeOrFillStyle(ze)}clearStyles(){this.ctx.setLineDash([])}applyPolygonStyle(ze,qe,Xe,Ye,Ke,Ze){qe.isVisible()&&Xe>0&&this.applyLineStyle(qe,Xe,Ye,Ke,Ze),ze.isVisible()&&(this.ctx.fillStyle=this.styleConverter.convertStrokeOrFillStyle(ze))}applyTextStyle(ze,qe,Xe,Ye){const Ke=this.ctx;Ke.fillStyle=this.styleConverter.convertStrokeOrFillStyle(ze),Ke.font=this.styleConverter.convertFont(qe,Xe,Ye)}drawPoints(ze){this.ctx.moveTo(ze[0].x,ze[0].y);for(let qe=1;qe<ze.length;qe++){const Xe=ze[qe];this.ctx.lineTo(Xe.x,Xe.y)}}}class WebPlotViewBase{constructor(){Yn(this,"controller");Yn(this,"defaultController");Yn(this,"_zoomRectangle");Yn(this,"_model");Yn(this,"_isModelInvalidated",!1);Yn(this,"_updateDataFlag",!1);Yn(this,"_rendering",!1)}get actualController(){return this.controller?this.controller:this.defaultController?this.defaultController:(this.defaultController=new PlotController,this.defaultController)}get actualModel(){return this._model}get model(){return this._model}set model(je){const ze=this._model;this._model=je,this.onModelChanged(ze,je)}onModelChanged(je,ze){je&&je.attachPlotView(void 0),ze&&ze.attachPlotView(this),this.invalidatePlot(!0)}invalidatePlot(je){this._isModelInvalidated=!0,this._updateDataFlag=je||!1,this.render()}render(){const je=this._model;je&&(this._isModelInvalidated&&(je.update(this._updateDataFlag),this._isModelInvalidated=!1,this._updateDataFlag=!1),window.requestAnimationFrame(async()=>this.renderSync()))}setClipboardText(je){try{navigator.clipboard.writeText(je)}catch(ze){console.error(ze)}}setCursorType(je){}hideTracker(){}showTracker(je){}hideZoomRectangle(){this._zoomRectangle=void 0}showZoomRectangle(je){this._zoomRectangle=je}async renderSync(){if(this._model&&!this._rendering){this._rendering=!0;try{await this.renderOverride(this._model)}finally{this._rendering=!1}}}}class PdfPlotView extends WebPlotViewBase{constructor(ze){super();Yn(this,"_view");Yn(this,"_orientation","portrait");Yn(this,"_clientArea",OxyRect.Empty);this._view=ze,this.calcClientArea()}get orientation(){return this._orientation}set orientation(ze){ze!==this._orientation&&(this._orientation=ze,this.calcClientArea())}calcClientArea(){const ze=new E({unit:"px",orientation:this.orientation}),qe=new OxySize(ze.internal.pageSize.width,ze.internal.pageSize.height);ze.close(),this._clientArea=OxyRect.fromScreenPointAndSize(ScreenPoint.LeftTop,qe)}get clientArea(){return this._clientArea}async renderOverride(ze){const qe=new PdfRenderContext(this.orientation);await ze.render(qe,this.clientArea);const Xe=qe.getPdf();Xe.internal.pages.length>1&&Xe.deletePage(1);const Ye=Xe.output("dataurlstring",{filename:ze.title+".pdf"});this._view.src="",this._view.src=Ye}}function toOxyMouseEventArgs(Ve){return{position:new ScreenPoint(Ve.offsetX,Ve.offsetY),modifierKeys:convertModifiers(Ve),handled:!1}}function toOxyMouseDownEventArgs(Ve){const je=toOxyMouseEventArgs(Ve);return je.clickCount=Ve.detail,je.changedButton=convertMouseButtons(Ve),je}function toOxyMouseWheelEventArgs(Ve){const je=toOxyMouseEventArgs(Ve);return je.delta=Ve.deltaY!=0?-Ve.deltaY:Ve.deltaX,je}function convertModifiers(Ve){let je=OxyModifierKeys.None;return Ve.ctrlKey&&(je|=OxyModifierKeys.Control),Ve.shiftKey&&(je|=OxyModifierKeys.Shift),Ve.altKey&&(je|=OxyModifierKeys.Alt),Ve.metaKey&&(je|=OxyModifierKeys.Windows),je}function convertMouseButtons(Ve){return Ve.button===0?OxyMouseButton.Left:Ve.button===1?OxyMouseButton.Middle:Ve.button===2?OxyMouseButton.Right:Ve.button===3?OxyMouseButton.XButton1:Ve.button===4?OxyMouseButton.XButton2:OxyMouseButton.None}function convertCursorType(Ve){switch(Ve){case CursorType.Default:return"default";case CursorType.Pan:return"grab";case CursorType.ZoomRectangle:return"nwse-resize";case CursorType.ZoomHorizontal:return"ew-resize";case CursorType.ZoomVertical:return"ns-resize";default:return"default"}}function addPlotViewEvents(Ve,je){Ve.addEventListener("contextmenu",function(ze){ze.preventDefault()}),Ve.addEventListener("resize",async()=>{je.invalidatePlot(!1)}),Ve.onmousedown=ze=>{je.actualController.handleMouseDown(je,toOxyMouseDownEventArgs(ze))},Ve.onmousemove=ze=>{je.actualController.handleMouseMove(je,toOxyMouseEventArgs(ze))},Ve.onmouseup=ze=>{je.actualController.handleMouseUp(je,toOxyMouseEventArgs(ze))},Ve.onmouseenter=ze=>{je.actualController.handleMouseEnter(je,toOxyMouseEventArgs(ze))},Ve.onmouseleave=ze=>{je.actualController.handleMouseLeave(je,toOxyMouseEventArgs(ze))},Ve.onwheel=ze=>{je.actualController.handleMouseWheel(je,toOxyMouseWheelEventArgs(ze))}}class CanvasRenderContext extends ClippingRenderContext{constructor(ze){super();Yn(this,"ctx");Yn(this,"_textMeasurer");Yn(this,"styleConverter",new OxyStyleToCanvasStyleConverter);Yn(this,"_ctxInitStyles");Yn(this,"_renderContextImageCacheService");this.canvas=ze;const qe=ze.getContext("2d");if(!qe)throw new Error("Could not get canvas context");this.ctx=qe,this._ctxInitStyles={fillStyle:qe.fillStyle,strokeStyle:qe.strokeStyle,lineJoin:qe.lineJoin,lineWidth:qe.lineWidth},this._renderContextImageCacheService=getRenderContextImageCacheService(),this._textMeasurer=canvasTextMeasurer(qe)}async drawImage(ze,qe,Xe,Ye,Ke,Ze,Qe,Je,St,ei,ti){if(ei<=0)return;this.resetStyles();const ii=this.ctx,ri=await this.getOrCreateImage(ze,()=>{const si=new Blob([ze.data],{type:"image/png"});return createImageBitmap(si)});ii.imageSmoothingEnabled=ti,ii.drawImage(ri,qe,Xe,Ye,Ke,round(Ze,0),round(Qe,0),round(Je,0),round(St,0))}async drawLineSegments(ze,qe,Xe,Ye,Ke,Ze){if(ze.length<2||qe.isInvisible()||Xe==0)return;this.resetStyles();const Qe=this.ctx;Qe.beginPath(),this.applyLineStyle(qe,Xe,Ye,Ke,Ze);for(let Je=0;Je<ze.length;Je+=2){const St=ze[Je],ei=ze[Je+1];this.drawPoints([St,ei])}Qe.stroke()}async drawLine(ze,qe,Xe,Ye,Ke,Ze){if(ze.length<2||qe.isInvisible()||Xe==0)return;this.resetStyles();const Qe=this.ctx;Qe.beginPath(),this.applyLineStyle(qe,Xe,Ye,Ke,Ze),this.drawPoints(ze),Qe.stroke()}async drawPolygon(ze,qe,Xe,Ye,Ke,Ze,Qe){if(qe.isInvisible()&&!(Xe.isVisible()||Ye<=0)||ze.length<2)return;this.resetStyles();const Je=this.ctx;Je.beginPath(),this.applyPolygonStyle(qe,Xe,Ye,Ke,Ze,Qe),this.drawPoints(ze),Je.closePath(),qe.isVisible()&&Je.fill(),Xe.isVisible()&&Ye>0&&Je.stroke()}async drawPolygons(ze,qe,Xe,Ye,Ke,Ze,Qe){if(qe.isInvisible()&&!(Xe.isVisible()||Ye<=0)||ze.length===0)return;this.resetStyles();const Je=this.ctx;this.applyPolygonStyle(qe,Xe,Ye,Ke,Ze,Qe);for(const St of ze)St.length<2||(Je.beginPath(),this.drawPoints(St),Je.closePath(),qe.isVisible()&&Je.fill(),Xe.isVisible()&&Ye>0&&Je.stroke())}async drawText(ze,qe,Xe,Ye,Ke,Ze,Qe,Je,St,ei){if(!qe||Xe.isInvisible())return;isNullOrUndef(Je)&&(Je=HorizontalAlignment.Left),isNullOrUndef(St)&&(St=VerticalAlignment.Top),this.resetStyles();const ti=this.ctx;Ke=Ke||12,Ze=Ze||FontWeights.Normal,this.applyTextStyle(Xe,Ye,Ke,Ze),ti.save(),ti.translate(ze.x,ze.y),Qe&&ti.rotate(Qe*(Math.PI/180));const ii=StringHelper.splitLines(qe),ri=[];for(const ai of ii){const oi=this.measureText(ai,Ye,Ke,Ze);ri.push(oi)}const si=ri.reduce((ai,oi)=>ai+oi.height,0);let ui=0;ti.textBaseline="middle",St===VerticalAlignment.Top?ui=0:St===VerticalAlignment.Middle?ui=-si/2:St===VerticalAlignment.Bottom&&(ui=-si);for(let ai=0;ai<ii.length;ai++){const oi=ii[ai];let ni=0;const ci=ri[ai];Je===HorizontalAlignment.Center?ni=-ci.width/2:Je===HorizontalAlignment.Right&&(ni=-ci.width),ti.fillText(oi,ni,ui+ci.height/2,ei==null?void 0:ei.width),ui+=ci.height}ti.restore()}measureText(ze,qe,Xe,Ye){return this._textMeasurer.measureText(ze,qe,Xe,Ye)}setClip(ze){this.ctx.save();const qe=new Path2D;qe.rect(ze.left,ze.top,ze.width,ze.height),this.ctx.clip(qe)}resetClip(){this.ctx.restore()}resetStyles(){const ze=this.ctx;ze.setLineDash([]),Object.assign(ze,this._ctxInitStyles)}applyLineStyle(ze,qe,Xe,Ye,Ke){const Ze=this.ctx;Ye&&Ye.length>0&&Ze.setLineDash(Ye),Ze.lineWidth=qe,Ze.lineJoin=this.styleConverter.convertLineJoin(Ke),Ze.strokeStyle=this.styleConverter.convertStrokeOrFillStyle(ze)}applyPolygonStyle(ze,qe,Xe,Ye,Ke,Ze){qe.isVisible()&&Xe>0&&this.applyLineStyle(qe,Xe,Ye,Ke,Ze),ze.isVisible()&&(this.ctx.fillStyle=this.styleConverter.convertStrokeOrFillStyle(ze))}applyTextStyle(ze,qe,Xe,Ye){const Ke=this.ctx;Ke.fillStyle=this.styleConverter.convertStrokeOrFillStyle(ze),Ke.font=this.styleConverter.convertFont(qe,Xe,Ye)}drawPoints(ze){this.ctx.moveTo(ze[0].x,ze[0].y);for(let qe=1;qe<ze.length;qe++){const Xe=ze[qe];this.ctx.lineTo(Xe.x,Xe.y)}}async getOrCreateImage(ze,qe){const Xe=ze.getHashCode().toString(),Ye=this._renderContextImageCacheService.get(Xe);if(Ye)return Promise.resolve(Ye);const Ke=await qe();return this._renderContextImageCacheService.set(Xe,Ke),Ke}}class CanvasPlotView extends WebPlotViewBase{constructor(ze){super();Yn(this,"_view");Yn(this,"_tooltip");Yn(this,"_renderContext");Yn(this,"_drawCtx");Yn(this,"_styleConverter",new OxyStyleToCanvasStyleConverter);if(this._view=ze,this._drawCtx=this._view.getContext("2d"),!this._drawCtx)throw new Error("Could not get 2d context");this._tooltip=document.createElement("div"),this._tooltip.style.position="absolute",this._tooltip.style.zIndex="100",this._tooltip.style.backgroundColor="#FFFFA0E0",this._tooltip.style.border="1px solid black",this._tooltip.style.padding="8px",this._tooltip.style.visibility="hidden",this._tooltip.style.pointerEvents="none",document.body.appendChild(this._tooltip),this._renderContext=new CanvasRenderContext(this._view),addPlotViewEvents(this._view,this)}get tooltip(){return this._tooltip}get clientArea(){return new OxyRect(0,0,this._view.width,this._view.height)}hideTracker(){this._tooltip.style.visibility="hidden"}showTracker(ze){if(!(ze!=null&&ze.position))return;const qe=ze.toString()||"";if(qe.trim().length===0)return;const Xe=this._view.offsetTop,Ye=this._view.offsetLeft;this._tooltip.innerText=qe,this._tooltip.style.top=`${Xe+ze.position.y}px`,this._tooltip.style.left=`${Ye+ze.position.x}px`,this._tooltip.style.visibility="visible"}setCursorType(ze){this._view.style.cursor=convertCursorType(ze)}async renderOverride(ze){this._drawCtx=this._view.getContext("2d");const qe=this._view;if(this._drawCtx.reset(),ze.background.isUndefined()||(this._drawCtx.fillStyle=this._styleConverter.convertStrokeOrFillStyle(ze.background),this._drawCtx.fillRect(0,0,qe.width,qe.height)),await ze.render(this._renderContext,new OxyRect(0,0,qe.width,qe.height)),this._zoomRectangle&&this._zoomRectangle.equals(OxyRect.Empty)){const Xe=OxyColor.parse("#40FFFF00"),Ye=OxyColors.Black;await this._renderContext.drawRectangle(this._zoomRectangle,Xe,Ye,1,EdgeRenderingMode.Automatic)}}}class SvgPlotView extends WebPlotViewBase{constructor(ze){super();Yn(this,"_view");Yn(this,"_tooltip");Yn(this,"textMeasurer");this._view=ze,this.textMeasurer=canvasTextMeasurer(),this._tooltip=document.createElement("div"),this._tooltip.style.position="absolute",this._tooltip.style.zIndex="100",this._tooltip.style.backgroundColor="#FFFFA0E0",this._tooltip.style.border="1px solid black",this._tooltip.style.padding="8px",this._tooltip.style.visibility="hidden",this._tooltip.style.pointerEvents="none",document.body.appendChild(this._tooltip),addPlotViewEvents(this._view,this)}get tooltip(){return this._tooltip}get clientArea(){return new OxyRect(0,0,this._view.clientWidth,this._view.clientHeight)}hideTracker(){this._tooltip.style.visibility="hidden"}showTracker(ze){if(!(ze!=null&&ze.position))return;const qe=ze.toString()||"";if(qe.trim().length===0)return;const Xe=this._view.offsetTop,Ye=this._view.offsetLeft;this._tooltip.innerText=qe,this._tooltip.style.top=`${Xe+ze.position.y}px`,this._tooltip.style.left=`${Ye+ze.position.x}px`,this._tooltip.style.visibility="visible"}setCursorType(ze){this._view.style.cursor=convertCursorType(ze)}async renderOverride(ze){const qe=this._view;this._view.innerHTML="";const Xe=new SvgRenderContext(qe.clientWidth,qe.clientHeight,!0,this.textMeasurer,ze.background);if(ze.background.isUndefined()||(this._view.style.backgroundColor=ze.background.toString()),await ze.render(Xe,new OxyRect(0,0,qe.clientWidth,qe.clientHeight)),this._zoomRectangle&&this._zoomRectangle.equals(OxyRect.Empty)){const Ye=OxyColor.parse("#40FFFF00"),Ke=OxyColors.Black;await Xe.drawRectangle(this._zoomRectangle,Ye,Ke,1,EdgeRenderingMode.Automatic)}Xe.complete(),this._view.innerHTML=Xe.getXml()}}const _withScopeId=Ve=>(pushScopeId("data-v-26511aa1"),Ve=Ve(),popScopeId(),Ve),_hoisted_1={class:"flex py-4"},_hoisted_2={class:"w-[300px]"},_hoisted_3={class:"overflow-x-hidden overflow-y-auto mt-2",style:{"max-height":"calc(100vh - 100px)"}},_hoisted_4=["onClick"],_hoisted_5={class:"flex-grow ml-4"},_hoisted_6={id:"canvasPlotView",class:"border border-gray-200 rounded-lg shadow",style:{width:"800px",height:"600px"}},_hoisted_7={id:"svgPlotView",class:"border border-gray-200 rounded-lg shadow select-none",style:{width:"800px",height:"600px"}},_hoisted_8={class:"flex justify-between mt-2"},_hoisted_9={class:"flex items-center"},_hoisted_10={class:"relative mt-1"},_hoisted_11={class:"block truncate"},_hoisted_12={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"},_hoisted_13=_withScopeId(()=>createBaseVNode("span",{class:"ml-4 mr-2"},"landscape",-1)),_hoisted_14=_withScopeId(()=>createBaseVNode("span",{class:"ml-2"},"portrait",-1)),_hoisted_15={key:0,class:"flex"},_hoisted_16={key:0,class:"flex items-center"},_hoisted_17=["disabled"],_hoisted_18=_withScopeId(()=>createBaseVNode("label",{class:"ml-1 ms-2 text-sm font-medium text-gray-900 dark:text-gray-300",for:"chkTransposed"},"Transposed",-1)),_hoisted_19={key:1,class:"flex items-center ml-2"},_hoisted_20=["disabled"],_hoisted_21=_withScopeId(()=>createBaseVNode("label",{class:"ml-1 ms-2 text-sm font-medium text-gray-900 dark:text-gray-300",for:"chkReversed"},"Reversed",-1)),_sfc_main=defineComponent({__name:"App",setup(Ve){window.oxyPlotImg=oxyPlotImg,dayjs.extend(duration),dayjs.extend(dayOfYear);const je=ref(null),ze=ref(""),qe=ref(!1),Xe=ref(!1),Ye=ref(!1),Ke=ref(!1),Ze=ref("canvas"),Qe=ref(["canvas","pdf","svg"]),Je=ref(!1),St=computed(()=>{if(!ze.value)return examples;const oi=[],ni=ze.value.toLowerCase();function ci(hi,di){return(di.title||"").toLowerCase().includes(ni)||(hi.tags||[]).some(fi=>fi.toLowerCase().includes(ni))}for(const hi of examples){const di=hi.examples.filter(fi=>ci(hi,fi));di.length>0&&oi.push({category:hi.category,examples:di})}return oi});watch([qe,Ye,Ze],async()=>{if(!je.value)return;const oi=await ui(je.value);oi&&await ai(oi)}),watch(Je,()=>{});let ei=null;function ti(){if(ei)return ei;const oi=document.getElementById("canvasPlotView"),ni=oi.clientWidth,ci=oi.clientHeight,hi=window.devicePixelRatio||1;return oi.width=ni*hi,oi.height=ci*hi,oi.style.width=ni+"px",oi.style.height=ci+"px",ei=oi,ei}let ii={};function ri(){if(Ze.value==="canvas"){const oi="canvas";if(ii[oi])return ii[oi];const ni=ti(),ci=new CanvasPlotView(ni);return ii[oi]=ci,ci}if(Ze.value==="pdf"){const oi=Je.value?"pdf-portrait":"pdf-landscape";if(ii[oi])return ii[oi];const ni=new PdfPlotView(document.getElementById("pdfPlotView"));return ni.orientation=Je.value?"portrait":"landscape",ii[oi]=ni,ni}if(Ze.value==="svg"){const oi="svg";let ni=ii[oi];const ci=document.getElementById("svgPlotView");return ci.innerHTML="",ni||(ni=new SvgPlotView(ci),ii[oi]=ni,ni)}throw new Error(`Unknown render type: ${Ze.value}`)}async function si(oi,ni){if(toRaw(je.value)===ni)return;const ci=await ui(ni);ci&&(je.value=ni,Xe.value=PlotModelUtilities.isTransposable(ci.model),Ke.value=PlotModelUtilities.isReversible(ci.model),getRenderContextImageCacheService().clear(),await ai(ci))}async function ui(oi){let ni=null;try{ni=await oi.example.model()}catch(hi){return console.error(hi),alert(hi),null}if(!ni)return null;qe.value&&PlotModelUtilities.isTransposable(ni)&&PlotModelUtilities.transpose(ni),Ye.value&&PlotModelUtilities.isReversible(ni)&&PlotModelUtilities.reverseAllAxes(ni);let ci;return oi.example.controller&&(ci=oi.example.controller()),{model:ni,controller:ci}}async function ai(oi){const ni=oi.model;if(!ni)return;const ci=ri();ci.model=ni,ci.controller=oi.controller,ci.invalidatePlot(!0)}return(oi,ni)=>(openBlock(),createElementBlock("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":ni[0]||(ni[0]=ci=>ze.value=ci),placeholder:"Filter",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"},null,512),[[vModelText,ze.value]]),createBaseVNode("div",_hoisted_3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(St.value,ci=>(openBlock(),createBlock(unref(V$1),{as:"div",class:"mt-2 mr-1",key:ci.category},{default:withCtx(({open:hi})=>[createVNode(unref(X$1),{class:"flex w-full justify-between rounded-lg bg-purple-100 px-4 py-2 text-left text-sm font-medium text-purple-900 hover:bg-purple-200 focus:outline-none focus-visible:ring focus-visible:ring-purple-500/75"},{default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(ci.category)+" ("+toDisplayString(ci.examples.length)+")",1),createVNode(unref(render),{class:normalizeClass([hi?"rotate-180 transform":"","h-5 w-5 text-purple-500"])},null,8,["class"])]),_:2},1024),createVNode(unref(Y$1),{class:"px-4 pb-2 text-sm text-gray-500"},{default:withCtx(()=>[createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ci.examples,di=>(openBlock(),createElementBlock("li",{key:di.title,class:"my-2 cursor-pointer"},[createBaseVNode("div",{onClick:fi=>si(ci,di),class:normalizeClass({"text-sky-500 font-bold":toRaw(je.value)===di})},toDisplayString(di.title),11,_hoisted_4)]))),128))])]),_:2},1024)]),_:2},1024))),128))])]),createBaseVNode("div",_hoisted_5,[withDirectives(createBaseVNode("iframe",{id:"pdfPlotView",class:normalizeClass(["border border-gray-200 rounded-lg shadow",[Je.value?"pdfplotview-portrait":"pdfplotview-landscape"]])},null,2),[[vShow,Ze.value==="pdf"]]),withDirectives(createBaseVNode("canvas",_hoisted_6,null,512),[[vShow,Ze.value==="canvas"]]),withDirectives(createBaseVNode("div",_hoisted_7,null,512),[[vShow,Ze.value==="svg"]]),createBaseVNode("div",_hoisted_8,[createBaseVNode("div",_hoisted_9,[createTextVNode(" Renderer: "),createVNode(unref(Be),{modelValue:Ze.value,"onUpdate:modelValue":ni[1]||(ni[1]=ci=>Ze.value=ci),class:"ml-2",style:{"min-width":"120px"}},{default:withCtx(()=>[createBaseVNode("div",_hoisted_10,[createVNode(unref(Ne$1),{class:"relative w-full cursor-default rounded-lg bg-white py-2 pl-3 pr-10 text-left shadow-md focus:outline-none focus-visible:border-indigo-500 focus-visible:ring-2 focus-visible:ring-white/75 focus-visible:ring-offset-2 focus-visible:ring-offset-orange-300 sm:text-sm"},{default:withCtx(()=>[createBaseVNode("span",_hoisted_11,toDisplayString(Ze.value),1),createBaseVNode("span",_hoisted_12,[createVNode(unref(render$1),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])]),_:1}),createVNode(Transition,{"leave-active-class":"transition duration-100 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:withCtx(()=>[createVNode(unref(He),{class:"absolute mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black/5 focus:outline-none sm:text-sm"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(Qe.value,ci=>(openBlock(),createBlock(unref(Ue),{key:ci,value:ci,as:"template"},{default:withCtx(({active:hi,selected:di})=>[createBaseVNode("li",{class:normalizeClass([hi?"bg-purple-100 text-purple-900":"text-gray-900","relative cursor-default select-none py-2 pl-10 pr-4"])},[createBaseVNode("span",{class:normalizeClass([di?"font-medium":"font-normal","block truncate"])},toDisplayString(ci),3)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["modelValue"]),Ze.value==="pdf"?(openBlock(),createElementBlock(Fragment,{key:0},[_hoisted_13,createVNode(unref(ue$1),{modelValue:Je.value,"onUpdate:modelValue":ni[2]||(ni[2]=ci=>Je.value=ci),class:normalizeClass([Je.value?"bg-purple-600":"bg-gray-200","relative inline-flex h-6 w-11 items-center rounded-full"])},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass([Je.value?"translate-x-6":"translate-x-1","inline-block h-4 w-4 transform rounded-full bg-white transition"])},null,2)]),_:1},8,["modelValue","class"]),_hoisted_14],64)):createCommentVNode("",!0)]),Ze.value==="canvas"||Ze.value==="svg"?(openBlock(),createElementBlock("div",_hoisted_15,[je.value?(openBlock(),createElementBlock("div",_hoisted_16,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":ni[3]||(ni[3]=ci=>qe.value=ci),type:"checkbox",disabled:!Xe.value,id:"chkTransposed",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,8,_hoisted_17),[[vModelCheckbox,qe.value]]),_hoisted_18])):createCommentVNode("",!0),je.value?(openBlock(),createElementBlock("div",_hoisted_19,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":ni[4]||(ni[4]=ci=>Ye.value=ci),disabled:!Ke.value,type:"checkbox",id:"chkReversed",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,8,_hoisted_20),[[vModelCheckbox,Ye.value]]),_hoisted_21])):createCommentVNode("",!0)])):createCommentVNode("",!0)])])]))}}),_export_sfc=(Ve,je)=>{const ze=Ve.__vccOpts||Ve;for(const[qe,Xe]of je)ze[qe]=Xe;return ze},App=_export_sfc(_sfc_main,[["__scopeId","data-v-26511aa1"]]);createApp(App).mount("#app");export{_typeof as _,commonjsGlobal as c,getDefaultExportFromCjs as g};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}