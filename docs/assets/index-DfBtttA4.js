var Fc=Object.defineProperty;var Bc=($e,e,t)=>e in $e?Fc($e,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):$e[e]=t;var sr=($e,e,t)=>(Bc($e,typeof e!="symbol"?e+"":e,t),t);import{d as dayjs$2,a as defineComponent,b as duration,c as dayOfYear,r as ref,e as computed,w as watch,f as createElementBlock,g as createBaseVNode,h as withDirectives,v as vModelText,F as Fragment,i as renderList,j as vShow,n as normalizeClass,k as createTextVNode,l as createVNode,m as withCtx,u as unref,o as createCommentVNode,p as vModelCheckbox,q as openBlock,s as createBlock,t as toDisplayString,x as render,X as X$1,y as toRaw,Y as Y$1,V as V$1,N as Ne$3,z as render$1,T as Transition,H as He,U as Ue$2,B as Be$2,A as ue$3,C as pushScopeId,D as popScopeId,E as createApp}from"./oxyplot-js-r9u5GmWb.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const Ve of document.querySelectorAll('link[rel="modulepreload"]'))r(Ve);new MutationObserver(Ve=>{for(const je of Ve)if(je.type==="childList")for(const ze of je.addedNodes)ze.tagName==="LINK"&&ze.rel==="modulepreload"&&r(ze)}).observe(document,{childList:!0,subtree:!0});function t(Ve){const je={};return Ve.integrity&&(je.integrity=Ve.integrity),Ve.referrerPolicy&&(je.referrerPolicy=Ve.referrerPolicy),Ve.crossOrigin==="use-credentials"?je.credentials="include":Ve.crossOrigin==="anonymous"?je.credentials="omit":je.credentials="same-origin",je}function r(Ve){if(Ve.ep)return;Ve.ep=!0;const je=t(Ve);fetch(Ve.href,je)}})();var Ye$1=Object.defineProperty,Ge$1=($e,e,t)=>e in $e?Ye$1($e,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):$e[e]=t,D$2=($e,e,t)=>(Ge$1($e,typeof e!="symbol"?e+"":e,t),t),Fe$1=($e,e,t)=>{if(!e.has($e))throw TypeError("Cannot "+t)},Wt$2=($e,e,t)=>(Fe$1($e,e,"read from private field"),t?t.call($e):e.get($e)),Le$2=($e,e,t)=>{if(e.has($e))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add($e):e.set($e,t)},we$2=($e,e,t,r)=>(Fe$1($e,e,"write to private field"),r?r.call($e,t):e.set($e,t),t),Be$1=($e,e,t)=>(Fe$1($e,e,"access private method"),t),DayOfWeek$1=($e=>($e[$e.Sunday=0]="Sunday",$e[$e.Monday=1]="Monday",$e[$e.Tuesday=2]="Tuesday",$e[$e.Wednesday=3]="Wednesday",$e[$e.Thursday=4]="Thursday",$e[$e.Friday=5]="Friday",$e[$e.Saturday=6]="Saturday",$e))(DayOfWeek$1||{});function groupBy$1($e,e){return groupBy2$1($e,t=>t[e])}function groupBy2$1($e,e){return $e.reduce((t,r)=>{const Ve=e(r);let je=t.get(Ve);return je?je.push(r):(je=[r],t.set(Ve,je)),t},new Map)}function indexOfAny$1($e,e,t=0){for(let r=t;r<$e.length;r++)if(e.includes($e[r]))return r;return-1}function sortArray($e,e){const t=(r,Ve,je,ze)=>r[je]>Ve[je]?ze.toUpperCase()=="DESC"?-1:1:r[je]<Ve[je]?ze.toUpperCase()=="DESC"?1:-1:0;return[...$e].sort((r,Ve)=>{for(const je of e){const ze=t(r,Ve,je[0],je[1]);if(ze!==0)return ze}return 0})}function create2DArray$1($e,e,t){const r=Array($e);for(let Ve=0;Ve<$e;Ve++)r[Ve]=new Array(e),t!==void 0&&r[Ve].fill(t);return r}function arrayRemoveFirst$1($e,e){const t=$e.indexOf(e);return t>-1?($e.splice(t,1),!0):!1}function arrayRemoveIf$1($e,e){let t=0;for(let r=$e.length-1;r>=0;r--)e($e[r])&&($e.splice(r,1),t++);return t}function pushMany$1($e,e){for(let t=0;t<e.length;t++)$e.push(e[t])}function getReversedCopy$1($e){if(!$e||$e.length===0)return[];const e=[];return pushMany$1(e,$e),e.reverse()}function maxValueOfArray$1($e,...e){let t=0;return $e.length>=1e5?t=$e.reduce(function(r,Ve){return Math.max(r,Ve)}):t=Math.max.apply(null,$e),!e||e.length===0?t:Math.max(t,...e)}function minValueOfArray$1($e,...e){let t=0;return $e.length>=1e5?t=$e.reduce(function(r,Ve){return Math.min(r,Ve)}):t=Math.min.apply(null,$e),!e||e.length===0?t:Math.min(t,...e)}function getEnumName($e,e){return $e[e]}function getEnumKeys($e){return Object.keys($e).filter(e=>typeof $e[e]!="number").map(e=>Number(e))}const DateTime_MaxValue$1=new Date(9999,11,31,23,59,59,999),DateTime_MinValue$1=new Date(1,0,1,0,0,0,0);DateTime_MinValue$1.setUTCFullYear(1);DateTime_MinValue$1.setUTCMonth(0);DateTime_MinValue$1.setUTCDate(1);DateTime_MinValue$1.setUTCHours(0);DateTime_MinValue$1.setUTCMinutes(0);DateTime_MinValue$1.setUTCSeconds(0);DateTime_MinValue$1.setUTCMilliseconds(0);function formatTimeSpan($e,e){let t="";if(e.includes("d")&&(t+=$e.days.toString().padStart(2,"0")+":"),e.includes("hh")&&(t+=$e.hours.toString().padStart(2,"0")+":"),e.includes("mm")&&(t+=$e.minutes.toString().padStart(2,"0")+":"),e.includes("ss")&&(t+=$e.seconds.toString().padStart(2,"0")),!t)throw new Error("Invalid format");return t}var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$1($e){return $e&&$e.__esModule&&Object.prototype.hasOwnProperty.call($e,"default")?$e.default:$e}function getAugmentedNamespace$1($e){if($e.__esModule)return $e;var e=$e.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys($e).forEach(function(r){var Ve=Object.getOwnPropertyDescriptor($e,r);Object.defineProperty(t,r,Ve.get?Ve:{enumerable:!0,get:function(){return $e[r]}})}),t}var dayjs_min$1={exports:{}};(function($e,e){(function(t,r){$e.exports=r()})(commonjsGlobal$1,function(){var t=1e3,r=6e4,Ve=36e5,je="millisecond",ze="second",Xe="minute",We="hour",qe="day",Ke="week",Ze="month",Je="quarter",Qe="year",ti="date",ni="Invalid Date",ri=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,ii=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,ei={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(gi){var _i=["th","st","nd","rd"],Ai=gi%100;return"["+gi+(_i[(Ai-20)%10]||_i[Ai]||_i[0])+"]"}},St=function(gi,_i,Ai){var ki=String(gi);return!ki||ki.length>=_i?gi:""+Array(_i+1-ki.length).join(Ai)+gi},oi={s:St,z:function(gi){var _i=-gi.utcOffset(),Ai=Math.abs(_i),ki=Math.floor(Ai/60),vi=Ai%60;return(_i<=0?"+":"-")+St(ki,2,"0")+":"+St(vi,2,"0")},m:function gi(_i,Ai){if(_i.date()<Ai.date())return-gi(Ai,_i);var ki=12*(Ai.year()-_i.year())+(Ai.month()-_i.month()),vi=_i.clone().add(ki,Ze),Mi=Ai-vi<0,Di=_i.clone().add(ki+(Mi?-1:1),Ze);return+(-(ki+(Ai-vi)/(Mi?vi-Di:Di-vi))||0)},a:function(gi){return gi<0?Math.ceil(gi)||0:Math.floor(gi)},p:function(gi){return{M:Ze,y:Qe,w:Ke,d:qe,D:ti,h:We,m:Xe,s:ze,ms:je,Q:Je}[gi]||String(gi||"").toLowerCase().replace(/s$/,"")},u:function(gi){return gi===void 0}},si="en",ai={};ai[si]=ei;var ui="$isDayjsObject",hi=function(gi){return gi instanceof pi||!(!gi||!gi[ui])},ci=function gi(_i,Ai,ki){var vi;if(!_i)return si;if(typeof _i=="string"){var Mi=_i.toLowerCase();ai[Mi]&&(vi=Mi),Ai&&(ai[Mi]=Ai,vi=Mi);var Di=_i.split("-");if(!vi&&Di.length>1)return gi(Di[0])}else{var Bi=_i.name;ai[Bi]=_i,vi=Bi}return!ki&&vi&&(si=vi),vi||!ki&&si},mi=function(gi,_i){if(hi(gi))return gi.clone();var Ai=typeof _i=="object"?_i:{};return Ai.date=gi,Ai.args=arguments,new pi(Ai)},di=oi;di.l=ci,di.i=hi,di.w=function(gi,_i){return mi(gi,{locale:_i.$L,utc:_i.$u,x:_i.$x,$offset:_i.$offset})};var pi=function(){function gi(Ai){this.$L=ci(Ai.locale,null,!0),this.parse(Ai),this.$x=this.$x||Ai.x||{},this[ui]=!0}var _i=gi.prototype;return _i.parse=function(Ai){this.$d=function(ki){var vi=ki.date,Mi=ki.utc;if(vi===null)return new Date(NaN);if(di.u(vi))return new Date;if(vi instanceof Date)return new Date(vi);if(typeof vi=="string"&&!/Z$/i.test(vi)){var Di=vi.match(ri);if(Di){var Bi=Di[2]-1||0,Pi=(Di[7]||"0").substring(0,3);return Mi?new Date(Date.UTC(Di[1],Bi,Di[3]||1,Di[4]||0,Di[5]||0,Di[6]||0,Pi)):new Date(Di[1],Bi,Di[3]||1,Di[4]||0,Di[5]||0,Di[6]||0,Pi)}}return new Date(vi)}(Ai),this.init()},_i.init=function(){var Ai=this.$d;this.$y=Ai.getFullYear(),this.$M=Ai.getMonth(),this.$D=Ai.getDate(),this.$W=Ai.getDay(),this.$H=Ai.getHours(),this.$m=Ai.getMinutes(),this.$s=Ai.getSeconds(),this.$ms=Ai.getMilliseconds()},_i.$utils=function(){return di},_i.isValid=function(){return this.$d.toString()!==ni},_i.isSame=function(Ai,ki){var vi=mi(Ai);return this.startOf(ki)<=vi&&vi<=this.endOf(ki)},_i.isAfter=function(Ai,ki){return mi(Ai)<this.startOf(ki)},_i.isBefore=function(Ai,ki){return this.endOf(ki)<mi(Ai)},_i.$g=function(Ai,ki,vi){return di.u(Ai)?this[ki]:this.set(vi,Ai)},_i.unix=function(){return Math.floor(this.valueOf()/1e3)},_i.valueOf=function(){return this.$d.getTime()},_i.startOf=function(Ai,ki){var vi=this,Mi=!!di.u(ki)||ki,Di=di.p(Ai),Bi=function(Xi,xi){var fi=di.w(vi.$u?Date.UTC(vi.$y,xi,Xi):new Date(vi.$y,xi,Xi),vi);return Mi?fi:fi.endOf(qe)},Pi=function(Xi,xi){return di.w(vi.toDate()[Xi].apply(vi.toDate("s"),(Mi?[0,0,0,0]:[23,59,59,999]).slice(xi)),vi)},Fi=this.$W,Vi=this.$M,Ti=this.$D,ji="set"+(this.$u?"UTC":"");switch(Di){case Qe:return Mi?Bi(1,0):Bi(31,11);case Ze:return Mi?Bi(1,Vi):Bi(0,Vi+1);case Ke:var Gi=this.$locale().weekStart||0,Yi=(Fi<Gi?Fi+7:Fi)-Gi;return Bi(Mi?Ti-Yi:Ti+(6-Yi),Vi);case qe:case ti:return Pi(ji+"Hours",0);case We:return Pi(ji+"Minutes",1);case Xe:return Pi(ji+"Seconds",2);case ze:return Pi(ji+"Milliseconds",3);default:return this.clone()}},_i.endOf=function(Ai){return this.startOf(Ai,!1)},_i.$set=function(Ai,ki){var vi,Mi=di.p(Ai),Di="set"+(this.$u?"UTC":""),Bi=(vi={},vi[qe]=Di+"Date",vi[ti]=Di+"Date",vi[Ze]=Di+"Month",vi[Qe]=Di+"FullYear",vi[We]=Di+"Hours",vi[Xe]=Di+"Minutes",vi[ze]=Di+"Seconds",vi[je]=Di+"Milliseconds",vi)[Mi],Pi=Mi===qe?this.$D+(ki-this.$W):ki;if(Mi===Ze||Mi===Qe){var Fi=this.clone().set(ti,1);Fi.$d[Bi](Pi),Fi.init(),this.$d=Fi.set(ti,Math.min(this.$D,Fi.daysInMonth())).$d}else Bi&&this.$d[Bi](Pi);return this.init(),this},_i.set=function(Ai,ki){return this.clone().$set(Ai,ki)},_i.get=function(Ai){return this[di.p(Ai)]()},_i.add=function(Ai,ki){var vi,Mi=this;Ai=Number(Ai);var Di=di.p(ki),Bi=function(Vi){var Ti=mi(Mi);return di.w(Ti.date(Ti.date()+Math.round(Vi*Ai)),Mi)};if(Di===Ze)return this.set(Ze,this.$M+Ai);if(Di===Qe)return this.set(Qe,this.$y+Ai);if(Di===qe)return Bi(1);if(Di===Ke)return Bi(7);var Pi=(vi={},vi[Xe]=r,vi[We]=Ve,vi[ze]=t,vi)[Di]||1,Fi=this.$d.getTime()+Ai*Pi;return di.w(Fi,this)},_i.subtract=function(Ai,ki){return this.add(-1*Ai,ki)},_i.format=function(Ai){var ki=this,vi=this.$locale();if(!this.isValid())return vi.invalidDate||ni;var Mi=Ai||"YYYY-MM-DDTHH:mm:ssZ",Di=di.z(this),Bi=this.$H,Pi=this.$m,Fi=this.$M,Vi=vi.weekdays,Ti=vi.months,ji=vi.meridiem,Gi=function(xi,fi,$i,bi){return xi&&(xi[fi]||xi(ki,Mi))||$i[fi].slice(0,bi)},Yi=function(xi){return di.s(Bi%12||12,xi,"0")},Xi=ji||function(xi,fi,$i){var bi=xi<12?"AM":"PM";return $i?bi.toLowerCase():bi};return Mi.replace(ii,function(xi,fi){return fi||function($i){switch($i){case"YY":return String(ki.$y).slice(-2);case"YYYY":return di.s(ki.$y,4,"0");case"M":return Fi+1;case"MM":return di.s(Fi+1,2,"0");case"MMM":return Gi(vi.monthsShort,Fi,Ti,3);case"MMMM":return Gi(Ti,Fi);case"D":return ki.$D;case"DD":return di.s(ki.$D,2,"0");case"d":return String(ki.$W);case"dd":return Gi(vi.weekdaysMin,ki.$W,Vi,2);case"ddd":return Gi(vi.weekdaysShort,ki.$W,Vi,3);case"dddd":return Vi[ki.$W];case"H":return String(Bi);case"HH":return di.s(Bi,2,"0");case"h":return Yi(1);case"hh":return Yi(2);case"a":return Xi(Bi,Pi,!0);case"A":return Xi(Bi,Pi,!1);case"m":return String(Pi);case"mm":return di.s(Pi,2,"0");case"s":return String(ki.$s);case"ss":return di.s(ki.$s,2,"0");case"SSS":return di.s(ki.$ms,3,"0");case"Z":return Di}return null}(xi)||Di.replace(":","")})},_i.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},_i.diff=function(Ai,ki,vi){var Mi,Di=this,Bi=di.p(ki),Pi=mi(Ai),Fi=(Pi.utcOffset()-this.utcOffset())*r,Vi=this-Pi,Ti=function(){return di.m(Di,Pi)};switch(Bi){case Qe:Mi=Ti()/12;break;case Ze:Mi=Ti();break;case Je:Mi=Ti()/3;break;case Ke:Mi=(Vi-Fi)/6048e5;break;case qe:Mi=(Vi-Fi)/864e5;break;case We:Mi=Vi/Ve;break;case Xe:Mi=Vi/r;break;case ze:Mi=Vi/t;break;default:Mi=Vi}return vi?Mi:di.a(Mi)},_i.daysInMonth=function(){return this.endOf(Ze).$D},_i.$locale=function(){return ai[this.$L]},_i.locale=function(Ai,ki){if(!Ai)return this.$L;var vi=this.clone(),Mi=ci(Ai,ki,!0);return Mi&&(vi.$L=Mi),vi},_i.clone=function(){return di.w(this.$d,this)},_i.toDate=function(){return new Date(this.valueOf())},_i.toJSON=function(){return this.isValid()?this.toISOString():null},_i.toISOString=function(){return this.$d.toISOString()},_i.toString=function(){return this.$d.toUTCString()},gi}(),yi=pi.prototype;return mi.prototype=yi,[["$ms",je],["$s",ze],["$m",Xe],["$H",We],["$W",qe],["$M",Ze],["$y",Qe],["$D",ti]].forEach(function(gi){yi[gi[1]]=function(_i){return this.$g(_i,gi[0],gi[1])}}),mi.extend=function(gi,_i){return gi.$i||(gi(_i,pi,mi),gi.$i=!0),mi},mi.locale=ci,mi.isDayjs=hi,mi.unix=function(gi){return mi(1e3*gi)},mi.en=ai[si],mi.Ls=ai,mi.p={},mi})})(dayjs_min$1);var dayjs_minExports$1=dayjs_min$1.exports;const dayjs$1=getDefaultExportFromCjs$1(dayjs_minExports$1);var utc$1$1={exports:{}};(function($e,e){(function(t,r){$e.exports=r()})(commonjsGlobal$1,function(){var t="minute",r=/[+-]\d\d(?::?\d\d)?/g,Ve=/([+-]|\d\d)/g;return function(je,ze,Xe){var We=ze.prototype;Xe.utc=function(ni){var ri={date:ni,utc:!0,args:arguments};return new ze(ri)},We.utc=function(ni){var ri=Xe(this.toDate(),{locale:this.$L,utc:!0});return ni?ri.add(this.utcOffset(),t):ri},We.local=function(){return Xe(this.toDate(),{locale:this.$L,utc:!1})};var qe=We.parse;We.parse=function(ni){ni.utc&&(this.$u=!0),this.$utils().u(ni.$offset)||(this.$offset=ni.$offset),qe.call(this,ni)};var Ke=We.init;We.init=function(){if(this.$u){var ni=this.$d;this.$y=ni.getUTCFullYear(),this.$M=ni.getUTCMonth(),this.$D=ni.getUTCDate(),this.$W=ni.getUTCDay(),this.$H=ni.getUTCHours(),this.$m=ni.getUTCMinutes(),this.$s=ni.getUTCSeconds(),this.$ms=ni.getUTCMilliseconds()}else Ke.call(this)};var Ze=We.utcOffset;We.utcOffset=function(ni,ri){var ii=this.$utils().u;if(ii(ni))return this.$u?0:ii(this.$offset)?Ze.call(this):this.$offset;if(typeof ni=="string"&&(ni=function(si){si===void 0&&(si="");var ai=si.match(r);if(!ai)return null;var ui=(""+ai[0]).match(Ve)||["-",0,0],hi=ui[0],ci=60*+ui[1]+ +ui[2];return ci===0?0:hi==="+"?ci:-ci}(ni),ni===null))return this;var ei=Math.abs(ni)<=16?60*ni:ni,St=this;if(ri)return St.$offset=ei,St.$u=ni===0,St;if(ni!==0){var oi=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(St=this.local().add(ei+oi,t)).$offset=ei,St.$x.$localOffset=oi}else St=this.utc();return St};var Je=We.format;We.format=function(ni){var ri=ni||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return Je.call(this,ri)},We.valueOf=function(){var ni=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*ni},We.isUTC=function(){return!!this.$u},We.toISOString=function(){return this.toDate().toISOString()},We.toString=function(){return this.toDate().toUTCString()};var Qe=We.toDate;We.toDate=function(ni){return ni==="s"&&this.$offset?Xe(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():Qe.call(this)};var ti=We.diff;We.diff=function(ni,ri,ii){if(ni&&this.$u===ni.$u)return ti.call(this,ni,ri,ii);var ei=this.local(),St=Xe(ni).local();return ti.call(ei,St,ri,ii)}}})})(utc$1$1);var utcExports$1=utc$1$1.exports;const utc$2=getDefaultExportFromCjs$1(utcExports$1);var timezone$1$1={exports:{}};(function($e,e){(function(t,r){$e.exports=r()})(commonjsGlobal$1,function(){var t={year:0,month:1,day:2,hour:3,minute:4,second:5},r={};return function(Ve,je,ze){var Xe,We=function(Je,Qe,ti){ti===void 0&&(ti={});var ni=new Date(Je),ri=function(ii,ei){ei===void 0&&(ei={});var St=ei.timeZoneName||"short",oi=ii+"|"+St,si=r[oi];return si||(si=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:ii,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:St}),r[oi]=si),si}(Qe,ti);return ri.formatToParts(ni)},qe=function(Je,Qe){for(var ti=We(Je,Qe),ni=[],ri=0;ri<ti.length;ri+=1){var ii=ti[ri],ei=ii.type,St=ii.value,oi=t[ei];oi>=0&&(ni[oi]=parseInt(St,10))}var si=ni[3],ai=si===24?0:si,ui=ni[0]+"-"+ni[1]+"-"+ni[2]+" "+ai+":"+ni[4]+":"+ni[5]+":000",hi=+Je;return(ze.utc(ui).valueOf()-(hi-=hi%1e3))/6e4},Ke=je.prototype;Ke.tz=function(Je,Qe){Je===void 0&&(Je=Xe);var ti=this.utcOffset(),ni=this.toDate(),ri=ni.toLocaleString("en-US",{timeZone:Je}),ii=Math.round((ni-new Date(ri))/1e3/60),ei=ze(ri,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(15*-Math.round(ni.getTimezoneOffset()/15)-ii,!0);if(Qe){var St=ei.utcOffset();ei=ei.add(ti-St,"minute")}return ei.$x.$timezone=Je,ei},Ke.offsetName=function(Je){var Qe=this.$x.$timezone||ze.tz.guess(),ti=We(this.valueOf(),Qe,{timeZoneName:Je}).find(function(ni){return ni.type.toLowerCase()==="timezonename"});return ti&&ti.value};var Ze=Ke.startOf;Ke.startOf=function(Je,Qe){if(!this.$x||!this.$x.$timezone)return Ze.call(this,Je,Qe);var ti=ze(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return Ze.call(ti,Je,Qe).tz(this.$x.$timezone,!0)},ze.tz=function(Je,Qe,ti){var ni=ti&&Qe,ri=ti||Qe||Xe,ii=qe(+ze(),ri);if(typeof Je!="string")return ze(Je).tz(ri);var ei=function(ai,ui,hi){var ci=ai-60*ui*1e3,mi=qe(ci,hi);if(ui===mi)return[ci,ui];var di=qe(ci-=60*(mi-ui)*1e3,hi);return mi===di?[ci,mi]:[ai-60*Math.min(mi,di)*1e3,Math.max(mi,di)]}(ze.utc(Je,ni).valueOf(),ii,ri),St=ei[0],oi=ei[1],si=ze(St).utcOffset(oi);return si.$x.$timezone=ri,si},ze.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},ze.tz.setDefault=function(Je){Xe=Je}}})})(timezone$1$1);var timezoneExports$1=timezone$1$1.exports;const timezone$2=getDefaultExportFromCjs$1(timezoneExports$1);function getDateService$1(){return DefaultDateService$1}dayjs$1.extend(utc$2);dayjs$1.extend(timezone$2);const DefaultDateService$1={format:($e,e)=>dayjs$1($e).format(e),convertTime:($e,e)=>dayjs$1($e).tz(e).toDate(),addYears:($e,e)=>dayjs$1($e).add(e,"year").toDate(),addMonths:($e,e)=>dayjs$1($e).add(e,"month").toDate(),addTimespan:($e,e)=>{let t=dayjs$1($e);return e.days&&(t=t.add(e.days,"day")),e.hours&&(t=t.add(e.hours,"hour")),e.minutes&&(t=t.add(e.minutes,"minute")),e.seconds&&(t=t.add(e.seconds,"second")),e.milliseconds&&(t=t.add(e.milliseconds,"millisecond")),t.toDate()},dayOfWeek:$e=>dayjs$1($e).day(),diff:($e,e)=>{const t=dayjs$1($e).diff(dayjs$1(e));return TimeSpan$1.fromMilliseconds(t)}},bitMethods$1={getBit($e){return this.data[getSlot$1($e)]&1<<getShift$1($e)?1:0},setBit($e){this.data[getSlot$1($e)]|=1<<getShift$1($e)},clearBit($e){this.data[getSlot$1($e)]&=~(1<<getShift$1($e))},toggleBit($e){this.data[getSlot$1($e)]^=1<<getShift$1($e)},getBitXY($e,e){return $e>=this.width||e>=this.height?0:this.getBit(e*this.width+$e)},setBitXY($e,e){this.setBit(e*this.width+$e)},clearBitXY($e,e){this.clearBit(e*this.width+$e)},toggleBitXY($e,e){this.toggleBit(e*this.width+$e)}};function getSlot$1($e){return $e>>3}function getShift$1($e){return 7-($e&7)}function setBitMethods$1($e){for(const e in bitMethods$1)$e.prototype[e]=bitMethods$1[e]}function checkProcessable$1($e,e={}){let{bitDepth:t,alpha:r,colorModel:Ve,components:je,channels:ze}=e;if(typeof $e!="string"||$e.length===0)throw new TypeError("processName must be a string");if(t&&(Array.isArray(t)||(t=[t]),!t.includes(this.bitDepth)))throw new TypeError(`The process: ${$e} can only be applied if bit depth is in: ${t}`);if(r&&(Array.isArray(r)||(r=[r]),!r.includes(this.alpha)))throw new TypeError(`The process: ${$e} can only be applied if alpha is in: ${r}`);if(Ve&&(Array.isArray(Ve)||(Ve=[Ve]),!Ve.includes(this.colorModel)))throw new TypeError(`The process: ${$e} can only be applied if color model is in: ${Ve}`);if(je&&(Array.isArray(je)||(je=[je]),!je.includes(this.components))){let Xe=`The process: ${$e} can only be applied if the number of components is in: ${je}`;throw je.length===1&&je[0]===1?new TypeError(`${Xe}.\rYou should transform your image using "image.grey()" before applying the algorithm.`):new TypeError(Xe)}if(ze&&(Array.isArray(ze)||(ze=[ze]),!ze.includes(this.channels)))throw new TypeError(`The process: ${$e} can only be applied if the number of channels is in: ${ze}`)}function createBlob$1($e,e){$e=$e||[],e=e||{},typeof e=="string"&&(e={type:e});try{return new Blob($e,e)}catch(je){if(je.name!=="TypeError")throw je;for(var t=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,r=new t,Ve=0;Ve<$e.length;Ve+=1)r.append($e[Ve]);return r.getBlob(e.type)}}function dataURLToBlob$1($e){var e=$e.match(/data:([^;]+)/)[1],t=$e.replace(/^[^,]+,/,""),r=binaryStringToArrayBuffer$1(atob(t));return createBlob$1([r],{type:e})}function canvasToBlob$1($e,e,t){return typeof $e.toBlob=="function"?new Promise(function(r){$e.toBlob(r,e,t)}):Promise.resolve(dataURLToBlob$1($e.toDataURL(e,t)))}function binaryStringToArrayBuffer$1($e){for(var e=$e.length,t=new ArrayBuffer(e),r=new Uint8Array(t),Ve=-1;++Ve<e;)r[Ve]=$e.charCodeAt(Ve);return t}(function($e){if($e.TextEncoder&&$e.TextDecoder)return!1;function e(r="utf-8"){if(r!=="utf-8")throw new RangeError(`Failed to construct 'TextEncoder': The encoding label provided ('${r}') is invalid.`)}Object.defineProperty(e.prototype,"encoding",{value:"utf-8"}),e.prototype.encode=function(r,Ve={stream:!1}){if(Ve.stream)throw new Error("Failed to encode: the 'stream' option is unsupported.");let je=0;const ze=r.length;let Xe=0,We=Math.max(32,ze+(ze>>1)+7),qe=new Uint8Array(We>>3<<3);for(;je<ze;){let Ke=r.charCodeAt(je++);if(Ke>=55296&&Ke<=56319){if(je<ze){const Ze=r.charCodeAt(je);(Ze&64512)===56320&&(++je,Ke=((Ke&1023)<<10)+(Ze&1023)+65536)}if(Ke>=55296&&Ke<=56319)continue}if(Xe+4>qe.length){We+=8,We*=1+je/r.length*2,We=We>>3<<3;const Ze=new Uint8Array(We);Ze.set(qe),qe=Ze}if(Ke&4294967168)if(!(Ke&4294965248))qe[Xe++]=Ke>>6&31|192;else if(!(Ke&4294901760))qe[Xe++]=Ke>>12&15|224,qe[Xe++]=Ke>>6&63|128;else if(!(Ke&4292870144))qe[Xe++]=Ke>>18&7|240,qe[Xe++]=Ke>>12&63|128,qe[Xe++]=Ke>>6&63|128;else continue;else{qe[Xe++]=Ke;continue}qe[Xe++]=Ke&63|128}return qe.slice(0,Xe)};function t(r="utf-8",Ve={fatal:!1}){if(r!=="utf-8")throw new RangeError(`Failed to construct 'TextDecoder': The encoding label provided ('${r}') is invalid.`);if(Ve.fatal)throw new Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}Object.defineProperty(t.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(t.prototype,"fatal",{value:!1}),Object.defineProperty(t.prototype,"ignoreBOM",{value:!1}),t.prototype.decode=function(r,Ve={stream:!1}){if(Ve.stream)throw new Error("Failed to decode: the 'stream' option is unsupported.");const je=new Uint8Array(r);let ze=0;const Xe=je.length,We=[];for(;ze<Xe;){const qe=je[ze++];if(qe===0)break;if(!(qe&128))We.push(qe);else if((qe&224)===192){const Ke=je[ze++]&63;We.push((qe&31)<<6|Ke)}else if((qe&240)===224){const Ke=je[ze++]&63,Ze=je[ze++]&63;We.push((qe&31)<<12|Ke<<6|Ze)}else if((qe&248)===240){const Ke=je[ze++]&63,Ze=je[ze++]&63,Je=je[ze++]&63;let Qe=(qe&7)<<18|Ke<<12|Ze<<6|Je;Qe>65535&&(Qe-=65536,We.push(Qe>>>10&1023|55296),Qe=56320|Qe&1023),We.push(Qe)}}return String.fromCharCode.apply(null,We)},$e.TextEncoder=e,$e.TextDecoder=t})(typeof window<"u"?window:typeof self<"u"?self:void 0);function decode$5$1($e,e="utf8"){return new TextDecoder(e).decode($e)}const encoder$1$1=new TextEncoder;function encode$3$1($e){return encoder$1$1.encode($e)}const defaultByteLength$1$1=1024*8,hostBigEndian$1=(()=>{const $e=new Uint8Array(4),e=new Uint32Array($e.buffer);return!((e[0]=1)&$e[0])})(),typedArrays$1={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};let IOBuffer$4$1=class sh{constructor(e=defaultByteLength$1$1,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const Ve=t.offset?t.offset>>>0:0,je=e.byteLength-Ve;let ze=Ve;(ArrayBuffer.isView(e)||e instanceof sh)&&(e.byteLength!==e.buffer.byteLength&&(ze=e.byteOffset+Ve),e=e.buffer),r?this.lastWrittenByte=je:this.lastWrittenByte=0,this.buffer=e,this.length=je,this.byteLength=je,this.byteOffset=ze,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,ze,je),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const t=(this.offset+e)*2,r=new Uint8Array(t);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=this.byteLength=t,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=typedArrays$1[t].BYTES_PER_ELEMENT*e,Ve=this.byteOffset+this.offset,je=this.buffer.slice(Ve,Ve+r);if(this.littleEndian===hostBigEndian$1&&t!=="uint8"&&t!=="int8"){const Xe=new Uint8Array(this.buffer.slice(Ve,Ve+r));Xe.reverse();const We=new typedArrays$1[t](Xe.buffer);return this.offset+=r,We.reverse(),We}const ze=new typedArrays$1[t](je);return this.offset+=r,ze}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return decode$5$1(this.readBytes(e))}decodeText(e=1,t="utf-8"){return decode$5$1(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(encode$3$1(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}};const IOBuffer$5$1=Object.freeze(Object.defineProperty({__proto__:null,IOBuffer:IOBuffer$4$1},Symbol.toStringTag,{value:"Module"})),require$$0$3$1=getAugmentedNamespace$1(IOBuffer$5$1);var constants$4$1={BITMAPV5HEADER:{LogicalColorSpace:{LCS_CALIBRATED_RGB:0,LCS_sRGB:1934772034,LCS_WINDOWS_COLOR_SPACE:1466527264},Compression:{BI_RGB:0,BI_RLE8:1,BI_RLE4:2,BI_BITFIELDS:3,BI_JPEG:4,BI_PNG:5,BI_CMYK:11,BI_CMYKRLE8:12,BI_CMYKRLE4:13},GamutMappingIntent:{LCS_GM_ABS_COLORIMETRIC:8,LCS_GM_BUSINESS:1,LCS_GM_GRAPHICS:2,LCS_GM_IMAGES:4}}};const{IOBuffer:IOBuffer$3$1}=require$$0$3$1,constants$3$1=constants$4$1,tableLeft$1=[];for(let $e=0;$e<=8;$e++)tableLeft$1.push(255<<$e);let BMPEncoder$1=class extends IOBuffer$3$1{constructor(e){if(e.bitDepth!==1)throw new Error("Only bitDepth of 1 is supported");if(!e.height||!e.width)throw new Error("ImageData width and height are required");super(e.data),this.width=e.width,this.height=e.height,this.bitDepth=e.bitDepth,this.channels=e.channels,this.components=e.components}encode(){this.encoded=new IOBuffer$3$1,this.encoded.skip(14),this.writeBitmapV5Header(),this.writeColorTable();const e=this.encoded.offset;return this.writePixelArray(),this.encoded.rewind(),this.writeBitmapFileHeader(e),this.encoded.toArray()}writePixelArray(){let e=this.encoded;const t=Math.floor((this.bitDepth*this.width+31)/32)*4,r=Math.ceil(this.bitDepth*this.width/8),Ve=t-r,je=this.bitDepth*this.width%8,ze=je===0?0:8-je,Xe=t*this.height;let We,qe,Ke=0,Ze=0,Je=8;e.mark(),qe=this.readUint8();for(let Qe=this.height-1;Qe>=0;Qe--){const ti=Qe===0;e.reset(),e.skip(Qe*t);for(let ni=0;ni<r;ni++){const ri=ni===r-1;Ze<=ze&&ri?(e.writeByte(qe<<Ze),(ze===0||ze===Ze)&&!ti&&(We=qe,qe=this.readByte())):Ze===0?(We=qe,qe=this.readUint8(),e.writeByte(We)):(We=qe,qe=this.readUint8(),e.writeByte(We<<Ze&tableLeft$1[Ze]|qe>>Je)),ri&&(Ke+=je||0,e.skip(Ve),Ze=Ke%8,Je=8-Ze)}}t>r&&(e.reset(),e.skip(Xe-1),e.writeUint8(0))}writeColorTable(){this.encoded.writeUint32(0).writeUint32(16777215)}writeBitmapFileHeader(e){this.encoded.writeChars("BM").writeInt32(this.encoded.lastWrittenByte).writeUint16(0).writeUint16(0).writeUint32(e)}writeBitmapV5Header(){const e=Math.floor((this.bitDepth*this.width+31)/32)*4*this.height;this.encoded.writeUint32(124).writeInt32(this.width).writeInt32(this.height).writeUint16(1).writeUint16(this.bitDepth).writeUint32(constants$3$1.BITMAPV5HEADER.Compression.BI_RGB).writeUint32(e).writeInt32(0).writeInt32(0).writeUint32(Math.pow(2,this.bitDepth)).writeUint32(Math.pow(2,this.bitDepth)).writeUint32(4278190080).writeUint32(16711680).writeUint32(65280).writeUint32(255).writeUint32(constants$3$1.BITMAPV5HEADER.LogicalColorSpace.LCS_sRGB).skip(36).skip(12).writeUint32(constants$3$1.BITMAPV5HEADER.GamutMappingIntent.LCS_GM_IMAGES).skip(12)}};var BMPEncoder_1$1=BMPEncoder$1;const Encoder$1=BMPEncoder_1$1;var encode$2$1=function($e){return new Encoder$1($e).encode()};/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Z_FIXED$1$1=4,Z_BINARY$1=0,Z_TEXT$1=1,Z_UNKNOWN$1$1=2;function zero$1$1($e){let e=$e.length;for(;--e>=0;)$e[e]=0}const STORED_BLOCK$1=0,STATIC_TREES$1=1,DYN_TREES$1=2,MIN_MATCH$1$1=3,MAX_MATCH$1$1=258,LENGTH_CODES$1$1=29,LITERALS$1$1=256,L_CODES$1$1=LITERALS$1$1+1+LENGTH_CODES$1$1,D_CODES$1$1=30,BL_CODES$1$1=19,HEAP_SIZE$1$1=2*L_CODES$1$1+1,MAX_BITS$1$1=15,Buf_size$1=16,MAX_BL_BITS$1=7,END_BLOCK$1=256,REP_3_6$1=16,REPZ_3_10$1=17,REPZ_11_138$1=18,extra_lbits$1=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits$1=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits$1=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order$1=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN$1=512,static_ltree$1=new Array((L_CODES$1$1+2)*2);zero$1$1(static_ltree$1);const static_dtree$1=new Array(D_CODES$1$1*2);zero$1$1(static_dtree$1);const _dist_code$1=new Array(DIST_CODE_LEN$1);zero$1$1(_dist_code$1);const _length_code$1=new Array(MAX_MATCH$1$1-MIN_MATCH$1$1+1);zero$1$1(_length_code$1);const base_length$1=new Array(LENGTH_CODES$1$1);zero$1$1(base_length$1);const base_dist$1=new Array(D_CODES$1$1);zero$1$1(base_dist$1);function StaticTreeDesc$1($e,e,t,r,Ve){this.static_tree=$e,this.extra_bits=e,this.extra_base=t,this.elems=r,this.max_length=Ve,this.has_stree=$e&&$e.length}let static_l_desc$1,static_d_desc$1,static_bl_desc$1;function TreeDesc$1($e,e){this.dyn_tree=$e,this.max_code=0,this.stat_desc=e}const d_code$1=$e=>$e<256?_dist_code$1[$e]:_dist_code$1[256+($e>>>7)],put_short$1=($e,e)=>{$e.pending_buf[$e.pending++]=e&255,$e.pending_buf[$e.pending++]=e>>>8&255},send_bits$1=($e,e,t)=>{$e.bi_valid>Buf_size$1-t?($e.bi_buf|=e<<$e.bi_valid&65535,put_short$1($e,$e.bi_buf),$e.bi_buf=e>>Buf_size$1-$e.bi_valid,$e.bi_valid+=t-Buf_size$1):($e.bi_buf|=e<<$e.bi_valid&65535,$e.bi_valid+=t)},send_code$1=($e,e,t)=>{send_bits$1($e,t[e*2],t[e*2+1])},bi_reverse$1=($e,e)=>{let t=0;do t|=$e&1,$e>>>=1,t<<=1;while(--e>0);return t>>>1},bi_flush$1=$e=>{$e.bi_valid===16?(put_short$1($e,$e.bi_buf),$e.bi_buf=0,$e.bi_valid=0):$e.bi_valid>=8&&($e.pending_buf[$e.pending++]=$e.bi_buf&255,$e.bi_buf>>=8,$e.bi_valid-=8)},gen_bitlen$1=($e,e)=>{const t=e.dyn_tree,r=e.max_code,Ve=e.stat_desc.static_tree,je=e.stat_desc.has_stree,ze=e.stat_desc.extra_bits,Xe=e.stat_desc.extra_base,We=e.stat_desc.max_length;let qe,Ke,Ze,Je,Qe,ti,ni=0;for(Je=0;Je<=MAX_BITS$1$1;Je++)$e.bl_count[Je]=0;for(t[$e.heap[$e.heap_max]*2+1]=0,qe=$e.heap_max+1;qe<HEAP_SIZE$1$1;qe++)Ke=$e.heap[qe],Je=t[t[Ke*2+1]*2+1]+1,Je>We&&(Je=We,ni++),t[Ke*2+1]=Je,!(Ke>r)&&($e.bl_count[Je]++,Qe=0,Ke>=Xe&&(Qe=ze[Ke-Xe]),ti=t[Ke*2],$e.opt_len+=ti*(Je+Qe),je&&($e.static_len+=ti*(Ve[Ke*2+1]+Qe)));if(ni!==0){do{for(Je=We-1;$e.bl_count[Je]===0;)Je--;$e.bl_count[Je]--,$e.bl_count[Je+1]+=2,$e.bl_count[We]--,ni-=2}while(ni>0);for(Je=We;Je!==0;Je--)for(Ke=$e.bl_count[Je];Ke!==0;)Ze=$e.heap[--qe],!(Ze>r)&&(t[Ze*2+1]!==Je&&($e.opt_len+=(Je-t[Ze*2+1])*t[Ze*2],t[Ze*2+1]=Je),Ke--)}},gen_codes$1=($e,e,t)=>{const r=new Array(MAX_BITS$1$1+1);let Ve=0,je,ze;for(je=1;je<=MAX_BITS$1$1;je++)Ve=Ve+t[je-1]<<1,r[je]=Ve;for(ze=0;ze<=e;ze++){let Xe=$e[ze*2+1];Xe!==0&&($e[ze*2]=bi_reverse$1(r[Xe]++,Xe))}},tr_static_init$1=()=>{let $e,e,t,r,Ve;const je=new Array(MAX_BITS$1$1+1);for(t=0,r=0;r<LENGTH_CODES$1$1-1;r++)for(base_length$1[r]=t,$e=0;$e<1<<extra_lbits$1[r];$e++)_length_code$1[t++]=r;for(_length_code$1[t-1]=r,Ve=0,r=0;r<16;r++)for(base_dist$1[r]=Ve,$e=0;$e<1<<extra_dbits$1[r];$e++)_dist_code$1[Ve++]=r;for(Ve>>=7;r<D_CODES$1$1;r++)for(base_dist$1[r]=Ve<<7,$e=0;$e<1<<extra_dbits$1[r]-7;$e++)_dist_code$1[256+Ve++]=r;for(e=0;e<=MAX_BITS$1$1;e++)je[e]=0;for($e=0;$e<=143;)static_ltree$1[$e*2+1]=8,$e++,je[8]++;for(;$e<=255;)static_ltree$1[$e*2+1]=9,$e++,je[9]++;for(;$e<=279;)static_ltree$1[$e*2+1]=7,$e++,je[7]++;for(;$e<=287;)static_ltree$1[$e*2+1]=8,$e++,je[8]++;for(gen_codes$1(static_ltree$1,L_CODES$1$1+1,je),$e=0;$e<D_CODES$1$1;$e++)static_dtree$1[$e*2+1]=5,static_dtree$1[$e*2]=bi_reverse$1($e,5);static_l_desc$1=new StaticTreeDesc$1(static_ltree$1,extra_lbits$1,LITERALS$1$1+1,L_CODES$1$1,MAX_BITS$1$1),static_d_desc$1=new StaticTreeDesc$1(static_dtree$1,extra_dbits$1,0,D_CODES$1$1,MAX_BITS$1$1),static_bl_desc$1=new StaticTreeDesc$1(new Array(0),extra_blbits$1,0,BL_CODES$1$1,MAX_BL_BITS$1)},init_block$1=$e=>{let e;for(e=0;e<L_CODES$1$1;e++)$e.dyn_ltree[e*2]=0;for(e=0;e<D_CODES$1$1;e++)$e.dyn_dtree[e*2]=0;for(e=0;e<BL_CODES$1$1;e++)$e.bl_tree[e*2]=0;$e.dyn_ltree[END_BLOCK$1*2]=1,$e.opt_len=$e.static_len=0,$e.sym_next=$e.matches=0},bi_windup$1=$e=>{$e.bi_valid>8?put_short$1($e,$e.bi_buf):$e.bi_valid>0&&($e.pending_buf[$e.pending++]=$e.bi_buf),$e.bi_buf=0,$e.bi_valid=0},smaller$1=($e,e,t,r)=>{const Ve=e*2,je=t*2;return $e[Ve]<$e[je]||$e[Ve]===$e[je]&&r[e]<=r[t]},pqdownheap$1=($e,e,t)=>{const r=$e.heap[t];let Ve=t<<1;for(;Ve<=$e.heap_len&&(Ve<$e.heap_len&&smaller$1(e,$e.heap[Ve+1],$e.heap[Ve],$e.depth)&&Ve++,!smaller$1(e,r,$e.heap[Ve],$e.depth));)$e.heap[t]=$e.heap[Ve],t=Ve,Ve<<=1;$e.heap[t]=r},compress_block$1=($e,e,t)=>{let r,Ve,je=0,ze,Xe;if($e.sym_next!==0)do r=$e.pending_buf[$e.sym_buf+je++]&255,r+=($e.pending_buf[$e.sym_buf+je++]&255)<<8,Ve=$e.pending_buf[$e.sym_buf+je++],r===0?send_code$1($e,Ve,e):(ze=_length_code$1[Ve],send_code$1($e,ze+LITERALS$1$1+1,e),Xe=extra_lbits$1[ze],Xe!==0&&(Ve-=base_length$1[ze],send_bits$1($e,Ve,Xe)),r--,ze=d_code$1(r),send_code$1($e,ze,t),Xe=extra_dbits$1[ze],Xe!==0&&(r-=base_dist$1[ze],send_bits$1($e,r,Xe)));while(je<$e.sym_next);send_code$1($e,END_BLOCK$1,e)},build_tree$1=($e,e)=>{const t=e.dyn_tree,r=e.stat_desc.static_tree,Ve=e.stat_desc.has_stree,je=e.stat_desc.elems;let ze,Xe,We=-1,qe;for($e.heap_len=0,$e.heap_max=HEAP_SIZE$1$1,ze=0;ze<je;ze++)t[ze*2]!==0?($e.heap[++$e.heap_len]=We=ze,$e.depth[ze]=0):t[ze*2+1]=0;for(;$e.heap_len<2;)qe=$e.heap[++$e.heap_len]=We<2?++We:0,t[qe*2]=1,$e.depth[qe]=0,$e.opt_len--,Ve&&($e.static_len-=r[qe*2+1]);for(e.max_code=We,ze=$e.heap_len>>1;ze>=1;ze--)pqdownheap$1($e,t,ze);qe=je;do ze=$e.heap[1],$e.heap[1]=$e.heap[$e.heap_len--],pqdownheap$1($e,t,1),Xe=$e.heap[1],$e.heap[--$e.heap_max]=ze,$e.heap[--$e.heap_max]=Xe,t[qe*2]=t[ze*2]+t[Xe*2],$e.depth[qe]=($e.depth[ze]>=$e.depth[Xe]?$e.depth[ze]:$e.depth[Xe])+1,t[ze*2+1]=t[Xe*2+1]=qe,$e.heap[1]=qe++,pqdownheap$1($e,t,1);while($e.heap_len>=2);$e.heap[--$e.heap_max]=$e.heap[1],gen_bitlen$1($e,e),gen_codes$1(t,We,$e.bl_count)},scan_tree$1=($e,e,t)=>{let r,Ve=-1,je,ze=e[0*2+1],Xe=0,We=7,qe=4;for(ze===0&&(We=138,qe=3),e[(t+1)*2+1]=65535,r=0;r<=t;r++)je=ze,ze=e[(r+1)*2+1],!(++Xe<We&&je===ze)&&(Xe<qe?$e.bl_tree[je*2]+=Xe:je!==0?(je!==Ve&&$e.bl_tree[je*2]++,$e.bl_tree[REP_3_6$1*2]++):Xe<=10?$e.bl_tree[REPZ_3_10$1*2]++:$e.bl_tree[REPZ_11_138$1*2]++,Xe=0,Ve=je,ze===0?(We=138,qe=3):je===ze?(We=6,qe=3):(We=7,qe=4))},send_tree$1=($e,e,t)=>{let r,Ve=-1,je,ze=e[0*2+1],Xe=0,We=7,qe=4;for(ze===0&&(We=138,qe=3),r=0;r<=t;r++)if(je=ze,ze=e[(r+1)*2+1],!(++Xe<We&&je===ze)){if(Xe<qe)do send_code$1($e,je,$e.bl_tree);while(--Xe!==0);else je!==0?(je!==Ve&&(send_code$1($e,je,$e.bl_tree),Xe--),send_code$1($e,REP_3_6$1,$e.bl_tree),send_bits$1($e,Xe-3,2)):Xe<=10?(send_code$1($e,REPZ_3_10$1,$e.bl_tree),send_bits$1($e,Xe-3,3)):(send_code$1($e,REPZ_11_138$1,$e.bl_tree),send_bits$1($e,Xe-11,7));Xe=0,Ve=je,ze===0?(We=138,qe=3):je===ze?(We=6,qe=3):(We=7,qe=4)}},build_bl_tree$1=$e=>{let e;for(scan_tree$1($e,$e.dyn_ltree,$e.l_desc.max_code),scan_tree$1($e,$e.dyn_dtree,$e.d_desc.max_code),build_tree$1($e,$e.bl_desc),e=BL_CODES$1$1-1;e>=3&&$e.bl_tree[bl_order$1[e]*2+1]===0;e--);return $e.opt_len+=3*(e+1)+5+5+4,e},send_all_trees$1=($e,e,t,r)=>{let Ve;for(send_bits$1($e,e-257,5),send_bits$1($e,t-1,5),send_bits$1($e,r-4,4),Ve=0;Ve<r;Ve++)send_bits$1($e,$e.bl_tree[bl_order$1[Ve]*2+1],3);send_tree$1($e,$e.dyn_ltree,e-1),send_tree$1($e,$e.dyn_dtree,t-1)},detect_data_type$1=$e=>{let e=4093624447,t;for(t=0;t<=31;t++,e>>>=1)if(e&1&&$e.dyn_ltree[t*2]!==0)return Z_BINARY$1;if($e.dyn_ltree[9*2]!==0||$e.dyn_ltree[10*2]!==0||$e.dyn_ltree[13*2]!==0)return Z_TEXT$1;for(t=32;t<LITERALS$1$1;t++)if($e.dyn_ltree[t*2]!==0)return Z_TEXT$1;return Z_BINARY$1};let static_init_done$1=!1;const _tr_init$1$1=$e=>{static_init_done$1||(tr_static_init$1(),static_init_done$1=!0),$e.l_desc=new TreeDesc$1($e.dyn_ltree,static_l_desc$1),$e.d_desc=new TreeDesc$1($e.dyn_dtree,static_d_desc$1),$e.bl_desc=new TreeDesc$1($e.bl_tree,static_bl_desc$1),$e.bi_buf=0,$e.bi_valid=0,init_block$1($e)},_tr_stored_block$1$1=($e,e,t,r)=>{send_bits$1($e,(STORED_BLOCK$1<<1)+(r?1:0),3),bi_windup$1($e),put_short$1($e,t),put_short$1($e,~t),t&&$e.pending_buf.set($e.window.subarray(e,e+t),$e.pending),$e.pending+=t},_tr_align$1$1=$e=>{send_bits$1($e,STATIC_TREES$1<<1,3),send_code$1($e,END_BLOCK$1,static_ltree$1),bi_flush$1($e)},_tr_flush_block$1$1=($e,e,t,r)=>{let Ve,je,ze=0;$e.level>0?($e.strm.data_type===Z_UNKNOWN$1$1&&($e.strm.data_type=detect_data_type$1($e)),build_tree$1($e,$e.l_desc),build_tree$1($e,$e.d_desc),ze=build_bl_tree$1($e),Ve=$e.opt_len+3+7>>>3,je=$e.static_len+3+7>>>3,je<=Ve&&(Ve=je)):Ve=je=t+5,t+4<=Ve&&e!==-1?_tr_stored_block$1$1($e,e,t,r):$e.strategy===Z_FIXED$1$1||je===Ve?(send_bits$1($e,(STATIC_TREES$1<<1)+(r?1:0),3),compress_block$1($e,static_ltree$1,static_dtree$1)):(send_bits$1($e,(DYN_TREES$1<<1)+(r?1:0),3),send_all_trees$1($e,$e.l_desc.max_code+1,$e.d_desc.max_code+1,ze+1),compress_block$1($e,$e.dyn_ltree,$e.dyn_dtree)),init_block$1($e),r&&bi_windup$1($e)},_tr_tally$1$1=($e,e,t)=>($e.pending_buf[$e.sym_buf+$e.sym_next++]=e,$e.pending_buf[$e.sym_buf+$e.sym_next++]=e>>8,$e.pending_buf[$e.sym_buf+$e.sym_next++]=t,e===0?$e.dyn_ltree[t*2]++:($e.matches++,e--,$e.dyn_ltree[(_length_code$1[t]+LITERALS$1$1+1)*2]++,$e.dyn_dtree[d_code$1(e)*2]++),$e.sym_next===$e.sym_end);var _tr_init_1$1=_tr_init$1$1,_tr_stored_block_1$1=_tr_stored_block$1$1,_tr_flush_block_1$1=_tr_flush_block$1$1,_tr_tally_1$1=_tr_tally$1$1,_tr_align_1$1=_tr_align$1$1,trees$1={_tr_init:_tr_init_1$1,_tr_stored_block:_tr_stored_block_1$1,_tr_flush_block:_tr_flush_block_1$1,_tr_tally:_tr_tally_1$1,_tr_align:_tr_align_1$1};const adler32$1=($e,e,t,r)=>{let Ve=$e&65535|0,je=$e>>>16&65535|0,ze=0;for(;t!==0;){ze=t>2e3?2e3:t,t-=ze;do Ve=Ve+e[r++]|0,je=je+Ve|0;while(--ze);Ve%=65521,je%=65521}return Ve|je<<16|0};var adler32_1$1=adler32$1;const makeTable$1=()=>{let $e,e=[];for(var t=0;t<256;t++){$e=t;for(var r=0;r<8;r++)$e=$e&1?3988292384^$e>>>1:$e>>>1;e[t]=$e}return e},crcTable$1$1=new Uint32Array(makeTable$1()),crc32$1=($e,e,t,r)=>{const Ve=crcTable$1$1,je=r+t;$e^=-1;for(let ze=r;ze<je;ze++)$e=$e>>>8^Ve[($e^e[ze])&255];return $e^-1};var crc32_1$1=crc32$1,messages$1={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2$1={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:_tr_init$2,_tr_stored_block:_tr_stored_block$2,_tr_flush_block:_tr_flush_block$2,_tr_tally:_tr_tally$2,_tr_align:_tr_align$2}=trees$1,{Z_NO_FLUSH:Z_NO_FLUSH$2$1,Z_PARTIAL_FLUSH:Z_PARTIAL_FLUSH$1,Z_FULL_FLUSH:Z_FULL_FLUSH$1$1,Z_FINISH:Z_FINISH$3$1,Z_BLOCK:Z_BLOCK$1$1,Z_OK:Z_OK$3$1,Z_STREAM_END:Z_STREAM_END$3$1,Z_STREAM_ERROR:Z_STREAM_ERROR$2$1,Z_DATA_ERROR:Z_DATA_ERROR$2$1,Z_BUF_ERROR:Z_BUF_ERROR$1$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1$1,Z_FILTERED:Z_FILTERED$1,Z_HUFFMAN_ONLY:Z_HUFFMAN_ONLY$1,Z_RLE:Z_RLE$1,Z_FIXED:Z_FIXED$2,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1$1,Z_UNKNOWN:Z_UNKNOWN$2,Z_DEFLATED:Z_DEFLATED$2$1}=constants$2$1,MAX_MEM_LEVEL$1=9,MAX_WBITS$1$1=15,DEF_MEM_LEVEL$1=8,LENGTH_CODES$2=29,LITERALS$2=256,L_CODES$2=LITERALS$2+1+LENGTH_CODES$2,D_CODES$2=30,BL_CODES$2=19,HEAP_SIZE$2=2*L_CODES$2+1,MAX_BITS$2=15,MIN_MATCH$2=3,MAX_MATCH$2=258,MIN_LOOKAHEAD$1=MAX_MATCH$2+MIN_MATCH$2+1,PRESET_DICT$1=32,INIT_STATE$1=42,GZIP_STATE$1=57,EXTRA_STATE$1=69,NAME_STATE$1=73,COMMENT_STATE$1=91,HCRC_STATE$1=103,BUSY_STATE$1=113,FINISH_STATE$1=666,BS_NEED_MORE$1=1,BS_BLOCK_DONE$1=2,BS_FINISH_STARTED$1=3,BS_FINISH_DONE$1=4,OS_CODE$1=3,err$1=($e,e)=>($e.msg=messages$1[e],e),rank$1=$e=>$e*2-($e>4?9:0),zero$2=$e=>{let e=$e.length;for(;--e>=0;)$e[e]=0},slide_hash$1=$e=>{let e,t,r,Ve=$e.w_size;e=$e.hash_size,r=e;do t=$e.head[--r],$e.head[r]=t>=Ve?t-Ve:0;while(--e);e=Ve,r=e;do t=$e.prev[--r],$e.prev[r]=t>=Ve?t-Ve:0;while(--e)};let HASH_ZLIB$1=($e,e,t)=>(e<<$e.hash_shift^t)&$e.hash_mask,HASH$1=HASH_ZLIB$1;const flush_pending$1=$e=>{const e=$e.state;let t=e.pending;t>$e.avail_out&&(t=$e.avail_out),t!==0&&($e.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+t),$e.next_out),$e.next_out+=t,e.pending_out+=t,$e.total_out+=t,$e.avail_out-=t,e.pending-=t,e.pending===0&&(e.pending_out=0))},flush_block_only$1=($e,e)=>{_tr_flush_block$2($e,$e.block_start>=0?$e.block_start:-1,$e.strstart-$e.block_start,e),$e.block_start=$e.strstart,flush_pending$1($e.strm)},put_byte$1=($e,e)=>{$e.pending_buf[$e.pending++]=e},putShortMSB$1=($e,e)=>{$e.pending_buf[$e.pending++]=e>>>8&255,$e.pending_buf[$e.pending++]=e&255},read_buf$1=($e,e,t,r)=>{let Ve=$e.avail_in;return Ve>r&&(Ve=r),Ve===0?0:($e.avail_in-=Ve,e.set($e.input.subarray($e.next_in,$e.next_in+Ve),t),$e.state.wrap===1?$e.adler=adler32_1$1($e.adler,e,Ve,t):$e.state.wrap===2&&($e.adler=crc32_1$1($e.adler,e,Ve,t)),$e.next_in+=Ve,$e.total_in+=Ve,Ve)},longest_match$1=($e,e)=>{let t=$e.max_chain_length,r=$e.strstart,Ve,je,ze=$e.prev_length,Xe=$e.nice_match;const We=$e.strstart>$e.w_size-MIN_LOOKAHEAD$1?$e.strstart-($e.w_size-MIN_LOOKAHEAD$1):0,qe=$e.window,Ke=$e.w_mask,Ze=$e.prev,Je=$e.strstart+MAX_MATCH$2;let Qe=qe[r+ze-1],ti=qe[r+ze];$e.prev_length>=$e.good_match&&(t>>=2),Xe>$e.lookahead&&(Xe=$e.lookahead);do if(Ve=e,!(qe[Ve+ze]!==ti||qe[Ve+ze-1]!==Qe||qe[Ve]!==qe[r]||qe[++Ve]!==qe[r+1])){r+=2,Ve++;do;while(qe[++r]===qe[++Ve]&&qe[++r]===qe[++Ve]&&qe[++r]===qe[++Ve]&&qe[++r]===qe[++Ve]&&qe[++r]===qe[++Ve]&&qe[++r]===qe[++Ve]&&qe[++r]===qe[++Ve]&&qe[++r]===qe[++Ve]&&r<Je);if(je=MAX_MATCH$2-(Je-r),r=Je-MAX_MATCH$2,je>ze){if($e.match_start=e,ze=je,je>=Xe)break;Qe=qe[r+ze-1],ti=qe[r+ze]}}while((e=Ze[e&Ke])>We&&--t!==0);return ze<=$e.lookahead?ze:$e.lookahead},fill_window$1=$e=>{const e=$e.w_size;let t,r,Ve;do{if(r=$e.window_size-$e.lookahead-$e.strstart,$e.strstart>=e+(e-MIN_LOOKAHEAD$1)&&($e.window.set($e.window.subarray(e,e+e-r),0),$e.match_start-=e,$e.strstart-=e,$e.block_start-=e,$e.insert>$e.strstart&&($e.insert=$e.strstart),slide_hash$1($e),r+=e),$e.strm.avail_in===0)break;if(t=read_buf$1($e.strm,$e.window,$e.strstart+$e.lookahead,r),$e.lookahead+=t,$e.lookahead+$e.insert>=MIN_MATCH$2)for(Ve=$e.strstart-$e.insert,$e.ins_h=$e.window[Ve],$e.ins_h=HASH$1($e,$e.ins_h,$e.window[Ve+1]);$e.insert&&($e.ins_h=HASH$1($e,$e.ins_h,$e.window[Ve+MIN_MATCH$2-1]),$e.prev[Ve&$e.w_mask]=$e.head[$e.ins_h],$e.head[$e.ins_h]=Ve,Ve++,$e.insert--,!($e.lookahead+$e.insert<MIN_MATCH$2)););}while($e.lookahead<MIN_LOOKAHEAD$1&&$e.strm.avail_in!==0)},deflate_stored$1=($e,e)=>{let t=$e.pending_buf_size-5>$e.w_size?$e.w_size:$e.pending_buf_size-5,r,Ve,je,ze=0,Xe=$e.strm.avail_in;do{if(r=65535,je=$e.bi_valid+42>>3,$e.strm.avail_out<je||(je=$e.strm.avail_out-je,Ve=$e.strstart-$e.block_start,r>Ve+$e.strm.avail_in&&(r=Ve+$e.strm.avail_in),r>je&&(r=je),r<t&&(r===0&&e!==Z_FINISH$3$1||e===Z_NO_FLUSH$2$1||r!==Ve+$e.strm.avail_in)))break;ze=e===Z_FINISH$3$1&&r===Ve+$e.strm.avail_in?1:0,_tr_stored_block$2($e,0,0,ze),$e.pending_buf[$e.pending-4]=r,$e.pending_buf[$e.pending-3]=r>>8,$e.pending_buf[$e.pending-2]=~r,$e.pending_buf[$e.pending-1]=~r>>8,flush_pending$1($e.strm),Ve&&(Ve>r&&(Ve=r),$e.strm.output.set($e.window.subarray($e.block_start,$e.block_start+Ve),$e.strm.next_out),$e.strm.next_out+=Ve,$e.strm.avail_out-=Ve,$e.strm.total_out+=Ve,$e.block_start+=Ve,r-=Ve),r&&(read_buf$1($e.strm,$e.strm.output,$e.strm.next_out,r),$e.strm.next_out+=r,$e.strm.avail_out-=r,$e.strm.total_out+=r)}while(ze===0);return Xe-=$e.strm.avail_in,Xe&&(Xe>=$e.w_size?($e.matches=2,$e.window.set($e.strm.input.subarray($e.strm.next_in-$e.w_size,$e.strm.next_in),0),$e.strstart=$e.w_size,$e.insert=$e.strstart):($e.window_size-$e.strstart<=Xe&&($e.strstart-=$e.w_size,$e.window.set($e.window.subarray($e.w_size,$e.w_size+$e.strstart),0),$e.matches<2&&$e.matches++,$e.insert>$e.strstart&&($e.insert=$e.strstart)),$e.window.set($e.strm.input.subarray($e.strm.next_in-Xe,$e.strm.next_in),$e.strstart),$e.strstart+=Xe,$e.insert+=Xe>$e.w_size-$e.insert?$e.w_size-$e.insert:Xe),$e.block_start=$e.strstart),$e.high_water<$e.strstart&&($e.high_water=$e.strstart),ze?BS_FINISH_DONE$1:e!==Z_NO_FLUSH$2$1&&e!==Z_FINISH$3$1&&$e.strm.avail_in===0&&$e.strstart===$e.block_start?BS_BLOCK_DONE$1:(je=$e.window_size-$e.strstart,$e.strm.avail_in>je&&$e.block_start>=$e.w_size&&($e.block_start-=$e.w_size,$e.strstart-=$e.w_size,$e.window.set($e.window.subarray($e.w_size,$e.w_size+$e.strstart),0),$e.matches<2&&$e.matches++,je+=$e.w_size,$e.insert>$e.strstart&&($e.insert=$e.strstart)),je>$e.strm.avail_in&&(je=$e.strm.avail_in),je&&(read_buf$1($e.strm,$e.window,$e.strstart,je),$e.strstart+=je,$e.insert+=je>$e.w_size-$e.insert?$e.w_size-$e.insert:je),$e.high_water<$e.strstart&&($e.high_water=$e.strstart),je=$e.bi_valid+42>>3,je=$e.pending_buf_size-je>65535?65535:$e.pending_buf_size-je,t=je>$e.w_size?$e.w_size:je,Ve=$e.strstart-$e.block_start,(Ve>=t||(Ve||e===Z_FINISH$3$1)&&e!==Z_NO_FLUSH$2$1&&$e.strm.avail_in===0&&Ve<=je)&&(r=Ve>je?je:Ve,ze=e===Z_FINISH$3$1&&$e.strm.avail_in===0&&r===Ve?1:0,_tr_stored_block$2($e,$e.block_start,r,ze),$e.block_start+=r,flush_pending$1($e.strm)),ze?BS_FINISH_STARTED$1:BS_NEED_MORE$1)},deflate_fast$1=($e,e)=>{let t,r;for(;;){if($e.lookahead<MIN_LOOKAHEAD$1){if(fill_window$1($e),$e.lookahead<MIN_LOOKAHEAD$1&&e===Z_NO_FLUSH$2$1)return BS_NEED_MORE$1;if($e.lookahead===0)break}if(t=0,$e.lookahead>=MIN_MATCH$2&&($e.ins_h=HASH$1($e,$e.ins_h,$e.window[$e.strstart+MIN_MATCH$2-1]),t=$e.prev[$e.strstart&$e.w_mask]=$e.head[$e.ins_h],$e.head[$e.ins_h]=$e.strstart),t!==0&&$e.strstart-t<=$e.w_size-MIN_LOOKAHEAD$1&&($e.match_length=longest_match$1($e,t)),$e.match_length>=MIN_MATCH$2)if(r=_tr_tally$2($e,$e.strstart-$e.match_start,$e.match_length-MIN_MATCH$2),$e.lookahead-=$e.match_length,$e.match_length<=$e.max_lazy_match&&$e.lookahead>=MIN_MATCH$2){$e.match_length--;do $e.strstart++,$e.ins_h=HASH$1($e,$e.ins_h,$e.window[$e.strstart+MIN_MATCH$2-1]),t=$e.prev[$e.strstart&$e.w_mask]=$e.head[$e.ins_h],$e.head[$e.ins_h]=$e.strstart;while(--$e.match_length!==0);$e.strstart++}else $e.strstart+=$e.match_length,$e.match_length=0,$e.ins_h=$e.window[$e.strstart],$e.ins_h=HASH$1($e,$e.ins_h,$e.window[$e.strstart+1]);else r=_tr_tally$2($e,0,$e.window[$e.strstart]),$e.lookahead--,$e.strstart++;if(r&&(flush_block_only$1($e,!1),$e.strm.avail_out===0))return BS_NEED_MORE$1}return $e.insert=$e.strstart<MIN_MATCH$2-1?$e.strstart:MIN_MATCH$2-1,e===Z_FINISH$3$1?(flush_block_only$1($e,!0),$e.strm.avail_out===0?BS_FINISH_STARTED$1:BS_FINISH_DONE$1):$e.sym_next&&(flush_block_only$1($e,!1),$e.strm.avail_out===0)?BS_NEED_MORE$1:BS_BLOCK_DONE$1},deflate_slow$1=($e,e)=>{let t,r,Ve;for(;;){if($e.lookahead<MIN_LOOKAHEAD$1){if(fill_window$1($e),$e.lookahead<MIN_LOOKAHEAD$1&&e===Z_NO_FLUSH$2$1)return BS_NEED_MORE$1;if($e.lookahead===0)break}if(t=0,$e.lookahead>=MIN_MATCH$2&&($e.ins_h=HASH$1($e,$e.ins_h,$e.window[$e.strstart+MIN_MATCH$2-1]),t=$e.prev[$e.strstart&$e.w_mask]=$e.head[$e.ins_h],$e.head[$e.ins_h]=$e.strstart),$e.prev_length=$e.match_length,$e.prev_match=$e.match_start,$e.match_length=MIN_MATCH$2-1,t!==0&&$e.prev_length<$e.max_lazy_match&&$e.strstart-t<=$e.w_size-MIN_LOOKAHEAD$1&&($e.match_length=longest_match$1($e,t),$e.match_length<=5&&($e.strategy===Z_FILTERED$1||$e.match_length===MIN_MATCH$2&&$e.strstart-$e.match_start>4096)&&($e.match_length=MIN_MATCH$2-1)),$e.prev_length>=MIN_MATCH$2&&$e.match_length<=$e.prev_length){Ve=$e.strstart+$e.lookahead-MIN_MATCH$2,r=_tr_tally$2($e,$e.strstart-1-$e.prev_match,$e.prev_length-MIN_MATCH$2),$e.lookahead-=$e.prev_length-1,$e.prev_length-=2;do++$e.strstart<=Ve&&($e.ins_h=HASH$1($e,$e.ins_h,$e.window[$e.strstart+MIN_MATCH$2-1]),t=$e.prev[$e.strstart&$e.w_mask]=$e.head[$e.ins_h],$e.head[$e.ins_h]=$e.strstart);while(--$e.prev_length!==0);if($e.match_available=0,$e.match_length=MIN_MATCH$2-1,$e.strstart++,r&&(flush_block_only$1($e,!1),$e.strm.avail_out===0))return BS_NEED_MORE$1}else if($e.match_available){if(r=_tr_tally$2($e,0,$e.window[$e.strstart-1]),r&&flush_block_only$1($e,!1),$e.strstart++,$e.lookahead--,$e.strm.avail_out===0)return BS_NEED_MORE$1}else $e.match_available=1,$e.strstart++,$e.lookahead--}return $e.match_available&&(r=_tr_tally$2($e,0,$e.window[$e.strstart-1]),$e.match_available=0),$e.insert=$e.strstart<MIN_MATCH$2-1?$e.strstart:MIN_MATCH$2-1,e===Z_FINISH$3$1?(flush_block_only$1($e,!0),$e.strm.avail_out===0?BS_FINISH_STARTED$1:BS_FINISH_DONE$1):$e.sym_next&&(flush_block_only$1($e,!1),$e.strm.avail_out===0)?BS_NEED_MORE$1:BS_BLOCK_DONE$1},deflate_rle$1=($e,e)=>{let t,r,Ve,je;const ze=$e.window;for(;;){if($e.lookahead<=MAX_MATCH$2){if(fill_window$1($e),$e.lookahead<=MAX_MATCH$2&&e===Z_NO_FLUSH$2$1)return BS_NEED_MORE$1;if($e.lookahead===0)break}if($e.match_length=0,$e.lookahead>=MIN_MATCH$2&&$e.strstart>0&&(Ve=$e.strstart-1,r=ze[Ve],r===ze[++Ve]&&r===ze[++Ve]&&r===ze[++Ve])){je=$e.strstart+MAX_MATCH$2;do;while(r===ze[++Ve]&&r===ze[++Ve]&&r===ze[++Ve]&&r===ze[++Ve]&&r===ze[++Ve]&&r===ze[++Ve]&&r===ze[++Ve]&&r===ze[++Ve]&&Ve<je);$e.match_length=MAX_MATCH$2-(je-Ve),$e.match_length>$e.lookahead&&($e.match_length=$e.lookahead)}if($e.match_length>=MIN_MATCH$2?(t=_tr_tally$2($e,1,$e.match_length-MIN_MATCH$2),$e.lookahead-=$e.match_length,$e.strstart+=$e.match_length,$e.match_length=0):(t=_tr_tally$2($e,0,$e.window[$e.strstart]),$e.lookahead--,$e.strstart++),t&&(flush_block_only$1($e,!1),$e.strm.avail_out===0))return BS_NEED_MORE$1}return $e.insert=0,e===Z_FINISH$3$1?(flush_block_only$1($e,!0),$e.strm.avail_out===0?BS_FINISH_STARTED$1:BS_FINISH_DONE$1):$e.sym_next&&(flush_block_only$1($e,!1),$e.strm.avail_out===0)?BS_NEED_MORE$1:BS_BLOCK_DONE$1},deflate_huff$1=($e,e)=>{let t;for(;;){if($e.lookahead===0&&(fill_window$1($e),$e.lookahead===0)){if(e===Z_NO_FLUSH$2$1)return BS_NEED_MORE$1;break}if($e.match_length=0,t=_tr_tally$2($e,0,$e.window[$e.strstart]),$e.lookahead--,$e.strstart++,t&&(flush_block_only$1($e,!1),$e.strm.avail_out===0))return BS_NEED_MORE$1}return $e.insert=0,e===Z_FINISH$3$1?(flush_block_only$1($e,!0),$e.strm.avail_out===0?BS_FINISH_STARTED$1:BS_FINISH_DONE$1):$e.sym_next&&(flush_block_only$1($e,!1),$e.strm.avail_out===0)?BS_NEED_MORE$1:BS_BLOCK_DONE$1};function Config$1($e,e,t,r,Ve){this.good_length=$e,this.max_lazy=e,this.nice_length=t,this.max_chain=r,this.func=Ve}const configuration_table$1=[new Config$1(0,0,0,0,deflate_stored$1),new Config$1(4,4,8,4,deflate_fast$1),new Config$1(4,5,16,8,deflate_fast$1),new Config$1(4,6,32,32,deflate_fast$1),new Config$1(4,4,16,16,deflate_slow$1),new Config$1(8,16,32,32,deflate_slow$1),new Config$1(8,16,128,128,deflate_slow$1),new Config$1(8,32,128,256,deflate_slow$1),new Config$1(32,128,258,1024,deflate_slow$1),new Config$1(32,258,258,4096,deflate_slow$1)],lm_init$1=$e=>{$e.window_size=2*$e.w_size,zero$2($e.head),$e.max_lazy_match=configuration_table$1[$e.level].max_lazy,$e.good_match=configuration_table$1[$e.level].good_length,$e.nice_match=configuration_table$1[$e.level].nice_length,$e.max_chain_length=configuration_table$1[$e.level].max_chain,$e.strstart=0,$e.block_start=0,$e.lookahead=0,$e.insert=0,$e.match_length=$e.prev_length=MIN_MATCH$2-1,$e.match_available=0,$e.ins_h=0};function DeflateState$1(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2$1,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE$2*2),this.dyn_dtree=new Uint16Array((2*D_CODES$2+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES$2+1)*2),zero$2(this.dyn_ltree),zero$2(this.dyn_dtree),zero$2(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS$2+1),this.heap=new Uint16Array(2*L_CODES$2+1),zero$2(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES$2+1),zero$2(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateStateCheck$1=$e=>{if(!$e)return 1;const e=$e.state;return!e||e.strm!==$e||e.status!==INIT_STATE$1&&e.status!==GZIP_STATE$1&&e.status!==EXTRA_STATE$1&&e.status!==NAME_STATE$1&&e.status!==COMMENT_STATE$1&&e.status!==HCRC_STATE$1&&e.status!==BUSY_STATE$1&&e.status!==FINISH_STATE$1?1:0},deflateResetKeep$1=$e=>{if(deflateStateCheck$1($e))return err$1($e,Z_STREAM_ERROR$2$1);$e.total_in=$e.total_out=0,$e.data_type=Z_UNKNOWN$2;const e=$e.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?GZIP_STATE$1:e.wrap?INIT_STATE$1:BUSY_STATE$1,$e.adler=e.wrap===2?0:1,e.last_flush=-2,_tr_init$2(e),Z_OK$3$1},deflateReset$1=$e=>{const e=deflateResetKeep$1($e);return e===Z_OK$3$1&&lm_init$1($e.state),e},deflateSetHeader$1=($e,e)=>deflateStateCheck$1($e)||$e.state.wrap!==2?Z_STREAM_ERROR$2$1:($e.state.gzhead=e,Z_OK$3$1),deflateInit2$1=($e,e,t,r,Ve,je)=>{if(!$e)return Z_STREAM_ERROR$2$1;let ze=1;if(e===Z_DEFAULT_COMPRESSION$1$1&&(e=6),r<0?(ze=0,r=-r):r>15&&(ze=2,r-=16),Ve<1||Ve>MAX_MEM_LEVEL$1||t!==Z_DEFLATED$2$1||r<8||r>15||e<0||e>9||je<0||je>Z_FIXED$2||r===8&&ze!==1)return err$1($e,Z_STREAM_ERROR$2$1);r===8&&(r=9);const Xe=new DeflateState$1;return $e.state=Xe,Xe.strm=$e,Xe.status=INIT_STATE$1,Xe.wrap=ze,Xe.gzhead=null,Xe.w_bits=r,Xe.w_size=1<<Xe.w_bits,Xe.w_mask=Xe.w_size-1,Xe.hash_bits=Ve+7,Xe.hash_size=1<<Xe.hash_bits,Xe.hash_mask=Xe.hash_size-1,Xe.hash_shift=~~((Xe.hash_bits+MIN_MATCH$2-1)/MIN_MATCH$2),Xe.window=new Uint8Array(Xe.w_size*2),Xe.head=new Uint16Array(Xe.hash_size),Xe.prev=new Uint16Array(Xe.w_size),Xe.lit_bufsize=1<<Ve+6,Xe.pending_buf_size=Xe.lit_bufsize*4,Xe.pending_buf=new Uint8Array(Xe.pending_buf_size),Xe.sym_buf=Xe.lit_bufsize,Xe.sym_end=(Xe.lit_bufsize-1)*3,Xe.level=e,Xe.strategy=je,Xe.method=t,deflateReset$1($e)},deflateInit$1=($e,e)=>deflateInit2$1($e,e,Z_DEFLATED$2$1,MAX_WBITS$1$1,DEF_MEM_LEVEL$1,Z_DEFAULT_STRATEGY$1$1),deflate$2$1=($e,e)=>{if(deflateStateCheck$1($e)||e>Z_BLOCK$1$1||e<0)return $e?err$1($e,Z_STREAM_ERROR$2$1):Z_STREAM_ERROR$2$1;const t=$e.state;if(!$e.output||$e.avail_in!==0&&!$e.input||t.status===FINISH_STATE$1&&e!==Z_FINISH$3$1)return err$1($e,$e.avail_out===0?Z_BUF_ERROR$1$1:Z_STREAM_ERROR$2$1);const r=t.last_flush;if(t.last_flush=e,t.pending!==0){if(flush_pending$1($e),$e.avail_out===0)return t.last_flush=-1,Z_OK$3$1}else if($e.avail_in===0&&rank$1(e)<=rank$1(r)&&e!==Z_FINISH$3$1)return err$1($e,Z_BUF_ERROR$1$1);if(t.status===FINISH_STATE$1&&$e.avail_in!==0)return err$1($e,Z_BUF_ERROR$1$1);if(t.status===INIT_STATE$1&&t.wrap===0&&(t.status=BUSY_STATE$1),t.status===INIT_STATE$1){let Ve=Z_DEFLATED$2$1+(t.w_bits-8<<4)<<8,je=-1;if(t.strategy>=Z_HUFFMAN_ONLY$1||t.level<2?je=0:t.level<6?je=1:t.level===6?je=2:je=3,Ve|=je<<6,t.strstart!==0&&(Ve|=PRESET_DICT$1),Ve+=31-Ve%31,putShortMSB$1(t,Ve),t.strstart!==0&&(putShortMSB$1(t,$e.adler>>>16),putShortMSB$1(t,$e.adler&65535)),$e.adler=1,t.status=BUSY_STATE$1,flush_pending$1($e),t.pending!==0)return t.last_flush=-1,Z_OK$3$1}if(t.status===GZIP_STATE$1){if($e.adler=0,put_byte$1(t,31),put_byte$1(t,139),put_byte$1(t,8),t.gzhead)put_byte$1(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),put_byte$1(t,t.gzhead.time&255),put_byte$1(t,t.gzhead.time>>8&255),put_byte$1(t,t.gzhead.time>>16&255),put_byte$1(t,t.gzhead.time>>24&255),put_byte$1(t,t.level===9?2:t.strategy>=Z_HUFFMAN_ONLY$1||t.level<2?4:0),put_byte$1(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(put_byte$1(t,t.gzhead.extra.length&255),put_byte$1(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&($e.adler=crc32_1$1($e.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=EXTRA_STATE$1;else if(put_byte$1(t,0),put_byte$1(t,0),put_byte$1(t,0),put_byte$1(t,0),put_byte$1(t,0),put_byte$1(t,t.level===9?2:t.strategy>=Z_HUFFMAN_ONLY$1||t.level<2?4:0),put_byte$1(t,OS_CODE$1),t.status=BUSY_STATE$1,flush_pending$1($e),t.pending!==0)return t.last_flush=-1,Z_OK$3$1}if(t.status===EXTRA_STATE$1){if(t.gzhead.extra){let Ve=t.pending,je=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+je>t.pending_buf_size;){let Xe=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+Xe),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>Ve&&($e.adler=crc32_1$1($e.adler,t.pending_buf,t.pending-Ve,Ve)),t.gzindex+=Xe,flush_pending$1($e),t.pending!==0)return t.last_flush=-1,Z_OK$3$1;Ve=0,je-=Xe}let ze=new Uint8Array(t.gzhead.extra);t.pending_buf.set(ze.subarray(t.gzindex,t.gzindex+je),t.pending),t.pending+=je,t.gzhead.hcrc&&t.pending>Ve&&($e.adler=crc32_1$1($e.adler,t.pending_buf,t.pending-Ve,Ve)),t.gzindex=0}t.status=NAME_STATE$1}if(t.status===NAME_STATE$1){if(t.gzhead.name){let Ve=t.pending,je;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>Ve&&($e.adler=crc32_1$1($e.adler,t.pending_buf,t.pending-Ve,Ve)),flush_pending$1($e),t.pending!==0)return t.last_flush=-1,Z_OK$3$1;Ve=0}t.gzindex<t.gzhead.name.length?je=t.gzhead.name.charCodeAt(t.gzindex++)&255:je=0,put_byte$1(t,je)}while(je!==0);t.gzhead.hcrc&&t.pending>Ve&&($e.adler=crc32_1$1($e.adler,t.pending_buf,t.pending-Ve,Ve)),t.gzindex=0}t.status=COMMENT_STATE$1}if(t.status===COMMENT_STATE$1){if(t.gzhead.comment){let Ve=t.pending,je;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>Ve&&($e.adler=crc32_1$1($e.adler,t.pending_buf,t.pending-Ve,Ve)),flush_pending$1($e),t.pending!==0)return t.last_flush=-1,Z_OK$3$1;Ve=0}t.gzindex<t.gzhead.comment.length?je=t.gzhead.comment.charCodeAt(t.gzindex++)&255:je=0,put_byte$1(t,je)}while(je!==0);t.gzhead.hcrc&&t.pending>Ve&&($e.adler=crc32_1$1($e.adler,t.pending_buf,t.pending-Ve,Ve))}t.status=HCRC_STATE$1}if(t.status===HCRC_STATE$1){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(flush_pending$1($e),t.pending!==0))return t.last_flush=-1,Z_OK$3$1;put_byte$1(t,$e.adler&255),put_byte$1(t,$e.adler>>8&255),$e.adler=0}if(t.status=BUSY_STATE$1,flush_pending$1($e),t.pending!==0)return t.last_flush=-1,Z_OK$3$1}if($e.avail_in!==0||t.lookahead!==0||e!==Z_NO_FLUSH$2$1&&t.status!==FINISH_STATE$1){let Ve=t.level===0?deflate_stored$1(t,e):t.strategy===Z_HUFFMAN_ONLY$1?deflate_huff$1(t,e):t.strategy===Z_RLE$1?deflate_rle$1(t,e):configuration_table$1[t.level].func(t,e);if((Ve===BS_FINISH_STARTED$1||Ve===BS_FINISH_DONE$1)&&(t.status=FINISH_STATE$1),Ve===BS_NEED_MORE$1||Ve===BS_FINISH_STARTED$1)return $e.avail_out===0&&(t.last_flush=-1),Z_OK$3$1;if(Ve===BS_BLOCK_DONE$1&&(e===Z_PARTIAL_FLUSH$1?_tr_align$2(t):e!==Z_BLOCK$1$1&&(_tr_stored_block$2(t,0,0,!1),e===Z_FULL_FLUSH$1$1&&(zero$2(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),flush_pending$1($e),$e.avail_out===0))return t.last_flush=-1,Z_OK$3$1}return e!==Z_FINISH$3$1?Z_OK$3$1:t.wrap<=0?Z_STREAM_END$3$1:(t.wrap===2?(put_byte$1(t,$e.adler&255),put_byte$1(t,$e.adler>>8&255),put_byte$1(t,$e.adler>>16&255),put_byte$1(t,$e.adler>>24&255),put_byte$1(t,$e.total_in&255),put_byte$1(t,$e.total_in>>8&255),put_byte$1(t,$e.total_in>>16&255),put_byte$1(t,$e.total_in>>24&255)):(putShortMSB$1(t,$e.adler>>>16),putShortMSB$1(t,$e.adler&65535)),flush_pending$1($e),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?Z_OK$3$1:Z_STREAM_END$3$1)},deflateEnd$1=$e=>{if(deflateStateCheck$1($e))return Z_STREAM_ERROR$2$1;const e=$e.state.status;return $e.state=null,e===BUSY_STATE$1?err$1($e,Z_DATA_ERROR$2$1):Z_OK$3$1},deflateSetDictionary$1=($e,e)=>{let t=e.length;if(deflateStateCheck$1($e))return Z_STREAM_ERROR$2$1;const r=$e.state,Ve=r.wrap;if(Ve===2||Ve===1&&r.status!==INIT_STATE$1||r.lookahead)return Z_STREAM_ERROR$2$1;if(Ve===1&&($e.adler=adler32_1$1($e.adler,e,t,0)),r.wrap=0,t>=r.w_size){Ve===0&&(zero$2(r.head),r.strstart=0,r.block_start=0,r.insert=0);let We=new Uint8Array(r.w_size);We.set(e.subarray(t-r.w_size,t),0),e=We,t=r.w_size}const je=$e.avail_in,ze=$e.next_in,Xe=$e.input;for($e.avail_in=t,$e.next_in=0,$e.input=e,fill_window$1(r);r.lookahead>=MIN_MATCH$2;){let We=r.strstart,qe=r.lookahead-(MIN_MATCH$2-1);do r.ins_h=HASH$1(r,r.ins_h,r.window[We+MIN_MATCH$2-1]),r.prev[We&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=We,We++;while(--qe);r.strstart=We,r.lookahead=MIN_MATCH$2-1,fill_window$1(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=MIN_MATCH$2-1,r.match_available=0,$e.next_in=ze,$e.input=Xe,$e.avail_in=je,r.wrap=Ve,Z_OK$3$1};var deflateInit_1$1=deflateInit$1,deflateInit2_1$1=deflateInit2$1,deflateReset_1$1=deflateReset$1,deflateResetKeep_1$1=deflateResetKeep$1,deflateSetHeader_1$1=deflateSetHeader$1,deflate_2$1$1=deflate$2$1,deflateEnd_1$1=deflateEnd$1,deflateSetDictionary_1$1=deflateSetDictionary$1,deflateInfo$1="pako deflate (from Nodeca project)",deflate_1$2$1={deflateInit:deflateInit_1$1,deflateInit2:deflateInit2_1$1,deflateReset:deflateReset_1$1,deflateResetKeep:deflateResetKeep_1$1,deflateSetHeader:deflateSetHeader_1$1,deflate:deflate_2$1$1,deflateEnd:deflateEnd_1$1,deflateSetDictionary:deflateSetDictionary_1$1,deflateInfo:deflateInfo$1};const _has$1=($e,e)=>Object.prototype.hasOwnProperty.call($e,e);var assign$1=function($e){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)_has$1(t,r)&&($e[r]=t[r])}}return $e},flattenChunks$1=$e=>{let e=0;for(let r=0,Ve=$e.length;r<Ve;r++)e+=$e[r].length;const t=new Uint8Array(e);for(let r=0,Ve=0,je=$e.length;r<je;r++){let ze=$e[r];t.set(ze,Ve),Ve+=ze.length}return t},common$1={assign:assign$1,flattenChunks:flattenChunks$1};let STR_APPLY_UIA_OK$1=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{STR_APPLY_UIA_OK$1=!1}const _utf8len$1=new Uint8Array(256);for(let $e=0;$e<256;$e++)_utf8len$1[$e]=$e>=252?6:$e>=248?5:$e>=240?4:$e>=224?3:$e>=192?2:1;_utf8len$1[254]=_utf8len$1[254]=1;var string2buf$1=$e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode($e);let e,t,r,Ve,je,ze=$e.length,Xe=0;for(Ve=0;Ve<ze;Ve++)t=$e.charCodeAt(Ve),(t&64512)===55296&&Ve+1<ze&&(r=$e.charCodeAt(Ve+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),Ve++)),Xe+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(Xe),je=0,Ve=0;je<Xe;Ve++)t=$e.charCodeAt(Ve),(t&64512)===55296&&Ve+1<ze&&(r=$e.charCodeAt(Ve+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),Ve++)),t<128?e[je++]=t:t<2048?(e[je++]=192|t>>>6,e[je++]=128|t&63):t<65536?(e[je++]=224|t>>>12,e[je++]=128|t>>>6&63,e[je++]=128|t&63):(e[je++]=240|t>>>18,e[je++]=128|t>>>12&63,e[je++]=128|t>>>6&63,e[je++]=128|t&63);return e};const buf2binstring$1=($e,e)=>{if(e<65534&&$e.subarray&&STR_APPLY_UIA_OK$1)return String.fromCharCode.apply(null,$e.length===e?$e:$e.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode($e[r]);return t};var buf2string$1=($e,e)=>{const t=e||$e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode($e.subarray(0,e));let r,Ve;const je=new Array(t*2);for(Ve=0,r=0;r<t;){let ze=$e[r++];if(ze<128){je[Ve++]=ze;continue}let Xe=_utf8len$1[ze];if(Xe>4){je[Ve++]=65533,r+=Xe-1;continue}for(ze&=Xe===2?31:Xe===3?15:7;Xe>1&&r<t;)ze=ze<<6|$e[r++]&63,Xe--;if(Xe>1){je[Ve++]=65533;continue}ze<65536?je[Ve++]=ze:(ze-=65536,je[Ve++]=55296|ze>>10&1023,je[Ve++]=56320|ze&1023)}return buf2binstring$1(je,Ve)},utf8border$1=($e,e)=>{e=e||$e.length,e>$e.length&&(e=$e.length);let t=e-1;for(;t>=0&&($e[t]&192)===128;)t--;return t<0||t===0?e:t+_utf8len$1[$e[t]]>e?t:e},strings$1={string2buf:string2buf$1,buf2string:buf2string$1,utf8border:utf8border$1};function ZStream$1(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream$1=ZStream$1;const toString$1$1$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1$1,Z_SYNC_FLUSH:Z_SYNC_FLUSH$1,Z_FULL_FLUSH:Z_FULL_FLUSH$2,Z_FINISH:Z_FINISH$2$1,Z_OK:Z_OK$2$1,Z_STREAM_END:Z_STREAM_END$2$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$2,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$2,Z_DEFLATED:Z_DEFLATED$1$1}=constants$2$1;function Deflate$1$1($e){this.options=common$1.assign({level:Z_DEFAULT_COMPRESSION$2,method:Z_DEFLATED$1$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY$2},$e||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream$1,this.strm.avail_out=0;let t=deflate_1$2$1.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(t!==Z_OK$2$1)throw new Error(messages$1[t]);if(e.header&&deflate_1$2$1.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(typeof e.dictionary=="string"?r=strings$1.string2buf(e.dictionary):toString$1$1$1.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,t=deflate_1$2$1.deflateSetDictionary(this.strm,r),t!==Z_OK$2$1)throw new Error(messages$1[t]);this._dict_set=!0}}Deflate$1$1.prototype.push=function($e,e){const t=this.strm,r=this.options.chunkSize;let Ve,je;if(this.ended)return!1;for(e===~~e?je=e:je=e===!0?Z_FINISH$2$1:Z_NO_FLUSH$1$1,typeof $e=="string"?t.input=strings$1.string2buf($e):toString$1$1$1.call($e)==="[object ArrayBuffer]"?t.input=new Uint8Array($e):t.input=$e,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),(je===Z_SYNC_FLUSH$1||je===Z_FULL_FLUSH$2)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(Ve=deflate_1$2$1.deflate(t,je),Ve===Z_STREAM_END$2$1)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),Ve=deflate_1$2$1.deflateEnd(this.strm),this.onEnd(Ve),this.ended=!0,Ve===Z_OK$2$1;if(t.avail_out===0){this.onData(t.output);continue}if(je>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0};Deflate$1$1.prototype.onData=function($e){this.chunks.push($e)};Deflate$1$1.prototype.onEnd=function($e){$e===Z_OK$2$1&&(this.result=common$1.flattenChunks(this.chunks)),this.chunks=[],this.err=$e,this.msg=this.strm.msg};function deflate$1$1($e,e){const t=new Deflate$1$1(e);if(t.push($e,!0),t.err)throw t.msg||messages$1[t.err];return t.result}function deflateRaw$1$1($e,e){return e=e||{},e.raw=!0,deflate$1$1($e,e)}function gzip$1$1($e,e){return e=e||{},e.gzip=!0,deflate$1$1($e,e)}var Deflate_1$1$1=Deflate$1$1,deflate_2$2=deflate$1$1,deflateRaw_1$1$1=deflateRaw$1$1,gzip_1$1$1=gzip$1$1,constants$1$1=constants$2$1,deflate_1$1$1={Deflate:Deflate_1$1$1,deflate:deflate_2$2,deflateRaw:deflateRaw_1$1$1,gzip:gzip_1$1$1,constants:constants$1$1};const BAD$1$1=16209,TYPE$1$1=16191;var inffast$1=function($e,e){let t,r,Ve,je,ze,Xe,We,qe,Ke,Ze,Je,Qe,ti,ni,ri,ii,ei,St,oi,si,ai,ui,hi,ci;const mi=$e.state;t=$e.next_in,hi=$e.input,r=t+($e.avail_in-5),Ve=$e.next_out,ci=$e.output,je=Ve-(e-$e.avail_out),ze=Ve+($e.avail_out-257),Xe=mi.dmax,We=mi.wsize,qe=mi.whave,Ke=mi.wnext,Ze=mi.window,Je=mi.hold,Qe=mi.bits,ti=mi.lencode,ni=mi.distcode,ri=(1<<mi.lenbits)-1,ii=(1<<mi.distbits)-1;e:do{Qe<15&&(Je+=hi[t++]<<Qe,Qe+=8,Je+=hi[t++]<<Qe,Qe+=8),ei=ti[Je&ri];t:for(;;){if(St=ei>>>24,Je>>>=St,Qe-=St,St=ei>>>16&255,St===0)ci[Ve++]=ei&65535;else if(St&16){oi=ei&65535,St&=15,St&&(Qe<St&&(Je+=hi[t++]<<Qe,Qe+=8),oi+=Je&(1<<St)-1,Je>>>=St,Qe-=St),Qe<15&&(Je+=hi[t++]<<Qe,Qe+=8,Je+=hi[t++]<<Qe,Qe+=8),ei=ni[Je&ii];i:for(;;){if(St=ei>>>24,Je>>>=St,Qe-=St,St=ei>>>16&255,St&16){if(si=ei&65535,St&=15,Qe<St&&(Je+=hi[t++]<<Qe,Qe+=8,Qe<St&&(Je+=hi[t++]<<Qe,Qe+=8)),si+=Je&(1<<St)-1,si>Xe){$e.msg="invalid distance too far back",mi.mode=BAD$1$1;break e}if(Je>>>=St,Qe-=St,St=Ve-je,si>St){if(St=si-St,St>qe&&mi.sane){$e.msg="invalid distance too far back",mi.mode=BAD$1$1;break e}if(ai=0,ui=Ze,Ke===0){if(ai+=We-St,St<oi){oi-=St;do ci[Ve++]=Ze[ai++];while(--St);ai=Ve-si,ui=ci}}else if(Ke<St){if(ai+=We+Ke-St,St-=Ke,St<oi){oi-=St;do ci[Ve++]=Ze[ai++];while(--St);if(ai=0,Ke<oi){St=Ke,oi-=St;do ci[Ve++]=Ze[ai++];while(--St);ai=Ve-si,ui=ci}}}else if(ai+=Ke-St,St<oi){oi-=St;do ci[Ve++]=Ze[ai++];while(--St);ai=Ve-si,ui=ci}for(;oi>2;)ci[Ve++]=ui[ai++],ci[Ve++]=ui[ai++],ci[Ve++]=ui[ai++],oi-=3;oi&&(ci[Ve++]=ui[ai++],oi>1&&(ci[Ve++]=ui[ai++]))}else{ai=Ve-si;do ci[Ve++]=ci[ai++],ci[Ve++]=ci[ai++],ci[Ve++]=ci[ai++],oi-=3;while(oi>2);oi&&(ci[Ve++]=ci[ai++],oi>1&&(ci[Ve++]=ci[ai++]))}}else if(St&64){$e.msg="invalid distance code",mi.mode=BAD$1$1;break e}else{ei=ni[(ei&65535)+(Je&(1<<St)-1)];continue i}break}}else if(St&64)if(St&32){mi.mode=TYPE$1$1;break e}else{$e.msg="invalid literal/length code",mi.mode=BAD$1$1;break e}else{ei=ti[(ei&65535)+(Je&(1<<St)-1)];continue t}break}}while(t<r&&Ve<ze);oi=Qe>>3,t-=oi,Qe-=oi<<3,Je&=(1<<Qe)-1,$e.next_in=t,$e.next_out=Ve,$e.avail_in=t<r?5+(r-t):5-(t-r),$e.avail_out=Ve<ze?257+(ze-Ve):257-(Ve-ze),mi.hold=Je,mi.bits=Qe};const MAXBITS$1=15,ENOUGH_LENS$1$1=852,ENOUGH_DISTS$1$1=592,CODES$1$1=0,LENS$1$1=1,DISTS$1$1=2,lbase$1=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext$1=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase$1=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext$1=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table$1=($e,e,t,r,Ve,je,ze,Xe)=>{const We=Xe.bits;let qe=0,Ke=0,Ze=0,Je=0,Qe=0,ti=0,ni=0,ri=0,ii=0,ei=0,St,oi,si,ai,ui,hi=null,ci;const mi=new Uint16Array(MAXBITS$1+1),di=new Uint16Array(MAXBITS$1+1);let pi=null,yi,gi,_i;for(qe=0;qe<=MAXBITS$1;qe++)mi[qe]=0;for(Ke=0;Ke<r;Ke++)mi[e[t+Ke]]++;for(Qe=We,Je=MAXBITS$1;Je>=1&&mi[Je]===0;Je--);if(Qe>Je&&(Qe=Je),Je===0)return Ve[je++]=1<<24|64<<16|0,Ve[je++]=1<<24|64<<16|0,Xe.bits=1,0;for(Ze=1;Ze<Je&&mi[Ze]===0;Ze++);for(Qe<Ze&&(Qe=Ze),ri=1,qe=1;qe<=MAXBITS$1;qe++)if(ri<<=1,ri-=mi[qe],ri<0)return-1;if(ri>0&&($e===CODES$1$1||Je!==1))return-1;for(di[1]=0,qe=1;qe<MAXBITS$1;qe++)di[qe+1]=di[qe]+mi[qe];for(Ke=0;Ke<r;Ke++)e[t+Ke]!==0&&(ze[di[e[t+Ke]]++]=Ke);if($e===CODES$1$1?(hi=pi=ze,ci=20):$e===LENS$1$1?(hi=lbase$1,pi=lext$1,ci=257):(hi=dbase$1,pi=dext$1,ci=0),ei=0,Ke=0,qe=Ze,ui=je,ti=Qe,ni=0,si=-1,ii=1<<Qe,ai=ii-1,$e===LENS$1$1&&ii>ENOUGH_LENS$1$1||$e===DISTS$1$1&&ii>ENOUGH_DISTS$1$1)return 1;for(;;){yi=qe-ni,ze[Ke]+1<ci?(gi=0,_i=ze[Ke]):ze[Ke]>=ci?(gi=pi[ze[Ke]-ci],_i=hi[ze[Ke]-ci]):(gi=96,_i=0),St=1<<qe-ni,oi=1<<ti,Ze=oi;do oi-=St,Ve[ui+(ei>>ni)+oi]=yi<<24|gi<<16|_i|0;while(oi!==0);for(St=1<<qe-1;ei&St;)St>>=1;if(St!==0?(ei&=St-1,ei+=St):ei=0,Ke++,--mi[qe]===0){if(qe===Je)break;qe=e[t+ze[Ke]]}if(qe>Qe&&(ei&ai)!==si){for(ni===0&&(ni=Qe),ui+=Ze,ti=qe-ni,ri=1<<ti;ti+ni<Je&&(ri-=mi[ti+ni],!(ri<=0));)ti++,ri<<=1;if(ii+=1<<ti,$e===LENS$1$1&&ii>ENOUGH_LENS$1$1||$e===DISTS$1$1&&ii>ENOUGH_DISTS$1$1)return 1;si=ei&ai,Ve[si]=Qe<<24|ti<<16|ui-je|0}}return ei!==0&&(Ve[ui+ei]=qe-ni<<24|64<<16|0),Xe.bits=Qe,0};var inftrees$1=inflate_table$1;const CODES$2=0,LENS$2=1,DISTS$2=2,{Z_FINISH:Z_FINISH$1$1,Z_BLOCK:Z_BLOCK$2,Z_TREES:Z_TREES$1,Z_OK:Z_OK$1$1,Z_STREAM_END:Z_STREAM_END$1$1,Z_NEED_DICT:Z_NEED_DICT$1$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1$1,Z_DATA_ERROR:Z_DATA_ERROR$1$1,Z_MEM_ERROR:Z_MEM_ERROR$1$1,Z_BUF_ERROR:Z_BUF_ERROR$2,Z_DEFLATED:Z_DEFLATED$3}=constants$2$1,HEAD$1=16180,FLAGS$1=16181,TIME$1=16182,OS$1=16183,EXLEN$1=16184,EXTRA$1=16185,NAME$1=16186,COMMENT$1=16187,HCRC$1=16188,DICTID$1=16189,DICT$1=16190,TYPE$2=16191,TYPEDO$1=16192,STORED$1=16193,COPY_$1=16194,COPY$1=16195,TABLE$1=16196,LENLENS$1=16197,CODELENS$1=16198,LEN_$1=16199,LEN$1=16200,LENEXT$1=16201,DIST$1=16202,DISTEXT$1=16203,MATCH$1=16204,LIT$1=16205,CHECK$1=16206,LENGTH$1=16207,DONE$1=16208,BAD$2=16209,MEM$1=16210,SYNC$1=16211,ENOUGH_LENS$2=852,ENOUGH_DISTS$2=592,MAX_WBITS$2=15,DEF_WBITS$1=MAX_WBITS$2,zswap32$1=$e=>($e>>>24&255)+($e>>>8&65280)+(($e&65280)<<8)+(($e&255)<<24);function InflateState$1(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateStateCheck$1=$e=>{if(!$e)return 1;const e=$e.state;return!e||e.strm!==$e||e.mode<HEAD$1||e.mode>SYNC$1?1:0},inflateResetKeep$1=$e=>{if(inflateStateCheck$1($e))return Z_STREAM_ERROR$1$1;const e=$e.state;return $e.total_in=$e.total_out=e.total=0,$e.msg="",e.wrap&&($e.adler=e.wrap&1),e.mode=HEAD$1,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(ENOUGH_LENS$2),e.distcode=e.distdyn=new Int32Array(ENOUGH_DISTS$2),e.sane=1,e.back=-1,Z_OK$1$1},inflateReset$1=$e=>{if(inflateStateCheck$1($e))return Z_STREAM_ERROR$1$1;const e=$e.state;return e.wsize=0,e.whave=0,e.wnext=0,inflateResetKeep$1($e)},inflateReset2$1=($e,e)=>{let t;if(inflateStateCheck$1($e))return Z_STREAM_ERROR$1$1;const r=$e.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Z_STREAM_ERROR$1$1:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,inflateReset$1($e))},inflateInit2$1=($e,e)=>{if(!$e)return Z_STREAM_ERROR$1$1;const t=new InflateState$1;$e.state=t,t.strm=$e,t.window=null,t.mode=HEAD$1;const r=inflateReset2$1($e,e);return r!==Z_OK$1$1&&($e.state=null),r},inflateInit$1=$e=>inflateInit2$1($e,DEF_WBITS$1);let virgin$1=!0,lenfix$1,distfix$1;const fixedtables$1=$e=>{if(virgin$1){lenfix$1=new Int32Array(512),distfix$1=new Int32Array(32);let e=0;for(;e<144;)$e.lens[e++]=8;for(;e<256;)$e.lens[e++]=9;for(;e<280;)$e.lens[e++]=7;for(;e<288;)$e.lens[e++]=8;for(inftrees$1(LENS$2,$e.lens,0,288,lenfix$1,0,$e.work,{bits:9}),e=0;e<32;)$e.lens[e++]=5;inftrees$1(DISTS$2,$e.lens,0,32,distfix$1,0,$e.work,{bits:5}),virgin$1=!1}$e.lencode=lenfix$1,$e.lenbits=9,$e.distcode=distfix$1,$e.distbits=5},updatewindow$1=($e,e,t,r)=>{let Ve;const je=$e.state;return je.window===null&&(je.wsize=1<<je.wbits,je.wnext=0,je.whave=0,je.window=new Uint8Array(je.wsize)),r>=je.wsize?(je.window.set(e.subarray(t-je.wsize,t),0),je.wnext=0,je.whave=je.wsize):(Ve=je.wsize-je.wnext,Ve>r&&(Ve=r),je.window.set(e.subarray(t-r,t-r+Ve),je.wnext),r-=Ve,r?(je.window.set(e.subarray(t-r,t),0),je.wnext=r,je.whave=je.wsize):(je.wnext+=Ve,je.wnext===je.wsize&&(je.wnext=0),je.whave<je.wsize&&(je.whave+=Ve))),0},inflate$2$1=($e,e)=>{let t,r,Ve,je,ze,Xe,We,qe,Ke,Ze,Je,Qe,ti,ni,ri=0,ii,ei,St,oi,si,ai,ui,hi;const ci=new Uint8Array(4);let mi,di;const pi=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck$1($e)||!$e.output||!$e.input&&$e.avail_in!==0)return Z_STREAM_ERROR$1$1;t=$e.state,t.mode===TYPE$2&&(t.mode=TYPEDO$1),ze=$e.next_out,Ve=$e.output,We=$e.avail_out,je=$e.next_in,r=$e.input,Xe=$e.avail_in,qe=t.hold,Ke=t.bits,Ze=Xe,Je=We,hi=Z_OK$1$1;e:for(;;)switch(t.mode){case HEAD$1:if(t.wrap===0){t.mode=TYPEDO$1;break}for(;Ke<16;){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}if(t.wrap&2&&qe===35615){t.wbits===0&&(t.wbits=15),t.check=0,ci[0]=qe&255,ci[1]=qe>>>8&255,t.check=crc32_1$1(t.check,ci,2,0),qe=0,Ke=0,t.mode=FLAGS$1;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((qe&255)<<8)+(qe>>8))%31){$e.msg="incorrect header check",t.mode=BAD$2;break}if((qe&15)!==Z_DEFLATED$3){$e.msg="unknown compression method",t.mode=BAD$2;break}if(qe>>>=4,Ke-=4,ui=(qe&15)+8,t.wbits===0&&(t.wbits=ui),ui>15||ui>t.wbits){$e.msg="invalid window size",t.mode=BAD$2;break}t.dmax=1<<t.wbits,t.flags=0,$e.adler=t.check=1,t.mode=qe&512?DICTID$1:TYPE$2,qe=0,Ke=0;break;case FLAGS$1:for(;Ke<16;){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}if(t.flags=qe,(t.flags&255)!==Z_DEFLATED$3){$e.msg="unknown compression method",t.mode=BAD$2;break}if(t.flags&57344){$e.msg="unknown header flags set",t.mode=BAD$2;break}t.head&&(t.head.text=qe>>8&1),t.flags&512&&t.wrap&4&&(ci[0]=qe&255,ci[1]=qe>>>8&255,t.check=crc32_1$1(t.check,ci,2,0)),qe=0,Ke=0,t.mode=TIME$1;case TIME$1:for(;Ke<32;){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}t.head&&(t.head.time=qe),t.flags&512&&t.wrap&4&&(ci[0]=qe&255,ci[1]=qe>>>8&255,ci[2]=qe>>>16&255,ci[3]=qe>>>24&255,t.check=crc32_1$1(t.check,ci,4,0)),qe=0,Ke=0,t.mode=OS$1;case OS$1:for(;Ke<16;){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}t.head&&(t.head.xflags=qe&255,t.head.os=qe>>8),t.flags&512&&t.wrap&4&&(ci[0]=qe&255,ci[1]=qe>>>8&255,t.check=crc32_1$1(t.check,ci,2,0)),qe=0,Ke=0,t.mode=EXLEN$1;case EXLEN$1:if(t.flags&1024){for(;Ke<16;){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}t.length=qe,t.head&&(t.head.extra_len=qe),t.flags&512&&t.wrap&4&&(ci[0]=qe&255,ci[1]=qe>>>8&255,t.check=crc32_1$1(t.check,ci,2,0)),qe=0,Ke=0}else t.head&&(t.head.extra=null);t.mode=EXTRA$1;case EXTRA$1:if(t.flags&1024&&(Qe=t.length,Qe>Xe&&(Qe=Xe),Qe&&(t.head&&(ui=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(je,je+Qe),ui)),t.flags&512&&t.wrap&4&&(t.check=crc32_1$1(t.check,r,Qe,je)),Xe-=Qe,je+=Qe,t.length-=Qe),t.length))break e;t.length=0,t.mode=NAME$1;case NAME$1:if(t.flags&2048){if(Xe===0)break e;Qe=0;do ui=r[je+Qe++],t.head&&ui&&t.length<65536&&(t.head.name+=String.fromCharCode(ui));while(ui&&Qe<Xe);if(t.flags&512&&t.wrap&4&&(t.check=crc32_1$1(t.check,r,Qe,je)),Xe-=Qe,je+=Qe,ui)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=COMMENT$1;case COMMENT$1:if(t.flags&4096){if(Xe===0)break e;Qe=0;do ui=r[je+Qe++],t.head&&ui&&t.length<65536&&(t.head.comment+=String.fromCharCode(ui));while(ui&&Qe<Xe);if(t.flags&512&&t.wrap&4&&(t.check=crc32_1$1(t.check,r,Qe,je)),Xe-=Qe,je+=Qe,ui)break e}else t.head&&(t.head.comment=null);t.mode=HCRC$1;case HCRC$1:if(t.flags&512){for(;Ke<16;){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}if(t.wrap&4&&qe!==(t.check&65535)){$e.msg="header crc mismatch",t.mode=BAD$2;break}qe=0,Ke=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),$e.adler=t.check=0,t.mode=TYPE$2;break;case DICTID$1:for(;Ke<32;){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}$e.adler=t.check=zswap32$1(qe),qe=0,Ke=0,t.mode=DICT$1;case DICT$1:if(t.havedict===0)return $e.next_out=ze,$e.avail_out=We,$e.next_in=je,$e.avail_in=Xe,t.hold=qe,t.bits=Ke,Z_NEED_DICT$1$1;$e.adler=t.check=1,t.mode=TYPE$2;case TYPE$2:if(e===Z_BLOCK$2||e===Z_TREES$1)break e;case TYPEDO$1:if(t.last){qe>>>=Ke&7,Ke-=Ke&7,t.mode=CHECK$1;break}for(;Ke<3;){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}switch(t.last=qe&1,qe>>>=1,Ke-=1,qe&3){case 0:t.mode=STORED$1;break;case 1:if(fixedtables$1(t),t.mode=LEN_$1,e===Z_TREES$1){qe>>>=2,Ke-=2;break e}break;case 2:t.mode=TABLE$1;break;case 3:$e.msg="invalid block type",t.mode=BAD$2}qe>>>=2,Ke-=2;break;case STORED$1:for(qe>>>=Ke&7,Ke-=Ke&7;Ke<32;){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}if((qe&65535)!==(qe>>>16^65535)){$e.msg="invalid stored block lengths",t.mode=BAD$2;break}if(t.length=qe&65535,qe=0,Ke=0,t.mode=COPY_$1,e===Z_TREES$1)break e;case COPY_$1:t.mode=COPY$1;case COPY$1:if(Qe=t.length,Qe){if(Qe>Xe&&(Qe=Xe),Qe>We&&(Qe=We),Qe===0)break e;Ve.set(r.subarray(je,je+Qe),ze),Xe-=Qe,je+=Qe,We-=Qe,ze+=Qe,t.length-=Qe;break}t.mode=TYPE$2;break;case TABLE$1:for(;Ke<14;){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}if(t.nlen=(qe&31)+257,qe>>>=5,Ke-=5,t.ndist=(qe&31)+1,qe>>>=5,Ke-=5,t.ncode=(qe&15)+4,qe>>>=4,Ke-=4,t.nlen>286||t.ndist>30){$e.msg="too many length or distance symbols",t.mode=BAD$2;break}t.have=0,t.mode=LENLENS$1;case LENLENS$1:for(;t.have<t.ncode;){for(;Ke<3;){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}t.lens[pi[t.have++]]=qe&7,qe>>>=3,Ke-=3}for(;t.have<19;)t.lens[pi[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,mi={bits:t.lenbits},hi=inftrees$1(CODES$2,t.lens,0,19,t.lencode,0,t.work,mi),t.lenbits=mi.bits,hi){$e.msg="invalid code lengths set",t.mode=BAD$2;break}t.have=0,t.mode=CODELENS$1;case CODELENS$1:for(;t.have<t.nlen+t.ndist;){for(;ri=t.lencode[qe&(1<<t.lenbits)-1],ii=ri>>>24,ei=ri>>>16&255,St=ri&65535,!(ii<=Ke);){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}if(St<16)qe>>>=ii,Ke-=ii,t.lens[t.have++]=St;else{if(St===16){for(di=ii+2;Ke<di;){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}if(qe>>>=ii,Ke-=ii,t.have===0){$e.msg="invalid bit length repeat",t.mode=BAD$2;break}ui=t.lens[t.have-1],Qe=3+(qe&3),qe>>>=2,Ke-=2}else if(St===17){for(di=ii+3;Ke<di;){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}qe>>>=ii,Ke-=ii,ui=0,Qe=3+(qe&7),qe>>>=3,Ke-=3}else{for(di=ii+7;Ke<di;){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}qe>>>=ii,Ke-=ii,ui=0,Qe=11+(qe&127),qe>>>=7,Ke-=7}if(t.have+Qe>t.nlen+t.ndist){$e.msg="invalid bit length repeat",t.mode=BAD$2;break}for(;Qe--;)t.lens[t.have++]=ui}}if(t.mode===BAD$2)break;if(t.lens[256]===0){$e.msg="invalid code -- missing end-of-block",t.mode=BAD$2;break}if(t.lenbits=9,mi={bits:t.lenbits},hi=inftrees$1(LENS$2,t.lens,0,t.nlen,t.lencode,0,t.work,mi),t.lenbits=mi.bits,hi){$e.msg="invalid literal/lengths set",t.mode=BAD$2;break}if(t.distbits=6,t.distcode=t.distdyn,mi={bits:t.distbits},hi=inftrees$1(DISTS$2,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,mi),t.distbits=mi.bits,hi){$e.msg="invalid distances set",t.mode=BAD$2;break}if(t.mode=LEN_$1,e===Z_TREES$1)break e;case LEN_$1:t.mode=LEN$1;case LEN$1:if(Xe>=6&&We>=258){$e.next_out=ze,$e.avail_out=We,$e.next_in=je,$e.avail_in=Xe,t.hold=qe,t.bits=Ke,inffast$1($e,Je),ze=$e.next_out,Ve=$e.output,We=$e.avail_out,je=$e.next_in,r=$e.input,Xe=$e.avail_in,qe=t.hold,Ke=t.bits,t.mode===TYPE$2&&(t.back=-1);break}for(t.back=0;ri=t.lencode[qe&(1<<t.lenbits)-1],ii=ri>>>24,ei=ri>>>16&255,St=ri&65535,!(ii<=Ke);){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}if(ei&&!(ei&240)){for(oi=ii,si=ei,ai=St;ri=t.lencode[ai+((qe&(1<<oi+si)-1)>>oi)],ii=ri>>>24,ei=ri>>>16&255,St=ri&65535,!(oi+ii<=Ke);){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}qe>>>=oi,Ke-=oi,t.back+=oi}if(qe>>>=ii,Ke-=ii,t.back+=ii,t.length=St,ei===0){t.mode=LIT$1;break}if(ei&32){t.back=-1,t.mode=TYPE$2;break}if(ei&64){$e.msg="invalid literal/length code",t.mode=BAD$2;break}t.extra=ei&15,t.mode=LENEXT$1;case LENEXT$1:if(t.extra){for(di=t.extra;Ke<di;){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}t.length+=qe&(1<<t.extra)-1,qe>>>=t.extra,Ke-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=DIST$1;case DIST$1:for(;ri=t.distcode[qe&(1<<t.distbits)-1],ii=ri>>>24,ei=ri>>>16&255,St=ri&65535,!(ii<=Ke);){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}if(!(ei&240)){for(oi=ii,si=ei,ai=St;ri=t.distcode[ai+((qe&(1<<oi+si)-1)>>oi)],ii=ri>>>24,ei=ri>>>16&255,St=ri&65535,!(oi+ii<=Ke);){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}qe>>>=oi,Ke-=oi,t.back+=oi}if(qe>>>=ii,Ke-=ii,t.back+=ii,ei&64){$e.msg="invalid distance code",t.mode=BAD$2;break}t.offset=St,t.extra=ei&15,t.mode=DISTEXT$1;case DISTEXT$1:if(t.extra){for(di=t.extra;Ke<di;){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}t.offset+=qe&(1<<t.extra)-1,qe>>>=t.extra,Ke-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){$e.msg="invalid distance too far back",t.mode=BAD$2;break}t.mode=MATCH$1;case MATCH$1:if(We===0)break e;if(Qe=Je-We,t.offset>Qe){if(Qe=t.offset-Qe,Qe>t.whave&&t.sane){$e.msg="invalid distance too far back",t.mode=BAD$2;break}Qe>t.wnext?(Qe-=t.wnext,ti=t.wsize-Qe):ti=t.wnext-Qe,Qe>t.length&&(Qe=t.length),ni=t.window}else ni=Ve,ti=ze-t.offset,Qe=t.length;Qe>We&&(Qe=We),We-=Qe,t.length-=Qe;do Ve[ze++]=ni[ti++];while(--Qe);t.length===0&&(t.mode=LEN$1);break;case LIT$1:if(We===0)break e;Ve[ze++]=t.length,We--,t.mode=LEN$1;break;case CHECK$1:if(t.wrap){for(;Ke<32;){if(Xe===0)break e;Xe--,qe|=r[je++]<<Ke,Ke+=8}if(Je-=We,$e.total_out+=Je,t.total+=Je,t.wrap&4&&Je&&($e.adler=t.check=t.flags?crc32_1$1(t.check,Ve,Je,ze-Je):adler32_1$1(t.check,Ve,Je,ze-Je)),Je=We,t.wrap&4&&(t.flags?qe:zswap32$1(qe))!==t.check){$e.msg="incorrect data check",t.mode=BAD$2;break}qe=0,Ke=0}t.mode=LENGTH$1;case LENGTH$1:if(t.wrap&&t.flags){for(;Ke<32;){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}if(t.wrap&4&&qe!==(t.total&4294967295)){$e.msg="incorrect length check",t.mode=BAD$2;break}qe=0,Ke=0}t.mode=DONE$1;case DONE$1:hi=Z_STREAM_END$1$1;break e;case BAD$2:hi=Z_DATA_ERROR$1$1;break e;case MEM$1:return Z_MEM_ERROR$1$1;case SYNC$1:default:return Z_STREAM_ERROR$1$1}return $e.next_out=ze,$e.avail_out=We,$e.next_in=je,$e.avail_in=Xe,t.hold=qe,t.bits=Ke,(t.wsize||Je!==$e.avail_out&&t.mode<BAD$2&&(t.mode<CHECK$1||e!==Z_FINISH$1$1))&&updatewindow$1($e,$e.output,$e.next_out,Je-$e.avail_out),Ze-=$e.avail_in,Je-=$e.avail_out,$e.total_in+=Ze,$e.total_out+=Je,t.total+=Je,t.wrap&4&&Je&&($e.adler=t.check=t.flags?crc32_1$1(t.check,Ve,Je,$e.next_out-Je):adler32_1$1(t.check,Ve,Je,$e.next_out-Je)),$e.data_type=t.bits+(t.last?64:0)+(t.mode===TYPE$2?128:0)+(t.mode===LEN_$1||t.mode===COPY_$1?256:0),(Ze===0&&Je===0||e===Z_FINISH$1$1)&&hi===Z_OK$1$1&&(hi=Z_BUF_ERROR$2),hi},inflateEnd$1=$e=>{if(inflateStateCheck$1($e))return Z_STREAM_ERROR$1$1;let e=$e.state;return e.window&&(e.window=null),$e.state=null,Z_OK$1$1},inflateGetHeader$1=($e,e)=>{if(inflateStateCheck$1($e))return Z_STREAM_ERROR$1$1;const t=$e.state;return t.wrap&2?(t.head=e,e.done=!1,Z_OK$1$1):Z_STREAM_ERROR$1$1},inflateSetDictionary$1=($e,e)=>{const t=e.length;let r,Ve,je;return inflateStateCheck$1($e)||(r=$e.state,r.wrap!==0&&r.mode!==DICT$1)?Z_STREAM_ERROR$1$1:r.mode===DICT$1&&(Ve=1,Ve=adler32_1$1(Ve,e,t,0),Ve!==r.check)?Z_DATA_ERROR$1$1:(je=updatewindow$1($e,e,t,t),je?(r.mode=MEM$1,Z_MEM_ERROR$1$1):(r.havedict=1,Z_OK$1$1))};var inflateReset_1$1=inflateReset$1,inflateReset2_1$1=inflateReset2$1,inflateResetKeep_1$1=inflateResetKeep$1,inflateInit_1$1=inflateInit$1,inflateInit2_1$1=inflateInit2$1,inflate_2$1$1=inflate$2$1,inflateEnd_1$1=inflateEnd$1,inflateGetHeader_1$1=inflateGetHeader$1,inflateSetDictionary_1$1=inflateSetDictionary$1,inflateInfo$1="pako inflate (from Nodeca project)",inflate_1$2$1={inflateReset:inflateReset_1$1,inflateReset2:inflateReset2_1$1,inflateResetKeep:inflateResetKeep_1$1,inflateInit:inflateInit_1$1,inflateInit2:inflateInit2_1$1,inflate:inflate_2$1$1,inflateEnd:inflateEnd_1$1,inflateGetHeader:inflateGetHeader_1$1,inflateSetDictionary:inflateSetDictionary_1$1,inflateInfo:inflateInfo$1};function GZheader$1(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader$1=GZheader$1;const toString$2$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$3,Z_FINISH:Z_FINISH$4,Z_OK:Z_OK$4,Z_STREAM_END:Z_STREAM_END$4,Z_NEED_DICT:Z_NEED_DICT$2,Z_STREAM_ERROR:Z_STREAM_ERROR$3,Z_DATA_ERROR:Z_DATA_ERROR$3,Z_MEM_ERROR:Z_MEM_ERROR$2}=constants$2$1;function Inflate$1$1($e){this.options=common$1.assign({chunkSize:1024*64,windowBits:15,to:""},$e||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!($e&&$e.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream$1,this.strm.avail_out=0;let t=inflate_1$2$1.inflateInit2(this.strm,e.windowBits);if(t!==Z_OK$4)throw new Error(messages$1[t]);if(this.header=new gzheader$1,inflate_1$2$1.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=strings$1.string2buf(e.dictionary):toString$2$1.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=inflate_1$2$1.inflateSetDictionary(this.strm,e.dictionary),t!==Z_OK$4)))throw new Error(messages$1[t])}Inflate$1$1.prototype.push=function($e,e){const t=this.strm,r=this.options.chunkSize,Ve=this.options.dictionary;let je,ze,Xe;if(this.ended)return!1;for(e===~~e?ze=e:ze=e===!0?Z_FINISH$4:Z_NO_FLUSH$3,toString$2$1.call($e)==="[object ArrayBuffer]"?t.input=new Uint8Array($e):t.input=$e,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),je=inflate_1$2$1.inflate(t,ze),je===Z_NEED_DICT$2&&Ve&&(je=inflate_1$2$1.inflateSetDictionary(t,Ve),je===Z_OK$4?je=inflate_1$2$1.inflate(t,ze):je===Z_DATA_ERROR$3&&(je=Z_NEED_DICT$2));t.avail_in>0&&je===Z_STREAM_END$4&&t.state.wrap>0&&$e[t.next_in]!==0;)inflate_1$2$1.inflateReset(t),je=inflate_1$2$1.inflate(t,ze);switch(je){case Z_STREAM_ERROR$3:case Z_DATA_ERROR$3:case Z_NEED_DICT$2:case Z_MEM_ERROR$2:return this.onEnd(je),this.ended=!0,!1}if(Xe=t.avail_out,t.next_out&&(t.avail_out===0||je===Z_STREAM_END$4))if(this.options.to==="string"){let We=strings$1.utf8border(t.output,t.next_out),qe=t.next_out-We,Ke=strings$1.buf2string(t.output,We);t.next_out=qe,t.avail_out=r-qe,qe&&t.output.set(t.output.subarray(We,We+qe),0),this.onData(Ke)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(je===Z_OK$4&&Xe===0)){if(je===Z_STREAM_END$4)return je=inflate_1$2$1.inflateEnd(this.strm),this.onEnd(je),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Inflate$1$1.prototype.onData=function($e){this.chunks.push($e)};Inflate$1$1.prototype.onEnd=function($e){$e===Z_OK$4&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common$1.flattenChunks(this.chunks)),this.chunks=[],this.err=$e,this.msg=this.strm.msg};function inflate$1$1($e,e){const t=new Inflate$1$1(e);if(t.push($e),t.err)throw t.msg||messages$1[t.err];return t.result}function inflateRaw$1$1($e,e){return e=e||{},e.raw=!0,inflate$1$1($e,e)}var Inflate_1$1$1=Inflate$1$1,inflate_2$2=inflate$1$1,inflateRaw_1$1$1=inflateRaw$1$1,ungzip$1$1=inflate$1$1,constants$5=constants$2$1,inflate_1$1$1={Inflate:Inflate_1$1$1,inflate:inflate_2$2,inflateRaw:inflateRaw_1$1$1,ungzip:ungzip$1$1,constants:constants$5};const{Deflate:Deflate$2,deflate:deflate$3,deflateRaw:deflateRaw$2,gzip:gzip$2}=deflate_1$1$1,{Inflate:Inflate$2,inflate:inflate$3,inflateRaw:inflateRaw$2,ungzip:ungzip$2}=inflate_1$1$1;var deflate_1$3=deflate$3,Inflate_1$2=Inflate$2,inflate_1$3=inflate$3;const pngSignature$1=[137,80,78,71,13,10,26,10],crcTable$2=[];for(let $e=0;$e<256;$e++){let e=$e;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;crcTable$2[$e]=e}const initialCrc$1=4294967295;function updateCrc$1($e,e,t){let r=$e;for(let Ve=0;Ve<t;Ve++)r=crcTable$2[(r^e[Ve])&255]^r>>>8;return r}function crc$1($e,e){return(updateCrc$1(initialCrc$1,$e,e)^initialCrc$1)>>>0}var ColorType$1;(function($e){$e[$e.UNKNOWN=-1]="UNKNOWN",$e[$e.GREYSCALE=0]="GREYSCALE",$e[$e.TRUECOLOUR=2]="TRUECOLOUR",$e[$e.INDEXED_COLOUR=3]="INDEXED_COLOUR",$e[$e.GREYSCALE_ALPHA=4]="GREYSCALE_ALPHA",$e[$e.TRUECOLOUR_ALPHA=6]="TRUECOLOUR_ALPHA"})(ColorType$1||(ColorType$1={}));var CompressionMethod$1;(function($e){$e[$e.UNKNOWN=-1]="UNKNOWN",$e[$e.DEFLATE=0]="DEFLATE"})(CompressionMethod$1||(CompressionMethod$1={}));var FilterMethod$1;(function($e){$e[$e.UNKNOWN=-1]="UNKNOWN",$e[$e.ADAPTIVE=0]="ADAPTIVE"})(FilterMethod$1||(FilterMethod$1={}));var InterlaceMethod$1;(function($e){$e[$e.UNKNOWN=-1]="UNKNOWN",$e[$e.NO_INTERLACE=0]="NO_INTERLACE",$e[$e.ADAM7=1]="ADAM7"})(InterlaceMethod$1||(InterlaceMethod$1={}));const empty$1=new Uint8Array(0),NULL$1="\0",uint16$1=new Uint16Array([255]),uint8$1=new Uint8Array(uint16$1.buffer),osIsLittleEndian$1=uint8$1[0]===255;let PngDecoder$1=class extends IOBuffer$4$1{constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new Inflate_1$2,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=CompressionMethod$1.UNKNOWN,this._filterMethod=FilterMethod$1.UNKNOWN,this._interlaceMethod=InterlaceMethod$1.UNKNOWN,this._colorType=ColorType$1.UNKNOWN,this.setBigEndian()}decode(){for(this.decodeSignature();!this._end;)this.decodeChunk();return this.decodeImage(),this._png}decodeSignature(){for(let e=0;e<pngSignature$1.length;e++)if(this.readUint8()!==pngSignature$1[e])throw new Error(`wrong PNG signature. Byte at ${e} should be ${pngSignature$1[e]}.`)}decodeChunk(){const e=this.readUint32(),t=this.readChars(4),r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case"tEXt":this.decodetEXt(e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);if(this._checkCrc){const Ve=this.readUint32(),je=e+4,ze=crc$1(new Uint8Array(this.buffer,this.byteOffset+this.offset-je-4,je),je);if(ze!==Ve)throw new Error(`CRC mismatch for chunk ${t}. Expected ${Ve}, found ${ze}`)}else this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=checkBitDepth$1(this.readUint8());const t=this.readUint8();this._colorType=t;let r;switch(t){case ColorType$1.GREYSCALE:r=1;break;case ColorType$1.TRUECOLOUR:r=3;break;case ColorType$1.INDEXED_COLOUR:r=1;break;case ColorType$1.GREYSCALE_ALPHA:r=2;break;case ColorType$1.TRUECOLOUR_ALPHA:r=4;break;default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==CompressionMethod$1.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let Ve=0;Ve<t;Ve++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._inflator.push(new Uint8Array(this.buffer,this.offset+this.byteOffset,e)),this.skip(e)}decodetRNS(e){switch(this._colorType){case ColorType$1.GREYSCALE:case ColorType$1.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case ColorType$1.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){let t="",r;for(;(r=this.readChar())!==NULL$1;)t+=r;const Ve=this.readUint8();if(Ve!==CompressionMethod$1.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${Ve}`);const je=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:inflate_1$3(je)}}decodetEXt(e){let t="",r;for(;(r=this.readChar())!==NULL$1;)t+=r;this._png.text[t]=this.readChars(e-t.length-1)}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._inflator.result;if(this._filterMethod!==FilterMethod$1.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===InterlaceMethod$1.NO_INTERLACE)this.decodeInterlaceNull(e);else throw new Error(`Interlace method ${this._interlaceMethod} not supported`)}decodeInterlaceNull(e){const t=this._png.height,r=this._png.channels*this._png.depth/8,Ve=this._png.width*r,je=new Uint8Array(this._png.height*Ve);let ze=empty$1,Xe=0,We,qe;for(let Ke=0;Ke<t;Ke++){switch(We=e.subarray(Xe+1,Xe+1+Ve),qe=je.subarray(Ke*Ve,(Ke+1)*Ve),e[Xe]){case 0:unfilterNone$1(We,qe,Ve);break;case 1:unfilterSub$1(We,qe,Ve,r);break;case 2:unfilterUp$1(We,qe,ze,Ve);break;case 3:unfilterAverage$1(We,qe,ze,Ve,r);break;case 4:unfilterPaeth$1(We,qe,ze,Ve,r);break;default:throw new Error(`Unsupported filter: ${e[Xe]}`)}ze=qe,Xe+=Ve+1}if(this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency),this._png.depth===16){const Ke=new Uint16Array(je.buffer);if(osIsLittleEndian$1)for(let Ze=0;Ze<Ke.length;Ze++)Ke[Ze]=swap16$1(Ke[Ze]);this._png.data=Ke}else this._png.data=je}};function unfilterNone$1($e,e,t){for(let r=0;r<t;r++)e[r]=$e[r]}function unfilterSub$1($e,e,t,r){let Ve=0;for(;Ve<r;Ve++)e[Ve]=$e[Ve];for(;Ve<t;Ve++)e[Ve]=$e[Ve]+e[Ve-r]&255}function unfilterUp$1($e,e,t,r){let Ve=0;if(t.length===0)for(;Ve<r;Ve++)e[Ve]=$e[Ve];else for(;Ve<r;Ve++)e[Ve]=$e[Ve]+t[Ve]&255}function unfilterAverage$1($e,e,t,r,Ve){let je=0;if(t.length===0){for(;je<Ve;je++)e[je]=$e[je];for(;je<r;je++)e[je]=$e[je]+(e[je-Ve]>>1)&255}else{for(;je<Ve;je++)e[je]=$e[je]+(t[je]>>1)&255;for(;je<r;je++)e[je]=$e[je]+(e[je-Ve]+t[je]>>1)&255}}function unfilterPaeth$1($e,e,t,r,Ve){let je=0;if(t.length===0){for(;je<Ve;je++)e[je]=$e[je];for(;je<r;je++)e[je]=$e[je]+e[je-Ve]&255}else{for(;je<Ve;je++)e[je]=$e[je]+t[je]&255;for(;je<r;je++)e[je]=$e[je]+paethPredictor$1(e[je-Ve],t[je],t[je-Ve])&255}}function paethPredictor$1($e,e,t){const r=$e+e-t,Ve=Math.abs(r-$e),je=Math.abs(r-e),ze=Math.abs(r-t);return Ve<=je&&Ve<=ze?$e:je<=ze?e:t}function swap16$1($e){return($e&255)<<8|$e>>8&255}function checkBitDepth$1($e){if($e!==1&&$e!==2&&$e!==4&&$e!==8&&$e!==16)throw new Error(`invalid bit depth: ${$e}`);return $e}const defaultZlibOptions$1={level:3};let PngEncoder$1=class extends IOBuffer$4$1{constructor(e,t={}){super(),this._colorType=ColorType$1.UNKNOWN,this._zlibOptions={...defaultZlibOptions$1,...t.zlib},this._png=this._checkData(e),this.setBigEndian()}encode(){return this.encodeSignature(),this.encodeIHDR(),this.encodeData(),this.encodeIEND(),this.toArray()}encodeSignature(){this.writeBytes(pngSignature$1)}encodeIHDR(){this.writeUint32(13),this.writeChars("IHDR"),this.writeUint32(this._png.width),this.writeUint32(this._png.height),this.writeByte(this._png.depth),this.writeByte(this._colorType),this.writeByte(CompressionMethod$1.DEFLATE),this.writeByte(FilterMethod$1.ADAPTIVE),this.writeByte(InterlaceMethod$1.NO_INTERLACE),this.writeCrc(17)}encodeIEND(){this.writeUint32(0),this.writeChars("IEND"),this.writeCrc(4)}encodeIDAT(e){this.writeUint32(e.length),this.writeChars("IDAT"),this.writeBytes(e),this.writeCrc(e.length+4)}encodeData(){const{width:e,height:t,channels:r,depth:Ve,data:je}=this._png,ze=r*e,Xe=new IOBuffer$4$1().setBigEndian();let We=0;for(let Ze=0;Ze<t;Ze++)if(Xe.writeByte(0),Ve===8)We=writeDataBytes$1(je,Xe,ze,We);else if(Ve===16)We=writeDataUint16$1(je,Xe,ze,We);else throw new Error("unreachable");const qe=Xe.toArray(),Ke=deflate_1$3(qe,this._zlibOptions);this.encodeIDAT(Ke)}_checkData(e){const{colorType:t,channels:r,depth:Ve}=getColorType$1(e),je={width:checkInteger$1(e.width,"width"),height:checkInteger$1(e.height,"height"),channels:r,data:e.data,depth:Ve,text:{}};this._colorType=t;const ze=je.width*je.height*r;if(je.data.length!==ze)throw new RangeError(`wrong data size. Found ${je.data.length}, expected ${ze}`);return je}writeCrc(e){this.writeUint32(crc$1(new Uint8Array(this.buffer,this.byteOffset+this.offset-e,e),e))}};function checkInteger$1($e,e){if(Number.isInteger($e)&&$e>0)return $e;throw new TypeError(`${e} must be a positive integer`)}function getColorType$1($e){const{channels:e=4,depth:t=8}=$e;if(e!==4&&e!==3&&e!==2&&e!==1)throw new RangeError(`unsupported number of channels: ${e}`);if(t!==8&&t!==16)throw new RangeError(`unsupported bit depth: ${t}`);const r={channels:e,depth:t,colorType:ColorType$1.UNKNOWN};switch(e){case 4:r.colorType=ColorType$1.TRUECOLOUR_ALPHA;break;case 3:r.colorType=ColorType$1.TRUECOLOUR;break;case 1:r.colorType=ColorType$1.GREYSCALE;break;case 2:r.colorType=ColorType$1.GREYSCALE_ALPHA;break;default:throw new Error("unsupported number of channels")}return r}function writeDataBytes$1($e,e,t,r){for(let Ve=0;Ve<t;Ve++)e.writeByte($e[r++]);return r}function writeDataUint16$1($e,e,t,r){for(let Ve=0;Ve<t;Ve++)e.writeUint16($e[r++]);return r}var ResolutionUnitSpecifier$1;(function($e){$e[$e.UNKNOWN=0]="UNKNOWN",$e[$e.METRE=1]="METRE"})(ResolutionUnitSpecifier$1||(ResolutionUnitSpecifier$1={}));function decodePng$1($e,e){return new PngDecoder$1($e,e).decode()}function encodePng$1$1($e,e){return new PngEncoder$1($e,e).encode()}var encoder$2={exports:{}};(function($e){function e(r){var Ve=Math.floor,je=new Array(64),ze=new Array(64),Xe=new Array(64),We=new Array(64),qe,Ke,Ze,Je,Qe=new Array(65535),ti=new Array(65535),ni=new Array(64),ri=new Array(64),ii=[],ei=0,St=7,oi=new Array(64),si=new Array(64),ai=new Array(64),ui=new Array(256),hi=new Array(2048),ci,mi=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],di=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],pi=[0,1,2,3,4,5,6,7,8,9,10,11],yi=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],gi=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],_i=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Ai=[0,1,2,3,4,5,6,7,8,9,10,11],ki=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],vi=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Mi(Ui){for(var Ji=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],gn=0;gn<64;gn++){var hn=Ve((Ji[gn]*Ui+50)/100);hn<1?hn=1:hn>255&&(hn=255),je[mi[gn]]=hn}for(var un=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Mn=0;Mn<64;Mn++){var sn=Ve((un[Mn]*Ui+50)/100);sn<1?sn=1:sn>255&&(sn=255),ze[mi[Mn]]=sn}for(var vn=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ni=0,Cn=0;Cn<8;Cn++)for(var cn=0;cn<8;cn++)Xe[Ni]=1/(je[mi[Ni]]*vn[Cn]*vn[cn]*8),We[Ni]=1/(ze[mi[Ni]]*vn[Cn]*vn[cn]*8),Ni++}function Di(Ui,Ji){for(var gn=0,hn=0,un=new Array,Mn=1;Mn<=16;Mn++){for(var sn=1;sn<=Ui[Mn];sn++)un[Ji[hn]]=[],un[Ji[hn]][0]=gn,un[Ji[hn]][1]=Mn,hn++,gn++;gn*=2}return un}function Bi(){qe=Di(di,pi),Ke=Di(_i,Ai),Ze=Di(yi,gi),Je=Di(ki,vi)}function Pi(){for(var Ui=1,Ji=2,gn=1;gn<=15;gn++){for(var hn=Ui;hn<Ji;hn++)ti[32767+hn]=gn,Qe[32767+hn]=[],Qe[32767+hn][1]=gn,Qe[32767+hn][0]=hn;for(var un=-(Ji-1);un<=-Ui;un++)ti[32767+un]=gn,Qe[32767+un]=[],Qe[32767+un][1]=gn,Qe[32767+un][0]=Ji-1+un;Ui<<=1,Ji<<=1}}function Fi(){for(var Ui=0;Ui<256;Ui++)hi[Ui]=19595*Ui,hi[Ui+256>>0]=38470*Ui,hi[Ui+512>>0]=7471*Ui+32768,hi[Ui+768>>0]=-11059*Ui,hi[Ui+1024>>0]=-21709*Ui,hi[Ui+1280>>0]=32768*Ui+8421375,hi[Ui+1536>>0]=-27439*Ui,hi[Ui+1792>>0]=-5329*Ui}function Vi(Ui){for(var Ji=Ui[0],gn=Ui[1]-1;gn>=0;)Ji&1<<gn&&(ei|=1<<St),gn--,St--,St<0&&(ei==255?(Ti(255),Ti(0)):Ti(ei),St=7,ei=0)}function Ti(Ui){ii.push(Ui)}function ji(Ui){Ti(Ui>>8&255),Ti(Ui&255)}function Gi(Ui,Ji){var gn,hn,un,Mn,sn,vn,Ni,Cn,cn=0,fn,qi=8,an=64;for(fn=0;fn<qi;++fn){gn=Ui[cn],hn=Ui[cn+1],un=Ui[cn+2],Mn=Ui[cn+3],sn=Ui[cn+4],vn=Ui[cn+5],Ni=Ui[cn+6],Cn=Ui[cn+7];var yn=gn+Cn,bn=gn-Cn,Sn=hn+Ni,Fn=hn-Ni,kn=un+vn,Nn=un-vn,Hn=Mn+sn,Yn=Mn-sn,tr=yn+Hn,qn=yn-Hn,Jn=Sn+kn,Qn=Sn-kn;Ui[cn]=tr+Jn,Ui[cn+4]=tr-Jn;var ar=(Qn+qn)*.707106781;Ui[cn+2]=qn+ar,Ui[cn+6]=qn-ar,tr=Yn+Nn,Jn=Nn+Fn,Qn=Fn+bn;var mn=(tr-Qn)*.382683433,Ii=.5411961*tr+mn,Wi=1.306562965*Qn+mn,nn=Jn*.707106781,xn=bn+nn,On=bn-nn;Ui[cn+5]=On+Ii,Ui[cn+3]=On-Ii,Ui[cn+1]=xn+Wi,Ui[cn+7]=xn-Wi,cn+=8}for(cn=0,fn=0;fn<qi;++fn){gn=Ui[cn],hn=Ui[cn+8],un=Ui[cn+16],Mn=Ui[cn+24],sn=Ui[cn+32],vn=Ui[cn+40],Ni=Ui[cn+48],Cn=Ui[cn+56];var Ln=gn+Cn,nr=gn-Cn,Kn=hn+Ni,ir=hn-Ni,pr=un+vn,Ur=un-vn,ur=Mn+sn,_r=Mn-sn,lr=Ln+ur,yr=Ln-ur,cr=Kn+pr,br=Kn-pr;Ui[cn]=lr+cr,Ui[cn+32]=lr-cr;var Er=(br+yr)*.707106781;Ui[cn+16]=yr+Er,Ui[cn+48]=yr-Er,lr=_r+Ur,cr=Ur+ir,br=ir+nr;var $r=(lr-br)*.382683433,Gr=.5411961*lr+$r,ao=1.306562965*br+$r,lo=cr*.707106781,uo=nr+lo,ko=nr-lo;Ui[cn+40]=ko+Gr,Ui[cn+24]=ko-Gr,Ui[cn+8]=uo+ao,Ui[cn+56]=uo-ao,cn++}var no;for(fn=0;fn<an;++fn)no=Ui[fn]*Ji[fn],ni[fn]=no>0?no+.5|0:no-.5|0;return ni}function Yi(){ji(65504),ji(16),Ti(74),Ti(70),Ti(73),Ti(70),Ti(0),Ti(1),Ti(1),Ti(0),ji(1),ji(1),Ti(0),Ti(0)}function Xi(Ui){if(Ui){ji(65505),Ui[0]===69&&Ui[1]===120&&Ui[2]===105&&Ui[3]===102?ji(Ui.length+2):(ji(Ui.length+5+2),Ti(69),Ti(120),Ti(105),Ti(102),Ti(0));for(var Ji=0;Ji<Ui.length;Ji++)Ti(Ui[Ji])}}function xi(Ui,Ji){ji(65472),ji(17),Ti(8),ji(Ji),ji(Ui),Ti(3),Ti(1),Ti(17),Ti(0),Ti(2),Ti(17),Ti(1),Ti(3),Ti(17),Ti(1)}function fi(){ji(65499),ji(132),Ti(0);for(var Ui=0;Ui<64;Ui++)Ti(je[Ui]);Ti(1);for(var Ji=0;Ji<64;Ji++)Ti(ze[Ji])}function $i(){ji(65476),ji(418),Ti(0);for(var Ui=0;Ui<16;Ui++)Ti(di[Ui+1]);for(var Ji=0;Ji<=11;Ji++)Ti(pi[Ji]);Ti(16);for(var gn=0;gn<16;gn++)Ti(yi[gn+1]);for(var hn=0;hn<=161;hn++)Ti(gi[hn]);Ti(1);for(var un=0;un<16;un++)Ti(_i[un+1]);for(var Mn=0;Mn<=11;Mn++)Ti(Ai[Mn]);Ti(17);for(var sn=0;sn<16;sn++)Ti(ki[sn+1]);for(var vn=0;vn<=161;vn++)Ti(vi[vn])}function bi(Ui){typeof Ui>"u"||Ui.constructor!==Array||Ui.forEach(Ji=>{if(typeof Ji=="string"){ji(65534);var gn=Ji.length;ji(gn+2);var hn;for(hn=0;hn<gn;hn++)Ti(Ji.charCodeAt(hn))}})}function Ci(){ji(65498),ji(12),Ti(3),Ti(1),Ti(0),Ti(2),Ti(17),Ti(3),Ti(17),Ti(0),Ti(63),Ti(0)}function Ei(Ui,Ji,gn,hn,un){for(var Mn=un[0],sn=un[240],vn,Ni=16,Cn=63,cn=64,fn=Gi(Ui,Ji),qi=0;qi<cn;++qi)ri[mi[qi]]=fn[qi];var an=ri[0]-gn;gn=ri[0],an==0?Vi(hn[0]):(vn=32767+an,Vi(hn[ti[vn]]),Vi(Qe[vn]));for(var yn=63;yn>0&&ri[yn]==0;yn--);if(yn==0)return Vi(Mn),gn;for(var bn=1,Sn;bn<=yn;){for(var Fn=bn;ri[bn]==0&&bn<=yn;++bn);var kn=bn-Fn;if(kn>=Ni){Sn=kn>>4;for(var Nn=1;Nn<=Sn;++Nn)Vi(sn);kn=kn&15}vn=32767+ri[bn],Vi(un[(kn<<4)+ti[vn]]),Vi(Qe[vn]),bn++}return yn!=Cn&&Vi(Mn),gn}function Si(){for(var Ui=String.fromCharCode,Ji=0;Ji<256;Ji++)ui[Ji]=Ui(Ji)}this.encode=function(Ui,Ji){new Date().getTime(),Ji&&zi(Ji),ii=new Array,ei=0,St=7,ji(65496),Yi(),bi(Ui.comments),Xi(Ui.exifBuffer),fi(),xi(Ui.width,Ui.height),$i(),Ci();var gn=0,hn=0,un=0;ei=0,St=7,this.encode.displayName="_encode_";for(var Mn=Ui.data,sn=Ui.width,vn=Ui.height,Ni=sn*4,Cn,cn=0,fn,qi,an,yn,bn,Sn,Fn,kn;cn<vn;){for(Cn=0;Cn<Ni;){for(yn=Ni*cn+Cn,bn=yn,Sn=-1,Fn=0,kn=0;kn<64;kn++)Fn=kn>>3,Sn=(kn&7)*4,bn=yn+Fn*Ni+Sn,cn+Fn>=vn&&(bn-=Ni*(cn+1+Fn-vn)),Cn+Sn>=Ni&&(bn-=Cn+Sn-Ni+4),fn=Mn[bn++],qi=Mn[bn++],an=Mn[bn++],oi[kn]=(hi[fn]+hi[qi+256>>0]+hi[an+512>>0]>>16)-128,si[kn]=(hi[fn+768>>0]+hi[qi+1024>>0]+hi[an+1280>>0]>>16)-128,ai[kn]=(hi[fn+1280>>0]+hi[qi+1536>>0]+hi[an+1792>>0]>>16)-128;gn=Ei(oi,Xe,gn,qe,Ze),hn=Ei(si,We,hn,Ke,Je),un=Ei(ai,We,un,Ke,Je),Cn+=32}cn+=8}if(St>=0){var Nn=[];Nn[1]=St+1,Nn[0]=(1<<St+1)-1,Vi(Nn)}return ji(65497),Buffer.from(ii)};function zi(Ui){if(Ui<=0&&(Ui=1),Ui>100&&(Ui=100),ci!=Ui){var Ji=0;Ui<50?Ji=Math.floor(5e3/Ui):Ji=Math.floor(200-Ui*2),Mi(Ji),ci=Ui}}function Ki(){var Ui=new Date().getTime();r||(r=50),Si(),Bi(),Pi(),Fi(),zi(r),new Date().getTime()-Ui}Ki()}$e.exports=t;function t(r,Ve){typeof Ve>"u"&&(Ve=50);var je=new e(Ve),ze=je.encode(r,Ve);return{data:ze,width:r.width,height:r.height}}})(encoder$2);var encoderExports$1=encoder$2.exports,decoder$1={exports:{}};(function($e){var e=function(){var r=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),Ve=4017,je=799,ze=3406,Xe=2276,We=1567,qe=3784,Ke=5793,Ze=2896;function Je(){}function Qe(oi,si){for(var ai=0,ui=[],hi,ci,mi=16;mi>0&&!oi[mi-1];)mi--;ui.push({children:[],index:0});var di=ui[0],pi;for(hi=0;hi<mi;hi++){for(ci=0;ci<oi[hi];ci++){for(di=ui.pop(),di.children[di.index]=si[ai];di.index>0;){if(ui.length===0)throw new Error("Could not recreate Huffman Table");di=ui.pop()}for(di.index++,ui.push(di);ui.length<=hi;)ui.push(pi={children:[],index:0}),di.children[di.index]=pi.children,di=pi;ai++}hi+1<mi&&(ui.push(pi={children:[],index:0}),di.children[di.index]=pi.children,di=pi)}return ui[0].children}function ti(oi,si,ai,ui,hi,ci,mi,di,pi,yi){ai.precision,ai.samplesPerLine,ai.scanLines;var gi=ai.mcusPerLine,_i=ai.progressive;ai.maxH,ai.maxV;var Ai=si,ki=0,vi=0;function Mi(){if(vi>0)return vi--,ki>>vi&1;if(ki=oi[si++],ki==255){var sn=oi[si++];if(sn)throw new Error("unexpected marker: "+(ki<<8|sn).toString(16))}return vi=7,ki>>>7}function Di(sn){for(var vn=sn,Ni;(Ni=Mi())!==null;){if(vn=vn[Ni],typeof vn=="number")return vn;if(typeof vn!="object")throw new Error("invalid huffman sequence")}return null}function Bi(sn){for(var vn=0;sn>0;){var Ni=Mi();if(Ni===null)return;vn=vn<<1|Ni,sn--}return vn}function Pi(sn){var vn=Bi(sn);return vn>=1<<sn-1?vn:vn+(-1<<sn)+1}function Fi(sn,vn){var Ni=Di(sn.huffmanTableDC),Cn=Ni===0?0:Pi(Ni);vn[0]=sn.pred+=Cn;for(var cn=1;cn<64;){var fn=Di(sn.huffmanTableAC),qi=fn&15,an=fn>>4;if(qi===0){if(an<15)break;cn+=16;continue}cn+=an;var yn=r[cn];vn[yn]=Pi(qi),cn++}}function Vi(sn,vn){var Ni=Di(sn.huffmanTableDC),Cn=Ni===0?0:Pi(Ni)<<pi;vn[0]=sn.pred+=Cn}function Ti(sn,vn){vn[0]|=Mi()<<pi}var ji=0;function Gi(sn,vn){if(ji>0){ji--;return}for(var Ni=ci,Cn=mi;Ni<=Cn;){var cn=Di(sn.huffmanTableAC),fn=cn&15,qi=cn>>4;if(fn===0){if(qi<15){ji=Bi(qi)+(1<<qi)-1;break}Ni+=16;continue}Ni+=qi;var an=r[Ni];vn[an]=Pi(fn)*(1<<pi),Ni++}}var Yi=0,Xi;function xi(sn,vn){for(var Ni=ci,Cn=mi,cn=0;Ni<=Cn;){var fn=r[Ni],qi=vn[fn]<0?-1:1;switch(Yi){case 0:var an=Di(sn.huffmanTableAC),yn=an&15,cn=an>>4;if(yn===0)cn<15?(ji=Bi(cn)+(1<<cn),Yi=4):(cn=16,Yi=1);else{if(yn!==1)throw new Error("invalid ACn encoding");Xi=Pi(yn),Yi=cn?2:3}continue;case 1:case 2:vn[fn]?vn[fn]+=(Mi()<<pi)*qi:(cn--,cn===0&&(Yi=Yi==2?3:0));break;case 3:vn[fn]?vn[fn]+=(Mi()<<pi)*qi:(vn[fn]=Xi<<pi,Yi=0);break;case 4:vn[fn]&&(vn[fn]+=(Mi()<<pi)*qi);break}Ni++}Yi===4&&(ji--,ji===0&&(Yi=0))}function fi(sn,vn,Ni,Cn,cn){var fn=Ni/gi|0,qi=Ni%gi,an=fn*sn.v+Cn,yn=qi*sn.h+cn;sn.blocks[an]===void 0&&yi.tolerantDecoding||vn(sn,sn.blocks[an][yn])}function $i(sn,vn,Ni){var Cn=Ni/sn.blocksPerLine|0,cn=Ni%sn.blocksPerLine;sn.blocks[Cn]===void 0&&yi.tolerantDecoding||vn(sn,sn.blocks[Cn][cn])}var bi=ui.length,Ci,Ei,Si,zi,Ki,Ui;_i?ci===0?Ui=di===0?Vi:Ti:Ui=di===0?Gi:xi:Ui=Fi;var Ji=0,gn,hn;bi==1?hn=ui[0].blocksPerLine*ui[0].blocksPerColumn:hn=gi*ai.mcusPerColumn,hi||(hi=hn);for(var un,Mn;Ji<hn;){for(Ei=0;Ei<bi;Ei++)ui[Ei].pred=0;if(ji=0,bi==1)for(Ci=ui[0],Ki=0;Ki<hi;Ki++)$i(Ci,Ui,Ji),Ji++;else for(Ki=0;Ki<hi;Ki++){for(Ei=0;Ei<bi;Ei++)for(Ci=ui[Ei],un=Ci.h,Mn=Ci.v,Si=0;Si<Mn;Si++)for(zi=0;zi<un;zi++)fi(Ci,Ui,Ji,Si,zi);if(Ji++,Ji===hn)break}if(Ji===hn)do{if(oi[si]===255&&oi[si+1]!==0)break;si+=1}while(si<oi.length-2);if(vi=0,gn=oi[si]<<8|oi[si+1],gn<65280)throw new Error("marker was not found");if(gn>=65488&&gn<=65495)si+=2;else break}return si-Ai}function ni(oi,si){var ai=[],ui=si.blocksPerLine,hi=si.blocksPerColumn,ci=ui<<3,mi=new Int32Array(64),di=new Uint8Array(64);function pi(Bi,Pi,Fi){var Vi=si.quantizationTable,Ti,ji,Gi,Yi,Xi,xi,fi,$i,bi,Ci=Fi,Ei;for(Ei=0;Ei<64;Ei++)Ci[Ei]=Bi[Ei]*Vi[Ei];for(Ei=0;Ei<8;++Ei){var Si=8*Ei;if(Ci[1+Si]==0&&Ci[2+Si]==0&&Ci[3+Si]==0&&Ci[4+Si]==0&&Ci[5+Si]==0&&Ci[6+Si]==0&&Ci[7+Si]==0){bi=Ke*Ci[0+Si]+512>>10,Ci[0+Si]=bi,Ci[1+Si]=bi,Ci[2+Si]=bi,Ci[3+Si]=bi,Ci[4+Si]=bi,Ci[5+Si]=bi,Ci[6+Si]=bi,Ci[7+Si]=bi;continue}Ti=Ke*Ci[0+Si]+128>>8,ji=Ke*Ci[4+Si]+128>>8,Gi=Ci[2+Si],Yi=Ci[6+Si],Xi=Ze*(Ci[1+Si]-Ci[7+Si])+128>>8,$i=Ze*(Ci[1+Si]+Ci[7+Si])+128>>8,xi=Ci[3+Si]<<4,fi=Ci[5+Si]<<4,bi=Ti-ji+1>>1,Ti=Ti+ji+1>>1,ji=bi,bi=Gi*qe+Yi*We+128>>8,Gi=Gi*We-Yi*qe+128>>8,Yi=bi,bi=Xi-fi+1>>1,Xi=Xi+fi+1>>1,fi=bi,bi=$i+xi+1>>1,xi=$i-xi+1>>1,$i=bi,bi=Ti-Yi+1>>1,Ti=Ti+Yi+1>>1,Yi=bi,bi=ji-Gi+1>>1,ji=ji+Gi+1>>1,Gi=bi,bi=Xi*Xe+$i*ze+2048>>12,Xi=Xi*ze-$i*Xe+2048>>12,$i=bi,bi=xi*je+fi*Ve+2048>>12,xi=xi*Ve-fi*je+2048>>12,fi=bi,Ci[0+Si]=Ti+$i,Ci[7+Si]=Ti-$i,Ci[1+Si]=ji+fi,Ci[6+Si]=ji-fi,Ci[2+Si]=Gi+xi,Ci[5+Si]=Gi-xi,Ci[3+Si]=Yi+Xi,Ci[4+Si]=Yi-Xi}for(Ei=0;Ei<8;++Ei){var zi=Ei;if(Ci[8+zi]==0&&Ci[16+zi]==0&&Ci[24+zi]==0&&Ci[32+zi]==0&&Ci[40+zi]==0&&Ci[48+zi]==0&&Ci[56+zi]==0){bi=Ke*Fi[Ei+0]+8192>>14,Ci[0+zi]=bi,Ci[8+zi]=bi,Ci[16+zi]=bi,Ci[24+zi]=bi,Ci[32+zi]=bi,Ci[40+zi]=bi,Ci[48+zi]=bi,Ci[56+zi]=bi;continue}Ti=Ke*Ci[0+zi]+2048>>12,ji=Ke*Ci[32+zi]+2048>>12,Gi=Ci[16+zi],Yi=Ci[48+zi],Xi=Ze*(Ci[8+zi]-Ci[56+zi])+2048>>12,$i=Ze*(Ci[8+zi]+Ci[56+zi])+2048>>12,xi=Ci[24+zi],fi=Ci[40+zi],bi=Ti-ji+1>>1,Ti=Ti+ji+1>>1,ji=bi,bi=Gi*qe+Yi*We+2048>>12,Gi=Gi*We-Yi*qe+2048>>12,Yi=bi,bi=Xi-fi+1>>1,Xi=Xi+fi+1>>1,fi=bi,bi=$i+xi+1>>1,xi=$i-xi+1>>1,$i=bi,bi=Ti-Yi+1>>1,Ti=Ti+Yi+1>>1,Yi=bi,bi=ji-Gi+1>>1,ji=ji+Gi+1>>1,Gi=bi,bi=Xi*Xe+$i*ze+2048>>12,Xi=Xi*ze-$i*Xe+2048>>12,$i=bi,bi=xi*je+fi*Ve+2048>>12,xi=xi*Ve-fi*je+2048>>12,fi=bi,Ci[0+zi]=Ti+$i,Ci[56+zi]=Ti-$i,Ci[8+zi]=ji+fi,Ci[48+zi]=ji-fi,Ci[16+zi]=Gi+xi,Ci[40+zi]=Gi-xi,Ci[24+zi]=Yi+Xi,Ci[32+zi]=Yi-Xi}for(Ei=0;Ei<64;++Ei){var Ki=128+(Ci[Ei]+8>>4);Pi[Ei]=Ki<0?0:Ki>255?255:Ki}}St(ci*hi*8);for(var yi,gi,_i=0;_i<hi;_i++){var Ai=_i<<3;for(yi=0;yi<8;yi++)ai.push(new Uint8Array(ci));for(var ki=0;ki<ui;ki++){pi(si.blocks[_i][ki],di,mi);var vi=0,Mi=ki<<3;for(gi=0;gi<8;gi++){var Di=ai[Ai+gi];for(yi=0;yi<8;yi++)Di[Mi+yi]=di[vi++]}}}return ai}function ri(oi){return oi<0?0:oi>255?255:oi}Je.prototype={load:function(oi){var si=new XMLHttpRequest;si.open("GET",oi,!0),si.responseType="arraybuffer",si.onload=(function(){var ai=new Uint8Array(si.response||si.mozResponseArrayBuffer);this.parse(ai),this.onload&&this.onload()}).bind(this),si.send(null)},parse:function(oi){var si=this.opts.maxResolutionInMP*1e3*1e3,ai=0;oi.length;function ui(){var fn=oi[ai]<<8|oi[ai+1];return ai+=2,fn}function hi(){var fn=ui(),qi=oi.subarray(ai,ai+fn-2);return ai+=qi.length,qi}function ci(fn){var qi=1,an=1,yn,bn;for(bn in fn.components)fn.components.hasOwnProperty(bn)&&(yn=fn.components[bn],qi<yn.h&&(qi=yn.h),an<yn.v&&(an=yn.v));var Sn=Math.ceil(fn.samplesPerLine/8/qi),Fn=Math.ceil(fn.scanLines/8/an);for(bn in fn.components)if(fn.components.hasOwnProperty(bn)){yn=fn.components[bn];var kn=Math.ceil(Math.ceil(fn.samplesPerLine/8)*yn.h/qi),Nn=Math.ceil(Math.ceil(fn.scanLines/8)*yn.v/an),Hn=Sn*yn.h,Yn=Fn*yn.v,tr=Yn*Hn,qn=[];St(tr*256);for(var Jn=0;Jn<Yn;Jn++){for(var Qn=[],ar=0;ar<Hn;ar++)Qn.push(new Int32Array(64));qn.push(Qn)}yn.blocksPerLine=kn,yn.blocksPerColumn=Nn,yn.blocks=qn}fn.maxH=qi,fn.maxV=an,fn.mcusPerLine=Sn,fn.mcusPerColumn=Fn}var mi=null,di=null,pi,yi,gi=[],_i=[],Ai=[],ki=[],vi=ui(),Mi=-1;if(this.comments=[],vi!=65496)throw new Error("SOI not found");for(vi=ui();vi!=65497;){var Di,Bi;switch(vi){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var Pi=hi();if(vi===65534){var Fi=String.fromCharCode.apply(null,Pi);this.comments.push(Fi)}vi===65504&&Pi[0]===74&&Pi[1]===70&&Pi[2]===73&&Pi[3]===70&&Pi[4]===0&&(mi={version:{major:Pi[5],minor:Pi[6]},densityUnits:Pi[7],xDensity:Pi[8]<<8|Pi[9],yDensity:Pi[10]<<8|Pi[11],thumbWidth:Pi[12],thumbHeight:Pi[13],thumbData:Pi.subarray(14,14+3*Pi[12]*Pi[13])}),vi===65505&&Pi[0]===69&&Pi[1]===120&&Pi[2]===105&&Pi[3]===102&&Pi[4]===0&&(this.exifBuffer=Pi.subarray(5,Pi.length)),vi===65518&&Pi[0]===65&&Pi[1]===100&&Pi[2]===111&&Pi[3]===98&&Pi[4]===101&&Pi[5]===0&&(di={version:Pi[6],flags0:Pi[7]<<8|Pi[8],flags1:Pi[9]<<8|Pi[10],transformCode:Pi[11]});break;case 65499:for(var Vi=ui(),Ti=Vi+ai-2;ai<Ti;){var ji=oi[ai++];St(256);var Gi=new Int32Array(64);if(ji>>4)if(ji>>4===1)for(Bi=0;Bi<64;Bi++){var Yi=r[Bi];Gi[Yi]=ui()}else throw new Error("DQT: invalid table spec");else for(Bi=0;Bi<64;Bi++){var Yi=r[Bi];Gi[Yi]=oi[ai++]}gi[ji&15]=Gi}break;case 65472:case 65473:case 65474:ui(),pi={},pi.extended=vi===65473,pi.progressive=vi===65474,pi.precision=oi[ai++],pi.scanLines=ui(),pi.samplesPerLine=ui(),pi.components={},pi.componentsOrder=[];var Xi=pi.scanLines*pi.samplesPerLine;if(Xi>si){var xi=Math.ceil((Xi-si)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${xi}MP`)}var fi=oi[ai++],$i;for(Di=0;Di<fi;Di++){$i=oi[ai];var bi=oi[ai+1]>>4,Ci=oi[ai+1]&15,Ei=oi[ai+2];if(bi<=0||Ci<=0)throw new Error("Invalid sampling factor, expected values above 0");pi.componentsOrder.push($i),pi.components[$i]={h:bi,v:Ci,quantizationIdx:Ei},ai+=3}ci(pi),_i.push(pi);break;case 65476:var Si=ui();for(Di=2;Di<Si;){var zi=oi[ai++],Ki=new Uint8Array(16),Ui=0;for(Bi=0;Bi<16;Bi++,ai++)Ui+=Ki[Bi]=oi[ai];St(16+Ui);var Ji=new Uint8Array(Ui);for(Bi=0;Bi<Ui;Bi++,ai++)Ji[Bi]=oi[ai];Di+=17+Ui,(zi>>4?Ai:ki)[zi&15]=Qe(Ki,Ji)}break;case 65501:ui(),yi=ui();break;case 65500:ui(),ui();break;case 65498:ui();var gn=oi[ai++],hn=[],un;for(Di=0;Di<gn;Di++){un=pi.components[oi[ai++]];var Mn=oi[ai++];un.huffmanTableDC=ki[Mn>>4],un.huffmanTableAC=Ai[Mn&15],hn.push(un)}var sn=oi[ai++],vn=oi[ai++],Ni=oi[ai++],Cn=ti(oi,ai,pi,hn,yi,sn,vn,Ni>>4,Ni&15,this.opts);ai+=Cn;break;case 65535:oi[ai]!==255&&ai--;break;default:if(oi[ai-3]==255&&oi[ai-2]>=192&&oi[ai-2]<=254){ai-=3;break}else if(vi===224||vi==225){if(Mi!==-1)throw new Error(`first unknown JPEG marker at offset ${Mi.toString(16)}, second unknown JPEG marker ${vi.toString(16)} at offset ${(ai-1).toString(16)}`);Mi=ai-1;const fn=ui();if(oi[ai+fn-2]===255){ai+=fn-2;break}}throw new Error("unknown JPEG marker "+vi.toString(16))}vi=ui()}if(_i.length!=1)throw new Error("only single frame JPEGs supported");for(var Di=0;Di<_i.length;Di++){var cn=_i[Di].components;for(var Bi in cn)cn[Bi].quantizationTable=gi[cn[Bi].quantizationIdx],delete cn[Bi].quantizationIdx}this.width=pi.samplesPerLine,this.height=pi.scanLines,this.jfif=mi,this.adobe=di,this.components=[];for(var Di=0;Di<pi.componentsOrder.length;Di++){var un=pi.components[pi.componentsOrder[Di]];this.components.push({lines:ni(pi,un),scaleX:un.h/pi.maxH,scaleY:un.v/pi.maxV})}},getData:function(oi,si){var ai=this.width/oi,ui=this.height/si,hi,ci,mi,di,pi,yi,gi,_i,Ai,ki,vi=0,Mi,Di,Bi,Pi,Fi,Vi,Ti,ji,Gi,Yi,Xi,xi=oi*si*this.components.length;St(xi);var fi=new Uint8Array(xi);switch(this.components.length){case 1:for(hi=this.components[0],ki=0;ki<si;ki++)for(pi=hi.lines[0|ki*hi.scaleY*ui],Ai=0;Ai<oi;Ai++)Mi=pi[0|Ai*hi.scaleX*ai],fi[vi++]=Mi;break;case 2:for(hi=this.components[0],ci=this.components[1],ki=0;ki<si;ki++)for(pi=hi.lines[0|ki*hi.scaleY*ui],yi=ci.lines[0|ki*ci.scaleY*ui],Ai=0;Ai<oi;Ai++)Mi=pi[0|Ai*hi.scaleX*ai],fi[vi++]=Mi,Mi=yi[0|Ai*ci.scaleX*ai],fi[vi++]=Mi;break;case 3:for(Xi=!0,this.adobe&&this.adobe.transformCode?Xi=!0:typeof this.opts.colorTransform<"u"&&(Xi=!!this.opts.colorTransform),hi=this.components[0],ci=this.components[1],mi=this.components[2],ki=0;ki<si;ki++)for(pi=hi.lines[0|ki*hi.scaleY*ui],yi=ci.lines[0|ki*ci.scaleY*ui],gi=mi.lines[0|ki*mi.scaleY*ui],Ai=0;Ai<oi;Ai++)Xi?(Mi=pi[0|Ai*hi.scaleX*ai],Di=yi[0|Ai*ci.scaleX*ai],Bi=gi[0|Ai*mi.scaleX*ai],ji=ri(Mi+1.402*(Bi-128)),Gi=ri(Mi-.3441363*(Di-128)-.71413636*(Bi-128)),Yi=ri(Mi+1.772*(Di-128))):(ji=pi[0|Ai*hi.scaleX*ai],Gi=yi[0|Ai*ci.scaleX*ai],Yi=gi[0|Ai*mi.scaleX*ai]),fi[vi++]=ji,fi[vi++]=Gi,fi[vi++]=Yi;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(Xi=!1,this.adobe&&this.adobe.transformCode?Xi=!0:typeof this.opts.colorTransform<"u"&&(Xi=!!this.opts.colorTransform),hi=this.components[0],ci=this.components[1],mi=this.components[2],di=this.components[3],ki=0;ki<si;ki++)for(pi=hi.lines[0|ki*hi.scaleY*ui],yi=ci.lines[0|ki*ci.scaleY*ui],gi=mi.lines[0|ki*mi.scaleY*ui],_i=di.lines[0|ki*di.scaleY*ui],Ai=0;Ai<oi;Ai++)Xi?(Mi=pi[0|Ai*hi.scaleX*ai],Di=yi[0|Ai*ci.scaleX*ai],Bi=gi[0|Ai*mi.scaleX*ai],Pi=_i[0|Ai*di.scaleX*ai],Fi=255-ri(Mi+1.402*(Bi-128)),Vi=255-ri(Mi-.3441363*(Di-128)-.71413636*(Bi-128)),Ti=255-ri(Mi+1.772*(Di-128))):(Fi=pi[0|Ai*hi.scaleX*ai],Vi=yi[0|Ai*ci.scaleX*ai],Ti=gi[0|Ai*mi.scaleX*ai],Pi=_i[0|Ai*di.scaleX*ai]),fi[vi++]=255-Fi,fi[vi++]=255-Vi,fi[vi++]=255-Ti,fi[vi++]=255-Pi;break;default:throw new Error("Unsupported color mode")}return fi},copyToImageData:function(oi,si){var ai=oi.width,ui=oi.height,hi=oi.data,ci=this.getData(ai,ui),mi=0,di=0,pi,yi,gi,_i,Ai,ki,vi,Mi,Di;switch(this.components.length){case 1:for(yi=0;yi<ui;yi++)for(pi=0;pi<ai;pi++)gi=ci[mi++],hi[di++]=gi,hi[di++]=gi,hi[di++]=gi,si&&(hi[di++]=255);break;case 3:for(yi=0;yi<ui;yi++)for(pi=0;pi<ai;pi++)vi=ci[mi++],Mi=ci[mi++],Di=ci[mi++],hi[di++]=vi,hi[di++]=Mi,hi[di++]=Di,si&&(hi[di++]=255);break;case 4:for(yi=0;yi<ui;yi++)for(pi=0;pi<ai;pi++)Ai=ci[mi++],ki=ci[mi++],gi=ci[mi++],_i=ci[mi++],vi=255-ri(Ai*(1-_i/255)+_i),Mi=255-ri(ki*(1-_i/255)+_i),Di=255-ri(gi*(1-_i/255)+_i),hi[di++]=vi,hi[di++]=Mi,hi[di++]=Di,si&&(hi[di++]=255);break;default:throw new Error("Unsupported color mode")}}};var ii=0,ei=0;function St(oi=0){var si=ii+oi;if(si>ei){var ai=Math.ceil((si-ei)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${ai}MB`)}ii=si}return Je.resetMaxMemoryUsage=function(oi){ii=0,ei=oi},Je.getBytesAllocated=function(){return ii},Je.requestMemoryAllocation=St,Je}();$e.exports=t;function t(r,Ve={}){var je={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512},ze={...je,...Ve},Xe=new Uint8Array(r),We=new e;We.opts=ze,e.resetMaxMemoryUsage(ze.maxMemoryUsageInMB*1024*1024),We.parse(Xe);var qe=ze.formatAsRGBA?4:3,Ke=We.width*We.height*qe;try{e.requestMemoryAllocation(Ke);var Ze={width:We.width,height:We.height,exifBuffer:We.exifBuffer,data:ze.useTArray?new Uint8Array(Ke):Buffer.alloc(Ke)};We.comments.length>0&&(Ze.comments=We.comments)}catch(Je){throw Je instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+Ke):Je instanceof ReferenceError&&Je.message==="Buffer is not defined"?new Error("Buffer is not globally defined in this environment. Consider setting useTArray to true"):Je}return We.copyToImageData(Ze,ze.formatAsRGBA),Ze}})(decoder$1);var decoderExports$1=decoder$1.exports,encode$1$1=encoderExports$1,decode$4$1=decoderExports$1,jpegJs$1={encode:encode$1$1,decode:decode$4$1};let chars$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1=new Uint8Array(256);for(let $e=0;$e<chars$1.length;$e++)lookup$1[chars$1.charCodeAt($e)]=$e;function encode$4($e){let e,t=$e.length,r="";for(e=0;e<t;e+=3)r+=chars$1[$e[e]>>2],r+=chars$1[($e[e]&3)<<4|$e[e+1]>>4],r+=chars$1[($e[e+1]&15)<<2|$e[e+2]>>6],r+=chars$1[$e[e+2]&63];return t%3===2?r=`${r.substring(0,r.length-1)}=`:t%3===1&&(r=`${r.substring(0,r.length-2)}==`),r}function decode$3$1($e){let e=$e.length*.75,t=$e.length,r=0,Ve,je,ze,Xe;$e[$e.length-1]==="="&&(e--,$e[$e.length-2]==="="&&e--);const We=new Uint8Array(e);for(let qe=0;qe<t;qe+=4)Ve=lookup$1[$e.charCodeAt(qe)],je=lookup$1[$e.charCodeAt(qe+1)],ze=lookup$1[$e.charCodeAt(qe+2)],Xe=lookup$1[$e.charCodeAt(qe+3)],We[r++]=Ve<<2|je>>4,We[r++]=(je&15)<<4|ze>>2,We[r++]=(ze&3)<<6|Xe&63;return We}function toBase64URL$1($e,e){const t=encode$4($e);return`data:${e};base64,${t}`}const ImageData$1=self.ImageData,DOMImage$1=self.Image;function createCanvas$1($e,e){let t=self.document.createElement("canvas");return t.width=$e,t.height=e,t}function fetchBinary$1($e,{withCredentials:e=!1}={}){return new Promise(function(t,r){let Ve=new self.XMLHttpRequest;Ve.open("GET",$e,!0),Ve.responseType="arraybuffer",Ve.withCredentials=e,Ve.onload=function(je){this.status!==200?r(je):t(this.response)},Ve.onerror=r,Ve.send()})}function createWriteStream$1(){throw new Error("createWriteStream does not exist in the browser")}function writeFile$1(){throw new Error("writeFile does not exist in the browser")}function getType$1($e){return $e.includes("/")||($e=`image/${$e}`),$e}function encodeJpeg$1($e,e={}){const t={width:$e.width,height:$e.height,data:$e.getRGBAData()};return jpegJs$1.encode(t,e.quality).data}function encodePng$2($e,e){const t={width:$e.width,height:$e.height,channels:$e.channels,depth:$e.bitDepth,data:$e.data};return(t.depth===1||t.depth===32)&&(t.depth=8,t.channels=4,t.data=$e.getRGBAData()),encodePng$1$1(t,e)}const exportMethods$1={save($e,e={}){const{useCanvas:t=!1,encoder:r=void 0}=e;let{format:Ve}=e;if(!Ve){const je=/\.(?<format>[a-zA-Z]+)$/.exec($e);je&&(Ve=je.groups.format.toLowerCase())}if(!Ve)throw new Error("file format not provided");return new Promise((je,ze)=>{let Xe,We;switch(Ve.toLowerCase()){case"png":{t?Xe=this.getCanvas().pngStream():We=encodePng$2(this,r);break}case"jpg":case"jpeg":t?Xe=this.getCanvas().jpegStream():We=encodeJpeg$1(this,r);break;case"bmp":We=encode$2$1(this);break;default:throw new RangeError(`invalid output format: ${Ve}`)}if(Xe){let qe=createWriteStream$1();qe.on("finish",je),qe.on("error",ze),Xe.pipe(qe)}else We&&writeFile$1()})},toDataURL($e="image/png",e={}){typeof $e=="object"&&(e=$e,$e="image/png");const{useCanvas:t=!1,encoder:r=void 0}=e;$e=getType$1($e);function Ve(je,ze){const Xe=je(ze,r);return toBase64URL$1(Xe,$e)}return $e==="image/bmp"?Ve(encode$2$1,this):$e==="image/png"&&!t?Ve(encodePng$2,this):$e==="image/jpeg"&&!t?Ve(encodeJpeg$1,this):this.getCanvas().toDataURL($e)},toBuffer($e={}){const{format:e="png",encoder:t=void 0}=$e;switch(e.toLowerCase()){case"png":return encodePng$2(this,t);case"jpeg":case"jpg":return encodeJpeg$1(this,t);case"bmp":return encode$2$1(this);default:throw new RangeError(`invalid output format: ${e}`)}},toBase64($e="image/png",e={}){if(e.async)return this.toDataURL($e,e).then(function(t){return t.substring(t.indexOf(",")+1)});{const t=this.toDataURL($e,e);return t.substring(t.indexOf(",")+1)}},toBlob($e="image/png",e=.8){return canvasToBlob$1(this.getCanvas(),$e,e)},getCanvas(){const $e=new ImageData$1(this.getRGBAData({clamped:!0}),this.width,this.height);let e=createCanvas$1(this.width,this.height);return e.getContext("2d").putImageData($e,0,0),e}};function setExportMethods$1($e){for(const e in exportMethods$1)$e.prototype[e]=exportMethods$1[e]}var hasOwn$1$1={exports:{}};const name$1="has-own",version$1$1="1.0.1",description$1="A safer .hasOwnProperty() - hasOwn(name, obj)",main$1="index.js",scripts$1={test:"make test"},author$1="Aaron Heckmann <aaron.heckmann+github@gmail.com>",license$1="MIT",repository$1={type:"git",url:"git://github.com/aheckmann/has-own.git"},homepage$1="https://github.com/aheckmann/has-own/",devDependencies$1={mocha:"^6.2.2"},require$$0$2$1={name:name$1,version:version$1$1,description:description$1,main:main$1,scripts:scripts$1,author:author$1,license:license$1,repository:repository$1,homepage:homepage$1,devDependencies:devDependencies$1};(function($e,e){var t=Object.prototype.hasOwnProperty;$e.exports=e=function(r,Ve){return t.call(Ve,r)},e.version=require$$0$2$1.version})(hasOwn$1$1,hasOwn$1$1.exports);var hasOwnExports$1=hasOwn$1$1.exports;const hasOwn$2=getDefaultExportFromCjs$1(hasOwnExports$1);let computedPropertyDescriptor$1$1={configurable:!0,enumerable:!1,get:void 0};function extendMethod$1($e,e,t={}){let{inPlace:r=!1,returnThis:Ve=!0,partialArgs:je=[]}=t;return r?Image$2.prototype[$e]=function(...ze){this.computed=null;let Xe=e.apply(this,[...je,...ze]);return Ve?this:Xe}:Image$2.prototype[$e]=function(...ze){return e.apply(this,[...je,...ze])},Image$2}function extendProperty$1($e,e,t={}){let{partialArgs:r=[]}=t;return computedPropertyDescriptor$1$1.get=function(){if(this.computed===null)this.computed={};else if(hasOwn$2($e,this.computed))return this.computed[$e];let Ve=e.apply(this,r);return this.computed[$e]=Ve,Ve},Object.defineProperty(Image$2.prototype,$e,computedPropertyDescriptor$1$1),Image$2}const GREY$1$1="GREY",RGB$1$1="RGB",HSL$1="HSL",HSV$1="HSV",CMYK$1$1="CMYK",ColorModel$1=Object.freeze(Object.defineProperty({__proto__:null,CMYK:CMYK$1$1,GREY:GREY$1$1,HSL:HSL$1,HSV:HSV$1,RGB:RGB$1$1},Symbol.toStringTag,{value:"Module"}));function getRGBAData$1($e={}){const{clamped:e}=$e;this.checkProcessable("getRGBAData",{components:[1,3],bitDepth:[1,8,16,32]});const t=this.width*this.height*4;let r=e?new Uint8ClampedArray(t):new Uint8Array(t);return this.bitDepth===1?fillDataFromBinary$1(this,r):this.bitDepth===32?(this.checkProcessable("getRGBAData",{alpha:0}),this.components===1?fillDataFromGrey32$1(this,r):this.components===3&&(this.checkProcessable("getRGBAData",{colorModel:[RGB$1$1]}),fillDataFromRGB32$1(this,r))):this.components===1?fillDataFromGrey$1(this,r):this.components===3&&(this.checkProcessable("getRGBAData",{colorModel:[RGB$1$1]}),fillDataFromRGB$1(this,r)),this.alpha===1?(this.checkProcessable("getRGBAData",{bitDepth:[8,16]}),copyAlpha$1(this,r)):fillAlpha$1(this,r),r}function fillDataFromBinary$1($e,e){for(let t=0;t<$e.size;t++){const r=$e.getBit(t);e[t*4]=r*255,e[t*4+1]=r*255,e[t*4+2]=r*255}}function fillDataFromGrey32$1($e,e){const t=$e.min[0],r=$e.max[0]-t;for(let Ve=0;Ve<$e.size;Ve++){const je=Math.floor(255*($e.data[Ve]-t)/r);e[Ve*4]=je,e[Ve*4+1]=je,e[Ve*4+2]=je}}function fillDataFromRGB32$1($e,e){const t=Math.min(...$e.min),r=Math.max(...$e.max)-t;for(let Ve=0;Ve<$e.size;Ve++){const je=Math.floor(255*($e.data[Ve*3]-t)/r),ze=Math.floor(255*($e.data[Ve*3+1]-t)/r),Xe=Math.floor(255*($e.data[Ve*3+2]-t)/r);e[Ve*4]=je,e[Ve*4+1]=ze,e[Ve*4+2]=Xe}}function fillDataFromGrey$1($e,e){for(let t=0;t<$e.size;t++)e[t*4]=$e.data[t*$e.channels]>>>$e.bitDepth-8,e[t*4+1]=$e.data[t*$e.channels]>>>$e.bitDepth-8,e[t*4+2]=$e.data[t*$e.channels]>>>$e.bitDepth-8}function fillDataFromRGB$1($e,e){for(let t=0;t<$e.size;t++)e[t*4]=$e.data[t*$e.channels]>>>$e.bitDepth-8,e[t*4+1]=$e.data[t*$e.channels+1]>>>$e.bitDepth-8,e[t*4+2]=$e.data[t*$e.channels+2]>>>$e.bitDepth-8}function copyAlpha$1($e,e){for(let t=0;t<$e.size;t++)e[t*4+3]=$e.data[t*$e.channels+$e.components]>>$e.bitDepth-8}function fillAlpha$1($e,e){for(let t=0;t<$e.size;t++)e[t*4+3]=255}const BINARY$1="BINARY",GREY$2="GREY",GREYA$1="GREYA",RGB$2="RGB",RGBA$1="RGBA",CMYK$2="CMYK",CMYKA$1="CMYKA",kinds$1={};kinds$1[BINARY$1]={components:1,alpha:0,bitDepth:1,colorModel:GREY$1$1};kinds$1[GREYA$1]={components:1,alpha:1,bitDepth:8,colorModel:GREY$1$1};kinds$1[GREY$2]={components:1,alpha:0,bitDepth:8,colorModel:GREY$1$1};kinds$1[RGBA$1]={components:3,alpha:1,bitDepth:8,colorModel:RGB$1$1};kinds$1[RGB$2]={components:3,alpha:0,bitDepth:8,colorModel:RGB$1$1};kinds$1[CMYK$2]={components:4,alpha:0,bitDepth:8,colorModel:CMYK$1$1};kinds$1[CMYKA$1]={components:4,alpha:1,bitDepth:8,colorModel:CMYK$1$1};function getKind$1($e){const e=kinds$1[$e];if(!e)throw new RangeError(`invalid image kind: ${$e}`);return e}const validBitDepth$1=[1,8,16,32];function verifyKindDefinition$1($e){const{components:e,alpha:t,bitDepth:r,colorModel:Ve}=$e;if(!Number.isInteger(e)||e<=0)throw new RangeError(`invalid components: ${e}. Must be a positive integer`);if(t!==0&&t!==1&&typeof t!="boolean")throw new TypeError(`invalid alpha: ${t}: must be a boolean, 0 or 1`);if(!validBitDepth$1.includes(r))throw new RangeError(`invalid bitDepth: ${r}. Must be one of ${validBitDepth$1.join(", ")}`);if(!ColorModel$1[Ve])throw new RangeError(`invalid colorModel: ${Ve}. Must be one of ${Object.keys(ColorModel$1).join(", ")}`)}function getTheoreticalPixelArraySize$1($e,e,t){let r=e*$e;return t===1&&(r=Math.ceil(r/8)),r}function createPixelArray$1($e,e,t,r,Ve,je){const ze=r*$e;let Xe;switch(Ve){case 1:Xe=new Uint8Array(Math.ceil(ze/8));break;case 8:Xe=new Uint8Array(ze);break;case 16:Xe=new Uint16Array(ze);break;case 32:Xe=new Float32Array(ze);break;default:throw new Error(`Cannot create pixel array for bit depth ${Ve}`)}if(t)for(let We=e;We<Xe.length;We+=r)Xe[We]=je;return Xe}const defaultByteLength$2=1024*8,charArray$1=[];let IOBuffer$2$1=class{constructor(e,t){t=t||{},e===void 0&&(e=defaultByteLength$2),typeof e=="number"&&(e=new ArrayBuffer(e));let r=e.byteLength;const Ve=t.offset?t.offset>>>0:0;e.buffer&&(r=e.byteLength-Ve,e.byteLength!==e.buffer.byteLength?e=e.buffer.slice(e.byteOffset+Ve,e.byteOffset+e.byteLength):Ve?e=e.buffer.slice(Ve):e=e.buffer),this.buffer=e,this.length=r,this.byteLength=r,this.byteOffset=0,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer),this._increment=r||defaultByteLength$2,this._mark=0}available(e){return e===void 0&&(e=1),this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){this.littleEndian=!0}isBigEndian(){return!this.littleEndian}setBigEndian(){this.littleEndian=!1}skip(e){e===void 0&&(e=1),this.offset+=e}seek(e){this.offset=e}mark(){this._mark=this.offset}reset(){this.offset=this._mark}rewind(){this.offset=0}ensureAvailable(e){if(e===void 0&&(e=1),!this.available(e)){const t=this._increment+this._increment;this._increment=t;const r=this.length+t,Ve=new Uint8Array(r);Ve.set(new Uint8Array(this.buffer)),this.buffer=Ve.buffer,this.length=r,this._data=new DataView(this.buffer)}}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e){e===void 0&&(e=1);for(var t=new Uint8Array(e),r=0;r<e;r++)t[r]=this.readByte();return t}readInt16(){var e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){var e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){var e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){var e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){var e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){var e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e){e===void 0&&(e=1),charArray$1.length=e;for(var t=0;t<e;t++)charArray$1[t]=this.readChar();return charArray$1.join("")}writeBoolean(e){this.writeUint8(e?255:0)}writeInt8(e){this.ensureAvailable(1),this._data.setInt8(this.offset++,e)}writeUint8(e){this.ensureAvailable(1),this._data.setUint8(this.offset++,e)}writeByte(e){this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(var t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t])}writeInt16(e){this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2}writeUint16(e){this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2}writeInt32(e){this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4}writeUint32(e){this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4}writeFloat32(e){this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4}writeFloat64(e){this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8}writeChar(e){this.writeUint8(e.charCodeAt(0))}writeChars(e){for(var t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t))}toArray(){return new Uint8Array(this.buffer,0,this.offset)}};var IOBuffer_1$1=IOBuffer$2$1,src$3$1={};const tagsById$5$1={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Threshholding",264:"CellWidth",265:"CellLength",266:"FillOrder",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",296:"ResolutionUnit",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",320:"ColorMap",338:"ExtraSamples",33432:"Copyright",269:"DocumentName",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",293:"T6Options",297:"PageNumber",301:"TransferFunction",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFDs",332:"InkSet",333:"InkNames",334:"NumberOfInks",336:"DotRange",337:"TargetPrinter",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"XMP",32781:"ImageID",34732:"ImageLayer",32932:"WangAnnotatio",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"ModelPixelScaleTag",33723:"IPTC",33918:"INGRPacketDataTag",33919:"INGRFlagRegisters",33920:"IrasBTransformationMatrix",33922:"ModelTiepointTag",34264:"ModelTransformationTag",34377:"Photoshop",34665:"ExifIFD",34675:"ICCProfile",34735:"GeoKeyDirectoryTag",34736:"GeoDoubleParamsTag",34737:"GeoAsciiParamsTag",34853:"GPSIFD",34908:"HylaFAXFaxRecvParams",34909:"HylaFAXFaxSubAddress",34910:"HylaFAXFaxRecvTime",37724:"ImageSourceData",40965:"InteroperabilityIFD",42112:"GDAL_METADATA",42113:"GDAL_NODATA",50215:"OceScanjobDescription",50216:"OceApplicationSelector",50217:"OceIdentificationNumber",50218:"OceImageLogicCharacteristics",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50784:"AliasLayerMetadata"},tagsByName$5$1={};for(var i$2$1 in tagsById$5$1)tagsByName$5$1[tagsById$5$1[i$2$1]]=i$2$1;var standard$1$1={tagsById:tagsById$5$1,tagsByName:tagsByName$5$1};const tagsById$4$1={33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37396:"SubjectArea",37500:"MakerNote",37510:"UserComment",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42240:"Gamma"},tagsByName$4$1={};for(var i$1$2 in tagsById$4$1)tagsByName$4$1[tagsById$4$1[i$1$2]]=i$1$2;var exif$1$1={tagsById:tagsById$4$1,tagsByName:tagsByName$4$1};const tagsById$3$1={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},tagsByName$3$1={};for(var i$4 in tagsById$3$1)tagsByName$3$1[tagsById$3$1[i$4]]=i$4;var gps$1$1={tagsById:tagsById$3$1,tagsByName:tagsByName$3$1};const tags$1$1={standard:standard$1$1,exif:exif$1$1,gps:gps$1$1};let IFD$2$1=class{constructor(e){if(!e)throw new Error("missing kind");this.data=null,this.fields=new Map,this.kind=e,this._map=null}get(e){if(typeof e=="number")return this.fields.get(e);if(typeof e=="string")return this.fields.get(tags$1$1[this.kind].tagsByName[e]);throw new Error("expected a number or string")}get map(){if(!this._map){this._map={};const t=tags$1$1[this.kind].tagsById;for(var e of this.fields.keys())t[e]&&(this._map[t[e]]=this.fields.get(e))}return this._map}};var ifd$1=IFD$2$1;const Ifd$1=ifd$1,dateTimeRegex$1$1=/^(\d{4}):(\d{2}):(\d{2}) (\d{2}):(\d{2}):(\d{2})$/;let TiffIfd$1$1=class extends Ifd$1{constructor(){super("standard")}get size(){return this.width*this.height}get width(){return this.imageWidth}get height(){return this.imageLength}get components(){return this.samplesPerPixel}get date(){var e=new Date,t=dateTimeRegex$1$1.exec(this.dateTime);return e.setFullYear(t[1],t[2]-1,t[3]),e.setHours(t[4],t[5],t[6]),e}get newSubfileType(){return this.get(254)}get imageWidth(){return this.get(256)}get imageLength(){return this.get(257)}get bitsPerSample(){return this.get(258)}get compression(){return this.get(259)||1}get type(){return this.get(262)}get fillOrder(){return this.get(266)||1}get documentName(){return this.get(269)}get imageDescription(){return this.get(270)}get stripOffsets(){return alwaysArray$1$1(this.get(273))}get orientation(){return this.get(274)}get samplesPerPixel(){return this.get(277)}get rowsPerStrip(){return this.get(278)}get stripByteCounts(){return alwaysArray$1$1(this.get(279))}get minSampleValue(){return this.get(280)||0}get maxSampleValue(){return this.get(281)||Math.pow(2,this.bitsPerSample)-1}get xResolution(){return this.get(282)}get yResolution(){return this.get(283)}get planarConfiguration(){return this.get(284)||1}get resolutionUnit(){return this.get(296)||2}get dateTime(){return this.get(306)}get predictor(){return this.get(317)||1}get sampleFormat(){return this.get(339)||1}get sMinSampleValue(){return this.get(340)||this.minSampleValue}get sMaxSampleValue(){return this.get(341)||this.maxSampleValue}};function alwaysArray$1$1($e){return typeof $e=="number"?[$e]:$e}var tiffIfd$1=TiffIfd$1$1,ifdValue$1={},types$1$1=new Map([[1,[1,readByte$1$1]],[2,[1,readASCII$1$1]],[3,[2,readShort$1$1]],[4,[4,readLong$1$1]],[5,[8,readRational$1$1]],[6,[1,readSByte$1$1]],[7,[1,readByte$1$1]],[8,[2,readSShort$1$1]],[9,[4,readSLong$1$1]],[10,[8,readSRational$1$1]],[11,[4,readFloat$1$1]],[12,[8,readDouble$1$1]]]);ifdValue$1.getByteLength=function($e,e){return types$1$1.get($e)[0]*e};ifdValue$1.readData=function($e,e,t){return types$1$1.get(e)[1]($e,t)};function readByte$1$1($e,e){if(e===1)return $e.readUint8();for(var t=new Uint8Array(e),r=0;r<e;r++)t[r]=$e.readUint8();return t}function readASCII$1$1($e,e){for(var t=[],r="",Ve=0;Ve<e;Ve++){var je=String.fromCharCode($e.readUint8());je==="\0"?(t.push(r),r=""):r+=je}return t.length===1?t[0]:t}function readShort$1$1($e,e){if(e===1)return $e.readUint16();for(var t=new Uint16Array(e),r=0;r<e;r++)t[r]=$e.readUint16();return t}function readLong$1$1($e,e){if(e===1)return $e.readUint32();for(var t=new Uint32Array(e),r=0;r<e;r++)t[r]=$e.readUint32();return t}function readRational$1$1($e,e){if(e===1)return $e.readUint32()/$e.readUint32();for(var t=new Array(e),r=0;r<e;r++)t[r]=$e.readUint32()/$e.readUint32();return t}function readSByte$1$1($e,e){if(e===1)return $e.readInt8();for(var t=new Int8Array(e),r=0;r<e;r++)t[r]=$e.readInt8();return t}function readSShort$1$1($e,e){if(e===1)return $e.readInt16();for(var t=new Int16Array(e),r=0;r<e;r++)t[r]=$e.readInt16();return t}function readSLong$1$1($e,e){if(e===1)return $e.readInt32();for(var t=new Int32Array(e),r=0;r<e;r++)t[r]=$e.readInt32();return t}function readSRational$1$1($e,e){if(e===1)return $e.readInt32()/$e.readInt32();for(var t=new Array(e),r=0;r<e;r++)t[r]=$e.readInt32()/$e.readInt32();return t}function readFloat$1$1($e,e){if(e===1)return $e.readFloat32();for(var t=new Float32Array(e),r=0;r<e;r++)t[r]=$e.readFloat32();return t}function readDouble$1$1($e,e){if(e===1)return $e.readFloat64();for(var t=new Float64Array(e),r=0;r<e;r++)t[r]=$e.readFloat64();return t}const IOBuffer$1$1=IOBuffer_1$1,IFD$1$1=ifd$1,TiffIFD$1=tiffIfd$1,IFDValue$1=ifdValue$1,defaultOptions$d$1={ignoreImageData:!1,onlyFirst:!1};let TIFFDecoder$2$1=class extends IOBuffer$1$1{constructor(e,t){super(e,t),this._nextIFD=0}decode(e){e=Object.assign({},defaultOptions$d$1,e);const t=[];for(this.decodeHeader();this._nextIFD;)if(t.push(this.decodeIFD(e)),e.onlyFirst)return t[0];return t}decodeHeader(){let e=this.readUint16();if(e===18761)this.setLittleEndian();else if(e===19789)this.setBigEndian();else throw new Error("invalid byte order: 0x"+e.toString(16));if(e=this.readUint16(),e!==42)throw new Error("not a TIFF file");this._nextIFD=this.readUint32()}decodeIFD(e){this.seek(this._nextIFD);var t;e.kind?t=new IFD$1$1(e.kind):t=new TiffIFD$1;const r=this.readUint16();for(var Ve=0;Ve<r;Ve++)this.decodeIFDEntry(t);return e.ignoreImageData||this.decodeImageData(t),this._nextIFD=this.readUint32(),t}decodeIFDEntry(e){const t=this.offset,r=this.readUint16(),Ve=this.readUint16(),je=this.readUint32();if(Ve<1||Ve>12){this.skip(4);return}IFDValue$1.getByteLength(Ve,je)>4&&this.seek(this.readUint32());const ze=IFDValue$1.readData(this,Ve,je);if(e.fields.set(r,ze),r===34665||r===34853){let Xe=this.offset,We;r===34665?We="exif":r===34853&&(We="gps"),this._nextIFD=ze,e[We]=this.decodeIFD({kind:We,ignoreImageData:!0}),this.offset=Xe}this.seek(t),this.skip(12)}decodeImageData(e){const t=e.orientation;switch(t&&t!==1&&unsupported$1$1("orientation",t),e.type){case 1:case 2:this.readStripData(e);break;default:unsupported$1$1("image type",e.type);break}}readStripData(e){const t=e.width,r=e.height,Ve=validateBitDepth$1(e.bitsPerSample),je=e.sampleFormat;let ze=t*r;const Xe=getDataArray$1$1(ze,1,Ve,je),We=e.compression,qe=e.rowsPerStrip*t,Ke=e.stripOffsets,Ze=e.stripByteCounts;for(var Je=0,Qe=0;Qe<Ke.length;Qe++){var ti=this.getStripData(We,Ke[Qe],Ze[Qe]),ni=ze>qe?qe:ze;ze-=ni,Ve===8?Je=fill8bit$1$1(Xe,ti,Je,ni):Ve===16?Je=fill16bit$1$1(Xe,ti,Je,ni,this.isLittleEndian()):Ve===32&&je===3?Je=fillFloat32$1$1(Xe,ti,Je,ni,this.isLittleEndian()):unsupported$1$1("bitDepth",Ve)}e.data=Xe}getStripData(e,t,r){switch(e){case 1:return new DataView(this.buffer,t,r);case 2:case 32773:return unsupported$1$1("Compression",e);default:throw new Error("invalid compression: "+e)}}};var tiffDecoder$1=TIFFDecoder$2$1;function getDataArray$1$1($e,e,t,r){return t===8?new Uint8Array($e*e):t===16?new Uint16Array($e*e):t===32&&r===3?new Float32Array($e*e):unsupported$1$1("bit depth / sample format",t+" / "+r)}function fill8bit$1$1($e,e,t,r){for(var Ve=0;Ve<r;Ve++)$e[t++]=e.getUint8(Ve);return t}function fill16bit$1$1($e,e,t,r,Ve){for(var je=0;je<r*2;je+=2)$e[t++]=e.getUint16(je,Ve);return t}function fillFloat32$1$1($e,e,t,r,Ve){for(var je=0;je<r*4;je+=4)$e[t++]=e.getFloat32(je,Ve);return t}function unsupported$1$1($e,e){throw new Error("Unsupported "+$e+": "+e)}function validateBitDepth$1($e){if($e.length){const t=$e;$e=t[0];for(var e=0;e<t.length;e++)t[e]!==$e&&unsupported$1$1("bit depth",t)}return $e}const TIFFDecoder$1$1=tiffDecoder$1;var decode$2$1=function($e,e){return new TIFFDecoder$1$1($e,e).decode(e)};src$3$1.decode=decode$2$1;const IOBuffer$6=IOBuffer_1$1,tiff$1=src$3$1;function decode$1$1($e){const e=new IOBuffer$6($e),t={};if(e.setBigEndian(),e.readUint16()!==65496)throw new Error("SOI marker not found. Not a valid JPEG file");if(e.readUint16()===65505){e.readUint16();const r=e.readBytes(6);if(r[0]===69&&r[1]===120&&r[2]===105&&r[3]===102&&r[4]===0&&r[5]===0){const Ve=tiff$1.decode(e,{onlyFirst:!0,ignoreImageData:!0,offset:e.offset});t.exif=Ve}}return t}var decode_1$1=decode$1$1,decode$6=decode_1$1,imageType$2$1={exports:{}},fileType$1$1={exports:{}};(function(module){const toBytes=$e=>[...$e].map(e=>e.charCodeAt(0)),xpiZipFilename=toBytes("META-INF/mozilla.rsa"),oxmlContentTypes=toBytes("[Content_Types].xml"),oxmlRels=toBytes("_rels/.rels");function readUInt64LE($e,e=0){let t=$e[e],r=1,Ve=0;for(;++Ve<8;)r*=256,t+=$e[e+Ve]*r;return t}const fileType=$e=>{if(!($e instanceof Uint8Array||$e instanceof ArrayBuffer||Buffer.isBuffer($e)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof $e}\``);const e=$e instanceof Uint8Array?$e:new Uint8Array($e);if(!(e&&e.length>1))return null;const t=(Ve,je)=>{je=Object.assign({offset:0},je);for(let ze=0;ze<Ve.length;ze++)if(je.mask){if(Ve[ze]!==(je.mask[ze]&e[ze+je.offset]))return!1}else if(Ve[ze]!==e[ze+je.offset])return!1;return!0},r=(Ve,je)=>t(toBytes(Ve),je);if(t([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(t([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(t([71,73,70]))return{ext:"gif",mime:"image/gif"};if(t([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(t([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((t([73,73,42,0])||t([77,77,0,42]))&&t([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(t([73,73,42,0])||t([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(t([66,77]))return{ext:"bmp",mime:"image/bmp"};if(t([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(t([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(t([80,75,3,4])){if(t([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(t(xpiZipFilename,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(r("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(r("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(r("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};const Ve=(We,qe=0)=>We.findIndex((Ke,Ze,Je)=>Ze>=qe&&Je[Ze]===80&&Je[Ze+1]===75&&Je[Ze+2]===3&&Je[Ze+3]===4);let je=0,ze=!1,Xe=null;do{const We=je+30;if(ze||(ze=t(oxmlContentTypes,{offset:We})||t(oxmlRels,{offset:We})),Xe||(r("word/",{offset:We})?Xe={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:r("ppt/",{offset:We})?Xe={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:r("xl/",{offset:We})&&(Xe={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),ze&&Xe)return Xe;je=Ve(e,We)}while(je>=0);if(Xe)return Xe}if(t([80,75])&&(e[2]===3||e[2]===5||e[2]===7)&&(e[3]===4||e[3]===6||e[3]===8))return{ext:"zip",mime:"application/zip"};if(t([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(t([82,97,114,33,26,7])&&(e[6]===0||e[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(t([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(t([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(t([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(t([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(t([51,103,112,53])||t([0,0,0])&&t([102,116,121,112],{offset:4})&&(t([109,112,52,49],{offset:8})||t([109,112,52,50],{offset:8})||t([105,115,111,109],{offset:8})||t([105,115,111,50],{offset:8})||t([109,109,112,52],{offset:8})||t([77,52,86],{offset:8})||t([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(t([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(t([26,69,223,163])){const Ve=e.subarray(4,4100),je=Ve.findIndex((ze,Xe,We)=>We[Xe]===66&&We[Xe+1]===130);if(je!==-1){const ze=je+3,Xe=We=>[...We].every((qe,Ke)=>Ve[ze+Ke]===qe.charCodeAt(0));if(Xe("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(Xe("webm"))return{ext:"webm",mime:"video/webm"}}}if(t([0,0,0,20,102,116,121,112,113,116,32,32])||t([102,114,101,101],{offset:4})||t([102,116,121,112,113,116,32,32],{offset:4})||t([109,100,97,116],{offset:4})||t([109,111,111,118],{offset:4})||t([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(t([82,73,70,70])){if(t([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(t([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(t([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(t([48,38,178,117,142,102,207,17,166,217])){let Ve=30;do{const je=readUInt64LE(e,Ve+16);if(t([145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101],{offset:Ve})){if(t([64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43],{offset:Ve+24}))return{ext:"wma",mime:"audio/x-ms-wma"};if(t([192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43],{offset:Ve+24}))return{ext:"wmv",mime:"video/x-ms-asf"};break}Ve+=je}while(Ve+24<=e.length);return{ext:"asf",mime:"application/vnd.ms-asf"}}if(t([0,0,1,186])||t([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(t([102,116,121,112,51,103],{offset:4}))return{ext:"3gp",mime:"video/3gpp"};for(let Ve=0;Ve<2&&Ve<e.length-16;Ve++){if(t([73,68,51],{offset:Ve})||t([255,226],{offset:Ve,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};if(t([255,228],{offset:Ve,mask:[255,228]}))return{ext:"mp2",mime:"audio/mpeg"};if(t([255,248],{offset:Ve,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(t([255,240],{offset:Ve,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(t([102,116,121,112,77,52,65],{offset:4}))return{ext:"m4a",mime:"audio/mp4"};if(t([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(t([79,103,103,83]))return t([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:t([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:t([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:t([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:t([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(t([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(t([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(t([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(t([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(t([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(t([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((e[0]===67||e[0]===70)&&t([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(t([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(t([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(t([119,79,70,70])&&(t([0,1,0,0],{offset:4})||t([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(t([119,79,70,50])&&(t([0,1,0,0],{offset:4})||t([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(t([76,80],{offset:34})&&(t([0,0,1],{offset:8})||t([1,0,2],{offset:8})||t([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(t([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(t([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(t([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(t([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(t([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(t([37,33]))return{ext:"ps",mime:"application/postscript"};if(t([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(t([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(t([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(t([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(t([77,83,67,70])||t([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(t([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(t([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(t([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(t([31,160])||t([31,157]))return{ext:"Z",mime:"application/x-compress"};if(t([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(t([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(t([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(t([71],{offset:4})&&(t([71],{offset:192})||t([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(t([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(t([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(t([0,0,0,12,106,80,32,32,13,10,135,10])){if(t([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(t([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(t([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(t([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}if(t([70,79,82,77]))return{ext:"aif",mime:"audio/aiff"};if(r("<?xml "))return{ext:"xml",mime:"application/xml"};if(t([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(t([102,116,121,112],{offset:4})){if(t([109,105,102,49],{offset:8}))return{ext:"heic",mime:"image/heif"};if(t([109,115,102,49],{offset:8}))return{ext:"heic",mime:"image/heif-sequence"};if(t([104,101,105,99],{offset:8})||t([104,101,105,120],{offset:8}))return{ext:"heic",mime:"image/heic"};if(t([104,101,118,99],{offset:8})||t([104,101,118,120],{offset:8}))return{ext:"heic",mime:"image/heic-sequence"}}return t([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:t([68,73,67,77],{offset:128})?{ext:"dcm",mime:"application/dicom"}:t([77,80,43])?{ext:"mpc",mime:"audio/x-musepack"}:t([77,80,67,75])?{ext:"mpc",mime:"audio/x-musepack"}:t([66,69,71,73,78,58])?{ext:"ics",mime:"text/calendar"}:t([103,108,84,70,2,0,0,0])?{ext:"glb",mime:"model/gltf-binary"}:t([212,195,178,161])||t([161,178,195,212])?{ext:"pcap",mime:"application/vnd.tcpdump.pcap"}:null};module.exports=fileType,module.exports.default=fileType,Object.defineProperty(fileType,"minimumBytes",{value:4100}),module.exports.stream=readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.once("readable",()=>{const $e=new stream.PassThrough,e=readableStream.read(module.exports.minimumBytes)||readableStream.read();try{$e.fileType=fileType(e)}catch(t){reject(t)}readableStream.unshift(e),stream.pipeline?resolve(stream.pipeline(readableStream,$e,()=>{})):resolve(readableStream.pipe($e))})})})(fileType$1$1);var fileTypeExports$1=fileType$1$1.exports;const fileType$2=fileTypeExports$1,imageExts$1=new Set(["jpg","png","gif","webp","flif","cr2","tif","bmp","jxr","psd","ico","bpg","jp2","jpm","jpx","heic","cur","dcm"]),imageType$3=$e=>{const e=fileType$2($e);return imageExts$1.has(e&&e.ext)?e:null};imageType$2$1.exports=imageType$3;imageType$2$1.exports.default=imageType$3;Object.defineProperty(imageType$3,"minimumBytes",{value:fileType$2.minimumBytes});var imageTypeExports$1=imageType$2$1.exports;const imageType$1$1=getDefaultExportFromCjs$1(imageTypeExports$1);function guessStripByteCounts$1($e){if($e.compression!==1)throw new Error("missing mandatory StripByteCounts field in compressed image");const e=$e.rowsPerStrip*$e.width*$e.samplesPerPixel*($e.bitsPerSample/8);return new Array($e.stripOffsets.length).fill(e)}function applyHorizontalDifferencing8Bit$1($e,e,t){let r=0;for(;r<$e.length;){for(let Ve=t;Ve<e*t;Ve+=t)for(let je=0;je<t;je++)$e[r+Ve+je]=$e[r+Ve+je]+$e[r+Ve-(t-je)]&255;r+=e*t}}function applyHorizontalDifferencing16Bit$1($e,e,t){let r=0;for(;r<$e.length;){for(let Ve=t;Ve<e*t;Ve+=t)for(let je=0;je<t;je++)$e[r+Ve+je]=$e[r+Ve+je]+$e[r+Ve-(t-je)]&65535;r+=e*t}}const tagsById$2$1={33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37396:"SubjectArea",37500:"MakerNote",37510:"UserComment",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42240:"Gamma"},tagsByName$2$1={};for(let $e in tagsById$2$1)tagsByName$2$1[tagsById$2$1[$e]]=Number($e);const exif$2=Object.freeze(Object.defineProperty({__proto__:null,tagsById:tagsById$2$1,tagsByName:tagsByName$2$1},Symbol.toStringTag,{value:"Module"})),tagsById$1$1={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},tagsByName$1$1={};for(let $e in tagsById$1$1)tagsByName$1$1[tagsById$1$1[$e]]=Number($e);const gps$2=Object.freeze(Object.defineProperty({__proto__:null,tagsById:tagsById$1$1,tagsByName:tagsByName$1$1},Symbol.toStringTag,{value:"Module"})),tagsById$6={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Threshholding",264:"CellWidth",265:"CellLength",266:"FillOrder",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",296:"ResolutionUnit",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",320:"ColorMap",338:"ExtraSamples",33432:"Copyright",269:"DocumentName",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",293:"T6Options",297:"PageNumber",301:"TransferFunction",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFDs",332:"InkSet",333:"InkNames",334:"NumberOfInks",336:"DotRange",337:"TargetPrinter",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"XMP",32781:"ImageID",34732:"ImageLayer",32932:"WangAnnotatio",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"ModelPixelScaleTag",33723:"IPTC",33918:"INGRPacketDataTag",33919:"INGRFlagRegisters",33920:"IrasBTransformationMatrix",33922:"ModelTiepointTag",34264:"ModelTransformationTag",34377:"Photoshop",34665:"ExifIFD",34675:"ICCProfile",34735:"GeoKeyDirectoryTag",34736:"GeoDoubleParamsTag",34737:"GeoAsciiParamsTag",34853:"GPSIFD",34908:"HylaFAXFaxRecvParams",34909:"HylaFAXFaxSubAddress",34910:"HylaFAXFaxRecvTime",37724:"ImageSourceData",40965:"InteroperabilityIFD",42112:"GDAL_METADATA",42113:"GDAL_NODATA",50215:"OceScanjobDescription",50216:"OceApplicationSelector",50217:"OceIdentificationNumber",50218:"OceImageLogicCharacteristics",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50784:"AliasLayerMetadata"},tagsByName$6={};for(let $e in tagsById$6)tagsByName$6[tagsById$6[$e]]=Number($e);const standard$2=Object.freeze(Object.defineProperty({__proto__:null,tagsById:tagsById$6,tagsByName:tagsByName$6},Symbol.toStringTag,{value:"Module"})),tags$2={standard:standard$2,exif:exif$2,gps:gps$2};let IFD$3=class{constructor(e){if(!e)throw new Error("missing kind");this.data=new Uint8Array,this.fields=new Map,this.kind=e,this._hasMap=!1,this._map={}}get(e){if(typeof e=="number")return this.fields.get(e);if(typeof e=="string")return this.fields.get(tags$2[this.kind].tagsByName[e]);throw new Error("expected a number or string")}get map(){if(!this._hasMap){const e=tags$2[this.kind].tagsById;for(let t of this.fields.keys())e[t]&&(this._map[e[t]]=this.fields.get(t));this._hasMap=!0}return this._map}},types$2=new Map([[1,[1,readByte$2]],[2,[1,readASCII$2]],[3,[2,readShort$2]],[4,[4,readLong$2]],[5,[8,readRational$2]],[6,[1,readSByte$2]],[7,[1,readByte$2]],[8,[2,readSShort$2]],[9,[4,readSLong$2]],[10,[8,readSRational$2]],[11,[4,readFloat$2]],[12,[8,readDouble$2]]]);function getByteLength$1($e,e){const t=types$2.get($e);if(!t)throw new Error(`type not found: ${$e}`);return t[0]*e}function readData$1($e,e,t){const r=types$2.get(e);if(!r)throw new Error(`type not found: ${e}`);return r[1]($e,t)}function readByte$2($e,e){if(e===1)return $e.readUint8();let t=new Uint8Array(e);for(let r=0;r<e;r++)t[r]=$e.readUint8();return t}function readASCII$2($e,e){let t=[],r="";for(let Ve=0;Ve<e;Ve++){let je=String.fromCharCode($e.readUint8());je==="\0"?(t.push(r),r=""):r+=je}return t.length===1?t[0]:t}function readShort$2($e,e){if(e===1)return $e.readUint16();let t=new Uint16Array(e);for(let r=0;r<e;r++)t[r]=$e.readUint16();return t}function readLong$2($e,e){if(e===1)return $e.readUint32();let t=new Uint32Array(e);for(let r=0;r<e;r++)t[r]=$e.readUint32();return t}function readRational$2($e,e){if(e===1)return $e.readUint32()/$e.readUint32();let t=new Array(e);for(let r=0;r<e;r++)t[r]=$e.readUint32()/$e.readUint32();return t}function readSByte$2($e,e){if(e===1)return $e.readInt8();let t=new Int8Array(e);for(let r=0;r<e;r++)t[r]=$e.readInt8();return t}function readSShort$2($e,e){if(e===1)return $e.readInt16();let t=new Int16Array(e);for(let r=0;r<e;r++)t[r]=$e.readInt16();return t}function readSLong$2($e,e){if(e===1)return $e.readInt32();let t=new Int32Array(e);for(let r=0;r<e;r++)t[r]=$e.readInt32();return t}function readSRational$2($e,e){if(e===1)return $e.readInt32()/$e.readInt32();let t=new Array(e);for(let r=0;r<e;r++)t[r]=$e.readInt32()/$e.readInt32();return t}function readFloat$2($e,e){if(e===1)return $e.readFloat32();let t=new Float32Array(e);for(let r=0;r<e;r++)t[r]=$e.readFloat32();return t}function readDouble$2($e,e){if(e===1)return $e.readFloat64();let t=new Float64Array(e);for(let r=0;r<e;r++)t[r]=$e.readFloat64();return t}const CLEAR_CODE$1=256,EOI_CODE$1=257,TABLE_START$1=258,MIN_BIT_LENGTH$1=9;let stringTable$1=[];function initializeStringTable$1(){if(stringTable$1.length===0){for(let e=0;e<256;e++)stringTable$1.push([e]);const $e=[];for(let e=256;e<4096;e++)stringTable$1.push($e)}}const andTable$1=[511,1023,2047,4095],bitJumps$1=[0,0,0,0,0,0,0,0,0,511,1023,2047,4095];let LzwDecoder$1=class{constructor(e){this.nextData=0,this.nextBits=0,this.bytePointer=0,this.tableLength=TABLE_START$1,this.currentBitLength=MIN_BIT_LENGTH$1,this.stripArray=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),this.outData=new IOBuffer$4$1(e.byteLength),this.initializeTable()}decode(){let e=0,t=0;for(;(e=this.getNextCode())!==EOI_CODE$1;)if(e===CLEAR_CODE$1){if(this.initializeTable(),e=this.getNextCode(),e===EOI_CODE$1)break;this.writeString(this.stringFromCode(e)),t=e}else if(this.isInTable(e))this.writeString(this.stringFromCode(e)),this.addStringToTable(this.stringFromCode(t).concat(this.stringFromCode(e)[0])),t=e;else{const Ve=this.stringFromCode(t).concat(this.stringFromCode(t)[0]);this.writeString(Ve),this.addStringToTable(Ve),t=e}const r=this.outData.toArray();return new DataView(r.buffer,r.byteOffset,r.byteLength)}initializeTable(){initializeStringTable$1(),this.tableLength=TABLE_START$1,this.currentBitLength=MIN_BIT_LENGTH$1}writeString(e){this.outData.writeBytes(e)}stringFromCode(e){return stringTable$1[e]}isInTable(e){return e<this.tableLength}addStringToTable(e){if(stringTable$1[this.tableLength++]=e,stringTable$1.length>4096)throw stringTable$1=[],new Error("LZW decoding error. Please open an issue at https://github.com/image-js/tiff/issues/new/choose (include a test image).");this.tableLength===bitJumps$1[this.currentBitLength]&&this.currentBitLength++}getNextCode(){this.nextData=this.nextData<<8|this.stripArray[this.bytePointer++]&255,this.nextBits+=8,this.nextBits<this.currentBitLength&&(this.nextData=this.nextData<<8|this.stripArray[this.bytePointer++]&255,this.nextBits+=8);const e=this.nextData>>this.nextBits-this.currentBitLength&andTable$1[this.currentBitLength-9];return this.nextBits-=this.currentBitLength,this.bytePointer>this.stripArray.length?257:e}};function decompressLzw$1($e){return new LzwDecoder$1($e).decode()}const dateTimeRegex$2=/^(\d{4}):(\d{2}):(\d{2}) (\d{2}):(\d{2}):(\d{2})$/;let TiffIfd$2=class extends IFD$3{constructor(){super("standard")}get size(){return this.width*this.height}get width(){return this.imageWidth}get height(){return this.imageLength}get components(){return this.samplesPerPixel}get date(){let e=new Date,t=dateTimeRegex$2.exec(this.dateTime);if(t===null)throw new Error(`invalid dateTime: ${this.dateTime}`);return e.setFullYear(Number(t[1]),Number(t[2])-1,Number(t[3])),e.setHours(Number(t[4]),Number(t[5]),Number(t[6])),e}get newSubfileType(){return this.get("NewSubfileType")}get imageWidth(){return this.get("ImageWidth")}get imageLength(){return this.get("ImageLength")}get bitsPerSample(){const e=this.get("BitsPerSample");return e&&typeof e!="number"?e[0]:e}get alpha(){const e=this.extraSamples;return e?e[0]!==0:!1}get associatedAlpha(){const e=this.extraSamples;return e?e[0]===1:!1}get extraSamples(){return alwaysArray$2(this.get("ExtraSamples"))}get compression(){return this.get("Compression")||1}get type(){return this.get("PhotometricInterpretation")}get fillOrder(){return this.get("FillOrder")||1}get documentName(){return this.get("DocumentName")}get imageDescription(){return this.get("ImageDescription")}get stripOffsets(){return alwaysArray$2(this.get("StripOffsets"))}get orientation(){return this.get("Orientation")}get samplesPerPixel(){return this.get("SamplesPerPixel")||1}get rowsPerStrip(){return this.get("RowsPerStrip")}get stripByteCounts(){return alwaysArray$2(this.get("StripByteCounts"))}get minSampleValue(){return this.get("MinSampleValue")||0}get maxSampleValue(){return this.get("MaxSampleValue")||Math.pow(2,this.bitsPerSample)-1}get xResolution(){return this.get("XResolution")}get yResolution(){return this.get("YResolution")}get planarConfiguration(){return this.get("PlanarConfiguration")||1}get resolutionUnit(){return this.get("ResolutionUnit")||2}get dateTime(){return this.get("DateTime")}get predictor(){return this.get("Predictor")||1}get sampleFormat(){return this.get("SampleFormat")||1}get sMinSampleValue(){return this.get("SMinSampleValue")||this.minSampleValue}get sMaxSampleValue(){return this.get("SMaxSampleValue")||this.maxSampleValue}get palette(){const e=2**this.bitsPerSample,t=this.get("ColorMap");if(!t)return;if(t.length!==3*e)throw new Error(`ColorMap size must be ${e}`);const r=[];for(let Ve=0;Ve<e;Ve++)r.push([t[Ve],t[Ve+e],t[Ve+2*e]]);return r}};function alwaysArray$2($e){return typeof $e=="number"?[$e]:$e}function decompressZlib$1($e){const e=new Uint8Array($e.buffer,$e.byteOffset,$e.byteLength),t=inflate_1$3(e);return new DataView(t.buffer,t.byteOffset,t.byteLength)}const defaultOptions$c$1={ignoreImageData:!1,onlyFirst:!1};let TIFFDecoder$3=class extends IOBuffer$4$1{constructor(e){super(e),this._nextIFD=0}get isMultiPage(){let e=0;for(this.decodeHeader();this._nextIFD;)if(e++,this.decodeIFD({ignoreImageData:!0},!0),e===2)return!0;if(e===1)return!1;throw unsupported$2("ifdCount",e)}get pageCount(){let e=0;for(this.decodeHeader();this._nextIFD;)e++,this.decodeIFD({ignoreImageData:!0},!0);if(e>0)return e;throw unsupported$2("ifdCount",e)}decode(e={}){e=Object.assign({},defaultOptions$c$1,e);const t=[];for(this.decodeHeader();this._nextIFD;)if(t.push(this.decodeIFD(e,!0)),e.onlyFirst)return[t[0]];return t}decodeHeader(){const e=this.readUint16();if(e===18761)this.setLittleEndian();else if(e===19789)this.setBigEndian();else throw new Error(`invalid byte order: 0x${e.toString(16)}`);if(this.readUint16()!==42)throw new Error("not a TIFF file");this._nextIFD=this.readUint32()}decodeIFD(e,t){this.seek(this._nextIFD);let r;if(t)r=new TiffIfd$2;else{if(!e.kind)throw new Error("kind is missing");r=new IFD$3(e.kind)}const Ve=this.readUint16();for(let je=0;je<Ve;je++)this.decodeIFDEntry(r);if(!e.ignoreImageData){if(!(r instanceof TiffIfd$2))throw new Error("must be a tiff ifd");this.decodeImageData(r)}return this._nextIFD=this.readUint32(),r}decodeIFDEntry(e){const t=this.offset,r=this.readUint16(),Ve=this.readUint16(),je=this.readUint32();if(Ve<1||Ve>12){this.skip(4);return}getByteLength$1(Ve,je)>4&&this.seek(this.readUint32());const ze=readData$1(this,Ve,je);if(e.fields.set(r,ze),r===34665||r===34853){let Xe=this.offset,We="exif";r===34665?We="exif":r===34853&&(We="gps"),this._nextIFD=ze,e[We]=this.decodeIFD({kind:We,ignoreImageData:!0},!1),this.offset=Xe}this.seek(t),this.skip(12)}decodeImageData(e){const t=e.orientation;if(t&&t!==1)throw unsupported$2("orientation",t);switch(e.type){case 0:case 1:case 2:case 3:this.readStripData(e);break;default:throw unsupported$2("image type",e.type)}if(this.applyPredictor(e),this.convertAlpha(e),e.type===0){const r=e.bitsPerSample,Ve=Math.pow(2,r)-1;for(let je=0;je<e.data.length;je++)e.data[je]=Ve-e.data[je]}}readStripData(e){const t=e.width,r=e.height,Ve=e.bitsPerSample,je=e.sampleFormat,ze=t*r*e.samplesPerPixel,Xe=getDataArray$2(ze,Ve,je),We=e.rowsPerStrip*t*e.samplesPerPixel,qe=e.stripOffsets,Ke=e.stripByteCounts||guessStripByteCounts$1(e);let Ze=ze,Je=0;for(let Qe=0;Qe<qe.length;Qe++){let ti=new DataView(this.buffer,this.byteOffset+qe[Qe],Ke[Qe]),ni=Ze>We?We:Ze;Ze-=ni;let ri=ti;switch(e.compression){case 1:break;case 5:{ri=decompressLzw$1(ti);break}case 8:{ri=decompressZlib$1(ti);break}case 2:throw unsupported$2("Compression","CCITT Group 3");case 32773:throw unsupported$2("Compression","PackBits");default:throw unsupported$2("Compression",e.compression)}Je=this.fillUncompressed(Ve,je,Xe,ri,Je,ni)}e.data=Xe}fillUncompressed(e,t,r,Ve,je,ze){if(e===8)return fill8bit$2(r,Ve,je,ze);if(e===16)return fill16bit$2(r,Ve,je,ze,this.isLittleEndian());if(e===32&&t===3)return fillFloat32$2(r,Ve,je,ze,this.isLittleEndian());throw unsupported$2("bitDepth",e)}applyPredictor(e){const t=e.bitsPerSample;switch(e.predictor){case 1:break;case 2:{if(t===8)applyHorizontalDifferencing8Bit$1(e.data,e.width,e.components);else if(t===16)applyHorizontalDifferencing16Bit$1(e.data,e.width,e.components);else throw new Error(`Horizontal differencing is only supported for images with a bit depth of ${t}`);break}default:throw new Error(`invalid predictor: ${e.predictor}`)}}convertAlpha(e){if(e.alpha&&e.associatedAlpha){const{data:t,components:r,maxSampleValue:Ve}=e;for(let je=0;je<t.length;je+=r){const ze=t[je+r-1];for(let Xe=0;Xe<r-1;Xe++)t[je+Xe]=Math.round(t[je+Xe]*Ve/ze)}}}};function getDataArray$2($e,e,t){if(e===8)return new Uint8Array($e);if(e===16)return new Uint16Array($e);if(e===32&&t===3)return new Float32Array($e);throw unsupported$2("bit depth / sample format",`${e} / ${t}`)}function fill8bit$2($e,e,t,r){for(let Ve=0;Ve<r;Ve++)$e[t++]=e.getUint8(Ve);return t}function fill16bit$2($e,e,t,r,Ve){for(let je=0;je<r*2;je+=2)$e[t++]=e.getUint16(je,Ve);return t}function fillFloat32$2($e,e,t,r,Ve){for(let je=0;je<r*4;je+=4)$e[t++]=e.getFloat32(je,Ve);return t}function unsupported$2($e,e){return new Error(`Unsupported ${$e}: ${e}`)}function decodeTIFF$1($e,e){return new TIFFDecoder$3($e).decode(e)}function matchAndCrop$1($e={}){let{algorithm:e="matchToPrevious",ignoreBorder:t=[0,0]}=$e;this.checkProcessable("matchAndCrop",{bitDepth:[8,16]});let r=e==="matchToPrevious",Ve=this[0],je=[];je[0]={position:[0,0],image:this[0]};let ze=[0,0];for(let Je=1;Je<this.length;Je++){let Qe=Ve.getBestMatch(this[Je],{border:t});je[Je]={position:[Qe[0]+ze[0],Qe[1]+ze[1]],image:this[Je]},r&&(ze[0]+=Qe[0],ze[1]+=Qe[1],Ve=this[Je])}let Xe=0,We=0,qe=0,Ke=0;for(let Je=0;Je<je.length;Je++){let Qe=je[Je];Qe.position[0]>Xe&&(Xe=Qe.position[0]),Qe.position[0]<We&&(We=Qe.position[0]),Qe.position[1]>qe&&(qe=Qe.position[1]),Qe.position[1]<Ke&&(Ke=Qe.position[1])}We=0-We,Ke=0-Ke;for(let Je=0;Je<je.length;Je++){let Qe=je[Je];Qe.crop=Qe.image.crop({x:Xe-Qe.position[0],y:qe-Qe.position[1],width:Ve.width-We-Xe,height:Ve.height-Ke-qe})}let Ze=[];for(let Je=0;Je<je.length;Je++)Ze[Je]=je[Je].crop;return new Stack$1(Ze)}function min$2$1(){this.checkProcessable("min",{bitDepth:[8,16]});let $e=this[0].min;for(let e=1;e<this.length;e++)for(let t=0;t<$e.length;t++)$e[t]=Math.min($e[t],this[e].min[t]);return $e}function max$2$1(){this.checkProcessable("min",{bitDepth:[8,16]});let $e=this[0].max;for(let e=1;e<this.length;e++)for(let t=0;t<$e.length;t++)$e[t]=Math.max($e[t],this[e].max[t]);return $e}function median$2$1($e){let e=$e.reduce((ze,Xe)=>ze+Xe);if(e===0)throw new Error("unreachable");let t=0,r=0,Ve=e/2,je;for(;;){if($e[t]>0){if(je!==void 0)return(je+t)/2;if(r+=$e[t],r>Ve)return t;r===Ve&&(je=t)}t++}}function mean$2$1($e){let e=0,t=0;for(let r=0;r<$e.length;r++)e+=$e[r],t+=$e[r]*r;return e===0?0:t/e}function median$1$1(){this.checkProcessable("median",{bitDepth:[8,16]});let $e=this.getHistograms({maxSlots:this[0].maxValue+1}),e=new Array($e.length);for(let t=0;t<$e.length;t++){let r=$e[t];e[t]=median$2$1(r)}return e}function histogram$1($e){this.checkProcessable("min",{bitDepth:[8,16]});let e=this[0].getHistogram($e);for(let t=1;t<this.length;t++){let r=this[t].getHistogram($e);for(let Ve=0;Ve<e.length;Ve++)e[Ve]+=r[Ve]}return e}function histograms$1($e){this.checkProcessable("min",{bitDepth:[8,16]});let e=this[0].getHistograms($e),t=e[0].length;for(let r=1;r<this.length;r++){let Ve=this[r].getHistograms($e);for(let je=0;je<e.length;je++)for(let ze=0;ze<t;ze++)e[je][ze]+=Ve[je][ze]}return e}function averageImage$1(){this.checkProcessable("averageImage",{bitDepth:[8,16]});let $e=new Uint32Array(this[0].data.length);for(let r=0;r<this.length;r++){let Ve=this[r];for(let je=0;je<this[0].data.length;je++)$e[je]+=Ve.data[je]}let e=Image$2.createFrom(this[0]),t=e.data;for(let r=0;r<this[0].data.length;r++)t[r]=$e[r]/this.length;return e}function maxImage$1(){this.checkProcessable("max",{bitDepth:[8,16]});let $e=Image$2.createFrom(this[0]);$e.data.fill(0);for(const e of this)for(let t=0;t<$e.data.length;t++)$e.data[t]=Math.max(e.data[t],$e.data[t]);return $e}function minImage$1(){this.checkProcessable("max",{bitDepth:[8,16]});let $e=Image$2.createFrom(this[0]);$e.data.fill($e.maxValue);for(const e of this)for(let t=0;t<$e.data.length;t++)$e.data[t]=Math.min(e.data[t],$e.data[t]);return $e}function extend$2$1($e){$e.extendMethod("matchAndCrop",matchAndCrop$1),$e.extendMethod("getMin",min$2$1),$e.extendMethod("getMax",max$2$1),$e.extendMethod("getMedian",median$1$1),$e.extendMethod("getHistogram",histogram$1),$e.extendMethod("getHistograms",histograms$1),$e.extendMethod("getAverage",averageImage$1),$e.extendMethod("getAverageImage",averageImage$1),$e.extendMethod("getMaxImage",maxImage$1),$e.extendMethod("getMinImage",minImage$1)}let computedPropertyDescriptor$2={configurable:!0,enumerable:!1,get:void 0},Stack$1=class fs extends Array{constructor(e){if(Array.isArray(e)){super(e.length);for(let t=0;t<e.length;t++)this[t]=e[t]}else typeof e=="number"?super(e):super();this.computed=null}static load(e){return Promise.all(e.map(Image$2.load)).then(t=>new fs(t))}static extendMethod(e,t,r={}){let{inPlace:Ve=!1,returnThis:je=!0,partialArgs:ze=[]}=r;return Ve?fs.prototype[e]=function(...Xe){this.computed=null;let We=t.apply(this,[...ze,...Xe]);return je?this:We}:fs.prototype[e]=function(...Xe){return t.apply(this,[...ze,...Xe])},fs}static extendProperty(e,t,r={}){let{partialArgs:Ve=[]}=r;return computedPropertyDescriptor$2.get=function(){if(this.computed===null)this.computed={};else if(hasOwn$2(e,this.computed))return this.computed[e];let je=t.apply(this,Ve);return this.computed[e]=je,je},Object.defineProperty(fs.prototype,e,computedPropertyDescriptor$2),fs}checkProcessable(e,t={}){if(typeof e!="string")throw new TypeError("checkProcessable requires as first parameter the processName (a string)");if(this.size===0)throw new TypeError(`The process: ${e} can not be applied on an empty stack`);this[0].checkProcessable(e,t);for(let r=1;r<this.length;r++){if((t.sameSize===void 0||t.sameSize)&&this[0].width!==this[r].width)throw new TypeError(`The process: ${e} can not be applied if width is not identical in all images`);if((t.sameSize===void 0||t.sameSize)&&this[0].height!==this[r].height)throw new TypeError(`The process: ${e} can not be applied if height is not identical in all images`);if((t.sameAlpha===void 0||t.sameAlpha)&&this[0].alpha!==this[r].alpha)throw new TypeError(`The process: ${e} can not be applied if alpha is not identical in all images`);if((t.sameBitDepth===void 0||t.sameBitDepth)&&this[0].bitDepth!==this[r].bitDepth)throw new TypeError(`The process: ${e} can not be applied if bitDepth is not identical in all images`);if((t.sameColorModel===void 0||t.sameColorModel)&&this[0].colorModel!==this[r].colorModel)throw new TypeError(`The process: ${e} can not be applied if colorModel is not identical in all images`);if((t.sameNumberChannels===void 0||t.sameNumberChannels)&&this[0].channels!==this[r].channels)throw new TypeError(`The process: ${e} can not be applied if channels is not identical in all images`)}}};Array[Symbol.species]||(Stack$1.prototype.map=function($e,e){if(typeof $e!="function")throw new TypeError(`${$e} is not a function`);let t=new Stack$1(this.length);for(let r=0;r<this.length;r++)t[r]=$e.call(e,this[r],r,this);return t});extend$2$1(Stack$1);const isDataURL$1=/^data:[a-z]+\/(?:[a-z]+);base64,/;function load$1($e,e){if(typeof $e=="string")return loadURL$1($e,e);if($e instanceof ArrayBuffer)return Promise.resolve(loadBinary$1(new Uint8Array($e),void 0,e&&e.ignorePalette));if($e.buffer)return Promise.resolve(loadBinary$1($e,void 0,e&&e.ignorePalette));throw new Error('argument to "load" must be a string or buffer.')}function loadBinary$1($e,e,t){const r=imageType$1$1($e);if(r)switch(r.mime){case"image/png":return loadPNG$1($e);case"image/jpeg":return loadJPEG$1($e);case"image/tiff":return loadTIFF$1($e,t);default:return loadGeneric$1(Ve(r.mime))}return loadGeneric$1(Ve("application/octet-stream"));function Ve(je){return e||toBase64URL$1($e,je)}}function loadURL$1($e,e){const t=$e.slice(0,64).match(isDataURL$1);let r;return t!==null?r=Promise.resolve(decode$3$1($e.slice(t[0].length))):r=fetchBinary$1($e,e),r.then(Ve=>{const je=new Uint8Array(Ve);return loadBinary$1(je,t?$e:void 0,e&&e.ignorePalette)})}function loadPNG$1($e){const e=decodePng$1($e);let t=e.channels,r,Ve=0;return t===2||t===4?(r=t-1,Ve=1):r=t,e.palette?loadPNGFromPalette$1(e):new Image$2(e.width,e.height,e.data,{components:r,alpha:Ve,bitDepth:e.depth})}function loadPNGFromPalette$1($e){const e=$e.width*$e.height,t=$e.palette[0].length,r=new Uint8Array(e*t),Ve=8/$e.depth,je=$e.depth<8?Ve:1,ze=parseInt("1".repeat($e.depth),2),Xe=t===4;let We=0;for(let qe=0;qe<e;qe++){const Ke=Math.floor(qe/je);let Ze=$e.data[Ke];$e.depth<8&&(Ze=Ze>>>$e.depth*(Ve-1-qe%Ve)&ze);const Je=$e.palette[Ze];r[We++]=Je[0],r[We++]=Je[1],r[We++]=Je[2],Xe&&(r[We++]=Je[3])}return new Image$2($e.width,$e.height,r,{components:3,alpha:Xe,bitDepth:8})}function loadJPEG$1($e){const e=decode$6($e);let t;e.exif&&(t=getMetadata$1(e.exif));const r=jpegJs$1.decode($e,{useTArray:!0,maxMemoryUsageInMB:1024});let Ve=new Image$2(r.width,r.height,r.data,{meta:t});if(t&&t.tiff.tags.Orientation){const je=t.tiff.tags.Orientation;je>2&&(Ve=Ve.rotate({3:180,4:180,5:90,6:90,7:270,8:270}[je])),[2,4,5,7].includes(je)&&(Ve=Ve.flipX())}return Ve}function loadTIFF$1($e,e){let t=decodeTIFF$1($e);return t.length===1?getImageFromIFD$1(t[0],e):new Stack$1(t.map(function(r){return getImageFromIFD$1(r,e)}))}function getMetadata$1($e){const e={tiff:{fields:$e.fields,tags:$e.map}};return $e.exif&&(e.exif=$e.exif),$e.gps&&(e.gps=$e.gps),e}function getImageFromIFD$1($e,e){if(!e&&$e.type===3){const t=new Uint16Array(3*$e.width*$e.height),r=$e.palette;let Ve=0;for(let je=0;je<$e.data.length;je++){const ze=$e.data[je],Xe=r[ze];t[Ve++]=Xe[0],t[Ve++]=Xe[1],t[Ve++]=Xe[2]}return new Image$2($e.width,$e.height,t,{components:3,alpha:$e.alpha,colorModel:RGB$1$1,bitDepth:16,meta:getMetadata$1($e)})}else return new Image$2($e.width,$e.height,$e.data,{components:$e.type===2?3:1,alpha:$e.alpha,colorModel:$e.type===2?RGB$1$1:GREY$1$1,bitDepth:$e.bitsPerSample.length?$e.bitsPerSample[0]:$e.bitsPerSample,meta:getMetadata$1($e)})}function loadGeneric$1($e,e){return e=e||{},new Promise(function(t,r){let Ve=new DOMImage$1;Ve.onload=function(){let je=Ve.width,ze=Ve.height,Xe=createCanvas$1(je,ze).getContext("2d");Xe.drawImage(Ve,0,0,je,ze);let We=Xe.getImageData(0,0,je,ze).data;t(new Image$2(je,ze,We,e))},Ve.onerror=function(){r(new Error(`Could not load ${$e}`))},Ve.src=$e})}const valueMethods$1={getValueXY($e,e,t){return this.data[(e*this.width+$e)*this.channels+t]},setValueXY($e,e,t,r){return this.data[(e*this.width+$e)*this.channels+t]=r,this.computed=null,this},getValue($e,e){return this.data[$e*this.channels+e]},setValue($e,e,t){return this.data[$e*this.channels+e]=t,this.computed=null,this},getPixelXY($e,e){return this.getPixel(e*this.width+$e)},setPixelXY($e,e,t){return this.setPixel(e*this.width+$e,t)},getPixel($e){const e=new Array(this.channels),t=$e*this.channels;for(let r=0;r<this.channels;r++)e[r]=this.data[t+r];return e},setPixel($e,e){const t=$e*this.channels;for(let r=0;r<e.length;r++)this.data[t+r]=e[r];return this.computed=null,this}};function setValueMethods$1($e){for(const e in valueMethods$1)$e.prototype[e]=valueMethods$1[e]}function getImageParameters$1($e){return{width:$e.width,height:$e.height,components:$e.components,alpha:$e.alpha,colorModel:$e.colorModel,bitDepth:$e.bitDepth}}function getOutputImage$1($e,e,t,r={}){const{out:Ve}=e;if(Ve===void 0)return r.copy?$e.clone():Image$2.createFrom($e,t);{if(!Image$2.isImage(Ve))throw new TypeError("out must be an Image object");const je=Object.assign(getImageParameters$1($e),t);for(const ze in je)if(Ve[ze]!==je[ze])throw new RangeError(`cannot use out. Its ${ze} must be "${je[ze]}" (found "${Ve[ze]}")`);return Ve}}function getOutputImageOrInPlace$1($e,e,t){if(e.inPlace!==void 0&&typeof e.inPlace!="boolean")throw new TypeError("inPlace option must be a boolean");if(e.inPlace){if(e.out!==void 0)throw new TypeError("out option must not be set if inPlace option is true");return $e}return getOutputImage$1($e,e,null,t)}function abs$1($e={}){this.checkProcessable("abs",{bitDepth:[32]});const e=getOutputImageOrInPlace$1(this,$e);return absolute$1(this,e),e}function absolute$1($e,e){for(let t=0;t<$e.data.length;t++)e.data[t]=Math.abs($e.data[t])}function copyAlphaChannel$1($e,e){if($e.alpha===1&&e.alpha===1)for(let t=0;t<$e.size;t++)e.data[t*e.channels+e.components]=$e.data[t*$e.channels+$e.components]}function invert$1($e={}){this.checkProcessable("invert",{bitDepth:[1,8,16]});const e=getOutputImageOrInPlace$1(this,$e);return this.bitDepth===1?invertBinary$1(this,e):(invertColor$1(this,e),this!==e&&copyAlphaChannel$1(this,e)),e}function invertBinary$1($e,e){for(let t=0;t<$e.data.length;t++)e.data[t]=~$e.data[t]}function invertColor$1($e,e){for(let t=0;t<$e.data.length;t+=$e.channels)for(let r=0;r<$e.components;r++)e.data[t+r]=$e.maxValue-$e.data[t+r]}function flipX$1(){this.checkProcessable("flipX",{bitDepth:[8,16]});for(let $e=0;$e<this.height;$e++){let e=$e*this.width*this.channels;for(let t=0;t<Math.floor(this.width/2);t++){let r=t*this.channels+e,Ve=(this.width-t-1)*this.channels+e;for(let je=0;je<this.channels;je++){let ze=this.data[r+je];this.data[r+je]=this.data[Ve+je],this.data[Ve+je]=ze}}}return this}function flipY$1(){this.checkProcessable("flipY",{bitDepth:[8,16]});for(let $e=0;$e<Math.floor(this.height/2);$e++)for(let e=0;e<this.width;e++){let t=e*this.channels+$e*this.width*this.channels,r=e*this.channels+(this.height-1-$e)*this.channels*this.width;for(let Ve=0;Ve<this.channels;Ve++){let je=this.data[t+Ve];this.data[t+Ve]=this.data[r+Ve],this.data[r+Ve]=je}}return this}function blurFilter$1($e={}){const{radius:e=1}=$e;if(e<1)throw new Error("radius must be greater than 1");const t=2*e+1,r=new Array(t);for(let Ve=0;Ve<t;Ve++){r[Ve]=new Array(t);for(let je=0;je<t;je++)r[Ve][je]=1/(t*t)}return this.convolution(r)}var medianQuickselect_min$1={exports:{}};(function($e){(function(){function e(Ve){for(var je=0,ze=Ve.length-1,Xe=void 0,We=void 0,qe=void 0,Ke=r(je,ze);;){if(ze<=je)return Ve[Ke];if(ze==je+1)return Ve[je]>Ve[ze]&&t(Ve,je,ze),Ve[Ke];for(Xe=r(je,ze),Ve[Xe]>Ve[ze]&&t(Ve,Xe,ze),Ve[je]>Ve[ze]&&t(Ve,je,ze),Ve[Xe]>Ve[je]&&t(Ve,Xe,je),t(Ve,Xe,je+1),We=je+1,qe=ze;;){do We++;while(Ve[je]>Ve[We]);do qe--;while(Ve[qe]>Ve[je]);if(qe<We)break;t(Ve,We,qe)}t(Ve,je,qe),qe<=Ke&&(je=We),qe>=Ke&&(ze=qe-1)}}var t=function(Ve,je,ze){var Xe;return Xe=[Ve[ze],Ve[je]],Ve[je]=Xe[0],Ve[ze]=Xe[1],Xe},r=function(Ve,je){return~~((Ve+je)/2)};$e.exports?$e.exports=e:window.median=e})()})(medianQuickselect_min$1);var medianQuickselect_minExports$1=medianQuickselect_min$1.exports;const quickSelectMedian$1=getDefaultExportFromCjs$1(medianQuickselect_minExports$1);function validateArrayOfChannels$1($e,e={}){let{channels:t,allowAlpha:r,defaultAlpha:Ve}=e;return typeof r!="boolean"&&(r=!0),typeof t>"u"?allChannels$1($e,Ve):validateChannels$1($e,t,r)}function allChannels$1($e,e){let t=e?$e.channels:$e.components,r=new Array(t);for(let Ve=0;Ve<t;Ve++)r[Ve]=Ve;return r}function validateChannels$1($e,e,t){Array.isArray(e)||(e=[e]);for(let r=0;r<e.length;r++)e[r]=validateChannel$1($e,e[r],t);return e}function validateChannel$1($e,e,t=!0){if(e===void 0)throw new RangeError(`validateChannel : the channel has to be >=0 and <${$e.channels}`);if(typeof e=="string"){switch($e.colorModel){case GREY$1$1:break;case RGB$1$1:if("rgb".includes(e))switch(e){case"r":e=0;break;case"g":e=1;break;case"b":e=2;break}break;case HSL$1:if("hsl".includes(e))switch(e){case"h":e=0;break;case"s":e=1;break;case"l":e=2;break}break;case HSV$1:if("hsv".includes(e))switch(e){case"h":e=0;break;case"s":e=1;break;case"v":e=2;break}break;case CMYK$1$1:if("cmyk".includes(e))switch(e){case"c":e=0;break;case"m":e=1;break;case"y":e=2;break;case"k":e=3;break}break;default:throw new Error(`Unexpected color model: ${$e.colorModel}`)}if(e==="a"){if(!$e.alpha)throw new Error("validateChannel : the image does not contain alpha channel");e=$e.components}if(typeof e=="string")throw new Error(`validateChannel : undefined channel: ${e}`)}if(e>=$e.channels)throw new RangeError(`validateChannel : the channel has to be >=0 and <${$e.channels}`);if(!t&&e>=$e.components)throw new RangeError("validateChannel : alpha channel may not be selected");return e}function medianFilter$1($e={}){let{radius:e=1,border:t="copy",channels:r}=$e;if(this.checkProcessable("medianFilter",{bitDepth:[8,16]}),e<1)throw new Error("radius must be greater than 0");r=validateArrayOfChannels$1(this,r);let Ve=e,je=e,ze=Image$2.createFrom(this),Xe=(Ve*2+1)*(je*2+1),We=new Array(Xe);for(let qe=0;qe<r.length;qe++){let Ke=r[qe];for(let Ze=je;Ze<this.height-je;Ze++)for(let Je=Ve;Je<this.width-Ve;Je++){let Qe=0;for(let ni=-je;ni<=je;ni++)for(let ri=-Ve;ri<=Ve;ri++){let ii=((Ze+ni)*this.width+Je+ri)*this.channels+Ke;We[Qe++]=this.data[ii]}let ti=(Ze*this.width+Je)*this.channels+Ke;ze.data[ti]=quickSelectMedian$1(We)}}if(this.alpha&&!r.includes(this.channels))for(let qe=this.components;qe<this.data.length;qe=qe+this.channels)ze.data[qe]=this.data[qe];return ze.setBorder({size:[Ve,je],algorithm:t}),ze}function gaussianFilter$1($e={}){let{radius:e=1,sigma:t,channels:r,border:Ve="copy"}=$e;this.checkProcessable("gaussian",{bitDepth:[8,16]});const je=getKernel$1(e,t);return this.convolution([je,je],{border:Ve,channels:r,algorithm:"separable"})}function getKernel$1($e,e){const t=$e*2+1,r=new Array(t),Ve=e||((t-1)*.5-1)*.3+.8,je=-.5/(Ve*Ve);let ze=0;for(let Xe=0;Xe<t;Xe++){const We=Xe-$e,qe=Math.exp(je*We*We);r[Xe]=qe,ze+=qe}for(let Xe=0;Xe<t;Xe++)r[Xe]/=ze;return r}const SOBEL_X$1=[[-1,0,1],[-2,0,2],[-1,0,1]],SOBEL_Y$1=[[-1,-2,-1],[0,0,0],[1,2,1]],SCHARR_X$1=[[3,0,-3],[10,0,-10],[3,0,-3]],SCHARR_Y$1=[[3,10,3],[0,0,0],[-3,-10,-3]];var src$2$1={},fftlib$1={};(function($e){(function(){var e;e=$e;var t={release:"0.3.0",date:"2013-03"};e.toString=function(){return"version "+t.release+", released "+t.date};for(var r=0,Ve=null,je=null,ze={init:function(qe){if(qe!==0&&!(qe&qe-1))r=qe,ze._initArray(),ze._makeBitReversalTable(),ze._makeCosSinTable();else throw new Error("init: radix-2 required")},fft1d:function(qe,Ke){ze.fft(qe,Ke,1)},ifft1d:function(qe,Ke){var Ze=1/r;ze.fft(qe,Ke,-1);for(var Je=0;Je<r;Je++)qe[Je]*=Ze,Ke[Je]*=Ze},bt1d:function(qe,Ke){ze.fft(qe,Ke,-1)},fft2d:function(qe,Ke){for(var Ze=[],Je=[],Qe=0,ti=0;ti<r;ti++){Qe=ti*r;for(var ni=0;ni<r;ni++)Ze[ni]=qe[ni+Qe],Je[ni]=Ke[ni+Qe];ze.fft1d(Ze,Je);for(var ri=0;ri<r;ri++)qe[ri+Qe]=Ze[ri],Ke[ri+Qe]=Je[ri]}for(var ii=0;ii<r;ii++){for(var ei=0;ei<r;ei++)Qe=ii+ei*r,Ze[ei]=qe[Qe],Je[ei]=Ke[Qe];ze.fft1d(Ze,Je);for(var St=0;St<r;St++)Qe=ii+St*r,qe[Qe]=Ze[St],Ke[Qe]=Je[St]}},ifft2d:function(qe,Ke){for(var Ze=[],Je=[],Qe=0,ti=0;ti<r;ti++){Qe=ti*r;for(var ni=0;ni<r;ni++)Ze[ni]=qe[ni+Qe],Je[ni]=Ke[ni+Qe];ze.ifft1d(Ze,Je);for(var ri=0;ri<r;ri++)qe[ri+Qe]=Ze[ri],Ke[ri+Qe]=Je[ri]}for(var ii=0;ii<r;ii++){for(var ei=0;ei<r;ei++)Qe=ii+ei*r,Ze[ei]=qe[Qe],Je[ei]=Ke[Qe];ze.ifft1d(Ze,Je);for(var St=0;St<r;St++)Qe=ii+St*r,qe[Qe]=Ze[St],Ke[Qe]=Je[St]}},fft:function(qe,Ke,Ze){for(var Je,Qe,ti,ni,ri,ii,ei,St,oi,si=r>>2,ai=0;ai<r;ai++)ni=Ve[ai],ai<ni&&(ri=qe[ai],qe[ai]=qe[ni],qe[ni]=ri,ri=Ke[ai],Ke[ai]=Ke[ni],Ke[ni]=ri);for(var ui=1;ui<r;ui<<=1){Qe=0,Je=r/(ui<<1);for(var hi=0;hi<ui;hi++){ii=je[Qe+si],ei=Ze*je[Qe];for(var ci=hi;ci<r;ci+=ui<<1)ti=ci+ui,St=ii*qe[ti]+ei*Ke[ti],oi=ii*Ke[ti]-ei*qe[ti],qe[ti]=qe[ci]-St,qe[ci]+=St,Ke[ti]=Ke[ci]-oi,Ke[ci]+=oi;Qe+=Je}}},_initArray:function(){typeof Uint32Array<"u"?Ve=new Uint32Array(r):Ve=[],typeof Float64Array<"u"?je=new Float64Array(r*1.25):je=[]},_paddingZero:function(){},_makeBitReversalTable:function(){var qe=0,Ke=0,Ze=0;for(Ve[0]=0;++qe<r;){for(Ze=r>>1;Ze<=Ke;)Ke-=Ze,Ze>>=1;Ke+=Ze,Ve[qe]=Ke}},_makeCosSinTable:function(){var qe=r>>1,Ke=r>>2,Ze=r>>3,Je=qe+Ke,Qe=Math.sin(Math.PI/r),ti=2*Qe*Qe,ni=Math.sqrt(ti*(2-ti)),ri=je[Ke]=1,ii=je[0]=0;Qe=2*ti;for(var ei=1;ei<Ze;ei++)ri-=ti,ti+=Qe*ri,ii+=ni,ni-=Qe*ii,je[ei]=ii,je[Ke-ei]=ri;Ze!==0&&(je[Ze]=Math.sqrt(.5));for(var St=0;St<Ke;St++)je[qe-St]=je[St];for(var oi=0;oi<Je;oi++)je[oi+qe]=-je[oi]}},Xe=["init","fft1d","ifft1d","fft2d","ifft2d"],We=0;We<Xe.length;We++)e[Xe[We]]=ze[Xe[We]];return e.bt=ze.bt1d,e.fft=ze.fft1d,e.ifft=ze.ifft1d,e}).call(commonjsGlobal$1)})(fftlib$1);var FFT$1$1=fftlib$1,FFTUtils$1$1={DEBUG:!1,ifft2DArray:function($e,e,t){var r=new Array(e*t),Ve=e/2,je=(t-1)*2;FFT$1$1.init(Ve);for(var ze={re:new Array(Ve),im:new Array(Ve)},Xe=0;Xe<t;Xe++){for(var We=Ve-1;We>=0;We--)ze.re[We]=$e[We*2*t+Xe],ze.im[We]=$e[(We*2+1)*t+Xe];FFT$1$1.bt(ze.re,ze.im);for(var We=Ve-1;We>=0;We--)r[We*2*t+Xe]=ze.re[We],r[(We*2+1)*t+Xe]=ze.im[We]}var qe=new Array(Ve*je);FFT$1$1.init(je);for(var Ke={re:new Array(je),im:new Array(je)},Ze=je*Ve,We=0;We<e;We+=2){Ke.re[0]=r[We*t],Ke.im[0]=r[(We+1)*t];for(var Xe=1;Xe<t;Xe++)Ke.re[Xe]=r[We*t+Xe],Ke.im[Xe]=r[(We+1)*t+Xe],Ke.re[je-Xe]=r[We*t+Xe],Ke.im[je-Xe]=-r[(We+1)*t+Xe];FFT$1$1.bt(Ke.re,Ke.im);for(var Je=We/2*je,Xe=je-1;Xe>=0;Xe--)qe[Je+Xe]=Ke.re[Xe]/Ze}return qe},fft2DArray:function($e,e,t,r){Object.assign({},{inplace:!0});var Ve=t/2+1,je=e*2,ze=new Array(je*Ve);FFT$1$1.init(t);for(var Xe={re:new Array(t),im:new Array(t)},We={re:new Array(t),im:new Array(t)},qe={re:new Array(t),im:new Array(t)},Ke,Ze,Je,Qe,ti,ni=0;ni<e/2;ni++){Ke=ni*2*t,Xe.re=$e.slice(Ke,Ke+t),Ke=(ni*2+1)*t,Xe.im=$e.slice(Ke,Ke+t),FFT$1$1.fft1d(Xe.re,Xe.im),this.reconstructTwoRealFFT(Xe,We,qe),Ze=ni*4*Ve,Je=(ni*4+1)*Ve,Qe=(ni*4+2)*Ve,ti=(ni*4+3)*Ve;for(var ri=Ve-1;ri>=0;ri--)ze[Ze+ri]=We.re[ri],ze[Je+ri]=We.im[ri],ze[Qe+ri]=qe.re[ri],ze[ti+ri]=qe.im[ri]}We=null,qe=null;var ii=new Array(je*Ve);FFT$1$1.init(e);for(var ei={re:new Array(e),im:new Array(e)},St=Ve-1;St>=0;St--){for(var ni=e-1;ni>=0;ni--)ei.re[ni]=ze[ni*2*Ve+St],ei.im[ni]=ze[(ni*2+1)*Ve+St],isNaN(ei.re[ni])&&(ei.re[ni]=0),isNaN(ei.im[ni])&&(ei.im[ni]=0);FFT$1$1.fft1d(ei.re,ei.im);for(var ni=e-1;ni>=0;ni--)ii[ni*2*Ve+St]=ei.re[ni],ii[(ni*2+1)*Ve+St]=ei.im[ni]}return ii},reconstructTwoRealFFT:function($e,e,t){var r=$e.re.length;e.re[0]=$e.re[0],e.im[0]=0,t.re[0]=$e.im[0],t.im[0]=0;for(var Ve,je,ze,Xe,We,qe=r/2;qe>0;qe--)We=r-qe,Ve=.5*($e.re[qe]-$e.re[We]),je=.5*($e.re[qe]+$e.re[We]),ze=.5*($e.im[qe]-$e.im[We]),Xe=.5*($e.im[qe]+$e.im[We]),e.re[qe]=je,e.im[qe]=ze,e.re[We]=je,e.im[We]=-ze,t.re[qe]=Xe,t.im[qe]=-Ve,t.re[We]=Xe,t.im[We]=Ve},convolute2DI:function($e,e,t,r){for(var Ve,je,ze=0;ze<t/2;ze++)for(var Xe=0;Xe<r;Xe++)Ve=$e[ze*2*r+Xe]*e[ze*2*r+Xe]-$e[(ze*2+1)*r+Xe]*e[(ze*2+1)*r+Xe],je=$e[ze*2*r+Xe]*e[(ze*2+1)*r+Xe]+$e[(ze*2+1)*r+Xe]*e[ze*2*r+Xe],$e[ze*2*r+Xe]=Ve,$e[(ze*2+1)*r+Xe]=je},convolute:function($e,e,t,r,Ve){for(var je=new Array(r*t),ze=0;ze<t*r;ze++)je[ze]=$e[ze];je=this.fft2DArray(je,t,r);for(var Xe=e.length,We=e[0].length,qe=new Array(r*t),ze=0;ze<r*t;ze++)qe[ze]=0;for(var Ke,Ze,Je=Math.floor((Xe-1)/2),Qe=Math.floor((We-1)/2),ti=0;ti<Xe;ti++){Ke=(ti-Je+t)%t;for(var ni=0;ni<We;ni++)Ze=(ni-Qe+r)%r,qe[Ke*r+Ze]=e[ti][ni]}qe=this.fft2DArray(qe,t,r);var ri=t*2,ii=r/2+1;return this.convolute2DI(je,qe,ri,ii),this.ifft2DArray(je,ri,ii)},toRadix2:function($e,e,t){var r,Ve,je,ze,Xe=t,We=e;if(!(t!==0&&!(t&t-1))){for(Xe=0;t>>++Xe;);Xe=1<<Xe}if(!(e!==0&&!(e&e-1))){for(We=0;e>>++We;);We=1<<We}if(We==e&&Xe==t)return{data:$e,rows:e,cols:t};var qe=new Array(We*Xe),Ke=Math.floor((We-e)/2)-e,Ze=Math.floor((Xe-t)/2)-t;for(r=0;r<We;r++)for(je=r*Xe,ze=(r-Ke)%e*t,Ve=0;Ve<Xe;Ve++)qe[je+Ve]=$e[ze+(Ve-Ze)%t];return{data:qe,rows:We,cols:Xe}},crop:function($e,e,t,r,Ve,je){if(e==r&&t==Ve)return $e;Object.assign({},je);var ze=new Array(Ve*r),Xe=Math.floor((e-r)/2),We=Math.floor((t-Ve)/2),qe,Ke,Ze,Je;for(Ze=0;Ze<r;Ze++)for(qe=Ze*Ve,Ke=(Ze+Xe)*t,Je=0;Je<Ve;Je++)ze[qe+Je]=$e[Ke+(Je+We)];return ze}},FFTUtils_1$1=FFTUtils$1$1;src$2$1.FFTUtils=FFTUtils_1$1;src$2$1.FFT=fftlib$1;var FFTUtils$2=src$2$1.FFTUtils;function convolutionFFT$1($e,e,t){var r=matrix2Array$1($e),Ve=r.data,je=Object.assign({normalize:!1,divisor:1,rows:r.rows,cols:r.cols},t),ze,Xe;if(je.rows&&je.cols)ze=je.rows,Xe=je.cols;else throw new Error("Invalid number of rows or columns "+ze+" "+Xe);var We=je.divisor,qe,Ke,Ze=e.length,Je=e[0].length;if(je.normalize)for(We=0,qe=0;qe<Ze;qe++)for(Ke=0;Ke<Je;Ke++)We+=e[qe][Ke];if(We===0)throw new RangeError("convolution: The divisor is equal to zero");var Qe=FFTUtils$2.toRadix2(Ve,ze,Xe),ti=FFTUtils$2.convolute(Qe.data,e,Qe.rows,Qe.cols);if(ti=FFTUtils$2.crop(ti,Qe.rows,Qe.cols,ze,Xe),We!=0&&We!=1)for(qe=0;qe<ti.length;qe++)ti[qe]/=We;return ti}function convolutionDirect$1($e,e,t){var r=matrix2Array$1($e),Ve=r.data,je=Object.assign({normalize:!1,divisor:1,rows:r.rows,cols:r.cols},t),ze,Xe;if(je.rows&&je.cols)ze=je.rows,Xe=je.cols;else throw new Error("Invalid number of rows or columns "+ze+" "+Xe);var We=je.divisor,qe=e.length,Ke=e[0].length,Ze,Je,Qe,ti,ni,ri,ii,ei,St;if(je.normalize)for(We=0,Ze=0;Ze<qe;Ze++)for(Je=0;Je<Ke;Je++)We+=e[Ze][Je];if(We===0)throw new RangeError("convolution: The divisor is equal to zero");var oi=new Array(ze*Xe),si=Math.floor(qe/2),ai=Math.floor(Ke/2);for(ti=0;ti<ze;ti++)for(Qe=0;Qe<Xe;Qe++){for(ri=0,Je=0;Je<qe;Je++)for(Ze=0;Ze<Ke;Ze++)ii=e[qe-Je-1][Ke-Ze-1],ei=(ti+Je-si+ze)%ze,St=(Qe+Ze-ai+Xe)%Xe,ni=ei*Xe+St,ri+=Ve[ni]*ii;ni=ti*Xe+Qe,oi[ni]=ri/We}return oi}function LoG$1($e,e,t){var r=1e3;t&&t.factor&&(r=t.factor);var Ve=new Array(e),je,ze,Xe,We;r*=-1;var qe=(e-1)/2,Ke=2*$e*$e;for(je=0;je<e;je++)for(Ve[je]=new Array(e),We=(je-qe)*(je-qe),ze=0;ze<e;ze++)Xe=-((ze-qe)*(ze-qe)+We)/Ke,Ve[je][ze]=Math.round(r*(1+Xe)*Math.exp(Xe));return Ve}function matrix2Array$1($e){var e=$e,t,r;if(typeof $e[0]!="number"){t=$e.length,r=$e[0].length,e=new Array(t*r);for(var Ve=0;Ve<t;Ve++)for(var je=0;je<r;je++)e[Ve*r+je]=$e[Ve][je]}else{var ze=Math.sqrt($e.length);Number.isInteger(ze)&&(t=ze,r=ze)}return{data:e,rows:t,cols:r}}var src$1$1={fft:convolutionFFT$1,direct:convolutionDirect$1,kernelFactory:{LoG:LoG$1},matrix2Array:matrix2Array$1},_isFinite$1=Number.isFinite||function($e){return!(typeof $e!="number"||$e!==$e||$e===1/0||$e===-1/0)},isFinite$1$1=_isFinite$1,isInteger$2=Number.isInteger||function($e){return typeof $e=="number"&&isFinite$1$1($e)&&Math.floor($e)===$e};const isInteger$1$1=getDefaultExportFromCjs$1(isInteger$2);function validateKernel$1($e){let e,t;if(Array.isArray($e))if(Array.isArray($e[0])){if(!($e.length&1)||!($e[0].length&1))throw new RangeError("validateKernel: Kernel rows and columns should be odd numbers");e=Math.floor($e.length/2),t=Math.floor($e[0].length/2)}else{let r=Math.sqrt($e.length);if(isInteger$1$1(r))t=e=Math.floor(Math.sqrt($e.length)/2);else throw new RangeError("validateKernel: Kernel array should be a square");let Ve=new Array(r);for(let je=0;je<r;je++){Ve[je]=new Array(r);for(let ze=0;ze<r;ze++)Ve[je][ze]=$e[je*r+ze]}$e=Ve}else throw new Error(`validateKernel: Invalid Kernel: ${$e}`);return{kernel:$e,kWidth:t,kHeight:e}}function clamp$1($e,e){return Math.round(Math.min(Math.max($e,0),e.maxValue))}function directConvolution$1($e,e,t){if(t===void 0){const je=$e.length+e.length-1;t=new Array(je)}fill$1(t);for(var r=0;r<$e.length;r++)for(var Ve=0;Ve<e.length;Ve++)t[r+Ve]+=$e[r]*e[Ve];return t}function fill$1($e){for(var e=0;e<$e.length;e++)$e[e]=0}function convolutionSeparable$1($e,e,t,r){const Ve=new Array($e.length);let je,ze,Xe,We;We=e[1],Xe=(We.length-1)/2,ze=new Array(t+We.length-1),je=new Array(t);for(let qe=0;qe<r;qe++){for(let Ke=0;Ke<t;Ke++)je[Ke]=$e[qe*t+Ke];directConvolution$1(je,We,ze);for(let Ke=0;Ke<t;Ke++)Ve[qe*t+Ke]=ze[Xe+Ke]}We=e[0],Xe=(We.length-1)/2,ze=new Array(r+We.length-1),je=new Array(r);for(let qe=0;qe<t;qe++){for(let Ke=0;Ke<r;Ke++)je[Ke]=Ve[Ke*t+qe];directConvolution$1(je,We,ze);for(let Ke=0;Ke<r;Ke++)Ve[Ke*t+qe]=ze[Xe+Ke]}return Ve}var matrix$1={};const toString$1$2=Object.prototype.toString;function isAnyArray$1$1($e){const e=toString$1$2.call($e);return e.endsWith("Array]")&&!e.includes("Big")}const libEsm$1=Object.freeze(Object.defineProperty({__proto__:null,isAnyArray:isAnyArray$1$1},Symbol.toStringTag,{value:"Module"})),require$$0$1$1=getAugmentedNamespace$1(libEsm$1);function max$1$1($e){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!isAnyArray$1$1($e))throw new TypeError("input must be an array");if($e.length===0)throw new TypeError("input must not be empty");var t=e.fromIndex,r=t===void 0?0:t,Ve=e.toIndex,je=Ve===void 0?$e.length:Ve;if(r<0||r>=$e.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(je<=r||je>$e.length||!Number.isInteger(je))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var ze=$e[r],Xe=r+1;Xe<je;Xe++)$e[Xe]>ze&&(ze=$e[Xe]);return ze}function min$1$1($e){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!isAnyArray$1$1($e))throw new TypeError("input must be an array");if($e.length===0)throw new TypeError("input must not be empty");var t=e.fromIndex,r=t===void 0?0:t,Ve=e.toIndex,je=Ve===void 0?$e.length:Ve;if(r<0||r>=$e.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(je<=r||je>$e.length||!Number.isInteger(je))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var ze=$e[r],Xe=r+1;Xe<je;Xe++)$e[Xe]<ze&&(ze=$e[Xe]);return ze}function rescale$1$1($e){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(isAnyArray$1$1($e)){if($e.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var t;if(e.output!==void 0){if(!isAnyArray$1$1(e.output))throw new TypeError("output option must be an array if specified");t=e.output}else t=new Array($e.length);var r=min$1$1($e),Ve=max$1$1($e);if(r===Ve)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var je=e.min,ze=je===void 0?e.autoMinMax?r:0:je,Xe=e.max,We=Xe===void 0?e.autoMinMax?Ve:1:Xe;if(ze>=We)throw new RangeError("min option must be smaller than max option");for(var qe=(We-ze)/(Ve-r),Ke=0;Ke<$e.length;Ke++)t[Ke]=($e[Ke]-r)*qe+ze;return t}const libEs6$1=Object.freeze(Object.defineProperty({__proto__:null,default:rescale$1$1},Symbol.toStringTag,{value:"Module"})),require$$1$1=getAugmentedNamespace$1(libEs6$1);Object.defineProperty(matrix$1,"__esModule",{value:!0});var isAnyArray$2=require$$0$1$1,rescale$2=require$$1$1;const indent$1=" ".repeat(2),indentData$1=" ".repeat(4);function inspectMatrix$1(){return inspectMatrixWithOptions$1(this)}function inspectMatrixWithOptions$1($e,e={}){const{maxRows:t=15,maxColumns:r=10,maxNumSize:Ve=8,padMinus:je="auto"}=e;return`${$e.constructor.name} {
${indent$1}[
${indentData$1}${inspectData$1($e,t,r,Ve,je)}
${indent$1}]
${indent$1}rows: ${$e.rows}
${indent$1}columns: ${$e.columns}
}`}function inspectData$1($e,e,t,r,Ve){const{rows:je,columns:ze}=$e,Xe=Math.min(je,e),We=Math.min(ze,t),qe=[];if(Ve==="auto"){Ve=!1;e:for(let Ke=0;Ke<Xe;Ke++)for(let Ze=0;Ze<We;Ze++)if($e.get(Ke,Ze)<0){Ve=!0;break e}}for(let Ke=0;Ke<Xe;Ke++){let Ze=[];for(let Je=0;Je<We;Je++)Ze.push(formatNumber$1($e.get(Ke,Je),r,Ve));qe.push(`${Ze.join(" ")}`)}return We!==ze&&(qe[qe.length-1]+=` ... ${ze-t} more columns`),Xe!==je&&qe.push(`... ${je-e} more rows`),qe.join(`
${indentData$1}`)}function formatNumber$1($e,e,t){return($e>=0&&t?` ${formatNumber2$1($e,e-1)}`:formatNumber2$1($e,e)).padEnd(e)}function formatNumber2$1($e,e){let t=$e.toString();if(t.length<=e)return t;let r=$e.toFixed(e);if(r.length>e&&(r=$e.toFixed(Math.max(0,e-(r.length-e)))),r.length<=e&&!r.startsWith("0.000")&&!r.startsWith("-0.000"))return r;let Ve=$e.toExponential(e);return Ve.length>e&&(Ve=$e.toExponential(Math.max(0,e-(Ve.length-e)))),Ve.slice(0)}function installMathOperations$1($e,e){$e.prototype.add=function(t){return typeof t=="number"?this.addS(t):this.addM(t)},$e.prototype.addS=function(t){for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)+t);return this},$e.prototype.addM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)+t.get(r,Ve));return this},$e.add=function(t,r){return new e(t).add(r)},$e.prototype.sub=function(t){return typeof t=="number"?this.subS(t):this.subM(t)},$e.prototype.subS=function(t){for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)-t);return this},$e.prototype.subM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)-t.get(r,Ve));return this},$e.sub=function(t,r){return new e(t).sub(r)},$e.prototype.subtract=$e.prototype.sub,$e.prototype.subtractS=$e.prototype.subS,$e.prototype.subtractM=$e.prototype.subM,$e.subtract=$e.sub,$e.prototype.mul=function(t){return typeof t=="number"?this.mulS(t):this.mulM(t)},$e.prototype.mulS=function(t){for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)*t);return this},$e.prototype.mulM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)*t.get(r,Ve));return this},$e.mul=function(t,r){return new e(t).mul(r)},$e.prototype.multiply=$e.prototype.mul,$e.prototype.multiplyS=$e.prototype.mulS,$e.prototype.multiplyM=$e.prototype.mulM,$e.multiply=$e.mul,$e.prototype.div=function(t){return typeof t=="number"?this.divS(t):this.divM(t)},$e.prototype.divS=function(t){for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)/t);return this},$e.prototype.divM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)/t.get(r,Ve));return this},$e.div=function(t,r){return new e(t).div(r)},$e.prototype.divide=$e.prototype.div,$e.prototype.divideS=$e.prototype.divS,$e.prototype.divideM=$e.prototype.divM,$e.divide=$e.div,$e.prototype.mod=function(t){return typeof t=="number"?this.modS(t):this.modM(t)},$e.prototype.modS=function(t){for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)%t);return this},$e.prototype.modM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)%t.get(r,Ve));return this},$e.mod=function(t,r){return new e(t).mod(r)},$e.prototype.modulus=$e.prototype.mod,$e.prototype.modulusS=$e.prototype.modS,$e.prototype.modulusM=$e.prototype.modM,$e.modulus=$e.mod,$e.prototype.and=function(t){return typeof t=="number"?this.andS(t):this.andM(t)},$e.prototype.andS=function(t){for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)&t);return this},$e.prototype.andM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)&t.get(r,Ve));return this},$e.and=function(t,r){return new e(t).and(r)},$e.prototype.or=function(t){return typeof t=="number"?this.orS(t):this.orM(t)},$e.prototype.orS=function(t){for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)|t);return this},$e.prototype.orM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)|t.get(r,Ve));return this},$e.or=function(t,r){return new e(t).or(r)},$e.prototype.xor=function(t){return typeof t=="number"?this.xorS(t):this.xorM(t)},$e.prototype.xorS=function(t){for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)^t);return this},$e.prototype.xorM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)^t.get(r,Ve));return this},$e.xor=function(t,r){return new e(t).xor(r)},$e.prototype.leftShift=function(t){return typeof t=="number"?this.leftShiftS(t):this.leftShiftM(t)},$e.prototype.leftShiftS=function(t){for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)<<t);return this},$e.prototype.leftShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)<<t.get(r,Ve));return this},$e.leftShift=function(t,r){return new e(t).leftShift(r)},$e.prototype.signPropagatingRightShift=function(t){return typeof t=="number"?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},$e.prototype.signPropagatingRightShiftS=function(t){for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)>>t);return this},$e.prototype.signPropagatingRightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)>>t.get(r,Ve));return this},$e.signPropagatingRightShift=function(t,r){return new e(t).signPropagatingRightShift(r)},$e.prototype.rightShift=function(t){return typeof t=="number"?this.rightShiftS(t):this.rightShiftM(t)},$e.prototype.rightShiftS=function(t){for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)>>>t);return this},$e.prototype.rightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)>>>t.get(r,Ve));return this},$e.rightShift=function(t,r){return new e(t).rightShift(r)},$e.prototype.zeroFillRightShift=$e.prototype.rightShift,$e.prototype.zeroFillRightShiftS=$e.prototype.rightShiftS,$e.prototype.zeroFillRightShiftM=$e.prototype.rightShiftM,$e.zeroFillRightShift=$e.rightShift,$e.prototype.not=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,~this.get(t,r));return this},$e.not=function(t){return new e(t).not()},$e.prototype.abs=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.abs(this.get(t,r)));return this},$e.abs=function(t){return new e(t).abs()},$e.prototype.acos=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.acos(this.get(t,r)));return this},$e.acos=function(t){return new e(t).acos()},$e.prototype.acosh=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.acosh(this.get(t,r)));return this},$e.acosh=function(t){return new e(t).acosh()},$e.prototype.asin=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.asin(this.get(t,r)));return this},$e.asin=function(t){return new e(t).asin()},$e.prototype.asinh=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.asinh(this.get(t,r)));return this},$e.asinh=function(t){return new e(t).asinh()},$e.prototype.atan=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.atan(this.get(t,r)));return this},$e.atan=function(t){return new e(t).atan()},$e.prototype.atanh=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.atanh(this.get(t,r)));return this},$e.atanh=function(t){return new e(t).atanh()},$e.prototype.cbrt=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.cbrt(this.get(t,r)));return this},$e.cbrt=function(t){return new e(t).cbrt()},$e.prototype.ceil=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.ceil(this.get(t,r)));return this},$e.ceil=function(t){return new e(t).ceil()},$e.prototype.clz32=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.clz32(this.get(t,r)));return this},$e.clz32=function(t){return new e(t).clz32()},$e.prototype.cos=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.cos(this.get(t,r)));return this},$e.cos=function(t){return new e(t).cos()},$e.prototype.cosh=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.cosh(this.get(t,r)));return this},$e.cosh=function(t){return new e(t).cosh()},$e.prototype.exp=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.exp(this.get(t,r)));return this},$e.exp=function(t){return new e(t).exp()},$e.prototype.expm1=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.expm1(this.get(t,r)));return this},$e.expm1=function(t){return new e(t).expm1()},$e.prototype.floor=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.floor(this.get(t,r)));return this},$e.floor=function(t){return new e(t).floor()},$e.prototype.fround=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.fround(this.get(t,r)));return this},$e.fround=function(t){return new e(t).fround()},$e.prototype.log=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.log(this.get(t,r)));return this},$e.log=function(t){return new e(t).log()},$e.prototype.log1p=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.log1p(this.get(t,r)));return this},$e.log1p=function(t){return new e(t).log1p()},$e.prototype.log10=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.log10(this.get(t,r)));return this},$e.log10=function(t){return new e(t).log10()},$e.prototype.log2=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.log2(this.get(t,r)));return this},$e.log2=function(t){return new e(t).log2()},$e.prototype.round=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.round(this.get(t,r)));return this},$e.round=function(t){return new e(t).round()},$e.prototype.sign=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.sign(this.get(t,r)));return this},$e.sign=function(t){return new e(t).sign()},$e.prototype.sin=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.sin(this.get(t,r)));return this},$e.sin=function(t){return new e(t).sin()},$e.prototype.sinh=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.sinh(this.get(t,r)));return this},$e.sinh=function(t){return new e(t).sinh()},$e.prototype.sqrt=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.sqrt(this.get(t,r)));return this},$e.sqrt=function(t){return new e(t).sqrt()},$e.prototype.tan=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.tan(this.get(t,r)));return this},$e.tan=function(t){return new e(t).tan()},$e.prototype.tanh=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.tanh(this.get(t,r)));return this},$e.tanh=function(t){return new e(t).tanh()},$e.prototype.trunc=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.trunc(this.get(t,r)));return this},$e.trunc=function(t){return new e(t).trunc()},$e.pow=function(t,r){return new e(t).pow(r)},$e.prototype.pow=function(t){return typeof t=="number"?this.powS(t):this.powM(t)},$e.prototype.powS=function(t){for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,Math.pow(this.get(r,Ve),t));return this},$e.prototype.powM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,Math.pow(this.get(r,Ve),t.get(r,Ve)));return this}}function checkRowIndex$1($e,e,t){let r=t?$e.rows:$e.rows-1;if(e<0||e>r)throw new RangeError("Row index out of range")}function checkColumnIndex$1($e,e,t){let r=t?$e.columns:$e.columns-1;if(e<0||e>r)throw new RangeError("Column index out of range")}function checkRowVector$1($e,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==$e.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function checkColumnVector$1($e,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==$e.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function checkRowIndices$1($e,e){if(!isAnyArray$2.isAnyArray(e))throw new TypeError("row indices must be an array");for(let t=0;t<e.length;t++)if(e[t]<0||e[t]>=$e.rows)throw new RangeError("row indices are out of range")}function checkColumnIndices$1($e,e){if(!isAnyArray$2.isAnyArray(e))throw new TypeError("column indices must be an array");for(let t=0;t<e.length;t++)if(e[t]<0||e[t]>=$e.columns)throw new RangeError("column indices are out of range")}function checkRange$1($e,e,t,r,Ve){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(checkNumber$1("startRow",e),checkNumber$1("endRow",t),checkNumber$1("startColumn",r),checkNumber$1("endColumn",Ve),e>t||r>Ve||e<0||e>=$e.rows||t<0||t>=$e.rows||r<0||r>=$e.columns||Ve<0||Ve>=$e.columns)throw new RangeError("Submatrix indices are out of range")}function newArray$2$1($e,e=0){let t=[];for(let r=0;r<$e;r++)t.push(e);return t}function checkNumber$1($e,e){if(typeof e!="number")throw new TypeError(`${$e} must be a number`)}function checkNonEmpty$1($e){if($e.isEmpty())throw new Error("Empty matrix has no elements to index")}function sumByRow$1($e){let e=newArray$2$1($e.rows);for(let t=0;t<$e.rows;++t)for(let r=0;r<$e.columns;++r)e[t]+=$e.get(t,r);return e}function sumByColumn$1($e){let e=newArray$2$1($e.columns);for(let t=0;t<$e.rows;++t)for(let r=0;r<$e.columns;++r)e[r]+=$e.get(t,r);return e}function sumAll$1($e){let e=0;for(let t=0;t<$e.rows;t++)for(let r=0;r<$e.columns;r++)e+=$e.get(t,r);return e}function productByRow$1($e){let e=newArray$2$1($e.rows,1);for(let t=0;t<$e.rows;++t)for(let r=0;r<$e.columns;++r)e[t]*=$e.get(t,r);return e}function productByColumn$1($e){let e=newArray$2$1($e.columns,1);for(let t=0;t<$e.rows;++t)for(let r=0;r<$e.columns;++r)e[r]*=$e.get(t,r);return e}function productAll$1($e){let e=1;for(let t=0;t<$e.rows;t++)for(let r=0;r<$e.columns;r++)e*=$e.get(t,r);return e}function varianceByRow$1($e,e,t){const r=$e.rows,Ve=$e.columns,je=[];for(let ze=0;ze<r;ze++){let Xe=0,We=0,qe=0;for(let Ke=0;Ke<Ve;Ke++)qe=$e.get(ze,Ke)-t[ze],Xe+=qe,We+=qe*qe;e?je.push((We-Xe*Xe/Ve)/(Ve-1)):je.push((We-Xe*Xe/Ve)/Ve)}return je}function varianceByColumn$1($e,e,t){const r=$e.rows,Ve=$e.columns,je=[];for(let ze=0;ze<Ve;ze++){let Xe=0,We=0,qe=0;for(let Ke=0;Ke<r;Ke++)qe=$e.get(Ke,ze)-t[ze],Xe+=qe,We+=qe*qe;e?je.push((We-Xe*Xe/r)/(r-1)):je.push((We-Xe*Xe/r)/r)}return je}function varianceAll$1($e,e,t){const r=$e.rows,Ve=$e.columns,je=r*Ve;let ze=0,Xe=0,We=0;for(let qe=0;qe<r;qe++)for(let Ke=0;Ke<Ve;Ke++)We=$e.get(qe,Ke)-t,ze+=We,Xe+=We*We;return e?(Xe-ze*ze/je)/(je-1):(Xe-ze*ze/je)/je}function centerByRow$1($e,e){for(let t=0;t<$e.rows;t++)for(let r=0;r<$e.columns;r++)$e.set(t,r,$e.get(t,r)-e[t])}function centerByColumn$1($e,e){for(let t=0;t<$e.rows;t++)for(let r=0;r<$e.columns;r++)$e.set(t,r,$e.get(t,r)-e[r])}function centerAll$1($e,e){for(let t=0;t<$e.rows;t++)for(let r=0;r<$e.columns;r++)$e.set(t,r,$e.get(t,r)-e)}function getScaleByRow$1($e){const e=[];for(let t=0;t<$e.rows;t++){let r=0;for(let Ve=0;Ve<$e.columns;Ve++)r+=Math.pow($e.get(t,Ve),2)/($e.columns-1);e.push(Math.sqrt(r))}return e}function scaleByRow$1($e,e){for(let t=0;t<$e.rows;t++)for(let r=0;r<$e.columns;r++)$e.set(t,r,$e.get(t,r)/e[t])}function getScaleByColumn$1($e){const e=[];for(let t=0;t<$e.columns;t++){let r=0;for(let Ve=0;Ve<$e.rows;Ve++)r+=Math.pow($e.get(Ve,t),2)/($e.rows-1);e.push(Math.sqrt(r))}return e}function scaleByColumn$1($e,e){for(let t=0;t<$e.rows;t++)for(let r=0;r<$e.columns;r++)$e.set(t,r,$e.get(t,r)/e[r])}function getScaleAll$1($e){const e=$e.size-1;let t=0;for(let r=0;r<$e.columns;r++)for(let Ve=0;Ve<$e.rows;Ve++)t+=Math.pow($e.get(Ve,r),2)/e;return Math.sqrt(t)}function scaleAll$1($e,e){for(let t=0;t<$e.rows;t++)for(let r=0;r<$e.columns;r++)$e.set(t,r,$e.get(t,r)/e)}let AbstractMatrix$1=class Vr{static from1DArray(e,t,r){if(e*t!==r.length)throw new RangeError("data length does not match given dimensions");let Ve=new Matrix$3$1(e,t);for(let je=0;je<e;je++)for(let ze=0;ze<t;ze++)Ve.set(je,ze,r[je*t+ze]);return Ve}static rowVector(e){let t=new Matrix$3$1(1,e.length);for(let r=0;r<e.length;r++)t.set(0,r,e[r]);return t}static columnVector(e){let t=new Matrix$3$1(e.length,1);for(let r=0;r<e.length;r++)t.set(r,0,e[r]);return t}static zeros(e,t){return new Matrix$3$1(e,t)}static ones(e,t){return new Matrix$3$1(e,t).fill(1)}static rand(e,t,r={}){if(typeof r!="object")throw new TypeError("options must be an object");const{random:Ve=Math.random}=r;let je=new Matrix$3$1(e,t);for(let ze=0;ze<e;ze++)for(let Xe=0;Xe<t;Xe++)je.set(ze,Xe,Ve());return je}static randInt(e,t,r={}){if(typeof r!="object")throw new TypeError("options must be an object");const{min:Ve=0,max:je=1e3,random:ze=Math.random}=r;if(!Number.isInteger(Ve))throw new TypeError("min must be an integer");if(!Number.isInteger(je))throw new TypeError("max must be an integer");if(Ve>=je)throw new RangeError("min must be smaller than max");let Xe=je-Ve,We=new Matrix$3$1(e,t);for(let qe=0;qe<e;qe++)for(let Ke=0;Ke<t;Ke++){let Ze=Ve+Math.round(ze()*Xe);We.set(qe,Ke,Ze)}return We}static eye(e,t,r){t===void 0&&(t=e),r===void 0&&(r=1);let Ve=Math.min(e,t),je=this.zeros(e,t);for(let ze=0;ze<Ve;ze++)je.set(ze,ze,r);return je}static diag(e,t,r){let Ve=e.length;t===void 0&&(t=Ve),r===void 0&&(r=t);let je=Math.min(Ve,t,r),ze=this.zeros(t,r);for(let Xe=0;Xe<je;Xe++)ze.set(Xe,Xe,e[Xe]);return ze}static min(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);let r=e.rows,Ve=e.columns,je=new Matrix$3$1(r,Ve);for(let ze=0;ze<r;ze++)for(let Xe=0;Xe<Ve;Xe++)je.set(ze,Xe,Math.min(e.get(ze,Xe),t.get(ze,Xe)));return je}static max(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);let r=e.rows,Ve=e.columns,je=new this(r,Ve);for(let ze=0;ze<r;ze++)for(let Xe=0;Xe<Ve;Xe++)je.set(ze,Xe,Math.max(e.get(ze,Xe),t.get(ze,Xe)));return je}static checkMatrix(e){return Vr.isMatrix(e)?e:new Matrix$3$1(e)}static isMatrix(e){return e!=null&&e.klass==="Matrix"}get size(){return this.rows*this.columns}apply(e){if(typeof e!="function")throw new TypeError("callback must be a function");for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)e.call(this,t,r);return this}to1DArray(){let e=[];for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)e.push(this.get(t,r));return e}to2DArray(){let e=[];for(let t=0;t<this.rows;t++){e.push([]);for(let r=0;r<this.columns;r++)e[t].push(this.get(t,r))}return e}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let e=0;e<this.rows;e++)for(let t=0;t<=e;t++)if(this.get(e,t)!==this.get(t,e))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let e=0;e<this.rows;e++)if(this.get(e,e)!==0)return!1;return!0}isEchelonForm(){let e=0,t=0,r=-1,Ve=!0,je=!1;for(;e<this.rows&&Ve;){for(t=0,je=!1;t<this.columns&&je===!1;)this.get(e,t)===0?t++:this.get(e,t)===1&&t>r?(je=!0,r=t):(Ve=!1,je=!0);e++}return Ve}isReducedEchelonForm(){let e=0,t=0,r=-1,Ve=!0,je=!1;for(;e<this.rows&&Ve;){for(t=0,je=!1;t<this.columns&&je===!1;)this.get(e,t)===0?t++:this.get(e,t)===1&&t>r?(je=!0,r=t):(Ve=!1,je=!0);for(let ze=t+1;ze<this.rows;ze++)this.get(e,ze)!==0&&(Ve=!1);e++}return Ve}echelonForm(){let e=this.clone(),t=0,r=0;for(;t<e.rows&&r<e.columns;){let Ve=t;for(let je=t;je<e.rows;je++)e.get(je,r)>e.get(Ve,r)&&(Ve=je);if(e.get(Ve,r)===0)r++;else{e.swapRows(t,Ve);let je=e.get(t,r);for(let ze=r;ze<e.columns;ze++)e.set(t,ze,e.get(t,ze)/je);for(let ze=t+1;ze<e.rows;ze++){let Xe=e.get(ze,r)/e.get(t,r);e.set(ze,r,0);for(let We=r+1;We<e.columns;We++)e.set(ze,We,e.get(ze,We)-e.get(t,We)*Xe)}t++,r++}}return e}reducedEchelonForm(){let e=this.echelonForm(),t=e.columns,r=e.rows,Ve=r-1;for(;Ve>=0;)if(e.maxRow(Ve)===0)Ve--;else{let je=0,ze=!1;for(;je<r&&ze===!1;)e.get(Ve,je)===1?ze=!0:je++;for(let Xe=0;Xe<Ve;Xe++){let We=e.get(Xe,je);for(let qe=je;qe<t;qe++){let Ke=e.get(Xe,qe)-We*e.get(Ve,qe);e.set(Xe,qe,Ke)}}Ve--}return e}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(e={}){if(typeof e!="object")throw new TypeError("options must be an object");const{rows:t=1,columns:r=1}=e;if(!Number.isInteger(t)||t<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(r)||r<=0)throw new TypeError("columns must be a positive integer");let Ve=new Matrix$3$1(this.rows*t,this.columns*r);for(let je=0;je<t;je++)for(let ze=0;ze<r;ze++)Ve.setSubMatrix(this,this.rows*je,this.columns*ze);return Ve}fill(e){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,e);return this}neg(){return this.mulS(-1)}getRow(e){checkRowIndex$1(this,e);let t=[];for(let r=0;r<this.columns;r++)t.push(this.get(e,r));return t}getRowVector(e){return Matrix$3$1.rowVector(this.getRow(e))}setRow(e,t){checkRowIndex$1(this,e),t=checkRowVector$1(this,t);for(let r=0;r<this.columns;r++)this.set(e,r,t[r]);return this}swapRows(e,t){checkRowIndex$1(this,e),checkRowIndex$1(this,t);for(let r=0;r<this.columns;r++){let Ve=this.get(e,r);this.set(e,r,this.get(t,r)),this.set(t,r,Ve)}return this}getColumn(e){checkColumnIndex$1(this,e);let t=[];for(let r=0;r<this.rows;r++)t.push(this.get(r,e));return t}getColumnVector(e){return Matrix$3$1.columnVector(this.getColumn(e))}setColumn(e,t){checkColumnIndex$1(this,e),t=checkColumnVector$1(this,t);for(let r=0;r<this.rows;r++)this.set(r,e,t[r]);return this}swapColumns(e,t){checkColumnIndex$1(this,e),checkColumnIndex$1(this,t);for(let r=0;r<this.rows;r++){let Ve=this.get(r,e);this.set(r,e,this.get(r,t)),this.set(r,t,Ve)}return this}addRowVector(e){e=checkRowVector$1(this,e);for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)+e[r]);return this}subRowVector(e){e=checkRowVector$1(this,e);for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)-e[r]);return this}mulRowVector(e){e=checkRowVector$1(this,e);for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)*e[r]);return this}divRowVector(e){e=checkRowVector$1(this,e);for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)/e[r]);return this}addColumnVector(e){e=checkColumnVector$1(this,e);for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)+e[t]);return this}subColumnVector(e){e=checkColumnVector$1(this,e);for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)-e[t]);return this}mulColumnVector(e){e=checkColumnVector$1(this,e);for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)*e[t]);return this}divColumnVector(e){e=checkColumnVector$1(this,e);for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)/e[t]);return this}mulRow(e,t){checkRowIndex$1(this,e);for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t);return this}mulColumn(e,t){checkColumnIndex$1(this,e);for(let r=0;r<this.rows;r++)this.set(r,e,this.get(r,e)*t);return this}max(e){if(this.isEmpty())return NaN;switch(e){case"row":{const t=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.get(r,Ve)>t[r]&&(t[r]=this.get(r,Ve));return t}case"column":{const t=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.get(r,Ve)>t[Ve]&&(t[Ve]=this.get(r,Ve));return t}case void 0:{let t=this.get(0,0);for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.get(r,Ve)>t&&(t=this.get(r,Ve));return t}default:throw new Error(`invalid option: ${e}`)}}maxIndex(){checkNonEmpty$1(this);let e=this.get(0,0),t=[0,0];for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.get(r,Ve)>e&&(e=this.get(r,Ve),t[0]=r,t[1]=Ve);return t}min(e){if(this.isEmpty())return NaN;switch(e){case"row":{const t=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.get(r,Ve)<t[r]&&(t[r]=this.get(r,Ve));return t}case"column":{const t=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.get(r,Ve)<t[Ve]&&(t[Ve]=this.get(r,Ve));return t}case void 0:{let t=this.get(0,0);for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.get(r,Ve)<t&&(t=this.get(r,Ve));return t}default:throw new Error(`invalid option: ${e}`)}}minIndex(){checkNonEmpty$1(this);let e=this.get(0,0),t=[0,0];for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.get(r,Ve)<e&&(e=this.get(r,Ve),t[0]=r,t[1]=Ve);return t}maxRow(e){if(checkRowIndex$1(this,e),this.isEmpty())return NaN;let t=this.get(e,0);for(let r=1;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r));return t}maxRowIndex(e){checkRowIndex$1(this,e),checkNonEmpty$1(this);let t=this.get(e,0),r=[e,0];for(let Ve=1;Ve<this.columns;Ve++)this.get(e,Ve)>t&&(t=this.get(e,Ve),r[1]=Ve);return r}minRow(e){if(checkRowIndex$1(this,e),this.isEmpty())return NaN;let t=this.get(e,0);for(let r=1;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r));return t}minRowIndex(e){checkRowIndex$1(this,e),checkNonEmpty$1(this);let t=this.get(e,0),r=[e,0];for(let Ve=1;Ve<this.columns;Ve++)this.get(e,Ve)<t&&(t=this.get(e,Ve),r[1]=Ve);return r}maxColumn(e){if(checkColumnIndex$1(this,e),this.isEmpty())return NaN;let t=this.get(0,e);for(let r=1;r<this.rows;r++)this.get(r,e)>t&&(t=this.get(r,e));return t}maxColumnIndex(e){checkColumnIndex$1(this,e),checkNonEmpty$1(this);let t=this.get(0,e),r=[0,e];for(let Ve=1;Ve<this.rows;Ve++)this.get(Ve,e)>t&&(t=this.get(Ve,e),r[0]=Ve);return r}minColumn(e){if(checkColumnIndex$1(this,e),this.isEmpty())return NaN;let t=this.get(0,e);for(let r=1;r<this.rows;r++)this.get(r,e)<t&&(t=this.get(r,e));return t}minColumnIndex(e){checkColumnIndex$1(this,e),checkNonEmpty$1(this);let t=this.get(0,e),r=[0,e];for(let Ve=1;Ve<this.rows;Ve++)this.get(Ve,e)<t&&(t=this.get(Ve,e),r[0]=Ve);return r}diag(){let e=Math.min(this.rows,this.columns),t=[];for(let r=0;r<e;r++)t.push(this.get(r,r));return t}norm(e="frobenius"){switch(e){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError(`unknown norm type: ${e}`)}}cumulativeSum(){let e=0;for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)e+=this.get(t,r),this.set(t,r,e);return this}dot(e){Vr.isMatrix(e)&&(e=e.to1DArray());let t=this.to1DArray();if(t.length!==e.length)throw new RangeError("vectors do not have the same size");let r=0;for(let Ve=0;Ve<t.length;Ve++)r+=t[Ve]*e[Ve];return r}mmul(e){e=Matrix$3$1.checkMatrix(e);let t=this.rows,r=this.columns,Ve=e.columns,je=new Matrix$3$1(t,Ve),ze=new Float64Array(r);for(let Xe=0;Xe<Ve;Xe++){for(let We=0;We<r;We++)ze[We]=e.get(We,Xe);for(let We=0;We<t;We++){let qe=0;for(let Ke=0;Ke<r;Ke++)qe+=this.get(We,Ke)*ze[Ke];je.set(We,Xe,qe)}}return je}strassen2x2(e){e=Matrix$3$1.checkMatrix(e);let t=new Matrix$3$1(2,2);const r=this.get(0,0),Ve=e.get(0,0),je=this.get(0,1),ze=e.get(0,1),Xe=this.get(1,0),We=e.get(1,0),qe=this.get(1,1),Ke=e.get(1,1),Ze=(r+qe)*(Ve+Ke),Je=(Xe+qe)*Ve,Qe=r*(ze-Ke),ti=qe*(We-Ve),ni=(r+je)*Ke,ri=(Xe-r)*(Ve+ze),ii=(je-qe)*(We+Ke),ei=Ze+ti-ni+ii,St=Qe+ni,oi=Je+ti,si=Ze-Je+Qe+ri;return t.set(0,0,ei),t.set(0,1,St),t.set(1,0,oi),t.set(1,1,si),t}strassen3x3(e){e=Matrix$3$1.checkMatrix(e);let t=new Matrix$3$1(3,3);const r=this.get(0,0),Ve=this.get(0,1),je=this.get(0,2),ze=this.get(1,0),Xe=this.get(1,1),We=this.get(1,2),qe=this.get(2,0),Ke=this.get(2,1),Ze=this.get(2,2),Je=e.get(0,0),Qe=e.get(0,1),ti=e.get(0,2),ni=e.get(1,0),ri=e.get(1,1),ii=e.get(1,2),ei=e.get(2,0),St=e.get(2,1),oi=e.get(2,2),si=(r+Ve+je-ze-Xe-Ke-Ze)*ri,ai=(r-ze)*(-Qe+ri),ui=Xe*(-Je+Qe+ni-ri-ii-ei+oi),hi=(-r+ze+Xe)*(Je-Qe+ri),ci=(ze+Xe)*(-Je+Qe),mi=r*Je,di=(-r+qe+Ke)*(Je-ti+ii),pi=(-r+qe)*(ti-ii),yi=(qe+Ke)*(-Je+ti),gi=(r+Ve+je-Xe-We-qe-Ke)*ii,_i=Ke*(-Je+ti+ni-ri-ii-ei+St),Ai=(-je+Ke+Ze)*(ri+ei-St),ki=(je-Ze)*(ri-St),vi=je*ei,Mi=(Ke+Ze)*(-ei+St),Di=(-je+Xe+We)*(ii+ei-oi),Bi=(je-We)*(ii-oi),Pi=(Xe+We)*(-ei+oi),Fi=Ve*ni,Vi=We*St,Ti=ze*ti,ji=qe*Qe,Gi=Ze*oi,Yi=mi+vi+Fi,Xi=si+hi+ci+mi+Ai+vi+Mi,xi=mi+di+yi+gi+vi+Di+Pi,fi=ai+ui+hi+mi+vi+Di+Bi,$i=ai+hi+ci+mi+Vi,bi=vi+Di+Bi+Pi+Ti,Ci=mi+di+pi+_i+Ai+ki+vi,Ei=Ai+ki+vi+Mi+ji,Si=mi+di+pi+yi+Gi;return t.set(0,0,Yi),t.set(0,1,Xi),t.set(0,2,xi),t.set(1,0,fi),t.set(1,1,$i),t.set(1,2,bi),t.set(2,0,Ci),t.set(2,1,Ei),t.set(2,2,Si),t}mmulStrassen(e){e=Matrix$3$1.checkMatrix(e);let t=this.clone(),r=t.rows,Ve=t.columns,je=e.rows,ze=e.columns;Ve!==je&&console.warn(`Multiplying ${r} x ${Ve} and ${je} x ${ze} matrix: dimensions do not match.`);function Xe(Ze,Je,Qe){let ti=Ze.rows,ni=Ze.columns;if(ti===Je&&ni===Qe)return Ze;{let ri=Vr.zeros(Je,Qe);return ri=ri.setSubMatrix(Ze,0,0),ri}}let We=Math.max(r,je),qe=Math.max(Ve,ze);t=Xe(t,We,qe),e=Xe(e,We,qe);function Ke(Ze,Je,Qe,ti){if(Qe<=512||ti<=512)return Ze.mmul(Je);Qe%2===1&&ti%2===1?(Ze=Xe(Ze,Qe+1,ti+1),Je=Xe(Je,Qe+1,ti+1)):Qe%2===1?(Ze=Xe(Ze,Qe+1,ti),Je=Xe(Je,Qe+1,ti)):ti%2===1&&(Ze=Xe(Ze,Qe,ti+1),Je=Xe(Je,Qe,ti+1));let ni=parseInt(Ze.rows/2,10),ri=parseInt(Ze.columns/2,10),ii=Ze.subMatrix(0,ni-1,0,ri-1),ei=Je.subMatrix(0,ni-1,0,ri-1),St=Ze.subMatrix(0,ni-1,ri,Ze.columns-1),oi=Je.subMatrix(0,ni-1,ri,Je.columns-1),si=Ze.subMatrix(ni,Ze.rows-1,0,ri-1),ai=Je.subMatrix(ni,Je.rows-1,0,ri-1),ui=Ze.subMatrix(ni,Ze.rows-1,ri,Ze.columns-1),hi=Je.subMatrix(ni,Je.rows-1,ri,Je.columns-1),ci=Ke(Vr.add(ii,ui),Vr.add(ei,hi),ni,ri),mi=Ke(Vr.add(si,ui),ei,ni,ri),di=Ke(ii,Vr.sub(oi,hi),ni,ri),pi=Ke(ui,Vr.sub(ai,ei),ni,ri),yi=Ke(Vr.add(ii,St),hi,ni,ri),gi=Ke(Vr.sub(si,ii),Vr.add(ei,oi),ni,ri),_i=Ke(Vr.sub(St,ui),Vr.add(ai,hi),ni,ri),Ai=Vr.add(ci,pi);Ai.sub(yi),Ai.add(_i);let ki=Vr.add(di,yi),vi=Vr.add(mi,pi),Mi=Vr.sub(ci,mi);Mi.add(di),Mi.add(gi);let Di=Vr.zeros(2*Ai.rows,2*Ai.columns);return Di=Di.setSubMatrix(Ai,0,0),Di=Di.setSubMatrix(ki,Ai.rows,0),Di=Di.setSubMatrix(vi,0,Ai.columns),Di=Di.setSubMatrix(Mi,Ai.rows,Ai.columns),Di.subMatrix(0,Qe-1,0,ti-1)}return Ke(t,e,We,qe)}scaleRows(e={}){if(typeof e!="object")throw new TypeError("options must be an object");const{min:t=0,max:r=1}=e;if(!Number.isFinite(t))throw new TypeError("min must be a number");if(!Number.isFinite(r))throw new TypeError("max must be a number");if(t>=r)throw new RangeError("min must be smaller than max");let Ve=new Matrix$3$1(this.rows,this.columns);for(let je=0;je<this.rows;je++){const ze=this.getRow(je);ze.length>0&&rescale$2(ze,{min:t,max:r,output:ze}),Ve.setRow(je,ze)}return Ve}scaleColumns(e={}){if(typeof e!="object")throw new TypeError("options must be an object");const{min:t=0,max:r=1}=e;if(!Number.isFinite(t))throw new TypeError("min must be a number");if(!Number.isFinite(r))throw new TypeError("max must be a number");if(t>=r)throw new RangeError("min must be smaller than max");let Ve=new Matrix$3$1(this.rows,this.columns);for(let je=0;je<this.columns;je++){const ze=this.getColumn(je);ze.length&&rescale$2(ze,{min:t,max:r,output:ze}),Ve.setColumn(je,ze)}return Ve}flipRows(){const e=Math.ceil(this.columns/2);for(let t=0;t<this.rows;t++)for(let r=0;r<e;r++){let Ve=this.get(t,r),je=this.get(t,this.columns-1-r);this.set(t,r,je),this.set(t,this.columns-1-r,Ve)}return this}flipColumns(){const e=Math.ceil(this.rows/2);for(let t=0;t<this.columns;t++)for(let r=0;r<e;r++){let Ve=this.get(r,t),je=this.get(this.rows-1-r,t);this.set(r,t,je),this.set(this.rows-1-r,t,Ve)}return this}kroneckerProduct(e){e=Matrix$3$1.checkMatrix(e);let t=this.rows,r=this.columns,Ve=e.rows,je=e.columns,ze=new Matrix$3$1(t*Ve,r*je);for(let Xe=0;Xe<t;Xe++)for(let We=0;We<r;We++)for(let qe=0;qe<Ve;qe++)for(let Ke=0;Ke<je;Ke++)ze.set(Ve*Xe+qe,je*We+Ke,this.get(Xe,We)*e.get(qe,Ke));return ze}kroneckerSum(e){if(e=Matrix$3$1.checkMatrix(e),!this.isSquare()||!e.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let t=this.rows,r=e.rows,Ve=this.kroneckerProduct(Matrix$3$1.eye(r,r)),je=Matrix$3$1.eye(t,t).kroneckerProduct(e);return Ve.add(je)}transpose(){let e=new Matrix$3$1(this.columns,this.rows);for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)e.set(r,t,this.get(t,r));return e}sortRows(e=compareNumbers$1){for(let t=0;t<this.rows;t++)this.setRow(t,this.getRow(t).sort(e));return this}sortColumns(e=compareNumbers$1){for(let t=0;t<this.columns;t++)this.setColumn(t,this.getColumn(t).sort(e));return this}subMatrix(e,t,r,Ve){checkRange$1(this,e,t,r,Ve);let je=new Matrix$3$1(t-e+1,Ve-r+1);for(let ze=e;ze<=t;ze++)for(let Xe=r;Xe<=Ve;Xe++)je.set(ze-e,Xe-r,this.get(ze,Xe));return je}subMatrixRow(e,t,r){if(t===void 0&&(t=0),r===void 0&&(r=this.columns-1),t>r||t<0||t>=this.columns||r<0||r>=this.columns)throw new RangeError("Argument out of range");let Ve=new Matrix$3$1(e.length,r-t+1);for(let je=0;je<e.length;je++)for(let ze=t;ze<=r;ze++){if(e[je]<0||e[je]>=this.rows)throw new RangeError(`Row index out of range: ${e[je]}`);Ve.set(je,ze-t,this.get(e[je],ze))}return Ve}subMatrixColumn(e,t,r){if(t===void 0&&(t=0),r===void 0&&(r=this.rows-1),t>r||t<0||t>=this.rows||r<0||r>=this.rows)throw new RangeError("Argument out of range");let Ve=new Matrix$3$1(r-t+1,e.length);for(let je=0;je<e.length;je++)for(let ze=t;ze<=r;ze++){if(e[je]<0||e[je]>=this.columns)throw new RangeError(`Column index out of range: ${e[je]}`);Ve.set(ze-t,je,this.get(ze,e[je]))}return Ve}setSubMatrix(e,t,r){if(e=Matrix$3$1.checkMatrix(e),e.isEmpty())return this;let Ve=t+e.rows-1,je=r+e.columns-1;checkRange$1(this,t,Ve,r,je);for(let ze=0;ze<e.rows;ze++)for(let Xe=0;Xe<e.columns;Xe++)this.set(t+ze,r+Xe,e.get(ze,Xe));return this}selection(e,t){checkRowIndices$1(this,e),checkColumnIndices$1(this,t);let r=new Matrix$3$1(e.length,t.length);for(let Ve=0;Ve<e.length;Ve++){let je=e[Ve];for(let ze=0;ze<t.length;ze++){let Xe=t[ze];r.set(Ve,ze,this.get(je,Xe))}}return r}trace(){let e=Math.min(this.rows,this.columns),t=0;for(let r=0;r<e;r++)t+=this.get(r,r);return t}clone(){return this.constructor.copy(this,new Matrix$3$1(this.rows,this.columns))}static copy(e,t){for(const[r,Ve,je]of e.entries())t.set(r,Ve,je);return t}sum(e){switch(e){case"row":return sumByRow$1(this);case"column":return sumByColumn$1(this);case void 0:return sumAll$1(this);default:throw new Error(`invalid option: ${e}`)}}product(e){switch(e){case"row":return productByRow$1(this);case"column":return productByColumn$1(this);case void 0:return productAll$1(this);default:throw new Error(`invalid option: ${e}`)}}mean(e){const t=this.sum(e);switch(e){case"row":{for(let r=0;r<this.rows;r++)t[r]/=this.columns;return t}case"column":{for(let r=0;r<this.columns;r++)t[r]/=this.rows;return t}case void 0:return t/this.size;default:throw new Error(`invalid option: ${e}`)}}variance(e,t={}){if(typeof e=="object"&&(t=e,e=void 0),typeof t!="object")throw new TypeError("options must be an object");const{unbiased:r=!0,mean:Ve=this.mean(e)}=t;if(typeof r!="boolean")throw new TypeError("unbiased must be a boolean");switch(e){case"row":{if(!isAnyArray$2.isAnyArray(Ve))throw new TypeError("mean must be an array");return varianceByRow$1(this,r,Ve)}case"column":{if(!isAnyArray$2.isAnyArray(Ve))throw new TypeError("mean must be an array");return varianceByColumn$1(this,r,Ve)}case void 0:{if(typeof Ve!="number")throw new TypeError("mean must be a number");return varianceAll$1(this,r,Ve)}default:throw new Error(`invalid option: ${e}`)}}standardDeviation(e,t){typeof e=="object"&&(t=e,e=void 0);const r=this.variance(e,t);if(e===void 0)return Math.sqrt(r);for(let Ve=0;Ve<r.length;Ve++)r[Ve]=Math.sqrt(r[Ve]);return r}center(e,t={}){if(typeof e=="object"&&(t=e,e=void 0),typeof t!="object")throw new TypeError("options must be an object");const{center:r=this.mean(e)}=t;switch(e){case"row":{if(!isAnyArray$2.isAnyArray(r))throw new TypeError("center must be an array");return centerByRow$1(this,r),this}case"column":{if(!isAnyArray$2.isAnyArray(r))throw new TypeError("center must be an array");return centerByColumn$1(this,r),this}case void 0:{if(typeof r!="number")throw new TypeError("center must be a number");return centerAll$1(this,r),this}default:throw new Error(`invalid option: ${e}`)}}scale(e,t={}){if(typeof e=="object"&&(t=e,e=void 0),typeof t!="object")throw new TypeError("options must be an object");let r=t.scale;switch(e){case"row":{if(r===void 0)r=getScaleByRow$1(this);else if(!isAnyArray$2.isAnyArray(r))throw new TypeError("scale must be an array");return scaleByRow$1(this,r),this}case"column":{if(r===void 0)r=getScaleByColumn$1(this);else if(!isAnyArray$2.isAnyArray(r))throw new TypeError("scale must be an array");return scaleByColumn$1(this,r),this}case void 0:{if(r===void 0)r=getScaleAll$1(this);else if(typeof r!="number")throw new TypeError("scale must be a number");return scaleAll$1(this,r),this}default:throw new Error(`invalid option: ${e}`)}}toString(e){return inspectMatrixWithOptions$1(this,e)}[Symbol.iterator](){return this.entries()}*entries(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)yield[e,t,this.get(e,t)]}*values(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)yield this.get(e,t)}};AbstractMatrix$1.prototype.klass="Matrix";typeof Symbol<"u"&&(AbstractMatrix$1.prototype[Symbol.for("nodejs.util.inspect.custom")]=inspectMatrix$1);function compareNumbers$1($e,e){return $e-e}function isArrayOfNumbers$1($e){return $e.every(e=>typeof e=="number")}AbstractMatrix$1.random=AbstractMatrix$1.rand;AbstractMatrix$1.randomInt=AbstractMatrix$1.randInt;AbstractMatrix$1.diagonal=AbstractMatrix$1.diag;AbstractMatrix$1.prototype.diagonal=AbstractMatrix$1.prototype.diag;AbstractMatrix$1.identity=AbstractMatrix$1.eye;AbstractMatrix$1.prototype.negate=AbstractMatrix$1.prototype.neg;AbstractMatrix$1.prototype.tensorProduct=AbstractMatrix$1.prototype.kroneckerProduct;var xe$1,Ue$1,fe$2;let Matrix$3$1=(fe$2=class extends AbstractMatrix$1{constructor($e,e){if(super(),Le$2(this,xe$1),D$2(this,"data"),fe$2.isMatrix($e))Be$1(this,xe$1,Ue$1).call(this,$e.rows,$e.columns),fe$2.copy($e,this);else if(Number.isInteger($e)&&$e>=0)Be$1(this,xe$1,Ue$1).call(this,$e,e);else if(isAnyArray$2.isAnyArray($e)){const t=$e;if($e=t.length,e=$e?t[0].length:0,typeof e!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let r=0;r<$e;r++){if(t[r].length!==e)throw new RangeError("Inconsistent array dimensions");if(!isArrayOfNumbers$1(t[r]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(t[r]))}this.rows=$e,this.columns=e}else throw new TypeError("First argument must be a positive number or an array")}set($e,e,t){return this.data[$e][e]=t,this}get($e,e){return this.data[$e][e]}removeRow($e){return checkRowIndex$1(this,$e),this.data.splice($e,1),this.rows-=1,this}addRow($e,e){return e===void 0&&(e=$e,$e=this.rows),checkRowIndex$1(this,$e,!0),e=Float64Array.from(checkRowVector$1(this,e)),this.data.splice($e,0,e),this.rows+=1,this}removeColumn($e){checkColumnIndex$1(this,$e);for(let e=0;e<this.rows;e++){const t=new Float64Array(this.columns-1);for(let r=0;r<$e;r++)t[r]=this.data[e][r];for(let r=$e+1;r<this.columns;r++)t[r-1]=this.data[e][r];this.data[e]=t}return this.columns-=1,this}addColumn($e,e){typeof e>"u"&&(e=$e,$e=this.columns),checkColumnIndex$1(this,$e,!0),e=checkColumnVector$1(this,e);for(let t=0;t<this.rows;t++){const r=new Float64Array(this.columns+1);let Ve=0;for(;Ve<$e;Ve++)r[Ve]=this.data[t][Ve];for(r[Ve++]=e[t];Ve<this.columns+1;Ve++)r[Ve]=this.data[t][Ve-1];this.data[t]=r}return this.columns+=1,this}},xe$1=new WeakSet,Ue$1=function($e,e){if(this.data=[],Number.isInteger(e)&&e>=0)for(let t=0;t<$e;t++)this.data.push(new Float64Array(e));else throw new TypeError("nColumns must be a positive integer");this.rows=$e,this.columns=e},fe$2);installMathOperations$1(AbstractMatrix$1,Matrix$3$1);var Ht$2;const ve$2=class au extends AbstractMatrix$1{constructor(e){if(super(),Le$2(this,Ht$2,void 0),Matrix$3$1.isMatrix(e)){if(!e.isSymmetric())throw new TypeError("not symmetric data");we$2(this,Ht$2,Matrix$3$1.copy(e,new Matrix$3$1(e.rows,e.rows)))}else if(Number.isInteger(e)&&e>=0)we$2(this,Ht$2,new Matrix$3$1(e,e));else if(we$2(this,Ht$2,new Matrix$3$1(e)),!this.isSymmetric())throw new TypeError("not symmetric data")}get size(){return Wt$2(this,Ht$2).size}get rows(){return Wt$2(this,Ht$2).rows}get columns(){return Wt$2(this,Ht$2).columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(e){return Matrix$3$1.isMatrix(e)&&e.klassType==="SymmetricMatrix"}static zeros(e){return new this(e)}static ones(e){return new this(e).fill(1)}clone(){const e=new au(this.diagonalSize);for(const[t,r,Ve]of this.upperRightEntries())e.set(t,r,Ve);return e}toMatrix(){return new Matrix$3$1(this)}get(e,t){return Wt$2(this,Ht$2).get(e,t)}set(e,t,r){return Wt$2(this,Ht$2).set(e,t,r),Wt$2(this,Ht$2).set(t,e,r),this}removeCross(e){return Wt$2(this,Ht$2).removeRow(e),Wt$2(this,Ht$2).removeColumn(e),this}addCross(e,t){t===void 0&&(t=e,e=this.diagonalSize);const r=t.slice();return r.splice(e,1),Wt$2(this,Ht$2).addRow(e,r),Wt$2(this,Ht$2).addColumn(e,t),this}applyMask(e){if(e.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");const t=[];for(const[r,Ve]of e.entries())Ve||t.push(r);t.reverse();for(const r of t)this.removeCross(r);return this}toCompact(){const{diagonalSize:e}=this,t=new Array(e*(e+1)/2);for(let r=0,Ve=0,je=0;je<t.length;je++)t[je]=this.get(Ve,r),++r>=e&&(r=++Ve);return t}static fromCompact(e){const t=e.length,r=(Math.sqrt(8*t+1)-1)/2;if(!Number.isInteger(r))throw new TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(e)}`);const Ve=new au(r);for(let je=0,ze=0,Xe=0;Xe<t;Xe++)Ve.set(je,ze,e[Xe]),++je>=r&&(je=++ze);return Ve}*upperRightEntries(){for(let e=0,t=0;e<this.diagonalSize;void 0){const r=this.get(e,t);yield[e,t,r],++t>=this.diagonalSize&&(t=++e)}}*upperRightValues(){for(let e=0,t=0;e<this.diagonalSize;void 0)yield this.get(e,t),++t>=this.diagonalSize&&(t=++e)}};Ht$2=new WeakMap;let SymmetricMatrix$1=ve$2;SymmetricMatrix$1.prototype.klassType="SymmetricMatrix";let DistanceMatrix$1=class ah extends SymmetricMatrix$1{static isDistanceMatrix(e){return SymmetricMatrix$1.isSymmetricMatrix(e)&&e.klassSubType==="DistanceMatrix"}constructor(e){if(super(e),!this.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix")}set(e,t,r){return e===t&&(r=0),super.set(e,t,r)}addCross(e,t){return t===void 0&&(t=e,e=this.diagonalSize),t=t.slice(),t[e]=0,super.addCross(e,t)}toSymmetricMatrix(){return new SymmetricMatrix$1(this)}clone(){const e=new ah(this.diagonalSize);for(const[t,r,Ve]of this.upperRightEntries())t!==r&&e.set(t,r,Ve);return e}toCompact(){const{diagonalSize:e}=this,t=(e-1)*e/2,r=new Array(t);for(let Ve=1,je=0,ze=0;ze<r.length;ze++)r[ze]=this.get(je,Ve),++Ve>=e&&(Ve=++je+1);return r}static fromCompact(e){const t=e.length,r=(Math.sqrt(8*t+1)+1)/2;if(!Number.isInteger(r))throw new TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(e)}`);const Ve=new this(r);for(let je=1,ze=0,Xe=0;Xe<t;Xe++)Ve.set(je,ze,e[Xe]),++je>=r&&(je=++ze+1);return Ve}};DistanceMatrix$1.prototype.klassSubType="DistanceMatrix";let BaseView$1=class extends AbstractMatrix$1{constructor(e,t,r){super(),this.matrix=e,this.rows=t,this.columns=r}},MatrixColumnView$1=class extends BaseView$1{constructor(e,t){checkColumnIndex$1(e,t),super(e,e.rows,1),this.column=t}set(e,t,r){return this.matrix.set(e,this.column,r),this}get(e){return this.matrix.get(e,this.column)}},MatrixColumnSelectionView$1=class extends BaseView$1{constructor(e,t){checkColumnIndices$1(e,t),super(e,e.rows,t.length),this.columnIndices=t}set(e,t,r){return this.matrix.set(e,this.columnIndices[t],r),this}get(e,t){return this.matrix.get(e,this.columnIndices[t])}},MatrixFlipColumnView$1=class extends BaseView$1{constructor(e){super(e,e.rows,e.columns)}set(e,t,r){return this.matrix.set(e,this.columns-t-1,r),this}get(e,t){return this.matrix.get(e,this.columns-t-1)}},MatrixFlipRowView$1=class extends BaseView$1{constructor(e){super(e,e.rows,e.columns)}set(e,t,r){return this.matrix.set(this.rows-e-1,t,r),this}get(e,t){return this.matrix.get(this.rows-e-1,t)}},MatrixRowView$1=class extends BaseView$1{constructor(e,t){checkRowIndex$1(e,t),super(e,1,e.columns),this.row=t}set(e,t,r){return this.matrix.set(this.row,t,r),this}get(e,t){return this.matrix.get(this.row,t)}},MatrixRowSelectionView$1=class extends BaseView$1{constructor(e,t){checkRowIndices$1(e,t),super(e,t.length,e.columns),this.rowIndices=t}set(e,t,r){return this.matrix.set(this.rowIndices[e],t,r),this}get(e,t){return this.matrix.get(this.rowIndices[e],t)}},MatrixSelectionView$1=class extends BaseView$1{constructor(e,t,r){checkRowIndices$1(e,t),checkColumnIndices$1(e,r),super(e,t.length,r.length),this.rowIndices=t,this.columnIndices=r}set(e,t,r){return this.matrix.set(this.rowIndices[e],this.columnIndices[t],r),this}get(e,t){return this.matrix.get(this.rowIndices[e],this.columnIndices[t])}},MatrixSubView$1=class extends BaseView$1{constructor(e,t,r,Ve,je){checkRange$1(e,t,r,Ve,je),super(e,r-t+1,je-Ve+1),this.startRow=t,this.startColumn=Ve}set(e,t,r){return this.matrix.set(this.startRow+e,this.startColumn+t,r),this}get(e,t){return this.matrix.get(this.startRow+e,this.startColumn+t)}},MatrixTransposeView$1$1=class extends BaseView$1{constructor(e){super(e,e.columns,e.rows)}set(e,t,r){return this.matrix.set(t,e,r),this}get(e,t){return this.matrix.get(t,e)}},WrapperMatrix1D$1=class extends AbstractMatrix$1{constructor(e,t={}){const{rows:r=1}=t;if(e.length%r!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=r,this.columns=e.length/r,this.data=e}set(e,t,r){let Ve=this._calculateIndex(e,t);return this.data[Ve]=r,this}get(e,t){let r=this._calculateIndex(e,t);return this.data[r]}_calculateIndex(e,t){return e*this.columns+t}},WrapperMatrix2D$1=class extends AbstractMatrix$1{constructor(e){super(),this.data=e,this.rows=e.length,this.columns=e[0].length}set(e,t,r){return this.data[e][t]=r,this}get(e,t){return this.data[e][t]}};function wrap$1($e,e){if(isAnyArray$2.isAnyArray($e))return $e[0]&&isAnyArray$2.isAnyArray($e[0])?new WrapperMatrix2D$1($e):new WrapperMatrix1D$1($e,e);throw new Error("the argument is not an array")}let LuDecomposition$1=class{constructor(e){e=WrapperMatrix2D$1.checkMatrix(e);let t=e.clone(),r=t.rows,Ve=t.columns,je=new Float64Array(r),ze=1,Xe,We,qe,Ke,Ze,Je,Qe,ti,ni;for(Xe=0;Xe<r;Xe++)je[Xe]=Xe;for(ti=new Float64Array(r),We=0;We<Ve;We++){for(Xe=0;Xe<r;Xe++)ti[Xe]=t.get(Xe,We);for(Xe=0;Xe<r;Xe++){for(ni=Math.min(Xe,We),Ze=0,qe=0;qe<ni;qe++)Ze+=t.get(Xe,qe)*ti[qe];ti[Xe]-=Ze,t.set(Xe,We,ti[Xe])}for(Ke=We,Xe=We+1;Xe<r;Xe++)Math.abs(ti[Xe])>Math.abs(ti[Ke])&&(Ke=Xe);if(Ke!==We){for(qe=0;qe<Ve;qe++)Je=t.get(Ke,qe),t.set(Ke,qe,t.get(We,qe)),t.set(We,qe,Je);Qe=je[Ke],je[Ke]=je[We],je[We]=Qe,ze=-ze}if(We<r&&t.get(We,We)!==0)for(Xe=We+1;Xe<r;Xe++)t.set(Xe,We,t.get(Xe,We)/t.get(We,We))}this.LU=t,this.pivotVector=je,this.pivotSign=ze}isSingular(){let e=this.LU,t=e.columns;for(let r=0;r<t;r++)if(e.get(r,r)===0)return!0;return!1}solve(e){e=Matrix$3$1.checkMatrix(e);let t=this.LU;if(t.rows!==e.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let r=e.columns,Ve=e.subMatrixRow(this.pivotVector,0,r-1),je=t.columns,ze,Xe,We;for(We=0;We<je;We++)for(ze=We+1;ze<je;ze++)for(Xe=0;Xe<r;Xe++)Ve.set(ze,Xe,Ve.get(ze,Xe)-Ve.get(We,Xe)*t.get(ze,We));for(We=je-1;We>=0;We--){for(Xe=0;Xe<r;Xe++)Ve.set(We,Xe,Ve.get(We,Xe)/t.get(We,We));for(ze=0;ze<We;ze++)for(Xe=0;Xe<r;Xe++)Ve.set(ze,Xe,Ve.get(ze,Xe)-Ve.get(We,Xe)*t.get(ze,We))}return Ve}get determinant(){let e=this.LU;if(!e.isSquare())throw new Error("Matrix must be square");let t=this.pivotSign,r=e.columns;for(let Ve=0;Ve<r;Ve++)t*=e.get(Ve,Ve);return t}get lowerTriangularMatrix(){let e=this.LU,t=e.rows,r=e.columns,Ve=new Matrix$3$1(t,r);for(let je=0;je<t;je++)for(let ze=0;ze<r;ze++)je>ze?Ve.set(je,ze,e.get(je,ze)):je===ze?Ve.set(je,ze,1):Ve.set(je,ze,0);return Ve}get upperTriangularMatrix(){let e=this.LU,t=e.rows,r=e.columns,Ve=new Matrix$3$1(t,r);for(let je=0;je<t;je++)for(let ze=0;ze<r;ze++)je<=ze?Ve.set(je,ze,e.get(je,ze)):Ve.set(je,ze,0);return Ve}get pivotPermutationVector(){return Array.from(this.pivotVector)}};function hypotenuse$1$1($e,e){let t=0;return Math.abs($e)>Math.abs(e)?(t=e/$e,Math.abs($e)*Math.sqrt(1+t*t)):e!==0?(t=$e/e,Math.abs(e)*Math.sqrt(1+t*t)):0}let QrDecomposition$1=class{constructor(e){e=WrapperMatrix2D$1.checkMatrix(e);let t=e.clone(),r=e.rows,Ve=e.columns,je=new Float64Array(Ve),ze,Xe,We,qe;for(We=0;We<Ve;We++){let Ke=0;for(ze=We;ze<r;ze++)Ke=hypotenuse$1$1(Ke,t.get(ze,We));if(Ke!==0){for(t.get(We,We)<0&&(Ke=-Ke),ze=We;ze<r;ze++)t.set(ze,We,t.get(ze,We)/Ke);for(t.set(We,We,t.get(We,We)+1),Xe=We+1;Xe<Ve;Xe++){for(qe=0,ze=We;ze<r;ze++)qe+=t.get(ze,We)*t.get(ze,Xe);for(qe=-qe/t.get(We,We),ze=We;ze<r;ze++)t.set(ze,Xe,t.get(ze,Xe)+qe*t.get(ze,We))}}je[We]=-Ke}this.QR=t,this.Rdiag=je}solve(e){e=Matrix$3$1.checkMatrix(e);let t=this.QR,r=t.rows;if(e.rows!==r)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let Ve=e.columns,je=e.clone(),ze=t.columns,Xe,We,qe,Ke;for(qe=0;qe<ze;qe++)for(We=0;We<Ve;We++){for(Ke=0,Xe=qe;Xe<r;Xe++)Ke+=t.get(Xe,qe)*je.get(Xe,We);for(Ke=-Ke/t.get(qe,qe),Xe=qe;Xe<r;Xe++)je.set(Xe,We,je.get(Xe,We)+Ke*t.get(Xe,qe))}for(qe=ze-1;qe>=0;qe--){for(We=0;We<Ve;We++)je.set(qe,We,je.get(qe,We)/this.Rdiag[qe]);for(Xe=0;Xe<qe;Xe++)for(We=0;We<Ve;We++)je.set(Xe,We,je.get(Xe,We)-je.get(qe,We)*t.get(Xe,qe))}return je.subMatrix(0,ze-1,0,Ve-1)}isFullRank(){let e=this.QR.columns;for(let t=0;t<e;t++)if(this.Rdiag[t]===0)return!1;return!0}get upperTriangularMatrix(){let e=this.QR,t=e.columns,r=new Matrix$3$1(t,t),Ve,je;for(Ve=0;Ve<t;Ve++)for(je=0;je<t;je++)Ve<je?r.set(Ve,je,e.get(Ve,je)):Ve===je?r.set(Ve,je,this.Rdiag[Ve]):r.set(Ve,je,0);return r}get orthogonalMatrix(){let e=this.QR,t=e.rows,r=e.columns,Ve=new Matrix$3$1(t,r),je,ze,Xe,We;for(Xe=r-1;Xe>=0;Xe--){for(je=0;je<t;je++)Ve.set(je,Xe,0);for(Ve.set(Xe,Xe,1),ze=Xe;ze<r;ze++)if(e.get(Xe,Xe)!==0){for(We=0,je=Xe;je<t;je++)We+=e.get(je,Xe)*Ve.get(je,ze);for(We=-We/e.get(Xe,Xe),je=Xe;je<t;je++)Ve.set(je,ze,Ve.get(je,ze)+We*e.get(je,Xe))}}return Ve}},SingularValueDecomposition$1$1=class{constructor(e,t={}){if(e=WrapperMatrix2D$1.checkMatrix(e),e.isEmpty())throw new Error("Matrix must be non-empty");let r=e.rows,Ve=e.columns;const{computeLeftSingularVectors:je=!0,computeRightSingularVectors:ze=!0,autoTranspose:Xe=!1}=t;let We=!!je,qe=!!ze,Ke=!1,Ze;if(r<Ve)if(!Xe)Ze=e.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{Ze=e.transpose(),r=Ze.rows,Ve=Ze.columns,Ke=!0;let mi=We;We=qe,qe=mi}else Ze=e.clone();let Je=Math.min(r,Ve),Qe=Math.min(r+1,Ve),ti=new Float64Array(Qe),ni=new Matrix$3$1(r,Je),ri=new Matrix$3$1(Ve,Ve),ii=new Float64Array(Ve),ei=new Float64Array(r),St=new Float64Array(Qe);for(let mi=0;mi<Qe;mi++)St[mi]=mi;let oi=Math.min(r-1,Ve),si=Math.max(0,Math.min(Ve-2,r)),ai=Math.max(oi,si);for(let mi=0;mi<ai;mi++){if(mi<oi){ti[mi]=0;for(let di=mi;di<r;di++)ti[mi]=hypotenuse$1$1(ti[mi],Ze.get(di,mi));if(ti[mi]!==0){Ze.get(mi,mi)<0&&(ti[mi]=-ti[mi]);for(let di=mi;di<r;di++)Ze.set(di,mi,Ze.get(di,mi)/ti[mi]);Ze.set(mi,mi,Ze.get(mi,mi)+1)}ti[mi]=-ti[mi]}for(let di=mi+1;di<Ve;di++){if(mi<oi&&ti[mi]!==0){let pi=0;for(let yi=mi;yi<r;yi++)pi+=Ze.get(yi,mi)*Ze.get(yi,di);pi=-pi/Ze.get(mi,mi);for(let yi=mi;yi<r;yi++)Ze.set(yi,di,Ze.get(yi,di)+pi*Ze.get(yi,mi))}ii[di]=Ze.get(mi,di)}if(We&&mi<oi)for(let di=mi;di<r;di++)ni.set(di,mi,Ze.get(di,mi));if(mi<si){ii[mi]=0;for(let di=mi+1;di<Ve;di++)ii[mi]=hypotenuse$1$1(ii[mi],ii[di]);if(ii[mi]!==0){ii[mi+1]<0&&(ii[mi]=0-ii[mi]);for(let di=mi+1;di<Ve;di++)ii[di]/=ii[mi];ii[mi+1]+=1}if(ii[mi]=-ii[mi],mi+1<r&&ii[mi]!==0){for(let di=mi+1;di<r;di++)ei[di]=0;for(let di=mi+1;di<r;di++)for(let pi=mi+1;pi<Ve;pi++)ei[di]+=ii[pi]*Ze.get(di,pi);for(let di=mi+1;di<Ve;di++){let pi=-ii[di]/ii[mi+1];for(let yi=mi+1;yi<r;yi++)Ze.set(yi,di,Ze.get(yi,di)+pi*ei[yi])}}if(qe)for(let di=mi+1;di<Ve;di++)ri.set(di,mi,ii[di])}}let ui=Math.min(Ve,r+1);if(oi<Ve&&(ti[oi]=Ze.get(oi,oi)),r<ui&&(ti[ui-1]=0),si+1<ui&&(ii[si]=Ze.get(si,ui-1)),ii[ui-1]=0,We){for(let mi=oi;mi<Je;mi++){for(let di=0;di<r;di++)ni.set(di,mi,0);ni.set(mi,mi,1)}for(let mi=oi-1;mi>=0;mi--)if(ti[mi]!==0){for(let di=mi+1;di<Je;di++){let pi=0;for(let yi=mi;yi<r;yi++)pi+=ni.get(yi,mi)*ni.get(yi,di);pi=-pi/ni.get(mi,mi);for(let yi=mi;yi<r;yi++)ni.set(yi,di,ni.get(yi,di)+pi*ni.get(yi,mi))}for(let di=mi;di<r;di++)ni.set(di,mi,-ni.get(di,mi));ni.set(mi,mi,1+ni.get(mi,mi));for(let di=0;di<mi-1;di++)ni.set(di,mi,0)}else{for(let di=0;di<r;di++)ni.set(di,mi,0);ni.set(mi,mi,1)}}if(qe)for(let mi=Ve-1;mi>=0;mi--){if(mi<si&&ii[mi]!==0)for(let di=mi+1;di<Ve;di++){let pi=0;for(let yi=mi+1;yi<Ve;yi++)pi+=ri.get(yi,mi)*ri.get(yi,di);pi=-pi/ri.get(mi+1,mi);for(let yi=mi+1;yi<Ve;yi++)ri.set(yi,di,ri.get(yi,di)+pi*ri.get(yi,mi))}for(let di=0;di<Ve;di++)ri.set(di,mi,0);ri.set(mi,mi,1)}let hi=ui-1,ci=Number.EPSILON;for(;ui>0;){let mi,di;for(mi=ui-2;mi>=-1&&mi!==-1;mi--){const pi=Number.MIN_VALUE+ci*Math.abs(ti[mi]+Math.abs(ti[mi+1]));if(Math.abs(ii[mi])<=pi||Number.isNaN(ii[mi])){ii[mi]=0;break}}if(mi===ui-2)di=4;else{let pi;for(pi=ui-1;pi>=mi&&pi!==mi;pi--){let yi=(pi!==ui?Math.abs(ii[pi]):0)+(pi!==mi+1?Math.abs(ii[pi-1]):0);if(Math.abs(ti[pi])<=ci*yi){ti[pi]=0;break}}pi===mi?di=3:pi===ui-1?di=1:(di=2,mi=pi)}switch(mi++,di){case 1:{let pi=ii[ui-2];ii[ui-2]=0;for(let yi=ui-2;yi>=mi;yi--){let gi=hypotenuse$1$1(ti[yi],pi),_i=ti[yi]/gi,Ai=pi/gi;if(ti[yi]=gi,yi!==mi&&(pi=-Ai*ii[yi-1],ii[yi-1]=_i*ii[yi-1]),qe)for(let ki=0;ki<Ve;ki++)gi=_i*ri.get(ki,yi)+Ai*ri.get(ki,ui-1),ri.set(ki,ui-1,-Ai*ri.get(ki,yi)+_i*ri.get(ki,ui-1)),ri.set(ki,yi,gi)}break}case 2:{let pi=ii[mi-1];ii[mi-1]=0;for(let yi=mi;yi<ui;yi++){let gi=hypotenuse$1$1(ti[yi],pi),_i=ti[yi]/gi,Ai=pi/gi;if(ti[yi]=gi,pi=-Ai*ii[yi],ii[yi]=_i*ii[yi],We)for(let ki=0;ki<r;ki++)gi=_i*ni.get(ki,yi)+Ai*ni.get(ki,mi-1),ni.set(ki,mi-1,-Ai*ni.get(ki,yi)+_i*ni.get(ki,mi-1)),ni.set(ki,yi,gi)}break}case 3:{const pi=Math.max(Math.abs(ti[ui-1]),Math.abs(ti[ui-2]),Math.abs(ii[ui-2]),Math.abs(ti[mi]),Math.abs(ii[mi])),yi=ti[ui-1]/pi,gi=ti[ui-2]/pi,_i=ii[ui-2]/pi,Ai=ti[mi]/pi,ki=ii[mi]/pi,vi=((gi+yi)*(gi-yi)+_i*_i)/2,Mi=yi*_i*(yi*_i);let Di=0;(vi!==0||Mi!==0)&&(vi<0?Di=0-Math.sqrt(vi*vi+Mi):Di=Math.sqrt(vi*vi+Mi),Di=Mi/(vi+Di));let Bi=(Ai+yi)*(Ai-yi)+Di,Pi=Ai*ki;for(let Fi=mi;Fi<ui-1;Fi++){let Vi=hypotenuse$1$1(Bi,Pi);Vi===0&&(Vi=Number.MIN_VALUE);let Ti=Bi/Vi,ji=Pi/Vi;if(Fi!==mi&&(ii[Fi-1]=Vi),Bi=Ti*ti[Fi]+ji*ii[Fi],ii[Fi]=Ti*ii[Fi]-ji*ti[Fi],Pi=ji*ti[Fi+1],ti[Fi+1]=Ti*ti[Fi+1],qe)for(let Gi=0;Gi<Ve;Gi++)Vi=Ti*ri.get(Gi,Fi)+ji*ri.get(Gi,Fi+1),ri.set(Gi,Fi+1,-ji*ri.get(Gi,Fi)+Ti*ri.get(Gi,Fi+1)),ri.set(Gi,Fi,Vi);if(Vi=hypotenuse$1$1(Bi,Pi),Vi===0&&(Vi=Number.MIN_VALUE),Ti=Bi/Vi,ji=Pi/Vi,ti[Fi]=Vi,Bi=Ti*ii[Fi]+ji*ti[Fi+1],ti[Fi+1]=-ji*ii[Fi]+Ti*ti[Fi+1],Pi=ji*ii[Fi+1],ii[Fi+1]=Ti*ii[Fi+1],We&&Fi<r-1)for(let Gi=0;Gi<r;Gi++)Vi=Ti*ni.get(Gi,Fi)+ji*ni.get(Gi,Fi+1),ni.set(Gi,Fi+1,-ji*ni.get(Gi,Fi)+Ti*ni.get(Gi,Fi+1)),ni.set(Gi,Fi,Vi)}ii[ui-2]=Bi;break}case 4:{if(ti[mi]<=0&&(ti[mi]=ti[mi]<0?-ti[mi]:0,qe))for(let pi=0;pi<=hi;pi++)ri.set(pi,mi,-ri.get(pi,mi));for(;mi<hi&&!(ti[mi]>=ti[mi+1]);){let pi=ti[mi];if(ti[mi]=ti[mi+1],ti[mi+1]=pi,qe&&mi<Ve-1)for(let yi=0;yi<Ve;yi++)pi=ri.get(yi,mi+1),ri.set(yi,mi+1,ri.get(yi,mi)),ri.set(yi,mi,pi);if(We&&mi<r-1)for(let yi=0;yi<r;yi++)pi=ni.get(yi,mi+1),ni.set(yi,mi+1,ni.get(yi,mi)),ni.set(yi,mi,pi);mi++}ui--;break}}}if(Ke){let mi=ri;ri=ni,ni=mi}this.m=r,this.n=Ve,this.s=ti,this.U=ni,this.V=ri}solve(e){let t=e,r=this.threshold,Ve=this.s.length,je=Matrix$3$1.zeros(Ve,Ve);for(let Je=0;Je<Ve;Je++)Math.abs(this.s[Je])<=r?je.set(Je,Je,0):je.set(Je,Je,1/this.s[Je]);let ze=this.U,Xe=this.rightSingularVectors,We=Xe.mmul(je),qe=Xe.rows,Ke=ze.rows,Ze=Matrix$3$1.zeros(qe,Ke);for(let Je=0;Je<qe;Je++)for(let Qe=0;Qe<Ke;Qe++){let ti=0;for(let ni=0;ni<Ve;ni++)ti+=We.get(Je,ni)*ze.get(Qe,ni);Ze.set(Je,Qe,ti)}return Ze.mmul(t)}solveForDiagonal(e){return this.solve(Matrix$3$1.diag(e))}inverse(){let e=this.V,t=this.threshold,r=e.rows,Ve=e.columns,je=new Matrix$3$1(r,this.s.length);for(let Ke=0;Ke<r;Ke++)for(let Ze=0;Ze<Ve;Ze++)Math.abs(this.s[Ze])>t&&je.set(Ke,Ze,e.get(Ke,Ze)/this.s[Ze]);let ze=this.U,Xe=ze.rows,We=ze.columns,qe=new Matrix$3$1(r,Xe);for(let Ke=0;Ke<r;Ke++)for(let Ze=0;Ze<Xe;Ze++){let Je=0;for(let Qe=0;Qe<We;Qe++)Je+=je.get(Ke,Qe)*ze.get(Ze,Qe);qe.set(Ke,Ze,Je)}return qe}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let e=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,t=0,r=this.s;for(let Ve=0,je=r.length;Ve<je;Ve++)r[Ve]>e&&t++;return t}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return Matrix$3$1.diag(this.s)}};function inverse$1$1($e,e=!1){return $e=WrapperMatrix2D$1.checkMatrix($e),e?new SingularValueDecomposition$1$1($e).inverse():solve$1$1($e,Matrix$3$1.eye($e.rows))}function solve$1$1($e,e,t=!1){return $e=WrapperMatrix2D$1.checkMatrix($e),e=WrapperMatrix2D$1.checkMatrix(e),t?new SingularValueDecomposition$1$1($e).solve(e):$e.isSquare()?new LuDecomposition$1($e).solve(e):new QrDecomposition$1($e).solve(e)}function determinant$1($e){if($e=Matrix$3$1.checkMatrix($e),$e.isSquare()){if($e.columns===0)return 1;let e,t,r,Ve;if($e.columns===2)return e=$e.get(0,0),t=$e.get(0,1),r=$e.get(1,0),Ve=$e.get(1,1),e*Ve-t*r;if($e.columns===3){let je,ze,Xe;return je=new MatrixSelectionView$1($e,[1,2],[1,2]),ze=new MatrixSelectionView$1($e,[1,2],[0,2]),Xe=new MatrixSelectionView$1($e,[1,2],[0,1]),e=$e.get(0,0),t=$e.get(0,1),r=$e.get(0,2),e*determinant$1(je)-t*determinant$1(ze)+r*determinant$1(Xe)}else return new LuDecomposition$1($e).determinant}else throw Error("determinant can only be calculated for a square matrix")}function xrange$1($e,e){let t=[];for(let r=0;r<$e;r++)r!==e&&t.push(r);return t}function dependenciesOneRow$1($e,e,t,r=1e-9,Ve=1e-9){if($e>Ve)return new Array(e.rows+1).fill(0);{let je=e.addRow(t,[0]);for(let ze=0;ze<je.rows;ze++)Math.abs(je.get(ze,0))<r&&je.set(ze,0,0);return je.to1DArray()}}function linearDependencies$1($e,e={}){const{thresholdValue:t=1e-9,thresholdError:r=1e-9}=e;$e=Matrix$3$1.checkMatrix($e);let Ve=$e.rows,je=new Matrix$3$1(Ve,Ve);for(let ze=0;ze<Ve;ze++){let Xe=Matrix$3$1.columnVector($e.getRow(ze)),We=$e.subMatrixRow(xrange$1(Ve,ze)).transpose(),qe=new SingularValueDecomposition$1$1(We).solve(Xe),Ke=Matrix$3$1.sub(Xe,We.mmul(qe)).abs().max();je.setRow(ze,dependenciesOneRow$1(Ke,qe,ze,t,r))}return je}function pseudoInverse$1($e,e=Number.EPSILON){if($e=Matrix$3$1.checkMatrix($e),$e.isEmpty())return $e.transpose();let t=new SingularValueDecomposition$1$1($e,{autoTranspose:!0}),r=t.leftSingularVectors,Ve=t.rightSingularVectors,je=t.diagonal;for(let ze=0;ze<je.length;ze++)Math.abs(je[ze])>e?je[ze]=1/je[ze]:je[ze]=0;return Ve.mmul(Matrix$3$1.diag(je).mmul(r.transpose()))}function covariance$2($e,e=$e,t={}){$e=new Matrix$3$1($e);let r=!1;if(typeof e=="object"&&!Matrix$3$1.isMatrix(e)&&!isAnyArray$2.isAnyArray(e)?(t=e,e=$e,r=!0):e=new Matrix$3$1(e),$e.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:Ve=!0}=t;Ve&&($e=$e.center("column"),r||(e=e.center("column")));const je=$e.transpose().mmul(e);for(let ze=0;ze<je.rows;ze++)for(let Xe=0;Xe<je.columns;Xe++)je.set(ze,Xe,je.get(ze,Xe)*(1/($e.rows-1)));return je}function correlation$1($e,e=$e,t={}){$e=new Matrix$3$1($e);let r=!1;if(typeof e=="object"&&!Matrix$3$1.isMatrix(e)&&!isAnyArray$2.isAnyArray(e)?(t=e,e=$e,r=!0):e=new Matrix$3$1(e),$e.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:Ve=!0,scale:je=!0}=t;Ve&&($e.center("column"),r||e.center("column")),je&&($e.scale("column"),r||e.scale("column"));const ze=$e.standardDeviation("column",{unbiased:!0}),Xe=r?ze:e.standardDeviation("column",{unbiased:!0}),We=$e.transpose().mmul(e);for(let qe=0;qe<We.rows;qe++)for(let Ke=0;Ke<We.columns;Ke++)We.set(qe,Ke,We.get(qe,Ke)*(1/(ze[qe]*Xe[Ke]))*(1/($e.rows-1)));return We}let EigenvalueDecomposition$1=class{constructor(e,t={}){const{assumeSymmetric:r=!1}=t;if(e=WrapperMatrix2D$1.checkMatrix(e),!e.isSquare())throw new Error("Matrix is not a square matrix");if(e.isEmpty())throw new Error("Matrix must be non-empty");let Ve=e.columns,je=new Matrix$3$1(Ve,Ve),ze=new Float64Array(Ve),Xe=new Float64Array(Ve),We=e,qe,Ke,Ze=!1;if(r?Ze=!0:Ze=e.isSymmetric(),Ze){for(qe=0;qe<Ve;qe++)for(Ke=0;Ke<Ve;Ke++)je.set(qe,Ke,We.get(qe,Ke));tred2$1(Ve,Xe,ze,je),tql2$1(Ve,Xe,ze,je)}else{let Je=new Matrix$3$1(Ve,Ve),Qe=new Float64Array(Ve);for(Ke=0;Ke<Ve;Ke++)for(qe=0;qe<Ve;qe++)Je.set(qe,Ke,We.get(qe,Ke));orthes$1(Ve,Je,Qe,je),hqr2$1(Ve,Xe,ze,je,Je)}this.n=Ve,this.e=Xe,this.d=ze,this.V=je}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let e=this.n,t=this.e,r=this.d,Ve=new Matrix$3$1(e,e),je,ze;for(je=0;je<e;je++){for(ze=0;ze<e;ze++)Ve.set(je,ze,0);Ve.set(je,je,r[je]),t[je]>0?Ve.set(je,je+1,t[je]):t[je]<0&&Ve.set(je,je-1,t[je])}return Ve}};function tred2$1($e,e,t,r){let Ve,je,ze,Xe,We,qe,Ke,Ze;for(We=0;We<$e;We++)t[We]=r.get($e-1,We);for(Xe=$e-1;Xe>0;Xe--){for(Ze=0,ze=0,qe=0;qe<Xe;qe++)Ze=Ze+Math.abs(t[qe]);if(Ze===0)for(e[Xe]=t[Xe-1],We=0;We<Xe;We++)t[We]=r.get(Xe-1,We),r.set(Xe,We,0),r.set(We,Xe,0);else{for(qe=0;qe<Xe;qe++)t[qe]/=Ze,ze+=t[qe]*t[qe];for(Ve=t[Xe-1],je=Math.sqrt(ze),Ve>0&&(je=-je),e[Xe]=Ze*je,ze=ze-Ve*je,t[Xe-1]=Ve-je,We=0;We<Xe;We++)e[We]=0;for(We=0;We<Xe;We++){for(Ve=t[We],r.set(We,Xe,Ve),je=e[We]+r.get(We,We)*Ve,qe=We+1;qe<=Xe-1;qe++)je+=r.get(qe,We)*t[qe],e[qe]+=r.get(qe,We)*Ve;e[We]=je}for(Ve=0,We=0;We<Xe;We++)e[We]/=ze,Ve+=e[We]*t[We];for(Ke=Ve/(ze+ze),We=0;We<Xe;We++)e[We]-=Ke*t[We];for(We=0;We<Xe;We++){for(Ve=t[We],je=e[We],qe=We;qe<=Xe-1;qe++)r.set(qe,We,r.get(qe,We)-(Ve*e[qe]+je*t[qe]));t[We]=r.get(Xe-1,We),r.set(Xe,We,0)}}t[Xe]=ze}for(Xe=0;Xe<$e-1;Xe++){if(r.set($e-1,Xe,r.get(Xe,Xe)),r.set(Xe,Xe,1),ze=t[Xe+1],ze!==0){for(qe=0;qe<=Xe;qe++)t[qe]=r.get(qe,Xe+1)/ze;for(We=0;We<=Xe;We++){for(je=0,qe=0;qe<=Xe;qe++)je+=r.get(qe,Xe+1)*r.get(qe,We);for(qe=0;qe<=Xe;qe++)r.set(qe,We,r.get(qe,We)-je*t[qe])}}for(qe=0;qe<=Xe;qe++)r.set(qe,Xe+1,0)}for(We=0;We<$e;We++)t[We]=r.get($e-1,We),r.set($e-1,We,0);r.set($e-1,$e-1,1),e[0]=0}function tql2$1($e,e,t,r){let Ve,je,ze,Xe,We,qe,Ke,Ze,Je,Qe,ti,ni,ri,ii,ei,St;for(ze=1;ze<$e;ze++)e[ze-1]=e[ze];e[$e-1]=0;let oi=0,si=0,ai=Number.EPSILON;for(qe=0;qe<$e;qe++){for(si=Math.max(si,Math.abs(t[qe])+Math.abs(e[qe])),Ke=qe;Ke<$e&&!(Math.abs(e[Ke])<=ai*si);)Ke++;if(Ke>qe)do{for(Ve=t[qe],Ze=(t[qe+1]-Ve)/(2*e[qe]),Je=hypotenuse$1$1(Ze,1),Ze<0&&(Je=-Je),t[qe]=e[qe]/(Ze+Je),t[qe+1]=e[qe]*(Ze+Je),Qe=t[qe+1],je=Ve-t[qe],ze=qe+2;ze<$e;ze++)t[ze]-=je;for(oi=oi+je,Ze=t[Ke],ti=1,ni=ti,ri=ti,ii=e[qe+1],ei=0,St=0,ze=Ke-1;ze>=qe;ze--)for(ri=ni,ni=ti,St=ei,Ve=ti*e[ze],je=ti*Ze,Je=hypotenuse$1$1(Ze,e[ze]),e[ze+1]=ei*Je,ei=e[ze]/Je,ti=Ze/Je,Ze=ti*t[ze]-ei*Ve,t[ze+1]=je+ei*(ti*Ve+ei*t[ze]),We=0;We<$e;We++)je=r.get(We,ze+1),r.set(We,ze+1,ei*r.get(We,ze)+ti*je),r.set(We,ze,ti*r.get(We,ze)-ei*je);Ze=-ei*St*ri*ii*e[qe]/Qe,e[qe]=ei*Ze,t[qe]=ti*Ze}while(Math.abs(e[qe])>ai*si);t[qe]=t[qe]+oi,e[qe]=0}for(ze=0;ze<$e-1;ze++){for(We=ze,Ze=t[ze],Xe=ze+1;Xe<$e;Xe++)t[Xe]<Ze&&(We=Xe,Ze=t[Xe]);if(We!==ze)for(t[We]=t[ze],t[ze]=Ze,Xe=0;Xe<$e;Xe++)Ze=r.get(Xe,ze),r.set(Xe,ze,r.get(Xe,We)),r.set(Xe,We,Ze)}}function orthes$1($e,e,t,r){let Ve=0,je=$e-1,ze,Xe,We,qe,Ke,Ze,Je;for(Ze=Ve+1;Ze<=je-1;Ze++){for(Je=0,qe=Ze;qe<=je;qe++)Je=Je+Math.abs(e.get(qe,Ze-1));if(Je!==0){for(We=0,qe=je;qe>=Ze;qe--)t[qe]=e.get(qe,Ze-1)/Je,We+=t[qe]*t[qe];for(Xe=Math.sqrt(We),t[Ze]>0&&(Xe=-Xe),We=We-t[Ze]*Xe,t[Ze]=t[Ze]-Xe,Ke=Ze;Ke<$e;Ke++){for(ze=0,qe=je;qe>=Ze;qe--)ze+=t[qe]*e.get(qe,Ke);for(ze=ze/We,qe=Ze;qe<=je;qe++)e.set(qe,Ke,e.get(qe,Ke)-ze*t[qe])}for(qe=0;qe<=je;qe++){for(ze=0,Ke=je;Ke>=Ze;Ke--)ze+=t[Ke]*e.get(qe,Ke);for(ze=ze/We,Ke=Ze;Ke<=je;Ke++)e.set(qe,Ke,e.get(qe,Ke)-ze*t[Ke])}t[Ze]=Je*t[Ze],e.set(Ze,Ze-1,Je*Xe)}}for(qe=0;qe<$e;qe++)for(Ke=0;Ke<$e;Ke++)r.set(qe,Ke,qe===Ke?1:0);for(Ze=je-1;Ze>=Ve+1;Ze--)if(e.get(Ze,Ze-1)!==0){for(qe=Ze+1;qe<=je;qe++)t[qe]=e.get(qe,Ze-1);for(Ke=Ze;Ke<=je;Ke++){for(Xe=0,qe=Ze;qe<=je;qe++)Xe+=t[qe]*r.get(qe,Ke);for(Xe=Xe/t[Ze]/e.get(Ze,Ze-1),qe=Ze;qe<=je;qe++)r.set(qe,Ke,r.get(qe,Ke)+Xe*t[qe])}}}function hqr2$1($e,e,t,r,Ve){let je=$e-1,ze=0,Xe=$e-1,We=Number.EPSILON,qe=0,Ke=0,Ze=0,Je=0,Qe=0,ti=0,ni=0,ri=0,ii,ei,St,oi,si,ai,ui,hi,ci,mi,di,pi,yi,gi,_i;for(ii=0;ii<$e;ii++)for((ii<ze||ii>Xe)&&(t[ii]=Ve.get(ii,ii),e[ii]=0),ei=Math.max(ii-1,0);ei<$e;ei++)Ke=Ke+Math.abs(Ve.get(ii,ei));for(;je>=ze;){for(oi=je;oi>ze&&(ti=Math.abs(Ve.get(oi-1,oi-1))+Math.abs(Ve.get(oi,oi)),ti===0&&(ti=Ke),!(Math.abs(Ve.get(oi,oi-1))<We*ti));)oi--;if(oi===je)Ve.set(je,je,Ve.get(je,je)+qe),t[je]=Ve.get(je,je),e[je]=0,je--,ri=0;else if(oi===je-1){if(ui=Ve.get(je,je-1)*Ve.get(je-1,je),Ze=(Ve.get(je-1,je-1)-Ve.get(je,je))/2,Je=Ze*Ze+ui,ni=Math.sqrt(Math.abs(Je)),Ve.set(je,je,Ve.get(je,je)+qe),Ve.set(je-1,je-1,Ve.get(je-1,je-1)+qe),hi=Ve.get(je,je),Je>=0){for(ni=Ze>=0?Ze+ni:Ze-ni,t[je-1]=hi+ni,t[je]=t[je-1],ni!==0&&(t[je]=hi-ui/ni),e[je-1]=0,e[je]=0,hi=Ve.get(je,je-1),ti=Math.abs(hi)+Math.abs(ni),Ze=hi/ti,Je=ni/ti,Qe=Math.sqrt(Ze*Ze+Je*Je),Ze=Ze/Qe,Je=Je/Qe,ei=je-1;ei<$e;ei++)ni=Ve.get(je-1,ei),Ve.set(je-1,ei,Je*ni+Ze*Ve.get(je,ei)),Ve.set(je,ei,Je*Ve.get(je,ei)-Ze*ni);for(ii=0;ii<=je;ii++)ni=Ve.get(ii,je-1),Ve.set(ii,je-1,Je*ni+Ze*Ve.get(ii,je)),Ve.set(ii,je,Je*Ve.get(ii,je)-Ze*ni);for(ii=ze;ii<=Xe;ii++)ni=r.get(ii,je-1),r.set(ii,je-1,Je*ni+Ze*r.get(ii,je)),r.set(ii,je,Je*r.get(ii,je)-Ze*ni)}else t[je-1]=hi+Ze,t[je]=hi+Ze,e[je-1]=ni,e[je]=-ni;je=je-2,ri=0}else{if(hi=Ve.get(je,je),ci=0,ui=0,oi<je&&(ci=Ve.get(je-1,je-1),ui=Ve.get(je,je-1)*Ve.get(je-1,je)),ri===10){for(qe+=hi,ii=ze;ii<=je;ii++)Ve.set(ii,ii,Ve.get(ii,ii)-hi);ti=Math.abs(Ve.get(je,je-1))+Math.abs(Ve.get(je-1,je-2)),hi=ci=.75*ti,ui=-.4375*ti*ti}if(ri===30&&(ti=(ci-hi)/2,ti=ti*ti+ui,ti>0)){for(ti=Math.sqrt(ti),ci<hi&&(ti=-ti),ti=hi-ui/((ci-hi)/2+ti),ii=ze;ii<=je;ii++)Ve.set(ii,ii,Ve.get(ii,ii)-ti);qe+=ti,hi=ci=ui=.964}for(ri=ri+1,si=je-2;si>=oi&&(ni=Ve.get(si,si),Qe=hi-ni,ti=ci-ni,Ze=(Qe*ti-ui)/Ve.get(si+1,si)+Ve.get(si,si+1),Je=Ve.get(si+1,si+1)-ni-Qe-ti,Qe=Ve.get(si+2,si+1),ti=Math.abs(Ze)+Math.abs(Je)+Math.abs(Qe),Ze=Ze/ti,Je=Je/ti,Qe=Qe/ti,!(si===oi||Math.abs(Ve.get(si,si-1))*(Math.abs(Je)+Math.abs(Qe))<We*(Math.abs(Ze)*(Math.abs(Ve.get(si-1,si-1))+Math.abs(ni)+Math.abs(Ve.get(si+1,si+1))))));)si--;for(ii=si+2;ii<=je;ii++)Ve.set(ii,ii-2,0),ii>si+2&&Ve.set(ii,ii-3,0);for(St=si;St<=je-1&&(gi=St!==je-1,St!==si&&(Ze=Ve.get(St,St-1),Je=Ve.get(St+1,St-1),Qe=gi?Ve.get(St+2,St-1):0,hi=Math.abs(Ze)+Math.abs(Je)+Math.abs(Qe),hi!==0&&(Ze=Ze/hi,Je=Je/hi,Qe=Qe/hi)),hi!==0);St++)if(ti=Math.sqrt(Ze*Ze+Je*Je+Qe*Qe),Ze<0&&(ti=-ti),ti!==0){for(St!==si?Ve.set(St,St-1,-ti*hi):oi!==si&&Ve.set(St,St-1,-Ve.get(St,St-1)),Ze=Ze+ti,hi=Ze/ti,ci=Je/ti,ni=Qe/ti,Je=Je/Ze,Qe=Qe/Ze,ei=St;ei<$e;ei++)Ze=Ve.get(St,ei)+Je*Ve.get(St+1,ei),gi&&(Ze=Ze+Qe*Ve.get(St+2,ei),Ve.set(St+2,ei,Ve.get(St+2,ei)-Ze*ni)),Ve.set(St,ei,Ve.get(St,ei)-Ze*hi),Ve.set(St+1,ei,Ve.get(St+1,ei)-Ze*ci);for(ii=0;ii<=Math.min(je,St+3);ii++)Ze=hi*Ve.get(ii,St)+ci*Ve.get(ii,St+1),gi&&(Ze=Ze+ni*Ve.get(ii,St+2),Ve.set(ii,St+2,Ve.get(ii,St+2)-Ze*Qe)),Ve.set(ii,St,Ve.get(ii,St)-Ze),Ve.set(ii,St+1,Ve.get(ii,St+1)-Ze*Je);for(ii=ze;ii<=Xe;ii++)Ze=hi*r.get(ii,St)+ci*r.get(ii,St+1),gi&&(Ze=Ze+ni*r.get(ii,St+2),r.set(ii,St+2,r.get(ii,St+2)-Ze*Qe)),r.set(ii,St,r.get(ii,St)-Ze),r.set(ii,St+1,r.get(ii,St+1)-Ze*Je)}}}if(Ke!==0){for(je=$e-1;je>=0;je--)if(Ze=t[je],Je=e[je],Je===0)for(oi=je,Ve.set(je,je,1),ii=je-1;ii>=0;ii--){for(ui=Ve.get(ii,ii)-Ze,Qe=0,ei=oi;ei<=je;ei++)Qe=Qe+Ve.get(ii,ei)*Ve.get(ei,je);if(e[ii]<0)ni=ui,ti=Qe;else if(oi=ii,e[ii]===0?Ve.set(ii,je,ui!==0?-Qe/ui:-Qe/(We*Ke)):(hi=Ve.get(ii,ii+1),ci=Ve.get(ii+1,ii),Je=(t[ii]-Ze)*(t[ii]-Ze)+e[ii]*e[ii],ai=(hi*ti-ni*Qe)/Je,Ve.set(ii,je,ai),Ve.set(ii+1,je,Math.abs(hi)>Math.abs(ni)?(-Qe-ui*ai)/hi:(-ti-ci*ai)/ni)),ai=Math.abs(Ve.get(ii,je)),We*ai*ai>1)for(ei=ii;ei<=je;ei++)Ve.set(ei,je,Ve.get(ei,je)/ai)}else if(Je<0)for(oi=je-1,Math.abs(Ve.get(je,je-1))>Math.abs(Ve.get(je-1,je))?(Ve.set(je-1,je-1,Je/Ve.get(je,je-1)),Ve.set(je-1,je,-(Ve.get(je,je)-Ze)/Ve.get(je,je-1))):(_i=cdiv$1(0,-Ve.get(je-1,je),Ve.get(je-1,je-1)-Ze,Je),Ve.set(je-1,je-1,_i[0]),Ve.set(je-1,je,_i[1])),Ve.set(je,je-1,0),Ve.set(je,je,1),ii=je-2;ii>=0;ii--){for(mi=0,di=0,ei=oi;ei<=je;ei++)mi=mi+Ve.get(ii,ei)*Ve.get(ei,je-1),di=di+Ve.get(ii,ei)*Ve.get(ei,je);if(ui=Ve.get(ii,ii)-Ze,e[ii]<0)ni=ui,Qe=mi,ti=di;else if(oi=ii,e[ii]===0?(_i=cdiv$1(-mi,-di,ui,Je),Ve.set(ii,je-1,_i[0]),Ve.set(ii,je,_i[1])):(hi=Ve.get(ii,ii+1),ci=Ve.get(ii+1,ii),pi=(t[ii]-Ze)*(t[ii]-Ze)+e[ii]*e[ii]-Je*Je,yi=(t[ii]-Ze)*2*Je,pi===0&&yi===0&&(pi=We*Ke*(Math.abs(ui)+Math.abs(Je)+Math.abs(hi)+Math.abs(ci)+Math.abs(ni))),_i=cdiv$1(hi*Qe-ni*mi+Je*di,hi*ti-ni*di-Je*mi,pi,yi),Ve.set(ii,je-1,_i[0]),Ve.set(ii,je,_i[1]),Math.abs(hi)>Math.abs(ni)+Math.abs(Je)?(Ve.set(ii+1,je-1,(-mi-ui*Ve.get(ii,je-1)+Je*Ve.get(ii,je))/hi),Ve.set(ii+1,je,(-di-ui*Ve.get(ii,je)-Je*Ve.get(ii,je-1))/hi)):(_i=cdiv$1(-Qe-ci*Ve.get(ii,je-1),-ti-ci*Ve.get(ii,je),ni,Je),Ve.set(ii+1,je-1,_i[0]),Ve.set(ii+1,je,_i[1]))),ai=Math.max(Math.abs(Ve.get(ii,je-1)),Math.abs(Ve.get(ii,je))),We*ai*ai>1)for(ei=ii;ei<=je;ei++)Ve.set(ei,je-1,Ve.get(ei,je-1)/ai),Ve.set(ei,je,Ve.get(ei,je)/ai)}for(ii=0;ii<$e;ii++)if(ii<ze||ii>Xe)for(ei=ii;ei<$e;ei++)r.set(ii,ei,Ve.get(ii,ei));for(ei=$e-1;ei>=ze;ei--)for(ii=ze;ii<=Xe;ii++){for(ni=0,St=ze;St<=Math.min(ei,Xe);St++)ni=ni+r.get(ii,St)*Ve.get(St,ei);r.set(ii,ei,ni)}}}function cdiv$1($e,e,t,r){let Ve,je;return Math.abs(t)>Math.abs(r)?(Ve=r/t,je=t+Ve*r,[($e+Ve*e)/je,(e-Ve*$e)/je]):(Ve=t/r,je=r+Ve*t,[(Ve*$e+e)/je,(Ve*e-$e)/je])}let CholeskyDecomposition$1=class{constructor(e){if(e=WrapperMatrix2D$1.checkMatrix(e),!e.isSymmetric())throw new Error("Matrix is not symmetric");let t=e,r=t.rows,Ve=new Matrix$3$1(r,r),je=!0,ze,Xe,We;for(Xe=0;Xe<r;Xe++){let qe=0;for(We=0;We<Xe;We++){let Ke=0;for(ze=0;ze<We;ze++)Ke+=Ve.get(We,ze)*Ve.get(Xe,ze);Ke=(t.get(Xe,We)-Ke)/Ve.get(We,We),Ve.set(Xe,We,Ke),qe=qe+Ke*Ke}for(qe=t.get(Xe,Xe)-qe,je&=qe>0,Ve.set(Xe,Xe,Math.sqrt(Math.max(qe,0))),We=Xe+1;We<r;We++)Ve.set(Xe,We,0)}this.L=Ve,this.positiveDefinite=!!je}isPositiveDefinite(){return this.positiveDefinite}solve(e){e=WrapperMatrix2D$1.checkMatrix(e);let t=this.L,r=t.rows;if(e.rows!==r)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");let Ve=e.columns,je=e.clone(),ze,Xe,We;for(We=0;We<r;We++)for(Xe=0;Xe<Ve;Xe++){for(ze=0;ze<We;ze++)je.set(We,Xe,je.get(We,Xe)-je.get(ze,Xe)*t.get(We,ze));je.set(We,Xe,je.get(We,Xe)/t.get(We,We))}for(We=r-1;We>=0;We--)for(Xe=0;Xe<Ve;Xe++){for(ze=We+1;ze<r;ze++)je.set(We,Xe,je.get(We,Xe)-je.get(ze,Xe)*t.get(ze,We));je.set(We,Xe,je.get(We,Xe)/t.get(We,We))}return je}get lowerTriangularMatrix(){return this.L}},nipals$1=class{constructor(e,t={}){e=WrapperMatrix2D$1.checkMatrix(e);let{Y:r}=t;const{scaleScores:Ve=!1,maxIterations:je=1e3,terminationCriteria:ze=1e-10}=t;let Xe;if(r){if(isAnyArray$2.isAnyArray(r)&&typeof r[0]=="number"?r=Matrix$3$1.columnVector(r):r=WrapperMatrix2D$1.checkMatrix(r),r.rows!==e.rows)throw new Error("Y should have the same number of rows as X");Xe=r.getColumnVector(0)}else Xe=e.getColumnVector(0);let We=1,qe,Ke,Ze,Je;for(let Qe=0;Qe<je&&We>ze;Qe++)Ze=e.transpose().mmul(Xe).div(Xe.transpose().mmul(Xe).get(0,0)),Ze=Ze.div(Ze.norm()),qe=e.mmul(Ze).div(Ze.transpose().mmul(Ze).get(0,0)),Qe>0&&(We=qe.clone().sub(Je).pow(2).sum()),Je=qe.clone(),r?(Ke=r.transpose().mmul(qe).div(qe.transpose().mmul(qe).get(0,0)),Ke=Ke.div(Ke.norm()),Xe=r.mmul(Ke).div(Ke.transpose().mmul(Ke).get(0,0))):Xe=qe;if(r){let Qe=e.transpose().mmul(qe).div(qe.transpose().mmul(qe).get(0,0));Qe=Qe.div(Qe.norm());let ti=e.clone().sub(qe.clone().mmul(Qe.transpose())),ni=Xe.transpose().mmul(qe).div(qe.transpose().mmul(qe).get(0,0)),ri=r.clone().sub(qe.clone().mulS(ni.get(0,0)).mmul(Ke.transpose()));this.t=qe,this.p=Qe.transpose(),this.w=Ze.transpose(),this.q=Ke,this.u=Xe,this.s=qe.transpose().mmul(qe),this.xResidual=ti,this.yResidual=ri,this.betas=ni}else this.w=Ze.transpose(),this.s=qe.transpose().mmul(qe).sqrt(),Ve?this.t=qe.clone().div(this.s.get(0,0)):this.t=qe,this.xResidual=e.sub(qe.mmul(Ze.transpose()))}};matrix$1.AbstractMatrix=AbstractMatrix$1;matrix$1.CHO=CholeskyDecomposition$1;matrix$1.CholeskyDecomposition=CholeskyDecomposition$1;matrix$1.DistanceMatrix=DistanceMatrix$1;matrix$1.EVD=EigenvalueDecomposition$1;matrix$1.EigenvalueDecomposition=EigenvalueDecomposition$1;matrix$1.LU=LuDecomposition$1;matrix$1.LuDecomposition=LuDecomposition$1;var Matrix_1$1=matrix$1.Matrix=Matrix$3$1;matrix$1.MatrixColumnSelectionView=MatrixColumnSelectionView$1;matrix$1.MatrixColumnView=MatrixColumnView$1;matrix$1.MatrixFlipColumnView=MatrixFlipColumnView$1;matrix$1.MatrixFlipRowView=MatrixFlipRowView$1;matrix$1.MatrixRowSelectionView=MatrixRowSelectionView$1;matrix$1.MatrixRowView=MatrixRowView$1;matrix$1.MatrixSelectionView=MatrixSelectionView$1;matrix$1.MatrixSubView=MatrixSubView$1;matrix$1.MatrixTransposeView=MatrixTransposeView$1$1;matrix$1.NIPALS=nipals$1;matrix$1.Nipals=nipals$1;matrix$1.QR=QrDecomposition$1;matrix$1.QrDecomposition=QrDecomposition$1;var SVD$1$1=matrix$1.SVD=SingularValueDecomposition$1$1,SingularValueDecomposition_1$1=matrix$1.SingularValueDecomposition=SingularValueDecomposition$1$1;matrix$1.SymmetricMatrix=SymmetricMatrix$1;matrix$1.WrapperMatrix1D=WrapperMatrix1D$1;matrix$1.WrapperMatrix2D=WrapperMatrix2D$1;matrix$1.correlation=correlation$1;matrix$1.covariance=covariance$2;var _default$1=matrix$1.default=Matrix$3$1;matrix$1.determinant=determinant$1;var inverse_1$1=matrix$1.inverse=inverse$1$1;matrix$1.linearDependencies=linearDependencies$1;matrix$1.pseudoInverse=pseudoInverse$1;var solve_1$1=matrix$1.solve=solve$1$1;matrix$1.wrap=wrap$1;const Matrix$2$1=Matrix_1$1,SVD$2=SVD$1$1,SingularValueDecomposition$2=SingularValueDecomposition_1$1;_default$1.Matrix&&_default$1.Matrix;const inverse$2=inverse_1$1,solve$2=solve_1$1;function getSeparatedKernel$1($e){const e=new SVD$2($e,{autoTranspose:!0});if(e.rank!==1)return null;const t=Math.sqrt(e.s[0]),r=e.U.to2DArray().map(je=>je[0]*t),Ve=e.V.to2DArray().map(je=>je[0]*t);return[r,Ve]}function convolution$1($e,e={}){let{channels:t,bitDepth:r,normalize:Ve=!1,divisor:je=1,border:ze="copy",algorithm:Xe="auto"}=e,We={};r&&(We.bitDepth=r);let qe=Image$2.createFrom(this,We);if(t=validateArrayOfChannels$1(this,t),Xe!=="separable")({kernel:$e}=validateKernel$1($e));else if(!Array.isArray($e)||$e.length!==2)throw new RangeError("separable convolution requires two arrays of numbers to represent the kernel");if(Xe==="auto"){let oi=getSeparatedKernel$1($e);oi!==null?(Xe="separable",$e=oi):($e.length>9||$e[0].length>9)&&this.width<=4096&&this.height<=4096?Xe="fft":Xe="direct"}let Ke,Ze;Xe==="separable"?(Ke=Math.floor($e[0].length/2),Ze=Math.floor($e[1].length/2)):(Ke=Math.floor($e.length/2),Ze=Math.floor($e[0].length/2));let Je=qe.isClamped,Qe=new Array(this.height*this.width),ti,ni,ri,ii,ei,St;for(ii=0;ii<t.length;ii++){for(ei=t[ii],ri=0;ri<this.height;ri++)for(ni=0;ni<this.width;ni++)ti=ri*this.width+ni,Qe[ti]=this.data[ti*this.channels+ei];if(Xe==="direct")St=src$1$1.direct(Qe,$e,{rows:this.height,cols:this.width,normalize:Ve,divisor:je});else if(Xe==="separable"){if(St=convolutionSeparable$1(Qe,$e,this.width,this.height),Ve){je=0;for(let oi=0;oi<$e[0].length;oi++)for(let si=0;si<$e[1].length;si++)je+=$e[0][oi]*$e[1][si]}if(je!==1)for(let oi=0;oi<St.length;oi++)St[oi]/=je}else St=src$1$1.fft(Qe,$e,{rows:this.height,cols:this.width,normalize:Ve,divisor:je});for(ri=0;ri<this.height;ri++)for(ni=0;ni<this.width;ni++)ti=ri*this.width+ni,Je?qe.data[ti*this.channels+ei]=clamp$1(St[ti],qe):qe.data[ti*this.channels+ei]=St[ti]}if(this.alpha&&!t.includes(this.channels))for(ni=this.components;ni<this.data.length;ni=ni+this.channels)qe.data[ni]=this.data[ni];return ze!=="periodic"&&qe.setBorder({size:[Ze,Ke],algorithm:ze}),qe}function gradientFilter$1($e={}){let{direction:e="xy",border:t="copy",kernelX:r,kernelY:Ve,channels:je,bitDepth:ze=this.bitDepth}=$e;switch(this.checkProcessable("gradientFilter",{bitDepth:[8,16]}),e){case"x":if(!r)throw new Error("kernelX option is missing");return convolution$1.call(this,r,{channels:je,border:t,bitDepth:ze});case"y":if(!Ve)throw new Error("kernelY option is missing");return convolution$1.call(this,Ve,{channels:je,border:t,bitDepth:ze});case"xy":{if(!r)throw new Error("kernelX option is missing");if(!Ve)throw new Error("kernelY option is missing");const Xe=convolution$1.call(this,r,{channels:je,border:t,bitDepth:32}),We=convolution$1.call(this,Ve,{channels:je,border:t,bitDepth:32});return Xe.hypotenuse(We,{bitDepth:ze,channels:je})}default:throw new Error(`Unknown parameter direction: ${e}`)}}function sobelFilter$1($e){return gradientFilter$1.call(this,Object.assign({},$e,{kernelX:SOBEL_X$1,kernelY:SOBEL_Y$1}))}function scharrFilter$1($e){return gradientFilter$1.call(this,Object.assign({},$e,{kernelX:SCHARR_X$1,kernelY:SCHARR_Y$1}))}var newArray_1$1=newArray$3;function newArray$3($e,e){$e=$e||0;for(var t=new Array($e),r=0;r<$e;r++)t[r]=e;return t}const newArray$1$1=getDefaultExportFromCjs$1(newArray_1$1);function level$1($e={}){let{algorithm:e="range",channels:t,min:r=this.min,max:Ve=this.max}=$e;switch(this.checkProcessable("level",{bitDepth:[8,16,32]}),t=validateArrayOfChannels$1(this,{channels:t}),t.length!==this.channel&&(Array.isArray(r)&&r.length===this.channels&&(r=r.filter((je,ze)=>t.includes(ze))),Array.isArray(Ve)&&Ve.length===this.channels&&(Ve=Ve.filter((je,ze)=>t.includes(ze)))),e){case"range":r<0&&(r=0),Ve>this.maxValue&&(Ve=this.maxValue),Array.isArray(r)||(r=newArray$1$1(t.length,r)),Array.isArray(Ve)||(Ve=newArray$1$1(t.length,Ve)),processImage$1(this,r,Ve,t);break;default:throw new Error(`level: algorithm not implement: ${e}`)}return this}function processImage$1($e,e,t,r){let Ve=1e-5,je=new Array(r.length);for(let ze=0;ze<r.length;ze++)e[ze]===0&&t[ze]===$e.maxValue||t[ze]===e[ze]?je[ze]=0:je[ze]=($e.maxValue+1-Ve)/(t[ze]-e[ze]),e[ze]+=(.5-Ve/2)/je[ze];for(let ze=0;ze<r.length;ze++){let Xe=r[ze];if(je[ze]!==0)for(let We=0;We<$e.data.length;We+=$e.channels)$e.data[We+Xe]=Math.min(Math.max(0,($e.data[We+Xe]-e[ze])*je[ze]+.5|0),$e.maxValue)}}var toString$3=Object.prototype.toString,isArrayType$1=function $e(e){return toString$3.call(e).substr(-6,5)==="Array"};const isArray$1=getDefaultExportFromCjs$1(isArrayType$1);function checkNumberArray$1($e){if(isNaN($e)){if($e instanceof Image$2)return $e.data;if(!isArray$1($e))throw new Error("checkNumberArray: the value should be either a number, array or Image");return $e}else{if($e<=0)throw new Error("checkNumberArray: the value must be greater than 0");return $e}}function add$1($e,e={}){let{channels:t}=e;if(this.checkProcessable("add",{bitDepth:[8,16]}),t=validateArrayOfChannels$1(this,{channels:t}),$e=checkNumberArray$1($e),isNaN($e)){if(this.data.length!==$e.length)throw new Error("add: the data size is different");for(let r=0;r<t.length;r++){let Ve=t[r];for(let je=0;je<this.data.length;je+=this.channels)this.data[je+Ve]=Math.max(0,Math.min(this.maxValue,this.data[je+Ve]+$e[je+Ve]>>0))}}else for(let r=0;r<t.length;r++){let Ve=t[r];for(let je=0;je<this.data.length;je+=this.channels)this.data[je+Ve]=Math.min(this.maxValue,this.data[je+Ve]+$e>>0)}return this}function subtract$1($e,e={}){let{channels:t}=e;if(this.checkProcessable("subtract",{bitDepth:[8,16]}),t=validateArrayOfChannels$1(this,{channels:t}),$e=checkNumberArray$1($e),isNaN($e)){if(this.data.length!==$e.length)throw new Error("subtract: the data size is different");for(let r=0;r<t.length;r++){let Ve=t[r];for(let je=0;je<this.data.length;je+=this.channels)this.data[je+Ve]=Math.max(0,Math.min(this.maxValue,this.data[je+Ve]-$e[je+Ve]>>0))}}else for(let r=0;r<t.length;r++){let Ve=t[r];for(let je=0;je<this.data.length;je+=this.channels)this.data[je+Ve]=Math.max(0,this.data[je+Ve]-$e>>0)}return this}function subtractImage$1($e,e={}){let{channels:t,absolute:r=!1}=e;if(this.checkProcessable("subtractImage",{bitDepth:[8,16]}),this.width!==$e.width||this.height!==$e.height)throw new Error("subtractImage: both images must have the same size");if(this.alpha!==$e.alpha||this.bitDepth!==$e.bitDepth)throw new Error("subtractImage: both images must have the same alpha and bitDepth");if(this.channels!==$e.channels)throw new Error("subtractImage: both images must have the same number of channels");let Ve=this.clone();t=validateArrayOfChannels$1(this,{channels:t});for(let je=0;je<t.length;je++){let ze=t[je];for(let Xe=ze;Xe<this.data.length;Xe+=this.channels){let We=this.data[Xe]-$e.data[Xe];r?Ve.data[Xe]=Math.abs(We):Ve.data[Xe]=Math.max(We,0)}}return Ve}function hypotenuse$2($e,e={}){let{bitDepth:t=this.bitDepth,channels:r}=e;if(this.checkProcessable("hypotenuse",{bitDepth:[8,16,32]}),this.width!==$e.width||this.height!==$e.height)throw new Error("hypotenuse: both images must have the same size");if(this.alpha!==$e.alpha||this.bitDepth!==$e.bitDepth)throw new Error("hypotenuse: both images must have the same alpha and bitDepth");if(this.channels!==$e.channels)throw new Error("hypotenuse: both images must have the same number of channels");let Ve=Image$2.createFrom(this,{bitDepth:t});r=validateArrayOfChannels$1(this,{channels:r});let je=Ve.isClamped;for(let ze=0;ze<r.length;ze++){let Xe=r[ze];for(let We=Xe;We<this.data.length;We+=this.channels){let qe=Math.hypot(this.data[We],$e.data[We]);je?Ve.data[We]=Math.min(Math.max(Math.round(qe),0),Ve.maxValue):Ve.data[We]=qe}}return Ve}function multiply$1($e,e={}){let{channels:t}=e;if(this.checkProcessable("multiply",{bitDepth:[8,16]}),$e<=0)throw new Error("multiply: the value must be greater than 0");if(t=validateArrayOfChannels$1(this,{channels:t}),$e=checkNumberArray$1($e),isNaN($e)){if(this.data.length!==$e.length)throw new Error("multiply: the data size is different");for(let r=0;r<t.length;r++){let Ve=t[r];for(let je=0;je<this.data.length;je+=this.channels)this.data[je+Ve]=Math.max(0,Math.min(this.maxValue,this.data[je+Ve]*$e[je+Ve]>>0))}}else for(let r=0;r<t.length;r++){let Ve=t[r];for(let je=0;je<this.data.length;je+=this.channels)this.data[je+Ve]=Math.min(this.maxValue,this.data[je+Ve]*$e>>0)}return this}function divide$1($e,e={}){let{channels:t}=e;if(this.checkProcessable("divide",{bitDepth:[8,16]}),t=validateArrayOfChannels$1(this,{channels:t}),$e=checkNumberArray$1($e),isNaN($e)){if(this.data.length!==$e.length)throw new Error("divide: the: the data size is different");for(let r=0;r<t.length;r++){let Ve=t[r];for(let je=0;je<this.data.length;je+=this.channels)this.data[je+Ve]=Math.max(0,Math.min(this.maxValue,this.data[je+Ve]/$e[je+Ve]>>0))}}else for(let r=0;r<t.length;r++){let Ve=t[r];for(let je=0;je<this.data.length;je+=this.channels)this.data[je+Ve]=Math.min(this.maxValue,this.data[je+Ve]/$e>>0)}return this}let BaseRegression$1=class lh{constructor(){if(new.target===lh)throw new Error("BaseRegression must be subclassed")}predict(e){if(typeof e=="number")return this._predict(e);if(isAnyArray$1$1(e)){const t=[];for(let r=0;r<e.length;r++)t.push(this._predict(e[r]));return t}else throw new TypeError("x must be a number or array")}_predict(){throw new Error("_predict must be implemented")}train(){}toString(){return""}toLaTeX(){return""}score(e,t){if(!isAnyArray$1$1(e)||!isAnyArray$1$1(t)||e.length!==t.length)throw new Error("x and y must be arrays of the same length");const r=e.length,Ve=new Array(r);for(let Qe=0;Qe<r;Qe++)Ve[Qe]=this._predict(e[Qe]);let je=0,ze=0,Xe=0,We=0,qe=0,Ke=0,Ze=0;for(let Qe=0;Qe<r;Qe++)je+=Ve[Qe],ze+=t[Qe],qe+=Ve[Qe]*Ve[Qe],Ke+=t[Qe]*t[Qe],Ze+=Ve[Qe]*t[Qe],t[Qe]!==0&&(Xe+=(t[Qe]-Ve[Qe])*(t[Qe]-Ve[Qe])/t[Qe]),We+=(t[Qe]-Ve[Qe])*(t[Qe]-Ve[Qe]);const Je=(r*Ze-je*ze)/Math.sqrt((r*qe-je*je)*(r*Ke-ze*ze));return{r:Je,r2:Je*Je,chi2:Xe,rmsd:Math.sqrt(We/r)}}};function squaredEuclidean$4$1($e,e){let t=0;for(let r=0;r<$e.length;r++)t+=($e[r]-e[r])*($e[r]-e[r]);return t}function euclidean$2$1($e,e){return Math.sqrt(squaredEuclidean$4$1($e,e))}const euclidean$3$1=Object.freeze(Object.defineProperty({__proto__:null,euclidean:euclidean$2$1,squaredEuclidean:squaredEuclidean$4$1},Symbol.toStringTag,{value:"Module"})),require$$0$4=getAugmentedNamespace$1(euclidean$3$1),{squaredEuclidean:squaredEuclidean$3$1}=require$$0$4,defaultOptions$b$1={sigma:1};let GaussianKernel$1$1=class{constructor(e){e=Object.assign({},defaultOptions$b$1,e),this.sigma=e.sigma,this.divisor=2*e.sigma*e.sigma}compute(e,t){const r=squaredEuclidean$3$1(e,t);return Math.exp(-r/this.divisor)}};var gaussianKernel$1=GaussianKernel$1$1;const defaultOptions$a$1={degree:1,constant:1,scale:1};let PolynomialKernel$1$1=class{constructor(e){e=Object.assign({},defaultOptions$a$1,e),this.degree=e.degree,this.constant=e.constant,this.scale=e.scale}compute(e,t){for(var r=0,Ve=0;Ve<e.length;Ve++)r+=e[Ve]*t[Ve];return Math.pow(this.scale*r+this.constant,this.degree)}};var polynomialKernel$1=PolynomialKernel$1$1;const defaultOptions$9$1={alpha:.01,constant:-Math.E};let SigmoidKernel$1$1=class{constructor(e){e=Object.assign({},defaultOptions$9$1,e),this.alpha=e.alpha,this.constant=e.constant}compute(e,t){for(var r=0,Ve=0;Ve<e.length;Ve++)r+=e[Ve]*t[Ve];return Math.tanh(this.alpha*r+this.constant)}};var sigmoidKernel$1=SigmoidKernel$1$1;const defaultOptions$8$1={sigma:1,degree:1};let ANOVAKernel$1$1=class{constructor(e){e=Object.assign({},defaultOptions$8$1,e),this.sigma=e.sigma,this.degree=e.degree}compute(e,t){for(var r=0,Ve=Math.min(e.length,t.length),je=1;je<=Ve;++je)r+=Math.pow(Math.exp(-this.sigma*Math.pow(Math.pow(e[je-1],je)-Math.pow(t[je-1],je),2)),this.degree);return r}};var anovaKernel$1=ANOVAKernel$1$1;const{squaredEuclidean:squaredEuclidean$2$1}=require$$0$4,defaultOptions$7$1={sigma:1};let CauchyKernel$1$1=class{constructor(e){e=Object.assign({},defaultOptions$7$1,e),this.sigma=e.sigma}compute(e,t){return 1/(1+squaredEuclidean$2$1(e,t)/(this.sigma*this.sigma))}};var cauchyKernel$1=CauchyKernel$1$1;const{euclidean:euclidean$1$1}=require$$0$4,defaultOptions$6$1={sigma:1};let ExponentialKernel$1$1=class{constructor(e){e=Object.assign({},defaultOptions$6$1,e),this.sigma=e.sigma,this.divisor=2*e.sigma*e.sigma}compute(e,t){const r=euclidean$1$1(e,t);return Math.exp(-r/this.divisor)}};var exponentialKernel$1=ExponentialKernel$1$1;let HistogramIntersectionKernel$1=class{compute(e,t){for(var r=Math.min(e.length,t.length),Ve=0,je=0;je<r;++je)Ve+=Math.min(e[je],t[je]);return Ve}};var histogramIntersectionKernel$1=HistogramIntersectionKernel$1;const{euclidean:euclidean$4}=require$$0$4,defaultOptions$5$1={sigma:1};let LaplacianKernel$1$1=class{constructor(e){e=Object.assign({},defaultOptions$5$1,e),this.sigma=e.sigma}compute(e,t){const r=euclidean$4(e,t);return Math.exp(-r/this.sigma)}};var laplacianKernel$1=LaplacianKernel$1$1;const{squaredEuclidean:squaredEuclidean$1$1}=require$$0$4,defaultOptions$4$1={constant:1};let MultiquadraticKernel$1$1=class{constructor(e){e=Object.assign({},defaultOptions$4$1,e),this.constant=e.constant}compute(e,t){return Math.sqrt(squaredEuclidean$1$1(e,t)+this.constant*this.constant)}};var multiquadraticKernel$1=MultiquadraticKernel$1$1;const{squaredEuclidean:squaredEuclidean$5}=require$$0$4,defaultOptions$3$1={constant:1};let RationalQuadraticKernel$1=class{constructor(e){e=Object.assign({},defaultOptions$3$1,e),this.constant=e.constant}compute(e,t){const r=squaredEuclidean$5(e,t);return 1-r/(r+this.constant)}};var rationalQuadraticKernel$1=RationalQuadraticKernel$1;const{Matrix:Matrix$1$1,MatrixTransposeView:MatrixTransposeView$2}=matrix$1,GaussianKernel$2=gaussianKernel$1,PolynomialKernel$2=polynomialKernel$1,SigmoidKernel$2=sigmoidKernel$1,ANOVAKernel$2=anovaKernel$1,CauchyKernel$2=cauchyKernel$1,ExponentialKernel$2=exponentialKernel$1,HistogramKernel$1=histogramIntersectionKernel$1,LaplacianKernel$2=laplacianKernel$1,MultiquadraticKernel$2=multiquadraticKernel$1,RationalKernel$1=rationalQuadraticKernel$1,kernelType$1={gaussian:GaussianKernel$2,rbf:GaussianKernel$2,polynomial:PolynomialKernel$2,poly:PolynomialKernel$2,anova:ANOVAKernel$2,cauchy:CauchyKernel$2,exponential:ExponentialKernel$2,histogram:HistogramKernel$1,min:HistogramKernel$1,laplacian:LaplacianKernel$2,multiquadratic:MultiquadraticKernel$2,rational:RationalKernel$1,sigmoid:SigmoidKernel$2,mlp:SigmoidKernel$2};let Kernel$2=class{constructor(e,t){if(this.kernelType=e,e!=="linear")if(typeof e=="string"){e=e.toLowerCase();var r=kernelType$1[e];if(r)this.kernelFunction=new r(t);else throw new Error(`unsupported kernel type: ${e}`)}else if(typeof e=="object"&&typeof e.compute=="function")this.kernelFunction=e;else throw new TypeError("first argument must be a valid kernel type or instance")}compute(e,t){if(e=Matrix$1$1.checkMatrix(e),t===void 0?t=e:t=Matrix$1$1.checkMatrix(t),this.kernelType==="linear")return e.mmul(new MatrixTransposeView$2(t));const r=new Matrix$1$1(e.rows,t.rows);if(e===t)for(let Ve=0;Ve<e.rows;Ve++)for(let je=Ve;je<e.rows;je++){const ze=this.kernelFunction.compute(e.getRow(Ve),e.getRow(je));r.set(Ve,je,ze),r.set(je,Ve,ze)}else for(let Ve=0;Ve<e.rows;Ve++)for(let je=0;je<t.rows;je++)r.set(Ve,je,this.kernelFunction.compute(e.getRow(Ve),t.getRow(je)));return r}};var kernel$1=Kernel$2;const Kernel$1$1=getDefaultExportFromCjs$1(kernel$1),defaultOptions$2$1={lambda:.1,kernelType:"gaussian",kernelOptions:{},computeCoefficient:!1};let KernelRidgeRegression$1=class uh extends BaseRegression$1{constructor(e,t,r){if(super(),e===!0)this.alpha=t.alpha,this.inputs=t.inputs,this.kernelType=t.kernelType,this.kernelOptions=t.kernelOptions,this.kernel=new Kernel$1$1(t.kernelType,t.kernelOptions);else{e=Matrix$2$1.checkMatrix(e),r=Object.assign({},defaultOptions$2$1,r);const Ve=new Kernel$1$1(r.kernelType,r.kernelOptions),je=Ve.compute(e),ze=e.rows;je.add(Matrix$2$1.eye(ze,ze).mul(r.lambda)),this.alpha=solve$2(je,t),this.inputs=e,this.kernelType=r.kernelType,this.kernelOptions=r.kernelOptions,this.kernel=Ve}}_predict(e){return this.kernel.compute([e],this.inputs).mmul(this.alpha).getRow(0)}toJSON(){return{name:"kernelRidgeRegression",alpha:this.alpha,inputs:this.inputs,kernelType:this.kernelType,kernelOptions:this.kernelOptions}}static load(e){if(e.name!=="kernelRidgeRegression")throw new TypeError("not a KRR model");return new uh(!0,e)}};function background$1$1($e,e,t){const r=new KernelRidgeRegression$1($e,e,t),Ve=new Array(this.size);for(let Xe=0;Xe<this.width;Xe++)for(let We=0;We<this.height;We++)Ve[We*this.width+Xe]=[Xe,We];const je=r.predict(Ve),ze=Image$2.createFrom(this);for(let Xe=0;Xe<this.size;Xe++)ze.data[Xe]=Math.min(this.maxValue,Math.max(0,je[Xe][0]));return ze}function dilate$1($e={}){let{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:t=1}=$e;if(this.checkProcessable("dilate",{bitDepth:[1,8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("dilate: The number of rows and columns of the kernel must be odd");let r=!0;e:for(const je of e)for(const ze of je)if(ze!==1){r=!1;break e}let Ve=this;for(let je=0;je<t;je++)if(this.bitDepth===1)if(r){const ze=Ve.clone();Ve=dilateOnceBinaryOnlyOnes$1(Ve,ze,e.length,e[0].length)}else{const ze=Image$2.createFrom(Ve);Ve=dilateOnceBinary$1(Ve,ze,e)}else if(r){const ze=Image$2.createFrom(Ve);Ve=dilateOnceGreyOnlyOnes$1(Ve,ze,e.length,e[0].length)}else{const ze=Image$2.createFrom(Ve);Ve=dilateOnceGrey$1(Ve,ze,e)}return Ve}function dilateOnceGrey$1($e,e,t){const r=t.length,Ve=t[0].length;let je=(r-1)/2,ze=(Ve-1)/2;for(let Xe=0;Xe<$e.height;Xe++)for(let We=0;We<$e.width;We++){let qe=0;for(let Ke=0;Ke<Ve;Ke++)for(let Ze=0;Ze<r;Ze++){if(t[Ze][Ke]!==1)continue;let Je=Ze-je+We,Qe=Ke-ze+Xe;if(Je<0||Qe<0||Je>=$e.width||Qe>=$e.height)continue;const ti=$e.getValueXY(Je,Qe,0);ti>qe&&(qe=ti)}e.setValueXY(We,Xe,0,qe)}return e}function dilateOnceGreyOnlyOnes$1($e,e,t,r){const Ve=(t-1)/2,je=(r-1)/2,ze=[];for(let Xe=0;Xe<$e.width;Xe++)ze.push(0);for(let Xe=0;Xe<$e.height;Xe++){for(let We=0;We<$e.width;We++){let qe=0;for(let Ke=Math.max(0,Xe-je);Ke<Math.min($e.height,Xe+je+1);Ke++){const Ze=$e.getValueXY(We,Ke,0);Ze>qe&&(qe=Ze)}ze[We]=qe}for(let We=0;We<$e.width;We++){let qe=0;for(let Ke=Math.max(0,We-Ve);Ke<Math.min($e.width,We+Ve+1);Ke++)ze[Ke]>qe&&(qe=ze[Ke]);e.setValueXY(We,Xe,0,qe)}}return e}function dilateOnceBinary$1($e,e,t){const r=t.length,Ve=t[0].length;let je=(r-1)/2,ze=(Ve-1)/2;for(let Xe=0;Xe<$e.height;Xe++)for(let We=0;We<$e.width;We++){let qe=0;e:for(let Ke=0;Ke<Ve;Ke++)for(let Ze=0;Ze<r;Ze++){if(t[Ze][Ke]!==1)continue;let Je=Ze-je+We,Qe=Ke-ze+Xe;if(!(Qe<0||Je<0||Je>=$e.width||Qe>=$e.height)&&$e.getBitXY(Je,Qe)===1){qe=1;break e}}qe===1&&e.setBitXY(We,Xe)}return e}function dilateOnceBinaryOnlyOnes$1($e,e,t,r){const Ve=(t-1)/2,je=(r-1)/2,ze=[];for(let Xe=0;Xe<$e.width;Xe++)ze.push(1);for(let Xe=0;Xe<$e.height;Xe++){for(let We=0;We<$e.width;We++){ze[We]=0;for(let qe=Math.max(0,Xe-je);qe<Math.min($e.height,Xe+je+1);qe++)if($e.getBitXY(We,qe)===1){ze[We]=1;break}}for(let We=0;We<$e.width;We++)if(e.getBitXY(We,Xe)!==1){for(let qe=Math.max(0,We-Ve);qe<Math.min($e.width,We+Ve+1);qe++)if(ze[qe]===1){e.setBitXY(We,Xe);break}}}return e}function erode$1($e={}){let{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:t=1}=$e;if(this.checkProcessable("erode",{bitDepth:[1,8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("erode: The number of rows and columns of the kernel must be odd");let r=!0;e:for(const je of e)for(const ze of je)if(ze!==1){r=!1;break e}let Ve=this;for(let je=0;je<t;je++)if(this.bitDepth===1)if(r){const ze=Ve.clone();Ve=erodeOnceBinaryOnlyOnes$1(Ve,ze,e.length,e[0].length)}else{const ze=Image$2.createFrom(Ve);Ve=erodeOnceBinary$1(Ve,ze,e)}else if(r){const ze=Image$2.createFrom(Ve);Ve=erodeOnceGreyOnlyOnes$1(Ve,ze,e.length,e[0].length)}else{const ze=Image$2.createFrom(Ve);Ve=erodeOnceGrey$1(Ve,ze,e)}return Ve}function erodeOnceGrey$1($e,e,t){const r=t.length,Ve=t[0].length;let je=(r-1)/2,ze=(Ve-1)/2;for(let Xe=0;Xe<$e.height;Xe++)for(let We=0;We<$e.width;We++){let qe=$e.maxValue;for(let Ke=0;Ke<Ve;Ke++)for(let Ze=0;Ze<r;Ze++){if(t[Ze][Ke]!==1)continue;let Je=Ze-je+We,Qe=Ke-ze+Xe;if(Je<0||Qe<0||Je>=$e.width||Qe>=$e.height)continue;const ti=$e.getValueXY(Je,Qe,0);ti<qe&&(qe=ti)}e.setValueXY(We,Xe,0,qe)}return e}function erodeOnceGreyOnlyOnes$1($e,e,t,r){const Ve=(t-1)/2,je=(r-1)/2,ze=[];for(let Xe=0;Xe<$e.width;Xe++)ze.push(0);for(let Xe=0;Xe<$e.height;Xe++){for(let We=0;We<$e.width;We++){let qe=$e.maxValue;for(let Ke=Math.max(0,Xe-je);Ke<Math.min($e.height,Xe+je+1);Ke++){const Ze=$e.getValueXY(We,Ke,0);Ze<qe&&(qe=Ze)}ze[We]=qe}for(let We=0;We<$e.width;We++){let qe=$e.maxValue;for(let Ke=Math.max(0,We-Ve);Ke<Math.min($e.width,We+Ve+1);Ke++)ze[Ke]<qe&&(qe=ze[Ke]);e.setValueXY(We,Xe,0,qe)}}return e}function erodeOnceBinary$1($e,e,t){const r=t.length,Ve=t[0].length;let je=(r-1)/2,ze=(Ve-1)/2;for(let Xe=0;Xe<$e.height;Xe++)for(let We=0;We<$e.width;We++){let qe=1;e:for(let Ke=0;Ke<Ve;Ke++)for(let Ze=0;Ze<r;Ze++){if(t[Ze][Ke]!==1)continue;let Je=Ze-je+We,Qe=Ke-ze+Xe;if(!(Qe<0||Je<0||Je>=$e.width||Qe>=$e.height)&&$e.getBitXY(Je,Qe)===0){qe=0;break e}}qe===1&&e.setBitXY(We,Xe)}return e}function erodeOnceBinaryOnlyOnes$1($e,e,t,r){const Ve=(t-1)/2,je=(r-1)/2,ze=[];for(let Xe=0;Xe<$e.width;Xe++)ze.push(0);for(let Xe=0;Xe<$e.height;Xe++){for(let We=0;We<$e.width;We++){ze[We]=1;for(let qe=Math.max(0,Xe-je);qe<Math.min($e.height,Xe+je+1);qe++)if($e.getBitXY(We,qe)===0){ze[We]=0;break}}for(let We=0;We<$e.width;We++)if(e.getBitXY(We,Xe)!==0){for(let qe=Math.max(0,We-Ve);qe<Math.min($e.width,We+Ve+1);qe++)if(ze[qe]===0){e.clearBitXY(We,Xe);break}}}return e}function open$2($e={}){let{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:t=1}=$e;if(this.checkProcessable("open",{bitDepth:[8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("open: The number of rows and columns of the kernel must be odd");let r=this;for(let Ve=0;Ve<t;Ve++)r=r.erode({kernel:e}),r=r.dilate({kernel:e});return r}function close$1($e={}){let{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:t=1}=$e;if(this.checkProcessable("close",{bitDepth:[1,8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("close: The number of rows and columns of the kernel must be odd");let r=this;for(let Ve=0;Ve<t;Ve++)r=r.dilate({kernel:e}).erode({kernel:e});return r}function topHat$1($e={}){let{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:t=1}=$e;if(this.checkProcessable("topHat",{bitDepth:[8,16],components:1,alpha:0}),e.length%2===0||e[0].length%2===0)throw new TypeError("topHat: The number of rows and columns of the kernel must be odd");let r=this;for(let Ve=0;Ve<t;Ve++)r=r.open({kernel:e}).subtractImage(r,{absolute:!0});return r}function blackHat$1($e={}){let{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:t=1}=$e;if(this.checkProcessable("blackHat",{bitDepth:[8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("blackHat: The number of rows and columns of the kernel must be odd");let r=this;for(let Ve=0;Ve<t;Ve++)r=r.close({kernel:e}).subtractImage(r,{absolute:!0});return r}function morphologicalGradient$1($e={}){let{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:t=1}=$e;if(this.checkProcessable("morphologicalGradient",{bitDepth:[8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("morphologicalGradient: The number of rows and columns of the kernel must be odd");let r=this;for(let Ve=0;Ve<t;Ve++){let je=r.dilate({kernel:e}),ze=r.erode({kernel:e});r=je.subtractImage(ze,{absolute:!0})}return r}function order4Points$1($e){let e=0,t=0,r=0,Ve=0,je=$e[0][0],ze=0;for(let qe=1;qe<$e.length;qe++)$e[qe][0]<je&&(je=$e[qe][0],ze=qe);let Xe=$e[(ze+1)%$e.length][0],We=(ze+1)%$e.length;for(let qe=1;qe<$e.length;qe++)$e[qe][0]<Xe&&qe!==ze&&(Xe=$e[qe][0],We=qe);return $e[We][1]<$e[ze][1]?(e=$e[We],Ve=$e[ze],ze!==(We+1)%4?(t=$e[(We+1)%4],r=$e[(We+2)%4]):(t=$e[(We+2)%4],r=$e[(We+3)%4])):(Ve=$e[We],e=$e[ze],We!==(ze+1)%4?(t=$e[(ze+1)%4],r=$e[(ze+2)%4]):(t=$e[(ze+2)%4],r=$e[(ze+3)%4])),[e,t,r,Ve]}function distance2Points$1($e,e){return Math.sqrt(Math.pow($e[0]-e[0],2)+Math.pow($e[1]-e[1],2))}function crossVect$1($e,e){return[$e[1]*e[2]-$e[2]*e[1],$e[2]*e[0]-$e[0]*e[2],$e[0]*e[1]-$e[1]*e[0]]}function dotVect$1($e,e){return $e[0]*e[0]+$e[1]*e[1]+$e[2]*e[2]}function computeWidthAndHeigth$1($e,e,t,r,Ve,je){let ze=Math.max(distance2Points$1($e,e),distance2Points$1(r,t)),Xe=Math.max(distance2Points$1($e,r),distance2Points$1(e,t)),We=0,qe=0,Ke=Math.ceil(Ve/2),Ze=Math.ceil(je/2),Je=ze/Xe,Qe=[$e[0],$e[1],1],ti=[e[0],e[1],1],ni=[r[0],r[1],1],ri=[t[0],t[1],1],ii=dotVect$1(crossVect$1(Qe,ri),ni)/dotVect$1(crossVect$1(ti,ri),ni),ei=dotVect$1(crossVect$1(Qe,ri),ti)/dotVect$1(crossVect$1(ni,ri),ti),St=[ii*ti[0]-Qe[0],ii*ti[1]-Qe[1],ii*ti[2]-Qe[2]],oi=[ei*ni[0]-Qe[0],ei*ni[1]-Qe[1],ei*ni[2]-Qe[2]],si=St[0],ai=St[1],ui=St[2],hi=oi[0],ci=oi[1],mi=oi[2],di=1/(ui*mi)*(si*hi-(si*mi+ui*hi)*Ke+ui*mi*Ke*Ke+(ai*ci-(ai*mi+ui*ci)*Ze+ui*mi*Ze*Ze));di>=0?di=Math.sqrt(di):di=Math.sqrt(-di);let pi=new Matrix$2$1([[di,0,Ke],[0,di,Ze],[0,0,1]]),yi=pi.transpose(),gi=inverse$2(yi),_i=inverse$2(pi),Ai=Matrix$2$1.rowVector(St),ki=Matrix$2$1.rowVector(oi),vi=Math.sqrt(dotVect$1(Ai.mmul(gi).mmul(_i).to1DArray(),St)/dotVect$1(ki.mmul(gi).mmul(_i).to1DArray(),oi));return vi===0||Je===0?(We=Math.ceil(ze),qe=Math.ceil(Xe)):vi<Je?(We=Math.ceil(ze),qe=Math.ceil(We/vi)):(qe=Math.ceil(Xe),We=Math.ceil(vi*qe)),[We,qe]}function projectionPoint$1($e,e,t,r,Ve,je,ze,Xe,We,qe,Ke,Ze){let[Je,Qe]=[(t*$e+r*e+Ve)/(We*$e+qe*e+1),(je*$e+ze*e+Xe)/(We*$e+qe*e+1)];return Ke.getValueXY(Math.floor(Je),Math.floor(Qe),Ze)}function warpingFourPoints$1($e,e={}){let{calculateRatio:t=!0}=e;if($e.length!==4)throw new Error(`The array pts must have four elements, which are the four corners. Currently, pts have ${$e.length} elements`);let[r,Ve,je,ze]=$e,Xe=[r,Ve,je,ze],[We,qe,Ke,Ze]=order4Points$1(Xe),Je,Qe;t?[Je,Qe]=computeWidthAndHeigth$1(We,qe,Ke,Ze,this.width,this.height):(Je=Math.ceil(Math.max(distance2Points$1(We,qe),distance2Points$1(Ze,Ke))),Qe=Math.ceil(Math.max(distance2Points$1(We,Ze),distance2Points$1(qe,Ke))));let ti=Image$2.createFrom(this,{width:Je,height:Qe}),[ni,ri]=We,[ii,ei]=qe,[St,oi]=Ke,[si,ai]=Ze,[ui,hi]=[0,0],[ci,mi]=[0,Je-1],[di,pi]=[Qe-1,Je-1],[yi,gi]=[Qe-1,0],_i=new Matrix$2$1([[ui,hi,1,0,0,0,-ui*ni,-hi*ni],[ci,mi,1,0,0,0,-ci*ii,-mi*ii],[di,pi,1,0,0,0,-di*St,-hi*St],[yi,gi,1,0,0,0,-yi*si,-gi*si],[0,0,0,ui,hi,1,-ui*ri,-hi*ri],[0,0,0,ci,mi,1,-ci*ei,-mi*ei],[0,0,0,di,pi,1,-di*oi,-pi*oi],[0,0,0,yi,gi,1,-yi*ai,-gi*ai]]),Ai=Matrix$2$1.columnVector([ni,ii,St,si,ri,ei,oi,ai]),ki=new SingularValueDecomposition$2(_i).solve(Ai),[vi,Mi,Di,Bi,Pi,Fi,Vi,Ti]=ki.to1DArray(),ji=new Matrix$2$1(Qe,Je);for(let Gi=0;Gi<this.channels;Gi++){for(let Yi=0;Yi<Qe;Yi++)for(let Xi=0;Xi<Je;Xi++)ji.set(Yi,Xi,projectionPoint$1(Yi,Xi,vi,Mi,Di,Bi,Pi,Fi,Vi,Ti,this,Gi));ti.setMatrix(ji,{channel:Gi})}return ti}function crop$1($e={}){let{x:e=0,y:t=0,width:r=this.width-e,height:Ve=this.height-t}=$e;if(this.checkProcessable("crop",{bitDepth:[1,8,16]}),e=Math.round(e),t=Math.round(t),r=Math.round(r),Ve=Math.round(Ve),e>this.width-1||t>this.height-1)throw new RangeError(`crop: origin (x:${e}, y:${t}) out of range (${this.width-1}; ${this.height-1})`);if(r<=0||Ve<=0)throw new RangeError(`crop: width and height (width:${r}; height:${Ve}) must be positive numbers`);if(e<0||t<0)throw new RangeError(`crop: x and y (x:${e}, y:${t}) must be positive numbers`);if(r>this.width-e||Ve>this.height-t)throw new RangeError(`crop: (x: ${e}, y:${t}, width:${r}, height:${Ve}) size is out of range`);let je=this;if(this.bitDepth===1){const ze=new Image$2(r,Ve,{kind:"BINARY",parent:this});je=cropBinary$1(this,ze,e,t,r,Ve)}else{const ze=Image$2.createFrom(this,{width:r,height:Ve,position:[e,t]});je=cropDefault$1(this,ze,e,t,r,Ve)}return je}function cropDefault$1($e,e,t,r,Ve,je){let ze=Ve*$e.channels,Xe=r+je,We=0,qe=t*$e.channels;for(let Ke=r;Ke<Xe;Ke++){let Ze=Ke*$e.width*$e.channels+qe,Je=Ze+ze;for(;Ze<Je;Ze++)e.data[We++]=$e.data[Ze]}return e}function cropBinary$1($e,e,t,r,Ve,je){let ze=Ve*$e.channels,Xe=r+je,We=0,qe=t*$e.channels;for(let Ke=r;Ke<Xe;Ke++){let Ze=Ke*$e.width*$e.channels+qe,Je=Ze+ze;for(;Ze<Je;Ze++)$e.getBit(Ze)&&e.setBit(We),++We}return e}function cropAlpha$1($e={}){this.checkProcessable("cropAlpha",{alpha:1});const{threshold:e=this.maxValue}=$e;let t=findLeft$1(this,e,this.components);if(t===-1)throw new Error("Could not find new dimensions. Threshold may be too high.");let r=findTop$1(this,e,this.components,t),Ve=findBottom$1(this,e,this.components,t),je=findRight$1(this,e,this.components,t,r,Ve);return this.crop({x:t,y:r,width:je-t+1,height:Ve-r+1})}function findLeft$1($e,e,t){for(let r=0;r<$e.width;r++)for(let Ve=0;Ve<$e.height;Ve++)if($e.getValueXY(r,Ve,t)>=e)return r;return-1}function findTop$1($e,e,t,r){for(let Ve=0;Ve<$e.height;Ve++)for(let je=r;je<$e.width;je++)if($e.getValueXY(je,Ve,t)>=e)return Ve;return-1}function findBottom$1($e,e,t,r){for(let Ve=$e.height-1;Ve>=0;Ve--)for(let je=r;je<$e.width;je++)if($e.getValueXY(je,Ve,t)>=e)return Ve;return-1}function findRight$1($e,e,t,r,Ve,je){for(let ze=$e.width-1;ze>=r;ze--)for(let Xe=Ve;Xe<=je;Xe++)if($e.getValueXY(ze,Xe,t)>=e)return ze;return-1}function getFactor$1($e){if(typeof $e=="string"){const e=$e[$e.length-1];$e=parseFloat($e),e==="%"&&($e/=100)}return $e}function getThreshold$1$1($e,e){if(!e)throw Error("getThreshold : the maxValue should be specified");if(typeof $e=="string"){if($e[$e.length-1]!=="%")throw Error("getThreshold : if the value is a string it must finish by %");return parseFloat($e)/100*e}else{if(typeof $e=="number")return $e<1?$e*e:$e;throw Error("getThreshold : the value is not valid")}}function factorDimensions$1($e,e,t){$e=getFactor$1($e);let r=Math.round($e*e),Ve=Math.round($e*t);return r<=0&&(r=1),Ve<=0&&(Ve=1),{width:r,height:Ve}}function checkRow$1($e,e){if(e<0||e>=$e.height)throw new RangeError(`row must be included between 0 and ${$e.height-1}. Current value: ${e}`)}function checkColumn$1($e,e){if(e<0||e>=$e.width)throw new RangeError(`column must be included between 0 and ${$e.width-1}. Current value: ${e}`)}function checkChannel$1($e,e){if(e<0||e>=$e.channels)throw new RangeError(`channel must be included between 0 and ${$e.channels-1}. Current value: ${e}`)}const validInterpolations$1={nearestneighbor:"nearestNeighbor",nearestneighbour:"nearestNeighbor",bilinear:"bilinear"};function checkInterpolation$1($e){if(typeof $e!="string")throw new TypeError("interpolation must be a string");if($e=$e.toLowerCase(),!validInterpolations$1[$e])throw new RangeError(`invalid interpolation algorithm: ${$e}`);return validInterpolations$1[$e]}function nearestNeighbor$1($e,e,t){const r=this.width/e,Ve=this.height/t;if(this.bitDepth>1)for(let je=0;je<e;je++){const ze=Math.floor((je+.5)*r);for(let Xe=0;Xe<t;Xe++){const We=Math.floor((Xe+.5)*Ve);for(let qe=0;qe<this.channels;qe++)$e.setValueXY(je,Xe,qe,this.getValueXY(ze,We,qe))}}else for(let je=0;je<e;je++){const ze=Math.floor((je+.5)*r);for(let Xe=0;Xe<t;Xe++){const We=Math.floor((Xe+.5)*Ve);this.getBitXY(ze,We)&&$e.setBitXY(je,Xe)}}}function resize$1($e={}){const{factor:e=1,interpolation:t=validInterpolations$1.nearestneighbor,preserveAspectRatio:r=!0}=$e,Ve=checkInterpolation$1(t);let je=$e.width,ze=$e.height;if(je||(ze&&r?je=Math.round(ze*(this.width/this.height)):je=this.width),ze||(r?ze=Math.round(je*(this.height/this.width)):ze=this.height),{width:je,height:ze}=factorDimensions$1(e,je,ze),je===this.width&&ze===this.height){const Ke=this.clone();return Ke.position=[0,0],Ke}let Xe=Math.round((this.width-je)/2),We=Math.round((this.height-ze)/2);const qe=Image$2.createFrom(this,{width:je,height:ze,position:[Xe,We]});switch(Ve){case validInterpolations$1.nearestneighbor:nearestNeighbor$1.call(this,qe,je,ze);break;default:throw new Error(`unsupported resize interpolation: ${Ve}`)}return qe}function hsv$1(){this.checkProcessable("hsv",{bitDepth:[8,16],alpha:[0,1],colorModel:[RGB$1$1]});let $e=Image$2.createFrom(this,{colorModel:HSV$1}),e=0,t=this.data;for(let r=0;r<t.length;r+=this.channels){let Ve=t[r],je=t[r+1],ze=t[r+2],Xe=Math.min(Ve,je,ze),We=Math.max(Ve,je,ze),qe=We-Xe,Ke=0,Ze=We===0?0:qe/We,Je=We;if(We!==Xe){switch(We){case Ve:Ke=(je-ze)/qe+(je<ze?6:0);break;case je:Ke=(ze-Ve)/qe+2;break;case ze:Ke=(Ve-je)/qe+4;break;default:throw new Error("unreachable")}Ke/=6}$e.data[e++]=Ke*this.maxValue,$e.data[e++]=Ze*this.maxValue,$e.data[e++]=Je,this.alpha&&($e.data[e++]=t[r+3])}return $e}function hsl$1$1(){this.checkProcessable("hsl",{bitDepth:[8,16],alpha:[0,1],colorModel:[RGB$1$1]});let $e=Image$2.createFrom(this,{colorModel:HSL$1}),e=Math.floor(this.maxValue/2),t=0,r=this.data;for(let Ve=0;Ve<r.length;Ve+=this.channels){let je=r[Ve],ze=r[Ve+1],Xe=r[Ve+2],We=Math.max(je,ze,Xe),qe=Math.min(je,ze,Xe),Ke=0,Ze=0,Je=(We+qe)/2;if(We!==qe){let Qe=We-qe;switch(Ze=Je>e?Qe/(2-We-qe):Qe/(We+qe),We){case je:Ke=(ze-Xe)/Qe+(ze<Xe?6:0);break;case ze:Ke=(Xe-je)/Qe+2;break;case Xe:Ke=(je-ze)/Qe+4;break;default:throw new Error("unreachable")}Ke/=6}$e.data[t++]=Ke*this.maxValue,$e.data[t++]=Ze*this.maxValue,$e.data[t++]=Je,this.alpha&&($e.data[t++]=r[Ve+3])}return $e}function cmyk$1(){this.checkProcessable("cmyk",{bitDepth:[8,16],alpha:[0,1],colorModel:[RGB$1$1]});let $e=Image$2.createFrom(this,{components:4,colorModel:CMYK$1$1}),e=0,t=this.data;for(let r=0;r<t.length;r+=this.channels){let Ve=t[r],je=t[r+1],ze=t[r+2],Xe=Math.min(this.maxValue-Ve,this.maxValue-je,this.maxValue-ze),We=(this.maxValue-Ve-Xe)/(1-Xe/this.maxValue),qe=(this.maxValue-je-Xe)/(1-Xe/this.maxValue),Ke=(this.maxValue-ze-Xe)/(1-Xe/this.maxValue);$e.data[e++]=Math.round(We),$e.data[e++]=Math.round(qe),$e.data[e++]=Math.round(Ke),$e.data[e++]=Math.round(Xe),this.alpha&&($e.data[e++]=t[r+3])}return $e}function rgba8$1(){return new Image$2(this.width,this.height,this.getRGBAData(),{kind:"RGBA",parent:this})}const methods$1$1={luma709($e,e,t){return $e*6966+e*23436+t*2366>>15},luma601($e,e,t){return $e*9798+e*19235+t*3735>>15},maximum($e,e,t){return Math.max($e,e,t)},minimum($e,e,t){return Math.min($e,e,t)},average($e,e,t){return($e+e+t)/3>>0},minmax($e,e,t){return(Math.max($e,e,t)+Math.min($e,e,t))/2},red($e){return $e},green($e,e){return e},blue($e,e,t){return t},cyan($e,e,t,r){let Ve=methods$1$1.black($e,e,t,r);return(r.maxValue-$e-Ve)/(1-Ve/r.maxValue)>>0},magenta($e,e,t,r){let Ve=methods$1$1.black($e,e,t,r);return(r.maxValue-e-Ve)/(1-Ve/r.maxValue)>>0},yellow($e,e,t,r){let Ve=methods$1$1.black($e,e,t,r);return(r.maxValue-t-Ve)/(1-Ve/r.maxValue)>>0},black($e,e,t,r){return Math.min(r.maxValue-$e,r.maxValue-e,r.maxValue-t)},hue($e,e,t,r){let Ve=methods$1$1.min($e,e,t),je=methods$1$1.max($e,e,t);if(je===Ve)return 0;let ze=0,Xe=je-Ve;switch(je){case $e:ze=(e-t)/Xe+(e<t?6:0);break;case e:ze=(t-$e)/Xe+2;break;case t:ze=($e-e)/Xe+4;break;default:throw new Error("unreachable")}return ze/6*r.maxValue>>0},saturation($e,e,t,r){let Ve=methods$1$1.min($e,e,t),je=methods$1$1.max($e,e,t),ze=je-Ve;return je===0?0:ze/je*r.maxValue},lightness($e,e,t){let r=methods$1$1.min($e,e,t);return(methods$1$1.max($e,e,t)+r)/2}};Object.defineProperty(methods$1$1,"luminosity",{enumerable:!1,value:methods$1$1.lightness});Object.defineProperty(methods$1$1,"luminance",{enumerable:!1,value:methods$1$1.lightness});Object.defineProperty(methods$1$1,"min",{enumerable:!1,value:methods$1$1.minimum});Object.defineProperty(methods$1$1,"max",{enumerable:!1,value:methods$1$1.maximum});Object.defineProperty(methods$1$1,"brightness",{enumerable:!1,value:methods$1$1.maximum});Object.keys(methods$1$1).forEach($e=>{});function grey$1($e={}){let{algorithm:e="luma709",keepAlpha:t=!1,mergeAlpha:r=!0}=$e;if(typeof e!="string"&&typeof e!="function")throw new TypeError("algorithm must be a string or a function");this.checkProcessable("grey",{bitDepth:[8,16],alpha:[0,1]}),this.components===1&&(e="red"),t&=this.alpha,r&=this.alpha,t&&(r=!1);let Ve=getOutputImage$1(this,$e,{components:1,alpha:t,colorModel:GREY$1$1}),je;if(typeof e=="function")je=e;else if(je=methods$1$1[e.toLowerCase()],!je)throw new Error(`unsupported grey algorithm: ${e}`);let ze=0;for(let Xe=0;Xe<this.data.length;Xe+=this.channels)r?Ve.data[ze++]=clamp$1(je(this.data[Xe],this.data[Xe+1],this.data[Xe+2],this)*this.data[Xe+this.components]/this.maxValue,this):(Ve.data[ze++]=clamp$1(je(this.data[Xe],this.data[Xe+1],this.data[Xe+2],this),this),Ve.alpha&&(Ve.data[ze++]=this.data[Xe+this.components]));return Ve}function huang$1($e){let e=0;for(let Ke=0;Ke<$e.length;Ke++)if($e[Ke]!==0){e=Ke;break}let t=$e.length-1;for(let Ke=$e.length-1;Ke>=e;Ke--)if($e[Ke]!==0){t=Ke;break}let r=1/(t-e),Ve=new Array($e.length),je=0,ze=0;for(let Ke=e;Ke<$e.length;Ke++)je+=Ke*$e[Ke],ze+=$e[Ke],Ve[Ke]=je/ze;let Xe=new Array($e.length);je=ze=0;for(let Ke=t;Ke>0;Ke--)je+=Ke*$e[Ke],ze+=$e[Ke],Xe[Ke-1]=je/ze;let We=-1,qe=Number.MAX_VALUE;for(let Ke=0;Ke<$e.length;Ke++){let Ze=0,Je;for(let Qe=0;Qe<=Ke;Qe++)Je=1/(1+r*Math.abs(Qe-Ve[Ke])),Je<1e-6||Je>.999999||(Ze+=$e[Qe]*(-Je*Math.log(Je)-(1-Je)*Math.log(1-Je)));for(let Qe=Ke+1;Qe<$e.length;Qe++)Je=1/(1+r*Math.abs(Qe-Xe[Ke])),Je<1e-6||Je>.999999||(Ze+=$e[Qe]*(-Je*Math.log(Je)-(1-Je)*Math.log(1-Je)));Ze<qe&&(qe=Ze,We=Ke)}return We}function intermodes$1($e){let e=$e.slice(),t=0;for(;!bimodalTest$1$1(e);){let Ve=0,je=0,ze=e[0];for(let Xe=0;Xe<$e.length-1;Xe++)Ve=je,je=ze,ze=e[Xe+1],e[Xe]=(Ve+je+ze)/3;if(e[$e.length-1]=(je+ze)/3,t++,t>1e4)throw new Error("Intermodes Threshold not found after 10000 iterations")}let r=0;for(let Ve=1;Ve<$e.length-1;Ve++)e[Ve-1]<e[Ve]&&e[Ve+1]<e[Ve]&&(r+=Ve);return Math.floor(r/2)}function bimodalTest$1$1($e){let e=!1,t=0;for(let r=1;r<$e.length-1;r++)if($e[r-1]<$e[r]&&$e[r+1]<$e[r]&&(t++,t>2))return!1;return t===2&&(e=!0),e}function isodata$1($e){let e,t,r,Ve,je=0;for(let ze=1;ze<$e.length;ze++)if($e[ze]>0){je=ze+1;break}for(;;){e=0,r=0;for(let ze=0;ze<je;ze++)r=r+$e[ze],e=e+$e[ze]*ze;Ve=0,t=0;for(let ze=je+1;ze<$e.length;ze++)t+=$e[ze],Ve+=$e[ze]*ze;if(r>0&&t>0&&(e/=r,Ve/=t,je===Math.round((e+Ve)/2)))break;if(je++,je>$e.length-2)throw new Error("Threshold not found")}return je}function li$1($e,e){let t,r,Ve,je,ze,Xe,We,qe,Ke,Ze,Je,Qe;Je=.5,Ze=0;for(let ti=0;ti<$e.length;ti++)Ze+=ti*$e[ti];Ze/=e,We=Ze;do{Xe=We,t=Xe+.5|0,r=0,je=0;for(let ti=0;ti<=t;ti++)r+=ti*$e[ti],je+=$e[ti];qe=je===0?0:r/je,Ve=0,ze=0;for(let ti=t+1;ti<$e.length;ti++)Ve+=ti*$e[ti],ze+=$e[ti];Ke=ze===0?0:Ve/ze,Qe=(qe-Ke)/(Math.log(qe)-Math.log(Ke)),Qe<-Number.EPSILON?We=Qe-.5|0:We=Qe+.5|0}while(Math.abs(We-Xe)>Je);return t}function maxEntropy$1($e,e){let t=new Array($e.length);for(let Je=0;Je<$e.length;Je++)t[Je]=$e[Je]/e;let r=new Array($e.length),Ve=new Array($e.length);r[0]=t[0],Ve[0]=1-r[0];for(let Je=1;Je<$e.length;Je++)r[Je]=r[Je-1]+t[Je],Ve[Je]=1-r[Je];let je=0;for(let Je=0;Je<$e.length;Je++)if(Math.abs(r[Je])>=Number.EPSILON){je=Je;break}let ze=$e.length-1;for(let Je=$e.length-1;Je>=je;Je--)if(Math.abs(Ve[Je])>=Number.EPSILON){ze=Je;break}let Xe=-1,We,qe=Number.MIN_VALUE,Ke,Ze;for(let Je=je;Je<=ze;Je++){Ke=0;for(let Qe=0;Qe<=Je;Qe++)$e[Qe]!==0&&(Ke-=t[Qe]/r[Je]*Math.log(t[Qe]/r[Je]));Ze=0;for(let Qe=Je+1;Qe<$e.length;Qe++)$e[Qe]!==0&&(Ze-=t[Qe]/Ve[Je]*Math.log(t[Qe]/Ve[Je]));We=Ke+Ze,qe<We&&(qe=We,Xe=Je)}return Xe}function mean$1$1($e,e){let t=0;for(let r=0;r<$e.length;r++)t+=r*$e[r];return Math.floor(t/e)}function minError$1($e,e){let t,r=-2,Ve,je,ze,Xe,We,qe,Ke,Ze,Je,Qe,ti,ni=0;for(let ri=0;ri<$e.length;ri++)ni+=ri*$e[ri];for(ni/=e,t=ni;t!==r;){let ri=sumA$1($e,t),ii=sumA$1($e,$e.length-1),ei=sumB$1($e,t),St=sumB$1($e,$e.length-1),oi=sumC$1($e,t),si=sumC$1($e,$e.length-1);if(Ve=ei/ri,je=(St-ei)/(ii-ri),ze=ri/ii,Xe=(ii-ri)/ii,We=oi/ri-Ve*Ve,qe=(si-oi)/(ii-ri)-je*je,Ke=1/We-1/qe,Ze=Ve/We-je/qe,Je=Ve*Ve/We-je*je/qe+Math.log10(We*(Xe*Xe)/(qe*(ze*ze))),Qe=Ze*Ze-Ke*Je,Qe<0)return t;r=t,ti=(Ze+Math.sqrt(Qe))/Ke,isNaN(ti)?t=r:t=Math.floor(ti)}return t}function sumA$1($e,e){let t=0;for(let r=0;r<=e;r++)t+=$e[r];return t}function sumB$1($e,e){let t=0;for(let r=0;r<=e;r++)t+=r*$e[r];return t}function sumC$1($e,e){let t=0;for(let r=0;r<=e;r++)t+=r*r*$e[r];return t}function minimum$1($e){if($e.length<2)return 0;let e=0,t=-1,r=-1,Ve=new Array($e.length);for(let je=0;je<$e.length;je++)Ve[je]=$e[je],$e[je]>0&&(r=je);for(;!bimodalTest$2(Ve);)if(Ve=smoothed$1(Ve),e++,e>1e4)return t;return t=minimumBetweenPeeks$1(Ve,r),t}function smoothed$1($e){let e=new Array($e.length);for(let t=1;t<$e.length-1;t++)e[t]=($e[t-1]+$e[t]+$e[t+1])/3;return e[0]=($e[0]+$e[1])/3,e[$e.length-1]=($e[$e.length-2]+$e[$e.length-1])/3,e}function minimumBetweenPeeks$1($e,e){let t;for(let r=1;r<e;r++)if($e[r-1]>$e[r]&&$e[r+1]>=$e[r]){t=r;break}return t}function bimodalTest$2($e){let e=$e.length,t=!1,r=0;for(let Ve=1;Ve<e-1;Ve++)if($e[Ve-1]<$e[Ve]&&$e[Ve+1]<$e[Ve]&&(r++,r>2))return!1;return r===2&&(t=!0),t}function moments$1($e,e){let t=1,r=0,Ve=0,je=0,ze=0,Xe,We,qe,Ke,Ze,Je,Qe=-1,ti=$e.length,ni=new Array(ti);for(let ri=0;ri<ti;ri++)ni[ri]=$e[ri]/e;for(let ri=0;ri<ti;ri++)r+=ri*ni[ri],Ve+=ri*ri*ni[ri],je+=ri*ri*ri*ni[ri];We=t*Ve-r*r,qe=(-Ve*Ve+r*je)/We,Ke=(t*-je+Ve*r)/We,Ze=.5*(-Ke-Math.sqrt(Ke*Ke-4*qe)),Je=.5*(-Ke+Math.sqrt(Ke*Ke-4*qe)),Xe=(Je-r)/(Je-Ze);for(let ri=0;ri<ti;ri++)if(ze+=ni[ri],ze>Xe){Qe=ri;break}return Qe}function otsu$1($e,e){let t=0,r=0,Ve=0,je=0,ze=0;for(let Xe=0;Xe<$e.length;Xe++)ze+=Xe*$e[Xe];for(let Xe=0;Xe<$e.length;Xe++){r=r+$e[Xe];const We=e-r;if(r===0||We===0)continue;t=t+Xe*$e[Xe];const qe=(ze-t)/We,Ke=r*We*(t/r-qe)*(t/r-qe);Ke>=Ve&&(je=Xe,Ve=Ke)}return je}function percentile$1($e){let e=-1,t=.5,r=new Array($e.length),Ve=partialSum$1($e,$e.length-1),je=1;for(let ze=0;ze<$e.length;ze++)r[ze]=Math.abs(partialSum$1($e,ze)/Ve-t),r[ze]<je&&(je=r[ze],e=ze);return e}function partialSum$1($e,e){let t=0;for(let r=0;r<=e;r++)t+=$e[r];return t}function renyiEntropy$1($e,e){let t,r,Ve,je=new Array($e.length),ze=new Array($e.length),Xe=new Array($e.length),We=0,qe=0,Ke=0,Ze=0,Je=0,Qe=0,ti=1/(1-.5),ni=1/-1;for(let St=0;St<$e.length;St++)je[St]=$e[St]/e;ze[0]=je[0],Xe[0]=1-ze[0];for(let St=1;St<$e.length;St++)ze[St]=ze[St-1]+je[St],Xe[St]=1-ze[St];r=0;for(let St=0;St<$e.length;St++)if(Math.abs(ze[St])>=Number.EPSILON){r=St;break}Ve=$e.length-1;for(let St=$e.length-1;St>=r;St--)if(Math.abs(Xe[St])>=Number.EPSILON){Ve=St;break}for(let St=r;St<=Ve;St++){let oi=0,si=0,ai=0;for(let yi=0;yi<=St;yi++)$e[yi]!==0&&(oi-=je[yi]/ze[St]*Math.log(je[yi]/ze[St])),si+=Math.sqrt(je[yi]/ze[St]),ai+=je[yi]*je[yi]/(ze[St]*ze[St]);let ui=0,hi=0,ci=0;for(let yi=St+1;yi<$e.length;yi++)$e[yi]!==0&&(ui-=je[yi]/Xe[St]*Math.log(je[yi]/Xe[St])),hi+=Math.sqrt(je[yi]/Xe[St]),ci+=je[yi]*je[yi]/(Xe[St]*Xe[St]);let mi=oi+ui,di=ti*(si*hi>0?Math.log(si*hi):0),pi=ni*(ai*ci>0?Math.log(ai*ci):0);mi>Ze&&(Ze=mi,We=St),di>Je&&(Je=di,qe=St),pi>Qe&&(Qe=pi,Ke=St)}let ri=[We,qe,Ke];ri.sort((St,oi)=>St-oi);let ii;Math.abs(ri[0]-ri[1])<=5?Math.abs(ri[1]-ri[2])<=5?ii=[1,2,1]:ii=[0,1,3]:Math.abs(ri[1]-ri[2])<=5?ii=[3,1,0]:ii=[1,2,1];let ei=ze[ri[2]]-ze[ri[0]];return t=Math.round(ri[0]*(ze[ri[0]]+.25*ei*ii[0])+.25*ri[1]*ei*ii[1]+ri[2]*(Xe[ri[2]]+.25*ei*ii[2])),t}function shanbhag$1($e,e){let t=new Array($e.length);for(let Qe=0;Qe<$e.length;Qe++)t[Qe]=$e[Qe]/e;let r=new Array($e.length),Ve=new Array($e.length);r[0]=t[0],Ve[0]=1-r[0];for(let Qe=1;Qe<$e.length;Qe++)r[Qe]=r[Qe-1]+t[Qe],Ve[Qe]=1-r[Qe];let je=0;for(let Qe=0;Qe<$e.length;Qe++)if(Math.abs(r[Qe])>=Number.EPSILON){je=Qe;break}let ze=$e.length-1;for(let Qe=$e.length-1;Qe>=je;Qe--)if(Math.abs(Ve[Qe])>=Number.EPSILON){ze=Qe;break}let Xe=-1,We=Number.MAX_VALUE,qe,Ke,Ze,Je;for(let Qe=je;Qe<=ze;Qe++){Ze=0,qe=.5/r[Qe];for(let ti=1;ti<=Qe;ti++)Ze-=t[ti]*Math.log(1-qe*r[ti-1]);Ze*=qe,Je=0,qe=.5/Ve[Qe];for(let ti=Qe+1;ti<$e.length;ti++)Je-=t[ti]*Math.log(1-qe*Ve[ti]);Je*=qe,Ke=Math.abs(Ze-Je),Ke<We&&(We=Ke,Xe=Qe)}return Xe}function triangle$1$1($e){let e=0,t=0,r=0,Ve=0;for(let Ze=0;Ze<$e.length;Ze++)if($e[Ze]>0){e=Ze;break}e>0&&e--;for(let Ze=$e.length-1;Ze>0;Ze--)if($e[Ze]>0){Ve=Ze;break}Ve<$e.length-1&&Ve++;for(let Ze=0;Ze<$e.length;Ze++)$e[Ze]>t&&(r=Ze,t=$e[Ze]);let je=!1;if(r-e<Ve-r){je=!0;let Ze=0,Je=$e.length-1;for(;Ze<Je;){let Qe=$e[Ze];$e[Ze]=$e[Je],$e[Je]=Qe,Ze++,Je--}e=$e.length-1-Ve,r=$e.length-1-r}if(e===r)return e;let ze,Xe,We;ze=$e[r],Xe=e-r,We=Math.sqrt(ze*ze+Xe*Xe),ze/=We,Xe/=We,We=ze*e+Xe*$e[e];let qe=e,Ke=0;for(let Ze=e+1;Ze<=r;Ze++){let Je=ze*Ze+Xe*$e[Ze]-We;Je>Ke&&(qe=Ze,Ke=Je)}if(qe--,je){let Ze=0,Je=$e.length-1;for(;Ze<Je;){let Qe=$e[Ze];$e[Ze]=$e[Je],$e[Je]=Qe,Ze++,Je--}return $e.length-1-qe}else return qe}function yen$1($e,e){let t=new Array($e.length);for(let qe=0;qe<$e.length;qe++)t[qe]=$e[qe]/e;let r=new Array($e.length);r[0]=t[0];for(let qe=1;qe<$e.length;qe++)r[qe]=r[qe-1]+t[qe];let Ve=new Array($e.length);Ve[0]=t[0]*t[0];for(let qe=1;qe<$e.length;qe++)Ve[qe]=Ve[qe-1]+t[qe]*t[qe];let je=new Array($e.length);je[$e.length-1]=0;for(let qe=$e.length-2;qe>=0;qe--)je[qe]=je[qe+1]+t[qe+1]*t[qe+1];let ze=-1,Xe=Number.MIN_VALUE,We;for(let qe=0;qe<$e.length;qe++)We=-1*(Ve[qe]*je[qe]>0?Math.log(Ve[qe]*je[qe]):0)+2*(r[qe]*(1-r[qe])>0?Math.log(r[qe]*(1-r[qe])):0),We>Xe&&(Xe=We,ze=qe);return ze}const methods$2={huang:huang$1,intermodes:intermodes$1,isodata:isodata$1,li:li$1,maxentropy:maxEntropy$1,mean:mean$1$1,minerror:minError$1,minimum:minimum$1,moments:moments$1,otsu:otsu$1,percentile:percentile$1,renyientropy:renyiEntropy$1,shanbhag:shanbhag$1,triangle:triangle$1$1,yen:yen$1},names$1={};Object.keys(methods$2).forEach($e=>{names$1[$e]=$e});function getThreshold$2($e={}){let{algorithm:e=names$1.otsu}=$e;this.checkProcessable("getThreshold",{components:1,bitDepth:[8,16]});let t=methods$2[e.toLowerCase()];if(t){let r=this.getHistogram();return t(r,this.size)}else throw new Error(`unknown thresholding algorithm: ${e}`)}const THRESHOLD$1="threshold";function mask$1($e={}){let{algorithm:e=THRESHOLD$1,threshold:t=.5,useAlpha:r=!0,invert:Ve=!1}=$e;this.checkProcessable("mask",{components:1,bitDepth:[8,16]}),e===THRESHOLD$1?t=getThreshold$1$1(t,this.maxValue):t=getThreshold$2.call(this,$e);let je=new Image$2(this.width,this.height,{kind:"BINARY",parent:this}),ze=0;if(this.alpha&&r)for(let Xe=0;Xe<this.data.length;Xe+=this.channels){let We=this.data[Xe]+(this.maxValue-this.data[Xe])*(this.maxValue-this.data[Xe+1])/this.maxValue;(Ve&&We<=t||!Ve&&We>=t)&&je.setBit(ze),ze++}else for(let Xe=0;Xe<this.data.length;Xe+=this.channels)(Ve&&this.data[Xe]<=t||!Ve&&this.data[Xe]>=t)&&je.setBit(ze),ze++;return je}function copyImage$1($e,e,t,r){let Ve=$e.width,je=$e.height,ze=e.width,Xe=$e.channels;for(let We=0;We<Ve;We++)for(let qe=0;qe<je;qe++)for(let Ke=0;Ke<Xe;Ke++){let Ze=(qe*Ve+We)*Xe+Ke,Je=((r+qe)*ze+t+We)*Xe+Ke;e.data[Je]=$e.data[Ze]}}function pad$1($e={}){let{size:e=0,algorithm:t="copy",color:r}=$e;if(this.checkProcessable("pad",{bitDepth:[8,16]}),t==="set"){if(r.length!==this.channels)throw new Error(`pad: the color array must have the same length as the number of channels. Here: ${this.channels}`);for(let We=0;We<r.length;We++)r[We]===0&&(r[We]=.001)}else r=newArray$1$1(this.channels,null);Array.isArray(e)||(e=[e,e]);let Ve=this.width+e[0]*2,je=this.height+e[1]*2,ze=this.channels,Xe=Image$2.createFrom(this,{width:Ve,height:je});copyImage$1(this,Xe,e[0],e[1]);for(let We=e[0];We<Ve-e[0];We++)for(let qe=0;qe<ze;qe++){let Ke=r[qe]||Xe.data[(e[1]*Ve+We)*ze+qe];for(let Ze=0;Ze<e[1];Ze++)Xe.data[(Ze*Ve+We)*ze+qe]=Ke;Ke=r[qe]||Xe.data[((je-e[1]-1)*Ve+We)*ze+qe];for(let Ze=je-e[1];Ze<je;Ze++)Xe.data[(Ze*Ve+We)*ze+qe]=Ke}for(let We=0;We<je;We++)for(let qe=0;qe<ze;qe++){let Ke=r[qe]||Xe.data[(We*Ve+e[0])*ze+qe];for(let Ze=0;Ze<e[0];Ze++)Xe.data[(We*Ve+Ze)*ze+qe]=Ke;Ke=r[qe]||Xe.data[(We*Ve+Ve-e[0]-1)*ze+qe];for(let Ze=Ve-e[0];Ze<Ve;Ze++)Xe.data[(We*Ve+Ze)*ze+qe]=Ke}return Xe}function colorDepth$1($e=8){if(this.checkProcessable("colorDepth",{bitDepth:[1,8,16]}),![8,16].includes($e))throw Error("You need to specify the new colorDepth as 8 or 16");if(this.bitDepth===$e)return this.clone();let e=Image$2.createFrom(this,{bitDepth:$e});switch($e){case 8:if(this.bitDepth===1)for(let t=0;t<this.size;t++)this.getBit(t)&&(e.data[t]=255);else for(let t=0;t<this.data.length;t++)e.data[t]=this.data[t]>>8;break;case 16:if(this.bitDepth===1)for(let t=0;t<this.size;t++)this.getBit(t)&&(e.data[t]=65535);else for(let t=0;t<this.data.length;t++)e.data[t]=this.data[t]<<8|this.data[t];break;default:throw new Error("colorDepth conversion unexpected case")}return e}function rotateFree$1($e,e={}){const{interpolation:t=validInterpolations$1.nearestneighbor,width:r=this.width,height:Ve=this.height}=e;if(typeof $e!="number")throw new TypeError("degrees must be a number");const je=checkInterpolation$1(t),ze=$e*Math.PI/180,Xe=Math.floor(Math.abs(r*Math.cos(ze))+Math.abs(Ve*Math.sin(ze))),We=Math.floor(Math.abs(Ve*Math.cos(ze))+Math.abs(r*Math.sin(ze))),qe=Math.cos(-ze),Ke=Math.sin(-ze);let Ze=Xe/2,Je=We/2;Xe%2===0?(Ze=Ze-.5,We%2===0?Je=Je-.5:Je=Math.floor(Je)):(Ze=Math.floor(Ze),We%2===0?Je=Je-.5:Je=Math.floor(Je));const Qe=Math.floor(r/2-Ze),ti=Math.floor(Ve/2-Je);if(this.bitDepth===1){const ni=new Image$2(Xe,We,{kind:"BINARY",parent:this});switch(je){case validInterpolations$1.nearestneighbor:return rotateBinaryNearestNeighbor$1(this,ni,Qe,ti,Ze,Je,qe,Ke);case validInterpolations$1.bilinear:return rotateBinaryBilinear$1(this,ni,Qe,ti,Ze,Je,qe,Ke);default:throw new Error(`unsupported rotate interpolation: ${je}`)}}else{const ni=Image$2.createFrom(this,{width:Xe,height:We});switch(je){case validInterpolations$1.nearestneighbor:return rotateNearestNeighbor$1(this,ni,Qe,ti,Ze,Je,qe,Ke);case validInterpolations$1.bilinear:return rotateBilinear$1(this,ni,Qe,ti,Ze,Je,qe,Ke);default:throw new Error(`unsupported rotate interpolation: ${je}`)}}}function rotateNearestNeighbor$1($e,e,t,r,Ve,je,ze,Xe){for(let We=0;We<e.width;We+=1)for(let qe=0;qe<e.height;qe+=1)for(let Ke=0;Ke<$e.channels;Ke++){let Ze=Math.round((We-Ve)*ze-(qe-je)*Xe+Ve)+t,Je=Math.round((qe-je)*ze+(We-Ve)*Xe+je)+r;Ze<0||Ze>=$e.width||Je<0||Je>=$e.height?$e.alpha===1&&Ke===$e.channels-1?e.setValueXY(We,qe,Ke,0):e.setValueXY(We,qe,Ke,$e.maxValue):e.setValueXY(We,qe,Ke,$e.getValueXY(Ze,Je,Ke))}return e}function rotateBinaryNearestNeighbor$1($e,e,t,r,Ve,je,ze,Xe){for(let We=0;We<e.width;We+=1)for(let qe=0;qe<e.height;qe+=1){let Ke=Math.round((We-Ve)*ze-(qe-je)*Xe+Ve)+t,Ze=Math.round((qe-je)*ze+(We-Ve)*Xe+je)+r;(Ke<0||Ke>=$e.width||Ze<0||Ze>=$e.height||$e.getBitXY(Ke,Ze))&&e.setBitXY(We,qe)}return e}function rotateBilinear$1($e,e,t,r,Ve,je,ze,Xe){let We=$e.width*$e.channels;for(let qe=0;qe<e.height;qe++)for(let Ke=0;Ke<e.width;Ke++){let Ze=(Ke-Ve)*ze-(qe-je)*Xe+Ve+t,Je=(qe-je)*ze+(Ke-Ve)*Xe+je+r,Qe=Ze|0,ti=Je|0,ni=Ze-Qe,ri=Je-ti;for(let ii=0;ii<$e.channels;ii++)if(Ze<0||Ze>=$e.width||Je<0||Je>=$e.height)$e.alpha===1&&ii===$e.channels-1?e.setValueXY(Ke,qe,ii,0):e.setValueXY(Ke,qe,ii,$e.maxValue);else{let ei=(ti*$e.width+Qe)*$e.channels+ii,St=$e.data[ei],oi=$e.data[ei+$e.channels],si=$e.data[ei+We],ai=$e.data[ei+We+$e.channels],ui=St+ni*(oi-St)+ri*(si-St)+ni*ri*(St-oi-si+ai)|0;e.setValueXY(Ke,qe,ii,ui)}}return e}function rotateBinaryBilinear$1($e,e,t,r,Ve,je,ze,Xe){let We=$e.width;for(let qe=0;qe<e.height;qe++)for(let Ke=0;Ke<e.width;Ke++){let Ze=(Ke-Ve)*ze-(qe-je)*Xe+Ve+t,Je=(qe-je)*ze+(Ke-Ve)*Xe+je+r,Qe=Ze|0,ti=Je|0,ni=Ze-Qe,ri=Je-ti;if(Ze<0||Ze>=$e.width||Je<0||Je>=$e.height)e.setBitXY(Ke,qe);else{let ii=ti*$e.width+Qe,ei=$e.getBit(ii),St=$e.getBit(ii+1),oi=$e.getBit(ii+We),si=$e.getBit(ii+1+We);(ei|ni&St-ei|ri&oi-ei|ni&ri&ei-St-oi+si)>0&&e.setBitXY(Ke,qe)}}return e}function rotate$1$1($e,e){if(this.checkProcessable("rotate",{bitDepth:[1,8,16]}),typeof $e!="number")throw new TypeError("angle must be a number");switch($e<0&&($e=Math.ceil(-$e/360)*360+$e),$e%360){case 0:return this.clone();case 90:return rotateRight$1.call(this);case 180:return rotate180$1.call(this);case 270:return rotateLeft$1.call(this);default:return rotateFree$1.call(this,$e,e)}}function rotateLeft$1(){if(this.bitDepth===1){const $e=new Image$2(this.height,this.width,{kind:"BINARY",parent:this}),e=$e.height-1;for(let t=0;t<this.height;t++)for(let r=0;r<this.width;r++)this.getBitXY(r,t)&&$e.setBitXY(t,e-r);return $e}else{const $e=Image$2.createFrom(this,{width:this.height,height:this.width}),e=$e.height-1;for(let t=0;t<this.height;t++)for(let r=0;r<this.width;r++)for(let Ve=0;Ve<this.channels;Ve++)$e.setValueXY(t,e-r,Ve,this.getValueXY(r,t,Ve));return $e}}function rotateRight$1(){if(this.bitDepth===1){const $e=new Image$2(this.height,this.width,{kind:"BINARY",parent:this}),e=$e.width-1;for(let t=0;t<this.height;t++)for(let r=0;r<this.width;r++)this.getBitXY(r,t)&&$e.setBitXY(e-t,r);return $e}else{const $e=Image$2.createFrom(this,{width:this.height,height:this.width}),e=$e.width-1;for(let t=0;t<this.height;t++)for(let r=0;r<this.width;r++)for(let Ve=0;Ve<this.channels;Ve++)$e.setValueXY(e-t,r,Ve,this.getValueXY(r,t,Ve));return $e}}function rotate180$1(){if(this.bitDepth===1){const $e=new Image$2(this.width,this.height,{kind:"BINARY",parent:this}),e=$e.width-1,t=$e.height-1;for(let r=0;r<this.height;r++)for(let Ve=0;Ve<this.width;Ve++)this.getBitXY(Ve,r)&&$e.setBitXY(e-Ve,t-r);return $e}else{const $e=Image$2.createFrom(this),e=$e.width-1,t=$e.height-1;for(let r=0;r<this.height;r++)for(let Ve=0;Ve<this.width;Ve++)for(let je=0;je<this.channels;je++)$e.setValueXY(e-Ve,t-r,je,this.getValueXY(Ve,r,je));return $e}}function insert$1($e,e={}){const t=getImageParameters$1($e);this.checkProcessable("insert",t);let{x:r=0,y:Ve=0}=e;const je=getOutputImageOrInPlace$1(this,e,{copy:!0}),ze=Math.min(je.height,Ve+$e.height),Xe=Math.min(je.width,r+$e.width);if(je.bitDepth===1)for(let We=Ve;We<ze;We++)for(let qe=r;qe<Xe;qe++)$e.getBitXY(qe-r,We-Ve)?je.setBitXY(qe,We):je.clearBitXY(qe,We);else for(let We=Ve;We<ze;We++)for(let qe=r;qe<Xe;qe++)je.setPixelXY(qe,We,$e.getPixelXY(qe-r,We-Ve));return je}function setBorder$1($e={}){let{size:e=0,algorithm:t="copy",color:r}=$e;if(this.checkProcessable("setBorder",{bitDepth:[8,16,32,64]}),t==="set"){if(r.length!==this.channels)throw new Error(`setBorder: the color array must have the same length as the number of channels. Here: ${this.channels}`);for(let Xe=0;Xe<r.length;Xe++)r[Xe]===0&&(r[Xe]=.001)}else r=newArray$1$1(this.channels,null);Array.isArray(e)||(e=[e,e]);let Ve=e[0],je=e[1],ze=this.channels;for(let Xe=Ve;Xe<this.width-Ve;Xe++)for(let We=0;We<ze;We++){let qe=r[We]||this.data[(Xe+this.width*je)*ze+We];for(let Ke=0;Ke<je;Ke++)this.data[(Ke*this.width+Xe)*ze+We]=qe;qe=r[We]||this.data[(Xe+this.width*(this.height-je-1))*ze+We];for(let Ke=this.height-je;Ke<this.height;Ke++)this.data[(Ke*this.width+Xe)*ze+We]=qe}for(let Xe=0;Xe<this.height;Xe++)for(let We=0;We<ze;We++){let qe=r[We]||this.data[(Xe*this.width+Ve)*ze+We];for(let Ke=0;Ke<Ve;Ke++)this.data[(Xe*this.width+Ke)*ze+We]=qe;qe=r[We]||this.data[(Xe*this.width+this.width-Ve-1)*ze+We];for(let Ke=this.width-Ve;Ke<this.width;Ke++)this.data[(Xe*this.width+Ke)*ze+We]=qe}return this}function split$1($e={}){let{preserveAlpha:e=!0}=$e;if(this.checkProcessable("split",{bitDepth:[8,16]}),this.components===1)return new Stack$1([this.clone()]);let t=new Stack$1,r=this.data;if(this.alpha&&e)for(let Ve=0;Ve<this.components;Ve++){let je=Image$2.createFrom(this,{components:1,alpha:!0,colorModel:GREY$1$1}),ze=0;for(let Xe=0;Xe<r.length;Xe+=this.channels)je.data[ze++]=r[Xe+Ve],je.data[ze++]=r[Xe+this.components];t.push(je)}else for(let Ve=0;Ve<this.channels;Ve++){let je=Image$2.createFrom(this,{components:1,alpha:!1,colorModel:GREY$1$1}),ze=0;for(let Xe=0;Xe<r.length;Xe+=this.channels)je.data[ze++]=r[Xe+Ve];t.push(je)}return t}function getChannel$1($e,e={}){let{keepAlpha:t=!1,mergeAlpha:r=!1}=e;t&=this.alpha,r&=this.alpha,this.checkProcessable("getChannel",{bitDepth:[8,16]}),$e=validateChannel$1(this,$e);let Ve=Image$2.createFrom(this,{components:1,alpha:t,colorModel:GREY$1$1}),je=0;for(let ze=0;ze<this.data.length;ze+=this.channels)r?Ve.data[je++]=this.data[ze+$e]*this.data[ze+this.components]/this.maxValue:(Ve.data[je++]=this.data[ze+$e],t&&(Ve.data[je++]=this.data[ze+this.components]));return Ve}function combineChannels$1($e=defaultCombineMethod$1,e={}){let{mergeAlpha:t=!1,keepAlpha:r=!1}=e;t&=this.alpha,r&=this.alpha,this.checkProcessable("combineChannels",{bitDepth:[8,16]});let Ve=Image$2.createFrom(this,{components:1,alpha:r,colorModel:GREY$1$1}),je=0;for(let ze=0;ze<this.size;ze++){let Xe=$e(this.getPixel(ze));t?Ve.data[je++]=Xe*this.data[ze*this.channels+this.components]/this.maxValue:(Ve.data[je++]=Xe,r&&(Ve.data[je++]=this.data[ze*this.channels+this.components]))}return Ve}function defaultCombineMethod$1($e){return($e[0]+$e[1]+$e[2])/3}function setChannel$1($e,e){if(this.checkProcessable("setChannel",{bitDepth:[8,16]}),e.checkProcessable("setChannel (image parameter check)",{bitDepth:[this.bitDepth],alpha:[0],components:[1]}),e.width!==this.width||e.height!==this.height)throw new Error("Images must have exactly the same width and height");$e=validateChannel$1(this,$e);let t=$e;for(let r=0;r<e.data.length;r++)this.data[t]=e.data[r],t+=this.channels;return this}function getSimilarity$1($e,e={}){let{shift:t=[0,0],average:r,channels:Ve,defaultAlpha:je,normalize:ze,border:Xe=[0,0]}=e;if(this.checkProcessable("getSimilarity",{bitDepth:[8,16]}),Array.isArray(Xe)||(Xe=[Xe,Xe]),Ve=validateArrayOfChannels$1(this,{channels:Ve,defaultAlpha:je}),this.bitDepth!==$e.bitDepth)throw new Error("Both images must have the same bitDepth");if(this.channels!==$e.channels)throw new Error("Both images must have the same number of channels");if(this.colorModel!==$e.colorModel)throw new Error("Both images must have the same colorModel");typeof r>"u"&&(r=!0);let We=Math.max(Xe[0],-t[0]),qe=Math.min(this.width-Xe[0],this.width-t[0]),Ke=Math.max(Xe[1],-t[1]),Ze=Math.min(this.height-Xe[1],this.height-t[1]),Je=newArray$1$1(Ve.length,0);for(let Qe=0;Qe<Ve.length;Qe++){let ti=Ve[Qe],ni=ze?this.sum[ti]:Math.max(this.sum[ti],$e.sum[ti]),ri=ze?$e.sum[ti]:Math.max(this.sum[ti],$e.sum[ti]);if(ni!==0&&ri!==0)for(let ii=We;ii<qe;ii++)for(let ei=Ke;ei<Ze;ei++){let St=ii*this.multiplierX+ei*this.multiplierY+ti,oi=St+t[0]*this.multiplierX+t[1]*this.multiplierY;Je[Qe]+=Math.min(this.data[St]/ni,$e.data[oi]/ri)}}return r?Je.reduce((Qe,ti)=>Qe+ti)/Je.length:Je}function getPixelsGrid$1($e={}){let{sampling:e=[10,10],painted:t=!1,mask:r}=$e;this.checkProcessable("getPixelsGrid",{bitDepth:[8,16],channels:1}),Array.isArray(e)||(e=[e,e]);const Ve=e[0],je=e[1],ze=[],Xe=[],We=this.width/Ve,qe=this.height/je;let Ke=Math.floor(We/2);for(let Je=0;Je<Ve;Je++){let Qe=Math.floor(qe/2);for(let ti=0;ti<je;ti++){let ni=Math.round(Ke),ri=Math.round(Qe);(!r||r.getBitXY(ni,ri))&&(ze.push([ni,ri]),Xe.push(this.getPixelXY(ni,ri))),Qe+=qe}Ke+=We}const Ze={xyS:ze,zS:Xe};return t&&(Ze.painted=this.rgba8().paintPoints(ze)),Ze}function Matrix$4($e,e,t){const r=new Array($e);for(let Ve=0;Ve<$e;Ve++)r[Ve]=new Array(e);if(t)for(let Ve=0;Ve<$e;Ve++)for(let je=0;je<e;je++)r[Ve][je]=t;return r.width=$e,r.height=e,Object.setPrototypeOf(r,Matrix$4.prototype),r}Matrix$4.prototype.localMin=function($e,e){let t=this[$e][e],r=[$e,e];for(let Ve=Math.max(0,$e-1);Ve<Math.min(this.length,$e+2);Ve++)for(let je=Math.max(0,e-1);je<Math.min(this[0].length,e+2);je++)this[Ve][je]<t&&(t=this[Ve][je],r=[Ve,je]);return{position:r,value:t}};Matrix$4.prototype.localMax=function($e,e){let t=this[$e][e],r=[$e,e];for(let Ve=Math.max(0,$e-1);Ve<Math.min(this.length,$e+2);Ve++)for(let je=Math.max(0,e-1);je<Math.min(this[0].length,e+2);je++)this[Ve][je]>t&&(t=this[Ve][je],r=[Ve,je]);return{position:r,value:t}};Matrix$4.prototype.localSearch=function($e,e,t){let r=[];for(let Ve=Math.max(0,$e-1);Ve<Math.min(this.length,$e+2);Ve++)for(let je=Math.max(0,e-1);je<Math.min(this[0].length,e+2);je++)this[Ve][je]===t&&r.push([Ve,je]);return r};function getBestMatch$1($e,e={}){let{border:t}=e;if(this.checkProcessable("getChannel",{bitDepth:[8,16]}),this.bitDepth!==$e.bitDepth)throw new Error("Both images must have the same bitDepth");if(this.channels!==$e.channels)throw new Error("Both images must have the same number of channels");if(this.colorModel!==$e.colorModel)throw new Error("Both images must have the same colorModel");let r=new Matrix$4($e.width,$e.height,-1/0),Ve=Math.floor($e.width/2),je=Math.floor($e.height/2),ze=Ve,Xe=je,We=!1;for(;!We;){let qe=r.localSearch(Ve,je,-1/0);for(let Ze=0;Ze<qe.length;Ze++){let Je=qe[Ze],Qe=this.getSimilarity($e,{border:t,shift:[ze-Je[0],Xe-Je[1]]});r[Je[0]][Je[1]]=Qe}let Ke=r.localMax(Ve,je);Ke.position[0]!==Ve||Ke.position[1]!==je?(Ve=Ke.position[0],je=Ke.position[1]):We=!0}return[Ve-ze,je-Xe]}function getRow$1($e,e=0){this.checkProcessable("getRow",{bitDepth:[8,16]}),checkRow$1(this,$e),checkChannel$1(this,e);let t=new Array(this.width),r=0,Ve=$e*this.width*this.channels+e,je=Ve+this.width*this.channels;for(let ze=Ve;ze<je;ze+=this.channels)t[r++]=this.data[ze];return t}function getColumn$1($e,e=0){this.checkProcessable("getColumn",{bitDepth:[8,16]}),checkColumn$1(this,$e),checkChannel$1(this,e);let t=new Array(this.height),r=0,Ve=this.width*this.channels;for(let je=e+$e*this.channels;je<this.data.length;je+=Ve)t[r++]=this.data[je];return t}function getMatrix$1($e={}){let{channel:e}=$e;if(this.checkProcessable("getMatrix",{bitDepth:[8,16]}),e===void 0){if(this.components>1)throw new RangeError("You need to define the channel for an image that contains more than one channel");e=0}let t=new Matrix$2$1(this.height,this.width);for(let r=0;r<this.height;r++)for(let Ve=0;Ve<this.width;Ve++)t.set(r,Ve,this.getValueXY(Ve,r,e));return t}function setMatrix$1($e,e={}){$e=new Matrix$2$1($e);let{channel:t}=e;if(this.checkProcessable("getMatrix",{bitDepth:[8,16]}),t===void 0){if(this.components>1)throw new RangeError("You need to define the channel for an image that contains more than one channel");t=0}if(this.width!==$e.columns||this.height!==$e.rows)throw new RangeError("The size of the matrix must be equal to the size of the image");for(let r=0;r<this.height;r++)for(let Ve=0;Ve<this.width;Ve++)this.setValueXY(Ve,r,t,$e.get(r,Ve));return this}function getPixelsArray$1(){this.checkProcessable("getPixelsArray",{bitDepth:[8,16,32]});let $e=new Array(this.size),e=0;for(let t=0;t<this.data.length;t+=this.channels){let r=new Array(this.components);for(let Ve=0;Ve<this.components;Ve++)r[Ve]=this.data[t+Ve];$e[e++]=r}return $e}function getIntersection$1($e){let e=this,t=e.getClosestCommonParent($e),r=e.getRelativePosition(t,{defaultFurther:!0}),Ve=getRelativePositionForAllPixels$1(e,r),je=$e.getRelativePosition(t,{defaultFurther:!0}),ze=getRelativePositionForAllPixels$1($e,je),Xe=getCommonSurface$1(Ve,ze),We={whitePixelsMask1:[],whitePixelsMask2:[],commonWhitePixels:[]};for(let qe=0;qe<Xe.length;qe++){let Ke=Xe[qe],Ze=[Ke[0]-r[0],Ke[1]-r[1]],Je=[Ke[0]-je[0],Ke[1]-je[1]],Qe=e.getBitXY(Ze[0],Ze[1]),ti=$e.getBitXY(Je[0],Je[1]);Qe===1&&ti===1&&We.commonWhitePixels.push(Ke)}for(let qe=0;qe<Ve.length;qe++){let Ke,Ze;qe!==0&&(Ke=Math.floor(qe/e.width),Ze=qe%e.width),e.getBitXY(Ke,Ze)===1&&We.whitePixelsMask1.push(Ve[qe])}for(let qe=0;qe<ze.length;qe++){let Ke=0,Ze=0;qe!==0&&(Ke=Math.floor(qe/$e.width),Ze=qe%$e.width),$e.getBitXY(Ke,Ze)===1&&We.whitePixelsMask2.push(ze[qe])}return We}function getRelativePositionForAllPixels$1($e,e){let t=[];for(let r=0;r<$e.height;r++)for(let Ve=0;Ve<$e.width;Ve++){let je=[r,Ve];t.push([je[0]+e[0],je[1]+e[1]])}return t}function getCommonSurface$1($e,e){let t=0,r=0,Ve=[];for(;t<$e.length&&r<e.length;)$e[t][0]===e[r][0]&&$e[t][1]===e[r][1]?(Ve.push($e[t]),t++,r++):$e[t][0]<e[r][0]||$e[t][0]===e[r][0]&&$e[t][1]<e[r][1]?t++:r++;return Ve}function getClosestCommonParent$1($e){let e=getDepth$1(this),t=getDepth$1($e),r;if(e>=t?r=getFurthestParent$1(this,e):r=getFurthestParent$1($e,t),e===0||t===0)return r;let Ve=this,je=$e;for(;e!==t;)if(e>t){if(Ve=Ve.parent,Ve===null)return r;e=e-1}else{if(je=je.parent,je===null)return r;t=t-1}for(;Ve!==je&&Ve!==null&&je!==null;)if(Ve=Ve.parent,je=je.parent,Ve===null||je===null)return r;return Ve!==je?r:Ve}function getDepth$1($e){let e=0,t=$e;for(;t.parent!=null;)t=t.parent,e++;return e}function getFurthestParent$1($e,e){let t=$e;for(;e>0;)t=t.parent,e=e-1;return t}const defaultOptions$1$1={lowThreshold:10,highThreshold:30,gaussianBlur:1.1},Gx$1=[[-1,0,1],[-2,0,2],[-1,0,1]],Gy$1=[[-1,-2,-1],[0,0,0],[1,2,1]],convOptions$1={bitDepth:32,mode:"periodic"};function cannyEdgeDetector$1($e,e){$e.checkProcessable("Canny edge detector",{bitDepth:8,channels:1,components:1}),e=Object.assign({},defaultOptions$1$1,e);const t=$e.width,r=$e.height,Ve=$e.maxValue,je={sigma:e.gaussianBlur,radius:3},ze=$e.gaussianFilter(je),Xe=ze.convolution(Gy$1,convOptions$1),We=ze.convolution(Gx$1,convOptions$1),qe=We.hypotenuse(Xe),Ke=$e.constructor,Ze=new Ke(t,r,{kind:"GREY",bitDepth:32}),Je=new Ke(t,r,{kind:"GREY",bitDepth:32}),Qe=new Ke(t,r,{kind:"GREY"});for(var ti=1;ti<t-1;ti++)for(var ni=1;ni<r-1;ni++){var ri=(Math.round(Math.atan2(We.getValueXY(ti,ni,0),Xe.getValueXY(ti,ni,0))*(5/Math.PI))+5)%5;ri===0&&(qe.getValueXY(ti,ni,0)<=qe.getValueXY(ti,ni-1,0)||qe.getValueXY(ti,ni,0)<=qe.getValueXY(ti,ni+1,0))||ri===1&&(qe.getValueXY(ti,ni,0)<=qe.getValueXY(ti-1,ni+1,0)||qe.getValueXY(ti,ni,0)<=qe.getValueXY(ti+1,ni-1,0))||ri===2&&(qe.getValueXY(ti,ni,0)<=qe.getValueXY(ti-1,ni,0)||qe.getValueXY(ti,ni,0)<=qe.getValueXY(ti+1,ni,0))||ri===3&&(qe.getValueXY(ti,ni,0)<=qe.getValueXY(ti-1,ni-1,0)||qe.getValueXY(ti,ni,0)<=qe.getValueXY(ti+1,ni+1,0))||Ze.setValueXY(ti,ni,0,qe.getValueXY(ti,ni,0))}for(ti=0;ti<t*r;++ti){var ii=Ze.data[ti],ei=0;ii>e.highThreshold&&(ei++,Qe.data[ti]=Ve),ii>e.lowThreshold&&ei++,Je.data[ti]=ei}var St=[];for(ti=1;ti<t-1;++ti)for(ni=1;ni<r-1;++ni)if(Je.getValueXY(ti,ni,0)===1){e:for(var oi=ti-1;oi<ti+2;++oi)for(var si=ni-1;si<ni+2;++si)if(Je.getValueXY(oi,si,0)===2){St.push([ti,ni]),Qe.setValueXY(ti,ni,0,Ve);break e}}for(;St.length>0;){var ai=[];for(ti=0;ti<St.length;++ti)for(ni=-1;ni<2;++ni)for(oi=-1;oi<2;++oi)if(!(ni===0&&oi===0)){var ui=St[ti][0]+ni,hi=St[ti][1]+oi;Je.getValueXY(ui,hi,0)===1&&Qe.getValueXY(ui,hi,0)===0&&(ai.push([ui,hi]),Qe.setValueXY(ui,hi,0,Ve))}St=ai}return Qe}function cannyEdge$1($e){return cannyEdgeDetector$1(this,$e)}function extract$1($e,e={}){let{position:t}=e;if(this.checkProcessable("extract",{bitDepth:[1,8,16]}),!t&&(t=$e.getRelativePosition(this),!t))throw new Error("extract : can not extract an image because the relative position can not be determined, try to specify manually the position as an array of 2 elements [x,y].");if(this.bitDepth>1){let r=Image$2.createFrom(this,{width:$e.width,height:$e.height,alpha:1,position:t,parent:this});for(let Ve=0;Ve<$e.width;Ve++)for(let je=0;je<$e.height;je++){for(let ze=0;ze<this.channels;ze++){let Xe=this.getValueXY(Ve+t[0],je+t[1],ze);r.setValueXY(Ve,je,ze,Xe)}$e.getBitXY(Ve,je)||r.setValueXY(Ve,je,this.components,0)}return r}else{let r=Image$2.createFrom(this,{width:$e.width,height:$e.height,position:t,parent:this});for(let Ve=0;Ve<$e.height;Ve++)for(let je=0;je<$e.width;je++)$e.getBitXY(je,Ve)&&this.getBitXY(je+t[0],Ve+t[1])&&r.setBitXY(je,Ve);return r}}var fastList$1={exports:{}};(function($e,e){(function(){function t(Ve,je,ze){this.next=ze,ze&&(ze.prev=this),this.prev=je,je&&(je.next=this),this.data=Ve}function r(){if(!(this instanceof r))return new r;this._head=null,this._tail=null,this.length=0}r.prototype={push:function(Ve){this._tail=new t(Ve,this._tail,null),this._head||(this._head=this._tail),this.length++},pop:function(){if(this.length!==0){var Ve=this._tail;return this._tail=Ve.prev,Ve.prev&&(Ve.prev=this._tail.next=null),this.length--,this.length===1?this._head=this._tail:this.length===0&&(this._head=this._tail=null),Ve.data}},unshift:function(Ve){this._head=new t(Ve,null,this._head),this._tail||(this._tail=this._head),this.length++},shift:function(){if(this.length!==0){var Ve=this._head;return this._head=Ve.next,Ve.next&&(Ve.next=this._head.prev=null),this.length--,this.length===1?this._tail=this._head:this.length===0&&(this._head=this._tail=null),Ve.data}},item:function(Ve){Ve<0&&(Ve=this.length+Ve);for(var je=this._head;Ve-- >0&&je;)je=je.next;return je?je.data:void 0},slice:function(Ve,je){if(Ve||(Ve=0),je||(je=this.length),je<0&&(je=this.length+je),Ve<0&&(Ve=this.length+Ve),je===Ve)return[];if(je<Ve)throw new Error("invalid offset: "+Ve+","+je+" (length="+this.length+")");for(var ze=je-Ve,Xe=new Array(ze),We=0,qe=this._head;Ve-- >0&&qe;)qe=qe.next;for(;We<ze&&qe;)Xe[We++]=qe.data,qe=qe.next;return Xe},drop:function(){r.call(this)},forEach:function(Ve,je){for(var ze=this._head,Xe=0,We=this.length;Xe<We&&ze;)Ve.call(je||this,ze.data,Xe,this),ze=ze.next,Xe++},map:function(Ve,je){var ze=new r;return this.forEach(function(Xe,We,qe){ze.push(Ve.call(je||qe,Xe,We,qe))}),ze},filter:function(Ve,je){var ze=new r;return this.forEach(function(Xe,We,qe){Ve.call(je||qe,Xe,We,qe)&&ze.push(Xe)}),ze},reduce:function(Ve,je,ze){var Xe=0,We=this._head,qe=this.length;for(je||(Xe=1,je=We&&We.data,We=We&&We.next);Xe<qe&&We;)je=Ve.call(ze||this,je,We.data,this),Xe++,We=We.next;return je}},$e.exports=r})()})(fastList$1);var fastListExports$1=fastList$1.exports;const LinkedList$1=getDefaultExportFromCjs$1(fastListExports$1);function floodFill$1($e={}){const{x:e=0,y:t=0,inPlace:r=!0}=$e,Ve=r?this:Image$2.createFrom(this);if(this.checkProcessable("floodFill",{bitDepth:1}),this.getBitXY(e,t))return Ve;const je=new LinkedList$1;for(je.push(new Node$1(e,t));je.length>0;){const ze=je.shift();Ve.setBitXY(ze.x,ze.y);for(let Xe=ze.x+1;Xe<this.width&&!Ve.getBitXY(Xe,ze.y)&&!this.getBitXY(Xe,ze.y);Xe++)Ve.setBitXY(Xe,ze.y),ze.y+1<this.height&&!this.getBitXY(Xe,ze.y+1)&&je.push(new Node$1(Xe,ze.y+1)),ze.y-1>=0&&!this.getBitXY(Xe,ze.y-1)&&je.push(new Node$1(Xe,ze.y-1));for(let Xe=ze.x-1;Xe>=0&&!Ve.getBitXY(Xe,ze.y)&&!this.getBitXY(Xe,ze.y);Xe++)Ve.setBitXY(Xe,ze.y),ze.y+1<this.height&&!this.getBitXY(Xe,ze.y+1)&&je.push(new Node$1(Xe,ze.y+1)),ze.y-1>=0&&!this.getBitXY(Xe,ze.y-1)&&je.push(new Node$1(Xe,ze.y-1))}return Ve}function Node$1($e,e){this.x=$e,this.y=e}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function($e){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&($e[r]=t[r])}return $e},_extends$1.apply(this,arguments)}function hsv2rgb$1($e,e,t){e=e/100,t=t/100;var r=[],Ve=t*e,je=$e/60,ze=Ve*(1-Math.abs(je%2-1)),Xe=t-Ve;return je>=0&&je<1?r=[Ve,ze,0]:je>=1&&je<2?r=[ze,Ve,0]:je>=2&&je<3?r=[0,Ve,ze]:$e>=3&&je<4?r=[0,ze,Ve]:$e>=4&&je<5?r=[ze,0,Ve]:$e>=5&&je<=6?r=[Ve,0,ze]:r=[0,0,0],{r:Math.round(255*(r[0]+Xe)),g:Math.round(255*(r[1]+Xe)),b:Math.round(255*(r[2]+Xe))}}function hsl2hsv$1($e,e,t){return e*=(t<50?t:100-t)/100,{h:$e,s:2*e/(t+e)*100,v:t+e}}function hsl2rgb$1$1($e,e,t){var r=hsl2hsv$1($e,e,t);return hsv2rgb$1(r.h,r.s,r.v)}var colors$1={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]};function parse$1($e){return named$1($e)||hex3$1($e)||hex6$1($e)||rgb$1($e)||rgba$1$1($e)||hsl$2($e)||hsla$1($e)}function named$1($e){var e=colors$1[$e.toLowerCase()];if(e)return{r:e[0],g:e[1],b:e[2],a:100}}function rgb$1($e){var e=$e.match(/rgb\(([^)]+)\)/);if(e){var t=e[1].split(/ *, */).map(Number);return{r:t[0],g:t[1],b:t[2],a:100}}}function rgba$1$1($e){var e=$e.match(/rgba\(([^)]+)\)/);if(e){var t=e[1].split(/ *, */).map(Number);return{r:t[0],g:t[1],b:t[2],a:t[3]*100}}}function hex6$1($e){if($e[0]==="#"&&$e.length===7)return{r:parseInt($e.slice(1,3),16),g:parseInt($e.slice(3,5),16),b:parseInt($e.slice(5,7),16),a:100}}function hex3$1($e){if($e[0]==="#"&&$e.length===4)return{r:parseInt($e[1]+$e[1],16),g:parseInt($e[2]+$e[2],16),b:parseInt($e[3]+$e[3],16),a:100}}function hsl$2($e){var e=$e.match(/hsl\(([^)]+)\)/);if(e){var t=e[1].split(/ *, */),r=parseInt(t[0],10),Ve=parseInt(t[1],10),je=parseInt(t[2],10),ze=hsl2rgb$1$1(r,Ve,je);return _extends$1({},ze,{a:100})}}function hsla$1($e){var e=$e.match(/hsla\(([^)]+)\)/);if(e){var t=e[1].split(/ *, */),r=parseInt(t[0],10),Ve=parseInt(t[1],10),je=parseInt(t[2],10),ze=parseInt(parseFloat(t[3])*100,10),Xe=hsl2rgb$1$1(r,Ve,je);return _extends$1({},Xe,{a:ze})}}function css2array$1($e){let e=parse$1($e);return[e.r,e.g,e.b,Math.round(e.a*255/100)]}function hue2rgb$1($e,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?$e+(e-$e)*6*t:t<1/2?e:t<2/3?$e+(e-$e)*(2/3-t)*6:$e}function hsl2rgb$2($e,e,t){let r,Ve,je,ze,Xe,We;return e/=100,t/=100,e===0?ze=Xe=We=t*255:(t<=.5?Ve=t*(e+1):Ve=t+e-t*e,r=t*2-Ve,je=$e/360,ze=hue2rgb$1(r,Ve,je+1/3),Xe=hue2rgb$1(r,Ve,je),We=hue2rgb$1(r,Ve,je-1/3)),{r:ze,g:Xe,b:We}}function getDistinctColors$1($e){let e=new Array($e),t=0;for(let r=0;r<360;r+=360/$e){t++;let Ve=hsl2rgb$2(r,100,30+t%4*15);e[t-1]=[Math.round(Ve.r*255),Math.round(Ve.g*255),Math.round(Ve.b*255)]}return e}function getRandomColor$1(){return[Math.floor(Math.random()*256),Math.floor(Math.random()*256),Math.floor(Math.random()*256)]}function getColors$1($e){let{color:e,colors:t,randomColors:r,numberColors:Ve=50}=$e;if(e&&!Array.isArray(e)&&(e=css2array$1(e)),e)return[e];if(t)return t=t.map(function(je){return Array.isArray(je)?je:css2array$1(je)}),t;if(r){t=new Array(Ve);for(let je=0;je<Ve;je++)t[je]=getRandomColor$1()}return getDistinctColors$1(Ve)}function paintLabels$1($e,e,t={}){let{color:r="blue",colors:Ve,font:je="12px Helvetica",rotate:ze=0}=t;if(this.checkProcessable("paintMasks",{channels:[3,4],bitDepth:[8,16],colorModel:RGB$1$1}),!Array.isArray($e))throw Error("paintLabels: labels must be an array");if(!Array.isArray(e))throw Error("paintLabels: positions must be an array");if(r&&!Array.isArray(r)&&(r=css2array$1(r)),Ve?Ve=Ve.map(function(We){return Array.isArray(We)?We:css2array$1(We)}):Ve=[r],$e.length!==e.length)throw Error("paintLabels: positions and labels must be arrays from the same size");Array.isArray(je)||(je=[je]),Array.isArray(ze)||(ze=[ze]);let Xe=this.getCanvas().getContext("2d");for(let We=0;We<$e.length;We++){Xe.save();let qe=Ve[We%Ve.length];Xe.fillStyle=`rgba(${qe[0]},${qe[1]},${qe[2]},${qe[3]/this.maxValue})`,Xe.font=je[We%je.length];let Ke=e[We];Xe.translate(Ke[0],Ke[1]),Xe.rotate(ze[We%ze.length]/180*Math.PI),Xe.fillText($e[We],0,0),Xe.restore()}return this.data=Uint8Array.from(Xe.getImageData(0,0,this.width,this.height).data),this}function paintMasks$1($e,e={}){let{alpha:t=255,labels:r=[],labelsPosition:Ve=[],labelColor:je="blue",labelFont:ze="12px Helvetica"}=e;this.checkProcessable("paintMasks",{channels:[3,4],bitDepth:[8,16],colorModel:RGB$1$1});let Xe=getColors$1(Object.assign({},e,{numberColors:$e.length}));Array.isArray($e)||($e=[$e]);for(let We=0;We<$e.length;We++){let qe=$e[We],Ke=Xe[We%Xe.length];for(let Ze=0;Ze<qe.width;Ze++)for(let Je=0;Je<qe.height;Je++)if(qe.getBitXY(Ze,Je))for(let Qe=0;Qe<Math.min(this.components,Ke.length);Qe++)if(t===255)this.setValueXY(Ze+qe.position[0],Je+qe.position[1],Qe,Ke[Qe]);else{let ti=this.getValueXY(Ze+qe.position[0],Je+qe.position[1],Qe);ti=Math.round((ti*(255-t)+Ke[Qe]*t)/255),this.setValueXY(Ze+qe.position[0],Je+qe.position[1],Qe,ti)}}if(Array.isArray(r)&&r.length>0){let We=this.getCanvas().getContext("2d");We.fillStyle=je,We.font=ze;for(let qe=0;qe<Math.min($e.length,r.length);qe++){let Ke=Ve[qe]?Ve[qe]:$e[qe].position;We.fillText(r[qe],Ke[0],Ke[1])}this.data=Uint8Array.from(We.getImageData(0,0,this.width,this.height).data)}return this}function zerosMatrix$1($e,e){let t=new Array($e);for(let r=0;r<$e;r++)t[r]=new Array(e).fill(0);return t}const cross$1=[[0,0,1,0,0],[0,0,1,0,0],[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0]],smallCross$1=[[0,1,0],[1,1,1],[0,1,0]];let Shape$1=class{constructor(e={}){let{kind:t="cross",shape:r,size:Ve,width:je,height:ze,filled:Xe=!0}=e;if(Ve&&(je=Ve,ze=Ve),r)switch(r.toLowerCase()){case"square":case"rectangle":this.matrix=rectangle$1(je,ze,{filled:Xe});break;case"circle":case"ellipse":this.matrix=ellipse$1(je,ze,{filled:Xe});break;case"triangle":this.matrix=triangle$2(je,ze,{filled:Xe});break;default:throw new Error(`Shape: unexpected shape: ${r}`)}else if(t)switch(t.toLowerCase()){case"cross":this.matrix=cross$1;break;case"smallcross":this.matrix=smallCross$1;break;default:throw new Error(`Shape: unexpected kind: ${t}`)}else throw new Error("Shape: expected a kind or a shape option");this.height=this.matrix.length,this.width=this.matrix[0].length,this.halfHeight=this.height/2>>0,this.halfWidth=this.width/2>>0}getPoints(){let e=this.matrix,t=[];for(let r=0;r<e.length;r++)for(let Ve=0;Ve<e[0].length;Ve++)e[r][Ve]&&t.push([Ve-this.halfWidth,r-this.halfHeight]);return t}getMask(){let e=new Image$2(this.width,this.height,{kind:BINARY$1});for(let t=0;t<this.matrix.length;t++)for(let r=0;r<this.matrix[0].length;r++)this.matrix[t][r]&&e.setBitXY(r,t);return e}};function rectangle$1($e,e,t){const r=zerosMatrix$1(e,$e);if(t.filled)for(let Ve=0;Ve<e;Ve++)for(let je=0;je<$e;je++)r[Ve][je]=1;else{for(let Ve of[0,e-1])for(let je=0;je<$e;je++)r[Ve][je]=1;for(let Ve=0;Ve<e;Ve++)for(let je of[0,$e-1])r[Ve][je]=1}return r}function ellipse$1($e,e,t){const r=zerosMatrix$1(e,$e);let Ve=1-e%2,je=1-$e%2,ze=Math.floor(($e-1)/2),Xe=Math.floor((e-1)/2),We=ze*ze,qe=Xe*Xe;if(t.filled)for(let Ke=0;Ke<=Xe;Ke++){let Ze=Math.floor(Math.sqrt(We-We*Ke*Ke/qe));for(let Je=ze-Ze;Je<=ze;Je++)r[Xe-Ke][Je]=1,r[Xe+Ke+Ve][Je]=1,r[Xe-Ke][$e-Je-1]=1,r[Xe+Ke+Ve][$e-Je-1]=1}else{for(let Ke=0;Ke<=Xe;Ke++){let Ze=Math.floor(Math.sqrt(We-We*Ke*Ke/qe)),Je=ze-Ze;r[Xe-Ke][Je]=1,r[Xe+Ke+Ve][Je]=1,r[Xe-Ke][$e-Je-1]=1,r[Xe+Ke+Ve][$e-Je-1]=1}for(let Ke=0;Ke<=ze;Ke++){let Ze=Math.floor(Math.sqrt(qe-qe*Ke*Ke/We)),Je=Xe-Ze;r[Je][ze-Ke]=1,r[Je][ze+Ke+je]=1,r[e-Je-1][ze-Ke]=1,r[e-Je-1][ze+Ke+je]=1}}return r}function triangle$2($e,e,t){if(!t.filled)throw new Error("Non filled triangle is not implemented");const r=zerosMatrix$1(e,$e);for(let Ve=0;Ve<e;Ve++){let je=Math.floor((1-Ve/e)*$e/2);for(let ze=je;ze<$e-je;ze++)r[Ve][ze]=1}return r}function paintPoints$1($e,e={}){let{shape:t}=e;this.checkProcessable("paintPoints",{bitDepth:[8,16]});let r=getColors$1(Object.assign({},e,{numberColors:$e.length})),Ve=new Shape$1(t).getPoints(),je=Math.min(this.channels,r[0].length);for(let ze=0;ze<$e.length;ze++){let Xe=r[ze%r.length],We=$e[ze][0],qe=$e[ze][1];for(let Ke=0;Ke<Ve.length;Ke++){let Ze=Ve[Ke][0],Je=Ve[Ke][1];if(We+Ze>=0&&qe+Je>=0&&We+Ze<this.width&&qe+Je<this.height){let Qe=(We+Ze+(qe+Je)*this.width)*this.channels;for(let ti=0;ti<je;ti++)this.data[Qe+ti]=Xe[ti]}}}return this}function paintPolyline$1($e,e={}){let{color:t=[this.maxValue,0,0],closed:r=!1}=e;this.checkProcessable("paintPoints",{bitDepth:[1,8,16]});let Ve=Math.min(this.channels,t.length);for(let je=0;je<$e.length-1+r;je++){let ze=$e[je],Xe=$e[(je+1)%$e.length],We=Xe[0]-ze[0],qe=Xe[1]-ze[1],Ke=Math.max(Math.abs(We),Math.abs(qe)),Ze=We/Ke,Je=qe/Ke,Qe=ze[0],ti=ze[1];for(let ni=0;ni<=Ke;ni++){let ri=Math.round(Qe),ii=Math.round(ti);if(ri>=0&&ii>=0&&ri<this.width&&ii<this.height)if(this.bitDepth===1)this.setBitXY(ri,ii);else{let ei=(ri+ii*this.width)*this.channels;for(let St=0;St<Ve;St++)this.data[ei+St]=t[St]}Qe=Qe+Ze,ti=ti+Je}}return this}function paintPolylines$1($e,e={}){let t=Object.assign({},e);this.checkProcessable("paintPolylines",{bitDepth:[8,16]});let r=getColors$1(Object.assign({},e,{numberColors:$e.length}));for(let Ve=0;Ve<$e.length;Ve++)t.color=r[Ve%r.length],this.paintPolyline($e[Ve],t);return this}function paintPolygon$1($e,e={}){let{color:t=[this.maxValue,0,0],filled:r=!1}=e;this.checkProcessable("paintPoints",{bitDepth:[1,8,16]}),e.closed=!0;let Ve=deleteDouble$1($e);if(r===!1)return this.paintPolyline($e,e);{let je=Array(this.height);for(let ze=0;ze<this.height;ze++){je[ze]=[];for(let Xe=0;Xe<this.width;Xe++)je[ze].push(0)}for(let ze=0;ze<Ve.length;ze++){const Xe=lineBetweenTwoPoints$1(Ve[ze],Ve[(ze+1)%Ve.length]);for(let We=0;We<this.height;We++)for(let qe=0;qe<this.width;qe++)isAtTheRightOfTheLine$1(qe,We,Xe,this.height)&&(je[We][qe]=je[We][qe]===0?1:0)}for(let ze=0;ze<this.height;ze++)for(let Xe=0;Xe<this.width;Xe++)if(je[ze][Xe]===1)if(this.bitDepth===1)this.setBitXY(Xe,ze);else{let We=Math.min(this.channels,t.length),qe=(Xe+ze*this.width)*this.channels;for(let Ke=0;Ke<We;Ke++)this.data[qe+Ke]=t[Ke]}return this.paintPolyline($e,e)}}function deleteDouble$1($e){let e=[];for(let t=0;t<$e.length;t++)if(!($e[t][0]===$e[(t+1)%$e.length][0]&&$e[t][1]===$e[(t+1)%$e.length][1])){if($e[t][0]===$e[(t-1+$e.length)%$e.length][0]&&$e[t][1]===$e[(t-1+$e.length)%$e.length][1]||$e[(t+1)%$e.length][0]===$e[(t-1+$e.length)%$e.length][0]&&$e[(t-1+$e.length)%$e.length][1]===$e[(t+1)%$e.length][1])continue;e.push($e[t])}return e}function lineBetweenTwoPoints$1($e,e){if($e[0]===e[0])return{a:0,b:$e[0],vertical:!0};{const t=(e[1]-$e[1])/(e[0]-$e[0]),r=$e[1]-t*$e[0];return{a:t,b:r,vertical:!1}}}function isAtTheRightOfTheLine$1($e,e,t,r){if(t.vertical===!0)return t.b<=$e;if(t.a===0)return!1;{const Ve=(e-t.b)/t.a;return Ve<$e&&Ve>=0&&Ve<=r}}function paintPolygons$1($e,e={}){let t=Object.assign({},e);this.checkProcessable("paintPolygons",{bitDepth:[8,16]});let r=getColors$1(Object.assign({},e,{numberColors:$e.length}));for(let Ve=0;Ve<$e.length;Ve++)t.color=r[Ve%r.length],this.paintPolygon($e[Ve],t);return this}function getHistogram$1($e={}){let{maxSlots:e=256,channel:t,useAlpha:r=!0}=$e;if(this.checkProcessable("getHistogram",{bitDepth:[1,8,16]}),t===void 0){if(this.components>1)throw new RangeError("You need to define the channel for an image that contains more than one channel");t=0}return getChannelHistogram$1.call(this,t,{useAlpha:r,maxSlots:e})}function getHistograms$1($e={}){const{maxSlots:e=256,useAlpha:t=!0}=$e;this.checkProcessable("getHistograms",{bitDepth:[8,16]});let r=new Array(t?this.components:this.channels);for(let Ve=0;Ve<r.length;Ve++)r[Ve]=getChannelHistogram$1.call(this,Ve,{useAlpha:t,maxSlots:e});return r}function getChannelHistogram$1($e,e){let{useAlpha:t,maxSlots:r}=e;if(this.bitDepth===1){let We=[0,0];for(let qe=0;qe<this.height;qe++)for(let Ke=0;Ke<this.width;Ke++){let Ze=this.getBitXY(qe,Ke);Ze===0?We[0]+=1:Ze===1&&(We[1]+=1)}return We}let Ve=Math.log2(r);if(!isInteger$1$1(Ve))throw new RangeError("maxSlots must be a power of 2, for example: 64, 256, 1024");let je=0;this.bitDepth>Ve&&(je=this.bitDepth-Ve);let ze=this.data,Xe=newArray$1$1(Math.pow(2,Math.min(this.bitDepth,Ve)),0);if(t&&this.alpha){let We=this.channels-$e-1;for(let qe=$e;qe<ze.length;qe+=this.channels)Xe[ze[qe]>>je]+=ze[qe+We]/this.maxValue}else for(let We=$e;We<ze.length;We+=this.channels)Xe[ze[We]>>je]++;return Xe}function getColorHistogram$1($e={}){let{useAlpha:e=!0,nbSlots:t=512}=$e;this.checkProcessable("getColorHistogram",{bitDepth:[8,16],components:[3]});let r=Math.log(t)/Math.log(8);if(r!==Math.floor(r))throw new RangeError("nbSlots must be a power of 8. Usually 8, 64, 512 or 4096");let Ve=this.bitDepth-r,je=this.data,ze=newArray$1$1(Math.pow(8,r),0),Xe=Math.pow(2,r*2),We=Math.pow(2,r);for(let qe=0;qe<je.length;qe+=this.channels){let Ke=(je[qe]>>Ve)*Xe+(je[qe+1]>>Ve)*We+(je[qe+2]>>Ve);e&&this.alpha?ze[Ke]+=je[qe+this.channels-1]/this.maxValue:ze[Ke]++}return ze}function min$3(){this.checkProcessable("min",{bitDepth:[8,16,32]});let $e=newArray$1$1(this.channels,1/0);for(let e=0;e<this.data.length;e+=this.channels)for(let t=0;t<this.channels;t++)this.data[e+t]<$e[t]&&($e[t]=this.data[e+t]);return $e}function max$4(){this.checkProcessable("max",{bitDepth:[8,16,32]});let $e=newArray$1$1(this.channels,-1/0);for(let e=0;e<this.data.length;e+=this.channels)for(let t=0;t<this.channels;t++)this.data[e+t]>$e[t]&&($e[t]=this.data[e+t]);return $e}function sum$1(){this.checkProcessable("sum",{bitDepth:[8,16]});let $e=newArray$1$1(this.channels,0);for(let e=0;e<this.data.length;e+=this.channels)for(let t=0;t<this.channels;t++)$e[t]+=this.data[e+t];return $e}function getMoment$1($e=0,e=0){this.checkProcessable("getMoment",{bitDepth:[1]});let t=0;for(let r=0;r<this.width;r++)for(let Ve=0;Ve<this.height;Ve++)this.getBitXY(r,Ve)===1&&(t+=r**$e*Ve**e);return t}function localMaxima$1($e={}){let{mask:e,region:t=3,removeClosePoints:r=0,invert:Ve=!1,maxEquals:je=2}=$e,ze=this;this.checkProcessable("localMaxima",{bitDepth:[8,16],components:1}),t*=4;let Xe=Ve?0:1,We=[1,0,-1,0,1,1,-1,-1,2,0,-2,0,2,2,-2,-2],qe=[0,1,0,-1,1,-1,1,-1,0,2,0,-2,2,-2,2,-2],Ke=t<=8?1:2,Ze=[];for(let Je=Ke;Je<ze.height-Ke;Je++)for(let Qe=Ke;Qe<ze.width-Ke;Qe++){if(e&&e.getBitXY(Qe,Je)!==Xe)continue;let ti=0,ni=0,ri=ze.data[Qe+Je*ze.width];for(let ii=0;ii<t;ii++)Ve?ze.data[Qe+We[ii]+(Je+qe[ii])*ze.width]>ri&&ti++:ze.data[Qe+We[ii]+(Je+qe[ii])*ze.width]<ri&&ti++,ze.data[Qe+We[ii]+(Je+qe[ii])*ze.width]===ri&&ni++;ti+ni===t&&ni<=je&&Ze.push([Qe,Je])}if(r>0)for(let Je=0;Je<Ze.length;Je++)for(let Qe=Je+1;Qe<Ze.length;Qe++)Math.sqrt(Math.pow(Ze[Je][0]-Ze[Qe][0],2)+Math.pow(Ze[Je][1]-Ze[Qe][1],2))<r&&(Ze[Je][0]=Ze[Je][0]+Ze[Qe][0]>>1,Ze[Je][1]=Ze[Je][1]+Ze[Qe][1]>>1,Ze.splice(Qe,1),Qe--);return Ze}function mean$3(){let $e=this.getHistograms({maxSlots:this.maxValue+1}),e=new Array($e.length);for(let t=0;t<$e.length;t++){let r=$e[t];e[t]=mean$2$1(r)}return e}function median$3(){let $e=this.getHistograms({maxSlots:this.maxValue+1}),e=new Array($e.length);for(let t=0;t<$e.length;t++){let r=$e[t];e[t]=median$2$1(r)}return e}function points$2(){this.checkProcessable("points",{bitDepth:[1]});const $e=[];for(let e=0;e<this.width;e++)for(let t=0;t<this.height;t++)this.getBitXY(e,t)===1&&$e.push([e,t]);return $e}function extendedPoints$1(){this.checkProcessable("extendedPoints",{bitDepth:[1]});const $e=[];for(let e=0;e<this.height;e++)for(let t=0;t<this.width;t++)if(this.getBitXY(t,e)===1)for($e.push([t,e]),this.getBitXY(t+1,e)!==1?($e.push([t+1,e]),$e.push([t+1,e+1]),this.getBitXY(t,e+1)!==1&&$e.push([t,e+1])):this.getBitXY(t,e+1)!==1&&($e.push([t,e+1]),$e.push([t+1,e+1]));t<this.width-2&&this.getBitXY(t+1,e)===1&&this.getBitXY(t+2,e)===1;)t++;return $e}function getRelativePosition$1($e,e={}){if(this===$e)return[0,0];let t=[0,0],r=this;for(;r;){if(r===$e)return t;r.position&&(t[0]+=r.position[0],t[1]+=r.position[1]),r=r.parent}return e.defaultFurther?t:!1}function countAlphaPixels$1($e={}){let{alpha:e=1}=$e;this.checkProcessable("countAlphaPixels",{bitDepth:[8,16],alpha:1});let t=0;if(e!==void 0){for(let r=this.components;r<this.data.length;r+=this.channels)this.data[r]===e&&t++;return t}else return this.size}function monotoneChainConvexHull$1$1($e,e={}){const{sorted:t}=e;t||($e=$e.slice().sort(byXThenY$1));const r=$e.length,Ve=new Array(r*2);let je=0;for(let Xe=0;Xe<r;Xe++){const We=$e[Xe];for(;je>=2&&cw$1(Ve[je-2],Ve[je-1],We)<=0;)je--;Ve[je++]=We}const ze=je+1;for(let Xe=r-2;Xe>=0;Xe--){const We=$e[Xe];for(;je>=ze&&cw$1(Ve[je-2],Ve[je-1],We)<=0;)je--;Ve[je++]=We}return Ve.slice(0,je-1)}function cw$1($e,e,t){return(e[1]-$e[1])*(t[0]-$e[0])-(e[0]-$e[0])*(t[1]-$e[1])}function byXThenY$1($e,e){return $e[0]===e[0]?$e[1]-e[1]:$e[0]-e[0]}function monotoneChainConvexHull$2(){return monotoneChainConvexHull$1$1(this.extendedPoints,{sorted:!1})}function round$1$1($e){for(let e=0;e<$e.length;e++)$e[e][0]=Math.round($e[e][0]),$e[e][1]=Math.round($e[e][1]);return $e}function difference$1($e,e){return[$e[0]-e[0],$e[1]-e[1]]}function normalize$1($e){let e=Math.sqrt($e[0]**2+$e[1]**2);return[$e[0]/e,$e[1]/e]}function rotate$2($e,e,t){t===void 0&&(t=new Array(e.length));let r=Math.cos($e),Ve=Math.sin($e);for(let je=0;je<t.length;++je)t[je]=[r*e[je][0]-Ve*e[je][1],Ve*e[je][0]+r*e[je][1]];return t}function perimeter$1($e){let e=0;for(let t=0;t<$e.length;t++){let r=$e[t][0],Ve=$e[t][1],je=$e[t===$e.length-1?0:t+1][0],ze=$e[t===$e.length-1?0:t+1][1];e+=Math.sqrt((je-r)**2+(ze-Ve)**2)}return e}function surface$1($e){let e=0;for(let t=0;t<$e.length;t++){let r=$e[t][0],Ve=$e[t===$e.length-1?0:t+1][1],je=$e[t===$e.length-1?0:t+1][0],ze=$e[t][1];e+=r*Ve*.5,e-=je*ze*.5}return Math.abs(e)}function minMax$1($e){let e=1/0,t=1/0,r=-1/0,Ve=-1/0;for(let je=0;je<$e.length;je++)$e[je][0]<e&&(e=$e[je][0]),$e[je][0]>r&&(r=$e[je][0]),$e[je][1]<t&&(t=$e[je][1]),$e[je][1]>Ve&&(Ve=$e[je][1]);return[[e,t],[r,Ve]]}function moveToZeroZero$1($e,e){e===void 0&&(e=new Array($e.length).fill(0).map(()=>[]));let t=minMax$1($e),r=t[0][0],Ve=t[0][1];for(let je=0;je<$e.length;je++)e[je][0]=$e[je][0]-r,e[je][1]=$e[je][1]-Ve;return e}function minimalBoundingRectangle$1($e={}){const{originalPoints:e=monotoneChainConvexHull$2.call(this)}=$e;if(e.length===0)return[];if(e.length===1)return[e[0],e[0],e[0],e[0]];const t=new Array(e.length);let r=1/0,Ve=0,je;for(let ze=0;ze<t.length;ze++){let Xe=getAngle$1$1(e[ze],e[(ze+1)%t.length]);rotate$2(-Xe,e,t);let We=t[ze][0],qe=t[ze][1],Ke=t[(ze+1)%t.length][0],Ze=t[(ze+1)%t.length][1],Je=!0,Qe=0,ti=0,ni=0;for(let St=0;St<t.length;St++){let oi=t[St][0],si=t[St][1],ai=(oi-We)/(Ke-We);Je===!0?(Je=!1,Qe=ai,ti=ai):(ai<Qe&&(Qe=ai),ai>ti&&(ti=ai));let ui=(-(Ke-We)*si+Ke*qe-Ze*We)/(Ke-We);Math.abs(ui)>Math.abs(ni)&&(ni=ui)}let ri=[We+Qe*(Ke-We),qe],ii=[We+ti*(Ke-We),qe],ei=Math.abs(ni*(Qe-ti)*(Ke-We));ei<r&&(Ve=Xe,r=ei,je=[ri,ii,[ii[0],ii[1]-ni],[ri[0],ri[1]-ni]])}return rotate$2(Ve,je,je),je}function getAngle$1$1($e,e){let t=difference$1(e,$e),r=normalize$1(t),Ve=Math.acos(r[0]);return r[1]<0?-Ve:Ve}function extend$1$1($e){let e={inPlace:!0};$e.extendMethod("invert",invert$1),$e.extendMethod("abs",abs$1),$e.extendMethod("level",level$1,e),$e.extendMethod("add",add$1,e),$e.extendMethod("subtract",subtract$1,e),$e.extendMethod("subtractImage",subtractImage$1),$e.extendMethod("multiply",multiply$1,e),$e.extendMethod("divide",divide$1,e),$e.extendMethod("hypotenuse",hypotenuse$2),$e.extendMethod("background",background$1$1),$e.extendMethod("flipX",flipX$1),$e.extendMethod("flipY",flipY$1),$e.extendMethod("blurFilter",blurFilter$1),$e.extendMethod("medianFilter",medianFilter$1),$e.extendMethod("gaussianFilter",gaussianFilter$1),$e.extendMethod("sobelFilter",sobelFilter$1),$e.extendMethod("gradientFilter",gradientFilter$1),$e.extendMethod("scharrFilter",scharrFilter$1),$e.extendMethod("dilate",dilate$1),$e.extendMethod("erode",erode$1),$e.extendMethod("open",open$2),$e.extendMethod("close",close$1),$e.extendMethod("topHat",topHat$1),$e.extendMethod("blackHat",blackHat$1),$e.extendMethod("morphologicalGradient",morphologicalGradient$1),$e.extendMethod("warpingFourPoints",warpingFourPoints$1),$e.extendMethod("crop",crop$1),$e.extendMethod("cropAlpha",cropAlpha$1),$e.extendMethod("resize",resize$1).extendMethod("scale",resize$1),$e.extendMethod("hsv",hsv$1),$e.extendMethod("hsl",hsl$1$1),$e.extendMethod("cmyk",cmyk$1),$e.extendMethod("rgba8",rgba8$1),$e.extendMethod("grey",grey$1).extendMethod("gray",grey$1),$e.extendMethod("mask",mask$1),$e.extendMethod("pad",pad$1),$e.extendMethod("colorDepth",colorDepth$1),$e.extendMethod("setBorder",setBorder$1,e),$e.extendMethod("rotate",rotate$1$1),$e.extendMethod("rotateLeft",rotateLeft$1),$e.extendMethod("rotateRight",rotateRight$1),$e.extendMethod("insert",insert$1),$e.extendMethod("getRow",getRow$1),$e.extendMethod("getColumn",getColumn$1),$e.extendMethod("getMatrix",getMatrix$1),$e.extendMethod("setMatrix",setMatrix$1),$e.extendMethod("getPixelsArray",getPixelsArray$1),$e.extendMethod("getIntersection",getIntersection$1),$e.extendMethod("getClosestCommonParent",getClosestCommonParent$1),$e.extendMethod("getThreshold",getThreshold$2),$e.extendMethod("split",split$1),$e.extendMethod("getChannel",getChannel$1),$e.extendMethod("combineChannels",combineChannels$1),$e.extendMethod("setChannel",setChannel$1),$e.extendMethod("getSimilarity",getSimilarity$1),$e.extendMethod("getPixelsGrid",getPixelsGrid$1),$e.extendMethod("getBestMatch",getBestMatch$1),$e.extendMethod("cannyEdge",cannyEdge$1),$e.extendMethod("convolution",convolution$1),$e.extendMethod("extract",extract$1),$e.extendMethod("floodFill",floodFill$1),$e.extendMethod("paintLabels",paintLabels$1,e),$e.extendMethod("paintMasks",paintMasks$1,e),$e.extendMethod("paintPoints",paintPoints$1,e),$e.extendMethod("paintPolyline",paintPolyline$1,e),$e.extendMethod("paintPolylines",paintPolylines$1,e),$e.extendMethod("paintPolygon",paintPolygon$1,e),$e.extendMethod("paintPolygons",paintPolygons$1,e),$e.extendMethod("countAlphaPixels",countAlphaPixels$1),$e.extendMethod("monotoneChainConvexHull",monotoneChainConvexHull$2),$e.extendMethod("minimalBoundingRectangle",minimalBoundingRectangle$1),$e.extendMethod("getHistogram",getHistogram$1).extendProperty("histogram",getHistogram$1),$e.extendMethod("getHistograms",getHistograms$1).extendProperty("histograms",getHistograms$1),$e.extendMethod("getColorHistogram",getColorHistogram$1).extendProperty("colorHistogram",getColorHistogram$1),$e.extendMethod("getMin",min$3).extendProperty("min",min$3),$e.extendMethod("getMax",max$4).extendProperty("max",max$4),$e.extendMethod("getSum",sum$1).extendProperty("sum",sum$1),$e.extendMethod("getMoment",getMoment$1).extendProperty("moment",getMoment$1),$e.extendMethod("getLocalMaxima",localMaxima$1),$e.extendMethod("getMedian",median$3).extendProperty("median",median$3),$e.extendMethod("getMean",mean$3).extendProperty("mean",mean$3),$e.extendMethod("getPoints",points$2).extendProperty("points",points$2),$e.extendMethod("getExtendedPoints",extendedPoints$1).extendProperty("extendedPoints",extendedPoints$1),$e.extendMethod("getRelativePosition",getRelativePosition$1)}var quantities$1={exports:{}};(function($e,e){(function(t,r){$e.exports=r()})(commonjsGlobal$1,function(){function t(Ii){return typeof Ii=="string"||Ii instanceof String}var r=Number.isFinite||window.isFinite;function Ve(Ii){return r(Ii)}function je(Ii){return Ii}function ze(Ii){var Wi={};return Ii.filter(function(nn){return Wi.hasOwnProperty(nn)?!1:Wi[nn]=!0})}function Xe(Ii,Wi){if(Wi.length!==Ii.length)return!1;for(var nn=0;nn<Ii.length;nn++)if(Wi[nn].compareArray&&!Wi[nn].compareArray(Ii[nn])||Wi[nn]!==Ii[nn])return!1;return!0}function We(Ii,Wi){Object.keys(Wi).forEach(function(nn){Ii[nn]=Wi[nn]})}function qe(){for(var Ii=1,Wi=0,nn=0;nn<arguments.length;nn++){var xn=arguments[nn];Wi=Wi+Je(xn),Ii*=xn}return Wi!==0?Ze(Ii,Wi):Ii}function Ke(Ii,Wi){if(Wi===0)throw new Error("Divide by zero");var nn=Math.pow(10,Je(Wi)),xn=nn/(nn*Wi);return qe(Ii,xn)}function Ze(Ii,Wi){return Math.round(Ii*Math.pow(10,Wi))/Math.pow(10,Wi)}function Je(Ii){if(!isFinite(Ii))return 0;for(var Wi=0;Ii%1!==0;)Ii*=10,Wi++;return Wi}function Qe(){var Ii;if(!this)return Ii=Object.create(Qe.prototype),Qe.apply(Ii,arguments),Ii;Ii=Error.apply(this,arguments),this.name="QtyError",this.message=Ii.message,this.stack=Ii.stack}Qe.prototype=Object.create(Error.prototype,{constructor:{value:Qe}});function ti(Ii,Wi){throw new Qe("Incompatible units: "+Ii+" and "+Wi)}var ni={"<googol>":[["googol"],1e100,"prefix"],"<kibi>":[["Ki","Kibi","kibi"],Math.pow(2,10),"prefix"],"<mebi>":[["Mi","Mebi","mebi"],Math.pow(2,20),"prefix"],"<gibi>":[["Gi","Gibi","gibi"],Math.pow(2,30),"prefix"],"<tebi>":[["Ti","Tebi","tebi"],Math.pow(2,40),"prefix"],"<pebi>":[["Pi","Pebi","pebi"],Math.pow(2,50),"prefix"],"<exi>":[["Ei","Exi","exi"],Math.pow(2,60),"prefix"],"<zebi>":[["Zi","Zebi","zebi"],Math.pow(2,70),"prefix"],"<yebi>":[["Yi","Yebi","yebi"],Math.pow(2,80),"prefix"],"<yotta>":[["Y","Yotta","yotta"],1e24,"prefix"],"<zetta>":[["Z","Zetta","zetta"],1e21,"prefix"],"<exa>":[["E","Exa","exa"],1e18,"prefix"],"<peta>":[["P","Peta","peta"],1e15,"prefix"],"<tera>":[["T","Tera","tera"],1e12,"prefix"],"<giga>":[["G","Giga","giga"],1e9,"prefix"],"<mega>":[["M","Mega","mega"],1e6,"prefix"],"<kilo>":[["k","kilo"],1e3,"prefix"],"<hecto>":[["h","Hecto","hecto"],100,"prefix"],"<deca>":[["da","Deca","deca","deka"],10,"prefix"],"<deci>":[["d","Deci","deci"],.1,"prefix"],"<centi>":[["c","Centi","centi"],.01,"prefix"],"<milli>":[["m","Milli","milli"],.001,"prefix"],"<micro>":[["u","","","Micro","mc","micro"],1e-6,"prefix"],"<nano>":[["n","Nano","nano"],1e-9,"prefix"],"<pico>":[["p","Pico","pico"],1e-12,"prefix"],"<femto>":[["f","Femto","femto"],1e-15,"prefix"],"<atto>":[["a","Atto","atto"],1e-18,"prefix"],"<zepto>":[["z","Zepto","zepto"],1e-21,"prefix"],"<yocto>":[["y","Yocto","yocto"],1e-24,"prefix"],"<1>":[["1","<1>"],1,""],"<meter>":[["m","meter","meters","metre","metres"],1,"length",["<meter>"]],"<inch>":[["in","inch","inches",'"'],.0254,"length",["<meter>"]],"<foot>":[["ft","foot","feet","'"],.3048,"length",["<meter>"]],"<yard>":[["yd","yard","yards"],.9144,"length",["<meter>"]],"<mile>":[["mi","mile","miles"],1609.344,"length",["<meter>"]],"<naut-mile>":[["nmi","naut-mile"],1852,"length",["<meter>"]],"<league>":[["league","leagues"],4828,"length",["<meter>"]],"<furlong>":[["furlong","furlongs"],201.2,"length",["<meter>"]],"<rod>":[["rd","rod","rods"],5.029,"length",["<meter>"]],"<mil>":[["mil","mils"],254e-7,"length",["<meter>"]],"<angstrom>":[["ang","angstrom","angstroms"],1e-10,"length",["<meter>"]],"<fathom>":[["fathom","fathoms"],1.829,"length",["<meter>"]],"<pica>":[["pica","picas"],.00423333333,"length",["<meter>"]],"<point>":[["pt","point","points"],.000352777778,"length",["<meter>"]],"<redshift>":[["z","red-shift","redshift"],1302773e20,"length",["<meter>"]],"<AU>":[["AU","astronomical-unit"],1495979e5,"length",["<meter>"]],"<light-second>":[["ls","light-second"],299792500,"length",["<meter>"]],"<light-minute>":[["lmin","light-minute"],1798755e4,"length",["<meter>"]],"<light-year>":[["ly","light-year"],9460528e9,"length",["<meter>"]],"<parsec>":[["pc","parsec","parsecs"],3085678e10,"length",["<meter>"]],"<datamile>":[["DM","datamile"],1828.8,"length",["<meter>"]],"<kilogram>":[["kg","kilogram","kilograms"],1,"mass",["<kilogram>"]],"<AMU>":[["u","AMU","amu"],1660538921e-36,"mass",["<kilogram>"]],"<dalton>":[["Da","Dalton","Daltons","dalton","daltons"],1660538921e-36,"mass",["<kilogram>"]],"<slug>":[["slug","slugs"],14.5939029,"mass",["<kilogram>"]],"<short-ton>":[["tn","ton","short-ton"],907.18474,"mass",["<kilogram>"]],"<metric-ton>":[["t","tonne","metric-ton"],1e3,"mass",["<kilogram>"]],"<carat>":[["ct","carat","carats"],2e-4,"mass",["<kilogram>"]],"<pound>":[["lbs","lb","pound","pounds","#"],.45359237,"mass",["<kilogram>"]],"<ounce>":[["oz","ounce","ounces"],.0283495231,"mass",["<kilogram>"]],"<gram>":[["g","gram","grams","gramme","grammes"],.001,"mass",["<kilogram>"]],"<grain>":[["grain","grains","gr"],6479891e-11,"mass",["<kilogram>"]],"<dram>":[["dram","drams","dr"],.0017718452,"mass",["<kilogram>"]],"<stone>":[["stone","stones","st"],6.35029318,"mass",["<kilogram>"]],"<hectare>":[["hectare"],1e4,"area",["<meter>","<meter>"]],"<acre>":[["acre","acres"],4046.85642,"area",["<meter>","<meter>"]],"<sqft>":[["sqft"],1,"area",["<foot>","<foot>"]],"<liter>":[["l","L","liter","liters","litre","litres"],.001,"volume",["<meter>","<meter>","<meter>"]],"<gallon>":[["gal","gallon","gallons"],.0037854118,"volume",["<meter>","<meter>","<meter>"]],"<gallon-imp>":[["galimp","gallon-imp","gallons-imp"],.00454609,"volume",["<meter>","<meter>","<meter>"]],"<quart>":[["qt","quart","quarts"],.00094635295,"volume",["<meter>","<meter>","<meter>"]],"<pint>":[["pt","pint","pints"],.000473176475,"volume",["<meter>","<meter>","<meter>"]],"<pint-imp>":[["ptimp","pint-imp","pints-imp"],.00056826125,"volume",["<meter>","<meter>","<meter>"]],"<cup>":[["cu","cup","cups"],.000236588238,"volume",["<meter>","<meter>","<meter>"]],"<fluid-ounce>":[["floz","fluid-ounce","fluid-ounces"],295735297e-13,"volume",["<meter>","<meter>","<meter>"]],"<fluid-ounce-imp>":[["flozimp","floz-imp","fluid-ounce-imp","fluid-ounces-imp"],284130625e-13,"volume",["<meter>","<meter>","<meter>"]],"<tablespoon>":[["tb","tbsp","tbs","tablespoon","tablespoons"],147867648e-13,"volume",["<meter>","<meter>","<meter>"]],"<teaspoon>":[["tsp","teaspoon","teaspoons"],492892161e-14,"volume",["<meter>","<meter>","<meter>"]],"<bushel>":[["bu","bsh","bushel","bushels"],.035239072,"volume",["<meter>","<meter>","<meter>"]],"<oilbarrel>":[["bbl","oilbarrel","oilbarrels","oil-barrel","oil-barrels"],.158987294928,"volume",["<meter>","<meter>","<meter>"]],"<beerbarrel>":[["bl","bl-us","beerbarrel","beerbarrels","beer-barrel","beer-barrels"],.1173477658,"volume",["<meter>","<meter>","<meter>"]],"<beerbarrel-imp>":[["blimp","bl-imp","beerbarrel-imp","beerbarrels-imp","beer-barrel-imp","beer-barrels-imp"],.16365924,"volume",["<meter>","<meter>","<meter>"]],"<kph>":[["kph"],.277777778,"speed",["<meter>"],["<second>"]],"<mph>":[["mph"],.44704,"speed",["<meter>"],["<second>"]],"<knot>":[["kt","kn","kts","knot","knots"],.514444444,"speed",["<meter>"],["<second>"]],"<fps>":[["fps"],.3048,"speed",["<meter>"],["<second>"]],"<gee>":[["gee"],9.80665,"acceleration",["<meter>"],["<second>","<second>"]],"<Gal>":[["Gal"],.01,"acceleration",["<meter>"],["<second>","<second>"]],"<kelvin>":[["degK","kelvin"],1,"temperature",["<kelvin>"]],"<celsius>":[["degC","celsius","celsius","centigrade"],1,"temperature",["<kelvin>"]],"<fahrenheit>":[["degF","fahrenheit"],5/9,"temperature",["<kelvin>"]],"<rankine>":[["degR","rankine"],5/9,"temperature",["<kelvin>"]],"<temp-K>":[["tempK","temp-K"],1,"temperature",["<temp-K>"]],"<temp-C>":[["tempC","temp-C"],1,"temperature",["<temp-K>"]],"<temp-F>":[["tempF","temp-F"],5/9,"temperature",["<temp-K>"]],"<temp-R>":[["tempR","temp-R"],5/9,"temperature",["<temp-K>"]],"<second>":[["s","sec","secs","second","seconds"],1,"time",["<second>"]],"<minute>":[["min","mins","minute","minutes"],60,"time",["<second>"]],"<hour>":[["h","hr","hrs","hour","hours"],3600,"time",["<second>"]],"<day>":[["d","day","days"],3600*24,"time",["<second>"]],"<week>":[["wk","week","weeks"],7*3600*24,"time",["<second>"]],"<fortnight>":[["fortnight","fortnights"],1209600,"time",["<second>"]],"<year>":[["y","yr","year","years","annum"],31556926,"time",["<second>"]],"<decade>":[["decade","decades"],315569260,"time",["<second>"]],"<century>":[["century","centuries"],3155692600,"time",["<second>"]],"<pascal>":[["Pa","pascal","Pascal"],1,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<bar>":[["bar","bars"],1e5,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<mmHg>":[["mmHg"],133.322368,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<inHg>":[["inHg"],3386.3881472,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<torr>":[["torr"],133.322368,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<atm>":[["atm","ATM","atmosphere","atmospheres"],101325,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<psi>":[["psi"],6894.76,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<cmh2o>":[["cmH2O","cmh2o"],98.0638,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<inh2o>":[["inH2O","inh2o"],249.082052,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<poise>":[["P","poise"],.1,"viscosity",["<kilogram>"],["<meter>","<second>"]],"<stokes>":[["St","stokes"],1e-4,"viscosity",["<meter>","<meter>"],["<second>"]],"<mole>":[["mol","mole"],1,"substance",["<mole>"]],"<molar>":[["M","molar"],1e3,"molar_concentration",["<mole>"],["<meter>","<meter>","<meter>"]],"<wtpercent>":[["wt%","wtpercent"],10,"molar_concentration",["<kilogram>"],["<meter>","<meter>","<meter>"]],"<katal>":[["kat","katal","Katal"],1,"activity",["<mole>"],["<second>"]],"<unit>":[["U","enzUnit","unit"],16667e-19,"activity",["<mole>"],["<second>"]],"<farad>":[["F","farad","Farad"],1,"capacitance",["<second>","<second>","<second>","<second>","<ampere>","<ampere>"],["<meter>","<meter>","<kilogram>"]],"<coulomb>":[["C","coulomb","Coulomb"],1,"charge",["<ampere>","<second>"]],"<Ah>":[["Ah"],3600,"charge",["<ampere>","<second>"]],"<ampere>":[["A","Ampere","ampere","amp","amps"],1,"current",["<ampere>"]],"<siemens>":[["S","Siemens","siemens"],1,"conductance",["<second>","<second>","<second>","<ampere>","<ampere>"],["<kilogram>","<meter>","<meter>"]],"<henry>":[["H","Henry","henry"],1,"inductance",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>","<ampere>"]],"<volt>":[["V","Volt","volt","volts"],1,"potential",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<second>","<ampere>"]],"<ohm>":[["Ohm","ohm","",""],1,"resistance",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<second>","<ampere>","<ampere>"]],"<weber>":[["Wb","weber","webers"],1,"magnetism",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>"]],"<tesla>":[["T","tesla","teslas"],1,"magnetism",["<kilogram>"],["<second>","<second>","<ampere>"]],"<gauss>":[["G","gauss"],1e-4,"magnetism",["<kilogram>"],["<second>","<second>","<ampere>"]],"<maxwell>":[["Mx","maxwell","maxwells"],1e-8,"magnetism",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>"]],"<oersted>":[["Oe","oersted","oersteds"],250/Math.PI,"magnetism",["<ampere>"],["<meter>"]],"<joule>":[["J","joule","Joule","joules","Joules"],1,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<erg>":[["erg","ergs"],1e-7,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<btu>":[["BTU","btu","BTUs"],1055.056,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<calorie>":[["cal","calorie","calories"],4.184,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<Calorie>":[["Cal","Calorie","Calories"],4184,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<therm-US>":[["th","therm","therms","Therm","therm-US"],105480400,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<Wh>":[["Wh"],3600,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<electronvolt>":[["eV","electronvolt","electronvolts"],1602176634e-28,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<newton>":[["N","Newton","newton"],1,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<dyne>":[["dyn","dyne"],1e-5,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<pound-force>":[["lbf","pound-force"],4.448222,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<hertz>":[["Hz","hertz","Hertz"],1,"frequency",["<1>"],["<second>"]],"<radian>":[["rad","radian","radians"],1,"angle",["<radian>"]],"<degree>":[["deg","degree","degrees"],Math.PI/180,"angle",["<radian>"]],"<arcminute>":[["arcmin","arcminute","arcminutes"],Math.PI/10800,"angle",["<radian>"]],"<arcsecond>":[["arcsec","arcsecond","arcseconds"],Math.PI/648e3,"angle",["<radian>"]],"<gradian>":[["gon","grad","gradian","grads"],Math.PI/200,"angle",["<radian>"]],"<steradian>":[["sr","steradian","steradians"],1,"solid_angle",["<steradian>"]],"<rotation>":[["rotation"],2*Math.PI,"angle",["<radian>"]],"<rpm>":[["rpm"],2*Math.PI/60,"angular_velocity",["<radian>"],["<second>"]],"<byte>":[["B","byte","bytes"],1,"information",["<byte>"]],"<bit>":[["b","bit","bits"],.125,"information",["<byte>"]],"<Bps>":[["Bps"],1,"information_rate",["<byte>"],["<second>"]],"<bps>":[["bps"],.125,"information_rate",["<byte>"],["<second>"]],"<dollar>":[["USD","dollar"],1,"currency",["<dollar>"]],"<cents>":[["cents"],.01,"currency",["<dollar>"]],"<candela>":[["cd","candela"],1,"luminosity",["<candela>"]],"<lumen>":[["lm","lumen"],1,"luminous_power",["<candela>","<steradian>"]],"<lux>":[["lux"],1,"illuminance",["<candela>","<steradian>"],["<meter>","<meter>"]],"<watt>":[["W","watt","watts"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<volt-ampere>":[["VA","volt-ampere"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<volt-ampere-reactive>":[["var","Var","VAr","VAR","volt-ampere-reactive"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<horsepower>":[["hp","horsepower"],745.699872,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<gray>":[["Gy","gray","grays"],1,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<roentgen>":[["R","roentgen"],.00933,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<sievert>":[["Sv","sievert","sieverts"],1,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<becquerel>":[["Bq","becquerel","becquerels"],1,"radiation",["<1>"],["<second>"]],"<curie>":[["Ci","curie","curies"],37e9,"radiation",["<1>"],["<second>"]],"<cpm>":[["cpm"],1/60,"rate",["<count>"],["<second>"]],"<dpm>":[["dpm"],1/60,"rate",["<count>"],["<second>"]],"<bpm>":[["bpm"],1/60,"rate",["<count>"],["<second>"]],"<dot>":[["dot","dots"],1,"resolution",["<each>"]],"<pixel>":[["pixel","px"],1,"resolution",["<each>"]],"<ppi>":[["ppi"],1,"resolution",["<pixel>"],["<inch>"]],"<dpi>":[["dpi"],1,"typography",["<dot>"],["<inch>"]],"<cell>":[["cells","cell"],1,"counting",["<each>"]],"<each>":[["each"],1,"counting",["<each>"]],"<count>":[["count"],1,"counting",["<each>"]],"<base-pair>":[["bp","base-pair"],1,"counting",["<each>"]],"<nucleotide>":[["nt","nucleotide"],1,"counting",["<each>"]],"<molecule>":[["molecule","molecules"],1,"counting",["<1>"]],"<dozen>":[["doz","dz","dozen"],12,"prefix_only",["<each>"]],"<percent>":[["%","percent"],.01,"prefix_only",["<1>"]],"<ppm>":[["ppm"],1e-6,"prefix_only",["<1>"]],"<ppb>":[["ppb"],1e-9,"prefix_only",["<1>"]],"<ppt>":[["ppt"],1e-12,"prefix_only",["<1>"]],"<ppq>":[["ppq"],1e-15,"prefix_only",["<1>"]],"<gross>":[["gr","gross"],144,"prefix_only",["<dozen>","<dozen>"]],"<decibel>":[["dB","decibel","decibels"],1,"logarithmic",["<decibel>"]]},ri=["<meter>","<kilogram>","<second>","<mole>","<ampere>","<radian>","<kelvin>","<temp-K>","<byte>","<dollar>","<candela>","<each>","<steradian>","<decibel>"],ii="<1>",ei=[ii];function St(Ii,Wi){var nn=Wi[1],xn=Wi[3]||[],On=Wi[4]||[];if(!Ve(nn))throw new Qe(Ii+": Invalid unit definition. 'scalar' must be a number");xn.forEach(function(Ln){if(ni[Ln]===void 0)throw new Qe(Ii+": Invalid unit definition. Unit "+Ln+" in 'numerator' is not recognized")}),On.forEach(function(Ln){if(ni[Ln]===void 0)throw new Qe(Ii+": Invalid unit definition. Unit "+Ln+" in 'denominator' is not recognized")})}var oi={},si={},ai={},ui={},hi={};for(var ci in ni)if(ni.hasOwnProperty(ci)){var mi=ni[ci];if(mi[2]==="prefix"){oi[ci]=mi[1];for(var di=0;di<mi[0].length;di++)si[mi[0][di]]=ci}else{St(ci,mi),ai[ci]={scalar:mi[1],numerator:mi[3],denominator:mi[4]};for(var pi=0;pi<mi[0].length;pi++)ui[mi[0][pi]]=ci}hi[ci]=mi[0][0]}function yi(Ii){var Wi,nn=[],xn=Object.keys(ni);if(typeof Ii>"u")for(Wi=0;Wi<xn.length;Wi++)["","prefix"].indexOf(ni[xn[Wi]][2])===-1&&nn.push(xn[Wi].substr(1,xn[Wi].length-2));else{if(this.getKinds().indexOf(Ii)===-1)throw new Qe("Kind not recognized");for(Wi=0;Wi<xn.length;Wi++)ni[xn[Wi]][2]===Ii&&nn.push(xn[Wi].substr(1,xn[Wi].length-2))}return nn.sort(function(On,Ln){return On.toLowerCase()<Ln.toLowerCase()?-1:On.toLowerCase()>Ln.toLowerCase()?1:0})}function gi(Ii){if(!ui[Ii])throw new Qe("Unit not recognized");return ni[ui[Ii]][0]}var _i=["length","time","temperature","mass","current","substance","luminosity","currency","information","angle"];function Ai(){if(this.signature)return this.signature;for(var Ii=ki.call(this),Wi=0;Wi<Ii.length;Wi++)Ii[Wi]*=Math.pow(20,Wi);return Ii.reduce(function(nn,xn){return nn+xn},0)}function ki(){if(!this.isBase())return ki.call(this.toBase());for(var Ii=new Array(_i.length),Wi=0;Wi<Ii.length;Wi++)Ii[Wi]=0;for(var nn,xn,On=0;On<this.numerator.length;On++)(nn=ni[this.numerator[On]])&&(xn=_i.indexOf(nn[2]),xn>=0&&(Ii[xn]=Ii[xn]+1));for(var Ln=0;Ln<this.denominator.length;Ln++)(nn=ni[this.denominator[Ln]])&&(xn=_i.indexOf(nn[2]),xn>=0&&(Ii[xn]=Ii[xn]-1));return Ii}var vi="[+-]",Mi="\\d+",Di=vi+"?"+Mi,Bi="\\."+Mi,Pi="(?:"+Mi+"(?:"+Bi+")?)|(?:"+Bi+")",Fi="[Ee]"+Di,Vi="(?:"+Pi+")(?:"+Fi+")?",Ti=vi+"?\\s*"+Vi,ji="("+Ti+")?\\s*([^/]*)(?:/(.+))?",Gi=new RegExp("^"+ji+"$"),Yi="\\^|\\*{2}",Xi="[01234]",xi=new RegExp("([^ \\*\\d]+?)(?:"+Yi+")?(-?"+Xi+"(?![a-zA-Z]))"),fi=new RegExp("([^ \\*\\d]+?)(?:"+Yi+")?("+Xi+"(?![a-zA-Z]))");function $i(Ii){t(Ii)||(Ii=Ii.toString()),Ii=Ii.trim();var Wi=Gi.exec(Ii);if(!Wi)throw new Qe(Ii+": Quantity not recognized");var nn=Wi[1];nn?(nn=nn.replace(/\s/g,""),this.scalar=parseFloat(nn)):this.scalar=1;for(var xn=Wi[2],On=Wi[3],Ln,nr,Kn;Wi=xi.exec(xn);){if(Ln=parseFloat(Wi[2]),isNaN(Ln))throw new Qe("Unit exponent is not a number");if(Ln===0&&!zi.test(Wi[1]))throw new Qe("Unit not recognized");nr=Wi[1]+" ",Kn="";for(var ir=0;ir<Math.abs(Ln);ir++)Kn+=nr;Ln>=0?xn=xn.replace(Wi[0],Kn):(On=On?On+Kn:Kn,xn=xn.replace(Wi[0],""))}for(;Wi=fi.exec(On);){if(Ln=parseFloat(Wi[2]),isNaN(Ln))throw new Qe("Unit exponent is not a number");if(Ln===0&&!zi.test(Wi[1]))throw new Qe("Unit not recognized");nr=Wi[1]+" ",Kn="";for(var pr=0;pr<Ln;pr++)Kn+=nr;On=On.replace(Wi[0],Kn)}xn&&(this.numerator=Ji(xn.trim())),On&&(this.denominator=Ji(On.trim()))}var bi=Object.keys(si).sort(function(Ii,Wi){return Wi.length-Ii.length}).join("|"),Ci=Object.keys(ui).sort(function(Ii,Wi){return Wi.length-Ii.length}).join("|"),Ei="\\b|$",Si="("+bi+")??("+Ci+")(?:"+Ei+")",zi=new RegExp("^\\s*("+Si+"[\\s\\*]*)+$"),Ki=new RegExp(Si,"g"),Ui={};function Ji(Ii){var Wi=Ui[Ii];if(Wi)return Wi;var nn,xn=[];if(!zi.test(Ii))throw new Qe("Unit not recognized");for(;nn=Ki.exec(Ii);)xn.push(nn.slice(1));return xn=xn.map(function(On){return si[On[0]]?[si[On[0]],ui[On[1]]]:[ui[On[1]]]}),xn=xn.reduce(function(On,Ln){return On.concat(Ln)},[]),xn=xn.filter(function(On){return On}),Ui[Ii]=xn,xn}function gn(Ii){if(!t(Ii))throw new Qe("Argument should be a string");try{return this(Ii)}catch{return null}}function hn(Ii){return Ii instanceof un}function un(Ii,Wi){if(Mn.apply(null,arguments),!hn(this))return new un(Ii,Wi);if(this.scalar=null,this.baseScalar=null,this.signature=null,this._conversionCache={},this.numerator=ei,this.denominator=ei,sn(Ii)?(this.scalar=Ii.scalar,this.numerator=Ii.numerator&&Ii.numerator.length!==0?Ii.numerator:ei,this.denominator=Ii.denominator&&Ii.denominator.length!==0?Ii.denominator:ei):Wi?($i.call(this,Wi),this.scalar=Ii):$i.call(this,Ii),this.denominator.join("*").indexOf("temp")>=0)throw new Qe("Cannot divide with temperatures");if(this.numerator.join("*").indexOf("temp")>=0){if(this.numerator.length>1)throw new Qe("Cannot multiply by temperatures");if(!Xe(this.denominator,ei))throw new Qe("Cannot divide with temperatures")}if(this.initValue=Ii,vn.call(this),this.isTemperature()&&this.baseScalar<0)throw new Qe("Temperatures must not be less than absolute zero")}un.prototype={constructor:un};function Mn(Ii,Wi){if(Wi){if(!(Ve(Ii)&&t(Wi)))throw new Qe("Only number accepted as initialization value when units are explicitly provided")}else if(!(t(Ii)||Ve(Ii)||hn(Ii)||sn(Ii)))throw new Qe("Only string, number or quantity accepted as single initialization value")}function sn(Ii){return Ii&&typeof Ii=="object"&&Ii.hasOwnProperty("scalar")}function vn(){if(this.baseScalar)return this.baseScalar;if(this.isBase())this.baseScalar=this.scalar,this.signature=Ai.call(this);else{var Ii=this.toBase();this.baseScalar=Ii.scalar,this.signature=Ii.signature}}var Ni={"-312078":"elastance","-312058":"resistance","-312038":"inductance","-152058":"potential","-152040":"magnetism","-152038":"magnetism","-7997":"specific_volume","-79":"snap","-59":"jolt","-39":"acceleration","-38":"radiation","-20":"frequency","-19":"speed","-18":"viscosity","-17":"volumetric_flow","-1":"wavenumber",0:"unitless",1:"length",2:"area",3:"volume",20:"time",400:"temperature",7941:"yank",7942:"power",7959:"pressure",7961:"force",7962:"energy",7979:"viscosity",7981:"momentum",7982:"angular_momentum",7997:"density",7998:"area_density",8e3:"mass",152020:"radiation_exposure",159999:"magnetism",16e4:"current",160020:"charge",312058:"conductance",312078:"capacitance",3199980:"activity",3199997:"molar_concentration",32e5:"substance",63999998:"illuminance",64e6:"luminous_power",128e7:"currency","25599999980":"information_rate","25600000000":"information","511999999980":"angular_velocity","512000000000":"angle"};function Cn(){return ze(Object.keys(Ni).map(function(Ii){return Ni[Ii]}))}un.prototype.kind=function(){return Ni[this.signature.toString()]},We(un.prototype,{isDegrees:function(){return(this.signature===null||this.signature===400)&&this.numerator.length===1&&Xe(this.denominator,ei)&&(this.numerator[0].match(/<temp-[CFRK]>/)||this.numerator[0].match(/<(kelvin|celsius|rankine|fahrenheit)>/))},isTemperature:function(){return this.isDegrees()&&this.numerator[0].match(/<temp-[CFRK]>/)}});function cn(Ii,Wi){var nn=Ii.units(),xn=Wi.to(nn),On=un(an(nn));return un({scalar:Ii.scalar-xn.scalar,numerator:On.numerator,denominator:On.denominator})}function fn(Ii,Wi){var nn=Wi.to(an(Ii.units()));return un({scalar:Ii.scalar-nn.scalar,numerator:Ii.numerator,denominator:Ii.denominator})}function qi(Ii,Wi){var nn=Wi.to(an(Ii.units()));return un({scalar:Ii.scalar+nn.scalar,numerator:Ii.numerator,denominator:Ii.denominator})}function an(Ii){if(Ii==="tempK")return"degK";if(Ii==="tempC")return"degC";if(Ii==="tempF")return"degF";if(Ii==="tempR")return"degR";throw new Qe("Unknown type for temp conversion from: "+Ii)}function yn(Ii,Wi){var nn=bn(Ii),xn=Wi.units(),On;if(xn==="degK")On=nn.scalar;else if(xn==="degC")On=nn.scalar;else if(xn==="degF")On=nn.scalar*9/5;else if(xn==="degR")On=nn.scalar*9/5;else throw new Qe("Unknown type for degree conversion to: "+xn);return un({scalar:On,numerator:Wi.numerator,denominator:Wi.denominator})}function bn(Ii){var Wi=Ii.units(),nn;if(Wi.match(/(deg)[CFRK]/))nn=Ii.baseScalar;else if(Wi==="tempK")nn=Ii.scalar;else if(Wi==="tempC")nn=Ii.scalar;else if(Wi==="tempF")nn=Ii.scalar*5/9;else if(Wi==="tempR")nn=Ii.scalar*5/9;else throw new Qe("Unknown type for temp conversion from: "+Wi);return un({scalar:nn,numerator:["<kelvin>"],denominator:ei})}function Sn(Ii,Wi){var nn=Wi.units(),xn;if(nn==="tempK")xn=Ii.baseScalar;else if(nn==="tempC")xn=Ii.baseScalar-273.15;else if(nn==="tempF")xn=Ii.baseScalar*9/5-459.67;else if(nn==="tempR")xn=Ii.baseScalar*9/5;else throw new Qe("Unknown type for temp conversion to: "+nn);return un({scalar:xn,numerator:Wi.numerator,denominator:Wi.denominator})}function Fn(Ii){var Wi=Ii.units(),nn;if(Wi.match(/(deg)[CFRK]/))nn=Ii.baseScalar;else if(Wi==="tempK")nn=Ii.scalar;else if(Wi==="tempC")nn=Ii.scalar+273.15;else if(Wi==="tempF")nn=(Ii.scalar+459.67)*5/9;else if(Wi==="tempR")nn=Ii.scalar*5/9;else throw new Qe("Unknown type for temp conversion from: "+Wi);return un({scalar:nn,numerator:["<temp-K>"],denominator:ei})}We(un.prototype,{to:function(Ii){var Wi,nn;if(Ii==null)return this;if(!t(Ii))return this.to(Ii.units());if(Wi=this._conversionCache[Ii],Wi)return Wi;if(nn=un(Ii),nn.units()===this.units())return this;if(!this.isCompatible(nn))this.isInverse(nn)?nn=this.inverse().to(Ii):ti(this.units(),nn.units());else if(nn.isTemperature())nn=Sn(this,nn);else if(nn.isDegrees())nn=yn(this,nn);else{var xn=Ke(this.baseScalar,nn.baseScalar);nn=un({scalar:xn,numerator:nn.numerator,denominator:nn.denominator})}return this._conversionCache[Ii]=nn,nn},toBase:function(){if(this.isBase())return this;if(this.isTemperature())return Fn(this);var Ii=Nn[this.units()];return Ii||(Ii=Hn(this.numerator,this.denominator),Nn[this.units()]=Ii),Ii.mul(this.scalar)},toFloat:function(){if(this.isUnitless())return this.scalar;throw new Qe("Can't convert to Float unless unitless.  Use Unit#scalar")},toPrec:function(Ii){if(t(Ii)&&(Ii=un(Ii)),Ve(Ii)&&(Ii=un(Ii+" "+this.units())),this.isUnitless()?Ii.isUnitless()||ti(this.units(),Ii.units()):Ii=Ii.to(this.units()),Ii.scalar===0)throw new Qe("Divide by zero");var Wi=qe(Math.round(this.scalar/Ii.scalar),Ii.scalar);return un(Wi+this.units())}});function kn(Ii,Wi){var nn=un(Ii),xn=un(Wi);if(nn.eq(xn))return je;var On;return nn.isTemperature()?On=function(Ln){return nn.mul(Ln).to(xn).scalar}:On=function(Ln){return Ln*nn.baseScalar/xn.baseScalar},function(Ln){var nr,Kn,ir;if(Array.isArray(Ln)){for(Kn=Ln.length,ir=[],nr=0;nr<Kn;nr++)ir.push(On(Ln[nr]));return ir}else return On(Ln)}}var Nn={};function Hn(Ii,Wi){for(var nn=[],xn=[],On=1,Ln,nr=0;nr<Ii.length;nr++)Ln=Ii[nr],oi[Ln]?On=qe(On,oi[Ln]):ai[Ln]&&(On*=ai[Ln].scalar,ai[Ln].numerator&&nn.push(ai[Ln].numerator),ai[Ln].denominator&&xn.push(ai[Ln].denominator));for(var Kn=0;Kn<Wi.length;Kn++)Ln=Wi[Kn],oi[Ln]?On/=oi[Ln]:ai[Ln]&&(On/=ai[Ln].scalar,ai[Ln].numerator&&xn.push(ai[Ln].numerator),ai[Ln].denominator&&nn.push(ai[Ln].denominator));return nn=nn.reduce(function(ir,pr){return ir.concat(pr)},[]),xn=xn.reduce(function(ir,pr){return ir.concat(pr)},[]),un({scalar:On,numerator:nn,denominator:xn})}un.parse=gn,un.getUnits=yi,un.getAliases=gi,un.mulSafe=qe,un.divSafe=Ke,un.getKinds=Cn,un.swiftConverter=kn,un.Error=Qe,We(un.prototype,{add:function(Ii){if(t(Ii)&&(Ii=un(Ii)),this.isCompatible(Ii)||ti(this.units(),Ii.units()),this.isTemperature()&&Ii.isTemperature())throw new Qe("Cannot add two temperatures");return this.isTemperature()?qi(this,Ii):Ii.isTemperature()?qi(Ii,this):un({scalar:this.scalar+Ii.to(this).scalar,numerator:this.numerator,denominator:this.denominator})},sub:function(Ii){if(t(Ii)&&(Ii=un(Ii)),this.isCompatible(Ii)||ti(this.units(),Ii.units()),this.isTemperature()&&Ii.isTemperature())return cn(this,Ii);if(this.isTemperature())return fn(this,Ii);if(Ii.isTemperature())throw new Qe("Cannot subtract a temperature from a differential degree unit");return un({scalar:this.scalar-Ii.to(this).scalar,numerator:this.numerator,denominator:this.denominator})},mul:function(Ii){if(Ve(Ii))return un({scalar:qe(this.scalar,Ii),numerator:this.numerator,denominator:this.denominator});if(t(Ii)&&(Ii=un(Ii)),(this.isTemperature()||Ii.isTemperature())&&!(this.isUnitless()||Ii.isUnitless()))throw new Qe("Cannot multiply by temperatures");var Wi=this,nn=Ii;Wi.isCompatible(nn)&&Wi.signature!==400&&(nn=nn.to(Wi));var xn=Yn(Wi.numerator,Wi.denominator,nn.numerator,nn.denominator);return un({scalar:qe(Wi.scalar,nn.scalar,xn[2]),numerator:xn[0],denominator:xn[1]})},div:function(Ii){if(Ve(Ii)){if(Ii===0)throw new Qe("Divide by zero");return un({scalar:this.scalar/Ii,numerator:this.numerator,denominator:this.denominator})}else t(Ii)&&(Ii=un(Ii));if(Ii.scalar===0)throw new Qe("Divide by zero");if(Ii.isTemperature())throw new Qe("Cannot divide with temperatures");if(this.isTemperature()&&!Ii.isUnitless())throw new Qe("Cannot divide with temperatures");var Wi=this,nn=Ii;Wi.isCompatible(nn)&&Wi.signature!==400&&(nn=nn.to(Wi));var xn=Yn(Wi.numerator,Wi.denominator,nn.denominator,nn.numerator);return un({scalar:qe(Wi.scalar,xn[2])/nn.scalar,numerator:xn[0],denominator:xn[1]})},inverse:function(){if(this.isTemperature())throw new Qe("Cannot divide with temperatures");if(this.scalar===0)throw new Qe("Divide by zero");return un({scalar:1/this.scalar,numerator:this.denominator,denominator:this.numerator})}});function Yn(Ii,Wi,nn,xn){function On(lr){return lr!==ii}Ii=Ii.filter(On),nn=nn.filter(On),Wi=Wi.filter(On),xn=xn.filter(On);var Ln={};function nr(lr,yr){for(var cr,br,Er,$r=0;$r<lr.length;$r++)if(oi[lr[$r]]?(cr=lr[$r+1],br=lr[$r],Er=oi[br],$r++):(cr=lr[$r],br=null,Er=1),cr&&cr!==ii)if(Ln[cr]){Ln[cr][0]+=yr;var Gr=Ln[cr][2]?oi[Ln[cr][2]]:1;Ln[cr][yr===1?3:4]*=Ke(Er,Gr)}else Ln[cr]=[yr,cr,br,1,1]}nr(Ii,1),nr(Wi,-1),nr(nn,1),nr(xn,-1);var Kn=[],ir=[],pr=1;for(var Ur in Ln)if(Ln.hasOwnProperty(Ur)){var ur=Ln[Ur],_r;if(ur[0]>0)for(_r=0;_r<ur[0];_r++)Kn.push(ur[2]===null?ur[1]:[ur[2],ur[1]]);else if(ur[0]<0)for(_r=0;_r<-ur[0];_r++)ir.push(ur[2]===null?ur[1]:[ur[2],ur[1]]);pr*=Ke(ur[3],ur[4])}return Kn.length===0&&(Kn=ei),ir.length===0&&(ir=ei),Kn=Kn.reduce(function(lr,yr){return lr.concat(yr)},[]),ir=ir.reduce(function(lr,yr){return lr.concat(yr)},[]),[Kn,ir,pr]}We(un.prototype,{eq:function(Ii){return this.compareTo(Ii)===0},lt:function(Ii){return this.compareTo(Ii)===-1},lte:function(Ii){return this.eq(Ii)||this.lt(Ii)},gt:function(Ii){return this.compareTo(Ii)===1},gte:function(Ii){return this.eq(Ii)||this.gt(Ii)},compareTo:function(Ii){if(t(Ii))return this.compareTo(un(Ii));if(this.isCompatible(Ii)||ti(this.units(),Ii.units()),this.baseScalar<Ii.baseScalar)return-1;if(this.baseScalar===Ii.baseScalar)return 0;if(this.baseScalar>Ii.baseScalar)return 1},same:function(Ii){return this.scalar===Ii.scalar&&this.units()===Ii.units()}}),We(un.prototype,{isUnitless:function(){return[this.numerator,this.denominator].every(function(Ii){return Xe(Ii,ei)})},isCompatible:function(Ii){return t(Ii)?this.isCompatible(un(Ii)):hn(Ii)&&Ii.signature!==void 0?this.signature===Ii.signature:!1},isInverse:function(Ii){return this.inverse().isCompatible(Ii)},isBase:function(){return this._isBase!==void 0?this._isBase:this.isDegrees()&&this.numerator[0].match(/<(kelvin|temp-K)>/)?(this._isBase=!0,this._isBase):(this.numerator.concat(this.denominator).forEach(function(Ii){Ii!==ii&&ri.indexOf(Ii)===-1&&(this._isBase=!1)},this),this._isBase===!1?this._isBase:(this._isBase=!0,this._isBase))}});function tr(){}tr.prototype.get=function(Ii){return arguments.length>1&&(Ii=Array.apply(null,arguments)),Ii.reduce(function(Wi,nn,xn){if(Wi){var On=Wi[nn];return xn===Ii.length-1?On?On.data:void 0:On}},this)},tr.prototype.set=function(Ii,Wi){return arguments.length>2&&(Ii=Array.prototype.slice.call(arguments,0,-1),Wi=arguments[arguments.length-1]),Ii.reduce(function(nn,xn,On){var Ln=nn[xn];return Ln===void 0&&(Ln=nn[xn]={}),On===Ii.length-1?(Ln.data=Wi,Wi):Ln},this)};function qn(Ii,Wi){return(Ii+" "+Wi).trim()}un.formatter=qn,We(un.prototype,{units:function(){if(this._units!==void 0)return this._units;var Ii=Xe(this.numerator,ei),Wi=Xe(this.denominator,ei);if(Ii&&Wi)return this._units="",this._units;var nn=Qn(this.numerator),xn=Qn(this.denominator);return this._units=nn+(Wi?"":"/"+xn),this._units},toString:function(Ii,Wi){var nn;if(Ve(Ii))nn=this.units(),Wi=Ii;else if(t(Ii))nn=Ii;else if(hn(Ii))return this.toPrec(Ii).toString(Wi);var xn=this.to(nn),On=Wi!==void 0?Ze(xn.scalar,Wi):xn.scalar;return xn=(On+" "+xn.units()).trim(),xn},format:function(Ii,Wi){arguments.length===1&&typeof Ii=="function"&&(Wi=Ii,Ii=void 0),Wi=Wi||un.formatter;var nn=this.to(Ii);return Wi.call(this,nn.scalar,nn.units())}});var Jn=new tr;function Qn(Ii){var Wi=Jn.get(Ii);if(Wi)return Wi;var nn=Xe(Ii,ei);return nn?Wi="1":Wi=mn(ar(Ii)).join("*"),Jn.set(Ii,Wi),Wi}function ar(Ii){for(var Wi=[],nn,xn,On=0;On<Ii.length;On++)nn=Ii[On],xn=Ii[On+1],oi[nn]?(Wi.push(hi[nn]+hi[xn]),On++):Wi.push(hi[nn]);return Wi}function mn(Ii){var Wi=Ii.reduce(function(nn,xn){var On=nn[xn];return On||nn.push(On=nn[xn]=[xn,0]),On[1]++,nn},[]);return Wi.map(function(nn){return nn[0]+(nn[1]>1?nn[1]:"")})}return un.version="1.8.0",un})})(quantities$1);var quantitiesExports$1=quantities$1.exports;const Qty$1=getDefaultExportFromCjs$1(quantitiesExports$1);function deepValue$1($e,e=""){let t=e.split(".");for(let r of t){if($e[r]===void 0)return;$e=$e[r]}return $e}var orientation$1={exports:{}},twoProduct_1$1=twoProduct$1$1,SPLITTER$1=+(Math.pow(2,27)+1);function twoProduct$1$1($e,e,t){var r=$e*e,Ve=SPLITTER$1*$e,je=Ve-$e,ze=Ve-je,Xe=$e-ze,We=SPLITTER$1*e,qe=We-e,Ke=We-qe,Ze=e-Ke,Je=r-ze*Ke,Qe=Je-Xe*Ke,ti=Qe-ze*Ze,ni=Xe*Ze-ti;return t?(t[0]=ni,t[1]=r,t):[ni,r]}var robustSum$1=linearExpansionSum$1;function scalarScalar$1$1($e,e){var t=$e+e,r=t-$e,Ve=t-r,je=e-r,ze=$e-Ve,Xe=ze+je;return Xe?[Xe,t]:[t]}function linearExpansionSum$1($e,e){var t=$e.length|0,r=e.length|0;if(t===1&&r===1)return scalarScalar$1$1($e[0],e[0]);var Ve=t+r,je=new Array(Ve),ze=0,Xe=0,We=0,qe=Math.abs,Ke=$e[Xe],Ze=qe(Ke),Je=e[We],Qe=qe(Je),ti,ni;Ze<Qe?(ni=Ke,Xe+=1,Xe<t&&(Ke=$e[Xe],Ze=qe(Ke))):(ni=Je,We+=1,We<r&&(Je=e[We],Qe=qe(Je))),Xe<t&&Ze<Qe||We>=r?(ti=Ke,Xe+=1,Xe<t&&(Ke=$e[Xe],Ze=qe(Ke))):(ti=Je,We+=1,We<r&&(Je=e[We],Qe=qe(Je)));for(var ri=ti+ni,ii=ri-ti,ei=ni-ii,St=ei,oi=ri,si,ai,ui,hi,ci;Xe<t&&We<r;)Ze<Qe?(ti=Ke,Xe+=1,Xe<t&&(Ke=$e[Xe],Ze=qe(Ke))):(ti=Je,We+=1,We<r&&(Je=e[We],Qe=qe(Je))),ni=St,ri=ti+ni,ii=ri-ti,ei=ni-ii,ei&&(je[ze++]=ei),si=oi+ri,ai=si-oi,ui=si-ai,hi=ri-ai,ci=oi-ui,St=ci+hi,oi=si;for(;Xe<t;)ti=Ke,ni=St,ri=ti+ni,ii=ri-ti,ei=ni-ii,ei&&(je[ze++]=ei),si=oi+ri,ai=si-oi,ui=si-ai,hi=ri-ai,ci=oi-ui,St=ci+hi,oi=si,Xe+=1,Xe<t&&(Ke=$e[Xe]);for(;We<r;)ti=Je,ni=St,ri=ti+ni,ii=ri-ti,ei=ni-ii,ei&&(je[ze++]=ei),si=oi+ri,ai=si-oi,ui=si-ai,hi=ri-ai,ci=oi-ui,St=ci+hi,oi=si,We+=1,We<r&&(Je=e[We]);return St&&(je[ze++]=St),oi&&(je[ze++]=oi),ze||(je[ze++]=0),je.length=ze,je}var twoSum$1$1=fastTwoSum$1;function fastTwoSum$1($e,e,t){var r=$e+e,Ve=r-$e,je=r-Ve,ze=e-Ve,Xe=$e-je;return t?(t[0]=Xe+ze,t[1]=r,t):[Xe+ze,r]}var twoProduct$2=twoProduct_1$1,twoSum$2=twoSum$1$1,robustScale$1=scaleLinearExpansion$1;function scaleLinearExpansion$1($e,e){var t=$e.length;if(t===1){var r=twoProduct$2($e[0],e);return r[0]?r:[r[1]]}var Ve=new Array(2*t),je=[.1,.1],ze=[.1,.1],Xe=0;twoProduct$2($e[0],e,je),je[0]&&(Ve[Xe++]=je[0]);for(var We=1;We<t;++We){twoProduct$2($e[We],e,ze);var qe=je[1];twoSum$2(qe,ze[0],je),je[0]&&(Ve[Xe++]=je[0]);var Ke=ze[1],Ze=je[1],Je=Ke+Ze,Qe=Je-Ke,ti=Ze-Qe;je[1]=Je,ti&&(Ve[Xe++]=ti)}return je[1]&&(Ve[Xe++]=je[1]),Xe===0&&(Ve[Xe++]=0),Ve.length=Xe,Ve}var robustDiff$1=robustSubtract$1;function scalarScalar$2($e,e){var t=$e+e,r=t-$e,Ve=t-r,je=e-r,ze=$e-Ve,Xe=ze+je;return Xe?[Xe,t]:[t]}function robustSubtract$1($e,e){var t=$e.length|0,r=e.length|0;if(t===1&&r===1)return scalarScalar$2($e[0],-e[0]);var Ve=t+r,je=new Array(Ve),ze=0,Xe=0,We=0,qe=Math.abs,Ke=$e[Xe],Ze=qe(Ke),Je=-e[We],Qe=qe(Je),ti,ni;Ze<Qe?(ni=Ke,Xe+=1,Xe<t&&(Ke=$e[Xe],Ze=qe(Ke))):(ni=Je,We+=1,We<r&&(Je=-e[We],Qe=qe(Je))),Xe<t&&Ze<Qe||We>=r?(ti=Ke,Xe+=1,Xe<t&&(Ke=$e[Xe],Ze=qe(Ke))):(ti=Je,We+=1,We<r&&(Je=-e[We],Qe=qe(Je)));for(var ri=ti+ni,ii=ri-ti,ei=ni-ii,St=ei,oi=ri,si,ai,ui,hi,ci;Xe<t&&We<r;)Ze<Qe?(ti=Ke,Xe+=1,Xe<t&&(Ke=$e[Xe],Ze=qe(Ke))):(ti=Je,We+=1,We<r&&(Je=-e[We],Qe=qe(Je))),ni=St,ri=ti+ni,ii=ri-ti,ei=ni-ii,ei&&(je[ze++]=ei),si=oi+ri,ai=si-oi,ui=si-ai,hi=ri-ai,ci=oi-ui,St=ci+hi,oi=si;for(;Xe<t;)ti=Ke,ni=St,ri=ti+ni,ii=ri-ti,ei=ni-ii,ei&&(je[ze++]=ei),si=oi+ri,ai=si-oi,ui=si-ai,hi=ri-ai,ci=oi-ui,St=ci+hi,oi=si,Xe+=1,Xe<t&&(Ke=$e[Xe]);for(;We<r;)ti=Je,ni=St,ri=ti+ni,ii=ri-ti,ei=ni-ii,ei&&(je[ze++]=ei),si=oi+ri,ai=si-oi,ui=si-ai,hi=ri-ai,ci=oi-ui,St=ci+hi,oi=si,We+=1,We<r&&(Je=-e[We]);return St&&(je[ze++]=St),oi&&(je[ze++]=oi),ze||(je[ze++]=0),je.length=ze,je}(function($e){var e=twoProduct_1$1,t=robustSum$1,r=robustScale$1,Ve=robustDiff$1,je=5,ze=11102230246251565e-32,Xe=(3+16*ze)*ze,We=(7+56*ze)*ze;function qe(St,oi,si,ai){return function(ui,hi,ci){var mi=St(St(oi(hi[1],ci[0]),oi(-ci[1],hi[0])),St(oi(ui[1],hi[0]),oi(-hi[1],ui[0]))),di=St(oi(ui[1],ci[0]),oi(-ci[1],ui[0])),pi=ai(mi,di);return pi[pi.length-1]}}function Ke(St,oi,si,ai){return function(ui,hi,ci,mi){var di=St(St(si(St(oi(ci[1],mi[0]),oi(-mi[1],ci[0])),hi[2]),St(si(St(oi(hi[1],mi[0]),oi(-mi[1],hi[0])),-ci[2]),si(St(oi(hi[1],ci[0]),oi(-ci[1],hi[0])),mi[2]))),St(si(St(oi(hi[1],mi[0]),oi(-mi[1],hi[0])),ui[2]),St(si(St(oi(ui[1],mi[0]),oi(-mi[1],ui[0])),-hi[2]),si(St(oi(ui[1],hi[0]),oi(-hi[1],ui[0])),mi[2])))),pi=St(St(si(St(oi(ci[1],mi[0]),oi(-mi[1],ci[0])),ui[2]),St(si(St(oi(ui[1],mi[0]),oi(-mi[1],ui[0])),-ci[2]),si(St(oi(ui[1],ci[0]),oi(-ci[1],ui[0])),mi[2]))),St(si(St(oi(hi[1],ci[0]),oi(-ci[1],hi[0])),ui[2]),St(si(St(oi(ui[1],ci[0]),oi(-ci[1],ui[0])),-hi[2]),si(St(oi(ui[1],hi[0]),oi(-hi[1],ui[0])),ci[2])))),yi=ai(di,pi);return yi[yi.length-1]}}function Ze(St,oi,si,ai){return function(ui,hi,ci,mi,di){var pi=St(St(St(si(St(si(St(oi(mi[1],di[0]),oi(-di[1],mi[0])),ci[2]),St(si(St(oi(ci[1],di[0]),oi(-di[1],ci[0])),-mi[2]),si(St(oi(ci[1],mi[0]),oi(-mi[1],ci[0])),di[2]))),hi[3]),St(si(St(si(St(oi(mi[1],di[0]),oi(-di[1],mi[0])),hi[2]),St(si(St(oi(hi[1],di[0]),oi(-di[1],hi[0])),-mi[2]),si(St(oi(hi[1],mi[0]),oi(-mi[1],hi[0])),di[2]))),-ci[3]),si(St(si(St(oi(ci[1],di[0]),oi(-di[1],ci[0])),hi[2]),St(si(St(oi(hi[1],di[0]),oi(-di[1],hi[0])),-ci[2]),si(St(oi(hi[1],ci[0]),oi(-ci[1],hi[0])),di[2]))),mi[3]))),St(si(St(si(St(oi(ci[1],mi[0]),oi(-mi[1],ci[0])),hi[2]),St(si(St(oi(hi[1],mi[0]),oi(-mi[1],hi[0])),-ci[2]),si(St(oi(hi[1],ci[0]),oi(-ci[1],hi[0])),mi[2]))),-di[3]),St(si(St(si(St(oi(mi[1],di[0]),oi(-di[1],mi[0])),hi[2]),St(si(St(oi(hi[1],di[0]),oi(-di[1],hi[0])),-mi[2]),si(St(oi(hi[1],mi[0]),oi(-mi[1],hi[0])),di[2]))),ui[3]),si(St(si(St(oi(mi[1],di[0]),oi(-di[1],mi[0])),ui[2]),St(si(St(oi(ui[1],di[0]),oi(-di[1],ui[0])),-mi[2]),si(St(oi(ui[1],mi[0]),oi(-mi[1],ui[0])),di[2]))),-hi[3])))),St(St(si(St(si(St(oi(hi[1],di[0]),oi(-di[1],hi[0])),ui[2]),St(si(St(oi(ui[1],di[0]),oi(-di[1],ui[0])),-hi[2]),si(St(oi(ui[1],hi[0]),oi(-hi[1],ui[0])),di[2]))),mi[3]),St(si(St(si(St(oi(hi[1],mi[0]),oi(-mi[1],hi[0])),ui[2]),St(si(St(oi(ui[1],mi[0]),oi(-mi[1],ui[0])),-hi[2]),si(St(oi(ui[1],hi[0]),oi(-hi[1],ui[0])),mi[2]))),-di[3]),si(St(si(St(oi(ci[1],mi[0]),oi(-mi[1],ci[0])),hi[2]),St(si(St(oi(hi[1],mi[0]),oi(-mi[1],hi[0])),-ci[2]),si(St(oi(hi[1],ci[0]),oi(-ci[1],hi[0])),mi[2]))),ui[3]))),St(si(St(si(St(oi(ci[1],mi[0]),oi(-mi[1],ci[0])),ui[2]),St(si(St(oi(ui[1],mi[0]),oi(-mi[1],ui[0])),-ci[2]),si(St(oi(ui[1],ci[0]),oi(-ci[1],ui[0])),mi[2]))),-hi[3]),St(si(St(si(St(oi(hi[1],mi[0]),oi(-mi[1],hi[0])),ui[2]),St(si(St(oi(ui[1],mi[0]),oi(-mi[1],ui[0])),-hi[2]),si(St(oi(ui[1],hi[0]),oi(-hi[1],ui[0])),mi[2]))),ci[3]),si(St(si(St(oi(hi[1],ci[0]),oi(-ci[1],hi[0])),ui[2]),St(si(St(oi(ui[1],ci[0]),oi(-ci[1],ui[0])),-hi[2]),si(St(oi(ui[1],hi[0]),oi(-hi[1],ui[0])),ci[2]))),-mi[3]))))),yi=St(St(St(si(St(si(St(oi(mi[1],di[0]),oi(-di[1],mi[0])),ci[2]),St(si(St(oi(ci[1],di[0]),oi(-di[1],ci[0])),-mi[2]),si(St(oi(ci[1],mi[0]),oi(-mi[1],ci[0])),di[2]))),ui[3]),si(St(si(St(oi(mi[1],di[0]),oi(-di[1],mi[0])),ui[2]),St(si(St(oi(ui[1],di[0]),oi(-di[1],ui[0])),-mi[2]),si(St(oi(ui[1],mi[0]),oi(-mi[1],ui[0])),di[2]))),-ci[3])),St(si(St(si(St(oi(ci[1],di[0]),oi(-di[1],ci[0])),ui[2]),St(si(St(oi(ui[1],di[0]),oi(-di[1],ui[0])),-ci[2]),si(St(oi(ui[1],ci[0]),oi(-ci[1],ui[0])),di[2]))),mi[3]),si(St(si(St(oi(ci[1],mi[0]),oi(-mi[1],ci[0])),ui[2]),St(si(St(oi(ui[1],mi[0]),oi(-mi[1],ui[0])),-ci[2]),si(St(oi(ui[1],ci[0]),oi(-ci[1],ui[0])),mi[2]))),-di[3]))),St(St(si(St(si(St(oi(ci[1],di[0]),oi(-di[1],ci[0])),hi[2]),St(si(St(oi(hi[1],di[0]),oi(-di[1],hi[0])),-ci[2]),si(St(oi(hi[1],ci[0]),oi(-ci[1],hi[0])),di[2]))),ui[3]),si(St(si(St(oi(ci[1],di[0]),oi(-di[1],ci[0])),ui[2]),St(si(St(oi(ui[1],di[0]),oi(-di[1],ui[0])),-ci[2]),si(St(oi(ui[1],ci[0]),oi(-ci[1],ui[0])),di[2]))),-hi[3])),St(si(St(si(St(oi(hi[1],di[0]),oi(-di[1],hi[0])),ui[2]),St(si(St(oi(ui[1],di[0]),oi(-di[1],ui[0])),-hi[2]),si(St(oi(ui[1],hi[0]),oi(-hi[1],ui[0])),di[2]))),ci[3]),si(St(si(St(oi(hi[1],ci[0]),oi(-ci[1],hi[0])),ui[2]),St(si(St(oi(ui[1],ci[0]),oi(-ci[1],ui[0])),-hi[2]),si(St(oi(ui[1],hi[0]),oi(-hi[1],ui[0])),ci[2]))),-di[3])))),gi=ai(pi,yi);return gi[gi.length-1]}}function Je(St){var oi=St===3?qe:St===4?Ke:Ze;return oi(t,e,r,Ve)}var Qe=Je(3),ti=Je(4),ni=[function(){return 0},function(){return 0},function(St,oi){return oi[0]-St[0]},function(St,oi,si){var ai=(St[1]-si[1])*(oi[0]-si[0]),ui=(St[0]-si[0])*(oi[1]-si[1]),hi=ai-ui,ci;if(ai>0){if(ui<=0)return hi;ci=ai+ui}else if(ai<0){if(ui>=0)return hi;ci=-(ai+ui)}else return hi;var mi=Xe*ci;return hi>=mi||hi<=-mi?hi:Qe(St,oi,si)},function(St,oi,si,ai){var ui=St[0]-ai[0],hi=oi[0]-ai[0],ci=si[0]-ai[0],mi=St[1]-ai[1],di=oi[1]-ai[1],pi=si[1]-ai[1],yi=St[2]-ai[2],gi=oi[2]-ai[2],_i=si[2]-ai[2],Ai=hi*pi,ki=ci*di,vi=ci*mi,Mi=ui*pi,Di=ui*di,Bi=hi*mi,Pi=yi*(Ai-ki)+gi*(vi-Mi)+_i*(Di-Bi),Fi=(Math.abs(Ai)+Math.abs(ki))*Math.abs(yi)+(Math.abs(vi)+Math.abs(Mi))*Math.abs(gi)+(Math.abs(Di)+Math.abs(Bi))*Math.abs(_i),Vi=We*Fi;return Pi>Vi||-Pi>Vi?Pi:ti(St,oi,si,ai)}];function ri(St){var oi=ni[St.length];return oi||(oi=ni[St.length]=Je(St.length)),oi.apply(void 0,St)}function ii(St,oi,si,ai,ui,hi,ci){return function(mi,di,pi,yi,gi){switch(arguments.length){case 0:case 1:return 0;case 2:return ai(mi,di);case 3:return ui(mi,di,pi);case 4:return hi(mi,di,pi,yi);case 5:return ci(mi,di,pi,yi,gi)}for(var _i=new Array(arguments.length),Ai=0;Ai<arguments.length;++Ai)_i[Ai]=arguments[Ai];return St(_i)}}function ei(){for(;ni.length<=je;)ni.push(Je(ni.length));$e.exports=ii.apply(void 0,[ri].concat(ni));for(var St=0;St<=je;++St)$e.exports[St]=ni[St]}ei()})(orientation$1);var orientationExports$1=orientation$1.exports,robustPnp$1=robustPointInPolygon$2,orient$1=orientationExports$1;function robustPointInPolygon$2($e,e){for(var t=e[0],r=e[1],Ve=$e.length,je=1,ze=Ve,Xe=0,We=Ve-1;Xe<ze;We=Xe++){var qe=$e[Xe],Ke=$e[We],Ze=qe[1],Je=Ke[1];if(Je<Ze){if(Je<r&&r<Ze){var Qe=orient$1(qe,Ke,e);if(Qe===0)return 0;je^=0<Qe|0}else if(r===Ze){var ti=$e[(Xe+1)%Ve],ni=ti[1];if(Ze<ni){var Qe=orient$1(qe,Ke,e);if(Qe===0)return 0;je^=0<Qe|0}}}else if(Ze<Je){if(Ze<r&&r<Je){var Qe=orient$1(qe,Ke,e);if(Qe===0)return 0;je^=Qe<0|0}else if(r===Ze){var ti=$e[(Xe+1)%Ve],ni=ti[1];if(ni<Ze){var Qe=orient$1(qe,Ke,e);if(Qe===0)return 0;je^=Qe<0|0}}}else if(r===Ze){var ri=Math.min(qe[0],Ke[0]),ii=Math.max(qe[0],Ke[0]);if(Xe===0){for(;We>0;){var ei=(We+Ve-1)%Ve,St=$e[ei];if(St[1]!==r)break;var oi=St[0];ri=Math.min(ri,oi),ii=Math.max(ii,oi),We=ei}if(We===0)return ri<=t&&t<=ii?0:1;ze=We+1}for(var si=$e[(We+Ve-1)%Ve][1];Xe+1<ze;){var St=$e[Xe+1];if(St[1]!==r)break;var oi=St[0];ri=Math.min(ri,oi),ii=Math.max(ii,oi),Xe+=1}if(ri<=t&&t<=ii)return 0;var ai=$e[(Xe+1)%Ve][1];t<ri&&si<r!=ai<r&&(je^=1)}}return 2*je-1}const robustPointInPolygon$1$1=getDefaultExportFromCjs$1(robustPnp$1);function feretDiameters$1($e={}){const{originalPoints:e=monotoneChainConvexHull$2.call(this)}=$e;if(e.length===0)return{min:0,max:0,minLine:[],maxLine:[],aspectRatio:1};if(e.length===1)return{min:1,max:1,minLine:[e[0],e[0]],maxLine:[e[0],e[0]],aspectRatio:1};const t=new Array(e.length);let r=1/0,Ve=0,je=[];for(let qe=0;qe<e.length;qe++){let Ke=getAngle$2(e[qe],e[(qe+1)%e.length]);rotate$2(-Ke,e,t);let Ze=0,Je=[];for(let Qe=0;Qe<e.length;Qe++){let ti=Math.abs(t[qe][1]-t[Qe][1]);ti>Ze&&(Ze=ti,Je=[],Je.push([t[Qe][0],t[qe][1]],[t[Qe][0],t[Qe][1]]))}Ze<r&&(r=Ze,Ve=Ke,je=Je)}rotate$2(Ve,je,je);let ze=0,Xe=[],We=0;for(let qe=0;qe<e.length-1;qe++)for(let Ke=qe+1;Ke<e.length;Ke++){let Ze=(e[qe][0]-e[Ke][0])**2+(e[qe][1]-e[Ke][1])**2;Ze>We&&(We=Ze,ze=Math.sqrt(Ze),Xe=[e[qe],e[Ke]])}return{min:r,minLine:je,max:ze,maxLine:Xe,aspectRatio:r/ze}}function getAngle$2($e,e){let t=difference$1(e,$e),r=normalize$1(t),Ve=Math.acos(r[0]);return r[1]<0?-Ve:Ve}let Roi$1=class{constructor(e,t){this.map=e,this.id=t,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY,this.meanX=0,this.meanY=0,this.surface=0,this.computed={}}getMask(e={}){const{scale:t=1,kind:r=""}=e;let Ve;switch(r){case"contour":Ve=this.contourMask;break;case"box":Ve=this.boxMask;break;case"filled":Ve=this.filledMask;break;case"center":Ve=this.centerMask;break;case"mbr":Ve=this.mbrFilledMask;break;case"hull":Ve=this.convexHullFilledMask;break;case"hullContour":Ve=this.convexHullMask;break;case"mbrContour":Ve=this.mbrMask;break;case"feret":Ve=this.feretMask;break;default:Ve=this.mask}return t<1&&(Ve=Ve.resize({factor:t}),Ve.parent=this.mask.parent,Ve.position[0]+=this.minX,Ve.position[1]+=this.minY),Ve}get mean(){throw new Error("Roi mean not implemented yet")}get center(){return this.computed.center||(this.computed.center=[this.width/2>>0,this.height/2>>0]),this.computed.center}get ratio(){return this.width/this.height}get width(){return this.maxX-this.minX+1}get height(){return this.maxY-this.minY+1}_computExternalIDs(){let e=this.borderIDs,t=this.borderLengths;this.computed.externalIDs=[],this.computed.externalLengths=[];let r=this.internalIDs;for(let Ve=0;Ve<e.length;Ve++)r.includes(e[Ve])||(this.computed.externalIDs.push(e[Ve]),this.computed.externalLengths.push(t[Ve]))}get externalIDs(){return this.computed.externalIDs?this.computed.externalIDs:(this._computExternalIDs(),this.computed.externalIDs)}get externalLengths(){return this.computed.externalLengths?this.computed.externalLengths:(this._computExternalIDs(),this.computed.externalLengths)}_computeBorderIDs(){let e=getBorders$1(this);this.computed.borderIDs=e.ids,this.computed.borderLengths=e.lengths}get borderIDs(){return this.computed.borderIDs?this.computed.borderIDs:(this._computeBorderIDs(),this.computed.borderIDs)}get borderLengths(){return this.computed.borderLengths?this.computed.borderLengths:(this._computeBorderIDs(),this.computed.borderLengths)}get boxIDs(){return this.computed.boxIDs||(this.computed.boxIDs=getBoxIDs$1(this)),this.computed.boxIDs}get internalIDs(){return this.computed.internalIDs||(this.computed.internalIDs=getInternalIDs$1(this)),this.computed.internalIDs}get box(){return this.computed.box||(this.computed.box=getBox$1(this)),this.computed.box}get external(){return this.computed.external||(this.computed.external=getExternal$1(this)),this.computed.external}get holesInfo(){return this.computed.holesInfo||(this.computed.holesInfo=getHolesInfo$1(this)),this.computed.holesInfo}get border(){return this.computed.border||(this.computed.border=getBorder$1(this)),this.computed.border}get contourMask(){if(!this.computed.contourMask){let e=new Image$2(this.width,this.height,{kind:BINARY$1,position:[this.minX,this.minY],parent:this.map.parent});for(let t=0;t<this.width;t++)for(let r=0;r<this.height;r++)this.map.data[t+this.minX+(r+this.minY)*this.map.width]===this.id&&(t>0&&t<this.width-1&&r>0&&r<this.height-1?(this.map.data[t-1+this.minX+(r+this.minY)*this.map.width]!==this.id||this.map.data[t+1+this.minX+(r+this.minY)*this.map.width]!==this.id||this.map.data[t+this.minX+(r-1+this.minY)*this.map.width]!==this.id||this.map.data[t+this.minX+(r+1+this.minY)*this.map.width]!==this.id)&&e.setBitXY(t,r):e.setBitXY(t,r));this.computed.contourMask=e}return this.computed.contourMask}get boxMask(){if(!this.computed.boxMask){let e=new Image$2(this.width,this.height,{kind:BINARY$1,position:[this.minX,this.minY],parent:this.map.parent});for(let t=0;t<this.width;t++)e.setBitXY(t,0),e.setBitXY(t,this.height-1);for(let t=0;t<this.height;t++)e.setBitXY(0,t),e.setBitXY(this.width-1,t);this.computed.boxMask=e}return this.computed.boxMask}get mask(){if(!this.computed.mask){let e=new Image$2(this.width,this.height,{kind:BINARY$1,position:[this.minX,this.minY],parent:this.map.parent});for(let t=0;t<this.width;t++)for(let r=0;r<this.height;r++)this.map.data[t+this.minX+(r+this.minY)*this.map.width]===this.id&&e.setBitXY(t,r);this.computed.mask=e}return this.computed.mask}get filledMask(){if(!this.computed.filledMask){let e=new Image$2(this.width,this.height,{kind:BINARY$1,position:[this.minX,this.minY],parent:this.map.parent});for(let t=0;t<this.width;t++)for(let r=0;r<this.height;r++){let Ve=t+this.minX+(r+this.minY)*this.map.width;this.internalIDs.includes(this.map.data[Ve])&&e.setBitXY(t,r)}this.computed.filledMask=e}return this.computed.filledMask}get centerMask(){if(!this.computed.centerMask){let e=new Shape$1({kind:"smallCross"}).getMask();e.parent=this.map.parent,e.position=[this.minX+this.center[0]-1,this.minY+this.center[1]-1],this.computed.centerMask=e}return this.computed.centerMask}get convexHull(){if(!this.computed.convexHull){const e=[];for(let r=0;r<this.width;r++)for(let Ve=0;Ve<this.height;Ve++)this.map.data[r+this.minX+(Ve+this.minY)*this.map.width]===this.id&&(r>0&&r<this.width-1&&Ve>0&&Ve<this.height-1?(this.map.data[r-1+this.minX+(Ve+this.minY)*this.map.width]!==this.id||this.map.data[r+1+this.minX+(Ve+this.minY)*this.map.width]!==this.id||this.map.data[r+this.minX+(Ve-1+this.minY)*this.map.width]!==this.id||this.map.data[r+this.minX+(Ve+1+this.minY)*this.map.width]!==this.id)&&(e.push([r,Ve]),e.push([r+1,Ve]),e.push([r,Ve+1]),e.push([r+1,Ve+1])):(e.push([r,Ve]),e.push([r+1,Ve]),e.push([r,Ve+1]),e.push([r+1,Ve+1])));const t=monotoneChainConvexHull$1$1(e);this.computed.convexHull={polyline:t,surface:surface$1(t),perimeter:perimeter$1(t)}}return this.computed.convexHull}get convexHullMask(){if(!this.computed.convexHullMask){const e=this.convexHull,t=new Image$2(this.width+1,this.height+1,{kind:BINARY$1,position:[this.minX,this.minY],parent:this.map.parent});t.paintPolyline(e.polyline,{closed:!0}),this.computed.convexHullMask=t}return this.computed.convexHullMask}get convexHullFilledMask(){if(!this.computed.convexHullFilledMask){const e=this.convexHull,t=new Image$2(this.width,this.height,{kind:BINARY$1,position:[this.minX,this.minY],parent:this.map.parent});for(let r=0;r<this.width;r++)for(let Ve=0;Ve<this.height;Ve++)robustPointInPolygon$1$1(e.polyline,[r,Ve])!==1&&t.setBitXY(r,Ve);this.computed.convexHullFilledMask=t}return this.computed.convexHullFilledMask}get mbr(){if(!this.computed.mbr){let e=minimalBoundingRectangle$1({originalPoints:this.convexHull.polyline});if(e.length===0)this.computed.mbr={width:0,height:0,surface:0,perimeter:0,rectangle:e};else{let t=e[0],r=e[1],Ve=e[2],je=Math.sqrt((t[0]-r[0])**2+(t[1]-r[1])**2),ze=Math.sqrt((Ve[0]-r[0])**2+(Ve[1]-r[1])**2);this.computed.mbr={width:je,height:ze,elongation:1-je/ze,aspectRatio:je/ze,surface:je*ze,perimeter:(je+ze)*2,rectangle:e}}}return this.computed.mbr}get fillRatio(){return this.surface/(this.surface+this.holesInfo.surface)}get feretDiameters(){return this.computed.feretDiameters||(this.computed.feretDiameters=feretDiameters$1({originalPoints:this.convexHull.polyline})),this.computed.feretDiameters}get eqpc(){return this.computed.eqpc||(this.computed.eqpc=2*Math.sqrt(this.surface/Math.PI)),this.computed.eqpc}get perimeterInfo(){return this.computed.perimeterInfo||(this.computed.perimeterInfo=getPerimeterInfo$1(this)),this.computed.perimeterInfo}get perimeter(){let e=this.perimeterInfo,t=2-Math.sqrt(2);return e.one+e.two*2+e.three*3+e.four*4-t*(e.two+e.three*2+e.four)}get ped(){return this.computed.ped||(this.computed.ped=this.perimeter/Math.PI),this.computed.ped}get feretMask(){if(!this.computed.feretMask){const e=new Image$2(this.width+1,this.height+1,{kind:BINARY$1,position:[this.minX,this.minY],parent:this.map.parent});e.paintPolyline(this.feretDiameters.minLine),e.paintPolyline(this.feretDiameters.maxLine),this.computed.feretMask=e}return this.computed.feretMask}get mbrMask(){if(!this.computed.mbrMask){let e=round$1$1(this.mbr.rectangle);if(e.length>0){const t=minMax$1(e),r=new Image$2(t[1][0]-t[0][0]+1,t[1][1]-t[0][1]+1,{kind:BINARY$1,position:[this.minX+t[0][0],this.minY+t[0][1]],parent:this.map.parent});e=moveToZeroZero$1(e),r.paintPolyline(e,{closed:!0}),this.computed.mbrMask=r}else this.computed.mbrMask=new Image$2(1,1,{kind:BINARY$1,position:[this.minX,this.minY],parent:this.map.parent})}return this.computed.mbrMask}get mbrFilledMask(){if(!this.computed.mbrFilledMask){const e=new Image$2(this.width,this.height,{kind:BINARY$1,position:[this.minX,this.minY],parent:this.map.parent}),t=this.mask.minimalBoundingRectangle();for(let r=0;r<this.width;r++)for(let Ve=0;Ve<this.height;Ve++)robustPointInPolygon$1$1(t,[r,Ve])!==1&&e.setBitXY(r,Ve);this.computed.mbrFilledMask=e}return this.computed.mbrFilledMask}get points(){if(!this.computed.points){let e=[];for(let t=0;t<this.height;t++)for(let r=0;r<this.width;r++){let Ve=(t+this.minY)*this.map.width+r+this.minX;this.map.data[Ve]===this.id&&e.push([r,t])}this.computed.points=e}return this.computed.points}get maxLengthPoints(){if(!this.computed.maxLengthPoints){let e=0,t;const r=this.points;for(let Ve=0;Ve<r.length;Ve++)for(let je=Ve+1;je<r.length;je++){let ze=Math.pow(r[Ve][0]-r[je][0],2)+Math.pow(r[Ve][1]-r[je][1],2);ze>=e&&(e=ze,t=[r[Ve],r[je]])}this.computed.maxLengthPoints=t}return this.computed.maxLengthPoints}get maxLength(){if(!this.computed.maxLength){let e=Math.sqrt(Math.pow(this.maxLengthPoints[0][0]-this.maxLengthPoints[1][0],2)+Math.pow(this.maxLengthPoints[0][1]-this.maxLengthPoints[1][1],2));this.computed.maxLength=e}return this.computed.maxLength}get roundness(){return 4*this.surface/(Math.PI*this.feretDiameters.max**2)}get sphericity(){return 2*Math.sqrt(this.surface*Math.PI)/this.perimeter}get solidity(){return this.surface/this.convexHull.surface}get angle(){if(!this.computed.angle){let e=this.maxLengthPoints,t=-Math.atan2(e[0][1]-e[1][1],e[0][0]-e[1][0])*180/Math.PI;this.computed.angle=t}return this.computed.angle}toJSON(){return{id:this.id,minX:this.minX,maxX:this.maxX,minY:this.minY,maxY:this.maxY,meanX:this.meanX,meanY:this.meanY,height:this.height,width:this.width,surface:this.surface,mbrWidth:this.mbr.width,mbrHeight:this.mbr.height,mbrSurface:this.mbr.surface,eqpc:this.eqpc,ped:this.ped,feretDiameterMin:this.feretDiameters.min,feretDiameterMax:this.feretDiameters.max,aspectRatio:this.feretDiameters.aspectRatio,fillRatio:this.fillRatio,sphericity:this.sphericity,roundness:this.roundness,solidity:this.solidity,perimeter:this.perimeter}}};function getBorders$1($e){let e=$e.map,t=e.data,r=new Set,Ve=new Map,je=new Set,ze=[1,0,-1,0],Xe=[0,1,0,-1];for(let Ke=$e.minX;Ke<=$e.maxX;Ke++)for(let Ze=$e.minY;Ze<=$e.maxY;Ze++){let Je=Ke+Ze*e.width;if(t[Je]===$e.id)for(let Qe=0;Qe<4;Qe++){let ti=Ke+ze[Qe],ni=Ze+Xe[Qe];if(ti>=0&&ni>=0&&ti<e.width&&ni<e.height){let ri=ti+ni*e.width;if(t[ri]!==$e.id&&!je.has(ri)){je.add(ri),r.add(t[ri]);let ii=Ve.get(t[ri]);ii?Ve.set(t[ri],++ii):Ve.set(t[ri],1)}}}}let We=Array.from(r),qe=We.map(function(Ke){return Ve.get(Ke)});return{ids:We,lengths:qe}}function getBoxIDs$1($e){let e=new Set,t=$e.map,r=t.data;for(let Ve of[0,$e.height-1])for(let je=0;je<$e.width;je++){let ze=(Ve+$e.minY)*t.width+je+$e.minX;if(je-$e.minX>0&&r[ze]===$e.id&&r[ze-1]!==$e.id){let Xe=r[ze-1];e.add(Xe)}if(t.width-je-$e.minX>1&&r[ze]===$e.id&&r[ze+1]!==$e.id){let Xe=r[ze+1];e.add(Xe)}}for(let Ve of[0,$e.width-1])for(let je=0;je<$e.height;je++){let ze=(je+$e.minY)*t.width+Ve+$e.minX;if(je-$e.minY>0&&r[ze]===$e.id&&r[ze-t.width]!==$e.id){let Xe=r[ze-t.width];e.add(Xe)}if(t.height-je-$e.minY>1&&r[ze]===$e.id&&r[ze+t.width]!==$e.id){let Xe=r[ze+t.width];e.add(Xe)}}return Array.from(e)}function getBox$1($e){let e=0,t=$e.map,r=t.data,Ve=[0];$e.height>1&&(Ve[1]=$e.height-1);for(let ze of Ve)for(let Xe=1;Xe<$e.width-1;Xe++){let We=(ze+$e.minY)*t.width+Xe+$e.minX;r[We]===$e.id&&e++}let je=[0];$e.width>1&&(je[1]=$e.width-1);for(let ze of je)for(let Xe=0;Xe<$e.height;Xe++){let We=(Xe+$e.minY)*t.width+ze+$e.minX;r[We]===$e.id&&e++}return e}function getBorder$1($e){let e=0,t=$e.map,r=t.data;for(let Ve=1;Ve<$e.width-1;Ve++)for(let je=1;je<$e.height-1;je++){let ze=(je+$e.minY)*t.width+Ve+$e.minX;r[ze]===$e.id&&(r[ze-1]!==$e.id||r[ze+1]!==$e.id||r[ze-t.width]!==$e.id||r[ze+t.width]!==$e.id)&&e++}return e+$e.box}function getPerimeterInfo$1($e){let e=$e.map,t=e.data,r=0,Ve=0,je=0,ze=0;for(let Xe=0;Xe<$e.width;Xe++)for(let We=0;We<$e.height;We++){let qe=(We+$e.minY)*e.width+Xe+$e.minX;if(t[qe]===$e.id){let Ke=0;switch((Xe===0||$e.externalIDs.includes(t[qe-1]))&&Ke++,(Xe===$e.width-1||$e.externalIDs.includes(t[qe+1]))&&Ke++,(We===0||$e.externalIDs.includes(t[qe-e.width]))&&Ke++,(We===$e.height-1||$e.externalIDs.includes(t[qe+e.width]))&&Ke++,Ke){case 1:r++;break;case 2:Ve++;break;case 3:je++;break;case 4:ze++;break}}}return{one:r,two:Ve,three:je,four:ze}}function getExternal$1($e){let e=0,t=$e.map,r=t.data;for(let Ve=1;Ve<$e.width-1;Ve++)for(let je=1;je<$e.height-1;je++){let ze=(je+$e.minY)*t.width+Ve+$e.minX;r[ze]===$e.id&&($e.externalIDs.includes(r[ze-1])||$e.externalIDs.includes(r[ze+1])||$e.externalIDs.includes(r[ze-t.width])||$e.externalIDs.includes(r[ze+t.width]))&&e++}return e+$e.box}function getHolesInfo$1($e){let e=0,t=$e.map.width,r=$e.map.data;for(let Ve=1;Ve<$e.width-1;Ve++)for(let je=1;je<$e.height-1;je++){let ze=(je+$e.minY)*t+Ve+$e.minX;$e.internalIDs.includes(r[ze])&&r[ze]!==$e.id&&e++}return{number:$e.internalIDs.length-1,surface:e}}function getInternalIDs$1($e){let e=[$e.id],t=$e.map,r=t.data;if($e.height>2)for(let je=0;je<$e.width;je++){let ze=$e.minY*t.width+je+$e.minX;if(e.includes(r[ze])){let Xe=r[ze+t.width];!e.includes(Xe)&&!$e.boxIDs.includes(Xe)&&e.push(Xe)}}let Ve=new Array(4);for(let je=1;je<$e.width-1;je++)for(let ze=1;ze<$e.height-1;ze++){let Xe=(ze+$e.minY)*t.width+je+$e.minX;if(e.includes(r[Xe])){Ve[0]=r[Xe-1],Ve[1]=r[Xe+1],Ve[2]=r[Xe-t.width],Ve[3]=r[Xe+t.width];for(let We=0;We<4;We++){let qe=Ve[We];!e.includes(qe)&&!$e.boxIDs.includes(qe)&&e.push(qe)}}}return e}let RoiLayer$1=class{constructor(e,t){this.roiMap=e,this.options=t,this.roi=this.createRoi()}createRoi(){let e=this.roiMap.data,t={};this.roiMap.positive=0,this.roiMap.negative=0;for(let Xe=0;Xe<e.length;Xe++)e[Xe]&&!t[e[Xe]]&&(t[e[Xe]]=!0,e[Xe]>0?this.roiMap.positive++:this.roiMap.negative++);let r={};for(let Xe in t)r[Xe]=new Roi$1(this.roiMap,Xe*1);let Ve=this.roiMap.width,je=this.roiMap.height;for(let Xe=0;Xe<je;Xe++)for(let We=0;We<Ve;We++){let qe=Xe*Ve+We;if(e[qe]!==0){const Ke=e[qe],Ze=r[Ke];We<Ze.minX&&(Ze.minX=We),We>Ze.maxX&&(Ze.maxX=We),Xe<Ze.minY&&(Ze.minY=Xe),Xe>Ze.maxY&&(Ze.maxY=Xe),Ze.meanX+=We,Ze.meanY+=Xe,Ze.surface++}}let ze=[];for(let Xe in t)r[Xe].meanX/=r[Xe].surface,r[Xe].meanY/=r[Xe].surface,ze.push(r[Xe]);return ze}};function commonBorderLength$1($e){let e=$e.data,t=[1,0,-1,0],r=[0,1,0,-1],Ve=$e.minMax,je=-Ve.min,ze=Ve.max+je,Xe=[];for(let qe=0;qe<=ze;qe++)Xe.push(Object.create(null));for(let qe=0;qe<$e.width;qe++)for(let Ke=0;Ke<$e.height;Ke++){let Ze=qe+Ke*$e.width,Je=e[Ze];if(Je!==0){let Qe=Object.create(null),ti=!1;for(let ni=0;ni<4;ni++){let ri=qe+t[ni],ii=Ke+r[ni];if(ri>=0&&ii>=0&&ri<$e.width&&ii<$e.height){let ei=e[ri+ii*$e.width];Je!==ei&&(ti=!0,ei!==0&&Qe[ei]===void 0&&(Qe[ei]=!0,Xe[ei+je][Je]?Xe[ei+je][Je]++:Xe[ei+je][Je]=1))}else ti=!0}ti&&(Xe[Je+je][Je]?Xe[Je+je][Je]++:Xe[Je+je][Je]=1)}}let We={};for(let qe=0;qe<Xe.length;qe++)Object.keys(Xe[qe]).length>0&&(We[qe-je]=Xe[qe]);return We}function mergeRoi$1($e={}){const{algorithm:e="commonBorderLength",minCommonBorderLength:t=5,maxCommonBorderLength:r=100,minCommonBorderRatio:Ve=.3,maxCommonBorderRatio:je=1}=$e;let ze=function(ri,ii,ei){return ri[ei]>=t&&ri[ei]<=r};typeof e=="function"&&(ze=e),e.toLowerCase()==="commonborderratio"&&(ze=function(ri,ii,ei){let St=Math.min(ri[ei]/ri[ii],1);return St>=Ve&&St<=je});const Xe=this,We=Xe.commonBorderLength;let qe={},Ke={};for(let ri of Object.keys(We)){let ii=We[ri],ei=Object.keys(ii);for(let St of ei)if(St!==ri&&ze(ii,ri,St)){let oi=St;Ke[St]&&(oi=Ke[St]);let si=ri;if(Ke[ri]&&(si=Ke[ri]),Number(oi)!==si){let ai=Math.min(oi,si),ui=Math.max(oi,si);if(qe[ai]||(qe[ai]={}),qe[ai][ui]=!0,Ke[ui]=ai,qe[ui]){for(let hi of Object.keys(qe[ui]))qe[ai][hi]=!0,Ke[hi]=ai;delete qe[ui]}}}}let Ze=Xe.minMax,Je=-Ze.min,Qe=Ze.max+Je,ti=new Array(Qe+1).fill(0);for(let ri of Object.keys(Ke))ti[Number(ri)+Je]=Ke[ri];let ni=Xe.data;for(let ri=0;ri<ni.length;ri++){let ii=ni[ri];if(ii!==0){let ei=ti[ii+Je];ei!==0&&(ni[ri]=ei)}}return Xe.computed={},Xe}let RoiMap$1=class{constructor(e,t){this.parent=e,this.width=e.width,this.height=e.height,this.data=t,this.negative=0,this.positive=0}get total(){return this.negative+this.positive}get minMax(){let e=Number.MAX_SAFE_INTEGER,t=Number.MIN_SAFE_INTEGER;for(let r=0;r<this.data.length;r++)this.data[r]<e&&(e=this.data[r]),this.data[r]>t&&(t=this.data[r]);return{min:e,max:t}}get commonBorderLength(){return commonBorderLength$1(this)}mergeRoi(e={}){return mergeRoi$1.call(this,e)}mergeRois(e){const t=e[0],r=e.slice(1);for(let Ve=0;Ve<this.data.length;Ve++)r.includes(this.data[Ve])&&(this.data[Ve]=t)}rowsInfo(){let e=new Array(this.height),t=0;for(let r=0;r<this.data.length;r+=this.width){let Ve={row:t,positivePixel:0,negativePixel:0,zeroPixel:0,positiveRoi:0,negativeRoi:0,medianChange:0};e[t++]=Ve;let je={},ze={},Xe=[],We=this.data[r],qe=0;for(let Ke=r;Ke<r+this.width;Ke++){let Ze=this.data[Ke];We!==Ze&&(We=Ze,Xe.push(qe),qe=0),qe++,Ze>0?(Ve.positivePixel++,je[Ze]||(je[Ze]=!0)):Ze<0?(Ve.negativePixel++,ze[Ze]||(ze[Ze]=!0)):Ve.zeroPixel++}Xe.push(qe),Ve.medianChange=Xe.sort((Ke,Ze)=>Ke-Ze)[Math.floor(Xe.length/2)],Ve.positiveRoiIDs=Object.keys(je),Ve.negativeRoiIDs=Object.keys(ze),Ve.positiveRoi=Ve.positiveRoiIDs.length,Ve.negativeRoi=Ve.negativeRoiIDs.length}return e}colsInfo(){let e=new Array(this.width),t=0;for(let r=0;r<this.width;r++){let Ve={col:t,positivePixel:0,negativePixel:0,zeroPixel:0,positiveRoi:0,negativeRoi:0,medianChange:0};e[t++]=Ve;let je={},ze={},Xe=[],We=this.data[r],qe=0;for(let Ke=r;Ke<r+this.data.length;Ke+=this.width){let Ze=this.data[Ke];We!==Ze&&(We=Ze,Xe.push(qe),qe=0),qe++,Ze>0?(Ve.positivePixel++,je[Ze]||(je[Ze]=!0)):Ze<0?(Ve.negativePixel++,ze[Ze]||(ze[Ze]=!0)):Ve.zeroPixel++}Xe.push(qe),Ve.medianChange=Xe.sort((Ke,Ze)=>Ke-Ze)[Math.floor(Xe.length/2)],Ve.positiveRoiIDs=Object.keys(je),Ve.negativeRoiIDs=Object.keys(ze),Ve.positiveRoi=Ve.positiveRoiIDs.length,Ve.negativeRoi=Ve.negativeRoiIDs.length}return e}};function fromMask$1($e,e={}){const{allowCorners:t=!1}=e,r=65535;let Ve=new Int16Array($e.size),je=0,ze=0,Xe=new Uint16Array(r+1),We=new Uint16Array(r+1);for(let Ke=0;Ke<$e.width;Ke++)for(let Ze=0;Ze<$e.height;Ze++)Ve[Ze*$e.width+Ke]===0&&qe(Ke,Ze);function qe(Ke,Ze){let Je=0,Qe=0,ti=$e.getBitXY(Ke,Ze),ni=ti?++je:--ze;if(je>32767||ze<-32768)throw new Error("Too many regions of interest");for(Xe[0]=Ke,We[0]=Ze;Je<=Qe;){let ri=Xe[Je&r],ii=We[Je&r];if(Ve[ii*$e.width+ri]=ni,ri>0&&Ve[ii*$e.width+ri-1]===0&&$e.getBitXY(ri-1,ii)===ti&&(Qe++,Xe[Qe&r]=ri-1,We[Qe&r]=ii,Ve[ii*$e.width+ri-1]=-32768),ii>0&&Ve[(ii-1)*$e.width+ri]===0&&$e.getBitXY(ri,ii-1)===ti&&(Qe++,Xe[Qe&r]=ri,We[Qe&r]=ii-1,Ve[(ii-1)*$e.width+ri]=-32768),ri<$e.width-1&&Ve[ii*$e.width+ri+1]===0&&$e.getBitXY(ri+1,ii)===ti&&(Qe++,Xe[Qe&r]=ri+1,We[Qe&r]=ii,Ve[ii*$e.width+ri+1]=-32768),ii<$e.height-1&&Ve[(ii+1)*$e.width+ri]===0&&$e.getBitXY(ri,ii+1)===ti&&(Qe++,Xe[Qe&r]=ri,We[Qe&r]=ii+1,Ve[(ii+1)*$e.width+ri]=-32768),t&&(ri>0&&ii>0&&Ve[(ii-1)*$e.width+ri-1]===0&&$e.getBitXY(ri-1,ii-1)===ti&&(Qe++,Xe[Qe&r]=ri-1,We[Qe&r]=ii-1,Ve[(ii-1)*$e.width+ri-1]=-32768),ri<$e.width-1&&ii>0&&Ve[(ii-1)*$e.width+ri+1]===0&&$e.getBitXY(ri+1,ii-1)===ti&&(Qe++,Xe[Qe&r]=ri+1,We[Qe&r]=ii-1,Ve[(ii-1)*$e.width+ri+1]=-32768),ri>0&&ii<$e.height-1&&Ve[(ii+1)*$e.width+ri-1]===0&&$e.getBitXY(ri-1,ii+1)===ti&&(Qe++,Xe[Qe&r]=ri-1,We[Qe&r]=ii+1,Ve[(ii+1)*$e.width+ri-1]=-32768),ri<$e.width-1&&ii<$e.height-1&&Ve[(ii+1)*$e.width+ri+1]===0&&$e.getBitXY(ri+1,ii+1)===ti&&(Qe++,Xe[Qe&r]=ri+1,We[Qe&r]=ii+1,Ve[(ii+1)*$e.width+ri+1]=-32768)),Je++,Qe-Je>r)throw new Error("analyseMask can not finish, the array to manage internal data is not big enough.You could improve mask by changing MAX_ARRAY")}}return new RoiMap$1($e,Ve)}let DisjointSet$2=class{constructor(){this.nodes=new Map}add(e){var t=this.nodes.get(e);return t||(t=new DisjointSetNode$1(e),this.nodes.set(e,t)),t}union(e,t){const r=this.find(e),Ve=this.find(t);r!==Ve&&(r.rank<Ve.rank?r.parent=Ve:r.rank>Ve.rank?Ve.parent=r:(Ve.parent=r,r.rank++))}find(e){for(var t=e;t.parent!==null;)t=t.parent;for(var r=e;r.parent!==null;){var Ve=r;r=r.parent,Ve.parent=t}return t}connected(e,t){return this.find(e)===this.find(t)}};var DisjointSet_1$1=DisjointSet$2;function DisjointSetNode$1($e){this.value=$e,this.parent=null,this.rank=0}const DisjointSet$1$1=getDefaultExportFromCjs$1(DisjointSet_1$1),direction4X$1=[-1,0],direction4Y$1=[0,-1],neighbours4$1=[null,null],direction8X$1=[-1,-1,0,1],direction8Y$1=[0,-1,-1,-1],neighbours8$1=[null,null,null,null];function fromMaskConnectedComponentLabelingAlgorithm$1($e,e={}){const{allowCorners:t=!1}=e;let r=4;t&&(r=8);let Ve,je,ze;if(r===8)Ve=direction8X$1,je=direction8Y$1,ze=neighbours8$1;else if(r===4)Ve=direction4X$1,je=direction4Y$1,ze=neighbours4$1;else throw new RangeError(`unsupported neighbours count: ${r}`);const Xe=$e.size,We=$e.width,qe=$e.height,Ke=new Array(Xe),Ze=new Uint32Array(Xe),Je=new DisjointSet$1$1;let Qe=1;for(let ti=0;ti<qe;ti++)for(let ni=0;ni<We;ni++){const ri=ni+ti*We;if($e.getBit(ri)){let ii=null;for(let ei=0;ei<ze.length;ei++){const St=ni+Ve[ei],oi=ti+je[ei];if(St>=0&&oi>=0&&St<We&&oi<qe){const si=St+oi*We;let ai=Ke[si];ai?(ze[ei]=ai,(!ii||ze[ei].value<ii.value)&&(ii=ze[ei])):ze[ei]=null}}if(!ii)Ke[ri]=Je.add(Qe++);else{Ke[ri]=ii;for(let ei=0;ei<ze.length;ei++)ze[ei]&&ze[ei]!==ii&&Je.union(ii,ze[ei])}}}for(let ti=0;ti<qe;ti++)for(let ni=0;ni<We;ni++){const ri=ni+ti*We;$e.getBit(ri)&&(Ze[ri]=Je.find(Ke[ri]).value)}return new RoiMap$1($e,Ze)}function fromMaxima$1($e={}){let{allowCorner:e=!0,onlyTop:t=!1,invert:r=!1}=$e,Ve=this;Ve.checkProcessable("fromMaxima",{components:[1]});const je=1,ze=2;let Xe=0,We=0,qe=new Int16Array(Ve.size),Ke=new Int8Array(Ve.size),Ze=new Float32Array(Ve.size),Je=1048575,Qe=new Uint16Array(Je+1),ti=new Uint16Array(Je+1),ni=0,ri=0,ii=new Uint16Array(Je+1),ei=new Uint16Array(Je+1),St=0,oi=0;for(si(Ve);ni<ri;){let hi=Qe[ni&Je],ci=ti[ni&Je];ui(hi,ci,ze),ni++}return new RoiMap$1(Ve,qe);function si({maxima:hi=!0}){for(let ci=1;ci<Ve.height-1;ci++)for(let mi=1;mi<Ve.width-1;mi++){let di=mi+ci*Ve.width;if(Ke[di]===0){let pi=hi?Ve.data[di]:-Ve.data[mi+ci*Ve.width];if(Ve.data[ci*Ve.width+mi-1]>pi||Ve.data[ci*Ve.width+mi+1]>pi||Ve.data[(ci-1)*Ve.width+mi]>pi||Ve.data[(ci+1)*Ve.width+mi]>pi||e&&(Ve.data[(ci-1)*Ve.width+mi-1]>pi||Ve.data[(ci-1)*Ve.width+mi+1]>pi||Ve.data[(ci+1)*Ve.width+mi-1]>pi||Ve.data[(ci+1)*Ve.width+mi+1]>pi))continue;qe[di]=hi?++Xe:--We,ai(mi,ci)||(hi?--Xe:++We)}}}function ai(hi,ci){let mi=ri;St=0,oi=1,ii[0]=hi,ei[0]=ci;let di=!0;for(;St<oi;){let pi=ii[St&Je],yi=ei[St&Je];di&=ui(pi,yi,je),St++}if(!di){for(let pi=0;pi<oi;pi++){let yi=ii[pi&Je],gi=ei[pi&Je]*Ve.width+yi;qe[gi]=0}ri=mi}return di}function ui(hi,ci,mi){let di=qe[ci*Ve.width+hi],pi=Ve.data[ci*Ve.width+hi];for(let yi=ci-1;yi<=ci+1;yi++)for(let gi=hi-1;gi<=hi+1;gi++){let _i=yi*Ve.width+gi;if(Ke[_i]===0)switch(Ke[_i]=1,Ze[_i]=Ve.data[_i]-pi,mi){case je:if(Ze[_i]===0){if(gi===0||yi===0||gi===Ve.width-1||yi===Ve.height-1)return!1;qe[_i]=di,ii[oi&Je]=gi,ei[oi&Je]=yi,oi++}else{if(Ze[_i]>0)return!1;t||(qe[_i]=di,Qe[ri&Je]=gi,ti[ri&Je]=yi,ri++)}break;case ze:Ze[_i]<=0&&(qe[_i]=di,Qe[ri&Je]=gi,ti[ri&Je]=yi,ri++);break;default:throw new Error("unreachable")}}return!0}}function fromPoints$1($e,e={}){let t=new Shape$1(e),r=new Int16Array(this.size),Ve=0,je=t.getPoints();for(let ze=0;ze<$e.length;ze++){Ve++;let Xe=$e[ze][0],We=$e[ze][1];for(let qe=0;qe<je.length;qe++){let Ke=je[qe][0],Ze=je[qe][1];Xe+Ke>=0&&We+Ze>=0&&Xe+Ke<this.width&&We+Ze<this.height&&(r[Xe+Ke+(We+Ze)*this.width]=Ve)}}return new RoiMap$1(this,r)}function commonjsRequire$1($e){throw new Error('Could not dynamically require "'+$e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var priorityQueue$1={exports:{}};(function($e,e){(function(t){$e.exports=t()})(function(){return function t(r,Ve,je){function ze(qe,Ke){if(!Ve[qe]){if(!r[qe]){var Ze=typeof commonjsRequire$1=="function"&&commonjsRequire$1;if(!Ke&&Ze)return Ze(qe,!0);if(Xe)return Xe(qe,!0);var Je=new Error("Cannot find module '"+qe+"'");throw Je.code="MODULE_NOT_FOUND",Je}var Qe=Ve[qe]={exports:{}};r[qe][0].call(Qe.exports,function(ti){var ni=r[qe][1][ti];return ze(ni||ti)},Qe,Qe.exports,t,r,Ve,je)}return Ve[qe].exports}for(var Xe=typeof commonjsRequire$1=="function"&&commonjsRequire$1,We=0;We<je.length;We++)ze(je[We]);return ze}({1:[function(t,r,Ve){var je,ze,Xe,We,qe,Ke=function(Je,Qe){for(var ti in Qe)Ze.call(Qe,ti)&&(Je[ti]=Qe[ti]);function ni(){this.constructor=Je}return ni.prototype=Qe.prototype,Je.prototype=new ni,Je.__super__=Qe.prototype,Je},Ze={}.hasOwnProperty;je=t("./PriorityQueue/AbstractPriorityQueue"),ze=t("./PriorityQueue/ArrayStrategy"),We=t("./PriorityQueue/BinaryHeapStrategy"),Xe=t("./PriorityQueue/BHeapStrategy"),qe=function(Je){Ke(Qe,Je);function Qe(ti){ti||(ti={}),ti.strategy||(ti.strategy=We),ti.comparator||(ti.comparator=function(ni,ri){return(ni||0)-(ri||0)}),Qe.__super__.constructor.call(this,ti)}return Qe}(je),qe.ArrayStrategy=ze,qe.BinaryHeapStrategy=We,qe.BHeapStrategy=Xe,r.exports=qe},{"./PriorityQueue/AbstractPriorityQueue":2,"./PriorityQueue/ArrayStrategy":3,"./PriorityQueue/BHeapStrategy":4,"./PriorityQueue/BinaryHeapStrategy":5}],2:[function(t,r,Ve){r.exports=function(){function je(ze){var Xe;if((ze!=null?ze.strategy:void 0)==null)throw"Must pass options.strategy, a strategy";if((ze!=null?ze.comparator:void 0)==null)throw"Must pass options.comparator, a comparator";this.priv=new ze.strategy(ze),this.length=(ze!=null&&(Xe=ze.initialValues)!=null?Xe.length:void 0)||0}return je.prototype.queue=function(ze){this.length++,this.priv.queue(ze)},je.prototype.dequeue=function(ze){if(!this.length)throw"Empty queue";return this.length--,this.priv.dequeue()},je.prototype.peek=function(ze){if(!this.length)throw"Empty queue";return this.priv.peek()},je.prototype.clear=function(){return this.length=0,this.priv.clear()},je}()},{}],3:[function(t,r,Ve){var je;je=function(ze,Xe,We){var qe,Ke,Ze;for(Ke=0,qe=ze.length;Ke<qe;)Ze=Ke+qe>>>1,We(ze[Ze],Xe)>=0?Ke=Ze+1:qe=Ze;return Ke},r.exports=function(){function ze(Xe){var We;this.options=Xe,this.comparator=this.options.comparator,this.data=((We=this.options.initialValues)!=null?We.slice(0):void 0)||[],this.data.sort(this.comparator).reverse()}return ze.prototype.queue=function(Xe){var We;We=je(this.data,Xe,this.comparator),this.data.splice(We,0,Xe)},ze.prototype.dequeue=function(){return this.data.pop()},ze.prototype.peek=function(){return this.data[this.data.length-1]},ze.prototype.clear=function(){this.data.length=0},ze}()},{}],4:[function(t,r,Ve){r.exports=function(){function je(ze){var Xe,We,qe,Ke,Ze,Je,Qe,ti;for(this.comparator=(ze!=null?ze.comparator:void 0)||function(ni,ri){return ni-ri},this.pageSize=(ze!=null?ze.pageSize:void 0)||512,this.length=0,Qe=0;1<<Qe<this.pageSize;)Qe+=1;if(1<<Qe!==this.pageSize)throw"pageSize must be a power of two";for(this._shift=Qe,this._emptyMemoryPageTemplate=Xe=[],We=0,Ze=this.pageSize;0<=Ze?We<Ze:We>Ze;0<=Ze?++We:--We)Xe.push(null);if(this._memory=[],this._mask=this.pageSize-1,ze.initialValues)for(Je=ze.initialValues,qe=0,Ke=Je.length;qe<Ke;qe++)ti=Je[qe],this.queue(ti)}return je.prototype.queue=function(ze){this.length+=1,this._write(this.length,ze),this._bubbleUp(this.length,ze)},je.prototype.dequeue=function(){var ze,Xe;return ze=this._read(1),Xe=this._read(this.length),this.length-=1,this.length>0&&(this._write(1,Xe),this._bubbleDown(1,Xe)),ze},je.prototype.peek=function(){return this._read(1)},je.prototype.clear=function(){this.length=0,this._memory.length=0},je.prototype._write=function(ze,Xe){var We;for(We=ze>>this._shift;We>=this._memory.length;)this._memory.push(this._emptyMemoryPageTemplate.slice(0));return this._memory[We][ze&this._mask]=Xe},je.prototype._read=function(ze){return this._memory[ze>>this._shift][ze&this._mask]},je.prototype._bubbleUp=function(ze,Xe){var We,qe,Ke,Ze;for(We=this.comparator;ze>1&&(qe=ze&this._mask,ze<this.pageSize||qe>3?Ke=ze&~this._mask|qe>>1:qe<2?(Ke=ze-this.pageSize>>this._shift,Ke+=Ke&~(this._mask>>1),Ke|=this.pageSize>>1):Ke=ze-2,Ze=this._read(Ke),!(We(Ze,Xe)<0));)this._write(Ke,Xe),this._write(ze,Ze),ze=Ke},je.prototype._bubbleDown=function(ze,Xe){var We,qe,Ke,Ze,Je;for(Je=this.comparator;ze<this.length;)if(ze>this._mask&&!(ze&this._mask-1)?We=qe=ze+2:ze&this.pageSize>>1?(We=(ze&~this._mask)>>1,We|=ze&this._mask>>1,We=We+1<<this._shift,qe=We+1):(We=ze+(ze&this._mask),qe=We+1),We!==qe&&qe<=this.length)if(Ke=this._read(We),Ze=this._read(qe),Je(Ke,Xe)<0&&Je(Ke,Ze)<=0)this._write(We,Xe),this._write(ze,Ke),ze=We;else if(Je(Ze,Xe)<0)this._write(qe,Xe),this._write(ze,Ze),ze=qe;else break;else if(We<=this.length)if(Ke=this._read(We),Je(Ke,Xe)<0)this._write(We,Xe),this._write(ze,Ke),ze=We;else break;else break},je}()},{}],5:[function(t,r,Ve){r.exports=function(){function je(ze){var Xe;this.comparator=(ze!=null?ze.comparator:void 0)||function(We,qe){return We-qe},this.length=0,this.data=((Xe=ze.initialValues)!=null?Xe.slice(0):void 0)||[],this._heapify()}return je.prototype._heapify=function(){var ze,Xe,We;if(this.data.length>0)for(ze=Xe=1,We=this.data.length;1<=We?Xe<We:Xe>We;ze=1<=We?++Xe:--Xe)this._bubbleUp(ze)},je.prototype.queue=function(ze){this.data.push(ze),this._bubbleUp(this.data.length-1)},je.prototype.dequeue=function(){var ze,Xe;return Xe=this.data[0],ze=this.data.pop(),this.data.length>0&&(this.data[0]=ze,this._bubbleDown(0)),Xe},je.prototype.peek=function(){return this.data[0]},je.prototype.clear=function(){this.length=0,this.data.length=0},je.prototype._bubbleUp=function(ze){for(var Xe,We;ze>0&&(Xe=ze-1>>>1,this.comparator(this.data[ze],this.data[Xe])<0);)We=this.data[Xe],this.data[Xe]=this.data[ze],this.data[ze]=We,ze=Xe},je.prototype._bubbleDown=function(ze){var Xe,We,qe,Ke,Ze;for(Xe=this.data.length-1;We=(ze<<1)+1,Ke=We+1,qe=ze,We<=Xe&&this.comparator(this.data[We],this.data[qe])<0&&(qe=We),Ke<=Xe&&this.comparator(this.data[Ke],this.data[qe])<0&&(qe=Ke),qe!==ze;)Ze=this.data[qe],this.data[qe]=this.data[ze],this.data[ze]=Ze,ze=qe},je}()},{}]},{},[1])(1)})})(priorityQueue$1);var priorityQueueExports$1=priorityQueue$1.exports;const PriorityQueue$1=getDefaultExportFromCjs$1(priorityQueueExports$1),dxs$1=[1,0,-1,0,1,1,-1,-1],dys$1=[0,1,0,-1,1,-1,1,-1];function fromWaterShed$1($e={}){let{points:e,mask:t,image:r,fillMaxValue:Ve=this.maxValue,invert:je=!1}=$e,ze=r||this;ze.checkProcessable("fromWaterShed",{bitDepth:[8,16],components:1}),je=!je,e||(e=ze.getLocalMaxima({invert:je,mask:t}));let Xe=je?0:1,We=new Int16Array(ze.size),qe=ze.width,Ke=ze.height,Ze=new PriorityQueue$1({comparator:(Je,Qe)=>Je[2]-Qe[2],strategy:PriorityQueue$1.BinaryHeapStrategy});for(let Je=0;Je<e.length;Je++){let Qe=e[Je][0]+e[Je][1]*qe;We[Qe]=Je+1;let ti=ze.data[Qe];(je&&ti<=Ve||!je&&ti>=Ve)&&Ze.queue([e[Je][0],e[Je][1],ti])}for(;Ze.length>0;){let Je=Ze.dequeue(),Qe=Je[0]+Je[1]*qe;for(let ti=0;ti<4;ti++){let ni=Je[0]+dxs$1[ti],ri=Je[1]+dys$1[ti];if(ni>=0&&ri>=0&&ni<qe&&ri<Ke){let ii=ni+ri*qe;if(!t||t.getBit(ii)===Xe){let ei=ze.data[ii];(je&&ei<=Ve||!je&&ei>=Ve)&&We[ii]===0&&(We[ii]=We[Qe],Ze.queue([Je[0]+dxs$1[ti],Je[1]+dys$1[ti],ei]))}}}}return new RoiMap$1(ze,We)}let RoiManager$1=class{constructor(e,t={}){this._image=e,this._options=t,this._options.label||(this._options.label="default"),this._layers={},this._painted=null}fromMaxima(e={}){let t=Object.assign({},this._options,e),r=fromMaxima$1.call(this._image,e);this._layers[t.label]=new RoiLayer$1(r,t)}fromPoints(e,t={}){let r=Object.assign({},this._options,t),Ve=fromPoints$1.call(this._image,e,t);return this._layers[r.label]=new RoiLayer$1(Ve,r),this}putMap(e,t={}){let r=new RoiMap$1(this._image,e),Ve=Object.assign({},this._options,t);return this._layers[Ve.label]=new RoiLayer$1(r,Ve),this}fromWaterShed(e={}){let t=Object.assign({},this._options,e),r=fromWaterShed$1.call(this._image,e);this._layers[t.label]=new RoiLayer$1(r,t)}fromMask(e,t={}){let r=Object.assign({},this._options,t),Ve=fromMask$1.call(this._image,e,t);return this._layers[r.label]=new RoiLayer$1(Ve,r),this}fromMaskConnectedComponentLabelingAlgorithm(e,t={}){let r=Object.assign({},this._options,t),Ve=fromMaskConnectedComponentLabelingAlgorithm$1.call(this._image,e,t);return this._layers[r.label]=new RoiLayer$1(Ve,r),this}getMap(e={}){let t=Object.assign({},this._options,e);return this._assertLayerWithLabel(t.label),this._layers[t.label].roiMap}rowsInfo(e={}){return this.getMap(e).rowsInfo()}colsInfo(e={}){return this.getMap(e).rowsInfo()}getRoiIds(e={}){let t=this.getRois(e);if(t){let r=new Array(t.length);for(let Ve=0;Ve<t.length;Ve++)r[Ve]=t[Ve].id;return r}throw new Error("ROIs not found")}getRois(e={}){let{label:t=this._options.label,positive:r=!0,negative:Ve=!0,minSurface:je=0,maxSurface:ze=Number.POSITIVE_INFINITY,minWidth:Xe=0,maxWidth:We=Number.POSITIVE_INFINITY,minHeight:qe=0,maxHeight:Ke=Number.POSITIVE_INFINITY,minRatio:Ze=0,maxRatio:Je=Number.POSITIVE_INFINITY}=e;if(!this._layers[t])throw new Error(`this Roi layer (${t}) does not exist`);const Qe=this._layers[t].roi,ti=[];for(const ni of Qe)(ni.id<0&&Ve||ni.id>0&&r)&&ni.surface>=je&&ni.surface<=ze&&ni.width>=Xe&&ni.width<=We&&ni.height>=qe&&ni.height<=Ke&&ni.ratio>=Ze&&ni.ratio<=Je&&ti.push(ni);return ti}getRoi(e,t={}){const{label:r=this._options.label}=t;if(!this._layers[r])throw new Error(`this Roi layer (${r}) does not exist`);const Ve=this._layers[r].roi.find(je=>je.id===e);if(!Ve)throw new Error(`found no Roi with id ${e}`);return Ve}getMasks(e={}){let t=this.getRois(e),r=new Array(t.length);for(let Ve=0;Ve<t.length;Ve++)r[Ve]=t[Ve].getMask(e);return r}getAnalysisMasks(e={}){const{analysisProperty:t}=e;let r=`${t}Mask`,Ve=this.getRois(e);return Ve.length===0||!Ve[0][r]?[]:Ve.map(je=>je[r])}getData(e={}){let t=Object.assign({},this._options,e);return this._assertLayerWithLabel(t.label),this._layers[t.label].roiMap.data}paint(e={}){let{labelProperty:t,analysisProperty:r}=e;this._painted||(this._painted=this._image.rgba8());let Ve=this.getMasks(e);if(t){const je=this.getRois(e);e.labels=je.map(qe=>deepValue$1(qe,t));const ze=Math.max(...e.labels);let Xe=!1,We=!1;if(t.includes("surface")?Xe=!0:/(?:perimeter|min|max|external|width|height|length)/.test(t)&&(We=!0),isFinite(ze)){let qe="";if(e.unit!=="pixel"&&e.pixelSize&&(We||Xe)){qe=Xe?`${e.unit}^2`:e.unit;let Ke=Xe?"m^2":"m",Ze=Xe?e.pixelSize**2:e.pixelSize;const Je=Qty$1.swiftConverter(Ke,qe);e.labels=e.labels.map(Qe=>Je(Ze*Qe))}ze>50?e.labels=e.labels.map(Ke=>Math.round(Ke)+qe):ze>10?e.labels=e.labels.map(Ke=>Ke.toFixed(1)+qe):e.labels=e.labels.map(Ke=>Ke.toFixed(2)+qe)}e.labelsPosition=je.map(qe=>[qe.meanX,qe.meanY])}if(this._painted.paintMasks(Ve,e),r){let je=this.getAnalysisMasks(e);this._painted.paintMasks(je,{color:e.analysisColor,alpha:e.analysisAlpha})}return this._painted}getMask(e={}){let t=new Image$2(this._image.width,this._image.height,{kind:"BINARY"}),r=this.getMasks(e);for(let Ve=0;Ve<r.length;Ve++){let je=r[Ve];for(let ze=0;ze<je.width;ze++)for(let Xe=0;Xe<je.height;Xe++)je.getBitXY(ze,Xe)&&t.setBitXY(ze+je.position[0],Xe+je.position[1])}return t}resetPainted(e={}){const{image:t}=e;t?this._painted=this.image.rgba8():this._painted=this._image.rgba8()}mergeRoi(e={}){const t=this.getMap(e);return t.mergeRoi(e),this.putMap(t.data,e),this}mergeRois(e,t={}){if(!Array.isArray(e)||e.some(Ve=>!Number.isInteger(Ve)))throw new Error("Roi ids must be an array of integers");if(e.length<2)throw new Error("Roi ids must have at least two elements");if(new Set(e).size!==e.length)throw new Error("Roi ids must be all different");e.forEach(Ve=>this.getRoi(Ve));const r=this.getMap(t);return r.mergeRois(e),this.putMap(r.data,t),this}findCorrespondingRoi(e,t={}){let r=this.getRois(t),Ve=[];for(let je=0;je<r.length;je++){let ze=r[je],Xe=ze.minX,We=ze.minY,qe=ze.points,Ke=Math.sign(ze.id),Ze=correspondingRoisInformation$1(Xe,We,qe,e,Ke);Ve.push(Ze)}return Ve}_assertLayerWithLabel(e){if(!this._layers[e])throw new Error(`no layer with label ${e}`)}};function correspondingRoisInformation$1($e,e,t,r,Ve){let je={id:[],surface:[],roiSurfaceCovered:[],same:0,opposite:0,total:0};for(let ze=0;ze<t.length;ze++){let Xe=t[ze],We=Xe[0],qe=Xe[1],Ke=We+$e+(qe+e)*r.width,Ze=r.data[Ke];(Ze>0||Ze<0)&&(je.id.includes(Ze)?je.surface[je.id.indexOf(Ze)]+=1:(je.id.push(Ze),je.surface.push(1)))}for(let ze=0;ze<je.id.length;ze++)Math.sign(je.id[ze])===Ve?je.same+=je.surface[ze]:je.opposite+=je.surface[ze],je.roiSurfaceCovered[ze]=je.surface[ze]/t.length;return je.total=je.opposite+je.same,je}const objectToString$1=Object.prototype.toString;let Image$2=class cl{constructor(e,t,r,Ve){if(arguments.length===1?(Ve=e,{width:e,height:t,data:r}=Ve):r&&!r.length&&(Ve=r,{data:r}=Ve),e===void 0&&(e=1),t===void 0&&(t=1),Ve===void 0&&(Ve={}),typeof Ve!="object"||Ve===null)throw new TypeError("options must be an object");if(!Number.isInteger(e)||e<=0)throw new RangeError("width must be a positive integer");if(!Number.isInteger(t)||t<=0)throw new RangeError("height must be a positive integer");const{kind:je=RGBA$1}=Ve;if(typeof je!="string")throw new TypeError("kind must be a string");const ze=getKind$1(je),Xe=Object.assign({},Ve);for(const ni in ze)Xe[ni]===void 0&&(Xe[ni]=ze[ni]);verifyKindDefinition$1(Xe);const{components:We,bitDepth:qe,colorModel:Ke}=Xe,Ze=Xe.alpha+0,Je=e*t,Qe=We+Ze,ti=qe===32?Number.MAX_VALUE:2**qe-1;if(r===void 0)r=createPixelArray$1(Je,We,Ze,Qe,qe,ti);else{const ni=getTheoreticalPixelArraySize$1(Je,Qe,qe);if(r.length!==ni)throw new RangeError(`incorrect data size: ${r.length}. Should be ${ni}`)}this.width=e,this.height=t,this.data=r,this.size=Je,this.components=We,this.alpha=Ze,this.bitDepth=qe,this.maxValue=ti,this.colorModel=Ke,this.channels=Qe,this.meta=Ve.meta||{},Object.defineProperty(this,"parent",{enumerable:!1,writable:!0,configurable:!0,value:Ve.parent||null}),this.position=Ve.position||[0,0],this.computed=null,this.sizes=[this.width,this.height],this.multiplierX=this.channels,this.multiplierY=this.channels*this.width,this.isClamped=this.bitDepth<32,this.borderSizes=[0,0]}get[Symbol.toStringTag](){return"IJSImage"}static isImage(e){return objectToString$1.call(e)==="[object IJSImage]"}static fromCanvas(e){const t=e.getContext("2d").getImageData(0,0,e.width,e.height);return new cl(t.width,t.height,t.data)}static createFrom(e,t){const r=getImageParameters$1(e);return Object.assign(r,{parent:e,position:[0,0]},t),new cl(r)}getRoiManager(e){return new RoiManager$1(this,e)}clone(){const e=this.data.slice();return new cl(this.width,this.height,e,this)}apply(e){for(let t=0;t<this.height;t++)for(let r=0;r<this.width;r++){let Ve=(t*this.width+r)*this.channels;e.call(this,Ve)}}};setValueMethods$1(Image$2);setBitMethods$1(Image$2);setExportMethods$1(Image$2);Image$2.prototype.checkProcessable=checkProcessable$1;Image$2.prototype.getRGBAData=getRGBAData$1;Image$2.load=load$1;Image$2.extendMethod=extendMethod$1;Image$2.extendProperty=extendProperty$1;extend$1$1(Image$2);var workerTemplate$1$1={},worker$1$1=function(){self.window=self;function $e(){this._listeners={}}$e.prototype.on=function(t,r){if(this._listeners[t])throw new RangeError("there is already a listener for "+t);if(typeof r!="function")throw new TypeError("callback argument must be a function");this._listeners[t]=r},$e.prototype._send=function(t,r,Ve){Ve===void 0?Ve=[]:Array.isArray(Ve)||(Ve=[Ve]),self.postMessage({id:t,data:r},Ve)},$e.prototype._trigger=function(t,r){if(!this._listeners[t])throw new Error("event "+t+" is not defined");this._listeners[t].apply(null,r)};var e=new $e;self.onmessage=function(t){switch(t.data.action){case"exec":t.data.args.unshift(function(r,Ve){e._send(t.data.id,r,Ve)}),e._trigger(t.data.event,t.data.args);break;case"ping":e._send(t.data.id,"pong");break;default:throw new Error("unexpected action: "+t.data.action)}}},workerStr$1=worker$1$1.toString().split('"CODE";');workerTemplate$1$1.newWorkerURL=function $e(e,t){var r=new Blob(["(",workerStr$1[0],"importScripts.apply(self, "+JSON.stringify(t)+`);
`,"(",e,")();",workerStr$1[1],")();"],{type:"application/javascript"});return URL.createObjectURL(r)};var workerTemplate$2=workerTemplate$1$1,CORES$1=navigator.hardwareConcurrency||1;function WorkerManager$2($e,e){if(typeof $e!="string"&&typeof $e!="function")throw new TypeError("func argument must be a function");if(e===void 0&&(e={}),typeof e!="object"||e===null)throw new TypeError("options argument must be an object");this._workerCode=$e.toString(),e.maxWorkers===void 0||e.maxWorkers==="auto"?this._numWorkers=Math.min(CORES$1-1,1):e.maxWorkers>0?this._numWorkers=Math.min(e.maxWorkers,CORES$1):this._numWorkers=CORES$1,this._workers=new Map,this._timeout=e.timeout||0,this._terminateOnError=!!e.terminateOnError;var t=e.deps;typeof t=="string"&&(t=[t]),Array.isArray(t)||(t=void 0),this._id=0,this._terminated=!1,this._working=0,this._waiting=[],this._init(t)}WorkerManager$2.prototype._init=function($e){for(var e=workerTemplate$2.newWorkerURL(this._workerCode,$e),t=0;t<this._numWorkers;t++){var r=new Worker(e);r.onmessage=this._onmessage.bind(this,r),r.onerror=this._onerror.bind(this,r),r.running=!1,r.id=t,this._workers.set(r,null)}URL.revokeObjectURL(e)};WorkerManager$2.prototype._onerror=function($e,e){if(!this._terminated){this._working--,$e.running=!1;var t=this._workers.get($e);t&&t[1](e.message),this._workers.set($e,null),this._terminateOnError?this.terminate():this._exec()}};WorkerManager$2.prototype._onmessage=function($e,e){if(!this._terminated){this._working--,$e.running=!1;var t=this._workers.get($e);t&&t[0](e.data.data),this._workers.set($e,null),this._exec()}};WorkerManager$2.prototype._exec=function(){for(var $e of this._workers.keys()){if(this._working===this._numWorkers||this._waiting.length===0)return;if(!$e.running)for(var e=0;e<this._waiting.length;e++){var t=this._waiting[e];if(!(typeof t[4]=="number"&&t[4]!==$e.id)){this._waiting.splice(e,1),$e.postMessage({action:"exec",event:t[0],args:t[1]},t[2]),$e.running=!0,$e.time=Date.now(),this._workers.set($e,t[3]),this._working++;break}}}};WorkerManager$2.prototype.terminate=function(){if(!this._terminated){for(var $e of this._workers)$e[0].terminate(),$e[1]&&$e[1][1](new Error("Terminated"));this._workers.clear(),this._waiting=[],this._working=0,this._terminated=!0}};WorkerManager$2.prototype.postAll=function($e,e){if(this._terminated)throw new Error("Cannot post (terminated)");var t=[];for(var r of this._workers.keys())t.push(this.post($e,e,[],r.id));return Promise.all(t)};WorkerManager$2.prototype.post=function($e,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),Array.isArray(e)||(e=[e]),Array.isArray(t)||(t=[t]);var Ve=this;return new Promise(function(je,ze){if(Ve._terminated)throw new Error("Cannot post (terminated)");Ve._waiting.push([$e,e,t,[je,ze],r]),Ve._exec()})};var src$4=WorkerManager$2;const WorkerManager$1$1=getDefaultExportFromCjs$1(src$4),defaultOptions$e={regression:{kernelType:"polynomial",kernelOptions:{degree:2,constant:1}},threshold:.02,roi:{minSurface:100,positive:!1},sampling:20,include:[]};function run$1($e,e,t){e=Object.assign({},defaultOptions$e,e);const r=this.manager;return Array.isArray($e)?Promise.all($e.map(function(Ve){const je=runOnce$1(r,Ve,e);return typeof t=="function"&&je.then(t),je})):runOnce$1(r,$e,e)}function runOnce$1($e,e,t){return $e.post("data",[e,t]).then(function(r){for(let Ve in r)r[Ve]=new Image$2(r[Ve]);return r})}function work$1(){worker.on("data",function($e,e,t){e=new IJS(e);const r={},Ve=[],je=e.grey(),ze=je.sobelFilter();Qe("sobel",ze);const Xe=ze.level().mask({threshold:t.threshold});Qe("mask",Xe);const We=ze.getRoiManager();We.fromMask(Xe);const qe=We.getMask(t.roi);Qe("realMask",qe);const Ke=je.getPixelsGrid({sampling:t.sampling,mask:qe}),Ze=e.getBackground(Ke.xyS,Ke.zS,t.regression);Qe("background",Ze);const Je=e.subtract(Ze);r.result=Je,Ve.push(Je.data.buffer),$e(r,Ve);function Qe(ti,ni){t.include.includes(ti)&&(r[ti]=ni,Ve.push(ni.data.buffer))}})}const background$2={run:run$1,work:work$1};function extend$3($e){$e.extendMethod("background",background$2)}let Worker$1$1=class hh{constructor(){this._url=null,this._deps=[null]}checkUrl(){if(this._url===null)throw new Error("image worker must be initialized with an URL")}get url(){return this._url}set url(e){if(typeof e!="string")throw new TypeError("worker URL must be a string");this._url=e,this._deps[0]=e}static extendMethod(e,t){let r,Ve,je={};function ze(...Xe){return r||(this.checkUrl(),Ve=this.url,r=new WorkerManager$1$1(t.work,{deps:Ve}),je.manager=r),t.run.call(je,...Xe)}ze.reset=function(){r&&(r.terminate(),r=new WorkerManager$1$1(t.work,{deps:Ve}),je.manager=r)},hh.prototype[e]=ze}};extend$3(Worker$1$1);let _imageService$1=null;function getImageService$1(){return _imageService$1||(_imageService$1=new DefaultOxyImageService$1,_imageService$1)}let DefaultOxyImageService$1=class{async decode(e){const t=await Image$2.load(e),r=t.height,Ve=t.width,je=t.data,ze=create2DArray$1(Ve,r);for(let Xe=0;Xe<r;Xe++)for(let We=0;We<Ve;We++){let qe=Xe*Ve+We;const Ke=je[qe++],Ze=je[qe++],Je=je[qe++],Qe=je[qe++];ze[Xe][We]=OxyColor$1.fromArgb(Qe,Ke,Ze,Je)}return ze}encode(e){const t=new DataView(new ArrayBuffer(e.imageInfo.width*e.imageInfo.height*4));let r=0;const Ve=e.pixels;for(let ze=0;ze<e.imageInfo.height;ze++)for(let Xe=0;Xe<e.imageInfo.width;Xe++){const We=Ve.get(Xe,ze);t.setUint8(r++,We.r),t.setUint8(r++,We.g),t.setUint8(r++,We.b),t.setUint8(r++,We.a)}const je=new Image$2(e.imageInfo.width,e.imageInfo.height,new Uint8Array(t.buffer)).toBuffer();return Promise.resolve(je)}async getImageInfo(e){const t=await Image$2.load(e);return{width:t.width,height:t.height,bitsPerPixel:t.bitDepth,dpiX:0,dpiY:0,format:OxyImage$1.getImageFormat(e)}}async load(e){const t=await Image$2.load(e),r=t.toBuffer(),Ve=new OxyImage$1(r);return Ve.format=OxyImage$1.getImageFormat(r),Ve.width=t.width,Ve.height=t.height,Ve}};function isUndef$1($e){return $e===void 0}function isNullOrUndef$1($e){return $e==null}function removeProperties($e,...e){if($e)for(const t of e)delete $e[t]}function getOrDefault$1($e,e,t){if(!$e||!e)return t;const r=$e[e];return isNullOrUndef$1(r)?t:r}function removeUndef$1($e,e){const t=$e;if(Array.isArray(t))return t.forEach(Ve=>removeUndef$1(Ve,e)),$e;const r=Object.assign({removeNull:!0,removeEmptyStr:!1,deep:1},e);return Object.keys(t).forEach(Ve=>{const je=t[Ve];if(je===void 0){delete t[Ve];return}if(je===null&&r.removeNull){delete t[Ve];return}if(r.removeEmptyStr&&typeof je=="string"&&je.length==0){delete t[Ve];return}if(typeof je=="object"&&r.deep>1){const ze=Object.assign({},r,{deep:r.deep-1});removeUndef$1(je,ze);return}}),$e}function hashCode$1($e){let e=0;for(let t=0;t<$e.length;t++)e=Math.imul(31,e)+$e[t];return e}const Number_MIN_VALUE$1=-17976931348623157e292,Number_MAX_VALUE$1=Number.MAX_VALUE;function round$2($e,e){if(e<0){const t=Math.pow(10,e);return Math.round($e*t)/t}return+(Math.round(+($e+"e+"+e))+"e-"+e)}function isInfinity$1($e){return!isFinite($e)}function isNegativeInfinity$1($e){return $e===Number.NEGATIVE_INFINITY}function isPositiveInfinity$1($e){return $e===Number.POSITIVE_INFINITY}function toUint$1($e){return $e>=0?$e:$e>>>0}function log$1($e,e){return isNaN($e)?$e:isNaN(e)?e:e===1?NaN:$e!==1&&(e===0||Number.POSITIVE_INFINITY===e)?NaN:Math.log($e)/Math.log(e)}function pettyNumber$1($e,e){let t;if($e>=1e6||$e<=-1e6?t=$e.toExponential(e):t=$e.toString(),t.includes("e")){const r=Number(t.split("e")[0]);return round$2(r,e).toString()+"e"+t.split("e")[1]}return round$2($e,e).toString()}function toPercent$1($e,e=1){return isNullOrUndef$1($e)?"":isNaN($e)?"NaN":round$2($e*100,e)+"%"}function assertInteger($e,e){if(Math.round($e)!==$e)throw new Error(`${e||"number"} must be an integer.`)}function trimString$1($e,e){return $e&&$e.replace(new RegExp(`^${e}+|${e}+$`,"g"),"")}function substring$1($e,e,t){return t===void 0?$e.substring(e):$e.substring(e,e+t)}const $1Second$1=1e3,$1Minute$1=6e4,$1Hour$1=36e5,$1Day$1=864e5;let TimeSpan$1=class ps{constructor(e){D$2(this,"_totalMs",0),D$2(this,"_ms",0),D$2(this,"_seconds",0),D$2(this,"_minutes",0),D$2(this,"_hours",0),D$2(this,"_days",0),D$2(this,"toString",()=>`${this._days}day ${this._hours}hour ${this._minutes}minute ${this._seconds}second ${this._ms}ms`),this.ms=e,this._totalMs=e;const t=e<0?-1:1;let r=Math.abs(e);r>=$1Day$1&&(this._days=t*Math.floor(r/$1Day$1),r=r%$1Day$1),r>=$1Hour$1&&(this._hours=t*Math.floor(r/$1Hour$1),r=r%$1Hour$1),r>=$1Minute$1&&(this._minutes=t*Math.floor(r/$1Minute$1),r=r%$1Minute$1),r>=$1Second$1&&(this._seconds=t*Math.floor(r/$1Second$1),r=r%$1Second$1),this._ms=t*r}get milliseconds(){return this._ms}get seconds(){return this._seconds}get minutes(){return this._minutes}get hours(){return this._hours}get days(){return this._days}get totalMs(){return this._totalMs}get totalSeconds(){return this._totalMs/$1Second$1}get totalMinutes(){return this._totalMs/$1Minute$1}get totalHours(){return this._totalMs/$1Hour$1}get totalDays(){return this._totalMs/$1Day$1}static fromMilliseconds(e){return new ps(e)}static fromSeconds(e){return new ps(e*$1Second$1)}static fromMinutes(e){return new ps(e*$1Minute$1)}static fromHours(e){return new ps(e*$1Hour$1)}static fromDays(e){return new ps(e*$1Day$1)}static from(e=0,t=0,r=0,Ve=0,je=0){return new ps(e*$1Day$1+t*$1Hour$1+r*$1Minute$1+Ve*$1Second$1+je)}},TwoDimensionalArray$1=class ch{constructor(e,t,r){D$2(this,"_data"),this.columnCount=e,this.rowCount=t,this._data=create2DArray$1(t,e,r)}static fromArray(e){const t=e.length,r=e[0].length,Ve=new ch(r,t);for(let je=0;je<t;je++)for(let ze=0;ze<r;ze++)Ve.set(ze,je,e[je][ze]);return Ve}toArray(){const e=create2DArray$1(this.rowCount,this.columnCount);for(let t=0;t<this.rowCount;t++)for(let r=0;r<this.columnCount;r++)e[t][r]=this.get(r,t);return e}get height(){return this.rowCount}get width(){return this.columnCount}get(e,t){return this._data[t][e]}set(e,t,r){this._data[t][e]=r}};const zt$2=class Mo{constructor(e,t,r,Ve){D$2(this,"_r"),D$2(this,"_g"),D$2(this,"_b"),D$2(this,"_a"),this._a=toByte$1(e),this._r=toByte$1(t),this._g=toByte$1(r),this._b=toByte$1(Ve)}get a(){return this._a}get b(){return this._b}get g(){return this._g}get r(){return this._r}static parse(e){if(!e||e.toLowerCase()==="none")return this._undefined;if(e.toLowerCase()==="auto")return this._automatic;if(e=e.trim(),e.startsWith("#")){e=trimString$1(e,"#"),e.length===3&&(e=`${e[0]}${e[0]}${e[1]}${e[1]}${e[2]}${e[2]}`);let We=parseInt(e,16);return e.length<8&&(We+=4278190080),Mo.fromUInt32(We)}const t=e.split(",");if(t.length<3||t.length>4)throw new Error("Invalid format.");let r=0,Ve=255;t.length>3&&(Ve=parseInt(t[r],10),r++);const je=parseInt(t[r],10),ze=parseInt(t[r+1],10),Xe=parseInt(t[r+2],10);return Mo.fromArgb(Ve,je,ze,Xe)}static colorDifference(e,t){const r=(e.r-t.r)/255,Ve=(e.g-t.g)/255,je=(e.b-t.b)/255,ze=(e.a-t.a)/255,Xe=r*r+Ve*Ve+je*je+ze*ze;return Math.sqrt(Xe)}static fromUInt32(e){const t=e>>24&255,r=e>>16&255,Ve=e>>8&255,je=e&255;return Mo.fromArgb(t,r,Ve,je)}static fromHsv(e,t,r){let Ve,je,ze=Ve=je=0;if(t===0)ze=Ve=je=r;else{e===1&&(e=0),e*=6;const Xe=Math.floor(e),We=e-Xe,qe=r*(1-t),Ke=r*(1-t*We),Ze=r*(1-t*(1-We));switch(Xe){case 0:ze=r,Ve=Ze,je=qe;break;case 1:ze=Ke,Ve=r,je=qe;break;case 2:ze=qe,Ve=r,je=Ze;break;case 3:ze=qe,Ve=Ke,je=r;break;case 4:ze=Ze,Ve=qe,je=r;break;case 5:ze=r,Ve=qe,je=Ke;break}}return Mo.fromRgb(ze*255,Ve*255,je*255)}static fromAColor(e,t){return Mo.fromArgb(e,t.r,t.g,t.b)}static fromArgb(e,t,r,Ve){return new Mo(e,t,r,Ve)}static fromRgb(e,t,r){return new Mo(255,e,t,r)}static interpolate(e,t,r){const Ve=e.a*(1-r)+t.a*r,je=e.r*(1-r)+t.r*r,ze=e.g*(1-r)+t.g*r,Xe=e.b*(1-r)+t.b*r;return Mo.fromArgb(toByte$1(Ve),toByte$1(je),toByte$1(ze),toByte$1(Xe))}equals(e){return e.a===this.a&&e.r===this.r&&e.g===this.g&&e.b===this.b}toArgb(){return this.toArgbInner("start")}toRgba(){return this.toArgbInner("end")}toRgb(){return this.toArgbInner("none")}toArgbInner(e){const t=Ve=>Ve.toString(16).padStart(2,"0"),r=`${t(this.r)}${t(this.g)}${t(this.b)}`;return e==="start"?`#${t(this.a)}${r}`:e==="end"?`#${r}${t(this.a)}`:`#${r}`}toString(){return this.toArgb()}isInvisible(){return this.a===0}isVisible(){return this.a>0}isUndefined(){return this.equals(Mo._undefined)}isAutomatic(){return this.equals(Mo._automatic)}getActualColor(e){return this.isAutomatic()?e:this}};D$2(zt$2,"_undefined",zt$2.fromUInt32(0)),D$2(zt$2,"_automatic",zt$2.fromUInt32(1));let OxyColor$1=zt$2;function toByte$1($e){return Math.round($e)}const OxyColors$1={Undefined:OxyColor$1.fromUInt32(0),Automatic:OxyColor$1.fromUInt32(1),AliceBlue:OxyColor$1.fromUInt32(4293982463),AntiqueWhite:OxyColor$1.fromUInt32(4294634455),Aqua:OxyColor$1.fromUInt32(4278255615),Aquamarine:OxyColor$1.fromUInt32(4286578644),Azure:OxyColor$1.fromUInt32(4293984255),Beige:OxyColor$1.fromUInt32(4294309340),Bisque:OxyColor$1.fromUInt32(4294960324),Black:OxyColor$1.fromUInt32(4278190080),BlanchedAlmond:OxyColor$1.fromUInt32(4294962125),Blue:OxyColor$1.fromUInt32(4278190335),BlueViolet:OxyColor$1.fromUInt32(4287245282),Brown:OxyColor$1.fromUInt32(4289014314),BurlyWood:OxyColor$1.fromUInt32(4292786311),CadetBlue:OxyColor$1.fromUInt32(4284456608),Chartreuse:OxyColor$1.fromUInt32(4286578432),Chocolate:OxyColor$1.fromUInt32(4291979550),Coral:OxyColor$1.fromUInt32(4294934352),CornflowerBlue:OxyColor$1.fromUInt32(4284782061),Cornsilk:OxyColor$1.fromUInt32(4294965468),Crimson:OxyColor$1.fromUInt32(4292613180),Cyan:OxyColor$1.fromUInt32(4278255615),DarkBlue:OxyColor$1.fromUInt32(4278190219),DarkCyan:OxyColor$1.fromUInt32(4278225803),DarkGoldenrod:OxyColor$1.fromUInt32(4290283019),DarkGray:OxyColor$1.fromUInt32(4289309097),DarkGreen:OxyColor$1.fromUInt32(4278215680),DarkKhaki:OxyColor$1.fromUInt32(4290623339),DarkMagenta:OxyColor$1.fromUInt32(4287299723),DarkOliveGreen:OxyColor$1.fromUInt32(4283788079),DarkOrange:OxyColor$1.fromUInt32(4294937600),DarkOrchid:OxyColor$1.fromUInt32(4288230092),DarkRed:OxyColor$1.fromUInt32(4287299584),DarkSalmon:OxyColor$1.fromUInt32(4293498490),DarkSeaGreen:OxyColor$1.fromUInt32(4287609999),DarkSlateBlue:OxyColor$1.fromUInt32(4282924427),DarkSlateGray:OxyColor$1.fromUInt32(4281290575),DarkTurquoise:OxyColor$1.fromUInt32(4278243025),DarkViolet:OxyColor$1.fromUInt32(4287889619),DeepPink:OxyColor$1.fromUInt32(4294907027),DeepSkyBlue:OxyColor$1.fromUInt32(4278239231),DimGray:OxyColor$1.fromUInt32(4285098345),DodgerBlue:OxyColor$1.fromUInt32(4280193279),Firebrick:OxyColor$1.fromUInt32(4289864226),FloralWhite:OxyColor$1.fromUInt32(4294966e3),ForestGreen:OxyColor$1.fromUInt32(4280453922),Fuchsia:OxyColor$1.fromUInt32(4294902015),Gainsboro:OxyColor$1.fromUInt32(4292664540),GhostWhite:OxyColor$1.fromUInt32(4294506751),Gold:OxyColor$1.fromUInt32(4294956800),Goldenrod:OxyColor$1.fromUInt32(4292519200),Gray:OxyColor$1.fromUInt32(4286611584),Green:OxyColor$1.fromUInt32(4278222848),GreenYellow:OxyColor$1.fromUInt32(4289593135),Honeydew:OxyColor$1.fromUInt32(4293984240),HotPink:OxyColor$1.fromUInt32(4294928820),IndianRed:OxyColor$1.fromUInt32(4291648604),Indigo:OxyColor$1.fromUInt32(4283105410),Ivory:OxyColor$1.fromUInt32(4294967280),Khaki:OxyColor$1.fromUInt32(4293977740),Lavender:OxyColor$1.fromUInt32(4293322490),LavenderBlush:OxyColor$1.fromUInt32(4294963445),LawnGreen:OxyColor$1.fromUInt32(4286381056),LemonChiffon:OxyColor$1.fromUInt32(4294965965),LightBlue:OxyColor$1.fromUInt32(4289583334),LightCoral:OxyColor$1.fromUInt32(4293951616),LightCyan:OxyColor$1.fromUInt32(4292935679),LightGoldenrodYellow:OxyColor$1.fromUInt32(4294638290),LightGray:OxyColor$1.fromUInt32(4292072403),LightGreen:OxyColor$1.fromUInt32(4287688336),LightPink:OxyColor$1.fromUInt32(4294948545),LightSalmon:OxyColor$1.fromUInt32(4294942842),LightSeaGreen:OxyColor$1.fromUInt32(4280332970),LightSkyBlue:OxyColor$1.fromUInt32(4287090426),LightSlateGray:OxyColor$1.fromUInt32(4286023833),LightSteelBlue:OxyColor$1.fromUInt32(4289774814),LightYellow:OxyColor$1.fromUInt32(4294967264),Lime:OxyColor$1.fromUInt32(4278255360),LimeGreen:OxyColor$1.fromUInt32(4281519410),Linen:OxyColor$1.fromUInt32(4294635750),Magenta:OxyColor$1.fromUInt32(4294902015),Maroon:OxyColor$1.fromUInt32(4286578688),MediumAquamarine:OxyColor$1.fromUInt32(4284927402),MediumBlue:OxyColor$1.fromUInt32(4278190285),MediumOrchid:OxyColor$1.fromUInt32(4290401747),MediumPurple:OxyColor$1.fromUInt32(4287852763),MediumSeaGreen:OxyColor$1.fromUInt32(4282168177),MediumSlateBlue:OxyColor$1.fromUInt32(4286277870),MediumSpringGreen:OxyColor$1.fromUInt32(4278254234),MediumTurquoise:OxyColor$1.fromUInt32(4282962380),MediumVioletRed:OxyColor$1.fromUInt32(4291237253),MidnightBlue:OxyColor$1.fromUInt32(4279834992),MintCream:OxyColor$1.fromUInt32(4294311930),MistyRose:OxyColor$1.fromUInt32(4294960353),Moccasin:OxyColor$1.fromUInt32(4294960309),NavajoWhite:OxyColor$1.fromUInt32(4294958765),Navy:OxyColor$1.fromUInt32(4278190208),OldLace:OxyColor$1.fromUInt32(4294833638),Olive:OxyColor$1.fromUInt32(4286611456),OliveDrab:OxyColor$1.fromUInt32(4285238819),Orange:OxyColor$1.fromUInt32(4294944e3),OrangeRed:OxyColor$1.fromUInt32(4294919424),Orchid:OxyColor$1.fromUInt32(4292505814),PaleGoldenrod:OxyColor$1.fromUInt32(4293847210),PaleGreen:OxyColor$1.fromUInt32(4288215960),PaleTurquoise:OxyColor$1.fromUInt32(4289720046),PaleVioletRed:OxyColor$1.fromUInt32(4292571283),PapayaWhip:OxyColor$1.fromUInt32(4294963157),PeachPuff:OxyColor$1.fromUInt32(4294957753),Peru:OxyColor$1.fromUInt32(4291659071),Pink:OxyColor$1.fromUInt32(4294951115),Plum:OxyColor$1.fromUInt32(4292714717),PowderBlue:OxyColor$1.fromUInt32(4289781990),Purple:OxyColor$1.fromUInt32(4286578816),Red:OxyColor$1.fromUInt32(4294901760),RosyBrown:OxyColor$1.fromUInt32(4290547599),RoyalBlue:OxyColor$1.fromUInt32(4282477025),SaddleBrown:OxyColor$1.fromUInt32(4287317267),Salmon:OxyColor$1.fromUInt32(4294606962),SandyBrown:OxyColor$1.fromUInt32(4294222944),SeaGreen:OxyColor$1.fromUInt32(4281240407),SeaShell:OxyColor$1.fromUInt32(4294964718),Sienna:OxyColor$1.fromUInt32(4288696877),Silver:OxyColor$1.fromUInt32(4290822336),SkyBlue:OxyColor$1.fromUInt32(4287090411),SlateBlue:OxyColor$1.fromUInt32(4285160141),SlateGray:OxyColor$1.fromUInt32(4285563024),Snow:OxyColor$1.fromUInt32(4294966010),SpringGreen:OxyColor$1.fromUInt32(4278255487),SteelBlue:OxyColor$1.fromUInt32(4282811060),Tan:OxyColor$1.fromUInt32(4291998860),Teal:OxyColor$1.fromUInt32(4278222976),Thistle:OxyColor$1.fromUInt32(4292394968),Tomato:OxyColor$1.fromUInt32(4294927175),Transparent:OxyColor$1.fromUInt32(16777215),Turquoise:OxyColor$1.fromUInt32(4282441936),Violet:OxyColor$1.fromUInt32(4293821166),Wheat:OxyColor$1.fromUInt32(4294303411),White:OxyColor$1.fromUInt32(4294967295),WhiteSmoke:OxyColor$1.fromUInt32(4294309365),Yellow:OxyColor$1.fromUInt32(4294967040),YellowGreen:OxyColor$1.fromUInt32(4288335154)};Object.freeze(OxyColors$1);const colorNamesCache$1=new Map,OxyColorExtensions$1={changeIntensity:($e,e)=>{const t=OxyColorExtensions$1.toHsv($e);return t[2]*=e,t[2]>1&&(t[2]=1),OxyColor$1.fromHsv(t[0],t[1],t[2])},changeSaturation:($e,e)=>{const t=OxyColorExtensions$1.toHsv($e);return t[1]*=e,t[1]>1&&(t[1]=1),OxyColor$1.fromHsv(t[0],t[1],t[2])},changeOpacity:($e,e)=>OxyColor$1.fromAColor($e.a*e,$e),complementary:$e=>{const e=OxyColorExtensions$1.toHsv($e);let t=e[0]-.5;return t<0&&(t+=1),OxyColor$1.fromHsv(t,e[1],e[2])},toHsv:$e=>{const e=$e.r,t=$e.g,r=$e.b,Ve=Math.min(Math.min(e,t),r),je=Math.max(Math.max(e,t),r),ze=je-Ve,Xe=je===0?0:ze/je;let We=0;Xe===0?We=0:(e===je?We=(t-r)/ze:t===je?We=2+(r-e)/ze:r===je&&(We=4+(e-t)/ze),We*=60,We<0&&(We+=360));const qe=new Array(3);return qe[0]=We/360,qe[1]=Xe,qe[2]=je/255,qe},toUint:$e=>{let e=toUint$1($e.a<<24);return e+=toUint$1($e.r<<16),e+=toUint$1($e.g<<8),e+=toUint$1($e.b),toUint$1(e)},toByteString:$e=>`${$e.a},${$e.r},${$e.g},${$e.b}`,getColorName:$e=>{const e=OxyColorExtensions$1.toUint($e);if(colorNamesCache$1.has(e))return colorNamesCache$1.get(e);const t=OxyColors$1;for(const r of Object.keys(t)){const Ve=t[r];if(OxyColorExtensions$1.toUint(Ve)===e)return colorNamesCache$1.set(e,r),r}},hueDifference:($e,e)=>{const t=OxyColorExtensions$1.toHsv($e),r=OxyColorExtensions$1.toHsv(e);let Ve=t[0]-r[0];Ve>.5&&(Ve-=1),Ve<-.5&&(Ve+=1);const je=Math.pow(Ve,2);return Math.sqrt(je)}};let OxyPalette$1=class dl{constructor(e){D$2(this,"colors",[]),e&&(this.colors=[...e],Object.freeze(this.colors))}static interpolate(e,...t){if(!t||t.length===0||e<1)return new dl([]);const r=[],Ve=e===1?0:1/(e-1);for(let je=0;je<e;je++){const ze=je*Ve*(t.length-1),Xe=Math.floor(ze),We=Xe+1<t.length?Xe+1:Xe;r[je]=OxyColor$1.interpolate(t[Xe],t[We],ze-Xe)}return new dl(r)}reverse(){return new dl(getReversedCopy$1(this.colors))}},OxyPalettes$1=class{static blackWhiteRed(e){return OxyPalette$1.interpolate(e,OxyColors$1.Black,OxyColors$1.White,OxyColors$1.Red)}static blueWhiteRed(e){return OxyPalette$1.interpolate(e,OxyColors$1.Blue,OxyColors$1.White,OxyColors$1.Red)}static cool(e){return OxyPalette$1.interpolate(e,OxyColors$1.Cyan,OxyColors$1.Magenta)}static gray(e){return OxyPalette$1.interpolate(e,OxyColors$1.Black,OxyColors$1.White)}static hot(e){return OxyPalette$1.interpolate(e,OxyColors$1.Black,OxyColor$1.fromRgb(127,0,0),OxyColor$1.fromRgb(255,127,0),OxyColor$1.fromRgb(255,255,127),OxyColors$1.White)}static hue(e){return OxyPalette$1.interpolate(e,OxyColors$1.Red,OxyColors$1.Yellow,OxyColors$1.Green,OxyColors$1.Cyan,OxyColors$1.Blue,OxyColors$1.Magenta,OxyColors$1.Red)}static hueDistinct(e){return OxyPalette$1.interpolate(e,OxyColors$1.Magenta,OxyColors$1.Blue,OxyColors$1.Cyan,OxyColors$1.Green,OxyColors$1.Yellow,OxyColors$1.Red)}static jet(e){return OxyPalette$1.interpolate(e,OxyColors$1.DarkBlue,OxyColors$1.Cyan,OxyColors$1.Yellow,OxyColors$1.Orange,OxyColors$1.DarkRed)}static rainbow(e){return OxyPalette$1.interpolate(e,OxyColors$1.Violet,OxyColors$1.Indigo,OxyColors$1.Blue,OxyColors$1.Green,OxyColors$1.Yellow,OxyColors$1.Orange,OxyColors$1.Red)}static cividis(e=256){return e===cividisColors$1.length?new OxyPalette$1(cividisColors$1):OxyPalette$1.interpolate(e,...cividisColors$1)}static inferno(e=256){return e===infernoColors$1.length?new OxyPalette$1(infernoColors$1):OxyPalette$1.interpolate(e,...infernoColors$1)}static magma(e=256){return e===magmaColors$1.length?new OxyPalette$1(magmaColors$1):OxyPalette$1.interpolate(e,...magmaColors$1)}static plasma(e=256){return e===plasmaColors$1.length?new OxyPalette$1(plasmaColors$1):OxyPalette$1.interpolate(e,...plasmaColors$1)}static viridis(e=256){return e===viridisColors$1.length?new OxyPalette$1(viridisColors$1):OxyPalette$1.interpolate(e,...viridisColors$1)}};D$2(OxyPalettes$1,"blueWhiteRed31"),D$2(OxyPalettes$1,"hot64"),D$2(OxyPalettes$1,"hue64");OxyPalettes$1.blueWhiteRed31=OxyPalettes$1.blueWhiteRed(31);OxyPalettes$1.hot64=OxyPalettes$1.hot(64);OxyPalettes$1.hue64=OxyPalettes$1.hue(64);const cividisColors$1=[OxyColor$1.fromRgb(0,32,77),OxyColor$1.fromRgb(0,33,78),OxyColor$1.fromRgb(0,34,80),OxyColor$1.fromRgb(0,34,82),OxyColor$1.fromRgb(0,35,83),OxyColor$1.fromRgb(0,36,85),OxyColor$1.fromRgb(0,37,87),OxyColor$1.fromRgb(0,37,88),OxyColor$1.fromRgb(0,38,90),OxyColor$1.fromRgb(0,39,92),OxyColor$1.fromRgb(0,39,94),OxyColor$1.fromRgb(0,40,96),OxyColor$1.fromRgb(0,41,97),OxyColor$1.fromRgb(0,42,99),OxyColor$1.fromRgb(0,42,101),OxyColor$1.fromRgb(0,43,103),OxyColor$1.fromRgb(0,44,105),OxyColor$1.fromRgb(0,44,106),OxyColor$1.fromRgb(0,45,108),OxyColor$1.fromRgb(0,46,110),OxyColor$1.fromRgb(0,46,111),OxyColor$1.fromRgb(0,47,111),OxyColor$1.fromRgb(0,47,111),OxyColor$1.fromRgb(0,48,111),OxyColor$1.fromRgb(0,48,111),OxyColor$1.fromRgb(0,49,111),OxyColor$1.fromRgb(0,50,111),OxyColor$1.fromRgb(0,51,111),OxyColor$1.fromRgb(0,51,111),OxyColor$1.fromRgb(0,52,111),OxyColor$1.fromRgb(0,53,110),OxyColor$1.fromRgb(1,54,110),OxyColor$1.fromRgb(6,54,110),OxyColor$1.fromRgb(11,55,110),OxyColor$1.fromRgb(15,56,110),OxyColor$1.fromRgb(18,56,109),OxyColor$1.fromRgb(21,57,109),OxyColor$1.fromRgb(24,58,109),OxyColor$1.fromRgb(26,59,109),OxyColor$1.fromRgb(29,59,109),OxyColor$1.fromRgb(31,60,109),OxyColor$1.fromRgb(33,61,109),OxyColor$1.fromRgb(35,62,108),OxyColor$1.fromRgb(36,62,108),OxyColor$1.fromRgb(38,63,108),OxyColor$1.fromRgb(40,64,108),OxyColor$1.fromRgb(42,64,108),OxyColor$1.fromRgb(43,65,108),OxyColor$1.fromRgb(45,66,108),OxyColor$1.fromRgb(46,67,108),OxyColor$1.fromRgb(48,67,108),OxyColor$1.fromRgb(49,68,107),OxyColor$1.fromRgb(50,69,107),OxyColor$1.fromRgb(52,69,107),OxyColor$1.fromRgb(53,70,107),OxyColor$1.fromRgb(54,71,107),OxyColor$1.fromRgb(56,72,107),OxyColor$1.fromRgb(57,72,107),OxyColor$1.fromRgb(58,73,107),OxyColor$1.fromRgb(59,74,107),OxyColor$1.fromRgb(61,74,107),OxyColor$1.fromRgb(62,75,107),OxyColor$1.fromRgb(63,76,107),OxyColor$1.fromRgb(64,77,107),OxyColor$1.fromRgb(65,77,107),OxyColor$1.fromRgb(66,78,107),OxyColor$1.fromRgb(67,79,107),OxyColor$1.fromRgb(68,79,107),OxyColor$1.fromRgb(70,80,107),OxyColor$1.fromRgb(71,81,107),OxyColor$1.fromRgb(72,82,107),OxyColor$1.fromRgb(73,82,107),OxyColor$1.fromRgb(74,83,107),OxyColor$1.fromRgb(75,84,108),OxyColor$1.fromRgb(76,84,108),OxyColor$1.fromRgb(77,85,108),OxyColor$1.fromRgb(78,86,108),OxyColor$1.fromRgb(79,87,108),OxyColor$1.fromRgb(80,87,108),OxyColor$1.fromRgb(81,88,108),OxyColor$1.fromRgb(82,89,108),OxyColor$1.fromRgb(83,89,108),OxyColor$1.fromRgb(84,90,108),OxyColor$1.fromRgb(85,91,109),OxyColor$1.fromRgb(86,92,109),OxyColor$1.fromRgb(87,92,109),OxyColor$1.fromRgb(88,93,109),OxyColor$1.fromRgb(89,94,109),OxyColor$1.fromRgb(89,95,109),OxyColor$1.fromRgb(90,95,109),OxyColor$1.fromRgb(91,96,110),OxyColor$1.fromRgb(92,97,110),OxyColor$1.fromRgb(93,97,110),OxyColor$1.fromRgb(94,98,110),OxyColor$1.fromRgb(95,99,110),OxyColor$1.fromRgb(96,100,111),OxyColor$1.fromRgb(97,100,111),OxyColor$1.fromRgb(98,101,111),OxyColor$1.fromRgb(99,102,111),OxyColor$1.fromRgb(100,102,111),OxyColor$1.fromRgb(100,103,112),OxyColor$1.fromRgb(101,104,112),OxyColor$1.fromRgb(102,105,112),OxyColor$1.fromRgb(103,105,112),OxyColor$1.fromRgb(104,106,113),OxyColor$1.fromRgb(105,107,113),OxyColor$1.fromRgb(106,108,113),OxyColor$1.fromRgb(107,108,113),OxyColor$1.fromRgb(108,109,114),OxyColor$1.fromRgb(108,110,114),OxyColor$1.fromRgb(109,110,114),OxyColor$1.fromRgb(110,111,115),OxyColor$1.fromRgb(111,112,115),OxyColor$1.fromRgb(112,113,115),OxyColor$1.fromRgb(113,113,116),OxyColor$1.fromRgb(114,114,116),OxyColor$1.fromRgb(114,115,116),OxyColor$1.fromRgb(115,116,117),OxyColor$1.fromRgb(116,116,117),OxyColor$1.fromRgb(117,117,117),OxyColor$1.fromRgb(118,118,118),OxyColor$1.fromRgb(119,119,118),OxyColor$1.fromRgb(120,119,119),OxyColor$1.fromRgb(120,120,119),OxyColor$1.fromRgb(121,121,119),OxyColor$1.fromRgb(122,122,120),OxyColor$1.fromRgb(123,122,120),OxyColor$1.fromRgb(124,123,120),OxyColor$1.fromRgb(125,124,120),OxyColor$1.fromRgb(126,125,120),OxyColor$1.fromRgb(127,125,120),OxyColor$1.fromRgb(128,126,121),OxyColor$1.fromRgb(129,127,121),OxyColor$1.fromRgb(130,128,121),OxyColor$1.fromRgb(131,128,121),OxyColor$1.fromRgb(132,129,121),OxyColor$1.fromRgb(132,130,121),OxyColor$1.fromRgb(133,131,121),OxyColor$1.fromRgb(134,131,121),OxyColor$1.fromRgb(135,132,121),OxyColor$1.fromRgb(136,133,121),OxyColor$1.fromRgb(137,134,121),OxyColor$1.fromRgb(138,135,121),OxyColor$1.fromRgb(139,135,121),OxyColor$1.fromRgb(140,136,121),OxyColor$1.fromRgb(141,137,121),OxyColor$1.fromRgb(142,138,121),OxyColor$1.fromRgb(143,138,121),OxyColor$1.fromRgb(144,139,121),OxyColor$1.fromRgb(145,140,120),OxyColor$1.fromRgb(146,141,120),OxyColor$1.fromRgb(147,142,120),OxyColor$1.fromRgb(148,142,120),OxyColor$1.fromRgb(149,143,120),OxyColor$1.fromRgb(150,144,120),OxyColor$1.fromRgb(151,145,120),OxyColor$1.fromRgb(152,146,120),OxyColor$1.fromRgb(153,146,120),OxyColor$1.fromRgb(154,147,119),OxyColor$1.fromRgb(155,148,119),OxyColor$1.fromRgb(156,149,119),OxyColor$1.fromRgb(157,150,119),OxyColor$1.fromRgb(158,150,119),OxyColor$1.fromRgb(159,151,119),OxyColor$1.fromRgb(160,152,119),OxyColor$1.fromRgb(161,153,118),OxyColor$1.fromRgb(162,154,118),OxyColor$1.fromRgb(163,154,118),OxyColor$1.fromRgb(164,155,118),OxyColor$1.fromRgb(165,156,118),OxyColor$1.fromRgb(166,157,117),OxyColor$1.fromRgb(168,158,117),OxyColor$1.fromRgb(169,159,117),OxyColor$1.fromRgb(170,159,117),OxyColor$1.fromRgb(171,160,116),OxyColor$1.fromRgb(172,161,116),OxyColor$1.fromRgb(173,162,116),OxyColor$1.fromRgb(174,163,116),OxyColor$1.fromRgb(175,164,115),OxyColor$1.fromRgb(176,164,115),OxyColor$1.fromRgb(177,165,115),OxyColor$1.fromRgb(178,166,114),OxyColor$1.fromRgb(179,167,114),OxyColor$1.fromRgb(180,168,114),OxyColor$1.fromRgb(181,169,113),OxyColor$1.fromRgb(182,169,113),OxyColor$1.fromRgb(183,170,113),OxyColor$1.fromRgb(184,171,112),OxyColor$1.fromRgb(185,172,112),OxyColor$1.fromRgb(186,173,112),OxyColor$1.fromRgb(187,174,111),OxyColor$1.fromRgb(188,175,111),OxyColor$1.fromRgb(190,175,111),OxyColor$1.fromRgb(191,176,110),OxyColor$1.fromRgb(192,177,110),OxyColor$1.fromRgb(193,178,109),OxyColor$1.fromRgb(194,179,109),OxyColor$1.fromRgb(195,180,109),OxyColor$1.fromRgb(196,181,108),OxyColor$1.fromRgb(197,181,108),OxyColor$1.fromRgb(198,182,107),OxyColor$1.fromRgb(199,183,107),OxyColor$1.fromRgb(200,184,106),OxyColor$1.fromRgb(201,185,106),OxyColor$1.fromRgb(203,186,105),OxyColor$1.fromRgb(204,187,105),OxyColor$1.fromRgb(205,188,104),OxyColor$1.fromRgb(206,188,104),OxyColor$1.fromRgb(207,189,103),OxyColor$1.fromRgb(208,190,103),OxyColor$1.fromRgb(209,191,102),OxyColor$1.fromRgb(210,192,102),OxyColor$1.fromRgb(211,193,101),OxyColor$1.fromRgb(212,194,100),OxyColor$1.fromRgb(214,195,100),OxyColor$1.fromRgb(215,196,99),OxyColor$1.fromRgb(216,197,99),OxyColor$1.fromRgb(217,197,98),OxyColor$1.fromRgb(218,198,97),OxyColor$1.fromRgb(219,199,97),OxyColor$1.fromRgb(220,200,96),OxyColor$1.fromRgb(221,201,95),OxyColor$1.fromRgb(222,202,95),OxyColor$1.fromRgb(224,203,94),OxyColor$1.fromRgb(225,204,93),OxyColor$1.fromRgb(226,205,92),OxyColor$1.fromRgb(227,206,92),OxyColor$1.fromRgb(228,207,91),OxyColor$1.fromRgb(229,208,90),OxyColor$1.fromRgb(230,209,89),OxyColor$1.fromRgb(232,210,89),OxyColor$1.fromRgb(233,211,88),OxyColor$1.fromRgb(234,211,87),OxyColor$1.fromRgb(235,212,86),OxyColor$1.fromRgb(236,213,85),OxyColor$1.fromRgb(237,214,84),OxyColor$1.fromRgb(239,215,83),OxyColor$1.fromRgb(240,216,82),OxyColor$1.fromRgb(241,217,81),OxyColor$1.fromRgb(242,218,80),OxyColor$1.fromRgb(243,219,79),OxyColor$1.fromRgb(244,220,78),OxyColor$1.fromRgb(246,221,77),OxyColor$1.fromRgb(247,222,76),OxyColor$1.fromRgb(248,223,75),OxyColor$1.fromRgb(249,224,74),OxyColor$1.fromRgb(250,225,73),OxyColor$1.fromRgb(251,226,72),OxyColor$1.fromRgb(253,227,70),OxyColor$1.fromRgb(254,228,69),OxyColor$1.fromRgb(255,229,68),OxyColor$1.fromRgb(255,230,66),OxyColor$1.fromRgb(255,231,66),OxyColor$1.fromRgb(255,232,67),OxyColor$1.fromRgb(255,233,68),OxyColor$1.fromRgb(255,234,70)],infernoColors$1=[OxyColor$1.fromRgb(0,0,4),OxyColor$1.fromRgb(1,0,5),OxyColor$1.fromRgb(1,1,6),OxyColor$1.fromRgb(1,1,8),OxyColor$1.fromRgb(2,1,10),OxyColor$1.fromRgb(2,2,12),OxyColor$1.fromRgb(2,2,14),OxyColor$1.fromRgb(3,2,16),OxyColor$1.fromRgb(4,3,18),OxyColor$1.fromRgb(4,3,20),OxyColor$1.fromRgb(5,4,23),OxyColor$1.fromRgb(6,4,25),OxyColor$1.fromRgb(7,5,27),OxyColor$1.fromRgb(8,5,29),OxyColor$1.fromRgb(9,6,31),OxyColor$1.fromRgb(10,7,34),OxyColor$1.fromRgb(11,7,36),OxyColor$1.fromRgb(12,8,38),OxyColor$1.fromRgb(13,8,41),OxyColor$1.fromRgb(14,9,43),OxyColor$1.fromRgb(16,9,45),OxyColor$1.fromRgb(17,10,48),OxyColor$1.fromRgb(18,10,50),OxyColor$1.fromRgb(20,11,52),OxyColor$1.fromRgb(21,11,55),OxyColor$1.fromRgb(22,11,57),OxyColor$1.fromRgb(24,12,60),OxyColor$1.fromRgb(25,12,62),OxyColor$1.fromRgb(27,12,65),OxyColor$1.fromRgb(28,12,67),OxyColor$1.fromRgb(30,12,69),OxyColor$1.fromRgb(31,12,72),OxyColor$1.fromRgb(33,12,74),OxyColor$1.fromRgb(35,12,76),OxyColor$1.fromRgb(36,12,79),OxyColor$1.fromRgb(38,12,81),OxyColor$1.fromRgb(40,11,83),OxyColor$1.fromRgb(41,11,85),OxyColor$1.fromRgb(43,11,87),OxyColor$1.fromRgb(45,11,89),OxyColor$1.fromRgb(47,10,91),OxyColor$1.fromRgb(49,10,92),OxyColor$1.fromRgb(50,10,94),OxyColor$1.fromRgb(52,10,95),OxyColor$1.fromRgb(54,9,97),OxyColor$1.fromRgb(56,9,98),OxyColor$1.fromRgb(57,9,99),OxyColor$1.fromRgb(59,9,100),OxyColor$1.fromRgb(61,9,101),OxyColor$1.fromRgb(62,9,102),OxyColor$1.fromRgb(64,10,103),OxyColor$1.fromRgb(66,10,104),OxyColor$1.fromRgb(68,10,104),OxyColor$1.fromRgb(69,10,105),OxyColor$1.fromRgb(71,11,106),OxyColor$1.fromRgb(73,11,106),OxyColor$1.fromRgb(74,12,107),OxyColor$1.fromRgb(76,12,107),OxyColor$1.fromRgb(77,13,108),OxyColor$1.fromRgb(79,13,108),OxyColor$1.fromRgb(81,14,108),OxyColor$1.fromRgb(82,14,109),OxyColor$1.fromRgb(84,15,109),OxyColor$1.fromRgb(85,15,109),OxyColor$1.fromRgb(87,16,110),OxyColor$1.fromRgb(89,16,110),OxyColor$1.fromRgb(90,17,110),OxyColor$1.fromRgb(92,18,110),OxyColor$1.fromRgb(93,18,110),OxyColor$1.fromRgb(95,19,110),OxyColor$1.fromRgb(97,19,110),OxyColor$1.fromRgb(98,20,110),OxyColor$1.fromRgb(100,21,110),OxyColor$1.fromRgb(101,21,110),OxyColor$1.fromRgb(103,22,110),OxyColor$1.fromRgb(105,22,110),OxyColor$1.fromRgb(106,23,110),OxyColor$1.fromRgb(108,24,110),OxyColor$1.fromRgb(109,24,110),OxyColor$1.fromRgb(111,25,110),OxyColor$1.fromRgb(113,25,110),OxyColor$1.fromRgb(114,26,110),OxyColor$1.fromRgb(116,26,110),OxyColor$1.fromRgb(117,27,110),OxyColor$1.fromRgb(119,28,109),OxyColor$1.fromRgb(120,28,109),OxyColor$1.fromRgb(122,29,109),OxyColor$1.fromRgb(124,29,109),OxyColor$1.fromRgb(125,30,109),OxyColor$1.fromRgb(127,30,108),OxyColor$1.fromRgb(128,31,108),OxyColor$1.fromRgb(130,32,108),OxyColor$1.fromRgb(132,32,107),OxyColor$1.fromRgb(133,33,107),OxyColor$1.fromRgb(135,33,107),OxyColor$1.fromRgb(136,34,106),OxyColor$1.fromRgb(138,34,106),OxyColor$1.fromRgb(140,35,105),OxyColor$1.fromRgb(141,35,105),OxyColor$1.fromRgb(143,36,105),OxyColor$1.fromRgb(144,37,104),OxyColor$1.fromRgb(146,37,104),OxyColor$1.fromRgb(147,38,103),OxyColor$1.fromRgb(149,38,103),OxyColor$1.fromRgb(151,39,102),OxyColor$1.fromRgb(152,39,102),OxyColor$1.fromRgb(154,40,101),OxyColor$1.fromRgb(155,41,100),OxyColor$1.fromRgb(157,41,100),OxyColor$1.fromRgb(159,42,99),OxyColor$1.fromRgb(160,42,99),OxyColor$1.fromRgb(162,43,98),OxyColor$1.fromRgb(163,44,97),OxyColor$1.fromRgb(165,44,96),OxyColor$1.fromRgb(166,45,96),OxyColor$1.fromRgb(168,46,95),OxyColor$1.fromRgb(169,46,94),OxyColor$1.fromRgb(171,47,94),OxyColor$1.fromRgb(173,48,93),OxyColor$1.fromRgb(174,48,92),OxyColor$1.fromRgb(176,49,91),OxyColor$1.fromRgb(177,50,90),OxyColor$1.fromRgb(179,50,90),OxyColor$1.fromRgb(180,51,89),OxyColor$1.fromRgb(182,52,88),OxyColor$1.fromRgb(183,53,87),OxyColor$1.fromRgb(185,53,86),OxyColor$1.fromRgb(186,54,85),OxyColor$1.fromRgb(188,55,84),OxyColor$1.fromRgb(189,56,83),OxyColor$1.fromRgb(191,57,82),OxyColor$1.fromRgb(192,58,81),OxyColor$1.fromRgb(193,58,80),OxyColor$1.fromRgb(195,59,79),OxyColor$1.fromRgb(196,60,78),OxyColor$1.fromRgb(198,61,77),OxyColor$1.fromRgb(199,62,76),OxyColor$1.fromRgb(200,63,75),OxyColor$1.fromRgb(202,64,74),OxyColor$1.fromRgb(203,65,73),OxyColor$1.fromRgb(204,66,72),OxyColor$1.fromRgb(206,67,71),OxyColor$1.fromRgb(207,68,70),OxyColor$1.fromRgb(208,69,69),OxyColor$1.fromRgb(210,70,68),OxyColor$1.fromRgb(211,71,67),OxyColor$1.fromRgb(212,72,66),OxyColor$1.fromRgb(213,74,65),OxyColor$1.fromRgb(215,75,63),OxyColor$1.fromRgb(216,76,62),OxyColor$1.fromRgb(217,77,61),OxyColor$1.fromRgb(218,78,60),OxyColor$1.fromRgb(219,80,59),OxyColor$1.fromRgb(221,81,58),OxyColor$1.fromRgb(222,82,56),OxyColor$1.fromRgb(223,83,55),OxyColor$1.fromRgb(224,85,54),OxyColor$1.fromRgb(225,86,53),OxyColor$1.fromRgb(226,87,52),OxyColor$1.fromRgb(227,89,51),OxyColor$1.fromRgb(228,90,49),OxyColor$1.fromRgb(229,92,48),OxyColor$1.fromRgb(230,93,47),OxyColor$1.fromRgb(231,94,46),OxyColor$1.fromRgb(232,96,45),OxyColor$1.fromRgb(233,97,43),OxyColor$1.fromRgb(234,99,42),OxyColor$1.fromRgb(235,100,41),OxyColor$1.fromRgb(235,102,40),OxyColor$1.fromRgb(236,103,38),OxyColor$1.fromRgb(237,105,37),OxyColor$1.fromRgb(238,106,36),OxyColor$1.fromRgb(239,108,35),OxyColor$1.fromRgb(239,110,33),OxyColor$1.fromRgb(240,111,32),OxyColor$1.fromRgb(241,113,31),OxyColor$1.fromRgb(241,115,29),OxyColor$1.fromRgb(242,116,28),OxyColor$1.fromRgb(243,118,27),OxyColor$1.fromRgb(243,120,25),OxyColor$1.fromRgb(244,121,24),OxyColor$1.fromRgb(245,123,23),OxyColor$1.fromRgb(245,125,21),OxyColor$1.fromRgb(246,126,20),OxyColor$1.fromRgb(246,128,19),OxyColor$1.fromRgb(247,130,18),OxyColor$1.fromRgb(247,132,16),OxyColor$1.fromRgb(248,133,15),OxyColor$1.fromRgb(248,135,14),OxyColor$1.fromRgb(248,137,12),OxyColor$1.fromRgb(249,139,11),OxyColor$1.fromRgb(249,140,10),OxyColor$1.fromRgb(249,142,9),OxyColor$1.fromRgb(250,144,8),OxyColor$1.fromRgb(250,146,7),OxyColor$1.fromRgb(250,148,7),OxyColor$1.fromRgb(251,150,6),OxyColor$1.fromRgb(251,151,6),OxyColor$1.fromRgb(251,153,6),OxyColor$1.fromRgb(251,155,6),OxyColor$1.fromRgb(251,157,7),OxyColor$1.fromRgb(252,159,7),OxyColor$1.fromRgb(252,161,8),OxyColor$1.fromRgb(252,163,9),OxyColor$1.fromRgb(252,165,10),OxyColor$1.fromRgb(252,166,12),OxyColor$1.fromRgb(252,168,13),OxyColor$1.fromRgb(252,170,15),OxyColor$1.fromRgb(252,172,17),OxyColor$1.fromRgb(252,174,18),OxyColor$1.fromRgb(252,176,20),OxyColor$1.fromRgb(252,178,22),OxyColor$1.fromRgb(252,180,24),OxyColor$1.fromRgb(251,182,26),OxyColor$1.fromRgb(251,184,29),OxyColor$1.fromRgb(251,186,31),OxyColor$1.fromRgb(251,188,33),OxyColor$1.fromRgb(251,190,35),OxyColor$1.fromRgb(250,192,38),OxyColor$1.fromRgb(250,194,40),OxyColor$1.fromRgb(250,196,42),OxyColor$1.fromRgb(250,198,45),OxyColor$1.fromRgb(249,199,47),OxyColor$1.fromRgb(249,201,50),OxyColor$1.fromRgb(249,203,53),OxyColor$1.fromRgb(248,205,55),OxyColor$1.fromRgb(248,207,58),OxyColor$1.fromRgb(247,209,61),OxyColor$1.fromRgb(247,211,64),OxyColor$1.fromRgb(246,213,67),OxyColor$1.fromRgb(246,215,70),OxyColor$1.fromRgb(245,217,73),OxyColor$1.fromRgb(245,219,76),OxyColor$1.fromRgb(244,221,79),OxyColor$1.fromRgb(244,223,83),OxyColor$1.fromRgb(244,225,86),OxyColor$1.fromRgb(243,227,90),OxyColor$1.fromRgb(243,229,93),OxyColor$1.fromRgb(242,230,97),OxyColor$1.fromRgb(242,232,101),OxyColor$1.fromRgb(242,234,105),OxyColor$1.fromRgb(241,236,109),OxyColor$1.fromRgb(241,237,113),OxyColor$1.fromRgb(241,239,117),OxyColor$1.fromRgb(241,241,121),OxyColor$1.fromRgb(242,242,125),OxyColor$1.fromRgb(242,244,130),OxyColor$1.fromRgb(243,245,134),OxyColor$1.fromRgb(243,246,138),OxyColor$1.fromRgb(244,248,142),OxyColor$1.fromRgb(245,249,146),OxyColor$1.fromRgb(246,250,150),OxyColor$1.fromRgb(248,251,154),OxyColor$1.fromRgb(249,252,157),OxyColor$1.fromRgb(250,253,161),OxyColor$1.fromRgb(252,255,164)],magmaColors$1=[OxyColor$1.fromRgb(0,0,4),OxyColor$1.fromRgb(1,0,5),OxyColor$1.fromRgb(1,1,6),OxyColor$1.fromRgb(1,1,8),OxyColor$1.fromRgb(2,1,9),OxyColor$1.fromRgb(2,2,11),OxyColor$1.fromRgb(2,2,13),OxyColor$1.fromRgb(3,3,15),OxyColor$1.fromRgb(3,3,18),OxyColor$1.fromRgb(4,4,20),OxyColor$1.fromRgb(5,4,22),OxyColor$1.fromRgb(6,5,24),OxyColor$1.fromRgb(6,5,26),OxyColor$1.fromRgb(7,6,28),OxyColor$1.fromRgb(8,7,30),OxyColor$1.fromRgb(9,7,32),OxyColor$1.fromRgb(10,8,34),OxyColor$1.fromRgb(11,9,36),OxyColor$1.fromRgb(12,9,38),OxyColor$1.fromRgb(13,10,41),OxyColor$1.fromRgb(14,11,43),OxyColor$1.fromRgb(16,11,45),OxyColor$1.fromRgb(17,12,47),OxyColor$1.fromRgb(18,13,49),OxyColor$1.fromRgb(19,13,52),OxyColor$1.fromRgb(20,14,54),OxyColor$1.fromRgb(21,14,56),OxyColor$1.fromRgb(22,15,59),OxyColor$1.fromRgb(24,15,61),OxyColor$1.fromRgb(25,16,63),OxyColor$1.fromRgb(26,16,66),OxyColor$1.fromRgb(28,16,68),OxyColor$1.fromRgb(29,17,71),OxyColor$1.fromRgb(30,17,73),OxyColor$1.fromRgb(32,17,75),OxyColor$1.fromRgb(33,17,78),OxyColor$1.fromRgb(34,17,80),OxyColor$1.fromRgb(36,18,83),OxyColor$1.fromRgb(37,18,85),OxyColor$1.fromRgb(39,18,88),OxyColor$1.fromRgb(41,17,90),OxyColor$1.fromRgb(42,17,92),OxyColor$1.fromRgb(44,17,95),OxyColor$1.fromRgb(45,17,97),OxyColor$1.fromRgb(47,17,99),OxyColor$1.fromRgb(49,17,101),OxyColor$1.fromRgb(51,16,103),OxyColor$1.fromRgb(52,16,105),OxyColor$1.fromRgb(54,16,107),OxyColor$1.fromRgb(56,16,108),OxyColor$1.fromRgb(57,15,110),OxyColor$1.fromRgb(59,15,112),OxyColor$1.fromRgb(61,15,113),OxyColor$1.fromRgb(63,15,114),OxyColor$1.fromRgb(64,15,116),OxyColor$1.fromRgb(66,15,117),OxyColor$1.fromRgb(68,15,118),OxyColor$1.fromRgb(69,16,119),OxyColor$1.fromRgb(71,16,120),OxyColor$1.fromRgb(73,16,120),OxyColor$1.fromRgb(74,16,121),OxyColor$1.fromRgb(76,17,122),OxyColor$1.fromRgb(78,17,123),OxyColor$1.fromRgb(79,18,123),OxyColor$1.fromRgb(81,18,124),OxyColor$1.fromRgb(82,19,124),OxyColor$1.fromRgb(84,19,125),OxyColor$1.fromRgb(86,20,125),OxyColor$1.fromRgb(87,21,126),OxyColor$1.fromRgb(89,21,126),OxyColor$1.fromRgb(90,22,126),OxyColor$1.fromRgb(92,22,127),OxyColor$1.fromRgb(93,23,127),OxyColor$1.fromRgb(95,24,127),OxyColor$1.fromRgb(96,24,128),OxyColor$1.fromRgb(98,25,128),OxyColor$1.fromRgb(100,26,128),OxyColor$1.fromRgb(101,26,128),OxyColor$1.fromRgb(103,27,128),OxyColor$1.fromRgb(104,28,129),OxyColor$1.fromRgb(106,28,129),OxyColor$1.fromRgb(107,29,129),OxyColor$1.fromRgb(109,29,129),OxyColor$1.fromRgb(110,30,129),OxyColor$1.fromRgb(112,31,129),OxyColor$1.fromRgb(114,31,129),OxyColor$1.fromRgb(115,32,129),OxyColor$1.fromRgb(117,33,129),OxyColor$1.fromRgb(118,33,129),OxyColor$1.fromRgb(120,34,129),OxyColor$1.fromRgb(121,34,130),OxyColor$1.fromRgb(123,35,130),OxyColor$1.fromRgb(124,35,130),OxyColor$1.fromRgb(126,36,130),OxyColor$1.fromRgb(128,37,130),OxyColor$1.fromRgb(129,37,129),OxyColor$1.fromRgb(131,38,129),OxyColor$1.fromRgb(132,38,129),OxyColor$1.fromRgb(134,39,129),OxyColor$1.fromRgb(136,39,129),OxyColor$1.fromRgb(137,40,129),OxyColor$1.fromRgb(139,41,129),OxyColor$1.fromRgb(140,41,129),OxyColor$1.fromRgb(142,42,129),OxyColor$1.fromRgb(144,42,129),OxyColor$1.fromRgb(145,43,129),OxyColor$1.fromRgb(147,43,128),OxyColor$1.fromRgb(148,44,128),OxyColor$1.fromRgb(150,44,128),OxyColor$1.fromRgb(152,45,128),OxyColor$1.fromRgb(153,45,128),OxyColor$1.fromRgb(155,46,127),OxyColor$1.fromRgb(156,46,127),OxyColor$1.fromRgb(158,47,127),OxyColor$1.fromRgb(160,47,127),OxyColor$1.fromRgb(161,48,126),OxyColor$1.fromRgb(163,48,126),OxyColor$1.fromRgb(165,49,126),OxyColor$1.fromRgb(166,49,125),OxyColor$1.fromRgb(168,50,125),OxyColor$1.fromRgb(170,51,125),OxyColor$1.fromRgb(171,51,124),OxyColor$1.fromRgb(173,52,124),OxyColor$1.fromRgb(174,52,123),OxyColor$1.fromRgb(176,53,123),OxyColor$1.fromRgb(178,53,123),OxyColor$1.fromRgb(179,54,122),OxyColor$1.fromRgb(181,54,122),OxyColor$1.fromRgb(183,55,121),OxyColor$1.fromRgb(184,55,121),OxyColor$1.fromRgb(186,56,120),OxyColor$1.fromRgb(188,57,120),OxyColor$1.fromRgb(189,57,119),OxyColor$1.fromRgb(191,58,119),OxyColor$1.fromRgb(192,58,118),OxyColor$1.fromRgb(194,59,117),OxyColor$1.fromRgb(196,60,117),OxyColor$1.fromRgb(197,60,116),OxyColor$1.fromRgb(199,61,115),OxyColor$1.fromRgb(200,62,115),OxyColor$1.fromRgb(202,62,114),OxyColor$1.fromRgb(204,63,113),OxyColor$1.fromRgb(205,64,113),OxyColor$1.fromRgb(207,64,112),OxyColor$1.fromRgb(208,65,111),OxyColor$1.fromRgb(210,66,111),OxyColor$1.fromRgb(211,67,110),OxyColor$1.fromRgb(213,68,109),OxyColor$1.fromRgb(214,69,108),OxyColor$1.fromRgb(216,69,108),OxyColor$1.fromRgb(217,70,107),OxyColor$1.fromRgb(219,71,106),OxyColor$1.fromRgb(220,72,105),OxyColor$1.fromRgb(222,73,104),OxyColor$1.fromRgb(223,74,104),OxyColor$1.fromRgb(224,76,103),OxyColor$1.fromRgb(226,77,102),OxyColor$1.fromRgb(227,78,101),OxyColor$1.fromRgb(228,79,100),OxyColor$1.fromRgb(229,80,100),OxyColor$1.fromRgb(231,82,99),OxyColor$1.fromRgb(232,83,98),OxyColor$1.fromRgb(233,84,98),OxyColor$1.fromRgb(234,86,97),OxyColor$1.fromRgb(235,87,96),OxyColor$1.fromRgb(236,88,96),OxyColor$1.fromRgb(237,90,95),OxyColor$1.fromRgb(238,91,94),OxyColor$1.fromRgb(239,93,94),OxyColor$1.fromRgb(240,95,94),OxyColor$1.fromRgb(241,96,93),OxyColor$1.fromRgb(242,98,93),OxyColor$1.fromRgb(242,100,92),OxyColor$1.fromRgb(243,101,92),OxyColor$1.fromRgb(244,103,92),OxyColor$1.fromRgb(244,105,92),OxyColor$1.fromRgb(245,107,92),OxyColor$1.fromRgb(246,108,92),OxyColor$1.fromRgb(246,110,92),OxyColor$1.fromRgb(247,112,92),OxyColor$1.fromRgb(247,114,92),OxyColor$1.fromRgb(248,116,92),OxyColor$1.fromRgb(248,118,92),OxyColor$1.fromRgb(249,120,93),OxyColor$1.fromRgb(249,121,93),OxyColor$1.fromRgb(249,123,93),OxyColor$1.fromRgb(250,125,94),OxyColor$1.fromRgb(250,127,94),OxyColor$1.fromRgb(250,129,95),OxyColor$1.fromRgb(251,131,95),OxyColor$1.fromRgb(251,133,96),OxyColor$1.fromRgb(251,135,97),OxyColor$1.fromRgb(252,137,97),OxyColor$1.fromRgb(252,138,98),OxyColor$1.fromRgb(252,140,99),OxyColor$1.fromRgb(252,142,100),OxyColor$1.fromRgb(252,144,101),OxyColor$1.fromRgb(253,146,102),OxyColor$1.fromRgb(253,148,103),OxyColor$1.fromRgb(253,150,104),OxyColor$1.fromRgb(253,152,105),OxyColor$1.fromRgb(253,154,106),OxyColor$1.fromRgb(253,155,107),OxyColor$1.fromRgb(254,157,108),OxyColor$1.fromRgb(254,159,109),OxyColor$1.fromRgb(254,161,110),OxyColor$1.fromRgb(254,163,111),OxyColor$1.fromRgb(254,165,113),OxyColor$1.fromRgb(254,167,114),OxyColor$1.fromRgb(254,169,115),OxyColor$1.fromRgb(254,170,116),OxyColor$1.fromRgb(254,172,118),OxyColor$1.fromRgb(254,174,119),OxyColor$1.fromRgb(254,176,120),OxyColor$1.fromRgb(254,178,122),OxyColor$1.fromRgb(254,180,123),OxyColor$1.fromRgb(254,182,124),OxyColor$1.fromRgb(254,183,126),OxyColor$1.fromRgb(254,185,127),OxyColor$1.fromRgb(254,187,129),OxyColor$1.fromRgb(254,189,130),OxyColor$1.fromRgb(254,191,132),OxyColor$1.fromRgb(254,193,133),OxyColor$1.fromRgb(254,194,135),OxyColor$1.fromRgb(254,196,136),OxyColor$1.fromRgb(254,198,138),OxyColor$1.fromRgb(254,200,140),OxyColor$1.fromRgb(254,202,141),OxyColor$1.fromRgb(254,204,143),OxyColor$1.fromRgb(254,205,144),OxyColor$1.fromRgb(254,207,146),OxyColor$1.fromRgb(254,209,148),OxyColor$1.fromRgb(254,211,149),OxyColor$1.fromRgb(254,213,151),OxyColor$1.fromRgb(254,215,153),OxyColor$1.fromRgb(254,216,154),OxyColor$1.fromRgb(253,218,156),OxyColor$1.fromRgb(253,220,158),OxyColor$1.fromRgb(253,222,160),OxyColor$1.fromRgb(253,224,161),OxyColor$1.fromRgb(253,226,163),OxyColor$1.fromRgb(253,227,165),OxyColor$1.fromRgb(253,229,167),OxyColor$1.fromRgb(253,231,169),OxyColor$1.fromRgb(253,233,170),OxyColor$1.fromRgb(253,235,172),OxyColor$1.fromRgb(252,236,174),OxyColor$1.fromRgb(252,238,176),OxyColor$1.fromRgb(252,240,178),OxyColor$1.fromRgb(252,242,180),OxyColor$1.fromRgb(252,244,182),OxyColor$1.fromRgb(252,246,184),OxyColor$1.fromRgb(252,247,185),OxyColor$1.fromRgb(252,249,187),OxyColor$1.fromRgb(252,251,189),OxyColor$1.fromRgb(252,253,191)],plasmaColors$1=[OxyColor$1.fromRgb(13,8,135),OxyColor$1.fromRgb(16,7,136),OxyColor$1.fromRgb(19,7,137),OxyColor$1.fromRgb(22,7,138),OxyColor$1.fromRgb(25,6,140),OxyColor$1.fromRgb(27,6,141),OxyColor$1.fromRgb(29,6,142),OxyColor$1.fromRgb(32,6,143),OxyColor$1.fromRgb(34,6,144),OxyColor$1.fromRgb(36,6,145),OxyColor$1.fromRgb(38,5,145),OxyColor$1.fromRgb(40,5,146),OxyColor$1.fromRgb(42,5,147),OxyColor$1.fromRgb(44,5,148),OxyColor$1.fromRgb(46,5,149),OxyColor$1.fromRgb(47,5,150),OxyColor$1.fromRgb(49,5,151),OxyColor$1.fromRgb(51,5,151),OxyColor$1.fromRgb(53,4,152),OxyColor$1.fromRgb(55,4,153),OxyColor$1.fromRgb(56,4,154),OxyColor$1.fromRgb(58,4,154),OxyColor$1.fromRgb(60,4,155),OxyColor$1.fromRgb(62,4,156),OxyColor$1.fromRgb(63,4,156),OxyColor$1.fromRgb(65,4,157),OxyColor$1.fromRgb(67,3,158),OxyColor$1.fromRgb(68,3,158),OxyColor$1.fromRgb(70,3,159),OxyColor$1.fromRgb(72,3,159),OxyColor$1.fromRgb(73,3,160),OxyColor$1.fromRgb(75,3,161),OxyColor$1.fromRgb(76,2,161),OxyColor$1.fromRgb(78,2,162),OxyColor$1.fromRgb(80,2,162),OxyColor$1.fromRgb(81,2,163),OxyColor$1.fromRgb(83,2,163),OxyColor$1.fromRgb(85,2,164),OxyColor$1.fromRgb(86,1,164),OxyColor$1.fromRgb(88,1,164),OxyColor$1.fromRgb(89,1,165),OxyColor$1.fromRgb(91,1,165),OxyColor$1.fromRgb(92,1,166),OxyColor$1.fromRgb(94,1,166),OxyColor$1.fromRgb(96,1,166),OxyColor$1.fromRgb(97,0,167),OxyColor$1.fromRgb(99,0,167),OxyColor$1.fromRgb(100,0,167),OxyColor$1.fromRgb(102,0,167),OxyColor$1.fromRgb(103,0,168),OxyColor$1.fromRgb(105,0,168),OxyColor$1.fromRgb(106,0,168),OxyColor$1.fromRgb(108,0,168),OxyColor$1.fromRgb(110,0,168),OxyColor$1.fromRgb(111,0,168),OxyColor$1.fromRgb(113,0,168),OxyColor$1.fromRgb(114,1,168),OxyColor$1.fromRgb(116,1,168),OxyColor$1.fromRgb(117,1,168),OxyColor$1.fromRgb(119,1,168),OxyColor$1.fromRgb(120,1,168),OxyColor$1.fromRgb(122,2,168),OxyColor$1.fromRgb(123,2,168),OxyColor$1.fromRgb(125,3,168),OxyColor$1.fromRgb(126,3,168),OxyColor$1.fromRgb(128,4,168),OxyColor$1.fromRgb(129,4,167),OxyColor$1.fromRgb(131,5,167),OxyColor$1.fromRgb(132,5,167),OxyColor$1.fromRgb(134,6,166),OxyColor$1.fromRgb(135,7,166),OxyColor$1.fromRgb(136,8,166),OxyColor$1.fromRgb(138,9,165),OxyColor$1.fromRgb(139,10,165),OxyColor$1.fromRgb(141,11,165),OxyColor$1.fromRgb(142,12,164),OxyColor$1.fromRgb(143,13,164),OxyColor$1.fromRgb(145,14,163),OxyColor$1.fromRgb(146,15,163),OxyColor$1.fromRgb(148,16,162),OxyColor$1.fromRgb(149,17,161),OxyColor$1.fromRgb(150,19,161),OxyColor$1.fromRgb(152,20,160),OxyColor$1.fromRgb(153,21,159),OxyColor$1.fromRgb(154,22,159),OxyColor$1.fromRgb(156,23,158),OxyColor$1.fromRgb(157,24,157),OxyColor$1.fromRgb(158,25,157),OxyColor$1.fromRgb(160,26,156),OxyColor$1.fromRgb(161,27,155),OxyColor$1.fromRgb(162,29,154),OxyColor$1.fromRgb(163,30,154),OxyColor$1.fromRgb(165,31,153),OxyColor$1.fromRgb(166,32,152),OxyColor$1.fromRgb(167,33,151),OxyColor$1.fromRgb(168,34,150),OxyColor$1.fromRgb(170,35,149),OxyColor$1.fromRgb(171,36,148),OxyColor$1.fromRgb(172,38,148),OxyColor$1.fromRgb(173,39,147),OxyColor$1.fromRgb(174,40,146),OxyColor$1.fromRgb(176,41,145),OxyColor$1.fromRgb(177,42,144),OxyColor$1.fromRgb(178,43,143),OxyColor$1.fromRgb(179,44,142),OxyColor$1.fromRgb(180,46,141),OxyColor$1.fromRgb(181,47,140),OxyColor$1.fromRgb(182,48,139),OxyColor$1.fromRgb(183,49,138),OxyColor$1.fromRgb(184,50,137),OxyColor$1.fromRgb(186,51,136),OxyColor$1.fromRgb(187,52,136),OxyColor$1.fromRgb(188,53,135),OxyColor$1.fromRgb(189,55,134),OxyColor$1.fromRgb(190,56,133),OxyColor$1.fromRgb(191,57,132),OxyColor$1.fromRgb(192,58,131),OxyColor$1.fromRgb(193,59,130),OxyColor$1.fromRgb(194,60,129),OxyColor$1.fromRgb(195,61,128),OxyColor$1.fromRgb(196,62,127),OxyColor$1.fromRgb(197,64,126),OxyColor$1.fromRgb(198,65,125),OxyColor$1.fromRgb(199,66,124),OxyColor$1.fromRgb(200,67,123),OxyColor$1.fromRgb(201,68,122),OxyColor$1.fromRgb(202,69,122),OxyColor$1.fromRgb(203,70,121),OxyColor$1.fromRgb(204,71,120),OxyColor$1.fromRgb(204,73,119),OxyColor$1.fromRgb(205,74,118),OxyColor$1.fromRgb(206,75,117),OxyColor$1.fromRgb(207,76,116),OxyColor$1.fromRgb(208,77,115),OxyColor$1.fromRgb(209,78,114),OxyColor$1.fromRgb(210,79,113),OxyColor$1.fromRgb(211,81,113),OxyColor$1.fromRgb(212,82,112),OxyColor$1.fromRgb(213,83,111),OxyColor$1.fromRgb(213,84,110),OxyColor$1.fromRgb(214,85,109),OxyColor$1.fromRgb(215,86,108),OxyColor$1.fromRgb(216,87,107),OxyColor$1.fromRgb(217,88,106),OxyColor$1.fromRgb(218,90,106),OxyColor$1.fromRgb(218,91,105),OxyColor$1.fromRgb(219,92,104),OxyColor$1.fromRgb(220,93,103),OxyColor$1.fromRgb(221,94,102),OxyColor$1.fromRgb(222,95,101),OxyColor$1.fromRgb(222,97,100),OxyColor$1.fromRgb(223,98,99),OxyColor$1.fromRgb(224,99,99),OxyColor$1.fromRgb(225,100,98),OxyColor$1.fromRgb(226,101,97),OxyColor$1.fromRgb(226,102,96),OxyColor$1.fromRgb(227,104,95),OxyColor$1.fromRgb(228,105,94),OxyColor$1.fromRgb(229,106,93),OxyColor$1.fromRgb(229,107,93),OxyColor$1.fromRgb(230,108,92),OxyColor$1.fromRgb(231,110,91),OxyColor$1.fromRgb(231,111,90),OxyColor$1.fromRgb(232,112,89),OxyColor$1.fromRgb(233,113,88),OxyColor$1.fromRgb(233,114,87),OxyColor$1.fromRgb(234,116,87),OxyColor$1.fromRgb(235,117,86),OxyColor$1.fromRgb(235,118,85),OxyColor$1.fromRgb(236,119,84),OxyColor$1.fromRgb(237,121,83),OxyColor$1.fromRgb(237,122,82),OxyColor$1.fromRgb(238,123,81),OxyColor$1.fromRgb(239,124,81),OxyColor$1.fromRgb(239,126,80),OxyColor$1.fromRgb(240,127,79),OxyColor$1.fromRgb(240,128,78),OxyColor$1.fromRgb(241,129,77),OxyColor$1.fromRgb(241,131,76),OxyColor$1.fromRgb(242,132,75),OxyColor$1.fromRgb(243,133,75),OxyColor$1.fromRgb(243,135,74),OxyColor$1.fromRgb(244,136,73),OxyColor$1.fromRgb(244,137,72),OxyColor$1.fromRgb(245,139,71),OxyColor$1.fromRgb(245,140,70),OxyColor$1.fromRgb(246,141,69),OxyColor$1.fromRgb(246,143,68),OxyColor$1.fromRgb(247,144,68),OxyColor$1.fromRgb(247,145,67),OxyColor$1.fromRgb(247,147,66),OxyColor$1.fromRgb(248,148,65),OxyColor$1.fromRgb(248,149,64),OxyColor$1.fromRgb(249,151,63),OxyColor$1.fromRgb(249,152,62),OxyColor$1.fromRgb(249,154,62),OxyColor$1.fromRgb(250,155,61),OxyColor$1.fromRgb(250,156,60),OxyColor$1.fromRgb(250,158,59),OxyColor$1.fromRgb(251,159,58),OxyColor$1.fromRgb(251,161,57),OxyColor$1.fromRgb(251,162,56),OxyColor$1.fromRgb(252,163,56),OxyColor$1.fromRgb(252,165,55),OxyColor$1.fromRgb(252,166,54),OxyColor$1.fromRgb(252,168,53),OxyColor$1.fromRgb(252,169,52),OxyColor$1.fromRgb(253,171,51),OxyColor$1.fromRgb(253,172,51),OxyColor$1.fromRgb(253,174,50),OxyColor$1.fromRgb(253,175,49),OxyColor$1.fromRgb(253,177,48),OxyColor$1.fromRgb(253,178,47),OxyColor$1.fromRgb(253,180,47),OxyColor$1.fromRgb(253,181,46),OxyColor$1.fromRgb(254,183,45),OxyColor$1.fromRgb(254,184,44),OxyColor$1.fromRgb(254,186,44),OxyColor$1.fromRgb(254,187,43),OxyColor$1.fromRgb(254,189,42),OxyColor$1.fromRgb(254,190,42),OxyColor$1.fromRgb(254,192,41),OxyColor$1.fromRgb(253,194,41),OxyColor$1.fromRgb(253,195,40),OxyColor$1.fromRgb(253,197,39),OxyColor$1.fromRgb(253,198,39),OxyColor$1.fromRgb(253,200,39),OxyColor$1.fromRgb(253,202,38),OxyColor$1.fromRgb(253,203,38),OxyColor$1.fromRgb(252,205,37),OxyColor$1.fromRgb(252,206,37),OxyColor$1.fromRgb(252,208,37),OxyColor$1.fromRgb(252,210,37),OxyColor$1.fromRgb(251,211,36),OxyColor$1.fromRgb(251,213,36),OxyColor$1.fromRgb(251,215,36),OxyColor$1.fromRgb(250,216,36),OxyColor$1.fromRgb(250,218,36),OxyColor$1.fromRgb(249,220,36),OxyColor$1.fromRgb(249,221,37),OxyColor$1.fromRgb(248,223,37),OxyColor$1.fromRgb(248,225,37),OxyColor$1.fromRgb(247,226,37),OxyColor$1.fromRgb(247,228,37),OxyColor$1.fromRgb(246,230,38),OxyColor$1.fromRgb(246,232,38),OxyColor$1.fromRgb(245,233,38),OxyColor$1.fromRgb(245,235,39),OxyColor$1.fromRgb(244,237,39),OxyColor$1.fromRgb(243,238,39),OxyColor$1.fromRgb(243,240,39),OxyColor$1.fromRgb(242,242,39),OxyColor$1.fromRgb(241,244,38),OxyColor$1.fromRgb(241,245,37),OxyColor$1.fromRgb(240,247,36),OxyColor$1.fromRgb(240,249,33)],viridisColors$1=[OxyColor$1.fromRgb(68,1,84),OxyColor$1.fromRgb(68,2,86),OxyColor$1.fromRgb(69,4,87),OxyColor$1.fromRgb(69,5,89),OxyColor$1.fromRgb(70,7,90),OxyColor$1.fromRgb(70,8,92),OxyColor$1.fromRgb(70,10,93),OxyColor$1.fromRgb(70,11,94),OxyColor$1.fromRgb(71,13,96),OxyColor$1.fromRgb(71,14,97),OxyColor$1.fromRgb(71,16,99),OxyColor$1.fromRgb(71,17,100),OxyColor$1.fromRgb(71,19,101),OxyColor$1.fromRgb(72,20,103),OxyColor$1.fromRgb(72,22,104),OxyColor$1.fromRgb(72,23,105),OxyColor$1.fromRgb(72,24,106),OxyColor$1.fromRgb(72,26,108),OxyColor$1.fromRgb(72,27,109),OxyColor$1.fromRgb(72,28,110),OxyColor$1.fromRgb(72,29,111),OxyColor$1.fromRgb(72,31,112),OxyColor$1.fromRgb(72,32,113),OxyColor$1.fromRgb(72,33,115),OxyColor$1.fromRgb(72,35,116),OxyColor$1.fromRgb(72,36,117),OxyColor$1.fromRgb(72,37,118),OxyColor$1.fromRgb(72,38,119),OxyColor$1.fromRgb(72,40,120),OxyColor$1.fromRgb(72,41,121),OxyColor$1.fromRgb(71,42,122),OxyColor$1.fromRgb(71,44,122),OxyColor$1.fromRgb(71,45,123),OxyColor$1.fromRgb(71,46,124),OxyColor$1.fromRgb(71,47,125),OxyColor$1.fromRgb(70,48,126),OxyColor$1.fromRgb(70,50,126),OxyColor$1.fromRgb(70,51,127),OxyColor$1.fromRgb(70,52,128),OxyColor$1.fromRgb(69,53,129),OxyColor$1.fromRgb(69,55,129),OxyColor$1.fromRgb(69,56,130),OxyColor$1.fromRgb(68,57,131),OxyColor$1.fromRgb(68,58,131),OxyColor$1.fromRgb(68,59,132),OxyColor$1.fromRgb(67,61,132),OxyColor$1.fromRgb(67,62,133),OxyColor$1.fromRgb(66,63,133),OxyColor$1.fromRgb(66,64,134),OxyColor$1.fromRgb(66,65,134),OxyColor$1.fromRgb(65,66,135),OxyColor$1.fromRgb(65,68,135),OxyColor$1.fromRgb(64,69,136),OxyColor$1.fromRgb(64,70,136),OxyColor$1.fromRgb(63,71,136),OxyColor$1.fromRgb(63,72,137),OxyColor$1.fromRgb(62,73,137),OxyColor$1.fromRgb(62,74,137),OxyColor$1.fromRgb(62,76,138),OxyColor$1.fromRgb(61,77,138),OxyColor$1.fromRgb(61,78,138),OxyColor$1.fromRgb(60,79,138),OxyColor$1.fromRgb(60,80,139),OxyColor$1.fromRgb(59,81,139),OxyColor$1.fromRgb(59,82,139),OxyColor$1.fromRgb(58,83,139),OxyColor$1.fromRgb(58,84,140),OxyColor$1.fromRgb(57,85,140),OxyColor$1.fromRgb(57,86,140),OxyColor$1.fromRgb(56,88,140),OxyColor$1.fromRgb(56,89,140),OxyColor$1.fromRgb(55,90,140),OxyColor$1.fromRgb(55,91,141),OxyColor$1.fromRgb(54,92,141),OxyColor$1.fromRgb(54,93,141),OxyColor$1.fromRgb(53,94,141),OxyColor$1.fromRgb(53,95,141),OxyColor$1.fromRgb(52,96,141),OxyColor$1.fromRgb(52,97,141),OxyColor$1.fromRgb(51,98,141),OxyColor$1.fromRgb(51,99,141),OxyColor$1.fromRgb(50,100,142),OxyColor$1.fromRgb(50,101,142),OxyColor$1.fromRgb(49,102,142),OxyColor$1.fromRgb(49,103,142),OxyColor$1.fromRgb(49,104,142),OxyColor$1.fromRgb(48,105,142),OxyColor$1.fromRgb(48,106,142),OxyColor$1.fromRgb(47,107,142),OxyColor$1.fromRgb(47,108,142),OxyColor$1.fromRgb(46,109,142),OxyColor$1.fromRgb(46,110,142),OxyColor$1.fromRgb(46,111,142),OxyColor$1.fromRgb(45,112,142),OxyColor$1.fromRgb(45,113,142),OxyColor$1.fromRgb(44,113,142),OxyColor$1.fromRgb(44,114,142),OxyColor$1.fromRgb(44,115,142),OxyColor$1.fromRgb(43,116,142),OxyColor$1.fromRgb(43,117,142),OxyColor$1.fromRgb(42,118,142),OxyColor$1.fromRgb(42,119,142),OxyColor$1.fromRgb(42,120,142),OxyColor$1.fromRgb(41,121,142),OxyColor$1.fromRgb(41,122,142),OxyColor$1.fromRgb(41,123,142),OxyColor$1.fromRgb(40,124,142),OxyColor$1.fromRgb(40,125,142),OxyColor$1.fromRgb(39,126,142),OxyColor$1.fromRgb(39,127,142),OxyColor$1.fromRgb(39,128,142),OxyColor$1.fromRgb(38,129,142),OxyColor$1.fromRgb(38,130,142),OxyColor$1.fromRgb(38,130,142),OxyColor$1.fromRgb(37,131,142),OxyColor$1.fromRgb(37,132,142),OxyColor$1.fromRgb(37,133,142),OxyColor$1.fromRgb(36,134,142),OxyColor$1.fromRgb(36,135,142),OxyColor$1.fromRgb(35,136,142),OxyColor$1.fromRgb(35,137,142),OxyColor$1.fromRgb(35,138,141),OxyColor$1.fromRgb(34,139,141),OxyColor$1.fromRgb(34,140,141),OxyColor$1.fromRgb(34,141,141),OxyColor$1.fromRgb(33,142,141),OxyColor$1.fromRgb(33,143,141),OxyColor$1.fromRgb(33,144,141),OxyColor$1.fromRgb(33,145,140),OxyColor$1.fromRgb(32,146,140),OxyColor$1.fromRgb(32,146,140),OxyColor$1.fromRgb(32,147,140),OxyColor$1.fromRgb(31,148,140),OxyColor$1.fromRgb(31,149,139),OxyColor$1.fromRgb(31,150,139),OxyColor$1.fromRgb(31,151,139),OxyColor$1.fromRgb(31,152,139),OxyColor$1.fromRgb(31,153,138),OxyColor$1.fromRgb(31,154,138),OxyColor$1.fromRgb(30,155,138),OxyColor$1.fromRgb(30,156,137),OxyColor$1.fromRgb(30,157,137),OxyColor$1.fromRgb(31,158,137),OxyColor$1.fromRgb(31,159,136),OxyColor$1.fromRgb(31,160,136),OxyColor$1.fromRgb(31,161,136),OxyColor$1.fromRgb(31,161,135),OxyColor$1.fromRgb(31,162,135),OxyColor$1.fromRgb(32,163,134),OxyColor$1.fromRgb(32,164,134),OxyColor$1.fromRgb(33,165,133),OxyColor$1.fromRgb(33,166,133),OxyColor$1.fromRgb(34,167,133),OxyColor$1.fromRgb(34,168,132),OxyColor$1.fromRgb(35,169,131),OxyColor$1.fromRgb(36,170,131),OxyColor$1.fromRgb(37,171,130),OxyColor$1.fromRgb(37,172,130),OxyColor$1.fromRgb(38,173,129),OxyColor$1.fromRgb(39,173,129),OxyColor$1.fromRgb(40,174,128),OxyColor$1.fromRgb(41,175,127),OxyColor$1.fromRgb(42,176,127),OxyColor$1.fromRgb(44,177,126),OxyColor$1.fromRgb(45,178,125),OxyColor$1.fromRgb(46,179,124),OxyColor$1.fromRgb(47,180,124),OxyColor$1.fromRgb(49,181,123),OxyColor$1.fromRgb(50,182,122),OxyColor$1.fromRgb(52,182,121),OxyColor$1.fromRgb(53,183,121),OxyColor$1.fromRgb(55,184,120),OxyColor$1.fromRgb(56,185,119),OxyColor$1.fromRgb(58,186,118),OxyColor$1.fromRgb(59,187,117),OxyColor$1.fromRgb(61,188,116),OxyColor$1.fromRgb(63,188,115),OxyColor$1.fromRgb(64,189,114),OxyColor$1.fromRgb(66,190,113),OxyColor$1.fromRgb(68,191,112),OxyColor$1.fromRgb(70,192,111),OxyColor$1.fromRgb(72,193,110),OxyColor$1.fromRgb(74,193,109),OxyColor$1.fromRgb(76,194,108),OxyColor$1.fromRgb(78,195,107),OxyColor$1.fromRgb(80,196,106),OxyColor$1.fromRgb(82,197,105),OxyColor$1.fromRgb(84,197,104),OxyColor$1.fromRgb(86,198,103),OxyColor$1.fromRgb(88,199,101),OxyColor$1.fromRgb(90,200,100),OxyColor$1.fromRgb(92,200,99),OxyColor$1.fromRgb(94,201,98),OxyColor$1.fromRgb(96,202,96),OxyColor$1.fromRgb(99,203,95),OxyColor$1.fromRgb(101,203,94),OxyColor$1.fromRgb(103,204,92),OxyColor$1.fromRgb(105,205,91),OxyColor$1.fromRgb(108,205,90),OxyColor$1.fromRgb(110,206,88),OxyColor$1.fromRgb(112,207,87),OxyColor$1.fromRgb(115,208,86),OxyColor$1.fromRgb(117,208,84),OxyColor$1.fromRgb(119,209,83),OxyColor$1.fromRgb(122,209,81),OxyColor$1.fromRgb(124,210,80),OxyColor$1.fromRgb(127,211,78),OxyColor$1.fromRgb(129,211,77),OxyColor$1.fromRgb(132,212,75),OxyColor$1.fromRgb(134,213,73),OxyColor$1.fromRgb(137,213,72),OxyColor$1.fromRgb(139,214,70),OxyColor$1.fromRgb(142,214,69),OxyColor$1.fromRgb(144,215,67),OxyColor$1.fromRgb(147,215,65),OxyColor$1.fromRgb(149,216,64),OxyColor$1.fromRgb(152,216,62),OxyColor$1.fromRgb(155,217,60),OxyColor$1.fromRgb(157,217,59),OxyColor$1.fromRgb(160,218,57),OxyColor$1.fromRgb(162,218,55),OxyColor$1.fromRgb(165,219,54),OxyColor$1.fromRgb(168,219,52),OxyColor$1.fromRgb(170,220,50),OxyColor$1.fromRgb(173,220,48),OxyColor$1.fromRgb(176,221,47),OxyColor$1.fromRgb(178,221,45),OxyColor$1.fromRgb(181,222,43),OxyColor$1.fromRgb(184,222,41),OxyColor$1.fromRgb(186,222,40),OxyColor$1.fromRgb(189,223,38),OxyColor$1.fromRgb(192,223,37),OxyColor$1.fromRgb(194,223,35),OxyColor$1.fromRgb(197,224,33),OxyColor$1.fromRgb(200,224,32),OxyColor$1.fromRgb(202,225,31),OxyColor$1.fromRgb(205,225,29),OxyColor$1.fromRgb(208,225,28),OxyColor$1.fromRgb(210,226,27),OxyColor$1.fromRgb(213,226,26),OxyColor$1.fromRgb(216,226,25),OxyColor$1.fromRgb(218,227,25),OxyColor$1.fromRgb(221,227,24),OxyColor$1.fromRgb(223,227,24),OxyColor$1.fromRgb(226,228,24),OxyColor$1.fromRgb(229,228,25),OxyColor$1.fromRgb(231,228,25),OxyColor$1.fromRgb(234,229,26),OxyColor$1.fromRgb(236,229,27),OxyColor$1.fromRgb(239,229,28),OxyColor$1.fromRgb(241,229,29),OxyColor$1.fromRgb(244,230,30),OxyColor$1.fromRgb(246,230,32),OxyColor$1.fromRgb(248,230,33),OxyColor$1.fromRgb(251,231,35),OxyColor$1.fromRgb(253,231,37)];let Element$1=class{constructor(e){D$2(this,"parent"),D$2(this,"keyDown"),D$2(this,"mouseDown"),D$2(this,"mouseMove"),D$2(this,"mouseUp"),D$2(this,"touchStarted"),D$2(this,"touchDelta"),D$2(this,"touchCompleted"),D$2(this,"selection"),D$2(this,"selectionChanged"),D$2(this,"selectable",!0),D$2(this,"selectionMode",SelectionMode$1.All)}hitTest(e){return this.hitTestOverride(e)}hitTestOverride(e){}onMouseDown(e){this.mouseDown&&this.mouseDown(this,e)}onMouseMove(e){this.mouseMove&&this.mouseMove(this,e)}onKeyDown(e){this.keyDown&&this.keyDown(this,e)}onMouseUp(e){this.mouseUp&&this.mouseUp(this,e)}onTouchStarted(e){this.touchStarted&&this.touchStarted(this,e)}onTouchDelta(e){this.touchDelta&&this.touchDelta(this,e)}onTouchCompleted(e){this.touchCompleted&&this.touchCompleted(this,e)}get actualSelectedColor(){return this.parent?this.parent.selectionColor.getActualColor(Model$1.DefaultSelectionColor):Model$1.DefaultSelectionColor}isSelected(){return!!this.selection}getSelectedItems(){return this.ensureSelection(),this.selection.getSelectedItems()}clearSelection(){this.selection=void 0,this.onSelectionChanged()}unselect(){this.selection=void 0,this.onSelectionChanged()}isItemSelected(e){return this.selection?e===-1?this.selection.isEverythingSelected():this.selection.isItemSelected(e):!1}select(){this.selection=Selection$1.Everything,this.onSelectionChanged()}selectItem(e){if(this.selectionMode===SelectionMode$1.All)throw new Error("Use the select() method when using SelectionMode.All");this.ensureSelection(),this.selectionMode===SelectionMode$1.Single&&this.selection.clear(),this.selection.select(e),this.onSelectionChanged()}unselectItem(e){if(this.selectionMode===SelectionMode$1.All)throw new Error("Use the unselect() method when using SelectionMode.All");this.ensureSelection(),this.selection.unselect(e),this.onSelectionChanged()}getSelectableColor(e,t=-1){return e.isUndefined()?OxyColors$1.Undefined:this.isItemSelected(t)?this.actualSelectedColor:e}getSelectableFillColor(e,t=-1){return this.getSelectableColor(e,t)}ensureSelection(){this.selection=this.selection||new Selection$1}onSelectionChanged(e){this.selectionChanged&&this.selectionChanged(this,e)}},PlotElement$1=class extends Element$1{constructor(e){super(e),D$2(this,"font"),D$2(this,"fontSize",NaN),D$2(this,"fontWeight",FontWeights$1.Normal),D$2(this,"tag"),D$2(this,"textColor"),D$2(this,"edgeRenderingMode"),D$2(this,"toolTip"),D$2(this,"_plotElementId"),this.fontSize=NaN,this.fontWeight=FontWeights$1.Normal,this.textColor=OxyColors$1.Automatic,this.edgeRenderingMode=EdgeRenderingMode$1.Automatic}get plotModel(){return this.parent}get actualFont(){return this.font||this.plotModel.defaultFont}get actualFontSize(){return isNaN(this.fontSize)?this.plotModel.defaultFontSize:this.fontSize}get actualFontWeight(){return this.fontWeight}get actualTextColor(){return this.textColor.getActualColor(this.plotModel.textColor)}getClippingRect(){return OxyRect$1.Everything}getElementHashCode(){return isUndef$1(this._plotElementId)&&(plotElementId$1++,this._plotElementId=plotElementId$1),this._plotElementId}},plotElementId$1=0;var AnnotationLayer=($e=>($e[$e.BelowAxes=0]="BelowAxes",$e[$e.BelowSeries=1]="BelowSeries",$e[$e.AboveSeries=2]="AboveSeries",$e))(AnnotationLayer||{}),AnnotationTextOrientation=($e=>($e[$e.Horizontal=0]="Horizontal",$e[$e.Vertical=1]="Vertical",$e[$e.AlongLine=2]="AlongLine",$e))(AnnotationTextOrientation||{});class Annotation extends PlotElement$1{constructor(e){super(),D$2(this,"layer"),D$2(this,"_xAxis"),D$2(this,"xAxisKey"),D$2(this,"_yAxis"),D$2(this,"clipByXAxis"),D$2(this,"clipByYAxis"),D$2(this,"yAxisKey"),this.layer=AnnotationLayer.AboveSeries,this.clipByXAxis=!0,this.clipByYAxis=!0,e&&(e.xAxis&&(this._xAxis=e.xAxis),e.yAxis&&(this._yAxis=e.yAxis))}get xAxis(){return this._xAxis}get yAxis(){return this._yAxis}ensureAxes(){this._xAxis=this.xAxisKey?this.plotModel.getAxis(this.xAxisKey):this.plotModel.defaultXAxis,this._yAxis=this.yAxisKey?this.plotModel.getAxis(this.yAxisKey):this.plotModel.defaultYAxis}getClippingRect(){const e=this.plotModel.plotArea,t=PlotElementUtilities$1.getClippingRect(this);let r=0,Ve=Number.POSITIVE_INFINITY,je=0,ze=Number.POSITIVE_INFINITY;this.clipByXAxis&&(r=t.topLeft.x,Ve=t.bottomRight.x),this.clipByYAxis&&(je=t.topLeft.y,ze=t.bottomRight.y);const Xe=newScreenPoint$1(r,je),We=newScreenPoint$1(Ve,ze),qe=OxyRect$1.fromScreenPoints(Xe,We);return e.clip(qe)}transform(e){return PlotElementUtilities$1.transform(this,e)}inverseTransform(e){return PlotElementUtilities$1.inverseTransform(this,e)}}class TransposableAnnotation extends Annotation{constructor(e){super(e),setTransposablePlotElement$1(this)}getClippingRect(){const e=this.plotModel.plotArea,t=PlotElementUtilities$1.getClippingRect(this);let r=0,Ve=Number.POSITIVE_INFINITY,je=0,ze=Number.POSITIVE_INFINITY;this.clipByXAxis&&(r=PlotElementExtensions$1.orientate(this,t.topLeft).x,Ve=PlotElementExtensions$1.orientate(this,t.bottomRight).x),this.clipByYAxis&&(je=PlotElementExtensions$1.orientate(this,t.topLeft).y,ze=PlotElementExtensions$1.orientate(this,t.bottomRight).y);const Xe=PlotElementExtensions$1.orientate(this,newScreenPoint$1(r,je)),We=PlotElementExtensions$1.orientate(this,newScreenPoint$1(Ve,ze)),qe=OxyRect$1.fromScreenPoints(Xe,We);return e.clip(qe)}transform(e){return PlotElementUtilities$1.transformOrientated(this,e)}inverseTransform(e){return PlotElementUtilities$1.inverseTransformOrientated(this,e)}}class TextualAnnotation extends TransposableAnnotation{constructor(e){super(e),D$2(this,"text"),D$2(this,"textPosition"),D$2(this,"textHorizontalAlignment"),D$2(this,"textVerticalAlignment"),D$2(this,"textRotation"),this.textHorizontalAlignment=HorizontalAlignment$1.Center,this.textVerticalAlignment=VerticalAlignment$1.Middle,this.textPosition=DataPoint_Undefined$1,this.textRotation=0}getActualTextPosition(e){return DataPoint_isDefined$1(this.textPosition)?this.transform(this.textPosition):e()}getActualTextAlignment(){return[this.textHorizontalAlignment,this.textVerticalAlignment]}}class TextAnnotation extends TextualAnnotation{constructor(e){super(e),D$2(this,"actualBounds"),D$2(this,"background"),D$2(this,"offset",ScreenVector$1.Zero),D$2(this,"padding"),D$2(this,"stroke"),D$2(this,"strokeThickness"),this.stroke=OxyColors$1.Black,this.background=OxyColors$1.Undefined,this.strokeThickness=1,this.textVerticalAlignment=VerticalAlignment$1.Bottom,this.padding=new OxyThickness$1(4),e&&Object.assign(this,removeUndef$1(e))}async render(e){if(!this.text)throw new Error("text must be non-undefined before rendering.");const t=screenPointPlus$1(this.transform(this.textPosition),PlotElementExtensions$1.orientateVector(this,this.offset)),r=e.measureText(this.text,this.actualFont,this.actualFontSize,this.actualFontWeight),[Ve,je]=this.getActualTextAlignment();if(this.actualBounds=TextAnnotation.getTextBounds(t,r,this.padding,this.textRotation,Ve,je),this.textRotation%90===0){const ze=OxyRect$1.fromScreenPoints(this.actualBounds[0],this.actualBounds[2]);await e.drawRectangle(ze,this.background,this.stroke,this.strokeThickness,this.edgeRenderingMode)}else await e.drawPolygon(this.actualBounds,this.background,this.stroke,this.strokeThickness,this.edgeRenderingMode);await MathRenderingExtensions$1.drawMathText(e,t,this.text,this.getSelectableFillColor(this.actualTextColor),this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,Ve,je)}hitTestOverride(e){if(this.actualBounds)return ScreenPointHelper$1.isPointInPolygon(e.point,this.actualBounds)?{element:this,nearestHitPoint:e.point}:void 0}static getTextBounds(e,t,r,Ve,je,ze){let Xe,We,qe,Ke;switch(je){case HorizontalAlignment$1.Center:Xe=-t.width*.5,We=-Xe;break;case HorizontalAlignment$1.Right:Xe=-t.width,We=0;break;default:Xe=0,We=t.width;break}switch(ze){case VerticalAlignment$1.Middle:qe=-t.height*.5,Ke=-qe;break;case VerticalAlignment$1.Bottom:qe=-t.height,Ke=0;break;default:qe=0,Ke=t.height;break}const Ze=Math.cos(Ve/180*Math.PI),Je=Math.sin(Ve/180*Math.PI),Qe=new ScreenVector$1(Ze,Je),ti=new ScreenVector$1(-Je,Ze),ni=new Array(4);return ni[0]=screenPointPlus$1(screenPointPlus$1(e,Qe.times(Xe-r.left)),ti.times(qe-r.top)),ni[1]=screenPointPlus$1(screenPointPlus$1(e,Qe.times(We+r.right)),ti.times(qe-r.top)),ni[2]=screenPointPlus$1(screenPointPlus$1(e,Qe.times(We+r.right)),ti.times(Ke+r.bottom)),ni[3]=screenPointPlus$1(screenPointPlus$1(e,Qe.times(Xe-r.left)),ti.times(Ke+r.bottom)),ni}}class PathAnnotation extends TextualAnnotation{constructor(e){super(e),D$2(this,"screenPoints"),D$2(this,"color"),D$2(this,"lineJoin"),D$2(this,"lineStyle"),D$2(this,"maximumX"),D$2(this,"maximumY"),D$2(this,"minimumX"),D$2(this,"minimumY"),D$2(this,"strokeThickness"),D$2(this,"textMargin"),D$2(this,"textPadding",0),D$2(this,"borderPadding",OxyThickness$1.Zero),D$2(this,"borderBackground",OxyColors$1.Undefined),D$2(this,"borderStroke",OxyColors$1.Undefined),D$2(this,"borderStrokeThickness",0),D$2(this,"textOrientation"),D$2(this,"textLinePosition"),D$2(this,"minimumSegmentLength"),D$2(this,"actualMinimumX",NaN),D$2(this,"actualMinimumY",NaN),D$2(this,"actualMaximumX",NaN),D$2(this,"actualMaximumY",NaN),this.minimumX=Number_MIN_VALUE$1,this.maximumX=Number_MAX_VALUE$1,this.minimumY=Number_MIN_VALUE$1,this.maximumY=Number_MAX_VALUE$1,this.color=OxyColors$1.Blue,this.strokeThickness=1,this.lineStyle=LineStyle$1.Dash,this.lineJoin=LineJoin$1.Miter,this.textLinePosition=1,this.textOrientation=AnnotationTextOrientation.AlongLine,this.textMargin=12,this.textHorizontalAlignment=HorizontalAlignment$1.Right,this.textVerticalAlignment=VerticalAlignment$1.Top,this.minimumSegmentLength=2}async render(e){if(this.calculateActualMinimumsMaximums(),this.actualMinimumX>this.actualMaximumX||this.actualMinimumY>this.actualMaximumY)return;this.screenPoints=this.getScreenPoints();const t=[],r=LineStyleHelper$1.getDashArray(this.lineStyle);this.strokeThickness>0&&this.lineStyle!==LineStyle$1.None&&await RenderingExtensions$1.drawReducedLine(e,this.screenPoints,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(this.color),this.strokeThickness,this.edgeRenderingMode,r,this.lineJoin,void 0,Qe=>t.push(...Qe));let Ve=this.textMargin;const[je,ze]=this.getActualTextAlignment(),Xe=PlotElementExtensions$1.isTransposed(this)?this.yAxis.isReversed?1-this.textLinePosition:this.textLinePosition:this.xAxis.isReversed?1-this.textLinePosition:this.textLinePosition;je===HorizontalAlignment$1.Center?Ve=0:Ve*=Xe<.5?1:-1;const We=PathAnnotation.getPointAtRelativeDistance(t,Xe,Ve);if(!We)return;let{position:qe,angle:Ke}=We;switch(Ke<-90&&(Ke+=180),Ke>=90&&(Ke-=180),this.textOrientation){case AnnotationTextOrientation.Horizontal:Ke=0;break;case AnnotationTextOrientation.Vertical:Ke=-90;break}const Ze=Ke/180*Math.PI;let Je=1;if(je===HorizontalAlignment$1.Right&&(Je=-1),je===HorizontalAlignment$1.Center&&(Je=0),qe=screenPointPlus$1(qe,new ScreenVector$1(Je*this.textPadding*Math.cos(Ze),Je*this.textPadding*Math.sin(Ze))),this.text){const Qe=this.getActualTextPosition(()=>qe);DataPoint_isDefined$1(this.textPosition)&&(Ke=this.textRotation);const ti=e.measureText(this.text,this.actualFont,this.actualFontSize,this.actualFontWeight),ni=TextAnnotation.getTextBounds(qe,ti,this.borderPadding,Ke,je,ze);if(Ke%90==0){const ri=OxyRect$1.fromScreenPoints(ni[0],ni[2]);await e.drawRectangle(ri,this.borderBackground,this.borderStroke,this.borderStrokeThickness,this.edgeRenderingMode)}else await e.drawPolygon(ni,this.borderBackground,this.borderStroke,this.borderStrokeThickness,this.edgeRenderingMode);await e.drawText(Qe,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,Ke,je,ze)}}hitTestOverride(e){if(!this.screenPoints)return;const t=ScreenPointHelper$1.findNearestPointOnPolyline(e.point,this.screenPoints);if(screenPointMinus$1(e.point,t).length<e.tolerance)return{element:this,nearestHitPoint:t}}calculateActualMinimumsMaximums(){if(!this.xAxis)throw new Error("xAxis is undefined.");if(!this.yAxis)throw new Error("yAxis is undefined.");this.actualMinimumX=Math.max(this.minimumX,this.xAxis.clipMinimum),this.actualMaximumX=Math.min(this.maximumX,this.xAxis.clipMaximum),this.actualMinimumY=Math.max(this.minimumY,this.yAxis.clipMinimum),this.actualMaximumY=Math.min(this.maximumY,this.yAxis.clipMaximum);const e=this.inverseTransform(this.plotModel.plotArea.topLeft),t=this.inverseTransform(this.plotModel.plotArea.bottomRight);this.clipByXAxis||(this.actualMaximumX=Math.max(e.x,t.x),this.actualMinimumX=Math.min(e.x,t.x)),this.clipByYAxis||(this.actualMaximumY=Math.max(e.y,t.y),this.actualMinimumY=Math.min(e.y,t.y))}static getPointAtRelativeDistance(e,t,r){if(!e||e.length===0)return;let Ve=0;for(let Xe=1;Xe<e.length;Xe++)Ve+=screenPointMinus$1(e[Xe],e[Xe-1]).length;const je=Ve*t+r,ze=1e-8;Ve=0;for(let Xe=1;Xe<e.length;Xe++){const We=screenPointMinus$1(e[Xe],e[Xe-1]).length;if(je>=Ve-ze&&je<=Ve+We+ze){const qe=(je-Ve)/We,Ke=e[Xe].x*qe+e[Xe-1].x*(1-qe),Ze=e[Xe].y*qe+e[Xe-1].y*(1-qe),Je=newScreenPoint$1(Ke,Ze),Qe=e[Xe].x-e[Xe-1].x,ti=e[Xe].y-e[Xe-1].y,ni=Math.atan2(ti,Qe)/Math.PI*180;return{position:Je,angle:ni}}Ve+=We}}}var LineAnnotationType=($e=>($e[$e.Horizontal=0]="Horizontal",$e[$e.Vertical=1]="Vertical",$e[$e.LinearEquation=2]="LinearEquation",$e))(LineAnnotationType||{});class LineAnnotation extends PathAnnotation{constructor(e){super(e),D$2(this,"intercept",0),D$2(this,"slope",0),D$2(this,"type"),D$2(this,"x",0),D$2(this,"y",0),this.type=2,e&&Object.assign(this,removeUndef$1(e))}getScreenPoints(){let e,t;switch(this.type){case 0:e=Ve=>this.y;break;case 1:t=Ve=>this.x;break;default:e=Ve=>this.slope*Ve+this.intercept;break}const r=[];if(this.xAxis instanceof LinearAxis$1&&this.yAxis instanceof LinearAxis$1)if(e)r.push(newDataPoint$1(this.actualMinimumX,e(this.actualMinimumX))),r.push(newDataPoint$1(this.actualMaximumX,e(this.actualMaximumX)));else if(t)r.push(newDataPoint$1(t(this.actualMinimumY),this.actualMinimumY)),r.push(newDataPoint$1(t(this.actualMaximumY),this.actualMaximumY));else throw new Error("fx or fy must be non-undefined.");else if(e){const Ve=(this.actualMaximumX-this.actualMinimumX)/100;for(let je=0;je<=100;je++){const ze=this.actualMinimumX+je*Ve;r.push(newDataPoint$1(ze,e(ze)))}}else if(t){const Ve=(this.actualMaximumY-this.actualMinimumY)/100;for(let je=0;je<=100;je++){const ze=this.actualMinimumY+je*Ve;r.push(newDataPoint$1(t(ze),ze))}}return r.map(Ve=>this.transform(Ve))}}class ShapeAnnotation extends TextualAnnotation{constructor(e){super(e),D$2(this,"fill"),D$2(this,"stroke"),D$2(this,"strokeThickness",0),this.stroke=OxyColors$1.Black,this.fill=OxyColors$1.LightBlue}}class PointAnnotation extends ShapeAnnotation{constructor(e){super(e),D$2(this,"screenPosition",ScreenPoint_LeftTop$1),D$2(this,"x",0),D$2(this,"y",0),D$2(this,"size"),D$2(this,"textMargin"),D$2(this,"shape"),D$2(this,"customOutline"),this.size=4,this.textMargin=2,this.shape=MarkerType$1.Circle,this.textVerticalAlignment=VerticalAlignment$1.Top,e&&Object.assign(this,removeUndef$1(e))}async render(e){if(this.screenPosition=PlotElementExtensions$1.transform(this,this.x,this.y),await RenderingExtensions$1.drawMarker(e,this.screenPosition,this.shape,this.customOutline,this.size,this.fill,this.stroke,this.strokeThickness,this.edgeRenderingMode),this.text){const[t,r]=this.getActualTextAlignment(),Ve=-Number(t)*(this.size+this.textMargin),je=-Number(r)*(this.size+this.textMargin),ze=screenPointPlus$1(this.screenPosition,new ScreenVector$1(Ve,je));await e.drawText(ze,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,t,r)}}hitTestOverride(e){if(screenPointDistanceTo$1(this.screenPosition,e.point)<this.size)return{element:this,nearestHitPoint:this.screenPosition}}}class FunctionAnnotation extends PathAnnotation{constructor(e){super(e),D$2(this,"type"),D$2(this,"equation"),D$2(this,"resolution"),this.resolution=400,this.type=0,e&&Object.assign(this,removeUndef$1(e))}getScreenPoints(){let e,t;switch(this.type){case 0:e=this.equation;break;case 1:t=this.equation;break}const r=[];if(e){let Ve=this.actualMinimumX;const je=(this.actualMaximumX-this.actualMinimumX)/this.resolution;for(;r.push(newDataPoint$1(Ve,e(Ve))),!(Ve>this.actualMaximumX);)Ve+=je}else if(t){let Ve=this.actualMinimumY;const je=(this.actualMaximumY-this.actualMinimumY)/this.resolution;for(;r.push(newDataPoint$1(t(Ve),Ve)),!(Ve>this.actualMaximumY);)Ve+=je}return r.map(Ve=>this.transform(Ve))}}var FunctionAnnotationType=($e=>($e[$e.EquationX=0]="EquationX",$e[$e.EquationY=1]="EquationY",$e))(FunctionAnnotationType||{});class ArrowAnnotation extends TextualAnnotation{constructor(e){super(),D$2(this,"screenEndPoint",ScreenPoint_LeftTop$1),D$2(this,"screenStartPoint",ScreenPoint_LeftTop$1),D$2(this,"arrowDirection",ScreenVector$1.Zero),D$2(this,"color"),D$2(this,"endPoint",DataPoint_Zero$1),D$2(this,"headLength"),D$2(this,"headWidth"),D$2(this,"lineJoin"),D$2(this,"lineStyle"),D$2(this,"startPoint",DataPoint_Zero$1),D$2(this,"strokeThickness"),D$2(this,"veeness",0),this.headLength=10,this.headWidth=3,this.color=OxyColors$1.Blue,this.strokeThickness=2,this.lineStyle=LineStyle$1.Solid,this.lineJoin=LineJoin$1.Miter,e&&Object.assign(this,removeUndef$1(e))}async render(e){this.screenEndPoint=this.transform(this.endPoint),this.arrowDirection.lengthSquared>0?this.screenStartPoint=screenPointMinusVector$1(this.screenEndPoint,PlotElementExtensions$1.orientateVector(this,this.arrowDirection)):this.screenStartPoint=this.transform(this.startPoint);const t=screenPointMinus$1(this.screenEndPoint,this.screenStartPoint);t.normalize();const r=new ScreenVector$1(t.y,-t.x),Ve=screenPointMinusVector$1(this.screenEndPoint,t.times(this.headLength*this.strokeThickness)),je=screenPointPlus$1(Ve,r.times(this.headWidth*this.strokeThickness)),ze=screenPointMinusVector$1(Ve,r.times(this.headWidth*this.strokeThickness)),Xe=screenPointPlus$1(Ve,t.times(this.veeness*this.strokeThickness)),We=0,qe=LineStyleHelper$1.getDashArray(this.lineStyle);if(this.strokeThickness>0&&this.lineStyle!==LineStyle$1.None&&(await RenderingExtensions$1.drawReducedLine(e,[this.screenStartPoint,Xe],We*We,this.getSelectableColor(this.color),this.strokeThickness,this.edgeRenderingMode,qe,this.lineJoin),await RenderingExtensions$1.drawReducedPolygon(e,[ze,this.screenEndPoint,je,Xe],We*We,this.getSelectableColor(this.color),OxyColors$1.Undefined,0,this.edgeRenderingMode)),!this.text)return;let Ke,Ze;if(DataPoint_isDefined$1(this.textPosition))[Ke,Ze]=this.getActualTextAlignment();else{const Qe=Math.atan2(t.y,t.x),ti=Math.PI/8;Qe<3*ti&&Qe>-3*ti?Ke=HorizontalAlignment$1.Right:Qe>5*ti||Qe<-5*ti?Ke=HorizontalAlignment$1.Left:Ke=HorizontalAlignment$1.Center,Qe>ti&&Qe<7*ti?Ze=VerticalAlignment$1.Bottom:Qe<-ti&&Qe>-7*ti?Ze=VerticalAlignment$1.Top:Ze=VerticalAlignment$1.Middle}const Je=this.getActualTextPosition(()=>this.screenStartPoint);await e.drawText(Je,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,Ke,Ze)}hitTestOverride(e){if(screenPointMinus$1(e.point,this.screenStartPoint).length<e.tolerance)return{element:this,nearestHitPoint:this.screenStartPoint,index:0};if(screenPointMinus$1(e.point,this.screenEndPoint).length<e.tolerance)return{element:this,nearestHitPoint:this.screenEndPoint,index:2};const t=ScreenPointHelper$1.findPointOnLine(e.point,this.screenStartPoint,this.screenEndPoint);if(screenPointMinus$1(t,e.point).length<e.tolerance)return{element:this,nearestHitPoint:t}}}class DelegateAnnotation extends Annotation{constructor(e){super(),D$2(this,"rendering"),this.rendering=e}async render(e){await this.rendering(e)}getClippingRect(){return OxyRect$1.Everything}}class EllipseAnnotation extends ShapeAnnotation{constructor(e){super(e),D$2(this,"screenRectangle",OxyRect$1.Empty),D$2(this,"x",0),D$2(this,"y",0),D$2(this,"width",0),D$2(this,"height",0),this.width=NaN,this.height=NaN,e&&Object.assign(this,removeUndef$1(e))}async render(e){const t=PlotElementExtensions$1.transform(this,this.x-this.width/2,this.y-this.height/2),r=PlotElementExtensions$1.transform(this,this.x+this.width/2,this.y+this.height/2);if(this.screenRectangle=OxyRect$1.fromScreenPoints(t,r),await e.drawEllipse(this.screenRectangle,this.getSelectableFillColor(this.fill),this.getSelectableColor(this.stroke),this.strokeThickness,this.edgeRenderingMode),this.text){const Ve=this.getActualTextPosition(()=>this.screenRectangle.center),[je,ze]=this.getActualTextAlignment();await e.drawText(Ve,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,je,ze)}}hitTestOverride(e){if(this.screenRectangle.containsPoint(e.point))return{element:this,nearestHitPoint:e.point}}}class PolygonAnnotation extends ShapeAnnotation{constructor(e){super(e),D$2(this,"screenPoints",[]),D$2(this,"lineJoin"),D$2(this,"lineStyle"),D$2(this,"minimumSegmentLength"),D$2(this,"points",[]),this.lineStyle=LineStyle$1.Solid,this.lineJoin=LineJoin$1.Miter,this.minimumSegmentLength=2,e&&Object.assign(this,e)}async render(e){if(this.points&&(this.screenPoints=this.points.map(t=>this.transform(t)),this.screenPoints.length!==0&&(await RenderingExtensions$1.drawReducedPolygon(e,this.screenPoints,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableFillColor(this.fill),this.getSelectableColor(this.stroke),this.strokeThickness,this.edgeRenderingMode,this.lineStyle,this.lineJoin),this.text))){const[t,r]=this.getActualTextAlignment(),Ve=this.getActualTextPosition(()=>ScreenPointHelper$1.getCentroid(this.screenPoints));await e.drawText(Ve,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,t,r)}}hitTestOverride(e){if(!(!this.screenPoints||this.screenPoints.length===0))return ScreenPointHelper$1.isPointInPolygon(e.point,this.screenPoints)?{element:this,nearestHitPoint:e.point}:void 0}}class PolylineAnnotation extends PathAnnotation{constructor(e){super(e),D$2(this,"_points",[]),D$2(this,"interpolationAlgorithm"),e&&Object.assign(this,removeUndef$1(e))}get points(){return this._points}getScreenPoints(){const e=this.points.map(t=>this.transform(t));if(this.interpolationAlgorithm){const t=ScreenPointHelper$1.resamplePoints(e,this.minimumSegmentLength);return this.interpolationAlgorithm.createSplineSp(t,!1,.25)}return this.points.map(t=>this.transform(t))}}class RectangleAnnotation extends ShapeAnnotation{constructor(e){super(e),D$2(this,"screenRectangle",OxyRect$1.Empty),D$2(this,"minimumX"),D$2(this,"maximumX"),D$2(this,"minimumY"),D$2(this,"maximumY"),this.minimumX=-1/0,this.maximumX=1/0,this.minimumY=-1/0,this.maximumY=1/0,this.textRotation=0,this.textHorizontalAlignment=HorizontalAlignment$1.Center,this.textVerticalAlignment=VerticalAlignment$1.Middle,e&&Object.assign(this,removeUndef$1(e))}async render(e){const t=this.getClippingRect(),r=this.inverseTransform(t.topLeft),Ve=this.inverseTransform(t.bottomRight),je=this.minimumX===-1/0||isNaN(this.minimumX)?Math.min(r.x,Ve.x):this.minimumX,ze=this.maximumX===1/0||isNaN(this.maximumX)?Math.max(r.x,Ve.x):this.maximumX,Xe=this.minimumY===-1/0||isNaN(this.minimumY)?Math.min(r.y,Ve.y):this.minimumY,We=this.maximumY===1/0||isNaN(this.maximumY)?Math.max(r.y,Ve.y):this.maximumY,qe=PlotElementExtensions$1.transform;this.screenRectangle=OxyRect$1.fromScreenPoints(qe(this,je,Xe),qe(this,ze,We));const Ke=RenderingExtensions$1.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode$1.PreferSharpness);if(await e.drawRectangle(this.screenRectangle,this.getSelectableFillColor(this.fill),this.getSelectableColor(this.stroke),this.strokeThickness,Ke),this.text){const[Ze,Je]=this.getActualTextAlignment(),Qe=this.getActualTextPosition(()=>this.screenRectangle.center);await e.drawText(Qe,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,Ze,Je)}}hitTestOverride(e){if(this.screenRectangle.containsPoint(e.point))return{element:this,nearestHitPoint:e.point}}}class ImageAnnotation extends TransposableAnnotation{constructor(e){super(e),D$2(this,"actualBounds",OxyRect$1.Empty),D$2(this,"imageSource"),D$2(this,"horizontalAlignment"),D$2(this,"x"),D$2(this,"y"),D$2(this,"offsetX"),D$2(this,"offsetY"),D$2(this,"width"),D$2(this,"height"),D$2(this,"opacity"),D$2(this,"interpolate"),D$2(this,"verticalAlignment"),this.x=new PlotLength(.5,PlotLengthUnit.RelativeToPlotArea),this.y=new PlotLength(.5,PlotLengthUnit.RelativeToPlotArea),this.offsetX=new PlotLength(0,PlotLengthUnit.ScreenUnits),this.offsetY=new PlotLength(0,PlotLengthUnit.ScreenUnits),this.width=new PlotLength(NaN,PlotLengthUnit.ScreenUnits),this.height=new PlotLength(NaN,PlotLengthUnit.ScreenUnits),this.opacity=1,this.interpolate=!0,this.horizontalAlignment=HorizontalAlignment$1.Center,this.verticalAlignment=VerticalAlignment$1.Middle,e&&Object.assign(this,removeUndef$1(e))}async render(e){if(!this.imageSource)throw new Error(`${this.imageSource} must be non-null before rendering.`);const t=this.getPoint(this.x,this.y,this.plotModel),r=this.getVector(this.offsetX,this.offsetY,this.plotModel),Ve=screenPointPlus$1(t,r),je=this.getVector(this.width,this.height,this.plotModel);let ze=je.x,Xe=je.y;isNaN(ze)&&isNaN(Xe)&&(ze=this.imageSource.width,Xe=this.imageSource.height),isNaN(ze)&&(ze=Xe/this.imageSource.height*this.imageSource.width),isNaN(Xe)&&(Xe=ze/this.imageSource.width*this.imageSource.height),ze=Math.abs(ze),Xe=Math.abs(Xe);let We=Ve.x,qe=Ve.y;const Ke=this.horizontalAlignment,Ze=this.verticalAlignment;Ke===HorizontalAlignment$1.Center?We-=ze*.5:Ke===HorizontalAlignment$1.Right&&(We-=ze),Ze===VerticalAlignment$1.Middle?qe-=Xe*.5:Ze===VerticalAlignment$1.Bottom&&(qe-=Xe),this.actualBounds=new OxyRect$1(We,qe,ze,Xe),await RenderingExtensions$1.drawImage(e,this.imageSource,We,qe,ze,Xe,this.opacity,this.interpolate)}hitTestOverride(e){if(this.actualBounds.containsPoint(e.point))return{element:this,nearestHitPoint:e.point}}getPoint(e,t,r){let Ve=NaN,je=NaN;if(e.unit===PlotLengthUnit.Data||t.unit===PlotLengthUnit.Data){const ze=e.unit===PlotLengthUnit.Data?e.value:NaN,Xe=t.unit===PlotLengthUnit.Data?t.value:NaN,We=PlotElementExtensions$1.transform(this,ze,Xe);Ve=We.x,je=We.y}switch(e.unit){case PlotLengthUnit.Data:break;case PlotLengthUnit.ScreenUnits:Ve=e.value;break;case PlotLengthUnit.RelativeToViewport:Ve=r.width*e.value;break;case PlotLengthUnit.RelativeToPlotArea:Ve=r.plotArea.left+r.plotArea.width*e.value;break;default:throw new Error("Invalid unit")}switch(t.unit){case PlotLengthUnit.Data:break;case PlotLengthUnit.ScreenUnits:je=t.value;break;case PlotLengthUnit.RelativeToViewport:je=r.height*t.value;break;case PlotLengthUnit.RelativeToPlotArea:je=r.plotArea.top+r.plotArea.height*t.value;break;default:throw new Error("Invalid unit")}return newScreenPoint$1(Ve,je)}getVector(e,t,r){let Ve=NaN,je=NaN;if(e.unit===PlotLengthUnit.Data||t.unit===PlotLengthUnit.Data){const ze=e.unit===PlotLengthUnit.Data?e.value:NaN,Xe=t.unit===PlotLengthUnit.Data?t.value:NaN,We=PlotElementExtensions$1.transform(this,ze,Xe),qe=screenPointMinus$1(We,this.transform(DataPoint_Zero$1));Ve=qe.x,je=qe.y}switch(e.unit){case PlotLengthUnit.Data:break;case PlotLengthUnit.ScreenUnits:Ve=e.value;break;case PlotLengthUnit.RelativeToViewport:Ve=r.width*e.value;break;case PlotLengthUnit.RelativeToPlotArea:Ve=r.plotArea.width*e.value;break;default:throw new Error("Invalid unit")}switch(t.unit){case PlotLengthUnit.Data:break;case PlotLengthUnit.ScreenUnits:je=t.value;break;case PlotLengthUnit.RelativeToViewport:je=r.height*t.value;break;case PlotLengthUnit.RelativeToPlotArea:je=r.plotArea.height*t.value;break;default:throw new Error("Invalid unit")}return new ScreenVector$1(Ve,je)}getClippingRect(){return this.x.unit===PlotLengthUnit.Data||this.y.unit===PlotLengthUnit.Data?super.getClippingRect():OxyRect$1.Everything}}const Zt$2=class lu extends PlotElement$1{constructor(e){super(e),D$2(this,"_offset",0),D$2(this,"_scale",1),D$2(this,"axisChanged"),D$2(this,"transformChanged"),D$2(this,"absoluteMaximum"),D$2(this,"absoluteMinimum"),D$2(this,"_actualMajorStep",0),D$2(this,"minimumMajorIntervalCount"),D$2(this,"maximumMajorIntervalCount"),D$2(this,"_actualMaximum",0),D$2(this,"_actualMinimum",0),D$2(this,"_clipMaximum",0),D$2(this,"_clipMinimum",0),D$2(this,"_actualMinorStep",0),D$2(this,"_actualStringFormatter"),D$2(this,"angle"),D$2(this,"axisTickToLabelDistance"),D$2(this,"axisTitleDistance"),D$2(this,"axisDistance"),D$2(this,"axislineColor"),D$2(this,"axislineStyle"),D$2(this,"axislineThickness"),D$2(this,"clipTitle"),D$2(this,"cropGridlines",!1),D$2(this,"_dataMaximum",0),D$2(this,"_dataMinimum",0),D$2(this,"endPosition"),D$2(this,"extraGridlineColor"),D$2(this,"extraGridlineStyle"),D$2(this,"extraGridlineThickness"),D$2(this,"extraGridlines"),D$2(this,"filterFunction"),D$2(this,"filterMaxValue"),D$2(this,"filterMinValue"),D$2(this,"intervalLength"),D$2(this,"isAxisVisible"),D$2(this,"isPanEnabled"),D$2(this,"isZoomEnabled"),D$2(this,"key"),D$2(this,"labelFormatter"),D$2(this,"layer"),D$2(this,"majorGridlineColor"),D$2(this,"majorGridlineStyle"),D$2(this,"majorGridlineThickness"),D$2(this,"majorStep"),D$2(this,"majorTickSize"),D$2(this,"maximum"),D$2(this,"maximumPadding"),D$2(this,"maximumDataMargin"),D$2(this,"maximumMargin"),D$2(this,"maximumRange"),D$2(this,"minimum"),D$2(this,"minimumMajorStep"),D$2(this,"minimumMinorStep"),D$2(this,"minimumPadding"),D$2(this,"minimumDataMargin"),D$2(this,"minimumMargin"),D$2(this,"minimumRange"),D$2(this,"minorGridlineColor"),D$2(this,"minorGridlineStyle"),D$2(this,"minorGridlineThickness"),D$2(this,"minorStep"),D$2(this,"minorTicklineColor"),D$2(this,"minorTickSize"),D$2(this,"position",AxisPosition$1.Left),D$2(this,"positionAtZeroCrossing",!1),D$2(this,"positionTier",0),D$2(this,"_screenMax",ScreenPoint_Undefined$1),D$2(this,"_screenMin",ScreenPoint_Undefined$1),D$2(this,"startPosition"),D$2(this,"stringFormatter"),D$2(this,"tickStyle"),D$2(this,"ticklineColor"),D$2(this,"title"),D$2(this,"titleClippingLength"),D$2(this,"titleColor"),D$2(this,"titleFont"),D$2(this,"titleFontSize"),D$2(this,"titleFontWeight"),D$2(this,"titleFormatter"),D$2(this,"titlePosition"),D$2(this,"unit"),D$2(this,"useSuperExponentialFormat",!1),D$2(this,"_desiredMargin",OxyThickness$1.Zero),D$2(this,"positionTierMaxShift",0),D$2(this,"positionTierMinShift",0),D$2(this,"positionTierSize",0),D$2(this,"viewMaximum"),D$2(this,"viewMinimum"),this.position=AxisPosition$1.Left,this.positionTier=0,this.isAxisVisible=!0,this.layer=AxisLayer$1.BelowSeries,this.viewMaximum=Number.NaN,this.viewMinimum=Number.NaN,this.absoluteMaximum=Number_MAX_VALUE$1,this.absoluteMinimum=Number_MIN_VALUE$1,this.minimum=Number.NaN,this.maximum=Number.NaN,this.minorStep=Number.NaN,this.majorStep=Number.NaN,this.minimumMinorStep=0,this.minimumMajorStep=0,this.minimumMajorIntervalCount=2,this.maximumMajorIntervalCount=Number_MAX_VALUE$1,this.minimumPadding=.01,this.maximumPadding=.01,this.minimumRange=0,this.maximumRange=Number.POSITIVE_INFINITY,this.minimumDataMargin=0,this.maximumDataMargin=0,this.minimumMargin=0,this.maximumMargin=0,this.tickStyle=TickStyle$1.Outside,this.ticklineColor=OxyColors$1.Black,this.minorTicklineColor=OxyColors$1.Automatic,this.axislineStyle=LineStyle$1.None,this.axislineColor=OxyColors$1.Black,this.axislineThickness=1,this.majorGridlineStyle=LineStyle$1.None,this.majorGridlineColor=OxyColor$1.fromArgb(64,0,0,0),this.majorGridlineThickness=1,this.minorGridlineStyle=LineStyle$1.None,this.minorGridlineColor=OxyColor$1.fromArgb(32,0,0,0),this.minorGridlineThickness=1,this.extraGridlineStyle=LineStyle$1.Solid,this.extraGridlineColor=OxyColors$1.Black,this.extraGridlineThickness=1,this.minorTickSize=4,this.majorTickSize=7,this.startPosition=0,this.endPosition=1,this.titlePosition=.5,this.titleFormatter=(t,r)=>`${t||""} [${r||""}]`,this.titleClippingLength=.9,this.titleColor=OxyColors$1.Automatic,this.titleFontSize=Number.NaN,this.titleFontWeight=FontWeights$1.Normal,this.clipTitle=!0,this.angle=0,this.isZoomEnabled=!0,this.isPanEnabled=!0,this.filterMinValue=Number_MIN_VALUE$1,this.filterMaxValue=Number_MAX_VALUE$1,this.filterFunction=void 0,this.intervalLength=60,this.axisDistance=0,this.axisTitleDistance=4,this.axisTickToLabelDistance=4,this.dataMaximum=Number.NaN,this.dataMinimum=Number.NaN}get actualMajorStep(){return this._actualMajorStep}set actualMajorStep(e){this._actualMajorStep=e}get actualMaximum(){return this._actualMaximum}set actualMaximum(e){this._actualMaximum=e}get actualMinimum(){return this._actualMinimum}set actualMinimum(e){this._actualMinimum=e}get clipMaximum(){return this._clipMaximum}set clipMaximum(e){this._clipMaximum=e}get clipMinimum(){return this._clipMinimum}set clipMinimum(e){this._clipMinimum=e}get actualMinorStep(){return this._actualMinorStep}set actualMinorStep(e){this._actualMinorStep=e}get actualStringFormatter(){return this._actualStringFormatter}set actualStringFormatter(e){this._actualStringFormatter=e}get actualTitle(){return this.unit?`${this.title} [${this.unit}]`:this.title}get dataMaximum(){return this._dataMaximum}set dataMaximum(e){this._dataMaximum=e}get dataMinimum(){return this._dataMinimum}set dataMinimum(e){this._dataMinimum=e}get isReversed(){return this.startPosition>this.endPosition}get offset(){return this._offset}get scale(){return this._scale}get screenMax(){return this._screenMax}set screenMax(e){this._screenMax=e}get screenMin(){return this._screenMin}set screenMin(e){this._screenMin=e}get desiredMargin(){return this._desiredMargin}set desiredMargin(e){this._desiredMargin=e}get actualTitleColor(){return this.titleColor.getActualColor(this.plotModel.textColor)}get actualTitleFont(){return this.titleFont||this.plotModel.defaultFont}get actualTitleFontSize(){return isNaN(this.titleFontSize)?this.actualFontSize:this.titleFontSize}get actualTitleFontWeight(){return isNaN(this.titleFontWeight)?this.actualFontWeight:this.titleFontWeight}itemToDouble(e){return Number(e)}static inverseTransform(e,t,r){return t.inverseTransformPoint(e.x,e.y,r)}formatValue(e){return this.labelFormatter?this.labelFormatter(e):this.formatValueOverride(e)}getTickValues(){const e=[],t=[],r=[],Ve=this.createTickValues(this.clipMinimum,this.clipMaximum,this.actualMinorStep);return t.push(...this.createTickValues(this.clipMinimum,this.clipMaximum,this.actualMajorStep)),e.push(...t),r.push(...AxisUtilities$1.filterRedundantMinorTicks(t,Ve)),{majorLabelValues:e,majorTickValues:t,minorTickValues:r}}getValue(e){return e}inverseTransformPoint(e,t,r){return newDataPoint$1(this.inverseTransform(e),r?r.inverseTransform(t):0)}inverseTransform(e){return e/this._scale+this._offset}isHorizontal(){return this.position===AxisPosition$1.Top||this.position===AxisPosition$1.Bottom}isValidValue(e){return Number.isFinite(e)&&e<this.filterMaxValue&&e>this.filterMinValue&&(!this.filterFunction||this.filterFunction(e))}isVertical(){return this.position===AxisPosition$1.Left||this.position===AxisPosition$1.Right}isLogarithmic(){return!1}measure(e){if(this.position===AxisPosition$1.None){this.desiredMargin=new OxyThickness$1(0);return}const{majorLabelValues:t}=this.getTickValues();let r=new OxySize$1;for(const Je of t){const Qe=this.formatValue(Je),ti=RenderingExtensions$1.measureText(e,Qe,this.actualFont,this.actualFontSize,this.actualFontWeight,this.angle);r=r.include(ti)}const Ve=e.measureText(this.actualTitle||"",this.actualTitleFont,this.actualTitleFontSize,this.actualTitleFontWeight);let je=0,ze=0,Xe=0,We=0;const qe=Math.max(0,this.isReversed?this.maximumMargin:this.minimumMargin),Ke=Math.max(0,this.isReversed?this.minimumMargin:this.maximumMargin);let Ze=0;switch(this.tickStyle){case TickStyle$1.Outside:Ze=this.majorTickSize;break;case TickStyle$1.Crossing:Ze=this.majorTickSize*.75;break}switch(Ze+=this.axisDistance+this.axisTickToLabelDistance,Ve.height>0&&(Ze+=this.axisTitleDistance+Ve.height),this.position){case AxisPosition$1.Left:je=Ze+r.width;break;case AxisPosition$1.Right:Xe=Ze+r.width;break;case AxisPosition$1.Top:ze=Ze+r.height;break;case AxisPosition$1.Bottom:We=Ze+r.height;break;case AxisPosition$1.All:je=Xe=Ze+r.width,ze=We=Ze+r.height;break;default:throw new Error("Invalid operation")}if(this.isPanEnabled||this.isZoomEnabled){const Je=Math.min(this.startPosition,this.endPosition)<.01,Qe=Math.max(this.startPosition,this.endPosition)>.99;switch(this.position){case AxisPosition$1.Left:case AxisPosition$1.Right:Je&&(We=Math.max(0,r.height/2-qe)),Qe&&(ze=Math.max(0,r.height/2-Ke));break;case AxisPosition$1.Top:case AxisPosition$1.Bottom:Je&&(je=Math.max(0,r.width/2-qe)),Qe&&(Xe=Math.max(0,r.width/2-Ke));break}}else if(t.length>0){const Je=Math.min(...t),Qe=Math.max(...t),ti=this.formatValue(Je),ni=this.formatValue(Qe);let ri=RenderingExtensions$1.measureText(e,ti,this.actualFont,this.actualFontSize,this.actualFontWeight,this.angle),ii=RenderingExtensions$1.measureText(e,ni,this.actualFont,this.actualFontSize,this.actualFontWeight,this.angle),ei=this.transform(Je),St=this.transform(Qe);ei>St&&([ei,St]=[St,ei],[ri,ii]=[ii,ri]);let oi=0,si=0,ai=0,ui=0;switch(this.position){case AxisPosition$1.Left:case AxisPosition$1.Right:oi=Math.min(this.screenMin.y,this.screenMax.y),si=Math.max(this.screenMin.y,this.screenMax.y),ze=Math.max(0,oi-ei+ri.height/2-qe),We=Math.max(0,St-si+ii.height/2-Ke);break;case AxisPosition$1.Top:case AxisPosition$1.Bottom:ai=Math.min(this.screenMin.x,this.screenMax.x),ui=Math.max(this.screenMin.x,this.screenMax.x),je=Math.max(0,ai-ei+ri.width/2-qe),Xe=Math.max(0,St-ui+ii.width/2-Ke);break}}this.desiredMargin=new OxyThickness$1(je,ze,Xe,We)}pan(e,t){if(typeof e=="number"){this.pan2(e);return}this.pan1(e,t)}pan1(e,t){if(!this.isPanEnabled)return;const r=this.isHorizontal()?t.x-e.x:t.y-e.y;this.pan(r)}pan2(e){if(!this.isPanEnabled)return;const t=this.actualMinimum,r=this.actualMaximum,Ve=e/this._scale;let je=this.actualMinimum-Ve,ze=this.actualMaximum-Ve;je<this.absoluteMinimum&&(je=this.absoluteMinimum,ze=Math.min(je+this.actualMaximum-this.actualMinimum,this.absoluteMaximum)),ze>this.absoluteMaximum&&(ze=this.absoluteMaximum,je=Math.max(ze-(this.actualMaximum-this.actualMinimum),this.absoluteMinimum)),this.viewMinimum=je,this.viewMaximum=ze,this.updateActualMaxMin();const Xe=this.actualMinimum-t,We=this.actualMaximum-r;this.onAxisChanged({changeType:AxisChangeTypes$1.Pan,deltaMaximum:We,deltaMinimum:Xe})}async render(e,t){this.position!==AxisPosition$1.None&&await new HorizontalAndVerticalAxisRenderer$1(e,this.plotModel).render(this,t)}reset(){const e=this.actualMinimum,t=this.actualMaximum;this.viewMinimum=NaN,this.viewMaximum=NaN,this.updateActualMaxMin();const r=this.actualMinimum-e,Ve=this.actualMaximum-t;this.onAxisChanged({changeType:AxisChangeTypes$1.Reset,deltaMinimum:r,deltaMaximum:Ve})}toString(){return`${this.constructor.name}(${this.position}, ${this.clipMinimum}, ${this.clipMaximum}, ${this.actualMajorStep})`}transformPoint(e,t,r){if(!r)throw new Error("Y axis should not be null when transforming.");return newScreenPoint$1(this.transform(e),r.transform(t))}transform(e){return(e-this._offset)*this._scale}zoomScale(e){const t=this.actualMinimum,r=this.actualMaximum,Ve=this.transform(this.actualMaximum),je=this.transform(this.actualMinimum),ze=Math.sign(this._scale),Xe=(this.preTransform(this.actualMaximum)+this.preTransform(this.actualMinimum))/2,We=(this._offset-Xe)*this._scale/(ze*e)+Xe;this.setTransform(ze*e,We);let qe=this.inverseTransform(Ve),Ke=this.inverseTransform(je);if(Ke<this.absoluteMinimum&&qe>this.absoluteMaximum)Ke=this.absoluteMinimum,qe=this.absoluteMaximum;else if(Ke<this.absoluteMinimum){const Qe=qe-Ke;Ke=this.absoluteMinimum,qe=this.absoluteMinimum+Qe,qe>this.absoluteMaximum&&(qe=this.absoluteMaximum)}else if(qe>this.absoluteMaximum){const Qe=qe-Ke;qe=this.absoluteMaximum,Ke=this.absoluteMaximum-Qe,Ke<this.absoluteMinimum&&(Ke=this.absoluteMinimum)}this.clipMaximum=this.viewMaximum=qe,this.clipMinimum=this.viewMinimum=Ke,this.updateActualMaxMin();const Ze=this.actualMinimum-t,Je=this.actualMaximum-r;this.actualMaximumAndMinimumChangedOverride(),this.onAxisChanged({changeType:AxisChangeTypes$1.Zoom,deltaMinimum:Ze,deltaMaximum:Je})}zoom(e,t){if(!this.isZoomEnabled)return;const r=this.actualMinimum,Ve=this.actualMaximum,je=Math.max(Math.min(e,t),this.absoluteMinimum),ze=Math.min(Math.max(e,t),this.absoluteMaximum);this.viewMinimum=je,this.viewMaximum=ze,this.updateActualMaxMin();const Xe=this.actualMinimum-r,We=this.actualMaximum-Ve;this.onAxisChanged({changeType:AxisChangeTypes$1.Zoom,deltaMinimum:Xe,deltaMaximum:We})}zoomAt(e,t){if(!this.isZoomEnabled)return;const r=this.actualMinimum,Ve=this.actualMaximum,je=(this.actualMinimum-t)*this._scale,ze=(this.actualMaximum-t)*this._scale;this._scale*=e;let Xe=je/this._scale+t,We=ze/this._scale+t;if(We-Xe>this.maximumRange){const Ze=(Xe+We)*.5;We=Ze+this.maximumRange*.5,Xe=Ze-this.maximumRange*.5}if(We-Xe<this.minimumRange){const Ze=(Xe+We)*.5;We=Ze+this.minimumRange*.5,Xe=Ze-this.minimumRange*.5}Xe=Math.max(Xe,this.absoluteMinimum),We=Math.min(We,this.absoluteMaximum),this.viewMinimum=Xe,this.viewMaximum=We,this.updateActualMaxMin();const qe=this.actualMinimum-r,Ke=this.actualMaximum-Ve;this.onAxisChanged({changeType:AxisChangeTypes$1.Zoom,deltaMinimum:qe,deltaMaximum:Ke})}zoomAtCenter(e){const t=(this.transform(this.clipMaximum)+this.transform(this.clipMinimum))*.5,r=this.inverseTransform(t);this.zoomAt(e,r)}include(e){this.isValidValue(e)&&(this.dataMinimum=isNaN(this.dataMinimum)?e:Math.min(this.dataMinimum,e),this.dataMaximum=isNaN(this.dataMaximum)?e:Math.max(this.dataMaximum,e))}resetDataMaxMin(){this.dataMaximum=this.dataMinimum=this.actualMaximum=this.actualMinimum=NaN}updateActualMaxMin(){isNaN(this.viewMaximum)?isNaN(this.maximum)?this.actualMaximum=this.calculateActualMaximum():this.actualMaximum=this.maximum:this.actualMaximum=this.viewMaximum,isNaN(this.viewMinimum)?isNaN(this.minimum)?this.actualMinimum=this.calculateActualMinimum():this.actualMinimum=this.minimum:this.actualMinimum=this.viewMinimum,this.coerceActualMaxMin()}updateIntervals(e){const t=this.intervalLength;let r=this.isHorizontal()?e.width:e.height;r*=Math.abs(this.endPosition-this.startPosition),this.actualMajorStep=isNaN(this.majorStep)?this.calculateActualInterval(r,t,this.minimumMajorIntervalCount,this.maximumMajorIntervalCount):this.majorStep,this.actualMinorStep=isNaN(this.minorStep)?this.calculateMinorInterval(this.actualMajorStep):this.minorStep,isNaN(this.actualMinorStep)&&(this.actualMinorStep=2),isNaN(this.actualMajorStep)&&(this.actualMajorStep=10),this.actualMinorStep=Math.max(this.actualMinorStep,this.minimumMinorStep),this.actualMajorStep=Math.max(this.actualMajorStep,this.minimumMajorStep),this.actualStringFormatter=this.stringFormatter||this.getDefaultStringFormatter()}updateTransform(e){const t=e.left,r=e.right,Ve=e.bottom,je=e.top;let ze=this.isHorizontal()?t:Ve,Xe=this.isHorizontal()?r:je;const We=Xe-ze;Xe=ze+this.endPosition*We,ze=ze+this.startPosition*We;const qe=this.isHorizontal()!=this.isReversed?1:-1;this.minimumMargin>0&&(ze+=this.minimumMargin*qe),this.maximumMargin>0&&(Xe-=this.maximumMargin*qe),this.isHorizontal()?(this.screenMin=newScreenPoint$1(ze,je),this.screenMax=newScreenPoint$1(Xe,Ve)):this.isVertical()&&(this.screenMin=newScreenPoint$1(t,Xe),this.screenMax=newScreenPoint$1(r,ze)),this.minimumDataMargin>0&&(ze+=this.minimumDataMargin*qe),this.maximumDataMargin>0&&(Xe-=this.maximumDataMargin*qe),this.actualMaximum-this.actualMinimum<=0&&(this.actualMaximum=this.actualMinimum+1);const Ke=this.preTransform(this.actualMaximum),Ze=this.preTransform(this.actualMinimum),Je=ze-Xe;let Qe,ti;Math.abs(Je)>Number.EPSILON?Qe=ze/Je*Ke-Xe/Je*Ze:Qe=0;const ni=Ke-Ze;Math.abs(ni)>Number.EPSILON?ti=(Xe-ze)/ni:ti=1,this.setTransform(ti,Qe),this.minimumDataMargin>0?this.clipMinimum=this.inverseTransform(ze-this.minimumDataMargin*qe):this.clipMinimum=this.actualMinimum,this.maximumDataMargin>0?this.clipMaximum=this.inverseTransform(Xe+this.maximumDataMargin*qe):this.clipMaximum=this.actualMaximum,this.actualMaximumAndMinimumChangedOverride()}actualMaximumAndMinimumChangedOverride(){}getDefaultStringFormatter(){return e=>pettyNumber$1(e,4)}postInverseTransform(e){return e}preTransform(e){return e}calculateMinorInterval(e){return AxisUtilities$1.calculateMinorInterval(e)}createTickValues(e,t,r,Ve=1e3){return AxisUtilities$1.createTickValues(e,t,r,Ve)}coerceActualMaxMin(){if(this.absoluteMaximum<=this.absoluteMinimum)throw new Error("AbsoluteMaximum must be larger than AbsoluteMinimum.");if(this.absoluteMaximum-this.absoluteMinimum<this.minimumRange)throw new Error("MinimumRange must not be larger than AbsoluteMaximum-AbsoluteMinimum.");if(this.maximumRange<this.minimumRange)throw new Error("MinimumRange must not be larger than MaximumRange.");if((isNaN(this.actualMinimum)||isInfinity$1(this.actualMinimum))&&(this.actualMinimum=0),(isNaN(this.actualMaximum)||isInfinity$1(this.actualMaximum))&&(this.actualMaximum=100),this.absoluteMinimum>Number_MIN_VALUE$1&&this.absoluteMinimum<Number_MAX_VALUE$1&&(this.actualMinimum=Math.max(this.actualMinimum,this.absoluteMinimum),this.maximumRange<Number_MAX_VALUE$1&&(this.actualMaximum=Math.min(this.actualMaximum,this.absoluteMinimum+this.maximumRange))),this.absoluteMaximum>Number_MIN_VALUE$1&&this.absoluteMaximum<Number_MAX_VALUE$1&&(this.actualMaximum=Math.min(this.actualMaximum,this.absoluteMaximum),this.maximumRange<Number_MAX_VALUE$1&&(this.actualMinimum=Math.max(this.actualMinimum,this.absoluteMaximum-this.maximumRange))),this.actualMaximum-this.actualMinimum<this.minimumRange)if(this.actualMinimum+this.minimumRange<this.absoluteMaximum){const e=(this.actualMaximum+this.actualMinimum)*.5,t=this.minimumRange/2;if(this.actualMinimum=e-t,this.actualMaximum=e+t,this.actualMinimum<this.absoluteMinimum){const r=this.absoluteMinimum-this.actualMinimum;this.actualMinimum=this.absoluteMinimum,this.actualMaximum+=r}if(this.actualMaximum>this.absoluteMaximum){const r=this.absoluteMaximum-this.actualMaximum;this.actualMaximum=this.absoluteMaximum,this.actualMinimum+=r}}else this.absoluteMaximum-this.minimumRange>this.absoluteMinimum?(this.actualMinimum=this.absoluteMaximum-this.minimumRange,this.actualMaximum=this.absoluteMaximum):(this.actualMaximum=this.absoluteMaximum,this.actualMinimum=this.absoluteMinimum);if(this.actualMaximum-this.actualMinimum>this.maximumRange)if(this.actualMinimum+this.maximumRange<this.absoluteMaximum){const e=(this.actualMaximum+this.actualMinimum)*.5,t=this.maximumRange/2;if(this.actualMinimum=e-t,this.actualMaximum=e+t,this.actualMinimum<this.absoluteMinimum){const r=this.absoluteMinimum-this.actualMinimum;this.actualMinimum=this.absoluteMinimum,this.actualMaximum+=r}if(this.actualMaximum>this.absoluteMaximum){const r=this.absoluteMaximum-this.actualMaximum;this.actualMaximum=this.absoluteMaximum,this.actualMinimum+=r}}else this.absoluteMaximum-this.maximumRange>this.absoluteMinimum?(this.actualMinimum=this.absoluteMaximum-this.maximumRange,this.actualMaximum=this.absoluteMaximum):(this.actualMaximum=this.absoluteMaximum,this.actualMinimum=this.absoluteMinimum);this.actualMaximum<=this.actualMinimum&&(this.actualMaximum=this.actualMinimum+100)}formatValueOverride(e){let t=this.stringFormatter;if(this.useSuperExponentialFormat&&e!==0){const r=lu.Exponent(e),Ve=lu.Mantissa(e);if(t){if(typeof t=="function")return`${t(e)}10^{${r}}`}else return Math.abs(Ve-1)<1e-6?`10^{${r}}`:`${Ve}10^{${r}}`;throw new Error("invalid stringFormat")}if(t=this.actualStringFormatter||this.stringFormatter,typeof t=="function")return t(e);if(!t)return e.toString();throw new Error("invalid stringFormat")}calculateActualMaximum(){let e=this.dataMaximum;if(this.dataMaximum-this.dataMinimum<=0){const t=this.dataMaximum>0?this.dataMaximum:1;e+=t*.5}if(!isNaN(this.dataMinimum)&&!isNaN(e)){const t=this.preTransform(e),r=this.preTransform(this.dataMinimum),Ve=this.maximumPadding*(t-r);return this.postInverseTransform(t+Ve)}return e}calculateActualMinimum(){let e=this.dataMinimum;if(this.dataMaximum-this.dataMinimum<=0){const t=this.dataMaximum>0?this.dataMaximum:1;e-=t*.5}if(!isNaN(this.actualMaximum)){const t=this.preTransform(this.actualMaximum),r=this.preTransform(e),Ve=this.maximumPadding,je=this.minimumPadding*((t-r)/(1+Ve));return this.postInverseTransform(r-je)}return e}setTransform(e,t){this._scale=e,this._offset=t,this.onTransformChanged()}calculateActualInterval(e,t,r,Ve,je){if(isNullOrUndef$1(je)&&(je=Math.abs(this.clipMinimum-this.clipMaximum)),e<=0)return t;if(Math.abs(t)<=0)throw new Error("Maximum interval size cannot be zero.");if(Math.abs(je)<=0)throw new Error("Range cannot be zero.");const ze=Ze=>Math.ceil(Math.log10(Ze)),Xe=Ze=>Ze/Math.pow(10,ze(Ze)-1);r=Math.max(r,0),Ve=Math.min(Ve,e/t),je=Math.abs(je);let We=Math.pow(10,ze(je)),qe=We;const Ke=Ze=>parseFloat(Ze.toPrecision(14));for(;Xe(qe)===5?qe=Ke(qe/2.5):qe=Ke(qe/2),!(je/We>=r&&je/qe>Ve||isNaN(qe)||isInfinity$1(qe));)We=qe;return We}onAxisChanged(e){this.updateActualMaxMin();const t=this.axisChanged;t&&t(this,e)}onTransformChanged(){const e=this.transformChanged;e&&e(this)}};D$2(Zt$2,"Exponent",$e=>Math.floor(Zt$2.ThresholdRound(Math.log(Math.abs($e))/Math.LN10))),D$2(Zt$2,"Mantissa",$e=>Zt$2.ThresholdRound($e/Math.pow(10,Zt$2.Exponent($e)))),D$2(Zt$2,"ThresholdRound",$e=>Math.abs(Math.round($e)-$e)<1e-6?Math.round($e):$e);let Axis$1=Zt$2,LinearAxis$1=class extends Axis$1{constructor(e){super(),D$2(this,"formatAsFractions"),D$2(this,"fractionUnit"),D$2(this,"fractionUnitSymbol"),this.fractionUnit=1,this.fractionUnitSymbol=void 0,this.formatAsFractions=!1,e&&Object.assign(this,removeUndef$1(e))}isXyAxis(){return!0}isLogarithmic(){return!1}formatValueOverride(e){return this.formatAsFractions?FractionHelper$1.convertToFractionString(e,this.fractionUnit,this.fractionUnitSymbol,1e-6,this.stringFormatter):super.formatValueOverride(e)}};class AngleAxis extends LinearAxis$1{constructor(e){super(e),D$2(this,"startAngle"),D$2(this,"endAngle"),this.position=AxisPosition$1.All,this.tickStyle=TickStyle$1.None,this.isPanEnabled=!1,this.isZoomEnabled=!1,this.majorGridlineStyle=LineStyle$1.Solid,this.minorGridlineStyle=LineStyle$1.Solid,this.startAngle=0,this.endAngle=360,e&&Object.assign(this,removeUndef$1(e))}getTickValues(){const e=this.startAngle/this.scale,t=this.endAngle/this.scale;let r=this.createTickValues(e,t,this.actualMinorStep);const Ve=this.createTickValues(e,t,this.actualMajorStep),je=this.createTickValues(this.minimum,this.maximum,this.actualMajorStep);return r=AxisUtilities$1.filterRedundantMinorTicks(Ve,r),{majorLabelValues:je,majorTickValues:Ve,minorTickValues:r}}inverseTransformPoint(e,t,r){throw new Error("Angle axis should always be the y-axis.")}isXyAxis(){return!1}async render(e,t){await new AngleAxisRenderer(e,this.plotModel).render(this,t)}transformPoint(e,t,r){throw new Error("Angle axis should always be the y-axis.")}updateTransform(e){const t=e.left,r=e.right,Ve=e.bottom,je=e.top;this.screenMin=newScreenPoint$1(t,je),this.screenMax=newScreenPoint$1(r,Ve);const ze=(this.endAngle-this.startAngle)/(this.actualMaximum-this.actualMinimum),Xe=this.actualMinimum-this.startAngle/ze;this.setTransform(ze,Xe),this.clipMinimum=this.actualMinimum,this.clipMaximum=this.actualMaximum}}class AngleAxisFullPlotArea extends AngleAxis{async render(e,t){await new AngleAxisFullPlotAreaRenderer(e,this.plotModel).render(this,t)}}var AxisChangeTypes$1=($e=>($e[$e.Zoom=0]="Zoom",$e[$e.Pan=1]="Pan",$e[$e.Reset=2]="Reset",$e))(AxisChangeTypes$1||{}),AxisLayer$1=($e=>($e[$e.BelowSeries=0]="BelowSeries",$e[$e.AboveSeries=1]="AboveSeries",$e))(AxisLayer$1||{}),AxisPosition$1=($e=>($e[$e.None=0]="None",$e[$e.Left=1]="Left",$e[$e.Right=2]="Right",$e[$e.Top=3]="Top",$e[$e.Bottom=4]="Bottom",$e[$e.All=5]="All",$e))(AxisPosition$1||{});let AxisUtilities$1=class{static calculateMinorInterval(e){return Math.abs((Math.log10(e)+1e3)%1-Math.log10(2))<1e-10?e/4:e/5}static calculateMinorInterval2(e){const t=Math.ceil(Math.log(e)/Math.LN10);return(e/Math.pow(10,t-1)|0)===2?e/4:e/5}static createTickValues(e,t,r,Ve=1e3){if(r<=0)throw new Error("Step cannot be zero or negative.");t<e&&(r=-r);const je=r*.001;e-=je,t+=je;let ze=Math.ceil(e/r)*r;Math.abs(ze)<Number.EPSILON&&(ze=0);const Xe=[],We=Math.sign(r);let qe=0,Ke=ze;for(;(t-Ke)*We>=0&&qe<Ve;)Xe.push(Ke),Ke=ze+ ++qe*r;return Xe}static filterRedundantMinorTicks(e,t){if(e.length===0||t.length===0)return t;const r=[];let Ve=0,je=1,ze=e.length>1?e[je]:e[0];const Xe=(Ke,Ze)=>Math.abs(Ke-Ze)*.001;let We=t.length>1?Xe(t[0],t[1]):0,qe=1;e.length>1&&e[0]>e[1]&&(qe=-1);for(let Ke=0;Ke<t.length;Ke++){const Ze=t[Ke];for(Ke>0&&(We=Xe(Ze,Ve));(ze-Ze)*qe<0&&je<e.length-1;)ze=e[++je];const Je=e[je-1];Math.abs(Ze-ze)>We&&Math.abs(Ze-Je)>We&&r.push(Ze),Ve=Ze}return r}},CategoryAxis$1=class extends LinearAxis$1{constructor(e){super(e),D$2(this,"_autoGeneratedLabels",[]),D$2(this,"_itemsSourceLabels",[]),D$2(this,"gapWidth"),D$2(this,"isTickCentered",!1),D$2(this,"itemsSource"),D$2(this,"labelField"),D$2(this,"_labels",[]),this.tickStyle=TickStyle$1.Outside,this.position=AxisPosition$1.Bottom,this.minimumPadding=0,this.maximumPadding=0,this.majorStep=1,this.gapWidth=1,e&&Object.assign(this,removeUndef$1(e))}get actualLabels(){return this.itemsSource?this._itemsSourceLabels:this.labels.length>0?this.labels:this._autoGeneratedLabels}get labels(){return this._labels}getTickValues(){const{majorLabelValues:e,majorTickValues:t,minorTickValues:r}=super.getTickValues();if(r.length=0,!this.isTickCentered){let Ve=[];if(Ve=e.map(je=>je-.5).filter(je=>je>this.clipMinimum-.001),Ve.length>0){const je=Ve[Ve.length-1]+this.majorStep;je<this.clipMaximum+.001&&Ve.push(je)}t.length=0,t.push(...Ve)}return{majorLabelValues:e,majorTickValues:t,minorTickValues:r}}getValue(e){return this.formatValue(e)}updateActualMaxMin(){this.include(-.5);const e=this.actualLabels;e.length>0?this.include(e.length-1+.5):this.include(.5),super.updateActualMaxMin(),this.minorStep=1}updateLabels(e){if(this.itemsSource){this._itemsSourceLabels.length=0;const t=[];for(let r of this.itemsSource||[])r=this.labelField?r[this.labelField]:r,this.stringFormatter?t.push(this.stringFormatter(r)):t.push(r.toString());this._itemsSourceLabels.push(...t);return}if(this.labels.length===0){if(this._autoGeneratedLabels.length===e)return;this._autoGeneratedLabels.length=0,this._autoGeneratedLabels.push(...Array.from({length:e},(t,r)=>(r+1).toString()))}}formatValueOverride(e){const t=Math.floor(e),r=this.actualLabels;return t>=0&&t<r.length?r[t]:""}};function isColorAxis($e){return $e&&typeof $e.getColor=="function"&&typeof $e.getPaletteIndex=="function"}function toColorAxis($e){return $e}class MagnitudeAxis extends LinearAxis$1{constructor(e){super(e),D$2(this,"midPoint",ScreenPoint_LeftTop$1),this.position=AxisPosition$1.None,this.isPanEnabled=!1,this.isZoomEnabled=!1,this.majorGridlineStyle=LineStyle$1.Solid,this.minorGridlineStyle=LineStyle$1.Solid,e&&Object.assign(this,e)}inverseTransformPoint(e,t,r){if(!(r instanceof AngleAxis))throw new Error("Polar angle axis not defined!");const Ve=r;e-=this.midPoint.x,t-=this.midPoint.y,t*=-1;const je=Math.atan2(t,e);return e=Math.sqrt(e*e+t*t)/this.scale+this.offset,t=je/Ve.scale+Ve.offset*Math.PI/180,newDataPoint$1(e,t)}isXyAxis(){return!1}async render(e,t){await new MagnitudeAxisRenderer(e,this.plotModel).render(this,t)}transformPoint(e,t,r){if(!(r instanceof AngleAxis))throw new Error("Polar angle axis not defined!");const Ve=r,je=(e-this.offset)*this.scale,ze=(t-Ve.offset)*Ve.scale;return newScreenPoint$1(this.midPoint.x+je*Math.cos(ze/180*Math.PI),this.midPoint.y-je*Math.sin(ze/180*Math.PI))}updateTransform(e){const t=e.left,r=e.right,Ve=e.bottom,je=e.top;this.screenMin=newScreenPoint$1(t,je),this.screenMax=newScreenPoint$1(r,Ve),this.midPoint=newScreenPoint$1((t+r)/2,(Ve+je)/2);const ze=Math.min(Math.abs(r-t),Math.abs(je-Ve));let Xe=0,We=ze*.5;const qe=We-Xe;We=Xe+this.endPosition*qe,Xe=Xe+this.startPosition*qe;const Ke=this.isReversed?-1:1;this.minimumMargin>0&&(Xe+=this.minimumMargin*Ke),this.maximumMargin>0&&(We-=this.maximumMargin*Ke),this.minimumDataMargin>0&&(Xe+=this.minimumDataMargin*Ke),this.maximumDataMargin>0&&(We-=this.maximumDataMargin*Ke),this.actualMaximum-this.actualMinimum<=0&&(this.actualMaximum=this.actualMinimum+1);const Ze=this.preTransform(this.actualMaximum),Je=this.preTransform(this.actualMinimum),Qe=Xe-We;let ti,ni;Math.abs(Qe)>Number.EPSILON?ti=Xe/Qe*Ze-We/Qe*Je:ti=0;const ri=Ze-Je;Math.abs(ri)>Number.EPSILON?ni=(We-Xe)/ri:ni=1,this.setTransform(ni,ti),this.minimumDataMargin>0?this.clipMinimum=this.inverseTransform(0):this.clipMinimum=this.actualMinimum,this.maximumDataMargin>0?this.clipMaximum=this.inverseTransform(ze*.5):this.clipMaximum=this.actualMaximum,this.actualMaximumAndMinimumChangedOverride()}}var TickStyle$1=($e=>($e[$e.Crossing=0]="Crossing",$e[$e.Inside=1]="Inside",$e[$e.Outside=2]="Outside",$e[$e.None=3]="None",$e))(TickStyle$1||{});let AxisRendererBase$1=class{constructor(e,t){D$2(this,"_plot"),D$2(this,"rc"),D$2(this,"minorTickValues",[]),D$2(this,"axislinePen"),D$2(this,"extraPen"),D$2(this,"majorLabelValues",[]),D$2(this,"majorPen"),D$2(this,"majorTickPen"),D$2(this,"majorTickValues",[]),D$2(this,"minorPen"),D$2(this,"minorTickPen"),D$2(this,"zeroPen"),this._plot=t,this.rc=e}get plot(){return this._plot}get renderContext(){return this.rc}async render(e,t){if(!e)return;const{majorLabelValues:r,majorTickValues:Ve,minorTickValues:je}=e.getTickValues();this.majorLabelValues=r,this.majorTickValues=Ve,this.minorTickValues=je,this.createPens(e)}createPens(e){const t=e.minorTicklineColor.isAutomatic()?e.ticklineColor:e.minorTicklineColor;this.minorPen=OxyPen$1.create(e.minorGridlineColor,e.minorGridlineThickness,e.minorGridlineStyle),this.majorPen=OxyPen$1.create(e.majorGridlineColor,e.majorGridlineThickness,e.majorGridlineStyle),this.minorTickPen=OxyPen$1.create(t,e.minorGridlineThickness),this.majorTickPen=OxyPen$1.create(e.ticklineColor,e.majorGridlineThickness),this.zeroPen=OxyPen$1.create(e.ticklineColor,e.majorGridlineThickness),this.extraPen=OxyPen$1.create(e.extraGridlineColor,e.extraGridlineThickness,e.extraGridlineStyle),this.axislinePen=OxyPen$1.create(e.axislineColor,e.axislineThickness,e.axislineStyle)}getTickPositions(e,t,r,Ve){let je=0,ze=0;const Xe=Ve===AxisPosition$1.Top||Ve===AxisPosition$1.Left?-1:1;switch(t){case TickStyle$1.Crossing:je=-r*Xe*.75,ze=r*Xe*.75;break;case TickStyle$1.Inside:je=-r*Xe;break;case TickStyle$1.Outside:ze=r*Xe;break}return[je,ze]}isWithin(e,t,r){return e<t?!1:e<=r}};class AngleAxisRenderer extends AxisRendererBase$1{constructor(e,t){super(e,t)}async render(e,t){const r=e;await super.render(e,t);const Ve=this.plot.defaultMagnitudeAxis;if(!Ve)throw new Error("Magnitude axis not defined.");const je=r.startAngle/r.scale,ze=r.endAngle/r.scale,Xe=Math.abs(ze-je);if(this.minorPen){const Ke=Math.abs(Xe/e.actualMinorStep|0),Ze=this.minorTickValues.slice(0,Ke+1).map(Je=>Ve.transformPoint(Ve.clipMaximum,Je,e));for(const Je of Ze)await RenderingExtensions$1.drawLine(this.renderContext,Ve.midPoint.x,Ve.midPoint.y,Je.x,Je.y,this.minorPen,e.edgeRenderingMode)}const We=Math.abs(Math.abs(Math.max(r.endAngle,r.startAngle)-Math.min(r.startAngle,r.endAngle))-360)<.001;let qe=Xe/e.actualMajorStep|0;if(We||qe++,this.majorPen){const Ke=this.majorTickValues.slice(0,qe).map(Ze=>Ve.transformPoint(Ve.clipMaximum,Ze,e));for(const Ze of Ke)await RenderingExtensions$1.drawLine(this.renderContext,Ve.midPoint.x,Ve.midPoint.y,Ze.x,Ze.y,this.majorPen,e.edgeRenderingMode)}for(const Ke of this.majorLabelValues.slice(0,qe)){let Ze=Ve.transformPoint(Ve.clipMaximum,Ke,e);const Je=Math.atan2(Ze.y-Ve.midPoint.y,Ze.x-Ve.midPoint.x);let{x:Qe,y:ti}=Ze;Qe+=Math.cos(Je)*e.axisTickToLabelDistance,ti+=Math.sin(Je)*e.axisTickToLabelDistance,Ze=newScreenPoint$1(Qe,ti);let ni=Je*180/Math.PI;const ri=e.formatValue(Ke);let ii=HorizontalAlignment$1.Left,ei=VerticalAlignment$1.Middle;Math.abs(Math.abs(ni)-90)<10?(ii=HorizontalAlignment$1.Center,ei=ni>=90?VerticalAlignment$1.Top:VerticalAlignment$1.Bottom,ni=0):(ni>90||ni<-90)&&(ni-=180,ii=HorizontalAlignment$1.Right),await MathRenderingExtensions$1.drawMathText(this.renderContext,Ze,ri,e.actualTextColor,e.actualFont,e.actualFontSize,e.actualFontWeight,ni,ii,ei)}}}let HorizontalAndVerticalAxisRenderer$1=class Bs extends AxisRendererBase$1{constructor(e,t){super(e,t)}async render(e,t){await super.render(e,t);let r=!0;const Ve=e.axisDistance+e.positionTierMinShift,je=e.positionTierSize-this.plot.axisTierDistance,ze=this.plot.plotArea.left,Xe=this.plot.plotArea.right,We=this.plot.plotArea.top,qe=this.plot.plotArea.bottom;let Ke=0,Ze=0;switch(e.position){case AxisPosition$1.Left:Ke=ze-Ve;break;case AxisPosition$1.Right:Ke=Xe+Ve;break;case AxisPosition$1.Top:Ke=We-Ve;break;case AxisPosition$1.Bottom:Ke=qe+Ve;break}if(e.positionAtZeroCrossing){const Je=e.isHorizontal()?this.plot.defaultYAxis:this.plot.defaultXAxis;Ke=Je.transform(0);const Qe=e.isHorizontal()?Je.screenMin.y:Je.screenMin.x,ti=e.isHorizontal()?Je.screenMax.y:Je.screenMax.x;let ni=Math.min(Qe,ti),ri=Math.max(Qe,ti);const ii=e.isHorizontal()?We:ze,ei=e.isHorizontal()?qe:Xe;if(ni=Math.max(ni,ii),ri=Math.min(ri,ei),Ke<ni){Ke=ni;const St=e.isHorizontal()?this.plot.plotAreaBorderThickness.top:this.plot.plotAreaBorderThickness.left,oi=e.isHorizontal()?this.plot.plotArea.top:this.plot.plotArea.left;Ke<=oi&&St>0&&this.plot.plotAreaBorderColor.isVisible()&&(r=!1)}if(Ke>ri){Ke=ri;const St=e.isHorizontal()?this.plot.plotAreaBorderThickness.bottom:this.plot.plotAreaBorderThickness.right,oi=e.isHorizontal()?this.plot.plotArea.bottom:this.plot.plotArea.right;Ke>=oi&&St>0&&this.plot.plotAreaBorderColor.isVisible()&&(r=!1)}}switch(e.position){case AxisPosition$1.Left:Ze=Ke-je;break;case AxisPosition$1.Right:Ze=Ke+je;break;case AxisPosition$1.Top:Ze=Ke-je;break;case AxisPosition$1.Bottom:Ze=Ke+je;break}switch(e.position){case AxisPosition$1.Left:case AxisPosition$1.Top:Ze+=e.axisDistance;break;case AxisPosition$1.Right:case AxisPosition$1.Bottom:Ze-=e.axisDistance;break}t==0&&await this.renderMinorItems(e,Ke),t==1&&(await this.renderMajorItems(e,Ke,Ze,r),await this.renderAxisTitle(e,Ze))}static lerp(e,t,r){return e*(1-r)+t*r}static snapTo(e,t,r=.5){return t>e-r&&t<e+r?e:t}getAxisTitlePositionAndAlignment(e,t){let r=-90,Ve=HorizontalAlignment$1.Center,je=VerticalAlignment$1.Top,ze=e.isHorizontal()?Bs.lerp(e.screenMin.x,e.screenMax.x,e.titlePosition):Bs.lerp(e.screenMax.y,e.screenMin.y,e.titlePosition);e.positionAtZeroCrossing&&(ze=Bs.lerp(e.transform(e.clipMaximum),e.transform(e.clipMinimum),e.titlePosition));let Xe=ScreenPoint_LeftTop$1;switch(e.position){case AxisPosition$1.Left:Xe=newScreenPoint$1(t,ze);break;case AxisPosition$1.Right:je=VerticalAlignment$1.Bottom,Xe=newScreenPoint$1(t,ze);break;case AxisPosition$1.Top:Ve=HorizontalAlignment$1.Center,je=VerticalAlignment$1.Top,r=0,Xe=newScreenPoint$1(ze,t);break;case AxisPosition$1.Bottom:Ve=HorizontalAlignment$1.Center,je=VerticalAlignment$1.Bottom,r=0,Xe=newScreenPoint$1(ze,t);break;default:throw new Error("Invalid axis position")}return{point:Xe,angle:r,halign:Ve,valign:je}}async renderAxisTitle(e,t){if(!e.actualTitle)return;const r=e.isHorizontal();let Ve;if(e.clipTitle){const qe=Math.abs(r?e.screenMax.x-e.screenMin.x:e.screenMax.y-e.screenMin.y);Ve=new OxySize$1(qe*e.titleClippingLength,Number_MAX_VALUE$1)}const{point:je,angle:ze,halign:Xe,valign:We}=this.getAxisTitlePositionAndAlignment(e,t);await MathRenderingExtensions$1.drawMathText(this.renderContext,je,e.actualTitle,e.actualTitleColor,e.actualTitleFont,e.actualTitleFontSize,e.actualTitleFontWeight,ze,Xe,We,Ve)}async renderMajorItems(e,t,r,Ve){const je=e.actualMinorStep*.001,ze=e.clipMinimum,Xe=e.clipMaximum,We=this.plot.plotArea.left,qe=this.plot.plotArea.right,Ke=this.plot.plotArea.top,Ze=this.plot.plotArea.bottom,Je=e.isHorizontal(),Qe=e.cropGridlines,ti=[],ni=[],[ri,ii]=this.getTickPositions(e,e.tickStyle,e.majorTickSize,e.position),ei=e.isHorizontal()?this.plot.defaultYAxis:this.plot.defaultXAxis,St=e.positionAtZeroCrossing&&(ei==null?void 0:ei.positionAtZeroCrossing);let oi=[];Qe&&(Je?oi=this.plot.axes.filter(ui=>ui.isXyAxis()&&ui.isVertical()):oi=this.plot.axes.filter(ui=>ui.isXyAxis()&&ui.isHorizontal()));const si=Bs.snapTo;for(const ui of this.majorTickValues){if(St&&Math.abs(ui)<je)continue;let hi=e.transform(ui);Je?(hi=si(We,hi),hi=si(qe,hi)):(hi=si(Ke,hi),hi=si(Ze,hi)),this.majorPen&&this.addSegments(ti,oi,Je,Qe,hi,We,qe,Ke,Ze),e.tickStyle!=TickStyle$1.None&&e.majorTickSize>0&&(Je?(ni.push(newScreenPoint$1(hi,t+ri)),ni.push(newScreenPoint$1(hi,t+ii))):(ni.push(newScreenPoint$1(t+ri,hi)),ni.push(newScreenPoint$1(t+ii,hi))))}for(const ui of this.majorLabelValues){if(ui<ze-je||ui>Xe+je||St&&Math.abs(ui)<je)continue;let hi=e.transform(ui);Je?(hi=si(We,hi),hi=si(qe,hi)):(hi=si(Ke,hi),hi=si(Ze,hi));let ci=ScreenPoint_LeftTop$1,mi=[HorizontalAlignment$1.Center,VerticalAlignment$1.Middle];switch(e.position){case AxisPosition$1.Left:ci=newScreenPoint$1(t+ii-e.axisTickToLabelDistance,hi),mi=this.getRotatedAlignments(e.angle,-90);break;case AxisPosition$1.Right:ci=newScreenPoint$1(t+ii+e.axisTickToLabelDistance,hi),mi=this.getRotatedAlignments(e.angle,90);break;case AxisPosition$1.Top:ci=newScreenPoint$1(hi,t+ii-e.axisTickToLabelDistance),mi=this.getRotatedAlignments(e.angle,0);break;case AxisPosition$1.Bottom:ci=newScreenPoint$1(hi,t+ii+e.axisTickToLabelDistance),mi=this.getRotatedAlignments(e.angle,-180);break}const[di,pi]=mi,yi=e.formatValue(ui);await MathRenderingExtensions$1.drawMathText(this.renderContext,ci,yi,e.actualTextColor,e.actualFont,e.actualFontSize,e.actualFontWeight,e.angle,di,pi)}const ai=RenderingExtensions$1.getActualEdgeRenderingMode(e.edgeRenderingMode,EdgeRenderingMode$1.PreferSharpness);if(e.extraGridlines&&this.extraPen){const ui=[];for(const hi of e.extraGridlines){if(!this.isWithin(hi,ze,Xe))continue;const ci=e.transform(hi);this.addSegments(ui,oi,Je,Qe,ci,We,qe,Ke,Ze)}await RenderingExtensions$1.drawLineSegments(this.renderContext,ui,this.extraPen,ai)}Ve&&(Je?await RenderingExtensions$1.drawLine(this.renderContext,e.transform(ze),t,e.transform(Xe),t,this.axislinePen,ai):await RenderingExtensions$1.drawLine(this.renderContext,t,e.transform(ze),t,e.transform(Xe),this.axislinePen,ai)),this.majorPen&&await RenderingExtensions$1.drawLineSegments(this.renderContext,ti,this.majorPen,ai),this.majorTickPen&&await RenderingExtensions$1.drawLineSegments(this.renderContext,ni,this.majorTickPen,ai)}async renderMinorItems(e,t){const r=e.actualMinorStep*.001,Ve=this.plot.plotArea.left,je=this.plot.plotArea.right,ze=this.plot.plotArea.top,Xe=this.plot.plotArea.bottom,We=e.cropGridlines,qe=e.isHorizontal(),Ke=[],Ze=[];let Je=[];We&&(qe?Je=this.plot.axes.filter(ii=>ii.isXyAxis()&&ii.isVertical()):Je=this.plot.axes.filter(ii=>ii.isXyAxis()&&ii.isHorizontal()));const[Qe,ti]=this.getTickPositions(e,e.tickStyle,e.minorTickSize,e.position),ni=Bs.snapTo;for(const ii of this.minorTickValues){if(e.positionAtZeroCrossing&&Math.abs(ii)<r)continue;let ei=e.transform(ii);qe?(ei=ni(Ve,ei),ei=ni(je,ei)):(ei=ni(ze,ei),ei=ni(Xe,ei)),this.minorPen&&this.addSegments(Ke,Je,qe,We,ei,Ve,je,ze,Xe),e.tickStyle!=TickStyle$1.None&&e.minorTickSize>0&&(qe?(Ze.push(newScreenPoint$1(ei,t+Qe)),Ze.push(newScreenPoint$1(ei,t+ti))):(Ze.push(newScreenPoint$1(t+Qe,ei)),Ze.push(newScreenPoint$1(t+ti,ei))))}const ri=RenderingExtensions$1.getActualEdgeRenderingMode(e.edgeRenderingMode,EdgeRenderingMode$1.PreferSharpness);this.minorPen&&await RenderingExtensions$1.drawLineSegments(this.renderContext,Ke,this.minorPen,ri),this.minorTickPen&&await RenderingExtensions$1.drawLineSegments(this.renderContext,Ze,this.minorTickPen,ri)}addSegments(e,t,r,Ve,je,ze,Xe,We,qe){if(r)if(!Ve)e.push(newScreenPoint$1(je,We)),e.push(newScreenPoint$1(je,qe));else for(const Ke of t)e.push(newScreenPoint$1(je,Ke.transform(Ke.clipMinimum))),e.push(newScreenPoint$1(je,Ke.transform(Ke.clipMaximum)));else if(!Ve)e.push(newScreenPoint$1(ze,je)),e.push(newScreenPoint$1(Xe,je));else for(const Ke of t)e.push(newScreenPoint$1(Ke.transform(Ke.clipMinimum),je)),e.push(newScreenPoint$1(Ke.transform(Ke.clipMaximum),je))}getRotatedAlignments(e,t){const r=(t+360)%360-180;let Ve=e>=Math.min(t,r)&&e<Math.max(t,r)?HorizontalAlignment$1.Left:HorizontalAlignment$1.Right,je=VerticalAlignment$1.Middle;return t<0&&(Ve=Ve===HorizontalAlignment$1.Left?HorizontalAlignment$1.Right:HorizontalAlignment$1.Left),(Math.abs(e-r)<10||Math.abs(e-t)<10)&&(Ve=HorizontalAlignment$1.Center),Math.abs(e-t)<10&&(je=VerticalAlignment$1.Bottom),Math.abs(e-r)<10&&(je=VerticalAlignment$1.Top),[Ve,je]}};class MagnitudeAxisRenderer extends AxisRendererBase$1{constructor(e,t){super(e,t)}async render(e,t){await super.render(e,t);const r=this.plot.defaultAngleAxis;if(!r)throw new Error("Angle axis should not be null.");if(r.updateActualMaxMin(),t===0&&this.extraPen){const Ve=e.extraGridlines;if(Ve)for(let je=0;je<Ve.length;je++)await this.renderTick(e,r,Ve[je],this.extraPen)}if(t===0&&this.minorPen)for(const Ve of this.minorTickValues)await this.renderTick(e,r,Ve,this.minorPen);if(t===0&&this.majorPen)for(const Ve of this.majorTickValues)await this.renderTick(e,r,Ve,this.majorPen);if(t===1)for(const Ve of this.majorTickValues)await this.renderTickText(e,Ve,r)}static getActualAngle(e,t){const r=e.transformPoint(0,t.angle,t),Ve=e.transformPoint(1,t.angle,t);return Math.atan2(Ve.y-r.y,Ve.x-r.x)}static getTickTextAlignment(e){let t=HorizontalAlignment$1.Center,r=VerticalAlignment$1.Bottom;return e>3*Math.PI/4||e<-3*Math.PI/4?(t=HorizontalAlignment$1.Center,r=VerticalAlignment$1.Top):e<-Math.PI/4?(t=HorizontalAlignment$1.Right,r=VerticalAlignment$1.Middle):e>Math.PI/4?(t=HorizontalAlignment$1.Left,r=VerticalAlignment$1.Middle):(t=HorizontalAlignment$1.Center,r=VerticalAlignment$1.Bottom),[t,r]}async renderTick(e,t,r,Ve){Math.abs(Math.abs(t.endAngle-t.startAngle)-360)<1e-6&&!Ve.actualDashArray?await this.renderTickCircle(e,t,r,Ve):await this.renderTickArc(e,t,r,Ve)}async renderTickCircle(e,t,r,Ve){const je=t.offset,ze=e.transformPoint(e.clipMinimum,je,t),Xe=e.transformPoint(r,je,t).x,We=Xe-ze.x,qe=We*2,Ke=Xe-qe,Ze=ze.y-We,Je=qe;await this.renderContext.drawEllipse(new OxyRect$1(Ke,Ze,qe,Je),OxyColors$1.Undefined,Ve.color,Ve.thickness,e.edgeRenderingMode)}async renderTickArc(e,t,r,Ve){const je=t.clipMinimum,ze=t.clipMaximum,Xe=Math.round(90*Math.abs(t.endAngle-t.startAngle)/360),We=(ze-je)/(Xe-1),qe=[];for(let Ke=0;Ke<Xe;Ke++){const Ze=je+Ke*We;qe.push(e.transformPoint(r,Ze,t))}await this.renderContext.drawLine(qe,Ve.color,Ve.thickness,e.edgeRenderingMode,Ve.actualDashArray)}async renderTickText(e,t,r){const Ve=MagnitudeAxisRenderer.getActualAngle(e,r),je=e.axisTickToLabelDistance*Math.sin(Ve),ze=-e.axisTickToLabelDistance*Math.cos(Ve),[Xe,We]=MagnitudeAxisRenderer.getTickTextAlignment(Ve);let qe=e.transformPoint(t,r.angle,r);qe=newScreenPoint$1(qe.x+je,qe.y+ze);const Ke=e.formatValue(t);await MathRenderingExtensions$1.drawMathText(this.renderContext,qe,Ke,e.actualTextColor,e.actualFont,e.actualFontSize,e.actualFontWeight,e.angle,Xe,We)}}class AngleAxisFullPlotAreaRenderer extends AxisRendererBase$1{constructor(e,t){super(e,t)}async render(e,t){const r=e;await super.render(e,t);const Ve=this.plot.defaultMagnitudeAxis;if(!Ve)throw new Error("Magnitude axis not defined.");const je=r.startAngle/r.scale,ze=r.endAngle/r.scale,Xe=Math.abs(ze-je);if(this.minorPen){const Ke=Math.abs(Xe/e.actualMinorStep),Ze=this.minorTickValues.slice(0,Ke+1).map(Je=>this.transformToClientRectangle(Ve.clipMaximum,Je,e,this.plot.plotArea,Ve.midPoint));for(const Je of Ze)await RenderingExtensions$1.drawLine(this.renderContext,Ve.midPoint.x,Ve.midPoint.y,Je.x,Je.y,this.minorPen,e.edgeRenderingMode)}const We=Math.abs(Math.abs(Math.max(r.endAngle,r.startAngle)-Math.min(r.startAngle,r.endAngle))-360)<.001;let qe=Math.floor(Xe/e.actualMajorStep);if(We||qe++,this.majorPen){const Ke=this.majorTickValues.slice(0,qe).map(Ze=>this.transformToClientRectangle(Ve.clipMaximum,Ze,e,this.plot.plotArea,Ve.midPoint));for(const Ze of Ke)await RenderingExtensions$1.drawLine(this.renderContext,Ve.midPoint.x,Ve.midPoint.y,Ze.x,Ze.y,this.majorPen,e.edgeRenderingMode)}for(const Ke of this.majorLabelValues.slice(0,qe)){const Ze=this.transformToClientRectangle(Ve.clipMaximum,Ke,e,this.plot.plotArea,Ve.midPoint),Je=e.formatValue(Ke);let Qe=HorizontalAlignment$1.Center,ti=VerticalAlignment$1.Middle;const ni=this.plot.plotArea;let ri=Ze.y,ii=Ze.x;ri<=ni.top?(Qe=HorizontalAlignment$1.Center,ti=VerticalAlignment$1.Top,ri+=e.axisTickToLabelDistance):ri>=ni.bottom?(Qe=HorizontalAlignment$1.Center,ti=VerticalAlignment$1.Bottom,ri-=e.axisTickToLabelDistance):ii<=ni.left?(Qe=HorizontalAlignment$1.Left,ti=VerticalAlignment$1.Middle,ii+=e.axisTickToLabelDistance):ii>=ni.right&&(Qe=HorizontalAlignment$1.Right,ti=VerticalAlignment$1.Middle,ii-=e.axisTickToLabelDistance);const ei=newScreenPoint$1(ii,ri);await MathRenderingExtensions$1.drawMathText(this.renderContext,ei,Je,e.actualTextColor,e.actualFont,e.actualFontSize,e.actualFontWeight,0,Qe,ti)}}transformToClientRectangle(e,t,r,Ve,je){let ze=ScreenPoint_LeftTop$1,Xe=(t-r.offset)*r.scale;Xe%=360;const We=Xe/180*Math.PI,qe=Math.cos(We),Ke=-Math.sin(We);if(qe!==0){let Ze=0;qe>0?Ze=Ve.right-je.x:qe<0&&(Ze=Ve.left-je.x);const Je=Ze/qe;let Qe=Je*qe,ti=Je*Ke;if(ti+je.y>Ve.bottom||ti+je.y<Ve.top){let ni=0;Ke>0?ni=Ve.bottom-je.y:ni=Ve.top-je.y;const ri=ni/Ke;Qe=ri*qe,ti=ri*Ke,ze=newScreenPoint$1(ri*qe+je.x,ri*Ke+je.y)}else ze=newScreenPoint$1(Qe+je.x,ti+je.y)}return ze}}const degree$1=180/Math.PI,rad$1=Math.PI/180,ee$2=class Vs extends AxisRendererBase$1{constructor(e,t){super(e,t)}async render(e,t){await super.render(e,t);const r=this.plot.defaultAngleAxis,Ve=this.plot.defaultMagnitudeAxis;if(!r)throw new Error("Angle axis should not be undefined.");r.updateActualMaxMin();const je=Math.abs(e.plotModel.plotArea.top-Ve.midPoint.y),ze=Math.abs(e.plotModel.plotArea.bottom-Ve.midPoint.y),Xe=Math.abs(e.plotModel.plotArea.left-Ve.midPoint.x),We=Math.abs(e.plotModel.plotArea.right-Ve.midPoint.x),qe=e.plotModel.plotArea.offset(-Ve.midPoint.x,-Ve.midPoint.y),Ke=-degree$1*Math.atan2(qe.top,qe.right);let Ze=-degree$1*Math.atan2(qe.top,qe.left),Je=360-degree$1*Math.atan2(qe.bottom,qe.left);const Qe=360-degree$1*Math.atan2(qe.bottom,qe.right);Ze<0&&(Ze+=360),Je>360&&(Je-=360);const ti=Math.sqrt(Math.pow(qe.top,2)+Math.pow(qe.right,2)),ni=Math.sqrt(Math.pow(qe.top,2)+Math.pow(qe.left,2)),ri=Math.sqrt(Math.pow(qe.bottom,2)+Math.pow(qe.left,2)),ii=Math.sqrt(Math.pow(qe.bottom,2)+Math.pow(qe.right,2));if(t===0&&this.minorPen){const ei=this.minorPen;for(const St of this.minorTickValues){const oi=e.transform(St);let si=0,ai=90,ui=90,hi=180,ci=180,mi=270,di=270,pi=360;const yi=We/oi,gi=je/oi,_i=Xe/oi,Ai=ze/oi;oi>We&&(pi=360-degree$1*Math.acos(yi),si=degree$1*Math.acos(yi)),oi>je&&(ai=degree$1*Math.asin(gi),ui=180-degree$1*Math.asin(gi)),oi>Xe&&(hi=180-degree$1*Math.acos(_i),ci=180+degree$1*Math.acos(_i)),oi>ze&&(mi=180+degree$1*Math.asin(Ai),di=360-degree$1*Math.asin(Ai)),oi<=ti&&(si<Ke&&await this.renderTickArc(e,r,St,ei,si+r.offset,Ke+r.offset),Ke<ai&&await this.renderTickArc(e,r,St,ei,Ke+r.offset,ai+r.offset)),oi<=ni&&(ui<Ze&&await this.renderTickArc(e,r,St,ei,ui+r.offset,Ze+r.offset),Ze<hi&&await this.renderTickArc(e,r,St,ei,Ze+r.offset,hi+r.offset)),oi<=ri&&(ci<Je&&await this.renderTickArc(e,r,St,ei,ci+r.offset,Je+r.offset),Je<mi&&await this.renderTickArc(e,r,St,ei,Je+r.offset,mi+r.offset)),oi<=ii&&(di<Qe&&await this.renderTickArc(e,r,St,ei,di+r.offset,Qe+r.offset),Qe<pi&&await this.renderTickArc(e,r,St,ei,Qe+r.offset,pi+r.offset))}}if(t===0&&this.majorPen){const ei=this.majorPen;for(const St of this.majorTickValues){const oi=e.transform(St);let si=0,ai=90,ui=90,hi=180,ci=180,mi=270,di=270,pi=360;const yi=We/oi,gi=je/oi,_i=Xe/oi,Ai=ze/oi;oi>We&&(pi=360-degree$1*Math.acos(yi),si=degree$1*Math.acos(yi)),oi>je&&(ai=degree$1*Math.asin(gi),ui=180-degree$1*Math.asin(gi)),oi>Xe&&(hi=180-degree$1*Math.acos(_i),ci=180+degree$1*Math.acos(_i)),oi>ze&&(mi=180+degree$1*Math.asin(Ai),di=360-degree$1*Math.asin(Ai)),oi<=ti&&(si<Ke&&await this.renderTickArc(e,r,St,ei,si+r.offset,Ke+r.offset),Ke<ai&&await this.renderTickArc(e,r,St,ei,Ke+r.offset,ai+r.offset)),oi<=ni&&(ui<Ze&&await this.renderTickArc(e,r,St,ei,ui+r.offset,Ze+r.offset),Ze<hi&&await this.renderTickArc(e,r,St,ei,Ze+r.offset,hi+r.offset)),oi<=ri&&(ci<Je&&await this.renderTickArc(e,r,St,ei,ci+r.offset,Je+r.offset),Je<mi&&await this.renderTickArc(e,r,St,ei,Je+r.offset,mi+r.offset)),oi<=ii&&(di<Qe&&await this.renderTickArc(e,r,St,ei,di+r.offset,Qe+r.offset),Qe<pi&&await this.renderTickArc(e,r,St,ei,Qe+r.offset,pi+r.offset))}}if(t===1){const ei=RenderingExtensions$1.autoResetClip(this.renderContext,OxyRect$1.fromScreenPoints(e.screenMin,e.screenMax));for(const St of this.majorLabelValues)await this.renderTickText(e,St,r);ei.dispose()}}static getActualAngle(e,t){const r=e.transformPoint(0,t.angle,t),Ve=e.transformPoint(1,t.angle,t);return Math.atan2(Ve.y-r.y,Ve.x-r.x)}static getTickTextAligment(e){let t=HorizontalAlignment$1.Center,r=VerticalAlignment$1.Bottom;return e>3*Math.PI/4||e<-3*Math.PI/4?(t=HorizontalAlignment$1.Center,r=VerticalAlignment$1.Top):e<-Math.PI/4?(t=HorizontalAlignment$1.Right,r=VerticalAlignment$1.Middle):e>Math.PI/4?(t=HorizontalAlignment$1.Left,r=VerticalAlignment$1.Middle):(t=HorizontalAlignment$1.Center,r=VerticalAlignment$1.Bottom),[t,r]}async renderTickArc(e,t,r,Ve,je,ze){let Xe=Vs.maxSegments*Math.abs(ze-je)/360;(t.fractionUnit===Math.PI||t.actualMaximum===2*Math.PI)&&(Xe=Vs.maxSegments*Math.abs(ze-je)/(2*Math.PI),je*=rad$1,ze*=rad$1),Xe=Math.max(Xe,2),Xe=Math.min(Xe,Vs.maxSegments);const We=Math.abs(ze-je)/(Xe-1),qe=[];for(let Ke=0;Ke<Xe;Ke++){const Ze=je+Ke*We,Je=e.transformPoint(r,Ze,t);qe.push(Je)}await this.renderContext.drawLine(qe,Ve.color,Ve.thickness,e.edgeRenderingMode,Ve.actualDashArray)}async renderTickText(e,t,r){const Ve=Vs.getActualAngle(e,r),je=e.axisTickToLabelDistance*Math.sin(Ve),ze=-e.axisTickToLabelDistance*Math.cos(Ve),[Xe,We]=Vs.getTickTextAligment(Ve);let qe=e.transformPoint(t,r.angle,r);qe=newScreenPoint$1(qe.x+je,qe.y+ze);const Ke=e.formatValue(t);await MathRenderingExtensions$1.drawMathText(this.renderContext,qe,Ke,e.actualTextColor,e.actualFont,e.actualFontSize,e.actualFontWeight,e.angle,Xe,We)}};D$2(ee$2,"maxSegments",180);let MagnitudeAxisFullPlotAreaRenderer=ee$2;class LogarithmicAxis extends Axis$1{constructor(e){super(e),D$2(this,"base"),D$2(this,"powerPadding"),D$2(this,"logActualMaximum",0),D$2(this,"logActualMinimum",0),D$2(this,"logClipMaximum",0),D$2(this,"logClipMinimum",0),this.powerPadding=!0,this.base=10,this.filterMinValue=0,e&&Object.assign(this,removeUndef$1(e))}getTickValues(){let e=[],t=[],r=[];const Ve=Math.abs(this.logClipMaximum-this.logClipMinimum),je=Math.abs(this.isVertical()?this.screenMax.y-this.screenMin.y:this.screenMax.x-this.screenMin.x)/this.intervalLength/Ve,ze=1/Math.floor(je),Xe=Math.round(this.base);if(je<.75){const We=Math.pow(2,Math.ceil(Math.log(1/je)/Math.log(2)));e=this.decadeTicks(We),r=this.decadeTicks(Math.ceil(We/8))}else if(Math.abs(this.base-Xe)>1e-10)e=this.decadeTicks(ze),r=this.decadeTicks(.5*ze);else if(je<2)e=this.decadeTicks(),r=this.subdividedDecadeTicks();else{if(je>this.base*1.5)return super.getTickValues();{const We=this.logSubdividedDecadeTicks(!1);if(We.length<2)return super.getTickValues();const qe=this.logCalculateMinorCandidates(We,ze);r=this.powList(qe,!0),e=this.alignTicksToCandidates(We,ze)}}return t=e,r=AxisUtilities$1.filterRedundantMinorTicks(e,r),{majorLabelValues:t,majorTickValues:e,minorTickValues:r}}isXyAxis(){return!0}isLogarithmic(){return!0}pan(e,t){if(!this.isPanEnabled)return;const r=this.isHorizontal(),Ve=this.inverseTransform(r?e.x:e.y),je=this.inverseTransform(r?t.x:t.y);if(Math.abs(je)<=0)return;const ze=this.actualMinimum,Xe=this.actualMaximum,We=Ve/je;let qe=this.actualMinimum*We,Ke=this.actualMaximum*We;qe<this.absoluteMinimum&&(qe=this.absoluteMinimum,Ke=qe*this.actualMaximum/this.actualMinimum),Ke>this.absoluteMaximum&&(Ke=this.absoluteMaximum,qe=Ke*this.actualMinimum/this.actualMaximum),this.viewMinimum=qe,this.viewMaximum=Ke;const Ze=this.actualMinimum-ze,Je=this.actualMaximum-Xe;this.onAxisChanged({changeType:AxisChangeTypes$1.Pan,deltaMinimum:Ze,deltaMaximum:Je})}inverseTransform(e){return Math.exp(e/this.scale+this.offset)}transform(e){return e<=0?-1:(Math.log(e)-this.offset)*this.scale}zoomAt(e,t){if(!this.isZoomEnabled)return;const r=this.actualMinimum,Ve=this.actualMaximum,je=this.preTransform(t),ze=this.preTransform(this.actualMinimum)-je,Xe=this.preTransform(this.actualMaximum)-je,We=this.postInverseTransform(ze/e+je),qe=this.postInverseTransform(Xe/e+je),Ke=Math.max(We,this.absoluteMinimum),Ze=Math.min(qe,this.absoluteMaximum);this.viewMinimum=Ke,this.viewMaximum=Ze,this.updateActualMaxMin();const Je=this.actualMinimum-r,Qe=this.actualMaximum-Ve;this.onAxisChanged({changeType:AxisChangeTypes$1.Zoom,deltaMinimum:Je,deltaMaximum:Qe})}powList(e,t=!1){return e.filter(r=>!t||!(r<this.logClipMinimum)).filter(r=>!t||!(r>this.logClipMaximum)).map(r=>Math.pow(this.base,r))}logList(e,t=!1){return e.filter(r=>!t||!(r<this.clipMinimum)).filter(r=>!t||!(r>this.clipMaximum)).map(r=>Math.log(r)/Math.log(this.base))}decadeTicks(e=1){return this.powList(this.logDecadeTicks(e))}logDecadeTicks(e=1){const t=[];if(e<=0)return t;let r=Number.NaN;for(let Ve=Math.ceil(this.logClipMinimum);Ve<=this.logClipMaximum&&!(Ve<=r);Ve+=e)r=Ve,Ve>=this.logClipMinimum&&t.push(Ve);return t}logSubdividedDecadeTicks(e=!0){return this.logList(this.subdividedDecadeTicks(e))}subdividedDecadeTicks(e=!0){const t=[];for(let r=Math.floor(this.logClipMinimum);!(r>this.logClipMaximum);r++){const Ve=Math.pow(this.base,r);for(let je=1;je<this.base;je++){const ze=Ve*je;if(!(e&&ze<this.clipMinimum)){if(e&&ze>this.clipMaximum)break;t.push(Ve*je)}}}return t}alignTicksToCandidates(e,t){return this.powList(this.logAlignTicksToCandidates(e,t))}logAlignTicksToCandidates(e,t){const r=[];let Ve=1,je=Number.NaN;for(let ze=Math.floor(this.logClipMinimum);;ze+=t){if(ze<this.logClipMinimum-t)continue;if(ze>this.logClipMaximum+t)break;for(;Ve<e.length-1&&e[Ve]<ze;)Ve++;const Xe=Math.abs(e[Ve]-ze)<Math.abs(e[Ve-1]-ze)?e[Ve]:e[Ve-1];Xe!=je&&Xe>=this.logClipMinimum&&Xe<=this.logClipMaximum&&r.push(Xe),je=Xe}return r}logCalculateMinorCandidates(e,t){const r=[];for(let Ve=1;Ve<e.length;Ve++){const je=e[Ve-1],ze=e[Ve];if(!(ze<this.logClipMinimum)){if(je>this.logClipMaximum)break;(ze-je)/t>2&&this.logSubdivideInterval(r,this.base,je,ze),r.push(ze)}}return r}logSubdivideInterval(e,t,r,Ve){let je=1;const ze=Math.round(this.base);if(t<2)return;if(Math.abs(this.base-ze)>this.base*1e-10)je=Math.round(t);else if(ze&ze-1)for(ze!=10&&(je=ze);!(je>=t||(je*=2,je>=t)||(je=Math.round(je*2.5),je>=t));)je*=2;else for(;je<t;)je*=2;const Xe=Math.pow(this.base,r),We=Math.pow(this.base,Ve);for(let qe=1;qe<je;qe++){const Ke=qe/je,Ze=Math.log(Xe+(We-Xe)*Ke)/Math.log(this.base);e.push(Ze)}}updateActualMaxMin(){if(this.powerPadding){const e=Math.log(this.base),t=Math.floor(Math.log(this.actualMinimum)/e),r=Math.ceil(Math.log(this.actualMaximum)/e);isNaN(this.actualMinimum)||(this.actualMinimum=round$2(Math.exp(t*e),14)),isNaN(this.actualMaximum)||(this.actualMaximum=round$2(Math.exp(r*e),14))}super.updateActualMaxMin(),this.actualMinimum<=0&&(this.actualMinimum=.1)}actualMaximumAndMinimumChangedOverride(){this.logActualMinimum=log$1(this.actualMinimum,this.base),this.logActualMaximum=log$1(this.actualMaximum,this.base),this.logClipMinimum=log$1(this.clipMinimum,this.base),this.logClipMaximum=log$1(this.clipMaximum,this.base)}postInverseTransform(e){return Math.exp(e)}preTransform(e){if(e<=0)throw new Error("Value should be positive.");return e<=0?0:Math.log(e)}coerceActualMaxMin(){(isNaN(this.actualMinimum)||isInfinity$1(this.actualMinimum))&&(this.actualMinimum=1),this.actualMinimum<=0&&(this.actualMinimum=1),this.actualMaximum<=this.actualMinimum&&(this.actualMaximum=this.actualMinimum*100),super.coerceActualMaxMin()}calculateActualMaximum(){let e=this.dataMaximum;if(this.dataMaximum-this.dataMinimum<Number.EPSILON){const t=this.dataMaximum>0?this.dataMaximum:1;e+=t*.5}if(!isNaN(this.dataMinimum)&&!isNaN(e)){const t=e,r=this.dataMinimum;return Math.pow(t,this.maximumPadding+1)*(r>Number.EPSILON?Math.pow(r,-this.maximumPadding):1)}return e}calculateActualMinimum(){let e=this.dataMinimum;if(this.dataMaximum-this.dataMinimum<Number.EPSILON){const t=this.dataMaximum>0?this.dataMaximum:1;e-=t*.5}if(!isNaN(this.actualMaximum)){const t=this.actualMaximum,r=e,Ve=this.maximumPadding;return Math.pow(r,1+this.minimumPadding-this.minimumPadding*Ve/(1+Ve))*Math.pow(t,-this.minimumPadding/(1+Ve))}return e}}var DateTimeIntervalType$1=($e=>($e[$e.Auto=0]="Auto",$e[$e.Manual=1]="Manual",$e[$e.Milliseconds=2]="Milliseconds",$e[$e.Seconds=3]="Seconds",$e[$e.Minutes=4]="Minutes",$e[$e.Hours=5]="Hours",$e[$e.Days=6]="Days",$e[$e.Weeks=7]="Weeks",$e[$e.Months=8]="Months",$e[$e.Years=9]="Years",$e))(DateTimeIntervalType$1||{});const Lt$2=class to extends LinearAxis$1{constructor(e){super(e),D$2(this,"actualIntervalType",DateTimeIntervalType$1.Auto),D$2(this,"actualMinorIntervalType",DateTimeIntervalType$1.Auto),D$2(this,"_dateService"),D$2(this,"firstDayOfWeek"),D$2(this,"intervalType"),D$2(this,"minorIntervalType",DateTimeIntervalType$1.Auto),D$2(this,"timeZone"),this.position=AxisPosition$1.Bottom,this.intervalType=DateTimeIntervalType$1.Auto,this.firstDayOfWeek=DayOfWeek$1.Monday,this._dateService=getDateService$1(),e&&Object.assign(this,removeUndef$1(e))}static createDataPoint(e,t){return newDataPoint$1(to.toDouble(e),t)}static toDateTime(e){return isNaN(e)||e<to.MinDayValue||e>to.MaxDayValue?new Date:getDateService$1().addTimespan(to.TimeOrigin,TimeSpan$1.fromDays(e-1))}static toDouble(e){return getDateService$1().diff(e,to.TimeOrigin).totalDays+1}itemToDouble(e){return e instanceof Date?to.toDouble(e):super.itemToDouble(e)}getTickValues(){let e=this.createDateTimeTickValues(this.clipMinimum,this.clipMaximum,this.actualMinorStep,this.actualMinorIntervalType);const t=this.createDateTimeTickValues(this.clipMinimum,this.clipMaximum,this.actualMajorStep,this.actualIntervalType),r=t;return e=AxisUtilities$1.filterRedundantMinorTicks(t,e),{majorLabelValues:r,majorTickValues:t,minorTickValues:e}}getValue(e){const t=to.toDateTime(e);return this.timeZone?this._dateService.convertTime(t,this.timeZone):t}updateIntervals(e){super.updateIntervals(e);const t=!isNullOrUndef$1(this.stringFormatter);switch(this.actualIntervalType){case DateTimeIntervalType$1.Years:this.actualMinorStep=31,this.actualMinorIntervalType=DateTimeIntervalType$1.Years,t||(this.actualStringFormatter=r=>this._dateService.format(r,"YYYY"));break;case DateTimeIntervalType$1.Months:this.actualMinorIntervalType=DateTimeIntervalType$1.Months,t||(this.actualStringFormatter=r=>this._dateService.format(r,"YYYY-MM-DD"));break;case DateTimeIntervalType$1.Weeks:this.actualMinorIntervalType=DateTimeIntervalType$1.Days,this.actualMajorStep=7,this.actualMinorStep=1,t||(this.actualStringFormatter=r=>this._dateService.format(r,"YYYY/ww"));break;case DateTimeIntervalType$1.Days:this.actualMinorStep=this.actualMajorStep,t||(this.actualStringFormatter=r=>this._dateService.format(r,"YYYY-MM-DD"));break;case DateTimeIntervalType$1.Hours:this.actualMinorStep=this.actualMajorStep,t||(this.actualStringFormatter=r=>this._dateService.format(r,"HH:mm"));break;case DateTimeIntervalType$1.Minutes:this.actualMinorStep=this.actualMajorStep,t||(this.actualStringFormatter=r=>this._dateService.format(r,"HH:mm"));break;case DateTimeIntervalType$1.Seconds:this.actualMinorStep=this.actualMajorStep,t||(this.actualStringFormatter=r=>this._dateService.format(r,"HH:mm:ss"));break;case DateTimeIntervalType$1.Milliseconds:this.actualMinorStep=this.actualMajorStep,t||(this.actualStringFormatter=r=>this._dateService.format(r,"HH:mm:ss.SSS"));break;case DateTimeIntervalType$1.Manual:break;case DateTimeIntervalType$1.Auto:break}}getDefaultStringFormatter(){return e=>this._dateService.format(e,"yyyy-MM-dd")}formatValueOverride(e){let t=to.toDateTime(e);this.timeZone&&(t=this._dateService.convertTime(t,this.timeZone));const r=this.actualStringFormatter;return r?r(t):t.toLocaleDateString()}calculateActualInterval(e,t,r,Ve,je){const ze=.041666666666666664,Xe=ze/60,We=Xe/60,qe=We/1e3;je=Math.abs(this.clipMinimum-this.clipMaximum);const Ke=[qe,2*qe,10*qe,100*qe,We,2*We,5*We,10*We,30*We,Xe,2*Xe,5*Xe,10*Xe,30*Xe,ze,4*ze,8*ze,12*ze,1,2*1,5*1,7,2*7,30.5,2*30.5,3*30.5,4*30.5,6*30.5,365.25];let Ze=Ke[0];for(r=Math.max(r,0),Ve=Math.min(Ve,Math.max(Math.floor(e/t),2));!(je/Ze<Ve);){let Je=Ke.find(Qe=>Qe>Ze);if(isUndef$1(Je))throw new Error(`cannot calculate interval,range=${je}`);if(Math.abs(Je)<=0&&(Je=Ze*2),je/Je<r)break;Ze=Je}if(this.actualIntervalType=this.intervalType,this.actualMinorIntervalType=this.minorIntervalType,this.intervalType===DateTimeIntervalType$1.Auto&&(this.actualIntervalType=DateTimeIntervalType$1.Milliseconds,Ze>=1/24/60/60&&(this.actualIntervalType=DateTimeIntervalType$1.Seconds),Ze>=1/24/60&&(this.actualIntervalType=DateTimeIntervalType$1.Minutes),Ze>=1/24&&(this.actualIntervalType=DateTimeIntervalType$1.Hours),Ze>=1&&(this.actualIntervalType=DateTimeIntervalType$1.Days),Ze>=30&&(this.actualIntervalType=DateTimeIntervalType$1.Months),je>=365.25&&(this.actualIntervalType=DateTimeIntervalType$1.Years)),this.actualIntervalType===DateTimeIntervalType$1.Months){const Je=je/30.5;Ze=super.calculateActualInterval(e,t,this.minimumMajorIntervalCount,this.maximumMajorIntervalCount,Je)}if(this.actualIntervalType===DateTimeIntervalType$1.Years){const Je=je/365.25;Ze=super.calculateActualInterval(e,t,this.minimumMajorIntervalCount,this.maximumMajorIntervalCount,Je)}if(this.actualMinorIntervalType===DateTimeIntervalType$1.Auto)switch(this.actualIntervalType){case DateTimeIntervalType$1.Years:this.actualMinorIntervalType=DateTimeIntervalType$1.Months;break;case DateTimeIntervalType$1.Months:this.actualMinorIntervalType=DateTimeIntervalType$1.Days;break;case DateTimeIntervalType$1.Weeks:this.actualMinorIntervalType=DateTimeIntervalType$1.Days;break;case DateTimeIntervalType$1.Days:this.actualMinorIntervalType=DateTimeIntervalType$1.Hours;break;case DateTimeIntervalType$1.Hours:this.actualMinorIntervalType=DateTimeIntervalType$1.Minutes;break;default:this.actualMinorIntervalType=DateTimeIntervalType$1.Days;break}return Ze}createDateTickValues(e,t,r,Ve){const je=[];let ze=to.toDateTime(e);if(!ze)return je;let Xe=0;switch(Ve){case DateTimeIntervalType$1.Weeks:Xe=this._dateService.dayOfWeek(ze),ze=this._dateService.addTimespan(ze,TimeSpan$1.fromDays(-Xe+this.firstDayOfWeek));break;case DateTimeIntervalType$1.Months:ze=new Date(ze.getFullYear(),ze.getMonth(),1);break;case DateTimeIntervalType$1.Years:ze=new Date(ze.getFullYear(),0,1);break}const We=this._dateService.addTimespan(to.toDateTime(t),TimeSpan$1.fromMilliseconds(1));if(!We)return je;let qe=ze;const Ke=r*.001,Ze=to.toDateTime(e-Ke),Je=to.toDateTime(t+Ke);if(!Ze||!Je)return je;for(;qe<We;)switch(qe>Ze&&qe<Je&&je.push(to.toDouble(qe)),Ve){case DateTimeIntervalType$1.Months:qe=this._dateService.addMonths(qe,Math.ceil(r));break;case DateTimeIntervalType$1.Years:qe=this._dateService.addYears(qe,Math.ceil(r));break;default:qe=this._dateService.addTimespan(qe,TimeSpan$1.fromDays(r));break}return je}createDateTimeTickValues(e,t,r,Ve){return Ve>DateTimeIntervalType$1.Days?this.createDateTickValues(e,t,r,Ve):this.createTickValues(e,t,r)}};D$2(Lt$2,"TimeOrigin",new Date(Date.UTC(1901,0,1,0,0,0))),D$2(Lt$2,"MaxDayValue",TimeSpan$1.fromMilliseconds(DateTime_MaxValue$1.getTime()-Lt$2.TimeOrigin.getTime()).totalDays),D$2(Lt$2,"MinDayValue",TimeSpan$1.fromMilliseconds(DateTime_MinValue$1.getTime()-Lt$2.TimeOrigin.getTime()).totalDays);let DateTimeAxis=Lt$2;class TimeSpanAxis extends LinearAxis$1{static toDouble(e){return e.totalSeconds}itemToDouble(e){return e instanceof TimeSpan$1?TimeSpanAxis.toDouble(e):super.itemToDouble(e)}static toTimeSpan(e){return TimeSpan$1.fromSeconds(e)}getValue(e){return TimeSpanAxis.toTimeSpan(e)}getDefaultStringFormatter(){function e(t){return t.toString().padStart(2,"0")}return t=>`${t.hours}:${e(t.minutes)}:${e(t.seconds)}`}formatValueOverride(e){const t=TimeSpanAxis.toTimeSpan(e),r=this.actualStringFormatter??this.stringFormatter;return r?r(t):t.toString()}calculateActualInterval(e,t,r,Ve){const je=Math.abs(this.clipMinimum-this.clipMaximum);let ze=1;const Xe=[1,5,10,30,60,120,300,600,900,1200,1800,3600];for(r=Math.max(r,0),Ve=Math.min(Ve,Math.max(Math.floor(e/t),2));!(je/ze<Ve);){let We=Xe.find(qe=>qe>ze);if(We||(We=ze*2),je/We<r)break;ze=We}return ze}}class LinearColorAxis extends LinearAxis$1{constructor(e){super(e),D$2(this,"invalidNumberColor"),D$2(this,"highColor"),D$2(this,"lowColor"),D$2(this,"palette"),D$2(this,"renderAsImage",!1),this.position=AxisPosition$1.None,this.axisDistance=20,this.isPanEnabled=!1,this.isZoomEnabled=!1,this.palette=OxyPalettes$1.viridis(),this.lowColor=OxyColors$1.Undefined,this.highColor=OxyColors$1.Undefined,this.invalidNumberColor=OxyColors$1.Gray,e&&Object.assign(this,removeUndef$1(e))}isXyAxis(){return!1}getColor(e){return assertInteger(e,"paletteIndex"),e===Number_MIN_VALUE$1?this.invalidNumberColor:e===0?this.lowColor:e===this.palette.colors.length+1?this.highColor:this.palette.colors[e-1]}getColors(){return[this.lowColor,...this.palette.colors,this.highColor]}getPaletteIndex(e){if(isNaN(e))return Number_MIN_VALUE$1;if(!this.lowColor.isUndefined()&&e<this.clipMinimum)return 0;if(!this.highColor.isUndefined()&&e>this.clipMaximum)return this.palette.colors.length+1;let t=1+Math.floor((e-this.clipMinimum)/(this.clipMaximum-this.clipMinimum)*this.palette.colors.length);return t<1&&(t=1),t>this.palette.colors.length&&(t=this.palette.colors.length),t}async render(e,t){if(this.position!==AxisPosition$1.None){if(this.palette===void 0)throw new Error("No Palette defined for color axis.");if(t===0){const r=this.axisDistance;let Ve=this.plotModel.plotArea.left,je=this.plotModel.plotArea.top;const ze=this.majorTickSize-2,Xe=this.majorTickSize-2;switch(this.position){case AxisPosition$1.Left:Ve=this.plotModel.plotArea.left-this.positionTierMinShift-ze-r,je=this.plotModel.plotArea.top;break;case AxisPosition$1.Right:Ve=this.plotModel.plotArea.right+this.positionTierMinShift+r,je=this.plotModel.plotArea.top;break;case AxisPosition$1.Top:Ve=this.plotModel.plotArea.left,je=this.plotModel.plotArea.top-this.positionTierMinShift-Xe-r;break;case AxisPosition$1.Bottom:Ve=this.plotModel.plotArea.left,je=this.plotModel.plotArea.bottom+this.positionTierMinShift+r;break}if(this.renderAsImage){const We=this.transform(this.clipMaximum)-this.transform(this.clipMinimum),qe=We>0,Ke=Math.abs(We);if(this.isHorizontal()){const Ze=await this.generateColorAxisImage(qe);await RenderingExtensions$1.drawImage(e,Ze,Ve,je,Ke,Xe,1,!0)}else{const Ze=await this.generateColorAxisImage(qe);await RenderingExtensions$1.drawImage(e,Ze,Ve,je,ze,Ke,1,!0)}}else{const We=async(Ze,Je,Qe)=>{const ti=Math.min(Ze,Je),ni=Math.max(Ze,Je)+.5;await e.drawRectangle(this.isHorizontal()?new OxyRect$1(ti,je,ni-ti,Xe):new OxyRect$1(Ve,ti,ze,ni-ti),Qe,OxyColors$1.Undefined,0,this.edgeRenderingMode)},qe=this.palette.colors.length;for(let Ze=0;Ze<qe;Ze++){const Je=this.transform(this.getLowValue(Ze)),Qe=this.transform(this.getHighValue(Ze));await We(Je,Qe,this.palette.colors[Ze])}let Ke=10;if(this.isHorizontal()&&(Ke*=-1),!this.lowColor.isUndefined()){const Ze=this.transform(this.clipMinimum);await We(Ze,Ze+Ke,this.lowColor)}if(!this.highColor.isUndefined()){const Ze=this.transform(this.clipMaximum);await We(Ze,Ze-Ke,this.highColor)}}}await super.render(e,t)}}getHighValue(e){return this.getLowValue(e+1)}getLowValue(e){return e/this.palette.colors.length*(this.clipMaximum-this.clipMinimum)+this.clipMinimum}generateColorAxisImage(e){const t=this.palette.colors.length,r=this.isHorizontal()?t:1,Ve=this.isHorizontal()?1:t,je=new TwoDimensionalArray$1(r,Ve);for(let ze=0;ze<t;ze++){const Xe=this.palette.colors[ze],We=e?t-1-ze:ze;this.isHorizontal()?je.set(We,0,Xe):je.set(0,We,Xe)}return OxyImage$1.create(je,ImageFormat$1.Png)}}class RangeColorAxis extends LinearAxis$1{constructor(e){super(e),D$2(this,"ranges",[]),D$2(this,"invalidNumberColor"),D$2(this,"highColor"),D$2(this,"lowColor"),this.position=AxisPosition$1.None,this.axisDistance=20,this.lowColor=OxyColors$1.Undefined,this.highColor=OxyColors$1.Undefined,this.invalidNumberColor=OxyColors$1.Gray,this.isPanEnabled=!1,this.isZoomEnabled=!1,e&&Object.assign(this,e)}addRange(e,t,r){this.ranges.push({lowerBound:e,upperBound:t,color:r})}clearRanges(){this.ranges.length=0}getPaletteIndex(e){if(!this.lowColor.isUndefined()&&e<this.ranges[0].lowerBound)return-1;if(!this.highColor.isUndefined()&&e>this.ranges[this.ranges.length-1].upperBound)return this.ranges.length;for(let t=0;t<this.ranges.length;t++){const r=this.ranges[t];if(r.lowerBound<=e&&r.upperBound>e)return t}return Number_MIN_VALUE$1}getColor(e){return e===Number_MIN_VALUE$1?this.invalidNumberColor:e===-1?this.lowColor:e===this.ranges.length?this.highColor:this.ranges[e].color}async render(e,t){if(this.position!==AxisPosition$1.None){if(t===0){const r=this.axisDistance;let Ve=this.plotModel.plotArea.left,je=this.plotModel.plotArea.top;const ze=this.majorTickSize-2,Xe=this.majorTickSize-2,We=0;switch(this.position){case AxisPosition$1.Left:Ve=this.plotModel.plotArea.left-We-ze-r,je=this.plotModel.plotArea.top;break;case AxisPosition$1.Right:Ve=this.plotModel.plotArea.right+We+r,je=this.plotModel.plotArea.top;break;case AxisPosition$1.Top:Ve=this.plotModel.plotArea.left,je=this.plotModel.plotArea.top-We-Xe-r;break;case AxisPosition$1.Bottom:Ve=this.plotModel.plotArea.left,je=this.plotModel.plotArea.bottom+We+r;break}const qe=async(Qe,ti,ni)=>{const ri=Math.min(Qe,ti),ii=Math.max(Qe,ti);await e.drawRectangle(this.isHorizontal()?new OxyRect$1(ri,je,ii-ri,Xe):new OxyRect$1(Ve,ri,ze,ii-ri),ni,OxyColors$1.Undefined,0,this.edgeRenderingMode)},Ke=this.transform(this.isReversed?this.actualMinimum:this.actualMaximum),Ze=this.transform(this.isReversed?this.actualMaximum:this.actualMinimum);for(const Qe of this.ranges){let ti=this.transform(Qe.lowerBound),ni=this.transform(Qe.upperBound);this.isHorizontal()?(ti<Ze&&(ti=Ze),ni>Ke&&(ni=Ke)):(ti>Ze&&(ti=Ze),ni<Ke&&(ni=Ke)),await qe(ti,ni,Qe.color)}let Je=10;if(this.isHorizontal()&&(Je*=-1),!this.lowColor.isUndefined()){const Qe=this.transform(this.actualMinimum);await qe(Qe,Qe+Je,this.lowColor)}if(!this.highColor.isUndefined()){const Qe=this.transform(this.actualMaximum);await qe(Qe,Qe-Je,this.highColor)}}await new HorizontalAndVerticalAxisRenderer$1(e,this.plotModel).render(this,t)}}}class MagnitudeAxisFullPlotArea extends MagnitudeAxis{constructor(e){super(e),D$2(this,"_midShiftH",0),D$2(this,"_midShiftV",0),this.position=AxisPosition$1.None,this.isPanEnabled=!0,this.isZoomEnabled=!1,this.majorGridlineStyle=LineStyle$1.Solid,this.minorGridlineStyle=LineStyle$1.Solid,e&&Object.assign(this,e)}get midShiftH(){return this._midShiftH}set midShiftH(e){this._midShiftH=e,this._midShiftH=Math.max(this._midShiftH,-.5),this._midShiftH=Math.min(this._midShiftH,.5)}get midShiftV(){return this._midShiftV}set midShiftV(e){this._midShiftV=e,this._midShiftV=Math.max(this._midShiftV,-.5),this._midShiftV=Math.min(this._midShiftV,.5)}async render(e,t){await new MagnitudeAxisFullPlotAreaRenderer(e,this.plotModel).render(this,t)}getTickValues(){const e=OxyRect$1.fromScreenPoints(this.screenMin,this.screenMax),t=screenPointDistanceTo$1(e.topLeft,this.midPoint),r=screenPointDistanceTo$1(e.topRight,this.midPoint),Ve=screenPointDistanceTo$1(e.bottomRight,this.midPoint),je=screenPointDistanceTo$1(e.bottomLeft,this.midPoint);let ze=Math.max(t,r);ze=Math.max(ze,Ve),ze=Math.max(ze,je);const Xe=this.inverseTransform(ze),We=AxisUtilities$1.createTickValues(this.actualMinimum,Xe,this.actualMajorStep);let qe=AxisUtilities$1.createTickValues(this.actualMinimum,Xe,this.actualMinorStep);return qe=AxisUtilities$1.filterRedundantMinorTicks(We,qe),{majorLabelValues:We,majorTickValues:We,minorTickValues:qe}}updateTransform(e){const t=e.left,r=e.right,Ve=e.bottom,je=e.top;this.screenMin=newScreenPoint$1(t,je),this.screenMax=newScreenPoint$1(r,Ve),this.midPoint=newScreenPoint$1((t+r)/2+this.midShiftH*e.width,(Ve+je)/2+this.midShiftV*e.height);const ze=Math.min(Math.abs(r-t),Math.abs(je-Ve));let Xe=0,We=ze*.5;const qe=We-Xe;We=Xe+this.endPosition*qe,Xe=Xe+this.startPosition*qe;const Ke=this.isReversed?-1:1;this.minimumDataMargin>0&&(Xe+=this.minimumDataMargin*Ke),this.maximumDataMargin>0&&(We-=this.maximumDataMargin*Ke),this.actualMaximum-this.actualMinimum<=0&&(this.actualMaximum=this.actualMinimum+1);const Ze=this.preTransform(this.actualMaximum),Je=this.preTransform(this.actualMinimum),Qe=Xe-We;let ti,ni;Math.abs(Qe)>Number.EPSILON?ti=Xe/Qe*Ze-We/Qe*Je:ti=0;const ri=Ze-Je;Math.abs(ri)>Number.EPSILON?ni=(We-Xe)/ri:ni=1,this.setTransform(ni,ti),this.minimumDataMargin>0?this.clipMinimum=this.inverseTransform(0):this.clipMinimum=this.actualMinimum,this.maximumDataMargin>0?this.clipMaximum=this.inverseTransform(ze*.5):this.clipMaximum=this.actualMaximum,this.actualMaximumAndMinimumChangedOverride()}pan(e,t){if(!this.isPanEnabled)return;const r=t.x-e.x,Ve=t.y-e.y,je=r/this.plotModel.plotArea.width,ze=Ve/this.plotModel.plotArea.height;this.midShiftH+=je,this.midShiftV+=ze,this.onAxisChanged({changeType:AxisChangeTypes$1.Pan,deltaMinimum:0,deltaMaximum:0})}zoomAt(e,t){this.isZoomEnabled&&super.zoomAt(e,0)}}let ColorAxisExtensions$1=class{static getColor(e,t){return e.getColor(e.getPaletteIndex(t))}};class CategoryColorAxis extends CategoryAxis$1{constructor(e){super(e),D$2(this,"invalidCategoryColor",OxyColors$1.Undefined),D$2(this,"palette"),this.palette=new OxyPalette$1,e&&Object.assign(this,e)}getColor(e){return e===-1?this.invalidCategoryColor:e>=this.palette.colors.length?this.invalidCategoryColor:this.palette.colors[e]}getPaletteIndex(e){return Math.floor(e)}async render(e,t){if(this.position!==AxisPosition$1.None){if(t===0){let r=this.plotModel.plotArea.left,Ve=this.plotModel.plotArea.top;const je=this.majorTickSize-2,ze=this.majorTickSize-2;switch(this.position){case AxisPosition$1.Left:r=this.plotModel.plotArea.left-this.positionTierMinShift-je,Ve=this.plotModel.plotArea.top;break;case AxisPosition$1.Right:r=this.plotModel.plotArea.right+this.positionTierMinShift,Ve=this.plotModel.plotArea.top;break;case AxisPosition$1.Top:r=this.plotModel.plotArea.left,Ve=this.plotModel.plotArea.top-this.positionTierMinShift-ze;break;case AxisPosition$1.Bottom:r=this.plotModel.plotArea.left,Ve=this.plotModel.plotArea.bottom+this.positionTierMinShift;break}const Xe=async(Ke,Ze,Je)=>{const Qe=Math.min(Ke,Ze),ti=Math.max(Ke,Ze);await e.drawRectangle(this.isHorizontal()?new OxyRect$1(Qe,Ve,ti-Qe,ze):new OxyRect$1(r,Qe,je,ti-Qe),Je,OxyColors$1.Undefined,0,this.edgeRenderingMode)},{majorLabelValues:We}=this.getTickValues(),qe=this.palette.colors.length;for(let Ke=0;Ke<qe;Ke++){const Ze=this.transform(this.getLowValue(Ke,We)),Je=this.transform(this.getHighValue(Ke,We));await Xe(Ze,Je,this.palette.colors[Ke])}}await super.render(e,t)}}getHighValue(e,t){return e>=this.palette.colors.length-1?this.clipMaximum:(t[e]+t[e+1])/2}getLowValue(e,t){return e===0?this.clipMinimum:(t[e-1]+t[e])/2}}const DataPoint_Undefined$1=Object.freeze({x:NaN,y:NaN}),DataPoint_Zero$1=Object.freeze({x:0,y:0});function DataPoint_isUnDefined$1($e){return isNaN($e.x)&&isNaN($e.y)}function DataPoint_isDefined$1($e){return!DataPoint_isUnDefined$1($e)}function newDataPoint$1($e,e){return{x:$e,y:e}}function isDataPoint$1($e){return $e&&typeof $e.x=="number"&&typeof $e.y=="number"}function dataPointMinus$1($e,e){return new DataVector$1($e.x-e.x,$e.y-e.y)}function dataPointMinusVector$1($e,e){return newDataPoint$1($e.x-e.x,$e.y-e.y)}function dataPointPlus$1($e,e){return newDataPoint$1($e.x+e.x,$e.y+e.y)}function dataPointEquals$1($e,e){return $e.x===e.x&&$e.y===e.y}const ie$2=class wa{constructor(e,t){D$2(this,"_x"),D$2(this,"_y"),this._x=e,this._y=t}get length(){return Math.sqrt(this._x*this._x+this._y*this._y)}get lengthSquared(){return this._x*this._x+this._y*this._y}get x(){return this._x}get y(){return this._y}times(e){const t=this;return new wa(t._x*e,t._y*e)}plus(e){const t=this;return new wa(t._x+e._x,t._y+e._y)}minus(e){const t=this;return new wa(t._x-e._x,t._y-e._y)}negate(){const e=this;return new wa(-e._x,-e._y)}equals(e){return this._x===e._x&&this._y===e._y}toString(){return`${this._x} ${this._y}`}isDefined(){return this._x===this._x&&this._y===this._y}};D$2(ie$2,"Undefined",new ie$2(NaN,NaN));let DataVector$1=ie$2;function isDataPointProvider$1($e){return $e.getDataPoint&&typeof $e.getDataPoint=="function"}var MarkerType$1=($e=>($e[$e.None=0]="None",$e[$e.Circle=1]="Circle",$e[$e.Square=2]="Square",$e[$e.Diamond=3]="Diamond",$e[$e.Triangle=4]="Triangle",$e[$e.Cross=5]="Cross",$e[$e.Plus=6]="Plus",$e[$e.Star=7]="Star",$e[$e.Custom=8]="Custom",$e))(MarkerType$1||{}),PlotLengthUnit=($e=>($e[$e.Data=0]="Data",$e[$e.ScreenUnits=1]="ScreenUnits",$e[$e.RelativeToViewport=2]="RelativeToViewport",$e[$e.RelativeToPlotArea=3]="RelativeToPlotArea",$e))(PlotLengthUnit||{});class PlotLength{constructor(e,t){D$2(this,"_unit"),D$2(this,"_value"),this._value=e,this._unit=t}get value(){return this._value}get unit(){return this._unit}equals(e){return this._value===e.value&&this._unit===e.unit}}var CursorType$1=($e=>($e[$e.Default=0]="Default",$e[$e.Pan=1]="Pan",$e[$e.ZoomRectangle=2]="ZoomRectangle",$e[$e.ZoomHorizontal=3]="ZoomHorizontal",$e[$e.ZoomVertical=4]="ZoomVertical",$e))(CursorType$1||{});function newElementCollection($e){const e=[];return new Proxy(e,{deleteProperty:function(t,r){const Ve=t[r];return Ve&&Ve instanceof Element$1&&(Ve.parent=void 0),delete t[r],!0},set:function(t,r,Ve,je){return t[r]=Ve,r==="length"||Ve&&Ve instanceof Element$1&&(Ve.parent=$e),!0}})}let HitTestArguments$1=class{constructor(e,t){D$2(this,"point"),D$2(this,"tolerance"),this.point=e,this.tolerance=t}},ManipulatorBase$1=class{constructor(e){D$2(this,"view"),this.view=e}completed(e){}delta(e){}started(e){}};const ae$2=class uu{constructor(){D$2(this,"selectionColor"),D$2(this,"currentMouseEventElement"),D$2(this,"currentTouchEventElement"),D$2(this,"keyDown"),D$2(this,"mouseDown"),D$2(this,"mouseMove"),D$2(this,"mouseUp"),D$2(this,"mouseEnter"),D$2(this,"mouseLeave"),D$2(this,"touchStarted"),D$2(this,"touchDelta"),D$2(this,"touchCompleted"),this.selectionColor=OxyColors$1.Yellow}hitTest(e){const t=this.getHitTestElements(),r=[];for(const Ve of t){const je=Ve.hitTest(e);je&&r.push(je)}return r}handleMouseDown(e,t){const r=new HitTestArguments$1(t.position,uu.mouseHitTolerance);for(const Ve of this.hitTest(r)){t.hitTestResult=Ve;const je=Ve.element;if(je.onMouseDown(t),t.handled){this.currentMouseEventElement=je;return}}t.handled||this.onMouseDown(e,t)}handleMouseMove(e,t){this.currentMouseEventElement&&this.currentMouseEventElement.onMouseMove(t),t.handled||this.onMouseMove(e,t)}handleMouseUp(e,t){this.currentMouseEventElement&&(this.currentMouseEventElement.onMouseUp(t),this.currentMouseEventElement=void 0),t.handled||this.onMouseUp(e,t)}handleMouseEnter(e,t){t.handled||this.onMouseEnter(e,t)}handleMouseLeave(e,t){t.handled||this.onMouseLeave(e,t)}handleTouchStarted(e,t){const r=new HitTestArguments$1(t.position,uu.mouseHitTolerance);for(const Ve of this.hitTest(r)){const je=Ve.element;if(je.onTouchStarted(t),t.handled){this.currentTouchEventElement=je;return}}t.handled||this.onTouchStarted(e,t)}handleTouchDelta(e,t){this.currentTouchEventElement&&this.currentTouchEventElement.onTouchDelta(t),t.handled||this.onTouchDelta(e,t)}handleTouchCompleted(e,t){this.currentTouchEventElement&&(this.currentTouchEventElement.onTouchCompleted(t),this.currentTouchEventElement=void 0),t.handled||this.onTouchCompleted(e,t)}handleKeyDown(e,t){for(const r of this.getHitTestElements())if(r.onKeyDown(t),t.handled)break;t.handled||this.onKeyDown(e,t)}onKeyDown(e,t){const r=this.keyDown;r&&r(e,t)}onMouseDown(e,t){const r=this.mouseDown;r&&r(e,t)}onMouseMove(e,t){const r=this.mouseMove;r&&r(e,t)}onMouseUp(e,t){const r=this.mouseUp;r&&r(e,t)}onMouseEnter(e,t){const r=this.mouseEnter;r&&r(e,t)}onMouseLeave(e,t){const r=this.mouseLeave;r&&r(e,t)}onTouchStarted(e,t){const r=this.touchStarted;r&&r(e,t)}onTouchDelta(e,t){const r=this.touchDelta;r&&r(e,t)}onTouchCompleted(e,t){const r=this.touchCompleted;r&&r(e,t)}};D$2(ae$2,"DefaultSelectionColor",OxyColors$1.Yellow),D$2(ae$2,"mouseHitTolerance",10);let Model$1=ae$2;const le$2=class hu{constructor(){D$2(this,"selection",new Map)}static get Everything(){return hu.EverythingSelection}isEverythingSelected(){return this===hu.EverythingSelection}getSelectedItems(){return Array.from(this.selection.keys()).map(e=>e.Index)}getSelectedItemsByFeature(e){return Array.from(this.selection.keys()).filter(t=>t.Feature===e).map(t=>t.Index)}clear(){this.selection.clear()}isItemSelected(e,t=null){if(this.isEverythingSelected())return!0;const r=new SelectionItem$1(e,t);return this.hasSelection(r)}select(e,t=null){const r=new SelectionItem$1(e,t);this.setSelection(r,!0)}unselect(e,t=null){const r=new SelectionItem$1(e,t);if(!this.hasSelection(r))throw new Error(`Item ${e} and feature ${t} is not selected. Cannot unselect.`);this.deleteSelection(r)}getSameKey(e){for(const t of this.selection.keys())if(t.equals(e))return t}hasSelection(e){return!!this.getSameKey(e)}deleteSelection(e){const t=this.getSameKey(e);t&&this.selection.delete(t)}setSelection(e,t){const r=this.getSameKey(e)||e;this.selection.set(r,t)}};D$2(le$2,"EverythingSelection",new le$2);let Selection$1=le$2,SelectionItem$1=class{constructor(e,t){D$2(this,"index"),D$2(this,"feature"),this.index=e,this.feature=t}get Index(){return this.index}get Feature(){return this.feature}equals(e){return e.index===this.index&&e.feature===this.feature}};var SelectionMode$1=($e=>($e[$e.All=0]="All",$e[$e.Single=1]="Single",$e[$e.Multiple=2]="Multiple",$e))(SelectionMode$1||{});let InputCommandBinding$1=class cu{constructor(e,t){D$2(this,"gesture"),D$2(this,"command"),this.gesture=e,this.command=t}static fromKeyGesture(e,t,r){return new cu(new OxyKeyGesture$1(e,t),r)}static fromMouseGesture(e,t,r){return new cu(new OxyMouseDownGesture$1(e,t),r)}getGesture(){return this.gesture}getCommand(){return this.command}},ControllerBase$1=class{constructor(){D$2(this,"inputCommandBindings",[]),D$2(this,"mouseDownManipulators",[]),D$2(this,"mouseHoverManipulators",[]),D$2(this,"touchManipulators",[])}handleGesture(e,t,r){const Ve=this.getCommand(t);return this.handleCommand(Ve,e,r)}handleMouseDown(e,t){if(e.actualModel&&(e.actualModel.handleMouseDown(this,t),t.handled))return!0;const r=this.getCommand(new OxyMouseDownGesture$1(t.changedButton,t.modifierKeys,t.clickCount));return this.handleCommand(r,e,t)}handleMouseEnter(e,t){if(e.actualModel&&(e.actualModel.handleMouseEnter(this,t),t.handled))return!0;const r=this.getCommand(new OxyMouseEnterGesture$1(t.modifierKeys));return this.handleCommand(r,e,t)}handleMouseLeave(e,t){if(e.actualModel&&(e.actualModel.handleMouseLeave(this,t),t.handled))return!0;for(const r of[...this.mouseHoverManipulators])r.completed(t),arrayRemoveFirst$1(this.mouseHoverManipulators,r);return t.handled}handleMouseMove(e,t){if(e.actualModel&&(e.actualModel.handleMouseMove(this,t),t.handled))return!0;for(const r of this.mouseDownManipulators)r.delta(t);for(const r of this.mouseHoverManipulators)r.delta(t);return t.handled}handleMouseUp(e,t){if(e.actualModel&&(e.actualModel.handleMouseUp(this,t),t.handled))return!0;for(const r of[...this.mouseDownManipulators])r.completed(t),arrayRemoveFirst$1(this.mouseDownManipulators,r);return t.handled}handleMouseWheel(e,t){const r=this.getCommand(new OxyMouseWheelGesture$1(t.modifierKeys));return this.handleCommand(r,e,t)}handleTouchStarted(e,t){if(e.actualModel&&(e.actualModel.handleTouchStarted(this,t),t.handled))return!0;const r=this.getCommand(new OxyTouchGesture$1);return this.handleCommand(r,e,t)}handleTouchDelta(e,t){if(e.actualModel&&(e.actualModel.handleTouchDelta(this,t),t.handled))return!0;for(const r of this.touchManipulators)r.delta(t);return t.handled}handleTouchCompleted(e,t){if(e.actualModel&&(e.actualModel.handleTouchCompleted(this,t),t.handled))return!0;for(const r of[...this.touchManipulators])r.completed(t),arrayRemoveFirst$1(this.touchManipulators,r);return t.handled}handleKeyDown(e,t){if(!e.actualModel)return!1;if(e.actualModel.handleKeyDown(this,t),t.handled)return!0;const r=this.getCommand(new OxyKeyGesture$1(t.key,t.modifierKeys));return this.handleCommand(r,e,t)}addMouseManipulator(e,t,r){this.mouseDownManipulators.push(t),t.started(r)}addHoverManipulator(e,t,r){this.mouseHoverManipulators.push(t),t.started(r)}addTouchManipulator(e,t,r){this.touchManipulators.push(t),t.started(r)}bindMouseDown(e,t){this.bindCore(e,t)}bindMouseEnter(e,t){this.bindCore(e,t)}bindMouseWheel(e,t){this.bindCore(e,t)}bindTouch(e,t){this.bindCore(e,t)}bindKey(e,t){this.bindCore(e,t)}unbindInput(e){arrayRemoveIf$1(this.inputCommandBindings,t=>t.getGesture().equals(e))}unbindViewCommand(e){arrayRemoveIf$1(this.inputCommandBindings,t=>t.getCommand()===e)}unbindAll(){this.inputCommandBindings.length=0}bindCore(e,t){const r=this.inputCommandBindings.find(Ve=>Ve.getGesture().equals(e));r&&arrayRemoveFirst$1(this.inputCommandBindings,r),t&&this.inputCommandBindings.push(new InputCommandBinding$1(e,t))}getCommand(e){const t=this.inputCommandBindings.find(r=>r.getGesture().equals(e));return t?t.getCommand():void 0}handleCommand(e,t,r){return e?(e.execute(t,this,r),r.handled):!1}},ControllerExtensions$1=class{static bindKeyDown(e,t,r,Ve=OxyModifierKeys$1.None){e.bindKey(new OxyKeyGesture$1(t,Ve),r)}static bindMouseDown(e,t,r,Ve=OxyModifierKeys$1.None,je=1){e.bindMouseDown(new OxyMouseDownGesture$1(t,Ve,je),r)}static bindTouchDown(e,t){e.bindTouch(new OxyTouchGesture$1,t)}static bindMouseEnter(e,t){e.bindMouseEnter(new OxyMouseEnterGesture$1,t)}static bindMouseWheel(e,t,r=OxyModifierKeys$1.None){e.bindMouseWheel(new OxyMouseWheelGesture$1(r),t)}static unbindMouseDown(e,t,r=OxyModifierKeys$1.None,Ve=1){e.unbindInput(new OxyMouseDownGesture$1(t,r,Ve))}static unbindKeyDown(e,t,r=OxyModifierKeys$1.None){e.unbindInput(new OxyKeyGesture$1(t,r))}static unbindMouseEnter(e){e.unbindInput(new OxyMouseEnterGesture$1)}static unbindTouchDown(e){e.unbindInput(new OxyTouchGesture$1)}static unbindMouseWheel(e){e.unbindInput(new OxyMouseWheelGesture$1)}},DelegateViewCommand$1=class{constructor(e){D$2(this,"handler"),this.handler=e}execute(e,t,r){this.handler(e,t,r)}};var ImageFormat$1=($e=>($e[$e.Png=0]="Png",$e[$e.Bmp=1]="Bmp",$e[$e.Jpeg=2]="Jpeg",$e[$e.Unknown=3]="Unknown",$e))(ImageFormat$1||{});let OxyImage$1=class dh{constructor(e){D$2(this,"_data"),D$2(this,"uri"),D$2(this,"format",ImageFormat$1.Unknown),D$2(this,"width",0),D$2(this,"height",0),D$2(this,"bitsPerPixel",0),D$2(this,"dpiX",96),D$2(this,"dpiY",96),D$2(this,"_hashCode"),this._data=e}static async create(e,t,r,Ve){const je=getImageService$1(),ze=e.height,Xe=e.width,We={pixels:e,palette:Ve,imageInfo:{width:Xe,height:ze,bitsPerPixel:0,dpiX:r==null?void 0:r.dpiX,dpiY:r==null?void 0:r.dpiY,format:t}},qe=await je.encode(We),Ke=new dh(qe);return Ke.width=Xe,Ke.height=ze,Ke}get data(){return this._data}static getImageFormat(e){return e.length>=2&&e[0]===255&&e[1]===216?ImageFormat$1.Jpeg:e.length>=2&&e[0]===66&&e[1]===77?ImageFormat$1.Bmp:e.length>=4&&e[0]===137&&e[1]===80&&e[2]===78&&e[3]===71?ImageFormat$1.Png:ImageFormat$1.Unknown}getHashCode(){return this._hashCode===void 0&&(this._hashCode=hashCode$1([...this._data])),this._hashCode}};var OxyKey$1=($e=>($e[$e.Space=0]="Space",$e[$e.Enter=1]="Enter",$e[$e.Escape=2]="Escape",$e[$e.Tab=3]="Tab",$e[$e.Backspace=4]="Backspace",$e[$e.Insert=5]="Insert",$e[$e.Delete=6]="Delete",$e[$e.Home=7]="Home",$e[$e.End=8]="End",$e[$e.Up=9]="Up",$e[$e.Down=10]="Down",$e[$e.Left=11]="Left",$e[$e.Right=12]="Right",$e[$e.PageUp=13]="PageUp",$e[$e.PageDown=14]="PageDown",$e[$e.A=15]="A",$e[$e.B=16]="B",$e[$e.C=17]="C",$e[$e.D=18]="D",$e[$e.E=19]="E",$e[$e.F=20]="F",$e[$e.G=21]="G",$e[$e.H=22]="H",$e[$e.I=23]="I",$e[$e.J=24]="J",$e[$e.K=25]="K",$e[$e.L=26]="L",$e[$e.M=27]="M",$e[$e.N=28]="N",$e[$e.O=29]="O",$e[$e.P=30]="P",$e[$e.Q=31]="Q",$e[$e.R=32]="R",$e[$e.S=33]="S",$e[$e.T=34]="T",$e[$e.U=35]="U",$e[$e.V=36]="V",$e[$e.W=37]="W",$e[$e.X=38]="X",$e[$e.Y=39]="Y",$e[$e.Z=40]="Z",$e[$e.D0=41]="D0",$e[$e.D1=42]="D1",$e[$e.D2=43]="D2",$e[$e.D3=44]="D3",$e[$e.D4=45]="D4",$e[$e.D5=46]="D5",$e[$e.D6=47]="D6",$e[$e.D7=48]="D7",$e[$e.D8=49]="D8",$e[$e.D9=50]="D9",$e[$e.NumPad0=51]="NumPad0",$e[$e.NumPad1=52]="NumPad1",$e[$e.NumPad2=53]="NumPad2",$e[$e.NumPad3=54]="NumPad3",$e[$e.NumPad4=55]="NumPad4",$e[$e.NumPad5=56]="NumPad5",$e[$e.NumPad6=57]="NumPad6",$e[$e.NumPad7=58]="NumPad7",$e[$e.NumPad8=59]="NumPad8",$e[$e.NumPad9=60]="NumPad9",$e[$e.Add=61]="Add",$e[$e.Subtract=62]="Subtract",$e[$e.Multiply=63]="Multiply",$e[$e.Divide=64]="Divide",$e[$e.Decimal=65]="Decimal",$e[$e.F1=66]="F1",$e[$e.F2=67]="F2",$e[$e.F3=68]="F3",$e[$e.F4=69]="F4",$e[$e.F5=70]="F5",$e[$e.F6=71]="F6",$e[$e.F7=72]="F7",$e[$e.F8=73]="F8",$e[$e.F9=74]="F9",$e[$e.F10=75]="F10",$e[$e.F11=76]="F11",$e[$e.F12=77]="F12",$e[$e.Unknown=78]="Unknown",$e))(OxyKey$1||{}),OxyModifierKeys$1=($e=>($e[$e.None=0]="None",$e[$e.Control=1]="Control",$e[$e.Alt=2]="Alt",$e[$e.Shift=4]="Shift",$e[$e.Windows=8]="Windows",$e))(OxyModifierKeys$1||{}),OxyMouseButton$1=($e=>($e[$e.None=0]="None",$e[$e.Left=1]="Left",$e[$e.Middle=2]="Middle",$e[$e.Right=3]="Right",$e[$e.XButton1=4]="XButton1",$e[$e.XButton2=5]="XButton2",$e))(OxyMouseButton$1||{});let OxyKeyGesture$1=class mh{constructor(e,t=OxyModifierKeys$1.None){this.key=e,this.modifiers=t}equals(e){if(!(e instanceof mh))return!1;const t=e;return t.modifiers===this.modifiers&&t.key===this.key}},OxyMouseDownGesture$1=class fh{constructor(e,t=OxyModifierKeys$1.None,r=1){this.mouseButton=e,this.modifiers=t,this.clickCount=r}equals(e){if(!(e instanceof fh))return!1;const t=e;return t.modifiers===this.modifiers&&t.mouseButton===this.mouseButton&&t.clickCount===this.clickCount}},OxyMouseEnterGesture$1=class ph{constructor(e=OxyModifierKeys$1.None){this.modifiers=e}equals(e){return e instanceof ph?e.modifiers===this.modifiers:!1}},OxyMouseWheelGesture$1=class gh{constructor(e=OxyModifierKeys$1.None){this.modifiers=e}equals(e){return e instanceof gh?e.modifiers===this.modifiers:!1}},OxyShakeGesture$1=class yh{equals(e){return e instanceof yh}},OxyTouchGesture$1=class xh{equals(e){return e instanceof xh}};var LegendPlacement=($e=>($e[$e.Inside=0]="Inside",$e[$e.Outside=1]="Outside",$e))(LegendPlacement||{}),LegendPosition=($e=>($e[$e.TopLeft=0]="TopLeft",$e[$e.TopCenter=1]="TopCenter",$e[$e.TopRight=2]="TopRight",$e[$e.BottomLeft=3]="BottomLeft",$e[$e.BottomCenter=4]="BottomCenter",$e[$e.BottomRight=5]="BottomRight",$e[$e.LeftTop=6]="LeftTop",$e[$e.LeftMiddle=7]="LeftMiddle",$e[$e.LeftBottom=8]="LeftBottom",$e[$e.RightTop=9]="RightTop",$e[$e.RightMiddle=10]="RightMiddle",$e[$e.RightBottom=11]="RightBottom",$e))(LegendPosition||{});const isLeftLegend=$e=>$e===6||$e===7||$e===8,isRightLegend=$e=>$e===9||$e===10||$e===11,isTopLegend=$e=>$e===0||$e===1||$e===2,isBottomLegend=$e=>$e===3||$e===4||$e===5;var LegendOrientation=($e=>($e[$e.Horizontal=0]="Horizontal",$e[$e.Vertical=1]="Vertical",$e))(LegendOrientation||{}),LegendItemOrder=($e=>($e[$e.Normal=0]="Normal",$e[$e.Reverse=1]="Reverse",$e))(LegendItemOrder||{}),LegendSymbolPlacement=($e=>($e[$e.Left=0]="Left",$e[$e.Right=1]="Right",$e))(LegendSymbolPlacement||{});class LegendBase extends PlotElement$1{constructor(e){super(e),D$2(this,"key"),D$2(this,"isLegendVisible",!1),D$2(this,"legendOrientation",0),D$2(this,"legendPadding",0),D$2(this,"legendSymbolLength",0),D$2(this,"legendSymbolMargin",0),D$2(this,"legendSymbolPlacement",0),D$2(this,"legendTitle"),D$2(this,"legendTitleColor",OxyColors$1.Undefined),D$2(this,"legendTitleFont"),D$2(this,"legendTitleFontSize",0),D$2(this,"legendTitleFontWeight",0),D$2(this,"legendArea",OxyRect$1.Empty),D$2(this,"legendSize",OxySize$1.Empty),D$2(this,"legendBackground",OxyColors$1.Undefined),D$2(this,"legendBorder",OxyColors$1.Undefined),D$2(this,"legendBorderThickness",0),D$2(this,"legendColumnSpacing",0),D$2(this,"legendFont"),D$2(this,"legendFontSize",0),D$2(this,"legendTextColor"),D$2(this,"legendFontWeight",0),D$2(this,"legendItemAlignment",HorizontalAlignment$1.Left),D$2(this,"legendItemOrder",0),D$2(this,"legendItemSpacing",0),D$2(this,"legendLineSpacing",0),D$2(this,"legendMargin",0),D$2(this,"legendMaxWidth",0),D$2(this,"legendMaxHeight",0),D$2(this,"legendPlacement",0),D$2(this,"legendPosition",0),D$2(this,"allowUseFullExtent",!1),D$2(this,"showInvisibleSeries",!1)}hitTestOverride(e){return this.legendHitTest(e)}}class Legend extends LegendBase{constructor(e){super(e),D$2(this,"legendBox"),D$2(this,"seriesPosMap",new Map),D$2(this,"groupNameFont"),D$2(this,"groupNameFontSize"),D$2(this,"groupNameFontWeight"),D$2(this,"seriesInvisibleTextColor"),this.isLegendVisible=!0,this.legendBox=OxyRect$1.Empty,this.key=void 0,this.groupNameFont=void 0,this.groupNameFontWeight=FontWeights$1.Normal,this.groupNameFontSize=NaN,this.legendTitleFont=void 0,this.legendTitleFontSize=NaN,this.legendTitleFontWeight=FontWeights$1.Bold,this.legendFont=void 0,this.legendFontSize=NaN,this.legendFontWeight=FontWeights$1.Normal,this.legendSymbolLength=16,this.legendSymbolMargin=4,this.legendPadding=8,this.legendColumnSpacing=8,this.legendItemSpacing=24,this.legendLineSpacing=0,this.legendMargin=8,this.legendBackground=OxyColors$1.Undefined,this.legendBorder=OxyColors$1.Undefined,this.legendBorderThickness=1,this.legendTextColor=OxyColors$1.Automatic,this.legendTitleColor=OxyColors$1.Automatic,this.legendMaxWidth=NaN,this.legendMaxHeight=NaN,this.legendPlacement=LegendPlacement.Inside,this.legendPosition=LegendPosition.RightTop,this.legendOrientation=LegendOrientation.Vertical,this.legendItemOrder=LegendItemOrder.Normal,this.legendItemAlignment=HorizontalAlignment$1.Left,this.legendSymbolPlacement=LegendSymbolPlacement.Left,this.showInvisibleSeries=!0,this.seriesInvisibleTextColor=OxyColor$1.fromAColor(64,this.legendTextColor),this.selectable=!0,this.selectionMode=SelectionMode$1.Single,e&&Object.assign(this,removeUndef$1(e))}legendHitTest(e){if(!this.isLegendVisible||!this.plotModel.isLegendVisible)return;const t=e.point;if(this.isPointInLegend(t)&&this.seriesPosMap&&this.seriesPosMap.size>0){for(const[r,Ve]of this.seriesPosMap)if(Ve.containsPoint(t)&&this.showInvisibleSeries){r.isVisible=!r.isVisible,this.plotModel.invalidatePlot(!1);break}}}isPointInLegend(e){return this.legendBox.containsPoint(e)}ensureLegendProperties(){switch(this.legendPosition){case LegendPosition.LeftTop:case LegendPosition.LeftMiddle:case LegendPosition.LeftBottom:case LegendPosition.RightTop:case LegendPosition.RightMiddle:case LegendPosition.RightBottom:this.legendOrientation===LegendOrientation.Horizontal&&(this.legendOrientation=LegendOrientation.Vertical);break}}async renderLegends(e){await this.renderOrMeasureLegends(e,this.legendArea)}async getLegendSize(e,t){const r=t.width,Ve=t.height;let je=await this.measureLegends(e,new OxySize$1(Math.max(0,r),Math.max(0,Ve)));return je=new OxySize$1(Math.max(0,je.width),Math.max(0,je.height)),je}getLegendRectangle(e){let t=0,r=0;if(this.legendPlacement===LegendPlacement.Outside){switch(this.legendPosition){case LegendPosition.LeftTop:case LegendPosition.LeftMiddle:case LegendPosition.LeftBottom:r=this.plotModel.plotAndAxisArea.left-e.width-this.legendMargin;break;case LegendPosition.RightTop:case LegendPosition.RightMiddle:case LegendPosition.RightBottom:r=this.plotModel.plotAndAxisArea.right+this.legendMargin;break;case LegendPosition.TopLeft:case LegendPosition.TopCenter:case LegendPosition.TopRight:t=this.plotModel.plotAndAxisArea.top-e.height-this.legendMargin;break;case LegendPosition.BottomLeft:case LegendPosition.BottomCenter:case LegendPosition.BottomRight:t=this.plotModel.plotAndAxisArea.bottom+this.legendMargin;break}const Ve=this.allowUseFullExtent?this.plotModel.plotAndAxisArea:this.plotModel.plotArea;switch(this.legendPosition){case LegendPosition.TopLeft:case LegendPosition.BottomLeft:r=Ve.left;break;case LegendPosition.TopRight:case LegendPosition.BottomRight:r=Ve.right-e.width;break;case LegendPosition.LeftTop:case LegendPosition.RightTop:t=Ve.top;break;case LegendPosition.LeftBottom:case LegendPosition.RightBottom:t=Ve.bottom-e.height;break;case LegendPosition.LeftMiddle:case LegendPosition.RightMiddle:t=(Ve.top+Ve.bottom-e.height)*.5;break;case LegendPosition.TopCenter:case LegendPosition.BottomCenter:r=(Ve.left+Ve.right-e.width)*.5;break}}else{switch(this.legendPosition){case LegendPosition.LeftTop:case LegendPosition.LeftMiddle:case LegendPosition.LeftBottom:r=this.plotModel.plotArea.left+this.legendMargin;break;case LegendPosition.RightTop:case LegendPosition.RightMiddle:case LegendPosition.RightBottom:r=this.plotModel.plotArea.right-e.width-this.legendMargin;break;case LegendPosition.TopLeft:case LegendPosition.TopCenter:case LegendPosition.TopRight:t=this.plotModel.plotArea.top+this.legendMargin;break;case LegendPosition.BottomLeft:case LegendPosition.BottomCenter:case LegendPosition.BottomRight:t=this.plotModel.plotArea.bottom-e.height-this.legendMargin;break}switch(this.legendPosition){case LegendPosition.TopLeft:case LegendPosition.BottomLeft:r=this.plotModel.plotArea.left+this.legendMargin;break;case LegendPosition.TopRight:case LegendPosition.BottomRight:r=this.plotModel.plotArea.right-e.width-this.legendMargin;break;case LegendPosition.LeftTop:case LegendPosition.RightTop:t=this.plotModel.plotArea.top+this.legendMargin;break;case LegendPosition.LeftBottom:case LegendPosition.RightBottom:t=this.plotModel.plotArea.bottom-e.height-this.legendMargin;break;case LegendPosition.LeftMiddle:case LegendPosition.RightMiddle:t=(this.plotModel.plotArea.top+this.plotModel.plotArea.bottom-e.height)*.5;break;case LegendPosition.TopCenter:case LegendPosition.BottomCenter:r=(this.plotModel.plotArea.left+this.plotModel.plotArea.right-e.width)*.5;break}}return new OxyRect$1(r,t,e.width,e.height)}async renderLegend(e,t,r){let Ve=this.legendItemAlignment;this.legendOrientation===LegendOrientation.Horizontal&&(Ve=HorizontalAlignment$1.Left);let je=r.left;switch(Ve){case HorizontalAlignment$1.Center:je=(r.left+r.right)/2,this.legendSymbolPlacement===LegendSymbolPlacement.Left?je-=(this.legendSymbolLength+this.legendSymbolMargin)/2:je-=(this.legendSymbolLength+this.legendSymbolMargin)/2;break;case HorizontalAlignment$1.Right:je=r.right,this.legendSymbolPlacement===LegendSymbolPlacement.Right&&(je-=this.legendSymbolLength+this.legendSymbolMargin);break}this.legendSymbolPlacement===LegendSymbolPlacement.Left&&(je+=this.legendSymbolLength+this.legendSymbolMargin);const ze=r.top,Xe=new OxySize$1(Math.max(r.width-this.legendSymbolLength-this.legendSymbolMargin,0),r.height),We=isNaN(this.legendFontSize)?this.plotModel.defaultFontSize:this.legendFontSize;let qe=t.isVisible?this.legendTextColor:this.seriesInvisibleTextColor;qe=qe||OxyColors$1.Black,e.setToolTip(t.toolTip);const Ke=await MathRenderingExtensions$1.drawMathText(e,newScreenPoint$1(je,ze),t.title||"",qe.getActualColor(this.plotModel.textColor),this.legendFont??this.plotModel.defaultFont,We,this.legendFontWeight,0,Ve,VerticalAlignment$1.Top,Xe,!0);this.seriesPosMap.set(t,OxyRect$1.fromScreenPointAndSize(newScreenPoint$1(je,ze),Ke));let Ze=je;switch(Ve){case HorizontalAlignment$1.Center:Ze=je-Ke.width*.5;break;case HorizontalAlignment$1.Right:Ze=je-Ke.width;break}if(t.isVisible){const Je=new OxyRect$1(this.legendSymbolPlacement===LegendSymbolPlacement.Right?Ze+Ke.width+this.legendSymbolMargin:Ze-this.legendSymbolMargin-this.legendSymbolLength,r.top,this.legendSymbolLength,Ke.height);await t.renderLegend(e,Je)}e.setToolTip(void 0)}measureLegends(e,t){return this.renderOrMeasureLegends(e,new OxyRect$1(0,0,t.width,t.height),!0)}async renderOrMeasureLegends(e,t,r=!1){if(!r&&t.width>0&&t.height>0){this.legendBox=t;const si=RenderingExtensions$1.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode$1.PreferSharpness);await e.drawRectangle(t,this.legendBackground,this.legendBorder,this.legendBorderThickness,si)}const Ve=t.width,je=t.height;let ze=this.legendPadding,Xe=this.legendPadding,We=OxySize$1.Empty;const qe=isNaN(this.legendFontSize)?this.plotModel.defaultFontSize:this.legendFontSize,Ke=isNaN(this.legendTitleFontSize)?qe:this.legendTitleFontSize,Ze=isNaN(this.groupNameFontSize)?qe:this.groupNameFontSize;if(this.legendTitle){let si;r?si=await MathRenderingExtensions$1.measureMathText(e,this.legendTitle,this.legendTitleFont??this.plotModel.defaultFont,Ke,this.legendTitleFontWeight):si=await MathRenderingExtensions$1.drawMathText(e,newScreenPoint$1(t.left+ze,t.top+Xe),this.legendTitle,this.legendTitleColor.getActualColor(this.plotModel.textColor),this.legendTitleFont??this.plotModel.defaultFont,Ke,this.legendTitleFontWeight,0,HorizontalAlignment$1.Left,VerticalAlignment$1.Top,void 0,!0),Xe+=si.height,We=new OxySize$1(ze+si.width+this.legendPadding,Xe+si.height)}let Je=Xe,Qe=0;const ti=.001;let ni=0;const ri=getReversedCopy$1(this.plotModel.series),ii=this.legendItemOrder===LegendItemOrder.Reverse?ri.filter(si=>si.renderInLegend&&si.legendKey===this.key):this.plotModel.series.filter(si=>si.renderInLegend&&si.legendKey===this.key),ei=[];for(const si of ii)ei.includes(si.seriesGroupName||"")||ei.push(si.seriesGroupName||"");this.seriesPosMap.clear();const St=new Map,oi=async()=>{const si=[];for(const[ai,ui]of St){if(ai.seriesGroupName&&!si.includes(ai.seriesGroupName)){si.push(ai.seriesGroupName);const di=await MathRenderingExtensions$1.measureMathText(e,ai.seriesGroupName,this.groupNameFont??this.plotModel.defaultFont,Ze,this.groupNameFontWeight);let pi=ui.top,yi=ui.left;this.legendOrientation===LegendOrientation.Vertical?pi-=di.height+this.legendLineSpacing/2:yi-=di.width+this.legendItemSpacing/2,await MathRenderingExtensions$1.drawMathText(e,newScreenPoint$1(yi,pi),ai.seriesGroupName,this.legendTitleColor.getActualColor(this.plotModel.textColor),this.groupNameFont??this.plotModel.defaultFont,Ze,this.groupNameFontWeight,0,HorizontalAlignment$1.Left,VerticalAlignment$1.Top,void 0,!0)}let hi=Ve;ui.left+hi+this.legendPadding>t.left+Ve&&(hi=t.left+Ve-ui.left-this.legendPadding);let ci=ui.height;t.top+ci+this.legendPadding>t.top+je&&(ci=t.top+je-t.top-this.legendPadding);const mi=new OxyRect$1(ui.left,ui.top,Math.max(hi,0),Math.max(ci,0));await this.renderLegend(e,ai,mi)}si.length=0,St.clear()};r||e.pushClip(t);for(const si of ei){const ai=ii.filter(ci=>(ci.seriesGroupName||"")===si);let ui=OxySize$1.Empty;ai.length>0&&si&&(ui=await MathRenderingExtensions$1.measureMathText(e,si,this.groupNameFont??this.plotModel.defaultFont,Ze,this.groupNameFontWeight),this.legendOrientation===LegendOrientation.Vertical?Je+=ui.height:ze+=ui.width);let hi=0;for(const ci of ai){if(!ci.title||!ci.renderInLegend||!ci.isVisible&&!this.showInvisibleSeries)continue;const mi=await MathRenderingExtensions$1.measureMathText(e,ci.title,this.legendFont??this.plotModel.defaultFont,qe,this.legendFontWeight),di=this.legendSymbolLength+this.legendSymbolMargin+mi.width,pi=mi.height;this.legendOrientation===LegendOrientation.Horizontal?(ze>this.legendPadding&&(ze+=this.legendItemSpacing),ze+di>Ve-this.legendPadding+ti&&(ze=this.legendPadding,hi===0&&ui.width>0&&(ze+=ui.width+this.legendItemSpacing),Je+=Qe+this.legendLineSpacing,Qe=0),Qe=Math.max(Qe,mi.height),r||St.set(ci,new OxyRect$1(t.left+ze,t.top+Je,di,pi)),ze+=di,ze=Math.max(ui.width,ze),We=new OxySize$1(Math.max(We.width,ze),Math.max(We.height,Je+mi.height))):(Je+pi>je-this.legendPadding+ti&&(await oi(),Je=Xe+ui.height,ze+=ni+this.legendColumnSpacing,ni=0),r||St.set(ci,new OxyRect$1(t.left+ze,t.top+Je,di,pi)),Je+=pi+this.legendLineSpacing,ni=Math.max(ni,di),We=new OxySize$1(Math.max(We.width,ze+di),Math.max(We.height,Je))),hi++}await oi()}return r||e.popClip(),We.width>0&&(We=new OxySize$1(We.width+this.legendPadding,We.height)),We.height>0&&(We=new OxySize$1(We.width,We.height+this.legendPadding)),We.width>Ve&&(We=new OxySize$1(Ve,We.height)),We.height>je&&(We=new OxySize$1(We.width,je)),!isNaN(this.legendMaxWidth)&&We.width>this.legendMaxWidth&&(We=new OxySize$1(this.legendMaxWidth,We.height)),!isNaN(this.legendMaxHeight)&&We.height>this.legendMaxHeight&&(We=new OxySize$1(We.width,this.legendMaxHeight)),We}}let OxyModifierKeysExtensions$1=class{static isAltDown(e){return(e.modifierKeys&OxyModifierKeys$1.Alt)===OxyModifierKeys$1.Alt}static isControlDown(e){return(e.modifierKeys&OxyModifierKeys$1.Control)===OxyModifierKeys$1.Control}static isShiftDown(e){return(e.modifierKeys&OxyModifierKeys$1.Shift)===OxyModifierKeys$1.Shift}},TrackerHitResult$1=class{constructor(e){D$2(this,"dataPoint"),D$2(this,"item"),D$2(this,"index",0),D$2(this,"lineExtents"),D$2(this,"plotModel"),D$2(this,"position"),D$2(this,"series"),D$2(this,"text"),e&&Object.assign(this,removeUndef$1(e))}get xAxis(){return!this.series||!(this.series instanceof XYAxisSeries$1)?void 0:this.series.xAxis}get yAxis(){return!this.series||!(this.series instanceof XYAxisSeries$1)?void 0:this.series.yAxis}toString(){return this.text?this.text.trim():""}};var AxisPreference$1=($e=>($e[$e.None=0]="None",$e[$e.X=1]="X",$e[$e.Y=2]="Y",$e))(AxisPreference$1||{});let PlotManipulator$1=class extends ManipulatorBase$1{constructor(e){super(e),D$2(this,"plotView"),D$2(this,"axisPreference",AxisPreference$1.None),D$2(this,"xAxis"),D$2(this,"yAxis"),this.plotView=e}inverseTransform(e,t){return this.xAxis?this.xAxis.inverseTransformPoint(e,t,this.yAxis):this.yAxis?newDataPoint$1(0,this.yAxis.inverseTransform(t)):DataPoint_Zero$1}assignAxes(e){let t,r;this.plotView.actualModel?([t,r]=this.plotView.actualModel.getAxesFromPoint(e),this.axisPreference!==AxisPreference$1.None&&this.plotView.actualModel.plotArea.containsPoint(e)&&(this.axisPreference===AxisPreference$1.X?t&&(r=void 0):this.axisPreference===AxisPreference$1.Y&&r&&(t=void 0))):(t=void 0,r=void 0),this.xAxis=t,this.yAxis=r}},MouseManipulator$1=class extends PlotManipulator$1{constructor(e){super(e),D$2(this,"startPosition")}started(e){this.assignAxes(e.position),this.startPosition=e.position}},ZoomStepManipulator$1=class extends MouseManipulator$1{constructor(e,t,r){super(e),D$2(this,"fineControl"),D$2(this,"step"),this.step=t,this.fineControl=r}started(e){if(super.started(e),!(this.xAxis&&this.xAxis.isZoomEnabled||this.yAxis&&this.yAxis.isZoomEnabled))return;const t=this.inverseTransform(e.position.x,e.position.y);let r=this.step;this.fineControl&&(r*=3),r>0?r=1+r:r=1/(1-r),this.xAxis&&this.xAxis.zoomAt(r,t.x),this.yAxis&&this.yAxis.zoomAt(r,t.y),this.plotView.invalidatePlot(!1),e.handled=!0}},PanManipulator$1=class extends MouseManipulator$1{constructor(e){super(e),D$2(this,"previousPosition",ScreenPoint_LeftTop$1),D$2(this,"isPanEnabled",!1)}completed(e){super.completed(e),this.isPanEnabled&&(this.view.setCursorType(CursorType$1.Default),e.handled=!0)}delta(e){super.delta(e),this.isPanEnabled&&(this.xAxis&&this.xAxis.pan(this.previousPosition,e.position),this.yAxis&&this.yAxis.pan(this.previousPosition,e.position),this.plotView.invalidatePlot(!1),this.previousPosition=e.position,e.handled=!0)}started(e){super.started(e),this.previousPosition=e.position,this.isPanEnabled=!!(this.xAxis&&this.xAxis.isPanEnabled||this.yAxis&&this.yAxis.isPanEnabled),this.isPanEnabled&&(this.view.setCursorType(CursorType$1.Pan),e.handled=!0)}},ZoomRectangleManipulator$1=class extends MouseManipulator$1{constructor(e){super(e),D$2(this,"zoomRectangle",OxyRect$1.Empty),D$2(this,"isZoomEnabled",!1)}completed(e){if(super.completed(e),!!this.isZoomEnabled){if(this.plotView.setCursorType(CursorType$1.Default),this.plotView.hideZoomRectangle(),this.zoomRectangle.width>10&&this.zoomRectangle.height>10){const t=this.inverseTransform(this.zoomRectangle.left,this.zoomRectangle.top),r=this.inverseTransform(this.zoomRectangle.right,this.zoomRectangle.bottom);this.xAxis&&this.xAxis.zoom(t.x,r.x),this.yAxis&&this.yAxis.zoom(t.y,r.y),this.plotView.invalidatePlot()}e.handled=!0}}delta(e){if(super.delta(e),!this.plotView.actualModel||!this.isZoomEnabled||!this.startPosition)return;const t=this.plotView.actualModel.plotArea;let r=Math.min(this.startPosition.x,e.position.x),Ve=Math.abs(this.startPosition.x-e.position.x),je=Math.min(this.startPosition.y,e.position.y),ze=Math.abs(this.startPosition.y-e.position.y);(this.xAxis===void 0||!this.xAxis.isZoomEnabled)&&(r=t.left,Ve=t.width),(this.yAxis===void 0||!this.yAxis.isZoomEnabled)&&(je=t.top,ze=t.height),this.zoomRectangle=new OxyRect$1(r,je,Ve,ze),this.plotView.showZoomRectangle(this.zoomRectangle),e.handled=!0}started(e){super.started(e),this.isZoomEnabled=!!(this.xAxis&&this.xAxis.isZoomEnabled||this.yAxis&&this.yAxis.isZoomEnabled),this.isZoomEnabled&&this.startPosition&&(this.zoomRectangle=new OxyRect$1(this.startPosition.x,this.startPosition.y,0,0),this.plotView.showZoomRectangle(this.zoomRectangle),this.plotView.setCursorType(this.getCursorType()),e.handled=!0)}getCursorType(){return this.xAxis===void 0?CursorType$1.ZoomVertical:this.yAxis===void 0?CursorType$1.ZoomHorizontal:CursorType$1.ZoomRectangle}},TouchManipulator$1=class extends PlotManipulator$1{constructor(e){super(e),D$2(this,"setHandledForPanOrZoom"),D$2(this,"isPanEnabled",!1),D$2(this,"isZoomEnabled",!1),this.setHandledForPanOrZoom=!0}completed(e){super.completed(e),this.setHandledForPanOrZoom&&(e.handled=e.handled||this.isPanEnabled||this.isZoomEnabled)}delta(e){if(super.delta(e),!this.isPanEnabled&&!this.isZoomEnabled)return;const t=e.position,r=screenPointMinusVector$1(t,e.deltaTranslation);this.xAxis&&this.xAxis.pan(r,t),this.yAxis&&this.yAxis.pan(r,t);const Ve=this.inverseTransform(t.x,t.y);this.xAxis&&this.xAxis.zoomAt(e.deltaScale.x,Ve.x),this.yAxis&&this.yAxis.zoomAt(e.deltaScale.y,Ve.y),this.plotView.invalidatePlot(!1),e.handled=!0}started(e){this.assignAxes(e.position),super.started(e),this.setHandledForPanOrZoom&&(this.isPanEnabled=!!(this.xAxis&&this.xAxis.isPanEnabled||this.yAxis&&this.yAxis.isPanEnabled),this.isZoomEnabled=!!(this.xAxis&&this.xAxis.isZoomEnabled||this.yAxis&&this.yAxis.isZoomEnabled),e.handled=e.handled||this.isPanEnabled||this.isZoomEnabled)}},TrackerManipulator$1=class extends MouseManipulator$1{constructor(e,t){super(e),D$2(this,"currentSeries"),D$2(this,"pointsOnly"),D$2(this,"snap"),D$2(this,"lockToInitialSeries"),D$2(this,"firesDistance"),D$2(this,"checkDistanceBetweenPoints"),D$2(this,"isTrackAnnotations",!0),this.snap=!0,this.pointsOnly=!1,this.lockToInitialSeries=!0,this.firesDistance=20,this.checkDistanceBetweenPoints=!1,this.isTrackAnnotations=!0,t&&Object.assign(this,removeUndef$1(t))}completed(e){super.completed(e),e.handled=!0,this.currentSeries=void 0,this.plotView.hideTracker(),this.plotView.actualModel&&this.plotView.actualModel.raiseTrackerChanged(void 0)}delta(e){var t;if(super.delta(e),e.handled=!0,(!this.currentSeries||!this.lockToInitialSeries)&&(this.currentSeries=(t=this.plotView.actualModel)==null?void 0:t.getSeriesFromPoint(e.position,this.firesDistance)),!this.currentSeries){this.lockToInitialSeries||this.plotView.hideTracker(),this.isTrackAnnotations&&this.trackAnnotations(e.position);return}const r=this.plotView.actualModel;if(!r||!r.plotArea.contains(e.position.x,e.position.y))return;const Ve=TrackerHelper$1.getNearestHit(this.currentSeries,e.position,this.snap,this.pointsOnly,this.firesDistance,this.checkDistanceBetweenPoints);Ve&&(Ve.plotModel=this.plotView.actualModel,this.plotView.showTracker(Ve),this.plotView.actualModel.raiseTrackerChanged(Ve))}started(e){var t;super.started(e),this.currentSeries=(t=this.plotView.actualModel)==null?void 0:t.getSeriesFromPoint(e.position,this.firesDistance),this.delta(e)}trackAnnotations(e){const t=this.plotView.actualModel;for(const r of t.annotations.filter(Ve=>Ve.toolTip).reverse()){if(!r.toolTip)continue;const Ve=new HitTestArguments$1(e,this.firesDistance);if(!r.hitTest(Ve))continue;const je=r.inverseTransform(e),ze=new TrackerHitResult$1({position:e,dataPoint:je,text:r.toolTip,plotModel:this.plotView.actualModel});this.plotView.showTracker(ze),t.raiseTrackerChanged(ze);break}}},TouchTrackerManipulator$1=class extends TouchManipulator$1{constructor(e,t){super(e),D$2(this,"currentSeries"),D$2(this,"pointsOnly"),D$2(this,"snap"),D$2(this,"lockToInitialSeries"),D$2(this,"firesDistance"),D$2(this,"checkDistanceBetweenPoints"),this.snap=!0,this.pointsOnly=!1,this.lockToInitialSeries=!0,this.firesDistance=20,this.checkDistanceBetweenPoints=!1,this.setHandledForPanOrZoom=!1,t&&Object.assign(this,removeUndef$1(t))}completed(e){super.completed(e),this.currentSeries=void 0,this.plotView.hideTracker(),this.plotView.actualModel&&this.plotView.actualModel.raiseTrackerChanged(void 0)}delta(e){super.delta(e),this.plotView.hideTracker()}started(e){var t;super.started(e),this.currentSeries=(t=this.plotView.actualModel)==null?void 0:t.getSeriesFromPoint(e.position,this.firesDistance),this.updateTracker(e.position)}updateTracker(e){var t;if((!this.currentSeries||!this.lockToInitialSeries)&&(this.currentSeries=(t=this.plotView.actualModel)==null?void 0:t.getSeriesFromPoint(e,this.firesDistance)),!this.currentSeries){this.lockToInitialSeries||this.plotView.hideTracker();return}const r=this.plotView.actualModel;if(!r||!r.plotArea.contains(e.x,e.y))return;const Ve=TrackerHelper$1.getNearestHit(this.currentSeries,e,this.snap,this.pointsOnly,this.firesDistance,this.checkDistanceBetweenPoints);Ve&&(Ve.plotModel=this.plotView.actualModel,this.plotView.showTracker(Ve),this.plotView.actualModel.raiseTrackerChanged(Ve))}},DelegatePlotCommand$1=class extends DelegateViewCommand$1{constructor(e){super((t,r,Ve)=>e(t,r,Ve))}},PlotCommands$1=class{static init(){this.reset=new DelegatePlotCommand$1((e,t,r)=>this.handleReset(e,r)),this.resetAt=new DelegatePlotCommand$1((e,t,r)=>this.handleReset(e,r)),this.panAt=new DelegatePlotCommand$1((e,t,r)=>t.addMouseManipulator(e,new PanManipulator$1(e),r)),this.zoomRectangle=new DelegatePlotCommand$1((e,t,r)=>t.addMouseManipulator(e,new ZoomRectangleManipulator$1(e),r)),this.track=new DelegatePlotCommand$1((e,t,r)=>t.addMouseManipulator(e,new TrackerManipulator$1(e,{snap:!1,pointsOnly:!1}),r)),this.snapTrack=new DelegatePlotCommand$1((e,t,r)=>t.addMouseManipulator(e,new TrackerManipulator$1(e,{snap:!0,pointsOnly:!1}),r)),this.pointsOnlyTrack=new DelegatePlotCommand$1((e,t,r)=>t.addMouseManipulator(e,new TrackerManipulator$1(e,{snap:!1,pointsOnly:!0}),r)),this.zoomWheel=new DelegatePlotCommand$1((e,t,r)=>this.handleZoomByWheel(e,r)),this.zoomWheelFine=new DelegatePlotCommand$1((e,t,r)=>this.handleZoomByWheel(e,r,.1)),this.zoomInAt=new DelegatePlotCommand$1((e,t,r)=>this.handleZoomAt(e,r,.05)),this.zoomOutAt=new DelegatePlotCommand$1((e,t,r)=>this.handleZoomAt(e,r,-.05)),this.hoverTrack=new DelegatePlotCommand$1((e,t,r)=>t.addHoverManipulator(e,new TrackerManipulator$1(e,{lockToInitialSeries:!1,snap:!1,pointsOnly:!1}),r)),this.hoverSnapTrack=new DelegatePlotCommand$1((e,t,r)=>t.addHoverManipulator(e,new TrackerManipulator$1(e,{lockToInitialSeries:!1,snap:!0,pointsOnly:!1}),r)),this.hoverPointsOnlyTrack=new DelegatePlotCommand$1((e,t,r)=>t.addHoverManipulator(e,new TrackerManipulator$1(e,{lockToInitialSeries:!1,snap:!1,pointsOnly:!0}),r)),this.snapTrackTouch=new DelegatePlotCommand$1((e,t,r)=>t.addTouchManipulator(e,new TouchTrackerManipulator$1(e,{snap:!0,pointsOnly:!1}),r)),this.pointsOnlyTrackTouch=new DelegatePlotCommand$1((e,t,r)=>t.addTouchManipulator(e,new TouchTrackerManipulator$1(e,{snap:!0,pointsOnly:!0}),r)),this.panZoomByTouch=new DelegatePlotCommand$1((e,t,r)=>t.addTouchManipulator(e,new TouchManipulator$1(e),r)),this.panLeft=new DelegatePlotCommand$1((e,t,r)=>this.handlePan(e,r,-.1,0)),this.panRight=new DelegatePlotCommand$1((e,t,r)=>this.handlePan(e,r,.1,0)),this.panUp=new DelegatePlotCommand$1((e,t,r)=>this.handlePan(e,r,0,-.1)),this.panDown=new DelegatePlotCommand$1((e,t,r)=>this.handlePan(e,r,0,.1)),this.panLeftFine=new DelegatePlotCommand$1((e,t,r)=>this.handlePan(e,r,-.01,0)),this.panRightFine=new DelegatePlotCommand$1((e,t,r)=>this.handlePan(e,r,.01,0)),this.panUpFine=new DelegatePlotCommand$1((e,t,r)=>this.handlePan(e,r,0,-.01)),this.panDownFine=new DelegatePlotCommand$1((e,t,r)=>this.handlePan(e,r,0,.01)),this.zoomIn=new DelegatePlotCommand$1((e,t,r)=>this.handleZoomCenter(e,r,1)),this.zoomOut=new DelegatePlotCommand$1((e,t,r)=>this.handleZoomCenter(e,r,-1)),this.zoomInFine=new DelegatePlotCommand$1((e,t,r)=>this.handleZoomCenter(e,r,.1)),this.zoomOutFine=new DelegatePlotCommand$1((e,t,r)=>this.handleZoomCenter(e,r,-.1))}static handleReset(e,t){e.actualModel&&(t.handled=!0,e.actualModel.resetAllAxes(),e.invalidatePlot(!1))}static handleZoomAt(e,t,r){const Ve=OxyModifierKeysExtensions$1.isControlDown(t);new ZoomStepManipulator$1(e,r,Ve).started(t)}static handleZoomByWheel(e,t,r=1){const Ve=OxyModifierKeysExtensions$1.isControlDown(t);new ZoomStepManipulator$1(e,t.delta*.001*r,Ve).started(t)}static handleZoomCenter(e,t,r){e.actualModel&&(t.handled=!0,e.actualModel.zoomAllAxes(1+r*.12),e.invalidatePlot(!1))}static handlePan(e,t,r,Ve){e.actualModel&&(t.handled=!0,r*=e.actualModel.plotArea.width,Ve*=e.actualModel.plotArea.height,e.actualModel.panAllAxes(r,Ve),e.invalidatePlot(!1))}};D$2(PlotCommands$1,"reset"),D$2(PlotCommands$1,"resetAt"),D$2(PlotCommands$1,"panZoomByTouch"),D$2(PlotCommands$1,"panAt"),D$2(PlotCommands$1,"zoomRectangle"),D$2(PlotCommands$1,"zoomWheel"),D$2(PlotCommands$1,"zoomWheelFine"),D$2(PlotCommands$1,"track"),D$2(PlotCommands$1,"snapTrack"),D$2(PlotCommands$1,"snapTrackTouch"),D$2(PlotCommands$1,"pointsOnlyTrack"),D$2(PlotCommands$1,"pointsOnlyTrackTouch"),D$2(PlotCommands$1,"hoverTrack"),D$2(PlotCommands$1,"hoverSnapTrack"),D$2(PlotCommands$1,"hoverPointsOnlyTrack"),D$2(PlotCommands$1,"panLeft"),D$2(PlotCommands$1,"panRight"),D$2(PlotCommands$1,"panUp"),D$2(PlotCommands$1,"panDown"),D$2(PlotCommands$1,"panLeftFine"),D$2(PlotCommands$1,"panRightFine"),D$2(PlotCommands$1,"panUpFine"),D$2(PlotCommands$1,"panDownFine"),D$2(PlotCommands$1,"zoomInAt"),D$2(PlotCommands$1,"zoomOutAt"),D$2(PlotCommands$1,"zoomIn"),D$2(PlotCommands$1,"zoomOut"),D$2(PlotCommands$1,"zoomInFine"),D$2(PlotCommands$1,"zoomOutFine");PlotCommands$1.init();let PlotController$1=class extends ControllerBase$1{constructor(){super(),ControllerExtensions$1.bindMouseDown(this,OxyMouseButton$1.Middle,PlotCommands$1.zoomRectangle),ControllerExtensions$1.bindMouseDown(this,OxyMouseButton$1.Right,PlotCommands$1.zoomRectangle,OxyModifierKeys$1.Control),ControllerExtensions$1.bindMouseDown(this,OxyMouseButton$1.Left,PlotCommands$1.zoomRectangle,OxyModifierKeys$1.Control|OxyModifierKeys$1.Alt),ControllerExtensions$1.bindMouseDown(this,OxyMouseButton$1.Middle,PlotCommands$1.resetAt,OxyModifierKeys$1.None,2),ControllerExtensions$1.bindMouseDown(this,OxyMouseButton$1.Right,PlotCommands$1.resetAt,OxyModifierKeys$1.Control,2),ControllerExtensions$1.bindMouseDown(this,OxyMouseButton$1.Left,PlotCommands$1.resetAt,OxyModifierKeys$1.Control|OxyModifierKeys$1.Alt,2),ControllerExtensions$1.bindKeyDown(this,OxyKey$1.A,PlotCommands$1.reset),ControllerExtensions$1.bindKeyDown(this,OxyKey$1.Home,PlotCommands$1.reset),this.bindCore(new OxyShakeGesture$1,PlotCommands$1.reset),ControllerExtensions$1.bindMouseDown(this,OxyMouseButton$1.Right,PlotCommands$1.panAt),ControllerExtensions$1.bindMouseDown(this,OxyMouseButton$1.Left,PlotCommands$1.panAt,OxyModifierKeys$1.Alt),ControllerExtensions$1.bindKeyDown(this,OxyKey$1.Left,PlotCommands$1.panLeft),ControllerExtensions$1.bindKeyDown(this,OxyKey$1.Right,PlotCommands$1.panRight),ControllerExtensions$1.bindKeyDown(this,OxyKey$1.Up,PlotCommands$1.panUp),ControllerExtensions$1.bindKeyDown(this,OxyKey$1.Down,PlotCommands$1.panDown),ControllerExtensions$1.bindKeyDown(this,OxyKey$1.Left,PlotCommands$1.panLeftFine,OxyModifierKeys$1.Control),ControllerExtensions$1.bindKeyDown(this,OxyKey$1.Right,PlotCommands$1.panRightFine,OxyModifierKeys$1.Control),ControllerExtensions$1.bindKeyDown(this,OxyKey$1.Up,PlotCommands$1.panUpFine,OxyModifierKeys$1.Control),ControllerExtensions$1.bindKeyDown(this,OxyKey$1.Down,PlotCommands$1.panDownFine,OxyModifierKeys$1.Control),ControllerExtensions$1.bindTouchDown(this,PlotCommands$1.panZoomByTouch),ControllerExtensions$1.bindMouseDown(this,OxyMouseButton$1.Left,PlotCommands$1.snapTrack),ControllerExtensions$1.bindMouseDown(this,OxyMouseButton$1.Left,PlotCommands$1.track,OxyModifierKeys$1.Control),ControllerExtensions$1.bindMouseDown(this,OxyMouseButton$1.Left,PlotCommands$1.pointsOnlyTrack,OxyModifierKeys$1.Shift),ControllerExtensions$1.bindTouchDown(this,PlotCommands$1.snapTrackTouch),ControllerExtensions$1.bindMouseDown(this,OxyMouseButton$1.XButton1,PlotCommands$1.zoomInAt),ControllerExtensions$1.bindMouseDown(this,OxyMouseButton$1.XButton2,PlotCommands$1.zoomOutAt),ControllerExtensions$1.bindMouseWheel(this,PlotCommands$1.zoomWheel),ControllerExtensions$1.bindMouseWheel(this,PlotCommands$1.zoomWheelFine,OxyModifierKeys$1.Control),ControllerExtensions$1.bindKeyDown(this,OxyKey$1.Add,PlotCommands$1.zoomIn),ControllerExtensions$1.bindKeyDown(this,OxyKey$1.Subtract,PlotCommands$1.zoomOut),ControllerExtensions$1.bindKeyDown(this,OxyKey$1.PageUp,PlotCommands$1.zoomIn),ControllerExtensions$1.bindKeyDown(this,OxyKey$1.PageDown,PlotCommands$1.zoomOut),ControllerExtensions$1.bindKeyDown(this,OxyKey$1.Add,PlotCommands$1.zoomInFine,OxyModifierKeys$1.Control),ControllerExtensions$1.bindKeyDown(this,OxyKey$1.Subtract,PlotCommands$1.zoomOutFine,OxyModifierKeys$1.Control),ControllerExtensions$1.bindKeyDown(this,OxyKey$1.PageUp,PlotCommands$1.zoomInFine,OxyModifierKeys$1.Control),ControllerExtensions$1.bindKeyDown(this,OxyKey$1.PageDown,PlotCommands$1.zoomOutFine,OxyModifierKeys$1.Control)}};function isTransposablePlotElement$1($e){return $e instanceof Object&&"__isTransposable"in $e}function setTransposablePlotElement$1($e){$e.__isTransposable=!0}let PlotElementExtensions$1=class ml{static inverseTransform(e,t,r){return e.inverseTransform(newScreenPoint$1(t,r))}static isTransposed(e){return e.xAxis.isVertical()}static orientate(e,t){return ml.isTransposed(e)?newScreenPoint$1(t.y,t.x):t}static orientateVector(e,t){return t=new ScreenVector$1(e.xAxis.isReversed?-t.x:t.x,e.yAxis.isReversed?-t.y:t.y),ml.isTransposed(e)?new ScreenVector$1(-t.y,-t.x):t}static orientateAlignment(e,t,r){if(e.xAxis.isReversed&&(t=-t),e.yAxis.isReversed&&(r=-r),ml.isTransposed(e)){const Ve=-r;r=-t,t=Ve}return[t,r]}static transform(e,t,r){return e.transform(newDataPoint$1(t,r))}},PlotElementUtilities$1=class{static getClippingRect(e){const t=OxyRect$1.fromScreenPoints(e.xAxis.screenMin,e.xAxis.screenMax),r=OxyRect$1.fromScreenPoints(e.yAxis.screenMin,e.yAxis.screenMax);return t.intersect(r)}static inverseTransform(e,t){return e.xAxis.inverseTransformPoint(t.x,t.y,e.yAxis)}static inverseTransformOrientated(e,t){return this.inverseTransform(e,PlotElementExtensions$1.orientate(e,t))}static transform(e,t){return e.xAxis.transformPoint(t.x,t.y,e.yAxis)}static transformOrientated(e,t){return PlotElementExtensions$1.orientate(e,this.transform(e,t))}};var PlotType=($e=>($e[$e.XY=0]="XY",$e[$e.Cartesian=1]="Cartesian",$e[$e.Polar=2]="Polar",$e))(PlotType||{}),TitleHorizontalAlignment=($e=>($e[$e.CenteredWithinPlotArea=0]="CenteredWithinPlotArea",$e[$e.CenteredWithinView=1]="CenteredWithinView",$e))(TitleHorizontalAlignment||{});class PlotModel extends Model$1{constructor(e){super(),D$2(this,"barSeriesManagers",[]),D$2(this,"plotViewReference"),D$2(this,"currentColorIndex",0),D$2(this,"isDataUpdated",!1),D$2(this,"lastPlotException"),D$2(this,"trackerChanged"),D$2(this,"updated"),D$2(this,"updating"),D$2(this,"defaultFont"),D$2(this,"defaultFontSize"),D$2(this,"_actualPlotMargins",OxyThickness$1.Zero),D$2(this,"_annotations"),D$2(this,"_axes"),D$2(this,"_legends"),D$2(this,"background",OxyColors$1.Undefined),D$2(this,"defaultColors"),D$2(this,"edgeRenderingMode"),D$2(this,"assignColorsToInvisibleSeries"),D$2(this,"isLegendVisible"),D$2(this,"padding",OxyThickness$1.Zero),D$2(this,"_plotBounds",OxyRect$1.Empty),D$2(this,"_plotAndAxisArea",OxyRect$1.Empty),D$2(this,"_plotArea",OxyRect$1.Empty),D$2(this,"axisTierDistance"),D$2(this,"plotAreaBackground",OxyColors$1.Undefined),D$2(this,"plotAreaBorderColor",OxyColors$1.Undefined),D$2(this,"plotAreaBorderThickness"),D$2(this,"plotMargins"),D$2(this,"plotType"),D$2(this,"_series"),D$2(this,"renderingDecorator"),D$2(this,"subtitle"),D$2(this,"subtitleFont"),D$2(this,"subtitleFontSize"),D$2(this,"subtitleFontWeight"),D$2(this,"textColor",OxyColors$1.Black),D$2(this,"title"),D$2(this,"titleToolTip"),D$2(this,"titleColor",OxyColors$1.Automatic),D$2(this,"clipTitle"),D$2(this,"titleClippingLength"),D$2(this,"subtitleColor",OxyColors$1.Automatic),D$2(this,"titleHorizontalAlignment",0),D$2(this,"_titleArea",OxyRect$1.Empty),D$2(this,"titleFont"),D$2(this,"titleFontSize"),D$2(this,"titleFontWeight"),D$2(this,"titlePadding"),D$2(this,"_defaultAngleAxis"),D$2(this,"_defaultMagnitudeAxis"),D$2(this,"_defaultXAxis"),D$2(this,"_defaultYAxis"),D$2(this,"_defaultColorAxis"),this._axes=newElementCollection(this),this._series=newElementCollection(this),this._annotations=newElementCollection(this),this._legends=newElementCollection(this),this.plotType=0,this.plotMargins=new OxyThickness$1(NaN),this.padding=new OxyThickness$1(8),this.background=OxyColors$1.Undefined,this.plotAreaBackground=OxyColors$1.Undefined,this.textColor=OxyColors$1.Black,this.titleColor=OxyColors$1.Automatic,this.subtitleColor=OxyColors$1.Automatic,this.defaultFont="Segoe UI",this.defaultFontSize=12,this.titleToolTip=void 0,this.titleFont=void 0,this.titleFontSize=18,this.titleFontWeight=FontWeights$1.Bold,this.subtitleFont=void 0,this.subtitleFontSize=14,this.subtitleFontWeight=FontWeights$1.Normal,this.titlePadding=6,this.clipTitle=!0,this.titleClippingLength=.9,this.plotAreaBorderColor=OxyColors$1.Black,this.plotAreaBorderThickness=new OxyThickness$1(1),this.edgeRenderingMode=EdgeRenderingMode$1.Automatic,this.assignColorsToInvisibleSeries=!0,this.isLegendVisible=!0,this.defaultColors=[OxyColor$1.fromRgb(78,154,6),OxyColor$1.fromRgb(200,141,0),OxyColor$1.fromRgb(204,0,0),OxyColor$1.fromRgb(32,74,135),OxyColors$1.Red,OxyColors$1.Orange,OxyColors$1.Yellow,OxyColors$1.Green,OxyColors$1.Blue,OxyColors$1.Indigo,OxyColors$1.Violet],this.axisTierDistance=4,e&&this.applyOptions(e)}applyOptions(e){removeProperties(e,"_axes","_series","_annotations","_legends"),e.axes&&e.axes.length>0&&this._axes.push(...e.axes),e.series&&e.series.length>0&&this._series.push(...e.series),e.annotations&&e.annotations.length>0&&this._annotations.push(...e.annotations),e.legends&&e.legends.length>0&&this._legends.push(...e.legends),removeProperties(e,"axes","series","annotations","legends"),Object.assign(this,removeUndef$1(e))}get actualPlotMargins(){return this._actualPlotMargins}get plotView(){return this.plotViewReference}get annotations(){return this._annotations}get axes(){return this._axes}get legends(){return this._legends}get plotBounds(){return this._plotBounds}get width(){return this.plotBounds.width}get height(){return this.plotBounds.height}get plotAndAxisArea(){return this._plotAndAxisArea}get plotArea(){return this._plotArea}get series(){return this._series}get titleArea(){return this._titleArea}get defaultAngleAxis(){return this._defaultAngleAxis}get defaultMagnitudeAxis(){return this._defaultMagnitudeAxis}get defaultXAxis(){return this._defaultXAxis}get defaultYAxis(){return this._defaultYAxis}get defaultColorAxis(){return this._defaultColorAxis}get actualTitleFont(){return this.titleFont||this.defaultFont}get actualSubtitleFont(){return this.subtitleFont||this.defaultFont}attachPlotView(e){const t=this.plotView;if(t&&e&&t!==e)throw new Error("This PlotModel is already in use by some other PlotView control.");this.plotViewReference=e}invalidatePlot(e){var t;(t=this.plotView)==null||t.invalidatePlot(e)}getAxesFromPoint(e){let t,r,Ve,je=0;e.x<this.plotArea.left&&(Ve=AxisPosition$1.Left,je=this.plotArea.left),e.x>this.plotArea.right&&(Ve=AxisPosition$1.Right,je=this.plotArea.right),e.y<this.plotArea.top&&(Ve=AxisPosition$1.Top,je=this.plotArea.top),e.y>this.plotArea.bottom&&(Ve=AxisPosition$1.Bottom,je=this.plotArea.bottom);for(const ze of this.axes){if(!ze.isAxisVisible||isColorAxis(ze))continue;if(ze instanceof MagnitudeAxis){t=ze;continue}if(ze instanceof AngleAxis){r=ze;continue}let Xe=NaN;if(ze.isHorizontal()&&(Xe=ze.inverseTransform(e.x)),ze.isVertical()&&(Xe=ze.inverseTransform(e.y)),Xe>=ze.clipMinimum&&Xe<=ze.clipMaximum){if(!Ve)ze.isHorizontal()?t||(t=ze):ze.isVertical()&&(r||(r=ze));else if(Ve===ze.position){const We=ze.positionTierMinShift,qe=ze.positionTierMaxShift,Ke=ze.isHorizontal()?e.y:e.x,Ze=Ve===AxisPosition$1.Top||Ve===AxisPosition$1.Left;(Ke>=je+We&&Ke<je+qe&&!Ze||Ke<=je-We&&Ke>je-qe&&Ze)&&(ze.isHorizontal()?isNullOrUndef$1(t)&&(t=ze):ze.isVertical()&&isNullOrUndef$1(r)&&(r=ze))}}}return[t,r]}getDefaultColor(){return this.defaultColors[this.currentColorIndex++%this.defaultColors.length]}getDefaultLineStyle(){return this.currentColorIndex/this.defaultColors.length%Number(LineStyle$1.None)}getSeriesFromPoint(e,t=100){let r=Number_MAX_VALUE$1,Ve;const je=getReversedCopy$1(this.series);for(const ze of je.filter(Xe=>Xe.isVisible)){const Xe=ze.getNearestPoint(e,!0)||ze.getNearestPoint(e,!1);if(!(Xe!=null&&Xe.position))continue;const We=screenPointDistanceTo$1(e,Xe.position);We<r&&(Ve=ze,r=We)}if(r<t)return Ve}toString(){return this.title||""}getLastPlotException(){return this.lastPlotException}update(e){try{this.lastPlotException=null,this.onUpdating(),this.ensureDefaultAxes();const t=this.series.filter(Ve=>Ve.isVisible);if(e||!this.isDataUpdated){for(const Ve of t)Ve.updateData();this.isDataUpdated=!0}this.updateBarSeriesManagers(),this.updateMaxMin(e),this.updateUnmanagedCategoryAxes();const r=this.assignColorsToInvisibleSeries?this.series:t;this.resetDefaultColor();for(const Ve of r)Ve.setDefaultValues();this.onUpdated()}catch(t){console.log(t),this.lastPlotException=t}}getAxis(e){if(!e)throw new Error("Axis key cannot be null.");const t=this.axes.find(r=>r.key===e);if(!t)throw new Error(`Cannot find axis with Key = "${e}"`);return t}getAxisOrDefault(e,t){return e?t:this.axes.find(r=>r.key===e)||t}resetAllAxes(){for(const e of this.axes)e.reset()}panAllAxes(e,t){for(const r of this.axes)r.pan(r.isHorizontal()?e:t)}zoomAllAxes(e){for(const t of this.axes)t.zoomAtCenter(e)}raiseTrackerChanged(e){const t=this.trackerChanged;t&&t(this,{hitResult:e})}onTrackerChanged(e){this.raiseTrackerChanged(e)}getHitTestElements(){const e=[],t=getReversedCopy$1(this.axes);for(const je of t.filter(ze=>ze.isAxisVisible&&ze.layer===AxisLayer$1.AboveSeries))e.push(je);const r=getReversedCopy$1(this.annotations);for(const je of r.filter(ze=>ze.layer===AnnotationLayer.AboveSeries))e.push(je);const Ve=getReversedCopy$1(this.series);for(const je of Ve.filter(ze=>ze.isVisible))e.push(je);for(const je of r.filter(ze=>ze.layer===AnnotationLayer.BelowSeries))e.push(je);for(const je of t.filter(ze=>ze.isAxisVisible&&ze.layer===AxisLayer$1.BelowSeries))e.push(je);for(const je of r.filter(ze=>ze.layer===AnnotationLayer.BelowAxes))e.push(je);for(const je of this.legends)e.push(je);return e}onUpdated(){const e=this.updated;e&&e(this)}onUpdating(){const e=this.updating;e&&e(this)}updateAxisTransforms(){for(const e of this.axes)e.updateTransform(this.plotArea)}enforceCartesianTransforms(){const e=this.axes.filter(r=>!isColorAxis(r));let t=Math.min(...e.map(r=>Math.abs(r.scale)));for(const r of e)r.zoomScale(t);t=Math.max(...e.map(r=>Math.abs(r.scale)));for(const r of e)r.zoomScale(t);for(const r of e)r.updateTransform(this.plotArea)}updateIntervals(){for(const e of this.axes)e.updateIntervals(this.plotArea)}ensureDefaultAxes(){const e=this.axes,t=this.series;if(this._defaultXAxis=e.find(r=>r.isHorizontal()&&r.isXyAxis()),this._defaultYAxis=e.find(r=>r.isVertical()&&r.isXyAxis()),this._defaultMagnitudeAxis=e.find(r=>r instanceof MagnitudeAxis),this._defaultAngleAxis=e.find(r=>r instanceof AngleAxis),this._defaultColorAxis=e.find(r=>isColorAxis(r)),isNullOrUndef$1(this.defaultXAxis)&&(this._defaultXAxis=this.defaultMagnitudeAxis),isNullOrUndef$1(this.defaultYAxis)&&(this._defaultYAxis=this.defaultAngleAxis),this.plotType===2)isNullOrUndef$1(this.defaultXAxis)&&(this._defaultXAxis=this._defaultMagnitudeAxis=new MagnitudeAxis),isNullOrUndef$1(this.defaultYAxis)&&(this._defaultYAxis=this._defaultAngleAxis=new AngleAxis);else{let r=!1,Ve=!1;isNullOrUndef$1(this.defaultXAxis)&&(this._defaultXAxis=new LinearAxis$1({position:AxisPosition$1.Bottom}),r=!0),isNullOrUndef$1(this.defaultYAxis)&&(t.some(je=>je.isVisible&&je instanceof BarSeries$1)?this._defaultYAxis=new CategoryAxis$1({position:AxisPosition$1.Left}):(this._defaultYAxis=new LinearAxis$1({position:AxisPosition$1.Left}),Ve=!0)),r&&this.defaultXAxis&&this.defaultYAxis instanceof CategoryAxis$1&&(this.defaultXAxis.minimumPadding=0),Ve&&this.defaultYAxis&&this.defaultXAxis instanceof CategoryAxis$1&&(this.defaultYAxis.minimumPadding=0)}t.some(r=>r.isVisible&&r.areAxesRequired())&&(e.includes(this.defaultXAxis)||(console.assert(this.defaultXAxis,"Default x-axis not created."),this.defaultXAxis&&this.axes.push(this.defaultXAxis)),e.includes(this.defaultYAxis)||(console.assert(this.defaultYAxis,"Default y-axis not created."),this.defaultYAxis&&this.axes.push(this.defaultYAxis)));for(const r of this.series)r.isVisible&&r.areAxesRequired()&&r.ensureAxes();for(const r of this.annotations)r.ensureAxes()}resetDefaultColor(){this.currentColorIndex=0}updateMaxMin(e){if(e){for(const t of this.axes)t.resetDataMaxMin();for(const t of this.series.filter(r=>r.isVisible))t.updateMaxMin()}for(const t of this.series.filter(r=>r.isVisible))t.updateAxisMaxMin();for(const t of this.axes)t.updateActualMaxMin()}updateBarSeriesManagers(){this.barSeriesManagers=[];const e=this.series.filter(r=>r.isVisible&&isBarSeries(r)).map(r=>r),t=new Map;for(const r of e){const Ve=[...t.keys()].find(je=>je.ca===r.categoryAxis&&je.va===r.valueAxis);if(Ve){t.get(Ve).push(r);continue}t.set({ca:r.categoryAxis,va:r.valueAxis},[r])}t.forEach((r,Ve)=>{const je=new BarSeriesManager(Ve.ca,Ve.va,r);je.update(),this.barSeriesManagers.push(je)})}updateUnmanagedCategoryAxes(){const e=this.barSeriesManagers.map(r=>r.categoryAxis),t=this.axes.filter(r=>r instanceof CategoryAxis$1).map(r=>r).filter(r=>!e.includes(r));for(const r of t){let Ve=0;!isInfinity$1(r.dataMaximum)&&!isNaN(r.dataMaximum)&&r.dataMaximum>0&&(Ve=Math.floor(r.dataMaximum)+1),r.updateLabels(Ve)}}render(e,t){return this.renderOverride(e,t)}async renderOverride(e,t){var r;const Ve=e.clipCount;let je=null;try{if(je=RenderingExtensions$1.autoResetClip(e,t),this.lastPlotException){const ze=`An exception of type ${this.lastPlotException.constructor.name} was thrown when updating the plot model.\r
${this.lastPlotException.stack}`;await this.renderErrorMessage(e,`OxyPlot exception: ${this.lastPlotException.message}`,ze);return}this.renderingDecorator&&(e=this.renderingDecorator(e)),this._plotBounds=t,this._actualPlotMargins=new OxyThickness$1(isNaN(this.plotMargins.left)?0:this.plotMargins.left,isNaN(this.plotMargins.top)?0:this.plotMargins.top,isNaN(this.plotMargins.right)?0:this.plotMargins.right,isNaN(this.plotMargins.bottom)?0:this.plotMargins.bottom);for(const ze of this.legends)ze.ensureLegendProperties();for(let ze=0;ze<10&&(await this.updatePlotArea(e),this.updateAxisTransforms(),this.updateIntervals(),!!this.adjustPlotMargins(e));ze++);if(this.plotType===1&&(this.enforceCartesianTransforms(),this.updateIntervals()),await this.renderBackgrounds(e),await this.renderAnnotations(e,AnnotationLayer.BelowAxes),await this.renderAxes(e,AxisLayer$1.BelowSeries),await this.renderAnnotations(e,AnnotationLayer.BelowSeries),await this.renderSeries(e),await this.renderAnnotations(e,AnnotationLayer.AboveSeries),await this.renderTitle(e),await this.renderBox(e),await this.renderAxes(e,AxisLayer$1.AboveSeries),this.isLegendVisible&&await this.renderLegends(e),e.clipCount!==Ve+1)throw new Error("Unbalanced calls to IRenderContext.pushClip were made during rendering.")}catch(ze){debugger;for(console.log(ze);e.clipCount>Ve;)e.popClip();const Xe=`An exception of type ${(r=ze.constructor)==null?void 0:r.name} was thrown when rendering the plot model.\r
${ze.stack}`;this.lastPlotException=ze,await this.renderErrorMessage(e,`OxyPlot exception: ${ze.message}`,Xe)}finally{je==null||je.dispose(),e.cleanUp()}}async renderErrorMessage(e,t,r,Ve=12){const je=newScreenPoint$1(10,10);await e.drawText(je,t,this.textColor,void 0,Ve,FontWeights$1.Bold),await RenderingExtensions$1.drawMultilineText(e,screenPointPlus$1(je,new ScreenVector$1(0,Ve*1.5)),r,this.textColor,void 0,Ve,Ve*1.25)}adjustPlotMargins(e){const t=this.axes.filter(ze=>ze.isAxisVisible);t.forEach(ze=>{ze.measure(e)});let r=OxyThickness$1.Zero;const Ve=(ze,Xe)=>{switch(Xe){case AxisPosition$1.Bottom:r=new OxyThickness$1(r.left,r.top,r.right,Math.max(r.bottom,ze));break;case AxisPosition$1.Left:r=new OxyThickness$1(Math.max(r.left,ze),r.top,r.right,r.bottom);break;case AxisPosition$1.Right:r=new OxyThickness$1(r.left,r.top,Math.max(r.right,ze),r.bottom);break;case AxisPosition$1.Top:r=new OxyThickness$1(r.left,Math.max(r.top,ze),r.right,r.bottom);break}};for(let ze=AxisPosition$1.Left;ze<=AxisPosition$1.Bottom;ze++){const Xe=t.filter(qe=>qe.position===ze),We=this.adjustAxesPositions(Xe);Ve(We,ze)}t.forEach(ze=>{r=r.include(ze.desiredMargin)});let je=this.plotMargins;return je=new OxyThickness$1(isNaN(je.left)?r.left:je.left,isNaN(je.top)?r.top:je.top,isNaN(je.right)?r.right:je.right,isNaN(je.bottom)?r.bottom:je.bottom),je.equals(this.actualPlotMargins)?!1:(this._actualPlotMargins=je,!0)}adjustAxesPositions(e){let t=0;const r=Ve=>{switch(Ve.position){case AxisPosition$1.Left:return Ve.desiredMargin.left;case AxisPosition$1.Right:return Ve.desiredMargin.right;case AxisPosition$1.Top:return Ve.desiredMargin.top;case AxisPosition$1.Bottom:return Ve.desiredMargin.bottom;default:throw new Error("We don't do this for polar axes")}};return e.reduce((Ve,je)=>{const ze=je.positionTier,Xe=Ve.get(ze);return Xe?Xe.push(je):Ve.set(ze,[je]),Ve},new Map).forEach((Ve,je)=>{const ze=Math.max(...Ve.map(r)),Xe=t;Math.abs(t)>1e-5&&(t+=this.axisTierDistance),t+=ze,Ve.forEach(We=>{We.positionTierSize=ze,We.positionTierMinShift=Xe,We.positionTierMaxShift=t})}),t}measureTitles(e){const t=e.measureText(this.title||"",this.actualTitleFont,this.titleFontSize,this.titleFontWeight),r=e.measureText(this.subtitle||"",this.subtitleFont||this.actualSubtitleFont,this.subtitleFontSize,this.subtitleFontWeight),Ve=t.height+r.height,je=Math.max(t.width,r.width);return new OxySize$1(je,Ve)}renderAnnotations(e,t){return this.renderPlotElements(this.annotations.filter(r=>r.layer===t),e,async r=>r.render(e))}async renderAxes(e,t){for(const r of this.axes.filter(Ve=>Ve.isAxisVisible&&Ve.layer===t))e.setToolTip(r.toolTip),await r.render(e,0);for(const r of this.axes.filter(Ve=>Ve.isAxisVisible&&Ve.layer===t))e.setToolTip(r.toolTip),await r.render(e,1);e.setToolTip(void 0)}async renderLegends(e){if(this.isLegendVisible)return this.legends.filter(t=>t.isLegendVisible).forEach(t=>(e.setToolTip(t.toolTip),t.renderLegends(e)))}async renderBackgrounds(e){this.axes.length>0&&this.plotAreaBackground.isVisible()&&await e.drawRectangle(this.plotArea,this.plotAreaBackground,OxyColors$1.Undefined,0,this.edgeRenderingMode);const t=this.series.filter(r=>r instanceof XYAxisSeries$1).map(r=>r).filter(r=>r.isVisible&&r.background.isVisible());for(const r of t)await e.drawRectangle(r.getScreenRectangle(),r.background,OxyColors$1.Undefined,0,this.edgeRenderingMode)}async renderBox(e){if(this.axes.length>0){const t=RenderingExtensions$1.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode$1.PreferSharpness);await RenderingExtensions$1.drawRectangle(e,this.plotArea,this.plotAreaBorderColor,this.plotAreaBorderThickness,t)}}async renderSeries(e){return this.barSeriesManagers.forEach(t=>{t.initializeRender()}),this.renderPlotElements(this.series.filter(t=>t.isVisible),e,async t=>t.render(e))}async renderPlotElements(e,t,r){let Ve=OxyRect$1.Everything;for(const je of e){const ze=je.getClippingRect();ze.equals(Ve)||(Ve.equals(OxyRect$1.Everything)||(t.popClip(),Ve=OxyRect$1.Everything),ze.equals(OxyRect$1.Everything)||(t.pushClip(ze),Ve=ze)),t.setToolTip(je.toolTip),await r(je)}Ve.equals(OxyRect$1.Everything)||t.popClip(),t.setToolTip(void 0)}async renderTitle(e){let t;this.clipTitle&&(t=new OxySize$1(this.titleArea.width*this.titleClippingLength,Number_MAX_VALUE$1));const r=e.measureText(this.title||"",this.actualTitleFont,this.titleFontSize,this.titleFontWeight),Ve=(this.titleArea.left+this.titleArea.right)*.5;let je=this.titleArea.top;this.title&&(e.setToolTip(this.titleToolTip),await MathRenderingExtensions$1.drawMathText(e,newScreenPoint$1(Ve,je),this.title,this.titleColor.getActualColor(this.textColor),this.actualTitleFont,this.titleFontSize,this.titleFontWeight,0,HorizontalAlignment$1.Center,VerticalAlignment$1.Top,t),je+=r.height,e.setToolTip(void 0)),this.subtitle&&await MathRenderingExtensions$1.drawMathText(e,newScreenPoint$1(Ve,je),this.subtitle,this.subtitleColor.getActualColor(this.textColor),this.actualSubtitleFont,this.subtitleFontSize,this.subtitleFontWeight,0,HorizontalAlignment$1.Center,VerticalAlignment$1.Top,t)}async updatePlotArea(e){let t=new OxyRect$1(this.plotBounds.left+this.padding.left,this.plotBounds.top+this.padding.top,Math.max(0,this.width-this.padding.left-this.padding.right),Math.max(0,this.height-this.padding.top-this.padding.bottom));const r=this.measureTitles(e);if(r.height>0){const je=r.height+this.titlePadding;t=new OxyRect$1(t.left,t.top+je,t.width,Math.max(0,t.height-je))}let Ve=t.deflate(this.actualPlotMargins);if(this.isLegendVisible){let je=new OxySize$1(0,0),ze=0;const Xe=this.legends.filter(We=>We.legendPlacement===LegendPlacement.Outside&&We.isLegendVisible);for(const We of Xe.filter(qe=>isLeftLegend(qe.legendPosition))){const qe=We.allowUseFullExtent?t.width:Ve.width;let Ke=We.allowUseFullExtent?t.height:Ve.height;Ke=isNaN(We.legendMaxHeight)?Ke:Math.min(Ke,We.legendMaxHeight);const Ze=await We.getLegendSize(e,new OxySize$1(qe,Ke));We.legendSize=Ze,je=new OxySize$1(Math.max(je.width,Ze.width),Math.max(je.height,Ze.height)),We.legendMargin>ze&&(ze=We.legendMargin)}(je.width>0||je.height>0)&&(Ve=new OxyRect$1(Ve.left+je.width+ze,Ve.top,Math.max(0,Ve.width-(je.width+ze)),Ve.height)),je=new OxySize$1(0,0),ze=0;for(const We of Xe.filter(qe=>isRightLegend(qe.legendPosition))){const qe=We.allowUseFullExtent?t.width:Ve.width;let Ke=We.allowUseFullExtent?t.height:Ve.height;Ke=isNaN(We.legendMaxHeight)?Ke:Math.min(Ke,We.legendMaxHeight);const Ze=await We.getLegendSize(e,new OxySize$1(qe,Ke));We.legendSize=Ze,je=new OxySize$1(Math.max(je.width,Ze.width),Math.max(je.height,Ze.height)),We.legendMargin>ze&&(ze=We.legendMargin)}(je.width>0||je.height>0)&&(Ve=new OxyRect$1(Ve.left,Ve.top,Math.max(0,Ve.width-(je.width+ze)),Ve.height)),je=new OxySize$1(0,0),ze=0;for(const We of Xe.filter(qe=>isTopLegend(qe.legendPosition))){const qe=We.allowUseFullExtent?t.width:Ve.width;let Ke=We.allowUseFullExtent?t.height:Ve.height;Ke=isNaN(We.legendMaxHeight)?Ke:Math.min(Ke,We.legendMaxHeight);const Ze=await We.getLegendSize(e,new OxySize$1(qe,Ke));We.legendSize=Ze,je=new OxySize$1(Math.max(je.width,Ze.width),Math.max(je.height,Ze.height)),We.legendMargin>ze&&(ze=We.legendMargin)}(je.width>0||je.height>0)&&(Ve=new OxyRect$1(Ve.left,Ve.top+je.height+ze,Ve.width,Math.max(0,Ve.height-(je.height+ze)))),je=new OxySize$1(0,0),ze=0;for(const We of Xe.filter(qe=>isBottomLegend(qe.legendPosition))){const qe=We.allowUseFullExtent?t.width:Ve.width;let Ke=We.allowUseFullExtent?t.height:Ve.height;Ke=isNaN(We.legendMaxHeight)?Ke:Math.min(Ke,We.legendMaxHeight);const Ze=await We.getLegendSize(e,new OxySize$1(qe,Ke));We.legendSize=Ze,je=new OxySize$1(Math.max(je.width,Ze.width),Math.max(je.height,Ze.height)),We.legendMargin>ze&&(ze=We.legendMargin)}(je.width>0||je.height>0)&&(Ve=new OxyRect$1(Ve.left,Ve.top,Ve.width,Math.max(0,Ve.height-(je.height+ze))));for(const We of this.legends.filter(qe=>qe.legendPlacement===LegendPlacement.Inside&&qe.isLegendVisible)){let qe=Ve.width,Ke=isNaN(We.legendMaxHeight)?Ve.height:Math.min(Ve.height,We.legendMaxHeight);We.legendPlacement===LegendPlacement.Inside&&(qe-=We.legendMargin*2,Ke-=We.legendMargin*2),We.legendSize=await We.getLegendSize(e,new OxySize$1(qe,Ke))}}switch(Ve.height<0&&(Ve=new OxyRect$1(Ve.left,Ve.top,Ve.width,1)),Ve.width<0&&(Ve=new OxyRect$1(Ve.left,Ve.top,1,Ve.height)),this._plotArea=Ve,this._plotAndAxisArea=Ve.inflateAll(this.actualPlotMargins),this.titleHorizontalAlignment){case 1:this._titleArea=new OxyRect$1(this.plotBounds.left,this.plotBounds.top+this.padding.top,this.width,r.height+this.titlePadding*2);break;default:this._titleArea=new OxyRect$1(this.plotArea.left,this.plotBounds.top+this.padding.top,this.plotArea.width,r.height+this.titlePadding*2);break}for(const je of this.legends)je.legendArea=je.getLegendRectangle(je.legendSize)}}let FontWeights$1=class{};D$2(FontWeights$1,"Bold",700),D$2(FontWeights$1,"Normal",400);var HorizontalAlignment$1=($e=>($e[$e.Left=-1]="Left",$e[$e.Center=0]="Center",$e[$e.Right=1]="Right",$e))(HorizontalAlignment$1||{}),LineJoin$1=($e=>($e[$e.Miter=0]="Miter",$e[$e.Round=1]="Round",$e[$e.Bevel=2]="Bevel",$e))(LineJoin$1||{}),LineStyle$1=($e=>($e[$e.Solid=0]="Solid",$e[$e.Dash=1]="Dash",$e[$e.Dot=2]="Dot",$e[$e.DashDot=3]="DashDot",$e[$e.DashDashDot=4]="DashDashDot",$e[$e.DashDotDot=5]="DashDotDot",$e[$e.DashDashDotDot=6]="DashDashDotDot",$e[$e.LongDash=7]="LongDash",$e[$e.LongDashDot=8]="LongDashDot",$e[$e.LongDashDotDot=9]="LongDashDotDot",$e[$e.None=10]="None",$e[$e.Automatic=11]="Automatic",$e))(LineStyle$1||{});let LineStyleHelper$1=class{static getDashArray(e){switch(e){case LineStyle$1.Solid:return;case LineStyle$1.Dash:return[4,1];case LineStyle$1.Dot:return[1,1];case LineStyle$1.DashDot:return[4,1,1,1];case LineStyle$1.DashDashDot:return[4,1,4,1,1,1];case LineStyle$1.DashDotDot:return[4,1,1,1,1,1];case LineStyle$1.DashDashDotDot:return[4,1,4,1,1,1,1,1];case LineStyle$1.LongDash:return[10,1];case LineStyle$1.LongDashDot:return[10,1,1,1];case LineStyle$1.LongDashDotDot:return[10,1,1,1,1,1];default:return}}},OxyPen$1=class wh{constructor(e,t=1,r=LineStyle$1.Solid,Ve=LineJoin$1.Miter){D$2(this,"dashArray"),this.color=e,this.thickness=t,this.lineStyle=r,this.lineJoin=Ve,this.dashArray=LineStyleHelper$1.getDashArray(r)}get actualDashArray(){return this.dashArray||LineStyleHelper$1.getDashArray(this.lineStyle)}static create(e,t,r=LineStyle$1.Solid,Ve=LineJoin$1.Miter){if(!(e.isInvisible()||r===LineStyle$1.None||Math.abs(t)<=0))return new wh(e,t,r,Ve)}};const Xt$2=class Do{constructor(e,t,r,Ve){if(D$2(this,"_height"),D$2(this,"_left"),D$2(this,"_top"),D$2(this,"_width"),r<0)throw new Error("width;The width should not be negative.");if(Ve<0)throw new Error("height;The height should not be negative.");this._left=e,this._top=t,this._width=r,this._height=Ve}static fromScreenPoints(e,t){return new Do(Math.min(e.x,t.x),Math.min(e.y,t.y),Math.abs(t.x-e.x),Math.abs(t.y-e.y))}static fromScreenPointAndSize(e,t){return new Do(e.x,e.y,t.width,t.height)}get bottom(){return this._top+this._height}get height(){return this._height}get left(){return this._left}get right(){return this._left+this._width}get top(){return this._top}get width(){return this._width}get center(){return newScreenPoint$1(this._left+this._width*.5,this._top+this._height*.5)}get topLeft(){return newScreenPoint$1(this.left,this.top)}get topRight(){return newScreenPoint$1(this.right,this.top)}get bottomLeft(){return newScreenPoint$1(this.left,this.bottom)}get bottomRight(){return newScreenPoint$1(this.right,this.bottom)}static create(e,t,r,Ve){return new Do(Math.min(e,r),Math.min(t,Ve),Math.abs(r-e),Math.abs(Ve-t))}contains(e,t){return e>=this.left&&e<=this.right&&t>=this.top&&t<=this.bottom}containsPoint(e){return this.contains(e.x,e.y)}toString(){return`(${this._left}, ${this._top}, ${this._width}, ${this._height})`}equals(e){return this.left===e.left&&this.top===e.top&&this.width===e.width&&this.height===e.height}inflate(e,t){return new Do(this._left-e,this._top-t,this._width+e*2,this._height+t*2)}inflateAll(e){return new Do(this._left-e.left,this._top-e.top,this._width+e.left+e.right,this._height+e.top+e.bottom)}intersect(e){const t=Math.max(this.left,e.left),r=Math.max(this.top,e.top),Ve=Math.min(this.right,e.right),je=Math.min(this.bottom,e.bottom);return Ve<t||je<r?Do.Empty:new Do(t,r,Ve-t,je-r)}deflate(e){return new Do(this._left+e.left,this._top+e.top,Math.max(0,this._width-e.left-e.right),Math.max(0,this._height-e.top-e.bottom))}offset(e,t){return new Do(this._left+e,this._top+t,this._width,this._height)}clip(e){const t=isNegativeInfinity$1(e.left)&&isPositiveInfinity$1(e.width)?e.right:1/0,r=isNegativeInfinity$1(e.top)&&isPositiveInfinity$1(e.height)?e.bottom:1/0;return Do.create(Math.max(Math.min(this.left,t),e.left),Math.max(Math.min(this.top,r),e.top),Math.max(Math.min(this.right,t),e.left),Math.max(Math.min(this.bottom,r),e.top))}};D$2(Xt$2,"Everything",new Xt$2(0,0,1/0,1/0)),D$2(Xt$2,"Empty",new Xt$2(0,0,0,0));let OxyRect$1=Xt$2;const me$2=class bh{constructor(e,t){D$2(this,"_height"),D$2(this,"_width"),this._width=e||0,this._height=t||0}get height(){return this._height}get width(){return this._width}toString(){return`(${this.width}, ${this.height})`}equals(e){return this.width===e.width&&this.height===e.height}include(e){return new bh(Math.max(this.width,e.width),Math.max(this.height,e.height))}};D$2(me$2,"Empty",new me$2(0,0));let OxySize$1=me$2;OxySize$1.prototype.getBounds=function($e,e,t){return OxySizeExtensions$1.getBounds(this,$e,e,t)};let OxySizeExtensions$1=class{static getBounds(e,t,r,Ve){const je=r===HorizontalAlignment$1.Left?0:r===HorizontalAlignment$1.Center?.5:1,ze=Ve===VerticalAlignment$1.Top?0:Ve===VerticalAlignment$1.Middle?.5:1,Xe=new ScreenVector$1(je*e.width,ze*e.height);if(t===0)return new OxyRect$1(-Xe.x,-Xe.y,e.width,e.height);const We=new ScreenVector$1(0,0).minus(Xe),qe=new ScreenVector$1(e.width,0).minus(Xe),Ke=new ScreenVector$1(e.width,e.height).minus(Xe),Ze=new ScreenVector$1(0,e.height).minus(Xe),Je=t*Math.PI/180,Qe=Math.cos(Je),ti=Math.sin(Je),ni=hi=>new ScreenVector$1(Qe*hi.x-ti*hi.y,ti*hi.x+Qe*hi.y),ri=ni(We),ii=ni(qe),ei=ni(Ke),St=ni(Ze),oi=Math.min(Math.min(ri.x,ii.x),Math.min(ei.x,St.x)),si=Math.min(Math.min(ri.y,ii.y),Math.min(ei.y,St.y)),ai=Math.max(Math.max(ri.x-oi,ii.x-oi),Math.max(ei.x-oi,St.x-oi)),ui=Math.max(Math.max(ri.y-si,ii.y-si),Math.max(ei.y-si,St.y-si));return new OxyRect$1(oi,si,ai,ui)}static getPolygon(e,t,r,Ve,je){const ze=Ve===HorizontalAlignment$1.Left?0:Ve===HorizontalAlignment$1.Center?.5:1,Xe=je===VerticalAlignment$1.Top?0:je===VerticalAlignment$1.Middle?.5:1,We=new ScreenVector$1(ze*e.width,Xe*e.height);let qe=new ScreenVector$1(0,0).minus(We),Ke=new ScreenVector$1(e.width,0).minus(We),Ze=new ScreenVector$1(e.width,e.height).minus(We),Je=new ScreenVector$1(0,e.height).minus(We);if(r!==0){const Qe=r*Math.PI/180,ti=Math.cos(Qe),ni=Math.sin(Qe),ri=ii=>new ScreenVector$1(ti*ii.x-ni*ii.y,ni*ii.x+ti*ii.y);qe=ri(qe),Ke=ri(Ke),Ze=ri(Ze),Je=ri(Je)}return[screenPointPlus$1(t,qe),screenPointPlus$1(t,Ke),screenPointPlus$1(t,Ze),screenPointPlus$1(t,Je)]}};const pe$2=class vh{constructor(e,t,r,Ve){if(D$2(this,"_bottom"),D$2(this,"_left"),D$2(this,"_right"),D$2(this,"_top"),isNullOrUndef$1(t)&&isNullOrUndef$1(r)&&isNullOrUndef$1(Ve))this._left=this._top=this._right=this._bottom=e;else if(!isNullOrUndef$1(t)&&!isNullOrUndef$1(r)&&!isNullOrUndef$1(Ve))this._left=e,this._top=t,this._right=r,this._bottom=Ve;else throw new Error("Invalid arguments")}get bottom(){return this._bottom}get left(){return this._left}get right(){return this._right}get top(){return this._top}toString(){return`(${this._left}, ${this._top}, ${this._right}, ${this._bottom})`}equals(e){return this.left===e.left&&this.top===e.top&&this.right===e.right&&this.bottom===e.bottom}include(e){return new vh(Math.max(e.left,this.left),Math.max(e.top,this.top),Math.max(e.right,this.right),Math.max(e.bottom,this.bottom))}};D$2(pe$2,"Zero",new pe$2(0));let OxyThickness$1=pe$2;const ScreenPoint_Undefined$1=Object.freeze({x:NaN,y:NaN}),ScreenPoint_LeftTop$1=Object.freeze({x:0,y:0});function newScreenPoint$1($e,e){return{x:$e,y:e}}function screenPointPlus$1($e,e){return newScreenPoint$1($e.x+e.x,$e.y+e.y)}function screenPointMinus$1($e,e){return new ScreenVector$1($e.x-e.x,$e.y-e.y)}function screenPointMinusVector$1($e,e){return newScreenPoint$1($e.x-e.x,$e.y-e.y)}function screenPointDistanceTo$1($e,e){const t=e.x-$e.x,r=e.y-$e.y;return Math.sqrt(t*t+r*r)}function screenPointDistanceToSquared$1($e,e){const t=e.x-$e.x,r=e.y-$e.y;return t*t+r*r}function ScreenPoint_isUndefined$1($e){return isNaN($e.x)&&isNaN($e.y)}function screenPointEquals$1($e,e){return $e.x===e.x&&$e.y===e.y}let ScreenPointHelper$1=class du{static findNearestPointOnPolyline(e,t){if(!t)throw new Error("points is null");let r=Number_MAX_VALUE$1,Ve=ScreenPoint_LeftTop$1;for(let je=0;je+1<t.length;je++){const ze=t[je],Xe=t[je+1];if(ScreenPoint_isUndefined$1(ze)||ScreenPoint_isUndefined$1(Xe))continue;const We=du.findPointOnLine(e,ze,Xe);if(ScreenPoint_isUndefined$1(We))continue;const qe=screenPointMinus$1(e,We).lengthSquared;qe<r&&(Ve=We,r=qe)}return Ve}static findPointOnLine(e,t,r){const Ve=r.x-t.x,je=r.y-t.y;let ze=du.findPositionOnLine(e,t,r);return isNaN(ze)&&(ze=0),ze<0&&(ze=0),ze>1&&(ze=1),newScreenPoint$1(t.x+ze*Ve,t.y+ze*je)}static findPositionOnLine(e,t,r){const Ve=r.x-t.x,je=r.y-t.y,ze=(e.x-t.x)*Ve+(e.y-t.y)*je,Xe=Ve*Ve+je*je;return Xe<1e-6?NaN:ze/Xe}static isPointInPolygon(e,t){if(!t)return!1;const r=t.length;let Ve=!1;for(let je=0,ze=r-1;je<r;ze=je++)t[je].y>e.y!=t[ze].y>e.y&&e.x<(t[ze].x-t[je].x)*((e.y-t[je].y)/(t[ze].y-t[je].y))+t[je].x&&(Ve=!Ve);return Ve}static resamplePoints(e,t){const r=t*t,Ve=e.length,je=[];if(Ve>0){je.push(e[0]);let ze=0;for(let Xe=1;Xe<Ve;Xe++)screenPointDistanceToSquared$1(e[ze],e[Xe])<r&&Xe!==Ve-1||(ze=Xe,je.push(e[Xe]))}return je}static getCentroid(e){let t=0,r=0,Ve=0;for(let je=0;je<e.length;je++){const ze=(je+1)%e.length,Xe=e[je].x*e[ze].y-e[ze].x*e[je].y;t+=(e[je].x+e[ze].x)*Xe,r+=(e[je].y+e[ze].y)*Xe,Ve+=Xe}return Ve*=.5,t/=6*Ve,r/=6*Ve,newScreenPoint$1(t,r)}};const Qt$2=class Us{constructor(e,t){D$2(this,"_x"),D$2(this,"_y"),this._x=e,this._y=t}get length(){return Math.sqrt(this._x*this._x+this._y*this._y)}get lengthSquared(){return this._x*this._x+this._y*this._y}get x(){return this._x}get y(){return this._y}normalize(){if(this===Us.Zero)throw new Error("Cannot normalize the zero vector");const e=Math.sqrt(this._x*this._x+this._y*this._y);e>0&&(this._x/=e,this._y/=e)}plus(e){const t=this;return new Us(t.x+e.x,t.y+e.y)}minus(e){const t=this;return new Us(t.x-e.x,t.y-e.y)}times(e){const t=this;return new Us(t.x*e,t.y*e)}negate(){const e=this;return new Us(-e.x,-e.y)}toString(){return`${this._x} ${this._y}`}equals(e){return this._x===e._x&&this._y===e._y}};D$2(Qt$2,"Zero",Object.freeze(new Qt$2(0,0)));let ScreenVector$1=Qt$2;var VerticalAlignment$1=($e=>($e[$e.Top=-1]="Top",$e[$e.Middle=0]="Middle",$e[$e.Bottom=1]="Bottom",$e))(VerticalAlignment$1||{}),EdgeRenderingMode$1=($e=>($e[$e.Automatic=0]="Automatic",$e[$e.Adaptive=1]="Adaptive",$e[$e.PreferSharpness=2]="PreferSharpness",$e[$e.PreferSpeed=3]="PreferSpeed",$e[$e.PreferGeometricAccuracy=4]="PreferGeometricAccuracy",$e))(EdgeRenderingMode$1||{});const SubAlignment$1=.6,SubSize$1=.62,SuperAlignment$1=0,SuperSize$1=.62;let MathRenderingExtensions$1=class{static async drawMathText(e,t,r,Ve,je,ze,Xe,We,qe,Ke,Ze,Je=!1){if(!r)return OxySize$1.Empty;if(r.includes("^{")||r.includes("_{")){const Qe=t.x,ti=t.y,ni=await this.internalDrawMathText(e,Qe,ti,0,0,r,Ve,je,ze,Xe,!0,We);let ri=0,ii=0;switch(qe){case HorizontalAlignment$1.Right:ri=-ni.width;break;case HorizontalAlignment$1.Center:ri=-ni.width*.5;break}switch(Ke){case VerticalAlignment$1.Bottom:ii=-ni.height;break;case VerticalAlignment$1.Middle:ii=-ni.height*.5;break}return await this.internalDrawMathText(e,Qe,ti,ri,ii,r,Ve,je,ze,Xe,!1,We),Je?ni:OxySize$1.Empty}return await e.drawText(t,r,Ve,je,ze,Xe,We,qe,Ke,Ze),Je?e.measureText(r,je,ze,Xe):OxySize$1.Empty}static async measureMathText(e,t,r,Ve,je){return t.includes("^{")||t.includes("_{")?this.internalDrawMathText(e,0,0,0,0,t,OxyColors$1.Black,r,Ve,je,!0,0):e.measureText(t,r,Ve,je)}static async internalDrawMathText(e,t,r,Ve,je,ze,Xe,We,qe,Ke,Ze,Je){let Qe=0;const ti=Je*Math.PI/180,ni=round$2(Math.cos(ti),5),ri=round$2(Math.sin(ti),5);let ii=t,ei=t,St=t;const oi=r;let si=r,ai=r;const ui=qe*SuperAlignment$1,hi=qe*SubAlignment$1,ci=qe*SuperSize$1,mi=qe*SubSize$1,di=async(pi,yi,gi,_i)=>{if(!Ze){const ki=t+(pi-t+Ve)*ni-(yi-r+je)*ri,vi=r+(pi-t+Ve)*ri+(yi-r+je)*ni;await e.drawText(newScreenPoint$1(ki,vi),gi,Xe,We,_i,Ke,Je)}const Ai=e.measureText(gi,We,_i,Ke);return new OxySize$1(Ai.width,Ai.height)};for(;Qe<ze.length;){if(Qe+1<ze.length&&ze[Qe]==="^"&&ze[Qe+1]==="{"){const _i=ze.indexOf("}",Qe);if(_i!==-1){const Ai=substring$1(ze,Qe+2,_i-Qe-2);Qe=_i+1;const ki=ii,vi=oi+ui,Mi=await di(ki,vi,Ai,ci);ei=Math.max(ki+Mi.width,ei),si=Math.max(vi+Mi.height,si),St=Math.min(ki,St),ai=Math.min(vi,ai);continue}}if(Qe+1<ze.length&&ze[Qe]==="_"&&ze[Qe+1]==="{"){const _i=ze.indexOf("}",Qe);if(_i!==-1){const Ai=substring$1(ze,Qe+2,_i-Qe-2);Qe=_i+1;const ki=ii,vi=oi+hi,Mi=await di(ki,vi,Ai,mi);ei=Math.max(ki+Mi.width,ei),si=Math.max(vi+Mi.height,si),St=Math.min(ki,St),ai=Math.min(vi,ai);continue}}const pi=indexOfAny$1(ze.split(""),["^","_"],Qe+1);let yi;pi===-1?(yi=substring$1(ze,Qe),Qe=ze.length):(yi=substring$1(ze,Qe,pi-Qe),Qe=pi),ii=ei+2;const gi=await di(ii,oi,yi,qe);ei=Math.max(ii+gi.width,ei),si=Math.max(oi+gi.height,si),St=Math.min(ii,St),ai=Math.min(oi,ai),ii=ei}return new OxySize$1(ei-St,si-ai)}},RenderContextBase$1=class ba{constructor(){D$2(this,"rendersToScreen"),this.rendersToScreen=!0}static isStraightLine(e,t){return Math.abs(e.x-t.x)<1e-5||Math.abs(e.y-t.y)<1e-5}static isStraightLine2(e){for(let t=1;t<e.length;t++)if(!this.isStraightLine(e[t-1],e[t]))return!1;return!0}async drawEllipse(e,t,r,Ve,je){const ze=ba.createEllipse(e);await this.drawPolygon(ze,t,r,Ve,je,void 0,LineJoin$1.Miter)}async drawEllipses(e,t,r,Ve,je){for(const ze of e)await this.drawEllipse(ze,t,r,Ve,je)}async drawLineSegments(e,t,r,Ve,je,ze){for(let Xe=0;Xe+1<e.length;Xe+=2)await this.drawLine([e[Xe],e[Xe+1]],t,r,Ve,je,ze)}async drawPolygons(e,t,r,Ve,je,ze,Xe){for(const We of e)await this.drawPolygon(We,t,r,Ve,je,ze,Xe)}async drawRectangle(e,t,r,Ve,je){const ze=ba.createRectangle(e);await this.drawPolygon(ze,t,r,Ve,je,void 0,LineJoin$1.Miter)}async drawRectangles(e,t,r,Ve,je){for(const ze of e)await this.drawRectangle(ze,t,r,Ve,je)}setToolTip(e){}cleanUp(){}static createEllipse(e,t=40){const r=e.center.x,Ve=e.center.y,je=e.width/2,ze=e.height/2,Xe=new Array(t);for(let We=0;We<t;We++){const qe=Math.PI*2*We/t;Xe[We]=newScreenPoint$1(r+Math.cos(qe)*je,Ve+Math.sin(qe)*ze)}return Xe}static createRectangle(e){return[newScreenPoint$1(e.left,e.top),newScreenPoint$1(e.left,e.bottom),newScreenPoint$1(e.right,e.bottom),newScreenPoint$1(e.right,e.top)]}shouldUseAntiAliasingForRect(e){switch(e){case EdgeRenderingMode$1.PreferGeometricAccuracy:return!0;default:return!1}}shouldUseAntiAliasingForEllipse(e){switch(e){case EdgeRenderingMode$1.PreferSpeed:return!1;default:return!0}}shouldUseAntiAliasingForLine(e,t){switch(e){case EdgeRenderingMode$1.PreferSpeed:case EdgeRenderingMode$1.PreferSharpness:return!1;case EdgeRenderingMode$1.Automatic:if(ba.isStraightLine2(t))return!1;break;case EdgeRenderingMode$1.Adaptive:if(ba.isStraightLine2(t))return!1;break;default:return!0}return!0}};const oe$2=class{static getActualEdgeRenderingMode(e,t){return e===EdgeRenderingMode$1.Automatic?t:e}static async drawReducedLine(e,t,r,Ve,je,ze,Xe,We,qe,Ke){t.length!==0&&(qe?qe.length=0:qe=[],this.reducePoints(t,r,qe),await e.drawLine(qe,Ve,je,ze,Xe,We),qe.length=0,pushMany$1(qe,t),Ke&&Ke(qe))}static async drawReducedPolygon(e,t,r,Ve,je,ze,Xe,We=LineStyle$1.Solid,qe=LineJoin$1.Miter){if(t.length===0||We===LineStyle$1.None)return;const Ke=[];this.reducePoints(t,r,Ke),await e.drawPolygon(Ke,Ve,je,ze,Xe,LineStyleHelper$1.getDashArray(We),qe)}static async drawImage(e,t,r,Ve,je,ze,Xe,We){await e.drawImage(t,0,0,t.width,t.height,r,Ve,je,ze,Xe,We)}static async drawMultilineText(e,t,r,Ve,je,ze=10,Xe=FontWeights$1.Normal,We=12){const qe=StringHelper$1.splitLines(r);for(let Ke=0;Ke<qe.length;Ke++)await e.drawText(newScreenPoint$1(t.x,t.y+Ke*We),qe[Ke],Ve,void 0,ze,Xe)}static async drawLine(e,t,r,Ve,je,ze,Xe){ze&&await e.drawLine([newScreenPoint$1(t,r),newScreenPoint$1(Ve,je)],ze.color,ze.thickness,Xe,ze.actualDashArray,ze.lineJoin)}static async drawLineSegments(e,t,r,Ve){r&&await e.drawLineSegments(t,r.color,r.thickness,Ve,r.actualDashArray,r.lineJoin)}static async drawMarker(e,t,r,Ve,je,ze,Xe,We,qe){await this.drawMarkers(e,[t],r,Ve,[je],ze,Xe,We,qe)}static async drawMarkers(e,t,r,Ve,je,ze,Xe,We,qe,Ke=0,Ze=ScreenPoint_LeftTop$1){if(r===MarkerType$1.None)return;const Je=[],Qe=[],ti=[],ni=[],ri=new Set;let ii=0;for(const ei of t){if(Ke>1){const oi=Math.floor((ei.x-Ze.x)/Ke),si=Math.floor((ei.y-Ze.y)/Ke),ai=toUint$1(oi<<16)+toUint$1(si);if(ri.has(ai)){ii++;continue}ri.add(ai)}const St=ii<je.length?ii:0;this.addMarkerGeometry(ei,r,Ve,je[St],Je,Qe,ti,ni),ii++}qe===EdgeRenderingMode$1.Automatic&&(qe=EdgeRenderingMode$1.PreferGeometricAccuracy),Je.length>0&&await e.drawEllipses(Je,ze,Xe,We,qe),Qe.length>0&&await e.drawRectangles(Qe,ze,Xe,We,qe),ti.length>0&&await e.drawPolygons(ti,ze,Xe,We,qe),ni.length>0&&await e.drawLineSegments(ni,Xe,We,qe)}static async drawCircle(e,t,r,Ve,je,ze,Xe,We){await e.drawEllipse(new OxyRect$1(t-Ve,r-Ve,Ve*2,Ve*2),je,ze,Xe,We)}static async drawCircle2(e,t,r,Ve,je,ze,Xe){await this.drawCircle(e,t.x,t.y,r,Ve,je,ze,Xe)}static async fillCircle(e,t,r,Ve,je){await this.drawCircle(e,t.x,t.y,r,Ve,OxyColors$1.Undefined,0,je)}static async fillRectangle(e,t,r,Ve){await e.drawRectangle(t,r,OxyColors$1.Undefined,0,Ve)}static async drawRectangle(e,t,r,Ve,je){if(Ve.left===Ve.right&&Ve.left===Ve.top&&Ve.left===Ve.bottom){await e.drawRectangle(t,OxyColors$1.Undefined,r,Ve.left,je);return}const ze=t.left-Ve.left/2+.5,Xe=t.right+Ve.right/2-.5,We=t.top-Ve.top/2+.5,qe=t.bottom+Ve.bottom/2-.5,Ke=[newScreenPoint$1(ze,t.top),newScreenPoint$1(Xe,t.top)],Ze=[newScreenPoint$1(t.right,We),newScreenPoint$1(t.right,qe)],Je=[newScreenPoint$1(ze,t.bottom),newScreenPoint$1(Xe,t.bottom)],Qe=[newScreenPoint$1(t.left,We),newScreenPoint$1(t.left,qe)];await e.drawLine(Ke,r,Ve.top,je,void 0,LineJoin$1.Miter),await e.drawLine(Ze,r,Ve.right,je,void 0,LineJoin$1.Miter),await e.drawLine(Je,r,Ve.bottom,je,void 0,LineJoin$1.Miter),await e.drawLine(Qe,r,Ve.left,je,void 0,LineJoin$1.Miter)}static measureText(e,t,r,Ve,je,ze){const Xe=e.measureText(t,r,Ve,je);return this.measureRotatedRectangleBound(Xe,ze)}static autoResetClip(e,t){return new AutoResetClipToken$1(e,t)}static addMarkerGeometry(e,t,r,Ve,je,ze,Xe,We){if(t===MarkerType$1.Custom){if(!r)throw new Error("The outline should be set when MarkerType is 'Custom'.");const Ke=r.map(Ze=>newScreenPoint$1(e.x+Ze.x*Ve,e.y+Ze.y*Ve));Xe.push(Ke);return}switch(t){case MarkerType$1.Circle:je.push(new OxyRect$1(e.x-Ve,e.y-Ve,Ve*2,Ve*2));break;case MarkerType$1.Square:ze.push(new OxyRect$1(e.x-Ve,e.y-Ve,Ve*2,Ve*2));break;case MarkerType$1.Diamond:Xe.push([newScreenPoint$1(e.x,e.y-this.M2*Ve),newScreenPoint$1(e.x+this.M2*Ve,e.y),newScreenPoint$1(e.x,e.y+this.M2*Ve),newScreenPoint$1(e.x-this.M2*Ve,e.y)]);break;case MarkerType$1.Triangle:Xe.push([newScreenPoint$1(e.x-Ve,e.y+this.M1*Ve),newScreenPoint$1(e.x+Ve,e.y+this.M1*Ve),newScreenPoint$1(e.x,e.y-this.M2*Ve)]);break;case MarkerType$1.Plus:case MarkerType$1.Star:We.push(newScreenPoint$1(e.x-Ve,e.y)),We.push(newScreenPoint$1(e.x+Ve,e.y)),We.push(newScreenPoint$1(e.x,e.y-Ve)),We.push(newScreenPoint$1(e.x,e.y+Ve));break}const qe=this.M3;switch(t){case MarkerType$1.Cross:case MarkerType$1.Star:We.push(newScreenPoint$1(e.x-Ve*qe,e.y-Ve*qe)),We.push(newScreenPoint$1(e.x+Ve*qe,e.y+Ve*qe)),We.push(newScreenPoint$1(e.x-Ve*qe,e.y+Ve*qe)),We.push(newScreenPoint$1(e.x+Ve*qe,e.y-Ve*qe));break}}static measureRotatedRectangleBound(e,t){const r=e.getBounds(t,HorizontalAlignment$1.Center,VerticalAlignment$1.Middle);return new OxySize$1(r.width,r.height)}static reducePoints(e,t,r){const Ve=e.length;if(Ve===0)return;r.push(e[0]);let je=0;for(let ze=1;ze<Ve;ze++){const Xe=e[ze],We=Xe.x-e[je].x,qe=Xe.y-e[je].y;(We*We+qe*qe>t||ze===Ve-1)&&(r.push(newScreenPoint$1(Xe.x,Xe.y)),je=ze)}}static transformAndInterpolateLines(e,t,r,Ve){const je=e.xAxis,ze=e.yAxis;if(je.isLogarithmic()||ze.isLogarithmic()){let Xe=!1,We=!0,qe=DataPoint_Undefined$1;for(const Ke of t)if(DataPoint_isUnDefined$1(Ke)||je.isLogarithmic()&&Ke.x<=0||ze.isLogarithmic()&&Ke.y<=0)We=!0;else{if(We)r.length>0&&r.push(ScreenPoint_Undefined$1),We=!1,Xe=!0;else if(Xe){const Ze=dataPointMinus$1(Ke,qe);this.interpolatePoints(Je=>e.transform(dataPointPlus$1(qe,Ze.times(Je))),r,Ve,Xe)}qe=Ke}}else{let Xe=!0;for(const We of t)DataPoint_isUnDefined$1(We)?Xe=!0:(Xe&&r.length>0&&r.push(ScreenPoint_Undefined$1),r.push(e.transform(We)),Xe=!1)}}static interpolatePoints(e,t,r,Ve){const je=r*r,ze=[],Xe=[];ze.push(1),Xe.push(e(1));let We=0,qe=e(0);for(Ve&&t.push(qe);ze.length>0;){let Ke=ze[ze.length-1],Ze=Xe[Xe.length-1];screenPointDistanceToSquared$1(Ze,qe)<je?(We=Ke,qe=Ze,t.push(Ze),ze.pop(),Xe.pop()):(Ke=We+(Ke-We)/2,Ze=e(Ke),ze.push(Ke),Xe.push(Ze))}}};D$2(oe$2,"M1",Math.tan(Math.PI/6)),D$2(oe$2,"M2",Math.sqrt(1+oe$2.M1*oe$2.M1)),D$2(oe$2,"M3",Math.tan(Math.PI/4));let RenderingExtensions$1=oe$2,AutoResetClipToken$1=class{constructor(e,t){D$2(this,"renderContext"),this.renderContext=e,e.pushClip(t)}dispose(){this.renderContext.popClip()}};class XkcdRenderingDecorator extends RenderContextBase$1{constructor(e){super(),D$2(this,"rc"),D$2(this,"distortionFactor"),D$2(this,"interpolationDistance"),D$2(this,"fontFamily"),D$2(this,"thicknessScale"),this.rc=e,this.rendersToScreen=this.rc.rendersToScreen,this.distortionFactor=7,this.interpolationDistance=10,this.thicknessScale=2,this.fontFamily="Humor Sans"}get clipCount(){return this.rc.clipCount}async drawLine(e,t,r,Ve,je,ze){const Xe=this.distort(e);await this.rc.drawLine(Xe,t,r*this.thicknessScale,Ve,je,ze)}async drawPolygon(e,t,r,Ve,je,ze,Xe){const We=[...e,e[0]],qe=this.distort(We);await this.rc.drawPolygon(qe,t,r,Ve*this.thicknessScale,je,ze,Xe)}async drawText(e,t,r,Ve,je,ze,Xe,We,qe,Ke){await this.rc.drawText(e,t,r,this.getFontFamily(Ve),je,ze,Xe,We,qe,Ke)}measureText(e,t,r,Ve){return this.rc.measureText(e,this.getFontFamily(t),r,Ve)}setToolTip(e){this.rc.setToolTip(e)}cleanUp(){this.rc.cleanUp()}async drawImage(e,t,r,Ve,je,ze,Xe,We,qe,Ke,Ze){await this.rc.drawImage(e,t,r,Ve,je,ze,Xe,We,qe,Ke,Ze)}pushClip(e){this.rc.pushClip(e)}popClip(){this.rc.popClip()}getFontFamily(e){return this.fontFamily}distort(e){const t=this.interpolate(e,this.interpolationDistance),r=new Array(t.length);let Ve=this.generateRandomNumbers(t.length);Ve=this.applyMovingAverage(Ve,5);const je=this.distortionFactor,ze=je/2;for(let Xe=0;Xe<t.length;Xe++){if(Xe===0||Xe===t.length-1){r[Xe]=t[Xe];continue}const We=screenPointMinus$1(t[Xe+1],t[Xe-1]);We.normalize();const qe=new ScreenVector$1(We.y,-We.x).times(Ve[Xe]*je-ze);r[Xe]=screenPointPlus$1(t[Xe],qe)}return r}generateRandomNumbers(e){const t=new Array(e);for(let r=0;r<e;r++)t[r]=Math.random();return t}applyMovingAverage(e,t){const r=e.length,Ve=new Array(r).fill(0),je=Math.round(t/2);for(let ze=0;ze<r;ze++){const Xe=Math.max(0,ze-je),We=Math.min(r-1,ze+je);for(let qe=Xe;qe<=We;qe++)Ve[ze]+=e[qe];Ve[ze]/=t}return Ve}interpolate(e,t){let r=ScreenPoint_LeftTop$1,Ve=-1,je=t;const ze=[];for(const Xe of e){if(Ve<0){ze.push(Xe),r=Xe,Ve=0;continue}const We=screenPointMinus$1(Xe,r).length;if(We>0)for(;je>=Ve&&je<=Ve+We;){const qe=(je-Ve)/We;ze.push(newScreenPoint$1(r.x*(1-qe)+Xe.x*qe,r.y*(1-qe)+Xe.y*qe)),je+=t}Ve+=We,r=Xe}return ze.push(r),ze}}class Decimator{static decimate(e,t){if(e===void 0||e.length===0)return;let r=e[0],Ve=Math.round(r.x),je=Math.round(r.y),ze=je,Xe=je,We=je;for(let qe=1;qe<e.length;++qe){r=e[qe];const Ke=Math.round(r.x),Ze=Math.round(r.y);if(Ke!==Ve){Decimator.addVerticalPoints(t,Ve,Xe,We,je,ze),Xe=We=je=ze=Ze,Ve=Ke;continue}Ze<je&&(je=Ze),Ze>ze&&(ze=Ze),We=Ze}We=Xe===je?ze:je,Decimator.addVerticalPoints(t,Ve,Xe,We,je,ze)}static addVerticalPoints(e,t,r,Ve,je,ze){if(e.push(newScreenPoint$1(t,r)),r===je){je!==ze&&e.push(newScreenPoint$1(t,ze)),ze!==Ve&&e.push(newScreenPoint$1(t,Ve));return}if(r===ze){ze!==je&&e.push(newScreenPoint$1(t,je)),je!==Ve&&e.push(newScreenPoint$1(t,Ve));return}Ve===je?je!==ze&&e.push(newScreenPoint$1(t,ze)):Ve===ze?ze!==je&&e.push(newScreenPoint$1(t,je)):(e.push(newScreenPoint$1(t,je)),e.push(newScreenPoint$1(t,ze))),e.push(newScreenPoint$1(t,Ve))}}let CanonicalSpline$1=class So{constructor(e){D$2(this,"tension"),this.tension=e}createSplineDp(e,t,r){return So.createSplineForDp(e,this.tension,void 0,t,r)}createSplineSp(e,t,r){return So.createSpline(e,this.tension,void 0,t,r)}static createSplineForDp(e,t,r,Ve,je){const ze=e.map(qe=>newScreenPoint$1(qe.x,qe.y)),Xe=So.createSpline(ze,t,r,Ve,je),We=[];for(const qe of Xe)We.push(newDataPoint$1(qe.x,qe.y));return We}static createSpline(e,t,r,Ve,je){const ze=[];if(!e)return ze;const Xe=e.length;if(Xe<1)return ze;if(Xe<2)return ze.push(...e),ze;if(Xe===2)Ve?(So.segment(ze,e[1],e[0],e[1],e[0],t,t,je),So.segment(ze,e[0],e[1],e[0],e[1],t,t,je)):So.segment(ze,e[0],e[0],e[1],e[1],t,t,je);else{const We=r&&r.length>0;for(let qe=0;qe<Xe;qe++){const Ke=We?r[qe%r.length]:t,Ze=We?r[(qe+1)%r.length]:t;qe===0?So.segment(ze,Ve?e[Xe-1]:e[0],e[0],e[1],e[2],Ke,Ze,je):qe===Xe-2?So.segment(ze,e[qe-1],e[qe],e[qe+1],Ve?e[0]:e[qe+1],Ke,Ze,je):qe===Xe-1?Ve&&So.segment(ze,e[qe-1],e[qe],e[0],e[1],Ke,Ze,je):So.segment(ze,e[qe-1],e[qe],e[qe+1],e[qe+2],Ke,Ze,je)}}return ze}static segment(e,t,r,Ve,je,ze,Xe,We,qe=1e3){const Ke=ze*(Ve.x-t.x),Ze=ze*(Ve.y-t.y),Je=Xe*(je.x-r.x),Qe=Xe*(je.y-r.y),ti=Ke+Je+2*r.x-2*Ve.x,ni=Ze+Qe+2*r.y-2*Ve.y,ri=-2*Ke-Je-3*r.x+3*Ve.x,ii=-2*Ze-Qe-3*r.y+3*Ve.y,ei=Ke,St=Ze,oi=r.x,si=r.y,ai=Math.min(qe,Math.round((Math.abs(r.x-Ve.x)+Math.abs(r.y-Ve.y))/We));for(let ui=1;ui<ai;ui++){const hi=ui/(ai-1),ci=newScreenPoint$1(ti*hi*hi*hi+ri*hi*hi+ei*hi+oi,ni*hi*hi*hi+ii*hi*hi+St*hi+si);e.push(ci)}}},CatmullRomSpline$1=class mu{constructor(e){D$2(this,"alpha"),D$2(this,"maxSegments"),this.alpha=e,this.maxSegments=100}createSplineDp(e,t,r){return mu.createSplineForDp(e,this.alpha,t,r,this.maxSegments)}createSplineSp(e,t,r){return mu.createSpline(e,this.alpha,t,r,this.maxSegments)}static createSplineForDp(e,t,r,Ve,je){const ze=e.map(qe=>newScreenPoint$1(qe.x,qe.y)),Xe=this.createSpline(ze,t,r,Ve,je),We=[];for(const qe of Xe)We.push(newDataPoint$1(qe.x,qe.y));return We}static createSpline(e,t,r,Ve,je){const ze=[];if(e===void 0)return ze;const Xe=e.length;if(Xe<1)return ze;if(Xe<2)return ze.push(...e),ze;if(Xe===2)r?(this.segment(ze,e[1],e[0],e[1],e[0],t,Ve,je),this.segment(ze,e[0],e[1],e[0],e[1],t,Ve,je)):this.segment(ze,e[0],e[0],e[1],e[1],t,Ve,je);else for(let We=0;We<Xe;We++)We===0?this.segment(ze,r?e[Xe-1]:e[0],e[0],e[1],e[2],t,Ve,je):We===Xe-2?this.segment(ze,e[We-1],e[We],e[We+1],r?e[0]:e[We+1],t,Ve,je):We===Xe-1?r&&this.segment(ze,e[We-1],e[We],e[0],e[1],t,Ve,je):this.segment(ze,e[We-1],e[We],e[We+1],e[We+2],t,Ve,je);return ze}static segment(e,t,r,Ve,je,ze,Xe,We){if(screenPointEquals$1(r,Ve)){e.push(r);return}screenPointEquals$1(t,r)&&(t=this.prev(r,Ve)),screenPointEquals$1(Ve,je)&&(je=this.prev(Ve,r));const qe=0,Ke=this.getT(qe,t,r,ze),Ze=this.getT(Ke,r,Ve,ze),Je=this.getT(Ze,Ve,je,ze);let Qe=Math.round((Math.abs(r.x-Ve.x)+Math.abs(r.y-Ve.y))/Xe);Qe=Math.max(0,Qe),Qe=Math.min(We,Qe);for(let ti=Ke;ti<Ze;ti+=(Ze-Ke)/Qe){const ni=this.sum(this.mult((Ke-ti)/(Ke-qe),t),this.mult((ti-qe)/(Ke-qe),r)),ri=this.sum(this.mult((Ze-ti)/(Ze-Ke),r),this.mult((ti-Ke)/(Ze-Ke),Ve)),ii=this.sum(this.mult((Je-ti)/(Je-Ze),Ve),this.mult((ti-Ze)/(Je-Ze),je)),ei=this.sum(this.mult((Ze-ti)/(Ze-qe),ni),this.mult((ti-qe)/(Ze-qe),ri)),St=this.sum(this.mult((Je-ti)/(Je-Ke),ri),this.mult((ti-Ke)/(Je-Ke),ii)),oi=this.sum(this.mult((Ze-ti)/(Ze-Ke),ei),this.mult((ti-Ke)/(Ze-Ke),St));e.push(oi)}}static getT(e,t,r,Ve){const je=Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2),ze=Math.sqrt(je);return Math.pow(ze,Ve)+e}static mult(e,t){return newScreenPoint$1(t.x*e,t.y*e)}static equals(e,t){return e.x===t.x&&e.y===t.y}static prev(e,t){return newScreenPoint$1(e.x-1e-4*(t.x-e.x),e.y-1e-4*(t.y-e.y))}static sum(e,t){return newScreenPoint$1(e.x+t.x,e.y+t.y)}},InterpolationAlgorithms$1=class{};D$2(InterpolationAlgorithms$1,"CanonicalSpline",new CanonicalSpline$1(.5)),D$2(InterpolationAlgorithms$1,"CatmullRomSpline",new CatmullRomSpline$1(.5)),D$2(InterpolationAlgorithms$1,"UniformCatmullRomSpline",new CatmullRomSpline$1(0)),D$2(InterpolationAlgorithms$1,"ChordalCatmullRomSpline",new CatmullRomSpline$1(1));let Series$2=class extends PlotElement$1{constructor(e){super(e),D$2(this,"background"),D$2(this,"isVisible"),D$2(this,"title"),D$2(this,"legendKey"),D$2(this,"seriesGroupName"),D$2(this,"renderInLegend"),D$2(this,"trackerStringFormatter"),D$2(this,"trackerKey"),this.isVisible=!0,this.background=OxyColors$1.Undefined,this.renderInLegend=!0}getNearestPoint(e,t){}hitTestOverride(e){const t=this.getNearestPoint(e.point,!0)||this.getNearestPoint(e.point,!1);if(t!=null&&t.position)return screenPointDistanceTo$1(t.position,e.point)>e.tolerance?void 0:{element:this,nearestHitPoint:t.position,item:t.item,index:t.index}}},ItemsSeries$1=class _h extends Series$2{constructor(e){super(e),D$2(this,"itemsSource")}static getItem(e,t){if(!(!e||t<0)&&t<e.length&&t>=0)return e[t]}getItem(e){if(this.itemsSource)return _h.getItem(this.itemsSource,e)}};const ne$2=class pl extends ItemsSeries$1{constructor(e){super(e),D$2(this,"trackerStringFormatter"),D$2(this,"_maxX",0),D$2(this,"_maxY",0),D$2(this,"_minX",0),D$2(this,"_minY",0),D$2(this,"_xAxis"),D$2(this,"xAxisKey"),D$2(this,"_yAxis"),D$2(this,"yAxisKey"),D$2(this,"isXMonotonic",!1),D$2(this,"windowStartIndex",0),this.trackerStringFormatter=pl.DefaultTrackerFormatter,setTransposablePlotElement$1(this)}get maxX(){return this._maxX}set maxX(e){this._maxX=e}get maxY(){return this._maxY}set maxY(e){this._maxY=e}get minX(){return this._minX}set minX(e){this._minX=e}get minY(){return this._minY}set minY(e){this._minY=e}get xAxis(){return this._xAxis}get yAxis(){return this._yAxis}getClippingRect(){return PlotElementUtilities$1.getClippingRect(this)}getScreenRectangle(){return this.getClippingRect()}inverseTransform(e){return PlotElementUtilities$1.inverseTransformOrientated(this,e)}async renderLegend(e,t){}transform(e){return PlotElementUtilities$1.transformOrientated(this,e)}areAxesRequired(){return!0}ensureAxes(){this._xAxis=this.xAxisKey?this.plotModel.getAxis(this.xAxisKey):this.plotModel.defaultXAxis,this._yAxis=this.yAxisKey?this.plotModel.getAxis(this.yAxisKey):this.plotModel.defaultYAxis}isUsing(e){return!1}setDefaultValues(){}updateAxisMaxMin(){this.xAxis.include(this.minX),this.xAxis.include(this.maxX),this.yAxis.include(this.minY),this.yAxis.include(this.maxY)}updateData(){this.windowStartIndex=0}updateMaxMin(){this.minX=this.minY=this.maxX=this.maxY=Number.NaN}getNearestInterpolatedPointInternal(e,t,r){if(!this.xAxis||!this.yAxis||!e)return;let Ve=ScreenPoint_LeftTop$1,je=DataPoint_Zero$1,ze=-1,Xe=Number_MAX_VALUE$1;for(let We=t;We+1<e.length;We++){const qe=e[We],Ke=e[We+1];if(!this.isValidPoint(qe)||!this.isValidPoint(Ke))continue;const Ze=this.transform(qe),Je=this.transform(Ke),Qe=ScreenPointHelper$1.findPointOnLine(r,Ze,Je);if(ScreenPoint_isUndefined$1(Qe))continue;const ti=screenPointMinus$1(r,Qe).lengthSquared;if(ti<Xe){const ni=screenPointMinus$1(Je,Ze).length,ri=ni>0?screenPointMinus$1(Qe,Ze).length/ni:0;je=this.inverseTransform(Qe),Ve=Qe,Xe=ti,ze=We+ri}}if(Xe<Number_MAX_VALUE$1){const We=this.getItem(Math.round(ze));return new TrackerHitResult$1({series:this,dataPoint:je,position:Ve,item:We,index:ze})}}getNearestPointInternal(e,t,r){let Ve=ScreenPoint_LeftTop$1,je=DataPoint_Zero$1,ze=-1,Xe=Number_MAX_VALUE$1,We=t;for(const qe of e.slice(t)){if(!this.isValidPoint(qe)){We++;continue}const Ke=PlotElementExtensions$1.transform(this,qe.x,qe.y),Ze=screenPointMinus$1(Ke,r).lengthSquared;Ze<Xe&&(je=qe,Ve=Ke,Xe=Ze,ze=We),We++}if(Xe<Number_MAX_VALUE$1){const qe=this.getItem(Math.round(ze));return new TrackerHitResult$1({series:this,dataPoint:je,position:Ve,item:qe,index:ze})}}isValidPoint(e){return this.isValidPoint2(e.x,e.y)}isValidPoint2(e,t){return!!(this.xAxis&&this.xAxis.isValidValue(e)&&this.yAxis&&this.yAxis.isValidValue(t))}internalUpdateMaxMin(e){if(!e)throw new Error("points is null");if(this.isXMonotonic=!0,e.length===0)return;let t=this.minX,r=this.minY,Ve=this.maxX,je=this.maxY;isNaN(t)&&(t=Number_MAX_VALUE$1),isNaN(r)&&(r=Number_MAX_VALUE$1),isNaN(Ve)&&(Ve=Number_MIN_VALUE$1),isNaN(je)&&(je=Number_MIN_VALUE$1);let ze=Number_MIN_VALUE$1;for(const Xe of e){const We=Xe.x,qe=Xe.y;this.isValidPoint2(We,qe)&&(We<ze&&(this.isXMonotonic=!1),We<t&&(t=We),We>Ve&&(Ve=We),qe<r&&(r=qe),qe>je&&(je=qe),ze=We)}t<Number_MAX_VALUE$1&&(this.minX=t),r<Number_MAX_VALUE$1&&(this.minY=r),Ve>Number_MIN_VALUE$1&&(this.maxX=Ve),je>Number_MIN_VALUE$1&&(this.maxY=je)}internalUpdateMaxMin2(e,t,r,Ve,je){if(!e)throw new Error("items is null");if(this.isXMonotonic=!0,e.length===0)return;let ze=this.minX,Xe=this.minY,We=this.maxX,qe=this.maxY;isNaN(ze)&&(ze=Number_MAX_VALUE$1),isNaN(Xe)&&(Xe=Number_MAX_VALUE$1),isNaN(We)&&(We=Number_MIN_VALUE$1),isNaN(qe)&&(qe=Number_MIN_VALUE$1);let Ke=Number_MIN_VALUE$1,Ze=Number_MIN_VALUE$1;for(const Je of e){const Qe=t(Je),ti=r(Je),ni=Ve(Je),ri=je(Je);!this.isValidPoint2(Qe,ni)||!this.isValidPoint2(ti,ri)||((Qe<Ke||ti<Ze)&&(this.isXMonotonic=!1),Qe<ze&&(ze=Qe),ti>We&&(We=ti),ni<Xe&&(Xe=ni),ri>qe&&(qe=ri),Ke=Qe,Ze=ti)}ze<Number_MAX_VALUE$1&&(this.minX=ze),Xe<Number_MAX_VALUE$1&&(this.minY=Xe),We>Number_MIN_VALUE$1&&(this.maxX=We),qe>Number_MIN_VALUE$1&&(this.maxY=qe)}verifyAxes(){if(!this.xAxis)throw new Error("XAxis not defined.");if(!this.yAxis)throw new Error("YAxis not defined.")}updateWindowStartIndex(e,t,r,Ve){return Ve=this.findWindowStartIndex(e,t,r,Ve),Ve>0&&Ve--,Ve}findWindowStartIndex(e,t,r,Ve){let je=0,ze=e.length-1;for(;ze>0&&isNaN(t(e[ze]));)ze-=1;let Xe=ze,We=Math.max(0,Math.min(Xe,Ve));const qe=Ke=>{for(;Ke<=ze;){const Ze=t(e[Ke]);if(isNaN(Ze))Ke+=1;else return Ze}return t(e[ze])};for(;je<Xe;){const Ke=qe(We);if(Ke===r){je=We;break}else Ke>r?Xe=We-1:je=We;if(je>=Xe)break;const Ze=qe(Xe),Je=qe(je),Qe=(Xe-je+1)/(Ze-Je);We=je+Math.round((r-Je)*Qe),We=Math.max(je+1,Math.min(We,Xe))}for(;je>0&&t(e[je])>r;)je-=1;return je}formatDefaultTrackerString(e,t,r){var Ve,je,ze,Xe;if(!this.trackerStringFormatter)return;const We={item:e,title:this.title||""};return t&&(We.xTitle=((Ve=this.xAxis)==null?void 0:Ve.title)??pl.defaultXAxisTitle,We.xValue=(je=this.xAxis)==null?void 0:je.getValue(t.x),We.yTitle=((ze=this.yAxis)==null?void 0:ze.title)??pl.defaultYAxisTitle,We.yValue=(Xe=this.yAxis)==null?void 0:Xe.getValue(t.y)),r&&r(We),this.trackerStringFormatter(We)}};D$2(ne$2,"DefaultTrackerFormatter",$e=>`${$e.title||""}
${$e.xTitle}: ${$e.xValue}
${$e.yTitle}: ${$e.yValue}`),D$2(ne$2,"defaultXAxisTitle","X"),D$2(ne$2,"defaultYAxisTitle","Y");let XYAxisSeries$1=ne$2,DataPointSeries$1=class extends XYAxisSeries$1{constructor(e){super(e),D$2(this,"_points",[]),D$2(this,"_itemsSourcePoints",[]),D$2(this,"canTrackerInterpolatePoints",!1),D$2(this,"dataFieldX"),D$2(this,"dataFieldY"),D$2(this,"mapping"),e&&e.points&&(this._points.push(...e.points),delete e.points)}get points(){return this._points}get actualPoints(){return this.itemsSource?this._itemsSourcePoints:this._points}getNearestPoint(e,t){if(t&&!this.canTrackerInterpolatePoints)return;let r;return t&&(r=this.getNearestInterpolatedPointInternal(this.actualPoints,0,e)),r||(r=this.getNearestPointInternal(this.actualPoints,0,e)),r&&this.trackerStringFormatter&&(r.text=this.formatDefaultTrackerString(r.item,r.dataPoint)),r}updateData(){this.itemsSource&&this.updateItemsSourcePoints()}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMin(this.actualPoints)}getItem(e){const t=this.actualPoints;return!this.itemsSource&&t&&e<t.length?t[e]:super.getItem(e)}clearItemsSourcePoints(){this._itemsSourcePoints&&(this._itemsSourcePoints.length=0)}updateItemsSourcePoints(){if(!this.itemsSource)return;const e=this.itemsSource;if(this.mapping){this.clearItemsSourcePoints();for(const t of e)this._itemsSourcePoints.push(this.mapping(t));return}this.clearItemsSourcePoints();for(const t of e){const r=this.convertToDataPoint(t);r&&this._itemsSourcePoints.push(r)}}convertToDataPoint(e){if(e){if(isDataPoint$1(e))return e;if(this.dataFieldX&&this.dataFieldY){const t=this.xAxis?this.xAxis.itemToDouble(e[this.dataFieldX]):Number(e[this.dataFieldX]),r=this.yAxis?this.yAxis.itemToDouble(e[this.dataFieldY]):Number(e[this.dataFieldY]);return newDataPoint$1(t,r)}if(isDataPointProvider$1(e))return e.getDataPoint();throw new Error(`Cannot convert item ${e} to DataPoint`)}}};var LineLegendPosition=($e=>($e[$e.None=0]="None",$e[$e.Start=1]="Start",$e[$e.End=2]="End",$e))(LineLegendPosition||{});const _e$1=class $h extends DataPointSeries$1{constructor(e){super(e),D$2(this,"outputBuffer"),D$2(this,"contiguousScreenPointsBuffer"),D$2(this,"decimatorBuffer",[]),D$2(this,"defaultColor",OxyColors$1.Undefined),D$2(this,"defaultMarkerFill",OxyColors$1.Undefined),D$2(this,"defaultLineStyle",LineStyle$1.Solid),D$2(this,"_smoothedPoints"),D$2(this,"color"),D$2(this,"brokenLineColor"),D$2(this,"brokenLineStyle",LineStyle$1.Solid),D$2(this,"brokenLineThickness",0),D$2(this,"dashes"),D$2(this,"decimator"),D$2(this,"labelStringFormatter"),D$2(this,"labelMargin"),D$2(this,"lineJoin"),D$2(this,"lineStyle"),D$2(this,"lineLegendPosition",0),D$2(this,"markerFill"),D$2(this,"markerOutline"),D$2(this,"markerResolution"),D$2(this,"markerSize"),D$2(this,"markerStroke"),D$2(this,"markerStrokeThickness"),D$2(this,"markerType"),D$2(this,"minimumSegmentLength"),D$2(this,"interpolationAlgorithm"),D$2(this,"strokeThickness"),this.strokeThickness=2,this.lineJoin=LineJoin$1.Bevel,this.lineStyle=LineStyle$1.Automatic,this.color=OxyColors$1.Automatic,this.brokenLineColor=OxyColors$1.Undefined,this.markerFill=OxyColors$1.Automatic,this.markerStroke=OxyColors$1.Automatic,this.markerResolution=0,this.markerSize=3,this.markerStrokeThickness=1,this.markerType=MarkerType$1.None,this.minimumSegmentLength=2,this.canTrackerInterpolatePoints=!0,this.labelMargin=6,this._smoothedPoints=new Array,e&&Object.assign(this,removeUndef$1(e))}get actualColor(){return this.color.getActualColor(this.defaultColor)}get actualMarkerFill(){return this.markerFill.getActualColor(this.defaultMarkerFill)}get actualLineStyle(){return this.lineStyle!=LineStyle$1.Automatic?this.lineStyle:this.defaultLineStyle}get actualDashArray(){return this.dashes??LineStyleHelper$1.getDashArray(this.actualLineStyle)}get smoothedPoints(){return this._smoothedPoints}getNearestPoint(e,t){if(t&&(this.actualColor.isInvisible()||this.strokeThickness===0||!this.canTrackerInterpolatePoints))return;const r=this.trackerStringFormatter;if(t&&this.interpolationAlgorithm){const Ve=this.getNearestInterpolatedPointInternal(this.smoothedPoints,0,e);return Ve&&r&&(Ve.text=r({item:Ve.item,title:this.title,xTitle:this.xAxis.title??XYAxisSeries$1.defaultXAxisTitle,xValue:this.xAxis.getValue(Ve.dataPoint.x),yTitle:this.yAxis.title??XYAxisSeries$1.defaultYAxisTitle,yValue:this.yAxis.getValue(Ve.dataPoint.y)})),Ve}return super.getNearestPoint(e,t)}async render(e){const t=this.actualPoints;!t||t.length===0||(this.verifyAxes(),await this.renderPoints(e,t),this.labelStringFormatter&&await this.renderPointLabels(e),this.lineLegendPosition!==0&&this.title&&await this.renderLegendOnLine(e))}async renderLegend(e,t){const r=(t.left+t.right)/2,Ve=(t.top+t.bottom)/2,je=[newScreenPoint$1(t.left,Ve),newScreenPoint$1(t.right,Ve)];await e.drawLine(je,this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode,this.actualDashArray);const ze=newScreenPoint$1(r,Ve);await RenderingExtensions$1.drawMarker(e,ze,this.markerType,this.markerOutline,this.markerSize,this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)}setDefaultValues(){this.lineStyle===LineStyle$1.Automatic&&(this.defaultLineStyle=this.plotModel.getDefaultLineStyle()),this.color.isAutomatic()&&(this.defaultColor=this.plotModel.getDefaultColor()),this.markerFill.isAutomatic()&&(this.defaultMarkerFill=this.color.isAutomatic()?this.defaultColor:this.color)}updateMaxMin(){if(this.interpolationAlgorithm){if(super.updateMaxMin(),this.resetSmoothedPoints(),this.smoothedPoints.every(r=>isNaN(r.x)))return;const e=this.smoothedPoints.filter(r=>!isNaN(r.x)).map(r=>r.x),t=this.smoothedPoints.filter(r=>!isNaN(r.y)).map(r=>r.y);this.minX=minValueOfArray$1(e),this.minY=minValueOfArray$1(t),this.maxX=maxValueOfArray$1(e),this.maxY=maxValueOfArray$1(t)}else super.updateMaxMin()}async renderPoints(e,t){let r;const Ve=this.brokenLineThickness>0&&this.brokenLineStyle!==LineStyle$1.None,je=Ve?LineStyleHelper$1.getDashArray(this.brokenLineStyle):void 0,ze=Ve?[]:void 0;this.contiguousScreenPointsBuffer||(this.contiguousScreenPointsBuffer=[]);let Xe=0,We=Number_MAX_VALUE$1;if(this.isXMonotonic){const qe=this.xAxis.clipMinimum;We=this.xAxis.clipMaximum,this.windowStartIndex=this.updateWindowStartIndex(t,Ke=>Ke.x,qe,this.windowStartIndex),Xe=this.windowStartIndex}for(let qe=Xe;qe<t.length;qe++){const{result:Ke,pointIdx:Ze,previousContiguousLineSegmentEndPoint:Je}=this.extractNextContiguousLineSegment(t,qe,r,We,ze,this.contiguousScreenPointsBuffer);if(qe=Ze,r=Je,!Ke)break;if(Ve){if(ze&&ze.length>0){const Qe=this.brokenLineColor.isAutomatic()?this.actualColor:this.brokenLineColor;await e.drawLineSegments(ze,Qe,this.brokenLineThickness,this.edgeRenderingMode,je,this.lineJoin),ze.length=0}}else r=void 0;this.decimator?(this.decimatorBuffer?this.decimatorBuffer.length=0:this.decimatorBuffer=[],this.decimator(this.contiguousScreenPointsBuffer,this.decimatorBuffer),await this.renderLineAndMarkers(e,this.decimatorBuffer)):await this.renderLineAndMarkers(e,this.contiguousScreenPointsBuffer),this.contiguousScreenPointsBuffer.length=0}}extractNextContiguousLineSegment(e,t,r,Ve,je,ze){let Xe=newDataPoint$1(0,0),We=!1;for(;t<e.length;t++){if(Xe=e[t],Xe.x>Ve)return{result:!1,pointIdx:t,previousContiguousLineSegmentEndPoint:r};if(We=this.isValidPoint(Xe),We)break}if(!We)return{result:!1,pointIdx:t,previousContiguousLineSegmentEndPoint:r};let qe=this.transform(Xe);r&&(je.push(r),je.push(qe)),ze.push(qe);let Ke=0;for(t++;t<e.length&&(Xe=e[t],Ke+=Xe.x>Ve?1:0,!(Ke>1||!this.isValidPoint(Xe)));t++)qe=this.transform(Xe),ze.push(qe);return r=qe,{result:!0,pointIdx:t,previousContiguousLineSegmentEndPoint:r}}async renderPointLabels(e){if(!this.labelStringFormatter)return;let t=-1;for(const r of this.actualPoints){if(t++,!this.isValidPoint(r))continue;const Ve=screenPointPlus$1(this.transform(r),new ScreenVector$1(0,-this.labelMargin)),je=this.getItem(t),ze=this.labelStringFormatter(je,[r.x,r.y]);await e.drawText(Ve,ze,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,HorizontalAlignment$1.Center,VerticalAlignment$1.Bottom)}}async renderLegendOnLine(e){if(!this.title)return;let t,r,Ve=VerticalAlignment$1.Middle,je=4;switch(this.lineLegendPosition){case 1:t=this.actualPoints[0],r=HorizontalAlignment$1.Right,je=-je;break;case 2:t=this.actualPoints[this.actualPoints.length-1],r=HorizontalAlignment$1.Left;break;case 0:return;default:throw new Error("Invalid LineLegendPosition")}const ze=PlotElementExtensions$1.orientateAlignment(this,r,Ve);r=ze[0],Ve=ze[1];const Xe=PlotElementExtensions$1.orientateVector(this,new ScreenVector$1(je,0)),We=screenPointPlus$1(this.transform(t),Xe);await e.drawText(We,this.title,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,r,Ve)}async renderLineAndMarkers(e,t){let r=t;if(this.interpolationAlgorithm){const Ve=ScreenPointHelper$1.resamplePoints(t,this.minimumSegmentLength);r=this.interpolationAlgorithm.createSplineSp(Ve,!1,.25)}if(this.strokeThickness>0&&this.actualLineStyle!==LineStyle$1.None&&await this.renderLine(e,r),this.markerType!==MarkerType$1.None){const Ve=this.markerResolution>0?PlotElementExtensions$1.transform(this,this.minX,this.minY):ScreenPoint_LeftTop$1;await RenderingExtensions$1.drawMarkers(e,t,this.markerType,this.markerOutline,[this.markerSize],this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,this.markerResolution,Ve)}}async renderLine(e,t){const r=this.actualDashArray;this.outputBuffer||(this.outputBuffer=[]),await RenderingExtensions$1.drawReducedLine(e,t,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode,r,this.lineJoin,this.outputBuffer)}resetSmoothedPoints(){const e=Math.abs(Math.max(this.maxX-this.minX,this.maxY-this.minY)/$h.ToleranceDivisor);this._smoothedPoints=this.interpolationAlgorithm.createSplineDp(this.actualPoints,!1,e)}};D$2(_e$1,"ToleranceDivisor",200);let LineSeries=_e$1,BarItemBase$1=class{constructor(e){D$2(this,"categoryIndex"),this.categoryIndex=-1,e&&(isNullOrUndef$1(e.categoryIndex)||(this.categoryIndex=e.categoryIndex))}getCategoryIndex(e){return this.categoryIndex<0?e:this.categoryIndex}},BarItem$1=class Ah extends BarItemBase$1{constructor(e){super(e),D$2(this,"color"),D$2(this,"value",0),this.color=OxyColors$1.Automatic,e&&Object.assign(this,removeUndef$1(e))}static fromValue(e){return new Ah({value:e})}},BarSeriesBase$1=class extends XYAxisSeries$1{constructor(e){super(e),D$2(this,"barWidth"),D$2(this,"itemsSourceItems"),D$2(this,"strokeColor"),D$2(this,"strokeThickness",0),D$2(this,"manager"),D$2(this,"validItems",[]),D$2(this,"validItemsIndexInversion",new Map),D$2(this,"labelColor",OxyColors$1.Undefined),D$2(this,"labelMargin",0),D$2(this,"labelAngle",0),D$2(this,"labelPlacement",LabelPlacement$1.Outside),D$2(this,"items",[]),this.strokeColor=OxyColors$1.Black,this.barWidth=1}get actualItems(){return this.itemsSource?this.itemsSourceItems:this.items}getActualBarWidth(){if(!this.manager)return 0;const e=this.getCategoryAxis();return this.barWidth/(1+e.gapWidth)/this.manager.getMaxWidth()}get categoryAxis(){return this.getCategoryAxis()}getCategoryAxis(){if(!(this.yAxis instanceof CategoryAxis$1))throw new Error("BarSeries requires a CategoryAxis on the Y Axis.");return this.yAxis}get valueAxis(){return this.xAxis}getItem(e){return this.itemsSource||!this.actualItems||this.actualItems.length===0?super.getItem(e):this.actualItems[e]}clearItemsSourceItems(){this.itemsSourceItems&&(this.itemsSourceItems.length=0)}isUsing(e){return this.xAxis===e||this.yAxis===e}async renderLabel(e,t,r,Ve,je,ze,Xe,...We){const qe=[];if(We.length)qe.push(...We);else if(t instanceof BarItem$1)qe.push(t.value);else if(t instanceof IntervalBarItem$1)qe.push(t.start),qe.push(t.end);else throw t instanceof TornadoBarItem$1?new Error("RenderLabel does not support automatic determination of label values for TornadoBarItem objects. Please populate the labelValues parameter."):new Error(`RenderLabel automatic value determination not implemented for ${this.constructor.name}. Please populate the labelValues parameter.`);const Ke=Xe?Xe(t,qe):"";let Ze;const Je=(ze+je)/2,Qe=Math.sign(Ve-r);let ti=new ScreenVector$1(this.labelMargin,0).times(Qe),ni=new ScreenVector$1(0,0);const ri=RenderingExtensions$1.measureText(e,Ke,this.actualFont,this.actualFontSize,this.actualFontWeight,this.labelAngle),ii=(PlotElementExtensions$1.isTransposed(this)?ri.height:ri.width)/2,ei=PlotElementExtensions$1.transform;switch(this.labelPlacement){case LabelPlacement$1.Inside:Ze=ei(this,Ve,Je),ti=ti.negate(),ni=new ScreenVector$1(-Qe*ii,0);break;case LabelPlacement$1.Outside:Ze=ei(this,Ve,Je),ni=new ScreenVector$1(Qe*ii,0);break;case LabelPlacement$1.Middle:Ze=ei(this,(Ve+r)/2,Je),ti=new ScreenVector$1(0,0);break;case LabelPlacement$1.Base:Ze=ei(this,r,Je),ni=new ScreenVector$1(Qe*ii,0);break;default:throw new Error("Invalid label placement")}const St=PlotElementExtensions$1.orientateVector;Ze=screenPointPlus$1(screenPointPlus$1(Ze,St(this,ti)),St(this,ni)),await e.drawText(Ze,Ke,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.labelAngle,HorizontalAlignment$1.Center,VerticalAlignment$1.Middle)}updateAxisMaxMin(){this.xAxis.include(this.minX),this.xAxis.include(this.maxX)}updateData(){this.clearItemsSourceItems(),!(!this.itemsSource||this.itemsSource.length==0)&&(this.updateFromDataFields()||(this.itemsSourceItems||(this.itemsSourceItems=[]),this.itemsSourceItems.push(...this.itemsSource)))}updateValidData(){this.validItems.length=0,this.validItemsIndexInversion.clear();const e=this.manager.categories.length;for(let t=0;t<this.actualItems.length;t++){const r=this.actualItems[t];r&&r.getCategoryIndex(t)<e&&this.isValid(r)&&(this.validItemsIndexInversion.set(this.validItems.length,t),this.validItems.push(r))}}};D$2(BarSeriesBase$1,"DefaultCategoryAxisTitle","Category"),D$2(BarSeriesBase$1,"DefaultValueAxisTitle","Value");const Se$1=class Ch extends BarSeriesBase$1{constructor(e){super(e),D$2(this,"defaultFillColor",OxyColors$1.Undefined),D$2(this,"trackerStringFormatter"),D$2(this,"baseValue"),D$2(this,"baseLine"),D$2(this,"actualBaseLine"),D$2(this,"colorField"),D$2(this,"fillColor"),D$2(this,"isStacked",!1),D$2(this,"overlapsStack",!1),D$2(this,"labelStringFormatter"),D$2(this,"negativeFillColor"),D$2(this,"stackGroup"),D$2(this,"valueField"),D$2(this,"actualBarRectangles"),this.fillColor=OxyColors$1.Automatic,this.negativeFillColor=OxyColors$1.Undefined,this.trackerStringFormatter=Ch.DefaultTrackerFormatter,this.labelMargin=2,this.labelAngle=0,this.stackGroup="",this.strokeThickness=0,this.baseValue=0,this.baseLine=NaN,this.actualBaseLine=NaN,e&&Object.assign(this,removeUndef$1(e))}get actualFillColor(){return this.fillColor.getActualColor(this.defaultFillColor)}getNearestPoint(e,t){if(!this.actualBarRectangles||this.validItems.length===0)return;let r=0;for(const Ve of this.actualBarRectangles){if(Ve.containsPoint(e)){const je=this.validItems[r],ze=je.getCategoryIndex(r),Xe=newDataPoint$1(ze,this.validItems[r].value),We=this.getItem(this.validItemsIndexInversion.get(r));return new TrackerHitResult$1({series:this,dataPoint:Xe,position:e,item:We,index:r,text:this.getTrackerText(je,We,ze)})}r++}}renderLegend(e,t){const r=(t.left+t.right)/2,Ve=(t.top+t.bottom)/2,je=(t.bottom-t.top)*.8,ze=je;return e.drawRectangle(new OxyRect$1(r-.5*ze,Ve-.5*je,ze,je),this.getSelectableColor(this.actualFillColor),this.strokeColor,this.strokeThickness,this.edgeRenderingMode)}setDefaultValues(){this.fillColor.isAutomatic()&&(this.defaultFillColor=this.plotModel.getDefaultColor())}updateAxisMaxMin(){super.updateAxisMaxMin(),this.computeActualBaseLine(),this.xAxis.include(this.actualBaseLine)}computeActualBaseLine(){if(isNaN(this.baseLine))if(this.xAxis.isLogarithmic()){const e=(this.actualItems||[]).map(r=>r.value),t=minValueOfArray$1(e.filter(r=>r>0),1);this.actualBaseLine=Math.max(t/10,this.baseValue)}else this.actualBaseLine=0;else this.actualBaseLine=this.baseLine}updateMaxMin(){if(super.updateMaxMin(),this.validItems.length===0)return;const e=this.getCategoryAxis();let t=Number_MAX_VALUE$1,r=Number_MIN_VALUE$1;const Ve=this.manager;if(this.isStacked){const je=e.actualLabels;for(let ze=0;ze<je.length;ze++){let Xe=0;const We=this.validItems.filter(ti=>ti.getCategoryIndex(Xe++)===ze).map(ti=>ti.value).concat([0]);let qe=We.filter(ti=>ti<=0).reduce((ti,ni)=>ti+ni,0),Ke=We.filter(ti=>ti>=0).reduce((ti,ni)=>ti+ni,0);const Ze=Ve.getStackIndex(this.stackGroup),Je=Ve.getCurrentMinValue(Ze,ze);isNaN(Je)||(qe+=Je),Ve.setCurrentMinValue(Ze,ze,qe);const Qe=Ve.getCurrentMaxValue(Ze,ze);!this.overlapsStack&&!isNaN(Qe)&&(Ke+=Qe),Ve.setCurrentMaxValue(Ze,ze,Ke),t=Math.min(t,qe+this.baseValue),r=Math.max(r,Ke+this.baseValue)}}else{const je=this.validItems.map(ze=>ze.value).concat([0]);t=minValueOfArray$1(je),r=maxValueOfArray$1(je),this.baseValue<t&&(t=this.baseValue),this.baseValue>r&&(r=this.baseValue)}this.minX=t,this.maxX=r}getTrackerText(e,t,r){if(!this.trackerStringFormatter)return;const Ve=this.getCategoryAxis(),je=this.xAxis;return this.trackerStringFormatter({item:t,title:this.title,category:Ve.formatValue(r),value:je==null?void 0:je.getValue(e.value)})}isValid(e){return this.xAxis.isValidValue(e.value)}async renderItem(e,t,r,Ve,je,ze){let Xe=je.color;Xe.isAutomatic()&&(Xe=this.actualFillColor,je.value<0&&!this.negativeFillColor.isUndefined()&&(Xe=this.negativeFillColor));const We=RenderingExtensions$1.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode$1.PreferSharpness);await e.drawRectangle(ze,this.getSelectableFillColor(Xe),this.strokeColor,this.strokeThickness,We)}async render(e){if(this.actualBarRectangles=[],this.validItems.length===0)return;const t=this.manager,r=this.yAxis,Ve=this.xAxis,je=PlotElementExtensions$1.transform,ze=this.getActualBarWidth(),Xe=this.isStacked?t.getStackIndex(this.stackGroup):0;for(let We=0;We<this.validItems.length;We++){const qe=this.validItems[We],Ke=qe.getCategoryIndex(We),Ze=qe.value;let Je=NaN;this.isStacked&&!this.overlapsStack&&(Je=t.getCurrentBaseValue(Xe,Ke,Ze<0)),isNaN(Je)&&(Je=this.baseValue);const Qe=this.isStacked?Je+Ze:Ze;if(r.isLogarithmic()&&!r.isValidValue(Qe))continue;let ti;this.isStacked?ti=t.getCategoryValue(Ke,Xe,ze):ti=Ke-.5+t.getCurrentBarOffset(Ke),this.isStacked&&t.setCurrentBaseValue(Xe,Ke,Ze<0,Qe);const ni=Ve.isLogarithmic()&&!Ve.isValidValue(Je),ri=je(this,ni?Ve.clipMinimum:Je,ti),ii=je(this,Qe,ti+ze),ei=OxyRect$1.fromScreenPoints(ri,ii);this.actualBarRectangles.push(ei),await this.renderItem(e,Qe,ti,ze,qe,ei),this.labelStringFormatter&&await this.renderLabel(e,qe,Je,Qe,ti,ti+ze,this.labelStringFormatter),this.isStacked||t.increaseCurrentBarOffset(Ke,ze)}}updateFromDataFields(){if(!this.valueField)return!1;if(!this.itemsSource||this.itemsSource.length==0)return!0;this.itemsSourceItems=this.itemsSourceItems||[];for(const e of this.itemsSource){if(isNullOrUndef$1(e))continue;const t=e[this.valueField],r=new BarItem$1;r.value=isNullOrUndef$1(t)?NaN:t;let Ve=OxyColors$1.Automatic;this.colorField&&e[this.colorField]&&e[this.colorField]instanceof OxyColor$1&&(Ve=e[this.colorField]),r.color=Ve,this.itemsSourceItems.push(r)}return!0}};D$2(Se$1,"DefaultTrackerFormatter",$e=>`${$e.title||""}
${$e.category}: ${$e.value}`);let BarSeries$1=Se$1;class BarSeriesManager{constructor(e,t,r){if(D$2(this,"currentBarOffset"),D$2(this,"currentMaxValue"),D$2(this,"currentMinValue"),D$2(this,"currentNegativeBaseValues"),D$2(this,"currentPositiveBaseValues"),D$2(this,"maxWidth",NaN),D$2(this,"_categoryAxis"),D$2(this,"_series"),D$2(this,"_valueAxis"),D$2(this,"_barOffset"),D$2(this,"_stackedBarOffset"),D$2(this,"_stackIndexMapping",new Map),!e.plotModel)throw new Error("The category axis must be part of a plot model.");this._categoryAxis=e,this._valueAxis=t,this._series=r;for(const Ve of this._series)Ve.manager=this}get categoryAxis(){return this._categoryAxis}get managedSeries(){return this._series}get plotModel(){return this.categoryAxis.plotModel}get valueAxis(){return this._valueAxis}get categories(){return this._categoryAxis.actualLabels}get stackIndexMapping(){return this._stackIndexMapping}getCategoryValue(e,t,r){const Ve=this._stackedBarOffset[t][e],je=this._stackedBarOffset[t+1][e];return e-.5+(je+Ve-r)*.5}getCurrentBarOffset(e){return this.currentBarOffset?this.currentBarOffset[e]:0}getCurrentBaseValue(e,t,r){return r?this.currentNegativeBaseValues[e][t]:this.currentPositiveBaseValues[e][t]}getCurrentMaxValue(e,t){return this.currentMaxValue?this.currentMaxValue[e][t]:0}getCurrentMinValue(e,t){return this.currentMinValue?this.currentMinValue[e][t]:0}getMaxWidth(){return this.maxWidth}getStackIndex(e){const t=this._stackIndexMapping.get(e);return isUndef$1(t)?-1:t}increaseCurrentBarOffset(e,t){this.currentBarOffset&&(this.currentBarOffset[e]+=t)}initializeRender(){this.resetCurrentValues()}setCurrentBaseValue(e,t,r,Ve){r?this.currentNegativeBaseValues[e][t]=Ve:this.currentPositiveBaseValues[e][t]=Ve}setCurrentMaxValue(e,t,r){this.currentMaxValue[e][t]=r}setCurrentMinValue(e,t,r){this.currentMinValue[e][t]=r}update(){this.categoryAxis.updateLabels(Math.max(...this.managedSeries.map(e=>e.actualItems.length))),this.updateBarOffsets(),this.updateValidData(),this.resetCurrentValues()}static hasCategory(e,t){return e.actualItems.length>t&&e.actualItems[t].categoryIndex<0?!0:e.actualItems.some(r=>r.categoryIndex===t)}resetCurrentValues(){this.currentBarOffset=[...this._barOffset||[]];const e=this.categoryAxis.actualLabels,t=this._stackIndexMapping.size;t>0?(this.currentPositiveBaseValues=create2DArray$1(t,e.length,Number.NaN),this.currentNegativeBaseValues=create2DArray$1(t,e.length,Number.NaN),this.currentMaxValue=create2DArray$1(t,e.length,Number.NaN),this.currentMinValue=create2DArray$1(t,e.length,Number.NaN)):(this.currentPositiveBaseValues=void 0,this.currentNegativeBaseValues=void 0,this.currentMaxValue=void 0,this.currentMinValue=void 0)}updateBarOffsets(){if(this.categories.length===0){this.maxWidth=Number.NaN,this._stackedBarOffset=void 0,this._stackIndexMapping.clear();return}const e=new Array(this.categories.length).fill(0),t=new Map;this._barOffset=new Array(this.categories.length).fill(0);const r=this.managedSeries.filter(Xe=>isStackableSeries(Xe)).map(Xe=>Xe),Ve=Array.from(r.filter(Xe=>Xe.isStacked).reduce((Xe,We)=>Xe.set(We.stackGroup,(Xe.get(We.stackGroup)||[]).concat(We)),new Map).values());for(const Xe of Ve){const We=Math.max(...Xe.map(qe=>qe.barWidth));t.set(Xe[0].stackGroup,We);for(let qe=0;qe<this.categories.length;qe++)Xe.some(Ke=>BarSeriesManager.hasCategory(Ke,qe))&&(e[qe]+=We)}for(const Xe of this.managedSeries.filter(We=>!isStackableSeries(We)||!We.isStacked))for(let We=0;We<this.categories.length;We++){let qe=Xe.actualItems.filter(Ke=>Ke.categoryIndex===We).length;Xe.actualItems.length>We&&Xe.actualItems[We].categoryIndex<0&&qe++,e[We]+=Xe.barWidth*qe}this.maxWidth=Math.max(...e),this._stackedBarOffset=create2DArray$1(Ve.length+1,this.categories.length,0);const je=1/(1+this.categoryAxis.gapWidth)/this.maxWidth;for(let Xe=0;Xe<this.categories.length;Xe++)this._barOffset[Xe]=.5-e[Xe]*je*.5;for(let Xe=0;Xe<Ve.length;Xe++){const We=Ve[Xe];for(let qe=0;qe<this.categories.length;qe++)this._stackedBarOffset[Xe][qe]=this._barOffset[qe],We.some(Ke=>BarSeriesManager.hasCategory(Ke,qe))&&(this._barOffset[qe]+=t.get(We[0].stackGroup)*je)}for(let Xe=0;Xe<this.categories.length;Xe++)this._stackedBarOffset[Ve.length][Xe]=this._barOffset[Xe];this._stackIndexMapping.clear();let ze=0;for(const Xe of Ve.map(We=>We[0].stackGroup).sort())this._stackIndexMapping.set(Xe,ze++)}updateValidData(){for(const e of this.managedSeries)e.updateValidData()}}function isBarSeries($e){return $e&&!isNullOrUndef$1($e.barWidth)&&$e.categoryAxis}let IntervalBarItem$1=class extends BarItemBase$1{constructor(e){super(e),D$2(this,"color"),D$2(this,"end",0),D$2(this,"start",0),D$2(this,"title"),this.color=OxyColors$1.Automatic,e&&Object.assign(this,removeUndef$1(e))}};const Ce$1=class Mh extends BarSeriesBase$1{constructor(e){super(e),D$2(this,"defaultFillColor",OxyColors$1.Undefined),D$2(this,"trackerStringFormatter"),D$2(this,"colorField"),D$2(this,"endField"),D$2(this,"fillColor"),D$2(this,"isStacked",!0),D$2(this,"overlapsStack",!0),D$2(this,"labelStringFormatter",(t,r)=>`${r[0]} - ${r[1]}`),D$2(this,"stackGroup",""),D$2(this,"startField"),D$2(this,"actualBarRectangles",[]),this.fillColor=OxyColors$1.Automatic,this.strokeThickness=1,this.trackerStringFormatter=Mh.DefaultTrackerStringFormatter,this.labelMargin=4,this.labelPlacement=LabelPlacement$1.Middle,e&&Object.assign(this,removeUndef$1(e))}get actualFillColor(){return this.fillColor.getActualColor(this.defaultFillColor)}getNearestPoint(e,t){for(let r=0;r<this.actualBarRectangles.length;r++){if(!this.actualBarRectangles[r].containsPoint(e))continue;const Ve=this.getItem(this.validItemsIndexInversion.get(r)),je=Ve.getCategoryIndex(r),ze=(this.validItems[r].start+this.validItems[r].end)/2,Xe=newDataPoint$1(je,ze),We=this.getCategoryAxis(),qe=this.xAxis,Ke=this.trackerStringFormatter({item:Ve,title:this.title,categoryTitle:We.title??BarSeriesBase$1.DefaultCategoryAxisTitle,categoryValue:We.formatValue(je),valueTitle:qe.title??BarSeriesBase$1.DefaultValueAxisTitle});return new TrackerHitResult$1({series:this,dataPoint:Xe,position:e,item:Ve,index:r,text:Ke})}}async renderLegend(e,t){const r=(t.left+t.right)/2,Ve=(t.top+t.bottom)/2,je=(t.bottom-t.top)*.8,ze=je;await e.drawRectangle(new OxyRect$1(r-.5*ze,Ve-.5*je,ze,je),this.getSelectableFillColor(this.actualFillColor),this.strokeColor,this.strokeThickness,this.edgeRenderingMode)}setDefaultValues(){this.fillColor.isAutomatic()&&(this.defaultFillColor=this.plotModel.getDefaultColor())}updateMaxMin(){if(super.updateMaxMin(),this.validItems.length===0)return;let e=Number_MAX_VALUE$1,t=Number_MIN_VALUE$1;for(const r of this.validItems)e=Math.min(e,r.start),e=Math.min(e,r.end),t=Math.max(t,r.start),t=Math.max(t,r.end);this.minX=e,this.maxX=t}isValid(e){return this.xAxis.isValidValue(e.start)&&this.xAxis.isValidValue(e.end)}async render(e){if(this.actualBarRectangles=[],this.validItems.length===0)return;const t=this.getActualBarWidth(),r=this.manager.getStackIndex(this.stackGroup),Ve=PlotElementExtensions$1.transform,je=RenderingExtensions$1.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode$1.PreferSharpness);for(let ze=0;ze<this.validItems.length;ze++){const Xe=this.validItems[ze],We=Xe.getCategoryIndex(ze),qe=this.manager.getCategoryValue(We,r,t),Ke=Ve(this,Xe.start,qe),Ze=Ve(this,Xe.end,qe+t),Je=OxyRect$1.fromScreenPoints(Ke,Ze);this.actualBarRectangles.push(Je),await e.drawRectangle(Je,this.getSelectableFillColor(Xe.color.getActualColor(this.actualFillColor)),this.strokeColor,this.strokeThickness,je),this.labelStringFormatter&&await this.renderLabel(e,this.getItem(ze),Xe.start,Xe.end,qe,qe+t,this.labelStringFormatter)}}updateFromDataFields(){var e;if(!this.startField||!this.endField||!this.itemsSource)return!1;for(const t of this.itemsSource){const r=getOrDefault$1(t,this.startField,NaN),Ve=getOrDefault$1(t,this.endField,NaN),je=getOrDefault$1(t,this.colorField,OxyColors$1.Automatic);(e=this.itemsSourceItems)==null||e.push(new IntervalBarItem$1({start:r,end:Ve,color:je}))}return!0}};D$2(Ce$1,"DefaultTrackerStringFormatter",$e=>{var e,t;return`${$e.title}
${$e.categoryTitle}: ${$e.categoryValue}
${$e.valueTitle}: ${(e=$e.item)==null?void 0:e.start} - ${(t=$e.item)==null?void 0:t.end}`});let IntervalBarSeries=Ce$1;function isStackableSeries($e){return $e&&!isUndef$1($e.isStacked)&&typeof $e.isStacked=="boolean"&&!isUndef$1($e.stackGroup)&&typeof $e.stackGroup=="string"}var LabelPlacement$1=($e=>($e[$e.Outside=0]="Outside",$e[$e.Inside=1]="Inside",$e[$e.Middle=2]="Middle",$e[$e.Base=3]="Base",$e))(LabelPlacement$1||{});class ErrorBarItem extends BarItem$1{constructor(e){super(e),D$2(this,"error",0),this.color=OxyColors$1.Automatic,e&&Object.assign(this,removeUndef$1(e))}}const Ae$1=class Dh extends BarSeries$1{constructor(e){super(e),D$2(this,"errorStrokeThickness"),D$2(this,"errorWidth"),this.errorWidth=.4,this.errorStrokeThickness=1,this.trackerStringFormatter=Dh.DefaultTrackerStringFormatter,e&&Object.assign(this,removeUndef$1(e))}updateMaxMin(){if(super.updateMaxMin(),this.validItems.length===0)return;let e=Number_MAX_VALUE$1,t=Number_MIN_VALUE$1;if(!this.isStacked){const r=this.validItems.map(je=>je.value-je.error).concat([0]),Ve=this.validItems.map(je=>je.value+je.error).concat([0]);e=minValueOfArray$1(r),t=maxValueOfArray$1(Ve),this.baseValue<e&&(e=this.baseValue),this.baseValue>t&&(t=this.baseValue)}this.minX=e,this.maxX=t}async renderItem(e,t,r,Ve,je,ze){await super.renderItem(e,t,r,Ve,je,ze);const Xe=t-je.error,We=t+je.error,qe=.5-this.errorWidth/2,Ke=.5+this.errorWidth/2,Ze=r+qe*Ve,Je=r+.5*Ve,Qe=r+Ke*Ve,ti=RenderingExtensions$1.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode$1.PreferSharpness),ni=PlotElementExtensions$1.transform,ri=ni(this,Xe,Je),ii=ni(this,We,Je);if(await e.drawLine([ri,ii],this.strokeColor,this.errorStrokeThickness,ti,void 0,LineJoin$1.Miter),this.errorWidth>0){const ei=ni(this,Xe,Ze),St=ni(this,Xe,Qe);await e.drawLine([ei,St],this.strokeColor,this.errorStrokeThickness,ti,void 0,LineJoin$1.Miter);const oi=ni(this,We,Ze),si=ni(this,We,Qe);await e.drawLine([oi,si],this.strokeColor,this.errorStrokeThickness,ti,void 0,LineJoin$1.Miter)}}};D$2(Ae$1,"DefaultTrackerStringFormatter",$e=>`${$e.title||""}
${$e.category}: ${$e.value}, Error: ${round$2($e.item.error,3)}`);let ErrorBarSeries=Ae$1;class LinearBarSeries extends DataPointSeries$1{constructor(e){super(e),D$2(this,"rectangles",[]),D$2(this,"rectanglesPointIndexes",[]),D$2(this,"defaultColor",OxyColors$1.Undefined),D$2(this,"fillColor"),D$2(this,"barWidth"),D$2(this,"strokeThickness"),D$2(this,"strokeColor"),D$2(this,"negativeFillColor"),D$2(this,"negativeStrokeColor"),D$2(this,"baseValue"),D$2(this,"baseLine"),D$2(this,"actualBaseLine"),this.fillColor=OxyColors$1.Automatic,this.barWidth=5,this.strokeColor=OxyColors$1.Black,this.strokeThickness=0,this.negativeFillColor=OxyColors$1.Undefined,this.negativeStrokeColor=OxyColors$1.Undefined,this.baseValue=0,this.baseLine=Number.NaN,this.actualBaseLine=Number.NaN,e&&Object.assign(this,removeUndef$1(e))}get actualColor(){return this.fillColor.getActualColor(this.defaultColor)}getNearestPoint(e,t){const r=this.findRectangleIndex(e);if(r<0||!this.rectangles[r].containsPoint(e))return;const Ve=this.rectanglesPointIndexes[r],je=this.actualPoints[Ve],ze=this.getItem(Ve),Xe=this.formatDefaultTrackerString(ze,je);return new TrackerHitResult$1({series:this,dataPoint:je,position:e,item:ze,index:Ve,text:Xe})}async render(e){this.rectangles.length=0,this.rectanglesPointIndexes.length=0;const t=this.actualPoints;!t||t.length===0||(this.verifyAxes(),await this.renderBars(e,t))}async renderLegend(e,t){const r=(t.left+t.right)/2,Ve=(t.top+t.bottom)/2,je=(t.bottom-t.top)*.8,ze=je;await e.drawRectangle(new OxyRect$1(r-.5*ze,Ve-.5*je,ze,je),this.getSelectableColor(this.actualColor),this.strokeColor,this.strokeThickness,this.edgeRenderingMode)}setDefaultValues(){this.fillColor.isAutomatic()&&(this.defaultColor=this.plotModel.getDefaultColor())}updateAxisMaxMin(){super.updateAxisMaxMin(),this.computeActualBaseLine(),this.yAxis.include(this.actualBaseLine)}computeActualBaseLine(){if(isNaN(this.baseLine))if(this.yAxis.isLogarithmic()){const e=this.actualPoints?minValueOfArray$1(this.actualPoints.filter(t=>t.y>0).map(t=>t.y),1):1;this.actualBaseLine=Math.max(e/10,this.baseValue)}else this.actualBaseLine=0;else this.actualBaseLine=this.baseLine}findRectangleIndex(e){let t;return PlotElementExtensions$1.isTransposed(this)?t=(r,Ve)=>r.bottom<e.y?1:r.top>e.y?-1:0:t=(r,Ve)=>r.right<e.x?-1:r.left>e.x?1:0,this.rectangles.findIndex(r=>t(r,OxyRect$1.Empty)===0)}async renderBars(e,t){const r=this.yAxis.isLogarithmic()&&!this.yAxis.isValidValue(this.baseValue),Ve=this.getBarWidth(t)/2,je=PlotElementExtensions$1.orientateVector(this,new ScreenVector$1(Ve,0)),ze=RenderingExtensions$1.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode$1.PreferSharpness);for(let Xe=0;Xe<t.length;Xe++){const We=t[Xe];if(!this.isValidPoint(We))continue;const qe=screenPointMinusVector$1(this.transform(We),je),Ke=this.transform(newDataPoint$1(We.x,r?this.yAxis.clipMinimum:this.baseValue)),Ze=screenPointPlus$1(Ke,je),Je=OxyRect$1.fromScreenPoints(Ze,qe);this.rectangles.push(Je),this.rectanglesPointIndexes.push(Xe);const Qe=this.getBarColors(We.y);await e.drawRectangle(Je,Qe.fillColor,Qe.strokeColor,this.strokeThickness,ze)}}getBarWidth(e){let t=this.barWidth/this.xAxis.scale;for(let r=1;r<e.length;r++){const Ve=e[r].x-e[r-1].x;Ve<t&&(t=Ve)}return t*this.xAxis.scale}getBarColors(e){const t=e>=this.baseValue,r=t||this.negativeFillColor.isUndefined()?this.getSelectableFillColor(this.actualColor):this.negativeFillColor,Ve=t||this.negativeStrokeColor.isUndefined()?this.strokeColor:this.negativeStrokeColor;return{fillColor:r,strokeColor:Ve}}}let TornadoBarItem$1=class extends BarItemBase$1{constructor(e){super(e),D$2(this,"baseValue"),D$2(this,"maximum"),D$2(this,"maximumColor"),D$2(this,"minimum"),D$2(this,"minimumColor"),this.minimum=NaN,this.maximum=NaN,this.baseValue=NaN,this.minimumColor=OxyColors$1.Automatic,this.maximumColor=OxyColors$1.Automatic,e&&Object.assign(this,removeUndef$1(e))}};const Me$1=class Sh extends BarSeriesBase$1{constructor(e){super(e),D$2(this,"defaultMaximumFillColor",OxyColors$1.Undefined),D$2(this,"defaultMinimumFillColor",OxyColors$1.Undefined),D$2(this,"baseField"),D$2(this,"baseValue",NaN),D$2(this,"maximumColorField"),D$2(this,"maximumField"),D$2(this,"maximumFillColor"),D$2(this,"maximumLabelStringFormatter"),D$2(this,"minimumColorField"),D$2(this,"minimumField"),D$2(this,"minimumFillColor"),D$2(this,"minimumLabelStringFormatter"),D$2(this,"actualMaximumBarRectangles",[]),D$2(this,"actualMinimumBarRectangles",[]),this.maximumFillColor=OxyColor$1.fromRgb(216,82,85),this.minimumFillColor=OxyColor$1.fromRgb(84,138,209),this.strokeColor=OxyColors$1.Black,this.strokeThickness=1,this.trackerStringFormatter=Sh.defaultTrackerStringFormatter,this.labelMargin=4,this.minimumLabelStringFormatter=(t,r)=>r[0].toString(),this.maximumLabelStringFormatter=(t,r)=>r[0].toString(),e&&Object.assign(this,removeUndef$1(e))}get actualMaximumFillColor(){return this.maximumFillColor.getActualColor(this.defaultMaximumFillColor)}get actualMinimumFillColor(){return this.minimumFillColor.getActualColor(this.defaultMinimumFillColor)}getNearestPoint(e,t){for(let r=0;r<this.actualMinimumBarRectangles.length;r++){const Ve=this.actualMinimumBarRectangles[r].containsPoint(e),je=this.actualMaximumBarRectangles[r].containsPoint(e);if(Ve||je){const ze=this.getItem(this.validItemsIndexInversion.get(r)),Xe=ze.getCategoryIndex(r),We=je?this.validItems[r].maximum:this.validItems[r].minimum,qe=newDataPoint$1(Xe,We),Ke=this.getCategoryAxis(),Ze=this.trackerStringFormatter({item:ze,title:this.title,yTitle:Ke.title??BarSeriesBase$1.DefaultCategoryAxisTitle,yValue:Ke.formatValue(Xe),xTitle:this.xAxis.title??BarSeriesBase$1.DefaultValueAxisTitle,xValue:this.xAxis.getValue(We)});return new TrackerHitResult$1({series:this,dataPoint:qe,position:e,item:ze,index:r,text:Ze})}}}async render(e){if(this.actualMinimumBarRectangles=[],this.actualMaximumBarRectangles=[],this.validItems.length===0)return;const t=this.getActualBarWidth();for(let r=0;r<this.validItems.length;r++){const Ve=this.validItems[r],je=Ve.getCategoryIndex(r),ze=isNaN(Ve.baseValue)?this.baseValue:Ve.baseValue,Xe=this.manager.getCurrentBarOffset(je),We=je-.5+Xe,qe=We+t,Ke=PlotElementExtensions$1.transform,Ze=Ke(this,Ve.minimum,We),Je=Ke(this,Ve.maximum,We),Qe=Ke(this,ze,We+t),ti=OxyRect$1.fromScreenPoints(Ze,Qe),ni=OxyRect$1.fromScreenPoints(Je,Qe);this.actualMinimumBarRectangles.push(ti),this.actualMaximumBarRectangles.push(ni);const ri=RenderingExtensions$1.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode$1.PreferSharpness);await e.drawRectangle(ti,Ve.minimumColor.getActualColor(this.actualMinimumFillColor),this.strokeColor,this.strokeThickness,ri),await e.drawRectangle(ni,Ve.maximumColor.getActualColor(this.actualMaximumFillColor),this.strokeColor,this.strokeThickness,ri),this.minimumLabelStringFormatter&&await this.renderLabel(e,Ve,ze,Ve.minimum,We,qe,this.minimumLabelStringFormatter,Ve.minimum),this.maximumLabelStringFormatter&&await this.renderLabel(e,Ve,ze,Ve.maximum,We,qe,this.maximumLabelStringFormatter,Ve.maximum)}}async renderLegend(e,t){const r=(t.left+t.right)/2,Ve=(t.top+t.bottom)/2,je=(t.bottom-t.top)*.8,ze=je,Xe=RenderingExtensions$1.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode$1.PreferSharpness);await e.drawRectangle(new OxyRect$1(r-.5*ze,Ve-.5*je,.5*ze,je),this.actualMinimumFillColor,this.strokeColor,this.strokeThickness,Xe),await e.drawRectangle(new OxyRect$1(r,Ve-.5*je,.5*ze,je),this.actualMaximumFillColor,this.strokeColor,this.strokeThickness,Xe)}setDefaultValues(){this.maximumFillColor.isAutomatic()&&(this.defaultMaximumFillColor=this.plotModel.getDefaultColor()),this.minimumFillColor.isAutomatic()&&(this.defaultMinimumFillColor=this.plotModel.getDefaultColor())}updateMaxMin(){if(super.updateMaxMin(),this.validItems.length===0)return;let e=Number_MAX_VALUE$1,t=Number_MIN_VALUE$1;for(const r of this.validItems)e=Math.min(e,r.minimum),t=Math.max(t,r.maximum);this.minX=e,this.maxX=t}isValid(e){return this.xAxis.isValidValue(e.minimum)&&this.xAxis.isValidValue(e.maximum)}updateFromDataFields(){if(!this.minimumField||!this.maximumField||!this.itemsSource)return!1;this.itemsSourceItems?this.itemsSourceItems.length=0:this.itemsSourceItems=[];for(const e of this.itemsSource){if(!e)continue;if(e instanceof TornadoBarItem$1){this.itemsSourceItems.push(e);continue}const t=getOrDefault$1(e,this.minimumField,Number.NaN),r=getOrDefault$1(e,this.maximumField,Number.NaN),Ve=getOrDefault$1(e,this.baseField,Number.NaN),je=getOrDefault$1(e,this.minimumColorField,OxyColors$1.Automatic),ze=getOrDefault$1(e,this.maximumColorField,OxyColors$1.Automatic);this.itemsSourceItems.push(new TornadoBarItem$1({minimum:t,maximum:r,baseValue:Ve,minimumColor:je,maximumColor:ze}))}return!0}};D$2(Me$1,"defaultTrackerStringFormatter",$e=>`${$e.title||""}
${$e.yTitle}: ${$e.yValue}
${$e.xTitle}: ${$e.xValue}`);let TornadoBarSeries=Me$1;const Ee$1=class Ph extends XYAxisSeries$1{constructor(e){super(e),D$2(this,"defaultFillColor",OxyColors$1.Undefined),D$2(this,"fillColor"),D$2(this,"items"),D$2(this,"labelStringFormatter"),D$2(this,"strokeColor"),D$2(this,"strokeThickness"),D$2(this,"actualBarRectangles",[]),D$2(this,"actualItems",[]),this.items=[],this.fillColor=OxyColors$1.Automatic,this.strokeColor=OxyColors$1.Black,this.strokeThickness=1,this.trackerStringFormatter=Ph.defaultTrackerStringFormatter,this.labelStringFormatter=(t,r)=>`${r[4]||""}`,e&&Object.assign(this,removeUndef$1(e))}get actualFillColor(){return this.fillColor.getActualColor(this.defaultFillColor)}getNearestPoint(e,t){if(!(!this.actualBarRectangles||!this.actualItems)){for(let r=0;r<this.actualBarRectangles.length;r++)if(this.actualBarRectangles[r].containsPoint(e)){const Ve=(this.actualItems[r].y0+this.actualItems[r].y1)/2,je=e,ze=newDataPoint$1(r,Ve),Xe=this.actualItems[r],We=this.formatDefaultTrackerString(Xe,newDataPoint$1(this.actualItems[r].x0,this.actualItems[r].y0),qe=>{qe.x1Value=this.xAxis.getValue(this.actualItems[r].x1),qe.y1Value=this.yAxis.getValue(this.actualItems[r].y1)});return new TrackerHitResult$1({series:this,dataPoint:ze,position:je,item:Xe,index:r,text:We})}}}async render(e){if(this.items.length===0)return;let t=0,r=Number_MAX_VALUE$1;if(this.actualBarRectangles=[],this.actualItems=[],this.isXMonotonic){const ze=this.xAxis.clipMinimum;r=this.xAxis.clipMaximum,this.windowStartIndex=this.updateWindowStartIndex(this.items,Xe=>Xe.x0,ze,this.windowStartIndex),t=this.windowStartIndex}const Ve=RenderingExtensions$1.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode$1.PreferSharpness);let je=0;for(let ze=t;ze<this.items.length;ze++){const Xe=this.items[ze];if(!this.isValid(Xe.x0)||!this.isValid(Xe.x1)||!this.isValid(Xe.y0)||!this.isValid(Xe.y1))continue;const We=PlotElementExtensions$1.transform,qe=We(this,Xe.x0,Xe.y0),Ke=We(this,Xe.x1,Xe.y1),Ze=OxyRect$1.create(qe.x,qe.y,Ke.x,Ke.y);if(this.actualBarRectangles.push(Ze),this.actualItems.push(Xe),await e.drawRectangle(Ze,this.getSelectableFillColor(Xe.color.getActualColor(this.actualFillColor)),this.strokeColor,this.strokeThickness,Ve),this.labelStringFormatter){const Je=this.labelStringFormatter(this.getItem(ze),[Xe.x0,Xe.x1,Xe.y0,Xe.y1,Xe.title]),Qe=newScreenPoint$1((Ze.left+Ze.right)/2,(Ze.top+Ze.bottom)/2);await e.drawText(Qe,Je,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,HorizontalAlignment$1.Center,VerticalAlignment$1.Middle)}if(je+=Xe.x0>r?1:0,je>1)break}}async renderLegend(e,t){const r=(t.left+t.right)/2,Ve=(t.top+t.bottom)/2,je=(t.bottom-t.top)*.8,ze=je;await e.drawRectangle(new OxyRect$1(r-.5*ze,Ve-.5*je,ze,je),this.getSelectableFillColor(this.actualFillColor),this.strokeColor,this.strokeThickness,this.edgeRenderingMode)}setDefaultValues(){this.fillColor.isAutomatic()&&(this.defaultFillColor=this.plotModel.getDefaultColor())}updateData(){if(this.itemsSource)throw this.items=[],new Error("Not implemented")}updateMaxMin(){if(super.updateMaxMin(),this.isXMonotonic=!0,this.items===null||this.items.length===0)return;let e=Number_MAX_VALUE$1,t=Number_MIN_VALUE$1,r=Number_MAX_VALUE$1,Ve=Number_MIN_VALUE$1,je=Number_MIN_VALUE$1,ze=Number_MIN_VALUE$1;for(const Xe of this.items)(Xe.x0<je||Xe.x1<ze)&&(this.isXMonotonic=!1),e=Math.min(e,Math.min(Xe.x0,Xe.x1)),t=Math.max(t,Math.max(Xe.x1,Xe.x0)),r=Math.min(r,Math.min(Xe.y0,Xe.y1)),Ve=Math.max(Ve,Math.max(Xe.y0,Xe.y1)),je=Xe.x0,ze=Xe.x1;this.minX=e,this.maxX=t,this.minY=r,this.maxY=Ve}isValid(e){return!isNaN(e)&&isFinite(e)}};D$2(Ee$1,"defaultTrackerStringFormatter",$e=>`${$e.title}
${$e.xTitle}: ${$e.xValue} ${$e.x1Value}  
${$e.yTitle}: ${$e.yValue} ${$e.y1Value}`);let RectangleBarSeries=Ee$1;function createHighLowItem($e,e,t,r=NaN,Ve=NaN){return{x:$e,high:e,low:t,open:r,close:Ve}}const De$1=class Eh extends XYAxisSeries$1{constructor(e){super(e),D$2(this,"_items",[]),D$2(this,"defaultColor",OxyColors$1.Undefined),D$2(this,"trackerStringFormatter"),D$2(this,"color"),D$2(this,"dashes"),D$2(this,"dataFieldClose"),D$2(this,"dataFieldHigh"),D$2(this,"dataFieldLow"),D$2(this,"dataFieldOpen"),D$2(this,"dataFieldX"),D$2(this,"lineJoin",LineJoin$1.Miter),D$2(this,"lineStyle",LineStyle$1.Solid),D$2(this,"mapping"),D$2(this,"strokeThickness"),D$2(this,"tickLength"),this.color=OxyColors$1.Automatic,this.tickLength=4,this.strokeThickness=1,this.trackerStringFormatter=Eh.DefaultTrackerStringFormatter,e&&Object.assign(this,removeUndef$1(e))}get actualColor(){return this.color.getActualColor(this.defaultColor)}get items(){return this._items}getNearestPoint(e,t){if(!this.xAxis||!this.yAxis||t)return;let r=Number_MAX_VALUE$1,Ve;const je=(ze,Xe,We)=>{const qe=this.transform(ze),Ke=qe.x-e.x,Ze=qe.y-e.y,Je=Ke*Ke+Ze*Ze;if(Je<r){const Qe=this.formatHighLowItemTrackerString(Xe);Ve=new TrackerHitResult$1({series:this,dataPoint:ze,position:qe,item:Xe,index:We,text:Qe}),r=Je}};for(let ze=0;ze<this.items.length;ze++){const Xe=this.items[ze];je(newDataPoint$1(Xe.x,Xe.high),Xe,ze),je(newDataPoint$1(Xe.x,Xe.low),Xe,ze),je(newDataPoint$1(Xe.x,Xe.open),Xe,ze),je(newDataPoint$1(Xe.x,Xe.close),Xe,ze)}if(r<Number_MAX_VALUE$1)return Ve}formatHighLowItemTrackerString(e){return this.trackerStringFormatter&&this.trackerStringFormatter({item:e,title:this.title||"",xTitle:this.xAxis.title??XYAxisSeries$1.defaultXAxisTitle,xValue:this.xAxis.getValue(e.x),high:this.yAxis.getValue(e.high),low:this.yAxis.getValue(e.low),open:this.yAxis.getValue(e.open),close:this.yAxis.getValue(e.close)})||""}isValidItem(e,t,r){return!isNaN(e.x)&&isFinite(e.x)&&!isNaN(e.high)&&isFinite(e.high)&&!isNaN(e.low)&&isFinite(e.low)}async render(e){if(this.items.length===0)return;this.verifyAxes();const t=LineStyleHelper$1.getDashArray(this.lineStyle),r=this.getSelectableColor(this.actualColor),Ve=PlotElementExtensions$1.transform;for(const je of this.items)if(this.isValidItem(je,this.xAxis,this.yAxis)&&this.strokeThickness>0&&this.lineStyle!==LineStyle$1.None){const ze=Ve(this,je.x,je.high),Xe=Ve(this,je.x,je.low);await e.drawLine([Xe,ze],r,this.strokeThickness,this.edgeRenderingMode,t,this.lineJoin);const We=PlotElementExtensions$1.orientateVector(this,new ScreenVector$1(this.tickLength,0));if(!isNaN(je.open)){const qe=Ve(this,je.x,je.open),Ke=screenPointMinusVector$1(qe,We);await e.drawLine([qe,Ke],r,this.strokeThickness,this.edgeRenderingMode,t,this.lineJoin)}if(!isNaN(je.close)){const qe=Ve(this,je.x,je.close),Ke=screenPointPlus$1(qe,We);await e.drawLine([qe,Ke],r,this.strokeThickness,this.edgeRenderingMode,t,this.lineJoin)}}}async renderLegend(e,t){const r=(t.left+t.right)/2,Ve=t.top+(t.bottom-t.top)*.7,je=t.top+(t.bottom-t.top)*.3,ze=LineStyleHelper$1.getDashArray(this.lineStyle),Xe=this.getSelectableColor(this.actualColor);this.strokeThickness>0&&this.lineStyle!==LineStyle$1.None&&(await e.drawLine([newScreenPoint$1(r,t.top),newScreenPoint$1(r,t.bottom)],Xe,this.strokeThickness,this.edgeRenderingMode,ze,LineJoin$1.Miter),await e.drawLine([newScreenPoint$1(r-this.tickLength,Ve),newScreenPoint$1(r,Ve)],Xe,this.strokeThickness,this.edgeRenderingMode,ze,LineJoin$1.Miter),await e.drawLine([newScreenPoint$1(r+this.tickLength,je),newScreenPoint$1(r,je)],Xe,this.strokeThickness,this.edgeRenderingMode,ze,LineJoin$1.Miter))}setDefaultValues(){this.color.isAutomatic()&&(this.lineStyle=this.plotModel.getDefaultLineStyle(),this.defaultColor=this.plotModel.getDefaultColor())}updateData(){if(this.itemsSource){if(this._items.length=0,this.mapping){for(const e of this.itemsSource)this._items.push(this.mapping(e));return}for(const e of this.itemsSource){if(!e)continue;if("high"in e&&"low"in e&&"x"in e){this._items.push(e);continue}if(!this.dataFieldX||!this.dataFieldHigh||!this.dataFieldLow)throw new Error("HighLowSeries: dataFieldX, dataFieldHigh and dataFieldLow are required");const t=getOrDefault$1(e,this.dataFieldX,NaN),r=getOrDefault$1(e,this.dataFieldHigh,NaN),Ve=getOrDefault$1(e,this.dataFieldLow,NaN),je=getOrDefault$1(e,this.dataFieldOpen,NaN),ze=getOrDefault$1(e,this.dataFieldClose,NaN);this._items.push({x:t,high:r,low:Ve,open:je,close:ze})}}}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMin2(this.items,e=>e.x,e=>e.x,e=>e.low,e=>e.high)}};D$2(De$1,"DefaultTrackerStringFormatter",$e=>`${$e.title}
${$e.xTitle}: ${$e.xValue}
High: ${round$2($e.high,3)}
Low: ${round$2($e.low,3)}
Open: ${round$2($e.open,3)}
Close: ${round$2($e.close,3)}`);let HighLowSeries=De$1;const Te$1=class{constructor(e=NaN,t,r){D$2(this,"x"),D$2(this,"buyVolume"),D$2(this,"sellVolume"),this.x=e||NaN,this.buyVolume=t,this.sellVolume=r}static findIndex(e,t,r){let Ve=0,je=0,ze=e.length-1;for(;je<=ze;){if(r<je)return Ve;if(r>ze)return ze;const Xe=e[r].x;if(Xe===t)return r;if(Xe>t){if(ze=r-1,ze<je)return Ve;if(ze===je)return ze}else je=r+1,Ve=r;if(je>=ze)return Ve;const We=e[ze].x,qe=e[je].x,Ke=(ze-je+1)/(We-qe);r=je+Math.round((t-qe)*Ke)}return Ve}isValid(){return!isNaN(this.x)&&!isNaN(this.buyVolume)&&!isNaN(this.sellVolume)}};D$2(Te$1,"Undefined",new Te$1(NaN,NaN,NaN));let OhlcvItem$1=Te$1;var VolumeStyle=($e=>($e[$e.None=0]="None",$e[$e.Combined=1]="Combined",$e[$e.Stacked=2]="Stacked",$e[$e.PositiveNegative=3]="PositiveNegative",$e))(VolumeStyle||{});const Oe$1=class kh extends XYAxisSeries$1{constructor(e){super(e),D$2(this,"data",[]),D$2(this,"minDx",0),D$2(this,"winIndex",0),D$2(this,"volumeStyle"),D$2(this,"strokeThickness"),D$2(this,"strokeIntensity"),D$2(this,"positiveColor"),D$2(this,"negativeColor"),D$2(this,"interceptColor"),D$2(this,"interceptStrokeThickness"),D$2(this,"interceptLineStyle"),D$2(this,"positiveHollow"),D$2(this,"negativeHollow"),D$2(this,"barWidth"),D$2(this,"minimumVolume",0),D$2(this,"maximumVolume",0),D$2(this,"averageVolume",0),this.positiveColor=OxyColors$1.DarkGreen,this.negativeColor=OxyColors$1.Red,this.barWidth=0,this.strokeThickness=1,this.negativeHollow=!1,this.positiveHollow=!0,this.strokeIntensity=.8,this.volumeStyle=1,this.interceptColor=OxyColors$1.Gray,this.interceptLineStyle=LineStyle$1.Dash,this.interceptStrokeThickness=1,this.trackerStringFormatter=kh.DefaultTrackerStringFormatter,e&&Object.assign(this,removeUndef$1(e))}get items(){return this.data}set items(e){this.data=e}append(e){if(this.data===null&&(this.data=[]),this.data.length>0&&this.data[this.data.length-1].x>e.x)throw new Error("cannot append bar out of order, must be sequential in X");this.data.push(e)}async render(e){if(this.data===null||this.data.length===0)return;const t=this.data,r=this.data.length;this.verifyAxes();const Ve=this.getClippingRect();this.barWidth>0?this.barWidth:this.minDx*.8;const je=this.getSelectableFillColor(this.positiveColor),ze=this.getSelectableFillColor(this.negativeColor),Xe=this.positiveHollow?OxyColors$1.Transparent:je,We=this.negativeHollow?OxyColors$1.Transparent:ze,qe=OxyColorExtensions$1.changeIntensity(this.positiveColor,this.strokeIntensity),Ke=OxyColorExtensions$1.changeIntensity(this.negativeColor,this.strokeIntensity),Ze=this.getSelectableColor(qe),Je=this.getSelectableColor(Ke),Qe=this.xAxis.clipMinimum,ti=this.xAxis.clipMaximum;this.winIndex=OhlcvItem$1.findIndex(t,Qe,this.winIndex);const ni=PlotElementExtensions$1.transform;for(let ri=this.winIndex;ri<r;ri++){const ii=t[ri];if(ii.x>ti)break;if(!ii.isValid())continue;const ei=this.getBuyBarRect(ii),St=this.getSellBarRect(ii);switch(this.volumeStyle){case 1:{const oi=ii.buyVolume>ii.sellVolume?Xe:We,si=ii.buyVolume>ii.sellVolume?Ze:Je;await e.drawRectangle(ei,oi,si,this.strokeThickness,this.edgeRenderingMode)}break;case 3:await e.drawRectangle(ei,je,Ze,this.strokeThickness,this.edgeRenderingMode),await e.drawRectangle(St,ze,Je,this.strokeThickness,this.edgeRenderingMode);break;case 2:{await e.drawRectangle(ei,je,Ze,this.strokeThickness,this.edgeRenderingMode),await e.drawRectangle(St,ze,Je,this.strokeThickness,this.edgeRenderingMode);break}case 0:break;default:throw new Error("Invalid VolumeStyle")}}if(this.interceptStrokeThickness>0&&this.interceptLineStyle!==LineStyle$1.None){const ri=this.inverseTransform(Ve.bottomLeft),ii=this.inverseTransform(Ve.topRight),ei=ni(this,ri.x,0),St=ni(this,ii.x,0);await e.drawLine([ei,St],this.interceptColor,this.interceptStrokeThickness,this.edgeRenderingMode,LineStyleHelper$1.getDashArray(this.interceptLineStyle),LineJoin$1.Miter)}}getBuyBarRect(e){const t=PlotElementExtensions$1.transform,r=(this.barWidth>0?this.barWidth:this.minDx*.8)*.5,Ve=t(this,e.x-r,0);switch(this.volumeStyle){case 1:{const je=t(this,e.x+r,Math.abs(e.buyVolume-e.sellVolume));return OxyRect$1.fromScreenPoints(Ve,je)}case 3:{const je=t(this,e.x+r,e.buyVolume);return OxyRect$1.fromScreenPoints(Ve,je)}case 2:{const je=t(this,e.x+r,e.buyVolume),ze=t(this,e.x+r,e.sellVolume),Xe=t(this,e.x-r,e.buyVolume+e.sellVolume);return e.buyVolume>e.sellVolume?OxyRect$1.fromScreenPoints(ze,Xe):OxyRect$1.fromScreenPoints(Ve,je)}}throw new Error("Invalid VolumeStyle")}getSellBarRect(e){const t=PlotElementExtensions$1.transform,r=(this.barWidth>0?this.barWidth:this.minDx*.8)*.5,Ve=t(this,e.x-r,0);switch(this.volumeStyle){case 1:{const je=t(this,e.x+r,Math.abs(e.buyVolume-e.sellVolume));return OxyRect$1.fromScreenPoints(Ve,je)}case 3:{const je=t(this,e.x+r,-e.sellVolume);return OxyRect$1.fromScreenPoints(Ve,je)}case 2:{const je=t(this,e.x+r,e.buyVolume),ze=t(this,e.x+r,e.sellVolume),Xe=t(this,e.x-r,e.buyVolume+e.sellVolume);return e.buyVolume>e.sellVolume?OxyRect$1.fromScreenPoints(Ve,ze):OxyRect$1.fromScreenPoints(je,Xe)}}throw new Error("Invalid VolumeStyle")}async renderLegend(e,t){const r=(t.left+t.right)/2,Ve=t.top+(t.bottom-t.top)*.7,je=t.top+(t.bottom-t.top)*.3,ze=LineStyleHelper$1.getDashArray(LineStyle$1.Solid),Xe=this.getSelectableFillColor(this.positiveColor),We=this.getSelectableColor(OxyColorExtensions$1.changeIntensity(this.positiveColor,this.strokeIntensity)),qe=t.width*.75;this.strokeThickness>0&&(await e.drawLine([newScreenPoint$1(r,t.top),newScreenPoint$1(r,t.bottom)],We,this.strokeThickness,this.edgeRenderingMode,ze,LineJoin$1.Miter),await e.drawRectangle(new OxyRect$1(r-qe*.5,je,qe,Ve-je),Xe,We,this.strokeThickness,this.edgeRenderingMode))}getNearestPoint(e,t){if(!this.xAxis||!this.yAxis||t||!this.data||this.data.length===0)return;const r=this.data.length,Ve=this.inverseTransform(e),je=Ve.x;if(je>this.data[r-1].x+this.minDx||je<this.data[0].x-this.minDx)return;const ze=OhlcvItem$1.findIndex(this.data,je,this.winIndex),Xe=ze+1<this.data.length?ze+1:ze,We=Qe=>{const ti=Qe.x-Ve.x;return ti*ti},qe=We(this.data[ze])<=We(this.data[Xe])?ze:Xe,Ke=this.data[qe];let Ze=!1;if(this.getBuyBarRect(Ke).containsPoint(e)&&(Ze=!0),Ze||this.getSellBarRect(Ke).containsPoint(e)&&(Ze=!0),Ze)return;const Je=this.formatDefaultTrackerString(Ke,newDataPoint$1(Ke.x,0));return new TrackerHitResult$1({series:this,dataPoint:Ve,position:e,item:Ke,index:qe,text:Je})}updateData(){if(super.updateData(),this.winIndex=0,!this.data||this.data.length===0)return;const e=this.data,t=e.length;this.minDx=Number_MAX_VALUE$1;for(let r=1;r<t;r++)if(this.minDx=Math.min(this.minDx,e[r].x-e[r-1].x),this.minDx<0)throw new Error("bars are out of order, must be sequential in x");t<=1&&(this.minDx=1)}updateAxisMaxMin(){this.xAxis.include(this.minX),this.xAxis.include(this.maxX);let e=this.minimumVolume,t=this.maximumVolume;const r=this.averageVolume,Ve=(t-e)/4;switch(this.volumeStyle){case 3:e=-(r+Ve/2),t=+(r+Ve/2);break;case 2:t=r+Ve,e=0;break;default:t=r+Ve/2,e=0;break}e=Math.max(this.yAxis.filterMinValue,e),t=Math.min(this.yAxis.filterMaxValue,t),this.yAxis.include(e),this.yAxis.include(t)}updateMaxMin(){super.updateMaxMin();let e=Number_MAX_VALUE$1,t=Number_MIN_VALUE$1,r=0,Ve=Number_MIN_VALUE$1,je=0,ze=0;for(const Xe of this.items)Xe.isValid()&&(Xe.sellVolume>0&&je++,Xe.buyVolume>0&&je++,ze+=Xe.buyVolume,ze+=Xe.sellVolume,e=Math.min(e,Xe.x),t=Math.max(t,Xe.x),r=Math.min(r,-Xe.sellVolume),Ve=Math.max(Ve,+Xe.buyVolume));this.minX=Math.max(this.xAxis.filterMinValue,e),this.maxX=Math.min(this.xAxis.filterMaxValue,t),this.minimumVolume=r,this.maximumVolume=Ve,this.averageVolume=ze/je}};D$2(Oe$1,"DefaultTrackerStringFormatter",$e=>{const e=$e.item;return`Time: ${$e.xValue}
Buy Volume: ${e.buyVolume}
Sell Volume: ${e.sellVolume}`});let VolumeSeries=Oe$1;class CandleStickSeries extends HighLowSeries{constructor(e){super(),D$2(this,"minDx",0),D$2(this,"increasingColor"),D$2(this,"decreasingColor"),D$2(this,"candleWidth"),this.increasingColor=OxyColors$1.DarkGreen,this.decreasingColor=OxyColors$1.Red,this.candleWidth=0,e&&Object.assign(this,removeUndef$1(e))}findByX(e,t=-1){return t<0&&(t=this.windowStartIndex),this.findWindowStartIndex(this.items,r=>r.x,e,t)}async render(e){const t=this.items.length,r=this.items;if(t===0||this.strokeThickness<=0||this.lineStyle===LineStyle$1.None)return;this.verifyAxes();const Ve=LineStyleHelper$1.getDashArray(this.lineStyle),je=.5*(this.candleWidth>0?this.candleWidth:this.minDx*.8),ze=this.getSelectableFillColor(this.increasingColor),Xe=this.getSelectableFillColor(this.decreasingColor),We=this.getSelectableColor(OxyColorExtensions$1.changeIntensity(this.increasingColor,.7)),qe=this.getSelectableColor(OxyColorExtensions$1.changeIntensity(this.decreasingColor,.7)),Ke=this.xAxis.clipMinimum,Ze=this.xAxis.clipMaximum;this.windowStartIndex=this.updateWindowStartIndex(r,Qe=>Qe.x,Ke,this.windowStartIndex);const Je=PlotElementExtensions$1.transform;for(let Qe=this.windowStartIndex;Qe<t;Qe++){const ti=r[Qe];if(ti.x>Ze)return;if(!this.isValidItem(ti,this.xAxis,this.yAxis))continue;const ni=ti.close>ti.open?ze:Xe,ri=ti.close>ti.open?We:qe,ii=Je(this,ti.x,ti.high),ei=Je(this,ti.x,ti.low),St=Je(this,ti.x,Math.max(ti.open,ti.close)),oi=Je(this,ti.x,Math.min(ti.open,ti.close));this.strokeThickness>0&&(await e.drawLine([ii,St],ri,this.strokeThickness,this.edgeRenderingMode,Ve,this.lineJoin),await e.drawLine([oi,ei],ri,this.strokeThickness,this.edgeRenderingMode,Ve,this.lineJoin));const si=Je(this,ti.x-je,ti.open),ai=Je(this,ti.x+je,ti.close),ui=OxyRect$1.fromScreenPoints(si,ai);await e.drawRectangle(ui,ni,ri,this.strokeThickness,this.edgeRenderingMode)}}async renderLegend(e,t){const r=(t.left+t.right)/2,Ve=t.top+(t.bottom-t.top)*.7,je=t.top+(t.bottom-t.top)*.3,ze=LineStyleHelper$1.getDashArray(this.lineStyle),Xe=t.width*.75;this.strokeThickness>0&&this.lineStyle!==LineStyle$1.None&&await e.drawLine([newScreenPoint$1(r,t.top),newScreenPoint$1(r,t.bottom)],this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode,ze,LineJoin$1.Miter),await e.drawRectangle(new OxyRect$1(r-Xe*.5,je,Xe,Ve-je),this.getSelectableFillColor(this.increasingColor),this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode)}getNearestPoint(e,t){if(!this.xAxis||!this.yAxis||t||this.items.length===0)return;const r=this.items.length,Ve=this.inverseTransform(e),je=Ve.x;if(je>this.items[r-1].x+this.minDx||je<this.items[0].x-this.minDx)return;const ze=this.findWindowStartIndex(this.items,Qe=>Qe.x,je,this.windowStartIndex),Xe=ze+1<this.items.length?ze+1:ze,We=Qe=>{const ti=Qe.x-Ve.x,ni=Qe.open-Ve.y,ri=Qe.high-Ve.y,ii=Qe.low-Ve.y,ei=Qe.close-Ve.y,St=ti*ti+ni*ni,oi=ti*ti+ri*ri,si=ti*ti+ii*ii,ai=ti*ti+ei*ei;return Math.min(St,Math.min(oi,Math.min(si,ai)))},qe=We(this.items[ze])<=We(this.items[Xe])?ze:Xe,Ke=this.items[qe],Ze=newDataPoint$1(Ke.x,Ke.close),Je=this.formatHighLowItemTrackerString(Ke);return new TrackerHitResult$1({series:this,dataPoint:Ze,position:this.transform(Ze),item:Ke,index:qe,text:Je})}updateData(){super.updateData();const e=this.items,t=e.length;this.minDx=Number_MAX_VALUE$1;for(let r=1;r<t;r++)if(this.minDx=Math.min(this.minDx,e[r].x-e[r-1].x),this.minDx<0)throw new Error("bars are out of order, must be sequential in x");t<=1&&(this.minDx=1)}}class FunctionSeries extends LineSeries{constructor(e){if(super(e),e.title&&(this.title=e.title),e.f){e.dx?this.f1(e.f,e.x0,e.x1,e.dx):e.n&&this.f2(e.f,e.x0,e.x1,e.n);return}e.fx&&e.fy&&(e.dt?this.f3(e.fx,e.fy,e.t0,e.t1,e.dt):e.n&&this.f4(e.fx,e.fy,e.t0,e.t1,e.n))}static fromDx(e,t,r,Ve,je){return new FunctionSeries({f:e,x0:t,x1:r,dx:Ve,title:je})}static fromN(e,t,r,Ve,je){return assertInteger(Ve,"n"),new FunctionSeries({f:e,x0:t,x1:r,n:Ve,title:je})}static fromFxFyDt(e,t,r,Ve,je,ze){return new FunctionSeries({fx:e,fy:t,t0:r,t1:Ve,dt:je,title:ze})}static fromFxFyN(e,t,r,Ve,je,ze){return assertInteger(je,"n"),new FunctionSeries({fx:e,fy:t,t0:r,t1:Ve,n:je,title:ze})}f1(e,t,r,Ve){for(let je=t;je<=r+Ve*.5;je+=Ve)this.points.push(newDataPoint$1(je,e(je)))}f2(e,t,r,Ve){this.f1(e,t,r,(r-t)/(Ve-1))}f3(e,t,r,Ve,je){for(let ze=r;ze<=Ve+je*.5;ze+=je)this.points.push(newDataPoint$1(e(ze),t(ze)))}f4(e,t,r,Ve,je){this.f3(e,t,r,Ve,(Ve-r)/(je-1))}}let HistogramItem$1=class{constructor(e,t,r,Ve,je=OxyColors$1.Automatic){D$2(this,"rangeStart"),D$2(this,"rangeEnd"),D$2(this,"area"),D$2(this,"count"),D$2(this,"color"),this.rangeStart=e,this.rangeEnd=t,this.area=r,this.count=Ve,this.color=je}get rangeCenter(){return this.rangeStart+(this.rangeEnd-this.rangeStart)/2}get width(){return this.rangeEnd-this.rangeStart}get height(){return this.area/this.width}get value(){return this.height}contains(e){return this.height<0?e.x<=this.rangeEnd&&e.x>=this.rangeStart&&e.y>=this.height&&e.y<=0||e.x<=this.rangeStart&&e.x>=this.rangeEnd&&e.y>=this.height&&e.y<=0:e.x<=this.rangeEnd&&e.x>=this.rangeStart&&e.y<=this.height&&e.y>=0||e.x<=this.rangeStart&&e.x>=this.rangeEnd&&e.y<=this.height&&e.y>=0}toString(){return`${this.rangeStart} ${this.rangeEnd} ${this.area} ${this.count}`}};const Pe$1=class Th extends XYAxisSeries$1{constructor(e){super(e),D$2(this,"defaultFillColor",OxyColors$1.Undefined),D$2(this,"_actualItems"),D$2(this,"baseValue"),D$2(this,"baseLine"),D$2(this,"actualBaseLine"),D$2(this,"fillColor"),D$2(this,"strokeColor"),D$2(this,"negativeFillColor"),D$2(this,"negativeStrokeColor"),D$2(this,"strokeThickness"),D$2(this,"minValue",0),D$2(this,"maxValue",0),D$2(this,"labelStringFormatter"),D$2(this,"trackerStringFormatter"),D$2(this,"labelMargin",0),D$2(this,"labelPlacement"),D$2(this,"colorMapping"),D$2(this,"mapping"),D$2(this,"items",[]),this.fillColor=OxyColors$1.Automatic,this.strokeColor=OxyColors$1.Black,this.strokeThickness=0,this.trackerStringFormatter=Th.defaultTrackerStringFormatter,this.labelPlacement=LabelPlacement$1.Outside,this.colorMapping=this.getDefaultColor,this.negativeFillColor=OxyColors$1.Undefined,this.negativeStrokeColor=OxyColors$1.Undefined,this.baseValue=0,this.baseLine=NaN,this.actualBaseLine=NaN,e&&Object.assign(this,removeUndef$1(e))}get actualFillColor(){return this.fillColor.getActualColor(this.defaultFillColor)}get actualItems(){return this.itemsSource?this._actualItems:this.items}async render(e){this.verifyAxes(),await this.renderBins(e,this.actualItems)}getNearestPoint(e,t){const r=this.inverseTransform(e);if(this.isPointInRange(r)&&this.actualItems)for(let Ve=0;Ve<this.actualItems.length;Ve++){const je=this.actualItems[Ve];if(je.contains(r)){const ze=this.getItem(Ve);return new TrackerHitResult$1({series:this,dataPoint:r,position:e,item:ze,index:Ve,text:this.formatDefaultTrackerString(je,r)})}}}async renderLegend(e,t){const r=(t.left+t.right)/2,Ve=(t.top+t.bottom)/2,je=(t.bottom-t.top)*.8,ze=je,Xe=RenderingExtensions$1.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode$1.PreferSharpness);await e.drawRectangle(new OxyRect$1(r-.5*ze,Ve-.5*je,ze,je),this.getSelectableColor(this.actualFillColor),this.strokeColor,this.strokeThickness,Xe)}updateData(){this.itemsSource&&this.updateActualItems()}setDefaultValues(){this.fillColor.isAutomatic()&&(this.defaultFillColor=this.plotModel.getDefaultColor())}updateAxisMaxMin(){super.updateAxisMaxMin(),this.computeActualBaseLine(),this.yAxis.include(this.actualBaseLine)}computeActualBaseLine(){if(isNaN(this.baseLine))if(this.yAxis.isLogarithmic()){const e=this.actualItems?minValueOfArray$1(this.actualItems.map(t=>t.value).filter(t=>t>0),1):1;this.actualBaseLine=Math.max(e/10,this.baseValue)}else this.actualBaseLine=0;else this.actualBaseLine=this.baseLine}updateMaxMinXY(){if(this.actualItems&&this.actualItems.length>0){const e=this.actualItems.map(Ve=>Ve.rangeStart),t=this.actualItems.map(Ve=>Ve.rangeEnd),r=this.actualItems.map(Ve=>Ve.height);this.minX=Math.min(minValueOfArray$1(e),minValueOfArray$1(t)),this.maxX=Math.max(maxValueOfArray$1(e),maxValueOfArray$1(t)),this.yAxis.isLogarithmic()?(this.minY=Math.max(minValueOfArray$1(r),Number.EPSILON),this.maxY=maxValueOfArray$1(r,Number.EPSILON)):(this.minY=minValueOfArray$1(r,0),this.maxY=maxValueOfArray$1(r,0))}}updateMaxMin(){super.updateMaxMin();const e=[];if(pushMany$1(e,this.actualItems.map(t=>newDataPoint$1(t.rangeStart,0))),pushMany$1(e,this.actualItems.map(t=>newDataPoint$1(t.rangeEnd,t.height))),this.internalUpdateMaxMin(e),this.updateMaxMinXY(),this.actualItems&&this.actualItems.length>0){const t=this.actualItems.map(r=>r.value);this.minValue=minValueOfArray$1(t),this.maxValue=maxValueOfArray$1(t)}}getItem(e){const t=this.actualItems;return!this.itemsSource&&t&&e<t.length?t[e]:super.getItem(e)}async renderBins(e,t){const r=this.yAxis,Ve=r.isLogarithmic()&&!r.isValidValue(this.baseValue);for(const je of t){if(r.isLogarithmic()&&!r.isValidValue(je.height))continue;const ze=this.getItemFillColor(je),Xe=this.getItemStrokeColor(je),We=this.transform(newDataPoint$1(je.rangeStart,Ve?r.clipMinimum:this.baseValue)),qe=this.transform(newDataPoint$1(je.rangeEnd,je.height)),Ke=OxyRect$1.fromScreenPoints(We,qe),Ze=RenderingExtensions$1.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode$1.PreferSharpness);await e.drawRectangle(Ke,ze,Xe,this.strokeThickness,Ze),this.labelStringFormatter&&await this.renderLabel(e,Ke,je)}}getItemFillColor(e){return e.color.isAutomatic()?this.colorMapping(e):e.color}getItemStrokeColor(e){return this.negativeStrokeColor.isUndefined()||e.height>=this.baseValue?this.strokeColor:this.negativeStrokeColor}async renderLabel(e,t,r){const Ve=this.labelStringFormatter(r,[r.value,r.rangeStart,r.rangeEnd,r.area,r.count]);let je,ze,Xe=HorizontalAlignment$1.Center;const We=(r.rangeStart+r.rangeEnd)/2,qe=Math.sign(r.value);let Ke=qe*this.labelMargin;switch(this.labelPlacement){case LabelPlacement$1.Inside:je=newDataPoint$1(We,r.value),ze=-qe;break;case LabelPlacement$1.Middle:{const ti=this.inverseTransform(t.topLeft),ni=this.inverseTransform(t.bottomRight);je=newDataPoint$1(We,(ti.y+ni.y)/2),ze=VerticalAlignment$1.Middle;break}case LabelPlacement$1.Base:je=newDataPoint$1(We,0),Ke=-Ke,ze=qe;break;case LabelPlacement$1.Outside:je=newDataPoint$1(We,r.value),Ke=-Ke,ze=qe;break;default:throw new Error("Invalid label placement")}const Ze=PlotElementExtensions$1.orientateAlignment(this,Xe,ze);Xe=Ze[0],ze=Ze[1];const Je=PlotElementExtensions$1.orientateVector(this,new ScreenVector$1(0,Ke)),Qe=screenPointPlus$1(this.transform(je),Je);await e.drawText(Qe,Ve,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,Xe,ze)}isPointInRange(e){return this.updateMaxMinXY(),e.x>=this.minX&&e.x<=this.maxX&&e.y>=this.minY&&e.y<=this.maxY}clearActualItems(){this._actualItems&&(this._actualItems.length=0)}getDefaultColor(e){return this.negativeFillColor.isUndefined()||e.value>=this.baseValue?this.actualFillColor:this.negativeFillColor}updateActualItems(){if(this.mapping){if(!this.itemsSource)throw new Error("itemsSource is required when using the Mapping property");this.clearActualItems(),this._actualItems=this._actualItems||[];for(const e of this.itemsSource)this._actualItems.push(this.mapping(e));return}this.clearActualItems(),this._actualItems=this._actualItems||[];for(const e of this.itemsSource||[])if(e)throw e instanceof HistogramItem$1&&this._actualItems.push(e),new Error("invalid item type")}};D$2(Pe$1,"defaultTrackerStringFormatter",$e=>`Start: ${$e.item.rangeStart}
End: ${$e.item.rangeEnd}
Value: ${$e.item.value}
Area: ${$e.item.area}
Count: ${$e.item.count}`);let HistogramSeries=Pe$1;function isScatterPointProvider$1($e){return $e&&typeof $e.getScatterPoint=="function"}const ke$1=class Ih extends XYAxisSeries$1{constructor(e){super(e),D$2(this,"_points",[]),D$2(this,"defaultMarkerFillColor",OxyColors$1.Undefined),D$2(this,"markerFill",OxyColors$1.Automatic),D$2(this,"markerOutline"),D$2(this,"markerSize",5),D$2(this,"markerType",MarkerType$1.Square),D$2(this,"markerStroke",OxyColors$1.Automatic),D$2(this,"markerStrokeThickness",1),D$2(this,"labelStringFormatter"),D$2(this,"labelMargin",6),D$2(this,"binSize",0),D$2(this,"colorAxisKey"),D$2(this,"dataFieldX"),D$2(this,"dataFieldY"),D$2(this,"dataFieldSize"),D$2(this,"dataFieldTag"),D$2(this,"dataFieldValue"),D$2(this,"mapping"),D$2(this,"colorAxis"),D$2(this,"itemsSourcePoints"),D$2(this,"maxValue",0),D$2(this,"minValue",0),this.markerFill=OxyColors$1.Automatic,this.markerSize=5,this.markerType=MarkerType$1.Square,this.markerStroke=OxyColors$1.Automatic,this.markerStrokeThickness=1,this.labelMargin=6,e&&Object.assign(this,removeUndef$1(e))}get actualMarkerFillColor(){return this.markerFill.getActualColor(this.defaultMarkerFillColor)}get points(){return this._points}get actualPoints(){return this.itemsSource?this.itemsSourcePoints:this.points}getNearestPoint(e,t){if(!this.xAxis||!this.yAxis||t)return;const r=this.actualPoints;if(!r||r.length===0)return;let Ve,je=Number_MAX_VALUE$1,ze=0;const Xe=this.colorAxis?this.colorAxis.title:Ih.defaultColorAxisTitle,We=this.xAxis.clipMinimum,qe=this.xAxis.clipMaximum,Ke=this.yAxis.clipMinimum,Ze=this.yAxis.clipMaximum;for(const Je of r){if(Je.x<We||Je.x>qe||Je.y<Ke||Je.y>Ze){ze++;continue}const Qe=this.transform(newDataPoint$1(Je.x,Je.y)),ti=Qe.x-e.x,ni=Qe.y-e.y,ri=ti*ti+ni*ni;if(ri<je){const ii=this.getItem(ze)??Je;let ei;!isNullOrUndef$1(Je.value)&&!isNaN(Je.value)&&!isInfinity$1(Je.value)&&(ei=Je.value);const St=newDataPoint$1(Je.x,Je.y);Ve=new TrackerHitResult$1({series:this,dataPoint:St,position:Qe,item:ii,index:ze,text:this.formatDefaultTrackerString(ii,St,oi=>{oi.colorAxisTitle=Xe,oi.zValue=ei})}),je=ri}ze++}return Ve}async render(e){const t=this.actualPoints;if(!t||t.length===0)return;const r=this.getClippingRect(),Ve=t.length,je=[],ze=[],Xe=[],We=[],qe=new Map,Ke=new Map,Ze=this.isSelected();for(let Qe=0;Qe<Ve;Qe++){const ti=newDataPoint$1(t[Qe].x,t[Qe].y);if(!this.isValidPoint(ti))continue;let ni=NaN,ri=NaN;const ii=t[Qe];ii&&(isNullOrUndef$1(ii.size)||(ni=ii.size),isNullOrUndef$1(ii.value)||(ri=ii.value)),isNaN(ni)&&(ni=this.markerSize);const ei=this.transform(newDataPoint$1(ti.x,ti.y));if(Ze&&this.isItemSelected(Qe)){Xe.push(ei),We.push(ni);continue}if(this.colorAxis){if(isNaN(ri))continue;const St=this.colorAxis.getPaletteIndex(ri);qe.has(St)||(qe.set(St,[]),Ke.set(St,[])),qe.get(St).push(ei),Ke.get(St).push(ni)}else je.push(ei),ze.push(ni)}const Je=this.transform(newDataPoint$1(this.minX,this.maxY));if(this.colorAxis){const Qe=this.markerType===MarkerType$1.Plus||this.markerType===MarkerType$1.Star||this.markerType===MarkerType$1.Cross;for(const[ti,ni]of qe){const ri=this.colorAxis.getColor(ti);await RenderingExtensions$1.drawMarkers(e,ni,this.markerType,this.markerOutline,Ke.get(ti),this.markerFill.getActualColor(ri),Qe?ri:this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,this.binSize,Je)}}await RenderingExtensions$1.drawMarkers(e,je,this.markerType,this.markerOutline,ze,this.actualMarkerFillColor,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,this.binSize,Je),await RenderingExtensions$1.drawMarkers(e,Xe,this.markerType,this.markerOutline,We,this.plotModel.selectionColor,this.plotModel.selectionColor,this.markerStrokeThickness,this.edgeRenderingMode,this.binSize,Je),this.labelStringFormatter&&await this.renderPointLabels(e,r)}async renderLegend(e,t){const r=(t.left+t.right)/2,Ve=(t.top+t.bottom)/2,je=newScreenPoint$1(r,Ve);await RenderingExtensions$1.drawMarker(e,je,this.markerType,this.markerOutline,this.markerSize,this.isSelected()?this.plotModel.selectionColor:this.actualMarkerFillColor,this.isSelected()?this.plotModel.selectionColor:this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}setDefaultValues(){this.markerFill.isAutomatic()&&(this.defaultMarkerFillColor=this.plotModel.getDefaultColor())}updateData(){this.itemsSource&&this.updateItemsSourcePoints()}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMinValue(this.actualPoints)}async renderPointLabels(e,t){const r=this.actualPoints;if(!r||r.length===0)return;let Ve=-1;for(const je of r){Ve++;const ze=newDataPoint$1(je.x,je.y);if(!this.isValidPoint(ze))continue;const Xe=screenPointPlus$1(this.transform(ze),new ScreenVector$1(0,-this.labelMargin));if(!t.containsPoint(Xe))continue;const We=this.getItem(Ve),qe=this.labelStringFormatter(We,[je.x,je.y]);await e.drawText(Xe,qe,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,HorizontalAlignment$1.Center,VerticalAlignment$1.Bottom)}}internalUpdateMaxMinValue(e){if(!e||e.length===0)return;let t=Number_MAX_VALUE$1,r=Number_MAX_VALUE$1,Ve=Number_MAX_VALUE$1,je=Number_MIN_VALUE$1,ze=Number_MIN_VALUE$1,Xe=Number_MIN_VALUE$1;isNaN(t)&&(t=Number_MAX_VALUE$1),isNaN(r)&&(r=Number_MAX_VALUE$1),isNaN(je)&&(je=Number_MIN_VALUE$1),isNaN(ze)&&(ze=Number_MIN_VALUE$1),isNaN(Ve)&&(Ve=Number_MIN_VALUE$1),isNaN(Xe)&&(Xe=Number_MIN_VALUE$1);for(const We of e){const qe=We.x,Ke=We.y;if(qe!==qe||Ke!==Ke)continue;const Ze=isNullOrUndef$1(We.value)?Number.NaN:We.value;qe<t&&(t=qe),qe>je&&(je=qe),Ke<r&&(r=Ke),Ke>ze&&(ze=Ke),Ze<Ve&&(Ve=Ze),Ze>Xe&&(Xe=Ze)}t<Number_MAX_VALUE$1&&(this.minX=t),r<Number_MAX_VALUE$1&&(this.minY=r),je>Number_MIN_VALUE$1&&(this.maxX=je),ze>Number_MIN_VALUE$1&&(this.maxY=ze),Ve<Number_MAX_VALUE$1&&(this.minValue=Ve),Xe>Number_MIN_VALUE$1&&(this.maxValue=Xe),this.colorAxis instanceof Axis$1&&(this.colorAxis.include(this.minValue),this.colorAxis.include(this.maxValue))}clearItemsSourcePoints(){this.itemsSourcePoints&&(this.itemsSourcePoints.length=0)}updateItemsSourcePoints(){var e,t,r;if(this.clearItemsSourcePoints(),this.mapping){if(!this.itemsSource)throw new Error("itemsSource is required when mapping is set");this.itemsSourcePoints=this.itemsSourcePoints||[];for(const Ve of this.itemsSource)this.itemsSourcePoints.push(this.mapping(Ve));return}this.itemsSourcePoints=this.itemsSourcePoints||[];for(const Ve of this.itemsSource||[])if(!isNullOrUndef$1(Ve)){if(!isUndef$1(Ve.x)&&!isUndef$1(Ve.y)){(e=this.itemsSourcePoints)==null||e.push(Ve);continue}if(this.dataFieldX&&this.dataFieldY){const je=this.updateFromDataFields(Ve);if(!je)continue;(t=this.itemsSourcePoints)==null||t.push(je);continue}if(isScatterPointProvider$1(Ve)){const je=Ve.getScatterPoint();if(!je)continue;(r=this.itemsSourcePoints)==null||r.push(je);continue}throw new Error("Invalid item type")}}updateFromDataFields(e){const t=getOrDefault$1(e,this.dataFieldX,Number.NaN),r=getOrDefault$1(e,this.dataFieldY,Number.NaN);return{x:t,y:r,size:getOrDefault$1(e,this.dataFieldSize,Number.NaN),value:getOrDefault$1(e,this.dataFieldValue,Number.NaN),tag:getOrDefault$1(e,this.dataFieldTag,void 0)}}};D$2(ke$1,"defaultColorAxisTitle","Value");let ScatterSeries=ke$1;const ue$2=class fu extends XYAxisSeries$1{constructor(e){super(e),D$2(this,"_actualItems"),D$2(this,"defaultColor",OxyColors$1.Undefined),D$2(this,"defaultLineStyle",LineStyle$1.Solid),D$2(this,"color"),D$2(this,"minValue",0),D$2(this,"maxValue",0),D$2(this,"arrowHeadLength"),D$2(this,"arrowHeadWidth"),D$2(this,"arrowHeadPosition"),D$2(this,"lineJoin"),D$2(this,"lineStyle"),D$2(this,"strokeThickness"),D$2(this,"minimumSegmentLength"),D$2(this,"arrowVeeness"),D$2(this,"arrowStartPosition"),D$2(this,"arrowLabelPosition"),D$2(this,"colorAxis"),D$2(this,"colorAxisKey"),D$2(this,"labelStringFormatter"),D$2(this,"trackerStringFormatter"),D$2(this,"labelFontSize"),D$2(this,"canTrackerInterpolatePoints",!1),D$2(this,"mapping"),D$2(this,"items",[]),this.color=OxyColors$1.Automatic,this.minimumSegmentLength=2,this.strokeThickness=2,this.lineStyle=LineStyle$1.Solid,this.lineJoin=LineJoin$1.Miter,this.arrowHeadLength=3,this.arrowHeadWidth=2,this.arrowHeadPosition=1,this.arrowVeeness=0,this.arrowStartPosition=0,this.arrowLabelPosition=0,this.trackerStringFormatter=fu.DefaultTrackerStringFormatter,this.labelStringFormatter=t=>t.value.toFixed(2),this.labelFontSize=0,e&&Object.assign(this,e)}get actualLineStyle(){return this.lineStyle!=LineStyle$1.Automatic?this.lineStyle:this.defaultLineStyle}get ActualItems(){return this.itemsSource?this._actualItems:this.items}async render(e){const t=this.ActualItems;this.verifyAxes(),await this.renderVectors(e,t)}updateData(){this.itemsSource&&this.updateActualItems()}clearActualItems(){this._actualItems&&(this._actualItems.length=0)}updateActualItems(){if(!this.itemsSource)return;this.clearActualItems(),this._actualItems=this._actualItems||[];let e=this.itemsSource;this.mapping&&(e=this.itemsSource.map(t=>this.mapping(t))),this._actualItems.push(...e)}async renderVectors(e,t){let r=0;for(const Ve of t){let je;this.colorAxis&&(this.color.isUndefined()||this.color.isAutomatic())?je=ColorAxisExtensions$1.getColor(this.colorAxis,Ve.value):je=this.color.getActualColor(this.defaultColor),je=this.getSelectableColor(je,r);const ze=Ve.direction,Xe=dataPointMinusVector$1(Ve.origin,ze.times(this.arrowStartPosition)),We=dataPointPlus$1(Xe,ze.times(this.arrowLabelPosition));await this.drawVector(e,Xe,ze,je),this.labelFontSize>0&&this.labelStringFormatter&&await e.drawText(this.transform(We),this.labelStringFormatter(Ve),this.actualTextColor,this.actualFont,this.labelFontSize,this.actualFontWeight,0,HorizontalAlignment$1.Center,VerticalAlignment$1.Middle),r++}}async drawVector(e,t,r,Ve){const je=[t,dataPointPlus$1(t,r)],ze=[];RenderingExtensions$1.transformAndInterpolateLines(this,je,ze,this.minimumSegmentLength),ze.length>=2&&await this.drawArrow(e,ze,screenPointMinus$1(ze[ze.length-1],ze[ze.length-2]),Ve)}async drawArrow(e,t,r,Ve){const je=r;je.normalize();const ze=new ScreenVector$1(je.y,-je.x),Xe=this.arrowHeadLength*this.strokeThickness,We=this.arrowHeadWidth*this.strokeThickness,qe=screenPointMinusVector$1(t[t.length-1],je.times(Xe*this.arrowHeadPosition)),Ke=je.times(this.arrowVeeness*this.strokeThickness),Ze=screenPointPlus$1(qe,je.times(Xe)),Je=screenPointMinusVector$1(screenPointPlus$1(qe,ze.times(We)),Ke),Qe=screenPointMinusVector$1(screenPointMinusVector$1(qe,ze.times(We)),Ke),ti=this.actualLineStyle,ni=LineStyleHelper$1.getDashArray(ti);if(this.arrowHeadPosition>0&&this.arrowHeadPosition<=1){const ri=Xe*this.arrowHeadPosition*Xe*this.arrowHeadPosition;for(let ii=t.length-1;ii>=0;ii--)screenPointDistanceToSquared$1(t[ii],Ze)<=ri&&t.splice(ii,1);t.length>0&&t.push(qe)}this.strokeThickness>0&&ti!==LineStyle$1.None&&(await e.drawLine(t,Ve,this.strokeThickness,this.edgeRenderingMode,ni,this.lineJoin),await e.drawPolygon([Qe,Ze,Je,qe],Ve,OxyColors$1.Undefined,0,this.edgeRenderingMode))}getNearestPoint(e,t){const r=this.colorAxis,Ve=(r==null?void 0:r.title)??fu.DefaultColorAxisTitle;if(!(this.ActualItems&&this.ActualItems.length>0))return;const je=argMin$1(this.ActualItems,We=>screenPointDistanceToSquared$1(this.transform(We.origin),e)),ze=je.origin,Xe=this.formatDefaultTrackerString(je,ze,We=>{const qe=We;qe.colorAxisTitle=Ve,qe.itemDirection=je.direction});return new TrackerHitResult$1({series:this,dataPoint:ze,position:this.transform(ze),item:void 0,index:-1,text:Xe})}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}setDefaultValues(){this.color.isAutomatic()&&this.colorAxis===void 0&&(this.defaultLineStyle=this.plotModel.getDefaultLineStyle(),this.defaultColor=this.plotModel.getDefaultColor())}updateMaxMinXY(){const e=this.ActualItems;e&&e.length>0&&(this.minX=Math.min(...e.map(t=>t.origin.x-t.direction.x*this.arrowStartPosition),...e.map(t=>t.origin.x-t.direction.x*(this.arrowStartPosition-1))),this.maxX=Math.max(...e.map(t=>t.origin.x-t.direction.x*this.arrowStartPosition),...e.map(t=>t.origin.x-t.direction.x*(this.arrowStartPosition-1))),this.minY=Math.min(...e.map(t=>t.origin.y-t.direction.y*this.arrowStartPosition),...e.map(t=>t.origin.y-t.direction.y*(this.arrowStartPosition-1))),this.maxY=Math.max(...e.map(t=>t.origin.y-t.direction.y*this.arrowStartPosition),...e.map(t=>t.origin.y-t.direction.y*(this.arrowStartPosition-1))))}updateMaxMin(){super.updateMaxMin();const e=this.ActualItems,t=[];if(t.push(...e.map(r=>dataPointMinusVector$1(r.origin,r.direction.times(this.arrowStartPosition)))),t.push(...e.map(r=>dataPointPlus$1(r.origin,r.direction.times(1-this.arrowStartPosition)))),this.internalUpdateMaxMin(t),this.updateMaxMinXY(),e&&e.length>0){const r=e.map(Ve=>Ve.value);this.minValue=minValueOfArray$1(r),this.maxValue=maxValueOfArray$1(r)}}updateAxisMaxMin(){if(super.updateAxisMaxMin(),!this.colorAxis)return;const e=this.colorAxis;e.include(this.minValue),e.include(this.maxValue)}};D$2(ue$2,"DefaultTrackerStringFormatter",$e=>`${$e.title}
${$e.xTitle}: ${$e.xValue}
${$e.yTitle}: ${$e.yValue}
${$e.colorAxisTitle}: ${$e.item.value}
${$e.xTitle}: ${$e.itemDirection.x}
${$e.yTitle}: ${$e.itemDirection.y}`),D$2(ue$2,"DefaultColorAxisTitle","Value");let VectorSeries=ue$2;const argMin$1=($e,e)=>{if(!$e)throw new Error("Sequence must be defined.");if(!e)throw new Error("Projection must be defined.");let t,r,Ve=!0;for(const je of $e){const ze=e(je);(Ve||ze<r)&&(t=je,r=ze,Ve=!1)}if(Ve)throw new Error("Sequence must be non-empty.");return t};let DataRange$1=class{constructor(e,t){if(D$2(this,"_minimum"),D$2(this,"_maximum"),D$2(this,"_isDefined"),isNaN(e)||isNaN(t))throw new Error("NaN values are not permitted");if(t<e)throw new Error("max must be larger or equal min");this._minimum=e,this._maximum=t,this._isDefined=!0}get minimum(){return this._minimum}get maximum(){return this._maximum}get range(){return this.maximum-this.minimum}isDefined(){return this._isDefined}contains(e){return e>=this.minimum&&e<=this.maximum}intersectsWith(e){return this.isDefined()&&e.isDefined()&&(this.contains(e.minimum)||this.contains(e.maximum)||e.contains(this.minimum)||e.contains(this.maximum))}toString(){return`[${this.minimum}, ${this.maximum}]`}};const DataRange_Undefined$1=new DataRange$1(0,0);DataRange_Undefined$1._isDefined=!1;Object.freeze(DataRange_Undefined$1);class ExtrapolationLineSeries extends LineSeries{constructor(e){super(e),D$2(this,"defaultExtrapolationColor",OxyColors$1.Black),D$2(this,"defaultExtrapolationLineStyle",LineStyle$1.Dash),D$2(this,"orderedIntervals",[]),D$2(this,"extrapolationColor"),D$2(this,"extrapolationDashes"),D$2(this,"extrapolationLineStyle",LineStyle$1.Solid),D$2(this,"ignoreExtraplotationForScaling",!1),D$2(this,"intervals",[]),this.extrapolationColor=OxyColors$1.Black,this.lineStyle=LineStyle$1.Dot,e&&Object.assign(this,e)}get actualExtrapolationColor(){return this.extrapolationColor.getActualColor(this.defaultExtrapolationColor)}get actualExtrapolationLineStyle(){return this.extrapolationLineStyle!==LineStyle$1.Automatic?this.extrapolationLineStyle:this.defaultExtrapolationLineStyle}get actualExtrapolationDashArray(){return this.extrapolationDashes||LineStyleHelper$1.getDashArray(this.actualExtrapolationLineStyle)}async renderLegend(e,t){const r=(t.left+t.right)/2,Ve=(t.top+t.bottom)/2;let je=[newScreenPoint$1(t.left,Ve),newScreenPoint$1(r,Ve)];await e.drawLine(je,this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode,this.actualDashArray),je=[newScreenPoint$1(r,Ve),newScreenPoint$1(t.right,Ve)],await e.drawLine(je,this.getSelectableColor(this.actualExtrapolationColor),this.strokeThickness,this.edgeRenderingMode,this.actualExtrapolationDashArray);const ze=newScreenPoint$1(r,Ve);await RenderingExtensions$1.drawMarker(e,ze,this.markerType,this.markerOutline,this.markerSize,this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)}updateData(){super.updateData(),this.orderedIntervals=this.mergeOverlaps(this.intervals)}updateMaxMin(){this.ignoreExtraplotationForScaling&&this.orderedIntervals.length>0?(this.minX=this.points.filter(e=>!this.inAnyInterval(e.x)).map(e=>e.x).filter(e=>!isNaN(e)).reduce((e,t)=>Math.min(e,t),Number.NaN),this.minY=this.points.filter(e=>!this.inAnyInterval(e.x)).map(e=>e.y).filter(e=>!isNaN(e)).reduce((e,t)=>Math.min(e,t),Number.NaN),this.maxX=this.points.filter(e=>!this.inAnyInterval(e.x)).map(e=>e.x).filter(e=>!isNaN(e)).reduce((e,t)=>Math.max(e,t),Number.NaN),this.maxY=this.points.filter(e=>!this.inAnyInterval(e.x)).map(e=>e.y).filter(e=>!isNaN(e)).reduce((e,t)=>Math.max(e,t),Number.NaN)):super.updateMaxMin()}async renderLine(e,t){if(this.strokeThickness<=0||this.actualLineStyle===LineStyle$1.None)return;const r=this.getClippingRect(),Ve=this.inverseTransform(r.bottomLeft),je=this.inverseTransform(r.topRight),ze=Math.min(Ve.x,je.x),Xe=Math.max(Ve.x,je.x),We=Math.min(Ve.y,je.y),qe=Math.max(Ve.y,je.y),Ke=this.createClippingRectangles(r,ze,Xe,We,qe);for(const Ze of Ke){const Je=this.inverseTransform(Ze.center).x,Qe=this.orderedIntervals&&this.orderedIntervals.some(ni=>ni.contains(Je)),ti=RenderingExtensions$1.autoResetClip(e,Ze);await this.renderLinePart(e,t,Qe),ti.dispose()}}createClippingRectangles(e,t,r,Ve,je){const ze=[];let Xe=t;const We=PlotElementExtensions$1.transform;if(this.orderedIntervals&&this.orderedIntervals.length>0){const qe=this.flatten(this.orderedIntervals).filter(Ke=>Ke>=t&&Ke<=r);for(const Ke of qe){const Ze=OxyRect$1.fromScreenPoints(We(this,Xe,Ve),We(this,Ke,je));ze.push(Ze.clip(e)),Xe=Ke}}return ze.push(OxyRect$1.fromScreenPoints(We(this,Xe,Ve),We(this,r,je)).clip(e)),ze}flatten(e){const t=[];for(const r of e)t.push(r.minimum),t.push(r.maximum);return t}async renderLinePart(e,t,r){const Ve=r?this.extrapolationColor:this.color,je=r?this.actualExtrapolationDashArray:this.actualDashArray;await RenderingExtensions$1.drawReducedLine(e,t,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(Ve),this.strokeThickness,this.edgeRenderingMode,je,this.lineJoin)}mergeOverlaps(e){const t=[];if(e){const r=e.sort((Ve,je)=>Ve.minimum-je.minimum);for(const Ve of r){const je=t[t.length-1]||DataRange_Undefined$1;Ve.intersectsWith(je)?t[t.length-1]=new DataRange$1(je.minimum,Math.max(je.maximum,Ve.maximum)):t.push(Ve)}}return t}inAnyInterval(e){let t=0,r=this.orderedIntervals.length-1;for(;t<=r;){const Ve=Math.floor((t+r)/2),je=this.compare(this.orderedIntervals[Ve],e);if(je===0)return!0;je<0?r=Ve-1:t=Ve+1}return!1}compare(e,t){return t<e.minimum?-1:t>e.maximum?1:0}}const ge$2=class pu extends XYAxisSeries$1{constructor(e){super(e),D$2(this,"contours"),D$2(this,"segments",[]),D$2(this,"defaultColor",OxyColors$1.Undefined),D$2(this,"color"),D$2(this,"columnCoordinates",[]),D$2(this,"contourLevelStep"),D$2(this,"contourLevels"),D$2(this,"contourColors",[]),D$2(this,"data"),D$2(this,"labelBackground"),D$2(this,"labelStringFormatter"),D$2(this,"trackerStringFormatter"),D$2(this,"labelSpacing"),D$2(this,"multiLabel"),D$2(this,"labelStep"),D$2(this,"lineStyle"),D$2(this,"rowCoordinates",[]),D$2(this,"strokeThickness"),D$2(this,"minimumSegmentLength"),this.contourLevelStep=NaN,this.labelStep=1,this.multiLabel=!1,this.labelSpacing=150,this.labelBackground=OxyColor$1.fromAColor(220,OxyColors$1.White),this.color=OxyColors$1.Automatic,this.strokeThickness=1,this.lineStyle=LineStyle$1.Solid,this.minimumSegmentLength=2,this.trackerStringFormatter=pu.DefaultTrackerFormatString,e&&Object.assign(this,removeUndef$1(e))}get actualColor(){return this.color.getActualColor(this.defaultColor)}calculateContours(){if(!this.data)return;let e=this.contourLevels;this.segments=[];const t=(r,Ve,je,ze,Xe)=>{this.segments.push({startPoint:newDataPoint$1(r,Ve),endPoint:newDataPoint$1(je,ze),contourLevel:Xe})};if(!e){let r=this.data[0][0],Ve=this.data[0][0];for(let ze=0;ze<this.data.length;ze++)for(let Xe=0;Xe<this.data[ze].length;Xe++)r=Math.max(r,this.data[ze][Xe]),Ve=Math.min(Ve,this.data[ze][Xe]);let je=this.contourLevelStep;if(isNaN(je)){const ze=(r-Ve)/20,Xe=Math.round(Math.log(Math.abs(ze))/Math.LN10);je=Math.pow(10,Math.floor(Xe)),this.contourLevelStep=je}r=Math.round(je*Math.ceil(r/je)*1e14)/1e14,Ve=Math.round(je*Math.floor(Ve/je)*1e14)/1e14,e=ArrayBuilder$1.createVectorWithStep(Ve,r,je)}if(Conrec$1.contour(this.data,this.columnCoordinates,this.rowCoordinates,e,t),this.joinContourSegments(),this.contourColors&&this.contourColors.length>0)for(const r of this.contours){let Ve=pu.indexOf(e,r.contourLevel);Ve>=0&&(Ve=Ve%this.contourColors.length,r.color=this.contourColors[Ve])}}getNearestPoint(e,t){let r;const Ve="Z";for(const je of this.contours){const ze=t?this.getNearestInterpolatedPointInternal(je.points,0,e):this.getNearestPointInternal(je.points,0,e);ze&&(!r||screenPointDistanceToSquared$1(r.position,e)>screenPointDistanceToSquared$1(ze.position,e))&&(r=ze,r.text=this.formatDefaultTrackerString(je,ze.dataPoint,Xe=>{const We=Xe;We.zTitle=Ve,We.contourLevel=je.contourLevel}))}return r}async render(e){if(this.contours||this.calculateContours(),this.contours.length===0)return;this.verifyAxes();const t=[],r=LineStyleHelper$1.getDashArray(this.lineStyle);for(const Ve of this.contours){if(this.strokeThickness<=0||this.lineStyle===LineStyle$1.None)continue;const je=Ve.points.map(ti=>this.transform(ti)),ze=Ve.color.getActualColor(this.actualColor);await RenderingExtensions$1.drawReducedLine(e,je,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(ze),this.strokeThickness,this.edgeRenderingMode,r,LineJoin$1.Miter);let Xe=0;for(let ti=1;ti<je.length;ti++)Xe+=screenPointMinus$1(je[ti],je[ti-1]).length;if(je.length<=10||Math.round(Ve.contourLevel/this.contourLevelStep)%this.labelStep!==0)continue;if(!this.multiLabel){this.addContourLabels(Ve,je,t,(je.length-1)*.5);continue}const We=Math.floor(Xe/this.labelSpacing);if(We===0){this.addContourLabels(Ve,je,t,(je.length-1)*.5);continue}let qe=0,Ke=0,Ze=1,Je=0;const Qe=(Xe-(We-1)*this.labelSpacing)/2;for(let ti=0;ti<We;ti++){let ni=0;Ze===1?Je=Qe:Je=Qe+ti*this.labelSpacing;for(let ri=Ze;ri<je.length;ri++){if(qe+=screenPointMinus$1(je[ri],je[ri-1]).length,qe>Je){ni=ri-1+(Je-Ke)/(qe-Ke),Ze=ri+1;break}Ke=qe}this.addContourLabels(Ve,je,t,ni)}}for(const Ve of t)await this.renderLabelBackground(e,Ve);for(const Ve of t)await this.renderLabel(e,Ve)}setDefaultValues(){this.color.isAutomatic()&&(this.lineStyle=this.plotModel.getDefaultLineStyle(),this.defaultColor=this.plotModel.getDefaultColor())}updateMaxMin(){this.minX=Math.min(...this.columnCoordinates),this.maxX=Math.max(...this.columnCoordinates),this.minY=Math.min(...this.rowCoordinates),this.maxY=Math.max(...this.rowCoordinates)}static indexOf(e,t){let r=Number_MAX_VALUE$1,Ve=-1;for(let je=0;je<e.length;je++){const ze=Math.abs(e[je]-t);ze<r&&(r=ze,Ve=je)}return Ve}addContourLabels(e,t,r,Ve){if(t.length<2)return;const je=Math.floor(Ve),ze=je+1,Xe=t[ze].x-t[je].x,We=t[ze].y-t[je].y,qe=t[je].x+Xe*(Ve-je),Ke=t[je].y+We*(Ve-je),Ze=newScreenPoint$1(qe,Ke);let Je=Math.atan2(We,Xe)*180/Math.PI;Je>90&&(Je-=180),Je<-90&&(Je+=180);const Qe=this.labelStringFormatter?this.labelStringFormatter(e.contourLevel,[]):e.contourLevel.toString();r.push({position:Ze,angle:Je,text:Qe})}joinContourSegments(e=1e-10){this.contours=new Array;const t=Ve=>{const je=new SegmentPoint$1(Ve.startPoint),ze=new SegmentPoint$1(Ve.endPoint);return je.partner=ze,ze.partner=je,[je,ze]},r=groupBy$1(this.segments,"contourLevel");for(const Ve of r){const je=Ve[0],ze=Ve[1].flatMap(Xe=>t(Xe)).sort((Xe,We)=>Xe.point.x-We.point.x);for(let Xe=0;Xe<ze.length-1;Xe++){const We=ze[Xe];if(We.join)continue;const qe=Math.sqrt(Math.pow(We.point.x,2)+Math.pow(We.point.y,2))*e,Ke=We.point.x+qe;let Ze=Xe+1,Je;for(;;){if(Ze>=ze.length){Je=void 0;break}if(Je=ze[Ze],Ze++,!Je.join){if(Je.point.x>Ke){Je=void 0;break}if(Math.sqrt(Math.pow(Je.point.x-We.point.x,2)+Math.pow(Je.point.y-We.point.y,2))<qe)break}}Je&&(We.join=Je,Je.join=We)}for(const Xe of ze){if(Xe.processed)continue;let We=Xe;for(;We.join&&(We=We.join.partner,We!==Xe););const qe=new Array(We.point,We.partner.point);for(We.processed=!0,We=We.partner,We.processed=!0;We.join&&(We=We.join,!We.processed);)We.processed=!0,We=We.partner,We.processed=!0,qe.push(We.point);const Ke=new Contour$1(qe,je);this.contours.push(Ke)}}}async renderLabel(e,t){this.actualFontSize>0&&await e.drawText(t.position,t.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,t.angle,HorizontalAlignment$1.Center,VerticalAlignment$1.Middle)}async renderLabelBackground(e,t){if(this.labelBackground.isInvisible())return;const r=e.measureText(t.text,this.actualFont,this.actualFontSize,this.actualFontWeight),Ve=t.angle/180*Math.PI,je=Math.cos(Ve),ze=Math.sin(Ve),Xe=je*.6,We=ze*.6,qe=-ze*.5,Ke=je*.5,Ze=t.position.x,Je=t.position.y,Qe=[newScreenPoint$1(Ze-r.width*Xe-r.height*qe,Je-r.width*We-r.height*Ke),newScreenPoint$1(Ze+r.width*Xe-r.height*qe,Je+r.width*We-r.height*Ke),newScreenPoint$1(Ze+r.width*Xe+r.height*qe,Je+r.width*We+r.height*Ke),newScreenPoint$1(Ze-r.width*Xe+r.height*qe,Je-r.width*We+r.height*Ke)];await e.drawPolygon(Qe,this.labelBackground,OxyColors$1.Undefined,0,this.edgeRenderingMode)}};D$2(ge$2,"DefaultTrackerFormatString",$e=>`${$e.title}
${$e.xTitle}: ${$e.xValue}
${$e.yTitle}: ${$e.yValue}
${$e.zTitle}: ${$e.contourLevel}`);let ContourSeries=ge$2,SegmentPoint$1=class{constructor(e){D$2(this,"partner"),D$2(this,"join"),D$2(this,"processed"),D$2(this,"point"),this.point=e,this.processed=!1}},Contour$1=class{constructor(e,t){D$2(this,"contourLevel"),D$2(this,"points"),D$2(this,"color"),this.points=e,this.contourLevel=t,this.color=OxyColors$1.Automatic}};class StairStepSeries extends LineSeries{constructor(e){super(e),D$2(this,"verticalStrokeThickness"),D$2(this,"verticalLineStyle"),this.verticalStrokeThickness=NaN,this.verticalLineStyle=this.lineStyle,e&&Object.assign(this,removeUndef$1(e))}getNearestPoint(e,t){if(!this.xAxis||!this.yAxis)return;let r=16*16,Ve=this.getNearestPointInternal(this.actualPoints,0,e);if(!t&&Ve&&screenPointDistanceToSquared$1(Ve.position,e)<r)return Ve.text=this.formatDefaultTrackerString(Ve.item,Ve.dataPoint),Ve;Ve=void 0;const je=this.actualPoints.length;for(let ze=0;ze<je;ze++){const Xe=this.actualPoints[ze],We=this.actualPoints[ze+1<je?ze+1:ze],qe=PlotElementExtensions$1.transform(this,Xe.x,Xe.y),Ke=PlotElementExtensions$1.transform(this,We.x,Xe.y),Ze=Ke.x-qe.x,Je=Ke.y-qe.y;let Qe=(e.x-qe.x)*Ze+(e.y-qe.y)*Je,ti=Ze*Ze+Je*Je;if(Ze*Ze+Je*Je<4&&(Qe=0,ti=1),Math.abs(ti)<=0)continue;const ni=Qe/ti;if(ni<0||ni>1)continue;const ri=qe.x+ni*Ze,ii=qe.y+ni*Je,ei=e.x-ri,St=e.y-ii,oi=ei*ei+St*St;if(oi>=r)continue;const si=Xe.x+ni*(We.x-Xe.x),ai=Xe.y,ui=this.getItem(ze),hi=this.formatDefaultTrackerString(ui,newDataPoint$1(si,ai));Ve=new TrackerHitResult$1({series:this,dataPoint:newDataPoint$1(si,ai),position:newScreenPoint$1(ri,ii),item:ui,index:ze,text:hi}),r=oi}return Ve}async render(e){if(!this.actualPoints||this.actualPoints.length===0)return;this.verifyAxes();const t=this.actualDashArray,r=LineStyleHelper$1.getDashArray(this.verticalLineStyle),Ve=this.actualLineStyle,je=isNaN(this.verticalStrokeThickness)?this.strokeThickness:this.verticalStrokeThickness,ze=this.getSelectableColor(this.actualColor),Xe=RenderingExtensions$1.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode$1.PreferSharpness),We=async(ti,ni)=>{if(this.strokeThickness>0&&Ve!==LineStyle$1.None)if(je!==this.strokeThickness||this.verticalLineStyle!==Ve){const ri=[],ii=[];if(ti.length>=2){ri.push(ti[0]),ri.push(ti[1]);for(let ei=1;ei+2<ti.length;ei+=2)ii.push(ti[ei]),ii.push(ti[ei+1]),ri.push(ti[ei+1]),ri.push(ti[ei+2])}await e.drawLineSegments(ri,ze,this.strokeThickness,Xe,t,this.lineJoin),await e.drawLineSegments(ii,ze,je,Xe,r,this.lineJoin)}else await e.drawLine(ti,ze,this.strokeThickness,Xe,t,this.lineJoin);this.markerType!==MarkerType$1.None&&await RenderingExtensions$1.drawMarkers(e,ni,this.markerType,this.markerOutline,[this.markerSize],this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)},qe=this.actualPoints;let Ke=0,Ze=Number_MAX_VALUE$1;if(this.isXMonotonic){const ti=this.xAxis.clipMinimum;Ze=this.xAxis.clipMaximum,this.windowStartIndex=this.updateWindowStartIndex(qe,ni=>ni.x,ti,this.windowStartIndex),Ke=this.windowStartIndex}const Je=[],Qe=[];for(let ti=Ke;ti<qe.length;){const{valid:ni,validOffset:ri,endOffset:ii}=this.findNextValidSegment(qe,ti,Ze);if(!ni)break;let ei=newScreenPoint$1(0,0),St=DataPoint_Undefined$1,oi=!1,si=!1;for(ti=ri;ti<ii;++ti){const ai=qe[ti];oi=oi||ai.x>St.x,si=si||ai.x<St.x,oi&&si&&(Je.push(this.transform(St)),Je.push(this.transform(St)),oi=ai.x>St.x,si=ai.x<St.x),ei=this.transform(ai),ai.y!==St.y&&(isNaN(St.y)||Je.push(this.transform(newDataPoint$1(ai.x,St.y))),Je.push(ei),oi=!1,si=!1),St=ai,Qe.push(ei)}ti<qe.length&&this.xAxis.isValidValue(qe[ti].x)?Je.push(this.transform(newDataPoint$1(qe[ti].x,St.y))):Je.push(ei),await We(Je,Qe),Je.length=0,Qe.length=0}this.labelStringFormatter&&await this.renderPointLabels(e)}findNextValidSegment(e,t,r){for(;;++t){if(t>=e.length)return{valid:!1,validOffset:0,endOffset:0};const je=e[t];if(je.x>r)return{valid:!1,validOffset:0,endOffset:0};if(this.isValidPoint(je))break}const Ve=t;for(;!(t>=e.length);++t){const je=e[t];if(!this.isValidPoint(je)||je.x>r)break}return{valid:!0,validOffset:Ve,endOffset:t}}}const Re$1=class Lh extends XYAxisSeries$1{constructor(e){super(e),D$2(this,"itemsSourceItems",[]),D$2(this,"trackerStringFormatter"),D$2(this,"boxWidth"),D$2(this,"fill"),D$2(this,"items"),D$2(this,"lineStyle"),D$2(this,"medianPointSize"),D$2(this,"medianThickness"),D$2(this,"meanPointSize"),D$2(this,"meanThickness"),D$2(this,"outlierSize"),D$2(this,"outlierTrackerStringFormatter"),D$2(this,"outlierType"),D$2(this,"outlierOutline"),D$2(this,"showBox"),D$2(this,"showMedianAsDot"),D$2(this,"showMeanAsDot"),D$2(this,"stroke"),D$2(this,"strokeThickness"),D$2(this,"whiskerWidth"),this.items=[],this.trackerStringFormatter=Lh.DefaultTrackerFormatString,this.outlierTrackerStringFormatter=t=>`${t.title||""}
${t.xTitle}: ${t.xValue}
Y: ${t.outlier.toFixed(2)}`,this.title=void 0,this.fill=OxyColors$1.Automatic,this.stroke=OxyColors$1.Black,this.boxWidth=.3,this.strokeThickness=1,this.medianThickness=2,this.meanThickness=2,this.outlierSize=2,this.outlierType=MarkerType$1.Circle,this.medianPointSize=2,this.meanPointSize=2,this.whiskerWidth=.5,this.lineStyle=LineStyle$1.Solid,this.showMedianAsDot=!1,this.showMeanAsDot=!1,this.showBox=!0,e&&Object.assign(this,removeUndef$1(e))}get actualItems(){return this.itemsSource?this.itemsSourceItems:this.items}getNearestPoint(e,t){if(!this.xAxis||!this.yAxis)return;let r=Number_MAX_VALUE$1,Ve;for(const je of this.actualItems){for(const Ze of je.outliers){const Je=PlotElementExtensions$1.transform(this,je.x,Ze),Qe=screenPointMinus$1(Je,e).lengthSquared;if(Qe<r){const ti=this.outlierTrackerStringFormatter({item:je,title:this.title,xTitle:this.xAxis.title||XYAxisSeries$1.defaultXAxisTitle,xValue:this.xAxis.getValue(je.x),outlier:Ze});Ve=new TrackerHitResult$1({series:this,dataPoint:newDataPoint$1(je.x,Ze),position:Je,item:je,text:ti}),r=Qe}}let ze=DataPoint_Undefined$1;if(this.getBoxRect(je).containsPoint(e)){const Ze=this.inverseTransform(e);ze=newDataPoint$1(je.x,Ze.y),r=0}const Xe=PlotElementExtensions$1.transform(this,je.x,je.upperWhisker),We=PlotElementExtensions$1.transform(this,je.x,je.lowerWhisker),qe=ScreenPointHelper$1.findPointOnLine(e,Xe,We),Ke=screenPointMinus$1(qe,e).lengthSquared;if(Ke<r&&(ze=this.inverseTransform(qe),r=Ke),DataPoint_isDefined$1(ze)){const Ze=this.trackerStringFormatter({item:je,title:this.title,xTitle:this.xAxis.title||XYAxisSeries$1.defaultXAxisTitle,xValue:this.xAxis.getValue(je.x),upperWhisker:this.yAxis.getValue(je.upperWhisker),boxTop:this.yAxis.getValue(je.boxTop),median:this.yAxis.getValue(je.median),boxBottom:this.yAxis.getValue(je.boxBottom),lowerWhisker:this.yAxis.getValue(je.lowerWhisker),mean:this.yAxis.getValue(je.mean!==void 0?je.mean:NaN)});Ve=new TrackerHitResult$1({series:this,dataPoint:ze,position:this.transform(ze),item:je,text:Ze})}}if(r<Number_MAX_VALUE$1)return Ve}isValidPointBoxPlot(e,t,r){const Ve=getBoxPlotItemValues$1(e);return!isNaN(e.x)&&!isInfinity$1(e.x)&&!Ve.some(isNaN)&&!Ve.some(isInfinity$1)&&t&&t.isValidValue(e.x)&&r&&Ve.every(je=>r.isValidValue(je))}async render(e){if(this.actualItems.length===0)return;const t=this.getClippingRect(),r=[],Ve=this.boxWidth*.5,je=Ve*this.whiskerWidth,ze=this.getSelectableColor(this.stroke),Xe=this.getSelectableFillColor(this.fill),We=LineStyleHelper$1.getDashArray(this.lineStyle),qe=PlotElementExtensions$1.transform,Ke=RenderingExtensions$1.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode$1.PreferSharpness);for(const Ze of this.actualItems){const Je=Ze.mean!==void 0?Ze.mean:NaN;r.push(...Ze.outliers.map(ii=>qe(this,Ze.x,ii)));const Qe=qe(this,Ze.x,Ze.upperWhisker),ti=qe(this,Ze.x,Ze.boxTop),ni=qe(this,Ze.x,Ze.boxBottom),ri=qe(this,Ze.x,Ze.lowerWhisker);if(this.strokeThickness>0&&this.lineStyle!==LineStyle$1.None&&(await e.drawLine([Qe,ti],ze,this.strokeThickness,Ke,We,LineJoin$1.Miter),await e.drawLine([ni,ri],ze,this.strokeThickness,Ke,We,LineJoin$1.Miter)),this.whiskerWidth>0){const ii=qe(this,Ze.x-je,Ze.upperWhisker),ei=qe(this,Ze.x+je,Ze.upperWhisker),St=qe(this,Ze.x-je,Ze.lowerWhisker),oi=qe(this,Ze.x+je,Ze.lowerWhisker);await e.drawLine([ii,ei],ze,this.strokeThickness,Ke,void 0,LineJoin$1.Miter),await e.drawLine([St,oi],ze,this.strokeThickness,Ke,void 0,LineJoin$1.Miter)}if(this.showBox){const ii=this.getBoxRect(Ze);await e.drawRectangle(ii,Xe,ze,this.strokeThickness,Ke)}if(this.showMedianAsDot){const ii=qe(this,Ze.x,Ze.median);if(t.containsPoint(ii)){const ei=new OxyRect$1(ii.x-this.medianPointSize,ii.y-this.medianPointSize,this.medianPointSize*2,this.medianPointSize*2);await e.drawEllipse(ei,Xe,OxyColors$1.Undefined,0,this.edgeRenderingMode)}}else{const ii=qe(this,Ze.x-Ve,Ze.median),ei=qe(this,Ze.x+Ve,Ze.median);await e.drawLine([ii,ei],ze,this.strokeThickness*this.medianThickness,Ke,void 0,LineJoin$1.Miter)}if(!this.showMeanAsDot&&!isNaN(Je)){const ii=qe(this,Ze.x-Ve,Je),ei=qe(this,Ze.x+Ve,Je);await e.drawLine([ii,ei],ze,this.strokeThickness*this.meanThickness,Ke,LineStyleHelper$1.getDashArray(LineStyle$1.Dash),LineJoin$1.Miter)}else if(!isNaN(Je)){const ii=qe(this,Ze.x,Je);if(t.containsPoint(ii)){const ei=new OxyRect$1(ii.x-this.meanPointSize,ii.y-this.meanPointSize,this.meanPointSize*2,this.meanPointSize*2);await e.drawEllipse(ei,Xe,OxyColors$1.Undefined,0,this.edgeRenderingMode)}}}if(this.outlierType!==MarkerType$1.None){const Ze=r.map(Je=>this.outlierSize);await RenderingExtensions$1.drawMarkers(e,r,this.outlierType,this.outlierOutline,Ze,Xe,ze,this.strokeThickness,this.edgeRenderingMode)}}async renderLegend(e,t){const r=(t.left+t.right)/2,Ve=t.top+(t.bottom-t.top)*.7,je=t.top+(t.bottom-t.top)*.3,ze=(Ve+je)*.5,Xe=t.width*.24,We=Xe*this.whiskerWidth,qe=1,Ke=this.getSelectableColor(this.stroke),Ze=this.getSelectableFillColor(this.fill),Je=LineStyleHelper$1.getDashArray(LineStyle$1.Solid),Qe=RenderingExtensions$1.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode$1.PreferGeometricAccuracy);if(await e.drawLine([newScreenPoint$1(r,t.top),newScreenPoint$1(r,je)],Ke,qe,Qe,Je,LineJoin$1.Miter),await e.drawLine([newScreenPoint$1(r,Ve),newScreenPoint$1(r,t.bottom)],Ke,qe,Qe,Je,LineJoin$1.Miter),this.whiskerWidth>0&&(await e.drawLine([newScreenPoint$1(r-We,t.bottom),newScreenPoint$1(r+We,t.bottom)],Ke,qe,Qe,Je,LineJoin$1.Miter),await e.drawLine([newScreenPoint$1(r-We,t.top),newScreenPoint$1(r+We,t.top)],Ke,qe,Qe,Je,LineJoin$1.Miter)),this.showBox&&await e.drawRectangle(new OxyRect$1(r-Xe,je,2*Xe,Ve-je),Ze,Ke,qe,Qe),!this.showMedianAsDot)await e.drawLine([newScreenPoint$1(r-Xe,ze),newScreenPoint$1(r+Xe,ze)],Ke,qe*this.medianThickness,Qe,Je,LineJoin$1.Miter);else{const ti=new OxyRect$1(r-this.medianPointSize,ze-this.medianPointSize,this.medianPointSize*2,this.medianPointSize*2);await e.drawEllipse(ti,Ze,OxyColors$1.Undefined,0,Qe)}}updateData(){this.itemsSource&&(this.clearItemsSourceItems(),this.itemsSourceItems.push(...this.itemsSource),this.itemsSourceItems.forEach(e=>{e.mean===void 0&&(e.median=NaN)}))}updateMaxMin(){super.updateMaxMin(),this.internalUpdateBoxPlotMaxMin(this.actualItems)}internalUpdateBoxPlotMaxMin(e){if(!e||e.length===0)return;let t=this.minX,r=this.minY,Ve=this.maxX,je=this.maxY;for(const ze of e){if(!this.isValidPointBoxPlot(ze,this.xAxis,this.yAxis))continue;const Xe=ze.x;(Xe<t||isNaN(t))&&(t=Xe),(Xe>Ve||isNaN(Ve))&&(Ve=Xe);const We=getBoxPlotItemValues$1(ze);for(const qe of We)(qe<r||isNaN(r))&&(r=qe),(qe>je||isNaN(je))&&(je=qe)}this.minX=t,this.minY=r,this.maxX=Ve,this.maxY=je}getItem(e){return this.itemsSource||!this.actualItems||this.actualItems.length===0?super.getItem(e):this.actualItems[e]}getBoxRect(e){const t=this.boxWidth*.5,r=PlotElementExtensions$1.transform(this,e.x-t,e.boxTop),Ve=PlotElementExtensions$1.transform(this,e.x+t,e.boxBottom);return OxyRect$1.fromScreenPoints(r,Ve)}clearItemsSourceItems(){this.itemsSourceItems.length=0}};D$2(Re$1,"DefaultTrackerFormatString",$e=>`${$e.title||""}
${$e.xTitle}: ${$e.xValue}
Upper Whisker: ${$e.upperWhisker.toFixed(2)}
Third Quartil: ${$e.boxTop.toFixed(2)}
Median: ${$e.median.toFixed(2)}
First Quartil: ${$e.boxBottom.toFixed(2)}
Lower Whisker: ${$e.lowerWhisker.toFixed(2)}
Mean: ${$e.mean.toFixed(2)}`);let BoxPlotSeries=Re$1;function getBoxPlotItemValues$1($e){const e=[$e.lowerWhisker,$e.boxBottom,$e.median,$e.boxTop,$e.upperWhisker];return $e.mean!==void 0&&!isNaN($e.mean)&&e.push($e.mean),e.push(...$e.outliers),e}class StemSeries extends LineSeries{constructor(e){super(e),D$2(this,"base"),this.base=0,e&&(this.base=e.base??0)}getNearestPoint(e,t){if(!this.xAxis||!this.yAxis||t)return;let r,Ve=Number_MAX_VALUE$1;const je=this.actualPoints;for(let ze=0;ze<je.length;ze++){const Xe=je[ze],We=newDataPoint$1(Xe.x,this.base),qe=this.transform(Xe),Ke=this.transform(We);let Ze=ScreenPointHelper$1.findPositionOnLine(e,qe,Ke);isNaN(Ze)&&(Ze=1),(Ze<0||Ze>1)&&(Ze=1);const Je=screenPointPlus$1(qe,screenPointMinus$1(Ke,qe).times(Ze)),Qe=screenPointMinus$1(e,Je).lengthSquared;if(Qe<Ve){const ti=this.getItem(ze),ni=this.formatDefaultTrackerString(ti,Xe);r=new TrackerHitResult$1({series:this,dataPoint:newDataPoint$1(Xe.x,Xe.y),position:newScreenPoint$1(qe.x,qe.y),item:this.getItem(ze),index:ze,text:ni}),Ve=Qe}}return r}async render(e){if(this.actualPoints.length===0)return;this.verifyAxes();const t=this.minimumSegmentLength*this.minimumSegmentLength,r=this.actualDashArray,Ve=this.getSelectableColor(this.actualColor),je=[],ze=this.markerType!==MarkerType$1.None?[]:void 0;for(const Xe of this.actualPoints)if(this.isValidPoint(Xe)){if(je[0]=PlotElementExtensions$1.transform(this,Xe.x,this.base),je[1]=PlotElementExtensions$1.transform(this,Xe.x,Xe.y),this.strokeThickness>0&&this.actualLineStyle!==LineStyle$1.None){const We=RenderingExtensions$1.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode$1.PreferSharpness);await RenderingExtensions$1.drawReducedLine(e,je,t,Ve,this.strokeThickness,We,r,this.lineJoin)}ze&&ze.push(je[1])}ze&&ze.length>0&&await RenderingExtensions$1.drawMarkers(e,ze,this.markerType,this.markerOutline,[this.markerSize],this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)}}function getActualFillColor$1($e){return $e.fill.getActualColor($e.defaultFillColor)}const Ne$2=class Rh extends ItemsSeries$1{constructor(e){super(e),D$2(this,"slicePoints",[]),D$2(this,"total",0),D$2(this,"angleIncrement"),D$2(this,"angleSpan"),D$2(this,"areInsideLabelsAngled",!1),D$2(this,"colorField"),D$2(this,"diameter"),D$2(this,"explodedDistance",0),D$2(this,"innerDiameter"),D$2(this,"insideLabelColor"),D$2(this,"insideLabelFormatter"),D$2(this,"insideLabelPosition"),D$2(this,"isExplodedField"),D$2(this,"labelField"),D$2(this,"outsideLabelFormatter"),D$2(this,"slices",[]),D$2(this,"startAngle"),D$2(this,"stroke"),D$2(this,"strokeThickness"),D$2(this,"tickDistance"),D$2(this,"tickHorizontalLength"),D$2(this,"tickLabelDistance"),D$2(this,"tickRadialLength"),D$2(this,"valueField"),D$2(this,"trackerStringFormatter"),this.stroke=OxyColors$1.White,this.strokeThickness=1,this.diameter=1,this.innerDiameter=0,this.startAngle=0,this.angleSpan=360,this.angleIncrement=1,this.outsideLabelFormatter=(t,r)=>`${round$2(r,0)} %`,this.insideLabelColor=OxyColors$1.Automatic,this.insideLabelFormatter=(t,r)=>t.label,this.tickDistance=0,this.tickRadialLength=6,this.tickHorizontalLength=8,this.tickLabelDistance=4,this.insideLabelPosition=.5,this.fontSize=12,this.trackerStringFormatter=Rh.DefaultTrackerStringFormatter,e&&Object.assign(this,removeUndef$1(e))}getNearestPoint(e,t){const r=this.trackerStringFormatter;for(let Ve=0;Ve<this.slicePoints.length;Ve++)if(ScreenPointHelper$1.isPointInPolygon(e,this.slicePoints[Ve])){const je=this.slices[Ve],ze=this.getItem(Ve),Xe=r?r({item:ze,title:this.title,xTitle:je.label,xValue:je.value,percent:je.value/this.total*100}):void 0;return new TrackerHitResult$1({series:this,position:e,item:ze,index:Ve,text:Xe})}}async render(e){if(this.slicePoints=[],this.slices.length===0||(this.total=this.slices.reduce((Xe,We)=>Xe+We.value,0),Math.abs(this.total)<=0))return;const t=Math.min(this.plotModel.plotArea.width,this.plotModel.plotArea.height)/2,r=t*(this.diameter-this.explodedDistance),Ve=t*this.innerDiameter;let je=this.startAngle;const ze=newScreenPoint$1((this.plotModel.plotArea.left+this.plotModel.plotArea.right)*.5,(this.plotModel.plotArea.top+this.plotModel.plotArea.bottom)*.5);for(const Xe of this.slices){const We=[],qe=[],Ke=Xe.value/this.total*this.angleSpan,Ze=je+Ke,Je=Xe.isExploded?this.explodedDistance*t:0,Qe=je+Ke/2,ti=Qe*Math.PI/180,ni=newScreenPoint$1(ze.x+Je*Math.cos(ti),ze.y+Je*Math.sin(ti));for(;;){let ii=!1;je>=Ze&&(je=Ze,ii=!0);const ei=je*Math.PI/180,St=newScreenPoint$1(ni.x+r*Math.cos(ei),ni.y+r*Math.sin(ei));We.push(St);const oi=newScreenPoint$1(ni.x+Ve*Math.cos(ei),ni.y+Ve*Math.sin(ei));debugger;if(console.log(Ve+Je>0),Ve+Je>0){debugger;qe.push(oi)}if(ii)break;je+=this.angleIncrement}qe.reverse(),qe.length===0&&qe.push(ni),qe.push(We[0]);const ri=[...We,...qe];if(await e.drawPolygon(ri,getActualFillColor$1(Xe),this.stroke,this.strokeThickness,this.edgeRenderingMode,void 0,LineJoin$1.Bevel),this.slicePoints.push(ri),this.outsideLabelFormatter){const ii=this.outsideLabelFormatter(Xe,Xe.value/this.total*100),ei=Math.sign(Math.cos(ti)),St=newScreenPoint$1(ni.x+(r+this.tickDistance)*Math.cos(ti),ni.y+(r+this.tickDistance)*Math.sin(ti)),oi=newScreenPoint$1(St.x+this.tickRadialLength*Math.cos(ti),St.y+this.tickRadialLength*Math.sin(ti)),si=newScreenPoint$1(oi.x+this.tickHorizontalLength*ei,oi.y);await e.drawLine([St,oi,si],this.actualTextColor,1,this.edgeRenderingMode,void 0,LineJoin$1.Bevel);const ai=newScreenPoint$1(si.x+this.tickLabelDistance*ei,si.y);await e.drawText(ai,ii,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,ei>0?HorizontalAlignment$1.Left:HorizontalAlignment$1.Right,VerticalAlignment$1.Middle)}if(this.insideLabelFormatter&&!this.insideLabelColor.isUndefined()){const ii=this.insideLabelFormatter(Xe,Xe.value/this.total*100),ei=Ve*(1-this.insideLabelPosition)+r*this.insideLabelPosition,St=newScreenPoint$1(ni.x+ei*Math.cos(ti),ni.y+ei*Math.sin(ti));let oi=0;this.areInsideLabelsAngled&&(oi=Qe,Math.cos(ti)<0&&(oi+=180));const si=this.insideLabelColor.isAutomatic()?this.actualTextColor:this.insideLabelColor;await e.drawText(St,ii,si,this.actualFont,this.actualFontSize,this.actualFontWeight,oi,HorizontalAlignment$1.Center,VerticalAlignment$1.Middle)}}}async renderLegend(e,t){}areAxesRequired(){return!1}ensureAxes(){}isUsing(e){return!1}setDefaultValues(){for(const e of this.slices)e.fill=e.fill||OxyColors$1.Automatic,e.fill.isAutomatic()&&(e.defaultFillColor=this.plotModel.getDefaultColor())}updateAxisMaxMin(){}updateData(){if(this.itemsSource){this.slices=[];for(const e of this.itemsSource){const t=getOrDefault$1(e,this.labelField,""),r=getOrDefault$1(e,this.valueField,NaN),Ve=getOrDefault$1(e,this.colorField,OxyColors$1.Automatic),je=getOrDefault$1(e,this.isExplodedField,!1);this.slices.push({label:t,value:r,fill:Ve,isExploded:je})}}}updateMaxMin(){}};D$2(Ne$2,"DefaultTrackerStringFormatter",$e=>`${$e.xTitle}: ${round$2($e.xValue,3)} (${toPercent$1(($e.percent||0)/100)})`);let PieSeries=Ne$2;class AreaSeries extends LineSeries{constructor(e){super(e),D$2(this,"_points2",[]),D$2(this,"itemsSourcePoints2",[]),D$2(this,"_actualPoints2"),D$2(this,"constantY2",0),D$2(this,"dataFieldX2"),D$2(this,"dataFieldY2"),D$2(this,"color2"),D$2(this,"fill"),D$2(this,"reverse2",!1),D$2(this,"windowStartIndex2",0),D$2(this,"isPoints2Defined",!1),this.reverse2=!0,this.color2=OxyColors$1.Automatic,this.fill=OxyColors$1.Automatic,e&&Object.assign(this,removeUndef$1(e))}get actualColor2(){return this.color2.getActualColor(this.actualColor)}get actualFill(){return this.fill.getActualColor(OxyColor$1.fromAColor(100,this.actualColor))}get points2(){return this._points2}get actualPoints2(){return this.itemsSource?this.itemsSourcePoints2:this._actualPoints2}getNearestPoint(e,t){const r=this.isXMonotonic?this.windowStartIndex:0,Ve=this.isXMonotonic?this.windowStartIndex2:0;let je,ze;t&&this.canTrackerInterpolatePoints?(je=this.getNearestInterpolatedPointInternal(this.actualPoints,r,e),ze=this.getNearestInterpolatedPointInternal(this.actualPoints2,Ve,e)):(je=this.getNearestPointInternal(this.actualPoints,r,e),ze=this.getNearestPointInternal(this.actualPoints2,Ve,e));let Xe;if(je&&ze){const We=screenPointDistanceTo$1(je.position,e),qe=screenPointDistanceTo$1(ze.position,e);Xe=We<qe?je:ze}else Xe=je??ze;return Xe&&(Xe.text=this.formatDefaultTrackerString(Xe.item,Xe.dataPoint)),Xe}async render(e){this.verifyAxes();const t=this.actualPoints;if(!t||t.length===0)return;const r=this.actualPoints2;if(!r||r.length===0)return;let Ve=0,je=0,ze=Number_MAX_VALUE$1;if(this.isXMonotonic){const Ze=this.xAxis.clipMinimum;ze=this.xAxis.clipMaximum,this.windowStartIndex=this.updateWindowStartIndex(t,Je=>Je.x,Ze,this.windowStartIndex),this.windowStartIndex2=this.updateWindowStartIndex(r,Je=>Je.x,Ze,this.windowStartIndex2),Ve=this.windowStartIndex,je=this.windowStartIndex2}const Xe=this.minimumSegmentLength*this.minimumSegmentLength,We={points:t,windowStartIndex:Ve,xMax:ze,renderContext:e,minDistSquared:Xe,reverse:!1,color:this.actualColor,dashArray:this.actualDashArray},qe=await this.renderChunkedPoints(We);We.points=r,We.windowStartIndex=je,We.reverse=this.reverse2,We.color=this.actualColor2;const Ke=await this.renderChunkedPoints(We);if(qe.length===Ke.length)for(let Ze=0;Ze<qe.length;Ze++){const Je=qe[Ze],Qe=Ke[Ze],ti=[];ti.push(...Qe),ti.push(...Je),await RenderingExtensions$1.drawReducedPolygon(e,ti,Xe,this.getSelectableFillColor(this.actualFill),OxyColors$1.Undefined,0,this.edgeRenderingMode);const ni=[this.markerSize];await RenderingExtensions$1.drawMarkers(e,Je,this.markerType,void 0,ni,this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,1),await RenderingExtensions$1.drawMarkers(e,Qe,this.markerType,void 0,ni,this.markerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,1)}}async renderLegend(e,t){const r=t.top*.2+t.bottom*.8,Ve=t.top*.4+t.bottom*.6,je=t.top*.8+t.bottom*.2,ze=[newScreenPoint$1(t.left,r),newScreenPoint$1(t.right,r)],Xe=[newScreenPoint$1(t.right,je),newScreenPoint$1(t.left,Ve)],We=[...ze,...Xe];if(this.strokeThickness>0&&this.actualLineStyle!==LineStyle$1.None){const qe=LineStyleHelper$1.getDashArray(this.actualLineStyle);await e.drawLine(ze,this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode,qe),await e.drawLine(Xe,this.getSelectableColor(this.actualColor2),this.strokeThickness,this.edgeRenderingMode,qe)}await e.drawPolygon(We,this.getSelectableFillColor(this.actualFill),OxyColors$1.Undefined,0,this.edgeRenderingMode)}updateData(){if(super.updateData(),!this.itemsSource){this.isPoints2Defined=this._points2.length>0,this.isPoints2Defined?this._actualPoints2=this._points2:this._actualPoints2=this.getConstantPoints2();return}if(this.itemsSourcePoints2.length=0,this.isPoints2Defined=!!(this.dataFieldX2&&this.dataFieldY2),this.isPoints2Defined)for(const e of this.itemsSource){if(!e)continue;const t=getOrDefault$1(e,this.dataFieldX2,Number.NaN),r=getOrDefault$1(e,this.dataFieldY2,Number.NaN),Ve=newDataPoint$1(this.xAxis.itemToDouble(t),this.yAxis.itemToDouble(r));this.itemsSourcePoints2.push(Ve)}else this.itemsSourcePoints2.push(...this.getConstantPoints2())}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMin(this.actualPoints2)}async renderChunkedPoints(e){const t=[];let r=[],Ve=0;const je=e.points;for(let ze=e.windowStartIndex;ze<je.length;ze++){const Xe=je[ze];if(isNaN(Xe.y)){if(r.length===0)continue;t.push(await this.renderScreenPoints(e,r)),r=[]}else{const We=PlotElementExtensions$1.transform(this,Xe.x,Xe.y);r.push(We)}if(Ve+=Xe.x>e.xMax?1:0,Ve>1)break}return r.length>0&&t.push(await this.renderScreenPoints(e,r)),t}async renderScreenPoints(e,t){let r=t;if(e.reverse&&r.reverse(),this.interpolationAlgorithm){const Ve=ScreenPointHelper$1.resamplePoints(r,this.minimumSegmentLength);r=this.interpolationAlgorithm.createSplineSp(Ve,!1,.25)}return await RenderingExtensions$1.drawReducedLine(e.renderContext,r,e.minDistSquared,this.getSelectableColor(e.color),this.strokeThickness,this.edgeRenderingMode,e.dashArray,this.lineJoin),r}getConstantPoints2(){const e=this.actualPoints,t=[];if(!isNaN(this.constantY2)&&e.length>0){const r=e[0].x,Ve=e[e.length-1].x;t.push(newDataPoint$1(r,this.constantY2)),t.push(newDataPoint$1(Ve,this.constantY2))}return t}}var HeatMapCoordinateDefinition=($e=>($e[$e.Center=0]="Center",$e[$e.Edge=1]="Edge",$e))(HeatMapCoordinateDefinition||{}),HeatMapRenderMethod=($e=>($e[$e.Bitmap=0]="Bitmap",$e[$e.Rectangles=1]="Rectangles",$e))(HeatMapRenderMethod||{});const re$2=class va extends XYAxisSeries$1{constructor(e){super(e),D$2(this,"dataHash",0),D$2(this,"colorAxisHash",0),D$2(this,"image"),D$2(this,"x0",0),D$2(this,"x1",0),D$2(this,"y0",0),D$2(this,"y1",0),D$2(this,"data"),D$2(this,"interpolate",!0),D$2(this,"minValue",0),D$2(this,"maxValue",0),D$2(this,"colorAxis"),D$2(this,"colorAxisKey"),D$2(this,"coordinateDefinition",0),D$2(this,"renderMethod",0),D$2(this,"labelStringFormatter",t=>t.toFixed(2)),D$2(this,"labelFontSize",0),this.trackerStringFormatter=va.DefaultTrackerFormatString,this.interpolate=!0,this.labelFontSize=0,e&&Object.assign(this,removeUndef$1(e))}invalidate(){this.image=void 0}async render(e){if(!this.data){this.image=void 0;return}if(!this.colorAxis)throw new Error("Color axis not specified.");let t=this.x0,r=this.x1,Ve=this.y0,je=this.y1;const ze=this.data.length,Xe=this.data[0].length,We=(this.x1-this.x0)/(ze-1),qe=(this.y1-this.y0)/(Xe-1);if(this.coordinateDefinition===0){if(this.xAxis.isLogarithmic()){const ii=Math.log(this.x1/this.x0)/(ze-1);t*=Math.exp(ii/-2),r*=Math.exp(ii/2)}else t-=We/2,r+=We/2;if(this.yAxis.isLogarithmic()){const ii=Math.log(this.y1/this.y0)/(Xe-1);Ve*=Math.exp(ii/-2),je*=Math.exp(ii/2)}else Ve-=qe/2,je+=qe/2}const Ke=PlotElementExtensions$1.transform(this,t,Ve),Ze=PlotElementExtensions$1.transform(this,r,je),Je=OxyRect$1.fromScreenPoints(Ke,Ze),Qe=this.renderMethod===0,ti=calculateHashcode$1(this.data),ni=this.colorAxis.getElementHashCode();(Qe&&!this.image||ti!==this.dataHash||ni!==this.colorAxisHash)&&(Qe&&await this.updateImage(),this.dataHash=ti,this.colorAxisHash=ni);const ri=PlotElementExtensions$1.orientate;if(Qe)this.image&&await RenderingExtensions$1.drawImage(e,this.image,Je.left,Je.top,Je.width,Je.height,1,this.interpolate);else{const ii=ri(this,Ke),ei=ri(this,Ze),St=(ei.x-ii.x)/ze,oi=(ei.y-ii.y)/Xe,si=ColorAxisExtensions$1.getColor;for(let ai=0;ai<ze;ai++)for(let ui=0;ui<Xe;ui++){const hi=si(this.colorAxis,this.data[ai][ui]),ci=ri(this,newScreenPoint$1(ii.x+ai*St,ii.y+ui*oi)),mi=ri(this,newScreenPoint$1(ii.x+(ai+1)*St,ii.y+(ui+1)*oi)),di=OxyRect$1.fromScreenPoints(ci,mi);await e.drawRectangle(di,hi,OxyColors$1.Undefined,0,this.edgeRenderingMode)}}this.labelFontSize>0&&await this.renderLabels(e,Je)}getNearestPoint(e,t){if(!this.data)return;this.interpolate||(t=!1);let r=this.inverseTransform(e);if(!this.isPointInRange(r))return;let Ve,je;if(this.xAxis.isLogarithmic()){const Ke=Math.log(this.x1/this.x0)/(this.data.length-1);Ve=Math.log(r.x/this.x0)/Ke}else{const Ke=(this.x1-this.x0)/(this.data.length-1);Ve=(r.x-this.x0)/Ke}if(this.yAxis.isLogarithmic()){const Ke=Math.log(this.y1/this.y0)/(this.data[0].length-1);je=Math.log(r.y/this.y0)/Ke}else{const Ke=(this.y1-this.y0)/(this.data[0].length-1);je=(r.y-this.y0)/Ke}if(!t){Ve=Math.round(Ve),je=Math.round(je);let Ke,Ze;if(this.xAxis.isLogarithmic()){const Je=Math.log(this.x1/this.x0)/(this.data.length-1);Ke=this.x0*Math.exp(Ve*Je)}else{const Je=(this.x1-this.x0)/(this.data.length-1);Ke=Ve*Je+this.x0}if(this.yAxis.isLogarithmic()){const Je=Math.log(this.y1/this.y0)/(this.data[0].length-1);Ze=this.y0*Math.exp(je*Je)}else{const Je=(this.y1-this.y0)/(this.data[0].length-1);Ze=je*Je+this.y0}r=newDataPoint$1(Ke,Ze),e=this.transform(r)}if(Ve<-.5||Ve>this.data.length-.5||je<-.5||je>this.data[0].length-.5)return;const ze=va.getValue(this.data,Ve,je),Xe=this.colorAxis,We=(Xe==null?void 0:Xe.title)??va.DefaultColorAxisTitle,qe=this.formatDefaultTrackerString(void 0,r,Ke=>{Ke.colorAxisTitle=We,Ke.value=ze});return new TrackerHitResult$1({series:this,dataPoint:r,position:e,item:null,index:-1,text:qe})}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}updateMaxMinXY(){if(!this.data)return;const e=this.data.length,t=this.data[0].length;if(this.minX=Math.min(this.x0,this.x1),this.maxX=Math.max(this.x0,this.x1),this.minY=Math.min(this.y0,this.y1),this.maxY=Math.max(this.y0,this.y1),this.coordinateDefinition===0){if(this.xAxis.isLogarithmic()){const r=Math.log(this.maxX/this.minX)/(e-1);this.minX*=Math.exp(r/-2),this.maxX*=Math.exp(r/2)}else{const r=(this.maxX-this.minX)/(e-1);this.minX-=r/2,this.maxX+=r/2}if(this.yAxis.isLogarithmic()){const r=Math.log(this.maxY/this.minY)/(t-1);this.minY*=Math.exp(r/-2),this.maxY*=Math.exp(r/2)}else{const r=(this.maxY-this.minY)/(t-1);this.minY-=r/2,this.maxY+=r/2}}}updateMaxMin(){if(super.updateMaxMin(),this.updateMaxMinXY(),!this.data)return;const e=this.data.flat().filter(t=>!isNaN(t));this.minValue=minValueOfArray$1(e),this.maxValue=maxValueOfArray$1(e)}updateAxisMaxMin(){super.updateAxisMaxMin();const e=this.colorAxis;e&&(e.include(this.minValue),e.include(this.maxValue))}async renderLabels(e,t){if(!this.data)return;const r=this.data.length,Ve=this.data[0].length,je=t.height/Ve*this.labelFontSize,ze=this.x0,Xe=this.x1,We=this.y0,qe=this.y1,Ke=PlotElementExtensions$1.orientate,Ze=PlotElementExtensions$1.transform,Je=Ke(this,Ze(this,ze,We)),Qe=Ke(this,Ze(this,Xe,qe)),ti=(Qe.x-Je.x)/(r-1),ni=(Qe.y-Je.y)/(Ve-1),ri=ColorAxisExtensions$1.getColor;for(let ii=0;ii<r;ii++)for(let ei=0;ei<Ve;ei++){const St=Ke(this,newScreenPoint$1(Je.x+ii*ti,Je.y+ei*ni)),oi=va.getValue(this.data,ii,ei),si=ri(this.colorAxis,oi),ai=OxyColorExtensions$1.toHsv(si)[2]>.6?OxyColors$1.Black:OxyColors$1.White,ui=this.getLabel(oi,ii,ei);await e.drawText(St,ui,ai,this.actualFont,je,500,0,HorizontalAlignment$1.Center,VerticalAlignment$1.Middle)}}getLabel(e,t,r){return this.labelStringFormatter(e,[])}static getValue(e,t,r){t=Math.max(t,0),r=Math.max(r,0);const Ve=Math.floor(t),je=Ve+1<e.length?Ve+1:Ve,ze=Math.floor(r),Xe=ze+1<e[0].length?ze+1:ze;if(t=Math.min(t,je),r=Math.min(r,Xe),t===Ve&&r===ze)return e[Ve][ze];if(t!==Ve&&r===ze){if(isNaN(e[Ve][ze])||isNaN(e[je][ze]))return NaN;const We=t-Ve;return Ve!==je?e[Ve][ze]*(1-We)+e[je][ze]*We:e[Ve][ze]}if(t===Ve&&r!==ze){if(isNaN(e[Ve][ze])||isNaN(e[Ve][Xe]))return NaN;const We=r-ze;return ze!==Xe?e[Ve][ze]*(1-We)+e[Ve][Xe]*We:e[Ve][ze]}else{if(isNaN(e[Ve][ze])||isNaN(e[je][ze])||isNaN(e[Ve][Xe])||isNaN(e[je][Xe]))return NaN;const We=t-Ve,qe=r-ze;let Ke,Ze;return Ve!==je?(Ke=e[Ve][ze]*(1-We)+e[je][ze]*We,Ze=e[Ve][Xe]*(1-We)+e[je][Xe]*We):(Ke=e[Ve][ze],Ze=e[Ve][Xe]),ze!==Xe?Ke*(1-qe)+Ze*qe:Ke}}isPointInRange(e){return this.updateMaxMinXY(),e.x>=this.minX&&e.x<=this.maxX&&e.y>=this.minY&&e.y<=this.maxY}async updateImage(){if(!this.data)return;const e=this.xAxis.transform(this.x0)>this.xAxis.transform(this.x1),t=this.yAxis.transform(this.y0)>this.yAxis.transform(this.y1),r=PlotElementExtensions$1.isTransposed(this),Ve=this.data.length,je=this.data[0].length,ze=r?new TwoDimensionalArray$1(je,Ve):new TwoDimensionalArray$1(Ve,je),Xe=ColorAxisExtensions$1.getColor;for(let We=0;We<Ve;We++){const qe=e?Ve-1-We:We;for(let Ke=0;Ke<je;Ke++){const Ze=t?je-1-Ke:Ke,Je=Xe(this.colorAxis,this.data[qe][Ze]);r?ze.set(Ke,We,Je):ze.set(We,Ke,Je)}}this.image=await OxyImage$1.create(ze,ImageFormat$1.Png)}};D$2(re$2,"DefaultTrackerFormatString",$e=>`${$e.title}
${$e.xTitle}: ${$e.xValue}
${$e.yTitle}: ${$e.yValue}
${$e.colorAxisTitle}: ${$e.value}`),D$2(re$2,"DefaultColorAxisTitle","Value");let HeatMapSeries=re$2;function calculateHashcode$1($e){return hashCode$1($e.flat())}const Ie$1=class{constructor(e,t,r,Ve,je){D$2(this,"a"),D$2(this,"b"),D$2(this,"value"),typeof e=="number"?(this.a=newDataPoint$1(e,r),this.b=newDataPoint$1(t,Ve),this.value=je):(this.a=e,this.b=t,this.value=r)}contains(e){return e.x<=this.b.x&&e.x>=this.a.x&&e.y<=this.b.y&&e.y>=this.a.y||e.x<=this.a.x&&e.x>=this.b.x&&e.y<=this.a.y&&e.y>=this.b.y}equals(e){return dataPointEquals$1(this.a,e.a)&&dataPointEquals$1(this.b,e.b)&&this.value===e.value}toString(){return`${this.a} ${this.b} ${this.value}`}isDefined(){return DataPoint_isDefined$1(this.a)&&DataPoint_isDefined$1(this.b)&&!isNaN(this.value)}};D$2(Ie$1,"Undefined",new Ie$1(DataPoint_Undefined$1,DataPoint_Undefined$1,Number.NaN));let RectangleItem$1=Ie$1;const he$2=class gu extends XYAxisSeries$1{constructor(e){super(e),D$2(this,"_actualItems",[]),D$2(this,"_minValue",0),D$2(this,"_maxValue",0),D$2(this,"_colorAxis"),D$2(this,"colorAxisKey"),D$2(this,"labelStringFormatter",t=>t.toFixed(2)),D$2(this,"labelFontSize"),D$2(this,"mapping"),D$2(this,"items",[]),this.trackerStringFormatter=gu.DefaultTrackerFormatString,this.labelFontSize=0,e&&Object.assign(this,removeUndef$1(e))}get minValue(){return this._minValue}get maxValue(){return this._maxValue}get colorAxis(){return this._colorAxis}set colorAxis(e){this._colorAxis=e}get actualItems(){return this.itemsSource?this._actualItems:this.items}async render(e){this.verifyAxes(),await this.renderRectangles(e,this.actualItems)}updateData(){this.itemsSource&&this.updateActualItems()}getItem(e){const t=this.actualItems;return!this.itemsSource&&t&&e<t.length?t[e]:super.getItem(e)}clearActualItems(){this._actualItems.length=0}updateActualItems(){if(this.clearActualItems(),!(!this.itemsSource||this.itemsSource.length==0)){for(const e of this.itemsSource)if(e){if(e instanceof RectangleItem$1){this._actualItems.push(e);continue}if(this.mapping){this._actualItems.push(this.mapping(e));continue}throw new Error("Invalid itemsSource")}}}async renderRectangles(e,t){const r=RenderingExtensions$1.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode$1.PreferSharpness),Ve=PlotElementExtensions$1.transform;for(const je of t){const ze=ColorAxisExtensions$1.getColor(this.colorAxis,je.value),Xe=Ve(this,je.a.x,je.a.y),We=Ve(this,je.b.x,je.b.y),qe=OxyRect$1.fromScreenPoints(Xe,We);await e.drawRectangle(qe,ze,OxyColors$1.Undefined,0,r),this.labelFontSize>0&&await e.drawText(qe.center,this.labelStringFormatter(je.value,[]),this.actualTextColor,this.actualFont,this.labelFontSize,this.actualFontWeight,0,HorizontalAlignment$1.Center,VerticalAlignment$1.Middle)}}getNearestPoint(e,t){const r=this.inverseTransform(e);if(!this.isPointInRange(r)||!this.actualItems)return;const Ve=this.colorAxis,je=(Ve==null?void 0:Ve.title)??gu.DefaultColorAxisTitle;for(const ze of this.actualItems)if(ze.contains(r)){const Xe=this.formatDefaultTrackerString(ze,r,We=>{We.colorAxisTitle=je,We.value=ze.value});return new TrackerHitResult$1({series:this,dataPoint:r,position:e,item:null,index:-1,text:Xe})}}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}updateMaxMinXY(){if(this.actualItems&&this.actualItems.length>0){const e=minValueOfArray$1(this.actualItems.map(qe=>qe.a.x)),t=minValueOfArray$1(this.actualItems.map(qe=>qe.b.x)),r=maxValueOfArray$1(this.actualItems.map(qe=>qe.a.x)),Ve=maxValueOfArray$1(this.actualItems.map(qe=>qe.b.x)),je=minValueOfArray$1(this.actualItems.map(qe=>qe.a.y)),ze=minValueOfArray$1(this.actualItems.map(qe=>qe.b.y)),Xe=maxValueOfArray$1(this.actualItems.map(qe=>qe.a.y)),We=maxValueOfArray$1(this.actualItems.map(qe=>qe.b.y));this.minX=Math.min(e,t),this.maxX=Math.max(r,Ve),this.minY=Math.min(je,ze),this.maxY=Math.max(Xe,We)}}updateMaxMin(){super.updateMaxMin();const e=[];if(pushMany$1(e,this.actualItems.map(t=>t.a)),pushMany$1(e,this.actualItems.map(t=>t.b)),this.internalUpdateMaxMin(e),this.updateMaxMinXY(),this.actualItems&&this.actualItems.length>0){const t=this.actualItems.map(r=>r.value);this._minValue=minValueOfArray$1(t),this._maxValue=minValueOfArray$1(t)}}updateAxisMaxMin(){super.updateAxisMaxMin();const e=this.colorAxis;e&&(e.include(this.minValue),e.include(this.maxValue))}isPointInRange(e){return this.updateMaxMinXY(),e.x>=this.minX&&e.x<=this.maxX&&e.y>=this.minY&&e.y<=this.maxY}};D$2(he$2,"DefaultTrackerFormatString",$e=>`${$e.title}
${$e.xTitle}: ${$e.xValue}
${$e.yTitle}: ${$e.yValue}
${$e.colorAxisTitle}: ${$e.value}`),D$2(he$2,"DefaultColorAxisTitle","Value");let RectangleSeries=he$2;class ThreeColorLineSeries extends LineSeries{constructor(e){super(e),D$2(this,"defaultColorLo",OxyColors$1.Undefined),D$2(this,"defaultColorHi",OxyColors$1.Undefined),D$2(this,"colorLo"),D$2(this,"colorHi"),D$2(this,"limitHi"),D$2(this,"limitLo"),D$2(this,"dashesHi"),D$2(this,"dashesLo"),D$2(this,"lineStyleHi"),D$2(this,"lineStyleLo"),this.limitLo=-5,this.colorLo=OxyColor$1.fromRgb(0,0,255),this.lineStyleLo=LineStyle$1.Solid,this.limitHi=5,this.colorHi=OxyColor$1.fromRgb(255,0,0),this.lineStyleHi=LineStyle$1.Solid,e&&Object.assign(this,removeUndef$1(e))}get actualColorLo(){return this.colorLo.getActualColor(this.defaultColorLo)}get actualColorHi(){return this.colorHi.getActualColor(this.defaultColorHi)}get actualLineStyleHi(){return this.lineStyleHi!==LineStyle$1.Automatic?this.lineStyleHi:LineStyle$1.Solid}get actualLineStyleLo(){return this.lineStyleLo!==LineStyle$1.Automatic?this.lineStyleLo:LineStyle$1.Solid}get actualDashArrayHi(){return this.dashesHi??LineStyleHelper$1.getDashArray(this.actualLineStyleHi)}get actualDashArrayLo(){return this.dashesLo??LineStyleHelper$1.getDashArray(this.actualLineStyleLo)}setDefaultValues(){super.setDefaultValues(),this.colorLo.isAutomatic()&&(this.defaultColorLo=this.plotModel.getDefaultColor()),this.lineStyleLo===LineStyle$1.Automatic&&(this.lineStyleLo=this.plotModel.getDefaultLineStyle()),this.colorHi.isAutomatic()&&(this.defaultColorHi=this.plotModel.getDefaultColor()),this.lineStyleHi===LineStyle$1.Automatic&&(this.lineStyleHi=this.plotModel.getDefaultLineStyle())}async renderLine(e,t){const r=this.getClippingRect(),Ve=this.inverseTransform(r.bottomLeft),je=this.inverseTransform(r.topRight),ze=PlotElementExtensions$1.transform;let Xe=ze(this,Ve.x,Math.min(Ve.y,je.y)),We=ze(this,je.x,this.limitLo);const qe=OxyRect$1.fromScreenPoints(Xe,We).clip(r);Xe=ze(this,Ve.x,this.limitLo),We=ze(this,je.x,this.limitHi);const Ke=OxyRect$1.fromScreenPoints(Xe,We).clip(r);Xe=ze(this,Ve.x,Math.max(Ve.y,je.y)),We=ze(this,je.x,this.limitHi);const Ze=OxyRect$1.fromScreenPoints(Xe,We).clip(r);if(this.strokeThickness<=0||this.actualLineStyle===LineStyle$1.None)return;const Je=async ti=>{await RenderingExtensions$1.drawReducedLine(e,t,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(ti),this.strokeThickness,this.edgeRenderingMode,this.actualDashArray,this.lineJoin)};let Qe=RenderingExtensions$1.autoResetClip(e,Ke);await Je(this.actualColor),Qe.dispose(),Qe=RenderingExtensions$1.autoResetClip(e,qe),await Je(this.actualColorLo),Qe.dispose(),Qe=RenderingExtensions$1.autoResetClip(e,Ze),await Je(this.actualColorHi),Qe.dispose()}}class TwoColorAreaSeries extends AreaSeries{constructor(e){super(e),D$2(this,"defaultColor2",OxyColors$1.Undefined),D$2(this,"abovePoints",[]),D$2(this,"belowPoints",[]),D$2(this,"markerStartIndex",0),D$2(this,"fill2"),D$2(this,"dashes2"),D$2(this,"lineStyle2"),D$2(this,"markerFill2"),D$2(this,"markerStroke2"),D$2(this,"limit",0),this.color2=OxyColor$1.fromRgb(0,0,255),this.fill=OxyColors$1.Automatic,this.fill2=OxyColors$1.Automatic,this.markerFill2=OxyColors$1.Automatic,this.markerStroke2=OxyColors$1.Automatic,this.lineStyle2=LineStyle$1.Solid,e&&Object.assign(this,removeUndef$1(e))}get actualFill2(){return this.fill2.getActualColor(OxyColor$1.fromAColor(100,this.actualColor2))}get actualColor2(){return this.color2.getActualColor(this.defaultColor2)}get actualLineStyle2(){return this.lineStyle2!==LineStyle$1.Automatic?this.lineStyle2:LineStyle$1.Solid}get actualDashArray2(){return this.dashes2??LineStyleHelper$1.getDashArray(this.actualLineStyle2)}getNearestPoint(e,t){let r;return t&&this.canTrackerInterpolatePoints?r=this.getNearestInterpolatedPointInternal(this.actualPoints,0,e):r=this.getNearestPointInternal(this.actualPoints,0,e),r&&(r.text=this.formatDefaultTrackerString(r.item,r.dataPoint)),r}async render(e){const t=this.xAxis.clipMinimum,r=this.xAxis.clipMaximum,Ve=Xe=>Xe.x;this.windowStartIndex=this.updateWindowStartIndex(this.abovePoints,Ve,t,this.windowStartIndex),this.windowStartIndex2=this.updateWindowStartIndex(this.belowPoints,Ve,t,this.windowStartIndex2);const je=this.minimumSegmentLength*this.minimumSegmentLength,ze={points:this.abovePoints,windowStartIndex:this.windowStartIndex,xMax:r,renderContext:e,minDistSquared:je,reverse:!1,color:this.actualColor,fill:this.actualFill,markerFill:this.actualMarkerFill,markerStroke:this.markerStroke,dashArray:this.actualDashArray,baseline:this.limit};if(await this.renderChunkedPoints(ze),ze.points=this.belowPoints,ze.windowStartIndex=this.windowStartIndex2,ze.reverse=this.reverse2,ze.color=this.actualColor2,ze.fill=this.actualFill2,ze.markerFill=this.markerFill2,ze.markerStroke=this.markerStroke2,ze.dashArray=this.actualDashArray2,this.isPoints2Defined&&(ze.baseline=this.constantY2),await this.renderChunkedPoints(ze),!this.isPoints2Defined){const Xe=[this.markerSize],We=this.limit,qe=this.actualPoints,Ke=[],Ze=[];this.markerStartIndex=this.updateWindowStartIndex(qe,Ve,t,this.markerStartIndex);let Je=0;for(let Qe=this.markerStartIndex;Qe<qe.length;Qe++){const ti=qe[Qe];if((ti.y>=We?Ke:Ze).push(this.transform(ti)),Je+=ti.x>r?1:0,Je>1)break}await RenderingExtensions$1.drawMarkers(e,Ke,this.markerType,void 0,Xe,this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,1),await RenderingExtensions$1.drawMarkers(e,Ze,this.markerType,void 0,Xe,this.markerFill2,this.markerStroke2,this.markerStrokeThickness,this.edgeRenderingMode,1)}}setDefaultValues(){super.setDefaultValues(),this.color2.isAutomatic()&&(this.defaultColor2=this.plotModel.getDefaultColor()),this.lineStyle2===LineStyle$1.Automatic&&(this.lineStyle2=this.plotModel.getDefaultLineStyle())}updateData(){super.updateData(),this.isPoints2Defined?(this.abovePoints=this.actualPoints,this.belowPoints=this.actualPoints2):this.splitPoints(this.actualPoints)}async renderScreenPoints(e,t){const r=await super.renderScreenPoints(e,t),Ve=e,je=[...this.getConstantScreenPoints2(r,Ve.baseline),...r],ze=e.renderContext;if(await RenderingExtensions$1.drawReducedPolygon(ze,je,e.minDistSquared,this.getSelectableFillColor(Ve.fill),OxyColors$1.Undefined,0,this.edgeRenderingMode),this.isPoints2Defined){const Xe=[this.markerSize];await RenderingExtensions$1.drawMarkers(ze,r,this.markerType,void 0,Xe,Ve.markerFill,Ve.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,1)}return r}splitPoints(e){const t=newDataPoint$1(Number.NaN,Number.NaN),r=this.limit;this.abovePoints=new Array,this.belowPoints=new Array;let Ve=!1,je=null;for(const ze of e){const Xe=ze.y>=r;if(je&&Xe!==Ve){const We=newDataPoint$1(this.getInterpolatedX(je,ze,r),r);this.abovePoints.push(Xe?t:We),this.abovePoints.push(Xe?We:t),this.belowPoints.push(Xe?We:t),this.belowPoints.push(Xe?t:We)}(Xe?this.abovePoints:this.belowPoints).push(ze),je=ze,Ve=Xe}}getConstantScreenPoints2(e,t){const r=[];if(isNaN(t)||e.length<=0)return r;let Ve=this.inverseTransform(e[0]);Ve=newDataPoint$1(Ve.x,t),r.push(this.transform(Ve));let je=this.inverseTransform(e[e.length-1]);return je=newDataPoint$1(je.x,t),r.push(this.transform(je)),this.reverse2&&r.reverse(),r}getInterpolatedX(e,t,r){return(r-e.y)/(t.y-e.y)*(t.x-e.x)+e.x}}class TwoColorLineSeries extends LineSeries{constructor(e){super(e),D$2(this,"defaultColor2",OxyColors$1.Undefined),D$2(this,"color2"),D$2(this,"limit"),this.limit=0,this.color2=OxyColor$1.fromRgb(0,0,255),e&&Object.assign(this,removeUndef$1(e))}get actualColor2(){return this.color2.getActualColor(this.defaultColor2)}setDefaultValues(){super.setDefaultValues(),this.color2.isAutomatic()&&(this.defaultColor2=this.plotModel.getDefaultColor())}async renderLine(e,t){const r=this.getClippingRect(),Ve=this.inverseTransform(r.bottomLeft),je=this.inverseTransform(r.topRight),ze=PlotElementExtensions$1.transform;let Xe=ze(this,Ve.x,Math.min(Ve.y,je.y));const We=ze(this,je.x,this.limit),qe=OxyRect$1.fromScreenPoints(Xe,We).clip(r);Xe=ze(this,Ve.x,Math.max(Ve.y,je.y));const Ke=OxyRect$1.fromScreenPoints(Xe,We).clip(r);if(this.strokeThickness<=0||this.actualLineStyle===LineStyle$1.None)return;const Ze=async Qe=>{await RenderingExtensions$1.drawReducedLine(e,t,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(Qe),this.strokeThickness,this.edgeRenderingMode,this.actualDashArray,this.lineJoin)};let Je=RenderingExtensions$1.autoResetClip(e,qe);await Ze(this.actualColor2),Je.dispose(),Je=RenderingExtensions$1.autoResetClip(e,Ke),await Ze(this.actualColor),Je.dispose()}}const ce$2=class yu extends XYAxisSeries$1{constructor(e){super(e),D$2(this,"_actualItems",[]),D$2(this,"minValue",0),D$2(this,"maxValue",0),D$2(this,"colorAxis"),D$2(this,"colorAxisKey"),D$2(this,"labelStringFormatter",(t,r)=>t.value.toFixed(2)),D$2(this,"labelFontSize",0),D$2(this,"mapping"),D$2(this,"items",[]),D$2(this,"stroke",OxyColors$1.Undefined),D$2(this,"strokeThickness",2),this.trackerStringFormatter=yu.defaultTrackerStringFormatter,this.strokeThickness=2,e&&Object.assign(this,removeUndef$1(e))}get actualItems(){return this.itemsSource?this._actualItems:this.items}async render(e){this.verifyAxes(),await this.renderPolygons(e,this.actualItems)}updateData(){this.itemsSource&&this.updateActualItems()}getItem(e){const t=this.actualItems;return!this.itemsSource&&t&&e<t.length?t[e]:super.getItem(e)}clearActualItems(){this._actualItems&&(this._actualItems.length=0),this._actualItems=[]}updateActualItems(){this.clearActualItems();for(const e of this.itemsSource||[]){if(isPolygonItem$1(e)){this._actualItems.push(e);continue}if(this.mapping){this._actualItems.push(this.mapping(e));continue}throw new Error("Invalid item")}}async renderPolygons(e,t){const r=[];for(const Ve of t){const je=ColorAxisExtensions$1.getColor(this.colorAxis,Ve.value),ze=RenderingExtensions$1.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode$1.PreferSharpness);for(const Xe of Ve.outlines)if(r.length=0,r.push(...Xe.map(We=>this.transform(We))),await e.drawPolygon(r,je,this.stroke,this.strokeThickness,ze),this.labelFontSize>0){const We=this.labelStringFormatter(Ve,[]);await e.drawText(ScreenPointHelper$1.getCentroid(r),We,this.actualTextColor,this.actualFont,this.labelFontSize,this.actualFontWeight,0,HorizontalAlignment$1.Center,VerticalAlignment$1.Middle)}}}getNearestPoint(e,t){const r=this.inverseTransform(e);if(!this.isPointInRange(r))return;const Ve=this.colorAxis,je=(Ve==null?void 0:Ve.title)??yu.defaultColorAxisTitle,ze=[],Xe=this.actualItems;if(Xe){for(const We of Xe)for(let qe=0;qe<We.outlines.length;qe++)if(We.bounds[qe].contains(r.x,r.y)&&(ze.length=0,ze.push(...We.outlines[qe].map(Ke=>this.transform(Ke))),ScreenPointHelper$1.isPointInPolygon(e,ze))){const Ke=super.formatDefaultTrackerString(We,r,Ze=>{Ze.colorAxisTitle=je});return new TrackerHitResult$1({series:this,dataPoint:r,position:e,item:We,index:-1,text:Ke})}}}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}updateMaxMin(){super.updateMaxMin(),this.updateMaxMinXY();const e=this.actualItems;e&&e.length>0&&(this.minValue=minValueOfArray$1(e.map(t=>t.value)),this.maxValue=maxValueOfArray$1(e.map(t=>t.value)))}updateAxisMaxMin(){super.updateAxisMaxMin();const e=this.colorAxis;e&&(e.include(this.minValue),e.include(this.maxValue))}updateMaxMinXY(){const e=this.actualItems;if(e&&e.length>0){const t=e.flatMap(r=>r.bounds);this.minX=minValueOfArray$1(t.map(r=>r.left)),this.maxX=maxValueOfArray$1(t.map(r=>r.right)),this.minY=minValueOfArray$1(t.map(r=>r.top)),this.maxY=maxValueOfArray$1(t.map(r=>r.bottom))}}isPointInRange(e){return this.updateMaxMinXY(),e.x>=this.minX&&e.x<=this.maxX&&e.y>=this.minY&&e.y<=this.maxY}};D$2(ce$2,"defaultTrackerStringFormatter",$e=>`${$e.title}
${$e.xTitle}: ${$e.xValue}
${$e.yTitle}: ${$e.yValue}
${$e.colorAxisTitle}: ${$e.item.value}`),D$2(ce$2,"defaultColorAxisTitle","Value");let PolygonSeries=ce$2;function newPolygonItem($e,e){if(!$e||$e.length===0)throw new Error("Outlines does not contain any sub-polygons.");Array.isArray($e[0])||($e=[$e]);const t=$e.map(Ve=>Ve.slice());for(const Ve of t)for(const je of Ve)if(DataPoint_isUnDefined$1(je)||isInfinity$1(je.x)||isInfinity$1(je.y))throw new Error("Outline contains non-finite elements.");const r=t.map(Ve=>computeBounds(Ve));return{outlines:t,value:e,bounds:r}}function computeBounds($e){let e=$e[0].x,t=$e[0].y,r=$e[0].x,Ve=$e[0].y;for(let je=1;je<$e.length;je++)e=Math.min(e,$e[je].x),t=Math.min(t,$e[je].y),r=Math.max(r,$e[je].x),Ve=Math.max(Ve,$e[je].y);return new OxyRect$1(e,t,r-e,Ve-t)}function isPolygonItem$1($e){return $e&&$e.outlines&&$e.value&&$e.bounds}var xmlbuilder2_min$1={exports:{}};(function($e,e){(function(t,r){$e.exports=r()})(commonjsGlobal$1,function(){return function(t){var r={};function Ve(je){if(r[je])return r[je].exports;var ze=r[je]={i:je,l:!1,exports:{}};return t[je].call(ze.exports,ze,ze.exports,Ve),ze.l=!0,ze.exports}return Ve.m=t,Ve.c=r,Ve.d=function(je,ze,Xe){Ve.o(je,ze)||Object.defineProperty(je,ze,{enumerable:!0,get:Xe})},Ve.r=function(je){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(je,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(je,"__esModule",{value:!0})},Ve.t=function(je,ze){if(1&ze&&(je=Ve(je)),8&ze||4&ze&&typeof je=="object"&&je&&je.__esModule)return je;var Xe=Object.create(null);if(Ve.r(Xe),Object.defineProperty(Xe,"default",{enumerable:!0,value:je}),2&ze&&typeof je!="string")for(var We in je)Ve.d(Xe,We,(function(qe){return je[qe]}).bind(null,We));return Xe},Ve.n=function(je){var ze=je&&je.__esModule?function(){return je.default}:function(){return je};return Ve.d(ze,"a",ze),ze},Ve.o=function(je,ze){return Object.prototype.hasOwnProperty.call(je,ze)},Ve.p="",Ve(Ve.s=184)}([function(t,r,Ve){function je(ze){for(var Xe in ze)r.hasOwnProperty(Xe)||(r[Xe]=ze[Xe])}Object.defineProperty(r,"__esModule",{value:!0}),je(Ve(240)),je(Ve(251)),je(Ve(175)),je(Ve(107)),je(Ve(29)),je(Ve(73)),je(Ve(106)),je(Ve(30)),je(Ve(252)),je(Ve(52)),je(Ve(97)),je(Ve(253)),je(Ve(37)),je(Ve(51)),je(Ve(173)),je(Ve(176)),je(Ve(172)),je(Ve(108)),je(Ve(254)),je(Ve(255)),je(Ve(256)),je(Ve(72)),je(Ve(177)),je(Ve(105)),je(Ve(17)),je(Ve(257)),je(Ve(12)),je(Ve(174))},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0}),function(je){je[je.Before=0]="Before",je[je.Equal=1]="Equal",je[je.After=2]="After"}(r.BoundaryPosition||(r.BoundaryPosition={})),function(je){je[je.None=0]="None",je[je.Capturing=1]="Capturing",je[je.AtTarget=2]="AtTarget",je[je.Bubbling=3]="Bubbling"}(r.EventPhase||(r.EventPhase={})),function(je){je[je.Element=1]="Element",je[je.Attribute=2]="Attribute",je[je.Text=3]="Text",je[je.CData=4]="CData",je[je.EntityReference=5]="EntityReference",je[je.Entity=6]="Entity",je[je.ProcessingInstruction=7]="ProcessingInstruction",je[je.Comment=8]="Comment",je[je.Document=9]="Document",je[je.DocumentType=10]="DocumentType",je[je.DocumentFragment=11]="DocumentFragment",je[je.Notation=12]="Notation"}(r.NodeType||(r.NodeType={})),function(je){je[je.Disconnected=1]="Disconnected",je[je.Preceding=2]="Preceding",je[je.Following=4]="Following",je[je.Contains=8]="Contains",je[je.ContainedBy=16]="ContainedBy",je[je.ImplementationSpecific=32]="ImplementationSpecific"}(r.Position||(r.Position={})),function(je){je[je.Accept=1]="Accept",je[je.Reject=2]="Reject",je[je.Skip=3]="Skip"}(r.FilterResult||(r.FilterResult={})),function(je){je[je.All=4294967295]="All",je[je.Element=1]="Element",je[je.Attribute=2]="Attribute",je[je.Text=4]="Text",je[je.CDataSection=8]="CDataSection",je[je.EntityReference=16]="EntityReference",je[je.Entity=32]="Entity",je[je.ProcessingInstruction=64]="ProcessingInstruction",je[je.Comment=128]="Comment",je[je.Document=256]="Document",je[je.DocumentType=512]="DocumentType",je[je.DocumentFragment=1024]="DocumentFragment",je[je.Notation=2048]="Notation"}(r.WhatToShow||(r.WhatToShow={})),function(je){je[je.StartToStart=0]="StartToStart",je[je.StartToEnd=1]="StartToEnd",je[je.EndToEnd=2]="EndToEnd",je[je.EndToStart=3]="EndToStart"}(r.HowToCompare||(r.HowToCompare={}))},function(t,r,Ve){var je=this&&this.__values||function(St){var oi=typeof Symbol=="function"&&Symbol.iterator,si=oi&&St[oi],ai=0;if(si)return si.call(St);if(St&&typeof St.length=="number")return{next:function(){return St&&ai>=St.length&&(St=void 0),{value:St&&St[ai++],done:!St}}};throw new TypeError(oi?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var ze=Ve(212);r.FixedSizeSet=ze.FixedSizeSet;var Xe=Ve(213);r.ObjectCache=Xe.ObjectCache;var We=Ve(214);r.CompareCache=We.CompareCache;var qe=Ve(215);r.Lazy=qe.Lazy;var Ke=Ve(216);function Ze(St,oi,si){if(ii(St))St.forEach(function(ui,hi){return oi.call(si,hi,ui)});else for(var ai in St)St.hasOwnProperty(ai)&&oi.call(si,ai,St[ai])}function Je(St){var oi,si;if(Qe(St))return St;if(ni(St)){var ai=[];try{for(var ui=je(St),hi=ui.next();!hi.done;hi=ui.next()){var ci=hi.value;ai.push(Je(ci))}}catch(pi){oi={error:pi}}finally{try{hi&&!hi.done&&(si=ui.return)&&si.call(ui)}finally{if(oi)throw oi.error}}return ai}if(ti(St)){ai={};for(var mi in St)if(St.hasOwnProperty(mi)){var di=St[mi];ai[mi]=Je(di)}return ai}return St}function Qe(St){return!!St&&Object.prototype.toString.call(St)==="[object Function]"}function ti(St){var oi=typeof St;return!!St&&(oi==="function"||oi==="object")}function ni(St){return Array.isArray(St)}function ri(St){return St instanceof Set}function ii(St){return St instanceof Map}function ei(St){if(ti(St)){var oi=Object.getPrototypeOf(St),si=oi.constructor;return oi&&si&&typeof si=="function"&&si instanceof si&&Function.prototype.toString.call(si)===Function.prototype.toString.call(Object)}return!1}r.StringWalker=Ke.StringWalker,r.applyMixin=function(St,oi){for(var si=[],ai=2;ai<arguments.length;ai++)si[ai-2]=arguments[ai];Object.getOwnPropertyNames(oi.prototype).forEach(function(ui){if(ui!=="constructor"){if(si.indexOf(ui)!==-1){var hi=Object.getOwnPropertyDescriptor(St.prototype,ui);hi&&Object.defineProperty(St.prototype,"_"+ui,hi)}var ci=Object.getOwnPropertyDescriptor(oi.prototype,ui);ci&&Object.defineProperty(St.prototype,ui,ci)}})},r.applyDefaults=function St(oi,si,ai){ai===void 0&&(ai=!1);var ui=Je(oi||{});return Ze(si,function(hi,ci){ei(ci)?ui[hi]=St(ui[hi],ci,ai):(ai||ui[hi]===void 0)&&(ui[hi]=ci)}),ui},r.forEachArray=function(St,oi,si){St.forEach(oi,si)},r.forEachObject=Ze,r.arrayLength=function(St){return ri(St)?St.size:St.length},r.objectLength=function(St){return ii(St)?St.size:Object.keys(St).length},r.getObjectValue=function(St,oi){return ii(St)?St.get(oi):St[oi]},r.removeObjectValue=function(St,oi){ii(St)?St.delete(oi):delete St[oi]},r.clone=Je,r.isBoolean=function(St){return typeof St=="boolean"},r.isNumber=function(St){return typeof St=="number"},r.isString=function(St){return typeof St=="string"},r.isFunction=Qe,r.isObject=ti,r.isArray=ni,r.isSet=ri,r.isMap=ii,r.isEmpty=function(St){if(ni(St))return!St.length;if(ri(St)||ii(St))return!St.size;if(ti(St)){for(var oi in St)if(St.hasOwnProperty(oi))return!1;return!0}return!1},r.isPlainObject=ei,r.isIterable=function(St){return St&&typeof St[Symbol.iterator]=="function"},r.getValue=function(St){return Qe(St.valueOf)?St.valueOf():St},r.utf8Encode=function(St){for(var oi=new Uint8Array(4*St.length),si=0,ai=0;ai<St.length;ai++){var ui=St.charCodeAt(ai);if(ui<128)oi[si++]=ui;else{if(ui<2048)oi[si++]=ui>>6|192;else{if(ui>55295&&ui<56320){if(++ai>=St.length)throw new Error("Incomplete surrogate pair.");var hi=St.charCodeAt(ai);if(hi<56320||hi>57343)throw new Error("Invalid surrogate character.");ui=65536+((1023&ui)<<10)+(1023&hi),oi[si++]=ui>>18|240,oi[si++]=ui>>12&63|128}else oi[si++]=ui>>12|224;oi[si++]=ui>>6&63|128}oi[si++]=63&ui|128}}return oi.subarray(0,si)},r.utf8Decode=function(St){for(var oi="",si=0;si<St.length;){var ai=St[si++];if(ai>127)if(ai>191&&ai<224){if(si>=St.length)throw new Error("Incomplete 2-byte sequence.");ai=(31&ai)<<6|63&St[si++]}else if(ai>223&&ai<240){if(si+1>=St.length)throw new Error("Incomplete 3-byte sequence.");ai=(15&ai)<<12|(63&St[si++])<<6|63&St[si++]}else{if(!(ai>239&&ai<248))throw new Error("Unknown multi-byte start.");if(si+2>=St.length)throw new Error("Incomplete 4-byte sequence.");ai=(7&ai)<<18|(63&St[si++])<<12|(63&St[si++])<<6|63&St[si++]}if(ai<=65535)oi+=String.fromCharCode(ai);else{if(!(ai<=1114111))throw new Error("Code point exceeds UTF-16 limit.");ai-=65536,oi+=String.fromCharCode(ai>>10|55296),oi+=String.fromCharCode(1023&ai|56320)}}return oi}},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(241);r.Cast=je.Cast;var ze=Ve(150);r.Guard=ze.Guard;var Xe=Ve(242);r.EmptySet=Xe.EmptySet},function(t,r,Ve){var je=Ve(11),ze=Ve(55).f,Xe=Ve(21),We=Ve(25),qe=Ve(80),Ke=Ve(119),Ze=Ve(123);t.exports=function(Je,Qe){var ti,ni,ri,ii,ei,St=Je.target,oi=Je.global,si=Je.stat;if(ti=oi?je:si?je[St]||qe(St,{}):(je[St]||{}).prototype)for(ni in Qe){if(ii=Qe[ni],ri=Je.noTargetGet?(ei=ze(ti,ni))&&ei.value:ti[ni],!Ze(oi?ni:St+(si?".":"#")+ni,Je.forced)&&ri!==void 0){if(typeof ii==typeof ri)continue;Ke(ii,ri)}(Je.sham||ri&&ri.sham)&&Xe(ii,"sham",!0),We(ti,ni,ii,Je)}}},function(t,r,Ve){var je=Ve(11),ze=Ve(81),Xe=Ve(14),We=Ve(58),qe=Ve(86),Ke=Ve(124),Ze=ze("wks"),Je=je.Symbol,Qe=Ke?Je:Je&&Je.withoutSetter||We;t.exports=function(ti){return Xe(Ze,ti)||(qe&&Xe(Je,ti)?Ze[ti]=Je[ti]:Ze[ti]=Qe("Symbol."+ti)),Ze[ti]}},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(2),ze=Ve(29),Xe=function(){function We(){this._features={mutationObservers:!0,customElements:!0,slots:!0,steps:!0},this._window=null,this._compareCache=new je.CompareCache,this._rangeList=new je.FixedSizeSet}return We.prototype.setFeatures=function(qe){if(qe===void 0&&(qe=!0),je.isObject(qe))for(var Ke in qe)this._features[Ke]=qe[Ke]||!1;else for(var Ke in this._features)this._features[Ke]=qe},Object.defineProperty(We.prototype,"features",{get:function(){return this._features},enumerable:!0,configurable:!0}),Object.defineProperty(We.prototype,"window",{get:function(){return this._window===null&&(this._window=ze.create_window()),this._window},enumerable:!0,configurable:!0}),Object.defineProperty(We.prototype,"compareCache",{get:function(){return this._compareCache},enumerable:!0,configurable:!0}),Object.defineProperty(We.prototype,"rangeList",{get:function(){return this._rangeList},enumerable:!0,configurable:!0}),Object.defineProperty(We,"instance",{get:function(){return We._instance||(We._instance=new We),We._instance},enumerable:!0,configurable:!0}),We}();r.dom=Xe.instance},function(t,r,Ve){var je=this&&this.__importStar||function(ei){if(ei&&ei.__esModule)return ei;var St={};if(ei!=null)for(var oi in ei)Object.hasOwnProperty.call(ei,oi)&&(St[oi]=ei[oi]);return St.default=ei,St};Object.defineProperty(r,"__esModule",{value:!0});var ze=je(Ve(228));r.base64=ze;var Xe=je(Ve(146));r.byte=Xe;var We=je(Ve(147));r.byteSequence=We;var qe=je(Ve(96));r.codePoint=qe;var Ke=je(Ve(232));r.json=Ke;var Ze=je(Ve(233));r.list=Ze;var Je=je(Ve(234));r.map=Je;var Qe=je(Ve(235));r.namespace=Qe;var ti=je(Ve(236));r.queue=ti;var ni=je(Ve(237));r.set=ni;var ri=je(Ve(238));r.stack=ri;var ii=je(Ve(239));r.string=ii},function(t,r){t.exports=function(Ve){try{return!!Ve()}catch{return!0}}},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(vi,Mi){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Di,Bi){Di.__proto__=Bi}||function(Di,Bi){for(var Pi in Bi)Bi.hasOwnProperty(Pi)&&(Di[Pi]=Bi[Pi])})(vi,Mi)},function(vi,Mi){function Di(){this.constructor=vi}je(vi,Mi),vi.prototype=Mi===null?Object.create(Mi):(Di.prototype=Mi.prototype,new Di)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=function(vi){function Mi(Di,Bi){Bi===void 0&&(Bi="");var Pi=vi.call(this,Bi)||this;return Pi.name=Di,Pi}return ze(Mi,vi),Mi}(Error);r.DOMException=Xe;var We=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"DOMStringSizeError",Di)||this}return ze(Mi,vi),Mi}(Xe);r.DOMStringSizeError=We;var qe=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"WrongDocumentError","The object is in the wrong document. "+Di)||this}return ze(Mi,vi),Mi}(Xe);r.WrongDocumentError=qe;var Ke=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"NoDataAllowedError",Di)||this}return ze(Mi,vi),Mi}(Xe);r.NoDataAllowedError=Ke;var Ze=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"NoModificationAllowedError","The object can not be modified. "+Di)||this}return ze(Mi,vi),Mi}(Xe);r.NoModificationAllowedError=Ze;var Je=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"NotSupportedError","The operation is not supported. "+Di)||this}return ze(Mi,vi),Mi}(Xe);r.NotSupportedError=Je;var Qe=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"InUseAttributeError",Di)||this}return ze(Mi,vi),Mi}(Xe);r.InUseAttributeError=Qe;var ti=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"InvalidStateError","The object is in an invalid state. "+Di)||this}return ze(Mi,vi),Mi}(Xe);r.InvalidStateError=ti;var ni=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"InvalidModificationError","The object can not be modified in this way. "+Di)||this}return ze(Mi,vi),Mi}(Xe);r.InvalidModificationError=ni;var ri=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"NamespaceError","The operation is not allowed by Namespaces in XML. [XMLNS] "+Di)||this}return ze(Mi,vi),Mi}(Xe);r.NamespaceError=ri;var ii=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"InvalidAccessError","The object does not support the operation or argument. "+Di)||this}return ze(Mi,vi),Mi}(Xe);r.InvalidAccessError=ii;var ei=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"ValidationError",Di)||this}return ze(Mi,vi),Mi}(Xe);r.ValidationError=ei;var St=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"TypeMismatchError",Di)||this}return ze(Mi,vi),Mi}(Xe);r.TypeMismatchError=St;var oi=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"SecurityError","The operation is insecure. "+Di)||this}return ze(Mi,vi),Mi}(Xe);r.SecurityError=oi;var si=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"NetworkError","A network error occurred. "+Di)||this}return ze(Mi,vi),Mi}(Xe);r.NetworkError=si;var ai=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"AbortError","The operation was aborted. "+Di)||this}return ze(Mi,vi),Mi}(Xe);r.AbortError=ai;var ui=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"URLMismatchError","The given URL does not match another URL. "+Di)||this}return ze(Mi,vi),Mi}(Xe);r.URLMismatchError=ui;var hi=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"QuotaExceededError","The quota has been exceeded. "+Di)||this}return ze(Mi,vi),Mi}(Xe);r.QuotaExceededError=hi;var ci=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"TimeoutError","The operation timed out. "+Di)||this}return ze(Mi,vi),Mi}(Xe);r.TimeoutError=ci;var mi=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"InvalidNodeTypeError","The supplied node is incorrect or has an incorrect ancestor for this operation. "+Di)||this}return ze(Mi,vi),Mi}(Xe);r.InvalidNodeTypeError=mi;var di=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"DataCloneError","The object can not be cloned. "+Di)||this}return ze(Mi,vi),Mi}(Xe);r.DataCloneError=di;var pi=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"NotImplementedError","The DOM method is not implemented by this module. "+Di)||this}return ze(Mi,vi),Mi}(Xe);r.NotImplementedError=pi;var yi=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"HierarchyRequestError","The operation would yield an incorrect node tree. "+Di)||this}return ze(Mi,vi),Mi}(Xe);r.HierarchyRequestError=yi;var gi=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"NotFoundError","The object can not be found here. "+Di)||this}return ze(Mi,vi),Mi}(Xe);r.NotFoundError=gi;var _i=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"IndexSizeError","The index is not in the allowed range. "+Di)||this}return ze(Mi,vi),Mi}(Xe);r.IndexSizeError=_i;var Ai=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"SyntaxError","The string did not match the expected pattern. "+Di)||this}return ze(Mi,vi),Mi}(Xe);r.SyntaxError=Ai;var ki=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"InvalidCharacterError","The string contains invalid characters. "+Di)||this}return ze(Mi,vi),Mi}(Xe);r.InvalidCharacterError=ki},function(t,r,Ve){var je=Ve(53),ze=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],Xe=["scalar","sequence","mapping"];t.exports=function(We,qe){var Ke,Ze;if(qe=qe||{},Object.keys(qe).forEach(function(Je){if(ze.indexOf(Je)===-1)throw new je('Unknown option "'+Je+'" is met in definition of "'+We+'" YAML type.')}),this.tag=We,this.kind=qe.kind||null,this.resolve=qe.resolve||function(){return!0},this.construct=qe.construct||function(Je){return Je},this.instanceOf=qe.instanceOf||null,this.predicate=qe.predicate||null,this.represent=qe.represent||null,this.defaultStyle=qe.defaultStyle||null,this.styleAliases=(Ke=qe.styleAliases||null,Ze={},Ke!==null&&Object.keys(Ke).forEach(function(Je){Ke[Je].forEach(function(Qe){Ze[String(Qe)]=Je})}),Ze),Xe.indexOf(this.kind)===-1)throw new je('Unknown kind "'+this.kind+'" is specified for "'+We+'" YAML type.')}},function(t,r,Ve){(function(je){var ze=function(Xe){return Xe&&Xe.Math==Math&&Xe};t.exports=ze(typeof globalThis=="object"&&globalThis)||ze(typeof window=="object"&&window)||ze(typeof self=="object"&&self)||ze(typeof je=="object"&&je)||Function("return this")()}).call(this,Ve(78))},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0}),r.idl_defineConst=function(je,ze,Xe){Object.defineProperty(je,ze,{writable:!1,enumerable:!0,configurable:!1,value:Xe})}},function(t,r){t.exports=function(Ve){return typeof Ve=="object"?Ve!==null:typeof Ve=="function"}},function(t,r){var Ve={}.hasOwnProperty;t.exports=function(je,ze){return Ve.call(je,ze)}},function(t,r,Ve){var je=Ve(16),ze=Ve(115),Xe=Ve(18),We=Ve(56),qe=Object.defineProperty;r.f=je?qe:function(Ke,Ze,Je){if(Xe(Ke),Ze=We(Ze,!0),Xe(Je),ze)try{return qe(Ke,Ze,Je)}catch{}if("get"in Je||"set"in Je)throw TypeError("Accessors not supported");return"value"in Je&&(Ke[Ze]=Je.value),Ke}},function(t,r,Ve){var je=Ve(8);t.exports=!je(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(t,r,Ve){var je=this&&this.__values||function(St){var oi=typeof Symbol=="function"&&Symbol.iterator,si=oi&&St[oi],ai=0;if(si)return si.call(St);if(St&&typeof St.length=="number")return{next:function(){return St&&ai>=St.length&&(St=void 0),{value:St&&St[ai++],done:!St}}};throw new TypeError(oi?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var ze=Ve(3),Xe=Ve(1);function We(St,oi,si){if(si===void 0&&(si=!1),si&&ze.Guard.isElementNode(oi)&&ze.Guard.isShadowRoot(oi.shadowRoot)&&oi.shadowRoot._firstChild)return oi.shadowRoot._firstChild;if(oi._firstChild)return oi._firstChild;if(oi===St)return null;if(oi._nextSibling)return oi._nextSibling;for(var ai=oi._parent;ai&&ai!==St;){if(ai._nextSibling)return ai._nextSibling;ai=ai._parent}return null}function qe(){var St;return(St={})[Symbol.iterator]=function(){return{next:function(){return{done:!0,value:null}}}},St}function Ke(St,oi,si,ai){oi===void 0&&(oi=!1),si===void 0&&(si=!1);for(var ui=oi?St:We(St,St,si);ui&&ai&&!ai(ui);)ui=We(St,ui,si);return ui}function Ze(St,oi,si,ai,ui){ai===void 0&&(ai=!1);for(var hi=We(St,oi,ai);hi&&ui&&!ui(hi);)hi=We(St,hi,ai);return hi}function Je(St,oi,si,ai){var ui;return oi===void 0&&(oi=!1),si===void 0&&(si=!1),oi||St._children.size!==0?((ui={})[Symbol.iterator]=function(){var hi=oi?St:We(St,St,si);return{next:function(){for(;hi&&ai&&!ai(hi);)hi=We(St,hi,si);if(hi===null)return{done:!0,value:null};var ci={done:!1,value:hi};return hi=We(St,hi,si),ci}}},ui):qe()}function Qe(St,oi,si){oi===void 0&&(oi=!1);for(var ai=oi?St:St._parent;ai&&si&&!si(ai);)ai=ai._parent;return ai}function ti(St,oi,si,ai){for(var ui=oi._parent;ui&&ai&&!ai(ui);)ui=ui._parent;return ui}function ni(St){return ze.Guard.isDocumentTypeNode(St)?0:ze.Guard.isCharacterDataNode(St)?St._data.length:St._children.size}function ri(St,oi){if(oi===void 0&&(oi=!1),oi){var si=ri(St,!1);return ze.Guard.isShadowRoot(si)?ri(si._host,!0):si}return St._parent?ri(St._parent):St}function ii(St,oi,si,ai){si===void 0&&(si=!1),ai===void 0&&(ai=!1);for(var ui=si?St:ai&&ze.Guard.isShadowRoot(St)?St._host:St._parent;ui!==null;){if(ui===oi)return!0;ui=ai&&ze.Guard.isShadowRoot(ui)?ui._host:ui._parent}return!1}function ei(St){for(var oi=ri(St),si=0,ai=Ke(oi);ai!==null;){if(si++,ai===St)return si;ai=Ze(oi,ai)}return-1}r.tree_getFirstDescendantNode=Ke,r.tree_getNextDescendantNode=Ze,r.tree_getDescendantNodes=Je,r.tree_getDescendantElements=function(St,oi,si,ai){var ui;return oi===void 0&&(oi=!1),si===void 0&&(si=!1),oi||St._children.size!==0?((ui={})[Symbol.iterator]=function(){var hi=Je(St,oi,si,function(mi){return ze.Guard.isElementNode(mi)})[Symbol.iterator](),ci=hi.next().value;return{next:function(){for(;ci&&ai&&!ai(ci);)ci=hi.next().value;if(ci===null)return{done:!0,value:null};var mi={done:!1,value:ci};return ci=hi.next().value,mi}}},ui):qe()},r.tree_getSiblingNodes=function(St,oi,si){var ai;return oi===void 0&&(oi=!1),St._parent&&St._parent._children.size!==0?((ai={})[Symbol.iterator]=function(){var ui=St._parent?St._parent._firstChild:null;return{next:function(){for(;ui&&(si&&!si(ui)||!oi&&ui===St);)ui=ui._nextSibling;if(ui===null)return{done:!0,value:null};var hi={done:!1,value:ui};return ui=ui._nextSibling,hi}}},ai):qe()},r.tree_getFirstAncestorNode=Qe,r.tree_getNextAncestorNode=ti,r.tree_getAncestorNodes=function(St,oi,si){var ai;return oi===void 0&&(oi=!1),oi||St._parent?((ai={})[Symbol.iterator]=function(){var ui=Qe(St,oi,si);return{next:function(){if(ui===null)return{done:!0,value:null};var hi={done:!1,value:ui};return ui=ti(0,ui,oi,si),hi}}},ai):qe()},r.tree_getCommonAncestor=function(St,oi){if(St===oi)return St._parent;for(var si=[],ai=[],ui=Qe(St,!0);ui!==null;)si.push(ui),ui=ti(0,ui);for(var hi=Qe(oi,!0);hi!==null;)ai.push(hi),hi=ti(0,hi);for(var ci=si.length,mi=ai.length,di=null,pi=Math.min(ci,mi);pi>0;pi--){var yi=si[--ci];if(yi!==ai[--mi])break;di=yi}return di},r.tree_getFollowingNode=function(St,oi){if(oi._firstChild)return oi._firstChild;if(oi._nextSibling)return oi._nextSibling;for(;;){var si=oi._parent;if(si===null||si===St)return null;if(si._nextSibling)return si._nextSibling;oi=si}},r.tree_getPrecedingNode=function(St,oi){return oi===St?null:oi._previousSibling?(oi=oi._previousSibling)._lastChild?oi._lastChild:oi:oi._parent},r.tree_isConstrained=function St(oi){var si,ai,ui,hi,ci,mi;switch(oi._nodeType){case Xe.NodeType.Document:var di=!1,pi=!1;try{for(var yi=je(oi._children),gi=yi.next();!gi.done;gi=yi.next())switch(gi.value._nodeType){case Xe.NodeType.ProcessingInstruction:case Xe.NodeType.Comment:break;case Xe.NodeType.DocumentType:if(di||pi)return!1;di=!0;break;case Xe.NodeType.Element:if(pi)return!1;pi=!0;break;default:return!1}}catch(Mi){si={error:Mi}}finally{try{gi&&!gi.done&&(ai=yi.return)&&ai.call(yi)}finally{if(si)throw si.error}}break;case Xe.NodeType.DocumentFragment:case Xe.NodeType.Element:try{for(var _i=je(oi._children),Ai=_i.next();!Ai.done;Ai=_i.next())switch(Ai.value._nodeType){case Xe.NodeType.Element:case Xe.NodeType.Text:case Xe.NodeType.ProcessingInstruction:case Xe.NodeType.CData:case Xe.NodeType.Comment:break;default:return!1}}catch(Mi){ui={error:Mi}}finally{try{Ai&&!Ai.done&&(hi=_i.return)&&hi.call(_i)}finally{if(ui)throw ui.error}}break;case Xe.NodeType.DocumentType:case Xe.NodeType.Text:case Xe.NodeType.ProcessingInstruction:case Xe.NodeType.CData:case Xe.NodeType.Comment:return!oi.hasChildNodes()}try{for(var ki=je(oi._children),vi=ki.next();!vi.done;vi=ki.next())if(!St(vi.value))return!1}catch(Mi){ci={error:Mi}}finally{try{vi&&!vi.done&&(mi=ki.return)&&mi.call(ki)}finally{if(ci)throw ci.error}}return!0},r.tree_nodeLength=ni,r.tree_isEmpty=function(St){return ni(St)===0},r.tree_rootNode=ri,r.tree_isDescendantOf=function(St,oi,si,ai){si===void 0&&(si=!1),ai===void 0&&(ai=!1);for(var ui=Ke(St,si,ai);ui!==null;){if(ui===oi)return!0;ui=Ze(St,ui,si,ai)}return!1},r.tree_isAncestorOf=ii,r.tree_isHostIncludingAncestorOf=function St(oi,si,ai){if(ai===void 0&&(ai=!1),ii(oi,si,ai))return!0;var ui=ri(oi);return!(!ze.Guard.isDocumentFragmentNode(ui)||ui._host===null||!St(ui._host,si,ai))},r.tree_isSiblingOf=function(St,oi,si){return si===void 0&&(si=!1),St!==oi?St._parent!==null&&St._parent===oi._parent:!!si},r.tree_isPreceding=function(St,oi){var si=ei(St),ai=ei(oi);return si!==-1&&ai!==-1&&ri(St)===ri(oi)&&ai<si},r.tree_isFollowing=function(St,oi){var si=ei(St),ai=ei(oi);return si!==-1&&ai!==-1&&ri(St)===ri(oi)&&ai>si},r.tree_isParentOf=function(St,oi){return St._parent===oi},r.tree_isChildOf=function(St,oi){return oi._parent===St},r.tree_previousSibling=function(St){return St._previousSibling},r.tree_nextSibling=function(St){return St._nextSibling},r.tree_firstChild=function(St){return St._firstChild},r.tree_lastChild=function(St){return St._lastChild},r.tree_treePosition=ei,r.tree_index=function(St){for(var oi=0;St._previousSibling!==null;)oi++,St=St._previousSibling;return oi},r.tree_retarget=function(St,oi){for(;;){if(!St||!ze.Guard.isNode(St))return St;var si=ri(St);if(!ze.Guard.isShadowRoot(si)||oi&&ze.Guard.isNode(oi)&&ii(si,oi,!0,!0))return St;St=si.host}}},function(t,r,Ve){var je=Ve(13);t.exports=function(ze){if(!je(ze))throw TypeError(String(ze)+" is not an object");return ze}},function(t,r,Ve){var je=Ve(24),ze=Ve(130),Xe=Ve(49),We=Ve(43),qe=Ve(88),Ke=We.set,Ze=We.getterFor("Array Iterator");t.exports=qe(Array,"Array",function(Je,Qe){Ke(this,{type:"Array Iterator",target:je(Je),index:0,kind:Qe})},function(){var Je=Ze(this),Qe=Je.target,ti=Je.kind,ni=Je.index++;return!Qe||ni>=Qe.length?(Je.target=void 0,{value:void 0,done:!0}):ti=="keys"?{value:ni,done:!1}:ti=="values"?{value:Qe[ni],done:!1}:{value:[ni,Qe[ni]],done:!1}},"values"),Xe.Arguments=Xe.Array,ze("keys"),ze("values"),ze("entries")},function(t,r,Ve){var je=Ve(90),ze=Ve(25),Xe=Ve(202);je||ze(Object.prototype,"toString",Xe,{unsafe:!0})},function(t,r,Ve){var je=Ve(16),ze=Ve(15),Xe=Ve(40);t.exports=je?function(We,qe,Ke){return ze.f(We,qe,Xe(1,Ke))}:function(We,qe,Ke){return We[qe]=Ke,We}},function(t,r,Ve){var je=Ve(137).charAt,ze=Ve(43),Xe=Ve(88),We=ze.set,qe=ze.getterFor("String Iterator");Xe(String,"String",function(Ke){We(this,{type:"String Iterator",string:String(Ke),index:0})},function(){var Ke,Ze=qe(this),Je=Ze.string,Qe=Ze.index;return Qe>=Je.length?{value:void 0,done:!0}:(Ke=je(Je,Qe),Ze.index+=Ke.length,{value:Ke,done:!1})})},function(t,r,Ve){var je=Ve(11),ze=Ve(203),Xe=Ve(19),We=Ve(21),qe=Ve(5),Ke=qe("iterator"),Ze=qe("toStringTag"),Je=Xe.values;for(var Qe in ze){var ti=je[Qe],ni=ti&&ti.prototype;if(ni){if(ni[Ke]!==Je)try{We(ni,Ke,Je)}catch{ni[Ke]=Je}if(ni[Ze]||We(ni,Ze,Qe),ze[Qe]){for(var ri in Xe)if(ni[ri]!==Xe[ri])try{We(ni,ri,Xe[ri])}catch{ni[ri]=Xe[ri]}}}}},function(t,r,Ve){var je=Ve(41),ze=Ve(35);t.exports=function(Xe){return je(ze(Xe))}},function(t,r,Ve){var je=Ve(11),ze=Ve(21),Xe=Ve(14),We=Ve(80),qe=Ve(117),Ke=Ve(43),Ze=Ke.get,Je=Ke.enforce,Qe=String(String).split("String");(t.exports=function(ti,ni,ri,ii){var ei=!!ii&&!!ii.unsafe,St=!!ii&&!!ii.enumerable,oi=!!ii&&!!ii.noTargetGet;typeof ri=="function"&&(typeof ni!="string"||Xe(ri,"name")||ze(ri,"name",ni),Je(ri).source=Qe.join(typeof ni=="string"?ni:"")),ti!==je?(ei?!oi&&ti[ni]&&(St=!0):delete ti[ni],St?ti[ni]=ri:ze(ti,ni,ri)):St?ti[ni]=ri:We(ni,ri)})(Function.prototype,"toString",function(){return typeof this=="function"&&Ze(this).source||qe(this)})},function(t,r,Ve){var je=Ve(47),ze=Math.min;t.exports=function(Xe){return Xe>0?ze(je(Xe),9007199254740991):0}},function(t,r,Ve){var je=Ve(35);t.exports=function(ze){return Object(je(ze))}},function(t,r,Ve){var je=Ve(16),ze=Ve(8),Xe=Ve(14),We=Object.defineProperty,qe={},Ke=function(Ze){throw Ze};t.exports=function(Ze,Je){if(Xe(qe,Ze))return qe[Ze];Je||(Je={});var Qe=[][Ze],ti=!!Xe(Je,"ACCESSORS")&&Je.ACCESSORS,ni=Xe(Je,0)?Je[0]:Ke,ri=Xe(Je,1)?Je[1]:void 0;return qe[Ze]=!!Qe&&!ze(function(){if(ti&&!je)return!0;var ii={length:-1};ti?We(ii,1,{enumerable:!0,get:Ke}):ii[1]=1,Qe.call(ii,ni,ri)})}},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(148),ze=Ve(149),Xe=Ve(151),We=Ve(98),qe=Ve(153),Ke=Ve(154),Ze=Ve(155),Je=Ve(99),Qe=Ve(100),ti=Ve(156),ni=Ve(157),ri=Ve(101),ii=Ve(158),ei=Ve(159),St=Ve(160),oi=Ve(161),si=Ve(162),ai=Ve(163),ui=Ve(164),hi=Ve(165),ci=Ve(166),mi=Ve(167),di=Ve(168),pi=Ve(169),yi=Ve(170);r.create_domImplementation=function(gi){return je.DOMImplementationImpl._create(gi)},r.create_window=function(){return ze.WindowImpl._create()},r.create_xmlDocument=function(){return new Xe.XMLDocumentImpl},r.create_document=function(){return new We.DocumentImpl},r.create_abortController=function(){return new qe.AbortControllerImpl},r.create_abortSignal=function(){return Ke.AbortSignalImpl._create()},r.create_documentType=function(gi,_i,Ai,ki){return Ze.DocumentTypeImpl._create(gi,_i,Ai,ki)},r.create_element=function(gi,_i,Ai,ki){return Je.ElementImpl._create(gi,_i,Ai,ki)},r.create_htmlElement=function(gi,_i,Ai,ki){return Je.ElementImpl._create(gi,_i,Ai,ki)},r.create_htmlUnknownElement=function(gi,_i,Ai,ki){return Je.ElementImpl._create(gi,_i,Ai,ki)},r.create_documentFragment=function(gi){return Qe.DocumentFragmentImpl._create(gi)},r.create_shadowRoot=function(gi,_i){return ti.ShadowRootImpl._create(gi,_i)},r.create_attr=function(gi,_i){return ni.AttrImpl._create(gi,_i)},r.create_text=function(gi,_i){return ri.TextImpl._create(gi,_i)},r.create_cdataSection=function(gi,_i){return ii.CDATASectionImpl._create(gi,_i)},r.create_comment=function(gi,_i){return ei.CommentImpl._create(gi,_i)},r.create_processingInstruction=function(gi,_i,Ai){return St.ProcessingInstructionImpl._create(gi,_i,Ai)},r.create_htmlCollection=function(gi,_i){return _i===void 0&&(_i=function(){return!0}),oi.HTMLCollectionImpl._create(gi,_i)},r.create_nodeList=function(gi){return si.NodeListImpl._create(gi)},r.create_nodeListStatic=function(gi,_i){return ai.NodeListStaticImpl._create(gi,_i)},r.create_namedNodeMap=function(gi){return ui.NamedNodeMapImpl._create(gi)},r.create_range=function(gi,_i){return hi.RangeImpl._create(gi,_i)},r.create_nodeIterator=function(gi,_i,Ai){return ci.NodeIteratorImpl._create(gi,_i,Ai)},r.create_treeWalker=function(gi,_i){return mi.TreeWalkerImpl._create(gi,_i)},r.create_nodeFilter=function(){return di.NodeFilterImpl._create()},r.create_mutationRecord=function(gi,_i,Ai,ki,vi,Mi,Di,Bi,Pi){return pi.MutationRecordImpl._create(gi,_i,Ai,ki,vi,Mi,Di,Bi,Pi)},r.create_domTokenList=function(gi,_i){return yi.DOMTokenListImpl._create(gi,_i)}},function(t,r,Ve){var je=this&&this.__values||function(ni){var ri=typeof Symbol=="function"&&Symbol.iterator,ii=ri&&ni[ri],ei=0;if(ii)return ii.call(ni);if(ni&&typeof ni.length=="number")return{next:function(){return ni&&ei>=ni.length&&(ni=void 0),{value:ni&&ni[ei++],done:!ni}}};throw new TypeError(ri?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var ze=Ve(6),Xe=Ve(17),We=Ve(3),qe=Ve(72),Ke=new Map;function Ze(ni,ri){if(ri!==ni._root&&Xe.tree_isAncestorOf(ni._reference,ri,!0)){if(ni._pointerBeforeReference)for(;;){var ii=Xe.tree_getFollowingNode(ni._root,ri);if(ii!==null&&Xe.tree_isDescendantOf(ni._root,ii,!0)&&!Xe.tree_isDescendantOf(ri,ii,!0))return void(ni._reference=ii);if(ii===null)return void(ni._pointerBeforeReference=!1)}if(ri._previousSibling===null)ri._parent!==null&&(ni._reference=ri._parent);else{for(var ei=ri._previousSibling,St=Xe.tree_getFirstDescendantNode(ri._previousSibling,!0,!1);St!==null;)St!==null&&(ei=St),St=Xe.tree_getNextDescendantNode(ri._previousSibling,St,!0,!1);ni._reference=ei}}}function Je(ni,ri,ii,ei,St){if(We.Guard.isSlot(ni)&&ri==="name"&&St===null){if(ei===ii||ei===null&&ii===""||ei===""&&ii===null)return;ni._name=ei===null||ei===""?"":ei,qe.shadowTree_assignSlotablesForATree(Xe.tree_rootNode(ni))}}function Qe(ni,ri,ii,ei,St){if(We.Guard.isSlotable(ni)&&ri==="slot"&&St===null){if(ei===ii||ei===null&&ii===""||ei===""&&ii===null)return;ni._name=ei===null||ei===""?"":ei,qe.shadowTree_isAssigned(ni)&&qe.shadowTree_assignSlotables(ni._assignedSlot),qe.shadowTree_assignASlot(ni)}}function ti(ni,ri,ii,ei){ri==="id"&&ei===null&&(ni._uniqueIdentifier=ii||void 0)}r.dom_runRemovingSteps=function(ni,ri){},r.dom_runCloningSteps=function(ni,ri,ii,ei){},r.dom_runAdoptingSteps=function(ni,ri){},r.dom_runAttributeChangeSteps=function(ni,ri,ii,ei,St){var oi,si;ze.dom.features.slots&&(Qe.call(ni,ni,ri,ii,ei,St),Je.call(ni,ni,ri,ii,ei,St)),ti.call(ni,ni,ri,ei,St);try{for(var ai=je(ni._attributeChangeSteps),ui=ai.next();!ui.done;ui=ai.next())ui.value.call(ni,ni,ri,ii,ei,St)}catch(hi){oi={error:hi}}finally{try{ui&&!ui.done&&(si=ai.return)&&si.call(ai)}finally{if(oi)throw oi.error}}},r.dom_runInsertionSteps=function(ni){},r.dom_runNodeIteratorPreRemovingSteps=function(ni,ri){Ze.call(ni,ni,ri)},r.dom_hasSupportedTokens=function(ni){return Ke.has(ni)},r.dom_getSupportedTokens=function(ni){return Ke.get(ni)||new Set},r.dom_runEventConstructingSteps=function(ni){},r.dom_runChildTextContentChangeSteps=function(ni){}},function(t,r,Ve){var je=Ve(4),ze=Ve(11),Xe=Ve(46),We=Ve(44),qe=Ve(16),Ke=Ve(86),Ze=Ve(124),Je=Ve(8),Qe=Ve(14),ti=Ve(59),ni=Ve(13),ri=Ve(18),ii=Ve(27),ei=Ve(24),St=Ve(56),oi=Ve(40),si=Ve(60),ai=Ve(61),ui=Ve(82),hi=Ve(190),ci=Ve(85),mi=Ve(55),di=Ve(15),pi=Ve(79),yi=Ve(21),gi=Ve(25),_i=Ve(81),Ai=Ve(57),ki=Ve(45),vi=Ve(58),Mi=Ve(5),Di=Ve(125),Bi=Ve(126),Pi=Ve(62),Fi=Ve(43),Vi=Ve(36).forEach,Ti=Ai("hidden"),ji=Mi("toPrimitive"),Gi=Fi.set,Yi=Fi.getterFor("Symbol"),Xi=Object.prototype,xi=ze.Symbol,fi=Xe("JSON","stringify"),$i=mi.f,bi=di.f,Ci=hi.f,Ei=pi.f,Si=_i("symbols"),zi=_i("op-symbols"),Ki=_i("string-to-symbol-registry"),Ui=_i("symbol-to-string-registry"),Ji=_i("wks"),gn=ze.QObject,hn=!gn||!gn.prototype||!gn.prototype.findChild,un=qe&&Je(function(){return si(bi({},"a",{get:function(){return bi(this,"a",{value:7}).a}})).a!=7})?function(an,yn,bn){var Sn=$i(Xi,yn);Sn&&delete Xi[yn],bi(an,yn,bn),Sn&&an!==Xi&&bi(Xi,yn,Sn)}:bi,Mn=function(an,yn){var bn=Si[an]=si(xi.prototype);return Gi(bn,{type:"Symbol",tag:an,description:yn}),qe||(bn.description=yn),bn},sn=Ze?function(an){return typeof an=="symbol"}:function(an){return Object(an)instanceof xi},vn=function(an,yn,bn){an===Xi&&vn(zi,yn,bn),ri(an);var Sn=St(yn,!0);return ri(bn),Qe(Si,Sn)?(bn.enumerable?(Qe(an,Ti)&&an[Ti][Sn]&&(an[Ti][Sn]=!1),bn=si(bn,{enumerable:oi(0,!1)})):(Qe(an,Ti)||bi(an,Ti,oi(1,{})),an[Ti][Sn]=!0),un(an,Sn,bn)):bi(an,Sn,bn)},Ni=function(an,yn){ri(an);var bn=ei(yn),Sn=ai(bn).concat(qi(bn));return Vi(Sn,function(Fn){qe&&!Cn.call(bn,Fn)||vn(an,Fn,bn[Fn])}),an},Cn=function(an){var yn=St(an,!0),bn=Ei.call(this,yn);return!(this===Xi&&Qe(Si,yn)&&!Qe(zi,yn))&&(!(bn||!Qe(this,yn)||!Qe(Si,yn)||Qe(this,Ti)&&this[Ti][yn])||bn)},cn=function(an,yn){var bn=ei(an),Sn=St(yn,!0);if(bn!==Xi||!Qe(Si,Sn)||Qe(zi,Sn)){var Fn=$i(bn,Sn);return!Fn||!Qe(Si,Sn)||Qe(bn,Ti)&&bn[Ti][Sn]||(Fn.enumerable=!0),Fn}},fn=function(an){var yn=Ci(ei(an)),bn=[];return Vi(yn,function(Sn){Qe(Si,Sn)||Qe(ki,Sn)||bn.push(Sn)}),bn},qi=function(an){var yn=an===Xi,bn=Ci(yn?zi:ei(an)),Sn=[];return Vi(bn,function(Fn){!Qe(Si,Fn)||yn&&!Qe(Xi,Fn)||Sn.push(Si[Fn])}),Sn};Ke||(gi((xi=function(){if(this instanceof xi)throw TypeError("Symbol is not a constructor");var an=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,yn=vi(an),bn=function(Sn){this===Xi&&bn.call(zi,Sn),Qe(this,Ti)&&Qe(this[Ti],yn)&&(this[Ti][yn]=!1),un(this,yn,oi(1,Sn))};return qe&&hn&&un(Xi,yn,{configurable:!0,set:bn}),Mn(yn,an)}).prototype,"toString",function(){return Yi(this).tag}),gi(xi,"withoutSetter",function(an){return Mn(vi(an),an)}),pi.f=Cn,di.f=vn,mi.f=cn,ui.f=hi.f=fn,ci.f=qi,Di.f=function(an){return Mn(Mi(an),an)},qe&&(bi(xi.prototype,"description",{configurable:!0,get:function(){return Yi(this).description}}),We||gi(Xi,"propertyIsEnumerable",Cn,{unsafe:!0}))),je({global:!0,wrap:!0,forced:!Ke,sham:!Ke},{Symbol:xi}),Vi(ai(Ji),function(an){Bi(an)}),je({target:"Symbol",stat:!0,forced:!Ke},{for:function(an){var yn=String(an);if(Qe(Ki,yn))return Ki[yn];var bn=xi(yn);return Ki[yn]=bn,Ui[bn]=yn,bn},keyFor:function(an){if(!sn(an))throw TypeError(an+" is not a symbol");if(Qe(Ui,an))return Ui[an]},useSetter:function(){hn=!0},useSimple:function(){hn=!1}}),je({target:"Object",stat:!0,forced:!Ke,sham:!qe},{create:function(an,yn){return yn===void 0?si(an):Ni(si(an),yn)},defineProperty:vn,defineProperties:Ni,getOwnPropertyDescriptor:cn}),je({target:"Object",stat:!0,forced:!Ke},{getOwnPropertyNames:fn,getOwnPropertySymbols:qi}),je({target:"Object",stat:!0,forced:Je(function(){ci.f(1)})},{getOwnPropertySymbols:function(an){return ci.f(ii(an))}}),fi&&je({target:"JSON",stat:!0,forced:!Ke||Je(function(){var an=xi();return fi([an])!="[null]"||fi({a:an})!="{}"||fi(Object(an))!="{}"})},{stringify:function(an,yn,bn){for(var Sn,Fn=[an],kn=1;arguments.length>kn;)Fn.push(arguments[kn++]);if(Sn=yn,(ni(yn)||an!==void 0)&&!sn(an))return ti(yn)||(yn=function(Nn,Hn){if(typeof Sn=="function"&&(Hn=Sn.call(this,Nn,Hn)),!sn(Hn))return Hn}),Fn[1]=yn,fi.apply(null,Fn)}}),xi.prototype[ji]||yi(xi.prototype,ji,xi.prototype.valueOf),Pi(xi,"Symbol"),ki[Ti]=!0},function(t,r,Ve){var je=Ve(4),ze=Ve(16),Xe=Ve(11),We=Ve(14),qe=Ve(13),Ke=Ve(15).f,Ze=Ve(119),Je=Xe.Symbol;if(ze&&typeof Je=="function"&&(!("description"in Je.prototype)||Je().description!==void 0)){var Qe={},ti=function(){var St=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),oi=this instanceof ti?new Je(St):St===void 0?Je():Je(St);return St===""&&(Qe[oi]=!0),oi};Ze(ti,Je);var ni=ti.prototype=Je.prototype;ni.constructor=ti;var ri=ni.toString,ii=String(Je("test"))=="Symbol(test)",ei=/^Symbol\((.*)\)[^)]+$/;Ke(ni,"description",{configurable:!0,get:function(){var St=qe(this)?this.valueOf():this,oi=ri.call(St);if(We(Qe,St))return"";var si=ii?oi.slice(7,-1):oi.replace(ei,"$1");return si===""?void 0:si}}),je({global:!0,forced:!0},{Symbol:ti})}},function(t,r,Ve){Ve(126)("iterator")},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(ii,ei){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(St,oi){St.__proto__=oi}||function(St,oi){for(var si in oi)oi.hasOwnProperty(si)&&(St[si]=oi[si])})(ii,ei)},function(ii,ei){function St(){this.constructor=ii}je(ii,ei),ii.prototype=ei===null?Object.create(ei):(St.prototype=ei.prototype,new St)}),Xe=this&&this.__values||function(ii){var ei=typeof Symbol=="function"&&Symbol.iterator,St=ei&&ii[ei],oi=0;if(St)return St.call(ii);if(ii&&typeof ii.length=="number")return{next:function(){return ii&&oi>=ii.length&&(ii=void 0),{value:ii&&ii[oi++],done:!ii}}};throw new TypeError(ei?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var We=Ve(6),qe=Ve(1),Ke=Ve(70),Ze=Ve(3),Je=Ve(9),Qe=Ve(0),ti=Ve(152),ni=Ve(12),ri=function(ii){function ei(){var St=ii.call(this)||this;return St._parent=null,St._firstChild=null,St._lastChild=null,St._previousSibling=null,St._nextSibling=null,St}return ze(ei,ii),Object.defineProperty(ei.prototype,"_childNodes",{get:function(){return this.__childNodes||(this.__childNodes=Qe.create_nodeList(this))},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"_nodeDocument",{get:function(){return this._nodeDocumentOverride||We.dom.window._associatedDocument},set:function(St){this._nodeDocumentOverride=St},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"_registeredObserverList",{get:function(){return this.__registeredObserverList||(this.__registeredObserverList=[])},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"nodeType",{get:function(){return this._nodeType},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"nodeName",{get:function(){return Ze.Guard.isElementNode(this)?this._htmlUppercasedQualifiedName:Ze.Guard.isAttrNode(this)?this._qualifiedName:Ze.Guard.isExclusiveTextNode(this)?"#text":Ze.Guard.isCDATASectionNode(this)?"#cdata-section":Ze.Guard.isProcessingInstructionNode(this)?this._target:Ze.Guard.isCommentNode(this)?"#comment":Ze.Guard.isDocumentNode(this)?"#document":Ze.Guard.isDocumentTypeNode(this)?this._name:Ze.Guard.isDocumentFragmentNode(this)?"#document-fragment":""},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"baseURI",{get:function(){return ti.urlSerializer(this._nodeDocument._URL)},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"isConnected",{get:function(){return Ze.Guard.isElementNode(this)&&Qe.shadowTree_isConnected(this)},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"ownerDocument",{get:function(){return this._nodeType===qe.NodeType.Document?null:this._nodeDocument},enumerable:!0,configurable:!0}),ei.prototype.getRootNode=function(St){return Qe.tree_rootNode(this,!!St&&St.composed)},Object.defineProperty(ei.prototype,"parentNode",{get:function(){return this._nodeType===qe.NodeType.Attribute?null:this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"parentElement",{get:function(){return this._parent&&Ze.Guard.isElementNode(this._parent)?this._parent:null},enumerable:!0,configurable:!0}),ei.prototype.hasChildNodes=function(){return this._firstChild!==null},Object.defineProperty(ei.prototype,"childNodes",{get:function(){return this._childNodes},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"firstChild",{get:function(){return this._firstChild},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"lastChild",{get:function(){return this._lastChild},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"previousSibling",{get:function(){return this._previousSibling},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"nextSibling",{get:function(){return this._nextSibling},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"nodeValue",{get:function(){return Ze.Guard.isAttrNode(this)?this._value:Ze.Guard.isCharacterDataNode(this)?this._data:null},set:function(St){St===null&&(St=""),Ze.Guard.isAttrNode(this)?Qe.attr_setAnExistingAttributeValue(this,St):Ze.Guard.isCharacterDataNode(this)&&Qe.characterData_replaceData(this,0,this._data.length,St)},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"textContent",{get:function(){return Ze.Guard.isDocumentFragmentNode(this)||Ze.Guard.isElementNode(this)?Qe.text_descendantTextContent(this):Ze.Guard.isAttrNode(this)?this._value:Ze.Guard.isCharacterDataNode(this)?this._data:null},set:function(St){St===null&&(St=""),Ze.Guard.isDocumentFragmentNode(this)||Ze.Guard.isElementNode(this)?Qe.node_stringReplaceAll(St,this):Ze.Guard.isAttrNode(this)?Qe.attr_setAnExistingAttributeValue(this,St):Ze.Guard.isCharacterDataNode(this)&&Qe.characterData_replaceData(this,0,Qe.tree_nodeLength(this),St)},enumerable:!0,configurable:!0}),ei.prototype.normalize=function(){for(var St,oi,si,ai,ui=[],hi=Qe.tree_getFirstDescendantNode(this,!1,!1,function(Vi){return Ze.Guard.isExclusiveTextNode(Vi)});hi!==null;)ui.push(hi),hi=Qe.tree_getNextDescendantNode(this,hi,!1,!1,function(Vi){return Ze.Guard.isExclusiveTextNode(Vi)});for(var ci=0;ci<ui.length;ci++){var mi=ui[ci];if(mi._parent!==null){var di=Qe.tree_nodeLength(mi);if(di!==0){var pi=[],yi="";try{for(var gi=(St=void 0,Xe(Qe.text_contiguousExclusiveTextNodes(mi))),_i=gi.next();!_i.done;_i=gi.next()){var Ai=_i.value;pi.push(Ai),yi+=Ai._data}}catch(Vi){St={error:Vi}}finally{try{_i&&!_i.done&&(oi=gi.return)&&oi.call(gi)}finally{if(St)throw St.error}}if(Qe.characterData_replaceData(mi,di,0,yi),We.dom.rangeList.size!==0)for(var ki=mi._nextSibling;ki!==null&&Ze.Guard.isExclusiveTextNode(ki);){var vi=ki,Mi=Qe.tree_index(vi);try{for(var Di=(si=void 0,Xe(We.dom.rangeList)),Bi=Di.next();!Bi.done;Bi=Di.next()){var Pi=Bi.value;Pi._start[0]===vi&&(Pi._start[0]=mi,Pi._start[1]+=di),Pi._end[0]===vi&&(Pi._end[0]=mi,Pi._end[1]+=di),Pi._start[0]===vi._parent&&Pi._start[1]===Mi&&(Pi._start[0]=mi,Pi._start[1]=di),Pi._end[0]===vi._parent&&Pi._end[1]===Mi&&(Pi._end[0]=mi,Pi._end[1]=di)}}catch(Vi){si={error:Vi}}finally{try{Bi&&!Bi.done&&(ai=Di.return)&&ai.call(Di)}finally{if(si)throw si.error}}di+=Qe.tree_nodeLength(ki),ki=ki._nextSibling}for(var Fi=0;Fi<pi.length;Fi++)(Ai=pi[Fi])._parent!==null&&Qe.mutation_remove(Ai,Ai._parent)}else Qe.mutation_remove(mi,mi._parent)}}},ei.prototype.cloneNode=function(St){if(St===void 0&&(St=!1),Ze.Guard.isShadowRoot(this))throw new Je.NotSupportedError;return Qe.node_clone(this,null,St)},ei.prototype.isEqualNode=function(St){return St===void 0&&(St=null),St!==null&&Qe.node_equals(this,St)},ei.prototype.isSameNode=function(St){return St===void 0&&(St=null),this===St},ei.prototype.compareDocumentPosition=function(St){if(St===this)return 0;var oi=St,si=this,ai=null,ui=null;if(Ze.Guard.isAttrNode(oi)&&(oi=(ai=oi)._element),Ze.Guard.isAttrNode(si)&&(si=(ui=si)._element,ai&&oi&&oi===si))for(var hi=0;hi<si._attributeList.length;hi++){var ci=si._attributeList[hi];if(Qe.node_equals(ci,ai))return qe.Position.ImplementationSpecific|qe.Position.Preceding;if(Qe.node_equals(ci,ui))return qe.Position.ImplementationSpecific|qe.Position.Following}return oi===null||si===null||Qe.tree_rootNode(oi)!==Qe.tree_rootNode(si)?qe.Position.Disconnected|qe.Position.ImplementationSpecific|(We.dom.compareCache.check(this,St)?qe.Position.Preceding:qe.Position.Following):!ai&&Qe.tree_isAncestorOf(si,oi)||ui&&oi===si?qe.Position.Contains|qe.Position.Preceding:!ui&&Qe.tree_isDescendantOf(si,oi)||ai&&oi===si?qe.Position.ContainedBy|qe.Position.Following:Qe.tree_isPreceding(si,oi)?qe.Position.Preceding:qe.Position.Following},ei.prototype.contains=function(St){return St!==null&&Qe.tree_isDescendantOf(this,St,!0)},ei.prototype.lookupPrefix=function(St){return St?Ze.Guard.isElementNode(this)?Qe.node_locateANamespacePrefix(this,St):Ze.Guard.isDocumentNode(this)?this.documentElement===null?null:Qe.node_locateANamespacePrefix(this.documentElement,St):Ze.Guard.isDocumentTypeNode(this)||Ze.Guard.isDocumentFragmentNode(this)?null:Ze.Guard.isAttrNode(this)?this._element===null?null:Qe.node_locateANamespacePrefix(this._element,St):this._parent!==null&&Ze.Guard.isElementNode(this._parent)?Qe.node_locateANamespacePrefix(this._parent,St):null:null},ei.prototype.lookupNamespaceURI=function(St){return Qe.node_locateANamespace(this,St||null)},ei.prototype.isDefaultNamespace=function(St){return St||(St=null),Qe.node_locateANamespace(this,null)===St},ei.prototype.insertBefore=function(St,oi){return Qe.mutation_preInsert(St,this,oi)},ei.prototype.appendChild=function(St){return Qe.mutation_append(St,this)},ei.prototype.replaceChild=function(St,oi){return Qe.mutation_replace(oi,St,this)},ei.prototype.removeChild=function(St){return Qe.mutation_preRemove(St,this)},ei.prototype._getTheParent=function(St){return Ze.Guard.isSlotable(this)&&Qe.shadowTree_isAssigned(this)?this._assignedSlot:this._parent},ei.ELEMENT_NODE=1,ei.ATTRIBUTE_NODE=2,ei.TEXT_NODE=3,ei.CDATA_SECTION_NODE=4,ei.ENTITY_REFERENCE_NODE=5,ei.ENTITY_NODE=6,ei.PROCESSING_INSTRUCTION_NODE=7,ei.COMMENT_NODE=8,ei.DOCUMENT_NODE=9,ei.DOCUMENT_TYPE_NODE=10,ei.DOCUMENT_FRAGMENT_NODE=11,ei.NOTATION_NODE=12,ei.DOCUMENT_POSITION_DISCONNECTED=1,ei.DOCUMENT_POSITION_PRECEDING=2,ei.DOCUMENT_POSITION_FOLLOWING=4,ei.DOCUMENT_POSITION_CONTAINS=8,ei.DOCUMENT_POSITION_CONTAINED_BY=16,ei.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32,ei}(Ke.EventTargetImpl);r.NodeImpl=ri,ri.prototype._children=new Ze.EmptySet,ni.idl_defineConst(ri.prototype,"ELEMENT_NODE",1),ni.idl_defineConst(ri.prototype,"ATTRIBUTE_NODE",2),ni.idl_defineConst(ri.prototype,"TEXT_NODE",3),ni.idl_defineConst(ri.prototype,"CDATA_SECTION_NODE",4),ni.idl_defineConst(ri.prototype,"ENTITY_REFERENCE_NODE",5),ni.idl_defineConst(ri.prototype,"ENTITY_NODE",6),ni.idl_defineConst(ri.prototype,"PROCESSING_INSTRUCTION_NODE",7),ni.idl_defineConst(ri.prototype,"COMMENT_NODE",8),ni.idl_defineConst(ri.prototype,"DOCUMENT_NODE",9),ni.idl_defineConst(ri.prototype,"DOCUMENT_TYPE_NODE",10),ni.idl_defineConst(ri.prototype,"DOCUMENT_FRAGMENT_NODE",11),ni.idl_defineConst(ri.prototype,"NOTATION_NODE",12),ni.idl_defineConst(ri.prototype,"DOCUMENT_POSITION_DISCONNECTED",1),ni.idl_defineConst(ri.prototype,"DOCUMENT_POSITION_PRECEDING",2),ni.idl_defineConst(ri.prototype,"DOCUMENT_POSITION_FOLLOWING",4),ni.idl_defineConst(ri.prototype,"DOCUMENT_POSITION_CONTAINS",8),ni.idl_defineConst(ri.prototype,"DOCUMENT_POSITION_CONTAINED_BY",16),ni.idl_defineConst(ri.prototype,"DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC",32)},function(t,r){t.exports=function(Ve){if(Ve==null)throw TypeError("Can't call method on "+Ve);return Ve}},function(t,r,Ve){var je=Ve(87),ze=Ve(41),Xe=Ve(27),We=Ve(26),qe=Ve(128),Ke=[].push,Ze=function(Je){var Qe=Je==1,ti=Je==2,ni=Je==3,ri=Je==4,ii=Je==6,ei=Je==5||ii;return function(St,oi,si,ai){for(var ui,hi,ci=Xe(St),mi=ze(ci),di=je(oi,si,3),pi=We(mi.length),yi=0,gi=ai||qe,_i=Qe?gi(St,pi):ti?gi(St,0):void 0;pi>yi;yi++)if((ei||yi in mi)&&(hi=di(ui=mi[yi],yi,ci),Je)){if(Qe)_i[yi]=hi;else if(hi)switch(Je){case 3:return!0;case 5:return ui;case 6:return yi;case 2:Ke.call(_i,ui)}else if(ri)return!1}return ii?-1:ni||ri?ri:_i}};t.exports={forEach:Ze(0),map:Ze(1),filter:Ze(2),some:Ze(3),every:Ze(4),find:Ze(5),findIndex:Ze(6)}},function(t,r,Ve){var je=this&&this.__values||function(ci){var mi=typeof Symbol=="function"&&Symbol.iterator,di=mi&&ci[mi],pi=0;if(di)return di.call(ci);if(ci&&typeof ci.length=="number")return{next:function(){return ci&&pi>=ci.length&&(ci=void 0),{value:ci&&ci[pi++],done:!ci}}};throw new TypeError(mi?"Object is not iterable.":"Symbol.iterator is not defined.")},ze=this&&this.__read||function(ci,mi){var di=typeof Symbol=="function"&&ci[Symbol.iterator];if(!di)return ci;var pi,yi,gi=di.call(ci),_i=[];try{for(;(mi===void 0||mi-- >0)&&!(pi=gi.next()).done;)_i.push(pi.value)}catch(Ai){yi={error:Ai}}finally{try{pi&&!pi.done&&(di=gi.return)&&di.call(gi)}finally{if(yi)throw yi.error}}return _i},Xe=this&&this.__spread||function(){for(var ci=[],mi=0;mi<arguments.length;mi++)ci=ci.concat(ze(arguments[mi]));return ci};Object.defineProperty(r,"__esModule",{value:!0});var We=Ve(6),qe=Ve(9),Ke=Ve(1),Ze=Ve(3),Je=Ve(2),Qe=Ve(7),ti=Ve(73),ni=Ve(17),ri=Ve(172),ii=Ve(72),ei=Ve(51),St=Ve(30),oi=Ve(106);function si(ci,mi,di){var pi,yi,gi,_i,Ai,ki,vi,Mi,Di=mi._nodeType,Bi=ci._nodeType,Pi=di?di._nodeType:null;if(Di!==Ke.NodeType.Document&&Di!==Ke.NodeType.DocumentFragment&&Di!==Ke.NodeType.Element)throw new qe.HierarchyRequestError("Only document, document fragment and element nodes can contain child nodes. Parent node is "+mi.nodeName+".");if(ni.tree_isHostIncludingAncestorOf(mi,ci,!0))throw new qe.HierarchyRequestError("The node to be inserted cannot be an inclusive ancestor of parent node. Node is "+ci.nodeName+", parent node is "+mi.nodeName+".");if(di!==null&&di._parent!==mi)throw new qe.NotFoundError("The reference child node cannot be found under parent node. Child node is "+di.nodeName+", parent node is "+mi.nodeName+".");if(Bi!==Ke.NodeType.DocumentFragment&&Bi!==Ke.NodeType.DocumentType&&Bi!==Ke.NodeType.Element&&Bi!==Ke.NodeType.Text&&Bi!==Ke.NodeType.ProcessingInstruction&&Bi!==Ke.NodeType.CData&&Bi!==Ke.NodeType.Comment)throw new qe.HierarchyRequestError("Only document fragment, document type, element, text, processing instruction, cdata section or comment nodes can be inserted. Node is "+ci.nodeName+".");if(Bi===Ke.NodeType.Text&&Di===Ke.NodeType.Document)throw new qe.HierarchyRequestError("Cannot insert a text node as a child of a document node. Node is "+ci.nodeName+".");if(Bi===Ke.NodeType.DocumentType&&Di!==Ke.NodeType.Document)throw new qe.HierarchyRequestError("A document type node can only be inserted under a document node. Parent node is "+mi.nodeName+".");if(Di===Ke.NodeType.Document){if(Bi===Ke.NodeType.DocumentFragment){var Fi=0;try{for(var Vi=je(ci._children),Ti=Vi.next();!Ti.done;Ti=Vi.next()){var ji=Ti.value;if(ji._nodeType===Ke.NodeType.Element)Fi++;else if(ji._nodeType===Ke.NodeType.Text)throw new qe.HierarchyRequestError("Cannot insert text a node as a child of a document node. Node is "+ji.nodeName+".")}}catch(Ei){pi={error:Ei}}finally{try{Ti&&!Ti.done&&(yi=Vi.return)&&yi.call(Vi)}finally{if(pi)throw pi.error}}if(Fi>1)throw new qe.HierarchyRequestError("A document node can only have one document element node. Document fragment to be inserted has "+Fi+" element nodes.");if(Fi===1){try{for(var Gi=je(mi._children),Yi=Gi.next();!Yi.done;Yi=Gi.next())if(Yi.value._nodeType===Ke.NodeType.Element)throw new qe.HierarchyRequestError("The document node already has a document element node.")}catch(Ei){gi={error:Ei}}finally{try{Yi&&!Yi.done&&(_i=Gi.return)&&_i.call(Gi)}finally{if(gi)throw gi.error}}if(di){if(Pi===Ke.NodeType.DocumentType)throw new qe.HierarchyRequestError("Cannot insert an element node before a document type node.");for(var Xi=di._nextSibling;Xi;){if(Xi._nodeType===Ke.NodeType.DocumentType)throw new qe.HierarchyRequestError("Cannot insert an element node before a document type node.");Xi=Xi._nextSibling}}}}else if(Bi===Ke.NodeType.Element){try{for(var xi=je(mi._children),fi=xi.next();!fi.done;fi=xi.next())if(fi.value._nodeType===Ke.NodeType.Element)throw new qe.HierarchyRequestError("Document already has a document element node. Node is "+ci.nodeName+".")}catch(Ei){Ai={error:Ei}}finally{try{fi&&!fi.done&&(ki=xi.return)&&ki.call(xi)}finally{if(Ai)throw Ai.error}}if(di){if(Pi===Ke.NodeType.DocumentType)throw new qe.HierarchyRequestError("Cannot insert an element node before a document type node. Node is "+ci.nodeName+".");for(Xi=di._nextSibling;Xi;){if(Xi._nodeType===Ke.NodeType.DocumentType)throw new qe.HierarchyRequestError("Cannot insert an element node before a document type node. Node is "+ci.nodeName+".");Xi=Xi._nextSibling}}}else if(Bi===Ke.NodeType.DocumentType){try{for(var $i=je(mi._children),bi=$i.next();!bi.done;bi=$i.next())if(bi.value._nodeType===Ke.NodeType.DocumentType)throw new qe.HierarchyRequestError("Document already has a document type node. Node is "+ci.nodeName+".")}catch(Ei){vi={error:Ei}}finally{try{bi&&!bi.done&&(Mi=$i.return)&&Mi.call($i)}finally{if(vi)throw vi.error}}if(di)for(var Ci=di._previousSibling;Ci;){if(Ci._nodeType===Ke.NodeType.Element)throw new qe.HierarchyRequestError("Cannot insert a document type node before an element node. Node is "+ci.nodeName+".");Ci=Ci._previousSibling}else for(Ci=mi._firstChild;Ci;){if(Ci._nodeType===Ke.NodeType.Element)throw new qe.HierarchyRequestError("Cannot insert a document type node before an element node. Node is "+ci.nodeName+".");Ci=Ci._nextSibling}}}}function ai(ci,mi,di){si(ci,mi,di);var pi=di;return pi===ci&&(pi=ci._nextSibling),oi.document_adopt(ci,mi._nodeDocument),ui(ci,mi,pi),ci}function ui(ci,mi,di,pi){var yi,gi;if(di!==null||ci._nodeType===Ke.NodeType.DocumentFragment){var _i=ci._nodeType===Ke.NodeType.DocumentFragment?ci._children.size:1;if(di!==null&&We.dom.rangeList.size!==0){var Ai=ni.tree_index(di);try{for(var ki=je(We.dom.rangeList),vi=ki.next();!vi.done;vi=ki.next()){var Mi=vi.value;Mi._start[0]===mi&&Mi._start[1]>Ai&&(Mi._start[1]+=_i),Mi._end[0]===mi&&Mi._end[1]>Ai&&(Mi._end[1]+=_i)}}catch(Yi){yi={error:Yi}}finally{try{vi&&!vi.done&&(gi=ki.return)&&gi.call(ki)}finally{if(yi)throw yi.error}}}var Di=ci._nodeType===Ke.NodeType.DocumentFragment?new(Array.bind.apply(Array,Xe([void 0],ci._children))):[ci];if(ci._nodeType===Ke.NodeType.DocumentFragment)for(;ci._firstChild;)hi(ci._firstChild,ci,!0);We.dom.features.mutationObservers&&ci._nodeType===Ke.NodeType.DocumentFragment&&ei.observer_queueTreeMutationRecord(ci,[],Di,null,null);for(var Bi=di?di._previousSibling:mi._lastChild,Pi=di===null?-1:ni.tree_index(di),Fi=0;Fi<Di.length;Fi++){var Vi=Di[Fi];if(Ze.Guard.isElementNode(Vi)&&(Ze.Guard.isDocumentNode(mi)&&(mi._documentElement=Vi),Vi._nodeDocument._hasNamespaces||Vi._namespace===null&&Vi._namespacePrefix===null||(Vi._nodeDocument._hasNamespaces=!0)),Vi._parent=mi,di===null?Qe.set.append(mi._children,Vi):(Qe.set.insert(mi._children,Vi,Pi),Pi++),mi._firstChild===null)Vi._previousSibling=null,Vi._nextSibling=null,mi._firstChild=Vi,mi._lastChild=Vi;else{var Ti=di?di._previousSibling:mi._lastChild,ji=di||null;Vi._previousSibling=Ti,Vi._nextSibling=ji,Ti&&(Ti._nextSibling=Vi),ji&&(ji._previousSibling=Vi),Ti||(mi._firstChild=Vi),ji||(mi._lastChild=Vi)}We.dom.features.slots&&mi._shadowRoot!==null&&Ze.Guard.isSlotable(Vi)&&ii.shadowTree_assignASlot(Vi),We.dom.features.steps&&Ze.Guard.isTextNode(Vi)&&St.dom_runChildTextContentChangeSteps(mi),We.dom.features.slots&&Ze.Guard.isShadowRoot(ni.tree_rootNode(mi))&&Ze.Guard.isSlot(mi)&&Je.isEmpty(mi._assignedNodes)&&ii.shadowTree_signalASlotChange(mi),We.dom.features.slots&&ii.shadowTree_assignSlotablesForATree(ni.tree_rootNode(Vi));for(var Gi=ni.tree_getFirstDescendantNode(Vi,!0,!0);Gi!==null;)We.dom.features.steps&&St.dom_runInsertionSteps(Gi),We.dom.features.customElements&&Ze.Guard.isElementNode(Gi)&&ii.shadowTree_isConnected(Gi)&&(Ze.Guard.isCustomElementNode(Gi)?ti.customElement_enqueueACustomElementCallbackReaction(Gi,"connectedCallback",[]):ti.customElement_tryToUpgrade(Gi)),Gi=ni.tree_getNextDescendantNode(Vi,Gi,!0,!0)}We.dom.features.mutationObservers&&(pi||ei.observer_queueTreeMutationRecord(mi,Di,[],Bi,di))}else(function(Yi,Xi,xi){var fi=Xi._lastChild;if(Ze.Guard.isElementNode(Yi)&&(Ze.Guard.isDocumentNode(Xi)&&(Xi._documentElement=Yi),Yi._nodeDocument._hasNamespaces||Yi._namespace===null&&Yi._namespacePrefix===null||(Yi._nodeDocument._hasNamespaces=!0)),Yi._parent=Xi,Xi._children.add(Yi),Xi._firstChild===null)Yi._previousSibling=null,Yi._nextSibling=null,Xi._firstChild=Yi,Xi._lastChild=Yi;else{var $i=Xi._lastChild;Yi._previousSibling=$i,Yi._nextSibling=null,$i&&($i._nextSibling=Yi),$i||(Xi._firstChild=Yi),Xi._lastChild=Yi}We.dom.features.slots&&Xi._shadowRoot!==null&&Ze.Guard.isSlotable(Yi)&&ii.shadowTree_assignASlot(Yi),We.dom.features.steps&&Ze.Guard.isTextNode(Yi)&&St.dom_runChildTextContentChangeSteps(Xi),We.dom.features.slots&&Ze.Guard.isShadowRoot(ni.tree_rootNode(Xi))&&Ze.Guard.isSlot(Xi)&&Je.isEmpty(Xi._assignedNodes)&&ii.shadowTree_signalASlotChange(Xi),We.dom.features.slots&&ii.shadowTree_assignSlotablesForATree(ni.tree_rootNode(Yi)),We.dom.features.steps&&St.dom_runInsertionSteps(Yi),We.dom.features.customElements&&Ze.Guard.isElementNode(Yi)&&ii.shadowTree_isConnected(Yi)&&(Ze.Guard.isCustomElementNode(Yi)?ti.customElement_enqueueACustomElementCallbackReaction(Yi,"connectedCallback",[]):ti.customElement_tryToUpgrade(Yi)),We.dom.features.mutationObservers&&(xi||ei.observer_queueTreeMutationRecord(Xi,[Yi],[],fi,null))})(ci,mi,pi)}function hi(ci,mi,di){var pi,yi,gi,_i,Ai,ki,vi,Mi;if(We.dom.rangeList.size!==0){var Di=ni.tree_index(ci);try{for(var Bi=je(We.dom.rangeList),Pi=Bi.next();!Pi.done;Pi=Bi.next()){var Fi=Pi.value;ni.tree_isDescendantOf(ci,Fi._start[0],!0)&&(Fi._start=[mi,Di]),ni.tree_isDescendantOf(ci,Fi._end[0],!0)&&(Fi._end=[mi,Di]),Fi._start[0]===mi&&Fi._start[1]>Di&&Fi._start[1]--,Fi._end[0]===mi&&Fi._end[1]>Di&&Fi._end[1]--}}catch(Ki){pi={error:Ki}}finally{try{Pi&&!Pi.done&&(yi=Bi.return)&&yi.call(Bi)}finally{if(pi)throw pi.error}}try{for(var Vi=je(We.dom.rangeList),Ti=Vi.next();!Ti.done;Ti=Vi.next())(Fi=Ti.value)._start[0]===mi&&Fi._start[1]>Di&&(Fi._start[1]-=1),Fi._end[0]===mi&&Fi._end[1]>Di&&(Fi._end[1]-=1)}catch(Ki){gi={error:Ki}}finally{try{Ti&&!Ti.done&&(_i=Vi.return)&&_i.call(Vi)}finally{if(gi)throw gi.error}}}if(We.dom.features.steps)try{for(var ji=je(ri.nodeIterator_iteratorList()),Gi=ji.next();!Gi.done;Gi=ji.next()){var Yi=Gi.value;Yi._root._nodeDocument===ci._nodeDocument&&St.dom_runNodeIteratorPreRemovingSteps(Yi,ci)}}catch(Ki){Ai={error:Ki}}finally{try{Gi&&!Gi.done&&(ki=ji.return)&&ki.call(ji)}finally{if(Ai)throw Ai.error}}var Xi=ci._previousSibling,xi=ci._nextSibling;Ze.Guard.isDocumentNode(mi)&&Ze.Guard.isElementNode(ci)&&(mi._documentElement=null),ci._parent=null,mi._children.delete(ci);var fi=ci._previousSibling,$i=ci._nextSibling;ci._previousSibling=null,ci._nextSibling=null,fi&&(fi._nextSibling=$i),$i&&($i._previousSibling=fi),fi||(mi._firstChild=$i),$i||(mi._lastChild=fi),We.dom.features.slots&&Ze.Guard.isSlotable(ci)&&ci._assignedSlot!==null&&ii.shadowTree_isAssigned(ci)&&ii.shadowTree_assignSlotables(ci._assignedSlot),We.dom.features.slots&&Ze.Guard.isShadowRoot(ni.tree_rootNode(mi))&&Ze.Guard.isSlot(mi)&&Je.isEmpty(mi._assignedNodes)&&ii.shadowTree_signalASlotChange(mi),We.dom.features.slots&&ni.tree_getFirstDescendantNode(ci,!0,!1,function(Ki){return Ze.Guard.isSlot(Ki)})!==null&&(ii.shadowTree_assignSlotablesForATree(ni.tree_rootNode(mi)),ii.shadowTree_assignSlotablesForATree(ci)),We.dom.features.steps&&St.dom_runRemovingSteps(ci,mi),We.dom.features.customElements&&Ze.Guard.isCustomElementNode(ci)&&ti.customElement_enqueueACustomElementCallbackReaction(ci,"disconnectedCallback",[]);for(var bi=ni.tree_getFirstDescendantNode(ci,!1,!0);bi!==null;)We.dom.features.steps&&St.dom_runRemovingSteps(bi,ci),We.dom.features.customElements&&Ze.Guard.isCustomElementNode(bi)&&ti.customElement_enqueueACustomElementCallbackReaction(bi,"disconnectedCallback",[]),bi=ni.tree_getNextDescendantNode(ci,bi,!1,!0);if(We.dom.features.mutationObservers)for(var Ci=ni.tree_getFirstAncestorNode(mi,!0);Ci!==null;){try{for(var Ei=(vi=void 0,je(Ci._registeredObserverList)),Si=Ei.next();!Si.done;Si=Ei.next()){var zi=Si.value;zi.options.subtree&&ci._registeredObserverList.push({observer:zi.observer,options:zi.options,source:zi})}}catch(Ki){vi={error:Ki}}finally{try{Si&&!Si.done&&(Mi=Ei.return)&&Mi.call(Ei)}finally{if(vi)throw vi.error}}Ci=ni.tree_getNextAncestorNode(mi,Ci,!0)}We.dom.features.mutationObservers&&(di||ei.observer_queueTreeMutationRecord(mi,[],[ci],Xi,xi)),We.dom.features.steps&&Ze.Guard.isTextNode(ci)&&St.dom_runChildTextContentChangeSteps(mi)}r.mutation_ensurePreInsertionValidity=si,r.mutation_preInsert=ai,r.mutation_insert=ui,r.mutation_append=function(ci,mi){return ai(ci,mi,null)},r.mutation_replace=function(ci,mi,di){var pi,yi,gi,_i,Ai,ki,vi,Mi;if(di._nodeType!==Ke.NodeType.Document&&di._nodeType!==Ke.NodeType.DocumentFragment&&di._nodeType!==Ke.NodeType.Element)throw new qe.HierarchyRequestError("Only document, document fragment and element nodes can contain child nodes. Parent node is "+di.nodeName+".");if(ni.tree_isHostIncludingAncestorOf(di,mi,!0))throw new qe.HierarchyRequestError("The node to be inserted cannot be an ancestor of parent node. Node is "+mi.nodeName+", parent node is "+di.nodeName+".");if(ci._parent!==di)throw new qe.NotFoundError("The reference child node cannot be found under parent node. Child node is "+ci.nodeName+", parent node is "+di.nodeName+".");if(mi._nodeType!==Ke.NodeType.DocumentFragment&&mi._nodeType!==Ke.NodeType.DocumentType&&mi._nodeType!==Ke.NodeType.Element&&mi._nodeType!==Ke.NodeType.Text&&mi._nodeType!==Ke.NodeType.ProcessingInstruction&&mi._nodeType!==Ke.NodeType.CData&&mi._nodeType!==Ke.NodeType.Comment)throw new qe.HierarchyRequestError("Only document fragment, document type, element, text, processing instruction, cdata section or comment nodes can be inserted. Node is "+mi.nodeName+".");if(mi._nodeType===Ke.NodeType.Text&&di._nodeType===Ke.NodeType.Document)throw new qe.HierarchyRequestError("Cannot insert a text node as a child of a document node. Node is "+mi.nodeName+".");if(mi._nodeType===Ke.NodeType.DocumentType&&di._nodeType!==Ke.NodeType.Document)throw new qe.HierarchyRequestError("A document type node can only be inserted under a document node. Parent node is "+di.nodeName+".");if(di._nodeType===Ke.NodeType.Document){if(mi._nodeType===Ke.NodeType.DocumentFragment){var Di=0;try{for(var Bi=je(mi._children),Pi=Bi.next();!Pi.done;Pi=Bi.next()){var Fi=Pi.value;if(Fi._nodeType===Ke.NodeType.Element)Di++;else if(Fi._nodeType===Ke.NodeType.Text)throw new qe.HierarchyRequestError("Cannot insert text a node as a child of a document node. Node is "+Fi.nodeName+".")}}catch(zi){pi={error:zi}}finally{try{Pi&&!Pi.done&&(yi=Bi.return)&&yi.call(Bi)}finally{if(pi)throw pi.error}}if(Di>1)throw new qe.HierarchyRequestError("A document node can only have one document element node. Document fragment to be inserted has "+Di+" element nodes.");if(Di===1){try{for(var Vi=je(di._children),Ti=Vi.next();!Ti.done;Ti=Vi.next())if((fi=Ti.value)._nodeType===Ke.NodeType.Element&&fi!==ci)throw new qe.HierarchyRequestError("The document node already has a document element node.")}catch(zi){gi={error:zi}}finally{try{Ti&&!Ti.done&&(_i=Vi.return)&&_i.call(Vi)}finally{if(gi)throw gi.error}}for(var ji=ci._nextSibling;ji;){if(ji._nodeType===Ke.NodeType.DocumentType)throw new qe.HierarchyRequestError("Cannot insert an element node before a document type node.");ji=ji._nextSibling}}}else if(mi._nodeType===Ke.NodeType.Element){try{for(var Gi=je(di._children),Yi=Gi.next();!Yi.done;Yi=Gi.next())if((fi=Yi.value)._nodeType===Ke.NodeType.Element&&fi!==ci)throw new qe.HierarchyRequestError("Document already has a document element node. Node is "+mi.nodeName+".")}catch(zi){Ai={error:zi}}finally{try{Yi&&!Yi.done&&(ki=Gi.return)&&ki.call(Gi)}finally{if(Ai)throw Ai.error}}for(ji=ci._nextSibling;ji;){if(ji._nodeType===Ke.NodeType.DocumentType)throw new qe.HierarchyRequestError("Cannot insert an element node before a document type node. Node is "+mi.nodeName+".");ji=ji._nextSibling}}else if(mi._nodeType===Ke.NodeType.DocumentType){try{for(var Xi=je(di._children),xi=Xi.next();!xi.done;xi=Xi.next()){var fi;if((fi=xi.value)._nodeType===Ke.NodeType.DocumentType&&fi!==ci)throw new qe.HierarchyRequestError("Document already has a document type node. Node is "+mi.nodeName+".")}}catch(zi){vi={error:zi}}finally{try{xi&&!xi.done&&(Mi=Xi.return)&&Mi.call(Xi)}finally{if(vi)throw vi.error}}for(var $i=ci._previousSibling;$i;){if($i._nodeType===Ke.NodeType.Element)throw new qe.HierarchyRequestError("Cannot insert a document type node before an element node. Node is "+mi.nodeName+".");$i=$i._previousSibling}}}var bi=ci._nextSibling;bi===mi&&(bi=mi._nextSibling);var Ci=ci._previousSibling;oi.document_adopt(mi,di._nodeDocument);var Ei=[];ci._parent!==null&&(Ei.push(ci),hi(ci,ci._parent,!0));var Si=[];return mi._nodeType===Ke.NodeType.DocumentFragment?Si=Array.from(mi._children):Si.push(mi),ui(mi,di,bi,!0),We.dom.features.mutationObservers&&ei.observer_queueTreeMutationRecord(di,Si,Ei,Ci,bi),ci},r.mutation_replaceAll=function(ci,mi){var di,pi;ci!==null&&oi.document_adopt(ci,mi._nodeDocument);var yi=Array.from(mi._children),gi=[];ci&&ci._nodeType===Ke.NodeType.DocumentFragment?gi=Array.from(ci._children):ci!==null&&gi.push(ci);try{for(var _i=je(yi),Ai=_i.next();!Ai.done;Ai=_i.next())hi(Ai.value,mi,!0)}catch(ki){di={error:ki}}finally{try{Ai&&!Ai.done&&(pi=_i.return)&&pi.call(_i)}finally{if(di)throw di.error}}ci!==null&&ui(ci,mi,null,!0),We.dom.features.mutationObservers&&ei.observer_queueTreeMutationRecord(mi,gi,yi,null,null)},r.mutation_preRemove=function(ci,mi){if(ci._parent!==mi)throw new qe.NotFoundError("The child node cannot be found under parent node. Child node is "+ci.nodeName+", parent node is "+mi.nodeName+".");return hi(ci,mi),ci},r.mutation_remove=hi},function(t,r,Ve){function je(ze){return ze==null}t.exports.isNothing=je,t.exports.isObject=function(ze){return typeof ze=="object"&&ze!==null},t.exports.toArray=function(ze){return Array.isArray(ze)?ze:je(ze)?[]:[ze]},t.exports.repeat=function(ze,Xe){var We,qe="";for(We=0;We<Xe;We+=1)qe+=ze;return qe},t.exports.isNegativeZero=function(ze){return ze===0&&Number.NEGATIVE_INFINITY===1/ze},t.exports.extend=function(ze,Xe){var We,qe,Ke,Ze;if(Xe)for(We=0,qe=(Ze=Object.keys(Xe)).length;We<qe;We+=1)ze[Ke=Ze[We]]=Xe[Ke];return ze}},function(t,r,Ve){var je=Ve(38),ze=Ve(53),Xe=Ve(10);function We(Ke,Ze,Je){var Qe=[];return Ke.include.forEach(function(ti){Je=We(ti,Ze,Je)}),Ke[Ze].forEach(function(ti){Je.forEach(function(ni,ri){ni.tag===ti.tag&&ni.kind===ti.kind&&Qe.push(ri)}),Je.push(ti)}),Je.filter(function(ti,ni){return Qe.indexOf(ni)===-1})}function qe(Ke){this.include=Ke.include||[],this.implicit=Ke.implicit||[],this.explicit=Ke.explicit||[],this.implicit.forEach(function(Ze){if(Ze.loadKind&&Ze.loadKind!=="scalar")throw new ze("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=We(this,"implicit",[]),this.compiledExplicit=We(this,"explicit",[]),this.compiledTypeMap=function(){var Ze,Je,Qe={scalar:{},sequence:{},mapping:{},fallback:{}};function ti(ni){Qe[ni.kind][ni.tag]=Qe.fallback[ni.tag]=ni}for(Ze=0,Je=arguments.length;Ze<Je;Ze+=1)arguments[Ze].forEach(ti);return Qe}(this.compiledImplicit,this.compiledExplicit)}qe.DEFAULT=null,qe.create=function(){var Ke,Ze;switch(arguments.length){case 1:Ke=qe.DEFAULT,Ze=arguments[0];break;case 2:Ke=arguments[0],Ze=arguments[1];break;default:throw new ze("Wrong number of arguments for Schema.create function")}if(Ke=je.toArray(Ke),Ze=je.toArray(Ze),!Ke.every(function(Je){return Je instanceof qe}))throw new ze("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!Ze.every(function(Je){return Je instanceof Xe}))throw new ze("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new qe({include:Ke,explicit:Ze})},t.exports=qe},function(t,r){t.exports=function(Ve,je){return{enumerable:!(1&Ve),configurable:!(2&Ve),writable:!(4&Ve),value:je}}},function(t,r,Ve){var je=Ve(8),ze=Ve(42),Xe="".split;t.exports=je(function(){return!Object("z").propertyIsEnumerable(0)})?function(We){return ze(We)=="String"?Xe.call(We,""):Object(We)}:Object},function(t,r){var Ve={}.toString;t.exports=function(je){return Ve.call(je).slice(8,-1)}},function(t,r,Ve){var je,ze,Xe,We=Ve(186),qe=Ve(11),Ke=Ve(13),Ze=Ve(21),Je=Ve(14),Qe=Ve(57),ti=Ve(45),ni=qe.WeakMap;if(We){var ri=new ni,ii=ri.get,ei=ri.has,St=ri.set;je=function(si,ai){return St.call(ri,si,ai),ai},ze=function(si){return ii.call(ri,si)||{}},Xe=function(si){return ei.call(ri,si)}}else{var oi=Qe("state");ti[oi]=!0,je=function(si,ai){return Ze(si,oi,ai),ai},ze=function(si){return Je(si,oi)?si[oi]:{}},Xe=function(si){return Je(si,oi)}}t.exports={set:je,get:ze,has:Xe,enforce:function(si){return Xe(si)?ze(si):je(si,{})},getterFor:function(si){return function(ai){var ui;if(!Ke(ai)||(ui=ze(ai)).type!==si)throw TypeError("Incompatible receiver, "+si+" required");return ui}}}},function(t,r){t.exports=!1},function(t,r){t.exports={}},function(t,r,Ve){var je=Ve(120),ze=Ve(11),Xe=function(We){return typeof We=="function"?We:void 0};t.exports=function(We,qe){return arguments.length<2?Xe(je[We])||Xe(ze[We]):je[We]&&je[We][qe]||ze[We]&&ze[We][qe]}},function(t,r){var Ve=Math.ceil,je=Math.floor;t.exports=function(ze){return isNaN(ze=+ze)?0:(ze>0?je:Ve)(ze)}},function(t,r,Ve){var je=Ve(8);t.exports=function(ze,Xe){var We=[][ze];return!!We&&je(function(){We.call(null,Xe||function(){throw 1},1)})}},function(t,r){t.exports={}},function(t,r,Ve){Ve(31),Ve(32),Ve(33),Ve(220),Ve(64),Ve(19),Ve(65),Ve(20),Ve(68),Ve(66),Ve(92),Ve(144),Ve(22),Ve(94),Ve(23);var je=this&&this.__values||function(ni){var ri=typeof Symbol=="function"&&Symbol.iterator,ii=ri&&ni[ri],ei=0;if(ii)return ii.call(ni);if(ni&&typeof ni.length=="number")return{next:function(){return ni&&ei>=ni.length&&(ni=void 0),{value:ni&&ni[ei++],done:!ni}}};throw new TypeError(ri?"Object is not iterable.":"Symbol.iterator is not defined.")},ze=this&&this.__read||function(ni,ri){var ii=typeof Symbol=="function"&&ni[Symbol.iterator];if(!ii)return ni;var ei,St,oi=ii.call(ni),si=[];try{for(;(ri===void 0||ri-- >0)&&!(ei=oi.next()).done;)si.push(ei.value)}catch(ai){St={error:ai}}finally{try{ei&&!ei.done&&(ii=oi.return)&&ii.call(oi)}finally{if(St)throw St.error}}return si},Xe=this&&this.__spread||function(){for(var ni=[],ri=0;ri<arguments.length;ri++)ni=ni.concat(ze(arguments[ri]));return ni};Object.defineProperty(r,"__esModule",{value:!0});var We=Ve(1),qe=Ve(69),Ke=Ve(95),Ze=Ve(7),Je=Ve(0),Qe=Ve(258),ti=function(){function ni(ri){this.level=0,this._builderOptions=ri}return ni.prototype.declaration=function(ri,ii,ei){},ni.prototype.docType=function(ri,ii,ei){},ni.prototype.comment=function(ri){},ni.prototype.text=function(ri){},ni.prototype.instruction=function(ri,ii){},ni.prototype.cdata=function(ri){},ni.prototype.openTagBegin=function(ri){},ni.prototype.openTagEnd=function(ri,ii,ei){},ni.prototype.closeTag=function(ri){},ni.prototype.attributes=function(ri){var ii,ei;try{for(var St=je(ri),oi=St.next();!oi.done;oi=St.next()){var si=oi.value;this.attribute(si[1]===null?si[2]:si[1]+":"+si[2],si[3])}}catch(ai){ii={error:ai}}finally{try{oi&&!oi.done&&(ei=St.return)&&ei.call(St)}finally{if(ii)throw ii.error}}},ni.prototype.attribute=function(ri,ii){},ni.prototype.beginElement=function(ri){},ni.prototype.endElement=function(ri){},ni.prototype.serializeNode=function(ri,ii){var ei=ri._nodeDocument!==void 0&&ri._nodeDocument._hasNamespaces;if(this.level=0,this.currentNode=ri,ei){var St=new Ke.NamespacePrefixMap;St.set("xml",Ze.namespace.XML),this._serializeNodeNS(ri,null,St,{value:1},ii)}else this._serializeNode(ri,ii)},ni.prototype._serializeNodeNS=function(ri,ii,ei,St,oi){switch(this.currentNode=ri,ri.nodeType){case We.NodeType.Element:this._serializeElementNS(ri,ii,ei,St,oi);break;case We.NodeType.Document:this._serializeDocumentNS(ri,ii,ei,St,oi);break;case We.NodeType.Comment:this._serializeComment(ri,oi);break;case We.NodeType.Text:this._serializeText(ri,oi);break;case We.NodeType.DocumentFragment:this._serializeDocumentFragmentNS(ri,ii,ei,St,oi);break;case We.NodeType.DocumentType:this._serializeDocumentType(ri,oi);break;case We.NodeType.ProcessingInstruction:this._serializeProcessingInstruction(ri,oi);break;case We.NodeType.CData:this._serializeCData(ri,oi);break;default:throw new Error("Unknown node type: "+ri.nodeType)}},ni.prototype._serializeNode=function(ri,ii){switch(this.currentNode=ri,ri.nodeType){case We.NodeType.Element:this._serializeElement(ri,ii);break;case We.NodeType.Document:this._serializeDocument(ri,ii);break;case We.NodeType.Comment:this._serializeComment(ri,ii);break;case We.NodeType.Text:this._serializeText(ri,ii);break;case We.NodeType.DocumentFragment:this._serializeDocumentFragment(ri,ii);break;case We.NodeType.DocumentType:this._serializeDocumentType(ri,ii);break;case We.NodeType.ProcessingInstruction:this._serializeProcessingInstruction(ri,ii);break;case We.NodeType.CData:this._serializeCData(ri,ii);break;default:throw new Error("Unknown node type: "+ri.nodeType)}},ni.prototype._serializeElementNS=function(ri,ii,ei,St,oi){var si,ai,ui=[];if(oi&&(ri.localName.indexOf(":")!==-1||!Je.xml_isName(ri.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var hi="",ci=!1,mi=!1,di=ei.copy(),pi={},yi=this._recordNamespaceInformation(ri,di,pi),gi=ii,_i=ri.namespaceURI;if(gi===_i)yi!==null&&(mi=!0),hi=_i===Ze.namespace.XML?"xml:"+ri.localName:ri.localName,this.beginElement(hi),this.openTagBegin(hi);else{var Ai=ri.prefix,ki=null;if(Ai===null&&_i===yi||(ki=di.get(Ai,_i)),Ai==="xmlns"){if(oi)throw new Error("An element cannot have the 'xmlns' prefix (well-formed required).");ki=Ai}ki!==null?(hi=ki+":"+ri.localName,yi!==null&&yi!==Ze.namespace.XML&&(gi=yi||null),this.beginElement(hi),this.openTagBegin(hi)):Ai!==null?(Ai in pi&&(Ai=this._generatePrefix(_i,di,St)),di.set(Ai,_i),hi+=Ai+":"+ri.localName,this.beginElement(hi),this.openTagBegin(hi),ui.push([null,"xmlns",Ai,this._serializeAttributeValue(_i,oi)]),yi!==null&&(gi=yi||null)):yi===null||yi!==null&&yi!==_i?(mi=!0,hi+=ri.localName,gi=_i,this.beginElement(hi),this.openTagBegin(hi),ui.push([null,null,"xmlns",this._serializeAttributeValue(_i,oi)])):(hi+=ri.localName,gi=_i,this.beginElement(hi),this.openTagBegin(hi))}ui.push.apply(ui,Xe(this._serializeAttributesNS(ri,di,St,pi,mi,oi))),this.attributes(ui);var vi=_i===Ze.namespace.HTML;if(vi&&ri.childNodes.length===0&&ni._VoidElementNames.has(ri.localName)?(this.openTagEnd(hi,!0,!0),this.endElement(hi),ci=!0):vi||ri.childNodes.length!==0?this.openTagEnd(hi,!1,!1):(this.openTagEnd(hi,!0,!1),this.endElement(hi),ci=!0),!ci){if(!(vi&&ri.localName==="template"))try{for(var Mi=je(ri.childNodes),Di=Mi.next();!Di.done;Di=Mi.next()){var Bi=Di.value;this.level++,this._serializeNodeNS(Bi,gi,di,St,oi),this.level--}}catch(Pi){si={error:Pi}}finally{try{Di&&!Di.done&&(ai=Mi.return)&&ai.call(Mi)}finally{if(si)throw si.error}}this.closeTag(hi),this.endElement(hi)}},ni.prototype._serializeElement=function(ri,ii){var ei,St;if(ii&&(ri.localName.indexOf(":")!==-1||!Je.xml_isName(ri.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var oi=!1,si=ri.localName;this.beginElement(si),this.openTagBegin(si);var ai=this._serializeAttributes(ri,ii);if(this.attributes(ai),ri.hasChildNodes()?this.openTagEnd(si,!1,!1):(this.openTagEnd(si,!0,!1),this.endElement(si),oi=!0),!oi){try{for(var ui=je(ri._children),hi=ui.next();!hi.done;hi=ui.next()){var ci=hi.value;this.level++,this._serializeNode(ci,ii),this.level--}}catch(mi){ei={error:mi}}finally{try{hi&&!hi.done&&(St=ui.return)&&St.call(ui)}finally{if(ei)throw ei.error}}this.closeTag(si),this.endElement(si)}},ni.prototype._serializeDocumentNS=function(ri,ii,ei,St,oi){var si,ai;if(oi&&ri.documentElement===null)throw new Error("Missing document element (well-formed required).");try{for(var ui=je(ri.childNodes),hi=ui.next();!hi.done;hi=ui.next()){var ci=hi.value;this._serializeNodeNS(ci,ii,ei,St,oi)}}catch(mi){si={error:mi}}finally{try{hi&&!hi.done&&(ai=ui.return)&&ai.call(ui)}finally{if(si)throw si.error}}},ni.prototype._serializeDocument=function(ri,ii){var ei,St;if(ii&&ri.documentElement===null)throw new Error("Missing document element (well-formed required).");try{for(var oi=je(ri._children),si=oi.next();!si.done;si=oi.next()){var ai=si.value;this._serializeNode(ai,ii)}}catch(ui){ei={error:ui}}finally{try{si&&!si.done&&(St=oi.return)&&St.call(oi)}finally{if(ei)throw ei.error}}},ni.prototype._serializeComment=function(ri,ii){if(ii&&(!Je.xml_isLegalChar(ri.data)||ri.data.indexOf("--")!==-1||ri.data.endsWith("-")))throw new Error("Comment data contains invalid characters (well-formed required).");this.comment(ri.data)},ni.prototype._serializeText=function(ri,ii){if(ii&&!Je.xml_isLegalChar(ri.data))throw new Error("Text data contains invalid characters (well-formed required).");var ei=ri.data.replace(Qe.nonEntityAmpersandRegex,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");this.text(ei)},ni.prototype._serializeDocumentFragmentNS=function(ri,ii,ei,St,oi){var si,ai;try{for(var ui=je(ri.childNodes),hi=ui.next();!hi.done;hi=ui.next()){var ci=hi.value;this._serializeNodeNS(ci,ii,ei,St,oi)}}catch(mi){si={error:mi}}finally{try{hi&&!hi.done&&(ai=ui.return)&&ai.call(ui)}finally{if(si)throw si.error}}},ni.prototype._serializeDocumentFragment=function(ri,ii){var ei,St;try{for(var oi=je(ri._children),si=oi.next();!si.done;si=oi.next()){var ai=si.value;this._serializeNode(ai,ii)}}catch(ui){ei={error:ui}}finally{try{si&&!si.done&&(St=oi.return)&&St.call(oi)}finally{if(ei)throw ei.error}}},ni.prototype._serializeDocumentType=function(ri,ii){if(ii&&!Je.xml_isPubidChar(ri.publicId))throw new Error("DocType public identifier does not match PubidChar construct (well-formed required).");if(ii&&(!Je.xml_isLegalChar(ri.systemId)||ri.systemId.indexOf('"')!==-1&&ri.systemId.indexOf("'")!==-1))throw new Error("DocType system identifier contains invalid characters (well-formed required).");this.docType(ri.name,ri.publicId,ri.systemId)},ni.prototype._serializeProcessingInstruction=function(ri,ii){if(ii&&(ri.target.indexOf(":")!==-1||/^xml$/i.test(ri.target)))throw new Error("Processing instruction target contains invalid characters (well-formed required).");if(ii&&(!Je.xml_isLegalChar(ri.data)||ri.data.indexOf("?>")!==-1))throw new Error("Processing instruction data contains invalid characters (well-formed required).");this.instruction(ri.target,ri.data)},ni.prototype._serializeCData=function(ri,ii){if(ii&&ri.data.indexOf("]]>")!==-1)throw new Error("CDATA contains invalid characters (well-formed required).");this.cdata(ri.data)},ni.prototype._serializeAttributesNS=function(ri,ii,ei,St,oi,si){var ai,ui,hi=[],ci=si?new qe.LocalNameSet:void 0;try{for(var mi=je(ri.attributes),di=mi.next();!di.done;di=mi.next()){var pi=di.value;if(si||oi||pi.namespaceURI!==null){if(si&&ci&&ci.has(pi.namespaceURI,pi.localName))throw new Error("Element contains duplicate attributes (well-formed required).");si&&ci&&ci.set(pi.namespaceURI,pi.localName);var yi=pi.namespaceURI,gi=null;if(yi!==null)if(gi=ii.get(pi.prefix,yi),yi===Ze.namespace.XMLNS){if(pi.value===Ze.namespace.XML||pi.prefix===null&&oi||pi.prefix!==null&&(!(pi.localName in St)||St[pi.localName]!==pi.value)&&ii.has(pi.localName,pi.value))continue;if(si&&pi.value===Ze.namespace.XMLNS)throw new Error("XMLNS namespace is reserved (well-formed required).");if(si&&pi.value==="")throw new Error("Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required).");pi.prefix==="xmlns"&&(gi="xmlns")}else gi===null&&(gi=pi.prefix===null||ii.hasPrefix(pi.prefix)&&!ii.has(pi.prefix,yi)?this._generatePrefix(yi,ii,ei):pi.prefix,hi.push([null,"xmlns",gi,this._serializeAttributeValue(yi,si)]));if(si&&(pi.localName.indexOf(":")!==-1||!Je.xml_isName(pi.localName)||pi.localName==="xmlns"&&yi===null))throw new Error("Attribute local name contains invalid characters (well-formed required).");hi.push([yi,gi,pi.localName,this._serializeAttributeValue(pi.value,si)])}else hi.push([null,null,pi.localName,this._serializeAttributeValue(pi.value,si)])}}catch(_i){ai={error:_i}}finally{try{di&&!di.done&&(ui=mi.return)&&ui.call(mi)}finally{if(ai)throw ai.error}}return hi},ni.prototype._serializeAttributes=function(ri,ii){var ei,St,oi=[],si=ii?{}:void 0;try{for(var ai=je(ri.attributes),ui=ai.next();!ui.done;ui=ai.next()){var hi=ui.value;if(ii){if(ii&&si&&hi.localName in si)throw new Error("Element contains duplicate attributes (well-formed required).");if(ii&&si&&(si[hi.localName]=!0),ii&&(hi.localName.indexOf(":")!==-1||!Je.xml_isName(hi.localName)))throw new Error("Attribute local name contains invalid characters (well-formed required).");oi.push([null,null,hi.localName,this._serializeAttributeValue(hi.value,ii)])}else oi.push([null,null,hi.localName,this._serializeAttributeValue(hi.value,ii)])}}catch(ci){ei={error:ci}}finally{try{ui&&!ui.done&&(St=ai.return)&&St.call(ai)}finally{if(ei)throw ei.error}}return oi},ni.prototype._recordNamespaceInformation=function(ri,ii,ei){var St,oi,si=null;try{for(var ai=je(ri.attributes),ui=ai.next();!ui.done;ui=ai.next()){var hi=ui.value,ci=hi.namespaceURI,mi=hi.prefix;if(ci===Ze.namespace.XMLNS){if(mi===null){si=hi.value;continue}var di=hi.localName,pi=hi.value;if(pi===Ze.namespace.XML||(pi===""&&(pi=null),ii.has(di,pi)))continue;ii.set(di,pi),ei[di]=pi||""}}}catch(yi){St={error:yi}}finally{try{ui&&!ui.done&&(oi=ai.return)&&oi.call(ai)}finally{if(St)throw St.error}}return si},ni.prototype._generatePrefix=function(ri,ii,ei){var St="ns"+ei.value.toString();return ei.value++,ii.set(St,ri),St},ni.prototype._serializeAttributeValue=function(ri,ii){if(ii&&ri!==null&&!Je.xml_isLegalChar(ri))throw new Error("Invalid characters in attribute value.");return ri===null?"":ri.replace(Qe.nonEntityAmpersandRegex,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},ni._VoidElementNames=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),ni}();r.BaseWriter=ti},function(t,r,Ve){var je=this&&this.__values||function(ri){var ii=typeof Symbol=="function"&&Symbol.iterator,ei=ii&&ri[ii],St=0;if(ei)return ei.call(ri);if(ri&&typeof ri.length=="number")return{next:function(){return ri&&St>=ri.length&&(ri=void 0),{value:ri&&ri[St++],done:!ri}}};throw new TypeError(ii?"Object is not iterable.":"Symbol.iterator is not defined.")},ze=this&&this.__read||function(ri,ii){var ei=typeof Symbol=="function"&&ri[Symbol.iterator];if(!ei)return ri;var St,oi,si=ei.call(ri),ai=[];try{for(;(ii===void 0||ii-- >0)&&!(St=si.next()).done;)ai.push(St.value)}catch(ui){oi={error:ui}}finally{try{St&&!St.done&&(ei=si.return)&&ei.call(si)}finally{if(oi)throw oi.error}}return ai};Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(6),We=Ve(3),qe=Ve(7),Ke=Ve(29),Ze=Ve(17),Je=Ve(97);function Qe(){var ri=Xe.dom.window;ri._mutationObserverMicrotaskQueued||(ri._mutationObserverMicrotaskQueued=!0,Promise.resolve().then(function(){ti()}))}function ti(){var ri,ii,ei,St,oi=Xe.dom.window;oi._mutationObserverMicrotaskQueued=!1;var si=qe.set.clone(oi._mutationObservers),ai=qe.set.clone(oi._signalSlots);qe.set.empty(oi._signalSlots);var ui=function(yi){var gi=qe.list.clone(yi._recordQueue);qe.list.empty(yi._recordQueue);for(var _i=0;_i<yi._nodeList.length;_i++){var Ai=yi._nodeList[_i];qe.list.remove(Ai._registeredObserverList,function(ki){return We.Guard.isTransientRegisteredObserver(ki)&&ki.observer===yi})}if(!qe.list.isEmpty(gi))try{yi._callback.call(yi,gi,yi)}catch{}};try{for(var hi=je(si),ci=hi.next();!ci.done;ci=hi.next())ui(ci.value)}catch(yi){ri={error:yi}}finally{try{ci&&!ci.done&&(ii=hi.return)&&ii.call(hi)}finally{if(ri)throw ri.error}}if(Xe.dom.features.slots)try{for(var mi=je(ai),di=mi.next();!di.done;di=mi.next()){var pi=di.value;Je.event_fireAnEvent("slotchange",pi,void 0,{bubbles:!0})}}catch(yi){ei={error:yi}}finally{try{di&&!di.done&&(St=mi.return)&&St.call(mi)}finally{if(ei)throw ei.error}}}function ni(ri,ii,ei,St,oi,si,ai,ui,hi){for(var ci,mi,di=new Map,pi=Ze.tree_getFirstAncestorNode(ii,!0);pi!==null;){for(var yi=0;yi<pi._registeredObserverList.length;yi++){var gi=pi._registeredObserverList[yi],_i=gi.options;if((pi===ii||_i.subtree)&&(ri!=="attributes"||_i.attributes)&&(ri!=="attributes"||!_i.attributeFilter||_i.attributeFilter.indexOf(ei||"")&&St===null)&&(ri!=="characterData"||_i.characterData)&&(ri!=="childList"||_i.childList)){var Ai=gi.observer;di.has(Ai)||di.set(Ai,null),(ri==="attributes"&&_i.attributeOldValue||ri==="characterData"&&_i.characterDataOldValue)&&di.set(Ai,oi)}}pi=Ze.tree_getNextAncestorNode(ii,pi,!0)}try{for(var ki=je(di),vi=ki.next();!vi.done;vi=ki.next()){var Mi=ze(vi.value,2),Di=Mi[0],Bi=Mi[1],Pi=Ke.create_mutationRecord(ri,ii,Ke.create_nodeListStatic(ii,si),Ke.create_nodeListStatic(ii,ai),ui,hi,ei,St,Bi);Di._recordQueue.push(Pi)}}catch(Fi){ci={error:Fi}}finally{try{vi&&!vi.done&&(mi=ki.return)&&mi.call(ki)}finally{if(ci)throw ci.error}}Qe()}r.observer_queueAMutationObserverMicrotask=Qe,r.observer_notifyMutationObservers=ti,r.observer_queueMutationRecord=ni,r.observer_queueTreeMutationRecord=function(ri,ii,ei,St,oi){ni("childList",ri,null,null,null,ii,ei,St,oi)},r.observer_queueAttributeMutationRecord=function(ri,ii,ei,St){ni("attributes",ri,ii,ei,St,[],[],null,null)}},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(6),ze=Ve(7),Xe=Ve(3),We=Ve(9),qe=Ve(29),Ke=Ve(73),Ze=Ve(51),Je=Ve(30),Qe=Ve(37),ti=Ve(106);function ni(si,ai,ui){je.dom.features.mutationObservers&&Ze.observer_queueAttributeMutationRecord(ai,si._localName,si._namespace,si._value),je.dom.features.customElements&&Xe.Guard.isCustomElementNode(ai)&&Ke.customElement_enqueueACustomElementCallbackReaction(ai,"attributeChangedCallback",[si._localName,si._value,ui,si._namespace]),je.dom.features.steps&&Je.dom_runAttributeChangeSteps(ai,si._localName,si._value,ui,si._namespace),si._value=ui}function ri(si,ai){je.dom.features.mutationObservers&&Ze.observer_queueAttributeMutationRecord(ai,si._localName,si._namespace,null),je.dom.features.customElements&&Xe.Guard.isCustomElementNode(ai)&&Ke.customElement_enqueueACustomElementCallbackReaction(ai,"attributeChangedCallback",[si._localName,null,si._value,si._namespace]),je.dom.features.steps&&Je.dom_runAttributeChangeSteps(ai,si._localName,null,si._value,si._namespace),ai._attributeList._asArray().push(si),si._element=ai,ai._nodeDocument._hasNamespaces||si._namespace===null&&si._namespacePrefix===null&&si._localName!=="xmlns"||(ai._nodeDocument._hasNamespaces=!0)}function ii(si,ai){je.dom.features.mutationObservers&&Ze.observer_queueAttributeMutationRecord(ai,si._localName,si._namespace,si._value),je.dom.features.customElements&&Xe.Guard.isCustomElementNode(ai)&&Ke.customElement_enqueueACustomElementCallbackReaction(ai,"attributeChangedCallback",[si._localName,si._value,null,si._namespace]),je.dom.features.steps&&Je.dom_runAttributeChangeSteps(ai,si._localName,si._value,null,si._namespace);var ui=ai._attributeList._asArray().indexOf(si);ai._attributeList._asArray().splice(ui,1),si._element=null}function ei(si,ai,ui){je.dom.features.mutationObservers&&Ze.observer_queueAttributeMutationRecord(ui,si._localName,si._namespace,si._value),je.dom.features.customElements&&Xe.Guard.isCustomElementNode(ui)&&Ke.customElement_enqueueACustomElementCallbackReaction(ui,"attributeChangedCallback",[si._localName,si._value,ai._value,si._namespace]),je.dom.features.steps&&Je.dom_runAttributeChangeSteps(ui,si._localName,si._value,ai._value,si._namespace);var hi=ui._attributeList._asArray().indexOf(si);hi!==-1&&(ui._attributeList._asArray()[hi]=ai),si._element=null,ai._element=ui,ui._nodeDocument._hasNamespaces||ai._namespace===null&&ai._namespacePrefix===null&&ai._localName!=="xmlns"||(ui._nodeDocument._hasNamespaces=!0)}function St(si,ai){return ai._namespace===ze.namespace.HTML&&ai._nodeDocument._type==="html"&&(si=si.toLowerCase()),ai._attributeList._asArray().find(function(ui){return ui._qualifiedName===si})||null}function oi(si,ai,ui){var hi=si||null;return ui._attributeList._asArray().find(function(ci){return ci._namespace===hi&&ci._localName===ai})||null}r.element_has=function(si,ai){return ai._attributeList._asArray().indexOf(si)!==-1},r.element_change=ni,r.element_append=ri,r.element_remove=ii,r.element_replace=ei,r.element_getAnAttributeByName=St,r.element_getAnAttributeByNamespaceAndLocalName=oi,r.element_getAnAttributeValue=function(si,ai,ui){ui===void 0&&(ui="");var hi=oi(ui,ai,si);return hi===null?"":hi._value},r.element_setAnAttribute=function(si,ai){if(si._element!==null&&si._element!==ai)throw new We.InUseAttributeError("This attribute already exists in the document: "+si._qualifiedName+" as a child of "+si._element._qualifiedName+".");var ui=oi(si._namespace||"",si._localName,ai);return ui===si?si:(ui!==null?ei(ui,si,ai):ri(si,ai),ui)},r.element_setAnAttributeValue=function(si,ai,ui,hi,ci){hi===void 0&&(hi=null),ci===void 0&&(ci=null);var mi=oi(ci||"",ai,si);if(mi===null){var di=qe.create_attr(si._nodeDocument,ai);return di._namespace=ci,di._namespacePrefix=hi,di._value=ui,void ri(di,si)}ni(mi,si,ui)},r.element_removeAnAttributeByName=function(si,ai){var ui=St(si,ai);return ui!==null&&ii(ui,ai),ui},r.element_removeAnAttributeByNamespaceAndLocalName=function(si,ai,ui){var hi=oi(si,ai,ui);return hi!==null&&ii(hi,ui),hi},r.element_createAnElement=function(si,ai,ui,hi,ci,mi){hi===void 0&&(hi=null),ci===void 0&&(ci=null),mi===void 0&&(mi=!1);var di=null;if(!je.dom.features.customElements)return(di=qe.create_element(si,ai,ui,hi))._customElementState="uncustomized",di._customElementDefinition=null,di._is=ci,di;var pi=Ke.customElement_lookUpACustomElementDefinition(si,ui,ai,ci);if(pi!==null&&pi.name!==pi.localName)(di=new(ti.document_elementInterface(ai,ze.namespace.HTML)))._localName=ai,di._namespace=ze.namespace.HTML,di._namespacePrefix=hi,di._customElementState="undefined",di._customElementDefinition=null,di._is=ci,di._nodeDocument=si,mi?Ke.customElement_upgrade(pi,di):Ke.customElement_enqueueACustomElementUpgradeReaction(di,pi);else if(pi!==null)if(mi)try{var yi=new pi.constructor;if(console.assert(yi._customElementState!==void 0),console.assert(yi._customElementDefinition!==void 0),console.assert(yi._namespace===ze.namespace.HTML),yi._attributeList.length!==0)throw new We.NotSupportedError("Custom element already has attributes.");if(yi._children.size!==0)throw new We.NotSupportedError("Custom element already has child nodes.");if(yi._parent!==null)throw new We.NotSupportedError("Custom element already has a parent node.");if(yi._nodeDocument!==si)throw new We.NotSupportedError("Custom element is already in a document.");if(yi._localName!==ai)throw new We.NotSupportedError("Custom element has a different local name.");yi._namespacePrefix=hi,yi._is=null}catch{(di=qe.create_htmlUnknownElement(si,ai,ze.namespace.HTML,hi))._customElementState="failed",di._customElementDefinition=null,di._is=null}else(di=qe.create_htmlElement(si,ai,ze.namespace.HTML,hi))._customElementState="undefined",di._customElementDefinition=null,di._is=null,Ke.customElement_enqueueACustomElementUpgradeReaction(di,pi);else(di=new(ti.document_elementInterface(ai,ui)))._localName=ai,di._namespace=ui,di._namespacePrefix=hi,di._customElementState="uncustomized",di._customElementDefinition=null,di._is=ci,di._nodeDocument=si,ui!==ze.namespace.HTML||ci===null&&!Ke.customElement_isValidCustomElementName(ai)||(di._customElementState="undefined");if(di===null)throw new Error("Unable to create element.");return di},r.element_insertAdjacent=function(si,ai,ui){switch(ai.toLowerCase()){case"beforebegin":return si._parent===null?null:Qe.mutation_preInsert(ui,si._parent,si);case"afterbegin":return Qe.mutation_preInsert(ui,si,si._firstChild);case"beforeend":return Qe.mutation_preInsert(ui,si,null);case"afterend":return si._parent===null?null:Qe.mutation_preInsert(ui,si._parent,si._nextSibling);default:throw new We.SyntaxError(`Invalid 'where' argument. "beforebegin", "afterbegin", "beforeend" or "afterend" expected`)}}},function(t,r,Ve){function je(ze,Xe){Error.call(this),this.name="YAMLException",this.reason=ze,this.mark=Xe,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}je.prototype=Object.create(Error.prototype),je.prototype.constructor=je,je.prototype.toString=function(ze){var Xe=this.name+": ";return Xe+=this.reason||"(unknown reason)",!ze&&this.mark&&(Xe+=" "+this.mark.toString()),Xe},t.exports=je},function(t,r,Ve){var je=Ve(39);t.exports=new je({include:[Ve(181)],implicit:[Ve(294),Ve(295)],explicit:[Ve(296),Ve(297),Ve(298),Ve(299)]})},function(t,r,Ve){var je=Ve(16),ze=Ve(79),Xe=Ve(40),We=Ve(24),qe=Ve(56),Ke=Ve(14),Ze=Ve(115),Je=Object.getOwnPropertyDescriptor;r.f=je?Je:function(Qe,ti){if(Qe=We(Qe),ti=qe(ti,!0),Ze)try{return Je(Qe,ti)}catch{}if(Ke(Qe,ti))return Xe(!ze.f.call(Qe,ti),Qe[ti])}},function(t,r,Ve){var je=Ve(13);t.exports=function(ze,Xe){if(!je(ze))return ze;var We,qe;if(Xe&&typeof(We=ze.toString)=="function"&&!je(qe=We.call(ze))||typeof(We=ze.valueOf)=="function"&&!je(qe=We.call(ze))||!Xe&&typeof(We=ze.toString)=="function"&&!je(qe=We.call(ze)))return qe;throw TypeError("Can't convert object to primitive value")}},function(t,r,Ve){var je=Ve(81),ze=Ve(58),Xe=je("keys");t.exports=function(We){return Xe[We]||(Xe[We]=ze(We))}},function(t,r){var Ve=0,je=Math.random();t.exports=function(ze){return"Symbol("+String(ze===void 0?"":ze)+")_"+(++Ve+je).toString(36)}},function(t,r,Ve){var je=Ve(42);t.exports=Array.isArray||function(ze){return je(ze)=="Array"}},function(t,r,Ve){var je,ze=Ve(18),Xe=Ve(188),We=Ve(84),qe=Ve(45),Ke=Ve(189),Ze=Ve(116),Je=Ve(57),Qe=Je("IE_PROTO"),ti=function(){},ni=function(ii){return"<script>"+ii+"<\/script>"},ri=function(){try{je=document.domain&&new ActiveXObject("htmlfile")}catch{}var ii,ei;ri=je?function(oi){oi.write(ni("")),oi.close();var si=oi.parentWindow.Object;return oi=null,si}(je):((ei=Ze("iframe")).style.display="none",Ke.appendChild(ei),ei.src="javascript:",(ii=ei.contentWindow.document).open(),ii.write(ni("document.F=Object")),ii.close(),ii.F);for(var St=We.length;St--;)delete ri.prototype[We[St]];return ri()};qe[Qe]=!0,t.exports=Object.create||function(ii,ei){var St;return ii!==null?(ti.prototype=ze(ii),St=new ti,ti.prototype=null,St[Qe]=ii):St=ri(),ei===void 0?St:Xe(St,ei)}},function(t,r,Ve){var je=Ve(121),ze=Ve(84);t.exports=Object.keys||function(Xe){return je(Xe,ze)}},function(t,r,Ve){var je=Ve(15).f,ze=Ve(14),Xe=Ve(5)("toStringTag");t.exports=function(We,qe,Ke){We&&!ze(We=Ke?We:We.prototype,Xe)&&je(We,Xe,{configurable:!0,value:qe})}},function(t,r,Ve){var je=Ve(8),ze=Ve(5),Xe=Ve(129),We=ze("species");t.exports=function(qe){return Xe>=51||!je(function(){var Ke=[];return(Ke.constructor={})[We]=function(){return{foo:1}},Ke[qe](Boolean).foo!==1})}},function(t,r,Ve){var je=Ve(4),ze=Ve(122).indexOf,Xe=Ve(48),We=Ve(28),qe=[].indexOf,Ke=!!qe&&1/[1].indexOf(1,-0)<0,Ze=Xe("indexOf"),Je=We("indexOf",{ACCESSORS:!0,1:0});je({target:"Array",proto:!0,forced:Ke||!Ze||!Je},{indexOf:function(Qe){return Ke?qe.apply(this,arguments)||0:ze(this,Qe,arguments.length>1?arguments[1]:void 0)}})},function(t,r,Ve){var je=Ve(16),ze=Ve(15).f,Xe=Function.prototype,We=Xe.toString,qe=/^\s*function ([^ (]*)/;je&&!("name"in Xe)&&ze(Xe,"name",{configurable:!0,get:function(){try{return We.call(this).match(qe)[1]}catch{return""}}})},function(t,r,Ve){var je=Ve(25),ze=Ve(18),Xe=Ve(8),We=Ve(136),qe=RegExp.prototype,Ke=qe.toString,Ze=Xe(function(){return Ke.call({source:"a",flags:"b"})!="/a/b"}),Je=Ke.name!="toString";(Ze||Je)&&je(RegExp.prototype,"toString",function(){var Qe=ze(this),ti=String(Qe.source),ni=Qe.flags;return"/"+ti+"/"+String(ni===void 0&&Qe instanceof RegExp&&!("flags"in qe)?We.call(Qe):ni)},{unsafe:!0})},function(t,r,Ve){Ve(31),Ve(32),Ve(33),Ve(19),Ve(138),Ve(20),Ve(66),Ve(22),Ve(23);var je,ze=this&&this.__extends||(je=function(Ze,Je){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Qe,ti){Qe.__proto__=ti}||function(Qe,ti){for(var ni in ti)ti.hasOwnProperty(ni)&&(Qe[ni]=ti[ni])})(Ze,Je)},function(Ze,Je){function Qe(){this.constructor=Ze}je(Ze,Je),Ze.prototype=Je===null?Object.create(Je):(Qe.prototype=Je.prototype,new Qe)}),Xe=this&&this.__values||function(Ze){var Je=typeof Symbol=="function"&&Symbol.iterator,Qe=Je&&Ze[Je],ti=0;if(Qe)return Qe.call(Ze);if(Ze&&typeof Ze.length=="number")return{next:function(){return Ze&&ti>=Ze.length&&(Ze=void 0),{value:Ze&&Ze[ti++],done:!Ze}}};throw new TypeError(Je?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var We=Ve(2),qe=Ve(1),Ke=function(Ze){function Je(Qe,ti){var ni=Ze.call(this,Qe)||this;return ni._writerOptions=We.applyDefaults(ti,{format:"object",wellFormed:!1,group:!1,verbose:!1}),ni}return ze(Je,Ze),Je.prototype.serialize=function(Qe){return this._currentList=[],this._currentIndex=0,this._listRegister=[this._currentList],this.serializeNode(Qe,this._writerOptions.wellFormed),this._process(this._currentList,this._writerOptions)},Je.prototype._process=function(Qe,ti){var ni,ri,ii,ei,St,oi,si;if(Qe.length===0)return{};for(var ai={},ui=!1,hi=0,ci=0,mi=0,di=0,pi=0;pi<Qe.length;pi++){var yi=Qe[pi];switch(Xi=Object.keys(yi)[0]){case"@":continue;case"#":hi++;break;case"!":ci++;break;case"?":mi++;break;case"$":di++;break;default:ai[Xi]?ui=!0:ai[Xi]=!0}}var gi=this._getAttrKey(),_i=this._getNodeKey(qe.NodeType.Text),Ai=this._getNodeKey(qe.NodeType.Comment),ki=this._getNodeKey(qe.NodeType.ProcessingInstruction),vi=this._getNodeKey(qe.NodeType.CData);if(hi===1&&Qe.length===1&&We.isString(Qe[0]["#"]))return Qe[0]["#"];if(ui){var Mi={};for(pi=0;pi<Qe.length;pi++)if(yi=Qe[pi],(Xi=Object.keys(yi)[0])==="@"){var Di=yi["@"];(xi=Object.keys(Di)).length===1?Mi[gi+xi[0]]=Di[xi[0]]:Mi[gi]=yi["@"]}var Bi=[];for(pi=0;pi<Qe.length;pi++)switch(yi=Qe[pi],Xi=Object.keys(yi)[0]){case"@":break;case"#":Bi.push(((ni={})[_i]=yi["#"],ni));break;case"!":Bi.push(((ri={})[Ai]=yi["!"],ri));break;case"?":Bi.push(((ii={})[ki]=yi["?"],ii));break;case"$":Bi.push(((ei={})[vi]=yi.$,ei));break;default:if(($i=yi)[Xi].length!==0&&We.isArray($i[Xi][0])){for(var Pi=[],Fi=$i[Xi],Vi=0;Vi<Fi.length;Vi++)Pi.push(this._process(Fi[Vi],ti));Bi.push(((St={})[Xi]=Pi,St))}else ti.verbose?Bi.push(((oi={})[Xi]=[this._process($i[Xi],ti)],oi)):Bi.push(((si={})[Xi]=this._process($i[Xi],ti),si))}return Mi[_i]=Bi,Mi}var Ti=1,ji=1,Gi=1,Yi=1;for(Mi={},pi=0;pi<Qe.length;pi++){var Xi;switch(yi=Qe[pi],Xi=Object.keys(yi)[0]){case"@":Di=yi["@"];var xi=Object.keys(Di);if(ti.group&&xi.length!==1)Mi[gi]=Di;else for(var fi in Di)Mi[gi+fi]=Di[fi];break;case"#":Ti=this._processSpecItem(yi["#"],Mi,ti.group,_i,hi,Ti);break;case"!":ji=this._processSpecItem(yi["!"],Mi,ti.group,Ai,ci,ji);break;case"?":Gi=this._processSpecItem(yi["?"],Mi,ti.group,ki,mi,Gi);break;case"$":Yi=this._processSpecItem(yi.$,Mi,ti.group,vi,di,Yi);break;default:var $i;if(($i=yi)[Xi].length!==0&&We.isArray($i[Xi][0])){Pi=[],Fi=$i[Xi];for(var bi=0;bi<Fi.length;bi++)Pi.push(this._process(Fi[bi],ti));Mi[Xi]=Pi}else ti.verbose?Mi[Xi]=[this._process($i[Xi],ti)]:Mi[Xi]=this._process($i[Xi],ti)}}return Mi},Je.prototype._processSpecItem=function(Qe,ti,ni,ri,ii,ei){var St,oi;if(!ni&&We.isArray(Qe)&&ii+Qe.length>2)try{for(var si=Xe(Qe),ai=si.next();!ai.done;ai=si.next()){var ui=ai.value;ti[ri+(ei++).toString()]=ui}}catch(hi){St={error:hi}}finally{try{ai&&!ai.done&&(oi=si.return)&&oi.call(si)}finally{if(St)throw St.error}}else ti[ii>1?ri+(ei++).toString():ri]=Qe;return ei},Je.prototype.beginElement=function(Qe){var ti,ni,ri=[];if(this._currentList.length===0)this._currentList.push(((ti={})[Qe]=ri,ti));else{var ii=this._currentList[this._currentList.length-1];this._isElementNode(ii,Qe)?ii[Qe].length!==0&&We.isArray(ii[Qe][0])?ii[Qe].push(ri):ii[Qe]=[ii[Qe],ri]:this._currentList.push(((ni={})[Qe]=ri,ni))}this._currentIndex++,this._listRegister.length>this._currentIndex?this._listRegister[this._currentIndex]=ri:this._listRegister.push(ri),this._currentList=ri},Je.prototype.endElement=function(){this._currentList=this._listRegister[--this._currentIndex]},Je.prototype.attribute=function(Qe,ti){var ni,ri;if(this._currentList.length===0)this._currentList.push({"@":(ni={},ni[Qe]=ti,ni)});else{var ii=this._currentList[this._currentList.length-1];this._isAttrNode(ii)?ii["@"][Qe]=ti:this._currentList.push({"@":(ri={},ri[Qe]=ti,ri)})}},Je.prototype.comment=function(Qe){if(this._currentList.length===0)this._currentList.push({"!":Qe});else{var ti=this._currentList[this._currentList.length-1];this._isCommentNode(ti)?We.isArray(ti["!"])?ti["!"].push(Qe):ti["!"]=[ti["!"],Qe]:this._currentList.push({"!":Qe})}},Je.prototype.text=function(Qe){if(this._currentList.length===0)this._currentList.push({"#":Qe});else{var ti=this._currentList[this._currentList.length-1];this._isTextNode(ti)?We.isArray(ti["#"])?ti["#"].push(Qe):ti["#"]=[ti["#"],Qe]:this._currentList.push({"#":Qe})}},Je.prototype.instruction=function(Qe,ti){var ni=ti===""?Qe:Qe+" "+ti;if(this._currentList.length===0)this._currentList.push({"?":ni});else{var ri=this._currentList[this._currentList.length-1];this._isInstructionNode(ri)?We.isArray(ri["?"])?ri["?"].push(ni):ri["?"]=[ri["?"],ni]:this._currentList.push({"?":ni})}},Je.prototype.cdata=function(Qe){if(this._currentList.length===0)this._currentList.push({$:Qe});else{var ti=this._currentList[this._currentList.length-1];this._isCDATANode(ti)?We.isArray(ti.$)?ti.$.push(Qe):ti.$=[ti.$,Qe]:this._currentList.push({$:Qe})}},Je.prototype._isAttrNode=function(Qe){return"@"in Qe},Je.prototype._isTextNode=function(Qe){return"#"in Qe},Je.prototype._isCommentNode=function(Qe){return"!"in Qe},Je.prototype._isInstructionNode=function(Qe){return"?"in Qe},Je.prototype._isCDATANode=function(Qe){return"$"in Qe},Je.prototype._isElementNode=function(Qe,ti){return ti in Qe},Je.prototype._getAttrKey=function(){return this._builderOptions.convert.att},Je.prototype._getNodeKey=function(Qe){switch(Qe){case qe.NodeType.Comment:return this._builderOptions.convert.comment;case qe.NodeType.Text:return this._builderOptions.convert.text;case qe.NodeType.ProcessingInstruction:return this._builderOptions.convert.ins;case qe.NodeType.CData:return this._builderOptions.convert.cdata;default:throw new Error("Invalid node type.")}},Je}(Ve(50).BaseWriter);r.ObjectWriter=Ke},function(t,r,Ve){var je=Ve(4),ze=Ve(93);je({target:"RegExp",proto:!0,forced:/./.exec!==ze},{exec:ze})},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=function(){function ze(){this._items={},this._nullItems={}}return ze.prototype.set=function(Xe,We){Xe===null?this._nullItems[We]=!0:(this._items[Xe]||(this._items[Xe]={}),this._items[Xe][We]=!0)},ze.prototype.has=function(Xe,We){return Xe===null?this._nullItems[We]===!0:!!this._items[Xe]&&this._items[Xe][We]===!0},ze}();r.LocalNameSet=je},function(t,r,Ve){var je=this&&this.__read||function(Ke,Ze){var Je=typeof Symbol=="function"&&Ke[Symbol.iterator];if(!Je)return Ke;var Qe,ti,ni=Je.call(Ke),ri=[];try{for(;(Ze===void 0||Ze-- >0)&&!(Qe=ni.next()).done;)ri.push(Qe.value)}catch(ii){ti={error:ii}}finally{try{Qe&&!Qe.done&&(Je=ni.return)&&Je.call(ni)}finally{if(ti)throw ti.error}}return ri};Object.defineProperty(r,"__esModule",{value:!0});var ze=Ve(9),Xe=Ve(3),We=Ve(0),qe=function(){function Ke(){}return Object.defineProperty(Ke.prototype,"_eventListenerList",{get:function(){return this.__eventListenerList||(this.__eventListenerList=[])},enumerable:!0,configurable:!0}),Object.defineProperty(Ke.prototype,"_eventHandlerMap",{get:function(){return this.__eventHandlerMap||(this.__eventHandlerMap={})},enumerable:!0,configurable:!0}),Ke.prototype.addEventListener=function(Ze,Je,Qe){Qe===void 0&&(Qe={passive:!1,once:!1,capture:!1});var ti,ni=je(We.eventTarget_flattenMore(Qe),3),ri=ni[0],ii=ni[1],ei=ni[2];Je&&(ti=Xe.Guard.isEventListener(Je)?Je:{handleEvent:Je},We.eventTarget_addEventListener(this,{type:Ze,callback:ti,capture:ri,passive:ii,once:ei,removed:!1}))},Ke.prototype.removeEventListener=function(Ze,Je,Qe){Qe===void 0&&(Qe={capture:!1});var ti=We.eventTarget_flatten(Qe);if(Je)for(var ni=0;ni<this._eventListenerList.length;ni++){var ri=this._eventListenerList[ni];if(ri.type===Ze&&ri.capture===ti){if(Xe.Guard.isEventListener(Je)&&ri.callback===Je){We.eventTarget_removeEventListener(this,ri,ni);break}if(Je&&ri.callback.handleEvent===Je){We.eventTarget_removeEventListener(this,ri,ni);break}}}},Ke.prototype.dispatchEvent=function(Ze){if(Ze._dispatchFlag||!Ze._initializedFlag)throw new ze.InvalidStateError;return Ze._isTrusted=!1,We.event_dispatch(Ze,this)},Ke.prototype._getTheParent=function(Ze){return null},Ke}();r.EventTargetImpl=qe},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(Ke,Ze){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Je,Qe){Je.__proto__=Qe}||function(Je,Qe){for(var ti in Qe)Qe.hasOwnProperty(ti)&&(Je[ti]=Qe[ti])})(Ke,Ze)},function(Ke,Ze){function Je(){this.constructor=Ke}je(Ke,Ze),Ke.prototype=Ze===null?Object.create(Ze):(Je.prototype=Ze.prototype,new Je)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(34),We=Ve(0),qe=function(Ke){function Ze(Je){var Qe=Ke.call(this)||this;return Qe._data=Je,Qe}return ze(Ze,Ke),Object.defineProperty(Ze.prototype,"data",{get:function(){return this._data},set:function(Je){We.characterData_replaceData(this,0,this._data.length,Je)},enumerable:!0,configurable:!0}),Object.defineProperty(Ze.prototype,"length",{get:function(){return this._data.length},enumerable:!0,configurable:!0}),Ze.prototype.substringData=function(Je,Qe){return We.characterData_substringData(this,Je,Qe)},Ze.prototype.appendData=function(Je){return We.characterData_replaceData(this,this._data.length,0,Je)},Ze.prototype.insertData=function(Je,Qe){We.characterData_replaceData(this,Je,0,Qe)},Ze.prototype.deleteData=function(Je,Qe){We.characterData_replaceData(this,Je,Qe,"")},Ze.prototype.replaceData=function(Je,Qe,ti){We.characterData_replaceData(this,Je,Qe,ti)},Object.defineProperty(Ze.prototype,"previousElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(Ze.prototype,"nextElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),Ze.prototype.before=function(){for(var Je=[],Qe=0;Qe<arguments.length;Qe++)Je[Qe]=arguments[Qe];throw new Error("Mixin: ChildNode not implemented.")},Ze.prototype.after=function(){for(var Je=[],Qe=0;Qe<arguments.length;Qe++)Je[Qe]=arguments[Qe];throw new Error("Mixin: ChildNode not implemented.")},Ze.prototype.replaceWith=function(){for(var Je=[],Qe=0;Qe<arguments.length;Qe++)Je[Qe]=arguments[Qe];throw new Error("Mixin: ChildNode not implemented.")},Ze.prototype.remove=function(){throw new Error("Mixin: ChildNode not implemented.")},Ze}(Xe.NodeImpl);r.CharacterDataImpl=qe},function(t,r,Ve){var je=this&&this.__values||function(ii){var ei=typeof Symbol=="function"&&Symbol.iterator,St=ei&&ii[ei],oi=0;if(St)return St.call(ii);if(ii&&typeof ii.length=="number")return{next:function(){return ii&&oi>=ii.length&&(ii=void 0),{value:ii&&ii[oi++],done:!ii}}};throw new TypeError(ei?"Object is not iterable.":"Symbol.iterator is not defined.")},ze=this&&this.__read||function(ii,ei){var St=typeof Symbol=="function"&&ii[Symbol.iterator];if(!St)return ii;var oi,si,ai=St.call(ii),ui=[];try{for(;(ei===void 0||ei-- >0)&&!(oi=ai.next()).done;)ui.push(oi.value)}catch(hi){si={error:hi}}finally{try{oi&&!oi.done&&(St=ai.return)&&St.call(ai)}finally{if(si)throw si.error}}return ui},Xe=this&&this.__spread||function(){for(var ii=[],ei=0;ei<arguments.length;ei++)ii=ii.concat(ze(arguments[ei]));return ii};Object.defineProperty(r,"__esModule",{value:!0});var We=Ve(6),qe=Ve(3),Ke=Ve(2),Ze=Ve(17),Je=Ve(51);function Qe(ii){We.dom.window._signalSlots.add(ii),Je.observer_queueAMutationObserverMicrotask()}function ti(ii,ei){ei===void 0&&(ei=!1);var St=qe.Cast.asNode(ii)._parent;if(St===null)return null;var oi=St._shadowRoot||null;if(oi===null||ei&&oi._mode!=="open")return null;for(var si=Ze.tree_getFirstDescendantNode(oi,!1,!0,function(ai){return qe.Guard.isSlot(ai)});si!==null;){if(si._name===ii._name)return si;si=Ze.tree_getNextDescendantNode(oi,si,!1,!0,function(ai){return qe.Guard.isSlot(ai)})}return null}function ni(ii){var ei,St,oi=[],si=Ze.tree_rootNode(ii);if(!qe.Guard.isShadowRoot(si))return oi;var ai=si._host;try{for(var ui=je(ai._children),hi=ui.next();!hi.done;hi=ui.next()){var ci=hi.value;qe.Guard.isSlotable(ci)&&ti(ci)===ii&&oi.push(ci)}}catch(mi){ei={error:mi}}finally{try{hi&&!hi.done&&(St=ui.return)&&St.call(ui)}finally{if(ei)throw ei.error}}return oi}function ri(ii){var ei,St,oi=ni(ii);if(oi.length===ii._assignedNodes.length){for(var si=!0,ai=0;ai<oi.length;ai++)if(oi[ai]!==ii._assignedNodes[ai]){si=!1;break}si||Qe(ii)}ii._assignedNodes=oi;try{for(var ui=je(oi),hi=ui.next();!hi.done;hi=ui.next())hi.value._assignedSlot=ii}catch(ci){ei={error:ci}}finally{try{hi&&!hi.done&&(St=ui.return)&&St.call(ui)}finally{if(ei)throw ei.error}}}r.shadowTree_signalASlotChange=Qe,r.shadowTree_isConnected=function(ii){return qe.Guard.isDocumentNode(Ze.tree_rootNode(ii,!0))},r.shadowTree_isAssigned=function(ii){return ii._assignedSlot!==null},r.shadowTree_findASlot=ti,r.shadowTree_findSlotables=ni,r.shadowTree_findFlattenedSlotables=function ii(ei){var St,oi,si,ai,ui=[],hi=Ze.tree_rootNode(ei);if(!qe.Guard.isShadowRoot(hi))return ui;var ci=ni(ei);if(Ke.isEmpty(ci))try{for(var mi=je(ei._children),di=mi.next();!di.done;di=mi.next()){var pi=di.value;qe.Guard.isSlotable(pi)&&ci.push(pi)}}catch(ki){St={error:ki}}finally{try{di&&!di.done&&(oi=mi.return)&&oi.call(mi)}finally{if(St)throw St.error}}try{for(var yi=je(ci),gi=yi.next();!gi.done;gi=yi.next()){var _i=gi.value;if(qe.Guard.isSlot(_i)&&qe.Guard.isShadowRoot(Ze.tree_rootNode(_i))){var Ai=ii(_i);ui.push.apply(ui,Xe(Ai))}else ui.push(_i)}}catch(ki){si={error:ki}}finally{try{gi&&!gi.done&&(ai=yi.return)&&ai.call(yi)}finally{if(si)throw si.error}}return ui},r.shadowTree_assignSlotables=ri,r.shadowTree_assignSlotablesForATree=function(ii){for(var ei=Ze.tree_getFirstDescendantNode(ii,!0,!1,function(St){return qe.Guard.isSlot(St)});ei!==null;)ri(ei),ei=Ze.tree_getNextDescendantNode(ii,ei,!0,!1,function(St){return qe.Guard.isSlot(St)})},r.shadowTree_assignASlot=function(ii){var ei=ti(ii);ei!==null&&ri(ei)}},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=/[a-z]([\0-\t\x2D\._a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*-([\0-\t\x2D\._a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*/,ze=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]),Xe=new Set(["article","aside","blockquote","body","div","footer","h1","h2","h3","h4","h5","h6","header","main","nav","p","section","span"]),We=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),qe=new Set(["article","aside","blockquote","body","div","footer","h1","h2","h3","h4","h5","h6","header","main","nav","p","section","span"]);r.customElement_isValidCustomElementName=function(Ke){return!!je.test(Ke)&&!ze.has(Ke)},r.customElement_isValidElementName=function(Ke){return Xe.has(Ke)},r.customElement_isVoidElementName=function(Ke){return We.has(Ke)},r.customElement_isValidShadowHostName=function(Ke){return qe.has(Ke)},r.customElement_enqueueACustomElementUpgradeReaction=function(Ke,Ze){},r.customElement_enqueueACustomElementCallbackReaction=function(Ke,Ze,Je){},r.customElement_upgrade=function(Ke,Ze){},r.customElement_tryToUpgrade=function(Ke){},r.customElement_lookUpACustomElementDefinition=function(Ke,Ze,Je,Qe){return null}},function(t,r,Ve){Ve(4)({target:"String",proto:!0},{repeat:Ve(260)})},function(t,r,Ve){Ve(279),Ve(68),Ve(179),Ve(94),Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(109),ze=function(){function Xe(We){this._builderOptions=We,We.parser&&Object.assign(this,We.parser)}return Xe.prototype._docType=function(We,qe,Ke,Ze){return We.dtd({name:qe,pubID:Ke,sysID:Ze})},Xe.prototype._comment=function(We,qe){return We.com(qe)},Xe.prototype._text=function(We,qe){return We.txt(qe)},Xe.prototype._instruction=function(We,qe,Ke){return We.ins(qe,Ke)},Xe.prototype._cdata=function(We,qe){return We.dat(qe)},Xe.prototype._element=function(We,qe,Ke){return qe===void 0?We.ele(Ke):We.ele(qe,Ke)},Xe.prototype._attribute=function(We,qe,Ke,Ze){return qe===void 0?We.att(Ke,Ze):We.att(qe,Ke,Ze)},Xe.prototype._sanitize=function(We){return je.sanitizeInput(We,this._builderOptions.invalidCharReplacement)},Xe.prototype._decodeText=function(We){return We==null?We:We.replace(/&(quot|amp|apos|lt|gt);/g,function(qe,Ke){return Xe._entityTable[Ke]}).replace(/&#(?:x([a-fA-F0-9]+)|([0-9]+));/g,function(qe,Ke,Ze){return String.fromCodePoint(parseInt(Ke||Ze,Ke?16:10))})},Xe.prototype._decodeAttributeValue=function(We){return this._decodeText(We)},Xe.prototype.parse=function(We,qe){return this._parse(We,qe)},Xe.prototype.docType=function(We,qe,Ke,Ze){return this._docType(We,qe,Ke,Ze)},Xe.prototype.comment=function(We,qe){return this._comment(We,qe)},Xe.prototype.text=function(We,qe){return this._text(We,qe)},Xe.prototype.instruction=function(We,qe,Ke){return this._instruction(We,qe,Ke)},Xe.prototype.cdata=function(We,qe){return this._cdata(We,qe)},Xe.prototype.element=function(We,qe,Ke){return this._element(We,qe,Ke)},Xe.prototype.attribute=function(We,qe,Ke,Ze){return this._attribute(We,qe,Ke,Ze)},Xe.prototype.sanitize=function(We){return this._sanitize(We)},Xe._entityTable={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"},Xe}();r.BaseReader=ze},function(t,r,Ve){var je=Ve(39);t.exports=je.DEFAULT=new je({include:[Ve(54)],explicit:[Ve(300),Ve(301),Ve(302)]})},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(185);r.XMLBuilderImpl=je.XMLBuilderImpl;var ze=Ve(305);r.XMLBuilderCBImpl=ze.XMLBuilderCBImpl;var Xe=Ve(183);r.builder=Xe.builder,r.create=Xe.create,r.fragment=Xe.fragment,r.convert=Xe.convert;var We=Ve(310);r.createCB=We.createCB,r.fragmentCB=We.fragmentCB},function(t,r){var Ve;Ve=function(){return this}();try{Ve=Ve||new Function("return this")()}catch{typeof window=="object"&&(Ve=window)}t.exports=Ve},function(t,r,Ve){var je={}.propertyIsEnumerable,ze=Object.getOwnPropertyDescriptor,Xe=ze&&!je.call({1:2},1);r.f=Xe?function(We){var qe=ze(this,We);return!!qe&&qe.enumerable}:je},function(t,r,Ve){var je=Ve(11),ze=Ve(21);t.exports=function(Xe,We){try{ze(je,Xe,We)}catch{je[Xe]=We}return We}},function(t,r,Ve){var je=Ve(44),ze=Ve(118);(t.exports=function(Xe,We){return ze[Xe]||(ze[Xe]=We!==void 0?We:{})})("versions",[]).push({version:"3.6.5",mode:je?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},function(t,r,Ve){var je=Ve(121),ze=Ve(84).concat("length","prototype");r.f=Object.getOwnPropertyNames||function(Xe){return je(Xe,ze)}},function(t,r,Ve){var je=Ve(47),ze=Math.max,Xe=Math.min;t.exports=function(We,qe){var Ke=je(We);return Ke<0?ze(Ke+qe,0):Xe(Ke,qe)}},function(t,r){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,r){r.f=Object.getOwnPropertySymbols},function(t,r,Ve){var je=Ve(8);t.exports=!!Object.getOwnPropertySymbols&&!je(function(){return!String(Symbol())})},function(t,r,Ve){var je=Ve(127);t.exports=function(ze,Xe,We){if(je(ze),Xe===void 0)return ze;switch(We){case 0:return function(){return ze.call(Xe)};case 1:return function(qe){return ze.call(Xe,qe)};case 2:return function(qe,Ke){return ze.call(Xe,qe,Ke)};case 3:return function(qe,Ke,Ze){return ze.call(Xe,qe,Ke,Ze)}}return function(){return ze.apply(Xe,arguments)}}},function(t,r,Ve){var je=Ve(4),ze=Ve(195),Xe=Ve(132),We=Ve(133),qe=Ve(62),Ke=Ve(21),Ze=Ve(25),Je=Ve(5),Qe=Ve(44),ti=Ve(49),ni=Ve(131),ri=ni.IteratorPrototype,ii=ni.BUGGY_SAFARI_ITERATORS,ei=Je("iterator"),St=function(){return this};t.exports=function(oi,si,ai,ui,hi,ci,mi){ze(ai,si,ui);var di,pi,yi,gi=function(Bi){if(Bi===hi&&Mi)return Mi;if(!ii&&Bi in ki)return ki[Bi];switch(Bi){case"keys":case"values":case"entries":return function(){return new ai(this,Bi)}}return function(){return new ai(this)}},_i=si+" Iterator",Ai=!1,ki=oi.prototype,vi=ki[ei]||ki["@@iterator"]||hi&&ki[hi],Mi=!ii&&vi||gi(hi),Di=si=="Array"&&ki.entries||vi;if(Di&&(di=Xe(Di.call(new oi)),ri!==Object.prototype&&di.next&&(Qe||Xe(di)===ri||(We?We(di,ri):typeof di[ei]!="function"&&Ke(di,ei,St)),qe(di,_i,!0,!0),Qe&&(ti[_i]=St))),hi=="values"&&vi&&vi.name!=="values"&&(Ai=!0,Mi=function(){return vi.call(this)}),Qe&&!mi||ki[ei]===Mi||Ke(ki,ei,Mi),ti[si]=Mi,hi)if(pi={values:gi("values"),keys:ci?Mi:gi("keys"),entries:gi("entries")},mi)for(yi in pi)(ii||Ai||!(yi in ki))&&Ze(ki,yi,pi[yi]);else je({target:si,proto:!0,forced:ii||Ai},pi);return pi}},function(t,r,Ve){var je=Ve(4),ze=Ve(13),Xe=Ve(59),We=Ve(83),qe=Ve(26),Ke=Ve(24),Ze=Ve(134),Je=Ve(5),Qe=Ve(63),ti=Ve(28),ni=Qe("slice"),ri=ti("slice",{ACCESSORS:!0,0:0,1:2}),ii=Je("species"),ei=[].slice,St=Math.max;je({target:"Array",proto:!0,forced:!ni||!ri},{slice:function(oi,si){var ai,ui,hi,ci=Ke(this),mi=qe(ci.length),di=We(oi,mi),pi=We(si===void 0?mi:si,mi);if(Xe(ci)&&(typeof(ai=ci.constructor)!="function"||ai!==Array&&!Xe(ai.prototype)?ze(ai)&&(ai=ai[ii])===null&&(ai=void 0):ai=void 0,ai===Array||ai===void 0))return ei.call(ci,di,pi);for(ui=new(ai===void 0?Array:ai)(St(pi-di,0)),hi=0;di<pi;di++,hi++)di in ci&&Ze(ui,hi,ci[di]);return ui.length=hi,ui}})},function(t,r,Ve){var je={};je[Ve(5)("toStringTag")]="z",t.exports=String(je)==="[object z]"},function(t,r,Ve){Ve(19),Ve(138),Ve(20),Ve(92),Ve(22),Ve(23),Object.defineProperty(r,"__esModule",{value:!0}),r.DefaultBuilderOptions={version:"1.0",encoding:void 0,standalone:void 0,keepNullNodes:!1,keepNullAttributes:!1,ignoreConverters:!1,skipWhitespaceOnlyText:!0,convert:{att:"@",ins:"?",text:"#",cdata:"$",comment:"!"},defaultNamespace:{ele:void 0,att:void 0},namespaceAlias:{html:"http://www.w3.org/1999/xhtml",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"},invalidCharReplacement:void 0,parser:void 0},r.XMLBuilderOptionKeys=new Set(Object.keys(r.DefaultBuilderOptions)),r.DefaultXMLBuilderCBOptions={format:"xml",wellFormed:!1,prettyPrint:!1,indent:"  ",newline:`
`,offset:0,width:0,allowEmptyTags:!1,spaceBeforeSlash:!1,keepNullNodes:!1,keepNullAttributes:!1,ignoreConverters:!1,convert:{att:"@",ins:"?",text:"#",cdata:"$",comment:"!"},defaultNamespace:{ele:void 0,att:void 0},namespaceAlias:{html:"http://www.w3.org/1999/xhtml",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"}}},function(t,r,Ve){var je=Ve(139),ze=Ve(143);t.exports=je("Set",function(Xe){return function(){return Xe(this,arguments.length?arguments[0]:void 0)}},ze)},function(t,r,Ve){var je,ze,Xe=Ve(136),We=Ve(221),qe=RegExp.prototype.exec,Ke=String.prototype.replace,Ze=qe,Je=(je=/a/,ze=/b*/g,qe.call(je,"a"),qe.call(ze,"a"),je.lastIndex!==0||ze.lastIndex!==0),Qe=We.UNSUPPORTED_Y||We.BROKEN_CARET,ti=/()??/.exec("")[1]!==void 0;(Je||ti||Qe)&&(Ze=function(ni){var ri,ii,ei,St,oi=this,si=Qe&&oi.sticky,ai=Xe.call(oi),ui=oi.source,hi=0,ci=ni;return si&&((ai=ai.replace("y","")).indexOf("g")===-1&&(ai+="g"),ci=String(ni).slice(oi.lastIndex),oi.lastIndex>0&&(!oi.multiline||oi.multiline&&ni[oi.lastIndex-1]!==`
`)&&(ui="(?: "+ui+")",ci=" "+ci,hi++),ii=new RegExp("^(?:"+ui+")",ai)),ti&&(ii=new RegExp("^"+ui+"$(?!\\s)",ai)),Je&&(ri=oi.lastIndex),ei=qe.call(si?ii:oi,ci),si?ei?(ei.input=ei.input.slice(hi),ei[0]=ei[0].slice(hi),ei.index=oi.lastIndex,oi.lastIndex+=ei[0].length):oi.lastIndex=0:Je&&ei&&(oi.lastIndex=oi.global?ei.index+ei[0].length:ri),ti&&ei&&ei.length>1&&Ke.call(ei[0],ii,function(){for(St=1;St<arguments.length-2;St++)arguments[St]===void 0&&(ei[St]=void 0)}),ei}),t.exports=Ze},function(t,r,Ve){var je=Ve(225),ze=Ve(18),Xe=Ve(27),We=Ve(26),qe=Ve(47),Ke=Ve(35),Ze=Ve(226),Je=Ve(227),Qe=Math.max,ti=Math.min,ni=Math.floor,ri=/\$([$&'`]|\d\d?|<[^>]*>)/g,ii=/\$([$&'`]|\d\d?)/g;je("replace",2,function(ei,St,oi,si){var ai=si.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,ui=si.REPLACE_KEEPS_$0,hi=ai?"$":"$0";return[function(mi,di){var pi=Ke(this),yi=mi==null?void 0:mi[ei];return yi!==void 0?yi.call(mi,pi,di):St.call(String(pi),mi,di)},function(mi,di){if(!ai&&ui||typeof di=="string"&&di.indexOf(hi)===-1){var pi=oi(St,mi,this,di);if(pi.done)return pi.value}var yi=ze(mi),gi=String(this),_i=typeof di=="function";_i||(di=String(di));var Ai=yi.global;if(Ai){var ki=yi.unicode;yi.lastIndex=0}for(var vi=[];;){var Mi=Je(yi,gi);if(Mi===null||(vi.push(Mi),!Ai))break;String(Mi[0])===""&&(yi.lastIndex=Ze(gi,We(yi.lastIndex),ki))}for(var Di,Bi="",Pi=0,Fi=0;Fi<vi.length;Fi++){Mi=vi[Fi];for(var Vi=String(Mi[0]),Ti=Qe(ti(qe(Mi.index),gi.length),0),ji=[],Gi=1;Gi<Mi.length;Gi++)ji.push((Di=Mi[Gi])===void 0?Di:String(Di));var Yi=Mi.groups;if(_i){var Xi=[Vi].concat(ji,Ti,gi);Yi!==void 0&&Xi.push(Yi);var xi=String(di.apply(void 0,Xi))}else xi=ci(Vi,gi,Ti,ji,Yi,di);Ti>=Pi&&(Bi+=gi.slice(Pi,Ti)+xi,Pi=Ti+Vi.length)}return Bi+gi.slice(Pi)}];function ci(mi,di,pi,yi,gi,_i){var Ai=pi+mi.length,ki=yi.length,vi=ii;return gi!==void 0&&(gi=Xe(gi),vi=ri),St.call(_i,vi,function(Mi,Di){var Bi;switch(Di.charAt(0)){case"$":return"$";case"&":return mi;case"`":return di.slice(0,pi);case"'":return di.slice(Ai);case"<":Bi=gi[Di.slice(1,-1)];break;default:var Pi=+Di;if(Pi===0)return Mi;if(Pi>ki){var Fi=ni(Pi/10);return Fi===0?Mi:Fi<=ki?yi[Fi-1]===void 0?Di.charAt(1):yi[Fi-1]+Di.charAt(1):Mi}Bi=yi[Pi-1]}return Bi===void 0?"":Bi})}})},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=function(){function ze(){this._items={},this._nullItems=[]}return ze.prototype.copy=function(){var Xe=new ze;for(var We in this._items)Xe._items[We]=this._items[We].slice(0);return Xe._nullItems=this._nullItems.slice(0),Xe},ze.prototype.get=function(Xe,We){var qe=We===null?this._nullItems:this._items[We]||null;if(qe===null)return null;for(var Ke=null,Ze=0;Ze<qe.length;Ze++)if((Ke=qe[Ze])===Xe)return Ke;return Ke},ze.prototype.has=function(Xe,We){var qe=We===null?this._nullItems:this._items[We]||null;return qe!==null&&qe.indexOf(Xe)!==-1},ze.prototype.hasPrefix=function(Xe){if(this._nullItems.indexOf(Xe)!==-1)return!0;for(var We in this._items)if(this._items[We].indexOf(Xe)!==-1)return!0;return!1},ze.prototype.set=function(Xe,We){var qe=We===null?this._nullItems:this._items[We]||null;We!==null&&qe===null?this._items[We]=[Xe]:qe.push(Xe)},ze}();r.NamespacePrefixMap=je},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0}),r.Surrogate=/[\uD800-\uDFFF]/,r.ScalarValue=/[\uD800-\uDFFF]/,r.NonCharacter=/[\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]/,r.ASCIICodePoint=/[\u0000-\u007F]/,r.ASCIITabOrNewLine=/[\t\n\r]/,r.ASCIIWhiteSpace=/[\t\n\f\r ]/,r.C0Control=/[\u0000-\u001F]/,r.C0ControlOrSpace=/[\u0000-\u001F ]/,r.Control=/[\u0000-\u001F\u007F-\u009F]/,r.ASCIIDigit=/[0-9]/,r.ASCIIUpperHexDigit=/[0-9A-F]/,r.ASCIILowerHexDigit=/[0-9a-f]/,r.ASCIIHexDigit=/[0-9A-Fa-f]/,r.ASCIIUpperAlpha=/[A-Z]/,r.ASCIILowerAlpha=/[a-z]/,r.ASCIIAlpha=/[A-Za-z]/,r.ASCIIAlphanumeric=/[0-9A-Za-z]/},function(t,r,Ve){var je=this&&this.__values||function(di){var pi=typeof Symbol=="function"&&Symbol.iterator,yi=pi&&di[pi],gi=0;if(yi)return yi.call(di);if(di&&typeof di.length=="number")return{next:function(){return di&&gi>=di.length&&(di=void 0),{value:di&&di[gi++],done:!di}}};throw new TypeError(pi?"Object is not iterable.":"Symbol.iterator is not defined.")},ze=this&&this.__read||function(di,pi){var yi=typeof Symbol=="function"&&di[Symbol.iterator];if(!yi)return di;var gi,_i,Ai=yi.call(di),ki=[];try{for(;(pi===void 0||pi-- >0)&&!(gi=Ai.next()).done;)ki.push(gi.value)}catch(vi){_i={error:vi}}finally{try{gi&&!gi.done&&(yi=Ai.return)&&yi.call(Ai)}finally{if(_i)throw _i.error}}return ki},Xe=this&&this.__spread||function(){for(var di=[],pi=0;pi<arguments.length;pi++)di=di.concat(ze(arguments[pi]));return di};Object.defineProperty(r,"__esModule",{value:!0});var We=Ve(6),qe=Ve(1),Ke=Ve(3),Ze=Ve(171),Je=Ve(104),Qe=Ve(9),ti=Ve(17),ni=Ve(72),ri=Ve(30);function ii(di,pi){pi===void 0&&(pi=void 0),pi===void 0&&(pi=null);var yi=ei(di,pi,new Date,{});return yi._isTrusted=!0,yi}function ei(di,pi,yi,gi){var _i=new di("");return _i._initializedFlag=!0,_i._timeStamp=yi.getTime(),Object.assign(_i,gi),We.dom.features.steps&&ri.dom_runEventConstructingSteps(_i),_i}function St(di,pi,yi,gi){var _i,Ai,ki,vi;yi===void 0&&(yi=!1),gi===void 0&&(gi={value:!1});var Mi=!1;di._dispatchFlag=!0;var Di=pi;if(yi){var Bi=pi._associatedDocument;Ke.Guard.isDocumentNode(Bi)&&(Di=Bi)}var Pi=null,Fi=ti.tree_retarget(di._relatedTarget,pi);if(pi!==Fi||pi===di._relatedTarget){var Vi=[];try{for(var Ti=je(di._touchTargetList),ji=Ti.next();!ji.done;ji=Ti.next()){var Gi=ji.value;Vi.push(ti.tree_retarget(Gi,pi))}}catch(Ji){_i={error:Ji}}finally{try{ji&&!ji.done&&(Ai=Ti.return)&&Ai.call(Ti)}finally{if(_i)throw _i.error}}oi(di,pi,Di,Fi,Vi,!1);var Yi=Ke.Guard.isMouseEvent(di)&&di._type==="click";Yi&&pi._activationBehavior!==void 0&&(Pi=pi);for(var Xi=Ke.Guard.isSlotable(pi)&&ni.shadowTree_isAssigned(pi)?pi:null,xi=!1,fi=pi._getTheParent(di);fi!==null&&Ke.Guard.isNode(fi);){if(Xi!==null){if(!Ke.Guard.isSlot(fi))throw new Error("Parent node of a slotable should be a slot.");Xi=null;var $i=ti.tree_rootNode(fi,!0);Ke.Guard.isShadowRoot($i)&&$i._mode==="closed"&&(xi=!0)}Ke.Guard.isSlotable(fi)&&ni.shadowTree_isAssigned(fi)&&(Xi=fi),Fi=ti.tree_retarget(di._relatedTarget,fi),Vi=[];try{for(var bi=(ki=void 0,je(di._touchTargetList)),Ci=bi.next();!Ci.done;Ci=bi.next())Gi=Ci.value,Vi.push(ti.tree_retarget(Gi,fi))}catch(Ji){ki={error:Ji}}finally{try{Ci&&!Ci.done&&(vi=bi.return)&&vi.call(bi)}finally{if(ki)throw ki.error}}Ke.Guard.isWindow(fi)||Ke.Guard.isNode(fi)&&Ke.Guard.isNode(pi)&&ti.tree_isAncestorOf(ti.tree_rootNode(pi,!0),fi,!0,!0)?(Yi&&di._bubbles&&Pi===null&&fi._activationBehavior&&(Pi=fi),oi(di,fi,null,Fi,Vi,xi)):fi===Fi?fi=null:(pi=fi,Yi&&Pi===null&&pi._activationBehavior&&(Pi=pi),oi(di,fi,pi,Fi,Vi,xi)),fi!==null&&(fi=fi._getTheParent(di)),xi=!1}for(var Ei=null,Si=di._path,zi=Si.length-1;zi>=0;zi--)if((Ui=Si[zi]).shadowAdjustedTarget!==null){Ei=Ui;break}if(Ei!==null)if(Ke.Guard.isNode(Ei.shadowAdjustedTarget)&&Ke.Guard.isShadowRoot(ti.tree_rootNode(Ei.shadowAdjustedTarget,!0)))Mi=!0;else if(Ke.Guard.isNode(Ei.relatedTarget)&&Ke.Guard.isShadowRoot(ti.tree_rootNode(Ei.relatedTarget,!0)))Mi=!0;else for(var Ki=0;Ki<Ei.touchTargetList.length;Ki++){var Ui=Ei.touchTargetList[Ki];if(Ke.Guard.isNode(Ui)&&Ke.Guard.isShadowRoot(ti.tree_rootNode(Ui,!0))){Mi=!0;break}}for(Pi!==null&&Pi._legacyPreActivationBehavior!==void 0&&Pi._legacyPreActivationBehavior(di),zi=Si.length-1;zi>=0;zi--)(Ui=Si[zi]).shadowAdjustedTarget!==null?di._eventPhase=qe.EventPhase.AtTarget:di._eventPhase=qe.EventPhase.Capturing,si(Ui,di,"capturing",gi);for(zi=0;zi<Si.length;zi++){if((Ui=Si[zi]).shadowAdjustedTarget!==null)di._eventPhase=qe.EventPhase.AtTarget;else{if(!di._bubbles)continue;di._eventPhase=qe.EventPhase.Bubbling}si(Ui,di,"bubbling",gi)}}return di._eventPhase=qe.EventPhase.None,di._currentTarget=null,di._path=[],di._dispatchFlag=!1,di._stopPropagationFlag=!1,di._stopImmediatePropagationFlag=!1,Mi&&(di._target=null,di._relatedTarget=null,di._touchTargetList=[]),Pi!==null&&(di._canceledFlag||Pi._activationBehavior===void 0?Pi._legacyCanceledActivationBehavior!==void 0&&Pi._legacyCanceledActivationBehavior(di):Pi._activationBehavior(di)),!di._canceledFlag}function oi(di,pi,yi,gi,_i,Ai){var ki=!1;Ke.Guard.isNode(pi)&&Ke.Guard.isShadowRoot(ti.tree_rootNode(pi))&&(ki=!0);var vi=!1;Ke.Guard.isShadowRoot(pi)&&pi._mode==="closed"&&(vi=!0),di._path.push({invocationTarget:pi,invocationTargetInShadowTree:ki,shadowAdjustedTarget:yi,relatedTarget:gi,touchTargetList:_i,rootOfClosedTree:vi,slotInClosedTree:Ai})}function si(di,pi,yi,gi){gi===void 0&&(gi={value:!1});for(var _i=pi._path,Ai=-1,ki=0;ki<_i.length;ki++)if(_i[ki]===di){Ai=ki;break}if(Ai!==-1){var vi=_i[Ai];(vi.shadowAdjustedTarget!==null||Ai>0&&(vi=_i[Ai-1]).shadowAdjustedTarget!==null)&&(pi._target=vi.shadowAdjustedTarget)}if(pi._relatedTarget=di.relatedTarget,pi._touchTargetList=di.touchTargetList,!pi._stopPropagationFlag){pi._currentTarget=di.invocationTarget;var Mi=pi._currentTarget._eventListenerList,Di=new(Array.bind.apply(Array,Xe([void 0],Mi)));if(!ai(pi,Di,yi,di,gi)&&pi._isTrusted){var Bi=pi._type;Bi==="animationend"?pi._type="webkitAnimationEnd":Bi==="animationiteration"?pi._type="webkitAnimationIteration":Bi==="animationstart"?pi._type="webkitAnimationStart":Bi==="transitionend"&&(pi._type="webkitTransitionEnd"),ai(pi,Di,yi,di,gi),pi._type=Bi}}}function ai(di,pi,yi,gi,_i){_i===void 0&&(_i={value:!1});for(var Ai=!1,ki=0;ki<pi.length;ki++){var vi=pi[ki];if(!vi.removed){if(di._type!==vi.type||(Ai=!0,yi==="capturing"&&!vi.capture)||yi==="bubbling"&&vi.capture)continue;if(vi.once&&di._currentTarget!==null){for(var Mi=di._currentTarget,Di=-1,Bi=0;Bi<Mi._eventListenerList.length;Bi++)if(Mi._eventListenerList[Bi]===vi){Di=Bi;break}Di!==-1&&Mi._eventListenerList.splice(Di,1)}var Pi=void 0,Fi=void 0;Ke.Guard.isWindow(Pi)&&(Fi=Pi._currentEvent,gi.invocationTargetInShadowTree===!1&&(Pi._currentEvent=di)),vi.passive&&(di._inPassiveListenerFlag=!0);try{vi.callback.handleEvent.call(di._currentTarget,di)}catch{_i.value=!0}if(vi.passive&&(di._inPassiveListenerFlag=!1),Ke.Guard.isWindow(Pi)&&(Pi._currentEvent=Fi),di._stopImmediatePropagationFlag)return Ai}}return Ai}function ui(di,pi){return null}function hi(di,pi){return null}function ci(di,pi){}function mi(di,pi){}r.event_setTheCanceledFlag=function(di){di._cancelable&&!di._inPassiveListenerFlag&&(di._canceledFlag=!0)},r.event_initialize=function(di,pi,yi,gi){di._initializedFlag=!0,di._stopPropagationFlag=!1,di._stopImmediatePropagationFlag=!1,di._canceledFlag=!1,di._isTrusted=!1,di._target=null,di._type=pi,di._bubbles=yi,di._cancelable=gi},r.event_createAnEvent=ii,r.event_innerEventCreationSteps=ei,r.event_dispatch=St,r.event_appendToAnEventPath=oi,r.event_invoke=si,r.event_innerInvoke=ai,r.event_fireAnEvent=function(di,pi,yi,gi,_i){yi===void 0&&(yi=Je.EventImpl);var Ai=ii(yi);if(Ai._type=di,gi)for(var ki in gi)Ai[ki]=gi[ki];return St(Ai,pi,_i)},r.event_createLegacyEvent=function(di){var pi=null;switch(di.toLowerCase()){case"beforeunloadevent":case"compositionevent":break;case"customevent":pi=Ze.CustomEventImpl;break;case"devicemotionevent":case"deviceorientationevent":case"dragevent":break;case"event":case"events":pi=Je.EventImpl}if(pi===null)throw new Qe.NotSupportedError("Event constructor not found for interface "+di+".");var yi=new pi("");return yi._type="",yi._timeStamp=new Date().getTime(),yi._isTrusted=!1,yi._initializedFlag=!1,yi},r.event_getterEventHandlerIDLAttribute=function(di,pi){return null},r.event_setterEventHandlerIDLAttribute=function(di,pi,yi){},r.event_determineTheTargetOfAnEventHandler=ui,r.event_getTheCurrentValueOfAnEventHandler=hi,r.event_activateAnEventHandler=ci,r.event_deactivateAnEventHandler=mi},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(oi,si){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ai,ui){ai.__proto__=ui}||function(ai,ui){for(var hi in ui)ui.hasOwnProperty(hi)&&(ai[hi]=ui[hi])})(oi,si)},function(oi,si){function ai(){this.constructor=oi}je(oi,si),oi.prototype=si===null?Object.create(si):(ai.prototype=si.prototype,new ai)}),Xe=this&&this.__values||function(oi){var si=typeof Symbol=="function"&&Symbol.iterator,ai=si&&oi[si],ui=0;if(ai)return ai.call(oi);if(oi&&typeof oi.length=="number")return{next:function(){return oi&&ui>=oi.length&&(oi=void 0),{value:oi&&oi[ui++],done:!oi}}};throw new TypeError(si?"Object is not iterable.":"Symbol.iterator is not defined.")},We=this&&this.__read||function(oi,si){var ai=typeof Symbol=="function"&&oi[Symbol.iterator];if(!ai)return oi;var ui,hi,ci=ai.call(oi),mi=[];try{for(;(si===void 0||si-- >0)&&!(ui=ci.next()).done;)mi.push(ui.value)}catch(di){hi={error:di}}finally{try{ui&&!ui.done&&(ai=ci.return)&&ai.call(ci)}finally{if(hi)throw hi.error}}return mi};Object.defineProperty(r,"__esModule",{value:!0});var qe=Ve(6),Ke=Ve(1),Ze=Ve(9),Je=Ve(34),Qe=Ve(3),ti=Ve(2),ni=Ve(7),ri=Ve(152),ii=Ve(0),ei=Ve(12),St=function(oi){function si(){var ai=oi.call(this)||this;return ai._children=new Set,ai._encoding={name:"UTF-8",labels:["unicode-1-1-utf-8","utf-8","utf8"]},ai._contentType="application/xml",ai._URL={scheme:"about",username:"",password:"",host:null,port:null,path:["blank"],query:null,fragment:null,_cannotBeABaseURLFlag:!0,_blobURLEntry:null},ai._origin=null,ai._type="xml",ai._mode="no-quirks",ai._documentElement=null,ai._hasNamespaces=!1,ai._nodeDocumentOverwrite=null,ai}return ze(si,oi),Object.defineProperty(si.prototype,"_nodeDocument",{get:function(){return this._nodeDocumentOverwrite||this},set:function(ai){this._nodeDocumentOverwrite=ai},enumerable:!0,configurable:!0}),Object.defineProperty(si.prototype,"implementation",{get:function(){return this._implementation||(this._implementation=ii.create_domImplementation(this))},enumerable:!0,configurable:!0}),Object.defineProperty(si.prototype,"URL",{get:function(){return ri.urlSerializer(this._URL)},enumerable:!0,configurable:!0}),Object.defineProperty(si.prototype,"documentURI",{get:function(){return this.URL},enumerable:!0,configurable:!0}),Object.defineProperty(si.prototype,"origin",{get:function(){return"null"},enumerable:!0,configurable:!0}),Object.defineProperty(si.prototype,"compatMode",{get:function(){return this._mode==="quirks"?"BackCompat":"CSS1Compat"},enumerable:!0,configurable:!0}),Object.defineProperty(si.prototype,"characterSet",{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(si.prototype,"charset",{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(si.prototype,"inputEncoding",{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(si.prototype,"contentType",{get:function(){return this._contentType},enumerable:!0,configurable:!0}),Object.defineProperty(si.prototype,"doctype",{get:function(){var ai,ui;try{for(var hi=Xe(this._children),ci=hi.next();!ci.done;ci=hi.next()){var mi=ci.value;if(Qe.Guard.isDocumentTypeNode(mi))return mi}}catch(di){ai={error:di}}finally{try{ci&&!ci.done&&(ui=hi.return)&&ui.call(hi)}finally{if(ai)throw ai.error}}return null},enumerable:!0,configurable:!0}),Object.defineProperty(si.prototype,"documentElement",{get:function(){return this._documentElement},enumerable:!0,configurable:!0}),si.prototype.getElementsByTagName=function(ai){return ii.node_listOfElementsWithQualifiedName(ai,this)},si.prototype.getElementsByTagNameNS=function(ai,ui){return ii.node_listOfElementsWithNamespace(ai,ui,this)},si.prototype.getElementsByClassName=function(ai){return ii.node_listOfElementsWithClassNames(ai,this)},si.prototype.createElement=function(ai,ui){if(!ii.xml_isName(ai))throw new Ze.InvalidCharacterError;this._type==="html"&&(ai=ai.toLowerCase());var hi=null;ui!==void 0&&(hi=ti.isString(ui)?ui:ui.is);var ci=this._type==="html"||this._contentType==="application/xhtml+xml"?ni.namespace.HTML:null;return ii.element_createAnElement(this,ai,ci,null,hi,!0)},si.prototype.createElementNS=function(ai,ui,hi){return ii.document_internalCreateElementNS(this,ai,ui,hi)},si.prototype.createDocumentFragment=function(){return ii.create_documentFragment(this)},si.prototype.createTextNode=function(ai){return ii.create_text(this,ai)},si.prototype.createCDATASection=function(ai){if(this._type==="html")throw new Ze.NotSupportedError;if(ai.indexOf("]]>")!==-1)throw new Ze.InvalidCharacterError;return ii.create_cdataSection(this,ai)},si.prototype.createComment=function(ai){return ii.create_comment(this,ai)},si.prototype.createProcessingInstruction=function(ai,ui){if(!ii.xml_isName(ai))throw new Ze.InvalidCharacterError;if(ui.indexOf("?>")!==-1)throw new Ze.InvalidCharacterError;return ii.create_processingInstruction(this,ai,ui)},si.prototype.importNode=function(ai,ui){if(ui===void 0&&(ui=!1),Qe.Guard.isDocumentNode(ai)||Qe.Guard.isShadowRoot(ai))throw new Ze.NotSupportedError;return ii.node_clone(ai,this,ui)},si.prototype.adoptNode=function(ai){if(Qe.Guard.isDocumentNode(ai))throw new Ze.NotSupportedError;if(Qe.Guard.isShadowRoot(ai))throw new Ze.HierarchyRequestError;return ii.document_adopt(ai,this),ai},si.prototype.createAttribute=function(ai){if(!ii.xml_isName(ai))throw new Ze.InvalidCharacterError;return this._type==="html"&&(ai=ai.toLowerCase()),ii.create_attr(this,ai)},si.prototype.createAttributeNS=function(ai,ui){var hi=We(ii.namespace_validateAndExtract(ai,ui),3),ci=hi[0],mi=hi[1],di=hi[2],pi=ii.create_attr(this,di);return pi._namespace=ci,pi._namespacePrefix=mi,pi},si.prototype.createEvent=function(ai){return ii.event_createLegacyEvent(ai)},si.prototype.createRange=function(){var ai=ii.create_range();return ai._start=[this,0],ai._end=[this,0],ai},si.prototype.createNodeIterator=function(ai,ui,hi){ui===void 0&&(ui=Ke.WhatToShow.All),hi===void 0&&(hi=null);var ci=ii.create_nodeIterator(ai,ai,!0);return ci._whatToShow=ui,ci._iteratorCollection=ii.create_nodeList(ai),ti.isFunction(hi)?(ci._filter=ii.create_nodeFilter(),ci._filter.acceptNode=hi):ci._filter=hi,ci},si.prototype.createTreeWalker=function(ai,ui,hi){ui===void 0&&(ui=Ke.WhatToShow.All),hi===void 0&&(hi=null);var ci=ii.create_treeWalker(ai,ai);return ci._whatToShow=ui,ti.isFunction(hi)?(ci._filter=ii.create_nodeFilter(),ci._filter.acceptNode=hi):ci._filter=hi,ci},si.prototype._getTheParent=function(ai){return ai._type==="load"?null:qe.dom.window},si.prototype.getElementById=function(ai){throw new Error("Mixin: NonElementParentNode not implemented.")},Object.defineProperty(si.prototype,"children",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(si.prototype,"firstElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(si.prototype,"lastElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(si.prototype,"childElementCount",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),si.prototype.prepend=function(){for(var ai=[],ui=0;ui<arguments.length;ui++)ai[ui]=arguments[ui];throw new Error("Mixin: ParentNode not implemented.")},si.prototype.append=function(){for(var ai=[],ui=0;ui<arguments.length;ui++)ai[ui]=arguments[ui];throw new Error("Mixin: ParentNode not implemented.")},si.prototype.querySelector=function(ai){throw new Error("Mixin: ParentNode not implemented.")},si.prototype.querySelectorAll=function(ai){throw new Error("Mixin: ParentNode not implemented.")},si}(Je.NodeImpl);r.DocumentImpl=St,ei.idl_defineConst(St.prototype,"_nodeType",Ke.NodeType.Document)},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(ri,ii){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ei,St){ei.__proto__=St}||function(ei,St){for(var oi in St)St.hasOwnProperty(oi)&&(ei[oi]=St[oi])})(ri,ii)},function(ri,ii){function ei(){this.constructor=ri}je(ri,ii),ri.prototype=ii===null?Object.create(ii):(ei.prototype=ii.prototype,new ei)}),Xe=this&&this.__values||function(ri){var ii=typeof Symbol=="function"&&Symbol.iterator,ei=ii&&ri[ii],St=0;if(ei)return ei.call(ri);if(ri&&typeof ri.length=="number")return{next:function(){return ri&&St>=ri.length&&(ri=void 0),{value:ri&&ri[St++],done:!ri}}};throw new TypeError(ii?"Object is not iterable.":"Symbol.iterator is not defined.")},We=this&&this.__read||function(ri,ii){var ei=typeof Symbol=="function"&&ri[Symbol.iterator];if(!ei)return ri;var St,oi,si=ei.call(ri),ai=[];try{for(;(ii===void 0||ii-- >0)&&!(St=si.next()).done;)ai.push(St.value)}catch(ui){oi={error:ui}}finally{try{St&&!St.done&&(ei=si.return)&&ei.call(si)}finally{if(oi)throw oi.error}}return ai};Object.defineProperty(r,"__esModule",{value:!0});var qe=Ve(1),Ke=Ve(34),Ze=Ve(9),Je=Ve(7),Qe=Ve(0),ti=Ve(12),ni=function(ri){function ii(){var ei=ri.call(this)||this;return ei._children=new Set,ei._namespace=null,ei._namespacePrefix=null,ei._localName="",ei._customElementState="undefined",ei._customElementDefinition=null,ei._is=null,ei._shadowRoot=null,ei._attributeList=Qe.create_namedNodeMap(ei),ei._attributeChangeSteps=[],ei._name="",ei._assignedSlot=null,ei}return ze(ii,ri),Object.defineProperty(ii.prototype,"namespaceURI",{get:function(){return this._namespace},enumerable:!0,configurable:!0}),Object.defineProperty(ii.prototype,"prefix",{get:function(){return this._namespacePrefix},enumerable:!0,configurable:!0}),Object.defineProperty(ii.prototype,"localName",{get:function(){return this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(ii.prototype,"tagName",{get:function(){return this._htmlUppercasedQualifiedName},enumerable:!0,configurable:!0}),Object.defineProperty(ii.prototype,"id",{get:function(){return Qe.element_getAnAttributeValue(this,"id")},set:function(ei){Qe.element_setAnAttributeValue(this,"id",ei)},enumerable:!0,configurable:!0}),Object.defineProperty(ii.prototype,"className",{get:function(){return Qe.element_getAnAttributeValue(this,"class")},set:function(ei){Qe.element_setAnAttributeValue(this,"class",ei)},enumerable:!0,configurable:!0}),Object.defineProperty(ii.prototype,"classList",{get:function(){var ei=Qe.element_getAnAttributeByName("class",this);return ei===null&&(ei=Qe.create_attr(this._nodeDocument,"class")),Qe.create_domTokenList(this,ei)},enumerable:!0,configurable:!0}),Object.defineProperty(ii.prototype,"slot",{get:function(){return Qe.element_getAnAttributeValue(this,"slot")},set:function(ei){Qe.element_setAnAttributeValue(this,"slot",ei)},enumerable:!0,configurable:!0}),ii.prototype.hasAttributes=function(){return this._attributeList.length!==0},Object.defineProperty(ii.prototype,"attributes",{get:function(){return this._attributeList},enumerable:!0,configurable:!0}),ii.prototype.getAttributeNames=function(){var ei,St,oi=[];try{for(var si=Xe(this._attributeList),ai=si.next();!ai.done;ai=si.next()){var ui=ai.value;oi.push(ui._qualifiedName)}}catch(hi){ei={error:hi}}finally{try{ai&&!ai.done&&(St=si.return)&&St.call(si)}finally{if(ei)throw ei.error}}return oi},ii.prototype.getAttribute=function(ei){var St=Qe.element_getAnAttributeByName(ei,this);return St?St._value:null},ii.prototype.getAttributeNS=function(ei,St){var oi=Qe.element_getAnAttributeByNamespaceAndLocalName(ei,St,this);return oi?oi._value:null},ii.prototype.setAttribute=function(ei,St){if(!Qe.xml_isName(ei))throw new Ze.InvalidCharacterError;this._namespace===Je.namespace.HTML&&this._nodeDocument._type==="html"&&(ei=ei.toLowerCase());for(var oi=null,si=0;si<this._attributeList.length;si++){var ai=this._attributeList[si];if(ai._qualifiedName===ei){oi=ai;break}}if(oi===null)return(oi=Qe.create_attr(this._nodeDocument,ei))._value=St,void Qe.element_append(oi,this);Qe.element_change(oi,this,St)},ii.prototype.setAttributeNS=function(ei,St,oi){var si=We(Qe.namespace_validateAndExtract(ei,St),3),ai=si[0],ui=si[1],hi=si[2];Qe.element_setAnAttributeValue(this,hi,oi,ui,ai)},ii.prototype.removeAttribute=function(ei){Qe.element_removeAnAttributeByName(ei,this)},ii.prototype.removeAttributeNS=function(ei,St){Qe.element_removeAnAttributeByNamespaceAndLocalName(ei,St,this)},ii.prototype.hasAttribute=function(ei){this._namespace===Je.namespace.HTML&&this._nodeDocument._type==="html"&&(ei=ei.toLowerCase());for(var St=0;St<this._attributeList.length;St++)if(this._attributeList[St]._qualifiedName===ei)return!0;return!1},ii.prototype.toggleAttribute=function(ei,St){if(!Qe.xml_isName(ei))throw new Ze.InvalidCharacterError;this._namespace===Je.namespace.HTML&&this._nodeDocument._type==="html"&&(ei=ei.toLowerCase());for(var oi=null,si=0;si<this._attributeList.length;si++){var ai=this._attributeList[si];if(ai._qualifiedName===ei){oi=ai;break}}return oi===null?(St===void 0||St===!0)&&((oi=Qe.create_attr(this._nodeDocument,ei))._value="",Qe.element_append(oi,this),!0):St!==void 0&&St!==!1||(Qe.element_removeAnAttributeByName(ei,this),!1)},ii.prototype.hasAttributeNS=function(ei,St){for(var oi=ei||null,si=0;si<this._attributeList.length;si++){var ai=this._attributeList[si];if(ai._namespace===oi&&ai._localName===St)return!0}return!1},ii.prototype.getAttributeNode=function(ei){return Qe.element_getAnAttributeByName(ei,this)},ii.prototype.getAttributeNodeNS=function(ei,St){return Qe.element_getAnAttributeByNamespaceAndLocalName(ei,St,this)},ii.prototype.setAttributeNode=function(ei){return Qe.element_setAnAttribute(ei,this)},ii.prototype.setAttributeNodeNS=function(ei){return Qe.element_setAnAttribute(ei,this)},ii.prototype.removeAttributeNode=function(ei){for(var St=!1,oi=0;oi<this._attributeList.length;oi++)if(this._attributeList[oi]===ei){St=!0;break}if(!St)throw new Ze.NotFoundError;return Qe.element_remove(ei,this),ei},ii.prototype.attachShadow=function(ei){if(this._namespace!==Je.namespace.HTML)throw new Ze.NotSupportedError;if(!Qe.customElement_isValidCustomElementName(this._localName)&&!Qe.customElement_isValidShadowHostName(this._localName))throw new Ze.NotSupportedError;if(Qe.customElement_isValidCustomElementName(this._localName)||this._is!==null){var St=Qe.customElement_lookUpACustomElementDefinition(this._nodeDocument,this._namespace,this._localName,this._is);if(St!==null&&St.disableShadow===!0)throw new Ze.NotSupportedError}if(this._shadowRoot!==null)throw new Ze.NotSupportedError;var oi=Qe.create_shadowRoot(this._nodeDocument,this);return oi._mode=ei.mode,this._shadowRoot=oi,oi},Object.defineProperty(ii.prototype,"shadowRoot",{get:function(){var ei=this._shadowRoot;return ei===null||ei.mode==="closed"?null:ei},enumerable:!0,configurable:!0}),ii.prototype.closest=function(ei){throw new Ze.NotImplementedError},ii.prototype.matches=function(ei){throw new Ze.NotImplementedError},ii.prototype.webkitMatchesSelector=function(ei){return this.matches(ei)},ii.prototype.getElementsByTagName=function(ei){return Qe.node_listOfElementsWithQualifiedName(ei,this)},ii.prototype.getElementsByTagNameNS=function(ei,St){return Qe.node_listOfElementsWithNamespace(ei,St,this)},ii.prototype.getElementsByClassName=function(ei){return Qe.node_listOfElementsWithClassNames(ei,this)},ii.prototype.insertAdjacentElement=function(ei,St){return Qe.element_insertAdjacent(this,ei,St)},ii.prototype.insertAdjacentText=function(ei,St){var oi=Qe.create_text(this._nodeDocument,St);Qe.element_insertAdjacent(this,ei,oi)},Object.defineProperty(ii.prototype,"_qualifiedName",{get:function(){return this._namespacePrefix?this._namespacePrefix+":"+this._localName:this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(ii.prototype,"_htmlUppercasedQualifiedName",{get:function(){var ei=this._qualifiedName;return this._namespace===Je.namespace.HTML&&this._nodeDocument._type==="html"&&(ei=ei.toUpperCase()),ei},enumerable:!0,configurable:!0}),Object.defineProperty(ii.prototype,"children",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(ii.prototype,"firstElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(ii.prototype,"lastElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(ii.prototype,"childElementCount",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),ii.prototype.prepend=function(){for(var ei=[],St=0;St<arguments.length;St++)ei[St]=arguments[St];throw new Error("Mixin: ParentNode not implemented.")},ii.prototype.append=function(){for(var ei=[],St=0;St<arguments.length;St++)ei[St]=arguments[St];throw new Error("Mixin: ParentNode not implemented.")},ii.prototype.querySelector=function(ei){throw new Error("Mixin: ParentNode not implemented.")},ii.prototype.querySelectorAll=function(ei){throw new Error("Mixin: ParentNode not implemented.")},Object.defineProperty(ii.prototype,"previousElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(ii.prototype,"nextElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),ii.prototype.before=function(){for(var ei=[],St=0;St<arguments.length;St++)ei[St]=arguments[St];throw new Error("Mixin: ChildNode not implemented.")},ii.prototype.after=function(){for(var ei=[],St=0;St<arguments.length;St++)ei[St]=arguments[St];throw new Error("Mixin: ChildNode not implemented.")},ii.prototype.replaceWith=function(){for(var ei=[],St=0;St<arguments.length;St++)ei[St]=arguments[St];throw new Error("Mixin: ChildNode not implemented.")},ii.prototype.remove=function(){throw new Error("Mixin: ChildNode not implemented.")},Object.defineProperty(ii.prototype,"assignedSlot",{get:function(){throw new Error("Mixin: Slotable not implemented.")},enumerable:!0,configurable:!0}),ii._create=function(ei,St,oi,si){oi===void 0&&(oi=null),si===void 0&&(si=null);var ai=new ii;return ai._localName=St,ai._namespace=oi,ai._namespacePrefix=si,ai._nodeDocument=ei,ai},ii}(Ke.NodeImpl);r.ElementImpl=ni,ti.idl_defineConst(ni.prototype,"_nodeType",qe.NodeType.Element)},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(Ze,Je){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Qe,ti){Qe.__proto__=ti}||function(Qe,ti){for(var ni in ti)ti.hasOwnProperty(ni)&&(Qe[ni]=ti[ni])})(Ze,Je)},function(Ze,Je){function Qe(){this.constructor=Ze}je(Ze,Je),Ze.prototype=Je===null?Object.create(Je):(Qe.prototype=Je.prototype,new Qe)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(1),We=Ve(34),qe=Ve(12),Ke=function(Ze){function Je(Qe){Qe===void 0&&(Qe=null);var ti=Ze.call(this)||this;return ti._children=new Set,ti._host=Qe,ti}return ze(Je,Ze),Je.prototype.getElementById=function(Qe){throw new Error("Mixin: NonElementParentNode not implemented.")},Object.defineProperty(Je.prototype,"children",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(Je.prototype,"firstElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(Je.prototype,"lastElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(Je.prototype,"childElementCount",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Je.prototype.prepend=function(){for(var Qe=[],ti=0;ti<arguments.length;ti++)Qe[ti]=arguments[ti];throw new Error("Mixin: ParentNode not implemented.")},Je.prototype.append=function(){for(var Qe=[],ti=0;ti<arguments.length;ti++)Qe[ti]=arguments[ti];throw new Error("Mixin: ParentNode not implemented.")},Je.prototype.querySelector=function(Qe){throw new Error("Mixin: ParentNode not implemented.")},Je.prototype.querySelectorAll=function(Qe){throw new Error("Mixin: ParentNode not implemented.")},Je._create=function(Qe,ti){ti===void 0&&(ti=null);var ni=new Je(ti);return ni._nodeDocument=Qe,ni},Je}(We.NodeImpl);r.DocumentFragmentImpl=Ke,qe.idl_defineConst(Ke.prototype,"_nodeType",Xe.NodeType.DocumentFragment)},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(Qe,ti){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ni,ri){ni.__proto__=ri}||function(ni,ri){for(var ii in ri)ri.hasOwnProperty(ii)&&(ni[ii]=ri[ii])})(Qe,ti)},function(Qe,ti){function ni(){this.constructor=Qe}je(Qe,ti),Qe.prototype=ti===null?Object.create(ti):(ni.prototype=ti.prototype,new ni)}),Xe=this&&this.__values||function(Qe){var ti=typeof Symbol=="function"&&Symbol.iterator,ni=ti&&Qe[ti],ri=0;if(ni)return ni.call(Qe);if(Qe&&typeof Qe.length=="number")return{next:function(){return Qe&&ri>=Qe.length&&(Qe=void 0),{value:Qe&&Qe[ri++],done:!Qe}}};throw new TypeError(ti?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var We=Ve(1),qe=Ve(71),Ke=Ve(0),Ze=Ve(12),Je=function(Qe){function ti(ni){ni===void 0&&(ni="");var ri=Qe.call(this,ni)||this;return ri._name="",ri._assignedSlot=null,ri}return ze(ti,Qe),Object.defineProperty(ti.prototype,"wholeText",{get:function(){var ni,ri,ii="";try{for(var ei=Xe(Ke.text_contiguousTextNodes(this,!0)),St=ei.next();!St.done;St=ei.next())ii+=St.value._data}catch(oi){ni={error:oi}}finally{try{St&&!St.done&&(ri=ei.return)&&ri.call(ei)}finally{if(ni)throw ni.error}}return ii},enumerable:!0,configurable:!0}),ti.prototype.splitText=function(ni){return Ke.text_split(this,ni)},Object.defineProperty(ti.prototype,"assignedSlot",{get:function(){throw new Error("Mixin: Slotable not implemented.")},enumerable:!0,configurable:!0}),ti._create=function(ni,ri){ri===void 0&&(ri="");var ii=new ti(ri);return ii._nodeDocument=ni,ii},ti}(qe.CharacterDataImpl);r.TextImpl=Je,Ze.idl_defineConst(Je.prototype,"_nodeType",We.NodeType.Text)},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=function(){function ze(){}return Object.defineProperty(ze.prototype,"_startNode",{get:function(){return this._start[0]},enumerable:!0,configurable:!0}),Object.defineProperty(ze.prototype,"_startOffset",{get:function(){return this._start[1]},enumerable:!0,configurable:!0}),Object.defineProperty(ze.prototype,"_endNode",{get:function(){return this._end[0]},enumerable:!0,configurable:!0}),Object.defineProperty(ze.prototype,"_endOffset",{get:function(){return this._end[1]},enumerable:!0,configurable:!0}),Object.defineProperty(ze.prototype,"_collapsed",{get:function(){return this._start[0]===this._end[0]&&this._start[1]===this._end[1]},enumerable:!0,configurable:!0}),Object.defineProperty(ze.prototype,"startContainer",{get:function(){return this._startNode},enumerable:!0,configurable:!0}),Object.defineProperty(ze.prototype,"startOffset",{get:function(){return this._startOffset},enumerable:!0,configurable:!0}),Object.defineProperty(ze.prototype,"endContainer",{get:function(){return this._endNode},enumerable:!0,configurable:!0}),Object.defineProperty(ze.prototype,"endOffset",{get:function(){return this._endOffset},enumerable:!0,configurable:!0}),Object.defineProperty(ze.prototype,"collapsed",{get:function(){return this._collapsed},enumerable:!0,configurable:!0}),ze}();r.AbstractRangeImpl=je},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(1),ze=function(){function Xe(We){this._activeFlag=!1,this._root=We,this._whatToShow=je.WhatToShow.All,this._filter=null}return Object.defineProperty(Xe.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),Object.defineProperty(Xe.prototype,"whatToShow",{get:function(){return this._whatToShow},enumerable:!0,configurable:!0}),Object.defineProperty(Xe.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),Xe}();r.TraverserImpl=ze},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(1),ze=Ve(0),Xe=Ve(12),We=function(){function qe(Ke,Ze){this._target=null,this._relatedTarget=null,this._touchTargetList=[],this._path=[],this._currentTarget=null,this._eventPhase=je.EventPhase.None,this._stopPropagationFlag=!1,this._stopImmediatePropagationFlag=!1,this._canceledFlag=!1,this._inPassiveListenerFlag=!1,this._composedFlag=!1,this._initializedFlag=!1,this._dispatchFlag=!1,this._isTrusted=!1,this._bubbles=!1,this._cancelable=!1,this._type=Ke,Ze&&(this._bubbles=Ze.bubbles||!1,this._cancelable=Ze.cancelable||!1,this._composedFlag=Ze.composed||!1),this._initializedFlag=!0,this._timeStamp=new Date().getTime()}return Object.defineProperty(qe.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(qe.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(qe.prototype,"srcElement",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(qe.prototype,"currentTarget",{get:function(){return this._currentTarget},enumerable:!0,configurable:!0}),qe.prototype.composedPath=function(){var Ke=[],Ze=this._path;if(Ze.length===0)return Ke;var Je=this._currentTarget;if(Je===null)throw new Error("Event currentTarget is null.");Ke.push(Je);for(var Qe=0,ti=0,ni=Ze.length-1;ni>=0;){if(Ze[ni].rootOfClosedTree&&ti++,Ze[ni].invocationTarget===Je){Qe=ni;break}Ze[ni].slotInClosedTree&&ti--,ni--}var ri=ti,ii=ti;for(ni=Qe-1;ni>=0;)Ze[ni].rootOfClosedTree&&ri++,ri<=ii&&Ke.unshift(Ze[ni].invocationTarget),Ze[ni].slotInClosedTree&&--ri<ii&&(ii=ri),ni--;for(ri=ti,ii=ti,ni=Qe+1;ni<Ze.length;)Ze[ni].slotInClosedTree&&ri++,ri<=ii&&Ke.push(Ze[ni].invocationTarget),Ze[ni].rootOfClosedTree&&--ri<ii&&(ii=ri),ni++;return Ke},Object.defineProperty(qe.prototype,"eventPhase",{get:function(){return this._eventPhase},enumerable:!0,configurable:!0}),qe.prototype.stopPropagation=function(){this._stopPropagationFlag=!0},Object.defineProperty(qe.prototype,"cancelBubble",{get:function(){return this._stopPropagationFlag},set:function(Ke){Ke&&this.stopPropagation()},enumerable:!0,configurable:!0}),qe.prototype.stopImmediatePropagation=function(){this._stopPropagationFlag=!0,this._stopImmediatePropagationFlag=!0},Object.defineProperty(qe.prototype,"bubbles",{get:function(){return this._bubbles},enumerable:!0,configurable:!0}),Object.defineProperty(qe.prototype,"cancelable",{get:function(){return this._cancelable},enumerable:!0,configurable:!0}),Object.defineProperty(qe.prototype,"returnValue",{get:function(){return!this._canceledFlag},set:function(Ke){Ke||ze.event_setTheCanceledFlag(this)},enumerable:!0,configurable:!0}),qe.prototype.preventDefault=function(){ze.event_setTheCanceledFlag(this)},Object.defineProperty(qe.prototype,"defaultPrevented",{get:function(){return this._canceledFlag},enumerable:!0,configurable:!0}),Object.defineProperty(qe.prototype,"composed",{get:function(){return this._composedFlag},enumerable:!0,configurable:!0}),Object.defineProperty(qe.prototype,"isTrusted",{get:function(){return this._isTrusted},enumerable:!0,configurable:!0}),Object.defineProperty(qe.prototype,"timeStamp",{get:function(){return this._timeStamp},enumerable:!0,configurable:!0}),qe.prototype.initEvent=function(Ke,Ze,Je){Ze===void 0&&(Ze=!1),Je===void 0&&(Je=!1),this._dispatchFlag||ze.event_initialize(this,Ke,Ze,Je)},qe.NONE=0,qe.CAPTURING_PHASE=1,qe.AT_TARGET=2,qe.BUBBLING_PHASE=3,qe}();r.EventImpl=We,Xe.idl_defineConst(We.prototype,"NONE",0),Xe.idl_defineConst(We.prototype,"CAPTURING_PHASE",1),Xe.idl_defineConst(We.prototype,"AT_TARGET",2),Xe.idl_defineConst(We.prototype,"BUBBLING_PHASE",3)},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(1),ze=Ve(9);r.traversal_filter=function(Xe,We){if(Xe._activeFlag)throw new ze.InvalidStateError;var qe=1<<We._nodeType-1;if(!(Xe.whatToShow&qe))return je.FilterResult.Skip;if(!Xe.filter)return je.FilterResult.Accept;Xe._activeFlag=!0;var Ke=je.FilterResult.Reject;try{Ke=Xe.filter.acceptNode(We)}catch(Ze){throw Xe._activeFlag=!1,Ze}return Xe._activeFlag=!1,Ke}},function(t,r,Ve){var je=this&&this.__read||function(ii,ei){var St=typeof Symbol=="function"&&ii[Symbol.iterator];if(!St)return ii;var oi,si,ai=St.call(ii),ui=[];try{for(;(ei===void 0||ei-- >0)&&!(oi=ai.next()).done;)ui.push(oi.value)}catch(hi){si={error:hi}}finally{try{oi&&!oi.done&&(St=ai.return)&&St.call(ai)}finally{if(si)throw si.error}}return ui},ze=this&&this.__values||function(ii){var ei=typeof Symbol=="function"&&Symbol.iterator,St=ei&&ii[ei],oi=0;if(St)return St.call(ii);if(ii&&typeof ii.length=="number")return{next:function(){return ii&&oi>=ii.length&&(ii=void 0),{value:ii&&ii[oi++],done:!ii}}};throw new TypeError(ei?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(6),We=Ve(3),qe=Ve(2),Ke=Ve(99),Ze=Ve(73),Je=Ve(17),Qe=Ve(173),ti=Ve(30),ni=Ve(52),ri=Ve(37);r.document_elementInterface=function(ii,ei){return Ke.ElementImpl},r.document_internalCreateElementNS=function(ii,ei,St,oi){var si=je(Qe.namespace_validateAndExtract(ei,St),3),ai=si[0],ui=si[1],hi=si[2],ci=null;return oi!==void 0&&(ci=qe.isString(oi)?oi:oi.is),ni.element_createAnElement(ii,hi,ai,ui,ci,!0)},r.document_adopt=function(ii,ei){var St,oi;if(ii._nodeDocument!==ei||ii._parent!==null){var si=ii._nodeDocument;if(ii._parent&&ri.mutation_remove(ii,ii._parent),ei!==si)for(var ai=Je.tree_getFirstDescendantNode(ii,!0,!0);ai!==null;){if(ai._nodeDocument=ei,We.Guard.isElementNode(ai))try{for(var ui=(St=void 0,ze(ai._attributeList._asArray())),hi=ui.next();!hi.done;hi=ui.next())hi.value._nodeDocument=ei}catch(ci){St={error:ci}}finally{try{hi&&!hi.done&&(oi=ui.return)&&oi.call(ui)}finally{if(St)throw St.error}}Xe.dom.features.customElements&&We.Guard.isElementNode(ai)&&ai._customElementState==="custom"&&Ze.customElement_enqueueACustomElementCallbackReaction(ai,"adoptedCallback",[si,ei]),Xe.dom.features.steps&&ti.dom_runAdoptingSteps(ai,si),ai=Je.tree_getNextDescendantNode(ii,ai,!0,!0)}}}},function(t,r,Ve){var je=this&&this.__values||function(Je){var Qe=typeof Symbol=="function"&&Symbol.iterator,ti=Qe&&Je[Qe],ni=0;if(ti)return ti.call(Je);if(Je&&typeof Je.length=="number")return{next:function(){return Je&&ni>=Je.length&&(Je=void 0),{value:Je&&Je[ni++],done:!Je}}};throw new TypeError(Qe?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var ze=Ve(6),Xe=Ve(3),We=Ve(9),qe=Ve(17),Ke=Ve(51),Ze=Ve(30);r.characterData_replaceData=function(Je,Qe,ti,ni){var ri,ii,ei=qe.tree_nodeLength(Je);if(Qe>ei)throw new We.IndexSizeError("Offset exceeds character data length. Offset: "+Qe+", Length: "+ei+", Node is "+Je.nodeName+".");Qe+ti>ei&&(ti=ei-Qe),ze.dom.features.mutationObservers&&Ke.observer_queueMutationRecord("characterData",Je,null,null,Je._data,[],[],null,null);var St=Je._data.substring(0,Qe)+ni+Je._data.substring(Qe+ti);Je._data=St;try{for(var oi=je(ze.dom.rangeList),si=oi.next();!si.done;si=oi.next()){var ai=si.value;ai._start[0]===Je&&ai._start[1]>Qe&&ai._start[1]<=Qe+ti&&(ai._start[1]=Qe),ai._end[0]===Je&&ai._end[1]>Qe&&ai._end[1]<=Qe+ti&&(ai._end[1]=Qe),ai._start[0]===Je&&ai._start[1]>Qe+ti&&(ai._start[1]+=ni.length-ti),ai._end[0]===Je&&ai._end[1]>Qe+ti&&(ai._end[1]+=ni.length-ti)}}catch(ui){ri={error:ui}}finally{try{si&&!si.done&&(ii=oi.return)&&ii.call(oi)}finally{if(ri)throw ri.error}}ze.dom.features.steps&&Xe.Guard.isTextNode(Je)&&Je._parent!==null&&Ze.dom_runChildTextContentChangeSteps(Je._parent)},r.characterData_substringData=function(Je,Qe,ti){var ni=qe.tree_nodeLength(Je);if(Qe>ni)throw new We.IndexSizeError("Offset exceeds character data length. Offset: "+Qe+", Length: "+ni+", Node is "+Je.nodeName+".");return Qe+ti>ni?Je._data.substr(Qe):Je._data.substr(Qe,ti)}},function(t,r,Ve){var je=this&&this.__read||function(Ze,Je){var Qe=typeof Symbol=="function"&&Ze[Symbol.iterator];if(!Qe)return Ze;var ti,ni,ri=Qe.call(Ze),ii=[];try{for(;(Je===void 0||Je-- >0)&&!(ti=ri.next()).done;)ii.push(ti.value)}catch(ei){ni={error:ei}}finally{try{ti&&!ti.done&&(Qe=ri.return)&&Qe.call(ri)}finally{if(ni)throw ni.error}}return ii},ze=this&&this.__spread||function(){for(var Ze=[],Je=0;Je<arguments.length;Je++)Ze=Ze.concat(je(arguments[Je]));return Ze},Xe=this&&this.__values||function(Ze){var Je=typeof Symbol=="function"&&Symbol.iterator,Qe=Je&&Ze[Je],ti=0;if(Qe)return Qe.call(Ze);if(Ze&&typeof Ze.length=="number")return{next:function(){return Ze&&ti>=Ze.length&&(Ze=void 0),{value:Ze&&Ze[ti++],done:!Ze}}};throw new TypeError(Je?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var We=Ve(7);function qe(Ze){var Je=We.string.splitAStringOnASCIIWhitespace(Ze);return new Set(Je)}function Ke(Ze){return ze(Ze).join(" ")}r.orderedSet_parse=qe,r.orderedSet_serialize=Ke,r.orderedSet_sanitize=function(Ze){return Ke(qe(Ze))},r.orderedSet_contains=function(Ze,Je,Qe){var ti,ni,ri,ii;try{for(var ei=Xe(Je),St=ei.next();!St.done;St=ei.next()){var oi=St.value,si=!1;try{for(var ai=(ri=void 0,Xe(Ze)),ui=ai.next();!ui.done;ui=ai.next()){var hi=ui.value;if(Qe){if(hi===oi){si=!0;break}}else if(hi.toUpperCase()===oi.toUpperCase()){si=!0;break}}}catch(ci){ri={error:ci}}finally{try{ui&&!ui.done&&(ii=ai.return)&&ii.call(ai)}finally{if(ri)throw ri.error}}if(!si)return!1}}catch(ci){ti={error:ci}}finally{try{St&&!St.done&&(ni=ei.return)&&ni.call(ei)}finally{if(ti)throw ti.error}}return!0}},function(t,r,Ve){Ve(179),Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(263),ze=Ve(110),Xe=Ve(2);ze.dom.setFeatures(!1),r.createDocument=function(){var We=new je.DOMImplementation().createDocument(null,"root",null);return We.documentElement&&We.removeChild(We.documentElement),We},r.sanitizeInput=function(We,qe){if(We==null)return We;if(qe===void 0)return We+"";var Ke="";We+="";for(var Ze=0;Ze<We.length;Ze++){var Je=We.charCodeAt(Ze);if(Je===9||Je===10||Je===13||Je>=32&&Je<=55295||Je>=57344&&Je<=65533)Ke+=We.charAt(Ze);else if(Je>=55296&&Je<=56319&&Ze<We.length-1){var Qe=We.charCodeAt(Ze+1);Qe>=56320&&Qe<=57343?(Je=1024*(Je-55296)+Qe-56320+65536,Ke+=String.fromCodePoint(Je),Ze++):Ke+=Xe.isString(qe)?qe:qe(We.charAt(Ze),Ze,We)}else Ke+=Xe.isString(qe)?qe:qe(We.charAt(Ze),Ze,We)}return Ke}},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(2),ze=Ve(153);r.AbortController=ze.AbortControllerImpl;var Xe=Ve(154);r.AbortSignal=Xe.AbortSignalImpl;var We=Ve(102);r.AbstractRange=We.AbstractRangeImpl;var qe=Ve(157);r.Attr=qe.AttrImpl;var Ke=Ve(158);r.CDATASection=Ke.CDATASectionImpl;var Ze=Ve(71);r.CharacterData=Ze.CharacterDataImpl;var Je=Ve(264),Qe=Ve(159);r.Comment=Qe.CommentImpl;var ti=Ve(171);r.CustomEvent=ti.CustomEventImpl;var ni=Ve(100);r.DocumentFragment=ni.DocumentFragmentImpl;var ri=Ve(98);r.Document=ri.DocumentImpl;var ii=Ve(265),ei=Ve(155);r.DocumentType=ei.DocumentTypeImpl;var St=Ve(6);r.dom=St.dom;var oi=Ve(148);r.DOMImplementation=oi.DOMImplementationImpl;var si=Ve(170);r.DOMTokenList=si.DOMTokenListImpl;var ai=Ve(99);r.Element=ai.ElementImpl;var ui=Ve(104);r.Event=ui.EventImpl;var hi=Ve(70);r.EventTarget=hi.EventTargetImpl;var ci=Ve(161);r.HTMLCollection=ci.HTMLCollectionImpl;var mi=Ve(266);r.MutationObserver=mi.MutationObserverImpl;var di=Ve(169);r.MutationRecord=di.MutationRecordImpl;var pi=Ve(164);r.NamedNodeMap=pi.NamedNodeMapImpl;var yi=Ve(168);r.NodeFilter=yi.NodeFilterImpl;var gi=Ve(34);r.Node=gi.NodeImpl;var _i=Ve(166);r.NodeIterator=_i.NodeIteratorImpl;var Ai=Ve(162);r.NodeList=Ai.NodeListImpl;var ki=Ve(163);r.NodeListStatic=ki.NodeListStaticImpl;var vi=Ve(267),Mi=Ve(268),Di=Ve(269),Bi=Ve(160);r.ProcessingInstruction=Bi.ProcessingInstructionImpl;var Pi=Ve(165);r.Range=Pi.RangeImpl;var Fi=Ve(156);r.ShadowRoot=Fi.ShadowRootImpl;var Vi=Ve(270),Ti=Ve(271);r.StaticRange=Ti.StaticRangeImpl;var ji=Ve(101);r.Text=ji.TextImpl;var Gi=Ve(103);r.Traverser=Gi.TraverserImpl;var Yi=Ve(167);r.TreeWalker=Yi.TreeWalkerImpl;var Xi=Ve(149);r.Window=Xi.WindowImpl;var xi=Ve(151);r.XMLDocument=xi.XMLDocumentImpl,je.applyMixin(ai.ElementImpl,Je.ChildNodeImpl),je.applyMixin(Ze.CharacterDataImpl,Je.ChildNodeImpl),je.applyMixin(ei.DocumentTypeImpl,Je.ChildNodeImpl),je.applyMixin(ri.DocumentImpl,ii.DocumentOrShadowRootImpl),je.applyMixin(Fi.ShadowRootImpl,ii.DocumentOrShadowRootImpl),je.applyMixin(ai.ElementImpl,vi.NonDocumentTypeChildNodeImpl),je.applyMixin(Ze.CharacterDataImpl,vi.NonDocumentTypeChildNodeImpl),je.applyMixin(ri.DocumentImpl,Mi.NonElementParentNodeImpl),je.applyMixin(ni.DocumentFragmentImpl,Mi.NonElementParentNodeImpl),je.applyMixin(ri.DocumentImpl,Di.ParentNodeImpl),je.applyMixin(ni.DocumentFragmentImpl,Di.ParentNodeImpl),je.applyMixin(ai.ElementImpl,Di.ParentNodeImpl),je.applyMixin(ji.TextImpl,Vi.SlotableImpl),je.applyMixin(ai.ElementImpl,Vi.SlotableImpl)},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0}),function(je){je[je.EOF=0]="EOF",je[je.Declaration=1]="Declaration",je[je.DocType=2]="DocType",je[je.Element=3]="Element",je[je.Text=4]="Text",je[je.CDATA=5]="CDATA",je[je.PI=6]="PI",je[je.Comment=7]="Comment",je[je.ClosingTag=8]="ClosingTag"}(r.TokenType||(r.TokenType={}))},function(t,r,Ve){Ve(64),Ve(20),Ve(66);var je,ze=this&&this.__extends||(je=function(qe,Ke){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ze,Je){Ze.__proto__=Je}||function(Ze,Je){for(var Qe in Je)Je.hasOwnProperty(Qe)&&(Ze[Qe]=Je[Qe])})(qe,Ke)},function(qe,Ke){function Ze(){this.constructor=qe}je(qe,Ke),qe.prototype=Ke===null?Object.create(Ke):(Ze.prototype=Ke.prototype,new Ze)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(2),We=function(qe){function Ke(){return qe!==null&&qe.apply(this,arguments)||this}return ze(Ke,qe),Ke.prototype._parse=function(Ze,Je){var Qe=this,ti=this._builderOptions,ni=null;return Xe.isFunction(Je)?ni=this.parse(Ze,Je.apply(this)):Xe.isArray(Je)||Xe.isSet(Je)?Xe.forEachArray(Je,function(ri){return ni=Qe.parse(Ze,ri)},this):Xe.isMap(Je)||Xe.isObject(Je)?Xe.forEachObject(Je,function(ri,ii){if(Xe.isFunction(ii)&&(ii=ii.apply(Qe)),ti.ignoreConverters||ri.indexOf(ti.convert.att)!==0)if(ti.ignoreConverters||ri.indexOf(ti.convert.text)!==0)if(ti.ignoreConverters||ri.indexOf(ti.convert.cdata)!==0)if(ti.ignoreConverters||ri.indexOf(ti.convert.comment)!==0)if(ti.ignoreConverters||ri.indexOf(ti.convert.ins)!==0){if(!((Xe.isArray(ii)||Xe.isSet(ii))&&Xe.isEmpty(ii))){if((Xe.isMap(ii)||Xe.isObject(ii))&&Xe.isEmpty(ii))ni=Qe.element(Ze,void 0,Qe.sanitize(ri))||ni;else if(ti.keepNullNodes||ii!=null)if(Xe.isArray(ii)||Xe.isSet(ii))Xe.forEachArray(ii,function(ai){var ui={};ui[ri]=ai,ni=Qe.parse(Ze,ui)},Qe);else if(Xe.isMap(ii)||Xe.isObject(ii))(ei=Qe.element(Ze,void 0,Qe.sanitize(ri)))&&(ni=ei,Qe.parse(ei,ii));else if(ii!=null&&ii!==""){var ei;(ei=Qe.element(Ze,void 0,Qe.sanitize(ri)))&&(ni=ei,Qe.text(ei,Qe._decodeText(Qe.sanitize(ii))))}else ni=Qe.element(Ze,void 0,Qe.sanitize(ri))||ni}}else if(Xe.isString(ii)){var St=ii.indexOf(" "),oi=St===-1?ii:ii.substr(0,St),si=St===-1?"":ii.substr(St+1);ni=Qe.instruction(Ze,Qe.sanitize(oi),Qe.sanitize(si))||ni}else Xe.isArray(ii)||Xe.isSet(ii)?Xe.forEachArray(ii,function(ai){var ui=ai.indexOf(" "),hi=ui===-1?ai:ai.substr(0,ui),ci=ui===-1?"":ai.substr(ui+1);ni=Qe.instruction(Ze,Qe.sanitize(hi),Qe.sanitize(ci))||ni},Qe):Xe.forEachObject(ii,function(ai,ui){return ni=Qe.instruction(Ze,Qe.sanitize(ai),Qe.sanitize(ui))||ni},Qe);else Xe.isArray(ii)||Xe.isSet(ii)?Xe.forEachArray(ii,function(ai){return ni=Qe.comment(Ze,Qe.sanitize(ai))||ni},Qe):ni=Qe.comment(Ze,Qe.sanitize(ii))||ni;else Xe.isArray(ii)||Xe.isSet(ii)?Xe.forEachArray(ii,function(ai){return ni=Qe.cdata(Ze,Qe.sanitize(ai))||ni},Qe):ni=Qe.cdata(Ze,Qe.sanitize(ii))||ni;else ni=Xe.isMap(ii)||Xe.isObject(ii)?Qe.parse(Ze,ii):Qe.text(Ze,Qe._decodeText(Qe.sanitize(ii)))||ni;else if(ri===ti.convert.att){if(Xe.isArray(ii)||Xe.isSet(ii))throw new Error("Invalid attribute: "+ii.toString()+". "+Ze._debugInfo());Xe.forEachObject(ii,function(ai,ui){ni=Qe.attribute(Ze,void 0,Qe.sanitize(ai),Qe._decodeAttributeValue(Qe.sanitize(ui)))||ni})}else ni=Qe.attribute(Ze,void 0,Qe.sanitize(ri.substr(ti.convert.att.length)),Qe._decodeAttributeValue(Qe.sanitize(ii)))||ni},this):(ti.keepNullNodes||Je!=null)&&(ni=this.text(Ze,this._decodeText(this.sanitize(Je)))||ni),ni||Ze},Ke}(Ve(75).BaseReader);r.ObjectReader=We},function(t,r,Ve){var je=Ve(39);t.exports=new je({explicit:[Ve(287),Ve(288),Ve(289)]})},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=function(ze){this.level=0,this._builderOptions=ze,this._writerOptions=ze};r.BaseCBWriter=je},function(t,r,Ve){var je=Ve(16),ze=Ve(8),Xe=Ve(116);t.exports=!je&&!ze(function(){return Object.defineProperty(Xe("div"),"a",{get:function(){return 7}}).a!=7})},function(t,r,Ve){var je=Ve(11),ze=Ve(13),Xe=je.document,We=ze(Xe)&&ze(Xe.createElement);t.exports=function(qe){return We?Xe.createElement(qe):{}}},function(t,r,Ve){var je=Ve(118),ze=Function.toString;typeof je.inspectSource!="function"&&(je.inspectSource=function(Xe){return ze.call(Xe)}),t.exports=je.inspectSource},function(t,r,Ve){var je=Ve(11),ze=Ve(80),Xe=je["__core-js_shared__"]||ze("__core-js_shared__",{});t.exports=Xe},function(t,r,Ve){var je=Ve(14),ze=Ve(187),Xe=Ve(55),We=Ve(15);t.exports=function(qe,Ke){for(var Ze=ze(Ke),Je=We.f,Qe=Xe.f,ti=0;ti<Ze.length;ti++){var ni=Ze[ti];je(qe,ni)||Je(qe,ni,Qe(Ke,ni))}}},function(t,r,Ve){var je=Ve(11);t.exports=je},function(t,r,Ve){var je=Ve(14),ze=Ve(24),Xe=Ve(122).indexOf,We=Ve(45);t.exports=function(qe,Ke){var Ze,Je=ze(qe),Qe=0,ti=[];for(Ze in Je)!je(We,Ze)&&je(Je,Ze)&&ti.push(Ze);for(;Ke.length>Qe;)je(Je,Ze=Ke[Qe++])&&(~Xe(ti,Ze)||ti.push(Ze));return ti}},function(t,r,Ve){var je=Ve(24),ze=Ve(26),Xe=Ve(83),We=function(qe){return function(Ke,Ze,Je){var Qe,ti=je(Ke),ni=ze(ti.length),ri=Xe(Je,ni);if(qe&&Ze!=Ze){for(;ni>ri;)if((Qe=ti[ri++])!=Qe)return!0}else for(;ni>ri;ri++)if((qe||ri in ti)&&ti[ri]===Ze)return qe||ri||0;return!qe&&-1}};t.exports={includes:We(!0),indexOf:We(!1)}},function(t,r,Ve){var je=Ve(8),ze=/#|\.prototype\./,Xe=function(Je,Qe){var ti=qe[We(Je)];return ti==Ze||ti!=Ke&&(typeof Qe=="function"?je(Qe):!!Qe)},We=Xe.normalize=function(Je){return String(Je).replace(ze,".").toLowerCase()},qe=Xe.data={},Ke=Xe.NATIVE="N",Ze=Xe.POLYFILL="P";t.exports=Xe},function(t,r,Ve){var je=Ve(86);t.exports=je&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(t,r,Ve){var je=Ve(5);r.f=je},function(t,r,Ve){var je=Ve(120),ze=Ve(14),Xe=Ve(125),We=Ve(15).f;t.exports=function(qe){var Ke=je.Symbol||(je.Symbol={});ze(Ke,qe)||We(Ke,qe,{value:Xe.f(qe)})}},function(t,r){t.exports=function(Ve){if(typeof Ve!="function")throw TypeError(String(Ve)+" is not a function");return Ve}},function(t,r,Ve){var je=Ve(13),ze=Ve(59),Xe=Ve(5)("species");t.exports=function(We,qe){var Ke;return ze(We)&&(typeof(Ke=We.constructor)!="function"||Ke!==Array&&!ze(Ke.prototype)?je(Ke)&&(Ke=Ke[Xe])===null&&(Ke=void 0):Ke=void 0),new(Ke===void 0?Array:Ke)(qe===0?0:qe)}},function(t,r,Ve){var je,ze,Xe=Ve(11),We=Ve(193),qe=Xe.process,Ke=qe&&qe.versions,Ze=Ke&&Ke.v8;Ze?ze=(je=Ze.split("."))[0]+je[1]:We&&(!(je=We.match(/Edge\/(\d+)/))||je[1]>=74)&&(je=We.match(/Chrome\/(\d+)/))&&(ze=je[1]),t.exports=ze&&+ze},function(t,r,Ve){var je=Ve(5),ze=Ve(60),Xe=Ve(15),We=je("unscopables"),qe=Array.prototype;qe[We]==null&&Xe.f(qe,We,{configurable:!0,value:ze(null)}),t.exports=function(Ke){qe[We][Ke]=!0}},function(t,r,Ve){var je,ze,Xe,We=Ve(132),qe=Ve(21),Ke=Ve(14),Ze=Ve(5),Je=Ve(44),Qe=Ze("iterator"),ti=!1;[].keys&&("next"in(Xe=[].keys())?(ze=We(We(Xe)))!==Object.prototype&&(je=ze):ti=!0),je==null&&(je={}),Je||Ke(je,Qe)||qe(je,Qe,function(){return this}),t.exports={IteratorPrototype:je,BUGGY_SAFARI_ITERATORS:ti}},function(t,r,Ve){var je=Ve(14),ze=Ve(27),Xe=Ve(57),We=Ve(196),qe=Xe("IE_PROTO"),Ke=Object.prototype;t.exports=We?Object.getPrototypeOf:function(Ze){return Ze=ze(Ze),je(Ze,qe)?Ze[qe]:typeof Ze.constructor=="function"&&Ze instanceof Ze.constructor?Ze.constructor.prototype:Ze instanceof Object?Ke:null}},function(t,r,Ve){var je=Ve(18),ze=Ve(197);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var Xe,We=!1,qe={};try{(Xe=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(qe,[]),We=qe instanceof Array}catch{}return function(Ke,Ze){return je(Ke),ze(Ze),We?Xe.call(Ke,Ze):Ke.__proto__=Ze,Ke}}():void 0)},function(t,r,Ve){var je=Ve(56),ze=Ve(15),Xe=Ve(40);t.exports=function(We,qe,Ke){var Ze=je(qe);Ze in We?ze.f(We,Ze,Xe(0,Ke)):We[Ze]=Ke}},function(t,r,Ve){var je=Ve(90),ze=Ve(42),Xe=Ve(5)("toStringTag"),We=ze(function(){return arguments}())=="Arguments";t.exports=je?ze:function(qe){var Ke,Ze,Je;return qe===void 0?"Undefined":qe===null?"Null":typeof(Ze=function(Qe,ti){try{return Qe[ti]}catch{}}(Ke=Object(qe),Xe))=="string"?Ze:We?ze(Ke):(Je=ze(Ke))=="Object"&&typeof Ke.callee=="function"?"Arguments":Je}},function(t,r,Ve){var je=Ve(18);t.exports=function(){var ze=je(this),Xe="";return ze.global&&(Xe+="g"),ze.ignoreCase&&(Xe+="i"),ze.multiline&&(Xe+="m"),ze.dotAll&&(Xe+="s"),ze.unicode&&(Xe+="u"),ze.sticky&&(Xe+="y"),Xe}},function(t,r,Ve){var je=Ve(47),ze=Ve(35),Xe=function(We){return function(qe,Ke){var Ze,Je,Qe=String(ze(qe)),ti=je(Ke),ni=Qe.length;return ti<0||ti>=ni?We?"":void 0:(Ze=Qe.charCodeAt(ti))<55296||Ze>56319||ti+1===ni||(Je=Qe.charCodeAt(ti+1))<56320||Je>57343?We?Qe.charAt(ti):Ze:We?Qe.slice(ti,ti+2):Je-56320+(Ze-55296<<10)+65536}};t.exports={codeAt:Xe(!1),charAt:Xe(!0)}},function(t,r,Ve){var je=Ve(4),ze=Ve(27),Xe=Ve(61);je({target:"Object",stat:!0,forced:Ve(8)(function(){Xe(1)})},{keys:function(We){return Xe(ze(We))}})},function(t,r,Ve){var je=Ve(4),ze=Ve(11),Xe=Ve(123),We=Ve(25),qe=Ve(140),Ke=Ve(141),Ze=Ve(142),Je=Ve(13),Qe=Ve(8),ti=Ve(208),ni=Ve(62),ri=Ve(209);t.exports=function(ii,ei,St){var oi=ii.indexOf("Map")!==-1,si=ii.indexOf("Weak")!==-1,ai=oi?"set":"add",ui=ze[ii],hi=ui&&ui.prototype,ci=ui,mi={},di=function(ki){var vi=hi[ki];We(hi,ki,ki=="add"?function(Mi){return vi.call(this,Mi===0?0:Mi),this}:ki=="delete"?function(Mi){return!(si&&!Je(Mi))&&vi.call(this,Mi===0?0:Mi)}:ki=="get"?function(Mi){return si&&!Je(Mi)?void 0:vi.call(this,Mi===0?0:Mi)}:ki=="has"?function(Mi){return!(si&&!Je(Mi))&&vi.call(this,Mi===0?0:Mi)}:function(Mi,Di){return vi.call(this,Mi===0?0:Mi,Di),this})};if(Xe(ii,typeof ui!="function"||!(si||hi.forEach&&!Qe(function(){new ui().entries().next()}))))ci=St.getConstructor(ei,ii,oi,ai),qe.REQUIRED=!0;else if(Xe(ii,!0)){var pi=new ci,yi=pi[ai](si?{}:-0,1)!=pi,gi=Qe(function(){pi.has(1)}),_i=ti(function(ki){new ui(ki)}),Ai=!si&&Qe(function(){for(var ki=new ui,vi=5;vi--;)ki[ai](vi,vi);return!ki.has(-0)});_i||((ci=ei(function(ki,vi){Ze(ki,ci,ii);var Mi=ri(new ui,ki,ci);return vi!=null&&Ke(vi,Mi[ai],Mi,oi),Mi})).prototype=hi,hi.constructor=ci),(gi||Ai)&&(di("delete"),di("has"),oi&&di("get")),(Ai||yi)&&di(ai),si&&hi.clear&&delete hi.clear}return mi[ii]=ci,je({global:!0,forced:ci!=ui},mi),ni(ci,ii),si||St.setStrong(ci,ii,oi),ci}},function(t,r,Ve){var je=Ve(45),ze=Ve(13),Xe=Ve(14),We=Ve(15).f,qe=Ve(58),Ke=Ve(204),Ze=qe("meta"),Je=0,Qe=Object.isExtensible||function(){return!0},ti=function(ri){We(ri,Ze,{value:{objectID:"O"+ ++Je,weakData:{}}})},ni=t.exports={REQUIRED:!1,fastKey:function(ri,ii){if(!ze(ri))return typeof ri=="symbol"?ri:(typeof ri=="string"?"S":"P")+ri;if(!Xe(ri,Ze)){if(!Qe(ri))return"F";if(!ii)return"E";ti(ri)}return ri[Ze].objectID},getWeakData:function(ri,ii){if(!Xe(ri,Ze)){if(!Qe(ri))return!0;if(!ii)return!1;ti(ri)}return ri[Ze].weakData},onFreeze:function(ri){return Ke&&ni.REQUIRED&&Qe(ri)&&!Xe(ri,Ze)&&ti(ri),ri}};je[Ze]=!0},function(t,r,Ve){var je=Ve(18),ze=Ve(205),Xe=Ve(26),We=Ve(87),qe=Ve(206),Ke=Ve(207),Ze=function(Je,Qe){this.stopped=Je,this.result=Qe};(t.exports=function(Je,Qe,ti,ni,ri){var ii,ei,St,oi,si,ai,ui,hi=We(Qe,ti,ni?2:1);if(ri)ii=Je;else{if(typeof(ei=qe(Je))!="function")throw TypeError("Target is not iterable");if(ze(ei)){for(St=0,oi=Xe(Je.length);oi>St;St++)if((si=ni?hi(je(ui=Je[St])[0],ui[1]):hi(Je[St]))&&si instanceof Ze)return si;return new Ze(!1)}ii=ei.call(Je)}for(ai=ii.next;!(ui=ai.call(ii)).done;)if(typeof(si=Ke(ii,hi,ui.value,ni))=="object"&&si&&si instanceof Ze)return si;return new Ze(!1)}).stop=function(Je){return new Ze(!0,Je)}},function(t,r){t.exports=function(Ve,je,ze){if(!(Ve instanceof je))throw TypeError("Incorrect "+(ze?ze+" ":"")+"invocation");return Ve}},function(t,r,Ve){var je=Ve(15).f,ze=Ve(60),Xe=Ve(210),We=Ve(87),qe=Ve(142),Ke=Ve(141),Ze=Ve(88),Je=Ve(211),Qe=Ve(16),ti=Ve(140).fastKey,ni=Ve(43),ri=ni.set,ii=ni.getterFor;t.exports={getConstructor:function(ei,St,oi,si){var ai=ei(function(mi,di){qe(mi,ai,St),ri(mi,{type:St,index:ze(null),first:void 0,last:void 0,size:0}),Qe||(mi.size=0),di!=null&&Ke(di,mi[si],mi,oi)}),ui=ii(St),hi=function(mi,di,pi){var yi,gi,_i=ui(mi),Ai=ci(mi,di);return Ai?Ai.value=pi:(_i.last=Ai={index:gi=ti(di,!0),key:di,value:pi,previous:yi=_i.last,next:void 0,removed:!1},_i.first||(_i.first=Ai),yi&&(yi.next=Ai),Qe?_i.size++:mi.size++,gi!=="F"&&(_i.index[gi]=Ai)),mi},ci=function(mi,di){var pi,yi=ui(mi),gi=ti(di);if(gi!=="F")return yi.index[gi];for(pi=yi.first;pi;pi=pi.next)if(pi.key==di)return pi};return Xe(ai.prototype,{clear:function(){for(var mi=ui(this),di=mi.index,pi=mi.first;pi;)pi.removed=!0,pi.previous&&(pi.previous=pi.previous.next=void 0),delete di[pi.index],pi=pi.next;mi.first=mi.last=void 0,Qe?mi.size=0:this.size=0},delete:function(mi){var di=ui(this),pi=ci(this,mi);if(pi){var yi=pi.next,gi=pi.previous;delete di.index[pi.index],pi.removed=!0,gi&&(gi.next=yi),yi&&(yi.previous=gi),di.first==pi&&(di.first=yi),di.last==pi&&(di.last=gi),Qe?di.size--:this.size--}return!!pi},forEach:function(mi){for(var di,pi=ui(this),yi=We(mi,arguments.length>1?arguments[1]:void 0,3);di=di?di.next:pi.first;)for(yi(di.value,di.key,this);di&&di.removed;)di=di.previous},has:function(mi){return!!ci(this,mi)}}),Xe(ai.prototype,oi?{get:function(mi){var di=ci(this,mi);return di&&di.value},set:function(mi,di){return hi(this,mi===0?0:mi,di)}}:{add:function(mi){return hi(this,mi=mi===0?0:mi,mi)}}),Qe&&je(ai.prototype,"size",{get:function(){return ui(this).size}}),ai},setStrong:function(ei,St,oi){var si=St+" Iterator",ai=ii(St),ui=ii(si);Ze(ei,St,function(hi,ci){ri(this,{type:si,target:hi,state:ai(hi),kind:ci,last:void 0})},function(){for(var hi=ui(this),ci=hi.kind,mi=hi.last;mi&&mi.removed;)mi=mi.previous;return hi.target&&(hi.last=mi=mi?mi.next:hi.state.first)?ci=="keys"?{value:mi.key,done:!1}:ci=="values"?{value:mi.value,done:!1}:{value:[mi.key,mi.value],done:!1}:(hi.target=void 0,{value:void 0,done:!0})},oi?"entries":"values",!oi,!0),Je(St)}}},function(t,r,Ve){var je,ze=Ve(4),Xe=Ve(55).f,We=Ve(26),qe=Ve(222),Ke=Ve(35),Ze=Ve(224),Je=Ve(44),Qe="".endsWith,ti=Math.min,ni=Ze("endsWith");ze({target:"String",proto:!0,forced:!!(Je||ni||(je=Xe(String.prototype,"endsWith"),!je||je.writable))&&!ni},{endsWith:function(ri){var ii=String(Ke(this));qe(ri);var ei=arguments.length>1?arguments[1]:void 0,St=We(ii.length),oi=ei===void 0?St:ti(We(ei),St),si=String(ri);return Qe?Qe.call(ii,si,oi):ii.slice(oi-si.length,oi)===si}})},function(t,r,Ve){(function(je){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var ze=Ve(229),Xe=Ve(230),We=Ve(231);function qe(){return Ze.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Ke(xi,fi){if(qe()<fi)throw new RangeError("Invalid typed array length");return Ze.TYPED_ARRAY_SUPPORT?(xi=new Uint8Array(fi)).__proto__=Ze.prototype:(xi===null&&(xi=new Ze(fi)),xi.length=fi),xi}function Ze(xi,fi,$i){if(!(Ze.TYPED_ARRAY_SUPPORT||this instanceof Ze))return new Ze(xi,fi,$i);if(typeof xi=="number"){if(typeof fi=="string")throw new Error("If encoding is specified then the first argument must be a string");return ti(this,xi)}return Je(this,xi,fi,$i)}function Je(xi,fi,$i,bi){if(typeof fi=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&fi instanceof ArrayBuffer?function(Ci,Ei,Si,zi){if(Ei.byteLength,Si<0||Ei.byteLength<Si)throw new RangeError("'offset' is out of bounds");if(Ei.byteLength<Si+(zi||0))throw new RangeError("'length' is out of bounds");return Ei=Si===void 0&&zi===void 0?new Uint8Array(Ei):zi===void 0?new Uint8Array(Ei,Si):new Uint8Array(Ei,Si,zi),Ze.TYPED_ARRAY_SUPPORT?(Ci=Ei).__proto__=Ze.prototype:Ci=ni(Ci,Ei),Ci}(xi,fi,$i,bi):typeof fi=="string"?function(Ci,Ei,Si){if(typeof Si=="string"&&Si!==""||(Si="utf8"),!Ze.isEncoding(Si))throw new TypeError('"encoding" must be a valid string encoding');var zi=0|ii(Ei,Si),Ki=(Ci=Ke(Ci,zi)).write(Ei,Si);return Ki!==zi&&(Ci=Ci.slice(0,Ki)),Ci}(xi,fi,$i):function(Ci,Ei){if(Ze.isBuffer(Ei)){var Si=0|ri(Ei.length);return(Ci=Ke(Ci,Si)).length===0||Ei.copy(Ci,0,0,Si),Ci}if(Ei){if(typeof ArrayBuffer<"u"&&Ei.buffer instanceof ArrayBuffer||"length"in Ei)return typeof Ei.length!="number"||(zi=Ei.length)!=zi?Ke(Ci,0):ni(Ci,Ei);if(Ei.type==="Buffer"&&We(Ei.data))return ni(Ci,Ei.data)}var zi;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(xi,fi)}function Qe(xi){if(typeof xi!="number")throw new TypeError('"size" argument must be a number');if(xi<0)throw new RangeError('"size" argument must not be negative')}function ti(xi,fi){if(Qe(fi),xi=Ke(xi,fi<0?0:0|ri(fi)),!Ze.TYPED_ARRAY_SUPPORT)for(var $i=0;$i<fi;++$i)xi[$i]=0;return xi}function ni(xi,fi){var $i=fi.length<0?0:0|ri(fi.length);xi=Ke(xi,$i);for(var bi=0;bi<$i;bi+=1)xi[bi]=255&fi[bi];return xi}function ri(xi){if(xi>=qe())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+qe().toString(16)+" bytes");return 0|xi}function ii(xi,fi){if(Ze.isBuffer(xi))return xi.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(xi)||xi instanceof ArrayBuffer))return xi.byteLength;typeof xi!="string"&&(xi=""+xi);var $i=xi.length;if($i===0)return 0;for(var bi=!1;;)switch(fi){case"ascii":case"latin1":case"binary":return $i;case"utf8":case"utf-8":case void 0:return Gi(xi).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*$i;case"hex":return $i>>>1;case"base64":return Yi(xi).length;default:if(bi)return Gi(xi).length;fi=(""+fi).toLowerCase(),bi=!0}}function ei(xi,fi,$i){var bi=!1;if((fi===void 0||fi<0)&&(fi=0),fi>this.length||(($i===void 0||$i>this.length)&&($i=this.length),$i<=0)||($i>>>=0)<=(fi>>>=0))return"";for(xi||(xi="utf8");;)switch(xi){case"hex":return Ai(this,fi,$i);case"utf8":case"utf-8":return yi(this,fi,$i);case"ascii":return gi(this,fi,$i);case"latin1":case"binary":return _i(this,fi,$i);case"base64":return pi(this,fi,$i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ki(this,fi,$i);default:if(bi)throw new TypeError("Unknown encoding: "+xi);xi=(xi+"").toLowerCase(),bi=!0}}function St(xi,fi,$i){var bi=xi[fi];xi[fi]=xi[$i],xi[$i]=bi}function oi(xi,fi,$i,bi,Ci){if(xi.length===0)return-1;if(typeof $i=="string"?(bi=$i,$i=0):$i>2147483647?$i=2147483647:$i<-2147483648&&($i=-2147483648),$i=+$i,isNaN($i)&&($i=Ci?0:xi.length-1),$i<0&&($i=xi.length+$i),$i>=xi.length){if(Ci)return-1;$i=xi.length-1}else if($i<0){if(!Ci)return-1;$i=0}if(typeof fi=="string"&&(fi=Ze.from(fi,bi)),Ze.isBuffer(fi))return fi.length===0?-1:si(xi,fi,$i,bi,Ci);if(typeof fi=="number")return fi&=255,Ze.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?Ci?Uint8Array.prototype.indexOf.call(xi,fi,$i):Uint8Array.prototype.lastIndexOf.call(xi,fi,$i):si(xi,[fi],$i,bi,Ci);throw new TypeError("val must be string, number or Buffer")}function si(xi,fi,$i,bi,Ci){var Ei,Si=1,zi=xi.length,Ki=fi.length;if(bi!==void 0&&((bi=String(bi).toLowerCase())==="ucs2"||bi==="ucs-2"||bi==="utf16le"||bi==="utf-16le")){if(xi.length<2||fi.length<2)return-1;Si=2,zi/=2,Ki/=2,$i/=2}function Ui(un,Mn){return Si===1?un[Mn]:un.readUInt16BE(Mn*Si)}if(Ci){var Ji=-1;for(Ei=$i;Ei<zi;Ei++)if(Ui(xi,Ei)===Ui(fi,Ji===-1?0:Ei-Ji)){if(Ji===-1&&(Ji=Ei),Ei-Ji+1===Ki)return Ji*Si}else Ji!==-1&&(Ei-=Ei-Ji),Ji=-1}else for($i+Ki>zi&&($i=zi-Ki),Ei=$i;Ei>=0;Ei--){for(var gn=!0,hn=0;hn<Ki;hn++)if(Ui(xi,Ei+hn)!==Ui(fi,hn)){gn=!1;break}if(gn)return Ei}return-1}function ai(xi,fi,$i,bi){$i=Number($i)||0;var Ci=xi.length-$i;bi?(bi=Number(bi))>Ci&&(bi=Ci):bi=Ci;var Ei=fi.length;if(Ei%2!=0)throw new TypeError("Invalid hex string");bi>Ei/2&&(bi=Ei/2);for(var Si=0;Si<bi;++Si){var zi=parseInt(fi.substr(2*Si,2),16);if(isNaN(zi))return Si;xi[$i+Si]=zi}return Si}function ui(xi,fi,$i,bi){return Xi(Gi(fi,xi.length-$i),xi,$i,bi)}function hi(xi,fi,$i,bi){return Xi(function(Ci){for(var Ei=[],Si=0;Si<Ci.length;++Si)Ei.push(255&Ci.charCodeAt(Si));return Ei}(fi),xi,$i,bi)}function ci(xi,fi,$i,bi){return hi(xi,fi,$i,bi)}function mi(xi,fi,$i,bi){return Xi(Yi(fi),xi,$i,bi)}function di(xi,fi,$i,bi){return Xi(function(Ci,Ei){for(var Si,zi,Ki,Ui=[],Ji=0;Ji<Ci.length&&!((Ei-=2)<0);++Ji)Si=Ci.charCodeAt(Ji),zi=Si>>8,Ki=Si%256,Ui.push(Ki),Ui.push(zi);return Ui}(fi,xi.length-$i),xi,$i,bi)}function pi(xi,fi,$i){return fi===0&&$i===xi.length?ze.fromByteArray(xi):ze.fromByteArray(xi.slice(fi,$i))}function yi(xi,fi,$i){$i=Math.min(xi.length,$i);for(var bi=[],Ci=fi;Ci<$i;){var Ei,Si,zi,Ki,Ui=xi[Ci],Ji=null,gn=Ui>239?4:Ui>223?3:Ui>191?2:1;if(Ci+gn<=$i)switch(gn){case 1:Ui<128&&(Ji=Ui);break;case 2:(192&(Ei=xi[Ci+1]))==128&&(Ki=(31&Ui)<<6|63&Ei)>127&&(Ji=Ki);break;case 3:Ei=xi[Ci+1],Si=xi[Ci+2],(192&Ei)==128&&(192&Si)==128&&(Ki=(15&Ui)<<12|(63&Ei)<<6|63&Si)>2047&&(Ki<55296||Ki>57343)&&(Ji=Ki);break;case 4:Ei=xi[Ci+1],Si=xi[Ci+2],zi=xi[Ci+3],(192&Ei)==128&&(192&Si)==128&&(192&zi)==128&&(Ki=(15&Ui)<<18|(63&Ei)<<12|(63&Si)<<6|63&zi)>65535&&Ki<1114112&&(Ji=Ki)}Ji===null?(Ji=65533,gn=1):Ji>65535&&(Ji-=65536,bi.push(Ji>>>10&1023|55296),Ji=56320|1023&Ji),bi.push(Ji),Ci+=gn}return function(hn){var un=hn.length;if(un<=4096)return String.fromCharCode.apply(String,hn);for(var Mn="",sn=0;sn<un;)Mn+=String.fromCharCode.apply(String,hn.slice(sn,sn+=4096));return Mn}(bi)}r.Buffer=Ze,r.SlowBuffer=function(xi){return+xi!=xi&&(xi=0),Ze.alloc(+xi)},r.INSPECT_MAX_BYTES=50,Ze.TYPED_ARRAY_SUPPORT=je.TYPED_ARRAY_SUPPORT!==void 0?je.TYPED_ARRAY_SUPPORT:function(){try{var xi=new Uint8Array(1);return xi.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},xi.foo()===42&&typeof xi.subarray=="function"&&xi.subarray(1,1).byteLength===0}catch{return!1}}(),r.kMaxLength=qe(),Ze.poolSize=8192,Ze._augment=function(xi){return xi.__proto__=Ze.prototype,xi},Ze.from=function(xi,fi,$i){return Je(null,xi,fi,$i)},Ze.TYPED_ARRAY_SUPPORT&&(Ze.prototype.__proto__=Uint8Array.prototype,Ze.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&Ze[Symbol.species]===Ze&&Object.defineProperty(Ze,Symbol.species,{value:null,configurable:!0})),Ze.alloc=function(xi,fi,$i){return function(bi,Ci,Ei,Si){return Qe(Ci),Ci<=0?Ke(bi,Ci):Ei!==void 0?typeof Si=="string"?Ke(bi,Ci).fill(Ei,Si):Ke(bi,Ci).fill(Ei):Ke(bi,Ci)}(null,xi,fi,$i)},Ze.allocUnsafe=function(xi){return ti(null,xi)},Ze.allocUnsafeSlow=function(xi){return ti(null,xi)},Ze.isBuffer=function(xi){return!(xi==null||!xi._isBuffer)},Ze.compare=function(xi,fi){if(!Ze.isBuffer(xi)||!Ze.isBuffer(fi))throw new TypeError("Arguments must be Buffers");if(xi===fi)return 0;for(var $i=xi.length,bi=fi.length,Ci=0,Ei=Math.min($i,bi);Ci<Ei;++Ci)if(xi[Ci]!==fi[Ci]){$i=xi[Ci],bi=fi[Ci];break}return $i<bi?-1:bi<$i?1:0},Ze.isEncoding=function(xi){switch(String(xi).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Ze.concat=function(xi,fi){if(!We(xi))throw new TypeError('"list" argument must be an Array of Buffers');if(xi.length===0)return Ze.alloc(0);var $i;if(fi===void 0)for(fi=0,$i=0;$i<xi.length;++$i)fi+=xi[$i].length;var bi=Ze.allocUnsafe(fi),Ci=0;for($i=0;$i<xi.length;++$i){var Ei=xi[$i];if(!Ze.isBuffer(Ei))throw new TypeError('"list" argument must be an Array of Buffers');Ei.copy(bi,Ci),Ci+=Ei.length}return bi},Ze.byteLength=ii,Ze.prototype._isBuffer=!0,Ze.prototype.swap16=function(){var xi=this.length;if(xi%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var fi=0;fi<xi;fi+=2)St(this,fi,fi+1);return this},Ze.prototype.swap32=function(){var xi=this.length;if(xi%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var fi=0;fi<xi;fi+=4)St(this,fi,fi+3),St(this,fi+1,fi+2);return this},Ze.prototype.swap64=function(){var xi=this.length;if(xi%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var fi=0;fi<xi;fi+=8)St(this,fi,fi+7),St(this,fi+1,fi+6),St(this,fi+2,fi+5),St(this,fi+3,fi+4);return this},Ze.prototype.toString=function(){var xi=0|this.length;return xi===0?"":arguments.length===0?yi(this,0,xi):ei.apply(this,arguments)},Ze.prototype.equals=function(xi){if(!Ze.isBuffer(xi))throw new TypeError("Argument must be a Buffer");return this===xi||Ze.compare(this,xi)===0},Ze.prototype.inspect=function(){var xi="",fi=r.INSPECT_MAX_BYTES;return this.length>0&&(xi=this.toString("hex",0,fi).match(/.{2}/g).join(" "),this.length>fi&&(xi+=" ... ")),"<Buffer "+xi+">"},Ze.prototype.compare=function(xi,fi,$i,bi,Ci){if(!Ze.isBuffer(xi))throw new TypeError("Argument must be a Buffer");if(fi===void 0&&(fi=0),$i===void 0&&($i=xi?xi.length:0),bi===void 0&&(bi=0),Ci===void 0&&(Ci=this.length),fi<0||$i>xi.length||bi<0||Ci>this.length)throw new RangeError("out of range index");if(bi>=Ci&&fi>=$i)return 0;if(bi>=Ci)return-1;if(fi>=$i)return 1;if(this===xi)return 0;for(var Ei=(Ci>>>=0)-(bi>>>=0),Si=($i>>>=0)-(fi>>>=0),zi=Math.min(Ei,Si),Ki=this.slice(bi,Ci),Ui=xi.slice(fi,$i),Ji=0;Ji<zi;++Ji)if(Ki[Ji]!==Ui[Ji]){Ei=Ki[Ji],Si=Ui[Ji];break}return Ei<Si?-1:Si<Ei?1:0},Ze.prototype.includes=function(xi,fi,$i){return this.indexOf(xi,fi,$i)!==-1},Ze.prototype.indexOf=function(xi,fi,$i){return oi(this,xi,fi,$i,!0)},Ze.prototype.lastIndexOf=function(xi,fi,$i){return oi(this,xi,fi,$i,!1)},Ze.prototype.write=function(xi,fi,$i,bi){if(fi===void 0)bi="utf8",$i=this.length,fi=0;else if($i===void 0&&typeof fi=="string")bi=fi,$i=this.length,fi=0;else{if(!isFinite(fi))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");fi|=0,isFinite($i)?($i|=0,bi===void 0&&(bi="utf8")):(bi=$i,$i=void 0)}var Ci=this.length-fi;if(($i===void 0||$i>Ci)&&($i=Ci),xi.length>0&&($i<0||fi<0)||fi>this.length)throw new RangeError("Attempt to write outside buffer bounds");bi||(bi="utf8");for(var Ei=!1;;)switch(bi){case"hex":return ai(this,xi,fi,$i);case"utf8":case"utf-8":return ui(this,xi,fi,$i);case"ascii":return hi(this,xi,fi,$i);case"latin1":case"binary":return ci(this,xi,fi,$i);case"base64":return mi(this,xi,fi,$i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return di(this,xi,fi,$i);default:if(Ei)throw new TypeError("Unknown encoding: "+bi);bi=(""+bi).toLowerCase(),Ei=!0}},Ze.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function gi(xi,fi,$i){var bi="";$i=Math.min(xi.length,$i);for(var Ci=fi;Ci<$i;++Ci)bi+=String.fromCharCode(127&xi[Ci]);return bi}function _i(xi,fi,$i){var bi="";$i=Math.min(xi.length,$i);for(var Ci=fi;Ci<$i;++Ci)bi+=String.fromCharCode(xi[Ci]);return bi}function Ai(xi,fi,$i){var bi=xi.length;(!fi||fi<0)&&(fi=0),(!$i||$i<0||$i>bi)&&($i=bi);for(var Ci="",Ei=fi;Ei<$i;++Ei)Ci+=ji(xi[Ei]);return Ci}function ki(xi,fi,$i){for(var bi=xi.slice(fi,$i),Ci="",Ei=0;Ei<bi.length;Ei+=2)Ci+=String.fromCharCode(bi[Ei]+256*bi[Ei+1]);return Ci}function vi(xi,fi,$i){if(xi%1!=0||xi<0)throw new RangeError("offset is not uint");if(xi+fi>$i)throw new RangeError("Trying to access beyond buffer length")}function Mi(xi,fi,$i,bi,Ci,Ei){if(!Ze.isBuffer(xi))throw new TypeError('"buffer" argument must be a Buffer instance');if(fi>Ci||fi<Ei)throw new RangeError('"value" argument is out of bounds');if($i+bi>xi.length)throw new RangeError("Index out of range")}function Di(xi,fi,$i,bi){fi<0&&(fi=65535+fi+1);for(var Ci=0,Ei=Math.min(xi.length-$i,2);Ci<Ei;++Ci)xi[$i+Ci]=(fi&255<<8*(bi?Ci:1-Ci))>>>8*(bi?Ci:1-Ci)}function Bi(xi,fi,$i,bi){fi<0&&(fi=4294967295+fi+1);for(var Ci=0,Ei=Math.min(xi.length-$i,4);Ci<Ei;++Ci)xi[$i+Ci]=fi>>>8*(bi?Ci:3-Ci)&255}function Pi(xi,fi,$i,bi,Ci,Ei){if($i+bi>xi.length)throw new RangeError("Index out of range");if($i<0)throw new RangeError("Index out of range")}function Fi(xi,fi,$i,bi,Ci){return Ci||Pi(xi,0,$i,4),Xe.write(xi,fi,$i,bi,23,4),$i+4}function Vi(xi,fi,$i,bi,Ci){return Ci||Pi(xi,0,$i,8),Xe.write(xi,fi,$i,bi,52,8),$i+8}Ze.prototype.slice=function(xi,fi){var $i,bi=this.length;if((xi=~~xi)<0?(xi+=bi)<0&&(xi=0):xi>bi&&(xi=bi),(fi=fi===void 0?bi:~~fi)<0?(fi+=bi)<0&&(fi=0):fi>bi&&(fi=bi),fi<xi&&(fi=xi),Ze.TYPED_ARRAY_SUPPORT)($i=this.subarray(xi,fi)).__proto__=Ze.prototype;else{var Ci=fi-xi;$i=new Ze(Ci,void 0);for(var Ei=0;Ei<Ci;++Ei)$i[Ei]=this[Ei+xi]}return $i},Ze.prototype.readUIntLE=function(xi,fi,$i){xi|=0,fi|=0,$i||vi(xi,fi,this.length);for(var bi=this[xi],Ci=1,Ei=0;++Ei<fi&&(Ci*=256);)bi+=this[xi+Ei]*Ci;return bi},Ze.prototype.readUIntBE=function(xi,fi,$i){xi|=0,fi|=0,$i||vi(xi,fi,this.length);for(var bi=this[xi+--fi],Ci=1;fi>0&&(Ci*=256);)bi+=this[xi+--fi]*Ci;return bi},Ze.prototype.readUInt8=function(xi,fi){return fi||vi(xi,1,this.length),this[xi]},Ze.prototype.readUInt16LE=function(xi,fi){return fi||vi(xi,2,this.length),this[xi]|this[xi+1]<<8},Ze.prototype.readUInt16BE=function(xi,fi){return fi||vi(xi,2,this.length),this[xi]<<8|this[xi+1]},Ze.prototype.readUInt32LE=function(xi,fi){return fi||vi(xi,4,this.length),(this[xi]|this[xi+1]<<8|this[xi+2]<<16)+16777216*this[xi+3]},Ze.prototype.readUInt32BE=function(xi,fi){return fi||vi(xi,4,this.length),16777216*this[xi]+(this[xi+1]<<16|this[xi+2]<<8|this[xi+3])},Ze.prototype.readIntLE=function(xi,fi,$i){xi|=0,fi|=0,$i||vi(xi,fi,this.length);for(var bi=this[xi],Ci=1,Ei=0;++Ei<fi&&(Ci*=256);)bi+=this[xi+Ei]*Ci;return bi>=(Ci*=128)&&(bi-=Math.pow(2,8*fi)),bi},Ze.prototype.readIntBE=function(xi,fi,$i){xi|=0,fi|=0,$i||vi(xi,fi,this.length);for(var bi=fi,Ci=1,Ei=this[xi+--bi];bi>0&&(Ci*=256);)Ei+=this[xi+--bi]*Ci;return Ei>=(Ci*=128)&&(Ei-=Math.pow(2,8*fi)),Ei},Ze.prototype.readInt8=function(xi,fi){return fi||vi(xi,1,this.length),128&this[xi]?-1*(255-this[xi]+1):this[xi]},Ze.prototype.readInt16LE=function(xi,fi){fi||vi(xi,2,this.length);var $i=this[xi]|this[xi+1]<<8;return 32768&$i?4294901760|$i:$i},Ze.prototype.readInt16BE=function(xi,fi){fi||vi(xi,2,this.length);var $i=this[xi+1]|this[xi]<<8;return 32768&$i?4294901760|$i:$i},Ze.prototype.readInt32LE=function(xi,fi){return fi||vi(xi,4,this.length),this[xi]|this[xi+1]<<8|this[xi+2]<<16|this[xi+3]<<24},Ze.prototype.readInt32BE=function(xi,fi){return fi||vi(xi,4,this.length),this[xi]<<24|this[xi+1]<<16|this[xi+2]<<8|this[xi+3]},Ze.prototype.readFloatLE=function(xi,fi){return fi||vi(xi,4,this.length),Xe.read(this,xi,!0,23,4)},Ze.prototype.readFloatBE=function(xi,fi){return fi||vi(xi,4,this.length),Xe.read(this,xi,!1,23,4)},Ze.prototype.readDoubleLE=function(xi,fi){return fi||vi(xi,8,this.length),Xe.read(this,xi,!0,52,8)},Ze.prototype.readDoubleBE=function(xi,fi){return fi||vi(xi,8,this.length),Xe.read(this,xi,!1,52,8)},Ze.prototype.writeUIntLE=function(xi,fi,$i,bi){xi=+xi,fi|=0,$i|=0,bi||Mi(this,xi,fi,$i,Math.pow(2,8*$i)-1,0);var Ci=1,Ei=0;for(this[fi]=255&xi;++Ei<$i&&(Ci*=256);)this[fi+Ei]=xi/Ci&255;return fi+$i},Ze.prototype.writeUIntBE=function(xi,fi,$i,bi){xi=+xi,fi|=0,$i|=0,bi||Mi(this,xi,fi,$i,Math.pow(2,8*$i)-1,0);var Ci=$i-1,Ei=1;for(this[fi+Ci]=255&xi;--Ci>=0&&(Ei*=256);)this[fi+Ci]=xi/Ei&255;return fi+$i},Ze.prototype.writeUInt8=function(xi,fi,$i){return xi=+xi,fi|=0,$i||Mi(this,xi,fi,1,255,0),Ze.TYPED_ARRAY_SUPPORT||(xi=Math.floor(xi)),this[fi]=255&xi,fi+1},Ze.prototype.writeUInt16LE=function(xi,fi,$i){return xi=+xi,fi|=0,$i||Mi(this,xi,fi,2,65535,0),Ze.TYPED_ARRAY_SUPPORT?(this[fi]=255&xi,this[fi+1]=xi>>>8):Di(this,xi,fi,!0),fi+2},Ze.prototype.writeUInt16BE=function(xi,fi,$i){return xi=+xi,fi|=0,$i||Mi(this,xi,fi,2,65535,0),Ze.TYPED_ARRAY_SUPPORT?(this[fi]=xi>>>8,this[fi+1]=255&xi):Di(this,xi,fi,!1),fi+2},Ze.prototype.writeUInt32LE=function(xi,fi,$i){return xi=+xi,fi|=0,$i||Mi(this,xi,fi,4,4294967295,0),Ze.TYPED_ARRAY_SUPPORT?(this[fi+3]=xi>>>24,this[fi+2]=xi>>>16,this[fi+1]=xi>>>8,this[fi]=255&xi):Bi(this,xi,fi,!0),fi+4},Ze.prototype.writeUInt32BE=function(xi,fi,$i){return xi=+xi,fi|=0,$i||Mi(this,xi,fi,4,4294967295,0),Ze.TYPED_ARRAY_SUPPORT?(this[fi]=xi>>>24,this[fi+1]=xi>>>16,this[fi+2]=xi>>>8,this[fi+3]=255&xi):Bi(this,xi,fi,!1),fi+4},Ze.prototype.writeIntLE=function(xi,fi,$i,bi){if(xi=+xi,fi|=0,!bi){var Ci=Math.pow(2,8*$i-1);Mi(this,xi,fi,$i,Ci-1,-Ci)}var Ei=0,Si=1,zi=0;for(this[fi]=255&xi;++Ei<$i&&(Si*=256);)xi<0&&zi===0&&this[fi+Ei-1]!==0&&(zi=1),this[fi+Ei]=(xi/Si>>0)-zi&255;return fi+$i},Ze.prototype.writeIntBE=function(xi,fi,$i,bi){if(xi=+xi,fi|=0,!bi){var Ci=Math.pow(2,8*$i-1);Mi(this,xi,fi,$i,Ci-1,-Ci)}var Ei=$i-1,Si=1,zi=0;for(this[fi+Ei]=255&xi;--Ei>=0&&(Si*=256);)xi<0&&zi===0&&this[fi+Ei+1]!==0&&(zi=1),this[fi+Ei]=(xi/Si>>0)-zi&255;return fi+$i},Ze.prototype.writeInt8=function(xi,fi,$i){return xi=+xi,fi|=0,$i||Mi(this,xi,fi,1,127,-128),Ze.TYPED_ARRAY_SUPPORT||(xi=Math.floor(xi)),xi<0&&(xi=255+xi+1),this[fi]=255&xi,fi+1},Ze.prototype.writeInt16LE=function(xi,fi,$i){return xi=+xi,fi|=0,$i||Mi(this,xi,fi,2,32767,-32768),Ze.TYPED_ARRAY_SUPPORT?(this[fi]=255&xi,this[fi+1]=xi>>>8):Di(this,xi,fi,!0),fi+2},Ze.prototype.writeInt16BE=function(xi,fi,$i){return xi=+xi,fi|=0,$i||Mi(this,xi,fi,2,32767,-32768),Ze.TYPED_ARRAY_SUPPORT?(this[fi]=xi>>>8,this[fi+1]=255&xi):Di(this,xi,fi,!1),fi+2},Ze.prototype.writeInt32LE=function(xi,fi,$i){return xi=+xi,fi|=0,$i||Mi(this,xi,fi,4,2147483647,-2147483648),Ze.TYPED_ARRAY_SUPPORT?(this[fi]=255&xi,this[fi+1]=xi>>>8,this[fi+2]=xi>>>16,this[fi+3]=xi>>>24):Bi(this,xi,fi,!0),fi+4},Ze.prototype.writeInt32BE=function(xi,fi,$i){return xi=+xi,fi|=0,$i||Mi(this,xi,fi,4,2147483647,-2147483648),xi<0&&(xi=4294967295+xi+1),Ze.TYPED_ARRAY_SUPPORT?(this[fi]=xi>>>24,this[fi+1]=xi>>>16,this[fi+2]=xi>>>8,this[fi+3]=255&xi):Bi(this,xi,fi,!1),fi+4},Ze.prototype.writeFloatLE=function(xi,fi,$i){return Fi(this,xi,fi,!0,$i)},Ze.prototype.writeFloatBE=function(xi,fi,$i){return Fi(this,xi,fi,!1,$i)},Ze.prototype.writeDoubleLE=function(xi,fi,$i){return Vi(this,xi,fi,!0,$i)},Ze.prototype.writeDoubleBE=function(xi,fi,$i){return Vi(this,xi,fi,!1,$i)},Ze.prototype.copy=function(xi,fi,$i,bi){if($i||($i=0),bi||bi===0||(bi=this.length),fi>=xi.length&&(fi=xi.length),fi||(fi=0),bi>0&&bi<$i&&(bi=$i),bi===$i||xi.length===0||this.length===0)return 0;if(fi<0)throw new RangeError("targetStart out of bounds");if($i<0||$i>=this.length)throw new RangeError("sourceStart out of bounds");if(bi<0)throw new RangeError("sourceEnd out of bounds");bi>this.length&&(bi=this.length),xi.length-fi<bi-$i&&(bi=xi.length-fi+$i);var Ci,Ei=bi-$i;if(this===xi&&$i<fi&&fi<bi)for(Ci=Ei-1;Ci>=0;--Ci)xi[Ci+fi]=this[Ci+$i];else if(Ei<1e3||!Ze.TYPED_ARRAY_SUPPORT)for(Ci=0;Ci<Ei;++Ci)xi[Ci+fi]=this[Ci+$i];else Uint8Array.prototype.set.call(xi,this.subarray($i,$i+Ei),fi);return Ei},Ze.prototype.fill=function(xi,fi,$i,bi){if(typeof xi=="string"){if(typeof fi=="string"?(bi=fi,fi=0,$i=this.length):typeof $i=="string"&&(bi=$i,$i=this.length),xi.length===1){var Ci=xi.charCodeAt(0);Ci<256&&(xi=Ci)}if(bi!==void 0&&typeof bi!="string")throw new TypeError("encoding must be a string");if(typeof bi=="string"&&!Ze.isEncoding(bi))throw new TypeError("Unknown encoding: "+bi)}else typeof xi=="number"&&(xi&=255);if(fi<0||this.length<fi||this.length<$i)throw new RangeError("Out of range index");if($i<=fi)return this;var Ei;if(fi>>>=0,$i=$i===void 0?this.length:$i>>>0,xi||(xi=0),typeof xi=="number")for(Ei=fi;Ei<$i;++Ei)this[Ei]=xi;else{var Si=Ze.isBuffer(xi)?xi:Gi(new Ze(xi,bi).toString()),zi=Si.length;for(Ei=0;Ei<$i-fi;++Ei)this[Ei+fi]=Si[Ei%zi]}return this};var Ti=/[^+\/0-9A-Za-z-_]/g;function ji(xi){return xi<16?"0"+xi.toString(16):xi.toString(16)}function Gi(xi,fi){var $i;fi=fi||1/0;for(var bi=xi.length,Ci=null,Ei=[],Si=0;Si<bi;++Si){if(($i=xi.charCodeAt(Si))>55295&&$i<57344){if(!Ci){if($i>56319){(fi-=3)>-1&&Ei.push(239,191,189);continue}if(Si+1===bi){(fi-=3)>-1&&Ei.push(239,191,189);continue}Ci=$i;continue}if($i<56320){(fi-=3)>-1&&Ei.push(239,191,189),Ci=$i;continue}$i=65536+(Ci-55296<<10|$i-56320)}else Ci&&(fi-=3)>-1&&Ei.push(239,191,189);if(Ci=null,$i<128){if((fi-=1)<0)break;Ei.push($i)}else if($i<2048){if((fi-=2)<0)break;Ei.push($i>>6|192,63&$i|128)}else if($i<65536){if((fi-=3)<0)break;Ei.push($i>>12|224,$i>>6&63|128,63&$i|128)}else{if(!($i<1114112))throw new Error("Invalid code point");if((fi-=4)<0)break;Ei.push($i>>18|240,$i>>12&63|128,$i>>6&63|128,63&$i|128)}}return Ei}function Yi(xi){return ze.toByteArray(function(fi){if((fi=function($i){return $i.trim?$i.trim():$i.replace(/^\s+|\s+$/g,"")}(fi).replace(Ti,"")).length<2)return"";for(;fi.length%4!=0;)fi+="=";return fi}(xi))}function Xi(xi,fi,$i,bi){for(var Ci=0;Ci<bi&&!(Ci+$i>=fi.length||Ci>=xi.length);++Ci)fi[Ci+$i]=xi[Ci];return Ci}}).call(this,Ve(78))},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0}),r.isASCIIByte=function(je){return je>=0&&je<=127}},function(t,r,Ve){var je=this&&this.__read||function(Xe,We){var qe=typeof Symbol=="function"&&Xe[Symbol.iterator];if(!qe)return Xe;var Ke,Ze,Je=qe.call(Xe),Qe=[];try{for(;(We===void 0||We-- >0)&&!(Ke=Je.next()).done;)Qe.push(Ke.value)}catch(ti){Ze={error:ti}}finally{try{Ke&&!Ke.done&&(qe=Je.return)&&qe.call(Je)}finally{if(Ze)throw Ze.error}}return Qe},ze=this&&this.__spread||function(){for(var Xe=[],We=0;We<arguments.length;We++)Xe=Xe.concat(je(arguments[We]));return Xe};Object.defineProperty(r,"__esModule",{value:!0}),r.length=function(Xe){return Xe.length},r.byteLowercase=function(Xe){for(var We=0;We<Xe.length;We++){var qe=Xe[We];qe>=65&&qe<=90&&(Xe[We]=qe+32)}},r.byteUppercase=function(Xe){for(var We=0;We<Xe.length;We++){var qe=Xe[We];qe>=97&&qe<=122&&(Xe[We]=qe-32)}},r.byteCaseInsensitiveMatch=function(Xe,We){if(Xe.length!==We.length)return!1;for(var qe=0;qe<Xe.length;qe++){var Ke=Xe[qe],Ze=We[qe];if(Ke>=65&&Ke<=90&&(Ke+=32),Ze>=65&&Ze<=90&&(Ze+=32),Ke!==Ze)return!1}return!0},r.startsWith=function(Xe,We){for(var qe=0;;){if(qe>=Xe.length)return!1;if(qe>=We.length)return!0;if(Xe[qe]!==We[qe])return!1;qe++}},r.byteLessThan=function(Xe,We){for(var qe=0;;){if(qe>=Xe.length)return!1;if(qe>=We.length)return!0;var Ke=Xe[qe],Ze=We[qe];if(Ke<Ze)return!0;if(Ke>Ze)return!1;qe++}},r.isomorphicDecode=function(Xe){return String.fromCodePoint.apply(String,ze(Xe))}},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(6),ze=Ve(7),Xe=Ve(0),We=Ve(12),qe=function(){function Ke(Ze){this._associatedDocument=Ze||je.dom.window.document}return Ke.prototype.createDocumentType=function(Ze,Je,Qe){return Xe.namespace_validate(Ze),Xe.create_documentType(this._associatedDocument,Ze,Je,Qe)},Ke.prototype.createDocument=function(Ze,Je,Qe){Qe===void 0&&(Qe=null);var ti=Xe.create_xmlDocument(),ni=null;return Je&&(ni=Xe.document_internalCreateElementNS(ti,Ze,Je)),Qe&&ti.appendChild(Qe),ni&&ti.appendChild(ni),ti._origin=this._associatedDocument._origin,Ze===ze.namespace.HTML?ti._contentType="application/xhtml+xml":Ze===ze.namespace.SVG?ti._contentType="image/svg+xml":ti._contentType="application/xml",ti},Ke.prototype.createHTMLDocument=function(Ze){var Je=Xe.create_document();Je._type="html",Je._contentType="text/html",Je.appendChild(Xe.create_documentType(Je,"html","",""));var Qe=Xe.element_createAnElement(Je,"html",ze.namespace.HTML);Je.appendChild(Qe);var ti=Xe.element_createAnElement(Je,"head",ze.namespace.HTML);if(Qe.appendChild(ti),Ze!==void 0){var ni=Xe.element_createAnElement(Je,"title",ze.namespace.HTML);ti.appendChild(ni);var ri=Xe.create_text(Je,Ze);ni.appendChild(ri)}var ii=Xe.element_createAnElement(Je,"body",ze.namespace.HTML);return Qe.appendChild(ii),Je._origin=this._associatedDocument._origin,Je},Ke.prototype.hasFeature=function(){return!0},Ke._create=function(Ze){return new Ke(Ze)},Ke}();r.DOMImplementationImpl=qe,We.idl_defineConst(qe.prototype,"_ID","@oozcitak/dom")},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(Ze,Je){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Qe,ti){Qe.__proto__=ti}||function(Qe,ti){for(var ni in ti)ti.hasOwnProperty(ni)&&(Qe[ni]=ti[ni])})(Ze,Je)},function(Ze,Je){function Qe(){this.constructor=Ze}je(Ze,Je),Ze.prototype=Je===null?Object.create(Je):(Qe.prototype=Je.prototype,new Qe)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(70),We=Ve(2),qe=Ve(0),Ke=function(Ze){function Je(){var Qe=Ze.call(this)||this;return Qe._signalSlots=new Set,Qe._mutationObserverMicrotaskQueued=!1,Qe._mutationObservers=new Set,Qe._iteratorList=new We.FixedSizeSet,Qe._associatedDocument=qe.create_document(),Qe}return ze(Je,Ze),Object.defineProperty(Je.prototype,"document",{get:function(){return this._associatedDocument},enumerable:!0,configurable:!0}),Object.defineProperty(Je.prototype,"event",{get:function(){return this._currentEvent},enumerable:!0,configurable:!0}),Je._create=function(){return new Je},Je}(Xe.EventTargetImpl);r.WindowImpl=Ke},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(1),ze=function(){function Xe(){}return Xe.isNode=function(We){return!!We&&We._nodeType!==void 0},Xe.isDocumentNode=function(We){return Xe.isNode(We)&&We._nodeType===je.NodeType.Document},Xe.isDocumentTypeNode=function(We){return Xe.isNode(We)&&We._nodeType===je.NodeType.DocumentType},Xe.isDocumentFragmentNode=function(We){return Xe.isNode(We)&&We._nodeType===je.NodeType.DocumentFragment},Xe.isAttrNode=function(We){return Xe.isNode(We)&&We._nodeType===je.NodeType.Attribute},Xe.isCharacterDataNode=function(We){if(!Xe.isNode(We))return!1;var qe=We._nodeType;return qe===je.NodeType.Text||qe===je.NodeType.ProcessingInstruction||qe===je.NodeType.Comment||qe===je.NodeType.CData},Xe.isTextNode=function(We){return Xe.isNode(We)&&(We._nodeType===je.NodeType.Text||We._nodeType===je.NodeType.CData)},Xe.isExclusiveTextNode=function(We){return Xe.isNode(We)&&We._nodeType===je.NodeType.Text},Xe.isCDATASectionNode=function(We){return Xe.isNode(We)&&We._nodeType===je.NodeType.CData},Xe.isCommentNode=function(We){return Xe.isNode(We)&&We._nodeType===je.NodeType.Comment},Xe.isProcessingInstructionNode=function(We){return Xe.isNode(We)&&We._nodeType===je.NodeType.ProcessingInstruction},Xe.isElementNode=function(We){return Xe.isNode(We)&&We._nodeType===je.NodeType.Element},Xe.isCustomElementNode=function(We){return Xe.isElementNode(We)&&We._customElementState==="custom"},Xe.isShadowRoot=function(We){return!!We&&We.host!==void 0},Xe.isMouseEvent=function(We){return!!We&&We.screenX!==void 0&&We.screenY!=null},Xe.isSlotable=function(We){return!!We&&We._name!==void 0&&We._assignedSlot!==void 0&&(Xe.isTextNode(We)||Xe.isElementNode(We))},Xe.isSlot=function(We){return!!We&&We._name!==void 0&&We._assignedNodes!==void 0&&Xe.isElementNode(We)},Xe.isWindow=function(We){return!!We&&We.navigator!==void 0},Xe.isEventListener=function(We){return!!We&&We.handleEvent!==void 0},Xe.isRegisteredObserver=function(We){return!!We&&We.observer!==void 0&&We.options!==void 0},Xe.isTransientRegisteredObserver=function(We){return!!We&&We.source!==void 0&&Xe.isRegisteredObserver(We)},Xe}();r.Guard=ze},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(We,qe){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ke,Ze){Ke.__proto__=Ze}||function(Ke,Ze){for(var Je in Ze)Ze.hasOwnProperty(Je)&&(Ke[Je]=Ze[Je])})(We,qe)},function(We,qe){function Ke(){this.constructor=We}je(We,qe),We.prototype=qe===null?Object.create(qe):(Ke.prototype=qe.prototype,new Ke)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=function(We){function qe(){return We.call(this)||this}return ze(qe,We),qe}(Ve(98).DocumentImpl);r.XMLDocumentImpl=Xe},function(t,r,Ve){var je=this&&this.__values||function(bi){var Ci=typeof Symbol=="function"&&Symbol.iterator,Ei=Ci&&bi[Ci],Si=0;if(Ei)return Ei.call(bi);if(bi&&typeof bi.length=="number")return{next:function(){return bi&&Si>=bi.length&&(bi=void 0),{value:bi&&bi[Si++],done:!bi}}};throw new TypeError(Ci?"Object is not iterable.":"Symbol.iterator is not defined.")},ze=this&&this.__read||function(bi,Ci){var Ei=typeof Symbol=="function"&&bi[Symbol.iterator];if(!Ei)return bi;var Si,zi,Ki=Ei.call(bi),Ui=[];try{for(;(Ci===void 0||Ci-- >0)&&!(Si=Ki.next()).done;)Ui.push(Si.value)}catch(Ji){zi={error:Ji}}finally{try{Si&&!Si.done&&(Ei=Ki.return)&&Ei.call(Ki)}finally{if(zi)throw zi.error}}return Ui};Object.defineProperty(r,"__esModule",{value:!0});var Xe,We=Ve(2),qe=Ve(243),Ke=Ve(7),Ze=Ve(244),Je={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Qe=/[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,ti=/[ "<>`]|[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,ni=/[ "<>`#?{}]|[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,ri=/[ "<>`#?{}/:;=@\[\]\\\^\|]|[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,ii=/[0-9A-Za-z!\$&-\/:;=\?@_~\xA0-\uD7FF\uE000-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uD83E\uD840-\uD87E\uD880-\uD8BE\uD8C0-\uD8FE\uD900-\uD93E\uD940-\uD97E\uD980-\uD9BE\uD9C0-\uD9FE\uDA00-\uDA3E\uDA40-\uDA7E\uDA80-\uDABE\uDAC0-\uDAFE\uDB00-\uDB3E\uDB40-\uDB7E\uDB80-\uDBBE\uDBC0-\uDBFE][\uDC00-\uDFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDC00-\uDFFD]/,ei=/[\0\t\f\r #%/:?@\[\\\]]/;function St(bi){Xe!==void 0&&Xe.call(null,"Validation Error: "+bi)}function oi(){return{scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,_cannotBeABaseURLFlag:!1,_blobURLEntry:null}}function si(bi){return bi in Je}function ai(bi){return si(bi.scheme)}function ui(bi){return Je[bi]||null}function hi(bi){return bi.username!==""||bi.password!==""}function ci(bi,Ci){var Ei,Si;Ci===void 0&&(Ci=!1);var zi=bi.scheme+":";if(bi.host!==null?(zi+="//",hi(bi)&&(zi+=bi.username,bi.password!==""&&(zi+=":"+bi.password),zi+="@"),zi+=mi(bi.host),bi.port!==null&&(zi+=":"+bi.port)):bi.host===null&&bi.scheme==="file"&&(zi+="//"),bi._cannotBeABaseURLFlag)zi+=bi.path[0];else try{for(var Ki=je(bi.path),Ui=Ki.next();!Ui.done;Ui=Ki.next())zi+="/"+Ui.value}catch(Ji){Ei={error:Ji}}finally{try{Ui&&!Ui.done&&(Si=Ki.return)&&Si.call(Ki)}finally{if(Ei)throw Ei.error}}return bi.query!==null&&(zi+="?"+bi.query),Ci||bi.fragment===null||(zi+="#"+bi.fragment),zi}function mi(bi){return We.isNumber(bi)?di(bi):We.isArray(bi)?"["+pi(bi)+"]":bi}function di(bi){for(var Ci="",Ei=bi,Si=1;Si<=4;Si++)Ci=(Ei%256).toString()+Ci,Si!==4&&(Ci="."+Ci),Ei=Math.floor(Ei/256);return Ci}function pi(bi){for(var Ci="",Ei=null,Si=-1,zi=0,Ki=0,Ui=0;Ui<8;Ui++)if(bi[Ui]===0){zi=1;for(var Ji=Ui+1;Ji<8&&bi[Ji]===0;Ji++)zi++;zi>Ki&&(Ki=zi,Si=Ui)}Ki>1&&(Ei=Si);for(var gn=!1,hn=0;hn<8;hn++)gn&&bi[hn]===0||(gn&&(gn=!1),Ei!==hn?(Ci+=bi[hn].toString(16),hn!==7&&(Ci+=":")):(Ci+=hn===0?"::":":",gn=!0));return Ci}function yi(bi,Ci,Ei,Si,zi){var Ki,Ui,Ji,gn;if(Si===void 0){Si={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,_cannotBeABaseURLFlag:!1,_blobURLEntry:null};var hn=/^[\u0000-\u001F\u0020]+/,un=/[\u0000-\u001F\u0020]+$/;(hn.test(bi)||un.test(bi))&&St("Input string contains leading or trailing control characters or space."),bi=(bi=bi.replace(hn,"")).replace(un,"")}var Mn=/[\u0009\u000A\u000D]/g;Mn.test(bi)&&St("Input string contains tab or newline characters."),bi=bi.replace(Mn,"");var sn=zi===void 0?qe.ParserState.SchemeStart:zi;Ci===void 0&&(Ci=null);for(var vn=Ei===void 0||Ei==="replacement"||Ei==="UTF-16BE"||Ei==="UTF-16LE"?"UTF-8":Ei,Ni="",Cn=!1,cn=!1,fn=!1,qi=new We.StringWalker(bi);;){switch(sn){case qe.ParserState.SchemeStart:if(Ke.codePoint.ASCIIAlpha.test(qi.c()))Ni+=qi.c().toLowerCase(),sn=qe.ParserState.Scheme;else{if(zi!==void 0)return St("Invalid scheme start character."),null;sn=qe.ParserState.NoScheme,qi.pointer--}break;case qe.ParserState.Scheme:if(Ke.codePoint.ASCIIAlphanumeric.test(qi.c())||qi.c()==="+"||qi.c()==="-"||qi.c()===".")Ni+=qi.c().toLowerCase();else{if(qi.c()!==":"){if(zi===void 0){Ni="",sn=qe.ParserState.NoScheme,qi.pointer=0;continue}return St("Invalid input string."),null}if(zi!==void 0&&(si(Si.scheme)&&!si(Ni)||!si(Si.scheme)&&si(Ni)||(hi(Si)||Si.port!==null)&&Ni==="file"||Si.scheme==="file"&&(Si.host===""||Si.host===null)))return Si;if(Si.scheme=Ni,zi!==void 0)return Si.port===ui(Si.scheme)&&(Si.port=null),Si;Ni="",Si.scheme==="file"?(qi.remaining().startsWith("//")||St("Invalid file URL scheme, '//' expected."),sn=qe.ParserState.File):ai(Si)&&Ci!==null&&Ci.scheme===Si.scheme?sn=qe.ParserState.SpecialRelativeOrAuthority:ai(Si)?sn=qe.ParserState.SpecialAuthoritySlashes:qi.remaining().startsWith("/")?(sn=qe.ParserState.PathOrAuthority,qi.pointer++):(Si._cannotBeABaseURLFlag=!0,Si.path.push(""),sn=qe.ParserState.CannotBeABaseURLPath)}break;case qe.ParserState.NoScheme:if(Ci===null||Ci._cannotBeABaseURLFlag&&qi.c()!=="#")return St("Invalid input string."),null;Ci._cannotBeABaseURLFlag&&qi.c()==="#"?(Si.scheme=Ci.scheme,Si.path=Ke.list.clone(Ci.path),Si.query=Ci.query,Si.fragment="",Si._cannotBeABaseURLFlag=!0,sn=qe.ParserState.Fragment):Ci.scheme!=="file"?(sn=qe.ParserState.Relative,qi.pointer--):(sn=qe.ParserState.File,qi.pointer--);break;case qe.ParserState.SpecialRelativeOrAuthority:qi.c()==="/"&&qi.remaining().startsWith("/")?(sn=qe.ParserState.SpecialAuthorityIgnoreSlashes,qi.pointer++):(St("Invalid input string."),sn=qe.ParserState.Relative,qi.pointer--);break;case qe.ParserState.PathOrAuthority:qi.c()==="/"?sn=qe.ParserState.Authority:(sn=qe.ParserState.Path,qi.pointer--);break;case qe.ParserState.Relative:if(Ci===null)throw new Error("Invalid parser state. Base URL is null.");switch(Si.scheme=Ci.scheme,qi.c()){case"":Si.username=Ci.username,Si.password=Ci.password,Si.host=Ci.host,Si.port=Ci.port,Si.path=Ke.list.clone(Ci.path),Si.query=Ci.query;break;case"/":sn=qe.ParserState.RelativeSlash;break;case"?":Si.username=Ci.username,Si.password=Ci.password,Si.host=Ci.host,Si.port=Ci.port,Si.path=Ke.list.clone(Ci.path),Si.query="",sn=qe.ParserState.Query;break;case"#":Si.username=Ci.username,Si.password=Ci.password,Si.host=Ci.host,Si.port=Ci.port,Si.path=Ke.list.clone(Ci.path),Si.query=Ci.query,Si.fragment="",sn=qe.ParserState.Fragment;break;default:ai(Si)&&qi.c()==="\\"?(St("Invalid input string."),sn=qe.ParserState.RelativeSlash):(Si.username=Ci.username,Si.password=Ci.password,Si.host=Ci.host,Si.port=Ci.port,Si.path=Ke.list.clone(Ci.path),Si.path.length!==0&&Si.path.splice(Si.path.length-1,1),sn=qe.ParserState.Path,qi.pointer--)}break;case qe.ParserState.RelativeSlash:if(!ai(Si)||qi.c()!=="/"&&qi.c()!=="\\")if(qi.c()==="/")sn=qe.ParserState.Authority;else{if(Ci===null)throw new Error("Invalid parser state. Base URL is null.");Si.username=Ci.username,Si.password=Ci.password,Si.host=Ci.host,Si.port=Ci.port,sn=qe.ParserState.Path,qi.pointer--}else qi.c()==="\\"&&St("Invalid input string."),sn=qe.ParserState.SpecialAuthorityIgnoreSlashes;break;case qe.ParserState.SpecialAuthoritySlashes:qi.c()==="/"&&qi.remaining().startsWith("/")?(sn=qe.ParserState.SpecialAuthorityIgnoreSlashes,qi.pointer++):(St("Expected '//'."),sn=qe.ParserState.SpecialAuthorityIgnoreSlashes,qi.pointer--);break;case qe.ParserState.SpecialAuthorityIgnoreSlashes:qi.c()!=="/"&&qi.c()!=="\\"?(sn=qe.ParserState.Authority,qi.pointer--):St("Unexpected '/' or '\\'.");break;case qe.ParserState.Authority:if(qi.c()==="@"){St("Unexpected '@'."),Cn&&(Ni="%40"+Ni),Cn=!0;try{for(var an=(Ki=void 0,je(Ni)),yn=an.next();!yn.done;yn=an.next()){var bn=yn.value;if(bn!==":"||fn){var Sn=Xi(bn,ri);fn?Si.password+=Sn:Si.username+=Sn}else fn=!0}}catch(Jn){Ki={error:Jn}}finally{try{yn&&!yn.done&&(Ui=an.return)&&Ui.call(an)}finally{if(Ki)throw Ki.error}}Ni=""}else if(qi.c()===""||qi.c()==="/"||qi.c()==="?"||qi.c()==="#"||ai(Si)&&qi.c()==="\\"){if(Cn&&Ni==="")return St("Invalid input string."),null;qi.pointer-=Ni.length+1,Ni="",sn=qe.ParserState.Host}else Ni+=qi.c();break;case qe.ParserState.Host:case qe.ParserState.Hostname:if(zi!==void 0&&Si.scheme==="file")qi.pointer--,sn=qe.ParserState.FileHost;else if(qi.c()!==":"||cn)if(qi.c()===""||qi.c()==="/"||qi.c()==="?"||qi.c()==="#"||ai(Si)&&qi.c()==="\\"){if(qi.pointer--,ai(Si)&&Ni==="")return St("Invalid input string."),null;if(zi!==void 0&&Ni===""&&(hi(Si)||Si.port!==null))return St("Invalid input string."),Si;if((kn=Di(Ni,!ai(Si)))===null)return null;if(Si.host=kn,Ni="",sn=qe.ParserState.PathStart,zi!==void 0)return Si}else qi.c()==="["&&(cn=!0),qi.c()==="]"&&(cn=!1),Ni+=qi.c();else{if(Ni==="")return St("Invalid input string."),null;if((kn=Di(Ni,!ai(Si)))===null)return null;if(Si.host=kn,Ni="",sn=qe.ParserState.Port,zi===qe.ParserState.Hostname)return Si}break;case qe.ParserState.Port:if(Ke.codePoint.ASCIIDigit.test(qi.c()))Ni+=qi.c();else{if(!(qi.c()===""||qi.c()==="/"||qi.c()==="?"||qi.c()==="#"||ai(Si)&&qi.c()==="\\"||zi))return St("Invalid input string."),null;if(Ni!==""&&Ni!==""){var Fn=parseInt(Ni,10);if(Fn>Math.pow(2,16)-1)return St("Invalid port number."),null;Si.port=Fn===ui(Si.scheme)?null:Fn,Ni=""}if(zi!==void 0)return Si;sn=qe.ParserState.PathStart,qi.pointer--}break;case qe.ParserState.File:if(Si.scheme="file",qi.c()==="/"||qi.c()==="\\")qi.c()==="\\"&&St("Invalid input string."),sn=qe.ParserState.FileSlash;else if(Ci!==null&&Ci.scheme==="file")switch(qi.c()){case"":Si.host=Ci.host,Si.path=Ke.list.clone(Ci.path),Si.query=Ci.query;break;case"?":Si.host=Ci.host,Si.path=Ke.list.clone(Ci.path),Si.query="",sn=qe.ParserState.Query;break;case"#":Si.host=Ci.host,Si.path=Ke.list.clone(Ci.path),Si.query=Ci.query,Si.fragment="",sn=qe.ParserState.Fragment;break;default:Mi(qi.substring())?St("Unexpected windows drive letter in input string."):(Si.host=Ci.host,Si.path=Ke.list.clone(Ci.path),Ai(Si)),sn=qe.ParserState.Path,qi.pointer--}else sn=qe.ParserState.Path,qi.pointer--;break;case qe.ParserState.FileSlash:qi.c()==="/"||qi.c()==="\\"?(qi.c()==="\\"&&St("Invalid input string."),sn=qe.ParserState.FileHost):(Ci===null||Ci.scheme!=="file"||Mi(qi.substring())||(ki(Ci.path[0])?Si.path.push(Ci.path[0]):Si.host=Ci.host),sn=qe.ParserState.Path,qi.pointer--);break;case qe.ParserState.FileHost:if(qi.c()===""||qi.c()==="/"||qi.c()==="\\"||qi.c()==="?"||qi.c()==="#")if(qi.pointer--,zi===void 0&&vi(Ni))St("Unexpected windows drive letter in input string."),sn=qe.ParserState.Path;else if(Ni===""){if(Si.host="",zi!==void 0)return Si;sn=qe.ParserState.PathStart}else{var kn;if((kn=Di(Ni,!ai(Si)))===null)return null;if(kn==="localhost"&&(kn=""),Si.host=kn,zi!==void 0)return Si;Ni="",sn=qe.ParserState.PathStart}else Ni+=qi.c();break;case qe.ParserState.PathStart:ai(Si)?(qi.c()==="\\"&&St("Invalid input string."),sn=qe.ParserState.Path,qi.c()!=="/"&&qi.c()!=="\\"&&qi.pointer--):zi===void 0&&qi.c()==="?"?(Si.query="",sn=qe.ParserState.Query):zi===void 0&&qi.c()==="#"?(Si.fragment="",sn=qe.ParserState.Fragment):qi.c()!==""&&(sn=qe.ParserState.Path,qi.c()!=="/"&&qi.pointer--);break;case qe.ParserState.Path:if(qi.c()===""||qi.c()==="/"||ai(Si)&&qi.c()==="\\"||zi===void 0&&(qi.c()==="?"||qi.c()==="#")){if(ai(Si)&&qi.c()==="\\"&&St("Invalid input string."),_i(Ni))Ai(Si),qi.c()==="/"||ai(Si)&&qi.c()==="\\"||Si.path.push("");else if(!gi(Ni)||qi.c()==="/"||ai(Si)&&qi.c()==="\\"){if(!gi(Ni)){if(Si.scheme==="file"&&Si.path.length===0&&vi(Ni)){Si.host!==null&&Si.host!==""&&(St("Invalid input string."),Si.host="");var Nn=Array.from(Ni);Ni=Nn.slice(0,1)+":"+Nn.slice(2)}Si.path.push(Ni)}}else Si.path.push("");if(Ni="",Si.scheme==="file"&&(qi.c()===""||qi.c()==="?"||qi.c()==="#"))for(;Si.path.length>1&&Si.path[0]==="";)St("Invalid input string."),Si.path.splice(0,1);qi.c()==="?"&&(Si.query="",sn=qe.ParserState.Query),qi.c()==="#"&&(Si.fragment="",sn=qe.ParserState.Fragment)}else ii.test(qi.c())||qi.c()==="%"||St("Character is not a URL code point or a percent encoded character."),qi.c()!=="%"||/^[0-9a-fA-F][0-9a-fA-F]/.test(qi.remaining())||St("Percent encoded character must be followed by two hex digits."),Ni+=Xi(qi.c(),ni);break;case qe.ParserState.CannotBeABaseURLPath:qi.c()==="?"?(Si.query="",sn=qe.ParserState.Query):qi.c()==="#"?(Si.fragment="",sn=qe.ParserState.Fragment):(qi.c()===""||ii.test(qi.c())||qi.c()==="%"||St("Character is not a URL code point or a percent encoded character."),qi.c()!=="%"||/^[0-9a-fA-F][0-9a-fA-F]/.test(qi.remaining())||St("Percent encoded character must be followed by two hex digits."),qi.c()!==""&&(Si.path[0]+=Xi(qi.c(),Qe)));break;case qe.ParserState.Query:if(vn==="UTF-8"||ai(Si)&&Si.scheme!=="ws"&&Si.scheme!=="wss"||(vn="UTF-8"),zi===void 0&&qi.c()==="#")Si.fragment="",sn=qe.ParserState.Fragment;else if(qi.c()!==""){if(ii.test(qi.c())||qi.c()==="%"||St("Character is not a URL code point or a percent encoded character."),qi.c()!=="%"||/^[0-9a-fA-F][0-9a-fA-F]/.test(qi.remaining())||St("Percent encoded character must be followed by two hex digits."),vn.toUpperCase()!=="UTF-8")throw new Error("Only UTF-8 encoding is supported.");var Hn=We.utf8Encode(qi.c());if(Hn.length>=3&&Hn[0]===38&&Hn[1]===35&&Hn[Hn.length-1]===59)Hn=Hn.subarray(2,Hn.length-1),Si.query+="%26%23"+Ke.byteSequence.isomorphicDecode(Hn)+"%3B";else try{for(var Yn=(Ji=void 0,je(Hn)),tr=Yn.next();!tr.done;tr=Yn.next()){var qn=tr.value;qn<33||qn>126||qn===34||qn===35||qn===60||qn===62||qn===39&&ai(Si)?Si.query+=ji(qn):Si.query+=String.fromCharCode(qn)}}catch(Jn){Ji={error:Jn}}finally{try{tr&&!tr.done&&(gn=Yn.return)&&gn.call(Yn)}finally{if(Ji)throw Ji.error}}}break;case qe.ParserState.Fragment:qi.c()===""||(qi.c()==="\0"?St("NULL character in input string."):(ii.test(qi.c())||qi.c()==="%"||St("Unexpected character in fragment string."),qi.c()!=="%"||/^[A-Za-z0-9][A-Za-z0-9]/.test(qi.remaining())||St("Unexpected character in fragment string."),Si.fragment+=Xi(qi.c(),ti)))}if(qi.eof)break;qi.pointer++}return Si}function gi(bi){return bi==="."||bi.toLowerCase()==="%2e"}function _i(bi){var Ci=bi.toLowerCase();return Ci===".."||Ci===".%2e"||Ci==="%2e."||Ci==="%2e%2e"}function Ai(bi){var Ci=bi.path;Ci.length!==0&&(bi.scheme==="file"&&Ci.length===1&&ki(Ci[0])||bi.path.splice(bi.path.length-1,1))}function ki(bi){return bi.length>=2&&Ke.codePoint.ASCIIAlpha.test(bi[0])&&bi[1]===":"}function vi(bi){return bi.length>=2&&Ke.codePoint.ASCIIAlpha.test(bi[0])&&(bi[1]===":"||bi[1]==="|")}function Mi(bi){return bi.length>=2&&vi(bi)&&(bi.length===2||bi[2]==="/"||bi[2]==="\\"||bi[2]==="?"||bi[2]==="#")}function Di(bi,Ci){if(Ci===void 0&&(Ci=!1),bi.startsWith("["))return bi.endsWith("]")?Fi(bi.substring(1,bi.length-1)):(St("Expected ']' after '['."),null);if(Ci)return Vi(bi);var Ei=$i(We.utf8Decode(Yi(bi)));if(Ei===null||ei.test(Ei))return St("Invalid domain."),null;var Si=Pi(Ei);return Si===null||We.isNumber(Si)?Si:Ei}function Bi(bi,Ci){Ci===void 0&&(Ci={value:!1});var Ei=10;return bi.startsWith("0x")||bi.startsWith("0X")?(Ci.value=!0,bi=bi.substr(2),Ei=16):bi.length>=2&&bi[0]==="0"&&(Ci.value=!0,bi=bi.substr(1),Ei=8),bi===""?0:(Ei===10?/^[0-9]+$/:Ei===16?/^[0-9A-Fa-f]+$/:/^[0-7]+$/).test(bi)?parseInt(bi,Ei):null}function Pi(bi){var Ci,Ei,Si,zi,Ki={value:!1},Ui=bi.split(".");if(Ui[Ui.length-1]===""&&(Ki.value=!0,Ui.length>1&&Ui.pop()),Ui.length>4)return bi;var Ji=[];try{for(var gn=je(Ui),hn=gn.next();!hn.done;hn=gn.next()){var un=hn.value;if(un===""||(cn=Bi(un,Ki))===null)return bi;Ji.push(cn)}}catch(fn){Ci={error:fn}}finally{try{hn&&!hn.done&&(Ei=gn.return)&&Ei.call(gn)}finally{if(Ci)throw Ci.error}}Ki.value&&St("Invalid IP v4 address.");for(var Mn=0;Mn<Ji.length;Mn++)if(Ji[Mn]>255&&(St("Invalid IP v4 address."),Mn<Ji.length-1))return null;if(Ji[Ji.length-1]>=Math.pow(256,5-Ji.length))return St("Invalid IP v4 address."),null;var sn=Ji[Ji.length-1];Ji.pop();var vn=0;try{for(var Ni=je(Ji),Cn=Ni.next();!Cn.done;Cn=Ni.next()){var cn;sn+=(cn=Cn.value)*Math.pow(256,3-vn),vn++}}catch(fn){Si={error:fn}}finally{try{Cn&&!Cn.done&&(zi=Ni.return)&&zi.call(Ni)}finally{if(Si)throw Si.error}}return sn}function Fi(bi){var Ci,Ei=[0,0,0,0,0,0,0,0],Si=0,zi=null,Ki=new We.StringWalker(bi);if(Ki.c()===":"){if(!Ki.remaining().startsWith(":"))return St("Invalid IP v6 address."),null;Ki.pointer+=2,zi=Si+=1}for(;Ki.c()!=="";){if(Si===8)return St("Invalid IP v6 address."),null;if(Ki.c()!==":"){for(var Ui=0,Ji=0;Ji<4&&Ke.codePoint.ASCIIHexDigit.test(Ki.c());)Ui=16*Ui+parseInt(Ki.c(),16),Ki.pointer++,Ji++;if(Ki.c()==="."){if(Ji===0||(Ki.pointer-=Ji,Si>6))return St("Invalid IP v6 address."),null;for(var gn=0;Ki.c()!=="";){var hn=null;if(gn>0){if(!(Ki.c()==="."&&gn<4))return St("Invalid IP v6 address."),null;Ki.pointer++}if(!Ke.codePoint.ASCIIDigit.test(Ki.c()))return St("Invalid IP v6 address."),null;for(;Ke.codePoint.ASCIIDigit.test(Ki.c());){var un=parseInt(Ki.c(),10);if(hn===null)hn=un;else{if(hn===0)return St("Invalid IP v6 address."),null;hn=10*hn+un}if(hn>255)return St("Invalid IP v6 address."),null;Ki.pointer++}if(hn===null)return St("Invalid IP v6 address."),null;Ei[Si]=256*Ei[Si]+hn,++gn!==2&&gn!==4||Si++}if(gn!==4)return St("Invalid IP v6 address."),null;break}if(Ki.c()===":"){if(Ki.pointer++,Ki.c()==="")return St("Invalid IP v6 address."),null}else if(Ki.c()!=="")return St("Invalid IP v6 address."),null;Ei[Si]=Ui,Si++}else{if(zi!==null)return St("Invalid IP v6 address."),null;Ki.pointer++,zi=++Si}}if(zi!==null){var Mn=Si-zi;for(Si=7;Si!==0&&Mn>0;)Ci=ze([Ei[zi+Mn-1],Ei[Si]],2),Ei[Si]=Ci[0],Ei[zi+Mn-1]=Ci[1],Si--,Mn--}else if(zi===null&&Si!==8)return St("Invalid IP v6 address."),null;return Ei}function Vi(bi){var Ci,Ei;if(/[\x00\t\f\r #/:?@\[\\\]]/.test(bi))return St("Invalid host string."),null;var Si="";try{for(var zi=je(bi),Ki=zi.next();!Ki.done;Ki=zi.next())Si+=Xi(Ki.value,Qe)}catch(Ui){Ci={error:Ui}}finally{try{Ki&&!Ki.done&&(Ei=zi.return)&&Ei.call(zi)}finally{if(Ci)throw Ci.error}}return Si}function Ti(bi){return null}function ji(bi){return"%"+("00"+bi.toString(16).toUpperCase()).slice(-2)}function Gi(bi){for(var Ci=function(Ji){return Ji>=48&&Ji<=57||Ji>=65&&Ji<=70||Ji>=97&&Ji<=102},Ei=new Uint8Array(bi.length),Si=0,zi=0;zi<bi.length;zi++){var Ki=bi[zi];if(Ki!==37)Ei[Si]=Ki,Si++;else if(Ki===37&&zi>=bi.length-2)Ei[Si]=Ki,Si++;else if(Ki!==37||Ci(bi[zi+1])&&Ci(bi[zi+2])){var Ui=parseInt(We.utf8Decode(Uint8Array.of(bi[zi+1],bi[zi+2])),16);Ei[Si]=Ui,Si++,zi+=2}else Ei[Si]=Ki,Si++}return Ei.subarray(0,Si)}function Yi(bi){return Gi(We.utf8Encode(bi))}function Xi(bi,Ci){var Ei,Si;if(!Ci.test(bi))return bi;var zi=We.utf8Encode(bi),Ki="";try{for(var Ui=je(zi),Ji=Ui.next();!Ji.done;Ji=Ui.next())Ki+=ji(Ji.value)}catch(gn){Ei={error:gn}}finally{try{Ji&&!Ji.done&&(Si=Ui.return)&&Si.call(Ui)}finally{if(Ei)throw Ei.error}}return Ki}function xi(bi){var Ci,Ei,Si,zi,Ki=[],Ui=[];try{for(var Ji=je(bi),gn=Ji.next();!gn.done;gn=Ji.next()){var hn=gn.value;hn===38?(Ki.push(Uint8Array.from(Ui)),Ui=[]):Ui.push(hn)}}catch(yn){Ci={error:yn}}finally{try{gn&&!gn.done&&(Ei=Ji.return)&&Ei.call(Ji)}finally{if(Ci)throw Ci.error}}Ui.length!==0&&Ki.push(Uint8Array.from(Ui));var un=[];try{for(var Mn=je(Ki),sn=Mn.next();!sn.done;sn=Mn.next()){var vn=sn.value;if(vn.length!==0){for(var Ni=vn.indexOf(61),Cn=Ni!==-1?vn.slice(0,Ni):vn,cn=Ni!==-1?vn.slice(Ni+1):new Uint8Array,fn=0;fn<Cn.length;fn++)Cn[fn]===43&&(Cn[fn]=32);for(fn=0;fn<cn.length;fn++)cn[fn]===43&&(cn[fn]=32);var qi=We.utf8Decode(Cn),an=We.utf8Decode(cn);un.push([qi,an])}}}catch(yn){Si={error:yn}}finally{try{sn&&!sn.done&&(zi=Mn.return)&&zi.call(Mn)}finally{if(Si)throw Si.error}}return un}function fi(bi){var Ci,Ei,Si="";try{for(var zi=je(bi),Ki=zi.next();!Ki.done;Ki=zi.next()){var Ui=Ki.value;Si+=Ui===32?"+":Ui===42||Ui===45||Ui===46||Ui>=48&&Ui<=57||Ui>=65&&Ui<=90||Ui===95||Ui>=97&&Ui<=122?String.fromCodePoint(Ui):ji(Ui)}}catch(Ji){Ci={error:Ji}}finally{try{Ki&&!Ki.done&&(Ei=zi.return)&&Ei.call(zi)}finally{if(Ci)throw Ci.error}}return Si}function $i(bi,Ci){var Ei=Ze.domainToASCII(bi);return Ei===""?(St("Invalid domain name."),null):Ei}r.setValidationErrorCallback=function(bi){Xe=bi},r.newURL=oi,r.isSpecialScheme=si,r.isSpecial=ai,r.defaultPort=ui,r.includesCredentials=hi,r.cannotHaveAUsernamePasswordPort=function(bi){return bi.host===null||bi.host===""||bi._cannotBeABaseURLFlag||bi.scheme==="file"},r.urlSerializer=ci,r.hostSerializer=mi,r.iPv4Serializer=di,r.iPv6Serializer=pi,r.urlParser=function(bi,Ci,Ei){var Si=yi(bi,Ci,Ei);return Si===null?null:(Si.scheme!=="blob"||(Si._blobURLEntry=null),Si)},r.basicURLParser=yi,r.setTheUsername=function(bi,Ci){var Ei,Si,zi="";try{for(var Ki=je(Ci),Ui=Ki.next();!Ui.done;Ui=Ki.next())zi+=Xi(Ui.value,ri)}catch(Ji){Ei={error:Ji}}finally{try{Ui&&!Ui.done&&(Si=Ki.return)&&Si.call(Ki)}finally{if(Ei)throw Ei.error}}bi.username=zi},r.setThePassword=function(bi,Ci){var Ei,Si,zi="";try{for(var Ki=je(Ci),Ui=Ki.next();!Ui.done;Ui=Ki.next())zi+=Xi(Ui.value,ri)}catch(Ji){Ei={error:Ji}}finally{try{Ui&&!Ui.done&&(Si=Ki.return)&&Si.call(Ki)}finally{if(Ei)throw Ei.error}}bi.password=zi},r.isSingleDotPathSegment=gi,r.isDoubleDotPathSegment=_i,r.shorten=Ai,r.isNormalizedWindowsDriveLetter=ki,r.isWindowsDriveLetter=vi,r.startsWithAWindowsDriveLetter=Mi,r.hostParser=Di,r.iPv4NumberParser=Bi,r.iPv4Parser=Pi,r.iPv6Parser=Fi,r.opaqueHostParser=Vi,r.resolveABlobURL=Ti,r.percentEncode=ji,r.percentDecode=Gi,r.stringPercentDecode=Yi,r.utf8PercentEncode=Xi,r.hostEquals=function(bi,Ci){return bi===Ci},r.urlEquals=function(bi,Ci,Ei){return Ei===void 0&&(Ei=!1),ci(bi,Ei)===ci(Ci,Ei)},r.urlEncodedStringParser=function(bi){return xi(We.utf8Encode(bi))},r.urlEncodedParser=xi,r.urlEncodedByteSerializer=fi,r.urlEncodedSerializer=function(bi,Ci){var Ei,Si;if((Ci===void 0||Ci==="replacement"||Ci==="UTF-16BE"||Ci==="UTF-16LE"?"UTF-8":Ci).toUpperCase()!=="UTF-8")throw new Error("Only UTF-8 encoding is supported.");var zi="";try{for(var Ki=je(bi),Ui=Ki.next();!Ui.done;Ui=Ki.next()){var Ji=Ui.value,gn=fi(We.utf8Encode(Ji[0])),hn=Ji[1];hn=fi(We.utf8Encode(hn)),zi!==""&&(zi+="&"),zi+=gn+"="+hn}}catch(un){Ei={error:un}}finally{try{Ui&&!Ui.done&&(Si=Ki.return)&&Si.call(Ki)}finally{if(Ei)throw Ei.error}}return zi},r.origin=function bi(Ci){switch(Ci.scheme){case"blob":Ci._blobURLEntry;var Ei=yi(Ci.path[0]);return Ei===null?qe.OpaqueOrigin:bi(Ei);case"ftp":case"http":case"https":case"ws":case"wss":return[Ci.scheme,Ci.host===null?"":Ci.host,Ci.port,null];case"file":default:return qe.OpaqueOrigin}},r.domainToASCII=$i,r.domainToUnicode=function(bi,Ci){var Ei=Ze.domainToUnicode(bi);return Ei===""&&St("Invalid domain name."),Ei},r.asciiSerializationOfAnOrigin=function(bi){if(bi[0]===""&&bi[1]===""&&bi[2]===null&&bi[3]===null)return"null";var Ci=bi[0]+"://"+mi(bi[1]);return bi[2]!==null&&(Ci+=":"+bi[2].toString()),Ci}},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(0),ze=function(){function Xe(){this._signal=je.create_abortSignal()}return Object.defineProperty(Xe.prototype,"signal",{get:function(){return this._signal},enumerable:!0,configurable:!0}),Xe.prototype.abort=function(){je.abort_signalAbort(this._signal)},Xe}();r.AbortControllerImpl=ze},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(Ke,Ze){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Je,Qe){Je.__proto__=Qe}||function(Je,Qe){for(var ti in Qe)Qe.hasOwnProperty(ti)&&(Je[ti]=Qe[ti])})(Ke,Ze)},function(Ke,Ze){function Je(){this.constructor=Ke}je(Ke,Ze),Ke.prototype=Ze===null?Object.create(Ze):(Je.prototype=Ze.prototype,new Je)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(70),We=Ve(0),qe=function(Ke){function Ze(){var Je=Ke.call(this)||this;return Je._abortedFlag=!1,Je._abortAlgorithms=new Set,Je}return ze(Ze,Ke),Object.defineProperty(Ze.prototype,"aborted",{get:function(){return this._abortedFlag},enumerable:!0,configurable:!0}),Object.defineProperty(Ze.prototype,"onabort",{get:function(){return We.event_getterEventHandlerIDLAttribute(this,"onabort")},set:function(Je){We.event_setterEventHandlerIDLAttribute(this,"onabort",Je)},enumerable:!0,configurable:!0}),Ze._create=function(){return new Ze},Ze}(Xe.EventTargetImpl);r.AbortSignalImpl=qe},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(Ze,Je){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Qe,ti){Qe.__proto__=ti}||function(Qe,ti){for(var ni in ti)ti.hasOwnProperty(ni)&&(Qe[ni]=ti[ni])})(Ze,Je)},function(Ze,Je){function Qe(){this.constructor=Ze}je(Ze,Je),Ze.prototype=Je===null?Object.create(Je):(Qe.prototype=Je.prototype,new Qe)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(1),We=Ve(34),qe=Ve(12),Ke=function(Ze){function Je(Qe,ti,ni){var ri=Ze.call(this)||this;return ri._name="",ri._publicId="",ri._systemId="",ri._name=Qe,ri._publicId=ti,ri._systemId=ni,ri}return ze(Je,Ze),Object.defineProperty(Je.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(Je.prototype,"publicId",{get:function(){return this._publicId},enumerable:!0,configurable:!0}),Object.defineProperty(Je.prototype,"systemId",{get:function(){return this._systemId},enumerable:!0,configurable:!0}),Je.prototype.before=function(){for(var Qe=[],ti=0;ti<arguments.length;ti++)Qe[ti]=arguments[ti];throw new Error("Mixin: ChildNode not implemented.")},Je.prototype.after=function(){for(var Qe=[],ti=0;ti<arguments.length;ti++)Qe[ti]=arguments[ti];throw new Error("Mixin: ChildNode not implemented.")},Je.prototype.replaceWith=function(){for(var Qe=[],ti=0;ti<arguments.length;ti++)Qe[ti]=arguments[ti];throw new Error("Mixin: ChildNode not implemented.")},Je.prototype.remove=function(){throw new Error("Mixin: ChildNode not implemented.")},Je._create=function(Qe,ti,ni,ri){ni===void 0&&(ni=""),ri===void 0&&(ri="");var ii=new Je(ti,ni,ri);return ii._nodeDocument=Qe,ii},Je}(We.NodeImpl);r.DocumentTypeImpl=Ke,qe.idl_defineConst(Ke.prototype,"_nodeType",Xe.NodeType.DocumentType)},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(Ze,Je){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Qe,ti){Qe.__proto__=ti}||function(Qe,ti){for(var ni in ti)ti.hasOwnProperty(ni)&&(Qe[ni]=ti[ni])})(Ze,Je)},function(Ze,Je){function Qe(){this.constructor=Ze}je(Ze,Je),Ze.prototype=Je===null?Object.create(Je):(Qe.prototype=Je.prototype,new Qe)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(100),We=Ve(2),qe=Ve(0),Ke=function(Ze){function Je(Qe,ti){var ni=Ze.call(this)||this;return ni._host=Qe,ni._mode=ti,ni}return ze(Je,Ze),Object.defineProperty(Je.prototype,"mode",{get:function(){return this._mode},enumerable:!0,configurable:!0}),Object.defineProperty(Je.prototype,"host",{get:function(){return this._host},enumerable:!0,configurable:!0}),Je.prototype._getTheParent=function(Qe){return Qe._composedFlag||We.isEmpty(Qe._path)||qe.tree_rootNode(Qe._path[0].invocationTarget)!==this?this._host:null},Je._create=function(Qe,ti){return new Je(ti,"closed")},Je}(Xe.DocumentFragmentImpl);r.ShadowRootImpl=Ke},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(Je,Qe){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ti,ni){ti.__proto__=ni}||function(ti,ni){for(var ri in ni)ni.hasOwnProperty(ri)&&(ti[ri]=ni[ri])})(Je,Qe)},function(Je,Qe){function ti(){this.constructor=Je}je(Je,Qe),Je.prototype=Qe===null?Object.create(Qe):(ti.prototype=Qe.prototype,new ti)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(1),We=Ve(34),qe=Ve(0),Ke=Ve(12),Ze=function(Je){function Qe(ti){var ni=Je.call(this)||this;return ni._namespace=null,ni._namespacePrefix=null,ni._element=null,ni._value="",ni._localName=ti,ni}return ze(Qe,Je),Object.defineProperty(Qe.prototype,"ownerElement",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(Qe.prototype,"namespaceURI",{get:function(){return this._namespace},enumerable:!0,configurable:!0}),Object.defineProperty(Qe.prototype,"prefix",{get:function(){return this._namespacePrefix},enumerable:!0,configurable:!0}),Object.defineProperty(Qe.prototype,"localName",{get:function(){return this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(Qe.prototype,"name",{get:function(){return this._qualifiedName},enumerable:!0,configurable:!0}),Object.defineProperty(Qe.prototype,"value",{get:function(){return this._value},set:function(ti){qe.attr_setAnExistingAttributeValue(this,ti)},enumerable:!0,configurable:!0}),Object.defineProperty(Qe.prototype,"_qualifiedName",{get:function(){return this._namespacePrefix!==null?this._namespacePrefix+":"+this._localName:this._localName},enumerable:!0,configurable:!0}),Qe._create=function(ti,ni){var ri=new Qe(ni);return ri._nodeDocument=ti,ri},Qe}(We.NodeImpl);r.AttrImpl=Ze,Ke.idl_defineConst(Ze.prototype,"_nodeType",Xe.NodeType.Attribute),Ke.idl_defineConst(Ze.prototype,"specified",!0)},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(Ze,Je){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Qe,ti){Qe.__proto__=ti}||function(Qe,ti){for(var ni in ti)ti.hasOwnProperty(ni)&&(Qe[ni]=ti[ni])})(Ze,Je)},function(Ze,Je){function Qe(){this.constructor=Ze}je(Ze,Je),Ze.prototype=Je===null?Object.create(Je):(Qe.prototype=Je.prototype,new Qe)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(101),We=Ve(1),qe=Ve(12),Ke=function(Ze){function Je(Qe){return Ze.call(this,Qe)||this}return ze(Je,Ze),Je._create=function(Qe,ti){ti===void 0&&(ti="");var ni=new Je(ti);return ni._nodeDocument=Qe,ni},Je}(Xe.TextImpl);r.CDATASectionImpl=Ke,qe.idl_defineConst(Ke.prototype,"_nodeType",We.NodeType.CData)},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(Ze,Je){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Qe,ti){Qe.__proto__=ti}||function(Qe,ti){for(var ni in ti)ti.hasOwnProperty(ni)&&(Qe[ni]=ti[ni])})(Ze,Je)},function(Ze,Je){function Qe(){this.constructor=Ze}je(Ze,Je),Ze.prototype=Je===null?Object.create(Je):(Qe.prototype=Je.prototype,new Qe)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(1),We=Ve(71),qe=Ve(12),Ke=function(Ze){function Je(Qe){return Qe===void 0&&(Qe=""),Ze.call(this,Qe)||this}return ze(Je,Ze),Je._create=function(Qe,ti){ti===void 0&&(ti="");var ni=new Je(ti);return ni._nodeDocument=Qe,ni},Je}(We.CharacterDataImpl);r.CommentImpl=Ke,qe.idl_defineConst(Ke.prototype,"_nodeType",Xe.NodeType.Comment)},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(Ze,Je){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Qe,ti){Qe.__proto__=ti}||function(Qe,ti){for(var ni in ti)ti.hasOwnProperty(ni)&&(Qe[ni]=ti[ni])})(Ze,Je)},function(Ze,Je){function Qe(){this.constructor=Ze}je(Ze,Je),Ze.prototype=Je===null?Object.create(Je):(Qe.prototype=Je.prototype,new Qe)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(1),We=Ve(71),qe=Ve(12),Ke=function(Ze){function Je(Qe,ti){var ni=Ze.call(this,ti)||this;return ni._target=Qe,ni}return ze(Je,Ze),Object.defineProperty(Je.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Je._create=function(Qe,ti,ni){var ri=new Je(ti,ni);return ri._nodeDocument=Qe,ri},Je}(We.CharacterDataImpl);r.ProcessingInstructionImpl=Ke,qe.idl_defineConst(Ke.prototype,"_nodeType",Xe.NodeType.ProcessingInstruction)},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(7),ze=Ve(0),Xe=Ve(3),We=Ve(2),qe=function(){function Ke(Ze,Je){return this._live=!0,this._root=Ze,this._filter=Je,new Proxy(this,this)}return Object.defineProperty(Ke.prototype,"length",{get:function(){for(var Ze=this,Je=0,Qe=ze.tree_getFirstDescendantNode(this._root,!1,!1,function(ti){return Xe.Guard.isElementNode(ti)&&Ze._filter(ti)});Qe!==null;)Je++,Qe=ze.tree_getNextDescendantNode(this._root,Qe,!1,!1,function(ti){return Xe.Guard.isElementNode(ti)&&Ze._filter(ti)});return Je},enumerable:!0,configurable:!0}),Ke.prototype.item=function(Ze){for(var Je=this,Qe=0,ti=ze.tree_getFirstDescendantNode(this._root,!1,!1,function(ni){return Xe.Guard.isElementNode(ni)&&Je._filter(ni)});ti!==null;){if(Qe===Ze)return ti;Qe++,ti=ze.tree_getNextDescendantNode(this._root,ti,!1,!1,function(ni){return Xe.Guard.isElementNode(ni)&&Je._filter(ni)})}return null},Ke.prototype.namedItem=function(Ze){var Je=this;if(Ze==="")return null;for(var Qe=ze.tree_getFirstDescendantNode(this._root,!1,!1,function(ri){return Xe.Guard.isElementNode(ri)&&Je._filter(ri)});Qe!=null;){if(Qe._uniqueIdentifier===Ze)return Qe;if(Qe._namespace===je.namespace.HTML)for(var ti=0;ti<Qe._attributeList.length;ti++){var ni=Qe._attributeList[ti];if(ni._localName==="name"&&ni._namespace===null&&ni._namespacePrefix===null&&ni._value===Ze)return Qe}Qe=ze.tree_getNextDescendantNode(this._root,Qe,!1,!1,function(ri){return Xe.Guard.isElementNode(ri)&&Je._filter(ri)})}return null},Ke.prototype[Symbol.iterator]=function(){var Ze=this._root,Je=this._filter,Qe=ze.tree_getFirstDescendantNode(Ze,!1,!1,function(ti){return Xe.Guard.isElementNode(ti)&&Je(ti)});return{next:function(){if(Qe===null)return{done:!0,value:null};var ti={done:!1,value:Qe};return Qe=ze.tree_getNextDescendantNode(Ze,Qe,!1,!1,function(ni){return Xe.Guard.isElementNode(ni)&&Je(ni)}),ti}}},Ke.prototype.get=function(Ze,Je,Qe){if(!We.isString(Je)||Ke.reservedNames.indexOf(Je)!==-1)return Reflect.get(Ze,Je,Qe);var ti=Number(Je);return isNaN(ti)?Ze.namedItem(Je)||void 0:Ze.item(ti)||void 0},Ke.prototype.set=function(Ze,Je,Qe,ti){if(!We.isString(Je)||Ke.reservedNames.indexOf(Je)!==-1)return Reflect.set(Ze,Je,Qe,ti);var ni=Number(Je),ri=isNaN(ni)?Ze.namedItem(Je)||void 0:Ze.item(ni)||void 0;return!(!ri||!ri._parent)&&(ze.mutation_replace(ri,Qe,ri._parent),!0)},Ke._create=function(Ze,Je){return Je===void 0&&(Je=function(){return!0}),new Ke(Ze,Je)},Ke.reservedNames=["_root","_live","_filter","length","item","namedItem","get","set"],Ke}();r.HTMLCollectionImpl=qe},function(t,r,Ve){var je=this&&this.__values||function(Ke){var Ze=typeof Symbol=="function"&&Symbol.iterator,Je=Ze&&Ke[Ze],Qe=0;if(Je)return Je.call(Ke);if(Ke&&typeof Ke.length=="number")return{next:function(){return Ke&&Qe>=Ke.length&&(Ke=void 0),{value:Ke&&Ke[Qe++],done:!Ke}}};throw new TypeError(Ze?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var ze=Ve(6),Xe=Ve(2),We=Ve(0),qe=function(){function Ke(Ze){return this._live=!0,this._filter=null,this._length=0,this._root=Ze,new Proxy(this,this)}return Object.defineProperty(Ke.prototype,"length",{get:function(){return this._root._children.size},enumerable:!0,configurable:!0}),Ke.prototype.item=function(Ze){if(Ze<0||Ze>this.length-1)return null;if(Ze<this.length/2){for(var Je=0,Qe=this._root._firstChild;Qe!==null&&Je!==Ze;)Qe=Qe._nextSibling,Je++;return Qe}for(Je=this.length-1,Qe=this._root._lastChild;Qe!==null&&Je!==Ze;)Qe=Qe._previousSibling,Je--;return Qe},Ke.prototype.keys=function(){var Ze;return(Ze={})[Symbol.iterator]=(function(){var Je=0;return{next:(function(){return Je===this.length?{done:!0,value:null}:{done:!1,value:Je++}}).bind(this)}}).bind(this),Ze},Ke.prototype.values=function(){var Ze;return(Ze={})[Symbol.iterator]=(function(){var Je=this[Symbol.iterator]();return{next:function(){return Je.next()}}}).bind(this),Ze},Ke.prototype.entries=function(){var Ze;return(Ze={})[Symbol.iterator]=(function(){var Je=this[Symbol.iterator](),Qe=0;return{next:function(){var ti=Je.next();return ti.done?{done:!0,value:null}:{done:!1,value:[Qe++,ti.value]}}}}).bind(this),Ze},Ke.prototype[Symbol.iterator]=function(){return this._root._children[Symbol.iterator]()},Ke.prototype.forEach=function(Ze,Je){var Qe,ti;Je===void 0&&(Je=ze.dom.window);var ni=0;try{for(var ri=je(this._root._children),ii=ri.next();!ii.done;ii=ri.next()){var ei=ii.value;Ze.call(Je,ei,ni++,this)}}catch(St){Qe={error:St}}finally{try{ii&&!ii.done&&(ti=ri.return)&&ti.call(ri)}finally{if(Qe)throw Qe.error}}},Ke.prototype.get=function(Ze,Je,Qe){if(!Xe.isString(Je))return Reflect.get(Ze,Je,Qe);var ti=Number(Je);return isNaN(ti)?Reflect.get(Ze,Je,Qe):Ze.item(ti)||void 0},Ke.prototype.set=function(Ze,Je,Qe,ti){if(!Xe.isString(Je))return Reflect.set(Ze,Je,Qe,ti);var ni=Number(Je);if(isNaN(ni))return Reflect.set(Ze,Je,Qe,ti);var ri=Ze.item(ni)||void 0;return!!ri&&!!ri._parent&&(We.mutation_replace(ri,Qe,ri._parent),!0)},Ke._create=function(Ze){return new Ke(Ze)},Ke}();r.NodeListImpl=qe},function(t,r,Ve){var je=this&&this.__values||function(qe){var Ke=typeof Symbol=="function"&&Symbol.iterator,Ze=Ke&&qe[Ke],Je=0;if(Ze)return Ze.call(qe);if(qe&&typeof qe.length=="number")return{next:function(){return qe&&Je>=qe.length&&(qe=void 0),{value:qe&&qe[Je++],done:!qe}}};throw new TypeError(Ke?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var ze=Ve(6),Xe=Ve(2),We=function(){function qe(Ke){return this._live=!1,this._items=[],this._length=0,this._root=Ke,this._items=[],this._filter=function(Ze){return!0},new Proxy(this,this)}return Object.defineProperty(qe.prototype,"length",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),qe.prototype.item=function(Ke){return Ke<0||Ke>this.length-1?null:this._items[Ke]},qe.prototype.keys=function(){var Ke;return(Ke={})[Symbol.iterator]=(function(){var Ze=0;return{next:(function(){return Ze===this.length?{done:!0,value:null}:{done:!1,value:Ze++}}).bind(this)}}).bind(this),Ke},qe.prototype.values=function(){var Ke;return(Ke={})[Symbol.iterator]=(function(){var Ze=this[Symbol.iterator]();return{next:function(){return Ze.next()}}}).bind(this),Ke},qe.prototype.entries=function(){var Ke;return(Ke={})[Symbol.iterator]=(function(){var Ze=this[Symbol.iterator](),Je=0;return{next:function(){var Qe=Ze.next();return Qe.done?{done:!0,value:null}:{done:!1,value:[Je++,Qe.value]}}}}).bind(this),Ke},qe.prototype[Symbol.iterator]=function(){var Ke=this._items[Symbol.iterator]();return{next:function(){return Ke.next()}}},qe.prototype.forEach=function(Ke,Ze){var Je,Qe;Ze===void 0&&(Ze=ze.dom.window);var ti=0;try{for(var ni=je(this._items),ri=ni.next();!ri.done;ri=ni.next()){var ii=ri.value;Ke.call(Ze,ii,ti++,this)}}catch(ei){Je={error:ei}}finally{try{ri&&!ri.done&&(Qe=ni.return)&&Qe.call(ni)}finally{if(Je)throw Je.error}}},qe.prototype.get=function(Ke,Ze,Je){if(!Xe.isString(Ze))return Reflect.get(Ke,Ze,Je);var Qe=Number(Ze);return isNaN(Qe)?Reflect.get(Ke,Ze,Je):Ke._items[Qe]||void 0},qe.prototype.set=function(Ke,Ze,Je,Qe){if(!Xe.isString(Ze))return Reflect.set(Ke,Ze,Je,Qe);var ti=Number(Ze);return isNaN(ti)?Reflect.set(Ke,Ze,Je,Qe):ti>=0&&ti<Ke._items.length&&(Ke._items[ti]=Je,!0)},qe._create=function(Ke,Ze){var Je=new qe(Ke);return Je._items=Ze,Je},qe}();r.NodeListStaticImpl=We},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(Ke,Ze){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Je,Qe){Je.__proto__=Qe}||function(Je,Qe){for(var ti in Qe)Qe.hasOwnProperty(ti)&&(Je[ti]=Qe[ti])})(Ke,Ze)},function(Ke,Ze){function Je(){this.constructor=Ke}je(Ke,Ze),Ke.prototype=Ze===null?Object.create(Ze):(Je.prototype=Ze.prototype,new Je)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(9),We=Ve(0),qe=function(Ke){function Ze(Je){var Qe=Ke.call(this)||this;return Qe._element=Je,Object.setPrototypeOf(Qe,Ze.prototype),Qe}return ze(Ze,Ke),Ze.prototype._asArray=function(){return this},Ze.prototype.item=function(Je){return this[Je]||null},Ze.prototype.getNamedItem=function(Je){return We.element_getAnAttributeByName(Je,this._element)},Ze.prototype.getNamedItemNS=function(Je,Qe){return We.element_getAnAttributeByNamespaceAndLocalName(Je||"",Qe,this._element)},Ze.prototype.setNamedItem=function(Je){return We.element_setAnAttribute(Je,this._element)},Ze.prototype.setNamedItemNS=function(Je){return We.element_setAnAttribute(Je,this._element)},Ze.prototype.removeNamedItem=function(Je){var Qe=We.element_removeAnAttributeByName(Je,this._element);if(Qe===null)throw new Xe.NotFoundError;return Qe},Ze.prototype.removeNamedItemNS=function(Je,Qe){var ti=We.element_removeAnAttributeByNamespaceAndLocalName(Je||"",Qe,this._element);if(ti===null)throw new Xe.NotFoundError;return ti},Ze._create=function(Je){return new Ze(Je)},Ze}(Array);r.NamedNodeMapImpl=qe},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(ri,ii){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ei,St){ei.__proto__=St}||function(ei,St){for(var oi in St)St.hasOwnProperty(oi)&&(ei[oi]=St[oi])})(ri,ii)},function(ri,ii){function ei(){this.constructor=ri}je(ri,ii),ri.prototype=ii===null?Object.create(ii):(ei.prototype=ii.prototype,new ei)}),Xe=this&&this.__values||function(ri){var ii=typeof Symbol=="function"&&Symbol.iterator,ei=ii&&ri[ii],St=0;if(ei)return ei.call(ri);if(ri&&typeof ri.length=="number")return{next:function(){return ri&&St>=ri.length&&(ri=void 0),{value:ri&&ri[St++],done:!ri}}};throw new TypeError(ii?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var We=Ve(6),qe=Ve(1),Ke=Ve(102),Ze=Ve(9),Je=Ve(0),Qe=Ve(12),ti=Ve(3),ni=function(ri){function ii(){var ei=ri.call(this)||this,St=We.dom.window._associatedDocument;return ei._start=[St,0],ei._end=[St,0],We.dom.rangeList.add(ei),ei}return ze(ii,ri),Object.defineProperty(ii.prototype,"commonAncestorContainer",{get:function(){for(var ei=this._start[0];!Je.tree_isAncestorOf(this._end[0],ei,!0);){if(ei._parent===null)throw new Error("Parent node  is null.");ei=ei._parent}return ei},enumerable:!0,configurable:!0}),ii.prototype.setStart=function(ei,St){Je.range_setTheStart(this,ei,St)},ii.prototype.setEnd=function(ei,St){Je.range_setTheEnd(this,ei,St)},ii.prototype.setStartBefore=function(ei){var St=ei._parent;if(St===null)throw new Ze.InvalidNodeTypeError;Je.range_setTheStart(this,St,Je.tree_index(ei))},ii.prototype.setStartAfter=function(ei){var St=ei._parent;if(St===null)throw new Ze.InvalidNodeTypeError;Je.range_setTheStart(this,St,Je.tree_index(ei)+1)},ii.prototype.setEndBefore=function(ei){var St=ei._parent;if(St===null)throw new Ze.InvalidNodeTypeError;Je.range_setTheEnd(this,St,Je.tree_index(ei))},ii.prototype.setEndAfter=function(ei){var St=ei._parent;if(St===null)throw new Ze.InvalidNodeTypeError;Je.range_setTheEnd(this,St,Je.tree_index(ei)+1)},ii.prototype.collapse=function(ei){ei?this._end=this._start:this._start=this._end},ii.prototype.selectNode=function(ei){Je.range_select(ei,this)},ii.prototype.selectNodeContents=function(ei){if(ti.Guard.isDocumentTypeNode(ei))throw new Ze.InvalidNodeTypeError;var St=Je.tree_nodeLength(ei);this._start=[ei,0],this._end=[ei,St]},ii.prototype.compareBoundaryPoints=function(ei,St){if(ei!==qe.HowToCompare.StartToStart&&ei!==qe.HowToCompare.StartToEnd&&ei!==qe.HowToCompare.EndToEnd&&ei!==qe.HowToCompare.EndToStart)throw new Ze.NotSupportedError;if(Je.range_root(this)!==Je.range_root(St))throw new Ze.WrongDocumentError;var oi,si;switch(ei){case qe.HowToCompare.StartToStart:oi=this._start,si=St._start;break;case qe.HowToCompare.StartToEnd:oi=this._end,si=St._start;break;case qe.HowToCompare.EndToEnd:oi=this._end,si=St._end;break;case qe.HowToCompare.EndToStart:oi=this._start,si=St._end;break;default:throw new Ze.NotSupportedError}var ai=Je.boundaryPoint_position(oi,si);return ai===qe.BoundaryPosition.Before?-1:ai===qe.BoundaryPosition.After?1:0},ii.prototype.deleteContents=function(){var ei,St,oi,si;if(!Je.range_collapsed(this)){var ai=this._startNode,ui=this._startOffset,hi=this._endNode,ci=this._endOffset;if(ai===hi&&ti.Guard.isCharacterDataNode(ai))Je.characterData_replaceData(ai,ui,ci-ui,"");else{var mi,di,pi=[];try{for(var yi=Xe(Je.range_getContainedNodes(this)),gi=yi.next();!gi.done;gi=yi.next()){var _i=(Mi=gi.value)._parent;_i!==null&&Je.range_isContained(_i,this)||pi.push(Mi)}}catch(Di){ei={error:Di}}finally{try{gi&&!gi.done&&(St=yi.return)&&St.call(yi)}finally{if(ei)throw ei.error}}if(Je.tree_isAncestorOf(hi,ai,!0))mi=ai,di=ui;else{for(var Ai=ai;Ai._parent!==null&&!Je.tree_isAncestorOf(hi,Ai._parent,!0);)Ai=Ai._parent;if(Ai._parent===null)throw new Error("Parent node is null.");mi=Ai._parent,di=Je.tree_index(Ai)+1}ti.Guard.isCharacterDataNode(ai)&&Je.characterData_replaceData(ai,ui,Je.tree_nodeLength(ai)-ui,"");try{for(var ki=Xe(pi),vi=ki.next();!vi.done;vi=ki.next()){var Mi;(Mi=vi.value)._parent&&Je.mutation_remove(Mi,Mi._parent)}}catch(Di){oi={error:Di}}finally{try{vi&&!vi.done&&(si=ki.return)&&si.call(ki)}finally{if(oi)throw oi.error}}ti.Guard.isCharacterDataNode(hi)&&Je.characterData_replaceData(hi,0,ci,""),this._start=[mi,di],this._end=[mi,di]}}},ii.prototype.extractContents=function(){return Je.range_extract(this)},ii.prototype.cloneContents=function(){return Je.range_cloneTheContents(this)},ii.prototype.insertNode=function(ei){return Je.range_insert(ei,this)},ii.prototype.surroundContents=function(ei){var St,oi;try{for(var si=Xe(Je.range_getPartiallyContainedNodes(this)),ai=si.next();!ai.done;ai=si.next()){var ui=ai.value;if(!ti.Guard.isTextNode(ui))throw new Ze.InvalidStateError}}catch(ci){St={error:ci}}finally{try{ai&&!ai.done&&(oi=si.return)&&oi.call(si)}finally{if(St)throw St.error}}if(ti.Guard.isDocumentNode(ei)||ti.Guard.isDocumentTypeNode(ei)||ti.Guard.isDocumentFragmentNode(ei))throw new Ze.InvalidNodeTypeError;var hi=Je.range_extract(this);ei._children.size!==0&&Je.mutation_replaceAll(null,ei),Je.range_insert(ei,this),Je.mutation_append(hi,ei),Je.range_select(ei,this)},ii.prototype.cloneRange=function(){return Je.create_range(this._start,this._end)},ii.prototype.detach=function(){We.dom.rangeList.delete(this)},ii.prototype.isPointInRange=function(ei,St){if(Je.tree_rootNode(ei)!==Je.range_root(this))return!1;if(ti.Guard.isDocumentTypeNode(ei))throw new Ze.InvalidNodeTypeError;if(St>Je.tree_nodeLength(ei))throw new Ze.IndexSizeError;var oi=[ei,St];return Je.boundaryPoint_position(oi,this._start)!==qe.BoundaryPosition.Before&&Je.boundaryPoint_position(oi,this._end)!==qe.BoundaryPosition.After},ii.prototype.comparePoint=function(ei,St){if(Je.tree_rootNode(ei)!==Je.range_root(this))throw new Ze.WrongDocumentError;if(ti.Guard.isDocumentTypeNode(ei))throw new Ze.InvalidNodeTypeError;if(St>Je.tree_nodeLength(ei))throw new Ze.IndexSizeError;var oi=[ei,St];return Je.boundaryPoint_position(oi,this._start)===qe.BoundaryPosition.Before?-1:Je.boundaryPoint_position(oi,this._end)===qe.BoundaryPosition.After?1:0},ii.prototype.intersectsNode=function(ei){if(Je.tree_rootNode(ei)!==Je.range_root(this))return!1;var St=ei._parent;if(St===null)return!0;var oi=Je.tree_index(ei);return Je.boundaryPoint_position([St,oi],this._end)===qe.BoundaryPosition.Before&&Je.boundaryPoint_position([St,oi+1],this._start)===qe.BoundaryPosition.After},ii.prototype.toString=function(){var ei,St,oi="";if(this._startNode===this._endNode&&ti.Guard.isTextNode(this._startNode))return this._startNode._data.substring(this._startOffset,this._endOffset);ti.Guard.isTextNode(this._startNode)&&(oi+=this._startNode._data.substring(this._startOffset));try{for(var si=Xe(Je.range_getContainedNodes(this)),ai=si.next();!ai.done;ai=si.next()){var ui=ai.value;ti.Guard.isTextNode(ui)&&(oi+=ui._data)}}catch(hi){ei={error:hi}}finally{try{ai&&!ai.done&&(St=si.return)&&St.call(si)}finally{if(ei)throw ei.error}}return ti.Guard.isTextNode(this._endNode)&&(oi+=this._endNode._data.substring(0,this._endOffset)),oi},ii._create=function(ei,St){var oi=new ii;return ei&&(oi._start=ei),St&&(oi._end=St),oi},ii.START_TO_START=0,ii.START_TO_END=1,ii.END_TO_END=2,ii.END_TO_START=3,ii}(Ke.AbstractRangeImpl);r.RangeImpl=ni,Qe.idl_defineConst(ni.prototype,"START_TO_START",0),Qe.idl_defineConst(ni.prototype,"START_TO_END",1),Qe.idl_defineConst(ni.prototype,"END_TO_END",2),Qe.idl_defineConst(ni.prototype,"END_TO_START",3)},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(Ke,Ze){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Je,Qe){Je.__proto__=Qe}||function(Je,Qe){for(var ti in Qe)Qe.hasOwnProperty(ti)&&(Je[ti]=Qe[ti])})(Ke,Ze)},function(Ke,Ze){function Je(){this.constructor=Ke}je(Ke,Ze),Ke.prototype=Ze===null?Object.create(Ze):(Je.prototype=Ze.prototype,new Je)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(103),We=Ve(0),qe=function(Ke){function Ze(Je,Qe,ti){var ni=Ke.call(this,Je)||this;return ni._iteratorCollection=void 0,ni._reference=Qe,ni._pointerBeforeReference=ti,We.nodeIterator_iteratorList().add(ni),ni}return ze(Ze,Ke),Object.defineProperty(Ze.prototype,"referenceNode",{get:function(){return this._reference},enumerable:!0,configurable:!0}),Object.defineProperty(Ze.prototype,"pointerBeforeReferenceNode",{get:function(){return this._pointerBeforeReference},enumerable:!0,configurable:!0}),Ze.prototype.nextNode=function(){return We.nodeIterator_traverse(this,!0)},Ze.prototype.previousNode=function(){return We.nodeIterator_traverse(this,!1)},Ze.prototype.detach=function(){We.nodeIterator_iteratorList().delete(this)},Ze._create=function(Je,Qe,ti){return new Ze(Je,Qe,ti)},Ze}(Xe.TraverserImpl);r.NodeIteratorImpl=qe},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(Ze,Je){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Qe,ti){Qe.__proto__=ti}||function(Qe,ti){for(var ni in ti)ti.hasOwnProperty(ni)&&(Qe[ni]=ti[ni])})(Ze,Je)},function(Ze,Je){function Qe(){this.constructor=Ze}je(Ze,Je),Ze.prototype=Je===null?Object.create(Je):(Qe.prototype=Je.prototype,new Qe)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(1),We=Ve(103),qe=Ve(0),Ke=function(Ze){function Je(Qe,ti){var ni=Ze.call(this,Qe)||this;return ni._current=ti,ni}return ze(Je,Ze),Object.defineProperty(Je.prototype,"currentNode",{get:function(){return this._current},set:function(Qe){this._current=Qe},enumerable:!0,configurable:!0}),Je.prototype.parentNode=function(){for(var Qe=this._current;Qe!==null&&Qe!==this._root;)if((Qe=Qe._parent)!==null&&qe.traversal_filter(this,Qe)===Xe.FilterResult.Accept)return this._current=Qe,Qe;return null},Je.prototype.firstChild=function(){return qe.treeWalker_traverseChildren(this,!0)},Je.prototype.lastChild=function(){return qe.treeWalker_traverseChildren(this,!1)},Je.prototype.nextSibling=function(){return qe.treeWalker_traverseSiblings(this,!0)},Je.prototype.previousNode=function(){for(var Qe=this._current;Qe!==this._root;){for(var ti=Qe._previousSibling;ti;){Qe=ti;for(var ni=qe.traversal_filter(this,Qe);ni!==Xe.FilterResult.Reject&&Qe._lastChild;)Qe=Qe._lastChild,ni=qe.traversal_filter(this,Qe);if(ni===Xe.FilterResult.Accept)return this._current=Qe,Qe;ti=Qe._previousSibling}if(Qe===this._root||Qe._parent===null)return null;if(Qe=Qe._parent,qe.traversal_filter(this,Qe)===Xe.FilterResult.Accept)return this._current=Qe,Qe}return null},Je.prototype.previousSibling=function(){return qe.treeWalker_traverseSiblings(this,!1)},Je.prototype.nextNode=function(){for(var Qe=this._current,ti=Xe.FilterResult.Accept;;){for(;ti!==Xe.FilterResult.Reject&&Qe._firstChild;)if(Qe=Qe._firstChild,(ti=qe.traversal_filter(this,Qe))===Xe.FilterResult.Accept)return this._current=Qe,Qe;for(var ni=null,ri=Qe;ri!==null;){if(ri===this._root)return null;if((ni=ri._nextSibling)!==null){Qe=ni;break}ri=ri._parent}if((ti=qe.traversal_filter(this,Qe))===Xe.FilterResult.Accept)return this._current=Qe,Qe}},Je._create=function(Qe,ti){return new Je(Qe,ti)},Je}(We.TraverserImpl);r.TreeWalkerImpl=Ke},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(1),ze=Ve(12),Xe=function(){function We(){}return We.prototype.acceptNode=function(qe){return je.FilterResult.Accept},We._create=function(){return new We},We.FILTER_ACCEPT=1,We.FILTER_REJECT=2,We.FILTER_SKIP=3,We.SHOW_ALL=4294967295,We.SHOW_ELEMENT=1,We.SHOW_ATTRIBUTE=2,We.SHOW_TEXT=4,We.SHOW_CDATA_SECTION=8,We.SHOW_ENTITY_REFERENCE=16,We.SHOW_ENTITY=32,We.SHOW_PROCESSING_INSTRUCTION=64,We.SHOW_COMMENT=128,We.SHOW_DOCUMENT=256,We.SHOW_DOCUMENT_TYPE=512,We.SHOW_DOCUMENT_FRAGMENT=1024,We.SHOW_NOTATION=2048,We}();r.NodeFilterImpl=Xe,ze.idl_defineConst(Xe.prototype,"FILTER_ACCEPT",1),ze.idl_defineConst(Xe.prototype,"FILTER_REJECT",2),ze.idl_defineConst(Xe.prototype,"FILTER_SKIP",3),ze.idl_defineConst(Xe.prototype,"SHOW_ALL",4294967295),ze.idl_defineConst(Xe.prototype,"SHOW_ELEMENT",1),ze.idl_defineConst(Xe.prototype,"SHOW_ATTRIBUTE",2),ze.idl_defineConst(Xe.prototype,"SHOW_TEXT",4),ze.idl_defineConst(Xe.prototype,"SHOW_CDATA_SECTION",8),ze.idl_defineConst(Xe.prototype,"SHOW_ENTITY_REFERENCE",16),ze.idl_defineConst(Xe.prototype,"SHOW_ENTITY",32),ze.idl_defineConst(Xe.prototype,"SHOW_PROCESSING_INSTRUCTION",64),ze.idl_defineConst(Xe.prototype,"SHOW_COMMENT",128),ze.idl_defineConst(Xe.prototype,"SHOW_DOCUMENT",256),ze.idl_defineConst(Xe.prototype,"SHOW_DOCUMENT_TYPE",512),ze.idl_defineConst(Xe.prototype,"SHOW_DOCUMENT_FRAGMENT",1024),ze.idl_defineConst(Xe.prototype,"SHOW_NOTATION",2048)},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=function(){function ze(Xe,We,qe,Ke,Ze,Je,Qe,ti,ni){this._type=Xe,this._target=We,this._addedNodes=qe,this._removedNodes=Ke,this._previousSibling=Ze,this._nextSibling=Je,this._attributeName=Qe,this._attributeNamespace=ti,this._oldValue=ni}return Object.defineProperty(ze.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(ze.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(ze.prototype,"addedNodes",{get:function(){return this._addedNodes},enumerable:!0,configurable:!0}),Object.defineProperty(ze.prototype,"removedNodes",{get:function(){return this._removedNodes},enumerable:!0,configurable:!0}),Object.defineProperty(ze.prototype,"previousSibling",{get:function(){return this._previousSibling},enumerable:!0,configurable:!0}),Object.defineProperty(ze.prototype,"nextSibling",{get:function(){return this._nextSibling},enumerable:!0,configurable:!0}),Object.defineProperty(ze.prototype,"attributeName",{get:function(){return this._attributeName},enumerable:!0,configurable:!0}),Object.defineProperty(ze.prototype,"attributeNamespace",{get:function(){return this._attributeNamespace},enumerable:!0,configurable:!0}),Object.defineProperty(ze.prototype,"oldValue",{get:function(){return this._oldValue},enumerable:!0,configurable:!0}),ze._create=function(Xe,We,qe,Ke,Ze,Je,Qe,ti,ni){return new ze(Xe,We,qe,Ke,Ze,Je,Qe,ti,ni)},ze}();r.MutationRecordImpl=je},function(t,r,Ve){var je=this&&this.__values||function(Ze){var Je=typeof Symbol=="function"&&Symbol.iterator,Qe=Je&&Ze[Je],ti=0;if(Qe)return Qe.call(Ze);if(Ze&&typeof Ze.length=="number")return{next:function(){return Ze&&ti>=Ze.length&&(Ze=void 0),{value:Ze&&Ze[ti++],done:!Ze}}};throw new TypeError(Je?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var ze=Ve(6),Xe=Ve(9),We=Ve(7),qe=Ve(0),Ke=function(){function Ze(Je,Qe){this._element=Je,this._attribute=Qe,this._tokenSet=new Set;var ti=Qe._localName,ni=qe.element_getAnAttributeValue(Je,ti),ri=this;this._element._attributeChangeSteps.push(function(ii,ei,St,oi,si){ei===ri._attribute._localName&&si===null&&(oi?ri._tokenSet=qe.orderedSet_parse(oi):ri._tokenSet.clear())}),ze.dom.features.steps&&qe.dom_runAttributeChangeSteps(Je,ti,ni,ni,null)}return Object.defineProperty(Ze.prototype,"length",{get:function(){return this._tokenSet.size},enumerable:!0,configurable:!0}),Ze.prototype.item=function(Je){var Qe,ti,ni=0;try{for(var ri=je(this._tokenSet),ii=ri.next();!ii.done;ii=ri.next()){var ei=ii.value;if(ni===Je)return ei;ni++}}catch(St){Qe={error:St}}finally{try{ii&&!ii.done&&(ti=ri.return)&&ti.call(ri)}finally{if(Qe)throw Qe.error}}return null},Ze.prototype.contains=function(Je){return this._tokenSet.has(Je)},Ze.prototype.add=function(){for(var Je,Qe,ti=[],ni=0;ni<arguments.length;ni++)ti[ni]=arguments[ni];try{for(var ri=je(ti),ii=ri.next();!ii.done;ii=ri.next()){var ei=ii.value;if(ei==="")throw new Xe.SyntaxError("Cannot add an empty token.");if(We.codePoint.ASCIIWhiteSpace.test(ei))throw new Xe.InvalidCharacterError("Token cannot contain whitespace.");this._tokenSet.add(ei)}}catch(St){Je={error:St}}finally{try{ii&&!ii.done&&(Qe=ri.return)&&Qe.call(ri)}finally{if(Je)throw Je.error}}qe.tokenList_updateSteps(this)},Ze.prototype.remove=function(){for(var Je,Qe,ti=[],ni=0;ni<arguments.length;ni++)ti[ni]=arguments[ni];try{for(var ri=je(ti),ii=ri.next();!ii.done;ii=ri.next()){var ei=ii.value;if(ei==="")throw new Xe.SyntaxError("Cannot remove an empty token.");if(We.codePoint.ASCIIWhiteSpace.test(ei))throw new Xe.InvalidCharacterError("Token cannot contain whitespace.");this._tokenSet.delete(ei)}}catch(St){Je={error:St}}finally{try{ii&&!ii.done&&(Qe=ri.return)&&Qe.call(ri)}finally{if(Je)throw Je.error}}qe.tokenList_updateSteps(this)},Ze.prototype.toggle=function(Je,Qe){if(Qe===void 0&&(Qe=void 0),Je==="")throw new Xe.SyntaxError("Cannot toggle an empty token.");if(We.codePoint.ASCIIWhiteSpace.test(Je))throw new Xe.InvalidCharacterError("Token cannot contain whitespace.");return this._tokenSet.has(Je)?Qe!==void 0&&Qe!==!1||(this._tokenSet.delete(Je),qe.tokenList_updateSteps(this),!1):(Qe===void 0||Qe===!0)&&(this._tokenSet.add(Je),qe.tokenList_updateSteps(this),!0)},Ze.prototype.replace=function(Je,Qe){if(Je===""||Qe==="")throw new Xe.SyntaxError("Cannot replace an empty token.");if(We.codePoint.ASCIIWhiteSpace.test(Je)||We.codePoint.ASCIIWhiteSpace.test(Qe))throw new Xe.InvalidCharacterError("Token cannot contain whitespace.");return!!this._tokenSet.has(Je)&&(We.set.replace(this._tokenSet,Je,Qe),qe.tokenList_updateSteps(this),!0)},Ze.prototype.supports=function(Je){return qe.tokenList_validationSteps(this,Je)},Object.defineProperty(Ze.prototype,"value",{get:function(){return qe.tokenList_serializeSteps(this)},set:function(Je){qe.element_setAnAttributeValue(this._element,this._attribute._localName,Je)},enumerable:!0,configurable:!0}),Ze.prototype[Symbol.iterator]=function(){var Je=this._tokenSet[Symbol.iterator]();return{next:function(){return Je.next()}}},Ze._create=function(Je,Qe){return new Ze(Je,Qe)},Ze}();r.DOMTokenListImpl=Ke},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(Ke,Ze){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Je,Qe){Je.__proto__=Qe}||function(Je,Qe){for(var ti in Qe)Qe.hasOwnProperty(ti)&&(Je[ti]=Qe[ti])})(Ke,Ze)},function(Ke,Ze){function Je(){this.constructor=Ke}je(Ke,Ze),Ke.prototype=Ze===null?Object.create(Ze):(Je.prototype=Ze.prototype,new Je)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(104),We=Ve(0),qe=function(Ke){function Ze(Je,Qe){var ti=Ke.call(this,Je,Qe)||this;return ti._detail=null,ti._detail=Qe&&Qe.detail||null,ti}return ze(Ze,Ke),Object.defineProperty(Ze.prototype,"detail",{get:function(){return this._detail},enumerable:!0,configurable:!0}),Ze.prototype.initCustomEvent=function(Je,Qe,ti,ni){Qe===void 0&&(Qe=!1),ti===void 0&&(ti=!1),ni===void 0&&(ni=null),this._dispatchFlag||(We.event_initialize(this,Je,Qe,ti),this._detail=ni)},Ze}(Xe.EventImpl);r.CustomEventImpl=qe},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(6),ze=Ve(1),Xe=Ve(105),We=Ve(17);r.nodeIterator_traverse=function(qe,Ke){for(var Ze=qe._reference,Je=qe._pointerBeforeReference;;){if(Ke)if(Je)Je=!1;else{var Qe=We.tree_getFollowingNode(qe._root,Ze);if(!Qe)return null;Ze=Qe}else if(Je){var ti=We.tree_getPrecedingNode(qe.root,Ze);if(!ti)return null;Ze=ti}else Je=!0;if(Xe.traversal_filter(qe,Ze)===ze.FilterResult.Accept)break}return qe._reference=Ze,qe._pointerBeforeReference=Je,Ze},r.nodeIterator_iteratorList=function(){return je.dom.window._iteratorList}},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(9),ze=Ve(7),Xe=Ve(174);function We(qe){if(!Xe.xml_isName(qe))throw new je.InvalidCharacterError("Invalid XML name: "+qe);if(!Xe.xml_isQName(qe))throw new je.InvalidCharacterError("Invalid XML qualified name: "+qe+".")}r.namespace_validate=We,r.namespace_validateAndExtract=function(qe,Ke){qe||(qe=null),We(Ke);var Ze=Ke.split(":"),Je=Ze.length===2?Ze[0]:null,Qe=Ze.length===2?Ze[1]:Ke;if(Je&&qe===null)throw new je.NamespaceError("Qualified name includes a prefix but the namespace is null.");if(Je==="xml"&&qe!==ze.namespace.XML)throw new je.NamespaceError('Qualified name includes the "xml" prefix but the namespace is not the XML namespace.');if(qe!==ze.namespace.XMLNS&&(Je==="xmlns"||Ke==="xmlns"))throw new je.NamespaceError('Qualified name includes the "xmlns" prefix but the namespace is not the XMLNS namespace.');if(qe===ze.namespace.XMLNS&&Je!=="xmlns"&&Ke!=="xmlns")throw new je.NamespaceError('Qualified name does not include the "xmlns" prefix but the namespace is the XMLNS namespace.');return[qe,Je,Qe]},r.namespace_extractQName=function(qe){We(qe);var Ke=qe.split(":");return[Ke.length===2?Ke[0]:null,Ke.length===2?Ke[1]:qe]}},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0}),r.xml_isName=function(je){for(var ze=0;ze<je.length;ze++){var Xe=je.charCodeAt(ze);if(!(Xe>=97&&Xe<=122||Xe>=65&&Xe<=90||Xe===58||Xe===95||Xe>=192&&Xe<=214||Xe>=216&&Xe<=246||Xe>=248&&Xe<=767||Xe>=880&&Xe<=893||Xe>=895&&Xe<=8191||Xe>=8204&&Xe<=8205||Xe>=8304&&Xe<=8591||Xe>=11264&&Xe<=12271||Xe>=12289&&Xe<=55295||Xe>=63744&&Xe<=64975||Xe>=65008&&Xe<=65533)&&(ze===0||!(Xe===45||Xe===46||Xe>=48&&Xe<=57||Xe===183||Xe>=768&&Xe<=879||Xe>=8255&&Xe<=8256))){if(Xe>=55296&&Xe<=56319&&ze<je.length-1){var We=je.charCodeAt(ze+1);if(We>=56320&&We<=57343&&(ze++,(Xe=1024*(Xe-55296)+We-56320+65536)>=65536&&Xe<=983039))continue}return!1}}return!0},r.xml_isQName=function(je){for(var ze=!1,Xe=0;Xe<je.length;Xe++){var We=je.charCodeAt(Xe);if(!(We>=97&&We<=122||We>=65&&We<=90||We===95||We>=192&&We<=214||We>=216&&We<=246||We>=248&&We<=767||We>=880&&We<=893||We>=895&&We<=8191||We>=8204&&We<=8205||We>=8304&&We<=8591||We>=11264&&We<=12271||We>=12289&&We<=55295||We>=63744&&We<=64975||We>=65008&&We<=65533)&&(Xe===0||!(We===45||We===46||We>=48&&We<=57||We===183||We>=768&&We<=879||We>=8255&&We<=8256))){if(Xe===0||We!==58){if(We>=55296&&We<=56319&&Xe<je.length-1){var qe=je.charCodeAt(Xe+1);if(qe>=56320&&qe<=57343&&(Xe++,(We=1024*(We-55296)+qe-56320+65536)>=65536&&We<=983039))continue}return!1}if(ze||Xe===je.length-1)return!1;ze=!0}}return!0},r.xml_isLegalChar=function(je){for(var ze=0;ze<je.length;ze++){var Xe=je.charCodeAt(ze);if(!(Xe===9||Xe===10||Xe===13||Xe>=32&&Xe<=55295||Xe>=57344&&Xe<=65533)){if(Xe>=55296&&Xe<=56319&&ze<je.length-1){var We=je.charCodeAt(ze+1);if(We>=56320&&We<=57343&&(ze++,(Xe=1024*(Xe-55296)+We-56320+65536)>=65536&&Xe<=1114111))continue}return!1}}return!0},r.xml_isPubidChar=function(je){for(var ze=0;ze<je.length;ze++){var Xe=je.charCodeAt(ze);if(!(Xe>=97&&Xe<=122||Xe>=65&&Xe<=90||Xe>=39&&Xe<=59||Xe===32||Xe===13||Xe===10||Xe>=35&&Xe<=37||Xe===33||Xe===61||Xe===63||Xe===64||Xe===95))return!1}return!0}},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(1),ze=Ve(17);r.boundaryPoint_position=function Xe(We,qe){var Ke=We[0],Ze=We[1],Je=qe[0],Qe=qe[1];if(console.assert(ze.tree_rootNode(Ke)===ze.tree_rootNode(Je),"Boundary points must share the same root node."),Ke===Je)return Ze===Qe?je.BoundaryPosition.Equal:Ze<Qe?je.BoundaryPosition.Before:je.BoundaryPosition.After;if(ze.tree_isFollowing(Je,Ke)){var ti=Xe([Je,Qe],[Ke,Ze]);if(ti===je.BoundaryPosition.Before)return je.BoundaryPosition.After;if(ti===je.BoundaryPosition.After)return je.BoundaryPosition.Before}if(ze.tree_isAncestorOf(Je,Ke)){for(var ni=Je;!ze.tree_isChildOf(Ke,ni);)ni._parent!==null&&(ni=ni._parent);if(ze.tree_index(ni)<Ze)return je.BoundaryPosition.After}return je.BoundaryPosition.Before}},function(t,r,Ve){var je=this&&this.__values||function(ti){var ni=typeof Symbol=="function"&&Symbol.iterator,ri=ni&&ti[ni],ii=0;if(ri)return ri.call(ti);if(ti&&typeof ti.length=="number")return{next:function(){return ti&&ii>=ti.length&&(ti=void 0),{value:ti&&ti[ii++],done:!ti}}};throw new TypeError(ni?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var ze=Ve(6),Xe=Ve(3),We=Ve(7),qe=Ve(29),Ke=Ve(108),Ze=Ve(30),Je=Ve(37),Qe=Ve(52);r.node_stringReplaceAll=function(ti,ni){var ri=null;ti!==""&&(ri=qe.create_text(ni._nodeDocument,ti)),Je.mutation_replaceAll(ri,ni)},r.node_clone=function ti(ni,ri,ii){var ei,St,oi,si,ai;if(ri===void 0&&(ri=null),ii===void 0&&(ii=!1),ri===null&&(ri=ni._nodeDocument),Xe.Guard.isElementNode(ni)){ai=Qe.element_createAnElement(ri,ni._localName,ni._namespace,ni._namespacePrefix,ni._is,!1);try{for(var ui=je(ni._attributeList),hi=ui.next();!hi.done;hi=ui.next()){var ci=ti(hi.value,ri);Qe.element_append(ci,ai)}}catch(_i){ei={error:_i}}finally{try{hi&&!hi.done&&(St=ui.return)&&St.call(ui)}finally{if(ei)throw ei.error}}}else if(Xe.Guard.isDocumentNode(ni)){var mi=qe.create_document();mi._encoding=ni._encoding,mi._contentType=ni._contentType,mi._URL=ni._URL,mi._origin=ni._origin,mi._type=ni._type,mi._mode=ni._mode,ai=mi}else if(Xe.Guard.isDocumentTypeNode(ni))ai=qe.create_documentType(ri,ni._name,ni._publicId,ni._systemId);else if(Xe.Guard.isAttrNode(ni)){var di=qe.create_attr(ri,ni.localName);di._namespace=ni._namespace,di._namespacePrefix=ni._namespacePrefix,di._value=ni._value,ai=di}else ai=Xe.Guard.isExclusiveTextNode(ni)?qe.create_text(ri,ni._data):Xe.Guard.isCDATASectionNode(ni)?qe.create_cdataSection(ri,ni._data):Xe.Guard.isCommentNode(ni)?qe.create_comment(ri,ni._data):Xe.Guard.isProcessingInstructionNode(ni)?qe.create_processingInstruction(ri,ni._target,ni._data):Xe.Guard.isDocumentFragmentNode(ni)?qe.create_documentFragment(ri):Object.create(ni);if(Xe.Guard.isDocumentNode(ai)?(ai._nodeDocument=ai,ri=ai):ai._nodeDocument=ri,ze.dom.features.steps&&Ze.dom_runCloningSteps(ai,ni,ri,ii),ii)try{for(var pi=je(ni._children),yi=pi.next();!yi.done;yi=pi.next()){var gi=ti(yi.value,ri,!0);Je.mutation_append(gi,ai)}}catch(_i){oi={error:_i}}finally{try{yi&&!yi.done&&(si=pi.return)&&si.call(pi)}finally{if(oi)throw oi.error}}return ai},r.node_equals=function ti(ni,ri){var ii,ei,St,oi;if(ni._nodeType!==ri._nodeType)return!1;if(Xe.Guard.isDocumentTypeNode(ni)&&Xe.Guard.isDocumentTypeNode(ri)){if(ni._name!==ri._name||ni._publicId!==ri._publicId||ni._systemId!==ri._systemId)return!1}else if(Xe.Guard.isElementNode(ni)&&Xe.Guard.isElementNode(ri)){if(ni._namespace!==ri._namespace||ni._namespacePrefix!==ri._namespacePrefix||ni._localName!==ri._localName||ni._attributeList.length!==ri._attributeList.length)return!1}else if(Xe.Guard.isAttrNode(ni)&&Xe.Guard.isAttrNode(ri)){if(ni._namespace!==ri._namespace||ni._localName!==ri._localName||ni._value!==ri._value)return!1}else if(Xe.Guard.isProcessingInstructionNode(ni)&&Xe.Guard.isProcessingInstructionNode(ri)){if(ni._target!==ri._target||ni._data!==ri._data)return!1}else if(Xe.Guard.isCharacterDataNode(ni)&&Xe.Guard.isCharacterDataNode(ri)&&ni._data!==ri._data)return!1;if(Xe.Guard.isElementNode(ni)&&Xe.Guard.isElementNode(ri)){var si={};try{for(var ai=je(ni._attributeList),ui=ai.next();!ui.done;ui=ai.next())si[(mi=ui.value)._localName]=mi}catch(Ai){ii={error:Ai}}finally{try{ui&&!ui.done&&(ei=ai.return)&&ei.call(ai)}finally{if(ii)throw ii.error}}try{for(var hi=je(ri._attributeList),ci=hi.next();!ci.done;ci=hi.next()){var mi,di=ci.value;if(!(mi=si[di._localName])||!ti(mi,di))return!1}}catch(Ai){St={error:Ai}}finally{try{ci&&!ci.done&&(oi=hi.return)&&oi.call(hi)}finally{if(St)throw St.error}}}if(ni._children.size!==ri._children.size)return!1;for(var pi=ni._children[Symbol.iterator](),yi=ri._children[Symbol.iterator](),gi=pi.next(),_i=yi.next();!gi.done&&!_i.done;){if(!ti(gi.value,_i.value))return!1;gi=pi.next(),_i=yi.next()}return!0},r.node_listOfElementsWithQualifiedName=function(ti,ni){return ti==="*"?qe.create_htmlCollection(ni):ni._nodeDocument._type==="html"?qe.create_htmlCollection(ni,function(ri){return ri._namespace===We.namespace.HTML&&ri._qualifiedName===ti.toLowerCase()||ri._namespace!==We.namespace.HTML&&ri._qualifiedName===ti}):qe.create_htmlCollection(ni,function(ri){return ri._qualifiedName===ti})},r.node_listOfElementsWithNamespace=function(ti,ni,ri){return ti===""&&(ti=null),ti==="*"&&ni==="*"?qe.create_htmlCollection(ri):ti==="*"?qe.create_htmlCollection(ri,function(ii){return ii._localName===ni}):ni==="*"?qe.create_htmlCollection(ri,function(ii){return ii._namespace===ti}):qe.create_htmlCollection(ri,function(ii){return ii._localName===ni&&ii._namespace===ti})},r.node_listOfElementsWithClassNames=function(ti,ni){var ri=Ke.orderedSet_parse(ti);if(ri.size===0)return qe.create_htmlCollection(ni,function(){return!1});var ii=ni._nodeDocument._mode!=="quirks";return qe.create_htmlCollection(ni,function(ei){var St=ei.classList;return Ke.orderedSet_contains(St._tokenSet,ri,ii)})},r.node_locateANamespacePrefix=function ti(ni,ri){if(ni._namespace===ri&&ni._namespacePrefix!==null)return ni._namespacePrefix;for(var ii=0;ii<ni._attributeList.length;ii++){var ei=ni._attributeList[ii];if(ei._namespacePrefix==="xmlns"&&ei._value===ri)return ei._localName}return ni._parent&&Xe.Guard.isElementNode(ni._parent)?ti(ni._parent,ri):null},r.node_locateANamespace=function ti(ni,ri){if(Xe.Guard.isElementNode(ni)){if(ni._namespace!==null&&ni._namespacePrefix===ri)return ni._namespace;for(var ii=0;ii<ni._attributeList.length;ii++){var ei=ni._attributeList[ii];if(ei._namespace===We.namespace.XMLNS&&ei._namespacePrefix==="xmlns"&&ei._localName===ri||ri===null&&ei._namespace===We.namespace.XMLNS&&ei._namespacePrefix===null&&ei._localName==="xmlns")return ei._value||null}return ni.parentElement===null?null:ti(ni.parentElement,ri)}return Xe.Guard.isDocumentNode(ni)?ni.documentElement===null?null:ti(ni.documentElement,ri):Xe.Guard.isDocumentTypeNode(ni)||Xe.Guard.isDocumentFragmentNode(ni)?null:Xe.Guard.isAttrNode(ni)?ni._element===null?null:ti(ni._element,ri):ni._parent&&Xe.Guard.isElementNode(ni._parent)?ti(ni._parent,ri):null}},function(t,r,Ve){var je=this&&this.__values||function(Qe){var ti=typeof Symbol=="function"&&Symbol.iterator,ni=ti&&Qe[ti],ri=0;if(ni)return ni.call(Qe);if(Qe&&typeof Qe.length=="number")return{next:function(){return Qe&&ri>=Qe.length&&(Qe=void 0),{value:Qe&&Qe[ri++],done:!Qe}}};throw new TypeError(ti?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var ze=Ve(6),Xe=Ve(3),We=Ve(9),qe=Ve(29),Ke=Ve(17),Ze=Ve(107),Je=Ve(37);r.text_contiguousTextNodes=function(Qe,ti){var ni;return ti===void 0&&(ti=!1),(ni={})[Symbol.iterator]=function(){for(var ri=Qe;ri&&Xe.Guard.isTextNode(ri._previousSibling);)ri=ri._previousSibling;return{next:function(){if(ri&&!ti&&ri===Qe&&(ri=Xe.Guard.isTextNode(ri._nextSibling)?ri._nextSibling:null),ri===null)return{done:!0,value:null};var ii={done:!1,value:ri};return ri=Xe.Guard.isTextNode(ri._nextSibling)?ri._nextSibling:null,ii}}},ni},r.text_contiguousExclusiveTextNodes=function(Qe,ti){var ni;return ti===void 0&&(ti=!1),(ni={})[Symbol.iterator]=function(){for(var ri=Qe;ri&&Xe.Guard.isExclusiveTextNode(ri._previousSibling);)ri=ri._previousSibling;return{next:function(){if(ri&&!ti&&ri===Qe&&(ri=Xe.Guard.isExclusiveTextNode(ri._nextSibling)?ri._nextSibling:null),ri===null)return{done:!0,value:null};var ii={done:!1,value:ri};return ri=Xe.Guard.isExclusiveTextNode(ri._nextSibling)?ri._nextSibling:null,ii}}},ni},r.text_descendantTextContent=function(Qe){for(var ti="",ni=Ke.tree_getFirstDescendantNode(Qe,!1,!1,function(ri){return Xe.Guard.isTextNode(ri)});ni!==null;)ti+=ni._data,ni=Ke.tree_getNextDescendantNode(Qe,ni,!1,!1,function(ri){return Xe.Guard.isTextNode(ri)});return ti},r.text_split=function(Qe,ti){var ni,ri,ii=Qe._data.length;if(ti>ii)throw new We.IndexSizeError;var ei=ii-ti,St=Ze.characterData_substringData(Qe,ti,ei),oi=qe.create_text(Qe._nodeDocument,St),si=Qe._parent;if(si!==null){Je.mutation_insert(oi,si,Qe._nextSibling);try{for(var ai=je(ze.dom.rangeList),ui=ai.next();!ui.done;ui=ai.next()){var hi=ui.value;hi._start[0]===Qe&&hi._start[1]>ti&&(hi._start[0]=oi,hi._start[1]-=ti),hi._end[0]===Qe&&hi._end[1]>ti&&(hi._end[0]=oi,hi._end[1]-=ti);var ci=Ke.tree_index(Qe);hi._start[0]===si&&hi._start[1]===ci+1&&hi._start[1]++,hi._end[0]===si&&hi._end[1]===ci+1&&hi._end[1]++}}catch(mi){ni={error:mi}}finally{try{ui&&!ui.done&&(ri=ai.return)&&ri.call(ai)}finally{if(ni)throw ni.error}}}return Ze.characterData_replaceData(Qe,ti,ei,""),oi}},function(t,r,Ve){var je=Ve(4),ze=Ve(41),Xe=Ve(24),We=Ve(48),qe=[].join,Ke=ze!=Object,Ze=We("join",",");je({target:"Array",proto:!0,forced:Ke||!Ze},{join:function(Je){return qe.call(Xe(this),Je===void 0?",":Je)}})},function(t,r,Ve){var je=Ve(4),ze=Ve(83),Xe=String.fromCharCode,We=String.fromCodePoint;je({target:"String",stat:!0,forced:!!We&&We.length!=1},{fromCodePoint:function(qe){for(var Ke,Ze=[],Je=arguments.length,Qe=0;Je>Qe;){if(Ke=+arguments[Qe++],ze(Ke,1114111)!==Ke)throw RangeError(Ke+" is not a valid code point");Ze.push(Ke<65536?Xe(Ke):Xe(55296+((Ke-=65536)>>10),Ke%1024+56320))}return Ze.join("")}})},function(t,r,Ve){var je=this&&this.__read||function(We,qe){var Ke=typeof Symbol=="function"&&We[Symbol.iterator];if(!Ke)return We;var Ze,Je,Qe=Ke.call(We),ti=[];try{for(;(qe===void 0||qe-- >0)&&!(Ze=Qe.next()).done;)ti.push(Ze.value)}catch(ni){Je={error:ni}}finally{try{Ze&&!Ze.done&&(Ke=Qe.return)&&Ke.call(Qe)}finally{if(Je)throw Je.error}}return ti};Object.defineProperty(r,"__esModule",{value:!0});var ze=Ve(111),Xe=function(){function We(qe,Ke){this._options={skipWhitespaceOnlyText:!1},this.err={line:-1,col:-1,index:-1,str:""},this._str=qe,this._index=0,this._length=qe.length,Ke&&(this._options.skipWhitespaceOnlyText=Ke.skipWhitespaceOnlyText||!1)}return We.prototype.nextToken=function(){if(this.eof())return{type:ze.TokenType.EOF};var qe=this.skipIfStartsWith("<")?this.openBracket():this.text();return this._options.skipWhitespaceOnlyText&&qe.type===ze.TokenType.Text&&We.isWhiteSpaceToken(qe)&&(qe=this.nextToken()),qe},We.prototype.openBracket=function(){return this.skipIfStartsWith("?")?this.skipIfStartsWith("xml")?We.isSpace(this._str[this._index])?this.declaration():(this.seek(-3),this.pi()):this.pi():this.skipIfStartsWith("!")?this.skipIfStartsWith("--")?this.comment():this.skipIfStartsWith("[CDATA[")?this.cdata():this.skipIfStartsWith("DOCTYPE")?this.doctype():void this.throwError("Invalid '!' in opening tag."):this.skipIfStartsWith("/")?this.closeTag():this.openTag()},We.prototype.declaration=function(){for(var qe="",Ke="",Ze="";!this.eof();){if(this.skipSpace(),this.skipIfStartsWith("?>"))return{type:ze.TokenType.Declaration,version:qe,encoding:Ke,standalone:Ze};var Je=je(this.attribute(),2),Qe=Je[0],ti=Je[1];Qe==="version"?qe=ti:Qe==="encoding"?Ke=ti:Qe==="standalone"?Ze=ti:this.throwError("Invalid attribute name: "+Qe)}this.throwError("Missing declaration end symbol `?>`")},We.prototype.doctype=function(){var qe="",Ke="";this.skipSpace();var Ze=this.takeUntil2("[",">",!0);return this.skipSpace(),this.skipIfStartsWith("PUBLIC")?(qe=this.quotedString(),Ke=this.quotedString()):this.skipIfStartsWith("SYSTEM")&&(Ke=this.quotedString()),this.skipSpace(),this.skipIfStartsWith("[")&&(this.skipUntil("]"),this.skipIfStartsWith("]")||this.throwError("Missing end bracket of DTD internal subset")),this.skipSpace(),this.skipIfStartsWith(">")||this.throwError("Missing doctype end symbol `>`"),{type:ze.TokenType.DocType,name:Ze,pubId:qe,sysId:Ke}},We.prototype.pi=function(){var qe=this.takeUntilStartsWith("?>",!0);if(this.eof()&&this.throwError("Missing processing instruction end symbol `?>`"),this.skipSpace(),this.skipIfStartsWith("?>"))return{type:ze.TokenType.PI,target:qe,data:""};var Ke=this.takeUntilStartsWith("?>");return this.eof()&&this.throwError("Missing processing instruction end symbol `?>`"),this.seek(2),{type:ze.TokenType.PI,target:qe,data:Ke}},We.prototype.text=function(){var qe=this.takeUntil("<");return{type:ze.TokenType.Text,data:qe}},We.prototype.comment=function(){var qe=this.takeUntilStartsWith("-->");return this.eof()&&this.throwError("Missing comment end symbol `-->`"),this.seek(3),{type:ze.TokenType.Comment,data:qe}},We.prototype.cdata=function(){var qe=this.takeUntilStartsWith("]]>");return this.eof()&&this.throwError("Missing CDATA end symbol `]>`"),this.seek(3),{type:ze.TokenType.CDATA,data:qe}},We.prototype.openTag=function(){this.skipSpace();var qe=this.takeUntil2(">","/",!0);if(this.skipSpace(),this.skipIfStartsWith(">"))return{type:ze.TokenType.Element,name:qe,attributes:[],selfClosing:!1};if(this.skipIfStartsWith("/>"))return{type:ze.TokenType.Element,name:qe,attributes:[],selfClosing:!0};for(var Ke=[];!this.eof();){if(this.skipSpace(),this.skipIfStartsWith(">"))return{type:ze.TokenType.Element,name:qe,attributes:Ke,selfClosing:!1};if(this.skipIfStartsWith("/>"))return{type:ze.TokenType.Element,name:qe,attributes:Ke,selfClosing:!0};var Ze=this.attribute();Ke.push(Ze)}this.throwError("Missing opening element tag end symbol `>`")},We.prototype.closeTag=function(){this.skipSpace();var qe=this.takeUntil(">",!0);return this.skipSpace(),this.skipIfStartsWith(">")||this.throwError("Missing closing element tag end symbol `>`"),{type:ze.TokenType.ClosingTag,name:qe}},We.prototype.attribute=function(){this.skipSpace();var qe=this.takeUntil("=",!0);return this.skipSpace(),this.skipIfStartsWith("=")||this.throwError("Missing equals sign before attribute value"),[qe,this.quotedString()]},We.prototype.quotedString=function(){this.skipSpace();var qe=this.take(1);We.isQuote(qe)||this.throwError("Missing start quote character before quoted value");var Ke=this.takeUntil(qe);return this.skipIfStartsWith(qe)||this.throwError("Missing end quote character after quoted value"),Ke},We.prototype.eof=function(){return this._index>=this._length},We.prototype.skipIfStartsWith=function(qe){var Ke=qe.length;if(Ke===1)return this._str[this._index]===qe&&(this._index++,!0);for(var Ze=0;Ze<Ke;Ze++)if(this._str[this._index+Ze]!==qe[Ze])return!1;return this._index+=Ke,!0},We.prototype.seek=function(qe){this._index+=qe,this._index<0&&(this._index=0),this._index>this._length&&(this._index=this._length)},We.prototype.skipSpace=function(){for(;!this.eof()&&We.isSpace(this._str[this._index]);)this._index++},We.prototype.take=function(qe){if(qe===1)return this._str[this._index++];var Ke=this._index;return this.seek(qe),this._str.slice(Ke,this._index)},We.prototype.takeUntil=function(qe,Ke){Ke===void 0&&(Ke=!1);for(var Ze=this._index;this._index<this._length;){var Je=this._str[this._index];if(Je===qe||Ke&&We.isSpace(Je))break;this._index++}return this._str.slice(Ze,this._index)},We.prototype.takeUntil2=function(qe,Ke,Ze){Ze===void 0&&(Ze=!1);for(var Je=this._index;this._index<this._length;){var Qe=this._str[this._index];if(Qe===qe||Qe===Ke||Ze&&We.isSpace(Qe))break;this._index++}return this._str.slice(Je,this._index)},We.prototype.takeUntilStartsWith=function(qe,Ke){Ke===void 0&&(Ke=!1);for(var Ze=this._index,Je=qe.length;this._index<this._length;){for(var Qe=!0,ti=0;ti<Je;ti++){var ni=this._str[this._index+ti],ri=qe[ti];if(Ke&&We.isSpace(ni))return this._str.slice(Ze,this._index);if(ni!==ri){this._index++,Qe=!1;break}}if(Qe)return this._str.slice(Ze,this._index)}return this._index=this._length,this._str.slice(Ze)},We.prototype.skipUntil=function(qe){for(;this._index<this._length&&this._str[this._index]!==qe;)this._index++},We.isWhiteSpaceToken=function(qe){for(var Ke=qe.data,Ze=0;Ze<Ke.length;Ze++){var Je=Ke[Ze];if(Je!==" "&&Je!==`
`&&Je!=="\r"&&Je!=="	"&&Je!=="\f")return!1}return!0},We.isSpace=function(qe){return qe===" "||qe===`
`||qe==="\r"||qe==="	"},We.isQuote=function(qe){return qe==='"'||qe==="'"},We.prototype.throwError=function(qe){for(var Ke=/\r\n|\r|\n/g,Ze=null,Je=0,Qe=0,ti=this._str.length;(Ze=Ke.exec(this._str))!==null&&Ze!==null;)if(Je++,Ze.index<this._index&&(Qe=Ke.lastIndex),Ze.index>this._index){ti=Ze.index;break}throw this.err={line:Je,col:this._index-Qe,index:this._index,str:this._str.substring(Qe,ti)},new Error(qe+`
Index: `+this.err.index+`
Ln: `+this.err.line+", Col: "+this.err.col+`
Input: `+this.err.str)},We.prototype[Symbol.iterator]=function(){return this._index=0,{next:(function(){var qe=this.nextToken();return qe.type===ze.TokenType.EOF?{done:!0,value:null}:{done:!1,value:qe}}).bind(this)}},We}();r.XMLStringLexer=Xe},function(t,r,Ve){var je=Ve(39);t.exports=new je({include:[Ve(182)]})},function(t,r,Ve){var je=Ve(39);t.exports=new je({include:[Ve(113)],implicit:[Ve(290),Ve(291),Ve(292),Ve(293)]})},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(91),ze=Ve(2),Xe=Ve(3),We=Ve(77),qe=Ve(109);function Ke(ti,ni){var ri=Je(ti===void 0||Ze(ti)?ti:je.DefaultBuilderOptions),ii=Ze(ti)?ni:ti,ei=qe.createDocument();Qe(ei,ri);var St=new We.XMLBuilderImpl(ei);return ii!==void 0&&St.ele(ii),St}function Ze(ti){if(!ze.isPlainObject(ti))return!1;for(var ni in ti)if(ti.hasOwnProperty(ni)&&!je.XMLBuilderOptionKeys.has(ni))return!1;return!0}function Je(ti){ti===void 0&&(ti={});var ni=ze.applyDefaults(ti,je.DefaultBuilderOptions);if(ni.convert.att.length===0||ni.convert.ins.length===0||ni.convert.text.length===0||ni.convert.cdata.length===0||ni.convert.comment.length===0)throw new Error("JS object converter strings cannot be zero length.");return ni}function Qe(ti,ni,ri){var ii=ti;ii._xmlBuilderOptions=ni,ii._isFragment=ri}r.builder=function(ti,ni){var ri=Je(Ze(ti)?ti:je.DefaultBuilderOptions),ii=Xe.Guard.isNode(ti)||ze.isArray(ti)?ti:ni;if(ii===void 0)throw new Error("Invalid arguments.");if(ze.isArray(ii)){for(var ei=[],St=0;St<ii.length;St++){var oi=new We.XMLBuilderImpl(ii[St]);oi.set(ri),ei.push(oi)}return ei}var si=new We.XMLBuilderImpl(ii);return si.set(ri),si},r.create=Ke,r.fragment=function(ti,ni){var ri=Je(ti===void 0||Ze(ti)?ti:je.DefaultBuilderOptions),ii=Ze(ti)?ni:ti,ei=qe.createDocument();Qe(ei,ri,!0);var St=new We.XMLBuilderImpl(ei.createDocumentFragment());return ii!==void 0&&St.ele(ii),St},r.convert=function(ti,ni,ri){var ii,ei,St;return Ze(ti)&&ni!==void 0?(ii=ti,ei=ni,St=ri):(ii=je.DefaultBuilderOptions,ei=ti,St=ni||void 0),Ke(ii,ei).end(St)}},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(77);r.builder=je.builder,r.create=je.create,r.fragment=je.fragment,r.convert=je.convert,r.createCB=je.createCB,r.fragmentCB=je.fragmentCB},function(t,r,Ve){Ve(31),Ve(32),Ve(33),Ve(191),Ve(192),Ve(194),Ve(64),Ve(19),Ve(198),Ve(199),Ve(89),Ve(201),Ve(65),Ve(20),Ve(66),Ve(22),Ve(23);var je=this&&this.__read||function(ii,ei){var St=typeof Symbol=="function"&&ii[Symbol.iterator];if(!St)return ii;var oi,si,ai=St.call(ii),ui=[];try{for(;(ei===void 0||ei-- >0)&&!(oi=ai.next()).done;)ui.push(oi.value)}catch(hi){si={error:hi}}finally{try{oi&&!oi.done&&(St=ai.return)&&St.call(ai)}finally{if(si)throw si.error}}return ui},ze=this&&this.__values||function(ii){var ei=typeof Symbol=="function"&&Symbol.iterator,St=ei&&ii[ei],oi=0;if(St)return St.call(ii);if(ii&&typeof ii.length=="number")return{next:function(){return ii&&oi>=ii.length&&(ii=void 0),{value:ii&&ii[oi++],done:!ii}}};throw new TypeError(ei?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(91),We=Ve(2),qe=Ve(217),Ke=Ve(1),Ze=Ve(3),Je=Ve(0),Qe=Ve(109),ti=Ve(7),ni=Ve(277),ri=function(){function ii(ei){this._domNode=ei}return Object.defineProperty(ii.prototype,"node",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),Object.defineProperty(ii.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),ii.prototype.set=function(ei){return this._options=We.applyDefaults(We.applyDefaults(this._options,ei,!0),Xe.DefaultBuilderOptions),this},ii.prototype.ele=function(ei,St,oi){var si,ai,ui,hi,ci,mi;if(We.isObject(ei))return new ni.ObjectReader(this._options).parse(this,ei);if(ei!==null&&/^\s*</.test(ei))return new ni.XMLReader(this._options).parse(this,ei);if(ei!==null&&/^\s*[\{\[]/.test(ei))return new ni.JSONReader(this._options).parse(this,ei);if(ei!==null&&/^(\s*|(#.*)|(%.*))*---/.test(ei))return new ni.YAMLReader(this._options).parse(this,ei);if((ei===null||We.isString(ei))&&We.isString(St))hi=(si=je([ei,St,oi],3))[0],ci=si[1],mi=si[2];else{if(ei===null)throw new Error("Element name cannot be null. "+this._debugInfo());hi=(ai=je([void 0,ei,We.isObject(St)?St:void 0],3))[0],ci=ai[1],mi=ai[2]}if(mi&&(mi=We.getValue(mi)),hi=(ui=je(this._extractNamespace(Qe.sanitizeInput(hi,this._options.invalidCharReplacement),Qe.sanitizeInput(ci,this._options.invalidCharReplacement),!0),2))[0],ci=ui[1],hi===void 0){var di=je(Je.namespace_extractQName(ci),1)[0];hi=this.node.lookupNamespaceURI(di)}var pi=hi!=null?this._doc.createElementNS(hi,ci):this._doc.createElement(ci);this.node.appendChild(pi);var yi=new ii(pi),gi=this._doc.doctype;if(pi===this._doc.documentElement&&gi!==null){var _i=this._doc.implementation.createDocumentType(this._doc.documentElement.tagName,gi.publicId,gi.systemId);this._doc.replaceChild(_i,gi)}return mi&&!We.isEmpty(mi)&&yi.att(mi),yi},ii.prototype.remove=function(){var ei=this.up();return ei.node.removeChild(this.node),ei},ii.prototype.att=function(ei,St,oi){var si,ai,ui,hi,ci,mi,di=this;if(We.isMap(ei)||We.isObject(ei))return We.forEachObject(ei,function(vi,Mi){return di.att(vi,Mi)},this),this;if(ei!=null&&(ei=We.getValue(ei+"")),St!=null&&(St=We.getValue(St+"")),oi!=null&&(oi=We.getValue(oi+"")),ei!==null&&!We.isString(ei)||!We.isString(St)||oi!==null&&!We.isString(oi)){if(!We.isString(ei)||St!=null&&!We.isString(St))throw new Error("Attribute name and value not specified. "+this._debugInfo());hi=(ai=je([void 0,ei,St],3))[0],ci=ai[1],mi=ai[2]}else hi=(si=je([ei,St,oi],3))[0],ci=si[1],mi=si[2];if(this._options.keepNullAttributes&&mi==null)mi="";else if(mi==null)return this;if(!Ze.Guard.isElementNode(this.node))throw new Error("An attribute can only be assigned to an element node.");var pi=this.node;hi=(ui=je(this._extractNamespace(hi,ci,!1),2))[0],ci=ui[1],ci=Qe.sanitizeInput(ci,this._options.invalidCharReplacement),hi=Qe.sanitizeInput(hi,this._options.invalidCharReplacement),mi=Qe.sanitizeInput(mi,this._options.invalidCharReplacement);var yi=je(Je.namespace_extractQName(ci),2),gi=yi[0],_i=yi[1],Ai=je(Je.namespace_extractQName(pi.prefix?pi.prefix+":"+pi.localName:pi.localName),1)[0],ki=null;return gi==="xmlns"?(hi=ti.namespace.XMLNS,pi.namespaceURI===null&&Ai===_i&&(ki=mi)):gi===null&&_i==="xmlns"&&Ai===null&&(hi=ti.namespace.XMLNS,ki=mi),ki!==null&&(this._updateNamespace(ki),pi=this.node),hi!==void 0?pi.setAttributeNS(hi,ci,mi):pi.setAttribute(ci,mi),this},ii.prototype.removeAtt=function(ei,St){var oi,si,ai=this;if(!Ze.Guard.isElementNode(this.node))throw new Error("An attribute can only be removed from an element node.");if(ei=We.getValue(ei),St!==void 0&&(St=We.getValue(St)),ei!==null&&St===void 0)si=ei;else{if(ei!==null&&!We.isString(ei)||St===void 0)throw new Error("Attribute namespace must be a string. "+this._debugInfo());oi=ei,si=St}return We.isArray(si)||We.isSet(si)?We.forEachArray(si,function(ui){return oi===void 0?ai.removeAtt(ui):ai.removeAtt(oi,ui)},this):oi!==void 0?(si=Qe.sanitizeInput(si,this._options.invalidCharReplacement),oi=Qe.sanitizeInput(oi,this._options.invalidCharReplacement),this.node.removeAttributeNS(oi,si)):(si=Qe.sanitizeInput(si,this._options.invalidCharReplacement),this.node.removeAttribute(si)),this},ii.prototype.txt=function(ei){if(ei==null){if(!this._options.keepNullNodes)return this;ei=""}var St=this._doc.createTextNode(Qe.sanitizeInput(ei,this._options.invalidCharReplacement));return this.node.appendChild(St),this},ii.prototype.com=function(ei){if(ei==null){if(!this._options.keepNullNodes)return this;ei=""}var St=this._doc.createComment(Qe.sanitizeInput(ei,this._options.invalidCharReplacement));return this.node.appendChild(St),this},ii.prototype.dat=function(ei){if(ei==null){if(!this._options.keepNullNodes)return this;ei=""}var St=this._doc.createCDATASection(Qe.sanitizeInput(ei,this._options.invalidCharReplacement));return this.node.appendChild(St),this},ii.prototype.ins=function(ei,St){var oi=this;if(St===void 0&&(St=""),St==null){if(!this._options.keepNullNodes)return this;St=""}if(We.isArray(ei)||We.isSet(ei))We.forEachArray(ei,function(ai){var ui=(ai+="").indexOf(" "),hi=ui===-1?ai:ai.substr(0,ui),ci=ui===-1?"":ai.substr(ui+1);oi.ins(hi,ci)},this);else if(We.isMap(ei)||We.isObject(ei))We.forEachObject(ei,function(ai,ui){return oi.ins(ai,ui)},this);else{var si=this._doc.createProcessingInstruction(Qe.sanitizeInput(ei,this._options.invalidCharReplacement),Qe.sanitizeInput(St,this._options.invalidCharReplacement));this.node.appendChild(si)}return this},ii.prototype.dec=function(ei){return this._options.version=ei.version||"1.0",this._options.encoding=ei.encoding,this._options.standalone=ei.standalone,this},ii.prototype.dtd=function(ei){var St=Qe.sanitizeInput(ei&&ei.name||(this._doc.documentElement?this._doc.documentElement.tagName:"ROOT"),this._options.invalidCharReplacement),oi=Qe.sanitizeInput(ei&&ei.pubID||"",this._options.invalidCharReplacement),si=Qe.sanitizeInput(ei&&ei.sysID||"",this._options.invalidCharReplacement);if(this._doc.documentElement!==null&&St!==this._doc.documentElement.tagName)throw new Error("DocType name does not match document element name.");var ai=this._doc.implementation.createDocumentType(St,oi,si);return this._doc.doctype!==null?this._doc.replaceChild(ai,this._doc.doctype):this._doc.insertBefore(ai,this._doc.documentElement),this},ii.prototype.import=function(ei){var St,oi,si=this._domNode,ai=this._doc,ui=ei.node;if(Ze.Guard.isDocumentNode(ui)){var hi=ui.documentElement;if(hi===null)throw new Error("Imported document has no document element node. "+this._debugInfo());var ci=ai.importNode(hi,!0);si.appendChild(ci);var mi=je(Je.namespace_extractQName(ci.prefix?ci.prefix+":"+ci.localName:ci.localName),1)[0],di=si.lookupNamespaceURI(mi);new ii(ci)._updateNamespace(di)}else if(Ze.Guard.isDocumentFragmentNode(ui))try{for(var pi=ze(ui.childNodes),yi=pi.next();!yi.done;yi=pi.next()){var gi=yi.value;ci=ai.importNode(gi,!0),si.appendChild(ci),Ze.Guard.isElementNode(ci)&&(mi=je(Je.namespace_extractQName(ci.prefix?ci.prefix+":"+ci.localName:ci.localName),1)[0],di=si.lookupNamespaceURI(mi),new ii(ci)._updateNamespace(di))}}catch(_i){St={error:_i}}finally{try{yi&&!yi.done&&(oi=pi.return)&&oi.call(pi)}finally{if(St)throw St.error}}else ci=ai.importNode(ui,!0),si.appendChild(ci),Ze.Guard.isElementNode(ci)&&(mi=je(Je.namespace_extractQName(ci.prefix?ci.prefix+":"+ci.localName:ci.localName),1)[0],di=si.lookupNamespaceURI(mi),new ii(ci)._updateNamespace(di));return this},ii.prototype.doc=function(){if(this._doc._isFragment){for(var ei=this.node;ei&&ei.nodeType!==Ke.NodeType.DocumentFragment;)ei=ei.parentNode;if(ei===null)throw new Error("Node has no parent node while searching for document fragment ancestor. "+this._debugInfo());return new ii(ei)}return new ii(this._doc)},ii.prototype.root=function(){var ei=this._doc.documentElement;if(!ei)throw new Error("Document root element is null. "+this._debugInfo());return new ii(ei)},ii.prototype.up=function(){var ei=this._domNode.parentNode;if(!ei)throw new Error("Parent node is null. "+this._debugInfo());return new ii(ei)},ii.prototype.prev=function(){var ei=this._domNode.previousSibling;if(!ei)throw new Error("Previous sibling node is null. "+this._debugInfo());return new ii(ei)},ii.prototype.next=function(){var ei=this._domNode.nextSibling;if(!ei)throw new Error("Next sibling node is null. "+this._debugInfo());return new ii(ei)},ii.prototype.first=function(){var ei=this._domNode.firstChild;if(!ei)throw new Error("First child node is null. "+this._debugInfo());return new ii(ei)},ii.prototype.last=function(){var ei=this._domNode.lastChild;if(!ei)throw new Error("Last child node is null. "+this._debugInfo());return new ii(ei)},ii.prototype.each=function(ei,St,oi,si){St===void 0&&(St=!1),oi===void 0&&(oi=!1);for(var ai=this._getFirstDescendantNode(this._domNode,St,oi);ai[0];){var ui=this._getNextDescendantNode(this._domNode,ai[0],oi,ai[1],ai[2]);ei.call(si,new ii(ai[0]),ai[1],ai[2]),ai=ui}return this},ii.prototype.map=function(ei,St,oi,si){St===void 0&&(St=!1),oi===void 0&&(oi=!1);var ai=[];return this.each(function(ui,hi,ci){return ai.push(ei.call(si,ui,hi,ci))},St,oi),ai},ii.prototype.reduce=function(ei,St,oi,si,ai){oi===void 0&&(oi=!1),si===void 0&&(si=!1);var ui=St;return this.each(function(hi,ci,mi){return ui=ei.call(ai,ui,hi,ci,mi)},oi,si),ui},ii.prototype.find=function(ei,St,oi,si){St===void 0&&(St=!1),oi===void 0&&(oi=!1);for(var ai=this._getFirstDescendantNode(this._domNode,St,oi);ai[0];){var ui=new ii(ai[0]);if(ei.call(si,ui,ai[1],ai[2]))return ui;ai=this._getNextDescendantNode(this._domNode,ai[0],oi,ai[1],ai[2])}},ii.prototype.filter=function(ei,St,oi,si){St===void 0&&(St=!1),oi===void 0&&(oi=!1);var ai=[];return this.each(function(ui,hi,ci){ei.call(si,ui,hi,ci)&&ai.push(ui)},St,oi),ai},ii.prototype.every=function(ei,St,oi,si){St===void 0&&(St=!1),oi===void 0&&(oi=!1);for(var ai=this._getFirstDescendantNode(this._domNode,St,oi);ai[0];){var ui=new ii(ai[0]);if(!ei.call(si,ui,ai[1],ai[2]))return!1;ai=this._getNextDescendantNode(this._domNode,ai[0],oi,ai[1],ai[2])}return!0},ii.prototype.some=function(ei,St,oi,si){St===void 0&&(St=!1),oi===void 0&&(oi=!1);for(var ai=this._getFirstDescendantNode(this._domNode,St,oi);ai[0];){var ui=new ii(ai[0]);if(ei.call(si,ui,ai[1],ai[2]))return!0;ai=this._getNextDescendantNode(this._domNode,ai[0],oi,ai[1],ai[2])}return!1},ii.prototype.toArray=function(ei,St){ei===void 0&&(ei=!1),St===void 0&&(St=!1);var oi=[];return this.each(function(si){return oi.push(si)},ei,St),oi},ii.prototype.toString=function(ei){return(ei=ei||{}).format===void 0&&(ei.format="xml"),this._serialize(ei)},ii.prototype.toObject=function(ei){return(ei=ei||{}).format===void 0&&(ei.format="object"),this._serialize(ei)},ii.prototype.end=function(ei){return(ei=ei||{}).format===void 0&&(ei.format="xml"),this.doc()._serialize(ei)},ii.prototype._getFirstDescendantNode=function(ei,St,oi){return St?[this._domNode,0,0]:oi?this._getNextDescendantNode(ei,ei,oi,0,0):[this._domNode.firstChild,0,1]},ii.prototype._getNextDescendantNode=function(ei,St,oi,si,ai){if(!oi)return ei===St?[St.firstChild,0,ai+1]:[St.nextSibling,si+1,ai];if(St.firstChild)return[St.firstChild,0,ai+1];if(St===ei)return[null,-1,-1];if(St.nextSibling)return[St.nextSibling,si+1,ai];for(var ui=St.parentNode;ui&&ui!==ei;){if(ui.nextSibling)return[ui.nextSibling,Je.tree_index(ui.nextSibling),ai-1];ui=ui.parentNode,ai--}return[null,-1,-1]},ii.prototype._serialize=function(ei){if(ei.format==="xml")return new qe.XMLWriter(this._options,ei).serialize(this.node);if(ei.format==="map")return new qe.MapWriter(this._options,ei).serialize(this.node);if(ei.format==="object")return new qe.ObjectWriter(this._options,ei).serialize(this.node);if(ei.format==="json")return new qe.JSONWriter(this._options,ei).serialize(this.node);if(ei.format==="yaml")return new qe.YAMLWriter(this._options,ei).serialize(this.node);throw new Error("Invalid writer format: "+ei.format+". "+this._debugInfo())},ii.prototype._extractNamespace=function(ei,St,oi){var si=St.indexOf("@");if(si>0&&(ei===void 0&&(ei=St.slice(si+1)),St=St.slice(0,si)),ei===void 0)ei=oi?this._options.defaultNamespace.ele:this._options.defaultNamespace.att;else if(ei!==null&&ei[0]==="@"){var ai=ei.slice(1);if((ei=this._options.namespaceAlias[ai])===void 0)throw new Error("Namespace alias `"+ai+"` is not defined. "+this._debugInfo())}return[ei,St]},ii.prototype._updateNamespace=function(ei){var St,oi,si,ai,ui=this._domNode;if(Ze.Guard.isElementNode(ui)&&ei!==null&&ui.namespaceURI!==ei){var hi=je(Je.namespace_extractQName(ui.prefix?ui.prefix+":"+ui.localName:ui.localName),2),ci=hi[0],mi=hi[1],di=Je.create_element(this._doc,mi,ei,ci);try{for(var pi=ze(ui.attributes),yi=pi.next();!yi.done;yi=pi.next()){var gi=yi.value,_i=gi.prefix?gi.prefix+":"+gi.localName:gi.localName,Ai=je(Je.namespace_extractQName(_i),1)[0],ki=gi.namespaceURI;ki===null&&Ai!==null&&(ki=ui.lookupNamespaceURI(Ai)),ki===null?di.setAttribute(_i,gi.value):di.setAttributeNS(ki,_i,gi.value)}}catch(Vi){St={error:Vi}}finally{try{yi&&!yi.done&&(oi=pi.return)&&oi.call(pi)}finally{if(St)throw St.error}}var vi=ui.parentNode;if(vi===null)throw new Error("Parent node is null."+this._debugInfo());vi.replaceChild(di,ui),this._domNode=di;try{for(var Mi=ze(ui.childNodes),Di=Mi.next();!Di.done;Di=Mi.next()){var Bi=Di.value.cloneNode(!0);if(di.appendChild(Bi),Ze.Guard.isElementNode(Bi)){var Pi=je(Je.namespace_extractQName(Bi.prefix?Bi.prefix+":"+Bi.localName:Bi.localName),1)[0],Fi=di.lookupNamespaceURI(Pi);new ii(Bi)._updateNamespace(Fi)}}}catch(Vi){si={error:Vi}}finally{try{Di&&!Di.done&&(ai=Mi.return)&&ai.call(Mi)}finally{if(si)throw si.error}}}},Object.defineProperty(ii.prototype,"_doc",{get:function(){var ei=this.node;if(Ze.Guard.isDocumentNode(ei))return ei;var St=ei.ownerDocument;if(!St)throw new Error("Owner document is null. "+this._debugInfo());return St},enumerable:!0,configurable:!0}),ii.prototype._debugInfo=function(ei){var St=this.node,oi=St.parentNode;ei=ei||St.nodeName;var si=oi?oi.nodeName:"";return si?"node: <"+ei+">, parent: <"+si+">":"node: <"+ei+">"},Object.defineProperty(ii.prototype,"_options",{get:function(){var ei=this._doc;if(ei._xmlBuilderOptions===void 0)throw new Error("Builder options is not set.");return ei._xmlBuilderOptions},set:function(ei){this._doc._xmlBuilderOptions=ei},enumerable:!0,configurable:!0}),ii}();r.XMLBuilderImpl=ri},function(t,r,Ve){var je=Ve(11),ze=Ve(117),Xe=je.WeakMap;t.exports=typeof Xe=="function"&&/native code/.test(ze(Xe))},function(t,r,Ve){var je=Ve(46),ze=Ve(82),Xe=Ve(85),We=Ve(18);t.exports=je("Reflect","ownKeys")||function(qe){var Ke=ze.f(We(qe)),Ze=Xe.f;return Ze?Ke.concat(Ze(qe)):Ke}},function(t,r,Ve){var je=Ve(16),ze=Ve(15),Xe=Ve(18),We=Ve(61);t.exports=je?Object.defineProperties:function(qe,Ke){Xe(qe);for(var Ze,Je=We(Ke),Qe=Je.length,ti=0;Qe>ti;)ze.f(qe,Ze=Je[ti++],Ke[Ze]);return qe}},function(t,r,Ve){var je=Ve(46);t.exports=je("document","documentElement")},function(t,r,Ve){var je=Ve(24),ze=Ve(82).f,Xe={}.toString,We=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(qe){return We&&Xe.call(qe)=="[object Window]"?function(Ke){try{return ze(Ke)}catch{return We.slice()}}(qe):ze(je(qe))}},function(t,r,Ve){var je=Ve(4),ze=Ve(36).every,Xe=Ve(48),We=Ve(28),qe=Xe("every"),Ke=We("every");je({target:"Array",proto:!0,forced:!qe||!Ke},{every:function(Ze){return ze(this,Ze,arguments.length>1?arguments[1]:void 0)}})},function(t,r,Ve){var je=Ve(4),ze=Ve(36).filter,Xe=Ve(63),We=Ve(28),qe=Xe("filter"),Ke=We("filter");je({target:"Array",proto:!0,forced:!qe||!Ke},{filter:function(Ze){return ze(this,Ze,arguments.length>1?arguments[1]:void 0)}})},function(t,r,Ve){var je=Ve(46);t.exports=je("navigator","userAgent")||""},function(t,r,Ve){var je=Ve(4),ze=Ve(36).find,Xe=Ve(130),We=Ve(28),qe=!0,Ke=We("find");"find"in[]&&Array(1).find(function(){qe=!1}),je({target:"Array",proto:!0,forced:qe||!Ke},{find:function(Ze){return ze(this,Ze,arguments.length>1?arguments[1]:void 0)}}),Xe("find")},function(t,r,Ve){var je=Ve(131).IteratorPrototype,ze=Ve(60),Xe=Ve(40),We=Ve(62),qe=Ve(49),Ke=function(){return this};t.exports=function(Ze,Je,Qe){var ti=Je+" Iterator";return Ze.prototype=ze(je,{next:Xe(1,Qe)}),We(Ze,ti,!1,!0),qe[ti]=Ke,Ze}},function(t,r,Ve){var je=Ve(8);t.exports=!je(function(){function ze(){}return ze.prototype.constructor=null,Object.getPrototypeOf(new ze)!==ze.prototype})},function(t,r,Ve){var je=Ve(13);t.exports=function(ze){if(!je(ze)&&ze!==null)throw TypeError("Can't set "+String(ze)+" as a prototype");return ze}},function(t,r,Ve){var je=Ve(4),ze=Ve(36).map,Xe=Ve(63),We=Ve(28),qe=Xe("map"),Ke=We("map");je({target:"Array",proto:!0,forced:!qe||!Ke},{map:function(Ze){return ze(this,Ze,arguments.length>1?arguments[1]:void 0)}})},function(t,r,Ve){var je=Ve(4),ze=Ve(200).left,Xe=Ve(48),We=Ve(28),qe=Xe("reduce"),Ke=We("reduce",{1:0});je({target:"Array",proto:!0,forced:!qe||!Ke},{reduce:function(Ze){return ze(this,Ze,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(t,r,Ve){var je=Ve(127),ze=Ve(27),Xe=Ve(41),We=Ve(26),qe=function(Ke){return function(Ze,Je,Qe,ti){je(Je);var ni=ze(Ze),ri=Xe(ni),ii=We(ni.length),ei=Ke?ii-1:0,St=Ke?-1:1;if(Qe<2)for(;;){if(ei in ri){ti=ri[ei],ei+=St;break}if(ei+=St,Ke?ei<0:ii<=ei)throw TypeError("Reduce of empty array with no initial value")}for(;Ke?ei>=0:ii>ei;ei+=St)ei in ri&&(ti=Je(ti,ri[ei],ei,ni));return ti}};t.exports={left:qe(!1),right:qe(!0)}},function(t,r,Ve){var je=Ve(4),ze=Ve(36).some,Xe=Ve(48),We=Ve(28),qe=Xe("some"),Ke=We("some");je({target:"Array",proto:!0,forced:!qe||!Ke},{some:function(Ze){return ze(this,Ze,arguments.length>1?arguments[1]:void 0)}})},function(t,r,Ve){var je=Ve(90),ze=Ve(135);t.exports=je?{}.toString:function(){return"[object "+ze(this)+"]"}},function(t,r){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,r,Ve){var je=Ve(8);t.exports=!je(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(t,r,Ve){var je=Ve(5),ze=Ve(49),Xe=je("iterator"),We=Array.prototype;t.exports=function(qe){return qe!==void 0&&(ze.Array===qe||We[Xe]===qe)}},function(t,r,Ve){var je=Ve(135),ze=Ve(49),Xe=Ve(5)("iterator");t.exports=function(We){if(We!=null)return We[Xe]||We["@@iterator"]||ze[je(We)]}},function(t,r,Ve){var je=Ve(18);t.exports=function(ze,Xe,We,qe){try{return qe?Xe(je(We)[0],We[1]):Xe(We)}catch(Ze){var Ke=ze.return;throw Ke!==void 0&&je(Ke.call(ze)),Ze}}},function(t,r,Ve){var je=Ve(5)("iterator"),ze=!1;try{var Xe=0,We={next:function(){return{done:!!Xe++}},return:function(){ze=!0}};We[je]=function(){return this},Array.from(We,function(){throw 2})}catch{}t.exports=function(qe,Ke){if(!Ke&&!ze)return!1;var Ze=!1;try{var Je={};Je[je]=function(){return{next:function(){return{done:Ze=!0}}}},qe(Je)}catch{}return Ze}},function(t,r,Ve){var je=Ve(13),ze=Ve(133);t.exports=function(Xe,We,qe){var Ke,Ze;return ze&&typeof(Ke=We.constructor)=="function"&&Ke!==qe&&je(Ze=Ke.prototype)&&Ze!==qe.prototype&&ze(Xe,Ze),Xe}},function(t,r,Ve){var je=Ve(25);t.exports=function(ze,Xe,We){for(var qe in Xe)je(ze,qe,Xe[qe],We);return ze}},function(t,r,Ve){var je=Ve(46),ze=Ve(15),Xe=Ve(5),We=Ve(16),qe=Xe("species");t.exports=function(Ke){var Ze=je(Ke),Je=ze.f;We&&Ze&&!Ze[qe]&&Je(Ze,qe,{configurable:!0,get:function(){return this}})}},function(t,r,Ve){var je=this&&this.__generator||function(We,qe){var Ke,Ze,Je,Qe,ti={label:0,sent:function(){if(1&Je[0])throw Je[1];return Je[1]},trys:[],ops:[]};return Qe={next:ni(0),throw:ni(1),return:ni(2)},typeof Symbol=="function"&&(Qe[Symbol.iterator]=function(){return this}),Qe;function ni(ri){return function(ii){return function(ei){if(Ke)throw new TypeError("Generator is already executing.");for(;ti;)try{if(Ke=1,Ze&&(Je=2&ei[0]?Ze.return:ei[0]?Ze.throw||((Je=Ze.return)&&Je.call(Ze),0):Ze.next)&&!(Je=Je.call(Ze,ei[1])).done)return Je;switch(Ze=0,Je&&(ei=[2&ei[0],Je.value]),ei[0]){case 0:case 1:Je=ei;break;case 4:return ti.label++,{value:ei[1],done:!1};case 5:ti.label++,Ze=ei[1],ei=[0];continue;case 7:ei=ti.ops.pop(),ti.trys.pop();continue;default:if(Je=ti.trys,!((Je=Je.length>0&&Je[Je.length-1])||ei[0]!==6&&ei[0]!==2)){ti=0;continue}if(ei[0]===3&&(!Je||ei[1]>Je[0]&&ei[1]<Je[3])){ti.label=ei[1];break}if(ei[0]===6&&ti.label<Je[1]){ti.label=Je[1],Je=ei;break}if(Je&&ti.label<Je[2]){ti.label=Je[2],ti.ops.push(ei);break}Je[2]&&ti.ops.pop(),ti.trys.pop();continue}ei=qe.call(We,ti)}catch(St){ei=[6,St],Ze=0}finally{Ke=Je=0}if(5&ei[0])throw ei[1];return{value:ei[0]?ei[1]:void 0,done:!0}}([ri,ii])}}},ze=this&&this.__values||function(We){var qe=typeof Symbol=="function"&&Symbol.iterator,Ke=qe&&We[qe],Ze=0;if(Ke)return Ke.call(We);if(We&&typeof We.length=="number")return{next:function(){return We&&Ze>=We.length&&(We=void 0),{value:We&&We[Ze++],done:!We}}};throw new TypeError(qe?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var Xe=function(){function We(qe){qe===void 0&&(qe=1e3),this._items=new Set,this._limit=qe}return We.prototype.add=function(qe){if(this._items.add(qe),this._items.size>this._limit){var Ke=this._items.values().next();Ke.done||this._items.delete(Ke.value)}return this},We.prototype.delete=function(qe){return this._items.delete(qe)},We.prototype.has=function(qe){return this._items.has(qe)},We.prototype.clear=function(){this._items.clear()},Object.defineProperty(We.prototype,"size",{get:function(){return this._items.size},enumerable:!0,configurable:!0}),We.prototype.forEach=function(qe,Ke){var Ze=this;this._items.forEach(function(Je){return qe.call(Ke,Je,Je,Ze)})},We.prototype.keys=function(){return je(this,function(qe){switch(qe.label){case 0:return[5,ze(this._items.keys())];case 1:return qe.sent(),[2]}})},We.prototype.values=function(){return je(this,function(qe){switch(qe.label){case 0:return[5,ze(this._items.values())];case 1:return qe.sent(),[2]}})},We.prototype.entries=function(){return je(this,function(qe){switch(qe.label){case 0:return[5,ze(this._items.entries())];case 1:return qe.sent(),[2]}})},We.prototype[Symbol.iterator]=function(){return je(this,function(qe){switch(qe.label){case 0:return[5,ze(this._items)];case 1:return qe.sent(),[2]}})},Object.defineProperty(We.prototype,Symbol.toStringTag,{get:function(){return"FixedSizeSet"},enumerable:!0,configurable:!0}),We}();r.FixedSizeSet=Xe},function(t,r,Ve){var je=this&&this.__generator||function(We,qe){var Ke,Ze,Je,Qe,ti={label:0,sent:function(){if(1&Je[0])throw Je[1];return Je[1]},trys:[],ops:[]};return Qe={next:ni(0),throw:ni(1),return:ni(2)},typeof Symbol=="function"&&(Qe[Symbol.iterator]=function(){return this}),Qe;function ni(ri){return function(ii){return function(ei){if(Ke)throw new TypeError("Generator is already executing.");for(;ti;)try{if(Ke=1,Ze&&(Je=2&ei[0]?Ze.return:ei[0]?Ze.throw||((Je=Ze.return)&&Je.call(Ze),0):Ze.next)&&!(Je=Je.call(Ze,ei[1])).done)return Je;switch(Ze=0,Je&&(ei=[2&ei[0],Je.value]),ei[0]){case 0:case 1:Je=ei;break;case 4:return ti.label++,{value:ei[1],done:!1};case 5:ti.label++,Ze=ei[1],ei=[0];continue;case 7:ei=ti.ops.pop(),ti.trys.pop();continue;default:if(Je=ti.trys,!((Je=Je.length>0&&Je[Je.length-1])||ei[0]!==6&&ei[0]!==2)){ti=0;continue}if(ei[0]===3&&(!Je||ei[1]>Je[0]&&ei[1]<Je[3])){ti.label=ei[1];break}if(ei[0]===6&&ti.label<Je[1]){ti.label=Je[1],Je=ei;break}if(Je&&ti.label<Je[2]){ti.label=Je[2],ti.ops.push(ei);break}Je[2]&&ti.ops.pop(),ti.trys.pop();continue}ei=qe.call(We,ti)}catch(St){ei=[6,St],Ze=0}finally{Ke=Je=0}if(5&ei[0])throw ei[1];return{value:ei[0]?ei[1]:void 0,done:!0}}([ri,ii])}}},ze=this&&this.__values||function(We){var qe=typeof Symbol=="function"&&Symbol.iterator,Ke=qe&&We[qe],Ze=0;if(Ke)return Ke.call(We);if(We&&typeof We.length=="number")return{next:function(){return We&&Ze>=We.length&&(We=void 0),{value:We&&We[Ze++],done:!We}}};throw new TypeError(qe?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var Xe=function(){function We(qe){qe===void 0&&(qe=1e3),this._items=new Map,this._limit=qe}return We.prototype.get=function(qe){return this._items.get(qe)},We.prototype.set=function(qe,Ke){if(this._items.set(qe,Ke),this._items.size>this._limit){var Ze=this._items.keys().next();Ze.done||this._items.delete(Ze.value)}},We.prototype.delete=function(qe){return this._items.delete(qe)},We.prototype.has=function(qe){return this._items.has(qe)},We.prototype.clear=function(){this._items.clear()},Object.defineProperty(We.prototype,"size",{get:function(){return this._items.size},enumerable:!0,configurable:!0}),We.prototype.forEach=function(qe,Ke){this._items.forEach(function(Ze,Je){return qe.call(Ke,Je,Ze)})},We.prototype.keys=function(){return je(this,function(qe){switch(qe.label){case 0:return[5,ze(this._items.keys())];case 1:return qe.sent(),[2]}})},We.prototype.values=function(){return je(this,function(qe){switch(qe.label){case 0:return[5,ze(this._items.values())];case 1:return qe.sent(),[2]}})},We.prototype.entries=function(){return je(this,function(qe){switch(qe.label){case 0:return[5,ze(this._items.entries())];case 1:return qe.sent(),[2]}})},We.prototype[Symbol.iterator]=function(){return je(this,function(qe){switch(qe.label){case 0:return[5,ze(this._items)];case 1:return qe.sent(),[2]}})},Object.defineProperty(We.prototype,Symbol.toStringTag,{get:function(){return"ObjectCache"},enumerable:!0,configurable:!0}),We}();r.ObjectCache=Xe},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=function(){function ze(Xe){Xe===void 0&&(Xe=1e3),this._items=new Map,this._limit=Xe}return ze.prototype.check=function(Xe,We){if(this._items.get(Xe)===We)return!0;if(this._items.get(We)===Xe)return!1;var qe=Math.random()<.5;if(qe?this._items.set(Xe,We):this._items.set(We,Xe),this._items.size>this._limit){var Ke=this._items.keys().next();Ke.done||this._items.delete(Ke.value)}return qe},ze}();r.CompareCache=je},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=function(){function ze(Xe){this._initialized=!1,this._value=void 0,this._initFunc=Xe}return Object.defineProperty(ze.prototype,"value",{get:function(){return this._initialized||(this._value=this._initFunc(),this._initialized=!0),this._value},enumerable:!0,configurable:!0}),ze}();r.Lazy=je},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=function(){function ze(Xe){this._pointer=0,this._chars=Array.from(Xe),this._length=this._chars.length}return Object.defineProperty(ze.prototype,"eof",{get:function(){return this._pointer>=this._length},enumerable:!0,configurable:!0}),Object.defineProperty(ze.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),ze.prototype.codePoint=function(){if(this._codePoint===void 0)if(this.eof)this._codePoint=-1;else{var Xe=this._chars[this._pointer].codePointAt(0);this._codePoint=Xe!==void 0?Xe:-1}return this._codePoint},ze.prototype.c=function(){return this._c===void 0&&(this._c=this.eof?"":this._chars[this._pointer]),this._c},ze.prototype.remaining=function(){return this._remaining===void 0&&(this._remaining=this.eof?"":this._chars.slice(this._pointer+1).join("")),this._remaining},ze.prototype.substring=function(){return this._substring===void 0&&(this._substring=this.eof?"":this._chars.slice(this._pointer).join("")),this._substring},Object.defineProperty(ze.prototype,"pointer",{get:function(){return this._pointer},set:function(Xe){Xe!==this._pointer&&(this._pointer=Xe,this._codePoint=void 0,this._c=void 0,this._remaining=void 0,this._substring=void 0)},enumerable:!0,configurable:!0}),ze}();r.StringWalker=je},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(218);r.MapWriter=je.MapWriter;var ze=Ve(259);r.XMLWriter=ze.XMLWriter;var Xe=Ve(67);r.ObjectWriter=Xe.ObjectWriter;var We=Ve(261);r.JSONWriter=We.JSONWriter;var qe=Ve(262);r.YAMLWriter=qe.YAMLWriter},function(t,r,Ve){Ve(19),Ve(219),Ve(20),Ve(22),Ve(23);var je,ze=this&&this.__extends||(je=function(Ke,Ze){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Je,Qe){Je.__proto__=Qe}||function(Je,Qe){for(var ti in Qe)Qe.hasOwnProperty(ti)&&(Je[ti]=Qe[ti])})(Ke,Ze)},function(Ke,Ze){function Je(){this.constructor=Ke}je(Ke,Ze),Ke.prototype=Ze===null?Object.create(Ze):(Je.prototype=Ze.prototype,new Je)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(2),We=Ve(67),qe=function(Ke){function Ze(Je,Qe){var ti=Ke.call(this,Je)||this;return ti._writerOptions=Xe.applyDefaults(Qe,{format:"map",wellFormed:!1,group:!1,verbose:!1}),ti}return ze(Ze,Ke),Ze.prototype.serialize=function(Je){var Qe=Xe.applyDefaults(this._writerOptions,{format:"object",wellFormed:!1,verbose:!1}),ti=new We.ObjectWriter(this._builderOptions,Qe).serialize(Je);return this._convertObject(ti)},Ze.prototype._convertObject=function(Je){if(Xe.isArray(Je)){for(var Qe=0;Qe<Je.length;Qe++)Je[Qe]=this._convertObject(Je[Qe]);return Je}if(Xe.isObject(Je)){var ti=new Map;for(var ni in Je)ti.set(ni,this._convertObject(Je[ni]));return ti}return Je},Ze}(Ve(50).BaseWriter);r.MapWriter=qe},function(t,r,Ve){var je=Ve(139),ze=Ve(143);t.exports=je("Map",function(Xe){return function(){return Xe(this,arguments.length?arguments[0]:void 0)}},ze)},function(t,r,Ve){var je=Ve(4),ze=Ve(8),Xe=Ve(59),We=Ve(13),qe=Ve(27),Ke=Ve(26),Ze=Ve(134),Je=Ve(128),Qe=Ve(63),ti=Ve(5),ni=Ve(129),ri=ti("isConcatSpreadable"),ii=ni>=51||!ze(function(){var oi=[];return oi[ri]=!1,oi.concat()[0]!==oi}),ei=Qe("concat"),St=function(oi){if(!We(oi))return!1;var si=oi[ri];return si!==void 0?!!si:Xe(oi)};je({target:"Array",proto:!0,forced:!ii||!ei},{concat:function(oi){var si,ai,ui,hi,ci,mi=qe(this),di=Je(mi,0),pi=0;for(si=-1,ui=arguments.length;si<ui;si++)if(St(ci=si===-1?mi:arguments[si])){if(pi+(hi=Ke(ci.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(ai=0;ai<hi;ai++,pi++)ai in ci&&Ze(di,pi,ci[ai])}else{if(pi>=9007199254740991)throw TypeError("Maximum allowed index exceeded");Ze(di,pi++,ci)}return di.length=pi,di}})},function(t,r,Ve){var je=Ve(8);function ze(Xe,We){return RegExp(Xe,We)}r.UNSUPPORTED_Y=je(function(){var Xe=ze("a","y");return Xe.lastIndex=2,Xe.exec("abcd")!=null}),r.BROKEN_CARET=je(function(){var Xe=ze("^r","gy");return Xe.lastIndex=2,Xe.exec("str")!=null})},function(t,r,Ve){var je=Ve(223);t.exports=function(ze){if(je(ze))throw TypeError("The method doesn't accept regular expressions");return ze}},function(t,r,Ve){var je=Ve(13),ze=Ve(42),Xe=Ve(5)("match");t.exports=function(We){var qe;return je(We)&&((qe=We[Xe])!==void 0?!!qe:ze(We)=="RegExp")}},function(t,r,Ve){var je=Ve(5)("match");t.exports=function(ze){var Xe=/./;try{"/./"[ze](Xe)}catch{try{return Xe[je]=!1,"/./"[ze](Xe)}catch{}}return!1}},function(t,r,Ve){Ve(68);var je=Ve(25),ze=Ve(8),Xe=Ve(5),We=Ve(93),qe=Ve(21),Ke=Xe("species"),Ze=!ze(function(){var ri=/./;return ri.exec=function(){var ii=[];return ii.groups={a:"7"},ii},"".replace(ri,"$<a>")!=="7"}),Je="a".replace(/./,"$0")==="$0",Qe=Xe("replace"),ti=!!/./[Qe]&&/./[Qe]("a","$0")==="",ni=!ze(function(){var ri=/(?:)/,ii=ri.exec;ri.exec=function(){return ii.apply(this,arguments)};var ei="ab".split(ri);return ei.length!==2||ei[0]!=="a"||ei[1]!=="b"});t.exports=function(ri,ii,ei,St){var oi=Xe(ri),si=!ze(function(){var di={};return di[oi]=function(){return 7},""[ri](di)!=7}),ai=si&&!ze(function(){var di=!1,pi=/a/;return ri==="split"&&((pi={}).constructor={},pi.constructor[Ke]=function(){return pi},pi.flags="",pi[oi]=/./[oi]),pi.exec=function(){return di=!0,null},pi[oi](""),!di});if(!si||!ai||ri==="replace"&&(!Ze||!Je||ti)||ri==="split"&&!ni){var ui=/./[oi],hi=ei(oi,""[ri],function(di,pi,yi,gi,_i){return pi.exec===We?si&&!_i?{done:!0,value:ui.call(pi,yi,gi)}:{done:!0,value:di.call(yi,pi,gi)}:{done:!1}},{REPLACE_KEEPS_$0:Je,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:ti}),ci=hi[0],mi=hi[1];je(String.prototype,ri,ci),je(RegExp.prototype,oi,ii==2?function(di,pi){return mi.call(di,this,pi)}:function(di){return mi.call(di,this)})}St&&qe(RegExp.prototype[oi],"sham",!0)}},function(t,r,Ve){var je=Ve(137).charAt;t.exports=function(ze,Xe,We){return Xe+(We?je(ze,Xe).length:1)}},function(t,r,Ve){var je=Ve(42),ze=Ve(93);t.exports=function(Xe,We){var qe=Xe.exec;if(typeof qe=="function"){var Ke=qe.call(Xe,We);if(typeof Ke!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return Ke}if(je(Xe)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return ze.call(Xe,We)}},function(t,r,Ve){(function(je){Object.defineProperty(r,"__esModule",{value:!0});var ze=Ve(96);r.forgivingBase64Encode=function(Xe){return je.from(Xe).toString("base64")},r.forgivingBase64Decode=function(Xe){return Xe===""?"":((Xe=Xe.replace(ze.ASCIIWhiteSpace,"")).length%4==0&&(Xe.endsWith("==")?Xe=Xe.substr(0,Xe.length-2):Xe.endsWith("=")&&(Xe=Xe.substr(0,Xe.length-1))),Xe.length%4==1?null:/[0-9A-Za-z+/]/.test(Xe)?je.from(Xe,"base64").toString("utf8"):null)}}).call(this,Ve(145).Buffer)},function(t,r,Ve){r.byteLength=function(Qe){var ti=Ze(Qe),ni=ti[0],ri=ti[1];return 3*(ni+ri)/4-ri},r.toByteArray=function(Qe){var ti,ni,ri=Ze(Qe),ii=ri[0],ei=ri[1],St=new Xe(function(ai,ui,hi){return 3*(ui+hi)/4-hi}(0,ii,ei)),oi=0,si=ei>0?ii-4:ii;for(ni=0;ni<si;ni+=4)ti=ze[Qe.charCodeAt(ni)]<<18|ze[Qe.charCodeAt(ni+1)]<<12|ze[Qe.charCodeAt(ni+2)]<<6|ze[Qe.charCodeAt(ni+3)],St[oi++]=ti>>16&255,St[oi++]=ti>>8&255,St[oi++]=255&ti;return ei===2&&(ti=ze[Qe.charCodeAt(ni)]<<2|ze[Qe.charCodeAt(ni+1)]>>4,St[oi++]=255&ti),ei===1&&(ti=ze[Qe.charCodeAt(ni)]<<10|ze[Qe.charCodeAt(ni+1)]<<4|ze[Qe.charCodeAt(ni+2)]>>2,St[oi++]=ti>>8&255,St[oi++]=255&ti),St},r.fromByteArray=function(Qe){for(var ti,ni=Qe.length,ri=ni%3,ii=[],ei=0,St=ni-ri;ei<St;ei+=16383)ii.push(Je(Qe,ei,ei+16383>St?St:ei+16383));return ri===1?(ti=Qe[ni-1],ii.push(je[ti>>2]+je[ti<<4&63]+"==")):ri===2&&(ti=(Qe[ni-2]<<8)+Qe[ni-1],ii.push(je[ti>>10]+je[ti>>4&63]+je[ti<<2&63]+"=")),ii.join("")};for(var je=[],ze=[],Xe=typeof Uint8Array<"u"?Uint8Array:Array,We="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qe=0,Ke=We.length;qe<Ke;++qe)je[qe]=We[qe],ze[We.charCodeAt(qe)]=qe;function Ze(Qe){var ti=Qe.length;if(ti%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var ni=Qe.indexOf("=");return ni===-1&&(ni=ti),[ni,ni===ti?0:4-ni%4]}function Je(Qe,ti,ni){for(var ri,ii,ei=[],St=ti;St<ni;St+=3)ri=(Qe[St]<<16&16711680)+(Qe[St+1]<<8&65280)+(255&Qe[St+2]),ei.push(je[(ii=ri)>>18&63]+je[ii>>12&63]+je[ii>>6&63]+je[63&ii]);return ei.join("")}ze[45]=62,ze[95]=63},function(t,r){r.read=function(Ve,je,ze,Xe,We){var qe,Ke,Ze=8*We-Xe-1,Je=(1<<Ze)-1,Qe=Je>>1,ti=-7,ni=ze?We-1:0,ri=ze?-1:1,ii=Ve[je+ni];for(ni+=ri,qe=ii&(1<<-ti)-1,ii>>=-ti,ti+=Ze;ti>0;qe=256*qe+Ve[je+ni],ni+=ri,ti-=8);for(Ke=qe&(1<<-ti)-1,qe>>=-ti,ti+=Xe;ti>0;Ke=256*Ke+Ve[je+ni],ni+=ri,ti-=8);if(qe===0)qe=1-Qe;else{if(qe===Je)return Ke?NaN:1/0*(ii?-1:1);Ke+=Math.pow(2,Xe),qe-=Qe}return(ii?-1:1)*Ke*Math.pow(2,qe-Xe)},r.write=function(Ve,je,ze,Xe,We,qe){var Ke,Ze,Je,Qe=8*qe-We-1,ti=(1<<Qe)-1,ni=ti>>1,ri=We===23?Math.pow(2,-24)-Math.pow(2,-77):0,ii=Xe?0:qe-1,ei=Xe?1:-1,St=je<0||je===0&&1/je<0?1:0;for(je=Math.abs(je),isNaN(je)||je===1/0?(Ze=isNaN(je)?1:0,Ke=ti):(Ke=Math.floor(Math.log(je)/Math.LN2),je*(Je=Math.pow(2,-Ke))<1&&(Ke--,Je*=2),(je+=Ke+ni>=1?ri/Je:ri*Math.pow(2,1-ni))*Je>=2&&(Ke++,Je/=2),Ke+ni>=ti?(Ze=0,Ke=ti):Ke+ni>=1?(Ze=(je*Je-1)*Math.pow(2,We),Ke+=ni):(Ze=je*Math.pow(2,ni-1)*Math.pow(2,We),Ke=0));We>=8;Ve[ze+ii]=255&Ze,ii+=ei,Ze/=256,We-=8);for(Ke=Ke<<We|Ze,Qe+=We;Qe>0;Ve[ze+ii]=255&Ke,ii+=ei,Ke/=256,Qe-=8);Ve[ze+ii-ei]|=128*St}},function(t,r){var Ve={}.toString;t.exports=Array.isArray||function(je){return Ve.call(je)=="[object Array]"}},function(t,r,Ve){var je=this&&this.__values||function(We){var qe=typeof Symbol=="function"&&Symbol.iterator,Ke=qe&&We[qe],Ze=0;if(Ke)return Ke.call(We);if(We&&typeof We.length=="number")return{next:function(){return We&&Ze>=We.length&&(We=void 0),{value:We&&We[Ze++],done:!We}}};throw new TypeError(qe?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var ze=Ve(2);function Xe(We){var qe,Ke;if(We===null||ze.isString(We)||ze.isNumber(We))return We;if(ze.isArray(We)){var Ze=new Array;try{for(var Je=je(We),Qe=Je.next();!Qe.done;Qe=Je.next()){var ti=Qe.value;Ze.push(Xe(ti))}}catch(ii){qe={error:ii}}finally{try{Qe&&!Qe.done&&(Ke=Je.return)&&Ke.call(Je)}finally{if(qe)throw qe.error}}return Ze}if(ze.isObject(We)){Ze=new Map;for(var ni in We)if(We.hasOwnProperty(ni)){var ri=We[ni];Ze.set(ni,Xe(ri))}return Ze}return We}r.parseJSONFromBytes=function(We){var qe=ze.utf8Decode(We);return JSON.parse.call(void 0,qe)},r.serializeJSONToBytes=function(We){var qe=JSON.stringify.call(void 0,We);return ze.utf8Encode(qe)},r.parseJSONIntoInfraValues=function(We){return Xe(JSON.parse.call(void 0,We))},r.convertAJSONDerivedJavaScriptValueToAnInfraValue=Xe},function(t,r,Ve){var je=this&&this.__generator||function(Ke,Ze){var Je,Qe,ti,ni,ri={label:0,sent:function(){if(1&ti[0])throw ti[1];return ti[1]},trys:[],ops:[]};return ni={next:ii(0),throw:ii(1),return:ii(2)},typeof Symbol=="function"&&(ni[Symbol.iterator]=function(){return this}),ni;function ii(ei){return function(St){return function(oi){if(Je)throw new TypeError("Generator is already executing.");for(;ri;)try{if(Je=1,Qe&&(ti=2&oi[0]?Qe.return:oi[0]?Qe.throw||((ti=Qe.return)&&ti.call(Qe),0):Qe.next)&&!(ti=ti.call(Qe,oi[1])).done)return ti;switch(Qe=0,ti&&(oi=[2&oi[0],ti.value]),oi[0]){case 0:case 1:ti=oi;break;case 4:return ri.label++,{value:oi[1],done:!1};case 5:ri.label++,Qe=oi[1],oi=[0];continue;case 7:oi=ri.ops.pop(),ri.trys.pop();continue;default:if(ti=ri.trys,!((ti=ti.length>0&&ti[ti.length-1])||oi[0]!==6&&oi[0]!==2)){ri=0;continue}if(oi[0]===3&&(!ti||oi[1]>ti[0]&&oi[1]<ti[3])){ri.label=oi[1];break}if(oi[0]===6&&ri.label<ti[1]){ri.label=ti[1],ti=oi;break}if(ti&&ri.label<ti[2]){ri.label=ti[2],ri.ops.push(oi);break}ti[2]&&ri.ops.pop(),ri.trys.pop();continue}oi=Ze.call(Ke,ri)}catch(si){oi=[6,si],Qe=0}finally{Je=ti=0}if(5&oi[0])throw oi[1];return{value:oi[0]?oi[1]:void 0,done:!0}}([ei,St])}}},ze=this&&this.__read||function(Ke,Ze){var Je=typeof Symbol=="function"&&Ke[Symbol.iterator];if(!Je)return Ke;var Qe,ti,ni=Je.call(Ke),ri=[];try{for(;(Ze===void 0||Ze-- >0)&&!(Qe=ni.next()).done;)ri.push(Qe.value)}catch(ii){ti={error:ii}}finally{try{Qe&&!Qe.done&&(Je=ni.return)&&Je.call(ni)}finally{if(ti)throw ti.error}}return ri},Xe=this&&this.__spread||function(){for(var Ke=[],Ze=0;Ze<arguments.length;Ze++)Ke=Ke.concat(ze(arguments[Ze]));return Ke},We=this&&this.__values||function(Ke){var Ze=typeof Symbol=="function"&&Symbol.iterator,Je=Ze&&Ke[Ze],Qe=0;if(Je)return Je.call(Ke);if(Ke&&typeof Ke.length=="number")return{next:function(){return Ke&&Qe>=Ke.length&&(Ke=void 0),{value:Ke&&Ke[Qe++],done:!Ke}}};throw new TypeError(Ze?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var qe=Ve(2);r.append=function(Ke,Ze){Ke.push(Ze)},r.extend=function(Ke,Ze){Ke.push.apply(Ke,Xe(Ze))},r.prepend=function(Ke,Ze){Ke.unshift(Ze)},r.replace=function(Ke,Ze,Je){var Qe,ti,ni=0;try{for(var ri=We(Ke),ii=ri.next();!ii.done;ii=ri.next()){var ei=ii.value;if(qe.isFunction(Ze))Ze.call(null,ei)&&(Ke[ni]=Je);else if(ei===Ze)return void(Ke[ni]=Je);ni++}}catch(St){Qe={error:St}}finally{try{ii&&!ii.done&&(ti=ri.return)&&ti.call(ri)}finally{if(Qe)throw Qe.error}}},r.insert=function(Ke,Ze,Je){Ke.splice(Je,0,Ze)},r.remove=function(Ke,Ze){for(var Je=Ke.length;Je--;){var Qe=Ke[Je];if(qe.isFunction(Ze))Ze.call(null,Qe)&&Ke.splice(Je,1);else if(Qe===Ze)return void Ke.splice(Je,1)}},r.empty=function(Ke){Ke.length=0},r.contains=function(Ke,Ze){var Je,Qe;try{for(var ti=We(Ke),ni=ti.next();!ni.done;ni=ti.next()){var ri=ni.value;if(qe.isFunction(Ze)){if(Ze.call(null,ri))return!0}else if(ri===Ze)return!0}}catch(ii){Je={error:ii}}finally{try{ni&&!ni.done&&(Qe=ti.return)&&Qe.call(ti)}finally{if(Je)throw Je.error}}return!1},r.size=function(Ke,Ze){var Je,Qe;if(Ze===void 0)return Ke.length;var ti=0;try{for(var ni=We(Ke),ri=ni.next();!ri.done;ri=ni.next()){var ii=ri.value;Ze.call(null,ii)&&ti++}}catch(ei){Je={error:ei}}finally{try{ri&&!ri.done&&(Qe=ni.return)&&Qe.call(ni)}finally{if(Je)throw Je.error}}return ti},r.isEmpty=function(Ke){return Ke.length===0},r.forEach=function(Ke,Ze){var Je,Qe,ti,ni,ri,ii;return je(this,function(ei){switch(ei.label){case 0:return Ze!==void 0?[3,2]:[5,We(Ke)];case 1:return ei.sent(),[3,9];case 2:ei.trys.push([2,7,8,9]),Je=We(Ke),Qe=Je.next(),ei.label=3;case 3:return Qe.done?[3,6]:(ti=Qe.value,Ze.call(null,ti)?[4,ti]:[3,5]);case 4:ei.sent(),ei.label=5;case 5:return Qe=Je.next(),[3,3];case 6:return[3,9];case 7:return ni=ei.sent(),ri={error:ni},[3,9];case 8:try{Qe&&!Qe.done&&(ii=Je.return)&&ii.call(Je)}finally{if(ri)throw ri.error}return[7];case 9:return[2]}})},r.clone=function(Ke){return new(Array.bind.apply(Array,Xe([void 0],Ke)))},r.sortInAscendingOrder=function(Ke,Ze){return Ke.sort(function(Je,Qe){return Ze.call(null,Je,Qe)?-1:1})},r.sortInDescendingOrder=function(Ke,Ze){return Ke.sort(function(Je,Qe){return Ze.call(null,Je,Qe)?1:-1})}},function(t,r,Ve){var je=this&&this.__generator||function(Ke,Ze){var Je,Qe,ti,ni,ri={label:0,sent:function(){if(1&ti[0])throw ti[1];return ti[1]},trys:[],ops:[]};return ni={next:ii(0),throw:ii(1),return:ii(2)},typeof Symbol=="function"&&(ni[Symbol.iterator]=function(){return this}),ni;function ii(ei){return function(St){return function(oi){if(Je)throw new TypeError("Generator is already executing.");for(;ri;)try{if(Je=1,Qe&&(ti=2&oi[0]?Qe.return:oi[0]?Qe.throw||((ti=Qe.return)&&ti.call(Qe),0):Qe.next)&&!(ti=ti.call(Qe,oi[1])).done)return ti;switch(Qe=0,ti&&(oi=[2&oi[0],ti.value]),oi[0]){case 0:case 1:ti=oi;break;case 4:return ri.label++,{value:oi[1],done:!1};case 5:ri.label++,Qe=oi[1],oi=[0];continue;case 7:oi=ri.ops.pop(),ri.trys.pop();continue;default:if(ti=ri.trys,!((ti=ti.length>0&&ti[ti.length-1])||oi[0]!==6&&oi[0]!==2)){ri=0;continue}if(oi[0]===3&&(!ti||oi[1]>ti[0]&&oi[1]<ti[3])){ri.label=oi[1];break}if(oi[0]===6&&ri.label<ti[1]){ri.label=ti[1],ti=oi;break}if(ti&&ri.label<ti[2]){ri.label=ti[2],ri.ops.push(oi);break}ti[2]&&ri.ops.pop(),ri.trys.pop();continue}oi=Ze.call(Ke,ri)}catch(si){oi=[6,si],Qe=0}finally{Je=ti=0}if(5&oi[0])throw oi[1];return{value:oi[0]?oi[1]:void 0,done:!0}}([ei,St])}}},ze=this&&this.__values||function(Ke){var Ze=typeof Symbol=="function"&&Symbol.iterator,Je=Ze&&Ke[Ze],Qe=0;if(Je)return Je.call(Ke);if(Ke&&typeof Ke.length=="number")return{next:function(){return Ke&&Qe>=Ke.length&&(Ke=void 0),{value:Ke&&Ke[Qe++],done:!Ke}}};throw new TypeError(Ze?"Object is not iterable.":"Symbol.iterator is not defined.")},Xe=this&&this.__read||function(Ke,Ze){var Je=typeof Symbol=="function"&&Ke[Symbol.iterator];if(!Je)return Ke;var Qe,ti,ni=Je.call(Ke),ri=[];try{for(;(Ze===void 0||Ze-- >0)&&!(Qe=ni.next()).done;)ri.push(Qe.value)}catch(ii){ti={error:ii}}finally{try{Qe&&!Qe.done&&(Je=ni.return)&&Je.call(ni)}finally{if(ti)throw ti.error}}return ri},We=this&&this.__spread||function(){for(var Ke=[],Ze=0;Ze<arguments.length;Ze++)Ke=Ke.concat(Xe(arguments[Ze]));return Ke};Object.defineProperty(r,"__esModule",{value:!0});var qe=Ve(2);r.get=function(Ke,Ze){return Ke.get(Ze)},r.set=function(Ke,Ze,Je){Ke.set(Ze,Je)},r.remove=function(Ke,Ze){var Je,Qe,ti,ni;if(qe.isFunction(Ze)){var ri=[];try{for(var ii=ze(Ke),ei=ii.next();!ei.done;ei=ii.next()){var St=ei.value;Ze.call(null,St)&&ri.push(St[0])}}catch(ui){Je={error:ui}}finally{try{ei&&!ei.done&&(Qe=ii.return)&&Qe.call(ii)}finally{if(Je)throw Je.error}}try{for(var oi=ze(ri),si=oi.next();!si.done;si=oi.next()){var ai=si.value;Ke.delete(ai)}}catch(ui){ti={error:ui}}finally{try{si&&!si.done&&(ni=oi.return)&&ni.call(oi)}finally{if(ti)throw ti.error}}}else Ke.delete(Ze)},r.contains=function(Ke,Ze){var Je,Qe;if(qe.isFunction(Ze)){try{for(var ti=ze(Ke),ni=ti.next();!ni.done;ni=ti.next()){var ri=ni.value;if(Ze.call(null,ri))return!0}}catch(ii){Je={error:ii}}finally{try{ni&&!ni.done&&(Qe=ti.return)&&Qe.call(ti)}finally{if(Je)throw Je.error}}return!1}return Ke.has(Ze)},r.keys=function(Ke){return new Set(Ke.keys())},r.values=function(Ke){return We(Ke.values())},r.size=function(Ke,Ze){var Je,Qe;if(Ze===void 0)return Ke.size;var ti=0;try{for(var ni=ze(Ke),ri=ni.next();!ri.done;ri=ni.next()){var ii=ri.value;Ze.call(null,ii)&&ti++}}catch(ei){Je={error:ei}}finally{try{ri&&!ri.done&&(Qe=ni.return)&&Qe.call(ni)}finally{if(Je)throw Je.error}}return ti},r.isEmpty=function(Ke){return Ke.size===0},r.forEach=function(Ke,Ze){var Je,Qe,ti,ni,ri,ii;return je(this,function(ei){switch(ei.label){case 0:return Ze!==void 0?[3,2]:[5,ze(Ke)];case 1:return ei.sent(),[3,9];case 2:ei.trys.push([2,7,8,9]),Je=ze(Ke),Qe=Je.next(),ei.label=3;case 3:return Qe.done?[3,6]:(ti=Qe.value,Ze.call(null,ti)?[4,ti]:[3,5]);case 4:ei.sent(),ei.label=5;case 5:return Qe=Je.next(),[3,3];case 6:return[3,9];case 7:return ni=ei.sent(),ri={error:ni},[3,9];case 8:try{Qe&&!Qe.done&&(ii=Je.return)&&ii.call(Je)}finally{if(ri)throw ri.error}return[7];case 9:return[2]}})},r.clone=function(Ke){return new Map(Ke)},r.sortInAscendingOrder=function(Ke,Ze){var Je=new(Array.bind.apply(Array,We([void 0],Ke)));return Je.sort(function(Qe,ti){return Ze.call(null,Qe,ti)?-1:1}),new Map(Je)},r.sortInDescendingOrder=function(Ke,Ze){var Je=new(Array.bind.apply(Array,We([void 0],Ke)));return Je.sort(function(Qe,ti){return Ze.call(null,Qe,ti)?1:-1}),new Map(Je)}},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0}),r.HTML="http://www.w3.org/1999/xhtml",r.XML="http://www.w3.org/XML/1998/namespace",r.XMLNS="http://www.w3.org/2000/xmlns/",r.MathML="http://www.w3.org/1998/Math/MathML",r.SVG="http://www.w3.org/2000/svg",r.XLink="http://www.w3.org/1999/xlink"},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0}),r.enqueue=function(je,ze){je.push(ze)},r.dequeue=function(je){return je.shift()||null}},function(t,r,Ve){var je=this&&this.__generator||function(Ze,Je){var Qe,ti,ni,ri,ii={label:0,sent:function(){if(1&ni[0])throw ni[1];return ni[1]},trys:[],ops:[]};return ri={next:ei(0),throw:ei(1),return:ei(2)},typeof Symbol=="function"&&(ri[Symbol.iterator]=function(){return this}),ri;function ei(St){return function(oi){return function(si){if(Qe)throw new TypeError("Generator is already executing.");for(;ii;)try{if(Qe=1,ti&&(ni=2&si[0]?ti.return:si[0]?ti.throw||((ni=ti.return)&&ni.call(ti),0):ti.next)&&!(ni=ni.call(ti,si[1])).done)return ni;switch(ti=0,ni&&(si=[2&si[0],ni.value]),si[0]){case 0:case 1:ni=si;break;case 4:return ii.label++,{value:si[1],done:!1};case 5:ii.label++,ti=si[1],si=[0];continue;case 7:si=ii.ops.pop(),ii.trys.pop();continue;default:if(ni=ii.trys,!((ni=ni.length>0&&ni[ni.length-1])||si[0]!==6&&si[0]!==2)){ii=0;continue}if(si[0]===3&&(!ni||si[1]>ni[0]&&si[1]<ni[3])){ii.label=si[1];break}if(si[0]===6&&ii.label<ni[1]){ii.label=ni[1],ni=si;break}if(ni&&ii.label<ni[2]){ii.label=ni[2],ii.ops.push(si);break}ni[2]&&ii.ops.pop(),ii.trys.pop();continue}si=Je.call(Ze,ii)}catch(ai){si=[6,ai],ti=0}finally{Qe=ni=0}if(5&si[0])throw si[1];return{value:si[0]?si[1]:void 0,done:!0}}([St,oi])}}},ze=this&&this.__values||function(Ze){var Je=typeof Symbol=="function"&&Symbol.iterator,Qe=Je&&Ze[Je],ti=0;if(Qe)return Qe.call(Ze);if(Ze&&typeof Ze.length=="number")return{next:function(){return Ze&&ti>=Ze.length&&(Ze=void 0),{value:Ze&&Ze[ti++],done:!Ze}}};throw new TypeError(Je?"Object is not iterable.":"Symbol.iterator is not defined.")},Xe=this&&this.__read||function(Ze,Je){var Qe=typeof Symbol=="function"&&Ze[Symbol.iterator];if(!Qe)return Ze;var ti,ni,ri=Qe.call(Ze),ii=[];try{for(;(Je===void 0||Je-- >0)&&!(ti=ri.next()).done;)ii.push(ti.value)}catch(ei){ni={error:ei}}finally{try{ti&&!ti.done&&(Qe=ri.return)&&Qe.call(ri)}finally{if(ni)throw ni.error}}return ii},We=this&&this.__spread||function(){for(var Ze=[],Je=0;Je<arguments.length;Je++)Ze=Ze.concat(Xe(arguments[Je]));return Ze};Object.defineProperty(r,"__esModule",{value:!0});var qe=Ve(2);function Ke(Ze,Je){var Qe,ti;try{for(var ni=ze(Ze),ri=ni.next();!ri.done;ri=ni.next()){var ii=ri.value;if(!Je.has(ii))return!1}}catch(ei){Qe={error:ei}}finally{try{ri&&!ri.done&&(ti=ni.return)&&ti.call(ni)}finally{if(Qe)throw Qe.error}}return!0}r.append=function(Ze,Je){Ze.add(Je)},r.extend=function(Ze,Je){Je.forEach(Ze.add,Ze)},r.prepend=function(Ze,Je){var Qe=new Set(Ze);Ze.clear(),Ze.add(Je),Qe.forEach(Ze.add,Ze)},r.replace=function(Ze,Je,Qe){var ti,ni,ri=new Set;try{for(var ii=ze(Ze),ei=ii.next();!ei.done;ei=ii.next()){var St=ei.value;qe.isFunction(Je)?Je.call(null,St)?ri.add(Qe):ri.add(St):St===Je?ri.add(Qe):ri.add(St)}}catch(oi){ti={error:oi}}finally{try{ei&&!ei.done&&(ni=ii.return)&&ni.call(ii)}finally{if(ti)throw ti.error}}Ze.clear(),ri.forEach(Ze.add,Ze)},r.insert=function(Ze,Je,Qe){var ti,ni,ri=new Set,ii=0;try{for(var ei=ze(Ze),St=ei.next();!St.done;St=ei.next()){var oi=St.value;ii===Qe&&ri.add(Je),ri.add(oi),ii++}}catch(si){ti={error:si}}finally{try{St&&!St.done&&(ni=ei.return)&&ni.call(ei)}finally{if(ti)throw ti.error}}Ze.clear(),ri.forEach(Ze.add,Ze)},r.remove=function(Ze,Je){var Qe,ti,ni,ri;if(qe.isFunction(Je)){var ii=[];try{for(var ei=ze(Ze),St=ei.next();!St.done;St=ei.next()){var oi=St.value;Je.call(null,oi)&&ii.push(oi)}}catch(hi){Qe={error:hi}}finally{try{St&&!St.done&&(ti=ei.return)&&ti.call(ei)}finally{if(Qe)throw Qe.error}}try{for(var si=ze(ii),ai=si.next();!ai.done;ai=si.next()){var ui=ai.value;Ze.delete(ui)}}catch(hi){ni={error:hi}}finally{try{ai&&!ai.done&&(ri=si.return)&&ri.call(si)}finally{if(ni)throw ni.error}}}else Ze.delete(Je)},r.empty=function(Ze){Ze.clear()},r.contains=function(Ze,Je){var Qe,ti;if(!qe.isFunction(Je))return Ze.has(Je);try{for(var ni=ze(Ze),ri=ni.next();!ri.done;ri=ni.next()){var ii=ri.value;if(Je.call(null,ii))return!0}}catch(ei){Qe={error:ei}}finally{try{ri&&!ri.done&&(ti=ni.return)&&ti.call(ni)}finally{if(Qe)throw Qe.error}}return!1},r.size=function(Ze,Je){var Qe,ti;if(Je===void 0)return Ze.size;var ni=0;try{for(var ri=ze(Ze),ii=ri.next();!ii.done;ii=ri.next()){var ei=ii.value;Je.call(null,ei)&&ni++}}catch(St){Qe={error:St}}finally{try{ii&&!ii.done&&(ti=ri.return)&&ti.call(ri)}finally{if(Qe)throw Qe.error}}return ni},r.isEmpty=function(Ze){return Ze.size===0},r.forEach=function(Ze,Je){var Qe,ti,ni,ri,ii,ei;return je(this,function(St){switch(St.label){case 0:return Je!==void 0?[3,2]:[5,ze(Ze)];case 1:return St.sent(),[3,9];case 2:St.trys.push([2,7,8,9]),Qe=ze(Ze),ti=Qe.next(),St.label=3;case 3:return ti.done?[3,6]:(ni=ti.value,Je.call(null,ni)?[4,ni]:[3,5]);case 4:St.sent(),St.label=5;case 5:return ti=Qe.next(),[3,3];case 6:return[3,9];case 7:return ri=St.sent(),ii={error:ri},[3,9];case 8:try{ti&&!ti.done&&(ei=Qe.return)&&ei.call(Qe)}finally{if(ii)throw ii.error}return[7];case 9:return[2]}})},r.clone=function(Ze){return new Set(Ze)},r.sortInAscendingOrder=function(Ze,Je){var Qe=new(Array.bind.apply(Array,We([void 0],Ze)));return Qe.sort(function(ti,ni){return Je.call(null,ti,ni)?-1:1}),new Set(Qe)},r.sortInDescendingOrder=function(Ze,Je){var Qe=new(Array.bind.apply(Array,We([void 0],Ze)));return Qe.sort(function(ti,ni){return Je.call(null,ti,ni)?1:-1}),new Set(Qe)},r.isSubsetOf=Ke,r.isSupersetOf=function(Ze,Je){return Ke(Je,Ze)},r.intersection=function(Ze,Je){var Qe,ti,ni=new Set;try{for(var ri=ze(Ze),ii=ri.next();!ii.done;ii=ri.next()){var ei=ii.value;Je.has(ei)&&ni.add(ei)}}catch(St){Qe={error:St}}finally{try{ii&&!ii.done&&(ti=ri.return)&&ti.call(ri)}finally{if(Qe)throw Qe.error}}return ni},r.union=function(Ze,Je){var Qe=new Set(Ze);return Je.forEach(Qe.add,Qe),Qe},r.range=function(Ze,Je){for(var Qe=new Set,ti=Ze;ti<=Je;ti++)Qe.add(ti);return Qe}},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0}),r.push=function(je,ze){je.push(ze)},r.pop=function(je){return je.pop()||null}},function(t,r,Ve){var je=this&&this.__values||function(ii){var ei=typeof Symbol=="function"&&Symbol.iterator,St=ei&&ii[ei],oi=0;if(St)return St.call(ii);if(ii&&typeof ii.length=="number")return{next:function(){return ii&&oi>=ii.length&&(ii=void 0),{value:ii&&ii[oi++],done:!ii}}};throw new TypeError(ei?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var ze=Ve(96),Xe=Ve(147),We=Ve(146),qe=Ve(2);function Ke(ii,ei){for(var St=0;;){var oi=St<ii.length?ii.charCodeAt(St):null,si=St<ei.length?ei.charCodeAt(St):null;if(oi===null)return!0;if(oi!==si)return!1;St++}}function Ze(ii){var ei,St,oi=Array.from(ii),si=new Uint8Array(oi.length),ai=0;try{for(var ui=je(ii),hi=ui.next();!hi.done;hi=ui.next()){var ci=hi.value.codePointAt(0);console.assert(ci!==void 0&&ci<=255,"isomorphicEncode requires string bytes to be less than or equal to 0x00FF."),ci!==void 0&&ci<=255&&(si[ai++]=ci)}}catch(mi){ei={error:mi}}finally{try{hi&&!hi.done&&(St=ui.return)&&St.call(ui)}finally{if(ei)throw ei.error}}return si}function Je(ii){return/^[\u0000-\u007F]*$/.test(ii)}function Qe(ii){var ei,St,oi="";try{for(var si=je(ii),ai=si.next();!ai.done;ai=si.next()){var ui=ai.value,hi=ui.codePointAt(0);oi+=hi!==void 0&&hi>=65&&hi<=90?String.fromCodePoint(hi+32):ui}}catch(ci){ei={error:ci}}finally{try{ai&&!ai.done&&(St=si.return)&&St.call(si)}finally{if(ei)throw ei.error}}return oi}function ti(ii){return ii.replace(/^[\t\n\f\r ]+/,"").replace(/[\t\n\f\r ]+$/,"")}function ni(ii,ei,St){if(!qe.isArray(ei))return ni(ii,Array.from(ei),St);for(var oi="";St.position<ei.length&&ii.call(null,ei[St.position]);)oi+=ei[St.position],St.position++;return oi}function ri(ii,ei){ni(function(St){return ze.ASCIIWhiteSpace.test(St)},ii,ei)}r.isCodeUnitPrefix=Ke,r.isCodeUnitLessThan=function(ii,ei){if(Ke(ei,ii))return!1;if(Ke(ii,ei))return!0;for(var St=0;St<Math.min(ii.length,ei.length);St++){var oi=ii.charCodeAt(St),si=ei.charCodeAt(St);if(oi!==si)return oi<si}return!1},r.isomorphicEncode=Ze,r.isASCIIString=Je,r.asciiLowercase=Qe,r.asciiUppercase=function(ii){var ei,St,oi="";try{for(var si=je(ii),ai=si.next();!ai.done;ai=si.next()){var ui=ai.value,hi=ui.codePointAt(0);oi+=hi!==void 0&&hi>=97&&hi<=122?String.fromCodePoint(hi-32):ui}}catch(ci){ei={error:ci}}finally{try{ai&&!ai.done&&(St=si.return)&&St.call(si)}finally{if(ei)throw ei.error}}return oi},r.asciiCaseInsensitiveMatch=function(ii,ei){return Qe(ii)===Qe(ei)},r.asciiEncode=function(ii){return console.assert(Je(ii),"asciiEncode requires an ASCII string."),Ze(ii)},r.asciiDecode=function(ii){var ei,St;try{for(var oi=je(ii),si=oi.next();!si.done;si=oi.next()){var ai=si.value;console.assert(We.isASCIIByte(ai),"asciiDecode requires an ASCII byte sequence.")}}catch(ui){ei={error:ui}}finally{try{si&&!si.done&&(St=oi.return)&&St.call(oi)}finally{if(ei)throw ei.error}}return Xe.isomorphicDecode(ii)},r.stripNewlines=function(ii){return ii.replace(/[\n\r]/g,"")},r.normalizeNewlines=function(ii){return ii.replace(/\r\n/g,`
`).replace(/\r/g,`
`)},r.stripLeadingAndTrailingASCIIWhitespace=ti,r.stripAndCollapseASCIIWhitespace=function(ii){return ti(ii.replace(/[\t\n\f\r ]{2,}/g," "))},r.collectASequenceOfCodePoints=ni,r.skipASCIIWhitespace=ri,r.strictlySplit=function ii(ei,St){if(!qe.isArray(ei))return ii(Array.from(ei),St);var oi={position:0},si=[],ai=ni(function(ui){return St!==ui},ei,oi);for(si.push(ai);oi.position<ei.length;)console.assert(ei[oi.position]===St,"strictlySplit found no delimiter in input string."),oi.position++,ai=ni(function(ui){return St!==ui},ei,oi),si.push(ai);return si},r.splitAStringOnASCIIWhitespace=function ii(ei){if(!qe.isArray(ei))return ii(Array.from(ei));var St={position:0},oi=[];for(ri(ei,St);St.position<ei.length;){var si=ni(function(ai){return!ze.ASCIIWhiteSpace.test(ai)},ei,St);oi.push(si),ri(ei,St)}return oi},r.splitAStringOnCommas=function ii(ei){if(!qe.isArray(ei))return ii(Array.from(ei));for(var St={position:0},oi=[];St.position<ei.length;){var si=ni(function(ai){return ai!==","},ei,St);oi.push(ti(si)),St.position<ei.length&&(console.assert(ei[St.position]===",","splitAStringOnCommas found no delimiter in input string."),St.position++)}return oi},r.concatenate=function(ii,ei){return ei===void 0&&(ei=""),ii.length===0?"":ii.join(ei)}},function(t,r,Ve){var je=this&&this.__values||function(Xe){var We=typeof Symbol=="function"&&Symbol.iterator,qe=We&&Xe[We],Ke=0;if(qe)return qe.call(Xe);if(Xe&&typeof Xe.length=="number")return{next:function(){return Xe&&Ke>=Xe.length&&(Xe=void 0),{value:Xe&&Xe[Ke++],done:!Xe}}};throw new TypeError(We?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var ze=Ve(97);r.abort_add=function(Xe,We){We._abortedFlag||We._abortAlgorithms.add(Xe)},r.abort_remove=function(Xe,We){We._abortAlgorithms.delete(Xe)},r.abort_signalAbort=function(Xe){var We,qe;if(!Xe._abortedFlag){Xe._abortedFlag=!0;try{for(var Ke=je(Xe._abortAlgorithms),Ze=Ke.next();!Ze.done;Ze=Ke.next())Ze.value.call(Xe)}catch(Je){We={error:Je}}finally{try{Ze&&!Ze.done&&(qe=Ke.return)&&qe.call(Ke)}finally{if(We)throw We.error}}Xe._abortAlgorithms.clear(),ze.event_fireAnEvent("abort",Xe)}}},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(150),ze=function(){function Xe(){}return Xe.asNode=function(We){if(je.Guard.isNode(We))return We;throw new Error("Invalid object. Node expected.")},Xe}();r.Cast=ze},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=function(){function Xe(){}return Object.defineProperty(Xe.prototype,"size",{get:function(){return 0},enumerable:!0,configurable:!0}),Xe.prototype.add=function(We){throw new Error("Cannot add to an empty set.")},Xe.prototype.clear=function(){},Xe.prototype.delete=function(We){return!1},Xe.prototype.forEach=function(We,qe){},Xe.prototype.has=function(We){return!1},Xe.prototype[Symbol.iterator]=function(){return new ze},Xe.prototype.entries=function(){return new ze},Xe.prototype.keys=function(){return new ze},Xe.prototype.values=function(){return new ze},Object.defineProperty(Xe.prototype,Symbol.toStringTag,{get:function(){return"EmptySet"},enumerable:!0,configurable:!0}),Xe}();r.EmptySet=je;var ze=function(){function Xe(){}return Xe.prototype[Symbol.iterator]=function(){return this},Xe.prototype.next=function(){return{done:!0,value:null}},Xe}()},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0}),function(je){je[je.SchemeStart=0]="SchemeStart",je[je.Scheme=1]="Scheme",je[je.NoScheme=2]="NoScheme",je[je.SpecialRelativeOrAuthority=3]="SpecialRelativeOrAuthority",je[je.PathOrAuthority=4]="PathOrAuthority",je[je.Relative=5]="Relative",je[je.RelativeSlash=6]="RelativeSlash",je[je.SpecialAuthoritySlashes=7]="SpecialAuthoritySlashes",je[je.SpecialAuthorityIgnoreSlashes=8]="SpecialAuthorityIgnoreSlashes",je[je.Authority=9]="Authority",je[je.Host=10]="Host",je[je.Hostname=11]="Hostname",je[je.Port=12]="Port",je[je.File=13]="File",je[je.FileSlash=14]="FileSlash",je[je.FileHost=15]="FileHost",je[je.PathStart=16]="PathStart",je[je.Path=17]="Path",je[je.CannotBeABaseURLPath=18]="CannotBeABaseURLPath",je[je.Query=19]="Query",je[je.Fragment=20]="Fragment"}(r.ParserState||(r.ParserState={})),r.OpaqueOrigin=["","",null,null]},function(t,r,Ve){var je=Ve(245),ze=Ve(247);function Xe(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}r.parse=si,r.resolve=function(ai,ui){return si(ai,!1,!0).resolve(ui)},r.resolveObject=function(ai,ui){return ai?si(ai,!1,!0).resolveObject(ui):ui},r.format=function(ai){return ze.isString(ai)&&(ai=si(ai)),ai instanceof Xe?ai.format():Xe.prototype.format.call(ai)},r.Url=Xe;var We=/^([a-z0-9.+-]+:)/i,qe=/:[0-9]*$/,Ke=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Ze=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),Je=["'"].concat(Ze),Qe=["%","/","?",";","#"].concat(Je),ti=["/","?","#"],ni=/^[+a-z0-9A-Z_-]{0,63}$/,ri=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,ii={javascript:!0,"javascript:":!0},ei={javascript:!0,"javascript:":!0},St={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},oi=Ve(248);function si(ai,ui,hi){if(ai&&ze.isObject(ai)&&ai instanceof Xe)return ai;var ci=new Xe;return ci.parse(ai,ui,hi),ci}Xe.prototype.parse=function(ai,ui,hi){if(!ze.isString(ai))throw new TypeError("Parameter 'url' must be a string, not "+typeof ai);var ci=ai.indexOf("?"),mi=ci!==-1&&ci<ai.indexOf("#")?"?":"#",di=ai.split(mi);di[0]=di[0].replace(/\\/g,"/");var pi=ai=di.join(mi);if(pi=pi.trim(),!hi&&ai.split("#").length===1){var yi=Ke.exec(pi);if(yi)return this.path=pi,this.href=pi,this.pathname=yi[1],yi[2]?(this.search=yi[2],this.query=ui?oi.parse(this.search.substr(1)):this.search.substr(1)):ui&&(this.search="",this.query={}),this}var gi=We.exec(pi);if(gi){var _i=(gi=gi[0]).toLowerCase();this.protocol=_i,pi=pi.substr(gi.length)}if(hi||gi||pi.match(/^\/\/[^@\/]+@[^@\/]+/)){var Ai=pi.substr(0,2)==="//";!Ai||gi&&ei[gi]||(pi=pi.substr(2),this.slashes=!0)}if(!ei[gi]&&(Ai||gi&&!St[gi])){for(var ki,vi,Mi=-1,Di=0;Di<ti.length;Di++)(Bi=pi.indexOf(ti[Di]))!==-1&&(Mi===-1||Bi<Mi)&&(Mi=Bi);for((vi=Mi===-1?pi.lastIndexOf("@"):pi.lastIndexOf("@",Mi))!==-1&&(ki=pi.slice(0,vi),pi=pi.slice(vi+1),this.auth=decodeURIComponent(ki)),Mi=-1,Di=0;Di<Qe.length;Di++){var Bi;(Bi=pi.indexOf(Qe[Di]))!==-1&&(Mi===-1||Bi<Mi)&&(Mi=Bi)}Mi===-1&&(Mi=pi.length),this.host=pi.slice(0,Mi),pi=pi.slice(Mi),this.parseHost(),this.hostname=this.hostname||"";var Pi=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!Pi)for(var Fi=this.hostname.split(/\./),Vi=(Di=0,Fi.length);Di<Vi;Di++){var Ti=Fi[Di];if(Ti&&!Ti.match(ni)){for(var ji="",Gi=0,Yi=Ti.length;Gi<Yi;Gi++)Ti.charCodeAt(Gi)>127?ji+="x":ji+=Ti[Gi];if(!ji.match(ni)){var Xi=Fi.slice(0,Di),xi=Fi.slice(Di+1),fi=Ti.match(ri);fi&&(Xi.push(fi[1]),xi.unshift(fi[2])),xi.length&&(pi="/"+xi.join(".")+pi),this.hostname=Xi.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),Pi||(this.hostname=je.toASCII(this.hostname));var $i=this.port?":"+this.port:"",bi=this.hostname||"";this.host=bi+$i,this.href+=this.host,Pi&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),pi[0]!=="/"&&(pi="/"+pi))}if(!ii[_i])for(Di=0,Vi=Je.length;Di<Vi;Di++){var Ci=Je[Di];if(pi.indexOf(Ci)!==-1){var Ei=encodeURIComponent(Ci);Ei===Ci&&(Ei=escape(Ci)),pi=pi.split(Ci).join(Ei)}}var Si=pi.indexOf("#");Si!==-1&&(this.hash=pi.substr(Si),pi=pi.slice(0,Si));var zi=pi.indexOf("?");if(zi!==-1?(this.search=pi.substr(zi),this.query=pi.substr(zi+1),ui&&(this.query=oi.parse(this.query)),pi=pi.slice(0,zi)):ui&&(this.search="",this.query={}),pi&&(this.pathname=pi),St[_i]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){$i=this.pathname||"";var Ki=this.search||"";this.path=$i+Ki}return this.href=this.format(),this},Xe.prototype.format=function(){var ai=this.auth||"";ai&&(ai=(ai=encodeURIComponent(ai)).replace(/%3A/i,":"),ai+="@");var ui=this.protocol||"",hi=this.pathname||"",ci=this.hash||"",mi=!1,di="";this.host?mi=ai+this.host:this.hostname&&(mi=ai+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(mi+=":"+this.port)),this.query&&ze.isObject(this.query)&&Object.keys(this.query).length&&(di=oi.stringify(this.query));var pi=this.search||di&&"?"+di||"";return ui&&ui.substr(-1)!==":"&&(ui+=":"),this.slashes||(!ui||St[ui])&&mi!==!1?(mi="//"+(mi||""),hi&&hi.charAt(0)!=="/"&&(hi="/"+hi)):mi||(mi=""),ci&&ci.charAt(0)!=="#"&&(ci="#"+ci),pi&&pi.charAt(0)!=="?"&&(pi="?"+pi),ui+mi+(hi=hi.replace(/[?#]/g,function(yi){return encodeURIComponent(yi)}))+(pi=pi.replace("#","%23"))+ci},Xe.prototype.resolve=function(ai){return this.resolveObject(si(ai,!1,!0)).format()},Xe.prototype.resolveObject=function(ai){if(ze.isString(ai)){var ui=new Xe;ui.parse(ai,!1,!0),ai=ui}for(var hi=new Xe,ci=Object.keys(this),mi=0;mi<ci.length;mi++){var di=ci[mi];hi[di]=this[di]}if(hi.hash=ai.hash,ai.href==="")return hi.href=hi.format(),hi;if(ai.slashes&&!ai.protocol){for(var pi=Object.keys(ai),yi=0;yi<pi.length;yi++){var gi=pi[yi];gi!=="protocol"&&(hi[gi]=ai[gi])}return St[hi.protocol]&&hi.hostname&&!hi.pathname&&(hi.path=hi.pathname="/"),hi.href=hi.format(),hi}if(ai.protocol&&ai.protocol!==hi.protocol){if(!St[ai.protocol]){for(var _i=Object.keys(ai),Ai=0;Ai<_i.length;Ai++){var ki=_i[Ai];hi[ki]=ai[ki]}return hi.href=hi.format(),hi}if(hi.protocol=ai.protocol,ai.host||ei[ai.protocol])hi.pathname=ai.pathname;else{for(var vi=(ai.pathname||"").split("/");vi.length&&!(ai.host=vi.shift()););ai.host||(ai.host=""),ai.hostname||(ai.hostname=""),vi[0]!==""&&vi.unshift(""),vi.length<2&&vi.unshift(""),hi.pathname=vi.join("/")}if(hi.search=ai.search,hi.query=ai.query,hi.host=ai.host||"",hi.auth=ai.auth,hi.hostname=ai.hostname||ai.host,hi.port=ai.port,hi.pathname||hi.search){var Mi=hi.pathname||"",Di=hi.search||"";hi.path=Mi+Di}return hi.slashes=hi.slashes||ai.slashes,hi.href=hi.format(),hi}var Bi=hi.pathname&&hi.pathname.charAt(0)==="/",Pi=ai.host||ai.pathname&&ai.pathname.charAt(0)==="/",Fi=Pi||Bi||hi.host&&ai.pathname,Vi=Fi,Ti=hi.pathname&&hi.pathname.split("/")||[],ji=(vi=ai.pathname&&ai.pathname.split("/")||[],hi.protocol&&!St[hi.protocol]);if(ji&&(hi.hostname="",hi.port=null,hi.host&&(Ti[0]===""?Ti[0]=hi.host:Ti.unshift(hi.host)),hi.host="",ai.protocol&&(ai.hostname=null,ai.port=null,ai.host&&(vi[0]===""?vi[0]=ai.host:vi.unshift(ai.host)),ai.host=null),Fi=Fi&&(vi[0]===""||Ti[0]==="")),Pi)hi.host=ai.host||ai.host===""?ai.host:hi.host,hi.hostname=ai.hostname||ai.hostname===""?ai.hostname:hi.hostname,hi.search=ai.search,hi.query=ai.query,Ti=vi;else if(vi.length)Ti||(Ti=[]),Ti.pop(),Ti=Ti.concat(vi),hi.search=ai.search,hi.query=ai.query;else if(!ze.isNullOrUndefined(ai.search))return ji&&(hi.hostname=hi.host=Ti.shift(),(fi=!!(hi.host&&hi.host.indexOf("@")>0)&&hi.host.split("@"))&&(hi.auth=fi.shift(),hi.host=hi.hostname=fi.shift())),hi.search=ai.search,hi.query=ai.query,ze.isNull(hi.pathname)&&ze.isNull(hi.search)||(hi.path=(hi.pathname?hi.pathname:"")+(hi.search?hi.search:"")),hi.href=hi.format(),hi;if(!Ti.length)return hi.pathname=null,hi.search?hi.path="/"+hi.search:hi.path=null,hi.href=hi.format(),hi;for(var Gi=Ti.slice(-1)[0],Yi=(hi.host||ai.host||Ti.length>1)&&(Gi==="."||Gi==="..")||Gi==="",Xi=0,xi=Ti.length;xi>=0;xi--)(Gi=Ti[xi])==="."?Ti.splice(xi,1):Gi===".."?(Ti.splice(xi,1),Xi++):Xi&&(Ti.splice(xi,1),Xi--);if(!Fi&&!Vi)for(;Xi--;Xi)Ti.unshift("..");!Fi||Ti[0]===""||Ti[0]&&Ti[0].charAt(0)==="/"||Ti.unshift(""),Yi&&Ti.join("/").substr(-1)!=="/"&&Ti.push("");var fi,$i=Ti[0]===""||Ti[0]&&Ti[0].charAt(0)==="/";return ji&&(hi.hostname=hi.host=$i?"":Ti.length?Ti.shift():"",(fi=!!(hi.host&&hi.host.indexOf("@")>0)&&hi.host.split("@"))&&(hi.auth=fi.shift(),hi.host=hi.hostname=fi.shift())),(Fi=Fi||hi.host&&Ti.length)&&!$i&&Ti.unshift(""),Ti.length?hi.pathname=Ti.join("/"):(hi.pathname=null,hi.path=null),ze.isNull(hi.pathname)&&ze.isNull(hi.search)||(hi.path=(hi.pathname?hi.pathname:"")+(hi.search?hi.search:"")),hi.auth=ai.auth||hi.auth,hi.slashes=hi.slashes||ai.slashes,hi.href=hi.format(),hi},Xe.prototype.parseHost=function(){var ai=this.host,ui=qe.exec(ai);ui&&((ui=ui[0])!==":"&&(this.port=ui.substr(1)),ai=ai.substr(0,ai.length-ui.length)),ai&&(this.hostname=ai)}},function(t,r,Ve){(function(je,ze){var Xe;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(We){r&&r.nodeType,je&&je.nodeType;var qe=typeof ze=="object"&&ze;qe.global!==qe&&qe.window!==qe&&qe.self;var Ke,Ze=2147483647,Je=/^xn--/,Qe=/[^\x20-\x7E]/,ti=/[\x2E\u3002\uFF0E\uFF61]/g,ni={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ri=Math.floor,ii=String.fromCharCode;function ei(di){throw new RangeError(ni[di])}function St(di,pi){for(var yi=di.length,gi=[];yi--;)gi[yi]=pi(di[yi]);return gi}function oi(di,pi){var yi=di.split("@"),gi="";return yi.length>1&&(gi=yi[0]+"@",di=yi[1]),gi+St((di=di.replace(ti,".")).split("."),pi).join(".")}function si(di){for(var pi,yi,gi=[],_i=0,Ai=di.length;_i<Ai;)(pi=di.charCodeAt(_i++))>=55296&&pi<=56319&&_i<Ai?(64512&(yi=di.charCodeAt(_i++)))==56320?gi.push(((1023&pi)<<10)+(1023&yi)+65536):(gi.push(pi),_i--):gi.push(pi);return gi}function ai(di){return St(di,function(pi){var yi="";return pi>65535&&(yi+=ii((pi-=65536)>>>10&1023|55296),pi=56320|1023&pi),yi+=ii(pi)}).join("")}function ui(di,pi){return di+22+75*(di<26)-((pi!=0)<<5)}function hi(di,pi,yi){var gi=0;for(di=yi?ri(di/700):di>>1,di+=ri(di/pi);di>455;gi+=36)di=ri(di/35);return ri(gi+36*di/(di+38))}function ci(di){var pi,yi,gi,_i,Ai,ki,vi,Mi,Di,Bi,Pi,Fi=[],Vi=di.length,Ti=0,ji=128,Gi=72;for((yi=di.lastIndexOf("-"))<0&&(yi=0),gi=0;gi<yi;++gi)di.charCodeAt(gi)>=128&&ei("not-basic"),Fi.push(di.charCodeAt(gi));for(_i=yi>0?yi+1:0;_i<Vi;){for(Ai=Ti,ki=1,vi=36;_i>=Vi&&ei("invalid-input"),((Mi=(Pi=di.charCodeAt(_i++))-48<10?Pi-22:Pi-65<26?Pi-65:Pi-97<26?Pi-97:36)>=36||Mi>ri((Ze-Ti)/ki))&&ei("overflow"),Ti+=Mi*ki,!(Mi<(Di=vi<=Gi?1:vi>=Gi+26?26:vi-Gi));vi+=36)ki>ri(Ze/(Bi=36-Di))&&ei("overflow"),ki*=Bi;Gi=hi(Ti-Ai,pi=Fi.length+1,Ai==0),ri(Ti/pi)>Ze-ji&&ei("overflow"),ji+=ri(Ti/pi),Ti%=pi,Fi.splice(Ti++,0,ji)}return ai(Fi)}function mi(di){var pi,yi,gi,_i,Ai,ki,vi,Mi,Di,Bi,Pi,Fi,Vi,Ti,ji,Gi=[];for(Fi=(di=si(di)).length,pi=128,yi=0,Ai=72,ki=0;ki<Fi;++ki)(Pi=di[ki])<128&&Gi.push(ii(Pi));for(gi=_i=Gi.length,_i&&Gi.push("-");gi<Fi;){for(vi=Ze,ki=0;ki<Fi;++ki)(Pi=di[ki])>=pi&&Pi<vi&&(vi=Pi);for(vi-pi>ri((Ze-yi)/(Vi=gi+1))&&ei("overflow"),yi+=(vi-pi)*Vi,pi=vi,ki=0;ki<Fi;++ki)if((Pi=di[ki])<pi&&++yi>Ze&&ei("overflow"),Pi==pi){for(Mi=yi,Di=36;!(Mi<(Bi=Di<=Ai?1:Di>=Ai+26?26:Di-Ai));Di+=36)ji=Mi-Bi,Ti=36-Bi,Gi.push(ii(ui(Bi+ji%Ti,0))),Mi=ri(ji/Ti);Gi.push(ii(ui(Mi,0))),Ai=hi(yi,Vi,gi==_i),yi=0,++gi}++yi,++pi}return Gi.join("")}Ke={version:"1.4.1",ucs2:{decode:si,encode:ai},decode:ci,encode:mi,toASCII:function(di){return oi(di,function(pi){return Qe.test(pi)?"xn--"+mi(pi):pi})},toUnicode:function(di){return oi(di,function(pi){return Je.test(pi)?ci(pi.slice(4).toLowerCase()):pi})}},(Xe=(function(){return Ke}).call(r,Ve,r,je))===void 0||(je.exports=Xe)})()}).call(this,Ve(246)(t),Ve(78))},function(t,r){t.exports=function(Ve){return Ve.webpackPolyfill||(Ve.deprecate=function(){},Ve.paths=[],Ve.children||(Ve.children=[]),Object.defineProperty(Ve,"loaded",{enumerable:!0,get:function(){return Ve.l}}),Object.defineProperty(Ve,"id",{enumerable:!0,get:function(){return Ve.i}}),Ve.webpackPolyfill=1),Ve}},function(t,r,Ve){t.exports={isString:function(je){return typeof je=="string"},isObject:function(je){return typeof je=="object"&&je!==null},isNull:function(je){return je===null},isNullOrUndefined:function(je){return je==null}}},function(t,r,Ve){r.decode=r.parse=Ve(249),r.encode=r.stringify=Ve(250)},function(t,r,Ve){function je(Xe,We){return Object.prototype.hasOwnProperty.call(Xe,We)}t.exports=function(Xe,We,qe,Ke){We=We||"&",qe=qe||"=";var Ze={};if(typeof Xe!="string"||Xe.length===0)return Ze;var Je=/\+/g;Xe=Xe.split(We);var Qe=1e3;Ke&&typeof Ke.maxKeys=="number"&&(Qe=Ke.maxKeys);var ti=Xe.length;Qe>0&&ti>Qe&&(ti=Qe);for(var ni=0;ni<ti;++ni){var ri,ii,ei,St,oi=Xe[ni].replace(Je,"%20"),si=oi.indexOf(qe);si>=0?(ri=oi.substr(0,si),ii=oi.substr(si+1)):(ri=oi,ii=""),ei=decodeURIComponent(ri),St=decodeURIComponent(ii),je(Ze,ei)?ze(Ze[ei])?Ze[ei].push(St):Ze[ei]=[Ze[ei],St]:Ze[ei]=St}return Ze};var ze=Array.isArray||function(Xe){return Object.prototype.toString.call(Xe)==="[object Array]"}},function(t,r,Ve){var je=function(qe){switch(typeof qe){case"string":return qe;case"boolean":return qe?"true":"false";case"number":return isFinite(qe)?qe:"";default:return""}};t.exports=function(qe,Ke,Ze,Je){return Ke=Ke||"&",Ze=Ze||"=",qe===null&&(qe=void 0),typeof qe=="object"?Xe(We(qe),function(Qe){var ti=encodeURIComponent(je(Qe))+Ze;return ze(qe[Qe])?Xe(qe[Qe],function(ni){return ti+encodeURIComponent(je(ni))}).join(Ke):ti+encodeURIComponent(je(qe[Qe]))}).join(Ke):Je?encodeURIComponent(je(Je))+Ze+encodeURIComponent(je(qe)):""};var ze=Array.isArray||function(qe){return Object.prototype.toString.call(qe)==="[object Array]"};function Xe(qe,Ke){if(qe.map)return qe.map(Ke);for(var Ze=[],Je=0;Je<qe.length;Je++)Ze.push(Ke(qe[Je],Je));return Ze}var We=Object.keys||function(qe){var Ke=[];for(var Ze in qe)Object.prototype.hasOwnProperty.call(qe,Ze)&&Ke.push(Ze);return Ke}},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(52);r.attr_setAnExistingAttributeValue=function(ze,Xe){ze._element===null?ze._value=Xe:je.element_change(ze,ze._element,Xe)}},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(108),ze=Ve(30),Xe=Ve(52);r.tokenList_validationSteps=function(We,qe){if(!ze.dom_hasSupportedTokens(We._attribute._localName))throw new TypeError("There are no supported tokens defined for attribute name: '"+We._attribute._localName+"'.");return ze.dom_getSupportedTokens(We._attribute._localName).has(qe.toLowerCase())},r.tokenList_updateSteps=function(We){(We._element.hasAttribute(We._attribute._localName)||We._tokenSet.size!==0)&&Xe.element_setAnAttributeValue(We._element,We._attribute._localName,je.orderedSet_serialize(We._tokenSet))},r.tokenList_serializeSteps=function(We){return Xe.element_getAnAttributeValue(We._element,We._attribute._localName)}},function(t,r,Ve){var je=this&&this.__values||function(We){var qe=typeof Symbol=="function"&&Symbol.iterator,Ke=qe&&We[qe],Ze=0;if(Ke)return Ke.call(We);if(We&&typeof We.length=="number")return{next:function(){return We&&Ze>=We.length&&(We=void 0),{value:We&&We[Ze++],done:!We}}};throw new TypeError(qe?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var ze=Ve(2);function Xe(We){return ze.isBoolean(We)?We:We.capture||!1}r.eventTarget_flatten=Xe,r.eventTarget_flattenMore=function(We){var qe=Xe(We),Ke=!1,Ze=!1;return ze.isBoolean(We)||(Ke=We.once||!1,Ze=We.passive||!1),[qe,Ze,Ke]},r.eventTarget_addEventListener=function(We,qe){if(qe.callback!==null){for(var Ke=0;Ke<We._eventListenerList.length;Ke++){var Ze=We._eventListenerList[Ke];if(Ze.type===qe.type&&Ze.callback.handleEvent===qe.callback.handleEvent&&Ze.capture===qe.capture)return}We._eventListenerList.push(qe)}},r.eventTarget_removeEventListener=function(We,qe,Ke){qe.removed=!0,We._eventListenerList.splice(Ke,1)},r.eventTarget_removeAllEventListeners=function(We){var qe,Ke;try{for(var Ze=je(We._eventListenerList),Je=Ze.next();!Je.done;Je=Ze.next())Je.value.removed=!0}catch(Qe){qe={error:Qe}}finally{try{Je&&!Je.done&&(Ke=Ze.return)&&Ke.call(Ze)}finally{if(qe)throw qe.error}}We._eventListenerList.length=0}},function(t,r,Ve){var je=this&&this.__values||function(We){var qe=typeof Symbol=="function"&&Symbol.iterator,Ke=qe&&We[qe],Ze=0;if(Ke)return Ke.call(We);if(We&&typeof We.length=="number")return{next:function(){return We&&Ze>=We.length&&(We=void 0),{value:We&&We[Ze++],done:!We}}};throw new TypeError(qe?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var ze=Ve(2),Xe=Ve(29);r.parentNode_convertNodesIntoANode=function(We,qe){for(var Ke,Ze,Je=null,Qe=0;Qe<We.length;Qe++){var ti=We[Qe];if(ze.isString(ti)){var ni=Xe.create_text(qe,ti);We[Qe]=ni}}if(We.length===1)Je=We[0];else{var ri=Je=Xe.create_documentFragment(qe);try{for(var ii=je(We),ei=ii.next();!ei.done;ei=ii.next())ti=ei.value,ri.appendChild(ti)}catch(St){Ke={error:St}}finally{try{ei&&!ei.done&&(Ze=ii.return)&&Ze.call(ii)}finally{if(Ke)throw Ke.error}}}return Je}},function(t,r,Ve){var je=this&&this.__values||function(ui){var hi=typeof Symbol=="function"&&Symbol.iterator,ci=hi&&ui[hi],mi=0;if(ci)return ci.call(ui);if(ui&&typeof ui.length=="number")return{next:function(){return ui&&mi>=ui.length&&(ui=void 0),{value:ui&&ui[mi++],done:!ui}}};throw new TypeError(hi?"Object is not iterable.":"Symbol.iterator is not defined.")},ze=this&&this.__read||function(ui,hi){var ci=typeof Symbol=="function"&&ui[Symbol.iterator];if(!ci)return ui;var mi,di,pi=ci.call(ui),yi=[];try{for(;(hi===void 0||hi-- >0)&&!(mi=pi.next()).done;)yi.push(mi.value)}catch(gi){di={error:gi}}finally{try{mi&&!mi.done&&(ci=pi.return)&&ci.call(pi)}finally{if(di)throw di.error}}return yi},Xe=this&&this.__spread||function(){for(var ui=[],hi=0;hi<arguments.length;hi++)ui=ui.concat(ze(arguments[hi]));return ui};Object.defineProperty(r,"__esModule",{value:!0});var We=Ve(1),qe=Ve(9),Ke=Ve(3),Ze=Ve(29),Je=Ve(17),Qe=Ve(175),ti=Ve(107),ni=Ve(176),ri=Ve(37),ii=Ve(177);function ei(ui){return ui._startNode===ui._endNode&&ui._startOffset===ui._endOffset}function St(ui){return Je.tree_rootNode(ui._startNode)}function oi(ui,hi){return Je.tree_rootNode(ui)===St(hi)&&Qe.boundaryPoint_position([ui,0],hi._start)===We.BoundaryPosition.After&&Qe.boundaryPoint_position([ui,Je.tree_nodeLength(ui)],hi._end)===We.BoundaryPosition.Before}function si(ui,hi){var ci=Je.tree_isAncestorOf(hi._startNode,ui,!0),mi=Je.tree_isAncestorOf(hi._endNode,ui,!0);return ci&&!mi||!ci&&mi}function ai(ui){var hi,ci,mi,di,pi,yi,gi=Ze.create_documentFragment(ui._startNode._nodeDocument);if(ei(ui))return gi;var _i=ui._startNode,Ai=ui._startOffset,ki=ui._endNode,vi=ui._endOffset;if(_i===ki&&Ke.Guard.isCharacterDataNode(_i))return(bi=ni.node_clone(_i))._data=ti.characterData_substringData(_i,Ai,vi-Ai),ri.mutation_append(bi,gi),ti.characterData_replaceData(_i,Ai,vi-Ai,""),gi;for(var Mi=_i;!Je.tree_isAncestorOf(ki,Mi,!0);){if(Mi._parent===null)throw new Error("Parent node  is null.");Mi=Mi._parent}var Di=null;if(!Je.tree_isAncestorOf(ki,_i,!0))try{for(var Bi=je(Mi._children),Pi=Bi.next();!Pi.done;Pi=Bi.next())if(si(ji=Pi.value,ui)){Di=ji;break}}catch(Ki){hi={error:Ki}}finally{try{Pi&&!Pi.done&&(ci=Bi.return)&&ci.call(Bi)}finally{if(hi)throw hi.error}}var Fi=null;if(!Je.tree_isAncestorOf(_i,ki,!0))for(var Vi=Xe(Mi._children),Ti=Vi.length-1;Ti>0;Ti--){var ji;if(si(ji=Vi[Ti],ui)){Fi=ji;break}}var Gi,Yi,Xi=[];try{for(var xi=je(Mi._children),fi=xi.next();!fi.done;fi=xi.next())if(oi(zi=fi.value,ui)){if(Ke.Guard.isDocumentTypeNode(zi))throw new qe.HierarchyRequestError;Xi.push(zi)}}catch(Ki){mi={error:Ki}}finally{try{fi&&!fi.done&&(di=xi.return)&&di.call(xi)}finally{if(mi)throw mi.error}}if(Je.tree_isAncestorOf(ki,_i,!0))Gi=_i,Yi=Ai;else{for(var $i=_i;$i._parent!==null&&!Je.tree_isAncestorOf(ki,$i._parent);)$i=$i._parent;if($i._parent===null)throw new Error("Parent node is null.");Gi=$i._parent,Yi=1+Je.tree_index($i)}if(Ke.Guard.isCharacterDataNode(Di))(bi=ni.node_clone(_i))._data=ti.characterData_substringData(_i,Ai,Je.tree_nodeLength(_i)-Ai),ri.mutation_append(bi,gi),ti.characterData_replaceData(_i,Ai,Je.tree_nodeLength(_i)-Ai,"");else if(Di!==null){var bi=ni.node_clone(Di);ri.mutation_append(bi,gi);var Ci=ai(Ze.create_range([_i,Ai],[Di,Je.tree_nodeLength(Di)]));ri.mutation_append(Ci,bi)}try{for(var Ei=je(Xi),Si=Ei.next();!Si.done;Si=Ei.next()){var zi=Si.value;ri.mutation_append(zi,gi)}}catch(Ki){pi={error:Ki}}finally{try{Si&&!Si.done&&(yi=Ei.return)&&yi.call(Ei)}finally{if(pi)throw pi.error}}return Ke.Guard.isCharacterDataNode(Fi)?((bi=ni.node_clone(ki))._data=ti.characterData_substringData(ki,0,vi),ri.mutation_append(bi,gi),ti.characterData_replaceData(ki,0,vi,"")):Fi!==null&&(bi=ni.node_clone(Fi),ri.mutation_append(bi,gi),Ci=ai(Ze.create_range([Fi,0],[ki,vi])),ri.mutation_append(Ci,bi)),ui._start=[Gi,Yi],ui._end=[Gi,Yi],gi}r.range_collapsed=ei,r.range_root=St,r.range_isContained=oi,r.range_isPartiallyContained=si,r.range_setTheStart=function(ui,hi,ci){if(Ke.Guard.isDocumentTypeNode(hi))throw new qe.InvalidNodeTypeError;if(ci>Je.tree_nodeLength(hi))throw new qe.IndexSizeError;var mi=[hi,ci];St(ui)===Je.tree_rootNode(hi)&&Qe.boundaryPoint_position(mi,ui._end)!==We.BoundaryPosition.After||(ui._end=mi),ui._start=mi},r.range_setTheEnd=function(ui,hi,ci){if(Ke.Guard.isDocumentTypeNode(hi))throw new qe.InvalidNodeTypeError;if(ci>Je.tree_nodeLength(hi))throw new qe.IndexSizeError;var mi=[hi,ci];St(ui)===Je.tree_rootNode(hi)&&Qe.boundaryPoint_position(mi,ui._start)!==We.BoundaryPosition.Before||(ui._start=mi),ui._end=mi},r.range_select=function(ui,hi){var ci=ui._parent;if(ci===null)throw new qe.InvalidNodeTypeError;var mi=Je.tree_index(ui);hi._start=[ci,mi],hi._end=[ci,mi+1]},r.range_extract=ai,r.range_cloneTheContents=function ui(hi){var ci,mi,di,pi,yi,gi,_i=Ze.create_documentFragment(hi._startNode._nodeDocument);if(ei(hi))return _i;var Ai=hi._startNode,ki=hi._startOffset,vi=hi._endNode,Mi=hi._endOffset;Ai===vi&&Ke.Guard.isCharacterDataNode(Ai)&&((fi=ni.node_clone(Ai))._data=ti.characterData_substringData(Ai,ki,Mi-ki),ri.mutation_append(fi,_i));for(var Di=Ai;!Je.tree_isAncestorOf(vi,Di,!0);){if(Di._parent===null)throw new Error("Parent node  is null.");Di=Di._parent}var Bi=null;if(!Je.tree_isAncestorOf(vi,Ai,!0))try{for(var Pi=je(Di._children),Fi=Pi.next();!Fi.done;Fi=Pi.next())if(si(Gi=Fi.value,hi)){Bi=Gi;break}}catch(Si){ci={error:Si}}finally{try{Fi&&!Fi.done&&(mi=Pi.return)&&mi.call(Pi)}finally{if(ci)throw ci.error}}var Vi=null;if(!Je.tree_isAncestorOf(Ai,vi,!0))for(var Ti=Xe(Di._children),ji=Ti.length-1;ji>0;ji--){var Gi;if(si(Gi=Ti[ji],hi)){Vi=Gi;break}}var Yi=[];try{for(var Xi=je(Di._children),xi=Xi.next();!xi.done;xi=Xi.next())if(oi(Ei=xi.value,hi)){if(Ke.Guard.isDocumentTypeNode(Ei))throw new qe.HierarchyRequestError;Yi.push(Ei)}}catch(Si){di={error:Si}}finally{try{xi&&!xi.done&&(pi=Xi.return)&&pi.call(Xi)}finally{if(di)throw di.error}}if(Ke.Guard.isCharacterDataNode(Bi))(fi=ni.node_clone(Ai))._data=ti.characterData_substringData(Ai,ki,Je.tree_nodeLength(Ai)-ki),ri.mutation_append(fi,_i);else if(Bi!==null){var fi=ni.node_clone(Bi);ri.mutation_append(fi,_i);var $i=ui(Ze.create_range([Ai,ki],[Bi,Je.tree_nodeLength(Bi)]));ri.mutation_append($i,fi)}try{for(var bi=je(Yi),Ci=bi.next();!Ci.done;Ci=bi.next()){var Ei=Ci.value,fi=ni.node_clone(Ei);ri.mutation_append(fi,_i)}}catch(Si){yi={error:Si}}finally{try{Ci&&!Ci.done&&(gi=bi.return)&&gi.call(bi)}finally{if(yi)throw yi.error}}return Ke.Guard.isCharacterDataNode(Vi)?((fi=ni.node_clone(vi))._data=ti.characterData_substringData(vi,0,Mi),ri.mutation_append(fi,_i)):Vi!==null&&(fi=ni.node_clone(Vi),_i.append(fi),$i=ai(Ze.create_range([Vi,0],[vi,Mi])),ri.mutation_append($i,fi)),_i},r.range_insert=function(ui,hi){var ci,mi;if(Ke.Guard.isProcessingInstructionNode(hi._startNode)||Ke.Guard.isCommentNode(hi._startNode)||Ke.Guard.isTextNode(hi._startNode)&&hi._startNode._parent===null||hi._startNode===ui)throw new qe.HierarchyRequestError;var di,pi=null;if(Ke.Guard.isTextNode(hi._startNode))pi=hi._startNode;else{var yi=0;try{for(var gi=je(hi._startNode._children),_i=gi.next();!_i.done;_i=gi.next()){var Ai=_i.value;if(yi===hi._startOffset){pi=Ai;break}yi++}}catch(vi){ci={error:vi}}finally{try{_i&&!_i.done&&(mi=gi.return)&&mi.call(gi)}finally{if(ci)throw ci.error}}}if(pi===null)di=hi._startNode;else{if(pi._parent===null)throw new Error("Parent node is null.");di=pi._parent}ri.mutation_ensurePreInsertionValidity(ui,di,pi),Ke.Guard.isTextNode(hi._startNode)&&(pi=ii.text_split(hi._startNode,hi._startOffset)),ui===pi&&(pi=ui._nextSibling),ui._parent!==null&&ri.mutation_remove(ui,ui._parent);var ki=pi===null?Je.tree_nodeLength(di):Je.tree_index(pi);Ke.Guard.isDocumentFragmentNode(ui)?ki+=Je.tree_nodeLength(ui):ki++,ri.mutation_preInsert(ui,di,pi),ei(hi)&&(hi._end=[di,ki])},r.range_getContainedNodes=function(ui){var hi;return(hi={})[Symbol.iterator]=function(){var ci=ui.commonAncestorContainer,mi=Je.tree_getFirstDescendantNode(ci);return{next:function(){for(;mi&&!oi(mi,ui);)mi=Je.tree_getNextDescendantNode(ci,mi);if(mi===null)return{done:!0,value:null};var di={done:!1,value:mi};return mi=Je.tree_getNextDescendantNode(ci,mi),di}}},hi},r.range_getPartiallyContainedNodes=function(ui){var hi;return(hi={})[Symbol.iterator]=function(){var ci=ui.commonAncestorContainer,mi=Je.tree_getFirstDescendantNode(ci);return{next:function(){for(;mi&&!si(mi,ui);)mi=Je.tree_getNextDescendantNode(ci,mi);if(mi===null)return{done:!0,value:null};var di={done:!1,value:mi};return mi=Je.tree_getNextDescendantNode(ci,mi),di}}},hi}},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(9);r.selectors_scopeMatchASelectorsString=function(ze,Xe){throw new je.NotSupportedError}},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(1),ze=Ve(105);r.treeWalker_traverseChildren=function(Xe,We){for(var qe=We?Xe._current._firstChild:Xe._current._lastChild;qe!==null;){var Ke=ze.traversal_filter(Xe,qe);if(Ke===je.FilterResult.Accept)return Xe._current=qe,qe;if(Ke===je.FilterResult.Skip){var Ze=We?qe._firstChild:qe._lastChild;if(Ze!==null){qe=Ze;continue}}for(;qe!==null;){var Je=We?qe._nextSibling:qe._previousSibling;if(Je!==null){qe=Je;break}var Qe=qe._parent;if(Qe===null||Qe===Xe._root||Qe===Xe._current)return null;qe=Qe}}return null},r.treeWalker_traverseSiblings=function(Xe,We){var qe=Xe._current;if(qe===Xe._root)return null;for(;;){for(var Ke=We?qe._nextSibling:qe._previousSibling;Ke!==null;){qe=Ke;var Ze=ze.traversal_filter(Xe,qe);if(Ze===je.FilterResult.Accept)return Xe._current=qe,qe;Ke=We?qe._firstChild:qe._lastChild,Ze!==je.FilterResult.Reject&&Ke!==null||(Ke=We?qe._nextSibling:qe._previousSibling)}if((qe=qe._parent)===null||qe===Xe._root||ze.traversal_filter(Xe,qe)===je.FilterResult.Accept)return null}}},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0}),r.nonEntityAmpersandRegex=/&(?![A-Za-z]+;|#\d+;)/g},function(t,r,Ve){Ve(89),Ve(74);var je,ze=this&&this.__extends||(je=function(Je,Qe){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ti,ni){ti.__proto__=ni}||function(ti,ni){for(var ri in ni)ni.hasOwnProperty(ri)&&(ti[ri]=ni[ri])})(Je,Qe)},function(Je,Qe){function ti(){this.constructor=Je}je(Je,Qe),Je.prototype=Qe===null?Object.create(Qe):(ti.prototype=Qe.prototype,new ti)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(2),We=Ve(1),qe=Ve(50),Ke=Ve(3),Ze=function(Je){function Qe(ti,ni){var ri=Je.call(this,ti)||this;return ri._indentation={},ri._lengthToLastNewline=0,ri._writerOptions=Xe.applyDefaults(ni,{wellFormed:!1,headless:!1,prettyPrint:!1,indent:"  ",newline:`
`,offset:0,width:0,allowEmptyTags:!1,indentTextOnlyNodes:!1,spaceBeforeSlash:!1}),ri}return ze(Qe,Je),Qe.prototype.serialize=function(ti){return this._refs={suppressPretty:!1,emptyNode:!1,markup:""},ti.nodeType!==We.NodeType.Document||this._writerOptions.headless||this.declaration(this._builderOptions.version,this._builderOptions.encoding,this._builderOptions.standalone),this.serializeNode(ti,this._writerOptions.wellFormed),this._writerOptions.prettyPrint&&this._refs.markup.slice(-this._writerOptions.newline.length)===this._writerOptions.newline&&(this._refs.markup=this._refs.markup.slice(0,-this._writerOptions.newline.length)),this._refs.markup},Qe.prototype.declaration=function(ti,ni,ri){this._beginLine(),this._refs.markup+='<?xml version="'+ti+'"',ni!==void 0&&(this._refs.markup+=' encoding="'+ni+'"'),ri!==void 0&&(this._refs.markup+=' standalone="'+(ri?"yes":"no")+'"'),this._refs.markup+="?>",this._endLine()},Qe.prototype.docType=function(ti,ni,ri){this._beginLine(),this._refs.markup+=ni&&ri?"<!DOCTYPE "+ti+' PUBLIC "'+ni+'" "'+ri+'">':ni?"<!DOCTYPE "+ti+' PUBLIC "'+ni+'">':ri?"<!DOCTYPE "+ti+' SYSTEM "'+ri+'">':"<!DOCTYPE "+ti+">",this._endLine()},Qe.prototype.openTagBegin=function(ti){this._beginLine(),this._refs.markup+="<"+ti},Qe.prototype.openTagEnd=function(ti,ni,ri){if(this._refs.suppressPretty=!1,this._refs.emptyNode=!1,this._writerOptions.prettyPrint&&!ni&&!ri){for(var ii=!0,ei=!0,St=this.currentNode.firstChild,oi=0,si=0;St;){if(Ke.Guard.isExclusiveTextNode(St))si++;else{if(!Ke.Guard.isCDATASectionNode(St)){ii=!1,ei=!1;break}oi++}St.data!==""&&(ei=!1),St=St.nextSibling}this._refs.suppressPretty=!this._writerOptions.indentTextOnlyNodes&&ii&&(oi<=1&&si===0||oi===0),this._refs.emptyNode=ei}(ri||ni||this._refs.emptyNode)&&this._writerOptions.allowEmptyTags?this._refs.markup+="></"+ti+">":this._refs.markup+=ri?" />":ni||this._refs.emptyNode?this._writerOptions.spaceBeforeSlash?" />":"/>":">",this._endLine()},Qe.prototype.closeTag=function(ti){this._refs.emptyNode||(this._beginLine(),this._refs.markup+="</"+ti+">"),this._refs.suppressPretty=!1,this._refs.emptyNode=!1,this._endLine()},Qe.prototype.attribute=function(ti,ni){var ri=ti+'="'+ni+'"';this._writerOptions.prettyPrint&&this._writerOptions.width>0&&this._refs.markup.length-this._lengthToLastNewline+1+ri.length>this._writerOptions.width?(this._endLine(),this._beginLine(),this._refs.markup+=this._indent(1)+ri):this._refs.markup+=" "+ri},Qe.prototype.text=function(ti){ti!==""&&(this._beginLine(),this._refs.markup+=ti,this._endLine())},Qe.prototype.cdata=function(ti){ti!==""&&(this._beginLine(),this._refs.markup+="<![CDATA["+ti+"]]>",this._endLine())},Qe.prototype.comment=function(ti){this._beginLine(),this._refs.markup+="<!--"+ti+"-->",this._endLine()},Qe.prototype.instruction=function(ti,ni){this._beginLine(),this._refs.markup+="<?"+(ni===""?ti:ti+" "+ni)+"?>",this._endLine()},Qe.prototype._beginLine=function(){this._writerOptions.prettyPrint&&!this._refs.suppressPretty&&(this._refs.markup+=this._indent(this._writerOptions.offset+this.level))},Qe.prototype._endLine=function(){this._writerOptions.prettyPrint&&!this._refs.suppressPretty&&(this._refs.markup+=this._writerOptions.newline,this._lengthToLastNewline=this._refs.markup.length)},Qe.prototype._indent=function(ti){if(ti<=0)return"";if(this._indentation[ti]!==void 0)return this._indentation[ti];var ni=this._writerOptions.indent.repeat(ti);return this._indentation[ti]=ni,ni},Qe}(qe.BaseWriter);r.XMLWriter=Ze},function(t,r,Ve){var je=Ve(47),ze=Ve(35);t.exports="".repeat||function(Xe){var We=String(ze(this)),qe="",Ke=je(Xe);if(Ke<0||Ke==1/0)throw RangeError("Wrong number of repetitions");for(;Ke>0;(Ke>>>=1)&&(We+=We))1&Ke&&(qe+=We);return qe}},function(t,r,Ve){Ve(31),Ve(32),Ve(33),Ve(19),Ve(178),Ve(20),Ve(22),Ve(23);var je,ze=this&&this.__extends||(je=function(Ze,Je){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Qe,ti){Qe.__proto__=ti}||function(Qe,ti){for(var ni in ti)ti.hasOwnProperty(ni)&&(Qe[ni]=ti[ni])})(Ze,Je)},function(Ze,Je){function Qe(){this.constructor=Ze}je(Ze,Je),Ze.prototype=Je===null?Object.create(Je):(Qe.prototype=Je.prototype,new Qe)}),Xe=this&&this.__values||function(Ze){var Je=typeof Symbol=="function"&&Symbol.iterator,Qe=Je&&Ze[Je],ti=0;if(Qe)return Qe.call(Ze);if(Ze&&typeof Ze.length=="number")return{next:function(){return Ze&&ti>=Ze.length&&(Ze=void 0),{value:Ze&&Ze[ti++],done:!Ze}}};throw new TypeError(Je?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var We=Ve(67),qe=Ve(2),Ke=function(Ze){function Je(Qe,ti){var ni=Ze.call(this,Qe)||this;return ni._writerOptions=qe.applyDefaults(ti,{wellFormed:!1,prettyPrint:!1,indent:"  ",newline:`
`,offset:0,group:!1,verbose:!1}),ni}return ze(Je,Ze),Je.prototype.serialize=function(Qe){var ti=qe.applyDefaults(this._writerOptions,{format:"object",wellFormed:!1}),ni=new We.ObjectWriter(this._builderOptions,ti).serialize(Qe);return this._beginLine(this._writerOptions,0)+this._convertObject(ni,this._writerOptions)},Je.prototype._convertObject=function(Qe,ti,ni){var ri,ii,ei=this;ni===void 0&&(ni=0);var St="",oi=this._isLeafNode(Qe);if(qe.isArray(Qe)){St+="[";var si=Qe.length,ai=0;try{for(var ui=Xe(Qe),hi=ui.next();!hi.done;hi=ui.next()){var ci=hi.value;St+=this._endLine(ti,ni+1)+this._beginLine(ti,ni+1)+this._convertObject(ci,ti,ni+1),ai<si-1&&(St+=","),ai++}}catch(pi){ri={error:pi}}finally{try{hi&&!hi.done&&(ii=ui.return)&&ii.call(ui)}finally{if(ri)throw ri.error}}St+=this._endLine(ti,ni)+this._beginLine(ti,ni),St+="]"}else if(qe.isObject(Qe)){St+="{";var mi=qe.objectLength(Qe),di=0;qe.forEachObject(Qe,function(pi,yi){oi&&ti.prettyPrint?St+=" ":St+=ei._endLine(ti,ni+1)+ei._beginLine(ti,ni+1),St+=ei._key(pi),ti.prettyPrint&&(St+=" "),St+=ei._convertObject(yi,ti,ni+1),di<mi-1&&(St+=","),di++},this),oi&&ti.prettyPrint?St+=" ":St+=this._endLine(ti,ni)+this._beginLine(ti,ni),St+="}"}else St+=this._val(Qe);return St},Je.prototype._beginLine=function(Qe,ti){if(!Qe.prettyPrint)return"";var ni=Qe.offset+ti+1;return ni>0?new Array(ni).join(Qe.indent):""},Je.prototype._endLine=function(Qe,ti){return Qe.prettyPrint?Qe.newline:""},Je.prototype._key=function(Qe){return'"'+Qe+'":'},Je.prototype._val=function(Qe){return JSON.stringify(Qe)},Je.prototype._isLeafNode=function(Qe){return this._descendantCount(Qe)<=1},Je.prototype._descendantCount=function(Qe,ti){var ni=this;return ti===void 0&&(ti=0),qe.isArray(Qe)?qe.forEachArray(Qe,function(ri){return ti+=ni._descendantCount(ri,ti)},this):qe.isObject(Qe)?qe.forEachObject(Qe,function(ri,ii){return ti+=ni._descendantCount(ii,ti)},this):ti++,ti},Je}(Ve(50).BaseWriter);r.JSONWriter=Ke},function(t,r,Ve){Ve(31),Ve(32),Ve(33),Ve(19),Ve(178),Ve(89),Ve(20),Ve(22),Ve(23);var je,ze=this&&this.__extends||(je=function(Ze,Je){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Qe,ti){Qe.__proto__=ti}||function(Qe,ti){for(var ni in ti)ti.hasOwnProperty(ni)&&(Qe[ni]=ti[ni])})(Ze,Je)},function(Ze,Je){function Qe(){this.constructor=Ze}je(Ze,Je),Ze.prototype=Je===null?Object.create(Je):(Qe.prototype=Je.prototype,new Qe)}),Xe=this&&this.__values||function(Ze){var Je=typeof Symbol=="function"&&Symbol.iterator,Qe=Je&&Ze[Je],ti=0;if(Qe)return Qe.call(Ze);if(Ze&&typeof Ze.length=="number")return{next:function(){return Ze&&ti>=Ze.length&&(Ze=void 0),{value:Ze&&Ze[ti++],done:!Ze}}};throw new TypeError(Je?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var We=Ve(67),qe=Ve(2),Ke=function(Ze){function Je(Qe,ti){var ni=Ze.call(this,Qe)||this;if(ni._writerOptions=qe.applyDefaults(ti,{wellFormed:!1,indent:"  ",newline:`
`,offset:0,group:!1,verbose:!1}),ni._writerOptions.indent.length<2)throw new Error("YAML indententation string must be at least two characters long.");if(ni._writerOptions.offset<0)throw new Error("YAML offset should be zero or a positive number.");return ni}return ze(Je,Ze),Je.prototype.serialize=function(Qe){var ti=qe.applyDefaults(this._writerOptions,{format:"object",wellFormed:!1}),ni=new We.ObjectWriter(this._builderOptions,ti).serialize(Qe),ri=this._beginLine(this._writerOptions,0)+"---"+this._endLine(this._writerOptions)+this._convertObject(ni,this._writerOptions,0);return ri.slice(-this._writerOptions.newline.length)===this._writerOptions.newline&&(ri=ri.slice(0,-this._writerOptions.newline.length)),ri},Je.prototype._convertObject=function(Qe,ti,ni,ri){var ii,ei,St=this;ri===void 0&&(ri=!1);var oi="";if(qe.isArray(Qe))try{for(var si=Xe(Qe),ai=si.next();!ai.done;ai=si.next()){var ui=ai.value;oi+=this._beginLine(ti,ni,!0),qe.isObject(ui)?qe.isEmpty(ui)?oi+='""'+this._endLine(ti):oi+=this._convertObject(ui,ti,ni,!0):oi+=this._val(ui)+this._endLine(ti)}}catch(hi){ii={error:hi}}finally{try{ai&&!ai.done&&(ei=si.return)&&ei.call(si)}finally{if(ii)throw ii.error}}else qe.forEachObject(Qe,function(hi,ci){ri?(oi+=St._key(hi),ri=!1):oi+=St._beginLine(ti,ni)+St._key(hi),qe.isObject(ci)?qe.isEmpty(ci)?oi+=' ""'+St._endLine(ti):oi+=St._endLine(ti)+St._convertObject(ci,ti,ni+1):oi+=" "+St._val(ci)+St._endLine(ti)},this);return oi},Je.prototype._beginLine=function(Qe,ti,ni){ni===void 0&&(ni=!1);var ri=Qe.offset+ti+1,ii=new Array(ri).join(Qe.indent);return ni?ii.substr(0,ii.length-2)+"-"+ii.substr(-1,1):ii},Je.prototype._endLine=function(Qe){return Qe.newline},Je.prototype._key=function(Qe){return'"'+Qe+'":'},Je.prototype._val=function(Qe){return JSON.stringify(Qe)},Je}(Ve(50).BaseWriter);r.YAMLWriter=Ke},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0}),Ve(110).dom.setFeatures(!0);var je=Ve(110);r.DOMImplementation=je.DOMImplementation;var ze=Ve(272);r.DOMParser=ze.DOMParser;var Xe=Ve(275);r.XMLSerializer=Xe.XMLSerializer},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(3),ze=Ve(0),Xe=function(){function We(){}return We.prototype.before=function(){for(var qe=[],Ke=0;Ke<arguments.length;Ke++)qe[Ke]=arguments[Ke];var Ze=je.Cast.asNode(this),Je=Ze._parent;if(Je!==null){for(var Qe=Ze._previousSibling,ti=!0;ti&&Qe;){ti=!1;for(var ni=0;ni<qe.length;ni++){var ri=qe[ni];if(ri===Qe){Qe=Qe._previousSibling,ti=!0;break}}}var ii=ze.parentNode_convertNodesIntoANode(qe,Ze._nodeDocument);Qe=Qe===null?Je._firstChild:Qe._nextSibling,ze.mutation_preInsert(ii,Je,Qe)}},We.prototype.after=function(){for(var qe=[],Ke=0;Ke<arguments.length;Ke++)qe[Ke]=arguments[Ke];var Ze=je.Cast.asNode(this),Je=Ze._parent;if(Je){for(var Qe=Ze._nextSibling,ti=!0;ti&&Qe;){ti=!1;for(var ni=0;ni<qe.length;ni++){var ri=qe[ni];if(ri===Qe){Qe=Qe._nextSibling,ti=!0;break}}}var ii=ze.parentNode_convertNodesIntoANode(qe,Ze._nodeDocument);ze.mutation_preInsert(ii,Je,Qe)}},We.prototype.replaceWith=function(){for(var qe=[],Ke=0;Ke<arguments.length;Ke++)qe[Ke]=arguments[Ke];var Ze=je.Cast.asNode(this),Je=Ze._parent;if(Je){for(var Qe=Ze._nextSibling,ti=!0;ti&&Qe;){ti=!1;for(var ni=0;ni<qe.length;ni++){var ri=qe[ni];if(ri===Qe){Qe=Qe._nextSibling,ti=!0;break}}}var ii=ze.parentNode_convertNodesIntoANode(qe,Ze._nodeDocument);Ze._parent===Je?ze.mutation_replace(Ze,ii,Je):ze.mutation_preInsert(ii,Je,Qe)}},We.prototype.remove=function(){var qe=je.Cast.asNode(this),Ke=qe._parent;Ke&&ze.mutation_remove(qe,Ke)},We}();r.ChildNodeImpl=Xe},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=function(){};r.DocumentOrShadowRootImpl=je},function(t,r,Ve){var je=this&&this.__values||function(Ke){var Ze=typeof Symbol=="function"&&Symbol.iterator,Je=Ze&&Ke[Ze],Qe=0;if(Je)return Je.call(Ke);if(Ke&&typeof Ke.length=="number")return{next:function(){return Ke&&Qe>=Ke.length&&(Ke=void 0),{value:Ke&&Ke[Qe++],done:!Ke}}};throw new TypeError(Ze?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var ze=Ve(6),Xe=Ve(3),We=Ve(7),qe=function(){function Ke(Ze){this._nodeList=[],this._recordQueue=[],this._callback=Ze;var Je=ze.dom.window;We.set.append(Je._mutationObservers,this)}return Ke.prototype.observe=function(Ze,Je){var Qe,ti;if((Je=Je||{childList:!1,subtree:!1}).attributeOldValue===void 0&&Je.attributeFilter===void 0||Je.attributes!==void 0||(Je.attributes=!0),Je.characterDataOldValue!==void 0&&Je.characterData===void 0&&(Je.characterData=!0),!Je.childList&&!Je.attributes&&!Je.characterData)throw new TypeError;if(Je.attributeOldValue&&!Je.attributes)throw new TypeError;if(Je.attributeFilter!==void 0&&!Je.attributes)throw new TypeError;if(Je.characterDataOldValue&&!Je.characterData)throw new TypeError;var ni=!1,ri=Je,ii=function(si){var ai,ui;if(si.observer===ei){ni=!0;try{for(var hi=(ai=void 0,je(ei._nodeList)),ci=hi.next();!ci.done;ci=hi.next()){var mi=ci.value;We.list.remove(mi._registeredObserverList,function(di){return Xe.Guard.isTransientRegisteredObserver(di)&&di.source===si})}}catch(di){ai={error:di}}finally{try{ci&&!ci.done&&(ui=hi.return)&&ui.call(hi)}finally{if(ai)throw ai.error}}si.options=ri}},ei=this;try{for(var St=je(Ze._registeredObserverList),oi=St.next();!oi.done;oi=St.next())ii(oi.value)}catch(si){Qe={error:si}}finally{try{oi&&!oi.done&&(ti=St.return)&&ti.call(St)}finally{if(Qe)throw Qe.error}}ni||(Ze._registeredObserverList.push({observer:this,options:Je}),this._nodeList.push(Ze))},Ke.prototype.disconnect=function(){var Ze,Je,Qe=this;try{for(var ti=je(this._nodeList),ni=ti.next();!ni.done;ni=ti.next()){var ri=ni.value;We.list.remove(ri._registeredObserverList,function(ii){return ii.observer===Qe})}}catch(ii){Ze={error:ii}}finally{try{ni&&!ni.done&&(Je=ti.return)&&Je.call(ti)}finally{if(Ze)throw Ze.error}}this._recordQueue=[]},Ke.prototype.takeRecords=function(){var Ze=this._recordQueue;return this._recordQueue=[],Ze},Ke}();r.MutationObserverImpl=qe},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(3),ze=function(){function Xe(){}return Object.defineProperty(Xe.prototype,"previousElementSibling",{get:function(){for(var We=je.Cast.asNode(this)._previousSibling;We;){if(je.Guard.isElementNode(We))return We;We=We._previousSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(Xe.prototype,"nextElementSibling",{get:function(){for(var We=je.Cast.asNode(this)._nextSibling;We;){if(je.Guard.isElementNode(We))return We;We=We._nextSibling}return null},enumerable:!0,configurable:!0}),Xe}();r.NonDocumentTypeChildNodeImpl=ze},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(3),ze=Ve(0),Xe=function(){function We(){}return We.prototype.getElementById=function(qe){for(var Ke=ze.tree_getFirstDescendantNode(je.Cast.asNode(this),!1,!1,function(Ze){return je.Guard.isElementNode(Ze)});Ke!==null;){if(Ke._uniqueIdentifier===qe)return Ke;Ke=ze.tree_getNextDescendantNode(je.Cast.asNode(this),Ke,!1,!1,function(Ze){return je.Guard.isElementNode(Ze)})}return null},We}();r.NonElementParentNodeImpl=Xe},function(t,r,Ve){var je=this&&this.__values||function(qe){var Ke=typeof Symbol=="function"&&Symbol.iterator,Ze=Ke&&qe[Ke],Je=0;if(Ze)return Ze.call(qe);if(qe&&typeof qe.length=="number")return{next:function(){return qe&&Je>=qe.length&&(qe=void 0),{value:qe&&qe[Je++],done:!qe}}};throw new TypeError(Ke?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var ze=Ve(3),Xe=Ve(0),We=function(){function qe(){}return Object.defineProperty(qe.prototype,"children",{get:function(){return Xe.create_htmlCollection(ze.Cast.asNode(this))},enumerable:!0,configurable:!0}),Object.defineProperty(qe.prototype,"firstElementChild",{get:function(){for(var Ke=ze.Cast.asNode(this)._firstChild;Ke;){if(ze.Guard.isElementNode(Ke))return Ke;Ke=Ke._nextSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(qe.prototype,"lastElementChild",{get:function(){for(var Ke=ze.Cast.asNode(this)._lastChild;Ke;){if(ze.Guard.isElementNode(Ke))return Ke;Ke=Ke._previousSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(qe.prototype,"childElementCount",{get:function(){var Ke,Ze,Je=0;try{for(var Qe=je(ze.Cast.asNode(this)._children),ti=Qe.next();!ti.done;ti=Qe.next()){var ni=ti.value;ze.Guard.isElementNode(ni)&&Je++}}catch(ri){Ke={error:ri}}finally{try{ti&&!ti.done&&(Ze=Qe.return)&&Ze.call(Qe)}finally{if(Ke)throw Ke.error}}return Je},enumerable:!0,configurable:!0}),qe.prototype.prepend=function(){for(var Ke=[],Ze=0;Ze<arguments.length;Ze++)Ke[Ze]=arguments[Ze];var Je=ze.Cast.asNode(this),Qe=Xe.parentNode_convertNodesIntoANode(Ke,Je._nodeDocument);Xe.mutation_preInsert(Qe,Je,Je._firstChild)},qe.prototype.append=function(){for(var Ke=[],Ze=0;Ze<arguments.length;Ze++)Ke[Ze]=arguments[Ze];var Je=ze.Cast.asNode(this),Qe=Xe.parentNode_convertNodesIntoANode(Ke,Je._nodeDocument);Xe.mutation_append(Qe,Je)},qe.prototype.querySelector=function(Ke){var Ze=ze.Cast.asNode(this),Je=Xe.selectors_scopeMatchASelectorsString(Ke,Ze);return Je.length===0?null:Je[0]},qe.prototype.querySelectorAll=function(Ke){var Ze=ze.Cast.asNode(this),Je=Xe.selectors_scopeMatchASelectorsString(Ke,Ze);return Xe.create_nodeListStatic(Ze,Je)},qe}();r.ParentNodeImpl=We},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(0),ze=function(){function Xe(){}return Object.defineProperty(Xe.prototype,"_name",{get:function(){return this.__name||""},set:function(We){this.__name=We},enumerable:!0,configurable:!0}),Object.defineProperty(Xe.prototype,"_assignedSlot",{get:function(){return this.__assignedSlot||null},set:function(We){this.__assignedSlot=We},enumerable:!0,configurable:!0}),Object.defineProperty(Xe.prototype,"assignedSlot",{get:function(){return je.shadowTree_findASlot(this,!0)},enumerable:!0,configurable:!0}),Xe}();r.SlotableImpl=ze},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(Ze,Je){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Qe,ti){Qe.__proto__=ti}||function(Qe,ti){for(var ni in ti)ti.hasOwnProperty(ni)&&(Qe[ni]=ti[ni])})(Ze,Je)},function(Ze,Je){function Qe(){this.constructor=Ze}je(Ze,Je),Ze.prototype=Je===null?Object.create(Je):(Qe.prototype=Je.prototype,new Qe)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(102),We=Ve(9),qe=Ve(3),Ke=function(Ze){function Je(Qe){var ti=Ze.call(this)||this;if(qe.Guard.isDocumentTypeNode(Qe.startContainer)||qe.Guard.isAttrNode(Qe.startContainer)||qe.Guard.isDocumentTypeNode(Qe.endContainer)||qe.Guard.isAttrNode(Qe.endContainer))throw new We.InvalidNodeTypeError;return ti._start=[Qe.startContainer,Qe.startOffset],ti._end=[Qe.endContainer,Qe.endOffset],ti}return ze(Je,Ze),Je}(Xe.AbstractRangeImpl);r.StaticRangeImpl=Ke},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(273);r.DOMParser=je.DOMParserImpl},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(0),ze=Ve(274),Xe=function(){function We(){}return We.prototype.parseFromString=function(qe,Ke){if(Ke==="text/html")throw new Error("HTML parser not implemented.");try{return(Ze=new ze.XMLParserImpl().parse(qe))._contentType=Ke,Ze}catch(ni){var Ze,Je="http://www.mozilla.org/newlayout/xml/parsererror.xml",Qe=(Ze=je.create_xmlDocument()).createElementNS(Je,"parsererror"),ti=Ze.createElementNS(Je,"error");return ti.setAttribute("message",ni.message),Qe.appendChild(ti),Ze.appendChild(Qe),Ze}},We}();r.DOMParserImpl=Xe},function(t,r,Ve){var je=this&&this.__read||function(Qe,ti){var ni=typeof Symbol=="function"&&Qe[Symbol.iterator];if(!ni)return Qe;var ri,ii,ei=ni.call(Qe),St=[];try{for(;(ti===void 0||ti-- >0)&&!(ri=ei.next()).done;)St.push(ri.value)}catch(oi){ii={error:oi}}finally{try{ri&&!ri.done&&(ni=ei.return)&&ni.call(ei)}finally{if(ii)throw ii.error}}return St},ze=this&&this.__values||function(Qe){var ti=typeof Symbol=="function"&&Symbol.iterator,ni=ti&&Qe[ti],ri=0;if(ni)return ni.call(Qe);if(Qe&&typeof Qe.length=="number")return{next:function(){return Qe&&ri>=Qe.length&&(Qe=void 0),{value:Qe&&Qe[ri++],done:!Qe}}};throw new TypeError(ti?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(180),We=Ve(111),qe=Ve(7),Ke=Ve(0),Ze=Ve(69),Je=function(){function Qe(){}return Qe.prototype.parse=function(ti){for(var ni,ri,ii,ei,St=new Xe.XMLStringLexer(ti,{skipWhitespaceOnlyText:!0}),oi=Ke.create_document(),si=oi,ai=St.nextToken();ai.type!==We.TokenType.EOF;){switch(ai.type){case We.TokenType.Declaration:var ui=ai;if(ui.version!=="1.0")throw new Error("Invalid xml version: "+ui.version);break;case We.TokenType.DocType:var hi=ai;if(!Ke.xml_isPubidChar(hi.pubId))throw new Error("DocType public identifier does not match PubidChar construct.");if(!Ke.xml_isLegalChar(hi.sysId)||hi.sysId.indexOf('"')!==-1&&hi.sysId.indexOf("'")!==-1)throw new Error("DocType system identifier contains invalid characters.");si.appendChild(oi.implementation.createDocumentType(hi.name,hi.pubId,hi.sysId));break;case We.TokenType.CDATA:var ci=ai;if(!Ke.xml_isLegalChar(ci.data)||ci.data.indexOf("]]>")!==-1)throw new Error("CDATA contains invalid characters.");si.appendChild(oi.createCDATASection(ci.data));break;case We.TokenType.Comment:var mi=ai;if(!Ke.xml_isLegalChar(mi.data)||mi.data.indexOf("--")!==-1||mi.data.endsWith("-"))throw new Error("Comment data contains invalid characters.");si.appendChild(oi.createComment(mi.data));break;case We.TokenType.PI:var di=ai;if(di.target.indexOf(":")!==-1||/^xml$/i.test(di.target))throw new Error("Processing instruction target contains invalid characters.");if(!Ke.xml_isLegalChar(di.data)||di.data.indexOf("?>")!==-1)throw new Error("Processing instruction data contains invalid characters.");si.appendChild(oi.createProcessingInstruction(di.target,di.data));break;case We.TokenType.Text:var pi=ai;if(!Ke.xml_isLegalChar(pi.data))throw new Error("Text data contains invalid characters.");si.appendChild(oi.createTextNode(this._decodeText(pi.data)));break;case We.TokenType.Element:var yi=ai,gi=je(Ke.namespace_extractQName(yi.name),2),_i=gi[0],Ai=gi[1];if(Ai.indexOf(":")!==-1||!Ke.xml_isName(Ai))throw new Error("Node local name contains invalid characters.");if(_i==="xmlns")throw new Error("An element cannot have the 'xmlns' prefix.");var ki=si.lookupNamespaceURI(_i),vi={};try{for(var Mi=(ni=void 0,ze(yi.attributes)),Di=Mi.next();!Di.done;Di=Mi.next()){var Bi=je(Di.value,2),Pi=Bi[0],Fi=Bi[1];if(Pi==="xmlns")ki=Fi;else{var Vi=je(Ke.namespace_extractQName(Pi),2),Ti=Vi[0],ji=Vi[1];Ti==="xmlns"&&(ji===_i&&(ki=Fi),vi[ji]=Fi)}}}catch(Ci){ni={error:Ci}}finally{try{Di&&!Di.done&&(ri=Mi.return)&&ri.call(Mi)}finally{if(ni)throw ni.error}}var Gi=ki!==null?oi.createElementNS(ki,yi.name):oi.createElement(yi.name);si.appendChild(Gi);var Yi=new Ze.LocalNameSet;try{for(var Xi=(ii=void 0,ze(yi.attributes)),xi=Xi.next();!xi.done;xi=Xi.next()){var fi=je(xi.value,2),$i=(Pi=fi[0],Fi=fi[1],je(Ke.namespace_extractQName(Pi),2)),bi=(Ti=$i[0],ji=$i[1],null);if(Ti==="xmlns"||Ti===null&&ji==="xmlns"?bi=qe.namespace.XMLNS:(bi=Gi.lookupNamespaceURI(Ti))!==null&&Gi.isDefaultNamespace(bi)?bi=null:bi===null&&Ti!==null&&(bi=vi[Ti]||null),Yi.has(bi,ji))throw new Error("Element contains duplicate attributes.");if(Yi.set(bi,ji),bi===qe.namespace.XMLNS&&Fi===qe.namespace.XMLNS)throw new Error("XMLNS namespace is reserved.");if(ji.indexOf(":")!==-1||!Ke.xml_isName(ji))throw new Error("Attribute local name contains invalid characters.");if(Ti==="xmlns"&&Fi==="")throw new Error("Empty XML namespace is not allowed.");bi!==null?Gi.setAttributeNS(bi,Pi,this._decodeAttributeValue(Fi)):Gi.setAttribute(Pi,this._decodeAttributeValue(Fi))}}catch(Ci){ii={error:Ci}}finally{try{xi&&!xi.done&&(ei=Xi.return)&&ei.call(Xi)}finally{if(ii)throw ii.error}}yi.selfClosing||(si=Gi);break;case We.TokenType.ClosingTag:if(ai.name!==si.nodeName)throw new Error("Closing tag name does not match opening tag name.");si._parent&&(si=si._parent)}ai=St.nextToken()}return oi},Qe.prototype._decodeText=function(ti){return ti==null?ti:ti.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},Qe.prototype._decodeAttributeValue=function(ti){return ti==null?ti:ti.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},Qe}();r.XMLParserImpl=Je},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(276);r.XMLSerializer=je.XMLSerializerImpl},function(t,r,Ve){var je=this&&this.__values||function(Qe){var ti=typeof Symbol=="function"&&Symbol.iterator,ni=ti&&Qe[ti],ri=0;if(ni)return ni.call(Qe);if(Qe&&typeof Qe.length=="number")return{next:function(){return Qe&&ri>=Qe.length&&(Qe=void 0),{value:Qe&&Qe[ri++],done:!Qe}}};throw new TypeError(ti?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var ze=Ve(1),Xe=Ve(69),We=Ve(95),qe=Ve(9),Ke=Ve(7),Ze=Ve(0),Je=function(){function Qe(){}return Qe.prototype.serializeToString=function(ti){return this._xmlSerialization(ti,!1)},Qe.prototype._xmlSerialization=function(ti,ni){if(ti._nodeDocument===void 0||ti._nodeDocument._hasNamespaces){var ri=new We.NamespacePrefixMap;ri.set("xml",Ke.namespace.XML);try{return this._serializeNodeNS(ti,null,ri,{value:1},ni)}catch{throw new qe.InvalidStateError}}else try{return this._serializeNode(ti,ni)}catch{throw new qe.InvalidStateError}},Qe.prototype._serializeNodeNS=function(ti,ni,ri,ii,ei){switch(ti.nodeType){case ze.NodeType.Element:return this._serializeElementNS(ti,ni,ri,ii,ei);case ze.NodeType.Document:return this._serializeDocumentNS(ti,ni,ri,ii,ei);case ze.NodeType.Comment:return this._serializeComment(ti,ei);case ze.NodeType.Text:return this._serializeText(ti,ei);case ze.NodeType.DocumentFragment:return this._serializeDocumentFragmentNS(ti,ni,ri,ii,ei);case ze.NodeType.DocumentType:return this._serializeDocumentType(ti,ei);case ze.NodeType.ProcessingInstruction:return this._serializeProcessingInstruction(ti,ei);case ze.NodeType.CData:return this._serializeCData(ti,ei);default:throw new Error("Unknown node type: "+ti.nodeType)}},Qe.prototype._serializeNode=function(ti,ni){switch(ti.nodeType){case ze.NodeType.Element:return this._serializeElement(ti,ni);case ze.NodeType.Document:return this._serializeDocument(ti,ni);case ze.NodeType.Comment:return this._serializeComment(ti,ni);case ze.NodeType.Text:return this._serializeText(ti,ni);case ze.NodeType.DocumentFragment:return this._serializeDocumentFragment(ti,ni);case ze.NodeType.DocumentType:return this._serializeDocumentType(ti,ni);case ze.NodeType.ProcessingInstruction:return this._serializeProcessingInstruction(ti,ni);case ze.NodeType.CData:return this._serializeCData(ti,ni);default:throw new Error("Unknown node type: "+ti.nodeType)}},Qe.prototype._serializeElementNS=function(ti,ni,ri,ii,ei){var St,oi;if(ei&&(ti.localName.indexOf(":")!==-1||!Ze.xml_isName(ti.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var si="<",ai="",ui=!1,hi=!1,ci=ri.copy(),mi={},di=this._recordNamespaceInformation(ti,ci,mi),pi=ni,yi=ti.namespaceURI;if(pi===yi)di!==null&&(hi=!0),si+=ai=yi===Ke.namespace.XML?"xml:"+ti.localName:ti.localName;else{var gi=ti.prefix,_i=null;if(gi===null&&yi===di||(_i=ci.get(gi,yi)),gi==="xmlns"){if(ei)throw new Error("An element cannot have the 'xmlns' prefix (well-formed required).");_i=gi}_i!==null?(ai=_i+":"+ti.localName,di!==null&&di!==Ke.namespace.XML&&(pi=di||null),si+=ai):gi!==null?(gi in mi&&(gi=this._generatePrefix(yi,ci,ii)),ci.set(gi,yi),si+=ai+=gi+":"+ti.localName,si+=" xmlns:"+gi+'="'+this._serializeAttributeValue(yi,ei)+'"',di!==null&&(pi=di||null)):di===null||di!==null&&di!==yi?(hi=!0,pi=yi,si+=ai+=ti.localName,si+=' xmlns="'+this._serializeAttributeValue(yi,ei)+'"'):(pi=yi,si+=ai+=ti.localName)}si+=this._serializeAttributesNS(ti,ci,ii,mi,hi,ei);var Ai=yi===Ke.namespace.HTML;if(Ai&&ti.childNodes.length===0&&Qe._VoidElementNames.has(ti.localName)?(si+=" /",ui=!0):Ai||ti.childNodes.length!==0||(si+="/",ui=!0),si+=">",ui)return si;if(!(Ai&&ti.localName==="template"))try{for(var ki=je(ti._children||ti.childNodes),vi=ki.next();!vi.done;vi=ki.next()){var Mi=vi.value;si+=this._serializeNodeNS(Mi,pi,ci,ii,ei)}}catch(Di){St={error:Di}}finally{try{vi&&!vi.done&&(oi=ki.return)&&oi.call(ki)}finally{if(St)throw St.error}}return si+="</"+ai+">"},Qe.prototype._serializeDocumentNS=function(ti,ni,ri,ii,ei){var St,oi;if(ei&&ti.documentElement===null)throw new Error("Missing document element (well-formed required).");var si="";try{for(var ai=je(ti._children||ti.childNodes),ui=ai.next();!ui.done;ui=ai.next()){var hi=ui.value;si+=this._serializeNodeNS(hi,ni,ri,ii,ei)}}catch(ci){St={error:ci}}finally{try{ui&&!ui.done&&(oi=ai.return)&&oi.call(ai)}finally{if(St)throw St.error}}return si},Qe.prototype._serializeComment=function(ti,ni){if(ni&&(!Ze.xml_isLegalChar(ti.data)||ti.data.indexOf("--")!==-1||ti.data.endsWith("-")))throw new Error("Comment data contains invalid characters (well-formed required).");return"<!--"+ti.data+"-->"},Qe.prototype._serializeText=function(ti,ni){if(ni&&!Ze.xml_isLegalChar(ti.data))throw new Error("Text data contains invalid characters (well-formed required).");for(var ri="",ii=0;ii<ti.data.length;ii++){var ei=ti.data[ii];ri+=ei==="&"?"&amp;":ei==="<"?"&lt;":ei===">"?"&gt;":ei}return ri},Qe.prototype._serializeDocumentFragmentNS=function(ti,ni,ri,ii,ei){var St,oi,si="";try{for(var ai=je(ti._children||ti.childNodes),ui=ai.next();!ui.done;ui=ai.next()){var hi=ui.value;si+=this._serializeNodeNS(hi,ni,ri,ii,ei)}}catch(ci){St={error:ci}}finally{try{ui&&!ui.done&&(oi=ai.return)&&oi.call(ai)}finally{if(St)throw St.error}}return si},Qe.prototype._serializeDocumentType=function(ti,ni){if(ni&&!Ze.xml_isPubidChar(ti.publicId))throw new Error("DocType public identifier does not match PubidChar construct (well-formed required).");if(ni&&(!Ze.xml_isLegalChar(ti.systemId)||ti.systemId.indexOf('"')!==-1&&ti.systemId.indexOf("'")!==-1))throw new Error("DocType system identifier contains invalid characters (well-formed required).");return ti.publicId&&ti.systemId?"<!DOCTYPE "+ti.name+' PUBLIC "'+ti.publicId+'" "'+ti.systemId+'">':ti.publicId?"<!DOCTYPE "+ti.name+' PUBLIC "'+ti.publicId+'">':ti.systemId?"<!DOCTYPE "+ti.name+' SYSTEM "'+ti.systemId+'">':"<!DOCTYPE "+ti.name+">"},Qe.prototype._serializeProcessingInstruction=function(ti,ni){if(ni&&(ti.target.indexOf(":")!==-1||/^xml$/i.test(ti.target)))throw new Error("Processing instruction target contains invalid characters (well-formed required).");if(ni&&(!Ze.xml_isLegalChar(ti.data)||ti.data.indexOf("?>")!==-1))throw new Error("Processing instruction data contains invalid characters (well-formed required).");return"<?"+(ti.data===""?ti.target:ti.target+" "+ti.data)+"?>"},Qe.prototype._serializeCData=function(ti,ni){if(ni&&ti.data.indexOf("]]>")!==-1)throw new Error("CDATA contains invalid characters (well-formed required).");return"<![CDATA["+ti.data+"]]>"},Qe.prototype._serializeAttributesNS=function(ti,ni,ri,ii,ei,St){var oi,si,ai="",ui=St?new Xe.LocalNameSet:void 0;try{for(var hi=je(ti.attributes),ci=hi.next();!ci.done;ci=hi.next()){var mi=ci.value;if(ei||St||mi.namespaceURI!==null){if(St&&ui&&ui.has(mi.namespaceURI,mi.localName))throw new Error("Element contains duplicate attributes (well-formed required).");St&&ui&&ui.set(mi.namespaceURI,mi.localName);var di=mi.namespaceURI,pi=null;if(di!==null)if(pi=ni.get(mi.prefix,di),di===Ke.namespace.XMLNS){if(mi.value===Ke.namespace.XML||mi.prefix===null&&ei||mi.prefix!==null&&(!(mi.localName in ii)||ii[mi.localName]!==mi.value)&&ni.has(mi.localName,mi.value))continue;if(St&&mi.value===Ke.namespace.XMLNS)throw new Error("XMLNS namespace is reserved (well-formed required).");if(St&&mi.value==="")throw new Error("Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required).");mi.prefix==="xmlns"&&(pi="xmlns")}else pi===null&&(ai+=" xmlns:"+(pi=mi.prefix===null||ni.hasPrefix(mi.prefix)&&!ni.has(mi.prefix,di)?this._generatePrefix(di,ni,ri):mi.prefix)+'="'+this._serializeAttributeValue(di,St)+'"');if(ai+=" ",pi!==null&&(ai+=pi+":"),St&&(mi.localName.indexOf(":")!==-1||!Ze.xml_isName(mi.localName)||mi.localName==="xmlns"&&di===null))throw new Error("Attribute local name contains invalid characters (well-formed required).");ai+=mi.localName+'="'+this._serializeAttributeValue(mi.value,St)+'"'}else ai+=" "+mi.localName+'="'+this._serializeAttributeValue(mi.value,St)+'"'}}catch(yi){oi={error:yi}}finally{try{ci&&!ci.done&&(si=hi.return)&&si.call(hi)}finally{if(oi)throw oi.error}}return ai},Qe.prototype._recordNamespaceInformation=function(ti,ni,ri){var ii,ei,St=null;try{for(var oi=je(ti.attributes),si=oi.next();!si.done;si=oi.next()){var ai=si.value,ui=ai.namespaceURI,hi=ai.prefix;if(ui===Ke.namespace.XMLNS){if(hi===null){St=ai.value;continue}var ci=ai.localName,mi=ai.value;if(mi===Ke.namespace.XML||(mi===""&&(mi=null),ni.has(ci,mi)))continue;ni.set(ci,mi),ri[ci]=mi||""}}}catch(di){ii={error:di}}finally{try{si&&!si.done&&(ei=oi.return)&&ei.call(oi)}finally{if(ii)throw ii.error}}return St},Qe.prototype._generatePrefix=function(ti,ni,ri){var ii="ns"+ri.value;return ri.value++,ni.set(ii,ti),ii},Qe.prototype._serializeAttributeValue=function(ti,ni){if(ni&&ti!==null&&!Ze.xml_isLegalChar(ti))throw new Error("Invalid characters in attribute value.");if(ti===null)return"";for(var ri="",ii=0;ii<ti.length;ii++){var ei=ti[ii];ri+=ei==='"'?"&quot;":ei==="&"?"&amp;":ei==="<"?"&lt;":ei===">"?"&gt;":ei}return ri},Qe.prototype._serializeElement=function(ti,ni){var ri,ii;if(ni&&(ti.localName.indexOf(":")!==-1||!Ze.xml_isName(ti.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var ei=!1,St=ti.localName,oi="<"+St;if(oi+=this._serializeAttributes(ti,ni),ti._children.size===0&&(oi+="/",ei=!0),oi+=">",ei)return oi;try{for(var si=je(ti._children),ai=si.next();!ai.done;ai=si.next()){var ui=ai.value;oi+=this._serializeNode(ui,ni)}}catch(hi){ri={error:hi}}finally{try{ai&&!ai.done&&(ii=si.return)&&ii.call(si)}finally{if(ri)throw ri.error}}return oi+="</"+St+">"},Qe.prototype._serializeDocument=function(ti,ni){var ri,ii;if(ni&&ti.documentElement===null)throw new Error("Missing document element (well-formed required).");var ei="";try{for(var St=je(ti._children),oi=St.next();!oi.done;oi=St.next()){var si=oi.value;ei+=this._serializeNode(si,ni)}}catch(ai){ri={error:ai}}finally{try{oi&&!oi.done&&(ii=St.return)&&ii.call(St)}finally{if(ri)throw ri.error}}return ei},Qe.prototype._serializeDocumentFragment=function(ti,ni){var ri,ii,ei="";try{for(var St=je(ti._children),oi=St.next();!oi.done;oi=St.next()){var si=oi.value;ei+=this._serializeNode(si,ni)}}catch(ai){ri={error:ai}}finally{try{oi&&!oi.done&&(ii=St.return)&&ii.call(St)}finally{if(ri)throw ri.error}}return ei},Qe.prototype._serializeAttributes=function(ti,ni){var ri,ii,ei="",St=ni?{}:void 0;try{for(var oi=je(ti.attributes),si=oi.next();!si.done;si=oi.next()){var ai=si.value;if(ni&&St&&ai.localName in St)throw new Error("Element contains duplicate attributes (well-formed required).");if(ni&&St&&(St[ai.localName]=!0),ni&&(ai.localName.indexOf(":")!==-1||!Ze.xml_isName(ai.localName)))throw new Error("Attribute local name contains invalid characters (well-formed required).");ei+=" "+ai.localName+'="'+this._serializeAttributeValue(ai.value,ni)+'"'}}catch(ui){ri={error:ui}}finally{try{si&&!si.done&&(ii=oi.return)&&ii.call(oi)}finally{if(ri)throw ri.error}}return ei},Qe._VoidElementNames=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),Qe}();r.XMLSerializerImpl=Je},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(278);r.XMLReader=je.XMLReader;var ze=Ve(112);r.ObjectReader=ze.ObjectReader;var Xe=Ve(281);r.JSONReader=Xe.JSONReader;var We=Ve(282);r.YAMLReader=We.YAMLReader},function(t,r,Ve){Ve(31),Ve(32),Ve(33),Ve(19),Ve(65),Ve(20),Ve(22),Ve(23);var je,ze=this&&this.__extends||(je=function(ni,ri){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ii,ei){ii.__proto__=ei}||function(ii,ei){for(var St in ei)ei.hasOwnProperty(St)&&(ii[St]=ei[St])})(ni,ri)},function(ni,ri){function ii(){this.constructor=ni}je(ni,ri),ni.prototype=ri===null?Object.create(ri):(ii.prototype=ri.prototype,new ii)}),Xe=this&&this.__read||function(ni,ri){var ii=typeof Symbol=="function"&&ni[Symbol.iterator];if(!ii)return ni;var ei,St,oi=ii.call(ni),si=[];try{for(;(ri===void 0||ri-- >0)&&!(ei=oi.next()).done;)si.push(ei.value)}catch(ai){St={error:ai}}finally{try{ei&&!ei.done&&(ii=oi.return)&&ii.call(oi)}finally{if(St)throw St.error}}return si},We=this&&this.__values||function(ni){var ri=typeof Symbol=="function"&&Symbol.iterator,ii=ri&&ni[ri],ei=0;if(ii)return ii.call(ni);if(ni&&typeof ni.length=="number")return{next:function(){return ni&&ei>=ni.length&&(ni=void 0),{value:ni&&ni[ei++],done:!ni}}};throw new TypeError(ri?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var qe=Ve(180),Ke=Ve(111),Ze=Ve(1),Je=Ve(7),Qe=Ve(0),ti=function(ni){function ri(){return ni!==null&&ni.apply(this,arguments)||this}return ze(ri,ni),ri.prototype._parse=function(ii,ei){for(var St,oi,si,ai,ui=new qe.XMLStringLexer(ei,{skipWhitespaceOnlyText:this._builderOptions.skipWhitespaceOnlyText}),hi=ii,ci=ii,mi=ui.nextToken();mi.type!==Ke.TokenType.EOF;){switch(mi.type){case Ke.TokenType.Declaration:var di=mi,pi=this.sanitize(di.version);if(pi!=="1.0")throw new Error("Invalid xml version: "+pi);var yi={version:pi};di.encoding&&(yi.encoding=this.sanitize(di.encoding)),di.standalone&&(yi.standalone=this.sanitize(di.standalone)==="yes"),ci.set(yi);break;case Ke.TokenType.DocType:var gi=mi;ci=this.docType(ci,this.sanitize(gi.name),this.sanitize(gi.pubId),this.sanitize(gi.sysId))||ci;break;case Ke.TokenType.CDATA:var _i=mi;ci=this.cdata(ci,this.sanitize(_i.data))||ci;break;case Ke.TokenType.Comment:var Ai=mi;ci=this.comment(ci,this.sanitize(Ai.data))||ci;break;case Ke.TokenType.PI:var ki=mi;ci=this.instruction(ci,this.sanitize(ki.target),this.sanitize(ki.data))||ci;break;case Ke.TokenType.Text:if(ci.node.nodeType===Ze.NodeType.Document)break;var vi=mi;ci=this.text(ci,this._decodeText(this.sanitize(vi.data)))||ci;break;case Ke.TokenType.Element:var Mi=mi,Di=this.sanitize(Mi.name),Bi=Xe(Qe.namespace_extractQName(Di),1)[0],Pi=ci.node.lookupNamespaceURI(Bi),Fi={};try{for(var Vi=(St=void 0,We(Mi.attributes)),Ti=Vi.next();!Ti.done;Ti=Vi.next()){var ji=Xe(Ti.value,2),Gi=ji[0],Yi=ji[1];if(Gi=this.sanitize(Gi),Yi=this.sanitize(Yi),Gi==="xmlns")Pi=Yi;else{var Xi=Xe(Qe.namespace_extractQName(Gi),2),xi=Xi[0],fi=Xi[1];xi==="xmlns"&&(fi===Bi&&(Pi=Yi),Fi[fi]=Yi)}}}catch(Ki){St={error:Ki}}finally{try{Ti&&!Ti.done&&(oi=Vi.return)&&oi.call(Vi)}finally{if(St)throw St.error}}var $i=Pi!==null?this.element(ci,Pi,Di):this.element(ci,void 0,Di);if($i===void 0)break;ci.node===ii.node&&(hi=$i);try{for(var bi=(si=void 0,We(Mi.attributes)),Ci=bi.next();!Ci.done;Ci=bi.next()){var Ei=Xe(Ci.value,2);Gi=Ei[0],Yi=Ei[1],Gi=this.sanitize(Gi),Yi=this.sanitize(Yi);var Si=Xe(Qe.namespace_extractQName(Gi),2),zi=(xi=Si[0],fi=Si[1],null);xi==="xmlns"||xi===null&&fi==="xmlns"?zi=Je.namespace.XMLNS:(zi=$i.node.lookupNamespaceURI(xi))!==null&&$i.node.isDefaultNamespace(zi)?zi=null:zi===null&&xi!==null&&(zi=Fi[xi]||null),zi!==null?this.attribute($i,zi,Gi,this._decodeAttributeValue(Yi)):this.attribute($i,void 0,Gi,this._decodeAttributeValue(Yi))}}catch(Ki){si={error:Ki}}finally{try{Ci&&!Ci.done&&(ai=bi.return)&&ai.call(bi)}finally{if(si)throw si.error}}Mi.selfClosing||(ci=$i);break;case Ke.TokenType.ClosingTag:ci.node.parentNode&&(ci=ci.up())}mi=ui.nextToken()}return hi},ri}(Ve(75).BaseReader);r.XMLReader=ti},function(t,r,Ve){var je=Ve(4),ze=Ve(280);je({target:"Object",stat:!0,forced:Object.assign!==ze},{assign:ze})},function(t,r,Ve){var je=Ve(16),ze=Ve(8),Xe=Ve(61),We=Ve(85),qe=Ve(79),Ke=Ve(27),Ze=Ve(41),Je=Object.assign,Qe=Object.defineProperty;t.exports=!Je||ze(function(){if(je&&Je({b:1},Je(Qe({},"a",{enumerable:!0,get:function(){Qe(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var ti={},ni={},ri=Symbol();return ti[ri]=7,"abcdefghijklmnopqrst".split("").forEach(function(ii){ni[ii]=ii}),Je({},ti)[ri]!=7||Xe(Je({},ni)).join("")!="abcdefghijklmnopqrst"})?function(ti,ni){for(var ri=Ke(ti),ii=arguments.length,ei=1,St=We.f,oi=qe.f;ii>ei;)for(var si,ai=Ze(arguments[ei++]),ui=St?Xe(ai).concat(St(ai)):Xe(ai),hi=ui.length,ci=0;hi>ci;)si=ui[ci++],je&&!oi.call(ai,si)||(ri[si]=ai[si]);return ri}:Je},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(qe,Ke){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ze,Je){Ze.__proto__=Je}||function(Ze,Je){for(var Qe in Je)Je.hasOwnProperty(Qe)&&(Ze[Qe]=Je[Qe])})(qe,Ke)},function(qe,Ke){function Ze(){this.constructor=qe}je(qe,Ke),qe.prototype=Ke===null?Object.create(Ke):(Ze.prototype=Ke.prototype,new Ze)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(112),We=function(qe){function Ke(){return qe!==null&&qe.apply(this,arguments)||this}return ze(Ke,qe),Ke.prototype._parse=function(Ze,Je){return new Xe.ObjectReader(this._builderOptions).parse(Ze,JSON.parse(Je))},Ke}(Ve(75).BaseReader);r.JSONReader=We},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(Ze,Je){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Qe,ti){Qe.__proto__=ti}||function(Qe,ti){for(var ni in ti)ti.hasOwnProperty(ni)&&(Qe[ni]=ti[ni])})(Ze,Je)},function(Ze,Je){function Qe(){this.constructor=Ze}je(Ze,Je),Ze.prototype=Je===null?Object.create(Je):(Qe.prototype=Je.prototype,new Qe)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(112),We=Ve(75),qe=Ve(283),Ke=function(Ze){function Je(){return Ze!==null&&Ze.apply(this,arguments)||this}return ze(Je,Ze),Je.prototype._parse=function(Qe,ti){var ni=qe.safeLoad(ti);if(ni===void 0)throw new Error("Unable to parse YAML document.");return new Xe.ObjectReader(this._builderOptions).parse(Qe,ni)},Je}(We.BaseReader);r.YAMLReader=Ke},function(t,r,Ve){var je=Ve(284);t.exports=je},function(t,r,Ve){var je=Ve(285),ze=Ve(304);function Xe(We){return function(){throw new Error("Function "+We+" is deprecated and cannot be used.")}}t.exports.Type=Ve(10),t.exports.Schema=Ve(39),t.exports.FAILSAFE_SCHEMA=Ve(113),t.exports.JSON_SCHEMA=Ve(182),t.exports.CORE_SCHEMA=Ve(181),t.exports.DEFAULT_SAFE_SCHEMA=Ve(54),t.exports.DEFAULT_FULL_SCHEMA=Ve(76),t.exports.load=je.load,t.exports.loadAll=je.loadAll,t.exports.safeLoad=je.safeLoad,t.exports.safeLoadAll=je.safeLoadAll,t.exports.dump=ze.dump,t.exports.safeDump=ze.safeDump,t.exports.YAMLException=Ve(53),t.exports.MINIMAL_SCHEMA=Ve(113),t.exports.SAFE_SCHEMA=Ve(54),t.exports.DEFAULT_SCHEMA=Ve(76),t.exports.scan=Xe("scan"),t.exports.parse=Xe("parse"),t.exports.compose=Xe("compose"),t.exports.addConstructor=Xe("addConstructor")},function(t,r,Ve){var je=Ve(38),ze=Ve(53),Xe=Ve(286),We=Ve(54),qe=Ve(76),Ke=Object.prototype.hasOwnProperty,Ze=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Je=/[\x85\u2028\u2029]/,Qe=/[,\[\]\{\}]/,ti=/^(?:!|!!|![a-z\-]+!)$/i,ni=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function ri(fi){return Object.prototype.toString.call(fi)}function ii(fi){return fi===10||fi===13}function ei(fi){return fi===9||fi===32}function St(fi){return fi===9||fi===32||fi===10||fi===13}function oi(fi){return fi===44||fi===91||fi===93||fi===123||fi===125}function si(fi){var $i;return 48<=fi&&fi<=57?fi-48:97<=($i=32|fi)&&$i<=102?$i-97+10:-1}function ai(fi){return fi===48?"\0":fi===97?"\x07":fi===98?"\b":fi===116||fi===9?"	":fi===110?`
`:fi===118?"\v":fi===102?"\f":fi===114?"\r":fi===101?"\x1B":fi===32?" ":fi===34?'"':fi===47?"/":fi===92?"\\":fi===78?"":fi===95?"":fi===76?"\u2028":fi===80?"\u2029":""}function ui(fi){return fi<=65535?String.fromCharCode(fi):String.fromCharCode(55296+(fi-65536>>10),56320+(fi-65536&1023))}for(var hi=new Array(256),ci=new Array(256),mi=0;mi<256;mi++)hi[mi]=ai(mi)?1:0,ci[mi]=ai(mi);function di(fi,$i){this.input=fi,this.filename=$i.filename||null,this.schema=$i.schema||qe,this.onWarning=$i.onWarning||null,this.legacy=$i.legacy||!1,this.json=$i.json||!1,this.listener=$i.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=fi.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function pi(fi,$i){return new ze($i,new Xe(fi.filename,fi.input,fi.position,fi.line,fi.position-fi.lineStart))}function yi(fi,$i){throw pi(fi,$i)}function gi(fi,$i){fi.onWarning&&fi.onWarning.call(null,pi(fi,$i))}var _i={YAML:function(fi,$i,bi){var Ci,Ei,Si;fi.version!==null&&yi(fi,"duplication of %YAML directive"),bi.length!==1&&yi(fi,"YAML directive accepts exactly one argument"),(Ci=/^([0-9]+)\.([0-9]+)$/.exec(bi[0]))===null&&yi(fi,"ill-formed argument of the YAML directive"),Ei=parseInt(Ci[1],10),Si=parseInt(Ci[2],10),Ei!==1&&yi(fi,"unacceptable YAML version of the document"),fi.version=bi[0],fi.checkLineBreaks=Si<2,Si!==1&&Si!==2&&gi(fi,"unsupported YAML version of the document")},TAG:function(fi,$i,bi){var Ci,Ei;bi.length!==2&&yi(fi,"TAG directive accepts exactly two arguments"),Ci=bi[0],Ei=bi[1],ti.test(Ci)||yi(fi,"ill-formed tag handle (first argument) of the TAG directive"),Ke.call(fi.tagMap,Ci)&&yi(fi,'there is a previously declared suffix for "'+Ci+'" tag handle'),ni.test(Ei)||yi(fi,"ill-formed tag prefix (second argument) of the TAG directive"),fi.tagMap[Ci]=Ei}};function Ai(fi,$i,bi,Ci){var Ei,Si,zi,Ki;if($i<bi){if(Ki=fi.input.slice($i,bi),Ci)for(Ei=0,Si=Ki.length;Ei<Si;Ei+=1)(zi=Ki.charCodeAt(Ei))===9||32<=zi&&zi<=1114111||yi(fi,"expected valid JSON character");else Ze.test(Ki)&&yi(fi,"the stream contains non-printable characters");fi.result+=Ki}}function ki(fi,$i,bi,Ci){var Ei,Si,zi,Ki;for(je.isObject(bi)||yi(fi,"cannot merge mappings; the provided source object is unacceptable"),zi=0,Ki=(Ei=Object.keys(bi)).length;zi<Ki;zi+=1)Si=Ei[zi],Ke.call($i,Si)||($i[Si]=bi[Si],Ci[Si]=!0)}function vi(fi,$i,bi,Ci,Ei,Si,zi,Ki){var Ui,Ji;if(Array.isArray(Ei))for(Ui=0,Ji=(Ei=Array.prototype.slice.call(Ei)).length;Ui<Ji;Ui+=1)Array.isArray(Ei[Ui])&&yi(fi,"nested arrays are not supported inside keys"),typeof Ei=="object"&&ri(Ei[Ui])==="[object Object]"&&(Ei[Ui]="[object Object]");if(typeof Ei=="object"&&ri(Ei)==="[object Object]"&&(Ei="[object Object]"),Ei=String(Ei),$i===null&&($i={}),Ci==="tag:yaml.org,2002:merge")if(Array.isArray(Si))for(Ui=0,Ji=Si.length;Ui<Ji;Ui+=1)ki(fi,$i,Si[Ui],bi);else ki(fi,$i,Si,bi);else fi.json||Ke.call(bi,Ei)||!Ke.call($i,Ei)||(fi.line=zi||fi.line,fi.position=Ki||fi.position,yi(fi,"duplicated mapping key")),$i[Ei]=Si,delete bi[Ei];return $i}function Mi(fi){var $i;($i=fi.input.charCodeAt(fi.position))===10?fi.position++:$i===13?(fi.position++,fi.input.charCodeAt(fi.position)===10&&fi.position++):yi(fi,"a line break is expected"),fi.line+=1,fi.lineStart=fi.position}function Di(fi,$i,bi){for(var Ci=0,Ei=fi.input.charCodeAt(fi.position);Ei!==0;){for(;ei(Ei);)Ei=fi.input.charCodeAt(++fi.position);if($i&&Ei===35)do Ei=fi.input.charCodeAt(++fi.position);while(Ei!==10&&Ei!==13&&Ei!==0);if(!ii(Ei))break;for(Mi(fi),Ei=fi.input.charCodeAt(fi.position),Ci++,fi.lineIndent=0;Ei===32;)fi.lineIndent++,Ei=fi.input.charCodeAt(++fi.position)}return bi!==-1&&Ci!==0&&fi.lineIndent<bi&&gi(fi,"deficient indentation"),Ci}function Bi(fi){var $i,bi=fi.position;return!(($i=fi.input.charCodeAt(bi))!==45&&$i!==46||$i!==fi.input.charCodeAt(bi+1)||$i!==fi.input.charCodeAt(bi+2)||(bi+=3,($i=fi.input.charCodeAt(bi))!==0&&!St($i)))}function Pi(fi,$i){$i===1?fi.result+=" ":$i>1&&(fi.result+=je.repeat(`
`,$i-1))}function Fi(fi,$i){var bi,Ci,Ei=fi.tag,Si=fi.anchor,zi=[],Ki=!1;for(fi.anchor!==null&&(fi.anchorMap[fi.anchor]=zi),Ci=fi.input.charCodeAt(fi.position);Ci!==0&&Ci===45&&St(fi.input.charCodeAt(fi.position+1));)if(Ki=!0,fi.position++,Di(fi,!0,-1)&&fi.lineIndent<=$i)zi.push(null),Ci=fi.input.charCodeAt(fi.position);else if(bi=fi.line,ji(fi,$i,3,!1,!0),zi.push(fi.result),Di(fi,!0,-1),Ci=fi.input.charCodeAt(fi.position),(fi.line===bi||fi.lineIndent>$i)&&Ci!==0)yi(fi,"bad indentation of a sequence entry");else if(fi.lineIndent<$i)break;return!!Ki&&(fi.tag=Ei,fi.anchor=Si,fi.kind="sequence",fi.result=zi,!0)}function Vi(fi){var $i,bi,Ci,Ei,Si=!1,zi=!1;if((Ei=fi.input.charCodeAt(fi.position))!==33)return!1;if(fi.tag!==null&&yi(fi,"duplication of a tag property"),(Ei=fi.input.charCodeAt(++fi.position))===60?(Si=!0,Ei=fi.input.charCodeAt(++fi.position)):Ei===33?(zi=!0,bi="!!",Ei=fi.input.charCodeAt(++fi.position)):bi="!",$i=fi.position,Si){do Ei=fi.input.charCodeAt(++fi.position);while(Ei!==0&&Ei!==62);fi.position<fi.length?(Ci=fi.input.slice($i,fi.position),Ei=fi.input.charCodeAt(++fi.position)):yi(fi,"unexpected end of the stream within a verbatim tag")}else{for(;Ei!==0&&!St(Ei);)Ei===33&&(zi?yi(fi,"tag suffix cannot contain exclamation marks"):(bi=fi.input.slice($i-1,fi.position+1),ti.test(bi)||yi(fi,"named tag handle cannot contain such characters"),zi=!0,$i=fi.position+1)),Ei=fi.input.charCodeAt(++fi.position);Ci=fi.input.slice($i,fi.position),Qe.test(Ci)&&yi(fi,"tag suffix cannot contain flow indicator characters")}return Ci&&!ni.test(Ci)&&yi(fi,"tag name cannot contain such characters: "+Ci),Si?fi.tag=Ci:Ke.call(fi.tagMap,bi)?fi.tag=fi.tagMap[bi]+Ci:bi==="!"?fi.tag="!"+Ci:bi==="!!"?fi.tag="tag:yaml.org,2002:"+Ci:yi(fi,'undeclared tag handle "'+bi+'"'),!0}function Ti(fi){var $i,bi;if((bi=fi.input.charCodeAt(fi.position))!==38)return!1;for(fi.anchor!==null&&yi(fi,"duplication of an anchor property"),bi=fi.input.charCodeAt(++fi.position),$i=fi.position;bi!==0&&!St(bi)&&!oi(bi);)bi=fi.input.charCodeAt(++fi.position);return fi.position===$i&&yi(fi,"name of an anchor node must contain at least one character"),fi.anchor=fi.input.slice($i,fi.position),!0}function ji(fi,$i,bi,Ci,Ei){var Si,zi,Ki,Ui,Ji,gn,hn,un,Mn=1,sn=!1,vn=!1;if(fi.listener!==null&&fi.listener("open",fi),fi.tag=null,fi.anchor=null,fi.kind=null,fi.result=null,Si=zi=Ki=bi===4||bi===3,Ci&&Di(fi,!0,-1)&&(sn=!0,fi.lineIndent>$i?Mn=1:fi.lineIndent===$i?Mn=0:fi.lineIndent<$i&&(Mn=-1)),Mn===1)for(;Vi(fi)||Ti(fi);)Di(fi,!0,-1)?(sn=!0,Ki=Si,fi.lineIndent>$i?Mn=1:fi.lineIndent===$i?Mn=0:fi.lineIndent<$i&&(Mn=-1)):Ki=!1;if(Ki&&(Ki=sn||Ei),Mn!==1&&bi!==4||(hn=bi===1||bi===2?$i:$i+1,un=fi.position-fi.lineStart,Mn===1?Ki&&(Fi(fi,un)||function(Ni,Cn,cn){var fn,qi,an,yn,bn,Sn=Ni.tag,Fn=Ni.anchor,kn={},Nn={},Hn=null,Yn=null,tr=null,qn=!1,Jn=!1;for(Ni.anchor!==null&&(Ni.anchorMap[Ni.anchor]=kn),bn=Ni.input.charCodeAt(Ni.position);bn!==0;){if(fn=Ni.input.charCodeAt(Ni.position+1),an=Ni.line,yn=Ni.position,bn!==63&&bn!==58||!St(fn)){if(!ji(Ni,cn,2,!1,!0))break;if(Ni.line===an){for(bn=Ni.input.charCodeAt(Ni.position);ei(bn);)bn=Ni.input.charCodeAt(++Ni.position);if(bn===58)St(bn=Ni.input.charCodeAt(++Ni.position))||yi(Ni,"a whitespace character is expected after the key-value separator within a block mapping"),qn&&(vi(Ni,kn,Nn,Hn,Yn,null),Hn=Yn=tr=null),Jn=!0,qn=!1,qi=!1,Hn=Ni.tag,Yn=Ni.result;else{if(!Jn)return Ni.tag=Sn,Ni.anchor=Fn,!0;yi(Ni,"can not read an implicit mapping pair; a colon is missed")}}else{if(!Jn)return Ni.tag=Sn,Ni.anchor=Fn,!0;yi(Ni,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else bn===63?(qn&&(vi(Ni,kn,Nn,Hn,Yn,null),Hn=Yn=tr=null),Jn=!0,qn=!0,qi=!0):qn?(qn=!1,qi=!0):yi(Ni,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),Ni.position+=1,bn=fn;if((Ni.line===an||Ni.lineIndent>Cn)&&(ji(Ni,Cn,4,!0,qi)&&(qn?Yn=Ni.result:tr=Ni.result),qn||(vi(Ni,kn,Nn,Hn,Yn,tr,an,yn),Hn=Yn=tr=null),Di(Ni,!0,-1),bn=Ni.input.charCodeAt(Ni.position)),Ni.lineIndent>Cn&&bn!==0)yi(Ni,"bad indentation of a mapping entry");else if(Ni.lineIndent<Cn)break}return qn&&vi(Ni,kn,Nn,Hn,Yn,null),Jn&&(Ni.tag=Sn,Ni.anchor=Fn,Ni.kind="mapping",Ni.result=kn),Jn}(fi,un,hn))||function(Ni,Cn){var cn,fn,qi,an,yn,bn,Sn,Fn,kn,Nn,Hn=!0,Yn=Ni.tag,tr=Ni.anchor,qn={};if((Nn=Ni.input.charCodeAt(Ni.position))===91)qi=93,bn=!1,fn=[];else{if(Nn!==123)return!1;qi=125,bn=!0,fn={}}for(Ni.anchor!==null&&(Ni.anchorMap[Ni.anchor]=fn),Nn=Ni.input.charCodeAt(++Ni.position);Nn!==0;){if(Di(Ni,!0,Cn),(Nn=Ni.input.charCodeAt(Ni.position))===qi)return Ni.position++,Ni.tag=Yn,Ni.anchor=tr,Ni.kind=bn?"mapping":"sequence",Ni.result=fn,!0;Hn||yi(Ni,"missed comma between flow collection entries"),kn=null,an=yn=!1,Nn===63&&St(Ni.input.charCodeAt(Ni.position+1))&&(an=yn=!0,Ni.position++,Di(Ni,!0,Cn)),cn=Ni.line,ji(Ni,Cn,1,!1,!0),Fn=Ni.tag,Sn=Ni.result,Di(Ni,!0,Cn),Nn=Ni.input.charCodeAt(Ni.position),!yn&&Ni.line!==cn||Nn!==58||(an=!0,Nn=Ni.input.charCodeAt(++Ni.position),Di(Ni,!0,Cn),ji(Ni,Cn,1,!1,!0),kn=Ni.result),bn?vi(Ni,fn,qn,Fn,Sn,kn):an?fn.push(vi(Ni,null,qn,Fn,Sn,kn)):fn.push(Sn),Di(Ni,!0,Cn),(Nn=Ni.input.charCodeAt(Ni.position))===44?(Hn=!0,Nn=Ni.input.charCodeAt(++Ni.position)):Hn=!1}yi(Ni,"unexpected end of the stream within a flow collection")}(fi,hn)?vn=!0:(zi&&function(Ni,Cn){var cn,fn,qi,an,yn,bn=1,Sn=!1,Fn=!1,kn=Cn,Nn=0,Hn=!1;if((an=Ni.input.charCodeAt(Ni.position))===124)fn=!1;else{if(an!==62)return!1;fn=!0}for(Ni.kind="scalar",Ni.result="";an!==0;)if((an=Ni.input.charCodeAt(++Ni.position))===43||an===45)bn===1?bn=an===43?3:2:yi(Ni,"repeat of a chomping mode identifier");else{if(!((qi=48<=(yn=an)&&yn<=57?yn-48:-1)>=0))break;qi===0?yi(Ni,"bad explicit indentation width of a block scalar; it cannot be less than one"):Fn?yi(Ni,"repeat of an indentation width identifier"):(kn=Cn+qi-1,Fn=!0)}if(ei(an)){do an=Ni.input.charCodeAt(++Ni.position);while(ei(an));if(an===35)do an=Ni.input.charCodeAt(++Ni.position);while(!ii(an)&&an!==0)}for(;an!==0;){for(Mi(Ni),Ni.lineIndent=0,an=Ni.input.charCodeAt(Ni.position);(!Fn||Ni.lineIndent<kn)&&an===32;)Ni.lineIndent++,an=Ni.input.charCodeAt(++Ni.position);if(!Fn&&Ni.lineIndent>kn&&(kn=Ni.lineIndent),ii(an))Nn++;else{if(Ni.lineIndent<kn){bn===3?Ni.result+=je.repeat(`
`,Sn?1+Nn:Nn):bn===1&&Sn&&(Ni.result+=`
`);break}for(fn?ei(an)?(Hn=!0,Ni.result+=je.repeat(`
`,Sn?1+Nn:Nn)):Hn?(Hn=!1,Ni.result+=je.repeat(`
`,Nn+1)):Nn===0?Sn&&(Ni.result+=" "):Ni.result+=je.repeat(`
`,Nn):Ni.result+=je.repeat(`
`,Sn?1+Nn:Nn),Sn=!0,Fn=!0,Nn=0,cn=Ni.position;!ii(an)&&an!==0;)an=Ni.input.charCodeAt(++Ni.position);Ai(Ni,cn,Ni.position,!1)}}return!0}(fi,hn)||function(Ni,Cn){var cn,fn,qi;if((cn=Ni.input.charCodeAt(Ni.position))!==39)return!1;for(Ni.kind="scalar",Ni.result="",Ni.position++,fn=qi=Ni.position;(cn=Ni.input.charCodeAt(Ni.position))!==0;)if(cn===39){if(Ai(Ni,fn,Ni.position,!0),(cn=Ni.input.charCodeAt(++Ni.position))!==39)return!0;fn=Ni.position,Ni.position++,qi=Ni.position}else ii(cn)?(Ai(Ni,fn,qi,!0),Pi(Ni,Di(Ni,!1,Cn)),fn=qi=Ni.position):Ni.position===Ni.lineStart&&Bi(Ni)?yi(Ni,"unexpected end of the document within a single quoted scalar"):(Ni.position++,qi=Ni.position);yi(Ni,"unexpected end of the stream within a single quoted scalar")}(fi,hn)||function(Ni,Cn){var cn,fn,qi,an,yn,bn,Sn;if((bn=Ni.input.charCodeAt(Ni.position))!==34)return!1;for(Ni.kind="scalar",Ni.result="",Ni.position++,cn=fn=Ni.position;(bn=Ni.input.charCodeAt(Ni.position))!==0;){if(bn===34)return Ai(Ni,cn,Ni.position,!0),Ni.position++,!0;if(bn===92){if(Ai(Ni,cn,Ni.position,!0),ii(bn=Ni.input.charCodeAt(++Ni.position)))Di(Ni,!1,Cn);else if(bn<256&&hi[bn])Ni.result+=ci[bn],Ni.position++;else if((yn=(Sn=bn)===120?2:Sn===117?4:Sn===85?8:0)>0){for(qi=yn,an=0;qi>0;qi--)(yn=si(bn=Ni.input.charCodeAt(++Ni.position)))>=0?an=(an<<4)+yn:yi(Ni,"expected hexadecimal character");Ni.result+=ui(an),Ni.position++}else yi(Ni,"unknown escape sequence");cn=fn=Ni.position}else ii(bn)?(Ai(Ni,cn,fn,!0),Pi(Ni,Di(Ni,!1,Cn)),cn=fn=Ni.position):Ni.position===Ni.lineStart&&Bi(Ni)?yi(Ni,"unexpected end of the document within a double quoted scalar"):(Ni.position++,fn=Ni.position)}yi(Ni,"unexpected end of the stream within a double quoted scalar")}(fi,hn)?vn=!0:function(Ni){var Cn,cn,fn;if((fn=Ni.input.charCodeAt(Ni.position))!==42)return!1;for(fn=Ni.input.charCodeAt(++Ni.position),Cn=Ni.position;fn!==0&&!St(fn)&&!oi(fn);)fn=Ni.input.charCodeAt(++Ni.position);return Ni.position===Cn&&yi(Ni,"name of an alias node must contain at least one character"),cn=Ni.input.slice(Cn,Ni.position),Ke.call(Ni.anchorMap,cn)||yi(Ni,'unidentified alias "'+cn+'"'),Ni.result=Ni.anchorMap[cn],Di(Ni,!0,-1),!0}(fi)?(vn=!0,fi.tag===null&&fi.anchor===null||yi(fi,"alias node should not have any properties")):function(Ni,Cn,cn){var fn,qi,an,yn,bn,Sn,Fn,kn,Nn=Ni.kind,Hn=Ni.result;if(St(kn=Ni.input.charCodeAt(Ni.position))||oi(kn)||kn===35||kn===38||kn===42||kn===33||kn===124||kn===62||kn===39||kn===34||kn===37||kn===64||kn===96||(kn===63||kn===45)&&(St(fn=Ni.input.charCodeAt(Ni.position+1))||cn&&oi(fn)))return!1;for(Ni.kind="scalar",Ni.result="",qi=an=Ni.position,yn=!1;kn!==0;){if(kn===58){if(St(fn=Ni.input.charCodeAt(Ni.position+1))||cn&&oi(fn))break}else if(kn===35){if(St(Ni.input.charCodeAt(Ni.position-1)))break}else{if(Ni.position===Ni.lineStart&&Bi(Ni)||cn&&oi(kn))break;if(ii(kn)){if(bn=Ni.line,Sn=Ni.lineStart,Fn=Ni.lineIndent,Di(Ni,!1,-1),Ni.lineIndent>=Cn){yn=!0,kn=Ni.input.charCodeAt(Ni.position);continue}Ni.position=an,Ni.line=bn,Ni.lineStart=Sn,Ni.lineIndent=Fn;break}}yn&&(Ai(Ni,qi,an,!1),Pi(Ni,Ni.line-bn),qi=an=Ni.position,yn=!1),ei(kn)||(an=Ni.position+1),kn=Ni.input.charCodeAt(++Ni.position)}return Ai(Ni,qi,an,!1),!!Ni.result||(Ni.kind=Nn,Ni.result=Hn,!1)}(fi,hn,bi===1)&&(vn=!0,fi.tag===null&&(fi.tag="?")),fi.anchor!==null&&(fi.anchorMap[fi.anchor]=fi.result)):Mn===0&&(vn=Ki&&Fi(fi,un))),fi.tag!==null&&fi.tag!=="!")if(fi.tag==="?"){for(fi.result!==null&&fi.kind!=="scalar"&&yi(fi,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+fi.kind+'"'),Ui=0,Ji=fi.implicitTypes.length;Ui<Ji;Ui+=1)if((gn=fi.implicitTypes[Ui]).resolve(fi.result)){fi.result=gn.construct(fi.result),fi.tag=gn.tag,fi.anchor!==null&&(fi.anchorMap[fi.anchor]=fi.result);break}}else Ke.call(fi.typeMap[fi.kind||"fallback"],fi.tag)?(gn=fi.typeMap[fi.kind||"fallback"][fi.tag],fi.result!==null&&gn.kind!==fi.kind&&yi(fi,"unacceptable node kind for !<"+fi.tag+'> tag; it should be "'+gn.kind+'", not "'+fi.kind+'"'),gn.resolve(fi.result)?(fi.result=gn.construct(fi.result),fi.anchor!==null&&(fi.anchorMap[fi.anchor]=fi.result)):yi(fi,"cannot resolve a node with !<"+fi.tag+"> explicit tag")):yi(fi,"unknown tag !<"+fi.tag+">");return fi.listener!==null&&fi.listener("close",fi),fi.tag!==null||fi.anchor!==null||vn}function Gi(fi){var $i,bi,Ci,Ei,Si=fi.position,zi=!1;for(fi.version=null,fi.checkLineBreaks=fi.legacy,fi.tagMap={},fi.anchorMap={};(Ei=fi.input.charCodeAt(fi.position))!==0&&(Di(fi,!0,-1),Ei=fi.input.charCodeAt(fi.position),!(fi.lineIndent>0||Ei!==37));){for(zi=!0,Ei=fi.input.charCodeAt(++fi.position),$i=fi.position;Ei!==0&&!St(Ei);)Ei=fi.input.charCodeAt(++fi.position);for(Ci=[],(bi=fi.input.slice($i,fi.position)).length<1&&yi(fi,"directive name must not be less than one character in length");Ei!==0;){for(;ei(Ei);)Ei=fi.input.charCodeAt(++fi.position);if(Ei===35){do Ei=fi.input.charCodeAt(++fi.position);while(Ei!==0&&!ii(Ei));break}if(ii(Ei))break;for($i=fi.position;Ei!==0&&!St(Ei);)Ei=fi.input.charCodeAt(++fi.position);Ci.push(fi.input.slice($i,fi.position))}Ei!==0&&Mi(fi),Ke.call(_i,bi)?_i[bi](fi,bi,Ci):gi(fi,'unknown document directive "'+bi+'"')}Di(fi,!0,-1),fi.lineIndent===0&&fi.input.charCodeAt(fi.position)===45&&fi.input.charCodeAt(fi.position+1)===45&&fi.input.charCodeAt(fi.position+2)===45?(fi.position+=3,Di(fi,!0,-1)):zi&&yi(fi,"directives end mark is expected"),ji(fi,fi.lineIndent-1,4,!1,!0),Di(fi,!0,-1),fi.checkLineBreaks&&Je.test(fi.input.slice(Si,fi.position))&&gi(fi,"non-ASCII line breaks are interpreted as content"),fi.documents.push(fi.result),fi.position===fi.lineStart&&Bi(fi)?fi.input.charCodeAt(fi.position)===46&&(fi.position+=3,Di(fi,!0,-1)):fi.position<fi.length-1&&yi(fi,"end of the stream or a document separator is expected")}function Yi(fi,$i){$i=$i||{},(fi=String(fi)).length!==0&&(fi.charCodeAt(fi.length-1)!==10&&fi.charCodeAt(fi.length-1)!==13&&(fi+=`
`),fi.charCodeAt(0)===65279&&(fi=fi.slice(1)));var bi=new di(fi,$i),Ci=fi.indexOf("\0");for(Ci!==-1&&(bi.position=Ci,yi(bi,"null byte is not allowed in input")),bi.input+="\0";bi.input.charCodeAt(bi.position)===32;)bi.lineIndent+=1,bi.position+=1;for(;bi.position<bi.length-1;)Gi(bi);return bi.documents}function Xi(fi,$i,bi){$i!==null&&typeof $i=="object"&&bi===void 0&&(bi=$i,$i=null);var Ci=Yi(fi,bi);if(typeof $i!="function")return Ci;for(var Ei=0,Si=Ci.length;Ei<Si;Ei+=1)$i(Ci[Ei])}function xi(fi,$i){var bi=Yi(fi,$i);if(bi.length!==0){if(bi.length===1)return bi[0];throw new ze("expected a single document in the stream, but found more")}}t.exports.loadAll=Xi,t.exports.load=xi,t.exports.safeLoadAll=function(fi,$i,bi){return typeof $i=="object"&&$i!==null&&bi===void 0&&(bi=$i,$i=null),Xi(fi,$i,je.extend({schema:We},bi))},t.exports.safeLoad=function(fi,$i){return xi(fi,je.extend({schema:We},$i))}},function(t,r,Ve){var je=Ve(38);function ze(Xe,We,qe,Ke,Ze){this.name=Xe,this.buffer=We,this.position=qe,this.line=Ke,this.column=Ze}ze.prototype.getSnippet=function(Xe,We){var qe,Ke,Ze,Je,Qe;if(!this.buffer)return null;for(Xe=Xe||4,We=We||75,qe="",Ke=this.position;Ke>0&&`\0\r
\u2028\u2029`.indexOf(this.buffer.charAt(Ke-1))===-1;)if(Ke-=1,this.position-Ke>We/2-1){qe=" ... ",Ke+=5;break}for(Ze="",Je=this.position;Je<this.buffer.length&&`\0\r
\u2028\u2029`.indexOf(this.buffer.charAt(Je))===-1;)if((Je+=1)-this.position>We/2-1){Ze=" ... ",Je-=5;break}return Qe=this.buffer.slice(Ke,Je),je.repeat(" ",Xe)+qe+Qe+Ze+`
`+je.repeat(" ",Xe+this.position-Ke+qe.length)+"^"},ze.prototype.toString=function(Xe){var We,qe="";return this.name&&(qe+='in "'+this.name+'" '),qe+="at line "+(this.line+1)+", column "+(this.column+1),Xe||(We=this.getSnippet())&&(qe+=`:
`+We),qe},t.exports=ze},function(t,r,Ve){var je=Ve(10);t.exports=new je("tag:yaml.org,2002:str",{kind:"scalar",construct:function(ze){return ze!==null?ze:""}})},function(t,r,Ve){var je=Ve(10);t.exports=new je("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(ze){return ze!==null?ze:[]}})},function(t,r,Ve){var je=Ve(10);t.exports=new je("tag:yaml.org,2002:map",{kind:"mapping",construct:function(ze){return ze!==null?ze:{}}})},function(t,r,Ve){var je=Ve(10);t.exports=new je("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(ze){if(ze===null)return!0;var Xe=ze.length;return Xe===1&&ze==="~"||Xe===4&&(ze==="null"||ze==="Null"||ze==="NULL")},construct:function(){return null},predicate:function(ze){return ze===null},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},function(t,r,Ve){var je=Ve(10);t.exports=new je("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(ze){if(ze===null)return!1;var Xe=ze.length;return Xe===4&&(ze==="true"||ze==="True"||ze==="TRUE")||Xe===5&&(ze==="false"||ze==="False"||ze==="FALSE")},construct:function(ze){return ze==="true"||ze==="True"||ze==="TRUE"},predicate:function(ze){return Object.prototype.toString.call(ze)==="[object Boolean]"},represent:{lowercase:function(ze){return ze?"true":"false"},uppercase:function(ze){return ze?"TRUE":"FALSE"},camelcase:function(ze){return ze?"True":"False"}},defaultStyle:"lowercase"})},function(t,r,Ve){var je=Ve(38),ze=Ve(10);function Xe(qe){return 48<=qe&&qe<=55}function We(qe){return 48<=qe&&qe<=57}t.exports=new ze("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(qe){if(qe===null)return!1;var Ke,Ze,Je=qe.length,Qe=0,ti=!1;if(!Je)return!1;if((Ke=qe[Qe])!=="-"&&Ke!=="+"||(Ke=qe[++Qe]),Ke==="0"){if(Qe+1===Je)return!0;if((Ke=qe[++Qe])==="b"){for(Qe++;Qe<Je;Qe++)if((Ke=qe[Qe])!=="_"){if(Ke!=="0"&&Ke!=="1")return!1;ti=!0}return ti&&Ke!=="_"}if(Ke==="x"){for(Qe++;Qe<Je;Qe++)if((Ke=qe[Qe])!=="_"){if(!(48<=(Ze=qe.charCodeAt(Qe))&&Ze<=57||65<=Ze&&Ze<=70||97<=Ze&&Ze<=102))return!1;ti=!0}return ti&&Ke!=="_"}for(;Qe<Je;Qe++)if((Ke=qe[Qe])!=="_"){if(!Xe(qe.charCodeAt(Qe)))return!1;ti=!0}return ti&&Ke!=="_"}if(Ke==="_")return!1;for(;Qe<Je;Qe++)if((Ke=qe[Qe])!=="_"){if(Ke===":")break;if(!We(qe.charCodeAt(Qe)))return!1;ti=!0}return!(!ti||Ke==="_")&&(Ke!==":"||/^(:[0-5]?[0-9])+$/.test(qe.slice(Qe)))},construct:function(qe){var Ke,Ze,Je=qe,Qe=1,ti=[];return Je.indexOf("_")!==-1&&(Je=Je.replace(/_/g,"")),(Ke=Je[0])!=="-"&&Ke!=="+"||(Ke==="-"&&(Qe=-1),Ke=(Je=Je.slice(1))[0]),Je==="0"?0:Ke==="0"?Je[1]==="b"?Qe*parseInt(Je.slice(2),2):Je[1]==="x"?Qe*parseInt(Je,16):Qe*parseInt(Je,8):Je.indexOf(":")!==-1?(Je.split(":").forEach(function(ni){ti.unshift(parseInt(ni,10))}),Je=0,Ze=1,ti.forEach(function(ni){Je+=ni*Ze,Ze*=60}),Qe*Je):Qe*parseInt(Je,10)},predicate:function(qe){return Object.prototype.toString.call(qe)==="[object Number]"&&qe%1==0&&!je.isNegativeZero(qe)},represent:{binary:function(qe){return qe>=0?"0b"+qe.toString(2):"-0b"+qe.toString(2).slice(1)},octal:function(qe){return qe>=0?"0"+qe.toString(8):"-0"+qe.toString(8).slice(1)},decimal:function(qe){return qe.toString(10)},hexadecimal:function(qe){return qe>=0?"0x"+qe.toString(16).toUpperCase():"-0x"+qe.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},function(t,r,Ve){var je=Ve(38),ze=Ve(10),Xe=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),We=/^[-+]?[0-9]+e/;t.exports=new ze("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(qe){return qe!==null&&!(!Xe.test(qe)||qe[qe.length-1]==="_")},construct:function(qe){var Ke,Ze,Je,Qe;return Ze=(Ke=qe.replace(/_/g,"").toLowerCase())[0]==="-"?-1:1,Qe=[],"+-".indexOf(Ke[0])>=0&&(Ke=Ke.slice(1)),Ke===".inf"?Ze===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:Ke===".nan"?NaN:Ke.indexOf(":")>=0?(Ke.split(":").forEach(function(ti){Qe.unshift(parseFloat(ti,10))}),Ke=0,Je=1,Qe.forEach(function(ti){Ke+=ti*Je,Je*=60}),Ze*Ke):Ze*parseFloat(Ke,10)},predicate:function(qe){return Object.prototype.toString.call(qe)==="[object Number]"&&(qe%1!=0||je.isNegativeZero(qe))},represent:function(qe,Ke){var Ze;if(isNaN(qe))switch(Ke){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===qe)switch(Ke){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===qe)switch(Ke){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(je.isNegativeZero(qe))return"-0.0";return Ze=qe.toString(10),We.test(Ze)?Ze.replace("e",".e"):Ze},defaultStyle:"lowercase"})},function(t,r,Ve){var je=Ve(10),ze=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Xe=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");t.exports=new je("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(We){return We!==null&&(ze.exec(We)!==null||Xe.exec(We)!==null)},construct:function(We){var qe,Ke,Ze,Je,Qe,ti,ni,ri,ii=0,ei=null;if((qe=ze.exec(We))===null&&(qe=Xe.exec(We)),qe===null)throw new Error("Date resolve error");if(Ke=+qe[1],Ze=+qe[2]-1,Je=+qe[3],!qe[4])return new Date(Date.UTC(Ke,Ze,Je));if(Qe=+qe[4],ti=+qe[5],ni=+qe[6],qe[7]){for(ii=qe[7].slice(0,3);ii.length<3;)ii+="0";ii=+ii}return qe[9]&&(ei=6e4*(60*+qe[10]+ +(qe[11]||0)),qe[9]==="-"&&(ei=-ei)),ri=new Date(Date.UTC(Ke,Ze,Je,Qe,ti,ni,ii)),ei&&ri.setTime(ri.getTime()-ei),ri},instanceOf:Date,represent:function(We){return We.toISOString()}})},function(t,r,Ve){var je=Ve(10);t.exports=new je("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(ze){return ze==="<<"||ze===null}})},function(t,r,Ve){var je;try{je=Ve(145).Buffer}catch{}var ze=Ve(10),Xe=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;t.exports=new ze("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(We){if(We===null)return!1;var qe,Ke,Ze=0,Je=We.length,Qe=Xe;for(Ke=0;Ke<Je;Ke++)if(!((qe=Qe.indexOf(We.charAt(Ke)))>64)){if(qe<0)return!1;Ze+=6}return Ze%8==0},construct:function(We){var qe,Ke,Ze=We.replace(/[\r\n=]/g,""),Je=Ze.length,Qe=Xe,ti=0,ni=[];for(qe=0;qe<Je;qe++)qe%4==0&&qe&&(ni.push(ti>>16&255),ni.push(ti>>8&255),ni.push(255&ti)),ti=ti<<6|Qe.indexOf(Ze.charAt(qe));return(Ke=Je%4*6)===0?(ni.push(ti>>16&255),ni.push(ti>>8&255),ni.push(255&ti)):Ke===18?(ni.push(ti>>10&255),ni.push(ti>>2&255)):Ke===12&&ni.push(ti>>4&255),je?je.from?je.from(ni):new je(ni):ni},predicate:function(We){return je&&je.isBuffer(We)},represent:function(We){var qe,Ke,Ze="",Je=0,Qe=We.length,ti=Xe;for(qe=0;qe<Qe;qe++)qe%3==0&&qe&&(Ze+=ti[Je>>18&63],Ze+=ti[Je>>12&63],Ze+=ti[Je>>6&63],Ze+=ti[63&Je]),Je=(Je<<8)+We[qe];return(Ke=Qe%3)===0?(Ze+=ti[Je>>18&63],Ze+=ti[Je>>12&63],Ze+=ti[Je>>6&63],Ze+=ti[63&Je]):Ke===2?(Ze+=ti[Je>>10&63],Ze+=ti[Je>>4&63],Ze+=ti[Je<<2&63],Ze+=ti[64]):Ke===1&&(Ze+=ti[Je>>2&63],Ze+=ti[Je<<4&63],Ze+=ti[64],Ze+=ti[64]),Ze}})},function(t,r,Ve){var je=Ve(10),ze=Object.prototype.hasOwnProperty,Xe=Object.prototype.toString;t.exports=new je("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(We){if(We===null)return!0;var qe,Ke,Ze,Je,Qe,ti=[],ni=We;for(qe=0,Ke=ni.length;qe<Ke;qe+=1){if(Ze=ni[qe],Qe=!1,Xe.call(Ze)!=="[object Object]")return!1;for(Je in Ze)if(ze.call(Ze,Je)){if(Qe)return!1;Qe=!0}if(!Qe||ti.indexOf(Je)!==-1)return!1;ti.push(Je)}return!0},construct:function(We){return We!==null?We:[]}})},function(t,r,Ve){var je=Ve(10),ze=Object.prototype.toString;t.exports=new je("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(Xe){if(Xe===null)return!0;var We,qe,Ke,Ze,Je,Qe=Xe;for(Je=new Array(Qe.length),We=0,qe=Qe.length;We<qe;We+=1){if(Ke=Qe[We],ze.call(Ke)!=="[object Object]"||(Ze=Object.keys(Ke)).length!==1)return!1;Je[We]=[Ze[0],Ke[Ze[0]]]}return!0},construct:function(Xe){if(Xe===null)return[];var We,qe,Ke,Ze,Je,Qe=Xe;for(Je=new Array(Qe.length),We=0,qe=Qe.length;We<qe;We+=1)Ke=Qe[We],Ze=Object.keys(Ke),Je[We]=[Ze[0],Ke[Ze[0]]];return Je}})},function(t,r,Ve){var je=Ve(10),ze=Object.prototype.hasOwnProperty;t.exports=new je("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(Xe){if(Xe===null)return!0;var We,qe=Xe;for(We in qe)if(ze.call(qe,We)&&qe[We]!==null)return!1;return!0},construct:function(Xe){return Xe!==null?Xe:{}}})},function(t,r,Ve){var je=Ve(10);t.exports=new je("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:function(){return!0},construct:function(){},predicate:function(ze){return ze===void 0},represent:function(){return""}})},function(t,r,Ve){var je=Ve(10);t.exports=new je("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:function(ze){if(ze===null||ze.length===0)return!1;var Xe=ze,We=/\/([gim]*)$/.exec(ze),qe="";return!(Xe[0]==="/"&&(We&&(qe=We[1]),qe.length>3||Xe[Xe.length-qe.length-1]!=="/"))},construct:function(ze){var Xe=ze,We=/\/([gim]*)$/.exec(ze),qe="";return Xe[0]==="/"&&(We&&(qe=We[1]),Xe=Xe.slice(1,Xe.length-qe.length-1)),new RegExp(Xe,qe)},predicate:function(ze){return Object.prototype.toString.call(ze)==="[object RegExp]"},represent:function(ze){var Xe="/"+ze.source+"/";return ze.global&&(Xe+="g"),ze.multiline&&(Xe+="m"),ze.ignoreCase&&(Xe+="i"),Xe}})},function(t,r,Ve){var je;try{je=Ve(303)}catch{typeof window<"u"&&(je=window.esprima)}var ze=Ve(10);t.exports=new ze("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:function(Xe){if(Xe===null)return!1;try{var We="("+Xe+")",qe=je.parse(We,{range:!0});return qe.type==="Program"&&qe.body.length===1&&qe.body[0].type==="ExpressionStatement"&&(qe.body[0].expression.type==="ArrowFunctionExpression"||qe.body[0].expression.type==="FunctionExpression")}catch{return!1}},construct:function(Xe){var We,qe="("+Xe+")",Ke=je.parse(qe,{range:!0}),Ze=[];if(Ke.type!=="Program"||Ke.body.length!==1||Ke.body[0].type!=="ExpressionStatement"||Ke.body[0].expression.type!=="ArrowFunctionExpression"&&Ke.body[0].expression.type!=="FunctionExpression")throw new Error("Failed to resolve function");return Ke.body[0].expression.params.forEach(function(Je){Ze.push(Je.name)}),We=Ke.body[0].expression.body.range,Ke.body[0].expression.body.type==="BlockStatement"?new Function(Ze,qe.slice(We[0]+1,We[1]-1)):new Function(Ze,"return "+qe.slice(We[0],We[1]))},predicate:function(Xe){return Object.prototype.toString.call(Xe)==="[object Function]"},represent:function(Xe){return Xe.toString()}})},function(t,r,Ve){var je;je=function(){return function(ze){var Xe={};function We(qe){if(Xe[qe])return Xe[qe].exports;var Ke=Xe[qe]={exports:{},id:qe,loaded:!1};return ze[qe].call(Ke.exports,Ke,Ke.exports,We),Ke.loaded=!0,Ke.exports}return We.m=ze,We.c=Xe,We.p="",We(0)}([function(ze,Xe,We){Object.defineProperty(Xe,"__esModule",{value:!0});var qe=We(1),Ke=We(3),Ze=We(8),Je=We(15);function Qe(ni,ri,ii){var ei=null,St=function(mi,di){ii&&ii(mi,di),ei&&ei.visit(mi,di)},oi=typeof ii=="function"?St:null,si=!1;if(ri){si=typeof ri.comment=="boolean"&&ri.comment;var ai=typeof ri.attachComment=="boolean"&&ri.attachComment;(si||ai)&&((ei=new qe.CommentHandler).attach=ai,ri.comment=!0,oi=St)}var ui,hi=!1;ri&&typeof ri.sourceType=="string"&&(hi=ri.sourceType==="module"),ui=ri&&typeof ri.jsx=="boolean"&&ri.jsx?new Ke.JSXParser(ni,ri,oi):new Ze.Parser(ni,ri,oi);var ci=hi?ui.parseModule():ui.parseScript();return si&&ei&&(ci.comments=ei.comments),ui.config.tokens&&(ci.tokens=ui.tokens),ui.config.tolerant&&(ci.errors=ui.errorHandler.errors),ci}Xe.parse=Qe,Xe.parseModule=function(ni,ri,ii){var ei=ri||{};return ei.sourceType="module",Qe(ni,ei,ii)},Xe.parseScript=function(ni,ri,ii){var ei=ri||{};return ei.sourceType="script",Qe(ni,ei,ii)},Xe.tokenize=function(ni,ri,ii){var ei,St=new Je.Tokenizer(ni,ri);ei=[];try{for(;;){var oi=St.getNextToken();if(!oi)break;ii&&(oi=ii(oi)),ei.push(oi)}}catch(si){St.errorHandler.tolerate(si)}return St.errorHandler.tolerant&&(ei.errors=St.errors()),ei};var ti=We(2);Xe.Syntax=ti.Syntax,Xe.version="4.0.1"},function(ze,Xe,We){Object.defineProperty(Xe,"__esModule",{value:!0});var qe=We(2),Ke=function(){function Ze(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return Ze.prototype.insertInnerComments=function(Je,Qe){if(Je.type===qe.Syntax.BlockStatement&&Je.body.length===0){for(var ti=[],ni=this.leading.length-1;ni>=0;--ni){var ri=this.leading[ni];Qe.end.offset>=ri.start&&(ti.unshift(ri.comment),this.leading.splice(ni,1),this.trailing.splice(ni,1))}ti.length&&(Je.innerComments=ti)}},Ze.prototype.findTrailingComments=function(Je){var Qe=[];if(this.trailing.length>0){for(var ti=this.trailing.length-1;ti>=0;--ti){var ni=this.trailing[ti];ni.start>=Je.end.offset&&Qe.unshift(ni.comment)}return this.trailing.length=0,Qe}var ri=this.stack[this.stack.length-1];if(ri&&ri.node.trailingComments){var ii=ri.node.trailingComments[0];ii&&ii.range[0]>=Je.end.offset&&(Qe=ri.node.trailingComments,delete ri.node.trailingComments)}return Qe},Ze.prototype.findLeadingComments=function(Je){for(var Qe,ti=[];this.stack.length>0&&(ii=this.stack[this.stack.length-1])&&ii.start>=Je.start.offset;)Qe=ii.node,this.stack.pop();if(Qe){for(var ni=(Qe.leadingComments?Qe.leadingComments.length:0)-1;ni>=0;--ni){var ri=Qe.leadingComments[ni];ri.range[1]<=Je.start.offset&&(ti.unshift(ri),Qe.leadingComments.splice(ni,1))}return Qe.leadingComments&&Qe.leadingComments.length===0&&delete Qe.leadingComments,ti}for(ni=this.leading.length-1;ni>=0;--ni){var ii;(ii=this.leading[ni]).start<=Je.start.offset&&(ti.unshift(ii.comment),this.leading.splice(ni,1))}return ti},Ze.prototype.visitNode=function(Je,Qe){if(!(Je.type===qe.Syntax.Program&&Je.body.length>0)){this.insertInnerComments(Je,Qe);var ti=this.findTrailingComments(Qe),ni=this.findLeadingComments(Qe);ni.length>0&&(Je.leadingComments=ni),ti.length>0&&(Je.trailingComments=ti),this.stack.push({node:Je,start:Qe.start.offset})}},Ze.prototype.visitComment=function(Je,Qe){var ti=Je.type[0]==="L"?"Line":"Block",ni={type:ti,value:Je.value};if(Je.range&&(ni.range=Je.range),Je.loc&&(ni.loc=Je.loc),this.comments.push(ni),this.attach){var ri={comment:{type:ti,value:Je.value,range:[Qe.start.offset,Qe.end.offset]},start:Qe.start.offset};Je.loc&&(ri.comment.loc=Je.loc),Je.type=ti,this.leading.push(ri),this.trailing.push(ri)}},Ze.prototype.visit=function(Je,Qe){Je.type==="LineComment"||Je.type==="BlockComment"?this.visitComment(Je,Qe):this.attach&&this.visitNode(Je,Qe)},Ze}();Xe.CommentHandler=Ke},function(ze,Xe){Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(ze,Xe,We){var qe,Ke=this&&this.__extends||(qe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(oi,si){oi.__proto__=si}||function(oi,si){for(var ai in si)si.hasOwnProperty(ai)&&(oi[ai]=si[ai])},function(oi,si){function ai(){this.constructor=oi}qe(oi,si),oi.prototype=si===null?Object.create(si):(ai.prototype=si.prototype,new ai)});Object.defineProperty(Xe,"__esModule",{value:!0});var Ze=We(4),Je=We(5),Qe=We(6),ti=We(7),ni=We(8),ri=We(13),ii=We(14);function ei(oi){var si;switch(oi.type){case Qe.JSXSyntax.JSXIdentifier:si=oi.name;break;case Qe.JSXSyntax.JSXNamespacedName:var ai=oi;si=ei(ai.namespace)+":"+ei(ai.name);break;case Qe.JSXSyntax.JSXMemberExpression:var ui=oi;si=ei(ui.object)+"."+ei(ui.property)}return si}ri.TokenName[100]="JSXIdentifier",ri.TokenName[101]="JSXText";var St=function(oi){function si(ai,ui,hi){return oi.call(this,ai,ui,hi)||this}return Ke(si,oi),si.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():oi.prototype.parsePrimaryExpression.call(this)},si.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.line,this.scanner.lineStart=this.startMarker.index-this.startMarker.column},si.prototype.finishJSX=function(){this.nextToken()},si.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX("}"),this.config.tokens&&this.tokens.pop()},si.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},si.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},si.prototype.scanXHTMLEntity=function(ai){for(var ui="&",hi=!0,ci=!1,mi=!1,di=!1;!this.scanner.eof()&&hi&&!ci;){var pi=this.scanner.source[this.scanner.index];if(pi===ai)break;if(ci=pi===";",ui+=pi,++this.scanner.index,!ci)switch(ui.length){case 2:mi=pi==="#";break;case 3:mi&&(hi=(di=pi==="x")||Ze.Character.isDecimalDigit(pi.charCodeAt(0)),mi=mi&&!di);break;default:hi=(hi=hi&&!(mi&&!Ze.Character.isDecimalDigit(pi.charCodeAt(0))))&&!(di&&!Ze.Character.isHexDigit(pi.charCodeAt(0)))}}if(hi&&ci&&ui.length>2){var yi=ui.substr(1,ui.length-2);mi&&yi.length>1?ui=String.fromCharCode(parseInt(yi.substr(1),10)):di&&yi.length>2?ui=String.fromCharCode(parseInt("0"+yi.substr(1),16)):mi||di||!ii.XHTMLEntities[yi]||(ui=ii.XHTMLEntities[yi])}return ui},si.prototype.lexJSX=function(){var ai=this.scanner.source.charCodeAt(this.scanner.index);if(ai===60||ai===62||ai===47||ai===58||ai===61||ai===123||ai===125)return{type:7,value:pi=this.scanner.source[this.scanner.index++],lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index};if(ai===34||ai===39){for(var ui=this.scanner.index,hi=this.scanner.source[this.scanner.index++],ci="";!this.scanner.eof()&&(yi=this.scanner.source[this.scanner.index++])!==hi;)ci+=yi==="&"?this.scanXHTMLEntity(hi):yi;return{type:8,value:ci,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:ui,end:this.scanner.index}}if(ai===46){var mi=this.scanner.source.charCodeAt(this.scanner.index+1),di=this.scanner.source.charCodeAt(this.scanner.index+2),pi=mi===46&&di===46?"...":".";return ui=this.scanner.index,this.scanner.index+=pi.length,{type:7,value:pi,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:ui,end:this.scanner.index}}if(ai===96)return{type:10,value:"",lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(Ze.Character.isIdentifierStart(ai)&&ai!==92){for(ui=this.scanner.index,++this.scanner.index;!this.scanner.eof();){var yi=this.scanner.source.charCodeAt(this.scanner.index);if(Ze.Character.isIdentifierPart(yi)&&yi!==92)++this.scanner.index;else{if(yi!==45)break;++this.scanner.index}}return{type:100,value:this.scanner.source.slice(ui,this.scanner.index),lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:ui,end:this.scanner.index}}return this.scanner.lex()},si.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;var ai=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(ai)),ai},si.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;for(var ai=this.scanner.index,ui="";!this.scanner.eof();){var hi=this.scanner.source[this.scanner.index];if(hi==="{"||hi==="<")break;++this.scanner.index,ui+=hi,Ze.Character.isLineTerminator(hi.charCodeAt(0))&&(++this.scanner.lineNumber,hi==="\r"&&this.scanner.source[this.scanner.index]===`
`&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart;var ci={type:101,value:ui,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:ai,end:this.scanner.index};return ui.length>0&&this.config.tokens&&this.tokens.push(this.convertToken(ci)),ci},si.prototype.peekJSXToken=function(){var ai=this.scanner.saveState();this.scanner.scanComments();var ui=this.lexJSX();return this.scanner.restoreState(ai),ui},si.prototype.expectJSX=function(ai){var ui=this.nextJSXToken();ui.type===7&&ui.value===ai||this.throwUnexpectedToken(ui)},si.prototype.matchJSX=function(ai){var ui=this.peekJSXToken();return ui.type===7&&ui.value===ai},si.prototype.parseJSXIdentifier=function(){var ai=this.createJSXNode(),ui=this.nextJSXToken();return ui.type!==100&&this.throwUnexpectedToken(ui),this.finalize(ai,new Je.JSXIdentifier(ui.value))},si.prototype.parseJSXElementName=function(){var ai=this.createJSXNode(),ui=this.parseJSXIdentifier();if(this.matchJSX(":")){var hi=ui;this.expectJSX(":");var ci=this.parseJSXIdentifier();ui=this.finalize(ai,new Je.JSXNamespacedName(hi,ci))}else if(this.matchJSX("."))for(;this.matchJSX(".");){var mi=ui;this.expectJSX(".");var di=this.parseJSXIdentifier();ui=this.finalize(ai,new Je.JSXMemberExpression(mi,di))}return ui},si.prototype.parseJSXAttributeName=function(){var ai,ui=this.createJSXNode(),hi=this.parseJSXIdentifier();if(this.matchJSX(":")){var ci=hi;this.expectJSX(":");var mi=this.parseJSXIdentifier();ai=this.finalize(ui,new Je.JSXNamespacedName(ci,mi))}else ai=hi;return ai},si.prototype.parseJSXStringLiteralAttribute=function(){var ai=this.createJSXNode(),ui=this.nextJSXToken();ui.type!==8&&this.throwUnexpectedToken(ui);var hi=this.getTokenRaw(ui);return this.finalize(ai,new ti.Literal(ui.value,hi))},si.prototype.parseJSXExpressionAttribute=function(){var ai=this.createJSXNode();this.expectJSX("{"),this.finishJSX(),this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var ui=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(ai,new Je.JSXExpressionContainer(ui))},si.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},si.prototype.parseJSXNameValueAttribute=function(){var ai=this.createJSXNode(),ui=this.parseJSXAttributeName(),hi=null;return this.matchJSX("=")&&(this.expectJSX("="),hi=this.parseJSXAttributeValue()),this.finalize(ai,new Je.JSXAttribute(ui,hi))},si.prototype.parseJSXSpreadAttribute=function(){var ai=this.createJSXNode();this.expectJSX("{"),this.expectJSX("..."),this.finishJSX();var ui=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(ai,new Je.JSXSpreadAttribute(ui))},si.prototype.parseJSXAttributes=function(){for(var ai=[];!this.matchJSX("/")&&!this.matchJSX(">");){var ui=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();ai.push(ui)}return ai},si.prototype.parseJSXOpeningElement=function(){var ai=this.createJSXNode();this.expectJSX("<");var ui=this.parseJSXElementName(),hi=this.parseJSXAttributes(),ci=this.matchJSX("/");return ci&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(ai,new Je.JSXOpeningElement(ui,ci,hi))},si.prototype.parseJSXBoundaryElement=function(){var ai=this.createJSXNode();if(this.expectJSX("<"),this.matchJSX("/")){this.expectJSX("/");var ui=this.parseJSXElementName();return this.expectJSX(">"),this.finalize(ai,new Je.JSXClosingElement(ui))}var hi=this.parseJSXElementName(),ci=this.parseJSXAttributes(),mi=this.matchJSX("/");return mi&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(ai,new Je.JSXOpeningElement(hi,mi,ci))},si.prototype.parseJSXEmptyExpression=function(){var ai=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.finalize(ai,new Je.JSXEmptyExpression)},si.prototype.parseJSXExpressionContainer=function(){var ai,ui=this.createJSXNode();return this.expectJSX("{"),this.matchJSX("}")?(ai=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),ai=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(ui,new Je.JSXExpressionContainer(ai))},si.prototype.parseJSXChildren=function(){for(var ai=[];!this.scanner.eof();){var ui=this.createJSXChildNode(),hi=this.nextJSXText();if(hi.start<hi.end){var ci=this.getTokenRaw(hi),mi=this.finalize(ui,new Je.JSXText(hi.value,ci));ai.push(mi)}if(this.scanner.source[this.scanner.index]!=="{")break;var di=this.parseJSXExpressionContainer();ai.push(di)}return ai},si.prototype.parseComplexJSXElement=function(ai){for(var ui=[];!this.scanner.eof();){ai.children=ai.children.concat(this.parseJSXChildren());var hi=this.createJSXChildNode(),ci=this.parseJSXBoundaryElement();if(ci.type===Qe.JSXSyntax.JSXOpeningElement){var mi=ci;if(mi.selfClosing){var di=this.finalize(hi,new Je.JSXElement(mi,[],null));ai.children.push(di)}else ui.push(ai),ai={node:hi,opening:mi,closing:null,children:[]}}if(ci.type===Qe.JSXSyntax.JSXClosingElement){ai.closing=ci;var pi=ei(ai.opening.name);if(pi!==ei(ai.closing.name)&&this.tolerateError("Expected corresponding JSX closing tag for %0",pi),!(ui.length>0))break;di=this.finalize(ai.node,new Je.JSXElement(ai.opening,ai.children,ai.closing)),(ai=ui[ui.length-1]).children.push(di),ui.pop()}}return ai},si.prototype.parseJSXElement=function(){var ai=this.createJSXNode(),ui=this.parseJSXOpeningElement(),hi=[],ci=null;if(!ui.selfClosing){var mi=this.parseComplexJSXElement({node:ai,opening:ui,closing:ci,children:hi});hi=mi.children,ci=mi.closing}return this.finalize(ai,new Je.JSXElement(ui,hi,ci))},si.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var ai=this.parseJSXElement();return this.finishJSX(),ai},si.prototype.isStartOfExpression=function(){return oi.prototype.isStartOfExpression.call(this)||this.match("<")},si}(ni.Parser);Xe.JSXParser=St},function(ze,Xe){Object.defineProperty(Xe,"__esModule",{value:!0});var We={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};Xe.Character={fromCodePoint:function(qe){return qe<65536?String.fromCharCode(qe):String.fromCharCode(55296+(qe-65536>>10))+String.fromCharCode(56320+(qe-65536&1023))},isWhiteSpace:function(qe){return qe===32||qe===9||qe===11||qe===12||qe===160||qe>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(qe)>=0},isLineTerminator:function(qe){return qe===10||qe===13||qe===8232||qe===8233},isIdentifierStart:function(qe){return qe===36||qe===95||qe>=65&&qe<=90||qe>=97&&qe<=122||qe===92||qe>=128&&We.NonAsciiIdentifierStart.test(Xe.Character.fromCodePoint(qe))},isIdentifierPart:function(qe){return qe===36||qe===95||qe>=65&&qe<=90||qe>=97&&qe<=122||qe>=48&&qe<=57||qe===92||qe>=128&&We.NonAsciiIdentifierPart.test(Xe.Character.fromCodePoint(qe))},isDecimalDigit:function(qe){return qe>=48&&qe<=57},isHexDigit:function(qe){return qe>=48&&qe<=57||qe>=65&&qe<=70||qe>=97&&qe<=102},isOctalDigit:function(qe){return qe>=48&&qe<=55}}},function(ze,Xe,We){Object.defineProperty(Xe,"__esModule",{value:!0});var qe=We(6),Ke=function(si){this.type=qe.JSXSyntax.JSXClosingElement,this.name=si};Xe.JSXClosingElement=Ke;var Ze=function(si,ai,ui){this.type=qe.JSXSyntax.JSXElement,this.openingElement=si,this.children=ai,this.closingElement=ui};Xe.JSXElement=Ze;var Je=function(){this.type=qe.JSXSyntax.JSXEmptyExpression};Xe.JSXEmptyExpression=Je;var Qe=function(si){this.type=qe.JSXSyntax.JSXExpressionContainer,this.expression=si};Xe.JSXExpressionContainer=Qe;var ti=function(si){this.type=qe.JSXSyntax.JSXIdentifier,this.name=si};Xe.JSXIdentifier=ti;var ni=function(si,ai){this.type=qe.JSXSyntax.JSXMemberExpression,this.object=si,this.property=ai};Xe.JSXMemberExpression=ni;var ri=function(si,ai){this.type=qe.JSXSyntax.JSXAttribute,this.name=si,this.value=ai};Xe.JSXAttribute=ri;var ii=function(si,ai){this.type=qe.JSXSyntax.JSXNamespacedName,this.namespace=si,this.name=ai};Xe.JSXNamespacedName=ii;var ei=function(si,ai,ui){this.type=qe.JSXSyntax.JSXOpeningElement,this.name=si,this.selfClosing=ai,this.attributes=ui};Xe.JSXOpeningElement=ei;var St=function(si){this.type=qe.JSXSyntax.JSXSpreadAttribute,this.argument=si};Xe.JSXSpreadAttribute=St;var oi=function(si,ai){this.type=qe.JSXSyntax.JSXText,this.value=si,this.raw=ai};Xe.JSXText=oi},function(ze,Xe){Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(ze,Xe,We){Object.defineProperty(Xe,"__esModule",{value:!0});var qe=We(2),Ke=function(mn){this.type=qe.Syntax.ArrayExpression,this.elements=mn};Xe.ArrayExpression=Ke;var Ze=function(mn){this.type=qe.Syntax.ArrayPattern,this.elements=mn};Xe.ArrayPattern=Ze;var Je=function(mn,Ii,Wi){this.type=qe.Syntax.ArrowFunctionExpression,this.id=null,this.params=mn,this.body=Ii,this.generator=!1,this.expression=Wi,this.async=!1};Xe.ArrowFunctionExpression=Je;var Qe=function(mn,Ii,Wi){this.type=qe.Syntax.AssignmentExpression,this.operator=mn,this.left=Ii,this.right=Wi};Xe.AssignmentExpression=Qe;var ti=function(mn,Ii){this.type=qe.Syntax.AssignmentPattern,this.left=mn,this.right=Ii};Xe.AssignmentPattern=ti;var ni=function(mn,Ii,Wi){this.type=qe.Syntax.ArrowFunctionExpression,this.id=null,this.params=mn,this.body=Ii,this.generator=!1,this.expression=Wi,this.async=!0};Xe.AsyncArrowFunctionExpression=ni;var ri=function(mn,Ii,Wi){this.type=qe.Syntax.FunctionDeclaration,this.id=mn,this.params=Ii,this.body=Wi,this.generator=!1,this.expression=!1,this.async=!0};Xe.AsyncFunctionDeclaration=ri;var ii=function(mn,Ii,Wi){this.type=qe.Syntax.FunctionExpression,this.id=mn,this.params=Ii,this.body=Wi,this.generator=!1,this.expression=!1,this.async=!0};Xe.AsyncFunctionExpression=ii;var ei=function(mn){this.type=qe.Syntax.AwaitExpression,this.argument=mn};Xe.AwaitExpression=ei;var St=function(mn,Ii,Wi){var nn=mn==="||"||mn==="&&";this.type=nn?qe.Syntax.LogicalExpression:qe.Syntax.BinaryExpression,this.operator=mn,this.left=Ii,this.right=Wi};Xe.BinaryExpression=St;var oi=function(mn){this.type=qe.Syntax.BlockStatement,this.body=mn};Xe.BlockStatement=oi;var si=function(mn){this.type=qe.Syntax.BreakStatement,this.label=mn};Xe.BreakStatement=si;var ai=function(mn,Ii){this.type=qe.Syntax.CallExpression,this.callee=mn,this.arguments=Ii};Xe.CallExpression=ai;var ui=function(mn,Ii){this.type=qe.Syntax.CatchClause,this.param=mn,this.body=Ii};Xe.CatchClause=ui;var hi=function(mn){this.type=qe.Syntax.ClassBody,this.body=mn};Xe.ClassBody=hi;var ci=function(mn,Ii,Wi){this.type=qe.Syntax.ClassDeclaration,this.id=mn,this.superClass=Ii,this.body=Wi};Xe.ClassDeclaration=ci;var mi=function(mn,Ii,Wi){this.type=qe.Syntax.ClassExpression,this.id=mn,this.superClass=Ii,this.body=Wi};Xe.ClassExpression=mi;var di=function(mn,Ii){this.type=qe.Syntax.MemberExpression,this.computed=!0,this.object=mn,this.property=Ii};Xe.ComputedMemberExpression=di;var pi=function(mn,Ii,Wi){this.type=qe.Syntax.ConditionalExpression,this.test=mn,this.consequent=Ii,this.alternate=Wi};Xe.ConditionalExpression=pi;var yi=function(mn){this.type=qe.Syntax.ContinueStatement,this.label=mn};Xe.ContinueStatement=yi;var gi=function(){this.type=qe.Syntax.DebuggerStatement};Xe.DebuggerStatement=gi;var _i=function(mn,Ii){this.type=qe.Syntax.ExpressionStatement,this.expression=mn,this.directive=Ii};Xe.Directive=_i;var Ai=function(mn,Ii){this.type=qe.Syntax.DoWhileStatement,this.body=mn,this.test=Ii};Xe.DoWhileStatement=Ai;var ki=function(){this.type=qe.Syntax.EmptyStatement};Xe.EmptyStatement=ki;var vi=function(mn){this.type=qe.Syntax.ExportAllDeclaration,this.source=mn};Xe.ExportAllDeclaration=vi;var Mi=function(mn){this.type=qe.Syntax.ExportDefaultDeclaration,this.declaration=mn};Xe.ExportDefaultDeclaration=Mi;var Di=function(mn,Ii,Wi){this.type=qe.Syntax.ExportNamedDeclaration,this.declaration=mn,this.specifiers=Ii,this.source=Wi};Xe.ExportNamedDeclaration=Di;var Bi=function(mn,Ii){this.type=qe.Syntax.ExportSpecifier,this.exported=Ii,this.local=mn};Xe.ExportSpecifier=Bi;var Pi=function(mn){this.type=qe.Syntax.ExpressionStatement,this.expression=mn};Xe.ExpressionStatement=Pi;var Fi=function(mn,Ii,Wi){this.type=qe.Syntax.ForInStatement,this.left=mn,this.right=Ii,this.body=Wi,this.each=!1};Xe.ForInStatement=Fi;var Vi=function(mn,Ii,Wi){this.type=qe.Syntax.ForOfStatement,this.left=mn,this.right=Ii,this.body=Wi};Xe.ForOfStatement=Vi;var Ti=function(mn,Ii,Wi,nn){this.type=qe.Syntax.ForStatement,this.init=mn,this.test=Ii,this.update=Wi,this.body=nn};Xe.ForStatement=Ti;var ji=function(mn,Ii,Wi,nn){this.type=qe.Syntax.FunctionDeclaration,this.id=mn,this.params=Ii,this.body=Wi,this.generator=nn,this.expression=!1,this.async=!1};Xe.FunctionDeclaration=ji;var Gi=function(mn,Ii,Wi,nn){this.type=qe.Syntax.FunctionExpression,this.id=mn,this.params=Ii,this.body=Wi,this.generator=nn,this.expression=!1,this.async=!1};Xe.FunctionExpression=Gi;var Yi=function(mn){this.type=qe.Syntax.Identifier,this.name=mn};Xe.Identifier=Yi;var Xi=function(mn,Ii,Wi){this.type=qe.Syntax.IfStatement,this.test=mn,this.consequent=Ii,this.alternate=Wi};Xe.IfStatement=Xi;var xi=function(mn,Ii){this.type=qe.Syntax.ImportDeclaration,this.specifiers=mn,this.source=Ii};Xe.ImportDeclaration=xi;var fi=function(mn){this.type=qe.Syntax.ImportDefaultSpecifier,this.local=mn};Xe.ImportDefaultSpecifier=fi;var $i=function(mn){this.type=qe.Syntax.ImportNamespaceSpecifier,this.local=mn};Xe.ImportNamespaceSpecifier=$i;var bi=function(mn,Ii){this.type=qe.Syntax.ImportSpecifier,this.local=mn,this.imported=Ii};Xe.ImportSpecifier=bi;var Ci=function(mn,Ii){this.type=qe.Syntax.LabeledStatement,this.label=mn,this.body=Ii};Xe.LabeledStatement=Ci;var Ei=function(mn,Ii){this.type=qe.Syntax.Literal,this.value=mn,this.raw=Ii};Xe.Literal=Ei;var Si=function(mn,Ii){this.type=qe.Syntax.MetaProperty,this.meta=mn,this.property=Ii};Xe.MetaProperty=Si;var zi=function(mn,Ii,Wi,nn,xn){this.type=qe.Syntax.MethodDefinition,this.key=mn,this.computed=Ii,this.value=Wi,this.kind=nn,this.static=xn};Xe.MethodDefinition=zi;var Ki=function(mn){this.type=qe.Syntax.Program,this.body=mn,this.sourceType="module"};Xe.Module=Ki;var Ui=function(mn,Ii){this.type=qe.Syntax.NewExpression,this.callee=mn,this.arguments=Ii};Xe.NewExpression=Ui;var Ji=function(mn){this.type=qe.Syntax.ObjectExpression,this.properties=mn};Xe.ObjectExpression=Ji;var gn=function(mn){this.type=qe.Syntax.ObjectPattern,this.properties=mn};Xe.ObjectPattern=gn;var hn=function(mn,Ii,Wi,nn,xn,On){this.type=qe.Syntax.Property,this.key=Ii,this.computed=Wi,this.value=nn,this.kind=mn,this.method=xn,this.shorthand=On};Xe.Property=hn;var un=function(mn,Ii,Wi,nn){this.type=qe.Syntax.Literal,this.value=mn,this.raw=Ii,this.regex={pattern:Wi,flags:nn}};Xe.RegexLiteral=un;var Mn=function(mn){this.type=qe.Syntax.RestElement,this.argument=mn};Xe.RestElement=Mn;var sn=function(mn){this.type=qe.Syntax.ReturnStatement,this.argument=mn};Xe.ReturnStatement=sn;var vn=function(mn){this.type=qe.Syntax.Program,this.body=mn,this.sourceType="script"};Xe.Script=vn;var Ni=function(mn){this.type=qe.Syntax.SequenceExpression,this.expressions=mn};Xe.SequenceExpression=Ni;var Cn=function(mn){this.type=qe.Syntax.SpreadElement,this.argument=mn};Xe.SpreadElement=Cn;var cn=function(mn,Ii){this.type=qe.Syntax.MemberExpression,this.computed=!1,this.object=mn,this.property=Ii};Xe.StaticMemberExpression=cn;var fn=function(){this.type=qe.Syntax.Super};Xe.Super=fn;var qi=function(mn,Ii){this.type=qe.Syntax.SwitchCase,this.test=mn,this.consequent=Ii};Xe.SwitchCase=qi;var an=function(mn,Ii){this.type=qe.Syntax.SwitchStatement,this.discriminant=mn,this.cases=Ii};Xe.SwitchStatement=an;var yn=function(mn,Ii){this.type=qe.Syntax.TaggedTemplateExpression,this.tag=mn,this.quasi=Ii};Xe.TaggedTemplateExpression=yn;var bn=function(mn,Ii){this.type=qe.Syntax.TemplateElement,this.value=mn,this.tail=Ii};Xe.TemplateElement=bn;var Sn=function(mn,Ii){this.type=qe.Syntax.TemplateLiteral,this.quasis=mn,this.expressions=Ii};Xe.TemplateLiteral=Sn;var Fn=function(){this.type=qe.Syntax.ThisExpression};Xe.ThisExpression=Fn;var kn=function(mn){this.type=qe.Syntax.ThrowStatement,this.argument=mn};Xe.ThrowStatement=kn;var Nn=function(mn,Ii,Wi){this.type=qe.Syntax.TryStatement,this.block=mn,this.handler=Ii,this.finalizer=Wi};Xe.TryStatement=Nn;var Hn=function(mn,Ii){this.type=qe.Syntax.UnaryExpression,this.operator=mn,this.argument=Ii,this.prefix=!0};Xe.UnaryExpression=Hn;var Yn=function(mn,Ii,Wi){this.type=qe.Syntax.UpdateExpression,this.operator=mn,this.argument=Ii,this.prefix=Wi};Xe.UpdateExpression=Yn;var tr=function(mn,Ii){this.type=qe.Syntax.VariableDeclaration,this.declarations=mn,this.kind=Ii};Xe.VariableDeclaration=tr;var qn=function(mn,Ii){this.type=qe.Syntax.VariableDeclarator,this.id=mn,this.init=Ii};Xe.VariableDeclarator=qn;var Jn=function(mn,Ii){this.type=qe.Syntax.WhileStatement,this.test=mn,this.body=Ii};Xe.WhileStatement=Jn;var Qn=function(mn,Ii){this.type=qe.Syntax.WithStatement,this.object=mn,this.body=Ii};Xe.WithStatement=Qn;var ar=function(mn,Ii){this.type=qe.Syntax.YieldExpression,this.argument=mn,this.delegate=Ii};Xe.YieldExpression=ar},function(ze,Xe,We){Object.defineProperty(Xe,"__esModule",{value:!0});var qe=We(9),Ke=We(10),Ze=We(11),Je=We(7),Qe=We(12),ti=We(2),ni=We(13),ri=function(){function ii(ei,St,oi){St===void 0&&(St={}),this.config={range:typeof St.range=="boolean"&&St.range,loc:typeof St.loc=="boolean"&&St.loc,source:null,tokens:typeof St.tokens=="boolean"&&St.tokens,comment:typeof St.comment=="boolean"&&St.comment,tolerant:typeof St.tolerant=="boolean"&&St.tolerant},this.config.loc&&St.source&&St.source!==null&&(this.config.source=String(St.source)),this.delegate=oi,this.errorHandler=new Ke.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new Qe.Scanner(ei,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.hasLineTerminator=!1,this.context={isModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.lastMarker={index:0,line:this.scanner.lineNumber,column:0},this.nextToken(),this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}return ii.prototype.throwError=function(ei){for(var St=[],oi=1;oi<arguments.length;oi++)St[oi-1]=arguments[oi];var si=Array.prototype.slice.call(arguments,1),ai=ei.replace(/%(\d)/g,function(mi,di){return qe.assert(di<si.length,"Message reference must be in range"),si[di]}),ui=this.lastMarker.index,hi=this.lastMarker.line,ci=this.lastMarker.column+1;throw this.errorHandler.createError(ui,hi,ci,ai)},ii.prototype.tolerateError=function(ei){for(var St=[],oi=1;oi<arguments.length;oi++)St[oi-1]=arguments[oi];var si=Array.prototype.slice.call(arguments,1),ai=ei.replace(/%(\d)/g,function(mi,di){return qe.assert(di<si.length,"Message reference must be in range"),si[di]}),ui=this.lastMarker.index,hi=this.scanner.lineNumber,ci=this.lastMarker.column+1;this.errorHandler.tolerateError(ui,hi,ci,ai)},ii.prototype.unexpectedTokenError=function(ei,St){var oi,si=St||Ze.Messages.UnexpectedToken;if(ei?(St||(si=ei.type===2?Ze.Messages.UnexpectedEOS:ei.type===3?Ze.Messages.UnexpectedIdentifier:ei.type===6?Ze.Messages.UnexpectedNumber:ei.type===8?Ze.Messages.UnexpectedString:ei.type===10?Ze.Messages.UnexpectedTemplate:Ze.Messages.UnexpectedToken,ei.type===4&&(this.scanner.isFutureReservedWord(ei.value)?si=Ze.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(ei.value)&&(si=Ze.Messages.StrictReservedWord))),oi=ei.value):oi="ILLEGAL",si=si.replace("%0",oi),ei&&typeof ei.lineNumber=="number"){var ai=ei.start,ui=ei.lineNumber,hi=this.lastMarker.index-this.lastMarker.column,ci=ei.start-hi+1;return this.errorHandler.createError(ai,ui,ci,si)}return ai=this.lastMarker.index,ui=this.lastMarker.line,ci=this.lastMarker.column+1,this.errorHandler.createError(ai,ui,ci,si)},ii.prototype.throwUnexpectedToken=function(ei,St){throw this.unexpectedTokenError(ei,St)},ii.prototype.tolerateUnexpectedToken=function(ei,St){this.errorHandler.tolerate(this.unexpectedTokenError(ei,St))},ii.prototype.collectComments=function(){if(this.config.comment){var ei=this.scanner.scanComments();if(ei.length>0&&this.delegate)for(var St=0;St<ei.length;++St){var oi=ei[St],si=void 0;si={type:oi.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(oi.slice[0],oi.slice[1])},this.config.range&&(si.range=oi.range),this.config.loc&&(si.loc=oi.loc);var ai={start:{line:oi.loc.start.line,column:oi.loc.start.column,offset:oi.range[0]},end:{line:oi.loc.end.line,column:oi.loc.end.column,offset:oi.range[1]}};this.delegate(si,ai)}}else this.scanner.scanComments()},ii.prototype.getTokenRaw=function(ei){return this.scanner.source.slice(ei.start,ei.end)},ii.prototype.convertToken=function(ei){var St={type:ni.TokenName[ei.type],value:this.getTokenRaw(ei)};if(this.config.range&&(St.range=[ei.start,ei.end]),this.config.loc&&(St.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),ei.type===9){var oi=ei.pattern,si=ei.flags;St.regex={pattern:oi,flags:si}}return St},ii.prototype.nextToken=function(){var ei=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.collectComments(),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var St=this.scanner.lex();return this.hasLineTerminator=ei.lineNumber!==St.lineNumber,St&&this.context.strict&&St.type===3&&this.scanner.isStrictModeReservedWord(St.value)&&(St.type=4),this.lookahead=St,this.config.tokens&&St.type!==2&&this.tokens.push(this.convertToken(St)),ei},ii.prototype.nextRegexToken=function(){this.collectComments();var ei=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(ei))),this.lookahead=ei,this.nextToken(),ei},ii.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}},ii.prototype.startNode=function(ei,St){St===void 0&&(St=0);var oi=ei.start-ei.lineStart,si=ei.lineNumber;return oi<0&&(oi+=St,si--),{index:ei.start,line:si,column:oi}},ii.prototype.finalize=function(ei,St){if(this.config.range&&(St.range=[ei.index,this.lastMarker.index]),this.config.loc&&(St.loc={start:{line:ei.line,column:ei.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(St.loc.source=this.config.source)),this.delegate){var oi={start:{line:ei.line,column:ei.column,offset:ei.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}};this.delegate(St,oi)}return St},ii.prototype.expect=function(ei){var St=this.nextToken();St.type===7&&St.value===ei||this.throwUnexpectedToken(St)},ii.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var ei=this.lookahead;ei.type===7&&ei.value===","?this.nextToken():ei.type===7&&ei.value===";"?(this.nextToken(),this.tolerateUnexpectedToken(ei)):this.tolerateUnexpectedToken(ei,Ze.Messages.UnexpectedToken)}else this.expect(",")},ii.prototype.expectKeyword=function(ei){var St=this.nextToken();St.type===4&&St.value===ei||this.throwUnexpectedToken(St)},ii.prototype.match=function(ei){return this.lookahead.type===7&&this.lookahead.value===ei},ii.prototype.matchKeyword=function(ei){return this.lookahead.type===4&&this.lookahead.value===ei},ii.prototype.matchContextualKeyword=function(ei){return this.lookahead.type===3&&this.lookahead.value===ei},ii.prototype.matchAssign=function(){if(this.lookahead.type!==7)return!1;var ei=this.lookahead.value;return ei==="="||ei==="*="||ei==="**="||ei==="/="||ei==="%="||ei==="+="||ei==="-="||ei==="<<="||ei===">>="||ei===">>>="||ei==="&="||ei==="^="||ei==="|="},ii.prototype.isolateCoverGrammar=function(ei){var St=this.context.isBindingElement,oi=this.context.isAssignmentTarget,si=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var ai=ei.call(this);return this.context.firstCoverInitializedNameError!==null&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=St,this.context.isAssignmentTarget=oi,this.context.firstCoverInitializedNameError=si,ai},ii.prototype.inheritCoverGrammar=function(ei){var St=this.context.isBindingElement,oi=this.context.isAssignmentTarget,si=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var ai=ei.call(this);return this.context.isBindingElement=this.context.isBindingElement&&St,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&oi,this.context.firstCoverInitializedNameError=si||this.context.firstCoverInitializedNameError,ai},ii.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(this.lookahead.type===2||this.match("}")||this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)},ii.prototype.parsePrimaryExpression=function(){var ei,St,oi,si=this.createNode();switch(this.lookahead.type){case 3:(this.context.isModule||this.context.await)&&this.lookahead.value==="await"&&this.tolerateUnexpectedToken(this.lookahead),ei=this.matchAsyncFunction()?this.parseFunctionExpression():this.finalize(si,new Je.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,Ze.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,St=this.nextToken(),oi=this.getTokenRaw(St),ei=this.finalize(si,new Je.Literal(St.value,oi));break;case 1:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,St=this.nextToken(),oi=this.getTokenRaw(St),ei=this.finalize(si,new Je.Literal(St.value==="true",oi));break;case 5:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,St=this.nextToken(),oi=this.getTokenRaw(St),ei=this.finalize(si,new Je.Literal(null,oi));break;case 10:ei=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case"(":this.context.isBindingElement=!1,ei=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":ei=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":ei=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,St=this.nextRegexToken(),oi=this.getTokenRaw(St),ei=this.finalize(si,new Je.RegexLiteral(St.regex,oi,St.pattern,St.flags));break;default:ei=this.throwUnexpectedToken(this.nextToken())}break;case 4:!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")?ei=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?ei=this.finalize(si,new Je.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?ei=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),ei=this.finalize(si,new Je.ThisExpression)):ei=this.matchKeyword("class")?this.parseClassExpression():this.throwUnexpectedToken(this.nextToken()));break;default:ei=this.throwUnexpectedToken(this.nextToken())}return ei},ii.prototype.parseSpreadElement=function(){var ei=this.createNode();this.expect("...");var St=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(ei,new Je.SpreadElement(St))},ii.prototype.parseArrayInitializer=function(){var ei=this.createNode(),St=[];for(this.expect("[");!this.match("]");)if(this.match(","))this.nextToken(),St.push(null);else if(this.match("...")){var oi=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(",")),St.push(oi)}else St.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");return this.expect("]"),this.finalize(ei,new Je.ArrayExpression(St))},ii.prototype.parsePropertyMethod=function(ei){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var St=this.context.strict,oi=this.context.allowStrictDirective;this.context.allowStrictDirective=ei.simple;var si=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&ei.firstRestricted&&this.tolerateUnexpectedToken(ei.firstRestricted,ei.message),this.context.strict&&ei.stricted&&this.tolerateUnexpectedToken(ei.stricted,ei.message),this.context.strict=St,this.context.allowStrictDirective=oi,si},ii.prototype.parsePropertyMethodFunction=function(){var ei=this.createNode(),St=this.context.allowYield;this.context.allowYield=!0;var oi=this.parseFormalParameters(),si=this.parsePropertyMethod(oi);return this.context.allowYield=St,this.finalize(ei,new Je.FunctionExpression(null,oi.params,si,!1))},ii.prototype.parsePropertyMethodAsyncFunction=function(){var ei=this.createNode(),St=this.context.allowYield,oi=this.context.await;this.context.allowYield=!1,this.context.await=!0;var si=this.parseFormalParameters(),ai=this.parsePropertyMethod(si);return this.context.allowYield=St,this.context.await=oi,this.finalize(ei,new Je.AsyncFunctionExpression(null,si.params,ai))},ii.prototype.parseObjectPropertyKey=function(){var ei,St=this.createNode(),oi=this.nextToken();switch(oi.type){case 8:case 6:this.context.strict&&oi.octal&&this.tolerateUnexpectedToken(oi,Ze.Messages.StrictOctalLiteral);var si=this.getTokenRaw(oi);ei=this.finalize(St,new Je.Literal(oi.value,si));break;case 3:case 1:case 5:case 4:ei=this.finalize(St,new Je.Identifier(oi.value));break;case 7:oi.value==="["?(ei=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):ei=this.throwUnexpectedToken(oi);break;default:ei=this.throwUnexpectedToken(oi)}return ei},ii.prototype.isPropertyKey=function(ei,St){return ei.type===ti.Syntax.Identifier&&ei.name===St||ei.type===ti.Syntax.Literal&&ei.value===St},ii.prototype.parseObjectProperty=function(ei){var St,oi=this.createNode(),si=this.lookahead,ai=null,ui=null,hi=!1,ci=!1,mi=!1,di=!1;if(si.type===3){var pi=si.value;this.nextToken(),hi=this.match("["),ai=(di=!(this.hasLineTerminator||pi!=="async"||this.match(":")||this.match("(")||this.match("*")||this.match(",")))?this.parseObjectPropertyKey():this.finalize(oi,new Je.Identifier(pi))}else this.match("*")?this.nextToken():(hi=this.match("["),ai=this.parseObjectPropertyKey());var yi=this.qualifiedPropertyName(this.lookahead);if(si.type===3&&!di&&si.value==="get"&&yi)St="get",hi=this.match("["),ai=this.parseObjectPropertyKey(),this.context.allowYield=!1,ui=this.parseGetterMethod();else if(si.type===3&&!di&&si.value==="set"&&yi)St="set",hi=this.match("["),ai=this.parseObjectPropertyKey(),ui=this.parseSetterMethod();else if(si.type===7&&si.value==="*"&&yi)St="init",hi=this.match("["),ai=this.parseObjectPropertyKey(),ui=this.parseGeneratorMethod(),ci=!0;else if(ai||this.throwUnexpectedToken(this.lookahead),St="init",this.match(":")&&!di)!hi&&this.isPropertyKey(ai,"__proto__")&&(ei.value&&this.tolerateError(Ze.Messages.DuplicateProtoProperty),ei.value=!0),this.nextToken(),ui=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match("("))ui=di?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),ci=!0;else if(si.type===3)if(pi=this.finalize(oi,new Je.Identifier(si.value)),this.match("=")){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),mi=!0;var gi=this.isolateCoverGrammar(this.parseAssignmentExpression);ui=this.finalize(oi,new Je.AssignmentPattern(pi,gi))}else mi=!0,ui=pi;else this.throwUnexpectedToken(this.nextToken());return this.finalize(oi,new Je.Property(St,ai,hi,ui,ci,mi))},ii.prototype.parseObjectInitializer=function(){var ei=this.createNode();this.expect("{");for(var St=[],oi={value:!1};!this.match("}");)St.push(this.parseObjectProperty(oi)),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(ei,new Je.ObjectExpression(St))},ii.prototype.parseTemplateHead=function(){qe.assert(this.lookahead.head,"Template literal must start with a template head");var ei=this.createNode(),St=this.nextToken(),oi=St.value,si=St.cooked;return this.finalize(ei,new Je.TemplateElement({raw:oi,cooked:si},St.tail))},ii.prototype.parseTemplateElement=function(){this.lookahead.type!==10&&this.throwUnexpectedToken();var ei=this.createNode(),St=this.nextToken(),oi=St.value,si=St.cooked;return this.finalize(ei,new Je.TemplateElement({raw:oi,cooked:si},St.tail))},ii.prototype.parseTemplateLiteral=function(){var ei=this.createNode(),St=[],oi=[],si=this.parseTemplateHead();for(oi.push(si);!si.tail;)St.push(this.parseExpression()),si=this.parseTemplateElement(),oi.push(si);return this.finalize(ei,new Je.TemplateLiteral(oi,St))},ii.prototype.reinterpretExpressionAsPattern=function(ei){switch(ei.type){case ti.Syntax.Identifier:case ti.Syntax.MemberExpression:case ti.Syntax.RestElement:case ti.Syntax.AssignmentPattern:break;case ti.Syntax.SpreadElement:ei.type=ti.Syntax.RestElement,this.reinterpretExpressionAsPattern(ei.argument);break;case ti.Syntax.ArrayExpression:ei.type=ti.Syntax.ArrayPattern;for(var St=0;St<ei.elements.length;St++)ei.elements[St]!==null&&this.reinterpretExpressionAsPattern(ei.elements[St]);break;case ti.Syntax.ObjectExpression:for(ei.type=ti.Syntax.ObjectPattern,St=0;St<ei.properties.length;St++)this.reinterpretExpressionAsPattern(ei.properties[St].value);break;case ti.Syntax.AssignmentExpression:ei.type=ti.Syntax.AssignmentPattern,delete ei.operator,this.reinterpretExpressionAsPattern(ei.left)}},ii.prototype.parseGroupExpression=function(){var ei;if(this.expect("("),this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),ei={type:"ArrowParameterPlaceHolder",params:[],async:!1};else{var St=this.lookahead,oi=[];if(this.match("..."))ei=this.parseRestElement(oi),this.expect(")"),this.match("=>")||this.expect("=>"),ei={type:"ArrowParameterPlaceHolder",params:[ei],async:!1};else{var si=!1;if(this.context.isBindingElement=!0,ei=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(",")){var ai=[];for(this.context.isAssignmentTarget=!1,ai.push(ei);this.lookahead.type!==2&&this.match(",");){if(this.nextToken(),this.match(")")){this.nextToken();for(var ui=0;ui<ai.length;ui++)this.reinterpretExpressionAsPattern(ai[ui]);si=!0,ei={type:"ArrowParameterPlaceHolder",params:ai,async:!1}}else if(this.match("...")){for(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),ai.push(this.parseRestElement(oi)),this.expect(")"),this.match("=>")||this.expect("=>"),this.context.isBindingElement=!1,ui=0;ui<ai.length;ui++)this.reinterpretExpressionAsPattern(ai[ui]);si=!0,ei={type:"ArrowParameterPlaceHolder",params:ai,async:!1}}else ai.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(si)break}si||(ei=this.finalize(this.startNode(St),new Je.SequenceExpression(ai)))}if(!si){if(this.expect(")"),this.match("=>")&&(ei.type===ti.Syntax.Identifier&&ei.name==="yield"&&(si=!0,ei={type:"ArrowParameterPlaceHolder",params:[ei],async:!1}),!si)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),ei.type===ti.Syntax.SequenceExpression)for(ui=0;ui<ei.expressions.length;ui++)this.reinterpretExpressionAsPattern(ei.expressions[ui]);else this.reinterpretExpressionAsPattern(ei);ei={type:"ArrowParameterPlaceHolder",params:ei.type===ti.Syntax.SequenceExpression?ei.expressions:[ei],async:!1}}this.context.isBindingElement=!1}}}return ei},ii.prototype.parseArguments=function(){this.expect("(");var ei=[];if(!this.match(")"))for(;;){var St=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(ei.push(St),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),ei},ii.prototype.isIdentifierName=function(ei){return ei.type===3||ei.type===4||ei.type===1||ei.type===5},ii.prototype.parseIdentifierName=function(){var ei=this.createNode(),St=this.nextToken();return this.isIdentifierName(St)||this.throwUnexpectedToken(St),this.finalize(ei,new Je.Identifier(St.value))},ii.prototype.parseNewExpression=function(){var ei,St=this.createNode(),oi=this.parseIdentifierName();if(qe.assert(oi.name==="new","New expression must start with `new`"),this.match("."))if(this.nextToken(),this.lookahead.type===3&&this.context.inFunctionBody&&this.lookahead.value==="target"){var si=this.parseIdentifierName();ei=new Je.MetaProperty(oi,si)}else this.throwUnexpectedToken(this.lookahead);else{var ai=this.isolateCoverGrammar(this.parseLeftHandSideExpression),ui=this.match("(")?this.parseArguments():[];ei=new Je.NewExpression(ai,ui),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(St,ei)},ii.prototype.parseAsyncArgument=function(){var ei=this.parseAssignmentExpression();return this.context.firstCoverInitializedNameError=null,ei},ii.prototype.parseAsyncArguments=function(){this.expect("(");var ei=[];if(!this.match(")"))for(;;){var St=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAsyncArgument);if(ei.push(St),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),ei},ii.prototype.parseLeftHandSideExpressionAllowCall=function(){var ei,St=this.lookahead,oi=this.matchContextualKeyword("async"),si=this.context.allowIn;for(this.context.allowIn=!0,this.matchKeyword("super")&&this.context.inFunctionBody?(ei=this.createNode(),this.nextToken(),ei=this.finalize(ei,new Je.Super),this.match("(")||this.match(".")||this.match("[")||this.throwUnexpectedToken(this.lookahead)):ei=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var ai=this.parseIdentifierName();ei=this.finalize(this.startNode(St),new Je.StaticMemberExpression(ei,ai))}else if(this.match("(")){var ui=oi&&St.lineNumber===this.lookahead.lineNumber;this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var hi=ui?this.parseAsyncArguments():this.parseArguments();if(ei=this.finalize(this.startNode(St),new Je.CallExpression(ei,hi)),ui&&this.match("=>")){for(var ci=0;ci<hi.length;++ci)this.reinterpretExpressionAsPattern(hi[ci]);ei={type:"ArrowParameterPlaceHolder",params:hi,async:!0}}}else if(this.match("["))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("["),ai=this.isolateCoverGrammar(this.parseExpression),this.expect("]"),ei=this.finalize(this.startNode(St),new Je.ComputedMemberExpression(ei,ai));else{if(this.lookahead.type!==10||!this.lookahead.head)break;var mi=this.parseTemplateLiteral();ei=this.finalize(this.startNode(St),new Je.TaggedTemplateExpression(ei,mi))}return this.context.allowIn=si,ei},ii.prototype.parseSuper=function(){var ei=this.createNode();return this.expectKeyword("super"),this.match("[")||this.match(".")||this.throwUnexpectedToken(this.lookahead),this.finalize(ei,new Je.Super)},ii.prototype.parseLeftHandSideExpression=function(){qe.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var ei=this.startNode(this.lookahead),St=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var oi=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),St=this.finalize(ei,new Je.ComputedMemberExpression(St,oi))}else if(this.match("."))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("."),oi=this.parseIdentifierName(),St=this.finalize(ei,new Je.StaticMemberExpression(St,oi));else{if(this.lookahead.type!==10||!this.lookahead.head)break;var si=this.parseTemplateLiteral();St=this.finalize(ei,new Je.TaggedTemplateExpression(St,si))}return St},ii.prototype.parseUpdateExpression=function(){var ei,St=this.lookahead;if(this.match("++")||this.match("--")){var oi=this.startNode(St),si=this.nextToken();ei=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&ei.type===ti.Syntax.Identifier&&this.scanner.isRestrictedWord(ei.name)&&this.tolerateError(Ze.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(Ze.Messages.InvalidLHSInAssignment);var ai=!0;ei=this.finalize(oi,new Je.UpdateExpression(si.value,ei,ai)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(ei=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&this.lookahead.type===7&&(this.match("++")||this.match("--"))){this.context.strict&&ei.type===ti.Syntax.Identifier&&this.scanner.isRestrictedWord(ei.name)&&this.tolerateError(Ze.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(Ze.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var ui=this.nextToken().value;ai=!1,ei=this.finalize(this.startNode(St),new Je.UpdateExpression(ui,ei,ai))}return ei},ii.prototype.parseAwaitExpression=function(){var ei=this.createNode();this.nextToken();var St=this.parseUnaryExpression();return this.finalize(ei,new Je.AwaitExpression(St))},ii.prototype.parseUnaryExpression=function(){var ei;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var St=this.startNode(this.lookahead),oi=this.nextToken();ei=this.inheritCoverGrammar(this.parseUnaryExpression),ei=this.finalize(St,new Je.UnaryExpression(oi.value,ei)),this.context.strict&&ei.operator==="delete"&&ei.argument.type===ti.Syntax.Identifier&&this.tolerateError(Ze.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else ei=this.context.await&&this.matchContextualKeyword("await")?this.parseAwaitExpression():this.parseUpdateExpression();return ei},ii.prototype.parseExponentiationExpression=function(){var ei=this.lookahead,St=this.inheritCoverGrammar(this.parseUnaryExpression);if(St.type!==ti.Syntax.UnaryExpression&&this.match("**")){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var oi=St,si=this.isolateCoverGrammar(this.parseExponentiationExpression);St=this.finalize(this.startNode(ei),new Je.BinaryExpression("**",oi,si))}return St},ii.prototype.binaryPrecedence=function(ei){var St=ei.value;return ei.type===7?this.operatorPrecedence[St]||0:ei.type===4&&(St==="instanceof"||this.context.allowIn&&St==="in")?7:0},ii.prototype.parseBinaryExpression=function(){var ei=this.lookahead,St=this.inheritCoverGrammar(this.parseExponentiationExpression),oi=this.lookahead,si=this.binaryPrecedence(oi);if(si>0){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var ai=[ei,this.lookahead],ui=St,hi=this.isolateCoverGrammar(this.parseExponentiationExpression),ci=[ui,oi.value,hi],mi=[si];!((si=this.binaryPrecedence(this.lookahead))<=0);){for(;ci.length>2&&si<=mi[mi.length-1];){hi=ci.pop();var di=ci.pop();mi.pop(),ui=ci.pop(),ai.pop();var pi=this.startNode(ai[ai.length-1]);ci.push(this.finalize(pi,new Je.BinaryExpression(di,ui,hi)))}ci.push(this.nextToken().value),mi.push(si),ai.push(this.lookahead),ci.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var yi=ci.length-1;St=ci[yi];for(var gi=ai.pop();yi>1;){var _i=ai.pop(),Ai=gi&&gi.lineStart;pi=this.startNode(_i,Ai),di=ci[yi-1],St=this.finalize(pi,new Je.BinaryExpression(di,ci[yi-2],St)),yi-=2,gi=_i}}return St},ii.prototype.parseConditionalExpression=function(){var ei=this.lookahead,St=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var oi=this.context.allowIn;this.context.allowIn=!0;var si=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=oi,this.expect(":");var ai=this.isolateCoverGrammar(this.parseAssignmentExpression);St=this.finalize(this.startNode(ei),new Je.ConditionalExpression(St,si,ai)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return St},ii.prototype.checkPatternParam=function(ei,St){switch(St.type){case ti.Syntax.Identifier:this.validateParam(ei,St,St.name);break;case ti.Syntax.RestElement:this.checkPatternParam(ei,St.argument);break;case ti.Syntax.AssignmentPattern:this.checkPatternParam(ei,St.left);break;case ti.Syntax.ArrayPattern:for(var oi=0;oi<St.elements.length;oi++)St.elements[oi]!==null&&this.checkPatternParam(ei,St.elements[oi]);break;case ti.Syntax.ObjectPattern:for(oi=0;oi<St.properties.length;oi++)this.checkPatternParam(ei,St.properties[oi].value)}ei.simple=ei.simple&&St instanceof Je.Identifier},ii.prototype.reinterpretAsCoverFormalsList=function(ei){var St,oi=[ei],si=!1;switch(ei.type){case ti.Syntax.Identifier:break;case"ArrowParameterPlaceHolder":oi=ei.params,si=ei.async;break;default:return null}St={simple:!0,paramSet:{}};for(var ai=0;ai<oi.length;++ai)(ui=oi[ai]).type===ti.Syntax.AssignmentPattern?ui.right.type===ti.Syntax.YieldExpression&&(ui.right.argument&&this.throwUnexpectedToken(this.lookahead),ui.right.type=ti.Syntax.Identifier,ui.right.name="yield",delete ui.right.argument,delete ui.right.delegate):si&&ui.type===ti.Syntax.Identifier&&ui.name==="await"&&this.throwUnexpectedToken(this.lookahead),this.checkPatternParam(St,ui),oi[ai]=ui;if(this.context.strict||!this.context.allowYield)for(ai=0;ai<oi.length;++ai){var ui;(ui=oi[ai]).type===ti.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}if(St.message===Ze.Messages.StrictParamDupe){var hi=this.context.strict?St.stricted:St.firstRestricted;this.throwUnexpectedToken(hi,St.message)}return{simple:St.simple,params:oi,stricted:St.stricted,firstRestricted:St.firstRestricted,message:St.message}},ii.prototype.parseAssignmentExpression=function(){var ei;if(!this.context.allowYield&&this.matchKeyword("yield"))ei=this.parseYieldExpression();else{var St=this.lookahead,oi=St;if(ei=this.parseConditionalExpression(),oi.type===3&&oi.lineNumber===this.lookahead.lineNumber&&oi.value==="async"&&(this.lookahead.type===3||this.matchKeyword("yield"))){var si=this.parsePrimaryExpression();this.reinterpretExpressionAsPattern(si),ei={type:"ArrowParameterPlaceHolder",params:[si],async:!0}}if(ei.type==="ArrowParameterPlaceHolder"||this.match("=>")){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var ai=ei.async,ui=this.reinterpretAsCoverFormalsList(ei);if(ui){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var hi=this.context.strict,ci=this.context.allowStrictDirective;this.context.allowStrictDirective=ui.simple;var mi=this.context.allowYield,di=this.context.await;this.context.allowYield=!0,this.context.await=ai;var pi=this.startNode(St);this.expect("=>");var yi=void 0;if(this.match("{")){var gi=this.context.allowIn;this.context.allowIn=!0,yi=this.parseFunctionSourceElements(),this.context.allowIn=gi}else yi=this.isolateCoverGrammar(this.parseAssignmentExpression);var _i=yi.type!==ti.Syntax.BlockStatement;this.context.strict&&ui.firstRestricted&&this.throwUnexpectedToken(ui.firstRestricted,ui.message),this.context.strict&&ui.stricted&&this.tolerateUnexpectedToken(ui.stricted,ui.message),ei=ai?this.finalize(pi,new Je.AsyncArrowFunctionExpression(ui.params,yi,_i)):this.finalize(pi,new Je.ArrowFunctionExpression(ui.params,yi,_i)),this.context.strict=hi,this.context.allowStrictDirective=ci,this.context.allowYield=mi,this.context.await=di}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(Ze.Messages.InvalidLHSInAssignment),this.context.strict&&ei.type===ti.Syntax.Identifier){var Ai=ei;this.scanner.isRestrictedWord(Ai.name)&&this.tolerateUnexpectedToken(oi,Ze.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(Ai.name)&&this.tolerateUnexpectedToken(oi,Ze.Messages.StrictReservedWord)}this.match("=")?this.reinterpretExpressionAsPattern(ei):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1);var ki=(oi=this.nextToken()).value,vi=this.isolateCoverGrammar(this.parseAssignmentExpression);ei=this.finalize(this.startNode(St),new Je.AssignmentExpression(ki,ei,vi)),this.context.firstCoverInitializedNameError=null}}return ei},ii.prototype.parseExpression=function(){var ei=this.lookahead,St=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var oi=[];for(oi.push(St);this.lookahead.type!==2&&this.match(",");)this.nextToken(),oi.push(this.isolateCoverGrammar(this.parseAssignmentExpression));St=this.finalize(this.startNode(ei),new Je.SequenceExpression(oi))}return St},ii.prototype.parseStatementListItem=function(){var ei;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,this.lookahead.type===4)switch(this.lookahead.value){case"export":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,Ze.Messages.IllegalExportDeclaration),ei=this.parseExportDeclaration();break;case"import":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,Ze.Messages.IllegalImportDeclaration),ei=this.parseImportDeclaration();break;case"const":ei=this.parseLexicalDeclaration({inFor:!1});break;case"function":ei=this.parseFunctionDeclaration();break;case"class":ei=this.parseClassDeclaration();break;case"let":ei=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:ei=this.parseStatement()}else ei=this.parseStatement();return ei},ii.prototype.parseBlock=function(){var ei=this.createNode();this.expect("{");for(var St=[];!this.match("}");)St.push(this.parseStatementListItem());return this.expect("}"),this.finalize(ei,new Je.BlockStatement(St))},ii.prototype.parseLexicalBinding=function(ei,St){var oi=this.createNode(),si=this.parsePattern([],ei);this.context.strict&&si.type===ti.Syntax.Identifier&&this.scanner.isRestrictedWord(si.name)&&this.tolerateError(Ze.Messages.StrictVarName);var ai=null;return ei==="const"?this.matchKeyword("in")||this.matchContextualKeyword("of")||(this.match("=")?(this.nextToken(),ai=this.isolateCoverGrammar(this.parseAssignmentExpression)):this.throwError(Ze.Messages.DeclarationMissingInitializer,"const")):(!St.inFor&&si.type!==ti.Syntax.Identifier||this.match("="))&&(this.expect("="),ai=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(oi,new Je.VariableDeclarator(si,ai))},ii.prototype.parseBindingList=function(ei,St){for(var oi=[this.parseLexicalBinding(ei,St)];this.match(",");)this.nextToken(),oi.push(this.parseLexicalBinding(ei,St));return oi},ii.prototype.isLexicalDeclaration=function(){var ei=this.scanner.saveState();this.scanner.scanComments();var St=this.scanner.lex();return this.scanner.restoreState(ei),St.type===3||St.type===7&&St.value==="["||St.type===7&&St.value==="{"||St.type===4&&St.value==="let"||St.type===4&&St.value==="yield"},ii.prototype.parseLexicalDeclaration=function(ei){var St=this.createNode(),oi=this.nextToken().value;qe.assert(oi==="let"||oi==="const","Lexical declaration must be either let or const");var si=this.parseBindingList(oi,ei);return this.consumeSemicolon(),this.finalize(St,new Je.VariableDeclaration(si,oi))},ii.prototype.parseBindingRestElement=function(ei,St){var oi=this.createNode();this.expect("...");var si=this.parsePattern(ei,St);return this.finalize(oi,new Je.RestElement(si))},ii.prototype.parseArrayPattern=function(ei,St){var oi=this.createNode();this.expect("[");for(var si=[];!this.match("]");)if(this.match(","))this.nextToken(),si.push(null);else{if(this.match("...")){si.push(this.parseBindingRestElement(ei,St));break}si.push(this.parsePatternWithDefault(ei,St)),this.match("]")||this.expect(",")}return this.expect("]"),this.finalize(oi,new Je.ArrayPattern(si))},ii.prototype.parsePropertyPattern=function(ei,St){var oi,si,ai=this.createNode(),ui=!1,hi=!1;if(this.lookahead.type===3){var ci=this.lookahead;oi=this.parseVariableIdentifier();var mi=this.finalize(ai,new Je.Identifier(ci.value));if(this.match("=")){ei.push(ci),hi=!0,this.nextToken();var di=this.parseAssignmentExpression();si=this.finalize(this.startNode(ci),new Je.AssignmentPattern(mi,di))}else this.match(":")?(this.expect(":"),si=this.parsePatternWithDefault(ei,St)):(ei.push(ci),hi=!0,si=mi)}else ui=this.match("["),oi=this.parseObjectPropertyKey(),this.expect(":"),si=this.parsePatternWithDefault(ei,St);return this.finalize(ai,new Je.Property("init",oi,ui,si,!1,hi))},ii.prototype.parseObjectPattern=function(ei,St){var oi=this.createNode(),si=[];for(this.expect("{");!this.match("}");)si.push(this.parsePropertyPattern(ei,St)),this.match("}")||this.expect(",");return this.expect("}"),this.finalize(oi,new Je.ObjectPattern(si))},ii.prototype.parsePattern=function(ei,St){var oi;return this.match("[")?oi=this.parseArrayPattern(ei,St):this.match("{")?oi=this.parseObjectPattern(ei,St):(!this.matchKeyword("let")||St!=="const"&&St!=="let"||this.tolerateUnexpectedToken(this.lookahead,Ze.Messages.LetInLexicalBinding),ei.push(this.lookahead),oi=this.parseVariableIdentifier(St)),oi},ii.prototype.parsePatternWithDefault=function(ei,St){var oi=this.lookahead,si=this.parsePattern(ei,St);if(this.match("=")){this.nextToken();var ai=this.context.allowYield;this.context.allowYield=!0;var ui=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=ai,si=this.finalize(this.startNode(oi),new Je.AssignmentPattern(si,ui))}return si},ii.prototype.parseVariableIdentifier=function(ei){var St=this.createNode(),oi=this.nextToken();return oi.type===4&&oi.value==="yield"?this.context.strict?this.tolerateUnexpectedToken(oi,Ze.Messages.StrictReservedWord):this.context.allowYield||this.throwUnexpectedToken(oi):oi.type!==3?this.context.strict&&oi.type===4&&this.scanner.isStrictModeReservedWord(oi.value)?this.tolerateUnexpectedToken(oi,Ze.Messages.StrictReservedWord):(this.context.strict||oi.value!=="let"||ei!=="var")&&this.throwUnexpectedToken(oi):(this.context.isModule||this.context.await)&&oi.type===3&&oi.value==="await"&&this.tolerateUnexpectedToken(oi),this.finalize(St,new Je.Identifier(oi.value))},ii.prototype.parseVariableDeclaration=function(ei){var St=this.createNode(),oi=this.parsePattern([],"var");this.context.strict&&oi.type===ti.Syntax.Identifier&&this.scanner.isRestrictedWord(oi.name)&&this.tolerateError(Ze.Messages.StrictVarName);var si=null;return this.match("=")?(this.nextToken(),si=this.isolateCoverGrammar(this.parseAssignmentExpression)):oi.type===ti.Syntax.Identifier||ei.inFor||this.expect("="),this.finalize(St,new Je.VariableDeclarator(oi,si))},ii.prototype.parseVariableDeclarationList=function(ei){var St={inFor:ei.inFor},oi=[];for(oi.push(this.parseVariableDeclaration(St));this.match(",");)this.nextToken(),oi.push(this.parseVariableDeclaration(St));return oi},ii.prototype.parseVariableStatement=function(){var ei=this.createNode();this.expectKeyword("var");var St=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(ei,new Je.VariableDeclaration(St,"var"))},ii.prototype.parseEmptyStatement=function(){var ei=this.createNode();return this.expect(";"),this.finalize(ei,new Je.EmptyStatement)},ii.prototype.parseExpressionStatement=function(){var ei=this.createNode(),St=this.parseExpression();return this.consumeSemicolon(),this.finalize(ei,new Je.ExpressionStatement(St))},ii.prototype.parseIfClause=function(){return this.context.strict&&this.matchKeyword("function")&&this.tolerateError(Ze.Messages.StrictFunction),this.parseStatement()},ii.prototype.parseIfStatement=function(){var ei,St=this.createNode(),oi=null;this.expectKeyword("if"),this.expect("(");var si=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),ei=this.finalize(this.createNode(),new Je.EmptyStatement)):(this.expect(")"),ei=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),oi=this.parseIfClause())),this.finalize(St,new Je.IfStatement(si,ei,oi))},ii.prototype.parseDoWhileStatement=function(){var ei=this.createNode();this.expectKeyword("do");var St=this.context.inIteration;this.context.inIteration=!0;var oi=this.parseStatement();this.context.inIteration=St,this.expectKeyword("while"),this.expect("(");var si=this.parseExpression();return!this.match(")")&&this.config.tolerant?this.tolerateUnexpectedToken(this.nextToken()):(this.expect(")"),this.match(";")&&this.nextToken()),this.finalize(ei,new Je.DoWhileStatement(oi,si))},ii.prototype.parseWhileStatement=function(){var ei,St=this.createNode();this.expectKeyword("while"),this.expect("(");var oi=this.parseExpression();if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),ei=this.finalize(this.createNode(),new Je.EmptyStatement);else{this.expect(")");var si=this.context.inIteration;this.context.inIteration=!0,ei=this.parseStatement(),this.context.inIteration=si}return this.finalize(St,new Je.WhileStatement(oi,ei))},ii.prototype.parseForStatement=function(){var ei,St,oi,si=null,ai=null,ui=null,hi=!0,ci=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){si=this.createNode(),this.nextToken();var mi=this.context.allowIn;this.context.allowIn=!1;var di=this.parseVariableDeclarationList({inFor:!0});if(this.context.allowIn=mi,di.length===1&&this.matchKeyword("in")){var pi=di[0];pi.init&&(pi.id.type===ti.Syntax.ArrayPattern||pi.id.type===ti.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(Ze.Messages.ForInOfLoopInitializer,"for-in"),si=this.finalize(si,new Je.VariableDeclaration(di,"var")),this.nextToken(),ei=si,St=this.parseExpression(),si=null}else di.length===1&&di[0].init===null&&this.matchContextualKeyword("of")?(si=this.finalize(si,new Je.VariableDeclaration(di,"var")),this.nextToken(),ei=si,St=this.parseAssignmentExpression(),si=null,hi=!1):(si=this.finalize(si,new Je.VariableDeclaration(di,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){si=this.createNode();var yi=this.nextToken().value;this.context.strict||this.lookahead.value!=="in"?(mi=this.context.allowIn,this.context.allowIn=!1,di=this.parseBindingList(yi,{inFor:!0}),this.context.allowIn=mi,di.length===1&&di[0].init===null&&this.matchKeyword("in")?(si=this.finalize(si,new Je.VariableDeclaration(di,yi)),this.nextToken(),ei=si,St=this.parseExpression(),si=null):di.length===1&&di[0].init===null&&this.matchContextualKeyword("of")?(si=this.finalize(si,new Je.VariableDeclaration(di,yi)),this.nextToken(),ei=si,St=this.parseAssignmentExpression(),si=null,hi=!1):(this.consumeSemicolon(),si=this.finalize(si,new Je.VariableDeclaration(di,yi)))):(si=this.finalize(si,new Je.Identifier(yi)),this.nextToken(),ei=si,St=this.parseExpression(),si=null)}else{var gi=this.lookahead;if(mi=this.context.allowIn,this.context.allowIn=!1,si=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=mi,this.matchKeyword("in"))this.context.isAssignmentTarget&&si.type!==ti.Syntax.AssignmentExpression||this.tolerateError(Ze.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(si),ei=si,St=this.parseExpression(),si=null;else if(this.matchContextualKeyword("of"))this.context.isAssignmentTarget&&si.type!==ti.Syntax.AssignmentExpression||this.tolerateError(Ze.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(si),ei=si,St=this.parseAssignmentExpression(),si=null,hi=!1;else{if(this.match(",")){for(var _i=[si];this.match(",");)this.nextToken(),_i.push(this.isolateCoverGrammar(this.parseAssignmentExpression));si=this.finalize(this.startNode(gi),new Je.SequenceExpression(_i))}this.expect(";")}}if(ei===void 0&&(this.match(";")||(ai=this.parseExpression()),this.expect(";"),this.match(")")||(ui=this.parseExpression())),!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),oi=this.finalize(this.createNode(),new Je.EmptyStatement);else{this.expect(")");var Ai=this.context.inIteration;this.context.inIteration=!0,oi=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=Ai}return ei===void 0?this.finalize(ci,new Je.ForStatement(si,ai,ui,oi)):hi?this.finalize(ci,new Je.ForInStatement(ei,St,oi)):this.finalize(ci,new Je.ForOfStatement(ei,St,oi))},ii.prototype.parseContinueStatement=function(){var ei=this.createNode();this.expectKeyword("continue");var St=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var oi=this.parseVariableIdentifier();St=oi;var si="$"+oi.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,si)||this.throwError(Ze.Messages.UnknownLabel,oi.name)}return this.consumeSemicolon(),St!==null||this.context.inIteration||this.throwError(Ze.Messages.IllegalContinue),this.finalize(ei,new Je.ContinueStatement(St))},ii.prototype.parseBreakStatement=function(){var ei=this.createNode();this.expectKeyword("break");var St=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var oi=this.parseVariableIdentifier(),si="$"+oi.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,si)||this.throwError(Ze.Messages.UnknownLabel,oi.name),St=oi}return this.consumeSemicolon(),St!==null||this.context.inIteration||this.context.inSwitch||this.throwError(Ze.Messages.IllegalBreak),this.finalize(ei,new Je.BreakStatement(St))},ii.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(Ze.Messages.IllegalReturn);var ei=this.createNode();this.expectKeyword("return");var St=(this.match(";")||this.match("}")||this.hasLineTerminator||this.lookahead.type===2)&&this.lookahead.type!==8&&this.lookahead.type!==10?null:this.parseExpression();return this.consumeSemicolon(),this.finalize(ei,new Je.ReturnStatement(St))},ii.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(Ze.Messages.StrictModeWith);var ei,St=this.createNode();this.expectKeyword("with"),this.expect("(");var oi=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),ei=this.finalize(this.createNode(),new Je.EmptyStatement)):(this.expect(")"),ei=this.parseStatement()),this.finalize(St,new Je.WithStatement(oi,ei))},ii.prototype.parseSwitchCase=function(){var ei,St=this.createNode();this.matchKeyword("default")?(this.nextToken(),ei=null):(this.expectKeyword("case"),ei=this.parseExpression()),this.expect(":");for(var oi=[];!(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"));)oi.push(this.parseStatementListItem());return this.finalize(St,new Je.SwitchCase(ei,oi))},ii.prototype.parseSwitchStatement=function(){var ei=this.createNode();this.expectKeyword("switch"),this.expect("(");var St=this.parseExpression();this.expect(")");var oi=this.context.inSwitch;this.context.inSwitch=!0;var si=[],ai=!1;for(this.expect("{");!this.match("}");){var ui=this.parseSwitchCase();ui.test===null&&(ai&&this.throwError(Ze.Messages.MultipleDefaultsInSwitch),ai=!0),si.push(ui)}return this.expect("}"),this.context.inSwitch=oi,this.finalize(ei,new Je.SwitchStatement(St,si))},ii.prototype.parseLabelledStatement=function(){var ei,St=this.createNode(),oi=this.parseExpression();if(oi.type===ti.Syntax.Identifier&&this.match(":")){this.nextToken();var si=oi,ai="$"+si.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,ai)&&this.throwError(Ze.Messages.Redeclaration,"Label",si.name),this.context.labelSet[ai]=!0;var ui=void 0;if(this.matchKeyword("class"))this.tolerateUnexpectedToken(this.lookahead),ui=this.parseClassDeclaration();else if(this.matchKeyword("function")){var hi=this.lookahead,ci=this.parseFunctionDeclaration();this.context.strict?this.tolerateUnexpectedToken(hi,Ze.Messages.StrictFunction):ci.generator&&this.tolerateUnexpectedToken(hi,Ze.Messages.GeneratorInLegacyContext),ui=ci}else ui=this.parseStatement();delete this.context.labelSet[ai],ei=new Je.LabeledStatement(si,ui)}else this.consumeSemicolon(),ei=new Je.ExpressionStatement(oi);return this.finalize(St,ei)},ii.prototype.parseThrowStatement=function(){var ei=this.createNode();this.expectKeyword("throw"),this.hasLineTerminator&&this.throwError(Ze.Messages.NewlineAfterThrow);var St=this.parseExpression();return this.consumeSemicolon(),this.finalize(ei,new Je.ThrowStatement(St))},ii.prototype.parseCatchClause=function(){var ei=this.createNode();this.expectKeyword("catch"),this.expect("("),this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var St=[],oi=this.parsePattern(St),si={},ai=0;ai<St.length;ai++){var ui="$"+St[ai].value;Object.prototype.hasOwnProperty.call(si,ui)&&this.tolerateError(Ze.Messages.DuplicateBinding,St[ai].value),si[ui]=!0}this.context.strict&&oi.type===ti.Syntax.Identifier&&this.scanner.isRestrictedWord(oi.name)&&this.tolerateError(Ze.Messages.StrictCatchVariable),this.expect(")");var hi=this.parseBlock();return this.finalize(ei,new Je.CatchClause(oi,hi))},ii.prototype.parseFinallyClause=function(){return this.expectKeyword("finally"),this.parseBlock()},ii.prototype.parseTryStatement=function(){var ei=this.createNode();this.expectKeyword("try");var St=this.parseBlock(),oi=this.matchKeyword("catch")?this.parseCatchClause():null,si=this.matchKeyword("finally")?this.parseFinallyClause():null;return oi||si||this.throwError(Ze.Messages.NoCatchOrFinally),this.finalize(ei,new Je.TryStatement(St,oi,si))},ii.prototype.parseDebuggerStatement=function(){var ei=this.createNode();return this.expectKeyword("debugger"),this.consumeSemicolon(),this.finalize(ei,new Je.DebuggerStatement)},ii.prototype.parseStatement=function(){var ei;switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:ei=this.parseExpressionStatement();break;case 7:var St=this.lookahead.value;ei=St==="{"?this.parseBlock():St==="("?this.parseExpressionStatement():St===";"?this.parseEmptyStatement():this.parseExpressionStatement();break;case 3:ei=this.matchAsyncFunction()?this.parseFunctionDeclaration():this.parseLabelledStatement();break;case 4:switch(this.lookahead.value){case"break":ei=this.parseBreakStatement();break;case"continue":ei=this.parseContinueStatement();break;case"debugger":ei=this.parseDebuggerStatement();break;case"do":ei=this.parseDoWhileStatement();break;case"for":ei=this.parseForStatement();break;case"function":ei=this.parseFunctionDeclaration();break;case"if":ei=this.parseIfStatement();break;case"return":ei=this.parseReturnStatement();break;case"switch":ei=this.parseSwitchStatement();break;case"throw":ei=this.parseThrowStatement();break;case"try":ei=this.parseTryStatement();break;case"var":ei=this.parseVariableStatement();break;case"while":ei=this.parseWhileStatement();break;case"with":ei=this.parseWithStatement();break;default:ei=this.parseExpressionStatement()}break;default:ei=this.throwUnexpectedToken(this.lookahead)}return ei},ii.prototype.parseFunctionSourceElements=function(){var ei=this.createNode();this.expect("{");var St=this.parseDirectivePrologues(),oi=this.context.labelSet,si=this.context.inIteration,ai=this.context.inSwitch,ui=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;this.lookahead.type!==2&&!this.match("}");)St.push(this.parseStatementListItem());return this.expect("}"),this.context.labelSet=oi,this.context.inIteration=si,this.context.inSwitch=ai,this.context.inFunctionBody=ui,this.finalize(ei,new Je.BlockStatement(St))},ii.prototype.validateParam=function(ei,St,oi){var si="$"+oi;this.context.strict?(this.scanner.isRestrictedWord(oi)&&(ei.stricted=St,ei.message=Ze.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(ei.paramSet,si)&&(ei.stricted=St,ei.message=Ze.Messages.StrictParamDupe)):ei.firstRestricted||(this.scanner.isRestrictedWord(oi)?(ei.firstRestricted=St,ei.message=Ze.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(oi)?(ei.firstRestricted=St,ei.message=Ze.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(ei.paramSet,si)&&(ei.stricted=St,ei.message=Ze.Messages.StrictParamDupe)),typeof Object.defineProperty=="function"?Object.defineProperty(ei.paramSet,si,{value:!0,enumerable:!0,writable:!0,configurable:!0}):ei.paramSet[si]=!0},ii.prototype.parseRestElement=function(ei){var St=this.createNode();this.expect("...");var oi=this.parsePattern(ei);return this.match("=")&&this.throwError(Ze.Messages.DefaultRestParameter),this.match(")")||this.throwError(Ze.Messages.ParameterAfterRestParameter),this.finalize(St,new Je.RestElement(oi))},ii.prototype.parseFormalParameter=function(ei){for(var St=[],oi=this.match("...")?this.parseRestElement(St):this.parsePatternWithDefault(St),si=0;si<St.length;si++)this.validateParam(ei,St[si],St[si].value);ei.simple=ei.simple&&oi instanceof Je.Identifier,ei.params.push(oi)},ii.prototype.parseFormalParameters=function(ei){var St;if(St={simple:!0,params:[],firstRestricted:ei},this.expect("("),!this.match(")"))for(St.paramSet={};this.lookahead.type!==2&&(this.parseFormalParameter(St),!this.match(")"))&&(this.expect(","),!this.match(")")););return this.expect(")"),{simple:St.simple,params:St.params,stricted:St.stricted,firstRestricted:St.firstRestricted,message:St.message}},ii.prototype.matchAsyncFunction=function(){var ei=this.matchContextualKeyword("async");if(ei){var St=this.scanner.saveState();this.scanner.scanComments();var oi=this.scanner.lex();this.scanner.restoreState(St),ei=St.lineNumber===oi.lineNumber&&oi.type===4&&oi.value==="function"}return ei},ii.prototype.parseFunctionDeclaration=function(ei){var St=this.createNode(),oi=this.matchContextualKeyword("async");oi&&this.nextToken(),this.expectKeyword("function");var si,ai=!oi&&this.match("*");ai&&this.nextToken();var ui=null,hi=null;if(!ei||!this.match("(")){var ci=this.lookahead;ui=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(ci.value)&&this.tolerateUnexpectedToken(ci,Ze.Messages.StrictFunctionName):this.scanner.isRestrictedWord(ci.value)?(hi=ci,si=Ze.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(ci.value)&&(hi=ci,si=Ze.Messages.StrictReservedWord)}var mi=this.context.await,di=this.context.allowYield;this.context.await=oi,this.context.allowYield=!ai;var pi=this.parseFormalParameters(hi),yi=pi.params,gi=pi.stricted;hi=pi.firstRestricted,pi.message&&(si=pi.message);var _i=this.context.strict,Ai=this.context.allowStrictDirective;this.context.allowStrictDirective=pi.simple;var ki=this.parseFunctionSourceElements();return this.context.strict&&hi&&this.throwUnexpectedToken(hi,si),this.context.strict&&gi&&this.tolerateUnexpectedToken(gi,si),this.context.strict=_i,this.context.allowStrictDirective=Ai,this.context.await=mi,this.context.allowYield=di,oi?this.finalize(St,new Je.AsyncFunctionDeclaration(ui,yi,ki)):this.finalize(St,new Je.FunctionDeclaration(ui,yi,ki,ai))},ii.prototype.parseFunctionExpression=function(){var ei=this.createNode(),St=this.matchContextualKeyword("async");St&&this.nextToken(),this.expectKeyword("function");var oi,si=!St&&this.match("*");si&&this.nextToken();var ai,ui=null,hi=this.context.await,ci=this.context.allowYield;if(this.context.await=St,this.context.allowYield=!si,!this.match("(")){var mi=this.lookahead;ui=this.context.strict||si||!this.matchKeyword("yield")?this.parseVariableIdentifier():this.parseIdentifierName(),this.context.strict?this.scanner.isRestrictedWord(mi.value)&&this.tolerateUnexpectedToken(mi,Ze.Messages.StrictFunctionName):this.scanner.isRestrictedWord(mi.value)?(ai=mi,oi=Ze.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(mi.value)&&(ai=mi,oi=Ze.Messages.StrictReservedWord)}var di=this.parseFormalParameters(ai),pi=di.params,yi=di.stricted;ai=di.firstRestricted,di.message&&(oi=di.message);var gi=this.context.strict,_i=this.context.allowStrictDirective;this.context.allowStrictDirective=di.simple;var Ai=this.parseFunctionSourceElements();return this.context.strict&&ai&&this.throwUnexpectedToken(ai,oi),this.context.strict&&yi&&this.tolerateUnexpectedToken(yi,oi),this.context.strict=gi,this.context.allowStrictDirective=_i,this.context.await=hi,this.context.allowYield=ci,St?this.finalize(ei,new Je.AsyncFunctionExpression(ui,pi,Ai)):this.finalize(ei,new Je.FunctionExpression(ui,pi,Ai,si))},ii.prototype.parseDirective=function(){var ei=this.lookahead,St=this.createNode(),oi=this.parseExpression(),si=oi.type===ti.Syntax.Literal?this.getTokenRaw(ei).slice(1,-1):null;return this.consumeSemicolon(),this.finalize(St,si?new Je.Directive(oi,si):new Je.ExpressionStatement(oi))},ii.prototype.parseDirectivePrologues=function(){for(var ei=null,St=[];;){var oi=this.lookahead;if(oi.type!==8)break;var si=this.parseDirective();St.push(si);var ai=si.directive;if(typeof ai!="string")break;ai==="use strict"?(this.context.strict=!0,ei&&this.tolerateUnexpectedToken(ei,Ze.Messages.StrictOctalLiteral),this.context.allowStrictDirective||this.tolerateUnexpectedToken(oi,Ze.Messages.IllegalLanguageModeDirective)):!ei&&oi.octal&&(ei=oi)}return St},ii.prototype.qualifiedPropertyName=function(ei){switch(ei.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return ei.value==="["}return!1},ii.prototype.parseGetterMethod=function(){var ei=this.createNode(),St=this.context.allowYield;this.context.allowYield=!0;var oi=this.parseFormalParameters();oi.params.length>0&&this.tolerateError(Ze.Messages.BadGetterArity);var si=this.parsePropertyMethod(oi);return this.context.allowYield=St,this.finalize(ei,new Je.FunctionExpression(null,oi.params,si,!1))},ii.prototype.parseSetterMethod=function(){var ei=this.createNode(),St=this.context.allowYield;this.context.allowYield=!0;var oi=this.parseFormalParameters();oi.params.length!==1?this.tolerateError(Ze.Messages.BadSetterArity):oi.params[0]instanceof Je.RestElement&&this.tolerateError(Ze.Messages.BadSetterRestParameter);var si=this.parsePropertyMethod(oi);return this.context.allowYield=St,this.finalize(ei,new Je.FunctionExpression(null,oi.params,si,!1))},ii.prototype.parseGeneratorMethod=function(){var ei=this.createNode(),St=this.context.allowYield;this.context.allowYield=!0;var oi=this.parseFormalParameters();this.context.allowYield=!1;var si=this.parsePropertyMethod(oi);return this.context.allowYield=St,this.finalize(ei,new Je.FunctionExpression(null,oi.params,si,!0))},ii.prototype.isStartOfExpression=function(){var ei=!0,St=this.lookahead.value;switch(this.lookahead.type){case 7:ei=St==="["||St==="("||St==="{"||St==="+"||St==="-"||St==="!"||St==="~"||St==="++"||St==="--"||St==="/"||St==="/=";break;case 4:ei=St==="class"||St==="delete"||St==="function"||St==="let"||St==="new"||St==="super"||St==="this"||St==="typeof"||St==="void"||St==="yield"}return ei},ii.prototype.parseYieldExpression=function(){var ei=this.createNode();this.expectKeyword("yield");var St=null,oi=!1;if(!this.hasLineTerminator){var si=this.context.allowYield;this.context.allowYield=!1,(oi=this.match("*"))?(this.nextToken(),St=this.parseAssignmentExpression()):this.isStartOfExpression()&&(St=this.parseAssignmentExpression()),this.context.allowYield=si}return this.finalize(ei,new Je.YieldExpression(St,oi))},ii.prototype.parseClassElement=function(ei){var St=this.lookahead,oi=this.createNode(),si="",ai=null,ui=null,hi=!1,ci=!1,mi=!1,di=!1;if(this.match("*"))this.nextToken();else if(hi=this.match("["),(ai=this.parseObjectPropertyKey()).name==="static"&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(St=this.lookahead,mi=!0,hi=this.match("["),this.match("*")?this.nextToken():ai=this.parseObjectPropertyKey()),St.type===3&&!this.hasLineTerminator&&St.value==="async"){var pi=this.lookahead.value;pi!==":"&&pi!=="("&&pi!=="*"&&(di=!0,St=this.lookahead,ai=this.parseObjectPropertyKey(),St.type===3&&St.value==="constructor"&&this.tolerateUnexpectedToken(St,Ze.Messages.ConstructorIsAsync))}var yi=this.qualifiedPropertyName(this.lookahead);return St.type===3?St.value==="get"&&yi?(si="get",hi=this.match("["),ai=this.parseObjectPropertyKey(),this.context.allowYield=!1,ui=this.parseGetterMethod()):St.value==="set"&&yi&&(si="set",hi=this.match("["),ai=this.parseObjectPropertyKey(),ui=this.parseSetterMethod()):St.type===7&&St.value==="*"&&yi&&(si="init",hi=this.match("["),ai=this.parseObjectPropertyKey(),ui=this.parseGeneratorMethod(),ci=!0),!si&&ai&&this.match("(")&&(si="init",ui=di?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),ci=!0),si||this.throwUnexpectedToken(this.lookahead),si==="init"&&(si="method"),hi||(mi&&this.isPropertyKey(ai,"prototype")&&this.throwUnexpectedToken(St,Ze.Messages.StaticPrototype),!mi&&this.isPropertyKey(ai,"constructor")&&((si!=="method"||!ci||ui&&ui.generator)&&this.throwUnexpectedToken(St,Ze.Messages.ConstructorSpecialMethod),ei.value?this.throwUnexpectedToken(St,Ze.Messages.DuplicateConstructor):ei.value=!0,si="constructor")),this.finalize(oi,new Je.MethodDefinition(ai,hi,ui,si,mi))},ii.prototype.parseClassElementList=function(){var ei=[],St={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():ei.push(this.parseClassElement(St));return this.expect("}"),ei},ii.prototype.parseClassBody=function(){var ei=this.createNode(),St=this.parseClassElementList();return this.finalize(ei,new Je.ClassBody(St))},ii.prototype.parseClassDeclaration=function(ei){var St=this.createNode(),oi=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var si=ei&&this.lookahead.type!==3?null:this.parseVariableIdentifier(),ai=null;this.matchKeyword("extends")&&(this.nextToken(),ai=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var ui=this.parseClassBody();return this.context.strict=oi,this.finalize(St,new Je.ClassDeclaration(si,ai,ui))},ii.prototype.parseClassExpression=function(){var ei=this.createNode(),St=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var oi=this.lookahead.type===3?this.parseVariableIdentifier():null,si=null;this.matchKeyword("extends")&&(this.nextToken(),si=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var ai=this.parseClassBody();return this.context.strict=St,this.finalize(ei,new Je.ClassExpression(oi,si,ai))},ii.prototype.parseModule=function(){this.context.strict=!0,this.context.isModule=!0,this.scanner.isModule=!0;for(var ei=this.createNode(),St=this.parseDirectivePrologues();this.lookahead.type!==2;)St.push(this.parseStatementListItem());return this.finalize(ei,new Je.Module(St))},ii.prototype.parseScript=function(){for(var ei=this.createNode(),St=this.parseDirectivePrologues();this.lookahead.type!==2;)St.push(this.parseStatementListItem());return this.finalize(ei,new Je.Script(St))},ii.prototype.parseModuleSpecifier=function(){var ei=this.createNode();this.lookahead.type!==8&&this.throwError(Ze.Messages.InvalidModuleSpecifier);var St=this.nextToken(),oi=this.getTokenRaw(St);return this.finalize(ei,new Je.Literal(St.value,oi))},ii.prototype.parseImportSpecifier=function(){var ei,St,oi=this.createNode();return this.lookahead.type===3?(St=ei=this.parseVariableIdentifier(),this.matchContextualKeyword("as")&&(this.nextToken(),St=this.parseVariableIdentifier())):(St=ei=this.parseIdentifierName(),this.matchContextualKeyword("as")?(this.nextToken(),St=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(oi,new Je.ImportSpecifier(St,ei))},ii.prototype.parseNamedImports=function(){this.expect("{");for(var ei=[];!this.match("}");)ei.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");return this.expect("}"),ei},ii.prototype.parseImportDefaultSpecifier=function(){var ei=this.createNode(),St=this.parseIdentifierName();return this.finalize(ei,new Je.ImportDefaultSpecifier(St))},ii.prototype.parseImportNamespaceSpecifier=function(){var ei=this.createNode();this.expect("*"),this.matchContextualKeyword("as")||this.throwError(Ze.Messages.NoAsAfterImportNamespace),this.nextToken();var St=this.parseIdentifierName();return this.finalize(ei,new Je.ImportNamespaceSpecifier(St))},ii.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(Ze.Messages.IllegalImportDeclaration);var ei,St=this.createNode();this.expectKeyword("import");var oi=[];if(this.lookahead.type===8)ei=this.parseModuleSpecifier();else{if(this.match("{")?oi=oi.concat(this.parseNamedImports()):this.match("*")?oi.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(oi.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?oi.push(this.parseImportNamespaceSpecifier()):this.match("{")?oi=oi.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),!this.matchContextualKeyword("from")){var si=this.lookahead.value?Ze.Messages.UnexpectedToken:Ze.Messages.MissingFromClause;this.throwError(si,this.lookahead.value)}this.nextToken(),ei=this.parseModuleSpecifier()}return this.consumeSemicolon(),this.finalize(St,new Je.ImportDeclaration(oi,ei))},ii.prototype.parseExportSpecifier=function(){var ei=this.createNode(),St=this.parseIdentifierName(),oi=St;return this.matchContextualKeyword("as")&&(this.nextToken(),oi=this.parseIdentifierName()),this.finalize(ei,new Je.ExportSpecifier(St,oi))},ii.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(Ze.Messages.IllegalExportDeclaration);var ei,St=this.createNode();if(this.expectKeyword("export"),this.matchKeyword("default"))if(this.nextToken(),this.matchKeyword("function")){var oi=this.parseFunctionDeclaration(!0);ei=this.finalize(St,new Je.ExportDefaultDeclaration(oi))}else this.matchKeyword("class")?(oi=this.parseClassDeclaration(!0),ei=this.finalize(St,new Je.ExportDefaultDeclaration(oi))):this.matchContextualKeyword("async")?(oi=this.matchAsyncFunction()?this.parseFunctionDeclaration(!0):this.parseAssignmentExpression(),ei=this.finalize(St,new Je.ExportDefaultDeclaration(oi))):(this.matchContextualKeyword("from")&&this.throwError(Ze.Messages.UnexpectedToken,this.lookahead.value),oi=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression(),this.consumeSemicolon(),ei=this.finalize(St,new Je.ExportDefaultDeclaration(oi)));else if(this.match("*")){if(this.nextToken(),!this.matchContextualKeyword("from")){var si=this.lookahead.value?Ze.Messages.UnexpectedToken:Ze.Messages.MissingFromClause;this.throwError(si,this.lookahead.value)}this.nextToken();var ai=this.parseModuleSpecifier();this.consumeSemicolon(),ei=this.finalize(St,new Je.ExportAllDeclaration(ai))}else if(this.lookahead.type===4){switch(oi=void 0,this.lookahead.value){case"let":case"const":oi=this.parseLexicalDeclaration({inFor:!1});break;case"var":case"class":case"function":oi=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}ei=this.finalize(St,new Je.ExportNamedDeclaration(oi,[],null))}else if(this.matchAsyncFunction())oi=this.parseFunctionDeclaration(),ei=this.finalize(St,new Je.ExportNamedDeclaration(oi,[],null));else{var ui=[],hi=null,ci=!1;for(this.expect("{");!this.match("}");)ci=ci||this.matchKeyword("default"),ui.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");this.expect("}"),this.matchContextualKeyword("from")?(this.nextToken(),hi=this.parseModuleSpecifier(),this.consumeSemicolon()):ci?(si=this.lookahead.value?Ze.Messages.UnexpectedToken:Ze.Messages.MissingFromClause,this.throwError(si,this.lookahead.value)):this.consumeSemicolon(),ei=this.finalize(St,new Je.ExportNamedDeclaration(null,ui,hi))}return ei},ii}();Xe.Parser=ri},function(ze,Xe){Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.assert=function(We,qe){if(!We)throw new Error("ASSERT: "+qe)}},function(ze,Xe){Object.defineProperty(Xe,"__esModule",{value:!0});var We=function(){function qe(){this.errors=[],this.tolerant=!1}return qe.prototype.recordError=function(Ke){this.errors.push(Ke)},qe.prototype.tolerate=function(Ke){if(!this.tolerant)throw Ke;this.recordError(Ke)},qe.prototype.constructError=function(Ke,Ze){var Je=new Error(Ke);try{throw Je}catch(Qe){Object.create&&Object.defineProperty&&(Je=Object.create(Qe),Object.defineProperty(Je,"column",{value:Ze}))}return Je},qe.prototype.createError=function(Ke,Ze,Je,Qe){var ti="Line "+Ze+": "+Qe,ni=this.constructError(ti,Je);return ni.index=Ke,ni.lineNumber=Ze,ni.description=Qe,ni},qe.prototype.throwError=function(Ke,Ze,Je,Qe){throw this.createError(Ke,Ze,Je,Qe)},qe.prototype.tolerateError=function(Ke,Ze,Je,Qe){var ti=this.createError(Ke,Ze,Je,Qe);if(!this.tolerant)throw ti;this.recordError(ti)},qe}();Xe.ErrorHandler=We},function(ze,Xe){Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.Messages={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"}},function(ze,Xe,We){Object.defineProperty(Xe,"__esModule",{value:!0});var qe=We(9),Ke=We(4),Ze=We(11);function Je(ni){return"0123456789abcdef".indexOf(ni.toLowerCase())}function Qe(ni){return"01234567".indexOf(ni)}var ti=function(){function ni(ri,ii){this.source=ri,this.errorHandler=ii,this.trackComment=!1,this.isModule=!1,this.length=ri.length,this.index=0,this.lineNumber=ri.length>0?1:0,this.lineStart=0,this.curlyStack=[]}return ni.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart}},ni.prototype.restoreState=function(ri){this.index=ri.index,this.lineNumber=ri.lineNumber,this.lineStart=ri.lineStart},ni.prototype.eof=function(){return this.index>=this.length},ni.prototype.throwUnexpectedToken=function(ri){return ri===void 0&&(ri=Ze.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,ri)},ni.prototype.tolerateUnexpectedToken=function(ri){ri===void 0&&(ri=Ze.Messages.UnexpectedTokenIllegal),this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,ri)},ni.prototype.skipSingleLineComment=function(ri){var ii,ei,St=[];for(this.trackComment&&(St=[],ii=this.index-ri,ei={start:{line:this.lineNumber,column:this.index-this.lineStart-ri},end:{}});!this.eof();){var oi=this.source.charCodeAt(this.index);if(++this.index,Ke.Character.isLineTerminator(oi)){if(this.trackComment){ei.end={line:this.lineNumber,column:this.index-this.lineStart-1};var si={multiLine:!1,slice:[ii+ri,this.index-1],range:[ii,this.index-1],loc:ei};St.push(si)}return oi===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,St}}return this.trackComment&&(ei.end={line:this.lineNumber,column:this.index-this.lineStart},si={multiLine:!1,slice:[ii+ri,this.index],range:[ii,this.index],loc:ei},St.push(si)),St},ni.prototype.skipMultiLineComment=function(){var ri,ii,ei=[];for(this.trackComment&&(ei=[],ri=this.index-2,ii={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var St=this.source.charCodeAt(this.index);if(Ke.Character.isLineTerminator(St))St===13&&this.source.charCodeAt(this.index+1)===10&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(St===42){if(this.source.charCodeAt(this.index+1)===47){if(this.index+=2,this.trackComment){ii.end={line:this.lineNumber,column:this.index-this.lineStart};var oi={multiLine:!0,slice:[ri+2,this.index-2],range:[ri,this.index],loc:ii};ei.push(oi)}return ei}++this.index}else++this.index}return this.trackComment&&(ii.end={line:this.lineNumber,column:this.index-this.lineStart},oi={multiLine:!0,slice:[ri+2,this.index],range:[ri,this.index],loc:ii},ei.push(oi)),this.tolerateUnexpectedToken(),ei},ni.prototype.scanComments=function(){var ri;this.trackComment&&(ri=[]);for(var ii=this.index===0;!this.eof();){var ei=this.source.charCodeAt(this.index);if(Ke.Character.isWhiteSpace(ei))++this.index;else if(Ke.Character.isLineTerminator(ei))++this.index,ei===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,ii=!0;else if(ei===47)if((ei=this.source.charCodeAt(this.index+1))===47){this.index+=2;var St=this.skipSingleLineComment(2);this.trackComment&&(ri=ri.concat(St)),ii=!0}else{if(ei!==42)break;this.index+=2,St=this.skipMultiLineComment(),this.trackComment&&(ri=ri.concat(St))}else if(ii&&ei===45){if(this.source.charCodeAt(this.index+1)!==45||this.source.charCodeAt(this.index+2)!==62)break;this.index+=3,St=this.skipSingleLineComment(3),this.trackComment&&(ri=ri.concat(St))}else{if(ei!==60||this.isModule||this.source.slice(this.index+1,this.index+4)!=="!--")break;this.index+=4,St=this.skipSingleLineComment(4),this.trackComment&&(ri=ri.concat(St))}}return ri},ni.prototype.isFutureReservedWord=function(ri){switch(ri){case"enum":case"export":case"import":case"super":return!0;default:return!1}},ni.prototype.isStrictModeReservedWord=function(ri){switch(ri){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}},ni.prototype.isRestrictedWord=function(ri){return ri==="eval"||ri==="arguments"},ni.prototype.isKeyword=function(ri){switch(ri.length){case 2:return ri==="if"||ri==="in"||ri==="do";case 3:return ri==="var"||ri==="for"||ri==="new"||ri==="try"||ri==="let";case 4:return ri==="this"||ri==="else"||ri==="case"||ri==="void"||ri==="with"||ri==="enum";case 5:return ri==="while"||ri==="break"||ri==="catch"||ri==="throw"||ri==="const"||ri==="yield"||ri==="class"||ri==="super";case 6:return ri==="return"||ri==="typeof"||ri==="delete"||ri==="switch"||ri==="export"||ri==="import";case 7:return ri==="default"||ri==="finally"||ri==="extends";case 8:return ri==="function"||ri==="continue"||ri==="debugger";case 10:return ri==="instanceof";default:return!1}},ni.prototype.codePointAt=function(ri){var ii=this.source.charCodeAt(ri);if(ii>=55296&&ii<=56319){var ei=this.source.charCodeAt(ri+1);ei>=56320&&ei<=57343&&(ii=1024*(ii-55296)+ei-56320+65536)}return ii},ni.prototype.scanHexEscape=function(ri){for(var ii=ri==="u"?4:2,ei=0,St=0;St<ii;++St){if(this.eof()||!Ke.Character.isHexDigit(this.source.charCodeAt(this.index)))return null;ei=16*ei+Je(this.source[this.index++])}return String.fromCharCode(ei)},ni.prototype.scanUnicodeCodePointEscape=function(){var ri=this.source[this.index],ii=0;for(ri==="}"&&this.throwUnexpectedToken();!this.eof()&&(ri=this.source[this.index++],Ke.Character.isHexDigit(ri.charCodeAt(0)));)ii=16*ii+Je(ri);return(ii>1114111||ri!=="}")&&this.throwUnexpectedToken(),Ke.Character.fromCodePoint(ii)},ni.prototype.getIdentifier=function(){for(var ri=this.index++;!this.eof();){var ii=this.source.charCodeAt(this.index);if(ii===92)return this.index=ri,this.getComplexIdentifier();if(ii>=55296&&ii<57343)return this.index=ri,this.getComplexIdentifier();if(!Ke.Character.isIdentifierPart(ii))break;++this.index}return this.source.slice(ri,this.index)},ni.prototype.getComplexIdentifier=function(){var ri,ii=this.codePointAt(this.index),ei=Ke.Character.fromCodePoint(ii);for(this.index+=ei.length,ii===92&&(this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,ri=this.scanUnicodeCodePointEscape()):(ri=this.scanHexEscape("u"))!==null&&ri!=="\\"&&Ke.Character.isIdentifierStart(ri.charCodeAt(0))||this.throwUnexpectedToken(),ei=ri);!this.eof()&&(ii=this.codePointAt(this.index),Ke.Character.isIdentifierPart(ii));)ei+=ri=Ke.Character.fromCodePoint(ii),this.index+=ri.length,ii===92&&(ei=ei.substr(0,ei.length-1),this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,ri=this.scanUnicodeCodePointEscape()):(ri=this.scanHexEscape("u"))!==null&&ri!=="\\"&&Ke.Character.isIdentifierPart(ri.charCodeAt(0))||this.throwUnexpectedToken(),ei+=ri);return ei},ni.prototype.octalToDecimal=function(ri){var ii=ri!=="0",ei=Qe(ri);return!this.eof()&&Ke.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(ii=!0,ei=8*ei+Qe(this.source[this.index++]),"0123".indexOf(ri)>=0&&!this.eof()&&Ke.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(ei=8*ei+Qe(this.source[this.index++]))),{code:ei,octal:ii}},ni.prototype.scanIdentifier=function(){var ri,ii=this.index,ei=this.source.charCodeAt(ii)===92?this.getComplexIdentifier():this.getIdentifier();if((ri=ei.length===1?3:this.isKeyword(ei)?4:ei==="null"?5:ei==="true"||ei==="false"?1:3)!=3&&ii+ei.length!==this.index){var St=this.index;this.index=ii,this.tolerateUnexpectedToken(Ze.Messages.InvalidEscapedReservedWord),this.index=St}return{type:ri,value:ei,lineNumber:this.lineNumber,lineStart:this.lineStart,start:ii,end:this.index}},ni.prototype.scanPunctuator=function(){var ri=this.index,ii=this.source[this.index];switch(ii){case"(":case"{":ii==="{"&&this.curlyStack.push("{"),++this.index;break;case".":++this.index,this.source[this.index]==="."&&this.source[this.index+1]==="."&&(this.index+=2,ii="...");break;case"}":++this.index,this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:(ii=this.source.substr(this.index,4))===">>>="?this.index+=4:(ii=ii.substr(0,3))==="==="||ii==="!=="||ii===">>>"||ii==="<<="||ii===">>="||ii==="**="?this.index+=3:(ii=ii.substr(0,2))==="&&"||ii==="||"||ii==="=="||ii==="!="||ii==="+="||ii==="-="||ii==="*="||ii==="/="||ii==="++"||ii==="--"||ii==="<<"||ii===">>"||ii==="&="||ii==="|="||ii==="^="||ii==="%="||ii==="<="||ii===">="||ii==="=>"||ii==="**"?this.index+=2:(ii=this.source[this.index],"<>=!+-*%&|^/".indexOf(ii)>=0&&++this.index)}return this.index===ri&&this.throwUnexpectedToken(),{type:7,value:ii,lineNumber:this.lineNumber,lineStart:this.lineStart,start:ri,end:this.index}},ni.prototype.scanHexLiteral=function(ri){for(var ii="";!this.eof()&&Ke.Character.isHexDigit(this.source.charCodeAt(this.index));)ii+=this.source[this.index++];return ii.length===0&&this.throwUnexpectedToken(),Ke.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseInt("0x"+ii,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:ri,end:this.index}},ni.prototype.scanBinaryLiteral=function(ri){for(var ii,ei="";!this.eof()&&((ii=this.source[this.index])==="0"||ii==="1");)ei+=this.source[this.index++];return ei.length===0&&this.throwUnexpectedToken(),this.eof()||(ii=this.source.charCodeAt(this.index),(Ke.Character.isIdentifierStart(ii)||Ke.Character.isDecimalDigit(ii))&&this.throwUnexpectedToken()),{type:6,value:parseInt(ei,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:ri,end:this.index}},ni.prototype.scanOctalLiteral=function(ri,ii){var ei="",St=!1;for(Ke.Character.isOctalDigit(ri.charCodeAt(0))?(St=!0,ei="0"+this.source[this.index++]):++this.index;!this.eof()&&Ke.Character.isOctalDigit(this.source.charCodeAt(this.index));)ei+=this.source[this.index++];return St||ei.length!==0||this.throwUnexpectedToken(),(Ke.Character.isIdentifierStart(this.source.charCodeAt(this.index))||Ke.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:6,value:parseInt(ei,8),octal:St,lineNumber:this.lineNumber,lineStart:this.lineStart,start:ii,end:this.index}},ni.prototype.isImplicitOctalLiteral=function(){for(var ri=this.index+1;ri<this.length;++ri){var ii=this.source[ri];if(ii==="8"||ii==="9")return!1;if(!Ke.Character.isOctalDigit(ii.charCodeAt(0)))return!0}return!0},ni.prototype.scanNumericLiteral=function(){var ri=this.index,ii=this.source[ri];qe.assert(Ke.Character.isDecimalDigit(ii.charCodeAt(0))||ii===".","Numeric literal must start with a decimal digit or a decimal point");var ei="";if(ii!=="."){if(ei=this.source[this.index++],ii=this.source[this.index],ei==="0"){if(ii==="x"||ii==="X")return++this.index,this.scanHexLiteral(ri);if(ii==="b"||ii==="B")return++this.index,this.scanBinaryLiteral(ri);if(ii==="o"||ii==="O")return this.scanOctalLiteral(ii,ri);if(ii&&Ke.Character.isOctalDigit(ii.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(ii,ri)}for(;Ke.Character.isDecimalDigit(this.source.charCodeAt(this.index));)ei+=this.source[this.index++];ii=this.source[this.index]}if(ii==="."){for(ei+=this.source[this.index++];Ke.Character.isDecimalDigit(this.source.charCodeAt(this.index));)ei+=this.source[this.index++];ii=this.source[this.index]}if(ii==="e"||ii==="E")if(ei+=this.source[this.index++],(ii=this.source[this.index])!=="+"&&ii!=="-"||(ei+=this.source[this.index++]),Ke.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;Ke.Character.isDecimalDigit(this.source.charCodeAt(this.index));)ei+=this.source[this.index++];else this.throwUnexpectedToken();return Ke.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseFloat(ei),lineNumber:this.lineNumber,lineStart:this.lineStart,start:ri,end:this.index}},ni.prototype.scanStringLiteral=function(){var ri=this.index,ii=this.source[ri];qe.assert(ii==="'"||ii==='"',"String literal must starts with a quote"),++this.index;for(var ei=!1,St="";!this.eof();){var oi=this.source[this.index++];if(oi===ii){ii="";break}if(oi==="\\")if((oi=this.source[this.index++])&&Ke.Character.isLineTerminator(oi.charCodeAt(0)))++this.lineNumber,oi==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else switch(oi){case"u":if(this.source[this.index]==="{")++this.index,St+=this.scanUnicodeCodePointEscape();else{var si=this.scanHexEscape(oi);si===null&&this.throwUnexpectedToken(),St+=si}break;case"x":var ai=this.scanHexEscape(oi);ai===null&&this.throwUnexpectedToken(Ze.Messages.InvalidHexEscapeSequence),St+=ai;break;case"n":St+=`
`;break;case"r":St+="\r";break;case"t":St+="	";break;case"b":St+="\b";break;case"f":St+="\f";break;case"v":St+="\v";break;case"8":case"9":St+=oi,this.tolerateUnexpectedToken();break;default:if(oi&&Ke.Character.isOctalDigit(oi.charCodeAt(0))){var ui=this.octalToDecimal(oi);ei=ui.octal||ei,St+=String.fromCharCode(ui.code)}else St+=oi}else{if(Ke.Character.isLineTerminator(oi.charCodeAt(0)))break;St+=oi}}return ii!==""&&(this.index=ri,this.throwUnexpectedToken()),{type:8,value:St,octal:ei,lineNumber:this.lineNumber,lineStart:this.lineStart,start:ri,end:this.index}},ni.prototype.scanTemplate=function(){var ri="",ii=!1,ei=this.index,St=this.source[ei]==="`",oi=!1,si=2;for(++this.index;!this.eof();){var ai=this.source[this.index++];if(ai==="`"){si=1,oi=!0,ii=!0;break}if(ai==="$"){if(this.source[this.index]==="{"){this.curlyStack.push("${"),++this.index,ii=!0;break}ri+=ai}else if(ai==="\\")if(ai=this.source[this.index++],Ke.Character.isLineTerminator(ai.charCodeAt(0)))++this.lineNumber,ai==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else switch(ai){case"n":ri+=`
`;break;case"r":ri+="\r";break;case"t":ri+="	";break;case"u":if(this.source[this.index]==="{")++this.index,ri+=this.scanUnicodeCodePointEscape();else{var ui=this.index,hi=this.scanHexEscape(ai);hi!==null?ri+=hi:(this.index=ui,ri+=ai)}break;case"x":var ci=this.scanHexEscape(ai);ci===null&&this.throwUnexpectedToken(Ze.Messages.InvalidHexEscapeSequence),ri+=ci;break;case"b":ri+="\b";break;case"f":ri+="\f";break;case"v":ri+="\v";break;default:ai==="0"?(Ke.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(Ze.Messages.TemplateOctalLiteral),ri+="\0"):Ke.Character.isOctalDigit(ai.charCodeAt(0))?this.throwUnexpectedToken(Ze.Messages.TemplateOctalLiteral):ri+=ai}else Ke.Character.isLineTerminator(ai.charCodeAt(0))?(++this.lineNumber,ai==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index,ri+=`
`):ri+=ai}return ii||this.throwUnexpectedToken(),St||this.curlyStack.pop(),{type:10,value:this.source.slice(ei+1,this.index-si),cooked:ri,head:St,tail:oi,lineNumber:this.lineNumber,lineStart:this.lineStart,start:ei,end:this.index}},ni.prototype.testRegExp=function(ri,ii){var ei=ri,St=this;ii.indexOf("u")>=0&&(ei=ei.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,function(oi,si,ai){var ui=parseInt(si||ai,16);return ui>1114111&&St.throwUnexpectedToken(Ze.Messages.InvalidRegExp),ui<=65535?String.fromCharCode(ui):""}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,""));try{RegExp(ei)}catch{this.throwUnexpectedToken(Ze.Messages.InvalidRegExp)}try{return new RegExp(ri,ii)}catch{return null}},ni.prototype.scanRegExpBody=function(){var ri=this.source[this.index];qe.assert(ri==="/","Regular expression literal must start with a slash");for(var ii=this.source[this.index++],ei=!1,St=!1;!this.eof();)if(ii+=ri=this.source[this.index++],ri==="\\")ri=this.source[this.index++],Ke.Character.isLineTerminator(ri.charCodeAt(0))&&this.throwUnexpectedToken(Ze.Messages.UnterminatedRegExp),ii+=ri;else if(Ke.Character.isLineTerminator(ri.charCodeAt(0)))this.throwUnexpectedToken(Ze.Messages.UnterminatedRegExp);else if(ei)ri==="]"&&(ei=!1);else{if(ri==="/"){St=!0;break}ri==="["&&(ei=!0)}return St||this.throwUnexpectedToken(Ze.Messages.UnterminatedRegExp),ii.substr(1,ii.length-2)},ni.prototype.scanRegExpFlags=function(){for(var ri="";!this.eof();){var ii=this.source[this.index];if(!Ke.Character.isIdentifierPart(ii.charCodeAt(0)))break;if(++this.index,ii!=="\\"||this.eof())ri+=ii;else if((ii=this.source[this.index])==="u"){++this.index;var ei=this.index,St=this.scanHexEscape("u");if(St!==null)for(ri+=St;ei<this.index;++ei)this.source[ei];else this.index=ei,ri+="u";this.tolerateUnexpectedToken()}else this.tolerateUnexpectedToken()}return ri},ni.prototype.scanRegExp=function(){var ri=this.index,ii=this.scanRegExpBody(),ei=this.scanRegExpFlags();return{type:9,value:"",pattern:ii,flags:ei,regex:this.testRegExp(ii,ei),lineNumber:this.lineNumber,lineStart:this.lineStart,start:ri,end:this.index}},ni.prototype.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var ri=this.source.charCodeAt(this.index);return Ke.Character.isIdentifierStart(ri)?this.scanIdentifier():ri===40||ri===41||ri===59?this.scanPunctuator():ri===39||ri===34?this.scanStringLiteral():ri===46?Ke.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():Ke.Character.isDecimalDigit(ri)?this.scanNumericLiteral():ri===96||ri===125&&this.curlyStack[this.curlyStack.length-1]==="${"?this.scanTemplate():ri>=55296&&ri<57343&&Ke.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},ni}();Xe.Scanner=ti},function(ze,Xe){Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.TokenName={},Xe.TokenName[1]="Boolean",Xe.TokenName[2]="<end>",Xe.TokenName[3]="Identifier",Xe.TokenName[4]="Keyword",Xe.TokenName[5]="Null",Xe.TokenName[6]="Numeric",Xe.TokenName[7]="Punctuator",Xe.TokenName[8]="String",Xe.TokenName[9]="RegularExpression",Xe.TokenName[10]="Template"},function(ze,Xe){Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",fnof:"",circ:"",tilde:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",bull:"",hellip:"",permil:"",prime:"",Prime:"",lsaquo:"",rsaquo:"",oline:"",frasl:"",euro:"",image:"",weierp:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",lang:"",rang:""}},function(ze,Xe,We){Object.defineProperty(Xe,"__esModule",{value:!0});var qe=We(10),Ke=We(12),Ze=We(13),Je=function(){function ti(){this.values=[],this.curly=this.paren=-1}return ti.prototype.beforeFunctionExpression=function(ni){return["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(ni)>=0},ti.prototype.isRegexStart=function(){var ni=this.values[this.values.length-1],ri=ni!==null;switch(ni){case"this":case"]":ri=!1;break;case")":var ii=this.values[this.paren-1];ri=ii==="if"||ii==="while"||ii==="for"||ii==="with";break;case"}":if(ri=!1,this.values[this.curly-3]==="function")ri=!!(ei=this.values[this.curly-4])&&!this.beforeFunctionExpression(ei);else if(this.values[this.curly-4]==="function"){var ei;ri=!(ei=this.values[this.curly-5])||!this.beforeFunctionExpression(ei)}}return ri},ti.prototype.push=function(ni){ni.type===7||ni.type===4?(ni.value==="{"?this.curly=this.values.length:ni.value==="("&&(this.paren=this.values.length),this.values.push(ni.value)):this.values.push(null)},ti}(),Qe=function(){function ti(ni,ri){this.errorHandler=new qe.ErrorHandler,this.errorHandler.tolerant=!!ri&&typeof ri.tolerant=="boolean"&&ri.tolerant,this.scanner=new Ke.Scanner(ni,this.errorHandler),this.scanner.trackComment=!!ri&&typeof ri.comment=="boolean"&&ri.comment,this.trackRange=!!ri&&typeof ri.range=="boolean"&&ri.range,this.trackLoc=!!ri&&typeof ri.loc=="boolean"&&ri.loc,this.buffer=[],this.reader=new Je}return ti.prototype.errors=function(){return this.errorHandler.errors},ti.prototype.getNextToken=function(){if(this.buffer.length===0){var ni=this.scanner.scanComments();if(this.scanner.trackComment)for(var ri=0;ri<ni.length;++ri){var ii=ni[ri],ei=this.scanner.source.slice(ii.slice[0],ii.slice[1]),St={type:ii.multiLine?"BlockComment":"LineComment",value:ei};this.trackRange&&(St.range=ii.range),this.trackLoc&&(St.loc=ii.loc),this.buffer.push(St)}if(!this.scanner.eof()){var oi=void 0;this.trackLoc&&(oi={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var si=this.scanner.source[this.scanner.index]==="/"&&this.reader.isRegexStart()?this.scanner.scanRegExp():this.scanner.lex();this.reader.push(si);var ai={type:Ze.TokenName[si.type],value:this.scanner.source.slice(si.start,si.end)};if(this.trackRange&&(ai.range=[si.start,si.end]),this.trackLoc&&(oi.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},ai.loc=oi),si.type===9){var ui=si.pattern,hi=si.flags;ai.regex={pattern:ui,flags:hi}}this.buffer.push(ai)}}return this.buffer.shift()},ti}();Xe.Tokenizer=Qe}])},t.exports=je()},function(t,r,Ve){var je=Ve(38),ze=Ve(53),Xe=Ve(76),We=Ve(54),qe=Object.prototype.toString,Ke=Object.prototype.hasOwnProperty,Ze={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},Je=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function Qe(gi){var _i,Ai,ki;if(_i=gi.toString(16).toUpperCase(),gi<=255)Ai="x",ki=2;else if(gi<=65535)Ai="u",ki=4;else{if(!(gi<=4294967295))throw new ze("code point within a string may not be greater than 0xFFFFFFFF");Ai="U",ki=8}return"\\"+Ai+je.repeat("0",ki-_i.length)+_i}function ti(gi){this.schema=gi.schema||Xe,this.indent=Math.max(1,gi.indent||2),this.noArrayIndent=gi.noArrayIndent||!1,this.skipInvalid=gi.skipInvalid||!1,this.flowLevel=je.isNothing(gi.flowLevel)?-1:gi.flowLevel,this.styleMap=function(_i,Ai){var ki,vi,Mi,Di,Bi,Pi,Fi;if(Ai===null)return{};for(ki={},Mi=0,Di=(vi=Object.keys(Ai)).length;Mi<Di;Mi+=1)Bi=vi[Mi],Pi=String(Ai[Bi]),Bi.slice(0,2)==="!!"&&(Bi="tag:yaml.org,2002:"+Bi.slice(2)),(Fi=_i.compiledTypeMap.fallback[Bi])&&Ke.call(Fi.styleAliases,Pi)&&(Pi=Fi.styleAliases[Pi]),ki[Bi]=Pi;return ki}(this.schema,gi.styles||null),this.sortKeys=gi.sortKeys||!1,this.lineWidth=gi.lineWidth||80,this.noRefs=gi.noRefs||!1,this.noCompatMode=gi.noCompatMode||!1,this.condenseFlow=gi.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function ni(gi,_i){for(var Ai,ki=je.repeat(" ",_i),vi=0,Mi=-1,Di="",Bi=gi.length;vi<Bi;)(Mi=gi.indexOf(`
`,vi))===-1?(Ai=gi.slice(vi),vi=Bi):(Ai=gi.slice(vi,Mi+1),vi=Mi+1),Ai.length&&Ai!==`
`&&(Di+=ki),Di+=Ai;return Di}function ri(gi,_i){return`
`+je.repeat(" ",gi.indent*_i)}function ii(gi){return gi===32||gi===9}function ei(gi){return 32<=gi&&gi<=126||161<=gi&&gi<=55295&&gi!==8232&&gi!==8233||57344<=gi&&gi<=65533&&gi!==65279||65536<=gi&&gi<=1114111}function St(gi,_i){return ei(gi)&&gi!==65279&&gi!==44&&gi!==91&&gi!==93&&gi!==123&&gi!==125&&gi!==58&&(gi!==35||_i&&function(Ai){return ei(Ai)&&!ii(Ai)&&Ai!==65279&&Ai!==13&&Ai!==10}(_i))}function oi(gi){return/^\n* /.test(gi)}function si(gi,_i,Ai,ki,vi){var Mi,Di,Bi,Pi,Fi=!1,Vi=!1,Ti=ki!==-1,ji=-1,Gi=ei(Pi=gi.charCodeAt(0))&&Pi!==65279&&!ii(Pi)&&Pi!==45&&Pi!==63&&Pi!==58&&Pi!==44&&Pi!==91&&Pi!==93&&Pi!==123&&Pi!==125&&Pi!==35&&Pi!==38&&Pi!==42&&Pi!==33&&Pi!==124&&Pi!==61&&Pi!==62&&Pi!==39&&Pi!==34&&Pi!==37&&Pi!==64&&Pi!==96&&!ii(gi.charCodeAt(gi.length-1));if(_i)for(Mi=0;Mi<gi.length;Mi++){if(!ei(Di=gi.charCodeAt(Mi)))return 5;Bi=Mi>0?gi.charCodeAt(Mi-1):null,Gi=Gi&&St(Di,Bi)}else{for(Mi=0;Mi<gi.length;Mi++){if((Di=gi.charCodeAt(Mi))===10)Fi=!0,Ti&&(Vi=Vi||Mi-ji-1>ki&&gi[ji+1]!==" ",ji=Mi);else if(!ei(Di))return 5;Bi=Mi>0?gi.charCodeAt(Mi-1):null,Gi=Gi&&St(Di,Bi)}Vi=Vi||Ti&&Mi-ji-1>ki&&gi[ji+1]!==" "}return Fi||Vi?Ai>9&&oi(gi)?5:Vi?4:3:Gi&&!vi(gi)?1:2}function ai(gi,_i,Ai,ki){gi.dump=function(){if(_i.length===0)return"''";if(!gi.noCompatMode&&Je.indexOf(_i)!==-1)return"'"+_i+"'";var vi=gi.indent*Math.max(1,Ai),Mi=gi.lineWidth===-1?-1:Math.max(Math.min(gi.lineWidth,40),gi.lineWidth-vi),Di=ki||gi.flowLevel>-1&&Ai>=gi.flowLevel;switch(si(_i,Di,gi.indent,Mi,function(Bi){return function(Pi,Fi){var Vi,Ti;for(Vi=0,Ti=Pi.implicitTypes.length;Vi<Ti;Vi+=1)if(Pi.implicitTypes[Vi].resolve(Fi))return!0;return!1}(gi,Bi)})){case 1:return _i;case 2:return"'"+_i.replace(/'/g,"''")+"'";case 3:return"|"+ui(_i,gi.indent)+hi(ni(_i,vi));case 4:return">"+ui(_i,gi.indent)+hi(ni(function(Bi,Pi){for(var Fi,Vi,Ti=/(\n+)([^\n]*)/g,ji=(Yi=Bi.indexOf(`
`),Yi=Yi!==-1?Yi:Bi.length,Ti.lastIndex=Yi,ci(Bi.slice(0,Yi),Pi)),Gi=Bi[0]===`
`||Bi[0]===" ",Yi;Vi=Ti.exec(Bi);){var Xi=Vi[1],xi=Vi[2];Fi=xi[0]===" ",ji+=Xi+(Gi||Fi||xi===""?"":`
`)+ci(xi,Pi),Gi=Fi}return ji}(_i,Mi),vi));case 5:return'"'+function(Bi){for(var Pi,Fi,Vi,Ti="",ji=0;ji<Bi.length;ji++)(Pi=Bi.charCodeAt(ji))>=55296&&Pi<=56319&&(Fi=Bi.charCodeAt(ji+1))>=56320&&Fi<=57343?(Ti+=Qe(1024*(Pi-55296)+Fi-56320+65536),ji++):(Vi=Ze[Pi],Ti+=!Vi&&ei(Pi)?Bi[ji]:Vi||Qe(Pi));return Ti}(_i)+'"';default:throw new ze("impossible error: invalid scalar style")}}()}function ui(gi,_i){var Ai=oi(gi)?String(_i):"",ki=gi[gi.length-1]===`
`;return Ai+(ki&&(gi[gi.length-2]===`
`||gi===`
`)?"+":ki?"":"-")+`
`}function hi(gi){return gi[gi.length-1]===`
`?gi.slice(0,-1):gi}function ci(gi,_i){if(gi===""||gi[0]===" ")return gi;for(var Ai,ki,vi=/ [^ ]/g,Mi=0,Di=0,Bi=0,Pi="";Ai=vi.exec(gi);)(Bi=Ai.index)-Mi>_i&&(ki=Di>Mi?Di:Bi,Pi+=`
`+gi.slice(Mi,ki),Mi=ki+1),Di=Bi;return Pi+=`
`,gi.length-Mi>_i&&Di>Mi?Pi+=gi.slice(Mi,Di)+`
`+gi.slice(Di+1):Pi+=gi.slice(Mi),Pi.slice(1)}function mi(gi,_i,Ai){var ki,vi,Mi,Di,Bi,Pi;for(Mi=0,Di=(vi=Ai?gi.explicitTypes:gi.implicitTypes).length;Mi<Di;Mi+=1)if(((Bi=vi[Mi]).instanceOf||Bi.predicate)&&(!Bi.instanceOf||typeof _i=="object"&&_i instanceof Bi.instanceOf)&&(!Bi.predicate||Bi.predicate(_i))){if(gi.tag=Ai?Bi.tag:"?",Bi.represent){if(Pi=gi.styleMap[Bi.tag]||Bi.defaultStyle,qe.call(Bi.represent)==="[object Function]")ki=Bi.represent(_i,Pi);else{if(!Ke.call(Bi.represent,Pi))throw new ze("!<"+Bi.tag+'> tag resolver accepts not "'+Pi+'" style');ki=Bi.represent[Pi](_i,Pi)}gi.dump=ki}return!0}return!1}function di(gi,_i,Ai,ki,vi,Mi){gi.tag=null,gi.dump=Ai,mi(gi,Ai,!1)||mi(gi,Ai,!0);var Di=qe.call(gi.dump);ki&&(ki=gi.flowLevel<0||gi.flowLevel>_i);var Bi,Pi,Fi=Di==="[object Object]"||Di==="[object Array]";if(Fi&&(Pi=(Bi=gi.duplicates.indexOf(Ai))!==-1),(gi.tag!==null&&gi.tag!=="?"||Pi||gi.indent!==2&&_i>0)&&(vi=!1),Pi&&gi.usedDuplicates[Bi])gi.dump="*ref_"+Bi;else{if(Fi&&Pi&&!gi.usedDuplicates[Bi]&&(gi.usedDuplicates[Bi]=!0),Di==="[object Object]")ki&&Object.keys(gi.dump).length!==0?(function(Ti,ji,Gi,Yi){var Xi,xi,fi,$i,bi,Ci,Ei="",Si=Ti.tag,zi=Object.keys(Gi);if(Ti.sortKeys===!0)zi.sort();else if(typeof Ti.sortKeys=="function")zi.sort(Ti.sortKeys);else if(Ti.sortKeys)throw new ze("sortKeys must be a boolean or a function");for(Xi=0,xi=zi.length;Xi<xi;Xi+=1)Ci="",Yi&&Xi===0||(Ci+=ri(Ti,ji)),$i=Gi[fi=zi[Xi]],di(Ti,ji+1,fi,!0,!0,!0)&&((bi=Ti.tag!==null&&Ti.tag!=="?"||Ti.dump&&Ti.dump.length>1024)&&(Ti.dump&&Ti.dump.charCodeAt(0)===10?Ci+="?":Ci+="? "),Ci+=Ti.dump,bi&&(Ci+=ri(Ti,ji)),di(Ti,ji+1,$i,!0,bi)&&(Ti.dump&&Ti.dump.charCodeAt(0)===10?Ci+=":":Ci+=": ",Ei+=Ci+=Ti.dump));Ti.tag=Si,Ti.dump=Ei||"{}"}(gi,_i,gi.dump,vi),Pi&&(gi.dump="&ref_"+Bi+gi.dump)):(function(Ti,ji,Gi){var Yi,Xi,xi,fi,$i,bi="",Ci=Ti.tag,Ei=Object.keys(Gi);for(Yi=0,Xi=Ei.length;Yi<Xi;Yi+=1)$i="",Yi!==0&&($i+=", "),Ti.condenseFlow&&($i+='"'),fi=Gi[xi=Ei[Yi]],di(Ti,ji,xi,!1,!1)&&(Ti.dump.length>1024&&($i+="? "),$i+=Ti.dump+(Ti.condenseFlow?'"':"")+":"+(Ti.condenseFlow?"":" "),di(Ti,ji,fi,!1,!1)&&(bi+=$i+=Ti.dump));Ti.tag=Ci,Ti.dump="{"+bi+"}"}(gi,_i,gi.dump),Pi&&(gi.dump="&ref_"+Bi+" "+gi.dump));else if(Di==="[object Array]"){var Vi=gi.noArrayIndent&&_i>0?_i-1:_i;ki&&gi.dump.length!==0?(function(Ti,ji,Gi,Yi){var Xi,xi,fi="",$i=Ti.tag;for(Xi=0,xi=Gi.length;Xi<xi;Xi+=1)di(Ti,ji+1,Gi[Xi],!0,!0)&&(Yi&&Xi===0||(fi+=ri(Ti,ji)),Ti.dump&&Ti.dump.charCodeAt(0)===10?fi+="-":fi+="- ",fi+=Ti.dump);Ti.tag=$i,Ti.dump=fi||"[]"}(gi,Vi,gi.dump,vi),Pi&&(gi.dump="&ref_"+Bi+gi.dump)):(function(Ti,ji,Gi){var Yi,Xi,xi="",fi=Ti.tag;for(Yi=0,Xi=Gi.length;Yi<Xi;Yi+=1)di(Ti,ji,Gi[Yi],!1,!1)&&(Yi!==0&&(xi+=","+(Ti.condenseFlow?"":" ")),xi+=Ti.dump);Ti.tag=fi,Ti.dump="["+xi+"]"}(gi,Vi,gi.dump),Pi&&(gi.dump="&ref_"+Bi+" "+gi.dump))}else{if(Di!=="[object String]"){if(gi.skipInvalid)return!1;throw new ze("unacceptable kind of an object to dump "+Di)}gi.tag!=="?"&&ai(gi,gi.dump,_i,Mi)}gi.tag!==null&&gi.tag!=="?"&&(gi.dump="!<"+gi.tag+"> "+gi.dump)}return!0}function pi(gi,_i){var Ai,ki,vi=[],Mi=[];for(function Di(Bi,Pi,Fi){var Vi,Ti,ji;if(Bi!==null&&typeof Bi=="object")if((Ti=Pi.indexOf(Bi))!==-1)Fi.indexOf(Ti)===-1&&Fi.push(Ti);else if(Pi.push(Bi),Array.isArray(Bi))for(Ti=0,ji=Bi.length;Ti<ji;Ti+=1)Di(Bi[Ti],Pi,Fi);else for(Vi=Object.keys(Bi),Ti=0,ji=Vi.length;Ti<ji;Ti+=1)Di(Bi[Vi[Ti]],Pi,Fi)}(gi,vi,Mi),Ai=0,ki=Mi.length;Ai<ki;Ai+=1)_i.duplicates.push(vi[Mi[Ai]]);_i.usedDuplicates=new Array(ki)}function yi(gi,_i){var Ai=new ti(_i=_i||{});return Ai.noRefs||pi(gi,Ai),di(Ai,0,gi,!0,!0)?Ai.dump+`
`:""}t.exports.dump=yi,t.exports.safeDump=function(gi,_i){return yi(gi,je.extend({schema:We},_i))}},function(t,r,Ve){Ve(31),Ve(32),Ve(33),Ve(64),Ve(19),Ve(65),Ve(20),Ve(68),Ve(92),Ve(144),Ve(22),Ve(94),Ve(23);var je,ze=this&&this.__extends||(je=function(si,ai){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ui,hi){ui.__proto__=hi}||function(ui,hi){for(var ci in hi)hi.hasOwnProperty(ci)&&(ui[ci]=hi[ci])})(si,ai)},function(si,ai){function ui(){this.constructor=si}je(si,ai),si.prototype=ai===null?Object.create(ai):(ui.prototype=ai.prototype,new ui)}),Xe=this&&this.__values||function(si){var ai=typeof Symbol=="function"&&Symbol.iterator,ui=ai&&si[ai],hi=0;if(ui)return ui.call(si);if(si&&typeof si.length=="number")return{next:function(){return si&&hi>=si.length&&(si=void 0),{value:si&&si[hi++],done:!si}}};throw new TypeError(ai?"Object is not iterable.":"Symbol.iterator is not defined.")},We=this&&this.__read||function(si,ai){var ui=typeof Symbol=="function"&&si[Symbol.iterator];if(!ui)return si;var hi,ci,mi=ui.call(si),di=[];try{for(;(ai===void 0||ai-- >0)&&!(hi=mi.next()).done;)di.push(hi.value)}catch(pi){ci={error:pi}}finally{try{hi&&!hi.done&&(ui=mi.return)&&ui.call(mi)}finally{if(ci)throw ci.error}}return di};Object.defineProperty(r,"__esModule",{value:!0});var qe=Ve(91),Ke=Ve(2),Ze=Ve(183),Je=Ve(0),Qe=Ve(7),ti=Ve(95),ni=Ve(69),ri=Ve(3),ii=Ve(306),ei=Ve(307),St=Ve(308),oi=function(si){function ai(ui,hi){hi===void 0&&(hi=!1);var ci=si.call(this)||this;return ci._hasDeclaration=!1,ci._docTypeName="",ci._hasDocumentElement=!1,ci._currentElementSerialized=!1,ci._openTags=[],ci._ended=!1,ci._fragment=hi,ci._options=Ke.applyDefaults(ui||{},qe.DefaultXMLBuilderCBOptions),ci._builderOptions={defaultNamespace:ci._options.defaultNamespace,namespaceAlias:ci._options.namespaceAlias},ci._options.format==="json"?ci._writer=new ei.JSONCBWriter(ci._options):ci._options.format==="yaml"?ci._writer=new St.YAMLCBWriter(ci._options):ci._writer=new ii.XMLCBWriter(ci._options),ci._options.data!==void 0&&ci.on("data",ci._options.data),ci._options.end!==void 0&&ci.on("end",ci._options.end),ci._options.error!==void 0&&ci.on("error",ci._options.error),ci._prefixMap=new ti.NamespacePrefixMap,ci._prefixMap.set("xml",Qe.namespace.XML),ci._prefixIndex={value:1},ci._push(ci._writer.frontMatter()),ci}return ze(ai,si),ai.prototype.ele=function(ui,hi,ci){var mi,di;if(Ke.isObject(ui)||Ke.isString(ui)&&(/^\s*</.test(ui)||/^\s*[\{\[]/.test(ui)||/^(\s*|(#.*)|(%.*))*---/.test(ui))){var pi=Ze.fragment().set(this._options);try{pi.ele(ui)}catch(Ai){return this.emit("error",Ai),this}try{for(var yi=Xe(pi.node.childNodes),gi=yi.next();!gi.done;gi=yi.next()){var _i=gi.value;this._fromNode(_i)}}catch(Ai){mi={error:Ai}}finally{try{gi&&!gi.done&&(di=yi.return)&&di.call(yi)}finally{if(mi)throw mi.error}}return this}if(this._serializeOpenTag(!0),!this._fragment&&this._hasDocumentElement&&this._writer.level===0)return this.emit("error",new Error("Document cannot have multiple document element nodes.")),this;try{this._currentElement=Ze.fragment(this._builderOptions).ele(ui,hi,ci)}catch(Ai){return this.emit("error",Ai),this}return this._fragment||this._hasDocumentElement||this._docTypeName===""||this._currentElement.node._qualifiedName===this._docTypeName?(this._currentElementSerialized=!1,this._fragment||(this._hasDocumentElement=!0),this):(this.emit("error",new Error("Document element name does not match DocType declaration name.")),this)},ai.prototype.att=function(ui,hi,ci){if(this._currentElement===void 0)return this.emit("error",new Error("Cannot insert an attribute node as child of a document node.")),this;try{this._currentElement.att(ui,hi,ci)}catch(mi){return this.emit("error",mi),this}return this},ai.prototype.com=function(ui){var hi;this._serializeOpenTag(!0);try{hi=Ze.fragment(this._builderOptions).com(ui).first().node}catch(ci){return this.emit("error",ci),this}return!this._options.wellFormed||Je.xml_isLegalChar(hi.data)&&hi.data.indexOf("--")===-1&&!hi.data.endsWith("-")?(this._push(this._writer.comment(hi.data)),this):(this.emit("error",new Error("Comment data contains invalid characters (well-formed required).")),this)},ai.prototype.txt=function(ui){if(!this._fragment&&this._currentElement===void 0)return this.emit("error",new Error("Cannot insert a text node as child of a document node.")),this;var hi;this._serializeOpenTag(!0);try{hi=Ze.fragment(this._builderOptions).txt(ui).first().node}catch(mi){return this.emit("error",mi),this}if(this._options.wellFormed&&!Je.xml_isLegalChar(hi.data))return this.emit("error",new Error("Text data contains invalid characters (well-formed required).")),this;var ci=hi.data.replace(/(?!&(lt|gt|amp|apos|quot);)&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return this._push(this._writer.text(ci)),this},ai.prototype.ins=function(ui,hi){var ci;hi===void 0&&(hi=""),this._serializeOpenTag(!0);try{ci=Ze.fragment(this._builderOptions).ins(ui,hi).first().node}catch(mi){return this.emit("error",mi),this}return this._options.wellFormed&&(ci.target.indexOf(":")!==-1||/^xml$/i.test(ci.target))?(this.emit("error",new Error("Processing instruction target contains invalid characters (well-formed required).")),this):this._options.wellFormed&&!Je.xml_isLegalChar(ci.data)?(this.emit("error",Error("Processing instruction data contains invalid characters (well-formed required).")),this):(this._push(this._writer.instruction(ci.target,ci.data)),this)},ai.prototype.dat=function(ui){var hi;this._serializeOpenTag(!0);try{hi=Ze.fragment(this._builderOptions).dat(ui).first().node}catch(ci){return this.emit("error",ci),this}return this._push(this._writer.cdata(hi.data)),this},ai.prototype.dec=function(ui){return ui===void 0&&(ui={version:"1.0"}),this._fragment?(this.emit("error",Error("Cannot insert an XML declaration into a document fragment.")),this):this._hasDeclaration?(this.emit("error",Error("XML declaration is already inserted.")),this):(this._push(this._writer.declaration(ui.version||"1.0",ui.encoding,ui.standalone)),this._hasDeclaration=!0,this)},ai.prototype.dtd=function(ui){if(this._fragment)return this.emit("error",Error("Cannot insert a DocType declaration into a document fragment.")),this;if(this._docTypeName!=="")return this.emit("error",new Error("DocType declaration is already inserted.")),this;if(this._hasDocumentElement)return this.emit("error",new Error("Cannot insert DocType declaration after document element.")),this;var hi;try{hi=Ze.create().dtd(ui).first().node}catch(ci){return this.emit("error",ci),this}return this._options.wellFormed&&!Je.xml_isPubidChar(hi.publicId)?(this.emit("error",new Error("DocType public identifier does not match PubidChar construct (well-formed required).")),this):this._options.wellFormed&&(!Je.xml_isLegalChar(hi.systemId)||hi.systemId.indexOf('"')!==-1&&hi.systemId.indexOf("'")!==-1)?(this.emit("error",new Error("DocType system identifier contains invalid characters (well-formed required).")),this):(this._docTypeName=ui.name,this._push(this._writer.docType(ui.name,hi.publicId,hi.systemId)),this)},ai.prototype.import=function(ui){var hi,ci,mi=Ze.fragment().set(this._options);try{mi.import(ui)}catch(gi){return this.emit("error",gi),this}try{for(var di=Xe(mi.node.childNodes),pi=di.next();!pi.done;pi=di.next()){var yi=pi.value;this._fromNode(yi)}}catch(gi){hi={error:gi}}finally{try{pi&&!pi.done&&(ci=di.return)&&ci.call(di)}finally{if(hi)throw hi.error}}return this},ai.prototype.up=function(){return this._serializeOpenTag(!1),this._serializeCloseTag(),this},ai.prototype.end=function(){for(this._serializeOpenTag(!1);this._openTags.length>0;)this._serializeCloseTag();return this._push(null),this},ai.prototype._serializeOpenTag=function(ui){if(!this._currentElementSerialized&&this._currentElement!==void 0){var hi=this._currentElement.node;if(!this._options.wellFormed||hi.localName.indexOf(":")===-1&&Je.xml_isName(hi.localName)){var ci="",mi=!1,di=this._prefixMap.copy(),pi={},yi=this._recordNamespaceInformation(hi,di,pi),gi=this._openTags.length===0?null:this._openTags[this._openTags.length-1][1],_i=hi.namespaceURI;if(_i===null&&(_i=gi),gi===_i)yi!==null&&(mi=!0),ci=_i===Qe.namespace.XML?"xml:"+hi.localName:hi.localName,this._writer.beginElement(ci),this._push(this._writer.openTagBegin(ci));else{var Ai=hi.prefix,ki=null;if(Ai===null&&_i===yi||(ki=di.get(Ai,_i)),Ai==="xmlns"){if(this._options.wellFormed)return void this.emit("error",new Error("An element cannot have the 'xmlns' prefix (well-formed required)."));ki=Ai}ki!==null?(ci=ki+":"+hi.localName,yi!==null&&yi!==Qe.namespace.XML&&(gi=yi||null),this._writer.beginElement(ci),this._push(this._writer.openTagBegin(ci))):Ai!==null?(Ai in pi&&(Ai=this._generatePrefix(_i,di,this._prefixIndex)),di.set(Ai,_i),ci+=Ai+":"+hi.localName,this._writer.beginElement(ci),this._push(this._writer.openTagBegin(ci)),this._push(this._writer.attribute("xmlns:"+Ai,this._serializeAttributeValue(_i,this._options.wellFormed))),yi!==null&&(gi=yi||null)):yi===null||yi!==null&&yi!==_i?(mi=!0,ci+=hi.localName,gi=_i,this._writer.beginElement(ci),this._push(this._writer.openTagBegin(ci)),this._push(this._writer.attribute("xmlns",this._serializeAttributeValue(_i,this._options.wellFormed)))):(ci+=hi.localName,gi=_i,this._writer.beginElement(ci),this._push(this._writer.openTagBegin(ci)))}this._serializeAttributes(hi,di,this._prefixIndex,pi,mi,this._options.wellFormed);var vi=_i===Qe.namespace.HTML;vi&&!ui&&ai._VoidElementNames.has(hi.localName)?(this._push(this._writer.openTagEnd(ci,!0,!0)),this._writer.endElement(ci)):vi||ui?this._push(this._writer.openTagEnd(ci,!1,!1)):(this._push(this._writer.openTagEnd(ci,!0,!1)),this._writer.endElement(ci)),this._currentElementSerialized=!0,this._openTags.push([ci,gi,this._prefixMap,ui]),this._isPrefixMapModified(this._prefixMap,di)&&(this._prefixMap=di),this._writer.level++}else this.emit("error",new Error("Node local name contains invalid characters (well-formed required)."))}},ai.prototype._serializeCloseTag=function(){this._writer.level--;var ui=this._openTags.pop();if(ui!==void 0){var hi=We(ui,4),ci=hi[0],mi=(hi[1],hi[2]),di=hi[3];this._prefixMap=mi,di&&(this._push(this._writer.closeTag(ci)),this._writer.endElement(ci))}else this.emit("error",new Error("Last element is undefined."))},ai.prototype._push=function(ui){ui===null?(this._ended=!0,this.emit("end")):this._ended?this.emit("error",new Error("Cannot push to ended stream.")):ui.length!==0&&(this._writer.hasData=!0,this.emit("data",ui,this._writer.level))},ai.prototype._fromNode=function(ui){var hi,ci,mi,di;if(ri.Guard.isElementNode(ui)){var pi=ui.prefix?ui.prefix+":"+ui.localName:ui.localName;ui.namespaceURI!==null?this.ele(ui.namespaceURI,pi):this.ele(pi);try{for(var yi=Xe(ui.attributes),gi=yi.next();!gi.done;gi=yi.next()){var _i=gi.value,Ai=_i.prefix?_i.prefix+":"+_i.localName:_i.localName;_i.namespaceURI!==null?this.att(_i.namespaceURI,Ai,_i.value):this.att(Ai,_i.value)}}catch(Di){hi={error:Di}}finally{try{gi&&!gi.done&&(ci=yi.return)&&ci.call(yi)}finally{if(hi)throw hi.error}}try{for(var ki=Xe(ui.childNodes),vi=ki.next();!vi.done;vi=ki.next()){var Mi=vi.value;this._fromNode(Mi)}}catch(Di){mi={error:Di}}finally{try{vi&&!vi.done&&(di=ki.return)&&di.call(ki)}finally{if(mi)throw mi.error}}this.up()}else ri.Guard.isExclusiveTextNode(ui)&&ui.data?this.txt(ui.data):ri.Guard.isCommentNode(ui)?this.com(ui.data):ri.Guard.isCDATASectionNode(ui)?this.dat(ui.data):ri.Guard.isProcessingInstructionNode(ui)&&this.ins(ui.target,ui.data)},ai.prototype._serializeAttributes=function(ui,hi,ci,mi,di,pi){var yi,gi,_i=pi?new ni.LocalNameSet:void 0;try{for(var Ai=Xe(ui.attributes),ki=Ai.next();!ki.done;ki=Ai.next()){var vi=ki.value;if(pi||di||vi.namespaceURI!==null){if(pi&&_i&&_i.has(vi.namespaceURI,vi.localName))return void this.emit("error",new Error("Element contains duplicate attributes (well-formed required)."));pi&&_i&&_i.set(vi.namespaceURI,vi.localName);var Mi=vi.namespaceURI,Di=null;if(Mi!==null)if(Di=hi.get(vi.prefix,Mi),Mi===Qe.namespace.XMLNS){if(vi.value===Qe.namespace.XML||vi.prefix===null&&di||vi.prefix!==null&&(!(vi.localName in mi)||mi[vi.localName]!==vi.value)&&hi.has(vi.localName,vi.value))continue;if(pi&&vi.value===Qe.namespace.XMLNS)return void this.emit("error",new Error("XMLNS namespace is reserved (well-formed required)."));if(pi&&vi.value==="")return void this.emit("error",new Error("Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required)."));vi.prefix==="xmlns"&&(Di="xmlns")}else Di===null&&(Di=vi.prefix===null||hi.hasPrefix(vi.prefix)&&!hi.has(vi.prefix,Mi)?this._generatePrefix(Mi,hi,ci):vi.prefix,this._push(this._writer.attribute("xmlns:"+Di,this._serializeAttributeValue(Mi,this._options.wellFormed))));if(pi&&(vi.localName.indexOf(":")!==-1||!Je.xml_isName(vi.localName)||vi.localName==="xmlns"&&Mi===null))return void this.emit("error",new Error("Attribute local name contains invalid characters (well-formed required)."));this._push(this._writer.attribute((Di!==null?Di+":":"")+vi.localName,this._serializeAttributeValue(vi.value,this._options.wellFormed)))}else this._push(this._writer.attribute(vi.localName,this._serializeAttributeValue(vi.value,this._options.wellFormed)))}}catch(Bi){yi={error:Bi}}finally{try{ki&&!ki.done&&(gi=Ai.return)&&gi.call(Ai)}finally{if(yi)throw yi.error}}},ai.prototype._serializeAttributeValue=function(ui,hi){return hi&&ui!==null&&!Je.xml_isLegalChar(ui)?(this.emit("error",new Error("Invalid characters in attribute value.")),""):ui===null?"":ui.replace(/(?!&(lt|gt|amp|apos|quot);)&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},ai.prototype._recordNamespaceInformation=function(ui,hi,ci){var mi,di,pi=null;try{for(var yi=Xe(ui.attributes),gi=yi.next();!gi.done;gi=yi.next()){var _i=gi.value,Ai=_i.namespaceURI,ki=_i.prefix;if(Ai===Qe.namespace.XMLNS){if(ki===null){pi=_i.value;continue}var vi=_i.localName,Mi=_i.value;if(Mi===Qe.namespace.XML||(Mi===""&&(Mi=null),hi.has(vi,Mi)))continue;hi.set(vi,Mi),ci[vi]=Mi||""}}}catch(Di){mi={error:Di}}finally{try{gi&&!gi.done&&(di=yi.return)&&di.call(yi)}finally{if(mi)throw mi.error}}return pi},ai.prototype._generatePrefix=function(ui,hi,ci){var mi="ns"+ci.value;return ci.value++,hi.set(mi,ui),mi},ai.prototype._isPrefixMapModified=function(ui,hi){var ci=ui._items,mi=hi._items,di=ui._nullItems,pi=hi._nullItems;for(var yi in mi){var gi=ci[yi];if(gi===void 0)return!0;var _i=mi[yi];if(gi.length!==_i.length)return!0;for(var Ai=0;Ai<gi.length;Ai++)if(gi[Ai]!==_i[Ai])return!0}if(di.length!==pi.length)return!0;for(Ai=0;Ai<di.length;Ai++)if(di[Ai]!==pi[Ai])return!0;return!1},ai._VoidElementNames=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),ai}(Ve(309).EventEmitter);r.XMLBuilderCBImpl=oi},function(t,r,Ve){Ve(74);var je,ze=this&&this.__extends||(je=function(We,qe){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ke,Ze){Ke.__proto__=Ze}||function(Ke,Ze){for(var Je in Ze)Ze.hasOwnProperty(Je)&&(Ke[Je]=Ze[Je])})(We,qe)},function(We,qe){function Ke(){this.constructor=We}je(We,qe),We.prototype=qe===null?Object.create(qe):(Ke.prototype=qe.prototype,new Ke)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=function(We){function qe(Ke){var Ze=We.call(this,Ke)||this;return Ze._lineLength=0,Ze}return ze(qe,We),qe.prototype.frontMatter=function(){return""},qe.prototype.declaration=function(Ke,Ze,Je){var Qe=this._beginLine()+"<?xml";return Qe+=' version="'+Ke+'"',Ze!==void 0&&(Qe+=' encoding="'+Ze+'"'),Je!==void 0&&(Qe+=' standalone="'+(Je?"yes":"no")+'"'),Qe+="?>"},qe.prototype.docType=function(Ke,Ze,Je){var Qe=this._beginLine();return Qe+=Ze&&Je?"<!DOCTYPE "+Ke+' PUBLIC "'+Ze+'" "'+Je+'">':Ze?"<!DOCTYPE "+Ke+' PUBLIC "'+Ze+'">':Je?"<!DOCTYPE "+Ke+' SYSTEM "'+Je+'">':"<!DOCTYPE "+Ke+">"},qe.prototype.comment=function(Ke){return this._beginLine()+"<!--"+Ke+"-->"},qe.prototype.text=function(Ke){return this._beginLine()+Ke},qe.prototype.instruction=function(Ke,Ze){return Ze?this._beginLine()+"<?"+Ke+" "+Ze+"?>":this._beginLine()+"<?"+Ke+"?>"},qe.prototype.cdata=function(Ke){return this._beginLine()+"<![CDATA["+Ke+"]]>"},qe.prototype.openTagBegin=function(Ke){return this._lineLength+=1+Ke.length,this._beginLine()+"<"+Ke},qe.prototype.openTagEnd=function(Ke,Ze,Je){return Je?" />":Ze?this._writerOptions.allowEmptyTags?"></"+Ke+">":this._writerOptions.spaceBeforeSlash?" />":"/>":">"},qe.prototype.closeTag=function(Ke){return this._beginLine()+"</"+Ke+">"},qe.prototype.attribute=function(Ke,Ze){var Je=Ke+'="'+Ze+'"';return this._writerOptions.prettyPrint&&this._writerOptions.width>0&&this._lineLength+1+Je.length>this._writerOptions.width?(Je=this._beginLine()+this._indent(1)+Je,this._lineLength=Je.length,Je):(this._lineLength+=1+Je.length," "+Je)},qe.prototype.beginElement=function(Ke){},qe.prototype.endElement=function(Ke){},qe.prototype._beginLine=function(){if(this._writerOptions.prettyPrint){var Ke=(this.hasData?this._writerOptions.newline:"")+this._indent(this._writerOptions.offset+this.level);return this._lineLength=Ke.length,Ke}return""},qe.prototype._indent=function(Ke){return Ke<=0?"":this._writerOptions.indent.repeat(Ke)},qe}(Ve(114).BaseCBWriter);r.XMLCBWriter=Xe},function(t,r,Ve){Ve(74);var je,ze=this&&this.__extends||(je=function(We,qe){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ke,Ze){Ke.__proto__=Ze}||function(Ke,Ze){for(var Je in Ze)Ze.hasOwnProperty(Je)&&(Ke[Je]=Ze[Je])})(We,qe)},function(We,qe){function Ke(){this.constructor=We}je(We,qe),We.prototype=qe===null?Object.create(qe):(Ke.prototype=qe.prototype,new Ke)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=function(We){function qe(Ke){var Ze=We.call(this,Ke)||this;return Ze._hasChildren=[],Ze._additionalLevel=0,Ze}return ze(qe,We),qe.prototype.frontMatter=function(){return""},qe.prototype.declaration=function(Ke,Ze,Je){return""},qe.prototype.docType=function(Ke,Ze,Je){return""},qe.prototype.comment=function(Ke){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.comment)+this._sep()+this._val(Ke)+this._sep()+"}"},qe.prototype.text=function(Ke){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.text)+this._sep()+this._val(Ke)+this._sep()+"}"},qe.prototype.instruction=function(Ke,Ze){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.ins)+this._sep()+this._val(Ze?Ke+" "+Ze:Ke)+this._sep()+"}"},qe.prototype.cdata=function(Ke){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.cdata)+this._sep()+this._val(Ke)+this._sep()+"}"},qe.prototype.attribute=function(Ke,Ze){return this._comma()+this._beginLine(1)+"{"+this._sep()+this._key(this._builderOptions.convert.att+Ke)+this._sep()+this._val(Ze)+this._sep()+"}"},qe.prototype.openTagBegin=function(Ke){var Ze=this._comma()+this._beginLine()+"{"+this._sep()+this._key(Ke)+this._sep()+"{";return this._additionalLevel++,this.hasData=!0,Ze+=this._beginLine()+this._key(this._builderOptions.convert.text)+this._sep()+"[",this._hasChildren.push(!1),Ze},qe.prototype.openTagEnd=function(Ke,Ze,Je){if(Ze){var Qe=this._sep()+"]";return this._additionalLevel--,Qe+=this._beginLine()+"}"+this._sep()+"}"}return""},qe.prototype.closeTag=function(Ke){var Ze=this._beginLine()+"]";return this._additionalLevel--,Ze+=this._beginLine()+"}"+this._sep()+"}"},qe.prototype.beginElement=function(Ke){},qe.prototype.endElement=function(Ke){this._hasChildren.pop()},qe.prototype._beginLine=function(Ke){return Ke===void 0&&(Ke=0),this._writerOptions.prettyPrint?(this.hasData?this._writerOptions.newline:"")+this._indent(this._writerOptions.offset+this.level+Ke):""},qe.prototype._indent=function(Ke){return Ke+this._additionalLevel<=0?"":this._writerOptions.indent.repeat(Ke+this._additionalLevel)},qe.prototype._comma=function(){var Ke=this._hasChildren[this._hasChildren.length-1]?",":"";return this._hasChildren.length>0&&(this._hasChildren[this._hasChildren.length-1]=!0),Ke},qe.prototype._sep=function(){return this._writerOptions.prettyPrint?" ":""},qe.prototype._key=function(Ke){return'"'+Ke+'":'},qe.prototype._val=function(Ke){return JSON.stringify(Ke)},qe}(Ve(114).BaseCBWriter);r.JSONCBWriter=Xe},function(t,r,Ve){Ve(74);var je,ze=this&&this.__extends||(je=function(We,qe){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ke,Ze){Ke.__proto__=Ze}||function(Ke,Ze){for(var Je in Ze)Ze.hasOwnProperty(Je)&&(Ke[Je]=Ze[Je])})(We,qe)},function(We,qe){function Ke(){this.constructor=We}je(We,qe),We.prototype=qe===null?Object.create(qe):(Ke.prototype=qe.prototype,new Ke)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=function(We){function qe(Ke){var Ze=We.call(this,Ke)||this;if(Ze._rootWritten=!1,Ze._additionalLevel=0,Ke.indent.length<2)throw new Error("YAML indententation string must be at least two characters long.");if(Ke.offset<0)throw new Error("YAML offset should be zero or a positive number.");return Ze}return ze(qe,We),qe.prototype.frontMatter=function(){return this._beginLine()+"---"},qe.prototype.declaration=function(Ke,Ze,Je){return""},qe.prototype.docType=function(Ke,Ze,Je){return""},qe.prototype.comment=function(Ke){return this._beginLine()+this._key(this._builderOptions.convert.comment)+" "+this._val(Ke)},qe.prototype.text=function(Ke){return this._beginLine()+this._key(this._builderOptions.convert.text)+" "+this._val(Ke)},qe.prototype.instruction=function(Ke,Ze){return this._beginLine()+this._key(this._builderOptions.convert.ins)+" "+this._val(Ze?Ke+" "+Ze:Ke)},qe.prototype.cdata=function(Ke){return this._beginLine()+this._key(this._builderOptions.convert.cdata)+" "+this._val(Ke)},qe.prototype.attribute=function(Ke,Ze){this._additionalLevel++;var Je=this._beginLine()+this._key(this._builderOptions.convert.att+Ke)+" "+this._val(Ze);return this._additionalLevel--,Je},qe.prototype.openTagBegin=function(Ke){var Ze=this._beginLine()+this._key(Ke);return this._rootWritten||(this._rootWritten=!0),this.hasData=!0,this._additionalLevel++,Ze+=this._beginLine(!0)+this._key(this._builderOptions.convert.text)},qe.prototype.openTagEnd=function(Ke,Ze,Je){return Ze?" "+this._val(""):""},qe.prototype.closeTag=function(Ke){return this._additionalLevel--,""},qe.prototype.beginElement=function(Ke){},qe.prototype.endElement=function(Ke){},qe.prototype._beginLine=function(Ke){return Ke===void 0&&(Ke=!1),(this.hasData?this._writerOptions.newline:"")+this._indent(this._writerOptions.offset+this.level,Ke)},qe.prototype._indent=function(Ke,Ze){if(Ke+this._additionalLevel<=0)return"";var Je=this._writerOptions.indent.repeat(Ke+this._additionalLevel);return!Ze&&this._rootWritten?Je.substr(0,Je.length-2)+"-"+Je.substr(-1,1):Je},qe.prototype._key=function(Ke){return'"'+Ke+'":'},qe.prototype._val=function(Ke){return JSON.stringify(Ke)},qe}(Ve(114).BaseCBWriter);r.YAMLCBWriter=Xe},function(t,r,Ve){var je,ze=typeof Reflect=="object"?Reflect:null,Xe=ze&&typeof ze.apply=="function"?ze.apply:function(St,oi,si){return Function.prototype.apply.call(St,oi,si)};je=ze&&typeof ze.ownKeys=="function"?ze.ownKeys:Object.getOwnPropertySymbols?function(St){return Object.getOwnPropertyNames(St).concat(Object.getOwnPropertySymbols(St))}:function(St){return Object.getOwnPropertyNames(St)};var We=Number.isNaN||function(St){return St!=St};function qe(){qe.init.call(this)}t.exports=qe,qe.EventEmitter=qe,qe.prototype._events=void 0,qe.prototype._eventsCount=0,qe.prototype._maxListeners=void 0;var Ke=10;function Ze(St){if(typeof St!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof St)}function Je(St){return St._maxListeners===void 0?qe.defaultMaxListeners:St._maxListeners}function Qe(St,oi,si,ai){var ui,hi,ci,mi;if(Ze(si),(hi=St._events)===void 0?(hi=St._events=Object.create(null),St._eventsCount=0):(hi.newListener!==void 0&&(St.emit("newListener",oi,si.listener?si.listener:si),hi=St._events),ci=hi[oi]),ci===void 0)ci=hi[oi]=si,++St._eventsCount;else if(typeof ci=="function"?ci=hi[oi]=ai?[si,ci]:[ci,si]:ai?ci.unshift(si):ci.push(si),(ui=Je(St))>0&&ci.length>ui&&!ci.warned){ci.warned=!0;var di=new Error("Possible EventEmitter memory leak detected. "+ci.length+" "+String(oi)+" listeners added. Use emitter.setMaxListeners() to increase limit");di.name="MaxListenersExceededWarning",di.emitter=St,di.type=oi,di.count=ci.length,mi=di,console&&console.warn&&console.warn(mi)}return St}function ti(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ni(St,oi,si){var ai={fired:!1,wrapFn:void 0,target:St,type:oi,listener:si},ui=ti.bind(ai);return ui.listener=si,ai.wrapFn=ui,ui}function ri(St,oi,si){var ai=St._events;if(ai===void 0)return[];var ui=ai[oi];return ui===void 0?[]:typeof ui=="function"?si?[ui.listener||ui]:[ui]:si?function(hi){for(var ci=new Array(hi.length),mi=0;mi<ci.length;++mi)ci[mi]=hi[mi].listener||hi[mi];return ci}(ui):ei(ui,ui.length)}function ii(St){var oi=this._events;if(oi!==void 0){var si=oi[St];if(typeof si=="function")return 1;if(si!==void 0)return si.length}return 0}function ei(St,oi){for(var si=new Array(oi),ai=0;ai<oi;++ai)si[ai]=St[ai];return si}Object.defineProperty(qe,"defaultMaxListeners",{enumerable:!0,get:function(){return Ke},set:function(St){if(typeof St!="number"||St<0||We(St))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+St+".");Ke=St}}),qe.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},qe.prototype.setMaxListeners=function(St){if(typeof St!="number"||St<0||We(St))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+St+".");return this._maxListeners=St,this},qe.prototype.getMaxListeners=function(){return Je(this)},qe.prototype.emit=function(St){for(var oi=[],si=1;si<arguments.length;si++)oi.push(arguments[si]);var ai=St==="error",ui=this._events;if(ui!==void 0)ai=ai&&ui.error===void 0;else if(!ai)return!1;if(ai){var hi;if(oi.length>0&&(hi=oi[0]),hi instanceof Error)throw hi;var ci=new Error("Unhandled error."+(hi?" ("+hi.message+")":""));throw ci.context=hi,ci}var mi=ui[St];if(mi===void 0)return!1;if(typeof mi=="function")Xe(mi,this,oi);else{var di=mi.length,pi=ei(mi,di);for(si=0;si<di;++si)Xe(pi[si],this,oi)}return!0},qe.prototype.addListener=function(St,oi){return Qe(this,St,oi,!1)},qe.prototype.on=qe.prototype.addListener,qe.prototype.prependListener=function(St,oi){return Qe(this,St,oi,!0)},qe.prototype.once=function(St,oi){return Ze(oi),this.on(St,ni(this,St,oi)),this},qe.prototype.prependOnceListener=function(St,oi){return Ze(oi),this.prependListener(St,ni(this,St,oi)),this},qe.prototype.removeListener=function(St,oi){var si,ai,ui,hi,ci;if(Ze(oi),(ai=this._events)===void 0)return this;if((si=ai[St])===void 0)return this;if(si===oi||si.listener===oi)--this._eventsCount==0?this._events=Object.create(null):(delete ai[St],ai.removeListener&&this.emit("removeListener",St,si.listener||oi));else if(typeof si!="function"){for(ui=-1,hi=si.length-1;hi>=0;hi--)if(si[hi]===oi||si[hi].listener===oi){ci=si[hi].listener,ui=hi;break}if(ui<0)return this;ui===0?si.shift():function(mi,di){for(;di+1<mi.length;di++)mi[di]=mi[di+1];mi.pop()}(si,ui),si.length===1&&(ai[St]=si[0]),ai.removeListener!==void 0&&this.emit("removeListener",St,ci||oi)}return this},qe.prototype.off=qe.prototype.removeListener,qe.prototype.removeAllListeners=function(St){var oi,si,ai;if((si=this._events)===void 0)return this;if(si.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):si[St]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete si[St]),this;if(arguments.length===0){var ui,hi=Object.keys(si);for(ai=0;ai<hi.length;++ai)(ui=hi[ai])!=="removeListener"&&this.removeAllListeners(ui);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(oi=si[St])=="function")this.removeListener(St,oi);else if(oi!==void 0)for(ai=oi.length-1;ai>=0;ai--)this.removeListener(St,oi[ai]);return this},qe.prototype.listeners=function(St){return ri(this,St,!0)},qe.prototype.rawListeners=function(St){return ri(this,St,!1)},qe.listenerCount=function(St,oi){return typeof St.listenerCount=="function"?St.listenerCount(oi):ii.call(St,oi)},qe.prototype.listenerCount=ii,qe.prototype.eventNames=function(){return this._eventsCount>0?je(this._events):[]}},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(77);r.createCB=function(ze){return new je.XMLBuilderCBImpl(ze)},r.fragmentCB=function(ze){return new je.XMLBuilderCBImpl(ze,!0)}}])})})(xmlbuilder2_min$1);let FractionHelper$1=class{static convertToFractionString(e,t=1,r,Ve=1e-6,je){if(Math.abs(e)<Ve)return"0";e/=t;for(let ze=1;ze<=64;ze++){const Xe=e*ze,We=Math.round(Xe);if(Math.abs(Xe-We)<Ve){const qe=!r||We!=1?We.toString():"";return ze==1?`${qe}${r}`:`${qe}${r}/${ze}`}}return je?je(e)+(r||""):`${e.toString()}${r||""}`}},StringHelper$1=class{static splitLines(e){return e.split(/\r?\n/)}},PlotModelUtilities$1=class{static isReversible(e){if(e.axes.length===0&&e.series.length===0)return!1;for(const t of e.axes){if(t.position===AxisPosition$1.None)return!1;const r=t.__isReversible;if(r!==void 0&&!r)return!1}for(const t of e.series){const r=t.constructor.name;if(!(t instanceof XYAxisSeries$1)||this.NonReversibleSeriesTypes.has(r))return!1}for(const t of e.annotations){const r=t.constructor.name;if(this.NonReversibleDataSpaceAnnotationTypes.has(r))return!1}return!0}static isTransposable(e){if(e.axes.length===0&&e.series.length===0)return!1;for(const t of e.axes)if(t.position===AxisPosition$1.None)return!1;for(const t of e.series){const r=t.constructor.name;if(!isTransposablePlotElement$1(t)||this.NonTransposableSeriesTypes.has(r))return!1}for(const t of e.annotations){const r=t.constructor.name;if(!isTransposablePlotElement$1(t)||this.NonTransposableDataSpaceAnnotationTypes.has(r))return!1}return!0}static reverseXAxis(e){e.title&&(e.title+=" (reversed X Axis)");let t=!1;for(const r of e.axes)r.position===AxisPosition$1.Bottom&&(r.startPosition=1-r.startPosition,r.endPosition=1-r.endPosition,t=!0);return t||e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,startPosition:1,endPosition:0})),e}static reverseYAxis(e){e.title&&(e.title+=" (reversed Y Axis)");let t=!1;for(const r of e.axes)r.position===AxisPosition$1.Left&&(r.startPosition=1-r.startPosition,r.endPosition=1-r.endPosition,t=!0);return t||e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,startPosition:1,endPosition:0})),e}static reverseAllAxes(e){e.title&&(e.title+=" (reversed all Axes)"),e.update(!1);for(const t of e.axes)(t.position===AxisPosition$1.Left||t.position===AxisPosition$1.Bottom||t.position===AxisPosition$1.Right||t.position===AxisPosition$1.Top)&&(t.startPosition=1-t.startPosition,t.endPosition=1-t.endPosition);return e}static transpose(e){e.title&&(e.title+=" (transposed)"),e.update(!1);for(const t of e.axes)switch(t.position){case AxisPosition$1.Bottom:t.position=AxisPosition$1.Left;break;case AxisPosition$1.Left:t.position=AxisPosition$1.Bottom;break;case AxisPosition$1.Right:t.position=AxisPosition$1.Top;break;case AxisPosition$1.Top:t.position=AxisPosition$1.Right;break;case AxisPosition$1.None:break;default:throw new Error("Invalid axis position")}for(const t of e.annotations)t.xAxis&&!t.xAxisKey&&(t.xAxis.key||(t.xAxis.key=this.XAXIS_KEY),t.xAxisKey=t.xAxis.key),t.yAxis&&!t.yAxisKey&&(t.yAxis.key||(t.yAxis.key=this.YAXIS_KEY),t.yAxisKey=t.yAxis.key);for(const t of e.series)t instanceof XYAxisSeries$1&&(t.xAxisKey||(t.xAxis?(t.xAxis.key||(t.xAxis.key=this.XAXIS_KEY),t.xAxisKey=t.xAxis.key):t.xAxisKey=this.XAXIS_KEY),t.yAxisKey||(t.yAxis?(t.yAxis.key||(t.yAxis.key=this.YAXIS_KEY),t.yAxisKey=t.yAxis.key):t.yAxisKey=this.YAXIS_KEY));return e}};D$2(PlotModelUtilities$1,"XAXIS_KEY","x"),D$2(PlotModelUtilities$1,"YAXIS_KEY","y"),D$2(PlotModelUtilities$1,"NonReversibleSeriesTypes",new Set),D$2(PlotModelUtilities$1,"NonReversibleDataSpaceAnnotationTypes",new Set([])),D$2(PlotModelUtilities$1,"NonTransposableSeriesTypes",new Set(["CandleStickAndVolumeSeries","OldCandleStickSeries"])),D$2(PlotModelUtilities$1,"NonTransposableDataSpaceAnnotationTypes",new Set);let ArrayBuilder$1=class{static createVector(e,t,r){if(r.toFixed(0)!==r.toString())throw new Error("use createVectorWithStep instead");const Ve=[];for(let je=0;je<r;je++)Ve[je]=Number((e+(t-e)*je/(r-1)).toFixed(8));return Ve}static createVectorWithStep(e,t,r){const Ve=Math.round((t-e)/r),je=[];for(let ze=0;ze<=Ve;ze++)je[ze]=Number((e+ze*r).toFixed(8));return je}static evaluate(e,t,r){const Ve=t.length,je=r.length,ze=[];for(let Xe=0;Xe<Ve;Xe++){ze[Xe]=[];for(let We=0;We<je;We++)ze[Xe][We]=e(t[Xe],r[We])}return ze}static fill(e,t){for(let r=0;r<e.length;r++)e[r]=t}static fill2D(e,t){for(let r=0;r<e.length;r++)for(let Ve=0;Ve<e[r].length;Ve++)e[r][Ve]=t}},TrackerHelper$1=class{static getNearestHit(e,t,r,Ve,je,ze){if(e){if(r||Ve){const Xe=e.getNearestPoint(t,!1);if(this.shouldTrackerOpen(Xe,t,je))return Xe}if(!Ve){const Xe=e.getNearestPoint(t,!0);if(!ze||this.shouldTrackerOpen(Xe,t,je))return Xe}}}static shouldTrackerOpen(e,t,r){return e!=null&&e.position?screenPointDistanceTo$1(e.position,t)<r:!1}},Conrec$1=class{static contour(e,t,r,Ve,je){let ze=0,Xe=0,We=0,qe=0;const Ke=new Array(5),Ze=new Array(5),Je=new Array(5),Qe=new Array(5),ti=0,ni=e.length-1,ri=0,ii=e[0].length-1,ei=Ve.length,St=[0,1,1,0],oi=[0,0,1,1],si=[[[0,0,8],[0,2,5],[7,6,9]],[[0,3,4],[1,3,1],[4,3,0]],[[9,6,7],[5,2,0],[8,0,0]]],ai=(hi,ci)=>(Ke[ci]*Je[hi]-Ke[hi]*Je[ci])/(Ke[ci]-Ke[hi]),ui=(hi,ci)=>(Ke[ci]*Qe[hi]-Ke[hi]*Qe[ci])/(Ke[ci]-Ke[hi]);for(let hi=ii-1;hi>=ri;hi--)for(let ci=ti;ci<=ni-1;ci++){const mi=Math.min(e[ci][hi],e[ci][hi+1]),di=Math.min(e[ci+1][hi],e[ci+1][hi+1]),pi=Math.min(mi,di),yi=Math.max(e[ci][hi],e[ci][hi+1]),gi=Math.max(e[ci+1][hi],e[ci+1][hi+1]),_i=Math.max(yi,gi);if(_i>=Ve[0]&&pi<=Ve[ei-1]){for(let Ai=0;Ai<ei;Ai++)if(Ve[Ai]>=pi&&Ve[Ai]<=_i){for(let ki=4;ki>=0;ki--)ki>0?(Ke[ki]=e[ci+St[ki-1]][hi+oi[ki-1]]-Ve[Ai],Je[ki]=t[ci+St[ki-1]],Qe[ki]=r[hi+oi[ki-1]]):(Ke[0]=.25*(Ke[1]+Ke[2]+Ke[3]+Ke[4]),Je[0]=.5*(t[ci]+t[ci+1]),Qe[0]=.5*(r[hi]+r[hi+1])),Ke[ki]>0?Ze[ki]=1:Ke[ki]<0?Ze[ki]=-1:Ze[ki]=0;for(let ki=1;ki<=4;ki++){const vi=ki,Mi=0,Di=ki!==4?ki+1:1,Bi=si[Ze[vi]+1][Ze[Mi]+1][Ze[Di]+1];if(Bi!==0){switch(Bi){case 1:ze=Je[vi],We=Qe[vi],Xe=Je[Mi],qe=Qe[Mi];break;case 2:ze=Je[Mi],We=Qe[Mi],Xe=Je[Di],qe=Qe[Di];break;case 3:ze=Je[Di],We=Qe[Di],Xe=Je[vi],qe=Qe[vi];break;case 4:ze=Je[vi],We=Qe[vi],Xe=ai(Mi,Di),qe=ui(Mi,Di);break;case 5:ze=Je[Mi],We=Qe[Mi],Xe=ai(Di,vi),qe=ui(Di,vi);break;case 6:ze=Je[Di],We=Qe[Di],Xe=ai(vi,Mi),qe=ui(vi,Mi);break;case 7:ze=ai(vi,Mi),We=ui(vi,Mi),Xe=ai(Mi,Di),qe=ui(Mi,Di);break;case 8:ze=ai(Mi,Di),We=ui(Mi,Di),Xe=ai(Di,vi),qe=ui(Di,vi);break;case 9:ze=ai(Di,vi),We=ui(Di,vi),Xe=ai(vi,Mi),qe=ui(vi,Mi);break}je(ze,We,Xe,qe,Ve[Ai])}}}}}}};var BinningOutlierMode=($e=>($e[$e.RejectOutliers=0]="RejectOutliers",$e[$e.IgnoreOutliers=1]="IgnoreOutliers",$e[$e.CountOutliers=2]="CountOutliers",$e))(BinningOutlierMode||{}),BinningIntervalType=($e=>($e[$e.InclusiveLowerBound=0]="InclusiveLowerBound",$e[$e.InclusiveUpperBound=1]="InclusiveUpperBound",$e))(BinningIntervalType||{}),BinningExtremeValueMode=($e=>($e[$e.ExcludeExtremeValues=0]="ExcludeExtremeValues",$e[$e.IncludeExtremeValues=1]="IncludeExtremeValues",$e))(BinningExtremeValueMode||{});class BinningOptions{constructor(e,t,r){if(this.outlierMode=e,this.intervalType=t,this.extremeValuesMode=r,e!==0&&e!==2&&e!==1)throw new Error("Unsupported binning outlier mode");if(t!==0&&t!==1)throw new Error("Unsupported bin interval type");if(r!==0&&r!==1)throw new Error("Unsupported bin interval type")}}class HistogramHelpers{static createUniformBins(e,t,r){if(r<1)throw new Error("The bin count must be positive.");if(isNaN(e)||!isFinite(e))throw new Error("The start may not be NaN or infinite.");if(isNaN(t)||!isFinite(t))throw new Error("The start may not be NaN or infinite.");if(t<=e)throw new Error("The end must be strictly greater than the start.");const Ve=[];Ve.push(e);for(let je=1;je<r;je++)Ve.push(e+(t-e)*je/r);return Ve.push(t),Ve}static collect(e,t,r){if(!e)throw new Error("Samples cannot be undefined.");if(!t)throw new Error("Bin breaks cannot be undefined.");if(!r)throw new Error("Binning options cannot be undefined.");const Ve=Array.from(new Set(t)).sort((qe,Ke)=>qe-Ke);if(Ve.length<2)throw new Error("At least 2 distinct bin breaks must be provided.");if(Ve.some(qe=>isNaN(qe)||!isFinite(qe)))throw new Error("Bin breaks may not be NaN or infinite.");const je=new Array(Ve.length-1).fill(0);let ze=0;function Xe(qe,Ke){return qe-Ke}for(const qe of e){if(isNaN(qe)||!isFinite(qe))throw new Error("Samples may not be NaN or infinite.");let Ke=HistogramHelpers.binarySearch(Ve,qe,Xe),Ze=!1;if(Ke>=0?r.intervalType===BinningIntervalType.InclusiveUpperBound?Ke>0?(je[Ke-1]+=1,Ze=!0):r.extremeValuesMode===BinningExtremeValueMode.IncludeExtremeValues&&(je[Ke]+=1,Ze=!0):Ke<je.length?(je[Ke]+=1,Ze=!0):r.extremeValuesMode===BinningExtremeValueMode.IncludeExtremeValues&&(je[Ke-1]+=1,Ze=!0):(Ke=~Ke-1,Ke>=0&&Ke<je.length&&(je[Ke]+=1,Ze=!0)),Ze)ze++;else switch(r.outlierMode){case BinningOutlierMode.RejectOutliers:throw new Error(`Sample with value ${qe} could not be assigned to any bin.`);case BinningOutlierMode.IgnoreOutliers:break;case BinningOutlierMode.CountOutliers:ze++;break}}ze===0&&(ze=1);const We=[];for(let qe=0;qe<Ve.length-1;qe++){const Ke=je[qe];We.push(new HistogramItem$1(Ve[qe],Ve[qe+1],Ke/ze,Ke))}return We}static binarySearch(e,t,r){let Ve=0,je=e.length-1;for(;Ve<=je;){const ze=je+Ve>>1,Xe=r(t,e[ze]);if(Xe>0)Ve=ze+1;else if(Xe<0)je=ze-1;else return ze}return-Ve-1}}function toolTips$1(){const $e=new PlotModel({title:"Tool tips"});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left})),$e.annotations.push(new LineAnnotation({slope:.1,intercept:1,text:"LineAnnotation",toolTip:"This is a tool tip for the LineAnnotation"})),$e.annotations.push(new RectangleAnnotation({minimumX:20,maximumX:70,minimumY:10,maximumY:40,textRotation:10,text:"RectangleAnnotation",toolTip:"This is a tooltip for the RectangleAnnotation",fill:OxyColor$1.fromAColor(99,OxyColors$1.Blue),stroke:OxyColors$1.Black,strokeThickness:2})),$e.annotations.push(new EllipseAnnotation({x:20,y:60,width:20,height:15,text:"EllipseAnnotation",toolTip:"This is a tool tip for the EllipseAnnotation",textRotation:10,fill:OxyColor$1.fromAColor(99,OxyColors$1.Green),stroke:OxyColors$1.Black,strokeThickness:2})),$e.annotations.push(new PointAnnotation({x:50,y:50,text:"P1",toolTip:"This is a tool tip for the PointAnnotation"})),$e.annotations.push(new ArrowAnnotation({startPoint:newDataPoint$1(8,4),endPoint:newDataPoint$1(0,0),color:OxyColors$1.Green,text:"ArrowAnnotation",toolTip:"This is a tool tip for the ArrowAnnotation"})),$e.annotations.push(new TextAnnotation({textPosition:newDataPoint$1(60,60),text:"TextAnnotation",toolTip:"This is a tool tip for the TextAnnotation"})),$e}const category$10="Annotations",AnnotationExamples={category:category$10,tags:["Annotations"],examples:[{title:"Tool tips",example:{model:toolTips$1}}]};function arrowAnnotation$1(){const $e=new PlotModel;return $e.title="ArrowAnnotations",$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimum:-40,maximum:60})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:-10,maximum:10})),$e.annotations.push(new ArrowAnnotation({startPoint:newDataPoint$1(8,4),endPoint:newDataPoint$1(0,0),color:OxyColors$1.Green,text:"StartPoint and EndPoint"})),$e.annotations.push(new ArrowAnnotation({arrowDirection:new ScreenVector$1(30,70),endPoint:newDataPoint$1(40,-3),color:OxyColors$1.Blue,text:"ArrowDirection and EndPoint"})),$e.annotations.push(new ArrowAnnotation({arrowDirection:new ScreenVector$1(30,-70),endPoint:newDataPoint$1(10,-3),headLength:14,headWidth:6,veeness:4,color:OxyColors$1.Red,text:"HeadLength = 20, HeadWidth = 10, Veeness = 4"})),$e}const category$$="ArrowAnnotation",ArrowAnnotationExamples={category:category$$,tags:["Annotations"],examples:[{title:"ArrowAnnotation",example:{model:arrowAnnotation$1}}]};function ellipseAnnotation(){const $e=new PlotModel({title:"EllipseAnnotation"});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left})),$e.annotations.push(new EllipseAnnotation({x:20,y:60,width:20,height:15,text:"EllipseAnnotation",textRotation:10,fill:OxyColor$1.fromAColor(99,OxyColors$1.Green),stroke:OxyColors$1.Black,strokeThickness:2})),$e.annotations.push(new EllipseAnnotation({x:20,y:20,width:20,height:20,fill:OxyColor$1.fromAColor(99,OxyColors$1.Green),stroke:OxyColors$1.Black,strokeThickness:2})),$e.annotations.push(new EllipseAnnotation({x:30,y:20,width:20,height:20,fill:OxyColor$1.fromAColor(99,OxyColors$1.Red),stroke:OxyColors$1.Black,strokeThickness:2})),$e.annotations.push(new EllipseAnnotation({x:25,y:30,width:20,height:20,fill:OxyColor$1.fromAColor(99,OxyColors$1.Blue),stroke:OxyColors$1.Black,strokeThickness:2})),$e}const category$_="EllipseAnnotation",EllipseAnnotationExamples={category:category$_,tags:["Annotations"],examples:[{title:"EllipseAnnotation",example:{model:ellipseAnnotation}}]};function annotation(){const $e=new PlotModel;return $e.title="FunctionAnnotation",$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimum:-20,maximum:80})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:-10,maximum:10})),$e.annotations.push(new FunctionAnnotation({equation:Math.sin,strokeThickness:2,color:OxyColor$1.fromAColor(120,OxyColors$1.Blue),text:"f(x)=sin(x)"})),$e.annotations.push(new FunctionAnnotation({equation:e=>e*e,strokeThickness:2,color:OxyColor$1.fromAColor(120,OxyColors$1.Red),type:FunctionAnnotationType.EquationY,text:"f(y)=y^2"})),$e}const category$Z="FunctionAnnotation",FunctionAnnotationExamples={category:category$Z,tags:["Annotations"],examples:[{title:"FunctionAnnotation",example:{model:annotation}}]};async function imageAnnotation$1(){const $e=window.oxyPlotImg;if(!$e)throw new Error("window.oxyPlotImg not set");const e=new PlotModel({title:"ImageAnnotation",plotMargins:new OxyThickness$1(60,4,4,60)});e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left}));const r=await getImageService$1().load($e);e.annotations.push(new ImageAnnotation({imageSource:r,opacity:.2,interpolate:!1,x:new PlotLength(.5,PlotLengthUnit.RelativeToPlotArea),y:new PlotLength(.5,PlotLengthUnit.RelativeToPlotArea),width:new PlotLength(1,PlotLengthUnit.RelativeToPlotArea),horizontalAlignment:HorizontalAlignment$1.Center,verticalAlignment:VerticalAlignment$1.Middle})),e.annotations.push(new ImageAnnotation({imageSource:r,x:new PlotLength(1,PlotLengthUnit.RelativeToPlotArea),y:new PlotLength(0,PlotLengthUnit.RelativeToPlotArea),width:new PlotLength(120,PlotLengthUnit.ScreenUnits),horizontalAlignment:HorizontalAlignment$1.Right,verticalAlignment:VerticalAlignment$1.Top})),e.annotations.push(new ImageAnnotation({imageSource:r,x:new PlotLength(0,PlotLengthUnit.RelativeToPlotArea),y:new PlotLength(0,PlotLengthUnit.RelativeToPlotArea),offsetY:new PlotLength(-5,PlotLengthUnit.ScreenUnits),height:new PlotLength(20,PlotLengthUnit.ScreenUnits),horizontalAlignment:HorizontalAlignment$1.Left,verticalAlignment:VerticalAlignment$1.Bottom})),e.annotations.push(new ImageAnnotation({imageSource:r,x:new PlotLength(50,PlotLengthUnit.Data),y:new PlotLength(50,PlotLengthUnit.Data),width:new PlotLength(200,PlotLengthUnit.ScreenUnits),horizontalAlignment:HorizontalAlignment$1.Left,verticalAlignment:VerticalAlignment$1.Top})),e.annotations.push(new ImageAnnotation({imageSource:r,x:new PlotLength(50,PlotLengthUnit.Data),y:new PlotLength(20,PlotLengthUnit.Data),width:new PlotLength(50,PlotLengthUnit.Data),horizontalAlignment:HorizontalAlignment$1.Center,verticalAlignment:VerticalAlignment$1.Top})),e.annotations.push(new ImageAnnotation({imageSource:r,x:new PlotLength(.5,PlotLengthUnit.RelativeToViewport),y:new PlotLength(1,PlotLengthUnit.RelativeToViewport),offsetY:new PlotLength(-35,PlotLengthUnit.ScreenUnits),height:new PlotLength(30,PlotLengthUnit.ScreenUnits),horizontalAlignment:HorizontalAlignment$1.Center,verticalAlignment:VerticalAlignment$1.Top}));for(let Ve=0;Ve<10;Ve++)e.annotations.push(new ImageAnnotation({imageSource:r,opacity:(Ve+1)/10,x:new PlotLength(10,PlotLengthUnit.Data),y:new PlotLength(Ve*2,PlotLengthUnit.Data),width:new PlotLength(100,PlotLengthUnit.ScreenUnits),horizontalAlignment:HorizontalAlignment$1.Center,verticalAlignment:VerticalAlignment$1.Bottom}));return e}async function imageAnnotationAsBackgroundGradient(){const $e=new PlotModel({title:"Using ImageAnnotations to draw a gradient backgrounds",subtitle:"But do you really want this? This is called 'chartjunk'!",plotMargins:new OxyThickness$1(60,4,4,60)});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left}));const e=256,t=new TwoDimensionalArray$1(1,e);for(let ze=0;ze<e;ze++)t.set(0,ze,OxyColor$1.interpolate(OxyColors$1.Blue,OxyColors$1.Red,ze/(e-1)));const r=await OxyImage$1.create(t,ImageFormat$1.Png),Ve=TwoDimensionalArray$1.fromArray([[OxyColors$1.Yellow],[OxyColors$1.Gray]]),je=await OxyImage$1.create(Ve,ImageFormat$1.Png);return $e.annotations.push(new ImageAnnotation({imageSource:je,interpolate:!0,layer:AnnotationLayer.BelowAxes,x:new PlotLength(0,PlotLengthUnit.RelativeToViewport),y:new PlotLength(0,PlotLengthUnit.RelativeToViewport),width:new PlotLength(1,PlotLengthUnit.RelativeToViewport),height:new PlotLength(1,PlotLengthUnit.RelativeToViewport),horizontalAlignment:HorizontalAlignment$1.Left,verticalAlignment:VerticalAlignment$1.Top})),$e.annotations.push(new ImageAnnotation({imageSource:r,interpolate:!0,layer:AnnotationLayer.BelowAxes,x:new PlotLength(0,PlotLengthUnit.RelativeToPlotArea),y:new PlotLength(0,PlotLengthUnit.RelativeToPlotArea),width:new PlotLength(1,PlotLengthUnit.RelativeToPlotArea),height:new PlotLength(1,PlotLengthUnit.RelativeToPlotArea),horizontalAlignment:HorizontalAlignment$1.Left,verticalAlignment:VerticalAlignment$1.Top})),$e.series.push(new FunctionSeries({f:Math.sin,x0:0,x1:7,dx:.01})),$e}const fourColorPixels=TwoDimensionalArray$1.fromArray([[OxyColors$1.Blue,OxyColors$1.Yellow],[OxyColors$1.Green,OxyColors$1.Red]]);async function imageAnnotation_NormalAxes(){const $e=new PlotModel({title:"ImageAnnotation - normal axes"});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left}));const e=fourColorPixels,t=await OxyImage$1.create(e,ImageFormat$1.Png);return $e.annotations.push(new ImageAnnotation({imageSource:t,interpolate:!1,x:new PlotLength(0,PlotLengthUnit.Data),y:new PlotLength(0,PlotLengthUnit.Data),width:new PlotLength(80,PlotLengthUnit.Data),height:new PlotLength(50,PlotLengthUnit.Data),horizontalAlignment:HorizontalAlignment$1.Left,verticalAlignment:VerticalAlignment$1.Bottom})),$e}async function imageAnnotation_ReverseHorizontalAxis(){const $e=new PlotModel({title:"ImageAnnotation - reverse horizontal axis"});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,startPosition:1,endPosition:0})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left}));const e=fourColorPixels,t=await OxyImage$1.create(e,ImageFormat$1.Png);return $e.annotations.push(new ImageAnnotation({imageSource:t,interpolate:!1,x:new PlotLength(100,PlotLengthUnit.Data),y:new PlotLength(0,PlotLengthUnit.Data),width:new PlotLength(80,PlotLengthUnit.Data),height:new PlotLength(50,PlotLengthUnit.Data),horizontalAlignment:HorizontalAlignment$1.Left,verticalAlignment:VerticalAlignment$1.Bottom})),$e}async function imageAnnotation_ReverseVerticalAxis(){const $e=new PlotModel({title:"ImageAnnotation - reverse vertical axis"});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,startPosition:1,endPosition:0}));const e=fourColorPixels,t=await OxyImage$1.create(e,ImageFormat$1.Png);return $e.annotations.push(new ImageAnnotation({imageSource:t,interpolate:!1,x:new PlotLength(0,PlotLengthUnit.Data),y:new PlotLength(100,PlotLengthUnit.Data),width:new PlotLength(80,PlotLengthUnit.Data),height:new PlotLength(50,PlotLengthUnit.Data),horizontalAlignment:HorizontalAlignment$1.Left,verticalAlignment:VerticalAlignment$1.Bottom})),$e}const category$Y="ImageAnnotation",ImageAnnotationExamples={category:category$Y,tags:["Annotations"],examples:[{title:"ImageAnnotation",example:{model:imageAnnotation$1}},{title:"ImageAnnotation - gradient backgrounds",example:{model:imageAnnotationAsBackgroundGradient}},{title:"ImageAnnotation - normal axes",example:{model:imageAnnotation_NormalAxes}},{title:"ImageAnnotation - reverse horizontal axis",example:{model:imageAnnotation_ReverseHorizontalAxis}},{title:"ImageAnnotation - reverse vertical axis",example:{model:imageAnnotation_ReverseVerticalAxis}}]};function lineAnnotationOnLinearAxes(){const $e=new PlotModel;$e.title="LineAnnotation on linear axes",$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimum:-20,maximum:80})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:-10,maximum:10}));const e=OxyColorExtensions$1.changeOpacity(OxyColors$1.White,.75);return $e.annotations.push(new LineAnnotation({slope:.1,intercept:1,text:"First",borderBackground:e,borderPadding:new OxyThickness$1(5)})),$e.annotations.push(new LineAnnotation({slope:.3,intercept:2,maximumX:40,color:OxyColors$1.Red,text:"Second",borderBackground:e,borderPadding:new OxyThickness$1(5)})),$e.annotations.push(new LineAnnotation({type:LineAnnotationType.Vertical,x:4,maximumY:10,color:OxyColors$1.Green,text:"Vertical",borderBackground:e,borderPadding:new OxyThickness$1(5)})),$e.annotations.push(new LineAnnotation({type:LineAnnotationType.Horizontal,y:2,maximumX:4,color:OxyColors$1.Gold,text:"Horizontal",borderBackground:e,borderPadding:new OxyThickness$1(5)})),$e}function lineAnnotationOnLogarithmicAxes(){const $e=new PlotModel;return $e.title="LineAnnotation on logarithmic axes",$e.axes.push(new LogarithmicAxis({position:AxisPosition$1.Bottom,minimum:1,maximum:80})),$e.axes.push(new LogarithmicAxis({position:AxisPosition$1.Left,minimum:1,maximum:10})),$e.annotations.push(new LineAnnotation({slope:.1,intercept:1,text:"First",textMargin:40})),$e.annotations.push(new LineAnnotation({slope:.3,intercept:2,maximumX:40,color:OxyColors$1.Red,text:"Second"})),$e.annotations.push(new LineAnnotation({type:LineAnnotationType.Vertical,x:4,maximumY:10,color:OxyColors$1.Green,text:"Vertical"})),$e.annotations.push(new LineAnnotation({type:LineAnnotationType.Horizontal,y:2,maximumX:4,color:OxyColors$1.Gold,text:"Horizontal"})),$e}function lineAnnotationOnLinearAxesWithTextOrientation(){const $e=new PlotModel;return $e.title="LineAnnotations",$e.subtitle="with TextOrientation specified",$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimum:-20,maximum:80})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:-10,maximum:10})),$e.annotations.push(new LineAnnotation({slope:.1,intercept:1,text:"Horizontal",textOrientation:AnnotationTextOrientation.Horizontal,textVerticalAlignment:VerticalAlignment$1.Bottom})),$e.annotations.push(new LineAnnotation({slope:.3,intercept:2,maximumX:40,color:OxyColors$1.Red,text:"Vertical",textOrientation:AnnotationTextOrientation.Vertical})),$e.annotations.push(new LineAnnotation({type:LineAnnotationType.Vertical,x:4,maximumY:10,color:OxyColors$1.Green,text:"Horizontal (x=4)",textPadding:8,textOrientation:AnnotationTextOrientation.Horizontal})),$e.annotations.push(new LineAnnotation({type:LineAnnotationType.Vertical,x:45,maximumY:10,color:OxyColors$1.Green,text:"Horizontal (x=45)",textHorizontalAlignment:HorizontalAlignment$1.Left,textPadding:8,textOrientation:AnnotationTextOrientation.Horizontal})),$e.annotations.push(new LineAnnotation({type:LineAnnotationType.Horizontal,y:2,maximumX:4,color:OxyColors$1.Gold,text:"Horizontal",textLinePosition:.5,textOrientation:AnnotationTextOrientation.Horizontal})),$e}function linearAxesMultipleAxes(){const $e=new PlotModel;return $e.title="ClipByAxis property",$e.subtitle="This property specifies if the annotation should be clipped by the current axes or by the full plot area.",$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimum:-20,maximum:80,startPosition:0,endPosition:.45,textColor:OxyColors$1.Red})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:-10,maximum:10,startPosition:0,endPosition:.45,textColor:OxyColors$1.Green})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimum:-20,maximum:80,startPosition:.55,endPosition:1,textColor:OxyColors$1.Blue})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:-10,maximum:10,startPosition:.55,endPosition:1,textColor:OxyColors$1.Orange})),$e.annotations.push(new LineAnnotation({clipByYAxis:!0,type:LineAnnotationType.Vertical,x:0,color:OxyColors$1.Green,text:"Vertical, ClipByAxis = true"})),$e.annotations.push(new LineAnnotation({clipByYAxis:!1,type:LineAnnotationType.Vertical,x:20,color:OxyColors$1.Green,text:"Vertical, ClipByAxis = false"})),$e.annotations.push(new LineAnnotation({clipByXAxis:!0,type:LineAnnotationType.Horizontal,y:2,color:OxyColors$1.Gold,text:"Horizontal, ClipByAxis = true"})),$e.annotations.push(new LineAnnotation({clipByXAxis:!1,type:LineAnnotationType.Horizontal,y:8,color:OxyColors$1.Gold,text:"Horizontal, ClipByAxis = false"})),$e}function reversedAxes(){const $e=new PlotModel;return $e.title="LineAnnotation on reversed axes",$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimum:-20,maximum:80,startPosition:1,endPosition:0})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:-10,maximum:10,startPosition:1,endPosition:0})),$e.annotations.push(new LineAnnotation({slope:.1,intercept:1,text:"First",textHorizontalAlignment:HorizontalAlignment$1.Left})),$e.annotations.push(new LineAnnotation({slope:.3,intercept:2,maximumX:40,color:OxyColors$1.Red,text:"Second",textHorizontalAlignment:HorizontalAlignment$1.Left,textVerticalAlignment:VerticalAlignment$1.Bottom})),$e.annotations.push(new LineAnnotation({type:LineAnnotationType.Vertical,x:4,maximumY:10,color:OxyColors$1.Green,text:"Vertical",textHorizontalAlignment:HorizontalAlignment$1.Right})),$e.annotations.push(new LineAnnotation({type:LineAnnotationType.Horizontal,y:2,maximumX:4,color:OxyColors$1.Gold,text:"Horizontal",textHorizontalAlignment:HorizontalAlignment$1.Left})),$e}const category$X="LineAnnotation",LineAnnotationExamples={category:category$X,tags:["Annotations"],examples:[{title:"LineAnnotation on linear axes",example:{model:lineAnnotationOnLinearAxes}},{title:"LineAnnotation on logarithmic axes",example:{model:lineAnnotationOnLogarithmicAxes}},{title:"LineAnnotation with text orientation specified",example:{model:lineAnnotationOnLinearAxesWithTextOrientation}},{title:"LineAnnotation - ClipByAxis property",example:{model:linearAxesMultipleAxes}},{title:"LineAnnotation on reversed axes",example:{model:reversedAxes}}]};function pointAnnotation(){const $e=new PlotModel({title:"PointAnnotation"});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left})),$e.annotations.push(new PointAnnotation({x:50,y:50,text:"P1"})),$e}function pointAnnotationShapes(){const $e=new PlotModel({title:"PointAnnotation - shapes"});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,maximum:120})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left})),$e.annotations.push(new PointAnnotation({x:20,y:60,text:"Circle",shape:MarkerType$1.Circle,fill:OxyColors$1.LightGray,stroke:OxyColors$1.DarkGray,strokeThickness:1})),$e.annotations.push(new PointAnnotation({x:40,y:60,text:"Square",shape:MarkerType$1.Square,fill:OxyColors$1.LightBlue,stroke:OxyColors$1.DarkBlue,strokeThickness:1})),$e.annotations.push(new PointAnnotation({x:60,y:60,text:"Triangle",shape:MarkerType$1.Triangle,fill:OxyColors$1.IndianRed,stroke:OxyColors$1.Black,strokeThickness:1})),$e.annotations.push(new PointAnnotation({x:80,y:60,text:"Diamond",shape:MarkerType$1.Diamond,fill:OxyColors$1.ForestGreen,stroke:OxyColors$1.Black,strokeThickness:1})),$e.annotations.push(new PointAnnotation({x:100,y:60,text:"Custom",shape:MarkerType$1.Custom,customOutline:[newScreenPoint$1(-1,-1),newScreenPoint$1(1,1),newScreenPoint$1(-1,1),newScreenPoint$1(1,-1)],stroke:OxyColors$1.Black,fill:OxyColors$1.CadetBlue,strokeThickness:1})),$e.annotations.push(new PointAnnotation({x:20,y:40,text:"Cross",shape:MarkerType$1.Cross,stroke:OxyColors$1.IndianRed,strokeThickness:1})),$e.annotations.push(new PointAnnotation({x:40,y:40,text:"Plus",shape:MarkerType$1.Plus,stroke:OxyColors$1.Navy,strokeThickness:1})),$e.annotations.push(new PointAnnotation({x:60,y:40,text:"Star",shape:MarkerType$1.Star,stroke:OxyColors$1.DarkOliveGreen,strokeThickness:1})),$e}function pointAnnotationTextAlignment(){const $e=new PlotModel({title:"PointAnnotation - text alignments"});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimum:-50,maximum:50})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:-50,maximum:50}));for(let e=-1;e<=1;e++){const t=e,r=getEnumName(HorizontalAlignment$1,t);for(let Ve=-1;Ve<=1;Ve++){const je=Ve,ze=getEnumName(VerticalAlignment$1,je);$e.annotations.push(new PointAnnotation({x:e*20,y:Ve*20,size:10,text:`${r},${ze}`,textHorizontalAlignment:t,textVerticalAlignment:je}))}}return $e}const category$W="PointAnnotation",PointAnnotationExamples={category:category$W,tags:["Annotations"],examples:[{title:"PointAnnotation",example:{model:pointAnnotation}},{title:"PointAnnotation - shapes",example:{model:pointAnnotationShapes}},{title:"PointAnnotation - text alignments",example:{model:pointAnnotationTextAlignment}}]};function polygonAnnotation$1(){const $e=new PlotModel({title:"PolygonAnnotation"});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimum:-20,maximum:20})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:-10,maximum:10}));const e=new PolygonAnnotation({text:"Polygon 1"});return e.points.push(newDataPoint$1(4,-2),newDataPoint$1(8,-4),newDataPoint$1(17,7),newDataPoint$1(5,8),newDataPoint$1(2,5)),$e.annotations.push(e),$e}function polygonAnnotationTextPosition(){const $e=new PlotModel({title:"PolygonAnnotation with fixed text position and alignment"});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimum:-20,maximum:20})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:-10,maximum:10}));const e=new PolygonAnnotation({text:"Polygon 1",textHorizontalAlignment:HorizontalAlignment$1.Left,textVerticalAlignment:VerticalAlignment$1.Bottom,textPosition:newDataPoint$1(4.1,-1.9)});return e.points.push(newDataPoint$1(4,-2),newDataPoint$1(8,-2),newDataPoint$1(17,7),newDataPoint$1(5,8),newDataPoint$1(4,5)),$e.annotations.push(e),$e}function annotationLayerProperty(){const $e=new PlotModel({title:"Annotation Layers"});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimum:-20,maximum:30,majorGridlineStyle:LineStyle$1.Solid,majorGridlineThickness:1})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:-10,maximum:10,majorGridlineStyle:LineStyle$1.Solid,majorGridlineThickness:1}));const e=new PolygonAnnotation({layer:AnnotationLayer.BelowAxes,text:"Layer = BelowAxes",points:[newDataPoint$1(-11,-2),newDataPoint$1(-7,-4),newDataPoint$1(-3,7),newDataPoint$1(-10,8),newDataPoint$1(-13,5)]});$e.annotations.push(e);const t=new PolygonAnnotation({layer:AnnotationLayer.BelowSeries,text:"Layer = BelowSeries",points:[newDataPoint$1(4,-2),newDataPoint$1(8,-4),newDataPoint$1(12,7),newDataPoint$1(5,8),newDataPoint$1(2,5)]});$e.annotations.push(t);const r=new PolygonAnnotation({layer:AnnotationLayer.AboveSeries,text:"Layer = AboveSeries",points:[newDataPoint$1(19,-2),newDataPoint$1(23,-4),newDataPoint$1(27,7),newDataPoint$1(20,8),newDataPoint$1(17,5)]});return $e.annotations.push(r),$e.series.push(new FunctionSeries({f:Math.sin,x0:-20,x1:30,n:400})),$e}function kockSnowflakes(){function $e(ze){return[newDataPoint$1(ze.x,ze.y+1),newDataPoint$1(ze.x+Math.sin(Math.PI*2/3),ze.y+Math.cos(Math.PI*2/3)),newDataPoint$1(ze.x+Math.sin(Math.PI*4/3),ze.y+Math.cos(Math.PI*4/3))]}const e=new PlotModel({title:"PolygonAnnotation",plotType:PlotType.Cartesian});e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimum:-4,maximum:4})),e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:-2,maximum:2}));const t=new PolygonAnnotation({text:"MSL = 4",minimumSegmentLength:4});let r=kochFractal($e(newDataPoint$1(-2,0)),8,!0,!0);pushMany$1(t.points,r),e.annotations.push(t);const Ve=new PolygonAnnotation({text:"MSL = 2",minimumSegmentLength:2});r=kochFractal($e(newDataPoint$1(0,0)),8,!0,!0),pushMany$1(Ve.points,r),e.annotations.push(Ve);const je=new PolygonAnnotation({text:"MSL = 1",minimumSegmentLength:1});return r=kochFractal($e(newDataPoint$1(2,0)),8,!0,!0),pushMany$1(je.points,r),e.annotations.push(je),e}function kochFractal($e,e,t,r){const Ve=Math.cos(Math.PI/3),je=Math.sin(Math.PI/3);let ze=$e;for(let Xe=0;Xe<e;Xe++){const We=new Array(r?ze.length*4:ze.length*4-3);for(let qe=0;qe<(r?ze.length:ze.length-1);qe++){const Ke=ze[qe],Ze=ze[(qe+1)%ze.length],Je=(Ze.x-Ke.x)/3,Qe=(Ze.y-Ke.y)/3;let ti,ni;ti=Ve*Je-je*Qe,ni=Ve*Qe+je*Je,We[qe*4]=Ke,We[qe*4+1]=newDataPoint$1(Ke.x+Je,Ke.y+Qe),We[qe*4+2]=newDataPoint$1(Ke.x+Je+ti,Ke.y+Qe+ni),We[qe*4+3]=newDataPoint$1(Ke.x+Je*2,Ke.y+Qe*2)}r||(We[We.length-1]=ze[ze.length-1]),ze=We}return ze}const PolygonAnnotationExamples={kochFractal},category$V="PolygonAnnotation",PolygonAnnotationExamples$1={category:category$V,tags:["Annotations"],examples:[{title:"PolygonAnnotation",example:{model:polygonAnnotation$1}},{title:"PolygonAnnotation with custom text position and alignment",example:{model:polygonAnnotationTextPosition}},{title:"AnnotationLayer property",example:{model:annotationLayerProperty}},{title:"Koch Snowflakes",example:{model:kockSnowflakes}}]};function polylineAnnotations(){const $e=new PlotModel({title:"PolylineAnnotation"});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimum:0,maximum:30})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:0,maximum:30}));const e=new PolylineAnnotation({text:"Polyline"});e.points.push(newDataPoint$1(0,10),newDataPoint$1(5,5),newDataPoint$1(20,1),newDataPoint$1(30,20));const t=new PolylineAnnotation({text:"Smooth Polyline",interpolationAlgorithm:InterpolationAlgorithms$1.CanonicalSpline});return t.points.push(newDataPoint$1(0,15),newDataPoint$1(3,23),newDataPoint$1(9,30),newDataPoint$1(20,12),newDataPoint$1(30,10)),$e.annotations.push(e,t),$e}function kochSurface(){function $e(je){return[newDataPoint$1(je.x-1,je.y),newDataPoint$1(je.x+1,je.y)]}const e=new PlotModel({title:"PolygonAnnotation",plotType:PlotType.Cartesian});e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimum:-2,maximum:2})),e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:-2,maximum:2}));const t=new PolylineAnnotation({text:"MSL = 4",minimumSegmentLength:4,lineStyle:LineStyle$1.Solid,textPosition:newDataPoint$1(0,1)});t.points.push(...PolygonAnnotationExamples.kochFractal($e(newDataPoint$1(0,1)),8,!0,!1)),e.annotations.push(t);const r=new PolylineAnnotation({text:"MSL = 2",minimumSegmentLength:2,lineStyle:LineStyle$1.Solid,textPosition:newDataPoint$1(0,0)});r.points.push(...PolygonAnnotationExamples.kochFractal($e(newDataPoint$1(0,0)),8,!0,!1)),e.annotations.push(r);const Ve=new PolylineAnnotation({text:"MSL = 1",minimumSegmentLength:1,lineStyle:LineStyle$1.Solid,textPosition:newDataPoint$1(0,-1)});return Ve.points.push(...PolygonAnnotationExamples.kochFractal($e(newDataPoint$1(0,-1)),8,!0,!1)),e.annotations.push(Ve),e}const category$U="PolylineAnnotation",PolylineAnnotationExamples={category:category$U,tags:["Annotations"],examples:[{title:"PolylineAnnotation",example:{model:polylineAnnotations}},{title:"Koch Surfaces",example:{model:kochSurface}}]};function rectangleAnnotation(){const $e=new PlotModel({title:"RectangleAnnotation"});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left})),$e.annotations.push(new RectangleAnnotation({minimumX:20,maximumX:70,minimumY:10,maximumY:40,textRotation:10,text:"RectangleAnnotation",fill:OxyColor$1.fromAColor(99,OxyColors$1.Blue),stroke:OxyColors$1.Black,strokeThickness:2})),$e}function rectangleAnnotationVerticalLimit(){const $e=new PlotModel({title:"RectangleAnnotations - vertical limit"});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left})),$e.annotations.push(new RectangleAnnotation({maximumY:89.5,text:"Valid area",fill:OxyColor$1.fromAColor(99,OxyColors$1.Black)})),$e}function rectangleAnnotationHorizontals(){const $e=new PlotModel({title:"RectangleAnnotation - horizontal bands"});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimum:0,maximum:10})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:87,maximum:97,majorStep:1,minorStep:1})),$e.annotations.push(new RectangleAnnotation({minimumY:89.5,maximumY:90.8,text:"Invalid",fill:OxyColor$1.fromAColor(99,OxyColors$1.Red)})),$e.annotations.push(new RectangleAnnotation({minimumY:90.8,maximumY:92.1,fill:OxyColor$1.fromAColor(99,OxyColors$1.Orange)})),$e.annotations.push(new RectangleAnnotation({minimumY:92.1,maximumY:94.6,fill:OxyColor$1.fromAColor(99,OxyColors$1.Yellow)})),$e.annotations.push(new RectangleAnnotation({minimumY:94.6,maximumY:96,text:"Ok",fill:OxyColor$1.fromAColor(99,OxyColors$1.Green)}));const e=new LineSeries({color:OxyColors$1.Black,strokeThickness:6,lineJoin:LineJoin$1.Round});return e.points.push(newDataPoint$1(.5,90.7)),e.points.push(newDataPoint$1(1.5,91.2)),e.points.push(newDataPoint$1(2.5,91)),e.points.push(newDataPoint$1(3.5,89.5)),e.points.push(newDataPoint$1(4.5,92.5)),e.points.push(newDataPoint$1(5.5,93.1)),e.points.push(newDataPoint$1(6.5,94.5)),e.points.push(newDataPoint$1(7.5,95.5)),e.points.push(newDataPoint$1(8.5,95.7)),e.points.push(newDataPoint$1(9.5,96)),$e.series.push(e),$e}function rectangleAnnotationVerticals(){const $e=new PlotModel({title:"RectangleAnnotation - vertical bands"});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimum:0,maximum:10})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:87,maximum:97,majorStep:1,minorStep:1})),$e.annotations.push(new RectangleAnnotation({minimumX:2.5,maximumX:2.8,textRotation:90,text:"Red",fill:OxyColor$1.fromAColor(99,OxyColors$1.Red)})),$e.annotations.push(new RectangleAnnotation({minimumX:2.8,maximumX:6.1,textRotation:90,text:"Orange",fill:OxyColor$1.fromAColor(99,OxyColors$1.Orange)})),$e.annotations.push(new RectangleAnnotation({minimumX:6.1,maximumX:7.6,textRotation:90,text:"Yellow",fill:OxyColor$1.fromAColor(99,OxyColors$1.Yellow)})),$e.annotations.push(new RectangleAnnotation({minimumX:7.6,maximumX:9.7,textRotation:270,text:"Green",fill:OxyColor$1.fromAColor(99,OxyColors$1.Green)}));const e=new LineSeries({color:OxyColors$1.Black,strokeThickness:6,lineJoin:LineJoin$1.Round});return e.points.push(newDataPoint$1(.5,90.7)),e.points.push(newDataPoint$1(1.5,91.2)),e.points.push(newDataPoint$1(2.5,91)),e.points.push(newDataPoint$1(3.5,89.5)),e.points.push(newDataPoint$1(4.5,92.5)),e.points.push(newDataPoint$1(5.5,93.1)),e.points.push(newDataPoint$1(6.5,94.5)),e.points.push(newDataPoint$1(7.5,95.5)),e.points.push(newDataPoint$1(8.5,95.7)),e.points.push(newDataPoint$1(9.5,96)),$e.series.push(e),$e}const category$T="RectangleAnnotation",RectangleAnnotationExamples={category:category$T,tags:["Annotations"],examples:[{title:"RectangleAnnotation",example:{model:rectangleAnnotation}},{title:"RectangleAnnotations - vertical limit",example:{model:rectangleAnnotationVerticalLimit}},{title:"RectangleAnnotation - horizontal bands",example:{model:rectangleAnnotationHorizontals}},{title:"RectangleAnnotation - vertical bands",example:{model:rectangleAnnotationVerticals}}]};function textAnnotations(){const $e=new PlotModel({title:"TextAnnotation"});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimum:-15,maximum:25})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:-5,maximum:18})),$e.annotations.push(new TextAnnotation({textPosition:newDataPoint$1(-6,0),text:"Text annotation 1"})),$e.annotations.push(new TextAnnotation({textPosition:newDataPoint$1(-7,10),textRotation:80,text:"Text annotation 2"})),$e.annotations.push(new TextAnnotation({textPosition:newDataPoint$1(2,2),textRotation:20,textHorizontalAlignment:HorizontalAlignment$1.Right,textVerticalAlignment:VerticalAlignment$1.Top,text:"Right/Top"})),$e.annotations.push(new TextAnnotation({textPosition:newDataPoint$1(2,4),textRotation:20,textHorizontalAlignment:HorizontalAlignment$1.Right,textVerticalAlignment:VerticalAlignment$1.Middle,text:"Right/Middle"})),$e.annotations.push(new TextAnnotation({textPosition:newDataPoint$1(2,6),textRotation:20,textHorizontalAlignment:HorizontalAlignment$1.Right,textVerticalAlignment:VerticalAlignment$1.Bottom,text:"Right/Bottom"})),$e.annotations.push(new TextAnnotation({textPosition:newDataPoint$1(10,2),textRotation:20,textHorizontalAlignment:HorizontalAlignment$1.Center,textVerticalAlignment:VerticalAlignment$1.Top,text:"Center/Top"})),$e.annotations.push(new TextAnnotation({textPosition:newDataPoint$1(10,4),textRotation:20,textHorizontalAlignment:HorizontalAlignment$1.Center,textVerticalAlignment:VerticalAlignment$1.Middle,text:"Center/Middle"})),$e.annotations.push(new TextAnnotation({textPosition:newDataPoint$1(10,6),textRotation:20,textHorizontalAlignment:HorizontalAlignment$1.Center,textVerticalAlignment:VerticalAlignment$1.Bottom,text:"Center/Bottom"})),$e.annotations.push(new TextAnnotation({textPosition:newDataPoint$1(18,2),textRotation:20,textHorizontalAlignment:HorizontalAlignment$1.Left,textVerticalAlignment:VerticalAlignment$1.Top,text:"Left/Top"})),$e.annotations.push(new TextAnnotation({textPosition:newDataPoint$1(18,4),textRotation:20,textHorizontalAlignment:HorizontalAlignment$1.Left,textVerticalAlignment:VerticalAlignment$1.Middle,text:"Left/Middle"})),$e.annotations.push(new TextAnnotation({textPosition:newDataPoint$1(18,6),textRotation:20,textHorizontalAlignment:HorizontalAlignment$1.Left,textVerticalAlignment:VerticalAlignment$1.Bottom,text:"Left/Bottom"}));const e=.05,t=(r,Ve)=>{const je=new PolygonAnnotation({layer:AnnotationLayer.BelowAxes,points:[newDataPoint$1(r-e,Ve-e),newDataPoint$1(r+e,Ve-e),newDataPoint$1(r+e,Ve+e),newDataPoint$1(r-e,Ve+e),newDataPoint$1(r-e,Ve-e)]});$e.annotations.push(je)};for(const r of[...$e.annotations]){const Ve=r;Ve&&t(Ve.textPosition.x,Ve.textPosition.y)}return $e}function rotations(){const $e=new PlotModel({title:"TextAnnotation Rotations"});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimum:-5,maximum:45})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,startPosition:1,endPosition:0,minimum:-1,maximum:8}));for(let e=0;e<360;e+=5)$e.annotations.push(new TextAnnotation({textRotation:e,textPosition:newDataPoint$1(e%45,e/45),text:`${e}`,textVerticalAlignment:VerticalAlignment$1.Middle,textHorizontalAlignment:HorizontalAlignment$1.Center}));return $e}const category$S="TextAnnotation",TextAnnotationExamples={category:category$S,tags:["Annotations"],examples:[{title:"TextAnnotation",example:{model:textAnnotations}},{title:"Rotations",example:{model:rotations}}]},Annotations=[AnnotationExamples,ArrowAnnotationExamples,EllipseAnnotationExamples,FunctionAnnotationExamples,ImageAnnotationExamples,LineAnnotationExamples,PointAnnotationExamples,PolygonAnnotationExamples$1,PolylineAnnotationExamples,RectangleAnnotationExamples,TextAnnotationExamples];function createNormalDistributionModel(){const $e=new PlotModel({title:"Normal distribution",subtitle:"Probability density function"});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:-.05,maximum:1.05,majorStep:.2,minorStep:.05,tickStyle:TickStyle$1.Inside})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimum:-5.25,maximum:5.25,majorStep:1,minorStep:.25,tickStyle:TickStyle$1.Inside})),$e.series.push(createNormalDistributionSeries(-5,5,0,.2)),$e.series.push(createNormalDistributionSeries(-5,5,0,1)),$e.series.push(createNormalDistributionSeries(-5,5,0,5)),$e.series.push(createNormalDistributionSeries(-5,5,-2,.5)),$e}const createNormalDistributionSeries=($e,e,t,r,Ve=1001)=>{const je=new LineSeries;je.title=`=${t}, =${r}`;for(let ze=0;ze<Ve;ze++){const Xe=$e+(e-$e)*ze/(Ve-1),We=1/Math.sqrt(2*Math.PI*r)*Math.exp(-(Xe-t)*(Xe-t)/2/r);je.points.push(newDataPoint$1(Xe,We))}return je};function lineLegendPositionAtEnd(){const $e=new PlotModel({title:"Average (Mean) monthly temperatures in 2003",plotMargins:new OxyThickness$1(60,4,60,40),plotAreaBorderThickness:new OxyThickness$1(0),isLegendVisible:!1}),e=qe=>`${qe.title}: ${Number(qe.yValue).toFixed(1)}F`,t=new LineSeries({title:"Phoenix",lineLegendPosition:LineLegendPosition.End,trackerStringFormatter:e}),r=new LineSeries({title:"Raleigh",lineLegendPosition:LineLegendPosition.End,trackerStringFormatter:e}),Ve=new LineSeries({title:"Minneapolis",lineLegendPosition:LineLegendPosition.End,trackerStringFormatter:e}),je=[52.1,55.1,59.7,67.7,76.3,84.6,91.2,89.1,83.8,72.2,59.8,52.5],ze=[40.5,42.2,49.2,59.5,67.4,74.4,77.5,76.5,70.6,60.2,50,41.2],Xe=[12.2,16.5,28.3,45.1,57.1,66.9,71.9,70.2,60,50,32.4,18.6];for(let qe=0;qe<12;qe++)t.points.push(newDataPoint$1(qe,je[qe])),r.points.push(newDataPoint$1(qe,ze[qe])),Ve.points.push(newDataPoint$1(qe,Xe[qe]));$e.series.push(t),$e.series.push(r),$e.series.push(Ve);const We=new CategoryAxis$1({axislineStyle:LineStyle$1.Solid});return We.labels.push("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"),$e.axes.push(We),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,title:"Fahrenheit",axislineStyle:LineStyle$1.Solid})),$e}const category$R="1 ShowCases",ShowCases$1={category:category$R,tags:["Showcase"],examples:[{title:"Normal distribution",example:{model:createNormalDistributionModel}},{title:"Average (Mean) monthly temperatures in 2003",example:{model:lineLegendPositionAtEnd}}]};class Random{constructor(e){}next(e,t){return isUndef$1(e)&&isUndef$1(t)?Math.random():(e=e||0,t=isNullOrUndef$1(t)?1:t,Math.floor(Math.random()*(t-e+1))+e)}}function tickStyleNone$1(){return createTickStyleExample(TickStyle$1.None)}function tickStyleInside$1(){return createTickStyleExample(TickStyle$1.Inside)}function tickStyleCrossing$1(){return createTickStyleExample(TickStyle$1.Crossing)}function tickStyleOutside$1(){return createTickStyleExample(TickStyle$1.Outside)}function tickLineColor(){const $e=new PlotModel({title:"Color major and minor ticks differently"});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,majorGridlineThickness:3,minorGridlineThickness:3,ticklineColor:OxyColors$1.Blue,minorTicklineColor:OxyColors$1.Gray})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,majorGridlineThickness:3,minorGridlineThickness:3,ticklineColor:OxyColors$1.Blue,minorTicklineColor:OxyColors$1.Gray})),$e}function gridlineStyleNone(){const $e=new PlotModel({title:"No gridlines"});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e}function gridLinestyleVertical(){const $e=new PlotModel({title:"Vertical gridlines"});return $e.axes.push(new LinearAxis$1),$e.axes.push(new LinearAxis$1({majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Dot,position:AxisPosition$1.Bottom})),$e}function gridLinestyleHorizontal(){const $e=new PlotModel({title:"Horizontal gridlines"});return $e.axes.push(new LinearAxis$1({majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Dot})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e}function gridLinestyleBoth(){const $e=new PlotModel({title:"Horizontal and vertical gridlines"});return $e.axes.push(new LinearAxis$1({majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Dot})),$e.axes.push(new LinearAxis$1({majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Dot,position:AxisPosition$1.Bottom})),$e}function axisPositionLeftAndBottom(){const $e=new PlotModel;return $e.axes.push(new LinearAxis$1({majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Dot,title:"Left"})),$e.axes.push(new LinearAxis$1({majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Dot,position:AxisPosition$1.Bottom,title:"Bottom"})),$e}function axisPositionTopRight(){const $e=new PlotModel;return $e.axes.push(new LinearAxis$1({majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Dot,position:AxisPosition$1.Right,title:"Right"})),$e.axes.push(new LinearAxis$1({majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Dot,position:AxisPosition$1.Top,title:"Top"})),$e}function axisAngle45(){const $e=new PlotModel({plotMargins:new OxyThickness$1(60,40,60,30)});return $e.axes.push(new LinearAxis$1({angle:45,majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Dot,title:"Left"})),$e.axes.push(new LinearAxis$1({angle:45,majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Dot,position:AxisPosition$1.Bottom,title:"Bottom"})),$e}function zeroCrossing(){const $e=new PlotModel({title:"PositionAtZeroCrossing = true",plotAreaBorderThickness:new OxyThickness$1(0),plotMargins:new OxyThickness$1(10,10,10,10)});return $e.axes.push(new LinearAxis$1({maximum:50,minimum:-30,positionAtZeroCrossing:!0,axislineStyle:LineStyle$1.Solid,tickStyle:TickStyle$1.Crossing})),$e.axes.push(new LinearAxis$1({maximum:70,minimum:-50,position:AxisPosition$1.Bottom,positionAtZeroCrossing:!0,axislineStyle:LineStyle$1.Solid,tickStyle:TickStyle$1.Crossing})),$e}function horizontalZeroCrossing(){const $e=new PlotModel({title:"Bottom axis: PositionAtZeroCrossing = true"});return $e.axes.push(new LinearAxis$1({maximum:50,minimum:-30,position:AxisPosition$1.Left,positionAtZeroCrossing:!1})),$e.axes.push(new LinearAxis$1({maximum:70,minimum:-50,position:AxisPosition$1.Bottom,positionAtZeroCrossing:!0,axislineStyle:LineStyle$1.Solid})),$e}function verticalZeroCrossing(){const $e=new PlotModel({title:"Left axis: PositionAtZeroCrossing = true"});return $e.axes.push(new LinearAxis$1({maximum:50,minimum:-30,position:AxisPosition$1.Left,positionAtZeroCrossing:!0,axislineStyle:LineStyle$1.Solid})),$e.axes.push(new LinearAxis$1({maximum:70,minimum:-50,position:AxisPosition$1.Bottom,positionAtZeroCrossing:!1})),$e}function reversed(){const $e=new PlotModel({title:"EndPosition = 0, StartPosition = 1"});return $e.axes.push(new LinearAxis$1({endPosition:0,startPosition:1,maximum:50,minimum:-30,position:AxisPosition$1.Left})),$e.axes.push(new LinearAxis$1({endPosition:0,startPosition:1,maximum:70,minimum:-50,position:AxisPosition$1.Bottom})),$e}function sharingY(){const $e=new PlotModel;$e.axes.push(new LinearAxis$1({endPosition:0,startPosition:1,maximum:1.5,minimum:-1.5,position:AxisPosition$1.Left}));const e=new LinearAxis$1({startPosition:0,endPosition:.45,maximum:7,minimum:0,position:AxisPosition$1.Bottom,key:"x1"});$e.axes.push(e);const t=new LinearAxis$1({startPosition:.55,endPosition:1,maximum:10,minimum:0,position:AxisPosition$1.Bottom,key:"x2"});return $e.axes.push(t),$e.series.push(new FunctionSeries({f:Math.sin,x0:0,x1:10,n:1e3,xAxisKey:e.key})),$e.series.push(new FunctionSeries({f:Math.sin,x0:0,x1:10,n:1e3,xAxisKey:t.key})),$e}function fourAxes(){const $e=new PlotModel;return $e.axes.push(new LinearAxis$1({maximum:36,minimum:0,title:"km/h"})),$e.axes.push(new LinearAxis$1({maximum:10,minimum:0,position:AxisPosition$1.Right,title:"m/s"})),$e.axes.push(new LinearAxis$1({maximum:10,minimum:0,position:AxisPosition$1.Bottom,title:"meter"})),$e.axes.push(new LinearAxis$1({maximum:1e4,minimum:0,position:AxisPosition$1.Top,title:"millimeter"})),$e}function fiveAxes(){const $e=new PlotModel;return $e.axes.push(new LinearAxis$1({endPosition:.25,maximum:1,minimum:-1,title:"C1"})),$e.axes.push(new LinearAxis$1({endPosition:.5,maximum:1,minimum:-1,position:AxisPosition$1.Right,startPosition:.25,title:"C2"})),$e.axes.push(new LinearAxis$1({endPosition:.75,maximum:1,minimum:-1,startPosition:.5,title:"C3"})),$e.axes.push(new LinearAxis$1({maximum:1,minimum:-1,position:AxisPosition$1.Right,startPosition:.75,title:"C4"})),$e.axes.push(new LinearAxis$1({maximum:100,minimum:0,position:AxisPosition$1.Bottom,title:"s"})),$e}function logarithmicAxes(){const $e=new PlotModel;return $e.axes.push(new LogarithmicAxis({maximum:1e6,minimum:1,title:"Log axis",useSuperExponentialFormat:!0})),$e.axes.push(new LogarithmicAxis({maximum:1e4,minimum:.001,position:AxisPosition$1.Bottom,title:"Log axis",useSuperExponentialFormat:!0})),$e}const cartesianPlotLogarithmicAxes=()=>new PlotModel({plotType:PlotType.Cartesian,axes:[new LogarithmicAxis({maximum:1e6,minimum:1,title:"Log x axis",useSuperExponentialFormat:!0,majorGridlineStyle:LineStyle$1.Solid,isPanEnabled:!0}),new LogarithmicAxis({maximum:1e4,minimum:.001,position:AxisPosition$1.Bottom,title:"Log y axis",useSuperExponentialFormat:!0,majorGridlineStyle:LineStyle$1.Solid,isPanEnabled:!0})]});function bigNumbers(){const $e=new PlotModel;return $e.axes.push(new LinearAxis$1({maximum:6e32,minimum:-1e47,title:"big numbers"})),$e.axes.push(new LinearAxis$1({maximum:3e50,minimum:-1e40,position:AxisPosition$1.Bottom,title:"big numbers"})),$e}function bigNumbersSuperExponentialFormat(){const $e=new PlotModel;return $e.axes.push(new LinearAxis$1({maximum:6e32,minimum:-1e47,title:"big numbers",useSuperExponentialFormat:!0})),$e.axes.push(new LinearAxis$1({maximum:3e50,minimum:-1e40,position:AxisPosition$1.Bottom,title:"big numbers",useSuperExponentialFormat:!0})),$e}function smallNumbers(){const $e=new PlotModel;return $e.axes.push(new LinearAxis$1({maximum:6e-15,minimum:-5e-15,title:"small numbers"})),$e.axes.push(new LinearAxis$1({maximum:3e-15,minimum:-4e-15,position:AxisPosition$1.Bottom,title:"small numbers"})),$e}function defaultPadding(){const $e=new PlotModel({title:"Default padding"});$e.axes.push(new LinearAxis$1),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom}));const e=new LineSeries({color:OxyColor$1.fromArgb(255,78,154,6),markerFill:OxyColor$1.fromArgb(255,78,154,6)});return e.points.push(newDataPoint$1(10,4)),e.points.push(newDataPoint$1(12,7)),e.points.push(newDataPoint$1(16,3)),e.points.push(newDataPoint$1(20,9)),$e.series.push(e),$e}function noPadding(){const $e=new PlotModel({title:"No padding"});$e.axes.push(new LinearAxis$1({maximumPadding:0,minimumPadding:0})),$e.axes.push(new LinearAxis$1({maximumPadding:0,minimumPadding:0,position:AxisPosition$1.Bottom}));const e=new LineSeries({color:OxyColor$1.fromArgb(255,78,154,6),markerFill:OxyColor$1.fromArgb(255,78,154,6)});return e.points.push(newDataPoint$1(10,4)),e.points.push(newDataPoint$1(12,7)),e.points.push(newDataPoint$1(16,3)),e.points.push(newDataPoint$1(20,9)),$e.series.push(e),$e}function padding(){const $e=new PlotModel({title:"Padding 10%"});$e.axes.push(new LinearAxis$1({maximumPadding:.1,minimumPadding:.1})),$e.axes.push(new LinearAxis$1({maximumPadding:.1,minimumPadding:.1,position:AxisPosition$1.Bottom}));const e=new LineSeries({color:OxyColor$1.fromArgb(255,78,154,6),markerFill:OxyColor$1.fromArgb(255,78,154,6)});return e.points.push(newDataPoint$1(10,4)),e.points.push(newDataPoint$1(12,7)),e.points.push(newDataPoint$1(16,3)),e.points.push(newDataPoint$1(20,9)),$e.series.push(e),$e}function xaxisMinimumPadding(){const $e=new PlotModel({title:"X-axis MinimumPadding=0.1"});$e.axes.push(new LinearAxis$1),$e.axes.push(new LinearAxis$1({minimumPadding:.1,position:AxisPosition$1.Bottom}));const e=new LineSeries({color:OxyColor$1.fromArgb(255,78,154,6),markerFill:OxyColor$1.fromArgb(255,78,154,6)});return e.points.push(newDataPoint$1(10,4)),e.points.push(newDataPoint$1(12,7)),e.points.push(newDataPoint$1(16,3)),e.points.push(newDataPoint$1(20,9)),$e.series.push(e),$e}function xaxisMaximumPadding(){const $e=new PlotModel({title:"X-axis MaximumPadding=0.1"});$e.axes.push(new LinearAxis$1),$e.axes.push(new LinearAxis$1({maximumPadding:.1,position:AxisPosition$1.Bottom}));const e=new LineSeries({color:OxyColor$1.fromArgb(255,78,154,6),markerFill:OxyColor$1.fromArgb(255,78,154,6)});return e.points.push(newDataPoint$1(10,4)),e.points.push(newDataPoint$1(12,7)),e.points.push(newDataPoint$1(16,3)),e.points.push(newDataPoint$1(20,9)),$e.series.push(e),$e}function absoluteMinimumAndMaximum(){const $e=new PlotModel({title:"AbsoluteMinimum=-17, AbsoluteMaximum=63",subtitle:"Zooming and panning is limited to these values."});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimum:0,maximum:50,absoluteMinimum:-17,absoluteMaximum:63})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:0,maximum:50,absoluteMinimum:-17,absoluteMaximum:63})),$e}function minimumRange(){const $e=new PlotModel({title:"MinimumRange = 400"});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimumRange:400})),$e}function maximumRange(){const $e=new PlotModel({title:"MaximumRange = 40"});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,maximumRange:40})),$e}function titleWithUnit(){const $e=new PlotModel({title:"Axis titles with units"});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,title:"Speed",unit:"km/h"})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,title:"Temperature",unit:"C"})),$e}function invisibleVerticalAxis(){const $e=new PlotModel({title:"Invisible vertical axis"});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,isAxisVisible:!1})),$e.series.push(new FunctionSeries({f:e=>Math.sin(e)/e,x0:-5,x1:5,dx:.1})),$e}function invisibleHorizontalAxis(){const $e=new PlotModel({title:"Invisible horizontal axis"});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,isAxisVisible:!1})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left})),$e.series.push(new FunctionSeries({f:e=>Math.sin(e)*e*e,x0:-5,x1:5,dx:.1})),$e}function zoomingDisabled(){const $e=new PlotModel({title:"Zooming disabled"});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,isZoomEnabled:!1})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,isZoomEnabled:!1})),$e}function panningDisabled(){const $e=new PlotModel({title:"Panning disabled"});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,isPanEnabled:!1})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,isPanEnabled:!1})),$e}function denseIntervals(){const $e=new PlotModel({title:"Dense intervals"});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,intervalLength:30})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,intervalLength:20})),$e}function graphPaper(){const $e=new PlotModel({title:"Graph Paper"}),e=OxyColors$1.DarkBlue;return $e.plotType=PlotType.Cartesian,$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,title:"X",majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Solid,majorGridlineColor:OxyColor$1.fromAColor(40,e),minorGridlineColor:OxyColor$1.fromAColor(20,e)})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,title:"Y",majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Solid,majorGridlineColor:OxyColor$1.fromAColor(40,e),minorGridlineColor:OxyColor$1.fromAColor(20,e)})),$e}function logLogPaper(){const $e=new PlotModel({title:"Log-Log Paper"}),e=OxyColors$1.DarkBlue;return $e.axes.push(new LogarithmicAxis({position:AxisPosition$1.Bottom,title:"X",minimum:.1,maximum:1e3,majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Solid,majorGridlineColor:OxyColor$1.fromAColor(40,e),minorGridlineColor:OxyColor$1.fromAColor(20,e)})),$e.axes.push(new LogarithmicAxis({position:AxisPosition$1.Left,title:"Y",minimum:.1,maximum:1e3,majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Solid,majorGridlineColor:OxyColor$1.fromAColor(40,e),minorGridlineColor:OxyColor$1.fromAColor(20,e)})),$e}function onBlack(){const $e=new PlotModel({title:"Black background",background:OxyColors$1.Black,textColor:OxyColors$1.White,plotAreaBorderColor:OxyColors$1.White}),e=OxyColors$1.White;return $e.plotType=PlotType.Cartesian,$e.series.push(new FunctionSeries({f:Math.sin,x0:0,x1:Math.PI*2,n:1e3,title:"f(x)=sin(x)"})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,title:"x",majorStep:Math.PI/2,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"",majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Solid,majorGridlineColor:OxyColor$1.fromAColor(40,e),minorGridlineColor:OxyColor$1.fromAColor(20,e),ticklineColor:OxyColors$1.White})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,title:"f(x)",majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Solid,majorGridlineColor:OxyColor$1.fromAColor(40,e),minorGridlineColor:OxyColor$1.fromAColor(20,e),ticklineColor:OxyColors$1.White})),$e}function backgrounds(){const $e=new PlotModel({title:"Background and PlotAreaBackground",background:OxyColors$1.Silver,plotAreaBackground:OxyColors$1.Gray,plotAreaBorderColor:OxyColors$1.Black,plotAreaBorderThickness:new OxyThickness$1(3)});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left})),$e}function currentCulture(){const $e=new PlotModel({title:"Current culture"});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimum:-1,maximum:1})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:-1,maximum:1})),$e.series.push(new FunctionSeries({f:Math.sin,x0:-1,x1:1,n:100})),$e}function longAxisTitlesClipped90(){const $e="Long title 12345678901234567890123456789012345678901234567890123456789012345678901234567890",e="The tool tip is "+$e,t=new PlotModel({title:"Long axis titles (clipped at 90%)"});return t.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,title:$e,toolTip:e})),t.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,title:$e,toolTip:e})),t}function longAxisTitlesClipped100(){const $e="Long title 12345678901234567890123456789012345678901234567890123456789012345678901234567890",e="The tool tip is "+$e,t=new PlotModel({title:"Long axis titles (clipped at 100%)"});return t.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,title:$e,toolTip:e,titleClippingLength:1})),t.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,title:$e,toolTip:e,titleClippingLength:1})),t}function longAxisTitlesNotClipped(){const $e="Long title 12345678901234567890123456789012345678901234567890123456789012345678901234567890",e="The tool tip is "+$e,t=new PlotModel({title:"Long axis titles (not clipped)"});return t.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,title:$e,toolTip:e,clipTitle:!1})),t.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,title:$e,toolTip:e,clipTitle:!1})),t}function positionTier(){const $e=new PlotModel,e=new LinearAxis$1({maximum:1,minimum:-1,title:"PositionTier=0"});$e.axes.push(e);const t=new LinearAxis$1({axislineStyle:LineStyle$1.Solid,maximum:2,minimum:-2,positionTier:1,title:"PositionTier=1"});$e.axes.push(t);const r=new LinearAxis$1({maximum:1,minimum:-1,position:AxisPosition$1.Right,title:"PositionTier=0"});$e.axes.push(r);const Ve=new LinearAxis$1({axislineStyle:LineStyle$1.Solid,maximum:2,minimum:-2,position:AxisPosition$1.Right,positionTier:1,title:"PositionTier=1"});$e.axes.push(Ve);const je=new LinearAxis$1({maximum:1,minimum:-1,position:AxisPosition$1.Top,title:"PositionTier=0"});$e.axes.push(je);const ze=new LinearAxis$1({axislineStyle:LineStyle$1.Solid,maximum:2,minimum:-2,position:AxisPosition$1.Top,positionTier:1,title:"PositionTier=1"});$e.axes.push(ze);const Xe=new LinearAxis$1({axislineStyle:LineStyle$1.Solid,maximum:10,minimum:-10,position:AxisPosition$1.Top,positionTier:2,title:"PositionTier=2"});$e.axes.push(Xe);const We=new LinearAxis$1({maximum:1,minimum:-1,position:AxisPosition$1.Bottom,title:"PositionTier=0"});$e.axes.push(We);const qe=new LinearAxis$1({axislineStyle:LineStyle$1.Solid,maximum:2,minimum:-2,position:AxisPosition$1.Bottom,positionTier:1,title:"PositionTier=1"});$e.axes.push(qe);const Ke=new LinearAxis$1({axislineStyle:LineStyle$1.Solid,maximum:10,minimum:-10,position:AxisPosition$1.Bottom,positionTier:2,title:"PositionTier=2"});return $e.axes.push(Ke),$e}function titleColor(){const $e=new PlotModel({title:"Custom axis title color"});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimum:-1,maximum:1,title:"Bottom axis",titleColor:OxyColors$1.Red})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:-1,maximum:1,title:"Left axis",titleColor:OxyColors$1.Blue})),$e.series.push(new FunctionSeries({f:Math.sin,x0:-1,x1:1,n:100})),$e}function labelColor(){const $e=new PlotModel({title:"Custom axis label color"});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimum:-1,maximum:1,title:"Bottom axis",textColor:OxyColors$1.Red})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:-1,maximum:1,title:"Left axis",textColor:OxyColors$1.Blue})),$e.series.push(new FunctionSeries({f:Math.sin,x0:-1,x1:1,n:100})),$e}function angledAxisNumbers(){const $e=new PlotModel({title:"Angled axis numbers"});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimum:-1,maximum:1,title:"Bottom axis",angle:45})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:-1,maximum:1,title:"Left axis",angle:45})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Top,minimum:-1,maximum:1,title:"Top axis",angle:45})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Right,minimum:-1,maximum:1,title:"Right axis",angle:45})),$e}function axisDistance(){const $e=new PlotModel({title:"AxisDistance = 20"});return $e.axes.push(new LinearAxis$1({axislineStyle:LineStyle$1.Solid,axisDistance:20,position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({axislineStyle:LineStyle$1.Solid,axisDistance:20,position:AxisPosition$1.Left})),$e.axes.push(new LinearAxis$1({axislineStyle:LineStyle$1.Solid,axisDistance:20,position:AxisPosition$1.Right})),$e.axes.push(new LinearAxis$1({axislineStyle:LineStyle$1.Solid,axisDistance:20,position:AxisPosition$1.Top})),$e}function noAxesDefined(){const $e=new PlotModel({title:"No axes defined",subtitle:"Bottom and left axes are auto-generated."});return $e.series.push(new FunctionSeries({f:Math.sin,x0:0,x1:10,n:400})),$e}function labelFormatter$1(){const $e=new PlotModel({title:"LabelFormatter"});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimum:-10,maximum:10,labelFormatter:t=>Math.abs(t)<Number.EPSILON?"ZERO":t.toString()}));const e=65;return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:0,maximum:25,majorStep:1,minorStep:1,maximumPadding:0,minimumPadding:0,labelFormatter:t=>String.fromCharCode(t+e)})),$e}function toolTips(){const $e=new PlotModel({title:"Tool tips"});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,title:"Left axis",toolTip:"Tool tip for the left axis"})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,title:"Bottom axis",toolTip:"Tool tip for the bottom axis"})),$e}function subSuperscriptInAxisTitles(){const $e=new PlotModel({title:"Sub- and superscript in axis titles"});return $e.axes.push(new LinearAxis$1({title:"Title with^{super}_{sub}script"})),$e.axes.push(new LinearAxis$1({title:"Title with^{super}_{sub}script",position:AxisPosition$1.Bottom})),$e}function minimumMajorStep(){const $e=new PlotModel({title:"Axes with MinimumMajorStep"});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,title:"MinimuMajorStep = 1",minimum:0,maximum:2,minimumMajorStep:1})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,title:"MinimuMajorStep = 10",minimum:0,maximum:15,minimumMajorStep:10})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Top,title:"MinimuMajorStep = 0 (default)",minimum:0,maximum:2})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Right,title:"MinimuMajorStep = 0 (default)",minimum:0,maximum:15})),$e}function minimumMinorStep(){const $e=new PlotModel({title:"Axes with MinimumMinorStep"});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,title:"MinimumMinorStep = 1",minimum:0,maximum:20,minimumMinorStep:1})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,title:"MinimumMinorStep = 10",minimum:0,maximum:150,minimumMinorStep:10})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Top,title:"MinimumMinorStep = 0 (default)",minimum:0,maximum:20})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Right,title:"MinimumMinorStep = 0 (default)",minimum:0,maximum:150})),$e}function defaultAxisTitleDistance(){const $e=new PlotModel({title:"AxisTitleDistance = 4 (default)"});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,title:"Bottom",minimum:0,maximum:20})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,title:"Left",minimum:0,maximum:150})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Top,title:"Top",minimum:0,maximum:20})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Right,title:"Right",minimum:0,maximum:150})),$e}function customAxisTitleDistance(){const $e=new PlotModel({title:"AxisTitleDistance = 40"});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,title:"Bottom",minimum:0,maximum:20,axisTitleDistance:40})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,title:"Left",minimum:0,maximum:150,axisTitleDistance:40})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Top,title:"Top",minimum:0,maximum:20,axisTitleDistance:40})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Right,title:"Right",minimum:0,maximum:150,axisTitleDistance:40})),$e}function majorGridlineStyle(){const $e=new PlotModel({title:"MajorGridlineStyle and MajorGridlineThickness"});return $e.axes.push(new LinearAxis$1({majorGridlineStyle:LineStyle$1.Solid,majorGridlineThickness:10})),$e.axes.push(new LinearAxis$1({majorGridlineStyle:LineStyle$1.Solid,majorGridlineThickness:10,position:AxisPosition$1.Bottom})),$e}function gridlineCroppingBoth(){const $e=new PlotModel({title:"Gridline cropping"});return $e.axes.push(new LinearAxis$1({majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Dot,extraGridlines:[46],extraGridlineColor:OxyColors$1.Red,startPosition:.1,endPosition:.4,cropGridlines:!0})),$e.axes.push(new LinearAxis$1({majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Dot,extraGridlines:[46],extraGridlineColor:OxyColors$1.Red,startPosition:.6,endPosition:.9,cropGridlines:!0})),$e.axes.push(new LinearAxis$1({majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Dot,position:AxisPosition$1.Bottom,extraGridlines:[46],extraGridlineColor:OxyColors$1.Red,startPosition:.1,endPosition:.4,cropGridlines:!0})),$e.axes.push(new LinearAxis$1({majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Dot,position:AxisPosition$1.Bottom,extraGridlines:[46],extraGridlineColor:OxyColors$1.Red,startPosition:.6,endPosition:.9,cropGridlines:!0})),$e}function multiVerticalAxes(){const $e="axisY_Temperature",e="axisY_Pressure",t="axisY_Humidity",r=new PlotModel({title:"Multi vertical axes with lineSeries"}),Ve=new Legend({legendBackground:OxyColors$1.White});r.legends.push(Ve);const je=new DateTimeAxis({title:"Time",position:AxisPosition$1.Bottom,majorGridlineStyle:LineStyle$1.Solid,fontSize:13});r.axes.push(je);let ze=null,Xe=null,We=null,qe=null,Ke=null,Ze=null;qe=new LinearAxis$1({title:"Temperature",position:AxisPosition$1.Left,majorGridlineStyle:LineStyle$1.None,positionTier:1,key:$e,isAxisVisible:!0}),ze=new LineSeries({title:"Temperature",color:OxyColors$1.Tomato,lineStyle:LineStyle$1.Solid,markerType:MarkerType$1.Circle,markerSize:3,markerFill:OxyColors$1.Red,yAxisKey:$e,isVisible:!0}),r.axes.push(qe),r.series.push(ze),Ke=new LinearAxis$1({title:"Pressure",position:AxisPosition$1.Left,majorGridlineStyle:LineStyle$1.None,positionTier:2,key:e,isAxisVisible:!0}),Xe=new LineSeries({title:"Pressure",color:OxyColors$1.Peru,lineStyle:LineStyle$1.Solid,markerType:MarkerType$1.Circle,markerSize:3,markerFill:OxyColors$1.Sienna,yAxisKey:e,isVisible:!0}),r.axes.push(Ke),r.series.push(Xe),Ze=new LinearAxis$1({title:"Humidity",position:AxisPosition$1.Left,majorGridlineStyle:LineStyle$1.None,positionTier:3,key:t,isAxisVisible:!0}),We=new LineSeries({title:"Humidity",color:OxyColors$1.LightSkyBlue,lineStyle:LineStyle$1.Solid,markerType:MarkerType$1.Circle,markerSize:3,markerFill:OxyColors$1.DeepSkyBlue,yAxisKey:t,isVisible:!0}),r.axes.push(Ze),r.series.push(We);{ze.points.length=0,Xe.points.length=0,We.points.length=0;const Je=TimeSpan$1.fromMilliseconds(1e3),Qe=getDateService$1();let ti=new Date(2018,8,10);const ni=100;for(let ri=1;ri<=ni;ri++){const ii=20+Math.sin(ri),ei=760+1.5*Math.cos(1.5*ri),St=50+2*Math.sin(2*ri);ze.points.push(DateTimeAxis.createDataPoint(ti,ii)),Xe.points.push(DateTimeAxis.createDataPoint(ti,ei)),We.points.push(DateTimeAxis.createDataPoint(ti,St)),ti=Qe.addTimespan(ti,Je)}qe.minimum=10,qe.maximum=23,Ke.minimum=750,Ke.maximum=770,Ze.minimum=47,Ze.maximum=60}return r}function autoMargin(){const $e=new PlotModel({title:"Auto-adjusting plot margins",subtitle:"When zooming in and out the plot margins should adjust accordingly"});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,title:"X Axis",titleFontSize:16})),$e}function manualMargins(){const $e=new PlotModel({title:"Manual Margins",subtitle:"PlotMargins = 40",plotMargins:new OxyThickness$1(40)});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e}function manualLeftMargin(){const $e=new PlotModel({title:"Manual Left Margin",subtitle:"PlotMargins = 40,NaN,NaN,NaN",plotMargins:new OxyThickness$1(40,NaN,NaN,NaN)});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e}function autoMarginWideLabels(){const $e=new PlotModel({title:"Auto-adjusting plot margins - wide axis labels",subtitle:"There should be enough space reserved such that the axis labels always fit in the viewport"});return $e.axes.push(getLongLabelSeries()),$e}function autoMarginWideLabelsRotated(){const $e=new PlotModel({title:"Auto-adjusting plot margins - wide rotated axis labels",subtitle:"There should be enough space reserved such that the axis labels always fit in the viewport"}),e=getLongLabelSeries();return e.angle=-90,$e.axes.push(e),$e}function autoMarginWideLabelsFixedRange(){const $e=new PlotModel({title:"Auto-adjusting plot margins - wide axis labels, fixed range",subtitle:"When the axis range is fixed there should be no unnecessary space reserved for axis labels"}),e=getLongLabelSeries();return e.isPanEnabled=!1,e.isZoomEnabled=!1,$e.axes.push(e),$e}function autoMarginWideLabelsFixedRange2(){const $e=new PlotModel({title:"Auto-adjusting plot margins - wide axis labels, fixed range",subtitle:"The axis labels should exactly fit in the viewport"}),e=getLongLabelSeries();return e.isPanEnabled=!1,e.isZoomEnabled=!1,e.minimum=-.01,e.maximum=3.01,$e.axes.push(e),$e}function getLongLabelSeries(){const $e=new CategoryAxis$1({position:AxisPosition$1.Bottom});return $e.labels.push("Label"),$e.labels.push("Long Label"),$e.labels.push("Longer Label"),$e.labels.push("Even Longer Label"),$e}function minimumAndMaximumDataMargins(){const $e=new PlotModel({title:"Normal distribution",subtitle:"Probability density function"});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,minimum:0,tickStyle:TickStyle$1.Inside})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,tickStyle:TickStyle$1.Inside})),$e.series.push(createNormalDistributionSeries(-5,5,0,.2)),$e.series.push(createNormalDistributionSeries(-5,5,0,1)),$e.series.push(createNormalDistributionSeries(-5,5,0,5)),$e.series.push(createNormalDistributionSeries(-5,5,-2,.5)),$e}function minimumAndMaximumDataMarginsZeroCrossing(){const $e=new PlotModel({title:"Normal distribution",subtitle:"Probability density function"});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,minimum:0,tickStyle:TickStyle$1.Crossing,axislineStyle:LineStyle$1.Solid,positionAtZeroCrossing:!0})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,tickStyle:TickStyle$1.Crossing,axislineStyle:LineStyle$1.Solid,positionAtZeroCrossing:!0})),$e.series.push(createNormalDistributionSeries(-5,5,0,.2)),$e.series.push(createNormalDistributionSeries(-5,5,0,1)),$e.series.push(createNormalDistributionSeries(-5,5,0,5)),$e.series.push(createNormalDistributionSeries(-5,5,-2,.5)),$e}function minimumAndMaximumDataMarginsLog(){const $e=new PlotModel({title:"Exponentials"});$e.axes.push(new LogarithmicAxis({position:AxisPosition$1.Bottom,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,tickStyle:TickStyle$1.Inside})),$e.axes.push(new LogarithmicAxis({position:AxisPosition$1.Left,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,tickStyle:TickStyle$1.Inside}));for(let e=1;e<=5;e++)$e.series.push(new FunctionSeries({f:t=>Math.pow(e,t),x0:0,x1:10,dx:.01,title:`${e}^x`}));return $e}function minimumAndMaximumMarginsPolar(){const $e=new PlotModel({title:"Spiral",plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness$1(0)});return $e.axes.push(new AngleAxis({majorStep:Math.PI/4,minorStep:Math.PI/16,majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Solid,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"",minimum:0,maximum:2*Math.PI})),$e.axes.push(new MagnitudeAxis({majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Solid,minimumPadding:0,maximumPadding:0,minimumDataMargin:0,maximumDataMargin:20})),$e.series.push(new FunctionSeries({fx:e=>e,fy:e=>e,t0:0,t1:Math.PI*6,dt:.01})),$e}function axisOutMargins(){const $e=new PlotModel({title:"YAxes are evenly distributed with a constant gap",plotAreaBorderThickness:new OxyThickness$1(0)});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,axislineStyle:LineStyle$1.Solid,key:"X"}));const e=4,t=10;for(let r=0;r<e;r++)$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,startPosition:r/e,endPosition:(r+1)/e,minimumMargin:r/e*t,maximumMargin:(e-r-1)/e*t,axislineStyle:LineStyle$1.Solid,key:`Y${r}`})),$e.series.push(new FunctionSeries({f:Ve=>Math.sin(Ve*(r+1)),x0:1,x1:10,dx:.01,title:`x^${r}`,xAxisKey:"X",yAxisKey:`Y${r}`}));return $e}function axisMarginsClipping(){const $e=new PlotModel({title:"Axis Margins Clipping",subtitle:"Data Points and Visual Elements are clipped outside the Clip Bounds"});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimumPadding:0,maximumPadding:0,minimumMargin:20,maximumMargin:20})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimumPadding:0,maximumPadding:0,minimumMargin:20,maximumMargin:20}));const e=new Random(1),t=new ScatterSeries({markerType:MarkerType$1.Diamond});for(let r=0;r<100;r++)t.points.push({x:e.next(),y:e.next()});return $e.series.push(t),$e}function polarOuterMargins(){const $e=new PlotModel({title:"Spiral",plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness$1(0)});return $e.axes.push(new AngleAxis({majorStep:Math.PI/4,minorStep:Math.PI/16,majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Solid,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"",minimum:0,maximum:2*Math.PI})),$e.axes.push(new MagnitudeAxis({majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Solid,minimumPadding:0,maximumPadding:0,minimumMargin:0,maximumMargin:100})),$e.series.push(new FunctionSeries({fx:e=>e,fy:e=>e,t0:0,t1:Math.PI*6,dt:.01})),$e}function marginsAndPadding(){const $e=new PlotModel({title:"Try resizing the plot",subtitle:`ClipMinimum/Maximum are Blue
ActualMinimum/Maximum are Red
DataMinimum/Maximum are Green`}),e=new LinearAxis$1({position:AxisPosition$1.Bottom,minimumPadding:.1,maximumPadding:.1,minimumDataMargin:20,maximumDataMargin:20,minimumMargin:30,maximumMargin:30,majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Dash,cropGridlines:!0});$e.axes.push(e);const t=new LinearAxis$1({position:AxisPosition$1.Left,minimumPadding:.1,maximumPadding:.1,minimumDataMargin:20,maximumDataMargin:20,minimumMargin:30,maximumMargin:30,majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Dash,cropGridlines:!0});$e.axes.push(t);const r=new LineSeries;return r.color=OxyColors$1.Green,r.points.push(newDataPoint$1(-5,0)),r.points.push(newDataPoint$1(-5,20)),r.points.push(newDataPoint$1(25,20)),r.points.push(newDataPoint$1(25,0)),r.points.push(newDataPoint$1(-5,0)),$e.series.push(r),_addAxisMarginAnnotations($e),$e}function _addAxisMarginAnnotations($e){$e.annotations.push(new DelegateAnnotation(async e=>{const t=RenderingExtensions$1.drawLine;for(const r of $e.axes)if(r.isHorizontal()){const Ve=r;await t(e,Ve.transform(Ve.clipMinimum),0,Ve.transform(Ve.clipMinimum),$e.height,new OxyPen$1(OxyColors$1.Blue,1,LineStyle$1.Dot),EdgeRenderingMode$1.Automatic),await t(e,Ve.transform(Ve.clipMaximum),0,Ve.transform(Ve.clipMaximum),$e.height,new OxyPen$1(OxyColors$1.Blue,1,LineStyle$1.Dot),EdgeRenderingMode$1.Automatic),await t(e,Ve.transform(Ve.actualMinimum),0,Ve.transform(Ve.actualMinimum),$e.height,new OxyPen$1(OxyColors$1.Red,1,LineStyle$1.Dot),EdgeRenderingMode$1.Automatic),await t(e,Ve.transform(Ve.actualMaximum),0,Ve.transform(Ve.actualMaximum),$e.height,new OxyPen$1(OxyColors$1.Red,1,LineStyle$1.Dot),EdgeRenderingMode$1.Automatic),await t(e,Ve.transform(Ve.dataMinimum),0,Ve.transform(Ve.dataMinimum),$e.height,new OxyPen$1(OxyColors$1.Green,1,LineStyle$1.Dot),EdgeRenderingMode$1.Automatic),await t(e,Ve.transform(Ve.dataMaximum),0,Ve.transform(Ve.dataMaximum),$e.height,new OxyPen$1(OxyColors$1.Green,1,LineStyle$1.Dot),EdgeRenderingMode$1.Automatic)}else{const Ve=r;await t(e,0,Ve.transform(Ve.clipMinimum),$e.width,Ve.transform(Ve.clipMinimum),new OxyPen$1(OxyColors$1.Blue,1,LineStyle$1.Dot),EdgeRenderingMode$1.Automatic),await t(e,0,Ve.transform(Ve.clipMaximum),$e.width,Ve.transform(Ve.clipMaximum),new OxyPen$1(OxyColors$1.Blue,1,LineStyle$1.Dot),EdgeRenderingMode$1.Automatic),await t(e,0,Ve.transform(Ve.actualMinimum),$e.width,Ve.transform(Ve.actualMinimum),new OxyPen$1(OxyColors$1.Red,1,LineStyle$1.Dot),EdgeRenderingMode$1.Automatic),await t(e,0,Ve.transform(Ve.actualMaximum),$e.width,Ve.transform(Ve.actualMaximum),new OxyPen$1(OxyColors$1.Red,1,LineStyle$1.Dot),EdgeRenderingMode$1.Automatic),await t(e,0,Ve.transform(Ve.dataMinimum),$e.width,Ve.transform(Ve.dataMinimum),new OxyPen$1(OxyColors$1.Green,1,LineStyle$1.Dot),EdgeRenderingMode$1.Automatic),await t(e,0,Ve.transform(Ve.dataMaximum),$e.width,Ve.transform(Ve.dataMaximum),new OxyPen$1(OxyColors$1.Green,1,LineStyle$1.Dot),EdgeRenderingMode$1.Automatic)}}))}function marginsAndPaddingAsymmetrical(){const $e=new PlotModel({title:"Try resizing the plot",subtitle:`ClipMinimum/Maximum are Blue
ActualMinimum/Maximum are Red
DataMinimum/Maximum are Green`}),e=new LinearAxis$1({position:AxisPosition$1.Bottom,minimumPadding:.1,maximumPadding:.05,minimumDataMargin:20,maximumDataMargin:10,minimumMargin:30,maximumMargin:15,majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Dash,cropGridlines:!0});$e.axes.push(e);const t=new LinearAxis$1({position:AxisPosition$1.Left,minimumPadding:.2,maximumPadding:.1,minimumDataMargin:40,maximumDataMargin:20,minimumMargin:60,maximumMargin:30,majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Dash,cropGridlines:!0});$e.axes.push(t);const r=new LineSeries;return r.color=OxyColors$1.Green,r.points.push(newDataPoint$1(-5,0)),r.points.push(newDataPoint$1(-5,20)),r.points.push(newDataPoint$1(25,20)),r.points.push(newDataPoint$1(25,0)),r.points.push(newDataPoint$1(-5,0)),$e.series.push(r),_addAxisMarginAnnotations($e),$e}function minimumMajorIntervalCount(){const $e=new PlotModel({title:"MinimumMajorIntervalCount = 10"}),e=new LinearAxis$1({position:AxisPosition$1.Bottom,minimumMajorIntervalCount:10});$e.axes.push(e);const t=new LinearAxis$1({position:AxisPosition$1.Left,minimumMajorIntervalCount:10});return $e.axes.push(t),$e}function maximumMajorIntervalCount(){const $e=new PlotModel({title:"MaximumMajorIntervalCount = 5"}),e=new LinearAxis$1({position:AxisPosition$1.Bottom,maximumMajorIntervalCount:5});$e.axes.push(e);const t=new LinearAxis$1({position:AxisPosition$1.Left,maximumMajorIntervalCount:5});return $e.axes.push(t),$e}function minimumAndMaximumMajorIntervalCount(){const $e=new PlotModel({title:"MinimumMajorIntervalCount = MaximumMajorIntervalCount = 4"}),e=new LinearAxis$1({position:AxisPosition$1.Bottom,minimumMajorIntervalCount:4,maximumMajorIntervalCount:4});$e.axes.push(e);const t=new LinearAxis$1({position:AxisPosition$1.Left,minimumMajorIntervalCount:4,maximumMajorIntervalCount:4});return $e.axes.push(t),$e}function createTickStyleExample($e){const e=getEnumName(TickStyle$1,$e),t=new PlotModel({title:"TickStyle = "+e});return t.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,tickStyle:$e})),t.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,tickStyle:$e})),t}const category$Q="Axis examples",AxisExamples={category:category$Q,tags:["Axes"],examples:[{title:"TickStyle: None",example:{model:tickStyleNone$1}},{title:"TickStyle: Inside",example:{model:tickStyleInside$1}},{title:"TickStyle: Crossing",example:{model:tickStyleCrossing$1}},{title:"TickStyle: Outside",example:{model:tickStyleOutside$1}},{title:"TickStyle: Color major and minor ticks differently",example:{model:tickLineColor}},{title:"GridLinestyle: None (default)",example:{model:gridlineStyleNone}},{title:"GridLinestyle: Vertical",example:{model:gridLinestyleVertical}},{title:"GridLinestyle: Horizontal",example:{model:gridLinestyleHorizontal}},{title:"GridLinestyle: Horizontal and vertical",example:{model:gridLinestyleBoth}},{title:"Axis position left/bottom",example:{model:axisPositionLeftAndBottom}},{title:"Axis position top/right",example:{model:axisPositionTopRight}},{title:"Axis label angle 45deg",example:{model:axisAngle45}},{title:"Zero crossing axis",example:{model:zeroCrossing}},{title:"Horizontal zero crossing axis",example:{model:horizontalZeroCrossing}},{title:"Vertical zero crossing axis",example:{model:verticalZeroCrossing}},{title:"Reversed",example:{model:reversed}},{title:"Sharing Y axis",example:{model:sharingY}},{title:"Four axes",example:{model:fourAxes}},{title:"Five axes",example:{model:fiveAxes}},{title:"Logarithmic axes",example:{model:logarithmicAxes}},{title:"Logarithmic axes Cartesian Plot",example:{model:cartesianPlotLogarithmicAxes}},{title:"Big numbers",example:{model:bigNumbers}},{title:"Big numbers with super exponential format",example:{model:bigNumbersSuperExponentialFormat}},{title:"Small numbers",example:{model:smallNumbers}},{title:"Default padding",example:{model:defaultPadding}},{title:"No padding",example:{model:noPadding}},{title:"Padding 10%",example:{model:padding}},{title:"X-axis MinimumPadding=0.1",example:{model:xaxisMinimumPadding}},{title:"X-axis MaximumPadding=0.1",example:{model:xaxisMaximumPadding}},{title:"AbsoluteMinimum and AbsoluteMaximum",example:{model:absoluteMinimumAndMaximum}},{title:"MinimumRange",example:{model:minimumRange}},{title:"MaximumRange",example:{model:maximumRange}},{title:"Title with unit",example:{model:titleWithUnit}},{title:"Invisible vertical axis",example:{model:invisibleVerticalAxis}},{title:"Invisible horizontal axis",example:{model:invisibleHorizontalAxis}},{title:"Zooming disabled",example:{model:zoomingDisabled}},{title:"Panning disabled",example:{model:panningDisabled}},{title:"Dense intervals",example:{model:denseIntervals}},{title:"Graph Paper",example:{model:graphPaper}},{title:"Log-Log Paper",example:{model:logLogPaper}},{title:"Black background",example:{model:onBlack}},{title:"Background and PlotAreaBackground",example:{model:backgrounds}},{title:"Current culture",example:{model:currentCulture}},{title:"Long axis titles (clipped at 90%)",example:{model:longAxisTitlesClipped90}},{title:"Long axis titles (clipped at 100%)",example:{model:longAxisTitlesClipped100}},{title:"Long axis titles (not clipped)",example:{model:longAxisTitlesNotClipped}},{title:"PositionTier",example:{model:positionTier}},{title:"Custom axis title color",example:{model:titleColor}},{title:"Custom axis label color",example:{model:labelColor}},{title:"Angled axis numbers",example:{model:angledAxisNumbers}},{title:"Axis distance",example:{model:axisDistance}},{title:"No axes defined",example:{model:noAxesDefined}},{title:"LabelFormatter",example:{model:labelFormatter$1}},{title:"Tool tips",example:{model:toolTips}},{title:"Sub- and superscript in axis titles",example:{model:subSuperscriptInAxisTitles}},{title:"MinimumMajorStep",example:{model:minimumMajorStep}},{title:"MinimumMinorStep",example:{model:minimumMinorStep}},{title:"Default AxisTitleDistance",example:{model:defaultAxisTitleDistance}},{title:"Custom AxisTitleDistance",example:{model:customAxisTitleDistance}},{title:"MajorGridlineStyle",example:{model:majorGridlineStyle}},{title:"Gridlines Cropping: Horizontal and vertical",example:{model:gridlineCroppingBoth}},{title:"Multi vertical axes with lineSeries",example:{model:multiVerticalAxes}},{title:"Auto Margins",example:{model:autoMargin}},{title:"Manual Margins",example:{model:manualMargins}},{title:"Manual Left Margin",example:{model:manualLeftMargin}},{title:"Auto Margins - Wide Labels",example:{model:autoMarginWideLabels}},{title:"Auto Margins - Wide Labels, rotated",example:{model:autoMarginWideLabelsRotated}},{title:"Auto Margins - Wide Labels, fixed Range",example:{model:autoMarginWideLabelsFixedRange}},{title:"Auto Margins - Wide Labels, fixed Range 2",example:{model:autoMarginWideLabelsFixedRange2}},{title:"Data Margins",example:{model:minimumAndMaximumDataMargins}},{title:"Data Margins with Zero-Crossing",example:{model:minimumAndMaximumDataMarginsZeroCrossing}},{title:"Data Margins on Log Axis",example:{model:minimumAndMaximumDataMarginsLog}},{title:"Data Margins on Polar Plot",example:{model:minimumAndMaximumMarginsPolar}},{title:"Axis Margins",example:{model:axisOutMargins}},{title:"Axis Margins Clipping",example:{model:axisMarginsClipping}},{title:"Axis Margins on Polar Plot",example:{model:polarOuterMargins}},{title:"Axis Margins, Data Margins, and Padding",example:{model:marginsAndPadding}},{title:"Axis Margins, Data Margins, and Padding, Asymmetrical",example:{model:marginsAndPaddingAsymmetrical}},{title:"Minimum Major Interval Count",example:{model:minimumMajorIntervalCount}},{title:"Maximum Major Interval Count",example:{model:maximumMajorIntervalCount}},{title:"Minimum and Maximum Major Interval Count",example:{model:minimumAndMaximumMajorIntervalCount}}]};function functionSeries$1(){const $e=new PlotModel({title:"Trigonometric functions",plotType:PlotType.Cartesian});return $e.series.push(FunctionSeries.fromDx(Math.sin,-10,10,.1,"sin(x)")),$e.series.push(FunctionSeries.fromDx(Math.cos,-10,10,.1,"cos(x)")),$e.series.push(FunctionSeries.fromFxFyN(e=>5*Math.cos(e),e=>5*Math.sin(e),0,2*Math.PI,1e3,"cos(t),sin(t)")),$e}function clover$1(){const $e=new PlotModel({title:"Parametric function",plotType:PlotType.Cartesian});return $e.series.push(FunctionSeries.fromFxFyN(e=>2*Math.cos(2*e)*Math.cos(e),e=>2*Math.cos(2*e)*Math.sin(e),0,Math.PI*2,1e3,"2cos(2t)cos(t) , 2cos(2t)sin(t)")),$e}function absoluteYmin(){const $e=new PlotModel({title:"Y: AbsoluteMinimum = 0",plotType:PlotType.Cartesian}),e=OxyColors$1.DarkBlue;return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,title:"X-axis",majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Solid,majorGridlineColor:OxyColor$1.fromAColor(40,e),minorGridlineColor:OxyColor$1.fromAColor(20,e)})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Solid,majorGridlineColor:OxyColor$1.fromAColor(40,e),minorGridlineColor:OxyColor$1.fromAColor(20,e)})),$e.series.push(createTestSeries()),$e}function absoluteYmin2(){const $e=new PlotModel({title:"Y: AbsoluteMinimum = 0",subtitle:"AutoAdjustPlotMargins = false",plotType:PlotType.Cartesian,plotMargins:new OxyThickness$1(60,4,4,40)}),e=OxyColors$1.DarkBlue;return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,title:"X-axis",majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Solid,majorGridlineColor:OxyColor$1.fromAColor(40,e),minorGridlineColor:OxyColor$1.fromAColor(20,e)})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Solid,majorGridlineColor:OxyColor$1.fromAColor(40,e),minorGridlineColor:OxyColor$1.fromAColor(20,e)})),$e.series.push(createTestSeries()),$e}function absoluteYminXmin(){const $e=new PlotModel({title:"X: AbsoluteMinimum = -10, Y: AbsoluteMinimum = 0",plotType:PlotType.Cartesian}),e=OxyColors$1.DarkBlue;return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,title:"X-axis",absoluteMinimum:-10,majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Solid,majorGridlineColor:OxyColor$1.fromAColor(40,e),minorGridlineColor:OxyColor$1.fromAColor(20,e)})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Solid,majorGridlineColor:OxyColor$1.fromAColor(40,e),minorGridlineColor:OxyColor$1.fromAColor(20,e)})),$e.series.push(createTestSeries()),$e}function absoluteYminYmax(){const $e=new PlotModel({title:"Y: AbsoluteMinimum = 0, AbsoluteMaximum = 2",plotType:PlotType.Cartesian}),e=OxyColors$1.DarkBlue;return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,title:"X-axis",majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Solid,majorGridlineColor:OxyColor$1.fromAColor(40,e),minorGridlineColor:OxyColor$1.fromAColor(20,e)})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,absoluteMaximum:2,majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Solid,majorGridlineColor:OxyColor$1.fromAColor(40,e),minorGridlineColor:OxyColor$1.fromAColor(20,e)})),$e.series.push(createTestSeries()),$e}function absoluteYminXminXmax(){const $e=new PlotModel({title:"Y: AbsoluteMinimum = 0, X: AbsoluteMinimum = -10, AbsoluteMaximum = 10",plotType:PlotType.Cartesian}),e=OxyColors$1.DarkBlue;return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,title:"X-axis",absoluteMinimum:-10,absoluteMaximum:10,majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Solid,majorGridlineColor:OxyColor$1.fromAColor(40,e),minorGridlineColor:OxyColor$1.fromAColor(20,e)})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Solid,majorGridlineColor:OxyColor$1.fromAColor(40,e),minorGridlineColor:OxyColor$1.fromAColor(20,e)})),$e.series.push(createTestSeries()),$e}function absoluteYminYmaxXminXmax(){const $e=new PlotModel({title:"Y: AbsoluteMinimum = 0, AbsoluteMaximum = 2, X: AbsoluteMinimum = -10, AbsoluteMaximum = 10",plotType:PlotType.Cartesian}),e=OxyColors$1.DarkBlue;return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,title:"X-axis",absoluteMinimum:-10,absoluteMaximum:10,majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Solid,majorGridlineColor:OxyColor$1.fromAColor(40,e),minorGridlineColor:OxyColor$1.fromAColor(20,e)})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,absoluteMaximum:2,majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Solid,majorGridlineColor:OxyColor$1.fromAColor(40,e),minorGridlineColor:OxyColor$1.fromAColor(20,e)})),$e.series.push(createTestSeries()),$e}function createTestSeries(){const $e=new LineSeries;return $e.points.push(newDataPoint$1(-8,0),newDataPoint$1(-7.5,.1),newDataPoint$1(-7,.2),newDataPoint$1(-6,.4),newDataPoint$1(-5,.5),newDataPoint$1(-4,.6),newDataPoint$1(-3,.7),newDataPoint$1(-2,.8),newDataPoint$1(-1,.9),newDataPoint$1(0,1),newDataPoint$1(1,.9),newDataPoint$1(2,.8),newDataPoint$1(3,.7),newDataPoint$1(4,.6),newDataPoint$1(5,.5),newDataPoint$1(6,.4),newDataPoint$1(7,.2),newDataPoint$1(7.5,.1),newDataPoint$1(8,0),DataPoint_Undefined$1,newDataPoint$1(-.5,.5),newDataPoint$1(-.5,1.5),newDataPoint$1(.5,1.5),newDataPoint$1(.5,.5),newDataPoint$1(-.5,.5)),$e}const category$P="Cartesian axes",CartesianAxesExamples={category:category$P,tags:["Axes"],examples:[{title:"Trigonometric functions",example:{model:functionSeries$1}},{title:"Clover",example:{model:clover$1}},{title:"AbsoluteMinimum Y",example:{model:absoluteYmin}},{title:"AbsoluteMinimum Y, manual plotmargins",example:{model:absoluteYmin2}},{title:"AbsoluteMinimum X/Y",example:{model:absoluteYminXmin}},{title:"AbsoluteMinimum/Maximum Y",example:{model:absoluteYminYmax}},{title:"AbsoluteMinimum Y, AbsoluteMinimum/Maximum X",example:{model:absoluteYminXminXmax}},{title:"AbsoluteMinimum/Maximum X/Y",example:{model:absoluteYminYmaxXminXmax}}]};function standardCategoryAxis(){const $e=new PlotModel({title:"Standard"}),e=new CategoryAxis$1;e.labels.push("1","2","3","4","5","6","7","8","9","10","11","12"),$e.axes.push(e);const t=new LinearAxis$1({position:AxisPosition$1.Left});return $e.axes.push(t),$e}function itemsSourceStrings(){const $e=new PlotModel({title:"CategoryAxis with string[] as ItemsSource"});$e.axes.push(new CategoryAxis$1({stringFormatter:t=>`Item ${t}`,itemsSource:["A","B","C"]}));const e=new LinearAxis$1({position:AxisPosition$1.Left});return $e.axes.push(e),$e}function itemsSourceValues(){const $e=new PlotModel({title:"CategoryAxis with int[] as ItemsSource"});$e.axes.push(new CategoryAxis$1({stringFormatter:t=>`Item ${t}`,itemsSource:[10,100,123]}));const e=new LinearAxis$1({position:AxisPosition$1.Left});return $e.axes.push(e),$e}function majorStepCategoryAxis(){const $e=new PlotModel({title:"Major Step = 4, IsTickCentered = false"}),e=new CategoryAxis$1({isTickCentered:!1,majorStep:4});e.labels.push("1","2","3","4","5","6","7","8","9","10","11","12"),$e.axes.push(e);const t=new LinearAxis$1({position:AxisPosition$1.Left});return $e.axes.push(t),$e}function majorStepCategoryTickCenteredAxis(){const $e=new PlotModel({title:"Major Step = 4, IsTickCentered = true"}),e=new CategoryAxis$1({isTickCentered:!0,majorStep:4});e.labels.push("1","2","3","4","5","6","7","8","9","10","11","12"),$e.axes.push(e);const t=new LinearAxis$1({position:AxisPosition$1.Left});return $e.axes.push(t),$e}const category$O="CategoryAxis",CategoryAxisExamples={category:category$O,tags:["Axes"],examples:[{title:"Standard",example:{model:standardCategoryAxis}},{title:"ItemsSource - string[]",example:{model:itemsSourceStrings}},{title:"ItemsSource - int[]",example:{model:itemsSourceValues}},{title:"MajorStep",example:{model:majorStepCategoryAxis}},{title:"MajorStep, TickCentered",example:{model:majorStepCategoryTickCenteredAxis}}]};function standardCategoryColorAxis(){const $e=new PlotModel({title:"CategoryColorAxis"}),e=new CategoryColorAxis({key:"ccc",palette:OxyPalettes$1.blackWhiteRed(12)});e.labels.push("1","2","3","4","5","6","7","8","9","10","11","12"),$e.axes.push(e);const t=new LinearAxis$1({position:AxisPosition$1.Left}),r=new ScatterSeries({colorAxisKey:e.key});return r.points.push({x:0,y:0,size:NaN,value:0}),r.points.push({x:3,y:0,size:NaN,value:3}),$e.series.push(r),$e.axes.push(t),$e}function majorStep4(){const $e=new PlotModel({title:"Major Step = 4, IsTickCentered = true"}),e=new CategoryColorAxis({palette:OxyPalettes$1.blackWhiteRed(3),isTickCentered:!0,majorStep:4});e.labels.push("1","2","3","4","5","6","7","8","9","10","11","12"),$e.axes.push(e);const t=new LinearAxis$1({position:AxisPosition$1.Left});return $e.axes.push(t),$e}const category$N="CategoryColorAxis",CategoryColorAxisExamples={category:category$N,tags:["Axes"],examples:[{title:"CategoryColorAxis",example:{model:standardCategoryColorAxis}},{title:"Centered ticks, MajorStep = 4",example:{model:majorStep4}}]};function customArrowAxis(){const $e=new PlotModel({plotAreaBorderThickness:new OxyThickness$1(0),plotMargins:new OxyThickness$1(60,60,60,60)});return $e.axes.push(new ArrowAxis({position:AxisPosition$1.Bottom,axislineStyle:LineStyle$1.Solid})),$e.axes.push(new ArrowAxis({position:AxisPosition$1.Left,axislineStyle:LineStyle$1.Solid})),$e}class ArrowAxis extends LinearAxis$1{async render(e,t){await super.render(e,t);const r=[];if(this.isHorizontal()){const Ve=this.transform(this.actualMaximum);r.push(newScreenPoint$1(Ve+4,this.plotModel.plotArea.bottom-4)),r.push(newScreenPoint$1(Ve+18,this.plotModel.plotArea.bottom)),r.push(newScreenPoint$1(Ve+4,this.plotModel.plotArea.bottom+4))}else{const Ve=this.transform(this.actualMaximum);r.push(newScreenPoint$1(this.plotModel.plotArea.left-4,Ve-4)),r.push(newScreenPoint$1(this.plotModel.plotArea.left,Ve-18)),r.push(newScreenPoint$1(this.plotModel.plotArea.left+4,Ve-4))}await e.drawPolygon(r,OxyColors$1.Black,OxyColors$1.Undefined,0,this.edgeRenderingMode)}}const category$M="Custom axes",CustomAxisExamples={category:category$M,tags:["Axes"],examples:[{title:"ArrowAxis",example:{model:customArrowAxis}}]};class Sun{static deg2Rad(e){return Math.PI*e/180}static rad2Deg(e){return 180*e/Math.PI}static fixValue(e,t,r){for(;e<t;)e+=r-t;for(;e>=r;)e-=r-t;return e}static calculate(e,t,r,Ve,je,ze=90.5){const Xe=dayjs$2(e).dayOfYear(),We=r/15;let qe;Ve?qe=Xe+(6-We)/24:qe=Xe+(18-We)/24;const Ke=.9856*qe-3.289;let Ze=Ke+1.916*Math.sin(this.deg2Rad(Ke))+.02*Math.sin(this.deg2Rad(2*Ke))+282.634;Ze=this.fixValue(Ze,0,360);let Je=this.rad2Deg(Math.atan(.91764*Math.tan(this.deg2Rad(Ze))));Je=this.fixValue(Je,0,360);const Qe=Math.floor(Ze/90)*90,ti=Math.floor(Je/90)*90;Je=Je+(Qe-ti),Je=Je/15;const ni=.39782*Math.sin(this.deg2Rad(Ze)),ri=Math.cos(Math.asin(ni)),ii=(Math.cos(this.deg2Rad(ze))-ni*Math.sin(this.deg2Rad(t)))/(ri*Math.cos(this.deg2Rad(t)));let ei;Ve?ei=360-this.rad2Deg(Math.acos(ii)):ei=this.rad2Deg(Math.acos(ii)),ei=ei/15;let oi=ei+Je-.06571*qe-6.622-We;e=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0));const si=new Date(e.getTime()+oi*60*60*1e3);return oi=(je(si).getTime()-e.getTime())/(60*60*1e3),oi=this.fixValue(oi,0,24),new Date(e.getTime()+oi*60*60*1e3)}}const defaultValues$1=()=>createExample$2(7,void 0),stringFormat$1=()=>{const $e=getDateService$1();return createExample$2(7,e=>$e.format(e,`MMM DD
YYYY`))};function createExample$2($e,e){const t=new PlotModel,r=new Date(2e3,0,1),Ve=DateTimeAxis.toDouble(r),je=Ve+$e;return t.axes.push(new DateTimeAxis({position:AxisPosition$1.Bottom,minimum:Ve,maximum:je,stringFormatter:e})),t.axes.push(new DateTimeAxis({position:AxisPosition$1.Left,minimum:Ve,maximum:je,stringFormatter:e})),t}function daylightSavingsBreak(){const $e=new PlotModel,e=new DateTimeAxis;e.position=AxisPosition$1.Bottom,$e.axes.push(e),$e.axes.push(new LinearAxis$1);const t=new LineSeries;t.markerType=MarkerType$1.Circle,$e.series.push(t);const r=new Date(Date.UTC(2013,2,31,0,0,0));for(let Ve=0;Ve<400;Ve+=10){const je=new Date(r.getTime()+Ve*6e4);t.points.push(DateTimeAxis.createDataPoint(je,Ve))}return $e}function dateTimeAxisPlotModel(){const $e=new Date(2010,0,1),e=new Date(2015,0,1),t=3600*24*14,r=getDateService$1(),Ve=[];let je=$e;const ze=new Random;for(;je<=e;)Ve.push({date:je,value:ze.next()}),je=r.addTimespan(je,TimeSpan$1.fromSeconds(t));const Xe=new PlotModel({title:"DateTime axis"}),We=new DateTimeAxis({firstDayOfWeek:DayOfWeek$1.Monday,position:AxisPosition$1.Bottom});Xe.axes.push(We);const qe=new LinearAxis$1;Xe.axes.push(qe);const Ke=new LineSeries({color:OxyColor$1.fromArgb(255,78,154,6),markerFill:OxyColor$1.fromArgb(255,78,154,6),markerStroke:OxyColors$1.ForestGreen,markerType:MarkerType$1.Plus,strokeThickness:1,dataFieldX:"date",dataFieldY:"value",itemsSource:Ve});return Xe.series.push(Ke),Xe}function sunriseAndSunsetInOslo(){const $e=new Date().getFullYear(),t=createSunData($e,59.91,10.75,We=>{const qe=isDaylightSaving(We)?2:1;return new Date(We.getTime()+qe*60*60*1e3)}),r=new PlotModel({title:"Sunrise and sunset in Oslo",subtitle:"UTC time"}),Ve=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],je=new DateTimeAxis({firstDayOfWeek:DayOfWeek$1.Monday,intervalType:DateTimeIntervalType$1.Months,majorGridlineStyle:LineStyle$1.Solid,position:AxisPosition$1.Bottom,stringFormatter:We=>Ve[We.getMonth()]});r.axes.push(je);const ze=new TimeSpanAxis({majorGridlineStyle:LineStyle$1.Solid,maximum:86400,minimum:0,stringFormatter:We=>formatTimeSpan(We,"hh:mm")});r.axes.push(ze);const Xe=new AreaSeries({itemsSource:t,dataFieldX:"Day",dataFieldY:"Sunrise",dataFieldX2:"Day",dataFieldY2:"Sunset",fill:OxyColor$1.fromArgb(128,255,255,0),color:OxyColors$1.Black});return r.series.push(Xe),r}function labelFormatter(){const $e=new PlotModel({title:"Using LabelFormatter to format labels by day of week"});$e.axes.push(new DateTimeAxis({labelFormatter:t=>DateTimeAxis.toDateTime(t).getDay().toString().substring(0,3)}));const e=new LineSeries;$e.series.push(e);for(let t=0;t<7;t++){const r=new Date(2014,9,10);r.setDate(r.getDate()+t);const Ve=DateTimeAxis.toDouble(r),je=Math.sin(t*t);e.points.push(newDataPoint$1(Ve,je))}return $e}function createSunData($e,e,t,r){const Ve=[];let je=new Date($e,0,1);const ze=TimeSpan$1.fromMinutes(je.getTimezoneOffset()),Xe=getDateService$1();for(;je.getFullYear()===$e;){let We=Sun.calculate(je,e,t,!0,r);We=Xe.addTimespan(We,ze);let qe=Sun.calculate(je,e,t,!1,r);qe=Xe.addTimespan(qe,ze),Ve.push({Day:je,Sunrise:Xe.diff(We,je),Sunset:Xe.diff(qe,je)}),je=Xe.addTimespan(je,TimeSpan$1.fromDays(1))}return Ve}function isDaylightSaving($e){const e=new Date($e.getFullYear(),2,31,2,0,0);e.setDate(e.getDate()-e.getDay());const t=new Date($e.getFullYear(),9,31,3,0,0);return t.setDate(t.getDate()-t.getDay()),$e>=e&&$e<=t}const category$L="DateTimeAxis",DateTimeAxisExamples={category:category$L,tags:["Axes"],examples:[{title:"Default StringFormat",example:{model:defaultValues$1}},{title:"StringFormat 'MMM DD\\nYYYY'",example:{model:stringFormat$1}},{title:"TimeZone adjustments",example:{model:daylightSavingsBreak}},{title:"DateTime axis",example:{model:dateTimeAxisPlotModel}},{title:"Sunrise and sunset in Oslo",example:{model:sunriseAndSunsetInOslo}},{title:"LabelFormatter",example:{model:labelFormatter}}]};function stringFormat(){return createExample$1(123456.78901234567,1.2345678901234567e6,void 0)}function stringFormatF2(){return createExample$1(123456.78901234567,1.2345678901234567e6,($e,e)=>$e.toFixed(2))}function tickStyleNone(){return createTickStyleModel(TickStyle$1.None)}function tickStyleCrossing(){return createTickStyleModel(TickStyle$1.Crossing)}function tickStyleInside(){return createTickStyleModel(TickStyle$1.Inside)}function tickStyleOutside(){return createTickStyleModel(TickStyle$1.Outside)}function gridlinesNone(){return createGridlinesModel("None",LineStyle$1.None,LineStyle$1.None)}function gridlinesHorizontal(){return createGridlinesModel("Horizontal",LineStyle$1.Solid,LineStyle$1.None)}function gridlinesVertical(){return createGridlinesModel("Vertical",LineStyle$1.None,LineStyle$1.Solid)}function gridlinesBoth(){return createGridlinesModel("Both",LineStyle$1.Solid,LineStyle$1.Solid)}function createExample$1($e,e,t){const r=new PlotModel;return r.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimum:$e,maximum:e,stringFormatter:t})),r.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:$e,maximum:e,stringFormatter:t})),r}function createTickStyleModel($e){const e=new PlotModel({title:`TickStyle: ${$e}`});return e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,tickStyle:$e,majorGridlineStyle:LineStyle$1.None,minorGridlineStyle:LineStyle$1.None,maximumPadding:0,minimumPadding:0})),e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,tickStyle:$e,majorGridlineStyle:LineStyle$1.None,minorGridlineStyle:LineStyle$1.None,maximumPadding:0,minimumPadding:0})),e}function createGridlinesModel($e,e,t){const r=new PlotModel({title:`Gridlines: ${$e}`});return r.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,majorGridlineStyle:t,minorGridlineStyle:t===LineStyle$1.Solid?LineStyle$1.Dot:LineStyle$1.None,maximumPadding:0,minimumPadding:0})),r.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,majorGridlineStyle:e,minorGridlineStyle:e===LineStyle$1.Solid?LineStyle$1.Dot:LineStyle$1.None,maximumPadding:0,minimumPadding:0})),r}const category$K="LinearAxis",LinearAxisExamples={category:category$K,tags:["Axes"],examples:[{title:"Default StringFormat ('g6')",example:{model:stringFormat}},{title:"StringFormat = 'f2'",example:{model:stringFormatF2}},{title:"TickStyle: None",example:{model:tickStyleNone}},{title:"TickStyle: Crossing",example:{model:tickStyleCrossing}},{title:"TickStyle: Inside",example:{model:tickStyleInside}},{title:"TickStyle: Outside",example:{model:tickStyleOutside}},{title:"Gridlines: None",example:{model:gridlinesNone}},{title:"Gridlines: Horizontal",example:{model:gridlinesHorizontal}},{title:"Gridlines: Vertical",example:{model:gridlinesVertical}},{title:"Gridlines: Both",example:{model:gridlinesBoth}}]};function peaks$1(){return _createHeatMapPeaks()}function interpolated(){return _createExample("Interpolated",!0)}function interpolatedCartesian(){const $e=_createExample("Interpolated, cartesian axes",!0);return $e.plotType=PlotType.Cartesian,$e}function interpolatedWithNanValue(){const $e=_createExample("Interpolated including two NaN values",!0),e=$e.series[0];return e.data[0][1]=Number.NaN,e.data[1][0]=Number.NaN,$e}function interpolatedWithNanValueFlat(){const $e=_createExample("Interpolated including two NaN values, otherwise 4.71",!0),t=$e.series[0].data,r=4.71;return t[0][0]=r,t[0][1]=r,t[0][2]=r,t[1][0]=r,t[1][1]=r,t[1][2]=r,t[0][1]=Number.NaN,t[1][0]=Number.NaN,$e}function notInterpolated(){return _createExample("Not interpolated values",!1)}function notInterpolatedWithNanValue(){const $e=_createExample("Not interpolated values including two NaN values",!1),e=$e.axes[0];e.invalidNumberColor=OxyColors$1.Transparent;const t=$e.series[0];return t.data[0][1]=Number.NaN,t.data[1][0]=Number.NaN,$e}function notInterpolatedWithNanValueFlat(){const $e=_createExample("Not interpolated values including two NaN values, otherwise 4.71",!1),e=$e.axes[0];e.invalidNumberColor=OxyColors$1.Transparent;const t=$e.series[0];if(!t.data)return $e;const r=4.71;return t.data[0][0]=r,t.data[0][1]=r,t.data[0][2]=r,t.data[1][0]=r,t.data[1][1]=r,t.data[1][2]=r,t.data[0][1]=Number.NaN,t.data[1][0]=Number.NaN,$e}function notInterpolatedReversedX(){const $e=_createExample("Reversed x-axis",!1);return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,startPosition:1,endPosition:0})),$e}function x0GreaterThanX1(){const $e=_createExample("X0>X1",!1),e=$e.series[0],t=e.x0;return e.x0=e.x1,e.x1=t,$e}function reversedX_X0GreaterThanX1(){const $e=_createExample("Reversed x-axis, X0>X1",!1);$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,startPosition:1,endPosition:0}));const e=$e.series[0],t=e.x0;return e.x0=e.x1,e.x1=t,$e}function notInterpolatedReversedY(){const $e=_createExample("Reversed y-axis",!1);return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,startPosition:1,endPosition:0})),$e}function y0GreaterThanY1(){const $e=_createExample("Y0>Y1",!1),e=$e.series[0],t=e.y0;return e.y0=e.y1,e.y1=t,$e}function reversedY_Y0GreaterThanY1(){const $e=_createExample("Reversed y-axis, Y0>Y1",!1);$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,startPosition:1,endPosition:0}));const e=$e.series[0],t=e.y0;return e.y0=e.y1,e.y1=t,$e}function notInterpolatedReversedXY(){const $e=_createExample("Reversed x- and y-axis",!1);return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,startPosition:1,endPosition:0})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,startPosition:1,endPosition:0})),$e}function diagonal(){const $e=[[1,0,0],[0,1,0],[0,0,1]],e=new PlotModel({title:"Diagonal (center defined)"});e.axes.push(new LinearColorAxis({position:AxisPosition$1.Right,palette:OxyPalettes$1.jet(500),highColor:OxyColors$1.Gray,lowColor:OxyColors$1.Black}));const t=new HeatMapSeries({coordinateDefinition:HeatMapCoordinateDefinition.Center,x0:.5,x1:2.5,y0:2.5,y1:.5,data:$e,interpolate:!1});return e.series.push(t),e}function diagonal2(){const $e=[[1,0,0],[0,1,0],[0,0,1]],e=new PlotModel({title:"Diagonal (edge defined)"});e.axes.push(new LinearColorAxis({position:AxisPosition$1.Right,palette:OxyPalettes$1.jet(500),highColor:OxyColors$1.Gray,lowColor:OxyColors$1.Black}));const t=new HeatMapSeries({coordinateDefinition:HeatMapCoordinateDefinition.Edge,x0:0,x1:3,y0:3,y1:0,data:$e,interpolate:!1});return e.series.push(t),e}function diagonal_6X6(){const $e=Array(6).fill(Array(6).fill(0));$e[0][0]=1,$e[1][1]=1,$e[2][2]=1,$e[3][3]=1,$e[4][4]=1,$e[5][5]=1;const e=new PlotModel({title:"Diagonal 66"});e.axes.push(new LinearColorAxis({position:AxisPosition$1.Right,palette:OxyPalettes$1.jet(500),highColor:OxyColors$1.Gray,lowColor:OxyColors$1.Black}));const t=new HeatMapSeries({x0:0,x1:5,y0:5,y1:0,data:$e,interpolate:!1});return e.series.push(t),e}function confusionMatrix(){let $e=[[1,0,0],[0,.8,.2],[0,0,1]];$e=$e[0].map((We,qe)=>$e.map(Ke=>Ke[qe]));const e=["class A","class B","class C"],t=new PlotModel({title:"Confusion Matrix"}),r=OxyPalette$1.interpolate(50,OxyColors$1.White,OxyColors$1.Black),Ve=new LinearColorAxis({position:AxisPosition$1.Right,palette:r,highColor:OxyColors$1.White,lowColor:OxyColors$1.White});t.axes.push(Ve);const je=new CategoryAxis$1({position:AxisPosition$1.Top,title:"Actual class"});je.labels.push(...e),t.axes.push(je);const ze=new CategoryAxis$1({position:AxisPosition$1.Left,title:"Predicted class",angle:-90,startPosition:1,endPosition:0});ze.labels.push(...e),t.axes.push(ze);const Xe=new HeatMapSeries({data:$e,interpolate:!1,labelFontSize:.25,x0:0,x1:$e[0].length-1,y0:0,y1:$e.length-1});return t.series.push(Xe),t}function logXInterpolated(){const $e=Array(11).fill(0).map(()=>Array(21).fill(0)),e=Math.pow(2,.1);for(let Ve=0;Ve<11;Ve++)for(let je=0;je<21;je++)$e[Ve][je]=Math.pow(e,Ve)*je/40;const t=new PlotModel({title:"Logarithmic X, interpolated"});t.axes.push(new LogarithmicAxis({position:AxisPosition$1.Bottom})),t.axes.push(new LinearAxis$1({position:AxisPosition$1.Left})),t.axes.push(new LinearColorAxis({position:AxisPosition$1.Right,palette:OxyPalettes$1.gray(500),highColor:OxyColors$1.White,lowColor:OxyColors$1.Black}));const r=new HeatMapSeries({x0:1,x1:2,y0:0,y1:20,data:$e,interpolate:!0});return t.series.push(r),t}function logXNotInterpolated(){const $e=Array(11).fill(0).map(()=>Array(21).fill(0)),e=Math.pow(2,.1);for(let Ve=0;Ve<11;Ve++)for(let je=0;je<21;je++)$e[Ve][je]=Math.pow(e,Ve)*je/40;const t=new PlotModel({title:"Logarithmic X, discrete rectangles"});t.axes.push(new LogarithmicAxis({position:AxisPosition$1.Bottom})),t.axes.push(new LinearAxis$1({position:AxisPosition$1.Left})),t.axes.push(new LinearColorAxis({position:AxisPosition$1.Right,palette:OxyPalettes$1.gray(500),highColor:OxyColors$1.White,lowColor:OxyColors$1.Black}));const r=new HeatMapSeries({x0:1,x1:2,y0:0,y1:20,data:$e,interpolate:!1,renderMethod:HeatMapRenderMethod.Rectangles,labelFontSize:.4});return t.series.push(r),t}function normal_6X4(){return _create6X4("Normal 64 Heatmap")}function _createHeatMapPeaks($e,e=!0,t=100){const Xe=(Qe,ti)=>3*(1-Qe)*(1-Qe)*Math.exp(-(Qe*Qe)-(ti+1)*(ti+1))-10*(Qe/5-Qe*Qe*Qe-ti*ti*ti*ti*ti)*Math.exp(-Qe*Qe-ti*ti)-.3333333333333333*Math.exp(-(Qe+1)*(Qe+1)-ti*ti),We=ArrayBuilder$1.createVector(-3.1,3.1,t),qe=ArrayBuilder$1.createVector(-3,3,t),Ke=ArrayBuilder$1.evaluate(Xe,We,qe),Ze=new PlotModel({title:"Peaks"});Ze.axes.push(new LinearColorAxis({position:AxisPosition$1.Right,palette:$e??OxyPalettes$1.jet(500),highColor:OxyColors$1.Gray,lowColor:OxyColors$1.Black}));const Je=new HeatMapSeries({x0:-3.1,x1:3.1,y0:-3,y1:3,data:Ke});if(Ze.series.push(Je),e){const Qe=new ContourSeries({color:OxyColors$1.Black,fontSize:0,contourLevelStep:1,labelBackground:OxyColors$1.Undefined,columnCoordinates:qe,rowCoordinates:We,data:Ke});Ze.series.push(Qe)}return Ze}function _create6X4($e){const e=new TwoDimensionalArray$1(6,4);for(let r=1;r<=6;r++)for(let Ve=1;Ve<=4;Ve++)e.set(r-1,Ve-1,r*Ve);const t=new PlotModel({title:$e,subtitle:"Note the positions of the axes"});return t.axes.push(new LinearColorAxis({position:AxisPosition$1.Right,palette:OxyPalettes$1.jet(500),highColor:OxyColors$1.White,lowColor:OxyColors$1.Black})),t.series.push(new HeatMapSeries({x0:1,x1:6,y0:1,y1:4,data:e.toArray(),interpolate:!0,labelFontSize:.2})),t}function _createExample($e,e){const t=[[0,.2,.4],[.1,.3,.2]],r=new PlotModel({title:"HeatMapSeries",subtitle:$e});r.axes.push(new LinearColorAxis({position:AxisPosition$1.Right,palette:OxyPalettes$1.rainbow(500),highColor:OxyColors$1.Gray,lowColor:OxyColors$1.Black}));const Ve=new HeatMapSeries({coordinateDefinition:HeatMapCoordinateDefinition.Center,x0:.5,x1:1.5,y0:.5,y1:2.5,data:t,interpolate:e,labelFontSize:.2});return r.series.push(Ve),r}const HeatMapSeriesExamples={createPeaks:_createHeatMapPeaks},category$J="HeatMapSeries",HeatMapSeriesExamples$1={category:category$J,tags:["Series"],examples:[{title:"Peaks",example:{model:peaks$1}},{title:"23, interpolated",example:{model:interpolated}},{title:"23, interpolated, cartesian axes",example:{model:interpolatedCartesian}},{title:"23, interpolated with two NaN values",example:{model:interpolatedWithNanValue}},{title:"23, interpolated with two NaN values, flat data",example:{model:interpolatedWithNanValueFlat}},{title:"23, not interpolated",example:{model:notInterpolated}},{title:"23, not interpolated with two NaN values",example:{model:notInterpolatedWithNanValue}},{title:"23, not interpolated with two NaN values, flat data",example:{model:notInterpolatedWithNanValueFlat}},{title:"23, reversed x-axis",example:{model:notInterpolatedReversedX}},{title:"23, X0>X1",example:{model:x0GreaterThanX1}},{title:"23, reversed x-axis, X0>X1",example:{model:reversedX_X0GreaterThanX1}},{title:"23, reversed y-axis",example:{model:notInterpolatedReversedY}},{title:"23, Y0>Y1",example:{model:y0GreaterThanY1}},{title:"23, reversed y-axis, Y0>Y1",example:{model:reversedY_Y0GreaterThanY1}},{title:"2x3, reversed x- and y-axis",example:{model:notInterpolatedReversedXY}},{title:"33, diagonal (center defined)",example:{model:diagonal}},{title:"33, diagonal (edge defined)",example:{model:diagonal2}},{title:"66, diagonal",example:{model:diagonal_6X6}},{title:"Confusion matrix",example:{model:confusionMatrix}},{title:"Logarithmic X, interpolated",example:{model:logXInterpolated}},{title:"Logarithmic X, discrete rectangles",example:{model:logXNotInterpolated}},{title:"64, not transposed",example:{model:normal_6X4}}]};function defaultPalette(){const $e=HeatMapSeriesExamples.createPeaks(void 0,!1);return $e.axes.length=0,$e.axes.push(new LinearColorAxis({position:AxisPosition$1.Right})),$e}function jet200(){return HeatMapSeriesExamples.createPeaks(OxyPalettes$1.jet(200),!1)}function jet20(){return HeatMapSeriesExamples.createPeaks(OxyPalettes$1.jet(20),!1)}function hue400(){return HeatMapSeriesExamples.createPeaks(OxyPalettes$1.hue(400),!1)}function hueDistinct200(){return HeatMapSeriesExamples.createPeaks(OxyPalettes$1.hueDistinct(200),!1)}function hueDistinctReverse200(){return HeatMapSeriesExamples.createPeaks(OxyPalettes$1.hueDistinct(200).reverse(),!1)}function hot200(){return HeatMapSeriesExamples.createPeaks(OxyPalettes$1.hot(200),!1)}function hot64(){return HeatMapSeriesExamples.createPeaks(OxyPalettes$1.hot64,!1)}function hot30(){return HeatMapSeriesExamples.createPeaks(OxyPalettes$1.hot(30),!1)}function blueWhiteRed200(){return HeatMapSeriesExamples.createPeaks(OxyPalettes$1.blueWhiteRed(200),!1)}function blueWhiteRed40(){return HeatMapSeriesExamples.createPeaks(OxyPalettes$1.blueWhiteRed(40),!1)}function blackWhiteRed500(){return HeatMapSeriesExamples.createPeaks(OxyPalettes$1.blackWhiteRed(500),!1)}function blackWhiteRed3(){return HeatMapSeriesExamples.createPeaks(OxyPalettes$1.blackWhiteRed(3),!1)}function cool200(){return HeatMapSeriesExamples.createPeaks(OxyPalettes$1.cool(200),!1)}function rainbow200(){return HeatMapSeriesExamples.createPeaks(OxyPalettes$1.rainbow(200),!1)}function viridis(){return HeatMapSeriesExamples.createPeaks(OxyPalettes$1.viridis(),!1)}function plasma(){return HeatMapSeriesExamples.createPeaks(OxyPalettes$1.plasma(),!1)}function magma(){return HeatMapSeriesExamples.createPeaks(OxyPalettes$1.magma(),!1)}function inferno(){return HeatMapSeriesExamples.createPeaks(OxyPalettes$1.inferno(),!1)}function cividis(){return HeatMapSeriesExamples.createPeaks(OxyPalettes$1.cividis(),!1)}function viridis10(){return HeatMapSeriesExamples.createPeaks(OxyPalettes$1.viridis(10),!1)}function rainbow7(){return HeatMapSeriesExamples.createPeaks(OxyPalettes$1.rainbow(7),!1)}function vertical_6(){return HeatMapSeriesExamples.createPeaks(OxyPalettes$1.jet(6),!1)}function vertical_Reverse_6(){const $e=HeatMapSeriesExamples.createPeaks(OxyPalettes$1.jet(6),!1),e=$e.axes[0];return e.startPosition=1,e.endPosition=0,$e}function horizontal_6(){const $e=HeatMapSeriesExamples.createPeaks(OxyPalettes$1.jet(6),!1),e=$e.axes[0];return e.position=AxisPosition$1.Top,$e}function horizontal_Reverse_6(){const $e=HeatMapSeriesExamples.createPeaks(OxyPalettes$1.jet(6),!1),e=$e.axes[0];return e.position=AxisPosition$1.Top,e.startPosition=1,e.endPosition=0,$e}function renderAsImage_Horizontal(){const $e=HeatMapSeriesExamples.createPeaks(OxyPalettes$1.jet(1e3),!1),e=$e.axes[0];return e.renderAsImage=!0,e.position=AxisPosition$1.Top,$e}function renderAsImage_Horizontal_Reversed(){const $e=HeatMapSeriesExamples.createPeaks(OxyPalettes$1.jet(1e3),!1),e=$e.axes[0];return e.renderAsImage=!0,e.position=AxisPosition$1.Top,e.startPosition=1,e.endPosition=0,$e}function renderAsImage_Vertical(){const $e=HeatMapSeriesExamples.createPeaks(OxyPalettes$1.jet(1e3),!1),e=$e.axes[0];return e.renderAsImage=!0,$e}function renderAsImage_Vertical_Reversed(){const $e=HeatMapSeriesExamples.createPeaks(OxyPalettes$1.jet(1e3),!1),e=$e.axes[0];return e.renderAsImage=!0,e.startPosition=1,e.endPosition=0,$e}function vertical_Short(){const $e=HeatMapSeriesExamples.createPeaks(OxyPalettes$1.jet(600),!1),e=$e.axes[0];return e.startPosition=.02,e.endPosition=.5,$e}function position_None(){const $e=HeatMapSeriesExamples.createPeaks(OxyPalettes$1.jet(600),!1),e=$e.axes[0];return e.position=AxisPosition$1.None,$e}const category$I="LinearColorAxis",LinearColorAxisExamples={category:category$I,tags:["Axes"],examples:[{title:"Default palette",example:{model:defaultPalette}},{title:"Jet (200 colors) palette",example:{model:jet200}},{title:"Jet (20 colors) palette",example:{model:jet20}},{title:"Hue (400 colors) palette",example:{model:hue400}},{title:"Hue distinct (200 colors) palette",example:{model:hueDistinct200}},{title:"Hue distinct reversed (200 colors) palette",example:{model:hueDistinctReverse200}},{title:"Hot (200 colors) palette",example:{model:hot200}},{title:"Hot (64 colors) palette",example:{model:hot64}},{title:"Hot (30 colors) palette",example:{model:hot30}},{title:"Blue-white-red (200 colors) palette",example:{model:blueWhiteRed200}},{title:"Blue-white-red (40 colors) palette",example:{model:blueWhiteRed40}},{title:"Black-white-red (500 colors) palette",example:{model:blackWhiteRed500}},{title:"Black-white-red (3 colors) palette",example:{model:blackWhiteRed3}},{title:"Cool (200 colors) palette",example:{model:cool200}},{title:"Rainbow (200 colors) palette",example:{model:rainbow200}},{title:"Viridis palette",example:{model:viridis}},{title:"Plasma palette",example:{model:plasma}},{title:"Magma palette",example:{model:magma}},{title:"Inferno palette",example:{model:inferno}},{title:"Cividis palette",example:{model:cividis}},{title:"Viridis (10 colors) palette",example:{model:viridis10}},{title:"Rainbow (7 colors) palette",example:{model:rainbow7}},{title:"Vertical (6 colors)",example:{model:vertical_6}},{title:"Vertical reverse (6 colors)",example:{model:vertical_Reverse_6}},{title:"Horizontal (6 colors)",example:{model:horizontal_6}},{title:"Horizontal reverse (6 colors)",example:{model:horizontal_Reverse_6}},{title:"RenderAsImage (horizontal)",example:{model:renderAsImage_Horizontal}},{title:"RenderAsImage (horizontal reversed)",example:{model:renderAsImage_Horizontal_Reversed}},{title:"RenderAsImage (vertical)",example:{model:renderAsImage_Vertical}},{title:"RenderAsImage (vertical reversed)",example:{model:renderAsImage_Vertical_Reversed}},{title:"Short vertical",example:{model:vertical_Short}},{title:"Position None",example:{model:position_None}}]};function defaultValues(){const $e=new PlotModel;return $e.axes.push(new LogarithmicAxis({position:AxisPosition$1.Bottom})),$e.axes.push(new LogarithmicAxis({position:AxisPosition$1.Left})),$e}function amdahlsLaw(){const $e=new PlotModel({title:"Amdahl's law"}),e=new Legend({legendTitle:"Parallel portion"});$e.legends.push(e);const t=(Ve,je)=>1/(1-Ve+Ve/je),r=Ve=>{const je=new LineSeries({title:Ve.toFixed(0)});for(let ze=1;ze<=65536;ze*=2)je.points.push(newDataPoint$1(ze,t(Ve,ze)));return je};return $e.axes.push(new LogarithmicAxis({position:AxisPosition$1.Bottom,title:"Number of processors",base:2,majorGridlineStyle:LineStyle$1.Solid,tickStyle:TickStyle$1.None})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:0,maximum:20,minorStep:2,majorStep:2,title:"Speedup",stringFormatter:Ve=>Ve.toFixed(2).toString(),majorGridlineStyle:LineStyle$1.Solid,tickStyle:TickStyle$1.None})),$e.series.push(r(.5)),$e.series.push(r(.75)),$e.series.push(r(.9)),$e.series.push(r(.95)),$e}function richterMagnitudes(){const $e=new PlotModel({title:"The Richter magnitude scale",plotMargins:new OxyThickness$1(80,0,80,40)}),e=new Legend({legendPlacement:LegendPlacement.Inside,legendPosition:LegendPosition.TopCenter,legendOrientation:LegendOrientation.Horizontal,legendSymbolLength:24});$e.legends.push(e),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,title:"Richter magnitude scale",majorGridlineStyle:LineStyle$1.None,tickStyle:TickStyle$1.None}));const t=new LineSeries({title:"Frequency",color:OxyColor$1.fromUInt32(4282150046),strokeThickness:3,markerStroke:OxyColor$1.fromUInt32(4282150046),markerFill:OxyColors$1.White,markerType:MarkerType$1.Circle,markerSize:4,markerStrokeThickness:3});t.points.push(newDataPoint$1(1.5,8e3*365*100)),t.points.push(newDataPoint$1(2.5,1e3*365*100)),t.points.push(newDataPoint$1(3.5,49e3*100)),t.points.push(newDataPoint$1(4.5,6200*100)),t.points.push(newDataPoint$1(5.5,800*100)),t.points.push(newDataPoint$1(6.5,120*100)),t.points.push(newDataPoint$1(7.5,18*100)),t.points.push(newDataPoint$1(8.5,1*100)),t.points.push(newDataPoint$1(9.5,1/20*100)),$e.axes.push(new LogarithmicAxis({position:AxisPosition$1.Left,title:"Frequency / 100 yr",useSuperExponentialFormat:!0,majorGridlineStyle:LineStyle$1.None,tickStyle:TickStyle$1.Outside})),$e.series.push(t);const r=new LineSeries({title:"Energy",color:OxyColor$1.fromUInt32(4288572476),strokeThickness:3,markerStroke:OxyColor$1.fromUInt32(4288572476),markerFill:OxyColors$1.White,markerType:MarkerType$1.Circle,markerSize:4,markerStrokeThickness:3});return r.points.push(newDataPoint$1(1.5,11e6)),r.points.push(newDataPoint$1(2.5,36e7)),r.points.push(newDataPoint$1(3.5,11e9)),r.points.push(newDataPoint$1(4.5,36e10)),r.points.push(newDataPoint$1(5.5,11e12)),r.points.push(newDataPoint$1(6.5,36e13)),r.points.push(newDataPoint$1(7.5,11e15)),r.points.push(newDataPoint$1(8.5,36e16)),r.points.push(newDataPoint$1(9.5,11e18)),r.yAxisKey="energyAxis",$e.axes.push(new LogarithmicAxis({position:AxisPosition$1.Right,title:"Energy / J",key:"energyAxis",useSuperExponentialFormat:!0,majorGridlineStyle:LineStyle$1.None,tickStyle:TickStyle$1.Outside})),$e.series.push(r),$e}const absoluteMaximum=()=>{const $e=new PlotModel({title:"AbsoluteMaximum = 1000"});return $e.axes.push(new LogarithmicAxis({position:AxisPosition$1.Left,minimum:.1,maximum:1e3,absoluteMaximum:1e3})),$e.series.push(new FunctionSeries({f:Math.exp,x0:0,x1:Math.log(900),n:100})),$e},axisChangedEventHAndler=()=>{const $e=new PlotModel({title:"AxisChanged event handler"});let e=0;const t=new LogarithmicAxis({position:AxisPosition$1.Left,minimum:.1,maximum:1e3});return t.axisChanged=(r,Ve)=>{$e.subtitle="Changed "+e+++" times. ActualMaximum="+t.actualMaximum},$e.axes.push(t),$e.series.push(new FunctionSeries({f:Math.exp,x0:0,x1:Math.log(900),n:100})),$e},negativeValues=()=>{const $e=new PlotModel({title:"LogarithmicAxis",subtitle:"LineSeries with negative values"});return $e.axes.push(new LogarithmicAxis({position:AxisPosition$1.Left})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.series.push(new FunctionSeries({f:e=>Math.sin(e),x0:0,x1:40,n:1e3})),$e};function tickCalculation(){const $e=new PlotModel({title:"Tick calculation for different bases"});return $e.axes.push(new LogarithmicAxis({title:"Base 10",position:AxisPosition$1.Left,minimum:20,maximum:2e4,majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Solid})),$e.axes.push(new LogarithmicAxis({title:"Base 7",position:AxisPosition$1.Bottom,base:7,minimum:2,maximum:1e4,majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Solid})),$e.axes.push(new LogarithmicAxis({title:"Base 5.5",position:AxisPosition$1.Top,base:5.5,minimum:1,maximum:100,majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Solid})),$e.axes.push(new LogarithmicAxis({title:"Base 2",position:AxisPosition$1.Right,base:2,minimum:1,maximum:1e6,majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Solid})),$e}const category$H="LogarithmicAxis",LogarithmicAxisExamples={category:category$H,tags:["Axes"],examples:[{title:"LogarithmicAxis with default values",example:{model:defaultValues}},{title:"Amdahl's Law",example:{model:amdahlsLaw}},{title:"Richter magnitudes",example:{model:richterMagnitudes}},{title:"LogarithmicAxis with AbsoluteMaximum",example:{model:absoluteMaximum}},{title:"LogarithmicAxis with AxisChanged event handler",example:{model:axisChangedEventHAndler}},{title:"Negative values",example:{model:negativeValues}},{title:"Tick calculation",example:{model:tickCalculation}}]};function archimedeanSpiral(){const $e=new PlotModel({title:"Polar plot",subtitle:"Archimedean spiral with equation r() =  for 0 <  < 6",plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness$1(0)});return $e.axes.push(new AngleAxis({majorStep:Math.PI/4,minorStep:Math.PI/16,majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Solid,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"",minimum:0,maximum:2*Math.PI})),$e.axes.push(new MagnitudeAxis({majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Solid})),$e.series.push(new FunctionSeries({fx:e=>e,fy:e=>e,t0:0,t1:Math.PI*6,dt:.01})),$e}function archimedeanSpiral2(){const $e=archimedeanSpiral();$e.title+="(reversed angle axis)";const e=$e.axes[0];return e.startAngle=360,e.endAngle=0,$e}function archimedeanSpiral3(){const $e=archimedeanSpiral();$e.title+=" (axis Minimum = 10 and Maximum = 20)";const e=$e.axes[1];return e.minimum=10,e.maximum=20,$e}function offsetAngles(){const $e=new PlotModel({title:"Offset angle axis",plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness$1(0)}),e=new AngleAxis({minimum:0,maximum:Math.PI*2,majorStep:Math.PI/4,minorStep:Math.PI/16,stringFormatter:t=>t.toFixed(2),startAngle:30,endAngle:390});return $e.axes.push(e),$e.axes.push(new MagnitudeAxis),$e.series.push(new FunctionSeries({fx:t=>t,fy:t=>t,t0:0,t1:Math.PI*6,dt:.01})),$e.mouseDown=(t,r)=>{let Ve=0;r.changedButton===OxyMouseButton$1.Left&&(Ve=15),r.changedButton===OxyMouseButton$1.Right&&(Ve=-15),Math.abs(Ve)>Number.EPSILON&&(e.startAngle+=Ve,e.endAngle+=Ve,$e.invalidatePlot(!1),r.handled=!0)},$e}function semiCircle(){const $e=new PlotModel({title:"Semi-circle polar plot",plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness$1(0)});return $e.axes.push(new AngleAxis({minimum:0,maximum:180,majorStep:45,minorStep:9,startAngle:0,endAngle:180,majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Solid})),$e.axes.push(new MagnitudeAxis({minimum:0,maximum:1,majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Solid})),$e.series.push(circleFunctionSeries()),$e}function semiCircleOffsetAngleAxisRange(){const $e=new PlotModel({title:"Semi-circle polar plot",subtitle:"Angle axis range offset to -180 - 180",plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness$1(0)});return $e.axes.push(new AngleAxis({minimum:-180,maximum:180,majorStep:45,minorStep:9,startAngle:0,endAngle:360,majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Solid})),$e.axes.push(new MagnitudeAxis({minimum:0,maximum:1,majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Solid})),$e.series.push(circleFunctionSeries()),$e}function eastWestDirections(){const $e=new PlotModel({title:"East/west directions",plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness$1(0)});return $e.axes.push(new AngleAxis({minimum:0,maximum:360,majorStep:30,minorStep:30,startAngle:-90,endAngle:270,labelFormatter:e=>e>0&&e<180?`${e}E`:e>180?`${360-e}W`:e.toString(),majorGridlineStyle:LineStyle$1.Dot,minorGridlineStyle:LineStyle$1.None})),$e.axes.push(new MagnitudeAxis({minimum:0,maximum:1,majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Solid})),$e.series.push(circleFunctionSeries()),$e}function semiCircleFullPlotArea(){const $e=new PlotModel({title:"Semi-circle polar plot filling the plot area",subtitle:"The center can be moved using the right mouse button",plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness$1(1)});return $e.axes.push(new AngleAxisFullPlotArea({minimum:0,maximum:180,majorStep:45,minorStep:9,startAngle:0,endAngle:180,majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Solid})),$e.axes.push(new MagnitudeAxisFullPlotArea({minimum:0,maximum:1,midShiftH:0,midShiftV:.9,majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Solid})),$e.series.push(circleFunctionSeries()),$e}function archimedeanSpiralFullPlotArea(){const $e=createFullPlotAreaPlotModel();return $e.series.push(new FunctionSeries({fx:e=>e,fy:e=>e,t0:0,t1:Math.PI*6,dt:.01})),$e}function spiralWithNegativeMinium(){const $e=createFullPlotAreaPlotModel();return $e.title+=" with a negative minimum",$e.series.push(new FunctionSeries({fx:e=>e,fy:e=>e,t0:-Math.PI*6,t1:Math.PI*6,dt:.01})),$e}function spiralWithPositiveMinium(){const $e=createFullPlotAreaPlotModel();return $e.title+=" with a positive minimum",$e.series.push(new FunctionSeries({fx:e=>e,fy:e=>e,t0:Math.PI*6,t1:Math.PI*12,dt:.01})),$e}function createFullPlotAreaPlotModel(){const $e=new PlotModel({title:"Polar plot filling the plot area",subtitle:"The center can be move using the right mouse button",plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness$1(1)});return $e.axes.push(new AngleAxisFullPlotArea({majorStep:Math.PI/4,minorStep:Math.PI/16,majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Solid,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"",minimum:0,maximum:2*Math.PI})),$e.axes.push(new MagnitudeAxisFullPlotArea({midShiftH:-.1,midShiftV:-.25,majorGridlineStyle:LineStyle$1.Solid,minorGridlineStyle:LineStyle$1.Solid})),$e}const circleFunctionSeries=()=>new FunctionSeries({fx:$e=>Math.sin($e/180*Math.PI),fy:$e=>$e,t0:0,t1:180,dt:.01}),category$G="Polar Plots",PolarPlotExamples={category:category$G,tags:["Axes"],examples:[{title:"Spiral",example:{model:archimedeanSpiral}},{title:"Spiral2",example:{model:archimedeanSpiral2}},{title:"Spiral with magnitude axis min and max",example:{model:archimedeanSpiral3}},{title:"Angle axis with offset angle",example:{model:offsetAngles}},{title:"Semi-circle",example:{model:semiCircle}},{title:"Semi-circle offset angle axis range",example:{model:semiCircleOffsetAngleAxisRange}},{title:"East/west directions",example:{model:eastWestDirections}},{title:"Semi-circle full plot area",example:{model:semiCircleFullPlotArea}},{title:"Spiral full plot area",example:{model:archimedeanSpiralFullPlotArea}},{title:"Spiral full plot area with negative minimum",example:{model:spiralWithNegativeMinium}},{title:"Spiral full plot area with positive minimum",example:{model:spiralWithPositiveMinium}}]};function reversedHorizontalRangeColorAxis(){return rangeColorAxis(AxisPosition$1.Top,!0)}function reversedVerticalRangeColorAxis(){return rangeColorAxis(AxisPosition$1.Right,!0)}function horizontalRangeColorAxis(){return rangeColorAxis(AxisPosition$1.Top,!1)}function verticalRangeColorAxis(){return rangeColorAxis(AxisPosition$1.Right,!1)}function rangeColorAxis($e,e){const r=e?"ScatterSeries and Reversed RangeColorAxis (n=1000)":"ScatterSeries and RangeColorAxis (n=1000)",Ve=new PlotModel({title:r,background:OxyColors$1.LightGray});Ve.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),Ve.axes.push(new LinearAxis$1({position:AxisPosition$1.Left}));const je=new RangeColorAxis({position:$e,maximum:2,minimum:-2});je.addRange(0,.5,OxyColors$1.Blue),je.addRange(-.2,-.1,OxyColors$1.Red),e&&(je.startPosition=1,je.endPosition=0),Ve.axes.push(je);const ze=new ScatterSeries({markerType:MarkerType$1.Square,markerSize:6}),Xe=new Random;for(let We=0;We<1e3;We++){const qe=Xe.next()*2.2-1.1;ze.points.push({x:qe,y:Xe.next(),value:qe})}return Ve.series.push(ze),Ve}const category$F="RangeColorAxis",RangeColorAxisExamples={category:category$F,tags:["Axes"],examples:[{title:"ScatterSeries with Reversed RangeColorAxis (Horizontal)",example:{model:reversedHorizontalRangeColorAxis}},{title:"ScatterSeries with Reversed  RangeColorAxis (Vertical)",example:{model:reversedVerticalRangeColorAxis}},{title:"ScatterSeries with RangeColorAxis (Horizontal)",example:{model:horizontalRangeColorAxis}},{title:"ScatterSeries with RangeColorAxis (Vertical)",example:{model:verticalRangeColorAxis}}]};function timeSpanaxisPlotModelDefault(){return timeSpanAxisPlotModel(void 0)}function timeSpanaxisPlotModel1(){return timeSpanAxisPlotModel($e=>`${formatTimeSpan($e,"hh:mm")}`)}function timeSpanAxisPlotModel($e){const Ve=[];let je=0;const ze=new Random;for(;je<=86400;)Ve.push({time:je,value:ze.next()}),je+=3600;const Xe=new PlotModel({title:"TimeSpan axis"}),We=new TimeSpanAxis({position:AxisPosition$1.Bottom,stringFormatter:$e});Xe.axes.push(We);const qe=new LinearAxis$1({position:AxisPosition$1.Left});Xe.axes.push(qe);const Ke=new LineSeries({color:OxyColor$1.fromArgb(255,78,154,6),markerFill:OxyColor$1.fromArgb(255,78,154,6),markerStroke:OxyColors$1.ForestGreen,markerType:MarkerType$1.Plus,strokeThickness:1,dataFieldX:"time",dataFieldY:"value",itemsSource:Ve});return Xe.series.push(Ke),Xe}const category$E="TimeSpanAxis",TimeSpanAxisExamples={category:category$E,tags:["Axes"],examples:[{title:"Default StringFormat",example:{model:timeSpanaxisPlotModelDefault}},{title:"StringFormat = 'h:mm'",example:{model:timeSpanaxisPlotModel1}}]},Axes=[AxisExamples,CartesianAxesExamples,CategoryAxisExamples,CategoryColorAxisExamples,CustomAxisExamples,DateTimeAxisExamples,LinearAxisExamples,LinearColorAxisExamples,LogarithmicAxisExamples,PolarPlotExamples,RangeColorAxisExamples,TimeSpanAxisExamples];class ErrorItem{constructor(e,t,r,Ve){sr(this,"x");sr(this,"y");sr(this,"xError");sr(this,"yError");this.x=e||0,this.y=t||0,this.xError=r||0,this.yError=Ve||0}}class ErrorSeries extends XYAxisSeries$1{constructor(){super();sr(this,"points",[]);sr(this,"color");sr(this,"strokeThickness");this.color=OxyColors$1.Black,this.strokeThickness=1}get pointsList(){return this.points}async render(t){const r=this.points;if(r.length===0)return;this.verifyAxes();const Ve=r.length,je=[];for(let ze=0;ze<Ve;ze++){const Xe=this.xAxis.transformPoint(r[ze].x,r[ze].y,this.yAxis),We=r[ze],qe=We?We.xError*this.xAxis.scale:0,Ke=We?We.yError*Math.abs(this.yAxis.scale):0,Ze=4;if(qe>0){const Je=newScreenPoint$1(Xe.x-qe*.5,Xe.y),Qe=newScreenPoint$1(Xe.x+qe*.5,Xe.y);je.push(Je,Qe,newScreenPoint$1(Je.x,Je.y-Ze),newScreenPoint$1(Je.x,Je.y+Ze),newScreenPoint$1(Qe.x,Qe.y-Ze),newScreenPoint$1(Qe.x,Qe.y+Ze))}if(Ke>0){const Je=newScreenPoint$1(Xe.x,Xe.y-Ke*.5),Qe=newScreenPoint$1(Xe.x,Xe.y+Ke*.5);je.push(Je,Qe,newScreenPoint$1(Je.x-Ze,Je.y),newScreenPoint$1(Je.x+Ze,Je.y),newScreenPoint$1(Qe.x-Ze,Qe.y),newScreenPoint$1(Qe.x+Ze,Qe.y))}}for(let ze=0;ze+1<je.length;ze+=2)await RenderingExtensions$1.drawReducedLine(t,[je[ze],je[ze+1]],0,this.getSelectableColor(this.color),this.strokeThickness,this.edgeRenderingMode,void 0,LineJoin$1.Bevel)}async renderLegend(t,r){const Ve=(r.left+r.right)/2,je=(r.top+r.bottom)/2,ze=[newScreenPoint$1(r.left,je),newScreenPoint$1(r.right,je),newScreenPoint$1(r.left,je-2),newScreenPoint$1(r.left,je+3),newScreenPoint$1(r.right,je-2),newScreenPoint$1(r.right,je+3),newScreenPoint$1(Ve,r.top),newScreenPoint$1(Ve,r.bottom),newScreenPoint$1(Ve-2,r.top),newScreenPoint$1(Ve+3,r.top),newScreenPoint$1(Ve-2,r.bottom),newScreenPoint$1(Ve+3,r.bottom)];await t.drawLineSegments(ze,this.getSelectableColor(this.color),this.strokeThickness,this.edgeRenderingMode,void 0,LineJoin$1.Miter)}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMin2(this.points,t=>t.x-t.xError,t=>t.x+t.xError,t=>t.y-t.yError,t=>t.y+t.yError)}}class FlagSeries extends ItemsSeries$1{constructor(){super();sr(this,"symbolPosition",0);sr(this,"symbolSize",OxySize$1.Empty);sr(this,"color");sr(this,"maximumX",0);sr(this,"minimumX",0);sr(this,"symbol");sr(this,"_values",[]);sr(this,"xAxis");sr(this,"xAxisKey");this.color=OxyColors$1.Black,this.fontSize=10,this.symbol="",this.font="Wingdings 2",this.trackerStringFormatter=t=>`${t.title}: ${t.item}`}get values(){return this._values}getNearestPoint(t,r){if(this.xAxis)for(const Ve of this.values){if(isNaN(Ve)||Ve<this.xAxis.actualMinimum||Ve>this.xAxis.actualMaximum)continue;const je=this.xAxis.transform(Ve);if(new OxyRect$1(je-this.symbolSize.width/2,this.symbolPosition-this.symbolSize.height,this.symbolSize.width,this.symbolSize.height).containsPoint(t)){const Xe=this.trackerStringFormatter({item:Ve,title:this.title});return new TrackerHitResult$1({series:this,dataPoint:newDataPoint$1(Ve,NaN),position:newScreenPoint$1(je,this.symbolPosition-this.symbolSize.height),text:Xe})}}}async render(t){if(this.xAxis){this.symbolPosition=this.plotModel.plotArea.bottom,this.symbolSize=t.measureText(this.symbol,this.actualFont,this.actualFontSize,this.actualFontWeight);for(const r of this.values){if(isNaN(r)||r<this.xAxis.clipMinimum||r>this.xAxis.clipMaximum)continue;const Ve=this.xAxis.transform(r);await t.drawText(newScreenPoint$1(Ve,this.symbolPosition),this.symbol,this.color,this.actualFont,this.actualFontSize,this.actualFontWeight,0,HorizontalAlignment$1.Center,VerticalAlignment$1.Bottom)}}}async renderLegend(t,r){await t.drawText(r.center,this.symbol,this.color,this.actualFont,this.actualFontSize,this.actualFontWeight,0,HorizontalAlignment$1.Center,VerticalAlignment$1.Middle)}areAxesRequired(){return!0}ensureAxes(){this.xAxis=this.xAxisKey!==void 0?this.plotModel.getAxis(this.xAxisKey):this.plotModel.defaultXAxis}isUsing(t){return t===this.xAxis}setDefaultValues(){}updateAxisMaxMin(){this.xAxis.include(this.minimumX),this.xAxis.include(this.maximumX)}updateData(){}updateMaxMin(){this.minimumX=minValueOfArray$1(this.values),this.maximumX=maxValueOfArray$1(this.values)}}class LineSegmentSeries extends LineSeries{constructor(){super();sr(this,"showVerticals");sr(this,"epsilon");this.showVerticals=!0,this.epsilon=1e-8}async render(t){if(this.points.length===0)return;if(this.points.length%2!==0)throw new Error("The number of points should be even.");if(!this.xAxis||!this.yAxis)throw new Error("Axis has not been defined.");const r=this.points.map(je=>this.transform(je)),Ve=[];for(let je=0;je<r.length;je+=2)screenPointDistanceToSquared$1(r[je],r[je+1])<this.strokeThickness&&(r[je]=newScreenPoint$1(r[je].x-this.strokeThickness*.5,r[je].y),r[je+1]=newScreenPoint$1(r[je].x+this.strokeThickness*.5,r[je].y)),this.showVerticals&&je>0&&Math.abs(r[je-1].x-r[je].x)<this.epsilon&&(Ve.push(r[je-1]),Ve.push(r[je]));if(this.strokeThickness>0){if(this.lineStyle!==LineStyle$1.None){const je=LineStyleHelper$1.getDashArray(this.lineStyle);await t.drawLineSegments(r,this.actualColor,this.strokeThickness,this.edgeRenderingMode,je,this.lineJoin)}await t.drawLineSegments(Ve,this.actualColor,this.strokeThickness/3,this.edgeRenderingMode,LineStyleHelper$1.getDashArray(LineStyle$1.Dash),this.lineJoin)}await RenderingExtensions$1.drawMarkers(t,r,this.markerType,void 0,[this.markerSize],this.markerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)}getNearestPoint(t,r){const Ve=this.points;if(!Ve)return;let je,ze,Xe=-1,We=Number.MAX_VALUE;for(let qe=0;qe+1<Ve.length;qe+=2){const Ke=Ve[qe],Ze=Ve[qe+1];if(!this.isValidPoint(Ke)||!this.isValidPoint(Ze))continue;const Je=this.transform(Ke),Qe=this.transform(Ze),ti=ScreenPointHelper$1.findPointOnLine(t,Je,Qe);if(ScreenPoint_isUndefined$1(ti))continue;const ni=screenPointDistanceToSquared$1(t,ti);if(ni<We){const ri=screenPointDistanceTo$1(ti,Je)/screenPointDistanceTo$1(Qe,Je);ze=newDataPoint$1(Ke.x+ri*(Ze.x-Ke.x),Ke.y+ri*(Ze.y-Ke.y)),je=ti,We=ni,Xe=qe+ri}}if(We<Number.MAX_VALUE){const qe=this.getItem(Math.floor(Xe));return new TrackerHitResult$1({series:this,dataPoint:ze,position:je,item:qe,index:Xe,text:`${this.title||""}
x: ${qe.x}
y: ${qe.y}`})}}}class MatrixSeries extends XYAxisSeries$1{constructor(t){super(t);sr(this,"image");sr(this,"_matrix");sr(this,"gridInterval");sr(this,"showDiagonal");sr(this,"minimumGridLineDistance");sr(this,"gridColor");sr(this,"borderColor");sr(this,"notZeroColor");sr(this,"zeroTolerance");this.gridInterval=1,this.showDiagonal=!1,this.minimumGridLineDistance=4,this.gridColor=OxyColors$1.LightGray,this.borderColor=OxyColors$1.Gray,this.notZeroColor=OxyColors$1.Black,this.zeroTolerance=0,this.trackerStringFormatter=r=>`${r.title||""}
[${r.xValue},${r.yValue}] = ${r.item}`,t&&Object.assign(this,removeUndef$1(t))}get matrix(){return this._matrix}set matrix(t){this._matrix=t,this.image=void 0}get matrixValue(){return this.matrix}set matrixValue(t){this.image=void 0,this.matrix=t}async render(t){if(!this.matrixValue)return;const r=PlotElementExtensions$1.transform,Ve=this.matrixValue.length,je=this.matrixValue[0].length,ze=r(this,0,0),Xe=r(this,je,Ve);if(!this.image){const Qe=new TwoDimensionalArray$1(je,Ve);for(let ti=0;ti<Ve;ti++)for(let ni=0;ni<je;ni++){const ri=Math.abs(this.matrixValue[ti][ni])<=this.zeroTolerance?OxyColors$1.Transparent:this.notZeroColor;Qe.set(ni,ti,ri)}this.image=await OxyImage$1.create(Qe,ImageFormat$1.Png)}const We=Math.min(ze.x,Xe.x),qe=Math.min(ze.y,Xe.y),Ke=Math.abs(ze.x-Xe.x),Ze=Math.abs(ze.y-Xe.y);await RenderingExtensions$1.drawImage(t,this.image,We,qe,Ke,Ze,1,!1);const Je=[];if(this.gridInterval>0){const Qe=r(this,this.gridInterval,this.gridInterval);if(Math.abs(Qe.y-ze.y)>this.minimumGridLineDistance)for(let ti=1;ti<je;ti+=this.gridInterval)Je.push(r(this,0,ti)),Je.push(r(this,je,ti));if(Math.abs(Qe.x-ze.x)>this.minimumGridLineDistance)for(let ti=1;ti<Ve;ti+=this.gridInterval)Je.push(r(this,ti,0)),Je.push(r(this,ti,Ve))}if(this.showDiagonal&&(Je.push(r(this,0,0)),Je.push(r(this,je,Ve))),await t.drawLineSegments(Je,this.gridColor,1,this.edgeRenderingMode,void 0,LineJoin$1.Miter),this.borderColor.isVisible()){const Qe=[r(this,0,0),r(this,Ve,0),r(this,0,je),r(this,Ve,je),r(this,0,0),r(this,0,je),r(this,Ve,0),r(this,Ve,je)];await t.drawLineSegments(Qe,this.borderColor,1,this.edgeRenderingMode,void 0,LineJoin$1.Miter)}}getNearestPoint(t,r){if(!this.matrix)return;const Ve=this.inverseTransform(t),je=Math.floor(Ve.y),ze=Math.floor(Ve.x);if(je>=0&&je<this.matrix.length&&ze>=0&&ze<this.matrix[0].length){const Xe=this.matrix[je][ze];return new TrackerHitResult$1({series:this,dataPoint:Ve,position:t,item:null,index:-1,text:this.trackerStringFormatter({item:Xe,title:this.title,xValue:ze,yValue:je})})}}updateMaxMin(){super.updateMaxMin(),this.matrix&&(this.minX=0,this.maxX=this.matrix[0].length,this.minY=0,this.maxY=this.matrix.length)}}class PolarHeatMapSeries extends XYAxisSeries$1{constructor(t){super(t);sr(this,"image");sr(this,"pixels");sr(this,"imageSize",0);sr(this,"angle0",0);sr(this,"angle1",0);sr(this,"magnitude0",0);sr(this,"magnitude1",0);sr(this,"data");sr(this,"interpolate");sr(this,"minValue",0);sr(this,"maxValue",0);sr(this,"colorAxis");sr(this,"colorAxisKey");this.interpolate=!0,t&&Object.assign(this,removeUndef$1(t))}async render(t){if(!this.data){this.image=void 0;return}this.imageSize>0?await this.renderFixed(t,this.plotModel):await this.renderDynamic(t,this.plotModel)}async renderDynamic(t,r){if(!this.data)return;const Ve=this.data.length,je=this.data[0].length,ze=r.plotArea,Xe=Math.floor(ze.width),We=Math.floor(ze.height);if(Xe===0||We===0)return;(!this.pixels||this.pixels.height!==We||this.pixels.width!==Xe)&&(this.pixels=new TwoDimensionalArray$1(Xe,We));const qe=this.pixels,Ke=ColorAxisExtensions$1.getColor;for(let Ze=0;Ze<We;Ze++)for(let Je=0;Je<Xe;Je++){const Qe=newScreenPoint$1(ze.left+Je,ze.top+Ze),ti=this.inverseTransform(Qe);let ni,ri;if(this.plotModel.plotType!==PlotType.Polar)ni=Math.atan2(ti.y,ti.x)/Math.PI*180,ri=Math.sqrt(ti.x*ti.x+ti.y*ti.y);else{for(ni=ti.y/Math.PI*180,ri=ti.x;ni<0;)ni+=360;for(;ni>360;)ni-=360}const ii=(ni-this.angle0)/(this.angle1-this.angle0)*Ve,ei=(ri-this.magnitude0)/(this.magnitude1-this.magnitude0)*je;if(ii>=0&&ii<Ve&&ei>=0&&ei<je){const St=this.getValue(ii,ei),oi=OxyColor$1.fromAColor(160,Ke(this.colorAxis,St));qe.set(Je,Ze,oi)}else qe.set(Je,Ze,OxyColors$1.Transparent)}this.image=await OxyImage$1.create(qe,ImageFormat$1.Png),await RenderingExtensions$1.drawImage(t,this.image,ze.left,ze.top,ze.width,ze.height,1,!1)}async renderFixed(t,r){if(!this.data)return;if(!this.image){const ze=this.data.length,Xe=this.data[0].length,We=this.imageSize,qe=this.imageSize;(this.pixels===void 0||this.pixels.height!==qe||this.pixels.width!==We)&&(this.pixels=new TwoDimensionalArray$1(We,qe));const Ke=ColorAxisExtensions$1.getColor,Ze=this.pixels;for(let Je=0;Je<qe;Je++)for(let Qe=0;Qe<We;Qe++){const ti=(Qe-We*.5)/(We*.5)*this.magnitude1,ni=-(Je-qe*.5)/(qe*.5)*this.magnitude1;let ri=Math.atan2(ni,ti)/Math.PI*180;const ii=Math.sqrt(ti*ti+ni*ni);for(;ri<0;)ri+=360;for(;ri>360;)ri-=360;const ei=(ri-this.angle0)/(this.angle1-this.angle0)*ze,St=(ii-this.magnitude0)/(this.magnitude1-this.magnitude0)*Xe;if(ei>=0&&ei<ze&&St>=0&&St<Xe){const oi=this.getValue(ei,St),si=OxyColor$1.fromAColor(160,Ke(this.colorAxis,oi));Ze.set(Qe,Je,si)}else Ze.set(Qe,Je,OxyColors$1.Transparent)}this.image=await OxyImage$1.create(Ze,ImageFormat$1.Png)}if(!this.image)return;const Ve=PlotElementExtensions$1.transform;let je;if(this.plotModel.plotType!==PlotType.Polar){const ze=Ve(this,-this.magnitude1,this.magnitude1),Xe=Ve(this,this.magnitude1,-this.magnitude1);je=new OxyRect$1(ze.x,ze.y,Xe.x-ze.x,Xe.y-ze.y)}else{const ze=Ve(this,this.magnitude1,90),Xe=Ve(this,this.magnitude1,270),We=Ve(this,this.magnitude1,180),qe=Ve(this,this.magnitude1,0);je=new OxyRect$1(We.x,ze.y,qe.x-We.x,Xe.y-ze.y)}await RenderingExtensions$1.drawImage(t,this.image,je.left,je.top,je.width,je.height,1,!1)}getValue(t,r){if(!this.data)return NaN;if(!this.interpolate){const ei=Math.floor(t),St=Math.floor(r);return this.data[ei][St]}t-=.5,r-=.5;const Ve=Math.floor(t),je=Math.floor(r),ze=Ve>0?Ve:0,Xe=Ve+1<this.data.length?Ve+1:Ve,We=je>0?je:0,qe=je+1<this.data[0].length?je+1:je,Ke=this.data[ze][We],Ze=this.data[ze][qe],Je=this.data[Xe][We],Qe=this.data[Xe][qe],ti=t-Ve,ni=r-je,ri=Ke*(1-ni)+Ze*ni,ii=Je*(1-ni)+Qe*ni;return ri*(1-ti)+ii*ti}getNearestPoint(t,r){}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}updateMaxMin(){super.updateMaxMin();const t=this.getData();this.minValue=minValueOfArray$1(t),this.maxValue=maxValueOfArray$1(t);const r=this.colorAxis;r&&(r.include(this.minValue),r.include(this.maxValue))}getData(){if(!this.data)return[];const t=this.data.length,r=[],Ve=this.data[0].length;for(let je=0;je<t;je++)for(let ze=0;ze<Ve;ze++)r.push(this.data[je][ze]);return r}}function errorSeries(){const e=new PlotModel({title:"ErrorSeries"}),t=new Legend({legendPosition:LegendPosition.BottomRight});e.legends.push(t);const r=new ErrorSeries;r.title="Measurements";const Ve=Math.random();let je=0,ze=0;for(let Xe=0;Xe<20;Xe++){je+=2+Ve*10,ze+=1+Ve;const We=1+Ve*2,qe=1+Ve*2;r.pointsList.push(new ErrorItem(je,ze,We,qe))}return e.series.push(r),e}function lineSegmentSeries(){const $e=new PlotModel({title:"LineSegmentSeries"}),e=new LineSegmentSeries;e.title="The first series",e.points.push(newDataPoint$1(0,3),newDataPoint$1(2,3.2)),e.points.push(newDataPoint$1(2,2.7),newDataPoint$1(7,2.9)),$e.series.push(e);const t=new LineSegmentSeries;return t.title="The second series",t.points.push(newDataPoint$1(1,-3),newDataPoint$1(2,10)),t.points.push(newDataPoint$1(0,4.8),newDataPoint$1(7,2.3)),t.points.push(newDataPoint$1(6,4),newDataPoint$1(6,4+1e-8)),$e.series.push(t),$e}function flagSeries(){const $e=new PlotModel({title:"FlagSeries"}),e=new FlagSeries;return e.title="Incidents",e.color=OxyColors$1.Red,e.values.push(2,3,5,7,11,13,17,19),$e.series.push(e),$e}function diagonalMatrix(){const $e=new PlotModel,e=[[1,0,0],[0,2,0],[0,0,3],[5,5,5]];return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,startPosition:1,endPosition:0})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.series.push(new MatrixSeries({matrix:e,showDiagonal:!0})),$e}function polarHeatMap(){const $e=new PlotModel({title:"Polar heat map",plotMargins:new OxyThickness$1(40,80,40,40),plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness$1(0)}),e=[[0,2],[1.5,.2]];return $e.axes.push(new AngleAxis({startAngle:0,endAngle:360,minimum:0,maximum:360,majorStep:30,minorStep:15})),$e.axes.push(new MagnitudeAxis({minimum:0,maximum:100,majorStep:25,minorStep:5})),$e.axes.push(new LinearColorAxis({position:AxisPosition$1.Right,palette:OxyPalettes$1.rainbow(500),highColor:OxyColors$1.Gray,lowColor:OxyColors$1.Black})),$e.series.push(new PolarHeatMapSeries({data:e,angle0:30,angle1:150,magnitude0:0,magnitude1:80,interpolate:!1})),$e}function polarHeatMapReversedAngleAxis(){const $e=polarHeatMap();return $e.axes[0]=new AngleAxis({startAngle:360,endAngle:0,minimum:0,maximum:360,majorStep:30,minorStep:15}),$e}function polarHeatMapRotatedCounterClockwise90(){const $e=polarHeatMap();return $e.axes[0]=new AngleAxis({startAngle:90,endAngle:450,minimum:0,maximum:360,majorStep:30,minorStep:15}),$e}function polarHeatMapRotatedCounterClockwisePi(){const $e=polarHeatMap();return $e.axes[0]=new AngleAxis({startAngle:Math.PI,endAngle:Math.PI+360,minimum:0,maximum:360,majorStep:30,minorStep:15}),$e}function polarHeatMapInterpolated(){const $e=polarHeatMap();return $e.title="Polar heat map (interpolated)",$e.series[0].interpolate=!0,$e}function polarHeatMapFixed(){const $e=polarHeatMap();return $e.title="Polar heat map with fixed size image",$e.series[0].imageSize=800,$e}function polarHeatMapLinearAxes(){const $e=new PlotModel({title:"Polar heat map on linear axes"}),e=[[0,2],[1.5,.2]];return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimum:-100,maximum:100})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:0,maximum:100})),$e.axes.push(new LinearColorAxis({position:AxisPosition$1.Right,palette:OxyPalettes$1.rainbow(500),highColor:OxyColors$1.Gray,lowColor:OxyColors$1.Black})),$e.series.push(new PolarHeatMapSeries({data:e,angle0:30,angle1:150,magnitude0:0,magnitude1:80,interpolate:!0})),$e}function polarHeatMapLinearAxesFixed256(){const $e=polarHeatMapLinearAxes();return $e.title="Polar heat map on linear axes & fixed size image (256x256)",$e.series[0].imageSize=256,$e}function polarHeatMapLinearAxesFixed1000(){const $e=polarHeatMapLinearAxes();return $e.title="Polar heat map on linear axes & fixed size image (1000x1000)",$e.series[0].imageSize=1e3,$e}function designStructureMatrix(){const $e=new TwoDimensionalArray$1(7,7,0);$e.set(1,0,1),$e.set(5,0,1),$e.set(3,1,1),$e.set(0,2,1),$e.set(6,2,1),$e.set(4,3,1),$e.set(1,4,1),$e.set(5,4,1),$e.set(2,5,1),$e.set(0,6,1),$e.set(4,6,1);for(let je=0;je<7;je++)$e.set(je,je,-1);const e=new PlotModel({title:"Design structure matrix (DSM)"});e.axes.push(new LinearColorAxis({position:AxisPosition$1.None,palette:new OxyPalette$1([OxyColors$1.White,OxyColors$1.LightGreen]),lowColor:OxyColors$1.Black,minimum:0,isAxisVisible:!1}));const t=new CategoryAxis$1({position:AxisPosition$1.Top});t.labels.push("A","B","C","D","E","F","G"),e.axes.push(t);const r=new CategoryAxis$1({position:AxisPosition$1.Left,startPosition:1,endPosition:0});r.labels.push("Element A","Element B","Element C","Element D","Element E","Element F","Element G"),e.axes.push(r);const Ve=new DesignStructureMatrixSeries({data:$e.toArray(),interpolate:!1,labelStringFormatter:(je,ze)=>`${je||""}`,labelFontSize:.25,x0:0,x1:$e.width-1,y0:0,y1:$e.height-1});return e.series.push(Ve),e}class DesignStructureMatrixSeries extends HeatMapSeries{constructor(e){super(e)}getLabel(e,t,r){return t===r?this.xAxis.labels[t]:super.getLabel(e,t,r)}}const category$D="Custom series",CustomSeriesExamples={category:category$D,tags:["Series"],examples:[{title:"ErrorSeries",example:{model:errorSeries}},{title:"LineSegmentSeries",example:{model:lineSegmentSeries}},{title:"FlagSeries",example:{model:flagSeries}},{title:"MatrixSeries - diagonal matrix",example:{model:diagonalMatrix}},{title:"PolarHeatMap",example:{model:polarHeatMap}},{title:"PolarHeatMap Reversed Angle Axis",example:{model:polarHeatMapReversedAngleAxis}},{title:"PolarHeatMap Rotated CounterClockwise 90",example:{model:polarHeatMapRotatedCounterClockwise90}},{title:"PolarHeatMap Rotated CounterClockwise on PI degrees",example:{model:polarHeatMapRotatedCounterClockwisePi}},{title:"PolarHeatMap (interpolated)",example:{model:polarHeatMapInterpolated}},{title:"PolarHeatMap fixed size image",example:{model:polarHeatMapFixed}},{title:"PolarHeatMap on linear axes",example:{model:polarHeatMapLinearAxes}},{title:"PolarHeatMap linear axes, fixed size image (256x256)",example:{model:polarHeatMapLinearAxesFixed256}},{title:"PolarHeatMap linear axes, fixed size image (1000x1000)",example:{model:polarHeatMapLinearAxesFixed1000}},{title:"Design structure matrix (DSM)",example:{model:designStructureMatrix}}]},CustomSeries=[CustomSeriesExamples];function invisibleContourSeries(){const $e=new PlotModel;$e.title="Invisible contour series";const e=new ContourSeries;return e.isVisible=!1,e.columnCoordinates=ArrayBuilder$1.createVectorWithStep(-1,1,.05),e.rowCoordinates=ArrayBuilder$1.createVectorWithStep(-1,1,.05),e.data=ArrayBuilder$1.evaluate((t,r)=>t+r,e.columnCoordinates,e.rowCoordinates),$e.series.push(e),$e}function stairStepSeries_NullReferenceException(){const $e=new PlotModel;return $e.title="StairStepSeries NullReferenceException",$e.series.push(new StairStepSeries),$e}function heatMapSeriesInterpolationColor(){const $e=[[10,0,-10],[0,0,0]],e=new PlotModel({title:"HeatMapSeries"});e.axes.push(new LinearColorAxis({position:AxisPosition$1.Right,palette:new OxyPalette$1([OxyColors$1.Red,OxyColors$1.Green,OxyColors$1.Blue])}));const t=new HeatMapSeries({coordinateDefinition:HeatMapCoordinateDefinition.Center,x0:0,x1:3,y0:0,y1:2,data:$e,interpolate:!1,labelFontSize:.2});return e.series.push(t),e}function peaks400(){return HeatMapSeriesExamples.createPeaks(void 0,!0,400)}function updatingHeatMapSeries1(){const $e=HeatMapSeriesExamples.createPeaks();$e.title="Updating HeatMapSeries",$e.subtitle="Click the heat map to change the Maximum of the color axis.";const e=$e.axes[0],t=$e.series[0];return t.onMouseDown=r=>{e.maximum=isNaN(e.maximum)?10:NaN,$e.invalidatePlot(!0)},$e}function updatingHeatMapSeries2(){const $e=HeatMapSeriesExamples.createPeaks();$e.title="Updating HeatMapSeries",$e.subtitle="Click the heat map to change the Maximum of the color axis and invoke the Invalidate method on the HeatMapSeries.";const e=$e.axes[0],t=$e.series[0];return t.onMouseDown=r=>{e.maximum=isNaN(e.maximum)?10:NaN,t.invalidate(),$e.invalidatePlot(!0)},$e}function reducedColorSaturation(){const $e=new PlotModel;$e.title="Reduced color saturation",$e.axes.push(new CategoryAxis$1({position:AxisPosition$1.Bottom})),$e.defaultColors=$e.defaultColors.map(t=>OxyColorExtensions$1.changeSaturation(t,.5));const e=new Random;for(let t=0;t<$e.defaultColors.length;t++){const r=new BarSeries$1;r.items.push(BarItem$1.fromValue(50+e.next()*50)),r.items.push(BarItem$1.fromValue(40+e.next()*50)),$e.series.push(r)}return $e}function mediumIntensityColors(){const $e=new PlotModel;$e.title="Medium intensity colors",$e.axes.push(new CategoryAxis$1({position:AxisPosition$1.Bottom})),$e.defaultColors=[OxyColor$1.fromRgb(114,114,114),OxyColor$1.fromRgb(241,89,95),OxyColor$1.fromRgb(121,195,106),OxyColor$1.fromRgb(89,154,211),OxyColor$1.fromRgb(249,166,90),OxyColor$1.fromRgb(158,102,171),OxyColor$1.fromRgb(205,112,88),OxyColor$1.fromRgb(215,127,179)];const e=new Random;for(let t=0;t<$e.defaultColors.length;t++){const r=new BarSeries$1;r.items.push(BarItem$1.fromValue(50+e.next()*50)),r.items.push(BarItem$1.fromValue(40+e.next()*50)),$e.series.push(r)}return $e}function brewerColors4(){const $e=new PlotModel;$e.title="Brewer colors (Accent scheme)",$e.axes.push(new CategoryAxis$1({position:AxisPosition$1.Bottom})),$e.defaultColors=[OxyColor$1.fromRgb(127,201,127),OxyColor$1.fromRgb(190,174,212),OxyColor$1.fromRgb(253,192,134),OxyColor$1.fromRgb(255,255,153)];const e=new Random;for(let t=0;t<$e.defaultColors.length;t++){const r=new BarSeries$1;r.items.push(BarItem$1.fromValue(50+e.next()*50)),r.items.push(BarItem$1.fromValue(40+e.next()*50)),$e.series.push(r)}return $e}function brewerColors6(){const $e=new PlotModel;$e.title="Brewer colors (Paired scheme)",$e.axes.push(new CategoryAxis$1({position:AxisPosition$1.Bottom})),$e.defaultColors=[OxyColor$1.fromRgb(166,206,227),OxyColor$1.fromRgb(31,120,180),OxyColor$1.fromRgb(178,223,138),OxyColor$1.fromRgb(51,160,44),OxyColor$1.fromRgb(251,154,153),OxyColor$1.fromRgb(227,26,28)];const e=new Random;for(let t=0;t<$e.defaultColors.length;t++){const r=new BarSeries$1;r.items.push(BarItem$1.fromValue(50+e.next()*50)),r.items.push(BarItem$1.fromValue(40+e.next()*50)),$e.series.push(r)}return $e}function sameColorOfLineSeriesAndAxisTitleAndLabels(){const $e=new PlotModel;$e.title="Same color of LineSeries and axis title & labels";const e=OxyColors$1.IndianRed;return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,title:"Axis 1",titleColor:e,textColor:e})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.series.push(new LineSeries({title:"LineSeries 1",color:e,itemsSource:[newDataPoint$1(0,0),newDataPoint$1(10,3),newDataPoint$1(20,2)]})),$e}function polarPlotWithArrows(){const $e=new PlotModel;return $e.title="Custom arrow series",$e.plotType=PlotType.Polar,$e.plotAreaBorderColor=OxyColors$1.Undefined,$e.axes.push(new AngleAxis({minimum:0,maximum:360,majorStep:30,minorStep:30,majorGridlineStyle:LineStyle$1.Dash})),$e.axes.push(new MagnitudeAxis({minimum:0,maximum:5,majorStep:1,minorStep:1,angle:90,majorGridlineStyle:LineStyle$1.Dash})),$e.series.push(new ArrowSeries549839({endPoint:newDataPoint$1(1,40)})),$e.series.push(new ArrowSeries549839({endPoint:newDataPoint$1(2,75)})),$e.series.push(new ArrowSeries549839({endPoint:newDataPoint$1(3,110)})),$e.series.push(new ArrowSeries549839({endPoint:newDataPoint$1(4,140)})),$e.series.push(new ArrowSeries549839({endPoint:newDataPoint$1(5,180)})),$e}function markerTypeCircleProblem(){const $e=new PlotModel({plotType:PlotType.Cartesian,plotAreaBorderThickness:new OxyThickness$1(0)}),e=new Legend;e.legendSymbolLength=30;const t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=getDateService$1(),Ve=new DateTimeAxis({position:AxisPosition$1.Bottom,tickStyle:TickStyle$1.None,axislineStyle:LineStyle$1.Solid,axislineColor:OxyColor$1.fromRgb(153,153,153),stringFormatter:(Xe,We)=>t[Xe.getMonth()]+r.format(Xe,"d HH"),intervalType:DateTimeIntervalType$1.Hours}),je=new LinearAxis$1({position:AxisPosition$1.Left,minimum:.001,maximum:3,majorGridlineStyle:LineStyle$1.Solid,tickStyle:TickStyle$1.None,intervalLength:50});$e.axes.push(Ve),$e.axes.push(je);const ze=new LineSeries({color:OxyColor$1.fromRgb(44,169,173),strokeThickness:1,markerType:MarkerType$1.Circle,markerStroke:OxyColors$1.Blue,markerFill:OxyColors$1.SkyBlue,markerSize:2,dataFieldX:"Date",dataFieldY:"Value",trackerStringFormatter:Xe=>`Date: ${r.format(Xe.xValue,"DD HH")}
Value: ${Xe.yValue}`});return ze.points.push(newDataPoint$1(.1,.7)),ze.points.push(newDataPoint$1(.6,.9)),ze.points.push(newDataPoint$1(1,.85)),ze.points.push(newDataPoint$1(1.4,.95)),ze.points.push(newDataPoint$1(1.8,1.2)),ze.points.push(newDataPoint$1(2.2,1.7)),ze.points.push(newDataPoint$1(2.6,1.7)),ze.points.push(newDataPoint$1(3,.7)),$e.series.push(ze),$e}class ArrowSeries549839 extends XYAxisSeries$1{constructor(t){super(t);sr(this,"defaultColor",OxyColors$1.Undefined);sr(this,"startPoint",DataPoint_Zero$1);sr(this,"endPoint",DataPoint_Zero$1);sr(this,"color");sr(this,"strokeThickness");this.color=OxyColors$1.Automatic,this.strokeThickness=2,t&&Object.assign(this,t)}setDefaultValues(){this.color.isAutomatic()&&(this.defaultColor=this.plotModel.getDefaultColor())}get actualColor(){return this.color.getActualColor(this.defaultColor)}async render(t){const r=this.transform(this.startPoint),Ve=this.transform(this.endPoint),je=screenPointMinus$1(Ve,r),ze=new ScreenVector$1(je.y,-je.x),Xe=screenPointPlus$1(screenPointMinusVector$1(Ve,je.times(.2)),ze.times(.1)),We=screenPointMinusVector$1(screenPointMinusVector$1(Ve,je.times(.2)),ze.times(.1));await t.drawLineSegments([r,Ve,Ve,Xe,Ve,We],this.actualColor,this.strokeThickness,this.edgeRenderingMode)}}const category$C="Z0 Discussions",DiscussionExamples={category:category$C,examples:[{title:"#445576: Invisible contour series",example:{model:invisibleContourSeries}},{title:"#461507: StairStepSeries NullReferenceException",example:{model:stairStepSeries_NullReferenceException}},{title:"#501409: Heatmap interpolation color",example:{model:heatMapSeriesInterpolationColor}},{title:"#522598: Peaks 400x400",example:{model:peaks400}},{title:"#474875: Updating HeatMapSeries 1",example:{model:updatingHeatMapSeries1}},{title:"#474875: Updating HeatMapSeries 2",example:{model:updatingHeatMapSeries2}},{title:"#539104: Reduced color saturation",example:{model:reducedColorSaturation}},{title:"#539104: Medium intensity colors",example:{model:mediumIntensityColors}},{title:"#539104: Brewer colors (4)",example:{model:brewerColors4}},{title:"#539104: Brewer colors (6)",example:{model:brewerColors6}},{title:"#542701: Same color of LineSeries and axis title & labels",example:{model:sameColorOfLineSeriesAndAxisTitleAndLabels}},{title:"#549839: Polar plot with custom arrow series",example:{model:polarPlotWithArrows}},{title:"MarkerType = Circle problem",example:{model:markerTypeCircleProblem}}]},Discussions=[DiscussionExamples];function filteringInvalidPoints(){const $e=new PlotModel({title:"Filtering NaN points"});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left}));const e=new LineSeries;return e.points.push(newDataPoint$1(NaN,NaN)),e.points.push(newDataPoint$1(1,0)),e.points.push(newDataPoint$1(2,10)),e.points.push(newDataPoint$1(NaN,20)),e.points.push(newDataPoint$1(3,10)),e.points.push(newDataPoint$1(4,0)),e.points.push(newDataPoint$1(4.5,NaN)),e.points.push(newDataPoint$1(5,0)),e.points.push(newDataPoint$1(7,7)),e.points.push(newDataPoint$1(NaN,NaN)),e.points.push(newDataPoint$1(NaN,NaN)),e.points.push(newDataPoint$1(7,0)),e.points.push(newDataPoint$1(NaN,NaN)),$e.series.push(e),$e}function filteringInvalidPointsAreaSeries(){const $e=new PlotModel({title:"Filtering NaN points in an AreaSeries"});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left}));const e=new AreaSeries;return e.points.push(newDataPoint$1(1,0)),e.points.push(newDataPoint$1(2,10)),e.points.push(newDataPoint$1(3,10)),e.points.push(newDataPoint$1(4,0)),e.points.push(newDataPoint$1(5,0)),e.points.push(newDataPoint$1(6,7)),e.points.push(newDataPoint$1(7,7)),e.points.push(newDataPoint$1(NaN,NaN)),e.points.push(newDataPoint$1(NaN,NaN)),e.points.push(newDataPoint$1(8,0)),e.points.push(newDataPoint$1(9,0)),e.points.push(newDataPoint$1(NaN,NaN)),e.points2.push(newDataPoint$1(1,10)),e.points2.push(newDataPoint$1(2,110)),e.points2.push(newDataPoint$1(3,110)),e.points2.push(newDataPoint$1(4,10)),e.points2.push(newDataPoint$1(5,10)),e.points2.push(newDataPoint$1(6,17)),e.points2.push(newDataPoint$1(7,17)),e.points2.push(newDataPoint$1(NaN,NaN)),e.points2.push(newDataPoint$1(NaN,NaN)),e.points2.push(newDataPoint$1(8,10)),e.points2.push(newDataPoint$1(9,10)),e.points2.push(newDataPoint$1(NaN,NaN)),$e.series.push(e),$e}function filteringUndefinedPoints(){const $e=new PlotModel({title:"Filtering undefined points"});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left}));const e=new LineSeries;return e.points.push(DataPoint_Undefined$1),e.points.push(newDataPoint$1(1,0)),e.points.push(newDataPoint$1(2,10)),e.points.push(DataPoint_Undefined$1),e.points.push(newDataPoint$1(3,10)),e.points.push(newDataPoint$1(4,0)),e.points.push(DataPoint_Undefined$1),e.points.push(newDataPoint$1(5,0)),e.points.push(newDataPoint$1(7,7)),e.points.push(DataPoint_Undefined$1),e.points.push(DataPoint_Undefined$1),e.points.push(newDataPoint$1(7,0)),e.points.push(DataPoint_Undefined$1),$e.series.push(e),$e}function filteringInvalidPointsLog(){const $e=new PlotModel({title:"Filtering invalid points on logarithmic axes"});$e.axes.push(new LogarithmicAxis({position:AxisPosition$1.Bottom})),$e.axes.push(new LogarithmicAxis({position:AxisPosition$1.Left}));const e=new LineSeries;return e.points.push(newDataPoint$1(NaN,NaN)),e.points.push(newDataPoint$1(1,1)),e.points.push(newDataPoint$1(10,10)),e.points.push(newDataPoint$1(0,20)),e.points.push(newDataPoint$1(100,2)),e.points.push(newDataPoint$1(1e3,12)),e.points.push(newDataPoint$1(4.5,0)),e.points.push(newDataPoint$1(1e4,4)),e.points.push(newDataPoint$1(1e5,14)),e.points.push(newDataPoint$1(NaN,NaN)),e.points.push(newDataPoint$1(1e6,5)),e.points.push(newDataPoint$1(NaN,NaN)),$e.series.push(e),$e}function filteringPointsOutsideRange(){const $e=new PlotModel({title:"Filtering points outside (-1,1)"});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,filterMinValue:-1,filterMaxValue:1})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,filterMinValue:-1,filterMaxValue:1}));const e=new LineSeries;for(let t=0;t<200;t+=.01)e.points.push(newDataPoint$1(.01*t*Math.sin(t),.01*t*Math.cos(t)));return $e.series.push(e),$e}const category$B="Filtering data points",FilteringExamples={category:category$B,examples:[{title:"Filtering NaN points",example:{model:filteringInvalidPoints}},{title:"Filtering NaN points with AreaSeries",example:{model:filteringInvalidPointsAreaSeries}},{title:"Filtering undefined points",example:{model:filteringUndefinedPoints}},{title:"Filtering invalid points (log axis)",example:{model:filteringInvalidPointsLog}},{title:"Filtering points outside (-1,1)",example:{model:filteringPointsOutsideRange}}]},n$1=1e5;function usingIDataPoint(){const $e=[];for(let t=0;t<n$1;t++){const r=t/(n$1-1);$e.push(newDataPoint$1(r,y$1(r)))}const e=new PlotModel({title:"Using IDataPoint"});return e.series.push(new LineSeries({itemsSource:$e})),e}function usingIDataPointProvider(){const $e=[];for(let t=0;t<n$1;t++){const r=t/(n$1-1);$e.push(new PointType1(r,y$1(r)))}const e=new PlotModel({title:"Items implementing IDataPointProvider"});return e.series.push(new LineSeries({itemsSource:$e})),e}function usingMappingProperty(){const $e=[];for(let t=0;t<n$1;t++){const r=t/(n$1-1);$e.push(new PointType2(r,y$1(r)))}const e=new PlotModel({title:"Using Mapping property"});return e.series.push(new LineSeries({itemsSource:$e,mapping:t=>newDataPoint$1(t.abscissa,t.ordinate)})),e}function usingReflection(){const $e=[];for(let t=0;t<n$1;t++){const r=t/(n$1-1);$e.push(new PointType2(r,y$1(r)))}const e=new PlotModel({title:"Using reflection (slow)"});return e.series.push(new LineSeries({itemsSource:$e,dataFieldX:"abscissa",dataFieldY:"ordinate"})),e}class PointType1{constructor(e,t){this.abscissa=e,this.ordinate=t}getDataPoint(){return newDataPoint$1(this.abscissa,this.ordinate)}}class PointType2{constructor(e,t){this.abscissa=e,this.ordinate=t}}function y$1($e){return Math.sin(3/$e)*Math.sin(5/(1-$e))}const category$A="ItemsSource",ItemsSourceExamples={category:category$A,examples:[{title:"List<DataPoint>",example:{model:usingIDataPoint}},{title:"Items implementing IDataPointProvider",example:{model:usingIDataPointProvider}},{title:"Mapping property",example:{model:usingMappingProperty}},{title:"Using reflection (slow)",example:{model:usingReflection}}]},legendRightTopInside=()=>{const $e=createModel$1(),e=new Legend({legendPlacement:LegendPlacement.Inside,legendPosition:LegendPosition.RightTop,legendBackground:OxyColor$1.fromAColor(200,OxyColors$1.White),legendBorder:OxyColors$1.Black});return $e.legends.push(e),$e},legendRightTopOutside=()=>{const $e=createModel$1(),e=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.RightTop,legendBackground:OxyColor$1.fromAColor(200,OxyColors$1.White),legendBorder:OxyColors$1.Black});return $e.legends.push(e),$e},legendBottomLeftHorizontal=()=>{const $e=createModel$1(4),e=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomLeft,legendOrientation:LegendOrientation.Horizontal,legendBackground:OxyColor$1.fromAColor(200,OxyColors$1.White),legendBorder:OxyColors$1.Black});return $e.legends.push(e),$e},legendTopLeftVertical=()=>{const $e=createModel$1(4),e=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.TopLeft,legendOrientation:LegendOrientation.Vertical,legendBackground:OxyColor$1.fromAColor(200,OxyColors$1.White),legendBorder:OxyColors$1.Black});return $e.legends.push(e),$e},legendDefault=()=>{const $e=createModel$1(),e=new Legend;return $e.legends.push(e),$e},legendItemSpacing=()=>{const $e=createModel$1(),e=new Legend({legendItemSpacing:100,legendPosition:LegendPosition.BottomLeft,legendOrientation:LegendOrientation.Horizontal,legendBackground:OxyColor$1.fromAColor(200,OxyColors$1.White),legendBorder:OxyColors$1.Black});return $e.legends.push(e),$e},legendLineSpacingVertical=()=>{const $e=createModel$1(),e=new Legend({legendLineSpacing:30,legendPosition:LegendPosition.TopLeft,legendOrientation:LegendOrientation.Vertical,legendBackground:OxyColor$1.fromAColor(200,OxyColors$1.White),legendBorder:OxyColors$1.Black});return $e.legends.push(e),$e},legendLineSpacingHorizontal=()=>{const $e=createModel$1(),e=new Legend({legendLineSpacing:30,legendPosition:LegendPosition.TopLeft,legendOrientation:LegendOrientation.Horizontal,legendBackground:OxyColor$1.fromAColor(200,OxyColors$1.White),legendBorder:OxyColors$1.Black});return $e.legends.push(e),$e},legendColumnSpacing=()=>{const $e=createModel$1(60),e=new Legend({legendColumnSpacing:100,legendPosition:LegendPosition.TopRight,legendOrientation:LegendOrientation.Vertical,legendBackground:OxyColor$1.fromAColor(200,OxyColors$1.White),legendBorder:OxyColors$1.Black});return $e.legends.push(e),$e},legendHidden=()=>{const $e=createModel$1(),e=new Legend({legendBackground:OxyColor$1.fromAColor(200,OxyColors$1.White),legendBorder:OxyColors$1.Black});return $e.legends.push(e),$e.isLegendVisible=!1,$e},legendGrayscale=()=>{const $e=createModel$1();$e.defaultColors=[OxyColors$1.Black,OxyColors$1.Gray];const e=new Legend({legendSymbolLength:32,legendBackground:OxyColor$1.fromAColor(200,OxyColors$1.White),legendBorder:OxyColors$1.Black});return $e.legends.push(e),$e},clippedLegends=()=>{const $e=createModel$1(1);$e.series[0].title="1234567890 abcdefghijklmnopqrstuvwxyz ABCDEFGHIJKLMNOPQRSTUVWXYZ 1234567890 abcdefghijklmnopqrstuvwxyz ABCDEFGHIJKLMNOPQRSTUVWXYZ";const e=new Legend({legendPlacement:LegendPlacement.Inside,legendPosition:LegendPosition.RightTop,legendBackground:OxyColor$1.fromAColor(200,OxyColors$1.White),legendBorder:OxyColors$1.Black});return $e.legends.push(e),$e},clippedLegendsOutside=()=>{const $e=clippedLegends();return $e.legends[0].legendPlacement=LegendPlacement.Outside,$e.legends[0].legendPosition=LegendPosition.RightTop,$e.legends[0].legendMaxWidth=200,$e},clippedLegendsRight=()=>{const $e=clippedLegends();return $e.legends[0].legendPlacement=LegendPlacement.Outside,$e.legends[0].legendPosition=LegendPosition.TopRight,$e};function createModel$1($e=20){const e=new PlotModel;e.title="LineSeries";for(let t=1;t<=$e;t++){const r=new LineSeries;r.title="Series "+t,e.series.push(r);for(let Ve=0;Ve<2*Math.PI;Ve+=.1)r.points.push(newDataPoint$1(Ve,Math.sin(Ve*t)/t+t))}return e}const legendBottomCenterOutsideWithMaxHeight=()=>{const $e=createModel$1(),e=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Vertical,legendMaxHeight:75,legendBackground:OxyColor$1.fromAColor(200,OxyColors$1.White),legendBorder:OxyColors$1.Black});return $e.legends.push(e),$e},legendDefaultFontSize=()=>{const $e=createModel$1(),e=new Legend({legendFontSize:NaN,legendTitle:"Title in DefaultFontSize",legendBackground:OxyColor$1.fromAColor(200,OxyColors$1.White),legendBorder:OxyColors$1.Black});return $e.legends.push(e),$e.defaultFontSize=20,$e},singleLegendWithSeriesGroupsHorizontal=()=>{const $e=createModel$1(21);for(let t=0;t<7;t++)$e.series[t].seriesGroupName="group 1";for(let t=7;t<14;t++)$e.series[t].seriesGroupName="group 2";for(let t=14;t<21;t++)$e.series[t].seriesGroupName="group 3";const e=new Legend({legendFontSize:NaN,legendTitle:"Legend with groups of Series",legendBackground:OxyColor$1.fromAColor(200,OxyColors$1.White),legendBorder:OxyColors$1.Black,groupNameFont:"Segoe UI Black",legendPosition:LegendPosition.TopLeft,legendOrientation:LegendOrientation.Horizontal});return $e.legends.push(e),$e},singleLegendWithSeriesGroups=()=>{const $e=createModel$1(21);for(let t=0;t<7;t++)$e.series[t].seriesGroupName="group 1";for(let t=7;t<14;t++)$e.series[t].seriesGroupName="group 2";for(let t=14;t<21;t++)$e.series[t].seriesGroupName="group 3";const e=new Legend({legendFontSize:NaN,legendTitle:"Legend with groups of Series",legendBackground:OxyColor$1.fromAColor(200,OxyColors$1.White),legendBorder:OxyColors$1.Black});return $e.legends.push(e),$e},singleLegendWithSeriesGroupsMaxHeight=()=>{const $e=createModel$1(21);for(let t=0;t<7;t++)$e.series[t].seriesGroupName="group 1";for(let t=7;t<14;t++)$e.series[t].seriesGroupName="group 2";for(let t=14;t<21;t++)$e.series[t].seriesGroupName="group 3";const e=new Legend({legendFontSize:NaN,legendTitle:"Legend with groups of Series",legendBackground:OxyColor$1.fromAColor(200,OxyColors$1.White),legendBorder:OxyColors$1.Black,legendMaxHeight:275});return $e.legends.push(e),$e},multipleLegendsWithSeriesGroups=()=>{const $e=createModel$1(21);for(let r=0;r<7;r++)$e.series[r].seriesGroupName="group 1",$e.series[r].legendKey="Legend 1";for(let r=7;r<14;r++)$e.series[r].seriesGroupName="group 2",$e.series[r].legendKey="Legend 1";for(let r=14;r<21;r++)$e.series[r].seriesGroupName="group 3",$e.series[r].legendKey="Legend 2";const e=new Legend({key:"Legend 1",legendFontSize:NaN,legendTitle:"Legend 1 Series",legendPlacement:LegendPlacement.Inside,legendBackground:OxyColor$1.fromAColor(200,OxyColors$1.White),legendBorder:OxyColors$1.Black}),t=new Legend({key:"Legend 2",legendFontSize:NaN,legendTitle:"Legend 2 Series",legendPlacement:LegendPlacement.Outside,legendBackground:OxyColor$1.fromAColor(200,OxyColors$1.White),legendBorder:OxyColors$1.Black});return $e.legends.push(e),$e.legends.push(t),$e},legendFullWidth=()=>{const $e=createModel$1(21),e=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.TopCenter,legendOrientation:LegendOrientation.Horizontal,allowUseFullExtent:!0}),t=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Horizontal,allowUseFullExtent:!0});return $e.plotMargins=new OxyThickness$1(50),$e.legends.push(e),$e.legends.push(t),$e.invalidatePlot(!0),$e},legendFullHeight=()=>{const $e=createModel$1(21),e=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.LeftTop,legendOrientation:LegendOrientation.Vertical,allowUseFullExtent:!0}),t=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.RightTop,legendOrientation:LegendOrientation.Vertical,allowUseFullExtent:!0});return $e.legends.push(e),$e.legends.push(t),$e},legendShowingInvisibleSeries=()=>createModelWithInvisibleSeries(!0),legendNotShowingInvisibleSeries=()=>createModelWithInvisibleSeries(!1),createModelWithInvisibleSeries=$e=>{const e=createModel$1(),t=new Legend({showInvisibleSeries:$e});e.legends.push(t);for(let r=0;r<e.series.length;r+=2)e.series[r].isVisible=!1;return e.invalidatePlot(!1),e},category$z="Legends",LegendExamples={category:category$z,tags:["Legends"],examples:[{title:"Legend at right top inside",example:{model:legendRightTopInside}},{title:"Legend at right top outside",example:{model:legendRightTopOutside}},{title:"Legend at BottomLeft outside horizontal",example:{model:legendBottomLeftHorizontal}},{title:"Legend at TopLeft outside vertical",example:{model:legendTopLeftVertical}},{title:"Legend at default position",example:{model:legendDefault}},{title:"LegendItemSpacing (only for horizontal orientation)",example:{model:legendItemSpacing}},{title:"LegendLineSpacing (vertical legend orientation)",example:{model:legendLineSpacingVertical}},{title:"LegendLineSpacing (horizontal legend orientation)",example:{model:legendLineSpacingHorizontal}},{title:"LegendColumnSpacing (only for vertical orientation)",example:{model:legendColumnSpacing}},{title:"Hidden Legend",example:{model:legendHidden}},{title:"Grayscale colors",example:{model:legendGrayscale}},{title:"Clipped legends",example:{model:clippedLegends}},{title:"Clipped legends RightTop outside with MaxWidth",example:{model:clippedLegendsOutside}},{title:"Clipped legends TopRight outside",example:{model:clippedLegendsRight}},{title:"LegendMaxHeight (vertical legend orientation)",example:{model:legendBottomCenterOutsideWithMaxHeight}},{title:"Legend with DefaultFontSize",example:{model:legendDefaultFontSize}},{title:"Legend with grouped Series Horizontal",example:{model:singleLegendWithSeriesGroupsHorizontal}},{title:"Legend with grouped Series",example:{model:singleLegendWithSeriesGroups}},{title:"Legend with grouped Series and MaxHeight",example:{model:singleLegendWithSeriesGroupsMaxHeight}},{title:"Multiple Legends with grouped Series",example:{model:multipleLegendsWithSeriesGroups}},{title:"Full width legend",example:{model:legendFullWidth}},{title:"Full height legend",example:{model:legendFullHeight}},{title:"Legend showing invisible series",example:{model:legendShowingInvisibleSeries}},{title:"Legend not showing invisible series",example:{model:legendNotShowingInvisibleSeries}}]};function mouseEvents(){const $e=new PlotModel({title:"Mouse events",subtitle:"Left click and drag"}),e=new LinearAxis$1({position:AxisPosition$1.Left,minimum:-1,maximum:1}),t=new LinearAxis$1({position:AxisPosition$1.Bottom,minimum:-1,maximum:1});$e.axes.push(e),$e.axes.push(t);let r;return $e.mouseDown=(Ve,je)=>{je.changedButton===OxyMouseButton$1.Left&&(r=new LineSeries({title:"LineSeries"+($e.series.length+1),markerType:MarkerType$1.None,strokeThickness:2}),r.points.push(t.inverseTransformPoint(je.position.x,je.position.y,e)),$e.series.push(r),$e.invalidatePlot(!1),je.handled=!0)},$e.mouseMove=(Ve,je)=>{r!==void 0&&(r.points.push(t.inverseTransformPoint(je.position.x,je.position.y,e)),$e.invalidatePlot(!1),je.handled=!0)},$e.mouseUp=(Ve,je)=>{r!==void 0&&(r=void 0,je.handled=!0)},$e}function mouseDownEventHitTestResult(){const $e=new PlotModel({title:"MouseDown HitTestResult",subtitle:"Reports the index of the nearest point."}),e=new LineSeries;e.points.push(newDataPoint$1(0,10)),e.points.push(newDataPoint$1(10,40)),e.points.push(newDataPoint$1(40,20)),e.points.push(newDataPoint$1(60,30)),$e.series.push(e),e.mouseDown=(r,Ve)=>{$e.subtitle="Index of nearest point in LineSeries: "+Math.round(Ve.hitTestResult.index||0),$e.invalidatePlot(!1)};const t=new ScatterSeries;return t.points.push({x:0,y:15}),t.points.push({x:10,y:45}),t.points.push({x:40,y:25}),t.points.push({x:60,y:35}),$e.series.push(t),t.mouseDown=(r,Ve)=>{$e.subtitle="Index of nearest point in ScatterSeries: "+Math.round(Ve.hitTestResult.index||0),$e.invalidatePlot(!1)},$e}function mouseDownEvent(){const $e=new PlotModel({title:"MouseDown",subtitle:"Left click to edit or add points."}),e=new LineSeries({title:"LineSeries1",markerType:MarkerType$1.Circle,markerSize:6,strokeThickness:1.5});e.points.push(newDataPoint$1(0,10)),e.points.push(newDataPoint$1(10,40)),e.points.push(newDataPoint$1(40,20)),e.points.push(newDataPoint$1(60,30)),$e.series.push(e);let t=-1;return e.mouseDown=(r,Ve)=>{if(Ve.changedButton===OxyMouseButton$1.Left){const je=Math.round(Ve.hitTestResult.index),ze=e.transform(e.points[je]);if(screenPointMinus$1(ze,Ve.position).length<10)t=je;else{const Xe=Ve.hitTestResult.index+1;e.points.splice(Xe,0,e.inverseTransform(Ve.position)),t=Xe}e.lineStyle=LineStyle$1.DashDot,$e.invalidatePlot(!1),Ve.handled=!0}},e.mouseMove=(r,Ve)=>{t>=0&&(e.points[t]=e.inverseTransform(Ve.position),$e.invalidatePlot(!1),Ve.handled=!0)},e.mouseUp=(r,Ve)=>{t=-1,e.lineStyle=LineStyle$1.Solid,$e.invalidatePlot(!1),Ve.handled=!0},$e.mouseDown=(r,Ve)=>{Ve.changedButton===OxyMouseButton$1.Left&&(e.points.push(e.inverseTransform(Ve.position)),t=e.points.length-1,$e.invalidatePlot(!1),Ve.handled=!0)},$e}function addAnnotations(){const $e=new PlotModel({title:"Add arrow annotations",subtitle:"Press and drag the left mouse button"}),e=new LinearAxis$1({position:AxisPosition$1.Bottom}),t=new LinearAxis$1({position:AxisPosition$1.Left});$e.axes.push(e),$e.axes.push(t),$e.series.push(new FunctionSeries({f:Ve=>Math.sin(Ve/4)*Math.acos(Math.sin(Ve)),x0:0,x1:Math.PI*8,n:2e3,title:"sin(x/4)*acos(sin(x))"}));let r=null;return $e.mouseDown=(Ve,je)=>{je.changedButton===OxyMouseButton$1.Left&&(r=new ArrowAnnotation,r.startPoint=r.endPoint=e.inverseTransformPoint(je.position.x,je.position.y,t),$e.annotations.push(r),je.handled=!0)},$e.mouseMove=(Ve,je)=>{r&&(r.endPoint=e.inverseTransformPoint(je.position.x,je.position.y,t),r.text=`Y = ${r.endPoint.y.toFixed(3)}`,$e.invalidatePlot(!1),je.handled=!0)},$e.mouseUp=(Ve,je)=>{r&&(r=null,je.handled=!0)},$e}function lineAnnotation(){const $e=new PlotModel({title:"LineAnnotation",subtitle:"Click and drag the annotation line."});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimum:-20,maximum:80})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:-10,maximum:10}));const e=new LineAnnotation({type:LineAnnotationType.Vertical,x:4});return e.mouseDown=(t,r)=>{r.changedButton===OxyMouseButton$1.Left&&(e.strokeThickness*=5,$e.invalidatePlot(!1),r.handled=!0)},e.mouseMove=(t,r)=>{e.x=e.inverseTransform(r.position).x,$e.invalidatePlot(!1),r.handled=!0},e.mouseUp=(t,r)=>{e.strokeThickness/=5,$e.invalidatePlot(!1),r.handled=!0},$e.annotations.push(e),$e}function arrowAnnotation(){const $e=new PlotModel({title:"ArrowAnnotation",subtitle:"Click and drag the arrow."});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimum:-40,maximum:60})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:-10,maximum:10}));const e=new ArrowAnnotation({startPoint:newDataPoint$1(8,4),endPoint:newDataPoint$1(0,0),text:"Move me!"});let t=DataPoint_Undefined$1,r=!1,Ve=!1,je=OxyColors$1.White;return e.mouseDown=(ze,Xe)=>{Xe.changedButton===OxyMouseButton$1.Left&&(t=e.inverseTransform(Xe.position),r=Xe.hitTestResult.index!==2,Ve=Xe.hitTestResult.index!==1,je=e.color,e.color=OxyColors$1.Red,$e.invalidatePlot(!1),Xe.handled=!0)},e.mouseMove=(ze,Xe)=>{const We=e.inverseTransform(Xe.position),qe=We.x-t.x,Ke=We.y-t.y;r&&(e.startPoint=newDataPoint$1(e.startPoint.x+qe,e.startPoint.y+Ke)),Ve&&(e.endPoint=newDataPoint$1(e.endPoint.x+qe,e.endPoint.y+Ke)),t=We,$e.invalidatePlot(!1),Xe.handled=!0},e.mouseUp=(ze,Xe)=>{e.color=je},$e.annotations.push(e),$e}function polygonAnnotation(){const $e=new PlotModel({title:"PolygonAnnotation",subtitle:"Click the polygon"});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:-20,maximum:20})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimum:-20,maximum:20}));const e=new PolygonAnnotation({text:"Polygon 1"});e.points.push(newDataPoint$1(4,-2),newDataPoint$1(8,-4),newDataPoint$1(17,7),newDataPoint$1(5,8),newDataPoint$1(2,5));let t=1;return e.mouseDown=(r,Ve)=>{Ve.changedButton===OxyMouseButton$1.Left&&(e.text="Hit # "+t++,$e.invalidatePlot(!1),Ve.handled=!0)},$e.annotations.push(e),$e}function textAnnotation(){const $e=new PlotModel({title:"TextAnnotation",subtitle:"Click the text"});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimum:-20,maximum:20})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:-10,maximum:10}));const e=new TextAnnotation({textPosition:newDataPoint$1(4,-2),text:"Click here"});return e.mouseDown=(t,r)=>{console.log("mouseDown"),r.changedButton===OxyMouseButton$1.Left&&(e.background=e.background.isUndefined()?OxyColors$1.LightGreen:OxyColors$1.Undefined,$e.invalidatePlot(!1),r.handled=!0)},$e.annotations.push(e),$e}async function imageAnnotation(){const $e=new PlotModel({title:"ImageAnnotation",subtitle:"Click the image"});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimum:-20,maximum:20})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:-10,maximum:10}));const e=window.oxyPlotImg;if(!e)throw new Error("window.oxyPlotImg not set");const t=await getImageService$1().load(e),r=new ImageAnnotation({imageSource:t,x:new PlotLength(4,PlotLengthUnit.Data),y:new PlotLength(2,PlotLengthUnit.Data),horizontalAlignment:HorizontalAlignment$1.Right});return $e.annotations.push(r),r.mouseDown=(Ve,je)=>{je.changedButton===OxyMouseButton$1.Left&&(r.horizontalAlignment=r.horizontalAlignment===HorizontalAlignment$1.Right?HorizontalAlignment$1.Left:HorizontalAlignment$1.Right,$e.invalidatePlot(!1),je.handled=!0)},$e}function addSeriesByMouseDownEvent(){const $e=new PlotModel({title:"MouseDown",subtitle:"Left click to add series."}),e=new Legend({legendSymbolLength:40});return $e.legends.push(e),$e.mouseDown=(t,r)=>{if(r.changedButton===OxyMouseButton$1.Left){const Ve=$e.series.length+1;$e.series.push(new FunctionSeries({f:je=>Math.sin(Ve*je),x0:0,x1:10,n:1e3})),$e.invalidatePlot(!0),r.handled=!0}},$e}function selectRange(){const $e=new PlotModel({title:"Select range",subtitle:"Left click and drag to select a range."});$e.series.push(new FunctionSeries({f:Math.cos,x0:0,x1:40,dx:.1}));const e=new RectangleAnnotation({fill:OxyColor$1.fromAColor(120,OxyColors$1.SkyBlue),minimumX:0,maximumX:0});$e.annotations.push(e);let t=Number.NaN;return $e.mouseDown=(r,Ve)=>{Ve.changedButton===OxyMouseButton$1.Left&&(t=e.inverseTransform(Ve.position).x,e.minimumX=t,e.maximumX=t,$e.invalidatePlot(!0),Ve.handled=!0)},$e.mouseMove=(r,Ve)=>{if(!Number.isNaN(t)){const je=e.inverseTransform(Ve.position).x;e.minimumX=Math.min(je,t),e.maximumX=Math.max(je,t),e.text=` cos(x) dx =  ${Math.sin(e.maximumX)-round$2(Math.sin(e.minimumX),2)}`,$e.subtitle=`Integrating from ${e.minimumX.toFixed(2)} to ${e.maximumX.toFixed(2)}`,$e.invalidatePlot(!0),Ve.handled=!0}},$e.mouseUp=(r,Ve)=>{t=Number.NaN},$e}function hover(){const $e=new PlotModel({title:"Hover"});let e=null;return $e.mouseEnter=(t,r)=>{$e.subtitle="The mouse entered",e=new LineSeries,$e.series.push(e),$e.invalidatePlot(!1),r.handled=!0},$e.mouseMove=(t,r)=>{e&&e.xAxis&&(e.points.push(e.inverseTransform(r.position)),$e.invalidatePlot(!1))},$e.mouseLeave=(t,r)=>{$e.subtitle="The mouse left",$e.invalidatePlot(!1),r.handled=!0},$e}function touch(){const $e=new PlotModel({title:"Touch"}),e=new LineSeries;return $e.series.push(e),$e.touchStarted=(t,r)=>{$e.subtitle="The touch gesture started",$e.invalidatePlot(!1),r.handled=!0},$e.touchDelta=(t,r)=>{e.points.push(e.inverseTransform(r.position)),$e.invalidatePlot(!1)},$e.touchCompleted=(t,r)=>{$e.subtitle="The touch gesture completed",$e.invalidatePlot(!1),r.handled=!0},$e}function touchSeries(){const $e=new PlotModel({title:"Touch on a LineSeries"}),e=new LineSeries;return e.points.push(newDataPoint$1(0,0)),e.points.push(newDataPoint$1(10,10)),$e.series.push(e),e.touchStarted=(t,r)=>{$e.subtitle="The touch gesture started on the LineSeries",$e.invalidatePlot(!1),r.handled=!0},e.touchDelta=(t,r)=>{e.points.push(e.inverseTransform(r.position)),$e.invalidatePlot(!1)},e.touchCompleted=(t,r)=>{$e.subtitle="The touch gesture completed",$e.invalidatePlot(!1),r.handled=!0},$e}function rectangleAnnotationClick(){const $e=new PlotModel({title:"RectangleAnnotation click"});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left}));const e=new RectangleAnnotation({minimumX:10,maximumX:60,minimumY:10,maximumY:20});$e.annotations.push(e);let t=0;return e.mouseDown=(r,Ve)=>{e.text="Clicked "+ ++t+" times.",$e.invalidatePlot(!1)},$e}function clickingOnAnAnnotation$1(){const $e=new PlotModel({title:"Clicking on an annotation",subtitle:"Click on the rectangles"});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left}));const e=new RectangleAnnotation({fill:OxyColors$1.Green,text:"RectangleAnnotation 1",minimumX:25,maximumX:75,minimumY:20,maximumY:40});$e.annotations.push(e);const t=new RectangleAnnotation({fill:OxyColors$1.SkyBlue,text:"RectangleAnnotation 2",minimumX:25,maximumX:75,minimumY:60,maximumY:80});$e.annotations.push(t);const r=(Ve,je)=>{$e.subtitle="You clicked "+Ve.text,$e.invalidatePlot(!1)};return e.mouseDown=r,t.mouseDown=r,$e}const category$y="Mouse Events",MouseEventExamples={category:category$y,examples:[{title:"PlotModel mouse events",example:{model:mouseEvents}},{title:"MouseDown event and HitTestResult",example:{model:mouseDownEventHitTestResult}},{title:"LineSeries and PlotModel MouseDown event",example:{model:mouseDownEvent}},{title:"Add arrow annotations",example:{model:addAnnotations}},{title:"LineAnnotation",example:{model:lineAnnotation}},{title:"ArrowAnnotation",example:{model:arrowAnnotation}},{title:"PolygonAnnotation",example:{model:polygonAnnotation}},{title:"TextAnnotation",example:{model:textAnnotation}},{title:"ImageAnnotation",example:{model:imageAnnotation}},{title:"Add Series",example:{model:addSeriesByMouseDownEvent}},{title:"Select range",example:{model:selectRange}},{title:"Hover",example:{model:hover}},{title:"Touch",example:{model:touch}},{title:"Touch on a LineSeries",example:{model:touchSeries}},{title:"RectangleAnnotation click",example:{model:rectangleAnnotationClick}},{title:"Clicking on an annotation",example:{model:clickingOnAnAnnotation$1}}]};function lineSeries1M(){const $e=new PlotModel({title:"LineSeries, 1M points"}),e=new LineSeries;return addDataPoints(e.points,1e6),$e.series.push(e),$e}function lineSeries1MSpeed(){const $e=new PlotModel({title:"LineSeries, 1M points"}),e=new LineSeries({edgeRenderingMode:EdgeRenderingMode$1.PreferSpeed});return addDataPoints(e.points,1e6),$e.series.push(e),$e}function lineSeries(){const $e=new PlotModel({title:"LineSeries, 100k points"}),e=new LineSeries;return addDataPoints(e.points,1e5),$e.series.push(e),$e}function lineSeriesDashedLines(){const $e=new PlotModel({title:"LineSeries, 100k points",subtitle:"LineStyle = Dash"}),e=new LineSeries({lineStyle:LineStyle$1.Dash});return addDataPoints(e.points,1e5),$e.series.push(e),$e}function lineSeries1WithMarkers(){const $e=new PlotModel({title:"LineSeries, 100k points",subtitle:"MarkerType = Square"}),e=new LineSeries({markerType:MarkerType$1.Square});return addDataPoints(e.points,1e5),$e.series.push(e),$e}function lineSeries1WithMarkersLowRes(){const $e=new PlotModel({title:"LineSeries, 100k points, markers, lower resolution",subtitle:"MarkerType = Square, MarkerResolution = 3"}),e=new LineSeries({markerType:MarkerType$1.Square,markerResolution:3});return addDataPoints(e.points,1e5),$e.series.push(e),$e}function lineSeriesRoundLineJoins(){const $e=new PlotModel({title:"LineSeries, 100k points",subtitle:"LineJoin = Round"}),e=new LineSeries({lineJoin:LineJoin$1.Round});return addDataPoints(e.points,1e5),$e.series.push(e),$e}function lineSeriesItemsSourceList(){const $e=new PlotModel({title:"LineSeries, 100k points by ItemsSource set to a List<DataPoint>"}),e=new LineSeries,t=[];return addDataPoints(t,1e5),e.itemsSource=t,$e.series.push(e),$e}function lineSeriesItemsSourceMapping(){const $e=new PlotModel({title:"LineSeries, 100k points by ItemsSource and Mapping",subtitle:"Using the Mapping function"}),e=new LineSeries,t=[];addDataPoints(t,1e5);const r=t.map(Ve=>new OxyRect$1(Ve.x,Ve.y,0,0));return e.itemsSource=r,e.mapping=Ve=>newDataPoint$1(Ve.left,Ve.top),$e.series.push(e),$e}function lineSeriesItemsSourceReflection(){const $e=new PlotModel({title:"LineSeries, 100k points, ItemsSource with reflection",subtitle:"DataFieldX and DataFieldY"}),e=new LineSeries,t=[];addDataPoints(t,1e5);const r=t.map(Ve=>new OxyRect$1(Ve.x,Ve.y,0,0));return e.itemsSource=r,e.dataFieldX="left",e.dataFieldY="top",$e.series.push(e),$e}function lineSeriesThick(){const $e=new PlotModel({title:"LineSeries, 100k points (thick)",subtitle:"StrokeThickness = 10"}),e=new LineSeries({strokeThickness:10});return addDataPoints(e.points,1e5),$e.series.push(e),$e}function lineSeries2MiterLineJoins(){const $e=new PlotModel({title:"LineSeries, 3k points, miter line joins",subtitle:"LineJoin = Miter"}),e=new LineSeries({lineJoin:LineJoin$1.Miter,strokeThickness:8});for(let t=0;t<3e3;t++)e.points.push(newDataPoint$1(t,t%2));return $e.series.push(e),$e}function lineSeries2RoundLineJoins(){const $e=new PlotModel({title:"LineSeries, 3k points, round line joins",subtitle:"LineJoin = Round"}),e=new LineSeries({lineJoin:LineJoin$1.Round,strokeThickness:8});for(let t=0;t<3e3;t++)e.points.push(newDataPoint$1(t,t%2));return $e.series.push(e),$e}function lineSeries2BevelLineJoins(){const $e=new PlotModel({title:"LineSeries, 3k points, bevel line joins",subtitle:"LineJoin = Bevel"}),e=new LineSeries({lineJoin:LineJoin$1.Bevel,strokeThickness:8});for(let t=0;t<3e3;t++)e.points.push(newDataPoint$1(t,t%2));return $e.series.push(e),$e}function scatterSeriesSquares(){const $e=new PlotModel({title:"ScatterSeries (squares)"}),e=new ScatterSeries;return addScatterPoints(e.points,2e3),$e.series.push(e),$e}function scatterSeriesSquaresOutline(){const $e=new PlotModel({title:"ScatterSeries (squares with outline)",subtitle:"MarkerStroke = Black"}),e=new ScatterSeries({markerStroke:OxyColors$1.Black});return addScatterPoints(e.points,2e3),$e.series.push(e),$e}function scatterSeriesSquaresOutlineOnly(){const $e=new PlotModel({title:"ScatterSeries (squares without fill color)",subtitle:"MarkerFill = Transparent, MarkerStroke = Black"}),e=new ScatterSeries({markerFill:OxyColors$1.Transparent,markerStroke:OxyColors$1.Black});return addScatterPoints(e.points,2e3),$e.series.push(e),$e}function scatterSeriesItemsSourceReflection(){const $e=new PlotModel({title:"ScatterSeries (by ItemsSource)",subtitle:"DataFieldX = 'X', DataFieldY = 'Y'"});return $e.series.push(new ScatterSeries({itemsSource:getPoints(2e3),dataFieldX:"X",dataFieldY:"Y"})),$e}function scatterSeriesCircles(){const $e=new PlotModel({title:"ScatterSeries (circles)",subtitle:"MarkerType = Circle"}),e=new ScatterSeries({markerType:MarkerType$1.Circle});return addScatterPoints(e.points,2e3),$e.series.push(e),$e}function scatterSeriesCirclesOutline(){const $e=new PlotModel({title:"ScatterSeries (circles with outline)",subtitle:"MarkerType = Circle, MarkerStroke = Black"}),e=new ScatterSeries({markerType:MarkerType$1.Circle,markerStroke:OxyColors$1.Black});return addScatterPoints(e.points,2e3),$e.series.push(e),$e}function scatterSeriesCrosses(){const $e=new PlotModel({title:"ScatterSeries (cross)",subtitle:"MarkerType = Cross"}),e=new ScatterSeries({markerType:MarkerType$1.Cross,markerFill:OxyColors$1.Undefined,markerStroke:OxyColors$1.Black});return addScatterPoints(e.points,2e3),$e.series.push(e),$e}function linearAxisNoGridlines(){const $e=new PlotModel({title:"LinearAxis (no gridlines)"});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:0,maximum:100,majorStep:1,minorStep:1})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimum:0,maximum:100,majorStep:1,minorStep:1})),$e}function linearAxisSolidGridlines(){const $e=new PlotModel({title:"LinearAxis (solid gridlines)"});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:LineStyle$1.Solid})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:LineStyle$1.Solid})),$e}function linearAxisDashedGridlines(){const $e=new PlotModel({title:"LinearAxis (dashed gridlines)"});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:LineStyle$1.Dash})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:LineStyle$1.Dash})),$e}function linearAxisDottedGridlines(){const $e=new PlotModel({title:"LinearAxis (dotted gridlines)"});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:LineStyle$1.Dot})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:LineStyle$1.Dot})),$e}function intOverflow10k(){return intOverflow(1e4)}function intOverflow50k(){return intOverflow(5e4)}function intOverflow100k(){return intOverflow(1e5)}function intOverflow($e){const e=new PlotModel({title:"int overflow",subtitle:`n = ${$e}`}),t=new LineSeries;let r=0;for(let Ve=0;Ve<$e;Ve++)t.points.push(newDataPoint$1(Ve,r+=Ve*Ve));return e.series.push(t),e}function getPoints($e){const e=[];return addDataPoints(e,$e),e}function addDataPoints($e,e){for(let t=0;t<e;t++){const r=Math.PI*10*t/(e-1);$e.push(newDataPoint$1(r*Math.cos(r),r*Math.sin(r)))}}function addScatterPoints($e,e){for(let t=0;t<e;t++){const r=Math.PI*10*t/(e-1);$e.push({x:r*Math.cos(r),y:r*Math.sin(r)})}}const category$x="Performance",PerformanceExamples={category:category$x,examples:[{title:"LineSeries, 1M points",example:{model:lineSeries1M}},{title:"LineSeries, 1M points, EdgeRenderingMode==PreferSpeed",example:{model:lineSeries1MSpeed}},{title:"LineSeries, 100k points",example:{model:lineSeries}},{title:"LineSeries, 100k points (dashed line)",example:{model:lineSeriesDashedLines}},{title:"LineSeries, 100k points, markers",example:{model:lineSeries1WithMarkers}},{title:"LineSeries, 100k points, markers, lower resolution",example:{model:lineSeries1WithMarkersLowRes}},{title:"LineSeries, 100k points, round line joins",example:{model:lineSeriesRoundLineJoins}},{title:"LineSeries, 100k points by ItemsSource set to a List<DataPoint>",example:{model:lineSeriesItemsSourceList}},{title:"LineSeries, 100k points by ItemsSource and Mapping",example:{model:lineSeriesItemsSourceMapping}},{title:"LineSeries, 100k points by ItemsSource and reflection",example:{model:lineSeriesItemsSourceReflection}},{title:"LineSeries, 100k points (thick)",example:{model:lineSeriesThick}},{title:"LineSeries, 3k points, miter line joins",example:{model:lineSeries2MiterLineJoins}},{title:"LineSeries, 3k points, round line joins",example:{model:lineSeries2RoundLineJoins}},{title:"LineSeries, 3k points, bevel line joins",example:{model:lineSeries2BevelLineJoins}},{title:"ScatterSeries (squares)",example:{model:scatterSeriesSquares}},{title:"ScatterSeries (squares with outline)",example:{model:scatterSeriesSquaresOutline}},{title:"ScatterSeries (squares without fill color)",example:{model:scatterSeriesSquaresOutlineOnly}},{title:"ScatterSeries by ItemsSource and reflection",example:{model:scatterSeriesItemsSourceReflection}},{title:"ScatterSeries (circles)",example:{model:scatterSeriesCircles}},{title:"ScatterSeries (circles with outline)",example:{model:scatterSeriesCirclesOutline}},{title:"ScatterSeries (cross)",example:{model:scatterSeriesCrosses}},{title:"LinearAxis (no gridlines)",example:{model:linearAxisNoGridlines}},{title:"LinearAxis (solid gridlines)",example:{model:linearAxisSolidGridlines}},{title:"LinearAxis (dashed gridlines)",example:{model:linearAxisDashedGridlines}},{title:"LinearAxis (dotted gridlines)",example:{model:linearAxisDottedGridlines}},{title:"int overflow (10k)",example:{model:intOverflow10k}},{title:"int overflow (50k)",example:{model:intOverflow50k}},{title:"int overflow (100k)",example:{model:intOverflow100k}}]};function basicExample(){const $e=new PlotModel({title:"Basic Controller example",subtitle:"Panning with left mouse button"});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left}));const e=new PlotController$1;return e.unbindAll(),ControllerExtensions$1.bindMouseDown(e,OxyMouseButton$1.Left,PlotCommands$1.panAt),{model:()=>$e,controller:()=>e}}function hoverTracking(){const $e=new PlotModel({title:"Show tracker without clicking"});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left})),$e.series.push(FunctionSeries.fromFxFyN(t=>Math.cos(t)*5+Math.cos(t*50),t=>Math.sin(t)*5+Math.sin(t*50),0,Math.PI*2,2e4));const e=new PlotController$1;return ControllerExtensions$1.bindMouseEnter(e,PlotCommands$1.hoverPointsOnlyTrack),{model:()=>$e,controller:()=>e}}function mouseHandlingExample(){const $e=new PlotModel({title:"Mouse handling example"}),e=new ScatterSeries;$e.series.push(e);const t=new DelegatePlotCommand$1((Ve,je,ze)=>{ze.handled=!0;const Xe=e.inverseTransform(ze.position);e.points.push({x:Xe.x,y:Xe.y}),$e.invalidatePlot(!0)}),r=new PlotController$1;return ControllerExtensions$1.bindMouseDown(r,OxyMouseButton$1.Left,t),{model:()=>$e,controller:()=>r}}function clickingOnAnAnnotation(){const $e=new PlotModel({title:"Clicking on an annotation",subtitle:"Click on the rectangles"});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left}));const e=new RectangleAnnotation({fill:OxyColors$1.Green,text:"RectangleAnnotation 1",minimumX:25,maximumX:75,minimumY:20,maximumY:40});$e.annotations.push(e);const t=new RectangleAnnotation({fill:OxyColors$1.SkyBlue,text:"RectangleAnnotation 2",minimumX:25,maximumX:75,minimumY:60,maximumY:80});$e.annotations.push(t);const r=(ze,Xe)=>{$e.subtitle="You clicked "+ze.text,$e.invalidatePlot(!1)};e.mouseDown=r,t.mouseDown=r;const Ve=new PlotController$1,je=new DelegatePlotCommand$1((ze,Xe,We)=>{const qe=new HitTestArguments$1(We.position,10),Ke=ze.actualModel.hitTest(qe).find(Ze=>Ze.element instanceof RectangleAnnotation);Ke&&(We.handled=!0,$e.subtitle="You clicked "+Ke.element.text,$e.invalidatePlot(!1))});return Ve.bindMouseDown(new OxyMouseDownGesture$1(OxyMouseButton$1.Left),je),{model:()=>$e,controller:()=>Ve}}function preferringAnAxisForManipulation(){function $e(r,Ve,je=1){const ze=new ZoomStepManipulator$1(r,Ve.delta*.001*je,OxyModifierKeysExtensions$1.isControlDown(Ve));ze.axisPreference=AxisPreference$1.X,ze.started(Ve)}const e=new PlotModel({title:"Preferring an axis for manipulation",subtitle:"Mouse wheel over plot area prefers X axis"});e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left})),e.series.push(FunctionSeries.fromDx(Math.cos,-7,7,.01));const t=new PlotController$1;return t.unbindAll(),ControllerExtensions$1.bindMouseWheel(t,new DelegatePlotCommand$1((r,Ve,je)=>$e(r,je))),ControllerExtensions$1.bindMouseWheel(t,new DelegatePlotCommand$1((r,Ve,je)=>$e(r,je,.1)),OxyModifierKeys$1.Control),{model:()=>e,controller:()=>t}}function showHideLegend(){const $e=new PlotModel({title:"Show/Hide Legend",subtitle:"Click on the rectangles"}),e=3;for(let We=1;We<=e;We++){const qe=new LineSeries({title:"Series "+We});$e.series.push(qe);for(let Ke=0;Ke<2*Math.PI;Ke+=.1)qe.points.push(newDataPoint$1(Ke,Math.sin(Ke*We)/We+We))}const t=new Legend;$e.legends.push(t);const r=new RectangleAnnotation({fill:OxyColors$1.Green,text:"Show Legend",minimumX:.5,maximumX:1.5,minimumY:.2,maximumY:.4});$e.annotations.push(r);const Ve=new RectangleAnnotation({fill:OxyColors$1.SkyBlue,text:"Hide Legend",minimumX:.5,maximumX:1.5,minimumY:.6,maximumY:.8});$e.annotations.push(Ve);const je=(We,qe)=>{const Ke=We.text;Ke==="Show Legend"?$e.isLegendVisible=!0:Ke==="Hide Legend"&&($e.isLegendVisible=!1),$e.subtitle="You clicked "+We.text,$e.invalidatePlot(!1)};r.mouseDown=je,Ve.mouseDown=je;const ze=new PlotController$1,Xe=new DelegatePlotCommand$1((We,qe,Ke)=>{const Ze=new HitTestArguments$1(Ke.position,10),Je=We.actualModel.hitTest(Ze).find(Qe=>Qe.element instanceof RectangleAnnotation);Je&&(Ke.handled=!0,$e.subtitle="You clicked "+Je.element.text,$e.invalidatePlot(!1))});return ze.bindMouseDown(new OxyMouseDownGesture$1(OxyMouseButton$1.Left),Xe),{model:()=>$e,controller:()=>ze}}const category$w="PlotController examples",PlotControllerExamples={category:category$w,examples:[{title:"Basic controller example",example:basicExample()},{title:"Show tracker without clicking",example:hoverTracking()},{title:"Mouse handling example",example:mouseHandlingExample()},{title:"Clicking on an annotation",example:clickingOnAnAnnotation()},{title:"Preferring an axis for manipulation",example:preferringAnAxisForManipulation()},{title:"Show/Hide Legend",example:showHideLegend()}]};function title(){const $e=new PlotModel({title:"Title"});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left})),$e}function titleAndSubtitle(){const $e=new PlotModel({title:"Title",subtitle:"Subtitle"});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left})),$e}function titleAndSubtitleWithSubSuperscript(){const $e=new PlotModel({title:"Title with^{super}_{sub}script",subtitle:"Subtitle with^{super}_{sub}script"});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left})),$e}function titlePadding0(){const $e=new PlotModel({title:"TitlePadding = 0",subtitle:"This controls the distance between the titles and the plot area. The default value is 6",titlePadding:0});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left})),$e}function titlePadding100(){const $e=new PlotModel({title:"TitlePadding = 100",titlePadding:100});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left})),$e}function titlesCenteredWithinView(){const $e=new PlotModel({title:"Title",subtitle:"Subtitle",titleHorizontalAlignment:TitleHorizontalAlignment.CenteredWithinView});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left})),$e}function titleClippingOff(){const $e=new PlotModel({title:"This is a very long title to illustrate that title clipping is necessary, because currently it's not clipped.",clipTitle:!1});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left})),$e}function titleClipping60(){const $e=new PlotModel({title:"This is a very long title, that shows that title clippling is working with crrently 60% of title area",titleClippingLength:.6});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left})),$e}function backgroundUndefined(){const $e=new PlotModel({title:"Background = Undefined",background:OxyColors$1.Undefined});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left})),$e}function backgroundWhite50(){const $e=new PlotModel({title:"Background = 50% White",background:OxyColor$1.fromAColor(128,OxyColors$1.White)});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left})),$e}function backgroundTransparent(){const $e=new PlotModel({title:"Background = Transparent",background:OxyColors$1.Transparent});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left})),$e}function backgroundLightGray(){const $e=new PlotModel({title:"Background = LightSkyBlue",background:OxyColors$1.LightSkyBlue});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left})),$e}function backgroundWhite(){const $e=new PlotModel({title:"Background = White",background:OxyColors$1.White});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left})),$e}function backgroundBlack(){const $e=new PlotModel({title:"Background = Black",background:OxyColors$1.Black,textColor:OxyColors$1.White,titleColor:OxyColors$1.White,plotAreaBorderColor:OxyColors$1.White});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,ticklineColor:OxyColors$1.White})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,ticklineColor:OxyColors$1.White})),$e}function plotAreaBorderThickness2(){const $e=new PlotModel({title:"PlotAreaBorderThickness = 2",plotAreaBorderThickness:new OxyThickness$1(2)});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left})),$e}function plotAreaBorderThickness1001(){const $e=new PlotModel({title:"PlotAreaBorderThickness = (1,0,0,1)",plotAreaBorderThickness:new OxyThickness$1(1,0,0,1)});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left})),$e}function plotAreaBorderThickness4114(){const $e=new PlotModel({title:"PlotAreaBorderThickness = (4,1,1,4)",plotAreaBorderThickness:new OxyThickness$1(4,1,1,4)});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left})),$e}function plotAreaBorderThickness0(){const $e=new PlotModel({title:"PlotAreaBorderThickness = 0",plotAreaBorderThickness:new OxyThickness$1(0)});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left})),$e}function plotAreaBorderThickness0AxisLineThickness1(){const $e=new PlotModel({title:"PlotAreaBorderThickness = 0",subtitle:"AxislineThickness = 1, AxislineColor = OxyColors.Blue, AxislineStyle = LineStyle.Solid",plotAreaBorderThickness:new OxyThickness$1(0)});return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,axislineThickness:1,axislineColor:OxyColors$1.Blue,axislineStyle:LineStyle$1.Solid})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,axislineThickness:1,axislineColor:OxyColors$1.Blue,axislineStyle:LineStyle$1.Solid})),$e}function invalidAxisKey(){const $e=new PlotModel;return $e.axes.push(new LinearAxis$1),$e.series.push(new LineSeries({xAxisKey:"invalidKey"})),$e}function exceptionClipping(){const $e=new PlotModel,e=new DelegateAnnotation(t=>{throw t.pushClip(new OxyRect$1(50,50,50,50)),new Error("This Exception should be completely visible and not clipped by the previously pushed clipping rectangle.")});return $e.annotations.push(e),$e}function unbalancedClippingPush(){const $e=new PlotModel,e=new DelegateAnnotation(async t=>{t.pushClip(new OxyRect$1(50,50,50,50))});return $e.annotations.push(e),$e}function unbalancedClippingPop(){const $e=new PlotModel,e=new DelegateAnnotation(async t=>{t.popClip()});return $e.annotations.push(e),$e}const category$v="PlotModel examples",PlotModelExamples={category:category$v,examples:[{title:"Title",example:{model:title}},{title:"Title and Subtitle",example:{model:titleAndSubtitle}},{title:"Sub- and superscript in titles",example:{model:titleAndSubtitleWithSubSuperscript}},{title:"TitlePadding = 0",example:{model:titlePadding0}},{title:"TitlePadding = 100",example:{model:titlePadding100}},{title:"TitleHorizontalAlignment = CenteredWithinView",example:{model:titlesCenteredWithinView}},{title:"TitleClippingOff",example:{model:titleClippingOff}},{title:"TitleClipping60",example:{model:titleClipping60}},{title:"Background = Undefined (default)",example:{model:backgroundUndefined}},{title:"Background = 50% White",example:{model:backgroundWhite50}},{title:"Background = Transparent",example:{model:backgroundTransparent}},{title:"Background = LightSkyBlue",example:{model:backgroundLightGray}},{title:"Background = White",example:{model:backgroundWhite}},{title:"Background = Black",example:{model:backgroundBlack}},{title:"PlotAreaBorderThickness = 2",example:{model:plotAreaBorderThickness2}},{title:"PlotAreaBorderThickness = (1,0,0,1)",example:{model:plotAreaBorderThickness1001}},{title:"PlotAreaBorderThickness = (4,1,1,4)",example:{model:plotAreaBorderThickness4114}},{title:"PlotAreaBorderThickness = 0",example:{model:plotAreaBorderThickness0}},{title:"PlotAreaBorderThickness / AxisLine",example:{model:plotAreaBorderThickness0AxisLineThickness1}},{title:"Exception handling (invalid XAxisKey)",example:{model:invalidAxisKey}},{title:"Exception handling (with clipping)",example:{model:exceptionClipping}},{title:"Unbalanced clipping (push)",example:{model:unbalancedClippingPush}},{title:"Unbalanced clipping (pop)",example:{model:unbalancedClippingPop}}]};function drawTextColors(){const $e=new PlotModel,e="Arial",t=32,r=FontWeights$1.Bold,Ve=t*1.6,je=20;let ze=20-Ve;return $e.annotations.push(new DelegateAnnotation(async Xe=>{await Xe.drawText(newScreenPoint$1(je,ze+=Ve),"Black",OxyColors$1.Black,e,t,r),await Xe.drawText(newScreenPoint$1(je,ze+=Ve),"Red",OxyColors$1.Red,e,t,r),await Xe.drawText(newScreenPoint$1(je,ze+=Ve),"Green",OxyColors$1.Green,e,t,r),await Xe.drawText(newScreenPoint$1(je,ze+=Ve),"Blue",OxyColors$1.Blue,e,t,r),await RenderingExtensions$1.fillRectangle(Xe,new OxyRect$1(je,ze+Ve+15,200,10),OxyColors$1.Black,EdgeRenderingMode$1.Adaptive),await Xe.drawText(newScreenPoint$1(je,ze+Ve),"Yellow 50%",OxyColor$1.fromAColor(128,OxyColors$1.Yellow),e,t,r)})),$e}function drawTextFonts(){const $e=new PlotModel,e=20,t=e*1.6,r=20;let Ve=20-t;return $e.annotations.push(new DelegateAnnotation(async je=>{await je.drawText(newScreenPoint$1(r,Ve+=t),"Default font",OxyColors$1.Black,void 0,e),await je.drawText(newScreenPoint$1(r,Ve+=t),"Helvetica",OxyColors$1.Black,"Helvetica",e),await je.drawText(newScreenPoint$1(r,Ve+=t),"Arial",OxyColors$1.Black,"Arial",e),await je.drawText(newScreenPoint$1(r,Ve+=t),"Courier",OxyColors$1.Black,"Courier",e),await je.drawText(newScreenPoint$1(r,Ve+=t),"Courier New",OxyColors$1.Black,"Courier New",e),await je.drawText(newScreenPoint$1(r,Ve+=t),"Times",OxyColors$1.Black,"Times",e),await je.drawText(newScreenPoint$1(r,Ve+t),"Times New Roman",OxyColors$1.Black,"Times New Roman",e)})),$e}function drawTextFontSizes(){const $e=new PlotModel,e=20;let t=20;return $e.annotations.push(new DelegateAnnotation(async r=>{for(const Ve of[10,16,24,36,48])await r.drawText(newScreenPoint$1(e,t),`${Ve}pt`,OxyColors$1.Black,"Arial",Ve),await r.drawText(newScreenPoint$1(e+200,t),`${Ve}pt`,OxyColors$1.Black,"Arial",Ve,FontWeights$1.Bold),t+=Ve*1.6})),$e}function drawTextRotation(){const $e=new PlotModel;return $e.annotations.push(new DelegateAnnotation(async e=>{const t=newScreenPoint$1(200,200);await RenderingExtensions$1.fillCircle(e,t,3,OxyColors$1.Blue,EdgeRenderingMode$1.Adaptive);for(let r=0;r<360;r+=45)await e.drawText(t,`Rotation ${r}`,OxyColors$1.Black,void 0,20,void 0,r)})),$e}function drawTextAlignment(){const $e=new PlotModel,e=20;return $e.annotations.push(new DelegateAnnotation(async t=>{for(let r=HorizontalAlignment$1.Left;r<=HorizontalAlignment$1.Right;r++)for(let Ve=VerticalAlignment$1.Top;Ve<=VerticalAlignment$1.Bottom;Ve++){const je=newScreenPoint$1((r+1)*200+20,(Ve+1)*e*3+20);await RenderingExtensions$1.fillCircle(t,je,3,OxyColors$1.Blue,EdgeRenderingMode$1.Adaptive);const ze=getEnumName(HorizontalAlignment$1,r),Xe=getEnumName(VerticalAlignment$1,Ve);await t.drawText(je,`${ze}-${Xe}`,OxyColors$1.Black,void 0,e,void 0,0,r,Ve)}})),$e}function drawTextMultiLineAlignment(){const $e=new PlotModel,e=20;return $e.annotations.push(new DelegateAnnotation(async t=>{for(let r=HorizontalAlignment$1.Left;r<=HorizontalAlignment$1.Right;r++){const Ve=getEnumName(HorizontalAlignment$1,r);for(let je=VerticalAlignment$1.Top;je<=VerticalAlignment$1.Bottom;je++){const ze=getEnumName(VerticalAlignment$1,je),Xe=(r+1)*200+20,We=(je+1)*e*6+20,qe=newScreenPoint$1(Xe,We);await RenderingExtensions$1.fillCircle(t,qe,3,OxyColors$1.Blue,EdgeRenderingMode$1.Adaptive),await t.drawText(qe,`${Ve}
${ze}`,OxyColors$1.Black,void 0,e,void 0,0,r,je)}}})),$e}function mathTextRotation(){const $e=new PlotModel,e="Arial",t=24,r=FontWeights$1.Normal;return $e.annotations.push(new DelegateAnnotation(async Ve=>{const je=newScreenPoint$1(200,200),ze=newScreenPoint$1(400,200);await RenderingExtensions$1.fillCircle(Ve,je,3,OxyColors$1.Blue,EdgeRenderingMode$1.Adaptive);for(let Xe=0;Xe<360;Xe+=45){const We="     A_{2}^{3}B";await MathRenderingExtensions$1.drawMathText(Ve,je,We,OxyColors$1.Black,e,t,r,Xe,HorizontalAlignment$1.Left,VerticalAlignment$1.Middle);const qe=await MathRenderingExtensions$1.measureMathText(Ve,We,e,t,r),Ke=OxySizeExtensions$1.getPolygon(qe,je,Xe,HorizontalAlignment$1.Left,VerticalAlignment$1.Middle);await Ve.drawPolygon(Ke,OxyColors$1.Undefined,OxyColors$1.Blue,1,EdgeRenderingMode$1.Adaptive);const Ze="     A B";await Ve.drawText(ze,Ze,OxyColors$1.Red,e,t,r,Xe,HorizontalAlignment$1.Left,VerticalAlignment$1.Middle);const Je=Ve.measureText(Ze,e,t,r),Qe=OxySizeExtensions$1.getPolygon(Je,ze,Xe,HorizontalAlignment$1.Left,VerticalAlignment$1.Middle);await Ve.drawPolygon(Qe,OxyColors$1.Undefined,OxyColors$1.Blue,1,EdgeRenderingMode$1.Adaptive)}})),$e}function drawMathTextAlignment(){const $e="A_{2}^{3}B",e=new PlotModel,t="Arial",r=20,Ve=FontWeights$1.Normal;return e.annotations.push(new DelegateAnnotation(async je=>{for(let ze=HorizontalAlignment$1.Left;ze<=HorizontalAlignment$1.Right;ze++)for(let Xe=VerticalAlignment$1.Top;Xe<=VerticalAlignment$1.Bottom;Xe++){const We=newScreenPoint$1((ze+1)*200+20,(Xe+1)*r*3+20);await RenderingExtensions$1.fillCircle(je,We,3,OxyColors$1.Blue,EdgeRenderingMode$1.Adaptive),await MathRenderingExtensions$1.drawMathText(je,We,$e,OxyColors$1.Black,t,r,Ve,0,ze,Xe)}})),e}function drawTextAlignmentRotation(){const $e=new PlotModel;return $e.annotations.push(new DelegateAnnotation(async e=>{for(let t=HorizontalAlignment$1.Left;t<=HorizontalAlignment$1.Right;t++)for(let r=VerticalAlignment$1.Top;r<=VerticalAlignment$1.Bottom;r++){const Ve=(t+2)*130,je=(r+2)*130,ze=newScreenPoint$1(Ve,je);await RenderingExtensions$1.fillCircle(e,ze,3,OxyColors$1.Blue,EdgeRenderingMode$1.Adaptive);for(let Xe=0;Xe<360;Xe+=90)await e.drawText(ze,`R${Xe.toString().padStart(3,"0")}`,OxyColors$1.Black,void 0,20,void 0,Xe,t,r)}})),$e}function drawMultilineTextAlignmentRotation(){const $e=new PlotModel;return $e.annotations.push(new DelegateAnnotation(async e=>{for(let t=HorizontalAlignment$1.Left;t<=HorizontalAlignment$1.Right;t++){const r=getEnumName(HorizontalAlignment$1,t);for(let Ve=VerticalAlignment$1.Top;Ve<=VerticalAlignment$1.Bottom;Ve++){const je=getEnumName(VerticalAlignment$1,Ve),ze=(t+2)*170,Xe=(Ve+2)*170,We=newScreenPoint$1(ze,Xe);await RenderingExtensions$1.fillCircle(e,We,3,OxyColors$1.Blue,EdgeRenderingMode$1.Adaptive);for(let qe=0;qe<360;qe+=90)await e.drawText(We,`R${qe.toString().padStart(3,"0")}
${r}
${je}`,OxyColors$1.Black,void 0,20,void 0,qe,t,Ve)}}})),$e}function drawTextMaxSize(){const $e=new PlotModel,e="Arial",t=32,r=FontWeights$1.Bold,Ve=t*1.6,je=20,ze=200;let Xe=20;const We=["iii","jjj","OxyPlot","Bottom","100","KML"];return $e.annotations.push(new DelegateAnnotation(async qe=>{for(const Ke of We){const Ze=qe.measureText(Ke,e,t,r),Je=newScreenPoint$1(je,Xe);await qe.drawText(Je,Ke,OxyColors$1.Black,e,t,r,void 0,void 0,void 0,Ze);const Qe=new OxyRect$1(Je.x,Je.y,Ze.width,Ze.height);await qe.drawRectangle(Qe,OxyColors$1.Undefined,OxyColors$1.Black,1,EdgeRenderingMode$1.Adaptive);const ti=newScreenPoint$1(ze,Xe),ni=new OxySize$1(Ze.width/2,Ze.height/2);await qe.drawText(ti,Ke,OxyColors$1.Black,e,t,r,void 0,void 0,void 0,ni);const ri=new OxyRect$1(ti.x,ti.y,ni.width,ni.height);await qe.drawRectangle(ri,OxyColors$1.Undefined,OxyColors$1.Black,1,EdgeRenderingMode$1.Adaptive),Xe+=Ve}})),$e}function measureText(){const $e=new PlotModel,e="Arial",t=["OxyPlot","MMM","III","jikq","gh","123","!#$&"],r=[10,20,40,60];return $e.annotations.push(new DelegateAnnotation(async Ve=>{let je=5;for(const ze of r){let Xe=5,We=0;for(const qe of t){const Ke=Ve.measureText(qe,e,ze,FontWeights$1.Normal);We=Math.max(We,Ke.width),await Ve.drawRectangle(new OxyRect$1(je,Xe,Ke.width,Ke.height),OxyColors$1.LightYellow,OxyColors$1.Black,1,EdgeRenderingMode$1.Adaptive),await Ve.drawText(newScreenPoint$1(je,Xe),qe,OxyColors$1.Black,e,ze),Xe+=Ke.height+20}je+=We+20}})),$e}const clipping=()=>{const $e=new PlotModel;return $e.annotations.push(new DelegateAnnotation(async e=>{const t=async St=>{const oi=new OxyPen$1(OxyColors$1.Black,2,LineStyle$1.Dash);await RenderingExtensions$1.drawLine(e,St.left,St.top,St.right,St.top,oi,EdgeRenderingMode$1.Automatic),await RenderingExtensions$1.drawLine(e,St.right,St.top,St.right,St.bottom,oi,EdgeRenderingMode$1.Automatic),await RenderingExtensions$1.drawLine(e,St.right,St.bottom,St.left,St.bottom,oi,EdgeRenderingMode$1.Automatic),await RenderingExtensions$1.drawLine(e,St.left,St.bottom,St.left,St.top,oi,EdgeRenderingMode$1.Automatic)};let r=20;const Ve=60,je=40,ze=20,Xe=20,We=200;let qe=OxyRect$1.Empty;const Ke=async St=>{await RenderingExtensions$1.drawCircle2(e,St,je*.58,OxyColors$1.CornflowerBlue,OxyColors$1.Undefined,0,EdgeRenderingMode$1.Automatic)},Ze=async St=>{const oi=newScreenPoint$1(ze+je+Xe+We,r);await e.drawText(oi,St,OxyColors$1.Black,void 0,12,void 0,void 0,void 0,VerticalAlignment$1.Middle)},Je=async St=>{const oi=newScreenPoint$1(ze+je+Xe,r);await e.drawText(oi,St,OxyColors$1.Black,void 0,12,void 0,void 0,void 0,VerticalAlignment$1.Middle)},Qe=async(St,oi)=>{await e.drawText(newScreenPoint$1(oi,15),St,OxyColors$1.Black,void 0,12,700)},ti=()=>{r+=Ve,qe=new OxyRect$1(ze,r-je/2,je,je)};await Qe("Actual",ze),await Qe("Test Case",ze+je+Xe),await Qe("Expected",ze+je+Xe+We),ti(),e.pushClip(qe),e.popClip(),await Ke(qe.center),await Je(`1. Push clipping rectangle
2. Pop clipping rectangle
3. Draw circle`),await Ze("The circle should be fully drawn."),ti(),e.pushClip(qe),await Ke(qe.center),e.popClip(),await t(qe),await Je(`1. Push clipping rectangle
2. Draw Circle`),await Ze("The circle should be clipped."),ti();let ni=qe.deflate(new OxyThickness$1(qe.height*.25));e.pushClip(qe),e.pushClip(ni),await Ke(qe.center),e.popClip(),e.popClip(),await t(qe),await t(ni),await Je(`1. Push large clipping rectangle
2. Push small clipping rectangle
3. Draw Circle`),await Ze("The circle should be clipped to the small clipping rectangle."),ti(),ni=qe.deflate(new OxyThickness$1(qe.height*.25)),e.pushClip(ni),e.pushClip(qe),await Ke(qe.center),e.popClip(),e.popClip(),await t(qe),await t(ni),await Je(`1. Push small clipping rectangle
2. Push large clipping rectangle
3. Draw Circle`),await Ze("The circle should be clipped to the small clipping rectangle."),ti(),ni=qe.offset(qe.width/2,qe.height/2).deflate(new OxyThickness$1(qe.height*.25)),e.pushClip(qe),e.pushClip(ni),await Ke(qe.center),e.popClip(),e.popClip(),await t(qe),await t(ni),await Je(`1. Push large clipping rectangle
2. Push small clipping rectangle
3. Draw Circle`),await Ze("The circle should be clipped to the intersection of the clipping rectangles."),ti(),ni=qe.offset(qe.width/2,qe.height/2).deflate(new OxyThickness$1(qe.height*.25)),e.pushClip(qe),e.pushClip(ni),e.popClip(),await Ke(qe.center),e.popClip(),await t(qe),await t(ni),await Je(`1. Push large clipping rectangle
2. Push small clipping rectangle
3. Pop small clipping rectangle
4. Draw Circle`),await Ze("The circle should be clipped to the large clipping rectangle."),ti();const ri=qe.offset(qe.width/3,qe.height/3).deflate(new OxyThickness$1(qe.height*.25)),ii=qe.offset(-qe.width/3,-qe.height/3).deflate(new OxyThickness$1(qe.height*.25));e.pushClip(ri),e.pushClip(ii),await Ke(qe.center),e.popClip(),e.popClip(),await t(ri),await t(ii),await Je(`1. Push clipping rectangle
2. Push second clipping rectangle
3. Draw Circle`),await Ze("The circle should not be drawn at all."),ti();const ei=RenderingExtensions$1.autoResetClip(e,qe);await e.drawText(qe.center,"OxyPlot",OxyColors$1.CornflowerBlue,void 0,15,void 0,void 0,HorizontalAlignment$1.Center,VerticalAlignment$1.Middle),ei.dispose(),await t(qe),await Je(`1. Push clipping rectangle
2. Draw Text`),await Ze("The text should be clipped.")})),$e},GRID_SIZE=40,TILE_SIZE=30,THICKNESS_STEPS=10,THICKNESS_STEP=.5,OFFSET_LEFT=200,OFFSET_TOP=20,FILL_COLOR=OxyColors$1.LightBlue,rectangles=()=>{const $e=new PlotModel;return $e.annotations.push(new DelegateAnnotation(async e=>{for(let r=0;r<THICKNESS_STEPS;r++){const Ve=OFFSET_LEFT+r*GRID_SIZE+TILE_SIZE/2,je=r*THICKNESS_STEP;await e.drawText(newScreenPoint$1(Ve,OFFSET_TOP/2),je.toString(),OxyColors$1.Black,void 0,10,void 0,void 0,HorizontalAlignment$1.Center,VerticalAlignment$1.Middle)}const t=getEnumKeys(EdgeRenderingMode$1);for(const r of t){const Ve=OFFSET_TOP+r*GRID_SIZE;await e.drawText(newScreenPoint$1(10,Ve+10),EdgeRenderingMode$1[r],OxyColors$1.Black,void 0,10,void 0,void 0,void 0,VerticalAlignment$1.Middle);for(let je=0;je<THICKNESS_STEPS;je++){const ze=OFFSET_LEFT+je*GRID_SIZE,Xe=new OxyRect$1(ze,Ve,TILE_SIZE,TILE_SIZE),We=je*THICKNESS_STEP;await e.drawRectangle(Xe,FILL_COLOR,OxyColors$1.Black,We,r)}}})),$e},lines=()=>{const $e=new PlotModel;return $e.annotations.push(new DelegateAnnotation(async e=>{for(let r=0;r<THICKNESS_STEPS;r++){const Ve=OFFSET_LEFT+r*GRID_SIZE+TILE_SIZE/2,je=r*THICKNESS_STEP;await e.drawText(newScreenPoint$1(Ve,OFFSET_TOP/2),je.toString(),OxyColors$1.Black,void 0,10,void 0,void 0,HorizontalAlignment$1.Center,VerticalAlignment$1.Middle)}const t=getEnumKeys(EdgeRenderingMode$1);for(const r of t){const Ve=OFFSET_TOP+r*GRID_SIZE;await e.drawText(newScreenPoint$1(10,Ve+10),EdgeRenderingMode$1[r],OxyColors$1.Black,void 0,10,void 0,void 0,void 0,VerticalAlignment$1.Middle);for(let je=0;je<THICKNESS_STEPS;je++){const ze=OFFSET_LEFT+je*GRID_SIZE,Xe=newScreenPoint$1(ze,Ve),We=newScreenPoint$1(ze,Ve+TILE_SIZE),qe=newScreenPoint$1(ze+TILE_SIZE,Ve),Ke=newScreenPoint$1(ze+TILE_SIZE,Ve+TILE_SIZE),Ze=newScreenPoint$1(ze,Ve+TILE_SIZE/2),Je=je*THICKNESS_STEP;await e.drawLine([We,Xe,qe],OxyColors$1.Black,Je,r),await e.drawLine([Ze,Ke,Xe],OxyColors$1.Black,Je,r,void 0,LineJoin$1.Bevel)}}})),$e},polygons=()=>{const $e=new PlotModel;return $e.annotations.push(new DelegateAnnotation(async e=>{for(let r=0;r<THICKNESS_STEPS;r++){const Ve=OFFSET_LEFT+r*GRID_SIZE+TILE_SIZE/2,je=r*THICKNESS_STEP;await e.drawText(newScreenPoint$1(Ve,OFFSET_TOP/2),je.toString(),OxyColors$1.Black,void 0,10,void 0,void 0,HorizontalAlignment$1.Center,VerticalAlignment$1.Middle)}const t=getEnumKeys(EdgeRenderingMode$1);for(const r of t){const Ve=OFFSET_TOP+r*GRID_SIZE;await e.drawText(newScreenPoint$1(10,Ve+10),EdgeRenderingMode$1[r],OxyColors$1.Black,void 0,10,void 0,void 0,void 0,VerticalAlignment$1.Middle);for(let je=0;je<THICKNESS_STEPS;je++){const ze=OFFSET_LEFT+je*GRID_SIZE,Xe=[newScreenPoint$1(ze+TILE_SIZE*.4,Ve),newScreenPoint$1(ze+TILE_SIZE,Ve+TILE_SIZE*.2),newScreenPoint$1(ze+TILE_SIZE*.9,Ve+TILE_SIZE*.8),newScreenPoint$1(ze+TILE_SIZE*.5,Ve+TILE_SIZE),newScreenPoint$1(ze,Ve+TILE_SIZE*.6)],We=je*THICKNESS_STEP;await e.drawPolygon(Xe,FILL_COLOR,OxyColors$1.Black,We,r)}}})),$e},ellipses=()=>{const $e=new PlotModel;return $e.annotations.push(new DelegateAnnotation(async e=>{for(let r=0;r<THICKNESS_STEPS;r++){const Ve=OFFSET_LEFT+r*GRID_SIZE+TILE_SIZE/2,je=r*THICKNESS_STEP;await e.drawText(newScreenPoint$1(Ve,OFFSET_TOP/2),je.toString(),OxyColors$1.Black,void 0,10,void 0,void 0,HorizontalAlignment$1.Center,VerticalAlignment$1.Middle)}const t=getEnumKeys(EdgeRenderingMode$1);for(const r of t){const Ve=OFFSET_TOP+r*GRID_SIZE;await e.drawText(newScreenPoint$1(10,Ve+10),EdgeRenderingMode$1[r],OxyColors$1.Black,void 0,10,void 0,void 0,void 0,VerticalAlignment$1.Middle);for(let je=0;je<THICKNESS_STEPS;je++){const ze=OFFSET_LEFT+je*GRID_SIZE,Xe=new OxyRect$1(ze,Ve+TILE_SIZE*.1,TILE_SIZE,TILE_SIZE*.8),We=je*THICKNESS_STEP;await e.drawEllipse(Xe,FILL_COLOR,OxyColors$1.Black,We,r)}}})),$e},lineJoins=()=>{const t=[135,90,45,22.5],r=140,Ve=90,je=50,ze=50,Xe=new PlotModel;return Xe.annotations.push(new DelegateAnnotation(async We=>{let qe=0,Ke=0;const Ze=getEnumKeys(LineJoin$1);for(const Je of Ze){const Qe=newScreenPoint$1(r*(qe+.5)+je,ze/2);await We.drawText(Qe,LineJoin$1[Je],OxyColors$1.Black,void 0,12,void 0,void 0,HorizontalAlignment$1.Center,VerticalAlignment$1.Middle),qe++}for(const Je of t){qe=0;const Qe=Ve*Ke+ze,ti=Je/2/360*2*Math.PI,ni=Math.sin(ti)*60,ri=Math.cos(ti)*60,ii=newScreenPoint$1(15,Qe);await We.drawText(ii,Je.toString()+"",OxyColors$1.Black,void 0,12);for(const ei of Ze){const St=r*(qe+.5)+je,oi=newScreenPoint$1(St,Qe),si=newScreenPoint$1(St-ni,Qe+ri),ai=newScreenPoint$1(St+ni,Qe+ri);await We.drawLine([si,oi,ai],OxyColors$1.CornflowerBlue,15,EdgeRenderingMode$1.PreferGeometricAccuracy,void 0,ei),qe++}Ke++}})),Xe},ellipseDrawing=()=>{const je=new PlotModel;return je.annotations.push(new DelegateAnnotation(async ze=>{const Xe=new OxyRect$1(60,20,600,200),We=new Array(200),qe=(Xe.left+Xe.right)/2,Ke=(Xe.top+Xe.bottom)/2,Ze=(Xe.right-Xe.left)/2,Je=(Xe.bottom-Xe.top)/2;for(let Qe=0;Qe<200;Qe++){const ti=Math.PI*2*Qe/199;We[Qe]=newScreenPoint$1(qe+Ze*Math.cos(ti),Ke+Je*Math.sin(ti))}await ze.drawPolygon(We,OxyColors$1.Undefined,OxyColors$1.Black,4,EdgeRenderingMode$1.PreferGeometricAccuracy),await ze.drawEllipse(Xe,OxyColors$1.Undefined,OxyColors$1.White,2,EdgeRenderingMode$1.PreferGeometricAccuracy),await ze.drawText(newScreenPoint$1(360,120),"The white ellipse (drawn by Renderer) should match the black ellipse (drawn as Path).",OxyColors$1.Black,void 0,12,void 0,void 0,HorizontalAlignment$1.Center,VerticalAlignment$1.Middle)})),je},category$u="9 Rendering capabilities",RenderingCapabilities={category:category$u,examples:[{title:"DrawText - Colors",example:{model:drawTextColors}},{title:"DrawText - Fonts",example:{model:drawTextFonts}},{title:"DrawText - Font sizes",example:{model:drawTextFontSizes}},{title:"DrawText - Rotation",example:{model:drawTextRotation}},{title:"DrawText - Alignment",example:{model:drawTextAlignment}},{title:"DrawText - Multi-line Alignment",example:{model:drawTextMultiLineAlignment}},{title:"DrawMathText - Rotation",example:{model:mathTextRotation}},{title:"DrawMathText - Alignment",example:{model:drawMathTextAlignment}},{title:"DrawText - Alignment/Rotation",example:{model:drawTextAlignmentRotation}},{title:"DrawText - Multi-line Alignment/Rotation",example:{model:drawMultilineTextAlignmentRotation}},{title:"DrawText - MaxSize",example:{model:drawTextMaxSize}},{title:"MeasureText",example:{model:measureText}},{title:"Clipping",example:{model:clipping}},{title:"Rectangles - EdgeRenderingMode",example:{model:rectangles}},{title:"Lines - EdgeRenderingMode",example:{model:lines}},{title:"Polygons - EdgeRenderingMode",example:{model:polygons}},{title:"Ellipses - EdgeRenderingMode",example:{model:ellipses}},{title:"LineJoin",example:{model:lineJoins}},{title:"Ellipse Drawing",example:{model:ellipseDrawing}}]};function noInterpolation(){const $e=new PlotModel({title:"No tracker interpolation",subtitle:"Used for discrete values or scatter plots."}),e=new Legend({legendSymbolLength:30});$e.legends.push(e);const t=new LineSeries({title:"Series 1",canTrackerInterpolatePoints:!1,color:OxyColors$1.SkyBlue,markerType:MarkerType$1.Circle,markerSize:6,markerStroke:OxyColors$1.White,markerFill:OxyColors$1.SkyBlue,markerStrokeThickness:1.5});for(let r=0;r<63;r++){const Ve=Math.round(Math.sqrt(r)*Math.cos(r*.1)),je=Math.round(Math.sqrt(r)*Math.sin(r*.1));t.points.push(newDataPoint$1(Ve,je))}return $e.series.push(t),$e}function trackerChangedEvent(){const $e=new PlotModel({title:"Handling the TrackerChanged event",subtitle:"Press the left mouse button to test the tracker."});return $e.series.push(FunctionSeries.fromN(Math.sin,0,10,100)),$e.trackerChanged=(e,t)=>{$e.subtitle=t.hitResult?"Tracker item index = "+t.hitResult.index:"Not tracking",$e.invalidatePlot(!1)},$e}function trackerFiresDistance(){const $e=new PlotModel({title:"Specified distance of the tracker fires",subtitle:"Press the left mouse button to test the tracker."});$e.series.push(FunctionSeries.fromN(Math.sin,0,10,100));const e=new PlotController$1;return e.unbindViewCommand(PlotCommands$1.snapTrack),e.unbindViewCommand(PlotCommands$1.snapTrackTouch),ControllerExtensions$1.bindMouseDown(e,OxyMouseButton$1.Left,new DelegatePlotCommand$1((t,r,Ve)=>r.addMouseManipulator(t,new TrackerManipulator$1(t,{snap:!0,pointsOnly:!1,firesDistance:2,checkDistanceBetweenPoints:!0}),Ve))),ControllerExtensions$1.bindTouchDown(e,new DelegatePlotCommand$1((t,r,Ve)=>r.addTouchManipulator(t,new TouchTrackerManipulator$1(t,{snap:!0,pointsOnly:!1,firesDistance:2}),Ve))),{model:()=>$e,controller:()=>e}}const category$t="Tracker",TrackerExamples={category:category$t,examples:[{title:"No interpolation",example:{model:noInterpolation}},{title:"TrackerChangedEvent",example:{model:trackerChangedEvent}},{title:"Specified distance of the tracker fires",example:trackerFiresDistance()}]},Exps=[FilteringExamples,ItemsSourceExamples,LegendExamples,MouseEventExamples,PerformanceExamples,PlotControllerExamples,PlotModelExamples,RenderingCapabilities,TrackerExamples],points$1=[{x:589.3649979,y:16.10595703},{x:437.9979935,y:16.10595703},{x:400.4249954,y:16.10595703},{x:399.1255264,y:16.05047607},{x:397.463356,y:15.92333984},{x:393.5852432,y:15.69073486},{x:389.8589859,y:15.88067627},{x:388.3866653,y:16.28186035},{x:387.3529739,y:16.96594238},{x:386.8373489,y:18.53930664},{x:387.2163773,y:20.51794434},{x:387.9814529,y:22.51843262},{x:388.6240005,y:24.15698242},{x:395.958992,y:45.09094238},{x:399.2686234,y:54.89562988},{x:402.1330338,y:64.90338135},{x:404.5822525,y:75.06884766},{x:406.6462479,y:85.34680176},{x:409.7385635,y:106.0593262},{x:411.6500015,y:126.6789551},{x:412.0961685,y:137.0930786},{x:412.0253677,y:147.4713135},{x:411.4655228,y:157.8103638},{x:410.4446182,y:168.1069336},{x:408.9906387,y:178.3577881},{x:407.1315689,y:188.5595703},{x:404.8953629,y:198.7091064},{x:402.3099747,y:208.8029785},{x:392.9860001,y:237.2509766},{x:392.1175613,y:240.0527954},{x:391.2060013,y:243.0959473},{x:390.5509415,y:246.1691284},{x:390.4520035,y:249.0609741},{x:391.406044,y:252.6694336},{x:393.1980057,y:256.0982056},{x:395.3566971,y:259.3631287},{x:397.4109879,y:262.47995},{x:411.7649918,y:287.7079468},{x:426.5997696,y:312.9102173},{x:441.8913651,y:337.8200684},{x:457.3402786,y:362.6333923},{x:472.6469803,y:387.5459595},{x:478.0007401,y:395.7557983},{x:483.6958694,y:403.8400879},{x:489.2894974,y:411.9628296},{x:494.3389969,y:420.2879639},{x:494.9800491,y:421.8480225},{x:495.4455032,y:423.6903687},{x:496.1577225,y:427.7724609},{x:497.0915604,y:431.6355591},{x:497.8341141,y:433.2041321},{x:498.8629837,y:434.3809509},{x:500.0935135,y:434.9877625},{x:501.7391434,y:435.3059082},{x:505.7623367,y:435.3148193},{x:509.9061356,y:434.8848267},{x:511.7024612,y:434.6542969},{x:513.1439896,y:434.4929504},{x:520.0768509,y:434.1251831},{x:527.3961258,y:434.1952209},{x:534.6892776,y:434.728363},{x:541.544014,y:435.7499695},{x:544.2357864,y:436.3025513},{x:547.021492,y:437.0792236},{x:549.6099319,y:438.2590027},{x:551.7099686,y:440.0209656},{x:552.7028275,y:441.4446106},{x:553.2691116,y:442.791626},{x:553.4498978,y:444.0619202},{x:553.2864456,y:445.2554626},{x:552.0910721,y:447.4119873},{x:550.0122147,y:449.2607117},{x:547.3790359,y:450.8010864},{x:544.5206985,y:452.0325928},{x:541.766304,y:452.9547119},{x:539.445015,y:453.5669556},{x:539.445015,y:454.6409607},{x:542.6554031,y:455.4246521},{x:546.0063553,y:455.8735962},{x:549.2799149,y:456.4869385},{x:552.2580032,y:457.7639465},{x:554.3335648,y:459.5966797},{x:555.6600418,y:461.8208313},{x:556.278389,y:464.282959},{x:556.2294998,y:466.8295898},{x:555.55439,y:469.307251},{x:554.2939529,y:471.5625},{x:552.4892044,y:473.4418945},{x:550.1809769,y:474.7919617},{x:547.1414261,y:475.8059387},{x:543.8482132,y:476.5288391},{x:537.2979813,y:477.0559692},{x:535.5239944,y:476.8666077},{x:533.5114822,y:476.5535889},{x:531.5334549,y:476.4162598},{x:529.8629837,y:476.7539673},{x:529.0471268,y:477.3421631},{x:528.5394363,y:478.1289673},{x:528.1448441,y:480.0927124},{x:528.071846,y:482.2338257},{x:527.7129593,y:484.1409607},{x:526.901741,y:485.4877014},{x:525.8139114,y:486.4950867},{x:523.0528641,y:487.6643372},{x:519.9188919,y:487.9933777},{x:516.9010086,y:487.8269653},{x:511.7325516,y:486.9451599},{x:506.4563065,y:485.4539185},{x:501.155159,y:483.4500427},{x:495.912117,y:481.0302124},{x:485.9321365,y:475.3295898},{x:481.3610916,y:472.2423096},{x:477.1800003,y:469.125946},{x:465.3709793,y:459.3179626},{x:464.3509598,y:458.3116455},{x:463.1867142,y:457.1624451},{x:461.9141312,y:456.2180176},{x:460.5689774,y:455.8259583},{x:459.6923904,y:456.0762939},{x:458.8656693,y:456.7503662},{x:457.3631058,y:458.907959},{x:456.063179,y:461.3753052},{x:455.4898758,y:462.436554},{x:454.9679642,y:463.2289734},{x:453.0795364,y:465.3183289},{x:450.8528519,y:467.2734985},{x:448.3575516,y:468.9848328},{x:445.6630936,y:470.3425903},{x:442.83918,y:471.2370605},{x:439.9552689,y:471.5585938},{x:437.0810318,y:471.1974487},{x:434.2859879,y:470.0439453},{x:432.4744034,y:468.6621399},{x:431.3244705,y:467.0726013},{x:430.7551956,y:465.3302612},{x:430.6856155,y:463.4900818},{x:431.0347672,y:461.6070251},{x:431.7216873,y:459.7360229},{x:433.7849808,y:456.2499695},{x:438.1093216,y:450.118988},{x:441.4749832,y:444.3893433},{x:444.0351639,y:438.28302},{x:445.0610428,y:434.845459},{x:445.9430008,y:431.0219727},{x:446.6270218,y:428.7687378},{x:447.4476395,y:426.4767151},{x:447.9032059,y:424.1760559},{x:447.492012,y:421.8969727},{x:445.6156082,y:418.2295837},{x:443.3608475,y:414.6139832},{x:438.1008682,y:407.5364685},{x:432.48069,y:400.6614685},{x:427.2689896,y:393.9859619},{x:389.1699905,y:339.2359619},{x:374.5550003,y:318.3009644},{x:372.5515823,y:314.8404541},{x:370.2787552,y:310.9485779},{x:367.7467728,y:307.2946777},{x:366.3868484,y:305.7660828},{x:364.9659805,y:304.5479736},{x:363.9477615,y:304.0406799},{x:363.082222,y:304.0159912},{x:361.6236038,y:304.9024658},{x:360.2191849,y:306.1834412},{x:359.4213638,y:306.651886},{x:358.4979935,y:306.8349609},{x:356.6694107,y:306.4464722},{x:354.9371109,y:305.5308228},{x:353.2544937,y:304.4515076},{x:351.5749893,y:303.5719604},{x:343.4895706,y:301.1234131},{x:335.0169449,y:299.8048401},{x:326.3076553,y:299.5128174},{x:317.5122147,y:300.1439514},{x:308.7811966,y:301.5948486},{x:300.2651443,y:303.762085},{x:292.1145401,y:306.5422668},{x:284.4799881,y:309.8319702},{x:282.3371964,y:310.7483521},{x:279.925972,y:311.644928},{x:274.7942581,y:313.5763245},{x:270.0769119,y:316.0212708},{x:268.1836319,y:317.559845},{x:266.7659988,y:319.3749695},{x:271.6227798,y:320.1968384},{x:276.5877457,y:321.7830811},{x:281.472847,y:323.7190247},{x:286.090004,y:325.5899658},{x:298.3649979,y:330.7419739},{x:310.3880997,y:336.8226929},{x:321.8024063,y:343.941803},{x:332.2509842,y:352.2089539},{x:339.2033768,y:358.533844},{x:342.4841385,y:361.901825},{x:345.4439774,y:365.5359497},{x:346.445076,y:367.0002136},{x:347.3386307,y:368.7592163},{x:347.6443558,y:370.5680847},{x:347.4267044,y:371.4147034},{x:346.8819962,y:372.1819458},{x:345.387001,y:372.7861023},{x:343.5981216,y:372.4627075},{x:341.8064041,y:371.7001953},{x:340.3029861,y:370.986969},{x:336.1688919,y:369.4472046},{x:331.5998611,y:368.1002197},{x:326.9541702,y:367.1023254},{x:322.5899734,y:366.6099548},{x:324.6785049,y:369.6851501},{x:327.4601212,y:372.3129578},{x:330.467659,y:374.7735291},{x:333.2339859,y:377.3469543},{x:338.3369217,y:383.6273193},{x:342.70298,y:390.7063293},{x:344.4534683,y:394.4726563},{x:345.8323135,y:398.3514099},{x:346.7769547,y:402.3135376},{x:347.2249832,y:406.3299561},{x:346.8078384,y:412.0097046},{x:345.1297989,y:416.5983276},{x:342.383522,y:420.1838074},{x:338.7616043,y:422.8540955},{x:334.4566727,y:424.6971741},{x:329.6613541,y:425.8010559},{x:324.5682449,y:426.2536621},{x:319.3700027,y:426.1429749},{x:315.144783,y:425.6447144},{x:311.0141983,y:424.7691345},{x:303.0388565,y:422.0056763},{x:295.4478226,y:418.0917969},{x:288.2450027,y:413.2668457},{x:281.4342422,y:407.769989},{x:275.0194168,y:401.8405762},{x:269.0043716,y:395.717804},{x:263.393013,y:389.6409607},{x:255.0782547,y:379.5436707},{x:247.6409988,y:368.3999634},{x:244.4098587,y:362.5210571},{x:241.5882645,y:356.4829712},{x:239.2395096,y:350.3198853},{x:237.4270096,y:344.0659485},{x:236.2694168,y:338.2407532},{x:235.5486526,y:332.3677368},{x:235.0773697,y:320.528717},{x:235.3326797,y:308.6495667},{x:235.6340103,y:296.8309631},{x:233.1889725,y:297.9562988},{x:230.9140091,y:299.4570923},{x:226.5090103,y:302.6929626},{x:206.6489944,y:315.875946},{x:157.2670059,y:346.7819519},{x:136.8219986,y:360.059967},{x:132.2092514,y:363.0340881},{x:130.0033798,y:364.6920166},{x:128.1559982,y:366.6599731},{x:127.0190811,y:368.5368958},{x:126.298027,y:370.4631348},{x:125.9532547,y:372.4280701},{x:125.9451218,y:374.4211121},{x:126.7804031,y:378.4490356},{x:128.4870071,y:382.4620972},{x:130.748024,y:386.3754272},{x:133.2466202,y:390.104248},{x:135.6659012,y:393.5636902},{x:137.689003,y:396.6689453},{x:139.2043839,y:400.197052},{x:139.5524673,y:402.0329285},{x:139.5626297,y:403.8374634},{x:139.1861954,y:405.551239},{x:138.3745499,y:407.1148682},{x:137.0790329,y:408.4689026},{x:135.2509995,y:409.5539551},{x:132.8812943,y:410.31427},{x:130.5507584,y:410.5262146},{x:128.270546,y:410.2424316},{x:126.0518265,y:409.5155334},{x:123.9057388,y:408.3982239},{x:121.8434372,y:406.9431458},{x:118.0148697,y:403.2301941},{x:114.6553879,y:398.7979126},{x:111.8542252,y:394.0675049},{x:109.7006912,y:389.4601135},{x:108.2840042,y:385.3969727},{x:107.7778549,y:382.5092468},{x:107.3788681,y:379.2887268},{x:106.6309433,y:376.2470703},{x:105.0779953,y:373.8959656},{x:103.1701126,y:372.6677246},{x:100.7825394,y:371.7599487},{x:95.13137054,y:370.6252136},{x:89.25051117,y:369.9303284},{x:86.57584381,y:369.5724182},{x:84.26599884,y:369.1139526},{x:78.20024872,y:367.3027649},{x:71.70685577,y:364.820343},{x:65.1133194,y:361.6892395},{x:58.74712372,y:357.9318237},{x:52.93579102,y:353.5706482},{x:48.00682831,y:348.6281433},{x:45.97557068,y:345.9458923},{x:44.28772736,y:343.1267395},{x:42.98422241,y:340.1734924},{x:42.10599518,y:337.0889587},{x:41.90753937,y:335.2592163},{x:42.08698273,y:333.7605286},{x:43.18836975,y:331.3730774},{x:44.62782288,y:329.1598206},{x:45.6230011,y:326.3539734},{x:45.62973022,y:324.9945984},{x:45.33054352,y:323.6192627},{x:44.36862183,y:320.8330994},{x:43.98298645,y:319.4284058},{x:43.84563446,y:318.0201111},{x:44.09512329,y:316.6112671},{x:44.86999512,y:315.2049561},{x:45.80908966,y:314.2088623},{x:46.79941559,y:313.5540161},{x:48.9025116,y:313.1113892},{x:51.11682129,y:313.5637512},{x:53.37987518,y:314.5978394},{x:57.8022995,y:317.1580811},{x:59.83672333,y:318.0577087},{x:61.6700058,y:318.2859497},{x:62.82819366,y:317.6254883},{x:63.23600006,y:316.3283386},{x:63.24330902,y:314.8067627},{x:63.20000458,y:313.4729614},{x:63.68109894,y:310.3050232},{x:64.93375397,y:307.6513367},{x:67.09728241,y:305.979187},{x:68.56415558,y:305.6572571},{x:70.31099701,y:305.7559509},{x:73.2078476,y:306.4935913},{x:76.04866791,y:307.6478271},{x:81.46486664,y:310.9243164},{x:86.36489105,y:315.0218811},{x:90.55399323,y:319.3769531},{x:92.14154816,y:321.4163208},{x:93.72263336,y:323.6399536},{x:95.39614105,y:325.7593689},{x:97.26099396,y:327.4859619},{x:98.87421417,y:328.2453918},{x:100.5960007,y:328.4575806},{x:104.1259995,y:328.1189575},{x:107.9671097,y:328.0540771},{x:112.0256271,y:328.345459},{x:116.0258255,y:328.4305725},{x:119.6919937,y:327.7469482},{x:122.6980515,y:326.2321777},{x:125.5723801,y:324.1764526},{x:128.3242722,y:321.9129944},{x:130.9630051,y:319.7749634},{x:158.6139908,y:297.5969543},{x:183.9269943,y:278.8919678},{x:215.7729874,y:251.3609619},{x:222.6591263,y:245.7957153},{x:229.6908646,y:240.2703247},{x:236.5836563,y:234.5932617},{x:243.0529861,y:228.572937},{x:246.137764,y:224.8230591},{x:248.7661209,y:220.4605103},{x:251.0138321,y:215.6484985},{x:252.9567337,y:210.5499878},{x:256.2312393,y:200.1459351},{x:257.7144547,y:195.1665039},{x:259.1959915,y:190.5529785},{x:263.9845047,y:175.0708008},{x:267.8167191,y:159.2056274},{x:270.6394424,y:143.0612183},{x:272.3993607,y:126.7412109},{x:273.043251,y:110.3493042},{x:272.5178299,y:93.98913574},{x:270.7698441,y:77.76446533},{x:267.7460098,y:61.77893066},{x:260.9010086,y:28.45196533},{x:260.3377457,y:25.5088501},{x:259.7099991,y:22.24182129},{x:258.5879898,y:19.265625},{x:257.7073746,y:18.07867432},{x:256.5419998,y:17.19494629},{x:254.5226212,y:16.44396973},{x:252.1078568,y:16.0401001},{x:246.5816116,y:15.96911621},{x:240.9423294,y:16.37298584},{x:238.3862076,y:16.56274414},{x:236.1689835,y:16.64294434},{x:185.1770096,y:17.17895508},{x:0,y:16.64294434},{x:0,y:.53894043},{x:188.9400101,y:.53894043},{x:242.0799942,y:.53894043},{x:244.6571732,y:.474975586},{x:247.5546951,y:.33001709},{x:253.8458633,y:.078552246},{x:260.0235977,y:.347839355},{x:262.779335,y:.853759766},{x:265.1579971,y:1.70098877},{x:266.7366104,y:2.746398926},{x:268.0821915,y:4.172119141},{x:270.1900101,y:7.797119141},{x:271.7128067,y:11.84075928},{x:272.8819962,y:15.56799316},{x:276.034523,y:25.44775391},{x:279.0441055,y:35.50836182},{x:281.6616287,y:45.66326904},{x:283.6380081,y:55.82598877},{x:285.7761917,y:72.32995605},{x:287.0616837,y:88.9072876},{x:287.4597855,y:105.5118408},{x:286.9358597,y:122.0977173},{x:285.4552994,y:138.6187744},{x:282.9833755,y:155.0289917},{x:279.4855118,y:171.2824097},{x:274.9270096,y:187.3329468},{x:271.4097672,y:198.2474976},{x:267.3623734,y:209.4165039},{x:262.4050369,y:220.1444092},{x:259.4664688,y:225.1257324},{x:256.1579971,y:229.7359619},{x:249.3205032,y:237.2365723},{x:241.720253,y:244.1188354},{x:233.794136,y:250.6709595},{x:225.9790115,y:257.1809692},{x:195.5280228,y:282.9415894},{x:164.2490005,y:307.6559448},{x:141.1689987,y:324.8109741},{x:133.2555008,y:330.7440796},{x:129.0609055,y:333.3323975},{x:124.5289993,y:335.2859497},{x:122.1544113,y:335.8482361},{x:119.7157364,y:336.0837402},{x:114.7126236,y:335.969696},{x:109.6527023,y:335.7345581},{x:104.6689987,y:336.1689453},{x:102.779686,y:336.7739563},{x:100.6949997,y:337.5380859},{x:98.61257172,y:337.9761353},{x:96.73000336,y:337.6029663},{x:94.59128571,y:335.8127136},{x:92.66425323,y:333.2740784},{x:90.92359161,y:330.5338745},{x:89.34400177,y:328.1389465},{x:87.08150482,y:325.4346313},{x:84.48600006,y:322.8813171},{x:78.90499115,y:318.3849487},{x:77.3181076,y:317.091217},{x:75.22336578,y:315.5139465},{x:73.02420807,y:314.5059509},{x:72.01151276,y:314.4819031},{x:71.12400055,y:314.9199524},{x:70.59803009,y:315.7275085},{x:70.51831818,y:316.7388916},{x:71.29537201,y:319.0906982},{x:72.65048981,y:321.4106445},{x:73.77899933,y:323.1339722},{x:77.82125092,y:329.0054626},{x:80.16477203,y:331.7309265},{x:82.71099091,y:334.177948},{x:84.92420197,y:335.9799805},{x:87.10187531,y:337.9599609},{x:88.68236542,y:340.2526855},{x:89.07314301,y:341.5584412},{x:89.10399628,y:342.9929504},{x:89.61742401,y:343.8485413},{x:89.34513092,y:344.4684448},{x:88.5472641,y:344.7538757},{x:87.48400116,y:344.605957},{x:85.91378021,y:343.8370972},{x:84.39550018,y:342.7818298},{x:81.58899689,y:340.4889526},{x:78.80124664,y:338.1679382},{x:75.64672089,y:335.4441223},{x:68.57024384,y:329.6803589},{x:64.81476593,y:327.0864868},{x:61.02541351,y:324.9821167},{x:57.28540802,y:323.5902405},{x:53.6780014,y:323.1339722},{x:55.6113739,y:326.1587524},{x:58.03131866,y:328.9006653},{x:63.8632431,y:333.7370911},{x:70.23856354,y:338.0457153},{x:76.22199249,y:342.2289734},{x:77.03455353,y:342.7995605},{x:78.11525726,y:343.5061951},{x:80.57563019,y:345.232605},{x:82.59217072,y:347.217926},{x:83.11811066,y:348.24823},{x:83.15399933,y:349.2719727},{x:82.68766022,y:350.0397949},{x:81.87210846,y:350.3486328},{x:79.6248703,y:349.9825745},{x:77.27544403,y:348.9604797},{x:76.33216095,y:348.4492188},{x:75.68700409,y:348.0689697},{x:66.5876236,y:342.1790771},{x:61.90306854,y:339.4937744},{x:56.897995,y:337.35495},{x:55.17505646,y:336.726532},{x:53.01000214,y:336.1444702},{x:51.04743958,y:336.2538757},{x:50.34353638,y:336.7695007},{x:49.93199921,y:337.6999512},{x:50.0814743,y:339.3566589},{x:51.06142426,y:341.0038757},{x:52.65550232,y:342.6039124},{x:54.64737701,y:344.1190796},{x:58.95914459,y:346.743988},{x:60.84635162,y:347.7783203},{x:62.26599884,y:348.5769653},{x:70.1079483,y:352.9052734},{x:78.1873703,y:356.6586914},{x:86.4916153,y:359.8837585},{x:95.00800323,y:362.6269531},{x:96.84983063,y:363.0866394},{x:98.97579193,y:363.5275574},{x:103.6091232,y:364.5426941},{x:107.965889,y:366.0517273},{x:109.7461472,y:367.1099854},{x:111.1039963,y:368.43396},{x:112.0068741,y:370.5414429},{x:112.4139938,y:373.21521},{x:112.6441269,y:375.9950867},{x:113.0159988,y:378.4209595},{x:113.902565,y:381.2496643},{x:115.2284775,y:384.6081543},{x:116.9393082,y:388.2300415},{x:118.980629,y:391.8488464},{x:121.2979813,y:395.1981506},{x:123.8369522,y:398.0115662},{x:126.5430984,y:400.022644},{x:129.3619919,y:400.9649658},{x:128.5566483,y:397.5397949},{x:126.8852463,y:394.5133362},{x:124.8594742,y:391.6261902},{x:122.9910049,y:388.6189575},{x:120.504631,y:382.5281982},{x:119.1972427,y:376.1178589},{x:119.0547104,y:372.875061},{x:119.2897568,y:369.6510315},{x:119.9299698,y:366.4787292},{x:121.0029984,y:363.3909607},{x:122.9761124,y:359.8041687},{x:125.5510788,y:356.6000061},{x:128.5915298,y:353.7098083},{x:131.9611282,y:351.0648499},{x:139.1423569,y:346.2359619},{x:146.0040054,y:341.5639648},{x:153.3126602,y:336.4172363},{x:160.8510056,y:331.6148376},{x:176.060997,y:322.2139587},{x:223.2120132,y:292.0619507},{x:241.0090103,y:281.0089722},{x:244.4554214,y:278.2832642},{x:248.0213699,y:275.5827026},{x:251.8383865,y:273.5125122},{x:253.8821487,y:272.9029541},{x:256.038002,y:272.677948},{x:255.5765762,y:275.73526},{x:254.4421158,y:278.3285828},{x:252.9171219,y:280.7803345},{x:251.2840042,y:283.4129639},{x:249.1513138,y:287.4288635},{x:247.2273636,y:291.7029724},{x:245.725502,y:296.1263123},{x:244.8589859,y:300.5899658},{x:244.4298477,y:307.2876587},{x:244.5635757,y:313.9535828},{x:245.2291336,y:320.570282},{x:246.3955154,y:327.1204224},{x:248.0315933,y:333.5866089},{x:250.1063919,y:339.951416},{x:252.5888138,y:346.1975098},{x:255.4478531,y:352.3074646},{x:262.1715469,y:364.0494385},{x:270.0290298,y:375.0382385},{x:278.7719803,y:385.1347656},{x:288.1519852,y:394.1999512},{x:294.92173,y:399.6752014},{x:302.1428604,y:404.5257263},{x:309.7718277,y:408.7135925},{x:317.7649918,y:412.2009583},{x:322.0982132,y:413.5901184},{x:326.4935989,y:414.2129517},{x:328.6687698,y:414.1019592},{x:330.8044205,y:413.6372986},{x:332.8823013,y:412.7649841},{x:334.8839798,y:411.4309692},{x:336.700325,y:409.4726868},{x:337.756813,y:407.2593689},{x:338.1652908,y:404.8675537},{x:338.0374832,y:402.3738403},{x:337.4851761,y:399.8547668},{x:336.6201553,y:397.3868713},{x:334.3989944,y:392.9109497},{x:331.2719803,y:388.0760193},{x:327.7468643,y:383.5949097},{x:319.7087479,y:375.5498352},{x:310.6974869,y:368.4870605},{x:301.1259842,y:362.1179504},{x:289.341011,y:355.3789673},{x:288.3749161,y:354.5166321},{x:287.4871292,y:353.3829651},{x:287.1665115,y:352.1690369},{x:287.3716812,y:351.5917053},{x:287.9019852,y:351.0659485},{x:290.0786819,y:350.5000305},{x:292.8593826,y:350.8098145},{x:295.6623917,y:351.5259399},{x:297.9060135,y:352.1789551},{x:300.6676102,y:353.0059814},{x:303.7700882,y:354.0613708},{x:310.5398636,y:356.3453369},{x:313.9782486,y:357.3178101},{x:317.2997208,y:358.0065918},{x:320.3897781,y:358.2836609},{x:323.1339798,y:358.0209656},{x:311.4509048,y:349.4853516},{x:299.2507401,y:341.6953125},{x:286.5124283,y:334.8171387},{x:273.215004,y:329.0169678},{x:258.7229996,y:323.8179626},{x:257.2878494,y:323.337738},{x:255.7744827,y:322.6670837},{x:254.4943924,y:321.7168884},{x:253.7590103,y:320.3979492},{x:253.827034,y:319.0723267},{x:254.5322647,y:317.7234802},{x:255.711647,y:316.3885193},{x:257.2022476,y:315.1045837},{x:260.465126,y:312.8383789},{x:261.9114456,y:311.9303589},{x:263.0170059,y:311.2219543},{x:271.8112259,y:305.8678284},{x:281.198616,y:301.1617126},{x:290.8884659,y:297.0829773},{x:300.590004,y:293.6109619},{x:310.0823746,y:291.1308289},{x:319.4608536,y:289.9150696},{x:328.9314041,y:289.7652893},{x:338.6999893,y:290.4829712},{x:354.2659988,y:293.3499451},{x:355.8602982,y:293.1119995},{x:357.197731,y:292.2803345},{x:358.3595047,y:291.0731506},{x:359.4267349,y:289.7085876},{x:360.4805679,y:288.4048157},{x:361.6021194,y:287.3800049},{x:362.8725357,y:286.8523254},{x:364.3729935,y:287.0399475},{x:365.9158707,y:287.8427734},{x:367.3995438,y:289.0066833},{x:370.1699905,y:292.0510864},{x:372.6456985,y:295.4399109},{x:374.788002,y:298.4399719},{x:394.8579788,y:325.8149719},{x:397.3873978,y:329.0663757},{x:399.9987259,y:332.6233521},{x:402.1026993,y:336.3991089},{x:402.7802811,y:338.3419189},{x:403.109993,y:340.3069458},{x:403.7992325,y:340.2913818},{x:404.1172256,y:340.3743286},{x:404.2001114,y:340.691864},{x:404.1839981,y:341.3799744},{x:405.9170609,y:342.5977478},{x:407.5672379,y:344.3135681},{x:410.6323624,y:348.6974487},{x:413.4063187,y:353.4481201},{x:414.6925125,y:355.6223755},{x:415.9159927,y:357.4819641},{x:446.1409988,y:402.5239563},{x:447.8941116,y:404.6854248},{x:449.9755325,y:406.9086609},{x:454.483345,y:411.5653381},{x:456.5896683,y:414.0111694},{x:458.3842239,y:416.5435791},{x:459.7070389,y:419.1687927},{x:460.3980179,y:421.8929749},{x:460.330513,y:423.2209473},{x:459.8673782,y:424.4043274},{x:458.1563797,y:426.4813232},{x:456.0694046,y:428.4118958},{x:454.4110184,y:430.4839478},{x:453.6341629,y:432.6287231},{x:453.2503738,y:434.9552002},{x:452.6709671,y:439.6079712},{x:451.6133499,y:443.3995361},{x:450.0984573,y:447.2178345},{x:448.1988602,y:450.8544312},{x:445.9870071,y:454.1009521},{x:445.2327957,y:454.9499512},{x:444.120369,y:456.1347046},{x:441.6337357,y:459.0782166},{x:440.6658401,y:460.6203003},{x:440.1524734,y:462.0648193},{x:440.2967911,y:463.3034973},{x:441.3020096,y:464.2279663},{x:443.0089798,y:464.4325867},{x:444.7705154,y:463.7559509},{x:446.3872757,y:462.6180725},{x:447.6599808,y:461.4389648},{x:449.96418,y:458.7336426},{x:451.896492,y:455.7789612},{x:454.7979813,y:449.3179626},{x:455.2873001,y:447.6248474},{x:455.8775101,y:445.8508301},{x:456.8382034,y:444.3796387},{x:458.4389725,y:443.5949707},{x:460.0345535,y:443.7620239},{x:461.7698441,y:444.6128235},{x:463.5780106,y:445.9676208},{x:465.3921585,y:447.6465759},{x:468.7708817,y:451.2580566},{x:470.2016678,y:452.8309631},{x:471.3709793,y:454.0089722},{x:478.8518143,y:460.0104675},{x:486.9943924,y:465.3340759},{x:495.4878006,y:470.1171265},{x:504.0210037,y:474.4969482},{x:509.5540848,y:477.1457214},{x:515.2860184,y:479.3189697},{x:516.4008255,y:479.6032104},{x:517.6022415,y:479.6870728},{x:518.5872879,y:479.3061523},{x:519.0529861,y:478.1959534},{x:518.8626175,y:476.8864441},{x:518.1857986,y:475.7019958},{x:515.84095,y:473.7122192},{x:512.9545975,y:472.234314},{x:510.4629593,y:471.2759705},{x:507.6074905,y:470.256958},{x:504.0599442,y:468.8930969},{x:496.255867,y:465.2143555},{x:492.682869,y:462.9411621},{x:489.7850418,y:460.4066467},{x:487.9041214,y:457.6316223},{x:487.4518509,y:456.1604309},{x:487.3819656,y:454.6369629},{x:491.1286697,y:455.6597595},{x:494.7612381,y:457.2131958},{x:498.3274002,y:458.9732666},{x:501.8750076,y:460.6159668},{x:508.6896439,y:463.2619934},{x:515.7986526,y:465.5415649},{x:523.0577469,y:467.2131042},{x:530.3230057,y:468.0349731},{x:536.5177689,y:468.0764465},{x:542.669014,y:467.3979492},{x:543.9200516,y:466.9833069},{x:545.0242386,y:466.2348328},{x:545.5588455,y:465.2004089},{x:545.1009598,y:463.927948},{x:544.175972,y:463.0953064},{x:542.9511795,y:462.4622803},{x:539.9430008,y:461.6712036},{x:536.7585526,y:461.3072815},{x:534.0799637,y:461.1229553},{x:520.8706131,y:459.9545898},{x:514.2815628,y:459.0859985},{x:507.7789993,y:457.8509521},{x:506.4525833,y:457.5542603},{x:504.8121414,y:457.1582336},{x:501.1944656,y:455.9819641},{x:499.5198441,y:455.1585083},{x:498.1362991,y:454.1494141},{x:497.1952591,y:452.9331055},{x:496.8479691,y:451.4879456},{x:497.117012,y:450.6549377},{x:497.8393021,y:450.1732788},{x:500.1341019,y:449.9840698},{x:502.7133255,y:450.3605652},{x:503.7911453,y:450.5859985},{x:504.557991,y:450.7429504},{x:511.3823318,y:451.3563843},{x:518.3227615,y:451.0169373},{x:525.2244949,y:449.9740295},{x:531.932991,y:448.4769592},{x:532.8128738,y:448.2760315},{x:534.1250076,y:447.9761353},{x:537.3393631,y:447.0833435},{x:538.8882523,y:446.4923706},{x:540.1627884,y:445.8063354},{x:540.9862747,y:445.0262146},{x:541.1820145,y:444.1529541},{x:540.6489334,y:443.4705505},{x:539.4853592,y:443.0022888},{x:537.8792191,y:442.7068176},{x:536.0183792,y:442.5428467},{x:532.2842484,y:442.4439392},{x:530.7866898,y:442.4263916},{x:529.7860184,y:442.3749695},{x:522.7177811,y:441.8120117},{x:515.5401077,y:441.6993408},{x:501.2470169,y:442.2559509},{x:498.6232986,y:442.5908508},{x:495.6024857,y:442.9595947},{x:492.7076492,y:442.7930298},{x:491.4709549,y:442.3311157},{x:490.4619827,y:441.5219727},{x:489.3800125,y:439.9010925},{x:488.6179276,y:438.0290833},{x:487.6418533,y:433.8266907},{x:486.7113724,y:429.5046997},{x:486.0061722,y:427.4831848},{x:485.0039749,y:425.6529541},{x:464.5570145,y:397.51297},{x:441.859993,y:359.0939636},{x:419.5407486,y:322.4837036},{x:397.7539749,y:285.5569458},{x:392.6534195,y:277.3995361},{x:387.2727432,y:269.1647034},{x:382.4174271,y:260.6722412},{x:380.4385147,y:256.2730713},{x:378.8929825,y:251.7419434},{x:378.4342422,y:247.8017578},{x:378.8919754,y:243.618103},{x:379.8762283,y:239.4705811},{x:380.9969864,y:235.6389771},{x:388.6119766,y:208.7999878},{x:391.0815811,y:198.9997559},{x:393.3593521,y:188.8963623},{x:395.3594131,y:178.5748901},{x:396.9958572,y:168.1204834},{x:398.1828384,y:157.6182251},{x:398.8344498,y:147.1533203},{x:398.8647842,y:136.8108521},{x:398.1879959,y:126.6759644},{x:395.2633438,y:103.3844604},{x:393.3301468,y:91.60638428},{x:390.9952469,y:79.85656738},{x:388.1928177,y:68.22253418},{x:384.8570328,y:56.79168701},{x:380.9220352,y:45.65136719},{x:376.3219986,y:34.88897705},{x:371.1558609,y:23.22259521},{x:366.6760025,y:11.27197266},{x:365.8827591,y:9.214355469},{x:365.0445023,y:6.805603027},{x:364.7049942,y:4.406799316},{x:364.892189,y:3.323974609},{x:365.4079971,y:2.378967285},{x:366.5955276,y:1.439331055},{x:368.2348099,y:.826660156},{x:372.3311234,y:.333557129},{x:376.6218643,y:.40246582},{x:378.5041885,y:.4921875},{x:380.0319901,y:.535949707},{x:420.2889786,y:0},{x:527.1040115,y:0},{x:558.0751419,y:.09362793},{x:573.5140457,y:.204589844},{x:588.6629715,y:.352966309},{x:588.6629715,y:.352966309}],lineaPoints=points$1.map($e=>newDataPoint$1($e.x,$e.y));function numericOdeSolvers1(){return numericOdeSolvers("Numeric ODE solvers","y'=y, y(0)=1",0,1,Math.exp,($e,e)=>e)}function numericOdeSolvers2(){return numericOdeSolvers("Numeric ODE solvers","y'=x, y(0)=0",0,0,$e=>.5*$e*$e,($e,e)=>$e)}function numericOdeSolvers3(){return numericOdeSolvers("Numeric ODE solvers","y'=cos(x), y(0)=0",0,0,Math.sin,($e,e)=>Math.cos($e))}function trainSchedule(){const $e=new PlotModel({title:"Train schedule",subtitle:"Bergensbanen (Oslo-Bergen, Norway)",isLegendVisible:!1,plotAreaBorderColor:OxyColors$1.LightGray}),e=new LinearAxis$1({position:AxisPosition$1.Left,minimum:-20,maximum:540,title:"Distance from Oslo S",isAxisVisible:!0});$e.axes.push(e);const t=new CustomAxis({majorGridlineStyle:LineStyle$1.Solid,majorGridlineColor:OxyColors$1.LightGray,minimum:e.minimum,maximum:e.maximum,position:AxisPosition$1.Right,isPanEnabled:!1,isZoomEnabled:!1,majorTickSize:0});e.axisChanged=(Ke,Ze)=>{t.minimum=e.actualMinimum,t.maximum=e.actualMaximum},$e.axes.push(t),$e.axes.push(new TimeSpanAxis({position:AxisPosition$1.Bottom,minimum:0,maximum:TimeSpanAxis.toDouble(TimeSpan$1.fromHours(24)),stringFormatter:Ke=>Math.abs(Ke.hours).toString().padStart(2,"0"),title:"Time",majorStep:TimeSpanAxis.toDouble(TimeSpan$1.fromHours(1)),minorStep:TimeSpanAxis.toDouble(TimeSpan$1.fromMinutes(10)),tickStyle:TickStyle$1.None,majorGridlineStyle:LineStyle$1.Solid,majorGridlineColor:OxyColors$1.LightGray,minorGridlineStyle:LineStyle$1.Solid,minorGridlineColor:OxyColor$1.fromArgb(255,240,240,240)}));const r=`Stasjon;km;moh;609;61;601;1405;607;603;63;605;62;602;608;604;64;610;1404;606
Oslo;0.00;4.0;0631;0811;1037;;1227;1437;1609;2311;1432;1736;1956;2210;2236;2348;;0626
Lysaker;7.00;7.5;0642;0822;1048;;1238;1448;1620;2322;1420;1724;1944;2158;2224;;;
Asker;23.83;104.6;0653;0832;1059;;1249;1458;1630;2334;1409;1713;1932;2144;2214;2324;;0555
Drammen;52.86;2.2;0708;0846;1115;;1303;1513;1645;2351;1354;1701;1914;2125;2201;2307;;0540
Hokksund;70.22;8.0;;;1136;;1320;1531;;0007;;1638;1854;2111;2140;;;0525
Vikersund;95.91;67.1;;;1158;;1349;1552;;0029;;1617;1833;2048;;;;0503
Hnefoss;124.21;96.8;0804;0937;1222;;1414;1619;1736;0056;1304;1555;1811;2025;2100;2201;;0442
Fl;186.64;155.0;;;1314;;;1712;;;;1503;1715;1934;;2108;;0349
Nesbyen;220.06;168.8;;1045;1340;;1532;1744;1845;0223;1152;1436;1643;1909;1949;2041;;0321
Gol;237.02;207.4;0930;1100;1354;;1545;1800;1900;0239;1141;1423;1630;1858;1938;2028;;0308
l;262.85;436.6;0950;1123;1419;1520;1608;1832;1921;0305;1121;1400;1609;1833;1919;2007;1957;0246
Geilo;287.38;794.2;1013;1145;1442;1545;1630;1855;1942;0328;1059;1339;1547;1812;1857;1946;1939;0224
Ustaoset;299.31;990.6;;1156;1454;1556;1643;1905;1953;0341;1048;1326;1536;1800;1845;;1927;0209
Haugastl;310.14;988.0;1042;;1505;1606;1655;1916;;0352;;1315;1527;1750;;1922;;0158
Finse;336.74;1222.2;1108;1224;1526;1626;1717;1937;2021;0417;1019;1254;1508;1730;1818;1900;1854;0138
Hallingskeid;357.44;1110.1;1123;;1538;1637;1732;1950;;;;1239;1454;1711;;1842;1839;
Myrdal;370.44;866.8;1137;1253;1551;1650;1746;2003;2045;0445;0953;1225;1440;1657;1752;1828;1825;0105
;370.44;866.8;1220;1258;1556;1652;1751;2004;2047;0445;0950;1220;1439;1652;1750;1823;1822;0101
// Upsete;376.79;850.2;;;;;;;;;;;;;;;;
// Mjlfjell;388.86;627.2;;;;;;;;;;;;;;;;
Voss;419.96;56.5;1312;1343;1640;1738;1836;2048;2130;0537;0910;1139;1355;1608;1710;1736;1740;0015
Dale;459;43.4;;;;;1903;;2156;0608;0836;1109;;;;;;2344
Vaksdal;475.17;16.0;;;;;;;;0626;;;;;;;;2326
Arna;501.43;8.0;1410;1441;1740;1840;1935;2155;2228;0644;0806;1037;1248;1506;1606;1618;1637;2307
Bergen;526.64;3.9;1422;1442;1752;1850;1945;2204;2235;0656;0758;1028;1240;1458;1558;1610;1628;2258
`.split(`
`),Ve=r[0];r.splice(0,1);const je=Ve.split(";"),ze=je.length-3,Xe=new LineSeries({strokeThickness:0,markerType:MarkerType$1.Circle,markerFill:OxyColor$1.fromAColor(200,OxyColors$1.Black),markerSize:4}),We=new Array(ze);for(let Ke=0;Ke<We.length;Ke++)We[Ke]=new LineSeries({title:je[3+Ke],color:OxyColor$1.fromAColor(180,OxyColors$1.Black),strokeThickness:2,trackerStringFormatter:Ze=>`Train ${Ze.title}
Time: ${formatTimeSpan(Ze.xValue,"hh:mm:ss")}
Distance from Oslo S: ${Ze.yValue.toFixed(1)} km`}),$e.series.push(We[Ke]);for(const Ke of r){if(!Ke||Ke.startsWith("//"))continue;const Ze=Ke.split(";"),Je=Ze[0],Qe=parseFloat(Ze[1]);Je&&(t.majorTicks.push(Qe),t.labels.push(Je));for(let ti=0;ti<We.length;ti++){const ni=Ze[ti+3];if(!ni)continue;const ri=parseInt(ni),ii=TimeSpan$1.from(0,Math.floor(ri/100),ri%100,0),ei=TimeSpanAxis.toDouble(ii);We[ti].points.push(newDataPoint$1(ei,Qe)),Xe.points.push(newDataPoint$1(ei,Qe))}}const qe=TimeSpanAxis.toDouble(TimeSpan$1.fromHours(24));for(const Ke of $e.series)if(Ke instanceof DataPointSeries$1){for(let Ze=0;Ze+1<Ke.points.length;Ze++)if(Math.abs(Ke.points[Ze].x-Ke.points[Ze+1].x)>qe/2){let Je=Ke.points[Ze].x;Je>qe/2&&(Je-=qe);let Qe=Ke.points[Ze+1].x;Qe>qe/2&&(Qe-=qe);const ti=Ke.points[Ze].y+(Ke.points[Ze+1].y-Ke.points[Ze].y)/(Qe-Je)*(0-Je);Ke.points.splice(Ze+1,0,newDataPoint$1(Je<Qe?0:qe,ti)),Ke.points.splice(Ze+1,0,newDataPoint$1(Number.NaN,ti)),Ke.points.splice(Ze+1,0,newDataPoint$1(Je<Qe?qe:0,ti)),Ze+=3}}return console.log(t),$e.series.push(Xe),$e}function laLineaAreaSeries(){const $e=new PlotModel({title:"La Linea",plotType:PlotType.Cartesian,background:OxyColor$1.fromRgb(84,98,207)});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:-500,maximum:1e3}));const e=new AreaSeries({fill:OxyColors$1.White,strokeThickness:0});return e.points.push(...lineaPoints),$e.series.push(e),$e}function laLinea(){const $e=new PlotModel({title:"La Linea",plotType:PlotType.Cartesian,background:OxyColor$1.fromRgb(84,98,207)});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:-500,maximum:1e3}));const e=new LineSeries({color:OxyColors$1.White,strokeThickness:1.5});return e.points.push(...lineaPoints),$e.series.push(e),$e}function conwayLife(){const $e=new PlotModel({title:"Conway's Game of Life",subtitle:"Click the mouse to step to the next generation."});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,startPosition:1,endPosition:0})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom}));const e=40,t=40;let r=create2DArray$1(t,e,0);const Ve=new MatrixSeries({matrix:r}),je=(Ke,Ze)=>{r[Ke][Ze]=r[Ke][Ze+1]=r[Ke][Ze+2]=1},ze=(Ke,Ze)=>{r[Ke][Ze]=r[Ke+1][Ze+1]=r[Ke+1][Ze+2]=r[Ke+2][Ze]=r[Ke+2][Ze+1]=1},Xe=(Ke,Ze)=>{r[Ke][Ze+1]=r[Ke][Ze+2]=r[Ke+1][Ze]=r[Ke+1][Ze+1]=r[Ke+2][Ze+1]=1};je(2,10),ze(2,2),Xe(20,20),$e.series.push(Ve);let We=0;const qe=()=>{const Ke=create2DArray$1(t,e,0);for(let Ze=1;Ze<e-1;Ze++)for(let Je=1;Je<t-1;Je++){const Qe=r[Ze-1][Je-1]+r[Ze-1][Je]+r[Ze-1][Je+1]+r[Ze][Je-1]+r[Ze][Je+1]+r[Ze+1][Je-1]+r[Ze+1][Je]+r[Ze+1][Je+1];if(r[Ze][Je]===0&&Qe===3){Ke[Ze][Je]=1;continue}r[Ze][Je]===1&&(Qe===2||Qe===3)&&(Ke[Ze][Je]=1)}We++,Ve.title="Generation "+We,Ve.matrix=r=Ke,$e.invalidatePlot(!0)};return $e.mouseDown=(Ke,Ze)=>{Ze.changedButton===OxyMouseButton$1.Left&&(qe(),Ze.handled=!0)},$e}function elephantCurve(){const $e=Math.sin,e=Ve=>-27/5*$e(3/2-30*Ve)-16/3*$e(9/8-29*Ve)-29/5*$e(5/4-27*Ve)-8/3*$e(1/4-26*Ve)-25/7*$e(1/3-25*Ve)-31/4*$e(4/7-22*Ve)-25/4*$e(4/3-20*Ve)-33/2*$e(2/3-19*Ve)-67/4*$e(6/5-16*Ve)-100/11*$e(1/4-10*Ve)-425/7*$e(1-4*Ve)+149/4*$e(8*Ve)+1172/3*$e(Ve+21/5)+661/11*$e(2*Ve+3)+471/8*$e(3*Ve+10/7)+211/7*$e(5*Ve+13/4)+39/4*$e(6*Ve+10/7)+139/10*$e(7*Ve+7/6)+77/3*$e(9*Ve+18/7)+135/8*$e(11*Ve+1/2)+23/4*$e(12*Ve+8/5)+95/4*$e(13*Ve+4)+31/4*$e(14*Ve+3/5)+67/11*$e(15*Ve+7/3)+127/21*$e(17*Ve+17/4)+95/8*$e(18*Ve+7/8)+32/11*$e(21*Ve+8/3)+81/10*$e(23*Ve+45/11)+13/3*$e(24*Ve+13/4)+7/4*$e(28*Ve+3/2)+11/5*$e(31*Ve+5/2)+1/3*$e(32*Ve+12/5)+13/4*$e(33*Ve+22/5)+14/3*$e(34*Ve+9/4)+9/5*$e(35*Ve+8/5)+17/9*$e(36*Ve+22/5)+1/3*$e(37*Ve+15/7)+3/2*$e(38*Ve+39/10)+4/3*$e(39*Ve+7/2)+5/3*$e(40*Ve+17/6),t=Ve=>-13/7*$e(1/2-40*Ve)-31/8*$e(1/11-34*Ve)-12/5*$e(1/4-31*Ve)-9/4*$e(4/3-29*Ve)-5/3*$e(4/3-28*Ve)-11/2*$e(6/5-26*Ve)-17/7*$e(3/2-25*Ve)-5/2*$e(1-24*Ve)-39/7*$e(1-19*Ve)-59/5*$e(2/3-18*Ve)-179/9*$e(13/12-12*Ve)-103/2*$e(1/10-9*Ve)-356/5*$e(1-5*Ve)-429/2*$e(20/19-Ve)+288/5*$e(2*Ve+10/3)+53/6*$e(3*Ve+5/2)+351/7*$e(4*Ve+5/2)+201/4*$e(6*Ve+17/7)+167/3*$e(7*Ve+19/5)+323/5*$e(8*Ve+1/4)+153/7*$e(10*Ve+2/3)+71/5*$e(11*Ve+6/5)+47/12*$e(13*Ve+11/5)+391/26*$e(14*Ve+2)+164/11*$e(15*Ve+1/7)+11/2*$e(16*Ve+2/3)+31/3*$e(17*Ve+1/7)+54/11*$e(20*Ve+1/4)+43/5*$e(21*Ve+13/3)+13/5*$e(22*Ve+3/2)+17/5*$e(23*Ve+11/5)+19/10*$e(27*Ve+4)+15/2*$e(30*Ve+55/18)+4/3*$e(32*Ve+3/5)+5/3*$e(33*Ve+4)+27/7*$e(35*Ve+13/6)+1/4*$e(36*Ve+43/11)+16/5*$e(37*Ve+9/2)+20/19*$e(38*Ve+23/6)+8/3*$e(39*Ve+4/7),r=new PlotModel({title:"Elephant curve",plotType:PlotType.Cartesian});return r.series.push(FunctionSeries.fromFxFyN(e,t,0,Math.PI*2,1e3)),r}function piCurve(){const $e=Math.sin,e=Ve=>17/31*$e(235/57-32*Ve)+19/17*$e(192/55-30*Ve)+47/32*$e(69/25-29*Ve)+35/26*$e(75/34-27*Ve)+6/31*$e(23/10-26*Ve)+35/43*$e(10/33-25*Ve)+126/43*$e(421/158-24*Ve)+143/57*$e(35/22-22*Ve)+106/27*$e(84/29-21*Ve)+88/25*$e(23/27-20*Ve)+74/27*$e(53/22-19*Ve)+44/53*$e(117/25-18*Ve)+126/25*$e(88/49-17*Ve)+79/11*$e(43/26-16*Ve)+43/12*$e(41/17-15*Ve)+47/27*$e(244/81-14*Ve)+8/5*$e(79/19-13*Ve)+373/46*$e(109/38-12*Ve)+1200/31*$e(133/74-11*Ve)+67/24*$e(157/61-10*Ve)+583/28*$e(13/8-8*Ve)+772/35*$e(59/16-7*Ve)+3705/46*$e(117/50-6*Ve)+862/13*$e(19/8-5*Ve)+6555/34*$e(157/78-3*Ve)+6949/13*$e(83/27-Ve)-6805/54*$e(2*Ve+1/145)-5207/37*$e(4*Ve+49/74)-1811/58*$e(9*Ve+55/43)-63/20*$e(23*Ve+2/23)-266/177*$e(28*Ve+13/18)-2/21*$e(31*Ve+7/16),t=Ve=>70/37*$e(65/32-32*Ve)+11/12*$e(98/41-31*Ve)+26/29*$e(35/12-30*Ve)+54/41*$e(18/7-29*Ve)+177/71*$e(51/19-27*Ve)+59/34*$e(125/33-26*Ve)+49/29*$e(18/11-25*Ve)+151/75*$e(59/22-24*Ve)+52/9*$e(118/45-22*Ve)+52/33*$e(133/52-21*Ve)+37/45*$e(61/14-20*Ve)+143/46*$e(144/41-19*Ve)+254/47*$e(19/52-18*Ve)+246/35*$e(92/25-17*Ve)+722/111*$e(176/67-16*Ve)+136/23*$e(3/19-15*Ve)+273/25*$e(32/21-13*Ve)+229/33*$e(117/28-12*Ve)+19/4*$e(43/11-11*Ve)+135/8*$e(23/10-10*Ve)+205/6*$e(33/23-8*Ve)+679/45*$e(55/12-7*Ve)+101/8*$e(11/12-6*Ve)+2760/59*$e(40/11-5*Ve)+1207/18*$e(21/23-4*Ve)+8566/27*$e(39/28-3*Ve)+12334/29*$e(47/37-2*Ve)+15410/39*$e(185/41-Ve)-596/17*$e(9*Ve+3/26)-247/28*$e(14*Ve+25/21)-458/131*$e(23*Ve+21/37)-41/36*$e(28*Ve+7/8),r=new PlotModel({title:"PI curve",plotType:PlotType.Cartesian});return r.series.push(FunctionSeries.fromFxFyN(e,t,0,Math.PI*2,1e3)),r}function numericOdeSolvers($e,e,t,r,Ve,je){const ze=new PlotModel({title:$e,subtitle:e}),Xe=new Legend({legendPosition:LegendPosition.BottomCenter,legendPlacement:LegendPlacement.Outside,legendOrientation:LegendOrientation.Horizontal});ze.legends.push(Xe);const We=FunctionSeries.fromN(Ve,0,4,100);Object.assign(We,{title:"Exact solution",strokeThickness:5}),ze.series.push(We);const qe=new LineSeries({title:"Euler, h=0.25",markerType:MarkerType$1.Circle,markerFill:OxyColors$1.Black});qe.points.push(...euler(je,t,r,4,.25)),ze.series.push(qe);const Ke=new LineSeries({title:"Heun, h=0.25",markerType:MarkerType$1.Circle,markerFill:OxyColors$1.Black});Ke.points.push(...heun(je,t,r,4,.25)),ze.series.push(Ke);const Ze=new LineSeries({title:"Midpoint, h=0.25",markerType:MarkerType$1.Circle,markerFill:OxyColors$1.Black});Ze.points.push(...midpoint(je,t,r,4,.25)),ze.series.push(Ze);const Je=new LineSeries({title:"RK4, h=0.25",markerType:MarkerType$1.Circle,markerFill:OxyColors$1.Black});return Je.points.push(...rungeKutta4(je,t,r,4,.25)),ze.series.push(Je),ze.axes.push(new LinearAxis$1({position:AxisPosition$1.Left})),ze}function euler($e,e,t,r,Ve){const je=[];let ze=t;for(let Xe=e;Xe<r+Ve/2;Xe+=Ve)je.push(newDataPoint$1(Xe,ze)),ze+=Ve*$e(Xe,ze);return je}function heun($e,e,t,r,Ve){const je=[];let ze=t;for(let Xe=e;Xe<r+Ve/2;Xe+=Ve){je.push(newDataPoint$1(Xe,ze));const We=ze+Ve*$e(Xe,ze);ze=ze+Ve/2*($e(Xe,ze)+$e(Xe+Ve,We))}return je}function midpoint($e,e,t,r,Ve){const je=[];let ze=t;for(let Xe=e;Xe<r+Ve/2;Xe+=Ve)je.push(newDataPoint$1(Xe,ze)),ze+=Ve*$e(Xe+Ve/2,ze+Ve/2*$e(Xe,ze));return je}function rungeKutta4($e,e,t,r,Ve){const je=[];let ze=t;for(let Xe=e;Xe<r+Ve/2;Xe+=Ve){je.push(newDataPoint$1(Xe,ze));const We=Ve*$e(Xe,ze),qe=Ve*$e(Xe+Ve/2,ze+We/2),Ke=Ve*$e(Xe+Ve/2,ze+qe/2),Ze=Ve*$e(Xe+Ve,ze+Ke);ze+=(We+2*qe+2*Ke+Ze)/6}return je}class CustomAxis extends LinearAxis$1{constructor(t){super(t);sr(this,"majorTicks",[]);sr(this,"minorTicks",[]);sr(this,"labels",[])}getTickValues(){const t=this.majorTicks.filter(je=>je>=this.actualMinimum&&je<=this.actualMaximum),r=this.minorTicks.filter(je=>je>=this.actualMinimum&&je<=this.actualMaximum);return{majorTickValues:t,minorTickValues:r,majorLabelValues:t}}formatValueOverride(t){return this.labels[this.majorTicks.indexOf(t)]}}const category$s="Misc",MiscExamples={category:category$s,examples:[{title:"Numeric ODE solvers (y'=y)",example:{model:numericOdeSolvers1}},{title:"Numeric ODE solvers (y'=x)",example:{model:numericOdeSolvers2}},{title:"Numeric ODE solvers (y'=cos(x))",example:{model:numericOdeSolvers3}},{title:"Train schedule",example:{model:trainSchedule}},{title:"La Linea (AreaSeries)",example:{model:laLineaAreaSeries}},{title:"La Linea (LineSeries)",example:{model:laLinea}},{title:"Conway's Game of Life",example:{model:conwayLife}},{title:"Elephant curve",example:{model:elephantCurve}},{title:"PI curve",example:{model:piCurve}}]};function test1(){const $e=new PlotModel({title:"XKCD style plot",subtitle:"Install the 'Humor Sans' font for the best experience"});$e.renderingDecorator=t=>new XkcdRenderingDecorator(t);const e=FunctionSeries.fromN(Math.sin,0,10,50,"sin(x)");return $e.series.push(e),$e}function test2(){const $e=new PlotModel({title:"Test #2"});$e.renderingDecorator=Xe=>new XkcdRenderingDecorator(Xe),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:0,maximum:8,title:"INTENSITY"})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,title:"TIME"}));const e=new LineSeries({color:OxyColors$1.Cyan,strokeThickness:4}),t=new LineSeries({color:OxyColors$1.White,strokeThickness:14}),r=new LineSeries({color:OxyColors$1.Red,strokeThickness:4}),Ve=257,je=1,ze=9;for(let Xe=0;Xe<Ve;Xe++){const We=je+(ze-je)*Xe/(Ve-1),qe=1.5+10*(Math.sin(We)*Math.sin(We)/Math.sqrt(We))*Math.exp(-.5*(We-5)*(We-5)),Ke=3+10*(Math.sin(We)*Math.sin(We)/Math.sqrt(We))*Math.exp(-.5*(We-7)*(We-7));e.points.push(newDataPoint$1(We,qe)),t.points.push(newDataPoint$1(We,Ke)),r.points.push(newDataPoint$1(We,Ke))}return $e.series.push(e,t,r),$e}function test3(){const $e=new PlotModel({title:"Test #3"});$e.renderingDecorator=ze=>new XkcdRenderingDecorator(ze);const e=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Horizontal,legendBorderThickness:0});$e.legends.push(e);const t=new BarSeries$1({title:"Series 1",isStacked:!1,strokeColor:OxyColors$1.Black,strokeThickness:1,xAxisKey:"x",yAxisKey:"y"});t.items.push(new BarItem$1({value:25})),t.items.push(new BarItem$1({value:137})),t.items.push(new BarItem$1({value:18})),t.items.push(new BarItem$1({value:40}));const r=new BarSeries$1({title:"Series 2",isStacked:!1,strokeColor:OxyColors$1.Black,strokeThickness:1,xAxisKey:"x",yAxisKey:"y"});r.items.push(new BarItem$1({value:12})),r.items.push(new BarItem$1({value:14})),r.items.push(new BarItem$1({value:120})),r.items.push(new BarItem$1({value:26}));const Ve=new CategoryAxis$1({position:AxisPosition$1.Bottom,key:"y"});Ve.labels.push("Category A","Category B","Category C","Category D");const je=new LinearAxis$1({position:AxisPosition$1.Left,minimumPadding:0,maximumPadding:.06,absoluteMinimum:0,key:"x"});return $e.series.push(t),$e.series.push(r),$e.axes.push(Ve),$e.axes.push(je),$e}const category$r="XKCD",XkcdExamples={category:category$r,examples:[{title:"XKCD Test #1",example:{model:test1}},{title:"XKCD Test #2",example:{model:test2}},{title:"XKCD Test #3",example:{model:test3}}]},Misc=[MiscExamples,XkcdExamples];class HighLowItemGenerator{static mrProcess(e,t=100,r=.5,Ve=.7,je=.01){let ze=t;const Xe=[],We=new Date;for(let qe=0;qe<e;qe++){const Ke=-je*(ze-t)+this.randomNormal(0,r),Ze=-je*(ze-t)+this.randomNormal(0,Ve),Je=-je*(ze-t)+this.randomNormal(0,Ve),Qe=ze,ti=ze=ze+Ke,ni=this.min(Qe,ti,Qe+Ze,Qe+Je),ri=this.max(Qe,ti,Qe+Ze,Qe+Je),ii=new Date(We.getTime()+qe*1e3),ei=DateTimeAxis.toDouble(ii);Xe.push(createHighLowItem(ei,ri,ni,Qe,ti))}return Xe}static min(e,t,r,Ve){return Math.min(e,Math.min(t,Math.min(r,Ve)))}static max(e,t,r,Ve){return Math.max(e,Math.max(t,Math.max(r,Ve)))}static randomNormal(e,t){return this.inverseCumNormal(this.rand.next(),e,t)}static inverseCumNormal(e,t,r){const Ve=-39.69683028665376,je=220.9460984245205,ze=-275.9285104469687,Xe=138.357751867269,We=-30.66479806614716,qe=2.506628277459239,Ke=-54.47609879822406,Ze=161.5858368580409,Je=-155.6989798598866,Qe=66.80131188771972,ti=-13.28068155288572,ni=-.007784894002430293,ri=-.3223964580411365,ii=-2.400758277161838,ei=-2.549732539343734,St=4.374664141464968,oi=2.938163982698783,si=.007784695709041462,ai=.3224671290700398,ui=2.445134137142996,hi=3.754408661907416,ci=.02425,mi=1-ci;let di,pi;return e<ci?(di=Math.sqrt(-2*Math.log(e)),di=(((((ni*di+ri)*di+ii)*di+ei)*di+St)*di+oi)/((((si*di+ai)*di+ui)*di+hi)*di+1)):e<=mi?(di=e-.5,pi=di*di,di=(((((Ve*pi+je)*pi+ze)*pi+Xe)*pi+We)*pi+qe)*di/(((((Ke*pi+Ze)*pi+Je)*pi+Qe)*pi+ti)*pi+1)):(di=Math.sqrt(-2*Math.log(1-e)),di=-(((((ni*di+ri)*di+ii)*di+ei)*di+St)*di+oi)/((((si*di+ai)*di+ui)*di+hi)*di+1)),pi=(this.cumN0(di)-e)*Math.sqrt(2)*Math.sqrt(Math.PI)*Math.exp(.5*di*di),di-=pi/(1+.5*di*pi),t+di*r}static cumN0(e){const t=.31938153,r=-.356563782,Ve=1.781477937,je=-1.821255978,ze=1.330274429,Xe=.2316419,We=.39894228;if(e>=0){const qe=1/(1+Xe*e);return 1-We*Math.exp(-e*e/2)*qe*(qe*(qe*(qe*(qe*ze+je)+Ve)+r)+t)}else{const qe=1/(1-Xe*e);return We*Math.exp(-e*e/2)*qe*(qe*(qe*(qe*(qe*ze+je)+Ve)+r)+t)}}}sr(HighLowItemGenerator,"rand",new Random);function largeDataSetWide(){const $e=new PlotModel({title:"Large Data Set (wide window)"}),e=new DateTimeAxis({position:AxisPosition$1.Bottom});$e.axes.push(e);const t=new LinearAxis$1({position:AxisPosition$1.Left});$e.axes.push(t);const r=1e5,Ve=HighLowItemGenerator.mrProcess(r),je=new CandleStickSeries({color:OxyColors$1.Black,increasingColor:OxyColors$1.DarkGreen,decreasingColor:OxyColors$1.Red,dataFieldX:"Time",dataFieldHigh:"H",dataFieldLow:"L",dataFieldOpen:"O",dataFieldClose:"C",trackerStringFormatter:qe=>`High: ${qe.high.toFixed(2)}
Low: ${qe.low.toFixed(2)}
Open: ${qe.open.toFixed(2)}
Close: ${qe.close.toFixed(2)}`,itemsSource:Ve}),ze=r-200,Xe=70;e.minimum=Ve[ze].x,e.maximum=Ve[ze+Xe].x;const We=Ve.slice(ze,ze+Xe);return t.minimum=Math.min(...We.map(qe=>qe.low)),t.maximum=Math.max(...We.map(qe=>qe.high)),$e.series.push(je),e.axisChanged=(qe,Ke)=>_adjustYExtent(je,e,t),$e}function largeDataSetNarrow(){const $e=new PlotModel({title:"Large Data Set (narrow window)"}),e=new DateTimeAxis({position:AxisPosition$1.Bottom});$e.axes.push(e);const t=new LinearAxis$1({position:AxisPosition$1.Left});$e.axes.push(t);const r=1e5,Ve=HighLowItemGenerator.mrProcess(r),je=new CandleStickSeries({color:OxyColors$1.Black,increasingColor:OxyColors$1.DarkGreen,decreasingColor:OxyColors$1.Red,trackerStringFormatter:ze=>`High: ${ze.high.toFixed(2)}
Low: ${ze.low.toFixed(2)}
Open: ${ze.open.toFixed(2)}
Close: ${ze.close.toFixed(2)}`,itemsSource:Ve});return e.minimum=Ve[0].x,e.maximum=Ve[29].x,t.minimum=Ve.slice(0,30).map(ze=>ze.low).reduce((ze,Xe)=>Math.min(ze,Xe)),t.maximum=Ve.slice(0,30).map(ze=>ze.high).reduce((ze,Xe)=>Math.max(ze,Xe)),$e.series.push(je),e.axisChanged=(ze,Xe)=>_adjustYExtent(je,e,t),$e}function smallDataSet(){const $e=new PlotModel({title:"Small Data Set"}),e=new DateTimeAxis({position:AxisPosition$1.Bottom});$e.axes.push(e);const t=new LinearAxis$1({position:AxisPosition$1.Left});$e.axes.push(t);const r=100,Ve=HighLowItemGenerator.mrProcess(r),je=new CandleStickSeries({color:OxyColors$1.Black,increasingColor:OxyColors$1.DarkGreen,decreasingColor:OxyColors$1.Red,dataFieldX:"X",dataFieldHigh:"High",dataFieldLow:"Low",dataFieldOpen:"Open",dataFieldClose:"Close",trackerStringFormatter:ze=>`High: ${ze.high.toFixed(2)}
Low: ${ze.low.toFixed(2)}
Open: ${ze.open.toFixed(2)}
Close: ${ze.close.toFixed(2)}`,itemsSource:Ve});return $e.series.push(je),e.axisChanged=(ze,Xe)=>_adjustYExtent(je,e,t),$e}function simpleExample(){const $e=DateTimeAxis.toDouble(new Date(2016,1,1)),e=new PlotModel({title:"Simple CandleStickSeries example"});e.axes.push(new DateTimeAxis({position:AxisPosition$1.Bottom,minimum:$e-7,maximum:$e+7})),e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left}));const t=new CandleStickSeries;return t.items.push(createHighLowItem($e,100,80,92,94)),t.items.push(createHighLowItem($e+1,102,77,94,93)),t.items.push(createHighLowItem($e+2,99,85,93,93)),e.series.push(t),e}function _adjustYExtent($e,e,t){const r=e.actualMinimum,Ve=e.actualMaximum,je=$e.findByX(r),ze=$e.findByX(Ve,je);let Xe=Number_MAX_VALUE$1,We=Number_MIN_VALUE$1;for(let Ze=je;Ze<=ze;Ze++){const Je=$e.items[Ze];Xe=Math.min(Xe,Je.low),We=Math.max(We,Je.high)}const Ke=(We-Xe)*.1;t.zoom(Xe-Ke,We+Ke)}const category$q="CandleStickSeries",CandleStickSeriesExamples={category:category$q,tags:["Series"],examples:[{title:"Large Data Set (wide window)",example:{model:largeDataSetWide}},{title:"Large Data Set (narrow window)",example:{model:largeDataSetNarrow}},{title:"Small Set",example:{model:smallDataSet}},{title:"Simple CandleStickSeries example",example:{model:simpleExample}}]};function highLowSeries(){const $e=new PlotModel({title:"HighLowSeries"}),e=new Legend({legendSymbolLength:24});$e.legends.push(e);const t=new HighLowSeries({title:"HighLowSeries 1",color:OxyColors$1.Black}),r=new Random(314);let Ve=100;for(let je=0;je<24;je++){Ve=Ve+r.next()+.1;const ze=Ve+10+r.next()*10,Xe=Ve-(10+r.next()*10),We=Xe+r.next()*(ze-Xe),qe=Xe+r.next()*(ze-Xe);t.items.push({x:je,high:ze,low:Xe,open:We,close:qe})}return $e.series.push(t),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,maximumPadding:.3,minimumPadding:.3})),$e}function highLowSeriesDateTimeAxis(){const $e=new PlotModel,e=DateTimeAxis.toDouble(new Date(2013,5,4)),t=getDateService$1(),r=new DateTimeAxis({position:AxisPosition$1.Bottom,minimum:e-.9,maximum:e+1.9,intervalType:DateTimeIntervalType$1.Days,majorStep:1,minorStep:1,stringFormatter:je=>t.format(je,"YYYY-MM-DD")});$e.axes.push(r);const Ve=new HighLowSeries({trackerStringFormatter:je=>`X: ${t.format(je.xValue,"YYYY-MM-DD")}
High: ${je.high.toFixed(2)}
Low: ${je.low.toFixed(2)}
Open: ${je.open.toFixed(2)}
Close: ${je.close.toFixed(2)}`});return Ve.items.push(createHighLowItem(e,14,10,13,12.4)),Ve.items.push(createHighLowItem(e+1,17,8,12.4,16.3)),$e.series.push(Ve),$e}const category$p="HighLowSeries",HighLowSeriesExamples={category:category$p,tags:["Series"],examples:[{title:"HighLowSeries",example:{model:highLowSeries}},{title:"HighLowSeries (DateTime axis)",example:{model:highLowSeriesDateTimeAxis}}]};class OhlcvItemGenerator{static mrProcess(e,t=100,r=500,Ve=.5,je=.75,ze=.01){let Xe=t;const We=[],qe=new Date;for(let Ke=0;Ke<e;Ke++){const Ze=-ze*(Xe-t)+this.randomNormal(0,Ve),Je=Xe,ti=(Xe=Xe+Ze)-Je,ni=r*Math.exp(Math.abs(ti)/Ve),ii=((ti<0?-Math.min(-ti/je,1):Math.min(ti/je,1))+1)/2,ei=ii*ni,St=(1-ii)*ni,oi=new Date(qe.getTime()+Ke*1e3),si=DateTimeAxis.toDouble(oi);We.push(new OhlcvItem$1(si,ei,St))}return We}static min(e,t,r,Ve){return Math.min(e,Math.min(t,Math.min(r,Ve)))}static max(e,t,r,Ve){return Math.max(e,Math.max(t,Math.max(r,Ve)))}static randomNormal(e,t){return HighLowItemGenerator.inverseCumNormal(this.rand.next(),e,t)}}sr(OhlcvItemGenerator,"rand",new Random);function justVolumeCombinedFixed(){return _createVolumeSeries("Just Volume (combined)",VolumeStyle.Combined,!1)}function justVolumeCombinedNatural(){return _createVolumeSeries("Just Volume (combined)",VolumeStyle.Combined,!0)}function justVolumeStackedFixed(){return _createVolumeSeries("Just Volume (stacked)",VolumeStyle.Stacked,!1)}function justVolumeStackedNatural(){return _createVolumeSeries("Just Volume (stacked)",VolumeStyle.Stacked,!0)}function justVolumePositiveNegativeFixed(){return _createVolumeSeries("Just Volume (+/-)",VolumeStyle.PositiveNegative,!1)}function justVolumePositiveNegativeNatural(){return _createVolumeSeries("Just Volume (+/-)",VolumeStyle.PositiveNegative,!0)}function _createVolumeSeries($e,e,t=!1,r=1e4){r=201;const Ve=new PlotModel({title:$e}),je=new VolumeSeries({positiveColor:OxyColors$1.DarkGreen,negativeColor:OxyColors$1.Red,positiveHollow:!1,negativeHollow:!1,volumeStyle:e,title:"VolumeSeries"});for(const Je of OhlcvItemGenerator.mrProcess(r))je.append(Je);const ze=r-200,Xe=r-120,We=je.items[ze].x,qe=je.items[Xe].x,Ke=new DateTimeAxis({position:AxisPosition$1.Bottom,minimum:We,maximum:qe}),Ze=new LinearAxis$1({position:AxisPosition$1.Left,startPosition:0,endPosition:1,minimum:t?NaN:0,maximum:t?NaN:1e4});switch(e){case VolumeStyle.Combined:case VolumeStyle.Stacked:Ve.axes.push(Ke),Ve.axes.push(Ze);break;case VolumeStyle.PositiveNegative:Ze.minimum=t?NaN:-1e4,Ve.axes.push(Ke),Ve.axes.push(Ze);break}return Ve.series.push(je),Ve}const category$o="VolumeSeries",VolumeSeriesExamples={category:category$o,tags:["Series"],examples:[{title:"Just Volume (combined), fixed axis",example:{model:justVolumeCombinedFixed}},{title:"Just Volume (combined), natural axis",example:{model:justVolumeCombinedNatural}},{title:"Just Volume (stacked), fixed axis",example:{model:justVolumeStackedFixed}},{title:"Just Volume (stacked), natural axis",example:{model:justVolumeStackedNatural}},{title:"Just Volume (+/-), fixed axis",example:{model:justVolumePositiveNegativeFixed}},{title:"Just Volume (+/-), natural axis",example:{model:justVolumePositiveNegativeNatural}}]},FinancialSeries=[CandleStickSeriesExamples,HighLowSeriesExamples,VolumeSeriesExamples];function defaultStyle$2(){const $e=new PlotModel({title:"AreaSeries with default style"});return $e.series.push(createExampleAreaSeries()),$e}function differentColors$1(){const $e=new PlotModel({title:"AreaSeries with different stroke colors"}),e=createExampleAreaSeries();return e.color=OxyColors$1.Red,e.color2=OxyColors$1.Blue,$e.series.push(e),$e}function crossingLines(){const $e=new PlotModel({title:"AreaSeries with crossing lines"}),e=new AreaSeries;return e.points.push(newDataPoint$1(0,50)),e.points.push(newDataPoint$1(10,140)),e.points.push(newDataPoint$1(20,60)),e.points2.push(newDataPoint$1(0,60)),e.points2.push(newDataPoint$1(5,80)),e.points2.push(newDataPoint$1(20,70)),$e.series.push(e),$e}function trackerFormatString$2(){const $e=new PlotModel({title:"AreaSeries with custom TrackerFormatString"});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,title:"X-axis"})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,title:"Y-axis"}));const e=createExampleAreaSeries();return e.title="X={2:0.0} Y={4:0.0}",e.trackerStringFormatter=t=>`X=${t.xValue.toFixed(1)} Y=${t.yValue.toFixed(1)}`,$e.series.push(e),$e}function constantBaseline(){const $e=new PlotModel({title:"AreaSeries with constant baseline",subtitle:"Empty Points2, ConstantY2 = 0 (default)"}),e=new AreaSeries;return e.points.push(newDataPoint$1(0,50)),e.points.push(newDataPoint$1(10,140)),e.points.push(newDataPoint$1(20,60)),$e.series.push(e),$e}function constantBaselineNaN(){const $e=new PlotModel({title:"AreaSeries with constant baseline",subtitle:"Empty Points2, ConstantY2 = NaN"}),e=new AreaSeries;return e.points.push(newDataPoint$1(0,50)),e.points.push(newDataPoint$1(10,140)),e.points.push(newDataPoint$1(20,60)),e.constantY2=Number.NaN,$e.series.push(e),$e}function constantBaselineItemsSource(){const $e=new PlotModel({title:"AreaSeries with constant baseline",subtitle:"ItemsSource and DataField2 not set, ConstantY2 = -20"}),e=new AreaSeries,t=[newDataPoint$1(0,50),newDataPoint$1(10,140),newDataPoint$1(20,60)];return e.itemsSource=t,e.dataFieldX="x",e.dataFieldY="y",e.constantY2=-20,$e.series.push(e),$e}function lineSeriesAndAreaSeries(){const $e=new PlotModel({title:"LineSeries and AreaSeries"}),e=new LinearAxis$1({position:AxisPosition$1.Bottom});$e.axes.push(e);const t=new LinearAxis$1;$e.axes.push(t);const r=new AreaSeries({fill:OxyColors$1.LightBlue,dataFieldX2:"Time",dataFieldY2:"Minimum",color:OxyColors$1.Red,strokeThickness:0,markerFill:OxyColors$1.Transparent,dataFieldX:"Time",dataFieldY:"Maximum"});r.points2.push(newDataPoint$1(0,-5.04135905692417)),r.points2.push(newDataPoint$1(2.5,-4.91731850813018)),r.points2.push(newDataPoint$1(5,-4.45266314658926)),r.points2.push(newDataPoint$1(7.5,-3.87303874542613)),r.points2.push(newDataPoint$1(10,-3.00101110255393)),r.points2.push(newDataPoint$1(12.5,-2.17980725503518)),r.points2.push(newDataPoint$1(15,-1.67332229254456)),r.points2.push(newDataPoint$1(17.5,-1.10537158549082)),r.points2.push(newDataPoint$1(20,-.6145459544447)),r.points2.push(newDataPoint$1(22.5,.120028106039404)),r.points2.push(newDataPoint$1(25,1.06357270435597)),r.points2.push(newDataPoint$1(27.5,1.87301405606466)),r.points2.push(newDataPoint$1(30,2.57569854952195)),r.points2.push(newDataPoint$1(32.5,3.59165537664278)),r.points2.push(newDataPoint$1(35,4.87991958133872)),r.points2.push(newDataPoint$1(37.5,6.36214537958714)),r.points2.push(newDataPoint$1(40,7.62564585126268)),r.points2.push(newDataPoint$1(42.5,8.69606320261772)),r.points2.push(newDataPoint$1(45,10.0118704438265)),r.points2.push(newDataPoint$1(47.5,11.0434480519236)),r.points2.push(newDataPoint$1(50,11.9794171576758)),r.points2.push(newDataPoint$1(52.5,12.9591851832621)),r.points2.push(newDataPoint$1(55,14.172107889304)),r.points2.push(newDataPoint$1(57.5,15.5520057698488)),r.points2.push(newDataPoint$1(60,17.2274942386092)),r.points2.push(newDataPoint$1(62.5,18.6983982186757)),r.points2.push(newDataPoint$1(65,20.4560332001448)),r.points2.push(newDataPoint$1(67.5,22.4867327382261)),r.points2.push(newDataPoint$1(70,24.5319674302041)),r.points2.push(newDataPoint$1(72.5,26.600547815813)),r.points2.push(newDataPoint$1(75,28.5210891459701)),r.points2.push(newDataPoint$1(77.5,30.6793080755413)),r.points2.push(newDataPoint$1(80,33.0546651200646)),r.points2.push(newDataPoint$1(82.5,35.3256065179713)),r.points2.push(newDataPoint$1(85,37.6336074839968)),r.points2.push(newDataPoint$1(87.5,40.2012266359763)),r.points2.push(newDataPoint$1(90,42.8923555399256)),r.points2.push(newDataPoint$1(92.5,45.8665211907432)),r.points2.push(newDataPoint$1(95,48.8200195945427)),r.points2.push(newDataPoint$1(97.5,51.8304284402311)),r.points2.push(newDataPoint$1(100,54.6969868542147)),r.points2.push(newDataPoint$1(102.5,57.7047292990632)),r.points2.push(newDataPoint$1(105,60.4216644602929)),r.points2.push(newDataPoint$1(107.5,62.926258762519)),r.points2.push(newDataPoint$1(110,65.1829734629407)),r.points2.push(newDataPoint$1(112.5,67.2365592083133)),r.points2.push(newDataPoint$1(115,69.5713628691022)),r.points2.push(newDataPoint$1(117.5,71.7267046705944)),r.points2.push(newDataPoint$1(120,73.633463102781)),r.points2.push(newDataPoint$1(122.5,75.4660150158061)),r.points2.push(newDataPoint$1(125,77.5669292504745)),r.points2.push(newDataPoint$1(127.5,79.564218544664)),r.points2.push(newDataPoint$1(130,81.8631309028078)),r.points2.push(newDataPoint$1(132.5,83.9698189969034)),r.points2.push(newDataPoint$1(135,86.3847886532009)),r.points2.push(newDataPoint$1(137.5,88.5559348267764)),r.points2.push(newDataPoint$1(140,91.0455050418365)),r.points2.push(newDataPoint$1(142.5,93.6964157585504)),r.points2.push(newDataPoint$1(145,96.284336864941)),r.points2.push(newDataPoint$1(147.5,98.7508602689723)),r.points2.push(newDataPoint$1(150,100.904510594255)),r.points2.push(newDataPoint$1(152.5,103.266136681506)),r.points2.push(newDataPoint$1(155,105.780951269521)),r.points2.push(newDataPoint$1(157.5,108.032859257065)),r.points2.push(newDataPoint$1(160,110.035478448093)),r.points2.push(newDataPoint$1(162.5,112.10655731615)),r.points2.push(newDataPoint$1(165,114.37480786097)),r.points2.push(newDataPoint$1(167.5,116.403992550869)),r.points2.push(newDataPoint$1(170,118.61663988727)),r.points2.push(newDataPoint$1(172.5,120.538730287384)),r.points2.push(newDataPoint$1(175,122.515721057177)),r.points2.push(newDataPoint$1(177.5,124.474386629124)),r.points2.push(newDataPoint$1(180,126.448283293214)),r.points2.push(newDataPoint$1(182.5,128.373811322299)),r.points2.push(newDataPoint$1(185,130.33627914667)),r.points2.push(newDataPoint$1(187.5,132.487933658477)),r.points2.push(newDataPoint$1(190,134.716989778456)),r.points2.push(newDataPoint$1(192.5,136.817287595392)),r.points2.push(newDataPoint$1(195,139.216488664698)),r.points2.push(newDataPoint$1(197.5,141.50803227574)),r.points2.push(newDataPoint$1(200,143.539586683614)),r.points2.push(newDataPoint$1(202.5,145.535911545221)),r.points2.push(newDataPoint$1(205,147.516964978686)),r.points2.push(newDataPoint$1(207.5,149.592416731684)),r.points2.push(newDataPoint$1(210,151.600983566512)),r.points2.push(newDataPoint$1(212.5,153.498210993362)),r.points2.push(newDataPoint$1(215,155.512606828247)),r.points2.push(newDataPoint$1(217.5,157.426564302774)),r.points2.push(newDataPoint$1(220,159.364474964172)),r.points2.push(newDataPoint$1(222.5,161.152806492128)),r.points2.push(newDataPoint$1(225,162.679069434562)),r.points2.push(newDataPoint$1(227.5,163.893622036741)),r.points2.push(newDataPoint$1(230,165.475827621238)),r.points2.push(newDataPoint$1(232.5,167.303960444734)),r.points2.push(newDataPoint$1(235,169.259393394952)),r.points2.push(newDataPoint$1(237.5,171.265193646758)),r.points2.push(newDataPoint$1(240,173.074304345192)),r.points2.push(newDataPoint$1(242.5,174.975492766814)),r.points2.push(newDataPoint$1(245,176.684088218484)),r.points2.push(newDataPoint$1(247.5,178.406887247603)),r.points.push(newDataPoint$1(0,5.0184649433561)),r.points.push(newDataPoint$1(2.5,5.27685959268215)),r.points.push(newDataPoint$1(5,5.81437064628786)),r.points.push(newDataPoint$1(7.5,6.51022475040994)),r.points.push(newDataPoint$1(10,7.49921246878766)),r.points.push(newDataPoint$1(12.5,8.41941631823751)),r.points.push(newDataPoint$1(15,9.09826907222079)),r.points.push(newDataPoint$1(17.5,9.89500750098145)),r.points.push(newDataPoint$1(20,10.6633345249404)),r.points.push(newDataPoint$1(22.5,11.6249613445368)),r.points.push(newDataPoint$1(25,12.8816391467497)),r.points.push(newDataPoint$1(27.5,13.9665185705603)),r.points.push(newDataPoint$1(30,14.8501816818724)),r.points.push(newDataPoint$1(32.5,16.0683128022441)),r.points.push(newDataPoint$1(35,17.5378799723172)),r.points.push(newDataPoint$1(37.5,19.1262752954039)),r.points.push(newDataPoint$1(40,20.4103953650735)),r.points.push(newDataPoint$1(42.5,21.5430627723891)),r.points.push(newDataPoint$1(45,22.9105459463366)),r.points.push(newDataPoint$1(47.5,23.9802361888719)),r.points.push(newDataPoint$1(50,24.8659461235003)),r.points.push(newDataPoint$1(52.5,25.7303194442439)),r.points.push(newDataPoint$1(55,26.7688545912359)),r.points.push(newDataPoint$1(57.5,28.0545112571933)),r.points.push(newDataPoint$1(60,29.7036634266394)),r.points.push(newDataPoint$1(62.5,31.2273634344467)),r.points.push(newDataPoint$1(65,33.1038196356519)),r.points.push(newDataPoint$1(67.5,35.2639893610328)),r.points.push(newDataPoint$1(70,37.434293559489)),r.points.push(newDataPoint$1(72.5,39.7109359368267)),r.points.push(newDataPoint$1(75,41.7573881676222)),r.points.push(newDataPoint$1(77.5,44.0460374479862)),r.points.push(newDataPoint$1(80,46.5098714746581)),r.points.push(newDataPoint$1(82.5,48.7754012129155)),r.points.push(newDataPoint$1(85,51.1619816926597)),r.points.push(newDataPoint$1(87.5,53.9036778414639)),r.points.push(newDataPoint$1(90,56.7448825012636)),r.points.push(newDataPoint$1(92.5,59.9294987878434)),r.points.push(newDataPoint$1(95,63.0148831289797)),r.points.push(newDataPoint$1(97.5,66.0721745989622)),r.points.push(newDataPoint$1(100,68.8980036274521)),r.points.push(newDataPoint$1(102.5,71.7719322611447)),r.points.push(newDataPoint$1(105,74.4206055336728)),r.points.push(newDataPoint$1(107.5,76.816198386632)),r.points.push(newDataPoint$1(110,79.0040432726983)),r.points.push(newDataPoint$1(112.5,80.9617606926066)),r.points.push(newDataPoint$1(115,83.1345574620341)),r.points.push(newDataPoint$1(117.5,85.0701022046479)),r.points.push(newDataPoint$1(120,86.8557530286516)),r.points.push(newDataPoint$1(122.5,88.5673387745243)),r.points.push(newDataPoint$1(125,90.6003321543338)),r.points.push(newDataPoint$1(127.5,92.439864576254)),r.points.push(newDataPoint$1(130,94.5383744861178)),r.points.push(newDataPoint$1(132.5,96.4600166864507)),r.points.push(newDataPoint$1(135,98.6091052949006)),r.points.push(newDataPoint$1(137.5,100.496459351478)),r.points.push(newDataPoint$1(140,102.705767030085)),r.points.push(newDataPoint$1(142.5,105.009994476992)),r.points.push(newDataPoint$1(145,107.31287026052)),r.points.push(newDataPoint$1(147.5,109.584842542272)),r.points.push(newDataPoint$1(150,111.641435600837)),r.points.push(newDataPoint$1(152.5,113.988459973544)),r.points.push(newDataPoint$1(155,116.50349048027)),r.points.push(newDataPoint$1(157.5,118.753612704274)),r.points.push(newDataPoint$1(160,120.801728924085)),r.points.push(newDataPoint$1(162.5,122.902486914165)),r.points.push(newDataPoint$1(165,125.104391935796)),r.points.push(newDataPoint$1(167.5,127.06056966547)),r.points.push(newDataPoint$1(170,129.217086578495)),r.points.push(newDataPoint$1(172.5,131.151968896274)),r.points.push(newDataPoint$1(175,133.159906275133)),r.points.push(newDataPoint$1(177.5,135.065263957561)),r.points.push(newDataPoint$1(180,137.041870026822)),r.points.push(newDataPoint$1(182.5,138.937477489811)),r.points.push(newDataPoint$1(185,140.776914926282)),r.points.push(newDataPoint$1(187.5,142.786975776398)),r.points.push(newDataPoint$1(190,144.862762377347)),r.points.push(newDataPoint$1(192.5,146.89654967049)),r.points.push(newDataPoint$1(195,149.204343821204)),r.points.push(newDataPoint$1(197.5,151.369748673527)),r.points.push(newDataPoint$1(200,153.324438580137)),r.points.push(newDataPoint$1(202.5,155.173148715344)),r.points.push(newDataPoint$1(205,157.0501827528)),r.points.push(newDataPoint$1(207.5,159.109122278359)),r.points.push(newDataPoint$1(210,161.044446932778)),r.points.push(newDataPoint$1(212.5,162.942364031841)),r.points.push(newDataPoint$1(215,164.966769883021)),r.points.push(newDataPoint$1(217.5,166.89711806788)),r.points.push(newDataPoint$1(220,168.906874949069)),r.points.push(newDataPoint$1(222.5,170.85692034995)),r.points.push(newDataPoint$1(225,172.602125010408)),r.points.push(newDataPoint$1(227.5,173.964258466598)),r.points.push(newDataPoint$1(230,175.629908385654)),r.points.push(newDataPoint$1(232.5,177.495778359378)),r.points.push(newDataPoint$1(235,179.432933300749)),r.points.push(newDataPoint$1(237.5,181.400180771342)),r.points.push(newDataPoint$1(240,183.232300309899)),r.points.push(newDataPoint$1(242.5,185.225502661441)),r.points.push(newDataPoint$1(245,186.979590140413)),r.points.push(newDataPoint$1(247.5,188.816640077725)),r.title="Maximum/Minimum",$e.series.push(r);const Ve=new LineSeries({color:OxyColors$1.Blue,markerFill:OxyColors$1.Transparent,dataFieldX:"Time",dataFieldY:"Value"});return Ve.points.push(newDataPoint$1(0,-.011447056784037)),Ve.points.push(newDataPoint$1(2.5,.179770542275985)),Ve.points.push(newDataPoint$1(5,.6808537498493)),Ve.points.push(newDataPoint$1(7.5,1.31859300249191)),Ve.points.push(newDataPoint$1(10,2.24910068311687)),Ve.points.push(newDataPoint$1(12.5,3.11980453160117)),Ve.points.push(newDataPoint$1(15,3.71247338983811)),Ve.points.push(newDataPoint$1(17.5,4.39481795774531)),Ve.points.push(newDataPoint$1(20,5.02439428524784)),Ve.points.push(newDataPoint$1(22.5,5.87249472528812)),Ve.points.push(newDataPoint$1(25,6.97260592555283)),Ve.points.push(newDataPoint$1(27.5,7.91976631331247)),Ve.points.push(newDataPoint$1(30,8.71294011569719)),Ve.points.push(newDataPoint$1(32.5,9.82998408944345)),Ve.points.push(newDataPoint$1(35,11.208899776828)),Ve.points.push(newDataPoint$1(37.5,12.7442103374955)),Ve.points.push(newDataPoint$1(40,14.0180206081681)),Ve.points.push(newDataPoint$1(42.5,15.1195629875034)),Ve.points.push(newDataPoint$1(45,16.4612081950815)),Ve.points.push(newDataPoint$1(47.5,17.5118421203978)),Ve.points.push(newDataPoint$1(50,18.4226816405881)),Ve.points.push(newDataPoint$1(52.5,19.344752313753)),Ve.points.push(newDataPoint$1(55,20.47048124027)),Ve.points.push(newDataPoint$1(57.5,21.8032585135211)),Ve.points.push(newDataPoint$1(60,23.4655788326243)),Ve.points.push(newDataPoint$1(62.5,24.9628808265612)),Ve.points.push(newDataPoint$1(65,26.7799264178984)),Ve.points.push(newDataPoint$1(67.5,28.8753610496295)),Ve.points.push(newDataPoint$1(70,30.9831304948466)),Ve.points.push(newDataPoint$1(72.5,33.1557418763199)),Ve.points.push(newDataPoint$1(75,35.1392386567962)),Ve.points.push(newDataPoint$1(77.5,37.3626727617638)),Ve.points.push(newDataPoint$1(80,39.7822682973613)),Ve.points.push(newDataPoint$1(82.5,42.0505038654434)),Ve.points.push(newDataPoint$1(85,44.3977945883283)),Ve.points.push(newDataPoint$1(87.5,47.0524522387201)),Ve.points.push(newDataPoint$1(90,49.8186190205946)),Ve.points.push(newDataPoint$1(92.5,52.8980099892933)),Ve.points.push(newDataPoint$1(95,55.9174513617612)),Ve.points.push(newDataPoint$1(97.5,58.9513015195966)),Ve.points.push(newDataPoint$1(100,61.7974952408334)),Ve.points.push(newDataPoint$1(102.5,64.738330780104)),Ve.points.push(newDataPoint$1(105,67.4211349969828)),Ve.points.push(newDataPoint$1(107.5,69.8712285745755)),Ve.points.push(newDataPoint$1(110,72.0935083678195)),Ve.points.push(newDataPoint$1(112.5,74.0991599504599)),Ve.points.push(newDataPoint$1(115,76.3529601655682)),Ve.points.push(newDataPoint$1(117.5,78.3984034376212)),Ve.points.push(newDataPoint$1(120,80.2446080657163)),Ve.points.push(newDataPoint$1(122.5,82.0166768951652)),Ve.points.push(newDataPoint$1(125,84.0836307024042)),Ve.points.push(newDataPoint$1(127.5,86.002041560459)),Ve.points.push(newDataPoint$1(130,88.2007526944628)),Ve.points.push(newDataPoint$1(132.5,90.2149178416771)),Ve.points.push(newDataPoint$1(135,92.4969469740507)),Ve.points.push(newDataPoint$1(137.5,94.5261970891274)),Ve.points.push(newDataPoint$1(140,96.875636035961)),Ve.points.push(newDataPoint$1(142.5,99.3532051177711)),Ve.points.push(newDataPoint$1(145,101.798603562731)),Ve.points.push(newDataPoint$1(147.5,104.167851405622)),Ve.points.push(newDataPoint$1(150,106.272973097546)),Ve.points.push(newDataPoint$1(152.5,108.627298327525)),Ve.points.push(newDataPoint$1(155,111.142220874895)),Ve.points.push(newDataPoint$1(157.5,113.39323598067)),Ve.points.push(newDataPoint$1(160,115.418603686089)),Ve.points.push(newDataPoint$1(162.5,117.504522115157)),Ve.points.push(newDataPoint$1(165,119.739599898383)),Ve.points.push(newDataPoint$1(167.5,121.732281108169)),Ve.points.push(newDataPoint$1(170,123.916863232882)),Ve.points.push(newDataPoint$1(172.5,125.845349591829)),Ve.points.push(newDataPoint$1(175,127.837813666155)),Ve.points.push(newDataPoint$1(177.5,129.769825293343)),Ve.points.push(newDataPoint$1(180,131.745076660018)),Ve.points.push(newDataPoint$1(182.5,133.655644406055)),Ve.points.push(newDataPoint$1(185,135.556597036476)),Ve.points.push(newDataPoint$1(187.5,137.637454717438)),Ve.points.push(newDataPoint$1(190,139.789876077902)),Ve.points.push(newDataPoint$1(192.5,141.856918632941)),Ve.points.push(newDataPoint$1(195,144.210416242951)),Ve.points.push(newDataPoint$1(197.5,146.438890474634)),Ve.points.push(newDataPoint$1(200,148.432012631876)),Ve.points.push(newDataPoint$1(202.5,150.354530130282)),Ve.points.push(newDataPoint$1(205,152.283573865743)),Ve.points.push(newDataPoint$1(207.5,154.350769505022)),Ve.points.push(newDataPoint$1(210,156.322715249645)),Ve.points.push(newDataPoint$1(212.5,158.220287512602)),Ve.points.push(newDataPoint$1(215,160.239688355634)),Ve.points.push(newDataPoint$1(217.5,162.161841185327)),Ve.points.push(newDataPoint$1(220,164.135674956621)),Ve.points.push(newDataPoint$1(222.5,166.004863421039)),Ve.points.push(newDataPoint$1(225,167.640597222485)),Ve.points.push(newDataPoint$1(227.5,168.928940251669)),Ve.points.push(newDataPoint$1(230,170.552868003446)),Ve.points.push(newDataPoint$1(232.5,172.399869402056)),Ve.points.push(newDataPoint$1(235,174.346163347851)),Ve.points.push(newDataPoint$1(237.5,176.33268720905)),Ve.points.push(newDataPoint$1(240,178.153302327545)),Ve.points.push(newDataPoint$1(242.5,180.100497714128)),Ve.points.push(newDataPoint$1(245,181.831839179449)),Ve.points.push(newDataPoint$1(247.5,183.611763662664)),Ve.title="Average",$e.series.push(Ve),$e}function createExampleAreaSeries(){const $e=new AreaSeries;return $e.points.push(newDataPoint$1(0,50)),$e.points.push(newDataPoint$1(10,40)),$e.points.push(newDataPoint$1(20,60)),$e.points2.push(newDataPoint$1(0,60)),$e.points2.push(newDataPoint$1(5,80)),$e.points2.push(newDataPoint$1(20,70)),$e}const category$n="AreaSeries",AreaSeriesExamples={category:category$n,tags:["Series"],examples:[{title:"Default style",example:{model:defaultStyle$2}},{title:"Different stroke colors",example:{model:differentColors$1}},{title:"Crossing lines",example:{model:crossingLines}},{title:"Custom TrackerFormatString",example:{model:trackerFormatString$2}},{title:"Constant baseline (empty Points2)",example:{model:constantBaseline}},{title:"Constant baseline (empty Points2, ConstantY2=NaN)",example:{model:constantBaselineNaN}},{title:"Constant baseline (ItemsSource and DataField2 not set)",example:{model:constantBaselineItemsSource}},{title:"LineSeries and AreaSeries",example:{model:lineSeriesAndAreaSeries}}]};function withLabels(){const $e=new PlotModel;$e.title="With labels";const e=(ze,Xe)=>ze.value.toString(),t=new Random(1),r=[new BarSeries$1({labelStringFormatter:e,labelPlacement:LabelPlacement$1.Base,textColor:OxyColors$1.White,title:"Base"}),new BarSeries$1({labelStringFormatter:e,labelPlacement:LabelPlacement$1.Inside,textColor:OxyColors$1.White,title:"Inside"}),new BarSeries$1({labelStringFormatter:e,labelPlacement:LabelPlacement$1.Middle,textColor:OxyColors$1.White,title:"Middle"}),new BarSeries$1({labelStringFormatter:e,labelPlacement:LabelPlacement$1.Outside,title:"Outside"})];for(let ze=0;ze<4;ze++)for(const Xe of r)Xe.items.push(BarItem$1.fromValue(t.next(-100,100)));const Ve=new CategoryAxis$1;Ve.position=AxisPosition$1.Left,Ve.labels.push("Category A","Category B","Category C","Category D");const je=new LinearAxis$1;je.position=AxisPosition$1.Bottom,je.minimumPadding=.06,je.maximumPadding=.06,je.extraGridlines=[0];for(const ze of r)$e.series.push(ze);return $e.axes.push(Ve),$e.axes.push(je),$e}function withLabelsAtAnAngle(){const $e=withLabels();for(const e of $e.series)e.labelAngle=-45;return $e}const stackedSeries=()=>createSimpleModel(!0,"Simple stacked model"),multipleValueAxes=()=>{const $e=new PlotModel({title:"Multiple Value Axes"}),e=new CategoryAxis$1({position:AxisPosition$1.Left}),t=new LinearAxis$1({title:"Value Axis 1",position:AxisPosition$1.Bottom,minimumPadding:.06,maximumPadding:.06,extraGridlines:[0],endPosition:.5,key:"x1"}),r=new LinearAxis$1({title:"Value Axis 2",position:AxisPosition$1.Bottom,minimumPadding:.06,maximumPadding:.06,extraGridlines:[0],startPosition:.5,key:"x2"});$e.axes.push(e,t,r);const Ve=[new BarSeries$1({xAxisKey:"x1"}),new BarSeries$1({xAxisKey:"x1"}),new BarSeries$1({xAxisKey:"x2"}),new BarSeries$1({xAxisKey:"x2"})],je=new Random(1);for(const ze of Ve){for(let Xe=0;Xe<4;Xe++)ze.items.push(BarItem$1.fromValue(je.next(-100,100)));$e.series.push(ze)}return $e},stackedMultipleValueAxes=()=>{const $e=multipleValueAxes();$e.title=`Stacked, ${$e.title}`;for(const e of $e.series)e.isStacked=!0;return $e},multipleCategoryAxes=()=>{const $e=new PlotModel({title:"Multiple Category Axes"});$e.legends.push(new Legend({isLegendVisible:!0,legendPosition:LegendPosition.TopLeft,legendPlacement:LegendPlacement.Inside}));const e=new LinearAxis$1({position:AxisPosition$1.Bottom,key:"x",extraGridlines:[0]}),t=new CategoryAxis$1({title:"Category Axis 1",position:AxisPosition$1.Left,minimumPadding:.06,maximumPadding:.06,endPosition:.5,key:"y1"}),r=new CategoryAxis$1({title:"Category Axis 2",position:AxisPosition$1.Left,minimumPadding:.06,maximumPadding:.06,startPosition:.5,key:"y2"});$e.axes.push(e,t,r);const Ve=[new BarSeries$1({yAxisKey:"y1",xAxisKey:"x",renderInLegend:!0,title:"Y1A"}),new BarSeries$1({yAxisKey:"y1",xAxisKey:"x",renderInLegend:!0,title:"Y1B"}),new BarSeries$1({yAxisKey:"y2",xAxisKey:"x",renderInLegend:!0,title:"Y2A"}),new BarSeries$1({yAxisKey:"y2",xAxisKey:"x",renderInLegend:!0,title:"Y2B"})],je=new Random;for(const ze of Ve){for(let Xe=0;Xe<4;Xe++)ze.items.push(BarItem$1.fromValue(je.next(-100,100)));$e.series.push(ze)}return $e},stackedMultipleCategoryAxes=()=>{const $e=multipleCategoryAxes();$e.title=`Stacked, ${$e.title}`;for(const e of $e.series)e.isStacked=!0;return $e},emptySeries=()=>{const $e=new PlotModel({title:"Empty series"}),e=new BarSeries$1({title:"Series 1"}),t=new BarSeries$1({title:"Series 2"}),r=new CategoryAxis$1({position:AxisPosition$1.Left}),Ve=new LinearAxis$1({position:AxisPosition$1.Bottom,minimumPadding:0});return $e.series.push(e,t),$e.axes.push(r,Ve),$e},noCategoryAxisDefined=()=>{const $e=new PlotModel({title:"No category axis defined"}),e=new BarSeries$1({title:"Series 1",itemsSource:[BarItem$1.fromValue(25),BarItem$1.fromValue(137)]}),t=new BarSeries$1({title:"Series 2",itemsSource:[BarItem$1.fromValue(52),BarItem$1.fromValue(317)]}),r=new LinearAxis$1({position:AxisPosition$1.Bottom,minimumPadding:0});return $e.series.push(e,t),$e.axes.push(r),$e},bindingItemsSource=()=>{const $e=[{label:"Apples",value1:37,value2:12,value3:19},{label:"Pears",value1:7,value2:21,value3:9},{label:"Bananas",value1:23,value2:2,value3:29}],e=new PlotModel({title:"Binding to ItemsSource"}),t=new Legend({legendPlacement:LegendPlacement.Outside});e.legends.push(t);const r=new CategoryAxis$1({position:AxisPosition$1.Left,labelField:"label",itemsSource:$e,majorStep:1,minorStep:1});e.axes.push(r);const Ve=new LinearAxis$1({position:AxisPosition$1.Bottom,absoluteMinimum:0,minimumPadding:0});e.axes.push(Ve);const je=new BarSeries$1({fillColor:OxyColor$1.fromArgb(255,78,154,6),valueField:"value1",title:"2009",itemsSource:$e});e.series.push(je);const ze=new BarSeries$1({fillColor:OxyColor$1.fromArgb(255,200,141,0),valueField:"value2",title:"2010",itemsSource:$e});e.series.push(ze);const Xe=new BarSeries$1({fillColor:OxyColor$1.fromArgb(255,204,0,0),valueField:"value3",title:"2011",itemsSource:$e});return e.series.push(Xe),e},bindingToItemsSourceArray=()=>{const $e=new PlotModel({title:"Binding to ItemsSource",subtitle:"The items are defined by an array of BarItem/ColumnItem"});return $e.series.push(new BarSeries$1({title:"Series 1",itemsSource:[new BarItem$1({value:25}),new BarItem$1({value:137})]})),$e.series.push(new BarSeries$1({title:"Series 2",itemsSource:[new BarItem$1({value:52}),new BarItem$1({value:317})]})),$e.axes.push(new CategoryAxis$1({position:AxisPosition$1.Left})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimumPadding:0})),$e},bindingToItemsSourceListT=()=>{const $e=new PlotModel({title:"Binding to ItemsSource",subtitle:"The items are defined by a List of BarItem/ColumnItem"});return $e.series.push(new BarSeries$1({title:"Series 1",itemsSource:[new BarItem$1({value:25}),new BarItem$1({value:137})]})),$e.series.push(new BarSeries$1({title:"Series 2",itemsSource:[new BarItem$1({value:52}),new BarItem$1({value:317})]})),$e.axes.push(new CategoryAxis$1({position:AxisPosition$1.Left})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimumPadding:0})),$e},bindingToItemsSourceReflection=()=>{const $e=new PlotModel({title:"Binding to ItemsSource",subtitle:"Reflect by 'ValueField'"});return $e.series.push(new BarSeries$1({title:"Series 1",valueField:"value1",itemsSource:[{value1:25},{value1:137}]})),$e.series.push(new BarSeries$1({title:"Series 2",valueField:"value1",itemsSource:[{value1:52},{value1:317}]})),$e.axes.push(new CategoryAxis$1({position:AxisPosition$1.Left})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimumPadding:0})),$e},definedByItems=()=>{const $e=new PlotModel({title:"Defined by Items",subtitle:"The items are added to the `Items` property."}),e=new BarSeries$1({title:"Series 1"});e.items.push(new BarItem$1({value:25}),new BarItem$1({value:137}));const t=new BarSeries$1({title:"Series 2"});return t.items.push(new BarItem$1({value:52}),new BarItem$1({value:317})),$e.series.push(e,t),$e.axes.push(new CategoryAxis$1({position:AxisPosition$1.Left})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimumPadding:0})),$e};function emptyCategoryAxis(){const $e=new PlotModel({title:"Empty category axis"}),e=new BarSeries$1({title:"Series 1"});e.items.push(new BarItem$1({value:25})),e.items.push(new BarItem$1({value:137})),e.items.push(new BarItem$1({value:18})),e.items.push(new BarItem$1({value:40}));const t=new BarSeries$1({title:"Series 2"});t.items.push(new BarItem$1({value:-12})),t.items.push(new BarItem$1({value:-14})),t.items.push(new BarItem$1({value:-120})),t.items.push(new BarItem$1({value:-26}));const r=new CategoryAxis$1({position:AxisPosition$1.Left}),Ve=new LinearAxis$1({position:AxisPosition$1.Bottom,minimumPadding:.06,maximumPadding:.06,extraGridlines:[0],extraGridlineStyle:LineStyle$1.Solid,extraGridlineColor:OxyColors$1.Black,extraGridlineThickness:1});return $e.series.push(e,t),$e.axes.push(r,Ve),$e}function withNegativeValue(){return createModelWithNegativeValues(!1,"With negative values")}function stackedWithNegativeValue(){return createModelWithNegativeValues(!0,"Stacked with negative values")}function mixedWithLineSeries(){const $e=createSimpleModel(!1,"Mixed with LineSeries");$e.title="Mixed with LineSeries";const e=new LineSeries({title:"LineSeries 1"});return e.points.push(newDataPoint$1(25,0)),e.points.push(newDataPoint$1(137,1)),e.points.push(newDataPoint$1(18,2)),e.points.push(newDataPoint$1(40,3)),$e.series.push(e),$e}function noAxes(){const $e=createSimpleModel(!1,"No axes defined");return $e.axes.length=0,$e}function stackedNoAxes(){const $e=createSimpleModel(!0,"Stacked and no axes defined");return $e.axes.length=0,$e}function logAxisBaseValue(){const $e=new PlotModel({title:"Logarithmic axis"}),e=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Horizontal,legendBorderThickness:0});$e.legends.push(e);const t=new BarSeries$1({title:"Series 1",baseValue:.1,strokeColor:OxyColors$1.Black,strokeThickness:1});t.items.push(new BarItem$1({value:25})),t.items.push(new BarItem$1({value:37})),t.items.push(new BarItem$1({value:18})),t.items.push(new BarItem$1({value:40}));const r=new CategoryAxis$1({position:AxisPosition$1.Left});return r.labels.push("Category A","Category B","Category C","Category D"),$e.series.push(t),$e.axes.push(r),$e.axes.push(new LogarithmicAxis({position:AxisPosition$1.Bottom,minimum:.1,minimumPadding:0,absoluteMinimum:0})),$e}function logAxisBaseLine(){const $e=new PlotModel({title:"Logarithmic axis"}),e=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Horizontal,legendBorderThickness:0});$e.legends.push(e);const t=new BarSeries$1({title:"Series 1",baseLine:.1,strokeColor:OxyColors$1.Black,strokeThickness:1});t.items.push(new BarItem$1({value:25})),t.items.push(new BarItem$1({value:37})),t.items.push(new BarItem$1({value:18})),t.items.push(new BarItem$1({value:40}));const r=new CategoryAxis$1({position:AxisPosition$1.Left});return r.labels.push("Category A","Category B","Category C","Category D"),$e.series.push(t),$e.axes.push(r),$e.axes.push(new LogarithmicAxis({position:AxisPosition$1.Bottom,minimumPadding:0,absoluteMinimum:0})),$e}function logAxisNotStacked(){const $e=new PlotModel({title:"Logarithmic axis"}),e=new Legend({legendPlacement:LegendPlacement.Outside});$e.legends.push(e);const t=[{label:"Apples",value1:37,value2:12,value3:19},{label:"Pears",value1:7,value2:21,value3:9},{label:"Bananas",value1:23,value2:2,value3:29}];return $e.series.push(new BarSeries$1({title:"2009",itemsSource:t,valueField:"value1"})),$e.series.push(new BarSeries$1({title:"2010",itemsSource:t,valueField:"value2"})),$e.series.push(new BarSeries$1({title:"2011",itemsSource:t,valueField:"value3"})),$e.axes.push(new CategoryAxis$1({position:AxisPosition$1.Left,itemsSource:t,labelField:"label"})),$e.axes.push(new LogarithmicAxis({position:AxisPosition$1.Bottom,minimum:1})),$e}function logAxisStacked(){const $e=logAxisNotStacked();for(const e of $e.series)e instanceof BarSeries$1&&(e.isStacked=!0);return $e}function histogram3(){return createHistogram(1e5,5)}function histogram20(){return createHistogram(1e5,20)}function histogram200(){return createHistogram(1e5,200)}function histogramStandardNormalDistribution(){return createNormalDistributionHistogram(1e5,2e3)}function differentColors(){const $e=new PlotModel({title:"Different colors within the same series"}),e=new BarSeries$1({title:"Series 1"});e.items.push(new BarItem$1({value:1,color:OxyColors$1.Red})),e.items.push(new BarItem$1({value:2,color:OxyColors$1.Green})),e.items.push(new BarItem$1({value:1,color:OxyColors$1.Blue}));const t=new CategoryAxis$1({title:"Category",position:AxisPosition$1.Left});return t.labels.push("A","B","C"),$e.axes.push(t),$e.series.push(e),$e}function stackingGroups(){const $e=new PlotModel({title:"Stacking groups"}),e=new BarSeries$1({title:"Series 1",stackGroup:"1",isStacked:!0});e.items.push(new BarItem$1({value:1})),e.items.push(new BarItem$1({value:2})),$e.series.push(e);const t=new BarSeries$1({title:"Series 2",stackGroup:"2",isStacked:!0});t.items.push(new BarItem$1({value:2})),t.items.push(new BarItem$1({value:1})),$e.series.push(t);const r=new BarSeries$1({title:"Series 3",stackGroup:"1",isStacked:!0});r.items.push(new BarItem$1({value:3})),r.items.push(new BarItem$1({value:1})),$e.series.push(r);const Ve=new CategoryAxis$1({title:"Category",position:AxisPosition$1.Left});return Ve.labels.push("A","B"),$e.axes.push(Ve),$e}function differentWidths(){const $e=new PlotModel({title:"Different widths",subtitle:"Series1=0.6 and Series2=0.3"}),e=new BarSeries$1({title:"Series 1",barWidth:.6});e.items.push(new BarItem$1({value:1})),e.items.push(new BarItem$1({value:2})),$e.series.push(e);const t=new BarSeries$1({title:"Series 2",barWidth:.3});t.items.push(new BarItem$1({value:3})),t.items.push(new BarItem$1({value:1})),$e.series.push(t);const r=new CategoryAxis$1({title:"Category",position:AxisPosition$1.Left});return r.labels.push("A","B"),$e.axes.push(r),$e}function differentWidthsStacked(){const $e=new PlotModel({title:"Different widths (stacked)"}),e=new BarSeries$1({title:"Series 1",isStacked:!0,barWidth:.6});e.items.push(new BarItem$1({value:1})),e.items.push(new BarItem$1({value:2})),$e.series.push(e);const t=new BarSeries$1({title:"Series 2",isStacked:!0,barWidth:.3});t.items.push(new BarItem$1({value:3})),t.items.push(new BarItem$1({value:1})),$e.series.push(t);const r=new CategoryAxis$1({title:"Category",position:AxisPosition$1.Left});return r.labels.push("A","B"),$e.axes.push(r),$e}function invalidValues(){const $e=new PlotModel({title:"Invalid values",subtitle:"Series 1 contains a NaN value for category B."}),e=new BarSeries$1({title:"Series 1"});e.items.push(new BarItem$1({value:1})),e.items.push(new BarItem$1({value:NaN})),$e.series.push(e);const t=new BarSeries$1({title:"Series 2"});t.items.push(new BarItem$1({value:3})),t.items.push(new BarItem$1({value:1})),$e.series.push(t);const r=new CategoryAxis$1({title:"Category",position:AxisPosition$1.Left});return r.labels.push("A","B"),$e.axes.push(r),$e}function missingValues(){const $e=new PlotModel({title:"Missing values",subtitle:"Series 1 contains only one item with CategoryIndex = 1"}),e=new BarSeries$1({title:"Series 1"});e.items.push(new BarItem$1({value:1,categoryIndex:1})),$e.series.push(e);const t=new BarSeries$1({title:"Series 2"});t.items.push(new BarItem$1({value:3})),t.items.push(new BarItem$1({value:1.2})),$e.series.push(t);const r=new CategoryAxis$1({title:"Category",position:AxisPosition$1.Left});return r.labels.push("A","B"),$e.axes.push(r),$e}function categoryIndex(){const $e=new PlotModel({title:"CategoryIndex",subtitle:"Setting CategoryIndex = 0 for both items in the series."}),e=new BarSeries$1({title:"Series 1",strokeThickness:1});e.items.push(new BarItem$1({value:1,categoryIndex:0})),e.items.push(new BarItem$1({value:2,categoryIndex:0})),$e.series.push(e);const t=new CategoryAxis$1({title:"Category",position:AxisPosition$1.Left});return t.labels.push("A","B"),$e.axes.push(t),$e}function categoryIndexStacked(){const $e=new PlotModel({title:"CategoryIndex (stacked)",subtitle:"Setting CategoryIndex = 0 for both items in the series."}),e=new BarSeries$1({title:"Series 1",isStacked:!0,strokeThickness:1});e.items.push(new BarItem$1({value:1,categoryIndex:0})),e.items.push(new BarItem$1({value:2,categoryIndex:0})),$e.series.push(e);const t=new CategoryAxis$1({title:"Category",position:AxisPosition$1.Left});return t.labels.push("A","B"),$e.axes.push(t),$e}function baseValue(){const $e=new PlotModel({title:"BaseValue",subtitle:"BaseValue = -1"}),e=new BarSeries$1({title:"Series 1",baseValue:-1});e.items.push(new BarItem$1({value:1})),e.items.push(new BarItem$1({value:2})),$e.series.push(e);const t=new BarSeries$1({title:"Series 2",baseValue:-1});t.items.push(new BarItem$1({value:4})),t.items.push(new BarItem$1({value:7})),$e.series.push(t);const r=new CategoryAxis$1({title:"Category",position:AxisPosition$1.Left});return r.labels.push("A","B"),$e.axes.push(r),$e}function baseValueStacked(){const $e=new PlotModel({title:"BaseValue (stacked)",subtitle:"BaseValue = -1"}),e=new BarSeries$1({title:"Series 1",isStacked:!0,baseValue:-1});e.items.push(new BarItem$1({value:1})),e.items.push(new BarItem$1({value:2})),$e.series.push(e);const t=new BarSeries$1({title:"Series 2",isStacked:!0,baseValue:-1});t.items.push(new BarItem$1({value:4})),t.items.push(new BarItem$1({value:7})),$e.series.push(t);const r=new CategoryAxis$1({title:"Category",position:AxisPosition$1.Left});return r.labels.push("A","B"),$e.axes.push(r),$e}function baseValueOverlaping(){const $e=new PlotModel({title:"BaseValue (overlaping)",subtitle:"BaseValue = -1"}),e=new BarSeries$1({title:"Series 1",isStacked:!0,overlapsStack:!0,baseValue:-1});e.items.push(new BarItem$1({value:1})),e.items.push(new BarItem$1({value:2})),$e.series.push(e);const t=new BarSeries$1({title:"Series 2",isStacked:!0,overlapsStack:!0,baseValue:-1,barWidth:.5});t.items.push(new BarItem$1({value:4})),t.items.push(new BarItem$1({value:7})),$e.series.push(t);const r=new CategoryAxis$1({title:"Category",position:AxisPosition$1.Left});return r.labels.push("A","B"),$e.axes.push(r),$e}function baseValueLabels(){const $e=new PlotModel({title:"BaseValue with Labels"});for(const t of getEnumKeys(LabelPlacement$1)){const r=new BarSeries$1({title:t.toString(),baseValue:-25,labelPlacement:t,labelStringFormatter:BarSeriesLabelStringFormatter});r.items.push(new BarItem$1({value:-40})),r.items.push(new BarItem$1({value:-25})),r.items.push(new BarItem$1({value:-10})),r.items.push(new BarItem$1({value:0})),r.items.push(new BarItem$1({value:10})),$e.series.push(r)}const e=new CategoryAxis$1({title:"Category",position:AxisPosition$1.Left,startPosition:1,endPosition:0});return e.labels.push("A","B","C","D","E"),$e.axes.push(e),$e.legends.push(new Legend),$e}function stackedLabels(){const $e=new PlotModel({title:"Stacked with Labels"});let e=0;for(const t of getEnumKeys(LabelPlacement$1)){const r=new CategoryAxis$1({title:"Category",position:AxisPosition$1.Left,startPosition:1-e*.25,endPosition:.75-e*.25,key:`C${e}`}),Ve=new BarSeries$1({title:t.toString(),labelPlacement:t,labelStringFormatter:BarSeriesLabelStringFormatter,isStacked:!0,yAxisKey:r.key});Ve.items.push(new BarItem$1({value:5})),Ve.items.push(new BarItem$1({value:10})),Ve.items.push(new BarItem$1({value:15})),$e.series.push(Ve);const je=new BarSeries$1({title:t.toString(),labelPlacement:t,labelStringFormatter:BarSeriesLabelStringFormatter,isStacked:!0,yAxisKey:r.key});je.items.push(new BarItem$1({value:15})),je.items.push(new BarItem$1({value:10})),je.items.push(new BarItem$1({value:5})),$e.series.push(je),r.labels.push("A","B","C"),$e.axes.push(r),e++}return $e.legends.push(new Legend),$e}function gapWidth0(){return createGapWidthModel(0,"GapWidth 0%")}function gapWidth100(){return createGapWidthModel(1,"GapWidth 100% (default)")}function gapWidth200(){return createGapWidthModel(2,"GapWidth 200%")}function allInOne(){const $e=new PlotModel({title:"All in one"}),e=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Horizontal,legendBorderThickness:0});$e.legends.push(e);const t=new CategoryAxis$1({position:AxisPosition$1.Left,gapWidth:.01});t.labels.push("Category A","Category B","Category C","Category D"),$e.axes.push(t);const r=new LinearAxis$1({position:AxisPosition$1.Bottom,minimumPadding:.06,maximumPadding:.06,extraGridlines:[0],extraGridlineStyle:LineStyle$1.Solid,extraGridlineColor:OxyColors$1.Black,extraGridlineThickness:1});$e.axes.push(r);const Ve=0,je=1,ze=2,Xe=3,We=new BarSeries$1({title:"Series 1",isStacked:!0,strokeColor:OxyColors$1.Black,strokeThickness:1,stackGroup:"3"});We.items.push(new BarItem$1({value:25}),new BarItem$1({value:137}),new BarItem$1({value:18}),new BarItem$1({value:40})),$e.series.push(We);const qe=new BarSeries$1({title:"Series 2",isStacked:!0,strokeColor:OxyColors$1.Black,strokeThickness:1,stackGroup:"3"});qe.items.push(new BarItem$1({value:-12}),new BarItem$1({value:-14}),new BarItem$1({value:-120}),new BarItem$1({value:-26})),$e.series.push(qe);const Ke=new BarSeries$1({title:"Series 3",isStacked:!0,strokeColor:OxyColors$1.Black,strokeThickness:1,stackGroup:"5",isVisible:!1});Ke.items.push(new BarItem$1({value:21}),new BarItem$1({value:8}),new BarItem$1({value:48}),new BarItem$1({value:3})),$e.series.push(Ke);const Ze=new BarSeries$1({title:"Series 4",isStacked:!0,strokeColor:OxyColors$1.Black,strokeThickness:1,stackGroup:"5",labelStringFormatter:BarSeriesLabelStringFormatter,labelPlacement:LabelPlacement$1.Middle});Ze.items.push(new BarItem$1({value:-8,categoryIndex:Ve}),new BarItem$1({value:-8,categoryIndex:Ve}),new BarItem$1({value:-8,categoryIndex:Ve}),new BarItem$1({value:-21,categoryIndex:je}),new BarItem$1({value:-3,categoryIndex:ze}),new BarItem$1({value:-48,categoryIndex:Xe}),new BarItem$1({value:8,categoryIndex:Ve}),new BarItem$1({value:21,categoryIndex:je}),new BarItem$1({value:3,categoryIndex:ze}),new BarItem$1({value:48,categoryIndex:Xe})),$e.series.push(Ze);const Je=new BarSeries$1({title:"Series 5",isStacked:!1,strokeColor:OxyColors$1.Black,strokeThickness:1});Je.items.push(new BarItem$1({value:17,categoryIndex:Ve}),new BarItem$1({value:179,categoryIndex:je}),new BarItem$1({value:45,categoryIndex:ze}),new BarItem$1({value:65,categoryIndex:Xe}),new BarItem$1({value:97,categoryIndex:Ve}),new BarItem$1({value:21,categoryIndex:Xe})),$e.series.push(Je);const Qe=new BarSeries$1({title:"Series 6",isStacked:!1,strokeColor:OxyColors$1.Black,strokeThickness:1,labelStringFormatter:BarSeriesLabelStringFormatter,labelPlacement:LabelPlacement$1.Base});Qe.items.push(new BarItem$1({value:7}),new BarItem$1({value:54}),new BarItem$1({value:68}),new BarItem$1({value:12})),$e.series.push(Qe);const ti=new BarSeries$1({title:"Series 7",isStacked:!0,overlapsStack:!0,strokeColor:OxyColors$1.Black,strokeThickness:1,labelStringFormatter:BarSeriesLabelStringFormatter,labelPlacement:LabelPlacement$1.Base,stackGroup:"3",barWidth:.5});return ti.items.push(new BarItem$1({value:10}),new BarItem$1({value:80}),new BarItem$1({value:100,categoryIndex:Xe})),$e.series.push(ti),$e}const BarSeriesLabelStringFormatter=$e=>$e.value.toString();function createGapWidthModel($e,e){const t=createSimpleModel(!1,e);return t.axes[0].gapWidth=$e,t}function createSimpleModel($e,e){const t=new PlotModel({title:e}),r=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Horizontal,legendBorderThickness:0});t.legends.push(r);const Ve=new BarSeries$1({title:"Series 1",isStacked:$e,strokeColor:OxyColors$1.Black,strokeThickness:1});Ve.items.push(BarItem$1.fromValue(25)),Ve.items.push(BarItem$1.fromValue(137)),Ve.items.push(BarItem$1.fromValue(18)),Ve.items.push(BarItem$1.fromValue(40));const je=new BarSeries$1({title:"Series 2",isStacked:$e,strokeColor:OxyColors$1.Black,strokeThickness:1});je.items.push(BarItem$1.fromValue(12)),je.items.push(BarItem$1.fromValue(14)),je.items.push(BarItem$1.fromValue(120)),je.items.push(BarItem$1.fromValue(26));const ze=new CategoryAxis$1({position:AxisPosition$1.Left});ze.labels.push("Category A","Category B","Category C","Category D");const Xe=new LinearAxis$1({position:AxisPosition$1.Bottom,minimumPadding:0,maximumPadding:.06,absoluteMinimum:0});return t.series.push(Ve,je),t.axes.push(ze,Xe),t}function createModelWithNegativeValues($e,e){const t=new PlotModel({title:e}),r=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Horizontal,legendBorderThickness:0});t.legends.push(r);const Ve=new BarSeries$1({title:"Series 1",isStacked:$e,strokeColor:OxyColors$1.Black,strokeThickness:1});Ve.items.push(BarItem$1.fromValue(25)),Ve.items.push(BarItem$1.fromValue(137)),Ve.items.push(BarItem$1.fromValue(18)),Ve.items.push(BarItem$1.fromValue(40));const je=new BarSeries$1({title:"Series 2",isStacked:$e,strokeColor:OxyColors$1.Black,strokeThickness:1});je.items.push(BarItem$1.fromValue(-12)),je.items.push(BarItem$1.fromValue(-14)),je.items.push(BarItem$1.fromValue(-120)),je.items.push(BarItem$1.fromValue(-26));const ze=new BarSeries$1({title:"Series 3",isStacked:$e,strokeColor:OxyColors$1.Black,strokeThickness:1});ze.items.push(BarItem$1.fromValue(21)),ze.items.push(BarItem$1.fromValue(8)),ze.items.push(BarItem$1.fromValue(48)),ze.items.push(BarItem$1.fromValue(3));const Xe=new BarSeries$1({title:"Series 4",isStacked:$e,strokeColor:OxyColors$1.Black,strokeThickness:1});Xe.items.push(BarItem$1.fromValue(-8)),Xe.items.push(BarItem$1.fromValue(-21)),Xe.items.push(BarItem$1.fromValue(-3)),Xe.items.push(BarItem$1.fromValue(-48));const We=new CategoryAxis$1({position:AxisPosition$1.Left});We.labels.push("Category A","Category B","Category C","Category D");const qe=new LinearAxis$1({position:AxisPosition$1.Bottom,minimumPadding:.06,maximumPadding:.06,extraGridlines:[0],extraGridlineStyle:LineStyle$1.Solid,extraGridlineColor:OxyColors$1.Black,extraGridlineThickness:1});return t.series.push(Ve,je,ze,Xe),t.axes.push(We,qe),t}function createHistogram($e,e){const t=[];for(let ze=0;ze<e;ze++)t.push({label:ze.toString(),value:0});const r=new Random;for(let ze=0;ze<$e;ze++){const Xe=r.next(0,e-1);t[Xe].value++}const Ve=new PlotModel;Ve.title=`Histogram (bins=${e}, n=${$e})`,Ve.subtitle="Pseudorandom numbers";const je=new BarSeries$1;return je.itemsSource=t,je.valueField="value",e<100&&(je.labelStringFormatter=(ze,Xe)=>Xe[0].toString()),Ve.series.push(je),Ve.axes.push(new CategoryAxis$1({position:AxisPosition$1.Left,itemsSource:t,labelField:"label",gapWidth:0})),Ve.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimumPadding:0,maximumPadding:.1,absoluteMinimum:0})),Ve}function createNormalDistributionHistogram($e,e){const t=[];for(let qe=0;qe<e;qe++){const Ke=-10+20*qe/(t.length-1);t.push({label:Ke.toFixed(1),value:0})}const je=new Random(31);for(let qe=0;qe<$e;qe++){const Ke=je.next(),Ze=je.next(),Je=Math.sqrt(-2*Math.log(Ke))*Math.cos(2*Math.PI*Ze),Qe=Math.round((Je- -10)/20*(t.length-1));Qe>=0&&Qe<t.length&&t[Qe].value++}const ze=new PlotModel;ze.title=`Histogram (bins=${e}, n=${$e})`,ze.subtitle="Standard normal distribution by Box-Muller transform";const Xe=new BarSeries$1;Xe.itemsSource=t,Xe.valueField="value",ze.series.push(Xe);const We=new CategoryAxis$1({position:AxisPosition$1.Left,gapWidth:0});return We.labels.push(...t.map(qe=>qe.label)),We.isAxisVisible=!1,ze.axes.push(We),ze.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:-10,maximum:10})),ze.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimumPadding:0,absoluteMinimum:0})),ze}const category$m="BarSeries",BarSeriesExamples={category:category$m,tags:["Series"],examples:[{title:"With labels",example:{model:withLabels}},{title:"With labels (at an angle)",example:{model:withLabelsAtAnAngle}},{title:"Stacked",example:{model:stackedSeries}},{title:"Multiple Value Axes",example:{model:multipleValueAxes}},{title:"Stacked, Multiple Value Axes",example:{model:stackedMultipleValueAxes}},{title:"Multiple Category Axes",example:{model:multipleCategoryAxes}},{title:"Stacked, Multiple Category Axes",example:{model:stackedMultipleCategoryAxes}},{title:"Empty series",example:{model:emptySeries}},{title:"No category axis defined",example:{model:noCategoryAxisDefined}},{title:"Binding to ItemsSource",example:{model:bindingItemsSource}},{title:"Binding to ItemsSource (array)",example:{model:bindingToItemsSourceArray}},{title:"Binding to ItemsSource (list)",example:{model:bindingToItemsSourceListT}},{title:"Binding to ItemsSource (reflection)",example:{model:bindingToItemsSourceReflection}},{title:"Defined by Items",example:{model:definedByItems}},{title:"Empty category axis",example:{model:emptyCategoryAxis}},{title:"With negative values",example:{model:withNegativeValue}},{title:"Stacked with negative values",example:{model:stackedWithNegativeValue}},{title:"Mixed with LineSeries",example:{model:mixedWithLineSeries}},{title:"No axes defined",example:{model:noAxes}},{title:"Stacked and no axes defined",example:{model:stackedNoAxes}},{title:"Logarithmic axis (Base Value)",example:{model:logAxisBaseValue}},{title:"Logarithmic axis (Base Line)",example:{model:logAxisBaseLine}},{title:"Logarithmic axis (not stacked)",example:{model:logAxisNotStacked}},{title:"Logarithmic axis (stacked series)",example:{model:logAxisStacked}},{title:"Histogram (bins=5)",example:{model:histogram3}},{title:"Histogram (bins=20)",example:{model:histogram20}},{title:"Histogram (bins=200)",example:{model:histogram200}},{title:"Histogram (standard normal distribution)",example:{model:histogramStandardNormalDistribution}},{title:"Different colors within the same series",example:{model:differentColors}},{title:"Different stacking groups",example:{model:stackingGroups}},{title:"Different widths",example:{model:differentWidths}},{title:"Different widths (stacked)",example:{model:differentWidthsStacked}},{title:"Invalid values",example:{model:invalidValues}},{title:"Missing values",example:{model:missingValues}},{title:"CategoryIndex",example:{model:categoryIndex}},{title:"CategoryIndex (stacked)",example:{model:categoryIndexStacked}},{title:"BaseValue",example:{model:baseValue}},{title:"BaseValue (stacked)",example:{model:baseValueStacked}},{title:"BaseValue (overlaping)",example:{model:baseValueOverlaping}},{title:"BaseValue (labels)",example:{model:baseValueLabels}},{title:"Stacked (labels)",example:{model:stackedLabels}},{title:"GapWidth 0%",example:{model:gapWidth0}},{title:"GapWidth 100% (default)",example:{model:gapWidth100}},{title:"GapWidth 200%",example:{model:gapWidth200}},{title:"All in one",example:{model:allInOne}}]};function boxPlot(){const e=new PlotModel({title:"BoxPlot (n=10)"}),t=new Legend({legendPlacement:LegendPlacement.Outside});e.legends.push(t);const r=new BoxPlotSeries({title:"BoxPlotSeries",boxWidth:.3}),Ve=new Random(31);for(let je=0;je<10;je++){const ze=je,Xe=5+Ve.next(15),We=[];for(let St=0;St<Xe;St++)We.push(Ve.next(0,20));We.sort();const qe=getMedian(We),Ke=We.reduce((St,oi)=>St+oi,0)/We.length,Ze=We.length%2,Je=getMedian(We.slice(0,(We.length+Ze)/2)),Qe=getMedian(We.slice((We.length-Ze)/2)),ni=(Qe-Je)*1.5;let ri=Qe+ni;ri=maxValueOfArray$1(We.filter(St=>St<=ri));let ii=Je-ni;ii=minValueOfArray$1(We.filter(St=>St>=ii));const ei=[ri+Ve.next(1,10),ii-Ve.next(1,10)];r.items.push({x:ze,lowerWhisker:ii,boxBottom:Je,median:qe,boxTop:Qe,upperWhisker:ri,mean:Ke,outliers:ei})}return e.series.push(r),e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left})),e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimumPadding:.1,maximumPadding:.1})),e}function getMedian($e){const e=[...$e].sort((r,Ve)=>r-Ve),t=e.length;return t%2===1?e[(t-1)/2]:.5*e[t/2]+.5*e[t/2-1]}function boxPlot2(){const $e=boxPlot(),e=$e.series[0];return e.showMedianAsDot=!0,e.outlierType=MarkerType$1.Cross,e.fill=OxyColors$1.Black,e.showBox=!1,e.whiskerWidth=0,$e}function boxPlot3(){const $e=boxPlot(),e=$e.series[0];return e.lineStyle=LineStyle$1.Dash,$e}function outlierTypeCross(){const $e=boxPlot(),e=$e.series[0];return e.outlierType=MarkerType$1.Cross,$e}function outlierTypeCustom(){const $e=boxPlot(),e=$e.series[0];return e.outlierType=MarkerType$1.Custom,e.outlierOutline=[newScreenPoint$1(-1,-1),newScreenPoint$1(1,1),newScreenPoint$1(-1,1),newScreenPoint$1(1,-1)],$e}function michelsonMorleyExperiment(){const $e=new PlotModel,e=new BoxPlotSeries({title:"Results",stroke:OxyColors$1.Black,strokeThickness:1,outlierSize:2,boxWidth:.4,items:[]});e.items.push({x:0,lowerWhisker:740,boxBottom:850,median:945,boxTop:980,upperWhisker:1070,outliers:[650]}),e.items.push({x:1,lowerWhisker:750,boxBottom:805,median:845,boxTop:890,upperWhisker:970,outliers:[]}),e.items.push({x:2,lowerWhisker:845,boxBottom:847,median:855,boxTop:880,upperWhisker:910,outliers:[640,950,970]}),e.items.push({x:3,lowerWhisker:720,boxBottom:760,median:820,boxTop:870,upperWhisker:910,outliers:[]}),e.items.push({x:4,lowerWhisker:730,boxBottom:805,median:807,boxTop:870,upperWhisker:950,outliers:[]}),$e.series.push(e),$e.annotations.push(new LineAnnotation({type:LineAnnotationType.Horizontal,lineStyle:LineStyle$1.Solid,y:792.458,text:"true speed"}));const t=new CategoryAxis$1({title:"Experiment No."});return t.labels.push("1","2","3","4","5"),$e.axes.push(t),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,title:"Speed of light (km/s minus 299,000)",majorStep:100,minorStep:100})),$e}function boxPlotSeries_DateTimeAxis(){const $e=getDateService$1(),e=new PlotModel,t=DateTimeAxis.toDouble(new Date(2013,5,4));e.axes.push(new DateTimeAxis({position:AxisPosition$1.Bottom,minimum:t-.9,maximum:t+1.9,intervalType:DateTimeIntervalType$1.Days,majorStep:1,minorStep:1,stringFormatter:Ve=>$e.format(Ve,"YYYY-MM-DD")}));const r=new BoxPlotSeries({trackerStringFormatter:Ve=>`X: ${$e.format(Ve.xValue,"YYYY-MM-DD")}
Upper Whisker: ${Ve.upperWhisker.toFixed(2)}
Third Quartil: ${Ve.boxTop.toFixed(2)}
Median: ${Ve.median.toFixed(2)}
First Quartil: ${Ve.boxBottom.toFixed(2)}
Lower Whisker: ${Ve.lowerWhisker.toFixed(2)}
Mean: ${Ve.mean.toFixed(2)}`,items:[]});return r.items.push({x:t,lowerWhisker:10,boxBottom:14,median:16,boxTop:20,upperWhisker:22,mean:17,outliers:[23.5]}),r.items.push({x:t+1,lowerWhisker:11,boxBottom:13,median:14,boxTop:15,upperWhisker:18,outliers:[23.4]}),e.series.push(r),e}const category$l="BoxPlotSeries",BoxPlotSeriesExamples={category:category$l,tags:["Series"],examples:[{title:"BoxPlot",example:{model:boxPlot}},{title:"BoxPlot (minimal data/ink ratio)",example:{model:boxPlot2}},{title:"BoxPlot (dashed line)",example:{model:boxPlot3}},{title:"Outlier type = Cross",example:{model:outlierTypeCross}},{title:"Outlier type = Custom",example:{model:outlierTypeCustom}},{title:"Michelson-Morley experiment",example:{model:michelsonMorleyExperiment}},{title:"BoxPlot (DateTime axis)",example:{model:boxPlotSeries_DateTimeAxis}}]},peaks=($e,e)=>3*(1-$e)*(1-$e)*Math.exp(-($e*$e)-(e+1)*(e+1))-10*($e/5-$e*$e*$e-e*e*e*e*e)*Math.exp(-$e*$e-e*e)-1/3*Math.exp(-($e+1)*($e+1)-e*e),openContours=($e,e)=>$e*$e/(e*e+1)+e*e/($e*$e+1),createVector=($e,e,t)=>ArrayBuilder$1.createVectorWithStep($e,e,t);function peaksModel(){const $e=new PlotModel({title:"Peaks"}),e=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3.1,3.1,.05)});return e.data=ArrayBuilder$1.evaluate(peaks,e.columnCoordinates,e.rowCoordinates),$e.subtitle=`${e.data.length}${e.data[0].length}`,$e.series.push(e),$e}function peaksLabelStep1LevelStepPI2(){const $e=new PlotModel({title:"Peaks LabelStep = 1, ContourLevelStep = PI/2"}),e=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3.1,3.1,.05),contourLevelStep:Math.PI/2,labelStep:1});return e.data=ArrayBuilder$1.evaluate(peaks,e.columnCoordinates,e.rowCoordinates),$e.subtitle=`${e.data.length}${e.data[0].length}`,$e.series.push(e),$e}function peaksLabelStep2(){const $e=new PlotModel({title:"Peaks LabelStep = 2, ContourLevelStep = 0.5"}),e=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3.1,3.1,.05),contourLevelStep:.5,labelStep:2});return e.data=ArrayBuilder$1.evaluate(peaks,e.columnCoordinates,e.rowCoordinates),$e.subtitle=`${e.data.length}${e.data[0].length}`,$e.series.push(e),$e}function peaksLabelStep2LevelStep033(){const $e=new PlotModel({title:"Peaks LabelStep = 2, ContourLevelStep = 0.33"}),e=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3.1,3.1,.05),contourLevelStep:.33,labelStep:2});return e.data=ArrayBuilder$1.evaluate(peaks,e.columnCoordinates,e.rowCoordinates),$e.subtitle=`${e.data.length}${e.data[0].length}`,$e.series.push(e),$e}function peaksLabelStep3(){const $e=new PlotModel({title:"Peaks LabelStep = 3, ContourLevelStep = 1"}),e=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3.1,3.1,.05),labelStep:3});return e.data=ArrayBuilder$1.evaluate(peaks,e.columnCoordinates,e.rowCoordinates),$e.subtitle=`${e.data.length}${e.data[0].length}`,$e.series.push(e),$e}function peaksMultiLabel(){const $e=new PlotModel({title:"Peaks MultiLabel"}),e=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3.1,3.1,.05),multiLabel:!0});return e.data=ArrayBuilder$1.evaluate(peaks,e.columnCoordinates,e.rowCoordinates),$e.subtitle=`${e.data.length}${e.data[0].length}`,$e.series.push(e),$e}function peaksLabelSpacing400(){const $e=new PlotModel({title:"Peaks LabelSpacing = 400"}),e=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3.1,3.1,.05),multiLabel:!0,labelSpacing:400});return e.data=ArrayBuilder$1.evaluate(peaks,e.columnCoordinates,e.rowCoordinates),$e.subtitle=`${e.data.length}${e.data[0].length}`,$e.series.push(e),$e}function peaksWithColors(){const $e=new PlotModel({title:"Peaks"}),e=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3.1,3.1,.05),contourColors:[OxyColors$1.SeaGreen,OxyColors$1.RoyalBlue,OxyColors$1.IndianRed]});return e.data=ArrayBuilder$1.evaluate(peaks,e.columnCoordinates,e.rowCoordinates),$e.subtitle=`${e.data.length}${e.data[0].length}`,$e.series.push(e),$e}function wideArrayPeaks(){const $e=new PlotModel({title:"Peaks"});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:-3.16262,maximum:3.162}));const e=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-1,1,.05)});return e.data=ArrayBuilder$1.evaluate(peaks,e.columnCoordinates,e.rowCoordinates),$e.subtitle=`${e.data.length}${e.data[0].length}`,$e.series.push(e),$e}function openContoursModel(){const $e=new PlotModel,e=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3,3,.05)});return e.data=ArrayBuilder$1.evaluate(openContours,e.columnCoordinates,e.rowCoordinates),$e.series.push(e),$e}function logPeaks(){const $e=(Ve,je)=>peaks(Math.log(Ve)/10,Math.log(je)/10),e=new PlotModel,t=createVector(-3,3,.05);for(let Ve=0;Ve<t.length;Ve++)t[Ve]=Math.exp(t[Ve]*10);const r=new ContourSeries({columnCoordinates:t,rowCoordinates:t});return r.data=ArrayBuilder$1.evaluate($e,r.columnCoordinates,r.rowCoordinates),e.series.push(r),e.axes.push(new LogarithmicAxis({position:AxisPosition$1.Bottom})),e.axes.push(new LogarithmicAxis({position:AxisPosition$1.Left})),e}const category$k="ContourSeries",ContourSeriesExamples={category:category$k,tags:["Series"],examples:[{title:"Peaks",example:{model:peaksModel}},{title:"Peaks LabelStep = 1, ContourLevelStep = PI/2",example:{model:peaksLabelStep1LevelStepPI2}},{title:"Peaks LabelStep = 2, ContourLevelStep = 0.5",example:{model:peaksLabelStep2}},{title:"Peaks LabelStep = 2, ContourLevelStep = 0.33",example:{model:peaksLabelStep2LevelStep033}},{title:"Peaks LabelStep = 3, ContourLevelStep = 1",example:{model:peaksLabelStep3}},{title:"Peaks MultiLabel",example:{model:peaksMultiLabel}},{title:"Peaks LabelSpacing = 400",example:{model:peaksLabelSpacing400}},{title:"Peaks (different contour colors)",example:{model:peaksWithColors}},{title:"Peaks (wide array)",example:{model:wideArrayPeaks}},{title:"Open Contours",example:{model:openContoursModel}},{title:"Logarithmic Peaks",example:{model:logPeaks}}]};function getErrorBarSeries(){const $e=new PlotModel({title:"ErrorBarSeries"}),e=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Horizontal,legendBorderThickness:0});$e.legends.push(e);const t=new ErrorBarSeries({title:"Series 1",isStacked:!1,strokeColor:OxyColors$1.Black,strokeThickness:1});t.items.push(new ErrorBarItem({value:25,error:2})),t.items.push(new ErrorBarItem({value:137,error:25})),t.items.push(new ErrorBarItem({value:18,error:4})),t.items.push(new ErrorBarItem({value:40,error:29}));const r=new ErrorBarSeries({title:"Series 2",isStacked:!1,strokeColor:OxyColors$1.Black,strokeThickness:1});r.items.push(new ErrorBarItem({value:35,error:20})),r.items.push(new ErrorBarItem({value:17,error:7})),r.items.push(new ErrorBarItem({value:118,error:44})),r.items.push(new ErrorBarItem({value:49,error:29}));const Ve=new CategoryAxis$1({position:AxisPosition$1.Left});Ve.labels.push("Category A"),Ve.labels.push("Category B"),Ve.labels.push("Category C"),Ve.labels.push("Category D");const je=new LinearAxis$1({position:AxisPosition$1.Bottom,minimumPadding:0,maximumPadding:.06,absoluteMinimum:0});return $e.series.push(t),$e.series.push(r),$e.axes.push(Ve),$e.axes.push(je),$e}function getErrorBarSeriesThickErrorLines(){const $e=getErrorBarSeries();for(const e of $e.series)e instanceof ErrorBarSeries&&(e.errorWidth=0,e.errorStrokeThickness=4);return $e}const category$j="ErrorBarSeries",ErrorBarSeriesExamples={category:category$j,tags:["Series"],examples:[{title:"ErrorBarSeries",example:{model:getErrorBarSeries}},{title:"ErrorBarSeries (thick error lines)",example:{model:getErrorBarSeriesThickErrorLines}}]};function extrapolatedLineSeries(){const $e=new PlotModel({title:"Line Fit"}),e=new ScatterSeries({title:"Data"});e.points.push({x:3,y:1.4}),e.points.push({x:4,y:1.3}),e.points.push({x:5,y:1.6}),e.points.push({x:6,y:2.3}),e.points.push({x:7,y:2.2}),e.points.push({x:8,y:2.5}),e.points.push({x:9,y:2.9}),e.points.push({x:10,y:3.1}),e.points.push({x:11,y:3.1}),e.points.push({x:12,y:3.8}),$e.series.push(e);const{slope:t,intercept:r}=calculateLinearRegressionParameters(e.points),Ve=new ExtrapolationLineSeries({title:"Fit",color:OxyColors$1.Black,lineStyle:LineStyle$1.Solid,extrapolationColor:OxyColors$1.DarkGray,extrapolationLineStyle:LineStyle$1.Dash,strokeThickness:3,ignoreExtraplotationForScaling:!0});Ve.intervals.push(new DataRange$1(Number.NEGATIVE_INFINITY,minValueOfArray$1(e.points.map(Xe=>Xe.x)))),Ve.intervals.push(new DataRange$1(maxValueOfArray$1(e.points.map(Xe=>Xe.x)),Number.POSITIVE_INFINITY));const je=Array.from({length:200},(Xe,We)=>We-100).map(Xe=>newDataPoint$1(Xe,t*Xe+r));Ve.points.push(...je),$e.series.push(Ve);const ze=new Legend({legendPosition:LegendPosition.BottomRight});return $e.legends.push(ze),$e}function interpolationStyleLineSeries(){const $e=new PlotModel({title:"Interpolation"}),e=new ExtrapolationLineSeries({title:"Third Order Polynomial",color:OxyColors$1.Black,lineStyle:LineStyle$1.Dash,extrapolationColor:OxyColors$1.Gray,extrapolationLineStyle:LineStyle$1.Dot,strokeThickness:3});e.intervals.push(new DataRange$1(Number.NEGATIVE_INFINITY,-15)),e.intervals.push(new DataRange$1(10,30)),e.intervals.push(new DataRange$1(55,Number.POSITIVE_INFINITY));const t=[.1,-6,-12,0],r=(ze,Xe)=>Xe.reduce((We,qe)=>We*ze+qe,0),Ve=Array.from({length:100},(ze,Xe)=>Xe-30).map(ze=>newDataPoint$1(ze,r(ze,t)));e.points.push(...Ve),$e.series.push(e);const je=new Legend({legendPosition:LegendPosition.TopCenter});return $e.legends.push(je),$e}function twoColorLineSeriesReversed$2(){return PlotModelUtilities$1.reverseYAxis(interpolationStyleLineSeries())}function intersectingIntervals(){const $e=new PlotModel({title:"Intersecting Intervals"}),e=new DataRange$1(-20,20),t=new DataRange$1(0,30),r=new DataRange$1(10,40),Ve=new ExtrapolationLineSeries({title:`Overlapping intervals ${e}, ${t}, ${r}`,color:OxyColors$1.Black,lineStyle:LineStyle$1.Solid,extrapolationColor:OxyColors$1.Gray,extrapolationLineStyle:LineStyle$1.Dot,strokeThickness:3});Ve.intervals.push(e,t,r);const je=[.1,-6,-12,0],ze=(qe,Ke)=>Ke.reduce((Ze,Je)=>Ze*qe+Je,0),Xe=Array.from({length:100},(qe,Ke)=>Ke-30).map(qe=>newDataPoint$1(qe,ze(qe,je)));Ve.points.push(...Xe),$e.series.push(Ve);const We=new Legend({legendPosition:LegendPosition.TopCenter});return $e.legends.push(We),$e}function customDashes(){const $e=new PlotModel({title:"Custom Dashes"}),e=new ExtrapolationLineSeries({title:"y = 5",color:OxyColors$1.Black,lineStyle:LineStyle$1.Dash,dashes:[5,1],extrapolationColor:OxyColors$1.Gray,extrapolationLineStyle:LineStyle$1.Dot,extrapolationDashes:[1,5],strokeThickness:3});e.intervals.push(new DataRange$1(Number.NEGATIVE_INFINITY,0));const t=Array.from({length:200},(Ve,je)=>je-100).map(Ve=>newDataPoint$1(Ve,5));e.points.push(...t),$e.series.push(e);const r=new Legend({legendPosition:LegendPosition.TopCenter});return $e.legends.push(r),$e}function manyIntervals(){const $e=new PlotModel({title:"ManyIntervals"}),e=new ExtrapolationLineSeries({title:"y = x",color:OxyColors$1.Red,lineStyle:LineStyle$1.Solid,extrapolationLineStyle:LineStyle$1.Solid,strokeThickness:3,ignoreExtraplotationForScaling:!0});e.intervals.push(new DataRange$1(-1e3,1e4)),Array.from({length:98},(je,ze)=>new DataRange$1(1e3*ze,1e3*ze+500)).forEach(je=>e.intervals.push(je)),e.intervals.push(new DataRange$1(2e5,Number.POSITIVE_INFINITY));const r=Array.from({length:1e5},(je,ze)=>newDataPoint$1(ze,ze));e.points.push(...r),$e.series.push(e);const Ve=new Legend({legendPosition:LegendPosition.TopCenter});return $e.legends.push(Ve),$e}function mooresLaw(){const $e=new PlotModel({title:"Moore's Law"}),e=new ScatterSeries({title:"Data"});e.points.push(...getPointForMooresLaw()),$e.series.push(e),$e.axes.push(new LinearAxis$1({title:"Year",position:AxisPosition$1.Bottom})),$e.axes.push(new LogarithmicAxis({title:"Transistors (in thousands)",position:AxisPosition$1.Left}));const{slope:t,intercept:r}=calculateLinearRegressionParameters(e.points.map(Xe=>({x:Xe.x,y:Math.log10(Xe.y)}))),Ve=new ExtrapolationLineSeries({title:"Fit and Extrapolation",color:OxyColors$1.Black,lineStyle:LineStyle$1.Solid,extrapolationColor:OxyColors$1.Blue,extrapolationLineStyle:LineStyle$1.Dot,strokeThickness:3});Ve.intervals.push(new DataRange$1(2015,Number.POSITIVE_INFINITY));const je=Array.from({length:55},(Xe,We)=>We+1970).map(Xe=>newDataPoint$1(Xe,Math.pow(10,t*Xe+r)));Ve.points.push(...je),$e.series.push(Ve);const ze=new Legend({legendPosition:LegendPosition.TopCenter});return $e.legends.push(ze),$e}function calculateLinearRegressionParameters($e){if($e===void 0)throw new Error("points is undefined");if($e.length<2)throw new Error("at least two points required");const e=$e.reduce((Xe,We)=>Xe+We.x,0)/$e.length,t=$e.reduce((Xe,We)=>Xe+We.y,0)/$e.length,r=covariance$1($e,e,t),Ve=variance2($e.map(Xe=>Xe.x)),je=r/Ve,ze=t-je*e;return{slope:je,intercept:ze}}function covariance$1($e,e,t){let r=$e.reduce((Ve,je)=>Ve+je.x*je.y,0);return r-=$e.length*e*t,r/=$e.length-1,r}function variance2($e){const e=$e.reduce((r,Ve)=>r+Ve,0)/$e.length;let t=$e.reduce((r,Ve)=>r+Ve*Ve,0);return t-=$e.length*e*e,t/=$e.length-1,t}function getPointForMooresLaw(){return[{x:1971.875,y:2.30824152676},{x:1972.30769231,y:3.55452235561},{x:1974.32692308,y:6.09756235221},{x:1979.56730769,y:29.1637757405},{x:1982.30769231,y:135.772714211},{x:1985.91346154,y:273.841963426},{x:1986.25,y:109.411381058},{x:1988.65384615,y:121.881418484},{x:1989.47115385,y:1207.90074743},{x:1990.57692308,y:1207.90074743},{x:1992.40384615,y:1207.90074743},{x:1992.69230769,y:3105.90022362},{x:1992.69230769,y:1113.97385999},{x:1993.02884615,y:1715.43789634},{x:1993.41346154,y:3105.90022362},{x:1993.41346154,y:922.239565104},{x:1994.71153846,y:1910.95297497},{x:1994.71153846,y:2788.12666541},{x:1995.43269231,y:9646.61619911},{x:1995.72115385,y:3105.90022362},{x:1996.15384615,y:5473.70326288},{x:1996.34615385,y:6792.52507006},{x:1996.34615385,y:3651.74127255},{x:1996.44230769,y:4293.51021008},{x:1996.82692308,y:9646.61619911},{x:1997.35576923,y:5473.70326288},{x:1997.45192308,y:3554.52235561},{x:1997.54807692,y:8896.4911282},{x:1997.64423077,y:7566.6953714},{x:1998.89423077,y:15261.3780258},{x:1999.13461538,y:9389.79801048},{x:1999.18269231,y:6978.3058486},{x:1999.47115385,y:9389.79801048},{x:1999.47115385,y:21673.9216957},{x:2000.19230769,y:22266.7201035},{x:2000.67307692,y:28387.3596476},{x:2000.67307692,y:37180.2666391},{x:2001.10576923,y:29163.7757405},{x:2001.20192308,y:42550.6550247},{x:2001.68269231,y:25482.9674798},{x:2001.82692308,y:37180.2666391},{x:2002.40384615,y:55730.6040127},{x:2002.78846154,y:38197.1754928},{x:2002.88461538,y:220673.406908},{x:2003.41346154,y:151247.254531},{x:2003.50961538,y:54246.9093701},{x:2003.65384615,y:106498.563535},{x:2004.80769231,y:125214.968907},{x:2004.80769231,y:106498.563535},{x:2004.80769231,y:273841.963426},{x:2005.72115385,y:232909.659246},{x:2005.81730769,y:112403.866377},{x:2005.96153846,y:305052.789027},{x:2006.05769231,y:115478.198469},{x:2006.875,y:378551.524926},{x:2006.875,y:155383.983127},{x:2006.92307692,y:245824.406892},{x:2006.97115385,y:296931.48482},{x:2006.97115385,y:582941.534714},{x:2007.06730769,y:151247.254531},{x:2007.64423077,y:582941.534714},{x:2007.74038462,y:232909.659246},{x:2007.78846154,y:805842.187761},{x:2007.83653846,y:115478.198469},{x:2007.98076923,y:509367.521678},{x:2008.22115385,y:445079.406236},{x:2008.46153846,y:410469.838044},{x:2009.18269231,y:457252.669897},{x:2009.27884615,y:784388.558145},{x:2009.66346154,y:230824152676e-5},{x:2009.71153846,y:191095297497e-5},{x:2010.19230769,y:410469.838044},{x:2010.38461538,y:13097472643e-4},{x:2011.16,y:117e4},{x:2011.32,y:26e5},{x:2011.9,y:12e5},{x:2012.4,y:24e5},{x:2012.41,y:23e5},{x:2012.7,y:21e5},{x:2012.9,y:12e5},{x:2013.4,y:5e6},{x:2013.8,y:43e5},{x:2014.16,y:43e5},{x:2014.5,y:42e5},{x:2014.8,y:26e5},{x:2014.81,y:38e5},{x:2014.82,y:57e5}]}const category$i="ExtrapolationLineSeries",ExtrapolationLineSeriesExamples={category:category$i,tags:["Series"],examples:[{title:"Line Fit (Ignore Extrapolation For Scaling)",example:{model:extrapolatedLineSeries}},{title:"Interpolation",example:{model:interpolationStyleLineSeries}},{title:"Interpolation (Y Axis reversed)",example:{model:twoColorLineSeriesReversed$2}},{title:"Intersecting Intervals",example:{model:intersectingIntervals}},{title:"Custom Dashes",example:{model:customDashes}},{title:"Many Intervals",example:{model:manyIntervals}},{title:"Moore's Law",example:{model:mooresLaw}}]};function squareWave(){return _createSquareWave(25)}function clover(){return _createParametricPlot($e=>2*Math.cos(2*$e)*Math.cos($e),$e=>2*Math.cos(2*$e)*Math.sin($e),0,Math.PI*2,1e3,"Parametric function","Using the CartesianAxes property","2cos(2t)cos(t) , 2cos(2t)sin(t)")}function parametricFunction2(){return _createParametricPlot($e=>3*Math.sin(5*$e),$e=>3*Math.cos(3*$e),0,Math.PI*2,1e3,"Parametric function",void 0,"3sin(5t) , 3cos(3t)")}function parametricFunction3(){return _createParametricPlot($e=>2*Math.cos($e)+Math.cos(8*$e),$e=>2*Math.sin($e)+Math.sin(8*$e),0,Math.PI*2,1e3,"Parametric function",void 0,"2cos(t)+cos(8t) , 2sin(t)+sin(8t)")}function lemniscateOfBernoulli(){return _createParametricPlot(e=>1*Math.sqrt(2)*Math.cos(e)/(Math.sin(e)*Math.sin(e)+1),e=>1*Math.sqrt(2)*Math.cos(e)*Math.sin(e)/(Math.sin(e)*Math.sin(e)+1),0,Math.PI*2,1e3,"Lemniscate of Bernoulli")}function lemniscateOfGerono(){return _createParametricPlot($e=>Math.cos($e),$e=>Math.sin(2*$e)/2,0,Math.PI*2,1e3,"Lemniscate of Gerono")}function lissajousFigure(){const t=Math.PI/2;return _createParametricPlot(r=>Math.sin(3*r+t),r=>Math.sin(2*r),0,Math.PI*2,1e3,"Lissajous figure",void 0,"a=3, b=2,  = /2")}function roseCurve(){const $e=new PlotModel({title:"Rose curve",plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness$1(0)});$e.axes.push(new AngleAxis({minimum:0,maximum:Math.PI*2,majorStep:Math.PI/4,minorStep:Math.PI/16,majorGridlineStyle:LineStyle$1.Solid,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:""})),$e.axes.push(new MagnitudeAxis({majorGridlineStyle:LineStyle$1.Solid}));const e=4,t=3,r=t/e;return $e.series.push(new FunctionSeries({fx:Ve=>Math.sin(r*Ve),fy:Ve=>Ve,t0:0,t1:Math.PI*2*e,n:1e3,title:`d=${e}, n=${t}`})),$e}function limaconOfPascal(){const $e=new PlotModel({title:"Limaon of Pascal",plotType:PlotType.Cartesian});for(let e=4;e<=4;e++)for(let t=0;t<=10;t++)$e.series.push(new FunctionSeries({fx:r=>e/2+t*Math.cos(r)+e/2*Math.cos(2*r),fy:r=>t*Math.sin(r)+e/2*Math.sin(2*r),t0:0,t1:Math.PI*2,n:1e3,title:`a=${e}, b=${t}`}));return $e}function descartesFolium(){const $e=new PlotModel({title:"Folium of Descartes",plotType:PlotType.Cartesian});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:-3,maximum:3})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimum:-3,maximum:3}));const e=1;return $e.series.push(new FunctionSeries({fx:t=>3*e*t/(Math.pow(t,3)+1),fy:t=>3*e*Math.pow(t,2)/(Math.pow(t,3)+1),t0:-30,t1:30,n:1001,title:`a=${e}`})),$e}function trisectrixOfMaclaurin(){const $e=new PlotModel({title:"Trisectrix of Maclaurin",plotType:PlotType.Cartesian}),e=1;return $e.series.push(new FunctionSeries({fx:t=>e*(t*t-3)/(t*t+1),fy:t=>e*t*(t*t-3)/(t*t+1),t0:-5,t1:5,n:1e3})),$e}function fermatsSpiral(){const $e=new PlotModel({title:"Fermat's spiral",plotType:PlotType.Cartesian}),e=1;return $e.series.push(new FunctionSeries({fx:t=>e*Math.sqrt(t)*Math.cos(t),fy:t=>e*Math.sqrt(t)*Math.sin(t),t0:0,t1:20,n:1e3})),$e.series.push(new FunctionSeries({fx:t=>-e*Math.sqrt(t)*Math.cos(t),fy:t=>-e*Math.sqrt(t)*Math.sin(t),t0:0,t1:20,n:1e3})),$e}function fishCurve(){const $e=new PlotModel({title:"Fish curve",plotType:PlotType.Cartesian});for(let e=.1;e<1;e+=.1)$e.series.push(new FunctionSeries({fx:t=>e*(Math.cos(t)-Math.sin(t)*Math.sin(t)/Math.sqrt(2)),fy:t=>e*Math.cos(t)*Math.sin(t),t0:0,t1:2*Math.PI,n:1e3}));return $e}function heavisideStepFunction(){const $e=new PlotModel({title:"Heaviside step function",plotType:PlotType.Cartesian});return $e.series.push(new FunctionSeries({f:e=>Math.abs(e)<1e-8?NaN:e<0?0:1,x0:-2,x1:2,dx:.001})),$e.annotations.push(new LineAnnotation({type:LineAnnotationType.Vertical,color:$e.defaultColors[0],x:0,minimumY:0,maximumY:1})),$e}function functionSeries(){const $e=new PlotModel({title:"Trigonometric functions",subtitle:"Example using the FunctionSeries",plotType:PlotType.Cartesian,plotAreaBackground:OxyColors$1.White});return $e.series.push(new FunctionSeries({f:Math.sin,x0:-10,x1:10,dx:.1,title:"sin(x)"})),$e.series.push(new FunctionSeries({f:Math.cos,x0:-10,x1:10,dx:.1,title:"cos(x)"})),$e.series.push(new FunctionSeries({fx:e=>5*Math.cos(e),fy:e=>5*Math.sin(e),t0:0,t1:2*Math.PI,n:1e3,title:"cos(t),sin(t)"})),$e}function squirqle(){const $e=new PlotModel({title:"Squirqle",plotType:PlotType.Cartesian});return $e.series.push(_createSuperellipseSeries(4,1,1)),$e}function superellipse20(){const $e=new PlotModel({title:"Superellipse",plotType:PlotType.Cartesian}),e=_createSuperellipseSeries(20,1,1);return e.markerType=MarkerType$1.Circle,$e.series.push(e),$e}function lameCurves(){const $e=new PlotModel({title:"Lam curves",plotType:PlotType.Cartesian}),e=new Legend({legendPlacement:LegendPlacement.Outside});$e.legends.push(e);for(let t=.25;t<2;t+=.25)$e.series.push(_createSuperellipseSeries(t,1,1));for(let t=2;t<=8+1e-6;t+=1)$e.series.push(_createSuperellipseSeries(t,1,1));return $e}function _createSquareWave($e=25){const e=new PlotModel({title:"Square wave (Gibbs phenomenon)"}),t=Ve=>{let je=0;for(let ze=0;ze<$e;ze++){const Xe=ze*2+1;je+=Math.sin(Xe*Ve)/Xe}return je},r=new FunctionSeries({f:t,x0:-10,x1:10,dx:1e-4,title:`sin(x)+sin(3x)/3+sin(5x)/5+...+sin(${2*$e-1})/${2*$e-1}`});return e.series.push(r),e.subtitle=`n = ${r.points.length}`,e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:-4,maximum:4})),e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),e}function _createSuperellipseSeries($e,e,t){return new FunctionSeries({fx:r=>e*Math.sign(Math.cos(r))*Math.pow(Math.abs(Math.cos(r)),2/$e),fy:r=>t*Math.sign(Math.sin(r))*Math.pow(Math.abs(Math.sin(r)),2/$e),t0:0,t1:Math.PI*2,n:101,title:`n=${$e}, a=${e}, b=${t}`})}function _createParametricPlot($e,e,t,r,Ve,je,ze,Xe){const We=new PlotModel({title:je,subtitle:ze,plotType:PlotType.Cartesian});return We.series.push(new FunctionSeries({fx:$e,fy:e,t0:t,t1:r,n:Ve,title:Xe})),We}const category$h="FunctionSeries",FunctionSeriesExamples={category:category$h,tags:["Series"],examples:[{title:"Square wave",example:{model:squareWave}},{title:"Parametric function 1",example:{model:clover}},{title:"Parametric function 2",example:{model:parametricFunction2}},{title:"Parametric function 3",example:{model:parametricFunction3}},{title:"Lemniscate of Bernoulli",example:{model:lemniscateOfBernoulli}},{title:"Lemniscate of Gerono",example:{model:lemniscateOfGerono}},{title:"Lissajous figure",example:{model:lissajousFigure}},{title:"Rose curve",example:{model:roseCurve}},{title:"Limaon of Pascal",example:{model:limaconOfPascal}},{title:"Folium of Descartes",example:{model:descartesFolium}},{title:"Trisectrix of Maclaurin",example:{model:trisectrixOfMaclaurin}},{title:"Fermat's spiral",example:{model:fermatsSpiral}},{title:"Fish curve",example:{model:fishCurve}},{title:"Heaviside step function",example:{model:heavisideStepFunction}},{title:"FunctionSeries",example:{model:functionSeries}},{title:"Squirqle",example:{model:squirqle}},{title:"Superellipse n=20",example:{model:superellipse20}},{title:"Lam curves",example:{model:lameCurves}}]};function exponentialDistribution(){return createExponentialDistribution()}function exponentialDistributionLogarithmicAxis(){return createExponentialDistribution(!0)}function exponentialDistributionLogarithmicAxisWithBaseValue(){return createExponentialDistribution(!0,1,1e4,.1)}function histogramLabelPlacement(){const $e=new PlotModel({title:"Label Placement"}),e=new HistogramSeries({labelPlacement:LabelPlacement$1.Base,labelStringFormatter:je=>"Base",strokeThickness:1,labelMargin:5}),t=new HistogramSeries({labelPlacement:LabelPlacement$1.Inside,labelStringFormatter:je=>"Inside",strokeThickness:1,labelMargin:5}),r=new HistogramSeries({labelPlacement:LabelPlacement$1.Middle,labelStringFormatter:je=>"Middle",strokeThickness:1,labelMargin:5}),Ve=new HistogramSeries({labelPlacement:LabelPlacement$1.Outside,labelStringFormatter:je=>"Outside",strokeThickness:1,labelMargin:5});return e.items.push(new HistogramItem$1(1,2,4,4)),e.items.push(new HistogramItem$1(2,3,-4,4)),t.items.push(new HistogramItem$1(3,4,2,2)),t.items.push(new HistogramItem$1(4,5,-2,2)),r.items.push(new HistogramItem$1(5,6,3,3)),r.items.push(new HistogramItem$1(6,7,-3,3)),Ve.items.push(new HistogramItem$1(7,8,1,1)),Ve.items.push(new HistogramItem$1(8,9,-1,-1)),$e.series.push(e),$e.series.push(t),$e.series.push(r),$e.series.push(Ve),$e}function labelPlacementReversed(){const $e=histogramLabelPlacement();return PlotModelUtilities$1.reverseYAxis($e),$e}function labelFormatString$1(){const $e=createDisconnectedBins(),e=$e.series[0];return e.labelStringFormatter=t=>`Start: ${t.rangeStart.toFixed(2)}
End: ${t.rangeEnd.toFixed(2)}
Value: ${t.value.toFixed(2)}
Area: ${t.area.toFixed(2)}
Count: ${t.count}`,e.labelPlacement=LabelPlacement$1.Inside,$e}function customBins(){return createExponentialDistributionCustomBins()}function disconnectedBins(){return createDisconnectedBins()}function normalDistribution(){return createNormalDistribution()}function individualBinColors(){return createIndividualBinColors()}function customItemMapping(){const $e=new PlotModel({title:"Custom Item Mapping"}),e=new HistogramSeries({mapping:t=>t,trackerStringFormatter:t=>t.item.description});return e.items.push(new CustomHistogramItem(1,2,4,4,"Item 1")),e.items.push(new CustomHistogramItem(2,3,-4,4,"Item 2")),e.items.push(new CustomHistogramItem(3,4,2,2,"Item 3")),e.items.push(new CustomHistogramItem(4,5,-2,2,"Item 4")),$e.series.push(e),$e}class CustomHistogramItem extends HistogramItem$1{constructor(e,t,r,Ve,je){super(e,t,r,Ve),this.description=je}}function createExponentialDistribution($e=!1,e=1,t=1e4,r=0){const Ve=new PlotModel({title:$e?"Exponential Distribution (logarithmic)":"Exponential Distribution",subtitle:`Uniformly distributed bins (${t} samples)`});Ve.axes.push($e?new LogarithmicAxis({position:AxisPosition$1.Left,title:"Frequency"}):new LinearAxis$1({position:AxisPosition$1.Left,title:"Frequency"})),Ve.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,title:"x"}));const je=new Random(1),ze=new HistogramSeries,Xe=new BinningOptions(BinningOutlierMode.CountOutliers,BinningIntervalType.InclusiveLowerBound,BinningExtremeValueMode.ExcludeExtremeValues),We=HistogramHelpers.createUniformBins(0,5,15);return ze.items.push(...HistogramHelpers.collect(sampleExps(je,e,t),We,Xe)),ze.strokeThickness=1,ze.baseValue=r,ze.negativeFillColor=OxyColors$1.Red,Ve.series.push(ze),Ve}function createExponentialDistributionCustomBins($e=1,e=5e4){const t=new PlotModel({title:"Exponential Distribution",subtitle:`Custom bins (${e} samples)`});t.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,title:"Frequency"})),t.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,title:"x"}));const r=new Random(1),Ve=new HistogramSeries,je=new BinningOptions(BinningOutlierMode.CountOutliers,BinningIntervalType.InclusiveLowerBound,BinningExtremeValueMode.ExcludeExtremeValues);return Ve.items.push(...HistogramHelpers.collect(sampleExps(r,$e,e),[0,.1,.2,.3,.4,.5,.75,1,2,3,4,5],je)),Ve.strokeThickness=1,Ve.fillColor=OxyColors$1.Purple,t.series.push(Ve),t}function createNormalDistribution($e=0,e=1,t=1e6){const r=new PlotModel({title:`Normal Distribution (=${$e}, =${e})`,subtitle:`95% of the distribution (${t} samples)`});r.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,title:"Frequency"})),r.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,title:"x"}));const Ve=new Random(1),je=new HistogramSeries,ze=new BinningOptions(BinningOutlierMode.CountOutliers,BinningIntervalType.InclusiveLowerBound,BinningExtremeValueMode.ExcludeExtremeValues),Xe=HistogramHelpers.createUniformBins(-e*4,e*4,100);je.items.push(...HistogramHelpers.collect(sampleNormal(Ve,$e,e,t),Xe,ze)),je.strokeThickness=1;const We=$e+1.96*e,qe=$e-1.96*e,Ke=OxyColors$1.DarkRed,Ze=OxyColors$1.DarkRed;return je.colorMapping=Je=>Je.rangeCenter>We?Ke:Je.rangeCenter<qe?Ze:je.actualFillColor,r.series.push(je),r}function createDisconnectedBins(){const $e=new PlotModel({title:"Disconnected Bins"});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,title:"Representation"})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,title:"x"}));const e=new HistogramSeries;return e.items.push(new HistogramItem$1(0,.5,10,7),new HistogramItem$1(.75,1,10,7)),e.labelStringFormatter=t=>t.value.toFixed(2),e.labelPlacement=LabelPlacement$1.Middle,$e.series.push(e),$e}function createIndividualBinColors($e=1,e=1e4){const t=new PlotModel({title:"Individual Bin Colors",subtitle:"Minimum is Red, Maximum is Green"});t.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,title:"Frequency"})),t.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,title:"Observation"}));const r=new Random(1),Ve=new HistogramSeries({fillColor:OxyColors$1.Gray,renderInLegend:!0,title:"Measurements"}),je=new BinningOptions(BinningOutlierMode.CountOutliers,BinningIntervalType.InclusiveLowerBound,BinningExtremeValueMode.ExcludeExtremeValues),ze=HistogramHelpers.createUniformBins(0,10,20),Xe=HistogramHelpers.collect(sampleUniform(r,0,10,1e3),ze,je).sort((We,qe)=>We.count-qe.count);return Xe[0].color=OxyColors$1.Red,Xe[Xe.length-1].color=OxyColors$1.Green,Ve.items.push(...Xe),Ve.strokeThickness=1,t.series.push(Ve),t}function sampleExps($e,e,t){const r=[];for(let Ve=0;Ve<t;Ve++)r.push(sampleExp($e,e));return r}function sampleExp($e,e){return Math.log(1-$e.next())/-e}function sampleNormal($e,e,t,r){const Ve=[];for(let je=0;je<r;je++)Ve.push(sampleNormalSingle($e,e,t));return Ve}function sampleNormalSingle($e,e,t){const r=1-$e.next(),Ve=$e.next();return Math.sqrt(-2*Math.log(r))*Math.cos(2*Math.PI*Ve)*t+e}function sampleUniform($e,e,t,r){const Ve=[];for(let je=0;je<r;je++)Ve.push($e.next()*(t-e)+e);return Ve}const category$g="HistogramSeries",HistogramSeriesExamples={category:category$g,tags:["Series"],examples:[{title:"Exponential Distribution",example:{model:exponentialDistribution}},{title:"Exponential Distribution (logarithmic)",example:{model:exponentialDistributionLogarithmicAxis}},{title:"Exponential Distribution (logarithmic,with BaseValue)",example:{model:exponentialDistributionLogarithmicAxisWithBaseValue}},{title:"Label Placement",example:{model:histogramLabelPlacement}},{title:"Label Placement (reversed Y Axis)",example:{model:labelPlacementReversed}},{title:"Label formatter",example:{model:labelFormatString$1}},{title:"Custom Bins",example:{model:customBins}},{title:"Disconnected Bins",example:{model:disconnectedBins}},{title:"Normal Distribution Three Colors",example:{model:normalDistribution}},{title:"Individual Bin Colors",example:{model:individualBinColors}},{title:"Custom Item Mapping",example:{model:customItemMapping}}]};function intervalBarSeries(){const $e=new PlotModel({title:"IntervalBarSeries"}),e=new Legend({legendPlacement:LegendPlacement.Outside});$e.legends.push(e);const t=new IntervalBarSeries({title:"IntervalBarSeries 1"});t.items.push(new IntervalBarItem$1({start:6,end:8})),t.items.push(new IntervalBarItem$1({start:4,end:8})),t.items.push(new IntervalBarItem$1({start:5,end:11})),t.items.push(new IntervalBarItem$1({start:4,end:12})),$e.series.push(t);const r=new IntervalBarSeries({title:"IntervalBarSeries 2"});r.items.push(new IntervalBarItem$1({start:8,end:9})),r.items.push(new IntervalBarItem$1({start:8,end:10})),r.items.push(new IntervalBarItem$1({start:11,end:12})),r.items.push(new IntervalBarItem$1({start:12,end:12.5})),$e.series.push(r);const Ve=new CategoryAxis$1({position:AxisPosition$1.Left});Ve.labels.push("Activity A"),Ve.labels.push("Activity B"),Ve.labels.push("Activity C"),Ve.labels.push("Activity D");const je=new LinearAxis$1({position:AxisPosition$1.Bottom,minimumPadding:.1,maximumPadding:.1});return $e.axes.push(Ve),$e.axes.push(je),$e}function intervalBarSeriesWithLabels(){const $e=new PlotModel({title:"IntervalBarSeries"}),e=new Legend({legendPlacement:LegendPlacement.Outside});$e.legends.push(e);const t=new IntervalBarSeries({title:"IntervalBarSeries 1",labelPlacement:LabelPlacement$1.Outside});t.items.push(new IntervalBarItem$1({start:6,end:8,categoryIndex:0})),t.items.push(new IntervalBarItem$1({start:10,end:12,categoryIndex:0})),$e.series.push(t);const r=new IntervalBarSeries({title:"IntervalBarSeries 2",labelPlacement:LabelPlacement$1.Inside});r.items.push(new IntervalBarItem$1({start:4,end:8,categoryIndex:1})),r.items.push(new IntervalBarItem$1({start:10,end:12,categoryIndex:1})),$e.series.push(r);const Ve=new IntervalBarSeries({title:"IntervalBarSeries 3",labelPlacement:LabelPlacement$1.Middle});Ve.items.push(new IntervalBarItem$1({start:5,end:11,categoryIndex:2})),Ve.items.push(new IntervalBarItem$1({start:13,end:17,categoryIndex:2})),$e.series.push(Ve);const je=new IntervalBarSeries({title:"IntervalBarSeries 4",labelPlacement:LabelPlacement$1.Base,textColor:OxyColors$1.White});je.items.push(new IntervalBarItem$1({start:4,end:12,categoryIndex:3})),je.items.push(new IntervalBarItem$1({start:13,end:17,categoryIndex:3})),$e.series.push(je);const ze=new IntervalBarSeries({title:"IntervalBarSeries 5",labelPlacement:LabelPlacement$1.Outside,labelAngle:-45});ze.items.push(new IntervalBarItem$1({start:6,end:8,categoryIndex:4})),ze.items.push(new IntervalBarItem$1({start:10,end:12,categoryIndex:4})),$e.series.push(ze);const Xe=new IntervalBarSeries({title:"IntervalBarSeries 6",labelPlacement:LabelPlacement$1.Inside,labelAngle:-45});Xe.items.push(new IntervalBarItem$1({start:4,end:8,categoryIndex:5})),Xe.items.push(new IntervalBarItem$1({start:10,end:12,categoryIndex:5})),$e.series.push(Xe);const We=new IntervalBarSeries({title:"IntervalBarSeries 7",labelPlacement:LabelPlacement$1.Middle,labelAngle:-45});We.items.push(new IntervalBarItem$1({start:5,end:11,categoryIndex:6})),We.items.push(new IntervalBarItem$1({start:13,end:17,categoryIndex:6})),$e.series.push(We);const qe=new IntervalBarSeries({title:"IntervalBarSeries 8",labelPlacement:LabelPlacement$1.Base,labelAngle:-45});qe.items.push(new IntervalBarItem$1({start:4,end:12,categoryIndex:7})),qe.items.push(new IntervalBarItem$1({start:13,end:17,categoryIndex:7})),$e.series.push(qe);const Ke=new CategoryAxis$1({key:"CategoryAxis",position:AxisPosition$1.Left,startPosition:1,endPosition:0});Ke.labels.push("Label Outside"),Ke.labels.push("Label Inside"),Ke.labels.push("Label Middle"),Ke.labels.push("Label Base"),Ke.labels.push("Label Outside (angled)"),Ke.labels.push("Label Inside (angled)"),Ke.labels.push("Label Middle (angled)"),Ke.labels.push("Label Base (angled)");const Ze=new LinearAxis$1({key:"ValueAxis",position:AxisPosition$1.Bottom,minimumPadding:.1,maximumPadding:.1});return $e.axes.push(Ke),$e.axes.push(Ze),$e}const category$f="IntervalBarSeries",IntervalBarSeriesExamples={category:category$f,tags:["Series"],examples:[{title:"IntervalBarSeries",example:{model:intervalBarSeries}},{title:"IntervalBarSeries with various label types",example:{model:intervalBarSeriesWithLabels}}]};function defaultStyle$1(){const $e=new PlotModel({title:"LinearBarSeries with default style"});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left}));const e=_createExampleLinearBarSeries();return e.title="LinearBarSeries",$e.series.push(e),$e}function withStroke(){const $e=new PlotModel({title:"LinearBarSeries with stroke"});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left}));const e=_createExampleLinearBarSeries();return e.title="LinearBarSeries",e.fillColor=OxyColor$1.parse("#454CAF50"),e.strokeColor=OxyColor$1.parse("#4CAF50"),e.strokeThickness=1,$e.series.push(e),$e}function withNegativeColors(){return _createWithNegativeColors()}function withNegativeColorsLogarithmic(){return _createWithNegativeColors(!0)}function withBaseValue(){return _createWithNegativeColors(void 0,50)}function withBaseValueLogarithmic(){return _createWithNegativeColors(!0,50)}function _createWithNegativeColors($e=!1,e=0){const t=new PlotModel({title:$e?"LinearBarSeries with stroke (logarithmic)":"LinearBarSeries with stroke"});t.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),t.axes.push($e?new LogarithmicAxis({position:AxisPosition$1.Left}):new LinearAxis$1({position:AxisPosition$1.Left}));const r=_createExampleLinearBarSeriesWithNegativeValues();return r.title="LinearBarSeries",r.fillColor=OxyColor$1.parse("#454CAF50"),r.strokeColor=OxyColor$1.parse("#4CAF50"),r.negativeFillColor=OxyColor$1.parse("#45BF360C"),r.negativeStrokeColor=OxyColor$1.parse("#BF360C"),r.strokeThickness=1,r.baseValue=e,t.series.push(r),t}function _createExampleLinearBarSeries(){const $e=new LinearBarSeries,e=new Random;let t=e.next(10,31);for(let r=0;r<=50;r++)$e.points.push(newDataPoint$1(r,t)),t+=e.next(-5,5);return $e}function _createExampleLinearBarSeriesWithNegativeValues(){const $e=new LinearBarSeries,e=new Random;for(let t=0;t<=50;t++){const r=-200+e.next(0,1e3);$e.points.push(newDataPoint$1(t,r))}return $e}const category$e="LinearBarSeries",LinearBarSeriesExamples={category:category$e,tags:["Series"],examples:[{title:"Default style",example:{model:defaultStyle$1}},{title:"With stroke",example:{model:withStroke}},{title:"With negative colors",example:{model:withNegativeColors}},{title:"With negative colors (logaritmic)",example:{model:withNegativeColorsLogarithmic}},{title:"With BaseValue",example:{model:withBaseValue}},{title:"With BaseValue (Logarithmic)",example:{model:withBaseValueLogarithmic}}]};function defaultStyle(){const $e=new PlotModel({title:"LineSeries with default style"});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left}));const e=createExampleLineSeries();return e.title="LineSeries 1",$e.series.push(e),$e}function customStyle(){const $e=new PlotModel({title:"LineSeries with custom style"}),e=new Legend({legendSymbolLength:24});$e.legends.push(e),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left}));const t=createExampleLineSeries();return t.title="LineSeries 1",t.toolTip="This is a tooltip for a LineSeries 1",t.color=OxyColors$1.SkyBlue,t.strokeThickness=3,t.lineStyle=LineStyle$1.Dash,t.markerType=MarkerType$1.Circle,t.markerSize=5,t.markerStroke=OxyColors$1.White,t.markerFill=OxyColors$1.SkyBlue,t.markerStrokeThickness=1.5,$e.series.push(t),$e}function twoLineSeries(){const $e=new PlotModel({title:"Two LineSeries"});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left}));const e=createExampleLineSeries();e.title="LineSeries 1",$e.series.push(e);const t=createExampleLineSeries(41);return t.title="LineSeries 2",$e.series.push(t),$e}function isVisibleFalse(){const $e=new PlotModel({title:"LineSeries with IsVisible = false",subtitle:"Click to change the IsVisible property for LineSeries 2"});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:0,maximum:50}));const e=createExampleLineSeries(38);e.title="LineSeries 1",$e.series.push(e);const t=createExampleLineSeries(39);return t.title="LineSeries 2",t.isVisible=!1,$e.series.push(t),$e.mouseDown=(r,Ve)=>{t.isVisible=!t.isVisible,$e.invalidatePlot(!0)},$e}function trackerFormatString$1(){const $e=new PlotModel({title:"LineSeries with custom TrackerFormatString",subtitle:'TrackerFormatString = "X={2:0.0} Y={4:0.0}"'});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left}));const e=createExampleLineSeries();return e.trackerStringFormatter=t=>"X="+t.xValue.toFixed(1)+" Y="+t.yValue.toFixed(1),$e.series.push(e),$e}function customMarkers(){const $e=new PlotModel({title:"LineSeries with custom markers"}),e=new Legend({legendSymbolLength:30});$e.legends.push(e);const t=6,r=[];for(let je=0;je<t;je++){const ze=Math.PI*(4*je/(t-1)-.5),Xe=1;r[je]=newScreenPoint$1(Math.cos(ze)*Xe,Math.sin(ze)*Xe)}const Ve=createExampleLineSeries(39);return Ve.title="LineSeries 1",Ve.markerType=MarkerType$1.Custom,Ve.markerSize=8,Ve.markerOutline=r,$e.series.push(Ve),$e}function markerTypes$1(){const $e=createModel("LineSeries with different MarkerType",MarkerType$1.Custom),e=new Legend({legendBackground:OxyColor$1.fromAColor(220,OxyColors$1.White),legendBorder:OxyColors$1.Black,legendBorderThickness:1});$e.legends.push(e);let t=0;for(const r of $e.series){const Ve=r;Ve.color=OxyColors$1.Red,Ve.markerStroke=OxyColors$1.Black,Ve.markerFill=OxyColors$1.Green,Ve.markerType=t++,Ve.title=MarkerType$1[Ve.markerType]}return $e}function labels(){const $e=new PlotModel({title:"LineSeries with labels",subtitle:"Use the 'labelFormatString' property"}),e=new Legend({legendSymbolLength:24});$e.legends.push(e),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,maximumPadding:.1}));const t=createExampleLineSeries();return t.labelStringFormatter=(r,Ve)=>Ve[1].toString(),t.markerType=MarkerType$1.Circle,$e.series.push(t),$e}function lineStyles(){const $e=createModel("LineSeries with LineStyle",LineStyle$1.None),e=new Legend({legendPlacement:LegendPlacement.Outside,legendSymbolLength:50});$e.legends.push(e);let t=0;for(const r of $e.series){const Ve=r;Ve.color=OxyColors$1.Red,Ve.lineStyle=t++,Ve.title=LineStyle$1[Ve.lineStyle]}return $e}function smooth(){const $e=new PlotModel({title:"LineSeries with interpolation",subtitle:"InterpolationAlgorithm = CanonicalSpline"}),e=new Legend({legendSymbolLength:24});$e.legends.push(e);const t=createExampleLineSeries();return t.markerType=MarkerType$1.Circle,t.interpolationAlgorithm=InterpolationAlgorithms$1.CanonicalSpline,$e.series.push(t),$e}function customLineLegendPosition(){const $e=new PlotModel({title:"LineSeries with LineLegendPosition"});$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimumPadding:.05,maximumPadding:.05})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimumPadding:.05,maximumPadding:.05}));const e=createExampleLineSeries();e.title="Start",e.markerType=MarkerType$1.Circle,e.lineLegendPosition=LineLegendPosition.Start,$e.series.push(e);const t=createExampleLineSeries(41);return t.title="End",t.markerType=MarkerType$1.Circle,t.lineLegendPosition=LineLegendPosition.End,$e.series.push(t),$e}function customLineLegendPositionReversed(){return PlotModelUtilities$1.reverseXAxis(customLineLegendPosition())}function brokenLine(){const $e=new PlotModel({title:"LineSeries with broken lines"}),e=createExampleLineSeries();e.points[3]=DataPoint_Undefined$1,e.points[7]=DataPoint_Undefined$1,e.brokenLineColor=OxyColors$1.Gray,e.brokenLineThickness=.5,e.brokenLineStyle=LineStyle$1.Solid,$e.series.push(e);const t=createExampleLineSeries(49);return t.points[3]=DataPoint_Undefined$1,t.points[7]=DataPoint_Undefined$1,t.brokenLineColor=OxyColors$1.Automatic,t.brokenLineThickness=1,t.brokenLineStyle=LineStyle$1.Dot,$e.series.push(t),$e}function withoutDecimator(){const $e=new PlotModel({title:"LineSeries without Decimator"}),e=createSeriesSuitableForDecimation();return $e.series.push(e),$e}function withXDecimator(){const $e=new PlotModel({title:"LineSeries with X Decimator"}),e=createSeriesSuitableForDecimation();return e.decimator=Decimator.decimate,$e.series.push(e),$e}function canonicalSplineInterpolation(){const $e=createRandomPoints();return new PlotModel({title:"Canonical spline interpolation",series:[new LineSeries({itemsSource:$e,title:"Default (0.5)",interpolationAlgorithm:InterpolationAlgorithms$1.CanonicalSpline,markerType:MarkerType$1.Circle,markerFill:OxyColors$1.Black}),new LineSeries({itemsSource:$e,title:"0.1",interpolationAlgorithm:new CanonicalSpline$1(.1)}),new LineSeries({itemsSource:$e,title:"1.0",interpolationAlgorithm:new CanonicalSpline$1(1)})]})}function catmullRomInterpolation(){const $e=createRandomPoints();return new PlotModel({title:"Catmull-Rom interpolation",series:[new LineSeries({itemsSource:$e,title:"Standard",interpolationAlgorithm:InterpolationAlgorithms$1.CatmullRomSpline,markerType:MarkerType$1.Circle,markerFill:OxyColors$1.Black}),new LineSeries({itemsSource:$e,title:"Chordal",interpolationAlgorithm:InterpolationAlgorithms$1.ChordalCatmullRomSpline}),new LineSeries({itemsSource:$e,title:"Uniform",interpolationAlgorithm:InterpolationAlgorithms$1.UniformCatmullRomSpline})]})}function markerColorOptions(){createRandomPoints();const $e=new PlotModel({title:"Marker color options"}),e=createExampleLineSeries(1);e.markerType=MarkerType$1.Circle,$e.series.push(e);const t=createExampleLineSeries(4);t.markerType=MarkerType$1.Square,t.color=OxyColors$1.LightBlue,$e.series.push(t);const r=createExampleLineSeries(13);r.markerType=MarkerType$1.Square,r.markerFill=OxyColors$1.Black,$e.series.push(r);const Ve=createExampleLineSeries(5);return Ve.markerType=MarkerType$1.Square,Ve.markerFill=OxyColors$1.OrangeRed,Ve.color=OxyColors$1.Orange,$e.series.push(Ve),$e}function createRandomPoints($e=50){const e=new Random,t=[];for(let r=0;r<$e;r++)r<5?t.push(newDataPoint$1(r,0)):r<10?t.push(newDataPoint$1(r,1)):r<12?t.push(newDataPoint$1(r,0)):t.push(newDataPoint$1(r,e.next()));return t}function createExampleLineSeries($e=13){const e=new LineSeries,t=new Random($e);let r=t.next(10,30);for(let Ve=0;Ve<=100;Ve+=10)e.points.push(newDataPoint$1(Ve,r)),r+=t.next(-5,5);return e}function createModel($e,e=20){const t=new PlotModel({title:$e});for(let r=1;r<=e;r++){const Ve=new LineSeries({title:"Series "+r});t.series.push(Ve);for(let je=0;je<2*Math.PI;je+=.1)Ve.points.push(newDataPoint$1(je,Math.sin(je*r)/(r+1)+r))}return t}function createSeriesSuitableForDecimation(){const $e=new LineSeries,e=2e4;for(let t=0;t<e;t++)$e.points.push(newDataPoint$1(t/e,Math.sin(t)));return $e}const category$d="LineSeries",LineSeriesExamples={category:category$d,tags:["Series"],examples:[{title:"Default style",example:{model:defaultStyle}},{title:"Custom style",example:{model:customStyle}},{title:"Two LineSeries",example:{model:twoLineSeries}},{title:"Visibility",example:{model:isVisibleFalse}},{title:"Custom TrackerFormatString",example:{model:trackerFormatString$1}},{title:"Custom markers",example:{model:customMarkers}},{title:"Marker types",example:{model:markerTypes$1}},{title:"Labels",example:{model:labels}},{title:"LineStyle",example:{model:lineStyles}},{title:"Interpolation",example:{model:smooth}},{title:"LineLegendPosition",example:{model:customLineLegendPosition}},{title:"LineLegendPosition (reversed X Axis)",example:{model:customLineLegendPositionReversed}},{title:"Broken lines",example:{model:brokenLine}},{title:"Without Decimator",example:{model:withoutDecimator}},{title:"With X Decimator",example:{model:withXDecimator}},{title:"Canonical spline interpolation",example:{model:canonicalSplineInterpolation}},{title:"Catmull-Rom interpolation",example:{model:catmullRomInterpolation}},{title:"Marker color options",example:{model:markerColorOptions}}]};function pieSeries(){return createExample()}function insideLabelColor(){const $e=createExample(),e=$e.series[0];return e.insideLabelColor=OxyColors$1.White,$e}function doughnut(){const $e=createExample(),e=$e.series[0];return e.insideLabelColor=OxyColors$1.White,e.innerDiameter=.5,$e}function createExample(){const $e=new PlotModel({title:"World population by continent"}),e=new PieSeries({strokeThickness:2,insideLabelPosition:.8,angleSpan:360,startAngle:0,innerDiameter:.5});return e.slices.push({label:"Africa",value:1030,isExploded:!0}),e.slices.push({label:"Americas",value:929,isExploded:!0}),e.slices.push({label:"Asia",value:4157}),e.slices.push({label:"Europe",value:739,isExploded:!0}),e.slices.push({label:"Oceania",value:35,isExploded:!0}),$e.series.push(e),$e}const category$c="PieSeries",PieSeriesExamples={category:category$c,tags:["Series"],examples:[{title:"PieSeries",example:{model:pieSeries}},{title:"PieSeries with inside label color",example:{model:insideLabelColor}},{title:"Doughnut Chart",example:{model:doughnut}}]};function polygonSeries(){const $e=new PlotModel({title:"Polygon Series",plotType:PlotType.Cartesian});$e.axes.push(new LinearColorAxis);const e=new PolygonSeries,t=[];for(let r=0;r<5;r++)e.items.push(newPolygonItem(regularPolygon(newDataPoint$1(r*5,0),2,3+r),r)),t.push(regularPolygon(newDataPoint$1(r*5,5),2,3+r));return e.items.push(newPolygonItem(t,10)),$e.series.push(e),$e}function hexGrid(){const $e=new PlotModel({title:"Hexagonal Grid"});$e.axes.push(new LinearColorAxis({position:AxisPosition$1.Right}));const e=ze=>Math.sin(ze.x/5)+Math.sqrt(ze.y),t=1,r=t*2-Math.cos(Math.PI/3)*t,Ve=Math.sin(Math.PI/3)*t*2,je=new PolygonSeries({stroke:OxyColors$1.Black,strokeThickness:1});for(let ze=0;ze<40;ze++)for(let Xe=0;Xe<40;Xe++){const We=ze%2===0?0:Ve/2,qe=newDataPoint$1(ze*r,Xe*Ve+We);je.items.push(newPolygonItem(regularPolygon(qe,t,6),e(qe)))}return $e.series.push(je),$e}function regularPolygon($e,e,t){const r=new Array(t);for(let Ve=0;Ve<r.length;Ve++){const je=Math.PI*2*Ve/r.length,ze=Math.cos(je)*e,Xe=Math.sin(je)*e;r[Ve]=newDataPoint$1($e.x+ze,$e.y+Xe)}return r}const category$b="PolygonSeries",PolygonSeriesExamples={category:category$b,tags:["Series"],examples:[{title:"PolygonSeries",example:{model:polygonSeries}},{title:"Hexagonal Grid",example:{model:hexGrid}}]};function rectangleBarSeries(){const $e=new PlotModel({title:"RectangleBarSeries"}),e=new Legend({legendPlacement:LegendPlacement.Outside});$e.legends.push(e);const t=new RectangleBarSeries({title:"RectangleBarSeries 1"}),r=je=>(je.color||(je.color=OxyColors$1.Automatic),je);t.items.push(r({x0:2,x1:8,y0:1,y1:4})),t.items.push(r({x0:6,x1:12,y0:6,y1:7})),$e.series.push(t);const Ve=new RectangleBarSeries({title:"RectangleBarSeries 2"});return Ve.items.push(r({x0:2,x1:8,y0:-4,y1:-1})),Ve.items.push(r({x0:6,x1:12,y0:-7,y1:-6})),$e.series.push(Ve),$e}const category$a="RectangleBarSeries",RectangleBarSeriesExamples={category:category$a,tags:["Series"],examples:[{title:"RectangleBarSeries",example:{model:rectangleBarSeries}}]};function fromItems$1(){const e=new PlotModel({title:"RectangleSeries"});e.axes.push(new LinearColorAxis({position:AxisPosition$1.Right,palette:OxyPalettes$1.jet(100)}));const t=new RectangleSeries({labelFontSize:12});for(let r=9;r>=0;r--)t.items.push(new RectangleItem$1(-r*.5,r*.5,r*r,r*(r+3),r));return e.series.push(t),e}function fromItemsSource$1(){const e=new PlotModel({title:"RectangleSeries"});e.axes.push(new LinearColorAxis({position:AxisPosition$1.Right,palette:OxyPalettes$1.jet(100)}));const t=[];for(let r=0;r<10;r++)t.push({x:r,value:r});return e.series.push(new RectangleSeries({itemsSource:t,mapping:r=>{const Ve=r;return new RectangleItem$1(Ve.x,Ve.x*2,Ve.x,Ve.x*2,Ve.value)}})),e}const category$9="RectangleSeries",RectangleSeriesExamples={category:category$9,tags:["Series"],examples:[{title:"RectangleSeries",example:{model:fromItems$1}},{title:"RectangleSeries from ItemsSource and Mapping",example:{model:fromItemsSource$1}}]};function correlatedScatter(){return createCorrelatedScatter(1e3)}function randomScatter1(){return randomScatter(32768,0)}function randomScatter2(){return randomScatter(32768,2)}function randomScatter4(){return randomScatter(32768,4)}function randomScatter6(){return randomScatter(32768,6)}function randomScatter8(){return randomScatter(32768,8)}function randomScatter10(){return randomScatter(32768,10)}function twoScatterSeries(){const $e=new PlotModel({title:"Two ScatterSeries (with and without values)",subtitle:"With values (squares), without values (triangles)"}),e=new LinearColorAxis({position:AxisPosition$1.Right,key:"ColorAxis",palette:OxyPalettes$1.jet(30),minimum:-1,maximum:1});return $e.axes.push(e),$e.series.push(createRandomScatterSeries(50,MarkerType$1.Triangle,!1,!1,void 0)),$e.series.push(createRandomScatterSeries(50,MarkerType$1.Square,!1,!0,e)),$e}function labelFormatString(){const $e=new PlotModel({title:"ScatterSeries with LabelFormatString"}),e=createRandomScatterSeries(50,MarkerType$1.Square,!1,!1,void 0);return e.labelStringFormatter=(t,r)=>round$2(r[1],3).toString(),$e.series.push(e),$e}function createRandomScatterSeries($e,e,t,r,Ve){const je=new ScatterSeries({markerType:e,markerSize:6,colorAxisKey:Ve!==void 0?Ve.key:void 0}),ze=new Random;for(let Xe=0;Xe<$e;Xe++){let We;t&&(We=ze.next()*5+5);let qe;r&&(qe=ze.next()*2.2-1.1);const Ke={x:ze.next()*2.2-1.1,y:ze.next(),size:We,value:qe};je.points.push(Ke)}return je}function randomSize(){return createRandomSizeModel(1e3,8)}function createRandomSizeModel($e,e){const t=new PlotModel({title:`ScatterSeries with random MarkerSize (n=${$e})`,subtitle:`BinSize = ${e}`}),r=new ScatterSeries({title:"Series 1",markerStrokeThickness:0,binSize:e}),Ve=new Random;for(let je=0;je<$e;je++)r.points.push({x:Ve.next(),y:Ve.next(),size:4+10*Ve.next()});return t.series.push(r),t}function randomWithFit(){const e=new PlotModel({title:"Random data (n=20)"}),t=new Legend({legendPosition:LegendPosition.LeftTop});e.legends.push(t);const r=new ScatterSeries({title:"Measurements"}),Ve=new Random;let je=0,ze=0;for(let qe=0;qe<20;qe++){je+=2+Ve.next()*10,ze+=1+Ve.next();const Ke={x:je,y:ze};r.points.push(Ke)}e.series.push(r);const[Xe,We]=leastSquaresFit(r.points);return e.annotations.push(new LineAnnotation({slope:Xe,intercept:We,text:"Least squares fit"})),e}function leastSquaresFit($e){let e=0,t=0,r=0,Ve=0,je=0;for(const qe of $e)e+=qe.x,t+=qe.y,r+=qe.x*qe.y,Ve+=qe.x*qe.x,je++;const ze=e*e-je*Ve,Xe=1/ze*(e*t-je*r),We=1/ze*(e*r-Ve*t);return[Xe,We]}function markerTypes(){const $e=new PlotModel({title:"Marker types"}),e=new Random;return $e.series.push(createRandomScatterSeriesWithMarker(e,10,"Circle",MarkerType$1.Circle)),$e.series.push(createRandomScatterSeriesWithMarker(e,10,"Cross",MarkerType$1.Cross)),$e.series.push(createRandomScatterSeriesWithMarker(e,10,"Diamond",MarkerType$1.Diamond)),$e.series.push(createRandomScatterSeriesWithMarker(e,10,"Plus",MarkerType$1.Plus)),$e.series.push(createRandomScatterSeriesWithMarker(e,10,"Square",MarkerType$1.Square)),$e.series.push(createRandomScatterSeriesWithMarker(e,10,"Star",MarkerType$1.Star)),$e.series.push(createRandomScatterSeriesWithMarker(e,10,"Triangle",MarkerType$1.Triangle)),$e}function dataPoints(){const $e=new PlotModel({title:"ScatterSeries (n=1000)",subtitle:"The scatter points are added to the Points collection."}),e=new ScatterSeries;return e.points.push(...createRandomScatterPoints(1e3)),$e.series.push(e),$e}function fromItemsSource(){const $e=new PlotModel({title:"ScatterSeries (n=1000)",subtitle:"The scatter points are defined in the ItemsSource property."});return $e.series.push(new ScatterSeries({itemsSource:createRandomScatterPoints(1e3)})),$e}function fromMapping(){const $e=new PlotModel({title:"ScatterSeries (n=1000)",subtitle:"The scatter points are defined by a mapping from the ItemsSource."});return $e.series.push(new ScatterSeries({itemsSource:createRandomDataPoints(1e3),mapping:e=>e})),$e}function fromItemsSourceReflection(){const $e=new PlotModel({title:"ScatterSeries (n=1000)",subtitle:"The scatter points are defined by reflection from the ItemsSource."});return $e.series.push(new ScatterSeries({itemsSource:createRandomDataPoints(1e3),dataFieldX:"x",dataFieldY:"y"})),$e}function colorMapRainbow16(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes$1.rainbow(16),MarkerType$1.Square,AxisPosition$1.Right,OxyColors$1.Undefined,OxyColors$1.Undefined)}function colorMapHue30(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes$1.hue(30),MarkerType$1.Star,AxisPosition$1.Right,OxyColors$1.Undefined,OxyColors$1.Undefined)}function colorMapHot64(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes$1.hot(64),MarkerType$1.Triangle,AxisPosition$1.Right,OxyColors$1.Undefined,OxyColors$1.Undefined)}function colorMapCool32(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes$1.cool(32),MarkerType$1.Circle,AxisPosition$1.Right,OxyColors$1.Undefined,OxyColors$1.Undefined)}function colorMapGray32(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes$1.gray(32),MarkerType$1.Diamond,AxisPosition$1.Right,OxyColors$1.Undefined,OxyColors$1.Undefined)}function colorMapJet32(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes$1.jet(32),MarkerType$1.Plus,AxisPosition$1.Right,OxyColors$1.Undefined,OxyColors$1.Undefined)}function colorMapHot64Extreme(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes$1.hot(64),MarkerType$1.Square,AxisPosition$1.Right,OxyColors$1.Magenta,OxyColors$1.Green)}function colorMapHot64ExtremeTopLegend(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes$1.hot(64),MarkerType$1.Cross,AxisPosition$1.Top,OxyColors$1.Magenta,OxyColors$1.Green)}function colorMapHot16Big(){return createRandomScatterSeriesWithColorAxisPlotModel(31e3,OxyPalettes$1.hot(16),MarkerType$1.Square,AxisPosition$1.Right,OxyColors$1.Undefined,OxyColors$1.Undefined)}function colorMapBlueWhiteRed3(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes$1.blueWhiteRed(3),MarkerType$1.Square,AxisPosition$1.Right,OxyColors$1.Undefined,OxyColors$1.Undefined)}function colorMapBlueWhiteRed9(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes$1.blueWhiteRed(9),MarkerType$1.Square,AxisPosition$1.Right,OxyColors$1.Undefined,OxyColors$1.Undefined)}function colorMapBlueWhiteRed256(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes$1.blueWhiteRed(256),MarkerType$1.Square,AxisPosition$1.Right,OxyColors$1.Undefined,OxyColors$1.Undefined)}function colorMapBlackWhiteRed9(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes$1.blackWhiteRed(9),MarkerType$1.Square,AxisPosition$1.Right,OxyColors$1.Undefined,OxyColors$1.Undefined)}function colorMapBlackWhiteRed9TopLegend(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes$1.blackWhiteRed(9),MarkerType$1.Square,AxisPosition$1.Top,OxyColors$1.Undefined,OxyColors$1.Undefined)}function colorMapViridis(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes$1.viridis(),MarkerType$1.Square,AxisPosition$1.Right,OxyColors$1.Undefined,OxyColors$1.Undefined)}function colorMapPlasma(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes$1.plasma(),MarkerType$1.Square,AxisPosition$1.Right,OxyColors$1.Undefined,OxyColors$1.Undefined)}function colorMapMagma(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes$1.magma(),MarkerType$1.Square,AxisPosition$1.Right,OxyColors$1.Undefined,OxyColors$1.Undefined)}function colorMapInferno(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes$1.inferno(),MarkerType$1.Square,AxisPosition$1.Right,OxyColors$1.Undefined,OxyColors$1.Undefined)}function colorMapCividis(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes$1.cividis(),MarkerType$1.Square,AxisPosition$1.Right,OxyColors$1.Undefined,OxyColors$1.Undefined)}function singleSelectItems(){const $e=randomScatter(10,8);$e.subtitle="Click to select a point",$e.selectionColor=OxyColors$1.Red;const e=$e.series[0];return e.selectionMode=SelectionMode$1.Single,e.selectItem(3),e.selectItem(5),e.mouseDown=(t,r)=>{const Ve=r.hitTestResult.index;e.selectItem(Ve),$e.invalidatePlot(!1),r.handled=!0},$e.mouseDown=(t,r)=>{e.clearSelection(),$e.invalidatePlot(!1),r.handled=!0},$e}function multiSelectItems(){const $e=randomScatter(10,8);$e.subtitle="Click to toggle point selection",$e.selectionColor=OxyColors$1.Red;const e=$e.series[0];return e.selectionMode=SelectionMode$1.Multiple,e.selectItem(3),e.selectItem(5),e.mouseDown=(t,r)=>{const Ve=r.hitTestResult.index;e.isItemSelected(Ve)?e.unselectItem(Ve):e.selectItem(Ve),$e.invalidatePlot(!1),r.handled=!0},$e.mouseDown=(t,r)=>{e.clearSelection(),$e.invalidatePlot(!1),r.handled=!0},$e}function allSelected(){return createAllSelectedModel(!1)}function allSelectedWithTracker(){return createAllSelectedModel(!0)}function trackerFormatString(){const $e=new PlotModel({title:"TrackerFormatString"}),e=new ScatterSeries({trackerStringFormatter:r=>r.item.sum.toString(),dataFieldX:"x",dataFieldY:"y"}),t=[new MyPoint(10,40),new MyPoint(40,20),new MyPoint(60,30)];return e.itemsSource=t,$e.series.push(e),$e}function createAllSelectedModel($e){const e=randomScatter(10,8);e.subtitle="Click to select all points",e.selectionColor=OxyColors$1.Red;const t=e.series[0];return t.selectionMode=SelectionMode$1.All,t.mouseDown=(r,Ve)=>{t.select(),e.invalidatePlot(!1),Ve.handled=!$e},e.mouseDown=(r,Ve)=>{Ve.hitTestResult!==void 0&&$e||(t.clearSelection(),e.invalidatePlot(!1),Ve.handled=!0)},e}class MyPoint{constructor(e,t){this.x=e,this.y=t}get sum(){return this.x+this.y}}function randomScatter($e,e){const t=new PlotModel({title:`ScatterSeries (n=${$e})`,subtitle:e>0?`BinSize = ${e}`:"No 'binning'"}),r=new ScatterSeries({title:"Series 1",markerType:MarkerType$1.Diamond,markerStrokeThickness:0,binSize:e}),Ve=new Random;for(let je=0;je<$e;je++)r.points.push({x:Ve.next(),y:Ve.next()});return t.series.push(r),t}function createRandomScatterSeriesWithColorAxisPlotModel($e,e,t,r,Ve,je){const ze=new PlotModel({title:`ScatterSeries (n=${$e})`,background:OxyColors$1.LightGray}),Xe=new LinearColorAxis({position:r,palette:e,minimum:-1,maximum:1,highColor:Ve,lowColor:je});return ze.axes.push(Xe),ze.series.push(createRandomScatterSeries($e,t,!1,!0,Xe)),ze}function createCorrelatedScatter($e){const e=new PlotModel({title:`Correlated ScatterSeries (n=${$e})`}),t=new ScatterSeries({title:"Series 1",markerType:MarkerType$1.Diamond,markerStrokeThickness:0}),r=new Random;for(let Ve=0;Ve<$e;Ve++){const je=getNormalDistributedValue(r),ze=2*je*je+getNormalDistributedValue(r);t.points.push({x:je,y:ze})}return e.series.push(t),e}function createRandomScatterSeriesWithMarker($e,e,t,r){const Ve=new ScatterSeries({title:t,markerType:r,markerStroke:OxyColors$1.Black,markerStrokeThickness:1});for(let je=0;je<e;je++){const ze=$e.next()*10,Xe=$e.next()*10,We={x:ze,y:Xe};Ve.points.push(We)}return Ve}function getNormalDistributedValue($e){const e=$e.next(),t=$e.next();return Math.sqrt(-2*Math.log(e))*Math.sin(2*Math.PI*t)}function createRandomDataPoints($e){return createRandomScatterPoints($e).map(e=>newDataPoint$1(e.x,e.y))}function createRandomScatterPoints($e){const e=new Random,t=[];for(let r=0;r<$e;r++){const Ve=e.next()*10,je=e.next()*10,ze={x:Ve,y:je};t.push(ze)}return t}const category$8="ScatterSeries",ScatterSeriesExamples={category:category$8,tags:["Series"],examples:[{title:"Correlated points",example:{model:correlatedScatter}},{title:"Random points",example:{model:randomScatter1}},{title:"Random points (BinSize=2)",example:{model:randomScatter2}},{title:"Random points (BinSize=4)",example:{model:randomScatter4}},{title:"Random points (BinSize=6)",example:{model:randomScatter6}},{title:"Random points (BinSize=8)",example:{model:randomScatter8}},{title:"Random points (BinSize=10)",example:{model:randomScatter10}},{title:"Two ScatterSeries",example:{model:twoScatterSeries}},{title:"LabelFormatString",example:{model:labelFormatString}},{title:"Random points with random size",example:{model:randomSize}},{title:"Random points with least squares fit",example:{model:randomWithFit}},{title:"Marker types",example:{model:markerTypes}},{title:"ScatterSeries.Points",example:{model:dataPoints}},{title:"ScatterSeries.ItemsSource",example:{model:fromItemsSource}},{title:"ScatterSeries.ItemsSource + Mapping",example:{model:fromMapping}},{title:"ScatterSeries.ItemsSource + reflection",example:{model:fromItemsSourceReflection}},{title:"ScatterSeries with ColorAxis Rainbow(16)",example:{model:colorMapRainbow16}},{title:"ScatterSeries with ColorAxis Hue(30) Star",example:{model:colorMapHue30}},{title:"ScatterSeries with ColorAxis Hot(64)",example:{model:colorMapHot64}},{title:"ScatterSeries with ColorAxis Cool(32)",example:{model:colorMapCool32}},{title:"ScatterSeries with ColorAxis Gray(32)",example:{model:colorMapGray32}},{title:"ScatterSeries with ColorAxis Jet(32)",example:{model:colorMapJet32}},{title:"ScatterSeries with ColorAxis Hot with extreme colors",example:{model:colorMapHot64Extreme}},{title:"ScatterSeries with ColorAxis Hot (top legend)",example:{model:colorMapHot64ExtremeTopLegend}},{title:"ScatterSeries with ColorAxis Hot(16) N=31000",example:{model:colorMapHot16Big}},{title:"ScatterSeries with ColorAxis BlueWhiteRed (3)",example:{model:colorMapBlueWhiteRed3}},{title:"ScatterSeries with ColorAxis BlueWhiteRed (9)",example:{model:colorMapBlueWhiteRed9}},{title:"ScatterSeries with ColorAxis BlueWhiteRed (256)",example:{model:colorMapBlueWhiteRed256}},{title:"ScatterSeries with ColorAxis BlackWhiteRed (9)",example:{model:colorMapBlackWhiteRed9}},{title:"ScatterSeries with ColorAxis BlackWhiteRed (9) top legend",example:{model:colorMapBlackWhiteRed9TopLegend}},{title:"ScatterSeries with ColorAxis Viridis",example:{model:colorMapViridis}},{title:"ScatterSeries with ColorAxis Plasma",example:{model:colorMapPlasma}},{title:"ScatterSeries with ColorAxis Magma",example:{model:colorMapMagma}},{title:"ScatterSeries with ColorAxis Inferno",example:{model:colorMapInferno}},{title:"ScatterSeries with ColorAxis Cividis",example:{model:colorMapCividis}},{title:"ScatterSeries with single-selected items",example:{model:singleSelectItems}},{title:"ScatterSeries with multi-selected items",example:{model:multiSelectItems}},{title:"ScatterSeries with SelectionMode.All (no tracker)",example:{model:allSelected}},{title:"ScatterSeries with SelectionMode.All (with tracker)",example:{model:allSelectedWithTracker}},{title:"TrackerFormatString",example:{model:trackerFormatString}}]};function stairStepSeries(){return createExampleModel$1(new StairStepSeries)}function stairStepSeriesWithLabels(){return createExampleModel$1(new StairStepSeries({labelStringFormatter:($e,e)=>`${round$2(e[1],2)}`}))}function stairStepSeriesWithMarkers(){return createExampleModel$1(new StairStepSeries({color:OxyColors$1.SkyBlue,markerType:MarkerType$1.Circle,markerSize:6,markerStroke:OxyColors$1.White,markerFill:OxyColors$1.SkyBlue,markerStrokeThickness:1.5}))}function stairStepSeriesThinVertical(){return createExampleModel$1(new StairStepSeries({strokeThickness:3,verticalStrokeThickness:.4,markerType:MarkerType$1.None}))}function stairStepSeriesDashedVertical(){return createExampleModel$1(new StairStepSeries({verticalLineStyle:LineStyle$1.Dash,markerType:MarkerType$1.None}))}function stairStepSeriesWithInvalidPoints(){const $e=new PlotModel({title:"StairStepSeries with invalid points",subtitle:"Horizontal lines do not continue"});return populateInvalidPointExampleModel($e,e=>DataPoint_Undefined$1),$e}function stairStepSeriesWithInvalidY(){const $e=new PlotModel({title:"StairStepSeries with invalid Y",subtitle:"Horizontal lines continue until X of point with invalid Y"});return populateInvalidPointExampleModel($e,e=>newDataPoint$1(e,NaN)),$e}function stairStepSeriesWithNonmonotonicX(){const $e=new PlotModel({title:"StairStepSeries with non-monotonic X",subtitle:"Lines form a boxed I-beam"}),e=new StairStepSeries({markerType:MarkerType$1.Circle,verticalLineStyle:LineStyle$1.Dash,verticalStrokeThickness:4,points:[newDataPoint$1(1,1),newDataPoint$1(3,1),newDataPoint$1(2,3),newDataPoint$1(1,3),newDataPoint$1(3,3)]});$e.series.push(e);const t=new StairStepSeries({markerType:MarkerType$1.Circle,verticalLineStyle:LineStyle$1.Dash,verticalStrokeThickness:4,points:[newDataPoint$1(1,0),newDataPoint$1(2,0),newDataPoint$1(0,0),newDataPoint$1(4,0),newDataPoint$1(4,4)]});$e.series.push(t);const r=new StairStepSeries({markerType:MarkerType$1.Circle,verticalLineStyle:LineStyle$1.Dash,verticalStrokeThickness:4,points:[newDataPoint$1(3,4),newDataPoint$1(2,4),newDataPoint$1(4,4),newDataPoint$1(0,4),newDataPoint$1(0,0)]});return $e.series.push(r),$e}function createExampleModel$1($e){const e=new PlotModel({title:"StairStepSeries"}),t=new Legend({legendSymbolLength:24});e.legends.push(t),$e.title="sin(x)";for(let r=0;r<Math.PI*2;r+=.5)$e.points.push(newDataPoint$1(r,Math.sin(r)));return e.series.push($e),e}function populateInvalidPointExampleModel($e,e){$e.legends.push(new Legend({legendOrientation:LegendOrientation.Horizontal,legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter}));const t=new StairStepSeries({title:"Invalid First Point",markerType:MarkerType$1.Circle,points:[e(0),newDataPoint$1(1,3.5),newDataPoint$1(2,4),newDataPoint$1(3,4.5)]});$e.series.push(t);const r=new StairStepSeries({title:"Invalid Second Point",markerType:MarkerType$1.Circle,points:[newDataPoint$1(0,2),e(1),newDataPoint$1(2,3),newDataPoint$1(3,3.5)]});$e.series.push(r);const Ve=new StairStepSeries({title:"Invalid Penultimate Point",markerType:MarkerType$1.Circle,points:[newDataPoint$1(0,1),newDataPoint$1(1,1.5),e(2),newDataPoint$1(3,2.5)]});$e.series.push(Ve);const je=new StairStepSeries({title:"Invalid Last Point",markerType:MarkerType$1.Circle,points:[newDataPoint$1(0,0),newDataPoint$1(1,.5),newDataPoint$1(2,1),e(3)]});$e.series.push(je)}const category$7="StairStepSeries",StairStepSeriesExamples={category:category$7,tags:["Series"],examples:[{title:"StairStepSeries",example:{model:stairStepSeries}},{title:"StairStepSeries with labels",example:{model:stairStepSeriesWithLabels}},{title:"StairStepSeries with markers",example:{model:stairStepSeriesWithMarkers}},{title:"StairStepSeries with thin vertical lines",example:{model:stairStepSeriesThinVertical}},{title:"StairStepSeries with dashed vertical lines",example:{model:stairStepSeriesDashedVertical}},{title:"StairStepSeries with invalid points",example:{model:stairStepSeriesWithInvalidPoints}},{title:"StairStepSeries with invalid Y",example:{model:stairStepSeriesWithInvalidY}},{title:"StairStepSeries with non-monotonic X",example:{model:stairStepSeriesWithNonmonotonicX}}]};function stemSeries(){return createExampleModel(new StemSeries({color:OxyColors$1.SkyBlue,markerType:MarkerType$1.Circle,markerSize:6,markerStroke:OxyColors$1.White,markerStrokeThickness:1.5}))}function createExampleModel($e){const e=new PlotModel({title:"StemSeries"}),t=new Legend({legendSymbolLength:24});e.legends.push(t),$e.title="sin(x)";for(let r=0;r<Math.PI*2;r+=.1)$e.points.push(newDataPoint$1(r,Math.sin(r)));return e.series.push($e),e}const category$6="StemSeries",StemSeriesExamples={category:category$6,tags:["Series"],examples:[{title:"StemSeries",example:{model:stemSeries}}]};function threeColorLineSeries(){const $e=new PlotModel({title:"ThreeColorLineSeries"}),e=new Legend({legendSymbolLength:24});$e.legends.push(e);const t=new ThreeColorLineSeries({title:"Temperature at Eidesmoen, December 1986.",trackerStringFormatter:Ve=>`December ${round$2(Ve.xValue,0)}: ${Ve.yValue.toFixed(1)} C`,markerSize:4,markerStroke:OxyColors$1.Black,markerStrokeThickness:1.5,markerType:MarkerType$1.Circle,interpolationAlgorithm:InterpolationAlgorithms$1.CanonicalSpline,strokeThickness:3}),r=[5,0,7,7,4,3,5,5,11,4,2,3,2,1,0,2,-1,0,0,-3,-6,-13,-10,-10,0,-4,-5,-4,3,0,-5];for(let Ve=0;Ve<r.length;Ve++)t.points.push(newDataPoint$1(Ve+1,r[Ve]));return $e.series.push(t),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,title:"Temperature",unit:"C",extraGridlines:[0]})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,title:"Date"})),$e}function twoColorLineSeriesReversed$1(){const $e=threeColorLineSeries();return PlotModelUtilities$1.reverseYAxis($e),$e}const category$5="ThreeColorLineSeries",ThreeColorLineSeriesExamples={category:category$5,tags:["Series"],examples:[{title:"Temperatures",example:{model:threeColorLineSeries}},{title:"Temperatures (Y Axis reversed)",example:{model:twoColorLineSeriesReversed$1}}]};function tornadoDiagram1(){const $e=new PlotModel({title:"Tornado diagram 1"}),e=new Legend({legendPlacement:LegendPlacement.Outside});$e.legends.push(e);const t=new BarSeries$1({title:"High",isStacked:!0,fillColor:OxyColor$1.fromRgb(216,82,85),baseValue:7,strokeColor:OxyColors$1.Black,strokeThickness:1});t.items.push(new BarItem$1({value:1})),t.items.push(new BarItem$1({value:1})),t.items.push(new BarItem$1({value:4})),t.items.push(new BarItem$1({value:5}));const r=new BarSeries$1({title:"Low",isStacked:!0,fillColor:OxyColor$1.fromRgb(84,138,209),baseValue:7,strokeColor:OxyColors$1.Black,strokeThickness:1});r.items.push(new BarItem$1({value:-1})),r.items.push(new BarItem$1({value:-3})),r.items.push(new BarItem$1({value:-2})),r.items.push(new BarItem$1({value:-3}));const Ve=new CategoryAxis$1({position:AxisPosition$1.Left});Ve.labels.push("F/X rate"),Ve.labels.push("Inflation"),Ve.labels.push("Price"),Ve.labels.push("Conversion");const je=new LinearAxis$1({position:AxisPosition$1.Bottom,extraGridlines:[7]});return $e.series.push(t),$e.series.push(r),$e.axes.push(Ve),$e.axes.push(je),$e}function tornadoDiagram2(){const $e=new PlotModel({title:"Tornado diagram 2"}),e=new Legend({legendPlacement:LegendPlacement.Outside});$e.legends.push(e);const t=new TornadoBarSeries({title:"TornadoBarSeries",baseValue:7});t.items.push(new TornadoBarItem$1({minimum:6,maximum:8})),t.items.push(new TornadoBarItem$1({minimum:4,maximum:8})),t.items.push(new TornadoBarItem$1({minimum:5,maximum:11})),t.items.push(new TornadoBarItem$1({minimum:4,maximum:12}));const r=new CategoryAxis$1({position:AxisPosition$1.Left});r.labels.push("F/X rate"),r.labels.push("Inflation"),r.labels.push("Price"),r.labels.push("Conversion");const Ve=new LinearAxis$1({position:AxisPosition$1.Bottom,extraGridlines:[7],minimumPadding:.1,maximumPadding:.1});return $e.series.push(t),$e.axes.push(r),$e.axes.push(Ve),$e}function tornadoDiagramWithLabels(){const $e=new PlotModel({title:"Tornado Diagram"}),e=new Legend({legendPlacement:LegendPlacement.Outside});$e.legends.push(e);const t=new TornadoBarSeries({baseValue:7,labelPlacement:LabelPlacement$1.Outside});t.items.push(new TornadoBarItem$1({minimum:6,maximum:8,categoryIndex:0}));const r=new TornadoBarSeries({baseValue:7,labelPlacement:LabelPlacement$1.Inside});r.items.push(new TornadoBarItem$1({minimum:4,maximum:8,categoryIndex:1}));const Ve=new TornadoBarSeries({baseValue:7,labelPlacement:LabelPlacement$1.Middle});Ve.items.push(new TornadoBarItem$1({minimum:5,maximum:11,categoryIndex:2}));const je=new TornadoBarSeries({baseValue:7,labelPlacement:LabelPlacement$1.Base});je.items.push(new TornadoBarItem$1({minimum:4,maximum:12,categoryIndex:3}));const ze=new TornadoBarSeries({baseValue:7,labelPlacement:LabelPlacement$1.Outside,labelAngle:-45});ze.items.push(new TornadoBarItem$1({minimum:6,maximum:8,categoryIndex:4}));const Xe=new TornadoBarSeries({baseValue:7,labelPlacement:LabelPlacement$1.Inside,labelAngle:-45});Xe.items.push(new TornadoBarItem$1({minimum:4,maximum:8,categoryIndex:5}));const We=new TornadoBarSeries({baseValue:7,labelPlacement:LabelPlacement$1.Middle,labelAngle:-45});We.items.push(new TornadoBarItem$1({minimum:5,maximum:11,categoryIndex:6}));const qe=new TornadoBarSeries({baseValue:7,labelPlacement:LabelPlacement$1.Base,labelAngle:-45});qe.items.push(new TornadoBarItem$1({minimum:4,maximum:12,categoryIndex:7}));const Ke=new CategoryAxis$1({position:AxisPosition$1.Left,startPosition:1,endPosition:0});Ke.labels.push("Labels Outside"),Ke.labels.push("Labels Inside"),Ke.labels.push("Labels Middle"),Ke.labels.push("Labels Base"),Ke.labels.push("Labels Outside (angled)"),Ke.labels.push("Labels Inside (angled)"),Ke.labels.push("Labels Middle (angled)"),Ke.labels.push("Labels Base (angled)");const Ze=new LinearAxis$1({position:AxisPosition$1.Bottom,extraGridlines:[7],minimumPadding:.1,maximumPadding:.1});return $e.series.push(t),$e.series.push(r),$e.series.push(Ve),$e.series.push(je),$e.series.push(ze),$e.series.push(Xe),$e.series.push(We),$e.series.push(qe),$e.axes.push(Ke),$e.axes.push(Ze),$e}const category$4="TornadoBarSeries",TornadoBarSeriesExamples={category:category$4,tags:["Series"],examples:[{title:"Tornado diagram 1",example:{model:tornadoDiagram1}},{title:"Tornado diagram 2",example:{model:tornadoDiagram2}},{title:"Tornado diagram with various label types",example:{model:tornadoDiagramWithLabels}}]};function twoColorAreaSeries(){const $e=new PlotModel({title:"TwoColorAreaSeries"}),e=new Legend({legendSymbolLength:24});$e.legends.push(e);const t=new TwoColorAreaSeries({title:"Temperature at Eidesmoen, December 1986.",trackerStringFormatter:Ve=>`December ${round$2(Ve.xValue,0)}: ${Ve.yValue.toFixed(1)} C`,color:OxyColors$1.Tomato,color2:OxyColors$1.LightBlue,markerFill:OxyColors$1.Tomato,markerFill2:OxyColors$1.LightBlue,strokeThickness:2,limit:-1,markerType:MarkerType$1.Circle,markerSize:3}),r=[5,0,7,7,4,3,5,5,11,4,2,3,2,1,0,2,-1,0,0,-3,-6,-13,-10,-10,0,-4,-5,-4,3,0,-5];for(let Ve=0;Ve<r.length;Ve++)t.points.push(newDataPoint$1(Ve+1,r[Ve]));return $e.series.push(t),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,title:"Temperature",unit:"C",extraGridlines:[0]})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,title:"Date"})),$e}function twoColorAreaSeries2(){const $e=new PlotModel({title:"TwoColorAreaSeries"}),e=new Legend({legendSymbolLength:24});$e.legends.push(e);const t=new TwoColorAreaSeries({title:"Temperature at Eidesmoen, December 1986.",trackerStringFormatter:Ve=>`December ${round$2(Ve.xValue,0)}: ${Ve.yValue.toFixed(1)} C`,color:OxyColors$1.Black,color2:OxyColors$1.Brown,markerFill:OxyColors$1.Red,fill:OxyColors$1.Tomato,fill2:OxyColors$1.LightBlue,markerFill2:OxyColors$1.Blue,markerStroke:OxyColors$1.Brown,markerStroke2:OxyColors$1.Black,strokeThickness:2,limit:0,markerType:MarkerType$1.Circle,markerSize:3}),r=[5,0,7,7,4,3,5,5,11,4,2,3,2,1,0,2,-1,0,0,-3,-6,-13,-10,-10,0,-4,-5,-4,3,0,-5];for(let Ve=0;Ve<r.length;Ve++)t.points.push(newDataPoint$1(Ve+1,r[Ve]));return $e.series.push(t),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,title:"Temperature",unit:"C",extraGridlines:[0]})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,title:"Date"})),$e}function twoColorAreaSeries3(){const $e=new PlotModel({title:"TwoColorAreaSeries"}),e=new Legend({legendSymbolLength:24});$e.legends.push(e);const t=new TwoColorAreaSeries({title:"Temperature at Eidesmoen, December 1986.",trackerStringFormatter:Ve=>`December ${round$2(Ve.xValue,0)}: ${Ve.yValue.toFixed(1)} C`,color:OxyColors$1.Black,color2:OxyColors$1.Brown,markerFill:OxyColors$1.Red,fill:OxyColors$1.Tomato,fill2:OxyColors$1.LightBlue,markerFill2:OxyColors$1.Blue,markerStroke:OxyColors$1.Brown,markerStroke2:OxyColors$1.Black,strokeThickness:1,limit:0,interpolationAlgorithm:InterpolationAlgorithms$1.CanonicalSpline,markerType:MarkerType$1.Circle,markerSize:1}),r=[5,0,7,7,4,3,5,5,11,4,2,3,2,1,0,2,-1,0,0,-3,-6,-13,-10,-10,0,-4,-5,-4,3,0,-5];for(let Ve=0;Ve<r.length;Ve++)t.points.push(newDataPoint$1(Ve+1,r[Ve]));return $e.series.push(t),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,title:"Temperature",unit:"C",extraGridlines:[0]})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,title:"Date"})),$e}function twoColorAreaSeriesTwoPolygons(){const $e=new PlotModel({title:"Two polygons"}),e=new Legend({legendSymbolLength:24});$e.legends.push(e);const t=new TwoColorAreaSeries({color:OxyColors$1.Tomato,color2:OxyColors$1.LightBlue,markerFill:OxyColors$1.Tomato,markerFill2:OxyColors$1.LightBlue,strokeThickness:2,markerType:MarkerType$1.Circle,markerSize:3});return t.points.push(newDataPoint$1(0,3),newDataPoint$1(1,5),newDataPoint$1(2,1),newDataPoint$1(3,0),newDataPoint$1(4,3)),t.points2.push(newDataPoint$1(0,-3),newDataPoint$1(1,-1),newDataPoint$1(2,0),newDataPoint$1(3,-6),newDataPoint$1(4,-4)),$e.series.push(t),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom})),$e}const category$3="TwoColorAreaSeries",TwoColorAreaSeriesExamples={category:category$3,tags:["Series"],examples:[{title:"Temperatures",example:{model:twoColorAreaSeries}},{title:"Temperatures ver2",example:{model:twoColorAreaSeries2}},{title:"Temperatures ver3",example:{model:twoColorAreaSeries3}},{title:"Two polygons",example:{model:twoColorAreaSeriesTwoPolygons}}]};function twoColorLineSeries(){const $e=new PlotModel({title:"TwoColorLineSeries"}),e=new Legend({legendSymbolLength:24});$e.legends.push(e);const t=new TwoColorLineSeries({title:"Temperature at Eidesmoen, December 1986.",trackerStringFormatter:Ve=>`December ${round$2(Ve.xValue,0)}: ${Ve.yValue.toFixed(1)} C`,color:OxyColors$1.Red,color2:OxyColors$1.LightBlue,strokeThickness:3,limit:0,interpolationAlgorithm:InterpolationAlgorithms$1.CanonicalSpline,markerType:MarkerType$1.Circle,markerSize:4,markerStroke:OxyColors$1.Black,markerStrokeThickness:1.5}),r=[5,0,7,7,4,3,5,5,11,4,2,3,2,1,0,2,-1,0,0,-3,-6,-13,-10,-10,0,-4,-5,-4,3,0,-5];for(let Ve=0;Ve<r.length;Ve++)t.points.push(newDataPoint$1(Ve+1,r[Ve]));return $e.series.push(t),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,title:"Temperature",unit:"C",extraGridlines:[0]})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,title:"Date"})),$e}function twoColorLineSeriesReversed(){const $e=twoColorLineSeries();return PlotModelUtilities$1.reverseYAxis($e),$e}const category$2="TwoColorLineSeries",TwoColorLineSeriesExamples={category:category$2,tags:["Series"],examples:[{title:"Temperatures",example:{model:twoColorLineSeries}},{title:"Temperatures (Y Axis reversed)",example:{model:twoColorLineSeriesReversed}}]};function fromItems(){const{model:$e}=getModel(!0);return $e}function fromItemsVeeness(){const{model:$e,series:e}=getModel(!0);return e.arrowVeeness=2,$e}function fromItemsVectorOriginAndLabelPosition(){const{model:$e,series:e}=getModel(!0);return e.arrowLabelPosition=.25,e.arrowStartPosition=.5,$e}function fromItemsWithoutColorAxis(){const{model:$e}=getModel(!1);return $e}function vectorField(){const $e=new PlotModel({title:"Peaks (Gradient)"}),e=new VectorSeries,t=ArrayBuilder$1.createVectorWithStep(-3,3,.25),r=ArrayBuilder$1.createVectorWithStep(-3.1,3.1,.25);return e.arrowVeeness=1,e.arrowStartPosition=.5,e.itemsSource=t.flatMap(Ve=>r.map(je=>({origin:newDataPoint$1(Ve,je),direction:new DataVector$1(dpeaksdx(Ve,je)/40,dpeaksdy(Ve,je)/40),value:NaN}))),$e.series.push(e),$e}function logarithmicYAxis(){const e=new PlotModel({title:"VectorSeries"}),t=new Random,r=100,Ve=100,je=50;e.axes.push(new LinearColorAxis({position:AxisPosition$1.Right,palette:OxyPalettes$1.cool(10),minimum:0,maximum:je})),e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimum:-je,maximum:r+je})),e.axes.push(new LogarithmicAxis({position:AxisPosition$1.Left,minimum:1,maximum:Ve+je}));const ze=new VectorSeries({labelFontSize:12});for(let Xe=99;Xe>=0;Xe--){const We=t.next()*Math.PI*2,qe=t.next()*je,Ke=newDataPoint$1(t.next()*r,t.next()*Ve+1),Ze=new DataVector$1(Math.cos(We)*qe,Math.sin(We)*qe);ze.items.push({origin:Ke,direction:Ze,value:qe})}return e.series.push(ze),e}const dpeaksdx=($e,e)=>-10*((1/5-3*Math.pow($e,2))*Math.exp(-Math.pow($e,2)-Math.pow(e,2))-2*$e*($e/5-Math.pow($e,3)-Math.pow(e,5))*Math.exp(-Math.pow($e,2)-Math.pow(e,2)))+.6666666666666666*(1+$e)*Math.exp(-Math.pow(1+$e,2)-Math.pow(e,2))+3*(-2*(1-$e)*Math.exp(-Math.pow($e,2)-Math.pow(1+e,2))-2*$e*Math.pow(1-$e,2)*Math.exp(-Math.pow($e,2)-Math.pow(1+e,2))),dpeaksdy=($e,e)=>-10*(-5*Math.pow(e,4)*Math.exp(-Math.pow($e,2)-Math.pow(e,2))-2*e*($e/5-Math.pow($e,3)-Math.pow(e,5))*Math.exp(-Math.pow($e,2)-Math.pow(e,2)))+.6666666666666666*e*Math.exp(-Math.pow(1+$e,2)-Math.pow(e,2))-6*Math.pow(1-$e,2)*(1+e)*Math.exp(-Math.pow($e,2)-Math.pow(1+e,2));function getModel($e){const t=new PlotModel({title:"VectorSeries (Veeness = 2)"}),r=new Random,Ve=100,je=100,ze=10;$e&&t.axes.push(new LinearColorAxis({position:AxisPosition$1.Right,palette:new OxyPalette$1(OxyPalettes$1.cool(10).colors.map(We=>OxyColor$1.fromAColor(100,We))),minimum:0,maximum:ze})),t.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimum:-ze,maximum:Ve+ze})),t.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:-ze,maximum:je+ze}));const Xe=new VectorSeries({labelFontSize:12});for(let We=99;We>=0;We--){const qe=r.next()*Math.PI*2,Ke=r.next()*ze,Ze=newDataPoint$1(r.next()*Ve,r.next()*je),Je=new DataVector$1(Math.cos(qe)*Ke,Math.sin(qe)*Ke);Xe.items.push({origin:Ze,direction:Je,value:Ke})}return t.series.push(Xe),{model:t,series:Xe}}const category$1="VectorSeries",VectorSeriesExamples={category:category$1,tags:["Series"],examples:[{title:"VectorSeries",example:{model:fromItems}},{title:"VectorSeries (Veeness = 2)",example:{model:fromItemsVeeness}},{title:"VectorSeries (Vector Origin and Label position)",example:{model:fromItemsVectorOriginAndLabelPosition}},{title:"VectorSeries (without ColorAxis)",example:{model:fromItemsWithoutColorAxis}},{title:"Vector Field",example:{model:vectorField}},{title:"VectorSeries on Log Axis",example:{model:logarithmicYAxis}}]},Series$1=[...FinancialSeries,AreaSeriesExamples,BarSeriesExamples,BoxPlotSeriesExamples,ContourSeriesExamples,ErrorBarSeriesExamples,ExtrapolationLineSeriesExamples,FunctionSeriesExamples,HeatMapSeriesExamples$1,HistogramSeriesExamples,IntervalBarSeriesExamples,LinearBarSeriesExamples,LineSeriesExamples,PieSeriesExamples,PolygonSeriesExamples,RectangleBarSeriesExamples,RectangleSeriesExamples,ScatterSeriesExamples,StairStepSeriesExamples,StemSeriesExamples,ThreeColorLineSeriesExamples,TornadoBarSeriesExamples,TwoColorAreaSeriesExamples,TwoColorLineSeriesExamples,VectorSeriesExamples];function graph1(){const $e=new PlotModel({title:"Q1 2003 Calls by Region",plotAreaBorderThickness:new OxyThickness$1(0)}),e=new CategoryAxis$1({axislineStyle:LineStyle$1.Solid,tickStyle:TickStyle$1.None,key:"y"});e.labels.push("North","East","South","West"),$e.axes.push(e),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:0,maximum:6e3,majorStep:1e3,minorStep:1e3,axislineStyle:LineStyle$1.Solid,tickStyle:TickStyle$1.Outside,key:"x"}));const t=new BarSeries$1({fillColor:OxyColors$1.Black,xAxisKey:"x",yAxisKey:"y"});return t.items.push(new BarItem$1({value:3e3})),t.items.push(new BarItem$1({value:4500})),t.items.push(new BarItem$1({value:2100})),t.items.push(new BarItem$1({value:4800})),$e.series.push(t),$e}function graph2(){const $e=new PlotModel({title:"2003 Sales",plotAreaBorderThickness:new OxyThickness$1(0),isLegendVisible:!1}),e=[1e3,1010,1020,1010,1020,1030,1e3,500,1e3,900,900,1e3],t=[2250,2500,2750,2500,2750,3e3,2500,2750,3100,2800,3100,3500],r=new CategoryAxis$1({axislineStyle:LineStyle$1.Solid,tickStyle:TickStyle$1.None});r.labels.push("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov"),$e.axes.push(r),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:0,maximum:4e3,majorStep:500,minorStep:500,axislineStyle:LineStyle$1.Solid,tickStyle:TickStyle$1.Outside}));const Ve=new LineSeries({color:OxyColors$1.Orange});for(let ze=0;ze<12;ze++)Ve.points.push(newDataPoint$1(ze,e[ze]));const je=new LineSeries({color:OxyColors$1.Gray});for(let ze=0;ze<12;ze++)je.points.push(newDataPoint$1(ze,t[ze]));return $e.series.push(Ve),$e.series.push(je),$e}function graph3(){const $e=new PlotModel({title:"Headcount",plotAreaBorderThickness:new OxyThickness$1(0),plotMargins:new OxyThickness$1(100,40,20,40)}),e=new Map([["Manufacturing",240],["Sales",160],["Engineering",50],["Operations",45],["Finance",40],["Info Systems",39],["Legal",25],["Marketing",10]]);return $e.axes.push(new CategoryAxis$1({position:AxisPosition$1.Left,itemsSource:Array.from(e),labelField:"0",tickStyle:TickStyle$1.None,axisTickToLabelDistance:10,startPosition:1,endPosition:0})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimum:0,maximum:250,majorStep:50,minorStep:50,axislineStyle:LineStyle$1.Solid,tickStyle:TickStyle$1.Outside,minimumPadding:0,maximumPadding:0})),$e.series.push(new BarSeries$1({fillColor:OxyColors$1.Black,itemsSource:Array.from(e),valueField:"1"})),$e}function graph4(){const $e=new PlotModel({title:"Regional % of Total Expenses",plotAreaBorderThickness:new OxyThickness$1(0)}),e=new CategoryAxis$1({tickStyle:TickStyle$1.None,gapWidth:0,key:"y"});e.labels.push(`West
34%`,`East
30%`,`North
20%`,`South
16%`),$e.axes.push(e),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:0,maximum:.35+Number.EPSILON,majorStep:.05,minorStep:.05,axislineStyle:LineStyle$1.Solid,tickStyle:TickStyle$1.Outside,stringFormatter:Ve=>`${Math.round(Ve*100)}%`,key:"x"}));const t=new BarSeries$1({barWidth:1,strokeColor:OxyColors$1.DarkGray,strokeThickness:1,fillColor:OxyColors$1.Black,xAxisKey:"x",yAxisKey:"y"}),r=[.34,.3,.2,.16];return t.items=r.map(Ve=>BarItem$1.fromValue(Ve)),$e.series.push(t),$e}function graph5(){const $e=new PlotModel({title:"Actual to Plan Variance",plotAreaBorderThickness:new OxyThickness$1(0)}),e=new Map([["Sales",7],["Marketing",-7],["Systems",-2],["HR",-17],["Finance",5]]);return $e.axes.push(new CategoryAxis$1({itemsSource:Array.from(e),labelField:"0",tickStyle:TickStyle$1.None,key:"y"})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:-20,maximum:10,minorStep:5,majorStep:5,layer:AxisLayer$1.AboveSeries,axislineStyle:LineStyle$1.Solid,extraGridlines:[0],extraGridlineColor:OxyColors$1.Black,extraGridlineThickness:3,tickStyle:TickStyle$1.Outside,stringFormatter:t=>(t>0?"+":t<0?"-":"")+round$2(Math.abs(t),0),key:"x"})),$e.series.push(new BarSeries$1({fillColor:OxyColors$1.Orange,negativeFillColor:OxyColors$1.Gray,itemsSource:Array.from(e),valueField:"1",xAxisKey:"x",yAxisKey:"y"})),$e}function graph6(){const $e=new PlotModel({title:"Order Count by Order Size",plotAreaBorderThickness:new OxyThickness$1(0),plotMargins:new OxyThickness$1(60,4,4,60)}),e=new Map([[" <$10",5e3],[`>=$10
    &
 <$20`,1500],[`>=$20
    &
 <$30`,1e3],[`>=$40
    &
 <$40`,500],[">=$40",200]]);return $e.axes.push(new CategoryAxis$1({axislineStyle:LineStyle$1.Solid,itemsSource:Array.from(e),labelField:"0",tickStyle:TickStyle$1.None,key:"y"})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:0,maximum:6e3,majorStep:1e3,minorStep:1e3,axislineStyle:LineStyle$1.Solid,tickStyle:TickStyle$1.Outside,stringFormatter:t=>(t>0?"+":t<0?"-":"")+round$2(Math.abs(t),0),key:"x"})),$e.series.push(new BarSeries$1({fillColor:OxyColors$1.Orange,itemsSource:Array.from(e),valueField:"1",xAxisKey:"x",yAxisKey:"y"})),$e}function graph7(){const $e=new PlotModel({title:"Correlation of Employee Heights and Salaries",plotAreaBorderThickness:new OxyThickness$1(0)}),e=[newDataPoint$1(62,39e3),newDataPoint$1(66,44e3),newDataPoint$1(64,5e4),newDataPoint$1(66,49500),newDataPoint$1(67,52e3),newDataPoint$1(68,5e4),newDataPoint$1(66,56e3),newDataPoint$1(67,56e3),newDataPoint$1(72,56e3),newDataPoint$1(68,58e3),newDataPoint$1(69,62e3),newDataPoint$1(71,63e3),newDataPoint$1(65,64e3),newDataPoint$1(68,71e3),newDataPoint$1(72,72e3),newDataPoint$1(74,69e3),newDataPoint$1(74,79e3),newDataPoint$1(77,81e3)];return $e.axes.push(new LinearAxis$1({position:AxisPosition$1.Left,minimum:3e4,maximum:9e4,majorStep:1e4,minorStep:1e4,axislineStyle:LineStyle$1.Solid,tickStyle:TickStyle$1.Outside})),$e.axes.push(new LinearAxis$1({position:AxisPosition$1.Bottom,minimum:60,maximum:80,majorStep:5,minorStep:5,axislineStyle:LineStyle$1.Solid,tickStyle:TickStyle$1.Outside})),$e.series.push(new ScatterSeries({itemsSource:e,markerType:MarkerType$1.Circle,markerSize:3,markerFill:OxyColors$1.White,markerStroke:OxyColors$1.Black,dataFieldX:"x",dataFieldY:"y"})),$e}const category="Examples from the book 'Show Me the Numbers'",ShowMeTheNumbersExamples={category,tags:["Showcase"],examples:[{title:"Q1 2003 Calls by Region",example:{model:graph1}},{title:"2003 Sales",example:{model:graph2}},{title:"Headcount",example:{model:graph3}},{title:"Regional % of Total Expenses",example:{model:graph4}},{title:"Actual to Plan Variance",example:{model:graph5}},{title:"Order Count by Order Size",example:{model:graph6}},{title:"Correlation of Employee Heights and Salaries",example:{model:graph7}}]},ShowCases=[ShowCases$1,ShowMeTheNumbersExamples],allExampleCats=[...Annotations,...Axes,...Discussions,...CustomSeries,...Exps,...Misc,...Series$1,...ShowCases];let finalExamples=[];for(const $e of allExampleCats){const e=finalExamples.find(t=>t.category===$e.category);e?e.examples.push(...$e.examples):finalExamples.push($e)}finalExamples=sortArray(finalExamples,[["category","ASC"]]);const examples=finalExamples,oxyPlotImg="/oxyplot-js/assets/OxyPlot-4SQiqpWf.png",scriptRel="modulepreload",assetsURL=function($e){return"/oxyplot-js/"+$e},seen={},__vitePreload=function $e(e,t,r){let Ve=Promise.resolve();if(t&&t.length>0){const je=document.getElementsByTagName("link");Ve=Promise.all(t.map(ze=>{if(ze=assetsURL(ze),ze in seen)return;seen[ze]=!0;const Xe=ze.endsWith(".css"),We=Xe?'[rel="stylesheet"]':"";if(!!r)for(let Ze=je.length-1;Ze>=0;Ze--){const Je=je[Ze];if(Je.href===ze&&(!Xe||Je.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${ze}"]${We}`))return;const Ke=document.createElement("link");if(Ke.rel=Xe?"stylesheet":scriptRel,Xe||(Ke.as="script",Ke.crossOrigin=""),Ke.href=ze,document.head.appendChild(Ke),Xe)return new Promise((Ze,Je)=>{Ke.addEventListener("load",Ze),Ke.addEventListener("error",()=>Je(new Error(`Unable to preload CSS for ${ze}`)))})}))}return Ve.then(()=>e()).catch(je=>{const ze=new Event("vite:preloadError",{cancelable:!0});if(ze.payload=je,window.dispatchEvent(ze),!ze.defaultPrevented)throw je})};var Nh=Object.defineProperty,Oh=($e,e,t)=>e in $e?Nh($e,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):$e[e]=t,dn=($e,e,t)=>(Oh($e,typeof e!="symbol"?e+"":e,t),t),Ye=Object.defineProperty,Ge=($e,e,t)=>e in $e?Ye($e,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):$e[e]=t,D$1=($e,e,t)=>(Ge($e,typeof e!="symbol"?e+"":e,t),t),Fe=($e,e,t)=>{if(!e.has($e))throw TypeError("Cannot "+t)},Wt$1=($e,e,t)=>(Fe($e,e,"read from private field"),t?t.call($e):e.get($e)),Le$1=($e,e,t)=>{if(e.has($e))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add($e):e.set($e,t)},we$1=($e,e,t,r)=>(Fe($e,e,"write to private field"),r?r.call($e,t):e.set($e,t),t),Be=($e,e,t)=>(Fe($e,e,"access private method"),t),DayOfWeek=($e=>($e[$e.Sunday=0]="Sunday",$e[$e.Monday=1]="Monday",$e[$e.Tuesday=2]="Tuesday",$e[$e.Wednesday=3]="Wednesday",$e[$e.Thursday=4]="Thursday",$e[$e.Friday=5]="Friday",$e[$e.Saturday=6]="Saturday",$e))(DayOfWeek||{});function groupBy($e,e){return groupBy2($e,t=>t[e])}function groupBy2($e,e){return $e.reduce((t,r)=>{const Ve=e(r);let je=t.get(Ve);return je?je.push(r):(je=[r],t.set(Ve,je)),t},new Map)}function indexOfAny($e,e,t=0){for(let r=t;r<$e.length;r++)if(e.includes($e[r]))return r;return-1}function create2DArray($e,e,t){const r=Array($e);for(let Ve=0;Ve<$e;Ve++)r[Ve]=new Array(e),t!==void 0&&r[Ve].fill(t);return r}function arrayRemoveFirst($e,e){const t=$e.indexOf(e);return t>-1?($e.splice(t,1),!0):!1}function arrayRemoveIf($e,e){let t=0;for(let r=$e.length-1;r>=0;r--)e($e[r])&&($e.splice(r,1),t++);return t}function pushMany($e,e){for(let t=0;t<e.length;t++)$e.push(e[t])}function getReversedCopy($e){if(!$e||$e.length===0)return[];const e=[];return pushMany(e,$e),e.reverse()}function maxValueOfArray($e,...e){let t=0;return $e.length>=1e5?t=$e.reduce(function(r,Ve){return Math.max(r,Ve)}):t=Math.max.apply(null,$e),!e||e.length===0?t:Math.max(t,...e)}function minValueOfArray($e,...e){let t=0;return $e.length>=1e5?t=$e.reduce(function(r,Ve){return Math.min(r,Ve)}):t=Math.min.apply(null,$e),!e||e.length===0?t:Math.min(t,...e)}function arrayBufferToBase64($e){const e=Array.from($e,t=>String.fromCharCode(t));return btoa(e.join(""))}const DateTime_MaxValue=new Date(9999,11,31,23,59,59,999),DateTime_MinValue=new Date(1,0,1,0,0,0,0);DateTime_MinValue.setUTCFullYear(1);DateTime_MinValue.setUTCMonth(0);DateTime_MinValue.setUTCDate(1);DateTime_MinValue.setUTCHours(0);DateTime_MinValue.setUTCMinutes(0);DateTime_MinValue.setUTCSeconds(0);DateTime_MinValue.setUTCMilliseconds(0);var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs($e){return $e&&$e.__esModule&&Object.prototype.hasOwnProperty.call($e,"default")?$e.default:$e}function getAugmentedNamespace($e){if($e.__esModule)return $e;var e=$e.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys($e).forEach(function(r){var Ve=Object.getOwnPropertyDescriptor($e,r);Object.defineProperty(t,r,Ve.get?Ve:{enumerable:!0,get:function(){return $e[r]}})}),t}var dayjs_min={exports:{}};(function($e,e){(function(t,r){$e.exports=r()})(commonjsGlobal,function(){var t=1e3,r=6e4,Ve=36e5,je="millisecond",ze="second",Xe="minute",We="hour",qe="day",Ke="week",Ze="month",Je="quarter",Qe="year",ti="date",ni="Invalid Date",ri=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,ii=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,ei={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(gi){var _i=["th","st","nd","rd"],Ai=gi%100;return"["+gi+(_i[(Ai-20)%10]||_i[Ai]||_i[0])+"]"}},St=function(gi,_i,Ai){var ki=String(gi);return!ki||ki.length>=_i?gi:""+Array(_i+1-ki.length).join(Ai)+gi},oi={s:St,z:function(gi){var _i=-gi.utcOffset(),Ai=Math.abs(_i),ki=Math.floor(Ai/60),vi=Ai%60;return(_i<=0?"+":"-")+St(ki,2,"0")+":"+St(vi,2,"0")},m:function gi(_i,Ai){if(_i.date()<Ai.date())return-gi(Ai,_i);var ki=12*(Ai.year()-_i.year())+(Ai.month()-_i.month()),vi=_i.clone().add(ki,Ze),Mi=Ai-vi<0,Di=_i.clone().add(ki+(Mi?-1:1),Ze);return+(-(ki+(Ai-vi)/(Mi?vi-Di:Di-vi))||0)},a:function(gi){return gi<0?Math.ceil(gi)||0:Math.floor(gi)},p:function(gi){return{M:Ze,y:Qe,w:Ke,d:qe,D:ti,h:We,m:Xe,s:ze,ms:je,Q:Je}[gi]||String(gi||"").toLowerCase().replace(/s$/,"")},u:function(gi){return gi===void 0}},si="en",ai={};ai[si]=ei;var ui="$isDayjsObject",hi=function(gi){return gi instanceof pi||!(!gi||!gi[ui])},ci=function gi(_i,Ai,ki){var vi;if(!_i)return si;if(typeof _i=="string"){var Mi=_i.toLowerCase();ai[Mi]&&(vi=Mi),Ai&&(ai[Mi]=Ai,vi=Mi);var Di=_i.split("-");if(!vi&&Di.length>1)return gi(Di[0])}else{var Bi=_i.name;ai[Bi]=_i,vi=Bi}return!ki&&vi&&(si=vi),vi||!ki&&si},mi=function(gi,_i){if(hi(gi))return gi.clone();var Ai=typeof _i=="object"?_i:{};return Ai.date=gi,Ai.args=arguments,new pi(Ai)},di=oi;di.l=ci,di.i=hi,di.w=function(gi,_i){return mi(gi,{locale:_i.$L,utc:_i.$u,x:_i.$x,$offset:_i.$offset})};var pi=function(){function gi(Ai){this.$L=ci(Ai.locale,null,!0),this.parse(Ai),this.$x=this.$x||Ai.x||{},this[ui]=!0}var _i=gi.prototype;return _i.parse=function(Ai){this.$d=function(ki){var vi=ki.date,Mi=ki.utc;if(vi===null)return new Date(NaN);if(di.u(vi))return new Date;if(vi instanceof Date)return new Date(vi);if(typeof vi=="string"&&!/Z$/i.test(vi)){var Di=vi.match(ri);if(Di){var Bi=Di[2]-1||0,Pi=(Di[7]||"0").substring(0,3);return Mi?new Date(Date.UTC(Di[1],Bi,Di[3]||1,Di[4]||0,Di[5]||0,Di[6]||0,Pi)):new Date(Di[1],Bi,Di[3]||1,Di[4]||0,Di[5]||0,Di[6]||0,Pi)}}return new Date(vi)}(Ai),this.init()},_i.init=function(){var Ai=this.$d;this.$y=Ai.getFullYear(),this.$M=Ai.getMonth(),this.$D=Ai.getDate(),this.$W=Ai.getDay(),this.$H=Ai.getHours(),this.$m=Ai.getMinutes(),this.$s=Ai.getSeconds(),this.$ms=Ai.getMilliseconds()},_i.$utils=function(){return di},_i.isValid=function(){return this.$d.toString()!==ni},_i.isSame=function(Ai,ki){var vi=mi(Ai);return this.startOf(ki)<=vi&&vi<=this.endOf(ki)},_i.isAfter=function(Ai,ki){return mi(Ai)<this.startOf(ki)},_i.isBefore=function(Ai,ki){return this.endOf(ki)<mi(Ai)},_i.$g=function(Ai,ki,vi){return di.u(Ai)?this[ki]:this.set(vi,Ai)},_i.unix=function(){return Math.floor(this.valueOf()/1e3)},_i.valueOf=function(){return this.$d.getTime()},_i.startOf=function(Ai,ki){var vi=this,Mi=!!di.u(ki)||ki,Di=di.p(Ai),Bi=function(Xi,xi){var fi=di.w(vi.$u?Date.UTC(vi.$y,xi,Xi):new Date(vi.$y,xi,Xi),vi);return Mi?fi:fi.endOf(qe)},Pi=function(Xi,xi){return di.w(vi.toDate()[Xi].apply(vi.toDate("s"),(Mi?[0,0,0,0]:[23,59,59,999]).slice(xi)),vi)},Fi=this.$W,Vi=this.$M,Ti=this.$D,ji="set"+(this.$u?"UTC":"");switch(Di){case Qe:return Mi?Bi(1,0):Bi(31,11);case Ze:return Mi?Bi(1,Vi):Bi(0,Vi+1);case Ke:var Gi=this.$locale().weekStart||0,Yi=(Fi<Gi?Fi+7:Fi)-Gi;return Bi(Mi?Ti-Yi:Ti+(6-Yi),Vi);case qe:case ti:return Pi(ji+"Hours",0);case We:return Pi(ji+"Minutes",1);case Xe:return Pi(ji+"Seconds",2);case ze:return Pi(ji+"Milliseconds",3);default:return this.clone()}},_i.endOf=function(Ai){return this.startOf(Ai,!1)},_i.$set=function(Ai,ki){var vi,Mi=di.p(Ai),Di="set"+(this.$u?"UTC":""),Bi=(vi={},vi[qe]=Di+"Date",vi[ti]=Di+"Date",vi[Ze]=Di+"Month",vi[Qe]=Di+"FullYear",vi[We]=Di+"Hours",vi[Xe]=Di+"Minutes",vi[ze]=Di+"Seconds",vi[je]=Di+"Milliseconds",vi)[Mi],Pi=Mi===qe?this.$D+(ki-this.$W):ki;if(Mi===Ze||Mi===Qe){var Fi=this.clone().set(ti,1);Fi.$d[Bi](Pi),Fi.init(),this.$d=Fi.set(ti,Math.min(this.$D,Fi.daysInMonth())).$d}else Bi&&this.$d[Bi](Pi);return this.init(),this},_i.set=function(Ai,ki){return this.clone().$set(Ai,ki)},_i.get=function(Ai){return this[di.p(Ai)]()},_i.add=function(Ai,ki){var vi,Mi=this;Ai=Number(Ai);var Di=di.p(ki),Bi=function(Vi){var Ti=mi(Mi);return di.w(Ti.date(Ti.date()+Math.round(Vi*Ai)),Mi)};if(Di===Ze)return this.set(Ze,this.$M+Ai);if(Di===Qe)return this.set(Qe,this.$y+Ai);if(Di===qe)return Bi(1);if(Di===Ke)return Bi(7);var Pi=(vi={},vi[Xe]=r,vi[We]=Ve,vi[ze]=t,vi)[Di]||1,Fi=this.$d.getTime()+Ai*Pi;return di.w(Fi,this)},_i.subtract=function(Ai,ki){return this.add(-1*Ai,ki)},_i.format=function(Ai){var ki=this,vi=this.$locale();if(!this.isValid())return vi.invalidDate||ni;var Mi=Ai||"YYYY-MM-DDTHH:mm:ssZ",Di=di.z(this),Bi=this.$H,Pi=this.$m,Fi=this.$M,Vi=vi.weekdays,Ti=vi.months,ji=vi.meridiem,Gi=function(xi,fi,$i,bi){return xi&&(xi[fi]||xi(ki,Mi))||$i[fi].slice(0,bi)},Yi=function(xi){return di.s(Bi%12||12,xi,"0")},Xi=ji||function(xi,fi,$i){var bi=xi<12?"AM":"PM";return $i?bi.toLowerCase():bi};return Mi.replace(ii,function(xi,fi){return fi||function($i){switch($i){case"YY":return String(ki.$y).slice(-2);case"YYYY":return di.s(ki.$y,4,"0");case"M":return Fi+1;case"MM":return di.s(Fi+1,2,"0");case"MMM":return Gi(vi.monthsShort,Fi,Ti,3);case"MMMM":return Gi(Ti,Fi);case"D":return ki.$D;case"DD":return di.s(ki.$D,2,"0");case"d":return String(ki.$W);case"dd":return Gi(vi.weekdaysMin,ki.$W,Vi,2);case"ddd":return Gi(vi.weekdaysShort,ki.$W,Vi,3);case"dddd":return Vi[ki.$W];case"H":return String(Bi);case"HH":return di.s(Bi,2,"0");case"h":return Yi(1);case"hh":return Yi(2);case"a":return Xi(Bi,Pi,!0);case"A":return Xi(Bi,Pi,!1);case"m":return String(Pi);case"mm":return di.s(Pi,2,"0");case"s":return String(ki.$s);case"ss":return di.s(ki.$s,2,"0");case"SSS":return di.s(ki.$ms,3,"0");case"Z":return Di}return null}(xi)||Di.replace(":","")})},_i.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},_i.diff=function(Ai,ki,vi){var Mi,Di=this,Bi=di.p(ki),Pi=mi(Ai),Fi=(Pi.utcOffset()-this.utcOffset())*r,Vi=this-Pi,Ti=function(){return di.m(Di,Pi)};switch(Bi){case Qe:Mi=Ti()/12;break;case Ze:Mi=Ti();break;case Je:Mi=Ti()/3;break;case Ke:Mi=(Vi-Fi)/6048e5;break;case qe:Mi=(Vi-Fi)/864e5;break;case We:Mi=Vi/Ve;break;case Xe:Mi=Vi/r;break;case ze:Mi=Vi/t;break;default:Mi=Vi}return vi?Mi:di.a(Mi)},_i.daysInMonth=function(){return this.endOf(Ze).$D},_i.$locale=function(){return ai[this.$L]},_i.locale=function(Ai,ki){if(!Ai)return this.$L;var vi=this.clone(),Mi=ci(Ai,ki,!0);return Mi&&(vi.$L=Mi),vi},_i.clone=function(){return di.w(this.$d,this)},_i.toDate=function(){return new Date(this.valueOf())},_i.toJSON=function(){return this.isValid()?this.toISOString():null},_i.toISOString=function(){return this.$d.toISOString()},_i.toString=function(){return this.$d.toUTCString()},gi}(),yi=pi.prototype;return mi.prototype=yi,[["$ms",je],["$s",ze],["$m",Xe],["$H",We],["$W",qe],["$M",Ze],["$y",Qe],["$D",ti]].forEach(function(gi){yi[gi[1]]=function(_i){return this.$g(_i,gi[0],gi[1])}}),mi.extend=function(gi,_i){return gi.$i||(gi(_i,pi,mi),gi.$i=!0),mi},mi.locale=ci,mi.isDayjs=hi,mi.unix=function(gi){return mi(1e3*gi)},mi.en=ai[si],mi.Ls=ai,mi.p={},mi})})(dayjs_min);var dayjs_minExports=dayjs_min.exports;const dayjs=getDefaultExportFromCjs(dayjs_minExports);var utc$1={exports:{}};(function($e,e){(function(t,r){$e.exports=r()})(commonjsGlobal,function(){var t="minute",r=/[+-]\d\d(?::?\d\d)?/g,Ve=/([+-]|\d\d)/g;return function(je,ze,Xe){var We=ze.prototype;Xe.utc=function(ni){var ri={date:ni,utc:!0,args:arguments};return new ze(ri)},We.utc=function(ni){var ri=Xe(this.toDate(),{locale:this.$L,utc:!0});return ni?ri.add(this.utcOffset(),t):ri},We.local=function(){return Xe(this.toDate(),{locale:this.$L,utc:!1})};var qe=We.parse;We.parse=function(ni){ni.utc&&(this.$u=!0),this.$utils().u(ni.$offset)||(this.$offset=ni.$offset),qe.call(this,ni)};var Ke=We.init;We.init=function(){if(this.$u){var ni=this.$d;this.$y=ni.getUTCFullYear(),this.$M=ni.getUTCMonth(),this.$D=ni.getUTCDate(),this.$W=ni.getUTCDay(),this.$H=ni.getUTCHours(),this.$m=ni.getUTCMinutes(),this.$s=ni.getUTCSeconds(),this.$ms=ni.getUTCMilliseconds()}else Ke.call(this)};var Ze=We.utcOffset;We.utcOffset=function(ni,ri){var ii=this.$utils().u;if(ii(ni))return this.$u?0:ii(this.$offset)?Ze.call(this):this.$offset;if(typeof ni=="string"&&(ni=function(si){si===void 0&&(si="");var ai=si.match(r);if(!ai)return null;var ui=(""+ai[0]).match(Ve)||["-",0,0],hi=ui[0],ci=60*+ui[1]+ +ui[2];return ci===0?0:hi==="+"?ci:-ci}(ni),ni===null))return this;var ei=Math.abs(ni)<=16?60*ni:ni,St=this;if(ri)return St.$offset=ei,St.$u=ni===0,St;if(ni!==0){var oi=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(St=this.local().add(ei+oi,t)).$offset=ei,St.$x.$localOffset=oi}else St=this.utc();return St};var Je=We.format;We.format=function(ni){var ri=ni||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return Je.call(this,ri)},We.valueOf=function(){var ni=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*ni},We.isUTC=function(){return!!this.$u},We.toISOString=function(){return this.toDate().toISOString()},We.toString=function(){return this.toDate().toUTCString()};var Qe=We.toDate;We.toDate=function(ni){return ni==="s"&&this.$offset?Xe(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():Qe.call(this)};var ti=We.diff;We.diff=function(ni,ri,ii){if(ni&&this.$u===ni.$u)return ti.call(this,ni,ri,ii);var ei=this.local(),St=Xe(ni).local();return ti.call(ei,St,ri,ii)}}})})(utc$1);var utcExports=utc$1.exports;const utc=getDefaultExportFromCjs(utcExports);var timezone$1={exports:{}};(function($e,e){(function(t,r){$e.exports=r()})(commonjsGlobal,function(){var t={year:0,month:1,day:2,hour:3,minute:4,second:5},r={};return function(Ve,je,ze){var Xe,We=function(Je,Qe,ti){ti===void 0&&(ti={});var ni=new Date(Je),ri=function(ii,ei){ei===void 0&&(ei={});var St=ei.timeZoneName||"short",oi=ii+"|"+St,si=r[oi];return si||(si=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:ii,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:St}),r[oi]=si),si}(Qe,ti);return ri.formatToParts(ni)},qe=function(Je,Qe){for(var ti=We(Je,Qe),ni=[],ri=0;ri<ti.length;ri+=1){var ii=ti[ri],ei=ii.type,St=ii.value,oi=t[ei];oi>=0&&(ni[oi]=parseInt(St,10))}var si=ni[3],ai=si===24?0:si,ui=ni[0]+"-"+ni[1]+"-"+ni[2]+" "+ai+":"+ni[4]+":"+ni[5]+":000",hi=+Je;return(ze.utc(ui).valueOf()-(hi-=hi%1e3))/6e4},Ke=je.prototype;Ke.tz=function(Je,Qe){Je===void 0&&(Je=Xe);var ti=this.utcOffset(),ni=this.toDate(),ri=ni.toLocaleString("en-US",{timeZone:Je}),ii=Math.round((ni-new Date(ri))/1e3/60),ei=ze(ri,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(15*-Math.round(ni.getTimezoneOffset()/15)-ii,!0);if(Qe){var St=ei.utcOffset();ei=ei.add(ti-St,"minute")}return ei.$x.$timezone=Je,ei},Ke.offsetName=function(Je){var Qe=this.$x.$timezone||ze.tz.guess(),ti=We(this.valueOf(),Qe,{timeZoneName:Je}).find(function(ni){return ni.type.toLowerCase()==="timezonename"});return ti&&ti.value};var Ze=Ke.startOf;Ke.startOf=function(Je,Qe){if(!this.$x||!this.$x.$timezone)return Ze.call(this,Je,Qe);var ti=ze(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return Ze.call(ti,Je,Qe).tz(this.$x.$timezone,!0)},ze.tz=function(Je,Qe,ti){var ni=ti&&Qe,ri=ti||Qe||Xe,ii=qe(+ze(),ri);if(typeof Je!="string")return ze(Je).tz(ri);var ei=function(ai,ui,hi){var ci=ai-60*ui*1e3,mi=qe(ci,hi);if(ui===mi)return[ci,ui];var di=qe(ci-=60*(mi-ui)*1e3,hi);return mi===di?[ci,mi]:[ai-60*Math.min(mi,di)*1e3,Math.max(mi,di)]}(ze.utc(Je,ni).valueOf(),ii,ri),St=ei[0],oi=ei[1],si=ze(St).utcOffset(oi);return si.$x.$timezone=ri,si},ze.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},ze.tz.setDefault=function(Je){Xe=Je}}})})(timezone$1);var timezoneExports=timezone$1.exports;const timezone=getDefaultExportFromCjs(timezoneExports);function getDateService(){return DefaultDateService}dayjs.extend(utc);dayjs.extend(timezone);const DefaultDateService={format:($e,e)=>dayjs($e).format(e),convertTime:($e,e)=>dayjs($e).tz(e).toDate(),addYears:($e,e)=>dayjs($e).add(e,"year").toDate(),addMonths:($e,e)=>dayjs($e).add(e,"month").toDate(),addTimespan:($e,e)=>{let t=dayjs($e);return e.days&&(t=t.add(e.days,"day")),e.hours&&(t=t.add(e.hours,"hour")),e.minutes&&(t=t.add(e.minutes,"minute")),e.seconds&&(t=t.add(e.seconds,"second")),e.milliseconds&&(t=t.add(e.milliseconds,"millisecond")),t.toDate()},dayOfWeek:$e=>dayjs($e).day(),diff:($e,e)=>{const t=dayjs($e).diff(dayjs(e));return TimeSpan.fromMilliseconds(t)}},bitMethods={getBit($e){return this.data[getSlot($e)]&1<<getShift($e)?1:0},setBit($e){this.data[getSlot($e)]|=1<<getShift($e)},clearBit($e){this.data[getSlot($e)]&=~(1<<getShift($e))},toggleBit($e){this.data[getSlot($e)]^=1<<getShift($e)},getBitXY($e,e){return $e>=this.width||e>=this.height?0:this.getBit(e*this.width+$e)},setBitXY($e,e){this.setBit(e*this.width+$e)},clearBitXY($e,e){this.clearBit(e*this.width+$e)},toggleBitXY($e,e){this.toggleBit(e*this.width+$e)}};function getSlot($e){return $e>>3}function getShift($e){return 7-($e&7)}function setBitMethods($e){for(const e in bitMethods)$e.prototype[e]=bitMethods[e]}function checkProcessable($e,e={}){let{bitDepth:t,alpha:r,colorModel:Ve,components:je,channels:ze}=e;if(typeof $e!="string"||$e.length===0)throw new TypeError("processName must be a string");if(t&&(Array.isArray(t)||(t=[t]),!t.includes(this.bitDepth)))throw new TypeError(`The process: ${$e} can only be applied if bit depth is in: ${t}`);if(r&&(Array.isArray(r)||(r=[r]),!r.includes(this.alpha)))throw new TypeError(`The process: ${$e} can only be applied if alpha is in: ${r}`);if(Ve&&(Array.isArray(Ve)||(Ve=[Ve]),!Ve.includes(this.colorModel)))throw new TypeError(`The process: ${$e} can only be applied if color model is in: ${Ve}`);if(je&&(Array.isArray(je)||(je=[je]),!je.includes(this.components))){let Xe=`The process: ${$e} can only be applied if the number of components is in: ${je}`;throw je.length===1&&je[0]===1?new TypeError(`${Xe}.\rYou should transform your image using "image.grey()" before applying the algorithm.`):new TypeError(Xe)}if(ze&&(Array.isArray(ze)||(ze=[ze]),!ze.includes(this.channels)))throw new TypeError(`The process: ${$e} can only be applied if the number of channels is in: ${ze}`)}function createBlob($e,e){$e=$e||[],e=e||{},typeof e=="string"&&(e={type:e});try{return new Blob($e,e)}catch(je){if(je.name!=="TypeError")throw je;for(var t=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,r=new t,Ve=0;Ve<$e.length;Ve+=1)r.append($e[Ve]);return r.getBlob(e.type)}}function dataURLToBlob($e){var e=$e.match(/data:([^;]+)/)[1],t=$e.replace(/^[^,]+,/,""),r=binaryStringToArrayBuffer(atob(t));return createBlob([r],{type:e})}function canvasToBlob($e,e,t){return typeof $e.toBlob=="function"?new Promise(function(r){$e.toBlob(r,e,t)}):Promise.resolve(dataURLToBlob($e.toDataURL(e,t)))}function binaryStringToArrayBuffer($e){for(var e=$e.length,t=new ArrayBuffer(e),r=new Uint8Array(t),Ve=-1;++Ve<e;)r[Ve]=$e.charCodeAt(Ve);return t}(function($e){if($e.TextEncoder&&$e.TextDecoder)return!1;function e(r="utf-8"){if(r!=="utf-8")throw new RangeError(`Failed to construct 'TextEncoder': The encoding label provided ('${r}') is invalid.`)}Object.defineProperty(e.prototype,"encoding",{value:"utf-8"}),e.prototype.encode=function(r,Ve={stream:!1}){if(Ve.stream)throw new Error("Failed to encode: the 'stream' option is unsupported.");let je=0;const ze=r.length;let Xe=0,We=Math.max(32,ze+(ze>>1)+7),qe=new Uint8Array(We>>3<<3);for(;je<ze;){let Ke=r.charCodeAt(je++);if(Ke>=55296&&Ke<=56319){if(je<ze){const Ze=r.charCodeAt(je);(Ze&64512)===56320&&(++je,Ke=((Ke&1023)<<10)+(Ze&1023)+65536)}if(Ke>=55296&&Ke<=56319)continue}if(Xe+4>qe.length){We+=8,We*=1+je/r.length*2,We=We>>3<<3;const Ze=new Uint8Array(We);Ze.set(qe),qe=Ze}if(Ke&4294967168)if(!(Ke&4294965248))qe[Xe++]=Ke>>6&31|192;else if(!(Ke&4294901760))qe[Xe++]=Ke>>12&15|224,qe[Xe++]=Ke>>6&63|128;else if(!(Ke&4292870144))qe[Xe++]=Ke>>18&7|240,qe[Xe++]=Ke>>12&63|128,qe[Xe++]=Ke>>6&63|128;else continue;else{qe[Xe++]=Ke;continue}qe[Xe++]=Ke&63|128}return qe.slice(0,Xe)};function t(r="utf-8",Ve={fatal:!1}){if(r!=="utf-8")throw new RangeError(`Failed to construct 'TextDecoder': The encoding label provided ('${r}') is invalid.`);if(Ve.fatal)throw new Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}Object.defineProperty(t.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(t.prototype,"fatal",{value:!1}),Object.defineProperty(t.prototype,"ignoreBOM",{value:!1}),t.prototype.decode=function(r,Ve={stream:!1}){if(Ve.stream)throw new Error("Failed to decode: the 'stream' option is unsupported.");const je=new Uint8Array(r);let ze=0;const Xe=je.length,We=[];for(;ze<Xe;){const qe=je[ze++];if(qe===0)break;if(!(qe&128))We.push(qe);else if((qe&224)===192){const Ke=je[ze++]&63;We.push((qe&31)<<6|Ke)}else if((qe&240)===224){const Ke=je[ze++]&63,Ze=je[ze++]&63;We.push((qe&31)<<12|Ke<<6|Ze)}else if((qe&248)===240){const Ke=je[ze++]&63,Ze=je[ze++]&63,Je=je[ze++]&63;let Qe=(qe&7)<<18|Ke<<12|Ze<<6|Je;Qe>65535&&(Qe-=65536,We.push(Qe>>>10&1023|55296),Qe=56320|Qe&1023),We.push(Qe)}}return String.fromCharCode.apply(null,We)},$e.TextEncoder=e,$e.TextDecoder=t})(typeof window<"u"?window:typeof self<"u"?self:void 0);function decode$5($e,e="utf8"){return new TextDecoder(e).decode($e)}const encoder$1=new TextEncoder;function encode$3($e){return encoder$1.encode($e)}const defaultByteLength$1=1024*8,hostBigEndian=(()=>{const $e=new Uint8Array(4),e=new Uint32Array($e.buffer);return!((e[0]=1)&$e[0])})(),typedArrays={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};let IOBuffer$4=class Fh{constructor(e=defaultByteLength$1,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const Ve=t.offset?t.offset>>>0:0,je=e.byteLength-Ve;let ze=Ve;(ArrayBuffer.isView(e)||e instanceof Fh)&&(e.byteLength!==e.buffer.byteLength&&(ze=e.byteOffset+Ve),e=e.buffer),r?this.lastWrittenByte=je:this.lastWrittenByte=0,this.buffer=e,this.length=je,this.byteLength=je,this.byteOffset=ze,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,ze,je),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const t=(this.offset+e)*2,r=new Uint8Array(t);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=this.byteLength=t,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=typedArrays[t].BYTES_PER_ELEMENT*e,Ve=this.byteOffset+this.offset,je=this.buffer.slice(Ve,Ve+r);if(this.littleEndian===hostBigEndian&&t!=="uint8"&&t!=="int8"){const Xe=new Uint8Array(this.buffer.slice(Ve,Ve+r));Xe.reverse();const We=new typedArrays[t](Xe.buffer);return this.offset+=r,We.reverse(),We}const ze=new typedArrays[t](je);return this.offset+=r,ze}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return decode$5(this.readBytes(e))}decodeText(e=1,t="utf-8"){return decode$5(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(encode$3(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}};const IOBuffer$5=Object.freeze(Object.defineProperty({__proto__:null,IOBuffer:IOBuffer$4},Symbol.toStringTag,{value:"Module"})),require$$0$3=getAugmentedNamespace(IOBuffer$5);var constants$4={BITMAPV5HEADER:{LogicalColorSpace:{LCS_CALIBRATED_RGB:0,LCS_sRGB:1934772034,LCS_WINDOWS_COLOR_SPACE:1466527264},Compression:{BI_RGB:0,BI_RLE8:1,BI_RLE4:2,BI_BITFIELDS:3,BI_JPEG:4,BI_PNG:5,BI_CMYK:11,BI_CMYKRLE8:12,BI_CMYKRLE4:13},GamutMappingIntent:{LCS_GM_ABS_COLORIMETRIC:8,LCS_GM_BUSINESS:1,LCS_GM_GRAPHICS:2,LCS_GM_IMAGES:4}}};const{IOBuffer:IOBuffer$3}=require$$0$3,constants$3=constants$4,tableLeft=[];for(let $e=0;$e<=8;$e++)tableLeft.push(255<<$e);class BMPEncoder extends IOBuffer$3{constructor(e){if(e.bitDepth!==1)throw new Error("Only bitDepth of 1 is supported");if(!e.height||!e.width)throw new Error("ImageData width and height are required");super(e.data),this.width=e.width,this.height=e.height,this.bitDepth=e.bitDepth,this.channels=e.channels,this.components=e.components}encode(){this.encoded=new IOBuffer$3,this.encoded.skip(14),this.writeBitmapV5Header(),this.writeColorTable();const e=this.encoded.offset;return this.writePixelArray(),this.encoded.rewind(),this.writeBitmapFileHeader(e),this.encoded.toArray()}writePixelArray(){let e=this.encoded;const t=Math.floor((this.bitDepth*this.width+31)/32)*4,r=Math.ceil(this.bitDepth*this.width/8),Ve=t-r,je=this.bitDepth*this.width%8,ze=je===0?0:8-je,Xe=t*this.height;let We,qe,Ke=0,Ze=0,Je=8;e.mark(),qe=this.readUint8();for(let Qe=this.height-1;Qe>=0;Qe--){const ti=Qe===0;e.reset(),e.skip(Qe*t);for(let ni=0;ni<r;ni++){const ri=ni===r-1;Ze<=ze&&ri?(e.writeByte(qe<<Ze),(ze===0||ze===Ze)&&!ti&&(We=qe,qe=this.readByte())):Ze===0?(We=qe,qe=this.readUint8(),e.writeByte(We)):(We=qe,qe=this.readUint8(),e.writeByte(We<<Ze&tableLeft[Ze]|qe>>Je)),ri&&(Ke+=je||0,e.skip(Ve),Ze=Ke%8,Je=8-Ze)}}t>r&&(e.reset(),e.skip(Xe-1),e.writeUint8(0))}writeColorTable(){this.encoded.writeUint32(0).writeUint32(16777215)}writeBitmapFileHeader(e){this.encoded.writeChars("BM").writeInt32(this.encoded.lastWrittenByte).writeUint16(0).writeUint16(0).writeUint32(e)}writeBitmapV5Header(){const e=Math.floor((this.bitDepth*this.width+31)/32)*4*this.height;this.encoded.writeUint32(124).writeInt32(this.width).writeInt32(this.height).writeUint16(1).writeUint16(this.bitDepth).writeUint32(constants$3.BITMAPV5HEADER.Compression.BI_RGB).writeUint32(e).writeInt32(0).writeInt32(0).writeUint32(Math.pow(2,this.bitDepth)).writeUint32(Math.pow(2,this.bitDepth)).writeUint32(4278190080).writeUint32(16711680).writeUint32(65280).writeUint32(255).writeUint32(constants$3.BITMAPV5HEADER.LogicalColorSpace.LCS_sRGB).skip(36).skip(12).writeUint32(constants$3.BITMAPV5HEADER.GamutMappingIntent.LCS_GM_IMAGES).skip(12)}}var BMPEncoder_1=BMPEncoder;const Encoder=BMPEncoder_1;var encode$2=function($e){return new Encoder($e).encode()};/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1($e){let e=$e.length;for(;--e>=0;)$e[e]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc($e,e,t,r,Ve){this.static_tree=$e,this.extra_bits=e,this.extra_base=t,this.elems=r,this.max_length=Ve,this.has_stree=$e&&$e.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc($e,e){this.dyn_tree=$e,this.max_code=0,this.stat_desc=e}const d_code=$e=>$e<256?_dist_code[$e]:_dist_code[256+($e>>>7)],put_short=($e,e)=>{$e.pending_buf[$e.pending++]=e&255,$e.pending_buf[$e.pending++]=e>>>8&255},send_bits=($e,e,t)=>{$e.bi_valid>Buf_size-t?($e.bi_buf|=e<<$e.bi_valid&65535,put_short($e,$e.bi_buf),$e.bi_buf=e>>Buf_size-$e.bi_valid,$e.bi_valid+=t-Buf_size):($e.bi_buf|=e<<$e.bi_valid&65535,$e.bi_valid+=t)},send_code=($e,e,t)=>{send_bits($e,t[e*2],t[e*2+1])},bi_reverse=($e,e)=>{let t=0;do t|=$e&1,$e>>>=1,t<<=1;while(--e>0);return t>>>1},bi_flush=$e=>{$e.bi_valid===16?(put_short($e,$e.bi_buf),$e.bi_buf=0,$e.bi_valid=0):$e.bi_valid>=8&&($e.pending_buf[$e.pending++]=$e.bi_buf&255,$e.bi_buf>>=8,$e.bi_valid-=8)},gen_bitlen=($e,e)=>{const t=e.dyn_tree,r=e.max_code,Ve=e.stat_desc.static_tree,je=e.stat_desc.has_stree,ze=e.stat_desc.extra_bits,Xe=e.stat_desc.extra_base,We=e.stat_desc.max_length;let qe,Ke,Ze,Je,Qe,ti,ni=0;for(Je=0;Je<=MAX_BITS$1;Je++)$e.bl_count[Je]=0;for(t[$e.heap[$e.heap_max]*2+1]=0,qe=$e.heap_max+1;qe<HEAP_SIZE$1;qe++)Ke=$e.heap[qe],Je=t[t[Ke*2+1]*2+1]+1,Je>We&&(Je=We,ni++),t[Ke*2+1]=Je,!(Ke>r)&&($e.bl_count[Je]++,Qe=0,Ke>=Xe&&(Qe=ze[Ke-Xe]),ti=t[Ke*2],$e.opt_len+=ti*(Je+Qe),je&&($e.static_len+=ti*(Ve[Ke*2+1]+Qe)));if(ni!==0){do{for(Je=We-1;$e.bl_count[Je]===0;)Je--;$e.bl_count[Je]--,$e.bl_count[Je+1]+=2,$e.bl_count[We]--,ni-=2}while(ni>0);for(Je=We;Je!==0;Je--)for(Ke=$e.bl_count[Je];Ke!==0;)Ze=$e.heap[--qe],!(Ze>r)&&(t[Ze*2+1]!==Je&&($e.opt_len+=(Je-t[Ze*2+1])*t[Ze*2],t[Ze*2+1]=Je),Ke--)}},gen_codes=($e,e,t)=>{const r=new Array(MAX_BITS$1+1);let Ve=0,je,ze;for(je=1;je<=MAX_BITS$1;je++)Ve=Ve+t[je-1]<<1,r[je]=Ve;for(ze=0;ze<=e;ze++){let Xe=$e[ze*2+1];Xe!==0&&($e[ze*2]=bi_reverse(r[Xe]++,Xe))}},tr_static_init=()=>{let $e,e,t,r,Ve;const je=new Array(MAX_BITS$1+1);for(t=0,r=0;r<LENGTH_CODES$1-1;r++)for(base_length[r]=t,$e=0;$e<1<<extra_lbits[r];$e++)_length_code[t++]=r;for(_length_code[t-1]=r,Ve=0,r=0;r<16;r++)for(base_dist[r]=Ve,$e=0;$e<1<<extra_dbits[r];$e++)_dist_code[Ve++]=r;for(Ve>>=7;r<D_CODES$1;r++)for(base_dist[r]=Ve<<7,$e=0;$e<1<<extra_dbits[r]-7;$e++)_dist_code[256+Ve++]=r;for(e=0;e<=MAX_BITS$1;e++)je[e]=0;for($e=0;$e<=143;)static_ltree[$e*2+1]=8,$e++,je[8]++;for(;$e<=255;)static_ltree[$e*2+1]=9,$e++,je[9]++;for(;$e<=279;)static_ltree[$e*2+1]=7,$e++,je[7]++;for(;$e<=287;)static_ltree[$e*2+1]=8,$e++,je[8]++;for(gen_codes(static_ltree,L_CODES$1+1,je),$e=0;$e<D_CODES$1;$e++)static_dtree[$e*2+1]=5,static_dtree[$e*2]=bi_reverse($e,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=$e=>{let e;for(e=0;e<L_CODES$1;e++)$e.dyn_ltree[e*2]=0;for(e=0;e<D_CODES$1;e++)$e.dyn_dtree[e*2]=0;for(e=0;e<BL_CODES$1;e++)$e.bl_tree[e*2]=0;$e.dyn_ltree[END_BLOCK*2]=1,$e.opt_len=$e.static_len=0,$e.sym_next=$e.matches=0},bi_windup=$e=>{$e.bi_valid>8?put_short($e,$e.bi_buf):$e.bi_valid>0&&($e.pending_buf[$e.pending++]=$e.bi_buf),$e.bi_buf=0,$e.bi_valid=0},smaller=($e,e,t,r)=>{const Ve=e*2,je=t*2;return $e[Ve]<$e[je]||$e[Ve]===$e[je]&&r[e]<=r[t]},pqdownheap=($e,e,t)=>{const r=$e.heap[t];let Ve=t<<1;for(;Ve<=$e.heap_len&&(Ve<$e.heap_len&&smaller(e,$e.heap[Ve+1],$e.heap[Ve],$e.depth)&&Ve++,!smaller(e,r,$e.heap[Ve],$e.depth));)$e.heap[t]=$e.heap[Ve],t=Ve,Ve<<=1;$e.heap[t]=r},compress_block=($e,e,t)=>{let r,Ve,je=0,ze,Xe;if($e.sym_next!==0)do r=$e.pending_buf[$e.sym_buf+je++]&255,r+=($e.pending_buf[$e.sym_buf+je++]&255)<<8,Ve=$e.pending_buf[$e.sym_buf+je++],r===0?send_code($e,Ve,e):(ze=_length_code[Ve],send_code($e,ze+LITERALS$1+1,e),Xe=extra_lbits[ze],Xe!==0&&(Ve-=base_length[ze],send_bits($e,Ve,Xe)),r--,ze=d_code(r),send_code($e,ze,t),Xe=extra_dbits[ze],Xe!==0&&(r-=base_dist[ze],send_bits($e,r,Xe)));while(je<$e.sym_next);send_code($e,END_BLOCK,e)},build_tree=($e,e)=>{const t=e.dyn_tree,r=e.stat_desc.static_tree,Ve=e.stat_desc.has_stree,je=e.stat_desc.elems;let ze,Xe,We=-1,qe;for($e.heap_len=0,$e.heap_max=HEAP_SIZE$1,ze=0;ze<je;ze++)t[ze*2]!==0?($e.heap[++$e.heap_len]=We=ze,$e.depth[ze]=0):t[ze*2+1]=0;for(;$e.heap_len<2;)qe=$e.heap[++$e.heap_len]=We<2?++We:0,t[qe*2]=1,$e.depth[qe]=0,$e.opt_len--,Ve&&($e.static_len-=r[qe*2+1]);for(e.max_code=We,ze=$e.heap_len>>1;ze>=1;ze--)pqdownheap($e,t,ze);qe=je;do ze=$e.heap[1],$e.heap[1]=$e.heap[$e.heap_len--],pqdownheap($e,t,1),Xe=$e.heap[1],$e.heap[--$e.heap_max]=ze,$e.heap[--$e.heap_max]=Xe,t[qe*2]=t[ze*2]+t[Xe*2],$e.depth[qe]=($e.depth[ze]>=$e.depth[Xe]?$e.depth[ze]:$e.depth[Xe])+1,t[ze*2+1]=t[Xe*2+1]=qe,$e.heap[1]=qe++,pqdownheap($e,t,1);while($e.heap_len>=2);$e.heap[--$e.heap_max]=$e.heap[1],gen_bitlen($e,e),gen_codes(t,We,$e.bl_count)},scan_tree=($e,e,t)=>{let r,Ve=-1,je,ze=e[0*2+1],Xe=0,We=7,qe=4;for(ze===0&&(We=138,qe=3),e[(t+1)*2+1]=65535,r=0;r<=t;r++)je=ze,ze=e[(r+1)*2+1],!(++Xe<We&&je===ze)&&(Xe<qe?$e.bl_tree[je*2]+=Xe:je!==0?(je!==Ve&&$e.bl_tree[je*2]++,$e.bl_tree[REP_3_6*2]++):Xe<=10?$e.bl_tree[REPZ_3_10*2]++:$e.bl_tree[REPZ_11_138*2]++,Xe=0,Ve=je,ze===0?(We=138,qe=3):je===ze?(We=6,qe=3):(We=7,qe=4))},send_tree=($e,e,t)=>{let r,Ve=-1,je,ze=e[0*2+1],Xe=0,We=7,qe=4;for(ze===0&&(We=138,qe=3),r=0;r<=t;r++)if(je=ze,ze=e[(r+1)*2+1],!(++Xe<We&&je===ze)){if(Xe<qe)do send_code($e,je,$e.bl_tree);while(--Xe!==0);else je!==0?(je!==Ve&&(send_code($e,je,$e.bl_tree),Xe--),send_code($e,REP_3_6,$e.bl_tree),send_bits($e,Xe-3,2)):Xe<=10?(send_code($e,REPZ_3_10,$e.bl_tree),send_bits($e,Xe-3,3)):(send_code($e,REPZ_11_138,$e.bl_tree),send_bits($e,Xe-11,7));Xe=0,Ve=je,ze===0?(We=138,qe=3):je===ze?(We=6,qe=3):(We=7,qe=4)}},build_bl_tree=$e=>{let e;for(scan_tree($e,$e.dyn_ltree,$e.l_desc.max_code),scan_tree($e,$e.dyn_dtree,$e.d_desc.max_code),build_tree($e,$e.bl_desc),e=BL_CODES$1-1;e>=3&&$e.bl_tree[bl_order[e]*2+1]===0;e--);return $e.opt_len+=3*(e+1)+5+5+4,e},send_all_trees=($e,e,t,r)=>{let Ve;for(send_bits($e,e-257,5),send_bits($e,t-1,5),send_bits($e,r-4,4),Ve=0;Ve<r;Ve++)send_bits($e,$e.bl_tree[bl_order[Ve]*2+1],3);send_tree($e,$e.dyn_ltree,e-1),send_tree($e,$e.dyn_dtree,t-1)},detect_data_type=$e=>{let e=4093624447,t;for(t=0;t<=31;t++,e>>>=1)if(e&1&&$e.dyn_ltree[t*2]!==0)return Z_BINARY;if($e.dyn_ltree[9*2]!==0||$e.dyn_ltree[10*2]!==0||$e.dyn_ltree[13*2]!==0)return Z_TEXT;for(t=32;t<LITERALS$1;t++)if($e.dyn_ltree[t*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=$e=>{static_init_done||(tr_static_init(),static_init_done=!0),$e.l_desc=new TreeDesc($e.dyn_ltree,static_l_desc),$e.d_desc=new TreeDesc($e.dyn_dtree,static_d_desc),$e.bl_desc=new TreeDesc($e.bl_tree,static_bl_desc),$e.bi_buf=0,$e.bi_valid=0,init_block($e)},_tr_stored_block$1=($e,e,t,r)=>{send_bits($e,(STORED_BLOCK<<1)+(r?1:0),3),bi_windup($e),put_short($e,t),put_short($e,~t),t&&$e.pending_buf.set($e.window.subarray(e,e+t),$e.pending),$e.pending+=t},_tr_align$1=$e=>{send_bits($e,STATIC_TREES<<1,3),send_code($e,END_BLOCK,static_ltree),bi_flush($e)},_tr_flush_block$1=($e,e,t,r)=>{let Ve,je,ze=0;$e.level>0?($e.strm.data_type===Z_UNKNOWN$1&&($e.strm.data_type=detect_data_type($e)),build_tree($e,$e.l_desc),build_tree($e,$e.d_desc),ze=build_bl_tree($e),Ve=$e.opt_len+3+7>>>3,je=$e.static_len+3+7>>>3,je<=Ve&&(Ve=je)):Ve=je=t+5,t+4<=Ve&&e!==-1?_tr_stored_block$1($e,e,t,r):$e.strategy===Z_FIXED$1||je===Ve?(send_bits($e,(STATIC_TREES<<1)+(r?1:0),3),compress_block($e,static_ltree,static_dtree)):(send_bits($e,(DYN_TREES<<1)+(r?1:0),3),send_all_trees($e,$e.l_desc.max_code+1,$e.d_desc.max_code+1,ze+1),compress_block($e,$e.dyn_ltree,$e.dyn_dtree)),init_block($e),r&&bi_windup($e)},_tr_tally$1=($e,e,t)=>($e.pending_buf[$e.sym_buf+$e.sym_next++]=e,$e.pending_buf[$e.sym_buf+$e.sym_next++]=e>>8,$e.pending_buf[$e.sym_buf+$e.sym_next++]=t,e===0?$e.dyn_ltree[t*2]++:($e.matches++,e--,$e.dyn_ltree[(_length_code[t]+LITERALS$1+1)*2]++,$e.dyn_dtree[d_code(e)*2]++),$e.sym_next===$e.sym_end);var _tr_init_1=_tr_init$1,_tr_stored_block_1=_tr_stored_block$1,_tr_flush_block_1=_tr_flush_block$1,_tr_tally_1=_tr_tally$1,_tr_align_1=_tr_align$1,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=($e,e,t,r)=>{let Ve=$e&65535|0,je=$e>>>16&65535|0,ze=0;for(;t!==0;){ze=t>2e3?2e3:t,t-=ze;do Ve=Ve+e[r++]|0,je=je+Ve|0;while(--ze);Ve%=65521,je%=65521}return Ve|je<<16|0};var adler32_1=adler32;const makeTable=()=>{let $e,e=[];for(var t=0;t<256;t++){$e=t;for(var r=0;r<8;r++)$e=$e&1?3988292384^$e>>>1:$e>>>1;e[t]=$e}return e},crcTable$1=new Uint32Array(makeTable()),crc32=($e,e,t,r)=>{const Ve=crcTable$1,je=r+t;$e^=-1;for(let ze=r;ze<je;ze++)$e=$e>>>8^Ve[($e^e[ze])&255];return $e^-1};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,GZIP_STATE=57,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=($e,e)=>($e.msg=messages[e],e),rank=$e=>$e*2-($e>4?9:0),zero=$e=>{let e=$e.length;for(;--e>=0;)$e[e]=0},slide_hash=$e=>{let e,t,r,Ve=$e.w_size;e=$e.hash_size,r=e;do t=$e.head[--r],$e.head[r]=t>=Ve?t-Ve:0;while(--e);e=Ve,r=e;do t=$e.prev[--r],$e.prev[r]=t>=Ve?t-Ve:0;while(--e)};let HASH_ZLIB=($e,e,t)=>(e<<$e.hash_shift^t)&$e.hash_mask,HASH=HASH_ZLIB;const flush_pending=$e=>{const e=$e.state;let t=e.pending;t>$e.avail_out&&(t=$e.avail_out),t!==0&&($e.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+t),$e.next_out),$e.next_out+=t,e.pending_out+=t,$e.total_out+=t,$e.avail_out-=t,e.pending-=t,e.pending===0&&(e.pending_out=0))},flush_block_only=($e,e)=>{_tr_flush_block($e,$e.block_start>=0?$e.block_start:-1,$e.strstart-$e.block_start,e),$e.block_start=$e.strstart,flush_pending($e.strm)},put_byte=($e,e)=>{$e.pending_buf[$e.pending++]=e},putShortMSB=($e,e)=>{$e.pending_buf[$e.pending++]=e>>>8&255,$e.pending_buf[$e.pending++]=e&255},read_buf=($e,e,t,r)=>{let Ve=$e.avail_in;return Ve>r&&(Ve=r),Ve===0?0:($e.avail_in-=Ve,e.set($e.input.subarray($e.next_in,$e.next_in+Ve),t),$e.state.wrap===1?$e.adler=adler32_1($e.adler,e,Ve,t):$e.state.wrap===2&&($e.adler=crc32_1($e.adler,e,Ve,t)),$e.next_in+=Ve,$e.total_in+=Ve,Ve)},longest_match=($e,e)=>{let t=$e.max_chain_length,r=$e.strstart,Ve,je,ze=$e.prev_length,Xe=$e.nice_match;const We=$e.strstart>$e.w_size-MIN_LOOKAHEAD?$e.strstart-($e.w_size-MIN_LOOKAHEAD):0,qe=$e.window,Ke=$e.w_mask,Ze=$e.prev,Je=$e.strstart+MAX_MATCH;let Qe=qe[r+ze-1],ti=qe[r+ze];$e.prev_length>=$e.good_match&&(t>>=2),Xe>$e.lookahead&&(Xe=$e.lookahead);do if(Ve=e,!(qe[Ve+ze]!==ti||qe[Ve+ze-1]!==Qe||qe[Ve]!==qe[r]||qe[++Ve]!==qe[r+1])){r+=2,Ve++;do;while(qe[++r]===qe[++Ve]&&qe[++r]===qe[++Ve]&&qe[++r]===qe[++Ve]&&qe[++r]===qe[++Ve]&&qe[++r]===qe[++Ve]&&qe[++r]===qe[++Ve]&&qe[++r]===qe[++Ve]&&qe[++r]===qe[++Ve]&&r<Je);if(je=MAX_MATCH-(Je-r),r=Je-MAX_MATCH,je>ze){if($e.match_start=e,ze=je,je>=Xe)break;Qe=qe[r+ze-1],ti=qe[r+ze]}}while((e=Ze[e&Ke])>We&&--t!==0);return ze<=$e.lookahead?ze:$e.lookahead},fill_window=$e=>{const e=$e.w_size;let t,r,Ve;do{if(r=$e.window_size-$e.lookahead-$e.strstart,$e.strstart>=e+(e-MIN_LOOKAHEAD)&&($e.window.set($e.window.subarray(e,e+e-r),0),$e.match_start-=e,$e.strstart-=e,$e.block_start-=e,$e.insert>$e.strstart&&($e.insert=$e.strstart),slide_hash($e),r+=e),$e.strm.avail_in===0)break;if(t=read_buf($e.strm,$e.window,$e.strstart+$e.lookahead,r),$e.lookahead+=t,$e.lookahead+$e.insert>=MIN_MATCH)for(Ve=$e.strstart-$e.insert,$e.ins_h=$e.window[Ve],$e.ins_h=HASH($e,$e.ins_h,$e.window[Ve+1]);$e.insert&&($e.ins_h=HASH($e,$e.ins_h,$e.window[Ve+MIN_MATCH-1]),$e.prev[Ve&$e.w_mask]=$e.head[$e.ins_h],$e.head[$e.ins_h]=Ve,Ve++,$e.insert--,!($e.lookahead+$e.insert<MIN_MATCH)););}while($e.lookahead<MIN_LOOKAHEAD&&$e.strm.avail_in!==0)},deflate_stored=($e,e)=>{let t=$e.pending_buf_size-5>$e.w_size?$e.w_size:$e.pending_buf_size-5,r,Ve,je,ze=0,Xe=$e.strm.avail_in;do{if(r=65535,je=$e.bi_valid+42>>3,$e.strm.avail_out<je||(je=$e.strm.avail_out-je,Ve=$e.strstart-$e.block_start,r>Ve+$e.strm.avail_in&&(r=Ve+$e.strm.avail_in),r>je&&(r=je),r<t&&(r===0&&e!==Z_FINISH$3||e===Z_NO_FLUSH$2||r!==Ve+$e.strm.avail_in)))break;ze=e===Z_FINISH$3&&r===Ve+$e.strm.avail_in?1:0,_tr_stored_block($e,0,0,ze),$e.pending_buf[$e.pending-4]=r,$e.pending_buf[$e.pending-3]=r>>8,$e.pending_buf[$e.pending-2]=~r,$e.pending_buf[$e.pending-1]=~r>>8,flush_pending($e.strm),Ve&&(Ve>r&&(Ve=r),$e.strm.output.set($e.window.subarray($e.block_start,$e.block_start+Ve),$e.strm.next_out),$e.strm.next_out+=Ve,$e.strm.avail_out-=Ve,$e.strm.total_out+=Ve,$e.block_start+=Ve,r-=Ve),r&&(read_buf($e.strm,$e.strm.output,$e.strm.next_out,r),$e.strm.next_out+=r,$e.strm.avail_out-=r,$e.strm.total_out+=r)}while(ze===0);return Xe-=$e.strm.avail_in,Xe&&(Xe>=$e.w_size?($e.matches=2,$e.window.set($e.strm.input.subarray($e.strm.next_in-$e.w_size,$e.strm.next_in),0),$e.strstart=$e.w_size,$e.insert=$e.strstart):($e.window_size-$e.strstart<=Xe&&($e.strstart-=$e.w_size,$e.window.set($e.window.subarray($e.w_size,$e.w_size+$e.strstart),0),$e.matches<2&&$e.matches++,$e.insert>$e.strstart&&($e.insert=$e.strstart)),$e.window.set($e.strm.input.subarray($e.strm.next_in-Xe,$e.strm.next_in),$e.strstart),$e.strstart+=Xe,$e.insert+=Xe>$e.w_size-$e.insert?$e.w_size-$e.insert:Xe),$e.block_start=$e.strstart),$e.high_water<$e.strstart&&($e.high_water=$e.strstart),ze?BS_FINISH_DONE:e!==Z_NO_FLUSH$2&&e!==Z_FINISH$3&&$e.strm.avail_in===0&&$e.strstart===$e.block_start?BS_BLOCK_DONE:(je=$e.window_size-$e.strstart,$e.strm.avail_in>je&&$e.block_start>=$e.w_size&&($e.block_start-=$e.w_size,$e.strstart-=$e.w_size,$e.window.set($e.window.subarray($e.w_size,$e.w_size+$e.strstart),0),$e.matches<2&&$e.matches++,je+=$e.w_size,$e.insert>$e.strstart&&($e.insert=$e.strstart)),je>$e.strm.avail_in&&(je=$e.strm.avail_in),je&&(read_buf($e.strm,$e.window,$e.strstart,je),$e.strstart+=je,$e.insert+=je>$e.w_size-$e.insert?$e.w_size-$e.insert:je),$e.high_water<$e.strstart&&($e.high_water=$e.strstart),je=$e.bi_valid+42>>3,je=$e.pending_buf_size-je>65535?65535:$e.pending_buf_size-je,t=je>$e.w_size?$e.w_size:je,Ve=$e.strstart-$e.block_start,(Ve>=t||(Ve||e===Z_FINISH$3)&&e!==Z_NO_FLUSH$2&&$e.strm.avail_in===0&&Ve<=je)&&(r=Ve>je?je:Ve,ze=e===Z_FINISH$3&&$e.strm.avail_in===0&&r===Ve?1:0,_tr_stored_block($e,$e.block_start,r,ze),$e.block_start+=r,flush_pending($e.strm)),ze?BS_FINISH_STARTED:BS_NEED_MORE)},deflate_fast=($e,e)=>{let t,r;for(;;){if($e.lookahead<MIN_LOOKAHEAD){if(fill_window($e),$e.lookahead<MIN_LOOKAHEAD&&e===Z_NO_FLUSH$2)return BS_NEED_MORE;if($e.lookahead===0)break}if(t=0,$e.lookahead>=MIN_MATCH&&($e.ins_h=HASH($e,$e.ins_h,$e.window[$e.strstart+MIN_MATCH-1]),t=$e.prev[$e.strstart&$e.w_mask]=$e.head[$e.ins_h],$e.head[$e.ins_h]=$e.strstart),t!==0&&$e.strstart-t<=$e.w_size-MIN_LOOKAHEAD&&($e.match_length=longest_match($e,t)),$e.match_length>=MIN_MATCH)if(r=_tr_tally($e,$e.strstart-$e.match_start,$e.match_length-MIN_MATCH),$e.lookahead-=$e.match_length,$e.match_length<=$e.max_lazy_match&&$e.lookahead>=MIN_MATCH){$e.match_length--;do $e.strstart++,$e.ins_h=HASH($e,$e.ins_h,$e.window[$e.strstart+MIN_MATCH-1]),t=$e.prev[$e.strstart&$e.w_mask]=$e.head[$e.ins_h],$e.head[$e.ins_h]=$e.strstart;while(--$e.match_length!==0);$e.strstart++}else $e.strstart+=$e.match_length,$e.match_length=0,$e.ins_h=$e.window[$e.strstart],$e.ins_h=HASH($e,$e.ins_h,$e.window[$e.strstart+1]);else r=_tr_tally($e,0,$e.window[$e.strstart]),$e.lookahead--,$e.strstart++;if(r&&(flush_block_only($e,!1),$e.strm.avail_out===0))return BS_NEED_MORE}return $e.insert=$e.strstart<MIN_MATCH-1?$e.strstart:MIN_MATCH-1,e===Z_FINISH$3?(flush_block_only($e,!0),$e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):$e.sym_next&&(flush_block_only($e,!1),$e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=($e,e)=>{let t,r,Ve;for(;;){if($e.lookahead<MIN_LOOKAHEAD){if(fill_window($e),$e.lookahead<MIN_LOOKAHEAD&&e===Z_NO_FLUSH$2)return BS_NEED_MORE;if($e.lookahead===0)break}if(t=0,$e.lookahead>=MIN_MATCH&&($e.ins_h=HASH($e,$e.ins_h,$e.window[$e.strstart+MIN_MATCH-1]),t=$e.prev[$e.strstart&$e.w_mask]=$e.head[$e.ins_h],$e.head[$e.ins_h]=$e.strstart),$e.prev_length=$e.match_length,$e.prev_match=$e.match_start,$e.match_length=MIN_MATCH-1,t!==0&&$e.prev_length<$e.max_lazy_match&&$e.strstart-t<=$e.w_size-MIN_LOOKAHEAD&&($e.match_length=longest_match($e,t),$e.match_length<=5&&($e.strategy===Z_FILTERED||$e.match_length===MIN_MATCH&&$e.strstart-$e.match_start>4096)&&($e.match_length=MIN_MATCH-1)),$e.prev_length>=MIN_MATCH&&$e.match_length<=$e.prev_length){Ve=$e.strstart+$e.lookahead-MIN_MATCH,r=_tr_tally($e,$e.strstart-1-$e.prev_match,$e.prev_length-MIN_MATCH),$e.lookahead-=$e.prev_length-1,$e.prev_length-=2;do++$e.strstart<=Ve&&($e.ins_h=HASH($e,$e.ins_h,$e.window[$e.strstart+MIN_MATCH-1]),t=$e.prev[$e.strstart&$e.w_mask]=$e.head[$e.ins_h],$e.head[$e.ins_h]=$e.strstart);while(--$e.prev_length!==0);if($e.match_available=0,$e.match_length=MIN_MATCH-1,$e.strstart++,r&&(flush_block_only($e,!1),$e.strm.avail_out===0))return BS_NEED_MORE}else if($e.match_available){if(r=_tr_tally($e,0,$e.window[$e.strstart-1]),r&&flush_block_only($e,!1),$e.strstart++,$e.lookahead--,$e.strm.avail_out===0)return BS_NEED_MORE}else $e.match_available=1,$e.strstart++,$e.lookahead--}return $e.match_available&&(r=_tr_tally($e,0,$e.window[$e.strstart-1]),$e.match_available=0),$e.insert=$e.strstart<MIN_MATCH-1?$e.strstart:MIN_MATCH-1,e===Z_FINISH$3?(flush_block_only($e,!0),$e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):$e.sym_next&&(flush_block_only($e,!1),$e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=($e,e)=>{let t,r,Ve,je;const ze=$e.window;for(;;){if($e.lookahead<=MAX_MATCH){if(fill_window($e),$e.lookahead<=MAX_MATCH&&e===Z_NO_FLUSH$2)return BS_NEED_MORE;if($e.lookahead===0)break}if($e.match_length=0,$e.lookahead>=MIN_MATCH&&$e.strstart>0&&(Ve=$e.strstart-1,r=ze[Ve],r===ze[++Ve]&&r===ze[++Ve]&&r===ze[++Ve])){je=$e.strstart+MAX_MATCH;do;while(r===ze[++Ve]&&r===ze[++Ve]&&r===ze[++Ve]&&r===ze[++Ve]&&r===ze[++Ve]&&r===ze[++Ve]&&r===ze[++Ve]&&r===ze[++Ve]&&Ve<je);$e.match_length=MAX_MATCH-(je-Ve),$e.match_length>$e.lookahead&&($e.match_length=$e.lookahead)}if($e.match_length>=MIN_MATCH?(t=_tr_tally($e,1,$e.match_length-MIN_MATCH),$e.lookahead-=$e.match_length,$e.strstart+=$e.match_length,$e.match_length=0):(t=_tr_tally($e,0,$e.window[$e.strstart]),$e.lookahead--,$e.strstart++),t&&(flush_block_only($e,!1),$e.strm.avail_out===0))return BS_NEED_MORE}return $e.insert=0,e===Z_FINISH$3?(flush_block_only($e,!0),$e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):$e.sym_next&&(flush_block_only($e,!1),$e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=($e,e)=>{let t;for(;;){if($e.lookahead===0&&(fill_window($e),$e.lookahead===0)){if(e===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if($e.match_length=0,t=_tr_tally($e,0,$e.window[$e.strstart]),$e.lookahead--,$e.strstart++,t&&(flush_block_only($e,!1),$e.strm.avail_out===0))return BS_NEED_MORE}return $e.insert=0,e===Z_FINISH$3?(flush_block_only($e,!0),$e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):$e.sym_next&&(flush_block_only($e,!1),$e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config($e,e,t,r,Ve){this.good_length=$e,this.max_lazy=e,this.nice_length=t,this.max_chain=r,this.func=Ve}const configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],lm_init=$e=>{$e.window_size=2*$e.w_size,zero($e.head),$e.max_lazy_match=configuration_table[$e.level].max_lazy,$e.good_match=configuration_table[$e.level].good_length,$e.nice_match=configuration_table[$e.level].nice_length,$e.max_chain_length=configuration_table[$e.level].max_chain,$e.strstart=0,$e.block_start=0,$e.lookahead=0,$e.insert=0,$e.match_length=$e.prev_length=MIN_MATCH-1,$e.match_available=0,$e.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateStateCheck=$e=>{if(!$e)return 1;const e=$e.state;return!e||e.strm!==$e||e.status!==INIT_STATE&&e.status!==GZIP_STATE&&e.status!==EXTRA_STATE&&e.status!==NAME_STATE&&e.status!==COMMENT_STATE&&e.status!==HCRC_STATE&&e.status!==BUSY_STATE&&e.status!==FINISH_STATE?1:0},deflateResetKeep=$e=>{if(deflateStateCheck($e))return err($e,Z_STREAM_ERROR$2);$e.total_in=$e.total_out=0,$e.data_type=Z_UNKNOWN;const e=$e.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?GZIP_STATE:e.wrap?INIT_STATE:BUSY_STATE,$e.adler=e.wrap===2?0:1,e.last_flush=-2,_tr_init(e),Z_OK$3},deflateReset=$e=>{const e=deflateResetKeep($e);return e===Z_OK$3&&lm_init($e.state),e},deflateSetHeader=($e,e)=>deflateStateCheck($e)||$e.state.wrap!==2?Z_STREAM_ERROR$2:($e.state.gzhead=e,Z_OK$3),deflateInit2=($e,e,t,r,Ve,je)=>{if(!$e)return Z_STREAM_ERROR$2;let ze=1;if(e===Z_DEFAULT_COMPRESSION$1&&(e=6),r<0?(ze=0,r=-r):r>15&&(ze=2,r-=16),Ve<1||Ve>MAX_MEM_LEVEL||t!==Z_DEFLATED$2||r<8||r>15||e<0||e>9||je<0||je>Z_FIXED||r===8&&ze!==1)return err($e,Z_STREAM_ERROR$2);r===8&&(r=9);const Xe=new DeflateState;return $e.state=Xe,Xe.strm=$e,Xe.status=INIT_STATE,Xe.wrap=ze,Xe.gzhead=null,Xe.w_bits=r,Xe.w_size=1<<Xe.w_bits,Xe.w_mask=Xe.w_size-1,Xe.hash_bits=Ve+7,Xe.hash_size=1<<Xe.hash_bits,Xe.hash_mask=Xe.hash_size-1,Xe.hash_shift=~~((Xe.hash_bits+MIN_MATCH-1)/MIN_MATCH),Xe.window=new Uint8Array(Xe.w_size*2),Xe.head=new Uint16Array(Xe.hash_size),Xe.prev=new Uint16Array(Xe.w_size),Xe.lit_bufsize=1<<Ve+6,Xe.pending_buf_size=Xe.lit_bufsize*4,Xe.pending_buf=new Uint8Array(Xe.pending_buf_size),Xe.sym_buf=Xe.lit_bufsize,Xe.sym_end=(Xe.lit_bufsize-1)*3,Xe.level=e,Xe.strategy=je,Xe.method=t,deflateReset($e)},deflateInit=($e,e)=>deflateInit2($e,e,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=($e,e)=>{if(deflateStateCheck($e)||e>Z_BLOCK$1||e<0)return $e?err($e,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const t=$e.state;if(!$e.output||$e.avail_in!==0&&!$e.input||t.status===FINISH_STATE&&e!==Z_FINISH$3)return err($e,$e.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);const r=t.last_flush;if(t.last_flush=e,t.pending!==0){if(flush_pending($e),$e.avail_out===0)return t.last_flush=-1,Z_OK$3}else if($e.avail_in===0&&rank(e)<=rank(r)&&e!==Z_FINISH$3)return err($e,Z_BUF_ERROR$1);if(t.status===FINISH_STATE&&$e.avail_in!==0)return err($e,Z_BUF_ERROR$1);if(t.status===INIT_STATE&&t.wrap===0&&(t.status=BUSY_STATE),t.status===INIT_STATE){let Ve=Z_DEFLATED$2+(t.w_bits-8<<4)<<8,je=-1;if(t.strategy>=Z_HUFFMAN_ONLY||t.level<2?je=0:t.level<6?je=1:t.level===6?je=2:je=3,Ve|=je<<6,t.strstart!==0&&(Ve|=PRESET_DICT),Ve+=31-Ve%31,putShortMSB(t,Ve),t.strstart!==0&&(putShortMSB(t,$e.adler>>>16),putShortMSB(t,$e.adler&65535)),$e.adler=1,t.status=BUSY_STATE,flush_pending($e),t.pending!==0)return t.last_flush=-1,Z_OK$3}if(t.status===GZIP_STATE){if($e.adler=0,put_byte(t,31),put_byte(t,139),put_byte(t,8),t.gzhead)put_byte(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),put_byte(t,t.gzhead.time&255),put_byte(t,t.gzhead.time>>8&255),put_byte(t,t.gzhead.time>>16&255),put_byte(t,t.gzhead.time>>24&255),put_byte(t,t.level===9?2:t.strategy>=Z_HUFFMAN_ONLY||t.level<2?4:0),put_byte(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(put_byte(t,t.gzhead.extra.length&255),put_byte(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&($e.adler=crc32_1($e.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=EXTRA_STATE;else if(put_byte(t,0),put_byte(t,0),put_byte(t,0),put_byte(t,0),put_byte(t,0),put_byte(t,t.level===9?2:t.strategy>=Z_HUFFMAN_ONLY||t.level<2?4:0),put_byte(t,OS_CODE),t.status=BUSY_STATE,flush_pending($e),t.pending!==0)return t.last_flush=-1,Z_OK$3}if(t.status===EXTRA_STATE){if(t.gzhead.extra){let Ve=t.pending,je=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+je>t.pending_buf_size;){let Xe=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+Xe),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>Ve&&($e.adler=crc32_1($e.adler,t.pending_buf,t.pending-Ve,Ve)),t.gzindex+=Xe,flush_pending($e),t.pending!==0)return t.last_flush=-1,Z_OK$3;Ve=0,je-=Xe}let ze=new Uint8Array(t.gzhead.extra);t.pending_buf.set(ze.subarray(t.gzindex,t.gzindex+je),t.pending),t.pending+=je,t.gzhead.hcrc&&t.pending>Ve&&($e.adler=crc32_1($e.adler,t.pending_buf,t.pending-Ve,Ve)),t.gzindex=0}t.status=NAME_STATE}if(t.status===NAME_STATE){if(t.gzhead.name){let Ve=t.pending,je;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>Ve&&($e.adler=crc32_1($e.adler,t.pending_buf,t.pending-Ve,Ve)),flush_pending($e),t.pending!==0)return t.last_flush=-1,Z_OK$3;Ve=0}t.gzindex<t.gzhead.name.length?je=t.gzhead.name.charCodeAt(t.gzindex++)&255:je=0,put_byte(t,je)}while(je!==0);t.gzhead.hcrc&&t.pending>Ve&&($e.adler=crc32_1($e.adler,t.pending_buf,t.pending-Ve,Ve)),t.gzindex=0}t.status=COMMENT_STATE}if(t.status===COMMENT_STATE){if(t.gzhead.comment){let Ve=t.pending,je;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>Ve&&($e.adler=crc32_1($e.adler,t.pending_buf,t.pending-Ve,Ve)),flush_pending($e),t.pending!==0)return t.last_flush=-1,Z_OK$3;Ve=0}t.gzindex<t.gzhead.comment.length?je=t.gzhead.comment.charCodeAt(t.gzindex++)&255:je=0,put_byte(t,je)}while(je!==0);t.gzhead.hcrc&&t.pending>Ve&&($e.adler=crc32_1($e.adler,t.pending_buf,t.pending-Ve,Ve))}t.status=HCRC_STATE}if(t.status===HCRC_STATE){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(flush_pending($e),t.pending!==0))return t.last_flush=-1,Z_OK$3;put_byte(t,$e.adler&255),put_byte(t,$e.adler>>8&255),$e.adler=0}if(t.status=BUSY_STATE,flush_pending($e),t.pending!==0)return t.last_flush=-1,Z_OK$3}if($e.avail_in!==0||t.lookahead!==0||e!==Z_NO_FLUSH$2&&t.status!==FINISH_STATE){let Ve=t.level===0?deflate_stored(t,e):t.strategy===Z_HUFFMAN_ONLY?deflate_huff(t,e):t.strategy===Z_RLE?deflate_rle(t,e):configuration_table[t.level].func(t,e);if((Ve===BS_FINISH_STARTED||Ve===BS_FINISH_DONE)&&(t.status=FINISH_STATE),Ve===BS_NEED_MORE||Ve===BS_FINISH_STARTED)return $e.avail_out===0&&(t.last_flush=-1),Z_OK$3;if(Ve===BS_BLOCK_DONE&&(e===Z_PARTIAL_FLUSH?_tr_align(t):e!==Z_BLOCK$1&&(_tr_stored_block(t,0,0,!1),e===Z_FULL_FLUSH$1&&(zero(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),flush_pending($e),$e.avail_out===0))return t.last_flush=-1,Z_OK$3}return e!==Z_FINISH$3?Z_OK$3:t.wrap<=0?Z_STREAM_END$3:(t.wrap===2?(put_byte(t,$e.adler&255),put_byte(t,$e.adler>>8&255),put_byte(t,$e.adler>>16&255),put_byte(t,$e.adler>>24&255),put_byte(t,$e.total_in&255),put_byte(t,$e.total_in>>8&255),put_byte(t,$e.total_in>>16&255),put_byte(t,$e.total_in>>24&255)):(putShortMSB(t,$e.adler>>>16),putShortMSB(t,$e.adler&65535)),flush_pending($e),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=$e=>{if(deflateStateCheck($e))return Z_STREAM_ERROR$2;const e=$e.state.status;return $e.state=null,e===BUSY_STATE?err($e,Z_DATA_ERROR$2):Z_OK$3},deflateSetDictionary=($e,e)=>{let t=e.length;if(deflateStateCheck($e))return Z_STREAM_ERROR$2;const r=$e.state,Ve=r.wrap;if(Ve===2||Ve===1&&r.status!==INIT_STATE||r.lookahead)return Z_STREAM_ERROR$2;if(Ve===1&&($e.adler=adler32_1($e.adler,e,t,0)),r.wrap=0,t>=r.w_size){Ve===0&&(zero(r.head),r.strstart=0,r.block_start=0,r.insert=0);let We=new Uint8Array(r.w_size);We.set(e.subarray(t-r.w_size,t),0),e=We,t=r.w_size}const je=$e.avail_in,ze=$e.next_in,Xe=$e.input;for($e.avail_in=t,$e.next_in=0,$e.input=e,fill_window(r);r.lookahead>=MIN_MATCH;){let We=r.strstart,qe=r.lookahead-(MIN_MATCH-1);do r.ins_h=HASH(r,r.ins_h,r.window[We+MIN_MATCH-1]),r.prev[We&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=We,We++;while(--qe);r.strstart=We,r.lookahead=MIN_MATCH-1,fill_window(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=MIN_MATCH-1,r.match_available=0,$e.next_in=ze,$e.input=Xe,$e.avail_in=je,r.wrap=Ve,Z_OK$3};var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo};const _has=($e,e)=>Object.prototype.hasOwnProperty.call($e,e);var assign=function($e){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)_has(t,r)&&($e[r]=t[r])}}return $e},flattenChunks=$e=>{let e=0;for(let r=0,Ve=$e.length;r<Ve;r++)e+=$e[r].length;const t=new Uint8Array(e);for(let r=0,Ve=0,je=$e.length;r<je;r++){let ze=$e[r];t.set(ze,Ve),Ve+=ze.length}return t},common={assign,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let $e=0;$e<256;$e++)_utf8len[$e]=$e>=252?6:$e>=248?5:$e>=240?4:$e>=224?3:$e>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=$e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode($e);let e,t,r,Ve,je,ze=$e.length,Xe=0;for(Ve=0;Ve<ze;Ve++)t=$e.charCodeAt(Ve),(t&64512)===55296&&Ve+1<ze&&(r=$e.charCodeAt(Ve+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),Ve++)),Xe+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(Xe),je=0,Ve=0;je<Xe;Ve++)t=$e.charCodeAt(Ve),(t&64512)===55296&&Ve+1<ze&&(r=$e.charCodeAt(Ve+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),Ve++)),t<128?e[je++]=t:t<2048?(e[je++]=192|t>>>6,e[je++]=128|t&63):t<65536?(e[je++]=224|t>>>12,e[je++]=128|t>>>6&63,e[je++]=128|t&63):(e[je++]=240|t>>>18,e[je++]=128|t>>>12&63,e[je++]=128|t>>>6&63,e[je++]=128|t&63);return e};const buf2binstring=($e,e)=>{if(e<65534&&$e.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,$e.length===e?$e:$e.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode($e[r]);return t};var buf2string=($e,e)=>{const t=e||$e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode($e.subarray(0,e));let r,Ve;const je=new Array(t*2);for(Ve=0,r=0;r<t;){let ze=$e[r++];if(ze<128){je[Ve++]=ze;continue}let Xe=_utf8len[ze];if(Xe>4){je[Ve++]=65533,r+=Xe-1;continue}for(ze&=Xe===2?31:Xe===3?15:7;Xe>1&&r<t;)ze=ze<<6|$e[r++]&63,Xe--;if(Xe>1){je[Ve++]=65533;continue}ze<65536?je[Ve++]=ze:(ze-=65536,je[Ve++]=55296|ze>>10&1023,je[Ve++]=56320|ze&1023)}return buf2binstring(je,Ve)},utf8border=($e,e)=>{e=e||$e.length,e>$e.length&&(e=$e.length);let t=e-1;for(;t>=0&&($e[t]&192)===128;)t--;return t<0||t===0?e:t+_utf8len[$e[t]]>e?t:e},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const toString$1$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1($e){this.options=common.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},$e||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let t=deflate_1$2.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(t!==Z_OK$2)throw new Error(messages[t]);if(e.header&&deflate_1$2.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(typeof e.dictionary=="string"?r=strings.string2buf(e.dictionary):toString$1$1.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,t=deflate_1$2.deflateSetDictionary(this.strm,r),t!==Z_OK$2)throw new Error(messages[t]);this._dict_set=!0}}Deflate$1.prototype.push=function($e,e){const t=this.strm,r=this.options.chunkSize;let Ve,je;if(this.ended)return!1;for(e===~~e?je=e:je=e===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof $e=="string"?t.input=strings.string2buf($e):toString$1$1.call($e)==="[object ArrayBuffer]"?t.input=new Uint8Array($e):t.input=$e,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),(je===Z_SYNC_FLUSH||je===Z_FULL_FLUSH)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(Ve=deflate_1$2.deflate(t,je),Ve===Z_STREAM_END$2)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),Ve=deflate_1$2.deflateEnd(this.strm),this.onEnd(Ve),this.ended=!0,Ve===Z_OK$2;if(t.avail_out===0){this.onData(t.output);continue}if(je>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0};Deflate$1.prototype.onData=function($e){this.chunks.push($e)};Deflate$1.prototype.onEnd=function($e){$e===Z_OK$2&&(this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=$e,this.msg=this.strm.msg};function deflate$1($e,e){const t=new Deflate$1(e);if(t.push($e,!0),t.err)throw t.msg||messages[t.err];return t.result}function deflateRaw$1($e,e){return e=e||{},e.raw=!0,deflate$1($e,e)}function gzip$1($e,e){return e=e||{},e.gzip=!0,deflate$1($e,e)}var Deflate_1$1=Deflate$1,deflate_2=deflate$1,deflateRaw_1$1=deflateRaw$1,gzip_1$1=gzip$1,constants$1=constants$2,deflate_1$1={Deflate:Deflate_1$1,deflate:deflate_2,deflateRaw:deflateRaw_1$1,gzip:gzip_1$1,constants:constants$1};const BAD$1=16209,TYPE$1=16191;var inffast=function($e,e){let t,r,Ve,je,ze,Xe,We,qe,Ke,Ze,Je,Qe,ti,ni,ri,ii,ei,St,oi,si,ai,ui,hi,ci;const mi=$e.state;t=$e.next_in,hi=$e.input,r=t+($e.avail_in-5),Ve=$e.next_out,ci=$e.output,je=Ve-(e-$e.avail_out),ze=Ve+($e.avail_out-257),Xe=mi.dmax,We=mi.wsize,qe=mi.whave,Ke=mi.wnext,Ze=mi.window,Je=mi.hold,Qe=mi.bits,ti=mi.lencode,ni=mi.distcode,ri=(1<<mi.lenbits)-1,ii=(1<<mi.distbits)-1;e:do{Qe<15&&(Je+=hi[t++]<<Qe,Qe+=8,Je+=hi[t++]<<Qe,Qe+=8),ei=ti[Je&ri];t:for(;;){if(St=ei>>>24,Je>>>=St,Qe-=St,St=ei>>>16&255,St===0)ci[Ve++]=ei&65535;else if(St&16){oi=ei&65535,St&=15,St&&(Qe<St&&(Je+=hi[t++]<<Qe,Qe+=8),oi+=Je&(1<<St)-1,Je>>>=St,Qe-=St),Qe<15&&(Je+=hi[t++]<<Qe,Qe+=8,Je+=hi[t++]<<Qe,Qe+=8),ei=ni[Je&ii];i:for(;;){if(St=ei>>>24,Je>>>=St,Qe-=St,St=ei>>>16&255,St&16){if(si=ei&65535,St&=15,Qe<St&&(Je+=hi[t++]<<Qe,Qe+=8,Qe<St&&(Je+=hi[t++]<<Qe,Qe+=8)),si+=Je&(1<<St)-1,si>Xe){$e.msg="invalid distance too far back",mi.mode=BAD$1;break e}if(Je>>>=St,Qe-=St,St=Ve-je,si>St){if(St=si-St,St>qe&&mi.sane){$e.msg="invalid distance too far back",mi.mode=BAD$1;break e}if(ai=0,ui=Ze,Ke===0){if(ai+=We-St,St<oi){oi-=St;do ci[Ve++]=Ze[ai++];while(--St);ai=Ve-si,ui=ci}}else if(Ke<St){if(ai+=We+Ke-St,St-=Ke,St<oi){oi-=St;do ci[Ve++]=Ze[ai++];while(--St);if(ai=0,Ke<oi){St=Ke,oi-=St;do ci[Ve++]=Ze[ai++];while(--St);ai=Ve-si,ui=ci}}}else if(ai+=Ke-St,St<oi){oi-=St;do ci[Ve++]=Ze[ai++];while(--St);ai=Ve-si,ui=ci}for(;oi>2;)ci[Ve++]=ui[ai++],ci[Ve++]=ui[ai++],ci[Ve++]=ui[ai++],oi-=3;oi&&(ci[Ve++]=ui[ai++],oi>1&&(ci[Ve++]=ui[ai++]))}else{ai=Ve-si;do ci[Ve++]=ci[ai++],ci[Ve++]=ci[ai++],ci[Ve++]=ci[ai++],oi-=3;while(oi>2);oi&&(ci[Ve++]=ci[ai++],oi>1&&(ci[Ve++]=ci[ai++]))}}else if(St&64){$e.msg="invalid distance code",mi.mode=BAD$1;break e}else{ei=ni[(ei&65535)+(Je&(1<<St)-1)];continue i}break}}else if(St&64)if(St&32){mi.mode=TYPE$1;break e}else{$e.msg="invalid literal/length code",mi.mode=BAD$1;break e}else{ei=ti[(ei&65535)+(Je&(1<<St)-1)];continue t}break}}while(t<r&&Ve<ze);oi=Qe>>3,t-=oi,Qe-=oi<<3,Je&=(1<<Qe)-1,$e.next_in=t,$e.next_out=Ve,$e.avail_in=t<r?5+(r-t):5-(t-r),$e.avail_out=Ve<ze?257+(ze-Ve):257-(Ve-ze),mi.hold=Je,mi.bits=Qe};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=($e,e,t,r,Ve,je,ze,Xe)=>{const We=Xe.bits;let qe=0,Ke=0,Ze=0,Je=0,Qe=0,ti=0,ni=0,ri=0,ii=0,ei=0,St,oi,si,ai,ui,hi=null,ci;const mi=new Uint16Array(MAXBITS+1),di=new Uint16Array(MAXBITS+1);let pi=null,yi,gi,_i;for(qe=0;qe<=MAXBITS;qe++)mi[qe]=0;for(Ke=0;Ke<r;Ke++)mi[e[t+Ke]]++;for(Qe=We,Je=MAXBITS;Je>=1&&mi[Je]===0;Je--);if(Qe>Je&&(Qe=Je),Je===0)return Ve[je++]=1<<24|64<<16|0,Ve[je++]=1<<24|64<<16|0,Xe.bits=1,0;for(Ze=1;Ze<Je&&mi[Ze]===0;Ze++);for(Qe<Ze&&(Qe=Ze),ri=1,qe=1;qe<=MAXBITS;qe++)if(ri<<=1,ri-=mi[qe],ri<0)return-1;if(ri>0&&($e===CODES$1||Je!==1))return-1;for(di[1]=0,qe=1;qe<MAXBITS;qe++)di[qe+1]=di[qe]+mi[qe];for(Ke=0;Ke<r;Ke++)e[t+Ke]!==0&&(ze[di[e[t+Ke]]++]=Ke);if($e===CODES$1?(hi=pi=ze,ci=20):$e===LENS$1?(hi=lbase,pi=lext,ci=257):(hi=dbase,pi=dext,ci=0),ei=0,Ke=0,qe=Ze,ui=je,ti=Qe,ni=0,si=-1,ii=1<<Qe,ai=ii-1,$e===LENS$1&&ii>ENOUGH_LENS$1||$e===DISTS$1&&ii>ENOUGH_DISTS$1)return 1;for(;;){yi=qe-ni,ze[Ke]+1<ci?(gi=0,_i=ze[Ke]):ze[Ke]>=ci?(gi=pi[ze[Ke]-ci],_i=hi[ze[Ke]-ci]):(gi=96,_i=0),St=1<<qe-ni,oi=1<<ti,Ze=oi;do oi-=St,Ve[ui+(ei>>ni)+oi]=yi<<24|gi<<16|_i|0;while(oi!==0);for(St=1<<qe-1;ei&St;)St>>=1;if(St!==0?(ei&=St-1,ei+=St):ei=0,Ke++,--mi[qe]===0){if(qe===Je)break;qe=e[t+ze[Ke]]}if(qe>Qe&&(ei&ai)!==si){for(ni===0&&(ni=Qe),ui+=Ze,ti=qe-ni,ri=1<<ti;ti+ni<Je&&(ri-=mi[ti+ni],!(ri<=0));)ti++,ri<<=1;if(ii+=1<<ti,$e===LENS$1&&ii>ENOUGH_LENS$1||$e===DISTS$1&&ii>ENOUGH_DISTS$1)return 1;si=ei&ai,Ve[si]=Qe<<24|ti<<16|ui-je|0}}return ei!==0&&(Ve[ui+ei]=qe-ni<<24|64<<16|0),Xe.bits=Qe,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=16180,FLAGS=16181,TIME=16182,OS=16183,EXLEN=16184,EXTRA=16185,NAME=16186,COMMENT=16187,HCRC=16188,DICTID=16189,DICT=16190,TYPE=16191,TYPEDO=16192,STORED=16193,COPY_=16194,COPY=16195,TABLE=16196,LENLENS=16197,CODELENS=16198,LEN_=16199,LEN=16200,LENEXT=16201,DIST=16202,DISTEXT=16203,MATCH=16204,LIT=16205,CHECK=16206,LENGTH=16207,DONE=16208,BAD=16209,MEM=16210,SYNC=16211,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=$e=>($e>>>24&255)+($e>>>8&65280)+(($e&65280)<<8)+(($e&255)<<24);function InflateState(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateStateCheck=$e=>{if(!$e)return 1;const e=$e.state;return!e||e.strm!==$e||e.mode<HEAD||e.mode>SYNC?1:0},inflateResetKeep=$e=>{if(inflateStateCheck($e))return Z_STREAM_ERROR$1;const e=$e.state;return $e.total_in=$e.total_out=e.total=0,$e.msg="",e.wrap&&($e.adler=e.wrap&1),e.mode=HEAD,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(ENOUGH_LENS),e.distcode=e.distdyn=new Int32Array(ENOUGH_DISTS),e.sane=1,e.back=-1,Z_OK$1},inflateReset=$e=>{if(inflateStateCheck($e))return Z_STREAM_ERROR$1;const e=$e.state;return e.wsize=0,e.whave=0,e.wnext=0,inflateResetKeep($e)},inflateReset2=($e,e)=>{let t;if(inflateStateCheck($e))return Z_STREAM_ERROR$1;const r=$e.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Z_STREAM_ERROR$1:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,inflateReset($e))},inflateInit2=($e,e)=>{if(!$e)return Z_STREAM_ERROR$1;const t=new InflateState;$e.state=t,t.strm=$e,t.window=null,t.mode=HEAD;const r=inflateReset2($e,e);return r!==Z_OK$1&&($e.state=null),r},inflateInit=$e=>inflateInit2($e,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=$e=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let e=0;for(;e<144;)$e.lens[e++]=8;for(;e<256;)$e.lens[e++]=9;for(;e<280;)$e.lens[e++]=7;for(;e<288;)$e.lens[e++]=8;for(inftrees(LENS,$e.lens,0,288,lenfix,0,$e.work,{bits:9}),e=0;e<32;)$e.lens[e++]=5;inftrees(DISTS,$e.lens,0,32,distfix,0,$e.work,{bits:5}),virgin=!1}$e.lencode=lenfix,$e.lenbits=9,$e.distcode=distfix,$e.distbits=5},updatewindow=($e,e,t,r)=>{let Ve;const je=$e.state;return je.window===null&&(je.wsize=1<<je.wbits,je.wnext=0,je.whave=0,je.window=new Uint8Array(je.wsize)),r>=je.wsize?(je.window.set(e.subarray(t-je.wsize,t),0),je.wnext=0,je.whave=je.wsize):(Ve=je.wsize-je.wnext,Ve>r&&(Ve=r),je.window.set(e.subarray(t-r,t-r+Ve),je.wnext),r-=Ve,r?(je.window.set(e.subarray(t-r,t),0),je.wnext=r,je.whave=je.wsize):(je.wnext+=Ve,je.wnext===je.wsize&&(je.wnext=0),je.whave<je.wsize&&(je.whave+=Ve))),0},inflate$2=($e,e)=>{let t,r,Ve,je,ze,Xe,We,qe,Ke,Ze,Je,Qe,ti,ni,ri=0,ii,ei,St,oi,si,ai,ui,hi;const ci=new Uint8Array(4);let mi,di;const pi=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck($e)||!$e.output||!$e.input&&$e.avail_in!==0)return Z_STREAM_ERROR$1;t=$e.state,t.mode===TYPE&&(t.mode=TYPEDO),ze=$e.next_out,Ve=$e.output,We=$e.avail_out,je=$e.next_in,r=$e.input,Xe=$e.avail_in,qe=t.hold,Ke=t.bits,Ze=Xe,Je=We,hi=Z_OK$1;e:for(;;)switch(t.mode){case HEAD:if(t.wrap===0){t.mode=TYPEDO;break}for(;Ke<16;){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}if(t.wrap&2&&qe===35615){t.wbits===0&&(t.wbits=15),t.check=0,ci[0]=qe&255,ci[1]=qe>>>8&255,t.check=crc32_1(t.check,ci,2,0),qe=0,Ke=0,t.mode=FLAGS;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((qe&255)<<8)+(qe>>8))%31){$e.msg="incorrect header check",t.mode=BAD;break}if((qe&15)!==Z_DEFLATED){$e.msg="unknown compression method",t.mode=BAD;break}if(qe>>>=4,Ke-=4,ui=(qe&15)+8,t.wbits===0&&(t.wbits=ui),ui>15||ui>t.wbits){$e.msg="invalid window size",t.mode=BAD;break}t.dmax=1<<t.wbits,t.flags=0,$e.adler=t.check=1,t.mode=qe&512?DICTID:TYPE,qe=0,Ke=0;break;case FLAGS:for(;Ke<16;){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}if(t.flags=qe,(t.flags&255)!==Z_DEFLATED){$e.msg="unknown compression method",t.mode=BAD;break}if(t.flags&57344){$e.msg="unknown header flags set",t.mode=BAD;break}t.head&&(t.head.text=qe>>8&1),t.flags&512&&t.wrap&4&&(ci[0]=qe&255,ci[1]=qe>>>8&255,t.check=crc32_1(t.check,ci,2,0)),qe=0,Ke=0,t.mode=TIME;case TIME:for(;Ke<32;){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}t.head&&(t.head.time=qe),t.flags&512&&t.wrap&4&&(ci[0]=qe&255,ci[1]=qe>>>8&255,ci[2]=qe>>>16&255,ci[3]=qe>>>24&255,t.check=crc32_1(t.check,ci,4,0)),qe=0,Ke=0,t.mode=OS;case OS:for(;Ke<16;){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}t.head&&(t.head.xflags=qe&255,t.head.os=qe>>8),t.flags&512&&t.wrap&4&&(ci[0]=qe&255,ci[1]=qe>>>8&255,t.check=crc32_1(t.check,ci,2,0)),qe=0,Ke=0,t.mode=EXLEN;case EXLEN:if(t.flags&1024){for(;Ke<16;){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}t.length=qe,t.head&&(t.head.extra_len=qe),t.flags&512&&t.wrap&4&&(ci[0]=qe&255,ci[1]=qe>>>8&255,t.check=crc32_1(t.check,ci,2,0)),qe=0,Ke=0}else t.head&&(t.head.extra=null);t.mode=EXTRA;case EXTRA:if(t.flags&1024&&(Qe=t.length,Qe>Xe&&(Qe=Xe),Qe&&(t.head&&(ui=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(je,je+Qe),ui)),t.flags&512&&t.wrap&4&&(t.check=crc32_1(t.check,r,Qe,je)),Xe-=Qe,je+=Qe,t.length-=Qe),t.length))break e;t.length=0,t.mode=NAME;case NAME:if(t.flags&2048){if(Xe===0)break e;Qe=0;do ui=r[je+Qe++],t.head&&ui&&t.length<65536&&(t.head.name+=String.fromCharCode(ui));while(ui&&Qe<Xe);if(t.flags&512&&t.wrap&4&&(t.check=crc32_1(t.check,r,Qe,je)),Xe-=Qe,je+=Qe,ui)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=COMMENT;case COMMENT:if(t.flags&4096){if(Xe===0)break e;Qe=0;do ui=r[je+Qe++],t.head&&ui&&t.length<65536&&(t.head.comment+=String.fromCharCode(ui));while(ui&&Qe<Xe);if(t.flags&512&&t.wrap&4&&(t.check=crc32_1(t.check,r,Qe,je)),Xe-=Qe,je+=Qe,ui)break e}else t.head&&(t.head.comment=null);t.mode=HCRC;case HCRC:if(t.flags&512){for(;Ke<16;){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}if(t.wrap&4&&qe!==(t.check&65535)){$e.msg="header crc mismatch",t.mode=BAD;break}qe=0,Ke=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),$e.adler=t.check=0,t.mode=TYPE;break;case DICTID:for(;Ke<32;){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}$e.adler=t.check=zswap32(qe),qe=0,Ke=0,t.mode=DICT;case DICT:if(t.havedict===0)return $e.next_out=ze,$e.avail_out=We,$e.next_in=je,$e.avail_in=Xe,t.hold=qe,t.bits=Ke,Z_NEED_DICT$1;$e.adler=t.check=1,t.mode=TYPE;case TYPE:if(e===Z_BLOCK||e===Z_TREES)break e;case TYPEDO:if(t.last){qe>>>=Ke&7,Ke-=Ke&7,t.mode=CHECK;break}for(;Ke<3;){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}switch(t.last=qe&1,qe>>>=1,Ke-=1,qe&3){case 0:t.mode=STORED;break;case 1:if(fixedtables(t),t.mode=LEN_,e===Z_TREES){qe>>>=2,Ke-=2;break e}break;case 2:t.mode=TABLE;break;case 3:$e.msg="invalid block type",t.mode=BAD}qe>>>=2,Ke-=2;break;case STORED:for(qe>>>=Ke&7,Ke-=Ke&7;Ke<32;){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}if((qe&65535)!==(qe>>>16^65535)){$e.msg="invalid stored block lengths",t.mode=BAD;break}if(t.length=qe&65535,qe=0,Ke=0,t.mode=COPY_,e===Z_TREES)break e;case COPY_:t.mode=COPY;case COPY:if(Qe=t.length,Qe){if(Qe>Xe&&(Qe=Xe),Qe>We&&(Qe=We),Qe===0)break e;Ve.set(r.subarray(je,je+Qe),ze),Xe-=Qe,je+=Qe,We-=Qe,ze+=Qe,t.length-=Qe;break}t.mode=TYPE;break;case TABLE:for(;Ke<14;){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}if(t.nlen=(qe&31)+257,qe>>>=5,Ke-=5,t.ndist=(qe&31)+1,qe>>>=5,Ke-=5,t.ncode=(qe&15)+4,qe>>>=4,Ke-=4,t.nlen>286||t.ndist>30){$e.msg="too many length or distance symbols",t.mode=BAD;break}t.have=0,t.mode=LENLENS;case LENLENS:for(;t.have<t.ncode;){for(;Ke<3;){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}t.lens[pi[t.have++]]=qe&7,qe>>>=3,Ke-=3}for(;t.have<19;)t.lens[pi[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,mi={bits:t.lenbits},hi=inftrees(CODES,t.lens,0,19,t.lencode,0,t.work,mi),t.lenbits=mi.bits,hi){$e.msg="invalid code lengths set",t.mode=BAD;break}t.have=0,t.mode=CODELENS;case CODELENS:for(;t.have<t.nlen+t.ndist;){for(;ri=t.lencode[qe&(1<<t.lenbits)-1],ii=ri>>>24,ei=ri>>>16&255,St=ri&65535,!(ii<=Ke);){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}if(St<16)qe>>>=ii,Ke-=ii,t.lens[t.have++]=St;else{if(St===16){for(di=ii+2;Ke<di;){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}if(qe>>>=ii,Ke-=ii,t.have===0){$e.msg="invalid bit length repeat",t.mode=BAD;break}ui=t.lens[t.have-1],Qe=3+(qe&3),qe>>>=2,Ke-=2}else if(St===17){for(di=ii+3;Ke<di;){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}qe>>>=ii,Ke-=ii,ui=0,Qe=3+(qe&7),qe>>>=3,Ke-=3}else{for(di=ii+7;Ke<di;){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}qe>>>=ii,Ke-=ii,ui=0,Qe=11+(qe&127),qe>>>=7,Ke-=7}if(t.have+Qe>t.nlen+t.ndist){$e.msg="invalid bit length repeat",t.mode=BAD;break}for(;Qe--;)t.lens[t.have++]=ui}}if(t.mode===BAD)break;if(t.lens[256]===0){$e.msg="invalid code -- missing end-of-block",t.mode=BAD;break}if(t.lenbits=9,mi={bits:t.lenbits},hi=inftrees(LENS,t.lens,0,t.nlen,t.lencode,0,t.work,mi),t.lenbits=mi.bits,hi){$e.msg="invalid literal/lengths set",t.mode=BAD;break}if(t.distbits=6,t.distcode=t.distdyn,mi={bits:t.distbits},hi=inftrees(DISTS,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,mi),t.distbits=mi.bits,hi){$e.msg="invalid distances set",t.mode=BAD;break}if(t.mode=LEN_,e===Z_TREES)break e;case LEN_:t.mode=LEN;case LEN:if(Xe>=6&&We>=258){$e.next_out=ze,$e.avail_out=We,$e.next_in=je,$e.avail_in=Xe,t.hold=qe,t.bits=Ke,inffast($e,Je),ze=$e.next_out,Ve=$e.output,We=$e.avail_out,je=$e.next_in,r=$e.input,Xe=$e.avail_in,qe=t.hold,Ke=t.bits,t.mode===TYPE&&(t.back=-1);break}for(t.back=0;ri=t.lencode[qe&(1<<t.lenbits)-1],ii=ri>>>24,ei=ri>>>16&255,St=ri&65535,!(ii<=Ke);){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}if(ei&&!(ei&240)){for(oi=ii,si=ei,ai=St;ri=t.lencode[ai+((qe&(1<<oi+si)-1)>>oi)],ii=ri>>>24,ei=ri>>>16&255,St=ri&65535,!(oi+ii<=Ke);){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}qe>>>=oi,Ke-=oi,t.back+=oi}if(qe>>>=ii,Ke-=ii,t.back+=ii,t.length=St,ei===0){t.mode=LIT;break}if(ei&32){t.back=-1,t.mode=TYPE;break}if(ei&64){$e.msg="invalid literal/length code",t.mode=BAD;break}t.extra=ei&15,t.mode=LENEXT;case LENEXT:if(t.extra){for(di=t.extra;Ke<di;){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}t.length+=qe&(1<<t.extra)-1,qe>>>=t.extra,Ke-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=DIST;case DIST:for(;ri=t.distcode[qe&(1<<t.distbits)-1],ii=ri>>>24,ei=ri>>>16&255,St=ri&65535,!(ii<=Ke);){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}if(!(ei&240)){for(oi=ii,si=ei,ai=St;ri=t.distcode[ai+((qe&(1<<oi+si)-1)>>oi)],ii=ri>>>24,ei=ri>>>16&255,St=ri&65535,!(oi+ii<=Ke);){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}qe>>>=oi,Ke-=oi,t.back+=oi}if(qe>>>=ii,Ke-=ii,t.back+=ii,ei&64){$e.msg="invalid distance code",t.mode=BAD;break}t.offset=St,t.extra=ei&15,t.mode=DISTEXT;case DISTEXT:if(t.extra){for(di=t.extra;Ke<di;){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}t.offset+=qe&(1<<t.extra)-1,qe>>>=t.extra,Ke-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){$e.msg="invalid distance too far back",t.mode=BAD;break}t.mode=MATCH;case MATCH:if(We===0)break e;if(Qe=Je-We,t.offset>Qe){if(Qe=t.offset-Qe,Qe>t.whave&&t.sane){$e.msg="invalid distance too far back",t.mode=BAD;break}Qe>t.wnext?(Qe-=t.wnext,ti=t.wsize-Qe):ti=t.wnext-Qe,Qe>t.length&&(Qe=t.length),ni=t.window}else ni=Ve,ti=ze-t.offset,Qe=t.length;Qe>We&&(Qe=We),We-=Qe,t.length-=Qe;do Ve[ze++]=ni[ti++];while(--Qe);t.length===0&&(t.mode=LEN);break;case LIT:if(We===0)break e;Ve[ze++]=t.length,We--,t.mode=LEN;break;case CHECK:if(t.wrap){for(;Ke<32;){if(Xe===0)break e;Xe--,qe|=r[je++]<<Ke,Ke+=8}if(Je-=We,$e.total_out+=Je,t.total+=Je,t.wrap&4&&Je&&($e.adler=t.check=t.flags?crc32_1(t.check,Ve,Je,ze-Je):adler32_1(t.check,Ve,Je,ze-Je)),Je=We,t.wrap&4&&(t.flags?qe:zswap32(qe))!==t.check){$e.msg="incorrect data check",t.mode=BAD;break}qe=0,Ke=0}t.mode=LENGTH;case LENGTH:if(t.wrap&&t.flags){for(;Ke<32;){if(Xe===0)break e;Xe--,qe+=r[je++]<<Ke,Ke+=8}if(t.wrap&4&&qe!==(t.total&4294967295)){$e.msg="incorrect length check",t.mode=BAD;break}qe=0,Ke=0}t.mode=DONE;case DONE:hi=Z_STREAM_END$1;break e;case BAD:hi=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return $e.next_out=ze,$e.avail_out=We,$e.next_in=je,$e.avail_in=Xe,t.hold=qe,t.bits=Ke,(t.wsize||Je!==$e.avail_out&&t.mode<BAD&&(t.mode<CHECK||e!==Z_FINISH$1))&&updatewindow($e,$e.output,$e.next_out,Je-$e.avail_out),Ze-=$e.avail_in,Je-=$e.avail_out,$e.total_in+=Ze,$e.total_out+=Je,t.total+=Je,t.wrap&4&&Je&&($e.adler=t.check=t.flags?crc32_1(t.check,Ve,Je,$e.next_out-Je):adler32_1(t.check,Ve,Je,$e.next_out-Je)),$e.data_type=t.bits+(t.last?64:0)+(t.mode===TYPE?128:0)+(t.mode===LEN_||t.mode===COPY_?256:0),(Ze===0&&Je===0||e===Z_FINISH$1)&&hi===Z_OK$1&&(hi=Z_BUF_ERROR),hi},inflateEnd=$e=>{if(inflateStateCheck($e))return Z_STREAM_ERROR$1;let e=$e.state;return e.window&&(e.window=null),$e.state=null,Z_OK$1},inflateGetHeader=($e,e)=>{if(inflateStateCheck($e))return Z_STREAM_ERROR$1;const t=$e.state;return t.wrap&2?(t.head=e,e.done=!1,Z_OK$1):Z_STREAM_ERROR$1},inflateSetDictionary=($e,e)=>{const t=e.length;let r,Ve,je;return inflateStateCheck($e)||(r=$e.state,r.wrap!==0&&r.mode!==DICT)?Z_STREAM_ERROR$1:r.mode===DICT&&(Ve=1,Ve=adler32_1(Ve,e,t,0),Ve!==r.check)?Z_DATA_ERROR$1:(je=updatewindow($e,e,t,t),je?(r.mode=MEM,Z_MEM_ERROR$1):(r.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString$2=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1($e){this.options=common.assign({chunkSize:1024*64,windowBits:15,to:""},$e||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!($e&&$e.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let t=inflate_1$2.inflateInit2(this.strm,e.windowBits);if(t!==Z_OK)throw new Error(messages[t]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=strings.string2buf(e.dictionary):toString$2.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=inflate_1$2.inflateSetDictionary(this.strm,e.dictionary),t!==Z_OK)))throw new Error(messages[t])}Inflate$1.prototype.push=function($e,e){const t=this.strm,r=this.options.chunkSize,Ve=this.options.dictionary;let je,ze,Xe;if(this.ended)return!1;for(e===~~e?ze=e:ze=e===!0?Z_FINISH:Z_NO_FLUSH,toString$2.call($e)==="[object ArrayBuffer]"?t.input=new Uint8Array($e):t.input=$e,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),je=inflate_1$2.inflate(t,ze),je===Z_NEED_DICT&&Ve&&(je=inflate_1$2.inflateSetDictionary(t,Ve),je===Z_OK?je=inflate_1$2.inflate(t,ze):je===Z_DATA_ERROR&&(je=Z_NEED_DICT));t.avail_in>0&&je===Z_STREAM_END&&t.state.wrap>0&&$e[t.next_in]!==0;)inflate_1$2.inflateReset(t),je=inflate_1$2.inflate(t,ze);switch(je){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(je),this.ended=!0,!1}if(Xe=t.avail_out,t.next_out&&(t.avail_out===0||je===Z_STREAM_END))if(this.options.to==="string"){let We=strings.utf8border(t.output,t.next_out),qe=t.next_out-We,Ke=strings.buf2string(t.output,We);t.next_out=qe,t.avail_out=r-qe,qe&&t.output.set(t.output.subarray(We,We+qe),0),this.onData(Ke)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(je===Z_OK&&Xe===0)){if(je===Z_STREAM_END)return je=inflate_1$2.inflateEnd(this.strm),this.onEnd(je),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function($e){this.chunks.push($e)};Inflate$1.prototype.onEnd=function($e){$e===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=$e,this.msg=this.strm.msg};function inflate$1($e,e){const t=new Inflate$1(e);if(t.push($e),t.err)throw t.msg||messages[t.err];return t.result}function inflateRaw$1($e,e){return e=e||{},e.raw=!0,inflate$1($e,e)}var Inflate_1$1=Inflate$1,inflate_2=inflate$1,inflateRaw_1$1=inflateRaw$1,ungzip$1=inflate$1,constants=constants$2,inflate_1$1={Inflate:Inflate_1$1,inflate:inflate_2,inflateRaw:inflateRaw_1$1,ungzip:ungzip$1,constants};const{Deflate,deflate,deflateRaw,gzip}=deflate_1$1,{Inflate,inflate,inflateRaw,ungzip}=inflate_1$1;var deflate_1=deflate,Inflate_1=Inflate,inflate_1=inflate;const pngSignature=[137,80,78,71,13,10,26,10],crcTable=[];for(let $e=0;$e<256;$e++){let e=$e;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;crcTable[$e]=e}const initialCrc=4294967295;function updateCrc($e,e,t){let r=$e;for(let Ve=0;Ve<t;Ve++)r=crcTable[(r^e[Ve])&255]^r>>>8;return r}function crc($e,e){return(updateCrc(initialCrc,$e,e)^initialCrc)>>>0}var ColorType;(function($e){$e[$e.UNKNOWN=-1]="UNKNOWN",$e[$e.GREYSCALE=0]="GREYSCALE",$e[$e.TRUECOLOUR=2]="TRUECOLOUR",$e[$e.INDEXED_COLOUR=3]="INDEXED_COLOUR",$e[$e.GREYSCALE_ALPHA=4]="GREYSCALE_ALPHA",$e[$e.TRUECOLOUR_ALPHA=6]="TRUECOLOUR_ALPHA"})(ColorType||(ColorType={}));var CompressionMethod;(function($e){$e[$e.UNKNOWN=-1]="UNKNOWN",$e[$e.DEFLATE=0]="DEFLATE"})(CompressionMethod||(CompressionMethod={}));var FilterMethod;(function($e){$e[$e.UNKNOWN=-1]="UNKNOWN",$e[$e.ADAPTIVE=0]="ADAPTIVE"})(FilterMethod||(FilterMethod={}));var InterlaceMethod;(function($e){$e[$e.UNKNOWN=-1]="UNKNOWN",$e[$e.NO_INTERLACE=0]="NO_INTERLACE",$e[$e.ADAM7=1]="ADAM7"})(InterlaceMethod||(InterlaceMethod={}));const empty=new Uint8Array(0),NULL="\0",uint16=new Uint16Array([255]),uint8=new Uint8Array(uint16.buffer),osIsLittleEndian=uint8[0]===255;class PngDecoder extends IOBuffer$4{constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new Inflate_1,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=CompressionMethod.UNKNOWN,this._filterMethod=FilterMethod.UNKNOWN,this._interlaceMethod=InterlaceMethod.UNKNOWN,this._colorType=ColorType.UNKNOWN,this.setBigEndian()}decode(){for(this.decodeSignature();!this._end;)this.decodeChunk();return this.decodeImage(),this._png}decodeSignature(){for(let e=0;e<pngSignature.length;e++)if(this.readUint8()!==pngSignature[e])throw new Error(`wrong PNG signature. Byte at ${e} should be ${pngSignature[e]}.`)}decodeChunk(){const e=this.readUint32(),t=this.readChars(4),r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case"tEXt":this.decodetEXt(e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);if(this._checkCrc){const Ve=this.readUint32(),je=e+4,ze=crc(new Uint8Array(this.buffer,this.byteOffset+this.offset-je-4,je),je);if(ze!==Ve)throw new Error(`CRC mismatch for chunk ${t}. Expected ${Ve}, found ${ze}`)}else this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=checkBitDepth(this.readUint8());const t=this.readUint8();this._colorType=t;let r;switch(t){case ColorType.GREYSCALE:r=1;break;case ColorType.TRUECOLOUR:r=3;break;case ColorType.INDEXED_COLOUR:r=1;break;case ColorType.GREYSCALE_ALPHA:r=2;break;case ColorType.TRUECOLOUR_ALPHA:r=4;break;default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==CompressionMethod.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let Ve=0;Ve<t;Ve++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._inflator.push(new Uint8Array(this.buffer,this.offset+this.byteOffset,e)),this.skip(e)}decodetRNS(e){switch(this._colorType){case ColorType.GREYSCALE:case ColorType.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case ColorType.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){let t="",r;for(;(r=this.readChar())!==NULL;)t+=r;const Ve=this.readUint8();if(Ve!==CompressionMethod.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${Ve}`);const je=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:inflate_1(je)}}decodetEXt(e){let t="",r;for(;(r=this.readChar())!==NULL;)t+=r;this._png.text[t]=this.readChars(e-t.length-1)}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._inflator.result;if(this._filterMethod!==FilterMethod.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===InterlaceMethod.NO_INTERLACE)this.decodeInterlaceNull(e);else throw new Error(`Interlace method ${this._interlaceMethod} not supported`)}decodeInterlaceNull(e){const t=this._png.height,r=this._png.channels*this._png.depth/8,Ve=this._png.width*r,je=new Uint8Array(this._png.height*Ve);let ze=empty,Xe=0,We,qe;for(let Ke=0;Ke<t;Ke++){switch(We=e.subarray(Xe+1,Xe+1+Ve),qe=je.subarray(Ke*Ve,(Ke+1)*Ve),e[Xe]){case 0:unfilterNone(We,qe,Ve);break;case 1:unfilterSub(We,qe,Ve,r);break;case 2:unfilterUp(We,qe,ze,Ve);break;case 3:unfilterAverage(We,qe,ze,Ve,r);break;case 4:unfilterPaeth(We,qe,ze,Ve,r);break;default:throw new Error(`Unsupported filter: ${e[Xe]}`)}ze=qe,Xe+=Ve+1}if(this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency),this._png.depth===16){const Ke=new Uint16Array(je.buffer);if(osIsLittleEndian)for(let Ze=0;Ze<Ke.length;Ze++)Ke[Ze]=swap16(Ke[Ze]);this._png.data=Ke}else this._png.data=je}}function unfilterNone($e,e,t){for(let r=0;r<t;r++)e[r]=$e[r]}function unfilterSub($e,e,t,r){let Ve=0;for(;Ve<r;Ve++)e[Ve]=$e[Ve];for(;Ve<t;Ve++)e[Ve]=$e[Ve]+e[Ve-r]&255}function unfilterUp($e,e,t,r){let Ve=0;if(t.length===0)for(;Ve<r;Ve++)e[Ve]=$e[Ve];else for(;Ve<r;Ve++)e[Ve]=$e[Ve]+t[Ve]&255}function unfilterAverage($e,e,t,r,Ve){let je=0;if(t.length===0){for(;je<Ve;je++)e[je]=$e[je];for(;je<r;je++)e[je]=$e[je]+(e[je-Ve]>>1)&255}else{for(;je<Ve;je++)e[je]=$e[je]+(t[je]>>1)&255;for(;je<r;je++)e[je]=$e[je]+(e[je-Ve]+t[je]>>1)&255}}function unfilterPaeth($e,e,t,r,Ve){let je=0;if(t.length===0){for(;je<Ve;je++)e[je]=$e[je];for(;je<r;je++)e[je]=$e[je]+e[je-Ve]&255}else{for(;je<Ve;je++)e[je]=$e[je]+t[je]&255;for(;je<r;je++)e[je]=$e[je]+paethPredictor(e[je-Ve],t[je],t[je-Ve])&255}}function paethPredictor($e,e,t){const r=$e+e-t,Ve=Math.abs(r-$e),je=Math.abs(r-e),ze=Math.abs(r-t);return Ve<=je&&Ve<=ze?$e:je<=ze?e:t}function swap16($e){return($e&255)<<8|$e>>8&255}function checkBitDepth($e){if($e!==1&&$e!==2&&$e!==4&&$e!==8&&$e!==16)throw new Error(`invalid bit depth: ${$e}`);return $e}const defaultZlibOptions={level:3};class PngEncoder extends IOBuffer$4{constructor(e,t={}){super(),this._colorType=ColorType.UNKNOWN,this._zlibOptions={...defaultZlibOptions,...t.zlib},this._png=this._checkData(e),this.setBigEndian()}encode(){return this.encodeSignature(),this.encodeIHDR(),this.encodeData(),this.encodeIEND(),this.toArray()}encodeSignature(){this.writeBytes(pngSignature)}encodeIHDR(){this.writeUint32(13),this.writeChars("IHDR"),this.writeUint32(this._png.width),this.writeUint32(this._png.height),this.writeByte(this._png.depth),this.writeByte(this._colorType),this.writeByte(CompressionMethod.DEFLATE),this.writeByte(FilterMethod.ADAPTIVE),this.writeByte(InterlaceMethod.NO_INTERLACE),this.writeCrc(17)}encodeIEND(){this.writeUint32(0),this.writeChars("IEND"),this.writeCrc(4)}encodeIDAT(e){this.writeUint32(e.length),this.writeChars("IDAT"),this.writeBytes(e),this.writeCrc(e.length+4)}encodeData(){const{width:e,height:t,channels:r,depth:Ve,data:je}=this._png,ze=r*e,Xe=new IOBuffer$4().setBigEndian();let We=0;for(let Ze=0;Ze<t;Ze++)if(Xe.writeByte(0),Ve===8)We=writeDataBytes(je,Xe,ze,We);else if(Ve===16)We=writeDataUint16(je,Xe,ze,We);else throw new Error("unreachable");const qe=Xe.toArray(),Ke=deflate_1(qe,this._zlibOptions);this.encodeIDAT(Ke)}_checkData(e){const{colorType:t,channels:r,depth:Ve}=getColorType(e),je={width:checkInteger(e.width,"width"),height:checkInteger(e.height,"height"),channels:r,data:e.data,depth:Ve,text:{}};this._colorType=t;const ze=je.width*je.height*r;if(je.data.length!==ze)throw new RangeError(`wrong data size. Found ${je.data.length}, expected ${ze}`);return je}writeCrc(e){this.writeUint32(crc(new Uint8Array(this.buffer,this.byteOffset+this.offset-e,e),e))}}function checkInteger($e,e){if(Number.isInteger($e)&&$e>0)return $e;throw new TypeError(`${e} must be a positive integer`)}function getColorType($e){const{channels:e=4,depth:t=8}=$e;if(e!==4&&e!==3&&e!==2&&e!==1)throw new RangeError(`unsupported number of channels: ${e}`);if(t!==8&&t!==16)throw new RangeError(`unsupported bit depth: ${t}`);const r={channels:e,depth:t,colorType:ColorType.UNKNOWN};switch(e){case 4:r.colorType=ColorType.TRUECOLOUR_ALPHA;break;case 3:r.colorType=ColorType.TRUECOLOUR;break;case 1:r.colorType=ColorType.GREYSCALE;break;case 2:r.colorType=ColorType.GREYSCALE_ALPHA;break;default:throw new Error("unsupported number of channels")}return r}function writeDataBytes($e,e,t,r){for(let Ve=0;Ve<t;Ve++)e.writeByte($e[r++]);return r}function writeDataUint16($e,e,t,r){for(let Ve=0;Ve<t;Ve++)e.writeUint16($e[r++]);return r}var ResolutionUnitSpecifier;(function($e){$e[$e.UNKNOWN=0]="UNKNOWN",$e[$e.METRE=1]="METRE"})(ResolutionUnitSpecifier||(ResolutionUnitSpecifier={}));function decodePng($e,e){return new PngDecoder($e,e).decode()}function encodePng$1($e,e){return new PngEncoder($e,e).encode()}var encoder={exports:{}};(function($e){function e(r){var Ve=Math.floor,je=new Array(64),ze=new Array(64),Xe=new Array(64),We=new Array(64),qe,Ke,Ze,Je,Qe=new Array(65535),ti=new Array(65535),ni=new Array(64),ri=new Array(64),ii=[],ei=0,St=7,oi=new Array(64),si=new Array(64),ai=new Array(64),ui=new Array(256),hi=new Array(2048),ci,mi=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],di=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],pi=[0,1,2,3,4,5,6,7,8,9,10,11],yi=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],gi=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],_i=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Ai=[0,1,2,3,4,5,6,7,8,9,10,11],ki=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],vi=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Mi(Ui){for(var Ji=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],gn=0;gn<64;gn++){var hn=Ve((Ji[gn]*Ui+50)/100);hn<1?hn=1:hn>255&&(hn=255),je[mi[gn]]=hn}for(var un=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Mn=0;Mn<64;Mn++){var sn=Ve((un[Mn]*Ui+50)/100);sn<1?sn=1:sn>255&&(sn=255),ze[mi[Mn]]=sn}for(var vn=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ni=0,Cn=0;Cn<8;Cn++)for(var cn=0;cn<8;cn++)Xe[Ni]=1/(je[mi[Ni]]*vn[Cn]*vn[cn]*8),We[Ni]=1/(ze[mi[Ni]]*vn[Cn]*vn[cn]*8),Ni++}function Di(Ui,Ji){for(var gn=0,hn=0,un=new Array,Mn=1;Mn<=16;Mn++){for(var sn=1;sn<=Ui[Mn];sn++)un[Ji[hn]]=[],un[Ji[hn]][0]=gn,un[Ji[hn]][1]=Mn,hn++,gn++;gn*=2}return un}function Bi(){qe=Di(di,pi),Ke=Di(_i,Ai),Ze=Di(yi,gi),Je=Di(ki,vi)}function Pi(){for(var Ui=1,Ji=2,gn=1;gn<=15;gn++){for(var hn=Ui;hn<Ji;hn++)ti[32767+hn]=gn,Qe[32767+hn]=[],Qe[32767+hn][1]=gn,Qe[32767+hn][0]=hn;for(var un=-(Ji-1);un<=-Ui;un++)ti[32767+un]=gn,Qe[32767+un]=[],Qe[32767+un][1]=gn,Qe[32767+un][0]=Ji-1+un;Ui<<=1,Ji<<=1}}function Fi(){for(var Ui=0;Ui<256;Ui++)hi[Ui]=19595*Ui,hi[Ui+256>>0]=38470*Ui,hi[Ui+512>>0]=7471*Ui+32768,hi[Ui+768>>0]=-11059*Ui,hi[Ui+1024>>0]=-21709*Ui,hi[Ui+1280>>0]=32768*Ui+8421375,hi[Ui+1536>>0]=-27439*Ui,hi[Ui+1792>>0]=-5329*Ui}function Vi(Ui){for(var Ji=Ui[0],gn=Ui[1]-1;gn>=0;)Ji&1<<gn&&(ei|=1<<St),gn--,St--,St<0&&(ei==255?(Ti(255),Ti(0)):Ti(ei),St=7,ei=0)}function Ti(Ui){ii.push(Ui)}function ji(Ui){Ti(Ui>>8&255),Ti(Ui&255)}function Gi(Ui,Ji){var gn,hn,un,Mn,sn,vn,Ni,Cn,cn=0,fn,qi=8,an=64;for(fn=0;fn<qi;++fn){gn=Ui[cn],hn=Ui[cn+1],un=Ui[cn+2],Mn=Ui[cn+3],sn=Ui[cn+4],vn=Ui[cn+5],Ni=Ui[cn+6],Cn=Ui[cn+7];var yn=gn+Cn,bn=gn-Cn,Sn=hn+Ni,Fn=hn-Ni,kn=un+vn,Nn=un-vn,Hn=Mn+sn,Yn=Mn-sn,tr=yn+Hn,qn=yn-Hn,Jn=Sn+kn,Qn=Sn-kn;Ui[cn]=tr+Jn,Ui[cn+4]=tr-Jn;var ar=(Qn+qn)*.707106781;Ui[cn+2]=qn+ar,Ui[cn+6]=qn-ar,tr=Yn+Nn,Jn=Nn+Fn,Qn=Fn+bn;var mn=(tr-Qn)*.382683433,Ii=.5411961*tr+mn,Wi=1.306562965*Qn+mn,nn=Jn*.707106781,xn=bn+nn,On=bn-nn;Ui[cn+5]=On+Ii,Ui[cn+3]=On-Ii,Ui[cn+1]=xn+Wi,Ui[cn+7]=xn-Wi,cn+=8}for(cn=0,fn=0;fn<qi;++fn){gn=Ui[cn],hn=Ui[cn+8],un=Ui[cn+16],Mn=Ui[cn+24],sn=Ui[cn+32],vn=Ui[cn+40],Ni=Ui[cn+48],Cn=Ui[cn+56];var Ln=gn+Cn,nr=gn-Cn,Kn=hn+Ni,ir=hn-Ni,pr=un+vn,Ur=un-vn,ur=Mn+sn,_r=Mn-sn,lr=Ln+ur,yr=Ln-ur,cr=Kn+pr,br=Kn-pr;Ui[cn]=lr+cr,Ui[cn+32]=lr-cr;var Er=(br+yr)*.707106781;Ui[cn+16]=yr+Er,Ui[cn+48]=yr-Er,lr=_r+Ur,cr=Ur+ir,br=ir+nr;var $r=(lr-br)*.382683433,Gr=.5411961*lr+$r,ao=1.306562965*br+$r,lo=cr*.707106781,uo=nr+lo,ko=nr-lo;Ui[cn+40]=ko+Gr,Ui[cn+24]=ko-Gr,Ui[cn+8]=uo+ao,Ui[cn+56]=uo-ao,cn++}var no;for(fn=0;fn<an;++fn)no=Ui[fn]*Ji[fn],ni[fn]=no>0?no+.5|0:no-.5|0;return ni}function Yi(){ji(65504),ji(16),Ti(74),Ti(70),Ti(73),Ti(70),Ti(0),Ti(1),Ti(1),Ti(0),ji(1),ji(1),Ti(0),Ti(0)}function Xi(Ui){if(Ui){ji(65505),Ui[0]===69&&Ui[1]===120&&Ui[2]===105&&Ui[3]===102?ji(Ui.length+2):(ji(Ui.length+5+2),Ti(69),Ti(120),Ti(105),Ti(102),Ti(0));for(var Ji=0;Ji<Ui.length;Ji++)Ti(Ui[Ji])}}function xi(Ui,Ji){ji(65472),ji(17),Ti(8),ji(Ji),ji(Ui),Ti(3),Ti(1),Ti(17),Ti(0),Ti(2),Ti(17),Ti(1),Ti(3),Ti(17),Ti(1)}function fi(){ji(65499),ji(132),Ti(0);for(var Ui=0;Ui<64;Ui++)Ti(je[Ui]);Ti(1);for(var Ji=0;Ji<64;Ji++)Ti(ze[Ji])}function $i(){ji(65476),ji(418),Ti(0);for(var Ui=0;Ui<16;Ui++)Ti(di[Ui+1]);for(var Ji=0;Ji<=11;Ji++)Ti(pi[Ji]);Ti(16);for(var gn=0;gn<16;gn++)Ti(yi[gn+1]);for(var hn=0;hn<=161;hn++)Ti(gi[hn]);Ti(1);for(var un=0;un<16;un++)Ti(_i[un+1]);for(var Mn=0;Mn<=11;Mn++)Ti(Ai[Mn]);Ti(17);for(var sn=0;sn<16;sn++)Ti(ki[sn+1]);for(var vn=0;vn<=161;vn++)Ti(vi[vn])}function bi(Ui){typeof Ui>"u"||Ui.constructor!==Array||Ui.forEach(Ji=>{if(typeof Ji=="string"){ji(65534);var gn=Ji.length;ji(gn+2);var hn;for(hn=0;hn<gn;hn++)Ti(Ji.charCodeAt(hn))}})}function Ci(){ji(65498),ji(12),Ti(3),Ti(1),Ti(0),Ti(2),Ti(17),Ti(3),Ti(17),Ti(0),Ti(63),Ti(0)}function Ei(Ui,Ji,gn,hn,un){for(var Mn=un[0],sn=un[240],vn,Ni=16,Cn=63,cn=64,fn=Gi(Ui,Ji),qi=0;qi<cn;++qi)ri[mi[qi]]=fn[qi];var an=ri[0]-gn;gn=ri[0],an==0?Vi(hn[0]):(vn=32767+an,Vi(hn[ti[vn]]),Vi(Qe[vn]));for(var yn=63;yn>0&&ri[yn]==0;yn--);if(yn==0)return Vi(Mn),gn;for(var bn=1,Sn;bn<=yn;){for(var Fn=bn;ri[bn]==0&&bn<=yn;++bn);var kn=bn-Fn;if(kn>=Ni){Sn=kn>>4;for(var Nn=1;Nn<=Sn;++Nn)Vi(sn);kn=kn&15}vn=32767+ri[bn],Vi(un[(kn<<4)+ti[vn]]),Vi(Qe[vn]),bn++}return yn!=Cn&&Vi(Mn),gn}function Si(){for(var Ui=String.fromCharCode,Ji=0;Ji<256;Ji++)ui[Ji]=Ui(Ji)}this.encode=function(Ui,Ji){new Date().getTime(),Ji&&zi(Ji),ii=new Array,ei=0,St=7,ji(65496),Yi(),bi(Ui.comments),Xi(Ui.exifBuffer),fi(),xi(Ui.width,Ui.height),$i(),Ci();var gn=0,hn=0,un=0;ei=0,St=7,this.encode.displayName="_encode_";for(var Mn=Ui.data,sn=Ui.width,vn=Ui.height,Ni=sn*4,Cn,cn=0,fn,qi,an,yn,bn,Sn,Fn,kn;cn<vn;){for(Cn=0;Cn<Ni;){for(yn=Ni*cn+Cn,bn=yn,Sn=-1,Fn=0,kn=0;kn<64;kn++)Fn=kn>>3,Sn=(kn&7)*4,bn=yn+Fn*Ni+Sn,cn+Fn>=vn&&(bn-=Ni*(cn+1+Fn-vn)),Cn+Sn>=Ni&&(bn-=Cn+Sn-Ni+4),fn=Mn[bn++],qi=Mn[bn++],an=Mn[bn++],oi[kn]=(hi[fn]+hi[qi+256>>0]+hi[an+512>>0]>>16)-128,si[kn]=(hi[fn+768>>0]+hi[qi+1024>>0]+hi[an+1280>>0]>>16)-128,ai[kn]=(hi[fn+1280>>0]+hi[qi+1536>>0]+hi[an+1792>>0]>>16)-128;gn=Ei(oi,Xe,gn,qe,Ze),hn=Ei(si,We,hn,Ke,Je),un=Ei(ai,We,un,Ke,Je),Cn+=32}cn+=8}if(St>=0){var Nn=[];Nn[1]=St+1,Nn[0]=(1<<St+1)-1,Vi(Nn)}return ji(65497),Buffer.from(ii)};function zi(Ui){if(Ui<=0&&(Ui=1),Ui>100&&(Ui=100),ci!=Ui){var Ji=0;Ui<50?Ji=Math.floor(5e3/Ui):Ji=Math.floor(200-Ui*2),Mi(Ji),ci=Ui}}function Ki(){var Ui=new Date().getTime();r||(r=50),Si(),Bi(),Pi(),Fi(),zi(r),new Date().getTime()-Ui}Ki()}$e.exports=t;function t(r,Ve){typeof Ve>"u"&&(Ve=50);var je=new e(Ve),ze=je.encode(r,Ve);return{data:ze,width:r.width,height:r.height}}})(encoder);var encoderExports=encoder.exports,decoder={exports:{}};(function($e){var e=function(){var r=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),Ve=4017,je=799,ze=3406,Xe=2276,We=1567,qe=3784,Ke=5793,Ze=2896;function Je(){}function Qe(oi,si){for(var ai=0,ui=[],hi,ci,mi=16;mi>0&&!oi[mi-1];)mi--;ui.push({children:[],index:0});var di=ui[0],pi;for(hi=0;hi<mi;hi++){for(ci=0;ci<oi[hi];ci++){for(di=ui.pop(),di.children[di.index]=si[ai];di.index>0;){if(ui.length===0)throw new Error("Could not recreate Huffman Table");di=ui.pop()}for(di.index++,ui.push(di);ui.length<=hi;)ui.push(pi={children:[],index:0}),di.children[di.index]=pi.children,di=pi;ai++}hi+1<mi&&(ui.push(pi={children:[],index:0}),di.children[di.index]=pi.children,di=pi)}return ui[0].children}function ti(oi,si,ai,ui,hi,ci,mi,di,pi,yi){ai.precision,ai.samplesPerLine,ai.scanLines;var gi=ai.mcusPerLine,_i=ai.progressive;ai.maxH,ai.maxV;var Ai=si,ki=0,vi=0;function Mi(){if(vi>0)return vi--,ki>>vi&1;if(ki=oi[si++],ki==255){var sn=oi[si++];if(sn)throw new Error("unexpected marker: "+(ki<<8|sn).toString(16))}return vi=7,ki>>>7}function Di(sn){for(var vn=sn,Ni;(Ni=Mi())!==null;){if(vn=vn[Ni],typeof vn=="number")return vn;if(typeof vn!="object")throw new Error("invalid huffman sequence")}return null}function Bi(sn){for(var vn=0;sn>0;){var Ni=Mi();if(Ni===null)return;vn=vn<<1|Ni,sn--}return vn}function Pi(sn){var vn=Bi(sn);return vn>=1<<sn-1?vn:vn+(-1<<sn)+1}function Fi(sn,vn){var Ni=Di(sn.huffmanTableDC),Cn=Ni===0?0:Pi(Ni);vn[0]=sn.pred+=Cn;for(var cn=1;cn<64;){var fn=Di(sn.huffmanTableAC),qi=fn&15,an=fn>>4;if(qi===0){if(an<15)break;cn+=16;continue}cn+=an;var yn=r[cn];vn[yn]=Pi(qi),cn++}}function Vi(sn,vn){var Ni=Di(sn.huffmanTableDC),Cn=Ni===0?0:Pi(Ni)<<pi;vn[0]=sn.pred+=Cn}function Ti(sn,vn){vn[0]|=Mi()<<pi}var ji=0;function Gi(sn,vn){if(ji>0){ji--;return}for(var Ni=ci,Cn=mi;Ni<=Cn;){var cn=Di(sn.huffmanTableAC),fn=cn&15,qi=cn>>4;if(fn===0){if(qi<15){ji=Bi(qi)+(1<<qi)-1;break}Ni+=16;continue}Ni+=qi;var an=r[Ni];vn[an]=Pi(fn)*(1<<pi),Ni++}}var Yi=0,Xi;function xi(sn,vn){for(var Ni=ci,Cn=mi,cn=0;Ni<=Cn;){var fn=r[Ni],qi=vn[fn]<0?-1:1;switch(Yi){case 0:var an=Di(sn.huffmanTableAC),yn=an&15,cn=an>>4;if(yn===0)cn<15?(ji=Bi(cn)+(1<<cn),Yi=4):(cn=16,Yi=1);else{if(yn!==1)throw new Error("invalid ACn encoding");Xi=Pi(yn),Yi=cn?2:3}continue;case 1:case 2:vn[fn]?vn[fn]+=(Mi()<<pi)*qi:(cn--,cn===0&&(Yi=Yi==2?3:0));break;case 3:vn[fn]?vn[fn]+=(Mi()<<pi)*qi:(vn[fn]=Xi<<pi,Yi=0);break;case 4:vn[fn]&&(vn[fn]+=(Mi()<<pi)*qi);break}Ni++}Yi===4&&(ji--,ji===0&&(Yi=0))}function fi(sn,vn,Ni,Cn,cn){var fn=Ni/gi|0,qi=Ni%gi,an=fn*sn.v+Cn,yn=qi*sn.h+cn;sn.blocks[an]===void 0&&yi.tolerantDecoding||vn(sn,sn.blocks[an][yn])}function $i(sn,vn,Ni){var Cn=Ni/sn.blocksPerLine|0,cn=Ni%sn.blocksPerLine;sn.blocks[Cn]===void 0&&yi.tolerantDecoding||vn(sn,sn.blocks[Cn][cn])}var bi=ui.length,Ci,Ei,Si,zi,Ki,Ui;_i?ci===0?Ui=di===0?Vi:Ti:Ui=di===0?Gi:xi:Ui=Fi;var Ji=0,gn,hn;bi==1?hn=ui[0].blocksPerLine*ui[0].blocksPerColumn:hn=gi*ai.mcusPerColumn,hi||(hi=hn);for(var un,Mn;Ji<hn;){for(Ei=0;Ei<bi;Ei++)ui[Ei].pred=0;if(ji=0,bi==1)for(Ci=ui[0],Ki=0;Ki<hi;Ki++)$i(Ci,Ui,Ji),Ji++;else for(Ki=0;Ki<hi;Ki++){for(Ei=0;Ei<bi;Ei++)for(Ci=ui[Ei],un=Ci.h,Mn=Ci.v,Si=0;Si<Mn;Si++)for(zi=0;zi<un;zi++)fi(Ci,Ui,Ji,Si,zi);if(Ji++,Ji===hn)break}if(Ji===hn)do{if(oi[si]===255&&oi[si+1]!==0)break;si+=1}while(si<oi.length-2);if(vi=0,gn=oi[si]<<8|oi[si+1],gn<65280)throw new Error("marker was not found");if(gn>=65488&&gn<=65495)si+=2;else break}return si-Ai}function ni(oi,si){var ai=[],ui=si.blocksPerLine,hi=si.blocksPerColumn,ci=ui<<3,mi=new Int32Array(64),di=new Uint8Array(64);function pi(Bi,Pi,Fi){var Vi=si.quantizationTable,Ti,ji,Gi,Yi,Xi,xi,fi,$i,bi,Ci=Fi,Ei;for(Ei=0;Ei<64;Ei++)Ci[Ei]=Bi[Ei]*Vi[Ei];for(Ei=0;Ei<8;++Ei){var Si=8*Ei;if(Ci[1+Si]==0&&Ci[2+Si]==0&&Ci[3+Si]==0&&Ci[4+Si]==0&&Ci[5+Si]==0&&Ci[6+Si]==0&&Ci[7+Si]==0){bi=Ke*Ci[0+Si]+512>>10,Ci[0+Si]=bi,Ci[1+Si]=bi,Ci[2+Si]=bi,Ci[3+Si]=bi,Ci[4+Si]=bi,Ci[5+Si]=bi,Ci[6+Si]=bi,Ci[7+Si]=bi;continue}Ti=Ke*Ci[0+Si]+128>>8,ji=Ke*Ci[4+Si]+128>>8,Gi=Ci[2+Si],Yi=Ci[6+Si],Xi=Ze*(Ci[1+Si]-Ci[7+Si])+128>>8,$i=Ze*(Ci[1+Si]+Ci[7+Si])+128>>8,xi=Ci[3+Si]<<4,fi=Ci[5+Si]<<4,bi=Ti-ji+1>>1,Ti=Ti+ji+1>>1,ji=bi,bi=Gi*qe+Yi*We+128>>8,Gi=Gi*We-Yi*qe+128>>8,Yi=bi,bi=Xi-fi+1>>1,Xi=Xi+fi+1>>1,fi=bi,bi=$i+xi+1>>1,xi=$i-xi+1>>1,$i=bi,bi=Ti-Yi+1>>1,Ti=Ti+Yi+1>>1,Yi=bi,bi=ji-Gi+1>>1,ji=ji+Gi+1>>1,Gi=bi,bi=Xi*Xe+$i*ze+2048>>12,Xi=Xi*ze-$i*Xe+2048>>12,$i=bi,bi=xi*je+fi*Ve+2048>>12,xi=xi*Ve-fi*je+2048>>12,fi=bi,Ci[0+Si]=Ti+$i,Ci[7+Si]=Ti-$i,Ci[1+Si]=ji+fi,Ci[6+Si]=ji-fi,Ci[2+Si]=Gi+xi,Ci[5+Si]=Gi-xi,Ci[3+Si]=Yi+Xi,Ci[4+Si]=Yi-Xi}for(Ei=0;Ei<8;++Ei){var zi=Ei;if(Ci[8+zi]==0&&Ci[16+zi]==0&&Ci[24+zi]==0&&Ci[32+zi]==0&&Ci[40+zi]==0&&Ci[48+zi]==0&&Ci[56+zi]==0){bi=Ke*Fi[Ei+0]+8192>>14,Ci[0+zi]=bi,Ci[8+zi]=bi,Ci[16+zi]=bi,Ci[24+zi]=bi,Ci[32+zi]=bi,Ci[40+zi]=bi,Ci[48+zi]=bi,Ci[56+zi]=bi;continue}Ti=Ke*Ci[0+zi]+2048>>12,ji=Ke*Ci[32+zi]+2048>>12,Gi=Ci[16+zi],Yi=Ci[48+zi],Xi=Ze*(Ci[8+zi]-Ci[56+zi])+2048>>12,$i=Ze*(Ci[8+zi]+Ci[56+zi])+2048>>12,xi=Ci[24+zi],fi=Ci[40+zi],bi=Ti-ji+1>>1,Ti=Ti+ji+1>>1,ji=bi,bi=Gi*qe+Yi*We+2048>>12,Gi=Gi*We-Yi*qe+2048>>12,Yi=bi,bi=Xi-fi+1>>1,Xi=Xi+fi+1>>1,fi=bi,bi=$i+xi+1>>1,xi=$i-xi+1>>1,$i=bi,bi=Ti-Yi+1>>1,Ti=Ti+Yi+1>>1,Yi=bi,bi=ji-Gi+1>>1,ji=ji+Gi+1>>1,Gi=bi,bi=Xi*Xe+$i*ze+2048>>12,Xi=Xi*ze-$i*Xe+2048>>12,$i=bi,bi=xi*je+fi*Ve+2048>>12,xi=xi*Ve-fi*je+2048>>12,fi=bi,Ci[0+zi]=Ti+$i,Ci[56+zi]=Ti-$i,Ci[8+zi]=ji+fi,Ci[48+zi]=ji-fi,Ci[16+zi]=Gi+xi,Ci[40+zi]=Gi-xi,Ci[24+zi]=Yi+Xi,Ci[32+zi]=Yi-Xi}for(Ei=0;Ei<64;++Ei){var Ki=128+(Ci[Ei]+8>>4);Pi[Ei]=Ki<0?0:Ki>255?255:Ki}}St(ci*hi*8);for(var yi,gi,_i=0;_i<hi;_i++){var Ai=_i<<3;for(yi=0;yi<8;yi++)ai.push(new Uint8Array(ci));for(var ki=0;ki<ui;ki++){pi(si.blocks[_i][ki],di,mi);var vi=0,Mi=ki<<3;for(gi=0;gi<8;gi++){var Di=ai[Ai+gi];for(yi=0;yi<8;yi++)Di[Mi+yi]=di[vi++]}}}return ai}function ri(oi){return oi<0?0:oi>255?255:oi}Je.prototype={load:function(oi){var si=new XMLHttpRequest;si.open("GET",oi,!0),si.responseType="arraybuffer",si.onload=(function(){var ai=new Uint8Array(si.response||si.mozResponseArrayBuffer);this.parse(ai),this.onload&&this.onload()}).bind(this),si.send(null)},parse:function(oi){var si=this.opts.maxResolutionInMP*1e3*1e3,ai=0;oi.length;function ui(){var fn=oi[ai]<<8|oi[ai+1];return ai+=2,fn}function hi(){var fn=ui(),qi=oi.subarray(ai,ai+fn-2);return ai+=qi.length,qi}function ci(fn){var qi=1,an=1,yn,bn;for(bn in fn.components)fn.components.hasOwnProperty(bn)&&(yn=fn.components[bn],qi<yn.h&&(qi=yn.h),an<yn.v&&(an=yn.v));var Sn=Math.ceil(fn.samplesPerLine/8/qi),Fn=Math.ceil(fn.scanLines/8/an);for(bn in fn.components)if(fn.components.hasOwnProperty(bn)){yn=fn.components[bn];var kn=Math.ceil(Math.ceil(fn.samplesPerLine/8)*yn.h/qi),Nn=Math.ceil(Math.ceil(fn.scanLines/8)*yn.v/an),Hn=Sn*yn.h,Yn=Fn*yn.v,tr=Yn*Hn,qn=[];St(tr*256);for(var Jn=0;Jn<Yn;Jn++){for(var Qn=[],ar=0;ar<Hn;ar++)Qn.push(new Int32Array(64));qn.push(Qn)}yn.blocksPerLine=kn,yn.blocksPerColumn=Nn,yn.blocks=qn}fn.maxH=qi,fn.maxV=an,fn.mcusPerLine=Sn,fn.mcusPerColumn=Fn}var mi=null,di=null,pi,yi,gi=[],_i=[],Ai=[],ki=[],vi=ui(),Mi=-1;if(this.comments=[],vi!=65496)throw new Error("SOI not found");for(vi=ui();vi!=65497;){var Di,Bi;switch(vi){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var Pi=hi();if(vi===65534){var Fi=String.fromCharCode.apply(null,Pi);this.comments.push(Fi)}vi===65504&&Pi[0]===74&&Pi[1]===70&&Pi[2]===73&&Pi[3]===70&&Pi[4]===0&&(mi={version:{major:Pi[5],minor:Pi[6]},densityUnits:Pi[7],xDensity:Pi[8]<<8|Pi[9],yDensity:Pi[10]<<8|Pi[11],thumbWidth:Pi[12],thumbHeight:Pi[13],thumbData:Pi.subarray(14,14+3*Pi[12]*Pi[13])}),vi===65505&&Pi[0]===69&&Pi[1]===120&&Pi[2]===105&&Pi[3]===102&&Pi[4]===0&&(this.exifBuffer=Pi.subarray(5,Pi.length)),vi===65518&&Pi[0]===65&&Pi[1]===100&&Pi[2]===111&&Pi[3]===98&&Pi[4]===101&&Pi[5]===0&&(di={version:Pi[6],flags0:Pi[7]<<8|Pi[8],flags1:Pi[9]<<8|Pi[10],transformCode:Pi[11]});break;case 65499:for(var Vi=ui(),Ti=Vi+ai-2;ai<Ti;){var ji=oi[ai++];St(256);var Gi=new Int32Array(64);if(ji>>4)if(ji>>4===1)for(Bi=0;Bi<64;Bi++){var Yi=r[Bi];Gi[Yi]=ui()}else throw new Error("DQT: invalid table spec");else for(Bi=0;Bi<64;Bi++){var Yi=r[Bi];Gi[Yi]=oi[ai++]}gi[ji&15]=Gi}break;case 65472:case 65473:case 65474:ui(),pi={},pi.extended=vi===65473,pi.progressive=vi===65474,pi.precision=oi[ai++],pi.scanLines=ui(),pi.samplesPerLine=ui(),pi.components={},pi.componentsOrder=[];var Xi=pi.scanLines*pi.samplesPerLine;if(Xi>si){var xi=Math.ceil((Xi-si)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${xi}MP`)}var fi=oi[ai++],$i;for(Di=0;Di<fi;Di++){$i=oi[ai];var bi=oi[ai+1]>>4,Ci=oi[ai+1]&15,Ei=oi[ai+2];if(bi<=0||Ci<=0)throw new Error("Invalid sampling factor, expected values above 0");pi.componentsOrder.push($i),pi.components[$i]={h:bi,v:Ci,quantizationIdx:Ei},ai+=3}ci(pi),_i.push(pi);break;case 65476:var Si=ui();for(Di=2;Di<Si;){var zi=oi[ai++],Ki=new Uint8Array(16),Ui=0;for(Bi=0;Bi<16;Bi++,ai++)Ui+=Ki[Bi]=oi[ai];St(16+Ui);var Ji=new Uint8Array(Ui);for(Bi=0;Bi<Ui;Bi++,ai++)Ji[Bi]=oi[ai];Di+=17+Ui,(zi>>4?Ai:ki)[zi&15]=Qe(Ki,Ji)}break;case 65501:ui(),yi=ui();break;case 65500:ui(),ui();break;case 65498:ui();var gn=oi[ai++],hn=[],un;for(Di=0;Di<gn;Di++){un=pi.components[oi[ai++]];var Mn=oi[ai++];un.huffmanTableDC=ki[Mn>>4],un.huffmanTableAC=Ai[Mn&15],hn.push(un)}var sn=oi[ai++],vn=oi[ai++],Ni=oi[ai++],Cn=ti(oi,ai,pi,hn,yi,sn,vn,Ni>>4,Ni&15,this.opts);ai+=Cn;break;case 65535:oi[ai]!==255&&ai--;break;default:if(oi[ai-3]==255&&oi[ai-2]>=192&&oi[ai-2]<=254){ai-=3;break}else if(vi===224||vi==225){if(Mi!==-1)throw new Error(`first unknown JPEG marker at offset ${Mi.toString(16)}, second unknown JPEG marker ${vi.toString(16)} at offset ${(ai-1).toString(16)}`);Mi=ai-1;const fn=ui();if(oi[ai+fn-2]===255){ai+=fn-2;break}}throw new Error("unknown JPEG marker "+vi.toString(16))}vi=ui()}if(_i.length!=1)throw new Error("only single frame JPEGs supported");for(var Di=0;Di<_i.length;Di++){var cn=_i[Di].components;for(var Bi in cn)cn[Bi].quantizationTable=gi[cn[Bi].quantizationIdx],delete cn[Bi].quantizationIdx}this.width=pi.samplesPerLine,this.height=pi.scanLines,this.jfif=mi,this.adobe=di,this.components=[];for(var Di=0;Di<pi.componentsOrder.length;Di++){var un=pi.components[pi.componentsOrder[Di]];this.components.push({lines:ni(pi,un),scaleX:un.h/pi.maxH,scaleY:un.v/pi.maxV})}},getData:function(oi,si){var ai=this.width/oi,ui=this.height/si,hi,ci,mi,di,pi,yi,gi,_i,Ai,ki,vi=0,Mi,Di,Bi,Pi,Fi,Vi,Ti,ji,Gi,Yi,Xi,xi=oi*si*this.components.length;St(xi);var fi=new Uint8Array(xi);switch(this.components.length){case 1:for(hi=this.components[0],ki=0;ki<si;ki++)for(pi=hi.lines[0|ki*hi.scaleY*ui],Ai=0;Ai<oi;Ai++)Mi=pi[0|Ai*hi.scaleX*ai],fi[vi++]=Mi;break;case 2:for(hi=this.components[0],ci=this.components[1],ki=0;ki<si;ki++)for(pi=hi.lines[0|ki*hi.scaleY*ui],yi=ci.lines[0|ki*ci.scaleY*ui],Ai=0;Ai<oi;Ai++)Mi=pi[0|Ai*hi.scaleX*ai],fi[vi++]=Mi,Mi=yi[0|Ai*ci.scaleX*ai],fi[vi++]=Mi;break;case 3:for(Xi=!0,this.adobe&&this.adobe.transformCode?Xi=!0:typeof this.opts.colorTransform<"u"&&(Xi=!!this.opts.colorTransform),hi=this.components[0],ci=this.components[1],mi=this.components[2],ki=0;ki<si;ki++)for(pi=hi.lines[0|ki*hi.scaleY*ui],yi=ci.lines[0|ki*ci.scaleY*ui],gi=mi.lines[0|ki*mi.scaleY*ui],Ai=0;Ai<oi;Ai++)Xi?(Mi=pi[0|Ai*hi.scaleX*ai],Di=yi[0|Ai*ci.scaleX*ai],Bi=gi[0|Ai*mi.scaleX*ai],ji=ri(Mi+1.402*(Bi-128)),Gi=ri(Mi-.3441363*(Di-128)-.71413636*(Bi-128)),Yi=ri(Mi+1.772*(Di-128))):(ji=pi[0|Ai*hi.scaleX*ai],Gi=yi[0|Ai*ci.scaleX*ai],Yi=gi[0|Ai*mi.scaleX*ai]),fi[vi++]=ji,fi[vi++]=Gi,fi[vi++]=Yi;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(Xi=!1,this.adobe&&this.adobe.transformCode?Xi=!0:typeof this.opts.colorTransform<"u"&&(Xi=!!this.opts.colorTransform),hi=this.components[0],ci=this.components[1],mi=this.components[2],di=this.components[3],ki=0;ki<si;ki++)for(pi=hi.lines[0|ki*hi.scaleY*ui],yi=ci.lines[0|ki*ci.scaleY*ui],gi=mi.lines[0|ki*mi.scaleY*ui],_i=di.lines[0|ki*di.scaleY*ui],Ai=0;Ai<oi;Ai++)Xi?(Mi=pi[0|Ai*hi.scaleX*ai],Di=yi[0|Ai*ci.scaleX*ai],Bi=gi[0|Ai*mi.scaleX*ai],Pi=_i[0|Ai*di.scaleX*ai],Fi=255-ri(Mi+1.402*(Bi-128)),Vi=255-ri(Mi-.3441363*(Di-128)-.71413636*(Bi-128)),Ti=255-ri(Mi+1.772*(Di-128))):(Fi=pi[0|Ai*hi.scaleX*ai],Vi=yi[0|Ai*ci.scaleX*ai],Ti=gi[0|Ai*mi.scaleX*ai],Pi=_i[0|Ai*di.scaleX*ai]),fi[vi++]=255-Fi,fi[vi++]=255-Vi,fi[vi++]=255-Ti,fi[vi++]=255-Pi;break;default:throw new Error("Unsupported color mode")}return fi},copyToImageData:function(oi,si){var ai=oi.width,ui=oi.height,hi=oi.data,ci=this.getData(ai,ui),mi=0,di=0,pi,yi,gi,_i,Ai,ki,vi,Mi,Di;switch(this.components.length){case 1:for(yi=0;yi<ui;yi++)for(pi=0;pi<ai;pi++)gi=ci[mi++],hi[di++]=gi,hi[di++]=gi,hi[di++]=gi,si&&(hi[di++]=255);break;case 3:for(yi=0;yi<ui;yi++)for(pi=0;pi<ai;pi++)vi=ci[mi++],Mi=ci[mi++],Di=ci[mi++],hi[di++]=vi,hi[di++]=Mi,hi[di++]=Di,si&&(hi[di++]=255);break;case 4:for(yi=0;yi<ui;yi++)for(pi=0;pi<ai;pi++)Ai=ci[mi++],ki=ci[mi++],gi=ci[mi++],_i=ci[mi++],vi=255-ri(Ai*(1-_i/255)+_i),Mi=255-ri(ki*(1-_i/255)+_i),Di=255-ri(gi*(1-_i/255)+_i),hi[di++]=vi,hi[di++]=Mi,hi[di++]=Di,si&&(hi[di++]=255);break;default:throw new Error("Unsupported color mode")}}};var ii=0,ei=0;function St(oi=0){var si=ii+oi;if(si>ei){var ai=Math.ceil((si-ei)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${ai}MB`)}ii=si}return Je.resetMaxMemoryUsage=function(oi){ii=0,ei=oi},Je.getBytesAllocated=function(){return ii},Je.requestMemoryAllocation=St,Je}();$e.exports=t;function t(r,Ve={}){var je={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512},ze={...je,...Ve},Xe=new Uint8Array(r),We=new e;We.opts=ze,e.resetMaxMemoryUsage(ze.maxMemoryUsageInMB*1024*1024),We.parse(Xe);var qe=ze.formatAsRGBA?4:3,Ke=We.width*We.height*qe;try{e.requestMemoryAllocation(Ke);var Ze={width:We.width,height:We.height,exifBuffer:We.exifBuffer,data:ze.useTArray?new Uint8Array(Ke):Buffer.alloc(Ke)};We.comments.length>0&&(Ze.comments=We.comments)}catch(Je){throw Je instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+Ke):Je instanceof ReferenceError&&Je.message==="Buffer is not defined"?new Error("Buffer is not globally defined in this environment. Consider setting useTArray to true"):Je}return We.copyToImageData(Ze,ze.formatAsRGBA),Ze}})(decoder);var decoderExports=decoder.exports,encode$1=encoderExports,decode$4=decoderExports,jpegJs={encode:encode$1,decode:decode$4};let chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup=new Uint8Array(256);for(let $e=0;$e<chars.length;$e++)lookup[chars.charCodeAt($e)]=$e;function encode($e){let e,t=$e.length,r="";for(e=0;e<t;e+=3)r+=chars[$e[e]>>2],r+=chars[($e[e]&3)<<4|$e[e+1]>>4],r+=chars[($e[e+1]&15)<<2|$e[e+2]>>6],r+=chars[$e[e+2]&63];return t%3===2?r=`${r.substring(0,r.length-1)}=`:t%3===1&&(r=`${r.substring(0,r.length-2)}==`),r}function decode$3($e){let e=$e.length*.75,t=$e.length,r=0,Ve,je,ze,Xe;$e[$e.length-1]==="="&&(e--,$e[$e.length-2]==="="&&e--);const We=new Uint8Array(e);for(let qe=0;qe<t;qe+=4)Ve=lookup[$e.charCodeAt(qe)],je=lookup[$e.charCodeAt(qe+1)],ze=lookup[$e.charCodeAt(qe+2)],Xe=lookup[$e.charCodeAt(qe+3)],We[r++]=Ve<<2|je>>4,We[r++]=(je&15)<<4|ze>>2,We[r++]=(ze&3)<<6|Xe&63;return We}function toBase64URL($e,e){const t=encode($e);return`data:${e};base64,${t}`}const ImageData=self.ImageData,DOMImage=self.Image;function createCanvas($e,e){let t=self.document.createElement("canvas");return t.width=$e,t.height=e,t}function fetchBinary($e,{withCredentials:e=!1}={}){return new Promise(function(t,r){let Ve=new self.XMLHttpRequest;Ve.open("GET",$e,!0),Ve.responseType="arraybuffer",Ve.withCredentials=e,Ve.onload=function(je){this.status!==200?r(je):t(this.response)},Ve.onerror=r,Ve.send()})}function createWriteStream(){throw new Error("createWriteStream does not exist in the browser")}function writeFile(){throw new Error("writeFile does not exist in the browser")}function getType($e){return $e.includes("/")||($e=`image/${$e}`),$e}function encodeJpeg($e,e={}){const t={width:$e.width,height:$e.height,data:$e.getRGBAData()};return jpegJs.encode(t,e.quality).data}function encodePng($e,e){const t={width:$e.width,height:$e.height,channels:$e.channels,depth:$e.bitDepth,data:$e.data};return(t.depth===1||t.depth===32)&&(t.depth=8,t.channels=4,t.data=$e.getRGBAData()),encodePng$1(t,e)}const exportMethods={save($e,e={}){const{useCanvas:t=!1,encoder:r=void 0}=e;let{format:Ve}=e;if(!Ve){const je=/\.(?<format>[a-zA-Z]+)$/.exec($e);je&&(Ve=je.groups.format.toLowerCase())}if(!Ve)throw new Error("file format not provided");return new Promise((je,ze)=>{let Xe,We;switch(Ve.toLowerCase()){case"png":{t?Xe=this.getCanvas().pngStream():We=encodePng(this,r);break}case"jpg":case"jpeg":t?Xe=this.getCanvas().jpegStream():We=encodeJpeg(this,r);break;case"bmp":We=encode$2(this);break;default:throw new RangeError(`invalid output format: ${Ve}`)}if(Xe){let qe=createWriteStream();qe.on("finish",je),qe.on("error",ze),Xe.pipe(qe)}else We&&writeFile()})},toDataURL($e="image/png",e={}){typeof $e=="object"&&(e=$e,$e="image/png");const{useCanvas:t=!1,encoder:r=void 0}=e;$e=getType($e);function Ve(je,ze){const Xe=je(ze,r);return toBase64URL(Xe,$e)}return $e==="image/bmp"?Ve(encode$2,this):$e==="image/png"&&!t?Ve(encodePng,this):$e==="image/jpeg"&&!t?Ve(encodeJpeg,this):this.getCanvas().toDataURL($e)},toBuffer($e={}){const{format:e="png",encoder:t=void 0}=$e;switch(e.toLowerCase()){case"png":return encodePng(this,t);case"jpeg":case"jpg":return encodeJpeg(this,t);case"bmp":return encode$2(this);default:throw new RangeError(`invalid output format: ${e}`)}},toBase64($e="image/png",e={}){if(e.async)return this.toDataURL($e,e).then(function(t){return t.substring(t.indexOf(",")+1)});{const t=this.toDataURL($e,e);return t.substring(t.indexOf(",")+1)}},toBlob($e="image/png",e=.8){return canvasToBlob(this.getCanvas(),$e,e)},getCanvas(){const $e=new ImageData(this.getRGBAData({clamped:!0}),this.width,this.height);let e=createCanvas(this.width,this.height);return e.getContext("2d").putImageData($e,0,0),e}};function setExportMethods($e){for(const e in exportMethods)$e.prototype[e]=exportMethods[e]}var hasOwn$1={exports:{}};const name="has-own",version$1="1.0.1",description="A safer .hasOwnProperty() - hasOwn(name, obj)",main="index.js",scripts={test:"make test"},author="Aaron Heckmann <aaron.heckmann+github@gmail.com>",license="MIT",repository={type:"git",url:"git://github.com/aheckmann/has-own.git"},homepage="https://github.com/aheckmann/has-own/",devDependencies={mocha:"^6.2.2"},require$$0$2={name,version:version$1,description,main,scripts,author,license,repository,homepage,devDependencies};(function($e,e){var t=Object.prototype.hasOwnProperty;$e.exports=e=function(r,Ve){return t.call(Ve,r)},e.version=require$$0$2.version})(hasOwn$1,hasOwn$1.exports);var hasOwnExports=hasOwn$1.exports;const hasOwn=getDefaultExportFromCjs(hasOwnExports);let computedPropertyDescriptor$1={configurable:!0,enumerable:!1,get:void 0};function extendMethod($e,e,t={}){let{inPlace:r=!1,returnThis:Ve=!0,partialArgs:je=[]}=t;return r?Image$1.prototype[$e]=function(...ze){this.computed=null;let Xe=e.apply(this,[...je,...ze]);return Ve?this:Xe}:Image$1.prototype[$e]=function(...ze){return e.apply(this,[...je,...ze])},Image$1}function extendProperty($e,e,t={}){let{partialArgs:r=[]}=t;return computedPropertyDescriptor$1.get=function(){if(this.computed===null)this.computed={};else if(hasOwn($e,this.computed))return this.computed[$e];let Ve=e.apply(this,r);return this.computed[$e]=Ve,Ve},Object.defineProperty(Image$1.prototype,$e,computedPropertyDescriptor$1),Image$1}const GREY$1="GREY",RGB$1="RGB",HSL="HSL",HSV="HSV",CMYK$1="CMYK",ColorModel=Object.freeze(Object.defineProperty({__proto__:null,CMYK:CMYK$1,GREY:GREY$1,HSL,HSV,RGB:RGB$1},Symbol.toStringTag,{value:"Module"}));function getRGBAData($e={}){const{clamped:e}=$e;this.checkProcessable("getRGBAData",{components:[1,3],bitDepth:[1,8,16,32]});const t=this.width*this.height*4;let r=e?new Uint8ClampedArray(t):new Uint8Array(t);return this.bitDepth===1?fillDataFromBinary(this,r):this.bitDepth===32?(this.checkProcessable("getRGBAData",{alpha:0}),this.components===1?fillDataFromGrey32(this,r):this.components===3&&(this.checkProcessable("getRGBAData",{colorModel:[RGB$1]}),fillDataFromRGB32(this,r))):this.components===1?fillDataFromGrey(this,r):this.components===3&&(this.checkProcessable("getRGBAData",{colorModel:[RGB$1]}),fillDataFromRGB(this,r)),this.alpha===1?(this.checkProcessable("getRGBAData",{bitDepth:[8,16]}),copyAlpha(this,r)):fillAlpha(this,r),r}function fillDataFromBinary($e,e){for(let t=0;t<$e.size;t++){const r=$e.getBit(t);e[t*4]=r*255,e[t*4+1]=r*255,e[t*4+2]=r*255}}function fillDataFromGrey32($e,e){const t=$e.min[0],r=$e.max[0]-t;for(let Ve=0;Ve<$e.size;Ve++){const je=Math.floor(255*($e.data[Ve]-t)/r);e[Ve*4]=je,e[Ve*4+1]=je,e[Ve*4+2]=je}}function fillDataFromRGB32($e,e){const t=Math.min(...$e.min),r=Math.max(...$e.max)-t;for(let Ve=0;Ve<$e.size;Ve++){const je=Math.floor(255*($e.data[Ve*3]-t)/r),ze=Math.floor(255*($e.data[Ve*3+1]-t)/r),Xe=Math.floor(255*($e.data[Ve*3+2]-t)/r);e[Ve*4]=je,e[Ve*4+1]=ze,e[Ve*4+2]=Xe}}function fillDataFromGrey($e,e){for(let t=0;t<$e.size;t++)e[t*4]=$e.data[t*$e.channels]>>>$e.bitDepth-8,e[t*4+1]=$e.data[t*$e.channels]>>>$e.bitDepth-8,e[t*4+2]=$e.data[t*$e.channels]>>>$e.bitDepth-8}function fillDataFromRGB($e,e){for(let t=0;t<$e.size;t++)e[t*4]=$e.data[t*$e.channels]>>>$e.bitDepth-8,e[t*4+1]=$e.data[t*$e.channels+1]>>>$e.bitDepth-8,e[t*4+2]=$e.data[t*$e.channels+2]>>>$e.bitDepth-8}function copyAlpha($e,e){for(let t=0;t<$e.size;t++)e[t*4+3]=$e.data[t*$e.channels+$e.components]>>$e.bitDepth-8}function fillAlpha($e,e){for(let t=0;t<$e.size;t++)e[t*4+3]=255}const BINARY="BINARY",GREY="GREY",GREYA="GREYA",RGB="RGB",RGBA="RGBA",CMYK="CMYK",CMYKA="CMYKA",kinds={};kinds[BINARY]={components:1,alpha:0,bitDepth:1,colorModel:GREY$1};kinds[GREYA]={components:1,alpha:1,bitDepth:8,colorModel:GREY$1};kinds[GREY]={components:1,alpha:0,bitDepth:8,colorModel:GREY$1};kinds[RGBA]={components:3,alpha:1,bitDepth:8,colorModel:RGB$1};kinds[RGB]={components:3,alpha:0,bitDepth:8,colorModel:RGB$1};kinds[CMYK]={components:4,alpha:0,bitDepth:8,colorModel:CMYK$1};kinds[CMYKA]={components:4,alpha:1,bitDepth:8,colorModel:CMYK$1};function getKind($e){const e=kinds[$e];if(!e)throw new RangeError(`invalid image kind: ${$e}`);return e}const validBitDepth=[1,8,16,32];function verifyKindDefinition($e){const{components:e,alpha:t,bitDepth:r,colorModel:Ve}=$e;if(!Number.isInteger(e)||e<=0)throw new RangeError(`invalid components: ${e}. Must be a positive integer`);if(t!==0&&t!==1&&typeof t!="boolean")throw new TypeError(`invalid alpha: ${t}: must be a boolean, 0 or 1`);if(!validBitDepth.includes(r))throw new RangeError(`invalid bitDepth: ${r}. Must be one of ${validBitDepth.join(", ")}`);if(!ColorModel[Ve])throw new RangeError(`invalid colorModel: ${Ve}. Must be one of ${Object.keys(ColorModel).join(", ")}`)}function getTheoreticalPixelArraySize($e,e,t){let r=e*$e;return t===1&&(r=Math.ceil(r/8)),r}function createPixelArray($e,e,t,r,Ve,je){const ze=r*$e;let Xe;switch(Ve){case 1:Xe=new Uint8Array(Math.ceil(ze/8));break;case 8:Xe=new Uint8Array(ze);break;case 16:Xe=new Uint16Array(ze);break;case 32:Xe=new Float32Array(ze);break;default:throw new Error(`Cannot create pixel array for bit depth ${Ve}`)}if(t)for(let We=e;We<Xe.length;We+=r)Xe[We]=je;return Xe}const defaultByteLength=1024*8,charArray=[];let IOBuffer$2=class{constructor($e,e){e=e||{},$e===void 0&&($e=defaultByteLength),typeof $e=="number"&&($e=new ArrayBuffer($e));let t=$e.byteLength;const r=e.offset?e.offset>>>0:0;$e.buffer&&(t=$e.byteLength-r,$e.byteLength!==$e.buffer.byteLength?$e=$e.buffer.slice($e.byteOffset+r,$e.byteOffset+$e.byteLength):r?$e=$e.buffer.slice(r):$e=$e.buffer),this.buffer=$e,this.length=t,this.byteLength=t,this.byteOffset=0,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer),this._increment=t||defaultByteLength,this._mark=0}available($e){return $e===void 0&&($e=1),this.offset+$e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){this.littleEndian=!0}isBigEndian(){return!this.littleEndian}setBigEndian(){this.littleEndian=!1}skip($e){$e===void 0&&($e=1),this.offset+=$e}seek($e){this.offset=$e}mark(){this._mark=this.offset}reset(){this.offset=this._mark}rewind(){this.offset=0}ensureAvailable($e){if($e===void 0&&($e=1),!this.available($e)){const e=this._increment+this._increment;this._increment=e;const t=this.length+e,r=new Uint8Array(t);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=t,this._data=new DataView(this.buffer)}}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes($e){$e===void 0&&($e=1);for(var e=new Uint8Array($e),t=0;t<$e;t++)e[t]=this.readByte();return e}readInt16(){var $e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,$e}readUint16(){var $e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,$e}readInt32(){var $e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,$e}readUint32(){var $e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,$e}readFloat32(){var $e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,$e}readFloat64(){var $e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,$e}readChar(){return String.fromCharCode(this.readInt8())}readChars($e){$e===void 0&&($e=1),charArray.length=$e;for(var e=0;e<$e;e++)charArray[e]=this.readChar();return charArray.join("")}writeBoolean($e){this.writeUint8($e?255:0)}writeInt8($e){this.ensureAvailable(1),this._data.setInt8(this.offset++,$e)}writeUint8($e){this.ensureAvailable(1),this._data.setUint8(this.offset++,$e)}writeByte($e){this.writeUint8($e)}writeBytes($e){this.ensureAvailable($e.length);for(var e=0;e<$e.length;e++)this._data.setUint8(this.offset++,$e[e])}writeInt16($e){this.ensureAvailable(2),this._data.setInt16(this.offset,$e,this.littleEndian),this.offset+=2}writeUint16($e){this.ensureAvailable(2),this._data.setUint16(this.offset,$e,this.littleEndian),this.offset+=2}writeInt32($e){this.ensureAvailable(4),this._data.setInt32(this.offset,$e,this.littleEndian),this.offset+=4}writeUint32($e){this.ensureAvailable(4),this._data.setUint32(this.offset,$e,this.littleEndian),this.offset+=4}writeFloat32($e){this.ensureAvailable(4),this._data.setFloat32(this.offset,$e,this.littleEndian),this.offset+=4}writeFloat64($e){this.ensureAvailable(8),this._data.setFloat64(this.offset,$e,this.littleEndian),this.offset+=8}writeChar($e){this.writeUint8($e.charCodeAt(0))}writeChars($e){for(var e=0;e<$e.length;e++)this.writeUint8($e.charCodeAt(e))}toArray(){return new Uint8Array(this.buffer,0,this.offset)}};var IOBuffer_1=IOBuffer$2,src$3={};const tagsById$5={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Threshholding",264:"CellWidth",265:"CellLength",266:"FillOrder",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",296:"ResolutionUnit",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",320:"ColorMap",338:"ExtraSamples",33432:"Copyright",269:"DocumentName",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",293:"T6Options",297:"PageNumber",301:"TransferFunction",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFDs",332:"InkSet",333:"InkNames",334:"NumberOfInks",336:"DotRange",337:"TargetPrinter",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"XMP",32781:"ImageID",34732:"ImageLayer",32932:"WangAnnotatio",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"ModelPixelScaleTag",33723:"IPTC",33918:"INGRPacketDataTag",33919:"INGRFlagRegisters",33920:"IrasBTransformationMatrix",33922:"ModelTiepointTag",34264:"ModelTransformationTag",34377:"Photoshop",34665:"ExifIFD",34675:"ICCProfile",34735:"GeoKeyDirectoryTag",34736:"GeoDoubleParamsTag",34737:"GeoAsciiParamsTag",34853:"GPSIFD",34908:"HylaFAXFaxRecvParams",34909:"HylaFAXFaxSubAddress",34910:"HylaFAXFaxRecvTime",37724:"ImageSourceData",40965:"InteroperabilityIFD",42112:"GDAL_METADATA",42113:"GDAL_NODATA",50215:"OceScanjobDescription",50216:"OceApplicationSelector",50217:"OceIdentificationNumber",50218:"OceImageLogicCharacteristics",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50784:"AliasLayerMetadata"},tagsByName$5={};for(var i$2 in tagsById$5)tagsByName$5[tagsById$5[i$2]]=i$2;var standard$1={tagsById:tagsById$5,tagsByName:tagsByName$5};const tagsById$4={33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37396:"SubjectArea",37500:"MakerNote",37510:"UserComment",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42240:"Gamma"},tagsByName$4={};for(var i$1$1 in tagsById$4)tagsByName$4[tagsById$4[i$1$1]]=i$1$1;var exif$1={tagsById:tagsById$4,tagsByName:tagsByName$4};const tagsById$3={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},tagsByName$3={};for(var i$3 in tagsById$3)tagsByName$3[tagsById$3[i$3]]=i$3;var gps$1={tagsById:tagsById$3,tagsByName:tagsByName$3};const tags$1={standard:standard$1,exif:exif$1,gps:gps$1};let IFD$2=class{constructor($e){if(!$e)throw new Error("missing kind");this.data=null,this.fields=new Map,this.kind=$e,this._map=null}get($e){if(typeof $e=="number")return this.fields.get($e);if(typeof $e=="string")return this.fields.get(tags$1[this.kind].tagsByName[$e]);throw new Error("expected a number or string")}get map(){if(!this._map){this._map={};const e=tags$1[this.kind].tagsById;for(var $e of this.fields.keys())e[$e]&&(this._map[e[$e]]=this.fields.get($e))}return this._map}};var ifd=IFD$2;const Ifd=ifd,dateTimeRegex$1=/^(\d{4}):(\d{2}):(\d{2}) (\d{2}):(\d{2}):(\d{2})$/;let TiffIfd$1=class extends Ifd{constructor(){super("standard")}get size(){return this.width*this.height}get width(){return this.imageWidth}get height(){return this.imageLength}get components(){return this.samplesPerPixel}get date(){var $e=new Date,e=dateTimeRegex$1.exec(this.dateTime);return $e.setFullYear(e[1],e[2]-1,e[3]),$e.setHours(e[4],e[5],e[6]),$e}get newSubfileType(){return this.get(254)}get imageWidth(){return this.get(256)}get imageLength(){return this.get(257)}get bitsPerSample(){return this.get(258)}get compression(){return this.get(259)||1}get type(){return this.get(262)}get fillOrder(){return this.get(266)||1}get documentName(){return this.get(269)}get imageDescription(){return this.get(270)}get stripOffsets(){return alwaysArray$1(this.get(273))}get orientation(){return this.get(274)}get samplesPerPixel(){return this.get(277)}get rowsPerStrip(){return this.get(278)}get stripByteCounts(){return alwaysArray$1(this.get(279))}get minSampleValue(){return this.get(280)||0}get maxSampleValue(){return this.get(281)||Math.pow(2,this.bitsPerSample)-1}get xResolution(){return this.get(282)}get yResolution(){return this.get(283)}get planarConfiguration(){return this.get(284)||1}get resolutionUnit(){return this.get(296)||2}get dateTime(){return this.get(306)}get predictor(){return this.get(317)||1}get sampleFormat(){return this.get(339)||1}get sMinSampleValue(){return this.get(340)||this.minSampleValue}get sMaxSampleValue(){return this.get(341)||this.maxSampleValue}};function alwaysArray$1($e){return typeof $e=="number"?[$e]:$e}var tiffIfd=TiffIfd$1,ifdValue={},types$1=new Map([[1,[1,readByte$1]],[2,[1,readASCII$1]],[3,[2,readShort$1]],[4,[4,readLong$1]],[5,[8,readRational$1]],[6,[1,readSByte$1]],[7,[1,readByte$1]],[8,[2,readSShort$1]],[9,[4,readSLong$1]],[10,[8,readSRational$1]],[11,[4,readFloat$1]],[12,[8,readDouble$1]]]);ifdValue.getByteLength=function($e,e){return types$1.get($e)[0]*e};ifdValue.readData=function($e,e,t){return types$1.get(e)[1]($e,t)};function readByte$1($e,e){if(e===1)return $e.readUint8();for(var t=new Uint8Array(e),r=0;r<e;r++)t[r]=$e.readUint8();return t}function readASCII$1($e,e){for(var t=[],r="",Ve=0;Ve<e;Ve++){var je=String.fromCharCode($e.readUint8());je==="\0"?(t.push(r),r=""):r+=je}return t.length===1?t[0]:t}function readShort$1($e,e){if(e===1)return $e.readUint16();for(var t=new Uint16Array(e),r=0;r<e;r++)t[r]=$e.readUint16();return t}function readLong$1($e,e){if(e===1)return $e.readUint32();for(var t=new Uint32Array(e),r=0;r<e;r++)t[r]=$e.readUint32();return t}function readRational$1($e,e){if(e===1)return $e.readUint32()/$e.readUint32();for(var t=new Array(e),r=0;r<e;r++)t[r]=$e.readUint32()/$e.readUint32();return t}function readSByte$1($e,e){if(e===1)return $e.readInt8();for(var t=new Int8Array(e),r=0;r<e;r++)t[r]=$e.readInt8();return t}function readSShort$1($e,e){if(e===1)return $e.readInt16();for(var t=new Int16Array(e),r=0;r<e;r++)t[r]=$e.readInt16();return t}function readSLong$1($e,e){if(e===1)return $e.readInt32();for(var t=new Int32Array(e),r=0;r<e;r++)t[r]=$e.readInt32();return t}function readSRational$1($e,e){if(e===1)return $e.readInt32()/$e.readInt32();for(var t=new Array(e),r=0;r<e;r++)t[r]=$e.readInt32()/$e.readInt32();return t}function readFloat$1($e,e){if(e===1)return $e.readFloat32();for(var t=new Float32Array(e),r=0;r<e;r++)t[r]=$e.readFloat32();return t}function readDouble$1($e,e){if(e===1)return $e.readFloat64();for(var t=new Float64Array(e),r=0;r<e;r++)t[r]=$e.readFloat64();return t}const IOBuffer$1=IOBuffer_1,IFD$1=ifd,TiffIFD=tiffIfd,IFDValue=ifdValue,defaultOptions$d={ignoreImageData:!1,onlyFirst:!1};let TIFFDecoder$2=class extends IOBuffer$1{constructor($e,e){super($e,e),this._nextIFD=0}decode($e){$e=Object.assign({},defaultOptions$d,$e);const e=[];for(this.decodeHeader();this._nextIFD;)if(e.push(this.decodeIFD($e)),$e.onlyFirst)return e[0];return e}decodeHeader(){let $e=this.readUint16();if($e===18761)this.setLittleEndian();else if($e===19789)this.setBigEndian();else throw new Error("invalid byte order: 0x"+$e.toString(16));if($e=this.readUint16(),$e!==42)throw new Error("not a TIFF file");this._nextIFD=this.readUint32()}decodeIFD($e){this.seek(this._nextIFD);var e;$e.kind?e=new IFD$1($e.kind):e=new TiffIFD;const t=this.readUint16();for(var r=0;r<t;r++)this.decodeIFDEntry(e);return $e.ignoreImageData||this.decodeImageData(e),this._nextIFD=this.readUint32(),e}decodeIFDEntry($e){const e=this.offset,t=this.readUint16(),r=this.readUint16(),Ve=this.readUint32();if(r<1||r>12){this.skip(4);return}IFDValue.getByteLength(r,Ve)>4&&this.seek(this.readUint32());const je=IFDValue.readData(this,r,Ve);if($e.fields.set(t,je),t===34665||t===34853){let ze=this.offset,Xe;t===34665?Xe="exif":t===34853&&(Xe="gps"),this._nextIFD=je,$e[Xe]=this.decodeIFD({kind:Xe,ignoreImageData:!0}),this.offset=ze}this.seek(e),this.skip(12)}decodeImageData($e){const e=$e.orientation;switch(e&&e!==1&&unsupported$1("orientation",e),$e.type){case 1:case 2:this.readStripData($e);break;default:unsupported$1("image type",$e.type);break}}readStripData($e){const e=$e.width,t=$e.height,r=validateBitDepth($e.bitsPerSample),Ve=$e.sampleFormat;let je=e*t;const ze=getDataArray$1(je,1,r,Ve),Xe=$e.compression,We=$e.rowsPerStrip*e,qe=$e.stripOffsets,Ke=$e.stripByteCounts;for(var Ze=0,Je=0;Je<qe.length;Je++){var Qe=this.getStripData(Xe,qe[Je],Ke[Je]),ti=je>We?We:je;je-=ti,r===8?Ze=fill8bit$1(ze,Qe,Ze,ti):r===16?Ze=fill16bit$1(ze,Qe,Ze,ti,this.isLittleEndian()):r===32&&Ve===3?Ze=fillFloat32$1(ze,Qe,Ze,ti,this.isLittleEndian()):unsupported$1("bitDepth",r)}$e.data=ze}getStripData($e,e,t){switch($e){case 1:return new DataView(this.buffer,e,t);case 2:case 32773:return unsupported$1("Compression",$e);default:throw new Error("invalid compression: "+$e)}}};var tiffDecoder=TIFFDecoder$2;function getDataArray$1($e,e,t,r){return t===8?new Uint8Array($e*e):t===16?new Uint16Array($e*e):t===32&&r===3?new Float32Array($e*e):unsupported$1("bit depth / sample format",t+" / "+r)}function fill8bit$1($e,e,t,r){for(var Ve=0;Ve<r;Ve++)$e[t++]=e.getUint8(Ve);return t}function fill16bit$1($e,e,t,r,Ve){for(var je=0;je<r*2;je+=2)$e[t++]=e.getUint16(je,Ve);return t}function fillFloat32$1($e,e,t,r,Ve){for(var je=0;je<r*4;je+=4)$e[t++]=e.getFloat32(je,Ve);return t}function unsupported$1($e,e){throw new Error("Unsupported "+$e+": "+e)}function validateBitDepth($e){if($e.length){const t=$e;$e=t[0];for(var e=0;e<t.length;e++)t[e]!==$e&&unsupported$1("bit depth",t)}return $e}const TIFFDecoder$1=tiffDecoder;var decode$2=function($e,e){return new TIFFDecoder$1($e,e).decode(e)};src$3.decode=decode$2;const IOBuffer=IOBuffer_1,tiff=src$3;function decode$1($e){const e=new IOBuffer($e),t={};if(e.setBigEndian(),e.readUint16()!==65496)throw new Error("SOI marker not found. Not a valid JPEG file");if(e.readUint16()===65505){e.readUint16();const r=e.readBytes(6);if(r[0]===69&&r[1]===120&&r[2]===105&&r[3]===102&&r[4]===0&&r[5]===0){const Ve=tiff.decode(e,{onlyFirst:!0,ignoreImageData:!0,offset:e.offset});t.exif=Ve}}return t}var decode_1=decode$1,decode=decode_1,imageType$2={exports:{}},fileType$1={exports:{}};(function(module){const toBytes=$e=>[...$e].map(e=>e.charCodeAt(0)),xpiZipFilename=toBytes("META-INF/mozilla.rsa"),oxmlContentTypes=toBytes("[Content_Types].xml"),oxmlRels=toBytes("_rels/.rels");function readUInt64LE($e,e=0){let t=$e[e],r=1,Ve=0;for(;++Ve<8;)r*=256,t+=$e[e+Ve]*r;return t}const fileType=$e=>{if(!($e instanceof Uint8Array||$e instanceof ArrayBuffer||Buffer.isBuffer($e)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof $e}\``);const e=$e instanceof Uint8Array?$e:new Uint8Array($e);if(!(e&&e.length>1))return null;const t=(Ve,je)=>{je=Object.assign({offset:0},je);for(let ze=0;ze<Ve.length;ze++)if(je.mask){if(Ve[ze]!==(je.mask[ze]&e[ze+je.offset]))return!1}else if(Ve[ze]!==e[ze+je.offset])return!1;return!0},r=(Ve,je)=>t(toBytes(Ve),je);if(t([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(t([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(t([71,73,70]))return{ext:"gif",mime:"image/gif"};if(t([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(t([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((t([73,73,42,0])||t([77,77,0,42]))&&t([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(t([73,73,42,0])||t([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(t([66,77]))return{ext:"bmp",mime:"image/bmp"};if(t([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(t([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(t([80,75,3,4])){if(t([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(t(xpiZipFilename,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(r("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(r("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(r("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};const Ve=(We,qe=0)=>We.findIndex((Ke,Ze,Je)=>Ze>=qe&&Je[Ze]===80&&Je[Ze+1]===75&&Je[Ze+2]===3&&Je[Ze+3]===4);let je=0,ze=!1,Xe=null;do{const We=je+30;if(ze||(ze=t(oxmlContentTypes,{offset:We})||t(oxmlRels,{offset:We})),Xe||(r("word/",{offset:We})?Xe={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:r("ppt/",{offset:We})?Xe={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:r("xl/",{offset:We})&&(Xe={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),ze&&Xe)return Xe;je=Ve(e,We)}while(je>=0);if(Xe)return Xe}if(t([80,75])&&(e[2]===3||e[2]===5||e[2]===7)&&(e[3]===4||e[3]===6||e[3]===8))return{ext:"zip",mime:"application/zip"};if(t([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(t([82,97,114,33,26,7])&&(e[6]===0||e[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(t([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(t([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(t([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(t([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(t([51,103,112,53])||t([0,0,0])&&t([102,116,121,112],{offset:4})&&(t([109,112,52,49],{offset:8})||t([109,112,52,50],{offset:8})||t([105,115,111,109],{offset:8})||t([105,115,111,50],{offset:8})||t([109,109,112,52],{offset:8})||t([77,52,86],{offset:8})||t([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(t([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(t([26,69,223,163])){const Ve=e.subarray(4,4100),je=Ve.findIndex((ze,Xe,We)=>We[Xe]===66&&We[Xe+1]===130);if(je!==-1){const ze=je+3,Xe=We=>[...We].every((qe,Ke)=>Ve[ze+Ke]===qe.charCodeAt(0));if(Xe("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(Xe("webm"))return{ext:"webm",mime:"video/webm"}}}if(t([0,0,0,20,102,116,121,112,113,116,32,32])||t([102,114,101,101],{offset:4})||t([102,116,121,112,113,116,32,32],{offset:4})||t([109,100,97,116],{offset:4})||t([109,111,111,118],{offset:4})||t([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(t([82,73,70,70])){if(t([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(t([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(t([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(t([48,38,178,117,142,102,207,17,166,217])){let Ve=30;do{const je=readUInt64LE(e,Ve+16);if(t([145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101],{offset:Ve})){if(t([64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43],{offset:Ve+24}))return{ext:"wma",mime:"audio/x-ms-wma"};if(t([192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43],{offset:Ve+24}))return{ext:"wmv",mime:"video/x-ms-asf"};break}Ve+=je}while(Ve+24<=e.length);return{ext:"asf",mime:"application/vnd.ms-asf"}}if(t([0,0,1,186])||t([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(t([102,116,121,112,51,103],{offset:4}))return{ext:"3gp",mime:"video/3gpp"};for(let Ve=0;Ve<2&&Ve<e.length-16;Ve++){if(t([73,68,51],{offset:Ve})||t([255,226],{offset:Ve,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};if(t([255,228],{offset:Ve,mask:[255,228]}))return{ext:"mp2",mime:"audio/mpeg"};if(t([255,248],{offset:Ve,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(t([255,240],{offset:Ve,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(t([102,116,121,112,77,52,65],{offset:4}))return{ext:"m4a",mime:"audio/mp4"};if(t([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(t([79,103,103,83]))return t([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:t([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:t([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:t([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:t([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(t([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(t([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(t([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(t([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(t([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(t([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((e[0]===67||e[0]===70)&&t([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(t([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(t([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(t([119,79,70,70])&&(t([0,1,0,0],{offset:4})||t([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(t([119,79,70,50])&&(t([0,1,0,0],{offset:4})||t([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(t([76,80],{offset:34})&&(t([0,0,1],{offset:8})||t([1,0,2],{offset:8})||t([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(t([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(t([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(t([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(t([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(t([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(t([37,33]))return{ext:"ps",mime:"application/postscript"};if(t([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(t([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(t([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(t([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(t([77,83,67,70])||t([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(t([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(t([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(t([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(t([31,160])||t([31,157]))return{ext:"Z",mime:"application/x-compress"};if(t([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(t([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(t([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(t([71],{offset:4})&&(t([71],{offset:192})||t([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(t([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(t([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(t([0,0,0,12,106,80,32,32,13,10,135,10])){if(t([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(t([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(t([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(t([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}if(t([70,79,82,77]))return{ext:"aif",mime:"audio/aiff"};if(r("<?xml "))return{ext:"xml",mime:"application/xml"};if(t([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(t([102,116,121,112],{offset:4})){if(t([109,105,102,49],{offset:8}))return{ext:"heic",mime:"image/heif"};if(t([109,115,102,49],{offset:8}))return{ext:"heic",mime:"image/heif-sequence"};if(t([104,101,105,99],{offset:8})||t([104,101,105,120],{offset:8}))return{ext:"heic",mime:"image/heic"};if(t([104,101,118,99],{offset:8})||t([104,101,118,120],{offset:8}))return{ext:"heic",mime:"image/heic-sequence"}}return t([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:t([68,73,67,77],{offset:128})?{ext:"dcm",mime:"application/dicom"}:t([77,80,43])?{ext:"mpc",mime:"audio/x-musepack"}:t([77,80,67,75])?{ext:"mpc",mime:"audio/x-musepack"}:t([66,69,71,73,78,58])?{ext:"ics",mime:"text/calendar"}:t([103,108,84,70,2,0,0,0])?{ext:"glb",mime:"model/gltf-binary"}:t([212,195,178,161])||t([161,178,195,212])?{ext:"pcap",mime:"application/vnd.tcpdump.pcap"}:null};module.exports=fileType,module.exports.default=fileType,Object.defineProperty(fileType,"minimumBytes",{value:4100}),module.exports.stream=readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.once("readable",()=>{const $e=new stream.PassThrough,e=readableStream.read(module.exports.minimumBytes)||readableStream.read();try{$e.fileType=fileType(e)}catch(t){reject(t)}readableStream.unshift(e),stream.pipeline?resolve(stream.pipeline(readableStream,$e,()=>{})):resolve(readableStream.pipe($e))})})})(fileType$1);var fileTypeExports=fileType$1.exports;const fileType=fileTypeExports,imageExts=new Set(["jpg","png","gif","webp","flif","cr2","tif","bmp","jxr","psd","ico","bpg","jp2","jpm","jpx","heic","cur","dcm"]),imageType=$e=>{const e=fileType($e);return imageExts.has(e&&e.ext)?e:null};imageType$2.exports=imageType;imageType$2.exports.default=imageType;Object.defineProperty(imageType,"minimumBytes",{value:fileType.minimumBytes});var imageTypeExports=imageType$2.exports;const imageType$1=getDefaultExportFromCjs(imageTypeExports);function guessStripByteCounts($e){if($e.compression!==1)throw new Error("missing mandatory StripByteCounts field in compressed image");const e=$e.rowsPerStrip*$e.width*$e.samplesPerPixel*($e.bitsPerSample/8);return new Array($e.stripOffsets.length).fill(e)}function applyHorizontalDifferencing8Bit($e,e,t){let r=0;for(;r<$e.length;){for(let Ve=t;Ve<e*t;Ve+=t)for(let je=0;je<t;je++)$e[r+Ve+je]=$e[r+Ve+je]+$e[r+Ve-(t-je)]&255;r+=e*t}}function applyHorizontalDifferencing16Bit($e,e,t){let r=0;for(;r<$e.length;){for(let Ve=t;Ve<e*t;Ve+=t)for(let je=0;je<t;je++)$e[r+Ve+je]=$e[r+Ve+je]+$e[r+Ve-(t-je)]&65535;r+=e*t}}const tagsById$2={33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37396:"SubjectArea",37500:"MakerNote",37510:"UserComment",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42240:"Gamma"},tagsByName$2={};for(let $e in tagsById$2)tagsByName$2[tagsById$2[$e]]=Number($e);const exif=Object.freeze(Object.defineProperty({__proto__:null,tagsById:tagsById$2,tagsByName:tagsByName$2},Symbol.toStringTag,{value:"Module"})),tagsById$1={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},tagsByName$1={};for(let $e in tagsById$1)tagsByName$1[tagsById$1[$e]]=Number($e);const gps=Object.freeze(Object.defineProperty({__proto__:null,tagsById:tagsById$1,tagsByName:tagsByName$1},Symbol.toStringTag,{value:"Module"})),tagsById={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Threshholding",264:"CellWidth",265:"CellLength",266:"FillOrder",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",296:"ResolutionUnit",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",320:"ColorMap",338:"ExtraSamples",33432:"Copyright",269:"DocumentName",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",293:"T6Options",297:"PageNumber",301:"TransferFunction",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFDs",332:"InkSet",333:"InkNames",334:"NumberOfInks",336:"DotRange",337:"TargetPrinter",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"XMP",32781:"ImageID",34732:"ImageLayer",32932:"WangAnnotatio",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"ModelPixelScaleTag",33723:"IPTC",33918:"INGRPacketDataTag",33919:"INGRFlagRegisters",33920:"IrasBTransformationMatrix",33922:"ModelTiepointTag",34264:"ModelTransformationTag",34377:"Photoshop",34665:"ExifIFD",34675:"ICCProfile",34735:"GeoKeyDirectoryTag",34736:"GeoDoubleParamsTag",34737:"GeoAsciiParamsTag",34853:"GPSIFD",34908:"HylaFAXFaxRecvParams",34909:"HylaFAXFaxSubAddress",34910:"HylaFAXFaxRecvTime",37724:"ImageSourceData",40965:"InteroperabilityIFD",42112:"GDAL_METADATA",42113:"GDAL_NODATA",50215:"OceScanjobDescription",50216:"OceApplicationSelector",50217:"OceIdentificationNumber",50218:"OceImageLogicCharacteristics",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50784:"AliasLayerMetadata"},tagsByName={};for(let $e in tagsById)tagsByName[tagsById[$e]]=Number($e);const standard=Object.freeze(Object.defineProperty({__proto__:null,tagsById,tagsByName},Symbol.toStringTag,{value:"Module"})),tags={standard,exif,gps};class IFD{constructor(e){if(!e)throw new Error("missing kind");this.data=new Uint8Array,this.fields=new Map,this.kind=e,this._hasMap=!1,this._map={}}get(e){if(typeof e=="number")return this.fields.get(e);if(typeof e=="string")return this.fields.get(tags[this.kind].tagsByName[e]);throw new Error("expected a number or string")}get map(){if(!this._hasMap){const e=tags[this.kind].tagsById;for(let t of this.fields.keys())e[t]&&(this._map[e[t]]=this.fields.get(t));this._hasMap=!0}return this._map}}let types=new Map([[1,[1,readByte]],[2,[1,readASCII]],[3,[2,readShort]],[4,[4,readLong]],[5,[8,readRational]],[6,[1,readSByte]],[7,[1,readByte]],[8,[2,readSShort]],[9,[4,readSLong]],[10,[8,readSRational]],[11,[4,readFloat]],[12,[8,readDouble]]]);function getByteLength($e,e){const t=types.get($e);if(!t)throw new Error(`type not found: ${$e}`);return t[0]*e}function readData($e,e,t){const r=types.get(e);if(!r)throw new Error(`type not found: ${e}`);return r[1]($e,t)}function readByte($e,e){if(e===1)return $e.readUint8();let t=new Uint8Array(e);for(let r=0;r<e;r++)t[r]=$e.readUint8();return t}function readASCII($e,e){let t=[],r="";for(let Ve=0;Ve<e;Ve++){let je=String.fromCharCode($e.readUint8());je==="\0"?(t.push(r),r=""):r+=je}return t.length===1?t[0]:t}function readShort($e,e){if(e===1)return $e.readUint16();let t=new Uint16Array(e);for(let r=0;r<e;r++)t[r]=$e.readUint16();return t}function readLong($e,e){if(e===1)return $e.readUint32();let t=new Uint32Array(e);for(let r=0;r<e;r++)t[r]=$e.readUint32();return t}function readRational($e,e){if(e===1)return $e.readUint32()/$e.readUint32();let t=new Array(e);for(let r=0;r<e;r++)t[r]=$e.readUint32()/$e.readUint32();return t}function readSByte($e,e){if(e===1)return $e.readInt8();let t=new Int8Array(e);for(let r=0;r<e;r++)t[r]=$e.readInt8();return t}function readSShort($e,e){if(e===1)return $e.readInt16();let t=new Int16Array(e);for(let r=0;r<e;r++)t[r]=$e.readInt16();return t}function readSLong($e,e){if(e===1)return $e.readInt32();let t=new Int32Array(e);for(let r=0;r<e;r++)t[r]=$e.readInt32();return t}function readSRational($e,e){if(e===1)return $e.readInt32()/$e.readInt32();let t=new Array(e);for(let r=0;r<e;r++)t[r]=$e.readInt32()/$e.readInt32();return t}function readFloat($e,e){if(e===1)return $e.readFloat32();let t=new Float32Array(e);for(let r=0;r<e;r++)t[r]=$e.readFloat32();return t}function readDouble($e,e){if(e===1)return $e.readFloat64();let t=new Float64Array(e);for(let r=0;r<e;r++)t[r]=$e.readFloat64();return t}const CLEAR_CODE=256,EOI_CODE=257,TABLE_START=258,MIN_BIT_LENGTH=9;let stringTable=[];function initializeStringTable(){if(stringTable.length===0){for(let e=0;e<256;e++)stringTable.push([e]);const $e=[];for(let e=256;e<4096;e++)stringTable.push($e)}}const andTable=[511,1023,2047,4095],bitJumps=[0,0,0,0,0,0,0,0,0,511,1023,2047,4095];class LzwDecoder{constructor(e){this.nextData=0,this.nextBits=0,this.bytePointer=0,this.tableLength=TABLE_START,this.currentBitLength=MIN_BIT_LENGTH,this.stripArray=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),this.outData=new IOBuffer$4(e.byteLength),this.initializeTable()}decode(){let e=0,t=0;for(;(e=this.getNextCode())!==EOI_CODE;)if(e===CLEAR_CODE){if(this.initializeTable(),e=this.getNextCode(),e===EOI_CODE)break;this.writeString(this.stringFromCode(e)),t=e}else if(this.isInTable(e))this.writeString(this.stringFromCode(e)),this.addStringToTable(this.stringFromCode(t).concat(this.stringFromCode(e)[0])),t=e;else{const Ve=this.stringFromCode(t).concat(this.stringFromCode(t)[0]);this.writeString(Ve),this.addStringToTable(Ve),t=e}const r=this.outData.toArray();return new DataView(r.buffer,r.byteOffset,r.byteLength)}initializeTable(){initializeStringTable(),this.tableLength=TABLE_START,this.currentBitLength=MIN_BIT_LENGTH}writeString(e){this.outData.writeBytes(e)}stringFromCode(e){return stringTable[e]}isInTable(e){return e<this.tableLength}addStringToTable(e){if(stringTable[this.tableLength++]=e,stringTable.length>4096)throw stringTable=[],new Error("LZW decoding error. Please open an issue at https://github.com/image-js/tiff/issues/new/choose (include a test image).");this.tableLength===bitJumps[this.currentBitLength]&&this.currentBitLength++}getNextCode(){this.nextData=this.nextData<<8|this.stripArray[this.bytePointer++]&255,this.nextBits+=8,this.nextBits<this.currentBitLength&&(this.nextData=this.nextData<<8|this.stripArray[this.bytePointer++]&255,this.nextBits+=8);const e=this.nextData>>this.nextBits-this.currentBitLength&andTable[this.currentBitLength-9];return this.nextBits-=this.currentBitLength,this.bytePointer>this.stripArray.length?257:e}}function decompressLzw($e){return new LzwDecoder($e).decode()}const dateTimeRegex=/^(\d{4}):(\d{2}):(\d{2}) (\d{2}):(\d{2}):(\d{2})$/;class TiffIfd extends IFD{constructor(){super("standard")}get size(){return this.width*this.height}get width(){return this.imageWidth}get height(){return this.imageLength}get components(){return this.samplesPerPixel}get date(){let e=new Date,t=dateTimeRegex.exec(this.dateTime);if(t===null)throw new Error(`invalid dateTime: ${this.dateTime}`);return e.setFullYear(Number(t[1]),Number(t[2])-1,Number(t[3])),e.setHours(Number(t[4]),Number(t[5]),Number(t[6])),e}get newSubfileType(){return this.get("NewSubfileType")}get imageWidth(){return this.get("ImageWidth")}get imageLength(){return this.get("ImageLength")}get bitsPerSample(){const e=this.get("BitsPerSample");return e&&typeof e!="number"?e[0]:e}get alpha(){const e=this.extraSamples;return e?e[0]!==0:!1}get associatedAlpha(){const e=this.extraSamples;return e?e[0]===1:!1}get extraSamples(){return alwaysArray(this.get("ExtraSamples"))}get compression(){return this.get("Compression")||1}get type(){return this.get("PhotometricInterpretation")}get fillOrder(){return this.get("FillOrder")||1}get documentName(){return this.get("DocumentName")}get imageDescription(){return this.get("ImageDescription")}get stripOffsets(){return alwaysArray(this.get("StripOffsets"))}get orientation(){return this.get("Orientation")}get samplesPerPixel(){return this.get("SamplesPerPixel")||1}get rowsPerStrip(){return this.get("RowsPerStrip")}get stripByteCounts(){return alwaysArray(this.get("StripByteCounts"))}get minSampleValue(){return this.get("MinSampleValue")||0}get maxSampleValue(){return this.get("MaxSampleValue")||Math.pow(2,this.bitsPerSample)-1}get xResolution(){return this.get("XResolution")}get yResolution(){return this.get("YResolution")}get planarConfiguration(){return this.get("PlanarConfiguration")||1}get resolutionUnit(){return this.get("ResolutionUnit")||2}get dateTime(){return this.get("DateTime")}get predictor(){return this.get("Predictor")||1}get sampleFormat(){return this.get("SampleFormat")||1}get sMinSampleValue(){return this.get("SMinSampleValue")||this.minSampleValue}get sMaxSampleValue(){return this.get("SMaxSampleValue")||this.maxSampleValue}get palette(){const e=2**this.bitsPerSample,t=this.get("ColorMap");if(!t)return;if(t.length!==3*e)throw new Error(`ColorMap size must be ${e}`);const r=[];for(let Ve=0;Ve<e;Ve++)r.push([t[Ve],t[Ve+e],t[Ve+2*e]]);return r}}function alwaysArray($e){return typeof $e=="number"?[$e]:$e}function decompressZlib($e){const e=new Uint8Array($e.buffer,$e.byteOffset,$e.byteLength),t=inflate_1(e);return new DataView(t.buffer,t.byteOffset,t.byteLength)}const defaultOptions$c={ignoreImageData:!1,onlyFirst:!1};class TIFFDecoder extends IOBuffer$4{constructor(e){super(e),this._nextIFD=0}get isMultiPage(){let e=0;for(this.decodeHeader();this._nextIFD;)if(e++,this.decodeIFD({ignoreImageData:!0},!0),e===2)return!0;if(e===1)return!1;throw unsupported("ifdCount",e)}get pageCount(){let e=0;for(this.decodeHeader();this._nextIFD;)e++,this.decodeIFD({ignoreImageData:!0},!0);if(e>0)return e;throw unsupported("ifdCount",e)}decode(e={}){e=Object.assign({},defaultOptions$c,e);const t=[];for(this.decodeHeader();this._nextIFD;)if(t.push(this.decodeIFD(e,!0)),e.onlyFirst)return[t[0]];return t}decodeHeader(){const e=this.readUint16();if(e===18761)this.setLittleEndian();else if(e===19789)this.setBigEndian();else throw new Error(`invalid byte order: 0x${e.toString(16)}`);if(this.readUint16()!==42)throw new Error("not a TIFF file");this._nextIFD=this.readUint32()}decodeIFD(e,t){this.seek(this._nextIFD);let r;if(t)r=new TiffIfd;else{if(!e.kind)throw new Error("kind is missing");r=new IFD(e.kind)}const Ve=this.readUint16();for(let je=0;je<Ve;je++)this.decodeIFDEntry(r);if(!e.ignoreImageData){if(!(r instanceof TiffIfd))throw new Error("must be a tiff ifd");this.decodeImageData(r)}return this._nextIFD=this.readUint32(),r}decodeIFDEntry(e){const t=this.offset,r=this.readUint16(),Ve=this.readUint16(),je=this.readUint32();if(Ve<1||Ve>12){this.skip(4);return}getByteLength(Ve,je)>4&&this.seek(this.readUint32());const ze=readData(this,Ve,je);if(e.fields.set(r,ze),r===34665||r===34853){let Xe=this.offset,We="exif";r===34665?We="exif":r===34853&&(We="gps"),this._nextIFD=ze,e[We]=this.decodeIFD({kind:We,ignoreImageData:!0},!1),this.offset=Xe}this.seek(t),this.skip(12)}decodeImageData(e){const t=e.orientation;if(t&&t!==1)throw unsupported("orientation",t);switch(e.type){case 0:case 1:case 2:case 3:this.readStripData(e);break;default:throw unsupported("image type",e.type)}if(this.applyPredictor(e),this.convertAlpha(e),e.type===0){const r=e.bitsPerSample,Ve=Math.pow(2,r)-1;for(let je=0;je<e.data.length;je++)e.data[je]=Ve-e.data[je]}}readStripData(e){const t=e.width,r=e.height,Ve=e.bitsPerSample,je=e.sampleFormat,ze=t*r*e.samplesPerPixel,Xe=getDataArray(ze,Ve,je),We=e.rowsPerStrip*t*e.samplesPerPixel,qe=e.stripOffsets,Ke=e.stripByteCounts||guessStripByteCounts(e);let Ze=ze,Je=0;for(let Qe=0;Qe<qe.length;Qe++){let ti=new DataView(this.buffer,this.byteOffset+qe[Qe],Ke[Qe]),ni=Ze>We?We:Ze;Ze-=ni;let ri=ti;switch(e.compression){case 1:break;case 5:{ri=decompressLzw(ti);break}case 8:{ri=decompressZlib(ti);break}case 2:throw unsupported("Compression","CCITT Group 3");case 32773:throw unsupported("Compression","PackBits");default:throw unsupported("Compression",e.compression)}Je=this.fillUncompressed(Ve,je,Xe,ri,Je,ni)}e.data=Xe}fillUncompressed(e,t,r,Ve,je,ze){if(e===8)return fill8bit(r,Ve,je,ze);if(e===16)return fill16bit(r,Ve,je,ze,this.isLittleEndian());if(e===32&&t===3)return fillFloat32(r,Ve,je,ze,this.isLittleEndian());throw unsupported("bitDepth",e)}applyPredictor(e){const t=e.bitsPerSample;switch(e.predictor){case 1:break;case 2:{if(t===8)applyHorizontalDifferencing8Bit(e.data,e.width,e.components);else if(t===16)applyHorizontalDifferencing16Bit(e.data,e.width,e.components);else throw new Error(`Horizontal differencing is only supported for images with a bit depth of ${t}`);break}default:throw new Error(`invalid predictor: ${e.predictor}`)}}convertAlpha(e){if(e.alpha&&e.associatedAlpha){const{data:t,components:r,maxSampleValue:Ve}=e;for(let je=0;je<t.length;je+=r){const ze=t[je+r-1];for(let Xe=0;Xe<r-1;Xe++)t[je+Xe]=Math.round(t[je+Xe]*Ve/ze)}}}}function getDataArray($e,e,t){if(e===8)return new Uint8Array($e);if(e===16)return new Uint16Array($e);if(e===32&&t===3)return new Float32Array($e);throw unsupported("bit depth / sample format",`${e} / ${t}`)}function fill8bit($e,e,t,r){for(let Ve=0;Ve<r;Ve++)$e[t++]=e.getUint8(Ve);return t}function fill16bit($e,e,t,r,Ve){for(let je=0;je<r*2;je+=2)$e[t++]=e.getUint16(je,Ve);return t}function fillFloat32($e,e,t,r,Ve){for(let je=0;je<r*4;je+=4)$e[t++]=e.getFloat32(je,Ve);return t}function unsupported($e,e){return new Error(`Unsupported ${$e}: ${e}`)}function decodeTIFF($e,e){return new TIFFDecoder($e).decode(e)}function matchAndCrop($e={}){let{algorithm:e="matchToPrevious",ignoreBorder:t=[0,0]}=$e;this.checkProcessable("matchAndCrop",{bitDepth:[8,16]});let r=e==="matchToPrevious",Ve=this[0],je=[];je[0]={position:[0,0],image:this[0]};let ze=[0,0];for(let Je=1;Je<this.length;Je++){let Qe=Ve.getBestMatch(this[Je],{border:t});je[Je]={position:[Qe[0]+ze[0],Qe[1]+ze[1]],image:this[Je]},r&&(ze[0]+=Qe[0],ze[1]+=Qe[1],Ve=this[Je])}let Xe=0,We=0,qe=0,Ke=0;for(let Je=0;Je<je.length;Je++){let Qe=je[Je];Qe.position[0]>Xe&&(Xe=Qe.position[0]),Qe.position[0]<We&&(We=Qe.position[0]),Qe.position[1]>qe&&(qe=Qe.position[1]),Qe.position[1]<Ke&&(Ke=Qe.position[1])}We=0-We,Ke=0-Ke;for(let Je=0;Je<je.length;Je++){let Qe=je[Je];Qe.crop=Qe.image.crop({x:Xe-Qe.position[0],y:qe-Qe.position[1],width:Ve.width-We-Xe,height:Ve.height-Ke-qe})}let Ze=[];for(let Je=0;Je<je.length;Je++)Ze[Je]=je[Je].crop;return new Stack(Ze)}function min$2(){this.checkProcessable("min",{bitDepth:[8,16]});let $e=this[0].min;for(let e=1;e<this.length;e++)for(let t=0;t<$e.length;t++)$e[t]=Math.min($e[t],this[e].min[t]);return $e}function max$2(){this.checkProcessable("min",{bitDepth:[8,16]});let $e=this[0].max;for(let e=1;e<this.length;e++)for(let t=0;t<$e.length;t++)$e[t]=Math.max($e[t],this[e].max[t]);return $e}function median$2($e){let e=$e.reduce((ze,Xe)=>ze+Xe);if(e===0)throw new Error("unreachable");let t=0,r=0,Ve=e/2,je;for(;;){if($e[t]>0){if(je!==void 0)return(je+t)/2;if(r+=$e[t],r>Ve)return t;r===Ve&&(je=t)}t++}}function mean$2($e){let e=0,t=0;for(let r=0;r<$e.length;r++)e+=$e[r],t+=$e[r]*r;return e===0?0:t/e}function median$1(){this.checkProcessable("median",{bitDepth:[8,16]});let $e=this.getHistograms({maxSlots:this[0].maxValue+1}),e=new Array($e.length);for(let t=0;t<$e.length;t++){let r=$e[t];e[t]=median$2(r)}return e}function histogram($e){this.checkProcessable("min",{bitDepth:[8,16]});let e=this[0].getHistogram($e);for(let t=1;t<this.length;t++){let r=this[t].getHistogram($e);for(let Ve=0;Ve<e.length;Ve++)e[Ve]+=r[Ve]}return e}function histograms($e){this.checkProcessable("min",{bitDepth:[8,16]});let e=this[0].getHistograms($e),t=e[0].length;for(let r=1;r<this.length;r++){let Ve=this[r].getHistograms($e);for(let je=0;je<e.length;je++)for(let ze=0;ze<t;ze++)e[je][ze]+=Ve[je][ze]}return e}function averageImage(){this.checkProcessable("averageImage",{bitDepth:[8,16]});let $e=new Uint32Array(this[0].data.length);for(let r=0;r<this.length;r++){let Ve=this[r];for(let je=0;je<this[0].data.length;je++)$e[je]+=Ve.data[je]}let e=Image$1.createFrom(this[0]),t=e.data;for(let r=0;r<this[0].data.length;r++)t[r]=$e[r]/this.length;return e}function maxImage(){this.checkProcessable("max",{bitDepth:[8,16]});let $e=Image$1.createFrom(this[0]);$e.data.fill(0);for(const e of this)for(let t=0;t<$e.data.length;t++)$e.data[t]=Math.max(e.data[t],$e.data[t]);return $e}function minImage(){this.checkProcessable("max",{bitDepth:[8,16]});let $e=Image$1.createFrom(this[0]);$e.data.fill($e.maxValue);for(const e of this)for(let t=0;t<$e.data.length;t++)$e.data[t]=Math.min(e.data[t],$e.data[t]);return $e}function extend$2($e){$e.extendMethod("matchAndCrop",matchAndCrop),$e.extendMethod("getMin",min$2),$e.extendMethod("getMax",max$2),$e.extendMethod("getMedian",median$1),$e.extendMethod("getHistogram",histogram),$e.extendMethod("getHistograms",histograms),$e.extendMethod("getAverage",averageImage),$e.extendMethod("getAverageImage",averageImage),$e.extendMethod("getMaxImage",maxImage),$e.extendMethod("getMinImage",minImage)}let computedPropertyDescriptor={configurable:!0,enumerable:!1,get:void 0};class Stack extends Array{constructor(e){if(Array.isArray(e)){super(e.length);for(let t=0;t<e.length;t++)this[t]=e[t]}else typeof e=="number"?super(e):super();this.computed=null}static load(e){return Promise.all(e.map(Image$1.load)).then(t=>new Stack(t))}static extendMethod(e,t,r={}){let{inPlace:Ve=!1,returnThis:je=!0,partialArgs:ze=[]}=r;return Ve?Stack.prototype[e]=function(...Xe){this.computed=null;let We=t.apply(this,[...ze,...Xe]);return je?this:We}:Stack.prototype[e]=function(...Xe){return t.apply(this,[...ze,...Xe])},Stack}static extendProperty(e,t,r={}){let{partialArgs:Ve=[]}=r;return computedPropertyDescriptor.get=function(){if(this.computed===null)this.computed={};else if(hasOwn(e,this.computed))return this.computed[e];let je=t.apply(this,Ve);return this.computed[e]=je,je},Object.defineProperty(Stack.prototype,e,computedPropertyDescriptor),Stack}checkProcessable(e,t={}){if(typeof e!="string")throw new TypeError("checkProcessable requires as first parameter the processName (a string)");if(this.size===0)throw new TypeError(`The process: ${e} can not be applied on an empty stack`);this[0].checkProcessable(e,t);for(let r=1;r<this.length;r++){if((t.sameSize===void 0||t.sameSize)&&this[0].width!==this[r].width)throw new TypeError(`The process: ${e} can not be applied if width is not identical in all images`);if((t.sameSize===void 0||t.sameSize)&&this[0].height!==this[r].height)throw new TypeError(`The process: ${e} can not be applied if height is not identical in all images`);if((t.sameAlpha===void 0||t.sameAlpha)&&this[0].alpha!==this[r].alpha)throw new TypeError(`The process: ${e} can not be applied if alpha is not identical in all images`);if((t.sameBitDepth===void 0||t.sameBitDepth)&&this[0].bitDepth!==this[r].bitDepth)throw new TypeError(`The process: ${e} can not be applied if bitDepth is not identical in all images`);if((t.sameColorModel===void 0||t.sameColorModel)&&this[0].colorModel!==this[r].colorModel)throw new TypeError(`The process: ${e} can not be applied if colorModel is not identical in all images`);if((t.sameNumberChannels===void 0||t.sameNumberChannels)&&this[0].channels!==this[r].channels)throw new TypeError(`The process: ${e} can not be applied if channels is not identical in all images`)}}}Array[Symbol.species]||(Stack.prototype.map=function($e,e){if(typeof $e!="function")throw new TypeError(`${$e} is not a function`);let t=new Stack(this.length);for(let r=0;r<this.length;r++)t[r]=$e.call(e,this[r],r,this);return t});extend$2(Stack);const isDataURL=/^data:[a-z]+\/(?:[a-z]+);base64,/;function load($e,e){if(typeof $e=="string")return loadURL($e,e);if($e instanceof ArrayBuffer)return Promise.resolve(loadBinary(new Uint8Array($e),void 0,e&&e.ignorePalette));if($e.buffer)return Promise.resolve(loadBinary($e,void 0,e&&e.ignorePalette));throw new Error('argument to "load" must be a string or buffer.')}function loadBinary($e,e,t){const r=imageType$1($e);if(r)switch(r.mime){case"image/png":return loadPNG($e);case"image/jpeg":return loadJPEG($e);case"image/tiff":return loadTIFF($e,t);default:return loadGeneric(Ve(r.mime))}return loadGeneric(Ve("application/octet-stream"));function Ve(je){return e||toBase64URL($e,je)}}function loadURL($e,e){const t=$e.slice(0,64).match(isDataURL);let r;return t!==null?r=Promise.resolve(decode$3($e.slice(t[0].length))):r=fetchBinary($e,e),r.then(Ve=>{const je=new Uint8Array(Ve);return loadBinary(je,t?$e:void 0,e&&e.ignorePalette)})}function loadPNG($e){const e=decodePng($e);let t=e.channels,r,Ve=0;return t===2||t===4?(r=t-1,Ve=1):r=t,e.palette?loadPNGFromPalette(e):new Image$1(e.width,e.height,e.data,{components:r,alpha:Ve,bitDepth:e.depth})}function loadPNGFromPalette($e){const e=$e.width*$e.height,t=$e.palette[0].length,r=new Uint8Array(e*t),Ve=8/$e.depth,je=$e.depth<8?Ve:1,ze=parseInt("1".repeat($e.depth),2),Xe=t===4;let We=0;for(let qe=0;qe<e;qe++){const Ke=Math.floor(qe/je);let Ze=$e.data[Ke];$e.depth<8&&(Ze=Ze>>>$e.depth*(Ve-1-qe%Ve)&ze);const Je=$e.palette[Ze];r[We++]=Je[0],r[We++]=Je[1],r[We++]=Je[2],Xe&&(r[We++]=Je[3])}return new Image$1($e.width,$e.height,r,{components:3,alpha:Xe,bitDepth:8})}function loadJPEG($e){const e=decode($e);let t;e.exif&&(t=getMetadata(e.exif));const r=jpegJs.decode($e,{useTArray:!0,maxMemoryUsageInMB:1024});let Ve=new Image$1(r.width,r.height,r.data,{meta:t});if(t&&t.tiff.tags.Orientation){const je=t.tiff.tags.Orientation;je>2&&(Ve=Ve.rotate({3:180,4:180,5:90,6:90,7:270,8:270}[je])),[2,4,5,7].includes(je)&&(Ve=Ve.flipX())}return Ve}function loadTIFF($e,e){let t=decodeTIFF($e);return t.length===1?getImageFromIFD(t[0],e):new Stack(t.map(function(r){return getImageFromIFD(r,e)}))}function getMetadata($e){const e={tiff:{fields:$e.fields,tags:$e.map}};return $e.exif&&(e.exif=$e.exif),$e.gps&&(e.gps=$e.gps),e}function getImageFromIFD($e,e){if(!e&&$e.type===3){const t=new Uint16Array(3*$e.width*$e.height),r=$e.palette;let Ve=0;for(let je=0;je<$e.data.length;je++){const ze=$e.data[je],Xe=r[ze];t[Ve++]=Xe[0],t[Ve++]=Xe[1],t[Ve++]=Xe[2]}return new Image$1($e.width,$e.height,t,{components:3,alpha:$e.alpha,colorModel:RGB$1,bitDepth:16,meta:getMetadata($e)})}else return new Image$1($e.width,$e.height,$e.data,{components:$e.type===2?3:1,alpha:$e.alpha,colorModel:$e.type===2?RGB$1:GREY$1,bitDepth:$e.bitsPerSample.length?$e.bitsPerSample[0]:$e.bitsPerSample,meta:getMetadata($e)})}function loadGeneric($e,e){return e=e||{},new Promise(function(t,r){let Ve=new DOMImage;Ve.onload=function(){let je=Ve.width,ze=Ve.height,Xe=createCanvas(je,ze).getContext("2d");Xe.drawImage(Ve,0,0,je,ze);let We=Xe.getImageData(0,0,je,ze).data;t(new Image$1(je,ze,We,e))},Ve.onerror=function(){r(new Error(`Could not load ${$e}`))},Ve.src=$e})}const valueMethods={getValueXY($e,e,t){return this.data[(e*this.width+$e)*this.channels+t]},setValueXY($e,e,t,r){return this.data[(e*this.width+$e)*this.channels+t]=r,this.computed=null,this},getValue($e,e){return this.data[$e*this.channels+e]},setValue($e,e,t){return this.data[$e*this.channels+e]=t,this.computed=null,this},getPixelXY($e,e){return this.getPixel(e*this.width+$e)},setPixelXY($e,e,t){return this.setPixel(e*this.width+$e,t)},getPixel($e){const e=new Array(this.channels),t=$e*this.channels;for(let r=0;r<this.channels;r++)e[r]=this.data[t+r];return e},setPixel($e,e){const t=$e*this.channels;for(let r=0;r<e.length;r++)this.data[t+r]=e[r];return this.computed=null,this}};function setValueMethods($e){for(const e in valueMethods)$e.prototype[e]=valueMethods[e]}function getImageParameters($e){return{width:$e.width,height:$e.height,components:$e.components,alpha:$e.alpha,colorModel:$e.colorModel,bitDepth:$e.bitDepth}}function getOutputImage($e,e,t,r={}){const{out:Ve}=e;if(Ve===void 0)return r.copy?$e.clone():Image$1.createFrom($e,t);{if(!Image$1.isImage(Ve))throw new TypeError("out must be an Image object");const je=Object.assign(getImageParameters($e),t);for(const ze in je)if(Ve[ze]!==je[ze])throw new RangeError(`cannot use out. Its ${ze} must be "${je[ze]}" (found "${Ve[ze]}")`);return Ve}}function getOutputImageOrInPlace($e,e,t){if(e.inPlace!==void 0&&typeof e.inPlace!="boolean")throw new TypeError("inPlace option must be a boolean");if(e.inPlace){if(e.out!==void 0)throw new TypeError("out option must not be set if inPlace option is true");return $e}return getOutputImage($e,e,null,t)}function abs($e={}){this.checkProcessable("abs",{bitDepth:[32]});const e=getOutputImageOrInPlace(this,$e);return absolute(this,e),e}function absolute($e,e){for(let t=0;t<$e.data.length;t++)e.data[t]=Math.abs($e.data[t])}function copyAlphaChannel($e,e){if($e.alpha===1&&e.alpha===1)for(let t=0;t<$e.size;t++)e.data[t*e.channels+e.components]=$e.data[t*$e.channels+$e.components]}function invert($e={}){this.checkProcessable("invert",{bitDepth:[1,8,16]});const e=getOutputImageOrInPlace(this,$e);return this.bitDepth===1?invertBinary(this,e):(invertColor(this,e),this!==e&&copyAlphaChannel(this,e)),e}function invertBinary($e,e){for(let t=0;t<$e.data.length;t++)e.data[t]=~$e.data[t]}function invertColor($e,e){for(let t=0;t<$e.data.length;t+=$e.channels)for(let r=0;r<$e.components;r++)e.data[t+r]=$e.maxValue-$e.data[t+r]}function flipX(){this.checkProcessable("flipX",{bitDepth:[8,16]});for(let $e=0;$e<this.height;$e++){let e=$e*this.width*this.channels;for(let t=0;t<Math.floor(this.width/2);t++){let r=t*this.channels+e,Ve=(this.width-t-1)*this.channels+e;for(let je=0;je<this.channels;je++){let ze=this.data[r+je];this.data[r+je]=this.data[Ve+je],this.data[Ve+je]=ze}}}return this}function flipY(){this.checkProcessable("flipY",{bitDepth:[8,16]});for(let $e=0;$e<Math.floor(this.height/2);$e++)for(let e=0;e<this.width;e++){let t=e*this.channels+$e*this.width*this.channels,r=e*this.channels+(this.height-1-$e)*this.channels*this.width;for(let Ve=0;Ve<this.channels;Ve++){let je=this.data[t+Ve];this.data[t+Ve]=this.data[r+Ve],this.data[r+Ve]=je}}return this}function blurFilter($e={}){const{radius:e=1}=$e;if(e<1)throw new Error("radius must be greater than 1");const t=2*e+1,r=new Array(t);for(let Ve=0;Ve<t;Ve++){r[Ve]=new Array(t);for(let je=0;je<t;je++)r[Ve][je]=1/(t*t)}return this.convolution(r)}var medianQuickselect_min={exports:{}};(function($e){(function(){function e(Ve){for(var je=0,ze=Ve.length-1,Xe=void 0,We=void 0,qe=void 0,Ke=r(je,ze);;){if(ze<=je)return Ve[Ke];if(ze==je+1)return Ve[je]>Ve[ze]&&t(Ve,je,ze),Ve[Ke];for(Xe=r(je,ze),Ve[Xe]>Ve[ze]&&t(Ve,Xe,ze),Ve[je]>Ve[ze]&&t(Ve,je,ze),Ve[Xe]>Ve[je]&&t(Ve,Xe,je),t(Ve,Xe,je+1),We=je+1,qe=ze;;){do We++;while(Ve[je]>Ve[We]);do qe--;while(Ve[qe]>Ve[je]);if(qe<We)break;t(Ve,We,qe)}t(Ve,je,qe),qe<=Ke&&(je=We),qe>=Ke&&(ze=qe-1)}}var t=function(Ve,je,ze){var Xe;return Xe=[Ve[ze],Ve[je]],Ve[je]=Xe[0],Ve[ze]=Xe[1],Xe},r=function(Ve,je){return~~((Ve+je)/2)};$e.exports?$e.exports=e:window.median=e})()})(medianQuickselect_min);var medianQuickselect_minExports=medianQuickselect_min.exports;const quickSelectMedian=getDefaultExportFromCjs(medianQuickselect_minExports);function validateArrayOfChannels($e,e={}){let{channels:t,allowAlpha:r,defaultAlpha:Ve}=e;return typeof r!="boolean"&&(r=!0),typeof t>"u"?allChannels($e,Ve):validateChannels($e,t,r)}function allChannels($e,e){let t=e?$e.channels:$e.components,r=new Array(t);for(let Ve=0;Ve<t;Ve++)r[Ve]=Ve;return r}function validateChannels($e,e,t){Array.isArray(e)||(e=[e]);for(let r=0;r<e.length;r++)e[r]=validateChannel($e,e[r],t);return e}function validateChannel($e,e,t=!0){if(e===void 0)throw new RangeError(`validateChannel : the channel has to be >=0 and <${$e.channels}`);if(typeof e=="string"){switch($e.colorModel){case GREY$1:break;case RGB$1:if("rgb".includes(e))switch(e){case"r":e=0;break;case"g":e=1;break;case"b":e=2;break}break;case HSL:if("hsl".includes(e))switch(e){case"h":e=0;break;case"s":e=1;break;case"l":e=2;break}break;case HSV:if("hsv".includes(e))switch(e){case"h":e=0;break;case"s":e=1;break;case"v":e=2;break}break;case CMYK$1:if("cmyk".includes(e))switch(e){case"c":e=0;break;case"m":e=1;break;case"y":e=2;break;case"k":e=3;break}break;default:throw new Error(`Unexpected color model: ${$e.colorModel}`)}if(e==="a"){if(!$e.alpha)throw new Error("validateChannel : the image does not contain alpha channel");e=$e.components}if(typeof e=="string")throw new Error(`validateChannel : undefined channel: ${e}`)}if(e>=$e.channels)throw new RangeError(`validateChannel : the channel has to be >=0 and <${$e.channels}`);if(!t&&e>=$e.components)throw new RangeError("validateChannel : alpha channel may not be selected");return e}function medianFilter($e={}){let{radius:e=1,border:t="copy",channels:r}=$e;if(this.checkProcessable("medianFilter",{bitDepth:[8,16]}),e<1)throw new Error("radius must be greater than 0");r=validateArrayOfChannels(this,r);let Ve=e,je=e,ze=Image$1.createFrom(this),Xe=(Ve*2+1)*(je*2+1),We=new Array(Xe);for(let qe=0;qe<r.length;qe++){let Ke=r[qe];for(let Ze=je;Ze<this.height-je;Ze++)for(let Je=Ve;Je<this.width-Ve;Je++){let Qe=0;for(let ni=-je;ni<=je;ni++)for(let ri=-Ve;ri<=Ve;ri++){let ii=((Ze+ni)*this.width+Je+ri)*this.channels+Ke;We[Qe++]=this.data[ii]}let ti=(Ze*this.width+Je)*this.channels+Ke;ze.data[ti]=quickSelectMedian(We)}}if(this.alpha&&!r.includes(this.channels))for(let qe=this.components;qe<this.data.length;qe=qe+this.channels)ze.data[qe]=this.data[qe];return ze.setBorder({size:[Ve,je],algorithm:t}),ze}function gaussianFilter($e={}){let{radius:e=1,sigma:t,channels:r,border:Ve="copy"}=$e;this.checkProcessable("gaussian",{bitDepth:[8,16]});const je=getKernel(e,t);return this.convolution([je,je],{border:Ve,channels:r,algorithm:"separable"})}function getKernel($e,e){const t=$e*2+1,r=new Array(t),Ve=e||((t-1)*.5-1)*.3+.8,je=-.5/(Ve*Ve);let ze=0;for(let Xe=0;Xe<t;Xe++){const We=Xe-$e,qe=Math.exp(je*We*We);r[Xe]=qe,ze+=qe}for(let Xe=0;Xe<t;Xe++)r[Xe]/=ze;return r}const SOBEL_X=[[-1,0,1],[-2,0,2],[-1,0,1]],SOBEL_Y=[[-1,-2,-1],[0,0,0],[1,2,1]],SCHARR_X=[[3,0,-3],[10,0,-10],[3,0,-3]],SCHARR_Y=[[3,10,3],[0,0,0],[-3,-10,-3]];var src$2={},fftlib={};(function($e){(function(){var e;e=$e;var t={release:"0.3.0",date:"2013-03"};e.toString=function(){return"version "+t.release+", released "+t.date};for(var r=0,Ve=null,je=null,ze={init:function(qe){if(qe!==0&&!(qe&qe-1))r=qe,ze._initArray(),ze._makeBitReversalTable(),ze._makeCosSinTable();else throw new Error("init: radix-2 required")},fft1d:function(qe,Ke){ze.fft(qe,Ke,1)},ifft1d:function(qe,Ke){var Ze=1/r;ze.fft(qe,Ke,-1);for(var Je=0;Je<r;Je++)qe[Je]*=Ze,Ke[Je]*=Ze},bt1d:function(qe,Ke){ze.fft(qe,Ke,-1)},fft2d:function(qe,Ke){for(var Ze=[],Je=[],Qe=0,ti=0;ti<r;ti++){Qe=ti*r;for(var ni=0;ni<r;ni++)Ze[ni]=qe[ni+Qe],Je[ni]=Ke[ni+Qe];ze.fft1d(Ze,Je);for(var ri=0;ri<r;ri++)qe[ri+Qe]=Ze[ri],Ke[ri+Qe]=Je[ri]}for(var ii=0;ii<r;ii++){for(var ei=0;ei<r;ei++)Qe=ii+ei*r,Ze[ei]=qe[Qe],Je[ei]=Ke[Qe];ze.fft1d(Ze,Je);for(var St=0;St<r;St++)Qe=ii+St*r,qe[Qe]=Ze[St],Ke[Qe]=Je[St]}},ifft2d:function(qe,Ke){for(var Ze=[],Je=[],Qe=0,ti=0;ti<r;ti++){Qe=ti*r;for(var ni=0;ni<r;ni++)Ze[ni]=qe[ni+Qe],Je[ni]=Ke[ni+Qe];ze.ifft1d(Ze,Je);for(var ri=0;ri<r;ri++)qe[ri+Qe]=Ze[ri],Ke[ri+Qe]=Je[ri]}for(var ii=0;ii<r;ii++){for(var ei=0;ei<r;ei++)Qe=ii+ei*r,Ze[ei]=qe[Qe],Je[ei]=Ke[Qe];ze.ifft1d(Ze,Je);for(var St=0;St<r;St++)Qe=ii+St*r,qe[Qe]=Ze[St],Ke[Qe]=Je[St]}},fft:function(qe,Ke,Ze){for(var Je,Qe,ti,ni,ri,ii,ei,St,oi,si=r>>2,ai=0;ai<r;ai++)ni=Ve[ai],ai<ni&&(ri=qe[ai],qe[ai]=qe[ni],qe[ni]=ri,ri=Ke[ai],Ke[ai]=Ke[ni],Ke[ni]=ri);for(var ui=1;ui<r;ui<<=1){Qe=0,Je=r/(ui<<1);for(var hi=0;hi<ui;hi++){ii=je[Qe+si],ei=Ze*je[Qe];for(var ci=hi;ci<r;ci+=ui<<1)ti=ci+ui,St=ii*qe[ti]+ei*Ke[ti],oi=ii*Ke[ti]-ei*qe[ti],qe[ti]=qe[ci]-St,qe[ci]+=St,Ke[ti]=Ke[ci]-oi,Ke[ci]+=oi;Qe+=Je}}},_initArray:function(){typeof Uint32Array<"u"?Ve=new Uint32Array(r):Ve=[],typeof Float64Array<"u"?je=new Float64Array(r*1.25):je=[]},_paddingZero:function(){},_makeBitReversalTable:function(){var qe=0,Ke=0,Ze=0;for(Ve[0]=0;++qe<r;){for(Ze=r>>1;Ze<=Ke;)Ke-=Ze,Ze>>=1;Ke+=Ze,Ve[qe]=Ke}},_makeCosSinTable:function(){var qe=r>>1,Ke=r>>2,Ze=r>>3,Je=qe+Ke,Qe=Math.sin(Math.PI/r),ti=2*Qe*Qe,ni=Math.sqrt(ti*(2-ti)),ri=je[Ke]=1,ii=je[0]=0;Qe=2*ti;for(var ei=1;ei<Ze;ei++)ri-=ti,ti+=Qe*ri,ii+=ni,ni-=Qe*ii,je[ei]=ii,je[Ke-ei]=ri;Ze!==0&&(je[Ze]=Math.sqrt(.5));for(var St=0;St<Ke;St++)je[qe-St]=je[St];for(var oi=0;oi<Je;oi++)je[oi+qe]=-je[oi]}},Xe=["init","fft1d","ifft1d","fft2d","ifft2d"],We=0;We<Xe.length;We++)e[Xe[We]]=ze[Xe[We]];return e.bt=ze.bt1d,e.fft=ze.fft1d,e.ifft=ze.ifft1d,e}).call(commonjsGlobal)})(fftlib);var FFT$1=fftlib,FFTUtils$1={DEBUG:!1,ifft2DArray:function($e,e,t){var r=new Array(e*t),Ve=e/2,je=(t-1)*2;FFT$1.init(Ve);for(var ze={re:new Array(Ve),im:new Array(Ve)},Xe=0;Xe<t;Xe++){for(var We=Ve-1;We>=0;We--)ze.re[We]=$e[We*2*t+Xe],ze.im[We]=$e[(We*2+1)*t+Xe];FFT$1.bt(ze.re,ze.im);for(var We=Ve-1;We>=0;We--)r[We*2*t+Xe]=ze.re[We],r[(We*2+1)*t+Xe]=ze.im[We]}var qe=new Array(Ve*je);FFT$1.init(je);for(var Ke={re:new Array(je),im:new Array(je)},Ze=je*Ve,We=0;We<e;We+=2){Ke.re[0]=r[We*t],Ke.im[0]=r[(We+1)*t];for(var Xe=1;Xe<t;Xe++)Ke.re[Xe]=r[We*t+Xe],Ke.im[Xe]=r[(We+1)*t+Xe],Ke.re[je-Xe]=r[We*t+Xe],Ke.im[je-Xe]=-r[(We+1)*t+Xe];FFT$1.bt(Ke.re,Ke.im);for(var Je=We/2*je,Xe=je-1;Xe>=0;Xe--)qe[Je+Xe]=Ke.re[Xe]/Ze}return qe},fft2DArray:function($e,e,t,r){Object.assign({},{inplace:!0});var Ve=t/2+1,je=e*2,ze=new Array(je*Ve);FFT$1.init(t);for(var Xe={re:new Array(t),im:new Array(t)},We={re:new Array(t),im:new Array(t)},qe={re:new Array(t),im:new Array(t)},Ke,Ze,Je,Qe,ti,ni=0;ni<e/2;ni++){Ke=ni*2*t,Xe.re=$e.slice(Ke,Ke+t),Ke=(ni*2+1)*t,Xe.im=$e.slice(Ke,Ke+t),FFT$1.fft1d(Xe.re,Xe.im),this.reconstructTwoRealFFT(Xe,We,qe),Ze=ni*4*Ve,Je=(ni*4+1)*Ve,Qe=(ni*4+2)*Ve,ti=(ni*4+3)*Ve;for(var ri=Ve-1;ri>=0;ri--)ze[Ze+ri]=We.re[ri],ze[Je+ri]=We.im[ri],ze[Qe+ri]=qe.re[ri],ze[ti+ri]=qe.im[ri]}We=null,qe=null;var ii=new Array(je*Ve);FFT$1.init(e);for(var ei={re:new Array(e),im:new Array(e)},St=Ve-1;St>=0;St--){for(var ni=e-1;ni>=0;ni--)ei.re[ni]=ze[ni*2*Ve+St],ei.im[ni]=ze[(ni*2+1)*Ve+St],isNaN(ei.re[ni])&&(ei.re[ni]=0),isNaN(ei.im[ni])&&(ei.im[ni]=0);FFT$1.fft1d(ei.re,ei.im);for(var ni=e-1;ni>=0;ni--)ii[ni*2*Ve+St]=ei.re[ni],ii[(ni*2+1)*Ve+St]=ei.im[ni]}return ii},reconstructTwoRealFFT:function($e,e,t){var r=$e.re.length;e.re[0]=$e.re[0],e.im[0]=0,t.re[0]=$e.im[0],t.im[0]=0;for(var Ve,je,ze,Xe,We,qe=r/2;qe>0;qe--)We=r-qe,Ve=.5*($e.re[qe]-$e.re[We]),je=.5*($e.re[qe]+$e.re[We]),ze=.5*($e.im[qe]-$e.im[We]),Xe=.5*($e.im[qe]+$e.im[We]),e.re[qe]=je,e.im[qe]=ze,e.re[We]=je,e.im[We]=-ze,t.re[qe]=Xe,t.im[qe]=-Ve,t.re[We]=Xe,t.im[We]=Ve},convolute2DI:function($e,e,t,r){for(var Ve,je,ze=0;ze<t/2;ze++)for(var Xe=0;Xe<r;Xe++)Ve=$e[ze*2*r+Xe]*e[ze*2*r+Xe]-$e[(ze*2+1)*r+Xe]*e[(ze*2+1)*r+Xe],je=$e[ze*2*r+Xe]*e[(ze*2+1)*r+Xe]+$e[(ze*2+1)*r+Xe]*e[ze*2*r+Xe],$e[ze*2*r+Xe]=Ve,$e[(ze*2+1)*r+Xe]=je},convolute:function($e,e,t,r,Ve){for(var je=new Array(r*t),ze=0;ze<t*r;ze++)je[ze]=$e[ze];je=this.fft2DArray(je,t,r);for(var Xe=e.length,We=e[0].length,qe=new Array(r*t),ze=0;ze<r*t;ze++)qe[ze]=0;for(var Ke,Ze,Je=Math.floor((Xe-1)/2),Qe=Math.floor((We-1)/2),ti=0;ti<Xe;ti++){Ke=(ti-Je+t)%t;for(var ni=0;ni<We;ni++)Ze=(ni-Qe+r)%r,qe[Ke*r+Ze]=e[ti][ni]}qe=this.fft2DArray(qe,t,r);var ri=t*2,ii=r/2+1;return this.convolute2DI(je,qe,ri,ii),this.ifft2DArray(je,ri,ii)},toRadix2:function($e,e,t){var r,Ve,je,ze,Xe=t,We=e;if(!(t!==0&&!(t&t-1))){for(Xe=0;t>>++Xe;);Xe=1<<Xe}if(!(e!==0&&!(e&e-1))){for(We=0;e>>++We;);We=1<<We}if(We==e&&Xe==t)return{data:$e,rows:e,cols:t};var qe=new Array(We*Xe),Ke=Math.floor((We-e)/2)-e,Ze=Math.floor((Xe-t)/2)-t;for(r=0;r<We;r++)for(je=r*Xe,ze=(r-Ke)%e*t,Ve=0;Ve<Xe;Ve++)qe[je+Ve]=$e[ze+(Ve-Ze)%t];return{data:qe,rows:We,cols:Xe}},crop:function($e,e,t,r,Ve,je){if(e==r&&t==Ve)return $e;Object.assign({},je);var ze=new Array(Ve*r),Xe=Math.floor((e-r)/2),We=Math.floor((t-Ve)/2),qe,Ke,Ze,Je;for(Ze=0;Ze<r;Ze++)for(qe=Ze*Ve,Ke=(Ze+Xe)*t,Je=0;Je<Ve;Je++)ze[qe+Je]=$e[Ke+(Je+We)];return ze}},FFTUtils_1=FFTUtils$1;src$2.FFTUtils=FFTUtils_1;src$2.FFT=fftlib;var FFTUtils=src$2.FFTUtils;function convolutionFFT($e,e,t){var r=matrix2Array($e),Ve=r.data,je=Object.assign({normalize:!1,divisor:1,rows:r.rows,cols:r.cols},t),ze,Xe;if(je.rows&&je.cols)ze=je.rows,Xe=je.cols;else throw new Error("Invalid number of rows or columns "+ze+" "+Xe);var We=je.divisor,qe,Ke,Ze=e.length,Je=e[0].length;if(je.normalize)for(We=0,qe=0;qe<Ze;qe++)for(Ke=0;Ke<Je;Ke++)We+=e[qe][Ke];if(We===0)throw new RangeError("convolution: The divisor is equal to zero");var Qe=FFTUtils.toRadix2(Ve,ze,Xe),ti=FFTUtils.convolute(Qe.data,e,Qe.rows,Qe.cols);if(ti=FFTUtils.crop(ti,Qe.rows,Qe.cols,ze,Xe),We!=0&&We!=1)for(qe=0;qe<ti.length;qe++)ti[qe]/=We;return ti}function convolutionDirect($e,e,t){var r=matrix2Array($e),Ve=r.data,je=Object.assign({normalize:!1,divisor:1,rows:r.rows,cols:r.cols},t),ze,Xe;if(je.rows&&je.cols)ze=je.rows,Xe=je.cols;else throw new Error("Invalid number of rows or columns "+ze+" "+Xe);var We=je.divisor,qe=e.length,Ke=e[0].length,Ze,Je,Qe,ti,ni,ri,ii,ei,St;if(je.normalize)for(We=0,Ze=0;Ze<qe;Ze++)for(Je=0;Je<Ke;Je++)We+=e[Ze][Je];if(We===0)throw new RangeError("convolution: The divisor is equal to zero");var oi=new Array(ze*Xe),si=Math.floor(qe/2),ai=Math.floor(Ke/2);for(ti=0;ti<ze;ti++)for(Qe=0;Qe<Xe;Qe++){for(ri=0,Je=0;Je<qe;Je++)for(Ze=0;Ze<Ke;Ze++)ii=e[qe-Je-1][Ke-Ze-1],ei=(ti+Je-si+ze)%ze,St=(Qe+Ze-ai+Xe)%Xe,ni=ei*Xe+St,ri+=Ve[ni]*ii;ni=ti*Xe+Qe,oi[ni]=ri/We}return oi}function LoG($e,e,t){var r=1e3;t&&t.factor&&(r=t.factor);var Ve=new Array(e),je,ze,Xe,We;r*=-1;var qe=(e-1)/2,Ke=2*$e*$e;for(je=0;je<e;je++)for(Ve[je]=new Array(e),We=(je-qe)*(je-qe),ze=0;ze<e;ze++)Xe=-((ze-qe)*(ze-qe)+We)/Ke,Ve[je][ze]=Math.round(r*(1+Xe)*Math.exp(Xe));return Ve}function matrix2Array($e){var e=$e,t,r;if(typeof $e[0]!="number"){t=$e.length,r=$e[0].length,e=new Array(t*r);for(var Ve=0;Ve<t;Ve++)for(var je=0;je<r;je++)e[Ve*r+je]=$e[Ve][je]}else{var ze=Math.sqrt($e.length);Number.isInteger(ze)&&(t=ze,r=ze)}return{data:e,rows:t,cols:r}}var src$1={fft:convolutionFFT,direct:convolutionDirect,kernelFactory:{LoG},matrix2Array},_isFinite=Number.isFinite||function($e){return!(typeof $e!="number"||$e!==$e||$e===1/0||$e===-1/0)},isFinite$1=_isFinite,isInteger=Number.isInteger||function($e){return typeof $e=="number"&&isFinite$1($e)&&Math.floor($e)===$e};const isInteger$1=getDefaultExportFromCjs(isInteger);function validateKernel($e){let e,t;if(Array.isArray($e))if(Array.isArray($e[0])){if(!($e.length&1)||!($e[0].length&1))throw new RangeError("validateKernel: Kernel rows and columns should be odd numbers");e=Math.floor($e.length/2),t=Math.floor($e[0].length/2)}else{let r=Math.sqrt($e.length);if(isInteger$1(r))t=e=Math.floor(Math.sqrt($e.length)/2);else throw new RangeError("validateKernel: Kernel array should be a square");let Ve=new Array(r);for(let je=0;je<r;je++){Ve[je]=new Array(r);for(let ze=0;ze<r;ze++)Ve[je][ze]=$e[je*r+ze]}$e=Ve}else throw new Error(`validateKernel: Invalid Kernel: ${$e}`);return{kernel:$e,kWidth:t,kHeight:e}}function clamp($e,e){return Math.round(Math.min(Math.max($e,0),e.maxValue))}function directConvolution($e,e,t){if(t===void 0){const je=$e.length+e.length-1;t=new Array(je)}fill(t);for(var r=0;r<$e.length;r++)for(var Ve=0;Ve<e.length;Ve++)t[r+Ve]+=$e[r]*e[Ve];return t}function fill($e){for(var e=0;e<$e.length;e++)$e[e]=0}function convolutionSeparable($e,e,t,r){const Ve=new Array($e.length);let je,ze,Xe,We;We=e[1],Xe=(We.length-1)/2,ze=new Array(t+We.length-1),je=new Array(t);for(let qe=0;qe<r;qe++){for(let Ke=0;Ke<t;Ke++)je[Ke]=$e[qe*t+Ke];directConvolution(je,We,ze);for(let Ke=0;Ke<t;Ke++)Ve[qe*t+Ke]=ze[Xe+Ke]}We=e[0],Xe=(We.length-1)/2,ze=new Array(r+We.length-1),je=new Array(r);for(let qe=0;qe<t;qe++){for(let Ke=0;Ke<r;Ke++)je[Ke]=Ve[Ke*t+qe];directConvolution(je,We,ze);for(let Ke=0;Ke<r;Ke++)Ve[Ke*t+qe]=ze[Xe+Ke]}return Ve}var matrix={};const toString$1=Object.prototype.toString;function isAnyArray$1($e){const e=toString$1.call($e);return e.endsWith("Array]")&&!e.includes("Big")}const libEsm=Object.freeze(Object.defineProperty({__proto__:null,isAnyArray:isAnyArray$1},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(libEsm);function max$1($e){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!isAnyArray$1($e))throw new TypeError("input must be an array");if($e.length===0)throw new TypeError("input must not be empty");var t=e.fromIndex,r=t===void 0?0:t,Ve=e.toIndex,je=Ve===void 0?$e.length:Ve;if(r<0||r>=$e.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(je<=r||je>$e.length||!Number.isInteger(je))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var ze=$e[r],Xe=r+1;Xe<je;Xe++)$e[Xe]>ze&&(ze=$e[Xe]);return ze}function min$1($e){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!isAnyArray$1($e))throw new TypeError("input must be an array");if($e.length===0)throw new TypeError("input must not be empty");var t=e.fromIndex,r=t===void 0?0:t,Ve=e.toIndex,je=Ve===void 0?$e.length:Ve;if(r<0||r>=$e.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(je<=r||je>$e.length||!Number.isInteger(je))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var ze=$e[r],Xe=r+1;Xe<je;Xe++)$e[Xe]<ze&&(ze=$e[Xe]);return ze}function rescale$1($e){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(isAnyArray$1($e)){if($e.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var t;if(e.output!==void 0){if(!isAnyArray$1(e.output))throw new TypeError("output option must be an array if specified");t=e.output}else t=new Array($e.length);var r=min$1($e),Ve=max$1($e);if(r===Ve)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var je=e.min,ze=je===void 0?e.autoMinMax?r:0:je,Xe=e.max,We=Xe===void 0?e.autoMinMax?Ve:1:Xe;if(ze>=We)throw new RangeError("min option must be smaller than max option");for(var qe=(We-ze)/(Ve-r),Ke=0;Ke<$e.length;Ke++)t[Ke]=($e[Ke]-r)*qe+ze;return t}const libEs6=Object.freeze(Object.defineProperty({__proto__:null,default:rescale$1},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(libEs6);Object.defineProperty(matrix,"__esModule",{value:!0});var isAnyArray=require$$0$1,rescale=require$$1;const indent=" ".repeat(2),indentData=" ".repeat(4);function inspectMatrix(){return inspectMatrixWithOptions(this)}function inspectMatrixWithOptions($e,e={}){const{maxRows:t=15,maxColumns:r=10,maxNumSize:Ve=8,padMinus:je="auto"}=e;return`${$e.constructor.name} {
${indent}[
${indentData}${inspectData($e,t,r,Ve,je)}
${indent}]
${indent}rows: ${$e.rows}
${indent}columns: ${$e.columns}
}`}function inspectData($e,e,t,r,Ve){const{rows:je,columns:ze}=$e,Xe=Math.min(je,e),We=Math.min(ze,t),qe=[];if(Ve==="auto"){Ve=!1;e:for(let Ke=0;Ke<Xe;Ke++)for(let Ze=0;Ze<We;Ze++)if($e.get(Ke,Ze)<0){Ve=!0;break e}}for(let Ke=0;Ke<Xe;Ke++){let Ze=[];for(let Je=0;Je<We;Je++)Ze.push(formatNumber($e.get(Ke,Je),r,Ve));qe.push(`${Ze.join(" ")}`)}return We!==ze&&(qe[qe.length-1]+=` ... ${ze-t} more columns`),Xe!==je&&qe.push(`... ${je-e} more rows`),qe.join(`
${indentData}`)}function formatNumber($e,e,t){return($e>=0&&t?` ${formatNumber2($e,e-1)}`:formatNumber2($e,e)).padEnd(e)}function formatNumber2($e,e){let t=$e.toString();if(t.length<=e)return t;let r=$e.toFixed(e);if(r.length>e&&(r=$e.toFixed(Math.max(0,e-(r.length-e)))),r.length<=e&&!r.startsWith("0.000")&&!r.startsWith("-0.000"))return r;let Ve=$e.toExponential(e);return Ve.length>e&&(Ve=$e.toExponential(Math.max(0,e-(Ve.length-e)))),Ve.slice(0)}function installMathOperations($e,e){$e.prototype.add=function(t){return typeof t=="number"?this.addS(t):this.addM(t)},$e.prototype.addS=function(t){for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)+t);return this},$e.prototype.addM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)+t.get(r,Ve));return this},$e.add=function(t,r){return new e(t).add(r)},$e.prototype.sub=function(t){return typeof t=="number"?this.subS(t):this.subM(t)},$e.prototype.subS=function(t){for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)-t);return this},$e.prototype.subM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)-t.get(r,Ve));return this},$e.sub=function(t,r){return new e(t).sub(r)},$e.prototype.subtract=$e.prototype.sub,$e.prototype.subtractS=$e.prototype.subS,$e.prototype.subtractM=$e.prototype.subM,$e.subtract=$e.sub,$e.prototype.mul=function(t){return typeof t=="number"?this.mulS(t):this.mulM(t)},$e.prototype.mulS=function(t){for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)*t);return this},$e.prototype.mulM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)*t.get(r,Ve));return this},$e.mul=function(t,r){return new e(t).mul(r)},$e.prototype.multiply=$e.prototype.mul,$e.prototype.multiplyS=$e.prototype.mulS,$e.prototype.multiplyM=$e.prototype.mulM,$e.multiply=$e.mul,$e.prototype.div=function(t){return typeof t=="number"?this.divS(t):this.divM(t)},$e.prototype.divS=function(t){for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)/t);return this},$e.prototype.divM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)/t.get(r,Ve));return this},$e.div=function(t,r){return new e(t).div(r)},$e.prototype.divide=$e.prototype.div,$e.prototype.divideS=$e.prototype.divS,$e.prototype.divideM=$e.prototype.divM,$e.divide=$e.div,$e.prototype.mod=function(t){return typeof t=="number"?this.modS(t):this.modM(t)},$e.prototype.modS=function(t){for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)%t);return this},$e.prototype.modM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)%t.get(r,Ve));return this},$e.mod=function(t,r){return new e(t).mod(r)},$e.prototype.modulus=$e.prototype.mod,$e.prototype.modulusS=$e.prototype.modS,$e.prototype.modulusM=$e.prototype.modM,$e.modulus=$e.mod,$e.prototype.and=function(t){return typeof t=="number"?this.andS(t):this.andM(t)},$e.prototype.andS=function(t){for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)&t);return this},$e.prototype.andM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)&t.get(r,Ve));return this},$e.and=function(t,r){return new e(t).and(r)},$e.prototype.or=function(t){return typeof t=="number"?this.orS(t):this.orM(t)},$e.prototype.orS=function(t){for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)|t);return this},$e.prototype.orM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)|t.get(r,Ve));return this},$e.or=function(t,r){return new e(t).or(r)},$e.prototype.xor=function(t){return typeof t=="number"?this.xorS(t):this.xorM(t)},$e.prototype.xorS=function(t){for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)^t);return this},$e.prototype.xorM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)^t.get(r,Ve));return this},$e.xor=function(t,r){return new e(t).xor(r)},$e.prototype.leftShift=function(t){return typeof t=="number"?this.leftShiftS(t):this.leftShiftM(t)},$e.prototype.leftShiftS=function(t){for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)<<t);return this},$e.prototype.leftShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)<<t.get(r,Ve));return this},$e.leftShift=function(t,r){return new e(t).leftShift(r)},$e.prototype.signPropagatingRightShift=function(t){return typeof t=="number"?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},$e.prototype.signPropagatingRightShiftS=function(t){for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)>>t);return this},$e.prototype.signPropagatingRightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)>>t.get(r,Ve));return this},$e.signPropagatingRightShift=function(t,r){return new e(t).signPropagatingRightShift(r)},$e.prototype.rightShift=function(t){return typeof t=="number"?this.rightShiftS(t):this.rightShiftM(t)},$e.prototype.rightShiftS=function(t){for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)>>>t);return this},$e.prototype.rightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,this.get(r,Ve)>>>t.get(r,Ve));return this},$e.rightShift=function(t,r){return new e(t).rightShift(r)},$e.prototype.zeroFillRightShift=$e.prototype.rightShift,$e.prototype.zeroFillRightShiftS=$e.prototype.rightShiftS,$e.prototype.zeroFillRightShiftM=$e.prototype.rightShiftM,$e.zeroFillRightShift=$e.rightShift,$e.prototype.not=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,~this.get(t,r));return this},$e.not=function(t){return new e(t).not()},$e.prototype.abs=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.abs(this.get(t,r)));return this},$e.abs=function(t){return new e(t).abs()},$e.prototype.acos=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.acos(this.get(t,r)));return this},$e.acos=function(t){return new e(t).acos()},$e.prototype.acosh=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.acosh(this.get(t,r)));return this},$e.acosh=function(t){return new e(t).acosh()},$e.prototype.asin=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.asin(this.get(t,r)));return this},$e.asin=function(t){return new e(t).asin()},$e.prototype.asinh=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.asinh(this.get(t,r)));return this},$e.asinh=function(t){return new e(t).asinh()},$e.prototype.atan=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.atan(this.get(t,r)));return this},$e.atan=function(t){return new e(t).atan()},$e.prototype.atanh=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.atanh(this.get(t,r)));return this},$e.atanh=function(t){return new e(t).atanh()},$e.prototype.cbrt=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.cbrt(this.get(t,r)));return this},$e.cbrt=function(t){return new e(t).cbrt()},$e.prototype.ceil=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.ceil(this.get(t,r)));return this},$e.ceil=function(t){return new e(t).ceil()},$e.prototype.clz32=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.clz32(this.get(t,r)));return this},$e.clz32=function(t){return new e(t).clz32()},$e.prototype.cos=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.cos(this.get(t,r)));return this},$e.cos=function(t){return new e(t).cos()},$e.prototype.cosh=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.cosh(this.get(t,r)));return this},$e.cosh=function(t){return new e(t).cosh()},$e.prototype.exp=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.exp(this.get(t,r)));return this},$e.exp=function(t){return new e(t).exp()},$e.prototype.expm1=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.expm1(this.get(t,r)));return this},$e.expm1=function(t){return new e(t).expm1()},$e.prototype.floor=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.floor(this.get(t,r)));return this},$e.floor=function(t){return new e(t).floor()},$e.prototype.fround=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.fround(this.get(t,r)));return this},$e.fround=function(t){return new e(t).fround()},$e.prototype.log=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.log(this.get(t,r)));return this},$e.log=function(t){return new e(t).log()},$e.prototype.log1p=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.log1p(this.get(t,r)));return this},$e.log1p=function(t){return new e(t).log1p()},$e.prototype.log10=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.log10(this.get(t,r)));return this},$e.log10=function(t){return new e(t).log10()},$e.prototype.log2=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.log2(this.get(t,r)));return this},$e.log2=function(t){return new e(t).log2()},$e.prototype.round=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.round(this.get(t,r)));return this},$e.round=function(t){return new e(t).round()},$e.prototype.sign=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.sign(this.get(t,r)));return this},$e.sign=function(t){return new e(t).sign()},$e.prototype.sin=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.sin(this.get(t,r)));return this},$e.sin=function(t){return new e(t).sin()},$e.prototype.sinh=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.sinh(this.get(t,r)));return this},$e.sinh=function(t){return new e(t).sinh()},$e.prototype.sqrt=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.sqrt(this.get(t,r)));return this},$e.sqrt=function(t){return new e(t).sqrt()},$e.prototype.tan=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.tan(this.get(t,r)));return this},$e.tan=function(t){return new e(t).tan()},$e.prototype.tanh=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.tanh(this.get(t,r)));return this},$e.tanh=function(t){return new e(t).tanh()},$e.prototype.trunc=function(){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,Math.trunc(this.get(t,r)));return this},$e.trunc=function(t){return new e(t).trunc()},$e.pow=function(t,r){return new e(t).pow(r)},$e.prototype.pow=function(t){return typeof t=="number"?this.powS(t):this.powM(t)},$e.prototype.powS=function(t){for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,Math.pow(this.get(r,Ve),t));return this},$e.prototype.powM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.set(r,Ve,Math.pow(this.get(r,Ve),t.get(r,Ve)));return this}}function checkRowIndex($e,e,t){let r=t?$e.rows:$e.rows-1;if(e<0||e>r)throw new RangeError("Row index out of range")}function checkColumnIndex($e,e,t){let r=t?$e.columns:$e.columns-1;if(e<0||e>r)throw new RangeError("Column index out of range")}function checkRowVector($e,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==$e.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function checkColumnVector($e,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==$e.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function checkRowIndices($e,e){if(!isAnyArray.isAnyArray(e))throw new TypeError("row indices must be an array");for(let t=0;t<e.length;t++)if(e[t]<0||e[t]>=$e.rows)throw new RangeError("row indices are out of range")}function checkColumnIndices($e,e){if(!isAnyArray.isAnyArray(e))throw new TypeError("column indices must be an array");for(let t=0;t<e.length;t++)if(e[t]<0||e[t]>=$e.columns)throw new RangeError("column indices are out of range")}function checkRange($e,e,t,r,Ve){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(checkNumber("startRow",e),checkNumber("endRow",t),checkNumber("startColumn",r),checkNumber("endColumn",Ve),e>t||r>Ve||e<0||e>=$e.rows||t<0||t>=$e.rows||r<0||r>=$e.columns||Ve<0||Ve>=$e.columns)throw new RangeError("Submatrix indices are out of range")}function newArray$2($e,e=0){let t=[];for(let r=0;r<$e;r++)t.push(e);return t}function checkNumber($e,e){if(typeof e!="number")throw new TypeError(`${$e} must be a number`)}function checkNonEmpty($e){if($e.isEmpty())throw new Error("Empty matrix has no elements to index")}function sumByRow($e){let e=newArray$2($e.rows);for(let t=0;t<$e.rows;++t)for(let r=0;r<$e.columns;++r)e[t]+=$e.get(t,r);return e}function sumByColumn($e){let e=newArray$2($e.columns);for(let t=0;t<$e.rows;++t)for(let r=0;r<$e.columns;++r)e[r]+=$e.get(t,r);return e}function sumAll($e){let e=0;for(let t=0;t<$e.rows;t++)for(let r=0;r<$e.columns;r++)e+=$e.get(t,r);return e}function productByRow($e){let e=newArray$2($e.rows,1);for(let t=0;t<$e.rows;++t)for(let r=0;r<$e.columns;++r)e[t]*=$e.get(t,r);return e}function productByColumn($e){let e=newArray$2($e.columns,1);for(let t=0;t<$e.rows;++t)for(let r=0;r<$e.columns;++r)e[r]*=$e.get(t,r);return e}function productAll($e){let e=1;for(let t=0;t<$e.rows;t++)for(let r=0;r<$e.columns;r++)e*=$e.get(t,r);return e}function varianceByRow($e,e,t){const r=$e.rows,Ve=$e.columns,je=[];for(let ze=0;ze<r;ze++){let Xe=0,We=0,qe=0;for(let Ke=0;Ke<Ve;Ke++)qe=$e.get(ze,Ke)-t[ze],Xe+=qe,We+=qe*qe;e?je.push((We-Xe*Xe/Ve)/(Ve-1)):je.push((We-Xe*Xe/Ve)/Ve)}return je}function varianceByColumn($e,e,t){const r=$e.rows,Ve=$e.columns,je=[];for(let ze=0;ze<Ve;ze++){let Xe=0,We=0,qe=0;for(let Ke=0;Ke<r;Ke++)qe=$e.get(Ke,ze)-t[ze],Xe+=qe,We+=qe*qe;e?je.push((We-Xe*Xe/r)/(r-1)):je.push((We-Xe*Xe/r)/r)}return je}function varianceAll($e,e,t){const r=$e.rows,Ve=$e.columns,je=r*Ve;let ze=0,Xe=0,We=0;for(let qe=0;qe<r;qe++)for(let Ke=0;Ke<Ve;Ke++)We=$e.get(qe,Ke)-t,ze+=We,Xe+=We*We;return e?(Xe-ze*ze/je)/(je-1):(Xe-ze*ze/je)/je}function centerByRow($e,e){for(let t=0;t<$e.rows;t++)for(let r=0;r<$e.columns;r++)$e.set(t,r,$e.get(t,r)-e[t])}function centerByColumn($e,e){for(let t=0;t<$e.rows;t++)for(let r=0;r<$e.columns;r++)$e.set(t,r,$e.get(t,r)-e[r])}function centerAll($e,e){for(let t=0;t<$e.rows;t++)for(let r=0;r<$e.columns;r++)$e.set(t,r,$e.get(t,r)-e)}function getScaleByRow($e){const e=[];for(let t=0;t<$e.rows;t++){let r=0;for(let Ve=0;Ve<$e.columns;Ve++)r+=Math.pow($e.get(t,Ve),2)/($e.columns-1);e.push(Math.sqrt(r))}return e}function scaleByRow($e,e){for(let t=0;t<$e.rows;t++)for(let r=0;r<$e.columns;r++)$e.set(t,r,$e.get(t,r)/e[t])}function getScaleByColumn($e){const e=[];for(let t=0;t<$e.columns;t++){let r=0;for(let Ve=0;Ve<$e.rows;Ve++)r+=Math.pow($e.get(Ve,t),2)/($e.rows-1);e.push(Math.sqrt(r))}return e}function scaleByColumn($e,e){for(let t=0;t<$e.rows;t++)for(let r=0;r<$e.columns;r++)$e.set(t,r,$e.get(t,r)/e[r])}function getScaleAll($e){const e=$e.size-1;let t=0;for(let r=0;r<$e.columns;r++)for(let Ve=0;Ve<$e.rows;Ve++)t+=Math.pow($e.get(Ve,r),2)/e;return Math.sqrt(t)}function scaleAll($e,e){for(let t=0;t<$e.rows;t++)for(let r=0;r<$e.columns;r++)$e.set(t,r,$e.get(t,r)/e)}class AbstractMatrix{static from1DArray(e,t,r){if(e*t!==r.length)throw new RangeError("data length does not match given dimensions");let Ve=new Matrix$3(e,t);for(let je=0;je<e;je++)for(let ze=0;ze<t;ze++)Ve.set(je,ze,r[je*t+ze]);return Ve}static rowVector(e){let t=new Matrix$3(1,e.length);for(let r=0;r<e.length;r++)t.set(0,r,e[r]);return t}static columnVector(e){let t=new Matrix$3(e.length,1);for(let r=0;r<e.length;r++)t.set(r,0,e[r]);return t}static zeros(e,t){return new Matrix$3(e,t)}static ones(e,t){return new Matrix$3(e,t).fill(1)}static rand(e,t,r={}){if(typeof r!="object")throw new TypeError("options must be an object");const{random:Ve=Math.random}=r;let je=new Matrix$3(e,t);for(let ze=0;ze<e;ze++)for(let Xe=0;Xe<t;Xe++)je.set(ze,Xe,Ve());return je}static randInt(e,t,r={}){if(typeof r!="object")throw new TypeError("options must be an object");const{min:Ve=0,max:je=1e3,random:ze=Math.random}=r;if(!Number.isInteger(Ve))throw new TypeError("min must be an integer");if(!Number.isInteger(je))throw new TypeError("max must be an integer");if(Ve>=je)throw new RangeError("min must be smaller than max");let Xe=je-Ve,We=new Matrix$3(e,t);for(let qe=0;qe<e;qe++)for(let Ke=0;Ke<t;Ke++){let Ze=Ve+Math.round(ze()*Xe);We.set(qe,Ke,Ze)}return We}static eye(e,t,r){t===void 0&&(t=e),r===void 0&&(r=1);let Ve=Math.min(e,t),je=this.zeros(e,t);for(let ze=0;ze<Ve;ze++)je.set(ze,ze,r);return je}static diag(e,t,r){let Ve=e.length;t===void 0&&(t=Ve),r===void 0&&(r=t);let je=Math.min(Ve,t,r),ze=this.zeros(t,r);for(let Xe=0;Xe<je;Xe++)ze.set(Xe,Xe,e[Xe]);return ze}static min(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);let r=e.rows,Ve=e.columns,je=new Matrix$3(r,Ve);for(let ze=0;ze<r;ze++)for(let Xe=0;Xe<Ve;Xe++)je.set(ze,Xe,Math.min(e.get(ze,Xe),t.get(ze,Xe)));return je}static max(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);let r=e.rows,Ve=e.columns,je=new this(r,Ve);for(let ze=0;ze<r;ze++)for(let Xe=0;Xe<Ve;Xe++)je.set(ze,Xe,Math.max(e.get(ze,Xe),t.get(ze,Xe)));return je}static checkMatrix(e){return AbstractMatrix.isMatrix(e)?e:new Matrix$3(e)}static isMatrix(e){return e!=null&&e.klass==="Matrix"}get size(){return this.rows*this.columns}apply(e){if(typeof e!="function")throw new TypeError("callback must be a function");for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)e.call(this,t,r);return this}to1DArray(){let e=[];for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)e.push(this.get(t,r));return e}to2DArray(){let e=[];for(let t=0;t<this.rows;t++){e.push([]);for(let r=0;r<this.columns;r++)e[t].push(this.get(t,r))}return e}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let e=0;e<this.rows;e++)for(let t=0;t<=e;t++)if(this.get(e,t)!==this.get(t,e))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let e=0;e<this.rows;e++)if(this.get(e,e)!==0)return!1;return!0}isEchelonForm(){let e=0,t=0,r=-1,Ve=!0,je=!1;for(;e<this.rows&&Ve;){for(t=0,je=!1;t<this.columns&&je===!1;)this.get(e,t)===0?t++:this.get(e,t)===1&&t>r?(je=!0,r=t):(Ve=!1,je=!0);e++}return Ve}isReducedEchelonForm(){let e=0,t=0,r=-1,Ve=!0,je=!1;for(;e<this.rows&&Ve;){for(t=0,je=!1;t<this.columns&&je===!1;)this.get(e,t)===0?t++:this.get(e,t)===1&&t>r?(je=!0,r=t):(Ve=!1,je=!0);for(let ze=t+1;ze<this.rows;ze++)this.get(e,ze)!==0&&(Ve=!1);e++}return Ve}echelonForm(){let e=this.clone(),t=0,r=0;for(;t<e.rows&&r<e.columns;){let Ve=t;for(let je=t;je<e.rows;je++)e.get(je,r)>e.get(Ve,r)&&(Ve=je);if(e.get(Ve,r)===0)r++;else{e.swapRows(t,Ve);let je=e.get(t,r);for(let ze=r;ze<e.columns;ze++)e.set(t,ze,e.get(t,ze)/je);for(let ze=t+1;ze<e.rows;ze++){let Xe=e.get(ze,r)/e.get(t,r);e.set(ze,r,0);for(let We=r+1;We<e.columns;We++)e.set(ze,We,e.get(ze,We)-e.get(t,We)*Xe)}t++,r++}}return e}reducedEchelonForm(){let e=this.echelonForm(),t=e.columns,r=e.rows,Ve=r-1;for(;Ve>=0;)if(e.maxRow(Ve)===0)Ve--;else{let je=0,ze=!1;for(;je<r&&ze===!1;)e.get(Ve,je)===1?ze=!0:je++;for(let Xe=0;Xe<Ve;Xe++){let We=e.get(Xe,je);for(let qe=je;qe<t;qe++){let Ke=e.get(Xe,qe)-We*e.get(Ve,qe);e.set(Xe,qe,Ke)}}Ve--}return e}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(e={}){if(typeof e!="object")throw new TypeError("options must be an object");const{rows:t=1,columns:r=1}=e;if(!Number.isInteger(t)||t<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(r)||r<=0)throw new TypeError("columns must be a positive integer");let Ve=new Matrix$3(this.rows*t,this.columns*r);for(let je=0;je<t;je++)for(let ze=0;ze<r;ze++)Ve.setSubMatrix(this,this.rows*je,this.columns*ze);return Ve}fill(e){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,e);return this}neg(){return this.mulS(-1)}getRow(e){checkRowIndex(this,e);let t=[];for(let r=0;r<this.columns;r++)t.push(this.get(e,r));return t}getRowVector(e){return Matrix$3.rowVector(this.getRow(e))}setRow(e,t){checkRowIndex(this,e),t=checkRowVector(this,t);for(let r=0;r<this.columns;r++)this.set(e,r,t[r]);return this}swapRows(e,t){checkRowIndex(this,e),checkRowIndex(this,t);for(let r=0;r<this.columns;r++){let Ve=this.get(e,r);this.set(e,r,this.get(t,r)),this.set(t,r,Ve)}return this}getColumn(e){checkColumnIndex(this,e);let t=[];for(let r=0;r<this.rows;r++)t.push(this.get(r,e));return t}getColumnVector(e){return Matrix$3.columnVector(this.getColumn(e))}setColumn(e,t){checkColumnIndex(this,e),t=checkColumnVector(this,t);for(let r=0;r<this.rows;r++)this.set(r,e,t[r]);return this}swapColumns(e,t){checkColumnIndex(this,e),checkColumnIndex(this,t);for(let r=0;r<this.rows;r++){let Ve=this.get(r,e);this.set(r,e,this.get(r,t)),this.set(r,t,Ve)}return this}addRowVector(e){e=checkRowVector(this,e);for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)+e[r]);return this}subRowVector(e){e=checkRowVector(this,e);for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)-e[r]);return this}mulRowVector(e){e=checkRowVector(this,e);for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)*e[r]);return this}divRowVector(e){e=checkRowVector(this,e);for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)/e[r]);return this}addColumnVector(e){e=checkColumnVector(this,e);for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)+e[t]);return this}subColumnVector(e){e=checkColumnVector(this,e);for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)-e[t]);return this}mulColumnVector(e){e=checkColumnVector(this,e);for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)*e[t]);return this}divColumnVector(e){e=checkColumnVector(this,e);for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)/e[t]);return this}mulRow(e,t){checkRowIndex(this,e);for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t);return this}mulColumn(e,t){checkColumnIndex(this,e);for(let r=0;r<this.rows;r++)this.set(r,e,this.get(r,e)*t);return this}max(e){if(this.isEmpty())return NaN;switch(e){case"row":{const t=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.get(r,Ve)>t[r]&&(t[r]=this.get(r,Ve));return t}case"column":{const t=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.get(r,Ve)>t[Ve]&&(t[Ve]=this.get(r,Ve));return t}case void 0:{let t=this.get(0,0);for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.get(r,Ve)>t&&(t=this.get(r,Ve));return t}default:throw new Error(`invalid option: ${e}`)}}maxIndex(){checkNonEmpty(this);let e=this.get(0,0),t=[0,0];for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.get(r,Ve)>e&&(e=this.get(r,Ve),t[0]=r,t[1]=Ve);return t}min(e){if(this.isEmpty())return NaN;switch(e){case"row":{const t=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.get(r,Ve)<t[r]&&(t[r]=this.get(r,Ve));return t}case"column":{const t=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.get(r,Ve)<t[Ve]&&(t[Ve]=this.get(r,Ve));return t}case void 0:{let t=this.get(0,0);for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.get(r,Ve)<t&&(t=this.get(r,Ve));return t}default:throw new Error(`invalid option: ${e}`)}}minIndex(){checkNonEmpty(this);let e=this.get(0,0),t=[0,0];for(let r=0;r<this.rows;r++)for(let Ve=0;Ve<this.columns;Ve++)this.get(r,Ve)<e&&(e=this.get(r,Ve),t[0]=r,t[1]=Ve);return t}maxRow(e){if(checkRowIndex(this,e),this.isEmpty())return NaN;let t=this.get(e,0);for(let r=1;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r));return t}maxRowIndex(e){checkRowIndex(this,e),checkNonEmpty(this);let t=this.get(e,0),r=[e,0];for(let Ve=1;Ve<this.columns;Ve++)this.get(e,Ve)>t&&(t=this.get(e,Ve),r[1]=Ve);return r}minRow(e){if(checkRowIndex(this,e),this.isEmpty())return NaN;let t=this.get(e,0);for(let r=1;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r));return t}minRowIndex(e){checkRowIndex(this,e),checkNonEmpty(this);let t=this.get(e,0),r=[e,0];for(let Ve=1;Ve<this.columns;Ve++)this.get(e,Ve)<t&&(t=this.get(e,Ve),r[1]=Ve);return r}maxColumn(e){if(checkColumnIndex(this,e),this.isEmpty())return NaN;let t=this.get(0,e);for(let r=1;r<this.rows;r++)this.get(r,e)>t&&(t=this.get(r,e));return t}maxColumnIndex(e){checkColumnIndex(this,e),checkNonEmpty(this);let t=this.get(0,e),r=[0,e];for(let Ve=1;Ve<this.rows;Ve++)this.get(Ve,e)>t&&(t=this.get(Ve,e),r[0]=Ve);return r}minColumn(e){if(checkColumnIndex(this,e),this.isEmpty())return NaN;let t=this.get(0,e);for(let r=1;r<this.rows;r++)this.get(r,e)<t&&(t=this.get(r,e));return t}minColumnIndex(e){checkColumnIndex(this,e),checkNonEmpty(this);let t=this.get(0,e),r=[0,e];for(let Ve=1;Ve<this.rows;Ve++)this.get(Ve,e)<t&&(t=this.get(Ve,e),r[0]=Ve);return r}diag(){let e=Math.min(this.rows,this.columns),t=[];for(let r=0;r<e;r++)t.push(this.get(r,r));return t}norm(e="frobenius"){switch(e){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError(`unknown norm type: ${e}`)}}cumulativeSum(){let e=0;for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)e+=this.get(t,r),this.set(t,r,e);return this}dot(e){AbstractMatrix.isMatrix(e)&&(e=e.to1DArray());let t=this.to1DArray();if(t.length!==e.length)throw new RangeError("vectors do not have the same size");let r=0;for(let Ve=0;Ve<t.length;Ve++)r+=t[Ve]*e[Ve];return r}mmul(e){e=Matrix$3.checkMatrix(e);let t=this.rows,r=this.columns,Ve=e.columns,je=new Matrix$3(t,Ve),ze=new Float64Array(r);for(let Xe=0;Xe<Ve;Xe++){for(let We=0;We<r;We++)ze[We]=e.get(We,Xe);for(let We=0;We<t;We++){let qe=0;for(let Ke=0;Ke<r;Ke++)qe+=this.get(We,Ke)*ze[Ke];je.set(We,Xe,qe)}}return je}strassen2x2(e){e=Matrix$3.checkMatrix(e);let t=new Matrix$3(2,2);const r=this.get(0,0),Ve=e.get(0,0),je=this.get(0,1),ze=e.get(0,1),Xe=this.get(1,0),We=e.get(1,0),qe=this.get(1,1),Ke=e.get(1,1),Ze=(r+qe)*(Ve+Ke),Je=(Xe+qe)*Ve,Qe=r*(ze-Ke),ti=qe*(We-Ve),ni=(r+je)*Ke,ri=(Xe-r)*(Ve+ze),ii=(je-qe)*(We+Ke),ei=Ze+ti-ni+ii,St=Qe+ni,oi=Je+ti,si=Ze-Je+Qe+ri;return t.set(0,0,ei),t.set(0,1,St),t.set(1,0,oi),t.set(1,1,si),t}strassen3x3(e){e=Matrix$3.checkMatrix(e);let t=new Matrix$3(3,3);const r=this.get(0,0),Ve=this.get(0,1),je=this.get(0,2),ze=this.get(1,0),Xe=this.get(1,1),We=this.get(1,2),qe=this.get(2,0),Ke=this.get(2,1),Ze=this.get(2,2),Je=e.get(0,0),Qe=e.get(0,1),ti=e.get(0,2),ni=e.get(1,0),ri=e.get(1,1),ii=e.get(1,2),ei=e.get(2,0),St=e.get(2,1),oi=e.get(2,2),si=(r+Ve+je-ze-Xe-Ke-Ze)*ri,ai=(r-ze)*(-Qe+ri),ui=Xe*(-Je+Qe+ni-ri-ii-ei+oi),hi=(-r+ze+Xe)*(Je-Qe+ri),ci=(ze+Xe)*(-Je+Qe),mi=r*Je,di=(-r+qe+Ke)*(Je-ti+ii),pi=(-r+qe)*(ti-ii),yi=(qe+Ke)*(-Je+ti),gi=(r+Ve+je-Xe-We-qe-Ke)*ii,_i=Ke*(-Je+ti+ni-ri-ii-ei+St),Ai=(-je+Ke+Ze)*(ri+ei-St),ki=(je-Ze)*(ri-St),vi=je*ei,Mi=(Ke+Ze)*(-ei+St),Di=(-je+Xe+We)*(ii+ei-oi),Bi=(je-We)*(ii-oi),Pi=(Xe+We)*(-ei+oi),Fi=Ve*ni,Vi=We*St,Ti=ze*ti,ji=qe*Qe,Gi=Ze*oi,Yi=mi+vi+Fi,Xi=si+hi+ci+mi+Ai+vi+Mi,xi=mi+di+yi+gi+vi+Di+Pi,fi=ai+ui+hi+mi+vi+Di+Bi,$i=ai+hi+ci+mi+Vi,bi=vi+Di+Bi+Pi+Ti,Ci=mi+di+pi+_i+Ai+ki+vi,Ei=Ai+ki+vi+Mi+ji,Si=mi+di+pi+yi+Gi;return t.set(0,0,Yi),t.set(0,1,Xi),t.set(0,2,xi),t.set(1,0,fi),t.set(1,1,$i),t.set(1,2,bi),t.set(2,0,Ci),t.set(2,1,Ei),t.set(2,2,Si),t}mmulStrassen(e){e=Matrix$3.checkMatrix(e);let t=this.clone(),r=t.rows,Ve=t.columns,je=e.rows,ze=e.columns;Ve!==je&&console.warn(`Multiplying ${r} x ${Ve} and ${je} x ${ze} matrix: dimensions do not match.`);function Xe(Ze,Je,Qe){let ti=Ze.rows,ni=Ze.columns;if(ti===Je&&ni===Qe)return Ze;{let ri=AbstractMatrix.zeros(Je,Qe);return ri=ri.setSubMatrix(Ze,0,0),ri}}let We=Math.max(r,je),qe=Math.max(Ve,ze);t=Xe(t,We,qe),e=Xe(e,We,qe);function Ke(Ze,Je,Qe,ti){if(Qe<=512||ti<=512)return Ze.mmul(Je);Qe%2===1&&ti%2===1?(Ze=Xe(Ze,Qe+1,ti+1),Je=Xe(Je,Qe+1,ti+1)):Qe%2===1?(Ze=Xe(Ze,Qe+1,ti),Je=Xe(Je,Qe+1,ti)):ti%2===1&&(Ze=Xe(Ze,Qe,ti+1),Je=Xe(Je,Qe,ti+1));let ni=parseInt(Ze.rows/2,10),ri=parseInt(Ze.columns/2,10),ii=Ze.subMatrix(0,ni-1,0,ri-1),ei=Je.subMatrix(0,ni-1,0,ri-1),St=Ze.subMatrix(0,ni-1,ri,Ze.columns-1),oi=Je.subMatrix(0,ni-1,ri,Je.columns-1),si=Ze.subMatrix(ni,Ze.rows-1,0,ri-1),ai=Je.subMatrix(ni,Je.rows-1,0,ri-1),ui=Ze.subMatrix(ni,Ze.rows-1,ri,Ze.columns-1),hi=Je.subMatrix(ni,Je.rows-1,ri,Je.columns-1),ci=Ke(AbstractMatrix.add(ii,ui),AbstractMatrix.add(ei,hi),ni,ri),mi=Ke(AbstractMatrix.add(si,ui),ei,ni,ri),di=Ke(ii,AbstractMatrix.sub(oi,hi),ni,ri),pi=Ke(ui,AbstractMatrix.sub(ai,ei),ni,ri),yi=Ke(AbstractMatrix.add(ii,St),hi,ni,ri),gi=Ke(AbstractMatrix.sub(si,ii),AbstractMatrix.add(ei,oi),ni,ri),_i=Ke(AbstractMatrix.sub(St,ui),AbstractMatrix.add(ai,hi),ni,ri),Ai=AbstractMatrix.add(ci,pi);Ai.sub(yi),Ai.add(_i);let ki=AbstractMatrix.add(di,yi),vi=AbstractMatrix.add(mi,pi),Mi=AbstractMatrix.sub(ci,mi);Mi.add(di),Mi.add(gi);let Di=AbstractMatrix.zeros(2*Ai.rows,2*Ai.columns);return Di=Di.setSubMatrix(Ai,0,0),Di=Di.setSubMatrix(ki,Ai.rows,0),Di=Di.setSubMatrix(vi,0,Ai.columns),Di=Di.setSubMatrix(Mi,Ai.rows,Ai.columns),Di.subMatrix(0,Qe-1,0,ti-1)}return Ke(t,e,We,qe)}scaleRows(e={}){if(typeof e!="object")throw new TypeError("options must be an object");const{min:t=0,max:r=1}=e;if(!Number.isFinite(t))throw new TypeError("min must be a number");if(!Number.isFinite(r))throw new TypeError("max must be a number");if(t>=r)throw new RangeError("min must be smaller than max");let Ve=new Matrix$3(this.rows,this.columns);for(let je=0;je<this.rows;je++){const ze=this.getRow(je);ze.length>0&&rescale(ze,{min:t,max:r,output:ze}),Ve.setRow(je,ze)}return Ve}scaleColumns(e={}){if(typeof e!="object")throw new TypeError("options must be an object");const{min:t=0,max:r=1}=e;if(!Number.isFinite(t))throw new TypeError("min must be a number");if(!Number.isFinite(r))throw new TypeError("max must be a number");if(t>=r)throw new RangeError("min must be smaller than max");let Ve=new Matrix$3(this.rows,this.columns);for(let je=0;je<this.columns;je++){const ze=this.getColumn(je);ze.length&&rescale(ze,{min:t,max:r,output:ze}),Ve.setColumn(je,ze)}return Ve}flipRows(){const e=Math.ceil(this.columns/2);for(let t=0;t<this.rows;t++)for(let r=0;r<e;r++){let Ve=this.get(t,r),je=this.get(t,this.columns-1-r);this.set(t,r,je),this.set(t,this.columns-1-r,Ve)}return this}flipColumns(){const e=Math.ceil(this.rows/2);for(let t=0;t<this.columns;t++)for(let r=0;r<e;r++){let Ve=this.get(r,t),je=this.get(this.rows-1-r,t);this.set(r,t,je),this.set(this.rows-1-r,t,Ve)}return this}kroneckerProduct(e){e=Matrix$3.checkMatrix(e);let t=this.rows,r=this.columns,Ve=e.rows,je=e.columns,ze=new Matrix$3(t*Ve,r*je);for(let Xe=0;Xe<t;Xe++)for(let We=0;We<r;We++)for(let qe=0;qe<Ve;qe++)for(let Ke=0;Ke<je;Ke++)ze.set(Ve*Xe+qe,je*We+Ke,this.get(Xe,We)*e.get(qe,Ke));return ze}kroneckerSum(e){if(e=Matrix$3.checkMatrix(e),!this.isSquare()||!e.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let t=this.rows,r=e.rows,Ve=this.kroneckerProduct(Matrix$3.eye(r,r)),je=Matrix$3.eye(t,t).kroneckerProduct(e);return Ve.add(je)}transpose(){let e=new Matrix$3(this.columns,this.rows);for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)e.set(r,t,this.get(t,r));return e}sortRows(e=compareNumbers){for(let t=0;t<this.rows;t++)this.setRow(t,this.getRow(t).sort(e));return this}sortColumns(e=compareNumbers){for(let t=0;t<this.columns;t++)this.setColumn(t,this.getColumn(t).sort(e));return this}subMatrix(e,t,r,Ve){checkRange(this,e,t,r,Ve);let je=new Matrix$3(t-e+1,Ve-r+1);for(let ze=e;ze<=t;ze++)for(let Xe=r;Xe<=Ve;Xe++)je.set(ze-e,Xe-r,this.get(ze,Xe));return je}subMatrixRow(e,t,r){if(t===void 0&&(t=0),r===void 0&&(r=this.columns-1),t>r||t<0||t>=this.columns||r<0||r>=this.columns)throw new RangeError("Argument out of range");let Ve=new Matrix$3(e.length,r-t+1);for(let je=0;je<e.length;je++)for(let ze=t;ze<=r;ze++){if(e[je]<0||e[je]>=this.rows)throw new RangeError(`Row index out of range: ${e[je]}`);Ve.set(je,ze-t,this.get(e[je],ze))}return Ve}subMatrixColumn(e,t,r){if(t===void 0&&(t=0),r===void 0&&(r=this.rows-1),t>r||t<0||t>=this.rows||r<0||r>=this.rows)throw new RangeError("Argument out of range");let Ve=new Matrix$3(r-t+1,e.length);for(let je=0;je<e.length;je++)for(let ze=t;ze<=r;ze++){if(e[je]<0||e[je]>=this.columns)throw new RangeError(`Column index out of range: ${e[je]}`);Ve.set(ze-t,je,this.get(ze,e[je]))}return Ve}setSubMatrix(e,t,r){if(e=Matrix$3.checkMatrix(e),e.isEmpty())return this;let Ve=t+e.rows-1,je=r+e.columns-1;checkRange(this,t,Ve,r,je);for(let ze=0;ze<e.rows;ze++)for(let Xe=0;Xe<e.columns;Xe++)this.set(t+ze,r+Xe,e.get(ze,Xe));return this}selection(e,t){checkRowIndices(this,e),checkColumnIndices(this,t);let r=new Matrix$3(e.length,t.length);for(let Ve=0;Ve<e.length;Ve++){let je=e[Ve];for(let ze=0;ze<t.length;ze++){let Xe=t[ze];r.set(Ve,ze,this.get(je,Xe))}}return r}trace(){let e=Math.min(this.rows,this.columns),t=0;for(let r=0;r<e;r++)t+=this.get(r,r);return t}clone(){return this.constructor.copy(this,new Matrix$3(this.rows,this.columns))}static copy(e,t){for(const[r,Ve,je]of e.entries())t.set(r,Ve,je);return t}sum(e){switch(e){case"row":return sumByRow(this);case"column":return sumByColumn(this);case void 0:return sumAll(this);default:throw new Error(`invalid option: ${e}`)}}product(e){switch(e){case"row":return productByRow(this);case"column":return productByColumn(this);case void 0:return productAll(this);default:throw new Error(`invalid option: ${e}`)}}mean(e){const t=this.sum(e);switch(e){case"row":{for(let r=0;r<this.rows;r++)t[r]/=this.columns;return t}case"column":{for(let r=0;r<this.columns;r++)t[r]/=this.rows;return t}case void 0:return t/this.size;default:throw new Error(`invalid option: ${e}`)}}variance(e,t={}){if(typeof e=="object"&&(t=e,e=void 0),typeof t!="object")throw new TypeError("options must be an object");const{unbiased:r=!0,mean:Ve=this.mean(e)}=t;if(typeof r!="boolean")throw new TypeError("unbiased must be a boolean");switch(e){case"row":{if(!isAnyArray.isAnyArray(Ve))throw new TypeError("mean must be an array");return varianceByRow(this,r,Ve)}case"column":{if(!isAnyArray.isAnyArray(Ve))throw new TypeError("mean must be an array");return varianceByColumn(this,r,Ve)}case void 0:{if(typeof Ve!="number")throw new TypeError("mean must be a number");return varianceAll(this,r,Ve)}default:throw new Error(`invalid option: ${e}`)}}standardDeviation(e,t){typeof e=="object"&&(t=e,e=void 0);const r=this.variance(e,t);if(e===void 0)return Math.sqrt(r);for(let Ve=0;Ve<r.length;Ve++)r[Ve]=Math.sqrt(r[Ve]);return r}center(e,t={}){if(typeof e=="object"&&(t=e,e=void 0),typeof t!="object")throw new TypeError("options must be an object");const{center:r=this.mean(e)}=t;switch(e){case"row":{if(!isAnyArray.isAnyArray(r))throw new TypeError("center must be an array");return centerByRow(this,r),this}case"column":{if(!isAnyArray.isAnyArray(r))throw new TypeError("center must be an array");return centerByColumn(this,r),this}case void 0:{if(typeof r!="number")throw new TypeError("center must be a number");return centerAll(this,r),this}default:throw new Error(`invalid option: ${e}`)}}scale(e,t={}){if(typeof e=="object"&&(t=e,e=void 0),typeof t!="object")throw new TypeError("options must be an object");let r=t.scale;switch(e){case"row":{if(r===void 0)r=getScaleByRow(this);else if(!isAnyArray.isAnyArray(r))throw new TypeError("scale must be an array");return scaleByRow(this,r),this}case"column":{if(r===void 0)r=getScaleByColumn(this);else if(!isAnyArray.isAnyArray(r))throw new TypeError("scale must be an array");return scaleByColumn(this,r),this}case void 0:{if(r===void 0)r=getScaleAll(this);else if(typeof r!="number")throw new TypeError("scale must be a number");return scaleAll(this,r),this}default:throw new Error(`invalid option: ${e}`)}}toString(e){return inspectMatrixWithOptions(this,e)}[Symbol.iterator](){return this.entries()}*entries(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)yield[e,t,this.get(e,t)]}*values(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)yield this.get(e,t)}}AbstractMatrix.prototype.klass="Matrix";typeof Symbol<"u"&&(AbstractMatrix.prototype[Symbol.for("nodejs.util.inspect.custom")]=inspectMatrix);function compareNumbers($e,e){return $e-e}function isArrayOfNumbers($e){return $e.every(e=>typeof e=="number")}AbstractMatrix.random=AbstractMatrix.rand;AbstractMatrix.randomInt=AbstractMatrix.randInt;AbstractMatrix.diagonal=AbstractMatrix.diag;AbstractMatrix.prototype.diagonal=AbstractMatrix.prototype.diag;AbstractMatrix.identity=AbstractMatrix.eye;AbstractMatrix.prototype.negate=AbstractMatrix.prototype.neg;AbstractMatrix.prototype.tensorProduct=AbstractMatrix.prototype.kroneckerProduct;var xe,Ue,fe$1;let Matrix$3=(fe$1=class extends AbstractMatrix{constructor($e,e){if(super(),Le$1(this,xe),D$1(this,"data"),fe$1.isMatrix($e))Be(this,xe,Ue).call(this,$e.rows,$e.columns),fe$1.copy($e,this);else if(Number.isInteger($e)&&$e>=0)Be(this,xe,Ue).call(this,$e,e);else if(isAnyArray.isAnyArray($e)){const t=$e;if($e=t.length,e=$e?t[0].length:0,typeof e!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let r=0;r<$e;r++){if(t[r].length!==e)throw new RangeError("Inconsistent array dimensions");if(!isArrayOfNumbers(t[r]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(t[r]))}this.rows=$e,this.columns=e}else throw new TypeError("First argument must be a positive number or an array")}set($e,e,t){return this.data[$e][e]=t,this}get($e,e){return this.data[$e][e]}removeRow($e){return checkRowIndex(this,$e),this.data.splice($e,1),this.rows-=1,this}addRow($e,e){return e===void 0&&(e=$e,$e=this.rows),checkRowIndex(this,$e,!0),e=Float64Array.from(checkRowVector(this,e)),this.data.splice($e,0,e),this.rows+=1,this}removeColumn($e){checkColumnIndex(this,$e);for(let e=0;e<this.rows;e++){const t=new Float64Array(this.columns-1);for(let r=0;r<$e;r++)t[r]=this.data[e][r];for(let r=$e+1;r<this.columns;r++)t[r-1]=this.data[e][r];this.data[e]=t}return this.columns-=1,this}addColumn($e,e){typeof e>"u"&&(e=$e,$e=this.columns),checkColumnIndex(this,$e,!0),e=checkColumnVector(this,e);for(let t=0;t<this.rows;t++){const r=new Float64Array(this.columns+1);let Ve=0;for(;Ve<$e;Ve++)r[Ve]=this.data[t][Ve];for(r[Ve++]=e[t];Ve<this.columns+1;Ve++)r[Ve]=this.data[t][Ve-1];this.data[t]=r}return this.columns+=1,this}},xe=new WeakSet,Ue=function($e,e){if(this.data=[],Number.isInteger(e)&&e>=0)for(let t=0;t<$e;t++)this.data.push(new Float64Array(e));else throw new TypeError("nColumns must be a positive integer");this.rows=$e,this.columns=e},fe$1);installMathOperations(AbstractMatrix,Matrix$3);var Ht$1;const ve$1=class xu extends AbstractMatrix{constructor(e){if(super(),Le$1(this,Ht$1,void 0),Matrix$3.isMatrix(e)){if(!e.isSymmetric())throw new TypeError("not symmetric data");we$1(this,Ht$1,Matrix$3.copy(e,new Matrix$3(e.rows,e.rows)))}else if(Number.isInteger(e)&&e>=0)we$1(this,Ht$1,new Matrix$3(e,e));else if(we$1(this,Ht$1,new Matrix$3(e)),!this.isSymmetric())throw new TypeError("not symmetric data")}get size(){return Wt$1(this,Ht$1).size}get rows(){return Wt$1(this,Ht$1).rows}get columns(){return Wt$1(this,Ht$1).columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(e){return Matrix$3.isMatrix(e)&&e.klassType==="SymmetricMatrix"}static zeros(e){return new this(e)}static ones(e){return new this(e).fill(1)}clone(){const e=new xu(this.diagonalSize);for(const[t,r,Ve]of this.upperRightEntries())e.set(t,r,Ve);return e}toMatrix(){return new Matrix$3(this)}get(e,t){return Wt$1(this,Ht$1).get(e,t)}set(e,t,r){return Wt$1(this,Ht$1).set(e,t,r),Wt$1(this,Ht$1).set(t,e,r),this}removeCross(e){return Wt$1(this,Ht$1).removeRow(e),Wt$1(this,Ht$1).removeColumn(e),this}addCross(e,t){t===void 0&&(t=e,e=this.diagonalSize);const r=t.slice();return r.splice(e,1),Wt$1(this,Ht$1).addRow(e,r),Wt$1(this,Ht$1).addColumn(e,t),this}applyMask(e){if(e.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");const t=[];for(const[r,Ve]of e.entries())Ve||t.push(r);t.reverse();for(const r of t)this.removeCross(r);return this}toCompact(){const{diagonalSize:e}=this,t=new Array(e*(e+1)/2);for(let r=0,Ve=0,je=0;je<t.length;je++)t[je]=this.get(Ve,r),++r>=e&&(r=++Ve);return t}static fromCompact(e){const t=e.length,r=(Math.sqrt(8*t+1)-1)/2;if(!Number.isInteger(r))throw new TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(e)}`);const Ve=new xu(r);for(let je=0,ze=0,Xe=0;Xe<t;Xe++)Ve.set(je,ze,e[Xe]),++je>=r&&(je=++ze);return Ve}*upperRightEntries(){for(let e=0,t=0;e<this.diagonalSize;void 0){const r=this.get(e,t);yield[e,t,r],++t>=this.diagonalSize&&(t=++e)}}*upperRightValues(){for(let e=0,t=0;e<this.diagonalSize;void 0)yield this.get(e,t),++t>=this.diagonalSize&&(t=++e)}};Ht$1=new WeakMap;let SymmetricMatrix=ve$1;SymmetricMatrix.prototype.klassType="SymmetricMatrix";class DistanceMatrix extends SymmetricMatrix{static isDistanceMatrix(e){return SymmetricMatrix.isSymmetricMatrix(e)&&e.klassSubType==="DistanceMatrix"}constructor(e){if(super(e),!this.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix")}set(e,t,r){return e===t&&(r=0),super.set(e,t,r)}addCross(e,t){return t===void 0&&(t=e,e=this.diagonalSize),t=t.slice(),t[e]=0,super.addCross(e,t)}toSymmetricMatrix(){return new SymmetricMatrix(this)}clone(){const e=new DistanceMatrix(this.diagonalSize);for(const[t,r,Ve]of this.upperRightEntries())t!==r&&e.set(t,r,Ve);return e}toCompact(){const{diagonalSize:e}=this,t=(e-1)*e/2,r=new Array(t);for(let Ve=1,je=0,ze=0;ze<r.length;ze++)r[ze]=this.get(je,Ve),++Ve>=e&&(Ve=++je+1);return r}static fromCompact(e){const t=e.length,r=(Math.sqrt(8*t+1)+1)/2;if(!Number.isInteger(r))throw new TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(e)}`);const Ve=new this(r);for(let je=1,ze=0,Xe=0;Xe<t;Xe++)Ve.set(je,ze,e[Xe]),++je>=r&&(je=++ze+1);return Ve}}DistanceMatrix.prototype.klassSubType="DistanceMatrix";class BaseView extends AbstractMatrix{constructor(e,t,r){super(),this.matrix=e,this.rows=t,this.columns=r}}class MatrixColumnView extends BaseView{constructor(e,t){checkColumnIndex(e,t),super(e,e.rows,1),this.column=t}set(e,t,r){return this.matrix.set(e,this.column,r),this}get(e){return this.matrix.get(e,this.column)}}class MatrixColumnSelectionView extends BaseView{constructor(e,t){checkColumnIndices(e,t),super(e,e.rows,t.length),this.columnIndices=t}set(e,t,r){return this.matrix.set(e,this.columnIndices[t],r),this}get(e,t){return this.matrix.get(e,this.columnIndices[t])}}class MatrixFlipColumnView extends BaseView{constructor(e){super(e,e.rows,e.columns)}set(e,t,r){return this.matrix.set(e,this.columns-t-1,r),this}get(e,t){return this.matrix.get(e,this.columns-t-1)}}class MatrixFlipRowView extends BaseView{constructor(e){super(e,e.rows,e.columns)}set(e,t,r){return this.matrix.set(this.rows-e-1,t,r),this}get(e,t){return this.matrix.get(this.rows-e-1,t)}}class MatrixRowView extends BaseView{constructor(e,t){checkRowIndex(e,t),super(e,1,e.columns),this.row=t}set(e,t,r){return this.matrix.set(this.row,t,r),this}get(e,t){return this.matrix.get(this.row,t)}}class MatrixRowSelectionView extends BaseView{constructor(e,t){checkRowIndices(e,t),super(e,t.length,e.columns),this.rowIndices=t}set(e,t,r){return this.matrix.set(this.rowIndices[e],t,r),this}get(e,t){return this.matrix.get(this.rowIndices[e],t)}}class MatrixSelectionView extends BaseView{constructor(e,t,r){checkRowIndices(e,t),checkColumnIndices(e,r),super(e,t.length,r.length),this.rowIndices=t,this.columnIndices=r}set(e,t,r){return this.matrix.set(this.rowIndices[e],this.columnIndices[t],r),this}get(e,t){return this.matrix.get(this.rowIndices[e],this.columnIndices[t])}}class MatrixSubView extends BaseView{constructor(e,t,r,Ve,je){checkRange(e,t,r,Ve,je),super(e,r-t+1,je-Ve+1),this.startRow=t,this.startColumn=Ve}set(e,t,r){return this.matrix.set(this.startRow+e,this.startColumn+t,r),this}get(e,t){return this.matrix.get(this.startRow+e,this.startColumn+t)}}let MatrixTransposeView$1=class extends BaseView{constructor($e){super($e,$e.columns,$e.rows)}set($e,e,t){return this.matrix.set(e,$e,t),this}get($e,e){return this.matrix.get(e,$e)}};class WrapperMatrix1D extends AbstractMatrix{constructor(e,t={}){const{rows:r=1}=t;if(e.length%r!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=r,this.columns=e.length/r,this.data=e}set(e,t,r){let Ve=this._calculateIndex(e,t);return this.data[Ve]=r,this}get(e,t){let r=this._calculateIndex(e,t);return this.data[r]}_calculateIndex(e,t){return e*this.columns+t}}class WrapperMatrix2D extends AbstractMatrix{constructor(e){super(),this.data=e,this.rows=e.length,this.columns=e[0].length}set(e,t,r){return this.data[e][t]=r,this}get(e,t){return this.data[e][t]}}function wrap($e,e){if(isAnyArray.isAnyArray($e))return $e[0]&&isAnyArray.isAnyArray($e[0])?new WrapperMatrix2D($e):new WrapperMatrix1D($e,e);throw new Error("the argument is not an array")}class LuDecomposition{constructor(e){e=WrapperMatrix2D.checkMatrix(e);let t=e.clone(),r=t.rows,Ve=t.columns,je=new Float64Array(r),ze=1,Xe,We,qe,Ke,Ze,Je,Qe,ti,ni;for(Xe=0;Xe<r;Xe++)je[Xe]=Xe;for(ti=new Float64Array(r),We=0;We<Ve;We++){for(Xe=0;Xe<r;Xe++)ti[Xe]=t.get(Xe,We);for(Xe=0;Xe<r;Xe++){for(ni=Math.min(Xe,We),Ze=0,qe=0;qe<ni;qe++)Ze+=t.get(Xe,qe)*ti[qe];ti[Xe]-=Ze,t.set(Xe,We,ti[Xe])}for(Ke=We,Xe=We+1;Xe<r;Xe++)Math.abs(ti[Xe])>Math.abs(ti[Ke])&&(Ke=Xe);if(Ke!==We){for(qe=0;qe<Ve;qe++)Je=t.get(Ke,qe),t.set(Ke,qe,t.get(We,qe)),t.set(We,qe,Je);Qe=je[Ke],je[Ke]=je[We],je[We]=Qe,ze=-ze}if(We<r&&t.get(We,We)!==0)for(Xe=We+1;Xe<r;Xe++)t.set(Xe,We,t.get(Xe,We)/t.get(We,We))}this.LU=t,this.pivotVector=je,this.pivotSign=ze}isSingular(){let e=this.LU,t=e.columns;for(let r=0;r<t;r++)if(e.get(r,r)===0)return!0;return!1}solve(e){e=Matrix$3.checkMatrix(e);let t=this.LU;if(t.rows!==e.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let r=e.columns,Ve=e.subMatrixRow(this.pivotVector,0,r-1),je=t.columns,ze,Xe,We;for(We=0;We<je;We++)for(ze=We+1;ze<je;ze++)for(Xe=0;Xe<r;Xe++)Ve.set(ze,Xe,Ve.get(ze,Xe)-Ve.get(We,Xe)*t.get(ze,We));for(We=je-1;We>=0;We--){for(Xe=0;Xe<r;Xe++)Ve.set(We,Xe,Ve.get(We,Xe)/t.get(We,We));for(ze=0;ze<We;ze++)for(Xe=0;Xe<r;Xe++)Ve.set(ze,Xe,Ve.get(ze,Xe)-Ve.get(We,Xe)*t.get(ze,We))}return Ve}get determinant(){let e=this.LU;if(!e.isSquare())throw new Error("Matrix must be square");let t=this.pivotSign,r=e.columns;for(let Ve=0;Ve<r;Ve++)t*=e.get(Ve,Ve);return t}get lowerTriangularMatrix(){let e=this.LU,t=e.rows,r=e.columns,Ve=new Matrix$3(t,r);for(let je=0;je<t;je++)for(let ze=0;ze<r;ze++)je>ze?Ve.set(je,ze,e.get(je,ze)):je===ze?Ve.set(je,ze,1):Ve.set(je,ze,0);return Ve}get upperTriangularMatrix(){let e=this.LU,t=e.rows,r=e.columns,Ve=new Matrix$3(t,r);for(let je=0;je<t;je++)for(let ze=0;ze<r;ze++)je<=ze?Ve.set(je,ze,e.get(je,ze)):Ve.set(je,ze,0);return Ve}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function hypotenuse$1($e,e){let t=0;return Math.abs($e)>Math.abs(e)?(t=e/$e,Math.abs($e)*Math.sqrt(1+t*t)):e!==0?(t=$e/e,Math.abs(e)*Math.sqrt(1+t*t)):0}class QrDecomposition{constructor(e){e=WrapperMatrix2D.checkMatrix(e);let t=e.clone(),r=e.rows,Ve=e.columns,je=new Float64Array(Ve),ze,Xe,We,qe;for(We=0;We<Ve;We++){let Ke=0;for(ze=We;ze<r;ze++)Ke=hypotenuse$1(Ke,t.get(ze,We));if(Ke!==0){for(t.get(We,We)<0&&(Ke=-Ke),ze=We;ze<r;ze++)t.set(ze,We,t.get(ze,We)/Ke);for(t.set(We,We,t.get(We,We)+1),Xe=We+1;Xe<Ve;Xe++){for(qe=0,ze=We;ze<r;ze++)qe+=t.get(ze,We)*t.get(ze,Xe);for(qe=-qe/t.get(We,We),ze=We;ze<r;ze++)t.set(ze,Xe,t.get(ze,Xe)+qe*t.get(ze,We))}}je[We]=-Ke}this.QR=t,this.Rdiag=je}solve(e){e=Matrix$3.checkMatrix(e);let t=this.QR,r=t.rows;if(e.rows!==r)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let Ve=e.columns,je=e.clone(),ze=t.columns,Xe,We,qe,Ke;for(qe=0;qe<ze;qe++)for(We=0;We<Ve;We++){for(Ke=0,Xe=qe;Xe<r;Xe++)Ke+=t.get(Xe,qe)*je.get(Xe,We);for(Ke=-Ke/t.get(qe,qe),Xe=qe;Xe<r;Xe++)je.set(Xe,We,je.get(Xe,We)+Ke*t.get(Xe,qe))}for(qe=ze-1;qe>=0;qe--){for(We=0;We<Ve;We++)je.set(qe,We,je.get(qe,We)/this.Rdiag[qe]);for(Xe=0;Xe<qe;Xe++)for(We=0;We<Ve;We++)je.set(Xe,We,je.get(Xe,We)-je.get(qe,We)*t.get(Xe,qe))}return je.subMatrix(0,ze-1,0,Ve-1)}isFullRank(){let e=this.QR.columns;for(let t=0;t<e;t++)if(this.Rdiag[t]===0)return!1;return!0}get upperTriangularMatrix(){let e=this.QR,t=e.columns,r=new Matrix$3(t,t),Ve,je;for(Ve=0;Ve<t;Ve++)for(je=0;je<t;je++)Ve<je?r.set(Ve,je,e.get(Ve,je)):Ve===je?r.set(Ve,je,this.Rdiag[Ve]):r.set(Ve,je,0);return r}get orthogonalMatrix(){let e=this.QR,t=e.rows,r=e.columns,Ve=new Matrix$3(t,r),je,ze,Xe,We;for(Xe=r-1;Xe>=0;Xe--){for(je=0;je<t;je++)Ve.set(je,Xe,0);for(Ve.set(Xe,Xe,1),ze=Xe;ze<r;ze++)if(e.get(Xe,Xe)!==0){for(We=0,je=Xe;je<t;je++)We+=e.get(je,Xe)*Ve.get(je,ze);for(We=-We/e.get(Xe,Xe),je=Xe;je<t;je++)Ve.set(je,ze,Ve.get(je,ze)+We*e.get(je,Xe))}}return Ve}}let SingularValueDecomposition$1=class{constructor($e,e={}){if($e=WrapperMatrix2D.checkMatrix($e),$e.isEmpty())throw new Error("Matrix must be non-empty");let t=$e.rows,r=$e.columns;const{computeLeftSingularVectors:Ve=!0,computeRightSingularVectors:je=!0,autoTranspose:ze=!1}=e;let Xe=!!Ve,We=!!je,qe=!1,Ke;if(t<r)if(!ze)Ke=$e.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{Ke=$e.transpose(),t=Ke.rows,r=Ke.columns,qe=!0;let ci=Xe;Xe=We,We=ci}else Ke=$e.clone();let Ze=Math.min(t,r),Je=Math.min(t+1,r),Qe=new Float64Array(Je),ti=new Matrix$3(t,Ze),ni=new Matrix$3(r,r),ri=new Float64Array(r),ii=new Float64Array(t),ei=new Float64Array(Je);for(let ci=0;ci<Je;ci++)ei[ci]=ci;let St=Math.min(t-1,r),oi=Math.max(0,Math.min(r-2,t)),si=Math.max(St,oi);for(let ci=0;ci<si;ci++){if(ci<St){Qe[ci]=0;for(let mi=ci;mi<t;mi++)Qe[ci]=hypotenuse$1(Qe[ci],Ke.get(mi,ci));if(Qe[ci]!==0){Ke.get(ci,ci)<0&&(Qe[ci]=-Qe[ci]);for(let mi=ci;mi<t;mi++)Ke.set(mi,ci,Ke.get(mi,ci)/Qe[ci]);Ke.set(ci,ci,Ke.get(ci,ci)+1)}Qe[ci]=-Qe[ci]}for(let mi=ci+1;mi<r;mi++){if(ci<St&&Qe[ci]!==0){let di=0;for(let pi=ci;pi<t;pi++)di+=Ke.get(pi,ci)*Ke.get(pi,mi);di=-di/Ke.get(ci,ci);for(let pi=ci;pi<t;pi++)Ke.set(pi,mi,Ke.get(pi,mi)+di*Ke.get(pi,ci))}ri[mi]=Ke.get(ci,mi)}if(Xe&&ci<St)for(let mi=ci;mi<t;mi++)ti.set(mi,ci,Ke.get(mi,ci));if(ci<oi){ri[ci]=0;for(let mi=ci+1;mi<r;mi++)ri[ci]=hypotenuse$1(ri[ci],ri[mi]);if(ri[ci]!==0){ri[ci+1]<0&&(ri[ci]=0-ri[ci]);for(let mi=ci+1;mi<r;mi++)ri[mi]/=ri[ci];ri[ci+1]+=1}if(ri[ci]=-ri[ci],ci+1<t&&ri[ci]!==0){for(let mi=ci+1;mi<t;mi++)ii[mi]=0;for(let mi=ci+1;mi<t;mi++)for(let di=ci+1;di<r;di++)ii[mi]+=ri[di]*Ke.get(mi,di);for(let mi=ci+1;mi<r;mi++){let di=-ri[mi]/ri[ci+1];for(let pi=ci+1;pi<t;pi++)Ke.set(pi,mi,Ke.get(pi,mi)+di*ii[pi])}}if(We)for(let mi=ci+1;mi<r;mi++)ni.set(mi,ci,ri[mi])}}let ai=Math.min(r,t+1);if(St<r&&(Qe[St]=Ke.get(St,St)),t<ai&&(Qe[ai-1]=0),oi+1<ai&&(ri[oi]=Ke.get(oi,ai-1)),ri[ai-1]=0,Xe){for(let ci=St;ci<Ze;ci++){for(let mi=0;mi<t;mi++)ti.set(mi,ci,0);ti.set(ci,ci,1)}for(let ci=St-1;ci>=0;ci--)if(Qe[ci]!==0){for(let mi=ci+1;mi<Ze;mi++){let di=0;for(let pi=ci;pi<t;pi++)di+=ti.get(pi,ci)*ti.get(pi,mi);di=-di/ti.get(ci,ci);for(let pi=ci;pi<t;pi++)ti.set(pi,mi,ti.get(pi,mi)+di*ti.get(pi,ci))}for(let mi=ci;mi<t;mi++)ti.set(mi,ci,-ti.get(mi,ci));ti.set(ci,ci,1+ti.get(ci,ci));for(let mi=0;mi<ci-1;mi++)ti.set(mi,ci,0)}else{for(let mi=0;mi<t;mi++)ti.set(mi,ci,0);ti.set(ci,ci,1)}}if(We)for(let ci=r-1;ci>=0;ci--){if(ci<oi&&ri[ci]!==0)for(let mi=ci+1;mi<r;mi++){let di=0;for(let pi=ci+1;pi<r;pi++)di+=ni.get(pi,ci)*ni.get(pi,mi);di=-di/ni.get(ci+1,ci);for(let pi=ci+1;pi<r;pi++)ni.set(pi,mi,ni.get(pi,mi)+di*ni.get(pi,ci))}for(let mi=0;mi<r;mi++)ni.set(mi,ci,0);ni.set(ci,ci,1)}let ui=ai-1,hi=Number.EPSILON;for(;ai>0;){let ci,mi;for(ci=ai-2;ci>=-1&&ci!==-1;ci--){const di=Number.MIN_VALUE+hi*Math.abs(Qe[ci]+Math.abs(Qe[ci+1]));if(Math.abs(ri[ci])<=di||Number.isNaN(ri[ci])){ri[ci]=0;break}}if(ci===ai-2)mi=4;else{let di;for(di=ai-1;di>=ci&&di!==ci;di--){let pi=(di!==ai?Math.abs(ri[di]):0)+(di!==ci+1?Math.abs(ri[di-1]):0);if(Math.abs(Qe[di])<=hi*pi){Qe[di]=0;break}}di===ci?mi=3:di===ai-1?mi=1:(mi=2,ci=di)}switch(ci++,mi){case 1:{let di=ri[ai-2];ri[ai-2]=0;for(let pi=ai-2;pi>=ci;pi--){let yi=hypotenuse$1(Qe[pi],di),gi=Qe[pi]/yi,_i=di/yi;if(Qe[pi]=yi,pi!==ci&&(di=-_i*ri[pi-1],ri[pi-1]=gi*ri[pi-1]),We)for(let Ai=0;Ai<r;Ai++)yi=gi*ni.get(Ai,pi)+_i*ni.get(Ai,ai-1),ni.set(Ai,ai-1,-_i*ni.get(Ai,pi)+gi*ni.get(Ai,ai-1)),ni.set(Ai,pi,yi)}break}case 2:{let di=ri[ci-1];ri[ci-1]=0;for(let pi=ci;pi<ai;pi++){let yi=hypotenuse$1(Qe[pi],di),gi=Qe[pi]/yi,_i=di/yi;if(Qe[pi]=yi,di=-_i*ri[pi],ri[pi]=gi*ri[pi],Xe)for(let Ai=0;Ai<t;Ai++)yi=gi*ti.get(Ai,pi)+_i*ti.get(Ai,ci-1),ti.set(Ai,ci-1,-_i*ti.get(Ai,pi)+gi*ti.get(Ai,ci-1)),ti.set(Ai,pi,yi)}break}case 3:{const di=Math.max(Math.abs(Qe[ai-1]),Math.abs(Qe[ai-2]),Math.abs(ri[ai-2]),Math.abs(Qe[ci]),Math.abs(ri[ci])),pi=Qe[ai-1]/di,yi=Qe[ai-2]/di,gi=ri[ai-2]/di,_i=Qe[ci]/di,Ai=ri[ci]/di,ki=((yi+pi)*(yi-pi)+gi*gi)/2,vi=pi*gi*(pi*gi);let Mi=0;(ki!==0||vi!==0)&&(ki<0?Mi=0-Math.sqrt(ki*ki+vi):Mi=Math.sqrt(ki*ki+vi),Mi=vi/(ki+Mi));let Di=(_i+pi)*(_i-pi)+Mi,Bi=_i*Ai;for(let Pi=ci;Pi<ai-1;Pi++){let Fi=hypotenuse$1(Di,Bi);Fi===0&&(Fi=Number.MIN_VALUE);let Vi=Di/Fi,Ti=Bi/Fi;if(Pi!==ci&&(ri[Pi-1]=Fi),Di=Vi*Qe[Pi]+Ti*ri[Pi],ri[Pi]=Vi*ri[Pi]-Ti*Qe[Pi],Bi=Ti*Qe[Pi+1],Qe[Pi+1]=Vi*Qe[Pi+1],We)for(let ji=0;ji<r;ji++)Fi=Vi*ni.get(ji,Pi)+Ti*ni.get(ji,Pi+1),ni.set(ji,Pi+1,-Ti*ni.get(ji,Pi)+Vi*ni.get(ji,Pi+1)),ni.set(ji,Pi,Fi);if(Fi=hypotenuse$1(Di,Bi),Fi===0&&(Fi=Number.MIN_VALUE),Vi=Di/Fi,Ti=Bi/Fi,Qe[Pi]=Fi,Di=Vi*ri[Pi]+Ti*Qe[Pi+1],Qe[Pi+1]=-Ti*ri[Pi]+Vi*Qe[Pi+1],Bi=Ti*ri[Pi+1],ri[Pi+1]=Vi*ri[Pi+1],Xe&&Pi<t-1)for(let ji=0;ji<t;ji++)Fi=Vi*ti.get(ji,Pi)+Ti*ti.get(ji,Pi+1),ti.set(ji,Pi+1,-Ti*ti.get(ji,Pi)+Vi*ti.get(ji,Pi+1)),ti.set(ji,Pi,Fi)}ri[ai-2]=Di;break}case 4:{if(Qe[ci]<=0&&(Qe[ci]=Qe[ci]<0?-Qe[ci]:0,We))for(let di=0;di<=ui;di++)ni.set(di,ci,-ni.get(di,ci));for(;ci<ui&&!(Qe[ci]>=Qe[ci+1]);){let di=Qe[ci];if(Qe[ci]=Qe[ci+1],Qe[ci+1]=di,We&&ci<r-1)for(let pi=0;pi<r;pi++)di=ni.get(pi,ci+1),ni.set(pi,ci+1,ni.get(pi,ci)),ni.set(pi,ci,di);if(Xe&&ci<t-1)for(let pi=0;pi<t;pi++)di=ti.get(pi,ci+1),ti.set(pi,ci+1,ti.get(pi,ci)),ti.set(pi,ci,di);ci++}ai--;break}}}if(qe){let ci=ni;ni=ti,ti=ci}this.m=t,this.n=r,this.s=Qe,this.U=ti,this.V=ni}solve($e){let e=$e,t=this.threshold,r=this.s.length,Ve=Matrix$3.zeros(r,r);for(let Ze=0;Ze<r;Ze++)Math.abs(this.s[Ze])<=t?Ve.set(Ze,Ze,0):Ve.set(Ze,Ze,1/this.s[Ze]);let je=this.U,ze=this.rightSingularVectors,Xe=ze.mmul(Ve),We=ze.rows,qe=je.rows,Ke=Matrix$3.zeros(We,qe);for(let Ze=0;Ze<We;Ze++)for(let Je=0;Je<qe;Je++){let Qe=0;for(let ti=0;ti<r;ti++)Qe+=Xe.get(Ze,ti)*je.get(Je,ti);Ke.set(Ze,Je,Qe)}return Ke.mmul(e)}solveForDiagonal($e){return this.solve(Matrix$3.diag($e))}inverse(){let $e=this.V,e=this.threshold,t=$e.rows,r=$e.columns,Ve=new Matrix$3(t,this.s.length);for(let qe=0;qe<t;qe++)for(let Ke=0;Ke<r;Ke++)Math.abs(this.s[Ke])>e&&Ve.set(qe,Ke,$e.get(qe,Ke)/this.s[Ke]);let je=this.U,ze=je.rows,Xe=je.columns,We=new Matrix$3(t,ze);for(let qe=0;qe<t;qe++)for(let Ke=0;Ke<ze;Ke++){let Ze=0;for(let Je=0;Je<Xe;Je++)Ze+=Ve.get(qe,Je)*je.get(Ke,Je);We.set(qe,Ke,Ze)}return We}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let $e=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,t=this.s;for(let r=0,Ve=t.length;r<Ve;r++)t[r]>$e&&e++;return e}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return Matrix$3.diag(this.s)}};function inverse$1($e,e=!1){return $e=WrapperMatrix2D.checkMatrix($e),e?new SingularValueDecomposition$1($e).inverse():solve$1($e,Matrix$3.eye($e.rows))}function solve$1($e,e,t=!1){return $e=WrapperMatrix2D.checkMatrix($e),e=WrapperMatrix2D.checkMatrix(e),t?new SingularValueDecomposition$1($e).solve(e):$e.isSquare()?new LuDecomposition($e).solve(e):new QrDecomposition($e).solve(e)}function determinant($e){if($e=Matrix$3.checkMatrix($e),$e.isSquare()){if($e.columns===0)return 1;let e,t,r,Ve;if($e.columns===2)return e=$e.get(0,0),t=$e.get(0,1),r=$e.get(1,0),Ve=$e.get(1,1),e*Ve-t*r;if($e.columns===3){let je,ze,Xe;return je=new MatrixSelectionView($e,[1,2],[1,2]),ze=new MatrixSelectionView($e,[1,2],[0,2]),Xe=new MatrixSelectionView($e,[1,2],[0,1]),e=$e.get(0,0),t=$e.get(0,1),r=$e.get(0,2),e*determinant(je)-t*determinant(ze)+r*determinant(Xe)}else return new LuDecomposition($e).determinant}else throw Error("determinant can only be calculated for a square matrix")}function xrange($e,e){let t=[];for(let r=0;r<$e;r++)r!==e&&t.push(r);return t}function dependenciesOneRow($e,e,t,r=1e-9,Ve=1e-9){if($e>Ve)return new Array(e.rows+1).fill(0);{let je=e.addRow(t,[0]);for(let ze=0;ze<je.rows;ze++)Math.abs(je.get(ze,0))<r&&je.set(ze,0,0);return je.to1DArray()}}function linearDependencies($e,e={}){const{thresholdValue:t=1e-9,thresholdError:r=1e-9}=e;$e=Matrix$3.checkMatrix($e);let Ve=$e.rows,je=new Matrix$3(Ve,Ve);for(let ze=0;ze<Ve;ze++){let Xe=Matrix$3.columnVector($e.getRow(ze)),We=$e.subMatrixRow(xrange(Ve,ze)).transpose(),qe=new SingularValueDecomposition$1(We).solve(Xe),Ke=Matrix$3.sub(Xe,We.mmul(qe)).abs().max();je.setRow(ze,dependenciesOneRow(Ke,qe,ze,t,r))}return je}function pseudoInverse($e,e=Number.EPSILON){if($e=Matrix$3.checkMatrix($e),$e.isEmpty())return $e.transpose();let t=new SingularValueDecomposition$1($e,{autoTranspose:!0}),r=t.leftSingularVectors,Ve=t.rightSingularVectors,je=t.diagonal;for(let ze=0;ze<je.length;ze++)Math.abs(je[ze])>e?je[ze]=1/je[ze]:je[ze]=0;return Ve.mmul(Matrix$3.diag(je).mmul(r.transpose()))}function covariance($e,e=$e,t={}){$e=new Matrix$3($e);let r=!1;if(typeof e=="object"&&!Matrix$3.isMatrix(e)&&!isAnyArray.isAnyArray(e)?(t=e,e=$e,r=!0):e=new Matrix$3(e),$e.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:Ve=!0}=t;Ve&&($e=$e.center("column"),r||(e=e.center("column")));const je=$e.transpose().mmul(e);for(let ze=0;ze<je.rows;ze++)for(let Xe=0;Xe<je.columns;Xe++)je.set(ze,Xe,je.get(ze,Xe)*(1/($e.rows-1)));return je}function correlation($e,e=$e,t={}){$e=new Matrix$3($e);let r=!1;if(typeof e=="object"&&!Matrix$3.isMatrix(e)&&!isAnyArray.isAnyArray(e)?(t=e,e=$e,r=!0):e=new Matrix$3(e),$e.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:Ve=!0,scale:je=!0}=t;Ve&&($e.center("column"),r||e.center("column")),je&&($e.scale("column"),r||e.scale("column"));const ze=$e.standardDeviation("column",{unbiased:!0}),Xe=r?ze:e.standardDeviation("column",{unbiased:!0}),We=$e.transpose().mmul(e);for(let qe=0;qe<We.rows;qe++)for(let Ke=0;Ke<We.columns;Ke++)We.set(qe,Ke,We.get(qe,Ke)*(1/(ze[qe]*Xe[Ke]))*(1/($e.rows-1)));return We}class EigenvalueDecomposition{constructor(e,t={}){const{assumeSymmetric:r=!1}=t;if(e=WrapperMatrix2D.checkMatrix(e),!e.isSquare())throw new Error("Matrix is not a square matrix");if(e.isEmpty())throw new Error("Matrix must be non-empty");let Ve=e.columns,je=new Matrix$3(Ve,Ve),ze=new Float64Array(Ve),Xe=new Float64Array(Ve),We=e,qe,Ke,Ze=!1;if(r?Ze=!0:Ze=e.isSymmetric(),Ze){for(qe=0;qe<Ve;qe++)for(Ke=0;Ke<Ve;Ke++)je.set(qe,Ke,We.get(qe,Ke));tred2(Ve,Xe,ze,je),tql2(Ve,Xe,ze,je)}else{let Je=new Matrix$3(Ve,Ve),Qe=new Float64Array(Ve);for(Ke=0;Ke<Ve;Ke++)for(qe=0;qe<Ve;qe++)Je.set(qe,Ke,We.get(qe,Ke));orthes(Ve,Je,Qe,je),hqr2(Ve,Xe,ze,je,Je)}this.n=Ve,this.e=Xe,this.d=ze,this.V=je}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let e=this.n,t=this.e,r=this.d,Ve=new Matrix$3(e,e),je,ze;for(je=0;je<e;je++){for(ze=0;ze<e;ze++)Ve.set(je,ze,0);Ve.set(je,je,r[je]),t[je]>0?Ve.set(je,je+1,t[je]):t[je]<0&&Ve.set(je,je-1,t[je])}return Ve}}function tred2($e,e,t,r){let Ve,je,ze,Xe,We,qe,Ke,Ze;for(We=0;We<$e;We++)t[We]=r.get($e-1,We);for(Xe=$e-1;Xe>0;Xe--){for(Ze=0,ze=0,qe=0;qe<Xe;qe++)Ze=Ze+Math.abs(t[qe]);if(Ze===0)for(e[Xe]=t[Xe-1],We=0;We<Xe;We++)t[We]=r.get(Xe-1,We),r.set(Xe,We,0),r.set(We,Xe,0);else{for(qe=0;qe<Xe;qe++)t[qe]/=Ze,ze+=t[qe]*t[qe];for(Ve=t[Xe-1],je=Math.sqrt(ze),Ve>0&&(je=-je),e[Xe]=Ze*je,ze=ze-Ve*je,t[Xe-1]=Ve-je,We=0;We<Xe;We++)e[We]=0;for(We=0;We<Xe;We++){for(Ve=t[We],r.set(We,Xe,Ve),je=e[We]+r.get(We,We)*Ve,qe=We+1;qe<=Xe-1;qe++)je+=r.get(qe,We)*t[qe],e[qe]+=r.get(qe,We)*Ve;e[We]=je}for(Ve=0,We=0;We<Xe;We++)e[We]/=ze,Ve+=e[We]*t[We];for(Ke=Ve/(ze+ze),We=0;We<Xe;We++)e[We]-=Ke*t[We];for(We=0;We<Xe;We++){for(Ve=t[We],je=e[We],qe=We;qe<=Xe-1;qe++)r.set(qe,We,r.get(qe,We)-(Ve*e[qe]+je*t[qe]));t[We]=r.get(Xe-1,We),r.set(Xe,We,0)}}t[Xe]=ze}for(Xe=0;Xe<$e-1;Xe++){if(r.set($e-1,Xe,r.get(Xe,Xe)),r.set(Xe,Xe,1),ze=t[Xe+1],ze!==0){for(qe=0;qe<=Xe;qe++)t[qe]=r.get(qe,Xe+1)/ze;for(We=0;We<=Xe;We++){for(je=0,qe=0;qe<=Xe;qe++)je+=r.get(qe,Xe+1)*r.get(qe,We);for(qe=0;qe<=Xe;qe++)r.set(qe,We,r.get(qe,We)-je*t[qe])}}for(qe=0;qe<=Xe;qe++)r.set(qe,Xe+1,0)}for(We=0;We<$e;We++)t[We]=r.get($e-1,We),r.set($e-1,We,0);r.set($e-1,$e-1,1),e[0]=0}function tql2($e,e,t,r){let Ve,je,ze,Xe,We,qe,Ke,Ze,Je,Qe,ti,ni,ri,ii,ei,St;for(ze=1;ze<$e;ze++)e[ze-1]=e[ze];e[$e-1]=0;let oi=0,si=0,ai=Number.EPSILON;for(qe=0;qe<$e;qe++){for(si=Math.max(si,Math.abs(t[qe])+Math.abs(e[qe])),Ke=qe;Ke<$e&&!(Math.abs(e[Ke])<=ai*si);)Ke++;if(Ke>qe)do{for(Ve=t[qe],Ze=(t[qe+1]-Ve)/(2*e[qe]),Je=hypotenuse$1(Ze,1),Ze<0&&(Je=-Je),t[qe]=e[qe]/(Ze+Je),t[qe+1]=e[qe]*(Ze+Je),Qe=t[qe+1],je=Ve-t[qe],ze=qe+2;ze<$e;ze++)t[ze]-=je;for(oi=oi+je,Ze=t[Ke],ti=1,ni=ti,ri=ti,ii=e[qe+1],ei=0,St=0,ze=Ke-1;ze>=qe;ze--)for(ri=ni,ni=ti,St=ei,Ve=ti*e[ze],je=ti*Ze,Je=hypotenuse$1(Ze,e[ze]),e[ze+1]=ei*Je,ei=e[ze]/Je,ti=Ze/Je,Ze=ti*t[ze]-ei*Ve,t[ze+1]=je+ei*(ti*Ve+ei*t[ze]),We=0;We<$e;We++)je=r.get(We,ze+1),r.set(We,ze+1,ei*r.get(We,ze)+ti*je),r.set(We,ze,ti*r.get(We,ze)-ei*je);Ze=-ei*St*ri*ii*e[qe]/Qe,e[qe]=ei*Ze,t[qe]=ti*Ze}while(Math.abs(e[qe])>ai*si);t[qe]=t[qe]+oi,e[qe]=0}for(ze=0;ze<$e-1;ze++){for(We=ze,Ze=t[ze],Xe=ze+1;Xe<$e;Xe++)t[Xe]<Ze&&(We=Xe,Ze=t[Xe]);if(We!==ze)for(t[We]=t[ze],t[ze]=Ze,Xe=0;Xe<$e;Xe++)Ze=r.get(Xe,ze),r.set(Xe,ze,r.get(Xe,We)),r.set(Xe,We,Ze)}}function orthes($e,e,t,r){let Ve=0,je=$e-1,ze,Xe,We,qe,Ke,Ze,Je;for(Ze=Ve+1;Ze<=je-1;Ze++){for(Je=0,qe=Ze;qe<=je;qe++)Je=Je+Math.abs(e.get(qe,Ze-1));if(Je!==0){for(We=0,qe=je;qe>=Ze;qe--)t[qe]=e.get(qe,Ze-1)/Je,We+=t[qe]*t[qe];for(Xe=Math.sqrt(We),t[Ze]>0&&(Xe=-Xe),We=We-t[Ze]*Xe,t[Ze]=t[Ze]-Xe,Ke=Ze;Ke<$e;Ke++){for(ze=0,qe=je;qe>=Ze;qe--)ze+=t[qe]*e.get(qe,Ke);for(ze=ze/We,qe=Ze;qe<=je;qe++)e.set(qe,Ke,e.get(qe,Ke)-ze*t[qe])}for(qe=0;qe<=je;qe++){for(ze=0,Ke=je;Ke>=Ze;Ke--)ze+=t[Ke]*e.get(qe,Ke);for(ze=ze/We,Ke=Ze;Ke<=je;Ke++)e.set(qe,Ke,e.get(qe,Ke)-ze*t[Ke])}t[Ze]=Je*t[Ze],e.set(Ze,Ze-1,Je*Xe)}}for(qe=0;qe<$e;qe++)for(Ke=0;Ke<$e;Ke++)r.set(qe,Ke,qe===Ke?1:0);for(Ze=je-1;Ze>=Ve+1;Ze--)if(e.get(Ze,Ze-1)!==0){for(qe=Ze+1;qe<=je;qe++)t[qe]=e.get(qe,Ze-1);for(Ke=Ze;Ke<=je;Ke++){for(Xe=0,qe=Ze;qe<=je;qe++)Xe+=t[qe]*r.get(qe,Ke);for(Xe=Xe/t[Ze]/e.get(Ze,Ze-1),qe=Ze;qe<=je;qe++)r.set(qe,Ke,r.get(qe,Ke)+Xe*t[qe])}}}function hqr2($e,e,t,r,Ve){let je=$e-1,ze=0,Xe=$e-1,We=Number.EPSILON,qe=0,Ke=0,Ze=0,Je=0,Qe=0,ti=0,ni=0,ri=0,ii,ei,St,oi,si,ai,ui,hi,ci,mi,di,pi,yi,gi,_i;for(ii=0;ii<$e;ii++)for((ii<ze||ii>Xe)&&(t[ii]=Ve.get(ii,ii),e[ii]=0),ei=Math.max(ii-1,0);ei<$e;ei++)Ke=Ke+Math.abs(Ve.get(ii,ei));for(;je>=ze;){for(oi=je;oi>ze&&(ti=Math.abs(Ve.get(oi-1,oi-1))+Math.abs(Ve.get(oi,oi)),ti===0&&(ti=Ke),!(Math.abs(Ve.get(oi,oi-1))<We*ti));)oi--;if(oi===je)Ve.set(je,je,Ve.get(je,je)+qe),t[je]=Ve.get(je,je),e[je]=0,je--,ri=0;else if(oi===je-1){if(ui=Ve.get(je,je-1)*Ve.get(je-1,je),Ze=(Ve.get(je-1,je-1)-Ve.get(je,je))/2,Je=Ze*Ze+ui,ni=Math.sqrt(Math.abs(Je)),Ve.set(je,je,Ve.get(je,je)+qe),Ve.set(je-1,je-1,Ve.get(je-1,je-1)+qe),hi=Ve.get(je,je),Je>=0){for(ni=Ze>=0?Ze+ni:Ze-ni,t[je-1]=hi+ni,t[je]=t[je-1],ni!==0&&(t[je]=hi-ui/ni),e[je-1]=0,e[je]=0,hi=Ve.get(je,je-1),ti=Math.abs(hi)+Math.abs(ni),Ze=hi/ti,Je=ni/ti,Qe=Math.sqrt(Ze*Ze+Je*Je),Ze=Ze/Qe,Je=Je/Qe,ei=je-1;ei<$e;ei++)ni=Ve.get(je-1,ei),Ve.set(je-1,ei,Je*ni+Ze*Ve.get(je,ei)),Ve.set(je,ei,Je*Ve.get(je,ei)-Ze*ni);for(ii=0;ii<=je;ii++)ni=Ve.get(ii,je-1),Ve.set(ii,je-1,Je*ni+Ze*Ve.get(ii,je)),Ve.set(ii,je,Je*Ve.get(ii,je)-Ze*ni);for(ii=ze;ii<=Xe;ii++)ni=r.get(ii,je-1),r.set(ii,je-1,Je*ni+Ze*r.get(ii,je)),r.set(ii,je,Je*r.get(ii,je)-Ze*ni)}else t[je-1]=hi+Ze,t[je]=hi+Ze,e[je-1]=ni,e[je]=-ni;je=je-2,ri=0}else{if(hi=Ve.get(je,je),ci=0,ui=0,oi<je&&(ci=Ve.get(je-1,je-1),ui=Ve.get(je,je-1)*Ve.get(je-1,je)),ri===10){for(qe+=hi,ii=ze;ii<=je;ii++)Ve.set(ii,ii,Ve.get(ii,ii)-hi);ti=Math.abs(Ve.get(je,je-1))+Math.abs(Ve.get(je-1,je-2)),hi=ci=.75*ti,ui=-.4375*ti*ti}if(ri===30&&(ti=(ci-hi)/2,ti=ti*ti+ui,ti>0)){for(ti=Math.sqrt(ti),ci<hi&&(ti=-ti),ti=hi-ui/((ci-hi)/2+ti),ii=ze;ii<=je;ii++)Ve.set(ii,ii,Ve.get(ii,ii)-ti);qe+=ti,hi=ci=ui=.964}for(ri=ri+1,si=je-2;si>=oi&&(ni=Ve.get(si,si),Qe=hi-ni,ti=ci-ni,Ze=(Qe*ti-ui)/Ve.get(si+1,si)+Ve.get(si,si+1),Je=Ve.get(si+1,si+1)-ni-Qe-ti,Qe=Ve.get(si+2,si+1),ti=Math.abs(Ze)+Math.abs(Je)+Math.abs(Qe),Ze=Ze/ti,Je=Je/ti,Qe=Qe/ti,!(si===oi||Math.abs(Ve.get(si,si-1))*(Math.abs(Je)+Math.abs(Qe))<We*(Math.abs(Ze)*(Math.abs(Ve.get(si-1,si-1))+Math.abs(ni)+Math.abs(Ve.get(si+1,si+1))))));)si--;for(ii=si+2;ii<=je;ii++)Ve.set(ii,ii-2,0),ii>si+2&&Ve.set(ii,ii-3,0);for(St=si;St<=je-1&&(gi=St!==je-1,St!==si&&(Ze=Ve.get(St,St-1),Je=Ve.get(St+1,St-1),Qe=gi?Ve.get(St+2,St-1):0,hi=Math.abs(Ze)+Math.abs(Je)+Math.abs(Qe),hi!==0&&(Ze=Ze/hi,Je=Je/hi,Qe=Qe/hi)),hi!==0);St++)if(ti=Math.sqrt(Ze*Ze+Je*Je+Qe*Qe),Ze<0&&(ti=-ti),ti!==0){for(St!==si?Ve.set(St,St-1,-ti*hi):oi!==si&&Ve.set(St,St-1,-Ve.get(St,St-1)),Ze=Ze+ti,hi=Ze/ti,ci=Je/ti,ni=Qe/ti,Je=Je/Ze,Qe=Qe/Ze,ei=St;ei<$e;ei++)Ze=Ve.get(St,ei)+Je*Ve.get(St+1,ei),gi&&(Ze=Ze+Qe*Ve.get(St+2,ei),Ve.set(St+2,ei,Ve.get(St+2,ei)-Ze*ni)),Ve.set(St,ei,Ve.get(St,ei)-Ze*hi),Ve.set(St+1,ei,Ve.get(St+1,ei)-Ze*ci);for(ii=0;ii<=Math.min(je,St+3);ii++)Ze=hi*Ve.get(ii,St)+ci*Ve.get(ii,St+1),gi&&(Ze=Ze+ni*Ve.get(ii,St+2),Ve.set(ii,St+2,Ve.get(ii,St+2)-Ze*Qe)),Ve.set(ii,St,Ve.get(ii,St)-Ze),Ve.set(ii,St+1,Ve.get(ii,St+1)-Ze*Je);for(ii=ze;ii<=Xe;ii++)Ze=hi*r.get(ii,St)+ci*r.get(ii,St+1),gi&&(Ze=Ze+ni*r.get(ii,St+2),r.set(ii,St+2,r.get(ii,St+2)-Ze*Qe)),r.set(ii,St,r.get(ii,St)-Ze),r.set(ii,St+1,r.get(ii,St+1)-Ze*Je)}}}if(Ke!==0){for(je=$e-1;je>=0;je--)if(Ze=t[je],Je=e[je],Je===0)for(oi=je,Ve.set(je,je,1),ii=je-1;ii>=0;ii--){for(ui=Ve.get(ii,ii)-Ze,Qe=0,ei=oi;ei<=je;ei++)Qe=Qe+Ve.get(ii,ei)*Ve.get(ei,je);if(e[ii]<0)ni=ui,ti=Qe;else if(oi=ii,e[ii]===0?Ve.set(ii,je,ui!==0?-Qe/ui:-Qe/(We*Ke)):(hi=Ve.get(ii,ii+1),ci=Ve.get(ii+1,ii),Je=(t[ii]-Ze)*(t[ii]-Ze)+e[ii]*e[ii],ai=(hi*ti-ni*Qe)/Je,Ve.set(ii,je,ai),Ve.set(ii+1,je,Math.abs(hi)>Math.abs(ni)?(-Qe-ui*ai)/hi:(-ti-ci*ai)/ni)),ai=Math.abs(Ve.get(ii,je)),We*ai*ai>1)for(ei=ii;ei<=je;ei++)Ve.set(ei,je,Ve.get(ei,je)/ai)}else if(Je<0)for(oi=je-1,Math.abs(Ve.get(je,je-1))>Math.abs(Ve.get(je-1,je))?(Ve.set(je-1,je-1,Je/Ve.get(je,je-1)),Ve.set(je-1,je,-(Ve.get(je,je)-Ze)/Ve.get(je,je-1))):(_i=cdiv(0,-Ve.get(je-1,je),Ve.get(je-1,je-1)-Ze,Je),Ve.set(je-1,je-1,_i[0]),Ve.set(je-1,je,_i[1])),Ve.set(je,je-1,0),Ve.set(je,je,1),ii=je-2;ii>=0;ii--){for(mi=0,di=0,ei=oi;ei<=je;ei++)mi=mi+Ve.get(ii,ei)*Ve.get(ei,je-1),di=di+Ve.get(ii,ei)*Ve.get(ei,je);if(ui=Ve.get(ii,ii)-Ze,e[ii]<0)ni=ui,Qe=mi,ti=di;else if(oi=ii,e[ii]===0?(_i=cdiv(-mi,-di,ui,Je),Ve.set(ii,je-1,_i[0]),Ve.set(ii,je,_i[1])):(hi=Ve.get(ii,ii+1),ci=Ve.get(ii+1,ii),pi=(t[ii]-Ze)*(t[ii]-Ze)+e[ii]*e[ii]-Je*Je,yi=(t[ii]-Ze)*2*Je,pi===0&&yi===0&&(pi=We*Ke*(Math.abs(ui)+Math.abs(Je)+Math.abs(hi)+Math.abs(ci)+Math.abs(ni))),_i=cdiv(hi*Qe-ni*mi+Je*di,hi*ti-ni*di-Je*mi,pi,yi),Ve.set(ii,je-1,_i[0]),Ve.set(ii,je,_i[1]),Math.abs(hi)>Math.abs(ni)+Math.abs(Je)?(Ve.set(ii+1,je-1,(-mi-ui*Ve.get(ii,je-1)+Je*Ve.get(ii,je))/hi),Ve.set(ii+1,je,(-di-ui*Ve.get(ii,je)-Je*Ve.get(ii,je-1))/hi)):(_i=cdiv(-Qe-ci*Ve.get(ii,je-1),-ti-ci*Ve.get(ii,je),ni,Je),Ve.set(ii+1,je-1,_i[0]),Ve.set(ii+1,je,_i[1]))),ai=Math.max(Math.abs(Ve.get(ii,je-1)),Math.abs(Ve.get(ii,je))),We*ai*ai>1)for(ei=ii;ei<=je;ei++)Ve.set(ei,je-1,Ve.get(ei,je-1)/ai),Ve.set(ei,je,Ve.get(ei,je)/ai)}for(ii=0;ii<$e;ii++)if(ii<ze||ii>Xe)for(ei=ii;ei<$e;ei++)r.set(ii,ei,Ve.get(ii,ei));for(ei=$e-1;ei>=ze;ei--)for(ii=ze;ii<=Xe;ii++){for(ni=0,St=ze;St<=Math.min(ei,Xe);St++)ni=ni+r.get(ii,St)*Ve.get(St,ei);r.set(ii,ei,ni)}}}function cdiv($e,e,t,r){let Ve,je;return Math.abs(t)>Math.abs(r)?(Ve=r/t,je=t+Ve*r,[($e+Ve*e)/je,(e-Ve*$e)/je]):(Ve=t/r,je=r+Ve*t,[(Ve*$e+e)/je,(Ve*e-$e)/je])}class CholeskyDecomposition{constructor(e){if(e=WrapperMatrix2D.checkMatrix(e),!e.isSymmetric())throw new Error("Matrix is not symmetric");let t=e,r=t.rows,Ve=new Matrix$3(r,r),je=!0,ze,Xe,We;for(Xe=0;Xe<r;Xe++){let qe=0;for(We=0;We<Xe;We++){let Ke=0;for(ze=0;ze<We;ze++)Ke+=Ve.get(We,ze)*Ve.get(Xe,ze);Ke=(t.get(Xe,We)-Ke)/Ve.get(We,We),Ve.set(Xe,We,Ke),qe=qe+Ke*Ke}for(qe=t.get(Xe,Xe)-qe,je&=qe>0,Ve.set(Xe,Xe,Math.sqrt(Math.max(qe,0))),We=Xe+1;We<r;We++)Ve.set(Xe,We,0)}this.L=Ve,this.positiveDefinite=!!je}isPositiveDefinite(){return this.positiveDefinite}solve(e){e=WrapperMatrix2D.checkMatrix(e);let t=this.L,r=t.rows;if(e.rows!==r)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");let Ve=e.columns,je=e.clone(),ze,Xe,We;for(We=0;We<r;We++)for(Xe=0;Xe<Ve;Xe++){for(ze=0;ze<We;ze++)je.set(We,Xe,je.get(We,Xe)-je.get(ze,Xe)*t.get(We,ze));je.set(We,Xe,je.get(We,Xe)/t.get(We,We))}for(We=r-1;We>=0;We--)for(Xe=0;Xe<Ve;Xe++){for(ze=We+1;ze<r;ze++)je.set(We,Xe,je.get(We,Xe)-je.get(ze,Xe)*t.get(ze,We));je.set(We,Xe,je.get(We,Xe)/t.get(We,We))}return je}get lowerTriangularMatrix(){return this.L}}class nipals{constructor(e,t={}){e=WrapperMatrix2D.checkMatrix(e);let{Y:r}=t;const{scaleScores:Ve=!1,maxIterations:je=1e3,terminationCriteria:ze=1e-10}=t;let Xe;if(r){if(isAnyArray.isAnyArray(r)&&typeof r[0]=="number"?r=Matrix$3.columnVector(r):r=WrapperMatrix2D.checkMatrix(r),r.rows!==e.rows)throw new Error("Y should have the same number of rows as X");Xe=r.getColumnVector(0)}else Xe=e.getColumnVector(0);let We=1,qe,Ke,Ze,Je;for(let Qe=0;Qe<je&&We>ze;Qe++)Ze=e.transpose().mmul(Xe).div(Xe.transpose().mmul(Xe).get(0,0)),Ze=Ze.div(Ze.norm()),qe=e.mmul(Ze).div(Ze.transpose().mmul(Ze).get(0,0)),Qe>0&&(We=qe.clone().sub(Je).pow(2).sum()),Je=qe.clone(),r?(Ke=r.transpose().mmul(qe).div(qe.transpose().mmul(qe).get(0,0)),Ke=Ke.div(Ke.norm()),Xe=r.mmul(Ke).div(Ke.transpose().mmul(Ke).get(0,0))):Xe=qe;if(r){let Qe=e.transpose().mmul(qe).div(qe.transpose().mmul(qe).get(0,0));Qe=Qe.div(Qe.norm());let ti=e.clone().sub(qe.clone().mmul(Qe.transpose())),ni=Xe.transpose().mmul(qe).div(qe.transpose().mmul(qe).get(0,0)),ri=r.clone().sub(qe.clone().mulS(ni.get(0,0)).mmul(Ke.transpose()));this.t=qe,this.p=Qe.transpose(),this.w=Ze.transpose(),this.q=Ke,this.u=Xe,this.s=qe.transpose().mmul(qe),this.xResidual=ti,this.yResidual=ri,this.betas=ni}else this.w=Ze.transpose(),this.s=qe.transpose().mmul(qe).sqrt(),Ve?this.t=qe.clone().div(this.s.get(0,0)):this.t=qe,this.xResidual=e.sub(qe.mmul(Ze.transpose()))}}matrix.AbstractMatrix=AbstractMatrix;matrix.CHO=CholeskyDecomposition;matrix.CholeskyDecomposition=CholeskyDecomposition;matrix.DistanceMatrix=DistanceMatrix;matrix.EVD=EigenvalueDecomposition;matrix.EigenvalueDecomposition=EigenvalueDecomposition;matrix.LU=LuDecomposition;matrix.LuDecomposition=LuDecomposition;var Matrix_1=matrix.Matrix=Matrix$3;matrix.MatrixColumnSelectionView=MatrixColumnSelectionView;matrix.MatrixColumnView=MatrixColumnView;matrix.MatrixFlipColumnView=MatrixFlipColumnView;matrix.MatrixFlipRowView=MatrixFlipRowView;matrix.MatrixRowSelectionView=MatrixRowSelectionView;matrix.MatrixRowView=MatrixRowView;matrix.MatrixSelectionView=MatrixSelectionView;matrix.MatrixSubView=MatrixSubView;matrix.MatrixTransposeView=MatrixTransposeView$1;matrix.NIPALS=nipals;matrix.Nipals=nipals;matrix.QR=QrDecomposition;matrix.QrDecomposition=QrDecomposition;var SVD$1=matrix.SVD=SingularValueDecomposition$1,SingularValueDecomposition_1=matrix.SingularValueDecomposition=SingularValueDecomposition$1;matrix.SymmetricMatrix=SymmetricMatrix;matrix.WrapperMatrix1D=WrapperMatrix1D;matrix.WrapperMatrix2D=WrapperMatrix2D;matrix.correlation=correlation;matrix.covariance=covariance;var _default=matrix.default=Matrix$3;matrix.determinant=determinant;var inverse_1=matrix.inverse=inverse$1;matrix.linearDependencies=linearDependencies;matrix.pseudoInverse=pseudoInverse;var solve_1=matrix.solve=solve$1;matrix.wrap=wrap;const Matrix$2=Matrix_1,SVD=SVD$1,SingularValueDecomposition=SingularValueDecomposition_1;_default.Matrix&&_default.Matrix;const inverse=inverse_1,solve=solve_1;function getSeparatedKernel($e){const e=new SVD($e,{autoTranspose:!0});if(e.rank!==1)return null;const t=Math.sqrt(e.s[0]),r=e.U.to2DArray().map(je=>je[0]*t),Ve=e.V.to2DArray().map(je=>je[0]*t);return[r,Ve]}function convolution($e,e={}){let{channels:t,bitDepth:r,normalize:Ve=!1,divisor:je=1,border:ze="copy",algorithm:Xe="auto"}=e,We={};r&&(We.bitDepth=r);let qe=Image$1.createFrom(this,We);if(t=validateArrayOfChannels(this,t),Xe!=="separable")({kernel:$e}=validateKernel($e));else if(!Array.isArray($e)||$e.length!==2)throw new RangeError("separable convolution requires two arrays of numbers to represent the kernel");if(Xe==="auto"){let oi=getSeparatedKernel($e);oi!==null?(Xe="separable",$e=oi):($e.length>9||$e[0].length>9)&&this.width<=4096&&this.height<=4096?Xe="fft":Xe="direct"}let Ke,Ze;Xe==="separable"?(Ke=Math.floor($e[0].length/2),Ze=Math.floor($e[1].length/2)):(Ke=Math.floor($e.length/2),Ze=Math.floor($e[0].length/2));let Je=qe.isClamped,Qe=new Array(this.height*this.width),ti,ni,ri,ii,ei,St;for(ii=0;ii<t.length;ii++){for(ei=t[ii],ri=0;ri<this.height;ri++)for(ni=0;ni<this.width;ni++)ti=ri*this.width+ni,Qe[ti]=this.data[ti*this.channels+ei];if(Xe==="direct")St=src$1.direct(Qe,$e,{rows:this.height,cols:this.width,normalize:Ve,divisor:je});else if(Xe==="separable"){if(St=convolutionSeparable(Qe,$e,this.width,this.height),Ve){je=0;for(let oi=0;oi<$e[0].length;oi++)for(let si=0;si<$e[1].length;si++)je+=$e[0][oi]*$e[1][si]}if(je!==1)for(let oi=0;oi<St.length;oi++)St[oi]/=je}else St=src$1.fft(Qe,$e,{rows:this.height,cols:this.width,normalize:Ve,divisor:je});for(ri=0;ri<this.height;ri++)for(ni=0;ni<this.width;ni++)ti=ri*this.width+ni,Je?qe.data[ti*this.channels+ei]=clamp(St[ti],qe):qe.data[ti*this.channels+ei]=St[ti]}if(this.alpha&&!t.includes(this.channels))for(ni=this.components;ni<this.data.length;ni=ni+this.channels)qe.data[ni]=this.data[ni];return ze!=="periodic"&&qe.setBorder({size:[Ze,Ke],algorithm:ze}),qe}function gradientFilter($e={}){let{direction:e="xy",border:t="copy",kernelX:r,kernelY:Ve,channels:je,bitDepth:ze=this.bitDepth}=$e;switch(this.checkProcessable("gradientFilter",{bitDepth:[8,16]}),e){case"x":if(!r)throw new Error("kernelX option is missing");return convolution.call(this,r,{channels:je,border:t,bitDepth:ze});case"y":if(!Ve)throw new Error("kernelY option is missing");return convolution.call(this,Ve,{channels:je,border:t,bitDepth:ze});case"xy":{if(!r)throw new Error("kernelX option is missing");if(!Ve)throw new Error("kernelY option is missing");const Xe=convolution.call(this,r,{channels:je,border:t,bitDepth:32}),We=convolution.call(this,Ve,{channels:je,border:t,bitDepth:32});return Xe.hypotenuse(We,{bitDepth:ze,channels:je})}default:throw new Error(`Unknown parameter direction: ${e}`)}}function sobelFilter($e){return gradientFilter.call(this,Object.assign({},$e,{kernelX:SOBEL_X,kernelY:SOBEL_Y}))}function scharrFilter($e){return gradientFilter.call(this,Object.assign({},$e,{kernelX:SCHARR_X,kernelY:SCHARR_Y}))}var newArray_1=newArray;function newArray($e,e){$e=$e||0;for(var t=new Array($e),r=0;r<$e;r++)t[r]=e;return t}const newArray$1=getDefaultExportFromCjs(newArray_1);function level($e={}){let{algorithm:e="range",channels:t,min:r=this.min,max:Ve=this.max}=$e;switch(this.checkProcessable("level",{bitDepth:[8,16,32]}),t=validateArrayOfChannels(this,{channels:t}),t.length!==this.channel&&(Array.isArray(r)&&r.length===this.channels&&(r=r.filter((je,ze)=>t.includes(ze))),Array.isArray(Ve)&&Ve.length===this.channels&&(Ve=Ve.filter((je,ze)=>t.includes(ze)))),e){case"range":r<0&&(r=0),Ve>this.maxValue&&(Ve=this.maxValue),Array.isArray(r)||(r=newArray$1(t.length,r)),Array.isArray(Ve)||(Ve=newArray$1(t.length,Ve)),processImage(this,r,Ve,t);break;default:throw new Error(`level: algorithm not implement: ${e}`)}return this}function processImage($e,e,t,r){let Ve=1e-5,je=new Array(r.length);for(let ze=0;ze<r.length;ze++)e[ze]===0&&t[ze]===$e.maxValue||t[ze]===e[ze]?je[ze]=0:je[ze]=($e.maxValue+1-Ve)/(t[ze]-e[ze]),e[ze]+=(.5-Ve/2)/je[ze];for(let ze=0;ze<r.length;ze++){let Xe=r[ze];if(je[ze]!==0)for(let We=0;We<$e.data.length;We+=$e.channels)$e.data[We+Xe]=Math.min(Math.max(0,($e.data[We+Xe]-e[ze])*je[ze]+.5|0),$e.maxValue)}}var toString=Object.prototype.toString,isArrayType=function $e(e){return toString.call(e).substr(-6,5)==="Array"};const isArray=getDefaultExportFromCjs(isArrayType);function checkNumberArray($e){if(isNaN($e)){if($e instanceof Image$1)return $e.data;if(!isArray($e))throw new Error("checkNumberArray: the value should be either a number, array or Image");return $e}else{if($e<=0)throw new Error("checkNumberArray: the value must be greater than 0");return $e}}function add($e,e={}){let{channels:t}=e;if(this.checkProcessable("add",{bitDepth:[8,16]}),t=validateArrayOfChannels(this,{channels:t}),$e=checkNumberArray($e),isNaN($e)){if(this.data.length!==$e.length)throw new Error("add: the data size is different");for(let r=0;r<t.length;r++){let Ve=t[r];for(let je=0;je<this.data.length;je+=this.channels)this.data[je+Ve]=Math.max(0,Math.min(this.maxValue,this.data[je+Ve]+$e[je+Ve]>>0))}}else for(let r=0;r<t.length;r++){let Ve=t[r];for(let je=0;je<this.data.length;je+=this.channels)this.data[je+Ve]=Math.min(this.maxValue,this.data[je+Ve]+$e>>0)}return this}function subtract($e,e={}){let{channels:t}=e;if(this.checkProcessable("subtract",{bitDepth:[8,16]}),t=validateArrayOfChannels(this,{channels:t}),$e=checkNumberArray($e),isNaN($e)){if(this.data.length!==$e.length)throw new Error("subtract: the data size is different");for(let r=0;r<t.length;r++){let Ve=t[r];for(let je=0;je<this.data.length;je+=this.channels)this.data[je+Ve]=Math.max(0,Math.min(this.maxValue,this.data[je+Ve]-$e[je+Ve]>>0))}}else for(let r=0;r<t.length;r++){let Ve=t[r];for(let je=0;je<this.data.length;je+=this.channels)this.data[je+Ve]=Math.max(0,this.data[je+Ve]-$e>>0)}return this}function subtractImage($e,e={}){let{channels:t,absolute:r=!1}=e;if(this.checkProcessable("subtractImage",{bitDepth:[8,16]}),this.width!==$e.width||this.height!==$e.height)throw new Error("subtractImage: both images must have the same size");if(this.alpha!==$e.alpha||this.bitDepth!==$e.bitDepth)throw new Error("subtractImage: both images must have the same alpha and bitDepth");if(this.channels!==$e.channels)throw new Error("subtractImage: both images must have the same number of channels");let Ve=this.clone();t=validateArrayOfChannels(this,{channels:t});for(let je=0;je<t.length;je++){let ze=t[je];for(let Xe=ze;Xe<this.data.length;Xe+=this.channels){let We=this.data[Xe]-$e.data[Xe];r?Ve.data[Xe]=Math.abs(We):Ve.data[Xe]=Math.max(We,0)}}return Ve}function hypotenuse($e,e={}){let{bitDepth:t=this.bitDepth,channels:r}=e;if(this.checkProcessable("hypotenuse",{bitDepth:[8,16,32]}),this.width!==$e.width||this.height!==$e.height)throw new Error("hypotenuse: both images must have the same size");if(this.alpha!==$e.alpha||this.bitDepth!==$e.bitDepth)throw new Error("hypotenuse: both images must have the same alpha and bitDepth");if(this.channels!==$e.channels)throw new Error("hypotenuse: both images must have the same number of channels");let Ve=Image$1.createFrom(this,{bitDepth:t});r=validateArrayOfChannels(this,{channels:r});let je=Ve.isClamped;for(let ze=0;ze<r.length;ze++){let Xe=r[ze];for(let We=Xe;We<this.data.length;We+=this.channels){let qe=Math.hypot(this.data[We],$e.data[We]);je?Ve.data[We]=Math.min(Math.max(Math.round(qe),0),Ve.maxValue):Ve.data[We]=qe}}return Ve}function multiply($e,e={}){let{channels:t}=e;if(this.checkProcessable("multiply",{bitDepth:[8,16]}),$e<=0)throw new Error("multiply: the value must be greater than 0");if(t=validateArrayOfChannels(this,{channels:t}),$e=checkNumberArray($e),isNaN($e)){if(this.data.length!==$e.length)throw new Error("multiply: the data size is different");for(let r=0;r<t.length;r++){let Ve=t[r];for(let je=0;je<this.data.length;je+=this.channels)this.data[je+Ve]=Math.max(0,Math.min(this.maxValue,this.data[je+Ve]*$e[je+Ve]>>0))}}else for(let r=0;r<t.length;r++){let Ve=t[r];for(let je=0;je<this.data.length;je+=this.channels)this.data[je+Ve]=Math.min(this.maxValue,this.data[je+Ve]*$e>>0)}return this}function divide($e,e={}){let{channels:t}=e;if(this.checkProcessable("divide",{bitDepth:[8,16]}),t=validateArrayOfChannels(this,{channels:t}),$e=checkNumberArray($e),isNaN($e)){if(this.data.length!==$e.length)throw new Error("divide: the: the data size is different");for(let r=0;r<t.length;r++){let Ve=t[r];for(let je=0;je<this.data.length;je+=this.channels)this.data[je+Ve]=Math.max(0,Math.min(this.maxValue,this.data[je+Ve]/$e[je+Ve]>>0))}}else for(let r=0;r<t.length;r++){let Ve=t[r];for(let je=0;je<this.data.length;je+=this.channels)this.data[je+Ve]=Math.min(this.maxValue,this.data[je+Ve]/$e>>0)}return this}class BaseRegression{constructor(){if(new.target===BaseRegression)throw new Error("BaseRegression must be subclassed")}predict(e){if(typeof e=="number")return this._predict(e);if(isAnyArray$1(e)){const t=[];for(let r=0;r<e.length;r++)t.push(this._predict(e[r]));return t}else throw new TypeError("x must be a number or array")}_predict(){throw new Error("_predict must be implemented")}train(){}toString(){return""}toLaTeX(){return""}score(e,t){if(!isAnyArray$1(e)||!isAnyArray$1(t)||e.length!==t.length)throw new Error("x and y must be arrays of the same length");const r=e.length,Ve=new Array(r);for(let Qe=0;Qe<r;Qe++)Ve[Qe]=this._predict(e[Qe]);let je=0,ze=0,Xe=0,We=0,qe=0,Ke=0,Ze=0;for(let Qe=0;Qe<r;Qe++)je+=Ve[Qe],ze+=t[Qe],qe+=Ve[Qe]*Ve[Qe],Ke+=t[Qe]*t[Qe],Ze+=Ve[Qe]*t[Qe],t[Qe]!==0&&(Xe+=(t[Qe]-Ve[Qe])*(t[Qe]-Ve[Qe])/t[Qe]),We+=(t[Qe]-Ve[Qe])*(t[Qe]-Ve[Qe]);const Je=(r*Ze-je*ze)/Math.sqrt((r*qe-je*je)*(r*Ke-ze*ze));return{r:Je,r2:Je*Je,chi2:Xe,rmsd:Math.sqrt(We/r)}}}function squaredEuclidean$4($e,e){let t=0;for(let r=0;r<$e.length;r++)t+=($e[r]-e[r])*($e[r]-e[r]);return t}function euclidean$2($e,e){return Math.sqrt(squaredEuclidean$4($e,e))}const euclidean$3=Object.freeze(Object.defineProperty({__proto__:null,euclidean:euclidean$2,squaredEuclidean:squaredEuclidean$4},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(euclidean$3),{squaredEuclidean:squaredEuclidean$3}=require$$0,defaultOptions$b={sigma:1};let GaussianKernel$1=class{constructor($e){$e=Object.assign({},defaultOptions$b,$e),this.sigma=$e.sigma,this.divisor=2*$e.sigma*$e.sigma}compute($e,e){const t=squaredEuclidean$3($e,e);return Math.exp(-t/this.divisor)}};var gaussianKernel=GaussianKernel$1;const defaultOptions$a={degree:1,constant:1,scale:1};let PolynomialKernel$1=class{constructor($e){$e=Object.assign({},defaultOptions$a,$e),this.degree=$e.degree,this.constant=$e.constant,this.scale=$e.scale}compute($e,e){for(var t=0,r=0;r<$e.length;r++)t+=$e[r]*e[r];return Math.pow(this.scale*t+this.constant,this.degree)}};var polynomialKernel=PolynomialKernel$1;const defaultOptions$9={alpha:.01,constant:-Math.E};let SigmoidKernel$1=class{constructor($e){$e=Object.assign({},defaultOptions$9,$e),this.alpha=$e.alpha,this.constant=$e.constant}compute($e,e){for(var t=0,r=0;r<$e.length;r++)t+=$e[r]*e[r];return Math.tanh(this.alpha*t+this.constant)}};var sigmoidKernel=SigmoidKernel$1;const defaultOptions$8={sigma:1,degree:1};let ANOVAKernel$1=class{constructor($e){$e=Object.assign({},defaultOptions$8,$e),this.sigma=$e.sigma,this.degree=$e.degree}compute($e,e){for(var t=0,r=Math.min($e.length,e.length),Ve=1;Ve<=r;++Ve)t+=Math.pow(Math.exp(-this.sigma*Math.pow(Math.pow($e[Ve-1],Ve)-Math.pow(e[Ve-1],Ve),2)),this.degree);return t}};var anovaKernel=ANOVAKernel$1;const{squaredEuclidean:squaredEuclidean$2}=require$$0,defaultOptions$7={sigma:1};let CauchyKernel$1=class{constructor($e){$e=Object.assign({},defaultOptions$7,$e),this.sigma=$e.sigma}compute($e,e){return 1/(1+squaredEuclidean$2($e,e)/(this.sigma*this.sigma))}};var cauchyKernel=CauchyKernel$1;const{euclidean:euclidean$1}=require$$0,defaultOptions$6={sigma:1};let ExponentialKernel$1=class{constructor($e){$e=Object.assign({},defaultOptions$6,$e),this.sigma=$e.sigma,this.divisor=2*$e.sigma*$e.sigma}compute($e,e){const t=euclidean$1($e,e);return Math.exp(-t/this.divisor)}};var exponentialKernel=ExponentialKernel$1;class HistogramIntersectionKernel{compute(e,t){for(var r=Math.min(e.length,t.length),Ve=0,je=0;je<r;++je)Ve+=Math.min(e[je],t[je]);return Ve}}var histogramIntersectionKernel=HistogramIntersectionKernel;const{euclidean}=require$$0,defaultOptions$5={sigma:1};let LaplacianKernel$1=class{constructor($e){$e=Object.assign({},defaultOptions$5,$e),this.sigma=$e.sigma}compute($e,e){const t=euclidean($e,e);return Math.exp(-t/this.sigma)}};var laplacianKernel=LaplacianKernel$1;const{squaredEuclidean:squaredEuclidean$1}=require$$0,defaultOptions$4={constant:1};let MultiquadraticKernel$1=class{constructor($e){$e=Object.assign({},defaultOptions$4,$e),this.constant=$e.constant}compute($e,e){return Math.sqrt(squaredEuclidean$1($e,e)+this.constant*this.constant)}};var multiquadraticKernel=MultiquadraticKernel$1;const{squaredEuclidean}=require$$0,defaultOptions$3={constant:1};class RationalQuadraticKernel{constructor(e){e=Object.assign({},defaultOptions$3,e),this.constant=e.constant}compute(e,t){const r=squaredEuclidean(e,t);return 1-r/(r+this.constant)}}var rationalQuadraticKernel=RationalQuadraticKernel;const{Matrix:Matrix$1,MatrixTransposeView}=matrix,GaussianKernel=gaussianKernel,PolynomialKernel=polynomialKernel,SigmoidKernel=sigmoidKernel,ANOVAKernel=anovaKernel,CauchyKernel=cauchyKernel,ExponentialKernel=exponentialKernel,HistogramKernel=histogramIntersectionKernel,LaplacianKernel=laplacianKernel,MultiquadraticKernel=multiquadraticKernel,RationalKernel=rationalQuadraticKernel,kernelType={gaussian:GaussianKernel,rbf:GaussianKernel,polynomial:PolynomialKernel,poly:PolynomialKernel,anova:ANOVAKernel,cauchy:CauchyKernel,exponential:ExponentialKernel,histogram:HistogramKernel,min:HistogramKernel,laplacian:LaplacianKernel,multiquadratic:MultiquadraticKernel,rational:RationalKernel,sigmoid:SigmoidKernel,mlp:SigmoidKernel};class Kernel{constructor(e,t){if(this.kernelType=e,e!=="linear")if(typeof e=="string"){e=e.toLowerCase();var r=kernelType[e];if(r)this.kernelFunction=new r(t);else throw new Error(`unsupported kernel type: ${e}`)}else if(typeof e=="object"&&typeof e.compute=="function")this.kernelFunction=e;else throw new TypeError("first argument must be a valid kernel type or instance")}compute(e,t){if(e=Matrix$1.checkMatrix(e),t===void 0?t=e:t=Matrix$1.checkMatrix(t),this.kernelType==="linear")return e.mmul(new MatrixTransposeView(t));const r=new Matrix$1(e.rows,t.rows);if(e===t)for(let Ve=0;Ve<e.rows;Ve++)for(let je=Ve;je<e.rows;je++){const ze=this.kernelFunction.compute(e.getRow(Ve),e.getRow(je));r.set(Ve,je,ze),r.set(je,Ve,ze)}else for(let Ve=0;Ve<e.rows;Ve++)for(let je=0;je<t.rows;je++)r.set(Ve,je,this.kernelFunction.compute(e.getRow(Ve),t.getRow(je)));return r}}var kernel=Kernel;const Kernel$1=getDefaultExportFromCjs(kernel),defaultOptions$2={lambda:.1,kernelType:"gaussian",kernelOptions:{},computeCoefficient:!1};class KernelRidgeRegression extends BaseRegression{constructor(e,t,r){if(super(),e===!0)this.alpha=t.alpha,this.inputs=t.inputs,this.kernelType=t.kernelType,this.kernelOptions=t.kernelOptions,this.kernel=new Kernel$1(t.kernelType,t.kernelOptions);else{e=Matrix$2.checkMatrix(e),r=Object.assign({},defaultOptions$2,r);const Ve=new Kernel$1(r.kernelType,r.kernelOptions),je=Ve.compute(e),ze=e.rows;je.add(Matrix$2.eye(ze,ze).mul(r.lambda)),this.alpha=solve(je,t),this.inputs=e,this.kernelType=r.kernelType,this.kernelOptions=r.kernelOptions,this.kernel=Ve}}_predict(e){return this.kernel.compute([e],this.inputs).mmul(this.alpha).getRow(0)}toJSON(){return{name:"kernelRidgeRegression",alpha:this.alpha,inputs:this.inputs,kernelType:this.kernelType,kernelOptions:this.kernelOptions}}static load(e){if(e.name!=="kernelRidgeRegression")throw new TypeError("not a KRR model");return new KernelRidgeRegression(!0,e)}}function background$1($e,e,t){const r=new KernelRidgeRegression($e,e,t),Ve=new Array(this.size);for(let Xe=0;Xe<this.width;Xe++)for(let We=0;We<this.height;We++)Ve[We*this.width+Xe]=[Xe,We];const je=r.predict(Ve),ze=Image$1.createFrom(this);for(let Xe=0;Xe<this.size;Xe++)ze.data[Xe]=Math.min(this.maxValue,Math.max(0,je[Xe][0]));return ze}function dilate($e={}){let{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:t=1}=$e;if(this.checkProcessable("dilate",{bitDepth:[1,8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("dilate: The number of rows and columns of the kernel must be odd");let r=!0;e:for(const je of e)for(const ze of je)if(ze!==1){r=!1;break e}let Ve=this;for(let je=0;je<t;je++)if(this.bitDepth===1)if(r){const ze=Ve.clone();Ve=dilateOnceBinaryOnlyOnes(Ve,ze,e.length,e[0].length)}else{const ze=Image$1.createFrom(Ve);Ve=dilateOnceBinary(Ve,ze,e)}else if(r){const ze=Image$1.createFrom(Ve);Ve=dilateOnceGreyOnlyOnes(Ve,ze,e.length,e[0].length)}else{const ze=Image$1.createFrom(Ve);Ve=dilateOnceGrey(Ve,ze,e)}return Ve}function dilateOnceGrey($e,e,t){const r=t.length,Ve=t[0].length;let je=(r-1)/2,ze=(Ve-1)/2;for(let Xe=0;Xe<$e.height;Xe++)for(let We=0;We<$e.width;We++){let qe=0;for(let Ke=0;Ke<Ve;Ke++)for(let Ze=0;Ze<r;Ze++){if(t[Ze][Ke]!==1)continue;let Je=Ze-je+We,Qe=Ke-ze+Xe;if(Je<0||Qe<0||Je>=$e.width||Qe>=$e.height)continue;const ti=$e.getValueXY(Je,Qe,0);ti>qe&&(qe=ti)}e.setValueXY(We,Xe,0,qe)}return e}function dilateOnceGreyOnlyOnes($e,e,t,r){const Ve=(t-1)/2,je=(r-1)/2,ze=[];for(let Xe=0;Xe<$e.width;Xe++)ze.push(0);for(let Xe=0;Xe<$e.height;Xe++){for(let We=0;We<$e.width;We++){let qe=0;for(let Ke=Math.max(0,Xe-je);Ke<Math.min($e.height,Xe+je+1);Ke++){const Ze=$e.getValueXY(We,Ke,0);Ze>qe&&(qe=Ze)}ze[We]=qe}for(let We=0;We<$e.width;We++){let qe=0;for(let Ke=Math.max(0,We-Ve);Ke<Math.min($e.width,We+Ve+1);Ke++)ze[Ke]>qe&&(qe=ze[Ke]);e.setValueXY(We,Xe,0,qe)}}return e}function dilateOnceBinary($e,e,t){const r=t.length,Ve=t[0].length;let je=(r-1)/2,ze=(Ve-1)/2;for(let Xe=0;Xe<$e.height;Xe++)for(let We=0;We<$e.width;We++){let qe=0;e:for(let Ke=0;Ke<Ve;Ke++)for(let Ze=0;Ze<r;Ze++){if(t[Ze][Ke]!==1)continue;let Je=Ze-je+We,Qe=Ke-ze+Xe;if(!(Qe<0||Je<0||Je>=$e.width||Qe>=$e.height)&&$e.getBitXY(Je,Qe)===1){qe=1;break e}}qe===1&&e.setBitXY(We,Xe)}return e}function dilateOnceBinaryOnlyOnes($e,e,t,r){const Ve=(t-1)/2,je=(r-1)/2,ze=[];for(let Xe=0;Xe<$e.width;Xe++)ze.push(1);for(let Xe=0;Xe<$e.height;Xe++){for(let We=0;We<$e.width;We++){ze[We]=0;for(let qe=Math.max(0,Xe-je);qe<Math.min($e.height,Xe+je+1);qe++)if($e.getBitXY(We,qe)===1){ze[We]=1;break}}for(let We=0;We<$e.width;We++)if(e.getBitXY(We,Xe)!==1){for(let qe=Math.max(0,We-Ve);qe<Math.min($e.width,We+Ve+1);qe++)if(ze[qe]===1){e.setBitXY(We,Xe);break}}}return e}function erode($e={}){let{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:t=1}=$e;if(this.checkProcessable("erode",{bitDepth:[1,8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("erode: The number of rows and columns of the kernel must be odd");let r=!0;e:for(const je of e)for(const ze of je)if(ze!==1){r=!1;break e}let Ve=this;for(let je=0;je<t;je++)if(this.bitDepth===1)if(r){const ze=Ve.clone();Ve=erodeOnceBinaryOnlyOnes(Ve,ze,e.length,e[0].length)}else{const ze=Image$1.createFrom(Ve);Ve=erodeOnceBinary(Ve,ze,e)}else if(r){const ze=Image$1.createFrom(Ve);Ve=erodeOnceGreyOnlyOnes(Ve,ze,e.length,e[0].length)}else{const ze=Image$1.createFrom(Ve);Ve=erodeOnceGrey(Ve,ze,e)}return Ve}function erodeOnceGrey($e,e,t){const r=t.length,Ve=t[0].length;let je=(r-1)/2,ze=(Ve-1)/2;for(let Xe=0;Xe<$e.height;Xe++)for(let We=0;We<$e.width;We++){let qe=$e.maxValue;for(let Ke=0;Ke<Ve;Ke++)for(let Ze=0;Ze<r;Ze++){if(t[Ze][Ke]!==1)continue;let Je=Ze-je+We,Qe=Ke-ze+Xe;if(Je<0||Qe<0||Je>=$e.width||Qe>=$e.height)continue;const ti=$e.getValueXY(Je,Qe,0);ti<qe&&(qe=ti)}e.setValueXY(We,Xe,0,qe)}return e}function erodeOnceGreyOnlyOnes($e,e,t,r){const Ve=(t-1)/2,je=(r-1)/2,ze=[];for(let Xe=0;Xe<$e.width;Xe++)ze.push(0);for(let Xe=0;Xe<$e.height;Xe++){for(let We=0;We<$e.width;We++){let qe=$e.maxValue;for(let Ke=Math.max(0,Xe-je);Ke<Math.min($e.height,Xe+je+1);Ke++){const Ze=$e.getValueXY(We,Ke,0);Ze<qe&&(qe=Ze)}ze[We]=qe}for(let We=0;We<$e.width;We++){let qe=$e.maxValue;for(let Ke=Math.max(0,We-Ve);Ke<Math.min($e.width,We+Ve+1);Ke++)ze[Ke]<qe&&(qe=ze[Ke]);e.setValueXY(We,Xe,0,qe)}}return e}function erodeOnceBinary($e,e,t){const r=t.length,Ve=t[0].length;let je=(r-1)/2,ze=(Ve-1)/2;for(let Xe=0;Xe<$e.height;Xe++)for(let We=0;We<$e.width;We++){let qe=1;e:for(let Ke=0;Ke<Ve;Ke++)for(let Ze=0;Ze<r;Ze++){if(t[Ze][Ke]!==1)continue;let Je=Ze-je+We,Qe=Ke-ze+Xe;if(!(Qe<0||Je<0||Je>=$e.width||Qe>=$e.height)&&$e.getBitXY(Je,Qe)===0){qe=0;break e}}qe===1&&e.setBitXY(We,Xe)}return e}function erodeOnceBinaryOnlyOnes($e,e,t,r){const Ve=(t-1)/2,je=(r-1)/2,ze=[];for(let Xe=0;Xe<$e.width;Xe++)ze.push(0);for(let Xe=0;Xe<$e.height;Xe++){for(let We=0;We<$e.width;We++){ze[We]=1;for(let qe=Math.max(0,Xe-je);qe<Math.min($e.height,Xe+je+1);qe++)if($e.getBitXY(We,qe)===0){ze[We]=0;break}}for(let We=0;We<$e.width;We++)if(e.getBitXY(We,Xe)!==0){for(let qe=Math.max(0,We-Ve);qe<Math.min($e.width,We+Ve+1);qe++)if(ze[qe]===0){e.clearBitXY(We,Xe);break}}}return e}function open$1($e={}){let{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:t=1}=$e;if(this.checkProcessable("open",{bitDepth:[8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("open: The number of rows and columns of the kernel must be odd");let r=this;for(let Ve=0;Ve<t;Ve++)r=r.erode({kernel:e}),r=r.dilate({kernel:e});return r}function close($e={}){let{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:t=1}=$e;if(this.checkProcessable("close",{bitDepth:[1,8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("close: The number of rows and columns of the kernel must be odd");let r=this;for(let Ve=0;Ve<t;Ve++)r=r.dilate({kernel:e}).erode({kernel:e});return r}function topHat($e={}){let{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:t=1}=$e;if(this.checkProcessable("topHat",{bitDepth:[8,16],components:1,alpha:0}),e.length%2===0||e[0].length%2===0)throw new TypeError("topHat: The number of rows and columns of the kernel must be odd");let r=this;for(let Ve=0;Ve<t;Ve++)r=r.open({kernel:e}).subtractImage(r,{absolute:!0});return r}function blackHat($e={}){let{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:t=1}=$e;if(this.checkProcessable("blackHat",{bitDepth:[8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("blackHat: The number of rows and columns of the kernel must be odd");let r=this;for(let Ve=0;Ve<t;Ve++)r=r.close({kernel:e}).subtractImage(r,{absolute:!0});return r}function morphologicalGradient($e={}){let{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:t=1}=$e;if(this.checkProcessable("morphologicalGradient",{bitDepth:[8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("morphologicalGradient: The number of rows and columns of the kernel must be odd");let r=this;for(let Ve=0;Ve<t;Ve++){let je=r.dilate({kernel:e}),ze=r.erode({kernel:e});r=je.subtractImage(ze,{absolute:!0})}return r}function order4Points($e){let e=0,t=0,r=0,Ve=0,je=$e[0][0],ze=0;for(let qe=1;qe<$e.length;qe++)$e[qe][0]<je&&(je=$e[qe][0],ze=qe);let Xe=$e[(ze+1)%$e.length][0],We=(ze+1)%$e.length;for(let qe=1;qe<$e.length;qe++)$e[qe][0]<Xe&&qe!==ze&&(Xe=$e[qe][0],We=qe);return $e[We][1]<$e[ze][1]?(e=$e[We],Ve=$e[ze],ze!==(We+1)%4?(t=$e[(We+1)%4],r=$e[(We+2)%4]):(t=$e[(We+2)%4],r=$e[(We+3)%4])):(Ve=$e[We],e=$e[ze],We!==(ze+1)%4?(t=$e[(ze+1)%4],r=$e[(ze+2)%4]):(t=$e[(ze+2)%4],r=$e[(ze+3)%4])),[e,t,r,Ve]}function distance2Points($e,e){return Math.sqrt(Math.pow($e[0]-e[0],2)+Math.pow($e[1]-e[1],2))}function crossVect($e,e){return[$e[1]*e[2]-$e[2]*e[1],$e[2]*e[0]-$e[0]*e[2],$e[0]*e[1]-$e[1]*e[0]]}function dotVect($e,e){return $e[0]*e[0]+$e[1]*e[1]+$e[2]*e[2]}function computeWidthAndHeigth($e,e,t,r,Ve,je){let ze=Math.max(distance2Points($e,e),distance2Points(r,t)),Xe=Math.max(distance2Points($e,r),distance2Points(e,t)),We=0,qe=0,Ke=Math.ceil(Ve/2),Ze=Math.ceil(je/2),Je=ze/Xe,Qe=[$e[0],$e[1],1],ti=[e[0],e[1],1],ni=[r[0],r[1],1],ri=[t[0],t[1],1],ii=dotVect(crossVect(Qe,ri),ni)/dotVect(crossVect(ti,ri),ni),ei=dotVect(crossVect(Qe,ri),ti)/dotVect(crossVect(ni,ri),ti),St=[ii*ti[0]-Qe[0],ii*ti[1]-Qe[1],ii*ti[2]-Qe[2]],oi=[ei*ni[0]-Qe[0],ei*ni[1]-Qe[1],ei*ni[2]-Qe[2]],si=St[0],ai=St[1],ui=St[2],hi=oi[0],ci=oi[1],mi=oi[2],di=1/(ui*mi)*(si*hi-(si*mi+ui*hi)*Ke+ui*mi*Ke*Ke+(ai*ci-(ai*mi+ui*ci)*Ze+ui*mi*Ze*Ze));di>=0?di=Math.sqrt(di):di=Math.sqrt(-di);let pi=new Matrix$2([[di,0,Ke],[0,di,Ze],[0,0,1]]),yi=pi.transpose(),gi=inverse(yi),_i=inverse(pi),Ai=Matrix$2.rowVector(St),ki=Matrix$2.rowVector(oi),vi=Math.sqrt(dotVect(Ai.mmul(gi).mmul(_i).to1DArray(),St)/dotVect(ki.mmul(gi).mmul(_i).to1DArray(),oi));return vi===0||Je===0?(We=Math.ceil(ze),qe=Math.ceil(Xe)):vi<Je?(We=Math.ceil(ze),qe=Math.ceil(We/vi)):(qe=Math.ceil(Xe),We=Math.ceil(vi*qe)),[We,qe]}function projectionPoint($e,e,t,r,Ve,je,ze,Xe,We,qe,Ke,Ze){let[Je,Qe]=[(t*$e+r*e+Ve)/(We*$e+qe*e+1),(je*$e+ze*e+Xe)/(We*$e+qe*e+1)];return Ke.getValueXY(Math.floor(Je),Math.floor(Qe),Ze)}function warpingFourPoints($e,e={}){let{calculateRatio:t=!0}=e;if($e.length!==4)throw new Error(`The array pts must have four elements, which are the four corners. Currently, pts have ${$e.length} elements`);let[r,Ve,je,ze]=$e,Xe=[r,Ve,je,ze],[We,qe,Ke,Ze]=order4Points(Xe),Je,Qe;t?[Je,Qe]=computeWidthAndHeigth(We,qe,Ke,Ze,this.width,this.height):(Je=Math.ceil(Math.max(distance2Points(We,qe),distance2Points(Ze,Ke))),Qe=Math.ceil(Math.max(distance2Points(We,Ze),distance2Points(qe,Ke))));let ti=Image$1.createFrom(this,{width:Je,height:Qe}),[ni,ri]=We,[ii,ei]=qe,[St,oi]=Ke,[si,ai]=Ze,[ui,hi]=[0,0],[ci,mi]=[0,Je-1],[di,pi]=[Qe-1,Je-1],[yi,gi]=[Qe-1,0],_i=new Matrix$2([[ui,hi,1,0,0,0,-ui*ni,-hi*ni],[ci,mi,1,0,0,0,-ci*ii,-mi*ii],[di,pi,1,0,0,0,-di*St,-hi*St],[yi,gi,1,0,0,0,-yi*si,-gi*si],[0,0,0,ui,hi,1,-ui*ri,-hi*ri],[0,0,0,ci,mi,1,-ci*ei,-mi*ei],[0,0,0,di,pi,1,-di*oi,-pi*oi],[0,0,0,yi,gi,1,-yi*ai,-gi*ai]]),Ai=Matrix$2.columnVector([ni,ii,St,si,ri,ei,oi,ai]),ki=new SingularValueDecomposition(_i).solve(Ai),[vi,Mi,Di,Bi,Pi,Fi,Vi,Ti]=ki.to1DArray(),ji=new Matrix$2(Qe,Je);for(let Gi=0;Gi<this.channels;Gi++){for(let Yi=0;Yi<Qe;Yi++)for(let Xi=0;Xi<Je;Xi++)ji.set(Yi,Xi,projectionPoint(Yi,Xi,vi,Mi,Di,Bi,Pi,Fi,Vi,Ti,this,Gi));ti.setMatrix(ji,{channel:Gi})}return ti}function crop($e={}){let{x:e=0,y:t=0,width:r=this.width-e,height:Ve=this.height-t}=$e;if(this.checkProcessable("crop",{bitDepth:[1,8,16]}),e=Math.round(e),t=Math.round(t),r=Math.round(r),Ve=Math.round(Ve),e>this.width-1||t>this.height-1)throw new RangeError(`crop: origin (x:${e}, y:${t}) out of range (${this.width-1}; ${this.height-1})`);if(r<=0||Ve<=0)throw new RangeError(`crop: width and height (width:${r}; height:${Ve}) must be positive numbers`);if(e<0||t<0)throw new RangeError(`crop: x and y (x:${e}, y:${t}) must be positive numbers`);if(r>this.width-e||Ve>this.height-t)throw new RangeError(`crop: (x: ${e}, y:${t}, width:${r}, height:${Ve}) size is out of range`);let je=this;if(this.bitDepth===1){const ze=new Image$1(r,Ve,{kind:"BINARY",parent:this});je=cropBinary(this,ze,e,t,r,Ve)}else{const ze=Image$1.createFrom(this,{width:r,height:Ve,position:[e,t]});je=cropDefault(this,ze,e,t,r,Ve)}return je}function cropDefault($e,e,t,r,Ve,je){let ze=Ve*$e.channels,Xe=r+je,We=0,qe=t*$e.channels;for(let Ke=r;Ke<Xe;Ke++){let Ze=Ke*$e.width*$e.channels+qe,Je=Ze+ze;for(;Ze<Je;Ze++)e.data[We++]=$e.data[Ze]}return e}function cropBinary($e,e,t,r,Ve,je){let ze=Ve*$e.channels,Xe=r+je,We=0,qe=t*$e.channels;for(let Ke=r;Ke<Xe;Ke++){let Ze=Ke*$e.width*$e.channels+qe,Je=Ze+ze;for(;Ze<Je;Ze++)$e.getBit(Ze)&&e.setBit(We),++We}return e}function cropAlpha($e={}){this.checkProcessable("cropAlpha",{alpha:1});const{threshold:e=this.maxValue}=$e;let t=findLeft(this,e,this.components);if(t===-1)throw new Error("Could not find new dimensions. Threshold may be too high.");let r=findTop(this,e,this.components,t),Ve=findBottom(this,e,this.components,t),je=findRight(this,e,this.components,t,r,Ve);return this.crop({x:t,y:r,width:je-t+1,height:Ve-r+1})}function findLeft($e,e,t){for(let r=0;r<$e.width;r++)for(let Ve=0;Ve<$e.height;Ve++)if($e.getValueXY(r,Ve,t)>=e)return r;return-1}function findTop($e,e,t,r){for(let Ve=0;Ve<$e.height;Ve++)for(let je=r;je<$e.width;je++)if($e.getValueXY(je,Ve,t)>=e)return Ve;return-1}function findBottom($e,e,t,r){for(let Ve=$e.height-1;Ve>=0;Ve--)for(let je=r;je<$e.width;je++)if($e.getValueXY(je,Ve,t)>=e)return Ve;return-1}function findRight($e,e,t,r,Ve,je){for(let ze=$e.width-1;ze>=r;ze--)for(let Xe=Ve;Xe<=je;Xe++)if($e.getValueXY(ze,Xe,t)>=e)return ze;return-1}function getFactor($e){if(typeof $e=="string"){const e=$e[$e.length-1];$e=parseFloat($e),e==="%"&&($e/=100)}return $e}function getThreshold$1($e,e){if(!e)throw Error("getThreshold : the maxValue should be specified");if(typeof $e=="string"){if($e[$e.length-1]!=="%")throw Error("getThreshold : if the value is a string it must finish by %");return parseFloat($e)/100*e}else{if(typeof $e=="number")return $e<1?$e*e:$e;throw Error("getThreshold : the value is not valid")}}function factorDimensions($e,e,t){$e=getFactor($e);let r=Math.round($e*e),Ve=Math.round($e*t);return r<=0&&(r=1),Ve<=0&&(Ve=1),{width:r,height:Ve}}function checkRow($e,e){if(e<0||e>=$e.height)throw new RangeError(`row must be included between 0 and ${$e.height-1}. Current value: ${e}`)}function checkColumn($e,e){if(e<0||e>=$e.width)throw new RangeError(`column must be included between 0 and ${$e.width-1}. Current value: ${e}`)}function checkChannel($e,e){if(e<0||e>=$e.channels)throw new RangeError(`channel must be included between 0 and ${$e.channels-1}. Current value: ${e}`)}const validInterpolations={nearestneighbor:"nearestNeighbor",nearestneighbour:"nearestNeighbor",bilinear:"bilinear"};function checkInterpolation($e){if(typeof $e!="string")throw new TypeError("interpolation must be a string");if($e=$e.toLowerCase(),!validInterpolations[$e])throw new RangeError(`invalid interpolation algorithm: ${$e}`);return validInterpolations[$e]}function nearestNeighbor($e,e,t){const r=this.width/e,Ve=this.height/t;if(this.bitDepth>1)for(let je=0;je<e;je++){const ze=Math.floor((je+.5)*r);for(let Xe=0;Xe<t;Xe++){const We=Math.floor((Xe+.5)*Ve);for(let qe=0;qe<this.channels;qe++)$e.setValueXY(je,Xe,qe,this.getValueXY(ze,We,qe))}}else for(let je=0;je<e;je++){const ze=Math.floor((je+.5)*r);for(let Xe=0;Xe<t;Xe++){const We=Math.floor((Xe+.5)*Ve);this.getBitXY(ze,We)&&$e.setBitXY(je,Xe)}}}function resize($e={}){const{factor:e=1,interpolation:t=validInterpolations.nearestneighbor,preserveAspectRatio:r=!0}=$e,Ve=checkInterpolation(t);let je=$e.width,ze=$e.height;if(je||(ze&&r?je=Math.round(ze*(this.width/this.height)):je=this.width),ze||(r?ze=Math.round(je*(this.height/this.width)):ze=this.height),{width:je,height:ze}=factorDimensions(e,je,ze),je===this.width&&ze===this.height){const Ke=this.clone();return Ke.position=[0,0],Ke}let Xe=Math.round((this.width-je)/2),We=Math.round((this.height-ze)/2);const qe=Image$1.createFrom(this,{width:je,height:ze,position:[Xe,We]});switch(Ve){case validInterpolations.nearestneighbor:nearestNeighbor.call(this,qe,je,ze);break;default:throw new Error(`unsupported resize interpolation: ${Ve}`)}return qe}function hsv(){this.checkProcessable("hsv",{bitDepth:[8,16],alpha:[0,1],colorModel:[RGB$1]});let $e=Image$1.createFrom(this,{colorModel:HSV}),e=0,t=this.data;for(let r=0;r<t.length;r+=this.channels){let Ve=t[r],je=t[r+1],ze=t[r+2],Xe=Math.min(Ve,je,ze),We=Math.max(Ve,je,ze),qe=We-Xe,Ke=0,Ze=We===0?0:qe/We,Je=We;if(We!==Xe){switch(We){case Ve:Ke=(je-ze)/qe+(je<ze?6:0);break;case je:Ke=(ze-Ve)/qe+2;break;case ze:Ke=(Ve-je)/qe+4;break;default:throw new Error("unreachable")}Ke/=6}$e.data[e++]=Ke*this.maxValue,$e.data[e++]=Ze*this.maxValue,$e.data[e++]=Je,this.alpha&&($e.data[e++]=t[r+3])}return $e}function hsl$1(){this.checkProcessable("hsl",{bitDepth:[8,16],alpha:[0,1],colorModel:[RGB$1]});let $e=Image$1.createFrom(this,{colorModel:HSL}),e=Math.floor(this.maxValue/2),t=0,r=this.data;for(let Ve=0;Ve<r.length;Ve+=this.channels){let je=r[Ve],ze=r[Ve+1],Xe=r[Ve+2],We=Math.max(je,ze,Xe),qe=Math.min(je,ze,Xe),Ke=0,Ze=0,Je=(We+qe)/2;if(We!==qe){let Qe=We-qe;switch(Ze=Je>e?Qe/(2-We-qe):Qe/(We+qe),We){case je:Ke=(ze-Xe)/Qe+(ze<Xe?6:0);break;case ze:Ke=(Xe-je)/Qe+2;break;case Xe:Ke=(je-ze)/Qe+4;break;default:throw new Error("unreachable")}Ke/=6}$e.data[t++]=Ke*this.maxValue,$e.data[t++]=Ze*this.maxValue,$e.data[t++]=Je,this.alpha&&($e.data[t++]=r[Ve+3])}return $e}function cmyk(){this.checkProcessable("cmyk",{bitDepth:[8,16],alpha:[0,1],colorModel:[RGB$1]});let $e=Image$1.createFrom(this,{components:4,colorModel:CMYK$1}),e=0,t=this.data;for(let r=0;r<t.length;r+=this.channels){let Ve=t[r],je=t[r+1],ze=t[r+2],Xe=Math.min(this.maxValue-Ve,this.maxValue-je,this.maxValue-ze),We=(this.maxValue-Ve-Xe)/(1-Xe/this.maxValue),qe=(this.maxValue-je-Xe)/(1-Xe/this.maxValue),Ke=(this.maxValue-ze-Xe)/(1-Xe/this.maxValue);$e.data[e++]=Math.round(We),$e.data[e++]=Math.round(qe),$e.data[e++]=Math.round(Ke),$e.data[e++]=Math.round(Xe),this.alpha&&($e.data[e++]=t[r+3])}return $e}function rgba8(){return new Image$1(this.width,this.height,this.getRGBAData(),{kind:"RGBA",parent:this})}const methods$1={luma709($e,e,t){return $e*6966+e*23436+t*2366>>15},luma601($e,e,t){return $e*9798+e*19235+t*3735>>15},maximum($e,e,t){return Math.max($e,e,t)},minimum($e,e,t){return Math.min($e,e,t)},average($e,e,t){return($e+e+t)/3>>0},minmax($e,e,t){return(Math.max($e,e,t)+Math.min($e,e,t))/2},red($e){return $e},green($e,e){return e},blue($e,e,t){return t},cyan($e,e,t,r){let Ve=methods$1.black($e,e,t,r);return(r.maxValue-$e-Ve)/(1-Ve/r.maxValue)>>0},magenta($e,e,t,r){let Ve=methods$1.black($e,e,t,r);return(r.maxValue-e-Ve)/(1-Ve/r.maxValue)>>0},yellow($e,e,t,r){let Ve=methods$1.black($e,e,t,r);return(r.maxValue-t-Ve)/(1-Ve/r.maxValue)>>0},black($e,e,t,r){return Math.min(r.maxValue-$e,r.maxValue-e,r.maxValue-t)},hue($e,e,t,r){let Ve=methods$1.min($e,e,t),je=methods$1.max($e,e,t);if(je===Ve)return 0;let ze=0,Xe=je-Ve;switch(je){case $e:ze=(e-t)/Xe+(e<t?6:0);break;case e:ze=(t-$e)/Xe+2;break;case t:ze=($e-e)/Xe+4;break;default:throw new Error("unreachable")}return ze/6*r.maxValue>>0},saturation($e,e,t,r){let Ve=methods$1.min($e,e,t),je=methods$1.max($e,e,t),ze=je-Ve;return je===0?0:ze/je*r.maxValue},lightness($e,e,t){let r=methods$1.min($e,e,t);return(methods$1.max($e,e,t)+r)/2}};Object.defineProperty(methods$1,"luminosity",{enumerable:!1,value:methods$1.lightness});Object.defineProperty(methods$1,"luminance",{enumerable:!1,value:methods$1.lightness});Object.defineProperty(methods$1,"min",{enumerable:!1,value:methods$1.minimum});Object.defineProperty(methods$1,"max",{enumerable:!1,value:methods$1.maximum});Object.defineProperty(methods$1,"brightness",{enumerable:!1,value:methods$1.maximum});Object.keys(methods$1).forEach($e=>{});function grey($e={}){let{algorithm:e="luma709",keepAlpha:t=!1,mergeAlpha:r=!0}=$e;if(typeof e!="string"&&typeof e!="function")throw new TypeError("algorithm must be a string or a function");this.checkProcessable("grey",{bitDepth:[8,16],alpha:[0,1]}),this.components===1&&(e="red"),t&=this.alpha,r&=this.alpha,t&&(r=!1);let Ve=getOutputImage(this,$e,{components:1,alpha:t,colorModel:GREY$1}),je;if(typeof e=="function")je=e;else if(je=methods$1[e.toLowerCase()],!je)throw new Error(`unsupported grey algorithm: ${e}`);let ze=0;for(let Xe=0;Xe<this.data.length;Xe+=this.channels)r?Ve.data[ze++]=clamp(je(this.data[Xe],this.data[Xe+1],this.data[Xe+2],this)*this.data[Xe+this.components]/this.maxValue,this):(Ve.data[ze++]=clamp(je(this.data[Xe],this.data[Xe+1],this.data[Xe+2],this),this),Ve.alpha&&(Ve.data[ze++]=this.data[Xe+this.components]));return Ve}function huang($e){let e=0;for(let Ke=0;Ke<$e.length;Ke++)if($e[Ke]!==0){e=Ke;break}let t=$e.length-1;for(let Ke=$e.length-1;Ke>=e;Ke--)if($e[Ke]!==0){t=Ke;break}let r=1/(t-e),Ve=new Array($e.length),je=0,ze=0;for(let Ke=e;Ke<$e.length;Ke++)je+=Ke*$e[Ke],ze+=$e[Ke],Ve[Ke]=je/ze;let Xe=new Array($e.length);je=ze=0;for(let Ke=t;Ke>0;Ke--)je+=Ke*$e[Ke],ze+=$e[Ke],Xe[Ke-1]=je/ze;let We=-1,qe=Number.MAX_VALUE;for(let Ke=0;Ke<$e.length;Ke++){let Ze=0,Je;for(let Qe=0;Qe<=Ke;Qe++)Je=1/(1+r*Math.abs(Qe-Ve[Ke])),Je<1e-6||Je>.999999||(Ze+=$e[Qe]*(-Je*Math.log(Je)-(1-Je)*Math.log(1-Je)));for(let Qe=Ke+1;Qe<$e.length;Qe++)Je=1/(1+r*Math.abs(Qe-Xe[Ke])),Je<1e-6||Je>.999999||(Ze+=$e[Qe]*(-Je*Math.log(Je)-(1-Je)*Math.log(1-Je)));Ze<qe&&(qe=Ze,We=Ke)}return We}function intermodes($e){let e=$e.slice(),t=0;for(;!bimodalTest$1(e);){let Ve=0,je=0,ze=e[0];for(let Xe=0;Xe<$e.length-1;Xe++)Ve=je,je=ze,ze=e[Xe+1],e[Xe]=(Ve+je+ze)/3;if(e[$e.length-1]=(je+ze)/3,t++,t>1e4)throw new Error("Intermodes Threshold not found after 10000 iterations")}let r=0;for(let Ve=1;Ve<$e.length-1;Ve++)e[Ve-1]<e[Ve]&&e[Ve+1]<e[Ve]&&(r+=Ve);return Math.floor(r/2)}function bimodalTest$1($e){let e=!1,t=0;for(let r=1;r<$e.length-1;r++)if($e[r-1]<$e[r]&&$e[r+1]<$e[r]&&(t++,t>2))return!1;return t===2&&(e=!0),e}function isodata($e){let e,t,r,Ve,je=0;for(let ze=1;ze<$e.length;ze++)if($e[ze]>0){je=ze+1;break}for(;;){e=0,r=0;for(let ze=0;ze<je;ze++)r=r+$e[ze],e=e+$e[ze]*ze;Ve=0,t=0;for(let ze=je+1;ze<$e.length;ze++)t+=$e[ze],Ve+=$e[ze]*ze;if(r>0&&t>0&&(e/=r,Ve/=t,je===Math.round((e+Ve)/2)))break;if(je++,je>$e.length-2)throw new Error("Threshold not found")}return je}function li($e,e){let t,r,Ve,je,ze,Xe,We,qe,Ke,Ze,Je,Qe;Je=.5,Ze=0;for(let ti=0;ti<$e.length;ti++)Ze+=ti*$e[ti];Ze/=e,We=Ze;do{Xe=We,t=Xe+.5|0,r=0,je=0;for(let ti=0;ti<=t;ti++)r+=ti*$e[ti],je+=$e[ti];qe=je===0?0:r/je,Ve=0,ze=0;for(let ti=t+1;ti<$e.length;ti++)Ve+=ti*$e[ti],ze+=$e[ti];Ke=ze===0?0:Ve/ze,Qe=(qe-Ke)/(Math.log(qe)-Math.log(Ke)),Qe<-Number.EPSILON?We=Qe-.5|0:We=Qe+.5|0}while(Math.abs(We-Xe)>Je);return t}function maxEntropy($e,e){let t=new Array($e.length);for(let Je=0;Je<$e.length;Je++)t[Je]=$e[Je]/e;let r=new Array($e.length),Ve=new Array($e.length);r[0]=t[0],Ve[0]=1-r[0];for(let Je=1;Je<$e.length;Je++)r[Je]=r[Je-1]+t[Je],Ve[Je]=1-r[Je];let je=0;for(let Je=0;Je<$e.length;Je++)if(Math.abs(r[Je])>=Number.EPSILON){je=Je;break}let ze=$e.length-1;for(let Je=$e.length-1;Je>=je;Je--)if(Math.abs(Ve[Je])>=Number.EPSILON){ze=Je;break}let Xe=-1,We,qe=Number.MIN_VALUE,Ke,Ze;for(let Je=je;Je<=ze;Je++){Ke=0;for(let Qe=0;Qe<=Je;Qe++)$e[Qe]!==0&&(Ke-=t[Qe]/r[Je]*Math.log(t[Qe]/r[Je]));Ze=0;for(let Qe=Je+1;Qe<$e.length;Qe++)$e[Qe]!==0&&(Ze-=t[Qe]/Ve[Je]*Math.log(t[Qe]/Ve[Je]));We=Ke+Ze,qe<We&&(qe=We,Xe=Je)}return Xe}function mean$1($e,e){let t=0;for(let r=0;r<$e.length;r++)t+=r*$e[r];return Math.floor(t/e)}function minError($e,e){let t,r=-2,Ve,je,ze,Xe,We,qe,Ke,Ze,Je,Qe,ti,ni=0;for(let ri=0;ri<$e.length;ri++)ni+=ri*$e[ri];for(ni/=e,t=ni;t!==r;){let ri=sumA($e,t),ii=sumA($e,$e.length-1),ei=sumB($e,t),St=sumB($e,$e.length-1),oi=sumC($e,t),si=sumC($e,$e.length-1);if(Ve=ei/ri,je=(St-ei)/(ii-ri),ze=ri/ii,Xe=(ii-ri)/ii,We=oi/ri-Ve*Ve,qe=(si-oi)/(ii-ri)-je*je,Ke=1/We-1/qe,Ze=Ve/We-je/qe,Je=Ve*Ve/We-je*je/qe+Math.log10(We*(Xe*Xe)/(qe*(ze*ze))),Qe=Ze*Ze-Ke*Je,Qe<0)return t;r=t,ti=(Ze+Math.sqrt(Qe))/Ke,isNaN(ti)?t=r:t=Math.floor(ti)}return t}function sumA($e,e){let t=0;for(let r=0;r<=e;r++)t+=$e[r];return t}function sumB($e,e){let t=0;for(let r=0;r<=e;r++)t+=r*$e[r];return t}function sumC($e,e){let t=0;for(let r=0;r<=e;r++)t+=r*r*$e[r];return t}function minimum($e){if($e.length<2)return 0;let e=0,t=-1,r=-1,Ve=new Array($e.length);for(let je=0;je<$e.length;je++)Ve[je]=$e[je],$e[je]>0&&(r=je);for(;!bimodalTest(Ve);)if(Ve=smoothed(Ve),e++,e>1e4)return t;return t=minimumBetweenPeeks(Ve,r),t}function smoothed($e){let e=new Array($e.length);for(let t=1;t<$e.length-1;t++)e[t]=($e[t-1]+$e[t]+$e[t+1])/3;return e[0]=($e[0]+$e[1])/3,e[$e.length-1]=($e[$e.length-2]+$e[$e.length-1])/3,e}function minimumBetweenPeeks($e,e){let t;for(let r=1;r<e;r++)if($e[r-1]>$e[r]&&$e[r+1]>=$e[r]){t=r;break}return t}function bimodalTest($e){let e=$e.length,t=!1,r=0;for(let Ve=1;Ve<e-1;Ve++)if($e[Ve-1]<$e[Ve]&&$e[Ve+1]<$e[Ve]&&(r++,r>2))return!1;return r===2&&(t=!0),t}function moments($e,e){let t=1,r=0,Ve=0,je=0,ze=0,Xe,We,qe,Ke,Ze,Je,Qe=-1,ti=$e.length,ni=new Array(ti);for(let ri=0;ri<ti;ri++)ni[ri]=$e[ri]/e;for(let ri=0;ri<ti;ri++)r+=ri*ni[ri],Ve+=ri*ri*ni[ri],je+=ri*ri*ri*ni[ri];We=t*Ve-r*r,qe=(-Ve*Ve+r*je)/We,Ke=(t*-je+Ve*r)/We,Ze=.5*(-Ke-Math.sqrt(Ke*Ke-4*qe)),Je=.5*(-Ke+Math.sqrt(Ke*Ke-4*qe)),Xe=(Je-r)/(Je-Ze);for(let ri=0;ri<ti;ri++)if(ze+=ni[ri],ze>Xe){Qe=ri;break}return Qe}function otsu($e,e){let t=0,r=0,Ve=0,je=0,ze=0;for(let Xe=0;Xe<$e.length;Xe++)ze+=Xe*$e[Xe];for(let Xe=0;Xe<$e.length;Xe++){r=r+$e[Xe];const We=e-r;if(r===0||We===0)continue;t=t+Xe*$e[Xe];const qe=(ze-t)/We,Ke=r*We*(t/r-qe)*(t/r-qe);Ke>=Ve&&(je=Xe,Ve=Ke)}return je}function percentile($e){let e=-1,t=.5,r=new Array($e.length),Ve=partialSum($e,$e.length-1),je=1;for(let ze=0;ze<$e.length;ze++)r[ze]=Math.abs(partialSum($e,ze)/Ve-t),r[ze]<je&&(je=r[ze],e=ze);return e}function partialSum($e,e){let t=0;for(let r=0;r<=e;r++)t+=$e[r];return t}function renyiEntropy($e,e){let t,r,Ve,je=new Array($e.length),ze=new Array($e.length),Xe=new Array($e.length),We=0,qe=0,Ke=0,Ze=0,Je=0,Qe=0,ti=1/(1-.5),ni=1/-1;for(let St=0;St<$e.length;St++)je[St]=$e[St]/e;ze[0]=je[0],Xe[0]=1-ze[0];for(let St=1;St<$e.length;St++)ze[St]=ze[St-1]+je[St],Xe[St]=1-ze[St];r=0;for(let St=0;St<$e.length;St++)if(Math.abs(ze[St])>=Number.EPSILON){r=St;break}Ve=$e.length-1;for(let St=$e.length-1;St>=r;St--)if(Math.abs(Xe[St])>=Number.EPSILON){Ve=St;break}for(let St=r;St<=Ve;St++){let oi=0,si=0,ai=0;for(let yi=0;yi<=St;yi++)$e[yi]!==0&&(oi-=je[yi]/ze[St]*Math.log(je[yi]/ze[St])),si+=Math.sqrt(je[yi]/ze[St]),ai+=je[yi]*je[yi]/(ze[St]*ze[St]);let ui=0,hi=0,ci=0;for(let yi=St+1;yi<$e.length;yi++)$e[yi]!==0&&(ui-=je[yi]/Xe[St]*Math.log(je[yi]/Xe[St])),hi+=Math.sqrt(je[yi]/Xe[St]),ci+=je[yi]*je[yi]/(Xe[St]*Xe[St]);let mi=oi+ui,di=ti*(si*hi>0?Math.log(si*hi):0),pi=ni*(ai*ci>0?Math.log(ai*ci):0);mi>Ze&&(Ze=mi,We=St),di>Je&&(Je=di,qe=St),pi>Qe&&(Qe=pi,Ke=St)}let ri=[We,qe,Ke];ri.sort((St,oi)=>St-oi);let ii;Math.abs(ri[0]-ri[1])<=5?Math.abs(ri[1]-ri[2])<=5?ii=[1,2,1]:ii=[0,1,3]:Math.abs(ri[1]-ri[2])<=5?ii=[3,1,0]:ii=[1,2,1];let ei=ze[ri[2]]-ze[ri[0]];return t=Math.round(ri[0]*(ze[ri[0]]+.25*ei*ii[0])+.25*ri[1]*ei*ii[1]+ri[2]*(Xe[ri[2]]+.25*ei*ii[2])),t}function shanbhag($e,e){let t=new Array($e.length);for(let Qe=0;Qe<$e.length;Qe++)t[Qe]=$e[Qe]/e;let r=new Array($e.length),Ve=new Array($e.length);r[0]=t[0],Ve[0]=1-r[0];for(let Qe=1;Qe<$e.length;Qe++)r[Qe]=r[Qe-1]+t[Qe],Ve[Qe]=1-r[Qe];let je=0;for(let Qe=0;Qe<$e.length;Qe++)if(Math.abs(r[Qe])>=Number.EPSILON){je=Qe;break}let ze=$e.length-1;for(let Qe=$e.length-1;Qe>=je;Qe--)if(Math.abs(Ve[Qe])>=Number.EPSILON){ze=Qe;break}let Xe=-1,We=Number.MAX_VALUE,qe,Ke,Ze,Je;for(let Qe=je;Qe<=ze;Qe++){Ze=0,qe=.5/r[Qe];for(let ti=1;ti<=Qe;ti++)Ze-=t[ti]*Math.log(1-qe*r[ti-1]);Ze*=qe,Je=0,qe=.5/Ve[Qe];for(let ti=Qe+1;ti<$e.length;ti++)Je-=t[ti]*Math.log(1-qe*Ve[ti]);Je*=qe,Ke=Math.abs(Ze-Je),Ke<We&&(We=Ke,Xe=Qe)}return Xe}function triangle$1($e){let e=0,t=0,r=0,Ve=0;for(let Ze=0;Ze<$e.length;Ze++)if($e[Ze]>0){e=Ze;break}e>0&&e--;for(let Ze=$e.length-1;Ze>0;Ze--)if($e[Ze]>0){Ve=Ze;break}Ve<$e.length-1&&Ve++;for(let Ze=0;Ze<$e.length;Ze++)$e[Ze]>t&&(r=Ze,t=$e[Ze]);let je=!1;if(r-e<Ve-r){je=!0;let Ze=0,Je=$e.length-1;for(;Ze<Je;){let Qe=$e[Ze];$e[Ze]=$e[Je],$e[Je]=Qe,Ze++,Je--}e=$e.length-1-Ve,r=$e.length-1-r}if(e===r)return e;let ze,Xe,We;ze=$e[r],Xe=e-r,We=Math.sqrt(ze*ze+Xe*Xe),ze/=We,Xe/=We,We=ze*e+Xe*$e[e];let qe=e,Ke=0;for(let Ze=e+1;Ze<=r;Ze++){let Je=ze*Ze+Xe*$e[Ze]-We;Je>Ke&&(qe=Ze,Ke=Je)}if(qe--,je){let Ze=0,Je=$e.length-1;for(;Ze<Je;){let Qe=$e[Ze];$e[Ze]=$e[Je],$e[Je]=Qe,Ze++,Je--}return $e.length-1-qe}else return qe}function yen($e,e){let t=new Array($e.length);for(let qe=0;qe<$e.length;qe++)t[qe]=$e[qe]/e;let r=new Array($e.length);r[0]=t[0];for(let qe=1;qe<$e.length;qe++)r[qe]=r[qe-1]+t[qe];let Ve=new Array($e.length);Ve[0]=t[0]*t[0];for(let qe=1;qe<$e.length;qe++)Ve[qe]=Ve[qe-1]+t[qe]*t[qe];let je=new Array($e.length);je[$e.length-1]=0;for(let qe=$e.length-2;qe>=0;qe--)je[qe]=je[qe+1]+t[qe+1]*t[qe+1];let ze=-1,Xe=Number.MIN_VALUE,We;for(let qe=0;qe<$e.length;qe++)We=-1*(Ve[qe]*je[qe]>0?Math.log(Ve[qe]*je[qe]):0)+2*(r[qe]*(1-r[qe])>0?Math.log(r[qe]*(1-r[qe])):0),We>Xe&&(Xe=We,ze=qe);return ze}const methods={huang,intermodes,isodata,li,maxentropy:maxEntropy,mean:mean$1,minerror:minError,minimum,moments,otsu,percentile,renyientropy:renyiEntropy,shanbhag,triangle:triangle$1,yen},names={};Object.keys(methods).forEach($e=>{names[$e]=$e});function getThreshold($e={}){let{algorithm:e=names.otsu}=$e;this.checkProcessable("getThreshold",{components:1,bitDepth:[8,16]});let t=methods[e.toLowerCase()];if(t){let r=this.getHistogram();return t(r,this.size)}else throw new Error(`unknown thresholding algorithm: ${e}`)}const THRESHOLD="threshold";function mask($e={}){let{algorithm:e=THRESHOLD,threshold:t=.5,useAlpha:r=!0,invert:Ve=!1}=$e;this.checkProcessable("mask",{components:1,bitDepth:[8,16]}),e===THRESHOLD?t=getThreshold$1(t,this.maxValue):t=getThreshold.call(this,$e);let je=new Image$1(this.width,this.height,{kind:"BINARY",parent:this}),ze=0;if(this.alpha&&r)for(let Xe=0;Xe<this.data.length;Xe+=this.channels){let We=this.data[Xe]+(this.maxValue-this.data[Xe])*(this.maxValue-this.data[Xe+1])/this.maxValue;(Ve&&We<=t||!Ve&&We>=t)&&je.setBit(ze),ze++}else for(let Xe=0;Xe<this.data.length;Xe+=this.channels)(Ve&&this.data[Xe]<=t||!Ve&&this.data[Xe]>=t)&&je.setBit(ze),ze++;return je}function copyImage($e,e,t,r){let Ve=$e.width,je=$e.height,ze=e.width,Xe=$e.channels;for(let We=0;We<Ve;We++)for(let qe=0;qe<je;qe++)for(let Ke=0;Ke<Xe;Ke++){let Ze=(qe*Ve+We)*Xe+Ke,Je=((r+qe)*ze+t+We)*Xe+Ke;e.data[Je]=$e.data[Ze]}}function pad($e={}){let{size:e=0,algorithm:t="copy",color:r}=$e;if(this.checkProcessable("pad",{bitDepth:[8,16]}),t==="set"){if(r.length!==this.channels)throw new Error(`pad: the color array must have the same length as the number of channels. Here: ${this.channels}`);for(let We=0;We<r.length;We++)r[We]===0&&(r[We]=.001)}else r=newArray$1(this.channels,null);Array.isArray(e)||(e=[e,e]);let Ve=this.width+e[0]*2,je=this.height+e[1]*2,ze=this.channels,Xe=Image$1.createFrom(this,{width:Ve,height:je});copyImage(this,Xe,e[0],e[1]);for(let We=e[0];We<Ve-e[0];We++)for(let qe=0;qe<ze;qe++){let Ke=r[qe]||Xe.data[(e[1]*Ve+We)*ze+qe];for(let Ze=0;Ze<e[1];Ze++)Xe.data[(Ze*Ve+We)*ze+qe]=Ke;Ke=r[qe]||Xe.data[((je-e[1]-1)*Ve+We)*ze+qe];for(let Ze=je-e[1];Ze<je;Ze++)Xe.data[(Ze*Ve+We)*ze+qe]=Ke}for(let We=0;We<je;We++)for(let qe=0;qe<ze;qe++){let Ke=r[qe]||Xe.data[(We*Ve+e[0])*ze+qe];for(let Ze=0;Ze<e[0];Ze++)Xe.data[(We*Ve+Ze)*ze+qe]=Ke;Ke=r[qe]||Xe.data[(We*Ve+Ve-e[0]-1)*ze+qe];for(let Ze=Ve-e[0];Ze<Ve;Ze++)Xe.data[(We*Ve+Ze)*ze+qe]=Ke}return Xe}function colorDepth($e=8){if(this.checkProcessable("colorDepth",{bitDepth:[1,8,16]}),![8,16].includes($e))throw Error("You need to specify the new colorDepth as 8 or 16");if(this.bitDepth===$e)return this.clone();let e=Image$1.createFrom(this,{bitDepth:$e});switch($e){case 8:if(this.bitDepth===1)for(let t=0;t<this.size;t++)this.getBit(t)&&(e.data[t]=255);else for(let t=0;t<this.data.length;t++)e.data[t]=this.data[t]>>8;break;case 16:if(this.bitDepth===1)for(let t=0;t<this.size;t++)this.getBit(t)&&(e.data[t]=65535);else for(let t=0;t<this.data.length;t++)e.data[t]=this.data[t]<<8|this.data[t];break;default:throw new Error("colorDepth conversion unexpected case")}return e}function rotateFree($e,e={}){const{interpolation:t=validInterpolations.nearestneighbor,width:r=this.width,height:Ve=this.height}=e;if(typeof $e!="number")throw new TypeError("degrees must be a number");const je=checkInterpolation(t),ze=$e*Math.PI/180,Xe=Math.floor(Math.abs(r*Math.cos(ze))+Math.abs(Ve*Math.sin(ze))),We=Math.floor(Math.abs(Ve*Math.cos(ze))+Math.abs(r*Math.sin(ze))),qe=Math.cos(-ze),Ke=Math.sin(-ze);let Ze=Xe/2,Je=We/2;Xe%2===0?(Ze=Ze-.5,We%2===0?Je=Je-.5:Je=Math.floor(Je)):(Ze=Math.floor(Ze),We%2===0?Je=Je-.5:Je=Math.floor(Je));const Qe=Math.floor(r/2-Ze),ti=Math.floor(Ve/2-Je);if(this.bitDepth===1){const ni=new Image$1(Xe,We,{kind:"BINARY",parent:this});switch(je){case validInterpolations.nearestneighbor:return rotateBinaryNearestNeighbor(this,ni,Qe,ti,Ze,Je,qe,Ke);case validInterpolations.bilinear:return rotateBinaryBilinear(this,ni,Qe,ti,Ze,Je,qe,Ke);default:throw new Error(`unsupported rotate interpolation: ${je}`)}}else{const ni=Image$1.createFrom(this,{width:Xe,height:We});switch(je){case validInterpolations.nearestneighbor:return rotateNearestNeighbor(this,ni,Qe,ti,Ze,Je,qe,Ke);case validInterpolations.bilinear:return rotateBilinear(this,ni,Qe,ti,Ze,Je,qe,Ke);default:throw new Error(`unsupported rotate interpolation: ${je}`)}}}function rotateNearestNeighbor($e,e,t,r,Ve,je,ze,Xe){for(let We=0;We<e.width;We+=1)for(let qe=0;qe<e.height;qe+=1)for(let Ke=0;Ke<$e.channels;Ke++){let Ze=Math.round((We-Ve)*ze-(qe-je)*Xe+Ve)+t,Je=Math.round((qe-je)*ze+(We-Ve)*Xe+je)+r;Ze<0||Ze>=$e.width||Je<0||Je>=$e.height?$e.alpha===1&&Ke===$e.channels-1?e.setValueXY(We,qe,Ke,0):e.setValueXY(We,qe,Ke,$e.maxValue):e.setValueXY(We,qe,Ke,$e.getValueXY(Ze,Je,Ke))}return e}function rotateBinaryNearestNeighbor($e,e,t,r,Ve,je,ze,Xe){for(let We=0;We<e.width;We+=1)for(let qe=0;qe<e.height;qe+=1){let Ke=Math.round((We-Ve)*ze-(qe-je)*Xe+Ve)+t,Ze=Math.round((qe-je)*ze+(We-Ve)*Xe+je)+r;(Ke<0||Ke>=$e.width||Ze<0||Ze>=$e.height||$e.getBitXY(Ke,Ze))&&e.setBitXY(We,qe)}return e}function rotateBilinear($e,e,t,r,Ve,je,ze,Xe){let We=$e.width*$e.channels;for(let qe=0;qe<e.height;qe++)for(let Ke=0;Ke<e.width;Ke++){let Ze=(Ke-Ve)*ze-(qe-je)*Xe+Ve+t,Je=(qe-je)*ze+(Ke-Ve)*Xe+je+r,Qe=Ze|0,ti=Je|0,ni=Ze-Qe,ri=Je-ti;for(let ii=0;ii<$e.channels;ii++)if(Ze<0||Ze>=$e.width||Je<0||Je>=$e.height)$e.alpha===1&&ii===$e.channels-1?e.setValueXY(Ke,qe,ii,0):e.setValueXY(Ke,qe,ii,$e.maxValue);else{let ei=(ti*$e.width+Qe)*$e.channels+ii,St=$e.data[ei],oi=$e.data[ei+$e.channels],si=$e.data[ei+We],ai=$e.data[ei+We+$e.channels],ui=St+ni*(oi-St)+ri*(si-St)+ni*ri*(St-oi-si+ai)|0;e.setValueXY(Ke,qe,ii,ui)}}return e}function rotateBinaryBilinear($e,e,t,r,Ve,je,ze,Xe){let We=$e.width;for(let qe=0;qe<e.height;qe++)for(let Ke=0;Ke<e.width;Ke++){let Ze=(Ke-Ve)*ze-(qe-je)*Xe+Ve+t,Je=(qe-je)*ze+(Ke-Ve)*Xe+je+r,Qe=Ze|0,ti=Je|0,ni=Ze-Qe,ri=Je-ti;if(Ze<0||Ze>=$e.width||Je<0||Je>=$e.height)e.setBitXY(Ke,qe);else{let ii=ti*$e.width+Qe,ei=$e.getBit(ii),St=$e.getBit(ii+1),oi=$e.getBit(ii+We),si=$e.getBit(ii+1+We);(ei|ni&St-ei|ri&oi-ei|ni&ri&ei-St-oi+si)>0&&e.setBitXY(Ke,qe)}}return e}function rotate$1($e,e){if(this.checkProcessable("rotate",{bitDepth:[1,8,16]}),typeof $e!="number")throw new TypeError("angle must be a number");switch($e<0&&($e=Math.ceil(-$e/360)*360+$e),$e%360){case 0:return this.clone();case 90:return rotateRight.call(this);case 180:return rotate180.call(this);case 270:return rotateLeft.call(this);default:return rotateFree.call(this,$e,e)}}function rotateLeft(){if(this.bitDepth===1){const $e=new Image$1(this.height,this.width,{kind:"BINARY",parent:this}),e=$e.height-1;for(let t=0;t<this.height;t++)for(let r=0;r<this.width;r++)this.getBitXY(r,t)&&$e.setBitXY(t,e-r);return $e}else{const $e=Image$1.createFrom(this,{width:this.height,height:this.width}),e=$e.height-1;for(let t=0;t<this.height;t++)for(let r=0;r<this.width;r++)for(let Ve=0;Ve<this.channels;Ve++)$e.setValueXY(t,e-r,Ve,this.getValueXY(r,t,Ve));return $e}}function rotateRight(){if(this.bitDepth===1){const $e=new Image$1(this.height,this.width,{kind:"BINARY",parent:this}),e=$e.width-1;for(let t=0;t<this.height;t++)for(let r=0;r<this.width;r++)this.getBitXY(r,t)&&$e.setBitXY(e-t,r);return $e}else{const $e=Image$1.createFrom(this,{width:this.height,height:this.width}),e=$e.width-1;for(let t=0;t<this.height;t++)for(let r=0;r<this.width;r++)for(let Ve=0;Ve<this.channels;Ve++)$e.setValueXY(e-t,r,Ve,this.getValueXY(r,t,Ve));return $e}}function rotate180(){if(this.bitDepth===1){const $e=new Image$1(this.width,this.height,{kind:"BINARY",parent:this}),e=$e.width-1,t=$e.height-1;for(let r=0;r<this.height;r++)for(let Ve=0;Ve<this.width;Ve++)this.getBitXY(Ve,r)&&$e.setBitXY(e-Ve,t-r);return $e}else{const $e=Image$1.createFrom(this),e=$e.width-1,t=$e.height-1;for(let r=0;r<this.height;r++)for(let Ve=0;Ve<this.width;Ve++)for(let je=0;je<this.channels;je++)$e.setValueXY(e-Ve,t-r,je,this.getValueXY(Ve,r,je));return $e}}function insert($e,e={}){const t=getImageParameters($e);this.checkProcessable("insert",t);let{x:r=0,y:Ve=0}=e;const je=getOutputImageOrInPlace(this,e,{copy:!0}),ze=Math.min(je.height,Ve+$e.height),Xe=Math.min(je.width,r+$e.width);if(je.bitDepth===1)for(let We=Ve;We<ze;We++)for(let qe=r;qe<Xe;qe++)$e.getBitXY(qe-r,We-Ve)?je.setBitXY(qe,We):je.clearBitXY(qe,We);else for(let We=Ve;We<ze;We++)for(let qe=r;qe<Xe;qe++)je.setPixelXY(qe,We,$e.getPixelXY(qe-r,We-Ve));return je}function setBorder($e={}){let{size:e=0,algorithm:t="copy",color:r}=$e;if(this.checkProcessable("setBorder",{bitDepth:[8,16,32,64]}),t==="set"){if(r.length!==this.channels)throw new Error(`setBorder: the color array must have the same length as the number of channels. Here: ${this.channels}`);for(let Xe=0;Xe<r.length;Xe++)r[Xe]===0&&(r[Xe]=.001)}else r=newArray$1(this.channels,null);Array.isArray(e)||(e=[e,e]);let Ve=e[0],je=e[1],ze=this.channels;for(let Xe=Ve;Xe<this.width-Ve;Xe++)for(let We=0;We<ze;We++){let qe=r[We]||this.data[(Xe+this.width*je)*ze+We];for(let Ke=0;Ke<je;Ke++)this.data[(Ke*this.width+Xe)*ze+We]=qe;qe=r[We]||this.data[(Xe+this.width*(this.height-je-1))*ze+We];for(let Ke=this.height-je;Ke<this.height;Ke++)this.data[(Ke*this.width+Xe)*ze+We]=qe}for(let Xe=0;Xe<this.height;Xe++)for(let We=0;We<ze;We++){let qe=r[We]||this.data[(Xe*this.width+Ve)*ze+We];for(let Ke=0;Ke<Ve;Ke++)this.data[(Xe*this.width+Ke)*ze+We]=qe;qe=r[We]||this.data[(Xe*this.width+this.width-Ve-1)*ze+We];for(let Ke=this.width-Ve;Ke<this.width;Ke++)this.data[(Xe*this.width+Ke)*ze+We]=qe}return this}function split($e={}){let{preserveAlpha:e=!0}=$e;if(this.checkProcessable("split",{bitDepth:[8,16]}),this.components===1)return new Stack([this.clone()]);let t=new Stack,r=this.data;if(this.alpha&&e)for(let Ve=0;Ve<this.components;Ve++){let je=Image$1.createFrom(this,{components:1,alpha:!0,colorModel:GREY$1}),ze=0;for(let Xe=0;Xe<r.length;Xe+=this.channels)je.data[ze++]=r[Xe+Ve],je.data[ze++]=r[Xe+this.components];t.push(je)}else for(let Ve=0;Ve<this.channels;Ve++){let je=Image$1.createFrom(this,{components:1,alpha:!1,colorModel:GREY$1}),ze=0;for(let Xe=0;Xe<r.length;Xe+=this.channels)je.data[ze++]=r[Xe+Ve];t.push(je)}return t}function getChannel($e,e={}){let{keepAlpha:t=!1,mergeAlpha:r=!1}=e;t&=this.alpha,r&=this.alpha,this.checkProcessable("getChannel",{bitDepth:[8,16]}),$e=validateChannel(this,$e);let Ve=Image$1.createFrom(this,{components:1,alpha:t,colorModel:GREY$1}),je=0;for(let ze=0;ze<this.data.length;ze+=this.channels)r?Ve.data[je++]=this.data[ze+$e]*this.data[ze+this.components]/this.maxValue:(Ve.data[je++]=this.data[ze+$e],t&&(Ve.data[je++]=this.data[ze+this.components]));return Ve}function combineChannels($e=defaultCombineMethod,e={}){let{mergeAlpha:t=!1,keepAlpha:r=!1}=e;t&=this.alpha,r&=this.alpha,this.checkProcessable("combineChannels",{bitDepth:[8,16]});let Ve=Image$1.createFrom(this,{components:1,alpha:r,colorModel:GREY$1}),je=0;for(let ze=0;ze<this.size;ze++){let Xe=$e(this.getPixel(ze));t?Ve.data[je++]=Xe*this.data[ze*this.channels+this.components]/this.maxValue:(Ve.data[je++]=Xe,r&&(Ve.data[je++]=this.data[ze*this.channels+this.components]))}return Ve}function defaultCombineMethod($e){return($e[0]+$e[1]+$e[2])/3}function setChannel($e,e){if(this.checkProcessable("setChannel",{bitDepth:[8,16]}),e.checkProcessable("setChannel (image parameter check)",{bitDepth:[this.bitDepth],alpha:[0],components:[1]}),e.width!==this.width||e.height!==this.height)throw new Error("Images must have exactly the same width and height");$e=validateChannel(this,$e);let t=$e;for(let r=0;r<e.data.length;r++)this.data[t]=e.data[r],t+=this.channels;return this}function getSimilarity($e,e={}){let{shift:t=[0,0],average:r,channels:Ve,defaultAlpha:je,normalize:ze,border:Xe=[0,0]}=e;if(this.checkProcessable("getSimilarity",{bitDepth:[8,16]}),Array.isArray(Xe)||(Xe=[Xe,Xe]),Ve=validateArrayOfChannels(this,{channels:Ve,defaultAlpha:je}),this.bitDepth!==$e.bitDepth)throw new Error("Both images must have the same bitDepth");if(this.channels!==$e.channels)throw new Error("Both images must have the same number of channels");if(this.colorModel!==$e.colorModel)throw new Error("Both images must have the same colorModel");typeof r>"u"&&(r=!0);let We=Math.max(Xe[0],-t[0]),qe=Math.min(this.width-Xe[0],this.width-t[0]),Ke=Math.max(Xe[1],-t[1]),Ze=Math.min(this.height-Xe[1],this.height-t[1]),Je=newArray$1(Ve.length,0);for(let Qe=0;Qe<Ve.length;Qe++){let ti=Ve[Qe],ni=ze?this.sum[ti]:Math.max(this.sum[ti],$e.sum[ti]),ri=ze?$e.sum[ti]:Math.max(this.sum[ti],$e.sum[ti]);if(ni!==0&&ri!==0)for(let ii=We;ii<qe;ii++)for(let ei=Ke;ei<Ze;ei++){let St=ii*this.multiplierX+ei*this.multiplierY+ti,oi=St+t[0]*this.multiplierX+t[1]*this.multiplierY;Je[Qe]+=Math.min(this.data[St]/ni,$e.data[oi]/ri)}}return r?Je.reduce((Qe,ti)=>Qe+ti)/Je.length:Je}function getPixelsGrid($e={}){let{sampling:e=[10,10],painted:t=!1,mask:r}=$e;this.checkProcessable("getPixelsGrid",{bitDepth:[8,16],channels:1}),Array.isArray(e)||(e=[e,e]);const Ve=e[0],je=e[1],ze=[],Xe=[],We=this.width/Ve,qe=this.height/je;let Ke=Math.floor(We/2);for(let Je=0;Je<Ve;Je++){let Qe=Math.floor(qe/2);for(let ti=0;ti<je;ti++){let ni=Math.round(Ke),ri=Math.round(Qe);(!r||r.getBitXY(ni,ri))&&(ze.push([ni,ri]),Xe.push(this.getPixelXY(ni,ri))),Qe+=qe}Ke+=We}const Ze={xyS:ze,zS:Xe};return t&&(Ze.painted=this.rgba8().paintPoints(ze)),Ze}function Matrix($e,e,t){const r=new Array($e);for(let Ve=0;Ve<$e;Ve++)r[Ve]=new Array(e);if(t)for(let Ve=0;Ve<$e;Ve++)for(let je=0;je<e;je++)r[Ve][je]=t;return r.width=$e,r.height=e,Object.setPrototypeOf(r,Matrix.prototype),r}Matrix.prototype.localMin=function($e,e){let t=this[$e][e],r=[$e,e];for(let Ve=Math.max(0,$e-1);Ve<Math.min(this.length,$e+2);Ve++)for(let je=Math.max(0,e-1);je<Math.min(this[0].length,e+2);je++)this[Ve][je]<t&&(t=this[Ve][je],r=[Ve,je]);return{position:r,value:t}};Matrix.prototype.localMax=function($e,e){let t=this[$e][e],r=[$e,e];for(let Ve=Math.max(0,$e-1);Ve<Math.min(this.length,$e+2);Ve++)for(let je=Math.max(0,e-1);je<Math.min(this[0].length,e+2);je++)this[Ve][je]>t&&(t=this[Ve][je],r=[Ve,je]);return{position:r,value:t}};Matrix.prototype.localSearch=function($e,e,t){let r=[];for(let Ve=Math.max(0,$e-1);Ve<Math.min(this.length,$e+2);Ve++)for(let je=Math.max(0,e-1);je<Math.min(this[0].length,e+2);je++)this[Ve][je]===t&&r.push([Ve,je]);return r};function getBestMatch($e,e={}){let{border:t}=e;if(this.checkProcessable("getChannel",{bitDepth:[8,16]}),this.bitDepth!==$e.bitDepth)throw new Error("Both images must have the same bitDepth");if(this.channels!==$e.channels)throw new Error("Both images must have the same number of channels");if(this.colorModel!==$e.colorModel)throw new Error("Both images must have the same colorModel");let r=new Matrix($e.width,$e.height,-1/0),Ve=Math.floor($e.width/2),je=Math.floor($e.height/2),ze=Ve,Xe=je,We=!1;for(;!We;){let qe=r.localSearch(Ve,je,-1/0);for(let Ze=0;Ze<qe.length;Ze++){let Je=qe[Ze],Qe=this.getSimilarity($e,{border:t,shift:[ze-Je[0],Xe-Je[1]]});r[Je[0]][Je[1]]=Qe}let Ke=r.localMax(Ve,je);Ke.position[0]!==Ve||Ke.position[1]!==je?(Ve=Ke.position[0],je=Ke.position[1]):We=!0}return[Ve-ze,je-Xe]}function getRow($e,e=0){this.checkProcessable("getRow",{bitDepth:[8,16]}),checkRow(this,$e),checkChannel(this,e);let t=new Array(this.width),r=0,Ve=$e*this.width*this.channels+e,je=Ve+this.width*this.channels;for(let ze=Ve;ze<je;ze+=this.channels)t[r++]=this.data[ze];return t}function getColumn($e,e=0){this.checkProcessable("getColumn",{bitDepth:[8,16]}),checkColumn(this,$e),checkChannel(this,e);let t=new Array(this.height),r=0,Ve=this.width*this.channels;for(let je=e+$e*this.channels;je<this.data.length;je+=Ve)t[r++]=this.data[je];return t}function getMatrix($e={}){let{channel:e}=$e;if(this.checkProcessable("getMatrix",{bitDepth:[8,16]}),e===void 0){if(this.components>1)throw new RangeError("You need to define the channel for an image that contains more than one channel");e=0}let t=new Matrix$2(this.height,this.width);for(let r=0;r<this.height;r++)for(let Ve=0;Ve<this.width;Ve++)t.set(r,Ve,this.getValueXY(Ve,r,e));return t}function setMatrix($e,e={}){$e=new Matrix$2($e);let{channel:t}=e;if(this.checkProcessable("getMatrix",{bitDepth:[8,16]}),t===void 0){if(this.components>1)throw new RangeError("You need to define the channel for an image that contains more than one channel");t=0}if(this.width!==$e.columns||this.height!==$e.rows)throw new RangeError("The size of the matrix must be equal to the size of the image");for(let r=0;r<this.height;r++)for(let Ve=0;Ve<this.width;Ve++)this.setValueXY(Ve,r,t,$e.get(r,Ve));return this}function getPixelsArray(){this.checkProcessable("getPixelsArray",{bitDepth:[8,16,32]});let $e=new Array(this.size),e=0;for(let t=0;t<this.data.length;t+=this.channels){let r=new Array(this.components);for(let Ve=0;Ve<this.components;Ve++)r[Ve]=this.data[t+Ve];$e[e++]=r}return $e}function getIntersection($e){let e=this,t=e.getClosestCommonParent($e),r=e.getRelativePosition(t,{defaultFurther:!0}),Ve=getRelativePositionForAllPixels(e,r),je=$e.getRelativePosition(t,{defaultFurther:!0}),ze=getRelativePositionForAllPixels($e,je),Xe=getCommonSurface(Ve,ze),We={whitePixelsMask1:[],whitePixelsMask2:[],commonWhitePixels:[]};for(let qe=0;qe<Xe.length;qe++){let Ke=Xe[qe],Ze=[Ke[0]-r[0],Ke[1]-r[1]],Je=[Ke[0]-je[0],Ke[1]-je[1]],Qe=e.getBitXY(Ze[0],Ze[1]),ti=$e.getBitXY(Je[0],Je[1]);Qe===1&&ti===1&&We.commonWhitePixels.push(Ke)}for(let qe=0;qe<Ve.length;qe++){let Ke,Ze;qe!==0&&(Ke=Math.floor(qe/e.width),Ze=qe%e.width),e.getBitXY(Ke,Ze)===1&&We.whitePixelsMask1.push(Ve[qe])}for(let qe=0;qe<ze.length;qe++){let Ke=0,Ze=0;qe!==0&&(Ke=Math.floor(qe/$e.width),Ze=qe%$e.width),$e.getBitXY(Ke,Ze)===1&&We.whitePixelsMask2.push(ze[qe])}return We}function getRelativePositionForAllPixels($e,e){let t=[];for(let r=0;r<$e.height;r++)for(let Ve=0;Ve<$e.width;Ve++){let je=[r,Ve];t.push([je[0]+e[0],je[1]+e[1]])}return t}function getCommonSurface($e,e){let t=0,r=0,Ve=[];for(;t<$e.length&&r<e.length;)$e[t][0]===e[r][0]&&$e[t][1]===e[r][1]?(Ve.push($e[t]),t++,r++):$e[t][0]<e[r][0]||$e[t][0]===e[r][0]&&$e[t][1]<e[r][1]?t++:r++;return Ve}function getClosestCommonParent($e){let e=getDepth(this),t=getDepth($e),r;if(e>=t?r=getFurthestParent(this,e):r=getFurthestParent($e,t),e===0||t===0)return r;let Ve=this,je=$e;for(;e!==t;)if(e>t){if(Ve=Ve.parent,Ve===null)return r;e=e-1}else{if(je=je.parent,je===null)return r;t=t-1}for(;Ve!==je&&Ve!==null&&je!==null;)if(Ve=Ve.parent,je=je.parent,Ve===null||je===null)return r;return Ve!==je?r:Ve}function getDepth($e){let e=0,t=$e;for(;t.parent!=null;)t=t.parent,e++;return e}function getFurthestParent($e,e){let t=$e;for(;e>0;)t=t.parent,e=e-1;return t}const defaultOptions$1={lowThreshold:10,highThreshold:30,gaussianBlur:1.1},Gx=[[-1,0,1],[-2,0,2],[-1,0,1]],Gy=[[-1,-2,-1],[0,0,0],[1,2,1]],convOptions={bitDepth:32,mode:"periodic"};function cannyEdgeDetector($e,e){$e.checkProcessable("Canny edge detector",{bitDepth:8,channels:1,components:1}),e=Object.assign({},defaultOptions$1,e);const t=$e.width,r=$e.height,Ve=$e.maxValue,je={sigma:e.gaussianBlur,radius:3},ze=$e.gaussianFilter(je),Xe=ze.convolution(Gy,convOptions),We=ze.convolution(Gx,convOptions),qe=We.hypotenuse(Xe),Ke=$e.constructor,Ze=new Ke(t,r,{kind:"GREY",bitDepth:32}),Je=new Ke(t,r,{kind:"GREY",bitDepth:32}),Qe=new Ke(t,r,{kind:"GREY"});for(var ti=1;ti<t-1;ti++)for(var ni=1;ni<r-1;ni++){var ri=(Math.round(Math.atan2(We.getValueXY(ti,ni,0),Xe.getValueXY(ti,ni,0))*(5/Math.PI))+5)%5;ri===0&&(qe.getValueXY(ti,ni,0)<=qe.getValueXY(ti,ni-1,0)||qe.getValueXY(ti,ni,0)<=qe.getValueXY(ti,ni+1,0))||ri===1&&(qe.getValueXY(ti,ni,0)<=qe.getValueXY(ti-1,ni+1,0)||qe.getValueXY(ti,ni,0)<=qe.getValueXY(ti+1,ni-1,0))||ri===2&&(qe.getValueXY(ti,ni,0)<=qe.getValueXY(ti-1,ni,0)||qe.getValueXY(ti,ni,0)<=qe.getValueXY(ti+1,ni,0))||ri===3&&(qe.getValueXY(ti,ni,0)<=qe.getValueXY(ti-1,ni-1,0)||qe.getValueXY(ti,ni,0)<=qe.getValueXY(ti+1,ni+1,0))||Ze.setValueXY(ti,ni,0,qe.getValueXY(ti,ni,0))}for(ti=0;ti<t*r;++ti){var ii=Ze.data[ti],ei=0;ii>e.highThreshold&&(ei++,Qe.data[ti]=Ve),ii>e.lowThreshold&&ei++,Je.data[ti]=ei}var St=[];for(ti=1;ti<t-1;++ti)for(ni=1;ni<r-1;++ni)if(Je.getValueXY(ti,ni,0)===1){e:for(var oi=ti-1;oi<ti+2;++oi)for(var si=ni-1;si<ni+2;++si)if(Je.getValueXY(oi,si,0)===2){St.push([ti,ni]),Qe.setValueXY(ti,ni,0,Ve);break e}}for(;St.length>0;){var ai=[];for(ti=0;ti<St.length;++ti)for(ni=-1;ni<2;++ni)for(oi=-1;oi<2;++oi)if(!(ni===0&&oi===0)){var ui=St[ti][0]+ni,hi=St[ti][1]+oi;Je.getValueXY(ui,hi,0)===1&&Qe.getValueXY(ui,hi,0)===0&&(ai.push([ui,hi]),Qe.setValueXY(ui,hi,0,Ve))}St=ai}return Qe}function cannyEdge($e){return cannyEdgeDetector(this,$e)}function extract($e,e={}){let{position:t}=e;if(this.checkProcessable("extract",{bitDepth:[1,8,16]}),!t&&(t=$e.getRelativePosition(this),!t))throw new Error("extract : can not extract an image because the relative position can not be determined, try to specify manually the position as an array of 2 elements [x,y].");if(this.bitDepth>1){let r=Image$1.createFrom(this,{width:$e.width,height:$e.height,alpha:1,position:t,parent:this});for(let Ve=0;Ve<$e.width;Ve++)for(let je=0;je<$e.height;je++){for(let ze=0;ze<this.channels;ze++){let Xe=this.getValueXY(Ve+t[0],je+t[1],ze);r.setValueXY(Ve,je,ze,Xe)}$e.getBitXY(Ve,je)||r.setValueXY(Ve,je,this.components,0)}return r}else{let r=Image$1.createFrom(this,{width:$e.width,height:$e.height,position:t,parent:this});for(let Ve=0;Ve<$e.height;Ve++)for(let je=0;je<$e.width;je++)$e.getBitXY(je,Ve)&&this.getBitXY(je+t[0],Ve+t[1])&&r.setBitXY(je,Ve);return r}}var fastList={exports:{}};(function($e,e){(function(){function t(Ve,je,ze){this.next=ze,ze&&(ze.prev=this),this.prev=je,je&&(je.next=this),this.data=Ve}function r(){if(!(this instanceof r))return new r;this._head=null,this._tail=null,this.length=0}r.prototype={push:function(Ve){this._tail=new t(Ve,this._tail,null),this._head||(this._head=this._tail),this.length++},pop:function(){if(this.length!==0){var Ve=this._tail;return this._tail=Ve.prev,Ve.prev&&(Ve.prev=this._tail.next=null),this.length--,this.length===1?this._head=this._tail:this.length===0&&(this._head=this._tail=null),Ve.data}},unshift:function(Ve){this._head=new t(Ve,null,this._head),this._tail||(this._tail=this._head),this.length++},shift:function(){if(this.length!==0){var Ve=this._head;return this._head=Ve.next,Ve.next&&(Ve.next=this._head.prev=null),this.length--,this.length===1?this._tail=this._head:this.length===0&&(this._head=this._tail=null),Ve.data}},item:function(Ve){Ve<0&&(Ve=this.length+Ve);for(var je=this._head;Ve-- >0&&je;)je=je.next;return je?je.data:void 0},slice:function(Ve,je){if(Ve||(Ve=0),je||(je=this.length),je<0&&(je=this.length+je),Ve<0&&(Ve=this.length+Ve),je===Ve)return[];if(je<Ve)throw new Error("invalid offset: "+Ve+","+je+" (length="+this.length+")");for(var ze=je-Ve,Xe=new Array(ze),We=0,qe=this._head;Ve-- >0&&qe;)qe=qe.next;for(;We<ze&&qe;)Xe[We++]=qe.data,qe=qe.next;return Xe},drop:function(){r.call(this)},forEach:function(Ve,je){for(var ze=this._head,Xe=0,We=this.length;Xe<We&&ze;)Ve.call(je||this,ze.data,Xe,this),ze=ze.next,Xe++},map:function(Ve,je){var ze=new r;return this.forEach(function(Xe,We,qe){ze.push(Ve.call(je||qe,Xe,We,qe))}),ze},filter:function(Ve,je){var ze=new r;return this.forEach(function(Xe,We,qe){Ve.call(je||qe,Xe,We,qe)&&ze.push(Xe)}),ze},reduce:function(Ve,je,ze){var Xe=0,We=this._head,qe=this.length;for(je||(Xe=1,je=We&&We.data,We=We&&We.next);Xe<qe&&We;)je=Ve.call(ze||this,je,We.data,this),Xe++,We=We.next;return je}},$e.exports=r})()})(fastList);var fastListExports=fastList.exports;const LinkedList=getDefaultExportFromCjs(fastListExports);function floodFill($e={}){const{x:e=0,y:t=0,inPlace:r=!0}=$e,Ve=r?this:Image$1.createFrom(this);if(this.checkProcessable("floodFill",{bitDepth:1}),this.getBitXY(e,t))return Ve;const je=new LinkedList;for(je.push(new Node(e,t));je.length>0;){const ze=je.shift();Ve.setBitXY(ze.x,ze.y);for(let Xe=ze.x+1;Xe<this.width&&!Ve.getBitXY(Xe,ze.y)&&!this.getBitXY(Xe,ze.y);Xe++)Ve.setBitXY(Xe,ze.y),ze.y+1<this.height&&!this.getBitXY(Xe,ze.y+1)&&je.push(new Node(Xe,ze.y+1)),ze.y-1>=0&&!this.getBitXY(Xe,ze.y-1)&&je.push(new Node(Xe,ze.y-1));for(let Xe=ze.x-1;Xe>=0&&!Ve.getBitXY(Xe,ze.y)&&!this.getBitXY(Xe,ze.y);Xe++)Ve.setBitXY(Xe,ze.y),ze.y+1<this.height&&!this.getBitXY(Xe,ze.y+1)&&je.push(new Node(Xe,ze.y+1)),ze.y-1>=0&&!this.getBitXY(Xe,ze.y-1)&&je.push(new Node(Xe,ze.y-1))}return Ve}function Node($e,e){this.x=$e,this.y=e}function _extends(){return _extends=Object.assign?Object.assign.bind():function($e){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&($e[r]=t[r])}return $e},_extends.apply(this,arguments)}function hsv2rgb($e,e,t){e=e/100,t=t/100;var r=[],Ve=t*e,je=$e/60,ze=Ve*(1-Math.abs(je%2-1)),Xe=t-Ve;return je>=0&&je<1?r=[Ve,ze,0]:je>=1&&je<2?r=[ze,Ve,0]:je>=2&&je<3?r=[0,Ve,ze]:$e>=3&&je<4?r=[0,ze,Ve]:$e>=4&&je<5?r=[ze,0,Ve]:$e>=5&&je<=6?r=[Ve,0,ze]:r=[0,0,0],{r:Math.round(255*(r[0]+Xe)),g:Math.round(255*(r[1]+Xe)),b:Math.round(255*(r[2]+Xe))}}function hsl2hsv($e,e,t){return e*=(t<50?t:100-t)/100,{h:$e,s:2*e/(t+e)*100,v:t+e}}function hsl2rgb$1($e,e,t){var r=hsl2hsv($e,e,t);return hsv2rgb(r.h,r.s,r.v)}var colors={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]};function parse($e){return named($e)||hex3($e)||hex6($e)||rgb($e)||rgba$1($e)||hsl($e)||hsla($e)}function named($e){var e=colors[$e.toLowerCase()];if(e)return{r:e[0],g:e[1],b:e[2],a:100}}function rgb($e){var e=$e.match(/rgb\(([^)]+)\)/);if(e){var t=e[1].split(/ *, */).map(Number);return{r:t[0],g:t[1],b:t[2],a:100}}}function rgba$1($e){var e=$e.match(/rgba\(([^)]+)\)/);if(e){var t=e[1].split(/ *, */).map(Number);return{r:t[0],g:t[1],b:t[2],a:t[3]*100}}}function hex6($e){if($e[0]==="#"&&$e.length===7)return{r:parseInt($e.slice(1,3),16),g:parseInt($e.slice(3,5),16),b:parseInt($e.slice(5,7),16),a:100}}function hex3($e){if($e[0]==="#"&&$e.length===4)return{r:parseInt($e[1]+$e[1],16),g:parseInt($e[2]+$e[2],16),b:parseInt($e[3]+$e[3],16),a:100}}function hsl($e){var e=$e.match(/hsl\(([^)]+)\)/);if(e){var t=e[1].split(/ *, */),r=parseInt(t[0],10),Ve=parseInt(t[1],10),je=parseInt(t[2],10),ze=hsl2rgb$1(r,Ve,je);return _extends({},ze,{a:100})}}function hsla($e){var e=$e.match(/hsla\(([^)]+)\)/);if(e){var t=e[1].split(/ *, */),r=parseInt(t[0],10),Ve=parseInt(t[1],10),je=parseInt(t[2],10),ze=parseInt(parseFloat(t[3])*100,10),Xe=hsl2rgb$1(r,Ve,je);return _extends({},Xe,{a:ze})}}function css2array($e){let e=parse($e);return[e.r,e.g,e.b,Math.round(e.a*255/100)]}function hue2rgb($e,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?$e+(e-$e)*6*t:t<1/2?e:t<2/3?$e+(e-$e)*(2/3-t)*6:$e}function hsl2rgb($e,e,t){let r,Ve,je,ze,Xe,We;return e/=100,t/=100,e===0?ze=Xe=We=t*255:(t<=.5?Ve=t*(e+1):Ve=t+e-t*e,r=t*2-Ve,je=$e/360,ze=hue2rgb(r,Ve,je+1/3),Xe=hue2rgb(r,Ve,je),We=hue2rgb(r,Ve,je-1/3)),{r:ze,g:Xe,b:We}}function getDistinctColors($e){let e=new Array($e),t=0;for(let r=0;r<360;r+=360/$e){t++;let Ve=hsl2rgb(r,100,30+t%4*15);e[t-1]=[Math.round(Ve.r*255),Math.round(Ve.g*255),Math.round(Ve.b*255)]}return e}function getRandomColor(){return[Math.floor(Math.random()*256),Math.floor(Math.random()*256),Math.floor(Math.random()*256)]}function getColors($e){let{color:e,colors:t,randomColors:r,numberColors:Ve=50}=$e;if(e&&!Array.isArray(e)&&(e=css2array(e)),e)return[e];if(t)return t=t.map(function(je){return Array.isArray(je)?je:css2array(je)}),t;if(r){t=new Array(Ve);for(let je=0;je<Ve;je++)t[je]=getRandomColor()}return getDistinctColors(Ve)}function paintLabels($e,e,t={}){let{color:r="blue",colors:Ve,font:je="12px Helvetica",rotate:ze=0}=t;if(this.checkProcessable("paintMasks",{channels:[3,4],bitDepth:[8,16],colorModel:RGB$1}),!Array.isArray($e))throw Error("paintLabels: labels must be an array");if(!Array.isArray(e))throw Error("paintLabels: positions must be an array");if(r&&!Array.isArray(r)&&(r=css2array(r)),Ve?Ve=Ve.map(function(We){return Array.isArray(We)?We:css2array(We)}):Ve=[r],$e.length!==e.length)throw Error("paintLabels: positions and labels must be arrays from the same size");Array.isArray(je)||(je=[je]),Array.isArray(ze)||(ze=[ze]);let Xe=this.getCanvas().getContext("2d");for(let We=0;We<$e.length;We++){Xe.save();let qe=Ve[We%Ve.length];Xe.fillStyle=`rgba(${qe[0]},${qe[1]},${qe[2]},${qe[3]/this.maxValue})`,Xe.font=je[We%je.length];let Ke=e[We];Xe.translate(Ke[0],Ke[1]),Xe.rotate(ze[We%ze.length]/180*Math.PI),Xe.fillText($e[We],0,0),Xe.restore()}return this.data=Uint8Array.from(Xe.getImageData(0,0,this.width,this.height).data),this}function paintMasks($e,e={}){let{alpha:t=255,labels:r=[],labelsPosition:Ve=[],labelColor:je="blue",labelFont:ze="12px Helvetica"}=e;this.checkProcessable("paintMasks",{channels:[3,4],bitDepth:[8,16],colorModel:RGB$1});let Xe=getColors(Object.assign({},e,{numberColors:$e.length}));Array.isArray($e)||($e=[$e]);for(let We=0;We<$e.length;We++){let qe=$e[We],Ke=Xe[We%Xe.length];for(let Ze=0;Ze<qe.width;Ze++)for(let Je=0;Je<qe.height;Je++)if(qe.getBitXY(Ze,Je))for(let Qe=0;Qe<Math.min(this.components,Ke.length);Qe++)if(t===255)this.setValueXY(Ze+qe.position[0],Je+qe.position[1],Qe,Ke[Qe]);else{let ti=this.getValueXY(Ze+qe.position[0],Je+qe.position[1],Qe);ti=Math.round((ti*(255-t)+Ke[Qe]*t)/255),this.setValueXY(Ze+qe.position[0],Je+qe.position[1],Qe,ti)}}if(Array.isArray(r)&&r.length>0){let We=this.getCanvas().getContext("2d");We.fillStyle=je,We.font=ze;for(let qe=0;qe<Math.min($e.length,r.length);qe++){let Ke=Ve[qe]?Ve[qe]:$e[qe].position;We.fillText(r[qe],Ke[0],Ke[1])}this.data=Uint8Array.from(We.getImageData(0,0,this.width,this.height).data)}return this}function zerosMatrix($e,e){let t=new Array($e);for(let r=0;r<$e;r++)t[r]=new Array(e).fill(0);return t}const cross=[[0,0,1,0,0],[0,0,1,0,0],[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0]],smallCross=[[0,1,0],[1,1,1],[0,1,0]];class Shape{constructor(e={}){let{kind:t="cross",shape:r,size:Ve,width:je,height:ze,filled:Xe=!0}=e;if(Ve&&(je=Ve,ze=Ve),r)switch(r.toLowerCase()){case"square":case"rectangle":this.matrix=rectangle(je,ze,{filled:Xe});break;case"circle":case"ellipse":this.matrix=ellipse(je,ze,{filled:Xe});break;case"triangle":this.matrix=triangle(je,ze,{filled:Xe});break;default:throw new Error(`Shape: unexpected shape: ${r}`)}else if(t)switch(t.toLowerCase()){case"cross":this.matrix=cross;break;case"smallcross":this.matrix=smallCross;break;default:throw new Error(`Shape: unexpected kind: ${t}`)}else throw new Error("Shape: expected a kind or a shape option");this.height=this.matrix.length,this.width=this.matrix[0].length,this.halfHeight=this.height/2>>0,this.halfWidth=this.width/2>>0}getPoints(){let e=this.matrix,t=[];for(let r=0;r<e.length;r++)for(let Ve=0;Ve<e[0].length;Ve++)e[r][Ve]&&t.push([Ve-this.halfWidth,r-this.halfHeight]);return t}getMask(){let e=new Image$1(this.width,this.height,{kind:BINARY});for(let t=0;t<this.matrix.length;t++)for(let r=0;r<this.matrix[0].length;r++)this.matrix[t][r]&&e.setBitXY(r,t);return e}}function rectangle($e,e,t){const r=zerosMatrix(e,$e);if(t.filled)for(let Ve=0;Ve<e;Ve++)for(let je=0;je<$e;je++)r[Ve][je]=1;else{for(let Ve of[0,e-1])for(let je=0;je<$e;je++)r[Ve][je]=1;for(let Ve=0;Ve<e;Ve++)for(let je of[0,$e-1])r[Ve][je]=1}return r}function ellipse($e,e,t){const r=zerosMatrix(e,$e);let Ve=1-e%2,je=1-$e%2,ze=Math.floor(($e-1)/2),Xe=Math.floor((e-1)/2),We=ze*ze,qe=Xe*Xe;if(t.filled)for(let Ke=0;Ke<=Xe;Ke++){let Ze=Math.floor(Math.sqrt(We-We*Ke*Ke/qe));for(let Je=ze-Ze;Je<=ze;Je++)r[Xe-Ke][Je]=1,r[Xe+Ke+Ve][Je]=1,r[Xe-Ke][$e-Je-1]=1,r[Xe+Ke+Ve][$e-Je-1]=1}else{for(let Ke=0;Ke<=Xe;Ke++){let Ze=Math.floor(Math.sqrt(We-We*Ke*Ke/qe)),Je=ze-Ze;r[Xe-Ke][Je]=1,r[Xe+Ke+Ve][Je]=1,r[Xe-Ke][$e-Je-1]=1,r[Xe+Ke+Ve][$e-Je-1]=1}for(let Ke=0;Ke<=ze;Ke++){let Ze=Math.floor(Math.sqrt(qe-qe*Ke*Ke/We)),Je=Xe-Ze;r[Je][ze-Ke]=1,r[Je][ze+Ke+je]=1,r[e-Je-1][ze-Ke]=1,r[e-Je-1][ze+Ke+je]=1}}return r}function triangle($e,e,t){if(!t.filled)throw new Error("Non filled triangle is not implemented");const r=zerosMatrix(e,$e);for(let Ve=0;Ve<e;Ve++){let je=Math.floor((1-Ve/e)*$e/2);for(let ze=je;ze<$e-je;ze++)r[Ve][ze]=1}return r}function paintPoints($e,e={}){let{shape:t}=e;this.checkProcessable("paintPoints",{bitDepth:[8,16]});let r=getColors(Object.assign({},e,{numberColors:$e.length})),Ve=new Shape(t).getPoints(),je=Math.min(this.channels,r[0].length);for(let ze=0;ze<$e.length;ze++){let Xe=r[ze%r.length],We=$e[ze][0],qe=$e[ze][1];for(let Ke=0;Ke<Ve.length;Ke++){let Ze=Ve[Ke][0],Je=Ve[Ke][1];if(We+Ze>=0&&qe+Je>=0&&We+Ze<this.width&&qe+Je<this.height){let Qe=(We+Ze+(qe+Je)*this.width)*this.channels;for(let ti=0;ti<je;ti++)this.data[Qe+ti]=Xe[ti]}}}return this}function paintPolyline($e,e={}){let{color:t=[this.maxValue,0,0],closed:r=!1}=e;this.checkProcessable("paintPoints",{bitDepth:[1,8,16]});let Ve=Math.min(this.channels,t.length);for(let je=0;je<$e.length-1+r;je++){let ze=$e[je],Xe=$e[(je+1)%$e.length],We=Xe[0]-ze[0],qe=Xe[1]-ze[1],Ke=Math.max(Math.abs(We),Math.abs(qe)),Ze=We/Ke,Je=qe/Ke,Qe=ze[0],ti=ze[1];for(let ni=0;ni<=Ke;ni++){let ri=Math.round(Qe),ii=Math.round(ti);if(ri>=0&&ii>=0&&ri<this.width&&ii<this.height)if(this.bitDepth===1)this.setBitXY(ri,ii);else{let ei=(ri+ii*this.width)*this.channels;for(let St=0;St<Ve;St++)this.data[ei+St]=t[St]}Qe=Qe+Ze,ti=ti+Je}}return this}function paintPolylines($e,e={}){let t=Object.assign({},e);this.checkProcessable("paintPolylines",{bitDepth:[8,16]});let r=getColors(Object.assign({},e,{numberColors:$e.length}));for(let Ve=0;Ve<$e.length;Ve++)t.color=r[Ve%r.length],this.paintPolyline($e[Ve],t);return this}function paintPolygon($e,e={}){let{color:t=[this.maxValue,0,0],filled:r=!1}=e;this.checkProcessable("paintPoints",{bitDepth:[1,8,16]}),e.closed=!0;let Ve=deleteDouble($e);if(r===!1)return this.paintPolyline($e,e);{let je=Array(this.height);for(let ze=0;ze<this.height;ze++){je[ze]=[];for(let Xe=0;Xe<this.width;Xe++)je[ze].push(0)}for(let ze=0;ze<Ve.length;ze++){const Xe=lineBetweenTwoPoints(Ve[ze],Ve[(ze+1)%Ve.length]);for(let We=0;We<this.height;We++)for(let qe=0;qe<this.width;qe++)isAtTheRightOfTheLine(qe,We,Xe,this.height)&&(je[We][qe]=je[We][qe]===0?1:0)}for(let ze=0;ze<this.height;ze++)for(let Xe=0;Xe<this.width;Xe++)if(je[ze][Xe]===1)if(this.bitDepth===1)this.setBitXY(Xe,ze);else{let We=Math.min(this.channels,t.length),qe=(Xe+ze*this.width)*this.channels;for(let Ke=0;Ke<We;Ke++)this.data[qe+Ke]=t[Ke]}return this.paintPolyline($e,e)}}function deleteDouble($e){let e=[];for(let t=0;t<$e.length;t++)if(!($e[t][0]===$e[(t+1)%$e.length][0]&&$e[t][1]===$e[(t+1)%$e.length][1])){if($e[t][0]===$e[(t-1+$e.length)%$e.length][0]&&$e[t][1]===$e[(t-1+$e.length)%$e.length][1]||$e[(t+1)%$e.length][0]===$e[(t-1+$e.length)%$e.length][0]&&$e[(t-1+$e.length)%$e.length][1]===$e[(t+1)%$e.length][1])continue;e.push($e[t])}return e}function lineBetweenTwoPoints($e,e){if($e[0]===e[0])return{a:0,b:$e[0],vertical:!0};{const t=(e[1]-$e[1])/(e[0]-$e[0]),r=$e[1]-t*$e[0];return{a:t,b:r,vertical:!1}}}function isAtTheRightOfTheLine($e,e,t,r){if(t.vertical===!0)return t.b<=$e;if(t.a===0)return!1;{const Ve=(e-t.b)/t.a;return Ve<$e&&Ve>=0&&Ve<=r}}function paintPolygons($e,e={}){let t=Object.assign({},e);this.checkProcessable("paintPolygons",{bitDepth:[8,16]});let r=getColors(Object.assign({},e,{numberColors:$e.length}));for(let Ve=0;Ve<$e.length;Ve++)t.color=r[Ve%r.length],this.paintPolygon($e[Ve],t);return this}function getHistogram($e={}){let{maxSlots:e=256,channel:t,useAlpha:r=!0}=$e;if(this.checkProcessable("getHistogram",{bitDepth:[1,8,16]}),t===void 0){if(this.components>1)throw new RangeError("You need to define the channel for an image that contains more than one channel");t=0}return getChannelHistogram.call(this,t,{useAlpha:r,maxSlots:e})}function getHistograms($e={}){const{maxSlots:e=256,useAlpha:t=!0}=$e;this.checkProcessable("getHistograms",{bitDepth:[8,16]});let r=new Array(t?this.components:this.channels);for(let Ve=0;Ve<r.length;Ve++)r[Ve]=getChannelHistogram.call(this,Ve,{useAlpha:t,maxSlots:e});return r}function getChannelHistogram($e,e){let{useAlpha:t,maxSlots:r}=e;if(this.bitDepth===1){let We=[0,0];for(let qe=0;qe<this.height;qe++)for(let Ke=0;Ke<this.width;Ke++){let Ze=this.getBitXY(qe,Ke);Ze===0?We[0]+=1:Ze===1&&(We[1]+=1)}return We}let Ve=Math.log2(r);if(!isInteger$1(Ve))throw new RangeError("maxSlots must be a power of 2, for example: 64, 256, 1024");let je=0;this.bitDepth>Ve&&(je=this.bitDepth-Ve);let ze=this.data,Xe=newArray$1(Math.pow(2,Math.min(this.bitDepth,Ve)),0);if(t&&this.alpha){let We=this.channels-$e-1;for(let qe=$e;qe<ze.length;qe+=this.channels)Xe[ze[qe]>>je]+=ze[qe+We]/this.maxValue}else for(let We=$e;We<ze.length;We+=this.channels)Xe[ze[We]>>je]++;return Xe}function getColorHistogram($e={}){let{useAlpha:e=!0,nbSlots:t=512}=$e;this.checkProcessable("getColorHistogram",{bitDepth:[8,16],components:[3]});let r=Math.log(t)/Math.log(8);if(r!==Math.floor(r))throw new RangeError("nbSlots must be a power of 8. Usually 8, 64, 512 or 4096");let Ve=this.bitDepth-r,je=this.data,ze=newArray$1(Math.pow(8,r),0),Xe=Math.pow(2,r*2),We=Math.pow(2,r);for(let qe=0;qe<je.length;qe+=this.channels){let Ke=(je[qe]>>Ve)*Xe+(je[qe+1]>>Ve)*We+(je[qe+2]>>Ve);e&&this.alpha?ze[Ke]+=je[qe+this.channels-1]/this.maxValue:ze[Ke]++}return ze}function min(){this.checkProcessable("min",{bitDepth:[8,16,32]});let $e=newArray$1(this.channels,1/0);for(let e=0;e<this.data.length;e+=this.channels)for(let t=0;t<this.channels;t++)this.data[e+t]<$e[t]&&($e[t]=this.data[e+t]);return $e}function max$3(){this.checkProcessable("max",{bitDepth:[8,16,32]});let $e=newArray$1(this.channels,-1/0);for(let e=0;e<this.data.length;e+=this.channels)for(let t=0;t<this.channels;t++)this.data[e+t]>$e[t]&&($e[t]=this.data[e+t]);return $e}function sum(){this.checkProcessable("sum",{bitDepth:[8,16]});let $e=newArray$1(this.channels,0);for(let e=0;e<this.data.length;e+=this.channels)for(let t=0;t<this.channels;t++)$e[t]+=this.data[e+t];return $e}function getMoment($e=0,e=0){this.checkProcessable("getMoment",{bitDepth:[1]});let t=0;for(let r=0;r<this.width;r++)for(let Ve=0;Ve<this.height;Ve++)this.getBitXY(r,Ve)===1&&(t+=r**$e*Ve**e);return t}function localMaxima($e={}){let{mask:e,region:t=3,removeClosePoints:r=0,invert:Ve=!1,maxEquals:je=2}=$e,ze=this;this.checkProcessable("localMaxima",{bitDepth:[8,16],components:1}),t*=4;let Xe=Ve?0:1,We=[1,0,-1,0,1,1,-1,-1,2,0,-2,0,2,2,-2,-2],qe=[0,1,0,-1,1,-1,1,-1,0,2,0,-2,2,-2,2,-2],Ke=t<=8?1:2,Ze=[];for(let Je=Ke;Je<ze.height-Ke;Je++)for(let Qe=Ke;Qe<ze.width-Ke;Qe++){if(e&&e.getBitXY(Qe,Je)!==Xe)continue;let ti=0,ni=0,ri=ze.data[Qe+Je*ze.width];for(let ii=0;ii<t;ii++)Ve?ze.data[Qe+We[ii]+(Je+qe[ii])*ze.width]>ri&&ti++:ze.data[Qe+We[ii]+(Je+qe[ii])*ze.width]<ri&&ti++,ze.data[Qe+We[ii]+(Je+qe[ii])*ze.width]===ri&&ni++;ti+ni===t&&ni<=je&&Ze.push([Qe,Je])}if(r>0)for(let Je=0;Je<Ze.length;Je++)for(let Qe=Je+1;Qe<Ze.length;Qe++)Math.sqrt(Math.pow(Ze[Je][0]-Ze[Qe][0],2)+Math.pow(Ze[Je][1]-Ze[Qe][1],2))<r&&(Ze[Je][0]=Ze[Je][0]+Ze[Qe][0]>>1,Ze[Je][1]=Ze[Je][1]+Ze[Qe][1]>>1,Ze.splice(Qe,1),Qe--);return Ze}function mean(){let $e=this.getHistograms({maxSlots:this.maxValue+1}),e=new Array($e.length);for(let t=0;t<$e.length;t++){let r=$e[t];e[t]=mean$2(r)}return e}function median(){let $e=this.getHistograms({maxSlots:this.maxValue+1}),e=new Array($e.length);for(let t=0;t<$e.length;t++){let r=$e[t];e[t]=median$2(r)}return e}function points(){this.checkProcessable("points",{bitDepth:[1]});const $e=[];for(let e=0;e<this.width;e++)for(let t=0;t<this.height;t++)this.getBitXY(e,t)===1&&$e.push([e,t]);return $e}function extendedPoints(){this.checkProcessable("extendedPoints",{bitDepth:[1]});const $e=[];for(let e=0;e<this.height;e++)for(let t=0;t<this.width;t++)if(this.getBitXY(t,e)===1)for($e.push([t,e]),this.getBitXY(t+1,e)!==1?($e.push([t+1,e]),$e.push([t+1,e+1]),this.getBitXY(t,e+1)!==1&&$e.push([t,e+1])):this.getBitXY(t,e+1)!==1&&($e.push([t,e+1]),$e.push([t+1,e+1]));t<this.width-2&&this.getBitXY(t+1,e)===1&&this.getBitXY(t+2,e)===1;)t++;return $e}function getRelativePosition($e,e={}){if(this===$e)return[0,0];let t=[0,0],r=this;for(;r;){if(r===$e)return t;r.position&&(t[0]+=r.position[0],t[1]+=r.position[1]),r=r.parent}return e.defaultFurther?t:!1}function countAlphaPixels($e={}){let{alpha:e=1}=$e;this.checkProcessable("countAlphaPixels",{bitDepth:[8,16],alpha:1});let t=0;if(e!==void 0){for(let r=this.components;r<this.data.length;r+=this.channels)this.data[r]===e&&t++;return t}else return this.size}function monotoneChainConvexHull$1($e,e={}){const{sorted:t}=e;t||($e=$e.slice().sort(byXThenY));const r=$e.length,Ve=new Array(r*2);let je=0;for(let Xe=0;Xe<r;Xe++){const We=$e[Xe];for(;je>=2&&cw(Ve[je-2],Ve[je-1],We)<=0;)je--;Ve[je++]=We}const ze=je+1;for(let Xe=r-2;Xe>=0;Xe--){const We=$e[Xe];for(;je>=ze&&cw(Ve[je-2],Ve[je-1],We)<=0;)je--;Ve[je++]=We}return Ve.slice(0,je-1)}function cw($e,e,t){return(e[1]-$e[1])*(t[0]-$e[0])-(e[0]-$e[0])*(t[1]-$e[1])}function byXThenY($e,e){return $e[0]===e[0]?$e[1]-e[1]:$e[0]-e[0]}function monotoneChainConvexHull(){return monotoneChainConvexHull$1(this.extendedPoints,{sorted:!1})}function round$1($e){for(let e=0;e<$e.length;e++)$e[e][0]=Math.round($e[e][0]),$e[e][1]=Math.round($e[e][1]);return $e}function difference($e,e){return[$e[0]-e[0],$e[1]-e[1]]}function normalize($e){let e=Math.sqrt($e[0]**2+$e[1]**2);return[$e[0]/e,$e[1]/e]}function rotate($e,e,t){t===void 0&&(t=new Array(e.length));let r=Math.cos($e),Ve=Math.sin($e);for(let je=0;je<t.length;++je)t[je]=[r*e[je][0]-Ve*e[je][1],Ve*e[je][0]+r*e[je][1]];return t}function perimeter($e){let e=0;for(let t=0;t<$e.length;t++){let r=$e[t][0],Ve=$e[t][1],je=$e[t===$e.length-1?0:t+1][0],ze=$e[t===$e.length-1?0:t+1][1];e+=Math.sqrt((je-r)**2+(ze-Ve)**2)}return e}function surface($e){let e=0;for(let t=0;t<$e.length;t++){let r=$e[t][0],Ve=$e[t===$e.length-1?0:t+1][1],je=$e[t===$e.length-1?0:t+1][0],ze=$e[t][1];e+=r*Ve*.5,e-=je*ze*.5}return Math.abs(e)}function minMax($e){let e=1/0,t=1/0,r=-1/0,Ve=-1/0;for(let je=0;je<$e.length;je++)$e[je][0]<e&&(e=$e[je][0]),$e[je][0]>r&&(r=$e[je][0]),$e[je][1]<t&&(t=$e[je][1]),$e[je][1]>Ve&&(Ve=$e[je][1]);return[[e,t],[r,Ve]]}function moveToZeroZero($e,e){e===void 0&&(e=new Array($e.length).fill(0).map(()=>[]));let t=minMax($e),r=t[0][0],Ve=t[0][1];for(let je=0;je<$e.length;je++)e[je][0]=$e[je][0]-r,e[je][1]=$e[je][1]-Ve;return e}function minimalBoundingRectangle($e={}){const{originalPoints:e=monotoneChainConvexHull.call(this)}=$e;if(e.length===0)return[];if(e.length===1)return[e[0],e[0],e[0],e[0]];const t=new Array(e.length);let r=1/0,Ve=0,je;for(let ze=0;ze<t.length;ze++){let Xe=getAngle$1(e[ze],e[(ze+1)%t.length]);rotate(-Xe,e,t);let We=t[ze][0],qe=t[ze][1],Ke=t[(ze+1)%t.length][0],Ze=t[(ze+1)%t.length][1],Je=!0,Qe=0,ti=0,ni=0;for(let St=0;St<t.length;St++){let oi=t[St][0],si=t[St][1],ai=(oi-We)/(Ke-We);Je===!0?(Je=!1,Qe=ai,ti=ai):(ai<Qe&&(Qe=ai),ai>ti&&(ti=ai));let ui=(-(Ke-We)*si+Ke*qe-Ze*We)/(Ke-We);Math.abs(ui)>Math.abs(ni)&&(ni=ui)}let ri=[We+Qe*(Ke-We),qe],ii=[We+ti*(Ke-We),qe],ei=Math.abs(ni*(Qe-ti)*(Ke-We));ei<r&&(Ve=Xe,r=ei,je=[ri,ii,[ii[0],ii[1]-ni],[ri[0],ri[1]-ni]])}return rotate(Ve,je,je),je}function getAngle$1($e,e){let t=difference(e,$e),r=normalize(t),Ve=Math.acos(r[0]);return r[1]<0?-Ve:Ve}function extend$1($e){let e={inPlace:!0};$e.extendMethod("invert",invert),$e.extendMethod("abs",abs),$e.extendMethod("level",level,e),$e.extendMethod("add",add,e),$e.extendMethod("subtract",subtract,e),$e.extendMethod("subtractImage",subtractImage),$e.extendMethod("multiply",multiply,e),$e.extendMethod("divide",divide,e),$e.extendMethod("hypotenuse",hypotenuse),$e.extendMethod("background",background$1),$e.extendMethod("flipX",flipX),$e.extendMethod("flipY",flipY),$e.extendMethod("blurFilter",blurFilter),$e.extendMethod("medianFilter",medianFilter),$e.extendMethod("gaussianFilter",gaussianFilter),$e.extendMethod("sobelFilter",sobelFilter),$e.extendMethod("gradientFilter",gradientFilter),$e.extendMethod("scharrFilter",scharrFilter),$e.extendMethod("dilate",dilate),$e.extendMethod("erode",erode),$e.extendMethod("open",open$1),$e.extendMethod("close",close),$e.extendMethod("topHat",topHat),$e.extendMethod("blackHat",blackHat),$e.extendMethod("morphologicalGradient",morphologicalGradient),$e.extendMethod("warpingFourPoints",warpingFourPoints),$e.extendMethod("crop",crop),$e.extendMethod("cropAlpha",cropAlpha),$e.extendMethod("resize",resize).extendMethod("scale",resize),$e.extendMethod("hsv",hsv),$e.extendMethod("hsl",hsl$1),$e.extendMethod("cmyk",cmyk),$e.extendMethod("rgba8",rgba8),$e.extendMethod("grey",grey).extendMethod("gray",grey),$e.extendMethod("mask",mask),$e.extendMethod("pad",pad),$e.extendMethod("colorDepth",colorDepth),$e.extendMethod("setBorder",setBorder,e),$e.extendMethod("rotate",rotate$1),$e.extendMethod("rotateLeft",rotateLeft),$e.extendMethod("rotateRight",rotateRight),$e.extendMethod("insert",insert),$e.extendMethod("getRow",getRow),$e.extendMethod("getColumn",getColumn),$e.extendMethod("getMatrix",getMatrix),$e.extendMethod("setMatrix",setMatrix),$e.extendMethod("getPixelsArray",getPixelsArray),$e.extendMethod("getIntersection",getIntersection),$e.extendMethod("getClosestCommonParent",getClosestCommonParent),$e.extendMethod("getThreshold",getThreshold),$e.extendMethod("split",split),$e.extendMethod("getChannel",getChannel),$e.extendMethod("combineChannels",combineChannels),$e.extendMethod("setChannel",setChannel),$e.extendMethod("getSimilarity",getSimilarity),$e.extendMethod("getPixelsGrid",getPixelsGrid),$e.extendMethod("getBestMatch",getBestMatch),$e.extendMethod("cannyEdge",cannyEdge),$e.extendMethod("convolution",convolution),$e.extendMethod("extract",extract),$e.extendMethod("floodFill",floodFill),$e.extendMethod("paintLabels",paintLabels,e),$e.extendMethod("paintMasks",paintMasks,e),$e.extendMethod("paintPoints",paintPoints,e),$e.extendMethod("paintPolyline",paintPolyline,e),$e.extendMethod("paintPolylines",paintPolylines,e),$e.extendMethod("paintPolygon",paintPolygon,e),$e.extendMethod("paintPolygons",paintPolygons,e),$e.extendMethod("countAlphaPixels",countAlphaPixels),$e.extendMethod("monotoneChainConvexHull",monotoneChainConvexHull),$e.extendMethod("minimalBoundingRectangle",minimalBoundingRectangle),$e.extendMethod("getHistogram",getHistogram).extendProperty("histogram",getHistogram),$e.extendMethod("getHistograms",getHistograms).extendProperty("histograms",getHistograms),$e.extendMethod("getColorHistogram",getColorHistogram).extendProperty("colorHistogram",getColorHistogram),$e.extendMethod("getMin",min).extendProperty("min",min),$e.extendMethod("getMax",max$3).extendProperty("max",max$3),$e.extendMethod("getSum",sum).extendProperty("sum",sum),$e.extendMethod("getMoment",getMoment).extendProperty("moment",getMoment),$e.extendMethod("getLocalMaxima",localMaxima),$e.extendMethod("getMedian",median).extendProperty("median",median),$e.extendMethod("getMean",mean).extendProperty("mean",mean),$e.extendMethod("getPoints",points).extendProperty("points",points),$e.extendMethod("getExtendedPoints",extendedPoints).extendProperty("extendedPoints",extendedPoints),$e.extendMethod("getRelativePosition",getRelativePosition)}var quantities={exports:{}};(function($e,e){(function(t,r){$e.exports=r()})(commonjsGlobal,function(){function t(Ii){return typeof Ii=="string"||Ii instanceof String}var r=Number.isFinite||window.isFinite;function Ve(Ii){return r(Ii)}function je(Ii){return Ii}function ze(Ii){var Wi={};return Ii.filter(function(nn){return Wi.hasOwnProperty(nn)?!1:Wi[nn]=!0})}function Xe(Ii,Wi){if(Wi.length!==Ii.length)return!1;for(var nn=0;nn<Ii.length;nn++)if(Wi[nn].compareArray&&!Wi[nn].compareArray(Ii[nn])||Wi[nn]!==Ii[nn])return!1;return!0}function We(Ii,Wi){Object.keys(Wi).forEach(function(nn){Ii[nn]=Wi[nn]})}function qe(){for(var Ii=1,Wi=0,nn=0;nn<arguments.length;nn++){var xn=arguments[nn];Wi=Wi+Je(xn),Ii*=xn}return Wi!==0?Ze(Ii,Wi):Ii}function Ke(Ii,Wi){if(Wi===0)throw new Error("Divide by zero");var nn=Math.pow(10,Je(Wi)),xn=nn/(nn*Wi);return qe(Ii,xn)}function Ze(Ii,Wi){return Math.round(Ii*Math.pow(10,Wi))/Math.pow(10,Wi)}function Je(Ii){if(!isFinite(Ii))return 0;for(var Wi=0;Ii%1!==0;)Ii*=10,Wi++;return Wi}function Qe(){var Ii;if(!this)return Ii=Object.create(Qe.prototype),Qe.apply(Ii,arguments),Ii;Ii=Error.apply(this,arguments),this.name="QtyError",this.message=Ii.message,this.stack=Ii.stack}Qe.prototype=Object.create(Error.prototype,{constructor:{value:Qe}});function ti(Ii,Wi){throw new Qe("Incompatible units: "+Ii+" and "+Wi)}var ni={"<googol>":[["googol"],1e100,"prefix"],"<kibi>":[["Ki","Kibi","kibi"],Math.pow(2,10),"prefix"],"<mebi>":[["Mi","Mebi","mebi"],Math.pow(2,20),"prefix"],"<gibi>":[["Gi","Gibi","gibi"],Math.pow(2,30),"prefix"],"<tebi>":[["Ti","Tebi","tebi"],Math.pow(2,40),"prefix"],"<pebi>":[["Pi","Pebi","pebi"],Math.pow(2,50),"prefix"],"<exi>":[["Ei","Exi","exi"],Math.pow(2,60),"prefix"],"<zebi>":[["Zi","Zebi","zebi"],Math.pow(2,70),"prefix"],"<yebi>":[["Yi","Yebi","yebi"],Math.pow(2,80),"prefix"],"<yotta>":[["Y","Yotta","yotta"],1e24,"prefix"],"<zetta>":[["Z","Zetta","zetta"],1e21,"prefix"],"<exa>":[["E","Exa","exa"],1e18,"prefix"],"<peta>":[["P","Peta","peta"],1e15,"prefix"],"<tera>":[["T","Tera","tera"],1e12,"prefix"],"<giga>":[["G","Giga","giga"],1e9,"prefix"],"<mega>":[["M","Mega","mega"],1e6,"prefix"],"<kilo>":[["k","kilo"],1e3,"prefix"],"<hecto>":[["h","Hecto","hecto"],100,"prefix"],"<deca>":[["da","Deca","deca","deka"],10,"prefix"],"<deci>":[["d","Deci","deci"],.1,"prefix"],"<centi>":[["c","Centi","centi"],.01,"prefix"],"<milli>":[["m","Milli","milli"],.001,"prefix"],"<micro>":[["u","","","Micro","mc","micro"],1e-6,"prefix"],"<nano>":[["n","Nano","nano"],1e-9,"prefix"],"<pico>":[["p","Pico","pico"],1e-12,"prefix"],"<femto>":[["f","Femto","femto"],1e-15,"prefix"],"<atto>":[["a","Atto","atto"],1e-18,"prefix"],"<zepto>":[["z","Zepto","zepto"],1e-21,"prefix"],"<yocto>":[["y","Yocto","yocto"],1e-24,"prefix"],"<1>":[["1","<1>"],1,""],"<meter>":[["m","meter","meters","metre","metres"],1,"length",["<meter>"]],"<inch>":[["in","inch","inches",'"'],.0254,"length",["<meter>"]],"<foot>":[["ft","foot","feet","'"],.3048,"length",["<meter>"]],"<yard>":[["yd","yard","yards"],.9144,"length",["<meter>"]],"<mile>":[["mi","mile","miles"],1609.344,"length",["<meter>"]],"<naut-mile>":[["nmi","naut-mile"],1852,"length",["<meter>"]],"<league>":[["league","leagues"],4828,"length",["<meter>"]],"<furlong>":[["furlong","furlongs"],201.2,"length",["<meter>"]],"<rod>":[["rd","rod","rods"],5.029,"length",["<meter>"]],"<mil>":[["mil","mils"],254e-7,"length",["<meter>"]],"<angstrom>":[["ang","angstrom","angstroms"],1e-10,"length",["<meter>"]],"<fathom>":[["fathom","fathoms"],1.829,"length",["<meter>"]],"<pica>":[["pica","picas"],.00423333333,"length",["<meter>"]],"<point>":[["pt","point","points"],.000352777778,"length",["<meter>"]],"<redshift>":[["z","red-shift","redshift"],1302773e20,"length",["<meter>"]],"<AU>":[["AU","astronomical-unit"],1495979e5,"length",["<meter>"]],"<light-second>":[["ls","light-second"],299792500,"length",["<meter>"]],"<light-minute>":[["lmin","light-minute"],1798755e4,"length",["<meter>"]],"<light-year>":[["ly","light-year"],9460528e9,"length",["<meter>"]],"<parsec>":[["pc","parsec","parsecs"],3085678e10,"length",["<meter>"]],"<datamile>":[["DM","datamile"],1828.8,"length",["<meter>"]],"<kilogram>":[["kg","kilogram","kilograms"],1,"mass",["<kilogram>"]],"<AMU>":[["u","AMU","amu"],1660538921e-36,"mass",["<kilogram>"]],"<dalton>":[["Da","Dalton","Daltons","dalton","daltons"],1660538921e-36,"mass",["<kilogram>"]],"<slug>":[["slug","slugs"],14.5939029,"mass",["<kilogram>"]],"<short-ton>":[["tn","ton","short-ton"],907.18474,"mass",["<kilogram>"]],"<metric-ton>":[["t","tonne","metric-ton"],1e3,"mass",["<kilogram>"]],"<carat>":[["ct","carat","carats"],2e-4,"mass",["<kilogram>"]],"<pound>":[["lbs","lb","pound","pounds","#"],.45359237,"mass",["<kilogram>"]],"<ounce>":[["oz","ounce","ounces"],.0283495231,"mass",["<kilogram>"]],"<gram>":[["g","gram","grams","gramme","grammes"],.001,"mass",["<kilogram>"]],"<grain>":[["grain","grains","gr"],6479891e-11,"mass",["<kilogram>"]],"<dram>":[["dram","drams","dr"],.0017718452,"mass",["<kilogram>"]],"<stone>":[["stone","stones","st"],6.35029318,"mass",["<kilogram>"]],"<hectare>":[["hectare"],1e4,"area",["<meter>","<meter>"]],"<acre>":[["acre","acres"],4046.85642,"area",["<meter>","<meter>"]],"<sqft>":[["sqft"],1,"area",["<foot>","<foot>"]],"<liter>":[["l","L","liter","liters","litre","litres"],.001,"volume",["<meter>","<meter>","<meter>"]],"<gallon>":[["gal","gallon","gallons"],.0037854118,"volume",["<meter>","<meter>","<meter>"]],"<gallon-imp>":[["galimp","gallon-imp","gallons-imp"],.00454609,"volume",["<meter>","<meter>","<meter>"]],"<quart>":[["qt","quart","quarts"],.00094635295,"volume",["<meter>","<meter>","<meter>"]],"<pint>":[["pt","pint","pints"],.000473176475,"volume",["<meter>","<meter>","<meter>"]],"<pint-imp>":[["ptimp","pint-imp","pints-imp"],.00056826125,"volume",["<meter>","<meter>","<meter>"]],"<cup>":[["cu","cup","cups"],.000236588238,"volume",["<meter>","<meter>","<meter>"]],"<fluid-ounce>":[["floz","fluid-ounce","fluid-ounces"],295735297e-13,"volume",["<meter>","<meter>","<meter>"]],"<fluid-ounce-imp>":[["flozimp","floz-imp","fluid-ounce-imp","fluid-ounces-imp"],284130625e-13,"volume",["<meter>","<meter>","<meter>"]],"<tablespoon>":[["tb","tbsp","tbs","tablespoon","tablespoons"],147867648e-13,"volume",["<meter>","<meter>","<meter>"]],"<teaspoon>":[["tsp","teaspoon","teaspoons"],492892161e-14,"volume",["<meter>","<meter>","<meter>"]],"<bushel>":[["bu","bsh","bushel","bushels"],.035239072,"volume",["<meter>","<meter>","<meter>"]],"<oilbarrel>":[["bbl","oilbarrel","oilbarrels","oil-barrel","oil-barrels"],.158987294928,"volume",["<meter>","<meter>","<meter>"]],"<beerbarrel>":[["bl","bl-us","beerbarrel","beerbarrels","beer-barrel","beer-barrels"],.1173477658,"volume",["<meter>","<meter>","<meter>"]],"<beerbarrel-imp>":[["blimp","bl-imp","beerbarrel-imp","beerbarrels-imp","beer-barrel-imp","beer-barrels-imp"],.16365924,"volume",["<meter>","<meter>","<meter>"]],"<kph>":[["kph"],.277777778,"speed",["<meter>"],["<second>"]],"<mph>":[["mph"],.44704,"speed",["<meter>"],["<second>"]],"<knot>":[["kt","kn","kts","knot","knots"],.514444444,"speed",["<meter>"],["<second>"]],"<fps>":[["fps"],.3048,"speed",["<meter>"],["<second>"]],"<gee>":[["gee"],9.80665,"acceleration",["<meter>"],["<second>","<second>"]],"<Gal>":[["Gal"],.01,"acceleration",["<meter>"],["<second>","<second>"]],"<kelvin>":[["degK","kelvin"],1,"temperature",["<kelvin>"]],"<celsius>":[["degC","celsius","celsius","centigrade"],1,"temperature",["<kelvin>"]],"<fahrenheit>":[["degF","fahrenheit"],5/9,"temperature",["<kelvin>"]],"<rankine>":[["degR","rankine"],5/9,"temperature",["<kelvin>"]],"<temp-K>":[["tempK","temp-K"],1,"temperature",["<temp-K>"]],"<temp-C>":[["tempC","temp-C"],1,"temperature",["<temp-K>"]],"<temp-F>":[["tempF","temp-F"],5/9,"temperature",["<temp-K>"]],"<temp-R>":[["tempR","temp-R"],5/9,"temperature",["<temp-K>"]],"<second>":[["s","sec","secs","second","seconds"],1,"time",["<second>"]],"<minute>":[["min","mins","minute","minutes"],60,"time",["<second>"]],"<hour>":[["h","hr","hrs","hour","hours"],3600,"time",["<second>"]],"<day>":[["d","day","days"],3600*24,"time",["<second>"]],"<week>":[["wk","week","weeks"],7*3600*24,"time",["<second>"]],"<fortnight>":[["fortnight","fortnights"],1209600,"time",["<second>"]],"<year>":[["y","yr","year","years","annum"],31556926,"time",["<second>"]],"<decade>":[["decade","decades"],315569260,"time",["<second>"]],"<century>":[["century","centuries"],3155692600,"time",["<second>"]],"<pascal>":[["Pa","pascal","Pascal"],1,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<bar>":[["bar","bars"],1e5,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<mmHg>":[["mmHg"],133.322368,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<inHg>":[["inHg"],3386.3881472,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<torr>":[["torr"],133.322368,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<atm>":[["atm","ATM","atmosphere","atmospheres"],101325,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<psi>":[["psi"],6894.76,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<cmh2o>":[["cmH2O","cmh2o"],98.0638,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<inh2o>":[["inH2O","inh2o"],249.082052,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<poise>":[["P","poise"],.1,"viscosity",["<kilogram>"],["<meter>","<second>"]],"<stokes>":[["St","stokes"],1e-4,"viscosity",["<meter>","<meter>"],["<second>"]],"<mole>":[["mol","mole"],1,"substance",["<mole>"]],"<molar>":[["M","molar"],1e3,"molar_concentration",["<mole>"],["<meter>","<meter>","<meter>"]],"<wtpercent>":[["wt%","wtpercent"],10,"molar_concentration",["<kilogram>"],["<meter>","<meter>","<meter>"]],"<katal>":[["kat","katal","Katal"],1,"activity",["<mole>"],["<second>"]],"<unit>":[["U","enzUnit","unit"],16667e-19,"activity",["<mole>"],["<second>"]],"<farad>":[["F","farad","Farad"],1,"capacitance",["<second>","<second>","<second>","<second>","<ampere>","<ampere>"],["<meter>","<meter>","<kilogram>"]],"<coulomb>":[["C","coulomb","Coulomb"],1,"charge",["<ampere>","<second>"]],"<Ah>":[["Ah"],3600,"charge",["<ampere>","<second>"]],"<ampere>":[["A","Ampere","ampere","amp","amps"],1,"current",["<ampere>"]],"<siemens>":[["S","Siemens","siemens"],1,"conductance",["<second>","<second>","<second>","<ampere>","<ampere>"],["<kilogram>","<meter>","<meter>"]],"<henry>":[["H","Henry","henry"],1,"inductance",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>","<ampere>"]],"<volt>":[["V","Volt","volt","volts"],1,"potential",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<second>","<ampere>"]],"<ohm>":[["Ohm","ohm","",""],1,"resistance",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<second>","<ampere>","<ampere>"]],"<weber>":[["Wb","weber","webers"],1,"magnetism",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>"]],"<tesla>":[["T","tesla","teslas"],1,"magnetism",["<kilogram>"],["<second>","<second>","<ampere>"]],"<gauss>":[["G","gauss"],1e-4,"magnetism",["<kilogram>"],["<second>","<second>","<ampere>"]],"<maxwell>":[["Mx","maxwell","maxwells"],1e-8,"magnetism",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>"]],"<oersted>":[["Oe","oersted","oersteds"],250/Math.PI,"magnetism",["<ampere>"],["<meter>"]],"<joule>":[["J","joule","Joule","joules","Joules"],1,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<erg>":[["erg","ergs"],1e-7,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<btu>":[["BTU","btu","BTUs"],1055.056,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<calorie>":[["cal","calorie","calories"],4.184,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<Calorie>":[["Cal","Calorie","Calories"],4184,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<therm-US>":[["th","therm","therms","Therm","therm-US"],105480400,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<Wh>":[["Wh"],3600,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<electronvolt>":[["eV","electronvolt","electronvolts"],1602176634e-28,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<newton>":[["N","Newton","newton"],1,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<dyne>":[["dyn","dyne"],1e-5,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<pound-force>":[["lbf","pound-force"],4.448222,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<hertz>":[["Hz","hertz","Hertz"],1,"frequency",["<1>"],["<second>"]],"<radian>":[["rad","radian","radians"],1,"angle",["<radian>"]],"<degree>":[["deg","degree","degrees"],Math.PI/180,"angle",["<radian>"]],"<arcminute>":[["arcmin","arcminute","arcminutes"],Math.PI/10800,"angle",["<radian>"]],"<arcsecond>":[["arcsec","arcsecond","arcseconds"],Math.PI/648e3,"angle",["<radian>"]],"<gradian>":[["gon","grad","gradian","grads"],Math.PI/200,"angle",["<radian>"]],"<steradian>":[["sr","steradian","steradians"],1,"solid_angle",["<steradian>"]],"<rotation>":[["rotation"],2*Math.PI,"angle",["<radian>"]],"<rpm>":[["rpm"],2*Math.PI/60,"angular_velocity",["<radian>"],["<second>"]],"<byte>":[["B","byte","bytes"],1,"information",["<byte>"]],"<bit>":[["b","bit","bits"],.125,"information",["<byte>"]],"<Bps>":[["Bps"],1,"information_rate",["<byte>"],["<second>"]],"<bps>":[["bps"],.125,"information_rate",["<byte>"],["<second>"]],"<dollar>":[["USD","dollar"],1,"currency",["<dollar>"]],"<cents>":[["cents"],.01,"currency",["<dollar>"]],"<candela>":[["cd","candela"],1,"luminosity",["<candela>"]],"<lumen>":[["lm","lumen"],1,"luminous_power",["<candela>","<steradian>"]],"<lux>":[["lux"],1,"illuminance",["<candela>","<steradian>"],["<meter>","<meter>"]],"<watt>":[["W","watt","watts"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<volt-ampere>":[["VA","volt-ampere"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<volt-ampere-reactive>":[["var","Var","VAr","VAR","volt-ampere-reactive"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<horsepower>":[["hp","horsepower"],745.699872,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<gray>":[["Gy","gray","grays"],1,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<roentgen>":[["R","roentgen"],.00933,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<sievert>":[["Sv","sievert","sieverts"],1,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<becquerel>":[["Bq","becquerel","becquerels"],1,"radiation",["<1>"],["<second>"]],"<curie>":[["Ci","curie","curies"],37e9,"radiation",["<1>"],["<second>"]],"<cpm>":[["cpm"],1/60,"rate",["<count>"],["<second>"]],"<dpm>":[["dpm"],1/60,"rate",["<count>"],["<second>"]],"<bpm>":[["bpm"],1/60,"rate",["<count>"],["<second>"]],"<dot>":[["dot","dots"],1,"resolution",["<each>"]],"<pixel>":[["pixel","px"],1,"resolution",["<each>"]],"<ppi>":[["ppi"],1,"resolution",["<pixel>"],["<inch>"]],"<dpi>":[["dpi"],1,"typography",["<dot>"],["<inch>"]],"<cell>":[["cells","cell"],1,"counting",["<each>"]],"<each>":[["each"],1,"counting",["<each>"]],"<count>":[["count"],1,"counting",["<each>"]],"<base-pair>":[["bp","base-pair"],1,"counting",["<each>"]],"<nucleotide>":[["nt","nucleotide"],1,"counting",["<each>"]],"<molecule>":[["molecule","molecules"],1,"counting",["<1>"]],"<dozen>":[["doz","dz","dozen"],12,"prefix_only",["<each>"]],"<percent>":[["%","percent"],.01,"prefix_only",["<1>"]],"<ppm>":[["ppm"],1e-6,"prefix_only",["<1>"]],"<ppb>":[["ppb"],1e-9,"prefix_only",["<1>"]],"<ppt>":[["ppt"],1e-12,"prefix_only",["<1>"]],"<ppq>":[["ppq"],1e-15,"prefix_only",["<1>"]],"<gross>":[["gr","gross"],144,"prefix_only",["<dozen>","<dozen>"]],"<decibel>":[["dB","decibel","decibels"],1,"logarithmic",["<decibel>"]]},ri=["<meter>","<kilogram>","<second>","<mole>","<ampere>","<radian>","<kelvin>","<temp-K>","<byte>","<dollar>","<candela>","<each>","<steradian>","<decibel>"],ii="<1>",ei=[ii];function St(Ii,Wi){var nn=Wi[1],xn=Wi[3]||[],On=Wi[4]||[];if(!Ve(nn))throw new Qe(Ii+": Invalid unit definition. 'scalar' must be a number");xn.forEach(function(Ln){if(ni[Ln]===void 0)throw new Qe(Ii+": Invalid unit definition. Unit "+Ln+" in 'numerator' is not recognized")}),On.forEach(function(Ln){if(ni[Ln]===void 0)throw new Qe(Ii+": Invalid unit definition. Unit "+Ln+" in 'denominator' is not recognized")})}var oi={},si={},ai={},ui={},hi={};for(var ci in ni)if(ni.hasOwnProperty(ci)){var mi=ni[ci];if(mi[2]==="prefix"){oi[ci]=mi[1];for(var di=0;di<mi[0].length;di++)si[mi[0][di]]=ci}else{St(ci,mi),ai[ci]={scalar:mi[1],numerator:mi[3],denominator:mi[4]};for(var pi=0;pi<mi[0].length;pi++)ui[mi[0][pi]]=ci}hi[ci]=mi[0][0]}function yi(Ii){var Wi,nn=[],xn=Object.keys(ni);if(typeof Ii>"u")for(Wi=0;Wi<xn.length;Wi++)["","prefix"].indexOf(ni[xn[Wi]][2])===-1&&nn.push(xn[Wi].substr(1,xn[Wi].length-2));else{if(this.getKinds().indexOf(Ii)===-1)throw new Qe("Kind not recognized");for(Wi=0;Wi<xn.length;Wi++)ni[xn[Wi]][2]===Ii&&nn.push(xn[Wi].substr(1,xn[Wi].length-2))}return nn.sort(function(On,Ln){return On.toLowerCase()<Ln.toLowerCase()?-1:On.toLowerCase()>Ln.toLowerCase()?1:0})}function gi(Ii){if(!ui[Ii])throw new Qe("Unit not recognized");return ni[ui[Ii]][0]}var _i=["length","time","temperature","mass","current","substance","luminosity","currency","information","angle"];function Ai(){if(this.signature)return this.signature;for(var Ii=ki.call(this),Wi=0;Wi<Ii.length;Wi++)Ii[Wi]*=Math.pow(20,Wi);return Ii.reduce(function(nn,xn){return nn+xn},0)}function ki(){if(!this.isBase())return ki.call(this.toBase());for(var Ii=new Array(_i.length),Wi=0;Wi<Ii.length;Wi++)Ii[Wi]=0;for(var nn,xn,On=0;On<this.numerator.length;On++)(nn=ni[this.numerator[On]])&&(xn=_i.indexOf(nn[2]),xn>=0&&(Ii[xn]=Ii[xn]+1));for(var Ln=0;Ln<this.denominator.length;Ln++)(nn=ni[this.denominator[Ln]])&&(xn=_i.indexOf(nn[2]),xn>=0&&(Ii[xn]=Ii[xn]-1));return Ii}var vi="[+-]",Mi="\\d+",Di=vi+"?"+Mi,Bi="\\."+Mi,Pi="(?:"+Mi+"(?:"+Bi+")?)|(?:"+Bi+")",Fi="[Ee]"+Di,Vi="(?:"+Pi+")(?:"+Fi+")?",Ti=vi+"?\\s*"+Vi,ji="("+Ti+")?\\s*([^/]*)(?:/(.+))?",Gi=new RegExp("^"+ji+"$"),Yi="\\^|\\*{2}",Xi="[01234]",xi=new RegExp("([^ \\*\\d]+?)(?:"+Yi+")?(-?"+Xi+"(?![a-zA-Z]))"),fi=new RegExp("([^ \\*\\d]+?)(?:"+Yi+")?("+Xi+"(?![a-zA-Z]))");function $i(Ii){t(Ii)||(Ii=Ii.toString()),Ii=Ii.trim();var Wi=Gi.exec(Ii);if(!Wi)throw new Qe(Ii+": Quantity not recognized");var nn=Wi[1];nn?(nn=nn.replace(/\s/g,""),this.scalar=parseFloat(nn)):this.scalar=1;for(var xn=Wi[2],On=Wi[3],Ln,nr,Kn;Wi=xi.exec(xn);){if(Ln=parseFloat(Wi[2]),isNaN(Ln))throw new Qe("Unit exponent is not a number");if(Ln===0&&!zi.test(Wi[1]))throw new Qe("Unit not recognized");nr=Wi[1]+" ",Kn="";for(var ir=0;ir<Math.abs(Ln);ir++)Kn+=nr;Ln>=0?xn=xn.replace(Wi[0],Kn):(On=On?On+Kn:Kn,xn=xn.replace(Wi[0],""))}for(;Wi=fi.exec(On);){if(Ln=parseFloat(Wi[2]),isNaN(Ln))throw new Qe("Unit exponent is not a number");if(Ln===0&&!zi.test(Wi[1]))throw new Qe("Unit not recognized");nr=Wi[1]+" ",Kn="";for(var pr=0;pr<Ln;pr++)Kn+=nr;On=On.replace(Wi[0],Kn)}xn&&(this.numerator=Ji(xn.trim())),On&&(this.denominator=Ji(On.trim()))}var bi=Object.keys(si).sort(function(Ii,Wi){return Wi.length-Ii.length}).join("|"),Ci=Object.keys(ui).sort(function(Ii,Wi){return Wi.length-Ii.length}).join("|"),Ei="\\b|$",Si="("+bi+")??("+Ci+")(?:"+Ei+")",zi=new RegExp("^\\s*("+Si+"[\\s\\*]*)+$"),Ki=new RegExp(Si,"g"),Ui={};function Ji(Ii){var Wi=Ui[Ii];if(Wi)return Wi;var nn,xn=[];if(!zi.test(Ii))throw new Qe("Unit not recognized");for(;nn=Ki.exec(Ii);)xn.push(nn.slice(1));return xn=xn.map(function(On){return si[On[0]]?[si[On[0]],ui[On[1]]]:[ui[On[1]]]}),xn=xn.reduce(function(On,Ln){return On.concat(Ln)},[]),xn=xn.filter(function(On){return On}),Ui[Ii]=xn,xn}function gn(Ii){if(!t(Ii))throw new Qe("Argument should be a string");try{return this(Ii)}catch{return null}}function hn(Ii){return Ii instanceof un}function un(Ii,Wi){if(Mn.apply(null,arguments),!hn(this))return new un(Ii,Wi);if(this.scalar=null,this.baseScalar=null,this.signature=null,this._conversionCache={},this.numerator=ei,this.denominator=ei,sn(Ii)?(this.scalar=Ii.scalar,this.numerator=Ii.numerator&&Ii.numerator.length!==0?Ii.numerator:ei,this.denominator=Ii.denominator&&Ii.denominator.length!==0?Ii.denominator:ei):Wi?($i.call(this,Wi),this.scalar=Ii):$i.call(this,Ii),this.denominator.join("*").indexOf("temp")>=0)throw new Qe("Cannot divide with temperatures");if(this.numerator.join("*").indexOf("temp")>=0){if(this.numerator.length>1)throw new Qe("Cannot multiply by temperatures");if(!Xe(this.denominator,ei))throw new Qe("Cannot divide with temperatures")}if(this.initValue=Ii,vn.call(this),this.isTemperature()&&this.baseScalar<0)throw new Qe("Temperatures must not be less than absolute zero")}un.prototype={constructor:un};function Mn(Ii,Wi){if(Wi){if(!(Ve(Ii)&&t(Wi)))throw new Qe("Only number accepted as initialization value when units are explicitly provided")}else if(!(t(Ii)||Ve(Ii)||hn(Ii)||sn(Ii)))throw new Qe("Only string, number or quantity accepted as single initialization value")}function sn(Ii){return Ii&&typeof Ii=="object"&&Ii.hasOwnProperty("scalar")}function vn(){if(this.baseScalar)return this.baseScalar;if(this.isBase())this.baseScalar=this.scalar,this.signature=Ai.call(this);else{var Ii=this.toBase();this.baseScalar=Ii.scalar,this.signature=Ii.signature}}var Ni={"-312078":"elastance","-312058":"resistance","-312038":"inductance","-152058":"potential","-152040":"magnetism","-152038":"magnetism","-7997":"specific_volume","-79":"snap","-59":"jolt","-39":"acceleration","-38":"radiation","-20":"frequency","-19":"speed","-18":"viscosity","-17":"volumetric_flow","-1":"wavenumber",0:"unitless",1:"length",2:"area",3:"volume",20:"time",400:"temperature",7941:"yank",7942:"power",7959:"pressure",7961:"force",7962:"energy",7979:"viscosity",7981:"momentum",7982:"angular_momentum",7997:"density",7998:"area_density",8e3:"mass",152020:"radiation_exposure",159999:"magnetism",16e4:"current",160020:"charge",312058:"conductance",312078:"capacitance",3199980:"activity",3199997:"molar_concentration",32e5:"substance",63999998:"illuminance",64e6:"luminous_power",128e7:"currency","25599999980":"information_rate","25600000000":"information","511999999980":"angular_velocity","512000000000":"angle"};function Cn(){return ze(Object.keys(Ni).map(function(Ii){return Ni[Ii]}))}un.prototype.kind=function(){return Ni[this.signature.toString()]},We(un.prototype,{isDegrees:function(){return(this.signature===null||this.signature===400)&&this.numerator.length===1&&Xe(this.denominator,ei)&&(this.numerator[0].match(/<temp-[CFRK]>/)||this.numerator[0].match(/<(kelvin|celsius|rankine|fahrenheit)>/))},isTemperature:function(){return this.isDegrees()&&this.numerator[0].match(/<temp-[CFRK]>/)}});function cn(Ii,Wi){var nn=Ii.units(),xn=Wi.to(nn),On=un(an(nn));return un({scalar:Ii.scalar-xn.scalar,numerator:On.numerator,denominator:On.denominator})}function fn(Ii,Wi){var nn=Wi.to(an(Ii.units()));return un({scalar:Ii.scalar-nn.scalar,numerator:Ii.numerator,denominator:Ii.denominator})}function qi(Ii,Wi){var nn=Wi.to(an(Ii.units()));return un({scalar:Ii.scalar+nn.scalar,numerator:Ii.numerator,denominator:Ii.denominator})}function an(Ii){if(Ii==="tempK")return"degK";if(Ii==="tempC")return"degC";if(Ii==="tempF")return"degF";if(Ii==="tempR")return"degR";throw new Qe("Unknown type for temp conversion from: "+Ii)}function yn(Ii,Wi){var nn=bn(Ii),xn=Wi.units(),On;if(xn==="degK")On=nn.scalar;else if(xn==="degC")On=nn.scalar;else if(xn==="degF")On=nn.scalar*9/5;else if(xn==="degR")On=nn.scalar*9/5;else throw new Qe("Unknown type for degree conversion to: "+xn);return un({scalar:On,numerator:Wi.numerator,denominator:Wi.denominator})}function bn(Ii){var Wi=Ii.units(),nn;if(Wi.match(/(deg)[CFRK]/))nn=Ii.baseScalar;else if(Wi==="tempK")nn=Ii.scalar;else if(Wi==="tempC")nn=Ii.scalar;else if(Wi==="tempF")nn=Ii.scalar*5/9;else if(Wi==="tempR")nn=Ii.scalar*5/9;else throw new Qe("Unknown type for temp conversion from: "+Wi);return un({scalar:nn,numerator:["<kelvin>"],denominator:ei})}function Sn(Ii,Wi){var nn=Wi.units(),xn;if(nn==="tempK")xn=Ii.baseScalar;else if(nn==="tempC")xn=Ii.baseScalar-273.15;else if(nn==="tempF")xn=Ii.baseScalar*9/5-459.67;else if(nn==="tempR")xn=Ii.baseScalar*9/5;else throw new Qe("Unknown type for temp conversion to: "+nn);return un({scalar:xn,numerator:Wi.numerator,denominator:Wi.denominator})}function Fn(Ii){var Wi=Ii.units(),nn;if(Wi.match(/(deg)[CFRK]/))nn=Ii.baseScalar;else if(Wi==="tempK")nn=Ii.scalar;else if(Wi==="tempC")nn=Ii.scalar+273.15;else if(Wi==="tempF")nn=(Ii.scalar+459.67)*5/9;else if(Wi==="tempR")nn=Ii.scalar*5/9;else throw new Qe("Unknown type for temp conversion from: "+Wi);return un({scalar:nn,numerator:["<temp-K>"],denominator:ei})}We(un.prototype,{to:function(Ii){var Wi,nn;if(Ii==null)return this;if(!t(Ii))return this.to(Ii.units());if(Wi=this._conversionCache[Ii],Wi)return Wi;if(nn=un(Ii),nn.units()===this.units())return this;if(!this.isCompatible(nn))this.isInverse(nn)?nn=this.inverse().to(Ii):ti(this.units(),nn.units());else if(nn.isTemperature())nn=Sn(this,nn);else if(nn.isDegrees())nn=yn(this,nn);else{var xn=Ke(this.baseScalar,nn.baseScalar);nn=un({scalar:xn,numerator:nn.numerator,denominator:nn.denominator})}return this._conversionCache[Ii]=nn,nn},toBase:function(){if(this.isBase())return this;if(this.isTemperature())return Fn(this);var Ii=Nn[this.units()];return Ii||(Ii=Hn(this.numerator,this.denominator),Nn[this.units()]=Ii),Ii.mul(this.scalar)},toFloat:function(){if(this.isUnitless())return this.scalar;throw new Qe("Can't convert to Float unless unitless.  Use Unit#scalar")},toPrec:function(Ii){if(t(Ii)&&(Ii=un(Ii)),Ve(Ii)&&(Ii=un(Ii+" "+this.units())),this.isUnitless()?Ii.isUnitless()||ti(this.units(),Ii.units()):Ii=Ii.to(this.units()),Ii.scalar===0)throw new Qe("Divide by zero");var Wi=qe(Math.round(this.scalar/Ii.scalar),Ii.scalar);return un(Wi+this.units())}});function kn(Ii,Wi){var nn=un(Ii),xn=un(Wi);if(nn.eq(xn))return je;var On;return nn.isTemperature()?On=function(Ln){return nn.mul(Ln).to(xn).scalar}:On=function(Ln){return Ln*nn.baseScalar/xn.baseScalar},function(Ln){var nr,Kn,ir;if(Array.isArray(Ln)){for(Kn=Ln.length,ir=[],nr=0;nr<Kn;nr++)ir.push(On(Ln[nr]));return ir}else return On(Ln)}}var Nn={};function Hn(Ii,Wi){for(var nn=[],xn=[],On=1,Ln,nr=0;nr<Ii.length;nr++)Ln=Ii[nr],oi[Ln]?On=qe(On,oi[Ln]):ai[Ln]&&(On*=ai[Ln].scalar,ai[Ln].numerator&&nn.push(ai[Ln].numerator),ai[Ln].denominator&&xn.push(ai[Ln].denominator));for(var Kn=0;Kn<Wi.length;Kn++)Ln=Wi[Kn],oi[Ln]?On/=oi[Ln]:ai[Ln]&&(On/=ai[Ln].scalar,ai[Ln].numerator&&xn.push(ai[Ln].numerator),ai[Ln].denominator&&nn.push(ai[Ln].denominator));return nn=nn.reduce(function(ir,pr){return ir.concat(pr)},[]),xn=xn.reduce(function(ir,pr){return ir.concat(pr)},[]),un({scalar:On,numerator:nn,denominator:xn})}un.parse=gn,un.getUnits=yi,un.getAliases=gi,un.mulSafe=qe,un.divSafe=Ke,un.getKinds=Cn,un.swiftConverter=kn,un.Error=Qe,We(un.prototype,{add:function(Ii){if(t(Ii)&&(Ii=un(Ii)),this.isCompatible(Ii)||ti(this.units(),Ii.units()),this.isTemperature()&&Ii.isTemperature())throw new Qe("Cannot add two temperatures");return this.isTemperature()?qi(this,Ii):Ii.isTemperature()?qi(Ii,this):un({scalar:this.scalar+Ii.to(this).scalar,numerator:this.numerator,denominator:this.denominator})},sub:function(Ii){if(t(Ii)&&(Ii=un(Ii)),this.isCompatible(Ii)||ti(this.units(),Ii.units()),this.isTemperature()&&Ii.isTemperature())return cn(this,Ii);if(this.isTemperature())return fn(this,Ii);if(Ii.isTemperature())throw new Qe("Cannot subtract a temperature from a differential degree unit");return un({scalar:this.scalar-Ii.to(this).scalar,numerator:this.numerator,denominator:this.denominator})},mul:function(Ii){if(Ve(Ii))return un({scalar:qe(this.scalar,Ii),numerator:this.numerator,denominator:this.denominator});if(t(Ii)&&(Ii=un(Ii)),(this.isTemperature()||Ii.isTemperature())&&!(this.isUnitless()||Ii.isUnitless()))throw new Qe("Cannot multiply by temperatures");var Wi=this,nn=Ii;Wi.isCompatible(nn)&&Wi.signature!==400&&(nn=nn.to(Wi));var xn=Yn(Wi.numerator,Wi.denominator,nn.numerator,nn.denominator);return un({scalar:qe(Wi.scalar,nn.scalar,xn[2]),numerator:xn[0],denominator:xn[1]})},div:function(Ii){if(Ve(Ii)){if(Ii===0)throw new Qe("Divide by zero");return un({scalar:this.scalar/Ii,numerator:this.numerator,denominator:this.denominator})}else t(Ii)&&(Ii=un(Ii));if(Ii.scalar===0)throw new Qe("Divide by zero");if(Ii.isTemperature())throw new Qe("Cannot divide with temperatures");if(this.isTemperature()&&!Ii.isUnitless())throw new Qe("Cannot divide with temperatures");var Wi=this,nn=Ii;Wi.isCompatible(nn)&&Wi.signature!==400&&(nn=nn.to(Wi));var xn=Yn(Wi.numerator,Wi.denominator,nn.denominator,nn.numerator);return un({scalar:qe(Wi.scalar,xn[2])/nn.scalar,numerator:xn[0],denominator:xn[1]})},inverse:function(){if(this.isTemperature())throw new Qe("Cannot divide with temperatures");if(this.scalar===0)throw new Qe("Divide by zero");return un({scalar:1/this.scalar,numerator:this.denominator,denominator:this.numerator})}});function Yn(Ii,Wi,nn,xn){function On(lr){return lr!==ii}Ii=Ii.filter(On),nn=nn.filter(On),Wi=Wi.filter(On),xn=xn.filter(On);var Ln={};function nr(lr,yr){for(var cr,br,Er,$r=0;$r<lr.length;$r++)if(oi[lr[$r]]?(cr=lr[$r+1],br=lr[$r],Er=oi[br],$r++):(cr=lr[$r],br=null,Er=1),cr&&cr!==ii)if(Ln[cr]){Ln[cr][0]+=yr;var Gr=Ln[cr][2]?oi[Ln[cr][2]]:1;Ln[cr][yr===1?3:4]*=Ke(Er,Gr)}else Ln[cr]=[yr,cr,br,1,1]}nr(Ii,1),nr(Wi,-1),nr(nn,1),nr(xn,-1);var Kn=[],ir=[],pr=1;for(var Ur in Ln)if(Ln.hasOwnProperty(Ur)){var ur=Ln[Ur],_r;if(ur[0]>0)for(_r=0;_r<ur[0];_r++)Kn.push(ur[2]===null?ur[1]:[ur[2],ur[1]]);else if(ur[0]<0)for(_r=0;_r<-ur[0];_r++)ir.push(ur[2]===null?ur[1]:[ur[2],ur[1]]);pr*=Ke(ur[3],ur[4])}return Kn.length===0&&(Kn=ei),ir.length===0&&(ir=ei),Kn=Kn.reduce(function(lr,yr){return lr.concat(yr)},[]),ir=ir.reduce(function(lr,yr){return lr.concat(yr)},[]),[Kn,ir,pr]}We(un.prototype,{eq:function(Ii){return this.compareTo(Ii)===0},lt:function(Ii){return this.compareTo(Ii)===-1},lte:function(Ii){return this.eq(Ii)||this.lt(Ii)},gt:function(Ii){return this.compareTo(Ii)===1},gte:function(Ii){return this.eq(Ii)||this.gt(Ii)},compareTo:function(Ii){if(t(Ii))return this.compareTo(un(Ii));if(this.isCompatible(Ii)||ti(this.units(),Ii.units()),this.baseScalar<Ii.baseScalar)return-1;if(this.baseScalar===Ii.baseScalar)return 0;if(this.baseScalar>Ii.baseScalar)return 1},same:function(Ii){return this.scalar===Ii.scalar&&this.units()===Ii.units()}}),We(un.prototype,{isUnitless:function(){return[this.numerator,this.denominator].every(function(Ii){return Xe(Ii,ei)})},isCompatible:function(Ii){return t(Ii)?this.isCompatible(un(Ii)):hn(Ii)&&Ii.signature!==void 0?this.signature===Ii.signature:!1},isInverse:function(Ii){return this.inverse().isCompatible(Ii)},isBase:function(){return this._isBase!==void 0?this._isBase:this.isDegrees()&&this.numerator[0].match(/<(kelvin|temp-K)>/)?(this._isBase=!0,this._isBase):(this.numerator.concat(this.denominator).forEach(function(Ii){Ii!==ii&&ri.indexOf(Ii)===-1&&(this._isBase=!1)},this),this._isBase===!1?this._isBase:(this._isBase=!0,this._isBase))}});function tr(){}tr.prototype.get=function(Ii){return arguments.length>1&&(Ii=Array.apply(null,arguments)),Ii.reduce(function(Wi,nn,xn){if(Wi){var On=Wi[nn];return xn===Ii.length-1?On?On.data:void 0:On}},this)},tr.prototype.set=function(Ii,Wi){return arguments.length>2&&(Ii=Array.prototype.slice.call(arguments,0,-1),Wi=arguments[arguments.length-1]),Ii.reduce(function(nn,xn,On){var Ln=nn[xn];return Ln===void 0&&(Ln=nn[xn]={}),On===Ii.length-1?(Ln.data=Wi,Wi):Ln},this)};function qn(Ii,Wi){return(Ii+" "+Wi).trim()}un.formatter=qn,We(un.prototype,{units:function(){if(this._units!==void 0)return this._units;var Ii=Xe(this.numerator,ei),Wi=Xe(this.denominator,ei);if(Ii&&Wi)return this._units="",this._units;var nn=Qn(this.numerator),xn=Qn(this.denominator);return this._units=nn+(Wi?"":"/"+xn),this._units},toString:function(Ii,Wi){var nn;if(Ve(Ii))nn=this.units(),Wi=Ii;else if(t(Ii))nn=Ii;else if(hn(Ii))return this.toPrec(Ii).toString(Wi);var xn=this.to(nn),On=Wi!==void 0?Ze(xn.scalar,Wi):xn.scalar;return xn=(On+" "+xn.units()).trim(),xn},format:function(Ii,Wi){arguments.length===1&&typeof Ii=="function"&&(Wi=Ii,Ii=void 0),Wi=Wi||un.formatter;var nn=this.to(Ii);return Wi.call(this,nn.scalar,nn.units())}});var Jn=new tr;function Qn(Ii){var Wi=Jn.get(Ii);if(Wi)return Wi;var nn=Xe(Ii,ei);return nn?Wi="1":Wi=mn(ar(Ii)).join("*"),Jn.set(Ii,Wi),Wi}function ar(Ii){for(var Wi=[],nn,xn,On=0;On<Ii.length;On++)nn=Ii[On],xn=Ii[On+1],oi[nn]?(Wi.push(hi[nn]+hi[xn]),On++):Wi.push(hi[nn]);return Wi}function mn(Ii){var Wi=Ii.reduce(function(nn,xn){var On=nn[xn];return On||nn.push(On=nn[xn]=[xn,0]),On[1]++,nn},[]);return Wi.map(function(nn){return nn[0]+(nn[1]>1?nn[1]:"")})}return un.version="1.8.0",un})})(quantities);var quantitiesExports=quantities.exports;const Qty=getDefaultExportFromCjs(quantitiesExports);function deepValue($e,e=""){let t=e.split(".");for(let r of t){if($e[r]===void 0)return;$e=$e[r]}return $e}var orientation={exports:{}},twoProduct_1=twoProduct$1,SPLITTER=+(Math.pow(2,27)+1);function twoProduct$1($e,e,t){var r=$e*e,Ve=SPLITTER*$e,je=Ve-$e,ze=Ve-je,Xe=$e-ze,We=SPLITTER*e,qe=We-e,Ke=We-qe,Ze=e-Ke,Je=r-ze*Ke,Qe=Je-Xe*Ke,ti=Qe-ze*Ze,ni=Xe*Ze-ti;return t?(t[0]=ni,t[1]=r,t):[ni,r]}var robustSum=linearExpansionSum;function scalarScalar$1($e,e){var t=$e+e,r=t-$e,Ve=t-r,je=e-r,ze=$e-Ve,Xe=ze+je;return Xe?[Xe,t]:[t]}function linearExpansionSum($e,e){var t=$e.length|0,r=e.length|0;if(t===1&&r===1)return scalarScalar$1($e[0],e[0]);var Ve=t+r,je=new Array(Ve),ze=0,Xe=0,We=0,qe=Math.abs,Ke=$e[Xe],Ze=qe(Ke),Je=e[We],Qe=qe(Je),ti,ni;Ze<Qe?(ni=Ke,Xe+=1,Xe<t&&(Ke=$e[Xe],Ze=qe(Ke))):(ni=Je,We+=1,We<r&&(Je=e[We],Qe=qe(Je))),Xe<t&&Ze<Qe||We>=r?(ti=Ke,Xe+=1,Xe<t&&(Ke=$e[Xe],Ze=qe(Ke))):(ti=Je,We+=1,We<r&&(Je=e[We],Qe=qe(Je)));for(var ri=ti+ni,ii=ri-ti,ei=ni-ii,St=ei,oi=ri,si,ai,ui,hi,ci;Xe<t&&We<r;)Ze<Qe?(ti=Ke,Xe+=1,Xe<t&&(Ke=$e[Xe],Ze=qe(Ke))):(ti=Je,We+=1,We<r&&(Je=e[We],Qe=qe(Je))),ni=St,ri=ti+ni,ii=ri-ti,ei=ni-ii,ei&&(je[ze++]=ei),si=oi+ri,ai=si-oi,ui=si-ai,hi=ri-ai,ci=oi-ui,St=ci+hi,oi=si;for(;Xe<t;)ti=Ke,ni=St,ri=ti+ni,ii=ri-ti,ei=ni-ii,ei&&(je[ze++]=ei),si=oi+ri,ai=si-oi,ui=si-ai,hi=ri-ai,ci=oi-ui,St=ci+hi,oi=si,Xe+=1,Xe<t&&(Ke=$e[Xe]);for(;We<r;)ti=Je,ni=St,ri=ti+ni,ii=ri-ti,ei=ni-ii,ei&&(je[ze++]=ei),si=oi+ri,ai=si-oi,ui=si-ai,hi=ri-ai,ci=oi-ui,St=ci+hi,oi=si,We+=1,We<r&&(Je=e[We]);return St&&(je[ze++]=St),oi&&(je[ze++]=oi),ze||(je[ze++]=0),je.length=ze,je}var twoSum$1=fastTwoSum;function fastTwoSum($e,e,t){var r=$e+e,Ve=r-$e,je=r-Ve,ze=e-Ve,Xe=$e-je;return t?(t[0]=Xe+ze,t[1]=r,t):[Xe+ze,r]}var twoProduct=twoProduct_1,twoSum=twoSum$1,robustScale=scaleLinearExpansion;function scaleLinearExpansion($e,e){var t=$e.length;if(t===1){var r=twoProduct($e[0],e);return r[0]?r:[r[1]]}var Ve=new Array(2*t),je=[.1,.1],ze=[.1,.1],Xe=0;twoProduct($e[0],e,je),je[0]&&(Ve[Xe++]=je[0]);for(var We=1;We<t;++We){twoProduct($e[We],e,ze);var qe=je[1];twoSum(qe,ze[0],je),je[0]&&(Ve[Xe++]=je[0]);var Ke=ze[1],Ze=je[1],Je=Ke+Ze,Qe=Je-Ke,ti=Ze-Qe;je[1]=Je,ti&&(Ve[Xe++]=ti)}return je[1]&&(Ve[Xe++]=je[1]),Xe===0&&(Ve[Xe++]=0),Ve.length=Xe,Ve}var robustDiff=robustSubtract;function scalarScalar($e,e){var t=$e+e,r=t-$e,Ve=t-r,je=e-r,ze=$e-Ve,Xe=ze+je;return Xe?[Xe,t]:[t]}function robustSubtract($e,e){var t=$e.length|0,r=e.length|0;if(t===1&&r===1)return scalarScalar($e[0],-e[0]);var Ve=t+r,je=new Array(Ve),ze=0,Xe=0,We=0,qe=Math.abs,Ke=$e[Xe],Ze=qe(Ke),Je=-e[We],Qe=qe(Je),ti,ni;Ze<Qe?(ni=Ke,Xe+=1,Xe<t&&(Ke=$e[Xe],Ze=qe(Ke))):(ni=Je,We+=1,We<r&&(Je=-e[We],Qe=qe(Je))),Xe<t&&Ze<Qe||We>=r?(ti=Ke,Xe+=1,Xe<t&&(Ke=$e[Xe],Ze=qe(Ke))):(ti=Je,We+=1,We<r&&(Je=-e[We],Qe=qe(Je)));for(var ri=ti+ni,ii=ri-ti,ei=ni-ii,St=ei,oi=ri,si,ai,ui,hi,ci;Xe<t&&We<r;)Ze<Qe?(ti=Ke,Xe+=1,Xe<t&&(Ke=$e[Xe],Ze=qe(Ke))):(ti=Je,We+=1,We<r&&(Je=-e[We],Qe=qe(Je))),ni=St,ri=ti+ni,ii=ri-ti,ei=ni-ii,ei&&(je[ze++]=ei),si=oi+ri,ai=si-oi,ui=si-ai,hi=ri-ai,ci=oi-ui,St=ci+hi,oi=si;for(;Xe<t;)ti=Ke,ni=St,ri=ti+ni,ii=ri-ti,ei=ni-ii,ei&&(je[ze++]=ei),si=oi+ri,ai=si-oi,ui=si-ai,hi=ri-ai,ci=oi-ui,St=ci+hi,oi=si,Xe+=1,Xe<t&&(Ke=$e[Xe]);for(;We<r;)ti=Je,ni=St,ri=ti+ni,ii=ri-ti,ei=ni-ii,ei&&(je[ze++]=ei),si=oi+ri,ai=si-oi,ui=si-ai,hi=ri-ai,ci=oi-ui,St=ci+hi,oi=si,We+=1,We<r&&(Je=-e[We]);return St&&(je[ze++]=St),oi&&(je[ze++]=oi),ze||(je[ze++]=0),je.length=ze,je}(function($e){var e=twoProduct_1,t=robustSum,r=robustScale,Ve=robustDiff,je=5,ze=11102230246251565e-32,Xe=(3+16*ze)*ze,We=(7+56*ze)*ze;function qe(St,oi,si,ai){return function(ui,hi,ci){var mi=St(St(oi(hi[1],ci[0]),oi(-ci[1],hi[0])),St(oi(ui[1],hi[0]),oi(-hi[1],ui[0]))),di=St(oi(ui[1],ci[0]),oi(-ci[1],ui[0])),pi=ai(mi,di);return pi[pi.length-1]}}function Ke(St,oi,si,ai){return function(ui,hi,ci,mi){var di=St(St(si(St(oi(ci[1],mi[0]),oi(-mi[1],ci[0])),hi[2]),St(si(St(oi(hi[1],mi[0]),oi(-mi[1],hi[0])),-ci[2]),si(St(oi(hi[1],ci[0]),oi(-ci[1],hi[0])),mi[2]))),St(si(St(oi(hi[1],mi[0]),oi(-mi[1],hi[0])),ui[2]),St(si(St(oi(ui[1],mi[0]),oi(-mi[1],ui[0])),-hi[2]),si(St(oi(ui[1],hi[0]),oi(-hi[1],ui[0])),mi[2])))),pi=St(St(si(St(oi(ci[1],mi[0]),oi(-mi[1],ci[0])),ui[2]),St(si(St(oi(ui[1],mi[0]),oi(-mi[1],ui[0])),-ci[2]),si(St(oi(ui[1],ci[0]),oi(-ci[1],ui[0])),mi[2]))),St(si(St(oi(hi[1],ci[0]),oi(-ci[1],hi[0])),ui[2]),St(si(St(oi(ui[1],ci[0]),oi(-ci[1],ui[0])),-hi[2]),si(St(oi(ui[1],hi[0]),oi(-hi[1],ui[0])),ci[2])))),yi=ai(di,pi);return yi[yi.length-1]}}function Ze(St,oi,si,ai){return function(ui,hi,ci,mi,di){var pi=St(St(St(si(St(si(St(oi(mi[1],di[0]),oi(-di[1],mi[0])),ci[2]),St(si(St(oi(ci[1],di[0]),oi(-di[1],ci[0])),-mi[2]),si(St(oi(ci[1],mi[0]),oi(-mi[1],ci[0])),di[2]))),hi[3]),St(si(St(si(St(oi(mi[1],di[0]),oi(-di[1],mi[0])),hi[2]),St(si(St(oi(hi[1],di[0]),oi(-di[1],hi[0])),-mi[2]),si(St(oi(hi[1],mi[0]),oi(-mi[1],hi[0])),di[2]))),-ci[3]),si(St(si(St(oi(ci[1],di[0]),oi(-di[1],ci[0])),hi[2]),St(si(St(oi(hi[1],di[0]),oi(-di[1],hi[0])),-ci[2]),si(St(oi(hi[1],ci[0]),oi(-ci[1],hi[0])),di[2]))),mi[3]))),St(si(St(si(St(oi(ci[1],mi[0]),oi(-mi[1],ci[0])),hi[2]),St(si(St(oi(hi[1],mi[0]),oi(-mi[1],hi[0])),-ci[2]),si(St(oi(hi[1],ci[0]),oi(-ci[1],hi[0])),mi[2]))),-di[3]),St(si(St(si(St(oi(mi[1],di[0]),oi(-di[1],mi[0])),hi[2]),St(si(St(oi(hi[1],di[0]),oi(-di[1],hi[0])),-mi[2]),si(St(oi(hi[1],mi[0]),oi(-mi[1],hi[0])),di[2]))),ui[3]),si(St(si(St(oi(mi[1],di[0]),oi(-di[1],mi[0])),ui[2]),St(si(St(oi(ui[1],di[0]),oi(-di[1],ui[0])),-mi[2]),si(St(oi(ui[1],mi[0]),oi(-mi[1],ui[0])),di[2]))),-hi[3])))),St(St(si(St(si(St(oi(hi[1],di[0]),oi(-di[1],hi[0])),ui[2]),St(si(St(oi(ui[1],di[0]),oi(-di[1],ui[0])),-hi[2]),si(St(oi(ui[1],hi[0]),oi(-hi[1],ui[0])),di[2]))),mi[3]),St(si(St(si(St(oi(hi[1],mi[0]),oi(-mi[1],hi[0])),ui[2]),St(si(St(oi(ui[1],mi[0]),oi(-mi[1],ui[0])),-hi[2]),si(St(oi(ui[1],hi[0]),oi(-hi[1],ui[0])),mi[2]))),-di[3]),si(St(si(St(oi(ci[1],mi[0]),oi(-mi[1],ci[0])),hi[2]),St(si(St(oi(hi[1],mi[0]),oi(-mi[1],hi[0])),-ci[2]),si(St(oi(hi[1],ci[0]),oi(-ci[1],hi[0])),mi[2]))),ui[3]))),St(si(St(si(St(oi(ci[1],mi[0]),oi(-mi[1],ci[0])),ui[2]),St(si(St(oi(ui[1],mi[0]),oi(-mi[1],ui[0])),-ci[2]),si(St(oi(ui[1],ci[0]),oi(-ci[1],ui[0])),mi[2]))),-hi[3]),St(si(St(si(St(oi(hi[1],mi[0]),oi(-mi[1],hi[0])),ui[2]),St(si(St(oi(ui[1],mi[0]),oi(-mi[1],ui[0])),-hi[2]),si(St(oi(ui[1],hi[0]),oi(-hi[1],ui[0])),mi[2]))),ci[3]),si(St(si(St(oi(hi[1],ci[0]),oi(-ci[1],hi[0])),ui[2]),St(si(St(oi(ui[1],ci[0]),oi(-ci[1],ui[0])),-hi[2]),si(St(oi(ui[1],hi[0]),oi(-hi[1],ui[0])),ci[2]))),-mi[3]))))),yi=St(St(St(si(St(si(St(oi(mi[1],di[0]),oi(-di[1],mi[0])),ci[2]),St(si(St(oi(ci[1],di[0]),oi(-di[1],ci[0])),-mi[2]),si(St(oi(ci[1],mi[0]),oi(-mi[1],ci[0])),di[2]))),ui[3]),si(St(si(St(oi(mi[1],di[0]),oi(-di[1],mi[0])),ui[2]),St(si(St(oi(ui[1],di[0]),oi(-di[1],ui[0])),-mi[2]),si(St(oi(ui[1],mi[0]),oi(-mi[1],ui[0])),di[2]))),-ci[3])),St(si(St(si(St(oi(ci[1],di[0]),oi(-di[1],ci[0])),ui[2]),St(si(St(oi(ui[1],di[0]),oi(-di[1],ui[0])),-ci[2]),si(St(oi(ui[1],ci[0]),oi(-ci[1],ui[0])),di[2]))),mi[3]),si(St(si(St(oi(ci[1],mi[0]),oi(-mi[1],ci[0])),ui[2]),St(si(St(oi(ui[1],mi[0]),oi(-mi[1],ui[0])),-ci[2]),si(St(oi(ui[1],ci[0]),oi(-ci[1],ui[0])),mi[2]))),-di[3]))),St(St(si(St(si(St(oi(ci[1],di[0]),oi(-di[1],ci[0])),hi[2]),St(si(St(oi(hi[1],di[0]),oi(-di[1],hi[0])),-ci[2]),si(St(oi(hi[1],ci[0]),oi(-ci[1],hi[0])),di[2]))),ui[3]),si(St(si(St(oi(ci[1],di[0]),oi(-di[1],ci[0])),ui[2]),St(si(St(oi(ui[1],di[0]),oi(-di[1],ui[0])),-ci[2]),si(St(oi(ui[1],ci[0]),oi(-ci[1],ui[0])),di[2]))),-hi[3])),St(si(St(si(St(oi(hi[1],di[0]),oi(-di[1],hi[0])),ui[2]),St(si(St(oi(ui[1],di[0]),oi(-di[1],ui[0])),-hi[2]),si(St(oi(ui[1],hi[0]),oi(-hi[1],ui[0])),di[2]))),ci[3]),si(St(si(St(oi(hi[1],ci[0]),oi(-ci[1],hi[0])),ui[2]),St(si(St(oi(ui[1],ci[0]),oi(-ci[1],ui[0])),-hi[2]),si(St(oi(ui[1],hi[0]),oi(-hi[1],ui[0])),ci[2]))),-di[3])))),gi=ai(pi,yi);return gi[gi.length-1]}}function Je(St){var oi=St===3?qe:St===4?Ke:Ze;return oi(t,e,r,Ve)}var Qe=Je(3),ti=Je(4),ni=[function(){return 0},function(){return 0},function(St,oi){return oi[0]-St[0]},function(St,oi,si){var ai=(St[1]-si[1])*(oi[0]-si[0]),ui=(St[0]-si[0])*(oi[1]-si[1]),hi=ai-ui,ci;if(ai>0){if(ui<=0)return hi;ci=ai+ui}else if(ai<0){if(ui>=0)return hi;ci=-(ai+ui)}else return hi;var mi=Xe*ci;return hi>=mi||hi<=-mi?hi:Qe(St,oi,si)},function(St,oi,si,ai){var ui=St[0]-ai[0],hi=oi[0]-ai[0],ci=si[0]-ai[0],mi=St[1]-ai[1],di=oi[1]-ai[1],pi=si[1]-ai[1],yi=St[2]-ai[2],gi=oi[2]-ai[2],_i=si[2]-ai[2],Ai=hi*pi,ki=ci*di,vi=ci*mi,Mi=ui*pi,Di=ui*di,Bi=hi*mi,Pi=yi*(Ai-ki)+gi*(vi-Mi)+_i*(Di-Bi),Fi=(Math.abs(Ai)+Math.abs(ki))*Math.abs(yi)+(Math.abs(vi)+Math.abs(Mi))*Math.abs(gi)+(Math.abs(Di)+Math.abs(Bi))*Math.abs(_i),Vi=We*Fi;return Pi>Vi||-Pi>Vi?Pi:ti(St,oi,si,ai)}];function ri(St){var oi=ni[St.length];return oi||(oi=ni[St.length]=Je(St.length)),oi.apply(void 0,St)}function ii(St,oi,si,ai,ui,hi,ci){return function(mi,di,pi,yi,gi){switch(arguments.length){case 0:case 1:return 0;case 2:return ai(mi,di);case 3:return ui(mi,di,pi);case 4:return hi(mi,di,pi,yi);case 5:return ci(mi,di,pi,yi,gi)}for(var _i=new Array(arguments.length),Ai=0;Ai<arguments.length;++Ai)_i[Ai]=arguments[Ai];return St(_i)}}function ei(){for(;ni.length<=je;)ni.push(Je(ni.length));$e.exports=ii.apply(void 0,[ri].concat(ni));for(var St=0;St<=je;++St)$e.exports[St]=ni[St]}ei()})(orientation);var orientationExports=orientation.exports,robustPnp=robustPointInPolygon,orient=orientationExports;function robustPointInPolygon($e,e){for(var t=e[0],r=e[1],Ve=$e.length,je=1,ze=Ve,Xe=0,We=Ve-1;Xe<ze;We=Xe++){var qe=$e[Xe],Ke=$e[We],Ze=qe[1],Je=Ke[1];if(Je<Ze){if(Je<r&&r<Ze){var Qe=orient(qe,Ke,e);if(Qe===0)return 0;je^=0<Qe|0}else if(r===Ze){var ti=$e[(Xe+1)%Ve],ni=ti[1];if(Ze<ni){var Qe=orient(qe,Ke,e);if(Qe===0)return 0;je^=0<Qe|0}}}else if(Ze<Je){if(Ze<r&&r<Je){var Qe=orient(qe,Ke,e);if(Qe===0)return 0;je^=Qe<0|0}else if(r===Ze){var ti=$e[(Xe+1)%Ve],ni=ti[1];if(ni<Ze){var Qe=orient(qe,Ke,e);if(Qe===0)return 0;je^=Qe<0|0}}}else if(r===Ze){var ri=Math.min(qe[0],Ke[0]),ii=Math.max(qe[0],Ke[0]);if(Xe===0){for(;We>0;){var ei=(We+Ve-1)%Ve,St=$e[ei];if(St[1]!==r)break;var oi=St[0];ri=Math.min(ri,oi),ii=Math.max(ii,oi),We=ei}if(We===0)return ri<=t&&t<=ii?0:1;ze=We+1}for(var si=$e[(We+Ve-1)%Ve][1];Xe+1<ze;){var St=$e[Xe+1];if(St[1]!==r)break;var oi=St[0];ri=Math.min(ri,oi),ii=Math.max(ii,oi),Xe+=1}if(ri<=t&&t<=ii)return 0;var ai=$e[(Xe+1)%Ve][1];t<ri&&si<r!=ai<r&&(je^=1)}}return 2*je-1}const robustPointInPolygon$1=getDefaultExportFromCjs(robustPnp);function feretDiameters($e={}){const{originalPoints:e=monotoneChainConvexHull.call(this)}=$e;if(e.length===0)return{min:0,max:0,minLine:[],maxLine:[],aspectRatio:1};if(e.length===1)return{min:1,max:1,minLine:[e[0],e[0]],maxLine:[e[0],e[0]],aspectRatio:1};const t=new Array(e.length);let r=1/0,Ve=0,je=[];for(let qe=0;qe<e.length;qe++){let Ke=getAngle(e[qe],e[(qe+1)%e.length]);rotate(-Ke,e,t);let Ze=0,Je=[];for(let Qe=0;Qe<e.length;Qe++){let ti=Math.abs(t[qe][1]-t[Qe][1]);ti>Ze&&(Ze=ti,Je=[],Je.push([t[Qe][0],t[qe][1]],[t[Qe][0],t[Qe][1]]))}Ze<r&&(r=Ze,Ve=Ke,je=Je)}rotate(Ve,je,je);let ze=0,Xe=[],We=0;for(let qe=0;qe<e.length-1;qe++)for(let Ke=qe+1;Ke<e.length;Ke++){let Ze=(e[qe][0]-e[Ke][0])**2+(e[qe][1]-e[Ke][1])**2;Ze>We&&(We=Ze,ze=Math.sqrt(Ze),Xe=[e[qe],e[Ke]])}return{min:r,minLine:je,max:ze,maxLine:Xe,aspectRatio:r/ze}}function getAngle($e,e){let t=difference(e,$e),r=normalize(t),Ve=Math.acos(r[0]);return r[1]<0?-Ve:Ve}class Roi{constructor(e,t){this.map=e,this.id=t,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY,this.meanX=0,this.meanY=0,this.surface=0,this.computed={}}getMask(e={}){const{scale:t=1,kind:r=""}=e;let Ve;switch(r){case"contour":Ve=this.contourMask;break;case"box":Ve=this.boxMask;break;case"filled":Ve=this.filledMask;break;case"center":Ve=this.centerMask;break;case"mbr":Ve=this.mbrFilledMask;break;case"hull":Ve=this.convexHullFilledMask;break;case"hullContour":Ve=this.convexHullMask;break;case"mbrContour":Ve=this.mbrMask;break;case"feret":Ve=this.feretMask;break;default:Ve=this.mask}return t<1&&(Ve=Ve.resize({factor:t}),Ve.parent=this.mask.parent,Ve.position[0]+=this.minX,Ve.position[1]+=this.minY),Ve}get mean(){throw new Error("Roi mean not implemented yet")}get center(){return this.computed.center||(this.computed.center=[this.width/2>>0,this.height/2>>0]),this.computed.center}get ratio(){return this.width/this.height}get width(){return this.maxX-this.minX+1}get height(){return this.maxY-this.minY+1}_computExternalIDs(){let e=this.borderIDs,t=this.borderLengths;this.computed.externalIDs=[],this.computed.externalLengths=[];let r=this.internalIDs;for(let Ve=0;Ve<e.length;Ve++)r.includes(e[Ve])||(this.computed.externalIDs.push(e[Ve]),this.computed.externalLengths.push(t[Ve]))}get externalIDs(){return this.computed.externalIDs?this.computed.externalIDs:(this._computExternalIDs(),this.computed.externalIDs)}get externalLengths(){return this.computed.externalLengths?this.computed.externalLengths:(this._computExternalIDs(),this.computed.externalLengths)}_computeBorderIDs(){let e=getBorders(this);this.computed.borderIDs=e.ids,this.computed.borderLengths=e.lengths}get borderIDs(){return this.computed.borderIDs?this.computed.borderIDs:(this._computeBorderIDs(),this.computed.borderIDs)}get borderLengths(){return this.computed.borderLengths?this.computed.borderLengths:(this._computeBorderIDs(),this.computed.borderLengths)}get boxIDs(){return this.computed.boxIDs||(this.computed.boxIDs=getBoxIDs(this)),this.computed.boxIDs}get internalIDs(){return this.computed.internalIDs||(this.computed.internalIDs=getInternalIDs(this)),this.computed.internalIDs}get box(){return this.computed.box||(this.computed.box=getBox(this)),this.computed.box}get external(){return this.computed.external||(this.computed.external=getExternal(this)),this.computed.external}get holesInfo(){return this.computed.holesInfo||(this.computed.holesInfo=getHolesInfo(this)),this.computed.holesInfo}get border(){return this.computed.border||(this.computed.border=getBorder(this)),this.computed.border}get contourMask(){if(!this.computed.contourMask){let e=new Image$1(this.width,this.height,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent});for(let t=0;t<this.width;t++)for(let r=0;r<this.height;r++)this.map.data[t+this.minX+(r+this.minY)*this.map.width]===this.id&&(t>0&&t<this.width-1&&r>0&&r<this.height-1?(this.map.data[t-1+this.minX+(r+this.minY)*this.map.width]!==this.id||this.map.data[t+1+this.minX+(r+this.minY)*this.map.width]!==this.id||this.map.data[t+this.minX+(r-1+this.minY)*this.map.width]!==this.id||this.map.data[t+this.minX+(r+1+this.minY)*this.map.width]!==this.id)&&e.setBitXY(t,r):e.setBitXY(t,r));this.computed.contourMask=e}return this.computed.contourMask}get boxMask(){if(!this.computed.boxMask){let e=new Image$1(this.width,this.height,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent});for(let t=0;t<this.width;t++)e.setBitXY(t,0),e.setBitXY(t,this.height-1);for(let t=0;t<this.height;t++)e.setBitXY(0,t),e.setBitXY(this.width-1,t);this.computed.boxMask=e}return this.computed.boxMask}get mask(){if(!this.computed.mask){let e=new Image$1(this.width,this.height,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent});for(let t=0;t<this.width;t++)for(let r=0;r<this.height;r++)this.map.data[t+this.minX+(r+this.minY)*this.map.width]===this.id&&e.setBitXY(t,r);this.computed.mask=e}return this.computed.mask}get filledMask(){if(!this.computed.filledMask){let e=new Image$1(this.width,this.height,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent});for(let t=0;t<this.width;t++)for(let r=0;r<this.height;r++){let Ve=t+this.minX+(r+this.minY)*this.map.width;this.internalIDs.includes(this.map.data[Ve])&&e.setBitXY(t,r)}this.computed.filledMask=e}return this.computed.filledMask}get centerMask(){if(!this.computed.centerMask){let e=new Shape({kind:"smallCross"}).getMask();e.parent=this.map.parent,e.position=[this.minX+this.center[0]-1,this.minY+this.center[1]-1],this.computed.centerMask=e}return this.computed.centerMask}get convexHull(){if(!this.computed.convexHull){const e=[];for(let r=0;r<this.width;r++)for(let Ve=0;Ve<this.height;Ve++)this.map.data[r+this.minX+(Ve+this.minY)*this.map.width]===this.id&&(r>0&&r<this.width-1&&Ve>0&&Ve<this.height-1?(this.map.data[r-1+this.minX+(Ve+this.minY)*this.map.width]!==this.id||this.map.data[r+1+this.minX+(Ve+this.minY)*this.map.width]!==this.id||this.map.data[r+this.minX+(Ve-1+this.minY)*this.map.width]!==this.id||this.map.data[r+this.minX+(Ve+1+this.minY)*this.map.width]!==this.id)&&(e.push([r,Ve]),e.push([r+1,Ve]),e.push([r,Ve+1]),e.push([r+1,Ve+1])):(e.push([r,Ve]),e.push([r+1,Ve]),e.push([r,Ve+1]),e.push([r+1,Ve+1])));const t=monotoneChainConvexHull$1(e);this.computed.convexHull={polyline:t,surface:surface(t),perimeter:perimeter(t)}}return this.computed.convexHull}get convexHullMask(){if(!this.computed.convexHullMask){const e=this.convexHull,t=new Image$1(this.width+1,this.height+1,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent});t.paintPolyline(e.polyline,{closed:!0}),this.computed.convexHullMask=t}return this.computed.convexHullMask}get convexHullFilledMask(){if(!this.computed.convexHullFilledMask){const e=this.convexHull,t=new Image$1(this.width,this.height,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent});for(let r=0;r<this.width;r++)for(let Ve=0;Ve<this.height;Ve++)robustPointInPolygon$1(e.polyline,[r,Ve])!==1&&t.setBitXY(r,Ve);this.computed.convexHullFilledMask=t}return this.computed.convexHullFilledMask}get mbr(){if(!this.computed.mbr){let e=minimalBoundingRectangle({originalPoints:this.convexHull.polyline});if(e.length===0)this.computed.mbr={width:0,height:0,surface:0,perimeter:0,rectangle:e};else{let t=e[0],r=e[1],Ve=e[2],je=Math.sqrt((t[0]-r[0])**2+(t[1]-r[1])**2),ze=Math.sqrt((Ve[0]-r[0])**2+(Ve[1]-r[1])**2);this.computed.mbr={width:je,height:ze,elongation:1-je/ze,aspectRatio:je/ze,surface:je*ze,perimeter:(je+ze)*2,rectangle:e}}}return this.computed.mbr}get fillRatio(){return this.surface/(this.surface+this.holesInfo.surface)}get feretDiameters(){return this.computed.feretDiameters||(this.computed.feretDiameters=feretDiameters({originalPoints:this.convexHull.polyline})),this.computed.feretDiameters}get eqpc(){return this.computed.eqpc||(this.computed.eqpc=2*Math.sqrt(this.surface/Math.PI)),this.computed.eqpc}get perimeterInfo(){return this.computed.perimeterInfo||(this.computed.perimeterInfo=getPerimeterInfo(this)),this.computed.perimeterInfo}get perimeter(){let e=this.perimeterInfo,t=2-Math.sqrt(2);return e.one+e.two*2+e.three*3+e.four*4-t*(e.two+e.three*2+e.four)}get ped(){return this.computed.ped||(this.computed.ped=this.perimeter/Math.PI),this.computed.ped}get feretMask(){if(!this.computed.feretMask){const e=new Image$1(this.width+1,this.height+1,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent});e.paintPolyline(this.feretDiameters.minLine),e.paintPolyline(this.feretDiameters.maxLine),this.computed.feretMask=e}return this.computed.feretMask}get mbrMask(){if(!this.computed.mbrMask){let e=round$1(this.mbr.rectangle);if(e.length>0){const t=minMax(e),r=new Image$1(t[1][0]-t[0][0]+1,t[1][1]-t[0][1]+1,{kind:BINARY,position:[this.minX+t[0][0],this.minY+t[0][1]],parent:this.map.parent});e=moveToZeroZero(e),r.paintPolyline(e,{closed:!0}),this.computed.mbrMask=r}else this.computed.mbrMask=new Image$1(1,1,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent})}return this.computed.mbrMask}get mbrFilledMask(){if(!this.computed.mbrFilledMask){const e=new Image$1(this.width,this.height,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent}),t=this.mask.minimalBoundingRectangle();for(let r=0;r<this.width;r++)for(let Ve=0;Ve<this.height;Ve++)robustPointInPolygon$1(t,[r,Ve])!==1&&e.setBitXY(r,Ve);this.computed.mbrFilledMask=e}return this.computed.mbrFilledMask}get points(){if(!this.computed.points){let e=[];for(let t=0;t<this.height;t++)for(let r=0;r<this.width;r++){let Ve=(t+this.minY)*this.map.width+r+this.minX;this.map.data[Ve]===this.id&&e.push([r,t])}this.computed.points=e}return this.computed.points}get maxLengthPoints(){if(!this.computed.maxLengthPoints){let e=0,t;const r=this.points;for(let Ve=0;Ve<r.length;Ve++)for(let je=Ve+1;je<r.length;je++){let ze=Math.pow(r[Ve][0]-r[je][0],2)+Math.pow(r[Ve][1]-r[je][1],2);ze>=e&&(e=ze,t=[r[Ve],r[je]])}this.computed.maxLengthPoints=t}return this.computed.maxLengthPoints}get maxLength(){if(!this.computed.maxLength){let e=Math.sqrt(Math.pow(this.maxLengthPoints[0][0]-this.maxLengthPoints[1][0],2)+Math.pow(this.maxLengthPoints[0][1]-this.maxLengthPoints[1][1],2));this.computed.maxLength=e}return this.computed.maxLength}get roundness(){return 4*this.surface/(Math.PI*this.feretDiameters.max**2)}get sphericity(){return 2*Math.sqrt(this.surface*Math.PI)/this.perimeter}get solidity(){return this.surface/this.convexHull.surface}get angle(){if(!this.computed.angle){let e=this.maxLengthPoints,t=-Math.atan2(e[0][1]-e[1][1],e[0][0]-e[1][0])*180/Math.PI;this.computed.angle=t}return this.computed.angle}toJSON(){return{id:this.id,minX:this.minX,maxX:this.maxX,minY:this.minY,maxY:this.maxY,meanX:this.meanX,meanY:this.meanY,height:this.height,width:this.width,surface:this.surface,mbrWidth:this.mbr.width,mbrHeight:this.mbr.height,mbrSurface:this.mbr.surface,eqpc:this.eqpc,ped:this.ped,feretDiameterMin:this.feretDiameters.min,feretDiameterMax:this.feretDiameters.max,aspectRatio:this.feretDiameters.aspectRatio,fillRatio:this.fillRatio,sphericity:this.sphericity,roundness:this.roundness,solidity:this.solidity,perimeter:this.perimeter}}}function getBorders($e){let e=$e.map,t=e.data,r=new Set,Ve=new Map,je=new Set,ze=[1,0,-1,0],Xe=[0,1,0,-1];for(let Ke=$e.minX;Ke<=$e.maxX;Ke++)for(let Ze=$e.minY;Ze<=$e.maxY;Ze++){let Je=Ke+Ze*e.width;if(t[Je]===$e.id)for(let Qe=0;Qe<4;Qe++){let ti=Ke+ze[Qe],ni=Ze+Xe[Qe];if(ti>=0&&ni>=0&&ti<e.width&&ni<e.height){let ri=ti+ni*e.width;if(t[ri]!==$e.id&&!je.has(ri)){je.add(ri),r.add(t[ri]);let ii=Ve.get(t[ri]);ii?Ve.set(t[ri],++ii):Ve.set(t[ri],1)}}}}let We=Array.from(r),qe=We.map(function(Ke){return Ve.get(Ke)});return{ids:We,lengths:qe}}function getBoxIDs($e){let e=new Set,t=$e.map,r=t.data;for(let Ve of[0,$e.height-1])for(let je=0;je<$e.width;je++){let ze=(Ve+$e.minY)*t.width+je+$e.minX;if(je-$e.minX>0&&r[ze]===$e.id&&r[ze-1]!==$e.id){let Xe=r[ze-1];e.add(Xe)}if(t.width-je-$e.minX>1&&r[ze]===$e.id&&r[ze+1]!==$e.id){let Xe=r[ze+1];e.add(Xe)}}for(let Ve of[0,$e.width-1])for(let je=0;je<$e.height;je++){let ze=(je+$e.minY)*t.width+Ve+$e.minX;if(je-$e.minY>0&&r[ze]===$e.id&&r[ze-t.width]!==$e.id){let Xe=r[ze-t.width];e.add(Xe)}if(t.height-je-$e.minY>1&&r[ze]===$e.id&&r[ze+t.width]!==$e.id){let Xe=r[ze+t.width];e.add(Xe)}}return Array.from(e)}function getBox($e){let e=0,t=$e.map,r=t.data,Ve=[0];$e.height>1&&(Ve[1]=$e.height-1);for(let ze of Ve)for(let Xe=1;Xe<$e.width-1;Xe++){let We=(ze+$e.minY)*t.width+Xe+$e.minX;r[We]===$e.id&&e++}let je=[0];$e.width>1&&(je[1]=$e.width-1);for(let ze of je)for(let Xe=0;Xe<$e.height;Xe++){let We=(Xe+$e.minY)*t.width+ze+$e.minX;r[We]===$e.id&&e++}return e}function getBorder($e){let e=0,t=$e.map,r=t.data;for(let Ve=1;Ve<$e.width-1;Ve++)for(let je=1;je<$e.height-1;je++){let ze=(je+$e.minY)*t.width+Ve+$e.minX;r[ze]===$e.id&&(r[ze-1]!==$e.id||r[ze+1]!==$e.id||r[ze-t.width]!==$e.id||r[ze+t.width]!==$e.id)&&e++}return e+$e.box}function getPerimeterInfo($e){let e=$e.map,t=e.data,r=0,Ve=0,je=0,ze=0;for(let Xe=0;Xe<$e.width;Xe++)for(let We=0;We<$e.height;We++){let qe=(We+$e.minY)*e.width+Xe+$e.minX;if(t[qe]===$e.id){let Ke=0;switch((Xe===0||$e.externalIDs.includes(t[qe-1]))&&Ke++,(Xe===$e.width-1||$e.externalIDs.includes(t[qe+1]))&&Ke++,(We===0||$e.externalIDs.includes(t[qe-e.width]))&&Ke++,(We===$e.height-1||$e.externalIDs.includes(t[qe+e.width]))&&Ke++,Ke){case 1:r++;break;case 2:Ve++;break;case 3:je++;break;case 4:ze++;break}}}return{one:r,two:Ve,three:je,four:ze}}function getExternal($e){let e=0,t=$e.map,r=t.data;for(let Ve=1;Ve<$e.width-1;Ve++)for(let je=1;je<$e.height-1;je++){let ze=(je+$e.minY)*t.width+Ve+$e.minX;r[ze]===$e.id&&($e.externalIDs.includes(r[ze-1])||$e.externalIDs.includes(r[ze+1])||$e.externalIDs.includes(r[ze-t.width])||$e.externalIDs.includes(r[ze+t.width]))&&e++}return e+$e.box}function getHolesInfo($e){let e=0,t=$e.map.width,r=$e.map.data;for(let Ve=1;Ve<$e.width-1;Ve++)for(let je=1;je<$e.height-1;je++){let ze=(je+$e.minY)*t+Ve+$e.minX;$e.internalIDs.includes(r[ze])&&r[ze]!==$e.id&&e++}return{number:$e.internalIDs.length-1,surface:e}}function getInternalIDs($e){let e=[$e.id],t=$e.map,r=t.data;if($e.height>2)for(let je=0;je<$e.width;je++){let ze=$e.minY*t.width+je+$e.minX;if(e.includes(r[ze])){let Xe=r[ze+t.width];!e.includes(Xe)&&!$e.boxIDs.includes(Xe)&&e.push(Xe)}}let Ve=new Array(4);for(let je=1;je<$e.width-1;je++)for(let ze=1;ze<$e.height-1;ze++){let Xe=(ze+$e.minY)*t.width+je+$e.minX;if(e.includes(r[Xe])){Ve[0]=r[Xe-1],Ve[1]=r[Xe+1],Ve[2]=r[Xe-t.width],Ve[3]=r[Xe+t.width];for(let We=0;We<4;We++){let qe=Ve[We];!e.includes(qe)&&!$e.boxIDs.includes(qe)&&e.push(qe)}}}return e}class RoiLayer{constructor(e,t){this.roiMap=e,this.options=t,this.roi=this.createRoi()}createRoi(){let e=this.roiMap.data,t={};this.roiMap.positive=0,this.roiMap.negative=0;for(let Xe=0;Xe<e.length;Xe++)e[Xe]&&!t[e[Xe]]&&(t[e[Xe]]=!0,e[Xe]>0?this.roiMap.positive++:this.roiMap.negative++);let r={};for(let Xe in t)r[Xe]=new Roi(this.roiMap,Xe*1);let Ve=this.roiMap.width,je=this.roiMap.height;for(let Xe=0;Xe<je;Xe++)for(let We=0;We<Ve;We++){let qe=Xe*Ve+We;if(e[qe]!==0){const Ke=e[qe],Ze=r[Ke];We<Ze.minX&&(Ze.minX=We),We>Ze.maxX&&(Ze.maxX=We),Xe<Ze.minY&&(Ze.minY=Xe),Xe>Ze.maxY&&(Ze.maxY=Xe),Ze.meanX+=We,Ze.meanY+=Xe,Ze.surface++}}let ze=[];for(let Xe in t)r[Xe].meanX/=r[Xe].surface,r[Xe].meanY/=r[Xe].surface,ze.push(r[Xe]);return ze}}function commonBorderLength($e){let e=$e.data,t=[1,0,-1,0],r=[0,1,0,-1],Ve=$e.minMax,je=-Ve.min,ze=Ve.max+je,Xe=[];for(let qe=0;qe<=ze;qe++)Xe.push(Object.create(null));for(let qe=0;qe<$e.width;qe++)for(let Ke=0;Ke<$e.height;Ke++){let Ze=qe+Ke*$e.width,Je=e[Ze];if(Je!==0){let Qe=Object.create(null),ti=!1;for(let ni=0;ni<4;ni++){let ri=qe+t[ni],ii=Ke+r[ni];if(ri>=0&&ii>=0&&ri<$e.width&&ii<$e.height){let ei=e[ri+ii*$e.width];Je!==ei&&(ti=!0,ei!==0&&Qe[ei]===void 0&&(Qe[ei]=!0,Xe[ei+je][Je]?Xe[ei+je][Je]++:Xe[ei+je][Je]=1))}else ti=!0}ti&&(Xe[Je+je][Je]?Xe[Je+je][Je]++:Xe[Je+je][Je]=1)}}let We={};for(let qe=0;qe<Xe.length;qe++)Object.keys(Xe[qe]).length>0&&(We[qe-je]=Xe[qe]);return We}function mergeRoi($e={}){const{algorithm:e="commonBorderLength",minCommonBorderLength:t=5,maxCommonBorderLength:r=100,minCommonBorderRatio:Ve=.3,maxCommonBorderRatio:je=1}=$e;let ze=function(ri,ii,ei){return ri[ei]>=t&&ri[ei]<=r};typeof e=="function"&&(ze=e),e.toLowerCase()==="commonborderratio"&&(ze=function(ri,ii,ei){let St=Math.min(ri[ei]/ri[ii],1);return St>=Ve&&St<=je});const Xe=this,We=Xe.commonBorderLength;let qe={},Ke={};for(let ri of Object.keys(We)){let ii=We[ri],ei=Object.keys(ii);for(let St of ei)if(St!==ri&&ze(ii,ri,St)){let oi=St;Ke[St]&&(oi=Ke[St]);let si=ri;if(Ke[ri]&&(si=Ke[ri]),Number(oi)!==si){let ai=Math.min(oi,si),ui=Math.max(oi,si);if(qe[ai]||(qe[ai]={}),qe[ai][ui]=!0,Ke[ui]=ai,qe[ui]){for(let hi of Object.keys(qe[ui]))qe[ai][hi]=!0,Ke[hi]=ai;delete qe[ui]}}}}let Ze=Xe.minMax,Je=-Ze.min,Qe=Ze.max+Je,ti=new Array(Qe+1).fill(0);for(let ri of Object.keys(Ke))ti[Number(ri)+Je]=Ke[ri];let ni=Xe.data;for(let ri=0;ri<ni.length;ri++){let ii=ni[ri];if(ii!==0){let ei=ti[ii+Je];ei!==0&&(ni[ri]=ei)}}return Xe.computed={},Xe}class RoiMap{constructor(e,t){this.parent=e,this.width=e.width,this.height=e.height,this.data=t,this.negative=0,this.positive=0}get total(){return this.negative+this.positive}get minMax(){let e=Number.MAX_SAFE_INTEGER,t=Number.MIN_SAFE_INTEGER;for(let r=0;r<this.data.length;r++)this.data[r]<e&&(e=this.data[r]),this.data[r]>t&&(t=this.data[r]);return{min:e,max:t}}get commonBorderLength(){return commonBorderLength(this)}mergeRoi(e={}){return mergeRoi.call(this,e)}mergeRois(e){const t=e[0],r=e.slice(1);for(let Ve=0;Ve<this.data.length;Ve++)r.includes(this.data[Ve])&&(this.data[Ve]=t)}rowsInfo(){let e=new Array(this.height),t=0;for(let r=0;r<this.data.length;r+=this.width){let Ve={row:t,positivePixel:0,negativePixel:0,zeroPixel:0,positiveRoi:0,negativeRoi:0,medianChange:0};e[t++]=Ve;let je={},ze={},Xe=[],We=this.data[r],qe=0;for(let Ke=r;Ke<r+this.width;Ke++){let Ze=this.data[Ke];We!==Ze&&(We=Ze,Xe.push(qe),qe=0),qe++,Ze>0?(Ve.positivePixel++,je[Ze]||(je[Ze]=!0)):Ze<0?(Ve.negativePixel++,ze[Ze]||(ze[Ze]=!0)):Ve.zeroPixel++}Xe.push(qe),Ve.medianChange=Xe.sort((Ke,Ze)=>Ke-Ze)[Math.floor(Xe.length/2)],Ve.positiveRoiIDs=Object.keys(je),Ve.negativeRoiIDs=Object.keys(ze),Ve.positiveRoi=Ve.positiveRoiIDs.length,Ve.negativeRoi=Ve.negativeRoiIDs.length}return e}colsInfo(){let e=new Array(this.width),t=0;for(let r=0;r<this.width;r++){let Ve={col:t,positivePixel:0,negativePixel:0,zeroPixel:0,positiveRoi:0,negativeRoi:0,medianChange:0};e[t++]=Ve;let je={},ze={},Xe=[],We=this.data[r],qe=0;for(let Ke=r;Ke<r+this.data.length;Ke+=this.width){let Ze=this.data[Ke];We!==Ze&&(We=Ze,Xe.push(qe),qe=0),qe++,Ze>0?(Ve.positivePixel++,je[Ze]||(je[Ze]=!0)):Ze<0?(Ve.negativePixel++,ze[Ze]||(ze[Ze]=!0)):Ve.zeroPixel++}Xe.push(qe),Ve.medianChange=Xe.sort((Ke,Ze)=>Ke-Ze)[Math.floor(Xe.length/2)],Ve.positiveRoiIDs=Object.keys(je),Ve.negativeRoiIDs=Object.keys(ze),Ve.positiveRoi=Ve.positiveRoiIDs.length,Ve.negativeRoi=Ve.negativeRoiIDs.length}return e}}function fromMask($e,e={}){const{allowCorners:t=!1}=e,r=65535;let Ve=new Int16Array($e.size),je=0,ze=0,Xe=new Uint16Array(r+1),We=new Uint16Array(r+1);for(let Ke=0;Ke<$e.width;Ke++)for(let Ze=0;Ze<$e.height;Ze++)Ve[Ze*$e.width+Ke]===0&&qe(Ke,Ze);function qe(Ke,Ze){let Je=0,Qe=0,ti=$e.getBitXY(Ke,Ze),ni=ti?++je:--ze;if(je>32767||ze<-32768)throw new Error("Too many regions of interest");for(Xe[0]=Ke,We[0]=Ze;Je<=Qe;){let ri=Xe[Je&r],ii=We[Je&r];if(Ve[ii*$e.width+ri]=ni,ri>0&&Ve[ii*$e.width+ri-1]===0&&$e.getBitXY(ri-1,ii)===ti&&(Qe++,Xe[Qe&r]=ri-1,We[Qe&r]=ii,Ve[ii*$e.width+ri-1]=-32768),ii>0&&Ve[(ii-1)*$e.width+ri]===0&&$e.getBitXY(ri,ii-1)===ti&&(Qe++,Xe[Qe&r]=ri,We[Qe&r]=ii-1,Ve[(ii-1)*$e.width+ri]=-32768),ri<$e.width-1&&Ve[ii*$e.width+ri+1]===0&&$e.getBitXY(ri+1,ii)===ti&&(Qe++,Xe[Qe&r]=ri+1,We[Qe&r]=ii,Ve[ii*$e.width+ri+1]=-32768),ii<$e.height-1&&Ve[(ii+1)*$e.width+ri]===0&&$e.getBitXY(ri,ii+1)===ti&&(Qe++,Xe[Qe&r]=ri,We[Qe&r]=ii+1,Ve[(ii+1)*$e.width+ri]=-32768),t&&(ri>0&&ii>0&&Ve[(ii-1)*$e.width+ri-1]===0&&$e.getBitXY(ri-1,ii-1)===ti&&(Qe++,Xe[Qe&r]=ri-1,We[Qe&r]=ii-1,Ve[(ii-1)*$e.width+ri-1]=-32768),ri<$e.width-1&&ii>0&&Ve[(ii-1)*$e.width+ri+1]===0&&$e.getBitXY(ri+1,ii-1)===ti&&(Qe++,Xe[Qe&r]=ri+1,We[Qe&r]=ii-1,Ve[(ii-1)*$e.width+ri+1]=-32768),ri>0&&ii<$e.height-1&&Ve[(ii+1)*$e.width+ri-1]===0&&$e.getBitXY(ri-1,ii+1)===ti&&(Qe++,Xe[Qe&r]=ri-1,We[Qe&r]=ii+1,Ve[(ii+1)*$e.width+ri-1]=-32768),ri<$e.width-1&&ii<$e.height-1&&Ve[(ii+1)*$e.width+ri+1]===0&&$e.getBitXY(ri+1,ii+1)===ti&&(Qe++,Xe[Qe&r]=ri+1,We[Qe&r]=ii+1,Ve[(ii+1)*$e.width+ri+1]=-32768)),Je++,Qe-Je>r)throw new Error("analyseMask can not finish, the array to manage internal data is not big enough.You could improve mask by changing MAX_ARRAY")}}return new RoiMap($e,Ve)}class DisjointSet{constructor(){this.nodes=new Map}add(e){var t=this.nodes.get(e);return t||(t=new DisjointSetNode(e),this.nodes.set(e,t)),t}union(e,t){const r=this.find(e),Ve=this.find(t);r!==Ve&&(r.rank<Ve.rank?r.parent=Ve:r.rank>Ve.rank?Ve.parent=r:(Ve.parent=r,r.rank++))}find(e){for(var t=e;t.parent!==null;)t=t.parent;for(var r=e;r.parent!==null;){var Ve=r;r=r.parent,Ve.parent=t}return t}connected(e,t){return this.find(e)===this.find(t)}}var DisjointSet_1=DisjointSet;function DisjointSetNode($e){this.value=$e,this.parent=null,this.rank=0}const DisjointSet$1=getDefaultExportFromCjs(DisjointSet_1),direction4X=[-1,0],direction4Y=[0,-1],neighbours4=[null,null],direction8X=[-1,-1,0,1],direction8Y=[0,-1,-1,-1],neighbours8=[null,null,null,null];function fromMaskConnectedComponentLabelingAlgorithm($e,e={}){const{allowCorners:t=!1}=e;let r=4;t&&(r=8);let Ve,je,ze;if(r===8)Ve=direction8X,je=direction8Y,ze=neighbours8;else if(r===4)Ve=direction4X,je=direction4Y,ze=neighbours4;else throw new RangeError(`unsupported neighbours count: ${r}`);const Xe=$e.size,We=$e.width,qe=$e.height,Ke=new Array(Xe),Ze=new Uint32Array(Xe),Je=new DisjointSet$1;let Qe=1;for(let ti=0;ti<qe;ti++)for(let ni=0;ni<We;ni++){const ri=ni+ti*We;if($e.getBit(ri)){let ii=null;for(let ei=0;ei<ze.length;ei++){const St=ni+Ve[ei],oi=ti+je[ei];if(St>=0&&oi>=0&&St<We&&oi<qe){const si=St+oi*We;let ai=Ke[si];ai?(ze[ei]=ai,(!ii||ze[ei].value<ii.value)&&(ii=ze[ei])):ze[ei]=null}}if(!ii)Ke[ri]=Je.add(Qe++);else{Ke[ri]=ii;for(let ei=0;ei<ze.length;ei++)ze[ei]&&ze[ei]!==ii&&Je.union(ii,ze[ei])}}}for(let ti=0;ti<qe;ti++)for(let ni=0;ni<We;ni++){const ri=ni+ti*We;$e.getBit(ri)&&(Ze[ri]=Je.find(Ke[ri]).value)}return new RoiMap($e,Ze)}function fromMaxima($e={}){let{allowCorner:e=!0,onlyTop:t=!1,invert:r=!1}=$e,Ve=this;Ve.checkProcessable("fromMaxima",{components:[1]});const je=1,ze=2;let Xe=0,We=0,qe=new Int16Array(Ve.size),Ke=new Int8Array(Ve.size),Ze=new Float32Array(Ve.size),Je=1048575,Qe=new Uint16Array(Je+1),ti=new Uint16Array(Je+1),ni=0,ri=0,ii=new Uint16Array(Je+1),ei=new Uint16Array(Je+1),St=0,oi=0;for(si(Ve);ni<ri;){let hi=Qe[ni&Je],ci=ti[ni&Je];ui(hi,ci,ze),ni++}return new RoiMap(Ve,qe);function si({maxima:hi=!0}){for(let ci=1;ci<Ve.height-1;ci++)for(let mi=1;mi<Ve.width-1;mi++){let di=mi+ci*Ve.width;if(Ke[di]===0){let pi=hi?Ve.data[di]:-Ve.data[mi+ci*Ve.width];if(Ve.data[ci*Ve.width+mi-1]>pi||Ve.data[ci*Ve.width+mi+1]>pi||Ve.data[(ci-1)*Ve.width+mi]>pi||Ve.data[(ci+1)*Ve.width+mi]>pi||e&&(Ve.data[(ci-1)*Ve.width+mi-1]>pi||Ve.data[(ci-1)*Ve.width+mi+1]>pi||Ve.data[(ci+1)*Ve.width+mi-1]>pi||Ve.data[(ci+1)*Ve.width+mi+1]>pi))continue;qe[di]=hi?++Xe:--We,ai(mi,ci)||(hi?--Xe:++We)}}}function ai(hi,ci){let mi=ri;St=0,oi=1,ii[0]=hi,ei[0]=ci;let di=!0;for(;St<oi;){let pi=ii[St&Je],yi=ei[St&Je];di&=ui(pi,yi,je),St++}if(!di){for(let pi=0;pi<oi;pi++){let yi=ii[pi&Je],gi=ei[pi&Je]*Ve.width+yi;qe[gi]=0}ri=mi}return di}function ui(hi,ci,mi){let di=qe[ci*Ve.width+hi],pi=Ve.data[ci*Ve.width+hi];for(let yi=ci-1;yi<=ci+1;yi++)for(let gi=hi-1;gi<=hi+1;gi++){let _i=yi*Ve.width+gi;if(Ke[_i]===0)switch(Ke[_i]=1,Ze[_i]=Ve.data[_i]-pi,mi){case je:if(Ze[_i]===0){if(gi===0||yi===0||gi===Ve.width-1||yi===Ve.height-1)return!1;qe[_i]=di,ii[oi&Je]=gi,ei[oi&Je]=yi,oi++}else{if(Ze[_i]>0)return!1;t||(qe[_i]=di,Qe[ri&Je]=gi,ti[ri&Je]=yi,ri++)}break;case ze:Ze[_i]<=0&&(qe[_i]=di,Qe[ri&Je]=gi,ti[ri&Je]=yi,ri++);break;default:throw new Error("unreachable")}}return!0}}function fromPoints($e,e={}){let t=new Shape(e),r=new Int16Array(this.size),Ve=0,je=t.getPoints();for(let ze=0;ze<$e.length;ze++){Ve++;let Xe=$e[ze][0],We=$e[ze][1];for(let qe=0;qe<je.length;qe++){let Ke=je[qe][0],Ze=je[qe][1];Xe+Ke>=0&&We+Ze>=0&&Xe+Ke<this.width&&We+Ze<this.height&&(r[Xe+Ke+(We+Ze)*this.width]=Ve)}}return new RoiMap(this,r)}function commonjsRequire($e){throw new Error('Could not dynamically require "'+$e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var priorityQueue={exports:{}};(function($e,e){(function(t){$e.exports=t()})(function(){return function t(r,Ve,je){function ze(qe,Ke){if(!Ve[qe]){if(!r[qe]){var Ze=typeof commonjsRequire=="function"&&commonjsRequire;if(!Ke&&Ze)return Ze(qe,!0);if(Xe)return Xe(qe,!0);var Je=new Error("Cannot find module '"+qe+"'");throw Je.code="MODULE_NOT_FOUND",Je}var Qe=Ve[qe]={exports:{}};r[qe][0].call(Qe.exports,function(ti){var ni=r[qe][1][ti];return ze(ni||ti)},Qe,Qe.exports,t,r,Ve,je)}return Ve[qe].exports}for(var Xe=typeof commonjsRequire=="function"&&commonjsRequire,We=0;We<je.length;We++)ze(je[We]);return ze}({1:[function(t,r,Ve){var je,ze,Xe,We,qe,Ke=function(Je,Qe){for(var ti in Qe)Ze.call(Qe,ti)&&(Je[ti]=Qe[ti]);function ni(){this.constructor=Je}return ni.prototype=Qe.prototype,Je.prototype=new ni,Je.__super__=Qe.prototype,Je},Ze={}.hasOwnProperty;je=t("./PriorityQueue/AbstractPriorityQueue"),ze=t("./PriorityQueue/ArrayStrategy"),We=t("./PriorityQueue/BinaryHeapStrategy"),Xe=t("./PriorityQueue/BHeapStrategy"),qe=function(Je){Ke(Qe,Je);function Qe(ti){ti||(ti={}),ti.strategy||(ti.strategy=We),ti.comparator||(ti.comparator=function(ni,ri){return(ni||0)-(ri||0)}),Qe.__super__.constructor.call(this,ti)}return Qe}(je),qe.ArrayStrategy=ze,qe.BinaryHeapStrategy=We,qe.BHeapStrategy=Xe,r.exports=qe},{"./PriorityQueue/AbstractPriorityQueue":2,"./PriorityQueue/ArrayStrategy":3,"./PriorityQueue/BHeapStrategy":4,"./PriorityQueue/BinaryHeapStrategy":5}],2:[function(t,r,Ve){r.exports=function(){function je(ze){var Xe;if((ze!=null?ze.strategy:void 0)==null)throw"Must pass options.strategy, a strategy";if((ze!=null?ze.comparator:void 0)==null)throw"Must pass options.comparator, a comparator";this.priv=new ze.strategy(ze),this.length=(ze!=null&&(Xe=ze.initialValues)!=null?Xe.length:void 0)||0}return je.prototype.queue=function(ze){this.length++,this.priv.queue(ze)},je.prototype.dequeue=function(ze){if(!this.length)throw"Empty queue";return this.length--,this.priv.dequeue()},je.prototype.peek=function(ze){if(!this.length)throw"Empty queue";return this.priv.peek()},je.prototype.clear=function(){return this.length=0,this.priv.clear()},je}()},{}],3:[function(t,r,Ve){var je;je=function(ze,Xe,We){var qe,Ke,Ze;for(Ke=0,qe=ze.length;Ke<qe;)Ze=Ke+qe>>>1,We(ze[Ze],Xe)>=0?Ke=Ze+1:qe=Ze;return Ke},r.exports=function(){function ze(Xe){var We;this.options=Xe,this.comparator=this.options.comparator,this.data=((We=this.options.initialValues)!=null?We.slice(0):void 0)||[],this.data.sort(this.comparator).reverse()}return ze.prototype.queue=function(Xe){var We;We=je(this.data,Xe,this.comparator),this.data.splice(We,0,Xe)},ze.prototype.dequeue=function(){return this.data.pop()},ze.prototype.peek=function(){return this.data[this.data.length-1]},ze.prototype.clear=function(){this.data.length=0},ze}()},{}],4:[function(t,r,Ve){r.exports=function(){function je(ze){var Xe,We,qe,Ke,Ze,Je,Qe,ti;for(this.comparator=(ze!=null?ze.comparator:void 0)||function(ni,ri){return ni-ri},this.pageSize=(ze!=null?ze.pageSize:void 0)||512,this.length=0,Qe=0;1<<Qe<this.pageSize;)Qe+=1;if(1<<Qe!==this.pageSize)throw"pageSize must be a power of two";for(this._shift=Qe,this._emptyMemoryPageTemplate=Xe=[],We=0,Ze=this.pageSize;0<=Ze?We<Ze:We>Ze;0<=Ze?++We:--We)Xe.push(null);if(this._memory=[],this._mask=this.pageSize-1,ze.initialValues)for(Je=ze.initialValues,qe=0,Ke=Je.length;qe<Ke;qe++)ti=Je[qe],this.queue(ti)}return je.prototype.queue=function(ze){this.length+=1,this._write(this.length,ze),this._bubbleUp(this.length,ze)},je.prototype.dequeue=function(){var ze,Xe;return ze=this._read(1),Xe=this._read(this.length),this.length-=1,this.length>0&&(this._write(1,Xe),this._bubbleDown(1,Xe)),ze},je.prototype.peek=function(){return this._read(1)},je.prototype.clear=function(){this.length=0,this._memory.length=0},je.prototype._write=function(ze,Xe){var We;for(We=ze>>this._shift;We>=this._memory.length;)this._memory.push(this._emptyMemoryPageTemplate.slice(0));return this._memory[We][ze&this._mask]=Xe},je.prototype._read=function(ze){return this._memory[ze>>this._shift][ze&this._mask]},je.prototype._bubbleUp=function(ze,Xe){var We,qe,Ke,Ze;for(We=this.comparator;ze>1&&(qe=ze&this._mask,ze<this.pageSize||qe>3?Ke=ze&~this._mask|qe>>1:qe<2?(Ke=ze-this.pageSize>>this._shift,Ke+=Ke&~(this._mask>>1),Ke|=this.pageSize>>1):Ke=ze-2,Ze=this._read(Ke),!(We(Ze,Xe)<0));)this._write(Ke,Xe),this._write(ze,Ze),ze=Ke},je.prototype._bubbleDown=function(ze,Xe){var We,qe,Ke,Ze,Je;for(Je=this.comparator;ze<this.length;)if(ze>this._mask&&!(ze&this._mask-1)?We=qe=ze+2:ze&this.pageSize>>1?(We=(ze&~this._mask)>>1,We|=ze&this._mask>>1,We=We+1<<this._shift,qe=We+1):(We=ze+(ze&this._mask),qe=We+1),We!==qe&&qe<=this.length)if(Ke=this._read(We),Ze=this._read(qe),Je(Ke,Xe)<0&&Je(Ke,Ze)<=0)this._write(We,Xe),this._write(ze,Ke),ze=We;else if(Je(Ze,Xe)<0)this._write(qe,Xe),this._write(ze,Ze),ze=qe;else break;else if(We<=this.length)if(Ke=this._read(We),Je(Ke,Xe)<0)this._write(We,Xe),this._write(ze,Ke),ze=We;else break;else break},je}()},{}],5:[function(t,r,Ve){r.exports=function(){function je(ze){var Xe;this.comparator=(ze!=null?ze.comparator:void 0)||function(We,qe){return We-qe},this.length=0,this.data=((Xe=ze.initialValues)!=null?Xe.slice(0):void 0)||[],this._heapify()}return je.prototype._heapify=function(){var ze,Xe,We;if(this.data.length>0)for(ze=Xe=1,We=this.data.length;1<=We?Xe<We:Xe>We;ze=1<=We?++Xe:--Xe)this._bubbleUp(ze)},je.prototype.queue=function(ze){this.data.push(ze),this._bubbleUp(this.data.length-1)},je.prototype.dequeue=function(){var ze,Xe;return Xe=this.data[0],ze=this.data.pop(),this.data.length>0&&(this.data[0]=ze,this._bubbleDown(0)),Xe},je.prototype.peek=function(){return this.data[0]},je.prototype.clear=function(){this.length=0,this.data.length=0},je.prototype._bubbleUp=function(ze){for(var Xe,We;ze>0&&(Xe=ze-1>>>1,this.comparator(this.data[ze],this.data[Xe])<0);)We=this.data[Xe],this.data[Xe]=this.data[ze],this.data[ze]=We,ze=Xe},je.prototype._bubbleDown=function(ze){var Xe,We,qe,Ke,Ze;for(Xe=this.data.length-1;We=(ze<<1)+1,Ke=We+1,qe=ze,We<=Xe&&this.comparator(this.data[We],this.data[qe])<0&&(qe=We),Ke<=Xe&&this.comparator(this.data[Ke],this.data[qe])<0&&(qe=Ke),qe!==ze;)Ze=this.data[qe],this.data[qe]=this.data[ze],this.data[ze]=Ze,ze=qe},je}()},{}]},{},[1])(1)})})(priorityQueue);var priorityQueueExports=priorityQueue.exports;const PriorityQueue=getDefaultExportFromCjs(priorityQueueExports),dxs=[1,0,-1,0,1,1,-1,-1],dys=[0,1,0,-1,1,-1,1,-1];function fromWaterShed($e={}){let{points:e,mask:t,image:r,fillMaxValue:Ve=this.maxValue,invert:je=!1}=$e,ze=r||this;ze.checkProcessable("fromWaterShed",{bitDepth:[8,16],components:1}),je=!je,e||(e=ze.getLocalMaxima({invert:je,mask:t}));let Xe=je?0:1,We=new Int16Array(ze.size),qe=ze.width,Ke=ze.height,Ze=new PriorityQueue({comparator:(Je,Qe)=>Je[2]-Qe[2],strategy:PriorityQueue.BinaryHeapStrategy});for(let Je=0;Je<e.length;Je++){let Qe=e[Je][0]+e[Je][1]*qe;We[Qe]=Je+1;let ti=ze.data[Qe];(je&&ti<=Ve||!je&&ti>=Ve)&&Ze.queue([e[Je][0],e[Je][1],ti])}for(;Ze.length>0;){let Je=Ze.dequeue(),Qe=Je[0]+Je[1]*qe;for(let ti=0;ti<4;ti++){let ni=Je[0]+dxs[ti],ri=Je[1]+dys[ti];if(ni>=0&&ri>=0&&ni<qe&&ri<Ke){let ii=ni+ri*qe;if(!t||t.getBit(ii)===Xe){let ei=ze.data[ii];(je&&ei<=Ve||!je&&ei>=Ve)&&We[ii]===0&&(We[ii]=We[Qe],Ze.queue([Je[0]+dxs[ti],Je[1]+dys[ti],ei]))}}}}return new RoiMap(ze,We)}class RoiManager{constructor(e,t={}){this._image=e,this._options=t,this._options.label||(this._options.label="default"),this._layers={},this._painted=null}fromMaxima(e={}){let t=Object.assign({},this._options,e),r=fromMaxima.call(this._image,e);this._layers[t.label]=new RoiLayer(r,t)}fromPoints(e,t={}){let r=Object.assign({},this._options,t),Ve=fromPoints.call(this._image,e,t);return this._layers[r.label]=new RoiLayer(Ve,r),this}putMap(e,t={}){let r=new RoiMap(this._image,e),Ve=Object.assign({},this._options,t);return this._layers[Ve.label]=new RoiLayer(r,Ve),this}fromWaterShed(e={}){let t=Object.assign({},this._options,e),r=fromWaterShed.call(this._image,e);this._layers[t.label]=new RoiLayer(r,t)}fromMask(e,t={}){let r=Object.assign({},this._options,t),Ve=fromMask.call(this._image,e,t);return this._layers[r.label]=new RoiLayer(Ve,r),this}fromMaskConnectedComponentLabelingAlgorithm(e,t={}){let r=Object.assign({},this._options,t),Ve=fromMaskConnectedComponentLabelingAlgorithm.call(this._image,e,t);return this._layers[r.label]=new RoiLayer(Ve,r),this}getMap(e={}){let t=Object.assign({},this._options,e);return this._assertLayerWithLabel(t.label),this._layers[t.label].roiMap}rowsInfo(e={}){return this.getMap(e).rowsInfo()}colsInfo(e={}){return this.getMap(e).rowsInfo()}getRoiIds(e={}){let t=this.getRois(e);if(t){let r=new Array(t.length);for(let Ve=0;Ve<t.length;Ve++)r[Ve]=t[Ve].id;return r}throw new Error("ROIs not found")}getRois(e={}){let{label:t=this._options.label,positive:r=!0,negative:Ve=!0,minSurface:je=0,maxSurface:ze=Number.POSITIVE_INFINITY,minWidth:Xe=0,maxWidth:We=Number.POSITIVE_INFINITY,minHeight:qe=0,maxHeight:Ke=Number.POSITIVE_INFINITY,minRatio:Ze=0,maxRatio:Je=Number.POSITIVE_INFINITY}=e;if(!this._layers[t])throw new Error(`this Roi layer (${t}) does not exist`);const Qe=this._layers[t].roi,ti=[];for(const ni of Qe)(ni.id<0&&Ve||ni.id>0&&r)&&ni.surface>=je&&ni.surface<=ze&&ni.width>=Xe&&ni.width<=We&&ni.height>=qe&&ni.height<=Ke&&ni.ratio>=Ze&&ni.ratio<=Je&&ti.push(ni);return ti}getRoi(e,t={}){const{label:r=this._options.label}=t;if(!this._layers[r])throw new Error(`this Roi layer (${r}) does not exist`);const Ve=this._layers[r].roi.find(je=>je.id===e);if(!Ve)throw new Error(`found no Roi with id ${e}`);return Ve}getMasks(e={}){let t=this.getRois(e),r=new Array(t.length);for(let Ve=0;Ve<t.length;Ve++)r[Ve]=t[Ve].getMask(e);return r}getAnalysisMasks(e={}){const{analysisProperty:t}=e;let r=`${t}Mask`,Ve=this.getRois(e);return Ve.length===0||!Ve[0][r]?[]:Ve.map(je=>je[r])}getData(e={}){let t=Object.assign({},this._options,e);return this._assertLayerWithLabel(t.label),this._layers[t.label].roiMap.data}paint(e={}){let{labelProperty:t,analysisProperty:r}=e;this._painted||(this._painted=this._image.rgba8());let Ve=this.getMasks(e);if(t){const je=this.getRois(e);e.labels=je.map(qe=>deepValue(qe,t));const ze=Math.max(...e.labels);let Xe=!1,We=!1;if(t.includes("surface")?Xe=!0:/(?:perimeter|min|max|external|width|height|length)/.test(t)&&(We=!0),isFinite(ze)){let qe="";if(e.unit!=="pixel"&&e.pixelSize&&(We||Xe)){qe=Xe?`${e.unit}^2`:e.unit;let Ke=Xe?"m^2":"m",Ze=Xe?e.pixelSize**2:e.pixelSize;const Je=Qty.swiftConverter(Ke,qe);e.labels=e.labels.map(Qe=>Je(Ze*Qe))}ze>50?e.labels=e.labels.map(Ke=>Math.round(Ke)+qe):ze>10?e.labels=e.labels.map(Ke=>Ke.toFixed(1)+qe):e.labels=e.labels.map(Ke=>Ke.toFixed(2)+qe)}e.labelsPosition=je.map(qe=>[qe.meanX,qe.meanY])}if(this._painted.paintMasks(Ve,e),r){let je=this.getAnalysisMasks(e);this._painted.paintMasks(je,{color:e.analysisColor,alpha:e.analysisAlpha})}return this._painted}getMask(e={}){let t=new Image$1(this._image.width,this._image.height,{kind:"BINARY"}),r=this.getMasks(e);for(let Ve=0;Ve<r.length;Ve++){let je=r[Ve];for(let ze=0;ze<je.width;ze++)for(let Xe=0;Xe<je.height;Xe++)je.getBitXY(ze,Xe)&&t.setBitXY(ze+je.position[0],Xe+je.position[1])}return t}resetPainted(e={}){const{image:t}=e;t?this._painted=this.image.rgba8():this._painted=this._image.rgba8()}mergeRoi(e={}){const t=this.getMap(e);return t.mergeRoi(e),this.putMap(t.data,e),this}mergeRois(e,t={}){if(!Array.isArray(e)||e.some(Ve=>!Number.isInteger(Ve)))throw new Error("Roi ids must be an array of integers");if(e.length<2)throw new Error("Roi ids must have at least two elements");if(new Set(e).size!==e.length)throw new Error("Roi ids must be all different");e.forEach(Ve=>this.getRoi(Ve));const r=this.getMap(t);return r.mergeRois(e),this.putMap(r.data,t),this}findCorrespondingRoi(e,t={}){let r=this.getRois(t),Ve=[];for(let je=0;je<r.length;je++){let ze=r[je],Xe=ze.minX,We=ze.minY,qe=ze.points,Ke=Math.sign(ze.id),Ze=correspondingRoisInformation(Xe,We,qe,e,Ke);Ve.push(Ze)}return Ve}_assertLayerWithLabel(e){if(!this._layers[e])throw new Error(`no layer with label ${e}`)}}function correspondingRoisInformation($e,e,t,r,Ve){let je={id:[],surface:[],roiSurfaceCovered:[],same:0,opposite:0,total:0};for(let ze=0;ze<t.length;ze++){let Xe=t[ze],We=Xe[0],qe=Xe[1],Ke=We+$e+(qe+e)*r.width,Ze=r.data[Ke];(Ze>0||Ze<0)&&(je.id.includes(Ze)?je.surface[je.id.indexOf(Ze)]+=1:(je.id.push(Ze),je.surface.push(1)))}for(let ze=0;ze<je.id.length;ze++)Math.sign(je.id[ze])===Ve?je.same+=je.surface[ze]:je.opposite+=je.surface[ze],je.roiSurfaceCovered[ze]=je.surface[ze]/t.length;return je.total=je.opposite+je.same,je}const objectToString=Object.prototype.toString;let Image$1=class gl{constructor(e,t,r,Ve){if(arguments.length===1?(Ve=e,{width:e,height:t,data:r}=Ve):r&&!r.length&&(Ve=r,{data:r}=Ve),e===void 0&&(e=1),t===void 0&&(t=1),Ve===void 0&&(Ve={}),typeof Ve!="object"||Ve===null)throw new TypeError("options must be an object");if(!Number.isInteger(e)||e<=0)throw new RangeError("width must be a positive integer");if(!Number.isInteger(t)||t<=0)throw new RangeError("height must be a positive integer");const{kind:je=RGBA}=Ve;if(typeof je!="string")throw new TypeError("kind must be a string");const ze=getKind(je),Xe=Object.assign({},Ve);for(const ni in ze)Xe[ni]===void 0&&(Xe[ni]=ze[ni]);verifyKindDefinition(Xe);const{components:We,bitDepth:qe,colorModel:Ke}=Xe,Ze=Xe.alpha+0,Je=e*t,Qe=We+Ze,ti=qe===32?Number.MAX_VALUE:2**qe-1;if(r===void 0)r=createPixelArray(Je,We,Ze,Qe,qe,ti);else{const ni=getTheoreticalPixelArraySize(Je,Qe,qe);if(r.length!==ni)throw new RangeError(`incorrect data size: ${r.length}. Should be ${ni}`)}this.width=e,this.height=t,this.data=r,this.size=Je,this.components=We,this.alpha=Ze,this.bitDepth=qe,this.maxValue=ti,this.colorModel=Ke,this.channels=Qe,this.meta=Ve.meta||{},Object.defineProperty(this,"parent",{enumerable:!1,writable:!0,configurable:!0,value:Ve.parent||null}),this.position=Ve.position||[0,0],this.computed=null,this.sizes=[this.width,this.height],this.multiplierX=this.channels,this.multiplierY=this.channels*this.width,this.isClamped=this.bitDepth<32,this.borderSizes=[0,0]}get[Symbol.toStringTag](){return"IJSImage"}static isImage(e){return objectToString.call(e)==="[object IJSImage]"}static fromCanvas(e){const t=e.getContext("2d").getImageData(0,0,e.width,e.height);return new gl(t.width,t.height,t.data)}static createFrom(e,t){const r=getImageParameters(e);return Object.assign(r,{parent:e,position:[0,0]},t),new gl(r)}getRoiManager(e){return new RoiManager(this,e)}clone(){const e=this.data.slice();return new gl(this.width,this.height,e,this)}apply(e){for(let t=0;t<this.height;t++)for(let r=0;r<this.width;r++){let Ve=(t*this.width+r)*this.channels;e.call(this,Ve)}}};setValueMethods(Image$1);setBitMethods(Image$1);setExportMethods(Image$1);Image$1.prototype.checkProcessable=checkProcessable;Image$1.prototype.getRGBAData=getRGBAData;Image$1.load=load;Image$1.extendMethod=extendMethod;Image$1.extendProperty=extendProperty;extend$1(Image$1);var workerTemplate$1={},worker$1=function(){self.window=self;function $e(){this._listeners={}}$e.prototype.on=function(t,r){if(this._listeners[t])throw new RangeError("there is already a listener for "+t);if(typeof r!="function")throw new TypeError("callback argument must be a function");this._listeners[t]=r},$e.prototype._send=function(t,r,Ve){Ve===void 0?Ve=[]:Array.isArray(Ve)||(Ve=[Ve]),self.postMessage({id:t,data:r},Ve)},$e.prototype._trigger=function(t,r){if(!this._listeners[t])throw new Error("event "+t+" is not defined");this._listeners[t].apply(null,r)};var e=new $e;self.onmessage=function(t){switch(t.data.action){case"exec":t.data.args.unshift(function(r,Ve){e._send(t.data.id,r,Ve)}),e._trigger(t.data.event,t.data.args);break;case"ping":e._send(t.data.id,"pong");break;default:throw new Error("unexpected action: "+t.data.action)}}},workerStr=worker$1.toString().split('"CODE";');workerTemplate$1.newWorkerURL=function $e(e,t){var r=new Blob(["(",workerStr[0],"importScripts.apply(self, "+JSON.stringify(t)+`);
`,"(",e,")();",workerStr[1],")();"],{type:"application/javascript"});return URL.createObjectURL(r)};var workerTemplate=workerTemplate$1,CORES=navigator.hardwareConcurrency||1;function WorkerManager($e,e){if(typeof $e!="string"&&typeof $e!="function")throw new TypeError("func argument must be a function");if(e===void 0&&(e={}),typeof e!="object"||e===null)throw new TypeError("options argument must be an object");this._workerCode=$e.toString(),e.maxWorkers===void 0||e.maxWorkers==="auto"?this._numWorkers=Math.min(CORES-1,1):e.maxWorkers>0?this._numWorkers=Math.min(e.maxWorkers,CORES):this._numWorkers=CORES,this._workers=new Map,this._timeout=e.timeout||0,this._terminateOnError=!!e.terminateOnError;var t=e.deps;typeof t=="string"&&(t=[t]),Array.isArray(t)||(t=void 0),this._id=0,this._terminated=!1,this._working=0,this._waiting=[],this._init(t)}WorkerManager.prototype._init=function($e){for(var e=workerTemplate.newWorkerURL(this._workerCode,$e),t=0;t<this._numWorkers;t++){var r=new Worker(e);r.onmessage=this._onmessage.bind(this,r),r.onerror=this._onerror.bind(this,r),r.running=!1,r.id=t,this._workers.set(r,null)}URL.revokeObjectURL(e)};WorkerManager.prototype._onerror=function($e,e){if(!this._terminated){this._working--,$e.running=!1;var t=this._workers.get($e);t&&t[1](e.message),this._workers.set($e,null),this._terminateOnError?this.terminate():this._exec()}};WorkerManager.prototype._onmessage=function($e,e){if(!this._terminated){this._working--,$e.running=!1;var t=this._workers.get($e);t&&t[0](e.data.data),this._workers.set($e,null),this._exec()}};WorkerManager.prototype._exec=function(){for(var $e of this._workers.keys()){if(this._working===this._numWorkers||this._waiting.length===0)return;if(!$e.running)for(var e=0;e<this._waiting.length;e++){var t=this._waiting[e];if(!(typeof t[4]=="number"&&t[4]!==$e.id)){this._waiting.splice(e,1),$e.postMessage({action:"exec",event:t[0],args:t[1]},t[2]),$e.running=!0,$e.time=Date.now(),this._workers.set($e,t[3]),this._working++;break}}}};WorkerManager.prototype.terminate=function(){if(!this._terminated){for(var $e of this._workers)$e[0].terminate(),$e[1]&&$e[1][1](new Error("Terminated"));this._workers.clear(),this._waiting=[],this._working=0,this._terminated=!0}};WorkerManager.prototype.postAll=function($e,e){if(this._terminated)throw new Error("Cannot post (terminated)");var t=[];for(var r of this._workers.keys())t.push(this.post($e,e,[],r.id));return Promise.all(t)};WorkerManager.prototype.post=function($e,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),Array.isArray(e)||(e=[e]),Array.isArray(t)||(t=[t]);var Ve=this;return new Promise(function(je,ze){if(Ve._terminated)throw new Error("Cannot post (terminated)");Ve._waiting.push([$e,e,t,[je,ze],r]),Ve._exec()})};var src=WorkerManager;const WorkerManager$1=getDefaultExportFromCjs(src),defaultOptions={regression:{kernelType:"polynomial",kernelOptions:{degree:2,constant:1}},threshold:.02,roi:{minSurface:100,positive:!1},sampling:20,include:[]};function run($e,e,t){e=Object.assign({},defaultOptions,e);const r=this.manager;return Array.isArray($e)?Promise.all($e.map(function(Ve){const je=runOnce(r,Ve,e);return typeof t=="function"&&je.then(t),je})):runOnce(r,$e,e)}function runOnce($e,e,t){return $e.post("data",[e,t]).then(function(r){for(let Ve in r)r[Ve]=new Image$1(r[Ve]);return r})}function work(){worker.on("data",function($e,e,t){e=new IJS(e);const r={},Ve=[],je=e.grey(),ze=je.sobelFilter();Qe("sobel",ze);const Xe=ze.level().mask({threshold:t.threshold});Qe("mask",Xe);const We=ze.getRoiManager();We.fromMask(Xe);const qe=We.getMask(t.roi);Qe("realMask",qe);const Ke=je.getPixelsGrid({sampling:t.sampling,mask:qe}),Ze=e.getBackground(Ke.xyS,Ke.zS,t.regression);Qe("background",Ze);const Je=e.subtract(Ze);r.result=Je,Ve.push(Je.data.buffer),$e(r,Ve);function Qe(ti,ni){t.include.includes(ti)&&(r[ti]=ni,Ve.push(ni.data.buffer))}})}const background={run,work};function extend($e){$e.extendMethod("background",background)}let Worker$1=class Bh{constructor(){this._url=null,this._deps=[null]}checkUrl(){if(this._url===null)throw new Error("image worker must be initialized with an URL")}get url(){return this._url}set url(e){if(typeof e!="string")throw new TypeError("worker URL must be a string");this._url=e,this._deps[0]=e}static extendMethod(e,t){let r,Ve,je={};function ze(...Xe){return r||(this.checkUrl(),Ve=this.url,r=new WorkerManager$1(t.work,{deps:Ve}),je.manager=r),t.run.call(je,...Xe)}ze.reset=function(){r&&(r.terminate(),r=new WorkerManager$1(t.work,{deps:Ve}),je.manager=r)},Bh.prototype[e]=ze}};extend(Worker$1);let _imageService=null;function getImageService(){return _imageService||(_imageService=new DefaultOxyImageService,_imageService)}class DefaultOxyImageService{async decode(e){const t=await Image$1.load(e),r=t.height,Ve=t.width,je=t.data,ze=create2DArray(Ve,r);for(let Xe=0;Xe<r;Xe++)for(let We=0;We<Ve;We++){let qe=Xe*Ve+We;const Ke=je[qe++],Ze=je[qe++],Je=je[qe++],Qe=je[qe++];ze[Xe][We]=OxyColor.fromArgb(Qe,Ke,Ze,Je)}return ze}encode(e){const t=new DataView(new ArrayBuffer(e.imageInfo.width*e.imageInfo.height*4));let r=0;const Ve=e.pixels;for(let ze=0;ze<e.imageInfo.height;ze++)for(let Xe=0;Xe<e.imageInfo.width;Xe++){const We=Ve.get(Xe,ze);t.setUint8(r++,We.r),t.setUint8(r++,We.g),t.setUint8(r++,We.b),t.setUint8(r++,We.a)}const je=new Image$1(e.imageInfo.width,e.imageInfo.height,new Uint8Array(t.buffer)).toBuffer();return Promise.resolve(je)}async getImageInfo(e){const t=await Image$1.load(e);return{width:t.width,height:t.height,bitsPerPixel:t.bitDepth,dpiX:0,dpiY:0,format:OxyImage.getImageFormat(e)}}async load(e){const t=await Image$1.load(e),r=t.toBuffer(),Ve=new OxyImage(r);return Ve.format=OxyImage.getImageFormat(r),Ve.width=t.width,Ve.height=t.height,Ve}}function isUndef($e){return $e===void 0}function isNullOrUndef($e){return $e==null}function getOrDefault($e,e,t){if(!$e||!e)return t;const r=$e[e];return isNullOrUndef(r)?t:r}function removeUndef($e,e){const t=$e;if(Array.isArray(t))return t.forEach(Ve=>removeUndef(Ve,e)),$e;const r=Object.assign({removeNull:!0,removeEmptyStr:!1,deep:1},e);return Object.keys(t).forEach(Ve=>{const je=t[Ve];if(je===void 0){delete t[Ve];return}if(je===null&&r.removeNull){delete t[Ve];return}if(r.removeEmptyStr&&typeof je=="string"&&je.length==0){delete t[Ve];return}if(typeof je=="object"&&r.deep>1){const ze=Object.assign({},r,{deep:r.deep-1});removeUndef(je,ze);return}}),$e}function hashCode($e){let e=0;for(let t=0;t<$e.length;t++)e=Math.imul(31,e)+$e[t];return e}const Number_MIN_VALUE=-17976931348623157e292,Number_MAX_VALUE=Number.MAX_VALUE;function round($e,e){if(e<0){const t=Math.pow(10,e);return Math.round($e*t)/t}return+(Math.round(+($e+"e+"+e))+"e-"+e)}function isInfinity($e){return!isFinite($e)}function isNegativeInfinity($e){return $e===Number.NEGATIVE_INFINITY}function isPositiveInfinity($e){return $e===Number.POSITIVE_INFINITY}function toUint($e){return $e>=0?$e:$e>>>0}function pettyNumber($e,e){let t;if($e>=1e6||$e<=-1e6?t=$e.toExponential(e):t=$e.toString(),t.includes("e")){const r=Number(t.split("e")[0]);return round(r,e).toString()+"e"+t.split("e")[1]}return round($e,e).toString()}function toPercent($e,e=1){return isNullOrUndef($e)?"":isNaN($e)?"NaN":round($e*100,e)+"%"}function trimString($e,e){return $e&&$e.replace(new RegExp(`^${e}+|${e}+$`,"g"),"")}function substring($e,e,t){return t===void 0?$e.substring(e):$e.substring(e,e+t)}const $1Second=1e3,$1Minute=6e4,$1Hour=36e5,$1Day=864e5;class TimeSpan{constructor(e){D$1(this,"_totalMs",0),D$1(this,"_ms",0),D$1(this,"_seconds",0),D$1(this,"_minutes",0),D$1(this,"_hours",0),D$1(this,"_days",0),D$1(this,"toString",()=>`${this._days}day ${this._hours}hour ${this._minutes}minute ${this._seconds}second ${this._ms}ms`),this.ms=e,this._totalMs=e;const t=e<0?-1:1;let r=Math.abs(e);r>=$1Day&&(this._days=t*Math.floor(r/$1Day),r=r%$1Day),r>=$1Hour&&(this._hours=t*Math.floor(r/$1Hour),r=r%$1Hour),r>=$1Minute&&(this._minutes=t*Math.floor(r/$1Minute),r=r%$1Minute),r>=$1Second&&(this._seconds=t*Math.floor(r/$1Second),r=r%$1Second),this._ms=t*r}get milliseconds(){return this._ms}get seconds(){return this._seconds}get minutes(){return this._minutes}get hours(){return this._hours}get days(){return this._days}get totalMs(){return this._totalMs}get totalSeconds(){return this._totalMs/$1Second}get totalMinutes(){return this._totalMs/$1Minute}get totalHours(){return this._totalMs/$1Hour}get totalDays(){return this._totalMs/$1Day}static fromMilliseconds(e){return new TimeSpan(e)}static fromSeconds(e){return new TimeSpan(e*$1Second)}static fromMinutes(e){return new TimeSpan(e*$1Minute)}static fromHours(e){return new TimeSpan(e*$1Hour)}static fromDays(e){return new TimeSpan(e*$1Day)}static from(e=0,t=0,r=0,Ve=0,je=0){return new TimeSpan(e*$1Day+t*$1Hour+r*$1Minute+Ve*$1Second+je)}}class TwoDimensionalArray{constructor(e,t,r){D$1(this,"_data"),this.columnCount=e,this.rowCount=t,this._data=create2DArray(t,e,r)}static fromArray(e){const t=e.length,r=e[0].length,Ve=new TwoDimensionalArray(r,t);for(let je=0;je<t;je++)for(let ze=0;ze<r;ze++)Ve.set(ze,je,e[je][ze]);return Ve}toArray(){const e=create2DArray(this.rowCount,this.columnCount);for(let t=0;t<this.rowCount;t++)for(let r=0;r<this.columnCount;r++)e[t][r]=this.get(r,t);return e}get height(){return this.rowCount}get width(){return this.columnCount}get(e,t){return this._data[t][e]}set(e,t,r){this._data[t][e]=r}}const zt$1=class Po{constructor(e,t,r,Ve){D$1(this,"_r"),D$1(this,"_g"),D$1(this,"_b"),D$1(this,"_a"),this._a=toByte(e),this._r=toByte(t),this._g=toByte(r),this._b=toByte(Ve)}get a(){return this._a}get b(){return this._b}get g(){return this._g}get r(){return this._r}static parse(e){if(!e||e.toLowerCase()==="none")return this._undefined;if(e.toLowerCase()==="auto")return this._automatic;if(e=e.trim(),e.startsWith("#")){e=trimString(e,"#"),e.length===3&&(e=`${e[0]}${e[0]}${e[1]}${e[1]}${e[2]}${e[2]}`);let We=parseInt(e,16);return e.length<8&&(We+=4278190080),Po.fromUInt32(We)}const t=e.split(",");if(t.length<3||t.length>4)throw new Error("Invalid format.");let r=0,Ve=255;t.length>3&&(Ve=parseInt(t[r],10),r++);const je=parseInt(t[r],10),ze=parseInt(t[r+1],10),Xe=parseInt(t[r+2],10);return Po.fromArgb(Ve,je,ze,Xe)}static colorDifference(e,t){const r=(e.r-t.r)/255,Ve=(e.g-t.g)/255,je=(e.b-t.b)/255,ze=(e.a-t.a)/255,Xe=r*r+Ve*Ve+je*je+ze*ze;return Math.sqrt(Xe)}static fromUInt32(e){const t=e>>24&255,r=e>>16&255,Ve=e>>8&255,je=e&255;return Po.fromArgb(t,r,Ve,je)}static fromHsv(e,t,r){let Ve,je,ze=Ve=je=0;if(t===0)ze=Ve=je=r;else{e===1&&(e=0),e*=6;const Xe=Math.floor(e),We=e-Xe,qe=r*(1-t),Ke=r*(1-t*We),Ze=r*(1-t*(1-We));switch(Xe){case 0:ze=r,Ve=Ze,je=qe;break;case 1:ze=Ke,Ve=r,je=qe;break;case 2:ze=qe,Ve=r,je=Ze;break;case 3:ze=qe,Ve=Ke,je=r;break;case 4:ze=Ze,Ve=qe,je=r;break;case 5:ze=r,Ve=qe,je=Ke;break}}return Po.fromRgb(ze*255,Ve*255,je*255)}static fromAColor(e,t){return Po.fromArgb(e,t.r,t.g,t.b)}static fromArgb(e,t,r,Ve){return new Po(e,t,r,Ve)}static fromRgb(e,t,r){return new Po(255,e,t,r)}static interpolate(e,t,r){const Ve=e.a*(1-r)+t.a*r,je=e.r*(1-r)+t.r*r,ze=e.g*(1-r)+t.g*r,Xe=e.b*(1-r)+t.b*r;return Po.fromArgb(toByte(Ve),toByte(je),toByte(ze),toByte(Xe))}equals(e){return e.a===this.a&&e.r===this.r&&e.g===this.g&&e.b===this.b}toArgb(){return this.toArgbInner("start")}toRgba(){return this.toArgbInner("end")}toRgb(){return this.toArgbInner("none")}toArgbInner(e){const t=Ve=>Ve.toString(16).padStart(2,"0"),r=`${t(this.r)}${t(this.g)}${t(this.b)}`;return e==="start"?`#${t(this.a)}${r}`:e==="end"?`#${r}${t(this.a)}`:`#${r}`}toString(){return this.toArgb()}isInvisible(){return this.a===0}isVisible(){return this.a>0}isUndefined(){return this.equals(Po._undefined)}isAutomatic(){return this.equals(Po._automatic)}getActualColor(e){return this.isAutomatic()?e:this}};D$1(zt$1,"_undefined",zt$1.fromUInt32(0)),D$1(zt$1,"_automatic",zt$1.fromUInt32(1));let OxyColor=zt$1;function toByte($e){return Math.round($e)}const OxyColors={Undefined:OxyColor.fromUInt32(0),Automatic:OxyColor.fromUInt32(1),AliceBlue:OxyColor.fromUInt32(4293982463),AntiqueWhite:OxyColor.fromUInt32(4294634455),Aqua:OxyColor.fromUInt32(4278255615),Aquamarine:OxyColor.fromUInt32(4286578644),Azure:OxyColor.fromUInt32(4293984255),Beige:OxyColor.fromUInt32(4294309340),Bisque:OxyColor.fromUInt32(4294960324),Black:OxyColor.fromUInt32(4278190080),BlanchedAlmond:OxyColor.fromUInt32(4294962125),Blue:OxyColor.fromUInt32(4278190335),BlueViolet:OxyColor.fromUInt32(4287245282),Brown:OxyColor.fromUInt32(4289014314),BurlyWood:OxyColor.fromUInt32(4292786311),CadetBlue:OxyColor.fromUInt32(4284456608),Chartreuse:OxyColor.fromUInt32(4286578432),Chocolate:OxyColor.fromUInt32(4291979550),Coral:OxyColor.fromUInt32(4294934352),CornflowerBlue:OxyColor.fromUInt32(4284782061),Cornsilk:OxyColor.fromUInt32(4294965468),Crimson:OxyColor.fromUInt32(4292613180),Cyan:OxyColor.fromUInt32(4278255615),DarkBlue:OxyColor.fromUInt32(4278190219),DarkCyan:OxyColor.fromUInt32(4278225803),DarkGoldenrod:OxyColor.fromUInt32(4290283019),DarkGray:OxyColor.fromUInt32(4289309097),DarkGreen:OxyColor.fromUInt32(4278215680),DarkKhaki:OxyColor.fromUInt32(4290623339),DarkMagenta:OxyColor.fromUInt32(4287299723),DarkOliveGreen:OxyColor.fromUInt32(4283788079),DarkOrange:OxyColor.fromUInt32(4294937600),DarkOrchid:OxyColor.fromUInt32(4288230092),DarkRed:OxyColor.fromUInt32(4287299584),DarkSalmon:OxyColor.fromUInt32(4293498490),DarkSeaGreen:OxyColor.fromUInt32(4287609999),DarkSlateBlue:OxyColor.fromUInt32(4282924427),DarkSlateGray:OxyColor.fromUInt32(4281290575),DarkTurquoise:OxyColor.fromUInt32(4278243025),DarkViolet:OxyColor.fromUInt32(4287889619),DeepPink:OxyColor.fromUInt32(4294907027),DeepSkyBlue:OxyColor.fromUInt32(4278239231),DimGray:OxyColor.fromUInt32(4285098345),DodgerBlue:OxyColor.fromUInt32(4280193279),Firebrick:OxyColor.fromUInt32(4289864226),FloralWhite:OxyColor.fromUInt32(4294966e3),ForestGreen:OxyColor.fromUInt32(4280453922),Fuchsia:OxyColor.fromUInt32(4294902015),Gainsboro:OxyColor.fromUInt32(4292664540),GhostWhite:OxyColor.fromUInt32(4294506751),Gold:OxyColor.fromUInt32(4294956800),Goldenrod:OxyColor.fromUInt32(4292519200),Gray:OxyColor.fromUInt32(4286611584),Green:OxyColor.fromUInt32(4278222848),GreenYellow:OxyColor.fromUInt32(4289593135),Honeydew:OxyColor.fromUInt32(4293984240),HotPink:OxyColor.fromUInt32(4294928820),IndianRed:OxyColor.fromUInt32(4291648604),Indigo:OxyColor.fromUInt32(4283105410),Ivory:OxyColor.fromUInt32(4294967280),Khaki:OxyColor.fromUInt32(4293977740),Lavender:OxyColor.fromUInt32(4293322490),LavenderBlush:OxyColor.fromUInt32(4294963445),LawnGreen:OxyColor.fromUInt32(4286381056),LemonChiffon:OxyColor.fromUInt32(4294965965),LightBlue:OxyColor.fromUInt32(4289583334),LightCoral:OxyColor.fromUInt32(4293951616),LightCyan:OxyColor.fromUInt32(4292935679),LightGoldenrodYellow:OxyColor.fromUInt32(4294638290),LightGray:OxyColor.fromUInt32(4292072403),LightGreen:OxyColor.fromUInt32(4287688336),LightPink:OxyColor.fromUInt32(4294948545),LightSalmon:OxyColor.fromUInt32(4294942842),LightSeaGreen:OxyColor.fromUInt32(4280332970),LightSkyBlue:OxyColor.fromUInt32(4287090426),LightSlateGray:OxyColor.fromUInt32(4286023833),LightSteelBlue:OxyColor.fromUInt32(4289774814),LightYellow:OxyColor.fromUInt32(4294967264),Lime:OxyColor.fromUInt32(4278255360),LimeGreen:OxyColor.fromUInt32(4281519410),Linen:OxyColor.fromUInt32(4294635750),Magenta:OxyColor.fromUInt32(4294902015),Maroon:OxyColor.fromUInt32(4286578688),MediumAquamarine:OxyColor.fromUInt32(4284927402),MediumBlue:OxyColor.fromUInt32(4278190285),MediumOrchid:OxyColor.fromUInt32(4290401747),MediumPurple:OxyColor.fromUInt32(4287852763),MediumSeaGreen:OxyColor.fromUInt32(4282168177),MediumSlateBlue:OxyColor.fromUInt32(4286277870),MediumSpringGreen:OxyColor.fromUInt32(4278254234),MediumTurquoise:OxyColor.fromUInt32(4282962380),MediumVioletRed:OxyColor.fromUInt32(4291237253),MidnightBlue:OxyColor.fromUInt32(4279834992),MintCream:OxyColor.fromUInt32(4294311930),MistyRose:OxyColor.fromUInt32(4294960353),Moccasin:OxyColor.fromUInt32(4294960309),NavajoWhite:OxyColor.fromUInt32(4294958765),Navy:OxyColor.fromUInt32(4278190208),OldLace:OxyColor.fromUInt32(4294833638),Olive:OxyColor.fromUInt32(4286611456),OliveDrab:OxyColor.fromUInt32(4285238819),Orange:OxyColor.fromUInt32(4294944e3),OrangeRed:OxyColor.fromUInt32(4294919424),Orchid:OxyColor.fromUInt32(4292505814),PaleGoldenrod:OxyColor.fromUInt32(4293847210),PaleGreen:OxyColor.fromUInt32(4288215960),PaleTurquoise:OxyColor.fromUInt32(4289720046),PaleVioletRed:OxyColor.fromUInt32(4292571283),PapayaWhip:OxyColor.fromUInt32(4294963157),PeachPuff:OxyColor.fromUInt32(4294957753),Peru:OxyColor.fromUInt32(4291659071),Pink:OxyColor.fromUInt32(4294951115),Plum:OxyColor.fromUInt32(4292714717),PowderBlue:OxyColor.fromUInt32(4289781990),Purple:OxyColor.fromUInt32(4286578816),Red:OxyColor.fromUInt32(4294901760),RosyBrown:OxyColor.fromUInt32(4290547599),RoyalBlue:OxyColor.fromUInt32(4282477025),SaddleBrown:OxyColor.fromUInt32(4287317267),Salmon:OxyColor.fromUInt32(4294606962),SandyBrown:OxyColor.fromUInt32(4294222944),SeaGreen:OxyColor.fromUInt32(4281240407),SeaShell:OxyColor.fromUInt32(4294964718),Sienna:OxyColor.fromUInt32(4288696877),Silver:OxyColor.fromUInt32(4290822336),SkyBlue:OxyColor.fromUInt32(4287090411),SlateBlue:OxyColor.fromUInt32(4285160141),SlateGray:OxyColor.fromUInt32(4285563024),Snow:OxyColor.fromUInt32(4294966010),SpringGreen:OxyColor.fromUInt32(4278255487),SteelBlue:OxyColor.fromUInt32(4282811060),Tan:OxyColor.fromUInt32(4291998860),Teal:OxyColor.fromUInt32(4278222976),Thistle:OxyColor.fromUInt32(4292394968),Tomato:OxyColor.fromUInt32(4294927175),Transparent:OxyColor.fromUInt32(16777215),Turquoise:OxyColor.fromUInt32(4282441936),Violet:OxyColor.fromUInt32(4293821166),Wheat:OxyColor.fromUInt32(4294303411),White:OxyColor.fromUInt32(4294967295),WhiteSmoke:OxyColor.fromUInt32(4294309365),Yellow:OxyColor.fromUInt32(4294967040),YellowGreen:OxyColor.fromUInt32(4288335154)};Object.freeze(OxyColors);const colorNamesCache=new Map,OxyColorExtensions={changeIntensity:($e,e)=>{const t=OxyColorExtensions.toHsv($e);return t[2]*=e,t[2]>1&&(t[2]=1),OxyColor.fromHsv(t[0],t[1],t[2])},changeSaturation:($e,e)=>{const t=OxyColorExtensions.toHsv($e);return t[1]*=e,t[1]>1&&(t[1]=1),OxyColor.fromHsv(t[0],t[1],t[2])},changeOpacity:($e,e)=>OxyColor.fromAColor($e.a*e,$e),complementary:$e=>{const e=OxyColorExtensions.toHsv($e);let t=e[0]-.5;return t<0&&(t+=1),OxyColor.fromHsv(t,e[1],e[2])},toHsv:$e=>{const e=$e.r,t=$e.g,r=$e.b,Ve=Math.min(Math.min(e,t),r),je=Math.max(Math.max(e,t),r),ze=je-Ve,Xe=je===0?0:ze/je;let We=0;Xe===0?We=0:(e===je?We=(t-r)/ze:t===je?We=2+(r-e)/ze:r===je&&(We=4+(e-t)/ze),We*=60,We<0&&(We+=360));const qe=new Array(3);return qe[0]=We/360,qe[1]=Xe,qe[2]=je/255,qe},toUint:$e=>{let e=toUint($e.a<<24);return e+=toUint($e.r<<16),e+=toUint($e.g<<8),e+=toUint($e.b),toUint(e)},toByteString:$e=>`${$e.a},${$e.r},${$e.g},${$e.b}`,getColorName:$e=>{const e=OxyColorExtensions.toUint($e);if(colorNamesCache.has(e))return colorNamesCache.get(e);const t=OxyColors;for(const r of Object.keys(t)){const Ve=t[r];if(OxyColorExtensions.toUint(Ve)===e)return colorNamesCache.set(e,r),r}},hueDifference:($e,e)=>{const t=OxyColorExtensions.toHsv($e),r=OxyColorExtensions.toHsv(e);let Ve=t[0]-r[0];Ve>.5&&(Ve-=1),Ve<-.5&&(Ve+=1);const je=Math.pow(Ve,2);return Math.sqrt(je)}};class OxyPalette{constructor(e){D$1(this,"colors",[]),e&&(this.colors=[...e],Object.freeze(this.colors))}static interpolate(e,...t){if(!t||t.length===0||e<1)return new OxyPalette([]);const r=[],Ve=e===1?0:1/(e-1);for(let je=0;je<e;je++){const ze=je*Ve*(t.length-1),Xe=Math.floor(ze),We=Xe+1<t.length?Xe+1:Xe;r[je]=OxyColor.interpolate(t[Xe],t[We],ze-Xe)}return new OxyPalette(r)}reverse(){return new OxyPalette(getReversedCopy(this.colors))}}class OxyPalettes{static blackWhiteRed(e){return OxyPalette.interpolate(e,OxyColors.Black,OxyColors.White,OxyColors.Red)}static blueWhiteRed(e){return OxyPalette.interpolate(e,OxyColors.Blue,OxyColors.White,OxyColors.Red)}static cool(e){return OxyPalette.interpolate(e,OxyColors.Cyan,OxyColors.Magenta)}static gray(e){return OxyPalette.interpolate(e,OxyColors.Black,OxyColors.White)}static hot(e){return OxyPalette.interpolate(e,OxyColors.Black,OxyColor.fromRgb(127,0,0),OxyColor.fromRgb(255,127,0),OxyColor.fromRgb(255,255,127),OxyColors.White)}static hue(e){return OxyPalette.interpolate(e,OxyColors.Red,OxyColors.Yellow,OxyColors.Green,OxyColors.Cyan,OxyColors.Blue,OxyColors.Magenta,OxyColors.Red)}static hueDistinct(e){return OxyPalette.interpolate(e,OxyColors.Magenta,OxyColors.Blue,OxyColors.Cyan,OxyColors.Green,OxyColors.Yellow,OxyColors.Red)}static jet(e){return OxyPalette.interpolate(e,OxyColors.DarkBlue,OxyColors.Cyan,OxyColors.Yellow,OxyColors.Orange,OxyColors.DarkRed)}static rainbow(e){return OxyPalette.interpolate(e,OxyColors.Violet,OxyColors.Indigo,OxyColors.Blue,OxyColors.Green,OxyColors.Yellow,OxyColors.Orange,OxyColors.Red)}static cividis(e=256){return e===cividisColors.length?new OxyPalette(cividisColors):OxyPalette.interpolate(e,...cividisColors)}static inferno(e=256){return e===infernoColors.length?new OxyPalette(infernoColors):OxyPalette.interpolate(e,...infernoColors)}static magma(e=256){return e===magmaColors.length?new OxyPalette(magmaColors):OxyPalette.interpolate(e,...magmaColors)}static plasma(e=256){return e===plasmaColors.length?new OxyPalette(plasmaColors):OxyPalette.interpolate(e,...plasmaColors)}static viridis(e=256){return e===viridisColors.length?new OxyPalette(viridisColors):OxyPalette.interpolate(e,...viridisColors)}}D$1(OxyPalettes,"blueWhiteRed31"),D$1(OxyPalettes,"hot64"),D$1(OxyPalettes,"hue64");OxyPalettes.blueWhiteRed31=OxyPalettes.blueWhiteRed(31);OxyPalettes.hot64=OxyPalettes.hot(64);OxyPalettes.hue64=OxyPalettes.hue(64);const cividisColors=[OxyColor.fromRgb(0,32,77),OxyColor.fromRgb(0,33,78),OxyColor.fromRgb(0,34,80),OxyColor.fromRgb(0,34,82),OxyColor.fromRgb(0,35,83),OxyColor.fromRgb(0,36,85),OxyColor.fromRgb(0,37,87),OxyColor.fromRgb(0,37,88),OxyColor.fromRgb(0,38,90),OxyColor.fromRgb(0,39,92),OxyColor.fromRgb(0,39,94),OxyColor.fromRgb(0,40,96),OxyColor.fromRgb(0,41,97),OxyColor.fromRgb(0,42,99),OxyColor.fromRgb(0,42,101),OxyColor.fromRgb(0,43,103),OxyColor.fromRgb(0,44,105),OxyColor.fromRgb(0,44,106),OxyColor.fromRgb(0,45,108),OxyColor.fromRgb(0,46,110),OxyColor.fromRgb(0,46,111),OxyColor.fromRgb(0,47,111),OxyColor.fromRgb(0,47,111),OxyColor.fromRgb(0,48,111),OxyColor.fromRgb(0,48,111),OxyColor.fromRgb(0,49,111),OxyColor.fromRgb(0,50,111),OxyColor.fromRgb(0,51,111),OxyColor.fromRgb(0,51,111),OxyColor.fromRgb(0,52,111),OxyColor.fromRgb(0,53,110),OxyColor.fromRgb(1,54,110),OxyColor.fromRgb(6,54,110),OxyColor.fromRgb(11,55,110),OxyColor.fromRgb(15,56,110),OxyColor.fromRgb(18,56,109),OxyColor.fromRgb(21,57,109),OxyColor.fromRgb(24,58,109),OxyColor.fromRgb(26,59,109),OxyColor.fromRgb(29,59,109),OxyColor.fromRgb(31,60,109),OxyColor.fromRgb(33,61,109),OxyColor.fromRgb(35,62,108),OxyColor.fromRgb(36,62,108),OxyColor.fromRgb(38,63,108),OxyColor.fromRgb(40,64,108),OxyColor.fromRgb(42,64,108),OxyColor.fromRgb(43,65,108),OxyColor.fromRgb(45,66,108),OxyColor.fromRgb(46,67,108),OxyColor.fromRgb(48,67,108),OxyColor.fromRgb(49,68,107),OxyColor.fromRgb(50,69,107),OxyColor.fromRgb(52,69,107),OxyColor.fromRgb(53,70,107),OxyColor.fromRgb(54,71,107),OxyColor.fromRgb(56,72,107),OxyColor.fromRgb(57,72,107),OxyColor.fromRgb(58,73,107),OxyColor.fromRgb(59,74,107),OxyColor.fromRgb(61,74,107),OxyColor.fromRgb(62,75,107),OxyColor.fromRgb(63,76,107),OxyColor.fromRgb(64,77,107),OxyColor.fromRgb(65,77,107),OxyColor.fromRgb(66,78,107),OxyColor.fromRgb(67,79,107),OxyColor.fromRgb(68,79,107),OxyColor.fromRgb(70,80,107),OxyColor.fromRgb(71,81,107),OxyColor.fromRgb(72,82,107),OxyColor.fromRgb(73,82,107),OxyColor.fromRgb(74,83,107),OxyColor.fromRgb(75,84,108),OxyColor.fromRgb(76,84,108),OxyColor.fromRgb(77,85,108),OxyColor.fromRgb(78,86,108),OxyColor.fromRgb(79,87,108),OxyColor.fromRgb(80,87,108),OxyColor.fromRgb(81,88,108),OxyColor.fromRgb(82,89,108),OxyColor.fromRgb(83,89,108),OxyColor.fromRgb(84,90,108),OxyColor.fromRgb(85,91,109),OxyColor.fromRgb(86,92,109),OxyColor.fromRgb(87,92,109),OxyColor.fromRgb(88,93,109),OxyColor.fromRgb(89,94,109),OxyColor.fromRgb(89,95,109),OxyColor.fromRgb(90,95,109),OxyColor.fromRgb(91,96,110),OxyColor.fromRgb(92,97,110),OxyColor.fromRgb(93,97,110),OxyColor.fromRgb(94,98,110),OxyColor.fromRgb(95,99,110),OxyColor.fromRgb(96,100,111),OxyColor.fromRgb(97,100,111),OxyColor.fromRgb(98,101,111),OxyColor.fromRgb(99,102,111),OxyColor.fromRgb(100,102,111),OxyColor.fromRgb(100,103,112),OxyColor.fromRgb(101,104,112),OxyColor.fromRgb(102,105,112),OxyColor.fromRgb(103,105,112),OxyColor.fromRgb(104,106,113),OxyColor.fromRgb(105,107,113),OxyColor.fromRgb(106,108,113),OxyColor.fromRgb(107,108,113),OxyColor.fromRgb(108,109,114),OxyColor.fromRgb(108,110,114),OxyColor.fromRgb(109,110,114),OxyColor.fromRgb(110,111,115),OxyColor.fromRgb(111,112,115),OxyColor.fromRgb(112,113,115),OxyColor.fromRgb(113,113,116),OxyColor.fromRgb(114,114,116),OxyColor.fromRgb(114,115,116),OxyColor.fromRgb(115,116,117),OxyColor.fromRgb(116,116,117),OxyColor.fromRgb(117,117,117),OxyColor.fromRgb(118,118,118),OxyColor.fromRgb(119,119,118),OxyColor.fromRgb(120,119,119),OxyColor.fromRgb(120,120,119),OxyColor.fromRgb(121,121,119),OxyColor.fromRgb(122,122,120),OxyColor.fromRgb(123,122,120),OxyColor.fromRgb(124,123,120),OxyColor.fromRgb(125,124,120),OxyColor.fromRgb(126,125,120),OxyColor.fromRgb(127,125,120),OxyColor.fromRgb(128,126,121),OxyColor.fromRgb(129,127,121),OxyColor.fromRgb(130,128,121),OxyColor.fromRgb(131,128,121),OxyColor.fromRgb(132,129,121),OxyColor.fromRgb(132,130,121),OxyColor.fromRgb(133,131,121),OxyColor.fromRgb(134,131,121),OxyColor.fromRgb(135,132,121),OxyColor.fromRgb(136,133,121),OxyColor.fromRgb(137,134,121),OxyColor.fromRgb(138,135,121),OxyColor.fromRgb(139,135,121),OxyColor.fromRgb(140,136,121),OxyColor.fromRgb(141,137,121),OxyColor.fromRgb(142,138,121),OxyColor.fromRgb(143,138,121),OxyColor.fromRgb(144,139,121),OxyColor.fromRgb(145,140,120),OxyColor.fromRgb(146,141,120),OxyColor.fromRgb(147,142,120),OxyColor.fromRgb(148,142,120),OxyColor.fromRgb(149,143,120),OxyColor.fromRgb(150,144,120),OxyColor.fromRgb(151,145,120),OxyColor.fromRgb(152,146,120),OxyColor.fromRgb(153,146,120),OxyColor.fromRgb(154,147,119),OxyColor.fromRgb(155,148,119),OxyColor.fromRgb(156,149,119),OxyColor.fromRgb(157,150,119),OxyColor.fromRgb(158,150,119),OxyColor.fromRgb(159,151,119),OxyColor.fromRgb(160,152,119),OxyColor.fromRgb(161,153,118),OxyColor.fromRgb(162,154,118),OxyColor.fromRgb(163,154,118),OxyColor.fromRgb(164,155,118),OxyColor.fromRgb(165,156,118),OxyColor.fromRgb(166,157,117),OxyColor.fromRgb(168,158,117),OxyColor.fromRgb(169,159,117),OxyColor.fromRgb(170,159,117),OxyColor.fromRgb(171,160,116),OxyColor.fromRgb(172,161,116),OxyColor.fromRgb(173,162,116),OxyColor.fromRgb(174,163,116),OxyColor.fromRgb(175,164,115),OxyColor.fromRgb(176,164,115),OxyColor.fromRgb(177,165,115),OxyColor.fromRgb(178,166,114),OxyColor.fromRgb(179,167,114),OxyColor.fromRgb(180,168,114),OxyColor.fromRgb(181,169,113),OxyColor.fromRgb(182,169,113),OxyColor.fromRgb(183,170,113),OxyColor.fromRgb(184,171,112),OxyColor.fromRgb(185,172,112),OxyColor.fromRgb(186,173,112),OxyColor.fromRgb(187,174,111),OxyColor.fromRgb(188,175,111),OxyColor.fromRgb(190,175,111),OxyColor.fromRgb(191,176,110),OxyColor.fromRgb(192,177,110),OxyColor.fromRgb(193,178,109),OxyColor.fromRgb(194,179,109),OxyColor.fromRgb(195,180,109),OxyColor.fromRgb(196,181,108),OxyColor.fromRgb(197,181,108),OxyColor.fromRgb(198,182,107),OxyColor.fromRgb(199,183,107),OxyColor.fromRgb(200,184,106),OxyColor.fromRgb(201,185,106),OxyColor.fromRgb(203,186,105),OxyColor.fromRgb(204,187,105),OxyColor.fromRgb(205,188,104),OxyColor.fromRgb(206,188,104),OxyColor.fromRgb(207,189,103),OxyColor.fromRgb(208,190,103),OxyColor.fromRgb(209,191,102),OxyColor.fromRgb(210,192,102),OxyColor.fromRgb(211,193,101),OxyColor.fromRgb(212,194,100),OxyColor.fromRgb(214,195,100),OxyColor.fromRgb(215,196,99),OxyColor.fromRgb(216,197,99),OxyColor.fromRgb(217,197,98),OxyColor.fromRgb(218,198,97),OxyColor.fromRgb(219,199,97),OxyColor.fromRgb(220,200,96),OxyColor.fromRgb(221,201,95),OxyColor.fromRgb(222,202,95),OxyColor.fromRgb(224,203,94),OxyColor.fromRgb(225,204,93),OxyColor.fromRgb(226,205,92),OxyColor.fromRgb(227,206,92),OxyColor.fromRgb(228,207,91),OxyColor.fromRgb(229,208,90),OxyColor.fromRgb(230,209,89),OxyColor.fromRgb(232,210,89),OxyColor.fromRgb(233,211,88),OxyColor.fromRgb(234,211,87),OxyColor.fromRgb(235,212,86),OxyColor.fromRgb(236,213,85),OxyColor.fromRgb(237,214,84),OxyColor.fromRgb(239,215,83),OxyColor.fromRgb(240,216,82),OxyColor.fromRgb(241,217,81),OxyColor.fromRgb(242,218,80),OxyColor.fromRgb(243,219,79),OxyColor.fromRgb(244,220,78),OxyColor.fromRgb(246,221,77),OxyColor.fromRgb(247,222,76),OxyColor.fromRgb(248,223,75),OxyColor.fromRgb(249,224,74),OxyColor.fromRgb(250,225,73),OxyColor.fromRgb(251,226,72),OxyColor.fromRgb(253,227,70),OxyColor.fromRgb(254,228,69),OxyColor.fromRgb(255,229,68),OxyColor.fromRgb(255,230,66),OxyColor.fromRgb(255,231,66),OxyColor.fromRgb(255,232,67),OxyColor.fromRgb(255,233,68),OxyColor.fromRgb(255,234,70)],infernoColors=[OxyColor.fromRgb(0,0,4),OxyColor.fromRgb(1,0,5),OxyColor.fromRgb(1,1,6),OxyColor.fromRgb(1,1,8),OxyColor.fromRgb(2,1,10),OxyColor.fromRgb(2,2,12),OxyColor.fromRgb(2,2,14),OxyColor.fromRgb(3,2,16),OxyColor.fromRgb(4,3,18),OxyColor.fromRgb(4,3,20),OxyColor.fromRgb(5,4,23),OxyColor.fromRgb(6,4,25),OxyColor.fromRgb(7,5,27),OxyColor.fromRgb(8,5,29),OxyColor.fromRgb(9,6,31),OxyColor.fromRgb(10,7,34),OxyColor.fromRgb(11,7,36),OxyColor.fromRgb(12,8,38),OxyColor.fromRgb(13,8,41),OxyColor.fromRgb(14,9,43),OxyColor.fromRgb(16,9,45),OxyColor.fromRgb(17,10,48),OxyColor.fromRgb(18,10,50),OxyColor.fromRgb(20,11,52),OxyColor.fromRgb(21,11,55),OxyColor.fromRgb(22,11,57),OxyColor.fromRgb(24,12,60),OxyColor.fromRgb(25,12,62),OxyColor.fromRgb(27,12,65),OxyColor.fromRgb(28,12,67),OxyColor.fromRgb(30,12,69),OxyColor.fromRgb(31,12,72),OxyColor.fromRgb(33,12,74),OxyColor.fromRgb(35,12,76),OxyColor.fromRgb(36,12,79),OxyColor.fromRgb(38,12,81),OxyColor.fromRgb(40,11,83),OxyColor.fromRgb(41,11,85),OxyColor.fromRgb(43,11,87),OxyColor.fromRgb(45,11,89),OxyColor.fromRgb(47,10,91),OxyColor.fromRgb(49,10,92),OxyColor.fromRgb(50,10,94),OxyColor.fromRgb(52,10,95),OxyColor.fromRgb(54,9,97),OxyColor.fromRgb(56,9,98),OxyColor.fromRgb(57,9,99),OxyColor.fromRgb(59,9,100),OxyColor.fromRgb(61,9,101),OxyColor.fromRgb(62,9,102),OxyColor.fromRgb(64,10,103),OxyColor.fromRgb(66,10,104),OxyColor.fromRgb(68,10,104),OxyColor.fromRgb(69,10,105),OxyColor.fromRgb(71,11,106),OxyColor.fromRgb(73,11,106),OxyColor.fromRgb(74,12,107),OxyColor.fromRgb(76,12,107),OxyColor.fromRgb(77,13,108),OxyColor.fromRgb(79,13,108),OxyColor.fromRgb(81,14,108),OxyColor.fromRgb(82,14,109),OxyColor.fromRgb(84,15,109),OxyColor.fromRgb(85,15,109),OxyColor.fromRgb(87,16,110),OxyColor.fromRgb(89,16,110),OxyColor.fromRgb(90,17,110),OxyColor.fromRgb(92,18,110),OxyColor.fromRgb(93,18,110),OxyColor.fromRgb(95,19,110),OxyColor.fromRgb(97,19,110),OxyColor.fromRgb(98,20,110),OxyColor.fromRgb(100,21,110),OxyColor.fromRgb(101,21,110),OxyColor.fromRgb(103,22,110),OxyColor.fromRgb(105,22,110),OxyColor.fromRgb(106,23,110),OxyColor.fromRgb(108,24,110),OxyColor.fromRgb(109,24,110),OxyColor.fromRgb(111,25,110),OxyColor.fromRgb(113,25,110),OxyColor.fromRgb(114,26,110),OxyColor.fromRgb(116,26,110),OxyColor.fromRgb(117,27,110),OxyColor.fromRgb(119,28,109),OxyColor.fromRgb(120,28,109),OxyColor.fromRgb(122,29,109),OxyColor.fromRgb(124,29,109),OxyColor.fromRgb(125,30,109),OxyColor.fromRgb(127,30,108),OxyColor.fromRgb(128,31,108),OxyColor.fromRgb(130,32,108),OxyColor.fromRgb(132,32,107),OxyColor.fromRgb(133,33,107),OxyColor.fromRgb(135,33,107),OxyColor.fromRgb(136,34,106),OxyColor.fromRgb(138,34,106),OxyColor.fromRgb(140,35,105),OxyColor.fromRgb(141,35,105),OxyColor.fromRgb(143,36,105),OxyColor.fromRgb(144,37,104),OxyColor.fromRgb(146,37,104),OxyColor.fromRgb(147,38,103),OxyColor.fromRgb(149,38,103),OxyColor.fromRgb(151,39,102),OxyColor.fromRgb(152,39,102),OxyColor.fromRgb(154,40,101),OxyColor.fromRgb(155,41,100),OxyColor.fromRgb(157,41,100),OxyColor.fromRgb(159,42,99),OxyColor.fromRgb(160,42,99),OxyColor.fromRgb(162,43,98),OxyColor.fromRgb(163,44,97),OxyColor.fromRgb(165,44,96),OxyColor.fromRgb(166,45,96),OxyColor.fromRgb(168,46,95),OxyColor.fromRgb(169,46,94),OxyColor.fromRgb(171,47,94),OxyColor.fromRgb(173,48,93),OxyColor.fromRgb(174,48,92),OxyColor.fromRgb(176,49,91),OxyColor.fromRgb(177,50,90),OxyColor.fromRgb(179,50,90),OxyColor.fromRgb(180,51,89),OxyColor.fromRgb(182,52,88),OxyColor.fromRgb(183,53,87),OxyColor.fromRgb(185,53,86),OxyColor.fromRgb(186,54,85),OxyColor.fromRgb(188,55,84),OxyColor.fromRgb(189,56,83),OxyColor.fromRgb(191,57,82),OxyColor.fromRgb(192,58,81),OxyColor.fromRgb(193,58,80),OxyColor.fromRgb(195,59,79),OxyColor.fromRgb(196,60,78),OxyColor.fromRgb(198,61,77),OxyColor.fromRgb(199,62,76),OxyColor.fromRgb(200,63,75),OxyColor.fromRgb(202,64,74),OxyColor.fromRgb(203,65,73),OxyColor.fromRgb(204,66,72),OxyColor.fromRgb(206,67,71),OxyColor.fromRgb(207,68,70),OxyColor.fromRgb(208,69,69),OxyColor.fromRgb(210,70,68),OxyColor.fromRgb(211,71,67),OxyColor.fromRgb(212,72,66),OxyColor.fromRgb(213,74,65),OxyColor.fromRgb(215,75,63),OxyColor.fromRgb(216,76,62),OxyColor.fromRgb(217,77,61),OxyColor.fromRgb(218,78,60),OxyColor.fromRgb(219,80,59),OxyColor.fromRgb(221,81,58),OxyColor.fromRgb(222,82,56),OxyColor.fromRgb(223,83,55),OxyColor.fromRgb(224,85,54),OxyColor.fromRgb(225,86,53),OxyColor.fromRgb(226,87,52),OxyColor.fromRgb(227,89,51),OxyColor.fromRgb(228,90,49),OxyColor.fromRgb(229,92,48),OxyColor.fromRgb(230,93,47),OxyColor.fromRgb(231,94,46),OxyColor.fromRgb(232,96,45),OxyColor.fromRgb(233,97,43),OxyColor.fromRgb(234,99,42),OxyColor.fromRgb(235,100,41),OxyColor.fromRgb(235,102,40),OxyColor.fromRgb(236,103,38),OxyColor.fromRgb(237,105,37),OxyColor.fromRgb(238,106,36),OxyColor.fromRgb(239,108,35),OxyColor.fromRgb(239,110,33),OxyColor.fromRgb(240,111,32),OxyColor.fromRgb(241,113,31),OxyColor.fromRgb(241,115,29),OxyColor.fromRgb(242,116,28),OxyColor.fromRgb(243,118,27),OxyColor.fromRgb(243,120,25),OxyColor.fromRgb(244,121,24),OxyColor.fromRgb(245,123,23),OxyColor.fromRgb(245,125,21),OxyColor.fromRgb(246,126,20),OxyColor.fromRgb(246,128,19),OxyColor.fromRgb(247,130,18),OxyColor.fromRgb(247,132,16),OxyColor.fromRgb(248,133,15),OxyColor.fromRgb(248,135,14),OxyColor.fromRgb(248,137,12),OxyColor.fromRgb(249,139,11),OxyColor.fromRgb(249,140,10),OxyColor.fromRgb(249,142,9),OxyColor.fromRgb(250,144,8),OxyColor.fromRgb(250,146,7),OxyColor.fromRgb(250,148,7),OxyColor.fromRgb(251,150,6),OxyColor.fromRgb(251,151,6),OxyColor.fromRgb(251,153,6),OxyColor.fromRgb(251,155,6),OxyColor.fromRgb(251,157,7),OxyColor.fromRgb(252,159,7),OxyColor.fromRgb(252,161,8),OxyColor.fromRgb(252,163,9),OxyColor.fromRgb(252,165,10),OxyColor.fromRgb(252,166,12),OxyColor.fromRgb(252,168,13),OxyColor.fromRgb(252,170,15),OxyColor.fromRgb(252,172,17),OxyColor.fromRgb(252,174,18),OxyColor.fromRgb(252,176,20),OxyColor.fromRgb(252,178,22),OxyColor.fromRgb(252,180,24),OxyColor.fromRgb(251,182,26),OxyColor.fromRgb(251,184,29),OxyColor.fromRgb(251,186,31),OxyColor.fromRgb(251,188,33),OxyColor.fromRgb(251,190,35),OxyColor.fromRgb(250,192,38),OxyColor.fromRgb(250,194,40),OxyColor.fromRgb(250,196,42),OxyColor.fromRgb(250,198,45),OxyColor.fromRgb(249,199,47),OxyColor.fromRgb(249,201,50),OxyColor.fromRgb(249,203,53),OxyColor.fromRgb(248,205,55),OxyColor.fromRgb(248,207,58),OxyColor.fromRgb(247,209,61),OxyColor.fromRgb(247,211,64),OxyColor.fromRgb(246,213,67),OxyColor.fromRgb(246,215,70),OxyColor.fromRgb(245,217,73),OxyColor.fromRgb(245,219,76),OxyColor.fromRgb(244,221,79),OxyColor.fromRgb(244,223,83),OxyColor.fromRgb(244,225,86),OxyColor.fromRgb(243,227,90),OxyColor.fromRgb(243,229,93),OxyColor.fromRgb(242,230,97),OxyColor.fromRgb(242,232,101),OxyColor.fromRgb(242,234,105),OxyColor.fromRgb(241,236,109),OxyColor.fromRgb(241,237,113),OxyColor.fromRgb(241,239,117),OxyColor.fromRgb(241,241,121),OxyColor.fromRgb(242,242,125),OxyColor.fromRgb(242,244,130),OxyColor.fromRgb(243,245,134),OxyColor.fromRgb(243,246,138),OxyColor.fromRgb(244,248,142),OxyColor.fromRgb(245,249,146),OxyColor.fromRgb(246,250,150),OxyColor.fromRgb(248,251,154),OxyColor.fromRgb(249,252,157),OxyColor.fromRgb(250,253,161),OxyColor.fromRgb(252,255,164)],magmaColors=[OxyColor.fromRgb(0,0,4),OxyColor.fromRgb(1,0,5),OxyColor.fromRgb(1,1,6),OxyColor.fromRgb(1,1,8),OxyColor.fromRgb(2,1,9),OxyColor.fromRgb(2,2,11),OxyColor.fromRgb(2,2,13),OxyColor.fromRgb(3,3,15),OxyColor.fromRgb(3,3,18),OxyColor.fromRgb(4,4,20),OxyColor.fromRgb(5,4,22),OxyColor.fromRgb(6,5,24),OxyColor.fromRgb(6,5,26),OxyColor.fromRgb(7,6,28),OxyColor.fromRgb(8,7,30),OxyColor.fromRgb(9,7,32),OxyColor.fromRgb(10,8,34),OxyColor.fromRgb(11,9,36),OxyColor.fromRgb(12,9,38),OxyColor.fromRgb(13,10,41),OxyColor.fromRgb(14,11,43),OxyColor.fromRgb(16,11,45),OxyColor.fromRgb(17,12,47),OxyColor.fromRgb(18,13,49),OxyColor.fromRgb(19,13,52),OxyColor.fromRgb(20,14,54),OxyColor.fromRgb(21,14,56),OxyColor.fromRgb(22,15,59),OxyColor.fromRgb(24,15,61),OxyColor.fromRgb(25,16,63),OxyColor.fromRgb(26,16,66),OxyColor.fromRgb(28,16,68),OxyColor.fromRgb(29,17,71),OxyColor.fromRgb(30,17,73),OxyColor.fromRgb(32,17,75),OxyColor.fromRgb(33,17,78),OxyColor.fromRgb(34,17,80),OxyColor.fromRgb(36,18,83),OxyColor.fromRgb(37,18,85),OxyColor.fromRgb(39,18,88),OxyColor.fromRgb(41,17,90),OxyColor.fromRgb(42,17,92),OxyColor.fromRgb(44,17,95),OxyColor.fromRgb(45,17,97),OxyColor.fromRgb(47,17,99),OxyColor.fromRgb(49,17,101),OxyColor.fromRgb(51,16,103),OxyColor.fromRgb(52,16,105),OxyColor.fromRgb(54,16,107),OxyColor.fromRgb(56,16,108),OxyColor.fromRgb(57,15,110),OxyColor.fromRgb(59,15,112),OxyColor.fromRgb(61,15,113),OxyColor.fromRgb(63,15,114),OxyColor.fromRgb(64,15,116),OxyColor.fromRgb(66,15,117),OxyColor.fromRgb(68,15,118),OxyColor.fromRgb(69,16,119),OxyColor.fromRgb(71,16,120),OxyColor.fromRgb(73,16,120),OxyColor.fromRgb(74,16,121),OxyColor.fromRgb(76,17,122),OxyColor.fromRgb(78,17,123),OxyColor.fromRgb(79,18,123),OxyColor.fromRgb(81,18,124),OxyColor.fromRgb(82,19,124),OxyColor.fromRgb(84,19,125),OxyColor.fromRgb(86,20,125),OxyColor.fromRgb(87,21,126),OxyColor.fromRgb(89,21,126),OxyColor.fromRgb(90,22,126),OxyColor.fromRgb(92,22,127),OxyColor.fromRgb(93,23,127),OxyColor.fromRgb(95,24,127),OxyColor.fromRgb(96,24,128),OxyColor.fromRgb(98,25,128),OxyColor.fromRgb(100,26,128),OxyColor.fromRgb(101,26,128),OxyColor.fromRgb(103,27,128),OxyColor.fromRgb(104,28,129),OxyColor.fromRgb(106,28,129),OxyColor.fromRgb(107,29,129),OxyColor.fromRgb(109,29,129),OxyColor.fromRgb(110,30,129),OxyColor.fromRgb(112,31,129),OxyColor.fromRgb(114,31,129),OxyColor.fromRgb(115,32,129),OxyColor.fromRgb(117,33,129),OxyColor.fromRgb(118,33,129),OxyColor.fromRgb(120,34,129),OxyColor.fromRgb(121,34,130),OxyColor.fromRgb(123,35,130),OxyColor.fromRgb(124,35,130),OxyColor.fromRgb(126,36,130),OxyColor.fromRgb(128,37,130),OxyColor.fromRgb(129,37,129),OxyColor.fromRgb(131,38,129),OxyColor.fromRgb(132,38,129),OxyColor.fromRgb(134,39,129),OxyColor.fromRgb(136,39,129),OxyColor.fromRgb(137,40,129),OxyColor.fromRgb(139,41,129),OxyColor.fromRgb(140,41,129),OxyColor.fromRgb(142,42,129),OxyColor.fromRgb(144,42,129),OxyColor.fromRgb(145,43,129),OxyColor.fromRgb(147,43,128),OxyColor.fromRgb(148,44,128),OxyColor.fromRgb(150,44,128),OxyColor.fromRgb(152,45,128),OxyColor.fromRgb(153,45,128),OxyColor.fromRgb(155,46,127),OxyColor.fromRgb(156,46,127),OxyColor.fromRgb(158,47,127),OxyColor.fromRgb(160,47,127),OxyColor.fromRgb(161,48,126),OxyColor.fromRgb(163,48,126),OxyColor.fromRgb(165,49,126),OxyColor.fromRgb(166,49,125),OxyColor.fromRgb(168,50,125),OxyColor.fromRgb(170,51,125),OxyColor.fromRgb(171,51,124),OxyColor.fromRgb(173,52,124),OxyColor.fromRgb(174,52,123),OxyColor.fromRgb(176,53,123),OxyColor.fromRgb(178,53,123),OxyColor.fromRgb(179,54,122),OxyColor.fromRgb(181,54,122),OxyColor.fromRgb(183,55,121),OxyColor.fromRgb(184,55,121),OxyColor.fromRgb(186,56,120),OxyColor.fromRgb(188,57,120),OxyColor.fromRgb(189,57,119),OxyColor.fromRgb(191,58,119),OxyColor.fromRgb(192,58,118),OxyColor.fromRgb(194,59,117),OxyColor.fromRgb(196,60,117),OxyColor.fromRgb(197,60,116),OxyColor.fromRgb(199,61,115),OxyColor.fromRgb(200,62,115),OxyColor.fromRgb(202,62,114),OxyColor.fromRgb(204,63,113),OxyColor.fromRgb(205,64,113),OxyColor.fromRgb(207,64,112),OxyColor.fromRgb(208,65,111),OxyColor.fromRgb(210,66,111),OxyColor.fromRgb(211,67,110),OxyColor.fromRgb(213,68,109),OxyColor.fromRgb(214,69,108),OxyColor.fromRgb(216,69,108),OxyColor.fromRgb(217,70,107),OxyColor.fromRgb(219,71,106),OxyColor.fromRgb(220,72,105),OxyColor.fromRgb(222,73,104),OxyColor.fromRgb(223,74,104),OxyColor.fromRgb(224,76,103),OxyColor.fromRgb(226,77,102),OxyColor.fromRgb(227,78,101),OxyColor.fromRgb(228,79,100),OxyColor.fromRgb(229,80,100),OxyColor.fromRgb(231,82,99),OxyColor.fromRgb(232,83,98),OxyColor.fromRgb(233,84,98),OxyColor.fromRgb(234,86,97),OxyColor.fromRgb(235,87,96),OxyColor.fromRgb(236,88,96),OxyColor.fromRgb(237,90,95),OxyColor.fromRgb(238,91,94),OxyColor.fromRgb(239,93,94),OxyColor.fromRgb(240,95,94),OxyColor.fromRgb(241,96,93),OxyColor.fromRgb(242,98,93),OxyColor.fromRgb(242,100,92),OxyColor.fromRgb(243,101,92),OxyColor.fromRgb(244,103,92),OxyColor.fromRgb(244,105,92),OxyColor.fromRgb(245,107,92),OxyColor.fromRgb(246,108,92),OxyColor.fromRgb(246,110,92),OxyColor.fromRgb(247,112,92),OxyColor.fromRgb(247,114,92),OxyColor.fromRgb(248,116,92),OxyColor.fromRgb(248,118,92),OxyColor.fromRgb(249,120,93),OxyColor.fromRgb(249,121,93),OxyColor.fromRgb(249,123,93),OxyColor.fromRgb(250,125,94),OxyColor.fromRgb(250,127,94),OxyColor.fromRgb(250,129,95),OxyColor.fromRgb(251,131,95),OxyColor.fromRgb(251,133,96),OxyColor.fromRgb(251,135,97),OxyColor.fromRgb(252,137,97),OxyColor.fromRgb(252,138,98),OxyColor.fromRgb(252,140,99),OxyColor.fromRgb(252,142,100),OxyColor.fromRgb(252,144,101),OxyColor.fromRgb(253,146,102),OxyColor.fromRgb(253,148,103),OxyColor.fromRgb(253,150,104),OxyColor.fromRgb(253,152,105),OxyColor.fromRgb(253,154,106),OxyColor.fromRgb(253,155,107),OxyColor.fromRgb(254,157,108),OxyColor.fromRgb(254,159,109),OxyColor.fromRgb(254,161,110),OxyColor.fromRgb(254,163,111),OxyColor.fromRgb(254,165,113),OxyColor.fromRgb(254,167,114),OxyColor.fromRgb(254,169,115),OxyColor.fromRgb(254,170,116),OxyColor.fromRgb(254,172,118),OxyColor.fromRgb(254,174,119),OxyColor.fromRgb(254,176,120),OxyColor.fromRgb(254,178,122),OxyColor.fromRgb(254,180,123),OxyColor.fromRgb(254,182,124),OxyColor.fromRgb(254,183,126),OxyColor.fromRgb(254,185,127),OxyColor.fromRgb(254,187,129),OxyColor.fromRgb(254,189,130),OxyColor.fromRgb(254,191,132),OxyColor.fromRgb(254,193,133),OxyColor.fromRgb(254,194,135),OxyColor.fromRgb(254,196,136),OxyColor.fromRgb(254,198,138),OxyColor.fromRgb(254,200,140),OxyColor.fromRgb(254,202,141),OxyColor.fromRgb(254,204,143),OxyColor.fromRgb(254,205,144),OxyColor.fromRgb(254,207,146),OxyColor.fromRgb(254,209,148),OxyColor.fromRgb(254,211,149),OxyColor.fromRgb(254,213,151),OxyColor.fromRgb(254,215,153),OxyColor.fromRgb(254,216,154),OxyColor.fromRgb(253,218,156),OxyColor.fromRgb(253,220,158),OxyColor.fromRgb(253,222,160),OxyColor.fromRgb(253,224,161),OxyColor.fromRgb(253,226,163),OxyColor.fromRgb(253,227,165),OxyColor.fromRgb(253,229,167),OxyColor.fromRgb(253,231,169),OxyColor.fromRgb(253,233,170),OxyColor.fromRgb(253,235,172),OxyColor.fromRgb(252,236,174),OxyColor.fromRgb(252,238,176),OxyColor.fromRgb(252,240,178),OxyColor.fromRgb(252,242,180),OxyColor.fromRgb(252,244,182),OxyColor.fromRgb(252,246,184),OxyColor.fromRgb(252,247,185),OxyColor.fromRgb(252,249,187),OxyColor.fromRgb(252,251,189),OxyColor.fromRgb(252,253,191)],plasmaColors=[OxyColor.fromRgb(13,8,135),OxyColor.fromRgb(16,7,136),OxyColor.fromRgb(19,7,137),OxyColor.fromRgb(22,7,138),OxyColor.fromRgb(25,6,140),OxyColor.fromRgb(27,6,141),OxyColor.fromRgb(29,6,142),OxyColor.fromRgb(32,6,143),OxyColor.fromRgb(34,6,144),OxyColor.fromRgb(36,6,145),OxyColor.fromRgb(38,5,145),OxyColor.fromRgb(40,5,146),OxyColor.fromRgb(42,5,147),OxyColor.fromRgb(44,5,148),OxyColor.fromRgb(46,5,149),OxyColor.fromRgb(47,5,150),OxyColor.fromRgb(49,5,151),OxyColor.fromRgb(51,5,151),OxyColor.fromRgb(53,4,152),OxyColor.fromRgb(55,4,153),OxyColor.fromRgb(56,4,154),OxyColor.fromRgb(58,4,154),OxyColor.fromRgb(60,4,155),OxyColor.fromRgb(62,4,156),OxyColor.fromRgb(63,4,156),OxyColor.fromRgb(65,4,157),OxyColor.fromRgb(67,3,158),OxyColor.fromRgb(68,3,158),OxyColor.fromRgb(70,3,159),OxyColor.fromRgb(72,3,159),OxyColor.fromRgb(73,3,160),OxyColor.fromRgb(75,3,161),OxyColor.fromRgb(76,2,161),OxyColor.fromRgb(78,2,162),OxyColor.fromRgb(80,2,162),OxyColor.fromRgb(81,2,163),OxyColor.fromRgb(83,2,163),OxyColor.fromRgb(85,2,164),OxyColor.fromRgb(86,1,164),OxyColor.fromRgb(88,1,164),OxyColor.fromRgb(89,1,165),OxyColor.fromRgb(91,1,165),OxyColor.fromRgb(92,1,166),OxyColor.fromRgb(94,1,166),OxyColor.fromRgb(96,1,166),OxyColor.fromRgb(97,0,167),OxyColor.fromRgb(99,0,167),OxyColor.fromRgb(100,0,167),OxyColor.fromRgb(102,0,167),OxyColor.fromRgb(103,0,168),OxyColor.fromRgb(105,0,168),OxyColor.fromRgb(106,0,168),OxyColor.fromRgb(108,0,168),OxyColor.fromRgb(110,0,168),OxyColor.fromRgb(111,0,168),OxyColor.fromRgb(113,0,168),OxyColor.fromRgb(114,1,168),OxyColor.fromRgb(116,1,168),OxyColor.fromRgb(117,1,168),OxyColor.fromRgb(119,1,168),OxyColor.fromRgb(120,1,168),OxyColor.fromRgb(122,2,168),OxyColor.fromRgb(123,2,168),OxyColor.fromRgb(125,3,168),OxyColor.fromRgb(126,3,168),OxyColor.fromRgb(128,4,168),OxyColor.fromRgb(129,4,167),OxyColor.fromRgb(131,5,167),OxyColor.fromRgb(132,5,167),OxyColor.fromRgb(134,6,166),OxyColor.fromRgb(135,7,166),OxyColor.fromRgb(136,8,166),OxyColor.fromRgb(138,9,165),OxyColor.fromRgb(139,10,165),OxyColor.fromRgb(141,11,165),OxyColor.fromRgb(142,12,164),OxyColor.fromRgb(143,13,164),OxyColor.fromRgb(145,14,163),OxyColor.fromRgb(146,15,163),OxyColor.fromRgb(148,16,162),OxyColor.fromRgb(149,17,161),OxyColor.fromRgb(150,19,161),OxyColor.fromRgb(152,20,160),OxyColor.fromRgb(153,21,159),OxyColor.fromRgb(154,22,159),OxyColor.fromRgb(156,23,158),OxyColor.fromRgb(157,24,157),OxyColor.fromRgb(158,25,157),OxyColor.fromRgb(160,26,156),OxyColor.fromRgb(161,27,155),OxyColor.fromRgb(162,29,154),OxyColor.fromRgb(163,30,154),OxyColor.fromRgb(165,31,153),OxyColor.fromRgb(166,32,152),OxyColor.fromRgb(167,33,151),OxyColor.fromRgb(168,34,150),OxyColor.fromRgb(170,35,149),OxyColor.fromRgb(171,36,148),OxyColor.fromRgb(172,38,148),OxyColor.fromRgb(173,39,147),OxyColor.fromRgb(174,40,146),OxyColor.fromRgb(176,41,145),OxyColor.fromRgb(177,42,144),OxyColor.fromRgb(178,43,143),OxyColor.fromRgb(179,44,142),OxyColor.fromRgb(180,46,141),OxyColor.fromRgb(181,47,140),OxyColor.fromRgb(182,48,139),OxyColor.fromRgb(183,49,138),OxyColor.fromRgb(184,50,137),OxyColor.fromRgb(186,51,136),OxyColor.fromRgb(187,52,136),OxyColor.fromRgb(188,53,135),OxyColor.fromRgb(189,55,134),OxyColor.fromRgb(190,56,133),OxyColor.fromRgb(191,57,132),OxyColor.fromRgb(192,58,131),OxyColor.fromRgb(193,59,130),OxyColor.fromRgb(194,60,129),OxyColor.fromRgb(195,61,128),OxyColor.fromRgb(196,62,127),OxyColor.fromRgb(197,64,126),OxyColor.fromRgb(198,65,125),OxyColor.fromRgb(199,66,124),OxyColor.fromRgb(200,67,123),OxyColor.fromRgb(201,68,122),OxyColor.fromRgb(202,69,122),OxyColor.fromRgb(203,70,121),OxyColor.fromRgb(204,71,120),OxyColor.fromRgb(204,73,119),OxyColor.fromRgb(205,74,118),OxyColor.fromRgb(206,75,117),OxyColor.fromRgb(207,76,116),OxyColor.fromRgb(208,77,115),OxyColor.fromRgb(209,78,114),OxyColor.fromRgb(210,79,113),OxyColor.fromRgb(211,81,113),OxyColor.fromRgb(212,82,112),OxyColor.fromRgb(213,83,111),OxyColor.fromRgb(213,84,110),OxyColor.fromRgb(214,85,109),OxyColor.fromRgb(215,86,108),OxyColor.fromRgb(216,87,107),OxyColor.fromRgb(217,88,106),OxyColor.fromRgb(218,90,106),OxyColor.fromRgb(218,91,105),OxyColor.fromRgb(219,92,104),OxyColor.fromRgb(220,93,103),OxyColor.fromRgb(221,94,102),OxyColor.fromRgb(222,95,101),OxyColor.fromRgb(222,97,100),OxyColor.fromRgb(223,98,99),OxyColor.fromRgb(224,99,99),OxyColor.fromRgb(225,100,98),OxyColor.fromRgb(226,101,97),OxyColor.fromRgb(226,102,96),OxyColor.fromRgb(227,104,95),OxyColor.fromRgb(228,105,94),OxyColor.fromRgb(229,106,93),OxyColor.fromRgb(229,107,93),OxyColor.fromRgb(230,108,92),OxyColor.fromRgb(231,110,91),OxyColor.fromRgb(231,111,90),OxyColor.fromRgb(232,112,89),OxyColor.fromRgb(233,113,88),OxyColor.fromRgb(233,114,87),OxyColor.fromRgb(234,116,87),OxyColor.fromRgb(235,117,86),OxyColor.fromRgb(235,118,85),OxyColor.fromRgb(236,119,84),OxyColor.fromRgb(237,121,83),OxyColor.fromRgb(237,122,82),OxyColor.fromRgb(238,123,81),OxyColor.fromRgb(239,124,81),OxyColor.fromRgb(239,126,80),OxyColor.fromRgb(240,127,79),OxyColor.fromRgb(240,128,78),OxyColor.fromRgb(241,129,77),OxyColor.fromRgb(241,131,76),OxyColor.fromRgb(242,132,75),OxyColor.fromRgb(243,133,75),OxyColor.fromRgb(243,135,74),OxyColor.fromRgb(244,136,73),OxyColor.fromRgb(244,137,72),OxyColor.fromRgb(245,139,71),OxyColor.fromRgb(245,140,70),OxyColor.fromRgb(246,141,69),OxyColor.fromRgb(246,143,68),OxyColor.fromRgb(247,144,68),OxyColor.fromRgb(247,145,67),OxyColor.fromRgb(247,147,66),OxyColor.fromRgb(248,148,65),OxyColor.fromRgb(248,149,64),OxyColor.fromRgb(249,151,63),OxyColor.fromRgb(249,152,62),OxyColor.fromRgb(249,154,62),OxyColor.fromRgb(250,155,61),OxyColor.fromRgb(250,156,60),OxyColor.fromRgb(250,158,59),OxyColor.fromRgb(251,159,58),OxyColor.fromRgb(251,161,57),OxyColor.fromRgb(251,162,56),OxyColor.fromRgb(252,163,56),OxyColor.fromRgb(252,165,55),OxyColor.fromRgb(252,166,54),OxyColor.fromRgb(252,168,53),OxyColor.fromRgb(252,169,52),OxyColor.fromRgb(253,171,51),OxyColor.fromRgb(253,172,51),OxyColor.fromRgb(253,174,50),OxyColor.fromRgb(253,175,49),OxyColor.fromRgb(253,177,48),OxyColor.fromRgb(253,178,47),OxyColor.fromRgb(253,180,47),OxyColor.fromRgb(253,181,46),OxyColor.fromRgb(254,183,45),OxyColor.fromRgb(254,184,44),OxyColor.fromRgb(254,186,44),OxyColor.fromRgb(254,187,43),OxyColor.fromRgb(254,189,42),OxyColor.fromRgb(254,190,42),OxyColor.fromRgb(254,192,41),OxyColor.fromRgb(253,194,41),OxyColor.fromRgb(253,195,40),OxyColor.fromRgb(253,197,39),OxyColor.fromRgb(253,198,39),OxyColor.fromRgb(253,200,39),OxyColor.fromRgb(253,202,38),OxyColor.fromRgb(253,203,38),OxyColor.fromRgb(252,205,37),OxyColor.fromRgb(252,206,37),OxyColor.fromRgb(252,208,37),OxyColor.fromRgb(252,210,37),OxyColor.fromRgb(251,211,36),OxyColor.fromRgb(251,213,36),OxyColor.fromRgb(251,215,36),OxyColor.fromRgb(250,216,36),OxyColor.fromRgb(250,218,36),OxyColor.fromRgb(249,220,36),OxyColor.fromRgb(249,221,37),OxyColor.fromRgb(248,223,37),OxyColor.fromRgb(248,225,37),OxyColor.fromRgb(247,226,37),OxyColor.fromRgb(247,228,37),OxyColor.fromRgb(246,230,38),OxyColor.fromRgb(246,232,38),OxyColor.fromRgb(245,233,38),OxyColor.fromRgb(245,235,39),OxyColor.fromRgb(244,237,39),OxyColor.fromRgb(243,238,39),OxyColor.fromRgb(243,240,39),OxyColor.fromRgb(242,242,39),OxyColor.fromRgb(241,244,38),OxyColor.fromRgb(241,245,37),OxyColor.fromRgb(240,247,36),OxyColor.fromRgb(240,249,33)],viridisColors=[OxyColor.fromRgb(68,1,84),OxyColor.fromRgb(68,2,86),OxyColor.fromRgb(69,4,87),OxyColor.fromRgb(69,5,89),OxyColor.fromRgb(70,7,90),OxyColor.fromRgb(70,8,92),OxyColor.fromRgb(70,10,93),OxyColor.fromRgb(70,11,94),OxyColor.fromRgb(71,13,96),OxyColor.fromRgb(71,14,97),OxyColor.fromRgb(71,16,99),OxyColor.fromRgb(71,17,100),OxyColor.fromRgb(71,19,101),OxyColor.fromRgb(72,20,103),OxyColor.fromRgb(72,22,104),OxyColor.fromRgb(72,23,105),OxyColor.fromRgb(72,24,106),OxyColor.fromRgb(72,26,108),OxyColor.fromRgb(72,27,109),OxyColor.fromRgb(72,28,110),OxyColor.fromRgb(72,29,111),OxyColor.fromRgb(72,31,112),OxyColor.fromRgb(72,32,113),OxyColor.fromRgb(72,33,115),OxyColor.fromRgb(72,35,116),OxyColor.fromRgb(72,36,117),OxyColor.fromRgb(72,37,118),OxyColor.fromRgb(72,38,119),OxyColor.fromRgb(72,40,120),OxyColor.fromRgb(72,41,121),OxyColor.fromRgb(71,42,122),OxyColor.fromRgb(71,44,122),OxyColor.fromRgb(71,45,123),OxyColor.fromRgb(71,46,124),OxyColor.fromRgb(71,47,125),OxyColor.fromRgb(70,48,126),OxyColor.fromRgb(70,50,126),OxyColor.fromRgb(70,51,127),OxyColor.fromRgb(70,52,128),OxyColor.fromRgb(69,53,129),OxyColor.fromRgb(69,55,129),OxyColor.fromRgb(69,56,130),OxyColor.fromRgb(68,57,131),OxyColor.fromRgb(68,58,131),OxyColor.fromRgb(68,59,132),OxyColor.fromRgb(67,61,132),OxyColor.fromRgb(67,62,133),OxyColor.fromRgb(66,63,133),OxyColor.fromRgb(66,64,134),OxyColor.fromRgb(66,65,134),OxyColor.fromRgb(65,66,135),OxyColor.fromRgb(65,68,135),OxyColor.fromRgb(64,69,136),OxyColor.fromRgb(64,70,136),OxyColor.fromRgb(63,71,136),OxyColor.fromRgb(63,72,137),OxyColor.fromRgb(62,73,137),OxyColor.fromRgb(62,74,137),OxyColor.fromRgb(62,76,138),OxyColor.fromRgb(61,77,138),OxyColor.fromRgb(61,78,138),OxyColor.fromRgb(60,79,138),OxyColor.fromRgb(60,80,139),OxyColor.fromRgb(59,81,139),OxyColor.fromRgb(59,82,139),OxyColor.fromRgb(58,83,139),OxyColor.fromRgb(58,84,140),OxyColor.fromRgb(57,85,140),OxyColor.fromRgb(57,86,140),OxyColor.fromRgb(56,88,140),OxyColor.fromRgb(56,89,140),OxyColor.fromRgb(55,90,140),OxyColor.fromRgb(55,91,141),OxyColor.fromRgb(54,92,141),OxyColor.fromRgb(54,93,141),OxyColor.fromRgb(53,94,141),OxyColor.fromRgb(53,95,141),OxyColor.fromRgb(52,96,141),OxyColor.fromRgb(52,97,141),OxyColor.fromRgb(51,98,141),OxyColor.fromRgb(51,99,141),OxyColor.fromRgb(50,100,142),OxyColor.fromRgb(50,101,142),OxyColor.fromRgb(49,102,142),OxyColor.fromRgb(49,103,142),OxyColor.fromRgb(49,104,142),OxyColor.fromRgb(48,105,142),OxyColor.fromRgb(48,106,142),OxyColor.fromRgb(47,107,142),OxyColor.fromRgb(47,108,142),OxyColor.fromRgb(46,109,142),OxyColor.fromRgb(46,110,142),OxyColor.fromRgb(46,111,142),OxyColor.fromRgb(45,112,142),OxyColor.fromRgb(45,113,142),OxyColor.fromRgb(44,113,142),OxyColor.fromRgb(44,114,142),OxyColor.fromRgb(44,115,142),OxyColor.fromRgb(43,116,142),OxyColor.fromRgb(43,117,142),OxyColor.fromRgb(42,118,142),OxyColor.fromRgb(42,119,142),OxyColor.fromRgb(42,120,142),OxyColor.fromRgb(41,121,142),OxyColor.fromRgb(41,122,142),OxyColor.fromRgb(41,123,142),OxyColor.fromRgb(40,124,142),OxyColor.fromRgb(40,125,142),OxyColor.fromRgb(39,126,142),OxyColor.fromRgb(39,127,142),OxyColor.fromRgb(39,128,142),OxyColor.fromRgb(38,129,142),OxyColor.fromRgb(38,130,142),OxyColor.fromRgb(38,130,142),OxyColor.fromRgb(37,131,142),OxyColor.fromRgb(37,132,142),OxyColor.fromRgb(37,133,142),OxyColor.fromRgb(36,134,142),OxyColor.fromRgb(36,135,142),OxyColor.fromRgb(35,136,142),OxyColor.fromRgb(35,137,142),OxyColor.fromRgb(35,138,141),OxyColor.fromRgb(34,139,141),OxyColor.fromRgb(34,140,141),OxyColor.fromRgb(34,141,141),OxyColor.fromRgb(33,142,141),OxyColor.fromRgb(33,143,141),OxyColor.fromRgb(33,144,141),OxyColor.fromRgb(33,145,140),OxyColor.fromRgb(32,146,140),OxyColor.fromRgb(32,146,140),OxyColor.fromRgb(32,147,140),OxyColor.fromRgb(31,148,140),OxyColor.fromRgb(31,149,139),OxyColor.fromRgb(31,150,139),OxyColor.fromRgb(31,151,139),OxyColor.fromRgb(31,152,139),OxyColor.fromRgb(31,153,138),OxyColor.fromRgb(31,154,138),OxyColor.fromRgb(30,155,138),OxyColor.fromRgb(30,156,137),OxyColor.fromRgb(30,157,137),OxyColor.fromRgb(31,158,137),OxyColor.fromRgb(31,159,136),OxyColor.fromRgb(31,160,136),OxyColor.fromRgb(31,161,136),OxyColor.fromRgb(31,161,135),OxyColor.fromRgb(31,162,135),OxyColor.fromRgb(32,163,134),OxyColor.fromRgb(32,164,134),OxyColor.fromRgb(33,165,133),OxyColor.fromRgb(33,166,133),OxyColor.fromRgb(34,167,133),OxyColor.fromRgb(34,168,132),OxyColor.fromRgb(35,169,131),OxyColor.fromRgb(36,170,131),OxyColor.fromRgb(37,171,130),OxyColor.fromRgb(37,172,130),OxyColor.fromRgb(38,173,129),OxyColor.fromRgb(39,173,129),OxyColor.fromRgb(40,174,128),OxyColor.fromRgb(41,175,127),OxyColor.fromRgb(42,176,127),OxyColor.fromRgb(44,177,126),OxyColor.fromRgb(45,178,125),OxyColor.fromRgb(46,179,124),OxyColor.fromRgb(47,180,124),OxyColor.fromRgb(49,181,123),OxyColor.fromRgb(50,182,122),OxyColor.fromRgb(52,182,121),OxyColor.fromRgb(53,183,121),OxyColor.fromRgb(55,184,120),OxyColor.fromRgb(56,185,119),OxyColor.fromRgb(58,186,118),OxyColor.fromRgb(59,187,117),OxyColor.fromRgb(61,188,116),OxyColor.fromRgb(63,188,115),OxyColor.fromRgb(64,189,114),OxyColor.fromRgb(66,190,113),OxyColor.fromRgb(68,191,112),OxyColor.fromRgb(70,192,111),OxyColor.fromRgb(72,193,110),OxyColor.fromRgb(74,193,109),OxyColor.fromRgb(76,194,108),OxyColor.fromRgb(78,195,107),OxyColor.fromRgb(80,196,106),OxyColor.fromRgb(82,197,105),OxyColor.fromRgb(84,197,104),OxyColor.fromRgb(86,198,103),OxyColor.fromRgb(88,199,101),OxyColor.fromRgb(90,200,100),OxyColor.fromRgb(92,200,99),OxyColor.fromRgb(94,201,98),OxyColor.fromRgb(96,202,96),OxyColor.fromRgb(99,203,95),OxyColor.fromRgb(101,203,94),OxyColor.fromRgb(103,204,92),OxyColor.fromRgb(105,205,91),OxyColor.fromRgb(108,205,90),OxyColor.fromRgb(110,206,88),OxyColor.fromRgb(112,207,87),OxyColor.fromRgb(115,208,86),OxyColor.fromRgb(117,208,84),OxyColor.fromRgb(119,209,83),OxyColor.fromRgb(122,209,81),OxyColor.fromRgb(124,210,80),OxyColor.fromRgb(127,211,78),OxyColor.fromRgb(129,211,77),OxyColor.fromRgb(132,212,75),OxyColor.fromRgb(134,213,73),OxyColor.fromRgb(137,213,72),OxyColor.fromRgb(139,214,70),OxyColor.fromRgb(142,214,69),OxyColor.fromRgb(144,215,67),OxyColor.fromRgb(147,215,65),OxyColor.fromRgb(149,216,64),OxyColor.fromRgb(152,216,62),OxyColor.fromRgb(155,217,60),OxyColor.fromRgb(157,217,59),OxyColor.fromRgb(160,218,57),OxyColor.fromRgb(162,218,55),OxyColor.fromRgb(165,219,54),OxyColor.fromRgb(168,219,52),OxyColor.fromRgb(170,220,50),OxyColor.fromRgb(173,220,48),OxyColor.fromRgb(176,221,47),OxyColor.fromRgb(178,221,45),OxyColor.fromRgb(181,222,43),OxyColor.fromRgb(184,222,41),OxyColor.fromRgb(186,222,40),OxyColor.fromRgb(189,223,38),OxyColor.fromRgb(192,223,37),OxyColor.fromRgb(194,223,35),OxyColor.fromRgb(197,224,33),OxyColor.fromRgb(200,224,32),OxyColor.fromRgb(202,225,31),OxyColor.fromRgb(205,225,29),OxyColor.fromRgb(208,225,28),OxyColor.fromRgb(210,226,27),OxyColor.fromRgb(213,226,26),OxyColor.fromRgb(216,226,25),OxyColor.fromRgb(218,227,25),OxyColor.fromRgb(221,227,24),OxyColor.fromRgb(223,227,24),OxyColor.fromRgb(226,228,24),OxyColor.fromRgb(229,228,25),OxyColor.fromRgb(231,228,25),OxyColor.fromRgb(234,229,26),OxyColor.fromRgb(236,229,27),OxyColor.fromRgb(239,229,28),OxyColor.fromRgb(241,229,29),OxyColor.fromRgb(244,230,30),OxyColor.fromRgb(246,230,32),OxyColor.fromRgb(248,230,33),OxyColor.fromRgb(251,231,35),OxyColor.fromRgb(253,231,37)];class Element{constructor(e){D$1(this,"parent"),D$1(this,"keyDown"),D$1(this,"mouseDown"),D$1(this,"mouseMove"),D$1(this,"mouseUp"),D$1(this,"touchStarted"),D$1(this,"touchDelta"),D$1(this,"touchCompleted"),D$1(this,"selection"),D$1(this,"selectionChanged"),D$1(this,"selectable",!0),D$1(this,"selectionMode",SelectionMode.All)}hitTest(e){return this.hitTestOverride(e)}hitTestOverride(e){}onMouseDown(e){this.mouseDown&&this.mouseDown(this,e)}onMouseMove(e){this.mouseMove&&this.mouseMove(this,e)}onKeyDown(e){this.keyDown&&this.keyDown(this,e)}onMouseUp(e){this.mouseUp&&this.mouseUp(this,e)}onTouchStarted(e){this.touchStarted&&this.touchStarted(this,e)}onTouchDelta(e){this.touchDelta&&this.touchDelta(this,e)}onTouchCompleted(e){this.touchCompleted&&this.touchCompleted(this,e)}get actualSelectedColor(){return this.parent?this.parent.selectionColor.getActualColor(Model.DefaultSelectionColor):Model.DefaultSelectionColor}isSelected(){return!!this.selection}getSelectedItems(){return this.ensureSelection(),this.selection.getSelectedItems()}clearSelection(){this.selection=void 0,this.onSelectionChanged()}unselect(){this.selection=void 0,this.onSelectionChanged()}isItemSelected(e){return this.selection?e===-1?this.selection.isEverythingSelected():this.selection.isItemSelected(e):!1}select(){this.selection=Selection.Everything,this.onSelectionChanged()}selectItem(e){if(this.selectionMode===SelectionMode.All)throw new Error("Use the select() method when using SelectionMode.All");this.ensureSelection(),this.selectionMode===SelectionMode.Single&&this.selection.clear(),this.selection.select(e),this.onSelectionChanged()}unselectItem(e){if(this.selectionMode===SelectionMode.All)throw new Error("Use the unselect() method when using SelectionMode.All");this.ensureSelection(),this.selection.unselect(e),this.onSelectionChanged()}getSelectableColor(e,t=-1){return e.isUndefined()?OxyColors.Undefined:this.isItemSelected(t)?this.actualSelectedColor:e}getSelectableFillColor(e,t=-1){return this.getSelectableColor(e,t)}ensureSelection(){this.selection=this.selection||new Selection}onSelectionChanged(e){this.selectionChanged&&this.selectionChanged(this,e)}}class PlotElement extends Element{constructor(e){super(e),D$1(this,"font"),D$1(this,"fontSize",NaN),D$1(this,"fontWeight",FontWeights.Normal),D$1(this,"tag"),D$1(this,"textColor"),D$1(this,"edgeRenderingMode"),D$1(this,"toolTip"),D$1(this,"_plotElementId"),this.fontSize=NaN,this.fontWeight=FontWeights.Normal,this.textColor=OxyColors.Automatic,this.edgeRenderingMode=EdgeRenderingMode.Automatic}get plotModel(){return this.parent}get actualFont(){return this.font||this.plotModel.defaultFont}get actualFontSize(){return isNaN(this.fontSize)?this.plotModel.defaultFontSize:this.fontSize}get actualFontWeight(){return this.fontWeight}get actualTextColor(){return this.textColor.getActualColor(this.plotModel.textColor)}getClippingRect(){return OxyRect.Everything}getElementHashCode(){return isUndef(this._plotElementId)&&(plotElementId++,this._plotElementId=plotElementId),this._plotElementId}}let plotElementId=0;const Zt$1=class wu extends PlotElement{constructor(e){super(e),D$1(this,"_offset",0),D$1(this,"_scale",1),D$1(this,"axisChanged"),D$1(this,"transformChanged"),D$1(this,"absoluteMaximum"),D$1(this,"absoluteMinimum"),D$1(this,"_actualMajorStep",0),D$1(this,"minimumMajorIntervalCount"),D$1(this,"maximumMajorIntervalCount"),D$1(this,"_actualMaximum",0),D$1(this,"_actualMinimum",0),D$1(this,"_clipMaximum",0),D$1(this,"_clipMinimum",0),D$1(this,"_actualMinorStep",0),D$1(this,"_actualStringFormatter"),D$1(this,"angle"),D$1(this,"axisTickToLabelDistance"),D$1(this,"axisTitleDistance"),D$1(this,"axisDistance"),D$1(this,"axislineColor"),D$1(this,"axislineStyle"),D$1(this,"axislineThickness"),D$1(this,"clipTitle"),D$1(this,"cropGridlines",!1),D$1(this,"_dataMaximum",0),D$1(this,"_dataMinimum",0),D$1(this,"endPosition"),D$1(this,"extraGridlineColor"),D$1(this,"extraGridlineStyle"),D$1(this,"extraGridlineThickness"),D$1(this,"extraGridlines"),D$1(this,"filterFunction"),D$1(this,"filterMaxValue"),D$1(this,"filterMinValue"),D$1(this,"intervalLength"),D$1(this,"isAxisVisible"),D$1(this,"isPanEnabled"),D$1(this,"isZoomEnabled"),D$1(this,"key"),D$1(this,"labelFormatter"),D$1(this,"layer"),D$1(this,"majorGridlineColor"),D$1(this,"majorGridlineStyle"),D$1(this,"majorGridlineThickness"),D$1(this,"majorStep"),D$1(this,"majorTickSize"),D$1(this,"maximum"),D$1(this,"maximumPadding"),D$1(this,"maximumDataMargin"),D$1(this,"maximumMargin"),D$1(this,"maximumRange"),D$1(this,"minimum"),D$1(this,"minimumMajorStep"),D$1(this,"minimumMinorStep"),D$1(this,"minimumPadding"),D$1(this,"minimumDataMargin"),D$1(this,"minimumMargin"),D$1(this,"minimumRange"),D$1(this,"minorGridlineColor"),D$1(this,"minorGridlineStyle"),D$1(this,"minorGridlineThickness"),D$1(this,"minorStep"),D$1(this,"minorTicklineColor"),D$1(this,"minorTickSize"),D$1(this,"position",AxisPosition.Left),D$1(this,"positionAtZeroCrossing",!1),D$1(this,"positionTier",0),D$1(this,"_screenMax",ScreenPoint_Undefined),D$1(this,"_screenMin",ScreenPoint_Undefined),D$1(this,"startPosition"),D$1(this,"stringFormatter"),D$1(this,"tickStyle"),D$1(this,"ticklineColor"),D$1(this,"title"),D$1(this,"titleClippingLength"),D$1(this,"titleColor"),D$1(this,"titleFont"),D$1(this,"titleFontSize"),D$1(this,"titleFontWeight"),D$1(this,"titleFormatter"),D$1(this,"titlePosition"),D$1(this,"unit"),D$1(this,"useSuperExponentialFormat",!1),D$1(this,"_desiredMargin",OxyThickness.Zero),D$1(this,"positionTierMaxShift",0),D$1(this,"positionTierMinShift",0),D$1(this,"positionTierSize",0),D$1(this,"viewMaximum"),D$1(this,"viewMinimum"),this.position=AxisPosition.Left,this.positionTier=0,this.isAxisVisible=!0,this.layer=AxisLayer.BelowSeries,this.viewMaximum=Number.NaN,this.viewMinimum=Number.NaN,this.absoluteMaximum=Number_MAX_VALUE,this.absoluteMinimum=Number_MIN_VALUE,this.minimum=Number.NaN,this.maximum=Number.NaN,this.minorStep=Number.NaN,this.majorStep=Number.NaN,this.minimumMinorStep=0,this.minimumMajorStep=0,this.minimumMajorIntervalCount=2,this.maximumMajorIntervalCount=Number_MAX_VALUE,this.minimumPadding=.01,this.maximumPadding=.01,this.minimumRange=0,this.maximumRange=Number.POSITIVE_INFINITY,this.minimumDataMargin=0,this.maximumDataMargin=0,this.minimumMargin=0,this.maximumMargin=0,this.tickStyle=TickStyle.Outside,this.ticklineColor=OxyColors.Black,this.minorTicklineColor=OxyColors.Automatic,this.axislineStyle=LineStyle.None,this.axislineColor=OxyColors.Black,this.axislineThickness=1,this.majorGridlineStyle=LineStyle.None,this.majorGridlineColor=OxyColor.fromArgb(64,0,0,0),this.majorGridlineThickness=1,this.minorGridlineStyle=LineStyle.None,this.minorGridlineColor=OxyColor.fromArgb(32,0,0,0),this.minorGridlineThickness=1,this.extraGridlineStyle=LineStyle.Solid,this.extraGridlineColor=OxyColors.Black,this.extraGridlineThickness=1,this.minorTickSize=4,this.majorTickSize=7,this.startPosition=0,this.endPosition=1,this.titlePosition=.5,this.titleFormatter=(t,r)=>`${t||""} [${r||""}]`,this.titleClippingLength=.9,this.titleColor=OxyColors.Automatic,this.titleFontSize=Number.NaN,this.titleFontWeight=FontWeights.Normal,this.clipTitle=!0,this.angle=0,this.isZoomEnabled=!0,this.isPanEnabled=!0,this.filterMinValue=Number_MIN_VALUE,this.filterMaxValue=Number_MAX_VALUE,this.filterFunction=void 0,this.intervalLength=60,this.axisDistance=0,this.axisTitleDistance=4,this.axisTickToLabelDistance=4,this.dataMaximum=Number.NaN,this.dataMinimum=Number.NaN}get actualMajorStep(){return this._actualMajorStep}set actualMajorStep(e){this._actualMajorStep=e}get actualMaximum(){return this._actualMaximum}set actualMaximum(e){this._actualMaximum=e}get actualMinimum(){return this._actualMinimum}set actualMinimum(e){this._actualMinimum=e}get clipMaximum(){return this._clipMaximum}set clipMaximum(e){this._clipMaximum=e}get clipMinimum(){return this._clipMinimum}set clipMinimum(e){this._clipMinimum=e}get actualMinorStep(){return this._actualMinorStep}set actualMinorStep(e){this._actualMinorStep=e}get actualStringFormatter(){return this._actualStringFormatter}set actualStringFormatter(e){this._actualStringFormatter=e}get actualTitle(){return this.unit?`${this.title} [${this.unit}]`:this.title}get dataMaximum(){return this._dataMaximum}set dataMaximum(e){this._dataMaximum=e}get dataMinimum(){return this._dataMinimum}set dataMinimum(e){this._dataMinimum=e}get isReversed(){return this.startPosition>this.endPosition}get offset(){return this._offset}get scale(){return this._scale}get screenMax(){return this._screenMax}set screenMax(e){this._screenMax=e}get screenMin(){return this._screenMin}set screenMin(e){this._screenMin=e}get desiredMargin(){return this._desiredMargin}set desiredMargin(e){this._desiredMargin=e}get actualTitleColor(){return this.titleColor.getActualColor(this.plotModel.textColor)}get actualTitleFont(){return this.titleFont||this.plotModel.defaultFont}get actualTitleFontSize(){return isNaN(this.titleFontSize)?this.actualFontSize:this.titleFontSize}get actualTitleFontWeight(){return isNaN(this.titleFontWeight)?this.actualFontWeight:this.titleFontWeight}itemToDouble(e){return Number(e)}static inverseTransform(e,t,r){return t.inverseTransformPoint(e.x,e.y,r)}formatValue(e){return this.labelFormatter?this.labelFormatter(e):this.formatValueOverride(e)}getTickValues(){const e=[],t=[],r=[],Ve=this.createTickValues(this.clipMinimum,this.clipMaximum,this.actualMinorStep);return t.push(...this.createTickValues(this.clipMinimum,this.clipMaximum,this.actualMajorStep)),e.push(...t),r.push(...AxisUtilities.filterRedundantMinorTicks(t,Ve)),{majorLabelValues:e,majorTickValues:t,minorTickValues:r}}getValue(e){return e}inverseTransformPoint(e,t,r){return newDataPoint(this.inverseTransform(e),r?r.inverseTransform(t):0)}inverseTransform(e){return e/this._scale+this._offset}isHorizontal(){return this.position===AxisPosition.Top||this.position===AxisPosition.Bottom}isValidValue(e){return Number.isFinite(e)&&e<this.filterMaxValue&&e>this.filterMinValue&&(!this.filterFunction||this.filterFunction(e))}isVertical(){return this.position===AxisPosition.Left||this.position===AxisPosition.Right}isLogarithmic(){return!1}measure(e){if(this.position===AxisPosition.None){this.desiredMargin=new OxyThickness(0);return}const{majorLabelValues:t}=this.getTickValues();let r=new OxySize;for(const Je of t){const Qe=this.formatValue(Je),ti=RenderingExtensions.measureText(e,Qe,this.actualFont,this.actualFontSize,this.actualFontWeight,this.angle);r=r.include(ti)}const Ve=e.measureText(this.actualTitle||"",this.actualTitleFont,this.actualTitleFontSize,this.actualTitleFontWeight);let je=0,ze=0,Xe=0,We=0;const qe=Math.max(0,this.isReversed?this.maximumMargin:this.minimumMargin),Ke=Math.max(0,this.isReversed?this.minimumMargin:this.maximumMargin);let Ze=0;switch(this.tickStyle){case TickStyle.Outside:Ze=this.majorTickSize;break;case TickStyle.Crossing:Ze=this.majorTickSize*.75;break}switch(Ze+=this.axisDistance+this.axisTickToLabelDistance,Ve.height>0&&(Ze+=this.axisTitleDistance+Ve.height),this.position){case AxisPosition.Left:je=Ze+r.width;break;case AxisPosition.Right:Xe=Ze+r.width;break;case AxisPosition.Top:ze=Ze+r.height;break;case AxisPosition.Bottom:We=Ze+r.height;break;case AxisPosition.All:je=Xe=Ze+r.width,ze=We=Ze+r.height;break;default:throw new Error("Invalid operation")}if(this.isPanEnabled||this.isZoomEnabled){const Je=Math.min(this.startPosition,this.endPosition)<.01,Qe=Math.max(this.startPosition,this.endPosition)>.99;switch(this.position){case AxisPosition.Left:case AxisPosition.Right:Je&&(We=Math.max(0,r.height/2-qe)),Qe&&(ze=Math.max(0,r.height/2-Ke));break;case AxisPosition.Top:case AxisPosition.Bottom:Je&&(je=Math.max(0,r.width/2-qe)),Qe&&(Xe=Math.max(0,r.width/2-Ke));break}}else if(t.length>0){const Je=Math.min(...t),Qe=Math.max(...t),ti=this.formatValue(Je),ni=this.formatValue(Qe);let ri=RenderingExtensions.measureText(e,ti,this.actualFont,this.actualFontSize,this.actualFontWeight,this.angle),ii=RenderingExtensions.measureText(e,ni,this.actualFont,this.actualFontSize,this.actualFontWeight,this.angle),ei=this.transform(Je),St=this.transform(Qe);ei>St&&([ei,St]=[St,ei],[ri,ii]=[ii,ri]);let oi=0,si=0,ai=0,ui=0;switch(this.position){case AxisPosition.Left:case AxisPosition.Right:oi=Math.min(this.screenMin.y,this.screenMax.y),si=Math.max(this.screenMin.y,this.screenMax.y),ze=Math.max(0,oi-ei+ri.height/2-qe),We=Math.max(0,St-si+ii.height/2-Ke);break;case AxisPosition.Top:case AxisPosition.Bottom:ai=Math.min(this.screenMin.x,this.screenMax.x),ui=Math.max(this.screenMin.x,this.screenMax.x),je=Math.max(0,ai-ei+ri.width/2-qe),Xe=Math.max(0,St-ui+ii.width/2-Ke);break}}this.desiredMargin=new OxyThickness(je,ze,Xe,We)}pan(e,t){if(typeof e=="number"){this.pan2(e);return}this.pan1(e,t)}pan1(e,t){if(!this.isPanEnabled)return;const r=this.isHorizontal()?t.x-e.x:t.y-e.y;this.pan(r)}pan2(e){if(!this.isPanEnabled)return;const t=this.actualMinimum,r=this.actualMaximum,Ve=e/this._scale;let je=this.actualMinimum-Ve,ze=this.actualMaximum-Ve;je<this.absoluteMinimum&&(je=this.absoluteMinimum,ze=Math.min(je+this.actualMaximum-this.actualMinimum,this.absoluteMaximum)),ze>this.absoluteMaximum&&(ze=this.absoluteMaximum,je=Math.max(ze-(this.actualMaximum-this.actualMinimum),this.absoluteMinimum)),this.viewMinimum=je,this.viewMaximum=ze,this.updateActualMaxMin();const Xe=this.actualMinimum-t,We=this.actualMaximum-r;this.onAxisChanged({changeType:AxisChangeTypes.Pan,deltaMaximum:We,deltaMinimum:Xe})}async render(e,t){this.position!==AxisPosition.None&&await new HorizontalAndVerticalAxisRenderer(e,this.plotModel).render(this,t)}reset(){const e=this.actualMinimum,t=this.actualMaximum;this.viewMinimum=NaN,this.viewMaximum=NaN,this.updateActualMaxMin();const r=this.actualMinimum-e,Ve=this.actualMaximum-t;this.onAxisChanged({changeType:AxisChangeTypes.Reset,deltaMinimum:r,deltaMaximum:Ve})}toString(){return`${this.constructor.name}(${this.position}, ${this.clipMinimum}, ${this.clipMaximum}, ${this.actualMajorStep})`}transformPoint(e,t,r){if(!r)throw new Error("Y axis should not be null when transforming.");return newScreenPoint(this.transform(e),r.transform(t))}transform(e){return(e-this._offset)*this._scale}zoomScale(e){const t=this.actualMinimum,r=this.actualMaximum,Ve=this.transform(this.actualMaximum),je=this.transform(this.actualMinimum),ze=Math.sign(this._scale),Xe=(this.preTransform(this.actualMaximum)+this.preTransform(this.actualMinimum))/2,We=(this._offset-Xe)*this._scale/(ze*e)+Xe;this.setTransform(ze*e,We);let qe=this.inverseTransform(Ve),Ke=this.inverseTransform(je);if(Ke<this.absoluteMinimum&&qe>this.absoluteMaximum)Ke=this.absoluteMinimum,qe=this.absoluteMaximum;else if(Ke<this.absoluteMinimum){const Qe=qe-Ke;Ke=this.absoluteMinimum,qe=this.absoluteMinimum+Qe,qe>this.absoluteMaximum&&(qe=this.absoluteMaximum)}else if(qe>this.absoluteMaximum){const Qe=qe-Ke;qe=this.absoluteMaximum,Ke=this.absoluteMaximum-Qe,Ke<this.absoluteMinimum&&(Ke=this.absoluteMinimum)}this.clipMaximum=this.viewMaximum=qe,this.clipMinimum=this.viewMinimum=Ke,this.updateActualMaxMin();const Ze=this.actualMinimum-t,Je=this.actualMaximum-r;this.actualMaximumAndMinimumChangedOverride(),this.onAxisChanged({changeType:AxisChangeTypes.Zoom,deltaMinimum:Ze,deltaMaximum:Je})}zoom(e,t){if(!this.isZoomEnabled)return;const r=this.actualMinimum,Ve=this.actualMaximum,je=Math.max(Math.min(e,t),this.absoluteMinimum),ze=Math.min(Math.max(e,t),this.absoluteMaximum);this.viewMinimum=je,this.viewMaximum=ze,this.updateActualMaxMin();const Xe=this.actualMinimum-r,We=this.actualMaximum-Ve;this.onAxisChanged({changeType:AxisChangeTypes.Zoom,deltaMinimum:Xe,deltaMaximum:We})}zoomAt(e,t){if(!this.isZoomEnabled)return;const r=this.actualMinimum,Ve=this.actualMaximum,je=(this.actualMinimum-t)*this._scale,ze=(this.actualMaximum-t)*this._scale;this._scale*=e;let Xe=je/this._scale+t,We=ze/this._scale+t;if(We-Xe>this.maximumRange){const Ze=(Xe+We)*.5;We=Ze+this.maximumRange*.5,Xe=Ze-this.maximumRange*.5}if(We-Xe<this.minimumRange){const Ze=(Xe+We)*.5;We=Ze+this.minimumRange*.5,Xe=Ze-this.minimumRange*.5}Xe=Math.max(Xe,this.absoluteMinimum),We=Math.min(We,this.absoluteMaximum),this.viewMinimum=Xe,this.viewMaximum=We,this.updateActualMaxMin();const qe=this.actualMinimum-r,Ke=this.actualMaximum-Ve;this.onAxisChanged({changeType:AxisChangeTypes.Zoom,deltaMinimum:qe,deltaMaximum:Ke})}zoomAtCenter(e){const t=(this.transform(this.clipMaximum)+this.transform(this.clipMinimum))*.5,r=this.inverseTransform(t);this.zoomAt(e,r)}include(e){this.isValidValue(e)&&(this.dataMinimum=isNaN(this.dataMinimum)?e:Math.min(this.dataMinimum,e),this.dataMaximum=isNaN(this.dataMaximum)?e:Math.max(this.dataMaximum,e))}resetDataMaxMin(){this.dataMaximum=this.dataMinimum=this.actualMaximum=this.actualMinimum=NaN}updateActualMaxMin(){isNaN(this.viewMaximum)?isNaN(this.maximum)?this.actualMaximum=this.calculateActualMaximum():this.actualMaximum=this.maximum:this.actualMaximum=this.viewMaximum,isNaN(this.viewMinimum)?isNaN(this.minimum)?this.actualMinimum=this.calculateActualMinimum():this.actualMinimum=this.minimum:this.actualMinimum=this.viewMinimum,this.coerceActualMaxMin()}updateIntervals(e){const t=this.intervalLength;let r=this.isHorizontal()?e.width:e.height;r*=Math.abs(this.endPosition-this.startPosition),this.actualMajorStep=isNaN(this.majorStep)?this.calculateActualInterval(r,t,this.minimumMajorIntervalCount,this.maximumMajorIntervalCount):this.majorStep,this.actualMinorStep=isNaN(this.minorStep)?this.calculateMinorInterval(this.actualMajorStep):this.minorStep,isNaN(this.actualMinorStep)&&(this.actualMinorStep=2),isNaN(this.actualMajorStep)&&(this.actualMajorStep=10),this.actualMinorStep=Math.max(this.actualMinorStep,this.minimumMinorStep),this.actualMajorStep=Math.max(this.actualMajorStep,this.minimumMajorStep),this.actualStringFormatter=this.stringFormatter||this.getDefaultStringFormatter()}updateTransform(e){const t=e.left,r=e.right,Ve=e.bottom,je=e.top;let ze=this.isHorizontal()?t:Ve,Xe=this.isHorizontal()?r:je;const We=Xe-ze;Xe=ze+this.endPosition*We,ze=ze+this.startPosition*We;const qe=this.isHorizontal()!=this.isReversed?1:-1;this.minimumMargin>0&&(ze+=this.minimumMargin*qe),this.maximumMargin>0&&(Xe-=this.maximumMargin*qe),this.isHorizontal()?(this.screenMin=newScreenPoint(ze,je),this.screenMax=newScreenPoint(Xe,Ve)):this.isVertical()&&(this.screenMin=newScreenPoint(t,Xe),this.screenMax=newScreenPoint(r,ze)),this.minimumDataMargin>0&&(ze+=this.minimumDataMargin*qe),this.maximumDataMargin>0&&(Xe-=this.maximumDataMargin*qe),this.actualMaximum-this.actualMinimum<=0&&(this.actualMaximum=this.actualMinimum+1);const Ke=this.preTransform(this.actualMaximum),Ze=this.preTransform(this.actualMinimum),Je=ze-Xe;let Qe,ti;Math.abs(Je)>Number.EPSILON?Qe=ze/Je*Ke-Xe/Je*Ze:Qe=0;const ni=Ke-Ze;Math.abs(ni)>Number.EPSILON?ti=(Xe-ze)/ni:ti=1,this.setTransform(ti,Qe),this.minimumDataMargin>0?this.clipMinimum=this.inverseTransform(ze-this.minimumDataMargin*qe):this.clipMinimum=this.actualMinimum,this.maximumDataMargin>0?this.clipMaximum=this.inverseTransform(Xe+this.maximumDataMargin*qe):this.clipMaximum=this.actualMaximum,this.actualMaximumAndMinimumChangedOverride()}actualMaximumAndMinimumChangedOverride(){}getDefaultStringFormatter(){return e=>pettyNumber(e,4)}postInverseTransform(e){return e}preTransform(e){return e}calculateMinorInterval(e){return AxisUtilities.calculateMinorInterval(e)}createTickValues(e,t,r,Ve=1e3){return AxisUtilities.createTickValues(e,t,r,Ve)}coerceActualMaxMin(){if(this.absoluteMaximum<=this.absoluteMinimum)throw new Error("AbsoluteMaximum must be larger than AbsoluteMinimum.");if(this.absoluteMaximum-this.absoluteMinimum<this.minimumRange)throw new Error("MinimumRange must not be larger than AbsoluteMaximum-AbsoluteMinimum.");if(this.maximumRange<this.minimumRange)throw new Error("MinimumRange must not be larger than MaximumRange.");if((isNaN(this.actualMinimum)||isInfinity(this.actualMinimum))&&(this.actualMinimum=0),(isNaN(this.actualMaximum)||isInfinity(this.actualMaximum))&&(this.actualMaximum=100),this.absoluteMinimum>Number_MIN_VALUE&&this.absoluteMinimum<Number_MAX_VALUE&&(this.actualMinimum=Math.max(this.actualMinimum,this.absoluteMinimum),this.maximumRange<Number_MAX_VALUE&&(this.actualMaximum=Math.min(this.actualMaximum,this.absoluteMinimum+this.maximumRange))),this.absoluteMaximum>Number_MIN_VALUE&&this.absoluteMaximum<Number_MAX_VALUE&&(this.actualMaximum=Math.min(this.actualMaximum,this.absoluteMaximum),this.maximumRange<Number_MAX_VALUE&&(this.actualMinimum=Math.max(this.actualMinimum,this.absoluteMaximum-this.maximumRange))),this.actualMaximum-this.actualMinimum<this.minimumRange)if(this.actualMinimum+this.minimumRange<this.absoluteMaximum){const e=(this.actualMaximum+this.actualMinimum)*.5,t=this.minimumRange/2;if(this.actualMinimum=e-t,this.actualMaximum=e+t,this.actualMinimum<this.absoluteMinimum){const r=this.absoluteMinimum-this.actualMinimum;this.actualMinimum=this.absoluteMinimum,this.actualMaximum+=r}if(this.actualMaximum>this.absoluteMaximum){const r=this.absoluteMaximum-this.actualMaximum;this.actualMaximum=this.absoluteMaximum,this.actualMinimum+=r}}else this.absoluteMaximum-this.minimumRange>this.absoluteMinimum?(this.actualMinimum=this.absoluteMaximum-this.minimumRange,this.actualMaximum=this.absoluteMaximum):(this.actualMaximum=this.absoluteMaximum,this.actualMinimum=this.absoluteMinimum);if(this.actualMaximum-this.actualMinimum>this.maximumRange)if(this.actualMinimum+this.maximumRange<this.absoluteMaximum){const e=(this.actualMaximum+this.actualMinimum)*.5,t=this.maximumRange/2;if(this.actualMinimum=e-t,this.actualMaximum=e+t,this.actualMinimum<this.absoluteMinimum){const r=this.absoluteMinimum-this.actualMinimum;this.actualMinimum=this.absoluteMinimum,this.actualMaximum+=r}if(this.actualMaximum>this.absoluteMaximum){const r=this.absoluteMaximum-this.actualMaximum;this.actualMaximum=this.absoluteMaximum,this.actualMinimum+=r}}else this.absoluteMaximum-this.maximumRange>this.absoluteMinimum?(this.actualMinimum=this.absoluteMaximum-this.maximumRange,this.actualMaximum=this.absoluteMaximum):(this.actualMaximum=this.absoluteMaximum,this.actualMinimum=this.absoluteMinimum);this.actualMaximum<=this.actualMinimum&&(this.actualMaximum=this.actualMinimum+100)}formatValueOverride(e){let t=this.stringFormatter;if(this.useSuperExponentialFormat&&e!==0){const r=wu.Exponent(e),Ve=wu.Mantissa(e);if(t){if(typeof t=="function")return`${t(e)}10^{${r}}`}else return Math.abs(Ve-1)<1e-6?`10^{${r}}`:`${Ve}10^{${r}}`;throw new Error("invalid stringFormat")}if(t=this.actualStringFormatter||this.stringFormatter,typeof t=="function")return t(e);if(!t)return e.toString();throw new Error("invalid stringFormat")}calculateActualMaximum(){let e=this.dataMaximum;if(this.dataMaximum-this.dataMinimum<=0){const t=this.dataMaximum>0?this.dataMaximum:1;e+=t*.5}if(!isNaN(this.dataMinimum)&&!isNaN(e)){const t=this.preTransform(e),r=this.preTransform(this.dataMinimum),Ve=this.maximumPadding*(t-r);return this.postInverseTransform(t+Ve)}return e}calculateActualMinimum(){let e=this.dataMinimum;if(this.dataMaximum-this.dataMinimum<=0){const t=this.dataMaximum>0?this.dataMaximum:1;e-=t*.5}if(!isNaN(this.actualMaximum)){const t=this.preTransform(this.actualMaximum),r=this.preTransform(e),Ve=this.maximumPadding,je=this.minimumPadding*((t-r)/(1+Ve));return this.postInverseTransform(r-je)}return e}setTransform(e,t){this._scale=e,this._offset=t,this.onTransformChanged()}calculateActualInterval(e,t,r,Ve,je){if(isNullOrUndef(je)&&(je=Math.abs(this.clipMinimum-this.clipMaximum)),e<=0)return t;if(Math.abs(t)<=0)throw new Error("Maximum interval size cannot be zero.");if(Math.abs(je)<=0)throw new Error("Range cannot be zero.");const ze=Ze=>Math.ceil(Math.log10(Ze)),Xe=Ze=>Ze/Math.pow(10,ze(Ze)-1);r=Math.max(r,0),Ve=Math.min(Ve,e/t),je=Math.abs(je);let We=Math.pow(10,ze(je)),qe=We;const Ke=Ze=>parseFloat(Ze.toPrecision(14));for(;Xe(qe)===5?qe=Ke(qe/2.5):qe=Ke(qe/2),!(je/We>=r&&je/qe>Ve||isNaN(qe)||isInfinity(qe));)We=qe;return We}onAxisChanged(e){this.updateActualMaxMin();const t=this.axisChanged;t&&t(this,e)}onTransformChanged(){const e=this.transformChanged;e&&e(this)}};D$1(Zt$1,"Exponent",$e=>Math.floor(Zt$1.ThresholdRound(Math.log(Math.abs($e))/Math.LN10))),D$1(Zt$1,"Mantissa",$e=>Zt$1.ThresholdRound($e/Math.pow(10,Zt$1.Exponent($e)))),D$1(Zt$1,"ThresholdRound",$e=>Math.abs(Math.round($e)-$e)<1e-6?Math.round($e):$e);let Axis=Zt$1;class LinearAxis extends Axis{constructor(e){super(),D$1(this,"formatAsFractions"),D$1(this,"fractionUnit"),D$1(this,"fractionUnitSymbol"),this.fractionUnit=1,this.fractionUnitSymbol=void 0,this.formatAsFractions=!1,e&&Object.assign(this,removeUndef(e))}isXyAxis(){return!0}isLogarithmic(){return!1}formatValueOverride(e){return this.formatAsFractions?FractionHelper.convertToFractionString(e,this.fractionUnit,this.fractionUnitSymbol,1e-6,this.stringFormatter):super.formatValueOverride(e)}}var AxisChangeTypes=($e=>($e[$e.Zoom=0]="Zoom",$e[$e.Pan=1]="Pan",$e[$e.Reset=2]="Reset",$e))(AxisChangeTypes||{}),AxisLayer=($e=>($e[$e.BelowSeries=0]="BelowSeries",$e[$e.AboveSeries=1]="AboveSeries",$e))(AxisLayer||{}),AxisPosition=($e=>($e[$e.None=0]="None",$e[$e.Left=1]="Left",$e[$e.Right=2]="Right",$e[$e.Top=3]="Top",$e[$e.Bottom=4]="Bottom",$e[$e.All=5]="All",$e))(AxisPosition||{});class AxisUtilities{static calculateMinorInterval(e){return Math.abs((Math.log10(e)+1e3)%1-Math.log10(2))<1e-10?e/4:e/5}static calculateMinorInterval2(e){const t=Math.ceil(Math.log(e)/Math.LN10);return(e/Math.pow(10,t-1)|0)===2?e/4:e/5}static createTickValues(e,t,r,Ve=1e3){if(r<=0)throw new Error("Step cannot be zero or negative.");t<e&&(r=-r);const je=r*.001;e-=je,t+=je;let ze=Math.ceil(e/r)*r;Math.abs(ze)<Number.EPSILON&&(ze=0);const Xe=[],We=Math.sign(r);let qe=0,Ke=ze;for(;(t-Ke)*We>=0&&qe<Ve;)Xe.push(Ke),Ke=ze+ ++qe*r;return Xe}static filterRedundantMinorTicks(e,t){if(e.length===0||t.length===0)return t;const r=[];let Ve=0,je=1,ze=e.length>1?e[je]:e[0];const Xe=(Ke,Ze)=>Math.abs(Ke-Ze)*.001;let We=t.length>1?Xe(t[0],t[1]):0,qe=1;e.length>1&&e[0]>e[1]&&(qe=-1);for(let Ke=0;Ke<t.length;Ke++){const Ze=t[Ke];for(Ke>0&&(We=Xe(Ze,Ve));(ze-Ze)*qe<0&&je<e.length-1;)ze=e[++je];const Je=e[je-1];Math.abs(Ze-ze)>We&&Math.abs(Ze-Je)>We&&r.push(Ze),Ve=Ze}return r}}class CategoryAxis extends LinearAxis{constructor(e){super(e),D$1(this,"_autoGeneratedLabels",[]),D$1(this,"_itemsSourceLabels",[]),D$1(this,"gapWidth"),D$1(this,"isTickCentered",!1),D$1(this,"itemsSource"),D$1(this,"labelField"),D$1(this,"_labels",[]),this.tickStyle=TickStyle.Outside,this.position=AxisPosition.Bottom,this.minimumPadding=0,this.maximumPadding=0,this.majorStep=1,this.gapWidth=1,e&&Object.assign(this,removeUndef(e))}get actualLabels(){return this.itemsSource?this._itemsSourceLabels:this.labels.length>0?this.labels:this._autoGeneratedLabels}get labels(){return this._labels}getTickValues(){const{majorLabelValues:e,majorTickValues:t,minorTickValues:r}=super.getTickValues();if(r.length=0,!this.isTickCentered){let Ve=[];if(Ve=e.map(je=>je-.5).filter(je=>je>this.clipMinimum-.001),Ve.length>0){const je=Ve[Ve.length-1]+this.majorStep;je<this.clipMaximum+.001&&Ve.push(je)}t.length=0,t.push(...Ve)}return{majorLabelValues:e,majorTickValues:t,minorTickValues:r}}getValue(e){return this.formatValue(e)}updateActualMaxMin(){this.include(-.5);const e=this.actualLabels;e.length>0?this.include(e.length-1+.5):this.include(.5),super.updateActualMaxMin(),this.minorStep=1}updateLabels(e){if(this.itemsSource){this._itemsSourceLabels.length=0;const t=[];for(let r of this.itemsSource||[])r=this.labelField?r[this.labelField]:r,this.stringFormatter?t.push(this.stringFormatter(r)):t.push(r.toString());this._itemsSourceLabels.push(...t);return}if(this.labels.length===0){if(this._autoGeneratedLabels.length===e)return;this._autoGeneratedLabels.length=0,this._autoGeneratedLabels.push(...Array.from({length:e},(t,r)=>(r+1).toString()))}}formatValueOverride(e){const t=Math.floor(e),r=this.actualLabels;return t>=0&&t<r.length?r[t]:""}}var TickStyle=($e=>($e[$e.Crossing=0]="Crossing",$e[$e.Inside=1]="Inside",$e[$e.Outside=2]="Outside",$e[$e.None=3]="None",$e))(TickStyle||{});class AxisRendererBase{constructor(e,t){D$1(this,"_plot"),D$1(this,"rc"),D$1(this,"minorTickValues",[]),D$1(this,"axislinePen"),D$1(this,"extraPen"),D$1(this,"majorLabelValues",[]),D$1(this,"majorPen"),D$1(this,"majorTickPen"),D$1(this,"majorTickValues",[]),D$1(this,"minorPen"),D$1(this,"minorTickPen"),D$1(this,"zeroPen"),this._plot=t,this.rc=e}get plot(){return this._plot}get renderContext(){return this.rc}async render(e,t){if(!e)return;const{majorLabelValues:r,majorTickValues:Ve,minorTickValues:je}=e.getTickValues();this.majorLabelValues=r,this.majorTickValues=Ve,this.minorTickValues=je,this.createPens(e)}createPens(e){const t=e.minorTicklineColor.isAutomatic()?e.ticklineColor:e.minorTicklineColor;this.minorPen=OxyPen.create(e.minorGridlineColor,e.minorGridlineThickness,e.minorGridlineStyle),this.majorPen=OxyPen.create(e.majorGridlineColor,e.majorGridlineThickness,e.majorGridlineStyle),this.minorTickPen=OxyPen.create(t,e.minorGridlineThickness),this.majorTickPen=OxyPen.create(e.ticklineColor,e.majorGridlineThickness),this.zeroPen=OxyPen.create(e.ticklineColor,e.majorGridlineThickness),this.extraPen=OxyPen.create(e.extraGridlineColor,e.extraGridlineThickness,e.extraGridlineStyle),this.axislinePen=OxyPen.create(e.axislineColor,e.axislineThickness,e.axislineStyle)}getTickPositions(e,t,r,Ve){let je=0,ze=0;const Xe=Ve===AxisPosition.Top||Ve===AxisPosition.Left?-1:1;switch(t){case TickStyle.Crossing:je=-r*Xe*.75,ze=r*Xe*.75;break;case TickStyle.Inside:je=-r*Xe;break;case TickStyle.Outside:ze=r*Xe;break}return[je,ze]}isWithin(e,t,r){return e<t?!1:e<=r}}class HorizontalAndVerticalAxisRenderer extends AxisRendererBase{constructor(e,t){super(e,t)}async render(e,t){await super.render(e,t);let r=!0;const Ve=e.axisDistance+e.positionTierMinShift,je=e.positionTierSize-this.plot.axisTierDistance,ze=this.plot.plotArea.left,Xe=this.plot.plotArea.right,We=this.plot.plotArea.top,qe=this.plot.plotArea.bottom;let Ke=0,Ze=0;switch(e.position){case AxisPosition.Left:Ke=ze-Ve;break;case AxisPosition.Right:Ke=Xe+Ve;break;case AxisPosition.Top:Ke=We-Ve;break;case AxisPosition.Bottom:Ke=qe+Ve;break}if(e.positionAtZeroCrossing){const Je=e.isHorizontal()?this.plot.defaultYAxis:this.plot.defaultXAxis;Ke=Je.transform(0);const Qe=e.isHorizontal()?Je.screenMin.y:Je.screenMin.x,ti=e.isHorizontal()?Je.screenMax.y:Je.screenMax.x;let ni=Math.min(Qe,ti),ri=Math.max(Qe,ti);const ii=e.isHorizontal()?We:ze,ei=e.isHorizontal()?qe:Xe;if(ni=Math.max(ni,ii),ri=Math.min(ri,ei),Ke<ni){Ke=ni;const St=e.isHorizontal()?this.plot.plotAreaBorderThickness.top:this.plot.plotAreaBorderThickness.left,oi=e.isHorizontal()?this.plot.plotArea.top:this.plot.plotArea.left;Ke<=oi&&St>0&&this.plot.plotAreaBorderColor.isVisible()&&(r=!1)}if(Ke>ri){Ke=ri;const St=e.isHorizontal()?this.plot.plotAreaBorderThickness.bottom:this.plot.plotAreaBorderThickness.right,oi=e.isHorizontal()?this.plot.plotArea.bottom:this.plot.plotArea.right;Ke>=oi&&St>0&&this.plot.plotAreaBorderColor.isVisible()&&(r=!1)}}switch(e.position){case AxisPosition.Left:Ze=Ke-je;break;case AxisPosition.Right:Ze=Ke+je;break;case AxisPosition.Top:Ze=Ke-je;break;case AxisPosition.Bottom:Ze=Ke+je;break}switch(e.position){case AxisPosition.Left:case AxisPosition.Top:Ze+=e.axisDistance;break;case AxisPosition.Right:case AxisPosition.Bottom:Ze-=e.axisDistance;break}t==0&&await this.renderMinorItems(e,Ke),t==1&&(await this.renderMajorItems(e,Ke,Ze,r),await this.renderAxisTitle(e,Ze))}static lerp(e,t,r){return e*(1-r)+t*r}static snapTo(e,t,r=.5){return t>e-r&&t<e+r?e:t}getAxisTitlePositionAndAlignment(e,t){let r=-90,Ve=HorizontalAlignment.Center,je=VerticalAlignment.Top,ze=e.isHorizontal()?HorizontalAndVerticalAxisRenderer.lerp(e.screenMin.x,e.screenMax.x,e.titlePosition):HorizontalAndVerticalAxisRenderer.lerp(e.screenMax.y,e.screenMin.y,e.titlePosition);e.positionAtZeroCrossing&&(ze=HorizontalAndVerticalAxisRenderer.lerp(e.transform(e.clipMaximum),e.transform(e.clipMinimum),e.titlePosition));let Xe=ScreenPoint_LeftTop;switch(e.position){case AxisPosition.Left:Xe=newScreenPoint(t,ze);break;case AxisPosition.Right:je=VerticalAlignment.Bottom,Xe=newScreenPoint(t,ze);break;case AxisPosition.Top:Ve=HorizontalAlignment.Center,je=VerticalAlignment.Top,r=0,Xe=newScreenPoint(ze,t);break;case AxisPosition.Bottom:Ve=HorizontalAlignment.Center,je=VerticalAlignment.Bottom,r=0,Xe=newScreenPoint(ze,t);break;default:throw new Error("Invalid axis position")}return{point:Xe,angle:r,halign:Ve,valign:je}}async renderAxisTitle(e,t){if(!e.actualTitle)return;const r=e.isHorizontal();let Ve;if(e.clipTitle){const qe=Math.abs(r?e.screenMax.x-e.screenMin.x:e.screenMax.y-e.screenMin.y);Ve=new OxySize(qe*e.titleClippingLength,Number_MAX_VALUE)}const{point:je,angle:ze,halign:Xe,valign:We}=this.getAxisTitlePositionAndAlignment(e,t);await MathRenderingExtensions.drawMathText(this.renderContext,je,e.actualTitle,e.actualTitleColor,e.actualTitleFont,e.actualTitleFontSize,e.actualTitleFontWeight,ze,Xe,We,Ve)}async renderMajorItems(e,t,r,Ve){const je=e.actualMinorStep*.001,ze=e.clipMinimum,Xe=e.clipMaximum,We=this.plot.plotArea.left,qe=this.plot.plotArea.right,Ke=this.plot.plotArea.top,Ze=this.plot.plotArea.bottom,Je=e.isHorizontal(),Qe=e.cropGridlines,ti=[],ni=[],[ri,ii]=this.getTickPositions(e,e.tickStyle,e.majorTickSize,e.position),ei=e.isHorizontal()?this.plot.defaultYAxis:this.plot.defaultXAxis,St=e.positionAtZeroCrossing&&(ei==null?void 0:ei.positionAtZeroCrossing);let oi=[];Qe&&(Je?oi=this.plot.axes.filter(ui=>ui.isXyAxis()&&ui.isVertical()):oi=this.plot.axes.filter(ui=>ui.isXyAxis()&&ui.isHorizontal()));const si=HorizontalAndVerticalAxisRenderer.snapTo;for(const ui of this.majorTickValues){if(St&&Math.abs(ui)<je)continue;let hi=e.transform(ui);Je?(hi=si(We,hi),hi=si(qe,hi)):(hi=si(Ke,hi),hi=si(Ze,hi)),this.majorPen&&this.addSegments(ti,oi,Je,Qe,hi,We,qe,Ke,Ze),e.tickStyle!=TickStyle.None&&e.majorTickSize>0&&(Je?(ni.push(newScreenPoint(hi,t+ri)),ni.push(newScreenPoint(hi,t+ii))):(ni.push(newScreenPoint(t+ri,hi)),ni.push(newScreenPoint(t+ii,hi))))}for(const ui of this.majorLabelValues){if(ui<ze-je||ui>Xe+je||St&&Math.abs(ui)<je)continue;let hi=e.transform(ui);Je?(hi=si(We,hi),hi=si(qe,hi)):(hi=si(Ke,hi),hi=si(Ze,hi));let ci=ScreenPoint_LeftTop,mi=[HorizontalAlignment.Center,VerticalAlignment.Middle];switch(e.position){case AxisPosition.Left:ci=newScreenPoint(t+ii-e.axisTickToLabelDistance,hi),mi=this.getRotatedAlignments(e.angle,-90);break;case AxisPosition.Right:ci=newScreenPoint(t+ii+e.axisTickToLabelDistance,hi),mi=this.getRotatedAlignments(e.angle,90);break;case AxisPosition.Top:ci=newScreenPoint(hi,t+ii-e.axisTickToLabelDistance),mi=this.getRotatedAlignments(e.angle,0);break;case AxisPosition.Bottom:ci=newScreenPoint(hi,t+ii+e.axisTickToLabelDistance),mi=this.getRotatedAlignments(e.angle,-180);break}const[di,pi]=mi,yi=e.formatValue(ui);await MathRenderingExtensions.drawMathText(this.renderContext,ci,yi,e.actualTextColor,e.actualFont,e.actualFontSize,e.actualFontWeight,e.angle,di,pi)}const ai=RenderingExtensions.getActualEdgeRenderingMode(e.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);if(e.extraGridlines&&this.extraPen){const ui=[];for(const hi of e.extraGridlines){if(!this.isWithin(hi,ze,Xe))continue;const ci=e.transform(hi);this.addSegments(ui,oi,Je,Qe,ci,We,qe,Ke,Ze)}await RenderingExtensions.drawLineSegments(this.renderContext,ui,this.extraPen,ai)}Ve&&(Je?await RenderingExtensions.drawLine(this.renderContext,e.transform(ze),t,e.transform(Xe),t,this.axislinePen,ai):await RenderingExtensions.drawLine(this.renderContext,t,e.transform(ze),t,e.transform(Xe),this.axislinePen,ai)),this.majorPen&&await RenderingExtensions.drawLineSegments(this.renderContext,ti,this.majorPen,ai),this.majorTickPen&&await RenderingExtensions.drawLineSegments(this.renderContext,ni,this.majorTickPen,ai)}async renderMinorItems(e,t){const r=e.actualMinorStep*.001,Ve=this.plot.plotArea.left,je=this.plot.plotArea.right,ze=this.plot.plotArea.top,Xe=this.plot.plotArea.bottom,We=e.cropGridlines,qe=e.isHorizontal(),Ke=[],Ze=[];let Je=[];We&&(qe?Je=this.plot.axes.filter(ii=>ii.isXyAxis()&&ii.isVertical()):Je=this.plot.axes.filter(ii=>ii.isXyAxis()&&ii.isHorizontal()));const[Qe,ti]=this.getTickPositions(e,e.tickStyle,e.minorTickSize,e.position),ni=HorizontalAndVerticalAxisRenderer.snapTo;for(const ii of this.minorTickValues){if(e.positionAtZeroCrossing&&Math.abs(ii)<r)continue;let ei=e.transform(ii);qe?(ei=ni(Ve,ei),ei=ni(je,ei)):(ei=ni(ze,ei),ei=ni(Xe,ei)),this.minorPen&&this.addSegments(Ke,Je,qe,We,ei,Ve,je,ze,Xe),e.tickStyle!=TickStyle.None&&e.minorTickSize>0&&(qe?(Ze.push(newScreenPoint(ei,t+Qe)),Ze.push(newScreenPoint(ei,t+ti))):(Ze.push(newScreenPoint(t+Qe,ei)),Ze.push(newScreenPoint(t+ti,ei))))}const ri=RenderingExtensions.getActualEdgeRenderingMode(e.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);this.minorPen&&await RenderingExtensions.drawLineSegments(this.renderContext,Ke,this.minorPen,ri),this.minorTickPen&&await RenderingExtensions.drawLineSegments(this.renderContext,Ze,this.minorTickPen,ri)}addSegments(e,t,r,Ve,je,ze,Xe,We,qe){if(r)if(!Ve)e.push(newScreenPoint(je,We)),e.push(newScreenPoint(je,qe));else for(const Ke of t)e.push(newScreenPoint(je,Ke.transform(Ke.clipMinimum))),e.push(newScreenPoint(je,Ke.transform(Ke.clipMaximum)));else if(!Ve)e.push(newScreenPoint(ze,je)),e.push(newScreenPoint(Xe,je));else for(const Ke of t)e.push(newScreenPoint(Ke.transform(Ke.clipMinimum),je)),e.push(newScreenPoint(Ke.transform(Ke.clipMaximum),je))}getRotatedAlignments(e,t){const r=(t+360)%360-180;let Ve=e>=Math.min(t,r)&&e<Math.max(t,r)?HorizontalAlignment.Left:HorizontalAlignment.Right,je=VerticalAlignment.Middle;return t<0&&(Ve=Ve===HorizontalAlignment.Left?HorizontalAlignment.Right:HorizontalAlignment.Left),(Math.abs(e-r)<10||Math.abs(e-t)<10)&&(Ve=HorizontalAlignment.Center),Math.abs(e-t)<10&&(je=VerticalAlignment.Bottom),Math.abs(e-r)<10&&(je=VerticalAlignment.Top),[Ve,je]}}const degree=180/Math.PI,rad=Math.PI/180,ee$1=class js extends AxisRendererBase{constructor(e,t){super(e,t)}async render(e,t){await super.render(e,t);const r=this.plot.defaultAngleAxis,Ve=this.plot.defaultMagnitudeAxis;if(!r)throw new Error("Angle axis should not be undefined.");r.updateActualMaxMin();const je=Math.abs(e.plotModel.plotArea.top-Ve.midPoint.y),ze=Math.abs(e.plotModel.plotArea.bottom-Ve.midPoint.y),Xe=Math.abs(e.plotModel.plotArea.left-Ve.midPoint.x),We=Math.abs(e.plotModel.plotArea.right-Ve.midPoint.x),qe=e.plotModel.plotArea.offset(-Ve.midPoint.x,-Ve.midPoint.y),Ke=-degree*Math.atan2(qe.top,qe.right);let Ze=-degree*Math.atan2(qe.top,qe.left),Je=360-degree*Math.atan2(qe.bottom,qe.left);const Qe=360-degree*Math.atan2(qe.bottom,qe.right);Ze<0&&(Ze+=360),Je>360&&(Je-=360);const ti=Math.sqrt(Math.pow(qe.top,2)+Math.pow(qe.right,2)),ni=Math.sqrt(Math.pow(qe.top,2)+Math.pow(qe.left,2)),ri=Math.sqrt(Math.pow(qe.bottom,2)+Math.pow(qe.left,2)),ii=Math.sqrt(Math.pow(qe.bottom,2)+Math.pow(qe.right,2));if(t===0&&this.minorPen){const ei=this.minorPen;for(const St of this.minorTickValues){const oi=e.transform(St);let si=0,ai=90,ui=90,hi=180,ci=180,mi=270,di=270,pi=360;const yi=We/oi,gi=je/oi,_i=Xe/oi,Ai=ze/oi;oi>We&&(pi=360-degree*Math.acos(yi),si=degree*Math.acos(yi)),oi>je&&(ai=degree*Math.asin(gi),ui=180-degree*Math.asin(gi)),oi>Xe&&(hi=180-degree*Math.acos(_i),ci=180+degree*Math.acos(_i)),oi>ze&&(mi=180+degree*Math.asin(Ai),di=360-degree*Math.asin(Ai)),oi<=ti&&(si<Ke&&await this.renderTickArc(e,r,St,ei,si+r.offset,Ke+r.offset),Ke<ai&&await this.renderTickArc(e,r,St,ei,Ke+r.offset,ai+r.offset)),oi<=ni&&(ui<Ze&&await this.renderTickArc(e,r,St,ei,ui+r.offset,Ze+r.offset),Ze<hi&&await this.renderTickArc(e,r,St,ei,Ze+r.offset,hi+r.offset)),oi<=ri&&(ci<Je&&await this.renderTickArc(e,r,St,ei,ci+r.offset,Je+r.offset),Je<mi&&await this.renderTickArc(e,r,St,ei,Je+r.offset,mi+r.offset)),oi<=ii&&(di<Qe&&await this.renderTickArc(e,r,St,ei,di+r.offset,Qe+r.offset),Qe<pi&&await this.renderTickArc(e,r,St,ei,Qe+r.offset,pi+r.offset))}}if(t===0&&this.majorPen){const ei=this.majorPen;for(const St of this.majorTickValues){const oi=e.transform(St);let si=0,ai=90,ui=90,hi=180,ci=180,mi=270,di=270,pi=360;const yi=We/oi,gi=je/oi,_i=Xe/oi,Ai=ze/oi;oi>We&&(pi=360-degree*Math.acos(yi),si=degree*Math.acos(yi)),oi>je&&(ai=degree*Math.asin(gi),ui=180-degree*Math.asin(gi)),oi>Xe&&(hi=180-degree*Math.acos(_i),ci=180+degree*Math.acos(_i)),oi>ze&&(mi=180+degree*Math.asin(Ai),di=360-degree*Math.asin(Ai)),oi<=ti&&(si<Ke&&await this.renderTickArc(e,r,St,ei,si+r.offset,Ke+r.offset),Ke<ai&&await this.renderTickArc(e,r,St,ei,Ke+r.offset,ai+r.offset)),oi<=ni&&(ui<Ze&&await this.renderTickArc(e,r,St,ei,ui+r.offset,Ze+r.offset),Ze<hi&&await this.renderTickArc(e,r,St,ei,Ze+r.offset,hi+r.offset)),oi<=ri&&(ci<Je&&await this.renderTickArc(e,r,St,ei,ci+r.offset,Je+r.offset),Je<mi&&await this.renderTickArc(e,r,St,ei,Je+r.offset,mi+r.offset)),oi<=ii&&(di<Qe&&await this.renderTickArc(e,r,St,ei,di+r.offset,Qe+r.offset),Qe<pi&&await this.renderTickArc(e,r,St,ei,Qe+r.offset,pi+r.offset))}}if(t===1){const ei=RenderingExtensions.autoResetClip(this.renderContext,OxyRect.fromScreenPoints(e.screenMin,e.screenMax));for(const St of this.majorLabelValues)await this.renderTickText(e,St,r);ei.dispose()}}static getActualAngle(e,t){const r=e.transformPoint(0,t.angle,t),Ve=e.transformPoint(1,t.angle,t);return Math.atan2(Ve.y-r.y,Ve.x-r.x)}static getTickTextAligment(e){let t=HorizontalAlignment.Center,r=VerticalAlignment.Bottom;return e>3*Math.PI/4||e<-3*Math.PI/4?(t=HorizontalAlignment.Center,r=VerticalAlignment.Top):e<-Math.PI/4?(t=HorizontalAlignment.Right,r=VerticalAlignment.Middle):e>Math.PI/4?(t=HorizontalAlignment.Left,r=VerticalAlignment.Middle):(t=HorizontalAlignment.Center,r=VerticalAlignment.Bottom),[t,r]}async renderTickArc(e,t,r,Ve,je,ze){let Xe=js.maxSegments*Math.abs(ze-je)/360;(t.fractionUnit===Math.PI||t.actualMaximum===2*Math.PI)&&(Xe=js.maxSegments*Math.abs(ze-je)/(2*Math.PI),je*=rad,ze*=rad),Xe=Math.max(Xe,2),Xe=Math.min(Xe,js.maxSegments);const We=Math.abs(ze-je)/(Xe-1),qe=[];for(let Ke=0;Ke<Xe;Ke++){const Ze=je+Ke*We,Je=e.transformPoint(r,Ze,t);qe.push(Je)}await this.renderContext.drawLine(qe,Ve.color,Ve.thickness,e.edgeRenderingMode,Ve.actualDashArray)}async renderTickText(e,t,r){const Ve=js.getActualAngle(e,r),je=e.axisTickToLabelDistance*Math.sin(Ve),ze=-e.axisTickToLabelDistance*Math.cos(Ve),[Xe,We]=js.getTickTextAligment(Ve);let qe=e.transformPoint(t,r.angle,r);qe=newScreenPoint(qe.x+je,qe.y+ze);const Ke=e.formatValue(t);await MathRenderingExtensions.drawMathText(this.renderContext,qe,Ke,e.actualTextColor,e.actualFont,e.actualFontSize,e.actualFontWeight,e.angle,Xe,We)}};D$1(ee$1,"maxSegments",180);var DateTimeIntervalType=($e=>($e[$e.Auto=0]="Auto",$e[$e.Manual=1]="Manual",$e[$e.Milliseconds=2]="Milliseconds",$e[$e.Seconds=3]="Seconds",$e[$e.Minutes=4]="Minutes",$e[$e.Hours=5]="Hours",$e[$e.Days=6]="Days",$e[$e.Weeks=7]="Weeks",$e[$e.Months=8]="Months",$e[$e.Years=9]="Years",$e))(DateTimeIntervalType||{});const Lt$1=class io extends LinearAxis{constructor(e){super(e),D$1(this,"actualIntervalType",DateTimeIntervalType.Auto),D$1(this,"actualMinorIntervalType",DateTimeIntervalType.Auto),D$1(this,"_dateService"),D$1(this,"firstDayOfWeek"),D$1(this,"intervalType"),D$1(this,"minorIntervalType",DateTimeIntervalType.Auto),D$1(this,"timeZone"),this.position=AxisPosition.Bottom,this.intervalType=DateTimeIntervalType.Auto,this.firstDayOfWeek=DayOfWeek.Monday,this._dateService=getDateService(),e&&Object.assign(this,removeUndef(e))}static createDataPoint(e,t){return newDataPoint(io.toDouble(e),t)}static toDateTime(e){return isNaN(e)||e<io.MinDayValue||e>io.MaxDayValue?new Date:getDateService().addTimespan(io.TimeOrigin,TimeSpan.fromDays(e-1))}static toDouble(e){return getDateService().diff(e,io.TimeOrigin).totalDays+1}itemToDouble(e){return e instanceof Date?io.toDouble(e):super.itemToDouble(e)}getTickValues(){let e=this.createDateTimeTickValues(this.clipMinimum,this.clipMaximum,this.actualMinorStep,this.actualMinorIntervalType);const t=this.createDateTimeTickValues(this.clipMinimum,this.clipMaximum,this.actualMajorStep,this.actualIntervalType),r=t;return e=AxisUtilities.filterRedundantMinorTicks(t,e),{majorLabelValues:r,majorTickValues:t,minorTickValues:e}}getValue(e){const t=io.toDateTime(e);return this.timeZone?this._dateService.convertTime(t,this.timeZone):t}updateIntervals(e){super.updateIntervals(e);const t=!isNullOrUndef(this.stringFormatter);switch(this.actualIntervalType){case DateTimeIntervalType.Years:this.actualMinorStep=31,this.actualMinorIntervalType=DateTimeIntervalType.Years,t||(this.actualStringFormatter=r=>this._dateService.format(r,"YYYY"));break;case DateTimeIntervalType.Months:this.actualMinorIntervalType=DateTimeIntervalType.Months,t||(this.actualStringFormatter=r=>this._dateService.format(r,"YYYY-MM-DD"));break;case DateTimeIntervalType.Weeks:this.actualMinorIntervalType=DateTimeIntervalType.Days,this.actualMajorStep=7,this.actualMinorStep=1,t||(this.actualStringFormatter=r=>this._dateService.format(r,"YYYY/ww"));break;case DateTimeIntervalType.Days:this.actualMinorStep=this.actualMajorStep,t||(this.actualStringFormatter=r=>this._dateService.format(r,"YYYY-MM-DD"));break;case DateTimeIntervalType.Hours:this.actualMinorStep=this.actualMajorStep,t||(this.actualStringFormatter=r=>this._dateService.format(r,"HH:mm"));break;case DateTimeIntervalType.Minutes:this.actualMinorStep=this.actualMajorStep,t||(this.actualStringFormatter=r=>this._dateService.format(r,"HH:mm"));break;case DateTimeIntervalType.Seconds:this.actualMinorStep=this.actualMajorStep,t||(this.actualStringFormatter=r=>this._dateService.format(r,"HH:mm:ss"));break;case DateTimeIntervalType.Milliseconds:this.actualMinorStep=this.actualMajorStep,t||(this.actualStringFormatter=r=>this._dateService.format(r,"HH:mm:ss.SSS"));break;case DateTimeIntervalType.Manual:break;case DateTimeIntervalType.Auto:break}}getDefaultStringFormatter(){return e=>this._dateService.format(e,"yyyy-MM-dd")}formatValueOverride(e){let t=io.toDateTime(e);this.timeZone&&(t=this._dateService.convertTime(t,this.timeZone));const r=this.actualStringFormatter;return r?r(t):t.toLocaleDateString()}calculateActualInterval(e,t,r,Ve,je){const ze=.041666666666666664,Xe=ze/60,We=Xe/60,qe=We/1e3;je=Math.abs(this.clipMinimum-this.clipMaximum);const Ke=[qe,2*qe,10*qe,100*qe,We,2*We,5*We,10*We,30*We,Xe,2*Xe,5*Xe,10*Xe,30*Xe,ze,4*ze,8*ze,12*ze,1,2*1,5*1,7,2*7,30.5,2*30.5,3*30.5,4*30.5,6*30.5,365.25];let Ze=Ke[0];for(r=Math.max(r,0),Ve=Math.min(Ve,Math.max(Math.floor(e/t),2));!(je/Ze<Ve);){let Je=Ke.find(Qe=>Qe>Ze);if(isUndef(Je))throw new Error(`cannot calculate interval,range=${je}`);if(Math.abs(Je)<=0&&(Je=Ze*2),je/Je<r)break;Ze=Je}if(this.actualIntervalType=this.intervalType,this.actualMinorIntervalType=this.minorIntervalType,this.intervalType===DateTimeIntervalType.Auto&&(this.actualIntervalType=DateTimeIntervalType.Milliseconds,Ze>=1/24/60/60&&(this.actualIntervalType=DateTimeIntervalType.Seconds),Ze>=1/24/60&&(this.actualIntervalType=DateTimeIntervalType.Minutes),Ze>=1/24&&(this.actualIntervalType=DateTimeIntervalType.Hours),Ze>=1&&(this.actualIntervalType=DateTimeIntervalType.Days),Ze>=30&&(this.actualIntervalType=DateTimeIntervalType.Months),je>=365.25&&(this.actualIntervalType=DateTimeIntervalType.Years)),this.actualIntervalType===DateTimeIntervalType.Months){const Je=je/30.5;Ze=super.calculateActualInterval(e,t,this.minimumMajorIntervalCount,this.maximumMajorIntervalCount,Je)}if(this.actualIntervalType===DateTimeIntervalType.Years){const Je=je/365.25;Ze=super.calculateActualInterval(e,t,this.minimumMajorIntervalCount,this.maximumMajorIntervalCount,Je)}if(this.actualMinorIntervalType===DateTimeIntervalType.Auto)switch(this.actualIntervalType){case DateTimeIntervalType.Years:this.actualMinorIntervalType=DateTimeIntervalType.Months;break;case DateTimeIntervalType.Months:this.actualMinorIntervalType=DateTimeIntervalType.Days;break;case DateTimeIntervalType.Weeks:this.actualMinorIntervalType=DateTimeIntervalType.Days;break;case DateTimeIntervalType.Days:this.actualMinorIntervalType=DateTimeIntervalType.Hours;break;case DateTimeIntervalType.Hours:this.actualMinorIntervalType=DateTimeIntervalType.Minutes;break;default:this.actualMinorIntervalType=DateTimeIntervalType.Days;break}return Ze}createDateTickValues(e,t,r,Ve){const je=[];let ze=io.toDateTime(e);if(!ze)return je;let Xe=0;switch(Ve){case DateTimeIntervalType.Weeks:Xe=this._dateService.dayOfWeek(ze),ze=this._dateService.addTimespan(ze,TimeSpan.fromDays(-Xe+this.firstDayOfWeek));break;case DateTimeIntervalType.Months:ze=new Date(ze.getFullYear(),ze.getMonth(),1);break;case DateTimeIntervalType.Years:ze=new Date(ze.getFullYear(),0,1);break}const We=this._dateService.addTimespan(io.toDateTime(t),TimeSpan.fromMilliseconds(1));if(!We)return je;let qe=ze;const Ke=r*.001,Ze=io.toDateTime(e-Ke),Je=io.toDateTime(t+Ke);if(!Ze||!Je)return je;for(;qe<We;)switch(qe>Ze&&qe<Je&&je.push(io.toDouble(qe)),Ve){case DateTimeIntervalType.Months:qe=this._dateService.addMonths(qe,Math.ceil(r));break;case DateTimeIntervalType.Years:qe=this._dateService.addYears(qe,Math.ceil(r));break;default:qe=this._dateService.addTimespan(qe,TimeSpan.fromDays(r));break}return je}createDateTimeTickValues(e,t,r,Ve){return Ve>DateTimeIntervalType.Days?this.createDateTickValues(e,t,r,Ve):this.createTickValues(e,t,r)}};D$1(Lt$1,"TimeOrigin",new Date(Date.UTC(1901,0,1,0,0,0))),D$1(Lt$1,"MaxDayValue",TimeSpan.fromMilliseconds(DateTime_MaxValue.getTime()-Lt$1.TimeOrigin.getTime()).totalDays),D$1(Lt$1,"MinDayValue",TimeSpan.fromMilliseconds(DateTime_MinValue.getTime()-Lt$1.TimeOrigin.getTime()).totalDays);class ColorAxisExtensions{static getColor(e,t){return e.getColor(e.getPaletteIndex(t))}}const DataPoint_Undefined=Object.freeze({x:NaN,y:NaN}),DataPoint_Zero=Object.freeze({x:0,y:0});function DataPoint_isUnDefined($e){return isNaN($e.x)&&isNaN($e.y)}function DataPoint_isDefined($e){return!DataPoint_isUnDefined($e)}function newDataPoint($e,e){return{x:$e,y:e}}function isDataPoint($e){return $e&&typeof $e.x=="number"&&typeof $e.y=="number"}function dataPointMinus($e,e){return new DataVector($e.x-e.x,$e.y-e.y)}function dataPointMinusVector($e,e){return newDataPoint($e.x-e.x,$e.y-e.y)}function dataPointPlus($e,e){return newDataPoint($e.x+e.x,$e.y+e.y)}function dataPointEquals($e,e){return $e.x===e.x&&$e.y===e.y}const ie$1=class $a{constructor(e,t){D$1(this,"_x"),D$1(this,"_y"),this._x=e,this._y=t}get length(){return Math.sqrt(this._x*this._x+this._y*this._y)}get lengthSquared(){return this._x*this._x+this._y*this._y}get x(){return this._x}get y(){return this._y}times(e){const t=this;return new $a(t._x*e,t._y*e)}plus(e){const t=this;return new $a(t._x+e._x,t._y+e._y)}minus(e){const t=this;return new $a(t._x-e._x,t._y-e._y)}negate(){const e=this;return new $a(-e._x,-e._y)}equals(e){return this._x===e._x&&this._y===e._y}toString(){return`${this._x} ${this._y}`}isDefined(){return this._x===this._x&&this._y===this._y}};D$1(ie$1,"Undefined",new ie$1(NaN,NaN));let DataVector=ie$1;function isDataPointProvider($e){return $e.getDataPoint&&typeof $e.getDataPoint=="function"}var MarkerType=($e=>($e[$e.None=0]="None",$e[$e.Circle=1]="Circle",$e[$e.Square=2]="Square",$e[$e.Diamond=3]="Diamond",$e[$e.Triangle=4]="Triangle",$e[$e.Cross=5]="Cross",$e[$e.Plus=6]="Plus",$e[$e.Star=7]="Star",$e[$e.Custom=8]="Custom",$e))(MarkerType||{}),CursorType=($e=>($e[$e.Default=0]="Default",$e[$e.Pan=1]="Pan",$e[$e.ZoomRectangle=2]="ZoomRectangle",$e[$e.ZoomHorizontal=3]="ZoomHorizontal",$e[$e.ZoomVertical=4]="ZoomVertical",$e))(CursorType||{});class HitTestArguments{constructor(e,t){D$1(this,"point"),D$1(this,"tolerance"),this.point=e,this.tolerance=t}}class ManipulatorBase{constructor(e){D$1(this,"view"),this.view=e}completed(e){}delta(e){}started(e){}}const ae$1=class bu{constructor(){D$1(this,"selectionColor"),D$1(this,"currentMouseEventElement"),D$1(this,"currentTouchEventElement"),D$1(this,"keyDown"),D$1(this,"mouseDown"),D$1(this,"mouseMove"),D$1(this,"mouseUp"),D$1(this,"mouseEnter"),D$1(this,"mouseLeave"),D$1(this,"touchStarted"),D$1(this,"touchDelta"),D$1(this,"touchCompleted"),this.selectionColor=OxyColors.Yellow}hitTest(e){const t=this.getHitTestElements(),r=[];for(const Ve of t){const je=Ve.hitTest(e);je&&r.push(je)}return r}handleMouseDown(e,t){const r=new HitTestArguments(t.position,bu.mouseHitTolerance);for(const Ve of this.hitTest(r)){t.hitTestResult=Ve;const je=Ve.element;if(je.onMouseDown(t),t.handled){this.currentMouseEventElement=je;return}}t.handled||this.onMouseDown(e,t)}handleMouseMove(e,t){this.currentMouseEventElement&&this.currentMouseEventElement.onMouseMove(t),t.handled||this.onMouseMove(e,t)}handleMouseUp(e,t){this.currentMouseEventElement&&(this.currentMouseEventElement.onMouseUp(t),this.currentMouseEventElement=void 0),t.handled||this.onMouseUp(e,t)}handleMouseEnter(e,t){t.handled||this.onMouseEnter(e,t)}handleMouseLeave(e,t){t.handled||this.onMouseLeave(e,t)}handleTouchStarted(e,t){const r=new HitTestArguments(t.position,bu.mouseHitTolerance);for(const Ve of this.hitTest(r)){const je=Ve.element;if(je.onTouchStarted(t),t.handled){this.currentTouchEventElement=je;return}}t.handled||this.onTouchStarted(e,t)}handleTouchDelta(e,t){this.currentTouchEventElement&&this.currentTouchEventElement.onTouchDelta(t),t.handled||this.onTouchDelta(e,t)}handleTouchCompleted(e,t){this.currentTouchEventElement&&(this.currentTouchEventElement.onTouchCompleted(t),this.currentTouchEventElement=void 0),t.handled||this.onTouchCompleted(e,t)}handleKeyDown(e,t){for(const r of this.getHitTestElements())if(r.onKeyDown(t),t.handled)break;t.handled||this.onKeyDown(e,t)}onKeyDown(e,t){const r=this.keyDown;r&&r(e,t)}onMouseDown(e,t){const r=this.mouseDown;r&&r(e,t)}onMouseMove(e,t){const r=this.mouseMove;r&&r(e,t)}onMouseUp(e,t){const r=this.mouseUp;r&&r(e,t)}onMouseEnter(e,t){const r=this.mouseEnter;r&&r(e,t)}onMouseLeave(e,t){const r=this.mouseLeave;r&&r(e,t)}onTouchStarted(e,t){const r=this.touchStarted;r&&r(e,t)}onTouchDelta(e,t){const r=this.touchDelta;r&&r(e,t)}onTouchCompleted(e,t){const r=this.touchCompleted;r&&r(e,t)}};D$1(ae$1,"DefaultSelectionColor",OxyColors.Yellow),D$1(ae$1,"mouseHitTolerance",10);let Model=ae$1;const le$1=class vu{constructor(){D$1(this,"selection",new Map)}static get Everything(){return vu.EverythingSelection}isEverythingSelected(){return this===vu.EverythingSelection}getSelectedItems(){return Array.from(this.selection.keys()).map(e=>e.Index)}getSelectedItemsByFeature(e){return Array.from(this.selection.keys()).filter(t=>t.Feature===e).map(t=>t.Index)}clear(){this.selection.clear()}isItemSelected(e,t=null){if(this.isEverythingSelected())return!0;const r=new SelectionItem(e,t);return this.hasSelection(r)}select(e,t=null){const r=new SelectionItem(e,t);this.setSelection(r,!0)}unselect(e,t=null){const r=new SelectionItem(e,t);if(!this.hasSelection(r))throw new Error(`Item ${e} and feature ${t} is not selected. Cannot unselect.`);this.deleteSelection(r)}getSameKey(e){for(const t of this.selection.keys())if(t.equals(e))return t}hasSelection(e){return!!this.getSameKey(e)}deleteSelection(e){const t=this.getSameKey(e);t&&this.selection.delete(t)}setSelection(e,t){const r=this.getSameKey(e)||e;this.selection.set(r,t)}};D$1(le$1,"EverythingSelection",new le$1);let Selection=le$1;class SelectionItem{constructor(e,t){D$1(this,"index"),D$1(this,"feature"),this.index=e,this.feature=t}get Index(){return this.index}get Feature(){return this.feature}equals(e){return e.index===this.index&&e.feature===this.feature}}var SelectionMode=($e=>($e[$e.All=0]="All",$e[$e.Single=1]="Single",$e[$e.Multiple=2]="Multiple",$e))(SelectionMode||{});class InputCommandBinding{constructor(e,t){D$1(this,"gesture"),D$1(this,"command"),this.gesture=e,this.command=t}static fromKeyGesture(e,t,r){return new InputCommandBinding(new OxyKeyGesture(e,t),r)}static fromMouseGesture(e,t,r){return new InputCommandBinding(new OxyMouseDownGesture(e,t),r)}getGesture(){return this.gesture}getCommand(){return this.command}}class ControllerBase{constructor(){D$1(this,"inputCommandBindings",[]),D$1(this,"mouseDownManipulators",[]),D$1(this,"mouseHoverManipulators",[]),D$1(this,"touchManipulators",[])}handleGesture(e,t,r){const Ve=this.getCommand(t);return this.handleCommand(Ve,e,r)}handleMouseDown(e,t){if(e.actualModel&&(e.actualModel.handleMouseDown(this,t),t.handled))return!0;const r=this.getCommand(new OxyMouseDownGesture(t.changedButton,t.modifierKeys,t.clickCount));return this.handleCommand(r,e,t)}handleMouseEnter(e,t){if(e.actualModel&&(e.actualModel.handleMouseEnter(this,t),t.handled))return!0;const r=this.getCommand(new OxyMouseEnterGesture(t.modifierKeys));return this.handleCommand(r,e,t)}handleMouseLeave(e,t){if(e.actualModel&&(e.actualModel.handleMouseLeave(this,t),t.handled))return!0;for(const r of[...this.mouseHoverManipulators])r.completed(t),arrayRemoveFirst(this.mouseHoverManipulators,r);return t.handled}handleMouseMove(e,t){if(e.actualModel&&(e.actualModel.handleMouseMove(this,t),t.handled))return!0;for(const r of this.mouseDownManipulators)r.delta(t);for(const r of this.mouseHoverManipulators)r.delta(t);return t.handled}handleMouseUp(e,t){if(e.actualModel&&(e.actualModel.handleMouseUp(this,t),t.handled))return!0;for(const r of[...this.mouseDownManipulators])r.completed(t),arrayRemoveFirst(this.mouseDownManipulators,r);return t.handled}handleMouseWheel(e,t){const r=this.getCommand(new OxyMouseWheelGesture(t.modifierKeys));return this.handleCommand(r,e,t)}handleTouchStarted(e,t){if(e.actualModel&&(e.actualModel.handleTouchStarted(this,t),t.handled))return!0;const r=this.getCommand(new OxyTouchGesture);return this.handleCommand(r,e,t)}handleTouchDelta(e,t){if(e.actualModel&&(e.actualModel.handleTouchDelta(this,t),t.handled))return!0;for(const r of this.touchManipulators)r.delta(t);return t.handled}handleTouchCompleted(e,t){if(e.actualModel&&(e.actualModel.handleTouchCompleted(this,t),t.handled))return!0;for(const r of[...this.touchManipulators])r.completed(t),arrayRemoveFirst(this.touchManipulators,r);return t.handled}handleKeyDown(e,t){if(!e.actualModel)return!1;if(e.actualModel.handleKeyDown(this,t),t.handled)return!0;const r=this.getCommand(new OxyKeyGesture(t.key,t.modifierKeys));return this.handleCommand(r,e,t)}addMouseManipulator(e,t,r){this.mouseDownManipulators.push(t),t.started(r)}addHoverManipulator(e,t,r){this.mouseHoverManipulators.push(t),t.started(r)}addTouchManipulator(e,t,r){this.touchManipulators.push(t),t.started(r)}bindMouseDown(e,t){this.bindCore(e,t)}bindMouseEnter(e,t){this.bindCore(e,t)}bindMouseWheel(e,t){this.bindCore(e,t)}bindTouch(e,t){this.bindCore(e,t)}bindKey(e,t){this.bindCore(e,t)}unbindInput(e){arrayRemoveIf(this.inputCommandBindings,t=>t.getGesture().equals(e))}unbindViewCommand(e){arrayRemoveIf(this.inputCommandBindings,t=>t.getCommand()===e)}unbindAll(){this.inputCommandBindings.length=0}bindCore(e,t){const r=this.inputCommandBindings.find(Ve=>Ve.getGesture().equals(e));r&&arrayRemoveFirst(this.inputCommandBindings,r),t&&this.inputCommandBindings.push(new InputCommandBinding(e,t))}getCommand(e){const t=this.inputCommandBindings.find(r=>r.getGesture().equals(e));return t?t.getCommand():void 0}handleCommand(e,t,r){return e?(e.execute(t,this,r),r.handled):!1}}class ControllerExtensions{static bindKeyDown(e,t,r,Ve=OxyModifierKeys.None){e.bindKey(new OxyKeyGesture(t,Ve),r)}static bindMouseDown(e,t,r,Ve=OxyModifierKeys.None,je=1){e.bindMouseDown(new OxyMouseDownGesture(t,Ve,je),r)}static bindTouchDown(e,t){e.bindTouch(new OxyTouchGesture,t)}static bindMouseEnter(e,t){e.bindMouseEnter(new OxyMouseEnterGesture,t)}static bindMouseWheel(e,t,r=OxyModifierKeys.None){e.bindMouseWheel(new OxyMouseWheelGesture(r),t)}static unbindMouseDown(e,t,r=OxyModifierKeys.None,Ve=1){e.unbindInput(new OxyMouseDownGesture(t,r,Ve))}static unbindKeyDown(e,t,r=OxyModifierKeys.None){e.unbindInput(new OxyKeyGesture(t,r))}static unbindMouseEnter(e){e.unbindInput(new OxyMouseEnterGesture)}static unbindTouchDown(e){e.unbindInput(new OxyTouchGesture)}static unbindMouseWheel(e){e.unbindInput(new OxyMouseWheelGesture)}}class DelegateViewCommand{constructor(e){D$1(this,"handler"),this.handler=e}execute(e,t,r){this.handler(e,t,r)}}var ImageFormat=($e=>($e[$e.Png=0]="Png",$e[$e.Bmp=1]="Bmp",$e[$e.Jpeg=2]="Jpeg",$e[$e.Unknown=3]="Unknown",$e))(ImageFormat||{});class OxyImage{constructor(e){D$1(this,"_data"),D$1(this,"uri"),D$1(this,"format",ImageFormat.Unknown),D$1(this,"width",0),D$1(this,"height",0),D$1(this,"bitsPerPixel",0),D$1(this,"dpiX",96),D$1(this,"dpiY",96),D$1(this,"_hashCode"),this._data=e}static async create(e,t,r,Ve){const je=getImageService(),ze=e.height,Xe=e.width,We={pixels:e,palette:Ve,imageInfo:{width:Xe,height:ze,bitsPerPixel:0,dpiX:r==null?void 0:r.dpiX,dpiY:r==null?void 0:r.dpiY,format:t}},qe=await je.encode(We),Ke=new OxyImage(qe);return Ke.width=Xe,Ke.height=ze,Ke}get data(){return this._data}static getImageFormat(e){return e.length>=2&&e[0]===255&&e[1]===216?ImageFormat.Jpeg:e.length>=2&&e[0]===66&&e[1]===77?ImageFormat.Bmp:e.length>=4&&e[0]===137&&e[1]===80&&e[2]===78&&e[3]===71?ImageFormat.Png:ImageFormat.Unknown}getHashCode(){return this._hashCode===void 0&&(this._hashCode=hashCode([...this._data])),this._hashCode}}var OxyKey=($e=>($e[$e.Space=0]="Space",$e[$e.Enter=1]="Enter",$e[$e.Escape=2]="Escape",$e[$e.Tab=3]="Tab",$e[$e.Backspace=4]="Backspace",$e[$e.Insert=5]="Insert",$e[$e.Delete=6]="Delete",$e[$e.Home=7]="Home",$e[$e.End=8]="End",$e[$e.Up=9]="Up",$e[$e.Down=10]="Down",$e[$e.Left=11]="Left",$e[$e.Right=12]="Right",$e[$e.PageUp=13]="PageUp",$e[$e.PageDown=14]="PageDown",$e[$e.A=15]="A",$e[$e.B=16]="B",$e[$e.C=17]="C",$e[$e.D=18]="D",$e[$e.E=19]="E",$e[$e.F=20]="F",$e[$e.G=21]="G",$e[$e.H=22]="H",$e[$e.I=23]="I",$e[$e.J=24]="J",$e[$e.K=25]="K",$e[$e.L=26]="L",$e[$e.M=27]="M",$e[$e.N=28]="N",$e[$e.O=29]="O",$e[$e.P=30]="P",$e[$e.Q=31]="Q",$e[$e.R=32]="R",$e[$e.S=33]="S",$e[$e.T=34]="T",$e[$e.U=35]="U",$e[$e.V=36]="V",$e[$e.W=37]="W",$e[$e.X=38]="X",$e[$e.Y=39]="Y",$e[$e.Z=40]="Z",$e[$e.D0=41]="D0",$e[$e.D1=42]="D1",$e[$e.D2=43]="D2",$e[$e.D3=44]="D3",$e[$e.D4=45]="D4",$e[$e.D5=46]="D5",$e[$e.D6=47]="D6",$e[$e.D7=48]="D7",$e[$e.D8=49]="D8",$e[$e.D9=50]="D9",$e[$e.NumPad0=51]="NumPad0",$e[$e.NumPad1=52]="NumPad1",$e[$e.NumPad2=53]="NumPad2",$e[$e.NumPad3=54]="NumPad3",$e[$e.NumPad4=55]="NumPad4",$e[$e.NumPad5=56]="NumPad5",$e[$e.NumPad6=57]="NumPad6",$e[$e.NumPad7=58]="NumPad7",$e[$e.NumPad8=59]="NumPad8",$e[$e.NumPad9=60]="NumPad9",$e[$e.Add=61]="Add",$e[$e.Subtract=62]="Subtract",$e[$e.Multiply=63]="Multiply",$e[$e.Divide=64]="Divide",$e[$e.Decimal=65]="Decimal",$e[$e.F1=66]="F1",$e[$e.F2=67]="F2",$e[$e.F3=68]="F3",$e[$e.F4=69]="F4",$e[$e.F5=70]="F5",$e[$e.F6=71]="F6",$e[$e.F7=72]="F7",$e[$e.F8=73]="F8",$e[$e.F9=74]="F9",$e[$e.F10=75]="F10",$e[$e.F11=76]="F11",$e[$e.F12=77]="F12",$e[$e.Unknown=78]="Unknown",$e))(OxyKey||{}),OxyModifierKeys=($e=>($e[$e.None=0]="None",$e[$e.Control=1]="Control",$e[$e.Alt=2]="Alt",$e[$e.Shift=4]="Shift",$e[$e.Windows=8]="Windows",$e))(OxyModifierKeys||{}),OxyMouseButton=($e=>($e[$e.None=0]="None",$e[$e.Left=1]="Left",$e[$e.Middle=2]="Middle",$e[$e.Right=3]="Right",$e[$e.XButton1=4]="XButton1",$e[$e.XButton2=5]="XButton2",$e))(OxyMouseButton||{});class OxyKeyGesture{constructor(e,t=OxyModifierKeys.None){this.key=e,this.modifiers=t}equals(e){if(!(e instanceof OxyKeyGesture))return!1;const t=e;return t.modifiers===this.modifiers&&t.key===this.key}}class OxyMouseDownGesture{constructor(e,t=OxyModifierKeys.None,r=1){this.mouseButton=e,this.modifiers=t,this.clickCount=r}equals(e){if(!(e instanceof OxyMouseDownGesture))return!1;const t=e;return t.modifiers===this.modifiers&&t.mouseButton===this.mouseButton&&t.clickCount===this.clickCount}}class OxyMouseEnterGesture{constructor(e=OxyModifierKeys.None){this.modifiers=e}equals(e){return e instanceof OxyMouseEnterGesture?e.modifiers===this.modifiers:!1}}class OxyMouseWheelGesture{constructor(e=OxyModifierKeys.None){this.modifiers=e}equals(e){return e instanceof OxyMouseWheelGesture?e.modifiers===this.modifiers:!1}}class OxyShakeGesture{equals(e){return e instanceof OxyShakeGesture}}class OxyTouchGesture{equals(e){return e instanceof OxyTouchGesture}}class OxyModifierKeysExtensions{static isAltDown(e){return(e.modifierKeys&OxyModifierKeys.Alt)===OxyModifierKeys.Alt}static isControlDown(e){return(e.modifierKeys&OxyModifierKeys.Control)===OxyModifierKeys.Control}static isShiftDown(e){return(e.modifierKeys&OxyModifierKeys.Shift)===OxyModifierKeys.Shift}}class TrackerHitResult{constructor(e){D$1(this,"dataPoint"),D$1(this,"item"),D$1(this,"index",0),D$1(this,"lineExtents"),D$1(this,"plotModel"),D$1(this,"position"),D$1(this,"series"),D$1(this,"text"),e&&Object.assign(this,removeUndef(e))}get xAxis(){return!this.series||!(this.series instanceof XYAxisSeries)?void 0:this.series.xAxis}get yAxis(){return!this.series||!(this.series instanceof XYAxisSeries)?void 0:this.series.yAxis}toString(){return this.text?this.text.trim():""}}var AxisPreference=($e=>($e[$e.None=0]="None",$e[$e.X=1]="X",$e[$e.Y=2]="Y",$e))(AxisPreference||{});class PlotManipulator extends ManipulatorBase{constructor(e){super(e),D$1(this,"plotView"),D$1(this,"axisPreference",AxisPreference.None),D$1(this,"xAxis"),D$1(this,"yAxis"),this.plotView=e}inverseTransform(e,t){return this.xAxis?this.xAxis.inverseTransformPoint(e,t,this.yAxis):this.yAxis?newDataPoint(0,this.yAxis.inverseTransform(t)):DataPoint_Zero}assignAxes(e){let t,r;this.plotView.actualModel?([t,r]=this.plotView.actualModel.getAxesFromPoint(e),this.axisPreference!==AxisPreference.None&&this.plotView.actualModel.plotArea.containsPoint(e)&&(this.axisPreference===AxisPreference.X?t&&(r=void 0):this.axisPreference===AxisPreference.Y&&r&&(t=void 0))):(t=void 0,r=void 0),this.xAxis=t,this.yAxis=r}}class MouseManipulator extends PlotManipulator{constructor(e){super(e),D$1(this,"startPosition")}started(e){this.assignAxes(e.position),this.startPosition=e.position}}class ZoomStepManipulator extends MouseManipulator{constructor(e,t,r){super(e),D$1(this,"fineControl"),D$1(this,"step"),this.step=t,this.fineControl=r}started(e){if(super.started(e),!(this.xAxis&&this.xAxis.isZoomEnabled||this.yAxis&&this.yAxis.isZoomEnabled))return;const t=this.inverseTransform(e.position.x,e.position.y);let r=this.step;this.fineControl&&(r*=3),r>0?r=1+r:r=1/(1-r),this.xAxis&&this.xAxis.zoomAt(r,t.x),this.yAxis&&this.yAxis.zoomAt(r,t.y),this.plotView.invalidatePlot(!1),e.handled=!0}}class PanManipulator extends MouseManipulator{constructor(e){super(e),D$1(this,"previousPosition",ScreenPoint_LeftTop),D$1(this,"isPanEnabled",!1)}completed(e){super.completed(e),this.isPanEnabled&&(this.view.setCursorType(CursorType.Default),e.handled=!0)}delta(e){super.delta(e),this.isPanEnabled&&(this.xAxis&&this.xAxis.pan(this.previousPosition,e.position),this.yAxis&&this.yAxis.pan(this.previousPosition,e.position),this.plotView.invalidatePlot(!1),this.previousPosition=e.position,e.handled=!0)}started(e){super.started(e),this.previousPosition=e.position,this.isPanEnabled=!!(this.xAxis&&this.xAxis.isPanEnabled||this.yAxis&&this.yAxis.isPanEnabled),this.isPanEnabled&&(this.view.setCursorType(CursorType.Pan),e.handled=!0)}}class ZoomRectangleManipulator extends MouseManipulator{constructor(e){super(e),D$1(this,"zoomRectangle",OxyRect.Empty),D$1(this,"isZoomEnabled",!1)}completed(e){if(super.completed(e),!!this.isZoomEnabled){if(this.plotView.setCursorType(CursorType.Default),this.plotView.hideZoomRectangle(),this.zoomRectangle.width>10&&this.zoomRectangle.height>10){const t=this.inverseTransform(this.zoomRectangle.left,this.zoomRectangle.top),r=this.inverseTransform(this.zoomRectangle.right,this.zoomRectangle.bottom);this.xAxis&&this.xAxis.zoom(t.x,r.x),this.yAxis&&this.yAxis.zoom(t.y,r.y),this.plotView.invalidatePlot()}e.handled=!0}}delta(e){if(super.delta(e),!this.plotView.actualModel||!this.isZoomEnabled||!this.startPosition)return;const t=this.plotView.actualModel.plotArea;let r=Math.min(this.startPosition.x,e.position.x),Ve=Math.abs(this.startPosition.x-e.position.x),je=Math.min(this.startPosition.y,e.position.y),ze=Math.abs(this.startPosition.y-e.position.y);(this.xAxis===void 0||!this.xAxis.isZoomEnabled)&&(r=t.left,Ve=t.width),(this.yAxis===void 0||!this.yAxis.isZoomEnabled)&&(je=t.top,ze=t.height),this.zoomRectangle=new OxyRect(r,je,Ve,ze),this.plotView.showZoomRectangle(this.zoomRectangle),e.handled=!0}started(e){super.started(e),this.isZoomEnabled=!!(this.xAxis&&this.xAxis.isZoomEnabled||this.yAxis&&this.yAxis.isZoomEnabled),this.isZoomEnabled&&this.startPosition&&(this.zoomRectangle=new OxyRect(this.startPosition.x,this.startPosition.y,0,0),this.plotView.showZoomRectangle(this.zoomRectangle),this.plotView.setCursorType(this.getCursorType()),e.handled=!0)}getCursorType(){return this.xAxis===void 0?CursorType.ZoomVertical:this.yAxis===void 0?CursorType.ZoomHorizontal:CursorType.ZoomRectangle}}class TouchManipulator extends PlotManipulator{constructor(e){super(e),D$1(this,"setHandledForPanOrZoom"),D$1(this,"isPanEnabled",!1),D$1(this,"isZoomEnabled",!1),this.setHandledForPanOrZoom=!0}completed(e){super.completed(e),this.setHandledForPanOrZoom&&(e.handled=e.handled||this.isPanEnabled||this.isZoomEnabled)}delta(e){if(super.delta(e),!this.isPanEnabled&&!this.isZoomEnabled)return;const t=e.position,r=screenPointMinusVector(t,e.deltaTranslation);this.xAxis&&this.xAxis.pan(r,t),this.yAxis&&this.yAxis.pan(r,t);const Ve=this.inverseTransform(t.x,t.y);this.xAxis&&this.xAxis.zoomAt(e.deltaScale.x,Ve.x),this.yAxis&&this.yAxis.zoomAt(e.deltaScale.y,Ve.y),this.plotView.invalidatePlot(!1),e.handled=!0}started(e){this.assignAxes(e.position),super.started(e),this.setHandledForPanOrZoom&&(this.isPanEnabled=!!(this.xAxis&&this.xAxis.isPanEnabled||this.yAxis&&this.yAxis.isPanEnabled),this.isZoomEnabled=!!(this.xAxis&&this.xAxis.isZoomEnabled||this.yAxis&&this.yAxis.isZoomEnabled),e.handled=e.handled||this.isPanEnabled||this.isZoomEnabled)}}class TrackerManipulator extends MouseManipulator{constructor(e,t){super(e),D$1(this,"currentSeries"),D$1(this,"pointsOnly"),D$1(this,"snap"),D$1(this,"lockToInitialSeries"),D$1(this,"firesDistance"),D$1(this,"checkDistanceBetweenPoints"),D$1(this,"isTrackAnnotations",!0),this.snap=!0,this.pointsOnly=!1,this.lockToInitialSeries=!0,this.firesDistance=20,this.checkDistanceBetweenPoints=!1,this.isTrackAnnotations=!0,t&&Object.assign(this,removeUndef(t))}completed(e){super.completed(e),e.handled=!0,this.currentSeries=void 0,this.plotView.hideTracker(),this.plotView.actualModel&&this.plotView.actualModel.raiseTrackerChanged(void 0)}delta(e){var t;if(super.delta(e),e.handled=!0,(!this.currentSeries||!this.lockToInitialSeries)&&(this.currentSeries=(t=this.plotView.actualModel)==null?void 0:t.getSeriesFromPoint(e.position,this.firesDistance)),!this.currentSeries){this.lockToInitialSeries||this.plotView.hideTracker(),this.isTrackAnnotations&&this.trackAnnotations(e.position);return}const r=this.plotView.actualModel;if(!r||!r.plotArea.contains(e.position.x,e.position.y))return;const Ve=TrackerHelper.getNearestHit(this.currentSeries,e.position,this.snap,this.pointsOnly,this.firesDistance,this.checkDistanceBetweenPoints);Ve&&(Ve.plotModel=this.plotView.actualModel,this.plotView.showTracker(Ve),this.plotView.actualModel.raiseTrackerChanged(Ve))}started(e){var t;super.started(e),this.currentSeries=(t=this.plotView.actualModel)==null?void 0:t.getSeriesFromPoint(e.position,this.firesDistance),this.delta(e)}trackAnnotations(e){const t=this.plotView.actualModel;for(const r of t.annotations.filter(Ve=>Ve.toolTip).reverse()){if(!r.toolTip)continue;const Ve=new HitTestArguments(e,this.firesDistance);if(!r.hitTest(Ve))continue;const je=r.inverseTransform(e),ze=new TrackerHitResult({position:e,dataPoint:je,text:r.toolTip,plotModel:this.plotView.actualModel});this.plotView.showTracker(ze),t.raiseTrackerChanged(ze);break}}}class TouchTrackerManipulator extends TouchManipulator{constructor(e,t){super(e),D$1(this,"currentSeries"),D$1(this,"pointsOnly"),D$1(this,"snap"),D$1(this,"lockToInitialSeries"),D$1(this,"firesDistance"),D$1(this,"checkDistanceBetweenPoints"),this.snap=!0,this.pointsOnly=!1,this.lockToInitialSeries=!0,this.firesDistance=20,this.checkDistanceBetweenPoints=!1,this.setHandledForPanOrZoom=!1,t&&Object.assign(this,removeUndef(t))}completed(e){super.completed(e),this.currentSeries=void 0,this.plotView.hideTracker(),this.plotView.actualModel&&this.plotView.actualModel.raiseTrackerChanged(void 0)}delta(e){super.delta(e),this.plotView.hideTracker()}started(e){var t;super.started(e),this.currentSeries=(t=this.plotView.actualModel)==null?void 0:t.getSeriesFromPoint(e.position,this.firesDistance),this.updateTracker(e.position)}updateTracker(e){var t;if((!this.currentSeries||!this.lockToInitialSeries)&&(this.currentSeries=(t=this.plotView.actualModel)==null?void 0:t.getSeriesFromPoint(e,this.firesDistance)),!this.currentSeries){this.lockToInitialSeries||this.plotView.hideTracker();return}const r=this.plotView.actualModel;if(!r||!r.plotArea.contains(e.x,e.y))return;const Ve=TrackerHelper.getNearestHit(this.currentSeries,e,this.snap,this.pointsOnly,this.firesDistance,this.checkDistanceBetweenPoints);Ve&&(Ve.plotModel=this.plotView.actualModel,this.plotView.showTracker(Ve),this.plotView.actualModel.raiseTrackerChanged(Ve))}}class DelegatePlotCommand extends DelegateViewCommand{constructor(e){super((t,r,Ve)=>e(t,r,Ve))}}class PlotCommands{static init(){this.reset=new DelegatePlotCommand((e,t,r)=>this.handleReset(e,r)),this.resetAt=new DelegatePlotCommand((e,t,r)=>this.handleReset(e,r)),this.panAt=new DelegatePlotCommand((e,t,r)=>t.addMouseManipulator(e,new PanManipulator(e),r)),this.zoomRectangle=new DelegatePlotCommand((e,t,r)=>t.addMouseManipulator(e,new ZoomRectangleManipulator(e),r)),this.track=new DelegatePlotCommand((e,t,r)=>t.addMouseManipulator(e,new TrackerManipulator(e,{snap:!1,pointsOnly:!1}),r)),this.snapTrack=new DelegatePlotCommand((e,t,r)=>t.addMouseManipulator(e,new TrackerManipulator(e,{snap:!0,pointsOnly:!1}),r)),this.pointsOnlyTrack=new DelegatePlotCommand((e,t,r)=>t.addMouseManipulator(e,new TrackerManipulator(e,{snap:!1,pointsOnly:!0}),r)),this.zoomWheel=new DelegatePlotCommand((e,t,r)=>this.handleZoomByWheel(e,r)),this.zoomWheelFine=new DelegatePlotCommand((e,t,r)=>this.handleZoomByWheel(e,r,.1)),this.zoomInAt=new DelegatePlotCommand((e,t,r)=>this.handleZoomAt(e,r,.05)),this.zoomOutAt=new DelegatePlotCommand((e,t,r)=>this.handleZoomAt(e,r,-.05)),this.hoverTrack=new DelegatePlotCommand((e,t,r)=>t.addHoverManipulator(e,new TrackerManipulator(e,{lockToInitialSeries:!1,snap:!1,pointsOnly:!1}),r)),this.hoverSnapTrack=new DelegatePlotCommand((e,t,r)=>t.addHoverManipulator(e,new TrackerManipulator(e,{lockToInitialSeries:!1,snap:!0,pointsOnly:!1}),r)),this.hoverPointsOnlyTrack=new DelegatePlotCommand((e,t,r)=>t.addHoverManipulator(e,new TrackerManipulator(e,{lockToInitialSeries:!1,snap:!1,pointsOnly:!0}),r)),this.snapTrackTouch=new DelegatePlotCommand((e,t,r)=>t.addTouchManipulator(e,new TouchTrackerManipulator(e,{snap:!0,pointsOnly:!1}),r)),this.pointsOnlyTrackTouch=new DelegatePlotCommand((e,t,r)=>t.addTouchManipulator(e,new TouchTrackerManipulator(e,{snap:!0,pointsOnly:!0}),r)),this.panZoomByTouch=new DelegatePlotCommand((e,t,r)=>t.addTouchManipulator(e,new TouchManipulator(e),r)),this.panLeft=new DelegatePlotCommand((e,t,r)=>this.handlePan(e,r,-.1,0)),this.panRight=new DelegatePlotCommand((e,t,r)=>this.handlePan(e,r,.1,0)),this.panUp=new DelegatePlotCommand((e,t,r)=>this.handlePan(e,r,0,-.1)),this.panDown=new DelegatePlotCommand((e,t,r)=>this.handlePan(e,r,0,.1)),this.panLeftFine=new DelegatePlotCommand((e,t,r)=>this.handlePan(e,r,-.01,0)),this.panRightFine=new DelegatePlotCommand((e,t,r)=>this.handlePan(e,r,.01,0)),this.panUpFine=new DelegatePlotCommand((e,t,r)=>this.handlePan(e,r,0,-.01)),this.panDownFine=new DelegatePlotCommand((e,t,r)=>this.handlePan(e,r,0,.01)),this.zoomIn=new DelegatePlotCommand((e,t,r)=>this.handleZoomCenter(e,r,1)),this.zoomOut=new DelegatePlotCommand((e,t,r)=>this.handleZoomCenter(e,r,-1)),this.zoomInFine=new DelegatePlotCommand((e,t,r)=>this.handleZoomCenter(e,r,.1)),this.zoomOutFine=new DelegatePlotCommand((e,t,r)=>this.handleZoomCenter(e,r,-.1))}static handleReset(e,t){e.actualModel&&(t.handled=!0,e.actualModel.resetAllAxes(),e.invalidatePlot(!1))}static handleZoomAt(e,t,r){const Ve=OxyModifierKeysExtensions.isControlDown(t);new ZoomStepManipulator(e,r,Ve).started(t)}static handleZoomByWheel(e,t,r=1){const Ve=OxyModifierKeysExtensions.isControlDown(t);new ZoomStepManipulator(e,t.delta*.001*r,Ve).started(t)}static handleZoomCenter(e,t,r){e.actualModel&&(t.handled=!0,e.actualModel.zoomAllAxes(1+r*.12),e.invalidatePlot(!1))}static handlePan(e,t,r,Ve){e.actualModel&&(t.handled=!0,r*=e.actualModel.plotArea.width,Ve*=e.actualModel.plotArea.height,e.actualModel.panAllAxes(r,Ve),e.invalidatePlot(!1))}}D$1(PlotCommands,"reset"),D$1(PlotCommands,"resetAt"),D$1(PlotCommands,"panZoomByTouch"),D$1(PlotCommands,"panAt"),D$1(PlotCommands,"zoomRectangle"),D$1(PlotCommands,"zoomWheel"),D$1(PlotCommands,"zoomWheelFine"),D$1(PlotCommands,"track"),D$1(PlotCommands,"snapTrack"),D$1(PlotCommands,"snapTrackTouch"),D$1(PlotCommands,"pointsOnlyTrack"),D$1(PlotCommands,"pointsOnlyTrackTouch"),D$1(PlotCommands,"hoverTrack"),D$1(PlotCommands,"hoverSnapTrack"),D$1(PlotCommands,"hoverPointsOnlyTrack"),D$1(PlotCommands,"panLeft"),D$1(PlotCommands,"panRight"),D$1(PlotCommands,"panUp"),D$1(PlotCommands,"panDown"),D$1(PlotCommands,"panLeftFine"),D$1(PlotCommands,"panRightFine"),D$1(PlotCommands,"panUpFine"),D$1(PlotCommands,"panDownFine"),D$1(PlotCommands,"zoomInAt"),D$1(PlotCommands,"zoomOutAt"),D$1(PlotCommands,"zoomIn"),D$1(PlotCommands,"zoomOut"),D$1(PlotCommands,"zoomInFine"),D$1(PlotCommands,"zoomOutFine");PlotCommands.init();class PlotController extends ControllerBase{constructor(){super(),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Middle,PlotCommands.zoomRectangle),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Right,PlotCommands.zoomRectangle,OxyModifierKeys.Control),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Left,PlotCommands.zoomRectangle,OxyModifierKeys.Control|OxyModifierKeys.Alt),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Middle,PlotCommands.resetAt,OxyModifierKeys.None,2),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Right,PlotCommands.resetAt,OxyModifierKeys.Control,2),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Left,PlotCommands.resetAt,OxyModifierKeys.Control|OxyModifierKeys.Alt,2),ControllerExtensions.bindKeyDown(this,OxyKey.A,PlotCommands.reset),ControllerExtensions.bindKeyDown(this,OxyKey.Home,PlotCommands.reset),this.bindCore(new OxyShakeGesture,PlotCommands.reset),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Right,PlotCommands.panAt),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Left,PlotCommands.panAt,OxyModifierKeys.Alt),ControllerExtensions.bindKeyDown(this,OxyKey.Left,PlotCommands.panLeft),ControllerExtensions.bindKeyDown(this,OxyKey.Right,PlotCommands.panRight),ControllerExtensions.bindKeyDown(this,OxyKey.Up,PlotCommands.panUp),ControllerExtensions.bindKeyDown(this,OxyKey.Down,PlotCommands.panDown),ControllerExtensions.bindKeyDown(this,OxyKey.Left,PlotCommands.panLeftFine,OxyModifierKeys.Control),ControllerExtensions.bindKeyDown(this,OxyKey.Right,PlotCommands.panRightFine,OxyModifierKeys.Control),ControllerExtensions.bindKeyDown(this,OxyKey.Up,PlotCommands.panUpFine,OxyModifierKeys.Control),ControllerExtensions.bindKeyDown(this,OxyKey.Down,PlotCommands.panDownFine,OxyModifierKeys.Control),ControllerExtensions.bindTouchDown(this,PlotCommands.panZoomByTouch),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Left,PlotCommands.snapTrack),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Left,PlotCommands.track,OxyModifierKeys.Control),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Left,PlotCommands.pointsOnlyTrack,OxyModifierKeys.Shift),ControllerExtensions.bindTouchDown(this,PlotCommands.snapTrackTouch),ControllerExtensions.bindMouseDown(this,OxyMouseButton.XButton1,PlotCommands.zoomInAt),ControllerExtensions.bindMouseDown(this,OxyMouseButton.XButton2,PlotCommands.zoomOutAt),ControllerExtensions.bindMouseWheel(this,PlotCommands.zoomWheel),ControllerExtensions.bindMouseWheel(this,PlotCommands.zoomWheelFine,OxyModifierKeys.Control),ControllerExtensions.bindKeyDown(this,OxyKey.Add,PlotCommands.zoomIn),ControllerExtensions.bindKeyDown(this,OxyKey.Subtract,PlotCommands.zoomOut),ControllerExtensions.bindKeyDown(this,OxyKey.PageUp,PlotCommands.zoomIn),ControllerExtensions.bindKeyDown(this,OxyKey.PageDown,PlotCommands.zoomOut),ControllerExtensions.bindKeyDown(this,OxyKey.Add,PlotCommands.zoomInFine,OxyModifierKeys.Control),ControllerExtensions.bindKeyDown(this,OxyKey.Subtract,PlotCommands.zoomOutFine,OxyModifierKeys.Control),ControllerExtensions.bindKeyDown(this,OxyKey.PageUp,PlotCommands.zoomInFine,OxyModifierKeys.Control),ControllerExtensions.bindKeyDown(this,OxyKey.PageDown,PlotCommands.zoomOutFine,OxyModifierKeys.Control)}}function isTransposablePlotElement($e){return $e instanceof Object&&"__isTransposable"in $e}function setTransposablePlotElement($e){$e.__isTransposable=!0}class PlotElementExtensions{static inverseTransform(e,t,r){return e.inverseTransform(newScreenPoint(t,r))}static isTransposed(e){return e.xAxis.isVertical()}static orientate(e,t){return PlotElementExtensions.isTransposed(e)?newScreenPoint(t.y,t.x):t}static orientateVector(e,t){return t=new ScreenVector(e.xAxis.isReversed?-t.x:t.x,e.yAxis.isReversed?-t.y:t.y),PlotElementExtensions.isTransposed(e)?new ScreenVector(-t.y,-t.x):t}static orientateAlignment(e,t,r){if(e.xAxis.isReversed&&(t=-t),e.yAxis.isReversed&&(r=-r),PlotElementExtensions.isTransposed(e)){const Ve=-r;r=-t,t=Ve}return[t,r]}static transform(e,t,r){return e.transform(newDataPoint(t,r))}}class PlotElementUtilities{static getClippingRect(e){const t=OxyRect.fromScreenPoints(e.xAxis.screenMin,e.xAxis.screenMax),r=OxyRect.fromScreenPoints(e.yAxis.screenMin,e.yAxis.screenMax);return t.intersect(r)}static inverseTransform(e,t){return e.xAxis.inverseTransformPoint(t.x,t.y,e.yAxis)}static inverseTransformOrientated(e,t){return this.inverseTransform(e,PlotElementExtensions.orientate(e,t))}static transform(e,t){return e.xAxis.transformPoint(t.x,t.y,e.yAxis)}static transformOrientated(e,t){return PlotElementExtensions.orientate(e,this.transform(e,t))}}class FontWeights{}D$1(FontWeights,"Bold",700),D$1(FontWeights,"Normal",400);var HorizontalAlignment=($e=>($e[$e.Left=-1]="Left",$e[$e.Center=0]="Center",$e[$e.Right=1]="Right",$e))(HorizontalAlignment||{}),LineJoin=($e=>($e[$e.Miter=0]="Miter",$e[$e.Round=1]="Round",$e[$e.Bevel=2]="Bevel",$e))(LineJoin||{}),LineStyle=($e=>($e[$e.Solid=0]="Solid",$e[$e.Dash=1]="Dash",$e[$e.Dot=2]="Dot",$e[$e.DashDot=3]="DashDot",$e[$e.DashDashDot=4]="DashDashDot",$e[$e.DashDotDot=5]="DashDotDot",$e[$e.DashDashDotDot=6]="DashDashDotDot",$e[$e.LongDash=7]="LongDash",$e[$e.LongDashDot=8]="LongDashDot",$e[$e.LongDashDotDot=9]="LongDashDotDot",$e[$e.None=10]="None",$e[$e.Automatic=11]="Automatic",$e))(LineStyle||{});class LineStyleHelper{static getDashArray(e){switch(e){case LineStyle.Solid:return;case LineStyle.Dash:return[4,1];case LineStyle.Dot:return[1,1];case LineStyle.DashDot:return[4,1,1,1];case LineStyle.DashDashDot:return[4,1,4,1,1,1];case LineStyle.DashDotDot:return[4,1,1,1,1,1];case LineStyle.DashDashDotDot:return[4,1,4,1,1,1,1,1];case LineStyle.LongDash:return[10,1];case LineStyle.LongDashDot:return[10,1,1,1];case LineStyle.LongDashDotDot:return[10,1,1,1,1,1];default:return}}}class OxyPen{constructor(e,t=1,r=LineStyle.Solid,Ve=LineJoin.Miter){D$1(this,"dashArray"),this.color=e,this.thickness=t,this.lineStyle=r,this.lineJoin=Ve,this.dashArray=LineStyleHelper.getDashArray(r)}get actualDashArray(){return this.dashArray||LineStyleHelper.getDashArray(this.lineStyle)}static create(e,t,r=LineStyle.Solid,Ve=LineJoin.Miter){if(!(e.isInvisible()||r===LineStyle.None||Math.abs(t)<=0))return new OxyPen(e,t,r,Ve)}}const Xt$1=class Eo{constructor(e,t,r,Ve){if(D$1(this,"_height"),D$1(this,"_left"),D$1(this,"_top"),D$1(this,"_width"),r<0)throw new Error("width;The width should not be negative.");if(Ve<0)throw new Error("height;The height should not be negative.");this._left=e,this._top=t,this._width=r,this._height=Ve}static fromScreenPoints(e,t){return new Eo(Math.min(e.x,t.x),Math.min(e.y,t.y),Math.abs(t.x-e.x),Math.abs(t.y-e.y))}static fromScreenPointAndSize(e,t){return new Eo(e.x,e.y,t.width,t.height)}get bottom(){return this._top+this._height}get height(){return this._height}get left(){return this._left}get right(){return this._left+this._width}get top(){return this._top}get width(){return this._width}get center(){return newScreenPoint(this._left+this._width*.5,this._top+this._height*.5)}get topLeft(){return newScreenPoint(this.left,this.top)}get topRight(){return newScreenPoint(this.right,this.top)}get bottomLeft(){return newScreenPoint(this.left,this.bottom)}get bottomRight(){return newScreenPoint(this.right,this.bottom)}static create(e,t,r,Ve){return new Eo(Math.min(e,r),Math.min(t,Ve),Math.abs(r-e),Math.abs(Ve-t))}contains(e,t){return e>=this.left&&e<=this.right&&t>=this.top&&t<=this.bottom}containsPoint(e){return this.contains(e.x,e.y)}toString(){return`(${this._left}, ${this._top}, ${this._width}, ${this._height})`}equals(e){return this.left===e.left&&this.top===e.top&&this.width===e.width&&this.height===e.height}inflate(e,t){return new Eo(this._left-e,this._top-t,this._width+e*2,this._height+t*2)}inflateAll(e){return new Eo(this._left-e.left,this._top-e.top,this._width+e.left+e.right,this._height+e.top+e.bottom)}intersect(e){const t=Math.max(this.left,e.left),r=Math.max(this.top,e.top),Ve=Math.min(this.right,e.right),je=Math.min(this.bottom,e.bottom);return Ve<t||je<r?Eo.Empty:new Eo(t,r,Ve-t,je-r)}deflate(e){return new Eo(this._left+e.left,this._top+e.top,Math.max(0,this._width-e.left-e.right),Math.max(0,this._height-e.top-e.bottom))}offset(e,t){return new Eo(this._left+e,this._top+t,this._width,this._height)}clip(e){const t=isNegativeInfinity(e.left)&&isPositiveInfinity(e.width)?e.right:1/0,r=isNegativeInfinity(e.top)&&isPositiveInfinity(e.height)?e.bottom:1/0;return Eo.create(Math.max(Math.min(this.left,t),e.left),Math.max(Math.min(this.top,r),e.top),Math.max(Math.min(this.right,t),e.left),Math.max(Math.min(this.bottom,r),e.top))}};D$1(Xt$1,"Everything",new Xt$1(0,0,1/0,1/0)),D$1(Xt$1,"Empty",new Xt$1(0,0,0,0));let OxyRect=Xt$1;const me$1=class Vh{constructor(e,t){D$1(this,"_height"),D$1(this,"_width"),this._width=e||0,this._height=t||0}get height(){return this._height}get width(){return this._width}toString(){return`(${this.width}, ${this.height})`}equals(e){return this.width===e.width&&this.height===e.height}include(e){return new Vh(Math.max(this.width,e.width),Math.max(this.height,e.height))}};D$1(me$1,"Empty",new me$1(0,0));let OxySize=me$1;OxySize.prototype.getBounds=function($e,e,t){return OxySizeExtensions.getBounds(this,$e,e,t)};class OxySizeExtensions{static getBounds(e,t,r,Ve){const je=r===HorizontalAlignment.Left?0:r===HorizontalAlignment.Center?.5:1,ze=Ve===VerticalAlignment.Top?0:Ve===VerticalAlignment.Middle?.5:1,Xe=new ScreenVector(je*e.width,ze*e.height);if(t===0)return new OxyRect(-Xe.x,-Xe.y,e.width,e.height);const We=new ScreenVector(0,0).minus(Xe),qe=new ScreenVector(e.width,0).minus(Xe),Ke=new ScreenVector(e.width,e.height).minus(Xe),Ze=new ScreenVector(0,e.height).minus(Xe),Je=t*Math.PI/180,Qe=Math.cos(Je),ti=Math.sin(Je),ni=hi=>new ScreenVector(Qe*hi.x-ti*hi.y,ti*hi.x+Qe*hi.y),ri=ni(We),ii=ni(qe),ei=ni(Ke),St=ni(Ze),oi=Math.min(Math.min(ri.x,ii.x),Math.min(ei.x,St.x)),si=Math.min(Math.min(ri.y,ii.y),Math.min(ei.y,St.y)),ai=Math.max(Math.max(ri.x-oi,ii.x-oi),Math.max(ei.x-oi,St.x-oi)),ui=Math.max(Math.max(ri.y-si,ii.y-si),Math.max(ei.y-si,St.y-si));return new OxyRect(oi,si,ai,ui)}static getPolygon(e,t,r,Ve,je){const ze=Ve===HorizontalAlignment.Left?0:Ve===HorizontalAlignment.Center?.5:1,Xe=je===VerticalAlignment.Top?0:je===VerticalAlignment.Middle?.5:1,We=new ScreenVector(ze*e.width,Xe*e.height);let qe=new ScreenVector(0,0).minus(We),Ke=new ScreenVector(e.width,0).minus(We),Ze=new ScreenVector(e.width,e.height).minus(We),Je=new ScreenVector(0,e.height).minus(We);if(r!==0){const Qe=r*Math.PI/180,ti=Math.cos(Qe),ni=Math.sin(Qe),ri=ii=>new ScreenVector(ti*ii.x-ni*ii.y,ni*ii.x+ti*ii.y);qe=ri(qe),Ke=ri(Ke),Ze=ri(Ze),Je=ri(Je)}return[screenPointPlus(t,qe),screenPointPlus(t,Ke),screenPointPlus(t,Ze),screenPointPlus(t,Je)]}}const pe$1=class Uh{constructor(e,t,r,Ve){if(D$1(this,"_bottom"),D$1(this,"_left"),D$1(this,"_right"),D$1(this,"_top"),isNullOrUndef(t)&&isNullOrUndef(r)&&isNullOrUndef(Ve))this._left=this._top=this._right=this._bottom=e;else if(!isNullOrUndef(t)&&!isNullOrUndef(r)&&!isNullOrUndef(Ve))this._left=e,this._top=t,this._right=r,this._bottom=Ve;else throw new Error("Invalid arguments")}get bottom(){return this._bottom}get left(){return this._left}get right(){return this._right}get top(){return this._top}toString(){return`(${this._left}, ${this._top}, ${this._right}, ${this._bottom})`}equals(e){return this.left===e.left&&this.top===e.top&&this.right===e.right&&this.bottom===e.bottom}include(e){return new Uh(Math.max(e.left,this.left),Math.max(e.top,this.top),Math.max(e.right,this.right),Math.max(e.bottom,this.bottom))}};D$1(pe$1,"Zero",new pe$1(0));let OxyThickness=pe$1;const ScreenPoint_Undefined=Object.freeze({x:NaN,y:NaN}),ScreenPoint_LeftTop=Object.freeze({x:0,y:0});function newScreenPoint($e,e){return{x:$e,y:e}}function screenPointPlus($e,e){return newScreenPoint($e.x+e.x,$e.y+e.y)}function screenPointMinus($e,e){return new ScreenVector($e.x-e.x,$e.y-e.y)}function screenPointMinusVector($e,e){return newScreenPoint($e.x-e.x,$e.y-e.y)}function screenPointDistanceTo($e,e){const t=e.x-$e.x,r=e.y-$e.y;return Math.sqrt(t*t+r*r)}function screenPointDistanceToSquared($e,e){const t=e.x-$e.x,r=e.y-$e.y;return t*t+r*r}function ScreenPoint_isUndefined($e){return isNaN($e.x)&&isNaN($e.y)}function screenPointEquals($e,e){return $e.x===e.x&&$e.y===e.y}class ScreenPointHelper{static findNearestPointOnPolyline(e,t){if(!t)throw new Error("points is null");let r=Number_MAX_VALUE,Ve=ScreenPoint_LeftTop;for(let je=0;je+1<t.length;je++){const ze=t[je],Xe=t[je+1];if(ScreenPoint_isUndefined(ze)||ScreenPoint_isUndefined(Xe))continue;const We=ScreenPointHelper.findPointOnLine(e,ze,Xe);if(ScreenPoint_isUndefined(We))continue;const qe=screenPointMinus(e,We).lengthSquared;qe<r&&(Ve=We,r=qe)}return Ve}static findPointOnLine(e,t,r){const Ve=r.x-t.x,je=r.y-t.y;let ze=ScreenPointHelper.findPositionOnLine(e,t,r);return isNaN(ze)&&(ze=0),ze<0&&(ze=0),ze>1&&(ze=1),newScreenPoint(t.x+ze*Ve,t.y+ze*je)}static findPositionOnLine(e,t,r){const Ve=r.x-t.x,je=r.y-t.y,ze=(e.x-t.x)*Ve+(e.y-t.y)*je,Xe=Ve*Ve+je*je;return Xe<1e-6?NaN:ze/Xe}static isPointInPolygon(e,t){if(!t)return!1;const r=t.length;let Ve=!1;for(let je=0,ze=r-1;je<r;ze=je++)t[je].y>e.y!=t[ze].y>e.y&&e.x<(t[ze].x-t[je].x)*((e.y-t[je].y)/(t[ze].y-t[je].y))+t[je].x&&(Ve=!Ve);return Ve}static resamplePoints(e,t){const r=t*t,Ve=e.length,je=[];if(Ve>0){je.push(e[0]);let ze=0;for(let Xe=1;Xe<Ve;Xe++)screenPointDistanceToSquared(e[ze],e[Xe])<r&&Xe!==Ve-1||(ze=Xe,je.push(e[Xe]))}return je}static getCentroid(e){let t=0,r=0,Ve=0;for(let je=0;je<e.length;je++){const ze=(je+1)%e.length,Xe=e[je].x*e[ze].y-e[ze].x*e[je].y;t+=(e[je].x+e[ze].x)*Xe,r+=(e[je].y+e[ze].y)*Xe,Ve+=Xe}return Ve*=.5,t/=6*Ve,r/=6*Ve,newScreenPoint(t,r)}}const Qt$1=class zs{constructor(e,t){D$1(this,"_x"),D$1(this,"_y"),this._x=e,this._y=t}get length(){return Math.sqrt(this._x*this._x+this._y*this._y)}get lengthSquared(){return this._x*this._x+this._y*this._y}get x(){return this._x}get y(){return this._y}normalize(){if(this===zs.Zero)throw new Error("Cannot normalize the zero vector");const e=Math.sqrt(this._x*this._x+this._y*this._y);e>0&&(this._x/=e,this._y/=e)}plus(e){const t=this;return new zs(t.x+e.x,t.y+e.y)}minus(e){const t=this;return new zs(t.x-e.x,t.y-e.y)}times(e){const t=this;return new zs(t.x*e,t.y*e)}negate(){const e=this;return new zs(-e.x,-e.y)}toString(){return`${this._x} ${this._y}`}equals(e){return this._x===e._x&&this._y===e._y}};D$1(Qt$1,"Zero",Object.freeze(new Qt$1(0,0)));let ScreenVector=Qt$1;var VerticalAlignment=($e=>($e[$e.Top=-1]="Top",$e[$e.Middle=0]="Middle",$e[$e.Bottom=1]="Bottom",$e))(VerticalAlignment||{}),EdgeRenderingMode=($e=>($e[$e.Automatic=0]="Automatic",$e[$e.Adaptive=1]="Adaptive",$e[$e.PreferSharpness=2]="PreferSharpness",$e[$e.PreferSpeed=3]="PreferSpeed",$e[$e.PreferGeometricAccuracy=4]="PreferGeometricAccuracy",$e))(EdgeRenderingMode||{});const SubAlignment=.6,SubSize=.62,SuperAlignment=0,SuperSize=.62;class MathRenderingExtensions{static async drawMathText(e,t,r,Ve,je,ze,Xe,We,qe,Ke,Ze,Je=!1){if(!r)return OxySize.Empty;if(r.includes("^{")||r.includes("_{")){const Qe=t.x,ti=t.y,ni=await this.internalDrawMathText(e,Qe,ti,0,0,r,Ve,je,ze,Xe,!0,We);let ri=0,ii=0;switch(qe){case HorizontalAlignment.Right:ri=-ni.width;break;case HorizontalAlignment.Center:ri=-ni.width*.5;break}switch(Ke){case VerticalAlignment.Bottom:ii=-ni.height;break;case VerticalAlignment.Middle:ii=-ni.height*.5;break}return await this.internalDrawMathText(e,Qe,ti,ri,ii,r,Ve,je,ze,Xe,!1,We),Je?ni:OxySize.Empty}return await e.drawText(t,r,Ve,je,ze,Xe,We,qe,Ke,Ze),Je?e.measureText(r,je,ze,Xe):OxySize.Empty}static async measureMathText(e,t,r,Ve,je){return t.includes("^{")||t.includes("_{")?this.internalDrawMathText(e,0,0,0,0,t,OxyColors.Black,r,Ve,je,!0,0):e.measureText(t,r,Ve,je)}static async internalDrawMathText(e,t,r,Ve,je,ze,Xe,We,qe,Ke,Ze,Je){let Qe=0;const ti=Je*Math.PI/180,ni=round(Math.cos(ti),5),ri=round(Math.sin(ti),5);let ii=t,ei=t,St=t;const oi=r;let si=r,ai=r;const ui=qe*SuperAlignment,hi=qe*SubAlignment,ci=qe*SuperSize,mi=qe*SubSize,di=async(pi,yi,gi,_i)=>{if(!Ze){const ki=t+(pi-t+Ve)*ni-(yi-r+je)*ri,vi=r+(pi-t+Ve)*ri+(yi-r+je)*ni;await e.drawText(newScreenPoint(ki,vi),gi,Xe,We,_i,Ke,Je)}const Ai=e.measureText(gi,We,_i,Ke);return new OxySize(Ai.width,Ai.height)};for(;Qe<ze.length;){if(Qe+1<ze.length&&ze[Qe]==="^"&&ze[Qe+1]==="{"){const _i=ze.indexOf("}",Qe);if(_i!==-1){const Ai=substring(ze,Qe+2,_i-Qe-2);Qe=_i+1;const ki=ii,vi=oi+ui,Mi=await di(ki,vi,Ai,ci);ei=Math.max(ki+Mi.width,ei),si=Math.max(vi+Mi.height,si),St=Math.min(ki,St),ai=Math.min(vi,ai);continue}}if(Qe+1<ze.length&&ze[Qe]==="_"&&ze[Qe+1]==="{"){const _i=ze.indexOf("}",Qe);if(_i!==-1){const Ai=substring(ze,Qe+2,_i-Qe-2);Qe=_i+1;const ki=ii,vi=oi+hi,Mi=await di(ki,vi,Ai,mi);ei=Math.max(ki+Mi.width,ei),si=Math.max(vi+Mi.height,si),St=Math.min(ki,St),ai=Math.min(vi,ai);continue}}const pi=indexOfAny(ze.split(""),["^","_"],Qe+1);let yi;pi===-1?(yi=substring(ze,Qe),Qe=ze.length):(yi=substring(ze,Qe,pi-Qe),Qe=pi),ii=ei+2;const gi=await di(ii,oi,yi,qe);ei=Math.max(ii+gi.width,ei),si=Math.max(oi+gi.height,si),St=Math.min(ii,St),ai=Math.min(oi,ai),ii=ei}return new OxySize(ei-St,si-ai)}}class RenderContextBase{constructor(){D$1(this,"rendersToScreen"),this.rendersToScreen=!0}static isStraightLine(e,t){return Math.abs(e.x-t.x)<1e-5||Math.abs(e.y-t.y)<1e-5}static isStraightLine2(e){for(let t=1;t<e.length;t++)if(!this.isStraightLine(e[t-1],e[t]))return!1;return!0}async drawEllipse(e,t,r,Ve,je){const ze=RenderContextBase.createEllipse(e);await this.drawPolygon(ze,t,r,Ve,je,void 0,LineJoin.Miter)}async drawEllipses(e,t,r,Ve,je){for(const ze of e)await this.drawEllipse(ze,t,r,Ve,je)}async drawLineSegments(e,t,r,Ve,je,ze){for(let Xe=0;Xe+1<e.length;Xe+=2)await this.drawLine([e[Xe],e[Xe+1]],t,r,Ve,je,ze)}async drawPolygons(e,t,r,Ve,je,ze,Xe){for(const We of e)await this.drawPolygon(We,t,r,Ve,je,ze,Xe)}async drawRectangle(e,t,r,Ve,je){const ze=RenderContextBase.createRectangle(e);await this.drawPolygon(ze,t,r,Ve,je,void 0,LineJoin.Miter)}async drawRectangles(e,t,r,Ve,je){for(const ze of e)await this.drawRectangle(ze,t,r,Ve,je)}setToolTip(e){}cleanUp(){}static createEllipse(e,t=40){const r=e.center.x,Ve=e.center.y,je=e.width/2,ze=e.height/2,Xe=new Array(t);for(let We=0;We<t;We++){const qe=Math.PI*2*We/t;Xe[We]=newScreenPoint(r+Math.cos(qe)*je,Ve+Math.sin(qe)*ze)}return Xe}static createRectangle(e){return[newScreenPoint(e.left,e.top),newScreenPoint(e.left,e.bottom),newScreenPoint(e.right,e.bottom),newScreenPoint(e.right,e.top)]}shouldUseAntiAliasingForRect(e){switch(e){case EdgeRenderingMode.PreferGeometricAccuracy:return!0;default:return!1}}shouldUseAntiAliasingForEllipse(e){switch(e){case EdgeRenderingMode.PreferSpeed:return!1;default:return!0}}shouldUseAntiAliasingForLine(e,t){switch(e){case EdgeRenderingMode.PreferSpeed:case EdgeRenderingMode.PreferSharpness:return!1;case EdgeRenderingMode.Automatic:if(RenderContextBase.isStraightLine2(t))return!1;break;case EdgeRenderingMode.Adaptive:if(RenderContextBase.isStraightLine2(t))return!1;break;default:return!0}return!0}}const oe$1=class{static getActualEdgeRenderingMode($e,e){return $e===EdgeRenderingMode.Automatic?e:$e}static async drawReducedLine($e,e,t,r,Ve,je,ze,Xe,We,qe){e.length!==0&&(We?We.length=0:We=[],this.reducePoints(e,t,We),await $e.drawLine(We,r,Ve,je,ze,Xe),We.length=0,pushMany(We,e),qe&&qe(We))}static async drawReducedPolygon($e,e,t,r,Ve,je,ze,Xe=LineStyle.Solid,We=LineJoin.Miter){if(e.length===0||Xe===LineStyle.None)return;const qe=[];this.reducePoints(e,t,qe),await $e.drawPolygon(qe,r,Ve,je,ze,LineStyleHelper.getDashArray(Xe),We)}static async drawImage($e,e,t,r,Ve,je,ze,Xe){await $e.drawImage(e,0,0,e.width,e.height,t,r,Ve,je,ze,Xe)}static async drawMultilineText($e,e,t,r,Ve,je=10,ze=FontWeights.Normal,Xe=12){const We=StringHelper.splitLines(t);for(let qe=0;qe<We.length;qe++)await $e.drawText(newScreenPoint(e.x,e.y+qe*Xe),We[qe],r,void 0,je,ze)}static async drawLine($e,e,t,r,Ve,je,ze){je&&await $e.drawLine([newScreenPoint(e,t),newScreenPoint(r,Ve)],je.color,je.thickness,ze,je.actualDashArray,je.lineJoin)}static async drawLineSegments($e,e,t,r){t&&await $e.drawLineSegments(e,t.color,t.thickness,r,t.actualDashArray,t.lineJoin)}static async drawMarker($e,e,t,r,Ve,je,ze,Xe,We){await this.drawMarkers($e,[e],t,r,[Ve],je,ze,Xe,We)}static async drawMarkers($e,e,t,r,Ve,je,ze,Xe,We,qe=0,Ke=ScreenPoint_LeftTop){if(t===MarkerType.None)return;const Ze=[],Je=[],Qe=[],ti=[],ni=new Set;let ri=0;for(const ii of e){if(qe>1){const St=Math.floor((ii.x-Ke.x)/qe),oi=Math.floor((ii.y-Ke.y)/qe),si=toUint(St<<16)+toUint(oi);if(ni.has(si)){ri++;continue}ni.add(si)}const ei=ri<Ve.length?ri:0;this.addMarkerGeometry(ii,t,r,Ve[ei],Ze,Je,Qe,ti),ri++}We===EdgeRenderingMode.Automatic&&(We=EdgeRenderingMode.PreferGeometricAccuracy),Ze.length>0&&await $e.drawEllipses(Ze,je,ze,Xe,We),Je.length>0&&await $e.drawRectangles(Je,je,ze,Xe,We),Qe.length>0&&await $e.drawPolygons(Qe,je,ze,Xe,We),ti.length>0&&await $e.drawLineSegments(ti,ze,Xe,We)}static async drawCircle($e,e,t,r,Ve,je,ze,Xe){await $e.drawEllipse(new OxyRect(e-r,t-r,r*2,r*2),Ve,je,ze,Xe)}static async drawCircle2($e,e,t,r,Ve,je,ze){await this.drawCircle($e,e.x,e.y,t,r,Ve,je,ze)}static async fillCircle($e,e,t,r,Ve){await this.drawCircle($e,e.x,e.y,t,r,OxyColors.Undefined,0,Ve)}static async fillRectangle($e,e,t,r){await $e.drawRectangle(e,t,OxyColors.Undefined,0,r)}static async drawRectangle($e,e,t,r,Ve){if(r.left===r.right&&r.left===r.top&&r.left===r.bottom){await $e.drawRectangle(e,OxyColors.Undefined,t,r.left,Ve);return}const je=e.left-r.left/2+.5,ze=e.right+r.right/2-.5,Xe=e.top-r.top/2+.5,We=e.bottom+r.bottom/2-.5,qe=[newScreenPoint(je,e.top),newScreenPoint(ze,e.top)],Ke=[newScreenPoint(e.right,Xe),newScreenPoint(e.right,We)],Ze=[newScreenPoint(je,e.bottom),newScreenPoint(ze,e.bottom)],Je=[newScreenPoint(e.left,Xe),newScreenPoint(e.left,We)];await $e.drawLine(qe,t,r.top,Ve,void 0,LineJoin.Miter),await $e.drawLine(Ke,t,r.right,Ve,void 0,LineJoin.Miter),await $e.drawLine(Ze,t,r.bottom,Ve,void 0,LineJoin.Miter),await $e.drawLine(Je,t,r.left,Ve,void 0,LineJoin.Miter)}static measureText($e,e,t,r,Ve,je){const ze=$e.measureText(e,t,r,Ve);return this.measureRotatedRectangleBound(ze,je)}static autoResetClip($e,e){return new AutoResetClipToken($e,e)}static addMarkerGeometry($e,e,t,r,Ve,je,ze,Xe){if(e===MarkerType.Custom){if(!t)throw new Error("The outline should be set when MarkerType is 'Custom'.");const qe=t.map(Ke=>newScreenPoint($e.x+Ke.x*r,$e.y+Ke.y*r));ze.push(qe);return}switch(e){case MarkerType.Circle:Ve.push(new OxyRect($e.x-r,$e.y-r,r*2,r*2));break;case MarkerType.Square:je.push(new OxyRect($e.x-r,$e.y-r,r*2,r*2));break;case MarkerType.Diamond:ze.push([newScreenPoint($e.x,$e.y-this.M2*r),newScreenPoint($e.x+this.M2*r,$e.y),newScreenPoint($e.x,$e.y+this.M2*r),newScreenPoint($e.x-this.M2*r,$e.y)]);break;case MarkerType.Triangle:ze.push([newScreenPoint($e.x-r,$e.y+this.M1*r),newScreenPoint($e.x+r,$e.y+this.M1*r),newScreenPoint($e.x,$e.y-this.M2*r)]);break;case MarkerType.Plus:case MarkerType.Star:Xe.push(newScreenPoint($e.x-r,$e.y)),Xe.push(newScreenPoint($e.x+r,$e.y)),Xe.push(newScreenPoint($e.x,$e.y-r)),Xe.push(newScreenPoint($e.x,$e.y+r));break}const We=this.M3;switch(e){case MarkerType.Cross:case MarkerType.Star:Xe.push(newScreenPoint($e.x-r*We,$e.y-r*We)),Xe.push(newScreenPoint($e.x+r*We,$e.y+r*We)),Xe.push(newScreenPoint($e.x-r*We,$e.y+r*We)),Xe.push(newScreenPoint($e.x+r*We,$e.y-r*We));break}}static measureRotatedRectangleBound($e,e){const t=$e.getBounds(e,HorizontalAlignment.Center,VerticalAlignment.Middle);return new OxySize(t.width,t.height)}static reducePoints($e,e,t){const r=$e.length;if(r===0)return;t.push($e[0]);let Ve=0;for(let je=1;je<r;je++){const ze=$e[je],Xe=ze.x-$e[Ve].x,We=ze.y-$e[Ve].y;(Xe*Xe+We*We>e||je===r-1)&&(t.push(newScreenPoint(ze.x,ze.y)),Ve=je)}}static transformAndInterpolateLines($e,e,t,r){const Ve=$e.xAxis,je=$e.yAxis;if(Ve.isLogarithmic()||je.isLogarithmic()){let ze=!1,Xe=!0,We=DataPoint_Undefined;for(const qe of e)if(DataPoint_isUnDefined(qe)||Ve.isLogarithmic()&&qe.x<=0||je.isLogarithmic()&&qe.y<=0)Xe=!0;else{if(Xe)t.length>0&&t.push(ScreenPoint_Undefined),Xe=!1,ze=!0;else if(ze){const Ke=dataPointMinus(qe,We);this.interpolatePoints(Ze=>$e.transform(dataPointPlus(We,Ke.times(Ze))),t,r,ze)}We=qe}}else{let ze=!0;for(const Xe of e)DataPoint_isUnDefined(Xe)?ze=!0:(ze&&t.length>0&&t.push(ScreenPoint_Undefined),t.push($e.transform(Xe)),ze=!1)}}static interpolatePoints($e,e,t,r){const Ve=t*t,je=[],ze=[];je.push(1),ze.push($e(1));let Xe=0,We=$e(0);for(r&&e.push(We);je.length>0;){let qe=je[je.length-1],Ke=ze[ze.length-1];screenPointDistanceToSquared(Ke,We)<Ve?(Xe=qe,We=Ke,e.push(Ke),je.pop(),ze.pop()):(qe=Xe+(qe-Xe)/2,Ke=$e(qe),je.push(qe),ze.push(Ke))}}};D$1(oe$1,"M1",Math.tan(Math.PI/6)),D$1(oe$1,"M2",Math.sqrt(1+oe$1.M1*oe$1.M1)),D$1(oe$1,"M3",Math.tan(Math.PI/4));let RenderingExtensions=oe$1;class AutoResetClipToken{constructor(e,t){D$1(this,"renderContext"),this.renderContext=e,e.pushClip(t)}dispose(){this.renderContext.popClip()}}class ClippingRenderContext extends RenderContextBase{constructor(){super(...arguments),D$1(this,"clipStack",[])}popClip(){if(this.clipStack.length===0)throw new Error("Unbalanced call to popClip.");const e=this.clipStack.pop();if(this.clipStack.length>0){const t=this.clipStack[this.clipStack.length-1];e.equals(t)||(this.resetClip(),this.setClip(t))}else this.resetClip()}pushClip(e){if(this.clipStack.length>0){const t=this.clipStack[this.clipStack.length-1],r=e.intersect(t);t.equals(r)||(this.resetClip(),this.setClip(r)),this.clipStack.push(r)}else this.setClip(e),this.clipStack.push(e)}get clipCount(){return this.clipStack.length}}class CanonicalSpline{constructor(e){D$1(this,"tension"),this.tension=e}createSplineDp(e,t,r){return CanonicalSpline.createSplineForDp(e,this.tension,void 0,t,r)}createSplineSp(e,t,r){return CanonicalSpline.createSpline(e,this.tension,void 0,t,r)}static createSplineForDp(e,t,r,Ve,je){const ze=e.map(qe=>newScreenPoint(qe.x,qe.y)),Xe=CanonicalSpline.createSpline(ze,t,r,Ve,je),We=[];for(const qe of Xe)We.push(newDataPoint(qe.x,qe.y));return We}static createSpline(e,t,r,Ve,je){const ze=[];if(!e)return ze;const Xe=e.length;if(Xe<1)return ze;if(Xe<2)return ze.push(...e),ze;if(Xe===2)Ve?(CanonicalSpline.segment(ze,e[1],e[0],e[1],e[0],t,t,je),CanonicalSpline.segment(ze,e[0],e[1],e[0],e[1],t,t,je)):CanonicalSpline.segment(ze,e[0],e[0],e[1],e[1],t,t,je);else{const We=r&&r.length>0;for(let qe=0;qe<Xe;qe++){const Ke=We?r[qe%r.length]:t,Ze=We?r[(qe+1)%r.length]:t;qe===0?CanonicalSpline.segment(ze,Ve?e[Xe-1]:e[0],e[0],e[1],e[2],Ke,Ze,je):qe===Xe-2?CanonicalSpline.segment(ze,e[qe-1],e[qe],e[qe+1],Ve?e[0]:e[qe+1],Ke,Ze,je):qe===Xe-1?Ve&&CanonicalSpline.segment(ze,e[qe-1],e[qe],e[0],e[1],Ke,Ze,je):CanonicalSpline.segment(ze,e[qe-1],e[qe],e[qe+1],e[qe+2],Ke,Ze,je)}}return ze}static segment(e,t,r,Ve,je,ze,Xe,We,qe=1e3){const Ke=ze*(Ve.x-t.x),Ze=ze*(Ve.y-t.y),Je=Xe*(je.x-r.x),Qe=Xe*(je.y-r.y),ti=Ke+Je+2*r.x-2*Ve.x,ni=Ze+Qe+2*r.y-2*Ve.y,ri=-2*Ke-Je-3*r.x+3*Ve.x,ii=-2*Ze-Qe-3*r.y+3*Ve.y,ei=Ke,St=Ze,oi=r.x,si=r.y,ai=Math.min(qe,Math.round((Math.abs(r.x-Ve.x)+Math.abs(r.y-Ve.y))/We));for(let ui=1;ui<ai;ui++){const hi=ui/(ai-1),ci=newScreenPoint(ti*hi*hi*hi+ri*hi*hi+ei*hi+oi,ni*hi*hi*hi+ii*hi*hi+St*hi+si);e.push(ci)}}}class CatmullRomSpline{constructor(e){D$1(this,"alpha"),D$1(this,"maxSegments"),this.alpha=e,this.maxSegments=100}createSplineDp(e,t,r){return CatmullRomSpline.createSplineForDp(e,this.alpha,t,r,this.maxSegments)}createSplineSp(e,t,r){return CatmullRomSpline.createSpline(e,this.alpha,t,r,this.maxSegments)}static createSplineForDp(e,t,r,Ve,je){const ze=e.map(qe=>newScreenPoint(qe.x,qe.y)),Xe=this.createSpline(ze,t,r,Ve,je),We=[];for(const qe of Xe)We.push(newDataPoint(qe.x,qe.y));return We}static createSpline(e,t,r,Ve,je){const ze=[];if(e===void 0)return ze;const Xe=e.length;if(Xe<1)return ze;if(Xe<2)return ze.push(...e),ze;if(Xe===2)r?(this.segment(ze,e[1],e[0],e[1],e[0],t,Ve,je),this.segment(ze,e[0],e[1],e[0],e[1],t,Ve,je)):this.segment(ze,e[0],e[0],e[1],e[1],t,Ve,je);else for(let We=0;We<Xe;We++)We===0?this.segment(ze,r?e[Xe-1]:e[0],e[0],e[1],e[2],t,Ve,je):We===Xe-2?this.segment(ze,e[We-1],e[We],e[We+1],r?e[0]:e[We+1],t,Ve,je):We===Xe-1?r&&this.segment(ze,e[We-1],e[We],e[0],e[1],t,Ve,je):this.segment(ze,e[We-1],e[We],e[We+1],e[We+2],t,Ve,je);return ze}static segment(e,t,r,Ve,je,ze,Xe,We){if(screenPointEquals(r,Ve)){e.push(r);return}screenPointEquals(t,r)&&(t=this.prev(r,Ve)),screenPointEquals(Ve,je)&&(je=this.prev(Ve,r));const qe=0,Ke=this.getT(qe,t,r,ze),Ze=this.getT(Ke,r,Ve,ze),Je=this.getT(Ze,Ve,je,ze);let Qe=Math.round((Math.abs(r.x-Ve.x)+Math.abs(r.y-Ve.y))/Xe);Qe=Math.max(0,Qe),Qe=Math.min(We,Qe);for(let ti=Ke;ti<Ze;ti+=(Ze-Ke)/Qe){const ni=this.sum(this.mult((Ke-ti)/(Ke-qe),t),this.mult((ti-qe)/(Ke-qe),r)),ri=this.sum(this.mult((Ze-ti)/(Ze-Ke),r),this.mult((ti-Ke)/(Ze-Ke),Ve)),ii=this.sum(this.mult((Je-ti)/(Je-Ze),Ve),this.mult((ti-Ze)/(Je-Ze),je)),ei=this.sum(this.mult((Ze-ti)/(Ze-qe),ni),this.mult((ti-qe)/(Ze-qe),ri)),St=this.sum(this.mult((Je-ti)/(Je-Ke),ri),this.mult((ti-Ke)/(Je-Ke),ii)),oi=this.sum(this.mult((Ze-ti)/(Ze-Ke),ei),this.mult((ti-Ke)/(Ze-Ke),St));e.push(oi)}}static getT(e,t,r,Ve){const je=Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2),ze=Math.sqrt(je);return Math.pow(ze,Ve)+e}static mult(e,t){return newScreenPoint(t.x*e,t.y*e)}static equals(e,t){return e.x===t.x&&e.y===t.y}static prev(e,t){return newScreenPoint(e.x-1e-4*(t.x-e.x),e.y-1e-4*(t.y-e.y))}static sum(e,t){return newScreenPoint(e.x+t.x,e.y+t.y)}}class InterpolationAlgorithms{}D$1(InterpolationAlgorithms,"CanonicalSpline",new CanonicalSpline(.5)),D$1(InterpolationAlgorithms,"CatmullRomSpline",new CatmullRomSpline(.5)),D$1(InterpolationAlgorithms,"UniformCatmullRomSpline",new CatmullRomSpline(0)),D$1(InterpolationAlgorithms,"ChordalCatmullRomSpline",new CatmullRomSpline(1));class Series extends PlotElement{constructor(e){super(e),D$1(this,"background"),D$1(this,"isVisible"),D$1(this,"title"),D$1(this,"legendKey"),D$1(this,"seriesGroupName"),D$1(this,"renderInLegend"),D$1(this,"trackerStringFormatter"),D$1(this,"trackerKey"),this.isVisible=!0,this.background=OxyColors.Undefined,this.renderInLegend=!0}getNearestPoint(e,t){}hitTestOverride(e){const t=this.getNearestPoint(e.point,!0)||this.getNearestPoint(e.point,!1);if(t!=null&&t.position)return screenPointDistanceTo(t.position,e.point)>e.tolerance?void 0:{element:this,nearestHitPoint:t.position,item:t.item,index:t.index}}}class ItemsSeries extends Series{constructor(e){super(e),D$1(this,"itemsSource")}static getItem(e,t){if(!(!e||t<0)&&t<e.length&&t>=0)return e[t]}getItem(e){if(this.itemsSource)return ItemsSeries.getItem(this.itemsSource,e)}}const ne$1=class yl extends ItemsSeries{constructor(e){super(e),D$1(this,"trackerStringFormatter"),D$1(this,"_maxX",0),D$1(this,"_maxY",0),D$1(this,"_minX",0),D$1(this,"_minY",0),D$1(this,"_xAxis"),D$1(this,"xAxisKey"),D$1(this,"_yAxis"),D$1(this,"yAxisKey"),D$1(this,"isXMonotonic",!1),D$1(this,"windowStartIndex",0),this.trackerStringFormatter=yl.DefaultTrackerFormatter,setTransposablePlotElement(this)}get maxX(){return this._maxX}set maxX(e){this._maxX=e}get maxY(){return this._maxY}set maxY(e){this._maxY=e}get minX(){return this._minX}set minX(e){this._minX=e}get minY(){return this._minY}set minY(e){this._minY=e}get xAxis(){return this._xAxis}get yAxis(){return this._yAxis}getClippingRect(){return PlotElementUtilities.getClippingRect(this)}getScreenRectangle(){return this.getClippingRect()}inverseTransform(e){return PlotElementUtilities.inverseTransformOrientated(this,e)}async renderLegend(e,t){}transform(e){return PlotElementUtilities.transformOrientated(this,e)}areAxesRequired(){return!0}ensureAxes(){this._xAxis=this.xAxisKey?this.plotModel.getAxis(this.xAxisKey):this.plotModel.defaultXAxis,this._yAxis=this.yAxisKey?this.plotModel.getAxis(this.yAxisKey):this.plotModel.defaultYAxis}isUsing(e){return!1}setDefaultValues(){}updateAxisMaxMin(){this.xAxis.include(this.minX),this.xAxis.include(this.maxX),this.yAxis.include(this.minY),this.yAxis.include(this.maxY)}updateData(){this.windowStartIndex=0}updateMaxMin(){this.minX=this.minY=this.maxX=this.maxY=Number.NaN}getNearestInterpolatedPointInternal(e,t,r){if(!this.xAxis||!this.yAxis||!e)return;let Ve=ScreenPoint_LeftTop,je=DataPoint_Zero,ze=-1,Xe=Number_MAX_VALUE;for(let We=t;We+1<e.length;We++){const qe=e[We],Ke=e[We+1];if(!this.isValidPoint(qe)||!this.isValidPoint(Ke))continue;const Ze=this.transform(qe),Je=this.transform(Ke),Qe=ScreenPointHelper.findPointOnLine(r,Ze,Je);if(ScreenPoint_isUndefined(Qe))continue;const ti=screenPointMinus(r,Qe).lengthSquared;if(ti<Xe){const ni=screenPointMinus(Je,Ze).length,ri=ni>0?screenPointMinus(Qe,Ze).length/ni:0;je=this.inverseTransform(Qe),Ve=Qe,Xe=ti,ze=We+ri}}if(Xe<Number_MAX_VALUE){const We=this.getItem(Math.round(ze));return new TrackerHitResult({series:this,dataPoint:je,position:Ve,item:We,index:ze})}}getNearestPointInternal(e,t,r){let Ve=ScreenPoint_LeftTop,je=DataPoint_Zero,ze=-1,Xe=Number_MAX_VALUE,We=t;for(const qe of e.slice(t)){if(!this.isValidPoint(qe)){We++;continue}const Ke=PlotElementExtensions.transform(this,qe.x,qe.y),Ze=screenPointMinus(Ke,r).lengthSquared;Ze<Xe&&(je=qe,Ve=Ke,Xe=Ze,ze=We),We++}if(Xe<Number_MAX_VALUE){const qe=this.getItem(Math.round(ze));return new TrackerHitResult({series:this,dataPoint:je,position:Ve,item:qe,index:ze})}}isValidPoint(e){return this.isValidPoint2(e.x,e.y)}isValidPoint2(e,t){return!!(this.xAxis&&this.xAxis.isValidValue(e)&&this.yAxis&&this.yAxis.isValidValue(t))}internalUpdateMaxMin(e){if(!e)throw new Error("points is null");if(this.isXMonotonic=!0,e.length===0)return;let t=this.minX,r=this.minY,Ve=this.maxX,je=this.maxY;isNaN(t)&&(t=Number_MAX_VALUE),isNaN(r)&&(r=Number_MAX_VALUE),isNaN(Ve)&&(Ve=Number_MIN_VALUE),isNaN(je)&&(je=Number_MIN_VALUE);let ze=Number_MIN_VALUE;for(const Xe of e){const We=Xe.x,qe=Xe.y;this.isValidPoint2(We,qe)&&(We<ze&&(this.isXMonotonic=!1),We<t&&(t=We),We>Ve&&(Ve=We),qe<r&&(r=qe),qe>je&&(je=qe),ze=We)}t<Number_MAX_VALUE&&(this.minX=t),r<Number_MAX_VALUE&&(this.minY=r),Ve>Number_MIN_VALUE&&(this.maxX=Ve),je>Number_MIN_VALUE&&(this.maxY=je)}internalUpdateMaxMin2(e,t,r,Ve,je){if(!e)throw new Error("items is null");if(this.isXMonotonic=!0,e.length===0)return;let ze=this.minX,Xe=this.minY,We=this.maxX,qe=this.maxY;isNaN(ze)&&(ze=Number_MAX_VALUE),isNaN(Xe)&&(Xe=Number_MAX_VALUE),isNaN(We)&&(We=Number_MIN_VALUE),isNaN(qe)&&(qe=Number_MIN_VALUE);let Ke=Number_MIN_VALUE,Ze=Number_MIN_VALUE;for(const Je of e){const Qe=t(Je),ti=r(Je),ni=Ve(Je),ri=je(Je);!this.isValidPoint2(Qe,ni)||!this.isValidPoint2(ti,ri)||((Qe<Ke||ti<Ze)&&(this.isXMonotonic=!1),Qe<ze&&(ze=Qe),ti>We&&(We=ti),ni<Xe&&(Xe=ni),ri>qe&&(qe=ri),Ke=Qe,Ze=ti)}ze<Number_MAX_VALUE&&(this.minX=ze),Xe<Number_MAX_VALUE&&(this.minY=Xe),We>Number_MIN_VALUE&&(this.maxX=We),qe>Number_MIN_VALUE&&(this.maxY=qe)}verifyAxes(){if(!this.xAxis)throw new Error("XAxis not defined.");if(!this.yAxis)throw new Error("YAxis not defined.")}updateWindowStartIndex(e,t,r,Ve){return Ve=this.findWindowStartIndex(e,t,r,Ve),Ve>0&&Ve--,Ve}findWindowStartIndex(e,t,r,Ve){let je=0,ze=e.length-1;for(;ze>0&&isNaN(t(e[ze]));)ze-=1;let Xe=ze,We=Math.max(0,Math.min(Xe,Ve));const qe=Ke=>{for(;Ke<=ze;){const Ze=t(e[Ke]);if(isNaN(Ze))Ke+=1;else return Ze}return t(e[ze])};for(;je<Xe;){const Ke=qe(We);if(Ke===r){je=We;break}else Ke>r?Xe=We-1:je=We;if(je>=Xe)break;const Ze=qe(Xe),Je=qe(je),Qe=(Xe-je+1)/(Ze-Je);We=je+Math.round((r-Je)*Qe),We=Math.max(je+1,Math.min(We,Xe))}for(;je>0&&t(e[je])>r;)je-=1;return je}formatDefaultTrackerString(e,t,r){var Ve,je,ze,Xe;if(!this.trackerStringFormatter)return;const We={item:e,title:this.title||""};return t&&(We.xTitle=((Ve=this.xAxis)==null?void 0:Ve.title)??yl.defaultXAxisTitle,We.xValue=(je=this.xAxis)==null?void 0:je.getValue(t.x),We.yTitle=((ze=this.yAxis)==null?void 0:ze.title)??yl.defaultYAxisTitle,We.yValue=(Xe=this.yAxis)==null?void 0:Xe.getValue(t.y)),r&&r(We),this.trackerStringFormatter(We)}};D$1(ne$1,"DefaultTrackerFormatter",$e=>`${$e.title||""}
${$e.xTitle}: ${$e.xValue}
${$e.yTitle}: ${$e.yValue}`),D$1(ne$1,"defaultXAxisTitle","X"),D$1(ne$1,"defaultYAxisTitle","Y");let XYAxisSeries=ne$1;class DataPointSeries extends XYAxisSeries{constructor(e){super(e),D$1(this,"_points",[]),D$1(this,"_itemsSourcePoints",[]),D$1(this,"canTrackerInterpolatePoints",!1),D$1(this,"dataFieldX"),D$1(this,"dataFieldY"),D$1(this,"mapping"),e&&e.points&&(this._points.push(...e.points),delete e.points)}get points(){return this._points}get actualPoints(){return this.itemsSource?this._itemsSourcePoints:this._points}getNearestPoint(e,t){if(t&&!this.canTrackerInterpolatePoints)return;let r;return t&&(r=this.getNearestInterpolatedPointInternal(this.actualPoints,0,e)),r||(r=this.getNearestPointInternal(this.actualPoints,0,e)),r&&this.trackerStringFormatter&&(r.text=this.formatDefaultTrackerString(r.item,r.dataPoint)),r}updateData(){this.itemsSource&&this.updateItemsSourcePoints()}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMin(this.actualPoints)}getItem(e){const t=this.actualPoints;return!this.itemsSource&&t&&e<t.length?t[e]:super.getItem(e)}clearItemsSourcePoints(){this._itemsSourcePoints&&(this._itemsSourcePoints.length=0)}updateItemsSourcePoints(){if(!this.itemsSource)return;const e=this.itemsSource;if(this.mapping){this.clearItemsSourcePoints();for(const t of e)this._itemsSourcePoints.push(this.mapping(t));return}this.clearItemsSourcePoints();for(const t of e){const r=this.convertToDataPoint(t);r&&this._itemsSourcePoints.push(r)}}convertToDataPoint(e){if(e){if(isDataPoint(e))return e;if(this.dataFieldX&&this.dataFieldY){const t=this.xAxis?this.xAxis.itemToDouble(e[this.dataFieldX]):Number(e[this.dataFieldX]),r=this.yAxis?this.yAxis.itemToDouble(e[this.dataFieldY]):Number(e[this.dataFieldY]);return newDataPoint(t,r)}if(isDataPointProvider(e))return e.getDataPoint();throw new Error(`Cannot convert item ${e} to DataPoint`)}}}const _e=class jh extends DataPointSeries{constructor(e){super(e),D$1(this,"outputBuffer"),D$1(this,"contiguousScreenPointsBuffer"),D$1(this,"decimatorBuffer",[]),D$1(this,"defaultColor",OxyColors.Undefined),D$1(this,"defaultMarkerFill",OxyColors.Undefined),D$1(this,"defaultLineStyle",LineStyle.Solid),D$1(this,"_smoothedPoints"),D$1(this,"color"),D$1(this,"brokenLineColor"),D$1(this,"brokenLineStyle",LineStyle.Solid),D$1(this,"brokenLineThickness",0),D$1(this,"dashes"),D$1(this,"decimator"),D$1(this,"labelStringFormatter"),D$1(this,"labelMargin"),D$1(this,"lineJoin"),D$1(this,"lineStyle"),D$1(this,"lineLegendPosition",0),D$1(this,"markerFill"),D$1(this,"markerOutline"),D$1(this,"markerResolution"),D$1(this,"markerSize"),D$1(this,"markerStroke"),D$1(this,"markerStrokeThickness"),D$1(this,"markerType"),D$1(this,"minimumSegmentLength"),D$1(this,"interpolationAlgorithm"),D$1(this,"strokeThickness"),this.strokeThickness=2,this.lineJoin=LineJoin.Bevel,this.lineStyle=LineStyle.Automatic,this.color=OxyColors.Automatic,this.brokenLineColor=OxyColors.Undefined,this.markerFill=OxyColors.Automatic,this.markerStroke=OxyColors.Automatic,this.markerResolution=0,this.markerSize=3,this.markerStrokeThickness=1,this.markerType=MarkerType.None,this.minimumSegmentLength=2,this.canTrackerInterpolatePoints=!0,this.labelMargin=6,this._smoothedPoints=new Array,e&&Object.assign(this,removeUndef(e))}get actualColor(){return this.color.getActualColor(this.defaultColor)}get actualMarkerFill(){return this.markerFill.getActualColor(this.defaultMarkerFill)}get actualLineStyle(){return this.lineStyle!=LineStyle.Automatic?this.lineStyle:this.defaultLineStyle}get actualDashArray(){return this.dashes??LineStyleHelper.getDashArray(this.actualLineStyle)}get smoothedPoints(){return this._smoothedPoints}getNearestPoint(e,t){if(t&&(this.actualColor.isInvisible()||this.strokeThickness===0||!this.canTrackerInterpolatePoints))return;const r=this.trackerStringFormatter;if(t&&this.interpolationAlgorithm){const Ve=this.getNearestInterpolatedPointInternal(this.smoothedPoints,0,e);return Ve&&r&&(Ve.text=r({item:Ve.item,title:this.title,xTitle:this.xAxis.title??XYAxisSeries.defaultXAxisTitle,xValue:this.xAxis.getValue(Ve.dataPoint.x),yTitle:this.yAxis.title??XYAxisSeries.defaultYAxisTitle,yValue:this.yAxis.getValue(Ve.dataPoint.y)})),Ve}return super.getNearestPoint(e,t)}async render(e){const t=this.actualPoints;!t||t.length===0||(this.verifyAxes(),await this.renderPoints(e,t),this.labelStringFormatter&&await this.renderPointLabels(e),this.lineLegendPosition!==0&&this.title&&await this.renderLegendOnLine(e))}async renderLegend(e,t){const r=(t.left+t.right)/2,Ve=(t.top+t.bottom)/2,je=[newScreenPoint(t.left,Ve),newScreenPoint(t.right,Ve)];await e.drawLine(je,this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode,this.actualDashArray);const ze=newScreenPoint(r,Ve);await RenderingExtensions.drawMarker(e,ze,this.markerType,this.markerOutline,this.markerSize,this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)}setDefaultValues(){this.lineStyle===LineStyle.Automatic&&(this.defaultLineStyle=this.plotModel.getDefaultLineStyle()),this.color.isAutomatic()&&(this.defaultColor=this.plotModel.getDefaultColor()),this.markerFill.isAutomatic()&&(this.defaultMarkerFill=this.color.isAutomatic()?this.defaultColor:this.color)}updateMaxMin(){if(this.interpolationAlgorithm){if(super.updateMaxMin(),this.resetSmoothedPoints(),this.smoothedPoints.every(r=>isNaN(r.x)))return;const e=this.smoothedPoints.filter(r=>!isNaN(r.x)).map(r=>r.x),t=this.smoothedPoints.filter(r=>!isNaN(r.y)).map(r=>r.y);this.minX=minValueOfArray(e),this.minY=minValueOfArray(t),this.maxX=maxValueOfArray(e),this.maxY=maxValueOfArray(t)}else super.updateMaxMin()}async renderPoints(e,t){let r;const Ve=this.brokenLineThickness>0&&this.brokenLineStyle!==LineStyle.None,je=Ve?LineStyleHelper.getDashArray(this.brokenLineStyle):void 0,ze=Ve?[]:void 0;this.contiguousScreenPointsBuffer||(this.contiguousScreenPointsBuffer=[]);let Xe=0,We=Number_MAX_VALUE;if(this.isXMonotonic){const qe=this.xAxis.clipMinimum;We=this.xAxis.clipMaximum,this.windowStartIndex=this.updateWindowStartIndex(t,Ke=>Ke.x,qe,this.windowStartIndex),Xe=this.windowStartIndex}for(let qe=Xe;qe<t.length;qe++){const{result:Ke,pointIdx:Ze,previousContiguousLineSegmentEndPoint:Je}=this.extractNextContiguousLineSegment(t,qe,r,We,ze,this.contiguousScreenPointsBuffer);if(qe=Ze,r=Je,!Ke)break;if(Ve){if(ze&&ze.length>0){const Qe=this.brokenLineColor.isAutomatic()?this.actualColor:this.brokenLineColor;await e.drawLineSegments(ze,Qe,this.brokenLineThickness,this.edgeRenderingMode,je,this.lineJoin),ze.length=0}}else r=void 0;this.decimator?(this.decimatorBuffer?this.decimatorBuffer.length=0:this.decimatorBuffer=[],this.decimator(this.contiguousScreenPointsBuffer,this.decimatorBuffer),await this.renderLineAndMarkers(e,this.decimatorBuffer)):await this.renderLineAndMarkers(e,this.contiguousScreenPointsBuffer),this.contiguousScreenPointsBuffer.length=0}}extractNextContiguousLineSegment(e,t,r,Ve,je,ze){let Xe=newDataPoint(0,0),We=!1;for(;t<e.length;t++){if(Xe=e[t],Xe.x>Ve)return{result:!1,pointIdx:t,previousContiguousLineSegmentEndPoint:r};if(We=this.isValidPoint(Xe),We)break}if(!We)return{result:!1,pointIdx:t,previousContiguousLineSegmentEndPoint:r};let qe=this.transform(Xe);r&&(je.push(r),je.push(qe)),ze.push(qe);let Ke=0;for(t++;t<e.length&&(Xe=e[t],Ke+=Xe.x>Ve?1:0,!(Ke>1||!this.isValidPoint(Xe)));t++)qe=this.transform(Xe),ze.push(qe);return r=qe,{result:!0,pointIdx:t,previousContiguousLineSegmentEndPoint:r}}async renderPointLabels(e){if(!this.labelStringFormatter)return;let t=-1;for(const r of this.actualPoints){if(t++,!this.isValidPoint(r))continue;const Ve=screenPointPlus(this.transform(r),new ScreenVector(0,-this.labelMargin)),je=this.getItem(t),ze=this.labelStringFormatter(je,[r.x,r.y]);await e.drawText(Ve,ze,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Bottom)}}async renderLegendOnLine(e){if(!this.title)return;let t,r,Ve=VerticalAlignment.Middle,je=4;switch(this.lineLegendPosition){case 1:t=this.actualPoints[0],r=HorizontalAlignment.Right,je=-je;break;case 2:t=this.actualPoints[this.actualPoints.length-1],r=HorizontalAlignment.Left;break;case 0:return;default:throw new Error("Invalid LineLegendPosition")}const ze=PlotElementExtensions.orientateAlignment(this,r,Ve);r=ze[0],Ve=ze[1];const Xe=PlotElementExtensions.orientateVector(this,new ScreenVector(je,0)),We=screenPointPlus(this.transform(t),Xe);await e.drawText(We,this.title,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,r,Ve)}async renderLineAndMarkers(e,t){let r=t;if(this.interpolationAlgorithm){const Ve=ScreenPointHelper.resamplePoints(t,this.minimumSegmentLength);r=this.interpolationAlgorithm.createSplineSp(Ve,!1,.25)}if(this.strokeThickness>0&&this.actualLineStyle!==LineStyle.None&&await this.renderLine(e,r),this.markerType!==MarkerType.None){const Ve=this.markerResolution>0?PlotElementExtensions.transform(this,this.minX,this.minY):ScreenPoint_LeftTop;await RenderingExtensions.drawMarkers(e,t,this.markerType,this.markerOutline,[this.markerSize],this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,this.markerResolution,Ve)}}async renderLine(e,t){const r=this.actualDashArray;this.outputBuffer||(this.outputBuffer=[]),await RenderingExtensions.drawReducedLine(e,t,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode,r,this.lineJoin,this.outputBuffer)}resetSmoothedPoints(){const e=Math.abs(Math.max(this.maxX-this.minX,this.maxY-this.minY)/jh.ToleranceDivisor);this._smoothedPoints=this.interpolationAlgorithm.createSplineDp(this.actualPoints,!1,e)}};D$1(_e,"ToleranceDivisor",200);class BarItemBase{constructor(e){D$1(this,"categoryIndex"),this.categoryIndex=-1,e&&(isNullOrUndef(e.categoryIndex)||(this.categoryIndex=e.categoryIndex))}getCategoryIndex(e){return this.categoryIndex<0?e:this.categoryIndex}}class BarItem extends BarItemBase{constructor(e){super(e),D$1(this,"color"),D$1(this,"value",0),this.color=OxyColors.Automatic,e&&Object.assign(this,removeUndef(e))}static fromValue(e){return new BarItem({value:e})}}class BarSeriesBase extends XYAxisSeries{constructor(e){super(e),D$1(this,"barWidth"),D$1(this,"itemsSourceItems"),D$1(this,"strokeColor"),D$1(this,"strokeThickness",0),D$1(this,"manager"),D$1(this,"validItems",[]),D$1(this,"validItemsIndexInversion",new Map),D$1(this,"labelColor",OxyColors.Undefined),D$1(this,"labelMargin",0),D$1(this,"labelAngle",0),D$1(this,"labelPlacement",LabelPlacement.Outside),D$1(this,"items",[]),this.strokeColor=OxyColors.Black,this.barWidth=1}get actualItems(){return this.itemsSource?this.itemsSourceItems:this.items}getActualBarWidth(){if(!this.manager)return 0;const e=this.getCategoryAxis();return this.barWidth/(1+e.gapWidth)/this.manager.getMaxWidth()}get categoryAxis(){return this.getCategoryAxis()}getCategoryAxis(){if(!(this.yAxis instanceof CategoryAxis))throw new Error("BarSeries requires a CategoryAxis on the Y Axis.");return this.yAxis}get valueAxis(){return this.xAxis}getItem(e){return this.itemsSource||!this.actualItems||this.actualItems.length===0?super.getItem(e):this.actualItems[e]}clearItemsSourceItems(){this.itemsSourceItems&&(this.itemsSourceItems.length=0)}isUsing(e){return this.xAxis===e||this.yAxis===e}async renderLabel(e,t,r,Ve,je,ze,Xe,...We){const qe=[];if(We.length)qe.push(...We);else if(t instanceof BarItem)qe.push(t.value);else if(t instanceof IntervalBarItem)qe.push(t.start),qe.push(t.end);else throw t instanceof TornadoBarItem?new Error("RenderLabel does not support automatic determination of label values for TornadoBarItem objects. Please populate the labelValues parameter."):new Error(`RenderLabel automatic value determination not implemented for ${this.constructor.name}. Please populate the labelValues parameter.`);const Ke=Xe?Xe(t,qe):"";let Ze;const Je=(ze+je)/2,Qe=Math.sign(Ve-r);let ti=new ScreenVector(this.labelMargin,0).times(Qe),ni=new ScreenVector(0,0);const ri=RenderingExtensions.measureText(e,Ke,this.actualFont,this.actualFontSize,this.actualFontWeight,this.labelAngle),ii=(PlotElementExtensions.isTransposed(this)?ri.height:ri.width)/2,ei=PlotElementExtensions.transform;switch(this.labelPlacement){case LabelPlacement.Inside:Ze=ei(this,Ve,Je),ti=ti.negate(),ni=new ScreenVector(-Qe*ii,0);break;case LabelPlacement.Outside:Ze=ei(this,Ve,Je),ni=new ScreenVector(Qe*ii,0);break;case LabelPlacement.Middle:Ze=ei(this,(Ve+r)/2,Je),ti=new ScreenVector(0,0);break;case LabelPlacement.Base:Ze=ei(this,r,Je),ni=new ScreenVector(Qe*ii,0);break;default:throw new Error("Invalid label placement")}const St=PlotElementExtensions.orientateVector;Ze=screenPointPlus(screenPointPlus(Ze,St(this,ti)),St(this,ni)),await e.drawText(Ze,Ke,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.labelAngle,HorizontalAlignment.Center,VerticalAlignment.Middle)}updateAxisMaxMin(){this.xAxis.include(this.minX),this.xAxis.include(this.maxX)}updateData(){this.clearItemsSourceItems(),!(!this.itemsSource||this.itemsSource.length==0)&&(this.updateFromDataFields()||(this.itemsSourceItems||(this.itemsSourceItems=[]),this.itemsSourceItems.push(...this.itemsSource)))}updateValidData(){this.validItems.length=0,this.validItemsIndexInversion.clear();const e=this.manager.categories.length;for(let t=0;t<this.actualItems.length;t++){const r=this.actualItems[t];r&&r.getCategoryIndex(t)<e&&this.isValid(r)&&(this.validItemsIndexInversion.set(this.validItems.length,t),this.validItems.push(r))}}}D$1(BarSeriesBase,"DefaultCategoryAxisTitle","Category"),D$1(BarSeriesBase,"DefaultValueAxisTitle","Value");const Se=class zh extends BarSeriesBase{constructor(e){super(e),D$1(this,"defaultFillColor",OxyColors.Undefined),D$1(this,"trackerStringFormatter"),D$1(this,"baseValue"),D$1(this,"baseLine"),D$1(this,"actualBaseLine"),D$1(this,"colorField"),D$1(this,"fillColor"),D$1(this,"isStacked",!1),D$1(this,"overlapsStack",!1),D$1(this,"labelStringFormatter"),D$1(this,"negativeFillColor"),D$1(this,"stackGroup"),D$1(this,"valueField"),D$1(this,"actualBarRectangles"),this.fillColor=OxyColors.Automatic,this.negativeFillColor=OxyColors.Undefined,this.trackerStringFormatter=zh.DefaultTrackerFormatter,this.labelMargin=2,this.labelAngle=0,this.stackGroup="",this.strokeThickness=0,this.baseValue=0,this.baseLine=NaN,this.actualBaseLine=NaN,e&&Object.assign(this,removeUndef(e))}get actualFillColor(){return this.fillColor.getActualColor(this.defaultFillColor)}getNearestPoint(e,t){if(!this.actualBarRectangles||this.validItems.length===0)return;let r=0;for(const Ve of this.actualBarRectangles){if(Ve.containsPoint(e)){const je=this.validItems[r],ze=je.getCategoryIndex(r),Xe=newDataPoint(ze,this.validItems[r].value),We=this.getItem(this.validItemsIndexInversion.get(r));return new TrackerHitResult({series:this,dataPoint:Xe,position:e,item:We,index:r,text:this.getTrackerText(je,We,ze)})}r++}}renderLegend(e,t){const r=(t.left+t.right)/2,Ve=(t.top+t.bottom)/2,je=(t.bottom-t.top)*.8,ze=je;return e.drawRectangle(new OxyRect(r-.5*ze,Ve-.5*je,ze,je),this.getSelectableColor(this.actualFillColor),this.strokeColor,this.strokeThickness,this.edgeRenderingMode)}setDefaultValues(){this.fillColor.isAutomatic()&&(this.defaultFillColor=this.plotModel.getDefaultColor())}updateAxisMaxMin(){super.updateAxisMaxMin(),this.computeActualBaseLine(),this.xAxis.include(this.actualBaseLine)}computeActualBaseLine(){if(isNaN(this.baseLine))if(this.xAxis.isLogarithmic()){const e=(this.actualItems||[]).map(r=>r.value),t=minValueOfArray(e.filter(r=>r>0),1);this.actualBaseLine=Math.max(t/10,this.baseValue)}else this.actualBaseLine=0;else this.actualBaseLine=this.baseLine}updateMaxMin(){if(super.updateMaxMin(),this.validItems.length===0)return;const e=this.getCategoryAxis();let t=Number_MAX_VALUE,r=Number_MIN_VALUE;const Ve=this.manager;if(this.isStacked){const je=e.actualLabels;for(let ze=0;ze<je.length;ze++){let Xe=0;const We=this.validItems.filter(ti=>ti.getCategoryIndex(Xe++)===ze).map(ti=>ti.value).concat([0]);let qe=We.filter(ti=>ti<=0).reduce((ti,ni)=>ti+ni,0),Ke=We.filter(ti=>ti>=0).reduce((ti,ni)=>ti+ni,0);const Ze=Ve.getStackIndex(this.stackGroup),Je=Ve.getCurrentMinValue(Ze,ze);isNaN(Je)||(qe+=Je),Ve.setCurrentMinValue(Ze,ze,qe);const Qe=Ve.getCurrentMaxValue(Ze,ze);!this.overlapsStack&&!isNaN(Qe)&&(Ke+=Qe),Ve.setCurrentMaxValue(Ze,ze,Ke),t=Math.min(t,qe+this.baseValue),r=Math.max(r,Ke+this.baseValue)}}else{const je=this.validItems.map(ze=>ze.value).concat([0]);t=minValueOfArray(je),r=maxValueOfArray(je),this.baseValue<t&&(t=this.baseValue),this.baseValue>r&&(r=this.baseValue)}this.minX=t,this.maxX=r}getTrackerText(e,t,r){if(!this.trackerStringFormatter)return;const Ve=this.getCategoryAxis(),je=this.xAxis;return this.trackerStringFormatter({item:t,title:this.title,category:Ve.formatValue(r),value:je==null?void 0:je.getValue(e.value)})}isValid(e){return this.xAxis.isValidValue(e.value)}async renderItem(e,t,r,Ve,je,ze){let Xe=je.color;Xe.isAutomatic()&&(Xe=this.actualFillColor,je.value<0&&!this.negativeFillColor.isUndefined()&&(Xe=this.negativeFillColor));const We=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);await e.drawRectangle(ze,this.getSelectableFillColor(Xe),this.strokeColor,this.strokeThickness,We)}async render(e){if(this.actualBarRectangles=[],this.validItems.length===0)return;const t=this.manager,r=this.yAxis,Ve=this.xAxis,je=PlotElementExtensions.transform,ze=this.getActualBarWidth(),Xe=this.isStacked?t.getStackIndex(this.stackGroup):0;for(let We=0;We<this.validItems.length;We++){const qe=this.validItems[We],Ke=qe.getCategoryIndex(We),Ze=qe.value;let Je=NaN;this.isStacked&&!this.overlapsStack&&(Je=t.getCurrentBaseValue(Xe,Ke,Ze<0)),isNaN(Je)&&(Je=this.baseValue);const Qe=this.isStacked?Je+Ze:Ze;if(r.isLogarithmic()&&!r.isValidValue(Qe))continue;let ti;this.isStacked?ti=t.getCategoryValue(Ke,Xe,ze):ti=Ke-.5+t.getCurrentBarOffset(Ke),this.isStacked&&t.setCurrentBaseValue(Xe,Ke,Ze<0,Qe);const ni=Ve.isLogarithmic()&&!Ve.isValidValue(Je),ri=je(this,ni?Ve.clipMinimum:Je,ti),ii=je(this,Qe,ti+ze),ei=OxyRect.fromScreenPoints(ri,ii);this.actualBarRectangles.push(ei),await this.renderItem(e,Qe,ti,ze,qe,ei),this.labelStringFormatter&&await this.renderLabel(e,qe,Je,Qe,ti,ti+ze,this.labelStringFormatter),this.isStacked||t.increaseCurrentBarOffset(Ke,ze)}}updateFromDataFields(){if(!this.valueField)return!1;if(!this.itemsSource||this.itemsSource.length==0)return!0;this.itemsSourceItems=this.itemsSourceItems||[];for(const e of this.itemsSource){if(isNullOrUndef(e))continue;const t=e[this.valueField],r=new BarItem;r.value=isNullOrUndef(t)?NaN:t;let Ve=OxyColors.Automatic;this.colorField&&e[this.colorField]&&e[this.colorField]instanceof OxyColor&&(Ve=e[this.colorField]),r.color=Ve,this.itemsSourceItems.push(r)}return!0}};D$1(Se,"DefaultTrackerFormatter",$e=>`${$e.title||""}
${$e.category}: ${$e.value}`);let BarSeries=Se;class IntervalBarItem extends BarItemBase{constructor(e){super(e),D$1(this,"color"),D$1(this,"end",0),D$1(this,"start",0),D$1(this,"title"),this.color=OxyColors.Automatic,e&&Object.assign(this,removeUndef(e))}}const Ce=class Hh extends BarSeriesBase{constructor(e){super(e),D$1(this,"defaultFillColor",OxyColors.Undefined),D$1(this,"trackerStringFormatter"),D$1(this,"colorField"),D$1(this,"endField"),D$1(this,"fillColor"),D$1(this,"isStacked",!0),D$1(this,"overlapsStack",!0),D$1(this,"labelStringFormatter",(t,r)=>`${r[0]} - ${r[1]}`),D$1(this,"stackGroup",""),D$1(this,"startField"),D$1(this,"actualBarRectangles",[]),this.fillColor=OxyColors.Automatic,this.strokeThickness=1,this.trackerStringFormatter=Hh.DefaultTrackerStringFormatter,this.labelMargin=4,this.labelPlacement=LabelPlacement.Middle,e&&Object.assign(this,removeUndef(e))}get actualFillColor(){return this.fillColor.getActualColor(this.defaultFillColor)}getNearestPoint(e,t){for(let r=0;r<this.actualBarRectangles.length;r++){if(!this.actualBarRectangles[r].containsPoint(e))continue;const Ve=this.getItem(this.validItemsIndexInversion.get(r)),je=Ve.getCategoryIndex(r),ze=(this.validItems[r].start+this.validItems[r].end)/2,Xe=newDataPoint(je,ze),We=this.getCategoryAxis(),qe=this.xAxis,Ke=this.trackerStringFormatter({item:Ve,title:this.title,categoryTitle:We.title??BarSeriesBase.DefaultCategoryAxisTitle,categoryValue:We.formatValue(je),valueTitle:qe.title??BarSeriesBase.DefaultValueAxisTitle});return new TrackerHitResult({series:this,dataPoint:Xe,position:e,item:Ve,index:r,text:Ke})}}async renderLegend(e,t){const r=(t.left+t.right)/2,Ve=(t.top+t.bottom)/2,je=(t.bottom-t.top)*.8,ze=je;await e.drawRectangle(new OxyRect(r-.5*ze,Ve-.5*je,ze,je),this.getSelectableFillColor(this.actualFillColor),this.strokeColor,this.strokeThickness,this.edgeRenderingMode)}setDefaultValues(){this.fillColor.isAutomatic()&&(this.defaultFillColor=this.plotModel.getDefaultColor())}updateMaxMin(){if(super.updateMaxMin(),this.validItems.length===0)return;let e=Number_MAX_VALUE,t=Number_MIN_VALUE;for(const r of this.validItems)e=Math.min(e,r.start),e=Math.min(e,r.end),t=Math.max(t,r.start),t=Math.max(t,r.end);this.minX=e,this.maxX=t}isValid(e){return this.xAxis.isValidValue(e.start)&&this.xAxis.isValidValue(e.end)}async render(e){if(this.actualBarRectangles=[],this.validItems.length===0)return;const t=this.getActualBarWidth(),r=this.manager.getStackIndex(this.stackGroup),Ve=PlotElementExtensions.transform,je=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);for(let ze=0;ze<this.validItems.length;ze++){const Xe=this.validItems[ze],We=Xe.getCategoryIndex(ze),qe=this.manager.getCategoryValue(We,r,t),Ke=Ve(this,Xe.start,qe),Ze=Ve(this,Xe.end,qe+t),Je=OxyRect.fromScreenPoints(Ke,Ze);this.actualBarRectangles.push(Je),await e.drawRectangle(Je,this.getSelectableFillColor(Xe.color.getActualColor(this.actualFillColor)),this.strokeColor,this.strokeThickness,je),this.labelStringFormatter&&await this.renderLabel(e,this.getItem(ze),Xe.start,Xe.end,qe,qe+t,this.labelStringFormatter)}}updateFromDataFields(){var e;if(!this.startField||!this.endField||!this.itemsSource)return!1;for(const t of this.itemsSource){const r=getOrDefault(t,this.startField,NaN),Ve=getOrDefault(t,this.endField,NaN),je=getOrDefault(t,this.colorField,OxyColors.Automatic);(e=this.itemsSourceItems)==null||e.push(new IntervalBarItem({start:r,end:Ve,color:je}))}return!0}};D$1(Ce,"DefaultTrackerStringFormatter",$e=>{var e,t;return`${$e.title}
${$e.categoryTitle}: ${$e.categoryValue}
${$e.valueTitle}: ${(e=$e.item)==null?void 0:e.start} - ${(t=$e.item)==null?void 0:t.end}`});var LabelPlacement=($e=>($e[$e.Outside=0]="Outside",$e[$e.Inside=1]="Inside",$e[$e.Middle=2]="Middle",$e[$e.Base=3]="Base",$e))(LabelPlacement||{});const Ae=class Xh extends BarSeries{constructor(e){super(e),D$1(this,"errorStrokeThickness"),D$1(this,"errorWidth"),this.errorWidth=.4,this.errorStrokeThickness=1,this.trackerStringFormatter=Xh.DefaultTrackerStringFormatter,e&&Object.assign(this,removeUndef(e))}updateMaxMin(){if(super.updateMaxMin(),this.validItems.length===0)return;let e=Number_MAX_VALUE,t=Number_MIN_VALUE;if(!this.isStacked){const r=this.validItems.map(je=>je.value-je.error).concat([0]),Ve=this.validItems.map(je=>je.value+je.error).concat([0]);e=minValueOfArray(r),t=maxValueOfArray(Ve),this.baseValue<e&&(e=this.baseValue),this.baseValue>t&&(t=this.baseValue)}this.minX=e,this.maxX=t}async renderItem(e,t,r,Ve,je,ze){await super.renderItem(e,t,r,Ve,je,ze);const Xe=t-je.error,We=t+je.error,qe=.5-this.errorWidth/2,Ke=.5+this.errorWidth/2,Ze=r+qe*Ve,Je=r+.5*Ve,Qe=r+Ke*Ve,ti=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness),ni=PlotElementExtensions.transform,ri=ni(this,Xe,Je),ii=ni(this,We,Je);if(await e.drawLine([ri,ii],this.strokeColor,this.errorStrokeThickness,ti,void 0,LineJoin.Miter),this.errorWidth>0){const ei=ni(this,Xe,Ze),St=ni(this,Xe,Qe);await e.drawLine([ei,St],this.strokeColor,this.errorStrokeThickness,ti,void 0,LineJoin.Miter);const oi=ni(this,We,Ze),si=ni(this,We,Qe);await e.drawLine([oi,si],this.strokeColor,this.errorStrokeThickness,ti,void 0,LineJoin.Miter)}}};D$1(Ae,"DefaultTrackerStringFormatter",$e=>`${$e.title||""}
${$e.category}: ${$e.value}, Error: ${round($e.item.error,3)}`);class TornadoBarItem extends BarItemBase{constructor(e){super(e),D$1(this,"baseValue"),D$1(this,"maximum"),D$1(this,"maximumColor"),D$1(this,"minimum"),D$1(this,"minimumColor"),this.minimum=NaN,this.maximum=NaN,this.baseValue=NaN,this.minimumColor=OxyColors.Automatic,this.maximumColor=OxyColors.Automatic,e&&Object.assign(this,removeUndef(e))}}const Me=class Gh extends BarSeriesBase{constructor(e){super(e),D$1(this,"defaultMaximumFillColor",OxyColors.Undefined),D$1(this,"defaultMinimumFillColor",OxyColors.Undefined),D$1(this,"baseField"),D$1(this,"baseValue",NaN),D$1(this,"maximumColorField"),D$1(this,"maximumField"),D$1(this,"maximumFillColor"),D$1(this,"maximumLabelStringFormatter"),D$1(this,"minimumColorField"),D$1(this,"minimumField"),D$1(this,"minimumFillColor"),D$1(this,"minimumLabelStringFormatter"),D$1(this,"actualMaximumBarRectangles",[]),D$1(this,"actualMinimumBarRectangles",[]),this.maximumFillColor=OxyColor.fromRgb(216,82,85),this.minimumFillColor=OxyColor.fromRgb(84,138,209),this.strokeColor=OxyColors.Black,this.strokeThickness=1,this.trackerStringFormatter=Gh.defaultTrackerStringFormatter,this.labelMargin=4,this.minimumLabelStringFormatter=(t,r)=>r[0].toString(),this.maximumLabelStringFormatter=(t,r)=>r[0].toString(),e&&Object.assign(this,removeUndef(e))}get actualMaximumFillColor(){return this.maximumFillColor.getActualColor(this.defaultMaximumFillColor)}get actualMinimumFillColor(){return this.minimumFillColor.getActualColor(this.defaultMinimumFillColor)}getNearestPoint(e,t){for(let r=0;r<this.actualMinimumBarRectangles.length;r++){const Ve=this.actualMinimumBarRectangles[r].containsPoint(e),je=this.actualMaximumBarRectangles[r].containsPoint(e);if(Ve||je){const ze=this.getItem(this.validItemsIndexInversion.get(r)),Xe=ze.getCategoryIndex(r),We=je?this.validItems[r].maximum:this.validItems[r].minimum,qe=newDataPoint(Xe,We),Ke=this.getCategoryAxis(),Ze=this.trackerStringFormatter({item:ze,title:this.title,yTitle:Ke.title??BarSeriesBase.DefaultCategoryAxisTitle,yValue:Ke.formatValue(Xe),xTitle:this.xAxis.title??BarSeriesBase.DefaultValueAxisTitle,xValue:this.xAxis.getValue(We)});return new TrackerHitResult({series:this,dataPoint:qe,position:e,item:ze,index:r,text:Ze})}}}async render(e){if(this.actualMinimumBarRectangles=[],this.actualMaximumBarRectangles=[],this.validItems.length===0)return;const t=this.getActualBarWidth();for(let r=0;r<this.validItems.length;r++){const Ve=this.validItems[r],je=Ve.getCategoryIndex(r),ze=isNaN(Ve.baseValue)?this.baseValue:Ve.baseValue,Xe=this.manager.getCurrentBarOffset(je),We=je-.5+Xe,qe=We+t,Ke=PlotElementExtensions.transform,Ze=Ke(this,Ve.minimum,We),Je=Ke(this,Ve.maximum,We),Qe=Ke(this,ze,We+t),ti=OxyRect.fromScreenPoints(Ze,Qe),ni=OxyRect.fromScreenPoints(Je,Qe);this.actualMinimumBarRectangles.push(ti),this.actualMaximumBarRectangles.push(ni);const ri=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);await e.drawRectangle(ti,Ve.minimumColor.getActualColor(this.actualMinimumFillColor),this.strokeColor,this.strokeThickness,ri),await e.drawRectangle(ni,Ve.maximumColor.getActualColor(this.actualMaximumFillColor),this.strokeColor,this.strokeThickness,ri),this.minimumLabelStringFormatter&&await this.renderLabel(e,Ve,ze,Ve.minimum,We,qe,this.minimumLabelStringFormatter,Ve.minimum),this.maximumLabelStringFormatter&&await this.renderLabel(e,Ve,ze,Ve.maximum,We,qe,this.maximumLabelStringFormatter,Ve.maximum)}}async renderLegend(e,t){const r=(t.left+t.right)/2,Ve=(t.top+t.bottom)/2,je=(t.bottom-t.top)*.8,ze=je,Xe=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);await e.drawRectangle(new OxyRect(r-.5*ze,Ve-.5*je,.5*ze,je),this.actualMinimumFillColor,this.strokeColor,this.strokeThickness,Xe),await e.drawRectangle(new OxyRect(r,Ve-.5*je,.5*ze,je),this.actualMaximumFillColor,this.strokeColor,this.strokeThickness,Xe)}setDefaultValues(){this.maximumFillColor.isAutomatic()&&(this.defaultMaximumFillColor=this.plotModel.getDefaultColor()),this.minimumFillColor.isAutomatic()&&(this.defaultMinimumFillColor=this.plotModel.getDefaultColor())}updateMaxMin(){if(super.updateMaxMin(),this.validItems.length===0)return;let e=Number_MAX_VALUE,t=Number_MIN_VALUE;for(const r of this.validItems)e=Math.min(e,r.minimum),t=Math.max(t,r.maximum);this.minX=e,this.maxX=t}isValid(e){return this.xAxis.isValidValue(e.minimum)&&this.xAxis.isValidValue(e.maximum)}updateFromDataFields(){if(!this.minimumField||!this.maximumField||!this.itemsSource)return!1;this.itemsSourceItems?this.itemsSourceItems.length=0:this.itemsSourceItems=[];for(const e of this.itemsSource){if(!e)continue;if(e instanceof TornadoBarItem){this.itemsSourceItems.push(e);continue}const t=getOrDefault(e,this.minimumField,Number.NaN),r=getOrDefault(e,this.maximumField,Number.NaN),Ve=getOrDefault(e,this.baseField,Number.NaN),je=getOrDefault(e,this.minimumColorField,OxyColors.Automatic),ze=getOrDefault(e,this.maximumColorField,OxyColors.Automatic);this.itemsSourceItems.push(new TornadoBarItem({minimum:t,maximum:r,baseValue:Ve,minimumColor:je,maximumColor:ze}))}return!0}};D$1(Me,"defaultTrackerStringFormatter",$e=>`${$e.title||""}
${$e.yTitle}: ${$e.yValue}
${$e.xTitle}: ${$e.xValue}`);const Ee=class qh extends XYAxisSeries{constructor(e){super(e),D$1(this,"defaultFillColor",OxyColors.Undefined),D$1(this,"fillColor"),D$1(this,"items"),D$1(this,"labelStringFormatter"),D$1(this,"strokeColor"),D$1(this,"strokeThickness"),D$1(this,"actualBarRectangles",[]),D$1(this,"actualItems",[]),this.items=[],this.fillColor=OxyColors.Automatic,this.strokeColor=OxyColors.Black,this.strokeThickness=1,this.trackerStringFormatter=qh.defaultTrackerStringFormatter,this.labelStringFormatter=(t,r)=>`${r[4]||""}`,e&&Object.assign(this,removeUndef(e))}get actualFillColor(){return this.fillColor.getActualColor(this.defaultFillColor)}getNearestPoint(e,t){if(!(!this.actualBarRectangles||!this.actualItems)){for(let r=0;r<this.actualBarRectangles.length;r++)if(this.actualBarRectangles[r].containsPoint(e)){const Ve=(this.actualItems[r].y0+this.actualItems[r].y1)/2,je=e,ze=newDataPoint(r,Ve),Xe=this.actualItems[r],We=this.formatDefaultTrackerString(Xe,newDataPoint(this.actualItems[r].x0,this.actualItems[r].y0),qe=>{qe.x1Value=this.xAxis.getValue(this.actualItems[r].x1),qe.y1Value=this.yAxis.getValue(this.actualItems[r].y1)});return new TrackerHitResult({series:this,dataPoint:ze,position:je,item:Xe,index:r,text:We})}}}async render(e){if(this.items.length===0)return;let t=0,r=Number_MAX_VALUE;if(this.actualBarRectangles=[],this.actualItems=[],this.isXMonotonic){const ze=this.xAxis.clipMinimum;r=this.xAxis.clipMaximum,this.windowStartIndex=this.updateWindowStartIndex(this.items,Xe=>Xe.x0,ze,this.windowStartIndex),t=this.windowStartIndex}const Ve=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);let je=0;for(let ze=t;ze<this.items.length;ze++){const Xe=this.items[ze];if(!this.isValid(Xe.x0)||!this.isValid(Xe.x1)||!this.isValid(Xe.y0)||!this.isValid(Xe.y1))continue;const We=PlotElementExtensions.transform,qe=We(this,Xe.x0,Xe.y0),Ke=We(this,Xe.x1,Xe.y1),Ze=OxyRect.create(qe.x,qe.y,Ke.x,Ke.y);if(this.actualBarRectangles.push(Ze),this.actualItems.push(Xe),await e.drawRectangle(Ze,this.getSelectableFillColor(Xe.color.getActualColor(this.actualFillColor)),this.strokeColor,this.strokeThickness,Ve),this.labelStringFormatter){const Je=this.labelStringFormatter(this.getItem(ze),[Xe.x0,Xe.x1,Xe.y0,Xe.y1,Xe.title]),Qe=newScreenPoint((Ze.left+Ze.right)/2,(Ze.top+Ze.bottom)/2);await e.drawText(Qe,Je,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Middle)}if(je+=Xe.x0>r?1:0,je>1)break}}async renderLegend(e,t){const r=(t.left+t.right)/2,Ve=(t.top+t.bottom)/2,je=(t.bottom-t.top)*.8,ze=je;await e.drawRectangle(new OxyRect(r-.5*ze,Ve-.5*je,ze,je),this.getSelectableFillColor(this.actualFillColor),this.strokeColor,this.strokeThickness,this.edgeRenderingMode)}setDefaultValues(){this.fillColor.isAutomatic()&&(this.defaultFillColor=this.plotModel.getDefaultColor())}updateData(){if(this.itemsSource)throw this.items=[],new Error("Not implemented")}updateMaxMin(){if(super.updateMaxMin(),this.isXMonotonic=!0,this.items===null||this.items.length===0)return;let e=Number_MAX_VALUE,t=Number_MIN_VALUE,r=Number_MAX_VALUE,Ve=Number_MIN_VALUE,je=Number_MIN_VALUE,ze=Number_MIN_VALUE;for(const Xe of this.items)(Xe.x0<je||Xe.x1<ze)&&(this.isXMonotonic=!1),e=Math.min(e,Math.min(Xe.x0,Xe.x1)),t=Math.max(t,Math.max(Xe.x1,Xe.x0)),r=Math.min(r,Math.min(Xe.y0,Xe.y1)),Ve=Math.max(Ve,Math.max(Xe.y0,Xe.y1)),je=Xe.x0,ze=Xe.x1;this.minX=e,this.maxX=t,this.minY=r,this.maxY=Ve}isValid(e){return!isNaN(e)&&isFinite(e)}};D$1(Ee,"defaultTrackerStringFormatter",$e=>`${$e.title}
${$e.xTitle}: ${$e.xValue} ${$e.x1Value}  
${$e.yTitle}: ${$e.yValue} ${$e.y1Value}`);const De=class Yh extends XYAxisSeries{constructor(e){super(e),D$1(this,"_items",[]),D$1(this,"defaultColor",OxyColors.Undefined),D$1(this,"trackerStringFormatter"),D$1(this,"color"),D$1(this,"dashes"),D$1(this,"dataFieldClose"),D$1(this,"dataFieldHigh"),D$1(this,"dataFieldLow"),D$1(this,"dataFieldOpen"),D$1(this,"dataFieldX"),D$1(this,"lineJoin",LineJoin.Miter),D$1(this,"lineStyle",LineStyle.Solid),D$1(this,"mapping"),D$1(this,"strokeThickness"),D$1(this,"tickLength"),this.color=OxyColors.Automatic,this.tickLength=4,this.strokeThickness=1,this.trackerStringFormatter=Yh.DefaultTrackerStringFormatter,e&&Object.assign(this,removeUndef(e))}get actualColor(){return this.color.getActualColor(this.defaultColor)}get items(){return this._items}getNearestPoint(e,t){if(!this.xAxis||!this.yAxis||t)return;let r=Number_MAX_VALUE,Ve;const je=(ze,Xe,We)=>{const qe=this.transform(ze),Ke=qe.x-e.x,Ze=qe.y-e.y,Je=Ke*Ke+Ze*Ze;if(Je<r){const Qe=this.formatHighLowItemTrackerString(Xe);Ve=new TrackerHitResult({series:this,dataPoint:ze,position:qe,item:Xe,index:We,text:Qe}),r=Je}};for(let ze=0;ze<this.items.length;ze++){const Xe=this.items[ze];je(newDataPoint(Xe.x,Xe.high),Xe,ze),je(newDataPoint(Xe.x,Xe.low),Xe,ze),je(newDataPoint(Xe.x,Xe.open),Xe,ze),je(newDataPoint(Xe.x,Xe.close),Xe,ze)}if(r<Number_MAX_VALUE)return Ve}formatHighLowItemTrackerString(e){return this.trackerStringFormatter&&this.trackerStringFormatter({item:e,title:this.title||"",xTitle:this.xAxis.title??XYAxisSeries.defaultXAxisTitle,xValue:this.xAxis.getValue(e.x),high:this.yAxis.getValue(e.high),low:this.yAxis.getValue(e.low),open:this.yAxis.getValue(e.open),close:this.yAxis.getValue(e.close)})||""}isValidItem(e,t,r){return!isNaN(e.x)&&isFinite(e.x)&&!isNaN(e.high)&&isFinite(e.high)&&!isNaN(e.low)&&isFinite(e.low)}async render(e){if(this.items.length===0)return;this.verifyAxes();const t=LineStyleHelper.getDashArray(this.lineStyle),r=this.getSelectableColor(this.actualColor),Ve=PlotElementExtensions.transform;for(const je of this.items)if(this.isValidItem(je,this.xAxis,this.yAxis)&&this.strokeThickness>0&&this.lineStyle!==LineStyle.None){const ze=Ve(this,je.x,je.high),Xe=Ve(this,je.x,je.low);await e.drawLine([Xe,ze],r,this.strokeThickness,this.edgeRenderingMode,t,this.lineJoin);const We=PlotElementExtensions.orientateVector(this,new ScreenVector(this.tickLength,0));if(!isNaN(je.open)){const qe=Ve(this,je.x,je.open),Ke=screenPointMinusVector(qe,We);await e.drawLine([qe,Ke],r,this.strokeThickness,this.edgeRenderingMode,t,this.lineJoin)}if(!isNaN(je.close)){const qe=Ve(this,je.x,je.close),Ke=screenPointPlus(qe,We);await e.drawLine([qe,Ke],r,this.strokeThickness,this.edgeRenderingMode,t,this.lineJoin)}}}async renderLegend(e,t){const r=(t.left+t.right)/2,Ve=t.top+(t.bottom-t.top)*.7,je=t.top+(t.bottom-t.top)*.3,ze=LineStyleHelper.getDashArray(this.lineStyle),Xe=this.getSelectableColor(this.actualColor);this.strokeThickness>0&&this.lineStyle!==LineStyle.None&&(await e.drawLine([newScreenPoint(r,t.top),newScreenPoint(r,t.bottom)],Xe,this.strokeThickness,this.edgeRenderingMode,ze,LineJoin.Miter),await e.drawLine([newScreenPoint(r-this.tickLength,Ve),newScreenPoint(r,Ve)],Xe,this.strokeThickness,this.edgeRenderingMode,ze,LineJoin.Miter),await e.drawLine([newScreenPoint(r+this.tickLength,je),newScreenPoint(r,je)],Xe,this.strokeThickness,this.edgeRenderingMode,ze,LineJoin.Miter))}setDefaultValues(){this.color.isAutomatic()&&(this.lineStyle=this.plotModel.getDefaultLineStyle(),this.defaultColor=this.plotModel.getDefaultColor())}updateData(){if(this.itemsSource){if(this._items.length=0,this.mapping){for(const e of this.itemsSource)this._items.push(this.mapping(e));return}for(const e of this.itemsSource){if(!e)continue;if("high"in e&&"low"in e&&"x"in e){this._items.push(e);continue}if(!this.dataFieldX||!this.dataFieldHigh||!this.dataFieldLow)throw new Error("HighLowSeries: dataFieldX, dataFieldHigh and dataFieldLow are required");const t=getOrDefault(e,this.dataFieldX,NaN),r=getOrDefault(e,this.dataFieldHigh,NaN),Ve=getOrDefault(e,this.dataFieldLow,NaN),je=getOrDefault(e,this.dataFieldOpen,NaN),ze=getOrDefault(e,this.dataFieldClose,NaN);this._items.push({x:t,high:r,low:Ve,open:je,close:ze})}}}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMin2(this.items,e=>e.x,e=>e.x,e=>e.low,e=>e.high)}};D$1(De,"DefaultTrackerStringFormatter",$e=>`${$e.title}
${$e.xTitle}: ${$e.xValue}
High: ${round($e.high,3)}
Low: ${round($e.low,3)}
Open: ${round($e.open,3)}
Close: ${round($e.close,3)}`);const Te=class{constructor($e=NaN,e,t){D$1(this,"x"),D$1(this,"buyVolume"),D$1(this,"sellVolume"),this.x=$e||NaN,this.buyVolume=e,this.sellVolume=t}static findIndex($e,e,t){let r=0,Ve=0,je=$e.length-1;for(;Ve<=je;){if(t<Ve)return r;if(t>je)return je;const ze=$e[t].x;if(ze===e)return t;if(ze>e){if(je=t-1,je<Ve)return r;if(je===Ve)return je}else Ve=t+1,r=t;if(Ve>=je)return r;const Xe=$e[je].x,We=$e[Ve].x,qe=(je-Ve+1)/(Xe-We);t=Ve+Math.round((e-We)*qe)}return r}isValid(){return!isNaN(this.x)&&!isNaN(this.buyVolume)&&!isNaN(this.sellVolume)}};D$1(Te,"Undefined",new Te(NaN,NaN,NaN));let OhlcvItem=Te;const Oe=class Wh extends XYAxisSeries{constructor(e){super(e),D$1(this,"data",[]),D$1(this,"minDx",0),D$1(this,"winIndex",0),D$1(this,"volumeStyle"),D$1(this,"strokeThickness"),D$1(this,"strokeIntensity"),D$1(this,"positiveColor"),D$1(this,"negativeColor"),D$1(this,"interceptColor"),D$1(this,"interceptStrokeThickness"),D$1(this,"interceptLineStyle"),D$1(this,"positiveHollow"),D$1(this,"negativeHollow"),D$1(this,"barWidth"),D$1(this,"minimumVolume",0),D$1(this,"maximumVolume",0),D$1(this,"averageVolume",0),this.positiveColor=OxyColors.DarkGreen,this.negativeColor=OxyColors.Red,this.barWidth=0,this.strokeThickness=1,this.negativeHollow=!1,this.positiveHollow=!0,this.strokeIntensity=.8,this.volumeStyle=1,this.interceptColor=OxyColors.Gray,this.interceptLineStyle=LineStyle.Dash,this.interceptStrokeThickness=1,this.trackerStringFormatter=Wh.DefaultTrackerStringFormatter,e&&Object.assign(this,removeUndef(e))}get items(){return this.data}set items(e){this.data=e}append(e){if(this.data===null&&(this.data=[]),this.data.length>0&&this.data[this.data.length-1].x>e.x)throw new Error("cannot append bar out of order, must be sequential in X");this.data.push(e)}async render(e){if(this.data===null||this.data.length===0)return;const t=this.data,r=this.data.length;this.verifyAxes();const Ve=this.getClippingRect();this.barWidth>0?this.barWidth:this.minDx*.8;const je=this.getSelectableFillColor(this.positiveColor),ze=this.getSelectableFillColor(this.negativeColor),Xe=this.positiveHollow?OxyColors.Transparent:je,We=this.negativeHollow?OxyColors.Transparent:ze,qe=OxyColorExtensions.changeIntensity(this.positiveColor,this.strokeIntensity),Ke=OxyColorExtensions.changeIntensity(this.negativeColor,this.strokeIntensity),Ze=this.getSelectableColor(qe),Je=this.getSelectableColor(Ke),Qe=this.xAxis.clipMinimum,ti=this.xAxis.clipMaximum;this.winIndex=OhlcvItem.findIndex(t,Qe,this.winIndex);const ni=PlotElementExtensions.transform;for(let ri=this.winIndex;ri<r;ri++){const ii=t[ri];if(ii.x>ti)break;if(!ii.isValid())continue;const ei=this.getBuyBarRect(ii),St=this.getSellBarRect(ii);switch(this.volumeStyle){case 1:{const oi=ii.buyVolume>ii.sellVolume?Xe:We,si=ii.buyVolume>ii.sellVolume?Ze:Je;await e.drawRectangle(ei,oi,si,this.strokeThickness,this.edgeRenderingMode)}break;case 3:await e.drawRectangle(ei,je,Ze,this.strokeThickness,this.edgeRenderingMode),await e.drawRectangle(St,ze,Je,this.strokeThickness,this.edgeRenderingMode);break;case 2:{await e.drawRectangle(ei,je,Ze,this.strokeThickness,this.edgeRenderingMode),await e.drawRectangle(St,ze,Je,this.strokeThickness,this.edgeRenderingMode);break}case 0:break;default:throw new Error("Invalid VolumeStyle")}}if(this.interceptStrokeThickness>0&&this.interceptLineStyle!==LineStyle.None){const ri=this.inverseTransform(Ve.bottomLeft),ii=this.inverseTransform(Ve.topRight),ei=ni(this,ri.x,0),St=ni(this,ii.x,0);await e.drawLine([ei,St],this.interceptColor,this.interceptStrokeThickness,this.edgeRenderingMode,LineStyleHelper.getDashArray(this.interceptLineStyle),LineJoin.Miter)}}getBuyBarRect(e){const t=PlotElementExtensions.transform,r=(this.barWidth>0?this.barWidth:this.minDx*.8)*.5,Ve=t(this,e.x-r,0);switch(this.volumeStyle){case 1:{const je=t(this,e.x+r,Math.abs(e.buyVolume-e.sellVolume));return OxyRect.fromScreenPoints(Ve,je)}case 3:{const je=t(this,e.x+r,e.buyVolume);return OxyRect.fromScreenPoints(Ve,je)}case 2:{const je=t(this,e.x+r,e.buyVolume),ze=t(this,e.x+r,e.sellVolume),Xe=t(this,e.x-r,e.buyVolume+e.sellVolume);return e.buyVolume>e.sellVolume?OxyRect.fromScreenPoints(ze,Xe):OxyRect.fromScreenPoints(Ve,je)}}throw new Error("Invalid VolumeStyle")}getSellBarRect(e){const t=PlotElementExtensions.transform,r=(this.barWidth>0?this.barWidth:this.minDx*.8)*.5,Ve=t(this,e.x-r,0);switch(this.volumeStyle){case 1:{const je=t(this,e.x+r,Math.abs(e.buyVolume-e.sellVolume));return OxyRect.fromScreenPoints(Ve,je)}case 3:{const je=t(this,e.x+r,-e.sellVolume);return OxyRect.fromScreenPoints(Ve,je)}case 2:{const je=t(this,e.x+r,e.buyVolume),ze=t(this,e.x+r,e.sellVolume),Xe=t(this,e.x-r,e.buyVolume+e.sellVolume);return e.buyVolume>e.sellVolume?OxyRect.fromScreenPoints(Ve,ze):OxyRect.fromScreenPoints(je,Xe)}}throw new Error("Invalid VolumeStyle")}async renderLegend(e,t){const r=(t.left+t.right)/2,Ve=t.top+(t.bottom-t.top)*.7,je=t.top+(t.bottom-t.top)*.3,ze=LineStyleHelper.getDashArray(LineStyle.Solid),Xe=this.getSelectableFillColor(this.positiveColor),We=this.getSelectableColor(OxyColorExtensions.changeIntensity(this.positiveColor,this.strokeIntensity)),qe=t.width*.75;this.strokeThickness>0&&(await e.drawLine([newScreenPoint(r,t.top),newScreenPoint(r,t.bottom)],We,this.strokeThickness,this.edgeRenderingMode,ze,LineJoin.Miter),await e.drawRectangle(new OxyRect(r-qe*.5,je,qe,Ve-je),Xe,We,this.strokeThickness,this.edgeRenderingMode))}getNearestPoint(e,t){if(!this.xAxis||!this.yAxis||t||!this.data||this.data.length===0)return;const r=this.data.length,Ve=this.inverseTransform(e),je=Ve.x;if(je>this.data[r-1].x+this.minDx||je<this.data[0].x-this.minDx)return;const ze=OhlcvItem.findIndex(this.data,je,this.winIndex),Xe=ze+1<this.data.length?ze+1:ze,We=Qe=>{const ti=Qe.x-Ve.x;return ti*ti},qe=We(this.data[ze])<=We(this.data[Xe])?ze:Xe,Ke=this.data[qe];let Ze=!1;if(this.getBuyBarRect(Ke).containsPoint(e)&&(Ze=!0),Ze||this.getSellBarRect(Ke).containsPoint(e)&&(Ze=!0),Ze)return;const Je=this.formatDefaultTrackerString(Ke,newDataPoint(Ke.x,0));return new TrackerHitResult({series:this,dataPoint:Ve,position:e,item:Ke,index:qe,text:Je})}updateData(){if(super.updateData(),this.winIndex=0,!this.data||this.data.length===0)return;const e=this.data,t=e.length;this.minDx=Number_MAX_VALUE;for(let r=1;r<t;r++)if(this.minDx=Math.min(this.minDx,e[r].x-e[r-1].x),this.minDx<0)throw new Error("bars are out of order, must be sequential in x");t<=1&&(this.minDx=1)}updateAxisMaxMin(){this.xAxis.include(this.minX),this.xAxis.include(this.maxX);let e=this.minimumVolume,t=this.maximumVolume;const r=this.averageVolume,Ve=(t-e)/4;switch(this.volumeStyle){case 3:e=-(r+Ve/2),t=+(r+Ve/2);break;case 2:t=r+Ve,e=0;break;default:t=r+Ve/2,e=0;break}e=Math.max(this.yAxis.filterMinValue,e),t=Math.min(this.yAxis.filterMaxValue,t),this.yAxis.include(e),this.yAxis.include(t)}updateMaxMin(){super.updateMaxMin();let e=Number_MAX_VALUE,t=Number_MIN_VALUE,r=0,Ve=Number_MIN_VALUE,je=0,ze=0;for(const Xe of this.items)Xe.isValid()&&(Xe.sellVolume>0&&je++,Xe.buyVolume>0&&je++,ze+=Xe.buyVolume,ze+=Xe.sellVolume,e=Math.min(e,Xe.x),t=Math.max(t,Xe.x),r=Math.min(r,-Xe.sellVolume),Ve=Math.max(Ve,+Xe.buyVolume));this.minX=Math.max(this.xAxis.filterMinValue,e),this.maxX=Math.min(this.xAxis.filterMaxValue,t),this.minimumVolume=r,this.maximumVolume=Ve,this.averageVolume=ze/je}};D$1(Oe,"DefaultTrackerStringFormatter",$e=>{const e=$e.item;return`Time: ${$e.xValue}
Buy Volume: ${e.buyVolume}
Sell Volume: ${e.sellVolume}`});class HistogramItem{constructor(e,t,r,Ve,je=OxyColors.Automatic){D$1(this,"rangeStart"),D$1(this,"rangeEnd"),D$1(this,"area"),D$1(this,"count"),D$1(this,"color"),this.rangeStart=e,this.rangeEnd=t,this.area=r,this.count=Ve,this.color=je}get rangeCenter(){return this.rangeStart+(this.rangeEnd-this.rangeStart)/2}get width(){return this.rangeEnd-this.rangeStart}get height(){return this.area/this.width}get value(){return this.height}contains(e){return this.height<0?e.x<=this.rangeEnd&&e.x>=this.rangeStart&&e.y>=this.height&&e.y<=0||e.x<=this.rangeStart&&e.x>=this.rangeEnd&&e.y>=this.height&&e.y<=0:e.x<=this.rangeEnd&&e.x>=this.rangeStart&&e.y<=this.height&&e.y>=0||e.x<=this.rangeStart&&e.x>=this.rangeEnd&&e.y<=this.height&&e.y>=0}toString(){return`${this.rangeStart} ${this.rangeEnd} ${this.area} ${this.count}`}}const Pe=class Kh extends XYAxisSeries{constructor(e){super(e),D$1(this,"defaultFillColor",OxyColors.Undefined),D$1(this,"_actualItems"),D$1(this,"baseValue"),D$1(this,"baseLine"),D$1(this,"actualBaseLine"),D$1(this,"fillColor"),D$1(this,"strokeColor"),D$1(this,"negativeFillColor"),D$1(this,"negativeStrokeColor"),D$1(this,"strokeThickness"),D$1(this,"minValue",0),D$1(this,"maxValue",0),D$1(this,"labelStringFormatter"),D$1(this,"trackerStringFormatter"),D$1(this,"labelMargin",0),D$1(this,"labelPlacement"),D$1(this,"colorMapping"),D$1(this,"mapping"),D$1(this,"items",[]),this.fillColor=OxyColors.Automatic,this.strokeColor=OxyColors.Black,this.strokeThickness=0,this.trackerStringFormatter=Kh.defaultTrackerStringFormatter,this.labelPlacement=LabelPlacement.Outside,this.colorMapping=this.getDefaultColor,this.negativeFillColor=OxyColors.Undefined,this.negativeStrokeColor=OxyColors.Undefined,this.baseValue=0,this.baseLine=NaN,this.actualBaseLine=NaN,e&&Object.assign(this,removeUndef(e))}get actualFillColor(){return this.fillColor.getActualColor(this.defaultFillColor)}get actualItems(){return this.itemsSource?this._actualItems:this.items}async render(e){this.verifyAxes(),await this.renderBins(e,this.actualItems)}getNearestPoint(e,t){const r=this.inverseTransform(e);if(this.isPointInRange(r)&&this.actualItems)for(let Ve=0;Ve<this.actualItems.length;Ve++){const je=this.actualItems[Ve];if(je.contains(r)){const ze=this.getItem(Ve);return new TrackerHitResult({series:this,dataPoint:r,position:e,item:ze,index:Ve,text:this.formatDefaultTrackerString(je,r)})}}}async renderLegend(e,t){const r=(t.left+t.right)/2,Ve=(t.top+t.bottom)/2,je=(t.bottom-t.top)*.8,ze=je,Xe=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);await e.drawRectangle(new OxyRect(r-.5*ze,Ve-.5*je,ze,je),this.getSelectableColor(this.actualFillColor),this.strokeColor,this.strokeThickness,Xe)}updateData(){this.itemsSource&&this.updateActualItems()}setDefaultValues(){this.fillColor.isAutomatic()&&(this.defaultFillColor=this.plotModel.getDefaultColor())}updateAxisMaxMin(){super.updateAxisMaxMin(),this.computeActualBaseLine(),this.yAxis.include(this.actualBaseLine)}computeActualBaseLine(){if(isNaN(this.baseLine))if(this.yAxis.isLogarithmic()){const e=this.actualItems?minValueOfArray(this.actualItems.map(t=>t.value).filter(t=>t>0),1):1;this.actualBaseLine=Math.max(e/10,this.baseValue)}else this.actualBaseLine=0;else this.actualBaseLine=this.baseLine}updateMaxMinXY(){if(this.actualItems&&this.actualItems.length>0){const e=this.actualItems.map(Ve=>Ve.rangeStart),t=this.actualItems.map(Ve=>Ve.rangeEnd),r=this.actualItems.map(Ve=>Ve.height);this.minX=Math.min(minValueOfArray(e),minValueOfArray(t)),this.maxX=Math.max(maxValueOfArray(e),maxValueOfArray(t)),this.yAxis.isLogarithmic()?(this.minY=Math.max(minValueOfArray(r),Number.EPSILON),this.maxY=maxValueOfArray(r,Number.EPSILON)):(this.minY=minValueOfArray(r,0),this.maxY=maxValueOfArray(r,0))}}updateMaxMin(){super.updateMaxMin();const e=[];if(pushMany(e,this.actualItems.map(t=>newDataPoint(t.rangeStart,0))),pushMany(e,this.actualItems.map(t=>newDataPoint(t.rangeEnd,t.height))),this.internalUpdateMaxMin(e),this.updateMaxMinXY(),this.actualItems&&this.actualItems.length>0){const t=this.actualItems.map(r=>r.value);this.minValue=minValueOfArray(t),this.maxValue=maxValueOfArray(t)}}getItem(e){const t=this.actualItems;return!this.itemsSource&&t&&e<t.length?t[e]:super.getItem(e)}async renderBins(e,t){const r=this.yAxis,Ve=r.isLogarithmic()&&!r.isValidValue(this.baseValue);for(const je of t){if(r.isLogarithmic()&&!r.isValidValue(je.height))continue;const ze=this.getItemFillColor(je),Xe=this.getItemStrokeColor(je),We=this.transform(newDataPoint(je.rangeStart,Ve?r.clipMinimum:this.baseValue)),qe=this.transform(newDataPoint(je.rangeEnd,je.height)),Ke=OxyRect.fromScreenPoints(We,qe),Ze=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);await e.drawRectangle(Ke,ze,Xe,this.strokeThickness,Ze),this.labelStringFormatter&&await this.renderLabel(e,Ke,je)}}getItemFillColor(e){return e.color.isAutomatic()?this.colorMapping(e):e.color}getItemStrokeColor(e){return this.negativeStrokeColor.isUndefined()||e.height>=this.baseValue?this.strokeColor:this.negativeStrokeColor}async renderLabel(e,t,r){const Ve=this.labelStringFormatter(r,[r.value,r.rangeStart,r.rangeEnd,r.area,r.count]);let je,ze,Xe=HorizontalAlignment.Center;const We=(r.rangeStart+r.rangeEnd)/2,qe=Math.sign(r.value);let Ke=qe*this.labelMargin;switch(this.labelPlacement){case LabelPlacement.Inside:je=newDataPoint(We,r.value),ze=-qe;break;case LabelPlacement.Middle:{const ti=this.inverseTransform(t.topLeft),ni=this.inverseTransform(t.bottomRight);je=newDataPoint(We,(ti.y+ni.y)/2),ze=VerticalAlignment.Middle;break}case LabelPlacement.Base:je=newDataPoint(We,0),Ke=-Ke,ze=qe;break;case LabelPlacement.Outside:je=newDataPoint(We,r.value),Ke=-Ke,ze=qe;break;default:throw new Error("Invalid label placement")}const Ze=PlotElementExtensions.orientateAlignment(this,Xe,ze);Xe=Ze[0],ze=Ze[1];const Je=PlotElementExtensions.orientateVector(this,new ScreenVector(0,Ke)),Qe=screenPointPlus(this.transform(je),Je);await e.drawText(Qe,Ve,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,Xe,ze)}isPointInRange(e){return this.updateMaxMinXY(),e.x>=this.minX&&e.x<=this.maxX&&e.y>=this.minY&&e.y<=this.maxY}clearActualItems(){this._actualItems&&(this._actualItems.length=0)}getDefaultColor(e){return this.negativeFillColor.isUndefined()||e.value>=this.baseValue?this.actualFillColor:this.negativeFillColor}updateActualItems(){if(this.mapping){if(!this.itemsSource)throw new Error("itemsSource is required when using the Mapping property");this.clearActualItems(),this._actualItems=this._actualItems||[];for(const e of this.itemsSource)this._actualItems.push(this.mapping(e));return}this.clearActualItems(),this._actualItems=this._actualItems||[];for(const e of this.itemsSource||[])if(e)throw e instanceof HistogramItem&&this._actualItems.push(e),new Error("invalid item type")}};D$1(Pe,"defaultTrackerStringFormatter",$e=>`Start: ${$e.item.rangeStart}
End: ${$e.item.rangeEnd}
Value: ${$e.item.value}
Area: ${$e.item.area}
Count: ${$e.item.count}`);function isScatterPointProvider($e){return $e&&typeof $e.getScatterPoint=="function"}const ke=class Zh extends XYAxisSeries{constructor(e){super(e),D$1(this,"_points",[]),D$1(this,"defaultMarkerFillColor",OxyColors.Undefined),D$1(this,"markerFill",OxyColors.Automatic),D$1(this,"markerOutline"),D$1(this,"markerSize",5),D$1(this,"markerType",MarkerType.Square),D$1(this,"markerStroke",OxyColors.Automatic),D$1(this,"markerStrokeThickness",1),D$1(this,"labelStringFormatter"),D$1(this,"labelMargin",6),D$1(this,"binSize",0),D$1(this,"colorAxisKey"),D$1(this,"dataFieldX"),D$1(this,"dataFieldY"),D$1(this,"dataFieldSize"),D$1(this,"dataFieldTag"),D$1(this,"dataFieldValue"),D$1(this,"mapping"),D$1(this,"colorAxis"),D$1(this,"itemsSourcePoints"),D$1(this,"maxValue",0),D$1(this,"minValue",0),this.markerFill=OxyColors.Automatic,this.markerSize=5,this.markerType=MarkerType.Square,this.markerStroke=OxyColors.Automatic,this.markerStrokeThickness=1,this.labelMargin=6,e&&Object.assign(this,removeUndef(e))}get actualMarkerFillColor(){return this.markerFill.getActualColor(this.defaultMarkerFillColor)}get points(){return this._points}get actualPoints(){return this.itemsSource?this.itemsSourcePoints:this.points}getNearestPoint(e,t){if(!this.xAxis||!this.yAxis||t)return;const r=this.actualPoints;if(!r||r.length===0)return;let Ve,je=Number_MAX_VALUE,ze=0;const Xe=this.colorAxis?this.colorAxis.title:Zh.defaultColorAxisTitle,We=this.xAxis.clipMinimum,qe=this.xAxis.clipMaximum,Ke=this.yAxis.clipMinimum,Ze=this.yAxis.clipMaximum;for(const Je of r){if(Je.x<We||Je.x>qe||Je.y<Ke||Je.y>Ze){ze++;continue}const Qe=this.transform(newDataPoint(Je.x,Je.y)),ti=Qe.x-e.x,ni=Qe.y-e.y,ri=ti*ti+ni*ni;if(ri<je){const ii=this.getItem(ze)??Je;let ei;!isNullOrUndef(Je.value)&&!isNaN(Je.value)&&!isInfinity(Je.value)&&(ei=Je.value);const St=newDataPoint(Je.x,Je.y);Ve=new TrackerHitResult({series:this,dataPoint:St,position:Qe,item:ii,index:ze,text:this.formatDefaultTrackerString(ii,St,oi=>{oi.colorAxisTitle=Xe,oi.zValue=ei})}),je=ri}ze++}return Ve}async render(e){const t=this.actualPoints;if(!t||t.length===0)return;const r=this.getClippingRect(),Ve=t.length,je=[],ze=[],Xe=[],We=[],qe=new Map,Ke=new Map,Ze=this.isSelected();for(let Qe=0;Qe<Ve;Qe++){const ti=newDataPoint(t[Qe].x,t[Qe].y);if(!this.isValidPoint(ti))continue;let ni=NaN,ri=NaN;const ii=t[Qe];ii&&(isNullOrUndef(ii.size)||(ni=ii.size),isNullOrUndef(ii.value)||(ri=ii.value)),isNaN(ni)&&(ni=this.markerSize);const ei=this.transform(newDataPoint(ti.x,ti.y));if(Ze&&this.isItemSelected(Qe)){Xe.push(ei),We.push(ni);continue}if(this.colorAxis){if(isNaN(ri))continue;const St=this.colorAxis.getPaletteIndex(ri);qe.has(St)||(qe.set(St,[]),Ke.set(St,[])),qe.get(St).push(ei),Ke.get(St).push(ni)}else je.push(ei),ze.push(ni)}const Je=this.transform(newDataPoint(this.minX,this.maxY));if(this.colorAxis){const Qe=this.markerType===MarkerType.Plus||this.markerType===MarkerType.Star||this.markerType===MarkerType.Cross;for(const[ti,ni]of qe){const ri=this.colorAxis.getColor(ti);await RenderingExtensions.drawMarkers(e,ni,this.markerType,this.markerOutline,Ke.get(ti),this.markerFill.getActualColor(ri),Qe?ri:this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,this.binSize,Je)}}await RenderingExtensions.drawMarkers(e,je,this.markerType,this.markerOutline,ze,this.actualMarkerFillColor,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,this.binSize,Je),await RenderingExtensions.drawMarkers(e,Xe,this.markerType,this.markerOutline,We,this.plotModel.selectionColor,this.plotModel.selectionColor,this.markerStrokeThickness,this.edgeRenderingMode,this.binSize,Je),this.labelStringFormatter&&await this.renderPointLabels(e,r)}async renderLegend(e,t){const r=(t.left+t.right)/2,Ve=(t.top+t.bottom)/2,je=newScreenPoint(r,Ve);await RenderingExtensions.drawMarker(e,je,this.markerType,this.markerOutline,this.markerSize,this.isSelected()?this.plotModel.selectionColor:this.actualMarkerFillColor,this.isSelected()?this.plotModel.selectionColor:this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}setDefaultValues(){this.markerFill.isAutomatic()&&(this.defaultMarkerFillColor=this.plotModel.getDefaultColor())}updateData(){this.itemsSource&&this.updateItemsSourcePoints()}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMinValue(this.actualPoints)}async renderPointLabels(e,t){const r=this.actualPoints;if(!r||r.length===0)return;let Ve=-1;for(const je of r){Ve++;const ze=newDataPoint(je.x,je.y);if(!this.isValidPoint(ze))continue;const Xe=screenPointPlus(this.transform(ze),new ScreenVector(0,-this.labelMargin));if(!t.containsPoint(Xe))continue;const We=this.getItem(Ve),qe=this.labelStringFormatter(We,[je.x,je.y]);await e.drawText(Xe,qe,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Bottom)}}internalUpdateMaxMinValue(e){if(!e||e.length===0)return;let t=Number_MAX_VALUE,r=Number_MAX_VALUE,Ve=Number_MAX_VALUE,je=Number_MIN_VALUE,ze=Number_MIN_VALUE,Xe=Number_MIN_VALUE;isNaN(t)&&(t=Number_MAX_VALUE),isNaN(r)&&(r=Number_MAX_VALUE),isNaN(je)&&(je=Number_MIN_VALUE),isNaN(ze)&&(ze=Number_MIN_VALUE),isNaN(Ve)&&(Ve=Number_MIN_VALUE),isNaN(Xe)&&(Xe=Number_MIN_VALUE);for(const We of e){const qe=We.x,Ke=We.y;if(qe!==qe||Ke!==Ke)continue;const Ze=isNullOrUndef(We.value)?Number.NaN:We.value;qe<t&&(t=qe),qe>je&&(je=qe),Ke<r&&(r=Ke),Ke>ze&&(ze=Ke),Ze<Ve&&(Ve=Ze),Ze>Xe&&(Xe=Ze)}t<Number_MAX_VALUE&&(this.minX=t),r<Number_MAX_VALUE&&(this.minY=r),je>Number_MIN_VALUE&&(this.maxX=je),ze>Number_MIN_VALUE&&(this.maxY=ze),Ve<Number_MAX_VALUE&&(this.minValue=Ve),Xe>Number_MIN_VALUE&&(this.maxValue=Xe),this.colorAxis instanceof Axis&&(this.colorAxis.include(this.minValue),this.colorAxis.include(this.maxValue))}clearItemsSourcePoints(){this.itemsSourcePoints&&(this.itemsSourcePoints.length=0)}updateItemsSourcePoints(){var e,t,r;if(this.clearItemsSourcePoints(),this.mapping){if(!this.itemsSource)throw new Error("itemsSource is required when mapping is set");this.itemsSourcePoints=this.itemsSourcePoints||[];for(const Ve of this.itemsSource)this.itemsSourcePoints.push(this.mapping(Ve));return}this.itemsSourcePoints=this.itemsSourcePoints||[];for(const Ve of this.itemsSource||[])if(!isNullOrUndef(Ve)){if(!isUndef(Ve.x)&&!isUndef(Ve.y)){(e=this.itemsSourcePoints)==null||e.push(Ve);continue}if(this.dataFieldX&&this.dataFieldY){const je=this.updateFromDataFields(Ve);if(!je)continue;(t=this.itemsSourcePoints)==null||t.push(je);continue}if(isScatterPointProvider(Ve)){const je=Ve.getScatterPoint();if(!je)continue;(r=this.itemsSourcePoints)==null||r.push(je);continue}throw new Error("Invalid item type")}}updateFromDataFields(e){const t=getOrDefault(e,this.dataFieldX,Number.NaN),r=getOrDefault(e,this.dataFieldY,Number.NaN);return{x:t,y:r,size:getOrDefault(e,this.dataFieldSize,Number.NaN),value:getOrDefault(e,this.dataFieldValue,Number.NaN),tag:getOrDefault(e,this.dataFieldTag,void 0)}}};D$1(ke,"defaultColorAxisTitle","Value");const ue$1=class _u extends XYAxisSeries{constructor(e){super(e),D$1(this,"_actualItems"),D$1(this,"defaultColor",OxyColors.Undefined),D$1(this,"defaultLineStyle",LineStyle.Solid),D$1(this,"color"),D$1(this,"minValue",0),D$1(this,"maxValue",0),D$1(this,"arrowHeadLength"),D$1(this,"arrowHeadWidth"),D$1(this,"arrowHeadPosition"),D$1(this,"lineJoin"),D$1(this,"lineStyle"),D$1(this,"strokeThickness"),D$1(this,"minimumSegmentLength"),D$1(this,"arrowVeeness"),D$1(this,"arrowStartPosition"),D$1(this,"arrowLabelPosition"),D$1(this,"colorAxis"),D$1(this,"colorAxisKey"),D$1(this,"labelStringFormatter"),D$1(this,"trackerStringFormatter"),D$1(this,"labelFontSize"),D$1(this,"canTrackerInterpolatePoints",!1),D$1(this,"mapping"),D$1(this,"items",[]),this.color=OxyColors.Automatic,this.minimumSegmentLength=2,this.strokeThickness=2,this.lineStyle=LineStyle.Solid,this.lineJoin=LineJoin.Miter,this.arrowHeadLength=3,this.arrowHeadWidth=2,this.arrowHeadPosition=1,this.arrowVeeness=0,this.arrowStartPosition=0,this.arrowLabelPosition=0,this.trackerStringFormatter=_u.DefaultTrackerStringFormatter,this.labelStringFormatter=t=>t.value.toFixed(2),this.labelFontSize=0,e&&Object.assign(this,e)}get actualLineStyle(){return this.lineStyle!=LineStyle.Automatic?this.lineStyle:this.defaultLineStyle}get ActualItems(){return this.itemsSource?this._actualItems:this.items}async render(e){const t=this.ActualItems;this.verifyAxes(),await this.renderVectors(e,t)}updateData(){this.itemsSource&&this.updateActualItems()}clearActualItems(){this._actualItems&&(this._actualItems.length=0)}updateActualItems(){if(!this.itemsSource)return;this.clearActualItems(),this._actualItems=this._actualItems||[];let e=this.itemsSource;this.mapping&&(e=this.itemsSource.map(t=>this.mapping(t))),this._actualItems.push(...e)}async renderVectors(e,t){let r=0;for(const Ve of t){let je;this.colorAxis&&(this.color.isUndefined()||this.color.isAutomatic())?je=ColorAxisExtensions.getColor(this.colorAxis,Ve.value):je=this.color.getActualColor(this.defaultColor),je=this.getSelectableColor(je,r);const ze=Ve.direction,Xe=dataPointMinusVector(Ve.origin,ze.times(this.arrowStartPosition)),We=dataPointPlus(Xe,ze.times(this.arrowLabelPosition));await this.drawVector(e,Xe,ze,je),this.labelFontSize>0&&this.labelStringFormatter&&await e.drawText(this.transform(We),this.labelStringFormatter(Ve),this.actualTextColor,this.actualFont,this.labelFontSize,this.actualFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Middle),r++}}async drawVector(e,t,r,Ve){const je=[t,dataPointPlus(t,r)],ze=[];RenderingExtensions.transformAndInterpolateLines(this,je,ze,this.minimumSegmentLength),ze.length>=2&&await this.drawArrow(e,ze,screenPointMinus(ze[ze.length-1],ze[ze.length-2]),Ve)}async drawArrow(e,t,r,Ve){const je=r;je.normalize();const ze=new ScreenVector(je.y,-je.x),Xe=this.arrowHeadLength*this.strokeThickness,We=this.arrowHeadWidth*this.strokeThickness,qe=screenPointMinusVector(t[t.length-1],je.times(Xe*this.arrowHeadPosition)),Ke=je.times(this.arrowVeeness*this.strokeThickness),Ze=screenPointPlus(qe,je.times(Xe)),Je=screenPointMinusVector(screenPointPlus(qe,ze.times(We)),Ke),Qe=screenPointMinusVector(screenPointMinusVector(qe,ze.times(We)),Ke),ti=this.actualLineStyle,ni=LineStyleHelper.getDashArray(ti);if(this.arrowHeadPosition>0&&this.arrowHeadPosition<=1){const ri=Xe*this.arrowHeadPosition*Xe*this.arrowHeadPosition;for(let ii=t.length-1;ii>=0;ii--)screenPointDistanceToSquared(t[ii],Ze)<=ri&&t.splice(ii,1);t.length>0&&t.push(qe)}this.strokeThickness>0&&ti!==LineStyle.None&&(await e.drawLine(t,Ve,this.strokeThickness,this.edgeRenderingMode,ni,this.lineJoin),await e.drawPolygon([Qe,Ze,Je,qe],Ve,OxyColors.Undefined,0,this.edgeRenderingMode))}getNearestPoint(e,t){const r=this.colorAxis,Ve=(r==null?void 0:r.title)??_u.DefaultColorAxisTitle;if(!(this.ActualItems&&this.ActualItems.length>0))return;const je=argMin(this.ActualItems,We=>screenPointDistanceToSquared(this.transform(We.origin),e)),ze=je.origin,Xe=this.formatDefaultTrackerString(je,ze,We=>{const qe=We;qe.colorAxisTitle=Ve,qe.itemDirection=je.direction});return new TrackerHitResult({series:this,dataPoint:ze,position:this.transform(ze),item:void 0,index:-1,text:Xe})}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}setDefaultValues(){this.color.isAutomatic()&&this.colorAxis===void 0&&(this.defaultLineStyle=this.plotModel.getDefaultLineStyle(),this.defaultColor=this.plotModel.getDefaultColor())}updateMaxMinXY(){const e=this.ActualItems;e&&e.length>0&&(this.minX=Math.min(...e.map(t=>t.origin.x-t.direction.x*this.arrowStartPosition),...e.map(t=>t.origin.x-t.direction.x*(this.arrowStartPosition-1))),this.maxX=Math.max(...e.map(t=>t.origin.x-t.direction.x*this.arrowStartPosition),...e.map(t=>t.origin.x-t.direction.x*(this.arrowStartPosition-1))),this.minY=Math.min(...e.map(t=>t.origin.y-t.direction.y*this.arrowStartPosition),...e.map(t=>t.origin.y-t.direction.y*(this.arrowStartPosition-1))),this.maxY=Math.max(...e.map(t=>t.origin.y-t.direction.y*this.arrowStartPosition),...e.map(t=>t.origin.y-t.direction.y*(this.arrowStartPosition-1))))}updateMaxMin(){super.updateMaxMin();const e=this.ActualItems,t=[];if(t.push(...e.map(r=>dataPointMinusVector(r.origin,r.direction.times(this.arrowStartPosition)))),t.push(...e.map(r=>dataPointPlus(r.origin,r.direction.times(1-this.arrowStartPosition)))),this.internalUpdateMaxMin(t),this.updateMaxMinXY(),e&&e.length>0){const r=e.map(Ve=>Ve.value);this.minValue=minValueOfArray(r),this.maxValue=maxValueOfArray(r)}}updateAxisMaxMin(){if(super.updateAxisMaxMin(),!this.colorAxis)return;const e=this.colorAxis;e.include(this.minValue),e.include(this.maxValue)}};D$1(ue$1,"DefaultTrackerStringFormatter",$e=>`${$e.title}
${$e.xTitle}: ${$e.xValue}
${$e.yTitle}: ${$e.yValue}
${$e.colorAxisTitle}: ${$e.item.value}
${$e.xTitle}: ${$e.itemDirection.x}
${$e.yTitle}: ${$e.itemDirection.y}`),D$1(ue$1,"DefaultColorAxisTitle","Value");const argMin=($e,e)=>{if(!$e)throw new Error("Sequence must be defined.");if(!e)throw new Error("Projection must be defined.");let t,r,Ve=!0;for(const je of $e){const ze=e(je);(Ve||ze<r)&&(t=je,r=ze,Ve=!1)}if(Ve)throw new Error("Sequence must be non-empty.");return t};class DataRange{constructor(e,t){if(D$1(this,"_minimum"),D$1(this,"_maximum"),D$1(this,"_isDefined"),isNaN(e)||isNaN(t))throw new Error("NaN values are not permitted");if(t<e)throw new Error("max must be larger or equal min");this._minimum=e,this._maximum=t,this._isDefined=!0}get minimum(){return this._minimum}get maximum(){return this._maximum}get range(){return this.maximum-this.minimum}isDefined(){return this._isDefined}contains(e){return e>=this.minimum&&e<=this.maximum}intersectsWith(e){return this.isDefined()&&e.isDefined()&&(this.contains(e.minimum)||this.contains(e.maximum)||e.contains(this.minimum)||e.contains(this.maximum))}toString(){return`[${this.minimum}, ${this.maximum}]`}}const DataRange_Undefined=new DataRange(0,0);DataRange_Undefined._isDefined=!1;Object.freeze(DataRange_Undefined);const ge$1=class $u extends XYAxisSeries{constructor(e){super(e),D$1(this,"contours"),D$1(this,"segments",[]),D$1(this,"defaultColor",OxyColors.Undefined),D$1(this,"color"),D$1(this,"columnCoordinates",[]),D$1(this,"contourLevelStep"),D$1(this,"contourLevels"),D$1(this,"contourColors",[]),D$1(this,"data"),D$1(this,"labelBackground"),D$1(this,"labelStringFormatter"),D$1(this,"trackerStringFormatter"),D$1(this,"labelSpacing"),D$1(this,"multiLabel"),D$1(this,"labelStep"),D$1(this,"lineStyle"),D$1(this,"rowCoordinates",[]),D$1(this,"strokeThickness"),D$1(this,"minimumSegmentLength"),this.contourLevelStep=NaN,this.labelStep=1,this.multiLabel=!1,this.labelSpacing=150,this.labelBackground=OxyColor.fromAColor(220,OxyColors.White),this.color=OxyColors.Automatic,this.strokeThickness=1,this.lineStyle=LineStyle.Solid,this.minimumSegmentLength=2,this.trackerStringFormatter=$u.DefaultTrackerFormatString,e&&Object.assign(this,removeUndef(e))}get actualColor(){return this.color.getActualColor(this.defaultColor)}calculateContours(){if(!this.data)return;let e=this.contourLevels;this.segments=[];const t=(r,Ve,je,ze,Xe)=>{this.segments.push({startPoint:newDataPoint(r,Ve),endPoint:newDataPoint(je,ze),contourLevel:Xe})};if(!e){let r=this.data[0][0],Ve=this.data[0][0];for(let ze=0;ze<this.data.length;ze++)for(let Xe=0;Xe<this.data[ze].length;Xe++)r=Math.max(r,this.data[ze][Xe]),Ve=Math.min(Ve,this.data[ze][Xe]);let je=this.contourLevelStep;if(isNaN(je)){const ze=(r-Ve)/20,Xe=Math.round(Math.log(Math.abs(ze))/Math.LN10);je=Math.pow(10,Math.floor(Xe)),this.contourLevelStep=je}r=Math.round(je*Math.ceil(r/je)*1e14)/1e14,Ve=Math.round(je*Math.floor(Ve/je)*1e14)/1e14,e=ArrayBuilder.createVectorWithStep(Ve,r,je)}if(Conrec.contour(this.data,this.columnCoordinates,this.rowCoordinates,e,t),this.joinContourSegments(),this.contourColors&&this.contourColors.length>0)for(const r of this.contours){let Ve=$u.indexOf(e,r.contourLevel);Ve>=0&&(Ve=Ve%this.contourColors.length,r.color=this.contourColors[Ve])}}getNearestPoint(e,t){let r;const Ve="Z";for(const je of this.contours){const ze=t?this.getNearestInterpolatedPointInternal(je.points,0,e):this.getNearestPointInternal(je.points,0,e);ze&&(!r||screenPointDistanceToSquared(r.position,e)>screenPointDistanceToSquared(ze.position,e))&&(r=ze,r.text=this.formatDefaultTrackerString(je,ze.dataPoint,Xe=>{const We=Xe;We.zTitle=Ve,We.contourLevel=je.contourLevel}))}return r}async render(e){if(this.contours||this.calculateContours(),this.contours.length===0)return;this.verifyAxes();const t=[],r=LineStyleHelper.getDashArray(this.lineStyle);for(const Ve of this.contours){if(this.strokeThickness<=0||this.lineStyle===LineStyle.None)continue;const je=Ve.points.map(ti=>this.transform(ti)),ze=Ve.color.getActualColor(this.actualColor);await RenderingExtensions.drawReducedLine(e,je,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(ze),this.strokeThickness,this.edgeRenderingMode,r,LineJoin.Miter);let Xe=0;for(let ti=1;ti<je.length;ti++)Xe+=screenPointMinus(je[ti],je[ti-1]).length;if(je.length<=10||Math.round(Ve.contourLevel/this.contourLevelStep)%this.labelStep!==0)continue;if(!this.multiLabel){this.addContourLabels(Ve,je,t,(je.length-1)*.5);continue}const We=Math.floor(Xe/this.labelSpacing);if(We===0){this.addContourLabels(Ve,je,t,(je.length-1)*.5);continue}let qe=0,Ke=0,Ze=1,Je=0;const Qe=(Xe-(We-1)*this.labelSpacing)/2;for(let ti=0;ti<We;ti++){let ni=0;Ze===1?Je=Qe:Je=Qe+ti*this.labelSpacing;for(let ri=Ze;ri<je.length;ri++){if(qe+=screenPointMinus(je[ri],je[ri-1]).length,qe>Je){ni=ri-1+(Je-Ke)/(qe-Ke),Ze=ri+1;break}Ke=qe}this.addContourLabels(Ve,je,t,ni)}}for(const Ve of t)await this.renderLabelBackground(e,Ve);for(const Ve of t)await this.renderLabel(e,Ve)}setDefaultValues(){this.color.isAutomatic()&&(this.lineStyle=this.plotModel.getDefaultLineStyle(),this.defaultColor=this.plotModel.getDefaultColor())}updateMaxMin(){this.minX=Math.min(...this.columnCoordinates),this.maxX=Math.max(...this.columnCoordinates),this.minY=Math.min(...this.rowCoordinates),this.maxY=Math.max(...this.rowCoordinates)}static indexOf(e,t){let r=Number_MAX_VALUE,Ve=-1;for(let je=0;je<e.length;je++){const ze=Math.abs(e[je]-t);ze<r&&(r=ze,Ve=je)}return Ve}addContourLabels(e,t,r,Ve){if(t.length<2)return;const je=Math.floor(Ve),ze=je+1,Xe=t[ze].x-t[je].x,We=t[ze].y-t[je].y,qe=t[je].x+Xe*(Ve-je),Ke=t[je].y+We*(Ve-je),Ze=newScreenPoint(qe,Ke);let Je=Math.atan2(We,Xe)*180/Math.PI;Je>90&&(Je-=180),Je<-90&&(Je+=180);const Qe=this.labelStringFormatter?this.labelStringFormatter(e.contourLevel,[]):e.contourLevel.toString();r.push({position:Ze,angle:Je,text:Qe})}joinContourSegments(e=1e-10){this.contours=new Array;const t=Ve=>{const je=new SegmentPoint(Ve.startPoint),ze=new SegmentPoint(Ve.endPoint);return je.partner=ze,ze.partner=je,[je,ze]},r=groupBy(this.segments,"contourLevel");for(const Ve of r){const je=Ve[0],ze=Ve[1].flatMap(Xe=>t(Xe)).sort((Xe,We)=>Xe.point.x-We.point.x);for(let Xe=0;Xe<ze.length-1;Xe++){const We=ze[Xe];if(We.join)continue;const qe=Math.sqrt(Math.pow(We.point.x,2)+Math.pow(We.point.y,2))*e,Ke=We.point.x+qe;let Ze=Xe+1,Je;for(;;){if(Ze>=ze.length){Je=void 0;break}if(Je=ze[Ze],Ze++,!Je.join){if(Je.point.x>Ke){Je=void 0;break}if(Math.sqrt(Math.pow(Je.point.x-We.point.x,2)+Math.pow(Je.point.y-We.point.y,2))<qe)break}}Je&&(We.join=Je,Je.join=We)}for(const Xe of ze){if(Xe.processed)continue;let We=Xe;for(;We.join&&(We=We.join.partner,We!==Xe););const qe=new Array(We.point,We.partner.point);for(We.processed=!0,We=We.partner,We.processed=!0;We.join&&(We=We.join,!We.processed);)We.processed=!0,We=We.partner,We.processed=!0,qe.push(We.point);const Ke=new Contour(qe,je);this.contours.push(Ke)}}}async renderLabel(e,t){this.actualFontSize>0&&await e.drawText(t.position,t.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,t.angle,HorizontalAlignment.Center,VerticalAlignment.Middle)}async renderLabelBackground(e,t){if(this.labelBackground.isInvisible())return;const r=e.measureText(t.text,this.actualFont,this.actualFontSize,this.actualFontWeight),Ve=t.angle/180*Math.PI,je=Math.cos(Ve),ze=Math.sin(Ve),Xe=je*.6,We=ze*.6,qe=-ze*.5,Ke=je*.5,Ze=t.position.x,Je=t.position.y,Qe=[newScreenPoint(Ze-r.width*Xe-r.height*qe,Je-r.width*We-r.height*Ke),newScreenPoint(Ze+r.width*Xe-r.height*qe,Je+r.width*We-r.height*Ke),newScreenPoint(Ze+r.width*Xe+r.height*qe,Je+r.width*We+r.height*Ke),newScreenPoint(Ze-r.width*Xe+r.height*qe,Je-r.width*We+r.height*Ke)];await e.drawPolygon(Qe,this.labelBackground,OxyColors.Undefined,0,this.edgeRenderingMode)}};D$1(ge$1,"DefaultTrackerFormatString",$e=>`${$e.title}
${$e.xTitle}: ${$e.xValue}
${$e.yTitle}: ${$e.yValue}
${$e.zTitle}: ${$e.contourLevel}`);class SegmentPoint{constructor(e){D$1(this,"partner"),D$1(this,"join"),D$1(this,"processed"),D$1(this,"point"),this.point=e,this.processed=!1}}class Contour{constructor(e,t){D$1(this,"contourLevel"),D$1(this,"points"),D$1(this,"color"),this.points=e,this.contourLevel=t,this.color=OxyColors.Automatic}}const Re=class Jh extends XYAxisSeries{constructor(e){super(e),D$1(this,"itemsSourceItems",[]),D$1(this,"trackerStringFormatter"),D$1(this,"boxWidth"),D$1(this,"fill"),D$1(this,"items"),D$1(this,"lineStyle"),D$1(this,"medianPointSize"),D$1(this,"medianThickness"),D$1(this,"meanPointSize"),D$1(this,"meanThickness"),D$1(this,"outlierSize"),D$1(this,"outlierTrackerStringFormatter"),D$1(this,"outlierType"),D$1(this,"outlierOutline"),D$1(this,"showBox"),D$1(this,"showMedianAsDot"),D$1(this,"showMeanAsDot"),D$1(this,"stroke"),D$1(this,"strokeThickness"),D$1(this,"whiskerWidth"),this.items=[],this.trackerStringFormatter=Jh.DefaultTrackerFormatString,this.outlierTrackerStringFormatter=t=>`${t.title||""}
${t.xTitle}: ${t.xValue}
Y: ${t.outlier.toFixed(2)}`,this.title=void 0,this.fill=OxyColors.Automatic,this.stroke=OxyColors.Black,this.boxWidth=.3,this.strokeThickness=1,this.medianThickness=2,this.meanThickness=2,this.outlierSize=2,this.outlierType=MarkerType.Circle,this.medianPointSize=2,this.meanPointSize=2,this.whiskerWidth=.5,this.lineStyle=LineStyle.Solid,this.showMedianAsDot=!1,this.showMeanAsDot=!1,this.showBox=!0,e&&Object.assign(this,removeUndef(e))}get actualItems(){return this.itemsSource?this.itemsSourceItems:this.items}getNearestPoint(e,t){if(!this.xAxis||!this.yAxis)return;let r=Number_MAX_VALUE,Ve;for(const je of this.actualItems){for(const Ze of je.outliers){const Je=PlotElementExtensions.transform(this,je.x,Ze),Qe=screenPointMinus(Je,e).lengthSquared;if(Qe<r){const ti=this.outlierTrackerStringFormatter({item:je,title:this.title,xTitle:this.xAxis.title||XYAxisSeries.defaultXAxisTitle,xValue:this.xAxis.getValue(je.x),outlier:Ze});Ve=new TrackerHitResult({series:this,dataPoint:newDataPoint(je.x,Ze),position:Je,item:je,text:ti}),r=Qe}}let ze=DataPoint_Undefined;if(this.getBoxRect(je).containsPoint(e)){const Ze=this.inverseTransform(e);ze=newDataPoint(je.x,Ze.y),r=0}const Xe=PlotElementExtensions.transform(this,je.x,je.upperWhisker),We=PlotElementExtensions.transform(this,je.x,je.lowerWhisker),qe=ScreenPointHelper.findPointOnLine(e,Xe,We),Ke=screenPointMinus(qe,e).lengthSquared;if(Ke<r&&(ze=this.inverseTransform(qe),r=Ke),DataPoint_isDefined(ze)){const Ze=this.trackerStringFormatter({item:je,title:this.title,xTitle:this.xAxis.title||XYAxisSeries.defaultXAxisTitle,xValue:this.xAxis.getValue(je.x),upperWhisker:this.yAxis.getValue(je.upperWhisker),boxTop:this.yAxis.getValue(je.boxTop),median:this.yAxis.getValue(je.median),boxBottom:this.yAxis.getValue(je.boxBottom),lowerWhisker:this.yAxis.getValue(je.lowerWhisker),mean:this.yAxis.getValue(je.mean!==void 0?je.mean:NaN)});Ve=new TrackerHitResult({series:this,dataPoint:ze,position:this.transform(ze),item:je,text:Ze})}}if(r<Number_MAX_VALUE)return Ve}isValidPointBoxPlot(e,t,r){const Ve=getBoxPlotItemValues(e);return!isNaN(e.x)&&!isInfinity(e.x)&&!Ve.some(isNaN)&&!Ve.some(isInfinity)&&t&&t.isValidValue(e.x)&&r&&Ve.every(je=>r.isValidValue(je))}async render(e){if(this.actualItems.length===0)return;const t=this.getClippingRect(),r=[],Ve=this.boxWidth*.5,je=Ve*this.whiskerWidth,ze=this.getSelectableColor(this.stroke),Xe=this.getSelectableFillColor(this.fill),We=LineStyleHelper.getDashArray(this.lineStyle),qe=PlotElementExtensions.transform,Ke=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);for(const Ze of this.actualItems){const Je=Ze.mean!==void 0?Ze.mean:NaN;r.push(...Ze.outliers.map(ii=>qe(this,Ze.x,ii)));const Qe=qe(this,Ze.x,Ze.upperWhisker),ti=qe(this,Ze.x,Ze.boxTop),ni=qe(this,Ze.x,Ze.boxBottom),ri=qe(this,Ze.x,Ze.lowerWhisker);if(this.strokeThickness>0&&this.lineStyle!==LineStyle.None&&(await e.drawLine([Qe,ti],ze,this.strokeThickness,Ke,We,LineJoin.Miter),await e.drawLine([ni,ri],ze,this.strokeThickness,Ke,We,LineJoin.Miter)),this.whiskerWidth>0){const ii=qe(this,Ze.x-je,Ze.upperWhisker),ei=qe(this,Ze.x+je,Ze.upperWhisker),St=qe(this,Ze.x-je,Ze.lowerWhisker),oi=qe(this,Ze.x+je,Ze.lowerWhisker);await e.drawLine([ii,ei],ze,this.strokeThickness,Ke,void 0,LineJoin.Miter),await e.drawLine([St,oi],ze,this.strokeThickness,Ke,void 0,LineJoin.Miter)}if(this.showBox){const ii=this.getBoxRect(Ze);await e.drawRectangle(ii,Xe,ze,this.strokeThickness,Ke)}if(this.showMedianAsDot){const ii=qe(this,Ze.x,Ze.median);if(t.containsPoint(ii)){const ei=new OxyRect(ii.x-this.medianPointSize,ii.y-this.medianPointSize,this.medianPointSize*2,this.medianPointSize*2);await e.drawEllipse(ei,Xe,OxyColors.Undefined,0,this.edgeRenderingMode)}}else{const ii=qe(this,Ze.x-Ve,Ze.median),ei=qe(this,Ze.x+Ve,Ze.median);await e.drawLine([ii,ei],ze,this.strokeThickness*this.medianThickness,Ke,void 0,LineJoin.Miter)}if(!this.showMeanAsDot&&!isNaN(Je)){const ii=qe(this,Ze.x-Ve,Je),ei=qe(this,Ze.x+Ve,Je);await e.drawLine([ii,ei],ze,this.strokeThickness*this.meanThickness,Ke,LineStyleHelper.getDashArray(LineStyle.Dash),LineJoin.Miter)}else if(!isNaN(Je)){const ii=qe(this,Ze.x,Je);if(t.containsPoint(ii)){const ei=new OxyRect(ii.x-this.meanPointSize,ii.y-this.meanPointSize,this.meanPointSize*2,this.meanPointSize*2);await e.drawEllipse(ei,Xe,OxyColors.Undefined,0,this.edgeRenderingMode)}}}if(this.outlierType!==MarkerType.None){const Ze=r.map(Je=>this.outlierSize);await RenderingExtensions.drawMarkers(e,r,this.outlierType,this.outlierOutline,Ze,Xe,ze,this.strokeThickness,this.edgeRenderingMode)}}async renderLegend(e,t){const r=(t.left+t.right)/2,Ve=t.top+(t.bottom-t.top)*.7,je=t.top+(t.bottom-t.top)*.3,ze=(Ve+je)*.5,Xe=t.width*.24,We=Xe*this.whiskerWidth,qe=1,Ke=this.getSelectableColor(this.stroke),Ze=this.getSelectableFillColor(this.fill),Je=LineStyleHelper.getDashArray(LineStyle.Solid),Qe=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferGeometricAccuracy);if(await e.drawLine([newScreenPoint(r,t.top),newScreenPoint(r,je)],Ke,qe,Qe,Je,LineJoin.Miter),await e.drawLine([newScreenPoint(r,Ve),newScreenPoint(r,t.bottom)],Ke,qe,Qe,Je,LineJoin.Miter),this.whiskerWidth>0&&(await e.drawLine([newScreenPoint(r-We,t.bottom),newScreenPoint(r+We,t.bottom)],Ke,qe,Qe,Je,LineJoin.Miter),await e.drawLine([newScreenPoint(r-We,t.top),newScreenPoint(r+We,t.top)],Ke,qe,Qe,Je,LineJoin.Miter)),this.showBox&&await e.drawRectangle(new OxyRect(r-Xe,je,2*Xe,Ve-je),Ze,Ke,qe,Qe),!this.showMedianAsDot)await e.drawLine([newScreenPoint(r-Xe,ze),newScreenPoint(r+Xe,ze)],Ke,qe*this.medianThickness,Qe,Je,LineJoin.Miter);else{const ti=new OxyRect(r-this.medianPointSize,ze-this.medianPointSize,this.medianPointSize*2,this.medianPointSize*2);await e.drawEllipse(ti,Ze,OxyColors.Undefined,0,Qe)}}updateData(){this.itemsSource&&(this.clearItemsSourceItems(),this.itemsSourceItems.push(...this.itemsSource),this.itemsSourceItems.forEach(e=>{e.mean===void 0&&(e.median=NaN)}))}updateMaxMin(){super.updateMaxMin(),this.internalUpdateBoxPlotMaxMin(this.actualItems)}internalUpdateBoxPlotMaxMin(e){if(!e||e.length===0)return;let t=this.minX,r=this.minY,Ve=this.maxX,je=this.maxY;for(const ze of e){if(!this.isValidPointBoxPlot(ze,this.xAxis,this.yAxis))continue;const Xe=ze.x;(Xe<t||isNaN(t))&&(t=Xe),(Xe>Ve||isNaN(Ve))&&(Ve=Xe);const We=getBoxPlotItemValues(ze);for(const qe of We)(qe<r||isNaN(r))&&(r=qe),(qe>je||isNaN(je))&&(je=qe)}this.minX=t,this.minY=r,this.maxX=Ve,this.maxY=je}getItem(e){return this.itemsSource||!this.actualItems||this.actualItems.length===0?super.getItem(e):this.actualItems[e]}getBoxRect(e){const t=this.boxWidth*.5,r=PlotElementExtensions.transform(this,e.x-t,e.boxTop),Ve=PlotElementExtensions.transform(this,e.x+t,e.boxBottom);return OxyRect.fromScreenPoints(r,Ve)}clearItemsSourceItems(){this.itemsSourceItems.length=0}};D$1(Re,"DefaultTrackerFormatString",$e=>`${$e.title||""}
${$e.xTitle}: ${$e.xValue}
Upper Whisker: ${$e.upperWhisker.toFixed(2)}
Third Quartil: ${$e.boxTop.toFixed(2)}
Median: ${$e.median.toFixed(2)}
First Quartil: ${$e.boxBottom.toFixed(2)}
Lower Whisker: ${$e.lowerWhisker.toFixed(2)}
Mean: ${$e.mean.toFixed(2)}`);function getBoxPlotItemValues($e){const e=[$e.lowerWhisker,$e.boxBottom,$e.median,$e.boxTop,$e.upperWhisker];return $e.mean!==void 0&&!isNaN($e.mean)&&e.push($e.mean),e.push(...$e.outliers),e}function getActualFillColor($e){return $e.fill.getActualColor($e.defaultFillColor)}const Ne$1=class Qh extends ItemsSeries{constructor(e){super(e),D$1(this,"slicePoints",[]),D$1(this,"total",0),D$1(this,"angleIncrement"),D$1(this,"angleSpan"),D$1(this,"areInsideLabelsAngled",!1),D$1(this,"colorField"),D$1(this,"diameter"),D$1(this,"explodedDistance",0),D$1(this,"innerDiameter"),D$1(this,"insideLabelColor"),D$1(this,"insideLabelFormatter"),D$1(this,"insideLabelPosition"),D$1(this,"isExplodedField"),D$1(this,"labelField"),D$1(this,"outsideLabelFormatter"),D$1(this,"slices",[]),D$1(this,"startAngle"),D$1(this,"stroke"),D$1(this,"strokeThickness"),D$1(this,"tickDistance"),D$1(this,"tickHorizontalLength"),D$1(this,"tickLabelDistance"),D$1(this,"tickRadialLength"),D$1(this,"valueField"),D$1(this,"trackerStringFormatter"),this.stroke=OxyColors.White,this.strokeThickness=1,this.diameter=1,this.innerDiameter=0,this.startAngle=0,this.angleSpan=360,this.angleIncrement=1,this.outsideLabelFormatter=(t,r)=>`${round(r,0)} %`,this.insideLabelColor=OxyColors.Automatic,this.insideLabelFormatter=(t,r)=>t.label,this.tickDistance=0,this.tickRadialLength=6,this.tickHorizontalLength=8,this.tickLabelDistance=4,this.insideLabelPosition=.5,this.fontSize=12,this.trackerStringFormatter=Qh.DefaultTrackerStringFormatter,e&&Object.assign(this,removeUndef(e))}getNearestPoint(e,t){const r=this.trackerStringFormatter;for(let Ve=0;Ve<this.slicePoints.length;Ve++)if(ScreenPointHelper.isPointInPolygon(e,this.slicePoints[Ve])){const je=this.slices[Ve],ze=this.getItem(Ve),Xe=r?r({item:ze,title:this.title,xTitle:je.label,xValue:je.value,percent:je.value/this.total*100}):void 0;return new TrackerHitResult({series:this,position:e,item:ze,index:Ve,text:Xe})}}async render(e){if(this.slicePoints=[],this.slices.length===0||(this.total=this.slices.reduce((Xe,We)=>Xe+We.value,0),Math.abs(this.total)<=0))return;const t=Math.min(this.plotModel.plotArea.width,this.plotModel.plotArea.height)/2,r=t*(this.diameter-this.explodedDistance),Ve=t*this.innerDiameter;let je=this.startAngle;const ze=newScreenPoint((this.plotModel.plotArea.left+this.plotModel.plotArea.right)*.5,(this.plotModel.plotArea.top+this.plotModel.plotArea.bottom)*.5);for(const Xe of this.slices){const We=[],qe=[],Ke=Xe.value/this.total*this.angleSpan,Ze=je+Ke,Je=Xe.isExploded?this.explodedDistance*t:0,Qe=je+Ke/2,ti=Qe*Math.PI/180,ni=newScreenPoint(ze.x+Je*Math.cos(ti),ze.y+Je*Math.sin(ti));for(;;){let ii=!1;je>=Ze&&(je=Ze,ii=!0);const ei=je*Math.PI/180,St=newScreenPoint(ni.x+r*Math.cos(ei),ni.y+r*Math.sin(ei));We.push(St);const oi=newScreenPoint(ni.x+Ve*Math.cos(ei),ni.y+Ve*Math.sin(ei));debugger;if(console.log(Ve+Je>0),Ve+Je>0){debugger;qe.push(oi)}if(ii)break;je+=this.angleIncrement}qe.reverse(),qe.length===0&&qe.push(ni),qe.push(We[0]);const ri=[...We,...qe];if(await e.drawPolygon(ri,getActualFillColor(Xe),this.stroke,this.strokeThickness,this.edgeRenderingMode,void 0,LineJoin.Bevel),this.slicePoints.push(ri),this.outsideLabelFormatter){const ii=this.outsideLabelFormatter(Xe,Xe.value/this.total*100),ei=Math.sign(Math.cos(ti)),St=newScreenPoint(ni.x+(r+this.tickDistance)*Math.cos(ti),ni.y+(r+this.tickDistance)*Math.sin(ti)),oi=newScreenPoint(St.x+this.tickRadialLength*Math.cos(ti),St.y+this.tickRadialLength*Math.sin(ti)),si=newScreenPoint(oi.x+this.tickHorizontalLength*ei,oi.y);await e.drawLine([St,oi,si],this.actualTextColor,1,this.edgeRenderingMode,void 0,LineJoin.Bevel);const ai=newScreenPoint(si.x+this.tickLabelDistance*ei,si.y);await e.drawText(ai,ii,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,ei>0?HorizontalAlignment.Left:HorizontalAlignment.Right,VerticalAlignment.Middle)}if(this.insideLabelFormatter&&!this.insideLabelColor.isUndefined()){const ii=this.insideLabelFormatter(Xe,Xe.value/this.total*100),ei=Ve*(1-this.insideLabelPosition)+r*this.insideLabelPosition,St=newScreenPoint(ni.x+ei*Math.cos(ti),ni.y+ei*Math.sin(ti));let oi=0;this.areInsideLabelsAngled&&(oi=Qe,Math.cos(ti)<0&&(oi+=180));const si=this.insideLabelColor.isAutomatic()?this.actualTextColor:this.insideLabelColor;await e.drawText(St,ii,si,this.actualFont,this.actualFontSize,this.actualFontWeight,oi,HorizontalAlignment.Center,VerticalAlignment.Middle)}}}async renderLegend(e,t){}areAxesRequired(){return!1}ensureAxes(){}isUsing(e){return!1}setDefaultValues(){for(const e of this.slices)e.fill=e.fill||OxyColors.Automatic,e.fill.isAutomatic()&&(e.defaultFillColor=this.plotModel.getDefaultColor())}updateAxisMaxMin(){}updateData(){if(this.itemsSource){this.slices=[];for(const e of this.itemsSource){const t=getOrDefault(e,this.labelField,""),r=getOrDefault(e,this.valueField,NaN),Ve=getOrDefault(e,this.colorField,OxyColors.Automatic),je=getOrDefault(e,this.isExplodedField,!1);this.slices.push({label:t,value:r,fill:Ve,isExploded:je})}}}updateMaxMin(){}};D$1(Ne$1,"DefaultTrackerStringFormatter",$e=>`${$e.xTitle}: ${round($e.xValue,3)} (${toPercent(($e.percent||0)/100)})`);const re$1=class Aa extends XYAxisSeries{constructor(e){super(e),D$1(this,"dataHash",0),D$1(this,"colorAxisHash",0),D$1(this,"image"),D$1(this,"x0",0),D$1(this,"x1",0),D$1(this,"y0",0),D$1(this,"y1",0),D$1(this,"data"),D$1(this,"interpolate",!0),D$1(this,"minValue",0),D$1(this,"maxValue",0),D$1(this,"colorAxis"),D$1(this,"colorAxisKey"),D$1(this,"coordinateDefinition",0),D$1(this,"renderMethod",0),D$1(this,"labelStringFormatter",t=>t.toFixed(2)),D$1(this,"labelFontSize",0),this.trackerStringFormatter=Aa.DefaultTrackerFormatString,this.interpolate=!0,this.labelFontSize=0,e&&Object.assign(this,removeUndef(e))}invalidate(){this.image=void 0}async render(e){if(!this.data){this.image=void 0;return}if(!this.colorAxis)throw new Error("Color axis not specified.");let t=this.x0,r=this.x1,Ve=this.y0,je=this.y1;const ze=this.data.length,Xe=this.data[0].length,We=(this.x1-this.x0)/(ze-1),qe=(this.y1-this.y0)/(Xe-1);if(this.coordinateDefinition===0){if(this.xAxis.isLogarithmic()){const ii=Math.log(this.x1/this.x0)/(ze-1);t*=Math.exp(ii/-2),r*=Math.exp(ii/2)}else t-=We/2,r+=We/2;if(this.yAxis.isLogarithmic()){const ii=Math.log(this.y1/this.y0)/(Xe-1);Ve*=Math.exp(ii/-2),je*=Math.exp(ii/2)}else Ve-=qe/2,je+=qe/2}const Ke=PlotElementExtensions.transform(this,t,Ve),Ze=PlotElementExtensions.transform(this,r,je),Je=OxyRect.fromScreenPoints(Ke,Ze),Qe=this.renderMethod===0,ti=calculateHashcode(this.data),ni=this.colorAxis.getElementHashCode();(Qe&&!this.image||ti!==this.dataHash||ni!==this.colorAxisHash)&&(Qe&&await this.updateImage(),this.dataHash=ti,this.colorAxisHash=ni);const ri=PlotElementExtensions.orientate;if(Qe)this.image&&await RenderingExtensions.drawImage(e,this.image,Je.left,Je.top,Je.width,Je.height,1,this.interpolate);else{const ii=ri(this,Ke),ei=ri(this,Ze),St=(ei.x-ii.x)/ze,oi=(ei.y-ii.y)/Xe,si=ColorAxisExtensions.getColor;for(let ai=0;ai<ze;ai++)for(let ui=0;ui<Xe;ui++){const hi=si(this.colorAxis,this.data[ai][ui]),ci=ri(this,newScreenPoint(ii.x+ai*St,ii.y+ui*oi)),mi=ri(this,newScreenPoint(ii.x+(ai+1)*St,ii.y+(ui+1)*oi)),di=OxyRect.fromScreenPoints(ci,mi);await e.drawRectangle(di,hi,OxyColors.Undefined,0,this.edgeRenderingMode)}}this.labelFontSize>0&&await this.renderLabels(e,Je)}getNearestPoint(e,t){if(!this.data)return;this.interpolate||(t=!1);let r=this.inverseTransform(e);if(!this.isPointInRange(r))return;let Ve,je;if(this.xAxis.isLogarithmic()){const Ke=Math.log(this.x1/this.x0)/(this.data.length-1);Ve=Math.log(r.x/this.x0)/Ke}else{const Ke=(this.x1-this.x0)/(this.data.length-1);Ve=(r.x-this.x0)/Ke}if(this.yAxis.isLogarithmic()){const Ke=Math.log(this.y1/this.y0)/(this.data[0].length-1);je=Math.log(r.y/this.y0)/Ke}else{const Ke=(this.y1-this.y0)/(this.data[0].length-1);je=(r.y-this.y0)/Ke}if(!t){Ve=Math.round(Ve),je=Math.round(je);let Ke,Ze;if(this.xAxis.isLogarithmic()){const Je=Math.log(this.x1/this.x0)/(this.data.length-1);Ke=this.x0*Math.exp(Ve*Je)}else{const Je=(this.x1-this.x0)/(this.data.length-1);Ke=Ve*Je+this.x0}if(this.yAxis.isLogarithmic()){const Je=Math.log(this.y1/this.y0)/(this.data[0].length-1);Ze=this.y0*Math.exp(je*Je)}else{const Je=(this.y1-this.y0)/(this.data[0].length-1);Ze=je*Je+this.y0}r=newDataPoint(Ke,Ze),e=this.transform(r)}if(Ve<-.5||Ve>this.data.length-.5||je<-.5||je>this.data[0].length-.5)return;const ze=Aa.getValue(this.data,Ve,je),Xe=this.colorAxis,We=(Xe==null?void 0:Xe.title)??Aa.DefaultColorAxisTitle,qe=this.formatDefaultTrackerString(void 0,r,Ke=>{Ke.colorAxisTitle=We,Ke.value=ze});return new TrackerHitResult({series:this,dataPoint:r,position:e,item:null,index:-1,text:qe})}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}updateMaxMinXY(){if(!this.data)return;const e=this.data.length,t=this.data[0].length;if(this.minX=Math.min(this.x0,this.x1),this.maxX=Math.max(this.x0,this.x1),this.minY=Math.min(this.y0,this.y1),this.maxY=Math.max(this.y0,this.y1),this.coordinateDefinition===0){if(this.xAxis.isLogarithmic()){const r=Math.log(this.maxX/this.minX)/(e-1);this.minX*=Math.exp(r/-2),this.maxX*=Math.exp(r/2)}else{const r=(this.maxX-this.minX)/(e-1);this.minX-=r/2,this.maxX+=r/2}if(this.yAxis.isLogarithmic()){const r=Math.log(this.maxY/this.minY)/(t-1);this.minY*=Math.exp(r/-2),this.maxY*=Math.exp(r/2)}else{const r=(this.maxY-this.minY)/(t-1);this.minY-=r/2,this.maxY+=r/2}}}updateMaxMin(){if(super.updateMaxMin(),this.updateMaxMinXY(),!this.data)return;const e=this.data.flat().filter(t=>!isNaN(t));this.minValue=minValueOfArray(e),this.maxValue=maxValueOfArray(e)}updateAxisMaxMin(){super.updateAxisMaxMin();const e=this.colorAxis;e&&(e.include(this.minValue),e.include(this.maxValue))}async renderLabels(e,t){if(!this.data)return;const r=this.data.length,Ve=this.data[0].length,je=t.height/Ve*this.labelFontSize,ze=this.x0,Xe=this.x1,We=this.y0,qe=this.y1,Ke=PlotElementExtensions.orientate,Ze=PlotElementExtensions.transform,Je=Ke(this,Ze(this,ze,We)),Qe=Ke(this,Ze(this,Xe,qe)),ti=(Qe.x-Je.x)/(r-1),ni=(Qe.y-Je.y)/(Ve-1),ri=ColorAxisExtensions.getColor;for(let ii=0;ii<r;ii++)for(let ei=0;ei<Ve;ei++){const St=Ke(this,newScreenPoint(Je.x+ii*ti,Je.y+ei*ni)),oi=Aa.getValue(this.data,ii,ei),si=ri(this.colorAxis,oi),ai=OxyColorExtensions.toHsv(si)[2]>.6?OxyColors.Black:OxyColors.White,ui=this.getLabel(oi,ii,ei);await e.drawText(St,ui,ai,this.actualFont,je,500,0,HorizontalAlignment.Center,VerticalAlignment.Middle)}}getLabel(e,t,r){return this.labelStringFormatter(e,[])}static getValue(e,t,r){t=Math.max(t,0),r=Math.max(r,0);const Ve=Math.floor(t),je=Ve+1<e.length?Ve+1:Ve,ze=Math.floor(r),Xe=ze+1<e[0].length?ze+1:ze;if(t=Math.min(t,je),r=Math.min(r,Xe),t===Ve&&r===ze)return e[Ve][ze];if(t!==Ve&&r===ze){if(isNaN(e[Ve][ze])||isNaN(e[je][ze]))return NaN;const We=t-Ve;return Ve!==je?e[Ve][ze]*(1-We)+e[je][ze]*We:e[Ve][ze]}if(t===Ve&&r!==ze){if(isNaN(e[Ve][ze])||isNaN(e[Ve][Xe]))return NaN;const We=r-ze;return ze!==Xe?e[Ve][ze]*(1-We)+e[Ve][Xe]*We:e[Ve][ze]}else{if(isNaN(e[Ve][ze])||isNaN(e[je][ze])||isNaN(e[Ve][Xe])||isNaN(e[je][Xe]))return NaN;const We=t-Ve,qe=r-ze;let Ke,Ze;return Ve!==je?(Ke=e[Ve][ze]*(1-We)+e[je][ze]*We,Ze=e[Ve][Xe]*(1-We)+e[je][Xe]*We):(Ke=e[Ve][ze],Ze=e[Ve][Xe]),ze!==Xe?Ke*(1-qe)+Ze*qe:Ke}}isPointInRange(e){return this.updateMaxMinXY(),e.x>=this.minX&&e.x<=this.maxX&&e.y>=this.minY&&e.y<=this.maxY}async updateImage(){if(!this.data)return;const e=this.xAxis.transform(this.x0)>this.xAxis.transform(this.x1),t=this.yAxis.transform(this.y0)>this.yAxis.transform(this.y1),r=PlotElementExtensions.isTransposed(this),Ve=this.data.length,je=this.data[0].length,ze=r?new TwoDimensionalArray(je,Ve):new TwoDimensionalArray(Ve,je),Xe=ColorAxisExtensions.getColor;for(let We=0;We<Ve;We++){const qe=e?Ve-1-We:We;for(let Ke=0;Ke<je;Ke++){const Ze=t?je-1-Ke:Ke,Je=Xe(this.colorAxis,this.data[qe][Ze]);r?ze.set(Ke,We,Je):ze.set(We,Ke,Je)}}this.image=await OxyImage.create(ze,ImageFormat.Png)}};D$1(re$1,"DefaultTrackerFormatString",$e=>`${$e.title}
${$e.xTitle}: ${$e.xValue}
${$e.yTitle}: ${$e.yValue}
${$e.colorAxisTitle}: ${$e.value}`),D$1(re$1,"DefaultColorAxisTitle","Value");function calculateHashcode($e){return hashCode($e.flat())}const Ie=class{constructor($e,e,t,r,Ve){D$1(this,"a"),D$1(this,"b"),D$1(this,"value"),typeof $e=="number"?(this.a=newDataPoint($e,t),this.b=newDataPoint(e,r),this.value=Ve):(this.a=$e,this.b=e,this.value=t)}contains($e){return $e.x<=this.b.x&&$e.x>=this.a.x&&$e.y<=this.b.y&&$e.y>=this.a.y||$e.x<=this.a.x&&$e.x>=this.b.x&&$e.y<=this.a.y&&$e.y>=this.b.y}equals($e){return dataPointEquals(this.a,$e.a)&&dataPointEquals(this.b,$e.b)&&this.value===$e.value}toString(){return`${this.a} ${this.b} ${this.value}`}isDefined(){return DataPoint_isDefined(this.a)&&DataPoint_isDefined(this.b)&&!isNaN(this.value)}};D$1(Ie,"Undefined",new Ie(DataPoint_Undefined,DataPoint_Undefined,Number.NaN));let RectangleItem=Ie;const he$1=class Au extends XYAxisSeries{constructor(e){super(e),D$1(this,"_actualItems",[]),D$1(this,"_minValue",0),D$1(this,"_maxValue",0),D$1(this,"_colorAxis"),D$1(this,"colorAxisKey"),D$1(this,"labelStringFormatter",t=>t.toFixed(2)),D$1(this,"labelFontSize"),D$1(this,"mapping"),D$1(this,"items",[]),this.trackerStringFormatter=Au.DefaultTrackerFormatString,this.labelFontSize=0,e&&Object.assign(this,removeUndef(e))}get minValue(){return this._minValue}get maxValue(){return this._maxValue}get colorAxis(){return this._colorAxis}set colorAxis(e){this._colorAxis=e}get actualItems(){return this.itemsSource?this._actualItems:this.items}async render(e){this.verifyAxes(),await this.renderRectangles(e,this.actualItems)}updateData(){this.itemsSource&&this.updateActualItems()}getItem(e){const t=this.actualItems;return!this.itemsSource&&t&&e<t.length?t[e]:super.getItem(e)}clearActualItems(){this._actualItems.length=0}updateActualItems(){if(this.clearActualItems(),!(!this.itemsSource||this.itemsSource.length==0)){for(const e of this.itemsSource)if(e){if(e instanceof RectangleItem){this._actualItems.push(e);continue}if(this.mapping){this._actualItems.push(this.mapping(e));continue}throw new Error("Invalid itemsSource")}}}async renderRectangles(e,t){const r=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness),Ve=PlotElementExtensions.transform;for(const je of t){const ze=ColorAxisExtensions.getColor(this.colorAxis,je.value),Xe=Ve(this,je.a.x,je.a.y),We=Ve(this,je.b.x,je.b.y),qe=OxyRect.fromScreenPoints(Xe,We);await e.drawRectangle(qe,ze,OxyColors.Undefined,0,r),this.labelFontSize>0&&await e.drawText(qe.center,this.labelStringFormatter(je.value,[]),this.actualTextColor,this.actualFont,this.labelFontSize,this.actualFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Middle)}}getNearestPoint(e,t){const r=this.inverseTransform(e);if(!this.isPointInRange(r)||!this.actualItems)return;const Ve=this.colorAxis,je=(Ve==null?void 0:Ve.title)??Au.DefaultColorAxisTitle;for(const ze of this.actualItems)if(ze.contains(r)){const Xe=this.formatDefaultTrackerString(ze,r,We=>{We.colorAxisTitle=je,We.value=ze.value});return new TrackerHitResult({series:this,dataPoint:r,position:e,item:null,index:-1,text:Xe})}}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}updateMaxMinXY(){if(this.actualItems&&this.actualItems.length>0){const e=minValueOfArray(this.actualItems.map(qe=>qe.a.x)),t=minValueOfArray(this.actualItems.map(qe=>qe.b.x)),r=maxValueOfArray(this.actualItems.map(qe=>qe.a.x)),Ve=maxValueOfArray(this.actualItems.map(qe=>qe.b.x)),je=minValueOfArray(this.actualItems.map(qe=>qe.a.y)),ze=minValueOfArray(this.actualItems.map(qe=>qe.b.y)),Xe=maxValueOfArray(this.actualItems.map(qe=>qe.a.y)),We=maxValueOfArray(this.actualItems.map(qe=>qe.b.y));this.minX=Math.min(e,t),this.maxX=Math.max(r,Ve),this.minY=Math.min(je,ze),this.maxY=Math.max(Xe,We)}}updateMaxMin(){super.updateMaxMin();const e=[];if(pushMany(e,this.actualItems.map(t=>t.a)),pushMany(e,this.actualItems.map(t=>t.b)),this.internalUpdateMaxMin(e),this.updateMaxMinXY(),this.actualItems&&this.actualItems.length>0){const t=this.actualItems.map(r=>r.value);this._minValue=minValueOfArray(t),this._maxValue=minValueOfArray(t)}}updateAxisMaxMin(){super.updateAxisMaxMin();const e=this.colorAxis;e&&(e.include(this.minValue),e.include(this.maxValue))}isPointInRange(e){return this.updateMaxMinXY(),e.x>=this.minX&&e.x<=this.maxX&&e.y>=this.minY&&e.y<=this.maxY}};D$1(he$1,"DefaultTrackerFormatString",$e=>`${$e.title}
${$e.xTitle}: ${$e.xValue}
${$e.yTitle}: ${$e.yValue}
${$e.colorAxisTitle}: ${$e.value}`),D$1(he$1,"DefaultColorAxisTitle","Value");const ce$1=class Cu extends XYAxisSeries{constructor(e){super(e),D$1(this,"_actualItems",[]),D$1(this,"minValue",0),D$1(this,"maxValue",0),D$1(this,"colorAxis"),D$1(this,"colorAxisKey"),D$1(this,"labelStringFormatter",(t,r)=>t.value.toFixed(2)),D$1(this,"labelFontSize",0),D$1(this,"mapping"),D$1(this,"items",[]),D$1(this,"stroke",OxyColors.Undefined),D$1(this,"strokeThickness",2),this.trackerStringFormatter=Cu.defaultTrackerStringFormatter,this.strokeThickness=2,e&&Object.assign(this,removeUndef(e))}get actualItems(){return this.itemsSource?this._actualItems:this.items}async render(e){this.verifyAxes(),await this.renderPolygons(e,this.actualItems)}updateData(){this.itemsSource&&this.updateActualItems()}getItem(e){const t=this.actualItems;return!this.itemsSource&&t&&e<t.length?t[e]:super.getItem(e)}clearActualItems(){this._actualItems&&(this._actualItems.length=0),this._actualItems=[]}updateActualItems(){this.clearActualItems();for(const e of this.itemsSource||[]){if(isPolygonItem(e)){this._actualItems.push(e);continue}if(this.mapping){this._actualItems.push(this.mapping(e));continue}throw new Error("Invalid item")}}async renderPolygons(e,t){const r=[];for(const Ve of t){const je=ColorAxisExtensions.getColor(this.colorAxis,Ve.value),ze=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);for(const Xe of Ve.outlines)if(r.length=0,r.push(...Xe.map(We=>this.transform(We))),await e.drawPolygon(r,je,this.stroke,this.strokeThickness,ze),this.labelFontSize>0){const We=this.labelStringFormatter(Ve,[]);await e.drawText(ScreenPointHelper.getCentroid(r),We,this.actualTextColor,this.actualFont,this.labelFontSize,this.actualFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Middle)}}}getNearestPoint(e,t){const r=this.inverseTransform(e);if(!this.isPointInRange(r))return;const Ve=this.colorAxis,je=(Ve==null?void 0:Ve.title)??Cu.defaultColorAxisTitle,ze=[],Xe=this.actualItems;if(Xe){for(const We of Xe)for(let qe=0;qe<We.outlines.length;qe++)if(We.bounds[qe].contains(r.x,r.y)&&(ze.length=0,ze.push(...We.outlines[qe].map(Ke=>this.transform(Ke))),ScreenPointHelper.isPointInPolygon(e,ze))){const Ke=super.formatDefaultTrackerString(We,r,Ze=>{Ze.colorAxisTitle=je});return new TrackerHitResult({series:this,dataPoint:r,position:e,item:We,index:-1,text:Ke})}}}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}updateMaxMin(){super.updateMaxMin(),this.updateMaxMinXY();const e=this.actualItems;e&&e.length>0&&(this.minValue=minValueOfArray(e.map(t=>t.value)),this.maxValue=maxValueOfArray(e.map(t=>t.value)))}updateAxisMaxMin(){super.updateAxisMaxMin();const e=this.colorAxis;e&&(e.include(this.minValue),e.include(this.maxValue))}updateMaxMinXY(){const e=this.actualItems;if(e&&e.length>0){const t=e.flatMap(r=>r.bounds);this.minX=minValueOfArray(t.map(r=>r.left)),this.maxX=maxValueOfArray(t.map(r=>r.right)),this.minY=minValueOfArray(t.map(r=>r.top)),this.maxY=maxValueOfArray(t.map(r=>r.bottom))}}isPointInRange(e){return this.updateMaxMinXY(),e.x>=this.minX&&e.x<=this.maxX&&e.y>=this.minY&&e.y<=this.maxY}};D$1(ce$1,"defaultTrackerStringFormatter",$e=>`${$e.title}
${$e.xTitle}: ${$e.xValue}
${$e.yTitle}: ${$e.yValue}
${$e.colorAxisTitle}: ${$e.item.value}`),D$1(ce$1,"defaultColorAxisTitle","Value");function isPolygonItem($e){return $e&&$e.outlines&&$e.value&&$e.bounds}var xmlbuilder2_min={exports:{}};(function($e,e){(function(t,r){$e.exports=r()})(commonjsGlobal,function(){return function(t){var r={};function Ve(je){if(r[je])return r[je].exports;var ze=r[je]={i:je,l:!1,exports:{}};return t[je].call(ze.exports,ze,ze.exports,Ve),ze.l=!0,ze.exports}return Ve.m=t,Ve.c=r,Ve.d=function(je,ze,Xe){Ve.o(je,ze)||Object.defineProperty(je,ze,{enumerable:!0,get:Xe})},Ve.r=function(je){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(je,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(je,"__esModule",{value:!0})},Ve.t=function(je,ze){if(1&ze&&(je=Ve(je)),8&ze||4&ze&&typeof je=="object"&&je&&je.__esModule)return je;var Xe=Object.create(null);if(Ve.r(Xe),Object.defineProperty(Xe,"default",{enumerable:!0,value:je}),2&ze&&typeof je!="string")for(var We in je)Ve.d(Xe,We,(function(qe){return je[qe]}).bind(null,We));return Xe},Ve.n=function(je){var ze=je&&je.__esModule?function(){return je.default}:function(){return je};return Ve.d(ze,"a",ze),ze},Ve.o=function(je,ze){return Object.prototype.hasOwnProperty.call(je,ze)},Ve.p="",Ve(Ve.s=184)}([function(t,r,Ve){function je(ze){for(var Xe in ze)r.hasOwnProperty(Xe)||(r[Xe]=ze[Xe])}Object.defineProperty(r,"__esModule",{value:!0}),je(Ve(240)),je(Ve(251)),je(Ve(175)),je(Ve(107)),je(Ve(29)),je(Ve(73)),je(Ve(106)),je(Ve(30)),je(Ve(252)),je(Ve(52)),je(Ve(97)),je(Ve(253)),je(Ve(37)),je(Ve(51)),je(Ve(173)),je(Ve(176)),je(Ve(172)),je(Ve(108)),je(Ve(254)),je(Ve(255)),je(Ve(256)),je(Ve(72)),je(Ve(177)),je(Ve(105)),je(Ve(17)),je(Ve(257)),je(Ve(12)),je(Ve(174))},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0}),function(je){je[je.Before=0]="Before",je[je.Equal=1]="Equal",je[je.After=2]="After"}(r.BoundaryPosition||(r.BoundaryPosition={})),function(je){je[je.None=0]="None",je[je.Capturing=1]="Capturing",je[je.AtTarget=2]="AtTarget",je[je.Bubbling=3]="Bubbling"}(r.EventPhase||(r.EventPhase={})),function(je){je[je.Element=1]="Element",je[je.Attribute=2]="Attribute",je[je.Text=3]="Text",je[je.CData=4]="CData",je[je.EntityReference=5]="EntityReference",je[je.Entity=6]="Entity",je[je.ProcessingInstruction=7]="ProcessingInstruction",je[je.Comment=8]="Comment",je[je.Document=9]="Document",je[je.DocumentType=10]="DocumentType",je[je.DocumentFragment=11]="DocumentFragment",je[je.Notation=12]="Notation"}(r.NodeType||(r.NodeType={})),function(je){je[je.Disconnected=1]="Disconnected",je[je.Preceding=2]="Preceding",je[je.Following=4]="Following",je[je.Contains=8]="Contains",je[je.ContainedBy=16]="ContainedBy",je[je.ImplementationSpecific=32]="ImplementationSpecific"}(r.Position||(r.Position={})),function(je){je[je.Accept=1]="Accept",je[je.Reject=2]="Reject",je[je.Skip=3]="Skip"}(r.FilterResult||(r.FilterResult={})),function(je){je[je.All=4294967295]="All",je[je.Element=1]="Element",je[je.Attribute=2]="Attribute",je[je.Text=4]="Text",je[je.CDataSection=8]="CDataSection",je[je.EntityReference=16]="EntityReference",je[je.Entity=32]="Entity",je[je.ProcessingInstruction=64]="ProcessingInstruction",je[je.Comment=128]="Comment",je[je.Document=256]="Document",je[je.DocumentType=512]="DocumentType",je[je.DocumentFragment=1024]="DocumentFragment",je[je.Notation=2048]="Notation"}(r.WhatToShow||(r.WhatToShow={})),function(je){je[je.StartToStart=0]="StartToStart",je[je.StartToEnd=1]="StartToEnd",je[je.EndToEnd=2]="EndToEnd",je[je.EndToStart=3]="EndToStart"}(r.HowToCompare||(r.HowToCompare={}))},function(t,r,Ve){var je=this&&this.__values||function(St){var oi=typeof Symbol=="function"&&Symbol.iterator,si=oi&&St[oi],ai=0;if(si)return si.call(St);if(St&&typeof St.length=="number")return{next:function(){return St&&ai>=St.length&&(St=void 0),{value:St&&St[ai++],done:!St}}};throw new TypeError(oi?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var ze=Ve(212);r.FixedSizeSet=ze.FixedSizeSet;var Xe=Ve(213);r.ObjectCache=Xe.ObjectCache;var We=Ve(214);r.CompareCache=We.CompareCache;var qe=Ve(215);r.Lazy=qe.Lazy;var Ke=Ve(216);function Ze(St,oi,si){if(ii(St))St.forEach(function(ui,hi){return oi.call(si,hi,ui)});else for(var ai in St)St.hasOwnProperty(ai)&&oi.call(si,ai,St[ai])}function Je(St){var oi,si;if(Qe(St))return St;if(ni(St)){var ai=[];try{for(var ui=je(St),hi=ui.next();!hi.done;hi=ui.next()){var ci=hi.value;ai.push(Je(ci))}}catch(pi){oi={error:pi}}finally{try{hi&&!hi.done&&(si=ui.return)&&si.call(ui)}finally{if(oi)throw oi.error}}return ai}if(ti(St)){ai={};for(var mi in St)if(St.hasOwnProperty(mi)){var di=St[mi];ai[mi]=Je(di)}return ai}return St}function Qe(St){return!!St&&Object.prototype.toString.call(St)==="[object Function]"}function ti(St){var oi=typeof St;return!!St&&(oi==="function"||oi==="object")}function ni(St){return Array.isArray(St)}function ri(St){return St instanceof Set}function ii(St){return St instanceof Map}function ei(St){if(ti(St)){var oi=Object.getPrototypeOf(St),si=oi.constructor;return oi&&si&&typeof si=="function"&&si instanceof si&&Function.prototype.toString.call(si)===Function.prototype.toString.call(Object)}return!1}r.StringWalker=Ke.StringWalker,r.applyMixin=function(St,oi){for(var si=[],ai=2;ai<arguments.length;ai++)si[ai-2]=arguments[ai];Object.getOwnPropertyNames(oi.prototype).forEach(function(ui){if(ui!=="constructor"){if(si.indexOf(ui)!==-1){var hi=Object.getOwnPropertyDescriptor(St.prototype,ui);hi&&Object.defineProperty(St.prototype,"_"+ui,hi)}var ci=Object.getOwnPropertyDescriptor(oi.prototype,ui);ci&&Object.defineProperty(St.prototype,ui,ci)}})},r.applyDefaults=function St(oi,si,ai){ai===void 0&&(ai=!1);var ui=Je(oi||{});return Ze(si,function(hi,ci){ei(ci)?ui[hi]=St(ui[hi],ci,ai):(ai||ui[hi]===void 0)&&(ui[hi]=ci)}),ui},r.forEachArray=function(St,oi,si){St.forEach(oi,si)},r.forEachObject=Ze,r.arrayLength=function(St){return ri(St)?St.size:St.length},r.objectLength=function(St){return ii(St)?St.size:Object.keys(St).length},r.getObjectValue=function(St,oi){return ii(St)?St.get(oi):St[oi]},r.removeObjectValue=function(St,oi){ii(St)?St.delete(oi):delete St[oi]},r.clone=Je,r.isBoolean=function(St){return typeof St=="boolean"},r.isNumber=function(St){return typeof St=="number"},r.isString=function(St){return typeof St=="string"},r.isFunction=Qe,r.isObject=ti,r.isArray=ni,r.isSet=ri,r.isMap=ii,r.isEmpty=function(St){if(ni(St))return!St.length;if(ri(St)||ii(St))return!St.size;if(ti(St)){for(var oi in St)if(St.hasOwnProperty(oi))return!1;return!0}return!1},r.isPlainObject=ei,r.isIterable=function(St){return St&&typeof St[Symbol.iterator]=="function"},r.getValue=function(St){return Qe(St.valueOf)?St.valueOf():St},r.utf8Encode=function(St){for(var oi=new Uint8Array(4*St.length),si=0,ai=0;ai<St.length;ai++){var ui=St.charCodeAt(ai);if(ui<128)oi[si++]=ui;else{if(ui<2048)oi[si++]=ui>>6|192;else{if(ui>55295&&ui<56320){if(++ai>=St.length)throw new Error("Incomplete surrogate pair.");var hi=St.charCodeAt(ai);if(hi<56320||hi>57343)throw new Error("Invalid surrogate character.");ui=65536+((1023&ui)<<10)+(1023&hi),oi[si++]=ui>>18|240,oi[si++]=ui>>12&63|128}else oi[si++]=ui>>12|224;oi[si++]=ui>>6&63|128}oi[si++]=63&ui|128}}return oi.subarray(0,si)},r.utf8Decode=function(St){for(var oi="",si=0;si<St.length;){var ai=St[si++];if(ai>127)if(ai>191&&ai<224){if(si>=St.length)throw new Error("Incomplete 2-byte sequence.");ai=(31&ai)<<6|63&St[si++]}else if(ai>223&&ai<240){if(si+1>=St.length)throw new Error("Incomplete 3-byte sequence.");ai=(15&ai)<<12|(63&St[si++])<<6|63&St[si++]}else{if(!(ai>239&&ai<248))throw new Error("Unknown multi-byte start.");if(si+2>=St.length)throw new Error("Incomplete 4-byte sequence.");ai=(7&ai)<<18|(63&St[si++])<<12|(63&St[si++])<<6|63&St[si++]}if(ai<=65535)oi+=String.fromCharCode(ai);else{if(!(ai<=1114111))throw new Error("Code point exceeds UTF-16 limit.");ai-=65536,oi+=String.fromCharCode(ai>>10|55296),oi+=String.fromCharCode(1023&ai|56320)}}return oi}},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(241);r.Cast=je.Cast;var ze=Ve(150);r.Guard=ze.Guard;var Xe=Ve(242);r.EmptySet=Xe.EmptySet},function(t,r,Ve){var je=Ve(11),ze=Ve(55).f,Xe=Ve(21),We=Ve(25),qe=Ve(80),Ke=Ve(119),Ze=Ve(123);t.exports=function(Je,Qe){var ti,ni,ri,ii,ei,St=Je.target,oi=Je.global,si=Je.stat;if(ti=oi?je:si?je[St]||qe(St,{}):(je[St]||{}).prototype)for(ni in Qe){if(ii=Qe[ni],ri=Je.noTargetGet?(ei=ze(ti,ni))&&ei.value:ti[ni],!Ze(oi?ni:St+(si?".":"#")+ni,Je.forced)&&ri!==void 0){if(typeof ii==typeof ri)continue;Ke(ii,ri)}(Je.sham||ri&&ri.sham)&&Xe(ii,"sham",!0),We(ti,ni,ii,Je)}}},function(t,r,Ve){var je=Ve(11),ze=Ve(81),Xe=Ve(14),We=Ve(58),qe=Ve(86),Ke=Ve(124),Ze=ze("wks"),Je=je.Symbol,Qe=Ke?Je:Je&&Je.withoutSetter||We;t.exports=function(ti){return Xe(Ze,ti)||(qe&&Xe(Je,ti)?Ze[ti]=Je[ti]:Ze[ti]=Qe("Symbol."+ti)),Ze[ti]}},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(2),ze=Ve(29),Xe=function(){function We(){this._features={mutationObservers:!0,customElements:!0,slots:!0,steps:!0},this._window=null,this._compareCache=new je.CompareCache,this._rangeList=new je.FixedSizeSet}return We.prototype.setFeatures=function(qe){if(qe===void 0&&(qe=!0),je.isObject(qe))for(var Ke in qe)this._features[Ke]=qe[Ke]||!1;else for(var Ke in this._features)this._features[Ke]=qe},Object.defineProperty(We.prototype,"features",{get:function(){return this._features},enumerable:!0,configurable:!0}),Object.defineProperty(We.prototype,"window",{get:function(){return this._window===null&&(this._window=ze.create_window()),this._window},enumerable:!0,configurable:!0}),Object.defineProperty(We.prototype,"compareCache",{get:function(){return this._compareCache},enumerable:!0,configurable:!0}),Object.defineProperty(We.prototype,"rangeList",{get:function(){return this._rangeList},enumerable:!0,configurable:!0}),Object.defineProperty(We,"instance",{get:function(){return We._instance||(We._instance=new We),We._instance},enumerable:!0,configurable:!0}),We}();r.dom=Xe.instance},function(t,r,Ve){var je=this&&this.__importStar||function(ei){if(ei&&ei.__esModule)return ei;var St={};if(ei!=null)for(var oi in ei)Object.hasOwnProperty.call(ei,oi)&&(St[oi]=ei[oi]);return St.default=ei,St};Object.defineProperty(r,"__esModule",{value:!0});var ze=je(Ve(228));r.base64=ze;var Xe=je(Ve(146));r.byte=Xe;var We=je(Ve(147));r.byteSequence=We;var qe=je(Ve(96));r.codePoint=qe;var Ke=je(Ve(232));r.json=Ke;var Ze=je(Ve(233));r.list=Ze;var Je=je(Ve(234));r.map=Je;var Qe=je(Ve(235));r.namespace=Qe;var ti=je(Ve(236));r.queue=ti;var ni=je(Ve(237));r.set=ni;var ri=je(Ve(238));r.stack=ri;var ii=je(Ve(239));r.string=ii},function(t,r){t.exports=function(Ve){try{return!!Ve()}catch{return!0}}},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(vi,Mi){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Di,Bi){Di.__proto__=Bi}||function(Di,Bi){for(var Pi in Bi)Bi.hasOwnProperty(Pi)&&(Di[Pi]=Bi[Pi])})(vi,Mi)},function(vi,Mi){function Di(){this.constructor=vi}je(vi,Mi),vi.prototype=Mi===null?Object.create(Mi):(Di.prototype=Mi.prototype,new Di)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=function(vi){function Mi(Di,Bi){Bi===void 0&&(Bi="");var Pi=vi.call(this,Bi)||this;return Pi.name=Di,Pi}return ze(Mi,vi),Mi}(Error);r.DOMException=Xe;var We=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"DOMStringSizeError",Di)||this}return ze(Mi,vi),Mi}(Xe);r.DOMStringSizeError=We;var qe=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"WrongDocumentError","The object is in the wrong document. "+Di)||this}return ze(Mi,vi),Mi}(Xe);r.WrongDocumentError=qe;var Ke=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"NoDataAllowedError",Di)||this}return ze(Mi,vi),Mi}(Xe);r.NoDataAllowedError=Ke;var Ze=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"NoModificationAllowedError","The object can not be modified. "+Di)||this}return ze(Mi,vi),Mi}(Xe);r.NoModificationAllowedError=Ze;var Je=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"NotSupportedError","The operation is not supported. "+Di)||this}return ze(Mi,vi),Mi}(Xe);r.NotSupportedError=Je;var Qe=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"InUseAttributeError",Di)||this}return ze(Mi,vi),Mi}(Xe);r.InUseAttributeError=Qe;var ti=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"InvalidStateError","The object is in an invalid state. "+Di)||this}return ze(Mi,vi),Mi}(Xe);r.InvalidStateError=ti;var ni=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"InvalidModificationError","The object can not be modified in this way. "+Di)||this}return ze(Mi,vi),Mi}(Xe);r.InvalidModificationError=ni;var ri=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"NamespaceError","The operation is not allowed by Namespaces in XML. [XMLNS] "+Di)||this}return ze(Mi,vi),Mi}(Xe);r.NamespaceError=ri;var ii=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"InvalidAccessError","The object does not support the operation or argument. "+Di)||this}return ze(Mi,vi),Mi}(Xe);r.InvalidAccessError=ii;var ei=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"ValidationError",Di)||this}return ze(Mi,vi),Mi}(Xe);r.ValidationError=ei;var St=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"TypeMismatchError",Di)||this}return ze(Mi,vi),Mi}(Xe);r.TypeMismatchError=St;var oi=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"SecurityError","The operation is insecure. "+Di)||this}return ze(Mi,vi),Mi}(Xe);r.SecurityError=oi;var si=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"NetworkError","A network error occurred. "+Di)||this}return ze(Mi,vi),Mi}(Xe);r.NetworkError=si;var ai=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"AbortError","The operation was aborted. "+Di)||this}return ze(Mi,vi),Mi}(Xe);r.AbortError=ai;var ui=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"URLMismatchError","The given URL does not match another URL. "+Di)||this}return ze(Mi,vi),Mi}(Xe);r.URLMismatchError=ui;var hi=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"QuotaExceededError","The quota has been exceeded. "+Di)||this}return ze(Mi,vi),Mi}(Xe);r.QuotaExceededError=hi;var ci=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"TimeoutError","The operation timed out. "+Di)||this}return ze(Mi,vi),Mi}(Xe);r.TimeoutError=ci;var mi=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"InvalidNodeTypeError","The supplied node is incorrect or has an incorrect ancestor for this operation. "+Di)||this}return ze(Mi,vi),Mi}(Xe);r.InvalidNodeTypeError=mi;var di=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"DataCloneError","The object can not be cloned. "+Di)||this}return ze(Mi,vi),Mi}(Xe);r.DataCloneError=di;var pi=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"NotImplementedError","The DOM method is not implemented by this module. "+Di)||this}return ze(Mi,vi),Mi}(Xe);r.NotImplementedError=pi;var yi=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"HierarchyRequestError","The operation would yield an incorrect node tree. "+Di)||this}return ze(Mi,vi),Mi}(Xe);r.HierarchyRequestError=yi;var gi=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"NotFoundError","The object can not be found here. "+Di)||this}return ze(Mi,vi),Mi}(Xe);r.NotFoundError=gi;var _i=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"IndexSizeError","The index is not in the allowed range. "+Di)||this}return ze(Mi,vi),Mi}(Xe);r.IndexSizeError=_i;var Ai=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"SyntaxError","The string did not match the expected pattern. "+Di)||this}return ze(Mi,vi),Mi}(Xe);r.SyntaxError=Ai;var ki=function(vi){function Mi(Di){return Di===void 0&&(Di=""),vi.call(this,"InvalidCharacterError","The string contains invalid characters. "+Di)||this}return ze(Mi,vi),Mi}(Xe);r.InvalidCharacterError=ki},function(t,r,Ve){var je=Ve(53),ze=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],Xe=["scalar","sequence","mapping"];t.exports=function(We,qe){var Ke,Ze;if(qe=qe||{},Object.keys(qe).forEach(function(Je){if(ze.indexOf(Je)===-1)throw new je('Unknown option "'+Je+'" is met in definition of "'+We+'" YAML type.')}),this.tag=We,this.kind=qe.kind||null,this.resolve=qe.resolve||function(){return!0},this.construct=qe.construct||function(Je){return Je},this.instanceOf=qe.instanceOf||null,this.predicate=qe.predicate||null,this.represent=qe.represent||null,this.defaultStyle=qe.defaultStyle||null,this.styleAliases=(Ke=qe.styleAliases||null,Ze={},Ke!==null&&Object.keys(Ke).forEach(function(Je){Ke[Je].forEach(function(Qe){Ze[String(Qe)]=Je})}),Ze),Xe.indexOf(this.kind)===-1)throw new je('Unknown kind "'+this.kind+'" is specified for "'+We+'" YAML type.')}},function(t,r,Ve){(function(je){var ze=function(Xe){return Xe&&Xe.Math==Math&&Xe};t.exports=ze(typeof globalThis=="object"&&globalThis)||ze(typeof window=="object"&&window)||ze(typeof self=="object"&&self)||ze(typeof je=="object"&&je)||Function("return this")()}).call(this,Ve(78))},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0}),r.idl_defineConst=function(je,ze,Xe){Object.defineProperty(je,ze,{writable:!1,enumerable:!0,configurable:!1,value:Xe})}},function(t,r){t.exports=function(Ve){return typeof Ve=="object"?Ve!==null:typeof Ve=="function"}},function(t,r){var Ve={}.hasOwnProperty;t.exports=function(je,ze){return Ve.call(je,ze)}},function(t,r,Ve){var je=Ve(16),ze=Ve(115),Xe=Ve(18),We=Ve(56),qe=Object.defineProperty;r.f=je?qe:function(Ke,Ze,Je){if(Xe(Ke),Ze=We(Ze,!0),Xe(Je),ze)try{return qe(Ke,Ze,Je)}catch{}if("get"in Je||"set"in Je)throw TypeError("Accessors not supported");return"value"in Je&&(Ke[Ze]=Je.value),Ke}},function(t,r,Ve){var je=Ve(8);t.exports=!je(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(t,r,Ve){var je=this&&this.__values||function(St){var oi=typeof Symbol=="function"&&Symbol.iterator,si=oi&&St[oi],ai=0;if(si)return si.call(St);if(St&&typeof St.length=="number")return{next:function(){return St&&ai>=St.length&&(St=void 0),{value:St&&St[ai++],done:!St}}};throw new TypeError(oi?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var ze=Ve(3),Xe=Ve(1);function We(St,oi,si){if(si===void 0&&(si=!1),si&&ze.Guard.isElementNode(oi)&&ze.Guard.isShadowRoot(oi.shadowRoot)&&oi.shadowRoot._firstChild)return oi.shadowRoot._firstChild;if(oi._firstChild)return oi._firstChild;if(oi===St)return null;if(oi._nextSibling)return oi._nextSibling;for(var ai=oi._parent;ai&&ai!==St;){if(ai._nextSibling)return ai._nextSibling;ai=ai._parent}return null}function qe(){var St;return(St={})[Symbol.iterator]=function(){return{next:function(){return{done:!0,value:null}}}},St}function Ke(St,oi,si,ai){oi===void 0&&(oi=!1),si===void 0&&(si=!1);for(var ui=oi?St:We(St,St,si);ui&&ai&&!ai(ui);)ui=We(St,ui,si);return ui}function Ze(St,oi,si,ai,ui){ai===void 0&&(ai=!1);for(var hi=We(St,oi,ai);hi&&ui&&!ui(hi);)hi=We(St,hi,ai);return hi}function Je(St,oi,si,ai){var ui;return oi===void 0&&(oi=!1),si===void 0&&(si=!1),oi||St._children.size!==0?((ui={})[Symbol.iterator]=function(){var hi=oi?St:We(St,St,si);return{next:function(){for(;hi&&ai&&!ai(hi);)hi=We(St,hi,si);if(hi===null)return{done:!0,value:null};var ci={done:!1,value:hi};return hi=We(St,hi,si),ci}}},ui):qe()}function Qe(St,oi,si){oi===void 0&&(oi=!1);for(var ai=oi?St:St._parent;ai&&si&&!si(ai);)ai=ai._parent;return ai}function ti(St,oi,si,ai){for(var ui=oi._parent;ui&&ai&&!ai(ui);)ui=ui._parent;return ui}function ni(St){return ze.Guard.isDocumentTypeNode(St)?0:ze.Guard.isCharacterDataNode(St)?St._data.length:St._children.size}function ri(St,oi){if(oi===void 0&&(oi=!1),oi){var si=ri(St,!1);return ze.Guard.isShadowRoot(si)?ri(si._host,!0):si}return St._parent?ri(St._parent):St}function ii(St,oi,si,ai){si===void 0&&(si=!1),ai===void 0&&(ai=!1);for(var ui=si?St:ai&&ze.Guard.isShadowRoot(St)?St._host:St._parent;ui!==null;){if(ui===oi)return!0;ui=ai&&ze.Guard.isShadowRoot(ui)?ui._host:ui._parent}return!1}function ei(St){for(var oi=ri(St),si=0,ai=Ke(oi);ai!==null;){if(si++,ai===St)return si;ai=Ze(oi,ai)}return-1}r.tree_getFirstDescendantNode=Ke,r.tree_getNextDescendantNode=Ze,r.tree_getDescendantNodes=Je,r.tree_getDescendantElements=function(St,oi,si,ai){var ui;return oi===void 0&&(oi=!1),si===void 0&&(si=!1),oi||St._children.size!==0?((ui={})[Symbol.iterator]=function(){var hi=Je(St,oi,si,function(mi){return ze.Guard.isElementNode(mi)})[Symbol.iterator](),ci=hi.next().value;return{next:function(){for(;ci&&ai&&!ai(ci);)ci=hi.next().value;if(ci===null)return{done:!0,value:null};var mi={done:!1,value:ci};return ci=hi.next().value,mi}}},ui):qe()},r.tree_getSiblingNodes=function(St,oi,si){var ai;return oi===void 0&&(oi=!1),St._parent&&St._parent._children.size!==0?((ai={})[Symbol.iterator]=function(){var ui=St._parent?St._parent._firstChild:null;return{next:function(){for(;ui&&(si&&!si(ui)||!oi&&ui===St);)ui=ui._nextSibling;if(ui===null)return{done:!0,value:null};var hi={done:!1,value:ui};return ui=ui._nextSibling,hi}}},ai):qe()},r.tree_getFirstAncestorNode=Qe,r.tree_getNextAncestorNode=ti,r.tree_getAncestorNodes=function(St,oi,si){var ai;return oi===void 0&&(oi=!1),oi||St._parent?((ai={})[Symbol.iterator]=function(){var ui=Qe(St,oi,si);return{next:function(){if(ui===null)return{done:!0,value:null};var hi={done:!1,value:ui};return ui=ti(0,ui,oi,si),hi}}},ai):qe()},r.tree_getCommonAncestor=function(St,oi){if(St===oi)return St._parent;for(var si=[],ai=[],ui=Qe(St,!0);ui!==null;)si.push(ui),ui=ti(0,ui);for(var hi=Qe(oi,!0);hi!==null;)ai.push(hi),hi=ti(0,hi);for(var ci=si.length,mi=ai.length,di=null,pi=Math.min(ci,mi);pi>0;pi--){var yi=si[--ci];if(yi!==ai[--mi])break;di=yi}return di},r.tree_getFollowingNode=function(St,oi){if(oi._firstChild)return oi._firstChild;if(oi._nextSibling)return oi._nextSibling;for(;;){var si=oi._parent;if(si===null||si===St)return null;if(si._nextSibling)return si._nextSibling;oi=si}},r.tree_getPrecedingNode=function(St,oi){return oi===St?null:oi._previousSibling?(oi=oi._previousSibling)._lastChild?oi._lastChild:oi:oi._parent},r.tree_isConstrained=function St(oi){var si,ai,ui,hi,ci,mi;switch(oi._nodeType){case Xe.NodeType.Document:var di=!1,pi=!1;try{for(var yi=je(oi._children),gi=yi.next();!gi.done;gi=yi.next())switch(gi.value._nodeType){case Xe.NodeType.ProcessingInstruction:case Xe.NodeType.Comment:break;case Xe.NodeType.DocumentType:if(di||pi)return!1;di=!0;break;case Xe.NodeType.Element:if(pi)return!1;pi=!0;break;default:return!1}}catch(Mi){si={error:Mi}}finally{try{gi&&!gi.done&&(ai=yi.return)&&ai.call(yi)}finally{if(si)throw si.error}}break;case Xe.NodeType.DocumentFragment:case Xe.NodeType.Element:try{for(var _i=je(oi._children),Ai=_i.next();!Ai.done;Ai=_i.next())switch(Ai.value._nodeType){case Xe.NodeType.Element:case Xe.NodeType.Text:case Xe.NodeType.ProcessingInstruction:case Xe.NodeType.CData:case Xe.NodeType.Comment:break;default:return!1}}catch(Mi){ui={error:Mi}}finally{try{Ai&&!Ai.done&&(hi=_i.return)&&hi.call(_i)}finally{if(ui)throw ui.error}}break;case Xe.NodeType.DocumentType:case Xe.NodeType.Text:case Xe.NodeType.ProcessingInstruction:case Xe.NodeType.CData:case Xe.NodeType.Comment:return!oi.hasChildNodes()}try{for(var ki=je(oi._children),vi=ki.next();!vi.done;vi=ki.next())if(!St(vi.value))return!1}catch(Mi){ci={error:Mi}}finally{try{vi&&!vi.done&&(mi=ki.return)&&mi.call(ki)}finally{if(ci)throw ci.error}}return!0},r.tree_nodeLength=ni,r.tree_isEmpty=function(St){return ni(St)===0},r.tree_rootNode=ri,r.tree_isDescendantOf=function(St,oi,si,ai){si===void 0&&(si=!1),ai===void 0&&(ai=!1);for(var ui=Ke(St,si,ai);ui!==null;){if(ui===oi)return!0;ui=Ze(St,ui,si,ai)}return!1},r.tree_isAncestorOf=ii,r.tree_isHostIncludingAncestorOf=function St(oi,si,ai){if(ai===void 0&&(ai=!1),ii(oi,si,ai))return!0;var ui=ri(oi);return!(!ze.Guard.isDocumentFragmentNode(ui)||ui._host===null||!St(ui._host,si,ai))},r.tree_isSiblingOf=function(St,oi,si){return si===void 0&&(si=!1),St!==oi?St._parent!==null&&St._parent===oi._parent:!!si},r.tree_isPreceding=function(St,oi){var si=ei(St),ai=ei(oi);return si!==-1&&ai!==-1&&ri(St)===ri(oi)&&ai<si},r.tree_isFollowing=function(St,oi){var si=ei(St),ai=ei(oi);return si!==-1&&ai!==-1&&ri(St)===ri(oi)&&ai>si},r.tree_isParentOf=function(St,oi){return St._parent===oi},r.tree_isChildOf=function(St,oi){return oi._parent===St},r.tree_previousSibling=function(St){return St._previousSibling},r.tree_nextSibling=function(St){return St._nextSibling},r.tree_firstChild=function(St){return St._firstChild},r.tree_lastChild=function(St){return St._lastChild},r.tree_treePosition=ei,r.tree_index=function(St){for(var oi=0;St._previousSibling!==null;)oi++,St=St._previousSibling;return oi},r.tree_retarget=function(St,oi){for(;;){if(!St||!ze.Guard.isNode(St))return St;var si=ri(St);if(!ze.Guard.isShadowRoot(si)||oi&&ze.Guard.isNode(oi)&&ii(si,oi,!0,!0))return St;St=si.host}}},function(t,r,Ve){var je=Ve(13);t.exports=function(ze){if(!je(ze))throw TypeError(String(ze)+" is not an object");return ze}},function(t,r,Ve){var je=Ve(24),ze=Ve(130),Xe=Ve(49),We=Ve(43),qe=Ve(88),Ke=We.set,Ze=We.getterFor("Array Iterator");t.exports=qe(Array,"Array",function(Je,Qe){Ke(this,{type:"Array Iterator",target:je(Je),index:0,kind:Qe})},function(){var Je=Ze(this),Qe=Je.target,ti=Je.kind,ni=Je.index++;return!Qe||ni>=Qe.length?(Je.target=void 0,{value:void 0,done:!0}):ti=="keys"?{value:ni,done:!1}:ti=="values"?{value:Qe[ni],done:!1}:{value:[ni,Qe[ni]],done:!1}},"values"),Xe.Arguments=Xe.Array,ze("keys"),ze("values"),ze("entries")},function(t,r,Ve){var je=Ve(90),ze=Ve(25),Xe=Ve(202);je||ze(Object.prototype,"toString",Xe,{unsafe:!0})},function(t,r,Ve){var je=Ve(16),ze=Ve(15),Xe=Ve(40);t.exports=je?function(We,qe,Ke){return ze.f(We,qe,Xe(1,Ke))}:function(We,qe,Ke){return We[qe]=Ke,We}},function(t,r,Ve){var je=Ve(137).charAt,ze=Ve(43),Xe=Ve(88),We=ze.set,qe=ze.getterFor("String Iterator");Xe(String,"String",function(Ke){We(this,{type:"String Iterator",string:String(Ke),index:0})},function(){var Ke,Ze=qe(this),Je=Ze.string,Qe=Ze.index;return Qe>=Je.length?{value:void 0,done:!0}:(Ke=je(Je,Qe),Ze.index+=Ke.length,{value:Ke,done:!1})})},function(t,r,Ve){var je=Ve(11),ze=Ve(203),Xe=Ve(19),We=Ve(21),qe=Ve(5),Ke=qe("iterator"),Ze=qe("toStringTag"),Je=Xe.values;for(var Qe in ze){var ti=je[Qe],ni=ti&&ti.prototype;if(ni){if(ni[Ke]!==Je)try{We(ni,Ke,Je)}catch{ni[Ke]=Je}if(ni[Ze]||We(ni,Ze,Qe),ze[Qe]){for(var ri in Xe)if(ni[ri]!==Xe[ri])try{We(ni,ri,Xe[ri])}catch{ni[ri]=Xe[ri]}}}}},function(t,r,Ve){var je=Ve(41),ze=Ve(35);t.exports=function(Xe){return je(ze(Xe))}},function(t,r,Ve){var je=Ve(11),ze=Ve(21),Xe=Ve(14),We=Ve(80),qe=Ve(117),Ke=Ve(43),Ze=Ke.get,Je=Ke.enforce,Qe=String(String).split("String");(t.exports=function(ti,ni,ri,ii){var ei=!!ii&&!!ii.unsafe,St=!!ii&&!!ii.enumerable,oi=!!ii&&!!ii.noTargetGet;typeof ri=="function"&&(typeof ni!="string"||Xe(ri,"name")||ze(ri,"name",ni),Je(ri).source=Qe.join(typeof ni=="string"?ni:"")),ti!==je?(ei?!oi&&ti[ni]&&(St=!0):delete ti[ni],St?ti[ni]=ri:ze(ti,ni,ri)):St?ti[ni]=ri:We(ni,ri)})(Function.prototype,"toString",function(){return typeof this=="function"&&Ze(this).source||qe(this)})},function(t,r,Ve){var je=Ve(47),ze=Math.min;t.exports=function(Xe){return Xe>0?ze(je(Xe),9007199254740991):0}},function(t,r,Ve){var je=Ve(35);t.exports=function(ze){return Object(je(ze))}},function(t,r,Ve){var je=Ve(16),ze=Ve(8),Xe=Ve(14),We=Object.defineProperty,qe={},Ke=function(Ze){throw Ze};t.exports=function(Ze,Je){if(Xe(qe,Ze))return qe[Ze];Je||(Je={});var Qe=[][Ze],ti=!!Xe(Je,"ACCESSORS")&&Je.ACCESSORS,ni=Xe(Je,0)?Je[0]:Ke,ri=Xe(Je,1)?Je[1]:void 0;return qe[Ze]=!!Qe&&!ze(function(){if(ti&&!je)return!0;var ii={length:-1};ti?We(ii,1,{enumerable:!0,get:Ke}):ii[1]=1,Qe.call(ii,ni,ri)})}},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(148),ze=Ve(149),Xe=Ve(151),We=Ve(98),qe=Ve(153),Ke=Ve(154),Ze=Ve(155),Je=Ve(99),Qe=Ve(100),ti=Ve(156),ni=Ve(157),ri=Ve(101),ii=Ve(158),ei=Ve(159),St=Ve(160),oi=Ve(161),si=Ve(162),ai=Ve(163),ui=Ve(164),hi=Ve(165),ci=Ve(166),mi=Ve(167),di=Ve(168),pi=Ve(169),yi=Ve(170);r.create_domImplementation=function(gi){return je.DOMImplementationImpl._create(gi)},r.create_window=function(){return ze.WindowImpl._create()},r.create_xmlDocument=function(){return new Xe.XMLDocumentImpl},r.create_document=function(){return new We.DocumentImpl},r.create_abortController=function(){return new qe.AbortControllerImpl},r.create_abortSignal=function(){return Ke.AbortSignalImpl._create()},r.create_documentType=function(gi,_i,Ai,ki){return Ze.DocumentTypeImpl._create(gi,_i,Ai,ki)},r.create_element=function(gi,_i,Ai,ki){return Je.ElementImpl._create(gi,_i,Ai,ki)},r.create_htmlElement=function(gi,_i,Ai,ki){return Je.ElementImpl._create(gi,_i,Ai,ki)},r.create_htmlUnknownElement=function(gi,_i,Ai,ki){return Je.ElementImpl._create(gi,_i,Ai,ki)},r.create_documentFragment=function(gi){return Qe.DocumentFragmentImpl._create(gi)},r.create_shadowRoot=function(gi,_i){return ti.ShadowRootImpl._create(gi,_i)},r.create_attr=function(gi,_i){return ni.AttrImpl._create(gi,_i)},r.create_text=function(gi,_i){return ri.TextImpl._create(gi,_i)},r.create_cdataSection=function(gi,_i){return ii.CDATASectionImpl._create(gi,_i)},r.create_comment=function(gi,_i){return ei.CommentImpl._create(gi,_i)},r.create_processingInstruction=function(gi,_i,Ai){return St.ProcessingInstructionImpl._create(gi,_i,Ai)},r.create_htmlCollection=function(gi,_i){return _i===void 0&&(_i=function(){return!0}),oi.HTMLCollectionImpl._create(gi,_i)},r.create_nodeList=function(gi){return si.NodeListImpl._create(gi)},r.create_nodeListStatic=function(gi,_i){return ai.NodeListStaticImpl._create(gi,_i)},r.create_namedNodeMap=function(gi){return ui.NamedNodeMapImpl._create(gi)},r.create_range=function(gi,_i){return hi.RangeImpl._create(gi,_i)},r.create_nodeIterator=function(gi,_i,Ai){return ci.NodeIteratorImpl._create(gi,_i,Ai)},r.create_treeWalker=function(gi,_i){return mi.TreeWalkerImpl._create(gi,_i)},r.create_nodeFilter=function(){return di.NodeFilterImpl._create()},r.create_mutationRecord=function(gi,_i,Ai,ki,vi,Mi,Di,Bi,Pi){return pi.MutationRecordImpl._create(gi,_i,Ai,ki,vi,Mi,Di,Bi,Pi)},r.create_domTokenList=function(gi,_i){return yi.DOMTokenListImpl._create(gi,_i)}},function(t,r,Ve){var je=this&&this.__values||function(ni){var ri=typeof Symbol=="function"&&Symbol.iterator,ii=ri&&ni[ri],ei=0;if(ii)return ii.call(ni);if(ni&&typeof ni.length=="number")return{next:function(){return ni&&ei>=ni.length&&(ni=void 0),{value:ni&&ni[ei++],done:!ni}}};throw new TypeError(ri?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var ze=Ve(6),Xe=Ve(17),We=Ve(3),qe=Ve(72),Ke=new Map;function Ze(ni,ri){if(ri!==ni._root&&Xe.tree_isAncestorOf(ni._reference,ri,!0)){if(ni._pointerBeforeReference)for(;;){var ii=Xe.tree_getFollowingNode(ni._root,ri);if(ii!==null&&Xe.tree_isDescendantOf(ni._root,ii,!0)&&!Xe.tree_isDescendantOf(ri,ii,!0))return void(ni._reference=ii);if(ii===null)return void(ni._pointerBeforeReference=!1)}if(ri._previousSibling===null)ri._parent!==null&&(ni._reference=ri._parent);else{for(var ei=ri._previousSibling,St=Xe.tree_getFirstDescendantNode(ri._previousSibling,!0,!1);St!==null;)St!==null&&(ei=St),St=Xe.tree_getNextDescendantNode(ri._previousSibling,St,!0,!1);ni._reference=ei}}}function Je(ni,ri,ii,ei,St){if(We.Guard.isSlot(ni)&&ri==="name"&&St===null){if(ei===ii||ei===null&&ii===""||ei===""&&ii===null)return;ni._name=ei===null||ei===""?"":ei,qe.shadowTree_assignSlotablesForATree(Xe.tree_rootNode(ni))}}function Qe(ni,ri,ii,ei,St){if(We.Guard.isSlotable(ni)&&ri==="slot"&&St===null){if(ei===ii||ei===null&&ii===""||ei===""&&ii===null)return;ni._name=ei===null||ei===""?"":ei,qe.shadowTree_isAssigned(ni)&&qe.shadowTree_assignSlotables(ni._assignedSlot),qe.shadowTree_assignASlot(ni)}}function ti(ni,ri,ii,ei){ri==="id"&&ei===null&&(ni._uniqueIdentifier=ii||void 0)}r.dom_runRemovingSteps=function(ni,ri){},r.dom_runCloningSteps=function(ni,ri,ii,ei){},r.dom_runAdoptingSteps=function(ni,ri){},r.dom_runAttributeChangeSteps=function(ni,ri,ii,ei,St){var oi,si;ze.dom.features.slots&&(Qe.call(ni,ni,ri,ii,ei,St),Je.call(ni,ni,ri,ii,ei,St)),ti.call(ni,ni,ri,ei,St);try{for(var ai=je(ni._attributeChangeSteps),ui=ai.next();!ui.done;ui=ai.next())ui.value.call(ni,ni,ri,ii,ei,St)}catch(hi){oi={error:hi}}finally{try{ui&&!ui.done&&(si=ai.return)&&si.call(ai)}finally{if(oi)throw oi.error}}},r.dom_runInsertionSteps=function(ni){},r.dom_runNodeIteratorPreRemovingSteps=function(ni,ri){Ze.call(ni,ni,ri)},r.dom_hasSupportedTokens=function(ni){return Ke.has(ni)},r.dom_getSupportedTokens=function(ni){return Ke.get(ni)||new Set},r.dom_runEventConstructingSteps=function(ni){},r.dom_runChildTextContentChangeSteps=function(ni){}},function(t,r,Ve){var je=Ve(4),ze=Ve(11),Xe=Ve(46),We=Ve(44),qe=Ve(16),Ke=Ve(86),Ze=Ve(124),Je=Ve(8),Qe=Ve(14),ti=Ve(59),ni=Ve(13),ri=Ve(18),ii=Ve(27),ei=Ve(24),St=Ve(56),oi=Ve(40),si=Ve(60),ai=Ve(61),ui=Ve(82),hi=Ve(190),ci=Ve(85),mi=Ve(55),di=Ve(15),pi=Ve(79),yi=Ve(21),gi=Ve(25),_i=Ve(81),Ai=Ve(57),ki=Ve(45),vi=Ve(58),Mi=Ve(5),Di=Ve(125),Bi=Ve(126),Pi=Ve(62),Fi=Ve(43),Vi=Ve(36).forEach,Ti=Ai("hidden"),ji=Mi("toPrimitive"),Gi=Fi.set,Yi=Fi.getterFor("Symbol"),Xi=Object.prototype,xi=ze.Symbol,fi=Xe("JSON","stringify"),$i=mi.f,bi=di.f,Ci=hi.f,Ei=pi.f,Si=_i("symbols"),zi=_i("op-symbols"),Ki=_i("string-to-symbol-registry"),Ui=_i("symbol-to-string-registry"),Ji=_i("wks"),gn=ze.QObject,hn=!gn||!gn.prototype||!gn.prototype.findChild,un=qe&&Je(function(){return si(bi({},"a",{get:function(){return bi(this,"a",{value:7}).a}})).a!=7})?function(an,yn,bn){var Sn=$i(Xi,yn);Sn&&delete Xi[yn],bi(an,yn,bn),Sn&&an!==Xi&&bi(Xi,yn,Sn)}:bi,Mn=function(an,yn){var bn=Si[an]=si(xi.prototype);return Gi(bn,{type:"Symbol",tag:an,description:yn}),qe||(bn.description=yn),bn},sn=Ze?function(an){return typeof an=="symbol"}:function(an){return Object(an)instanceof xi},vn=function(an,yn,bn){an===Xi&&vn(zi,yn,bn),ri(an);var Sn=St(yn,!0);return ri(bn),Qe(Si,Sn)?(bn.enumerable?(Qe(an,Ti)&&an[Ti][Sn]&&(an[Ti][Sn]=!1),bn=si(bn,{enumerable:oi(0,!1)})):(Qe(an,Ti)||bi(an,Ti,oi(1,{})),an[Ti][Sn]=!0),un(an,Sn,bn)):bi(an,Sn,bn)},Ni=function(an,yn){ri(an);var bn=ei(yn),Sn=ai(bn).concat(qi(bn));return Vi(Sn,function(Fn){qe&&!Cn.call(bn,Fn)||vn(an,Fn,bn[Fn])}),an},Cn=function(an){var yn=St(an,!0),bn=Ei.call(this,yn);return!(this===Xi&&Qe(Si,yn)&&!Qe(zi,yn))&&(!(bn||!Qe(this,yn)||!Qe(Si,yn)||Qe(this,Ti)&&this[Ti][yn])||bn)},cn=function(an,yn){var bn=ei(an),Sn=St(yn,!0);if(bn!==Xi||!Qe(Si,Sn)||Qe(zi,Sn)){var Fn=$i(bn,Sn);return!Fn||!Qe(Si,Sn)||Qe(bn,Ti)&&bn[Ti][Sn]||(Fn.enumerable=!0),Fn}},fn=function(an){var yn=Ci(ei(an)),bn=[];return Vi(yn,function(Sn){Qe(Si,Sn)||Qe(ki,Sn)||bn.push(Sn)}),bn},qi=function(an){var yn=an===Xi,bn=Ci(yn?zi:ei(an)),Sn=[];return Vi(bn,function(Fn){!Qe(Si,Fn)||yn&&!Qe(Xi,Fn)||Sn.push(Si[Fn])}),Sn};Ke||(gi((xi=function(){if(this instanceof xi)throw TypeError("Symbol is not a constructor");var an=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,yn=vi(an),bn=function(Sn){this===Xi&&bn.call(zi,Sn),Qe(this,Ti)&&Qe(this[Ti],yn)&&(this[Ti][yn]=!1),un(this,yn,oi(1,Sn))};return qe&&hn&&un(Xi,yn,{configurable:!0,set:bn}),Mn(yn,an)}).prototype,"toString",function(){return Yi(this).tag}),gi(xi,"withoutSetter",function(an){return Mn(vi(an),an)}),pi.f=Cn,di.f=vn,mi.f=cn,ui.f=hi.f=fn,ci.f=qi,Di.f=function(an){return Mn(Mi(an),an)},qe&&(bi(xi.prototype,"description",{configurable:!0,get:function(){return Yi(this).description}}),We||gi(Xi,"propertyIsEnumerable",Cn,{unsafe:!0}))),je({global:!0,wrap:!0,forced:!Ke,sham:!Ke},{Symbol:xi}),Vi(ai(Ji),function(an){Bi(an)}),je({target:"Symbol",stat:!0,forced:!Ke},{for:function(an){var yn=String(an);if(Qe(Ki,yn))return Ki[yn];var bn=xi(yn);return Ki[yn]=bn,Ui[bn]=yn,bn},keyFor:function(an){if(!sn(an))throw TypeError(an+" is not a symbol");if(Qe(Ui,an))return Ui[an]},useSetter:function(){hn=!0},useSimple:function(){hn=!1}}),je({target:"Object",stat:!0,forced:!Ke,sham:!qe},{create:function(an,yn){return yn===void 0?si(an):Ni(si(an),yn)},defineProperty:vn,defineProperties:Ni,getOwnPropertyDescriptor:cn}),je({target:"Object",stat:!0,forced:!Ke},{getOwnPropertyNames:fn,getOwnPropertySymbols:qi}),je({target:"Object",stat:!0,forced:Je(function(){ci.f(1)})},{getOwnPropertySymbols:function(an){return ci.f(ii(an))}}),fi&&je({target:"JSON",stat:!0,forced:!Ke||Je(function(){var an=xi();return fi([an])!="[null]"||fi({a:an})!="{}"||fi(Object(an))!="{}"})},{stringify:function(an,yn,bn){for(var Sn,Fn=[an],kn=1;arguments.length>kn;)Fn.push(arguments[kn++]);if(Sn=yn,(ni(yn)||an!==void 0)&&!sn(an))return ti(yn)||(yn=function(Nn,Hn){if(typeof Sn=="function"&&(Hn=Sn.call(this,Nn,Hn)),!sn(Hn))return Hn}),Fn[1]=yn,fi.apply(null,Fn)}}),xi.prototype[ji]||yi(xi.prototype,ji,xi.prototype.valueOf),Pi(xi,"Symbol"),ki[Ti]=!0},function(t,r,Ve){var je=Ve(4),ze=Ve(16),Xe=Ve(11),We=Ve(14),qe=Ve(13),Ke=Ve(15).f,Ze=Ve(119),Je=Xe.Symbol;if(ze&&typeof Je=="function"&&(!("description"in Je.prototype)||Je().description!==void 0)){var Qe={},ti=function(){var St=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),oi=this instanceof ti?new Je(St):St===void 0?Je():Je(St);return St===""&&(Qe[oi]=!0),oi};Ze(ti,Je);var ni=ti.prototype=Je.prototype;ni.constructor=ti;var ri=ni.toString,ii=String(Je("test"))=="Symbol(test)",ei=/^Symbol\((.*)\)[^)]+$/;Ke(ni,"description",{configurable:!0,get:function(){var St=qe(this)?this.valueOf():this,oi=ri.call(St);if(We(Qe,St))return"";var si=ii?oi.slice(7,-1):oi.replace(ei,"$1");return si===""?void 0:si}}),je({global:!0,forced:!0},{Symbol:ti})}},function(t,r,Ve){Ve(126)("iterator")},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(ii,ei){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(St,oi){St.__proto__=oi}||function(St,oi){for(var si in oi)oi.hasOwnProperty(si)&&(St[si]=oi[si])})(ii,ei)},function(ii,ei){function St(){this.constructor=ii}je(ii,ei),ii.prototype=ei===null?Object.create(ei):(St.prototype=ei.prototype,new St)}),Xe=this&&this.__values||function(ii){var ei=typeof Symbol=="function"&&Symbol.iterator,St=ei&&ii[ei],oi=0;if(St)return St.call(ii);if(ii&&typeof ii.length=="number")return{next:function(){return ii&&oi>=ii.length&&(ii=void 0),{value:ii&&ii[oi++],done:!ii}}};throw new TypeError(ei?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var We=Ve(6),qe=Ve(1),Ke=Ve(70),Ze=Ve(3),Je=Ve(9),Qe=Ve(0),ti=Ve(152),ni=Ve(12),ri=function(ii){function ei(){var St=ii.call(this)||this;return St._parent=null,St._firstChild=null,St._lastChild=null,St._previousSibling=null,St._nextSibling=null,St}return ze(ei,ii),Object.defineProperty(ei.prototype,"_childNodes",{get:function(){return this.__childNodes||(this.__childNodes=Qe.create_nodeList(this))},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"_nodeDocument",{get:function(){return this._nodeDocumentOverride||We.dom.window._associatedDocument},set:function(St){this._nodeDocumentOverride=St},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"_registeredObserverList",{get:function(){return this.__registeredObserverList||(this.__registeredObserverList=[])},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"nodeType",{get:function(){return this._nodeType},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"nodeName",{get:function(){return Ze.Guard.isElementNode(this)?this._htmlUppercasedQualifiedName:Ze.Guard.isAttrNode(this)?this._qualifiedName:Ze.Guard.isExclusiveTextNode(this)?"#text":Ze.Guard.isCDATASectionNode(this)?"#cdata-section":Ze.Guard.isProcessingInstructionNode(this)?this._target:Ze.Guard.isCommentNode(this)?"#comment":Ze.Guard.isDocumentNode(this)?"#document":Ze.Guard.isDocumentTypeNode(this)?this._name:Ze.Guard.isDocumentFragmentNode(this)?"#document-fragment":""},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"baseURI",{get:function(){return ti.urlSerializer(this._nodeDocument._URL)},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"isConnected",{get:function(){return Ze.Guard.isElementNode(this)&&Qe.shadowTree_isConnected(this)},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"ownerDocument",{get:function(){return this._nodeType===qe.NodeType.Document?null:this._nodeDocument},enumerable:!0,configurable:!0}),ei.prototype.getRootNode=function(St){return Qe.tree_rootNode(this,!!St&&St.composed)},Object.defineProperty(ei.prototype,"parentNode",{get:function(){return this._nodeType===qe.NodeType.Attribute?null:this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"parentElement",{get:function(){return this._parent&&Ze.Guard.isElementNode(this._parent)?this._parent:null},enumerable:!0,configurable:!0}),ei.prototype.hasChildNodes=function(){return this._firstChild!==null},Object.defineProperty(ei.prototype,"childNodes",{get:function(){return this._childNodes},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"firstChild",{get:function(){return this._firstChild},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"lastChild",{get:function(){return this._lastChild},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"previousSibling",{get:function(){return this._previousSibling},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"nextSibling",{get:function(){return this._nextSibling},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"nodeValue",{get:function(){return Ze.Guard.isAttrNode(this)?this._value:Ze.Guard.isCharacterDataNode(this)?this._data:null},set:function(St){St===null&&(St=""),Ze.Guard.isAttrNode(this)?Qe.attr_setAnExistingAttributeValue(this,St):Ze.Guard.isCharacterDataNode(this)&&Qe.characterData_replaceData(this,0,this._data.length,St)},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"textContent",{get:function(){return Ze.Guard.isDocumentFragmentNode(this)||Ze.Guard.isElementNode(this)?Qe.text_descendantTextContent(this):Ze.Guard.isAttrNode(this)?this._value:Ze.Guard.isCharacterDataNode(this)?this._data:null},set:function(St){St===null&&(St=""),Ze.Guard.isDocumentFragmentNode(this)||Ze.Guard.isElementNode(this)?Qe.node_stringReplaceAll(St,this):Ze.Guard.isAttrNode(this)?Qe.attr_setAnExistingAttributeValue(this,St):Ze.Guard.isCharacterDataNode(this)&&Qe.characterData_replaceData(this,0,Qe.tree_nodeLength(this),St)},enumerable:!0,configurable:!0}),ei.prototype.normalize=function(){for(var St,oi,si,ai,ui=[],hi=Qe.tree_getFirstDescendantNode(this,!1,!1,function(Vi){return Ze.Guard.isExclusiveTextNode(Vi)});hi!==null;)ui.push(hi),hi=Qe.tree_getNextDescendantNode(this,hi,!1,!1,function(Vi){return Ze.Guard.isExclusiveTextNode(Vi)});for(var ci=0;ci<ui.length;ci++){var mi=ui[ci];if(mi._parent!==null){var di=Qe.tree_nodeLength(mi);if(di!==0){var pi=[],yi="";try{for(var gi=(St=void 0,Xe(Qe.text_contiguousExclusiveTextNodes(mi))),_i=gi.next();!_i.done;_i=gi.next()){var Ai=_i.value;pi.push(Ai),yi+=Ai._data}}catch(Vi){St={error:Vi}}finally{try{_i&&!_i.done&&(oi=gi.return)&&oi.call(gi)}finally{if(St)throw St.error}}if(Qe.characterData_replaceData(mi,di,0,yi),We.dom.rangeList.size!==0)for(var ki=mi._nextSibling;ki!==null&&Ze.Guard.isExclusiveTextNode(ki);){var vi=ki,Mi=Qe.tree_index(vi);try{for(var Di=(si=void 0,Xe(We.dom.rangeList)),Bi=Di.next();!Bi.done;Bi=Di.next()){var Pi=Bi.value;Pi._start[0]===vi&&(Pi._start[0]=mi,Pi._start[1]+=di),Pi._end[0]===vi&&(Pi._end[0]=mi,Pi._end[1]+=di),Pi._start[0]===vi._parent&&Pi._start[1]===Mi&&(Pi._start[0]=mi,Pi._start[1]=di),Pi._end[0]===vi._parent&&Pi._end[1]===Mi&&(Pi._end[0]=mi,Pi._end[1]=di)}}catch(Vi){si={error:Vi}}finally{try{Bi&&!Bi.done&&(ai=Di.return)&&ai.call(Di)}finally{if(si)throw si.error}}di+=Qe.tree_nodeLength(ki),ki=ki._nextSibling}for(var Fi=0;Fi<pi.length;Fi++)(Ai=pi[Fi])._parent!==null&&Qe.mutation_remove(Ai,Ai._parent)}else Qe.mutation_remove(mi,mi._parent)}}},ei.prototype.cloneNode=function(St){if(St===void 0&&(St=!1),Ze.Guard.isShadowRoot(this))throw new Je.NotSupportedError;return Qe.node_clone(this,null,St)},ei.prototype.isEqualNode=function(St){return St===void 0&&(St=null),St!==null&&Qe.node_equals(this,St)},ei.prototype.isSameNode=function(St){return St===void 0&&(St=null),this===St},ei.prototype.compareDocumentPosition=function(St){if(St===this)return 0;var oi=St,si=this,ai=null,ui=null;if(Ze.Guard.isAttrNode(oi)&&(oi=(ai=oi)._element),Ze.Guard.isAttrNode(si)&&(si=(ui=si)._element,ai&&oi&&oi===si))for(var hi=0;hi<si._attributeList.length;hi++){var ci=si._attributeList[hi];if(Qe.node_equals(ci,ai))return qe.Position.ImplementationSpecific|qe.Position.Preceding;if(Qe.node_equals(ci,ui))return qe.Position.ImplementationSpecific|qe.Position.Following}return oi===null||si===null||Qe.tree_rootNode(oi)!==Qe.tree_rootNode(si)?qe.Position.Disconnected|qe.Position.ImplementationSpecific|(We.dom.compareCache.check(this,St)?qe.Position.Preceding:qe.Position.Following):!ai&&Qe.tree_isAncestorOf(si,oi)||ui&&oi===si?qe.Position.Contains|qe.Position.Preceding:!ui&&Qe.tree_isDescendantOf(si,oi)||ai&&oi===si?qe.Position.ContainedBy|qe.Position.Following:Qe.tree_isPreceding(si,oi)?qe.Position.Preceding:qe.Position.Following},ei.prototype.contains=function(St){return St!==null&&Qe.tree_isDescendantOf(this,St,!0)},ei.prototype.lookupPrefix=function(St){return St?Ze.Guard.isElementNode(this)?Qe.node_locateANamespacePrefix(this,St):Ze.Guard.isDocumentNode(this)?this.documentElement===null?null:Qe.node_locateANamespacePrefix(this.documentElement,St):Ze.Guard.isDocumentTypeNode(this)||Ze.Guard.isDocumentFragmentNode(this)?null:Ze.Guard.isAttrNode(this)?this._element===null?null:Qe.node_locateANamespacePrefix(this._element,St):this._parent!==null&&Ze.Guard.isElementNode(this._parent)?Qe.node_locateANamespacePrefix(this._parent,St):null:null},ei.prototype.lookupNamespaceURI=function(St){return Qe.node_locateANamespace(this,St||null)},ei.prototype.isDefaultNamespace=function(St){return St||(St=null),Qe.node_locateANamespace(this,null)===St},ei.prototype.insertBefore=function(St,oi){return Qe.mutation_preInsert(St,this,oi)},ei.prototype.appendChild=function(St){return Qe.mutation_append(St,this)},ei.prototype.replaceChild=function(St,oi){return Qe.mutation_replace(oi,St,this)},ei.prototype.removeChild=function(St){return Qe.mutation_preRemove(St,this)},ei.prototype._getTheParent=function(St){return Ze.Guard.isSlotable(this)&&Qe.shadowTree_isAssigned(this)?this._assignedSlot:this._parent},ei.ELEMENT_NODE=1,ei.ATTRIBUTE_NODE=2,ei.TEXT_NODE=3,ei.CDATA_SECTION_NODE=4,ei.ENTITY_REFERENCE_NODE=5,ei.ENTITY_NODE=6,ei.PROCESSING_INSTRUCTION_NODE=7,ei.COMMENT_NODE=8,ei.DOCUMENT_NODE=9,ei.DOCUMENT_TYPE_NODE=10,ei.DOCUMENT_FRAGMENT_NODE=11,ei.NOTATION_NODE=12,ei.DOCUMENT_POSITION_DISCONNECTED=1,ei.DOCUMENT_POSITION_PRECEDING=2,ei.DOCUMENT_POSITION_FOLLOWING=4,ei.DOCUMENT_POSITION_CONTAINS=8,ei.DOCUMENT_POSITION_CONTAINED_BY=16,ei.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32,ei}(Ke.EventTargetImpl);r.NodeImpl=ri,ri.prototype._children=new Ze.EmptySet,ni.idl_defineConst(ri.prototype,"ELEMENT_NODE",1),ni.idl_defineConst(ri.prototype,"ATTRIBUTE_NODE",2),ni.idl_defineConst(ri.prototype,"TEXT_NODE",3),ni.idl_defineConst(ri.prototype,"CDATA_SECTION_NODE",4),ni.idl_defineConst(ri.prototype,"ENTITY_REFERENCE_NODE",5),ni.idl_defineConst(ri.prototype,"ENTITY_NODE",6),ni.idl_defineConst(ri.prototype,"PROCESSING_INSTRUCTION_NODE",7),ni.idl_defineConst(ri.prototype,"COMMENT_NODE",8),ni.idl_defineConst(ri.prototype,"DOCUMENT_NODE",9),ni.idl_defineConst(ri.prototype,"DOCUMENT_TYPE_NODE",10),ni.idl_defineConst(ri.prototype,"DOCUMENT_FRAGMENT_NODE",11),ni.idl_defineConst(ri.prototype,"NOTATION_NODE",12),ni.idl_defineConst(ri.prototype,"DOCUMENT_POSITION_DISCONNECTED",1),ni.idl_defineConst(ri.prototype,"DOCUMENT_POSITION_PRECEDING",2),ni.idl_defineConst(ri.prototype,"DOCUMENT_POSITION_FOLLOWING",4),ni.idl_defineConst(ri.prototype,"DOCUMENT_POSITION_CONTAINS",8),ni.idl_defineConst(ri.prototype,"DOCUMENT_POSITION_CONTAINED_BY",16),ni.idl_defineConst(ri.prototype,"DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC",32)},function(t,r){t.exports=function(Ve){if(Ve==null)throw TypeError("Can't call method on "+Ve);return Ve}},function(t,r,Ve){var je=Ve(87),ze=Ve(41),Xe=Ve(27),We=Ve(26),qe=Ve(128),Ke=[].push,Ze=function(Je){var Qe=Je==1,ti=Je==2,ni=Je==3,ri=Je==4,ii=Je==6,ei=Je==5||ii;return function(St,oi,si,ai){for(var ui,hi,ci=Xe(St),mi=ze(ci),di=je(oi,si,3),pi=We(mi.length),yi=0,gi=ai||qe,_i=Qe?gi(St,pi):ti?gi(St,0):void 0;pi>yi;yi++)if((ei||yi in mi)&&(hi=di(ui=mi[yi],yi,ci),Je)){if(Qe)_i[yi]=hi;else if(hi)switch(Je){case 3:return!0;case 5:return ui;case 6:return yi;case 2:Ke.call(_i,ui)}else if(ri)return!1}return ii?-1:ni||ri?ri:_i}};t.exports={forEach:Ze(0),map:Ze(1),filter:Ze(2),some:Ze(3),every:Ze(4),find:Ze(5),findIndex:Ze(6)}},function(t,r,Ve){var je=this&&this.__values||function(ci){var mi=typeof Symbol=="function"&&Symbol.iterator,di=mi&&ci[mi],pi=0;if(di)return di.call(ci);if(ci&&typeof ci.length=="number")return{next:function(){return ci&&pi>=ci.length&&(ci=void 0),{value:ci&&ci[pi++],done:!ci}}};throw new TypeError(mi?"Object is not iterable.":"Symbol.iterator is not defined.")},ze=this&&this.__read||function(ci,mi){var di=typeof Symbol=="function"&&ci[Symbol.iterator];if(!di)return ci;var pi,yi,gi=di.call(ci),_i=[];try{for(;(mi===void 0||mi-- >0)&&!(pi=gi.next()).done;)_i.push(pi.value)}catch(Ai){yi={error:Ai}}finally{try{pi&&!pi.done&&(di=gi.return)&&di.call(gi)}finally{if(yi)throw yi.error}}return _i},Xe=this&&this.__spread||function(){for(var ci=[],mi=0;mi<arguments.length;mi++)ci=ci.concat(ze(arguments[mi]));return ci};Object.defineProperty(r,"__esModule",{value:!0});var We=Ve(6),qe=Ve(9),Ke=Ve(1),Ze=Ve(3),Je=Ve(2),Qe=Ve(7),ti=Ve(73),ni=Ve(17),ri=Ve(172),ii=Ve(72),ei=Ve(51),St=Ve(30),oi=Ve(106);function si(ci,mi,di){var pi,yi,gi,_i,Ai,ki,vi,Mi,Di=mi._nodeType,Bi=ci._nodeType,Pi=di?di._nodeType:null;if(Di!==Ke.NodeType.Document&&Di!==Ke.NodeType.DocumentFragment&&Di!==Ke.NodeType.Element)throw new qe.HierarchyRequestError("Only document, document fragment and element nodes can contain child nodes. Parent node is "+mi.nodeName+".");if(ni.tree_isHostIncludingAncestorOf(mi,ci,!0))throw new qe.HierarchyRequestError("The node to be inserted cannot be an inclusive ancestor of parent node. Node is "+ci.nodeName+", parent node is "+mi.nodeName+".");if(di!==null&&di._parent!==mi)throw new qe.NotFoundError("The reference child node cannot be found under parent node. Child node is "+di.nodeName+", parent node is "+mi.nodeName+".");if(Bi!==Ke.NodeType.DocumentFragment&&Bi!==Ke.NodeType.DocumentType&&Bi!==Ke.NodeType.Element&&Bi!==Ke.NodeType.Text&&Bi!==Ke.NodeType.ProcessingInstruction&&Bi!==Ke.NodeType.CData&&Bi!==Ke.NodeType.Comment)throw new qe.HierarchyRequestError("Only document fragment, document type, element, text, processing instruction, cdata section or comment nodes can be inserted. Node is "+ci.nodeName+".");if(Bi===Ke.NodeType.Text&&Di===Ke.NodeType.Document)throw new qe.HierarchyRequestError("Cannot insert a text node as a child of a document node. Node is "+ci.nodeName+".");if(Bi===Ke.NodeType.DocumentType&&Di!==Ke.NodeType.Document)throw new qe.HierarchyRequestError("A document type node can only be inserted under a document node. Parent node is "+mi.nodeName+".");if(Di===Ke.NodeType.Document){if(Bi===Ke.NodeType.DocumentFragment){var Fi=0;try{for(var Vi=je(ci._children),Ti=Vi.next();!Ti.done;Ti=Vi.next()){var ji=Ti.value;if(ji._nodeType===Ke.NodeType.Element)Fi++;else if(ji._nodeType===Ke.NodeType.Text)throw new qe.HierarchyRequestError("Cannot insert text a node as a child of a document node. Node is "+ji.nodeName+".")}}catch(Ei){pi={error:Ei}}finally{try{Ti&&!Ti.done&&(yi=Vi.return)&&yi.call(Vi)}finally{if(pi)throw pi.error}}if(Fi>1)throw new qe.HierarchyRequestError("A document node can only have one document element node. Document fragment to be inserted has "+Fi+" element nodes.");if(Fi===1){try{for(var Gi=je(mi._children),Yi=Gi.next();!Yi.done;Yi=Gi.next())if(Yi.value._nodeType===Ke.NodeType.Element)throw new qe.HierarchyRequestError("The document node already has a document element node.")}catch(Ei){gi={error:Ei}}finally{try{Yi&&!Yi.done&&(_i=Gi.return)&&_i.call(Gi)}finally{if(gi)throw gi.error}}if(di){if(Pi===Ke.NodeType.DocumentType)throw new qe.HierarchyRequestError("Cannot insert an element node before a document type node.");for(var Xi=di._nextSibling;Xi;){if(Xi._nodeType===Ke.NodeType.DocumentType)throw new qe.HierarchyRequestError("Cannot insert an element node before a document type node.");Xi=Xi._nextSibling}}}}else if(Bi===Ke.NodeType.Element){try{for(var xi=je(mi._children),fi=xi.next();!fi.done;fi=xi.next())if(fi.value._nodeType===Ke.NodeType.Element)throw new qe.HierarchyRequestError("Document already has a document element node. Node is "+ci.nodeName+".")}catch(Ei){Ai={error:Ei}}finally{try{fi&&!fi.done&&(ki=xi.return)&&ki.call(xi)}finally{if(Ai)throw Ai.error}}if(di){if(Pi===Ke.NodeType.DocumentType)throw new qe.HierarchyRequestError("Cannot insert an element node before a document type node. Node is "+ci.nodeName+".");for(Xi=di._nextSibling;Xi;){if(Xi._nodeType===Ke.NodeType.DocumentType)throw new qe.HierarchyRequestError("Cannot insert an element node before a document type node. Node is "+ci.nodeName+".");Xi=Xi._nextSibling}}}else if(Bi===Ke.NodeType.DocumentType){try{for(var $i=je(mi._children),bi=$i.next();!bi.done;bi=$i.next())if(bi.value._nodeType===Ke.NodeType.DocumentType)throw new qe.HierarchyRequestError("Document already has a document type node. Node is "+ci.nodeName+".")}catch(Ei){vi={error:Ei}}finally{try{bi&&!bi.done&&(Mi=$i.return)&&Mi.call($i)}finally{if(vi)throw vi.error}}if(di)for(var Ci=di._previousSibling;Ci;){if(Ci._nodeType===Ke.NodeType.Element)throw new qe.HierarchyRequestError("Cannot insert a document type node before an element node. Node is "+ci.nodeName+".");Ci=Ci._previousSibling}else for(Ci=mi._firstChild;Ci;){if(Ci._nodeType===Ke.NodeType.Element)throw new qe.HierarchyRequestError("Cannot insert a document type node before an element node. Node is "+ci.nodeName+".");Ci=Ci._nextSibling}}}}function ai(ci,mi,di){si(ci,mi,di);var pi=di;return pi===ci&&(pi=ci._nextSibling),oi.document_adopt(ci,mi._nodeDocument),ui(ci,mi,pi),ci}function ui(ci,mi,di,pi){var yi,gi;if(di!==null||ci._nodeType===Ke.NodeType.DocumentFragment){var _i=ci._nodeType===Ke.NodeType.DocumentFragment?ci._children.size:1;if(di!==null&&We.dom.rangeList.size!==0){var Ai=ni.tree_index(di);try{for(var ki=je(We.dom.rangeList),vi=ki.next();!vi.done;vi=ki.next()){var Mi=vi.value;Mi._start[0]===mi&&Mi._start[1]>Ai&&(Mi._start[1]+=_i),Mi._end[0]===mi&&Mi._end[1]>Ai&&(Mi._end[1]+=_i)}}catch(Yi){yi={error:Yi}}finally{try{vi&&!vi.done&&(gi=ki.return)&&gi.call(ki)}finally{if(yi)throw yi.error}}}var Di=ci._nodeType===Ke.NodeType.DocumentFragment?new(Array.bind.apply(Array,Xe([void 0],ci._children))):[ci];if(ci._nodeType===Ke.NodeType.DocumentFragment)for(;ci._firstChild;)hi(ci._firstChild,ci,!0);We.dom.features.mutationObservers&&ci._nodeType===Ke.NodeType.DocumentFragment&&ei.observer_queueTreeMutationRecord(ci,[],Di,null,null);for(var Bi=di?di._previousSibling:mi._lastChild,Pi=di===null?-1:ni.tree_index(di),Fi=0;Fi<Di.length;Fi++){var Vi=Di[Fi];if(Ze.Guard.isElementNode(Vi)&&(Ze.Guard.isDocumentNode(mi)&&(mi._documentElement=Vi),Vi._nodeDocument._hasNamespaces||Vi._namespace===null&&Vi._namespacePrefix===null||(Vi._nodeDocument._hasNamespaces=!0)),Vi._parent=mi,di===null?Qe.set.append(mi._children,Vi):(Qe.set.insert(mi._children,Vi,Pi),Pi++),mi._firstChild===null)Vi._previousSibling=null,Vi._nextSibling=null,mi._firstChild=Vi,mi._lastChild=Vi;else{var Ti=di?di._previousSibling:mi._lastChild,ji=di||null;Vi._previousSibling=Ti,Vi._nextSibling=ji,Ti&&(Ti._nextSibling=Vi),ji&&(ji._previousSibling=Vi),Ti||(mi._firstChild=Vi),ji||(mi._lastChild=Vi)}We.dom.features.slots&&mi._shadowRoot!==null&&Ze.Guard.isSlotable(Vi)&&ii.shadowTree_assignASlot(Vi),We.dom.features.steps&&Ze.Guard.isTextNode(Vi)&&St.dom_runChildTextContentChangeSteps(mi),We.dom.features.slots&&Ze.Guard.isShadowRoot(ni.tree_rootNode(mi))&&Ze.Guard.isSlot(mi)&&Je.isEmpty(mi._assignedNodes)&&ii.shadowTree_signalASlotChange(mi),We.dom.features.slots&&ii.shadowTree_assignSlotablesForATree(ni.tree_rootNode(Vi));for(var Gi=ni.tree_getFirstDescendantNode(Vi,!0,!0);Gi!==null;)We.dom.features.steps&&St.dom_runInsertionSteps(Gi),We.dom.features.customElements&&Ze.Guard.isElementNode(Gi)&&ii.shadowTree_isConnected(Gi)&&(Ze.Guard.isCustomElementNode(Gi)?ti.customElement_enqueueACustomElementCallbackReaction(Gi,"connectedCallback",[]):ti.customElement_tryToUpgrade(Gi)),Gi=ni.tree_getNextDescendantNode(Vi,Gi,!0,!0)}We.dom.features.mutationObservers&&(pi||ei.observer_queueTreeMutationRecord(mi,Di,[],Bi,di))}else(function(Yi,Xi,xi){var fi=Xi._lastChild;if(Ze.Guard.isElementNode(Yi)&&(Ze.Guard.isDocumentNode(Xi)&&(Xi._documentElement=Yi),Yi._nodeDocument._hasNamespaces||Yi._namespace===null&&Yi._namespacePrefix===null||(Yi._nodeDocument._hasNamespaces=!0)),Yi._parent=Xi,Xi._children.add(Yi),Xi._firstChild===null)Yi._previousSibling=null,Yi._nextSibling=null,Xi._firstChild=Yi,Xi._lastChild=Yi;else{var $i=Xi._lastChild;Yi._previousSibling=$i,Yi._nextSibling=null,$i&&($i._nextSibling=Yi),$i||(Xi._firstChild=Yi),Xi._lastChild=Yi}We.dom.features.slots&&Xi._shadowRoot!==null&&Ze.Guard.isSlotable(Yi)&&ii.shadowTree_assignASlot(Yi),We.dom.features.steps&&Ze.Guard.isTextNode(Yi)&&St.dom_runChildTextContentChangeSteps(Xi),We.dom.features.slots&&Ze.Guard.isShadowRoot(ni.tree_rootNode(Xi))&&Ze.Guard.isSlot(Xi)&&Je.isEmpty(Xi._assignedNodes)&&ii.shadowTree_signalASlotChange(Xi),We.dom.features.slots&&ii.shadowTree_assignSlotablesForATree(ni.tree_rootNode(Yi)),We.dom.features.steps&&St.dom_runInsertionSteps(Yi),We.dom.features.customElements&&Ze.Guard.isElementNode(Yi)&&ii.shadowTree_isConnected(Yi)&&(Ze.Guard.isCustomElementNode(Yi)?ti.customElement_enqueueACustomElementCallbackReaction(Yi,"connectedCallback",[]):ti.customElement_tryToUpgrade(Yi)),We.dom.features.mutationObservers&&(xi||ei.observer_queueTreeMutationRecord(Xi,[Yi],[],fi,null))})(ci,mi,pi)}function hi(ci,mi,di){var pi,yi,gi,_i,Ai,ki,vi,Mi;if(We.dom.rangeList.size!==0){var Di=ni.tree_index(ci);try{for(var Bi=je(We.dom.rangeList),Pi=Bi.next();!Pi.done;Pi=Bi.next()){var Fi=Pi.value;ni.tree_isDescendantOf(ci,Fi._start[0],!0)&&(Fi._start=[mi,Di]),ni.tree_isDescendantOf(ci,Fi._end[0],!0)&&(Fi._end=[mi,Di]),Fi._start[0]===mi&&Fi._start[1]>Di&&Fi._start[1]--,Fi._end[0]===mi&&Fi._end[1]>Di&&Fi._end[1]--}}catch(Ki){pi={error:Ki}}finally{try{Pi&&!Pi.done&&(yi=Bi.return)&&yi.call(Bi)}finally{if(pi)throw pi.error}}try{for(var Vi=je(We.dom.rangeList),Ti=Vi.next();!Ti.done;Ti=Vi.next())(Fi=Ti.value)._start[0]===mi&&Fi._start[1]>Di&&(Fi._start[1]-=1),Fi._end[0]===mi&&Fi._end[1]>Di&&(Fi._end[1]-=1)}catch(Ki){gi={error:Ki}}finally{try{Ti&&!Ti.done&&(_i=Vi.return)&&_i.call(Vi)}finally{if(gi)throw gi.error}}}if(We.dom.features.steps)try{for(var ji=je(ri.nodeIterator_iteratorList()),Gi=ji.next();!Gi.done;Gi=ji.next()){var Yi=Gi.value;Yi._root._nodeDocument===ci._nodeDocument&&St.dom_runNodeIteratorPreRemovingSteps(Yi,ci)}}catch(Ki){Ai={error:Ki}}finally{try{Gi&&!Gi.done&&(ki=ji.return)&&ki.call(ji)}finally{if(Ai)throw Ai.error}}var Xi=ci._previousSibling,xi=ci._nextSibling;Ze.Guard.isDocumentNode(mi)&&Ze.Guard.isElementNode(ci)&&(mi._documentElement=null),ci._parent=null,mi._children.delete(ci);var fi=ci._previousSibling,$i=ci._nextSibling;ci._previousSibling=null,ci._nextSibling=null,fi&&(fi._nextSibling=$i),$i&&($i._previousSibling=fi),fi||(mi._firstChild=$i),$i||(mi._lastChild=fi),We.dom.features.slots&&Ze.Guard.isSlotable(ci)&&ci._assignedSlot!==null&&ii.shadowTree_isAssigned(ci)&&ii.shadowTree_assignSlotables(ci._assignedSlot),We.dom.features.slots&&Ze.Guard.isShadowRoot(ni.tree_rootNode(mi))&&Ze.Guard.isSlot(mi)&&Je.isEmpty(mi._assignedNodes)&&ii.shadowTree_signalASlotChange(mi),We.dom.features.slots&&ni.tree_getFirstDescendantNode(ci,!0,!1,function(Ki){return Ze.Guard.isSlot(Ki)})!==null&&(ii.shadowTree_assignSlotablesForATree(ni.tree_rootNode(mi)),ii.shadowTree_assignSlotablesForATree(ci)),We.dom.features.steps&&St.dom_runRemovingSteps(ci,mi),We.dom.features.customElements&&Ze.Guard.isCustomElementNode(ci)&&ti.customElement_enqueueACustomElementCallbackReaction(ci,"disconnectedCallback",[]);for(var bi=ni.tree_getFirstDescendantNode(ci,!1,!0);bi!==null;)We.dom.features.steps&&St.dom_runRemovingSteps(bi,ci),We.dom.features.customElements&&Ze.Guard.isCustomElementNode(bi)&&ti.customElement_enqueueACustomElementCallbackReaction(bi,"disconnectedCallback",[]),bi=ni.tree_getNextDescendantNode(ci,bi,!1,!0);if(We.dom.features.mutationObservers)for(var Ci=ni.tree_getFirstAncestorNode(mi,!0);Ci!==null;){try{for(var Ei=(vi=void 0,je(Ci._registeredObserverList)),Si=Ei.next();!Si.done;Si=Ei.next()){var zi=Si.value;zi.options.subtree&&ci._registeredObserverList.push({observer:zi.observer,options:zi.options,source:zi})}}catch(Ki){vi={error:Ki}}finally{try{Si&&!Si.done&&(Mi=Ei.return)&&Mi.call(Ei)}finally{if(vi)throw vi.error}}Ci=ni.tree_getNextAncestorNode(mi,Ci,!0)}We.dom.features.mutationObservers&&(di||ei.observer_queueTreeMutationRecord(mi,[],[ci],Xi,xi)),We.dom.features.steps&&Ze.Guard.isTextNode(ci)&&St.dom_runChildTextContentChangeSteps(mi)}r.mutation_ensurePreInsertionValidity=si,r.mutation_preInsert=ai,r.mutation_insert=ui,r.mutation_append=function(ci,mi){return ai(ci,mi,null)},r.mutation_replace=function(ci,mi,di){var pi,yi,gi,_i,Ai,ki,vi,Mi;if(di._nodeType!==Ke.NodeType.Document&&di._nodeType!==Ke.NodeType.DocumentFragment&&di._nodeType!==Ke.NodeType.Element)throw new qe.HierarchyRequestError("Only document, document fragment and element nodes can contain child nodes. Parent node is "+di.nodeName+".");if(ni.tree_isHostIncludingAncestorOf(di,mi,!0))throw new qe.HierarchyRequestError("The node to be inserted cannot be an ancestor of parent node. Node is "+mi.nodeName+", parent node is "+di.nodeName+".");if(ci._parent!==di)throw new qe.NotFoundError("The reference child node cannot be found under parent node. Child node is "+ci.nodeName+", parent node is "+di.nodeName+".");if(mi._nodeType!==Ke.NodeType.DocumentFragment&&mi._nodeType!==Ke.NodeType.DocumentType&&mi._nodeType!==Ke.NodeType.Element&&mi._nodeType!==Ke.NodeType.Text&&mi._nodeType!==Ke.NodeType.ProcessingInstruction&&mi._nodeType!==Ke.NodeType.CData&&mi._nodeType!==Ke.NodeType.Comment)throw new qe.HierarchyRequestError("Only document fragment, document type, element, text, processing instruction, cdata section or comment nodes can be inserted. Node is "+mi.nodeName+".");if(mi._nodeType===Ke.NodeType.Text&&di._nodeType===Ke.NodeType.Document)throw new qe.HierarchyRequestError("Cannot insert a text node as a child of a document node. Node is "+mi.nodeName+".");if(mi._nodeType===Ke.NodeType.DocumentType&&di._nodeType!==Ke.NodeType.Document)throw new qe.HierarchyRequestError("A document type node can only be inserted under a document node. Parent node is "+di.nodeName+".");if(di._nodeType===Ke.NodeType.Document){if(mi._nodeType===Ke.NodeType.DocumentFragment){var Di=0;try{for(var Bi=je(mi._children),Pi=Bi.next();!Pi.done;Pi=Bi.next()){var Fi=Pi.value;if(Fi._nodeType===Ke.NodeType.Element)Di++;else if(Fi._nodeType===Ke.NodeType.Text)throw new qe.HierarchyRequestError("Cannot insert text a node as a child of a document node. Node is "+Fi.nodeName+".")}}catch(zi){pi={error:zi}}finally{try{Pi&&!Pi.done&&(yi=Bi.return)&&yi.call(Bi)}finally{if(pi)throw pi.error}}if(Di>1)throw new qe.HierarchyRequestError("A document node can only have one document element node. Document fragment to be inserted has "+Di+" element nodes.");if(Di===1){try{for(var Vi=je(di._children),Ti=Vi.next();!Ti.done;Ti=Vi.next())if((fi=Ti.value)._nodeType===Ke.NodeType.Element&&fi!==ci)throw new qe.HierarchyRequestError("The document node already has a document element node.")}catch(zi){gi={error:zi}}finally{try{Ti&&!Ti.done&&(_i=Vi.return)&&_i.call(Vi)}finally{if(gi)throw gi.error}}for(var ji=ci._nextSibling;ji;){if(ji._nodeType===Ke.NodeType.DocumentType)throw new qe.HierarchyRequestError("Cannot insert an element node before a document type node.");ji=ji._nextSibling}}}else if(mi._nodeType===Ke.NodeType.Element){try{for(var Gi=je(di._children),Yi=Gi.next();!Yi.done;Yi=Gi.next())if((fi=Yi.value)._nodeType===Ke.NodeType.Element&&fi!==ci)throw new qe.HierarchyRequestError("Document already has a document element node. Node is "+mi.nodeName+".")}catch(zi){Ai={error:zi}}finally{try{Yi&&!Yi.done&&(ki=Gi.return)&&ki.call(Gi)}finally{if(Ai)throw Ai.error}}for(ji=ci._nextSibling;ji;){if(ji._nodeType===Ke.NodeType.DocumentType)throw new qe.HierarchyRequestError("Cannot insert an element node before a document type node. Node is "+mi.nodeName+".");ji=ji._nextSibling}}else if(mi._nodeType===Ke.NodeType.DocumentType){try{for(var Xi=je(di._children),xi=Xi.next();!xi.done;xi=Xi.next()){var fi;if((fi=xi.value)._nodeType===Ke.NodeType.DocumentType&&fi!==ci)throw new qe.HierarchyRequestError("Document already has a document type node. Node is "+mi.nodeName+".")}}catch(zi){vi={error:zi}}finally{try{xi&&!xi.done&&(Mi=Xi.return)&&Mi.call(Xi)}finally{if(vi)throw vi.error}}for(var $i=ci._previousSibling;$i;){if($i._nodeType===Ke.NodeType.Element)throw new qe.HierarchyRequestError("Cannot insert a document type node before an element node. Node is "+mi.nodeName+".");$i=$i._previousSibling}}}var bi=ci._nextSibling;bi===mi&&(bi=mi._nextSibling);var Ci=ci._previousSibling;oi.document_adopt(mi,di._nodeDocument);var Ei=[];ci._parent!==null&&(Ei.push(ci),hi(ci,ci._parent,!0));var Si=[];return mi._nodeType===Ke.NodeType.DocumentFragment?Si=Array.from(mi._children):Si.push(mi),ui(mi,di,bi,!0),We.dom.features.mutationObservers&&ei.observer_queueTreeMutationRecord(di,Si,Ei,Ci,bi),ci},r.mutation_replaceAll=function(ci,mi){var di,pi;ci!==null&&oi.document_adopt(ci,mi._nodeDocument);var yi=Array.from(mi._children),gi=[];ci&&ci._nodeType===Ke.NodeType.DocumentFragment?gi=Array.from(ci._children):ci!==null&&gi.push(ci);try{for(var _i=je(yi),Ai=_i.next();!Ai.done;Ai=_i.next())hi(Ai.value,mi,!0)}catch(ki){di={error:ki}}finally{try{Ai&&!Ai.done&&(pi=_i.return)&&pi.call(_i)}finally{if(di)throw di.error}}ci!==null&&ui(ci,mi,null,!0),We.dom.features.mutationObservers&&ei.observer_queueTreeMutationRecord(mi,gi,yi,null,null)},r.mutation_preRemove=function(ci,mi){if(ci._parent!==mi)throw new qe.NotFoundError("The child node cannot be found under parent node. Child node is "+ci.nodeName+", parent node is "+mi.nodeName+".");return hi(ci,mi),ci},r.mutation_remove=hi},function(t,r,Ve){function je(ze){return ze==null}t.exports.isNothing=je,t.exports.isObject=function(ze){return typeof ze=="object"&&ze!==null},t.exports.toArray=function(ze){return Array.isArray(ze)?ze:je(ze)?[]:[ze]},t.exports.repeat=function(ze,Xe){var We,qe="";for(We=0;We<Xe;We+=1)qe+=ze;return qe},t.exports.isNegativeZero=function(ze){return ze===0&&Number.NEGATIVE_INFINITY===1/ze},t.exports.extend=function(ze,Xe){var We,qe,Ke,Ze;if(Xe)for(We=0,qe=(Ze=Object.keys(Xe)).length;We<qe;We+=1)ze[Ke=Ze[We]]=Xe[Ke];return ze}},function(t,r,Ve){var je=Ve(38),ze=Ve(53),Xe=Ve(10);function We(Ke,Ze,Je){var Qe=[];return Ke.include.forEach(function(ti){Je=We(ti,Ze,Je)}),Ke[Ze].forEach(function(ti){Je.forEach(function(ni,ri){ni.tag===ti.tag&&ni.kind===ti.kind&&Qe.push(ri)}),Je.push(ti)}),Je.filter(function(ti,ni){return Qe.indexOf(ni)===-1})}function qe(Ke){this.include=Ke.include||[],this.implicit=Ke.implicit||[],this.explicit=Ke.explicit||[],this.implicit.forEach(function(Ze){if(Ze.loadKind&&Ze.loadKind!=="scalar")throw new ze("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=We(this,"implicit",[]),this.compiledExplicit=We(this,"explicit",[]),this.compiledTypeMap=function(){var Ze,Je,Qe={scalar:{},sequence:{},mapping:{},fallback:{}};function ti(ni){Qe[ni.kind][ni.tag]=Qe.fallback[ni.tag]=ni}for(Ze=0,Je=arguments.length;Ze<Je;Ze+=1)arguments[Ze].forEach(ti);return Qe}(this.compiledImplicit,this.compiledExplicit)}qe.DEFAULT=null,qe.create=function(){var Ke,Ze;switch(arguments.length){case 1:Ke=qe.DEFAULT,Ze=arguments[0];break;case 2:Ke=arguments[0],Ze=arguments[1];break;default:throw new ze("Wrong number of arguments for Schema.create function")}if(Ke=je.toArray(Ke),Ze=je.toArray(Ze),!Ke.every(function(Je){return Je instanceof qe}))throw new ze("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!Ze.every(function(Je){return Je instanceof Xe}))throw new ze("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new qe({include:Ke,explicit:Ze})},t.exports=qe},function(t,r){t.exports=function(Ve,je){return{enumerable:!(1&Ve),configurable:!(2&Ve),writable:!(4&Ve),value:je}}},function(t,r,Ve){var je=Ve(8),ze=Ve(42),Xe="".split;t.exports=je(function(){return!Object("z").propertyIsEnumerable(0)})?function(We){return ze(We)=="String"?Xe.call(We,""):Object(We)}:Object},function(t,r){var Ve={}.toString;t.exports=function(je){return Ve.call(je).slice(8,-1)}},function(t,r,Ve){var je,ze,Xe,We=Ve(186),qe=Ve(11),Ke=Ve(13),Ze=Ve(21),Je=Ve(14),Qe=Ve(57),ti=Ve(45),ni=qe.WeakMap;if(We){var ri=new ni,ii=ri.get,ei=ri.has,St=ri.set;je=function(si,ai){return St.call(ri,si,ai),ai},ze=function(si){return ii.call(ri,si)||{}},Xe=function(si){return ei.call(ri,si)}}else{var oi=Qe("state");ti[oi]=!0,je=function(si,ai){return Ze(si,oi,ai),ai},ze=function(si){return Je(si,oi)?si[oi]:{}},Xe=function(si){return Je(si,oi)}}t.exports={set:je,get:ze,has:Xe,enforce:function(si){return Xe(si)?ze(si):je(si,{})},getterFor:function(si){return function(ai){var ui;if(!Ke(ai)||(ui=ze(ai)).type!==si)throw TypeError("Incompatible receiver, "+si+" required");return ui}}}},function(t,r){t.exports=!1},function(t,r){t.exports={}},function(t,r,Ve){var je=Ve(120),ze=Ve(11),Xe=function(We){return typeof We=="function"?We:void 0};t.exports=function(We,qe){return arguments.length<2?Xe(je[We])||Xe(ze[We]):je[We]&&je[We][qe]||ze[We]&&ze[We][qe]}},function(t,r){var Ve=Math.ceil,je=Math.floor;t.exports=function(ze){return isNaN(ze=+ze)?0:(ze>0?je:Ve)(ze)}},function(t,r,Ve){var je=Ve(8);t.exports=function(ze,Xe){var We=[][ze];return!!We&&je(function(){We.call(null,Xe||function(){throw 1},1)})}},function(t,r){t.exports={}},function(t,r,Ve){Ve(31),Ve(32),Ve(33),Ve(220),Ve(64),Ve(19),Ve(65),Ve(20),Ve(68),Ve(66),Ve(92),Ve(144),Ve(22),Ve(94),Ve(23);var je=this&&this.__values||function(ni){var ri=typeof Symbol=="function"&&Symbol.iterator,ii=ri&&ni[ri],ei=0;if(ii)return ii.call(ni);if(ni&&typeof ni.length=="number")return{next:function(){return ni&&ei>=ni.length&&(ni=void 0),{value:ni&&ni[ei++],done:!ni}}};throw new TypeError(ri?"Object is not iterable.":"Symbol.iterator is not defined.")},ze=this&&this.__read||function(ni,ri){var ii=typeof Symbol=="function"&&ni[Symbol.iterator];if(!ii)return ni;var ei,St,oi=ii.call(ni),si=[];try{for(;(ri===void 0||ri-- >0)&&!(ei=oi.next()).done;)si.push(ei.value)}catch(ai){St={error:ai}}finally{try{ei&&!ei.done&&(ii=oi.return)&&ii.call(oi)}finally{if(St)throw St.error}}return si},Xe=this&&this.__spread||function(){for(var ni=[],ri=0;ri<arguments.length;ri++)ni=ni.concat(ze(arguments[ri]));return ni};Object.defineProperty(r,"__esModule",{value:!0});var We=Ve(1),qe=Ve(69),Ke=Ve(95),Ze=Ve(7),Je=Ve(0),Qe=Ve(258),ti=function(){function ni(ri){this.level=0,this._builderOptions=ri}return ni.prototype.declaration=function(ri,ii,ei){},ni.prototype.docType=function(ri,ii,ei){},ni.prototype.comment=function(ri){},ni.prototype.text=function(ri){},ni.prototype.instruction=function(ri,ii){},ni.prototype.cdata=function(ri){},ni.prototype.openTagBegin=function(ri){},ni.prototype.openTagEnd=function(ri,ii,ei){},ni.prototype.closeTag=function(ri){},ni.prototype.attributes=function(ri){var ii,ei;try{for(var St=je(ri),oi=St.next();!oi.done;oi=St.next()){var si=oi.value;this.attribute(si[1]===null?si[2]:si[1]+":"+si[2],si[3])}}catch(ai){ii={error:ai}}finally{try{oi&&!oi.done&&(ei=St.return)&&ei.call(St)}finally{if(ii)throw ii.error}}},ni.prototype.attribute=function(ri,ii){},ni.prototype.beginElement=function(ri){},ni.prototype.endElement=function(ri){},ni.prototype.serializeNode=function(ri,ii){var ei=ri._nodeDocument!==void 0&&ri._nodeDocument._hasNamespaces;if(this.level=0,this.currentNode=ri,ei){var St=new Ke.NamespacePrefixMap;St.set("xml",Ze.namespace.XML),this._serializeNodeNS(ri,null,St,{value:1},ii)}else this._serializeNode(ri,ii)},ni.prototype._serializeNodeNS=function(ri,ii,ei,St,oi){switch(this.currentNode=ri,ri.nodeType){case We.NodeType.Element:this._serializeElementNS(ri,ii,ei,St,oi);break;case We.NodeType.Document:this._serializeDocumentNS(ri,ii,ei,St,oi);break;case We.NodeType.Comment:this._serializeComment(ri,oi);break;case We.NodeType.Text:this._serializeText(ri,oi);break;case We.NodeType.DocumentFragment:this._serializeDocumentFragmentNS(ri,ii,ei,St,oi);break;case We.NodeType.DocumentType:this._serializeDocumentType(ri,oi);break;case We.NodeType.ProcessingInstruction:this._serializeProcessingInstruction(ri,oi);break;case We.NodeType.CData:this._serializeCData(ri,oi);break;default:throw new Error("Unknown node type: "+ri.nodeType)}},ni.prototype._serializeNode=function(ri,ii){switch(this.currentNode=ri,ri.nodeType){case We.NodeType.Element:this._serializeElement(ri,ii);break;case We.NodeType.Document:this._serializeDocument(ri,ii);break;case We.NodeType.Comment:this._serializeComment(ri,ii);break;case We.NodeType.Text:this._serializeText(ri,ii);break;case We.NodeType.DocumentFragment:this._serializeDocumentFragment(ri,ii);break;case We.NodeType.DocumentType:this._serializeDocumentType(ri,ii);break;case We.NodeType.ProcessingInstruction:this._serializeProcessingInstruction(ri,ii);break;case We.NodeType.CData:this._serializeCData(ri,ii);break;default:throw new Error("Unknown node type: "+ri.nodeType)}},ni.prototype._serializeElementNS=function(ri,ii,ei,St,oi){var si,ai,ui=[];if(oi&&(ri.localName.indexOf(":")!==-1||!Je.xml_isName(ri.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var hi="",ci=!1,mi=!1,di=ei.copy(),pi={},yi=this._recordNamespaceInformation(ri,di,pi),gi=ii,_i=ri.namespaceURI;if(gi===_i)yi!==null&&(mi=!0),hi=_i===Ze.namespace.XML?"xml:"+ri.localName:ri.localName,this.beginElement(hi),this.openTagBegin(hi);else{var Ai=ri.prefix,ki=null;if(Ai===null&&_i===yi||(ki=di.get(Ai,_i)),Ai==="xmlns"){if(oi)throw new Error("An element cannot have the 'xmlns' prefix (well-formed required).");ki=Ai}ki!==null?(hi=ki+":"+ri.localName,yi!==null&&yi!==Ze.namespace.XML&&(gi=yi||null),this.beginElement(hi),this.openTagBegin(hi)):Ai!==null?(Ai in pi&&(Ai=this._generatePrefix(_i,di,St)),di.set(Ai,_i),hi+=Ai+":"+ri.localName,this.beginElement(hi),this.openTagBegin(hi),ui.push([null,"xmlns",Ai,this._serializeAttributeValue(_i,oi)]),yi!==null&&(gi=yi||null)):yi===null||yi!==null&&yi!==_i?(mi=!0,hi+=ri.localName,gi=_i,this.beginElement(hi),this.openTagBegin(hi),ui.push([null,null,"xmlns",this._serializeAttributeValue(_i,oi)])):(hi+=ri.localName,gi=_i,this.beginElement(hi),this.openTagBegin(hi))}ui.push.apply(ui,Xe(this._serializeAttributesNS(ri,di,St,pi,mi,oi))),this.attributes(ui);var vi=_i===Ze.namespace.HTML;if(vi&&ri.childNodes.length===0&&ni._VoidElementNames.has(ri.localName)?(this.openTagEnd(hi,!0,!0),this.endElement(hi),ci=!0):vi||ri.childNodes.length!==0?this.openTagEnd(hi,!1,!1):(this.openTagEnd(hi,!0,!1),this.endElement(hi),ci=!0),!ci){if(!(vi&&ri.localName==="template"))try{for(var Mi=je(ri.childNodes),Di=Mi.next();!Di.done;Di=Mi.next()){var Bi=Di.value;this.level++,this._serializeNodeNS(Bi,gi,di,St,oi),this.level--}}catch(Pi){si={error:Pi}}finally{try{Di&&!Di.done&&(ai=Mi.return)&&ai.call(Mi)}finally{if(si)throw si.error}}this.closeTag(hi),this.endElement(hi)}},ni.prototype._serializeElement=function(ri,ii){var ei,St;if(ii&&(ri.localName.indexOf(":")!==-1||!Je.xml_isName(ri.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var oi=!1,si=ri.localName;this.beginElement(si),this.openTagBegin(si);var ai=this._serializeAttributes(ri,ii);if(this.attributes(ai),ri.hasChildNodes()?this.openTagEnd(si,!1,!1):(this.openTagEnd(si,!0,!1),this.endElement(si),oi=!0),!oi){try{for(var ui=je(ri._children),hi=ui.next();!hi.done;hi=ui.next()){var ci=hi.value;this.level++,this._serializeNode(ci,ii),this.level--}}catch(mi){ei={error:mi}}finally{try{hi&&!hi.done&&(St=ui.return)&&St.call(ui)}finally{if(ei)throw ei.error}}this.closeTag(si),this.endElement(si)}},ni.prototype._serializeDocumentNS=function(ri,ii,ei,St,oi){var si,ai;if(oi&&ri.documentElement===null)throw new Error("Missing document element (well-formed required).");try{for(var ui=je(ri.childNodes),hi=ui.next();!hi.done;hi=ui.next()){var ci=hi.value;this._serializeNodeNS(ci,ii,ei,St,oi)}}catch(mi){si={error:mi}}finally{try{hi&&!hi.done&&(ai=ui.return)&&ai.call(ui)}finally{if(si)throw si.error}}},ni.prototype._serializeDocument=function(ri,ii){var ei,St;if(ii&&ri.documentElement===null)throw new Error("Missing document element (well-formed required).");try{for(var oi=je(ri._children),si=oi.next();!si.done;si=oi.next()){var ai=si.value;this._serializeNode(ai,ii)}}catch(ui){ei={error:ui}}finally{try{si&&!si.done&&(St=oi.return)&&St.call(oi)}finally{if(ei)throw ei.error}}},ni.prototype._serializeComment=function(ri,ii){if(ii&&(!Je.xml_isLegalChar(ri.data)||ri.data.indexOf("--")!==-1||ri.data.endsWith("-")))throw new Error("Comment data contains invalid characters (well-formed required).");this.comment(ri.data)},ni.prototype._serializeText=function(ri,ii){if(ii&&!Je.xml_isLegalChar(ri.data))throw new Error("Text data contains invalid characters (well-formed required).");var ei=ri.data.replace(Qe.nonEntityAmpersandRegex,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");this.text(ei)},ni.prototype._serializeDocumentFragmentNS=function(ri,ii,ei,St,oi){var si,ai;try{for(var ui=je(ri.childNodes),hi=ui.next();!hi.done;hi=ui.next()){var ci=hi.value;this._serializeNodeNS(ci,ii,ei,St,oi)}}catch(mi){si={error:mi}}finally{try{hi&&!hi.done&&(ai=ui.return)&&ai.call(ui)}finally{if(si)throw si.error}}},ni.prototype._serializeDocumentFragment=function(ri,ii){var ei,St;try{for(var oi=je(ri._children),si=oi.next();!si.done;si=oi.next()){var ai=si.value;this._serializeNode(ai,ii)}}catch(ui){ei={error:ui}}finally{try{si&&!si.done&&(St=oi.return)&&St.call(oi)}finally{if(ei)throw ei.error}}},ni.prototype._serializeDocumentType=function(ri,ii){if(ii&&!Je.xml_isPubidChar(ri.publicId))throw new Error("DocType public identifier does not match PubidChar construct (well-formed required).");if(ii&&(!Je.xml_isLegalChar(ri.systemId)||ri.systemId.indexOf('"')!==-1&&ri.systemId.indexOf("'")!==-1))throw new Error("DocType system identifier contains invalid characters (well-formed required).");this.docType(ri.name,ri.publicId,ri.systemId)},ni.prototype._serializeProcessingInstruction=function(ri,ii){if(ii&&(ri.target.indexOf(":")!==-1||/^xml$/i.test(ri.target)))throw new Error("Processing instruction target contains invalid characters (well-formed required).");if(ii&&(!Je.xml_isLegalChar(ri.data)||ri.data.indexOf("?>")!==-1))throw new Error("Processing instruction data contains invalid characters (well-formed required).");this.instruction(ri.target,ri.data)},ni.prototype._serializeCData=function(ri,ii){if(ii&&ri.data.indexOf("]]>")!==-1)throw new Error("CDATA contains invalid characters (well-formed required).");this.cdata(ri.data)},ni.prototype._serializeAttributesNS=function(ri,ii,ei,St,oi,si){var ai,ui,hi=[],ci=si?new qe.LocalNameSet:void 0;try{for(var mi=je(ri.attributes),di=mi.next();!di.done;di=mi.next()){var pi=di.value;if(si||oi||pi.namespaceURI!==null){if(si&&ci&&ci.has(pi.namespaceURI,pi.localName))throw new Error("Element contains duplicate attributes (well-formed required).");si&&ci&&ci.set(pi.namespaceURI,pi.localName);var yi=pi.namespaceURI,gi=null;if(yi!==null)if(gi=ii.get(pi.prefix,yi),yi===Ze.namespace.XMLNS){if(pi.value===Ze.namespace.XML||pi.prefix===null&&oi||pi.prefix!==null&&(!(pi.localName in St)||St[pi.localName]!==pi.value)&&ii.has(pi.localName,pi.value))continue;if(si&&pi.value===Ze.namespace.XMLNS)throw new Error("XMLNS namespace is reserved (well-formed required).");if(si&&pi.value==="")throw new Error("Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required).");pi.prefix==="xmlns"&&(gi="xmlns")}else gi===null&&(gi=pi.prefix===null||ii.hasPrefix(pi.prefix)&&!ii.has(pi.prefix,yi)?this._generatePrefix(yi,ii,ei):pi.prefix,hi.push([null,"xmlns",gi,this._serializeAttributeValue(yi,si)]));if(si&&(pi.localName.indexOf(":")!==-1||!Je.xml_isName(pi.localName)||pi.localName==="xmlns"&&yi===null))throw new Error("Attribute local name contains invalid characters (well-formed required).");hi.push([yi,gi,pi.localName,this._serializeAttributeValue(pi.value,si)])}else hi.push([null,null,pi.localName,this._serializeAttributeValue(pi.value,si)])}}catch(_i){ai={error:_i}}finally{try{di&&!di.done&&(ui=mi.return)&&ui.call(mi)}finally{if(ai)throw ai.error}}return hi},ni.prototype._serializeAttributes=function(ri,ii){var ei,St,oi=[],si=ii?{}:void 0;try{for(var ai=je(ri.attributes),ui=ai.next();!ui.done;ui=ai.next()){var hi=ui.value;if(ii){if(ii&&si&&hi.localName in si)throw new Error("Element contains duplicate attributes (well-formed required).");if(ii&&si&&(si[hi.localName]=!0),ii&&(hi.localName.indexOf(":")!==-1||!Je.xml_isName(hi.localName)))throw new Error("Attribute local name contains invalid characters (well-formed required).");oi.push([null,null,hi.localName,this._serializeAttributeValue(hi.value,ii)])}else oi.push([null,null,hi.localName,this._serializeAttributeValue(hi.value,ii)])}}catch(ci){ei={error:ci}}finally{try{ui&&!ui.done&&(St=ai.return)&&St.call(ai)}finally{if(ei)throw ei.error}}return oi},ni.prototype._recordNamespaceInformation=function(ri,ii,ei){var St,oi,si=null;try{for(var ai=je(ri.attributes),ui=ai.next();!ui.done;ui=ai.next()){var hi=ui.value,ci=hi.namespaceURI,mi=hi.prefix;if(ci===Ze.namespace.XMLNS){if(mi===null){si=hi.value;continue}var di=hi.localName,pi=hi.value;if(pi===Ze.namespace.XML||(pi===""&&(pi=null),ii.has(di,pi)))continue;ii.set(di,pi),ei[di]=pi||""}}}catch(yi){St={error:yi}}finally{try{ui&&!ui.done&&(oi=ai.return)&&oi.call(ai)}finally{if(St)throw St.error}}return si},ni.prototype._generatePrefix=function(ri,ii,ei){var St="ns"+ei.value.toString();return ei.value++,ii.set(St,ri),St},ni.prototype._serializeAttributeValue=function(ri,ii){if(ii&&ri!==null&&!Je.xml_isLegalChar(ri))throw new Error("Invalid characters in attribute value.");return ri===null?"":ri.replace(Qe.nonEntityAmpersandRegex,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},ni._VoidElementNames=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),ni}();r.BaseWriter=ti},function(t,r,Ve){var je=this&&this.__values||function(ri){var ii=typeof Symbol=="function"&&Symbol.iterator,ei=ii&&ri[ii],St=0;if(ei)return ei.call(ri);if(ri&&typeof ri.length=="number")return{next:function(){return ri&&St>=ri.length&&(ri=void 0),{value:ri&&ri[St++],done:!ri}}};throw new TypeError(ii?"Object is not iterable.":"Symbol.iterator is not defined.")},ze=this&&this.__read||function(ri,ii){var ei=typeof Symbol=="function"&&ri[Symbol.iterator];if(!ei)return ri;var St,oi,si=ei.call(ri),ai=[];try{for(;(ii===void 0||ii-- >0)&&!(St=si.next()).done;)ai.push(St.value)}catch(ui){oi={error:ui}}finally{try{St&&!St.done&&(ei=si.return)&&ei.call(si)}finally{if(oi)throw oi.error}}return ai};Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(6),We=Ve(3),qe=Ve(7),Ke=Ve(29),Ze=Ve(17),Je=Ve(97);function Qe(){var ri=Xe.dom.window;ri._mutationObserverMicrotaskQueued||(ri._mutationObserverMicrotaskQueued=!0,Promise.resolve().then(function(){ti()}))}function ti(){var ri,ii,ei,St,oi=Xe.dom.window;oi._mutationObserverMicrotaskQueued=!1;var si=qe.set.clone(oi._mutationObservers),ai=qe.set.clone(oi._signalSlots);qe.set.empty(oi._signalSlots);var ui=function(yi){var gi=qe.list.clone(yi._recordQueue);qe.list.empty(yi._recordQueue);for(var _i=0;_i<yi._nodeList.length;_i++){var Ai=yi._nodeList[_i];qe.list.remove(Ai._registeredObserverList,function(ki){return We.Guard.isTransientRegisteredObserver(ki)&&ki.observer===yi})}if(!qe.list.isEmpty(gi))try{yi._callback.call(yi,gi,yi)}catch{}};try{for(var hi=je(si),ci=hi.next();!ci.done;ci=hi.next())ui(ci.value)}catch(yi){ri={error:yi}}finally{try{ci&&!ci.done&&(ii=hi.return)&&ii.call(hi)}finally{if(ri)throw ri.error}}if(Xe.dom.features.slots)try{for(var mi=je(ai),di=mi.next();!di.done;di=mi.next()){var pi=di.value;Je.event_fireAnEvent("slotchange",pi,void 0,{bubbles:!0})}}catch(yi){ei={error:yi}}finally{try{di&&!di.done&&(St=mi.return)&&St.call(mi)}finally{if(ei)throw ei.error}}}function ni(ri,ii,ei,St,oi,si,ai,ui,hi){for(var ci,mi,di=new Map,pi=Ze.tree_getFirstAncestorNode(ii,!0);pi!==null;){for(var yi=0;yi<pi._registeredObserverList.length;yi++){var gi=pi._registeredObserverList[yi],_i=gi.options;if((pi===ii||_i.subtree)&&(ri!=="attributes"||_i.attributes)&&(ri!=="attributes"||!_i.attributeFilter||_i.attributeFilter.indexOf(ei||"")&&St===null)&&(ri!=="characterData"||_i.characterData)&&(ri!=="childList"||_i.childList)){var Ai=gi.observer;di.has(Ai)||di.set(Ai,null),(ri==="attributes"&&_i.attributeOldValue||ri==="characterData"&&_i.characterDataOldValue)&&di.set(Ai,oi)}}pi=Ze.tree_getNextAncestorNode(ii,pi,!0)}try{for(var ki=je(di),vi=ki.next();!vi.done;vi=ki.next()){var Mi=ze(vi.value,2),Di=Mi[0],Bi=Mi[1],Pi=Ke.create_mutationRecord(ri,ii,Ke.create_nodeListStatic(ii,si),Ke.create_nodeListStatic(ii,ai),ui,hi,ei,St,Bi);Di._recordQueue.push(Pi)}}catch(Fi){ci={error:Fi}}finally{try{vi&&!vi.done&&(mi=ki.return)&&mi.call(ki)}finally{if(ci)throw ci.error}}Qe()}r.observer_queueAMutationObserverMicrotask=Qe,r.observer_notifyMutationObservers=ti,r.observer_queueMutationRecord=ni,r.observer_queueTreeMutationRecord=function(ri,ii,ei,St,oi){ni("childList",ri,null,null,null,ii,ei,St,oi)},r.observer_queueAttributeMutationRecord=function(ri,ii,ei,St){ni("attributes",ri,ii,ei,St,[],[],null,null)}},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(6),ze=Ve(7),Xe=Ve(3),We=Ve(9),qe=Ve(29),Ke=Ve(73),Ze=Ve(51),Je=Ve(30),Qe=Ve(37),ti=Ve(106);function ni(si,ai,ui){je.dom.features.mutationObservers&&Ze.observer_queueAttributeMutationRecord(ai,si._localName,si._namespace,si._value),je.dom.features.customElements&&Xe.Guard.isCustomElementNode(ai)&&Ke.customElement_enqueueACustomElementCallbackReaction(ai,"attributeChangedCallback",[si._localName,si._value,ui,si._namespace]),je.dom.features.steps&&Je.dom_runAttributeChangeSteps(ai,si._localName,si._value,ui,si._namespace),si._value=ui}function ri(si,ai){je.dom.features.mutationObservers&&Ze.observer_queueAttributeMutationRecord(ai,si._localName,si._namespace,null),je.dom.features.customElements&&Xe.Guard.isCustomElementNode(ai)&&Ke.customElement_enqueueACustomElementCallbackReaction(ai,"attributeChangedCallback",[si._localName,null,si._value,si._namespace]),je.dom.features.steps&&Je.dom_runAttributeChangeSteps(ai,si._localName,null,si._value,si._namespace),ai._attributeList._asArray().push(si),si._element=ai,ai._nodeDocument._hasNamespaces||si._namespace===null&&si._namespacePrefix===null&&si._localName!=="xmlns"||(ai._nodeDocument._hasNamespaces=!0)}function ii(si,ai){je.dom.features.mutationObservers&&Ze.observer_queueAttributeMutationRecord(ai,si._localName,si._namespace,si._value),je.dom.features.customElements&&Xe.Guard.isCustomElementNode(ai)&&Ke.customElement_enqueueACustomElementCallbackReaction(ai,"attributeChangedCallback",[si._localName,si._value,null,si._namespace]),je.dom.features.steps&&Je.dom_runAttributeChangeSteps(ai,si._localName,si._value,null,si._namespace);var ui=ai._attributeList._asArray().indexOf(si);ai._attributeList._asArray().splice(ui,1),si._element=null}function ei(si,ai,ui){je.dom.features.mutationObservers&&Ze.observer_queueAttributeMutationRecord(ui,si._localName,si._namespace,si._value),je.dom.features.customElements&&Xe.Guard.isCustomElementNode(ui)&&Ke.customElement_enqueueACustomElementCallbackReaction(ui,"attributeChangedCallback",[si._localName,si._value,ai._value,si._namespace]),je.dom.features.steps&&Je.dom_runAttributeChangeSteps(ui,si._localName,si._value,ai._value,si._namespace);var hi=ui._attributeList._asArray().indexOf(si);hi!==-1&&(ui._attributeList._asArray()[hi]=ai),si._element=null,ai._element=ui,ui._nodeDocument._hasNamespaces||ai._namespace===null&&ai._namespacePrefix===null&&ai._localName!=="xmlns"||(ui._nodeDocument._hasNamespaces=!0)}function St(si,ai){return ai._namespace===ze.namespace.HTML&&ai._nodeDocument._type==="html"&&(si=si.toLowerCase()),ai._attributeList._asArray().find(function(ui){return ui._qualifiedName===si})||null}function oi(si,ai,ui){var hi=si||null;return ui._attributeList._asArray().find(function(ci){return ci._namespace===hi&&ci._localName===ai})||null}r.element_has=function(si,ai){return ai._attributeList._asArray().indexOf(si)!==-1},r.element_change=ni,r.element_append=ri,r.element_remove=ii,r.element_replace=ei,r.element_getAnAttributeByName=St,r.element_getAnAttributeByNamespaceAndLocalName=oi,r.element_getAnAttributeValue=function(si,ai,ui){ui===void 0&&(ui="");var hi=oi(ui,ai,si);return hi===null?"":hi._value},r.element_setAnAttribute=function(si,ai){if(si._element!==null&&si._element!==ai)throw new We.InUseAttributeError("This attribute already exists in the document: "+si._qualifiedName+" as a child of "+si._element._qualifiedName+".");var ui=oi(si._namespace||"",si._localName,ai);return ui===si?si:(ui!==null?ei(ui,si,ai):ri(si,ai),ui)},r.element_setAnAttributeValue=function(si,ai,ui,hi,ci){hi===void 0&&(hi=null),ci===void 0&&(ci=null);var mi=oi(ci||"",ai,si);if(mi===null){var di=qe.create_attr(si._nodeDocument,ai);return di._namespace=ci,di._namespacePrefix=hi,di._value=ui,void ri(di,si)}ni(mi,si,ui)},r.element_removeAnAttributeByName=function(si,ai){var ui=St(si,ai);return ui!==null&&ii(ui,ai),ui},r.element_removeAnAttributeByNamespaceAndLocalName=function(si,ai,ui){var hi=oi(si,ai,ui);return hi!==null&&ii(hi,ui),hi},r.element_createAnElement=function(si,ai,ui,hi,ci,mi){hi===void 0&&(hi=null),ci===void 0&&(ci=null),mi===void 0&&(mi=!1);var di=null;if(!je.dom.features.customElements)return(di=qe.create_element(si,ai,ui,hi))._customElementState="uncustomized",di._customElementDefinition=null,di._is=ci,di;var pi=Ke.customElement_lookUpACustomElementDefinition(si,ui,ai,ci);if(pi!==null&&pi.name!==pi.localName)(di=new(ti.document_elementInterface(ai,ze.namespace.HTML)))._localName=ai,di._namespace=ze.namespace.HTML,di._namespacePrefix=hi,di._customElementState="undefined",di._customElementDefinition=null,di._is=ci,di._nodeDocument=si,mi?Ke.customElement_upgrade(pi,di):Ke.customElement_enqueueACustomElementUpgradeReaction(di,pi);else if(pi!==null)if(mi)try{var yi=new pi.constructor;if(console.assert(yi._customElementState!==void 0),console.assert(yi._customElementDefinition!==void 0),console.assert(yi._namespace===ze.namespace.HTML),yi._attributeList.length!==0)throw new We.NotSupportedError("Custom element already has attributes.");if(yi._children.size!==0)throw new We.NotSupportedError("Custom element already has child nodes.");if(yi._parent!==null)throw new We.NotSupportedError("Custom element already has a parent node.");if(yi._nodeDocument!==si)throw new We.NotSupportedError("Custom element is already in a document.");if(yi._localName!==ai)throw new We.NotSupportedError("Custom element has a different local name.");yi._namespacePrefix=hi,yi._is=null}catch{(di=qe.create_htmlUnknownElement(si,ai,ze.namespace.HTML,hi))._customElementState="failed",di._customElementDefinition=null,di._is=null}else(di=qe.create_htmlElement(si,ai,ze.namespace.HTML,hi))._customElementState="undefined",di._customElementDefinition=null,di._is=null,Ke.customElement_enqueueACustomElementUpgradeReaction(di,pi);else(di=new(ti.document_elementInterface(ai,ui)))._localName=ai,di._namespace=ui,di._namespacePrefix=hi,di._customElementState="uncustomized",di._customElementDefinition=null,di._is=ci,di._nodeDocument=si,ui!==ze.namespace.HTML||ci===null&&!Ke.customElement_isValidCustomElementName(ai)||(di._customElementState="undefined");if(di===null)throw new Error("Unable to create element.");return di},r.element_insertAdjacent=function(si,ai,ui){switch(ai.toLowerCase()){case"beforebegin":return si._parent===null?null:Qe.mutation_preInsert(ui,si._parent,si);case"afterbegin":return Qe.mutation_preInsert(ui,si,si._firstChild);case"beforeend":return Qe.mutation_preInsert(ui,si,null);case"afterend":return si._parent===null?null:Qe.mutation_preInsert(ui,si._parent,si._nextSibling);default:throw new We.SyntaxError(`Invalid 'where' argument. "beforebegin", "afterbegin", "beforeend" or "afterend" expected`)}}},function(t,r,Ve){function je(ze,Xe){Error.call(this),this.name="YAMLException",this.reason=ze,this.mark=Xe,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}je.prototype=Object.create(Error.prototype),je.prototype.constructor=je,je.prototype.toString=function(ze){var Xe=this.name+": ";return Xe+=this.reason||"(unknown reason)",!ze&&this.mark&&(Xe+=" "+this.mark.toString()),Xe},t.exports=je},function(t,r,Ve){var je=Ve(39);t.exports=new je({include:[Ve(181)],implicit:[Ve(294),Ve(295)],explicit:[Ve(296),Ve(297),Ve(298),Ve(299)]})},function(t,r,Ve){var je=Ve(16),ze=Ve(79),Xe=Ve(40),We=Ve(24),qe=Ve(56),Ke=Ve(14),Ze=Ve(115),Je=Object.getOwnPropertyDescriptor;r.f=je?Je:function(Qe,ti){if(Qe=We(Qe),ti=qe(ti,!0),Ze)try{return Je(Qe,ti)}catch{}if(Ke(Qe,ti))return Xe(!ze.f.call(Qe,ti),Qe[ti])}},function(t,r,Ve){var je=Ve(13);t.exports=function(ze,Xe){if(!je(ze))return ze;var We,qe;if(Xe&&typeof(We=ze.toString)=="function"&&!je(qe=We.call(ze))||typeof(We=ze.valueOf)=="function"&&!je(qe=We.call(ze))||!Xe&&typeof(We=ze.toString)=="function"&&!je(qe=We.call(ze)))return qe;throw TypeError("Can't convert object to primitive value")}},function(t,r,Ve){var je=Ve(81),ze=Ve(58),Xe=je("keys");t.exports=function(We){return Xe[We]||(Xe[We]=ze(We))}},function(t,r){var Ve=0,je=Math.random();t.exports=function(ze){return"Symbol("+String(ze===void 0?"":ze)+")_"+(++Ve+je).toString(36)}},function(t,r,Ve){var je=Ve(42);t.exports=Array.isArray||function(ze){return je(ze)=="Array"}},function(t,r,Ve){var je,ze=Ve(18),Xe=Ve(188),We=Ve(84),qe=Ve(45),Ke=Ve(189),Ze=Ve(116),Je=Ve(57),Qe=Je("IE_PROTO"),ti=function(){},ni=function(ii){return"<script>"+ii+"<\/script>"},ri=function(){try{je=document.domain&&new ActiveXObject("htmlfile")}catch{}var ii,ei;ri=je?function(oi){oi.write(ni("")),oi.close();var si=oi.parentWindow.Object;return oi=null,si}(je):((ei=Ze("iframe")).style.display="none",Ke.appendChild(ei),ei.src="javascript:",(ii=ei.contentWindow.document).open(),ii.write(ni("document.F=Object")),ii.close(),ii.F);for(var St=We.length;St--;)delete ri.prototype[We[St]];return ri()};qe[Qe]=!0,t.exports=Object.create||function(ii,ei){var St;return ii!==null?(ti.prototype=ze(ii),St=new ti,ti.prototype=null,St[Qe]=ii):St=ri(),ei===void 0?St:Xe(St,ei)}},function(t,r,Ve){var je=Ve(121),ze=Ve(84);t.exports=Object.keys||function(Xe){return je(Xe,ze)}},function(t,r,Ve){var je=Ve(15).f,ze=Ve(14),Xe=Ve(5)("toStringTag");t.exports=function(We,qe,Ke){We&&!ze(We=Ke?We:We.prototype,Xe)&&je(We,Xe,{configurable:!0,value:qe})}},function(t,r,Ve){var je=Ve(8),ze=Ve(5),Xe=Ve(129),We=ze("species");t.exports=function(qe){return Xe>=51||!je(function(){var Ke=[];return(Ke.constructor={})[We]=function(){return{foo:1}},Ke[qe](Boolean).foo!==1})}},function(t,r,Ve){var je=Ve(4),ze=Ve(122).indexOf,Xe=Ve(48),We=Ve(28),qe=[].indexOf,Ke=!!qe&&1/[1].indexOf(1,-0)<0,Ze=Xe("indexOf"),Je=We("indexOf",{ACCESSORS:!0,1:0});je({target:"Array",proto:!0,forced:Ke||!Ze||!Je},{indexOf:function(Qe){return Ke?qe.apply(this,arguments)||0:ze(this,Qe,arguments.length>1?arguments[1]:void 0)}})},function(t,r,Ve){var je=Ve(16),ze=Ve(15).f,Xe=Function.prototype,We=Xe.toString,qe=/^\s*function ([^ (]*)/;je&&!("name"in Xe)&&ze(Xe,"name",{configurable:!0,get:function(){try{return We.call(this).match(qe)[1]}catch{return""}}})},function(t,r,Ve){var je=Ve(25),ze=Ve(18),Xe=Ve(8),We=Ve(136),qe=RegExp.prototype,Ke=qe.toString,Ze=Xe(function(){return Ke.call({source:"a",flags:"b"})!="/a/b"}),Je=Ke.name!="toString";(Ze||Je)&&je(RegExp.prototype,"toString",function(){var Qe=ze(this),ti=String(Qe.source),ni=Qe.flags;return"/"+ti+"/"+String(ni===void 0&&Qe instanceof RegExp&&!("flags"in qe)?We.call(Qe):ni)},{unsafe:!0})},function(t,r,Ve){Ve(31),Ve(32),Ve(33),Ve(19),Ve(138),Ve(20),Ve(66),Ve(22),Ve(23);var je,ze=this&&this.__extends||(je=function(Ze,Je){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Qe,ti){Qe.__proto__=ti}||function(Qe,ti){for(var ni in ti)ti.hasOwnProperty(ni)&&(Qe[ni]=ti[ni])})(Ze,Je)},function(Ze,Je){function Qe(){this.constructor=Ze}je(Ze,Je),Ze.prototype=Je===null?Object.create(Je):(Qe.prototype=Je.prototype,new Qe)}),Xe=this&&this.__values||function(Ze){var Je=typeof Symbol=="function"&&Symbol.iterator,Qe=Je&&Ze[Je],ti=0;if(Qe)return Qe.call(Ze);if(Ze&&typeof Ze.length=="number")return{next:function(){return Ze&&ti>=Ze.length&&(Ze=void 0),{value:Ze&&Ze[ti++],done:!Ze}}};throw new TypeError(Je?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var We=Ve(2),qe=Ve(1),Ke=function(Ze){function Je(Qe,ti){var ni=Ze.call(this,Qe)||this;return ni._writerOptions=We.applyDefaults(ti,{format:"object",wellFormed:!1,group:!1,verbose:!1}),ni}return ze(Je,Ze),Je.prototype.serialize=function(Qe){return this._currentList=[],this._currentIndex=0,this._listRegister=[this._currentList],this.serializeNode(Qe,this._writerOptions.wellFormed),this._process(this._currentList,this._writerOptions)},Je.prototype._process=function(Qe,ti){var ni,ri,ii,ei,St,oi,si;if(Qe.length===0)return{};for(var ai={},ui=!1,hi=0,ci=0,mi=0,di=0,pi=0;pi<Qe.length;pi++){var yi=Qe[pi];switch(Xi=Object.keys(yi)[0]){case"@":continue;case"#":hi++;break;case"!":ci++;break;case"?":mi++;break;case"$":di++;break;default:ai[Xi]?ui=!0:ai[Xi]=!0}}var gi=this._getAttrKey(),_i=this._getNodeKey(qe.NodeType.Text),Ai=this._getNodeKey(qe.NodeType.Comment),ki=this._getNodeKey(qe.NodeType.ProcessingInstruction),vi=this._getNodeKey(qe.NodeType.CData);if(hi===1&&Qe.length===1&&We.isString(Qe[0]["#"]))return Qe[0]["#"];if(ui){var Mi={};for(pi=0;pi<Qe.length;pi++)if(yi=Qe[pi],(Xi=Object.keys(yi)[0])==="@"){var Di=yi["@"];(xi=Object.keys(Di)).length===1?Mi[gi+xi[0]]=Di[xi[0]]:Mi[gi]=yi["@"]}var Bi=[];for(pi=0;pi<Qe.length;pi++)switch(yi=Qe[pi],Xi=Object.keys(yi)[0]){case"@":break;case"#":Bi.push(((ni={})[_i]=yi["#"],ni));break;case"!":Bi.push(((ri={})[Ai]=yi["!"],ri));break;case"?":Bi.push(((ii={})[ki]=yi["?"],ii));break;case"$":Bi.push(((ei={})[vi]=yi.$,ei));break;default:if(($i=yi)[Xi].length!==0&&We.isArray($i[Xi][0])){for(var Pi=[],Fi=$i[Xi],Vi=0;Vi<Fi.length;Vi++)Pi.push(this._process(Fi[Vi],ti));Bi.push(((St={})[Xi]=Pi,St))}else ti.verbose?Bi.push(((oi={})[Xi]=[this._process($i[Xi],ti)],oi)):Bi.push(((si={})[Xi]=this._process($i[Xi],ti),si))}return Mi[_i]=Bi,Mi}var Ti=1,ji=1,Gi=1,Yi=1;for(Mi={},pi=0;pi<Qe.length;pi++){var Xi;switch(yi=Qe[pi],Xi=Object.keys(yi)[0]){case"@":Di=yi["@"];var xi=Object.keys(Di);if(ti.group&&xi.length!==1)Mi[gi]=Di;else for(var fi in Di)Mi[gi+fi]=Di[fi];break;case"#":Ti=this._processSpecItem(yi["#"],Mi,ti.group,_i,hi,Ti);break;case"!":ji=this._processSpecItem(yi["!"],Mi,ti.group,Ai,ci,ji);break;case"?":Gi=this._processSpecItem(yi["?"],Mi,ti.group,ki,mi,Gi);break;case"$":Yi=this._processSpecItem(yi.$,Mi,ti.group,vi,di,Yi);break;default:var $i;if(($i=yi)[Xi].length!==0&&We.isArray($i[Xi][0])){Pi=[],Fi=$i[Xi];for(var bi=0;bi<Fi.length;bi++)Pi.push(this._process(Fi[bi],ti));Mi[Xi]=Pi}else ti.verbose?Mi[Xi]=[this._process($i[Xi],ti)]:Mi[Xi]=this._process($i[Xi],ti)}}return Mi},Je.prototype._processSpecItem=function(Qe,ti,ni,ri,ii,ei){var St,oi;if(!ni&&We.isArray(Qe)&&ii+Qe.length>2)try{for(var si=Xe(Qe),ai=si.next();!ai.done;ai=si.next()){var ui=ai.value;ti[ri+(ei++).toString()]=ui}}catch(hi){St={error:hi}}finally{try{ai&&!ai.done&&(oi=si.return)&&oi.call(si)}finally{if(St)throw St.error}}else ti[ii>1?ri+(ei++).toString():ri]=Qe;return ei},Je.prototype.beginElement=function(Qe){var ti,ni,ri=[];if(this._currentList.length===0)this._currentList.push(((ti={})[Qe]=ri,ti));else{var ii=this._currentList[this._currentList.length-1];this._isElementNode(ii,Qe)?ii[Qe].length!==0&&We.isArray(ii[Qe][0])?ii[Qe].push(ri):ii[Qe]=[ii[Qe],ri]:this._currentList.push(((ni={})[Qe]=ri,ni))}this._currentIndex++,this._listRegister.length>this._currentIndex?this._listRegister[this._currentIndex]=ri:this._listRegister.push(ri),this._currentList=ri},Je.prototype.endElement=function(){this._currentList=this._listRegister[--this._currentIndex]},Je.prototype.attribute=function(Qe,ti){var ni,ri;if(this._currentList.length===0)this._currentList.push({"@":(ni={},ni[Qe]=ti,ni)});else{var ii=this._currentList[this._currentList.length-1];this._isAttrNode(ii)?ii["@"][Qe]=ti:this._currentList.push({"@":(ri={},ri[Qe]=ti,ri)})}},Je.prototype.comment=function(Qe){if(this._currentList.length===0)this._currentList.push({"!":Qe});else{var ti=this._currentList[this._currentList.length-1];this._isCommentNode(ti)?We.isArray(ti["!"])?ti["!"].push(Qe):ti["!"]=[ti["!"],Qe]:this._currentList.push({"!":Qe})}},Je.prototype.text=function(Qe){if(this._currentList.length===0)this._currentList.push({"#":Qe});else{var ti=this._currentList[this._currentList.length-1];this._isTextNode(ti)?We.isArray(ti["#"])?ti["#"].push(Qe):ti["#"]=[ti["#"],Qe]:this._currentList.push({"#":Qe})}},Je.prototype.instruction=function(Qe,ti){var ni=ti===""?Qe:Qe+" "+ti;if(this._currentList.length===0)this._currentList.push({"?":ni});else{var ri=this._currentList[this._currentList.length-1];this._isInstructionNode(ri)?We.isArray(ri["?"])?ri["?"].push(ni):ri["?"]=[ri["?"],ni]:this._currentList.push({"?":ni})}},Je.prototype.cdata=function(Qe){if(this._currentList.length===0)this._currentList.push({$:Qe});else{var ti=this._currentList[this._currentList.length-1];this._isCDATANode(ti)?We.isArray(ti.$)?ti.$.push(Qe):ti.$=[ti.$,Qe]:this._currentList.push({$:Qe})}},Je.prototype._isAttrNode=function(Qe){return"@"in Qe},Je.prototype._isTextNode=function(Qe){return"#"in Qe},Je.prototype._isCommentNode=function(Qe){return"!"in Qe},Je.prototype._isInstructionNode=function(Qe){return"?"in Qe},Je.prototype._isCDATANode=function(Qe){return"$"in Qe},Je.prototype._isElementNode=function(Qe,ti){return ti in Qe},Je.prototype._getAttrKey=function(){return this._builderOptions.convert.att},Je.prototype._getNodeKey=function(Qe){switch(Qe){case qe.NodeType.Comment:return this._builderOptions.convert.comment;case qe.NodeType.Text:return this._builderOptions.convert.text;case qe.NodeType.ProcessingInstruction:return this._builderOptions.convert.ins;case qe.NodeType.CData:return this._builderOptions.convert.cdata;default:throw new Error("Invalid node type.")}},Je}(Ve(50).BaseWriter);r.ObjectWriter=Ke},function(t,r,Ve){var je=Ve(4),ze=Ve(93);je({target:"RegExp",proto:!0,forced:/./.exec!==ze},{exec:ze})},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=function(){function ze(){this._items={},this._nullItems={}}return ze.prototype.set=function(Xe,We){Xe===null?this._nullItems[We]=!0:(this._items[Xe]||(this._items[Xe]={}),this._items[Xe][We]=!0)},ze.prototype.has=function(Xe,We){return Xe===null?this._nullItems[We]===!0:!!this._items[Xe]&&this._items[Xe][We]===!0},ze}();r.LocalNameSet=je},function(t,r,Ve){var je=this&&this.__read||function(Ke,Ze){var Je=typeof Symbol=="function"&&Ke[Symbol.iterator];if(!Je)return Ke;var Qe,ti,ni=Je.call(Ke),ri=[];try{for(;(Ze===void 0||Ze-- >0)&&!(Qe=ni.next()).done;)ri.push(Qe.value)}catch(ii){ti={error:ii}}finally{try{Qe&&!Qe.done&&(Je=ni.return)&&Je.call(ni)}finally{if(ti)throw ti.error}}return ri};Object.defineProperty(r,"__esModule",{value:!0});var ze=Ve(9),Xe=Ve(3),We=Ve(0),qe=function(){function Ke(){}return Object.defineProperty(Ke.prototype,"_eventListenerList",{get:function(){return this.__eventListenerList||(this.__eventListenerList=[])},enumerable:!0,configurable:!0}),Object.defineProperty(Ke.prototype,"_eventHandlerMap",{get:function(){return this.__eventHandlerMap||(this.__eventHandlerMap={})},enumerable:!0,configurable:!0}),Ke.prototype.addEventListener=function(Ze,Je,Qe){Qe===void 0&&(Qe={passive:!1,once:!1,capture:!1});var ti,ni=je(We.eventTarget_flattenMore(Qe),3),ri=ni[0],ii=ni[1],ei=ni[2];Je&&(ti=Xe.Guard.isEventListener(Je)?Je:{handleEvent:Je},We.eventTarget_addEventListener(this,{type:Ze,callback:ti,capture:ri,passive:ii,once:ei,removed:!1}))},Ke.prototype.removeEventListener=function(Ze,Je,Qe){Qe===void 0&&(Qe={capture:!1});var ti=We.eventTarget_flatten(Qe);if(Je)for(var ni=0;ni<this._eventListenerList.length;ni++){var ri=this._eventListenerList[ni];if(ri.type===Ze&&ri.capture===ti){if(Xe.Guard.isEventListener(Je)&&ri.callback===Je){We.eventTarget_removeEventListener(this,ri,ni);break}if(Je&&ri.callback.handleEvent===Je){We.eventTarget_removeEventListener(this,ri,ni);break}}}},Ke.prototype.dispatchEvent=function(Ze){if(Ze._dispatchFlag||!Ze._initializedFlag)throw new ze.InvalidStateError;return Ze._isTrusted=!1,We.event_dispatch(Ze,this)},Ke.prototype._getTheParent=function(Ze){return null},Ke}();r.EventTargetImpl=qe},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(Ke,Ze){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Je,Qe){Je.__proto__=Qe}||function(Je,Qe){for(var ti in Qe)Qe.hasOwnProperty(ti)&&(Je[ti]=Qe[ti])})(Ke,Ze)},function(Ke,Ze){function Je(){this.constructor=Ke}je(Ke,Ze),Ke.prototype=Ze===null?Object.create(Ze):(Je.prototype=Ze.prototype,new Je)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(34),We=Ve(0),qe=function(Ke){function Ze(Je){var Qe=Ke.call(this)||this;return Qe._data=Je,Qe}return ze(Ze,Ke),Object.defineProperty(Ze.prototype,"data",{get:function(){return this._data},set:function(Je){We.characterData_replaceData(this,0,this._data.length,Je)},enumerable:!0,configurable:!0}),Object.defineProperty(Ze.prototype,"length",{get:function(){return this._data.length},enumerable:!0,configurable:!0}),Ze.prototype.substringData=function(Je,Qe){return We.characterData_substringData(this,Je,Qe)},Ze.prototype.appendData=function(Je){return We.characterData_replaceData(this,this._data.length,0,Je)},Ze.prototype.insertData=function(Je,Qe){We.characterData_replaceData(this,Je,0,Qe)},Ze.prototype.deleteData=function(Je,Qe){We.characterData_replaceData(this,Je,Qe,"")},Ze.prototype.replaceData=function(Je,Qe,ti){We.characterData_replaceData(this,Je,Qe,ti)},Object.defineProperty(Ze.prototype,"previousElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(Ze.prototype,"nextElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),Ze.prototype.before=function(){for(var Je=[],Qe=0;Qe<arguments.length;Qe++)Je[Qe]=arguments[Qe];throw new Error("Mixin: ChildNode not implemented.")},Ze.prototype.after=function(){for(var Je=[],Qe=0;Qe<arguments.length;Qe++)Je[Qe]=arguments[Qe];throw new Error("Mixin: ChildNode not implemented.")},Ze.prototype.replaceWith=function(){for(var Je=[],Qe=0;Qe<arguments.length;Qe++)Je[Qe]=arguments[Qe];throw new Error("Mixin: ChildNode not implemented.")},Ze.prototype.remove=function(){throw new Error("Mixin: ChildNode not implemented.")},Ze}(Xe.NodeImpl);r.CharacterDataImpl=qe},function(t,r,Ve){var je=this&&this.__values||function(ii){var ei=typeof Symbol=="function"&&Symbol.iterator,St=ei&&ii[ei],oi=0;if(St)return St.call(ii);if(ii&&typeof ii.length=="number")return{next:function(){return ii&&oi>=ii.length&&(ii=void 0),{value:ii&&ii[oi++],done:!ii}}};throw new TypeError(ei?"Object is not iterable.":"Symbol.iterator is not defined.")},ze=this&&this.__read||function(ii,ei){var St=typeof Symbol=="function"&&ii[Symbol.iterator];if(!St)return ii;var oi,si,ai=St.call(ii),ui=[];try{for(;(ei===void 0||ei-- >0)&&!(oi=ai.next()).done;)ui.push(oi.value)}catch(hi){si={error:hi}}finally{try{oi&&!oi.done&&(St=ai.return)&&St.call(ai)}finally{if(si)throw si.error}}return ui},Xe=this&&this.__spread||function(){for(var ii=[],ei=0;ei<arguments.length;ei++)ii=ii.concat(ze(arguments[ei]));return ii};Object.defineProperty(r,"__esModule",{value:!0});var We=Ve(6),qe=Ve(3),Ke=Ve(2),Ze=Ve(17),Je=Ve(51);function Qe(ii){We.dom.window._signalSlots.add(ii),Je.observer_queueAMutationObserverMicrotask()}function ti(ii,ei){ei===void 0&&(ei=!1);var St=qe.Cast.asNode(ii)._parent;if(St===null)return null;var oi=St._shadowRoot||null;if(oi===null||ei&&oi._mode!=="open")return null;for(var si=Ze.tree_getFirstDescendantNode(oi,!1,!0,function(ai){return qe.Guard.isSlot(ai)});si!==null;){if(si._name===ii._name)return si;si=Ze.tree_getNextDescendantNode(oi,si,!1,!0,function(ai){return qe.Guard.isSlot(ai)})}return null}function ni(ii){var ei,St,oi=[],si=Ze.tree_rootNode(ii);if(!qe.Guard.isShadowRoot(si))return oi;var ai=si._host;try{for(var ui=je(ai._children),hi=ui.next();!hi.done;hi=ui.next()){var ci=hi.value;qe.Guard.isSlotable(ci)&&ti(ci)===ii&&oi.push(ci)}}catch(mi){ei={error:mi}}finally{try{hi&&!hi.done&&(St=ui.return)&&St.call(ui)}finally{if(ei)throw ei.error}}return oi}function ri(ii){var ei,St,oi=ni(ii);if(oi.length===ii._assignedNodes.length){for(var si=!0,ai=0;ai<oi.length;ai++)if(oi[ai]!==ii._assignedNodes[ai]){si=!1;break}si||Qe(ii)}ii._assignedNodes=oi;try{for(var ui=je(oi),hi=ui.next();!hi.done;hi=ui.next())hi.value._assignedSlot=ii}catch(ci){ei={error:ci}}finally{try{hi&&!hi.done&&(St=ui.return)&&St.call(ui)}finally{if(ei)throw ei.error}}}r.shadowTree_signalASlotChange=Qe,r.shadowTree_isConnected=function(ii){return qe.Guard.isDocumentNode(Ze.tree_rootNode(ii,!0))},r.shadowTree_isAssigned=function(ii){return ii._assignedSlot!==null},r.shadowTree_findASlot=ti,r.shadowTree_findSlotables=ni,r.shadowTree_findFlattenedSlotables=function ii(ei){var St,oi,si,ai,ui=[],hi=Ze.tree_rootNode(ei);if(!qe.Guard.isShadowRoot(hi))return ui;var ci=ni(ei);if(Ke.isEmpty(ci))try{for(var mi=je(ei._children),di=mi.next();!di.done;di=mi.next()){var pi=di.value;qe.Guard.isSlotable(pi)&&ci.push(pi)}}catch(ki){St={error:ki}}finally{try{di&&!di.done&&(oi=mi.return)&&oi.call(mi)}finally{if(St)throw St.error}}try{for(var yi=je(ci),gi=yi.next();!gi.done;gi=yi.next()){var _i=gi.value;if(qe.Guard.isSlot(_i)&&qe.Guard.isShadowRoot(Ze.tree_rootNode(_i))){var Ai=ii(_i);ui.push.apply(ui,Xe(Ai))}else ui.push(_i)}}catch(ki){si={error:ki}}finally{try{gi&&!gi.done&&(ai=yi.return)&&ai.call(yi)}finally{if(si)throw si.error}}return ui},r.shadowTree_assignSlotables=ri,r.shadowTree_assignSlotablesForATree=function(ii){for(var ei=Ze.tree_getFirstDescendantNode(ii,!0,!1,function(St){return qe.Guard.isSlot(St)});ei!==null;)ri(ei),ei=Ze.tree_getNextDescendantNode(ii,ei,!0,!1,function(St){return qe.Guard.isSlot(St)})},r.shadowTree_assignASlot=function(ii){var ei=ti(ii);ei!==null&&ri(ei)}},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=/[a-z]([\0-\t\x2D\._a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*-([\0-\t\x2D\._a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*/,ze=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]),Xe=new Set(["article","aside","blockquote","body","div","footer","h1","h2","h3","h4","h5","h6","header","main","nav","p","section","span"]),We=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),qe=new Set(["article","aside","blockquote","body","div","footer","h1","h2","h3","h4","h5","h6","header","main","nav","p","section","span"]);r.customElement_isValidCustomElementName=function(Ke){return!!je.test(Ke)&&!ze.has(Ke)},r.customElement_isValidElementName=function(Ke){return Xe.has(Ke)},r.customElement_isVoidElementName=function(Ke){return We.has(Ke)},r.customElement_isValidShadowHostName=function(Ke){return qe.has(Ke)},r.customElement_enqueueACustomElementUpgradeReaction=function(Ke,Ze){},r.customElement_enqueueACustomElementCallbackReaction=function(Ke,Ze,Je){},r.customElement_upgrade=function(Ke,Ze){},r.customElement_tryToUpgrade=function(Ke){},r.customElement_lookUpACustomElementDefinition=function(Ke,Ze,Je,Qe){return null}},function(t,r,Ve){Ve(4)({target:"String",proto:!0},{repeat:Ve(260)})},function(t,r,Ve){Ve(279),Ve(68),Ve(179),Ve(94),Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(109),ze=function(){function Xe(We){this._builderOptions=We,We.parser&&Object.assign(this,We.parser)}return Xe.prototype._docType=function(We,qe,Ke,Ze){return We.dtd({name:qe,pubID:Ke,sysID:Ze})},Xe.prototype._comment=function(We,qe){return We.com(qe)},Xe.prototype._text=function(We,qe){return We.txt(qe)},Xe.prototype._instruction=function(We,qe,Ke){return We.ins(qe,Ke)},Xe.prototype._cdata=function(We,qe){return We.dat(qe)},Xe.prototype._element=function(We,qe,Ke){return qe===void 0?We.ele(Ke):We.ele(qe,Ke)},Xe.prototype._attribute=function(We,qe,Ke,Ze){return qe===void 0?We.att(Ke,Ze):We.att(qe,Ke,Ze)},Xe.prototype._sanitize=function(We){return je.sanitizeInput(We,this._builderOptions.invalidCharReplacement)},Xe.prototype._decodeText=function(We){return We==null?We:We.replace(/&(quot|amp|apos|lt|gt);/g,function(qe,Ke){return Xe._entityTable[Ke]}).replace(/&#(?:x([a-fA-F0-9]+)|([0-9]+));/g,function(qe,Ke,Ze){return String.fromCodePoint(parseInt(Ke||Ze,Ke?16:10))})},Xe.prototype._decodeAttributeValue=function(We){return this._decodeText(We)},Xe.prototype.parse=function(We,qe){return this._parse(We,qe)},Xe.prototype.docType=function(We,qe,Ke,Ze){return this._docType(We,qe,Ke,Ze)},Xe.prototype.comment=function(We,qe){return this._comment(We,qe)},Xe.prototype.text=function(We,qe){return this._text(We,qe)},Xe.prototype.instruction=function(We,qe,Ke){return this._instruction(We,qe,Ke)},Xe.prototype.cdata=function(We,qe){return this._cdata(We,qe)},Xe.prototype.element=function(We,qe,Ke){return this._element(We,qe,Ke)},Xe.prototype.attribute=function(We,qe,Ke,Ze){return this._attribute(We,qe,Ke,Ze)},Xe.prototype.sanitize=function(We){return this._sanitize(We)},Xe._entityTable={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"},Xe}();r.BaseReader=ze},function(t,r,Ve){var je=Ve(39);t.exports=je.DEFAULT=new je({include:[Ve(54)],explicit:[Ve(300),Ve(301),Ve(302)]})},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(185);r.XMLBuilderImpl=je.XMLBuilderImpl;var ze=Ve(305);r.XMLBuilderCBImpl=ze.XMLBuilderCBImpl;var Xe=Ve(183);r.builder=Xe.builder,r.create=Xe.create,r.fragment=Xe.fragment,r.convert=Xe.convert;var We=Ve(310);r.createCB=We.createCB,r.fragmentCB=We.fragmentCB},function(t,r){var Ve;Ve=function(){return this}();try{Ve=Ve||new Function("return this")()}catch{typeof window=="object"&&(Ve=window)}t.exports=Ve},function(t,r,Ve){var je={}.propertyIsEnumerable,ze=Object.getOwnPropertyDescriptor,Xe=ze&&!je.call({1:2},1);r.f=Xe?function(We){var qe=ze(this,We);return!!qe&&qe.enumerable}:je},function(t,r,Ve){var je=Ve(11),ze=Ve(21);t.exports=function(Xe,We){try{ze(je,Xe,We)}catch{je[Xe]=We}return We}},function(t,r,Ve){var je=Ve(44),ze=Ve(118);(t.exports=function(Xe,We){return ze[Xe]||(ze[Xe]=We!==void 0?We:{})})("versions",[]).push({version:"3.6.5",mode:je?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},function(t,r,Ve){var je=Ve(121),ze=Ve(84).concat("length","prototype");r.f=Object.getOwnPropertyNames||function(Xe){return je(Xe,ze)}},function(t,r,Ve){var je=Ve(47),ze=Math.max,Xe=Math.min;t.exports=function(We,qe){var Ke=je(We);return Ke<0?ze(Ke+qe,0):Xe(Ke,qe)}},function(t,r){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,r){r.f=Object.getOwnPropertySymbols},function(t,r,Ve){var je=Ve(8);t.exports=!!Object.getOwnPropertySymbols&&!je(function(){return!String(Symbol())})},function(t,r,Ve){var je=Ve(127);t.exports=function(ze,Xe,We){if(je(ze),Xe===void 0)return ze;switch(We){case 0:return function(){return ze.call(Xe)};case 1:return function(qe){return ze.call(Xe,qe)};case 2:return function(qe,Ke){return ze.call(Xe,qe,Ke)};case 3:return function(qe,Ke,Ze){return ze.call(Xe,qe,Ke,Ze)}}return function(){return ze.apply(Xe,arguments)}}},function(t,r,Ve){var je=Ve(4),ze=Ve(195),Xe=Ve(132),We=Ve(133),qe=Ve(62),Ke=Ve(21),Ze=Ve(25),Je=Ve(5),Qe=Ve(44),ti=Ve(49),ni=Ve(131),ri=ni.IteratorPrototype,ii=ni.BUGGY_SAFARI_ITERATORS,ei=Je("iterator"),St=function(){return this};t.exports=function(oi,si,ai,ui,hi,ci,mi){ze(ai,si,ui);var di,pi,yi,gi=function(Bi){if(Bi===hi&&Mi)return Mi;if(!ii&&Bi in ki)return ki[Bi];switch(Bi){case"keys":case"values":case"entries":return function(){return new ai(this,Bi)}}return function(){return new ai(this)}},_i=si+" Iterator",Ai=!1,ki=oi.prototype,vi=ki[ei]||ki["@@iterator"]||hi&&ki[hi],Mi=!ii&&vi||gi(hi),Di=si=="Array"&&ki.entries||vi;if(Di&&(di=Xe(Di.call(new oi)),ri!==Object.prototype&&di.next&&(Qe||Xe(di)===ri||(We?We(di,ri):typeof di[ei]!="function"&&Ke(di,ei,St)),qe(di,_i,!0,!0),Qe&&(ti[_i]=St))),hi=="values"&&vi&&vi.name!=="values"&&(Ai=!0,Mi=function(){return vi.call(this)}),Qe&&!mi||ki[ei]===Mi||Ke(ki,ei,Mi),ti[si]=Mi,hi)if(pi={values:gi("values"),keys:ci?Mi:gi("keys"),entries:gi("entries")},mi)for(yi in pi)(ii||Ai||!(yi in ki))&&Ze(ki,yi,pi[yi]);else je({target:si,proto:!0,forced:ii||Ai},pi);return pi}},function(t,r,Ve){var je=Ve(4),ze=Ve(13),Xe=Ve(59),We=Ve(83),qe=Ve(26),Ke=Ve(24),Ze=Ve(134),Je=Ve(5),Qe=Ve(63),ti=Ve(28),ni=Qe("slice"),ri=ti("slice",{ACCESSORS:!0,0:0,1:2}),ii=Je("species"),ei=[].slice,St=Math.max;je({target:"Array",proto:!0,forced:!ni||!ri},{slice:function(oi,si){var ai,ui,hi,ci=Ke(this),mi=qe(ci.length),di=We(oi,mi),pi=We(si===void 0?mi:si,mi);if(Xe(ci)&&(typeof(ai=ci.constructor)!="function"||ai!==Array&&!Xe(ai.prototype)?ze(ai)&&(ai=ai[ii])===null&&(ai=void 0):ai=void 0,ai===Array||ai===void 0))return ei.call(ci,di,pi);for(ui=new(ai===void 0?Array:ai)(St(pi-di,0)),hi=0;di<pi;di++,hi++)di in ci&&Ze(ui,hi,ci[di]);return ui.length=hi,ui}})},function(t,r,Ve){var je={};je[Ve(5)("toStringTag")]="z",t.exports=String(je)==="[object z]"},function(t,r,Ve){Ve(19),Ve(138),Ve(20),Ve(92),Ve(22),Ve(23),Object.defineProperty(r,"__esModule",{value:!0}),r.DefaultBuilderOptions={version:"1.0",encoding:void 0,standalone:void 0,keepNullNodes:!1,keepNullAttributes:!1,ignoreConverters:!1,skipWhitespaceOnlyText:!0,convert:{att:"@",ins:"?",text:"#",cdata:"$",comment:"!"},defaultNamespace:{ele:void 0,att:void 0},namespaceAlias:{html:"http://www.w3.org/1999/xhtml",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"},invalidCharReplacement:void 0,parser:void 0},r.XMLBuilderOptionKeys=new Set(Object.keys(r.DefaultBuilderOptions)),r.DefaultXMLBuilderCBOptions={format:"xml",wellFormed:!1,prettyPrint:!1,indent:"  ",newline:`
`,offset:0,width:0,allowEmptyTags:!1,spaceBeforeSlash:!1,keepNullNodes:!1,keepNullAttributes:!1,ignoreConverters:!1,convert:{att:"@",ins:"?",text:"#",cdata:"$",comment:"!"},defaultNamespace:{ele:void 0,att:void 0},namespaceAlias:{html:"http://www.w3.org/1999/xhtml",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"}}},function(t,r,Ve){var je=Ve(139),ze=Ve(143);t.exports=je("Set",function(Xe){return function(){return Xe(this,arguments.length?arguments[0]:void 0)}},ze)},function(t,r,Ve){var je,ze,Xe=Ve(136),We=Ve(221),qe=RegExp.prototype.exec,Ke=String.prototype.replace,Ze=qe,Je=(je=/a/,ze=/b*/g,qe.call(je,"a"),qe.call(ze,"a"),je.lastIndex!==0||ze.lastIndex!==0),Qe=We.UNSUPPORTED_Y||We.BROKEN_CARET,ti=/()??/.exec("")[1]!==void 0;(Je||ti||Qe)&&(Ze=function(ni){var ri,ii,ei,St,oi=this,si=Qe&&oi.sticky,ai=Xe.call(oi),ui=oi.source,hi=0,ci=ni;return si&&((ai=ai.replace("y","")).indexOf("g")===-1&&(ai+="g"),ci=String(ni).slice(oi.lastIndex),oi.lastIndex>0&&(!oi.multiline||oi.multiline&&ni[oi.lastIndex-1]!==`
`)&&(ui="(?: "+ui+")",ci=" "+ci,hi++),ii=new RegExp("^(?:"+ui+")",ai)),ti&&(ii=new RegExp("^"+ui+"$(?!\\s)",ai)),Je&&(ri=oi.lastIndex),ei=qe.call(si?ii:oi,ci),si?ei?(ei.input=ei.input.slice(hi),ei[0]=ei[0].slice(hi),ei.index=oi.lastIndex,oi.lastIndex+=ei[0].length):oi.lastIndex=0:Je&&ei&&(oi.lastIndex=oi.global?ei.index+ei[0].length:ri),ti&&ei&&ei.length>1&&Ke.call(ei[0],ii,function(){for(St=1;St<arguments.length-2;St++)arguments[St]===void 0&&(ei[St]=void 0)}),ei}),t.exports=Ze},function(t,r,Ve){var je=Ve(225),ze=Ve(18),Xe=Ve(27),We=Ve(26),qe=Ve(47),Ke=Ve(35),Ze=Ve(226),Je=Ve(227),Qe=Math.max,ti=Math.min,ni=Math.floor,ri=/\$([$&'`]|\d\d?|<[^>]*>)/g,ii=/\$([$&'`]|\d\d?)/g;je("replace",2,function(ei,St,oi,si){var ai=si.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,ui=si.REPLACE_KEEPS_$0,hi=ai?"$":"$0";return[function(mi,di){var pi=Ke(this),yi=mi==null?void 0:mi[ei];return yi!==void 0?yi.call(mi,pi,di):St.call(String(pi),mi,di)},function(mi,di){if(!ai&&ui||typeof di=="string"&&di.indexOf(hi)===-1){var pi=oi(St,mi,this,di);if(pi.done)return pi.value}var yi=ze(mi),gi=String(this),_i=typeof di=="function";_i||(di=String(di));var Ai=yi.global;if(Ai){var ki=yi.unicode;yi.lastIndex=0}for(var vi=[];;){var Mi=Je(yi,gi);if(Mi===null||(vi.push(Mi),!Ai))break;String(Mi[0])===""&&(yi.lastIndex=Ze(gi,We(yi.lastIndex),ki))}for(var Di,Bi="",Pi=0,Fi=0;Fi<vi.length;Fi++){Mi=vi[Fi];for(var Vi=String(Mi[0]),Ti=Qe(ti(qe(Mi.index),gi.length),0),ji=[],Gi=1;Gi<Mi.length;Gi++)ji.push((Di=Mi[Gi])===void 0?Di:String(Di));var Yi=Mi.groups;if(_i){var Xi=[Vi].concat(ji,Ti,gi);Yi!==void 0&&Xi.push(Yi);var xi=String(di.apply(void 0,Xi))}else xi=ci(Vi,gi,Ti,ji,Yi,di);Ti>=Pi&&(Bi+=gi.slice(Pi,Ti)+xi,Pi=Ti+Vi.length)}return Bi+gi.slice(Pi)}];function ci(mi,di,pi,yi,gi,_i){var Ai=pi+mi.length,ki=yi.length,vi=ii;return gi!==void 0&&(gi=Xe(gi),vi=ri),St.call(_i,vi,function(Mi,Di){var Bi;switch(Di.charAt(0)){case"$":return"$";case"&":return mi;case"`":return di.slice(0,pi);case"'":return di.slice(Ai);case"<":Bi=gi[Di.slice(1,-1)];break;default:var Pi=+Di;if(Pi===0)return Mi;if(Pi>ki){var Fi=ni(Pi/10);return Fi===0?Mi:Fi<=ki?yi[Fi-1]===void 0?Di.charAt(1):yi[Fi-1]+Di.charAt(1):Mi}Bi=yi[Pi-1]}return Bi===void 0?"":Bi})}})},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=function(){function ze(){this._items={},this._nullItems=[]}return ze.prototype.copy=function(){var Xe=new ze;for(var We in this._items)Xe._items[We]=this._items[We].slice(0);return Xe._nullItems=this._nullItems.slice(0),Xe},ze.prototype.get=function(Xe,We){var qe=We===null?this._nullItems:this._items[We]||null;if(qe===null)return null;for(var Ke=null,Ze=0;Ze<qe.length;Ze++)if((Ke=qe[Ze])===Xe)return Ke;return Ke},ze.prototype.has=function(Xe,We){var qe=We===null?this._nullItems:this._items[We]||null;return qe!==null&&qe.indexOf(Xe)!==-1},ze.prototype.hasPrefix=function(Xe){if(this._nullItems.indexOf(Xe)!==-1)return!0;for(var We in this._items)if(this._items[We].indexOf(Xe)!==-1)return!0;return!1},ze.prototype.set=function(Xe,We){var qe=We===null?this._nullItems:this._items[We]||null;We!==null&&qe===null?this._items[We]=[Xe]:qe.push(Xe)},ze}();r.NamespacePrefixMap=je},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0}),r.Surrogate=/[\uD800-\uDFFF]/,r.ScalarValue=/[\uD800-\uDFFF]/,r.NonCharacter=/[\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]/,r.ASCIICodePoint=/[\u0000-\u007F]/,r.ASCIITabOrNewLine=/[\t\n\r]/,r.ASCIIWhiteSpace=/[\t\n\f\r ]/,r.C0Control=/[\u0000-\u001F]/,r.C0ControlOrSpace=/[\u0000-\u001F ]/,r.Control=/[\u0000-\u001F\u007F-\u009F]/,r.ASCIIDigit=/[0-9]/,r.ASCIIUpperHexDigit=/[0-9A-F]/,r.ASCIILowerHexDigit=/[0-9a-f]/,r.ASCIIHexDigit=/[0-9A-Fa-f]/,r.ASCIIUpperAlpha=/[A-Z]/,r.ASCIILowerAlpha=/[a-z]/,r.ASCIIAlpha=/[A-Za-z]/,r.ASCIIAlphanumeric=/[0-9A-Za-z]/},function(t,r,Ve){var je=this&&this.__values||function(di){var pi=typeof Symbol=="function"&&Symbol.iterator,yi=pi&&di[pi],gi=0;if(yi)return yi.call(di);if(di&&typeof di.length=="number")return{next:function(){return di&&gi>=di.length&&(di=void 0),{value:di&&di[gi++],done:!di}}};throw new TypeError(pi?"Object is not iterable.":"Symbol.iterator is not defined.")},ze=this&&this.__read||function(di,pi){var yi=typeof Symbol=="function"&&di[Symbol.iterator];if(!yi)return di;var gi,_i,Ai=yi.call(di),ki=[];try{for(;(pi===void 0||pi-- >0)&&!(gi=Ai.next()).done;)ki.push(gi.value)}catch(vi){_i={error:vi}}finally{try{gi&&!gi.done&&(yi=Ai.return)&&yi.call(Ai)}finally{if(_i)throw _i.error}}return ki},Xe=this&&this.__spread||function(){for(var di=[],pi=0;pi<arguments.length;pi++)di=di.concat(ze(arguments[pi]));return di};Object.defineProperty(r,"__esModule",{value:!0});var We=Ve(6),qe=Ve(1),Ke=Ve(3),Ze=Ve(171),Je=Ve(104),Qe=Ve(9),ti=Ve(17),ni=Ve(72),ri=Ve(30);function ii(di,pi){pi===void 0&&(pi=void 0),pi===void 0&&(pi=null);var yi=ei(di,pi,new Date,{});return yi._isTrusted=!0,yi}function ei(di,pi,yi,gi){var _i=new di("");return _i._initializedFlag=!0,_i._timeStamp=yi.getTime(),Object.assign(_i,gi),We.dom.features.steps&&ri.dom_runEventConstructingSteps(_i),_i}function St(di,pi,yi,gi){var _i,Ai,ki,vi;yi===void 0&&(yi=!1),gi===void 0&&(gi={value:!1});var Mi=!1;di._dispatchFlag=!0;var Di=pi;if(yi){var Bi=pi._associatedDocument;Ke.Guard.isDocumentNode(Bi)&&(Di=Bi)}var Pi=null,Fi=ti.tree_retarget(di._relatedTarget,pi);if(pi!==Fi||pi===di._relatedTarget){var Vi=[];try{for(var Ti=je(di._touchTargetList),ji=Ti.next();!ji.done;ji=Ti.next()){var Gi=ji.value;Vi.push(ti.tree_retarget(Gi,pi))}}catch(Ji){_i={error:Ji}}finally{try{ji&&!ji.done&&(Ai=Ti.return)&&Ai.call(Ti)}finally{if(_i)throw _i.error}}oi(di,pi,Di,Fi,Vi,!1);var Yi=Ke.Guard.isMouseEvent(di)&&di._type==="click";Yi&&pi._activationBehavior!==void 0&&(Pi=pi);for(var Xi=Ke.Guard.isSlotable(pi)&&ni.shadowTree_isAssigned(pi)?pi:null,xi=!1,fi=pi._getTheParent(di);fi!==null&&Ke.Guard.isNode(fi);){if(Xi!==null){if(!Ke.Guard.isSlot(fi))throw new Error("Parent node of a slotable should be a slot.");Xi=null;var $i=ti.tree_rootNode(fi,!0);Ke.Guard.isShadowRoot($i)&&$i._mode==="closed"&&(xi=!0)}Ke.Guard.isSlotable(fi)&&ni.shadowTree_isAssigned(fi)&&(Xi=fi),Fi=ti.tree_retarget(di._relatedTarget,fi),Vi=[];try{for(var bi=(ki=void 0,je(di._touchTargetList)),Ci=bi.next();!Ci.done;Ci=bi.next())Gi=Ci.value,Vi.push(ti.tree_retarget(Gi,fi))}catch(Ji){ki={error:Ji}}finally{try{Ci&&!Ci.done&&(vi=bi.return)&&vi.call(bi)}finally{if(ki)throw ki.error}}Ke.Guard.isWindow(fi)||Ke.Guard.isNode(fi)&&Ke.Guard.isNode(pi)&&ti.tree_isAncestorOf(ti.tree_rootNode(pi,!0),fi,!0,!0)?(Yi&&di._bubbles&&Pi===null&&fi._activationBehavior&&(Pi=fi),oi(di,fi,null,Fi,Vi,xi)):fi===Fi?fi=null:(pi=fi,Yi&&Pi===null&&pi._activationBehavior&&(Pi=pi),oi(di,fi,pi,Fi,Vi,xi)),fi!==null&&(fi=fi._getTheParent(di)),xi=!1}for(var Ei=null,Si=di._path,zi=Si.length-1;zi>=0;zi--)if((Ui=Si[zi]).shadowAdjustedTarget!==null){Ei=Ui;break}if(Ei!==null)if(Ke.Guard.isNode(Ei.shadowAdjustedTarget)&&Ke.Guard.isShadowRoot(ti.tree_rootNode(Ei.shadowAdjustedTarget,!0)))Mi=!0;else if(Ke.Guard.isNode(Ei.relatedTarget)&&Ke.Guard.isShadowRoot(ti.tree_rootNode(Ei.relatedTarget,!0)))Mi=!0;else for(var Ki=0;Ki<Ei.touchTargetList.length;Ki++){var Ui=Ei.touchTargetList[Ki];if(Ke.Guard.isNode(Ui)&&Ke.Guard.isShadowRoot(ti.tree_rootNode(Ui,!0))){Mi=!0;break}}for(Pi!==null&&Pi._legacyPreActivationBehavior!==void 0&&Pi._legacyPreActivationBehavior(di),zi=Si.length-1;zi>=0;zi--)(Ui=Si[zi]).shadowAdjustedTarget!==null?di._eventPhase=qe.EventPhase.AtTarget:di._eventPhase=qe.EventPhase.Capturing,si(Ui,di,"capturing",gi);for(zi=0;zi<Si.length;zi++){if((Ui=Si[zi]).shadowAdjustedTarget!==null)di._eventPhase=qe.EventPhase.AtTarget;else{if(!di._bubbles)continue;di._eventPhase=qe.EventPhase.Bubbling}si(Ui,di,"bubbling",gi)}}return di._eventPhase=qe.EventPhase.None,di._currentTarget=null,di._path=[],di._dispatchFlag=!1,di._stopPropagationFlag=!1,di._stopImmediatePropagationFlag=!1,Mi&&(di._target=null,di._relatedTarget=null,di._touchTargetList=[]),Pi!==null&&(di._canceledFlag||Pi._activationBehavior===void 0?Pi._legacyCanceledActivationBehavior!==void 0&&Pi._legacyCanceledActivationBehavior(di):Pi._activationBehavior(di)),!di._canceledFlag}function oi(di,pi,yi,gi,_i,Ai){var ki=!1;Ke.Guard.isNode(pi)&&Ke.Guard.isShadowRoot(ti.tree_rootNode(pi))&&(ki=!0);var vi=!1;Ke.Guard.isShadowRoot(pi)&&pi._mode==="closed"&&(vi=!0),di._path.push({invocationTarget:pi,invocationTargetInShadowTree:ki,shadowAdjustedTarget:yi,relatedTarget:gi,touchTargetList:_i,rootOfClosedTree:vi,slotInClosedTree:Ai})}function si(di,pi,yi,gi){gi===void 0&&(gi={value:!1});for(var _i=pi._path,Ai=-1,ki=0;ki<_i.length;ki++)if(_i[ki]===di){Ai=ki;break}if(Ai!==-1){var vi=_i[Ai];(vi.shadowAdjustedTarget!==null||Ai>0&&(vi=_i[Ai-1]).shadowAdjustedTarget!==null)&&(pi._target=vi.shadowAdjustedTarget)}if(pi._relatedTarget=di.relatedTarget,pi._touchTargetList=di.touchTargetList,!pi._stopPropagationFlag){pi._currentTarget=di.invocationTarget;var Mi=pi._currentTarget._eventListenerList,Di=new(Array.bind.apply(Array,Xe([void 0],Mi)));if(!ai(pi,Di,yi,di,gi)&&pi._isTrusted){var Bi=pi._type;Bi==="animationend"?pi._type="webkitAnimationEnd":Bi==="animationiteration"?pi._type="webkitAnimationIteration":Bi==="animationstart"?pi._type="webkitAnimationStart":Bi==="transitionend"&&(pi._type="webkitTransitionEnd"),ai(pi,Di,yi,di,gi),pi._type=Bi}}}function ai(di,pi,yi,gi,_i){_i===void 0&&(_i={value:!1});for(var Ai=!1,ki=0;ki<pi.length;ki++){var vi=pi[ki];if(!vi.removed){if(di._type!==vi.type||(Ai=!0,yi==="capturing"&&!vi.capture)||yi==="bubbling"&&vi.capture)continue;if(vi.once&&di._currentTarget!==null){for(var Mi=di._currentTarget,Di=-1,Bi=0;Bi<Mi._eventListenerList.length;Bi++)if(Mi._eventListenerList[Bi]===vi){Di=Bi;break}Di!==-1&&Mi._eventListenerList.splice(Di,1)}var Pi=void 0,Fi=void 0;Ke.Guard.isWindow(Pi)&&(Fi=Pi._currentEvent,gi.invocationTargetInShadowTree===!1&&(Pi._currentEvent=di)),vi.passive&&(di._inPassiveListenerFlag=!0);try{vi.callback.handleEvent.call(di._currentTarget,di)}catch{_i.value=!0}if(vi.passive&&(di._inPassiveListenerFlag=!1),Ke.Guard.isWindow(Pi)&&(Pi._currentEvent=Fi),di._stopImmediatePropagationFlag)return Ai}}return Ai}function ui(di,pi){return null}function hi(di,pi){return null}function ci(di,pi){}function mi(di,pi){}r.event_setTheCanceledFlag=function(di){di._cancelable&&!di._inPassiveListenerFlag&&(di._canceledFlag=!0)},r.event_initialize=function(di,pi,yi,gi){di._initializedFlag=!0,di._stopPropagationFlag=!1,di._stopImmediatePropagationFlag=!1,di._canceledFlag=!1,di._isTrusted=!1,di._target=null,di._type=pi,di._bubbles=yi,di._cancelable=gi},r.event_createAnEvent=ii,r.event_innerEventCreationSteps=ei,r.event_dispatch=St,r.event_appendToAnEventPath=oi,r.event_invoke=si,r.event_innerInvoke=ai,r.event_fireAnEvent=function(di,pi,yi,gi,_i){yi===void 0&&(yi=Je.EventImpl);var Ai=ii(yi);if(Ai._type=di,gi)for(var ki in gi)Ai[ki]=gi[ki];return St(Ai,pi,_i)},r.event_createLegacyEvent=function(di){var pi=null;switch(di.toLowerCase()){case"beforeunloadevent":case"compositionevent":break;case"customevent":pi=Ze.CustomEventImpl;break;case"devicemotionevent":case"deviceorientationevent":case"dragevent":break;case"event":case"events":pi=Je.EventImpl}if(pi===null)throw new Qe.NotSupportedError("Event constructor not found for interface "+di+".");var yi=new pi("");return yi._type="",yi._timeStamp=new Date().getTime(),yi._isTrusted=!1,yi._initializedFlag=!1,yi},r.event_getterEventHandlerIDLAttribute=function(di,pi){return null},r.event_setterEventHandlerIDLAttribute=function(di,pi,yi){},r.event_determineTheTargetOfAnEventHandler=ui,r.event_getTheCurrentValueOfAnEventHandler=hi,r.event_activateAnEventHandler=ci,r.event_deactivateAnEventHandler=mi},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(oi,si){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ai,ui){ai.__proto__=ui}||function(ai,ui){for(var hi in ui)ui.hasOwnProperty(hi)&&(ai[hi]=ui[hi])})(oi,si)},function(oi,si){function ai(){this.constructor=oi}je(oi,si),oi.prototype=si===null?Object.create(si):(ai.prototype=si.prototype,new ai)}),Xe=this&&this.__values||function(oi){var si=typeof Symbol=="function"&&Symbol.iterator,ai=si&&oi[si],ui=0;if(ai)return ai.call(oi);if(oi&&typeof oi.length=="number")return{next:function(){return oi&&ui>=oi.length&&(oi=void 0),{value:oi&&oi[ui++],done:!oi}}};throw new TypeError(si?"Object is not iterable.":"Symbol.iterator is not defined.")},We=this&&this.__read||function(oi,si){var ai=typeof Symbol=="function"&&oi[Symbol.iterator];if(!ai)return oi;var ui,hi,ci=ai.call(oi),mi=[];try{for(;(si===void 0||si-- >0)&&!(ui=ci.next()).done;)mi.push(ui.value)}catch(di){hi={error:di}}finally{try{ui&&!ui.done&&(ai=ci.return)&&ai.call(ci)}finally{if(hi)throw hi.error}}return mi};Object.defineProperty(r,"__esModule",{value:!0});var qe=Ve(6),Ke=Ve(1),Ze=Ve(9),Je=Ve(34),Qe=Ve(3),ti=Ve(2),ni=Ve(7),ri=Ve(152),ii=Ve(0),ei=Ve(12),St=function(oi){function si(){var ai=oi.call(this)||this;return ai._children=new Set,ai._encoding={name:"UTF-8",labels:["unicode-1-1-utf-8","utf-8","utf8"]},ai._contentType="application/xml",ai._URL={scheme:"about",username:"",password:"",host:null,port:null,path:["blank"],query:null,fragment:null,_cannotBeABaseURLFlag:!0,_blobURLEntry:null},ai._origin=null,ai._type="xml",ai._mode="no-quirks",ai._documentElement=null,ai._hasNamespaces=!1,ai._nodeDocumentOverwrite=null,ai}return ze(si,oi),Object.defineProperty(si.prototype,"_nodeDocument",{get:function(){return this._nodeDocumentOverwrite||this},set:function(ai){this._nodeDocumentOverwrite=ai},enumerable:!0,configurable:!0}),Object.defineProperty(si.prototype,"implementation",{get:function(){return this._implementation||(this._implementation=ii.create_domImplementation(this))},enumerable:!0,configurable:!0}),Object.defineProperty(si.prototype,"URL",{get:function(){return ri.urlSerializer(this._URL)},enumerable:!0,configurable:!0}),Object.defineProperty(si.prototype,"documentURI",{get:function(){return this.URL},enumerable:!0,configurable:!0}),Object.defineProperty(si.prototype,"origin",{get:function(){return"null"},enumerable:!0,configurable:!0}),Object.defineProperty(si.prototype,"compatMode",{get:function(){return this._mode==="quirks"?"BackCompat":"CSS1Compat"},enumerable:!0,configurable:!0}),Object.defineProperty(si.prototype,"characterSet",{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(si.prototype,"charset",{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(si.prototype,"inputEncoding",{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(si.prototype,"contentType",{get:function(){return this._contentType},enumerable:!0,configurable:!0}),Object.defineProperty(si.prototype,"doctype",{get:function(){var ai,ui;try{for(var hi=Xe(this._children),ci=hi.next();!ci.done;ci=hi.next()){var mi=ci.value;if(Qe.Guard.isDocumentTypeNode(mi))return mi}}catch(di){ai={error:di}}finally{try{ci&&!ci.done&&(ui=hi.return)&&ui.call(hi)}finally{if(ai)throw ai.error}}return null},enumerable:!0,configurable:!0}),Object.defineProperty(si.prototype,"documentElement",{get:function(){return this._documentElement},enumerable:!0,configurable:!0}),si.prototype.getElementsByTagName=function(ai){return ii.node_listOfElementsWithQualifiedName(ai,this)},si.prototype.getElementsByTagNameNS=function(ai,ui){return ii.node_listOfElementsWithNamespace(ai,ui,this)},si.prototype.getElementsByClassName=function(ai){return ii.node_listOfElementsWithClassNames(ai,this)},si.prototype.createElement=function(ai,ui){if(!ii.xml_isName(ai))throw new Ze.InvalidCharacterError;this._type==="html"&&(ai=ai.toLowerCase());var hi=null;ui!==void 0&&(hi=ti.isString(ui)?ui:ui.is);var ci=this._type==="html"||this._contentType==="application/xhtml+xml"?ni.namespace.HTML:null;return ii.element_createAnElement(this,ai,ci,null,hi,!0)},si.prototype.createElementNS=function(ai,ui,hi){return ii.document_internalCreateElementNS(this,ai,ui,hi)},si.prototype.createDocumentFragment=function(){return ii.create_documentFragment(this)},si.prototype.createTextNode=function(ai){return ii.create_text(this,ai)},si.prototype.createCDATASection=function(ai){if(this._type==="html")throw new Ze.NotSupportedError;if(ai.indexOf("]]>")!==-1)throw new Ze.InvalidCharacterError;return ii.create_cdataSection(this,ai)},si.prototype.createComment=function(ai){return ii.create_comment(this,ai)},si.prototype.createProcessingInstruction=function(ai,ui){if(!ii.xml_isName(ai))throw new Ze.InvalidCharacterError;if(ui.indexOf("?>")!==-1)throw new Ze.InvalidCharacterError;return ii.create_processingInstruction(this,ai,ui)},si.prototype.importNode=function(ai,ui){if(ui===void 0&&(ui=!1),Qe.Guard.isDocumentNode(ai)||Qe.Guard.isShadowRoot(ai))throw new Ze.NotSupportedError;return ii.node_clone(ai,this,ui)},si.prototype.adoptNode=function(ai){if(Qe.Guard.isDocumentNode(ai))throw new Ze.NotSupportedError;if(Qe.Guard.isShadowRoot(ai))throw new Ze.HierarchyRequestError;return ii.document_adopt(ai,this),ai},si.prototype.createAttribute=function(ai){if(!ii.xml_isName(ai))throw new Ze.InvalidCharacterError;return this._type==="html"&&(ai=ai.toLowerCase()),ii.create_attr(this,ai)},si.prototype.createAttributeNS=function(ai,ui){var hi=We(ii.namespace_validateAndExtract(ai,ui),3),ci=hi[0],mi=hi[1],di=hi[2],pi=ii.create_attr(this,di);return pi._namespace=ci,pi._namespacePrefix=mi,pi},si.prototype.createEvent=function(ai){return ii.event_createLegacyEvent(ai)},si.prototype.createRange=function(){var ai=ii.create_range();return ai._start=[this,0],ai._end=[this,0],ai},si.prototype.createNodeIterator=function(ai,ui,hi){ui===void 0&&(ui=Ke.WhatToShow.All),hi===void 0&&(hi=null);var ci=ii.create_nodeIterator(ai,ai,!0);return ci._whatToShow=ui,ci._iteratorCollection=ii.create_nodeList(ai),ti.isFunction(hi)?(ci._filter=ii.create_nodeFilter(),ci._filter.acceptNode=hi):ci._filter=hi,ci},si.prototype.createTreeWalker=function(ai,ui,hi){ui===void 0&&(ui=Ke.WhatToShow.All),hi===void 0&&(hi=null);var ci=ii.create_treeWalker(ai,ai);return ci._whatToShow=ui,ti.isFunction(hi)?(ci._filter=ii.create_nodeFilter(),ci._filter.acceptNode=hi):ci._filter=hi,ci},si.prototype._getTheParent=function(ai){return ai._type==="load"?null:qe.dom.window},si.prototype.getElementById=function(ai){throw new Error("Mixin: NonElementParentNode not implemented.")},Object.defineProperty(si.prototype,"children",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(si.prototype,"firstElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(si.prototype,"lastElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(si.prototype,"childElementCount",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),si.prototype.prepend=function(){for(var ai=[],ui=0;ui<arguments.length;ui++)ai[ui]=arguments[ui];throw new Error("Mixin: ParentNode not implemented.")},si.prototype.append=function(){for(var ai=[],ui=0;ui<arguments.length;ui++)ai[ui]=arguments[ui];throw new Error("Mixin: ParentNode not implemented.")},si.prototype.querySelector=function(ai){throw new Error("Mixin: ParentNode not implemented.")},si.prototype.querySelectorAll=function(ai){throw new Error("Mixin: ParentNode not implemented.")},si}(Je.NodeImpl);r.DocumentImpl=St,ei.idl_defineConst(St.prototype,"_nodeType",Ke.NodeType.Document)},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(ri,ii){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ei,St){ei.__proto__=St}||function(ei,St){for(var oi in St)St.hasOwnProperty(oi)&&(ei[oi]=St[oi])})(ri,ii)},function(ri,ii){function ei(){this.constructor=ri}je(ri,ii),ri.prototype=ii===null?Object.create(ii):(ei.prototype=ii.prototype,new ei)}),Xe=this&&this.__values||function(ri){var ii=typeof Symbol=="function"&&Symbol.iterator,ei=ii&&ri[ii],St=0;if(ei)return ei.call(ri);if(ri&&typeof ri.length=="number")return{next:function(){return ri&&St>=ri.length&&(ri=void 0),{value:ri&&ri[St++],done:!ri}}};throw new TypeError(ii?"Object is not iterable.":"Symbol.iterator is not defined.")},We=this&&this.__read||function(ri,ii){var ei=typeof Symbol=="function"&&ri[Symbol.iterator];if(!ei)return ri;var St,oi,si=ei.call(ri),ai=[];try{for(;(ii===void 0||ii-- >0)&&!(St=si.next()).done;)ai.push(St.value)}catch(ui){oi={error:ui}}finally{try{St&&!St.done&&(ei=si.return)&&ei.call(si)}finally{if(oi)throw oi.error}}return ai};Object.defineProperty(r,"__esModule",{value:!0});var qe=Ve(1),Ke=Ve(34),Ze=Ve(9),Je=Ve(7),Qe=Ve(0),ti=Ve(12),ni=function(ri){function ii(){var ei=ri.call(this)||this;return ei._children=new Set,ei._namespace=null,ei._namespacePrefix=null,ei._localName="",ei._customElementState="undefined",ei._customElementDefinition=null,ei._is=null,ei._shadowRoot=null,ei._attributeList=Qe.create_namedNodeMap(ei),ei._attributeChangeSteps=[],ei._name="",ei._assignedSlot=null,ei}return ze(ii,ri),Object.defineProperty(ii.prototype,"namespaceURI",{get:function(){return this._namespace},enumerable:!0,configurable:!0}),Object.defineProperty(ii.prototype,"prefix",{get:function(){return this._namespacePrefix},enumerable:!0,configurable:!0}),Object.defineProperty(ii.prototype,"localName",{get:function(){return this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(ii.prototype,"tagName",{get:function(){return this._htmlUppercasedQualifiedName},enumerable:!0,configurable:!0}),Object.defineProperty(ii.prototype,"id",{get:function(){return Qe.element_getAnAttributeValue(this,"id")},set:function(ei){Qe.element_setAnAttributeValue(this,"id",ei)},enumerable:!0,configurable:!0}),Object.defineProperty(ii.prototype,"className",{get:function(){return Qe.element_getAnAttributeValue(this,"class")},set:function(ei){Qe.element_setAnAttributeValue(this,"class",ei)},enumerable:!0,configurable:!0}),Object.defineProperty(ii.prototype,"classList",{get:function(){var ei=Qe.element_getAnAttributeByName("class",this);return ei===null&&(ei=Qe.create_attr(this._nodeDocument,"class")),Qe.create_domTokenList(this,ei)},enumerable:!0,configurable:!0}),Object.defineProperty(ii.prototype,"slot",{get:function(){return Qe.element_getAnAttributeValue(this,"slot")},set:function(ei){Qe.element_setAnAttributeValue(this,"slot",ei)},enumerable:!0,configurable:!0}),ii.prototype.hasAttributes=function(){return this._attributeList.length!==0},Object.defineProperty(ii.prototype,"attributes",{get:function(){return this._attributeList},enumerable:!0,configurable:!0}),ii.prototype.getAttributeNames=function(){var ei,St,oi=[];try{for(var si=Xe(this._attributeList),ai=si.next();!ai.done;ai=si.next()){var ui=ai.value;oi.push(ui._qualifiedName)}}catch(hi){ei={error:hi}}finally{try{ai&&!ai.done&&(St=si.return)&&St.call(si)}finally{if(ei)throw ei.error}}return oi},ii.prototype.getAttribute=function(ei){var St=Qe.element_getAnAttributeByName(ei,this);return St?St._value:null},ii.prototype.getAttributeNS=function(ei,St){var oi=Qe.element_getAnAttributeByNamespaceAndLocalName(ei,St,this);return oi?oi._value:null},ii.prototype.setAttribute=function(ei,St){if(!Qe.xml_isName(ei))throw new Ze.InvalidCharacterError;this._namespace===Je.namespace.HTML&&this._nodeDocument._type==="html"&&(ei=ei.toLowerCase());for(var oi=null,si=0;si<this._attributeList.length;si++){var ai=this._attributeList[si];if(ai._qualifiedName===ei){oi=ai;break}}if(oi===null)return(oi=Qe.create_attr(this._nodeDocument,ei))._value=St,void Qe.element_append(oi,this);Qe.element_change(oi,this,St)},ii.prototype.setAttributeNS=function(ei,St,oi){var si=We(Qe.namespace_validateAndExtract(ei,St),3),ai=si[0],ui=si[1],hi=si[2];Qe.element_setAnAttributeValue(this,hi,oi,ui,ai)},ii.prototype.removeAttribute=function(ei){Qe.element_removeAnAttributeByName(ei,this)},ii.prototype.removeAttributeNS=function(ei,St){Qe.element_removeAnAttributeByNamespaceAndLocalName(ei,St,this)},ii.prototype.hasAttribute=function(ei){this._namespace===Je.namespace.HTML&&this._nodeDocument._type==="html"&&(ei=ei.toLowerCase());for(var St=0;St<this._attributeList.length;St++)if(this._attributeList[St]._qualifiedName===ei)return!0;return!1},ii.prototype.toggleAttribute=function(ei,St){if(!Qe.xml_isName(ei))throw new Ze.InvalidCharacterError;this._namespace===Je.namespace.HTML&&this._nodeDocument._type==="html"&&(ei=ei.toLowerCase());for(var oi=null,si=0;si<this._attributeList.length;si++){var ai=this._attributeList[si];if(ai._qualifiedName===ei){oi=ai;break}}return oi===null?(St===void 0||St===!0)&&((oi=Qe.create_attr(this._nodeDocument,ei))._value="",Qe.element_append(oi,this),!0):St!==void 0&&St!==!1||(Qe.element_removeAnAttributeByName(ei,this),!1)},ii.prototype.hasAttributeNS=function(ei,St){for(var oi=ei||null,si=0;si<this._attributeList.length;si++){var ai=this._attributeList[si];if(ai._namespace===oi&&ai._localName===St)return!0}return!1},ii.prototype.getAttributeNode=function(ei){return Qe.element_getAnAttributeByName(ei,this)},ii.prototype.getAttributeNodeNS=function(ei,St){return Qe.element_getAnAttributeByNamespaceAndLocalName(ei,St,this)},ii.prototype.setAttributeNode=function(ei){return Qe.element_setAnAttribute(ei,this)},ii.prototype.setAttributeNodeNS=function(ei){return Qe.element_setAnAttribute(ei,this)},ii.prototype.removeAttributeNode=function(ei){for(var St=!1,oi=0;oi<this._attributeList.length;oi++)if(this._attributeList[oi]===ei){St=!0;break}if(!St)throw new Ze.NotFoundError;return Qe.element_remove(ei,this),ei},ii.prototype.attachShadow=function(ei){if(this._namespace!==Je.namespace.HTML)throw new Ze.NotSupportedError;if(!Qe.customElement_isValidCustomElementName(this._localName)&&!Qe.customElement_isValidShadowHostName(this._localName))throw new Ze.NotSupportedError;if(Qe.customElement_isValidCustomElementName(this._localName)||this._is!==null){var St=Qe.customElement_lookUpACustomElementDefinition(this._nodeDocument,this._namespace,this._localName,this._is);if(St!==null&&St.disableShadow===!0)throw new Ze.NotSupportedError}if(this._shadowRoot!==null)throw new Ze.NotSupportedError;var oi=Qe.create_shadowRoot(this._nodeDocument,this);return oi._mode=ei.mode,this._shadowRoot=oi,oi},Object.defineProperty(ii.prototype,"shadowRoot",{get:function(){var ei=this._shadowRoot;return ei===null||ei.mode==="closed"?null:ei},enumerable:!0,configurable:!0}),ii.prototype.closest=function(ei){throw new Ze.NotImplementedError},ii.prototype.matches=function(ei){throw new Ze.NotImplementedError},ii.prototype.webkitMatchesSelector=function(ei){return this.matches(ei)},ii.prototype.getElementsByTagName=function(ei){return Qe.node_listOfElementsWithQualifiedName(ei,this)},ii.prototype.getElementsByTagNameNS=function(ei,St){return Qe.node_listOfElementsWithNamespace(ei,St,this)},ii.prototype.getElementsByClassName=function(ei){return Qe.node_listOfElementsWithClassNames(ei,this)},ii.prototype.insertAdjacentElement=function(ei,St){return Qe.element_insertAdjacent(this,ei,St)},ii.prototype.insertAdjacentText=function(ei,St){var oi=Qe.create_text(this._nodeDocument,St);Qe.element_insertAdjacent(this,ei,oi)},Object.defineProperty(ii.prototype,"_qualifiedName",{get:function(){return this._namespacePrefix?this._namespacePrefix+":"+this._localName:this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(ii.prototype,"_htmlUppercasedQualifiedName",{get:function(){var ei=this._qualifiedName;return this._namespace===Je.namespace.HTML&&this._nodeDocument._type==="html"&&(ei=ei.toUpperCase()),ei},enumerable:!0,configurable:!0}),Object.defineProperty(ii.prototype,"children",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(ii.prototype,"firstElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(ii.prototype,"lastElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(ii.prototype,"childElementCount",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),ii.prototype.prepend=function(){for(var ei=[],St=0;St<arguments.length;St++)ei[St]=arguments[St];throw new Error("Mixin: ParentNode not implemented.")},ii.prototype.append=function(){for(var ei=[],St=0;St<arguments.length;St++)ei[St]=arguments[St];throw new Error("Mixin: ParentNode not implemented.")},ii.prototype.querySelector=function(ei){throw new Error("Mixin: ParentNode not implemented.")},ii.prototype.querySelectorAll=function(ei){throw new Error("Mixin: ParentNode not implemented.")},Object.defineProperty(ii.prototype,"previousElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(ii.prototype,"nextElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),ii.prototype.before=function(){for(var ei=[],St=0;St<arguments.length;St++)ei[St]=arguments[St];throw new Error("Mixin: ChildNode not implemented.")},ii.prototype.after=function(){for(var ei=[],St=0;St<arguments.length;St++)ei[St]=arguments[St];throw new Error("Mixin: ChildNode not implemented.")},ii.prototype.replaceWith=function(){for(var ei=[],St=0;St<arguments.length;St++)ei[St]=arguments[St];throw new Error("Mixin: ChildNode not implemented.")},ii.prototype.remove=function(){throw new Error("Mixin: ChildNode not implemented.")},Object.defineProperty(ii.prototype,"assignedSlot",{get:function(){throw new Error("Mixin: Slotable not implemented.")},enumerable:!0,configurable:!0}),ii._create=function(ei,St,oi,si){oi===void 0&&(oi=null),si===void 0&&(si=null);var ai=new ii;return ai._localName=St,ai._namespace=oi,ai._namespacePrefix=si,ai._nodeDocument=ei,ai},ii}(Ke.NodeImpl);r.ElementImpl=ni,ti.idl_defineConst(ni.prototype,"_nodeType",qe.NodeType.Element)},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(Ze,Je){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Qe,ti){Qe.__proto__=ti}||function(Qe,ti){for(var ni in ti)ti.hasOwnProperty(ni)&&(Qe[ni]=ti[ni])})(Ze,Je)},function(Ze,Je){function Qe(){this.constructor=Ze}je(Ze,Je),Ze.prototype=Je===null?Object.create(Je):(Qe.prototype=Je.prototype,new Qe)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(1),We=Ve(34),qe=Ve(12),Ke=function(Ze){function Je(Qe){Qe===void 0&&(Qe=null);var ti=Ze.call(this)||this;return ti._children=new Set,ti._host=Qe,ti}return ze(Je,Ze),Je.prototype.getElementById=function(Qe){throw new Error("Mixin: NonElementParentNode not implemented.")},Object.defineProperty(Je.prototype,"children",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(Je.prototype,"firstElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(Je.prototype,"lastElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(Je.prototype,"childElementCount",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Je.prototype.prepend=function(){for(var Qe=[],ti=0;ti<arguments.length;ti++)Qe[ti]=arguments[ti];throw new Error("Mixin: ParentNode not implemented.")},Je.prototype.append=function(){for(var Qe=[],ti=0;ti<arguments.length;ti++)Qe[ti]=arguments[ti];throw new Error("Mixin: ParentNode not implemented.")},Je.prototype.querySelector=function(Qe){throw new Error("Mixin: ParentNode not implemented.")},Je.prototype.querySelectorAll=function(Qe){throw new Error("Mixin: ParentNode not implemented.")},Je._create=function(Qe,ti){ti===void 0&&(ti=null);var ni=new Je(ti);return ni._nodeDocument=Qe,ni},Je}(We.NodeImpl);r.DocumentFragmentImpl=Ke,qe.idl_defineConst(Ke.prototype,"_nodeType",Xe.NodeType.DocumentFragment)},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(Qe,ti){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ni,ri){ni.__proto__=ri}||function(ni,ri){for(var ii in ri)ri.hasOwnProperty(ii)&&(ni[ii]=ri[ii])})(Qe,ti)},function(Qe,ti){function ni(){this.constructor=Qe}je(Qe,ti),Qe.prototype=ti===null?Object.create(ti):(ni.prototype=ti.prototype,new ni)}),Xe=this&&this.__values||function(Qe){var ti=typeof Symbol=="function"&&Symbol.iterator,ni=ti&&Qe[ti],ri=0;if(ni)return ni.call(Qe);if(Qe&&typeof Qe.length=="number")return{next:function(){return Qe&&ri>=Qe.length&&(Qe=void 0),{value:Qe&&Qe[ri++],done:!Qe}}};throw new TypeError(ti?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var We=Ve(1),qe=Ve(71),Ke=Ve(0),Ze=Ve(12),Je=function(Qe){function ti(ni){ni===void 0&&(ni="");var ri=Qe.call(this,ni)||this;return ri._name="",ri._assignedSlot=null,ri}return ze(ti,Qe),Object.defineProperty(ti.prototype,"wholeText",{get:function(){var ni,ri,ii="";try{for(var ei=Xe(Ke.text_contiguousTextNodes(this,!0)),St=ei.next();!St.done;St=ei.next())ii+=St.value._data}catch(oi){ni={error:oi}}finally{try{St&&!St.done&&(ri=ei.return)&&ri.call(ei)}finally{if(ni)throw ni.error}}return ii},enumerable:!0,configurable:!0}),ti.prototype.splitText=function(ni){return Ke.text_split(this,ni)},Object.defineProperty(ti.prototype,"assignedSlot",{get:function(){throw new Error("Mixin: Slotable not implemented.")},enumerable:!0,configurable:!0}),ti._create=function(ni,ri){ri===void 0&&(ri="");var ii=new ti(ri);return ii._nodeDocument=ni,ii},ti}(qe.CharacterDataImpl);r.TextImpl=Je,Ze.idl_defineConst(Je.prototype,"_nodeType",We.NodeType.Text)},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=function(){function ze(){}return Object.defineProperty(ze.prototype,"_startNode",{get:function(){return this._start[0]},enumerable:!0,configurable:!0}),Object.defineProperty(ze.prototype,"_startOffset",{get:function(){return this._start[1]},enumerable:!0,configurable:!0}),Object.defineProperty(ze.prototype,"_endNode",{get:function(){return this._end[0]},enumerable:!0,configurable:!0}),Object.defineProperty(ze.prototype,"_endOffset",{get:function(){return this._end[1]},enumerable:!0,configurable:!0}),Object.defineProperty(ze.prototype,"_collapsed",{get:function(){return this._start[0]===this._end[0]&&this._start[1]===this._end[1]},enumerable:!0,configurable:!0}),Object.defineProperty(ze.prototype,"startContainer",{get:function(){return this._startNode},enumerable:!0,configurable:!0}),Object.defineProperty(ze.prototype,"startOffset",{get:function(){return this._startOffset},enumerable:!0,configurable:!0}),Object.defineProperty(ze.prototype,"endContainer",{get:function(){return this._endNode},enumerable:!0,configurable:!0}),Object.defineProperty(ze.prototype,"endOffset",{get:function(){return this._endOffset},enumerable:!0,configurable:!0}),Object.defineProperty(ze.prototype,"collapsed",{get:function(){return this._collapsed},enumerable:!0,configurable:!0}),ze}();r.AbstractRangeImpl=je},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(1),ze=function(){function Xe(We){this._activeFlag=!1,this._root=We,this._whatToShow=je.WhatToShow.All,this._filter=null}return Object.defineProperty(Xe.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),Object.defineProperty(Xe.prototype,"whatToShow",{get:function(){return this._whatToShow},enumerable:!0,configurable:!0}),Object.defineProperty(Xe.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),Xe}();r.TraverserImpl=ze},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(1),ze=Ve(0),Xe=Ve(12),We=function(){function qe(Ke,Ze){this._target=null,this._relatedTarget=null,this._touchTargetList=[],this._path=[],this._currentTarget=null,this._eventPhase=je.EventPhase.None,this._stopPropagationFlag=!1,this._stopImmediatePropagationFlag=!1,this._canceledFlag=!1,this._inPassiveListenerFlag=!1,this._composedFlag=!1,this._initializedFlag=!1,this._dispatchFlag=!1,this._isTrusted=!1,this._bubbles=!1,this._cancelable=!1,this._type=Ke,Ze&&(this._bubbles=Ze.bubbles||!1,this._cancelable=Ze.cancelable||!1,this._composedFlag=Ze.composed||!1),this._initializedFlag=!0,this._timeStamp=new Date().getTime()}return Object.defineProperty(qe.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(qe.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(qe.prototype,"srcElement",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(qe.prototype,"currentTarget",{get:function(){return this._currentTarget},enumerable:!0,configurable:!0}),qe.prototype.composedPath=function(){var Ke=[],Ze=this._path;if(Ze.length===0)return Ke;var Je=this._currentTarget;if(Je===null)throw new Error("Event currentTarget is null.");Ke.push(Je);for(var Qe=0,ti=0,ni=Ze.length-1;ni>=0;){if(Ze[ni].rootOfClosedTree&&ti++,Ze[ni].invocationTarget===Je){Qe=ni;break}Ze[ni].slotInClosedTree&&ti--,ni--}var ri=ti,ii=ti;for(ni=Qe-1;ni>=0;)Ze[ni].rootOfClosedTree&&ri++,ri<=ii&&Ke.unshift(Ze[ni].invocationTarget),Ze[ni].slotInClosedTree&&--ri<ii&&(ii=ri),ni--;for(ri=ti,ii=ti,ni=Qe+1;ni<Ze.length;)Ze[ni].slotInClosedTree&&ri++,ri<=ii&&Ke.push(Ze[ni].invocationTarget),Ze[ni].rootOfClosedTree&&--ri<ii&&(ii=ri),ni++;return Ke},Object.defineProperty(qe.prototype,"eventPhase",{get:function(){return this._eventPhase},enumerable:!0,configurable:!0}),qe.prototype.stopPropagation=function(){this._stopPropagationFlag=!0},Object.defineProperty(qe.prototype,"cancelBubble",{get:function(){return this._stopPropagationFlag},set:function(Ke){Ke&&this.stopPropagation()},enumerable:!0,configurable:!0}),qe.prototype.stopImmediatePropagation=function(){this._stopPropagationFlag=!0,this._stopImmediatePropagationFlag=!0},Object.defineProperty(qe.prototype,"bubbles",{get:function(){return this._bubbles},enumerable:!0,configurable:!0}),Object.defineProperty(qe.prototype,"cancelable",{get:function(){return this._cancelable},enumerable:!0,configurable:!0}),Object.defineProperty(qe.prototype,"returnValue",{get:function(){return!this._canceledFlag},set:function(Ke){Ke||ze.event_setTheCanceledFlag(this)},enumerable:!0,configurable:!0}),qe.prototype.preventDefault=function(){ze.event_setTheCanceledFlag(this)},Object.defineProperty(qe.prototype,"defaultPrevented",{get:function(){return this._canceledFlag},enumerable:!0,configurable:!0}),Object.defineProperty(qe.prototype,"composed",{get:function(){return this._composedFlag},enumerable:!0,configurable:!0}),Object.defineProperty(qe.prototype,"isTrusted",{get:function(){return this._isTrusted},enumerable:!0,configurable:!0}),Object.defineProperty(qe.prototype,"timeStamp",{get:function(){return this._timeStamp},enumerable:!0,configurable:!0}),qe.prototype.initEvent=function(Ke,Ze,Je){Ze===void 0&&(Ze=!1),Je===void 0&&(Je=!1),this._dispatchFlag||ze.event_initialize(this,Ke,Ze,Je)},qe.NONE=0,qe.CAPTURING_PHASE=1,qe.AT_TARGET=2,qe.BUBBLING_PHASE=3,qe}();r.EventImpl=We,Xe.idl_defineConst(We.prototype,"NONE",0),Xe.idl_defineConst(We.prototype,"CAPTURING_PHASE",1),Xe.idl_defineConst(We.prototype,"AT_TARGET",2),Xe.idl_defineConst(We.prototype,"BUBBLING_PHASE",3)},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(1),ze=Ve(9);r.traversal_filter=function(Xe,We){if(Xe._activeFlag)throw new ze.InvalidStateError;var qe=1<<We._nodeType-1;if(!(Xe.whatToShow&qe))return je.FilterResult.Skip;if(!Xe.filter)return je.FilterResult.Accept;Xe._activeFlag=!0;var Ke=je.FilterResult.Reject;try{Ke=Xe.filter.acceptNode(We)}catch(Ze){throw Xe._activeFlag=!1,Ze}return Xe._activeFlag=!1,Ke}},function(t,r,Ve){var je=this&&this.__read||function(ii,ei){var St=typeof Symbol=="function"&&ii[Symbol.iterator];if(!St)return ii;var oi,si,ai=St.call(ii),ui=[];try{for(;(ei===void 0||ei-- >0)&&!(oi=ai.next()).done;)ui.push(oi.value)}catch(hi){si={error:hi}}finally{try{oi&&!oi.done&&(St=ai.return)&&St.call(ai)}finally{if(si)throw si.error}}return ui},ze=this&&this.__values||function(ii){var ei=typeof Symbol=="function"&&Symbol.iterator,St=ei&&ii[ei],oi=0;if(St)return St.call(ii);if(ii&&typeof ii.length=="number")return{next:function(){return ii&&oi>=ii.length&&(ii=void 0),{value:ii&&ii[oi++],done:!ii}}};throw new TypeError(ei?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(6),We=Ve(3),qe=Ve(2),Ke=Ve(99),Ze=Ve(73),Je=Ve(17),Qe=Ve(173),ti=Ve(30),ni=Ve(52),ri=Ve(37);r.document_elementInterface=function(ii,ei){return Ke.ElementImpl},r.document_internalCreateElementNS=function(ii,ei,St,oi){var si=je(Qe.namespace_validateAndExtract(ei,St),3),ai=si[0],ui=si[1],hi=si[2],ci=null;return oi!==void 0&&(ci=qe.isString(oi)?oi:oi.is),ni.element_createAnElement(ii,hi,ai,ui,ci,!0)},r.document_adopt=function(ii,ei){var St,oi;if(ii._nodeDocument!==ei||ii._parent!==null){var si=ii._nodeDocument;if(ii._parent&&ri.mutation_remove(ii,ii._parent),ei!==si)for(var ai=Je.tree_getFirstDescendantNode(ii,!0,!0);ai!==null;){if(ai._nodeDocument=ei,We.Guard.isElementNode(ai))try{for(var ui=(St=void 0,ze(ai._attributeList._asArray())),hi=ui.next();!hi.done;hi=ui.next())hi.value._nodeDocument=ei}catch(ci){St={error:ci}}finally{try{hi&&!hi.done&&(oi=ui.return)&&oi.call(ui)}finally{if(St)throw St.error}}Xe.dom.features.customElements&&We.Guard.isElementNode(ai)&&ai._customElementState==="custom"&&Ze.customElement_enqueueACustomElementCallbackReaction(ai,"adoptedCallback",[si,ei]),Xe.dom.features.steps&&ti.dom_runAdoptingSteps(ai,si),ai=Je.tree_getNextDescendantNode(ii,ai,!0,!0)}}}},function(t,r,Ve){var je=this&&this.__values||function(Je){var Qe=typeof Symbol=="function"&&Symbol.iterator,ti=Qe&&Je[Qe],ni=0;if(ti)return ti.call(Je);if(Je&&typeof Je.length=="number")return{next:function(){return Je&&ni>=Je.length&&(Je=void 0),{value:Je&&Je[ni++],done:!Je}}};throw new TypeError(Qe?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var ze=Ve(6),Xe=Ve(3),We=Ve(9),qe=Ve(17),Ke=Ve(51),Ze=Ve(30);r.characterData_replaceData=function(Je,Qe,ti,ni){var ri,ii,ei=qe.tree_nodeLength(Je);if(Qe>ei)throw new We.IndexSizeError("Offset exceeds character data length. Offset: "+Qe+", Length: "+ei+", Node is "+Je.nodeName+".");Qe+ti>ei&&(ti=ei-Qe),ze.dom.features.mutationObservers&&Ke.observer_queueMutationRecord("characterData",Je,null,null,Je._data,[],[],null,null);var St=Je._data.substring(0,Qe)+ni+Je._data.substring(Qe+ti);Je._data=St;try{for(var oi=je(ze.dom.rangeList),si=oi.next();!si.done;si=oi.next()){var ai=si.value;ai._start[0]===Je&&ai._start[1]>Qe&&ai._start[1]<=Qe+ti&&(ai._start[1]=Qe),ai._end[0]===Je&&ai._end[1]>Qe&&ai._end[1]<=Qe+ti&&(ai._end[1]=Qe),ai._start[0]===Je&&ai._start[1]>Qe+ti&&(ai._start[1]+=ni.length-ti),ai._end[0]===Je&&ai._end[1]>Qe+ti&&(ai._end[1]+=ni.length-ti)}}catch(ui){ri={error:ui}}finally{try{si&&!si.done&&(ii=oi.return)&&ii.call(oi)}finally{if(ri)throw ri.error}}ze.dom.features.steps&&Xe.Guard.isTextNode(Je)&&Je._parent!==null&&Ze.dom_runChildTextContentChangeSteps(Je._parent)},r.characterData_substringData=function(Je,Qe,ti){var ni=qe.tree_nodeLength(Je);if(Qe>ni)throw new We.IndexSizeError("Offset exceeds character data length. Offset: "+Qe+", Length: "+ni+", Node is "+Je.nodeName+".");return Qe+ti>ni?Je._data.substr(Qe):Je._data.substr(Qe,ti)}},function(t,r,Ve){var je=this&&this.__read||function(Ze,Je){var Qe=typeof Symbol=="function"&&Ze[Symbol.iterator];if(!Qe)return Ze;var ti,ni,ri=Qe.call(Ze),ii=[];try{for(;(Je===void 0||Je-- >0)&&!(ti=ri.next()).done;)ii.push(ti.value)}catch(ei){ni={error:ei}}finally{try{ti&&!ti.done&&(Qe=ri.return)&&Qe.call(ri)}finally{if(ni)throw ni.error}}return ii},ze=this&&this.__spread||function(){for(var Ze=[],Je=0;Je<arguments.length;Je++)Ze=Ze.concat(je(arguments[Je]));return Ze},Xe=this&&this.__values||function(Ze){var Je=typeof Symbol=="function"&&Symbol.iterator,Qe=Je&&Ze[Je],ti=0;if(Qe)return Qe.call(Ze);if(Ze&&typeof Ze.length=="number")return{next:function(){return Ze&&ti>=Ze.length&&(Ze=void 0),{value:Ze&&Ze[ti++],done:!Ze}}};throw new TypeError(Je?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var We=Ve(7);function qe(Ze){var Je=We.string.splitAStringOnASCIIWhitespace(Ze);return new Set(Je)}function Ke(Ze){return ze(Ze).join(" ")}r.orderedSet_parse=qe,r.orderedSet_serialize=Ke,r.orderedSet_sanitize=function(Ze){return Ke(qe(Ze))},r.orderedSet_contains=function(Ze,Je,Qe){var ti,ni,ri,ii;try{for(var ei=Xe(Je),St=ei.next();!St.done;St=ei.next()){var oi=St.value,si=!1;try{for(var ai=(ri=void 0,Xe(Ze)),ui=ai.next();!ui.done;ui=ai.next()){var hi=ui.value;if(Qe){if(hi===oi){si=!0;break}}else if(hi.toUpperCase()===oi.toUpperCase()){si=!0;break}}}catch(ci){ri={error:ci}}finally{try{ui&&!ui.done&&(ii=ai.return)&&ii.call(ai)}finally{if(ri)throw ri.error}}if(!si)return!1}}catch(ci){ti={error:ci}}finally{try{St&&!St.done&&(ni=ei.return)&&ni.call(ei)}finally{if(ti)throw ti.error}}return!0}},function(t,r,Ve){Ve(179),Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(263),ze=Ve(110),Xe=Ve(2);ze.dom.setFeatures(!1),r.createDocument=function(){var We=new je.DOMImplementation().createDocument(null,"root",null);return We.documentElement&&We.removeChild(We.documentElement),We},r.sanitizeInput=function(We,qe){if(We==null)return We;if(qe===void 0)return We+"";var Ke="";We+="";for(var Ze=0;Ze<We.length;Ze++){var Je=We.charCodeAt(Ze);if(Je===9||Je===10||Je===13||Je>=32&&Je<=55295||Je>=57344&&Je<=65533)Ke+=We.charAt(Ze);else if(Je>=55296&&Je<=56319&&Ze<We.length-1){var Qe=We.charCodeAt(Ze+1);Qe>=56320&&Qe<=57343?(Je=1024*(Je-55296)+Qe-56320+65536,Ke+=String.fromCodePoint(Je),Ze++):Ke+=Xe.isString(qe)?qe:qe(We.charAt(Ze),Ze,We)}else Ke+=Xe.isString(qe)?qe:qe(We.charAt(Ze),Ze,We)}return Ke}},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(2),ze=Ve(153);r.AbortController=ze.AbortControllerImpl;var Xe=Ve(154);r.AbortSignal=Xe.AbortSignalImpl;var We=Ve(102);r.AbstractRange=We.AbstractRangeImpl;var qe=Ve(157);r.Attr=qe.AttrImpl;var Ke=Ve(158);r.CDATASection=Ke.CDATASectionImpl;var Ze=Ve(71);r.CharacterData=Ze.CharacterDataImpl;var Je=Ve(264),Qe=Ve(159);r.Comment=Qe.CommentImpl;var ti=Ve(171);r.CustomEvent=ti.CustomEventImpl;var ni=Ve(100);r.DocumentFragment=ni.DocumentFragmentImpl;var ri=Ve(98);r.Document=ri.DocumentImpl;var ii=Ve(265),ei=Ve(155);r.DocumentType=ei.DocumentTypeImpl;var St=Ve(6);r.dom=St.dom;var oi=Ve(148);r.DOMImplementation=oi.DOMImplementationImpl;var si=Ve(170);r.DOMTokenList=si.DOMTokenListImpl;var ai=Ve(99);r.Element=ai.ElementImpl;var ui=Ve(104);r.Event=ui.EventImpl;var hi=Ve(70);r.EventTarget=hi.EventTargetImpl;var ci=Ve(161);r.HTMLCollection=ci.HTMLCollectionImpl;var mi=Ve(266);r.MutationObserver=mi.MutationObserverImpl;var di=Ve(169);r.MutationRecord=di.MutationRecordImpl;var pi=Ve(164);r.NamedNodeMap=pi.NamedNodeMapImpl;var yi=Ve(168);r.NodeFilter=yi.NodeFilterImpl;var gi=Ve(34);r.Node=gi.NodeImpl;var _i=Ve(166);r.NodeIterator=_i.NodeIteratorImpl;var Ai=Ve(162);r.NodeList=Ai.NodeListImpl;var ki=Ve(163);r.NodeListStatic=ki.NodeListStaticImpl;var vi=Ve(267),Mi=Ve(268),Di=Ve(269),Bi=Ve(160);r.ProcessingInstruction=Bi.ProcessingInstructionImpl;var Pi=Ve(165);r.Range=Pi.RangeImpl;var Fi=Ve(156);r.ShadowRoot=Fi.ShadowRootImpl;var Vi=Ve(270),Ti=Ve(271);r.StaticRange=Ti.StaticRangeImpl;var ji=Ve(101);r.Text=ji.TextImpl;var Gi=Ve(103);r.Traverser=Gi.TraverserImpl;var Yi=Ve(167);r.TreeWalker=Yi.TreeWalkerImpl;var Xi=Ve(149);r.Window=Xi.WindowImpl;var xi=Ve(151);r.XMLDocument=xi.XMLDocumentImpl,je.applyMixin(ai.ElementImpl,Je.ChildNodeImpl),je.applyMixin(Ze.CharacterDataImpl,Je.ChildNodeImpl),je.applyMixin(ei.DocumentTypeImpl,Je.ChildNodeImpl),je.applyMixin(ri.DocumentImpl,ii.DocumentOrShadowRootImpl),je.applyMixin(Fi.ShadowRootImpl,ii.DocumentOrShadowRootImpl),je.applyMixin(ai.ElementImpl,vi.NonDocumentTypeChildNodeImpl),je.applyMixin(Ze.CharacterDataImpl,vi.NonDocumentTypeChildNodeImpl),je.applyMixin(ri.DocumentImpl,Mi.NonElementParentNodeImpl),je.applyMixin(ni.DocumentFragmentImpl,Mi.NonElementParentNodeImpl),je.applyMixin(ri.DocumentImpl,Di.ParentNodeImpl),je.applyMixin(ni.DocumentFragmentImpl,Di.ParentNodeImpl),je.applyMixin(ai.ElementImpl,Di.ParentNodeImpl),je.applyMixin(ji.TextImpl,Vi.SlotableImpl),je.applyMixin(ai.ElementImpl,Vi.SlotableImpl)},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0}),function(je){je[je.EOF=0]="EOF",je[je.Declaration=1]="Declaration",je[je.DocType=2]="DocType",je[je.Element=3]="Element",je[je.Text=4]="Text",je[je.CDATA=5]="CDATA",je[je.PI=6]="PI",je[je.Comment=7]="Comment",je[je.ClosingTag=8]="ClosingTag"}(r.TokenType||(r.TokenType={}))},function(t,r,Ve){Ve(64),Ve(20),Ve(66);var je,ze=this&&this.__extends||(je=function(qe,Ke){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ze,Je){Ze.__proto__=Je}||function(Ze,Je){for(var Qe in Je)Je.hasOwnProperty(Qe)&&(Ze[Qe]=Je[Qe])})(qe,Ke)},function(qe,Ke){function Ze(){this.constructor=qe}je(qe,Ke),qe.prototype=Ke===null?Object.create(Ke):(Ze.prototype=Ke.prototype,new Ze)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(2),We=function(qe){function Ke(){return qe!==null&&qe.apply(this,arguments)||this}return ze(Ke,qe),Ke.prototype._parse=function(Ze,Je){var Qe=this,ti=this._builderOptions,ni=null;return Xe.isFunction(Je)?ni=this.parse(Ze,Je.apply(this)):Xe.isArray(Je)||Xe.isSet(Je)?Xe.forEachArray(Je,function(ri){return ni=Qe.parse(Ze,ri)},this):Xe.isMap(Je)||Xe.isObject(Je)?Xe.forEachObject(Je,function(ri,ii){if(Xe.isFunction(ii)&&(ii=ii.apply(Qe)),ti.ignoreConverters||ri.indexOf(ti.convert.att)!==0)if(ti.ignoreConverters||ri.indexOf(ti.convert.text)!==0)if(ti.ignoreConverters||ri.indexOf(ti.convert.cdata)!==0)if(ti.ignoreConverters||ri.indexOf(ti.convert.comment)!==0)if(ti.ignoreConverters||ri.indexOf(ti.convert.ins)!==0){if(!((Xe.isArray(ii)||Xe.isSet(ii))&&Xe.isEmpty(ii))){if((Xe.isMap(ii)||Xe.isObject(ii))&&Xe.isEmpty(ii))ni=Qe.element(Ze,void 0,Qe.sanitize(ri))||ni;else if(ti.keepNullNodes||ii!=null)if(Xe.isArray(ii)||Xe.isSet(ii))Xe.forEachArray(ii,function(ai){var ui={};ui[ri]=ai,ni=Qe.parse(Ze,ui)},Qe);else if(Xe.isMap(ii)||Xe.isObject(ii))(ei=Qe.element(Ze,void 0,Qe.sanitize(ri)))&&(ni=ei,Qe.parse(ei,ii));else if(ii!=null&&ii!==""){var ei;(ei=Qe.element(Ze,void 0,Qe.sanitize(ri)))&&(ni=ei,Qe.text(ei,Qe._decodeText(Qe.sanitize(ii))))}else ni=Qe.element(Ze,void 0,Qe.sanitize(ri))||ni}}else if(Xe.isString(ii)){var St=ii.indexOf(" "),oi=St===-1?ii:ii.substr(0,St),si=St===-1?"":ii.substr(St+1);ni=Qe.instruction(Ze,Qe.sanitize(oi),Qe.sanitize(si))||ni}else Xe.isArray(ii)||Xe.isSet(ii)?Xe.forEachArray(ii,function(ai){var ui=ai.indexOf(" "),hi=ui===-1?ai:ai.substr(0,ui),ci=ui===-1?"":ai.substr(ui+1);ni=Qe.instruction(Ze,Qe.sanitize(hi),Qe.sanitize(ci))||ni},Qe):Xe.forEachObject(ii,function(ai,ui){return ni=Qe.instruction(Ze,Qe.sanitize(ai),Qe.sanitize(ui))||ni},Qe);else Xe.isArray(ii)||Xe.isSet(ii)?Xe.forEachArray(ii,function(ai){return ni=Qe.comment(Ze,Qe.sanitize(ai))||ni},Qe):ni=Qe.comment(Ze,Qe.sanitize(ii))||ni;else Xe.isArray(ii)||Xe.isSet(ii)?Xe.forEachArray(ii,function(ai){return ni=Qe.cdata(Ze,Qe.sanitize(ai))||ni},Qe):ni=Qe.cdata(Ze,Qe.sanitize(ii))||ni;else ni=Xe.isMap(ii)||Xe.isObject(ii)?Qe.parse(Ze,ii):Qe.text(Ze,Qe._decodeText(Qe.sanitize(ii)))||ni;else if(ri===ti.convert.att){if(Xe.isArray(ii)||Xe.isSet(ii))throw new Error("Invalid attribute: "+ii.toString()+". "+Ze._debugInfo());Xe.forEachObject(ii,function(ai,ui){ni=Qe.attribute(Ze,void 0,Qe.sanitize(ai),Qe._decodeAttributeValue(Qe.sanitize(ui)))||ni})}else ni=Qe.attribute(Ze,void 0,Qe.sanitize(ri.substr(ti.convert.att.length)),Qe._decodeAttributeValue(Qe.sanitize(ii)))||ni},this):(ti.keepNullNodes||Je!=null)&&(ni=this.text(Ze,this._decodeText(this.sanitize(Je)))||ni),ni||Ze},Ke}(Ve(75).BaseReader);r.ObjectReader=We},function(t,r,Ve){var je=Ve(39);t.exports=new je({explicit:[Ve(287),Ve(288),Ve(289)]})},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=function(ze){this.level=0,this._builderOptions=ze,this._writerOptions=ze};r.BaseCBWriter=je},function(t,r,Ve){var je=Ve(16),ze=Ve(8),Xe=Ve(116);t.exports=!je&&!ze(function(){return Object.defineProperty(Xe("div"),"a",{get:function(){return 7}}).a!=7})},function(t,r,Ve){var je=Ve(11),ze=Ve(13),Xe=je.document,We=ze(Xe)&&ze(Xe.createElement);t.exports=function(qe){return We?Xe.createElement(qe):{}}},function(t,r,Ve){var je=Ve(118),ze=Function.toString;typeof je.inspectSource!="function"&&(je.inspectSource=function(Xe){return ze.call(Xe)}),t.exports=je.inspectSource},function(t,r,Ve){var je=Ve(11),ze=Ve(80),Xe=je["__core-js_shared__"]||ze("__core-js_shared__",{});t.exports=Xe},function(t,r,Ve){var je=Ve(14),ze=Ve(187),Xe=Ve(55),We=Ve(15);t.exports=function(qe,Ke){for(var Ze=ze(Ke),Je=We.f,Qe=Xe.f,ti=0;ti<Ze.length;ti++){var ni=Ze[ti];je(qe,ni)||Je(qe,ni,Qe(Ke,ni))}}},function(t,r,Ve){var je=Ve(11);t.exports=je},function(t,r,Ve){var je=Ve(14),ze=Ve(24),Xe=Ve(122).indexOf,We=Ve(45);t.exports=function(qe,Ke){var Ze,Je=ze(qe),Qe=0,ti=[];for(Ze in Je)!je(We,Ze)&&je(Je,Ze)&&ti.push(Ze);for(;Ke.length>Qe;)je(Je,Ze=Ke[Qe++])&&(~Xe(ti,Ze)||ti.push(Ze));return ti}},function(t,r,Ve){var je=Ve(24),ze=Ve(26),Xe=Ve(83),We=function(qe){return function(Ke,Ze,Je){var Qe,ti=je(Ke),ni=ze(ti.length),ri=Xe(Je,ni);if(qe&&Ze!=Ze){for(;ni>ri;)if((Qe=ti[ri++])!=Qe)return!0}else for(;ni>ri;ri++)if((qe||ri in ti)&&ti[ri]===Ze)return qe||ri||0;return!qe&&-1}};t.exports={includes:We(!0),indexOf:We(!1)}},function(t,r,Ve){var je=Ve(8),ze=/#|\.prototype\./,Xe=function(Je,Qe){var ti=qe[We(Je)];return ti==Ze||ti!=Ke&&(typeof Qe=="function"?je(Qe):!!Qe)},We=Xe.normalize=function(Je){return String(Je).replace(ze,".").toLowerCase()},qe=Xe.data={},Ke=Xe.NATIVE="N",Ze=Xe.POLYFILL="P";t.exports=Xe},function(t,r,Ve){var je=Ve(86);t.exports=je&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(t,r,Ve){var je=Ve(5);r.f=je},function(t,r,Ve){var je=Ve(120),ze=Ve(14),Xe=Ve(125),We=Ve(15).f;t.exports=function(qe){var Ke=je.Symbol||(je.Symbol={});ze(Ke,qe)||We(Ke,qe,{value:Xe.f(qe)})}},function(t,r){t.exports=function(Ve){if(typeof Ve!="function")throw TypeError(String(Ve)+" is not a function");return Ve}},function(t,r,Ve){var je=Ve(13),ze=Ve(59),Xe=Ve(5)("species");t.exports=function(We,qe){var Ke;return ze(We)&&(typeof(Ke=We.constructor)!="function"||Ke!==Array&&!ze(Ke.prototype)?je(Ke)&&(Ke=Ke[Xe])===null&&(Ke=void 0):Ke=void 0),new(Ke===void 0?Array:Ke)(qe===0?0:qe)}},function(t,r,Ve){var je,ze,Xe=Ve(11),We=Ve(193),qe=Xe.process,Ke=qe&&qe.versions,Ze=Ke&&Ke.v8;Ze?ze=(je=Ze.split("."))[0]+je[1]:We&&(!(je=We.match(/Edge\/(\d+)/))||je[1]>=74)&&(je=We.match(/Chrome\/(\d+)/))&&(ze=je[1]),t.exports=ze&&+ze},function(t,r,Ve){var je=Ve(5),ze=Ve(60),Xe=Ve(15),We=je("unscopables"),qe=Array.prototype;qe[We]==null&&Xe.f(qe,We,{configurable:!0,value:ze(null)}),t.exports=function(Ke){qe[We][Ke]=!0}},function(t,r,Ve){var je,ze,Xe,We=Ve(132),qe=Ve(21),Ke=Ve(14),Ze=Ve(5),Je=Ve(44),Qe=Ze("iterator"),ti=!1;[].keys&&("next"in(Xe=[].keys())?(ze=We(We(Xe)))!==Object.prototype&&(je=ze):ti=!0),je==null&&(je={}),Je||Ke(je,Qe)||qe(je,Qe,function(){return this}),t.exports={IteratorPrototype:je,BUGGY_SAFARI_ITERATORS:ti}},function(t,r,Ve){var je=Ve(14),ze=Ve(27),Xe=Ve(57),We=Ve(196),qe=Xe("IE_PROTO"),Ke=Object.prototype;t.exports=We?Object.getPrototypeOf:function(Ze){return Ze=ze(Ze),je(Ze,qe)?Ze[qe]:typeof Ze.constructor=="function"&&Ze instanceof Ze.constructor?Ze.constructor.prototype:Ze instanceof Object?Ke:null}},function(t,r,Ve){var je=Ve(18),ze=Ve(197);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var Xe,We=!1,qe={};try{(Xe=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(qe,[]),We=qe instanceof Array}catch{}return function(Ke,Ze){return je(Ke),ze(Ze),We?Xe.call(Ke,Ze):Ke.__proto__=Ze,Ke}}():void 0)},function(t,r,Ve){var je=Ve(56),ze=Ve(15),Xe=Ve(40);t.exports=function(We,qe,Ke){var Ze=je(qe);Ze in We?ze.f(We,Ze,Xe(0,Ke)):We[Ze]=Ke}},function(t,r,Ve){var je=Ve(90),ze=Ve(42),Xe=Ve(5)("toStringTag"),We=ze(function(){return arguments}())=="Arguments";t.exports=je?ze:function(qe){var Ke,Ze,Je;return qe===void 0?"Undefined":qe===null?"Null":typeof(Ze=function(Qe,ti){try{return Qe[ti]}catch{}}(Ke=Object(qe),Xe))=="string"?Ze:We?ze(Ke):(Je=ze(Ke))=="Object"&&typeof Ke.callee=="function"?"Arguments":Je}},function(t,r,Ve){var je=Ve(18);t.exports=function(){var ze=je(this),Xe="";return ze.global&&(Xe+="g"),ze.ignoreCase&&(Xe+="i"),ze.multiline&&(Xe+="m"),ze.dotAll&&(Xe+="s"),ze.unicode&&(Xe+="u"),ze.sticky&&(Xe+="y"),Xe}},function(t,r,Ve){var je=Ve(47),ze=Ve(35),Xe=function(We){return function(qe,Ke){var Ze,Je,Qe=String(ze(qe)),ti=je(Ke),ni=Qe.length;return ti<0||ti>=ni?We?"":void 0:(Ze=Qe.charCodeAt(ti))<55296||Ze>56319||ti+1===ni||(Je=Qe.charCodeAt(ti+1))<56320||Je>57343?We?Qe.charAt(ti):Ze:We?Qe.slice(ti,ti+2):Je-56320+(Ze-55296<<10)+65536}};t.exports={codeAt:Xe(!1),charAt:Xe(!0)}},function(t,r,Ve){var je=Ve(4),ze=Ve(27),Xe=Ve(61);je({target:"Object",stat:!0,forced:Ve(8)(function(){Xe(1)})},{keys:function(We){return Xe(ze(We))}})},function(t,r,Ve){var je=Ve(4),ze=Ve(11),Xe=Ve(123),We=Ve(25),qe=Ve(140),Ke=Ve(141),Ze=Ve(142),Je=Ve(13),Qe=Ve(8),ti=Ve(208),ni=Ve(62),ri=Ve(209);t.exports=function(ii,ei,St){var oi=ii.indexOf("Map")!==-1,si=ii.indexOf("Weak")!==-1,ai=oi?"set":"add",ui=ze[ii],hi=ui&&ui.prototype,ci=ui,mi={},di=function(ki){var vi=hi[ki];We(hi,ki,ki=="add"?function(Mi){return vi.call(this,Mi===0?0:Mi),this}:ki=="delete"?function(Mi){return!(si&&!Je(Mi))&&vi.call(this,Mi===0?0:Mi)}:ki=="get"?function(Mi){return si&&!Je(Mi)?void 0:vi.call(this,Mi===0?0:Mi)}:ki=="has"?function(Mi){return!(si&&!Je(Mi))&&vi.call(this,Mi===0?0:Mi)}:function(Mi,Di){return vi.call(this,Mi===0?0:Mi,Di),this})};if(Xe(ii,typeof ui!="function"||!(si||hi.forEach&&!Qe(function(){new ui().entries().next()}))))ci=St.getConstructor(ei,ii,oi,ai),qe.REQUIRED=!0;else if(Xe(ii,!0)){var pi=new ci,yi=pi[ai](si?{}:-0,1)!=pi,gi=Qe(function(){pi.has(1)}),_i=ti(function(ki){new ui(ki)}),Ai=!si&&Qe(function(){for(var ki=new ui,vi=5;vi--;)ki[ai](vi,vi);return!ki.has(-0)});_i||((ci=ei(function(ki,vi){Ze(ki,ci,ii);var Mi=ri(new ui,ki,ci);return vi!=null&&Ke(vi,Mi[ai],Mi,oi),Mi})).prototype=hi,hi.constructor=ci),(gi||Ai)&&(di("delete"),di("has"),oi&&di("get")),(Ai||yi)&&di(ai),si&&hi.clear&&delete hi.clear}return mi[ii]=ci,je({global:!0,forced:ci!=ui},mi),ni(ci,ii),si||St.setStrong(ci,ii,oi),ci}},function(t,r,Ve){var je=Ve(45),ze=Ve(13),Xe=Ve(14),We=Ve(15).f,qe=Ve(58),Ke=Ve(204),Ze=qe("meta"),Je=0,Qe=Object.isExtensible||function(){return!0},ti=function(ri){We(ri,Ze,{value:{objectID:"O"+ ++Je,weakData:{}}})},ni=t.exports={REQUIRED:!1,fastKey:function(ri,ii){if(!ze(ri))return typeof ri=="symbol"?ri:(typeof ri=="string"?"S":"P")+ri;if(!Xe(ri,Ze)){if(!Qe(ri))return"F";if(!ii)return"E";ti(ri)}return ri[Ze].objectID},getWeakData:function(ri,ii){if(!Xe(ri,Ze)){if(!Qe(ri))return!0;if(!ii)return!1;ti(ri)}return ri[Ze].weakData},onFreeze:function(ri){return Ke&&ni.REQUIRED&&Qe(ri)&&!Xe(ri,Ze)&&ti(ri),ri}};je[Ze]=!0},function(t,r,Ve){var je=Ve(18),ze=Ve(205),Xe=Ve(26),We=Ve(87),qe=Ve(206),Ke=Ve(207),Ze=function(Je,Qe){this.stopped=Je,this.result=Qe};(t.exports=function(Je,Qe,ti,ni,ri){var ii,ei,St,oi,si,ai,ui,hi=We(Qe,ti,ni?2:1);if(ri)ii=Je;else{if(typeof(ei=qe(Je))!="function")throw TypeError("Target is not iterable");if(ze(ei)){for(St=0,oi=Xe(Je.length);oi>St;St++)if((si=ni?hi(je(ui=Je[St])[0],ui[1]):hi(Je[St]))&&si instanceof Ze)return si;return new Ze(!1)}ii=ei.call(Je)}for(ai=ii.next;!(ui=ai.call(ii)).done;)if(typeof(si=Ke(ii,hi,ui.value,ni))=="object"&&si&&si instanceof Ze)return si;return new Ze(!1)}).stop=function(Je){return new Ze(!0,Je)}},function(t,r){t.exports=function(Ve,je,ze){if(!(Ve instanceof je))throw TypeError("Incorrect "+(ze?ze+" ":"")+"invocation");return Ve}},function(t,r,Ve){var je=Ve(15).f,ze=Ve(60),Xe=Ve(210),We=Ve(87),qe=Ve(142),Ke=Ve(141),Ze=Ve(88),Je=Ve(211),Qe=Ve(16),ti=Ve(140).fastKey,ni=Ve(43),ri=ni.set,ii=ni.getterFor;t.exports={getConstructor:function(ei,St,oi,si){var ai=ei(function(mi,di){qe(mi,ai,St),ri(mi,{type:St,index:ze(null),first:void 0,last:void 0,size:0}),Qe||(mi.size=0),di!=null&&Ke(di,mi[si],mi,oi)}),ui=ii(St),hi=function(mi,di,pi){var yi,gi,_i=ui(mi),Ai=ci(mi,di);return Ai?Ai.value=pi:(_i.last=Ai={index:gi=ti(di,!0),key:di,value:pi,previous:yi=_i.last,next:void 0,removed:!1},_i.first||(_i.first=Ai),yi&&(yi.next=Ai),Qe?_i.size++:mi.size++,gi!=="F"&&(_i.index[gi]=Ai)),mi},ci=function(mi,di){var pi,yi=ui(mi),gi=ti(di);if(gi!=="F")return yi.index[gi];for(pi=yi.first;pi;pi=pi.next)if(pi.key==di)return pi};return Xe(ai.prototype,{clear:function(){for(var mi=ui(this),di=mi.index,pi=mi.first;pi;)pi.removed=!0,pi.previous&&(pi.previous=pi.previous.next=void 0),delete di[pi.index],pi=pi.next;mi.first=mi.last=void 0,Qe?mi.size=0:this.size=0},delete:function(mi){var di=ui(this),pi=ci(this,mi);if(pi){var yi=pi.next,gi=pi.previous;delete di.index[pi.index],pi.removed=!0,gi&&(gi.next=yi),yi&&(yi.previous=gi),di.first==pi&&(di.first=yi),di.last==pi&&(di.last=gi),Qe?di.size--:this.size--}return!!pi},forEach:function(mi){for(var di,pi=ui(this),yi=We(mi,arguments.length>1?arguments[1]:void 0,3);di=di?di.next:pi.first;)for(yi(di.value,di.key,this);di&&di.removed;)di=di.previous},has:function(mi){return!!ci(this,mi)}}),Xe(ai.prototype,oi?{get:function(mi){var di=ci(this,mi);return di&&di.value},set:function(mi,di){return hi(this,mi===0?0:mi,di)}}:{add:function(mi){return hi(this,mi=mi===0?0:mi,mi)}}),Qe&&je(ai.prototype,"size",{get:function(){return ui(this).size}}),ai},setStrong:function(ei,St,oi){var si=St+" Iterator",ai=ii(St),ui=ii(si);Ze(ei,St,function(hi,ci){ri(this,{type:si,target:hi,state:ai(hi),kind:ci,last:void 0})},function(){for(var hi=ui(this),ci=hi.kind,mi=hi.last;mi&&mi.removed;)mi=mi.previous;return hi.target&&(hi.last=mi=mi?mi.next:hi.state.first)?ci=="keys"?{value:mi.key,done:!1}:ci=="values"?{value:mi.value,done:!1}:{value:[mi.key,mi.value],done:!1}:(hi.target=void 0,{value:void 0,done:!0})},oi?"entries":"values",!oi,!0),Je(St)}}},function(t,r,Ve){var je,ze=Ve(4),Xe=Ve(55).f,We=Ve(26),qe=Ve(222),Ke=Ve(35),Ze=Ve(224),Je=Ve(44),Qe="".endsWith,ti=Math.min,ni=Ze("endsWith");ze({target:"String",proto:!0,forced:!!(Je||ni||(je=Xe(String.prototype,"endsWith"),!je||je.writable))&&!ni},{endsWith:function(ri){var ii=String(Ke(this));qe(ri);var ei=arguments.length>1?arguments[1]:void 0,St=We(ii.length),oi=ei===void 0?St:ti(We(ei),St),si=String(ri);return Qe?Qe.call(ii,si,oi):ii.slice(oi-si.length,oi)===si}})},function(t,r,Ve){(function(je){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var ze=Ve(229),Xe=Ve(230),We=Ve(231);function qe(){return Ze.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Ke(xi,fi){if(qe()<fi)throw new RangeError("Invalid typed array length");return Ze.TYPED_ARRAY_SUPPORT?(xi=new Uint8Array(fi)).__proto__=Ze.prototype:(xi===null&&(xi=new Ze(fi)),xi.length=fi),xi}function Ze(xi,fi,$i){if(!(Ze.TYPED_ARRAY_SUPPORT||this instanceof Ze))return new Ze(xi,fi,$i);if(typeof xi=="number"){if(typeof fi=="string")throw new Error("If encoding is specified then the first argument must be a string");return ti(this,xi)}return Je(this,xi,fi,$i)}function Je(xi,fi,$i,bi){if(typeof fi=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&fi instanceof ArrayBuffer?function(Ci,Ei,Si,zi){if(Ei.byteLength,Si<0||Ei.byteLength<Si)throw new RangeError("'offset' is out of bounds");if(Ei.byteLength<Si+(zi||0))throw new RangeError("'length' is out of bounds");return Ei=Si===void 0&&zi===void 0?new Uint8Array(Ei):zi===void 0?new Uint8Array(Ei,Si):new Uint8Array(Ei,Si,zi),Ze.TYPED_ARRAY_SUPPORT?(Ci=Ei).__proto__=Ze.prototype:Ci=ni(Ci,Ei),Ci}(xi,fi,$i,bi):typeof fi=="string"?function(Ci,Ei,Si){if(typeof Si=="string"&&Si!==""||(Si="utf8"),!Ze.isEncoding(Si))throw new TypeError('"encoding" must be a valid string encoding');var zi=0|ii(Ei,Si),Ki=(Ci=Ke(Ci,zi)).write(Ei,Si);return Ki!==zi&&(Ci=Ci.slice(0,Ki)),Ci}(xi,fi,$i):function(Ci,Ei){if(Ze.isBuffer(Ei)){var Si=0|ri(Ei.length);return(Ci=Ke(Ci,Si)).length===0||Ei.copy(Ci,0,0,Si),Ci}if(Ei){if(typeof ArrayBuffer<"u"&&Ei.buffer instanceof ArrayBuffer||"length"in Ei)return typeof Ei.length!="number"||(zi=Ei.length)!=zi?Ke(Ci,0):ni(Ci,Ei);if(Ei.type==="Buffer"&&We(Ei.data))return ni(Ci,Ei.data)}var zi;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(xi,fi)}function Qe(xi){if(typeof xi!="number")throw new TypeError('"size" argument must be a number');if(xi<0)throw new RangeError('"size" argument must not be negative')}function ti(xi,fi){if(Qe(fi),xi=Ke(xi,fi<0?0:0|ri(fi)),!Ze.TYPED_ARRAY_SUPPORT)for(var $i=0;$i<fi;++$i)xi[$i]=0;return xi}function ni(xi,fi){var $i=fi.length<0?0:0|ri(fi.length);xi=Ke(xi,$i);for(var bi=0;bi<$i;bi+=1)xi[bi]=255&fi[bi];return xi}function ri(xi){if(xi>=qe())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+qe().toString(16)+" bytes");return 0|xi}function ii(xi,fi){if(Ze.isBuffer(xi))return xi.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(xi)||xi instanceof ArrayBuffer))return xi.byteLength;typeof xi!="string"&&(xi=""+xi);var $i=xi.length;if($i===0)return 0;for(var bi=!1;;)switch(fi){case"ascii":case"latin1":case"binary":return $i;case"utf8":case"utf-8":case void 0:return Gi(xi).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*$i;case"hex":return $i>>>1;case"base64":return Yi(xi).length;default:if(bi)return Gi(xi).length;fi=(""+fi).toLowerCase(),bi=!0}}function ei(xi,fi,$i){var bi=!1;if((fi===void 0||fi<0)&&(fi=0),fi>this.length||(($i===void 0||$i>this.length)&&($i=this.length),$i<=0)||($i>>>=0)<=(fi>>>=0))return"";for(xi||(xi="utf8");;)switch(xi){case"hex":return Ai(this,fi,$i);case"utf8":case"utf-8":return yi(this,fi,$i);case"ascii":return gi(this,fi,$i);case"latin1":case"binary":return _i(this,fi,$i);case"base64":return pi(this,fi,$i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ki(this,fi,$i);default:if(bi)throw new TypeError("Unknown encoding: "+xi);xi=(xi+"").toLowerCase(),bi=!0}}function St(xi,fi,$i){var bi=xi[fi];xi[fi]=xi[$i],xi[$i]=bi}function oi(xi,fi,$i,bi,Ci){if(xi.length===0)return-1;if(typeof $i=="string"?(bi=$i,$i=0):$i>2147483647?$i=2147483647:$i<-2147483648&&($i=-2147483648),$i=+$i,isNaN($i)&&($i=Ci?0:xi.length-1),$i<0&&($i=xi.length+$i),$i>=xi.length){if(Ci)return-1;$i=xi.length-1}else if($i<0){if(!Ci)return-1;$i=0}if(typeof fi=="string"&&(fi=Ze.from(fi,bi)),Ze.isBuffer(fi))return fi.length===0?-1:si(xi,fi,$i,bi,Ci);if(typeof fi=="number")return fi&=255,Ze.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?Ci?Uint8Array.prototype.indexOf.call(xi,fi,$i):Uint8Array.prototype.lastIndexOf.call(xi,fi,$i):si(xi,[fi],$i,bi,Ci);throw new TypeError("val must be string, number or Buffer")}function si(xi,fi,$i,bi,Ci){var Ei,Si=1,zi=xi.length,Ki=fi.length;if(bi!==void 0&&((bi=String(bi).toLowerCase())==="ucs2"||bi==="ucs-2"||bi==="utf16le"||bi==="utf-16le")){if(xi.length<2||fi.length<2)return-1;Si=2,zi/=2,Ki/=2,$i/=2}function Ui(un,Mn){return Si===1?un[Mn]:un.readUInt16BE(Mn*Si)}if(Ci){var Ji=-1;for(Ei=$i;Ei<zi;Ei++)if(Ui(xi,Ei)===Ui(fi,Ji===-1?0:Ei-Ji)){if(Ji===-1&&(Ji=Ei),Ei-Ji+1===Ki)return Ji*Si}else Ji!==-1&&(Ei-=Ei-Ji),Ji=-1}else for($i+Ki>zi&&($i=zi-Ki),Ei=$i;Ei>=0;Ei--){for(var gn=!0,hn=0;hn<Ki;hn++)if(Ui(xi,Ei+hn)!==Ui(fi,hn)){gn=!1;break}if(gn)return Ei}return-1}function ai(xi,fi,$i,bi){$i=Number($i)||0;var Ci=xi.length-$i;bi?(bi=Number(bi))>Ci&&(bi=Ci):bi=Ci;var Ei=fi.length;if(Ei%2!=0)throw new TypeError("Invalid hex string");bi>Ei/2&&(bi=Ei/2);for(var Si=0;Si<bi;++Si){var zi=parseInt(fi.substr(2*Si,2),16);if(isNaN(zi))return Si;xi[$i+Si]=zi}return Si}function ui(xi,fi,$i,bi){return Xi(Gi(fi,xi.length-$i),xi,$i,bi)}function hi(xi,fi,$i,bi){return Xi(function(Ci){for(var Ei=[],Si=0;Si<Ci.length;++Si)Ei.push(255&Ci.charCodeAt(Si));return Ei}(fi),xi,$i,bi)}function ci(xi,fi,$i,bi){return hi(xi,fi,$i,bi)}function mi(xi,fi,$i,bi){return Xi(Yi(fi),xi,$i,bi)}function di(xi,fi,$i,bi){return Xi(function(Ci,Ei){for(var Si,zi,Ki,Ui=[],Ji=0;Ji<Ci.length&&!((Ei-=2)<0);++Ji)Si=Ci.charCodeAt(Ji),zi=Si>>8,Ki=Si%256,Ui.push(Ki),Ui.push(zi);return Ui}(fi,xi.length-$i),xi,$i,bi)}function pi(xi,fi,$i){return fi===0&&$i===xi.length?ze.fromByteArray(xi):ze.fromByteArray(xi.slice(fi,$i))}function yi(xi,fi,$i){$i=Math.min(xi.length,$i);for(var bi=[],Ci=fi;Ci<$i;){var Ei,Si,zi,Ki,Ui=xi[Ci],Ji=null,gn=Ui>239?4:Ui>223?3:Ui>191?2:1;if(Ci+gn<=$i)switch(gn){case 1:Ui<128&&(Ji=Ui);break;case 2:(192&(Ei=xi[Ci+1]))==128&&(Ki=(31&Ui)<<6|63&Ei)>127&&(Ji=Ki);break;case 3:Ei=xi[Ci+1],Si=xi[Ci+2],(192&Ei)==128&&(192&Si)==128&&(Ki=(15&Ui)<<12|(63&Ei)<<6|63&Si)>2047&&(Ki<55296||Ki>57343)&&(Ji=Ki);break;case 4:Ei=xi[Ci+1],Si=xi[Ci+2],zi=xi[Ci+3],(192&Ei)==128&&(192&Si)==128&&(192&zi)==128&&(Ki=(15&Ui)<<18|(63&Ei)<<12|(63&Si)<<6|63&zi)>65535&&Ki<1114112&&(Ji=Ki)}Ji===null?(Ji=65533,gn=1):Ji>65535&&(Ji-=65536,bi.push(Ji>>>10&1023|55296),Ji=56320|1023&Ji),bi.push(Ji),Ci+=gn}return function(hn){var un=hn.length;if(un<=4096)return String.fromCharCode.apply(String,hn);for(var Mn="",sn=0;sn<un;)Mn+=String.fromCharCode.apply(String,hn.slice(sn,sn+=4096));return Mn}(bi)}r.Buffer=Ze,r.SlowBuffer=function(xi){return+xi!=xi&&(xi=0),Ze.alloc(+xi)},r.INSPECT_MAX_BYTES=50,Ze.TYPED_ARRAY_SUPPORT=je.TYPED_ARRAY_SUPPORT!==void 0?je.TYPED_ARRAY_SUPPORT:function(){try{var xi=new Uint8Array(1);return xi.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},xi.foo()===42&&typeof xi.subarray=="function"&&xi.subarray(1,1).byteLength===0}catch{return!1}}(),r.kMaxLength=qe(),Ze.poolSize=8192,Ze._augment=function(xi){return xi.__proto__=Ze.prototype,xi},Ze.from=function(xi,fi,$i){return Je(null,xi,fi,$i)},Ze.TYPED_ARRAY_SUPPORT&&(Ze.prototype.__proto__=Uint8Array.prototype,Ze.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&Ze[Symbol.species]===Ze&&Object.defineProperty(Ze,Symbol.species,{value:null,configurable:!0})),Ze.alloc=function(xi,fi,$i){return function(bi,Ci,Ei,Si){return Qe(Ci),Ci<=0?Ke(bi,Ci):Ei!==void 0?typeof Si=="string"?Ke(bi,Ci).fill(Ei,Si):Ke(bi,Ci).fill(Ei):Ke(bi,Ci)}(null,xi,fi,$i)},Ze.allocUnsafe=function(xi){return ti(null,xi)},Ze.allocUnsafeSlow=function(xi){return ti(null,xi)},Ze.isBuffer=function(xi){return!(xi==null||!xi._isBuffer)},Ze.compare=function(xi,fi){if(!Ze.isBuffer(xi)||!Ze.isBuffer(fi))throw new TypeError("Arguments must be Buffers");if(xi===fi)return 0;for(var $i=xi.length,bi=fi.length,Ci=0,Ei=Math.min($i,bi);Ci<Ei;++Ci)if(xi[Ci]!==fi[Ci]){$i=xi[Ci],bi=fi[Ci];break}return $i<bi?-1:bi<$i?1:0},Ze.isEncoding=function(xi){switch(String(xi).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Ze.concat=function(xi,fi){if(!We(xi))throw new TypeError('"list" argument must be an Array of Buffers');if(xi.length===0)return Ze.alloc(0);var $i;if(fi===void 0)for(fi=0,$i=0;$i<xi.length;++$i)fi+=xi[$i].length;var bi=Ze.allocUnsafe(fi),Ci=0;for($i=0;$i<xi.length;++$i){var Ei=xi[$i];if(!Ze.isBuffer(Ei))throw new TypeError('"list" argument must be an Array of Buffers');Ei.copy(bi,Ci),Ci+=Ei.length}return bi},Ze.byteLength=ii,Ze.prototype._isBuffer=!0,Ze.prototype.swap16=function(){var xi=this.length;if(xi%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var fi=0;fi<xi;fi+=2)St(this,fi,fi+1);return this},Ze.prototype.swap32=function(){var xi=this.length;if(xi%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var fi=0;fi<xi;fi+=4)St(this,fi,fi+3),St(this,fi+1,fi+2);return this},Ze.prototype.swap64=function(){var xi=this.length;if(xi%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var fi=0;fi<xi;fi+=8)St(this,fi,fi+7),St(this,fi+1,fi+6),St(this,fi+2,fi+5),St(this,fi+3,fi+4);return this},Ze.prototype.toString=function(){var xi=0|this.length;return xi===0?"":arguments.length===0?yi(this,0,xi):ei.apply(this,arguments)},Ze.prototype.equals=function(xi){if(!Ze.isBuffer(xi))throw new TypeError("Argument must be a Buffer");return this===xi||Ze.compare(this,xi)===0},Ze.prototype.inspect=function(){var xi="",fi=r.INSPECT_MAX_BYTES;return this.length>0&&(xi=this.toString("hex",0,fi).match(/.{2}/g).join(" "),this.length>fi&&(xi+=" ... ")),"<Buffer "+xi+">"},Ze.prototype.compare=function(xi,fi,$i,bi,Ci){if(!Ze.isBuffer(xi))throw new TypeError("Argument must be a Buffer");if(fi===void 0&&(fi=0),$i===void 0&&($i=xi?xi.length:0),bi===void 0&&(bi=0),Ci===void 0&&(Ci=this.length),fi<0||$i>xi.length||bi<0||Ci>this.length)throw new RangeError("out of range index");if(bi>=Ci&&fi>=$i)return 0;if(bi>=Ci)return-1;if(fi>=$i)return 1;if(this===xi)return 0;for(var Ei=(Ci>>>=0)-(bi>>>=0),Si=($i>>>=0)-(fi>>>=0),zi=Math.min(Ei,Si),Ki=this.slice(bi,Ci),Ui=xi.slice(fi,$i),Ji=0;Ji<zi;++Ji)if(Ki[Ji]!==Ui[Ji]){Ei=Ki[Ji],Si=Ui[Ji];break}return Ei<Si?-1:Si<Ei?1:0},Ze.prototype.includes=function(xi,fi,$i){return this.indexOf(xi,fi,$i)!==-1},Ze.prototype.indexOf=function(xi,fi,$i){return oi(this,xi,fi,$i,!0)},Ze.prototype.lastIndexOf=function(xi,fi,$i){return oi(this,xi,fi,$i,!1)},Ze.prototype.write=function(xi,fi,$i,bi){if(fi===void 0)bi="utf8",$i=this.length,fi=0;else if($i===void 0&&typeof fi=="string")bi=fi,$i=this.length,fi=0;else{if(!isFinite(fi))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");fi|=0,isFinite($i)?($i|=0,bi===void 0&&(bi="utf8")):(bi=$i,$i=void 0)}var Ci=this.length-fi;if(($i===void 0||$i>Ci)&&($i=Ci),xi.length>0&&($i<0||fi<0)||fi>this.length)throw new RangeError("Attempt to write outside buffer bounds");bi||(bi="utf8");for(var Ei=!1;;)switch(bi){case"hex":return ai(this,xi,fi,$i);case"utf8":case"utf-8":return ui(this,xi,fi,$i);case"ascii":return hi(this,xi,fi,$i);case"latin1":case"binary":return ci(this,xi,fi,$i);case"base64":return mi(this,xi,fi,$i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return di(this,xi,fi,$i);default:if(Ei)throw new TypeError("Unknown encoding: "+bi);bi=(""+bi).toLowerCase(),Ei=!0}},Ze.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function gi(xi,fi,$i){var bi="";$i=Math.min(xi.length,$i);for(var Ci=fi;Ci<$i;++Ci)bi+=String.fromCharCode(127&xi[Ci]);return bi}function _i(xi,fi,$i){var bi="";$i=Math.min(xi.length,$i);for(var Ci=fi;Ci<$i;++Ci)bi+=String.fromCharCode(xi[Ci]);return bi}function Ai(xi,fi,$i){var bi=xi.length;(!fi||fi<0)&&(fi=0),(!$i||$i<0||$i>bi)&&($i=bi);for(var Ci="",Ei=fi;Ei<$i;++Ei)Ci+=ji(xi[Ei]);return Ci}function ki(xi,fi,$i){for(var bi=xi.slice(fi,$i),Ci="",Ei=0;Ei<bi.length;Ei+=2)Ci+=String.fromCharCode(bi[Ei]+256*bi[Ei+1]);return Ci}function vi(xi,fi,$i){if(xi%1!=0||xi<0)throw new RangeError("offset is not uint");if(xi+fi>$i)throw new RangeError("Trying to access beyond buffer length")}function Mi(xi,fi,$i,bi,Ci,Ei){if(!Ze.isBuffer(xi))throw new TypeError('"buffer" argument must be a Buffer instance');if(fi>Ci||fi<Ei)throw new RangeError('"value" argument is out of bounds');if($i+bi>xi.length)throw new RangeError("Index out of range")}function Di(xi,fi,$i,bi){fi<0&&(fi=65535+fi+1);for(var Ci=0,Ei=Math.min(xi.length-$i,2);Ci<Ei;++Ci)xi[$i+Ci]=(fi&255<<8*(bi?Ci:1-Ci))>>>8*(bi?Ci:1-Ci)}function Bi(xi,fi,$i,bi){fi<0&&(fi=4294967295+fi+1);for(var Ci=0,Ei=Math.min(xi.length-$i,4);Ci<Ei;++Ci)xi[$i+Ci]=fi>>>8*(bi?Ci:3-Ci)&255}function Pi(xi,fi,$i,bi,Ci,Ei){if($i+bi>xi.length)throw new RangeError("Index out of range");if($i<0)throw new RangeError("Index out of range")}function Fi(xi,fi,$i,bi,Ci){return Ci||Pi(xi,0,$i,4),Xe.write(xi,fi,$i,bi,23,4),$i+4}function Vi(xi,fi,$i,bi,Ci){return Ci||Pi(xi,0,$i,8),Xe.write(xi,fi,$i,bi,52,8),$i+8}Ze.prototype.slice=function(xi,fi){var $i,bi=this.length;if((xi=~~xi)<0?(xi+=bi)<0&&(xi=0):xi>bi&&(xi=bi),(fi=fi===void 0?bi:~~fi)<0?(fi+=bi)<0&&(fi=0):fi>bi&&(fi=bi),fi<xi&&(fi=xi),Ze.TYPED_ARRAY_SUPPORT)($i=this.subarray(xi,fi)).__proto__=Ze.prototype;else{var Ci=fi-xi;$i=new Ze(Ci,void 0);for(var Ei=0;Ei<Ci;++Ei)$i[Ei]=this[Ei+xi]}return $i},Ze.prototype.readUIntLE=function(xi,fi,$i){xi|=0,fi|=0,$i||vi(xi,fi,this.length);for(var bi=this[xi],Ci=1,Ei=0;++Ei<fi&&(Ci*=256);)bi+=this[xi+Ei]*Ci;return bi},Ze.prototype.readUIntBE=function(xi,fi,$i){xi|=0,fi|=0,$i||vi(xi,fi,this.length);for(var bi=this[xi+--fi],Ci=1;fi>0&&(Ci*=256);)bi+=this[xi+--fi]*Ci;return bi},Ze.prototype.readUInt8=function(xi,fi){return fi||vi(xi,1,this.length),this[xi]},Ze.prototype.readUInt16LE=function(xi,fi){return fi||vi(xi,2,this.length),this[xi]|this[xi+1]<<8},Ze.prototype.readUInt16BE=function(xi,fi){return fi||vi(xi,2,this.length),this[xi]<<8|this[xi+1]},Ze.prototype.readUInt32LE=function(xi,fi){return fi||vi(xi,4,this.length),(this[xi]|this[xi+1]<<8|this[xi+2]<<16)+16777216*this[xi+3]},Ze.prototype.readUInt32BE=function(xi,fi){return fi||vi(xi,4,this.length),16777216*this[xi]+(this[xi+1]<<16|this[xi+2]<<8|this[xi+3])},Ze.prototype.readIntLE=function(xi,fi,$i){xi|=0,fi|=0,$i||vi(xi,fi,this.length);for(var bi=this[xi],Ci=1,Ei=0;++Ei<fi&&(Ci*=256);)bi+=this[xi+Ei]*Ci;return bi>=(Ci*=128)&&(bi-=Math.pow(2,8*fi)),bi},Ze.prototype.readIntBE=function(xi,fi,$i){xi|=0,fi|=0,$i||vi(xi,fi,this.length);for(var bi=fi,Ci=1,Ei=this[xi+--bi];bi>0&&(Ci*=256);)Ei+=this[xi+--bi]*Ci;return Ei>=(Ci*=128)&&(Ei-=Math.pow(2,8*fi)),Ei},Ze.prototype.readInt8=function(xi,fi){return fi||vi(xi,1,this.length),128&this[xi]?-1*(255-this[xi]+1):this[xi]},Ze.prototype.readInt16LE=function(xi,fi){fi||vi(xi,2,this.length);var $i=this[xi]|this[xi+1]<<8;return 32768&$i?4294901760|$i:$i},Ze.prototype.readInt16BE=function(xi,fi){fi||vi(xi,2,this.length);var $i=this[xi+1]|this[xi]<<8;return 32768&$i?4294901760|$i:$i},Ze.prototype.readInt32LE=function(xi,fi){return fi||vi(xi,4,this.length),this[xi]|this[xi+1]<<8|this[xi+2]<<16|this[xi+3]<<24},Ze.prototype.readInt32BE=function(xi,fi){return fi||vi(xi,4,this.length),this[xi]<<24|this[xi+1]<<16|this[xi+2]<<8|this[xi+3]},Ze.prototype.readFloatLE=function(xi,fi){return fi||vi(xi,4,this.length),Xe.read(this,xi,!0,23,4)},Ze.prototype.readFloatBE=function(xi,fi){return fi||vi(xi,4,this.length),Xe.read(this,xi,!1,23,4)},Ze.prototype.readDoubleLE=function(xi,fi){return fi||vi(xi,8,this.length),Xe.read(this,xi,!0,52,8)},Ze.prototype.readDoubleBE=function(xi,fi){return fi||vi(xi,8,this.length),Xe.read(this,xi,!1,52,8)},Ze.prototype.writeUIntLE=function(xi,fi,$i,bi){xi=+xi,fi|=0,$i|=0,bi||Mi(this,xi,fi,$i,Math.pow(2,8*$i)-1,0);var Ci=1,Ei=0;for(this[fi]=255&xi;++Ei<$i&&(Ci*=256);)this[fi+Ei]=xi/Ci&255;return fi+$i},Ze.prototype.writeUIntBE=function(xi,fi,$i,bi){xi=+xi,fi|=0,$i|=0,bi||Mi(this,xi,fi,$i,Math.pow(2,8*$i)-1,0);var Ci=$i-1,Ei=1;for(this[fi+Ci]=255&xi;--Ci>=0&&(Ei*=256);)this[fi+Ci]=xi/Ei&255;return fi+$i},Ze.prototype.writeUInt8=function(xi,fi,$i){return xi=+xi,fi|=0,$i||Mi(this,xi,fi,1,255,0),Ze.TYPED_ARRAY_SUPPORT||(xi=Math.floor(xi)),this[fi]=255&xi,fi+1},Ze.prototype.writeUInt16LE=function(xi,fi,$i){return xi=+xi,fi|=0,$i||Mi(this,xi,fi,2,65535,0),Ze.TYPED_ARRAY_SUPPORT?(this[fi]=255&xi,this[fi+1]=xi>>>8):Di(this,xi,fi,!0),fi+2},Ze.prototype.writeUInt16BE=function(xi,fi,$i){return xi=+xi,fi|=0,$i||Mi(this,xi,fi,2,65535,0),Ze.TYPED_ARRAY_SUPPORT?(this[fi]=xi>>>8,this[fi+1]=255&xi):Di(this,xi,fi,!1),fi+2},Ze.prototype.writeUInt32LE=function(xi,fi,$i){return xi=+xi,fi|=0,$i||Mi(this,xi,fi,4,4294967295,0),Ze.TYPED_ARRAY_SUPPORT?(this[fi+3]=xi>>>24,this[fi+2]=xi>>>16,this[fi+1]=xi>>>8,this[fi]=255&xi):Bi(this,xi,fi,!0),fi+4},Ze.prototype.writeUInt32BE=function(xi,fi,$i){return xi=+xi,fi|=0,$i||Mi(this,xi,fi,4,4294967295,0),Ze.TYPED_ARRAY_SUPPORT?(this[fi]=xi>>>24,this[fi+1]=xi>>>16,this[fi+2]=xi>>>8,this[fi+3]=255&xi):Bi(this,xi,fi,!1),fi+4},Ze.prototype.writeIntLE=function(xi,fi,$i,bi){if(xi=+xi,fi|=0,!bi){var Ci=Math.pow(2,8*$i-1);Mi(this,xi,fi,$i,Ci-1,-Ci)}var Ei=0,Si=1,zi=0;for(this[fi]=255&xi;++Ei<$i&&(Si*=256);)xi<0&&zi===0&&this[fi+Ei-1]!==0&&(zi=1),this[fi+Ei]=(xi/Si>>0)-zi&255;return fi+$i},Ze.prototype.writeIntBE=function(xi,fi,$i,bi){if(xi=+xi,fi|=0,!bi){var Ci=Math.pow(2,8*$i-1);Mi(this,xi,fi,$i,Ci-1,-Ci)}var Ei=$i-1,Si=1,zi=0;for(this[fi+Ei]=255&xi;--Ei>=0&&(Si*=256);)xi<0&&zi===0&&this[fi+Ei+1]!==0&&(zi=1),this[fi+Ei]=(xi/Si>>0)-zi&255;return fi+$i},Ze.prototype.writeInt8=function(xi,fi,$i){return xi=+xi,fi|=0,$i||Mi(this,xi,fi,1,127,-128),Ze.TYPED_ARRAY_SUPPORT||(xi=Math.floor(xi)),xi<0&&(xi=255+xi+1),this[fi]=255&xi,fi+1},Ze.prototype.writeInt16LE=function(xi,fi,$i){return xi=+xi,fi|=0,$i||Mi(this,xi,fi,2,32767,-32768),Ze.TYPED_ARRAY_SUPPORT?(this[fi]=255&xi,this[fi+1]=xi>>>8):Di(this,xi,fi,!0),fi+2},Ze.prototype.writeInt16BE=function(xi,fi,$i){return xi=+xi,fi|=0,$i||Mi(this,xi,fi,2,32767,-32768),Ze.TYPED_ARRAY_SUPPORT?(this[fi]=xi>>>8,this[fi+1]=255&xi):Di(this,xi,fi,!1),fi+2},Ze.prototype.writeInt32LE=function(xi,fi,$i){return xi=+xi,fi|=0,$i||Mi(this,xi,fi,4,2147483647,-2147483648),Ze.TYPED_ARRAY_SUPPORT?(this[fi]=255&xi,this[fi+1]=xi>>>8,this[fi+2]=xi>>>16,this[fi+3]=xi>>>24):Bi(this,xi,fi,!0),fi+4},Ze.prototype.writeInt32BE=function(xi,fi,$i){return xi=+xi,fi|=0,$i||Mi(this,xi,fi,4,2147483647,-2147483648),xi<0&&(xi=4294967295+xi+1),Ze.TYPED_ARRAY_SUPPORT?(this[fi]=xi>>>24,this[fi+1]=xi>>>16,this[fi+2]=xi>>>8,this[fi+3]=255&xi):Bi(this,xi,fi,!1),fi+4},Ze.prototype.writeFloatLE=function(xi,fi,$i){return Fi(this,xi,fi,!0,$i)},Ze.prototype.writeFloatBE=function(xi,fi,$i){return Fi(this,xi,fi,!1,$i)},Ze.prototype.writeDoubleLE=function(xi,fi,$i){return Vi(this,xi,fi,!0,$i)},Ze.prototype.writeDoubleBE=function(xi,fi,$i){return Vi(this,xi,fi,!1,$i)},Ze.prototype.copy=function(xi,fi,$i,bi){if($i||($i=0),bi||bi===0||(bi=this.length),fi>=xi.length&&(fi=xi.length),fi||(fi=0),bi>0&&bi<$i&&(bi=$i),bi===$i||xi.length===0||this.length===0)return 0;if(fi<0)throw new RangeError("targetStart out of bounds");if($i<0||$i>=this.length)throw new RangeError("sourceStart out of bounds");if(bi<0)throw new RangeError("sourceEnd out of bounds");bi>this.length&&(bi=this.length),xi.length-fi<bi-$i&&(bi=xi.length-fi+$i);var Ci,Ei=bi-$i;if(this===xi&&$i<fi&&fi<bi)for(Ci=Ei-1;Ci>=0;--Ci)xi[Ci+fi]=this[Ci+$i];else if(Ei<1e3||!Ze.TYPED_ARRAY_SUPPORT)for(Ci=0;Ci<Ei;++Ci)xi[Ci+fi]=this[Ci+$i];else Uint8Array.prototype.set.call(xi,this.subarray($i,$i+Ei),fi);return Ei},Ze.prototype.fill=function(xi,fi,$i,bi){if(typeof xi=="string"){if(typeof fi=="string"?(bi=fi,fi=0,$i=this.length):typeof $i=="string"&&(bi=$i,$i=this.length),xi.length===1){var Ci=xi.charCodeAt(0);Ci<256&&(xi=Ci)}if(bi!==void 0&&typeof bi!="string")throw new TypeError("encoding must be a string");if(typeof bi=="string"&&!Ze.isEncoding(bi))throw new TypeError("Unknown encoding: "+bi)}else typeof xi=="number"&&(xi&=255);if(fi<0||this.length<fi||this.length<$i)throw new RangeError("Out of range index");if($i<=fi)return this;var Ei;if(fi>>>=0,$i=$i===void 0?this.length:$i>>>0,xi||(xi=0),typeof xi=="number")for(Ei=fi;Ei<$i;++Ei)this[Ei]=xi;else{var Si=Ze.isBuffer(xi)?xi:Gi(new Ze(xi,bi).toString()),zi=Si.length;for(Ei=0;Ei<$i-fi;++Ei)this[Ei+fi]=Si[Ei%zi]}return this};var Ti=/[^+\/0-9A-Za-z-_]/g;function ji(xi){return xi<16?"0"+xi.toString(16):xi.toString(16)}function Gi(xi,fi){var $i;fi=fi||1/0;for(var bi=xi.length,Ci=null,Ei=[],Si=0;Si<bi;++Si){if(($i=xi.charCodeAt(Si))>55295&&$i<57344){if(!Ci){if($i>56319){(fi-=3)>-1&&Ei.push(239,191,189);continue}if(Si+1===bi){(fi-=3)>-1&&Ei.push(239,191,189);continue}Ci=$i;continue}if($i<56320){(fi-=3)>-1&&Ei.push(239,191,189),Ci=$i;continue}$i=65536+(Ci-55296<<10|$i-56320)}else Ci&&(fi-=3)>-1&&Ei.push(239,191,189);if(Ci=null,$i<128){if((fi-=1)<0)break;Ei.push($i)}else if($i<2048){if((fi-=2)<0)break;Ei.push($i>>6|192,63&$i|128)}else if($i<65536){if((fi-=3)<0)break;Ei.push($i>>12|224,$i>>6&63|128,63&$i|128)}else{if(!($i<1114112))throw new Error("Invalid code point");if((fi-=4)<0)break;Ei.push($i>>18|240,$i>>12&63|128,$i>>6&63|128,63&$i|128)}}return Ei}function Yi(xi){return ze.toByteArray(function(fi){if((fi=function($i){return $i.trim?$i.trim():$i.replace(/^\s+|\s+$/g,"")}(fi).replace(Ti,"")).length<2)return"";for(;fi.length%4!=0;)fi+="=";return fi}(xi))}function Xi(xi,fi,$i,bi){for(var Ci=0;Ci<bi&&!(Ci+$i>=fi.length||Ci>=xi.length);++Ci)fi[Ci+$i]=xi[Ci];return Ci}}).call(this,Ve(78))},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0}),r.isASCIIByte=function(je){return je>=0&&je<=127}},function(t,r,Ve){var je=this&&this.__read||function(Xe,We){var qe=typeof Symbol=="function"&&Xe[Symbol.iterator];if(!qe)return Xe;var Ke,Ze,Je=qe.call(Xe),Qe=[];try{for(;(We===void 0||We-- >0)&&!(Ke=Je.next()).done;)Qe.push(Ke.value)}catch(ti){Ze={error:ti}}finally{try{Ke&&!Ke.done&&(qe=Je.return)&&qe.call(Je)}finally{if(Ze)throw Ze.error}}return Qe},ze=this&&this.__spread||function(){for(var Xe=[],We=0;We<arguments.length;We++)Xe=Xe.concat(je(arguments[We]));return Xe};Object.defineProperty(r,"__esModule",{value:!0}),r.length=function(Xe){return Xe.length},r.byteLowercase=function(Xe){for(var We=0;We<Xe.length;We++){var qe=Xe[We];qe>=65&&qe<=90&&(Xe[We]=qe+32)}},r.byteUppercase=function(Xe){for(var We=0;We<Xe.length;We++){var qe=Xe[We];qe>=97&&qe<=122&&(Xe[We]=qe-32)}},r.byteCaseInsensitiveMatch=function(Xe,We){if(Xe.length!==We.length)return!1;for(var qe=0;qe<Xe.length;qe++){var Ke=Xe[qe],Ze=We[qe];if(Ke>=65&&Ke<=90&&(Ke+=32),Ze>=65&&Ze<=90&&(Ze+=32),Ke!==Ze)return!1}return!0},r.startsWith=function(Xe,We){for(var qe=0;;){if(qe>=Xe.length)return!1;if(qe>=We.length)return!0;if(Xe[qe]!==We[qe])return!1;qe++}},r.byteLessThan=function(Xe,We){for(var qe=0;;){if(qe>=Xe.length)return!1;if(qe>=We.length)return!0;var Ke=Xe[qe],Ze=We[qe];if(Ke<Ze)return!0;if(Ke>Ze)return!1;qe++}},r.isomorphicDecode=function(Xe){return String.fromCodePoint.apply(String,ze(Xe))}},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(6),ze=Ve(7),Xe=Ve(0),We=Ve(12),qe=function(){function Ke(Ze){this._associatedDocument=Ze||je.dom.window.document}return Ke.prototype.createDocumentType=function(Ze,Je,Qe){return Xe.namespace_validate(Ze),Xe.create_documentType(this._associatedDocument,Ze,Je,Qe)},Ke.prototype.createDocument=function(Ze,Je,Qe){Qe===void 0&&(Qe=null);var ti=Xe.create_xmlDocument(),ni=null;return Je&&(ni=Xe.document_internalCreateElementNS(ti,Ze,Je)),Qe&&ti.appendChild(Qe),ni&&ti.appendChild(ni),ti._origin=this._associatedDocument._origin,Ze===ze.namespace.HTML?ti._contentType="application/xhtml+xml":Ze===ze.namespace.SVG?ti._contentType="image/svg+xml":ti._contentType="application/xml",ti},Ke.prototype.createHTMLDocument=function(Ze){var Je=Xe.create_document();Je._type="html",Je._contentType="text/html",Je.appendChild(Xe.create_documentType(Je,"html","",""));var Qe=Xe.element_createAnElement(Je,"html",ze.namespace.HTML);Je.appendChild(Qe);var ti=Xe.element_createAnElement(Je,"head",ze.namespace.HTML);if(Qe.appendChild(ti),Ze!==void 0){var ni=Xe.element_createAnElement(Je,"title",ze.namespace.HTML);ti.appendChild(ni);var ri=Xe.create_text(Je,Ze);ni.appendChild(ri)}var ii=Xe.element_createAnElement(Je,"body",ze.namespace.HTML);return Qe.appendChild(ii),Je._origin=this._associatedDocument._origin,Je},Ke.prototype.hasFeature=function(){return!0},Ke._create=function(Ze){return new Ke(Ze)},Ke}();r.DOMImplementationImpl=qe,We.idl_defineConst(qe.prototype,"_ID","@oozcitak/dom")},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(Ze,Je){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Qe,ti){Qe.__proto__=ti}||function(Qe,ti){for(var ni in ti)ti.hasOwnProperty(ni)&&(Qe[ni]=ti[ni])})(Ze,Je)},function(Ze,Je){function Qe(){this.constructor=Ze}je(Ze,Je),Ze.prototype=Je===null?Object.create(Je):(Qe.prototype=Je.prototype,new Qe)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(70),We=Ve(2),qe=Ve(0),Ke=function(Ze){function Je(){var Qe=Ze.call(this)||this;return Qe._signalSlots=new Set,Qe._mutationObserverMicrotaskQueued=!1,Qe._mutationObservers=new Set,Qe._iteratorList=new We.FixedSizeSet,Qe._associatedDocument=qe.create_document(),Qe}return ze(Je,Ze),Object.defineProperty(Je.prototype,"document",{get:function(){return this._associatedDocument},enumerable:!0,configurable:!0}),Object.defineProperty(Je.prototype,"event",{get:function(){return this._currentEvent},enumerable:!0,configurable:!0}),Je._create=function(){return new Je},Je}(Xe.EventTargetImpl);r.WindowImpl=Ke},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(1),ze=function(){function Xe(){}return Xe.isNode=function(We){return!!We&&We._nodeType!==void 0},Xe.isDocumentNode=function(We){return Xe.isNode(We)&&We._nodeType===je.NodeType.Document},Xe.isDocumentTypeNode=function(We){return Xe.isNode(We)&&We._nodeType===je.NodeType.DocumentType},Xe.isDocumentFragmentNode=function(We){return Xe.isNode(We)&&We._nodeType===je.NodeType.DocumentFragment},Xe.isAttrNode=function(We){return Xe.isNode(We)&&We._nodeType===je.NodeType.Attribute},Xe.isCharacterDataNode=function(We){if(!Xe.isNode(We))return!1;var qe=We._nodeType;return qe===je.NodeType.Text||qe===je.NodeType.ProcessingInstruction||qe===je.NodeType.Comment||qe===je.NodeType.CData},Xe.isTextNode=function(We){return Xe.isNode(We)&&(We._nodeType===je.NodeType.Text||We._nodeType===je.NodeType.CData)},Xe.isExclusiveTextNode=function(We){return Xe.isNode(We)&&We._nodeType===je.NodeType.Text},Xe.isCDATASectionNode=function(We){return Xe.isNode(We)&&We._nodeType===je.NodeType.CData},Xe.isCommentNode=function(We){return Xe.isNode(We)&&We._nodeType===je.NodeType.Comment},Xe.isProcessingInstructionNode=function(We){return Xe.isNode(We)&&We._nodeType===je.NodeType.ProcessingInstruction},Xe.isElementNode=function(We){return Xe.isNode(We)&&We._nodeType===je.NodeType.Element},Xe.isCustomElementNode=function(We){return Xe.isElementNode(We)&&We._customElementState==="custom"},Xe.isShadowRoot=function(We){return!!We&&We.host!==void 0},Xe.isMouseEvent=function(We){return!!We&&We.screenX!==void 0&&We.screenY!=null},Xe.isSlotable=function(We){return!!We&&We._name!==void 0&&We._assignedSlot!==void 0&&(Xe.isTextNode(We)||Xe.isElementNode(We))},Xe.isSlot=function(We){return!!We&&We._name!==void 0&&We._assignedNodes!==void 0&&Xe.isElementNode(We)},Xe.isWindow=function(We){return!!We&&We.navigator!==void 0},Xe.isEventListener=function(We){return!!We&&We.handleEvent!==void 0},Xe.isRegisteredObserver=function(We){return!!We&&We.observer!==void 0&&We.options!==void 0},Xe.isTransientRegisteredObserver=function(We){return!!We&&We.source!==void 0&&Xe.isRegisteredObserver(We)},Xe}();r.Guard=ze},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(We,qe){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ke,Ze){Ke.__proto__=Ze}||function(Ke,Ze){for(var Je in Ze)Ze.hasOwnProperty(Je)&&(Ke[Je]=Ze[Je])})(We,qe)},function(We,qe){function Ke(){this.constructor=We}je(We,qe),We.prototype=qe===null?Object.create(qe):(Ke.prototype=qe.prototype,new Ke)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=function(We){function qe(){return We.call(this)||this}return ze(qe,We),qe}(Ve(98).DocumentImpl);r.XMLDocumentImpl=Xe},function(t,r,Ve){var je=this&&this.__values||function(bi){var Ci=typeof Symbol=="function"&&Symbol.iterator,Ei=Ci&&bi[Ci],Si=0;if(Ei)return Ei.call(bi);if(bi&&typeof bi.length=="number")return{next:function(){return bi&&Si>=bi.length&&(bi=void 0),{value:bi&&bi[Si++],done:!bi}}};throw new TypeError(Ci?"Object is not iterable.":"Symbol.iterator is not defined.")},ze=this&&this.__read||function(bi,Ci){var Ei=typeof Symbol=="function"&&bi[Symbol.iterator];if(!Ei)return bi;var Si,zi,Ki=Ei.call(bi),Ui=[];try{for(;(Ci===void 0||Ci-- >0)&&!(Si=Ki.next()).done;)Ui.push(Si.value)}catch(Ji){zi={error:Ji}}finally{try{Si&&!Si.done&&(Ei=Ki.return)&&Ei.call(Ki)}finally{if(zi)throw zi.error}}return Ui};Object.defineProperty(r,"__esModule",{value:!0});var Xe,We=Ve(2),qe=Ve(243),Ke=Ve(7),Ze=Ve(244),Je={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Qe=/[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,ti=/[ "<>`]|[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,ni=/[ "<>`#?{}]|[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,ri=/[ "<>`#?{}/:;=@\[\]\\\^\|]|[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,ii=/[0-9A-Za-z!\$&-\/:;=\?@_~\xA0-\uD7FF\uE000-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uD83E\uD840-\uD87E\uD880-\uD8BE\uD8C0-\uD8FE\uD900-\uD93E\uD940-\uD97E\uD980-\uD9BE\uD9C0-\uD9FE\uDA00-\uDA3E\uDA40-\uDA7E\uDA80-\uDABE\uDAC0-\uDAFE\uDB00-\uDB3E\uDB40-\uDB7E\uDB80-\uDBBE\uDBC0-\uDBFE][\uDC00-\uDFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDC00-\uDFFD]/,ei=/[\0\t\f\r #%/:?@\[\\\]]/;function St(bi){Xe!==void 0&&Xe.call(null,"Validation Error: "+bi)}function oi(){return{scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,_cannotBeABaseURLFlag:!1,_blobURLEntry:null}}function si(bi){return bi in Je}function ai(bi){return si(bi.scheme)}function ui(bi){return Je[bi]||null}function hi(bi){return bi.username!==""||bi.password!==""}function ci(bi,Ci){var Ei,Si;Ci===void 0&&(Ci=!1);var zi=bi.scheme+":";if(bi.host!==null?(zi+="//",hi(bi)&&(zi+=bi.username,bi.password!==""&&(zi+=":"+bi.password),zi+="@"),zi+=mi(bi.host),bi.port!==null&&(zi+=":"+bi.port)):bi.host===null&&bi.scheme==="file"&&(zi+="//"),bi._cannotBeABaseURLFlag)zi+=bi.path[0];else try{for(var Ki=je(bi.path),Ui=Ki.next();!Ui.done;Ui=Ki.next())zi+="/"+Ui.value}catch(Ji){Ei={error:Ji}}finally{try{Ui&&!Ui.done&&(Si=Ki.return)&&Si.call(Ki)}finally{if(Ei)throw Ei.error}}return bi.query!==null&&(zi+="?"+bi.query),Ci||bi.fragment===null||(zi+="#"+bi.fragment),zi}function mi(bi){return We.isNumber(bi)?di(bi):We.isArray(bi)?"["+pi(bi)+"]":bi}function di(bi){for(var Ci="",Ei=bi,Si=1;Si<=4;Si++)Ci=(Ei%256).toString()+Ci,Si!==4&&(Ci="."+Ci),Ei=Math.floor(Ei/256);return Ci}function pi(bi){for(var Ci="",Ei=null,Si=-1,zi=0,Ki=0,Ui=0;Ui<8;Ui++)if(bi[Ui]===0){zi=1;for(var Ji=Ui+1;Ji<8&&bi[Ji]===0;Ji++)zi++;zi>Ki&&(Ki=zi,Si=Ui)}Ki>1&&(Ei=Si);for(var gn=!1,hn=0;hn<8;hn++)gn&&bi[hn]===0||(gn&&(gn=!1),Ei!==hn?(Ci+=bi[hn].toString(16),hn!==7&&(Ci+=":")):(Ci+=hn===0?"::":":",gn=!0));return Ci}function yi(bi,Ci,Ei,Si,zi){var Ki,Ui,Ji,gn;if(Si===void 0){Si={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,_cannotBeABaseURLFlag:!1,_blobURLEntry:null};var hn=/^[\u0000-\u001F\u0020]+/,un=/[\u0000-\u001F\u0020]+$/;(hn.test(bi)||un.test(bi))&&St("Input string contains leading or trailing control characters or space."),bi=(bi=bi.replace(hn,"")).replace(un,"")}var Mn=/[\u0009\u000A\u000D]/g;Mn.test(bi)&&St("Input string contains tab or newline characters."),bi=bi.replace(Mn,"");var sn=zi===void 0?qe.ParserState.SchemeStart:zi;Ci===void 0&&(Ci=null);for(var vn=Ei===void 0||Ei==="replacement"||Ei==="UTF-16BE"||Ei==="UTF-16LE"?"UTF-8":Ei,Ni="",Cn=!1,cn=!1,fn=!1,qi=new We.StringWalker(bi);;){switch(sn){case qe.ParserState.SchemeStart:if(Ke.codePoint.ASCIIAlpha.test(qi.c()))Ni+=qi.c().toLowerCase(),sn=qe.ParserState.Scheme;else{if(zi!==void 0)return St("Invalid scheme start character."),null;sn=qe.ParserState.NoScheme,qi.pointer--}break;case qe.ParserState.Scheme:if(Ke.codePoint.ASCIIAlphanumeric.test(qi.c())||qi.c()==="+"||qi.c()==="-"||qi.c()===".")Ni+=qi.c().toLowerCase();else{if(qi.c()!==":"){if(zi===void 0){Ni="",sn=qe.ParserState.NoScheme,qi.pointer=0;continue}return St("Invalid input string."),null}if(zi!==void 0&&(si(Si.scheme)&&!si(Ni)||!si(Si.scheme)&&si(Ni)||(hi(Si)||Si.port!==null)&&Ni==="file"||Si.scheme==="file"&&(Si.host===""||Si.host===null)))return Si;if(Si.scheme=Ni,zi!==void 0)return Si.port===ui(Si.scheme)&&(Si.port=null),Si;Ni="",Si.scheme==="file"?(qi.remaining().startsWith("//")||St("Invalid file URL scheme, '//' expected."),sn=qe.ParserState.File):ai(Si)&&Ci!==null&&Ci.scheme===Si.scheme?sn=qe.ParserState.SpecialRelativeOrAuthority:ai(Si)?sn=qe.ParserState.SpecialAuthoritySlashes:qi.remaining().startsWith("/")?(sn=qe.ParserState.PathOrAuthority,qi.pointer++):(Si._cannotBeABaseURLFlag=!0,Si.path.push(""),sn=qe.ParserState.CannotBeABaseURLPath)}break;case qe.ParserState.NoScheme:if(Ci===null||Ci._cannotBeABaseURLFlag&&qi.c()!=="#")return St("Invalid input string."),null;Ci._cannotBeABaseURLFlag&&qi.c()==="#"?(Si.scheme=Ci.scheme,Si.path=Ke.list.clone(Ci.path),Si.query=Ci.query,Si.fragment="",Si._cannotBeABaseURLFlag=!0,sn=qe.ParserState.Fragment):Ci.scheme!=="file"?(sn=qe.ParserState.Relative,qi.pointer--):(sn=qe.ParserState.File,qi.pointer--);break;case qe.ParserState.SpecialRelativeOrAuthority:qi.c()==="/"&&qi.remaining().startsWith("/")?(sn=qe.ParserState.SpecialAuthorityIgnoreSlashes,qi.pointer++):(St("Invalid input string."),sn=qe.ParserState.Relative,qi.pointer--);break;case qe.ParserState.PathOrAuthority:qi.c()==="/"?sn=qe.ParserState.Authority:(sn=qe.ParserState.Path,qi.pointer--);break;case qe.ParserState.Relative:if(Ci===null)throw new Error("Invalid parser state. Base URL is null.");switch(Si.scheme=Ci.scheme,qi.c()){case"":Si.username=Ci.username,Si.password=Ci.password,Si.host=Ci.host,Si.port=Ci.port,Si.path=Ke.list.clone(Ci.path),Si.query=Ci.query;break;case"/":sn=qe.ParserState.RelativeSlash;break;case"?":Si.username=Ci.username,Si.password=Ci.password,Si.host=Ci.host,Si.port=Ci.port,Si.path=Ke.list.clone(Ci.path),Si.query="",sn=qe.ParserState.Query;break;case"#":Si.username=Ci.username,Si.password=Ci.password,Si.host=Ci.host,Si.port=Ci.port,Si.path=Ke.list.clone(Ci.path),Si.query=Ci.query,Si.fragment="",sn=qe.ParserState.Fragment;break;default:ai(Si)&&qi.c()==="\\"?(St("Invalid input string."),sn=qe.ParserState.RelativeSlash):(Si.username=Ci.username,Si.password=Ci.password,Si.host=Ci.host,Si.port=Ci.port,Si.path=Ke.list.clone(Ci.path),Si.path.length!==0&&Si.path.splice(Si.path.length-1,1),sn=qe.ParserState.Path,qi.pointer--)}break;case qe.ParserState.RelativeSlash:if(!ai(Si)||qi.c()!=="/"&&qi.c()!=="\\")if(qi.c()==="/")sn=qe.ParserState.Authority;else{if(Ci===null)throw new Error("Invalid parser state. Base URL is null.");Si.username=Ci.username,Si.password=Ci.password,Si.host=Ci.host,Si.port=Ci.port,sn=qe.ParserState.Path,qi.pointer--}else qi.c()==="\\"&&St("Invalid input string."),sn=qe.ParserState.SpecialAuthorityIgnoreSlashes;break;case qe.ParserState.SpecialAuthoritySlashes:qi.c()==="/"&&qi.remaining().startsWith("/")?(sn=qe.ParserState.SpecialAuthorityIgnoreSlashes,qi.pointer++):(St("Expected '//'."),sn=qe.ParserState.SpecialAuthorityIgnoreSlashes,qi.pointer--);break;case qe.ParserState.SpecialAuthorityIgnoreSlashes:qi.c()!=="/"&&qi.c()!=="\\"?(sn=qe.ParserState.Authority,qi.pointer--):St("Unexpected '/' or '\\'.");break;case qe.ParserState.Authority:if(qi.c()==="@"){St("Unexpected '@'."),Cn&&(Ni="%40"+Ni),Cn=!0;try{for(var an=(Ki=void 0,je(Ni)),yn=an.next();!yn.done;yn=an.next()){var bn=yn.value;if(bn!==":"||fn){var Sn=Xi(bn,ri);fn?Si.password+=Sn:Si.username+=Sn}else fn=!0}}catch(Jn){Ki={error:Jn}}finally{try{yn&&!yn.done&&(Ui=an.return)&&Ui.call(an)}finally{if(Ki)throw Ki.error}}Ni=""}else if(qi.c()===""||qi.c()==="/"||qi.c()==="?"||qi.c()==="#"||ai(Si)&&qi.c()==="\\"){if(Cn&&Ni==="")return St("Invalid input string."),null;qi.pointer-=Ni.length+1,Ni="",sn=qe.ParserState.Host}else Ni+=qi.c();break;case qe.ParserState.Host:case qe.ParserState.Hostname:if(zi!==void 0&&Si.scheme==="file")qi.pointer--,sn=qe.ParserState.FileHost;else if(qi.c()!==":"||cn)if(qi.c()===""||qi.c()==="/"||qi.c()==="?"||qi.c()==="#"||ai(Si)&&qi.c()==="\\"){if(qi.pointer--,ai(Si)&&Ni==="")return St("Invalid input string."),null;if(zi!==void 0&&Ni===""&&(hi(Si)||Si.port!==null))return St("Invalid input string."),Si;if((kn=Di(Ni,!ai(Si)))===null)return null;if(Si.host=kn,Ni="",sn=qe.ParserState.PathStart,zi!==void 0)return Si}else qi.c()==="["&&(cn=!0),qi.c()==="]"&&(cn=!1),Ni+=qi.c();else{if(Ni==="")return St("Invalid input string."),null;if((kn=Di(Ni,!ai(Si)))===null)return null;if(Si.host=kn,Ni="",sn=qe.ParserState.Port,zi===qe.ParserState.Hostname)return Si}break;case qe.ParserState.Port:if(Ke.codePoint.ASCIIDigit.test(qi.c()))Ni+=qi.c();else{if(!(qi.c()===""||qi.c()==="/"||qi.c()==="?"||qi.c()==="#"||ai(Si)&&qi.c()==="\\"||zi))return St("Invalid input string."),null;if(Ni!==""&&Ni!==""){var Fn=parseInt(Ni,10);if(Fn>Math.pow(2,16)-1)return St("Invalid port number."),null;Si.port=Fn===ui(Si.scheme)?null:Fn,Ni=""}if(zi!==void 0)return Si;sn=qe.ParserState.PathStart,qi.pointer--}break;case qe.ParserState.File:if(Si.scheme="file",qi.c()==="/"||qi.c()==="\\")qi.c()==="\\"&&St("Invalid input string."),sn=qe.ParserState.FileSlash;else if(Ci!==null&&Ci.scheme==="file")switch(qi.c()){case"":Si.host=Ci.host,Si.path=Ke.list.clone(Ci.path),Si.query=Ci.query;break;case"?":Si.host=Ci.host,Si.path=Ke.list.clone(Ci.path),Si.query="",sn=qe.ParserState.Query;break;case"#":Si.host=Ci.host,Si.path=Ke.list.clone(Ci.path),Si.query=Ci.query,Si.fragment="",sn=qe.ParserState.Fragment;break;default:Mi(qi.substring())?St("Unexpected windows drive letter in input string."):(Si.host=Ci.host,Si.path=Ke.list.clone(Ci.path),Ai(Si)),sn=qe.ParserState.Path,qi.pointer--}else sn=qe.ParserState.Path,qi.pointer--;break;case qe.ParserState.FileSlash:qi.c()==="/"||qi.c()==="\\"?(qi.c()==="\\"&&St("Invalid input string."),sn=qe.ParserState.FileHost):(Ci===null||Ci.scheme!=="file"||Mi(qi.substring())||(ki(Ci.path[0])?Si.path.push(Ci.path[0]):Si.host=Ci.host),sn=qe.ParserState.Path,qi.pointer--);break;case qe.ParserState.FileHost:if(qi.c()===""||qi.c()==="/"||qi.c()==="\\"||qi.c()==="?"||qi.c()==="#")if(qi.pointer--,zi===void 0&&vi(Ni))St("Unexpected windows drive letter in input string."),sn=qe.ParserState.Path;else if(Ni===""){if(Si.host="",zi!==void 0)return Si;sn=qe.ParserState.PathStart}else{var kn;if((kn=Di(Ni,!ai(Si)))===null)return null;if(kn==="localhost"&&(kn=""),Si.host=kn,zi!==void 0)return Si;Ni="",sn=qe.ParserState.PathStart}else Ni+=qi.c();break;case qe.ParserState.PathStart:ai(Si)?(qi.c()==="\\"&&St("Invalid input string."),sn=qe.ParserState.Path,qi.c()!=="/"&&qi.c()!=="\\"&&qi.pointer--):zi===void 0&&qi.c()==="?"?(Si.query="",sn=qe.ParserState.Query):zi===void 0&&qi.c()==="#"?(Si.fragment="",sn=qe.ParserState.Fragment):qi.c()!==""&&(sn=qe.ParserState.Path,qi.c()!=="/"&&qi.pointer--);break;case qe.ParserState.Path:if(qi.c()===""||qi.c()==="/"||ai(Si)&&qi.c()==="\\"||zi===void 0&&(qi.c()==="?"||qi.c()==="#")){if(ai(Si)&&qi.c()==="\\"&&St("Invalid input string."),_i(Ni))Ai(Si),qi.c()==="/"||ai(Si)&&qi.c()==="\\"||Si.path.push("");else if(!gi(Ni)||qi.c()==="/"||ai(Si)&&qi.c()==="\\"){if(!gi(Ni)){if(Si.scheme==="file"&&Si.path.length===0&&vi(Ni)){Si.host!==null&&Si.host!==""&&(St("Invalid input string."),Si.host="");var Nn=Array.from(Ni);Ni=Nn.slice(0,1)+":"+Nn.slice(2)}Si.path.push(Ni)}}else Si.path.push("");if(Ni="",Si.scheme==="file"&&(qi.c()===""||qi.c()==="?"||qi.c()==="#"))for(;Si.path.length>1&&Si.path[0]==="";)St("Invalid input string."),Si.path.splice(0,1);qi.c()==="?"&&(Si.query="",sn=qe.ParserState.Query),qi.c()==="#"&&(Si.fragment="",sn=qe.ParserState.Fragment)}else ii.test(qi.c())||qi.c()==="%"||St("Character is not a URL code point or a percent encoded character."),qi.c()!=="%"||/^[0-9a-fA-F][0-9a-fA-F]/.test(qi.remaining())||St("Percent encoded character must be followed by two hex digits."),Ni+=Xi(qi.c(),ni);break;case qe.ParserState.CannotBeABaseURLPath:qi.c()==="?"?(Si.query="",sn=qe.ParserState.Query):qi.c()==="#"?(Si.fragment="",sn=qe.ParserState.Fragment):(qi.c()===""||ii.test(qi.c())||qi.c()==="%"||St("Character is not a URL code point or a percent encoded character."),qi.c()!=="%"||/^[0-9a-fA-F][0-9a-fA-F]/.test(qi.remaining())||St("Percent encoded character must be followed by two hex digits."),qi.c()!==""&&(Si.path[0]+=Xi(qi.c(),Qe)));break;case qe.ParserState.Query:if(vn==="UTF-8"||ai(Si)&&Si.scheme!=="ws"&&Si.scheme!=="wss"||(vn="UTF-8"),zi===void 0&&qi.c()==="#")Si.fragment="",sn=qe.ParserState.Fragment;else if(qi.c()!==""){if(ii.test(qi.c())||qi.c()==="%"||St("Character is not a URL code point or a percent encoded character."),qi.c()!=="%"||/^[0-9a-fA-F][0-9a-fA-F]/.test(qi.remaining())||St("Percent encoded character must be followed by two hex digits."),vn.toUpperCase()!=="UTF-8")throw new Error("Only UTF-8 encoding is supported.");var Hn=We.utf8Encode(qi.c());if(Hn.length>=3&&Hn[0]===38&&Hn[1]===35&&Hn[Hn.length-1]===59)Hn=Hn.subarray(2,Hn.length-1),Si.query+="%26%23"+Ke.byteSequence.isomorphicDecode(Hn)+"%3B";else try{for(var Yn=(Ji=void 0,je(Hn)),tr=Yn.next();!tr.done;tr=Yn.next()){var qn=tr.value;qn<33||qn>126||qn===34||qn===35||qn===60||qn===62||qn===39&&ai(Si)?Si.query+=ji(qn):Si.query+=String.fromCharCode(qn)}}catch(Jn){Ji={error:Jn}}finally{try{tr&&!tr.done&&(gn=Yn.return)&&gn.call(Yn)}finally{if(Ji)throw Ji.error}}}break;case qe.ParserState.Fragment:qi.c()===""||(qi.c()==="\0"?St("NULL character in input string."):(ii.test(qi.c())||qi.c()==="%"||St("Unexpected character in fragment string."),qi.c()!=="%"||/^[A-Za-z0-9][A-Za-z0-9]/.test(qi.remaining())||St("Unexpected character in fragment string."),Si.fragment+=Xi(qi.c(),ti)))}if(qi.eof)break;qi.pointer++}return Si}function gi(bi){return bi==="."||bi.toLowerCase()==="%2e"}function _i(bi){var Ci=bi.toLowerCase();return Ci===".."||Ci===".%2e"||Ci==="%2e."||Ci==="%2e%2e"}function Ai(bi){var Ci=bi.path;Ci.length!==0&&(bi.scheme==="file"&&Ci.length===1&&ki(Ci[0])||bi.path.splice(bi.path.length-1,1))}function ki(bi){return bi.length>=2&&Ke.codePoint.ASCIIAlpha.test(bi[0])&&bi[1]===":"}function vi(bi){return bi.length>=2&&Ke.codePoint.ASCIIAlpha.test(bi[0])&&(bi[1]===":"||bi[1]==="|")}function Mi(bi){return bi.length>=2&&vi(bi)&&(bi.length===2||bi[2]==="/"||bi[2]==="\\"||bi[2]==="?"||bi[2]==="#")}function Di(bi,Ci){if(Ci===void 0&&(Ci=!1),bi.startsWith("["))return bi.endsWith("]")?Fi(bi.substring(1,bi.length-1)):(St("Expected ']' after '['."),null);if(Ci)return Vi(bi);var Ei=$i(We.utf8Decode(Yi(bi)));if(Ei===null||ei.test(Ei))return St("Invalid domain."),null;var Si=Pi(Ei);return Si===null||We.isNumber(Si)?Si:Ei}function Bi(bi,Ci){Ci===void 0&&(Ci={value:!1});var Ei=10;return bi.startsWith("0x")||bi.startsWith("0X")?(Ci.value=!0,bi=bi.substr(2),Ei=16):bi.length>=2&&bi[0]==="0"&&(Ci.value=!0,bi=bi.substr(1),Ei=8),bi===""?0:(Ei===10?/^[0-9]+$/:Ei===16?/^[0-9A-Fa-f]+$/:/^[0-7]+$/).test(bi)?parseInt(bi,Ei):null}function Pi(bi){var Ci,Ei,Si,zi,Ki={value:!1},Ui=bi.split(".");if(Ui[Ui.length-1]===""&&(Ki.value=!0,Ui.length>1&&Ui.pop()),Ui.length>4)return bi;var Ji=[];try{for(var gn=je(Ui),hn=gn.next();!hn.done;hn=gn.next()){var un=hn.value;if(un===""||(cn=Bi(un,Ki))===null)return bi;Ji.push(cn)}}catch(fn){Ci={error:fn}}finally{try{hn&&!hn.done&&(Ei=gn.return)&&Ei.call(gn)}finally{if(Ci)throw Ci.error}}Ki.value&&St("Invalid IP v4 address.");for(var Mn=0;Mn<Ji.length;Mn++)if(Ji[Mn]>255&&(St("Invalid IP v4 address."),Mn<Ji.length-1))return null;if(Ji[Ji.length-1]>=Math.pow(256,5-Ji.length))return St("Invalid IP v4 address."),null;var sn=Ji[Ji.length-1];Ji.pop();var vn=0;try{for(var Ni=je(Ji),Cn=Ni.next();!Cn.done;Cn=Ni.next()){var cn;sn+=(cn=Cn.value)*Math.pow(256,3-vn),vn++}}catch(fn){Si={error:fn}}finally{try{Cn&&!Cn.done&&(zi=Ni.return)&&zi.call(Ni)}finally{if(Si)throw Si.error}}return sn}function Fi(bi){var Ci,Ei=[0,0,0,0,0,0,0,0],Si=0,zi=null,Ki=new We.StringWalker(bi);if(Ki.c()===":"){if(!Ki.remaining().startsWith(":"))return St("Invalid IP v6 address."),null;Ki.pointer+=2,zi=Si+=1}for(;Ki.c()!=="";){if(Si===8)return St("Invalid IP v6 address."),null;if(Ki.c()!==":"){for(var Ui=0,Ji=0;Ji<4&&Ke.codePoint.ASCIIHexDigit.test(Ki.c());)Ui=16*Ui+parseInt(Ki.c(),16),Ki.pointer++,Ji++;if(Ki.c()==="."){if(Ji===0||(Ki.pointer-=Ji,Si>6))return St("Invalid IP v6 address."),null;for(var gn=0;Ki.c()!=="";){var hn=null;if(gn>0){if(!(Ki.c()==="."&&gn<4))return St("Invalid IP v6 address."),null;Ki.pointer++}if(!Ke.codePoint.ASCIIDigit.test(Ki.c()))return St("Invalid IP v6 address."),null;for(;Ke.codePoint.ASCIIDigit.test(Ki.c());){var un=parseInt(Ki.c(),10);if(hn===null)hn=un;else{if(hn===0)return St("Invalid IP v6 address."),null;hn=10*hn+un}if(hn>255)return St("Invalid IP v6 address."),null;Ki.pointer++}if(hn===null)return St("Invalid IP v6 address."),null;Ei[Si]=256*Ei[Si]+hn,++gn!==2&&gn!==4||Si++}if(gn!==4)return St("Invalid IP v6 address."),null;break}if(Ki.c()===":"){if(Ki.pointer++,Ki.c()==="")return St("Invalid IP v6 address."),null}else if(Ki.c()!=="")return St("Invalid IP v6 address."),null;Ei[Si]=Ui,Si++}else{if(zi!==null)return St("Invalid IP v6 address."),null;Ki.pointer++,zi=++Si}}if(zi!==null){var Mn=Si-zi;for(Si=7;Si!==0&&Mn>0;)Ci=ze([Ei[zi+Mn-1],Ei[Si]],2),Ei[Si]=Ci[0],Ei[zi+Mn-1]=Ci[1],Si--,Mn--}else if(zi===null&&Si!==8)return St("Invalid IP v6 address."),null;return Ei}function Vi(bi){var Ci,Ei;if(/[\x00\t\f\r #/:?@\[\\\]]/.test(bi))return St("Invalid host string."),null;var Si="";try{for(var zi=je(bi),Ki=zi.next();!Ki.done;Ki=zi.next())Si+=Xi(Ki.value,Qe)}catch(Ui){Ci={error:Ui}}finally{try{Ki&&!Ki.done&&(Ei=zi.return)&&Ei.call(zi)}finally{if(Ci)throw Ci.error}}return Si}function Ti(bi){return null}function ji(bi){return"%"+("00"+bi.toString(16).toUpperCase()).slice(-2)}function Gi(bi){for(var Ci=function(Ji){return Ji>=48&&Ji<=57||Ji>=65&&Ji<=70||Ji>=97&&Ji<=102},Ei=new Uint8Array(bi.length),Si=0,zi=0;zi<bi.length;zi++){var Ki=bi[zi];if(Ki!==37)Ei[Si]=Ki,Si++;else if(Ki===37&&zi>=bi.length-2)Ei[Si]=Ki,Si++;else if(Ki!==37||Ci(bi[zi+1])&&Ci(bi[zi+2])){var Ui=parseInt(We.utf8Decode(Uint8Array.of(bi[zi+1],bi[zi+2])),16);Ei[Si]=Ui,Si++,zi+=2}else Ei[Si]=Ki,Si++}return Ei.subarray(0,Si)}function Yi(bi){return Gi(We.utf8Encode(bi))}function Xi(bi,Ci){var Ei,Si;if(!Ci.test(bi))return bi;var zi=We.utf8Encode(bi),Ki="";try{for(var Ui=je(zi),Ji=Ui.next();!Ji.done;Ji=Ui.next())Ki+=ji(Ji.value)}catch(gn){Ei={error:gn}}finally{try{Ji&&!Ji.done&&(Si=Ui.return)&&Si.call(Ui)}finally{if(Ei)throw Ei.error}}return Ki}function xi(bi){var Ci,Ei,Si,zi,Ki=[],Ui=[];try{for(var Ji=je(bi),gn=Ji.next();!gn.done;gn=Ji.next()){var hn=gn.value;hn===38?(Ki.push(Uint8Array.from(Ui)),Ui=[]):Ui.push(hn)}}catch(yn){Ci={error:yn}}finally{try{gn&&!gn.done&&(Ei=Ji.return)&&Ei.call(Ji)}finally{if(Ci)throw Ci.error}}Ui.length!==0&&Ki.push(Uint8Array.from(Ui));var un=[];try{for(var Mn=je(Ki),sn=Mn.next();!sn.done;sn=Mn.next()){var vn=sn.value;if(vn.length!==0){for(var Ni=vn.indexOf(61),Cn=Ni!==-1?vn.slice(0,Ni):vn,cn=Ni!==-1?vn.slice(Ni+1):new Uint8Array,fn=0;fn<Cn.length;fn++)Cn[fn]===43&&(Cn[fn]=32);for(fn=0;fn<cn.length;fn++)cn[fn]===43&&(cn[fn]=32);var qi=We.utf8Decode(Cn),an=We.utf8Decode(cn);un.push([qi,an])}}}catch(yn){Si={error:yn}}finally{try{sn&&!sn.done&&(zi=Mn.return)&&zi.call(Mn)}finally{if(Si)throw Si.error}}return un}function fi(bi){var Ci,Ei,Si="";try{for(var zi=je(bi),Ki=zi.next();!Ki.done;Ki=zi.next()){var Ui=Ki.value;Si+=Ui===32?"+":Ui===42||Ui===45||Ui===46||Ui>=48&&Ui<=57||Ui>=65&&Ui<=90||Ui===95||Ui>=97&&Ui<=122?String.fromCodePoint(Ui):ji(Ui)}}catch(Ji){Ci={error:Ji}}finally{try{Ki&&!Ki.done&&(Ei=zi.return)&&Ei.call(zi)}finally{if(Ci)throw Ci.error}}return Si}function $i(bi,Ci){var Ei=Ze.domainToASCII(bi);return Ei===""?(St("Invalid domain name."),null):Ei}r.setValidationErrorCallback=function(bi){Xe=bi},r.newURL=oi,r.isSpecialScheme=si,r.isSpecial=ai,r.defaultPort=ui,r.includesCredentials=hi,r.cannotHaveAUsernamePasswordPort=function(bi){return bi.host===null||bi.host===""||bi._cannotBeABaseURLFlag||bi.scheme==="file"},r.urlSerializer=ci,r.hostSerializer=mi,r.iPv4Serializer=di,r.iPv6Serializer=pi,r.urlParser=function(bi,Ci,Ei){var Si=yi(bi,Ci,Ei);return Si===null?null:(Si.scheme!=="blob"||(Si._blobURLEntry=null),Si)},r.basicURLParser=yi,r.setTheUsername=function(bi,Ci){var Ei,Si,zi="";try{for(var Ki=je(Ci),Ui=Ki.next();!Ui.done;Ui=Ki.next())zi+=Xi(Ui.value,ri)}catch(Ji){Ei={error:Ji}}finally{try{Ui&&!Ui.done&&(Si=Ki.return)&&Si.call(Ki)}finally{if(Ei)throw Ei.error}}bi.username=zi},r.setThePassword=function(bi,Ci){var Ei,Si,zi="";try{for(var Ki=je(Ci),Ui=Ki.next();!Ui.done;Ui=Ki.next())zi+=Xi(Ui.value,ri)}catch(Ji){Ei={error:Ji}}finally{try{Ui&&!Ui.done&&(Si=Ki.return)&&Si.call(Ki)}finally{if(Ei)throw Ei.error}}bi.password=zi},r.isSingleDotPathSegment=gi,r.isDoubleDotPathSegment=_i,r.shorten=Ai,r.isNormalizedWindowsDriveLetter=ki,r.isWindowsDriveLetter=vi,r.startsWithAWindowsDriveLetter=Mi,r.hostParser=Di,r.iPv4NumberParser=Bi,r.iPv4Parser=Pi,r.iPv6Parser=Fi,r.opaqueHostParser=Vi,r.resolveABlobURL=Ti,r.percentEncode=ji,r.percentDecode=Gi,r.stringPercentDecode=Yi,r.utf8PercentEncode=Xi,r.hostEquals=function(bi,Ci){return bi===Ci},r.urlEquals=function(bi,Ci,Ei){return Ei===void 0&&(Ei=!1),ci(bi,Ei)===ci(Ci,Ei)},r.urlEncodedStringParser=function(bi){return xi(We.utf8Encode(bi))},r.urlEncodedParser=xi,r.urlEncodedByteSerializer=fi,r.urlEncodedSerializer=function(bi,Ci){var Ei,Si;if((Ci===void 0||Ci==="replacement"||Ci==="UTF-16BE"||Ci==="UTF-16LE"?"UTF-8":Ci).toUpperCase()!=="UTF-8")throw new Error("Only UTF-8 encoding is supported.");var zi="";try{for(var Ki=je(bi),Ui=Ki.next();!Ui.done;Ui=Ki.next()){var Ji=Ui.value,gn=fi(We.utf8Encode(Ji[0])),hn=Ji[1];hn=fi(We.utf8Encode(hn)),zi!==""&&(zi+="&"),zi+=gn+"="+hn}}catch(un){Ei={error:un}}finally{try{Ui&&!Ui.done&&(Si=Ki.return)&&Si.call(Ki)}finally{if(Ei)throw Ei.error}}return zi},r.origin=function bi(Ci){switch(Ci.scheme){case"blob":Ci._blobURLEntry;var Ei=yi(Ci.path[0]);return Ei===null?qe.OpaqueOrigin:bi(Ei);case"ftp":case"http":case"https":case"ws":case"wss":return[Ci.scheme,Ci.host===null?"":Ci.host,Ci.port,null];case"file":default:return qe.OpaqueOrigin}},r.domainToASCII=$i,r.domainToUnicode=function(bi,Ci){var Ei=Ze.domainToUnicode(bi);return Ei===""&&St("Invalid domain name."),Ei},r.asciiSerializationOfAnOrigin=function(bi){if(bi[0]===""&&bi[1]===""&&bi[2]===null&&bi[3]===null)return"null";var Ci=bi[0]+"://"+mi(bi[1]);return bi[2]!==null&&(Ci+=":"+bi[2].toString()),Ci}},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(0),ze=function(){function Xe(){this._signal=je.create_abortSignal()}return Object.defineProperty(Xe.prototype,"signal",{get:function(){return this._signal},enumerable:!0,configurable:!0}),Xe.prototype.abort=function(){je.abort_signalAbort(this._signal)},Xe}();r.AbortControllerImpl=ze},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(Ke,Ze){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Je,Qe){Je.__proto__=Qe}||function(Je,Qe){for(var ti in Qe)Qe.hasOwnProperty(ti)&&(Je[ti]=Qe[ti])})(Ke,Ze)},function(Ke,Ze){function Je(){this.constructor=Ke}je(Ke,Ze),Ke.prototype=Ze===null?Object.create(Ze):(Je.prototype=Ze.prototype,new Je)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(70),We=Ve(0),qe=function(Ke){function Ze(){var Je=Ke.call(this)||this;return Je._abortedFlag=!1,Je._abortAlgorithms=new Set,Je}return ze(Ze,Ke),Object.defineProperty(Ze.prototype,"aborted",{get:function(){return this._abortedFlag},enumerable:!0,configurable:!0}),Object.defineProperty(Ze.prototype,"onabort",{get:function(){return We.event_getterEventHandlerIDLAttribute(this,"onabort")},set:function(Je){We.event_setterEventHandlerIDLAttribute(this,"onabort",Je)},enumerable:!0,configurable:!0}),Ze._create=function(){return new Ze},Ze}(Xe.EventTargetImpl);r.AbortSignalImpl=qe},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(Ze,Je){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Qe,ti){Qe.__proto__=ti}||function(Qe,ti){for(var ni in ti)ti.hasOwnProperty(ni)&&(Qe[ni]=ti[ni])})(Ze,Je)},function(Ze,Je){function Qe(){this.constructor=Ze}je(Ze,Je),Ze.prototype=Je===null?Object.create(Je):(Qe.prototype=Je.prototype,new Qe)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(1),We=Ve(34),qe=Ve(12),Ke=function(Ze){function Je(Qe,ti,ni){var ri=Ze.call(this)||this;return ri._name="",ri._publicId="",ri._systemId="",ri._name=Qe,ri._publicId=ti,ri._systemId=ni,ri}return ze(Je,Ze),Object.defineProperty(Je.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(Je.prototype,"publicId",{get:function(){return this._publicId},enumerable:!0,configurable:!0}),Object.defineProperty(Je.prototype,"systemId",{get:function(){return this._systemId},enumerable:!0,configurable:!0}),Je.prototype.before=function(){for(var Qe=[],ti=0;ti<arguments.length;ti++)Qe[ti]=arguments[ti];throw new Error("Mixin: ChildNode not implemented.")},Je.prototype.after=function(){for(var Qe=[],ti=0;ti<arguments.length;ti++)Qe[ti]=arguments[ti];throw new Error("Mixin: ChildNode not implemented.")},Je.prototype.replaceWith=function(){for(var Qe=[],ti=0;ti<arguments.length;ti++)Qe[ti]=arguments[ti];throw new Error("Mixin: ChildNode not implemented.")},Je.prototype.remove=function(){throw new Error("Mixin: ChildNode not implemented.")},Je._create=function(Qe,ti,ni,ri){ni===void 0&&(ni=""),ri===void 0&&(ri="");var ii=new Je(ti,ni,ri);return ii._nodeDocument=Qe,ii},Je}(We.NodeImpl);r.DocumentTypeImpl=Ke,qe.idl_defineConst(Ke.prototype,"_nodeType",Xe.NodeType.DocumentType)},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(Ze,Je){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Qe,ti){Qe.__proto__=ti}||function(Qe,ti){for(var ni in ti)ti.hasOwnProperty(ni)&&(Qe[ni]=ti[ni])})(Ze,Je)},function(Ze,Je){function Qe(){this.constructor=Ze}je(Ze,Je),Ze.prototype=Je===null?Object.create(Je):(Qe.prototype=Je.prototype,new Qe)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(100),We=Ve(2),qe=Ve(0),Ke=function(Ze){function Je(Qe,ti){var ni=Ze.call(this)||this;return ni._host=Qe,ni._mode=ti,ni}return ze(Je,Ze),Object.defineProperty(Je.prototype,"mode",{get:function(){return this._mode},enumerable:!0,configurable:!0}),Object.defineProperty(Je.prototype,"host",{get:function(){return this._host},enumerable:!0,configurable:!0}),Je.prototype._getTheParent=function(Qe){return Qe._composedFlag||We.isEmpty(Qe._path)||qe.tree_rootNode(Qe._path[0].invocationTarget)!==this?this._host:null},Je._create=function(Qe,ti){return new Je(ti,"closed")},Je}(Xe.DocumentFragmentImpl);r.ShadowRootImpl=Ke},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(Je,Qe){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ti,ni){ti.__proto__=ni}||function(ti,ni){for(var ri in ni)ni.hasOwnProperty(ri)&&(ti[ri]=ni[ri])})(Je,Qe)},function(Je,Qe){function ti(){this.constructor=Je}je(Je,Qe),Je.prototype=Qe===null?Object.create(Qe):(ti.prototype=Qe.prototype,new ti)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(1),We=Ve(34),qe=Ve(0),Ke=Ve(12),Ze=function(Je){function Qe(ti){var ni=Je.call(this)||this;return ni._namespace=null,ni._namespacePrefix=null,ni._element=null,ni._value="",ni._localName=ti,ni}return ze(Qe,Je),Object.defineProperty(Qe.prototype,"ownerElement",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(Qe.prototype,"namespaceURI",{get:function(){return this._namespace},enumerable:!0,configurable:!0}),Object.defineProperty(Qe.prototype,"prefix",{get:function(){return this._namespacePrefix},enumerable:!0,configurable:!0}),Object.defineProperty(Qe.prototype,"localName",{get:function(){return this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(Qe.prototype,"name",{get:function(){return this._qualifiedName},enumerable:!0,configurable:!0}),Object.defineProperty(Qe.prototype,"value",{get:function(){return this._value},set:function(ti){qe.attr_setAnExistingAttributeValue(this,ti)},enumerable:!0,configurable:!0}),Object.defineProperty(Qe.prototype,"_qualifiedName",{get:function(){return this._namespacePrefix!==null?this._namespacePrefix+":"+this._localName:this._localName},enumerable:!0,configurable:!0}),Qe._create=function(ti,ni){var ri=new Qe(ni);return ri._nodeDocument=ti,ri},Qe}(We.NodeImpl);r.AttrImpl=Ze,Ke.idl_defineConst(Ze.prototype,"_nodeType",Xe.NodeType.Attribute),Ke.idl_defineConst(Ze.prototype,"specified",!0)},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(Ze,Je){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Qe,ti){Qe.__proto__=ti}||function(Qe,ti){for(var ni in ti)ti.hasOwnProperty(ni)&&(Qe[ni]=ti[ni])})(Ze,Je)},function(Ze,Je){function Qe(){this.constructor=Ze}je(Ze,Je),Ze.prototype=Je===null?Object.create(Je):(Qe.prototype=Je.prototype,new Qe)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(101),We=Ve(1),qe=Ve(12),Ke=function(Ze){function Je(Qe){return Ze.call(this,Qe)||this}return ze(Je,Ze),Je._create=function(Qe,ti){ti===void 0&&(ti="");var ni=new Je(ti);return ni._nodeDocument=Qe,ni},Je}(Xe.TextImpl);r.CDATASectionImpl=Ke,qe.idl_defineConst(Ke.prototype,"_nodeType",We.NodeType.CData)},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(Ze,Je){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Qe,ti){Qe.__proto__=ti}||function(Qe,ti){for(var ni in ti)ti.hasOwnProperty(ni)&&(Qe[ni]=ti[ni])})(Ze,Je)},function(Ze,Je){function Qe(){this.constructor=Ze}je(Ze,Je),Ze.prototype=Je===null?Object.create(Je):(Qe.prototype=Je.prototype,new Qe)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(1),We=Ve(71),qe=Ve(12),Ke=function(Ze){function Je(Qe){return Qe===void 0&&(Qe=""),Ze.call(this,Qe)||this}return ze(Je,Ze),Je._create=function(Qe,ti){ti===void 0&&(ti="");var ni=new Je(ti);return ni._nodeDocument=Qe,ni},Je}(We.CharacterDataImpl);r.CommentImpl=Ke,qe.idl_defineConst(Ke.prototype,"_nodeType",Xe.NodeType.Comment)},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(Ze,Je){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Qe,ti){Qe.__proto__=ti}||function(Qe,ti){for(var ni in ti)ti.hasOwnProperty(ni)&&(Qe[ni]=ti[ni])})(Ze,Je)},function(Ze,Je){function Qe(){this.constructor=Ze}je(Ze,Je),Ze.prototype=Je===null?Object.create(Je):(Qe.prototype=Je.prototype,new Qe)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(1),We=Ve(71),qe=Ve(12),Ke=function(Ze){function Je(Qe,ti){var ni=Ze.call(this,ti)||this;return ni._target=Qe,ni}return ze(Je,Ze),Object.defineProperty(Je.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Je._create=function(Qe,ti,ni){var ri=new Je(ti,ni);return ri._nodeDocument=Qe,ri},Je}(We.CharacterDataImpl);r.ProcessingInstructionImpl=Ke,qe.idl_defineConst(Ke.prototype,"_nodeType",Xe.NodeType.ProcessingInstruction)},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(7),ze=Ve(0),Xe=Ve(3),We=Ve(2),qe=function(){function Ke(Ze,Je){return this._live=!0,this._root=Ze,this._filter=Je,new Proxy(this,this)}return Object.defineProperty(Ke.prototype,"length",{get:function(){for(var Ze=this,Je=0,Qe=ze.tree_getFirstDescendantNode(this._root,!1,!1,function(ti){return Xe.Guard.isElementNode(ti)&&Ze._filter(ti)});Qe!==null;)Je++,Qe=ze.tree_getNextDescendantNode(this._root,Qe,!1,!1,function(ti){return Xe.Guard.isElementNode(ti)&&Ze._filter(ti)});return Je},enumerable:!0,configurable:!0}),Ke.prototype.item=function(Ze){for(var Je=this,Qe=0,ti=ze.tree_getFirstDescendantNode(this._root,!1,!1,function(ni){return Xe.Guard.isElementNode(ni)&&Je._filter(ni)});ti!==null;){if(Qe===Ze)return ti;Qe++,ti=ze.tree_getNextDescendantNode(this._root,ti,!1,!1,function(ni){return Xe.Guard.isElementNode(ni)&&Je._filter(ni)})}return null},Ke.prototype.namedItem=function(Ze){var Je=this;if(Ze==="")return null;for(var Qe=ze.tree_getFirstDescendantNode(this._root,!1,!1,function(ri){return Xe.Guard.isElementNode(ri)&&Je._filter(ri)});Qe!=null;){if(Qe._uniqueIdentifier===Ze)return Qe;if(Qe._namespace===je.namespace.HTML)for(var ti=0;ti<Qe._attributeList.length;ti++){var ni=Qe._attributeList[ti];if(ni._localName==="name"&&ni._namespace===null&&ni._namespacePrefix===null&&ni._value===Ze)return Qe}Qe=ze.tree_getNextDescendantNode(this._root,Qe,!1,!1,function(ri){return Xe.Guard.isElementNode(ri)&&Je._filter(ri)})}return null},Ke.prototype[Symbol.iterator]=function(){var Ze=this._root,Je=this._filter,Qe=ze.tree_getFirstDescendantNode(Ze,!1,!1,function(ti){return Xe.Guard.isElementNode(ti)&&Je(ti)});return{next:function(){if(Qe===null)return{done:!0,value:null};var ti={done:!1,value:Qe};return Qe=ze.tree_getNextDescendantNode(Ze,Qe,!1,!1,function(ni){return Xe.Guard.isElementNode(ni)&&Je(ni)}),ti}}},Ke.prototype.get=function(Ze,Je,Qe){if(!We.isString(Je)||Ke.reservedNames.indexOf(Je)!==-1)return Reflect.get(Ze,Je,Qe);var ti=Number(Je);return isNaN(ti)?Ze.namedItem(Je)||void 0:Ze.item(ti)||void 0},Ke.prototype.set=function(Ze,Je,Qe,ti){if(!We.isString(Je)||Ke.reservedNames.indexOf(Je)!==-1)return Reflect.set(Ze,Je,Qe,ti);var ni=Number(Je),ri=isNaN(ni)?Ze.namedItem(Je)||void 0:Ze.item(ni)||void 0;return!(!ri||!ri._parent)&&(ze.mutation_replace(ri,Qe,ri._parent),!0)},Ke._create=function(Ze,Je){return Je===void 0&&(Je=function(){return!0}),new Ke(Ze,Je)},Ke.reservedNames=["_root","_live","_filter","length","item","namedItem","get","set"],Ke}();r.HTMLCollectionImpl=qe},function(t,r,Ve){var je=this&&this.__values||function(Ke){var Ze=typeof Symbol=="function"&&Symbol.iterator,Je=Ze&&Ke[Ze],Qe=0;if(Je)return Je.call(Ke);if(Ke&&typeof Ke.length=="number")return{next:function(){return Ke&&Qe>=Ke.length&&(Ke=void 0),{value:Ke&&Ke[Qe++],done:!Ke}}};throw new TypeError(Ze?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var ze=Ve(6),Xe=Ve(2),We=Ve(0),qe=function(){function Ke(Ze){return this._live=!0,this._filter=null,this._length=0,this._root=Ze,new Proxy(this,this)}return Object.defineProperty(Ke.prototype,"length",{get:function(){return this._root._children.size},enumerable:!0,configurable:!0}),Ke.prototype.item=function(Ze){if(Ze<0||Ze>this.length-1)return null;if(Ze<this.length/2){for(var Je=0,Qe=this._root._firstChild;Qe!==null&&Je!==Ze;)Qe=Qe._nextSibling,Je++;return Qe}for(Je=this.length-1,Qe=this._root._lastChild;Qe!==null&&Je!==Ze;)Qe=Qe._previousSibling,Je--;return Qe},Ke.prototype.keys=function(){var Ze;return(Ze={})[Symbol.iterator]=(function(){var Je=0;return{next:(function(){return Je===this.length?{done:!0,value:null}:{done:!1,value:Je++}}).bind(this)}}).bind(this),Ze},Ke.prototype.values=function(){var Ze;return(Ze={})[Symbol.iterator]=(function(){var Je=this[Symbol.iterator]();return{next:function(){return Je.next()}}}).bind(this),Ze},Ke.prototype.entries=function(){var Ze;return(Ze={})[Symbol.iterator]=(function(){var Je=this[Symbol.iterator](),Qe=0;return{next:function(){var ti=Je.next();return ti.done?{done:!0,value:null}:{done:!1,value:[Qe++,ti.value]}}}}).bind(this),Ze},Ke.prototype[Symbol.iterator]=function(){return this._root._children[Symbol.iterator]()},Ke.prototype.forEach=function(Ze,Je){var Qe,ti;Je===void 0&&(Je=ze.dom.window);var ni=0;try{for(var ri=je(this._root._children),ii=ri.next();!ii.done;ii=ri.next()){var ei=ii.value;Ze.call(Je,ei,ni++,this)}}catch(St){Qe={error:St}}finally{try{ii&&!ii.done&&(ti=ri.return)&&ti.call(ri)}finally{if(Qe)throw Qe.error}}},Ke.prototype.get=function(Ze,Je,Qe){if(!Xe.isString(Je))return Reflect.get(Ze,Je,Qe);var ti=Number(Je);return isNaN(ti)?Reflect.get(Ze,Je,Qe):Ze.item(ti)||void 0},Ke.prototype.set=function(Ze,Je,Qe,ti){if(!Xe.isString(Je))return Reflect.set(Ze,Je,Qe,ti);var ni=Number(Je);if(isNaN(ni))return Reflect.set(Ze,Je,Qe,ti);var ri=Ze.item(ni)||void 0;return!!ri&&!!ri._parent&&(We.mutation_replace(ri,Qe,ri._parent),!0)},Ke._create=function(Ze){return new Ke(Ze)},Ke}();r.NodeListImpl=qe},function(t,r,Ve){var je=this&&this.__values||function(qe){var Ke=typeof Symbol=="function"&&Symbol.iterator,Ze=Ke&&qe[Ke],Je=0;if(Ze)return Ze.call(qe);if(qe&&typeof qe.length=="number")return{next:function(){return qe&&Je>=qe.length&&(qe=void 0),{value:qe&&qe[Je++],done:!qe}}};throw new TypeError(Ke?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var ze=Ve(6),Xe=Ve(2),We=function(){function qe(Ke){return this._live=!1,this._items=[],this._length=0,this._root=Ke,this._items=[],this._filter=function(Ze){return!0},new Proxy(this,this)}return Object.defineProperty(qe.prototype,"length",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),qe.prototype.item=function(Ke){return Ke<0||Ke>this.length-1?null:this._items[Ke]},qe.prototype.keys=function(){var Ke;return(Ke={})[Symbol.iterator]=(function(){var Ze=0;return{next:(function(){return Ze===this.length?{done:!0,value:null}:{done:!1,value:Ze++}}).bind(this)}}).bind(this),Ke},qe.prototype.values=function(){var Ke;return(Ke={})[Symbol.iterator]=(function(){var Ze=this[Symbol.iterator]();return{next:function(){return Ze.next()}}}).bind(this),Ke},qe.prototype.entries=function(){var Ke;return(Ke={})[Symbol.iterator]=(function(){var Ze=this[Symbol.iterator](),Je=0;return{next:function(){var Qe=Ze.next();return Qe.done?{done:!0,value:null}:{done:!1,value:[Je++,Qe.value]}}}}).bind(this),Ke},qe.prototype[Symbol.iterator]=function(){var Ke=this._items[Symbol.iterator]();return{next:function(){return Ke.next()}}},qe.prototype.forEach=function(Ke,Ze){var Je,Qe;Ze===void 0&&(Ze=ze.dom.window);var ti=0;try{for(var ni=je(this._items),ri=ni.next();!ri.done;ri=ni.next()){var ii=ri.value;Ke.call(Ze,ii,ti++,this)}}catch(ei){Je={error:ei}}finally{try{ri&&!ri.done&&(Qe=ni.return)&&Qe.call(ni)}finally{if(Je)throw Je.error}}},qe.prototype.get=function(Ke,Ze,Je){if(!Xe.isString(Ze))return Reflect.get(Ke,Ze,Je);var Qe=Number(Ze);return isNaN(Qe)?Reflect.get(Ke,Ze,Je):Ke._items[Qe]||void 0},qe.prototype.set=function(Ke,Ze,Je,Qe){if(!Xe.isString(Ze))return Reflect.set(Ke,Ze,Je,Qe);var ti=Number(Ze);return isNaN(ti)?Reflect.set(Ke,Ze,Je,Qe):ti>=0&&ti<Ke._items.length&&(Ke._items[ti]=Je,!0)},qe._create=function(Ke,Ze){var Je=new qe(Ke);return Je._items=Ze,Je},qe}();r.NodeListStaticImpl=We},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(Ke,Ze){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Je,Qe){Je.__proto__=Qe}||function(Je,Qe){for(var ti in Qe)Qe.hasOwnProperty(ti)&&(Je[ti]=Qe[ti])})(Ke,Ze)},function(Ke,Ze){function Je(){this.constructor=Ke}je(Ke,Ze),Ke.prototype=Ze===null?Object.create(Ze):(Je.prototype=Ze.prototype,new Je)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(9),We=Ve(0),qe=function(Ke){function Ze(Je){var Qe=Ke.call(this)||this;return Qe._element=Je,Object.setPrototypeOf(Qe,Ze.prototype),Qe}return ze(Ze,Ke),Ze.prototype._asArray=function(){return this},Ze.prototype.item=function(Je){return this[Je]||null},Ze.prototype.getNamedItem=function(Je){return We.element_getAnAttributeByName(Je,this._element)},Ze.prototype.getNamedItemNS=function(Je,Qe){return We.element_getAnAttributeByNamespaceAndLocalName(Je||"",Qe,this._element)},Ze.prototype.setNamedItem=function(Je){return We.element_setAnAttribute(Je,this._element)},Ze.prototype.setNamedItemNS=function(Je){return We.element_setAnAttribute(Je,this._element)},Ze.prototype.removeNamedItem=function(Je){var Qe=We.element_removeAnAttributeByName(Je,this._element);if(Qe===null)throw new Xe.NotFoundError;return Qe},Ze.prototype.removeNamedItemNS=function(Je,Qe){var ti=We.element_removeAnAttributeByNamespaceAndLocalName(Je||"",Qe,this._element);if(ti===null)throw new Xe.NotFoundError;return ti},Ze._create=function(Je){return new Ze(Je)},Ze}(Array);r.NamedNodeMapImpl=qe},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(ri,ii){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ei,St){ei.__proto__=St}||function(ei,St){for(var oi in St)St.hasOwnProperty(oi)&&(ei[oi]=St[oi])})(ri,ii)},function(ri,ii){function ei(){this.constructor=ri}je(ri,ii),ri.prototype=ii===null?Object.create(ii):(ei.prototype=ii.prototype,new ei)}),Xe=this&&this.__values||function(ri){var ii=typeof Symbol=="function"&&Symbol.iterator,ei=ii&&ri[ii],St=0;if(ei)return ei.call(ri);if(ri&&typeof ri.length=="number")return{next:function(){return ri&&St>=ri.length&&(ri=void 0),{value:ri&&ri[St++],done:!ri}}};throw new TypeError(ii?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var We=Ve(6),qe=Ve(1),Ke=Ve(102),Ze=Ve(9),Je=Ve(0),Qe=Ve(12),ti=Ve(3),ni=function(ri){function ii(){var ei=ri.call(this)||this,St=We.dom.window._associatedDocument;return ei._start=[St,0],ei._end=[St,0],We.dom.rangeList.add(ei),ei}return ze(ii,ri),Object.defineProperty(ii.prototype,"commonAncestorContainer",{get:function(){for(var ei=this._start[0];!Je.tree_isAncestorOf(this._end[0],ei,!0);){if(ei._parent===null)throw new Error("Parent node  is null.");ei=ei._parent}return ei},enumerable:!0,configurable:!0}),ii.prototype.setStart=function(ei,St){Je.range_setTheStart(this,ei,St)},ii.prototype.setEnd=function(ei,St){Je.range_setTheEnd(this,ei,St)},ii.prototype.setStartBefore=function(ei){var St=ei._parent;if(St===null)throw new Ze.InvalidNodeTypeError;Je.range_setTheStart(this,St,Je.tree_index(ei))},ii.prototype.setStartAfter=function(ei){var St=ei._parent;if(St===null)throw new Ze.InvalidNodeTypeError;Je.range_setTheStart(this,St,Je.tree_index(ei)+1)},ii.prototype.setEndBefore=function(ei){var St=ei._parent;if(St===null)throw new Ze.InvalidNodeTypeError;Je.range_setTheEnd(this,St,Je.tree_index(ei))},ii.prototype.setEndAfter=function(ei){var St=ei._parent;if(St===null)throw new Ze.InvalidNodeTypeError;Je.range_setTheEnd(this,St,Je.tree_index(ei)+1)},ii.prototype.collapse=function(ei){ei?this._end=this._start:this._start=this._end},ii.prototype.selectNode=function(ei){Je.range_select(ei,this)},ii.prototype.selectNodeContents=function(ei){if(ti.Guard.isDocumentTypeNode(ei))throw new Ze.InvalidNodeTypeError;var St=Je.tree_nodeLength(ei);this._start=[ei,0],this._end=[ei,St]},ii.prototype.compareBoundaryPoints=function(ei,St){if(ei!==qe.HowToCompare.StartToStart&&ei!==qe.HowToCompare.StartToEnd&&ei!==qe.HowToCompare.EndToEnd&&ei!==qe.HowToCompare.EndToStart)throw new Ze.NotSupportedError;if(Je.range_root(this)!==Je.range_root(St))throw new Ze.WrongDocumentError;var oi,si;switch(ei){case qe.HowToCompare.StartToStart:oi=this._start,si=St._start;break;case qe.HowToCompare.StartToEnd:oi=this._end,si=St._start;break;case qe.HowToCompare.EndToEnd:oi=this._end,si=St._end;break;case qe.HowToCompare.EndToStart:oi=this._start,si=St._end;break;default:throw new Ze.NotSupportedError}var ai=Je.boundaryPoint_position(oi,si);return ai===qe.BoundaryPosition.Before?-1:ai===qe.BoundaryPosition.After?1:0},ii.prototype.deleteContents=function(){var ei,St,oi,si;if(!Je.range_collapsed(this)){var ai=this._startNode,ui=this._startOffset,hi=this._endNode,ci=this._endOffset;if(ai===hi&&ti.Guard.isCharacterDataNode(ai))Je.characterData_replaceData(ai,ui,ci-ui,"");else{var mi,di,pi=[];try{for(var yi=Xe(Je.range_getContainedNodes(this)),gi=yi.next();!gi.done;gi=yi.next()){var _i=(Mi=gi.value)._parent;_i!==null&&Je.range_isContained(_i,this)||pi.push(Mi)}}catch(Di){ei={error:Di}}finally{try{gi&&!gi.done&&(St=yi.return)&&St.call(yi)}finally{if(ei)throw ei.error}}if(Je.tree_isAncestorOf(hi,ai,!0))mi=ai,di=ui;else{for(var Ai=ai;Ai._parent!==null&&!Je.tree_isAncestorOf(hi,Ai._parent,!0);)Ai=Ai._parent;if(Ai._parent===null)throw new Error("Parent node is null.");mi=Ai._parent,di=Je.tree_index(Ai)+1}ti.Guard.isCharacterDataNode(ai)&&Je.characterData_replaceData(ai,ui,Je.tree_nodeLength(ai)-ui,"");try{for(var ki=Xe(pi),vi=ki.next();!vi.done;vi=ki.next()){var Mi;(Mi=vi.value)._parent&&Je.mutation_remove(Mi,Mi._parent)}}catch(Di){oi={error:Di}}finally{try{vi&&!vi.done&&(si=ki.return)&&si.call(ki)}finally{if(oi)throw oi.error}}ti.Guard.isCharacterDataNode(hi)&&Je.characterData_replaceData(hi,0,ci,""),this._start=[mi,di],this._end=[mi,di]}}},ii.prototype.extractContents=function(){return Je.range_extract(this)},ii.prototype.cloneContents=function(){return Je.range_cloneTheContents(this)},ii.prototype.insertNode=function(ei){return Je.range_insert(ei,this)},ii.prototype.surroundContents=function(ei){var St,oi;try{for(var si=Xe(Je.range_getPartiallyContainedNodes(this)),ai=si.next();!ai.done;ai=si.next()){var ui=ai.value;if(!ti.Guard.isTextNode(ui))throw new Ze.InvalidStateError}}catch(ci){St={error:ci}}finally{try{ai&&!ai.done&&(oi=si.return)&&oi.call(si)}finally{if(St)throw St.error}}if(ti.Guard.isDocumentNode(ei)||ti.Guard.isDocumentTypeNode(ei)||ti.Guard.isDocumentFragmentNode(ei))throw new Ze.InvalidNodeTypeError;var hi=Je.range_extract(this);ei._children.size!==0&&Je.mutation_replaceAll(null,ei),Je.range_insert(ei,this),Je.mutation_append(hi,ei),Je.range_select(ei,this)},ii.prototype.cloneRange=function(){return Je.create_range(this._start,this._end)},ii.prototype.detach=function(){We.dom.rangeList.delete(this)},ii.prototype.isPointInRange=function(ei,St){if(Je.tree_rootNode(ei)!==Je.range_root(this))return!1;if(ti.Guard.isDocumentTypeNode(ei))throw new Ze.InvalidNodeTypeError;if(St>Je.tree_nodeLength(ei))throw new Ze.IndexSizeError;var oi=[ei,St];return Je.boundaryPoint_position(oi,this._start)!==qe.BoundaryPosition.Before&&Je.boundaryPoint_position(oi,this._end)!==qe.BoundaryPosition.After},ii.prototype.comparePoint=function(ei,St){if(Je.tree_rootNode(ei)!==Je.range_root(this))throw new Ze.WrongDocumentError;if(ti.Guard.isDocumentTypeNode(ei))throw new Ze.InvalidNodeTypeError;if(St>Je.tree_nodeLength(ei))throw new Ze.IndexSizeError;var oi=[ei,St];return Je.boundaryPoint_position(oi,this._start)===qe.BoundaryPosition.Before?-1:Je.boundaryPoint_position(oi,this._end)===qe.BoundaryPosition.After?1:0},ii.prototype.intersectsNode=function(ei){if(Je.tree_rootNode(ei)!==Je.range_root(this))return!1;var St=ei._parent;if(St===null)return!0;var oi=Je.tree_index(ei);return Je.boundaryPoint_position([St,oi],this._end)===qe.BoundaryPosition.Before&&Je.boundaryPoint_position([St,oi+1],this._start)===qe.BoundaryPosition.After},ii.prototype.toString=function(){var ei,St,oi="";if(this._startNode===this._endNode&&ti.Guard.isTextNode(this._startNode))return this._startNode._data.substring(this._startOffset,this._endOffset);ti.Guard.isTextNode(this._startNode)&&(oi+=this._startNode._data.substring(this._startOffset));try{for(var si=Xe(Je.range_getContainedNodes(this)),ai=si.next();!ai.done;ai=si.next()){var ui=ai.value;ti.Guard.isTextNode(ui)&&(oi+=ui._data)}}catch(hi){ei={error:hi}}finally{try{ai&&!ai.done&&(St=si.return)&&St.call(si)}finally{if(ei)throw ei.error}}return ti.Guard.isTextNode(this._endNode)&&(oi+=this._endNode._data.substring(0,this._endOffset)),oi},ii._create=function(ei,St){var oi=new ii;return ei&&(oi._start=ei),St&&(oi._end=St),oi},ii.START_TO_START=0,ii.START_TO_END=1,ii.END_TO_END=2,ii.END_TO_START=3,ii}(Ke.AbstractRangeImpl);r.RangeImpl=ni,Qe.idl_defineConst(ni.prototype,"START_TO_START",0),Qe.idl_defineConst(ni.prototype,"START_TO_END",1),Qe.idl_defineConst(ni.prototype,"END_TO_END",2),Qe.idl_defineConst(ni.prototype,"END_TO_START",3)},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(Ke,Ze){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Je,Qe){Je.__proto__=Qe}||function(Je,Qe){for(var ti in Qe)Qe.hasOwnProperty(ti)&&(Je[ti]=Qe[ti])})(Ke,Ze)},function(Ke,Ze){function Je(){this.constructor=Ke}je(Ke,Ze),Ke.prototype=Ze===null?Object.create(Ze):(Je.prototype=Ze.prototype,new Je)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(103),We=Ve(0),qe=function(Ke){function Ze(Je,Qe,ti){var ni=Ke.call(this,Je)||this;return ni._iteratorCollection=void 0,ni._reference=Qe,ni._pointerBeforeReference=ti,We.nodeIterator_iteratorList().add(ni),ni}return ze(Ze,Ke),Object.defineProperty(Ze.prototype,"referenceNode",{get:function(){return this._reference},enumerable:!0,configurable:!0}),Object.defineProperty(Ze.prototype,"pointerBeforeReferenceNode",{get:function(){return this._pointerBeforeReference},enumerable:!0,configurable:!0}),Ze.prototype.nextNode=function(){return We.nodeIterator_traverse(this,!0)},Ze.prototype.previousNode=function(){return We.nodeIterator_traverse(this,!1)},Ze.prototype.detach=function(){We.nodeIterator_iteratorList().delete(this)},Ze._create=function(Je,Qe,ti){return new Ze(Je,Qe,ti)},Ze}(Xe.TraverserImpl);r.NodeIteratorImpl=qe},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(Ze,Je){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Qe,ti){Qe.__proto__=ti}||function(Qe,ti){for(var ni in ti)ti.hasOwnProperty(ni)&&(Qe[ni]=ti[ni])})(Ze,Je)},function(Ze,Je){function Qe(){this.constructor=Ze}je(Ze,Je),Ze.prototype=Je===null?Object.create(Je):(Qe.prototype=Je.prototype,new Qe)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(1),We=Ve(103),qe=Ve(0),Ke=function(Ze){function Je(Qe,ti){var ni=Ze.call(this,Qe)||this;return ni._current=ti,ni}return ze(Je,Ze),Object.defineProperty(Je.prototype,"currentNode",{get:function(){return this._current},set:function(Qe){this._current=Qe},enumerable:!0,configurable:!0}),Je.prototype.parentNode=function(){for(var Qe=this._current;Qe!==null&&Qe!==this._root;)if((Qe=Qe._parent)!==null&&qe.traversal_filter(this,Qe)===Xe.FilterResult.Accept)return this._current=Qe,Qe;return null},Je.prototype.firstChild=function(){return qe.treeWalker_traverseChildren(this,!0)},Je.prototype.lastChild=function(){return qe.treeWalker_traverseChildren(this,!1)},Je.prototype.nextSibling=function(){return qe.treeWalker_traverseSiblings(this,!0)},Je.prototype.previousNode=function(){for(var Qe=this._current;Qe!==this._root;){for(var ti=Qe._previousSibling;ti;){Qe=ti;for(var ni=qe.traversal_filter(this,Qe);ni!==Xe.FilterResult.Reject&&Qe._lastChild;)Qe=Qe._lastChild,ni=qe.traversal_filter(this,Qe);if(ni===Xe.FilterResult.Accept)return this._current=Qe,Qe;ti=Qe._previousSibling}if(Qe===this._root||Qe._parent===null)return null;if(Qe=Qe._parent,qe.traversal_filter(this,Qe)===Xe.FilterResult.Accept)return this._current=Qe,Qe}return null},Je.prototype.previousSibling=function(){return qe.treeWalker_traverseSiblings(this,!1)},Je.prototype.nextNode=function(){for(var Qe=this._current,ti=Xe.FilterResult.Accept;;){for(;ti!==Xe.FilterResult.Reject&&Qe._firstChild;)if(Qe=Qe._firstChild,(ti=qe.traversal_filter(this,Qe))===Xe.FilterResult.Accept)return this._current=Qe,Qe;for(var ni=null,ri=Qe;ri!==null;){if(ri===this._root)return null;if((ni=ri._nextSibling)!==null){Qe=ni;break}ri=ri._parent}if((ti=qe.traversal_filter(this,Qe))===Xe.FilterResult.Accept)return this._current=Qe,Qe}},Je._create=function(Qe,ti){return new Je(Qe,ti)},Je}(We.TraverserImpl);r.TreeWalkerImpl=Ke},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(1),ze=Ve(12),Xe=function(){function We(){}return We.prototype.acceptNode=function(qe){return je.FilterResult.Accept},We._create=function(){return new We},We.FILTER_ACCEPT=1,We.FILTER_REJECT=2,We.FILTER_SKIP=3,We.SHOW_ALL=4294967295,We.SHOW_ELEMENT=1,We.SHOW_ATTRIBUTE=2,We.SHOW_TEXT=4,We.SHOW_CDATA_SECTION=8,We.SHOW_ENTITY_REFERENCE=16,We.SHOW_ENTITY=32,We.SHOW_PROCESSING_INSTRUCTION=64,We.SHOW_COMMENT=128,We.SHOW_DOCUMENT=256,We.SHOW_DOCUMENT_TYPE=512,We.SHOW_DOCUMENT_FRAGMENT=1024,We.SHOW_NOTATION=2048,We}();r.NodeFilterImpl=Xe,ze.idl_defineConst(Xe.prototype,"FILTER_ACCEPT",1),ze.idl_defineConst(Xe.prototype,"FILTER_REJECT",2),ze.idl_defineConst(Xe.prototype,"FILTER_SKIP",3),ze.idl_defineConst(Xe.prototype,"SHOW_ALL",4294967295),ze.idl_defineConst(Xe.prototype,"SHOW_ELEMENT",1),ze.idl_defineConst(Xe.prototype,"SHOW_ATTRIBUTE",2),ze.idl_defineConst(Xe.prototype,"SHOW_TEXT",4),ze.idl_defineConst(Xe.prototype,"SHOW_CDATA_SECTION",8),ze.idl_defineConst(Xe.prototype,"SHOW_ENTITY_REFERENCE",16),ze.idl_defineConst(Xe.prototype,"SHOW_ENTITY",32),ze.idl_defineConst(Xe.prototype,"SHOW_PROCESSING_INSTRUCTION",64),ze.idl_defineConst(Xe.prototype,"SHOW_COMMENT",128),ze.idl_defineConst(Xe.prototype,"SHOW_DOCUMENT",256),ze.idl_defineConst(Xe.prototype,"SHOW_DOCUMENT_TYPE",512),ze.idl_defineConst(Xe.prototype,"SHOW_DOCUMENT_FRAGMENT",1024),ze.idl_defineConst(Xe.prototype,"SHOW_NOTATION",2048)},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=function(){function ze(Xe,We,qe,Ke,Ze,Je,Qe,ti,ni){this._type=Xe,this._target=We,this._addedNodes=qe,this._removedNodes=Ke,this._previousSibling=Ze,this._nextSibling=Je,this._attributeName=Qe,this._attributeNamespace=ti,this._oldValue=ni}return Object.defineProperty(ze.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(ze.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(ze.prototype,"addedNodes",{get:function(){return this._addedNodes},enumerable:!0,configurable:!0}),Object.defineProperty(ze.prototype,"removedNodes",{get:function(){return this._removedNodes},enumerable:!0,configurable:!0}),Object.defineProperty(ze.prototype,"previousSibling",{get:function(){return this._previousSibling},enumerable:!0,configurable:!0}),Object.defineProperty(ze.prototype,"nextSibling",{get:function(){return this._nextSibling},enumerable:!0,configurable:!0}),Object.defineProperty(ze.prototype,"attributeName",{get:function(){return this._attributeName},enumerable:!0,configurable:!0}),Object.defineProperty(ze.prototype,"attributeNamespace",{get:function(){return this._attributeNamespace},enumerable:!0,configurable:!0}),Object.defineProperty(ze.prototype,"oldValue",{get:function(){return this._oldValue},enumerable:!0,configurable:!0}),ze._create=function(Xe,We,qe,Ke,Ze,Je,Qe,ti,ni){return new ze(Xe,We,qe,Ke,Ze,Je,Qe,ti,ni)},ze}();r.MutationRecordImpl=je},function(t,r,Ve){var je=this&&this.__values||function(Ze){var Je=typeof Symbol=="function"&&Symbol.iterator,Qe=Je&&Ze[Je],ti=0;if(Qe)return Qe.call(Ze);if(Ze&&typeof Ze.length=="number")return{next:function(){return Ze&&ti>=Ze.length&&(Ze=void 0),{value:Ze&&Ze[ti++],done:!Ze}}};throw new TypeError(Je?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var ze=Ve(6),Xe=Ve(9),We=Ve(7),qe=Ve(0),Ke=function(){function Ze(Je,Qe){this._element=Je,this._attribute=Qe,this._tokenSet=new Set;var ti=Qe._localName,ni=qe.element_getAnAttributeValue(Je,ti),ri=this;this._element._attributeChangeSteps.push(function(ii,ei,St,oi,si){ei===ri._attribute._localName&&si===null&&(oi?ri._tokenSet=qe.orderedSet_parse(oi):ri._tokenSet.clear())}),ze.dom.features.steps&&qe.dom_runAttributeChangeSteps(Je,ti,ni,ni,null)}return Object.defineProperty(Ze.prototype,"length",{get:function(){return this._tokenSet.size},enumerable:!0,configurable:!0}),Ze.prototype.item=function(Je){var Qe,ti,ni=0;try{for(var ri=je(this._tokenSet),ii=ri.next();!ii.done;ii=ri.next()){var ei=ii.value;if(ni===Je)return ei;ni++}}catch(St){Qe={error:St}}finally{try{ii&&!ii.done&&(ti=ri.return)&&ti.call(ri)}finally{if(Qe)throw Qe.error}}return null},Ze.prototype.contains=function(Je){return this._tokenSet.has(Je)},Ze.prototype.add=function(){for(var Je,Qe,ti=[],ni=0;ni<arguments.length;ni++)ti[ni]=arguments[ni];try{for(var ri=je(ti),ii=ri.next();!ii.done;ii=ri.next()){var ei=ii.value;if(ei==="")throw new Xe.SyntaxError("Cannot add an empty token.");if(We.codePoint.ASCIIWhiteSpace.test(ei))throw new Xe.InvalidCharacterError("Token cannot contain whitespace.");this._tokenSet.add(ei)}}catch(St){Je={error:St}}finally{try{ii&&!ii.done&&(Qe=ri.return)&&Qe.call(ri)}finally{if(Je)throw Je.error}}qe.tokenList_updateSteps(this)},Ze.prototype.remove=function(){for(var Je,Qe,ti=[],ni=0;ni<arguments.length;ni++)ti[ni]=arguments[ni];try{for(var ri=je(ti),ii=ri.next();!ii.done;ii=ri.next()){var ei=ii.value;if(ei==="")throw new Xe.SyntaxError("Cannot remove an empty token.");if(We.codePoint.ASCIIWhiteSpace.test(ei))throw new Xe.InvalidCharacterError("Token cannot contain whitespace.");this._tokenSet.delete(ei)}}catch(St){Je={error:St}}finally{try{ii&&!ii.done&&(Qe=ri.return)&&Qe.call(ri)}finally{if(Je)throw Je.error}}qe.tokenList_updateSteps(this)},Ze.prototype.toggle=function(Je,Qe){if(Qe===void 0&&(Qe=void 0),Je==="")throw new Xe.SyntaxError("Cannot toggle an empty token.");if(We.codePoint.ASCIIWhiteSpace.test(Je))throw new Xe.InvalidCharacterError("Token cannot contain whitespace.");return this._tokenSet.has(Je)?Qe!==void 0&&Qe!==!1||(this._tokenSet.delete(Je),qe.tokenList_updateSteps(this),!1):(Qe===void 0||Qe===!0)&&(this._tokenSet.add(Je),qe.tokenList_updateSteps(this),!0)},Ze.prototype.replace=function(Je,Qe){if(Je===""||Qe==="")throw new Xe.SyntaxError("Cannot replace an empty token.");if(We.codePoint.ASCIIWhiteSpace.test(Je)||We.codePoint.ASCIIWhiteSpace.test(Qe))throw new Xe.InvalidCharacterError("Token cannot contain whitespace.");return!!this._tokenSet.has(Je)&&(We.set.replace(this._tokenSet,Je,Qe),qe.tokenList_updateSteps(this),!0)},Ze.prototype.supports=function(Je){return qe.tokenList_validationSteps(this,Je)},Object.defineProperty(Ze.prototype,"value",{get:function(){return qe.tokenList_serializeSteps(this)},set:function(Je){qe.element_setAnAttributeValue(this._element,this._attribute._localName,Je)},enumerable:!0,configurable:!0}),Ze.prototype[Symbol.iterator]=function(){var Je=this._tokenSet[Symbol.iterator]();return{next:function(){return Je.next()}}},Ze._create=function(Je,Qe){return new Ze(Je,Qe)},Ze}();r.DOMTokenListImpl=Ke},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(Ke,Ze){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Je,Qe){Je.__proto__=Qe}||function(Je,Qe){for(var ti in Qe)Qe.hasOwnProperty(ti)&&(Je[ti]=Qe[ti])})(Ke,Ze)},function(Ke,Ze){function Je(){this.constructor=Ke}je(Ke,Ze),Ke.prototype=Ze===null?Object.create(Ze):(Je.prototype=Ze.prototype,new Je)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(104),We=Ve(0),qe=function(Ke){function Ze(Je,Qe){var ti=Ke.call(this,Je,Qe)||this;return ti._detail=null,ti._detail=Qe&&Qe.detail||null,ti}return ze(Ze,Ke),Object.defineProperty(Ze.prototype,"detail",{get:function(){return this._detail},enumerable:!0,configurable:!0}),Ze.prototype.initCustomEvent=function(Je,Qe,ti,ni){Qe===void 0&&(Qe=!1),ti===void 0&&(ti=!1),ni===void 0&&(ni=null),this._dispatchFlag||(We.event_initialize(this,Je,Qe,ti),this._detail=ni)},Ze}(Xe.EventImpl);r.CustomEventImpl=qe},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(6),ze=Ve(1),Xe=Ve(105),We=Ve(17);r.nodeIterator_traverse=function(qe,Ke){for(var Ze=qe._reference,Je=qe._pointerBeforeReference;;){if(Ke)if(Je)Je=!1;else{var Qe=We.tree_getFollowingNode(qe._root,Ze);if(!Qe)return null;Ze=Qe}else if(Je){var ti=We.tree_getPrecedingNode(qe.root,Ze);if(!ti)return null;Ze=ti}else Je=!0;if(Xe.traversal_filter(qe,Ze)===ze.FilterResult.Accept)break}return qe._reference=Ze,qe._pointerBeforeReference=Je,Ze},r.nodeIterator_iteratorList=function(){return je.dom.window._iteratorList}},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(9),ze=Ve(7),Xe=Ve(174);function We(qe){if(!Xe.xml_isName(qe))throw new je.InvalidCharacterError("Invalid XML name: "+qe);if(!Xe.xml_isQName(qe))throw new je.InvalidCharacterError("Invalid XML qualified name: "+qe+".")}r.namespace_validate=We,r.namespace_validateAndExtract=function(qe,Ke){qe||(qe=null),We(Ke);var Ze=Ke.split(":"),Je=Ze.length===2?Ze[0]:null,Qe=Ze.length===2?Ze[1]:Ke;if(Je&&qe===null)throw new je.NamespaceError("Qualified name includes a prefix but the namespace is null.");if(Je==="xml"&&qe!==ze.namespace.XML)throw new je.NamespaceError('Qualified name includes the "xml" prefix but the namespace is not the XML namespace.');if(qe!==ze.namespace.XMLNS&&(Je==="xmlns"||Ke==="xmlns"))throw new je.NamespaceError('Qualified name includes the "xmlns" prefix but the namespace is not the XMLNS namespace.');if(qe===ze.namespace.XMLNS&&Je!=="xmlns"&&Ke!=="xmlns")throw new je.NamespaceError('Qualified name does not include the "xmlns" prefix but the namespace is the XMLNS namespace.');return[qe,Je,Qe]},r.namespace_extractQName=function(qe){We(qe);var Ke=qe.split(":");return[Ke.length===2?Ke[0]:null,Ke.length===2?Ke[1]:qe]}},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0}),r.xml_isName=function(je){for(var ze=0;ze<je.length;ze++){var Xe=je.charCodeAt(ze);if(!(Xe>=97&&Xe<=122||Xe>=65&&Xe<=90||Xe===58||Xe===95||Xe>=192&&Xe<=214||Xe>=216&&Xe<=246||Xe>=248&&Xe<=767||Xe>=880&&Xe<=893||Xe>=895&&Xe<=8191||Xe>=8204&&Xe<=8205||Xe>=8304&&Xe<=8591||Xe>=11264&&Xe<=12271||Xe>=12289&&Xe<=55295||Xe>=63744&&Xe<=64975||Xe>=65008&&Xe<=65533)&&(ze===0||!(Xe===45||Xe===46||Xe>=48&&Xe<=57||Xe===183||Xe>=768&&Xe<=879||Xe>=8255&&Xe<=8256))){if(Xe>=55296&&Xe<=56319&&ze<je.length-1){var We=je.charCodeAt(ze+1);if(We>=56320&&We<=57343&&(ze++,(Xe=1024*(Xe-55296)+We-56320+65536)>=65536&&Xe<=983039))continue}return!1}}return!0},r.xml_isQName=function(je){for(var ze=!1,Xe=0;Xe<je.length;Xe++){var We=je.charCodeAt(Xe);if(!(We>=97&&We<=122||We>=65&&We<=90||We===95||We>=192&&We<=214||We>=216&&We<=246||We>=248&&We<=767||We>=880&&We<=893||We>=895&&We<=8191||We>=8204&&We<=8205||We>=8304&&We<=8591||We>=11264&&We<=12271||We>=12289&&We<=55295||We>=63744&&We<=64975||We>=65008&&We<=65533)&&(Xe===0||!(We===45||We===46||We>=48&&We<=57||We===183||We>=768&&We<=879||We>=8255&&We<=8256))){if(Xe===0||We!==58){if(We>=55296&&We<=56319&&Xe<je.length-1){var qe=je.charCodeAt(Xe+1);if(qe>=56320&&qe<=57343&&(Xe++,(We=1024*(We-55296)+qe-56320+65536)>=65536&&We<=983039))continue}return!1}if(ze||Xe===je.length-1)return!1;ze=!0}}return!0},r.xml_isLegalChar=function(je){for(var ze=0;ze<je.length;ze++){var Xe=je.charCodeAt(ze);if(!(Xe===9||Xe===10||Xe===13||Xe>=32&&Xe<=55295||Xe>=57344&&Xe<=65533)){if(Xe>=55296&&Xe<=56319&&ze<je.length-1){var We=je.charCodeAt(ze+1);if(We>=56320&&We<=57343&&(ze++,(Xe=1024*(Xe-55296)+We-56320+65536)>=65536&&Xe<=1114111))continue}return!1}}return!0},r.xml_isPubidChar=function(je){for(var ze=0;ze<je.length;ze++){var Xe=je.charCodeAt(ze);if(!(Xe>=97&&Xe<=122||Xe>=65&&Xe<=90||Xe>=39&&Xe<=59||Xe===32||Xe===13||Xe===10||Xe>=35&&Xe<=37||Xe===33||Xe===61||Xe===63||Xe===64||Xe===95))return!1}return!0}},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(1),ze=Ve(17);r.boundaryPoint_position=function Xe(We,qe){var Ke=We[0],Ze=We[1],Je=qe[0],Qe=qe[1];if(console.assert(ze.tree_rootNode(Ke)===ze.tree_rootNode(Je),"Boundary points must share the same root node."),Ke===Je)return Ze===Qe?je.BoundaryPosition.Equal:Ze<Qe?je.BoundaryPosition.Before:je.BoundaryPosition.After;if(ze.tree_isFollowing(Je,Ke)){var ti=Xe([Je,Qe],[Ke,Ze]);if(ti===je.BoundaryPosition.Before)return je.BoundaryPosition.After;if(ti===je.BoundaryPosition.After)return je.BoundaryPosition.Before}if(ze.tree_isAncestorOf(Je,Ke)){for(var ni=Je;!ze.tree_isChildOf(Ke,ni);)ni._parent!==null&&(ni=ni._parent);if(ze.tree_index(ni)<Ze)return je.BoundaryPosition.After}return je.BoundaryPosition.Before}},function(t,r,Ve){var je=this&&this.__values||function(ti){var ni=typeof Symbol=="function"&&Symbol.iterator,ri=ni&&ti[ni],ii=0;if(ri)return ri.call(ti);if(ti&&typeof ti.length=="number")return{next:function(){return ti&&ii>=ti.length&&(ti=void 0),{value:ti&&ti[ii++],done:!ti}}};throw new TypeError(ni?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var ze=Ve(6),Xe=Ve(3),We=Ve(7),qe=Ve(29),Ke=Ve(108),Ze=Ve(30),Je=Ve(37),Qe=Ve(52);r.node_stringReplaceAll=function(ti,ni){var ri=null;ti!==""&&(ri=qe.create_text(ni._nodeDocument,ti)),Je.mutation_replaceAll(ri,ni)},r.node_clone=function ti(ni,ri,ii){var ei,St,oi,si,ai;if(ri===void 0&&(ri=null),ii===void 0&&(ii=!1),ri===null&&(ri=ni._nodeDocument),Xe.Guard.isElementNode(ni)){ai=Qe.element_createAnElement(ri,ni._localName,ni._namespace,ni._namespacePrefix,ni._is,!1);try{for(var ui=je(ni._attributeList),hi=ui.next();!hi.done;hi=ui.next()){var ci=ti(hi.value,ri);Qe.element_append(ci,ai)}}catch(_i){ei={error:_i}}finally{try{hi&&!hi.done&&(St=ui.return)&&St.call(ui)}finally{if(ei)throw ei.error}}}else if(Xe.Guard.isDocumentNode(ni)){var mi=qe.create_document();mi._encoding=ni._encoding,mi._contentType=ni._contentType,mi._URL=ni._URL,mi._origin=ni._origin,mi._type=ni._type,mi._mode=ni._mode,ai=mi}else if(Xe.Guard.isDocumentTypeNode(ni))ai=qe.create_documentType(ri,ni._name,ni._publicId,ni._systemId);else if(Xe.Guard.isAttrNode(ni)){var di=qe.create_attr(ri,ni.localName);di._namespace=ni._namespace,di._namespacePrefix=ni._namespacePrefix,di._value=ni._value,ai=di}else ai=Xe.Guard.isExclusiveTextNode(ni)?qe.create_text(ri,ni._data):Xe.Guard.isCDATASectionNode(ni)?qe.create_cdataSection(ri,ni._data):Xe.Guard.isCommentNode(ni)?qe.create_comment(ri,ni._data):Xe.Guard.isProcessingInstructionNode(ni)?qe.create_processingInstruction(ri,ni._target,ni._data):Xe.Guard.isDocumentFragmentNode(ni)?qe.create_documentFragment(ri):Object.create(ni);if(Xe.Guard.isDocumentNode(ai)?(ai._nodeDocument=ai,ri=ai):ai._nodeDocument=ri,ze.dom.features.steps&&Ze.dom_runCloningSteps(ai,ni,ri,ii),ii)try{for(var pi=je(ni._children),yi=pi.next();!yi.done;yi=pi.next()){var gi=ti(yi.value,ri,!0);Je.mutation_append(gi,ai)}}catch(_i){oi={error:_i}}finally{try{yi&&!yi.done&&(si=pi.return)&&si.call(pi)}finally{if(oi)throw oi.error}}return ai},r.node_equals=function ti(ni,ri){var ii,ei,St,oi;if(ni._nodeType!==ri._nodeType)return!1;if(Xe.Guard.isDocumentTypeNode(ni)&&Xe.Guard.isDocumentTypeNode(ri)){if(ni._name!==ri._name||ni._publicId!==ri._publicId||ni._systemId!==ri._systemId)return!1}else if(Xe.Guard.isElementNode(ni)&&Xe.Guard.isElementNode(ri)){if(ni._namespace!==ri._namespace||ni._namespacePrefix!==ri._namespacePrefix||ni._localName!==ri._localName||ni._attributeList.length!==ri._attributeList.length)return!1}else if(Xe.Guard.isAttrNode(ni)&&Xe.Guard.isAttrNode(ri)){if(ni._namespace!==ri._namespace||ni._localName!==ri._localName||ni._value!==ri._value)return!1}else if(Xe.Guard.isProcessingInstructionNode(ni)&&Xe.Guard.isProcessingInstructionNode(ri)){if(ni._target!==ri._target||ni._data!==ri._data)return!1}else if(Xe.Guard.isCharacterDataNode(ni)&&Xe.Guard.isCharacterDataNode(ri)&&ni._data!==ri._data)return!1;if(Xe.Guard.isElementNode(ni)&&Xe.Guard.isElementNode(ri)){var si={};try{for(var ai=je(ni._attributeList),ui=ai.next();!ui.done;ui=ai.next())si[(mi=ui.value)._localName]=mi}catch(Ai){ii={error:Ai}}finally{try{ui&&!ui.done&&(ei=ai.return)&&ei.call(ai)}finally{if(ii)throw ii.error}}try{for(var hi=je(ri._attributeList),ci=hi.next();!ci.done;ci=hi.next()){var mi,di=ci.value;if(!(mi=si[di._localName])||!ti(mi,di))return!1}}catch(Ai){St={error:Ai}}finally{try{ci&&!ci.done&&(oi=hi.return)&&oi.call(hi)}finally{if(St)throw St.error}}}if(ni._children.size!==ri._children.size)return!1;for(var pi=ni._children[Symbol.iterator](),yi=ri._children[Symbol.iterator](),gi=pi.next(),_i=yi.next();!gi.done&&!_i.done;){if(!ti(gi.value,_i.value))return!1;gi=pi.next(),_i=yi.next()}return!0},r.node_listOfElementsWithQualifiedName=function(ti,ni){return ti==="*"?qe.create_htmlCollection(ni):ni._nodeDocument._type==="html"?qe.create_htmlCollection(ni,function(ri){return ri._namespace===We.namespace.HTML&&ri._qualifiedName===ti.toLowerCase()||ri._namespace!==We.namespace.HTML&&ri._qualifiedName===ti}):qe.create_htmlCollection(ni,function(ri){return ri._qualifiedName===ti})},r.node_listOfElementsWithNamespace=function(ti,ni,ri){return ti===""&&(ti=null),ti==="*"&&ni==="*"?qe.create_htmlCollection(ri):ti==="*"?qe.create_htmlCollection(ri,function(ii){return ii._localName===ni}):ni==="*"?qe.create_htmlCollection(ri,function(ii){return ii._namespace===ti}):qe.create_htmlCollection(ri,function(ii){return ii._localName===ni&&ii._namespace===ti})},r.node_listOfElementsWithClassNames=function(ti,ni){var ri=Ke.orderedSet_parse(ti);if(ri.size===0)return qe.create_htmlCollection(ni,function(){return!1});var ii=ni._nodeDocument._mode!=="quirks";return qe.create_htmlCollection(ni,function(ei){var St=ei.classList;return Ke.orderedSet_contains(St._tokenSet,ri,ii)})},r.node_locateANamespacePrefix=function ti(ni,ri){if(ni._namespace===ri&&ni._namespacePrefix!==null)return ni._namespacePrefix;for(var ii=0;ii<ni._attributeList.length;ii++){var ei=ni._attributeList[ii];if(ei._namespacePrefix==="xmlns"&&ei._value===ri)return ei._localName}return ni._parent&&Xe.Guard.isElementNode(ni._parent)?ti(ni._parent,ri):null},r.node_locateANamespace=function ti(ni,ri){if(Xe.Guard.isElementNode(ni)){if(ni._namespace!==null&&ni._namespacePrefix===ri)return ni._namespace;for(var ii=0;ii<ni._attributeList.length;ii++){var ei=ni._attributeList[ii];if(ei._namespace===We.namespace.XMLNS&&ei._namespacePrefix==="xmlns"&&ei._localName===ri||ri===null&&ei._namespace===We.namespace.XMLNS&&ei._namespacePrefix===null&&ei._localName==="xmlns")return ei._value||null}return ni.parentElement===null?null:ti(ni.parentElement,ri)}return Xe.Guard.isDocumentNode(ni)?ni.documentElement===null?null:ti(ni.documentElement,ri):Xe.Guard.isDocumentTypeNode(ni)||Xe.Guard.isDocumentFragmentNode(ni)?null:Xe.Guard.isAttrNode(ni)?ni._element===null?null:ti(ni._element,ri):ni._parent&&Xe.Guard.isElementNode(ni._parent)?ti(ni._parent,ri):null}},function(t,r,Ve){var je=this&&this.__values||function(Qe){var ti=typeof Symbol=="function"&&Symbol.iterator,ni=ti&&Qe[ti],ri=0;if(ni)return ni.call(Qe);if(Qe&&typeof Qe.length=="number")return{next:function(){return Qe&&ri>=Qe.length&&(Qe=void 0),{value:Qe&&Qe[ri++],done:!Qe}}};throw new TypeError(ti?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var ze=Ve(6),Xe=Ve(3),We=Ve(9),qe=Ve(29),Ke=Ve(17),Ze=Ve(107),Je=Ve(37);r.text_contiguousTextNodes=function(Qe,ti){var ni;return ti===void 0&&(ti=!1),(ni={})[Symbol.iterator]=function(){for(var ri=Qe;ri&&Xe.Guard.isTextNode(ri._previousSibling);)ri=ri._previousSibling;return{next:function(){if(ri&&!ti&&ri===Qe&&(ri=Xe.Guard.isTextNode(ri._nextSibling)?ri._nextSibling:null),ri===null)return{done:!0,value:null};var ii={done:!1,value:ri};return ri=Xe.Guard.isTextNode(ri._nextSibling)?ri._nextSibling:null,ii}}},ni},r.text_contiguousExclusiveTextNodes=function(Qe,ti){var ni;return ti===void 0&&(ti=!1),(ni={})[Symbol.iterator]=function(){for(var ri=Qe;ri&&Xe.Guard.isExclusiveTextNode(ri._previousSibling);)ri=ri._previousSibling;return{next:function(){if(ri&&!ti&&ri===Qe&&(ri=Xe.Guard.isExclusiveTextNode(ri._nextSibling)?ri._nextSibling:null),ri===null)return{done:!0,value:null};var ii={done:!1,value:ri};return ri=Xe.Guard.isExclusiveTextNode(ri._nextSibling)?ri._nextSibling:null,ii}}},ni},r.text_descendantTextContent=function(Qe){for(var ti="",ni=Ke.tree_getFirstDescendantNode(Qe,!1,!1,function(ri){return Xe.Guard.isTextNode(ri)});ni!==null;)ti+=ni._data,ni=Ke.tree_getNextDescendantNode(Qe,ni,!1,!1,function(ri){return Xe.Guard.isTextNode(ri)});return ti},r.text_split=function(Qe,ti){var ni,ri,ii=Qe._data.length;if(ti>ii)throw new We.IndexSizeError;var ei=ii-ti,St=Ze.characterData_substringData(Qe,ti,ei),oi=qe.create_text(Qe._nodeDocument,St),si=Qe._parent;if(si!==null){Je.mutation_insert(oi,si,Qe._nextSibling);try{for(var ai=je(ze.dom.rangeList),ui=ai.next();!ui.done;ui=ai.next()){var hi=ui.value;hi._start[0]===Qe&&hi._start[1]>ti&&(hi._start[0]=oi,hi._start[1]-=ti),hi._end[0]===Qe&&hi._end[1]>ti&&(hi._end[0]=oi,hi._end[1]-=ti);var ci=Ke.tree_index(Qe);hi._start[0]===si&&hi._start[1]===ci+1&&hi._start[1]++,hi._end[0]===si&&hi._end[1]===ci+1&&hi._end[1]++}}catch(mi){ni={error:mi}}finally{try{ui&&!ui.done&&(ri=ai.return)&&ri.call(ai)}finally{if(ni)throw ni.error}}}return Ze.characterData_replaceData(Qe,ti,ei,""),oi}},function(t,r,Ve){var je=Ve(4),ze=Ve(41),Xe=Ve(24),We=Ve(48),qe=[].join,Ke=ze!=Object,Ze=We("join",",");je({target:"Array",proto:!0,forced:Ke||!Ze},{join:function(Je){return qe.call(Xe(this),Je===void 0?",":Je)}})},function(t,r,Ve){var je=Ve(4),ze=Ve(83),Xe=String.fromCharCode,We=String.fromCodePoint;je({target:"String",stat:!0,forced:!!We&&We.length!=1},{fromCodePoint:function(qe){for(var Ke,Ze=[],Je=arguments.length,Qe=0;Je>Qe;){if(Ke=+arguments[Qe++],ze(Ke,1114111)!==Ke)throw RangeError(Ke+" is not a valid code point");Ze.push(Ke<65536?Xe(Ke):Xe(55296+((Ke-=65536)>>10),Ke%1024+56320))}return Ze.join("")}})},function(t,r,Ve){var je=this&&this.__read||function(We,qe){var Ke=typeof Symbol=="function"&&We[Symbol.iterator];if(!Ke)return We;var Ze,Je,Qe=Ke.call(We),ti=[];try{for(;(qe===void 0||qe-- >0)&&!(Ze=Qe.next()).done;)ti.push(Ze.value)}catch(ni){Je={error:ni}}finally{try{Ze&&!Ze.done&&(Ke=Qe.return)&&Ke.call(Qe)}finally{if(Je)throw Je.error}}return ti};Object.defineProperty(r,"__esModule",{value:!0});var ze=Ve(111),Xe=function(){function We(qe,Ke){this._options={skipWhitespaceOnlyText:!1},this.err={line:-1,col:-1,index:-1,str:""},this._str=qe,this._index=0,this._length=qe.length,Ke&&(this._options.skipWhitespaceOnlyText=Ke.skipWhitespaceOnlyText||!1)}return We.prototype.nextToken=function(){if(this.eof())return{type:ze.TokenType.EOF};var qe=this.skipIfStartsWith("<")?this.openBracket():this.text();return this._options.skipWhitespaceOnlyText&&qe.type===ze.TokenType.Text&&We.isWhiteSpaceToken(qe)&&(qe=this.nextToken()),qe},We.prototype.openBracket=function(){return this.skipIfStartsWith("?")?this.skipIfStartsWith("xml")?We.isSpace(this._str[this._index])?this.declaration():(this.seek(-3),this.pi()):this.pi():this.skipIfStartsWith("!")?this.skipIfStartsWith("--")?this.comment():this.skipIfStartsWith("[CDATA[")?this.cdata():this.skipIfStartsWith("DOCTYPE")?this.doctype():void this.throwError("Invalid '!' in opening tag."):this.skipIfStartsWith("/")?this.closeTag():this.openTag()},We.prototype.declaration=function(){for(var qe="",Ke="",Ze="";!this.eof();){if(this.skipSpace(),this.skipIfStartsWith("?>"))return{type:ze.TokenType.Declaration,version:qe,encoding:Ke,standalone:Ze};var Je=je(this.attribute(),2),Qe=Je[0],ti=Je[1];Qe==="version"?qe=ti:Qe==="encoding"?Ke=ti:Qe==="standalone"?Ze=ti:this.throwError("Invalid attribute name: "+Qe)}this.throwError("Missing declaration end symbol `?>`")},We.prototype.doctype=function(){var qe="",Ke="";this.skipSpace();var Ze=this.takeUntil2("[",">",!0);return this.skipSpace(),this.skipIfStartsWith("PUBLIC")?(qe=this.quotedString(),Ke=this.quotedString()):this.skipIfStartsWith("SYSTEM")&&(Ke=this.quotedString()),this.skipSpace(),this.skipIfStartsWith("[")&&(this.skipUntil("]"),this.skipIfStartsWith("]")||this.throwError("Missing end bracket of DTD internal subset")),this.skipSpace(),this.skipIfStartsWith(">")||this.throwError("Missing doctype end symbol `>`"),{type:ze.TokenType.DocType,name:Ze,pubId:qe,sysId:Ke}},We.prototype.pi=function(){var qe=this.takeUntilStartsWith("?>",!0);if(this.eof()&&this.throwError("Missing processing instruction end symbol `?>`"),this.skipSpace(),this.skipIfStartsWith("?>"))return{type:ze.TokenType.PI,target:qe,data:""};var Ke=this.takeUntilStartsWith("?>");return this.eof()&&this.throwError("Missing processing instruction end symbol `?>`"),this.seek(2),{type:ze.TokenType.PI,target:qe,data:Ke}},We.prototype.text=function(){var qe=this.takeUntil("<");return{type:ze.TokenType.Text,data:qe}},We.prototype.comment=function(){var qe=this.takeUntilStartsWith("-->");return this.eof()&&this.throwError("Missing comment end symbol `-->`"),this.seek(3),{type:ze.TokenType.Comment,data:qe}},We.prototype.cdata=function(){var qe=this.takeUntilStartsWith("]]>");return this.eof()&&this.throwError("Missing CDATA end symbol `]>`"),this.seek(3),{type:ze.TokenType.CDATA,data:qe}},We.prototype.openTag=function(){this.skipSpace();var qe=this.takeUntil2(">","/",!0);if(this.skipSpace(),this.skipIfStartsWith(">"))return{type:ze.TokenType.Element,name:qe,attributes:[],selfClosing:!1};if(this.skipIfStartsWith("/>"))return{type:ze.TokenType.Element,name:qe,attributes:[],selfClosing:!0};for(var Ke=[];!this.eof();){if(this.skipSpace(),this.skipIfStartsWith(">"))return{type:ze.TokenType.Element,name:qe,attributes:Ke,selfClosing:!1};if(this.skipIfStartsWith("/>"))return{type:ze.TokenType.Element,name:qe,attributes:Ke,selfClosing:!0};var Ze=this.attribute();Ke.push(Ze)}this.throwError("Missing opening element tag end symbol `>`")},We.prototype.closeTag=function(){this.skipSpace();var qe=this.takeUntil(">",!0);return this.skipSpace(),this.skipIfStartsWith(">")||this.throwError("Missing closing element tag end symbol `>`"),{type:ze.TokenType.ClosingTag,name:qe}},We.prototype.attribute=function(){this.skipSpace();var qe=this.takeUntil("=",!0);return this.skipSpace(),this.skipIfStartsWith("=")||this.throwError("Missing equals sign before attribute value"),[qe,this.quotedString()]},We.prototype.quotedString=function(){this.skipSpace();var qe=this.take(1);We.isQuote(qe)||this.throwError("Missing start quote character before quoted value");var Ke=this.takeUntil(qe);return this.skipIfStartsWith(qe)||this.throwError("Missing end quote character after quoted value"),Ke},We.prototype.eof=function(){return this._index>=this._length},We.prototype.skipIfStartsWith=function(qe){var Ke=qe.length;if(Ke===1)return this._str[this._index]===qe&&(this._index++,!0);for(var Ze=0;Ze<Ke;Ze++)if(this._str[this._index+Ze]!==qe[Ze])return!1;return this._index+=Ke,!0},We.prototype.seek=function(qe){this._index+=qe,this._index<0&&(this._index=0),this._index>this._length&&(this._index=this._length)},We.prototype.skipSpace=function(){for(;!this.eof()&&We.isSpace(this._str[this._index]);)this._index++},We.prototype.take=function(qe){if(qe===1)return this._str[this._index++];var Ke=this._index;return this.seek(qe),this._str.slice(Ke,this._index)},We.prototype.takeUntil=function(qe,Ke){Ke===void 0&&(Ke=!1);for(var Ze=this._index;this._index<this._length;){var Je=this._str[this._index];if(Je===qe||Ke&&We.isSpace(Je))break;this._index++}return this._str.slice(Ze,this._index)},We.prototype.takeUntil2=function(qe,Ke,Ze){Ze===void 0&&(Ze=!1);for(var Je=this._index;this._index<this._length;){var Qe=this._str[this._index];if(Qe===qe||Qe===Ke||Ze&&We.isSpace(Qe))break;this._index++}return this._str.slice(Je,this._index)},We.prototype.takeUntilStartsWith=function(qe,Ke){Ke===void 0&&(Ke=!1);for(var Ze=this._index,Je=qe.length;this._index<this._length;){for(var Qe=!0,ti=0;ti<Je;ti++){var ni=this._str[this._index+ti],ri=qe[ti];if(Ke&&We.isSpace(ni))return this._str.slice(Ze,this._index);if(ni!==ri){this._index++,Qe=!1;break}}if(Qe)return this._str.slice(Ze,this._index)}return this._index=this._length,this._str.slice(Ze)},We.prototype.skipUntil=function(qe){for(;this._index<this._length&&this._str[this._index]!==qe;)this._index++},We.isWhiteSpaceToken=function(qe){for(var Ke=qe.data,Ze=0;Ze<Ke.length;Ze++){var Je=Ke[Ze];if(Je!==" "&&Je!==`
`&&Je!=="\r"&&Je!=="	"&&Je!=="\f")return!1}return!0},We.isSpace=function(qe){return qe===" "||qe===`
`||qe==="\r"||qe==="	"},We.isQuote=function(qe){return qe==='"'||qe==="'"},We.prototype.throwError=function(qe){for(var Ke=/\r\n|\r|\n/g,Ze=null,Je=0,Qe=0,ti=this._str.length;(Ze=Ke.exec(this._str))!==null&&Ze!==null;)if(Je++,Ze.index<this._index&&(Qe=Ke.lastIndex),Ze.index>this._index){ti=Ze.index;break}throw this.err={line:Je,col:this._index-Qe,index:this._index,str:this._str.substring(Qe,ti)},new Error(qe+`
Index: `+this.err.index+`
Ln: `+this.err.line+", Col: "+this.err.col+`
Input: `+this.err.str)},We.prototype[Symbol.iterator]=function(){return this._index=0,{next:(function(){var qe=this.nextToken();return qe.type===ze.TokenType.EOF?{done:!0,value:null}:{done:!1,value:qe}}).bind(this)}},We}();r.XMLStringLexer=Xe},function(t,r,Ve){var je=Ve(39);t.exports=new je({include:[Ve(182)]})},function(t,r,Ve){var je=Ve(39);t.exports=new je({include:[Ve(113)],implicit:[Ve(290),Ve(291),Ve(292),Ve(293)]})},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(91),ze=Ve(2),Xe=Ve(3),We=Ve(77),qe=Ve(109);function Ke(ti,ni){var ri=Je(ti===void 0||Ze(ti)?ti:je.DefaultBuilderOptions),ii=Ze(ti)?ni:ti,ei=qe.createDocument();Qe(ei,ri);var St=new We.XMLBuilderImpl(ei);return ii!==void 0&&St.ele(ii),St}function Ze(ti){if(!ze.isPlainObject(ti))return!1;for(var ni in ti)if(ti.hasOwnProperty(ni)&&!je.XMLBuilderOptionKeys.has(ni))return!1;return!0}function Je(ti){ti===void 0&&(ti={});var ni=ze.applyDefaults(ti,je.DefaultBuilderOptions);if(ni.convert.att.length===0||ni.convert.ins.length===0||ni.convert.text.length===0||ni.convert.cdata.length===0||ni.convert.comment.length===0)throw new Error("JS object converter strings cannot be zero length.");return ni}function Qe(ti,ni,ri){var ii=ti;ii._xmlBuilderOptions=ni,ii._isFragment=ri}r.builder=function(ti,ni){var ri=Je(Ze(ti)?ti:je.DefaultBuilderOptions),ii=Xe.Guard.isNode(ti)||ze.isArray(ti)?ti:ni;if(ii===void 0)throw new Error("Invalid arguments.");if(ze.isArray(ii)){for(var ei=[],St=0;St<ii.length;St++){var oi=new We.XMLBuilderImpl(ii[St]);oi.set(ri),ei.push(oi)}return ei}var si=new We.XMLBuilderImpl(ii);return si.set(ri),si},r.create=Ke,r.fragment=function(ti,ni){var ri=Je(ti===void 0||Ze(ti)?ti:je.DefaultBuilderOptions),ii=Ze(ti)?ni:ti,ei=qe.createDocument();Qe(ei,ri,!0);var St=new We.XMLBuilderImpl(ei.createDocumentFragment());return ii!==void 0&&St.ele(ii),St},r.convert=function(ti,ni,ri){var ii,ei,St;return Ze(ti)&&ni!==void 0?(ii=ti,ei=ni,St=ri):(ii=je.DefaultBuilderOptions,ei=ti,St=ni||void 0),Ke(ii,ei).end(St)}},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(77);r.builder=je.builder,r.create=je.create,r.fragment=je.fragment,r.convert=je.convert,r.createCB=je.createCB,r.fragmentCB=je.fragmentCB},function(t,r,Ve){Ve(31),Ve(32),Ve(33),Ve(191),Ve(192),Ve(194),Ve(64),Ve(19),Ve(198),Ve(199),Ve(89),Ve(201),Ve(65),Ve(20),Ve(66),Ve(22),Ve(23);var je=this&&this.__read||function(ii,ei){var St=typeof Symbol=="function"&&ii[Symbol.iterator];if(!St)return ii;var oi,si,ai=St.call(ii),ui=[];try{for(;(ei===void 0||ei-- >0)&&!(oi=ai.next()).done;)ui.push(oi.value)}catch(hi){si={error:hi}}finally{try{oi&&!oi.done&&(St=ai.return)&&St.call(ai)}finally{if(si)throw si.error}}return ui},ze=this&&this.__values||function(ii){var ei=typeof Symbol=="function"&&Symbol.iterator,St=ei&&ii[ei],oi=0;if(St)return St.call(ii);if(ii&&typeof ii.length=="number")return{next:function(){return ii&&oi>=ii.length&&(ii=void 0),{value:ii&&ii[oi++],done:!ii}}};throw new TypeError(ei?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(91),We=Ve(2),qe=Ve(217),Ke=Ve(1),Ze=Ve(3),Je=Ve(0),Qe=Ve(109),ti=Ve(7),ni=Ve(277),ri=function(){function ii(ei){this._domNode=ei}return Object.defineProperty(ii.prototype,"node",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),Object.defineProperty(ii.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),ii.prototype.set=function(ei){return this._options=We.applyDefaults(We.applyDefaults(this._options,ei,!0),Xe.DefaultBuilderOptions),this},ii.prototype.ele=function(ei,St,oi){var si,ai,ui,hi,ci,mi;if(We.isObject(ei))return new ni.ObjectReader(this._options).parse(this,ei);if(ei!==null&&/^\s*</.test(ei))return new ni.XMLReader(this._options).parse(this,ei);if(ei!==null&&/^\s*[\{\[]/.test(ei))return new ni.JSONReader(this._options).parse(this,ei);if(ei!==null&&/^(\s*|(#.*)|(%.*))*---/.test(ei))return new ni.YAMLReader(this._options).parse(this,ei);if((ei===null||We.isString(ei))&&We.isString(St))hi=(si=je([ei,St,oi],3))[0],ci=si[1],mi=si[2];else{if(ei===null)throw new Error("Element name cannot be null. "+this._debugInfo());hi=(ai=je([void 0,ei,We.isObject(St)?St:void 0],3))[0],ci=ai[1],mi=ai[2]}if(mi&&(mi=We.getValue(mi)),hi=(ui=je(this._extractNamespace(Qe.sanitizeInput(hi,this._options.invalidCharReplacement),Qe.sanitizeInput(ci,this._options.invalidCharReplacement),!0),2))[0],ci=ui[1],hi===void 0){var di=je(Je.namespace_extractQName(ci),1)[0];hi=this.node.lookupNamespaceURI(di)}var pi=hi!=null?this._doc.createElementNS(hi,ci):this._doc.createElement(ci);this.node.appendChild(pi);var yi=new ii(pi),gi=this._doc.doctype;if(pi===this._doc.documentElement&&gi!==null){var _i=this._doc.implementation.createDocumentType(this._doc.documentElement.tagName,gi.publicId,gi.systemId);this._doc.replaceChild(_i,gi)}return mi&&!We.isEmpty(mi)&&yi.att(mi),yi},ii.prototype.remove=function(){var ei=this.up();return ei.node.removeChild(this.node),ei},ii.prototype.att=function(ei,St,oi){var si,ai,ui,hi,ci,mi,di=this;if(We.isMap(ei)||We.isObject(ei))return We.forEachObject(ei,function(vi,Mi){return di.att(vi,Mi)},this),this;if(ei!=null&&(ei=We.getValue(ei+"")),St!=null&&(St=We.getValue(St+"")),oi!=null&&(oi=We.getValue(oi+"")),ei!==null&&!We.isString(ei)||!We.isString(St)||oi!==null&&!We.isString(oi)){if(!We.isString(ei)||St!=null&&!We.isString(St))throw new Error("Attribute name and value not specified. "+this._debugInfo());hi=(ai=je([void 0,ei,St],3))[0],ci=ai[1],mi=ai[2]}else hi=(si=je([ei,St,oi],3))[0],ci=si[1],mi=si[2];if(this._options.keepNullAttributes&&mi==null)mi="";else if(mi==null)return this;if(!Ze.Guard.isElementNode(this.node))throw new Error("An attribute can only be assigned to an element node.");var pi=this.node;hi=(ui=je(this._extractNamespace(hi,ci,!1),2))[0],ci=ui[1],ci=Qe.sanitizeInput(ci,this._options.invalidCharReplacement),hi=Qe.sanitizeInput(hi,this._options.invalidCharReplacement),mi=Qe.sanitizeInput(mi,this._options.invalidCharReplacement);var yi=je(Je.namespace_extractQName(ci),2),gi=yi[0],_i=yi[1],Ai=je(Je.namespace_extractQName(pi.prefix?pi.prefix+":"+pi.localName:pi.localName),1)[0],ki=null;return gi==="xmlns"?(hi=ti.namespace.XMLNS,pi.namespaceURI===null&&Ai===_i&&(ki=mi)):gi===null&&_i==="xmlns"&&Ai===null&&(hi=ti.namespace.XMLNS,ki=mi),ki!==null&&(this._updateNamespace(ki),pi=this.node),hi!==void 0?pi.setAttributeNS(hi,ci,mi):pi.setAttribute(ci,mi),this},ii.prototype.removeAtt=function(ei,St){var oi,si,ai=this;if(!Ze.Guard.isElementNode(this.node))throw new Error("An attribute can only be removed from an element node.");if(ei=We.getValue(ei),St!==void 0&&(St=We.getValue(St)),ei!==null&&St===void 0)si=ei;else{if(ei!==null&&!We.isString(ei)||St===void 0)throw new Error("Attribute namespace must be a string. "+this._debugInfo());oi=ei,si=St}return We.isArray(si)||We.isSet(si)?We.forEachArray(si,function(ui){return oi===void 0?ai.removeAtt(ui):ai.removeAtt(oi,ui)},this):oi!==void 0?(si=Qe.sanitizeInput(si,this._options.invalidCharReplacement),oi=Qe.sanitizeInput(oi,this._options.invalidCharReplacement),this.node.removeAttributeNS(oi,si)):(si=Qe.sanitizeInput(si,this._options.invalidCharReplacement),this.node.removeAttribute(si)),this},ii.prototype.txt=function(ei){if(ei==null){if(!this._options.keepNullNodes)return this;ei=""}var St=this._doc.createTextNode(Qe.sanitizeInput(ei,this._options.invalidCharReplacement));return this.node.appendChild(St),this},ii.prototype.com=function(ei){if(ei==null){if(!this._options.keepNullNodes)return this;ei=""}var St=this._doc.createComment(Qe.sanitizeInput(ei,this._options.invalidCharReplacement));return this.node.appendChild(St),this},ii.prototype.dat=function(ei){if(ei==null){if(!this._options.keepNullNodes)return this;ei=""}var St=this._doc.createCDATASection(Qe.sanitizeInput(ei,this._options.invalidCharReplacement));return this.node.appendChild(St),this},ii.prototype.ins=function(ei,St){var oi=this;if(St===void 0&&(St=""),St==null){if(!this._options.keepNullNodes)return this;St=""}if(We.isArray(ei)||We.isSet(ei))We.forEachArray(ei,function(ai){var ui=(ai+="").indexOf(" "),hi=ui===-1?ai:ai.substr(0,ui),ci=ui===-1?"":ai.substr(ui+1);oi.ins(hi,ci)},this);else if(We.isMap(ei)||We.isObject(ei))We.forEachObject(ei,function(ai,ui){return oi.ins(ai,ui)},this);else{var si=this._doc.createProcessingInstruction(Qe.sanitizeInput(ei,this._options.invalidCharReplacement),Qe.sanitizeInput(St,this._options.invalidCharReplacement));this.node.appendChild(si)}return this},ii.prototype.dec=function(ei){return this._options.version=ei.version||"1.0",this._options.encoding=ei.encoding,this._options.standalone=ei.standalone,this},ii.prototype.dtd=function(ei){var St=Qe.sanitizeInput(ei&&ei.name||(this._doc.documentElement?this._doc.documentElement.tagName:"ROOT"),this._options.invalidCharReplacement),oi=Qe.sanitizeInput(ei&&ei.pubID||"",this._options.invalidCharReplacement),si=Qe.sanitizeInput(ei&&ei.sysID||"",this._options.invalidCharReplacement);if(this._doc.documentElement!==null&&St!==this._doc.documentElement.tagName)throw new Error("DocType name does not match document element name.");var ai=this._doc.implementation.createDocumentType(St,oi,si);return this._doc.doctype!==null?this._doc.replaceChild(ai,this._doc.doctype):this._doc.insertBefore(ai,this._doc.documentElement),this},ii.prototype.import=function(ei){var St,oi,si=this._domNode,ai=this._doc,ui=ei.node;if(Ze.Guard.isDocumentNode(ui)){var hi=ui.documentElement;if(hi===null)throw new Error("Imported document has no document element node. "+this._debugInfo());var ci=ai.importNode(hi,!0);si.appendChild(ci);var mi=je(Je.namespace_extractQName(ci.prefix?ci.prefix+":"+ci.localName:ci.localName),1)[0],di=si.lookupNamespaceURI(mi);new ii(ci)._updateNamespace(di)}else if(Ze.Guard.isDocumentFragmentNode(ui))try{for(var pi=ze(ui.childNodes),yi=pi.next();!yi.done;yi=pi.next()){var gi=yi.value;ci=ai.importNode(gi,!0),si.appendChild(ci),Ze.Guard.isElementNode(ci)&&(mi=je(Je.namespace_extractQName(ci.prefix?ci.prefix+":"+ci.localName:ci.localName),1)[0],di=si.lookupNamespaceURI(mi),new ii(ci)._updateNamespace(di))}}catch(_i){St={error:_i}}finally{try{yi&&!yi.done&&(oi=pi.return)&&oi.call(pi)}finally{if(St)throw St.error}}else ci=ai.importNode(ui,!0),si.appendChild(ci),Ze.Guard.isElementNode(ci)&&(mi=je(Je.namespace_extractQName(ci.prefix?ci.prefix+":"+ci.localName:ci.localName),1)[0],di=si.lookupNamespaceURI(mi),new ii(ci)._updateNamespace(di));return this},ii.prototype.doc=function(){if(this._doc._isFragment){for(var ei=this.node;ei&&ei.nodeType!==Ke.NodeType.DocumentFragment;)ei=ei.parentNode;if(ei===null)throw new Error("Node has no parent node while searching for document fragment ancestor. "+this._debugInfo());return new ii(ei)}return new ii(this._doc)},ii.prototype.root=function(){var ei=this._doc.documentElement;if(!ei)throw new Error("Document root element is null. "+this._debugInfo());return new ii(ei)},ii.prototype.up=function(){var ei=this._domNode.parentNode;if(!ei)throw new Error("Parent node is null. "+this._debugInfo());return new ii(ei)},ii.prototype.prev=function(){var ei=this._domNode.previousSibling;if(!ei)throw new Error("Previous sibling node is null. "+this._debugInfo());return new ii(ei)},ii.prototype.next=function(){var ei=this._domNode.nextSibling;if(!ei)throw new Error("Next sibling node is null. "+this._debugInfo());return new ii(ei)},ii.prototype.first=function(){var ei=this._domNode.firstChild;if(!ei)throw new Error("First child node is null. "+this._debugInfo());return new ii(ei)},ii.prototype.last=function(){var ei=this._domNode.lastChild;if(!ei)throw new Error("Last child node is null. "+this._debugInfo());return new ii(ei)},ii.prototype.each=function(ei,St,oi,si){St===void 0&&(St=!1),oi===void 0&&(oi=!1);for(var ai=this._getFirstDescendantNode(this._domNode,St,oi);ai[0];){var ui=this._getNextDescendantNode(this._domNode,ai[0],oi,ai[1],ai[2]);ei.call(si,new ii(ai[0]),ai[1],ai[2]),ai=ui}return this},ii.prototype.map=function(ei,St,oi,si){St===void 0&&(St=!1),oi===void 0&&(oi=!1);var ai=[];return this.each(function(ui,hi,ci){return ai.push(ei.call(si,ui,hi,ci))},St,oi),ai},ii.prototype.reduce=function(ei,St,oi,si,ai){oi===void 0&&(oi=!1),si===void 0&&(si=!1);var ui=St;return this.each(function(hi,ci,mi){return ui=ei.call(ai,ui,hi,ci,mi)},oi,si),ui},ii.prototype.find=function(ei,St,oi,si){St===void 0&&(St=!1),oi===void 0&&(oi=!1);for(var ai=this._getFirstDescendantNode(this._domNode,St,oi);ai[0];){var ui=new ii(ai[0]);if(ei.call(si,ui,ai[1],ai[2]))return ui;ai=this._getNextDescendantNode(this._domNode,ai[0],oi,ai[1],ai[2])}},ii.prototype.filter=function(ei,St,oi,si){St===void 0&&(St=!1),oi===void 0&&(oi=!1);var ai=[];return this.each(function(ui,hi,ci){ei.call(si,ui,hi,ci)&&ai.push(ui)},St,oi),ai},ii.prototype.every=function(ei,St,oi,si){St===void 0&&(St=!1),oi===void 0&&(oi=!1);for(var ai=this._getFirstDescendantNode(this._domNode,St,oi);ai[0];){var ui=new ii(ai[0]);if(!ei.call(si,ui,ai[1],ai[2]))return!1;ai=this._getNextDescendantNode(this._domNode,ai[0],oi,ai[1],ai[2])}return!0},ii.prototype.some=function(ei,St,oi,si){St===void 0&&(St=!1),oi===void 0&&(oi=!1);for(var ai=this._getFirstDescendantNode(this._domNode,St,oi);ai[0];){var ui=new ii(ai[0]);if(ei.call(si,ui,ai[1],ai[2]))return!0;ai=this._getNextDescendantNode(this._domNode,ai[0],oi,ai[1],ai[2])}return!1},ii.prototype.toArray=function(ei,St){ei===void 0&&(ei=!1),St===void 0&&(St=!1);var oi=[];return this.each(function(si){return oi.push(si)},ei,St),oi},ii.prototype.toString=function(ei){return(ei=ei||{}).format===void 0&&(ei.format="xml"),this._serialize(ei)},ii.prototype.toObject=function(ei){return(ei=ei||{}).format===void 0&&(ei.format="object"),this._serialize(ei)},ii.prototype.end=function(ei){return(ei=ei||{}).format===void 0&&(ei.format="xml"),this.doc()._serialize(ei)},ii.prototype._getFirstDescendantNode=function(ei,St,oi){return St?[this._domNode,0,0]:oi?this._getNextDescendantNode(ei,ei,oi,0,0):[this._domNode.firstChild,0,1]},ii.prototype._getNextDescendantNode=function(ei,St,oi,si,ai){if(!oi)return ei===St?[St.firstChild,0,ai+1]:[St.nextSibling,si+1,ai];if(St.firstChild)return[St.firstChild,0,ai+1];if(St===ei)return[null,-1,-1];if(St.nextSibling)return[St.nextSibling,si+1,ai];for(var ui=St.parentNode;ui&&ui!==ei;){if(ui.nextSibling)return[ui.nextSibling,Je.tree_index(ui.nextSibling),ai-1];ui=ui.parentNode,ai--}return[null,-1,-1]},ii.prototype._serialize=function(ei){if(ei.format==="xml")return new qe.XMLWriter(this._options,ei).serialize(this.node);if(ei.format==="map")return new qe.MapWriter(this._options,ei).serialize(this.node);if(ei.format==="object")return new qe.ObjectWriter(this._options,ei).serialize(this.node);if(ei.format==="json")return new qe.JSONWriter(this._options,ei).serialize(this.node);if(ei.format==="yaml")return new qe.YAMLWriter(this._options,ei).serialize(this.node);throw new Error("Invalid writer format: "+ei.format+". "+this._debugInfo())},ii.prototype._extractNamespace=function(ei,St,oi){var si=St.indexOf("@");if(si>0&&(ei===void 0&&(ei=St.slice(si+1)),St=St.slice(0,si)),ei===void 0)ei=oi?this._options.defaultNamespace.ele:this._options.defaultNamespace.att;else if(ei!==null&&ei[0]==="@"){var ai=ei.slice(1);if((ei=this._options.namespaceAlias[ai])===void 0)throw new Error("Namespace alias `"+ai+"` is not defined. "+this._debugInfo())}return[ei,St]},ii.prototype._updateNamespace=function(ei){var St,oi,si,ai,ui=this._domNode;if(Ze.Guard.isElementNode(ui)&&ei!==null&&ui.namespaceURI!==ei){var hi=je(Je.namespace_extractQName(ui.prefix?ui.prefix+":"+ui.localName:ui.localName),2),ci=hi[0],mi=hi[1],di=Je.create_element(this._doc,mi,ei,ci);try{for(var pi=ze(ui.attributes),yi=pi.next();!yi.done;yi=pi.next()){var gi=yi.value,_i=gi.prefix?gi.prefix+":"+gi.localName:gi.localName,Ai=je(Je.namespace_extractQName(_i),1)[0],ki=gi.namespaceURI;ki===null&&Ai!==null&&(ki=ui.lookupNamespaceURI(Ai)),ki===null?di.setAttribute(_i,gi.value):di.setAttributeNS(ki,_i,gi.value)}}catch(Vi){St={error:Vi}}finally{try{yi&&!yi.done&&(oi=pi.return)&&oi.call(pi)}finally{if(St)throw St.error}}var vi=ui.parentNode;if(vi===null)throw new Error("Parent node is null."+this._debugInfo());vi.replaceChild(di,ui),this._domNode=di;try{for(var Mi=ze(ui.childNodes),Di=Mi.next();!Di.done;Di=Mi.next()){var Bi=Di.value.cloneNode(!0);if(di.appendChild(Bi),Ze.Guard.isElementNode(Bi)){var Pi=je(Je.namespace_extractQName(Bi.prefix?Bi.prefix+":"+Bi.localName:Bi.localName),1)[0],Fi=di.lookupNamespaceURI(Pi);new ii(Bi)._updateNamespace(Fi)}}}catch(Vi){si={error:Vi}}finally{try{Di&&!Di.done&&(ai=Mi.return)&&ai.call(Mi)}finally{if(si)throw si.error}}}},Object.defineProperty(ii.prototype,"_doc",{get:function(){var ei=this.node;if(Ze.Guard.isDocumentNode(ei))return ei;var St=ei.ownerDocument;if(!St)throw new Error("Owner document is null. "+this._debugInfo());return St},enumerable:!0,configurable:!0}),ii.prototype._debugInfo=function(ei){var St=this.node,oi=St.parentNode;ei=ei||St.nodeName;var si=oi?oi.nodeName:"";return si?"node: <"+ei+">, parent: <"+si+">":"node: <"+ei+">"},Object.defineProperty(ii.prototype,"_options",{get:function(){var ei=this._doc;if(ei._xmlBuilderOptions===void 0)throw new Error("Builder options is not set.");return ei._xmlBuilderOptions},set:function(ei){this._doc._xmlBuilderOptions=ei},enumerable:!0,configurable:!0}),ii}();r.XMLBuilderImpl=ri},function(t,r,Ve){var je=Ve(11),ze=Ve(117),Xe=je.WeakMap;t.exports=typeof Xe=="function"&&/native code/.test(ze(Xe))},function(t,r,Ve){var je=Ve(46),ze=Ve(82),Xe=Ve(85),We=Ve(18);t.exports=je("Reflect","ownKeys")||function(qe){var Ke=ze.f(We(qe)),Ze=Xe.f;return Ze?Ke.concat(Ze(qe)):Ke}},function(t,r,Ve){var je=Ve(16),ze=Ve(15),Xe=Ve(18),We=Ve(61);t.exports=je?Object.defineProperties:function(qe,Ke){Xe(qe);for(var Ze,Je=We(Ke),Qe=Je.length,ti=0;Qe>ti;)ze.f(qe,Ze=Je[ti++],Ke[Ze]);return qe}},function(t,r,Ve){var je=Ve(46);t.exports=je("document","documentElement")},function(t,r,Ve){var je=Ve(24),ze=Ve(82).f,Xe={}.toString,We=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(qe){return We&&Xe.call(qe)=="[object Window]"?function(Ke){try{return ze(Ke)}catch{return We.slice()}}(qe):ze(je(qe))}},function(t,r,Ve){var je=Ve(4),ze=Ve(36).every,Xe=Ve(48),We=Ve(28),qe=Xe("every"),Ke=We("every");je({target:"Array",proto:!0,forced:!qe||!Ke},{every:function(Ze){return ze(this,Ze,arguments.length>1?arguments[1]:void 0)}})},function(t,r,Ve){var je=Ve(4),ze=Ve(36).filter,Xe=Ve(63),We=Ve(28),qe=Xe("filter"),Ke=We("filter");je({target:"Array",proto:!0,forced:!qe||!Ke},{filter:function(Ze){return ze(this,Ze,arguments.length>1?arguments[1]:void 0)}})},function(t,r,Ve){var je=Ve(46);t.exports=je("navigator","userAgent")||""},function(t,r,Ve){var je=Ve(4),ze=Ve(36).find,Xe=Ve(130),We=Ve(28),qe=!0,Ke=We("find");"find"in[]&&Array(1).find(function(){qe=!1}),je({target:"Array",proto:!0,forced:qe||!Ke},{find:function(Ze){return ze(this,Ze,arguments.length>1?arguments[1]:void 0)}}),Xe("find")},function(t,r,Ve){var je=Ve(131).IteratorPrototype,ze=Ve(60),Xe=Ve(40),We=Ve(62),qe=Ve(49),Ke=function(){return this};t.exports=function(Ze,Je,Qe){var ti=Je+" Iterator";return Ze.prototype=ze(je,{next:Xe(1,Qe)}),We(Ze,ti,!1,!0),qe[ti]=Ke,Ze}},function(t,r,Ve){var je=Ve(8);t.exports=!je(function(){function ze(){}return ze.prototype.constructor=null,Object.getPrototypeOf(new ze)!==ze.prototype})},function(t,r,Ve){var je=Ve(13);t.exports=function(ze){if(!je(ze)&&ze!==null)throw TypeError("Can't set "+String(ze)+" as a prototype");return ze}},function(t,r,Ve){var je=Ve(4),ze=Ve(36).map,Xe=Ve(63),We=Ve(28),qe=Xe("map"),Ke=We("map");je({target:"Array",proto:!0,forced:!qe||!Ke},{map:function(Ze){return ze(this,Ze,arguments.length>1?arguments[1]:void 0)}})},function(t,r,Ve){var je=Ve(4),ze=Ve(200).left,Xe=Ve(48),We=Ve(28),qe=Xe("reduce"),Ke=We("reduce",{1:0});je({target:"Array",proto:!0,forced:!qe||!Ke},{reduce:function(Ze){return ze(this,Ze,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(t,r,Ve){var je=Ve(127),ze=Ve(27),Xe=Ve(41),We=Ve(26),qe=function(Ke){return function(Ze,Je,Qe,ti){je(Je);var ni=ze(Ze),ri=Xe(ni),ii=We(ni.length),ei=Ke?ii-1:0,St=Ke?-1:1;if(Qe<2)for(;;){if(ei in ri){ti=ri[ei],ei+=St;break}if(ei+=St,Ke?ei<0:ii<=ei)throw TypeError("Reduce of empty array with no initial value")}for(;Ke?ei>=0:ii>ei;ei+=St)ei in ri&&(ti=Je(ti,ri[ei],ei,ni));return ti}};t.exports={left:qe(!1),right:qe(!0)}},function(t,r,Ve){var je=Ve(4),ze=Ve(36).some,Xe=Ve(48),We=Ve(28),qe=Xe("some"),Ke=We("some");je({target:"Array",proto:!0,forced:!qe||!Ke},{some:function(Ze){return ze(this,Ze,arguments.length>1?arguments[1]:void 0)}})},function(t,r,Ve){var je=Ve(90),ze=Ve(135);t.exports=je?{}.toString:function(){return"[object "+ze(this)+"]"}},function(t,r){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,r,Ve){var je=Ve(8);t.exports=!je(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(t,r,Ve){var je=Ve(5),ze=Ve(49),Xe=je("iterator"),We=Array.prototype;t.exports=function(qe){return qe!==void 0&&(ze.Array===qe||We[Xe]===qe)}},function(t,r,Ve){var je=Ve(135),ze=Ve(49),Xe=Ve(5)("iterator");t.exports=function(We){if(We!=null)return We[Xe]||We["@@iterator"]||ze[je(We)]}},function(t,r,Ve){var je=Ve(18);t.exports=function(ze,Xe,We,qe){try{return qe?Xe(je(We)[0],We[1]):Xe(We)}catch(Ze){var Ke=ze.return;throw Ke!==void 0&&je(Ke.call(ze)),Ze}}},function(t,r,Ve){var je=Ve(5)("iterator"),ze=!1;try{var Xe=0,We={next:function(){return{done:!!Xe++}},return:function(){ze=!0}};We[je]=function(){return this},Array.from(We,function(){throw 2})}catch{}t.exports=function(qe,Ke){if(!Ke&&!ze)return!1;var Ze=!1;try{var Je={};Je[je]=function(){return{next:function(){return{done:Ze=!0}}}},qe(Je)}catch{}return Ze}},function(t,r,Ve){var je=Ve(13),ze=Ve(133);t.exports=function(Xe,We,qe){var Ke,Ze;return ze&&typeof(Ke=We.constructor)=="function"&&Ke!==qe&&je(Ze=Ke.prototype)&&Ze!==qe.prototype&&ze(Xe,Ze),Xe}},function(t,r,Ve){var je=Ve(25);t.exports=function(ze,Xe,We){for(var qe in Xe)je(ze,qe,Xe[qe],We);return ze}},function(t,r,Ve){var je=Ve(46),ze=Ve(15),Xe=Ve(5),We=Ve(16),qe=Xe("species");t.exports=function(Ke){var Ze=je(Ke),Je=ze.f;We&&Ze&&!Ze[qe]&&Je(Ze,qe,{configurable:!0,get:function(){return this}})}},function(t,r,Ve){var je=this&&this.__generator||function(We,qe){var Ke,Ze,Je,Qe,ti={label:0,sent:function(){if(1&Je[0])throw Je[1];return Je[1]},trys:[],ops:[]};return Qe={next:ni(0),throw:ni(1),return:ni(2)},typeof Symbol=="function"&&(Qe[Symbol.iterator]=function(){return this}),Qe;function ni(ri){return function(ii){return function(ei){if(Ke)throw new TypeError("Generator is already executing.");for(;ti;)try{if(Ke=1,Ze&&(Je=2&ei[0]?Ze.return:ei[0]?Ze.throw||((Je=Ze.return)&&Je.call(Ze),0):Ze.next)&&!(Je=Je.call(Ze,ei[1])).done)return Je;switch(Ze=0,Je&&(ei=[2&ei[0],Je.value]),ei[0]){case 0:case 1:Je=ei;break;case 4:return ti.label++,{value:ei[1],done:!1};case 5:ti.label++,Ze=ei[1],ei=[0];continue;case 7:ei=ti.ops.pop(),ti.trys.pop();continue;default:if(Je=ti.trys,!((Je=Je.length>0&&Je[Je.length-1])||ei[0]!==6&&ei[0]!==2)){ti=0;continue}if(ei[0]===3&&(!Je||ei[1]>Je[0]&&ei[1]<Je[3])){ti.label=ei[1];break}if(ei[0]===6&&ti.label<Je[1]){ti.label=Je[1],Je=ei;break}if(Je&&ti.label<Je[2]){ti.label=Je[2],ti.ops.push(ei);break}Je[2]&&ti.ops.pop(),ti.trys.pop();continue}ei=qe.call(We,ti)}catch(St){ei=[6,St],Ze=0}finally{Ke=Je=0}if(5&ei[0])throw ei[1];return{value:ei[0]?ei[1]:void 0,done:!0}}([ri,ii])}}},ze=this&&this.__values||function(We){var qe=typeof Symbol=="function"&&Symbol.iterator,Ke=qe&&We[qe],Ze=0;if(Ke)return Ke.call(We);if(We&&typeof We.length=="number")return{next:function(){return We&&Ze>=We.length&&(We=void 0),{value:We&&We[Ze++],done:!We}}};throw new TypeError(qe?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var Xe=function(){function We(qe){qe===void 0&&(qe=1e3),this._items=new Set,this._limit=qe}return We.prototype.add=function(qe){if(this._items.add(qe),this._items.size>this._limit){var Ke=this._items.values().next();Ke.done||this._items.delete(Ke.value)}return this},We.prototype.delete=function(qe){return this._items.delete(qe)},We.prototype.has=function(qe){return this._items.has(qe)},We.prototype.clear=function(){this._items.clear()},Object.defineProperty(We.prototype,"size",{get:function(){return this._items.size},enumerable:!0,configurable:!0}),We.prototype.forEach=function(qe,Ke){var Ze=this;this._items.forEach(function(Je){return qe.call(Ke,Je,Je,Ze)})},We.prototype.keys=function(){return je(this,function(qe){switch(qe.label){case 0:return[5,ze(this._items.keys())];case 1:return qe.sent(),[2]}})},We.prototype.values=function(){return je(this,function(qe){switch(qe.label){case 0:return[5,ze(this._items.values())];case 1:return qe.sent(),[2]}})},We.prototype.entries=function(){return je(this,function(qe){switch(qe.label){case 0:return[5,ze(this._items.entries())];case 1:return qe.sent(),[2]}})},We.prototype[Symbol.iterator]=function(){return je(this,function(qe){switch(qe.label){case 0:return[5,ze(this._items)];case 1:return qe.sent(),[2]}})},Object.defineProperty(We.prototype,Symbol.toStringTag,{get:function(){return"FixedSizeSet"},enumerable:!0,configurable:!0}),We}();r.FixedSizeSet=Xe},function(t,r,Ve){var je=this&&this.__generator||function(We,qe){var Ke,Ze,Je,Qe,ti={label:0,sent:function(){if(1&Je[0])throw Je[1];return Je[1]},trys:[],ops:[]};return Qe={next:ni(0),throw:ni(1),return:ni(2)},typeof Symbol=="function"&&(Qe[Symbol.iterator]=function(){return this}),Qe;function ni(ri){return function(ii){return function(ei){if(Ke)throw new TypeError("Generator is already executing.");for(;ti;)try{if(Ke=1,Ze&&(Je=2&ei[0]?Ze.return:ei[0]?Ze.throw||((Je=Ze.return)&&Je.call(Ze),0):Ze.next)&&!(Je=Je.call(Ze,ei[1])).done)return Je;switch(Ze=0,Je&&(ei=[2&ei[0],Je.value]),ei[0]){case 0:case 1:Je=ei;break;case 4:return ti.label++,{value:ei[1],done:!1};case 5:ti.label++,Ze=ei[1],ei=[0];continue;case 7:ei=ti.ops.pop(),ti.trys.pop();continue;default:if(Je=ti.trys,!((Je=Je.length>0&&Je[Je.length-1])||ei[0]!==6&&ei[0]!==2)){ti=0;continue}if(ei[0]===3&&(!Je||ei[1]>Je[0]&&ei[1]<Je[3])){ti.label=ei[1];break}if(ei[0]===6&&ti.label<Je[1]){ti.label=Je[1],Je=ei;break}if(Je&&ti.label<Je[2]){ti.label=Je[2],ti.ops.push(ei);break}Je[2]&&ti.ops.pop(),ti.trys.pop();continue}ei=qe.call(We,ti)}catch(St){ei=[6,St],Ze=0}finally{Ke=Je=0}if(5&ei[0])throw ei[1];return{value:ei[0]?ei[1]:void 0,done:!0}}([ri,ii])}}},ze=this&&this.__values||function(We){var qe=typeof Symbol=="function"&&Symbol.iterator,Ke=qe&&We[qe],Ze=0;if(Ke)return Ke.call(We);if(We&&typeof We.length=="number")return{next:function(){return We&&Ze>=We.length&&(We=void 0),{value:We&&We[Ze++],done:!We}}};throw new TypeError(qe?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var Xe=function(){function We(qe){qe===void 0&&(qe=1e3),this._items=new Map,this._limit=qe}return We.prototype.get=function(qe){return this._items.get(qe)},We.prototype.set=function(qe,Ke){if(this._items.set(qe,Ke),this._items.size>this._limit){var Ze=this._items.keys().next();Ze.done||this._items.delete(Ze.value)}},We.prototype.delete=function(qe){return this._items.delete(qe)},We.prototype.has=function(qe){return this._items.has(qe)},We.prototype.clear=function(){this._items.clear()},Object.defineProperty(We.prototype,"size",{get:function(){return this._items.size},enumerable:!0,configurable:!0}),We.prototype.forEach=function(qe,Ke){this._items.forEach(function(Ze,Je){return qe.call(Ke,Je,Ze)})},We.prototype.keys=function(){return je(this,function(qe){switch(qe.label){case 0:return[5,ze(this._items.keys())];case 1:return qe.sent(),[2]}})},We.prototype.values=function(){return je(this,function(qe){switch(qe.label){case 0:return[5,ze(this._items.values())];case 1:return qe.sent(),[2]}})},We.prototype.entries=function(){return je(this,function(qe){switch(qe.label){case 0:return[5,ze(this._items.entries())];case 1:return qe.sent(),[2]}})},We.prototype[Symbol.iterator]=function(){return je(this,function(qe){switch(qe.label){case 0:return[5,ze(this._items)];case 1:return qe.sent(),[2]}})},Object.defineProperty(We.prototype,Symbol.toStringTag,{get:function(){return"ObjectCache"},enumerable:!0,configurable:!0}),We}();r.ObjectCache=Xe},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=function(){function ze(Xe){Xe===void 0&&(Xe=1e3),this._items=new Map,this._limit=Xe}return ze.prototype.check=function(Xe,We){if(this._items.get(Xe)===We)return!0;if(this._items.get(We)===Xe)return!1;var qe=Math.random()<.5;if(qe?this._items.set(Xe,We):this._items.set(We,Xe),this._items.size>this._limit){var Ke=this._items.keys().next();Ke.done||this._items.delete(Ke.value)}return qe},ze}();r.CompareCache=je},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=function(){function ze(Xe){this._initialized=!1,this._value=void 0,this._initFunc=Xe}return Object.defineProperty(ze.prototype,"value",{get:function(){return this._initialized||(this._value=this._initFunc(),this._initialized=!0),this._value},enumerable:!0,configurable:!0}),ze}();r.Lazy=je},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=function(){function ze(Xe){this._pointer=0,this._chars=Array.from(Xe),this._length=this._chars.length}return Object.defineProperty(ze.prototype,"eof",{get:function(){return this._pointer>=this._length},enumerable:!0,configurable:!0}),Object.defineProperty(ze.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),ze.prototype.codePoint=function(){if(this._codePoint===void 0)if(this.eof)this._codePoint=-1;else{var Xe=this._chars[this._pointer].codePointAt(0);this._codePoint=Xe!==void 0?Xe:-1}return this._codePoint},ze.prototype.c=function(){return this._c===void 0&&(this._c=this.eof?"":this._chars[this._pointer]),this._c},ze.prototype.remaining=function(){return this._remaining===void 0&&(this._remaining=this.eof?"":this._chars.slice(this._pointer+1).join("")),this._remaining},ze.prototype.substring=function(){return this._substring===void 0&&(this._substring=this.eof?"":this._chars.slice(this._pointer).join("")),this._substring},Object.defineProperty(ze.prototype,"pointer",{get:function(){return this._pointer},set:function(Xe){Xe!==this._pointer&&(this._pointer=Xe,this._codePoint=void 0,this._c=void 0,this._remaining=void 0,this._substring=void 0)},enumerable:!0,configurable:!0}),ze}();r.StringWalker=je},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(218);r.MapWriter=je.MapWriter;var ze=Ve(259);r.XMLWriter=ze.XMLWriter;var Xe=Ve(67);r.ObjectWriter=Xe.ObjectWriter;var We=Ve(261);r.JSONWriter=We.JSONWriter;var qe=Ve(262);r.YAMLWriter=qe.YAMLWriter},function(t,r,Ve){Ve(19),Ve(219),Ve(20),Ve(22),Ve(23);var je,ze=this&&this.__extends||(je=function(Ke,Ze){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Je,Qe){Je.__proto__=Qe}||function(Je,Qe){for(var ti in Qe)Qe.hasOwnProperty(ti)&&(Je[ti]=Qe[ti])})(Ke,Ze)},function(Ke,Ze){function Je(){this.constructor=Ke}je(Ke,Ze),Ke.prototype=Ze===null?Object.create(Ze):(Je.prototype=Ze.prototype,new Je)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(2),We=Ve(67),qe=function(Ke){function Ze(Je,Qe){var ti=Ke.call(this,Je)||this;return ti._writerOptions=Xe.applyDefaults(Qe,{format:"map",wellFormed:!1,group:!1,verbose:!1}),ti}return ze(Ze,Ke),Ze.prototype.serialize=function(Je){var Qe=Xe.applyDefaults(this._writerOptions,{format:"object",wellFormed:!1,verbose:!1}),ti=new We.ObjectWriter(this._builderOptions,Qe).serialize(Je);return this._convertObject(ti)},Ze.prototype._convertObject=function(Je){if(Xe.isArray(Je)){for(var Qe=0;Qe<Je.length;Qe++)Je[Qe]=this._convertObject(Je[Qe]);return Je}if(Xe.isObject(Je)){var ti=new Map;for(var ni in Je)ti.set(ni,this._convertObject(Je[ni]));return ti}return Je},Ze}(Ve(50).BaseWriter);r.MapWriter=qe},function(t,r,Ve){var je=Ve(139),ze=Ve(143);t.exports=je("Map",function(Xe){return function(){return Xe(this,arguments.length?arguments[0]:void 0)}},ze)},function(t,r,Ve){var je=Ve(4),ze=Ve(8),Xe=Ve(59),We=Ve(13),qe=Ve(27),Ke=Ve(26),Ze=Ve(134),Je=Ve(128),Qe=Ve(63),ti=Ve(5),ni=Ve(129),ri=ti("isConcatSpreadable"),ii=ni>=51||!ze(function(){var oi=[];return oi[ri]=!1,oi.concat()[0]!==oi}),ei=Qe("concat"),St=function(oi){if(!We(oi))return!1;var si=oi[ri];return si!==void 0?!!si:Xe(oi)};je({target:"Array",proto:!0,forced:!ii||!ei},{concat:function(oi){var si,ai,ui,hi,ci,mi=qe(this),di=Je(mi,0),pi=0;for(si=-1,ui=arguments.length;si<ui;si++)if(St(ci=si===-1?mi:arguments[si])){if(pi+(hi=Ke(ci.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(ai=0;ai<hi;ai++,pi++)ai in ci&&Ze(di,pi,ci[ai])}else{if(pi>=9007199254740991)throw TypeError("Maximum allowed index exceeded");Ze(di,pi++,ci)}return di.length=pi,di}})},function(t,r,Ve){var je=Ve(8);function ze(Xe,We){return RegExp(Xe,We)}r.UNSUPPORTED_Y=je(function(){var Xe=ze("a","y");return Xe.lastIndex=2,Xe.exec("abcd")!=null}),r.BROKEN_CARET=je(function(){var Xe=ze("^r","gy");return Xe.lastIndex=2,Xe.exec("str")!=null})},function(t,r,Ve){var je=Ve(223);t.exports=function(ze){if(je(ze))throw TypeError("The method doesn't accept regular expressions");return ze}},function(t,r,Ve){var je=Ve(13),ze=Ve(42),Xe=Ve(5)("match");t.exports=function(We){var qe;return je(We)&&((qe=We[Xe])!==void 0?!!qe:ze(We)=="RegExp")}},function(t,r,Ve){var je=Ve(5)("match");t.exports=function(ze){var Xe=/./;try{"/./"[ze](Xe)}catch{try{return Xe[je]=!1,"/./"[ze](Xe)}catch{}}return!1}},function(t,r,Ve){Ve(68);var je=Ve(25),ze=Ve(8),Xe=Ve(5),We=Ve(93),qe=Ve(21),Ke=Xe("species"),Ze=!ze(function(){var ri=/./;return ri.exec=function(){var ii=[];return ii.groups={a:"7"},ii},"".replace(ri,"$<a>")!=="7"}),Je="a".replace(/./,"$0")==="$0",Qe=Xe("replace"),ti=!!/./[Qe]&&/./[Qe]("a","$0")==="",ni=!ze(function(){var ri=/(?:)/,ii=ri.exec;ri.exec=function(){return ii.apply(this,arguments)};var ei="ab".split(ri);return ei.length!==2||ei[0]!=="a"||ei[1]!=="b"});t.exports=function(ri,ii,ei,St){var oi=Xe(ri),si=!ze(function(){var di={};return di[oi]=function(){return 7},""[ri](di)!=7}),ai=si&&!ze(function(){var di=!1,pi=/a/;return ri==="split"&&((pi={}).constructor={},pi.constructor[Ke]=function(){return pi},pi.flags="",pi[oi]=/./[oi]),pi.exec=function(){return di=!0,null},pi[oi](""),!di});if(!si||!ai||ri==="replace"&&(!Ze||!Je||ti)||ri==="split"&&!ni){var ui=/./[oi],hi=ei(oi,""[ri],function(di,pi,yi,gi,_i){return pi.exec===We?si&&!_i?{done:!0,value:ui.call(pi,yi,gi)}:{done:!0,value:di.call(yi,pi,gi)}:{done:!1}},{REPLACE_KEEPS_$0:Je,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:ti}),ci=hi[0],mi=hi[1];je(String.prototype,ri,ci),je(RegExp.prototype,oi,ii==2?function(di,pi){return mi.call(di,this,pi)}:function(di){return mi.call(di,this)})}St&&qe(RegExp.prototype[oi],"sham",!0)}},function(t,r,Ve){var je=Ve(137).charAt;t.exports=function(ze,Xe,We){return Xe+(We?je(ze,Xe).length:1)}},function(t,r,Ve){var je=Ve(42),ze=Ve(93);t.exports=function(Xe,We){var qe=Xe.exec;if(typeof qe=="function"){var Ke=qe.call(Xe,We);if(typeof Ke!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return Ke}if(je(Xe)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return ze.call(Xe,We)}},function(t,r,Ve){(function(je){Object.defineProperty(r,"__esModule",{value:!0});var ze=Ve(96);r.forgivingBase64Encode=function(Xe){return je.from(Xe).toString("base64")},r.forgivingBase64Decode=function(Xe){return Xe===""?"":((Xe=Xe.replace(ze.ASCIIWhiteSpace,"")).length%4==0&&(Xe.endsWith("==")?Xe=Xe.substr(0,Xe.length-2):Xe.endsWith("=")&&(Xe=Xe.substr(0,Xe.length-1))),Xe.length%4==1?null:/[0-9A-Za-z+/]/.test(Xe)?je.from(Xe,"base64").toString("utf8"):null)}}).call(this,Ve(145).Buffer)},function(t,r,Ve){r.byteLength=function(Qe){var ti=Ze(Qe),ni=ti[0],ri=ti[1];return 3*(ni+ri)/4-ri},r.toByteArray=function(Qe){var ti,ni,ri=Ze(Qe),ii=ri[0],ei=ri[1],St=new Xe(function(ai,ui,hi){return 3*(ui+hi)/4-hi}(0,ii,ei)),oi=0,si=ei>0?ii-4:ii;for(ni=0;ni<si;ni+=4)ti=ze[Qe.charCodeAt(ni)]<<18|ze[Qe.charCodeAt(ni+1)]<<12|ze[Qe.charCodeAt(ni+2)]<<6|ze[Qe.charCodeAt(ni+3)],St[oi++]=ti>>16&255,St[oi++]=ti>>8&255,St[oi++]=255&ti;return ei===2&&(ti=ze[Qe.charCodeAt(ni)]<<2|ze[Qe.charCodeAt(ni+1)]>>4,St[oi++]=255&ti),ei===1&&(ti=ze[Qe.charCodeAt(ni)]<<10|ze[Qe.charCodeAt(ni+1)]<<4|ze[Qe.charCodeAt(ni+2)]>>2,St[oi++]=ti>>8&255,St[oi++]=255&ti),St},r.fromByteArray=function(Qe){for(var ti,ni=Qe.length,ri=ni%3,ii=[],ei=0,St=ni-ri;ei<St;ei+=16383)ii.push(Je(Qe,ei,ei+16383>St?St:ei+16383));return ri===1?(ti=Qe[ni-1],ii.push(je[ti>>2]+je[ti<<4&63]+"==")):ri===2&&(ti=(Qe[ni-2]<<8)+Qe[ni-1],ii.push(je[ti>>10]+je[ti>>4&63]+je[ti<<2&63]+"=")),ii.join("")};for(var je=[],ze=[],Xe=typeof Uint8Array<"u"?Uint8Array:Array,We="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qe=0,Ke=We.length;qe<Ke;++qe)je[qe]=We[qe],ze[We.charCodeAt(qe)]=qe;function Ze(Qe){var ti=Qe.length;if(ti%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var ni=Qe.indexOf("=");return ni===-1&&(ni=ti),[ni,ni===ti?0:4-ni%4]}function Je(Qe,ti,ni){for(var ri,ii,ei=[],St=ti;St<ni;St+=3)ri=(Qe[St]<<16&16711680)+(Qe[St+1]<<8&65280)+(255&Qe[St+2]),ei.push(je[(ii=ri)>>18&63]+je[ii>>12&63]+je[ii>>6&63]+je[63&ii]);return ei.join("")}ze[45]=62,ze[95]=63},function(t,r){r.read=function(Ve,je,ze,Xe,We){var qe,Ke,Ze=8*We-Xe-1,Je=(1<<Ze)-1,Qe=Je>>1,ti=-7,ni=ze?We-1:0,ri=ze?-1:1,ii=Ve[je+ni];for(ni+=ri,qe=ii&(1<<-ti)-1,ii>>=-ti,ti+=Ze;ti>0;qe=256*qe+Ve[je+ni],ni+=ri,ti-=8);for(Ke=qe&(1<<-ti)-1,qe>>=-ti,ti+=Xe;ti>0;Ke=256*Ke+Ve[je+ni],ni+=ri,ti-=8);if(qe===0)qe=1-Qe;else{if(qe===Je)return Ke?NaN:1/0*(ii?-1:1);Ke+=Math.pow(2,Xe),qe-=Qe}return(ii?-1:1)*Ke*Math.pow(2,qe-Xe)},r.write=function(Ve,je,ze,Xe,We,qe){var Ke,Ze,Je,Qe=8*qe-We-1,ti=(1<<Qe)-1,ni=ti>>1,ri=We===23?Math.pow(2,-24)-Math.pow(2,-77):0,ii=Xe?0:qe-1,ei=Xe?1:-1,St=je<0||je===0&&1/je<0?1:0;for(je=Math.abs(je),isNaN(je)||je===1/0?(Ze=isNaN(je)?1:0,Ke=ti):(Ke=Math.floor(Math.log(je)/Math.LN2),je*(Je=Math.pow(2,-Ke))<1&&(Ke--,Je*=2),(je+=Ke+ni>=1?ri/Je:ri*Math.pow(2,1-ni))*Je>=2&&(Ke++,Je/=2),Ke+ni>=ti?(Ze=0,Ke=ti):Ke+ni>=1?(Ze=(je*Je-1)*Math.pow(2,We),Ke+=ni):(Ze=je*Math.pow(2,ni-1)*Math.pow(2,We),Ke=0));We>=8;Ve[ze+ii]=255&Ze,ii+=ei,Ze/=256,We-=8);for(Ke=Ke<<We|Ze,Qe+=We;Qe>0;Ve[ze+ii]=255&Ke,ii+=ei,Ke/=256,Qe-=8);Ve[ze+ii-ei]|=128*St}},function(t,r){var Ve={}.toString;t.exports=Array.isArray||function(je){return Ve.call(je)=="[object Array]"}},function(t,r,Ve){var je=this&&this.__values||function(We){var qe=typeof Symbol=="function"&&Symbol.iterator,Ke=qe&&We[qe],Ze=0;if(Ke)return Ke.call(We);if(We&&typeof We.length=="number")return{next:function(){return We&&Ze>=We.length&&(We=void 0),{value:We&&We[Ze++],done:!We}}};throw new TypeError(qe?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var ze=Ve(2);function Xe(We){var qe,Ke;if(We===null||ze.isString(We)||ze.isNumber(We))return We;if(ze.isArray(We)){var Ze=new Array;try{for(var Je=je(We),Qe=Je.next();!Qe.done;Qe=Je.next()){var ti=Qe.value;Ze.push(Xe(ti))}}catch(ii){qe={error:ii}}finally{try{Qe&&!Qe.done&&(Ke=Je.return)&&Ke.call(Je)}finally{if(qe)throw qe.error}}return Ze}if(ze.isObject(We)){Ze=new Map;for(var ni in We)if(We.hasOwnProperty(ni)){var ri=We[ni];Ze.set(ni,Xe(ri))}return Ze}return We}r.parseJSONFromBytes=function(We){var qe=ze.utf8Decode(We);return JSON.parse.call(void 0,qe)},r.serializeJSONToBytes=function(We){var qe=JSON.stringify.call(void 0,We);return ze.utf8Encode(qe)},r.parseJSONIntoInfraValues=function(We){return Xe(JSON.parse.call(void 0,We))},r.convertAJSONDerivedJavaScriptValueToAnInfraValue=Xe},function(t,r,Ve){var je=this&&this.__generator||function(Ke,Ze){var Je,Qe,ti,ni,ri={label:0,sent:function(){if(1&ti[0])throw ti[1];return ti[1]},trys:[],ops:[]};return ni={next:ii(0),throw:ii(1),return:ii(2)},typeof Symbol=="function"&&(ni[Symbol.iterator]=function(){return this}),ni;function ii(ei){return function(St){return function(oi){if(Je)throw new TypeError("Generator is already executing.");for(;ri;)try{if(Je=1,Qe&&(ti=2&oi[0]?Qe.return:oi[0]?Qe.throw||((ti=Qe.return)&&ti.call(Qe),0):Qe.next)&&!(ti=ti.call(Qe,oi[1])).done)return ti;switch(Qe=0,ti&&(oi=[2&oi[0],ti.value]),oi[0]){case 0:case 1:ti=oi;break;case 4:return ri.label++,{value:oi[1],done:!1};case 5:ri.label++,Qe=oi[1],oi=[0];continue;case 7:oi=ri.ops.pop(),ri.trys.pop();continue;default:if(ti=ri.trys,!((ti=ti.length>0&&ti[ti.length-1])||oi[0]!==6&&oi[0]!==2)){ri=0;continue}if(oi[0]===3&&(!ti||oi[1]>ti[0]&&oi[1]<ti[3])){ri.label=oi[1];break}if(oi[0]===6&&ri.label<ti[1]){ri.label=ti[1],ti=oi;break}if(ti&&ri.label<ti[2]){ri.label=ti[2],ri.ops.push(oi);break}ti[2]&&ri.ops.pop(),ri.trys.pop();continue}oi=Ze.call(Ke,ri)}catch(si){oi=[6,si],Qe=0}finally{Je=ti=0}if(5&oi[0])throw oi[1];return{value:oi[0]?oi[1]:void 0,done:!0}}([ei,St])}}},ze=this&&this.__read||function(Ke,Ze){var Je=typeof Symbol=="function"&&Ke[Symbol.iterator];if(!Je)return Ke;var Qe,ti,ni=Je.call(Ke),ri=[];try{for(;(Ze===void 0||Ze-- >0)&&!(Qe=ni.next()).done;)ri.push(Qe.value)}catch(ii){ti={error:ii}}finally{try{Qe&&!Qe.done&&(Je=ni.return)&&Je.call(ni)}finally{if(ti)throw ti.error}}return ri},Xe=this&&this.__spread||function(){for(var Ke=[],Ze=0;Ze<arguments.length;Ze++)Ke=Ke.concat(ze(arguments[Ze]));return Ke},We=this&&this.__values||function(Ke){var Ze=typeof Symbol=="function"&&Symbol.iterator,Je=Ze&&Ke[Ze],Qe=0;if(Je)return Je.call(Ke);if(Ke&&typeof Ke.length=="number")return{next:function(){return Ke&&Qe>=Ke.length&&(Ke=void 0),{value:Ke&&Ke[Qe++],done:!Ke}}};throw new TypeError(Ze?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var qe=Ve(2);r.append=function(Ke,Ze){Ke.push(Ze)},r.extend=function(Ke,Ze){Ke.push.apply(Ke,Xe(Ze))},r.prepend=function(Ke,Ze){Ke.unshift(Ze)},r.replace=function(Ke,Ze,Je){var Qe,ti,ni=0;try{for(var ri=We(Ke),ii=ri.next();!ii.done;ii=ri.next()){var ei=ii.value;if(qe.isFunction(Ze))Ze.call(null,ei)&&(Ke[ni]=Je);else if(ei===Ze)return void(Ke[ni]=Je);ni++}}catch(St){Qe={error:St}}finally{try{ii&&!ii.done&&(ti=ri.return)&&ti.call(ri)}finally{if(Qe)throw Qe.error}}},r.insert=function(Ke,Ze,Je){Ke.splice(Je,0,Ze)},r.remove=function(Ke,Ze){for(var Je=Ke.length;Je--;){var Qe=Ke[Je];if(qe.isFunction(Ze))Ze.call(null,Qe)&&Ke.splice(Je,1);else if(Qe===Ze)return void Ke.splice(Je,1)}},r.empty=function(Ke){Ke.length=0},r.contains=function(Ke,Ze){var Je,Qe;try{for(var ti=We(Ke),ni=ti.next();!ni.done;ni=ti.next()){var ri=ni.value;if(qe.isFunction(Ze)){if(Ze.call(null,ri))return!0}else if(ri===Ze)return!0}}catch(ii){Je={error:ii}}finally{try{ni&&!ni.done&&(Qe=ti.return)&&Qe.call(ti)}finally{if(Je)throw Je.error}}return!1},r.size=function(Ke,Ze){var Je,Qe;if(Ze===void 0)return Ke.length;var ti=0;try{for(var ni=We(Ke),ri=ni.next();!ri.done;ri=ni.next()){var ii=ri.value;Ze.call(null,ii)&&ti++}}catch(ei){Je={error:ei}}finally{try{ri&&!ri.done&&(Qe=ni.return)&&Qe.call(ni)}finally{if(Je)throw Je.error}}return ti},r.isEmpty=function(Ke){return Ke.length===0},r.forEach=function(Ke,Ze){var Je,Qe,ti,ni,ri,ii;return je(this,function(ei){switch(ei.label){case 0:return Ze!==void 0?[3,2]:[5,We(Ke)];case 1:return ei.sent(),[3,9];case 2:ei.trys.push([2,7,8,9]),Je=We(Ke),Qe=Je.next(),ei.label=3;case 3:return Qe.done?[3,6]:(ti=Qe.value,Ze.call(null,ti)?[4,ti]:[3,5]);case 4:ei.sent(),ei.label=5;case 5:return Qe=Je.next(),[3,3];case 6:return[3,9];case 7:return ni=ei.sent(),ri={error:ni},[3,9];case 8:try{Qe&&!Qe.done&&(ii=Je.return)&&ii.call(Je)}finally{if(ri)throw ri.error}return[7];case 9:return[2]}})},r.clone=function(Ke){return new(Array.bind.apply(Array,Xe([void 0],Ke)))},r.sortInAscendingOrder=function(Ke,Ze){return Ke.sort(function(Je,Qe){return Ze.call(null,Je,Qe)?-1:1})},r.sortInDescendingOrder=function(Ke,Ze){return Ke.sort(function(Je,Qe){return Ze.call(null,Je,Qe)?1:-1})}},function(t,r,Ve){var je=this&&this.__generator||function(Ke,Ze){var Je,Qe,ti,ni,ri={label:0,sent:function(){if(1&ti[0])throw ti[1];return ti[1]},trys:[],ops:[]};return ni={next:ii(0),throw:ii(1),return:ii(2)},typeof Symbol=="function"&&(ni[Symbol.iterator]=function(){return this}),ni;function ii(ei){return function(St){return function(oi){if(Je)throw new TypeError("Generator is already executing.");for(;ri;)try{if(Je=1,Qe&&(ti=2&oi[0]?Qe.return:oi[0]?Qe.throw||((ti=Qe.return)&&ti.call(Qe),0):Qe.next)&&!(ti=ti.call(Qe,oi[1])).done)return ti;switch(Qe=0,ti&&(oi=[2&oi[0],ti.value]),oi[0]){case 0:case 1:ti=oi;break;case 4:return ri.label++,{value:oi[1],done:!1};case 5:ri.label++,Qe=oi[1],oi=[0];continue;case 7:oi=ri.ops.pop(),ri.trys.pop();continue;default:if(ti=ri.trys,!((ti=ti.length>0&&ti[ti.length-1])||oi[0]!==6&&oi[0]!==2)){ri=0;continue}if(oi[0]===3&&(!ti||oi[1]>ti[0]&&oi[1]<ti[3])){ri.label=oi[1];break}if(oi[0]===6&&ri.label<ti[1]){ri.label=ti[1],ti=oi;break}if(ti&&ri.label<ti[2]){ri.label=ti[2],ri.ops.push(oi);break}ti[2]&&ri.ops.pop(),ri.trys.pop();continue}oi=Ze.call(Ke,ri)}catch(si){oi=[6,si],Qe=0}finally{Je=ti=0}if(5&oi[0])throw oi[1];return{value:oi[0]?oi[1]:void 0,done:!0}}([ei,St])}}},ze=this&&this.__values||function(Ke){var Ze=typeof Symbol=="function"&&Symbol.iterator,Je=Ze&&Ke[Ze],Qe=0;if(Je)return Je.call(Ke);if(Ke&&typeof Ke.length=="number")return{next:function(){return Ke&&Qe>=Ke.length&&(Ke=void 0),{value:Ke&&Ke[Qe++],done:!Ke}}};throw new TypeError(Ze?"Object is not iterable.":"Symbol.iterator is not defined.")},Xe=this&&this.__read||function(Ke,Ze){var Je=typeof Symbol=="function"&&Ke[Symbol.iterator];if(!Je)return Ke;var Qe,ti,ni=Je.call(Ke),ri=[];try{for(;(Ze===void 0||Ze-- >0)&&!(Qe=ni.next()).done;)ri.push(Qe.value)}catch(ii){ti={error:ii}}finally{try{Qe&&!Qe.done&&(Je=ni.return)&&Je.call(ni)}finally{if(ti)throw ti.error}}return ri},We=this&&this.__spread||function(){for(var Ke=[],Ze=0;Ze<arguments.length;Ze++)Ke=Ke.concat(Xe(arguments[Ze]));return Ke};Object.defineProperty(r,"__esModule",{value:!0});var qe=Ve(2);r.get=function(Ke,Ze){return Ke.get(Ze)},r.set=function(Ke,Ze,Je){Ke.set(Ze,Je)},r.remove=function(Ke,Ze){var Je,Qe,ti,ni;if(qe.isFunction(Ze)){var ri=[];try{for(var ii=ze(Ke),ei=ii.next();!ei.done;ei=ii.next()){var St=ei.value;Ze.call(null,St)&&ri.push(St[0])}}catch(ui){Je={error:ui}}finally{try{ei&&!ei.done&&(Qe=ii.return)&&Qe.call(ii)}finally{if(Je)throw Je.error}}try{for(var oi=ze(ri),si=oi.next();!si.done;si=oi.next()){var ai=si.value;Ke.delete(ai)}}catch(ui){ti={error:ui}}finally{try{si&&!si.done&&(ni=oi.return)&&ni.call(oi)}finally{if(ti)throw ti.error}}}else Ke.delete(Ze)},r.contains=function(Ke,Ze){var Je,Qe;if(qe.isFunction(Ze)){try{for(var ti=ze(Ke),ni=ti.next();!ni.done;ni=ti.next()){var ri=ni.value;if(Ze.call(null,ri))return!0}}catch(ii){Je={error:ii}}finally{try{ni&&!ni.done&&(Qe=ti.return)&&Qe.call(ti)}finally{if(Je)throw Je.error}}return!1}return Ke.has(Ze)},r.keys=function(Ke){return new Set(Ke.keys())},r.values=function(Ke){return We(Ke.values())},r.size=function(Ke,Ze){var Je,Qe;if(Ze===void 0)return Ke.size;var ti=0;try{for(var ni=ze(Ke),ri=ni.next();!ri.done;ri=ni.next()){var ii=ri.value;Ze.call(null,ii)&&ti++}}catch(ei){Je={error:ei}}finally{try{ri&&!ri.done&&(Qe=ni.return)&&Qe.call(ni)}finally{if(Je)throw Je.error}}return ti},r.isEmpty=function(Ke){return Ke.size===0},r.forEach=function(Ke,Ze){var Je,Qe,ti,ni,ri,ii;return je(this,function(ei){switch(ei.label){case 0:return Ze!==void 0?[3,2]:[5,ze(Ke)];case 1:return ei.sent(),[3,9];case 2:ei.trys.push([2,7,8,9]),Je=ze(Ke),Qe=Je.next(),ei.label=3;case 3:return Qe.done?[3,6]:(ti=Qe.value,Ze.call(null,ti)?[4,ti]:[3,5]);case 4:ei.sent(),ei.label=5;case 5:return Qe=Je.next(),[3,3];case 6:return[3,9];case 7:return ni=ei.sent(),ri={error:ni},[3,9];case 8:try{Qe&&!Qe.done&&(ii=Je.return)&&ii.call(Je)}finally{if(ri)throw ri.error}return[7];case 9:return[2]}})},r.clone=function(Ke){return new Map(Ke)},r.sortInAscendingOrder=function(Ke,Ze){var Je=new(Array.bind.apply(Array,We([void 0],Ke)));return Je.sort(function(Qe,ti){return Ze.call(null,Qe,ti)?-1:1}),new Map(Je)},r.sortInDescendingOrder=function(Ke,Ze){var Je=new(Array.bind.apply(Array,We([void 0],Ke)));return Je.sort(function(Qe,ti){return Ze.call(null,Qe,ti)?1:-1}),new Map(Je)}},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0}),r.HTML="http://www.w3.org/1999/xhtml",r.XML="http://www.w3.org/XML/1998/namespace",r.XMLNS="http://www.w3.org/2000/xmlns/",r.MathML="http://www.w3.org/1998/Math/MathML",r.SVG="http://www.w3.org/2000/svg",r.XLink="http://www.w3.org/1999/xlink"},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0}),r.enqueue=function(je,ze){je.push(ze)},r.dequeue=function(je){return je.shift()||null}},function(t,r,Ve){var je=this&&this.__generator||function(Ze,Je){var Qe,ti,ni,ri,ii={label:0,sent:function(){if(1&ni[0])throw ni[1];return ni[1]},trys:[],ops:[]};return ri={next:ei(0),throw:ei(1),return:ei(2)},typeof Symbol=="function"&&(ri[Symbol.iterator]=function(){return this}),ri;function ei(St){return function(oi){return function(si){if(Qe)throw new TypeError("Generator is already executing.");for(;ii;)try{if(Qe=1,ti&&(ni=2&si[0]?ti.return:si[0]?ti.throw||((ni=ti.return)&&ni.call(ti),0):ti.next)&&!(ni=ni.call(ti,si[1])).done)return ni;switch(ti=0,ni&&(si=[2&si[0],ni.value]),si[0]){case 0:case 1:ni=si;break;case 4:return ii.label++,{value:si[1],done:!1};case 5:ii.label++,ti=si[1],si=[0];continue;case 7:si=ii.ops.pop(),ii.trys.pop();continue;default:if(ni=ii.trys,!((ni=ni.length>0&&ni[ni.length-1])||si[0]!==6&&si[0]!==2)){ii=0;continue}if(si[0]===3&&(!ni||si[1]>ni[0]&&si[1]<ni[3])){ii.label=si[1];break}if(si[0]===6&&ii.label<ni[1]){ii.label=ni[1],ni=si;break}if(ni&&ii.label<ni[2]){ii.label=ni[2],ii.ops.push(si);break}ni[2]&&ii.ops.pop(),ii.trys.pop();continue}si=Je.call(Ze,ii)}catch(ai){si=[6,ai],ti=0}finally{Qe=ni=0}if(5&si[0])throw si[1];return{value:si[0]?si[1]:void 0,done:!0}}([St,oi])}}},ze=this&&this.__values||function(Ze){var Je=typeof Symbol=="function"&&Symbol.iterator,Qe=Je&&Ze[Je],ti=0;if(Qe)return Qe.call(Ze);if(Ze&&typeof Ze.length=="number")return{next:function(){return Ze&&ti>=Ze.length&&(Ze=void 0),{value:Ze&&Ze[ti++],done:!Ze}}};throw new TypeError(Je?"Object is not iterable.":"Symbol.iterator is not defined.")},Xe=this&&this.__read||function(Ze,Je){var Qe=typeof Symbol=="function"&&Ze[Symbol.iterator];if(!Qe)return Ze;var ti,ni,ri=Qe.call(Ze),ii=[];try{for(;(Je===void 0||Je-- >0)&&!(ti=ri.next()).done;)ii.push(ti.value)}catch(ei){ni={error:ei}}finally{try{ti&&!ti.done&&(Qe=ri.return)&&Qe.call(ri)}finally{if(ni)throw ni.error}}return ii},We=this&&this.__spread||function(){for(var Ze=[],Je=0;Je<arguments.length;Je++)Ze=Ze.concat(Xe(arguments[Je]));return Ze};Object.defineProperty(r,"__esModule",{value:!0});var qe=Ve(2);function Ke(Ze,Je){var Qe,ti;try{for(var ni=ze(Ze),ri=ni.next();!ri.done;ri=ni.next()){var ii=ri.value;if(!Je.has(ii))return!1}}catch(ei){Qe={error:ei}}finally{try{ri&&!ri.done&&(ti=ni.return)&&ti.call(ni)}finally{if(Qe)throw Qe.error}}return!0}r.append=function(Ze,Je){Ze.add(Je)},r.extend=function(Ze,Je){Je.forEach(Ze.add,Ze)},r.prepend=function(Ze,Je){var Qe=new Set(Ze);Ze.clear(),Ze.add(Je),Qe.forEach(Ze.add,Ze)},r.replace=function(Ze,Je,Qe){var ti,ni,ri=new Set;try{for(var ii=ze(Ze),ei=ii.next();!ei.done;ei=ii.next()){var St=ei.value;qe.isFunction(Je)?Je.call(null,St)?ri.add(Qe):ri.add(St):St===Je?ri.add(Qe):ri.add(St)}}catch(oi){ti={error:oi}}finally{try{ei&&!ei.done&&(ni=ii.return)&&ni.call(ii)}finally{if(ti)throw ti.error}}Ze.clear(),ri.forEach(Ze.add,Ze)},r.insert=function(Ze,Je,Qe){var ti,ni,ri=new Set,ii=0;try{for(var ei=ze(Ze),St=ei.next();!St.done;St=ei.next()){var oi=St.value;ii===Qe&&ri.add(Je),ri.add(oi),ii++}}catch(si){ti={error:si}}finally{try{St&&!St.done&&(ni=ei.return)&&ni.call(ei)}finally{if(ti)throw ti.error}}Ze.clear(),ri.forEach(Ze.add,Ze)},r.remove=function(Ze,Je){var Qe,ti,ni,ri;if(qe.isFunction(Je)){var ii=[];try{for(var ei=ze(Ze),St=ei.next();!St.done;St=ei.next()){var oi=St.value;Je.call(null,oi)&&ii.push(oi)}}catch(hi){Qe={error:hi}}finally{try{St&&!St.done&&(ti=ei.return)&&ti.call(ei)}finally{if(Qe)throw Qe.error}}try{for(var si=ze(ii),ai=si.next();!ai.done;ai=si.next()){var ui=ai.value;Ze.delete(ui)}}catch(hi){ni={error:hi}}finally{try{ai&&!ai.done&&(ri=si.return)&&ri.call(si)}finally{if(ni)throw ni.error}}}else Ze.delete(Je)},r.empty=function(Ze){Ze.clear()},r.contains=function(Ze,Je){var Qe,ti;if(!qe.isFunction(Je))return Ze.has(Je);try{for(var ni=ze(Ze),ri=ni.next();!ri.done;ri=ni.next()){var ii=ri.value;if(Je.call(null,ii))return!0}}catch(ei){Qe={error:ei}}finally{try{ri&&!ri.done&&(ti=ni.return)&&ti.call(ni)}finally{if(Qe)throw Qe.error}}return!1},r.size=function(Ze,Je){var Qe,ti;if(Je===void 0)return Ze.size;var ni=0;try{for(var ri=ze(Ze),ii=ri.next();!ii.done;ii=ri.next()){var ei=ii.value;Je.call(null,ei)&&ni++}}catch(St){Qe={error:St}}finally{try{ii&&!ii.done&&(ti=ri.return)&&ti.call(ri)}finally{if(Qe)throw Qe.error}}return ni},r.isEmpty=function(Ze){return Ze.size===0},r.forEach=function(Ze,Je){var Qe,ti,ni,ri,ii,ei;return je(this,function(St){switch(St.label){case 0:return Je!==void 0?[3,2]:[5,ze(Ze)];case 1:return St.sent(),[3,9];case 2:St.trys.push([2,7,8,9]),Qe=ze(Ze),ti=Qe.next(),St.label=3;case 3:return ti.done?[3,6]:(ni=ti.value,Je.call(null,ni)?[4,ni]:[3,5]);case 4:St.sent(),St.label=5;case 5:return ti=Qe.next(),[3,3];case 6:return[3,9];case 7:return ri=St.sent(),ii={error:ri},[3,9];case 8:try{ti&&!ti.done&&(ei=Qe.return)&&ei.call(Qe)}finally{if(ii)throw ii.error}return[7];case 9:return[2]}})},r.clone=function(Ze){return new Set(Ze)},r.sortInAscendingOrder=function(Ze,Je){var Qe=new(Array.bind.apply(Array,We([void 0],Ze)));return Qe.sort(function(ti,ni){return Je.call(null,ti,ni)?-1:1}),new Set(Qe)},r.sortInDescendingOrder=function(Ze,Je){var Qe=new(Array.bind.apply(Array,We([void 0],Ze)));return Qe.sort(function(ti,ni){return Je.call(null,ti,ni)?1:-1}),new Set(Qe)},r.isSubsetOf=Ke,r.isSupersetOf=function(Ze,Je){return Ke(Je,Ze)},r.intersection=function(Ze,Je){var Qe,ti,ni=new Set;try{for(var ri=ze(Ze),ii=ri.next();!ii.done;ii=ri.next()){var ei=ii.value;Je.has(ei)&&ni.add(ei)}}catch(St){Qe={error:St}}finally{try{ii&&!ii.done&&(ti=ri.return)&&ti.call(ri)}finally{if(Qe)throw Qe.error}}return ni},r.union=function(Ze,Je){var Qe=new Set(Ze);return Je.forEach(Qe.add,Qe),Qe},r.range=function(Ze,Je){for(var Qe=new Set,ti=Ze;ti<=Je;ti++)Qe.add(ti);return Qe}},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0}),r.push=function(je,ze){je.push(ze)},r.pop=function(je){return je.pop()||null}},function(t,r,Ve){var je=this&&this.__values||function(ii){var ei=typeof Symbol=="function"&&Symbol.iterator,St=ei&&ii[ei],oi=0;if(St)return St.call(ii);if(ii&&typeof ii.length=="number")return{next:function(){return ii&&oi>=ii.length&&(ii=void 0),{value:ii&&ii[oi++],done:!ii}}};throw new TypeError(ei?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var ze=Ve(96),Xe=Ve(147),We=Ve(146),qe=Ve(2);function Ke(ii,ei){for(var St=0;;){var oi=St<ii.length?ii.charCodeAt(St):null,si=St<ei.length?ei.charCodeAt(St):null;if(oi===null)return!0;if(oi!==si)return!1;St++}}function Ze(ii){var ei,St,oi=Array.from(ii),si=new Uint8Array(oi.length),ai=0;try{for(var ui=je(ii),hi=ui.next();!hi.done;hi=ui.next()){var ci=hi.value.codePointAt(0);console.assert(ci!==void 0&&ci<=255,"isomorphicEncode requires string bytes to be less than or equal to 0x00FF."),ci!==void 0&&ci<=255&&(si[ai++]=ci)}}catch(mi){ei={error:mi}}finally{try{hi&&!hi.done&&(St=ui.return)&&St.call(ui)}finally{if(ei)throw ei.error}}return si}function Je(ii){return/^[\u0000-\u007F]*$/.test(ii)}function Qe(ii){var ei,St,oi="";try{for(var si=je(ii),ai=si.next();!ai.done;ai=si.next()){var ui=ai.value,hi=ui.codePointAt(0);oi+=hi!==void 0&&hi>=65&&hi<=90?String.fromCodePoint(hi+32):ui}}catch(ci){ei={error:ci}}finally{try{ai&&!ai.done&&(St=si.return)&&St.call(si)}finally{if(ei)throw ei.error}}return oi}function ti(ii){return ii.replace(/^[\t\n\f\r ]+/,"").replace(/[\t\n\f\r ]+$/,"")}function ni(ii,ei,St){if(!qe.isArray(ei))return ni(ii,Array.from(ei),St);for(var oi="";St.position<ei.length&&ii.call(null,ei[St.position]);)oi+=ei[St.position],St.position++;return oi}function ri(ii,ei){ni(function(St){return ze.ASCIIWhiteSpace.test(St)},ii,ei)}r.isCodeUnitPrefix=Ke,r.isCodeUnitLessThan=function(ii,ei){if(Ke(ei,ii))return!1;if(Ke(ii,ei))return!0;for(var St=0;St<Math.min(ii.length,ei.length);St++){var oi=ii.charCodeAt(St),si=ei.charCodeAt(St);if(oi!==si)return oi<si}return!1},r.isomorphicEncode=Ze,r.isASCIIString=Je,r.asciiLowercase=Qe,r.asciiUppercase=function(ii){var ei,St,oi="";try{for(var si=je(ii),ai=si.next();!ai.done;ai=si.next()){var ui=ai.value,hi=ui.codePointAt(0);oi+=hi!==void 0&&hi>=97&&hi<=122?String.fromCodePoint(hi-32):ui}}catch(ci){ei={error:ci}}finally{try{ai&&!ai.done&&(St=si.return)&&St.call(si)}finally{if(ei)throw ei.error}}return oi},r.asciiCaseInsensitiveMatch=function(ii,ei){return Qe(ii)===Qe(ei)},r.asciiEncode=function(ii){return console.assert(Je(ii),"asciiEncode requires an ASCII string."),Ze(ii)},r.asciiDecode=function(ii){var ei,St;try{for(var oi=je(ii),si=oi.next();!si.done;si=oi.next()){var ai=si.value;console.assert(We.isASCIIByte(ai),"asciiDecode requires an ASCII byte sequence.")}}catch(ui){ei={error:ui}}finally{try{si&&!si.done&&(St=oi.return)&&St.call(oi)}finally{if(ei)throw ei.error}}return Xe.isomorphicDecode(ii)},r.stripNewlines=function(ii){return ii.replace(/[\n\r]/g,"")},r.normalizeNewlines=function(ii){return ii.replace(/\r\n/g,`
`).replace(/\r/g,`
`)},r.stripLeadingAndTrailingASCIIWhitespace=ti,r.stripAndCollapseASCIIWhitespace=function(ii){return ti(ii.replace(/[\t\n\f\r ]{2,}/g," "))},r.collectASequenceOfCodePoints=ni,r.skipASCIIWhitespace=ri,r.strictlySplit=function ii(ei,St){if(!qe.isArray(ei))return ii(Array.from(ei),St);var oi={position:0},si=[],ai=ni(function(ui){return St!==ui},ei,oi);for(si.push(ai);oi.position<ei.length;)console.assert(ei[oi.position]===St,"strictlySplit found no delimiter in input string."),oi.position++,ai=ni(function(ui){return St!==ui},ei,oi),si.push(ai);return si},r.splitAStringOnASCIIWhitespace=function ii(ei){if(!qe.isArray(ei))return ii(Array.from(ei));var St={position:0},oi=[];for(ri(ei,St);St.position<ei.length;){var si=ni(function(ai){return!ze.ASCIIWhiteSpace.test(ai)},ei,St);oi.push(si),ri(ei,St)}return oi},r.splitAStringOnCommas=function ii(ei){if(!qe.isArray(ei))return ii(Array.from(ei));for(var St={position:0},oi=[];St.position<ei.length;){var si=ni(function(ai){return ai!==","},ei,St);oi.push(ti(si)),St.position<ei.length&&(console.assert(ei[St.position]===",","splitAStringOnCommas found no delimiter in input string."),St.position++)}return oi},r.concatenate=function(ii,ei){return ei===void 0&&(ei=""),ii.length===0?"":ii.join(ei)}},function(t,r,Ve){var je=this&&this.__values||function(Xe){var We=typeof Symbol=="function"&&Symbol.iterator,qe=We&&Xe[We],Ke=0;if(qe)return qe.call(Xe);if(Xe&&typeof Xe.length=="number")return{next:function(){return Xe&&Ke>=Xe.length&&(Xe=void 0),{value:Xe&&Xe[Ke++],done:!Xe}}};throw new TypeError(We?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var ze=Ve(97);r.abort_add=function(Xe,We){We._abortedFlag||We._abortAlgorithms.add(Xe)},r.abort_remove=function(Xe,We){We._abortAlgorithms.delete(Xe)},r.abort_signalAbort=function(Xe){var We,qe;if(!Xe._abortedFlag){Xe._abortedFlag=!0;try{for(var Ke=je(Xe._abortAlgorithms),Ze=Ke.next();!Ze.done;Ze=Ke.next())Ze.value.call(Xe)}catch(Je){We={error:Je}}finally{try{Ze&&!Ze.done&&(qe=Ke.return)&&qe.call(Ke)}finally{if(We)throw We.error}}Xe._abortAlgorithms.clear(),ze.event_fireAnEvent("abort",Xe)}}},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(150),ze=function(){function Xe(){}return Xe.asNode=function(We){if(je.Guard.isNode(We))return We;throw new Error("Invalid object. Node expected.")},Xe}();r.Cast=ze},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=function(){function Xe(){}return Object.defineProperty(Xe.prototype,"size",{get:function(){return 0},enumerable:!0,configurable:!0}),Xe.prototype.add=function(We){throw new Error("Cannot add to an empty set.")},Xe.prototype.clear=function(){},Xe.prototype.delete=function(We){return!1},Xe.prototype.forEach=function(We,qe){},Xe.prototype.has=function(We){return!1},Xe.prototype[Symbol.iterator]=function(){return new ze},Xe.prototype.entries=function(){return new ze},Xe.prototype.keys=function(){return new ze},Xe.prototype.values=function(){return new ze},Object.defineProperty(Xe.prototype,Symbol.toStringTag,{get:function(){return"EmptySet"},enumerable:!0,configurable:!0}),Xe}();r.EmptySet=je;var ze=function(){function Xe(){}return Xe.prototype[Symbol.iterator]=function(){return this},Xe.prototype.next=function(){return{done:!0,value:null}},Xe}()},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0}),function(je){je[je.SchemeStart=0]="SchemeStart",je[je.Scheme=1]="Scheme",je[je.NoScheme=2]="NoScheme",je[je.SpecialRelativeOrAuthority=3]="SpecialRelativeOrAuthority",je[je.PathOrAuthority=4]="PathOrAuthority",je[je.Relative=5]="Relative",je[je.RelativeSlash=6]="RelativeSlash",je[je.SpecialAuthoritySlashes=7]="SpecialAuthoritySlashes",je[je.SpecialAuthorityIgnoreSlashes=8]="SpecialAuthorityIgnoreSlashes",je[je.Authority=9]="Authority",je[je.Host=10]="Host",je[je.Hostname=11]="Hostname",je[je.Port=12]="Port",je[je.File=13]="File",je[je.FileSlash=14]="FileSlash",je[je.FileHost=15]="FileHost",je[je.PathStart=16]="PathStart",je[je.Path=17]="Path",je[je.CannotBeABaseURLPath=18]="CannotBeABaseURLPath",je[je.Query=19]="Query",je[je.Fragment=20]="Fragment"}(r.ParserState||(r.ParserState={})),r.OpaqueOrigin=["","",null,null]},function(t,r,Ve){var je=Ve(245),ze=Ve(247);function Xe(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}r.parse=si,r.resolve=function(ai,ui){return si(ai,!1,!0).resolve(ui)},r.resolveObject=function(ai,ui){return ai?si(ai,!1,!0).resolveObject(ui):ui},r.format=function(ai){return ze.isString(ai)&&(ai=si(ai)),ai instanceof Xe?ai.format():Xe.prototype.format.call(ai)},r.Url=Xe;var We=/^([a-z0-9.+-]+:)/i,qe=/:[0-9]*$/,Ke=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Ze=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),Je=["'"].concat(Ze),Qe=["%","/","?",";","#"].concat(Je),ti=["/","?","#"],ni=/^[+a-z0-9A-Z_-]{0,63}$/,ri=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,ii={javascript:!0,"javascript:":!0},ei={javascript:!0,"javascript:":!0},St={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},oi=Ve(248);function si(ai,ui,hi){if(ai&&ze.isObject(ai)&&ai instanceof Xe)return ai;var ci=new Xe;return ci.parse(ai,ui,hi),ci}Xe.prototype.parse=function(ai,ui,hi){if(!ze.isString(ai))throw new TypeError("Parameter 'url' must be a string, not "+typeof ai);var ci=ai.indexOf("?"),mi=ci!==-1&&ci<ai.indexOf("#")?"?":"#",di=ai.split(mi);di[0]=di[0].replace(/\\/g,"/");var pi=ai=di.join(mi);if(pi=pi.trim(),!hi&&ai.split("#").length===1){var yi=Ke.exec(pi);if(yi)return this.path=pi,this.href=pi,this.pathname=yi[1],yi[2]?(this.search=yi[2],this.query=ui?oi.parse(this.search.substr(1)):this.search.substr(1)):ui&&(this.search="",this.query={}),this}var gi=We.exec(pi);if(gi){var _i=(gi=gi[0]).toLowerCase();this.protocol=_i,pi=pi.substr(gi.length)}if(hi||gi||pi.match(/^\/\/[^@\/]+@[^@\/]+/)){var Ai=pi.substr(0,2)==="//";!Ai||gi&&ei[gi]||(pi=pi.substr(2),this.slashes=!0)}if(!ei[gi]&&(Ai||gi&&!St[gi])){for(var ki,vi,Mi=-1,Di=0;Di<ti.length;Di++)(Bi=pi.indexOf(ti[Di]))!==-1&&(Mi===-1||Bi<Mi)&&(Mi=Bi);for((vi=Mi===-1?pi.lastIndexOf("@"):pi.lastIndexOf("@",Mi))!==-1&&(ki=pi.slice(0,vi),pi=pi.slice(vi+1),this.auth=decodeURIComponent(ki)),Mi=-1,Di=0;Di<Qe.length;Di++){var Bi;(Bi=pi.indexOf(Qe[Di]))!==-1&&(Mi===-1||Bi<Mi)&&(Mi=Bi)}Mi===-1&&(Mi=pi.length),this.host=pi.slice(0,Mi),pi=pi.slice(Mi),this.parseHost(),this.hostname=this.hostname||"";var Pi=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!Pi)for(var Fi=this.hostname.split(/\./),Vi=(Di=0,Fi.length);Di<Vi;Di++){var Ti=Fi[Di];if(Ti&&!Ti.match(ni)){for(var ji="",Gi=0,Yi=Ti.length;Gi<Yi;Gi++)Ti.charCodeAt(Gi)>127?ji+="x":ji+=Ti[Gi];if(!ji.match(ni)){var Xi=Fi.slice(0,Di),xi=Fi.slice(Di+1),fi=Ti.match(ri);fi&&(Xi.push(fi[1]),xi.unshift(fi[2])),xi.length&&(pi="/"+xi.join(".")+pi),this.hostname=Xi.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),Pi||(this.hostname=je.toASCII(this.hostname));var $i=this.port?":"+this.port:"",bi=this.hostname||"";this.host=bi+$i,this.href+=this.host,Pi&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),pi[0]!=="/"&&(pi="/"+pi))}if(!ii[_i])for(Di=0,Vi=Je.length;Di<Vi;Di++){var Ci=Je[Di];if(pi.indexOf(Ci)!==-1){var Ei=encodeURIComponent(Ci);Ei===Ci&&(Ei=escape(Ci)),pi=pi.split(Ci).join(Ei)}}var Si=pi.indexOf("#");Si!==-1&&(this.hash=pi.substr(Si),pi=pi.slice(0,Si));var zi=pi.indexOf("?");if(zi!==-1?(this.search=pi.substr(zi),this.query=pi.substr(zi+1),ui&&(this.query=oi.parse(this.query)),pi=pi.slice(0,zi)):ui&&(this.search="",this.query={}),pi&&(this.pathname=pi),St[_i]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){$i=this.pathname||"";var Ki=this.search||"";this.path=$i+Ki}return this.href=this.format(),this},Xe.prototype.format=function(){var ai=this.auth||"";ai&&(ai=(ai=encodeURIComponent(ai)).replace(/%3A/i,":"),ai+="@");var ui=this.protocol||"",hi=this.pathname||"",ci=this.hash||"",mi=!1,di="";this.host?mi=ai+this.host:this.hostname&&(mi=ai+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(mi+=":"+this.port)),this.query&&ze.isObject(this.query)&&Object.keys(this.query).length&&(di=oi.stringify(this.query));var pi=this.search||di&&"?"+di||"";return ui&&ui.substr(-1)!==":"&&(ui+=":"),this.slashes||(!ui||St[ui])&&mi!==!1?(mi="//"+(mi||""),hi&&hi.charAt(0)!=="/"&&(hi="/"+hi)):mi||(mi=""),ci&&ci.charAt(0)!=="#"&&(ci="#"+ci),pi&&pi.charAt(0)!=="?"&&(pi="?"+pi),ui+mi+(hi=hi.replace(/[?#]/g,function(yi){return encodeURIComponent(yi)}))+(pi=pi.replace("#","%23"))+ci},Xe.prototype.resolve=function(ai){return this.resolveObject(si(ai,!1,!0)).format()},Xe.prototype.resolveObject=function(ai){if(ze.isString(ai)){var ui=new Xe;ui.parse(ai,!1,!0),ai=ui}for(var hi=new Xe,ci=Object.keys(this),mi=0;mi<ci.length;mi++){var di=ci[mi];hi[di]=this[di]}if(hi.hash=ai.hash,ai.href==="")return hi.href=hi.format(),hi;if(ai.slashes&&!ai.protocol){for(var pi=Object.keys(ai),yi=0;yi<pi.length;yi++){var gi=pi[yi];gi!=="protocol"&&(hi[gi]=ai[gi])}return St[hi.protocol]&&hi.hostname&&!hi.pathname&&(hi.path=hi.pathname="/"),hi.href=hi.format(),hi}if(ai.protocol&&ai.protocol!==hi.protocol){if(!St[ai.protocol]){for(var _i=Object.keys(ai),Ai=0;Ai<_i.length;Ai++){var ki=_i[Ai];hi[ki]=ai[ki]}return hi.href=hi.format(),hi}if(hi.protocol=ai.protocol,ai.host||ei[ai.protocol])hi.pathname=ai.pathname;else{for(var vi=(ai.pathname||"").split("/");vi.length&&!(ai.host=vi.shift()););ai.host||(ai.host=""),ai.hostname||(ai.hostname=""),vi[0]!==""&&vi.unshift(""),vi.length<2&&vi.unshift(""),hi.pathname=vi.join("/")}if(hi.search=ai.search,hi.query=ai.query,hi.host=ai.host||"",hi.auth=ai.auth,hi.hostname=ai.hostname||ai.host,hi.port=ai.port,hi.pathname||hi.search){var Mi=hi.pathname||"",Di=hi.search||"";hi.path=Mi+Di}return hi.slashes=hi.slashes||ai.slashes,hi.href=hi.format(),hi}var Bi=hi.pathname&&hi.pathname.charAt(0)==="/",Pi=ai.host||ai.pathname&&ai.pathname.charAt(0)==="/",Fi=Pi||Bi||hi.host&&ai.pathname,Vi=Fi,Ti=hi.pathname&&hi.pathname.split("/")||[],ji=(vi=ai.pathname&&ai.pathname.split("/")||[],hi.protocol&&!St[hi.protocol]);if(ji&&(hi.hostname="",hi.port=null,hi.host&&(Ti[0]===""?Ti[0]=hi.host:Ti.unshift(hi.host)),hi.host="",ai.protocol&&(ai.hostname=null,ai.port=null,ai.host&&(vi[0]===""?vi[0]=ai.host:vi.unshift(ai.host)),ai.host=null),Fi=Fi&&(vi[0]===""||Ti[0]==="")),Pi)hi.host=ai.host||ai.host===""?ai.host:hi.host,hi.hostname=ai.hostname||ai.hostname===""?ai.hostname:hi.hostname,hi.search=ai.search,hi.query=ai.query,Ti=vi;else if(vi.length)Ti||(Ti=[]),Ti.pop(),Ti=Ti.concat(vi),hi.search=ai.search,hi.query=ai.query;else if(!ze.isNullOrUndefined(ai.search))return ji&&(hi.hostname=hi.host=Ti.shift(),(fi=!!(hi.host&&hi.host.indexOf("@")>0)&&hi.host.split("@"))&&(hi.auth=fi.shift(),hi.host=hi.hostname=fi.shift())),hi.search=ai.search,hi.query=ai.query,ze.isNull(hi.pathname)&&ze.isNull(hi.search)||(hi.path=(hi.pathname?hi.pathname:"")+(hi.search?hi.search:"")),hi.href=hi.format(),hi;if(!Ti.length)return hi.pathname=null,hi.search?hi.path="/"+hi.search:hi.path=null,hi.href=hi.format(),hi;for(var Gi=Ti.slice(-1)[0],Yi=(hi.host||ai.host||Ti.length>1)&&(Gi==="."||Gi==="..")||Gi==="",Xi=0,xi=Ti.length;xi>=0;xi--)(Gi=Ti[xi])==="."?Ti.splice(xi,1):Gi===".."?(Ti.splice(xi,1),Xi++):Xi&&(Ti.splice(xi,1),Xi--);if(!Fi&&!Vi)for(;Xi--;Xi)Ti.unshift("..");!Fi||Ti[0]===""||Ti[0]&&Ti[0].charAt(0)==="/"||Ti.unshift(""),Yi&&Ti.join("/").substr(-1)!=="/"&&Ti.push("");var fi,$i=Ti[0]===""||Ti[0]&&Ti[0].charAt(0)==="/";return ji&&(hi.hostname=hi.host=$i?"":Ti.length?Ti.shift():"",(fi=!!(hi.host&&hi.host.indexOf("@")>0)&&hi.host.split("@"))&&(hi.auth=fi.shift(),hi.host=hi.hostname=fi.shift())),(Fi=Fi||hi.host&&Ti.length)&&!$i&&Ti.unshift(""),Ti.length?hi.pathname=Ti.join("/"):(hi.pathname=null,hi.path=null),ze.isNull(hi.pathname)&&ze.isNull(hi.search)||(hi.path=(hi.pathname?hi.pathname:"")+(hi.search?hi.search:"")),hi.auth=ai.auth||hi.auth,hi.slashes=hi.slashes||ai.slashes,hi.href=hi.format(),hi},Xe.prototype.parseHost=function(){var ai=this.host,ui=qe.exec(ai);ui&&((ui=ui[0])!==":"&&(this.port=ui.substr(1)),ai=ai.substr(0,ai.length-ui.length)),ai&&(this.hostname=ai)}},function(t,r,Ve){(function(je,ze){var Xe;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(We){r&&r.nodeType,je&&je.nodeType;var qe=typeof ze=="object"&&ze;qe.global!==qe&&qe.window!==qe&&qe.self;var Ke,Ze=2147483647,Je=/^xn--/,Qe=/[^\x20-\x7E]/,ti=/[\x2E\u3002\uFF0E\uFF61]/g,ni={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ri=Math.floor,ii=String.fromCharCode;function ei(di){throw new RangeError(ni[di])}function St(di,pi){for(var yi=di.length,gi=[];yi--;)gi[yi]=pi(di[yi]);return gi}function oi(di,pi){var yi=di.split("@"),gi="";return yi.length>1&&(gi=yi[0]+"@",di=yi[1]),gi+St((di=di.replace(ti,".")).split("."),pi).join(".")}function si(di){for(var pi,yi,gi=[],_i=0,Ai=di.length;_i<Ai;)(pi=di.charCodeAt(_i++))>=55296&&pi<=56319&&_i<Ai?(64512&(yi=di.charCodeAt(_i++)))==56320?gi.push(((1023&pi)<<10)+(1023&yi)+65536):(gi.push(pi),_i--):gi.push(pi);return gi}function ai(di){return St(di,function(pi){var yi="";return pi>65535&&(yi+=ii((pi-=65536)>>>10&1023|55296),pi=56320|1023&pi),yi+=ii(pi)}).join("")}function ui(di,pi){return di+22+75*(di<26)-((pi!=0)<<5)}function hi(di,pi,yi){var gi=0;for(di=yi?ri(di/700):di>>1,di+=ri(di/pi);di>455;gi+=36)di=ri(di/35);return ri(gi+36*di/(di+38))}function ci(di){var pi,yi,gi,_i,Ai,ki,vi,Mi,Di,Bi,Pi,Fi=[],Vi=di.length,Ti=0,ji=128,Gi=72;for((yi=di.lastIndexOf("-"))<0&&(yi=0),gi=0;gi<yi;++gi)di.charCodeAt(gi)>=128&&ei("not-basic"),Fi.push(di.charCodeAt(gi));for(_i=yi>0?yi+1:0;_i<Vi;){for(Ai=Ti,ki=1,vi=36;_i>=Vi&&ei("invalid-input"),((Mi=(Pi=di.charCodeAt(_i++))-48<10?Pi-22:Pi-65<26?Pi-65:Pi-97<26?Pi-97:36)>=36||Mi>ri((Ze-Ti)/ki))&&ei("overflow"),Ti+=Mi*ki,!(Mi<(Di=vi<=Gi?1:vi>=Gi+26?26:vi-Gi));vi+=36)ki>ri(Ze/(Bi=36-Di))&&ei("overflow"),ki*=Bi;Gi=hi(Ti-Ai,pi=Fi.length+1,Ai==0),ri(Ti/pi)>Ze-ji&&ei("overflow"),ji+=ri(Ti/pi),Ti%=pi,Fi.splice(Ti++,0,ji)}return ai(Fi)}function mi(di){var pi,yi,gi,_i,Ai,ki,vi,Mi,Di,Bi,Pi,Fi,Vi,Ti,ji,Gi=[];for(Fi=(di=si(di)).length,pi=128,yi=0,Ai=72,ki=0;ki<Fi;++ki)(Pi=di[ki])<128&&Gi.push(ii(Pi));for(gi=_i=Gi.length,_i&&Gi.push("-");gi<Fi;){for(vi=Ze,ki=0;ki<Fi;++ki)(Pi=di[ki])>=pi&&Pi<vi&&(vi=Pi);for(vi-pi>ri((Ze-yi)/(Vi=gi+1))&&ei("overflow"),yi+=(vi-pi)*Vi,pi=vi,ki=0;ki<Fi;++ki)if((Pi=di[ki])<pi&&++yi>Ze&&ei("overflow"),Pi==pi){for(Mi=yi,Di=36;!(Mi<(Bi=Di<=Ai?1:Di>=Ai+26?26:Di-Ai));Di+=36)ji=Mi-Bi,Ti=36-Bi,Gi.push(ii(ui(Bi+ji%Ti,0))),Mi=ri(ji/Ti);Gi.push(ii(ui(Mi,0))),Ai=hi(yi,Vi,gi==_i),yi=0,++gi}++yi,++pi}return Gi.join("")}Ke={version:"1.4.1",ucs2:{decode:si,encode:ai},decode:ci,encode:mi,toASCII:function(di){return oi(di,function(pi){return Qe.test(pi)?"xn--"+mi(pi):pi})},toUnicode:function(di){return oi(di,function(pi){return Je.test(pi)?ci(pi.slice(4).toLowerCase()):pi})}},(Xe=(function(){return Ke}).call(r,Ve,r,je))===void 0||(je.exports=Xe)})()}).call(this,Ve(246)(t),Ve(78))},function(t,r){t.exports=function(Ve){return Ve.webpackPolyfill||(Ve.deprecate=function(){},Ve.paths=[],Ve.children||(Ve.children=[]),Object.defineProperty(Ve,"loaded",{enumerable:!0,get:function(){return Ve.l}}),Object.defineProperty(Ve,"id",{enumerable:!0,get:function(){return Ve.i}}),Ve.webpackPolyfill=1),Ve}},function(t,r,Ve){t.exports={isString:function(je){return typeof je=="string"},isObject:function(je){return typeof je=="object"&&je!==null},isNull:function(je){return je===null},isNullOrUndefined:function(je){return je==null}}},function(t,r,Ve){r.decode=r.parse=Ve(249),r.encode=r.stringify=Ve(250)},function(t,r,Ve){function je(Xe,We){return Object.prototype.hasOwnProperty.call(Xe,We)}t.exports=function(Xe,We,qe,Ke){We=We||"&",qe=qe||"=";var Ze={};if(typeof Xe!="string"||Xe.length===0)return Ze;var Je=/\+/g;Xe=Xe.split(We);var Qe=1e3;Ke&&typeof Ke.maxKeys=="number"&&(Qe=Ke.maxKeys);var ti=Xe.length;Qe>0&&ti>Qe&&(ti=Qe);for(var ni=0;ni<ti;++ni){var ri,ii,ei,St,oi=Xe[ni].replace(Je,"%20"),si=oi.indexOf(qe);si>=0?(ri=oi.substr(0,si),ii=oi.substr(si+1)):(ri=oi,ii=""),ei=decodeURIComponent(ri),St=decodeURIComponent(ii),je(Ze,ei)?ze(Ze[ei])?Ze[ei].push(St):Ze[ei]=[Ze[ei],St]:Ze[ei]=St}return Ze};var ze=Array.isArray||function(Xe){return Object.prototype.toString.call(Xe)==="[object Array]"}},function(t,r,Ve){var je=function(qe){switch(typeof qe){case"string":return qe;case"boolean":return qe?"true":"false";case"number":return isFinite(qe)?qe:"";default:return""}};t.exports=function(qe,Ke,Ze,Je){return Ke=Ke||"&",Ze=Ze||"=",qe===null&&(qe=void 0),typeof qe=="object"?Xe(We(qe),function(Qe){var ti=encodeURIComponent(je(Qe))+Ze;return ze(qe[Qe])?Xe(qe[Qe],function(ni){return ti+encodeURIComponent(je(ni))}).join(Ke):ti+encodeURIComponent(je(qe[Qe]))}).join(Ke):Je?encodeURIComponent(je(Je))+Ze+encodeURIComponent(je(qe)):""};var ze=Array.isArray||function(qe){return Object.prototype.toString.call(qe)==="[object Array]"};function Xe(qe,Ke){if(qe.map)return qe.map(Ke);for(var Ze=[],Je=0;Je<qe.length;Je++)Ze.push(Ke(qe[Je],Je));return Ze}var We=Object.keys||function(qe){var Ke=[];for(var Ze in qe)Object.prototype.hasOwnProperty.call(qe,Ze)&&Ke.push(Ze);return Ke}},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(52);r.attr_setAnExistingAttributeValue=function(ze,Xe){ze._element===null?ze._value=Xe:je.element_change(ze,ze._element,Xe)}},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(108),ze=Ve(30),Xe=Ve(52);r.tokenList_validationSteps=function(We,qe){if(!ze.dom_hasSupportedTokens(We._attribute._localName))throw new TypeError("There are no supported tokens defined for attribute name: '"+We._attribute._localName+"'.");return ze.dom_getSupportedTokens(We._attribute._localName).has(qe.toLowerCase())},r.tokenList_updateSteps=function(We){(We._element.hasAttribute(We._attribute._localName)||We._tokenSet.size!==0)&&Xe.element_setAnAttributeValue(We._element,We._attribute._localName,je.orderedSet_serialize(We._tokenSet))},r.tokenList_serializeSteps=function(We){return Xe.element_getAnAttributeValue(We._element,We._attribute._localName)}},function(t,r,Ve){var je=this&&this.__values||function(We){var qe=typeof Symbol=="function"&&Symbol.iterator,Ke=qe&&We[qe],Ze=0;if(Ke)return Ke.call(We);if(We&&typeof We.length=="number")return{next:function(){return We&&Ze>=We.length&&(We=void 0),{value:We&&We[Ze++],done:!We}}};throw new TypeError(qe?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var ze=Ve(2);function Xe(We){return ze.isBoolean(We)?We:We.capture||!1}r.eventTarget_flatten=Xe,r.eventTarget_flattenMore=function(We){var qe=Xe(We),Ke=!1,Ze=!1;return ze.isBoolean(We)||(Ke=We.once||!1,Ze=We.passive||!1),[qe,Ze,Ke]},r.eventTarget_addEventListener=function(We,qe){if(qe.callback!==null){for(var Ke=0;Ke<We._eventListenerList.length;Ke++){var Ze=We._eventListenerList[Ke];if(Ze.type===qe.type&&Ze.callback.handleEvent===qe.callback.handleEvent&&Ze.capture===qe.capture)return}We._eventListenerList.push(qe)}},r.eventTarget_removeEventListener=function(We,qe,Ke){qe.removed=!0,We._eventListenerList.splice(Ke,1)},r.eventTarget_removeAllEventListeners=function(We){var qe,Ke;try{for(var Ze=je(We._eventListenerList),Je=Ze.next();!Je.done;Je=Ze.next())Je.value.removed=!0}catch(Qe){qe={error:Qe}}finally{try{Je&&!Je.done&&(Ke=Ze.return)&&Ke.call(Ze)}finally{if(qe)throw qe.error}}We._eventListenerList.length=0}},function(t,r,Ve){var je=this&&this.__values||function(We){var qe=typeof Symbol=="function"&&Symbol.iterator,Ke=qe&&We[qe],Ze=0;if(Ke)return Ke.call(We);if(We&&typeof We.length=="number")return{next:function(){return We&&Ze>=We.length&&(We=void 0),{value:We&&We[Ze++],done:!We}}};throw new TypeError(qe?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var ze=Ve(2),Xe=Ve(29);r.parentNode_convertNodesIntoANode=function(We,qe){for(var Ke,Ze,Je=null,Qe=0;Qe<We.length;Qe++){var ti=We[Qe];if(ze.isString(ti)){var ni=Xe.create_text(qe,ti);We[Qe]=ni}}if(We.length===1)Je=We[0];else{var ri=Je=Xe.create_documentFragment(qe);try{for(var ii=je(We),ei=ii.next();!ei.done;ei=ii.next())ti=ei.value,ri.appendChild(ti)}catch(St){Ke={error:St}}finally{try{ei&&!ei.done&&(Ze=ii.return)&&Ze.call(ii)}finally{if(Ke)throw Ke.error}}}return Je}},function(t,r,Ve){var je=this&&this.__values||function(ui){var hi=typeof Symbol=="function"&&Symbol.iterator,ci=hi&&ui[hi],mi=0;if(ci)return ci.call(ui);if(ui&&typeof ui.length=="number")return{next:function(){return ui&&mi>=ui.length&&(ui=void 0),{value:ui&&ui[mi++],done:!ui}}};throw new TypeError(hi?"Object is not iterable.":"Symbol.iterator is not defined.")},ze=this&&this.__read||function(ui,hi){var ci=typeof Symbol=="function"&&ui[Symbol.iterator];if(!ci)return ui;var mi,di,pi=ci.call(ui),yi=[];try{for(;(hi===void 0||hi-- >0)&&!(mi=pi.next()).done;)yi.push(mi.value)}catch(gi){di={error:gi}}finally{try{mi&&!mi.done&&(ci=pi.return)&&ci.call(pi)}finally{if(di)throw di.error}}return yi},Xe=this&&this.__spread||function(){for(var ui=[],hi=0;hi<arguments.length;hi++)ui=ui.concat(ze(arguments[hi]));return ui};Object.defineProperty(r,"__esModule",{value:!0});var We=Ve(1),qe=Ve(9),Ke=Ve(3),Ze=Ve(29),Je=Ve(17),Qe=Ve(175),ti=Ve(107),ni=Ve(176),ri=Ve(37),ii=Ve(177);function ei(ui){return ui._startNode===ui._endNode&&ui._startOffset===ui._endOffset}function St(ui){return Je.tree_rootNode(ui._startNode)}function oi(ui,hi){return Je.tree_rootNode(ui)===St(hi)&&Qe.boundaryPoint_position([ui,0],hi._start)===We.BoundaryPosition.After&&Qe.boundaryPoint_position([ui,Je.tree_nodeLength(ui)],hi._end)===We.BoundaryPosition.Before}function si(ui,hi){var ci=Je.tree_isAncestorOf(hi._startNode,ui,!0),mi=Je.tree_isAncestorOf(hi._endNode,ui,!0);return ci&&!mi||!ci&&mi}function ai(ui){var hi,ci,mi,di,pi,yi,gi=Ze.create_documentFragment(ui._startNode._nodeDocument);if(ei(ui))return gi;var _i=ui._startNode,Ai=ui._startOffset,ki=ui._endNode,vi=ui._endOffset;if(_i===ki&&Ke.Guard.isCharacterDataNode(_i))return(bi=ni.node_clone(_i))._data=ti.characterData_substringData(_i,Ai,vi-Ai),ri.mutation_append(bi,gi),ti.characterData_replaceData(_i,Ai,vi-Ai,""),gi;for(var Mi=_i;!Je.tree_isAncestorOf(ki,Mi,!0);){if(Mi._parent===null)throw new Error("Parent node  is null.");Mi=Mi._parent}var Di=null;if(!Je.tree_isAncestorOf(ki,_i,!0))try{for(var Bi=je(Mi._children),Pi=Bi.next();!Pi.done;Pi=Bi.next())if(si(ji=Pi.value,ui)){Di=ji;break}}catch(Ki){hi={error:Ki}}finally{try{Pi&&!Pi.done&&(ci=Bi.return)&&ci.call(Bi)}finally{if(hi)throw hi.error}}var Fi=null;if(!Je.tree_isAncestorOf(_i,ki,!0))for(var Vi=Xe(Mi._children),Ti=Vi.length-1;Ti>0;Ti--){var ji;if(si(ji=Vi[Ti],ui)){Fi=ji;break}}var Gi,Yi,Xi=[];try{for(var xi=je(Mi._children),fi=xi.next();!fi.done;fi=xi.next())if(oi(zi=fi.value,ui)){if(Ke.Guard.isDocumentTypeNode(zi))throw new qe.HierarchyRequestError;Xi.push(zi)}}catch(Ki){mi={error:Ki}}finally{try{fi&&!fi.done&&(di=xi.return)&&di.call(xi)}finally{if(mi)throw mi.error}}if(Je.tree_isAncestorOf(ki,_i,!0))Gi=_i,Yi=Ai;else{for(var $i=_i;$i._parent!==null&&!Je.tree_isAncestorOf(ki,$i._parent);)$i=$i._parent;if($i._parent===null)throw new Error("Parent node is null.");Gi=$i._parent,Yi=1+Je.tree_index($i)}if(Ke.Guard.isCharacterDataNode(Di))(bi=ni.node_clone(_i))._data=ti.characterData_substringData(_i,Ai,Je.tree_nodeLength(_i)-Ai),ri.mutation_append(bi,gi),ti.characterData_replaceData(_i,Ai,Je.tree_nodeLength(_i)-Ai,"");else if(Di!==null){var bi=ni.node_clone(Di);ri.mutation_append(bi,gi);var Ci=ai(Ze.create_range([_i,Ai],[Di,Je.tree_nodeLength(Di)]));ri.mutation_append(Ci,bi)}try{for(var Ei=je(Xi),Si=Ei.next();!Si.done;Si=Ei.next()){var zi=Si.value;ri.mutation_append(zi,gi)}}catch(Ki){pi={error:Ki}}finally{try{Si&&!Si.done&&(yi=Ei.return)&&yi.call(Ei)}finally{if(pi)throw pi.error}}return Ke.Guard.isCharacterDataNode(Fi)?((bi=ni.node_clone(ki))._data=ti.characterData_substringData(ki,0,vi),ri.mutation_append(bi,gi),ti.characterData_replaceData(ki,0,vi,"")):Fi!==null&&(bi=ni.node_clone(Fi),ri.mutation_append(bi,gi),Ci=ai(Ze.create_range([Fi,0],[ki,vi])),ri.mutation_append(Ci,bi)),ui._start=[Gi,Yi],ui._end=[Gi,Yi],gi}r.range_collapsed=ei,r.range_root=St,r.range_isContained=oi,r.range_isPartiallyContained=si,r.range_setTheStart=function(ui,hi,ci){if(Ke.Guard.isDocumentTypeNode(hi))throw new qe.InvalidNodeTypeError;if(ci>Je.tree_nodeLength(hi))throw new qe.IndexSizeError;var mi=[hi,ci];St(ui)===Je.tree_rootNode(hi)&&Qe.boundaryPoint_position(mi,ui._end)!==We.BoundaryPosition.After||(ui._end=mi),ui._start=mi},r.range_setTheEnd=function(ui,hi,ci){if(Ke.Guard.isDocumentTypeNode(hi))throw new qe.InvalidNodeTypeError;if(ci>Je.tree_nodeLength(hi))throw new qe.IndexSizeError;var mi=[hi,ci];St(ui)===Je.tree_rootNode(hi)&&Qe.boundaryPoint_position(mi,ui._start)!==We.BoundaryPosition.Before||(ui._start=mi),ui._end=mi},r.range_select=function(ui,hi){var ci=ui._parent;if(ci===null)throw new qe.InvalidNodeTypeError;var mi=Je.tree_index(ui);hi._start=[ci,mi],hi._end=[ci,mi+1]},r.range_extract=ai,r.range_cloneTheContents=function ui(hi){var ci,mi,di,pi,yi,gi,_i=Ze.create_documentFragment(hi._startNode._nodeDocument);if(ei(hi))return _i;var Ai=hi._startNode,ki=hi._startOffset,vi=hi._endNode,Mi=hi._endOffset;Ai===vi&&Ke.Guard.isCharacterDataNode(Ai)&&((fi=ni.node_clone(Ai))._data=ti.characterData_substringData(Ai,ki,Mi-ki),ri.mutation_append(fi,_i));for(var Di=Ai;!Je.tree_isAncestorOf(vi,Di,!0);){if(Di._parent===null)throw new Error("Parent node  is null.");Di=Di._parent}var Bi=null;if(!Je.tree_isAncestorOf(vi,Ai,!0))try{for(var Pi=je(Di._children),Fi=Pi.next();!Fi.done;Fi=Pi.next())if(si(Gi=Fi.value,hi)){Bi=Gi;break}}catch(Si){ci={error:Si}}finally{try{Fi&&!Fi.done&&(mi=Pi.return)&&mi.call(Pi)}finally{if(ci)throw ci.error}}var Vi=null;if(!Je.tree_isAncestorOf(Ai,vi,!0))for(var Ti=Xe(Di._children),ji=Ti.length-1;ji>0;ji--){var Gi;if(si(Gi=Ti[ji],hi)){Vi=Gi;break}}var Yi=[];try{for(var Xi=je(Di._children),xi=Xi.next();!xi.done;xi=Xi.next())if(oi(Ei=xi.value,hi)){if(Ke.Guard.isDocumentTypeNode(Ei))throw new qe.HierarchyRequestError;Yi.push(Ei)}}catch(Si){di={error:Si}}finally{try{xi&&!xi.done&&(pi=Xi.return)&&pi.call(Xi)}finally{if(di)throw di.error}}if(Ke.Guard.isCharacterDataNode(Bi))(fi=ni.node_clone(Ai))._data=ti.characterData_substringData(Ai,ki,Je.tree_nodeLength(Ai)-ki),ri.mutation_append(fi,_i);else if(Bi!==null){var fi=ni.node_clone(Bi);ri.mutation_append(fi,_i);var $i=ui(Ze.create_range([Ai,ki],[Bi,Je.tree_nodeLength(Bi)]));ri.mutation_append($i,fi)}try{for(var bi=je(Yi),Ci=bi.next();!Ci.done;Ci=bi.next()){var Ei=Ci.value,fi=ni.node_clone(Ei);ri.mutation_append(fi,_i)}}catch(Si){yi={error:Si}}finally{try{Ci&&!Ci.done&&(gi=bi.return)&&gi.call(bi)}finally{if(yi)throw yi.error}}return Ke.Guard.isCharacterDataNode(Vi)?((fi=ni.node_clone(vi))._data=ti.characterData_substringData(vi,0,Mi),ri.mutation_append(fi,_i)):Vi!==null&&(fi=ni.node_clone(Vi),_i.append(fi),$i=ai(Ze.create_range([Vi,0],[vi,Mi])),ri.mutation_append($i,fi)),_i},r.range_insert=function(ui,hi){var ci,mi;if(Ke.Guard.isProcessingInstructionNode(hi._startNode)||Ke.Guard.isCommentNode(hi._startNode)||Ke.Guard.isTextNode(hi._startNode)&&hi._startNode._parent===null||hi._startNode===ui)throw new qe.HierarchyRequestError;var di,pi=null;if(Ke.Guard.isTextNode(hi._startNode))pi=hi._startNode;else{var yi=0;try{for(var gi=je(hi._startNode._children),_i=gi.next();!_i.done;_i=gi.next()){var Ai=_i.value;if(yi===hi._startOffset){pi=Ai;break}yi++}}catch(vi){ci={error:vi}}finally{try{_i&&!_i.done&&(mi=gi.return)&&mi.call(gi)}finally{if(ci)throw ci.error}}}if(pi===null)di=hi._startNode;else{if(pi._parent===null)throw new Error("Parent node is null.");di=pi._parent}ri.mutation_ensurePreInsertionValidity(ui,di,pi),Ke.Guard.isTextNode(hi._startNode)&&(pi=ii.text_split(hi._startNode,hi._startOffset)),ui===pi&&(pi=ui._nextSibling),ui._parent!==null&&ri.mutation_remove(ui,ui._parent);var ki=pi===null?Je.tree_nodeLength(di):Je.tree_index(pi);Ke.Guard.isDocumentFragmentNode(ui)?ki+=Je.tree_nodeLength(ui):ki++,ri.mutation_preInsert(ui,di,pi),ei(hi)&&(hi._end=[di,ki])},r.range_getContainedNodes=function(ui){var hi;return(hi={})[Symbol.iterator]=function(){var ci=ui.commonAncestorContainer,mi=Je.tree_getFirstDescendantNode(ci);return{next:function(){for(;mi&&!oi(mi,ui);)mi=Je.tree_getNextDescendantNode(ci,mi);if(mi===null)return{done:!0,value:null};var di={done:!1,value:mi};return mi=Je.tree_getNextDescendantNode(ci,mi),di}}},hi},r.range_getPartiallyContainedNodes=function(ui){var hi;return(hi={})[Symbol.iterator]=function(){var ci=ui.commonAncestorContainer,mi=Je.tree_getFirstDescendantNode(ci);return{next:function(){for(;mi&&!si(mi,ui);)mi=Je.tree_getNextDescendantNode(ci,mi);if(mi===null)return{done:!0,value:null};var di={done:!1,value:mi};return mi=Je.tree_getNextDescendantNode(ci,mi),di}}},hi}},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(9);r.selectors_scopeMatchASelectorsString=function(ze,Xe){throw new je.NotSupportedError}},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(1),ze=Ve(105);r.treeWalker_traverseChildren=function(Xe,We){for(var qe=We?Xe._current._firstChild:Xe._current._lastChild;qe!==null;){var Ke=ze.traversal_filter(Xe,qe);if(Ke===je.FilterResult.Accept)return Xe._current=qe,qe;if(Ke===je.FilterResult.Skip){var Ze=We?qe._firstChild:qe._lastChild;if(Ze!==null){qe=Ze;continue}}for(;qe!==null;){var Je=We?qe._nextSibling:qe._previousSibling;if(Je!==null){qe=Je;break}var Qe=qe._parent;if(Qe===null||Qe===Xe._root||Qe===Xe._current)return null;qe=Qe}}return null},r.treeWalker_traverseSiblings=function(Xe,We){var qe=Xe._current;if(qe===Xe._root)return null;for(;;){for(var Ke=We?qe._nextSibling:qe._previousSibling;Ke!==null;){qe=Ke;var Ze=ze.traversal_filter(Xe,qe);if(Ze===je.FilterResult.Accept)return Xe._current=qe,qe;Ke=We?qe._firstChild:qe._lastChild,Ze!==je.FilterResult.Reject&&Ke!==null||(Ke=We?qe._nextSibling:qe._previousSibling)}if((qe=qe._parent)===null||qe===Xe._root||ze.traversal_filter(Xe,qe)===je.FilterResult.Accept)return null}}},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0}),r.nonEntityAmpersandRegex=/&(?![A-Za-z]+;|#\d+;)/g},function(t,r,Ve){Ve(89),Ve(74);var je,ze=this&&this.__extends||(je=function(Je,Qe){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ti,ni){ti.__proto__=ni}||function(ti,ni){for(var ri in ni)ni.hasOwnProperty(ri)&&(ti[ri]=ni[ri])})(Je,Qe)},function(Je,Qe){function ti(){this.constructor=Je}je(Je,Qe),Je.prototype=Qe===null?Object.create(Qe):(ti.prototype=Qe.prototype,new ti)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(2),We=Ve(1),qe=Ve(50),Ke=Ve(3),Ze=function(Je){function Qe(ti,ni){var ri=Je.call(this,ti)||this;return ri._indentation={},ri._lengthToLastNewline=0,ri._writerOptions=Xe.applyDefaults(ni,{wellFormed:!1,headless:!1,prettyPrint:!1,indent:"  ",newline:`
`,offset:0,width:0,allowEmptyTags:!1,indentTextOnlyNodes:!1,spaceBeforeSlash:!1}),ri}return ze(Qe,Je),Qe.prototype.serialize=function(ti){return this._refs={suppressPretty:!1,emptyNode:!1,markup:""},ti.nodeType!==We.NodeType.Document||this._writerOptions.headless||this.declaration(this._builderOptions.version,this._builderOptions.encoding,this._builderOptions.standalone),this.serializeNode(ti,this._writerOptions.wellFormed),this._writerOptions.prettyPrint&&this._refs.markup.slice(-this._writerOptions.newline.length)===this._writerOptions.newline&&(this._refs.markup=this._refs.markup.slice(0,-this._writerOptions.newline.length)),this._refs.markup},Qe.prototype.declaration=function(ti,ni,ri){this._beginLine(),this._refs.markup+='<?xml version="'+ti+'"',ni!==void 0&&(this._refs.markup+=' encoding="'+ni+'"'),ri!==void 0&&(this._refs.markup+=' standalone="'+(ri?"yes":"no")+'"'),this._refs.markup+="?>",this._endLine()},Qe.prototype.docType=function(ti,ni,ri){this._beginLine(),this._refs.markup+=ni&&ri?"<!DOCTYPE "+ti+' PUBLIC "'+ni+'" "'+ri+'">':ni?"<!DOCTYPE "+ti+' PUBLIC "'+ni+'">':ri?"<!DOCTYPE "+ti+' SYSTEM "'+ri+'">':"<!DOCTYPE "+ti+">",this._endLine()},Qe.prototype.openTagBegin=function(ti){this._beginLine(),this._refs.markup+="<"+ti},Qe.prototype.openTagEnd=function(ti,ni,ri){if(this._refs.suppressPretty=!1,this._refs.emptyNode=!1,this._writerOptions.prettyPrint&&!ni&&!ri){for(var ii=!0,ei=!0,St=this.currentNode.firstChild,oi=0,si=0;St;){if(Ke.Guard.isExclusiveTextNode(St))si++;else{if(!Ke.Guard.isCDATASectionNode(St)){ii=!1,ei=!1;break}oi++}St.data!==""&&(ei=!1),St=St.nextSibling}this._refs.suppressPretty=!this._writerOptions.indentTextOnlyNodes&&ii&&(oi<=1&&si===0||oi===0),this._refs.emptyNode=ei}(ri||ni||this._refs.emptyNode)&&this._writerOptions.allowEmptyTags?this._refs.markup+="></"+ti+">":this._refs.markup+=ri?" />":ni||this._refs.emptyNode?this._writerOptions.spaceBeforeSlash?" />":"/>":">",this._endLine()},Qe.prototype.closeTag=function(ti){this._refs.emptyNode||(this._beginLine(),this._refs.markup+="</"+ti+">"),this._refs.suppressPretty=!1,this._refs.emptyNode=!1,this._endLine()},Qe.prototype.attribute=function(ti,ni){var ri=ti+'="'+ni+'"';this._writerOptions.prettyPrint&&this._writerOptions.width>0&&this._refs.markup.length-this._lengthToLastNewline+1+ri.length>this._writerOptions.width?(this._endLine(),this._beginLine(),this._refs.markup+=this._indent(1)+ri):this._refs.markup+=" "+ri},Qe.prototype.text=function(ti){ti!==""&&(this._beginLine(),this._refs.markup+=ti,this._endLine())},Qe.prototype.cdata=function(ti){ti!==""&&(this._beginLine(),this._refs.markup+="<![CDATA["+ti+"]]>",this._endLine())},Qe.prototype.comment=function(ti){this._beginLine(),this._refs.markup+="<!--"+ti+"-->",this._endLine()},Qe.prototype.instruction=function(ti,ni){this._beginLine(),this._refs.markup+="<?"+(ni===""?ti:ti+" "+ni)+"?>",this._endLine()},Qe.prototype._beginLine=function(){this._writerOptions.prettyPrint&&!this._refs.suppressPretty&&(this._refs.markup+=this._indent(this._writerOptions.offset+this.level))},Qe.prototype._endLine=function(){this._writerOptions.prettyPrint&&!this._refs.suppressPretty&&(this._refs.markup+=this._writerOptions.newline,this._lengthToLastNewline=this._refs.markup.length)},Qe.prototype._indent=function(ti){if(ti<=0)return"";if(this._indentation[ti]!==void 0)return this._indentation[ti];var ni=this._writerOptions.indent.repeat(ti);return this._indentation[ti]=ni,ni},Qe}(qe.BaseWriter);r.XMLWriter=Ze},function(t,r,Ve){var je=Ve(47),ze=Ve(35);t.exports="".repeat||function(Xe){var We=String(ze(this)),qe="",Ke=je(Xe);if(Ke<0||Ke==1/0)throw RangeError("Wrong number of repetitions");for(;Ke>0;(Ke>>>=1)&&(We+=We))1&Ke&&(qe+=We);return qe}},function(t,r,Ve){Ve(31),Ve(32),Ve(33),Ve(19),Ve(178),Ve(20),Ve(22),Ve(23);var je,ze=this&&this.__extends||(je=function(Ze,Je){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Qe,ti){Qe.__proto__=ti}||function(Qe,ti){for(var ni in ti)ti.hasOwnProperty(ni)&&(Qe[ni]=ti[ni])})(Ze,Je)},function(Ze,Je){function Qe(){this.constructor=Ze}je(Ze,Je),Ze.prototype=Je===null?Object.create(Je):(Qe.prototype=Je.prototype,new Qe)}),Xe=this&&this.__values||function(Ze){var Je=typeof Symbol=="function"&&Symbol.iterator,Qe=Je&&Ze[Je],ti=0;if(Qe)return Qe.call(Ze);if(Ze&&typeof Ze.length=="number")return{next:function(){return Ze&&ti>=Ze.length&&(Ze=void 0),{value:Ze&&Ze[ti++],done:!Ze}}};throw new TypeError(Je?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var We=Ve(67),qe=Ve(2),Ke=function(Ze){function Je(Qe,ti){var ni=Ze.call(this,Qe)||this;return ni._writerOptions=qe.applyDefaults(ti,{wellFormed:!1,prettyPrint:!1,indent:"  ",newline:`
`,offset:0,group:!1,verbose:!1}),ni}return ze(Je,Ze),Je.prototype.serialize=function(Qe){var ti=qe.applyDefaults(this._writerOptions,{format:"object",wellFormed:!1}),ni=new We.ObjectWriter(this._builderOptions,ti).serialize(Qe);return this._beginLine(this._writerOptions,0)+this._convertObject(ni,this._writerOptions)},Je.prototype._convertObject=function(Qe,ti,ni){var ri,ii,ei=this;ni===void 0&&(ni=0);var St="",oi=this._isLeafNode(Qe);if(qe.isArray(Qe)){St+="[";var si=Qe.length,ai=0;try{for(var ui=Xe(Qe),hi=ui.next();!hi.done;hi=ui.next()){var ci=hi.value;St+=this._endLine(ti,ni+1)+this._beginLine(ti,ni+1)+this._convertObject(ci,ti,ni+1),ai<si-1&&(St+=","),ai++}}catch(pi){ri={error:pi}}finally{try{hi&&!hi.done&&(ii=ui.return)&&ii.call(ui)}finally{if(ri)throw ri.error}}St+=this._endLine(ti,ni)+this._beginLine(ti,ni),St+="]"}else if(qe.isObject(Qe)){St+="{";var mi=qe.objectLength(Qe),di=0;qe.forEachObject(Qe,function(pi,yi){oi&&ti.prettyPrint?St+=" ":St+=ei._endLine(ti,ni+1)+ei._beginLine(ti,ni+1),St+=ei._key(pi),ti.prettyPrint&&(St+=" "),St+=ei._convertObject(yi,ti,ni+1),di<mi-1&&(St+=","),di++},this),oi&&ti.prettyPrint?St+=" ":St+=this._endLine(ti,ni)+this._beginLine(ti,ni),St+="}"}else St+=this._val(Qe);return St},Je.prototype._beginLine=function(Qe,ti){if(!Qe.prettyPrint)return"";var ni=Qe.offset+ti+1;return ni>0?new Array(ni).join(Qe.indent):""},Je.prototype._endLine=function(Qe,ti){return Qe.prettyPrint?Qe.newline:""},Je.prototype._key=function(Qe){return'"'+Qe+'":'},Je.prototype._val=function(Qe){return JSON.stringify(Qe)},Je.prototype._isLeafNode=function(Qe){return this._descendantCount(Qe)<=1},Je.prototype._descendantCount=function(Qe,ti){var ni=this;return ti===void 0&&(ti=0),qe.isArray(Qe)?qe.forEachArray(Qe,function(ri){return ti+=ni._descendantCount(ri,ti)},this):qe.isObject(Qe)?qe.forEachObject(Qe,function(ri,ii){return ti+=ni._descendantCount(ii,ti)},this):ti++,ti},Je}(Ve(50).BaseWriter);r.JSONWriter=Ke},function(t,r,Ve){Ve(31),Ve(32),Ve(33),Ve(19),Ve(178),Ve(89),Ve(20),Ve(22),Ve(23);var je,ze=this&&this.__extends||(je=function(Ze,Je){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Qe,ti){Qe.__proto__=ti}||function(Qe,ti){for(var ni in ti)ti.hasOwnProperty(ni)&&(Qe[ni]=ti[ni])})(Ze,Je)},function(Ze,Je){function Qe(){this.constructor=Ze}je(Ze,Je),Ze.prototype=Je===null?Object.create(Je):(Qe.prototype=Je.prototype,new Qe)}),Xe=this&&this.__values||function(Ze){var Je=typeof Symbol=="function"&&Symbol.iterator,Qe=Je&&Ze[Je],ti=0;if(Qe)return Qe.call(Ze);if(Ze&&typeof Ze.length=="number")return{next:function(){return Ze&&ti>=Ze.length&&(Ze=void 0),{value:Ze&&Ze[ti++],done:!Ze}}};throw new TypeError(Je?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var We=Ve(67),qe=Ve(2),Ke=function(Ze){function Je(Qe,ti){var ni=Ze.call(this,Qe)||this;if(ni._writerOptions=qe.applyDefaults(ti,{wellFormed:!1,indent:"  ",newline:`
`,offset:0,group:!1,verbose:!1}),ni._writerOptions.indent.length<2)throw new Error("YAML indententation string must be at least two characters long.");if(ni._writerOptions.offset<0)throw new Error("YAML offset should be zero or a positive number.");return ni}return ze(Je,Ze),Je.prototype.serialize=function(Qe){var ti=qe.applyDefaults(this._writerOptions,{format:"object",wellFormed:!1}),ni=new We.ObjectWriter(this._builderOptions,ti).serialize(Qe),ri=this._beginLine(this._writerOptions,0)+"---"+this._endLine(this._writerOptions)+this._convertObject(ni,this._writerOptions,0);return ri.slice(-this._writerOptions.newline.length)===this._writerOptions.newline&&(ri=ri.slice(0,-this._writerOptions.newline.length)),ri},Je.prototype._convertObject=function(Qe,ti,ni,ri){var ii,ei,St=this;ri===void 0&&(ri=!1);var oi="";if(qe.isArray(Qe))try{for(var si=Xe(Qe),ai=si.next();!ai.done;ai=si.next()){var ui=ai.value;oi+=this._beginLine(ti,ni,!0),qe.isObject(ui)?qe.isEmpty(ui)?oi+='""'+this._endLine(ti):oi+=this._convertObject(ui,ti,ni,!0):oi+=this._val(ui)+this._endLine(ti)}}catch(hi){ii={error:hi}}finally{try{ai&&!ai.done&&(ei=si.return)&&ei.call(si)}finally{if(ii)throw ii.error}}else qe.forEachObject(Qe,function(hi,ci){ri?(oi+=St._key(hi),ri=!1):oi+=St._beginLine(ti,ni)+St._key(hi),qe.isObject(ci)?qe.isEmpty(ci)?oi+=' ""'+St._endLine(ti):oi+=St._endLine(ti)+St._convertObject(ci,ti,ni+1):oi+=" "+St._val(ci)+St._endLine(ti)},this);return oi},Je.prototype._beginLine=function(Qe,ti,ni){ni===void 0&&(ni=!1);var ri=Qe.offset+ti+1,ii=new Array(ri).join(Qe.indent);return ni?ii.substr(0,ii.length-2)+"-"+ii.substr(-1,1):ii},Je.prototype._endLine=function(Qe){return Qe.newline},Je.prototype._key=function(Qe){return'"'+Qe+'":'},Je.prototype._val=function(Qe){return JSON.stringify(Qe)},Je}(Ve(50).BaseWriter);r.YAMLWriter=Ke},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0}),Ve(110).dom.setFeatures(!0);var je=Ve(110);r.DOMImplementation=je.DOMImplementation;var ze=Ve(272);r.DOMParser=ze.DOMParser;var Xe=Ve(275);r.XMLSerializer=Xe.XMLSerializer},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(3),ze=Ve(0),Xe=function(){function We(){}return We.prototype.before=function(){for(var qe=[],Ke=0;Ke<arguments.length;Ke++)qe[Ke]=arguments[Ke];var Ze=je.Cast.asNode(this),Je=Ze._parent;if(Je!==null){for(var Qe=Ze._previousSibling,ti=!0;ti&&Qe;){ti=!1;for(var ni=0;ni<qe.length;ni++){var ri=qe[ni];if(ri===Qe){Qe=Qe._previousSibling,ti=!0;break}}}var ii=ze.parentNode_convertNodesIntoANode(qe,Ze._nodeDocument);Qe=Qe===null?Je._firstChild:Qe._nextSibling,ze.mutation_preInsert(ii,Je,Qe)}},We.prototype.after=function(){for(var qe=[],Ke=0;Ke<arguments.length;Ke++)qe[Ke]=arguments[Ke];var Ze=je.Cast.asNode(this),Je=Ze._parent;if(Je){for(var Qe=Ze._nextSibling,ti=!0;ti&&Qe;){ti=!1;for(var ni=0;ni<qe.length;ni++){var ri=qe[ni];if(ri===Qe){Qe=Qe._nextSibling,ti=!0;break}}}var ii=ze.parentNode_convertNodesIntoANode(qe,Ze._nodeDocument);ze.mutation_preInsert(ii,Je,Qe)}},We.prototype.replaceWith=function(){for(var qe=[],Ke=0;Ke<arguments.length;Ke++)qe[Ke]=arguments[Ke];var Ze=je.Cast.asNode(this),Je=Ze._parent;if(Je){for(var Qe=Ze._nextSibling,ti=!0;ti&&Qe;){ti=!1;for(var ni=0;ni<qe.length;ni++){var ri=qe[ni];if(ri===Qe){Qe=Qe._nextSibling,ti=!0;break}}}var ii=ze.parentNode_convertNodesIntoANode(qe,Ze._nodeDocument);Ze._parent===Je?ze.mutation_replace(Ze,ii,Je):ze.mutation_preInsert(ii,Je,Qe)}},We.prototype.remove=function(){var qe=je.Cast.asNode(this),Ke=qe._parent;Ke&&ze.mutation_remove(qe,Ke)},We}();r.ChildNodeImpl=Xe},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=function(){};r.DocumentOrShadowRootImpl=je},function(t,r,Ve){var je=this&&this.__values||function(Ke){var Ze=typeof Symbol=="function"&&Symbol.iterator,Je=Ze&&Ke[Ze],Qe=0;if(Je)return Je.call(Ke);if(Ke&&typeof Ke.length=="number")return{next:function(){return Ke&&Qe>=Ke.length&&(Ke=void 0),{value:Ke&&Ke[Qe++],done:!Ke}}};throw new TypeError(Ze?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var ze=Ve(6),Xe=Ve(3),We=Ve(7),qe=function(){function Ke(Ze){this._nodeList=[],this._recordQueue=[],this._callback=Ze;var Je=ze.dom.window;We.set.append(Je._mutationObservers,this)}return Ke.prototype.observe=function(Ze,Je){var Qe,ti;if((Je=Je||{childList:!1,subtree:!1}).attributeOldValue===void 0&&Je.attributeFilter===void 0||Je.attributes!==void 0||(Je.attributes=!0),Je.characterDataOldValue!==void 0&&Je.characterData===void 0&&(Je.characterData=!0),!Je.childList&&!Je.attributes&&!Je.characterData)throw new TypeError;if(Je.attributeOldValue&&!Je.attributes)throw new TypeError;if(Je.attributeFilter!==void 0&&!Je.attributes)throw new TypeError;if(Je.characterDataOldValue&&!Je.characterData)throw new TypeError;var ni=!1,ri=Je,ii=function(si){var ai,ui;if(si.observer===ei){ni=!0;try{for(var hi=(ai=void 0,je(ei._nodeList)),ci=hi.next();!ci.done;ci=hi.next()){var mi=ci.value;We.list.remove(mi._registeredObserverList,function(di){return Xe.Guard.isTransientRegisteredObserver(di)&&di.source===si})}}catch(di){ai={error:di}}finally{try{ci&&!ci.done&&(ui=hi.return)&&ui.call(hi)}finally{if(ai)throw ai.error}}si.options=ri}},ei=this;try{for(var St=je(Ze._registeredObserverList),oi=St.next();!oi.done;oi=St.next())ii(oi.value)}catch(si){Qe={error:si}}finally{try{oi&&!oi.done&&(ti=St.return)&&ti.call(St)}finally{if(Qe)throw Qe.error}}ni||(Ze._registeredObserverList.push({observer:this,options:Je}),this._nodeList.push(Ze))},Ke.prototype.disconnect=function(){var Ze,Je,Qe=this;try{for(var ti=je(this._nodeList),ni=ti.next();!ni.done;ni=ti.next()){var ri=ni.value;We.list.remove(ri._registeredObserverList,function(ii){return ii.observer===Qe})}}catch(ii){Ze={error:ii}}finally{try{ni&&!ni.done&&(Je=ti.return)&&Je.call(ti)}finally{if(Ze)throw Ze.error}}this._recordQueue=[]},Ke.prototype.takeRecords=function(){var Ze=this._recordQueue;return this._recordQueue=[],Ze},Ke}();r.MutationObserverImpl=qe},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(3),ze=function(){function Xe(){}return Object.defineProperty(Xe.prototype,"previousElementSibling",{get:function(){for(var We=je.Cast.asNode(this)._previousSibling;We;){if(je.Guard.isElementNode(We))return We;We=We._previousSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(Xe.prototype,"nextElementSibling",{get:function(){for(var We=je.Cast.asNode(this)._nextSibling;We;){if(je.Guard.isElementNode(We))return We;We=We._nextSibling}return null},enumerable:!0,configurable:!0}),Xe}();r.NonDocumentTypeChildNodeImpl=ze},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(3),ze=Ve(0),Xe=function(){function We(){}return We.prototype.getElementById=function(qe){for(var Ke=ze.tree_getFirstDescendantNode(je.Cast.asNode(this),!1,!1,function(Ze){return je.Guard.isElementNode(Ze)});Ke!==null;){if(Ke._uniqueIdentifier===qe)return Ke;Ke=ze.tree_getNextDescendantNode(je.Cast.asNode(this),Ke,!1,!1,function(Ze){return je.Guard.isElementNode(Ze)})}return null},We}();r.NonElementParentNodeImpl=Xe},function(t,r,Ve){var je=this&&this.__values||function(qe){var Ke=typeof Symbol=="function"&&Symbol.iterator,Ze=Ke&&qe[Ke],Je=0;if(Ze)return Ze.call(qe);if(qe&&typeof qe.length=="number")return{next:function(){return qe&&Je>=qe.length&&(qe=void 0),{value:qe&&qe[Je++],done:!qe}}};throw new TypeError(Ke?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var ze=Ve(3),Xe=Ve(0),We=function(){function qe(){}return Object.defineProperty(qe.prototype,"children",{get:function(){return Xe.create_htmlCollection(ze.Cast.asNode(this))},enumerable:!0,configurable:!0}),Object.defineProperty(qe.prototype,"firstElementChild",{get:function(){for(var Ke=ze.Cast.asNode(this)._firstChild;Ke;){if(ze.Guard.isElementNode(Ke))return Ke;Ke=Ke._nextSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(qe.prototype,"lastElementChild",{get:function(){for(var Ke=ze.Cast.asNode(this)._lastChild;Ke;){if(ze.Guard.isElementNode(Ke))return Ke;Ke=Ke._previousSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(qe.prototype,"childElementCount",{get:function(){var Ke,Ze,Je=0;try{for(var Qe=je(ze.Cast.asNode(this)._children),ti=Qe.next();!ti.done;ti=Qe.next()){var ni=ti.value;ze.Guard.isElementNode(ni)&&Je++}}catch(ri){Ke={error:ri}}finally{try{ti&&!ti.done&&(Ze=Qe.return)&&Ze.call(Qe)}finally{if(Ke)throw Ke.error}}return Je},enumerable:!0,configurable:!0}),qe.prototype.prepend=function(){for(var Ke=[],Ze=0;Ze<arguments.length;Ze++)Ke[Ze]=arguments[Ze];var Je=ze.Cast.asNode(this),Qe=Xe.parentNode_convertNodesIntoANode(Ke,Je._nodeDocument);Xe.mutation_preInsert(Qe,Je,Je._firstChild)},qe.prototype.append=function(){for(var Ke=[],Ze=0;Ze<arguments.length;Ze++)Ke[Ze]=arguments[Ze];var Je=ze.Cast.asNode(this),Qe=Xe.parentNode_convertNodesIntoANode(Ke,Je._nodeDocument);Xe.mutation_append(Qe,Je)},qe.prototype.querySelector=function(Ke){var Ze=ze.Cast.asNode(this),Je=Xe.selectors_scopeMatchASelectorsString(Ke,Ze);return Je.length===0?null:Je[0]},qe.prototype.querySelectorAll=function(Ke){var Ze=ze.Cast.asNode(this),Je=Xe.selectors_scopeMatchASelectorsString(Ke,Ze);return Xe.create_nodeListStatic(Ze,Je)},qe}();r.ParentNodeImpl=We},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(0),ze=function(){function Xe(){}return Object.defineProperty(Xe.prototype,"_name",{get:function(){return this.__name||""},set:function(We){this.__name=We},enumerable:!0,configurable:!0}),Object.defineProperty(Xe.prototype,"_assignedSlot",{get:function(){return this.__assignedSlot||null},set:function(We){this.__assignedSlot=We},enumerable:!0,configurable:!0}),Object.defineProperty(Xe.prototype,"assignedSlot",{get:function(){return je.shadowTree_findASlot(this,!0)},enumerable:!0,configurable:!0}),Xe}();r.SlotableImpl=ze},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(Ze,Je){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Qe,ti){Qe.__proto__=ti}||function(Qe,ti){for(var ni in ti)ti.hasOwnProperty(ni)&&(Qe[ni]=ti[ni])})(Ze,Je)},function(Ze,Je){function Qe(){this.constructor=Ze}je(Ze,Je),Ze.prototype=Je===null?Object.create(Je):(Qe.prototype=Je.prototype,new Qe)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(102),We=Ve(9),qe=Ve(3),Ke=function(Ze){function Je(Qe){var ti=Ze.call(this)||this;if(qe.Guard.isDocumentTypeNode(Qe.startContainer)||qe.Guard.isAttrNode(Qe.startContainer)||qe.Guard.isDocumentTypeNode(Qe.endContainer)||qe.Guard.isAttrNode(Qe.endContainer))throw new We.InvalidNodeTypeError;return ti._start=[Qe.startContainer,Qe.startOffset],ti._end=[Qe.endContainer,Qe.endOffset],ti}return ze(Je,Ze),Je}(Xe.AbstractRangeImpl);r.StaticRangeImpl=Ke},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(273);r.DOMParser=je.DOMParserImpl},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(0),ze=Ve(274),Xe=function(){function We(){}return We.prototype.parseFromString=function(qe,Ke){if(Ke==="text/html")throw new Error("HTML parser not implemented.");try{return(Ze=new ze.XMLParserImpl().parse(qe))._contentType=Ke,Ze}catch(ni){var Ze,Je="http://www.mozilla.org/newlayout/xml/parsererror.xml",Qe=(Ze=je.create_xmlDocument()).createElementNS(Je,"parsererror"),ti=Ze.createElementNS(Je,"error");return ti.setAttribute("message",ni.message),Qe.appendChild(ti),Ze.appendChild(Qe),Ze}},We}();r.DOMParserImpl=Xe},function(t,r,Ve){var je=this&&this.__read||function(Qe,ti){var ni=typeof Symbol=="function"&&Qe[Symbol.iterator];if(!ni)return Qe;var ri,ii,ei=ni.call(Qe),St=[];try{for(;(ti===void 0||ti-- >0)&&!(ri=ei.next()).done;)St.push(ri.value)}catch(oi){ii={error:oi}}finally{try{ri&&!ri.done&&(ni=ei.return)&&ni.call(ei)}finally{if(ii)throw ii.error}}return St},ze=this&&this.__values||function(Qe){var ti=typeof Symbol=="function"&&Symbol.iterator,ni=ti&&Qe[ti],ri=0;if(ni)return ni.call(Qe);if(Qe&&typeof Qe.length=="number")return{next:function(){return Qe&&ri>=Qe.length&&(Qe=void 0),{value:Qe&&Qe[ri++],done:!Qe}}};throw new TypeError(ti?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(180),We=Ve(111),qe=Ve(7),Ke=Ve(0),Ze=Ve(69),Je=function(){function Qe(){}return Qe.prototype.parse=function(ti){for(var ni,ri,ii,ei,St=new Xe.XMLStringLexer(ti,{skipWhitespaceOnlyText:!0}),oi=Ke.create_document(),si=oi,ai=St.nextToken();ai.type!==We.TokenType.EOF;){switch(ai.type){case We.TokenType.Declaration:var ui=ai;if(ui.version!=="1.0")throw new Error("Invalid xml version: "+ui.version);break;case We.TokenType.DocType:var hi=ai;if(!Ke.xml_isPubidChar(hi.pubId))throw new Error("DocType public identifier does not match PubidChar construct.");if(!Ke.xml_isLegalChar(hi.sysId)||hi.sysId.indexOf('"')!==-1&&hi.sysId.indexOf("'")!==-1)throw new Error("DocType system identifier contains invalid characters.");si.appendChild(oi.implementation.createDocumentType(hi.name,hi.pubId,hi.sysId));break;case We.TokenType.CDATA:var ci=ai;if(!Ke.xml_isLegalChar(ci.data)||ci.data.indexOf("]]>")!==-1)throw new Error("CDATA contains invalid characters.");si.appendChild(oi.createCDATASection(ci.data));break;case We.TokenType.Comment:var mi=ai;if(!Ke.xml_isLegalChar(mi.data)||mi.data.indexOf("--")!==-1||mi.data.endsWith("-"))throw new Error("Comment data contains invalid characters.");si.appendChild(oi.createComment(mi.data));break;case We.TokenType.PI:var di=ai;if(di.target.indexOf(":")!==-1||/^xml$/i.test(di.target))throw new Error("Processing instruction target contains invalid characters.");if(!Ke.xml_isLegalChar(di.data)||di.data.indexOf("?>")!==-1)throw new Error("Processing instruction data contains invalid characters.");si.appendChild(oi.createProcessingInstruction(di.target,di.data));break;case We.TokenType.Text:var pi=ai;if(!Ke.xml_isLegalChar(pi.data))throw new Error("Text data contains invalid characters.");si.appendChild(oi.createTextNode(this._decodeText(pi.data)));break;case We.TokenType.Element:var yi=ai,gi=je(Ke.namespace_extractQName(yi.name),2),_i=gi[0],Ai=gi[1];if(Ai.indexOf(":")!==-1||!Ke.xml_isName(Ai))throw new Error("Node local name contains invalid characters.");if(_i==="xmlns")throw new Error("An element cannot have the 'xmlns' prefix.");var ki=si.lookupNamespaceURI(_i),vi={};try{for(var Mi=(ni=void 0,ze(yi.attributes)),Di=Mi.next();!Di.done;Di=Mi.next()){var Bi=je(Di.value,2),Pi=Bi[0],Fi=Bi[1];if(Pi==="xmlns")ki=Fi;else{var Vi=je(Ke.namespace_extractQName(Pi),2),Ti=Vi[0],ji=Vi[1];Ti==="xmlns"&&(ji===_i&&(ki=Fi),vi[ji]=Fi)}}}catch(Ci){ni={error:Ci}}finally{try{Di&&!Di.done&&(ri=Mi.return)&&ri.call(Mi)}finally{if(ni)throw ni.error}}var Gi=ki!==null?oi.createElementNS(ki,yi.name):oi.createElement(yi.name);si.appendChild(Gi);var Yi=new Ze.LocalNameSet;try{for(var Xi=(ii=void 0,ze(yi.attributes)),xi=Xi.next();!xi.done;xi=Xi.next()){var fi=je(xi.value,2),$i=(Pi=fi[0],Fi=fi[1],je(Ke.namespace_extractQName(Pi),2)),bi=(Ti=$i[0],ji=$i[1],null);if(Ti==="xmlns"||Ti===null&&ji==="xmlns"?bi=qe.namespace.XMLNS:(bi=Gi.lookupNamespaceURI(Ti))!==null&&Gi.isDefaultNamespace(bi)?bi=null:bi===null&&Ti!==null&&(bi=vi[Ti]||null),Yi.has(bi,ji))throw new Error("Element contains duplicate attributes.");if(Yi.set(bi,ji),bi===qe.namespace.XMLNS&&Fi===qe.namespace.XMLNS)throw new Error("XMLNS namespace is reserved.");if(ji.indexOf(":")!==-1||!Ke.xml_isName(ji))throw new Error("Attribute local name contains invalid characters.");if(Ti==="xmlns"&&Fi==="")throw new Error("Empty XML namespace is not allowed.");bi!==null?Gi.setAttributeNS(bi,Pi,this._decodeAttributeValue(Fi)):Gi.setAttribute(Pi,this._decodeAttributeValue(Fi))}}catch(Ci){ii={error:Ci}}finally{try{xi&&!xi.done&&(ei=Xi.return)&&ei.call(Xi)}finally{if(ii)throw ii.error}}yi.selfClosing||(si=Gi);break;case We.TokenType.ClosingTag:if(ai.name!==si.nodeName)throw new Error("Closing tag name does not match opening tag name.");si._parent&&(si=si._parent)}ai=St.nextToken()}return oi},Qe.prototype._decodeText=function(ti){return ti==null?ti:ti.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},Qe.prototype._decodeAttributeValue=function(ti){return ti==null?ti:ti.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},Qe}();r.XMLParserImpl=Je},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(276);r.XMLSerializer=je.XMLSerializerImpl},function(t,r,Ve){var je=this&&this.__values||function(Qe){var ti=typeof Symbol=="function"&&Symbol.iterator,ni=ti&&Qe[ti],ri=0;if(ni)return ni.call(Qe);if(Qe&&typeof Qe.length=="number")return{next:function(){return Qe&&ri>=Qe.length&&(Qe=void 0),{value:Qe&&Qe[ri++],done:!Qe}}};throw new TypeError(ti?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var ze=Ve(1),Xe=Ve(69),We=Ve(95),qe=Ve(9),Ke=Ve(7),Ze=Ve(0),Je=function(){function Qe(){}return Qe.prototype.serializeToString=function(ti){return this._xmlSerialization(ti,!1)},Qe.prototype._xmlSerialization=function(ti,ni){if(ti._nodeDocument===void 0||ti._nodeDocument._hasNamespaces){var ri=new We.NamespacePrefixMap;ri.set("xml",Ke.namespace.XML);try{return this._serializeNodeNS(ti,null,ri,{value:1},ni)}catch{throw new qe.InvalidStateError}}else try{return this._serializeNode(ti,ni)}catch{throw new qe.InvalidStateError}},Qe.prototype._serializeNodeNS=function(ti,ni,ri,ii,ei){switch(ti.nodeType){case ze.NodeType.Element:return this._serializeElementNS(ti,ni,ri,ii,ei);case ze.NodeType.Document:return this._serializeDocumentNS(ti,ni,ri,ii,ei);case ze.NodeType.Comment:return this._serializeComment(ti,ei);case ze.NodeType.Text:return this._serializeText(ti,ei);case ze.NodeType.DocumentFragment:return this._serializeDocumentFragmentNS(ti,ni,ri,ii,ei);case ze.NodeType.DocumentType:return this._serializeDocumentType(ti,ei);case ze.NodeType.ProcessingInstruction:return this._serializeProcessingInstruction(ti,ei);case ze.NodeType.CData:return this._serializeCData(ti,ei);default:throw new Error("Unknown node type: "+ti.nodeType)}},Qe.prototype._serializeNode=function(ti,ni){switch(ti.nodeType){case ze.NodeType.Element:return this._serializeElement(ti,ni);case ze.NodeType.Document:return this._serializeDocument(ti,ni);case ze.NodeType.Comment:return this._serializeComment(ti,ni);case ze.NodeType.Text:return this._serializeText(ti,ni);case ze.NodeType.DocumentFragment:return this._serializeDocumentFragment(ti,ni);case ze.NodeType.DocumentType:return this._serializeDocumentType(ti,ni);case ze.NodeType.ProcessingInstruction:return this._serializeProcessingInstruction(ti,ni);case ze.NodeType.CData:return this._serializeCData(ti,ni);default:throw new Error("Unknown node type: "+ti.nodeType)}},Qe.prototype._serializeElementNS=function(ti,ni,ri,ii,ei){var St,oi;if(ei&&(ti.localName.indexOf(":")!==-1||!Ze.xml_isName(ti.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var si="<",ai="",ui=!1,hi=!1,ci=ri.copy(),mi={},di=this._recordNamespaceInformation(ti,ci,mi),pi=ni,yi=ti.namespaceURI;if(pi===yi)di!==null&&(hi=!0),si+=ai=yi===Ke.namespace.XML?"xml:"+ti.localName:ti.localName;else{var gi=ti.prefix,_i=null;if(gi===null&&yi===di||(_i=ci.get(gi,yi)),gi==="xmlns"){if(ei)throw new Error("An element cannot have the 'xmlns' prefix (well-formed required).");_i=gi}_i!==null?(ai=_i+":"+ti.localName,di!==null&&di!==Ke.namespace.XML&&(pi=di||null),si+=ai):gi!==null?(gi in mi&&(gi=this._generatePrefix(yi,ci,ii)),ci.set(gi,yi),si+=ai+=gi+":"+ti.localName,si+=" xmlns:"+gi+'="'+this._serializeAttributeValue(yi,ei)+'"',di!==null&&(pi=di||null)):di===null||di!==null&&di!==yi?(hi=!0,pi=yi,si+=ai+=ti.localName,si+=' xmlns="'+this._serializeAttributeValue(yi,ei)+'"'):(pi=yi,si+=ai+=ti.localName)}si+=this._serializeAttributesNS(ti,ci,ii,mi,hi,ei);var Ai=yi===Ke.namespace.HTML;if(Ai&&ti.childNodes.length===0&&Qe._VoidElementNames.has(ti.localName)?(si+=" /",ui=!0):Ai||ti.childNodes.length!==0||(si+="/",ui=!0),si+=">",ui)return si;if(!(Ai&&ti.localName==="template"))try{for(var ki=je(ti._children||ti.childNodes),vi=ki.next();!vi.done;vi=ki.next()){var Mi=vi.value;si+=this._serializeNodeNS(Mi,pi,ci,ii,ei)}}catch(Di){St={error:Di}}finally{try{vi&&!vi.done&&(oi=ki.return)&&oi.call(ki)}finally{if(St)throw St.error}}return si+="</"+ai+">"},Qe.prototype._serializeDocumentNS=function(ti,ni,ri,ii,ei){var St,oi;if(ei&&ti.documentElement===null)throw new Error("Missing document element (well-formed required).");var si="";try{for(var ai=je(ti._children||ti.childNodes),ui=ai.next();!ui.done;ui=ai.next()){var hi=ui.value;si+=this._serializeNodeNS(hi,ni,ri,ii,ei)}}catch(ci){St={error:ci}}finally{try{ui&&!ui.done&&(oi=ai.return)&&oi.call(ai)}finally{if(St)throw St.error}}return si},Qe.prototype._serializeComment=function(ti,ni){if(ni&&(!Ze.xml_isLegalChar(ti.data)||ti.data.indexOf("--")!==-1||ti.data.endsWith("-")))throw new Error("Comment data contains invalid characters (well-formed required).");return"<!--"+ti.data+"-->"},Qe.prototype._serializeText=function(ti,ni){if(ni&&!Ze.xml_isLegalChar(ti.data))throw new Error("Text data contains invalid characters (well-formed required).");for(var ri="",ii=0;ii<ti.data.length;ii++){var ei=ti.data[ii];ri+=ei==="&"?"&amp;":ei==="<"?"&lt;":ei===">"?"&gt;":ei}return ri},Qe.prototype._serializeDocumentFragmentNS=function(ti,ni,ri,ii,ei){var St,oi,si="";try{for(var ai=je(ti._children||ti.childNodes),ui=ai.next();!ui.done;ui=ai.next()){var hi=ui.value;si+=this._serializeNodeNS(hi,ni,ri,ii,ei)}}catch(ci){St={error:ci}}finally{try{ui&&!ui.done&&(oi=ai.return)&&oi.call(ai)}finally{if(St)throw St.error}}return si},Qe.prototype._serializeDocumentType=function(ti,ni){if(ni&&!Ze.xml_isPubidChar(ti.publicId))throw new Error("DocType public identifier does not match PubidChar construct (well-formed required).");if(ni&&(!Ze.xml_isLegalChar(ti.systemId)||ti.systemId.indexOf('"')!==-1&&ti.systemId.indexOf("'")!==-1))throw new Error("DocType system identifier contains invalid characters (well-formed required).");return ti.publicId&&ti.systemId?"<!DOCTYPE "+ti.name+' PUBLIC "'+ti.publicId+'" "'+ti.systemId+'">':ti.publicId?"<!DOCTYPE "+ti.name+' PUBLIC "'+ti.publicId+'">':ti.systemId?"<!DOCTYPE "+ti.name+' SYSTEM "'+ti.systemId+'">':"<!DOCTYPE "+ti.name+">"},Qe.prototype._serializeProcessingInstruction=function(ti,ni){if(ni&&(ti.target.indexOf(":")!==-1||/^xml$/i.test(ti.target)))throw new Error("Processing instruction target contains invalid characters (well-formed required).");if(ni&&(!Ze.xml_isLegalChar(ti.data)||ti.data.indexOf("?>")!==-1))throw new Error("Processing instruction data contains invalid characters (well-formed required).");return"<?"+(ti.data===""?ti.target:ti.target+" "+ti.data)+"?>"},Qe.prototype._serializeCData=function(ti,ni){if(ni&&ti.data.indexOf("]]>")!==-1)throw new Error("CDATA contains invalid characters (well-formed required).");return"<![CDATA["+ti.data+"]]>"},Qe.prototype._serializeAttributesNS=function(ti,ni,ri,ii,ei,St){var oi,si,ai="",ui=St?new Xe.LocalNameSet:void 0;try{for(var hi=je(ti.attributes),ci=hi.next();!ci.done;ci=hi.next()){var mi=ci.value;if(ei||St||mi.namespaceURI!==null){if(St&&ui&&ui.has(mi.namespaceURI,mi.localName))throw new Error("Element contains duplicate attributes (well-formed required).");St&&ui&&ui.set(mi.namespaceURI,mi.localName);var di=mi.namespaceURI,pi=null;if(di!==null)if(pi=ni.get(mi.prefix,di),di===Ke.namespace.XMLNS){if(mi.value===Ke.namespace.XML||mi.prefix===null&&ei||mi.prefix!==null&&(!(mi.localName in ii)||ii[mi.localName]!==mi.value)&&ni.has(mi.localName,mi.value))continue;if(St&&mi.value===Ke.namespace.XMLNS)throw new Error("XMLNS namespace is reserved (well-formed required).");if(St&&mi.value==="")throw new Error("Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required).");mi.prefix==="xmlns"&&(pi="xmlns")}else pi===null&&(ai+=" xmlns:"+(pi=mi.prefix===null||ni.hasPrefix(mi.prefix)&&!ni.has(mi.prefix,di)?this._generatePrefix(di,ni,ri):mi.prefix)+'="'+this._serializeAttributeValue(di,St)+'"');if(ai+=" ",pi!==null&&(ai+=pi+":"),St&&(mi.localName.indexOf(":")!==-1||!Ze.xml_isName(mi.localName)||mi.localName==="xmlns"&&di===null))throw new Error("Attribute local name contains invalid characters (well-formed required).");ai+=mi.localName+'="'+this._serializeAttributeValue(mi.value,St)+'"'}else ai+=" "+mi.localName+'="'+this._serializeAttributeValue(mi.value,St)+'"'}}catch(yi){oi={error:yi}}finally{try{ci&&!ci.done&&(si=hi.return)&&si.call(hi)}finally{if(oi)throw oi.error}}return ai},Qe.prototype._recordNamespaceInformation=function(ti,ni,ri){var ii,ei,St=null;try{for(var oi=je(ti.attributes),si=oi.next();!si.done;si=oi.next()){var ai=si.value,ui=ai.namespaceURI,hi=ai.prefix;if(ui===Ke.namespace.XMLNS){if(hi===null){St=ai.value;continue}var ci=ai.localName,mi=ai.value;if(mi===Ke.namespace.XML||(mi===""&&(mi=null),ni.has(ci,mi)))continue;ni.set(ci,mi),ri[ci]=mi||""}}}catch(di){ii={error:di}}finally{try{si&&!si.done&&(ei=oi.return)&&ei.call(oi)}finally{if(ii)throw ii.error}}return St},Qe.prototype._generatePrefix=function(ti,ni,ri){var ii="ns"+ri.value;return ri.value++,ni.set(ii,ti),ii},Qe.prototype._serializeAttributeValue=function(ti,ni){if(ni&&ti!==null&&!Ze.xml_isLegalChar(ti))throw new Error("Invalid characters in attribute value.");if(ti===null)return"";for(var ri="",ii=0;ii<ti.length;ii++){var ei=ti[ii];ri+=ei==='"'?"&quot;":ei==="&"?"&amp;":ei==="<"?"&lt;":ei===">"?"&gt;":ei}return ri},Qe.prototype._serializeElement=function(ti,ni){var ri,ii;if(ni&&(ti.localName.indexOf(":")!==-1||!Ze.xml_isName(ti.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var ei=!1,St=ti.localName,oi="<"+St;if(oi+=this._serializeAttributes(ti,ni),ti._children.size===0&&(oi+="/",ei=!0),oi+=">",ei)return oi;try{for(var si=je(ti._children),ai=si.next();!ai.done;ai=si.next()){var ui=ai.value;oi+=this._serializeNode(ui,ni)}}catch(hi){ri={error:hi}}finally{try{ai&&!ai.done&&(ii=si.return)&&ii.call(si)}finally{if(ri)throw ri.error}}return oi+="</"+St+">"},Qe.prototype._serializeDocument=function(ti,ni){var ri,ii;if(ni&&ti.documentElement===null)throw new Error("Missing document element (well-formed required).");var ei="";try{for(var St=je(ti._children),oi=St.next();!oi.done;oi=St.next()){var si=oi.value;ei+=this._serializeNode(si,ni)}}catch(ai){ri={error:ai}}finally{try{oi&&!oi.done&&(ii=St.return)&&ii.call(St)}finally{if(ri)throw ri.error}}return ei},Qe.prototype._serializeDocumentFragment=function(ti,ni){var ri,ii,ei="";try{for(var St=je(ti._children),oi=St.next();!oi.done;oi=St.next()){var si=oi.value;ei+=this._serializeNode(si,ni)}}catch(ai){ri={error:ai}}finally{try{oi&&!oi.done&&(ii=St.return)&&ii.call(St)}finally{if(ri)throw ri.error}}return ei},Qe.prototype._serializeAttributes=function(ti,ni){var ri,ii,ei="",St=ni?{}:void 0;try{for(var oi=je(ti.attributes),si=oi.next();!si.done;si=oi.next()){var ai=si.value;if(ni&&St&&ai.localName in St)throw new Error("Element contains duplicate attributes (well-formed required).");if(ni&&St&&(St[ai.localName]=!0),ni&&(ai.localName.indexOf(":")!==-1||!Ze.xml_isName(ai.localName)))throw new Error("Attribute local name contains invalid characters (well-formed required).");ei+=" "+ai.localName+'="'+this._serializeAttributeValue(ai.value,ni)+'"'}}catch(ui){ri={error:ui}}finally{try{si&&!si.done&&(ii=oi.return)&&ii.call(oi)}finally{if(ri)throw ri.error}}return ei},Qe._VoidElementNames=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),Qe}();r.XMLSerializerImpl=Je},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(278);r.XMLReader=je.XMLReader;var ze=Ve(112);r.ObjectReader=ze.ObjectReader;var Xe=Ve(281);r.JSONReader=Xe.JSONReader;var We=Ve(282);r.YAMLReader=We.YAMLReader},function(t,r,Ve){Ve(31),Ve(32),Ve(33),Ve(19),Ve(65),Ve(20),Ve(22),Ve(23);var je,ze=this&&this.__extends||(je=function(ni,ri){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ii,ei){ii.__proto__=ei}||function(ii,ei){for(var St in ei)ei.hasOwnProperty(St)&&(ii[St]=ei[St])})(ni,ri)},function(ni,ri){function ii(){this.constructor=ni}je(ni,ri),ni.prototype=ri===null?Object.create(ri):(ii.prototype=ri.prototype,new ii)}),Xe=this&&this.__read||function(ni,ri){var ii=typeof Symbol=="function"&&ni[Symbol.iterator];if(!ii)return ni;var ei,St,oi=ii.call(ni),si=[];try{for(;(ri===void 0||ri-- >0)&&!(ei=oi.next()).done;)si.push(ei.value)}catch(ai){St={error:ai}}finally{try{ei&&!ei.done&&(ii=oi.return)&&ii.call(oi)}finally{if(St)throw St.error}}return si},We=this&&this.__values||function(ni){var ri=typeof Symbol=="function"&&Symbol.iterator,ii=ri&&ni[ri],ei=0;if(ii)return ii.call(ni);if(ni&&typeof ni.length=="number")return{next:function(){return ni&&ei>=ni.length&&(ni=void 0),{value:ni&&ni[ei++],done:!ni}}};throw new TypeError(ri?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var qe=Ve(180),Ke=Ve(111),Ze=Ve(1),Je=Ve(7),Qe=Ve(0),ti=function(ni){function ri(){return ni!==null&&ni.apply(this,arguments)||this}return ze(ri,ni),ri.prototype._parse=function(ii,ei){for(var St,oi,si,ai,ui=new qe.XMLStringLexer(ei,{skipWhitespaceOnlyText:this._builderOptions.skipWhitespaceOnlyText}),hi=ii,ci=ii,mi=ui.nextToken();mi.type!==Ke.TokenType.EOF;){switch(mi.type){case Ke.TokenType.Declaration:var di=mi,pi=this.sanitize(di.version);if(pi!=="1.0")throw new Error("Invalid xml version: "+pi);var yi={version:pi};di.encoding&&(yi.encoding=this.sanitize(di.encoding)),di.standalone&&(yi.standalone=this.sanitize(di.standalone)==="yes"),ci.set(yi);break;case Ke.TokenType.DocType:var gi=mi;ci=this.docType(ci,this.sanitize(gi.name),this.sanitize(gi.pubId),this.sanitize(gi.sysId))||ci;break;case Ke.TokenType.CDATA:var _i=mi;ci=this.cdata(ci,this.sanitize(_i.data))||ci;break;case Ke.TokenType.Comment:var Ai=mi;ci=this.comment(ci,this.sanitize(Ai.data))||ci;break;case Ke.TokenType.PI:var ki=mi;ci=this.instruction(ci,this.sanitize(ki.target),this.sanitize(ki.data))||ci;break;case Ke.TokenType.Text:if(ci.node.nodeType===Ze.NodeType.Document)break;var vi=mi;ci=this.text(ci,this._decodeText(this.sanitize(vi.data)))||ci;break;case Ke.TokenType.Element:var Mi=mi,Di=this.sanitize(Mi.name),Bi=Xe(Qe.namespace_extractQName(Di),1)[0],Pi=ci.node.lookupNamespaceURI(Bi),Fi={};try{for(var Vi=(St=void 0,We(Mi.attributes)),Ti=Vi.next();!Ti.done;Ti=Vi.next()){var ji=Xe(Ti.value,2),Gi=ji[0],Yi=ji[1];if(Gi=this.sanitize(Gi),Yi=this.sanitize(Yi),Gi==="xmlns")Pi=Yi;else{var Xi=Xe(Qe.namespace_extractQName(Gi),2),xi=Xi[0],fi=Xi[1];xi==="xmlns"&&(fi===Bi&&(Pi=Yi),Fi[fi]=Yi)}}}catch(Ki){St={error:Ki}}finally{try{Ti&&!Ti.done&&(oi=Vi.return)&&oi.call(Vi)}finally{if(St)throw St.error}}var $i=Pi!==null?this.element(ci,Pi,Di):this.element(ci,void 0,Di);if($i===void 0)break;ci.node===ii.node&&(hi=$i);try{for(var bi=(si=void 0,We(Mi.attributes)),Ci=bi.next();!Ci.done;Ci=bi.next()){var Ei=Xe(Ci.value,2);Gi=Ei[0],Yi=Ei[1],Gi=this.sanitize(Gi),Yi=this.sanitize(Yi);var Si=Xe(Qe.namespace_extractQName(Gi),2),zi=(xi=Si[0],fi=Si[1],null);xi==="xmlns"||xi===null&&fi==="xmlns"?zi=Je.namespace.XMLNS:(zi=$i.node.lookupNamespaceURI(xi))!==null&&$i.node.isDefaultNamespace(zi)?zi=null:zi===null&&xi!==null&&(zi=Fi[xi]||null),zi!==null?this.attribute($i,zi,Gi,this._decodeAttributeValue(Yi)):this.attribute($i,void 0,Gi,this._decodeAttributeValue(Yi))}}catch(Ki){si={error:Ki}}finally{try{Ci&&!Ci.done&&(ai=bi.return)&&ai.call(bi)}finally{if(si)throw si.error}}Mi.selfClosing||(ci=$i);break;case Ke.TokenType.ClosingTag:ci.node.parentNode&&(ci=ci.up())}mi=ui.nextToken()}return hi},ri}(Ve(75).BaseReader);r.XMLReader=ti},function(t,r,Ve){var je=Ve(4),ze=Ve(280);je({target:"Object",stat:!0,forced:Object.assign!==ze},{assign:ze})},function(t,r,Ve){var je=Ve(16),ze=Ve(8),Xe=Ve(61),We=Ve(85),qe=Ve(79),Ke=Ve(27),Ze=Ve(41),Je=Object.assign,Qe=Object.defineProperty;t.exports=!Je||ze(function(){if(je&&Je({b:1},Je(Qe({},"a",{enumerable:!0,get:function(){Qe(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var ti={},ni={},ri=Symbol();return ti[ri]=7,"abcdefghijklmnopqrst".split("").forEach(function(ii){ni[ii]=ii}),Je({},ti)[ri]!=7||Xe(Je({},ni)).join("")!="abcdefghijklmnopqrst"})?function(ti,ni){for(var ri=Ke(ti),ii=arguments.length,ei=1,St=We.f,oi=qe.f;ii>ei;)for(var si,ai=Ze(arguments[ei++]),ui=St?Xe(ai).concat(St(ai)):Xe(ai),hi=ui.length,ci=0;hi>ci;)si=ui[ci++],je&&!oi.call(ai,si)||(ri[si]=ai[si]);return ri}:Je},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(qe,Ke){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ze,Je){Ze.__proto__=Je}||function(Ze,Je){for(var Qe in Je)Je.hasOwnProperty(Qe)&&(Ze[Qe]=Je[Qe])})(qe,Ke)},function(qe,Ke){function Ze(){this.constructor=qe}je(qe,Ke),qe.prototype=Ke===null?Object.create(Ke):(Ze.prototype=Ke.prototype,new Ze)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(112),We=function(qe){function Ke(){return qe!==null&&qe.apply(this,arguments)||this}return ze(Ke,qe),Ke.prototype._parse=function(Ze,Je){return new Xe.ObjectReader(this._builderOptions).parse(Ze,JSON.parse(Je))},Ke}(Ve(75).BaseReader);r.JSONReader=We},function(t,r,Ve){var je,ze=this&&this.__extends||(je=function(Ze,Je){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Qe,ti){Qe.__proto__=ti}||function(Qe,ti){for(var ni in ti)ti.hasOwnProperty(ni)&&(Qe[ni]=ti[ni])})(Ze,Je)},function(Ze,Je){function Qe(){this.constructor=Ze}je(Ze,Je),Ze.prototype=Je===null?Object.create(Je):(Qe.prototype=Je.prototype,new Qe)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=Ve(112),We=Ve(75),qe=Ve(283),Ke=function(Ze){function Je(){return Ze!==null&&Ze.apply(this,arguments)||this}return ze(Je,Ze),Je.prototype._parse=function(Qe,ti){var ni=qe.safeLoad(ti);if(ni===void 0)throw new Error("Unable to parse YAML document.");return new Xe.ObjectReader(this._builderOptions).parse(Qe,ni)},Je}(We.BaseReader);r.YAMLReader=Ke},function(t,r,Ve){var je=Ve(284);t.exports=je},function(t,r,Ve){var je=Ve(285),ze=Ve(304);function Xe(We){return function(){throw new Error("Function "+We+" is deprecated and cannot be used.")}}t.exports.Type=Ve(10),t.exports.Schema=Ve(39),t.exports.FAILSAFE_SCHEMA=Ve(113),t.exports.JSON_SCHEMA=Ve(182),t.exports.CORE_SCHEMA=Ve(181),t.exports.DEFAULT_SAFE_SCHEMA=Ve(54),t.exports.DEFAULT_FULL_SCHEMA=Ve(76),t.exports.load=je.load,t.exports.loadAll=je.loadAll,t.exports.safeLoad=je.safeLoad,t.exports.safeLoadAll=je.safeLoadAll,t.exports.dump=ze.dump,t.exports.safeDump=ze.safeDump,t.exports.YAMLException=Ve(53),t.exports.MINIMAL_SCHEMA=Ve(113),t.exports.SAFE_SCHEMA=Ve(54),t.exports.DEFAULT_SCHEMA=Ve(76),t.exports.scan=Xe("scan"),t.exports.parse=Xe("parse"),t.exports.compose=Xe("compose"),t.exports.addConstructor=Xe("addConstructor")},function(t,r,Ve){var je=Ve(38),ze=Ve(53),Xe=Ve(286),We=Ve(54),qe=Ve(76),Ke=Object.prototype.hasOwnProperty,Ze=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Je=/[\x85\u2028\u2029]/,Qe=/[,\[\]\{\}]/,ti=/^(?:!|!!|![a-z\-]+!)$/i,ni=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function ri(fi){return Object.prototype.toString.call(fi)}function ii(fi){return fi===10||fi===13}function ei(fi){return fi===9||fi===32}function St(fi){return fi===9||fi===32||fi===10||fi===13}function oi(fi){return fi===44||fi===91||fi===93||fi===123||fi===125}function si(fi){var $i;return 48<=fi&&fi<=57?fi-48:97<=($i=32|fi)&&$i<=102?$i-97+10:-1}function ai(fi){return fi===48?"\0":fi===97?"\x07":fi===98?"\b":fi===116||fi===9?"	":fi===110?`
`:fi===118?"\v":fi===102?"\f":fi===114?"\r":fi===101?"\x1B":fi===32?" ":fi===34?'"':fi===47?"/":fi===92?"\\":fi===78?"":fi===95?"":fi===76?"\u2028":fi===80?"\u2029":""}function ui(fi){return fi<=65535?String.fromCharCode(fi):String.fromCharCode(55296+(fi-65536>>10),56320+(fi-65536&1023))}for(var hi=new Array(256),ci=new Array(256),mi=0;mi<256;mi++)hi[mi]=ai(mi)?1:0,ci[mi]=ai(mi);function di(fi,$i){this.input=fi,this.filename=$i.filename||null,this.schema=$i.schema||qe,this.onWarning=$i.onWarning||null,this.legacy=$i.legacy||!1,this.json=$i.json||!1,this.listener=$i.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=fi.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function pi(fi,$i){return new ze($i,new Xe(fi.filename,fi.input,fi.position,fi.line,fi.position-fi.lineStart))}function yi(fi,$i){throw pi(fi,$i)}function gi(fi,$i){fi.onWarning&&fi.onWarning.call(null,pi(fi,$i))}var _i={YAML:function(fi,$i,bi){var Ci,Ei,Si;fi.version!==null&&yi(fi,"duplication of %YAML directive"),bi.length!==1&&yi(fi,"YAML directive accepts exactly one argument"),(Ci=/^([0-9]+)\.([0-9]+)$/.exec(bi[0]))===null&&yi(fi,"ill-formed argument of the YAML directive"),Ei=parseInt(Ci[1],10),Si=parseInt(Ci[2],10),Ei!==1&&yi(fi,"unacceptable YAML version of the document"),fi.version=bi[0],fi.checkLineBreaks=Si<2,Si!==1&&Si!==2&&gi(fi,"unsupported YAML version of the document")},TAG:function(fi,$i,bi){var Ci,Ei;bi.length!==2&&yi(fi,"TAG directive accepts exactly two arguments"),Ci=bi[0],Ei=bi[1],ti.test(Ci)||yi(fi,"ill-formed tag handle (first argument) of the TAG directive"),Ke.call(fi.tagMap,Ci)&&yi(fi,'there is a previously declared suffix for "'+Ci+'" tag handle'),ni.test(Ei)||yi(fi,"ill-formed tag prefix (second argument) of the TAG directive"),fi.tagMap[Ci]=Ei}};function Ai(fi,$i,bi,Ci){var Ei,Si,zi,Ki;if($i<bi){if(Ki=fi.input.slice($i,bi),Ci)for(Ei=0,Si=Ki.length;Ei<Si;Ei+=1)(zi=Ki.charCodeAt(Ei))===9||32<=zi&&zi<=1114111||yi(fi,"expected valid JSON character");else Ze.test(Ki)&&yi(fi,"the stream contains non-printable characters");fi.result+=Ki}}function ki(fi,$i,bi,Ci){var Ei,Si,zi,Ki;for(je.isObject(bi)||yi(fi,"cannot merge mappings; the provided source object is unacceptable"),zi=0,Ki=(Ei=Object.keys(bi)).length;zi<Ki;zi+=1)Si=Ei[zi],Ke.call($i,Si)||($i[Si]=bi[Si],Ci[Si]=!0)}function vi(fi,$i,bi,Ci,Ei,Si,zi,Ki){var Ui,Ji;if(Array.isArray(Ei))for(Ui=0,Ji=(Ei=Array.prototype.slice.call(Ei)).length;Ui<Ji;Ui+=1)Array.isArray(Ei[Ui])&&yi(fi,"nested arrays are not supported inside keys"),typeof Ei=="object"&&ri(Ei[Ui])==="[object Object]"&&(Ei[Ui]="[object Object]");if(typeof Ei=="object"&&ri(Ei)==="[object Object]"&&(Ei="[object Object]"),Ei=String(Ei),$i===null&&($i={}),Ci==="tag:yaml.org,2002:merge")if(Array.isArray(Si))for(Ui=0,Ji=Si.length;Ui<Ji;Ui+=1)ki(fi,$i,Si[Ui],bi);else ki(fi,$i,Si,bi);else fi.json||Ke.call(bi,Ei)||!Ke.call($i,Ei)||(fi.line=zi||fi.line,fi.position=Ki||fi.position,yi(fi,"duplicated mapping key")),$i[Ei]=Si,delete bi[Ei];return $i}function Mi(fi){var $i;($i=fi.input.charCodeAt(fi.position))===10?fi.position++:$i===13?(fi.position++,fi.input.charCodeAt(fi.position)===10&&fi.position++):yi(fi,"a line break is expected"),fi.line+=1,fi.lineStart=fi.position}function Di(fi,$i,bi){for(var Ci=0,Ei=fi.input.charCodeAt(fi.position);Ei!==0;){for(;ei(Ei);)Ei=fi.input.charCodeAt(++fi.position);if($i&&Ei===35)do Ei=fi.input.charCodeAt(++fi.position);while(Ei!==10&&Ei!==13&&Ei!==0);if(!ii(Ei))break;for(Mi(fi),Ei=fi.input.charCodeAt(fi.position),Ci++,fi.lineIndent=0;Ei===32;)fi.lineIndent++,Ei=fi.input.charCodeAt(++fi.position)}return bi!==-1&&Ci!==0&&fi.lineIndent<bi&&gi(fi,"deficient indentation"),Ci}function Bi(fi){var $i,bi=fi.position;return!(($i=fi.input.charCodeAt(bi))!==45&&$i!==46||$i!==fi.input.charCodeAt(bi+1)||$i!==fi.input.charCodeAt(bi+2)||(bi+=3,($i=fi.input.charCodeAt(bi))!==0&&!St($i)))}function Pi(fi,$i){$i===1?fi.result+=" ":$i>1&&(fi.result+=je.repeat(`
`,$i-1))}function Fi(fi,$i){var bi,Ci,Ei=fi.tag,Si=fi.anchor,zi=[],Ki=!1;for(fi.anchor!==null&&(fi.anchorMap[fi.anchor]=zi),Ci=fi.input.charCodeAt(fi.position);Ci!==0&&Ci===45&&St(fi.input.charCodeAt(fi.position+1));)if(Ki=!0,fi.position++,Di(fi,!0,-1)&&fi.lineIndent<=$i)zi.push(null),Ci=fi.input.charCodeAt(fi.position);else if(bi=fi.line,ji(fi,$i,3,!1,!0),zi.push(fi.result),Di(fi,!0,-1),Ci=fi.input.charCodeAt(fi.position),(fi.line===bi||fi.lineIndent>$i)&&Ci!==0)yi(fi,"bad indentation of a sequence entry");else if(fi.lineIndent<$i)break;return!!Ki&&(fi.tag=Ei,fi.anchor=Si,fi.kind="sequence",fi.result=zi,!0)}function Vi(fi){var $i,bi,Ci,Ei,Si=!1,zi=!1;if((Ei=fi.input.charCodeAt(fi.position))!==33)return!1;if(fi.tag!==null&&yi(fi,"duplication of a tag property"),(Ei=fi.input.charCodeAt(++fi.position))===60?(Si=!0,Ei=fi.input.charCodeAt(++fi.position)):Ei===33?(zi=!0,bi="!!",Ei=fi.input.charCodeAt(++fi.position)):bi="!",$i=fi.position,Si){do Ei=fi.input.charCodeAt(++fi.position);while(Ei!==0&&Ei!==62);fi.position<fi.length?(Ci=fi.input.slice($i,fi.position),Ei=fi.input.charCodeAt(++fi.position)):yi(fi,"unexpected end of the stream within a verbatim tag")}else{for(;Ei!==0&&!St(Ei);)Ei===33&&(zi?yi(fi,"tag suffix cannot contain exclamation marks"):(bi=fi.input.slice($i-1,fi.position+1),ti.test(bi)||yi(fi,"named tag handle cannot contain such characters"),zi=!0,$i=fi.position+1)),Ei=fi.input.charCodeAt(++fi.position);Ci=fi.input.slice($i,fi.position),Qe.test(Ci)&&yi(fi,"tag suffix cannot contain flow indicator characters")}return Ci&&!ni.test(Ci)&&yi(fi,"tag name cannot contain such characters: "+Ci),Si?fi.tag=Ci:Ke.call(fi.tagMap,bi)?fi.tag=fi.tagMap[bi]+Ci:bi==="!"?fi.tag="!"+Ci:bi==="!!"?fi.tag="tag:yaml.org,2002:"+Ci:yi(fi,'undeclared tag handle "'+bi+'"'),!0}function Ti(fi){var $i,bi;if((bi=fi.input.charCodeAt(fi.position))!==38)return!1;for(fi.anchor!==null&&yi(fi,"duplication of an anchor property"),bi=fi.input.charCodeAt(++fi.position),$i=fi.position;bi!==0&&!St(bi)&&!oi(bi);)bi=fi.input.charCodeAt(++fi.position);return fi.position===$i&&yi(fi,"name of an anchor node must contain at least one character"),fi.anchor=fi.input.slice($i,fi.position),!0}function ji(fi,$i,bi,Ci,Ei){var Si,zi,Ki,Ui,Ji,gn,hn,un,Mn=1,sn=!1,vn=!1;if(fi.listener!==null&&fi.listener("open",fi),fi.tag=null,fi.anchor=null,fi.kind=null,fi.result=null,Si=zi=Ki=bi===4||bi===3,Ci&&Di(fi,!0,-1)&&(sn=!0,fi.lineIndent>$i?Mn=1:fi.lineIndent===$i?Mn=0:fi.lineIndent<$i&&(Mn=-1)),Mn===1)for(;Vi(fi)||Ti(fi);)Di(fi,!0,-1)?(sn=!0,Ki=Si,fi.lineIndent>$i?Mn=1:fi.lineIndent===$i?Mn=0:fi.lineIndent<$i&&(Mn=-1)):Ki=!1;if(Ki&&(Ki=sn||Ei),Mn!==1&&bi!==4||(hn=bi===1||bi===2?$i:$i+1,un=fi.position-fi.lineStart,Mn===1?Ki&&(Fi(fi,un)||function(Ni,Cn,cn){var fn,qi,an,yn,bn,Sn=Ni.tag,Fn=Ni.anchor,kn={},Nn={},Hn=null,Yn=null,tr=null,qn=!1,Jn=!1;for(Ni.anchor!==null&&(Ni.anchorMap[Ni.anchor]=kn),bn=Ni.input.charCodeAt(Ni.position);bn!==0;){if(fn=Ni.input.charCodeAt(Ni.position+1),an=Ni.line,yn=Ni.position,bn!==63&&bn!==58||!St(fn)){if(!ji(Ni,cn,2,!1,!0))break;if(Ni.line===an){for(bn=Ni.input.charCodeAt(Ni.position);ei(bn);)bn=Ni.input.charCodeAt(++Ni.position);if(bn===58)St(bn=Ni.input.charCodeAt(++Ni.position))||yi(Ni,"a whitespace character is expected after the key-value separator within a block mapping"),qn&&(vi(Ni,kn,Nn,Hn,Yn,null),Hn=Yn=tr=null),Jn=!0,qn=!1,qi=!1,Hn=Ni.tag,Yn=Ni.result;else{if(!Jn)return Ni.tag=Sn,Ni.anchor=Fn,!0;yi(Ni,"can not read an implicit mapping pair; a colon is missed")}}else{if(!Jn)return Ni.tag=Sn,Ni.anchor=Fn,!0;yi(Ni,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else bn===63?(qn&&(vi(Ni,kn,Nn,Hn,Yn,null),Hn=Yn=tr=null),Jn=!0,qn=!0,qi=!0):qn?(qn=!1,qi=!0):yi(Ni,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),Ni.position+=1,bn=fn;if((Ni.line===an||Ni.lineIndent>Cn)&&(ji(Ni,Cn,4,!0,qi)&&(qn?Yn=Ni.result:tr=Ni.result),qn||(vi(Ni,kn,Nn,Hn,Yn,tr,an,yn),Hn=Yn=tr=null),Di(Ni,!0,-1),bn=Ni.input.charCodeAt(Ni.position)),Ni.lineIndent>Cn&&bn!==0)yi(Ni,"bad indentation of a mapping entry");else if(Ni.lineIndent<Cn)break}return qn&&vi(Ni,kn,Nn,Hn,Yn,null),Jn&&(Ni.tag=Sn,Ni.anchor=Fn,Ni.kind="mapping",Ni.result=kn),Jn}(fi,un,hn))||function(Ni,Cn){var cn,fn,qi,an,yn,bn,Sn,Fn,kn,Nn,Hn=!0,Yn=Ni.tag,tr=Ni.anchor,qn={};if((Nn=Ni.input.charCodeAt(Ni.position))===91)qi=93,bn=!1,fn=[];else{if(Nn!==123)return!1;qi=125,bn=!0,fn={}}for(Ni.anchor!==null&&(Ni.anchorMap[Ni.anchor]=fn),Nn=Ni.input.charCodeAt(++Ni.position);Nn!==0;){if(Di(Ni,!0,Cn),(Nn=Ni.input.charCodeAt(Ni.position))===qi)return Ni.position++,Ni.tag=Yn,Ni.anchor=tr,Ni.kind=bn?"mapping":"sequence",Ni.result=fn,!0;Hn||yi(Ni,"missed comma between flow collection entries"),kn=null,an=yn=!1,Nn===63&&St(Ni.input.charCodeAt(Ni.position+1))&&(an=yn=!0,Ni.position++,Di(Ni,!0,Cn)),cn=Ni.line,ji(Ni,Cn,1,!1,!0),Fn=Ni.tag,Sn=Ni.result,Di(Ni,!0,Cn),Nn=Ni.input.charCodeAt(Ni.position),!yn&&Ni.line!==cn||Nn!==58||(an=!0,Nn=Ni.input.charCodeAt(++Ni.position),Di(Ni,!0,Cn),ji(Ni,Cn,1,!1,!0),kn=Ni.result),bn?vi(Ni,fn,qn,Fn,Sn,kn):an?fn.push(vi(Ni,null,qn,Fn,Sn,kn)):fn.push(Sn),Di(Ni,!0,Cn),(Nn=Ni.input.charCodeAt(Ni.position))===44?(Hn=!0,Nn=Ni.input.charCodeAt(++Ni.position)):Hn=!1}yi(Ni,"unexpected end of the stream within a flow collection")}(fi,hn)?vn=!0:(zi&&function(Ni,Cn){var cn,fn,qi,an,yn,bn=1,Sn=!1,Fn=!1,kn=Cn,Nn=0,Hn=!1;if((an=Ni.input.charCodeAt(Ni.position))===124)fn=!1;else{if(an!==62)return!1;fn=!0}for(Ni.kind="scalar",Ni.result="";an!==0;)if((an=Ni.input.charCodeAt(++Ni.position))===43||an===45)bn===1?bn=an===43?3:2:yi(Ni,"repeat of a chomping mode identifier");else{if(!((qi=48<=(yn=an)&&yn<=57?yn-48:-1)>=0))break;qi===0?yi(Ni,"bad explicit indentation width of a block scalar; it cannot be less than one"):Fn?yi(Ni,"repeat of an indentation width identifier"):(kn=Cn+qi-1,Fn=!0)}if(ei(an)){do an=Ni.input.charCodeAt(++Ni.position);while(ei(an));if(an===35)do an=Ni.input.charCodeAt(++Ni.position);while(!ii(an)&&an!==0)}for(;an!==0;){for(Mi(Ni),Ni.lineIndent=0,an=Ni.input.charCodeAt(Ni.position);(!Fn||Ni.lineIndent<kn)&&an===32;)Ni.lineIndent++,an=Ni.input.charCodeAt(++Ni.position);if(!Fn&&Ni.lineIndent>kn&&(kn=Ni.lineIndent),ii(an))Nn++;else{if(Ni.lineIndent<kn){bn===3?Ni.result+=je.repeat(`
`,Sn?1+Nn:Nn):bn===1&&Sn&&(Ni.result+=`
`);break}for(fn?ei(an)?(Hn=!0,Ni.result+=je.repeat(`
`,Sn?1+Nn:Nn)):Hn?(Hn=!1,Ni.result+=je.repeat(`
`,Nn+1)):Nn===0?Sn&&(Ni.result+=" "):Ni.result+=je.repeat(`
`,Nn):Ni.result+=je.repeat(`
`,Sn?1+Nn:Nn),Sn=!0,Fn=!0,Nn=0,cn=Ni.position;!ii(an)&&an!==0;)an=Ni.input.charCodeAt(++Ni.position);Ai(Ni,cn,Ni.position,!1)}}return!0}(fi,hn)||function(Ni,Cn){var cn,fn,qi;if((cn=Ni.input.charCodeAt(Ni.position))!==39)return!1;for(Ni.kind="scalar",Ni.result="",Ni.position++,fn=qi=Ni.position;(cn=Ni.input.charCodeAt(Ni.position))!==0;)if(cn===39){if(Ai(Ni,fn,Ni.position,!0),(cn=Ni.input.charCodeAt(++Ni.position))!==39)return!0;fn=Ni.position,Ni.position++,qi=Ni.position}else ii(cn)?(Ai(Ni,fn,qi,!0),Pi(Ni,Di(Ni,!1,Cn)),fn=qi=Ni.position):Ni.position===Ni.lineStart&&Bi(Ni)?yi(Ni,"unexpected end of the document within a single quoted scalar"):(Ni.position++,qi=Ni.position);yi(Ni,"unexpected end of the stream within a single quoted scalar")}(fi,hn)||function(Ni,Cn){var cn,fn,qi,an,yn,bn,Sn;if((bn=Ni.input.charCodeAt(Ni.position))!==34)return!1;for(Ni.kind="scalar",Ni.result="",Ni.position++,cn=fn=Ni.position;(bn=Ni.input.charCodeAt(Ni.position))!==0;){if(bn===34)return Ai(Ni,cn,Ni.position,!0),Ni.position++,!0;if(bn===92){if(Ai(Ni,cn,Ni.position,!0),ii(bn=Ni.input.charCodeAt(++Ni.position)))Di(Ni,!1,Cn);else if(bn<256&&hi[bn])Ni.result+=ci[bn],Ni.position++;else if((yn=(Sn=bn)===120?2:Sn===117?4:Sn===85?8:0)>0){for(qi=yn,an=0;qi>0;qi--)(yn=si(bn=Ni.input.charCodeAt(++Ni.position)))>=0?an=(an<<4)+yn:yi(Ni,"expected hexadecimal character");Ni.result+=ui(an),Ni.position++}else yi(Ni,"unknown escape sequence");cn=fn=Ni.position}else ii(bn)?(Ai(Ni,cn,fn,!0),Pi(Ni,Di(Ni,!1,Cn)),cn=fn=Ni.position):Ni.position===Ni.lineStart&&Bi(Ni)?yi(Ni,"unexpected end of the document within a double quoted scalar"):(Ni.position++,fn=Ni.position)}yi(Ni,"unexpected end of the stream within a double quoted scalar")}(fi,hn)?vn=!0:function(Ni){var Cn,cn,fn;if((fn=Ni.input.charCodeAt(Ni.position))!==42)return!1;for(fn=Ni.input.charCodeAt(++Ni.position),Cn=Ni.position;fn!==0&&!St(fn)&&!oi(fn);)fn=Ni.input.charCodeAt(++Ni.position);return Ni.position===Cn&&yi(Ni,"name of an alias node must contain at least one character"),cn=Ni.input.slice(Cn,Ni.position),Ke.call(Ni.anchorMap,cn)||yi(Ni,'unidentified alias "'+cn+'"'),Ni.result=Ni.anchorMap[cn],Di(Ni,!0,-1),!0}(fi)?(vn=!0,fi.tag===null&&fi.anchor===null||yi(fi,"alias node should not have any properties")):function(Ni,Cn,cn){var fn,qi,an,yn,bn,Sn,Fn,kn,Nn=Ni.kind,Hn=Ni.result;if(St(kn=Ni.input.charCodeAt(Ni.position))||oi(kn)||kn===35||kn===38||kn===42||kn===33||kn===124||kn===62||kn===39||kn===34||kn===37||kn===64||kn===96||(kn===63||kn===45)&&(St(fn=Ni.input.charCodeAt(Ni.position+1))||cn&&oi(fn)))return!1;for(Ni.kind="scalar",Ni.result="",qi=an=Ni.position,yn=!1;kn!==0;){if(kn===58){if(St(fn=Ni.input.charCodeAt(Ni.position+1))||cn&&oi(fn))break}else if(kn===35){if(St(Ni.input.charCodeAt(Ni.position-1)))break}else{if(Ni.position===Ni.lineStart&&Bi(Ni)||cn&&oi(kn))break;if(ii(kn)){if(bn=Ni.line,Sn=Ni.lineStart,Fn=Ni.lineIndent,Di(Ni,!1,-1),Ni.lineIndent>=Cn){yn=!0,kn=Ni.input.charCodeAt(Ni.position);continue}Ni.position=an,Ni.line=bn,Ni.lineStart=Sn,Ni.lineIndent=Fn;break}}yn&&(Ai(Ni,qi,an,!1),Pi(Ni,Ni.line-bn),qi=an=Ni.position,yn=!1),ei(kn)||(an=Ni.position+1),kn=Ni.input.charCodeAt(++Ni.position)}return Ai(Ni,qi,an,!1),!!Ni.result||(Ni.kind=Nn,Ni.result=Hn,!1)}(fi,hn,bi===1)&&(vn=!0,fi.tag===null&&(fi.tag="?")),fi.anchor!==null&&(fi.anchorMap[fi.anchor]=fi.result)):Mn===0&&(vn=Ki&&Fi(fi,un))),fi.tag!==null&&fi.tag!=="!")if(fi.tag==="?"){for(fi.result!==null&&fi.kind!=="scalar"&&yi(fi,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+fi.kind+'"'),Ui=0,Ji=fi.implicitTypes.length;Ui<Ji;Ui+=1)if((gn=fi.implicitTypes[Ui]).resolve(fi.result)){fi.result=gn.construct(fi.result),fi.tag=gn.tag,fi.anchor!==null&&(fi.anchorMap[fi.anchor]=fi.result);break}}else Ke.call(fi.typeMap[fi.kind||"fallback"],fi.tag)?(gn=fi.typeMap[fi.kind||"fallback"][fi.tag],fi.result!==null&&gn.kind!==fi.kind&&yi(fi,"unacceptable node kind for !<"+fi.tag+'> tag; it should be "'+gn.kind+'", not "'+fi.kind+'"'),gn.resolve(fi.result)?(fi.result=gn.construct(fi.result),fi.anchor!==null&&(fi.anchorMap[fi.anchor]=fi.result)):yi(fi,"cannot resolve a node with !<"+fi.tag+"> explicit tag")):yi(fi,"unknown tag !<"+fi.tag+">");return fi.listener!==null&&fi.listener("close",fi),fi.tag!==null||fi.anchor!==null||vn}function Gi(fi){var $i,bi,Ci,Ei,Si=fi.position,zi=!1;for(fi.version=null,fi.checkLineBreaks=fi.legacy,fi.tagMap={},fi.anchorMap={};(Ei=fi.input.charCodeAt(fi.position))!==0&&(Di(fi,!0,-1),Ei=fi.input.charCodeAt(fi.position),!(fi.lineIndent>0||Ei!==37));){for(zi=!0,Ei=fi.input.charCodeAt(++fi.position),$i=fi.position;Ei!==0&&!St(Ei);)Ei=fi.input.charCodeAt(++fi.position);for(Ci=[],(bi=fi.input.slice($i,fi.position)).length<1&&yi(fi,"directive name must not be less than one character in length");Ei!==0;){for(;ei(Ei);)Ei=fi.input.charCodeAt(++fi.position);if(Ei===35){do Ei=fi.input.charCodeAt(++fi.position);while(Ei!==0&&!ii(Ei));break}if(ii(Ei))break;for($i=fi.position;Ei!==0&&!St(Ei);)Ei=fi.input.charCodeAt(++fi.position);Ci.push(fi.input.slice($i,fi.position))}Ei!==0&&Mi(fi),Ke.call(_i,bi)?_i[bi](fi,bi,Ci):gi(fi,'unknown document directive "'+bi+'"')}Di(fi,!0,-1),fi.lineIndent===0&&fi.input.charCodeAt(fi.position)===45&&fi.input.charCodeAt(fi.position+1)===45&&fi.input.charCodeAt(fi.position+2)===45?(fi.position+=3,Di(fi,!0,-1)):zi&&yi(fi,"directives end mark is expected"),ji(fi,fi.lineIndent-1,4,!1,!0),Di(fi,!0,-1),fi.checkLineBreaks&&Je.test(fi.input.slice(Si,fi.position))&&gi(fi,"non-ASCII line breaks are interpreted as content"),fi.documents.push(fi.result),fi.position===fi.lineStart&&Bi(fi)?fi.input.charCodeAt(fi.position)===46&&(fi.position+=3,Di(fi,!0,-1)):fi.position<fi.length-1&&yi(fi,"end of the stream or a document separator is expected")}function Yi(fi,$i){$i=$i||{},(fi=String(fi)).length!==0&&(fi.charCodeAt(fi.length-1)!==10&&fi.charCodeAt(fi.length-1)!==13&&(fi+=`
`),fi.charCodeAt(0)===65279&&(fi=fi.slice(1)));var bi=new di(fi,$i),Ci=fi.indexOf("\0");for(Ci!==-1&&(bi.position=Ci,yi(bi,"null byte is not allowed in input")),bi.input+="\0";bi.input.charCodeAt(bi.position)===32;)bi.lineIndent+=1,bi.position+=1;for(;bi.position<bi.length-1;)Gi(bi);return bi.documents}function Xi(fi,$i,bi){$i!==null&&typeof $i=="object"&&bi===void 0&&(bi=$i,$i=null);var Ci=Yi(fi,bi);if(typeof $i!="function")return Ci;for(var Ei=0,Si=Ci.length;Ei<Si;Ei+=1)$i(Ci[Ei])}function xi(fi,$i){var bi=Yi(fi,$i);if(bi.length!==0){if(bi.length===1)return bi[0];throw new ze("expected a single document in the stream, but found more")}}t.exports.loadAll=Xi,t.exports.load=xi,t.exports.safeLoadAll=function(fi,$i,bi){return typeof $i=="object"&&$i!==null&&bi===void 0&&(bi=$i,$i=null),Xi(fi,$i,je.extend({schema:We},bi))},t.exports.safeLoad=function(fi,$i){return xi(fi,je.extend({schema:We},$i))}},function(t,r,Ve){var je=Ve(38);function ze(Xe,We,qe,Ke,Ze){this.name=Xe,this.buffer=We,this.position=qe,this.line=Ke,this.column=Ze}ze.prototype.getSnippet=function(Xe,We){var qe,Ke,Ze,Je,Qe;if(!this.buffer)return null;for(Xe=Xe||4,We=We||75,qe="",Ke=this.position;Ke>0&&`\0\r
\u2028\u2029`.indexOf(this.buffer.charAt(Ke-1))===-1;)if(Ke-=1,this.position-Ke>We/2-1){qe=" ... ",Ke+=5;break}for(Ze="",Je=this.position;Je<this.buffer.length&&`\0\r
\u2028\u2029`.indexOf(this.buffer.charAt(Je))===-1;)if((Je+=1)-this.position>We/2-1){Ze=" ... ",Je-=5;break}return Qe=this.buffer.slice(Ke,Je),je.repeat(" ",Xe)+qe+Qe+Ze+`
`+je.repeat(" ",Xe+this.position-Ke+qe.length)+"^"},ze.prototype.toString=function(Xe){var We,qe="";return this.name&&(qe+='in "'+this.name+'" '),qe+="at line "+(this.line+1)+", column "+(this.column+1),Xe||(We=this.getSnippet())&&(qe+=`:
`+We),qe},t.exports=ze},function(t,r,Ve){var je=Ve(10);t.exports=new je("tag:yaml.org,2002:str",{kind:"scalar",construct:function(ze){return ze!==null?ze:""}})},function(t,r,Ve){var je=Ve(10);t.exports=new je("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(ze){return ze!==null?ze:[]}})},function(t,r,Ve){var je=Ve(10);t.exports=new je("tag:yaml.org,2002:map",{kind:"mapping",construct:function(ze){return ze!==null?ze:{}}})},function(t,r,Ve){var je=Ve(10);t.exports=new je("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(ze){if(ze===null)return!0;var Xe=ze.length;return Xe===1&&ze==="~"||Xe===4&&(ze==="null"||ze==="Null"||ze==="NULL")},construct:function(){return null},predicate:function(ze){return ze===null},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},function(t,r,Ve){var je=Ve(10);t.exports=new je("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(ze){if(ze===null)return!1;var Xe=ze.length;return Xe===4&&(ze==="true"||ze==="True"||ze==="TRUE")||Xe===5&&(ze==="false"||ze==="False"||ze==="FALSE")},construct:function(ze){return ze==="true"||ze==="True"||ze==="TRUE"},predicate:function(ze){return Object.prototype.toString.call(ze)==="[object Boolean]"},represent:{lowercase:function(ze){return ze?"true":"false"},uppercase:function(ze){return ze?"TRUE":"FALSE"},camelcase:function(ze){return ze?"True":"False"}},defaultStyle:"lowercase"})},function(t,r,Ve){var je=Ve(38),ze=Ve(10);function Xe(qe){return 48<=qe&&qe<=55}function We(qe){return 48<=qe&&qe<=57}t.exports=new ze("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(qe){if(qe===null)return!1;var Ke,Ze,Je=qe.length,Qe=0,ti=!1;if(!Je)return!1;if((Ke=qe[Qe])!=="-"&&Ke!=="+"||(Ke=qe[++Qe]),Ke==="0"){if(Qe+1===Je)return!0;if((Ke=qe[++Qe])==="b"){for(Qe++;Qe<Je;Qe++)if((Ke=qe[Qe])!=="_"){if(Ke!=="0"&&Ke!=="1")return!1;ti=!0}return ti&&Ke!=="_"}if(Ke==="x"){for(Qe++;Qe<Je;Qe++)if((Ke=qe[Qe])!=="_"){if(!(48<=(Ze=qe.charCodeAt(Qe))&&Ze<=57||65<=Ze&&Ze<=70||97<=Ze&&Ze<=102))return!1;ti=!0}return ti&&Ke!=="_"}for(;Qe<Je;Qe++)if((Ke=qe[Qe])!=="_"){if(!Xe(qe.charCodeAt(Qe)))return!1;ti=!0}return ti&&Ke!=="_"}if(Ke==="_")return!1;for(;Qe<Je;Qe++)if((Ke=qe[Qe])!=="_"){if(Ke===":")break;if(!We(qe.charCodeAt(Qe)))return!1;ti=!0}return!(!ti||Ke==="_")&&(Ke!==":"||/^(:[0-5]?[0-9])+$/.test(qe.slice(Qe)))},construct:function(qe){var Ke,Ze,Je=qe,Qe=1,ti=[];return Je.indexOf("_")!==-1&&(Je=Je.replace(/_/g,"")),(Ke=Je[0])!=="-"&&Ke!=="+"||(Ke==="-"&&(Qe=-1),Ke=(Je=Je.slice(1))[0]),Je==="0"?0:Ke==="0"?Je[1]==="b"?Qe*parseInt(Je.slice(2),2):Je[1]==="x"?Qe*parseInt(Je,16):Qe*parseInt(Je,8):Je.indexOf(":")!==-1?(Je.split(":").forEach(function(ni){ti.unshift(parseInt(ni,10))}),Je=0,Ze=1,ti.forEach(function(ni){Je+=ni*Ze,Ze*=60}),Qe*Je):Qe*parseInt(Je,10)},predicate:function(qe){return Object.prototype.toString.call(qe)==="[object Number]"&&qe%1==0&&!je.isNegativeZero(qe)},represent:{binary:function(qe){return qe>=0?"0b"+qe.toString(2):"-0b"+qe.toString(2).slice(1)},octal:function(qe){return qe>=0?"0"+qe.toString(8):"-0"+qe.toString(8).slice(1)},decimal:function(qe){return qe.toString(10)},hexadecimal:function(qe){return qe>=0?"0x"+qe.toString(16).toUpperCase():"-0x"+qe.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},function(t,r,Ve){var je=Ve(38),ze=Ve(10),Xe=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),We=/^[-+]?[0-9]+e/;t.exports=new ze("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(qe){return qe!==null&&!(!Xe.test(qe)||qe[qe.length-1]==="_")},construct:function(qe){var Ke,Ze,Je,Qe;return Ze=(Ke=qe.replace(/_/g,"").toLowerCase())[0]==="-"?-1:1,Qe=[],"+-".indexOf(Ke[0])>=0&&(Ke=Ke.slice(1)),Ke===".inf"?Ze===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:Ke===".nan"?NaN:Ke.indexOf(":")>=0?(Ke.split(":").forEach(function(ti){Qe.unshift(parseFloat(ti,10))}),Ke=0,Je=1,Qe.forEach(function(ti){Ke+=ti*Je,Je*=60}),Ze*Ke):Ze*parseFloat(Ke,10)},predicate:function(qe){return Object.prototype.toString.call(qe)==="[object Number]"&&(qe%1!=0||je.isNegativeZero(qe))},represent:function(qe,Ke){var Ze;if(isNaN(qe))switch(Ke){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===qe)switch(Ke){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===qe)switch(Ke){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(je.isNegativeZero(qe))return"-0.0";return Ze=qe.toString(10),We.test(Ze)?Ze.replace("e",".e"):Ze},defaultStyle:"lowercase"})},function(t,r,Ve){var je=Ve(10),ze=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Xe=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");t.exports=new je("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(We){return We!==null&&(ze.exec(We)!==null||Xe.exec(We)!==null)},construct:function(We){var qe,Ke,Ze,Je,Qe,ti,ni,ri,ii=0,ei=null;if((qe=ze.exec(We))===null&&(qe=Xe.exec(We)),qe===null)throw new Error("Date resolve error");if(Ke=+qe[1],Ze=+qe[2]-1,Je=+qe[3],!qe[4])return new Date(Date.UTC(Ke,Ze,Je));if(Qe=+qe[4],ti=+qe[5],ni=+qe[6],qe[7]){for(ii=qe[7].slice(0,3);ii.length<3;)ii+="0";ii=+ii}return qe[9]&&(ei=6e4*(60*+qe[10]+ +(qe[11]||0)),qe[9]==="-"&&(ei=-ei)),ri=new Date(Date.UTC(Ke,Ze,Je,Qe,ti,ni,ii)),ei&&ri.setTime(ri.getTime()-ei),ri},instanceOf:Date,represent:function(We){return We.toISOString()}})},function(t,r,Ve){var je=Ve(10);t.exports=new je("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(ze){return ze==="<<"||ze===null}})},function(t,r,Ve){var je;try{je=Ve(145).Buffer}catch{}var ze=Ve(10),Xe=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;t.exports=new ze("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(We){if(We===null)return!1;var qe,Ke,Ze=0,Je=We.length,Qe=Xe;for(Ke=0;Ke<Je;Ke++)if(!((qe=Qe.indexOf(We.charAt(Ke)))>64)){if(qe<0)return!1;Ze+=6}return Ze%8==0},construct:function(We){var qe,Ke,Ze=We.replace(/[\r\n=]/g,""),Je=Ze.length,Qe=Xe,ti=0,ni=[];for(qe=0;qe<Je;qe++)qe%4==0&&qe&&(ni.push(ti>>16&255),ni.push(ti>>8&255),ni.push(255&ti)),ti=ti<<6|Qe.indexOf(Ze.charAt(qe));return(Ke=Je%4*6)===0?(ni.push(ti>>16&255),ni.push(ti>>8&255),ni.push(255&ti)):Ke===18?(ni.push(ti>>10&255),ni.push(ti>>2&255)):Ke===12&&ni.push(ti>>4&255),je?je.from?je.from(ni):new je(ni):ni},predicate:function(We){return je&&je.isBuffer(We)},represent:function(We){var qe,Ke,Ze="",Je=0,Qe=We.length,ti=Xe;for(qe=0;qe<Qe;qe++)qe%3==0&&qe&&(Ze+=ti[Je>>18&63],Ze+=ti[Je>>12&63],Ze+=ti[Je>>6&63],Ze+=ti[63&Je]),Je=(Je<<8)+We[qe];return(Ke=Qe%3)===0?(Ze+=ti[Je>>18&63],Ze+=ti[Je>>12&63],Ze+=ti[Je>>6&63],Ze+=ti[63&Je]):Ke===2?(Ze+=ti[Je>>10&63],Ze+=ti[Je>>4&63],Ze+=ti[Je<<2&63],Ze+=ti[64]):Ke===1&&(Ze+=ti[Je>>2&63],Ze+=ti[Je<<4&63],Ze+=ti[64],Ze+=ti[64]),Ze}})},function(t,r,Ve){var je=Ve(10),ze=Object.prototype.hasOwnProperty,Xe=Object.prototype.toString;t.exports=new je("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(We){if(We===null)return!0;var qe,Ke,Ze,Je,Qe,ti=[],ni=We;for(qe=0,Ke=ni.length;qe<Ke;qe+=1){if(Ze=ni[qe],Qe=!1,Xe.call(Ze)!=="[object Object]")return!1;for(Je in Ze)if(ze.call(Ze,Je)){if(Qe)return!1;Qe=!0}if(!Qe||ti.indexOf(Je)!==-1)return!1;ti.push(Je)}return!0},construct:function(We){return We!==null?We:[]}})},function(t,r,Ve){var je=Ve(10),ze=Object.prototype.toString;t.exports=new je("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(Xe){if(Xe===null)return!0;var We,qe,Ke,Ze,Je,Qe=Xe;for(Je=new Array(Qe.length),We=0,qe=Qe.length;We<qe;We+=1){if(Ke=Qe[We],ze.call(Ke)!=="[object Object]"||(Ze=Object.keys(Ke)).length!==1)return!1;Je[We]=[Ze[0],Ke[Ze[0]]]}return!0},construct:function(Xe){if(Xe===null)return[];var We,qe,Ke,Ze,Je,Qe=Xe;for(Je=new Array(Qe.length),We=0,qe=Qe.length;We<qe;We+=1)Ke=Qe[We],Ze=Object.keys(Ke),Je[We]=[Ze[0],Ke[Ze[0]]];return Je}})},function(t,r,Ve){var je=Ve(10),ze=Object.prototype.hasOwnProperty;t.exports=new je("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(Xe){if(Xe===null)return!0;var We,qe=Xe;for(We in qe)if(ze.call(qe,We)&&qe[We]!==null)return!1;return!0},construct:function(Xe){return Xe!==null?Xe:{}}})},function(t,r,Ve){var je=Ve(10);t.exports=new je("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:function(){return!0},construct:function(){},predicate:function(ze){return ze===void 0},represent:function(){return""}})},function(t,r,Ve){var je=Ve(10);t.exports=new je("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:function(ze){if(ze===null||ze.length===0)return!1;var Xe=ze,We=/\/([gim]*)$/.exec(ze),qe="";return!(Xe[0]==="/"&&(We&&(qe=We[1]),qe.length>3||Xe[Xe.length-qe.length-1]!=="/"))},construct:function(ze){var Xe=ze,We=/\/([gim]*)$/.exec(ze),qe="";return Xe[0]==="/"&&(We&&(qe=We[1]),Xe=Xe.slice(1,Xe.length-qe.length-1)),new RegExp(Xe,qe)},predicate:function(ze){return Object.prototype.toString.call(ze)==="[object RegExp]"},represent:function(ze){var Xe="/"+ze.source+"/";return ze.global&&(Xe+="g"),ze.multiline&&(Xe+="m"),ze.ignoreCase&&(Xe+="i"),Xe}})},function(t,r,Ve){var je;try{je=Ve(303)}catch{typeof window<"u"&&(je=window.esprima)}var ze=Ve(10);t.exports=new ze("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:function(Xe){if(Xe===null)return!1;try{var We="("+Xe+")",qe=je.parse(We,{range:!0});return qe.type==="Program"&&qe.body.length===1&&qe.body[0].type==="ExpressionStatement"&&(qe.body[0].expression.type==="ArrowFunctionExpression"||qe.body[0].expression.type==="FunctionExpression")}catch{return!1}},construct:function(Xe){var We,qe="("+Xe+")",Ke=je.parse(qe,{range:!0}),Ze=[];if(Ke.type!=="Program"||Ke.body.length!==1||Ke.body[0].type!=="ExpressionStatement"||Ke.body[0].expression.type!=="ArrowFunctionExpression"&&Ke.body[0].expression.type!=="FunctionExpression")throw new Error("Failed to resolve function");return Ke.body[0].expression.params.forEach(function(Je){Ze.push(Je.name)}),We=Ke.body[0].expression.body.range,Ke.body[0].expression.body.type==="BlockStatement"?new Function(Ze,qe.slice(We[0]+1,We[1]-1)):new Function(Ze,"return "+qe.slice(We[0],We[1]))},predicate:function(Xe){return Object.prototype.toString.call(Xe)==="[object Function]"},represent:function(Xe){return Xe.toString()}})},function(t,r,Ve){var je;je=function(){return function(ze){var Xe={};function We(qe){if(Xe[qe])return Xe[qe].exports;var Ke=Xe[qe]={exports:{},id:qe,loaded:!1};return ze[qe].call(Ke.exports,Ke,Ke.exports,We),Ke.loaded=!0,Ke.exports}return We.m=ze,We.c=Xe,We.p="",We(0)}([function(ze,Xe,We){Object.defineProperty(Xe,"__esModule",{value:!0});var qe=We(1),Ke=We(3),Ze=We(8),Je=We(15);function Qe(ni,ri,ii){var ei=null,St=function(mi,di){ii&&ii(mi,di),ei&&ei.visit(mi,di)},oi=typeof ii=="function"?St:null,si=!1;if(ri){si=typeof ri.comment=="boolean"&&ri.comment;var ai=typeof ri.attachComment=="boolean"&&ri.attachComment;(si||ai)&&((ei=new qe.CommentHandler).attach=ai,ri.comment=!0,oi=St)}var ui,hi=!1;ri&&typeof ri.sourceType=="string"&&(hi=ri.sourceType==="module"),ui=ri&&typeof ri.jsx=="boolean"&&ri.jsx?new Ke.JSXParser(ni,ri,oi):new Ze.Parser(ni,ri,oi);var ci=hi?ui.parseModule():ui.parseScript();return si&&ei&&(ci.comments=ei.comments),ui.config.tokens&&(ci.tokens=ui.tokens),ui.config.tolerant&&(ci.errors=ui.errorHandler.errors),ci}Xe.parse=Qe,Xe.parseModule=function(ni,ri,ii){var ei=ri||{};return ei.sourceType="module",Qe(ni,ei,ii)},Xe.parseScript=function(ni,ri,ii){var ei=ri||{};return ei.sourceType="script",Qe(ni,ei,ii)},Xe.tokenize=function(ni,ri,ii){var ei,St=new Je.Tokenizer(ni,ri);ei=[];try{for(;;){var oi=St.getNextToken();if(!oi)break;ii&&(oi=ii(oi)),ei.push(oi)}}catch(si){St.errorHandler.tolerate(si)}return St.errorHandler.tolerant&&(ei.errors=St.errors()),ei};var ti=We(2);Xe.Syntax=ti.Syntax,Xe.version="4.0.1"},function(ze,Xe,We){Object.defineProperty(Xe,"__esModule",{value:!0});var qe=We(2),Ke=function(){function Ze(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return Ze.prototype.insertInnerComments=function(Je,Qe){if(Je.type===qe.Syntax.BlockStatement&&Je.body.length===0){for(var ti=[],ni=this.leading.length-1;ni>=0;--ni){var ri=this.leading[ni];Qe.end.offset>=ri.start&&(ti.unshift(ri.comment),this.leading.splice(ni,1),this.trailing.splice(ni,1))}ti.length&&(Je.innerComments=ti)}},Ze.prototype.findTrailingComments=function(Je){var Qe=[];if(this.trailing.length>0){for(var ti=this.trailing.length-1;ti>=0;--ti){var ni=this.trailing[ti];ni.start>=Je.end.offset&&Qe.unshift(ni.comment)}return this.trailing.length=0,Qe}var ri=this.stack[this.stack.length-1];if(ri&&ri.node.trailingComments){var ii=ri.node.trailingComments[0];ii&&ii.range[0]>=Je.end.offset&&(Qe=ri.node.trailingComments,delete ri.node.trailingComments)}return Qe},Ze.prototype.findLeadingComments=function(Je){for(var Qe,ti=[];this.stack.length>0&&(ii=this.stack[this.stack.length-1])&&ii.start>=Je.start.offset;)Qe=ii.node,this.stack.pop();if(Qe){for(var ni=(Qe.leadingComments?Qe.leadingComments.length:0)-1;ni>=0;--ni){var ri=Qe.leadingComments[ni];ri.range[1]<=Je.start.offset&&(ti.unshift(ri),Qe.leadingComments.splice(ni,1))}return Qe.leadingComments&&Qe.leadingComments.length===0&&delete Qe.leadingComments,ti}for(ni=this.leading.length-1;ni>=0;--ni){var ii;(ii=this.leading[ni]).start<=Je.start.offset&&(ti.unshift(ii.comment),this.leading.splice(ni,1))}return ti},Ze.prototype.visitNode=function(Je,Qe){if(!(Je.type===qe.Syntax.Program&&Je.body.length>0)){this.insertInnerComments(Je,Qe);var ti=this.findTrailingComments(Qe),ni=this.findLeadingComments(Qe);ni.length>0&&(Je.leadingComments=ni),ti.length>0&&(Je.trailingComments=ti),this.stack.push({node:Je,start:Qe.start.offset})}},Ze.prototype.visitComment=function(Je,Qe){var ti=Je.type[0]==="L"?"Line":"Block",ni={type:ti,value:Je.value};if(Je.range&&(ni.range=Je.range),Je.loc&&(ni.loc=Je.loc),this.comments.push(ni),this.attach){var ri={comment:{type:ti,value:Je.value,range:[Qe.start.offset,Qe.end.offset]},start:Qe.start.offset};Je.loc&&(ri.comment.loc=Je.loc),Je.type=ti,this.leading.push(ri),this.trailing.push(ri)}},Ze.prototype.visit=function(Je,Qe){Je.type==="LineComment"||Je.type==="BlockComment"?this.visitComment(Je,Qe):this.attach&&this.visitNode(Je,Qe)},Ze}();Xe.CommentHandler=Ke},function(ze,Xe){Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(ze,Xe,We){var qe,Ke=this&&this.__extends||(qe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(oi,si){oi.__proto__=si}||function(oi,si){for(var ai in si)si.hasOwnProperty(ai)&&(oi[ai]=si[ai])},function(oi,si){function ai(){this.constructor=oi}qe(oi,si),oi.prototype=si===null?Object.create(si):(ai.prototype=si.prototype,new ai)});Object.defineProperty(Xe,"__esModule",{value:!0});var Ze=We(4),Je=We(5),Qe=We(6),ti=We(7),ni=We(8),ri=We(13),ii=We(14);function ei(oi){var si;switch(oi.type){case Qe.JSXSyntax.JSXIdentifier:si=oi.name;break;case Qe.JSXSyntax.JSXNamespacedName:var ai=oi;si=ei(ai.namespace)+":"+ei(ai.name);break;case Qe.JSXSyntax.JSXMemberExpression:var ui=oi;si=ei(ui.object)+"."+ei(ui.property)}return si}ri.TokenName[100]="JSXIdentifier",ri.TokenName[101]="JSXText";var St=function(oi){function si(ai,ui,hi){return oi.call(this,ai,ui,hi)||this}return Ke(si,oi),si.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():oi.prototype.parsePrimaryExpression.call(this)},si.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.line,this.scanner.lineStart=this.startMarker.index-this.startMarker.column},si.prototype.finishJSX=function(){this.nextToken()},si.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX("}"),this.config.tokens&&this.tokens.pop()},si.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},si.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},si.prototype.scanXHTMLEntity=function(ai){for(var ui="&",hi=!0,ci=!1,mi=!1,di=!1;!this.scanner.eof()&&hi&&!ci;){var pi=this.scanner.source[this.scanner.index];if(pi===ai)break;if(ci=pi===";",ui+=pi,++this.scanner.index,!ci)switch(ui.length){case 2:mi=pi==="#";break;case 3:mi&&(hi=(di=pi==="x")||Ze.Character.isDecimalDigit(pi.charCodeAt(0)),mi=mi&&!di);break;default:hi=(hi=hi&&!(mi&&!Ze.Character.isDecimalDigit(pi.charCodeAt(0))))&&!(di&&!Ze.Character.isHexDigit(pi.charCodeAt(0)))}}if(hi&&ci&&ui.length>2){var yi=ui.substr(1,ui.length-2);mi&&yi.length>1?ui=String.fromCharCode(parseInt(yi.substr(1),10)):di&&yi.length>2?ui=String.fromCharCode(parseInt("0"+yi.substr(1),16)):mi||di||!ii.XHTMLEntities[yi]||(ui=ii.XHTMLEntities[yi])}return ui},si.prototype.lexJSX=function(){var ai=this.scanner.source.charCodeAt(this.scanner.index);if(ai===60||ai===62||ai===47||ai===58||ai===61||ai===123||ai===125)return{type:7,value:pi=this.scanner.source[this.scanner.index++],lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index};if(ai===34||ai===39){for(var ui=this.scanner.index,hi=this.scanner.source[this.scanner.index++],ci="";!this.scanner.eof()&&(yi=this.scanner.source[this.scanner.index++])!==hi;)ci+=yi==="&"?this.scanXHTMLEntity(hi):yi;return{type:8,value:ci,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:ui,end:this.scanner.index}}if(ai===46){var mi=this.scanner.source.charCodeAt(this.scanner.index+1),di=this.scanner.source.charCodeAt(this.scanner.index+2),pi=mi===46&&di===46?"...":".";return ui=this.scanner.index,this.scanner.index+=pi.length,{type:7,value:pi,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:ui,end:this.scanner.index}}if(ai===96)return{type:10,value:"",lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(Ze.Character.isIdentifierStart(ai)&&ai!==92){for(ui=this.scanner.index,++this.scanner.index;!this.scanner.eof();){var yi=this.scanner.source.charCodeAt(this.scanner.index);if(Ze.Character.isIdentifierPart(yi)&&yi!==92)++this.scanner.index;else{if(yi!==45)break;++this.scanner.index}}return{type:100,value:this.scanner.source.slice(ui,this.scanner.index),lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:ui,end:this.scanner.index}}return this.scanner.lex()},si.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;var ai=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(ai)),ai},si.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;for(var ai=this.scanner.index,ui="";!this.scanner.eof();){var hi=this.scanner.source[this.scanner.index];if(hi==="{"||hi==="<")break;++this.scanner.index,ui+=hi,Ze.Character.isLineTerminator(hi.charCodeAt(0))&&(++this.scanner.lineNumber,hi==="\r"&&this.scanner.source[this.scanner.index]===`
`&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart;var ci={type:101,value:ui,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:ai,end:this.scanner.index};return ui.length>0&&this.config.tokens&&this.tokens.push(this.convertToken(ci)),ci},si.prototype.peekJSXToken=function(){var ai=this.scanner.saveState();this.scanner.scanComments();var ui=this.lexJSX();return this.scanner.restoreState(ai),ui},si.prototype.expectJSX=function(ai){var ui=this.nextJSXToken();ui.type===7&&ui.value===ai||this.throwUnexpectedToken(ui)},si.prototype.matchJSX=function(ai){var ui=this.peekJSXToken();return ui.type===7&&ui.value===ai},si.prototype.parseJSXIdentifier=function(){var ai=this.createJSXNode(),ui=this.nextJSXToken();return ui.type!==100&&this.throwUnexpectedToken(ui),this.finalize(ai,new Je.JSXIdentifier(ui.value))},si.prototype.parseJSXElementName=function(){var ai=this.createJSXNode(),ui=this.parseJSXIdentifier();if(this.matchJSX(":")){var hi=ui;this.expectJSX(":");var ci=this.parseJSXIdentifier();ui=this.finalize(ai,new Je.JSXNamespacedName(hi,ci))}else if(this.matchJSX("."))for(;this.matchJSX(".");){var mi=ui;this.expectJSX(".");var di=this.parseJSXIdentifier();ui=this.finalize(ai,new Je.JSXMemberExpression(mi,di))}return ui},si.prototype.parseJSXAttributeName=function(){var ai,ui=this.createJSXNode(),hi=this.parseJSXIdentifier();if(this.matchJSX(":")){var ci=hi;this.expectJSX(":");var mi=this.parseJSXIdentifier();ai=this.finalize(ui,new Je.JSXNamespacedName(ci,mi))}else ai=hi;return ai},si.prototype.parseJSXStringLiteralAttribute=function(){var ai=this.createJSXNode(),ui=this.nextJSXToken();ui.type!==8&&this.throwUnexpectedToken(ui);var hi=this.getTokenRaw(ui);return this.finalize(ai,new ti.Literal(ui.value,hi))},si.prototype.parseJSXExpressionAttribute=function(){var ai=this.createJSXNode();this.expectJSX("{"),this.finishJSX(),this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var ui=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(ai,new Je.JSXExpressionContainer(ui))},si.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},si.prototype.parseJSXNameValueAttribute=function(){var ai=this.createJSXNode(),ui=this.parseJSXAttributeName(),hi=null;return this.matchJSX("=")&&(this.expectJSX("="),hi=this.parseJSXAttributeValue()),this.finalize(ai,new Je.JSXAttribute(ui,hi))},si.prototype.parseJSXSpreadAttribute=function(){var ai=this.createJSXNode();this.expectJSX("{"),this.expectJSX("..."),this.finishJSX();var ui=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(ai,new Je.JSXSpreadAttribute(ui))},si.prototype.parseJSXAttributes=function(){for(var ai=[];!this.matchJSX("/")&&!this.matchJSX(">");){var ui=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();ai.push(ui)}return ai},si.prototype.parseJSXOpeningElement=function(){var ai=this.createJSXNode();this.expectJSX("<");var ui=this.parseJSXElementName(),hi=this.parseJSXAttributes(),ci=this.matchJSX("/");return ci&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(ai,new Je.JSXOpeningElement(ui,ci,hi))},si.prototype.parseJSXBoundaryElement=function(){var ai=this.createJSXNode();if(this.expectJSX("<"),this.matchJSX("/")){this.expectJSX("/");var ui=this.parseJSXElementName();return this.expectJSX(">"),this.finalize(ai,new Je.JSXClosingElement(ui))}var hi=this.parseJSXElementName(),ci=this.parseJSXAttributes(),mi=this.matchJSX("/");return mi&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(ai,new Je.JSXOpeningElement(hi,mi,ci))},si.prototype.parseJSXEmptyExpression=function(){var ai=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.finalize(ai,new Je.JSXEmptyExpression)},si.prototype.parseJSXExpressionContainer=function(){var ai,ui=this.createJSXNode();return this.expectJSX("{"),this.matchJSX("}")?(ai=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),ai=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(ui,new Je.JSXExpressionContainer(ai))},si.prototype.parseJSXChildren=function(){for(var ai=[];!this.scanner.eof();){var ui=this.createJSXChildNode(),hi=this.nextJSXText();if(hi.start<hi.end){var ci=this.getTokenRaw(hi),mi=this.finalize(ui,new Je.JSXText(hi.value,ci));ai.push(mi)}if(this.scanner.source[this.scanner.index]!=="{")break;var di=this.parseJSXExpressionContainer();ai.push(di)}return ai},si.prototype.parseComplexJSXElement=function(ai){for(var ui=[];!this.scanner.eof();){ai.children=ai.children.concat(this.parseJSXChildren());var hi=this.createJSXChildNode(),ci=this.parseJSXBoundaryElement();if(ci.type===Qe.JSXSyntax.JSXOpeningElement){var mi=ci;if(mi.selfClosing){var di=this.finalize(hi,new Je.JSXElement(mi,[],null));ai.children.push(di)}else ui.push(ai),ai={node:hi,opening:mi,closing:null,children:[]}}if(ci.type===Qe.JSXSyntax.JSXClosingElement){ai.closing=ci;var pi=ei(ai.opening.name);if(pi!==ei(ai.closing.name)&&this.tolerateError("Expected corresponding JSX closing tag for %0",pi),!(ui.length>0))break;di=this.finalize(ai.node,new Je.JSXElement(ai.opening,ai.children,ai.closing)),(ai=ui[ui.length-1]).children.push(di),ui.pop()}}return ai},si.prototype.parseJSXElement=function(){var ai=this.createJSXNode(),ui=this.parseJSXOpeningElement(),hi=[],ci=null;if(!ui.selfClosing){var mi=this.parseComplexJSXElement({node:ai,opening:ui,closing:ci,children:hi});hi=mi.children,ci=mi.closing}return this.finalize(ai,new Je.JSXElement(ui,hi,ci))},si.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var ai=this.parseJSXElement();return this.finishJSX(),ai},si.prototype.isStartOfExpression=function(){return oi.prototype.isStartOfExpression.call(this)||this.match("<")},si}(ni.Parser);Xe.JSXParser=St},function(ze,Xe){Object.defineProperty(Xe,"__esModule",{value:!0});var We={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};Xe.Character={fromCodePoint:function(qe){return qe<65536?String.fromCharCode(qe):String.fromCharCode(55296+(qe-65536>>10))+String.fromCharCode(56320+(qe-65536&1023))},isWhiteSpace:function(qe){return qe===32||qe===9||qe===11||qe===12||qe===160||qe>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(qe)>=0},isLineTerminator:function(qe){return qe===10||qe===13||qe===8232||qe===8233},isIdentifierStart:function(qe){return qe===36||qe===95||qe>=65&&qe<=90||qe>=97&&qe<=122||qe===92||qe>=128&&We.NonAsciiIdentifierStart.test(Xe.Character.fromCodePoint(qe))},isIdentifierPart:function(qe){return qe===36||qe===95||qe>=65&&qe<=90||qe>=97&&qe<=122||qe>=48&&qe<=57||qe===92||qe>=128&&We.NonAsciiIdentifierPart.test(Xe.Character.fromCodePoint(qe))},isDecimalDigit:function(qe){return qe>=48&&qe<=57},isHexDigit:function(qe){return qe>=48&&qe<=57||qe>=65&&qe<=70||qe>=97&&qe<=102},isOctalDigit:function(qe){return qe>=48&&qe<=55}}},function(ze,Xe,We){Object.defineProperty(Xe,"__esModule",{value:!0});var qe=We(6),Ke=function(si){this.type=qe.JSXSyntax.JSXClosingElement,this.name=si};Xe.JSXClosingElement=Ke;var Ze=function(si,ai,ui){this.type=qe.JSXSyntax.JSXElement,this.openingElement=si,this.children=ai,this.closingElement=ui};Xe.JSXElement=Ze;var Je=function(){this.type=qe.JSXSyntax.JSXEmptyExpression};Xe.JSXEmptyExpression=Je;var Qe=function(si){this.type=qe.JSXSyntax.JSXExpressionContainer,this.expression=si};Xe.JSXExpressionContainer=Qe;var ti=function(si){this.type=qe.JSXSyntax.JSXIdentifier,this.name=si};Xe.JSXIdentifier=ti;var ni=function(si,ai){this.type=qe.JSXSyntax.JSXMemberExpression,this.object=si,this.property=ai};Xe.JSXMemberExpression=ni;var ri=function(si,ai){this.type=qe.JSXSyntax.JSXAttribute,this.name=si,this.value=ai};Xe.JSXAttribute=ri;var ii=function(si,ai){this.type=qe.JSXSyntax.JSXNamespacedName,this.namespace=si,this.name=ai};Xe.JSXNamespacedName=ii;var ei=function(si,ai,ui){this.type=qe.JSXSyntax.JSXOpeningElement,this.name=si,this.selfClosing=ai,this.attributes=ui};Xe.JSXOpeningElement=ei;var St=function(si){this.type=qe.JSXSyntax.JSXSpreadAttribute,this.argument=si};Xe.JSXSpreadAttribute=St;var oi=function(si,ai){this.type=qe.JSXSyntax.JSXText,this.value=si,this.raw=ai};Xe.JSXText=oi},function(ze,Xe){Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(ze,Xe,We){Object.defineProperty(Xe,"__esModule",{value:!0});var qe=We(2),Ke=function(mn){this.type=qe.Syntax.ArrayExpression,this.elements=mn};Xe.ArrayExpression=Ke;var Ze=function(mn){this.type=qe.Syntax.ArrayPattern,this.elements=mn};Xe.ArrayPattern=Ze;var Je=function(mn,Ii,Wi){this.type=qe.Syntax.ArrowFunctionExpression,this.id=null,this.params=mn,this.body=Ii,this.generator=!1,this.expression=Wi,this.async=!1};Xe.ArrowFunctionExpression=Je;var Qe=function(mn,Ii,Wi){this.type=qe.Syntax.AssignmentExpression,this.operator=mn,this.left=Ii,this.right=Wi};Xe.AssignmentExpression=Qe;var ti=function(mn,Ii){this.type=qe.Syntax.AssignmentPattern,this.left=mn,this.right=Ii};Xe.AssignmentPattern=ti;var ni=function(mn,Ii,Wi){this.type=qe.Syntax.ArrowFunctionExpression,this.id=null,this.params=mn,this.body=Ii,this.generator=!1,this.expression=Wi,this.async=!0};Xe.AsyncArrowFunctionExpression=ni;var ri=function(mn,Ii,Wi){this.type=qe.Syntax.FunctionDeclaration,this.id=mn,this.params=Ii,this.body=Wi,this.generator=!1,this.expression=!1,this.async=!0};Xe.AsyncFunctionDeclaration=ri;var ii=function(mn,Ii,Wi){this.type=qe.Syntax.FunctionExpression,this.id=mn,this.params=Ii,this.body=Wi,this.generator=!1,this.expression=!1,this.async=!0};Xe.AsyncFunctionExpression=ii;var ei=function(mn){this.type=qe.Syntax.AwaitExpression,this.argument=mn};Xe.AwaitExpression=ei;var St=function(mn,Ii,Wi){var nn=mn==="||"||mn==="&&";this.type=nn?qe.Syntax.LogicalExpression:qe.Syntax.BinaryExpression,this.operator=mn,this.left=Ii,this.right=Wi};Xe.BinaryExpression=St;var oi=function(mn){this.type=qe.Syntax.BlockStatement,this.body=mn};Xe.BlockStatement=oi;var si=function(mn){this.type=qe.Syntax.BreakStatement,this.label=mn};Xe.BreakStatement=si;var ai=function(mn,Ii){this.type=qe.Syntax.CallExpression,this.callee=mn,this.arguments=Ii};Xe.CallExpression=ai;var ui=function(mn,Ii){this.type=qe.Syntax.CatchClause,this.param=mn,this.body=Ii};Xe.CatchClause=ui;var hi=function(mn){this.type=qe.Syntax.ClassBody,this.body=mn};Xe.ClassBody=hi;var ci=function(mn,Ii,Wi){this.type=qe.Syntax.ClassDeclaration,this.id=mn,this.superClass=Ii,this.body=Wi};Xe.ClassDeclaration=ci;var mi=function(mn,Ii,Wi){this.type=qe.Syntax.ClassExpression,this.id=mn,this.superClass=Ii,this.body=Wi};Xe.ClassExpression=mi;var di=function(mn,Ii){this.type=qe.Syntax.MemberExpression,this.computed=!0,this.object=mn,this.property=Ii};Xe.ComputedMemberExpression=di;var pi=function(mn,Ii,Wi){this.type=qe.Syntax.ConditionalExpression,this.test=mn,this.consequent=Ii,this.alternate=Wi};Xe.ConditionalExpression=pi;var yi=function(mn){this.type=qe.Syntax.ContinueStatement,this.label=mn};Xe.ContinueStatement=yi;var gi=function(){this.type=qe.Syntax.DebuggerStatement};Xe.DebuggerStatement=gi;var _i=function(mn,Ii){this.type=qe.Syntax.ExpressionStatement,this.expression=mn,this.directive=Ii};Xe.Directive=_i;var Ai=function(mn,Ii){this.type=qe.Syntax.DoWhileStatement,this.body=mn,this.test=Ii};Xe.DoWhileStatement=Ai;var ki=function(){this.type=qe.Syntax.EmptyStatement};Xe.EmptyStatement=ki;var vi=function(mn){this.type=qe.Syntax.ExportAllDeclaration,this.source=mn};Xe.ExportAllDeclaration=vi;var Mi=function(mn){this.type=qe.Syntax.ExportDefaultDeclaration,this.declaration=mn};Xe.ExportDefaultDeclaration=Mi;var Di=function(mn,Ii,Wi){this.type=qe.Syntax.ExportNamedDeclaration,this.declaration=mn,this.specifiers=Ii,this.source=Wi};Xe.ExportNamedDeclaration=Di;var Bi=function(mn,Ii){this.type=qe.Syntax.ExportSpecifier,this.exported=Ii,this.local=mn};Xe.ExportSpecifier=Bi;var Pi=function(mn){this.type=qe.Syntax.ExpressionStatement,this.expression=mn};Xe.ExpressionStatement=Pi;var Fi=function(mn,Ii,Wi){this.type=qe.Syntax.ForInStatement,this.left=mn,this.right=Ii,this.body=Wi,this.each=!1};Xe.ForInStatement=Fi;var Vi=function(mn,Ii,Wi){this.type=qe.Syntax.ForOfStatement,this.left=mn,this.right=Ii,this.body=Wi};Xe.ForOfStatement=Vi;var Ti=function(mn,Ii,Wi,nn){this.type=qe.Syntax.ForStatement,this.init=mn,this.test=Ii,this.update=Wi,this.body=nn};Xe.ForStatement=Ti;var ji=function(mn,Ii,Wi,nn){this.type=qe.Syntax.FunctionDeclaration,this.id=mn,this.params=Ii,this.body=Wi,this.generator=nn,this.expression=!1,this.async=!1};Xe.FunctionDeclaration=ji;var Gi=function(mn,Ii,Wi,nn){this.type=qe.Syntax.FunctionExpression,this.id=mn,this.params=Ii,this.body=Wi,this.generator=nn,this.expression=!1,this.async=!1};Xe.FunctionExpression=Gi;var Yi=function(mn){this.type=qe.Syntax.Identifier,this.name=mn};Xe.Identifier=Yi;var Xi=function(mn,Ii,Wi){this.type=qe.Syntax.IfStatement,this.test=mn,this.consequent=Ii,this.alternate=Wi};Xe.IfStatement=Xi;var xi=function(mn,Ii){this.type=qe.Syntax.ImportDeclaration,this.specifiers=mn,this.source=Ii};Xe.ImportDeclaration=xi;var fi=function(mn){this.type=qe.Syntax.ImportDefaultSpecifier,this.local=mn};Xe.ImportDefaultSpecifier=fi;var $i=function(mn){this.type=qe.Syntax.ImportNamespaceSpecifier,this.local=mn};Xe.ImportNamespaceSpecifier=$i;var bi=function(mn,Ii){this.type=qe.Syntax.ImportSpecifier,this.local=mn,this.imported=Ii};Xe.ImportSpecifier=bi;var Ci=function(mn,Ii){this.type=qe.Syntax.LabeledStatement,this.label=mn,this.body=Ii};Xe.LabeledStatement=Ci;var Ei=function(mn,Ii){this.type=qe.Syntax.Literal,this.value=mn,this.raw=Ii};Xe.Literal=Ei;var Si=function(mn,Ii){this.type=qe.Syntax.MetaProperty,this.meta=mn,this.property=Ii};Xe.MetaProperty=Si;var zi=function(mn,Ii,Wi,nn,xn){this.type=qe.Syntax.MethodDefinition,this.key=mn,this.computed=Ii,this.value=Wi,this.kind=nn,this.static=xn};Xe.MethodDefinition=zi;var Ki=function(mn){this.type=qe.Syntax.Program,this.body=mn,this.sourceType="module"};Xe.Module=Ki;var Ui=function(mn,Ii){this.type=qe.Syntax.NewExpression,this.callee=mn,this.arguments=Ii};Xe.NewExpression=Ui;var Ji=function(mn){this.type=qe.Syntax.ObjectExpression,this.properties=mn};Xe.ObjectExpression=Ji;var gn=function(mn){this.type=qe.Syntax.ObjectPattern,this.properties=mn};Xe.ObjectPattern=gn;var hn=function(mn,Ii,Wi,nn,xn,On){this.type=qe.Syntax.Property,this.key=Ii,this.computed=Wi,this.value=nn,this.kind=mn,this.method=xn,this.shorthand=On};Xe.Property=hn;var un=function(mn,Ii,Wi,nn){this.type=qe.Syntax.Literal,this.value=mn,this.raw=Ii,this.regex={pattern:Wi,flags:nn}};Xe.RegexLiteral=un;var Mn=function(mn){this.type=qe.Syntax.RestElement,this.argument=mn};Xe.RestElement=Mn;var sn=function(mn){this.type=qe.Syntax.ReturnStatement,this.argument=mn};Xe.ReturnStatement=sn;var vn=function(mn){this.type=qe.Syntax.Program,this.body=mn,this.sourceType="script"};Xe.Script=vn;var Ni=function(mn){this.type=qe.Syntax.SequenceExpression,this.expressions=mn};Xe.SequenceExpression=Ni;var Cn=function(mn){this.type=qe.Syntax.SpreadElement,this.argument=mn};Xe.SpreadElement=Cn;var cn=function(mn,Ii){this.type=qe.Syntax.MemberExpression,this.computed=!1,this.object=mn,this.property=Ii};Xe.StaticMemberExpression=cn;var fn=function(){this.type=qe.Syntax.Super};Xe.Super=fn;var qi=function(mn,Ii){this.type=qe.Syntax.SwitchCase,this.test=mn,this.consequent=Ii};Xe.SwitchCase=qi;var an=function(mn,Ii){this.type=qe.Syntax.SwitchStatement,this.discriminant=mn,this.cases=Ii};Xe.SwitchStatement=an;var yn=function(mn,Ii){this.type=qe.Syntax.TaggedTemplateExpression,this.tag=mn,this.quasi=Ii};Xe.TaggedTemplateExpression=yn;var bn=function(mn,Ii){this.type=qe.Syntax.TemplateElement,this.value=mn,this.tail=Ii};Xe.TemplateElement=bn;var Sn=function(mn,Ii){this.type=qe.Syntax.TemplateLiteral,this.quasis=mn,this.expressions=Ii};Xe.TemplateLiteral=Sn;var Fn=function(){this.type=qe.Syntax.ThisExpression};Xe.ThisExpression=Fn;var kn=function(mn){this.type=qe.Syntax.ThrowStatement,this.argument=mn};Xe.ThrowStatement=kn;var Nn=function(mn,Ii,Wi){this.type=qe.Syntax.TryStatement,this.block=mn,this.handler=Ii,this.finalizer=Wi};Xe.TryStatement=Nn;var Hn=function(mn,Ii){this.type=qe.Syntax.UnaryExpression,this.operator=mn,this.argument=Ii,this.prefix=!0};Xe.UnaryExpression=Hn;var Yn=function(mn,Ii,Wi){this.type=qe.Syntax.UpdateExpression,this.operator=mn,this.argument=Ii,this.prefix=Wi};Xe.UpdateExpression=Yn;var tr=function(mn,Ii){this.type=qe.Syntax.VariableDeclaration,this.declarations=mn,this.kind=Ii};Xe.VariableDeclaration=tr;var qn=function(mn,Ii){this.type=qe.Syntax.VariableDeclarator,this.id=mn,this.init=Ii};Xe.VariableDeclarator=qn;var Jn=function(mn,Ii){this.type=qe.Syntax.WhileStatement,this.test=mn,this.body=Ii};Xe.WhileStatement=Jn;var Qn=function(mn,Ii){this.type=qe.Syntax.WithStatement,this.object=mn,this.body=Ii};Xe.WithStatement=Qn;var ar=function(mn,Ii){this.type=qe.Syntax.YieldExpression,this.argument=mn,this.delegate=Ii};Xe.YieldExpression=ar},function(ze,Xe,We){Object.defineProperty(Xe,"__esModule",{value:!0});var qe=We(9),Ke=We(10),Ze=We(11),Je=We(7),Qe=We(12),ti=We(2),ni=We(13),ri=function(){function ii(ei,St,oi){St===void 0&&(St={}),this.config={range:typeof St.range=="boolean"&&St.range,loc:typeof St.loc=="boolean"&&St.loc,source:null,tokens:typeof St.tokens=="boolean"&&St.tokens,comment:typeof St.comment=="boolean"&&St.comment,tolerant:typeof St.tolerant=="boolean"&&St.tolerant},this.config.loc&&St.source&&St.source!==null&&(this.config.source=String(St.source)),this.delegate=oi,this.errorHandler=new Ke.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new Qe.Scanner(ei,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.hasLineTerminator=!1,this.context={isModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.lastMarker={index:0,line:this.scanner.lineNumber,column:0},this.nextToken(),this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}return ii.prototype.throwError=function(ei){for(var St=[],oi=1;oi<arguments.length;oi++)St[oi-1]=arguments[oi];var si=Array.prototype.slice.call(arguments,1),ai=ei.replace(/%(\d)/g,function(mi,di){return qe.assert(di<si.length,"Message reference must be in range"),si[di]}),ui=this.lastMarker.index,hi=this.lastMarker.line,ci=this.lastMarker.column+1;throw this.errorHandler.createError(ui,hi,ci,ai)},ii.prototype.tolerateError=function(ei){for(var St=[],oi=1;oi<arguments.length;oi++)St[oi-1]=arguments[oi];var si=Array.prototype.slice.call(arguments,1),ai=ei.replace(/%(\d)/g,function(mi,di){return qe.assert(di<si.length,"Message reference must be in range"),si[di]}),ui=this.lastMarker.index,hi=this.scanner.lineNumber,ci=this.lastMarker.column+1;this.errorHandler.tolerateError(ui,hi,ci,ai)},ii.prototype.unexpectedTokenError=function(ei,St){var oi,si=St||Ze.Messages.UnexpectedToken;if(ei?(St||(si=ei.type===2?Ze.Messages.UnexpectedEOS:ei.type===3?Ze.Messages.UnexpectedIdentifier:ei.type===6?Ze.Messages.UnexpectedNumber:ei.type===8?Ze.Messages.UnexpectedString:ei.type===10?Ze.Messages.UnexpectedTemplate:Ze.Messages.UnexpectedToken,ei.type===4&&(this.scanner.isFutureReservedWord(ei.value)?si=Ze.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(ei.value)&&(si=Ze.Messages.StrictReservedWord))),oi=ei.value):oi="ILLEGAL",si=si.replace("%0",oi),ei&&typeof ei.lineNumber=="number"){var ai=ei.start,ui=ei.lineNumber,hi=this.lastMarker.index-this.lastMarker.column,ci=ei.start-hi+1;return this.errorHandler.createError(ai,ui,ci,si)}return ai=this.lastMarker.index,ui=this.lastMarker.line,ci=this.lastMarker.column+1,this.errorHandler.createError(ai,ui,ci,si)},ii.prototype.throwUnexpectedToken=function(ei,St){throw this.unexpectedTokenError(ei,St)},ii.prototype.tolerateUnexpectedToken=function(ei,St){this.errorHandler.tolerate(this.unexpectedTokenError(ei,St))},ii.prototype.collectComments=function(){if(this.config.comment){var ei=this.scanner.scanComments();if(ei.length>0&&this.delegate)for(var St=0;St<ei.length;++St){var oi=ei[St],si=void 0;si={type:oi.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(oi.slice[0],oi.slice[1])},this.config.range&&(si.range=oi.range),this.config.loc&&(si.loc=oi.loc);var ai={start:{line:oi.loc.start.line,column:oi.loc.start.column,offset:oi.range[0]},end:{line:oi.loc.end.line,column:oi.loc.end.column,offset:oi.range[1]}};this.delegate(si,ai)}}else this.scanner.scanComments()},ii.prototype.getTokenRaw=function(ei){return this.scanner.source.slice(ei.start,ei.end)},ii.prototype.convertToken=function(ei){var St={type:ni.TokenName[ei.type],value:this.getTokenRaw(ei)};if(this.config.range&&(St.range=[ei.start,ei.end]),this.config.loc&&(St.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),ei.type===9){var oi=ei.pattern,si=ei.flags;St.regex={pattern:oi,flags:si}}return St},ii.prototype.nextToken=function(){var ei=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.collectComments(),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var St=this.scanner.lex();return this.hasLineTerminator=ei.lineNumber!==St.lineNumber,St&&this.context.strict&&St.type===3&&this.scanner.isStrictModeReservedWord(St.value)&&(St.type=4),this.lookahead=St,this.config.tokens&&St.type!==2&&this.tokens.push(this.convertToken(St)),ei},ii.prototype.nextRegexToken=function(){this.collectComments();var ei=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(ei))),this.lookahead=ei,this.nextToken(),ei},ii.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}},ii.prototype.startNode=function(ei,St){St===void 0&&(St=0);var oi=ei.start-ei.lineStart,si=ei.lineNumber;return oi<0&&(oi+=St,si--),{index:ei.start,line:si,column:oi}},ii.prototype.finalize=function(ei,St){if(this.config.range&&(St.range=[ei.index,this.lastMarker.index]),this.config.loc&&(St.loc={start:{line:ei.line,column:ei.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(St.loc.source=this.config.source)),this.delegate){var oi={start:{line:ei.line,column:ei.column,offset:ei.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}};this.delegate(St,oi)}return St},ii.prototype.expect=function(ei){var St=this.nextToken();St.type===7&&St.value===ei||this.throwUnexpectedToken(St)},ii.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var ei=this.lookahead;ei.type===7&&ei.value===","?this.nextToken():ei.type===7&&ei.value===";"?(this.nextToken(),this.tolerateUnexpectedToken(ei)):this.tolerateUnexpectedToken(ei,Ze.Messages.UnexpectedToken)}else this.expect(",")},ii.prototype.expectKeyword=function(ei){var St=this.nextToken();St.type===4&&St.value===ei||this.throwUnexpectedToken(St)},ii.prototype.match=function(ei){return this.lookahead.type===7&&this.lookahead.value===ei},ii.prototype.matchKeyword=function(ei){return this.lookahead.type===4&&this.lookahead.value===ei},ii.prototype.matchContextualKeyword=function(ei){return this.lookahead.type===3&&this.lookahead.value===ei},ii.prototype.matchAssign=function(){if(this.lookahead.type!==7)return!1;var ei=this.lookahead.value;return ei==="="||ei==="*="||ei==="**="||ei==="/="||ei==="%="||ei==="+="||ei==="-="||ei==="<<="||ei===">>="||ei===">>>="||ei==="&="||ei==="^="||ei==="|="},ii.prototype.isolateCoverGrammar=function(ei){var St=this.context.isBindingElement,oi=this.context.isAssignmentTarget,si=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var ai=ei.call(this);return this.context.firstCoverInitializedNameError!==null&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=St,this.context.isAssignmentTarget=oi,this.context.firstCoverInitializedNameError=si,ai},ii.prototype.inheritCoverGrammar=function(ei){var St=this.context.isBindingElement,oi=this.context.isAssignmentTarget,si=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var ai=ei.call(this);return this.context.isBindingElement=this.context.isBindingElement&&St,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&oi,this.context.firstCoverInitializedNameError=si||this.context.firstCoverInitializedNameError,ai},ii.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(this.lookahead.type===2||this.match("}")||this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)},ii.prototype.parsePrimaryExpression=function(){var ei,St,oi,si=this.createNode();switch(this.lookahead.type){case 3:(this.context.isModule||this.context.await)&&this.lookahead.value==="await"&&this.tolerateUnexpectedToken(this.lookahead),ei=this.matchAsyncFunction()?this.parseFunctionExpression():this.finalize(si,new Je.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,Ze.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,St=this.nextToken(),oi=this.getTokenRaw(St),ei=this.finalize(si,new Je.Literal(St.value,oi));break;case 1:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,St=this.nextToken(),oi=this.getTokenRaw(St),ei=this.finalize(si,new Je.Literal(St.value==="true",oi));break;case 5:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,St=this.nextToken(),oi=this.getTokenRaw(St),ei=this.finalize(si,new Je.Literal(null,oi));break;case 10:ei=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case"(":this.context.isBindingElement=!1,ei=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":ei=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":ei=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,St=this.nextRegexToken(),oi=this.getTokenRaw(St),ei=this.finalize(si,new Je.RegexLiteral(St.regex,oi,St.pattern,St.flags));break;default:ei=this.throwUnexpectedToken(this.nextToken())}break;case 4:!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")?ei=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?ei=this.finalize(si,new Je.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?ei=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),ei=this.finalize(si,new Je.ThisExpression)):ei=this.matchKeyword("class")?this.parseClassExpression():this.throwUnexpectedToken(this.nextToken()));break;default:ei=this.throwUnexpectedToken(this.nextToken())}return ei},ii.prototype.parseSpreadElement=function(){var ei=this.createNode();this.expect("...");var St=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(ei,new Je.SpreadElement(St))},ii.prototype.parseArrayInitializer=function(){var ei=this.createNode(),St=[];for(this.expect("[");!this.match("]");)if(this.match(","))this.nextToken(),St.push(null);else if(this.match("...")){var oi=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(",")),St.push(oi)}else St.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");return this.expect("]"),this.finalize(ei,new Je.ArrayExpression(St))},ii.prototype.parsePropertyMethod=function(ei){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var St=this.context.strict,oi=this.context.allowStrictDirective;this.context.allowStrictDirective=ei.simple;var si=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&ei.firstRestricted&&this.tolerateUnexpectedToken(ei.firstRestricted,ei.message),this.context.strict&&ei.stricted&&this.tolerateUnexpectedToken(ei.stricted,ei.message),this.context.strict=St,this.context.allowStrictDirective=oi,si},ii.prototype.parsePropertyMethodFunction=function(){var ei=this.createNode(),St=this.context.allowYield;this.context.allowYield=!0;var oi=this.parseFormalParameters(),si=this.parsePropertyMethod(oi);return this.context.allowYield=St,this.finalize(ei,new Je.FunctionExpression(null,oi.params,si,!1))},ii.prototype.parsePropertyMethodAsyncFunction=function(){var ei=this.createNode(),St=this.context.allowYield,oi=this.context.await;this.context.allowYield=!1,this.context.await=!0;var si=this.parseFormalParameters(),ai=this.parsePropertyMethod(si);return this.context.allowYield=St,this.context.await=oi,this.finalize(ei,new Je.AsyncFunctionExpression(null,si.params,ai))},ii.prototype.parseObjectPropertyKey=function(){var ei,St=this.createNode(),oi=this.nextToken();switch(oi.type){case 8:case 6:this.context.strict&&oi.octal&&this.tolerateUnexpectedToken(oi,Ze.Messages.StrictOctalLiteral);var si=this.getTokenRaw(oi);ei=this.finalize(St,new Je.Literal(oi.value,si));break;case 3:case 1:case 5:case 4:ei=this.finalize(St,new Je.Identifier(oi.value));break;case 7:oi.value==="["?(ei=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):ei=this.throwUnexpectedToken(oi);break;default:ei=this.throwUnexpectedToken(oi)}return ei},ii.prototype.isPropertyKey=function(ei,St){return ei.type===ti.Syntax.Identifier&&ei.name===St||ei.type===ti.Syntax.Literal&&ei.value===St},ii.prototype.parseObjectProperty=function(ei){var St,oi=this.createNode(),si=this.lookahead,ai=null,ui=null,hi=!1,ci=!1,mi=!1,di=!1;if(si.type===3){var pi=si.value;this.nextToken(),hi=this.match("["),ai=(di=!(this.hasLineTerminator||pi!=="async"||this.match(":")||this.match("(")||this.match("*")||this.match(",")))?this.parseObjectPropertyKey():this.finalize(oi,new Je.Identifier(pi))}else this.match("*")?this.nextToken():(hi=this.match("["),ai=this.parseObjectPropertyKey());var yi=this.qualifiedPropertyName(this.lookahead);if(si.type===3&&!di&&si.value==="get"&&yi)St="get",hi=this.match("["),ai=this.parseObjectPropertyKey(),this.context.allowYield=!1,ui=this.parseGetterMethod();else if(si.type===3&&!di&&si.value==="set"&&yi)St="set",hi=this.match("["),ai=this.parseObjectPropertyKey(),ui=this.parseSetterMethod();else if(si.type===7&&si.value==="*"&&yi)St="init",hi=this.match("["),ai=this.parseObjectPropertyKey(),ui=this.parseGeneratorMethod(),ci=!0;else if(ai||this.throwUnexpectedToken(this.lookahead),St="init",this.match(":")&&!di)!hi&&this.isPropertyKey(ai,"__proto__")&&(ei.value&&this.tolerateError(Ze.Messages.DuplicateProtoProperty),ei.value=!0),this.nextToken(),ui=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match("("))ui=di?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),ci=!0;else if(si.type===3)if(pi=this.finalize(oi,new Je.Identifier(si.value)),this.match("=")){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),mi=!0;var gi=this.isolateCoverGrammar(this.parseAssignmentExpression);ui=this.finalize(oi,new Je.AssignmentPattern(pi,gi))}else mi=!0,ui=pi;else this.throwUnexpectedToken(this.nextToken());return this.finalize(oi,new Je.Property(St,ai,hi,ui,ci,mi))},ii.prototype.parseObjectInitializer=function(){var ei=this.createNode();this.expect("{");for(var St=[],oi={value:!1};!this.match("}");)St.push(this.parseObjectProperty(oi)),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(ei,new Je.ObjectExpression(St))},ii.prototype.parseTemplateHead=function(){qe.assert(this.lookahead.head,"Template literal must start with a template head");var ei=this.createNode(),St=this.nextToken(),oi=St.value,si=St.cooked;return this.finalize(ei,new Je.TemplateElement({raw:oi,cooked:si},St.tail))},ii.prototype.parseTemplateElement=function(){this.lookahead.type!==10&&this.throwUnexpectedToken();var ei=this.createNode(),St=this.nextToken(),oi=St.value,si=St.cooked;return this.finalize(ei,new Je.TemplateElement({raw:oi,cooked:si},St.tail))},ii.prototype.parseTemplateLiteral=function(){var ei=this.createNode(),St=[],oi=[],si=this.parseTemplateHead();for(oi.push(si);!si.tail;)St.push(this.parseExpression()),si=this.parseTemplateElement(),oi.push(si);return this.finalize(ei,new Je.TemplateLiteral(oi,St))},ii.prototype.reinterpretExpressionAsPattern=function(ei){switch(ei.type){case ti.Syntax.Identifier:case ti.Syntax.MemberExpression:case ti.Syntax.RestElement:case ti.Syntax.AssignmentPattern:break;case ti.Syntax.SpreadElement:ei.type=ti.Syntax.RestElement,this.reinterpretExpressionAsPattern(ei.argument);break;case ti.Syntax.ArrayExpression:ei.type=ti.Syntax.ArrayPattern;for(var St=0;St<ei.elements.length;St++)ei.elements[St]!==null&&this.reinterpretExpressionAsPattern(ei.elements[St]);break;case ti.Syntax.ObjectExpression:for(ei.type=ti.Syntax.ObjectPattern,St=0;St<ei.properties.length;St++)this.reinterpretExpressionAsPattern(ei.properties[St].value);break;case ti.Syntax.AssignmentExpression:ei.type=ti.Syntax.AssignmentPattern,delete ei.operator,this.reinterpretExpressionAsPattern(ei.left)}},ii.prototype.parseGroupExpression=function(){var ei;if(this.expect("("),this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),ei={type:"ArrowParameterPlaceHolder",params:[],async:!1};else{var St=this.lookahead,oi=[];if(this.match("..."))ei=this.parseRestElement(oi),this.expect(")"),this.match("=>")||this.expect("=>"),ei={type:"ArrowParameterPlaceHolder",params:[ei],async:!1};else{var si=!1;if(this.context.isBindingElement=!0,ei=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(",")){var ai=[];for(this.context.isAssignmentTarget=!1,ai.push(ei);this.lookahead.type!==2&&this.match(",");){if(this.nextToken(),this.match(")")){this.nextToken();for(var ui=0;ui<ai.length;ui++)this.reinterpretExpressionAsPattern(ai[ui]);si=!0,ei={type:"ArrowParameterPlaceHolder",params:ai,async:!1}}else if(this.match("...")){for(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),ai.push(this.parseRestElement(oi)),this.expect(")"),this.match("=>")||this.expect("=>"),this.context.isBindingElement=!1,ui=0;ui<ai.length;ui++)this.reinterpretExpressionAsPattern(ai[ui]);si=!0,ei={type:"ArrowParameterPlaceHolder",params:ai,async:!1}}else ai.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(si)break}si||(ei=this.finalize(this.startNode(St),new Je.SequenceExpression(ai)))}if(!si){if(this.expect(")"),this.match("=>")&&(ei.type===ti.Syntax.Identifier&&ei.name==="yield"&&(si=!0,ei={type:"ArrowParameterPlaceHolder",params:[ei],async:!1}),!si)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),ei.type===ti.Syntax.SequenceExpression)for(ui=0;ui<ei.expressions.length;ui++)this.reinterpretExpressionAsPattern(ei.expressions[ui]);else this.reinterpretExpressionAsPattern(ei);ei={type:"ArrowParameterPlaceHolder",params:ei.type===ti.Syntax.SequenceExpression?ei.expressions:[ei],async:!1}}this.context.isBindingElement=!1}}}return ei},ii.prototype.parseArguments=function(){this.expect("(");var ei=[];if(!this.match(")"))for(;;){var St=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(ei.push(St),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),ei},ii.prototype.isIdentifierName=function(ei){return ei.type===3||ei.type===4||ei.type===1||ei.type===5},ii.prototype.parseIdentifierName=function(){var ei=this.createNode(),St=this.nextToken();return this.isIdentifierName(St)||this.throwUnexpectedToken(St),this.finalize(ei,new Je.Identifier(St.value))},ii.prototype.parseNewExpression=function(){var ei,St=this.createNode(),oi=this.parseIdentifierName();if(qe.assert(oi.name==="new","New expression must start with `new`"),this.match("."))if(this.nextToken(),this.lookahead.type===3&&this.context.inFunctionBody&&this.lookahead.value==="target"){var si=this.parseIdentifierName();ei=new Je.MetaProperty(oi,si)}else this.throwUnexpectedToken(this.lookahead);else{var ai=this.isolateCoverGrammar(this.parseLeftHandSideExpression),ui=this.match("(")?this.parseArguments():[];ei=new Je.NewExpression(ai,ui),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(St,ei)},ii.prototype.parseAsyncArgument=function(){var ei=this.parseAssignmentExpression();return this.context.firstCoverInitializedNameError=null,ei},ii.prototype.parseAsyncArguments=function(){this.expect("(");var ei=[];if(!this.match(")"))for(;;){var St=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAsyncArgument);if(ei.push(St),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),ei},ii.prototype.parseLeftHandSideExpressionAllowCall=function(){var ei,St=this.lookahead,oi=this.matchContextualKeyword("async"),si=this.context.allowIn;for(this.context.allowIn=!0,this.matchKeyword("super")&&this.context.inFunctionBody?(ei=this.createNode(),this.nextToken(),ei=this.finalize(ei,new Je.Super),this.match("(")||this.match(".")||this.match("[")||this.throwUnexpectedToken(this.lookahead)):ei=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var ai=this.parseIdentifierName();ei=this.finalize(this.startNode(St),new Je.StaticMemberExpression(ei,ai))}else if(this.match("(")){var ui=oi&&St.lineNumber===this.lookahead.lineNumber;this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var hi=ui?this.parseAsyncArguments():this.parseArguments();if(ei=this.finalize(this.startNode(St),new Je.CallExpression(ei,hi)),ui&&this.match("=>")){for(var ci=0;ci<hi.length;++ci)this.reinterpretExpressionAsPattern(hi[ci]);ei={type:"ArrowParameterPlaceHolder",params:hi,async:!0}}}else if(this.match("["))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("["),ai=this.isolateCoverGrammar(this.parseExpression),this.expect("]"),ei=this.finalize(this.startNode(St),new Je.ComputedMemberExpression(ei,ai));else{if(this.lookahead.type!==10||!this.lookahead.head)break;var mi=this.parseTemplateLiteral();ei=this.finalize(this.startNode(St),new Je.TaggedTemplateExpression(ei,mi))}return this.context.allowIn=si,ei},ii.prototype.parseSuper=function(){var ei=this.createNode();return this.expectKeyword("super"),this.match("[")||this.match(".")||this.throwUnexpectedToken(this.lookahead),this.finalize(ei,new Je.Super)},ii.prototype.parseLeftHandSideExpression=function(){qe.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var ei=this.startNode(this.lookahead),St=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var oi=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),St=this.finalize(ei,new Je.ComputedMemberExpression(St,oi))}else if(this.match("."))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("."),oi=this.parseIdentifierName(),St=this.finalize(ei,new Je.StaticMemberExpression(St,oi));else{if(this.lookahead.type!==10||!this.lookahead.head)break;var si=this.parseTemplateLiteral();St=this.finalize(ei,new Je.TaggedTemplateExpression(St,si))}return St},ii.prototype.parseUpdateExpression=function(){var ei,St=this.lookahead;if(this.match("++")||this.match("--")){var oi=this.startNode(St),si=this.nextToken();ei=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&ei.type===ti.Syntax.Identifier&&this.scanner.isRestrictedWord(ei.name)&&this.tolerateError(Ze.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(Ze.Messages.InvalidLHSInAssignment);var ai=!0;ei=this.finalize(oi,new Je.UpdateExpression(si.value,ei,ai)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(ei=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&this.lookahead.type===7&&(this.match("++")||this.match("--"))){this.context.strict&&ei.type===ti.Syntax.Identifier&&this.scanner.isRestrictedWord(ei.name)&&this.tolerateError(Ze.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(Ze.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var ui=this.nextToken().value;ai=!1,ei=this.finalize(this.startNode(St),new Je.UpdateExpression(ui,ei,ai))}return ei},ii.prototype.parseAwaitExpression=function(){var ei=this.createNode();this.nextToken();var St=this.parseUnaryExpression();return this.finalize(ei,new Je.AwaitExpression(St))},ii.prototype.parseUnaryExpression=function(){var ei;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var St=this.startNode(this.lookahead),oi=this.nextToken();ei=this.inheritCoverGrammar(this.parseUnaryExpression),ei=this.finalize(St,new Je.UnaryExpression(oi.value,ei)),this.context.strict&&ei.operator==="delete"&&ei.argument.type===ti.Syntax.Identifier&&this.tolerateError(Ze.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else ei=this.context.await&&this.matchContextualKeyword("await")?this.parseAwaitExpression():this.parseUpdateExpression();return ei},ii.prototype.parseExponentiationExpression=function(){var ei=this.lookahead,St=this.inheritCoverGrammar(this.parseUnaryExpression);if(St.type!==ti.Syntax.UnaryExpression&&this.match("**")){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var oi=St,si=this.isolateCoverGrammar(this.parseExponentiationExpression);St=this.finalize(this.startNode(ei),new Je.BinaryExpression("**",oi,si))}return St},ii.prototype.binaryPrecedence=function(ei){var St=ei.value;return ei.type===7?this.operatorPrecedence[St]||0:ei.type===4&&(St==="instanceof"||this.context.allowIn&&St==="in")?7:0},ii.prototype.parseBinaryExpression=function(){var ei=this.lookahead,St=this.inheritCoverGrammar(this.parseExponentiationExpression),oi=this.lookahead,si=this.binaryPrecedence(oi);if(si>0){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var ai=[ei,this.lookahead],ui=St,hi=this.isolateCoverGrammar(this.parseExponentiationExpression),ci=[ui,oi.value,hi],mi=[si];!((si=this.binaryPrecedence(this.lookahead))<=0);){for(;ci.length>2&&si<=mi[mi.length-1];){hi=ci.pop();var di=ci.pop();mi.pop(),ui=ci.pop(),ai.pop();var pi=this.startNode(ai[ai.length-1]);ci.push(this.finalize(pi,new Je.BinaryExpression(di,ui,hi)))}ci.push(this.nextToken().value),mi.push(si),ai.push(this.lookahead),ci.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var yi=ci.length-1;St=ci[yi];for(var gi=ai.pop();yi>1;){var _i=ai.pop(),Ai=gi&&gi.lineStart;pi=this.startNode(_i,Ai),di=ci[yi-1],St=this.finalize(pi,new Je.BinaryExpression(di,ci[yi-2],St)),yi-=2,gi=_i}}return St},ii.prototype.parseConditionalExpression=function(){var ei=this.lookahead,St=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var oi=this.context.allowIn;this.context.allowIn=!0;var si=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=oi,this.expect(":");var ai=this.isolateCoverGrammar(this.parseAssignmentExpression);St=this.finalize(this.startNode(ei),new Je.ConditionalExpression(St,si,ai)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return St},ii.prototype.checkPatternParam=function(ei,St){switch(St.type){case ti.Syntax.Identifier:this.validateParam(ei,St,St.name);break;case ti.Syntax.RestElement:this.checkPatternParam(ei,St.argument);break;case ti.Syntax.AssignmentPattern:this.checkPatternParam(ei,St.left);break;case ti.Syntax.ArrayPattern:for(var oi=0;oi<St.elements.length;oi++)St.elements[oi]!==null&&this.checkPatternParam(ei,St.elements[oi]);break;case ti.Syntax.ObjectPattern:for(oi=0;oi<St.properties.length;oi++)this.checkPatternParam(ei,St.properties[oi].value)}ei.simple=ei.simple&&St instanceof Je.Identifier},ii.prototype.reinterpretAsCoverFormalsList=function(ei){var St,oi=[ei],si=!1;switch(ei.type){case ti.Syntax.Identifier:break;case"ArrowParameterPlaceHolder":oi=ei.params,si=ei.async;break;default:return null}St={simple:!0,paramSet:{}};for(var ai=0;ai<oi.length;++ai)(ui=oi[ai]).type===ti.Syntax.AssignmentPattern?ui.right.type===ti.Syntax.YieldExpression&&(ui.right.argument&&this.throwUnexpectedToken(this.lookahead),ui.right.type=ti.Syntax.Identifier,ui.right.name="yield",delete ui.right.argument,delete ui.right.delegate):si&&ui.type===ti.Syntax.Identifier&&ui.name==="await"&&this.throwUnexpectedToken(this.lookahead),this.checkPatternParam(St,ui),oi[ai]=ui;if(this.context.strict||!this.context.allowYield)for(ai=0;ai<oi.length;++ai){var ui;(ui=oi[ai]).type===ti.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}if(St.message===Ze.Messages.StrictParamDupe){var hi=this.context.strict?St.stricted:St.firstRestricted;this.throwUnexpectedToken(hi,St.message)}return{simple:St.simple,params:oi,stricted:St.stricted,firstRestricted:St.firstRestricted,message:St.message}},ii.prototype.parseAssignmentExpression=function(){var ei;if(!this.context.allowYield&&this.matchKeyword("yield"))ei=this.parseYieldExpression();else{var St=this.lookahead,oi=St;if(ei=this.parseConditionalExpression(),oi.type===3&&oi.lineNumber===this.lookahead.lineNumber&&oi.value==="async"&&(this.lookahead.type===3||this.matchKeyword("yield"))){var si=this.parsePrimaryExpression();this.reinterpretExpressionAsPattern(si),ei={type:"ArrowParameterPlaceHolder",params:[si],async:!0}}if(ei.type==="ArrowParameterPlaceHolder"||this.match("=>")){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var ai=ei.async,ui=this.reinterpretAsCoverFormalsList(ei);if(ui){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var hi=this.context.strict,ci=this.context.allowStrictDirective;this.context.allowStrictDirective=ui.simple;var mi=this.context.allowYield,di=this.context.await;this.context.allowYield=!0,this.context.await=ai;var pi=this.startNode(St);this.expect("=>");var yi=void 0;if(this.match("{")){var gi=this.context.allowIn;this.context.allowIn=!0,yi=this.parseFunctionSourceElements(),this.context.allowIn=gi}else yi=this.isolateCoverGrammar(this.parseAssignmentExpression);var _i=yi.type!==ti.Syntax.BlockStatement;this.context.strict&&ui.firstRestricted&&this.throwUnexpectedToken(ui.firstRestricted,ui.message),this.context.strict&&ui.stricted&&this.tolerateUnexpectedToken(ui.stricted,ui.message),ei=ai?this.finalize(pi,new Je.AsyncArrowFunctionExpression(ui.params,yi,_i)):this.finalize(pi,new Je.ArrowFunctionExpression(ui.params,yi,_i)),this.context.strict=hi,this.context.allowStrictDirective=ci,this.context.allowYield=mi,this.context.await=di}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(Ze.Messages.InvalidLHSInAssignment),this.context.strict&&ei.type===ti.Syntax.Identifier){var Ai=ei;this.scanner.isRestrictedWord(Ai.name)&&this.tolerateUnexpectedToken(oi,Ze.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(Ai.name)&&this.tolerateUnexpectedToken(oi,Ze.Messages.StrictReservedWord)}this.match("=")?this.reinterpretExpressionAsPattern(ei):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1);var ki=(oi=this.nextToken()).value,vi=this.isolateCoverGrammar(this.parseAssignmentExpression);ei=this.finalize(this.startNode(St),new Je.AssignmentExpression(ki,ei,vi)),this.context.firstCoverInitializedNameError=null}}return ei},ii.prototype.parseExpression=function(){var ei=this.lookahead,St=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var oi=[];for(oi.push(St);this.lookahead.type!==2&&this.match(",");)this.nextToken(),oi.push(this.isolateCoverGrammar(this.parseAssignmentExpression));St=this.finalize(this.startNode(ei),new Je.SequenceExpression(oi))}return St},ii.prototype.parseStatementListItem=function(){var ei;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,this.lookahead.type===4)switch(this.lookahead.value){case"export":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,Ze.Messages.IllegalExportDeclaration),ei=this.parseExportDeclaration();break;case"import":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,Ze.Messages.IllegalImportDeclaration),ei=this.parseImportDeclaration();break;case"const":ei=this.parseLexicalDeclaration({inFor:!1});break;case"function":ei=this.parseFunctionDeclaration();break;case"class":ei=this.parseClassDeclaration();break;case"let":ei=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:ei=this.parseStatement()}else ei=this.parseStatement();return ei},ii.prototype.parseBlock=function(){var ei=this.createNode();this.expect("{");for(var St=[];!this.match("}");)St.push(this.parseStatementListItem());return this.expect("}"),this.finalize(ei,new Je.BlockStatement(St))},ii.prototype.parseLexicalBinding=function(ei,St){var oi=this.createNode(),si=this.parsePattern([],ei);this.context.strict&&si.type===ti.Syntax.Identifier&&this.scanner.isRestrictedWord(si.name)&&this.tolerateError(Ze.Messages.StrictVarName);var ai=null;return ei==="const"?this.matchKeyword("in")||this.matchContextualKeyword("of")||(this.match("=")?(this.nextToken(),ai=this.isolateCoverGrammar(this.parseAssignmentExpression)):this.throwError(Ze.Messages.DeclarationMissingInitializer,"const")):(!St.inFor&&si.type!==ti.Syntax.Identifier||this.match("="))&&(this.expect("="),ai=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(oi,new Je.VariableDeclarator(si,ai))},ii.prototype.parseBindingList=function(ei,St){for(var oi=[this.parseLexicalBinding(ei,St)];this.match(",");)this.nextToken(),oi.push(this.parseLexicalBinding(ei,St));return oi},ii.prototype.isLexicalDeclaration=function(){var ei=this.scanner.saveState();this.scanner.scanComments();var St=this.scanner.lex();return this.scanner.restoreState(ei),St.type===3||St.type===7&&St.value==="["||St.type===7&&St.value==="{"||St.type===4&&St.value==="let"||St.type===4&&St.value==="yield"},ii.prototype.parseLexicalDeclaration=function(ei){var St=this.createNode(),oi=this.nextToken().value;qe.assert(oi==="let"||oi==="const","Lexical declaration must be either let or const");var si=this.parseBindingList(oi,ei);return this.consumeSemicolon(),this.finalize(St,new Je.VariableDeclaration(si,oi))},ii.prototype.parseBindingRestElement=function(ei,St){var oi=this.createNode();this.expect("...");var si=this.parsePattern(ei,St);return this.finalize(oi,new Je.RestElement(si))},ii.prototype.parseArrayPattern=function(ei,St){var oi=this.createNode();this.expect("[");for(var si=[];!this.match("]");)if(this.match(","))this.nextToken(),si.push(null);else{if(this.match("...")){si.push(this.parseBindingRestElement(ei,St));break}si.push(this.parsePatternWithDefault(ei,St)),this.match("]")||this.expect(",")}return this.expect("]"),this.finalize(oi,new Je.ArrayPattern(si))},ii.prototype.parsePropertyPattern=function(ei,St){var oi,si,ai=this.createNode(),ui=!1,hi=!1;if(this.lookahead.type===3){var ci=this.lookahead;oi=this.parseVariableIdentifier();var mi=this.finalize(ai,new Je.Identifier(ci.value));if(this.match("=")){ei.push(ci),hi=!0,this.nextToken();var di=this.parseAssignmentExpression();si=this.finalize(this.startNode(ci),new Je.AssignmentPattern(mi,di))}else this.match(":")?(this.expect(":"),si=this.parsePatternWithDefault(ei,St)):(ei.push(ci),hi=!0,si=mi)}else ui=this.match("["),oi=this.parseObjectPropertyKey(),this.expect(":"),si=this.parsePatternWithDefault(ei,St);return this.finalize(ai,new Je.Property("init",oi,ui,si,!1,hi))},ii.prototype.parseObjectPattern=function(ei,St){var oi=this.createNode(),si=[];for(this.expect("{");!this.match("}");)si.push(this.parsePropertyPattern(ei,St)),this.match("}")||this.expect(",");return this.expect("}"),this.finalize(oi,new Je.ObjectPattern(si))},ii.prototype.parsePattern=function(ei,St){var oi;return this.match("[")?oi=this.parseArrayPattern(ei,St):this.match("{")?oi=this.parseObjectPattern(ei,St):(!this.matchKeyword("let")||St!=="const"&&St!=="let"||this.tolerateUnexpectedToken(this.lookahead,Ze.Messages.LetInLexicalBinding),ei.push(this.lookahead),oi=this.parseVariableIdentifier(St)),oi},ii.prototype.parsePatternWithDefault=function(ei,St){var oi=this.lookahead,si=this.parsePattern(ei,St);if(this.match("=")){this.nextToken();var ai=this.context.allowYield;this.context.allowYield=!0;var ui=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=ai,si=this.finalize(this.startNode(oi),new Je.AssignmentPattern(si,ui))}return si},ii.prototype.parseVariableIdentifier=function(ei){var St=this.createNode(),oi=this.nextToken();return oi.type===4&&oi.value==="yield"?this.context.strict?this.tolerateUnexpectedToken(oi,Ze.Messages.StrictReservedWord):this.context.allowYield||this.throwUnexpectedToken(oi):oi.type!==3?this.context.strict&&oi.type===4&&this.scanner.isStrictModeReservedWord(oi.value)?this.tolerateUnexpectedToken(oi,Ze.Messages.StrictReservedWord):(this.context.strict||oi.value!=="let"||ei!=="var")&&this.throwUnexpectedToken(oi):(this.context.isModule||this.context.await)&&oi.type===3&&oi.value==="await"&&this.tolerateUnexpectedToken(oi),this.finalize(St,new Je.Identifier(oi.value))},ii.prototype.parseVariableDeclaration=function(ei){var St=this.createNode(),oi=this.parsePattern([],"var");this.context.strict&&oi.type===ti.Syntax.Identifier&&this.scanner.isRestrictedWord(oi.name)&&this.tolerateError(Ze.Messages.StrictVarName);var si=null;return this.match("=")?(this.nextToken(),si=this.isolateCoverGrammar(this.parseAssignmentExpression)):oi.type===ti.Syntax.Identifier||ei.inFor||this.expect("="),this.finalize(St,new Je.VariableDeclarator(oi,si))},ii.prototype.parseVariableDeclarationList=function(ei){var St={inFor:ei.inFor},oi=[];for(oi.push(this.parseVariableDeclaration(St));this.match(",");)this.nextToken(),oi.push(this.parseVariableDeclaration(St));return oi},ii.prototype.parseVariableStatement=function(){var ei=this.createNode();this.expectKeyword("var");var St=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(ei,new Je.VariableDeclaration(St,"var"))},ii.prototype.parseEmptyStatement=function(){var ei=this.createNode();return this.expect(";"),this.finalize(ei,new Je.EmptyStatement)},ii.prototype.parseExpressionStatement=function(){var ei=this.createNode(),St=this.parseExpression();return this.consumeSemicolon(),this.finalize(ei,new Je.ExpressionStatement(St))},ii.prototype.parseIfClause=function(){return this.context.strict&&this.matchKeyword("function")&&this.tolerateError(Ze.Messages.StrictFunction),this.parseStatement()},ii.prototype.parseIfStatement=function(){var ei,St=this.createNode(),oi=null;this.expectKeyword("if"),this.expect("(");var si=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),ei=this.finalize(this.createNode(),new Je.EmptyStatement)):(this.expect(")"),ei=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),oi=this.parseIfClause())),this.finalize(St,new Je.IfStatement(si,ei,oi))},ii.prototype.parseDoWhileStatement=function(){var ei=this.createNode();this.expectKeyword("do");var St=this.context.inIteration;this.context.inIteration=!0;var oi=this.parseStatement();this.context.inIteration=St,this.expectKeyword("while"),this.expect("(");var si=this.parseExpression();return!this.match(")")&&this.config.tolerant?this.tolerateUnexpectedToken(this.nextToken()):(this.expect(")"),this.match(";")&&this.nextToken()),this.finalize(ei,new Je.DoWhileStatement(oi,si))},ii.prototype.parseWhileStatement=function(){var ei,St=this.createNode();this.expectKeyword("while"),this.expect("(");var oi=this.parseExpression();if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),ei=this.finalize(this.createNode(),new Je.EmptyStatement);else{this.expect(")");var si=this.context.inIteration;this.context.inIteration=!0,ei=this.parseStatement(),this.context.inIteration=si}return this.finalize(St,new Je.WhileStatement(oi,ei))},ii.prototype.parseForStatement=function(){var ei,St,oi,si=null,ai=null,ui=null,hi=!0,ci=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){si=this.createNode(),this.nextToken();var mi=this.context.allowIn;this.context.allowIn=!1;var di=this.parseVariableDeclarationList({inFor:!0});if(this.context.allowIn=mi,di.length===1&&this.matchKeyword("in")){var pi=di[0];pi.init&&(pi.id.type===ti.Syntax.ArrayPattern||pi.id.type===ti.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(Ze.Messages.ForInOfLoopInitializer,"for-in"),si=this.finalize(si,new Je.VariableDeclaration(di,"var")),this.nextToken(),ei=si,St=this.parseExpression(),si=null}else di.length===1&&di[0].init===null&&this.matchContextualKeyword("of")?(si=this.finalize(si,new Je.VariableDeclaration(di,"var")),this.nextToken(),ei=si,St=this.parseAssignmentExpression(),si=null,hi=!1):(si=this.finalize(si,new Je.VariableDeclaration(di,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){si=this.createNode();var yi=this.nextToken().value;this.context.strict||this.lookahead.value!=="in"?(mi=this.context.allowIn,this.context.allowIn=!1,di=this.parseBindingList(yi,{inFor:!0}),this.context.allowIn=mi,di.length===1&&di[0].init===null&&this.matchKeyword("in")?(si=this.finalize(si,new Je.VariableDeclaration(di,yi)),this.nextToken(),ei=si,St=this.parseExpression(),si=null):di.length===1&&di[0].init===null&&this.matchContextualKeyword("of")?(si=this.finalize(si,new Je.VariableDeclaration(di,yi)),this.nextToken(),ei=si,St=this.parseAssignmentExpression(),si=null,hi=!1):(this.consumeSemicolon(),si=this.finalize(si,new Je.VariableDeclaration(di,yi)))):(si=this.finalize(si,new Je.Identifier(yi)),this.nextToken(),ei=si,St=this.parseExpression(),si=null)}else{var gi=this.lookahead;if(mi=this.context.allowIn,this.context.allowIn=!1,si=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=mi,this.matchKeyword("in"))this.context.isAssignmentTarget&&si.type!==ti.Syntax.AssignmentExpression||this.tolerateError(Ze.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(si),ei=si,St=this.parseExpression(),si=null;else if(this.matchContextualKeyword("of"))this.context.isAssignmentTarget&&si.type!==ti.Syntax.AssignmentExpression||this.tolerateError(Ze.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(si),ei=si,St=this.parseAssignmentExpression(),si=null,hi=!1;else{if(this.match(",")){for(var _i=[si];this.match(",");)this.nextToken(),_i.push(this.isolateCoverGrammar(this.parseAssignmentExpression));si=this.finalize(this.startNode(gi),new Je.SequenceExpression(_i))}this.expect(";")}}if(ei===void 0&&(this.match(";")||(ai=this.parseExpression()),this.expect(";"),this.match(")")||(ui=this.parseExpression())),!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),oi=this.finalize(this.createNode(),new Je.EmptyStatement);else{this.expect(")");var Ai=this.context.inIteration;this.context.inIteration=!0,oi=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=Ai}return ei===void 0?this.finalize(ci,new Je.ForStatement(si,ai,ui,oi)):hi?this.finalize(ci,new Je.ForInStatement(ei,St,oi)):this.finalize(ci,new Je.ForOfStatement(ei,St,oi))},ii.prototype.parseContinueStatement=function(){var ei=this.createNode();this.expectKeyword("continue");var St=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var oi=this.parseVariableIdentifier();St=oi;var si="$"+oi.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,si)||this.throwError(Ze.Messages.UnknownLabel,oi.name)}return this.consumeSemicolon(),St!==null||this.context.inIteration||this.throwError(Ze.Messages.IllegalContinue),this.finalize(ei,new Je.ContinueStatement(St))},ii.prototype.parseBreakStatement=function(){var ei=this.createNode();this.expectKeyword("break");var St=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var oi=this.parseVariableIdentifier(),si="$"+oi.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,si)||this.throwError(Ze.Messages.UnknownLabel,oi.name),St=oi}return this.consumeSemicolon(),St!==null||this.context.inIteration||this.context.inSwitch||this.throwError(Ze.Messages.IllegalBreak),this.finalize(ei,new Je.BreakStatement(St))},ii.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(Ze.Messages.IllegalReturn);var ei=this.createNode();this.expectKeyword("return");var St=(this.match(";")||this.match("}")||this.hasLineTerminator||this.lookahead.type===2)&&this.lookahead.type!==8&&this.lookahead.type!==10?null:this.parseExpression();return this.consumeSemicolon(),this.finalize(ei,new Je.ReturnStatement(St))},ii.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(Ze.Messages.StrictModeWith);var ei,St=this.createNode();this.expectKeyword("with"),this.expect("(");var oi=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),ei=this.finalize(this.createNode(),new Je.EmptyStatement)):(this.expect(")"),ei=this.parseStatement()),this.finalize(St,new Je.WithStatement(oi,ei))},ii.prototype.parseSwitchCase=function(){var ei,St=this.createNode();this.matchKeyword("default")?(this.nextToken(),ei=null):(this.expectKeyword("case"),ei=this.parseExpression()),this.expect(":");for(var oi=[];!(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"));)oi.push(this.parseStatementListItem());return this.finalize(St,new Je.SwitchCase(ei,oi))},ii.prototype.parseSwitchStatement=function(){var ei=this.createNode();this.expectKeyword("switch"),this.expect("(");var St=this.parseExpression();this.expect(")");var oi=this.context.inSwitch;this.context.inSwitch=!0;var si=[],ai=!1;for(this.expect("{");!this.match("}");){var ui=this.parseSwitchCase();ui.test===null&&(ai&&this.throwError(Ze.Messages.MultipleDefaultsInSwitch),ai=!0),si.push(ui)}return this.expect("}"),this.context.inSwitch=oi,this.finalize(ei,new Je.SwitchStatement(St,si))},ii.prototype.parseLabelledStatement=function(){var ei,St=this.createNode(),oi=this.parseExpression();if(oi.type===ti.Syntax.Identifier&&this.match(":")){this.nextToken();var si=oi,ai="$"+si.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,ai)&&this.throwError(Ze.Messages.Redeclaration,"Label",si.name),this.context.labelSet[ai]=!0;var ui=void 0;if(this.matchKeyword("class"))this.tolerateUnexpectedToken(this.lookahead),ui=this.parseClassDeclaration();else if(this.matchKeyword("function")){var hi=this.lookahead,ci=this.parseFunctionDeclaration();this.context.strict?this.tolerateUnexpectedToken(hi,Ze.Messages.StrictFunction):ci.generator&&this.tolerateUnexpectedToken(hi,Ze.Messages.GeneratorInLegacyContext),ui=ci}else ui=this.parseStatement();delete this.context.labelSet[ai],ei=new Je.LabeledStatement(si,ui)}else this.consumeSemicolon(),ei=new Je.ExpressionStatement(oi);return this.finalize(St,ei)},ii.prototype.parseThrowStatement=function(){var ei=this.createNode();this.expectKeyword("throw"),this.hasLineTerminator&&this.throwError(Ze.Messages.NewlineAfterThrow);var St=this.parseExpression();return this.consumeSemicolon(),this.finalize(ei,new Je.ThrowStatement(St))},ii.prototype.parseCatchClause=function(){var ei=this.createNode();this.expectKeyword("catch"),this.expect("("),this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var St=[],oi=this.parsePattern(St),si={},ai=0;ai<St.length;ai++){var ui="$"+St[ai].value;Object.prototype.hasOwnProperty.call(si,ui)&&this.tolerateError(Ze.Messages.DuplicateBinding,St[ai].value),si[ui]=!0}this.context.strict&&oi.type===ti.Syntax.Identifier&&this.scanner.isRestrictedWord(oi.name)&&this.tolerateError(Ze.Messages.StrictCatchVariable),this.expect(")");var hi=this.parseBlock();return this.finalize(ei,new Je.CatchClause(oi,hi))},ii.prototype.parseFinallyClause=function(){return this.expectKeyword("finally"),this.parseBlock()},ii.prototype.parseTryStatement=function(){var ei=this.createNode();this.expectKeyword("try");var St=this.parseBlock(),oi=this.matchKeyword("catch")?this.parseCatchClause():null,si=this.matchKeyword("finally")?this.parseFinallyClause():null;return oi||si||this.throwError(Ze.Messages.NoCatchOrFinally),this.finalize(ei,new Je.TryStatement(St,oi,si))},ii.prototype.parseDebuggerStatement=function(){var ei=this.createNode();return this.expectKeyword("debugger"),this.consumeSemicolon(),this.finalize(ei,new Je.DebuggerStatement)},ii.prototype.parseStatement=function(){var ei;switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:ei=this.parseExpressionStatement();break;case 7:var St=this.lookahead.value;ei=St==="{"?this.parseBlock():St==="("?this.parseExpressionStatement():St===";"?this.parseEmptyStatement():this.parseExpressionStatement();break;case 3:ei=this.matchAsyncFunction()?this.parseFunctionDeclaration():this.parseLabelledStatement();break;case 4:switch(this.lookahead.value){case"break":ei=this.parseBreakStatement();break;case"continue":ei=this.parseContinueStatement();break;case"debugger":ei=this.parseDebuggerStatement();break;case"do":ei=this.parseDoWhileStatement();break;case"for":ei=this.parseForStatement();break;case"function":ei=this.parseFunctionDeclaration();break;case"if":ei=this.parseIfStatement();break;case"return":ei=this.parseReturnStatement();break;case"switch":ei=this.parseSwitchStatement();break;case"throw":ei=this.parseThrowStatement();break;case"try":ei=this.parseTryStatement();break;case"var":ei=this.parseVariableStatement();break;case"while":ei=this.parseWhileStatement();break;case"with":ei=this.parseWithStatement();break;default:ei=this.parseExpressionStatement()}break;default:ei=this.throwUnexpectedToken(this.lookahead)}return ei},ii.prototype.parseFunctionSourceElements=function(){var ei=this.createNode();this.expect("{");var St=this.parseDirectivePrologues(),oi=this.context.labelSet,si=this.context.inIteration,ai=this.context.inSwitch,ui=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;this.lookahead.type!==2&&!this.match("}");)St.push(this.parseStatementListItem());return this.expect("}"),this.context.labelSet=oi,this.context.inIteration=si,this.context.inSwitch=ai,this.context.inFunctionBody=ui,this.finalize(ei,new Je.BlockStatement(St))},ii.prototype.validateParam=function(ei,St,oi){var si="$"+oi;this.context.strict?(this.scanner.isRestrictedWord(oi)&&(ei.stricted=St,ei.message=Ze.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(ei.paramSet,si)&&(ei.stricted=St,ei.message=Ze.Messages.StrictParamDupe)):ei.firstRestricted||(this.scanner.isRestrictedWord(oi)?(ei.firstRestricted=St,ei.message=Ze.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(oi)?(ei.firstRestricted=St,ei.message=Ze.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(ei.paramSet,si)&&(ei.stricted=St,ei.message=Ze.Messages.StrictParamDupe)),typeof Object.defineProperty=="function"?Object.defineProperty(ei.paramSet,si,{value:!0,enumerable:!0,writable:!0,configurable:!0}):ei.paramSet[si]=!0},ii.prototype.parseRestElement=function(ei){var St=this.createNode();this.expect("...");var oi=this.parsePattern(ei);return this.match("=")&&this.throwError(Ze.Messages.DefaultRestParameter),this.match(")")||this.throwError(Ze.Messages.ParameterAfterRestParameter),this.finalize(St,new Je.RestElement(oi))},ii.prototype.parseFormalParameter=function(ei){for(var St=[],oi=this.match("...")?this.parseRestElement(St):this.parsePatternWithDefault(St),si=0;si<St.length;si++)this.validateParam(ei,St[si],St[si].value);ei.simple=ei.simple&&oi instanceof Je.Identifier,ei.params.push(oi)},ii.prototype.parseFormalParameters=function(ei){var St;if(St={simple:!0,params:[],firstRestricted:ei},this.expect("("),!this.match(")"))for(St.paramSet={};this.lookahead.type!==2&&(this.parseFormalParameter(St),!this.match(")"))&&(this.expect(","),!this.match(")")););return this.expect(")"),{simple:St.simple,params:St.params,stricted:St.stricted,firstRestricted:St.firstRestricted,message:St.message}},ii.prototype.matchAsyncFunction=function(){var ei=this.matchContextualKeyword("async");if(ei){var St=this.scanner.saveState();this.scanner.scanComments();var oi=this.scanner.lex();this.scanner.restoreState(St),ei=St.lineNumber===oi.lineNumber&&oi.type===4&&oi.value==="function"}return ei},ii.prototype.parseFunctionDeclaration=function(ei){var St=this.createNode(),oi=this.matchContextualKeyword("async");oi&&this.nextToken(),this.expectKeyword("function");var si,ai=!oi&&this.match("*");ai&&this.nextToken();var ui=null,hi=null;if(!ei||!this.match("(")){var ci=this.lookahead;ui=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(ci.value)&&this.tolerateUnexpectedToken(ci,Ze.Messages.StrictFunctionName):this.scanner.isRestrictedWord(ci.value)?(hi=ci,si=Ze.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(ci.value)&&(hi=ci,si=Ze.Messages.StrictReservedWord)}var mi=this.context.await,di=this.context.allowYield;this.context.await=oi,this.context.allowYield=!ai;var pi=this.parseFormalParameters(hi),yi=pi.params,gi=pi.stricted;hi=pi.firstRestricted,pi.message&&(si=pi.message);var _i=this.context.strict,Ai=this.context.allowStrictDirective;this.context.allowStrictDirective=pi.simple;var ki=this.parseFunctionSourceElements();return this.context.strict&&hi&&this.throwUnexpectedToken(hi,si),this.context.strict&&gi&&this.tolerateUnexpectedToken(gi,si),this.context.strict=_i,this.context.allowStrictDirective=Ai,this.context.await=mi,this.context.allowYield=di,oi?this.finalize(St,new Je.AsyncFunctionDeclaration(ui,yi,ki)):this.finalize(St,new Je.FunctionDeclaration(ui,yi,ki,ai))},ii.prototype.parseFunctionExpression=function(){var ei=this.createNode(),St=this.matchContextualKeyword("async");St&&this.nextToken(),this.expectKeyword("function");var oi,si=!St&&this.match("*");si&&this.nextToken();var ai,ui=null,hi=this.context.await,ci=this.context.allowYield;if(this.context.await=St,this.context.allowYield=!si,!this.match("(")){var mi=this.lookahead;ui=this.context.strict||si||!this.matchKeyword("yield")?this.parseVariableIdentifier():this.parseIdentifierName(),this.context.strict?this.scanner.isRestrictedWord(mi.value)&&this.tolerateUnexpectedToken(mi,Ze.Messages.StrictFunctionName):this.scanner.isRestrictedWord(mi.value)?(ai=mi,oi=Ze.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(mi.value)&&(ai=mi,oi=Ze.Messages.StrictReservedWord)}var di=this.parseFormalParameters(ai),pi=di.params,yi=di.stricted;ai=di.firstRestricted,di.message&&(oi=di.message);var gi=this.context.strict,_i=this.context.allowStrictDirective;this.context.allowStrictDirective=di.simple;var Ai=this.parseFunctionSourceElements();return this.context.strict&&ai&&this.throwUnexpectedToken(ai,oi),this.context.strict&&yi&&this.tolerateUnexpectedToken(yi,oi),this.context.strict=gi,this.context.allowStrictDirective=_i,this.context.await=hi,this.context.allowYield=ci,St?this.finalize(ei,new Je.AsyncFunctionExpression(ui,pi,Ai)):this.finalize(ei,new Je.FunctionExpression(ui,pi,Ai,si))},ii.prototype.parseDirective=function(){var ei=this.lookahead,St=this.createNode(),oi=this.parseExpression(),si=oi.type===ti.Syntax.Literal?this.getTokenRaw(ei).slice(1,-1):null;return this.consumeSemicolon(),this.finalize(St,si?new Je.Directive(oi,si):new Je.ExpressionStatement(oi))},ii.prototype.parseDirectivePrologues=function(){for(var ei=null,St=[];;){var oi=this.lookahead;if(oi.type!==8)break;var si=this.parseDirective();St.push(si);var ai=si.directive;if(typeof ai!="string")break;ai==="use strict"?(this.context.strict=!0,ei&&this.tolerateUnexpectedToken(ei,Ze.Messages.StrictOctalLiteral),this.context.allowStrictDirective||this.tolerateUnexpectedToken(oi,Ze.Messages.IllegalLanguageModeDirective)):!ei&&oi.octal&&(ei=oi)}return St},ii.prototype.qualifiedPropertyName=function(ei){switch(ei.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return ei.value==="["}return!1},ii.prototype.parseGetterMethod=function(){var ei=this.createNode(),St=this.context.allowYield;this.context.allowYield=!0;var oi=this.parseFormalParameters();oi.params.length>0&&this.tolerateError(Ze.Messages.BadGetterArity);var si=this.parsePropertyMethod(oi);return this.context.allowYield=St,this.finalize(ei,new Je.FunctionExpression(null,oi.params,si,!1))},ii.prototype.parseSetterMethod=function(){var ei=this.createNode(),St=this.context.allowYield;this.context.allowYield=!0;var oi=this.parseFormalParameters();oi.params.length!==1?this.tolerateError(Ze.Messages.BadSetterArity):oi.params[0]instanceof Je.RestElement&&this.tolerateError(Ze.Messages.BadSetterRestParameter);var si=this.parsePropertyMethod(oi);return this.context.allowYield=St,this.finalize(ei,new Je.FunctionExpression(null,oi.params,si,!1))},ii.prototype.parseGeneratorMethod=function(){var ei=this.createNode(),St=this.context.allowYield;this.context.allowYield=!0;var oi=this.parseFormalParameters();this.context.allowYield=!1;var si=this.parsePropertyMethod(oi);return this.context.allowYield=St,this.finalize(ei,new Je.FunctionExpression(null,oi.params,si,!0))},ii.prototype.isStartOfExpression=function(){var ei=!0,St=this.lookahead.value;switch(this.lookahead.type){case 7:ei=St==="["||St==="("||St==="{"||St==="+"||St==="-"||St==="!"||St==="~"||St==="++"||St==="--"||St==="/"||St==="/=";break;case 4:ei=St==="class"||St==="delete"||St==="function"||St==="let"||St==="new"||St==="super"||St==="this"||St==="typeof"||St==="void"||St==="yield"}return ei},ii.prototype.parseYieldExpression=function(){var ei=this.createNode();this.expectKeyword("yield");var St=null,oi=!1;if(!this.hasLineTerminator){var si=this.context.allowYield;this.context.allowYield=!1,(oi=this.match("*"))?(this.nextToken(),St=this.parseAssignmentExpression()):this.isStartOfExpression()&&(St=this.parseAssignmentExpression()),this.context.allowYield=si}return this.finalize(ei,new Je.YieldExpression(St,oi))},ii.prototype.parseClassElement=function(ei){var St=this.lookahead,oi=this.createNode(),si="",ai=null,ui=null,hi=!1,ci=!1,mi=!1,di=!1;if(this.match("*"))this.nextToken();else if(hi=this.match("["),(ai=this.parseObjectPropertyKey()).name==="static"&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(St=this.lookahead,mi=!0,hi=this.match("["),this.match("*")?this.nextToken():ai=this.parseObjectPropertyKey()),St.type===3&&!this.hasLineTerminator&&St.value==="async"){var pi=this.lookahead.value;pi!==":"&&pi!=="("&&pi!=="*"&&(di=!0,St=this.lookahead,ai=this.parseObjectPropertyKey(),St.type===3&&St.value==="constructor"&&this.tolerateUnexpectedToken(St,Ze.Messages.ConstructorIsAsync))}var yi=this.qualifiedPropertyName(this.lookahead);return St.type===3?St.value==="get"&&yi?(si="get",hi=this.match("["),ai=this.parseObjectPropertyKey(),this.context.allowYield=!1,ui=this.parseGetterMethod()):St.value==="set"&&yi&&(si="set",hi=this.match("["),ai=this.parseObjectPropertyKey(),ui=this.parseSetterMethod()):St.type===7&&St.value==="*"&&yi&&(si="init",hi=this.match("["),ai=this.parseObjectPropertyKey(),ui=this.parseGeneratorMethod(),ci=!0),!si&&ai&&this.match("(")&&(si="init",ui=di?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),ci=!0),si||this.throwUnexpectedToken(this.lookahead),si==="init"&&(si="method"),hi||(mi&&this.isPropertyKey(ai,"prototype")&&this.throwUnexpectedToken(St,Ze.Messages.StaticPrototype),!mi&&this.isPropertyKey(ai,"constructor")&&((si!=="method"||!ci||ui&&ui.generator)&&this.throwUnexpectedToken(St,Ze.Messages.ConstructorSpecialMethod),ei.value?this.throwUnexpectedToken(St,Ze.Messages.DuplicateConstructor):ei.value=!0,si="constructor")),this.finalize(oi,new Je.MethodDefinition(ai,hi,ui,si,mi))},ii.prototype.parseClassElementList=function(){var ei=[],St={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():ei.push(this.parseClassElement(St));return this.expect("}"),ei},ii.prototype.parseClassBody=function(){var ei=this.createNode(),St=this.parseClassElementList();return this.finalize(ei,new Je.ClassBody(St))},ii.prototype.parseClassDeclaration=function(ei){var St=this.createNode(),oi=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var si=ei&&this.lookahead.type!==3?null:this.parseVariableIdentifier(),ai=null;this.matchKeyword("extends")&&(this.nextToken(),ai=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var ui=this.parseClassBody();return this.context.strict=oi,this.finalize(St,new Je.ClassDeclaration(si,ai,ui))},ii.prototype.parseClassExpression=function(){var ei=this.createNode(),St=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var oi=this.lookahead.type===3?this.parseVariableIdentifier():null,si=null;this.matchKeyword("extends")&&(this.nextToken(),si=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var ai=this.parseClassBody();return this.context.strict=St,this.finalize(ei,new Je.ClassExpression(oi,si,ai))},ii.prototype.parseModule=function(){this.context.strict=!0,this.context.isModule=!0,this.scanner.isModule=!0;for(var ei=this.createNode(),St=this.parseDirectivePrologues();this.lookahead.type!==2;)St.push(this.parseStatementListItem());return this.finalize(ei,new Je.Module(St))},ii.prototype.parseScript=function(){for(var ei=this.createNode(),St=this.parseDirectivePrologues();this.lookahead.type!==2;)St.push(this.parseStatementListItem());return this.finalize(ei,new Je.Script(St))},ii.prototype.parseModuleSpecifier=function(){var ei=this.createNode();this.lookahead.type!==8&&this.throwError(Ze.Messages.InvalidModuleSpecifier);var St=this.nextToken(),oi=this.getTokenRaw(St);return this.finalize(ei,new Je.Literal(St.value,oi))},ii.prototype.parseImportSpecifier=function(){var ei,St,oi=this.createNode();return this.lookahead.type===3?(St=ei=this.parseVariableIdentifier(),this.matchContextualKeyword("as")&&(this.nextToken(),St=this.parseVariableIdentifier())):(St=ei=this.parseIdentifierName(),this.matchContextualKeyword("as")?(this.nextToken(),St=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(oi,new Je.ImportSpecifier(St,ei))},ii.prototype.parseNamedImports=function(){this.expect("{");for(var ei=[];!this.match("}");)ei.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");return this.expect("}"),ei},ii.prototype.parseImportDefaultSpecifier=function(){var ei=this.createNode(),St=this.parseIdentifierName();return this.finalize(ei,new Je.ImportDefaultSpecifier(St))},ii.prototype.parseImportNamespaceSpecifier=function(){var ei=this.createNode();this.expect("*"),this.matchContextualKeyword("as")||this.throwError(Ze.Messages.NoAsAfterImportNamespace),this.nextToken();var St=this.parseIdentifierName();return this.finalize(ei,new Je.ImportNamespaceSpecifier(St))},ii.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(Ze.Messages.IllegalImportDeclaration);var ei,St=this.createNode();this.expectKeyword("import");var oi=[];if(this.lookahead.type===8)ei=this.parseModuleSpecifier();else{if(this.match("{")?oi=oi.concat(this.parseNamedImports()):this.match("*")?oi.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(oi.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?oi.push(this.parseImportNamespaceSpecifier()):this.match("{")?oi=oi.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),!this.matchContextualKeyword("from")){var si=this.lookahead.value?Ze.Messages.UnexpectedToken:Ze.Messages.MissingFromClause;this.throwError(si,this.lookahead.value)}this.nextToken(),ei=this.parseModuleSpecifier()}return this.consumeSemicolon(),this.finalize(St,new Je.ImportDeclaration(oi,ei))},ii.prototype.parseExportSpecifier=function(){var ei=this.createNode(),St=this.parseIdentifierName(),oi=St;return this.matchContextualKeyword("as")&&(this.nextToken(),oi=this.parseIdentifierName()),this.finalize(ei,new Je.ExportSpecifier(St,oi))},ii.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(Ze.Messages.IllegalExportDeclaration);var ei,St=this.createNode();if(this.expectKeyword("export"),this.matchKeyword("default"))if(this.nextToken(),this.matchKeyword("function")){var oi=this.parseFunctionDeclaration(!0);ei=this.finalize(St,new Je.ExportDefaultDeclaration(oi))}else this.matchKeyword("class")?(oi=this.parseClassDeclaration(!0),ei=this.finalize(St,new Je.ExportDefaultDeclaration(oi))):this.matchContextualKeyword("async")?(oi=this.matchAsyncFunction()?this.parseFunctionDeclaration(!0):this.parseAssignmentExpression(),ei=this.finalize(St,new Je.ExportDefaultDeclaration(oi))):(this.matchContextualKeyword("from")&&this.throwError(Ze.Messages.UnexpectedToken,this.lookahead.value),oi=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression(),this.consumeSemicolon(),ei=this.finalize(St,new Je.ExportDefaultDeclaration(oi)));else if(this.match("*")){if(this.nextToken(),!this.matchContextualKeyword("from")){var si=this.lookahead.value?Ze.Messages.UnexpectedToken:Ze.Messages.MissingFromClause;this.throwError(si,this.lookahead.value)}this.nextToken();var ai=this.parseModuleSpecifier();this.consumeSemicolon(),ei=this.finalize(St,new Je.ExportAllDeclaration(ai))}else if(this.lookahead.type===4){switch(oi=void 0,this.lookahead.value){case"let":case"const":oi=this.parseLexicalDeclaration({inFor:!1});break;case"var":case"class":case"function":oi=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}ei=this.finalize(St,new Je.ExportNamedDeclaration(oi,[],null))}else if(this.matchAsyncFunction())oi=this.parseFunctionDeclaration(),ei=this.finalize(St,new Je.ExportNamedDeclaration(oi,[],null));else{var ui=[],hi=null,ci=!1;for(this.expect("{");!this.match("}");)ci=ci||this.matchKeyword("default"),ui.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");this.expect("}"),this.matchContextualKeyword("from")?(this.nextToken(),hi=this.parseModuleSpecifier(),this.consumeSemicolon()):ci?(si=this.lookahead.value?Ze.Messages.UnexpectedToken:Ze.Messages.MissingFromClause,this.throwError(si,this.lookahead.value)):this.consumeSemicolon(),ei=this.finalize(St,new Je.ExportNamedDeclaration(null,ui,hi))}return ei},ii}();Xe.Parser=ri},function(ze,Xe){Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.assert=function(We,qe){if(!We)throw new Error("ASSERT: "+qe)}},function(ze,Xe){Object.defineProperty(Xe,"__esModule",{value:!0});var We=function(){function qe(){this.errors=[],this.tolerant=!1}return qe.prototype.recordError=function(Ke){this.errors.push(Ke)},qe.prototype.tolerate=function(Ke){if(!this.tolerant)throw Ke;this.recordError(Ke)},qe.prototype.constructError=function(Ke,Ze){var Je=new Error(Ke);try{throw Je}catch(Qe){Object.create&&Object.defineProperty&&(Je=Object.create(Qe),Object.defineProperty(Je,"column",{value:Ze}))}return Je},qe.prototype.createError=function(Ke,Ze,Je,Qe){var ti="Line "+Ze+": "+Qe,ni=this.constructError(ti,Je);return ni.index=Ke,ni.lineNumber=Ze,ni.description=Qe,ni},qe.prototype.throwError=function(Ke,Ze,Je,Qe){throw this.createError(Ke,Ze,Je,Qe)},qe.prototype.tolerateError=function(Ke,Ze,Je,Qe){var ti=this.createError(Ke,Ze,Je,Qe);if(!this.tolerant)throw ti;this.recordError(ti)},qe}();Xe.ErrorHandler=We},function(ze,Xe){Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.Messages={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"}},function(ze,Xe,We){Object.defineProperty(Xe,"__esModule",{value:!0});var qe=We(9),Ke=We(4),Ze=We(11);function Je(ni){return"0123456789abcdef".indexOf(ni.toLowerCase())}function Qe(ni){return"01234567".indexOf(ni)}var ti=function(){function ni(ri,ii){this.source=ri,this.errorHandler=ii,this.trackComment=!1,this.isModule=!1,this.length=ri.length,this.index=0,this.lineNumber=ri.length>0?1:0,this.lineStart=0,this.curlyStack=[]}return ni.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart}},ni.prototype.restoreState=function(ri){this.index=ri.index,this.lineNumber=ri.lineNumber,this.lineStart=ri.lineStart},ni.prototype.eof=function(){return this.index>=this.length},ni.prototype.throwUnexpectedToken=function(ri){return ri===void 0&&(ri=Ze.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,ri)},ni.prototype.tolerateUnexpectedToken=function(ri){ri===void 0&&(ri=Ze.Messages.UnexpectedTokenIllegal),this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,ri)},ni.prototype.skipSingleLineComment=function(ri){var ii,ei,St=[];for(this.trackComment&&(St=[],ii=this.index-ri,ei={start:{line:this.lineNumber,column:this.index-this.lineStart-ri},end:{}});!this.eof();){var oi=this.source.charCodeAt(this.index);if(++this.index,Ke.Character.isLineTerminator(oi)){if(this.trackComment){ei.end={line:this.lineNumber,column:this.index-this.lineStart-1};var si={multiLine:!1,slice:[ii+ri,this.index-1],range:[ii,this.index-1],loc:ei};St.push(si)}return oi===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,St}}return this.trackComment&&(ei.end={line:this.lineNumber,column:this.index-this.lineStart},si={multiLine:!1,slice:[ii+ri,this.index],range:[ii,this.index],loc:ei},St.push(si)),St},ni.prototype.skipMultiLineComment=function(){var ri,ii,ei=[];for(this.trackComment&&(ei=[],ri=this.index-2,ii={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var St=this.source.charCodeAt(this.index);if(Ke.Character.isLineTerminator(St))St===13&&this.source.charCodeAt(this.index+1)===10&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(St===42){if(this.source.charCodeAt(this.index+1)===47){if(this.index+=2,this.trackComment){ii.end={line:this.lineNumber,column:this.index-this.lineStart};var oi={multiLine:!0,slice:[ri+2,this.index-2],range:[ri,this.index],loc:ii};ei.push(oi)}return ei}++this.index}else++this.index}return this.trackComment&&(ii.end={line:this.lineNumber,column:this.index-this.lineStart},oi={multiLine:!0,slice:[ri+2,this.index],range:[ri,this.index],loc:ii},ei.push(oi)),this.tolerateUnexpectedToken(),ei},ni.prototype.scanComments=function(){var ri;this.trackComment&&(ri=[]);for(var ii=this.index===0;!this.eof();){var ei=this.source.charCodeAt(this.index);if(Ke.Character.isWhiteSpace(ei))++this.index;else if(Ke.Character.isLineTerminator(ei))++this.index,ei===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,ii=!0;else if(ei===47)if((ei=this.source.charCodeAt(this.index+1))===47){this.index+=2;var St=this.skipSingleLineComment(2);this.trackComment&&(ri=ri.concat(St)),ii=!0}else{if(ei!==42)break;this.index+=2,St=this.skipMultiLineComment(),this.trackComment&&(ri=ri.concat(St))}else if(ii&&ei===45){if(this.source.charCodeAt(this.index+1)!==45||this.source.charCodeAt(this.index+2)!==62)break;this.index+=3,St=this.skipSingleLineComment(3),this.trackComment&&(ri=ri.concat(St))}else{if(ei!==60||this.isModule||this.source.slice(this.index+1,this.index+4)!=="!--")break;this.index+=4,St=this.skipSingleLineComment(4),this.trackComment&&(ri=ri.concat(St))}}return ri},ni.prototype.isFutureReservedWord=function(ri){switch(ri){case"enum":case"export":case"import":case"super":return!0;default:return!1}},ni.prototype.isStrictModeReservedWord=function(ri){switch(ri){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}},ni.prototype.isRestrictedWord=function(ri){return ri==="eval"||ri==="arguments"},ni.prototype.isKeyword=function(ri){switch(ri.length){case 2:return ri==="if"||ri==="in"||ri==="do";case 3:return ri==="var"||ri==="for"||ri==="new"||ri==="try"||ri==="let";case 4:return ri==="this"||ri==="else"||ri==="case"||ri==="void"||ri==="with"||ri==="enum";case 5:return ri==="while"||ri==="break"||ri==="catch"||ri==="throw"||ri==="const"||ri==="yield"||ri==="class"||ri==="super";case 6:return ri==="return"||ri==="typeof"||ri==="delete"||ri==="switch"||ri==="export"||ri==="import";case 7:return ri==="default"||ri==="finally"||ri==="extends";case 8:return ri==="function"||ri==="continue"||ri==="debugger";case 10:return ri==="instanceof";default:return!1}},ni.prototype.codePointAt=function(ri){var ii=this.source.charCodeAt(ri);if(ii>=55296&&ii<=56319){var ei=this.source.charCodeAt(ri+1);ei>=56320&&ei<=57343&&(ii=1024*(ii-55296)+ei-56320+65536)}return ii},ni.prototype.scanHexEscape=function(ri){for(var ii=ri==="u"?4:2,ei=0,St=0;St<ii;++St){if(this.eof()||!Ke.Character.isHexDigit(this.source.charCodeAt(this.index)))return null;ei=16*ei+Je(this.source[this.index++])}return String.fromCharCode(ei)},ni.prototype.scanUnicodeCodePointEscape=function(){var ri=this.source[this.index],ii=0;for(ri==="}"&&this.throwUnexpectedToken();!this.eof()&&(ri=this.source[this.index++],Ke.Character.isHexDigit(ri.charCodeAt(0)));)ii=16*ii+Je(ri);return(ii>1114111||ri!=="}")&&this.throwUnexpectedToken(),Ke.Character.fromCodePoint(ii)},ni.prototype.getIdentifier=function(){for(var ri=this.index++;!this.eof();){var ii=this.source.charCodeAt(this.index);if(ii===92)return this.index=ri,this.getComplexIdentifier();if(ii>=55296&&ii<57343)return this.index=ri,this.getComplexIdentifier();if(!Ke.Character.isIdentifierPart(ii))break;++this.index}return this.source.slice(ri,this.index)},ni.prototype.getComplexIdentifier=function(){var ri,ii=this.codePointAt(this.index),ei=Ke.Character.fromCodePoint(ii);for(this.index+=ei.length,ii===92&&(this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,ri=this.scanUnicodeCodePointEscape()):(ri=this.scanHexEscape("u"))!==null&&ri!=="\\"&&Ke.Character.isIdentifierStart(ri.charCodeAt(0))||this.throwUnexpectedToken(),ei=ri);!this.eof()&&(ii=this.codePointAt(this.index),Ke.Character.isIdentifierPart(ii));)ei+=ri=Ke.Character.fromCodePoint(ii),this.index+=ri.length,ii===92&&(ei=ei.substr(0,ei.length-1),this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,ri=this.scanUnicodeCodePointEscape()):(ri=this.scanHexEscape("u"))!==null&&ri!=="\\"&&Ke.Character.isIdentifierPart(ri.charCodeAt(0))||this.throwUnexpectedToken(),ei+=ri);return ei},ni.prototype.octalToDecimal=function(ri){var ii=ri!=="0",ei=Qe(ri);return!this.eof()&&Ke.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(ii=!0,ei=8*ei+Qe(this.source[this.index++]),"0123".indexOf(ri)>=0&&!this.eof()&&Ke.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(ei=8*ei+Qe(this.source[this.index++]))),{code:ei,octal:ii}},ni.prototype.scanIdentifier=function(){var ri,ii=this.index,ei=this.source.charCodeAt(ii)===92?this.getComplexIdentifier():this.getIdentifier();if((ri=ei.length===1?3:this.isKeyword(ei)?4:ei==="null"?5:ei==="true"||ei==="false"?1:3)!=3&&ii+ei.length!==this.index){var St=this.index;this.index=ii,this.tolerateUnexpectedToken(Ze.Messages.InvalidEscapedReservedWord),this.index=St}return{type:ri,value:ei,lineNumber:this.lineNumber,lineStart:this.lineStart,start:ii,end:this.index}},ni.prototype.scanPunctuator=function(){var ri=this.index,ii=this.source[this.index];switch(ii){case"(":case"{":ii==="{"&&this.curlyStack.push("{"),++this.index;break;case".":++this.index,this.source[this.index]==="."&&this.source[this.index+1]==="."&&(this.index+=2,ii="...");break;case"}":++this.index,this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:(ii=this.source.substr(this.index,4))===">>>="?this.index+=4:(ii=ii.substr(0,3))==="==="||ii==="!=="||ii===">>>"||ii==="<<="||ii===">>="||ii==="**="?this.index+=3:(ii=ii.substr(0,2))==="&&"||ii==="||"||ii==="=="||ii==="!="||ii==="+="||ii==="-="||ii==="*="||ii==="/="||ii==="++"||ii==="--"||ii==="<<"||ii===">>"||ii==="&="||ii==="|="||ii==="^="||ii==="%="||ii==="<="||ii===">="||ii==="=>"||ii==="**"?this.index+=2:(ii=this.source[this.index],"<>=!+-*%&|^/".indexOf(ii)>=0&&++this.index)}return this.index===ri&&this.throwUnexpectedToken(),{type:7,value:ii,lineNumber:this.lineNumber,lineStart:this.lineStart,start:ri,end:this.index}},ni.prototype.scanHexLiteral=function(ri){for(var ii="";!this.eof()&&Ke.Character.isHexDigit(this.source.charCodeAt(this.index));)ii+=this.source[this.index++];return ii.length===0&&this.throwUnexpectedToken(),Ke.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseInt("0x"+ii,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:ri,end:this.index}},ni.prototype.scanBinaryLiteral=function(ri){for(var ii,ei="";!this.eof()&&((ii=this.source[this.index])==="0"||ii==="1");)ei+=this.source[this.index++];return ei.length===0&&this.throwUnexpectedToken(),this.eof()||(ii=this.source.charCodeAt(this.index),(Ke.Character.isIdentifierStart(ii)||Ke.Character.isDecimalDigit(ii))&&this.throwUnexpectedToken()),{type:6,value:parseInt(ei,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:ri,end:this.index}},ni.prototype.scanOctalLiteral=function(ri,ii){var ei="",St=!1;for(Ke.Character.isOctalDigit(ri.charCodeAt(0))?(St=!0,ei="0"+this.source[this.index++]):++this.index;!this.eof()&&Ke.Character.isOctalDigit(this.source.charCodeAt(this.index));)ei+=this.source[this.index++];return St||ei.length!==0||this.throwUnexpectedToken(),(Ke.Character.isIdentifierStart(this.source.charCodeAt(this.index))||Ke.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:6,value:parseInt(ei,8),octal:St,lineNumber:this.lineNumber,lineStart:this.lineStart,start:ii,end:this.index}},ni.prototype.isImplicitOctalLiteral=function(){for(var ri=this.index+1;ri<this.length;++ri){var ii=this.source[ri];if(ii==="8"||ii==="9")return!1;if(!Ke.Character.isOctalDigit(ii.charCodeAt(0)))return!0}return!0},ni.prototype.scanNumericLiteral=function(){var ri=this.index,ii=this.source[ri];qe.assert(Ke.Character.isDecimalDigit(ii.charCodeAt(0))||ii===".","Numeric literal must start with a decimal digit or a decimal point");var ei="";if(ii!=="."){if(ei=this.source[this.index++],ii=this.source[this.index],ei==="0"){if(ii==="x"||ii==="X")return++this.index,this.scanHexLiteral(ri);if(ii==="b"||ii==="B")return++this.index,this.scanBinaryLiteral(ri);if(ii==="o"||ii==="O")return this.scanOctalLiteral(ii,ri);if(ii&&Ke.Character.isOctalDigit(ii.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(ii,ri)}for(;Ke.Character.isDecimalDigit(this.source.charCodeAt(this.index));)ei+=this.source[this.index++];ii=this.source[this.index]}if(ii==="."){for(ei+=this.source[this.index++];Ke.Character.isDecimalDigit(this.source.charCodeAt(this.index));)ei+=this.source[this.index++];ii=this.source[this.index]}if(ii==="e"||ii==="E")if(ei+=this.source[this.index++],(ii=this.source[this.index])!=="+"&&ii!=="-"||(ei+=this.source[this.index++]),Ke.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;Ke.Character.isDecimalDigit(this.source.charCodeAt(this.index));)ei+=this.source[this.index++];else this.throwUnexpectedToken();return Ke.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseFloat(ei),lineNumber:this.lineNumber,lineStart:this.lineStart,start:ri,end:this.index}},ni.prototype.scanStringLiteral=function(){var ri=this.index,ii=this.source[ri];qe.assert(ii==="'"||ii==='"',"String literal must starts with a quote"),++this.index;for(var ei=!1,St="";!this.eof();){var oi=this.source[this.index++];if(oi===ii){ii="";break}if(oi==="\\")if((oi=this.source[this.index++])&&Ke.Character.isLineTerminator(oi.charCodeAt(0)))++this.lineNumber,oi==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else switch(oi){case"u":if(this.source[this.index]==="{")++this.index,St+=this.scanUnicodeCodePointEscape();else{var si=this.scanHexEscape(oi);si===null&&this.throwUnexpectedToken(),St+=si}break;case"x":var ai=this.scanHexEscape(oi);ai===null&&this.throwUnexpectedToken(Ze.Messages.InvalidHexEscapeSequence),St+=ai;break;case"n":St+=`
`;break;case"r":St+="\r";break;case"t":St+="	";break;case"b":St+="\b";break;case"f":St+="\f";break;case"v":St+="\v";break;case"8":case"9":St+=oi,this.tolerateUnexpectedToken();break;default:if(oi&&Ke.Character.isOctalDigit(oi.charCodeAt(0))){var ui=this.octalToDecimal(oi);ei=ui.octal||ei,St+=String.fromCharCode(ui.code)}else St+=oi}else{if(Ke.Character.isLineTerminator(oi.charCodeAt(0)))break;St+=oi}}return ii!==""&&(this.index=ri,this.throwUnexpectedToken()),{type:8,value:St,octal:ei,lineNumber:this.lineNumber,lineStart:this.lineStart,start:ri,end:this.index}},ni.prototype.scanTemplate=function(){var ri="",ii=!1,ei=this.index,St=this.source[ei]==="`",oi=!1,si=2;for(++this.index;!this.eof();){var ai=this.source[this.index++];if(ai==="`"){si=1,oi=!0,ii=!0;break}if(ai==="$"){if(this.source[this.index]==="{"){this.curlyStack.push("${"),++this.index,ii=!0;break}ri+=ai}else if(ai==="\\")if(ai=this.source[this.index++],Ke.Character.isLineTerminator(ai.charCodeAt(0)))++this.lineNumber,ai==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else switch(ai){case"n":ri+=`
`;break;case"r":ri+="\r";break;case"t":ri+="	";break;case"u":if(this.source[this.index]==="{")++this.index,ri+=this.scanUnicodeCodePointEscape();else{var ui=this.index,hi=this.scanHexEscape(ai);hi!==null?ri+=hi:(this.index=ui,ri+=ai)}break;case"x":var ci=this.scanHexEscape(ai);ci===null&&this.throwUnexpectedToken(Ze.Messages.InvalidHexEscapeSequence),ri+=ci;break;case"b":ri+="\b";break;case"f":ri+="\f";break;case"v":ri+="\v";break;default:ai==="0"?(Ke.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(Ze.Messages.TemplateOctalLiteral),ri+="\0"):Ke.Character.isOctalDigit(ai.charCodeAt(0))?this.throwUnexpectedToken(Ze.Messages.TemplateOctalLiteral):ri+=ai}else Ke.Character.isLineTerminator(ai.charCodeAt(0))?(++this.lineNumber,ai==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index,ri+=`
`):ri+=ai}return ii||this.throwUnexpectedToken(),St||this.curlyStack.pop(),{type:10,value:this.source.slice(ei+1,this.index-si),cooked:ri,head:St,tail:oi,lineNumber:this.lineNumber,lineStart:this.lineStart,start:ei,end:this.index}},ni.prototype.testRegExp=function(ri,ii){var ei=ri,St=this;ii.indexOf("u")>=0&&(ei=ei.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,function(oi,si,ai){var ui=parseInt(si||ai,16);return ui>1114111&&St.throwUnexpectedToken(Ze.Messages.InvalidRegExp),ui<=65535?String.fromCharCode(ui):""}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,""));try{RegExp(ei)}catch{this.throwUnexpectedToken(Ze.Messages.InvalidRegExp)}try{return new RegExp(ri,ii)}catch{return null}},ni.prototype.scanRegExpBody=function(){var ri=this.source[this.index];qe.assert(ri==="/","Regular expression literal must start with a slash");for(var ii=this.source[this.index++],ei=!1,St=!1;!this.eof();)if(ii+=ri=this.source[this.index++],ri==="\\")ri=this.source[this.index++],Ke.Character.isLineTerminator(ri.charCodeAt(0))&&this.throwUnexpectedToken(Ze.Messages.UnterminatedRegExp),ii+=ri;else if(Ke.Character.isLineTerminator(ri.charCodeAt(0)))this.throwUnexpectedToken(Ze.Messages.UnterminatedRegExp);else if(ei)ri==="]"&&(ei=!1);else{if(ri==="/"){St=!0;break}ri==="["&&(ei=!0)}return St||this.throwUnexpectedToken(Ze.Messages.UnterminatedRegExp),ii.substr(1,ii.length-2)},ni.prototype.scanRegExpFlags=function(){for(var ri="";!this.eof();){var ii=this.source[this.index];if(!Ke.Character.isIdentifierPart(ii.charCodeAt(0)))break;if(++this.index,ii!=="\\"||this.eof())ri+=ii;else if((ii=this.source[this.index])==="u"){++this.index;var ei=this.index,St=this.scanHexEscape("u");if(St!==null)for(ri+=St;ei<this.index;++ei)this.source[ei];else this.index=ei,ri+="u";this.tolerateUnexpectedToken()}else this.tolerateUnexpectedToken()}return ri},ni.prototype.scanRegExp=function(){var ri=this.index,ii=this.scanRegExpBody(),ei=this.scanRegExpFlags();return{type:9,value:"",pattern:ii,flags:ei,regex:this.testRegExp(ii,ei),lineNumber:this.lineNumber,lineStart:this.lineStart,start:ri,end:this.index}},ni.prototype.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var ri=this.source.charCodeAt(this.index);return Ke.Character.isIdentifierStart(ri)?this.scanIdentifier():ri===40||ri===41||ri===59?this.scanPunctuator():ri===39||ri===34?this.scanStringLiteral():ri===46?Ke.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():Ke.Character.isDecimalDigit(ri)?this.scanNumericLiteral():ri===96||ri===125&&this.curlyStack[this.curlyStack.length-1]==="${"?this.scanTemplate():ri>=55296&&ri<57343&&Ke.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},ni}();Xe.Scanner=ti},function(ze,Xe){Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.TokenName={},Xe.TokenName[1]="Boolean",Xe.TokenName[2]="<end>",Xe.TokenName[3]="Identifier",Xe.TokenName[4]="Keyword",Xe.TokenName[5]="Null",Xe.TokenName[6]="Numeric",Xe.TokenName[7]="Punctuator",Xe.TokenName[8]="String",Xe.TokenName[9]="RegularExpression",Xe.TokenName[10]="Template"},function(ze,Xe){Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",fnof:"",circ:"",tilde:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",bull:"",hellip:"",permil:"",prime:"",Prime:"",lsaquo:"",rsaquo:"",oline:"",frasl:"",euro:"",image:"",weierp:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",lang:"",rang:""}},function(ze,Xe,We){Object.defineProperty(Xe,"__esModule",{value:!0});var qe=We(10),Ke=We(12),Ze=We(13),Je=function(){function ti(){this.values=[],this.curly=this.paren=-1}return ti.prototype.beforeFunctionExpression=function(ni){return["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(ni)>=0},ti.prototype.isRegexStart=function(){var ni=this.values[this.values.length-1],ri=ni!==null;switch(ni){case"this":case"]":ri=!1;break;case")":var ii=this.values[this.paren-1];ri=ii==="if"||ii==="while"||ii==="for"||ii==="with";break;case"}":if(ri=!1,this.values[this.curly-3]==="function")ri=!!(ei=this.values[this.curly-4])&&!this.beforeFunctionExpression(ei);else if(this.values[this.curly-4]==="function"){var ei;ri=!(ei=this.values[this.curly-5])||!this.beforeFunctionExpression(ei)}}return ri},ti.prototype.push=function(ni){ni.type===7||ni.type===4?(ni.value==="{"?this.curly=this.values.length:ni.value==="("&&(this.paren=this.values.length),this.values.push(ni.value)):this.values.push(null)},ti}(),Qe=function(){function ti(ni,ri){this.errorHandler=new qe.ErrorHandler,this.errorHandler.tolerant=!!ri&&typeof ri.tolerant=="boolean"&&ri.tolerant,this.scanner=new Ke.Scanner(ni,this.errorHandler),this.scanner.trackComment=!!ri&&typeof ri.comment=="boolean"&&ri.comment,this.trackRange=!!ri&&typeof ri.range=="boolean"&&ri.range,this.trackLoc=!!ri&&typeof ri.loc=="boolean"&&ri.loc,this.buffer=[],this.reader=new Je}return ti.prototype.errors=function(){return this.errorHandler.errors},ti.prototype.getNextToken=function(){if(this.buffer.length===0){var ni=this.scanner.scanComments();if(this.scanner.trackComment)for(var ri=0;ri<ni.length;++ri){var ii=ni[ri],ei=this.scanner.source.slice(ii.slice[0],ii.slice[1]),St={type:ii.multiLine?"BlockComment":"LineComment",value:ei};this.trackRange&&(St.range=ii.range),this.trackLoc&&(St.loc=ii.loc),this.buffer.push(St)}if(!this.scanner.eof()){var oi=void 0;this.trackLoc&&(oi={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var si=this.scanner.source[this.scanner.index]==="/"&&this.reader.isRegexStart()?this.scanner.scanRegExp():this.scanner.lex();this.reader.push(si);var ai={type:Ze.TokenName[si.type],value:this.scanner.source.slice(si.start,si.end)};if(this.trackRange&&(ai.range=[si.start,si.end]),this.trackLoc&&(oi.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},ai.loc=oi),si.type===9){var ui=si.pattern,hi=si.flags;ai.regex={pattern:ui,flags:hi}}this.buffer.push(ai)}}return this.buffer.shift()},ti}();Xe.Tokenizer=Qe}])},t.exports=je()},function(t,r,Ve){var je=Ve(38),ze=Ve(53),Xe=Ve(76),We=Ve(54),qe=Object.prototype.toString,Ke=Object.prototype.hasOwnProperty,Ze={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},Je=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function Qe(gi){var _i,Ai,ki;if(_i=gi.toString(16).toUpperCase(),gi<=255)Ai="x",ki=2;else if(gi<=65535)Ai="u",ki=4;else{if(!(gi<=4294967295))throw new ze("code point within a string may not be greater than 0xFFFFFFFF");Ai="U",ki=8}return"\\"+Ai+je.repeat("0",ki-_i.length)+_i}function ti(gi){this.schema=gi.schema||Xe,this.indent=Math.max(1,gi.indent||2),this.noArrayIndent=gi.noArrayIndent||!1,this.skipInvalid=gi.skipInvalid||!1,this.flowLevel=je.isNothing(gi.flowLevel)?-1:gi.flowLevel,this.styleMap=function(_i,Ai){var ki,vi,Mi,Di,Bi,Pi,Fi;if(Ai===null)return{};for(ki={},Mi=0,Di=(vi=Object.keys(Ai)).length;Mi<Di;Mi+=1)Bi=vi[Mi],Pi=String(Ai[Bi]),Bi.slice(0,2)==="!!"&&(Bi="tag:yaml.org,2002:"+Bi.slice(2)),(Fi=_i.compiledTypeMap.fallback[Bi])&&Ke.call(Fi.styleAliases,Pi)&&(Pi=Fi.styleAliases[Pi]),ki[Bi]=Pi;return ki}(this.schema,gi.styles||null),this.sortKeys=gi.sortKeys||!1,this.lineWidth=gi.lineWidth||80,this.noRefs=gi.noRefs||!1,this.noCompatMode=gi.noCompatMode||!1,this.condenseFlow=gi.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function ni(gi,_i){for(var Ai,ki=je.repeat(" ",_i),vi=0,Mi=-1,Di="",Bi=gi.length;vi<Bi;)(Mi=gi.indexOf(`
`,vi))===-1?(Ai=gi.slice(vi),vi=Bi):(Ai=gi.slice(vi,Mi+1),vi=Mi+1),Ai.length&&Ai!==`
`&&(Di+=ki),Di+=Ai;return Di}function ri(gi,_i){return`
`+je.repeat(" ",gi.indent*_i)}function ii(gi){return gi===32||gi===9}function ei(gi){return 32<=gi&&gi<=126||161<=gi&&gi<=55295&&gi!==8232&&gi!==8233||57344<=gi&&gi<=65533&&gi!==65279||65536<=gi&&gi<=1114111}function St(gi,_i){return ei(gi)&&gi!==65279&&gi!==44&&gi!==91&&gi!==93&&gi!==123&&gi!==125&&gi!==58&&(gi!==35||_i&&function(Ai){return ei(Ai)&&!ii(Ai)&&Ai!==65279&&Ai!==13&&Ai!==10}(_i))}function oi(gi){return/^\n* /.test(gi)}function si(gi,_i,Ai,ki,vi){var Mi,Di,Bi,Pi,Fi=!1,Vi=!1,Ti=ki!==-1,ji=-1,Gi=ei(Pi=gi.charCodeAt(0))&&Pi!==65279&&!ii(Pi)&&Pi!==45&&Pi!==63&&Pi!==58&&Pi!==44&&Pi!==91&&Pi!==93&&Pi!==123&&Pi!==125&&Pi!==35&&Pi!==38&&Pi!==42&&Pi!==33&&Pi!==124&&Pi!==61&&Pi!==62&&Pi!==39&&Pi!==34&&Pi!==37&&Pi!==64&&Pi!==96&&!ii(gi.charCodeAt(gi.length-1));if(_i)for(Mi=0;Mi<gi.length;Mi++){if(!ei(Di=gi.charCodeAt(Mi)))return 5;Bi=Mi>0?gi.charCodeAt(Mi-1):null,Gi=Gi&&St(Di,Bi)}else{for(Mi=0;Mi<gi.length;Mi++){if((Di=gi.charCodeAt(Mi))===10)Fi=!0,Ti&&(Vi=Vi||Mi-ji-1>ki&&gi[ji+1]!==" ",ji=Mi);else if(!ei(Di))return 5;Bi=Mi>0?gi.charCodeAt(Mi-1):null,Gi=Gi&&St(Di,Bi)}Vi=Vi||Ti&&Mi-ji-1>ki&&gi[ji+1]!==" "}return Fi||Vi?Ai>9&&oi(gi)?5:Vi?4:3:Gi&&!vi(gi)?1:2}function ai(gi,_i,Ai,ki){gi.dump=function(){if(_i.length===0)return"''";if(!gi.noCompatMode&&Je.indexOf(_i)!==-1)return"'"+_i+"'";var vi=gi.indent*Math.max(1,Ai),Mi=gi.lineWidth===-1?-1:Math.max(Math.min(gi.lineWidth,40),gi.lineWidth-vi),Di=ki||gi.flowLevel>-1&&Ai>=gi.flowLevel;switch(si(_i,Di,gi.indent,Mi,function(Bi){return function(Pi,Fi){var Vi,Ti;for(Vi=0,Ti=Pi.implicitTypes.length;Vi<Ti;Vi+=1)if(Pi.implicitTypes[Vi].resolve(Fi))return!0;return!1}(gi,Bi)})){case 1:return _i;case 2:return"'"+_i.replace(/'/g,"''")+"'";case 3:return"|"+ui(_i,gi.indent)+hi(ni(_i,vi));case 4:return">"+ui(_i,gi.indent)+hi(ni(function(Bi,Pi){for(var Fi,Vi,Ti=/(\n+)([^\n]*)/g,ji=(Yi=Bi.indexOf(`
`),Yi=Yi!==-1?Yi:Bi.length,Ti.lastIndex=Yi,ci(Bi.slice(0,Yi),Pi)),Gi=Bi[0]===`
`||Bi[0]===" ",Yi;Vi=Ti.exec(Bi);){var Xi=Vi[1],xi=Vi[2];Fi=xi[0]===" ",ji+=Xi+(Gi||Fi||xi===""?"":`
`)+ci(xi,Pi),Gi=Fi}return ji}(_i,Mi),vi));case 5:return'"'+function(Bi){for(var Pi,Fi,Vi,Ti="",ji=0;ji<Bi.length;ji++)(Pi=Bi.charCodeAt(ji))>=55296&&Pi<=56319&&(Fi=Bi.charCodeAt(ji+1))>=56320&&Fi<=57343?(Ti+=Qe(1024*(Pi-55296)+Fi-56320+65536),ji++):(Vi=Ze[Pi],Ti+=!Vi&&ei(Pi)?Bi[ji]:Vi||Qe(Pi));return Ti}(_i)+'"';default:throw new ze("impossible error: invalid scalar style")}}()}function ui(gi,_i){var Ai=oi(gi)?String(_i):"",ki=gi[gi.length-1]===`
`;return Ai+(ki&&(gi[gi.length-2]===`
`||gi===`
`)?"+":ki?"":"-")+`
`}function hi(gi){return gi[gi.length-1]===`
`?gi.slice(0,-1):gi}function ci(gi,_i){if(gi===""||gi[0]===" ")return gi;for(var Ai,ki,vi=/ [^ ]/g,Mi=0,Di=0,Bi=0,Pi="";Ai=vi.exec(gi);)(Bi=Ai.index)-Mi>_i&&(ki=Di>Mi?Di:Bi,Pi+=`
`+gi.slice(Mi,ki),Mi=ki+1),Di=Bi;return Pi+=`
`,gi.length-Mi>_i&&Di>Mi?Pi+=gi.slice(Mi,Di)+`
`+gi.slice(Di+1):Pi+=gi.slice(Mi),Pi.slice(1)}function mi(gi,_i,Ai){var ki,vi,Mi,Di,Bi,Pi;for(Mi=0,Di=(vi=Ai?gi.explicitTypes:gi.implicitTypes).length;Mi<Di;Mi+=1)if(((Bi=vi[Mi]).instanceOf||Bi.predicate)&&(!Bi.instanceOf||typeof _i=="object"&&_i instanceof Bi.instanceOf)&&(!Bi.predicate||Bi.predicate(_i))){if(gi.tag=Ai?Bi.tag:"?",Bi.represent){if(Pi=gi.styleMap[Bi.tag]||Bi.defaultStyle,qe.call(Bi.represent)==="[object Function]")ki=Bi.represent(_i,Pi);else{if(!Ke.call(Bi.represent,Pi))throw new ze("!<"+Bi.tag+'> tag resolver accepts not "'+Pi+'" style');ki=Bi.represent[Pi](_i,Pi)}gi.dump=ki}return!0}return!1}function di(gi,_i,Ai,ki,vi,Mi){gi.tag=null,gi.dump=Ai,mi(gi,Ai,!1)||mi(gi,Ai,!0);var Di=qe.call(gi.dump);ki&&(ki=gi.flowLevel<0||gi.flowLevel>_i);var Bi,Pi,Fi=Di==="[object Object]"||Di==="[object Array]";if(Fi&&(Pi=(Bi=gi.duplicates.indexOf(Ai))!==-1),(gi.tag!==null&&gi.tag!=="?"||Pi||gi.indent!==2&&_i>0)&&(vi=!1),Pi&&gi.usedDuplicates[Bi])gi.dump="*ref_"+Bi;else{if(Fi&&Pi&&!gi.usedDuplicates[Bi]&&(gi.usedDuplicates[Bi]=!0),Di==="[object Object]")ki&&Object.keys(gi.dump).length!==0?(function(Ti,ji,Gi,Yi){var Xi,xi,fi,$i,bi,Ci,Ei="",Si=Ti.tag,zi=Object.keys(Gi);if(Ti.sortKeys===!0)zi.sort();else if(typeof Ti.sortKeys=="function")zi.sort(Ti.sortKeys);else if(Ti.sortKeys)throw new ze("sortKeys must be a boolean or a function");for(Xi=0,xi=zi.length;Xi<xi;Xi+=1)Ci="",Yi&&Xi===0||(Ci+=ri(Ti,ji)),$i=Gi[fi=zi[Xi]],di(Ti,ji+1,fi,!0,!0,!0)&&((bi=Ti.tag!==null&&Ti.tag!=="?"||Ti.dump&&Ti.dump.length>1024)&&(Ti.dump&&Ti.dump.charCodeAt(0)===10?Ci+="?":Ci+="? "),Ci+=Ti.dump,bi&&(Ci+=ri(Ti,ji)),di(Ti,ji+1,$i,!0,bi)&&(Ti.dump&&Ti.dump.charCodeAt(0)===10?Ci+=":":Ci+=": ",Ei+=Ci+=Ti.dump));Ti.tag=Si,Ti.dump=Ei||"{}"}(gi,_i,gi.dump,vi),Pi&&(gi.dump="&ref_"+Bi+gi.dump)):(function(Ti,ji,Gi){var Yi,Xi,xi,fi,$i,bi="",Ci=Ti.tag,Ei=Object.keys(Gi);for(Yi=0,Xi=Ei.length;Yi<Xi;Yi+=1)$i="",Yi!==0&&($i+=", "),Ti.condenseFlow&&($i+='"'),fi=Gi[xi=Ei[Yi]],di(Ti,ji,xi,!1,!1)&&(Ti.dump.length>1024&&($i+="? "),$i+=Ti.dump+(Ti.condenseFlow?'"':"")+":"+(Ti.condenseFlow?"":" "),di(Ti,ji,fi,!1,!1)&&(bi+=$i+=Ti.dump));Ti.tag=Ci,Ti.dump="{"+bi+"}"}(gi,_i,gi.dump),Pi&&(gi.dump="&ref_"+Bi+" "+gi.dump));else if(Di==="[object Array]"){var Vi=gi.noArrayIndent&&_i>0?_i-1:_i;ki&&gi.dump.length!==0?(function(Ti,ji,Gi,Yi){var Xi,xi,fi="",$i=Ti.tag;for(Xi=0,xi=Gi.length;Xi<xi;Xi+=1)di(Ti,ji+1,Gi[Xi],!0,!0)&&(Yi&&Xi===0||(fi+=ri(Ti,ji)),Ti.dump&&Ti.dump.charCodeAt(0)===10?fi+="-":fi+="- ",fi+=Ti.dump);Ti.tag=$i,Ti.dump=fi||"[]"}(gi,Vi,gi.dump,vi),Pi&&(gi.dump="&ref_"+Bi+gi.dump)):(function(Ti,ji,Gi){var Yi,Xi,xi="",fi=Ti.tag;for(Yi=0,Xi=Gi.length;Yi<Xi;Yi+=1)di(Ti,ji,Gi[Yi],!1,!1)&&(Yi!==0&&(xi+=","+(Ti.condenseFlow?"":" ")),xi+=Ti.dump);Ti.tag=fi,Ti.dump="["+xi+"]"}(gi,Vi,gi.dump),Pi&&(gi.dump="&ref_"+Bi+" "+gi.dump))}else{if(Di!=="[object String]"){if(gi.skipInvalid)return!1;throw new ze("unacceptable kind of an object to dump "+Di)}gi.tag!=="?"&&ai(gi,gi.dump,_i,Mi)}gi.tag!==null&&gi.tag!=="?"&&(gi.dump="!<"+gi.tag+"> "+gi.dump)}return!0}function pi(gi,_i){var Ai,ki,vi=[],Mi=[];for(function Di(Bi,Pi,Fi){var Vi,Ti,ji;if(Bi!==null&&typeof Bi=="object")if((Ti=Pi.indexOf(Bi))!==-1)Fi.indexOf(Ti)===-1&&Fi.push(Ti);else if(Pi.push(Bi),Array.isArray(Bi))for(Ti=0,ji=Bi.length;Ti<ji;Ti+=1)Di(Bi[Ti],Pi,Fi);else for(Vi=Object.keys(Bi),Ti=0,ji=Vi.length;Ti<ji;Ti+=1)Di(Bi[Vi[Ti]],Pi,Fi)}(gi,vi,Mi),Ai=0,ki=Mi.length;Ai<ki;Ai+=1)_i.duplicates.push(vi[Mi[Ai]]);_i.usedDuplicates=new Array(ki)}function yi(gi,_i){var Ai=new ti(_i=_i||{});return Ai.noRefs||pi(gi,Ai),di(Ai,0,gi,!0,!0)?Ai.dump+`
`:""}t.exports.dump=yi,t.exports.safeDump=function(gi,_i){return yi(gi,je.extend({schema:We},_i))}},function(t,r,Ve){Ve(31),Ve(32),Ve(33),Ve(64),Ve(19),Ve(65),Ve(20),Ve(68),Ve(92),Ve(144),Ve(22),Ve(94),Ve(23);var je,ze=this&&this.__extends||(je=function(si,ai){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ui,hi){ui.__proto__=hi}||function(ui,hi){for(var ci in hi)hi.hasOwnProperty(ci)&&(ui[ci]=hi[ci])})(si,ai)},function(si,ai){function ui(){this.constructor=si}je(si,ai),si.prototype=ai===null?Object.create(ai):(ui.prototype=ai.prototype,new ui)}),Xe=this&&this.__values||function(si){var ai=typeof Symbol=="function"&&Symbol.iterator,ui=ai&&si[ai],hi=0;if(ui)return ui.call(si);if(si&&typeof si.length=="number")return{next:function(){return si&&hi>=si.length&&(si=void 0),{value:si&&si[hi++],done:!si}}};throw new TypeError(ai?"Object is not iterable.":"Symbol.iterator is not defined.")},We=this&&this.__read||function(si,ai){var ui=typeof Symbol=="function"&&si[Symbol.iterator];if(!ui)return si;var hi,ci,mi=ui.call(si),di=[];try{for(;(ai===void 0||ai-- >0)&&!(hi=mi.next()).done;)di.push(hi.value)}catch(pi){ci={error:pi}}finally{try{hi&&!hi.done&&(ui=mi.return)&&ui.call(mi)}finally{if(ci)throw ci.error}}return di};Object.defineProperty(r,"__esModule",{value:!0});var qe=Ve(91),Ke=Ve(2),Ze=Ve(183),Je=Ve(0),Qe=Ve(7),ti=Ve(95),ni=Ve(69),ri=Ve(3),ii=Ve(306),ei=Ve(307),St=Ve(308),oi=function(si){function ai(ui,hi){hi===void 0&&(hi=!1);var ci=si.call(this)||this;return ci._hasDeclaration=!1,ci._docTypeName="",ci._hasDocumentElement=!1,ci._currentElementSerialized=!1,ci._openTags=[],ci._ended=!1,ci._fragment=hi,ci._options=Ke.applyDefaults(ui||{},qe.DefaultXMLBuilderCBOptions),ci._builderOptions={defaultNamespace:ci._options.defaultNamespace,namespaceAlias:ci._options.namespaceAlias},ci._options.format==="json"?ci._writer=new ei.JSONCBWriter(ci._options):ci._options.format==="yaml"?ci._writer=new St.YAMLCBWriter(ci._options):ci._writer=new ii.XMLCBWriter(ci._options),ci._options.data!==void 0&&ci.on("data",ci._options.data),ci._options.end!==void 0&&ci.on("end",ci._options.end),ci._options.error!==void 0&&ci.on("error",ci._options.error),ci._prefixMap=new ti.NamespacePrefixMap,ci._prefixMap.set("xml",Qe.namespace.XML),ci._prefixIndex={value:1},ci._push(ci._writer.frontMatter()),ci}return ze(ai,si),ai.prototype.ele=function(ui,hi,ci){var mi,di;if(Ke.isObject(ui)||Ke.isString(ui)&&(/^\s*</.test(ui)||/^\s*[\{\[]/.test(ui)||/^(\s*|(#.*)|(%.*))*---/.test(ui))){var pi=Ze.fragment().set(this._options);try{pi.ele(ui)}catch(Ai){return this.emit("error",Ai),this}try{for(var yi=Xe(pi.node.childNodes),gi=yi.next();!gi.done;gi=yi.next()){var _i=gi.value;this._fromNode(_i)}}catch(Ai){mi={error:Ai}}finally{try{gi&&!gi.done&&(di=yi.return)&&di.call(yi)}finally{if(mi)throw mi.error}}return this}if(this._serializeOpenTag(!0),!this._fragment&&this._hasDocumentElement&&this._writer.level===0)return this.emit("error",new Error("Document cannot have multiple document element nodes.")),this;try{this._currentElement=Ze.fragment(this._builderOptions).ele(ui,hi,ci)}catch(Ai){return this.emit("error",Ai),this}return this._fragment||this._hasDocumentElement||this._docTypeName===""||this._currentElement.node._qualifiedName===this._docTypeName?(this._currentElementSerialized=!1,this._fragment||(this._hasDocumentElement=!0),this):(this.emit("error",new Error("Document element name does not match DocType declaration name.")),this)},ai.prototype.att=function(ui,hi,ci){if(this._currentElement===void 0)return this.emit("error",new Error("Cannot insert an attribute node as child of a document node.")),this;try{this._currentElement.att(ui,hi,ci)}catch(mi){return this.emit("error",mi),this}return this},ai.prototype.com=function(ui){var hi;this._serializeOpenTag(!0);try{hi=Ze.fragment(this._builderOptions).com(ui).first().node}catch(ci){return this.emit("error",ci),this}return!this._options.wellFormed||Je.xml_isLegalChar(hi.data)&&hi.data.indexOf("--")===-1&&!hi.data.endsWith("-")?(this._push(this._writer.comment(hi.data)),this):(this.emit("error",new Error("Comment data contains invalid characters (well-formed required).")),this)},ai.prototype.txt=function(ui){if(!this._fragment&&this._currentElement===void 0)return this.emit("error",new Error("Cannot insert a text node as child of a document node.")),this;var hi;this._serializeOpenTag(!0);try{hi=Ze.fragment(this._builderOptions).txt(ui).first().node}catch(mi){return this.emit("error",mi),this}if(this._options.wellFormed&&!Je.xml_isLegalChar(hi.data))return this.emit("error",new Error("Text data contains invalid characters (well-formed required).")),this;var ci=hi.data.replace(/(?!&(lt|gt|amp|apos|quot);)&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return this._push(this._writer.text(ci)),this},ai.prototype.ins=function(ui,hi){var ci;hi===void 0&&(hi=""),this._serializeOpenTag(!0);try{ci=Ze.fragment(this._builderOptions).ins(ui,hi).first().node}catch(mi){return this.emit("error",mi),this}return this._options.wellFormed&&(ci.target.indexOf(":")!==-1||/^xml$/i.test(ci.target))?(this.emit("error",new Error("Processing instruction target contains invalid characters (well-formed required).")),this):this._options.wellFormed&&!Je.xml_isLegalChar(ci.data)?(this.emit("error",Error("Processing instruction data contains invalid characters (well-formed required).")),this):(this._push(this._writer.instruction(ci.target,ci.data)),this)},ai.prototype.dat=function(ui){var hi;this._serializeOpenTag(!0);try{hi=Ze.fragment(this._builderOptions).dat(ui).first().node}catch(ci){return this.emit("error",ci),this}return this._push(this._writer.cdata(hi.data)),this},ai.prototype.dec=function(ui){return ui===void 0&&(ui={version:"1.0"}),this._fragment?(this.emit("error",Error("Cannot insert an XML declaration into a document fragment.")),this):this._hasDeclaration?(this.emit("error",Error("XML declaration is already inserted.")),this):(this._push(this._writer.declaration(ui.version||"1.0",ui.encoding,ui.standalone)),this._hasDeclaration=!0,this)},ai.prototype.dtd=function(ui){if(this._fragment)return this.emit("error",Error("Cannot insert a DocType declaration into a document fragment.")),this;if(this._docTypeName!=="")return this.emit("error",new Error("DocType declaration is already inserted.")),this;if(this._hasDocumentElement)return this.emit("error",new Error("Cannot insert DocType declaration after document element.")),this;var hi;try{hi=Ze.create().dtd(ui).first().node}catch(ci){return this.emit("error",ci),this}return this._options.wellFormed&&!Je.xml_isPubidChar(hi.publicId)?(this.emit("error",new Error("DocType public identifier does not match PubidChar construct (well-formed required).")),this):this._options.wellFormed&&(!Je.xml_isLegalChar(hi.systemId)||hi.systemId.indexOf('"')!==-1&&hi.systemId.indexOf("'")!==-1)?(this.emit("error",new Error("DocType system identifier contains invalid characters (well-formed required).")),this):(this._docTypeName=ui.name,this._push(this._writer.docType(ui.name,hi.publicId,hi.systemId)),this)},ai.prototype.import=function(ui){var hi,ci,mi=Ze.fragment().set(this._options);try{mi.import(ui)}catch(gi){return this.emit("error",gi),this}try{for(var di=Xe(mi.node.childNodes),pi=di.next();!pi.done;pi=di.next()){var yi=pi.value;this._fromNode(yi)}}catch(gi){hi={error:gi}}finally{try{pi&&!pi.done&&(ci=di.return)&&ci.call(di)}finally{if(hi)throw hi.error}}return this},ai.prototype.up=function(){return this._serializeOpenTag(!1),this._serializeCloseTag(),this},ai.prototype.end=function(){for(this._serializeOpenTag(!1);this._openTags.length>0;)this._serializeCloseTag();return this._push(null),this},ai.prototype._serializeOpenTag=function(ui){if(!this._currentElementSerialized&&this._currentElement!==void 0){var hi=this._currentElement.node;if(!this._options.wellFormed||hi.localName.indexOf(":")===-1&&Je.xml_isName(hi.localName)){var ci="",mi=!1,di=this._prefixMap.copy(),pi={},yi=this._recordNamespaceInformation(hi,di,pi),gi=this._openTags.length===0?null:this._openTags[this._openTags.length-1][1],_i=hi.namespaceURI;if(_i===null&&(_i=gi),gi===_i)yi!==null&&(mi=!0),ci=_i===Qe.namespace.XML?"xml:"+hi.localName:hi.localName,this._writer.beginElement(ci),this._push(this._writer.openTagBegin(ci));else{var Ai=hi.prefix,ki=null;if(Ai===null&&_i===yi||(ki=di.get(Ai,_i)),Ai==="xmlns"){if(this._options.wellFormed)return void this.emit("error",new Error("An element cannot have the 'xmlns' prefix (well-formed required)."));ki=Ai}ki!==null?(ci=ki+":"+hi.localName,yi!==null&&yi!==Qe.namespace.XML&&(gi=yi||null),this._writer.beginElement(ci),this._push(this._writer.openTagBegin(ci))):Ai!==null?(Ai in pi&&(Ai=this._generatePrefix(_i,di,this._prefixIndex)),di.set(Ai,_i),ci+=Ai+":"+hi.localName,this._writer.beginElement(ci),this._push(this._writer.openTagBegin(ci)),this._push(this._writer.attribute("xmlns:"+Ai,this._serializeAttributeValue(_i,this._options.wellFormed))),yi!==null&&(gi=yi||null)):yi===null||yi!==null&&yi!==_i?(mi=!0,ci+=hi.localName,gi=_i,this._writer.beginElement(ci),this._push(this._writer.openTagBegin(ci)),this._push(this._writer.attribute("xmlns",this._serializeAttributeValue(_i,this._options.wellFormed)))):(ci+=hi.localName,gi=_i,this._writer.beginElement(ci),this._push(this._writer.openTagBegin(ci)))}this._serializeAttributes(hi,di,this._prefixIndex,pi,mi,this._options.wellFormed);var vi=_i===Qe.namespace.HTML;vi&&!ui&&ai._VoidElementNames.has(hi.localName)?(this._push(this._writer.openTagEnd(ci,!0,!0)),this._writer.endElement(ci)):vi||ui?this._push(this._writer.openTagEnd(ci,!1,!1)):(this._push(this._writer.openTagEnd(ci,!0,!1)),this._writer.endElement(ci)),this._currentElementSerialized=!0,this._openTags.push([ci,gi,this._prefixMap,ui]),this._isPrefixMapModified(this._prefixMap,di)&&(this._prefixMap=di),this._writer.level++}else this.emit("error",new Error("Node local name contains invalid characters (well-formed required)."))}},ai.prototype._serializeCloseTag=function(){this._writer.level--;var ui=this._openTags.pop();if(ui!==void 0){var hi=We(ui,4),ci=hi[0],mi=(hi[1],hi[2]),di=hi[3];this._prefixMap=mi,di&&(this._push(this._writer.closeTag(ci)),this._writer.endElement(ci))}else this.emit("error",new Error("Last element is undefined."))},ai.prototype._push=function(ui){ui===null?(this._ended=!0,this.emit("end")):this._ended?this.emit("error",new Error("Cannot push to ended stream.")):ui.length!==0&&(this._writer.hasData=!0,this.emit("data",ui,this._writer.level))},ai.prototype._fromNode=function(ui){var hi,ci,mi,di;if(ri.Guard.isElementNode(ui)){var pi=ui.prefix?ui.prefix+":"+ui.localName:ui.localName;ui.namespaceURI!==null?this.ele(ui.namespaceURI,pi):this.ele(pi);try{for(var yi=Xe(ui.attributes),gi=yi.next();!gi.done;gi=yi.next()){var _i=gi.value,Ai=_i.prefix?_i.prefix+":"+_i.localName:_i.localName;_i.namespaceURI!==null?this.att(_i.namespaceURI,Ai,_i.value):this.att(Ai,_i.value)}}catch(Di){hi={error:Di}}finally{try{gi&&!gi.done&&(ci=yi.return)&&ci.call(yi)}finally{if(hi)throw hi.error}}try{for(var ki=Xe(ui.childNodes),vi=ki.next();!vi.done;vi=ki.next()){var Mi=vi.value;this._fromNode(Mi)}}catch(Di){mi={error:Di}}finally{try{vi&&!vi.done&&(di=ki.return)&&di.call(ki)}finally{if(mi)throw mi.error}}this.up()}else ri.Guard.isExclusiveTextNode(ui)&&ui.data?this.txt(ui.data):ri.Guard.isCommentNode(ui)?this.com(ui.data):ri.Guard.isCDATASectionNode(ui)?this.dat(ui.data):ri.Guard.isProcessingInstructionNode(ui)&&this.ins(ui.target,ui.data)},ai.prototype._serializeAttributes=function(ui,hi,ci,mi,di,pi){var yi,gi,_i=pi?new ni.LocalNameSet:void 0;try{for(var Ai=Xe(ui.attributes),ki=Ai.next();!ki.done;ki=Ai.next()){var vi=ki.value;if(pi||di||vi.namespaceURI!==null){if(pi&&_i&&_i.has(vi.namespaceURI,vi.localName))return void this.emit("error",new Error("Element contains duplicate attributes (well-formed required)."));pi&&_i&&_i.set(vi.namespaceURI,vi.localName);var Mi=vi.namespaceURI,Di=null;if(Mi!==null)if(Di=hi.get(vi.prefix,Mi),Mi===Qe.namespace.XMLNS){if(vi.value===Qe.namespace.XML||vi.prefix===null&&di||vi.prefix!==null&&(!(vi.localName in mi)||mi[vi.localName]!==vi.value)&&hi.has(vi.localName,vi.value))continue;if(pi&&vi.value===Qe.namespace.XMLNS)return void this.emit("error",new Error("XMLNS namespace is reserved (well-formed required)."));if(pi&&vi.value==="")return void this.emit("error",new Error("Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required)."));vi.prefix==="xmlns"&&(Di="xmlns")}else Di===null&&(Di=vi.prefix===null||hi.hasPrefix(vi.prefix)&&!hi.has(vi.prefix,Mi)?this._generatePrefix(Mi,hi,ci):vi.prefix,this._push(this._writer.attribute("xmlns:"+Di,this._serializeAttributeValue(Mi,this._options.wellFormed))));if(pi&&(vi.localName.indexOf(":")!==-1||!Je.xml_isName(vi.localName)||vi.localName==="xmlns"&&Mi===null))return void this.emit("error",new Error("Attribute local name contains invalid characters (well-formed required)."));this._push(this._writer.attribute((Di!==null?Di+":":"")+vi.localName,this._serializeAttributeValue(vi.value,this._options.wellFormed)))}else this._push(this._writer.attribute(vi.localName,this._serializeAttributeValue(vi.value,this._options.wellFormed)))}}catch(Bi){yi={error:Bi}}finally{try{ki&&!ki.done&&(gi=Ai.return)&&gi.call(Ai)}finally{if(yi)throw yi.error}}},ai.prototype._serializeAttributeValue=function(ui,hi){return hi&&ui!==null&&!Je.xml_isLegalChar(ui)?(this.emit("error",new Error("Invalid characters in attribute value.")),""):ui===null?"":ui.replace(/(?!&(lt|gt|amp|apos|quot);)&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},ai.prototype._recordNamespaceInformation=function(ui,hi,ci){var mi,di,pi=null;try{for(var yi=Xe(ui.attributes),gi=yi.next();!gi.done;gi=yi.next()){var _i=gi.value,Ai=_i.namespaceURI,ki=_i.prefix;if(Ai===Qe.namespace.XMLNS){if(ki===null){pi=_i.value;continue}var vi=_i.localName,Mi=_i.value;if(Mi===Qe.namespace.XML||(Mi===""&&(Mi=null),hi.has(vi,Mi)))continue;hi.set(vi,Mi),ci[vi]=Mi||""}}}catch(Di){mi={error:Di}}finally{try{gi&&!gi.done&&(di=yi.return)&&di.call(yi)}finally{if(mi)throw mi.error}}return pi},ai.prototype._generatePrefix=function(ui,hi,ci){var mi="ns"+ci.value;return ci.value++,hi.set(mi,ui),mi},ai.prototype._isPrefixMapModified=function(ui,hi){var ci=ui._items,mi=hi._items,di=ui._nullItems,pi=hi._nullItems;for(var yi in mi){var gi=ci[yi];if(gi===void 0)return!0;var _i=mi[yi];if(gi.length!==_i.length)return!0;for(var Ai=0;Ai<gi.length;Ai++)if(gi[Ai]!==_i[Ai])return!0}if(di.length!==pi.length)return!0;for(Ai=0;Ai<di.length;Ai++)if(di[Ai]!==pi[Ai])return!0;return!1},ai._VoidElementNames=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),ai}(Ve(309).EventEmitter);r.XMLBuilderCBImpl=oi},function(t,r,Ve){Ve(74);var je,ze=this&&this.__extends||(je=function(We,qe){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ke,Ze){Ke.__proto__=Ze}||function(Ke,Ze){for(var Je in Ze)Ze.hasOwnProperty(Je)&&(Ke[Je]=Ze[Je])})(We,qe)},function(We,qe){function Ke(){this.constructor=We}je(We,qe),We.prototype=qe===null?Object.create(qe):(Ke.prototype=qe.prototype,new Ke)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=function(We){function qe(Ke){var Ze=We.call(this,Ke)||this;return Ze._lineLength=0,Ze}return ze(qe,We),qe.prototype.frontMatter=function(){return""},qe.prototype.declaration=function(Ke,Ze,Je){var Qe=this._beginLine()+"<?xml";return Qe+=' version="'+Ke+'"',Ze!==void 0&&(Qe+=' encoding="'+Ze+'"'),Je!==void 0&&(Qe+=' standalone="'+(Je?"yes":"no")+'"'),Qe+="?>"},qe.prototype.docType=function(Ke,Ze,Je){var Qe=this._beginLine();return Qe+=Ze&&Je?"<!DOCTYPE "+Ke+' PUBLIC "'+Ze+'" "'+Je+'">':Ze?"<!DOCTYPE "+Ke+' PUBLIC "'+Ze+'">':Je?"<!DOCTYPE "+Ke+' SYSTEM "'+Je+'">':"<!DOCTYPE "+Ke+">"},qe.prototype.comment=function(Ke){return this._beginLine()+"<!--"+Ke+"-->"},qe.prototype.text=function(Ke){return this._beginLine()+Ke},qe.prototype.instruction=function(Ke,Ze){return Ze?this._beginLine()+"<?"+Ke+" "+Ze+"?>":this._beginLine()+"<?"+Ke+"?>"},qe.prototype.cdata=function(Ke){return this._beginLine()+"<![CDATA["+Ke+"]]>"},qe.prototype.openTagBegin=function(Ke){return this._lineLength+=1+Ke.length,this._beginLine()+"<"+Ke},qe.prototype.openTagEnd=function(Ke,Ze,Je){return Je?" />":Ze?this._writerOptions.allowEmptyTags?"></"+Ke+">":this._writerOptions.spaceBeforeSlash?" />":"/>":">"},qe.prototype.closeTag=function(Ke){return this._beginLine()+"</"+Ke+">"},qe.prototype.attribute=function(Ke,Ze){var Je=Ke+'="'+Ze+'"';return this._writerOptions.prettyPrint&&this._writerOptions.width>0&&this._lineLength+1+Je.length>this._writerOptions.width?(Je=this._beginLine()+this._indent(1)+Je,this._lineLength=Je.length,Je):(this._lineLength+=1+Je.length," "+Je)},qe.prototype.beginElement=function(Ke){},qe.prototype.endElement=function(Ke){},qe.prototype._beginLine=function(){if(this._writerOptions.prettyPrint){var Ke=(this.hasData?this._writerOptions.newline:"")+this._indent(this._writerOptions.offset+this.level);return this._lineLength=Ke.length,Ke}return""},qe.prototype._indent=function(Ke){return Ke<=0?"":this._writerOptions.indent.repeat(Ke)},qe}(Ve(114).BaseCBWriter);r.XMLCBWriter=Xe},function(t,r,Ve){Ve(74);var je,ze=this&&this.__extends||(je=function(We,qe){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ke,Ze){Ke.__proto__=Ze}||function(Ke,Ze){for(var Je in Ze)Ze.hasOwnProperty(Je)&&(Ke[Je]=Ze[Je])})(We,qe)},function(We,qe){function Ke(){this.constructor=We}je(We,qe),We.prototype=qe===null?Object.create(qe):(Ke.prototype=qe.prototype,new Ke)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=function(We){function qe(Ke){var Ze=We.call(this,Ke)||this;return Ze._hasChildren=[],Ze._additionalLevel=0,Ze}return ze(qe,We),qe.prototype.frontMatter=function(){return""},qe.prototype.declaration=function(Ke,Ze,Je){return""},qe.prototype.docType=function(Ke,Ze,Je){return""},qe.prototype.comment=function(Ke){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.comment)+this._sep()+this._val(Ke)+this._sep()+"}"},qe.prototype.text=function(Ke){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.text)+this._sep()+this._val(Ke)+this._sep()+"}"},qe.prototype.instruction=function(Ke,Ze){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.ins)+this._sep()+this._val(Ze?Ke+" "+Ze:Ke)+this._sep()+"}"},qe.prototype.cdata=function(Ke){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.cdata)+this._sep()+this._val(Ke)+this._sep()+"}"},qe.prototype.attribute=function(Ke,Ze){return this._comma()+this._beginLine(1)+"{"+this._sep()+this._key(this._builderOptions.convert.att+Ke)+this._sep()+this._val(Ze)+this._sep()+"}"},qe.prototype.openTagBegin=function(Ke){var Ze=this._comma()+this._beginLine()+"{"+this._sep()+this._key(Ke)+this._sep()+"{";return this._additionalLevel++,this.hasData=!0,Ze+=this._beginLine()+this._key(this._builderOptions.convert.text)+this._sep()+"[",this._hasChildren.push(!1),Ze},qe.prototype.openTagEnd=function(Ke,Ze,Je){if(Ze){var Qe=this._sep()+"]";return this._additionalLevel--,Qe+=this._beginLine()+"}"+this._sep()+"}"}return""},qe.prototype.closeTag=function(Ke){var Ze=this._beginLine()+"]";return this._additionalLevel--,Ze+=this._beginLine()+"}"+this._sep()+"}"},qe.prototype.beginElement=function(Ke){},qe.prototype.endElement=function(Ke){this._hasChildren.pop()},qe.prototype._beginLine=function(Ke){return Ke===void 0&&(Ke=0),this._writerOptions.prettyPrint?(this.hasData?this._writerOptions.newline:"")+this._indent(this._writerOptions.offset+this.level+Ke):""},qe.prototype._indent=function(Ke){return Ke+this._additionalLevel<=0?"":this._writerOptions.indent.repeat(Ke+this._additionalLevel)},qe.prototype._comma=function(){var Ke=this._hasChildren[this._hasChildren.length-1]?",":"";return this._hasChildren.length>0&&(this._hasChildren[this._hasChildren.length-1]=!0),Ke},qe.prototype._sep=function(){return this._writerOptions.prettyPrint?" ":""},qe.prototype._key=function(Ke){return'"'+Ke+'":'},qe.prototype._val=function(Ke){return JSON.stringify(Ke)},qe}(Ve(114).BaseCBWriter);r.JSONCBWriter=Xe},function(t,r,Ve){Ve(74);var je,ze=this&&this.__extends||(je=function(We,qe){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ke,Ze){Ke.__proto__=Ze}||function(Ke,Ze){for(var Je in Ze)Ze.hasOwnProperty(Je)&&(Ke[Je]=Ze[Je])})(We,qe)},function(We,qe){function Ke(){this.constructor=We}je(We,qe),We.prototype=qe===null?Object.create(qe):(Ke.prototype=qe.prototype,new Ke)});Object.defineProperty(r,"__esModule",{value:!0});var Xe=function(We){function qe(Ke){var Ze=We.call(this,Ke)||this;if(Ze._rootWritten=!1,Ze._additionalLevel=0,Ke.indent.length<2)throw new Error("YAML indententation string must be at least two characters long.");if(Ke.offset<0)throw new Error("YAML offset should be zero or a positive number.");return Ze}return ze(qe,We),qe.prototype.frontMatter=function(){return this._beginLine()+"---"},qe.prototype.declaration=function(Ke,Ze,Je){return""},qe.prototype.docType=function(Ke,Ze,Je){return""},qe.prototype.comment=function(Ke){return this._beginLine()+this._key(this._builderOptions.convert.comment)+" "+this._val(Ke)},qe.prototype.text=function(Ke){return this._beginLine()+this._key(this._builderOptions.convert.text)+" "+this._val(Ke)},qe.prototype.instruction=function(Ke,Ze){return this._beginLine()+this._key(this._builderOptions.convert.ins)+" "+this._val(Ze?Ke+" "+Ze:Ke)},qe.prototype.cdata=function(Ke){return this._beginLine()+this._key(this._builderOptions.convert.cdata)+" "+this._val(Ke)},qe.prototype.attribute=function(Ke,Ze){this._additionalLevel++;var Je=this._beginLine()+this._key(this._builderOptions.convert.att+Ke)+" "+this._val(Ze);return this._additionalLevel--,Je},qe.prototype.openTagBegin=function(Ke){var Ze=this._beginLine()+this._key(Ke);return this._rootWritten||(this._rootWritten=!0),this.hasData=!0,this._additionalLevel++,Ze+=this._beginLine(!0)+this._key(this._builderOptions.convert.text)},qe.prototype.openTagEnd=function(Ke,Ze,Je){return Ze?" "+this._val(""):""},qe.prototype.closeTag=function(Ke){return this._additionalLevel--,""},qe.prototype.beginElement=function(Ke){},qe.prototype.endElement=function(Ke){},qe.prototype._beginLine=function(Ke){return Ke===void 0&&(Ke=!1),(this.hasData?this._writerOptions.newline:"")+this._indent(this._writerOptions.offset+this.level,Ke)},qe.prototype._indent=function(Ke,Ze){if(Ke+this._additionalLevel<=0)return"";var Je=this._writerOptions.indent.repeat(Ke+this._additionalLevel);return!Ze&&this._rootWritten?Je.substr(0,Je.length-2)+"-"+Je.substr(-1,1):Je},qe.prototype._key=function(Ke){return'"'+Ke+'":'},qe.prototype._val=function(Ke){return JSON.stringify(Ke)},qe}(Ve(114).BaseCBWriter);r.YAMLCBWriter=Xe},function(t,r,Ve){var je,ze=typeof Reflect=="object"?Reflect:null,Xe=ze&&typeof ze.apply=="function"?ze.apply:function(St,oi,si){return Function.prototype.apply.call(St,oi,si)};je=ze&&typeof ze.ownKeys=="function"?ze.ownKeys:Object.getOwnPropertySymbols?function(St){return Object.getOwnPropertyNames(St).concat(Object.getOwnPropertySymbols(St))}:function(St){return Object.getOwnPropertyNames(St)};var We=Number.isNaN||function(St){return St!=St};function qe(){qe.init.call(this)}t.exports=qe,qe.EventEmitter=qe,qe.prototype._events=void 0,qe.prototype._eventsCount=0,qe.prototype._maxListeners=void 0;var Ke=10;function Ze(St){if(typeof St!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof St)}function Je(St){return St._maxListeners===void 0?qe.defaultMaxListeners:St._maxListeners}function Qe(St,oi,si,ai){var ui,hi,ci,mi;if(Ze(si),(hi=St._events)===void 0?(hi=St._events=Object.create(null),St._eventsCount=0):(hi.newListener!==void 0&&(St.emit("newListener",oi,si.listener?si.listener:si),hi=St._events),ci=hi[oi]),ci===void 0)ci=hi[oi]=si,++St._eventsCount;else if(typeof ci=="function"?ci=hi[oi]=ai?[si,ci]:[ci,si]:ai?ci.unshift(si):ci.push(si),(ui=Je(St))>0&&ci.length>ui&&!ci.warned){ci.warned=!0;var di=new Error("Possible EventEmitter memory leak detected. "+ci.length+" "+String(oi)+" listeners added. Use emitter.setMaxListeners() to increase limit");di.name="MaxListenersExceededWarning",di.emitter=St,di.type=oi,di.count=ci.length,mi=di,console&&console.warn&&console.warn(mi)}return St}function ti(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ni(St,oi,si){var ai={fired:!1,wrapFn:void 0,target:St,type:oi,listener:si},ui=ti.bind(ai);return ui.listener=si,ai.wrapFn=ui,ui}function ri(St,oi,si){var ai=St._events;if(ai===void 0)return[];var ui=ai[oi];return ui===void 0?[]:typeof ui=="function"?si?[ui.listener||ui]:[ui]:si?function(hi){for(var ci=new Array(hi.length),mi=0;mi<ci.length;++mi)ci[mi]=hi[mi].listener||hi[mi];return ci}(ui):ei(ui,ui.length)}function ii(St){var oi=this._events;if(oi!==void 0){var si=oi[St];if(typeof si=="function")return 1;if(si!==void 0)return si.length}return 0}function ei(St,oi){for(var si=new Array(oi),ai=0;ai<oi;++ai)si[ai]=St[ai];return si}Object.defineProperty(qe,"defaultMaxListeners",{enumerable:!0,get:function(){return Ke},set:function(St){if(typeof St!="number"||St<0||We(St))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+St+".");Ke=St}}),qe.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},qe.prototype.setMaxListeners=function(St){if(typeof St!="number"||St<0||We(St))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+St+".");return this._maxListeners=St,this},qe.prototype.getMaxListeners=function(){return Je(this)},qe.prototype.emit=function(St){for(var oi=[],si=1;si<arguments.length;si++)oi.push(arguments[si]);var ai=St==="error",ui=this._events;if(ui!==void 0)ai=ai&&ui.error===void 0;else if(!ai)return!1;if(ai){var hi;if(oi.length>0&&(hi=oi[0]),hi instanceof Error)throw hi;var ci=new Error("Unhandled error."+(hi?" ("+hi.message+")":""));throw ci.context=hi,ci}var mi=ui[St];if(mi===void 0)return!1;if(typeof mi=="function")Xe(mi,this,oi);else{var di=mi.length,pi=ei(mi,di);for(si=0;si<di;++si)Xe(pi[si],this,oi)}return!0},qe.prototype.addListener=function(St,oi){return Qe(this,St,oi,!1)},qe.prototype.on=qe.prototype.addListener,qe.prototype.prependListener=function(St,oi){return Qe(this,St,oi,!0)},qe.prototype.once=function(St,oi){return Ze(oi),this.on(St,ni(this,St,oi)),this},qe.prototype.prependOnceListener=function(St,oi){return Ze(oi),this.prependListener(St,ni(this,St,oi)),this},qe.prototype.removeListener=function(St,oi){var si,ai,ui,hi,ci;if(Ze(oi),(ai=this._events)===void 0)return this;if((si=ai[St])===void 0)return this;if(si===oi||si.listener===oi)--this._eventsCount==0?this._events=Object.create(null):(delete ai[St],ai.removeListener&&this.emit("removeListener",St,si.listener||oi));else if(typeof si!="function"){for(ui=-1,hi=si.length-1;hi>=0;hi--)if(si[hi]===oi||si[hi].listener===oi){ci=si[hi].listener,ui=hi;break}if(ui<0)return this;ui===0?si.shift():function(mi,di){for(;di+1<mi.length;di++)mi[di]=mi[di+1];mi.pop()}(si,ui),si.length===1&&(ai[St]=si[0]),ai.removeListener!==void 0&&this.emit("removeListener",St,ci||oi)}return this},qe.prototype.off=qe.prototype.removeListener,qe.prototype.removeAllListeners=function(St){var oi,si,ai;if((si=this._events)===void 0)return this;if(si.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):si[St]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete si[St]),this;if(arguments.length===0){var ui,hi=Object.keys(si);for(ai=0;ai<hi.length;++ai)(ui=hi[ai])!=="removeListener"&&this.removeAllListeners(ui);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(oi=si[St])=="function")this.removeListener(St,oi);else if(oi!==void 0)for(ai=oi.length-1;ai>=0;ai--)this.removeListener(St,oi[ai]);return this},qe.prototype.listeners=function(St){return ri(this,St,!0)},qe.prototype.rawListeners=function(St){return ri(this,St,!1)},qe.listenerCount=function(St,oi){return typeof St.listenerCount=="function"?St.listenerCount(oi):ii.call(St,oi)},qe.prototype.listenerCount=ii,qe.prototype.eventNames=function(){return this._eventsCount>0?je(this._events):[]}},function(t,r,Ve){Object.defineProperty(r,"__esModule",{value:!0});var je=Ve(77);r.createCB=function(ze){return new je.XMLBuilderCBImpl(ze)},r.fragmentCB=function(ze){return new je.XMLBuilderCBImpl(ze,!0)}}])})})(xmlbuilder2_min);var xmlbuilder2_minExports=xmlbuilder2_min.exports;const version="1.0",encoding="utf-8",log=$e=>{};class XmlWriterBase{constructor(e){D$1(this,"_no",0),D$1(this,"w"),D$1(this,"_stream"),D$1(this,"_xml",""),D$1(this,"_disposed",!1),this._stream=e,this.w=xmlbuilder2_minExports.create({version,encoding})}close(){}flush(){}getXml(){return this._xml}writeAttributeString(e,t){this._no++,log(`${this._no},writeAttributeString,${e},${t}`),this.w.att(e,t)}writeAttributeString2(e,t,r,Ve){this._no++,log(`${this._no},writeAttributeString,${e},${t},${r},${Ve}`),t=e?`${e}:${t}`:t,this.w.att(r,t,Ve)}writeDocType(e,t,r,Ve){this._no++,log(`${this._no},writeDocType,${e},${t},${r}`),this.w.dtd({name:e,pubID:t,sysID:r})}writeElementString(e,t){this._no++,log(`${this._no},writeElementString,${e},${t}`),this.writeStartElement(e),this.writeString(t)}writeEndDocument(){this._no++,log(`${this._no},writeEndDocument`),this._xml=this.w.end({prettyPrint:!0}),this._no=0}writeEndElement(){this._no++,log(`${this._no},writeEndElement`),this.w=this.w.up()}writeRaw(e){this._no++,log(`${this._no},writeRaw,${e}`),this.w.dat(e)}writeStartDocument(e){this._no++,log(`${this._no},writeStartDocument,${e}`),this.w.dec({version,encoding,standalone:e})}writeStartElement(e,t){this._no++,log(`${this._no},writeStartElement,${e},${t||""}`),t?this.w=this.w.ele(t,e):this.w=this.w.ele(e)}writeString(e){this._no++,log(`${this._no},writeString,${e}`),this.w.txt(e)}dispose(){this._disposed||(this._disposed=!0,this.close())}}class SvgWriter extends XmlWriterBase{constructor(e,t,r=!0){super(),D$1(this,"endIsWritten",!1),D$1(this,"clipPathNumber",1),D$1(this,"isDocument"),D$1(this,"numberFormat"),this.isDocument=r,this.numberFormat=Ve=>round(Ve,4).toString(),this.writeHeader(e,t)}close(){this.endIsWritten||this.complete()}complete(){this.writeEndElement(),this.isDocument&&this.writeEndDocument(),this.endIsWritten=!0}createStyle(e,t,r,Ve=[],je=LineJoin.Miter){let ze="";if(e.isInvisible()?ze+="fill:none;":(ze+=`fill:${this.colorToString(e)};`,e.a!==255&&(ze+=`fill-opacity:${e.a/255};`)),t.isInvisible())ze+="stroke:none;";else{const Xe=this.numberFormat(r);switch(ze+=`stroke:${this.colorToString(t)};stroke-width:${Xe}`,je){case LineJoin.Round:ze+=";stroke-linejoin:round";break;case LineJoin.Bevel:ze+=";stroke-linejoin:bevel";break}if(t.a!==255&&(ze+=`;stroke-opacity:${t.a/255}`),Ve&&Ve.length>0){ze+=";stroke-dasharray:";for(let We=0;We<Ve.length;We++)ze+=`${We>0?",":""}${Ve[We]}`}}return ze}writeEllipse(e,t,r,Ve,je,ze){this.writeStartElement("ellipse"),this.writeAttributeNumberString("cx",e+r/2),this.writeAttributeNumberString("cy",t+Ve/2),this.writeAttributeNumberString("rx",r/2),this.writeAttributeNumberString("ry",Ve/2),this.writeAttributeString("style",je),this.writeEdgeRenderingModeAttribute(ze),this.writeEndElement()}beginClip(e,t,r,Ve){const je="clipPath"+this.clipPathNumber++;this.writeStartElement("defs"),this.writeStartElement("clipPath"),this.writeAttributeString("id",je),this.writeStartElement("rect"),this.writeAttributeNumberString("x",e),this.writeAttributeNumberString("y",t),this.writeAttributeNumberString("width",r),this.writeAttributeNumberString("height",Ve),this.writeEndElement(),this.writeEndElement(),this.writeEndElement(),this.writeStartElement("g"),this.writeAttributeString("clip-path",`url(#${je})`)}endClip(){this.writeEndElement()}writeImage(e,t,r,Ve,je,ze,Xe,We,qe,Ke){const Ze=je-e/r*Xe,Je=qe.width/r*Xe,Qe=ze-t/Ve*We,ti=qe.height/Ve*We;this.beginClip(je,ze,Xe,We),this.writeImage2(Ze,Qe,Je,ti,qe,Ke),this.endClip()}writeImage2(e,t,r,Ve,je,ze){this.writeStartElement("image"),this.writeAttributeNumberString("x",e),this.writeAttributeNumberString("y",t),this.writeAttributeNumberString("width",r),this.writeAttributeNumberString("height",Ve),this.writeAttributeString("preserveAspectRatio","none"),ze||this.writeAttributeString("image-rendering","pixelated");const Xe="data:image/png;base64,"+arrayBufferToBase64(je.data);this.writeAttributeString("xlink:href",Xe),this.writeEndElement()}writeLine(e,t,r,Ve){this.writeStartElement("line"),this.writeAttributeNumberString("x1",e.x),this.writeAttributeNumberString("y1",e.y),this.writeAttributeNumberString("x2",t.x),this.writeAttributeNumberString("y2",t.y),this.writeAttributeString("style",r),this.writeEdgeRenderingModeAttribute(Ve),this.writeEndElement()}writePolygon(e,t,r){this.writeStartElement("polygon"),this.writeAttributeString("points",this.pointsToString(e)),this.writeAttributeString("style",t),this.writeEdgeRenderingModeAttribute(r),this.writeEndElement()}writePolyline(e,t,r){this.writeStartElement("polyline"),this.writeAttributeString("points",this.pointsToString(e)),this.writeAttributeString("style",t),this.writeEdgeRenderingModeAttribute(r),this.writeEndElement()}writeRectangle(e,t,r,Ve,je,ze){this.writeStartElement("rect"),this.writeAttributeNumberString("x",e),this.writeAttributeNumberString("y",t),this.writeAttributeNumberString("width",r),this.writeAttributeNumberString("height",Ve),this.writeAttributeString("style",je),this.writeEdgeRenderingModeAttribute(ze),this.writeEndElement()}writeText(e,t,r,Ve=null,je=10,ze=FontWeights.Normal,Xe=0,We=HorizontalAlignment.Left,qe=VerticalAlignment.Top){this.writeStartElement("text");let Ke="hanging";qe===VerticalAlignment.Middle&&(Ke="middle"),qe===VerticalAlignment.Bottom&&(Ke="baseline"),this.writeAttributeString("dominant-baseline",Ke);let Ze="start";We===HorizontalAlignment.Center&&(Ze="middle"),We===HorizontalAlignment.Right&&(Ze="end"),this.writeAttributeString("text-anchor",Ze);let Je=`translate(${e.x},${e.y})`;Math.abs(Xe)>0&&(Je+=` rotate(${Xe})`),this.writeAttributeString("transform",Je),Ve&&this.writeAttributeString("font-family",Ve),je>0&&this.writeAttributeNumberString("font-size",je),ze>0&&this.writeAttributeNumberString("font-weight",ze),r.isInvisible()?this.writeAttributeString("fill","none"):(this.writeAttributeString("fill",this.colorToString(r)),r.a!==255&&this.writeAttributeNumberString("fill-opacity",r.a/255)),this.writeString(t),this.writeEndElement()}colorToString(e){return e.equals(OxyColors.Black)?"black":`rgb(${e.r},${e.g},${e.b})`}writeAttributeNumberString(e,t){this.writeAttributeString(e,this.numberFormat(t))}writeEdgeRenderingModeAttribute(e){let t;switch(e){case EdgeRenderingMode.PreferSharpness:t="crispEdges";break;case EdgeRenderingMode.PreferSpeed:t="optimizeSpeed";break;case EdgeRenderingMode.PreferGeometricAccuracy:t="geometricPrecision";break;default:return}this.writeAttributeString("shape-rendering",t)}getAutoValue(e,t){return isNaN(e)?t:this.numberFormat(e)}pointsToString(e){let t="";for(const r of e)t+=`${this.numberFormat(r.x)},${this.numberFormat(r.y)} `;return t.trim()}writeHeader(e,t){this.isDocument&&(this.writeStartDocument(!1),this.writeDocType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd")),this.writeStartElement("svg","http://www.w3.org/2000/svg"),this.writeAttributeString("width",this.getAutoValue(e,"100%")),this.writeAttributeString("height",this.getAutoValue(t,"100%")),this.writeAttributeString("version","1.1"),this.writeAttributeString("xmlns:xlink","http://www.w3.org/1999/xlink")}}class SvgRenderContext extends ClippingRenderContext{constructor(e,t,r,Ve,je,ze=!1){if(super(),D$1(this,"w"),D$1(this,"textMeasurer"),D$1(this,"useVerticalTextAlignmentWorkaround"),D$1(this,"disposed",!1),!Ve)throw new Error("A text measuring render context must be provided.");this.w=new SvgWriter(e,t,r),this.textMeasurer=Ve,this.useVerticalTextAlignmentWorkaround=ze,je.isVisible()&&this.w.writeRectangle(0,0,e,t,this.w.createStyle(je,OxyColors.Undefined,0),EdgeRenderingMode.Adaptive)}close(){this.w.close()}complete(){this.w.complete()}getXml(){return this.w.getXml()}async drawEllipse(e,t,r,Ve,je){this.w.writeEllipse(e.left,e.top,e.width,e.height,this.w.createStyle(t,r,Ve),je)}async drawLine(e,t,r,Ve,je,ze){this.w.writePolyline(e,this.w.createStyle(OxyColors.Undefined,t,r,je,ze),Ve)}async drawPolygon(e,t,r,Ve,je,ze,Xe){this.w.writePolygon(e,this.w.createStyle(t,r,Ve,ze,Xe),je)}async drawRectangle(e,t,r,Ve,je){this.w.writeRectangle(e.left,e.top,e.width,e.height,this.w.createStyle(t,r,Ve),je)}async drawText(e,t,r,Ve,je,ze,Xe,We,qe,Ke){if(!t)return;const Ze=StringHelper.splitLines(t),Je=this.measureText(t,Ve,je,ze).height/Ze.length,Qe=new ScreenVector(-Math.sin(Xe/180*Math.PI)*Je,+Math.cos(Xe/180*Math.PI)*Je);if(this.useVerticalTextAlignmentWorkaround){const ti=qe===VerticalAlignment.Bottom?1-Ze.length:qe===VerticalAlignment.Top?1:1-Ze.length/2;qe=VerticalAlignment.Bottom,e=screenPointPlus(e,Qe.times(ti));for(const ni of Ze)this.w.writeText(e,ni,r,Ve,je,ze,Xe,We,qe),e=screenPointPlus(e,Qe)}else if(qe===VerticalAlignment.Bottom)for(let ti=Ze.length-1;ti>=0;ti--){const ni=Ze[ti];this.w.writeText(e,ni,r,Ve,je,ze,Xe,We,qe),e=screenPointMinusVector(e,Qe)}else for(const ti of Ze)this.w.writeText(e,ti,r,Ve,je,ze,Xe,We,qe),e=screenPointPlus(e,Qe)}flush(){this.w.flush()}measureText(e,t,r,Ve){return e===""?OxySize.Empty:this.textMeasurer.measureText(e,t,r,Ve)}async drawImage(e,t,r,Ve,je,ze,Xe,We,qe,Ke,Ze){this.w.writeImage(t,r,Ve,je,ze,Xe,We,qe,e,Ze)}dispose(e){this.disposed||e&&this.w.dispose(),this.disposed=!0}setClip(e){this.w.beginClip(e.left,e.top,e.width,e.height)}resetClip(){this.w.endClip()}}class FractionHelper{static convertToFractionString(e,t=1,r,Ve=1e-6,je){if(Math.abs(e)<Ve)return"0";e/=t;for(let ze=1;ze<=64;ze++){const Xe=e*ze,We=Math.round(Xe);if(Math.abs(Xe-We)<Ve){const qe=!r||We!=1?We.toString():"";return ze==1?`${qe}${r}`:`${qe}${r}/${ze}`}}return je?je(e)+(r||""):`${e.toString()}${r||""}`}}class StringHelper{static splitLines(e){return e.split(/\r?\n/)}}class PlotModelUtilities{static isReversible(e){if(e.axes.length===0&&e.series.length===0)return!1;for(const t of e.axes){if(t.position===AxisPosition.None)return!1;const r=t.__isReversible;if(r!==void 0&&!r)return!1}for(const t of e.series){const r=t.constructor.name;if(!(t instanceof XYAxisSeries)||this.NonReversibleSeriesTypes.has(r))return!1}for(const t of e.annotations){const r=t.constructor.name;if(this.NonReversibleDataSpaceAnnotationTypes.has(r))return!1}return!0}static isTransposable(e){if(e.axes.length===0&&e.series.length===0)return!1;for(const t of e.axes)if(t.position===AxisPosition.None)return!1;for(const t of e.series){const r=t.constructor.name;if(!isTransposablePlotElement(t)||this.NonTransposableSeriesTypes.has(r))return!1}for(const t of e.annotations){const r=t.constructor.name;if(!isTransposablePlotElement(t)||this.NonTransposableDataSpaceAnnotationTypes.has(r))return!1}return!0}static reverseXAxis(e){e.title&&(e.title+=" (reversed X Axis)");let t=!1;for(const r of e.axes)r.position===AxisPosition.Bottom&&(r.startPosition=1-r.startPosition,r.endPosition=1-r.endPosition,t=!0);return t||e.axes.push(new LinearAxis({position:AxisPosition.Bottom,startPosition:1,endPosition:0})),e}static reverseYAxis(e){e.title&&(e.title+=" (reversed Y Axis)");let t=!1;for(const r of e.axes)r.position===AxisPosition.Left&&(r.startPosition=1-r.startPosition,r.endPosition=1-r.endPosition,t=!0);return t||e.axes.push(new LinearAxis({position:AxisPosition.Left,startPosition:1,endPosition:0})),e}static reverseAllAxes(e){e.title&&(e.title+=" (reversed all Axes)"),e.update(!1);for(const t of e.axes)(t.position===AxisPosition.Left||t.position===AxisPosition.Bottom||t.position===AxisPosition.Right||t.position===AxisPosition.Top)&&(t.startPosition=1-t.startPosition,t.endPosition=1-t.endPosition);return e}static transpose(e){e.title&&(e.title+=" (transposed)"),e.update(!1);for(const t of e.axes)switch(t.position){case AxisPosition.Bottom:t.position=AxisPosition.Left;break;case AxisPosition.Left:t.position=AxisPosition.Bottom;break;case AxisPosition.Right:t.position=AxisPosition.Top;break;case AxisPosition.Top:t.position=AxisPosition.Right;break;case AxisPosition.None:break;default:throw new Error("Invalid axis position")}for(const t of e.annotations)t.xAxis&&!t.xAxisKey&&(t.xAxis.key||(t.xAxis.key=this.XAXIS_KEY),t.xAxisKey=t.xAxis.key),t.yAxis&&!t.yAxisKey&&(t.yAxis.key||(t.yAxis.key=this.YAXIS_KEY),t.yAxisKey=t.yAxis.key);for(const t of e.series)t instanceof XYAxisSeries&&(t.xAxisKey||(t.xAxis?(t.xAxis.key||(t.xAxis.key=this.XAXIS_KEY),t.xAxisKey=t.xAxis.key):t.xAxisKey=this.XAXIS_KEY),t.yAxisKey||(t.yAxis?(t.yAxis.key||(t.yAxis.key=this.YAXIS_KEY),t.yAxisKey=t.yAxis.key):t.yAxisKey=this.YAXIS_KEY));return e}}D$1(PlotModelUtilities,"XAXIS_KEY","x"),D$1(PlotModelUtilities,"YAXIS_KEY","y"),D$1(PlotModelUtilities,"NonReversibleSeriesTypes",new Set),D$1(PlotModelUtilities,"NonReversibleDataSpaceAnnotationTypes",new Set([])),D$1(PlotModelUtilities,"NonTransposableSeriesTypes",new Set(["CandleStickAndVolumeSeries","OldCandleStickSeries"])),D$1(PlotModelUtilities,"NonTransposableDataSpaceAnnotationTypes",new Set);class ArrayBuilder{static createVector(e,t,r){if(r.toFixed(0)!==r.toString())throw new Error("use createVectorWithStep instead");const Ve=[];for(let je=0;je<r;je++)Ve[je]=Number((e+(t-e)*je/(r-1)).toFixed(8));return Ve}static createVectorWithStep(e,t,r){const Ve=Math.round((t-e)/r),je=[];for(let ze=0;ze<=Ve;ze++)je[ze]=Number((e+ze*r).toFixed(8));return je}static evaluate(e,t,r){const Ve=t.length,je=r.length,ze=[];for(let Xe=0;Xe<Ve;Xe++){ze[Xe]=[];for(let We=0;We<je;We++)ze[Xe][We]=e(t[Xe],r[We])}return ze}static fill(e,t){for(let r=0;r<e.length;r++)e[r]=t}static fill2D(e,t){for(let r=0;r<e.length;r++)for(let Ve=0;Ve<e[r].length;Ve++)e[r][Ve]=t}}class TrackerHelper{static getNearestHit(e,t,r,Ve,je,ze){if(e){if(r||Ve){const Xe=e.getNearestPoint(t,!1);if(this.shouldTrackerOpen(Xe,t,je))return Xe}if(!Ve){const Xe=e.getNearestPoint(t,!0);if(!ze||this.shouldTrackerOpen(Xe,t,je))return Xe}}}static shouldTrackerOpen(e,t,r){return e!=null&&e.position?screenPointDistanceTo(e.position,t)<r:!1}}class Conrec{static contour(e,t,r,Ve,je){let ze=0,Xe=0,We=0,qe=0;const Ke=new Array(5),Ze=new Array(5),Je=new Array(5),Qe=new Array(5),ti=0,ni=e.length-1,ri=0,ii=e[0].length-1,ei=Ve.length,St=[0,1,1,0],oi=[0,0,1,1],si=[[[0,0,8],[0,2,5],[7,6,9]],[[0,3,4],[1,3,1],[4,3,0]],[[9,6,7],[5,2,0],[8,0,0]]],ai=(hi,ci)=>(Ke[ci]*Je[hi]-Ke[hi]*Je[ci])/(Ke[ci]-Ke[hi]),ui=(hi,ci)=>(Ke[ci]*Qe[hi]-Ke[hi]*Qe[ci])/(Ke[ci]-Ke[hi]);for(let hi=ii-1;hi>=ri;hi--)for(let ci=ti;ci<=ni-1;ci++){const mi=Math.min(e[ci][hi],e[ci][hi+1]),di=Math.min(e[ci+1][hi],e[ci+1][hi+1]),pi=Math.min(mi,di),yi=Math.max(e[ci][hi],e[ci][hi+1]),gi=Math.max(e[ci+1][hi],e[ci+1][hi+1]),_i=Math.max(yi,gi);if(_i>=Ve[0]&&pi<=Ve[ei-1]){for(let Ai=0;Ai<ei;Ai++)if(Ve[Ai]>=pi&&Ve[Ai]<=_i){for(let ki=4;ki>=0;ki--)ki>0?(Ke[ki]=e[ci+St[ki-1]][hi+oi[ki-1]]-Ve[Ai],Je[ki]=t[ci+St[ki-1]],Qe[ki]=r[hi+oi[ki-1]]):(Ke[0]=.25*(Ke[1]+Ke[2]+Ke[3]+Ke[4]),Je[0]=.5*(t[ci]+t[ci+1]),Qe[0]=.5*(r[hi]+r[hi+1])),Ke[ki]>0?Ze[ki]=1:Ke[ki]<0?Ze[ki]=-1:Ze[ki]=0;for(let ki=1;ki<=4;ki++){const vi=ki,Mi=0,Di=ki!==4?ki+1:1,Bi=si[Ze[vi]+1][Ze[Mi]+1][Ze[Di]+1];if(Bi!==0){switch(Bi){case 1:ze=Je[vi],We=Qe[vi],Xe=Je[Mi],qe=Qe[Mi];break;case 2:ze=Je[Mi],We=Qe[Mi],Xe=Je[Di],qe=Qe[Di];break;case 3:ze=Je[Di],We=Qe[Di],Xe=Je[vi],qe=Qe[vi];break;case 4:ze=Je[vi],We=Qe[vi],Xe=ai(Mi,Di),qe=ui(Mi,Di);break;case 5:ze=Je[Mi],We=Qe[Mi],Xe=ai(Di,vi),qe=ui(Di,vi);break;case 6:ze=Je[Di],We=Qe[Di],Xe=ai(vi,Mi),qe=ui(vi,Mi);break;case 7:ze=ai(vi,Mi),We=ui(vi,Mi),Xe=ai(Mi,Di),qe=ui(Mi,Di);break;case 8:ze=ai(Mi,Di),We=ui(Mi,Di),Xe=ai(Di,vi),qe=ui(Di,vi);break;case 9:ze=ai(Di,vi),We=ui(Di,vi),Xe=ai(vi,Mi),qe=ui(vi,Mi);break}je(ze,We,Xe,qe,Ve[Ai])}}}}}}}class WebPlotViewBase{constructor(){dn(this,"controller"),dn(this,"defaultController"),dn(this,"_zoomRectangle"),dn(this,"_model"),dn(this,"_isModelInvalidated",!1),dn(this,"_updateDataFlag",!1),dn(this,"_rendering",!1)}get actualController(){return this.controller?this.controller:this.defaultController?this.defaultController:(this.defaultController=new PlotController,this.defaultController)}get actualModel(){return this._model}get model(){return this._model}set model(e){const t=this._model;this._model=e,this.onModelChanged(t,e)}onModelChanged(e,t){e&&e.attachPlotView(void 0),t&&t.attachPlotView(this),this.invalidatePlot(!0)}invalidatePlot(e){this._isModelInvalidated=!0,this._updateDataFlag=e||!1,this.render()}render(){const e=this._model;e&&(this._isModelInvalidated&&(e.update(this._updateDataFlag),this._isModelInvalidated=!1,this._updateDataFlag=!1),window.requestAnimationFrame(async()=>this.renderSync()))}setClipboardText(e){try{navigator.clipboard.writeText(e)}catch(t){console.error(t)}}setCursorType(e){}hideTracker(){}showTracker(e){}hideZoomRectangle(){this._zoomRectangle=void 0}showZoomRectangle(e){this._zoomRectangle=e}async renderSync(){if(this._model&&!this._rendering){this._rendering=!0;try{await this.renderOverride(this._model)}finally{this._rendering=!1}}}}function toOxyMouseEventArgs($e){return{position:newScreenPoint($e.offsetX,$e.offsetY),modifierKeys:convertModifiers($e),handled:!1}}function toOxyMouseDownEventArgs($e){const e=toOxyMouseEventArgs($e);return e.clickCount=$e.detail,e.changedButton=convertMouseButtons($e),e}function toOxyMouseWheelEventArgs($e){const e=toOxyMouseEventArgs($e);return e.delta=$e.deltaY!=0?-$e.deltaY:$e.deltaX,e}function convertModifiers($e){let e=OxyModifierKeys.None;return $e.ctrlKey&&(e|=OxyModifierKeys.Control),$e.shiftKey&&(e|=OxyModifierKeys.Shift),$e.altKey&&(e|=OxyModifierKeys.Alt),$e.metaKey&&(e|=OxyModifierKeys.Windows),e}function convertMouseButtons($e){return $e.button===0?OxyMouseButton.Left:$e.button===1?OxyMouseButton.Middle:$e.button===2?OxyMouseButton.Right:$e.button===3?OxyMouseButton.XButton1:$e.button===4?OxyMouseButton.XButton2:OxyMouseButton.None}function convertCursorType($e){switch($e){case CursorType.Default:return"default";case CursorType.Pan:return"grab";case CursorType.ZoomRectangle:return"nwse-resize";case CursorType.ZoomHorizontal:return"ew-resize";case CursorType.ZoomVertical:return"ns-resize";default:return"default"}}function addPlotViewEvents($e,e){$e.addEventListener("contextmenu",function(t){t.preventDefault()}),$e.addEventListener("resize",async()=>{e.invalidatePlot(!1)}),$e.onmousedown=t=>{e.actualController.handleMouseDown(e,toOxyMouseDownEventArgs(t))},$e.onmousemove=t=>{e.actualController.handleMouseMove(e,toOxyMouseEventArgs(t))},$e.onmouseup=t=>{e.actualController.handleMouseUp(e,toOxyMouseEventArgs(t))},$e.onmouseenter=t=>{e.actualController.handleMouseEnter(e,toOxyMouseEventArgs(t))},$e.onmouseleave=t=>{e.actualController.handleMouseLeave(e,toOxyMouseEventArgs(t))},$e.onwheel=t=>{e.actualController.handleMouseWheel(e,toOxyMouseWheelEventArgs(t))}}let cachedContext=null;function getCanvasContext(){if(cachedContext)return cachedContext;const $e=document.createElement("canvas");if(cachedContext=$e==null?void 0:$e.getContext("2d"),!cachedContext)throw new Error("Could not get canvas context");return cachedContext}let styleConverter=null;const getFont=($e,e,t)=>(styleConverter||(styleConverter=new OxyStyleToCanvasStyleConverter),styleConverter.convertFont($e,e,t||FontWeights.Normal));function canvasTextMeasurer($e){$e=$e||getCanvasContext();function e(t,r,Ve,je){if(!$e)throw new Error("Could not get canvas context");$e.font=getFont(r,Ve,je);const ze=$e.measureText(t);return new OxySize(ze.width,Ve)}return{measureText:e}}class OxyStyleToCanvasStyleConverter{convertLineJoin(e){switch(e=e||LineJoin.Miter,e){case LineJoin.Miter:return"miter";case LineJoin.Bevel:return"bevel";case LineJoin.Round:return"round"}}convertStrokeOrFillStyle(e){return e.toRgba()}convertFont(e,t,r){let Ve="";return(r||FontWeights.Normal)>FontWeights.Normal&&(Ve+="bold "),Ve+=`${t||12}px `,e&&(Ve+=`"${e}" `),Ve.trim()}}class RenderContextImageCacheService{constructor(){dn(this,"cache",new Map)}get(e){return this.cache.get(e)}set(e,t){this.cache.set(e,t)}clear(e){e?this.cache.delete(e):this.cache.clear()}}let renderContextImageCacheService=new RenderContextImageCacheService;function getRenderContextImageCacheService(){return renderContextImageCacheService}class CanvasRenderContext extends ClippingRenderContext{constructor(e){super(),dn(this,"ctx"),dn(this,"_textMeasurer"),dn(this,"styleConverter",new OxyStyleToCanvasStyleConverter),dn(this,"_ctxInitStyles"),dn(this,"_renderContextImageCacheService"),this.canvas=e;const t=e.getContext("2d");if(!t)throw new Error("Could not get canvas context");this.ctx=t,this._ctxInitStyles={fillStyle:t.fillStyle,strokeStyle:t.strokeStyle,lineJoin:t.lineJoin,lineWidth:t.lineWidth},this._renderContextImageCacheService=getRenderContextImageCacheService(),this._textMeasurer=canvasTextMeasurer(t)}async drawImage(e,t,r,Ve,je,ze,Xe,We,qe,Ke,Ze){if(Ke<=0)return;this.resetStyles();const Je=this.ctx,Qe=await this.getOrCreateImage(e,()=>{const ti=new Blob([e.data],{type:"image/png"});return createImageBitmap(ti)});Je.imageSmoothingEnabled=Ze,Je.drawImage(Qe,t,r,Ve,je,round(ze,0),round(Xe,0),round(We,0),round(qe,0))}async drawLineSegments(e,t,r,Ve,je,ze){if(e.length<2||t.isInvisible()||r==0)return;this.resetStyles();const Xe=this.ctx;Xe.beginPath(),this.applyLineStyle(t,r,Ve,je,ze);for(let We=0;We<e.length;We+=2){const qe=e[We],Ke=e[We+1];this.drawPoints([qe,Ke])}Xe.stroke()}async drawLine(e,t,r,Ve,je,ze){if(e.length<2||t.isInvisible()||r==0)return;this.resetStyles();const Xe=this.ctx;Xe.beginPath(),this.applyLineStyle(t,r,Ve,je,ze),this.drawPoints(e),Xe.stroke()}async drawPolygon(e,t,r,Ve,je,ze,Xe){if(t.isInvisible()&&!(r.isVisible()||Ve<=0)||e.length<2)return;this.resetStyles();const We=this.ctx;We.beginPath(),this.applyPolygonStyle(t,r,Ve,je,ze,Xe),this.drawPoints(e),We.closePath(),t.isVisible()&&We.fill(),r.isVisible()&&Ve>0&&We.stroke()}async drawPolygons(e,t,r,Ve,je,ze,Xe){if(t.isInvisible()&&!(r.isVisible()||Ve<=0)||e.length===0)return;this.resetStyles();const We=this.ctx;this.applyPolygonStyle(t,r,Ve,je,ze,Xe);for(const qe of e)qe.length<2||(We.beginPath(),this.drawPoints(qe),We.closePath(),t.isVisible()&&We.fill(),r.isVisible()&&Ve>0&&We.stroke())}async drawText(e,t,r,Ve,je,ze,Xe,We,qe,Ke){if(!t||r.isInvisible())return;isNullOrUndef(We)&&(We=HorizontalAlignment.Left),isNullOrUndef(qe)&&(qe=VerticalAlignment.Top),this.resetStyles();const Ze=this.ctx;je=je||12,ze=ze||FontWeights.Normal,this.applyTextStyle(r,Ve,je,ze),Ze.save(),Ze.translate(e.x,e.y),Xe&&Ze.rotate(Xe*(Math.PI/180));const Je=StringHelper.splitLines(t),Qe=[];for(const ri of Je){const ii=this.measureText(ri,Ve,je,ze);Qe.push(ii)}const ti=Qe.reduce((ri,ii)=>ri+ii.height,0);let ni=0;Ze.textBaseline="middle",qe===VerticalAlignment.Top?ni=0:qe===VerticalAlignment.Middle?ni=-ti/2:qe===VerticalAlignment.Bottom&&(ni=-ti);for(let ri=0;ri<Je.length;ri++){const ii=Je[ri];let ei=0;const St=Qe[ri];We===HorizontalAlignment.Center?ei=-St.width/2:We===HorizontalAlignment.Right&&(ei=-St.width),Ze.fillText(ii,ei,ni+St.height/2,Ke==null?void 0:Ke.width),ni+=St.height}Ze.restore()}measureText(e,t,r,Ve){return this._textMeasurer.measureText(e,t,r,Ve)}setClip(e){this.ctx.save();const t=new Path2D;t.rect(e.left,e.top,e.width,e.height),this.ctx.clip(t)}resetClip(){this.ctx.restore()}resetStyles(){const e=this.ctx;e.setLineDash([]),Object.assign(e,this._ctxInitStyles)}applyLineStyle(e,t,r,Ve,je){const ze=this.ctx;Ve&&Ve.length>0&&ze.setLineDash(Ve),ze.lineWidth=t,ze.lineJoin=this.styleConverter.convertLineJoin(je),ze.strokeStyle=this.styleConverter.convertStrokeOrFillStyle(e)}applyPolygonStyle(e,t,r,Ve,je,ze){t.isVisible()&&r>0&&this.applyLineStyle(t,r,Ve,je,ze),e.isVisible()&&(this.ctx.fillStyle=this.styleConverter.convertStrokeOrFillStyle(e))}applyTextStyle(e,t,r,Ve){const je=this.ctx;je.fillStyle=this.styleConverter.convertStrokeOrFillStyle(e),je.font=this.styleConverter.convertFont(t,r,Ve)}drawPoints(e){this.ctx.moveTo(e[0].x,e[0].y);for(let t=1;t<e.length;t++){const r=e[t];this.ctx.lineTo(r.x,r.y)}}async getOrCreateImage(e,t){const r=e.getHashCode().toString(),Ve=this._renderContextImageCacheService.get(r);if(Ve)return Promise.resolve(Ve);const je=await t();return this._renderContextImageCacheService.set(r,je),je}}class CanvasPlotView extends WebPlotViewBase{constructor(e){if(super(),dn(this,"_view"),dn(this,"_tooltip"),dn(this,"_renderContext"),dn(this,"_drawCtx"),dn(this,"_styleConverter",new OxyStyleToCanvasStyleConverter),this._view=e,this._drawCtx=this._view.getContext("2d"),!this._drawCtx)throw new Error("Could not get 2d context");this._tooltip=document.createElement("div"),this._tooltip.style.position="absolute",this._tooltip.style.zIndex="100",this._tooltip.style.backgroundColor="#FFFFA0E0",this._tooltip.style.border="1px solid black",this._tooltip.style.padding="8px",this._tooltip.style.visibility="hidden",this._tooltip.style.pointerEvents="none",document.body.appendChild(this._tooltip),this._renderContext=new CanvasRenderContext(this._view),addPlotViewEvents(this._view,this)}get tooltip(){return this._tooltip}get clientArea(){return new OxyRect(0,0,this._view.width,this._view.height)}hideTracker(){this._tooltip.style.visibility="hidden"}showTracker(e){if(!(e!=null&&e.position))return;const t=e.toString()||"";if(t.trim().length===0)return;const r=this._view.offsetTop,Ve=this._view.offsetLeft;this._tooltip.innerText=t,this._tooltip.style.top=`${r+e.position.y}px`,this._tooltip.style.left=`${Ve+e.position.x}px`,this._tooltip.style.visibility="visible"}setCursorType(e){this._view.style.cursor=convertCursorType(e)}async renderOverride(e){this._drawCtx=this._view.getContext("2d");const t=this._view;if(this._drawCtx.reset(),e.background.isUndefined()||(this._drawCtx.fillStyle=this._styleConverter.convertStrokeOrFillStyle(e.background),this._drawCtx.fillRect(0,0,t.width,t.height)),await e.render(this._renderContext,new OxyRect(0,0,t.width,t.height)),this._zoomRectangle&&this._zoomRectangle.equals(OxyRect.Empty)){const r=OxyColor.parse("#40FFFF00"),Ve=OxyColors.Black;await this._renderContext.drawRectangle(this._zoomRectangle,r,Ve,1,EdgeRenderingMode.Automatic)}}}function _typeof($e){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof($e)}var u8=Uint8Array,u16=Uint16Array,u32=Uint32Array,fleb=new u8([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fdeb=new u8([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),clim=new u8([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),freb=function($e,e){for(var t=new u16(31),r=0;r<31;++r)t[r]=e+=1<<$e[r-1];for(var Ve=new u32(t[30]),r=1;r<30;++r)for(var je=t[r];je<t[r+1];++je)Ve[je]=je-t[r]<<5|r;return[t,Ve]},_a=freb(fleb,2),fl=_a[0],revfl=_a[1];fl[28]=258,revfl[258]=28;var _b=freb(fdeb,0),fd=_b[0],revfd=_b[1],rev=new u16(32768);for(var i$1=0;i$1<32768;++i$1){var x$1=(i$1&43690)>>>1|(i$1&21845)<<1;x$1=(x$1&52428)>>>2|(x$1&13107)<<2,x$1=(x$1&61680)>>>4|(x$1&3855)<<4,rev[i$1]=((x$1&65280)>>>8|(x$1&255)<<8)>>>1}var hMap=function($e,e,t){for(var r=$e.length,Ve=0,je=new u16(e);Ve<r;++Ve)++je[$e[Ve]-1];var ze=new u16(e);for(Ve=0;Ve<e;++Ve)ze[Ve]=ze[Ve-1]+je[Ve-1]<<1;var Xe;if(t){Xe=new u16(1<<e);var We=15-e;for(Ve=0;Ve<r;++Ve)if($e[Ve])for(var qe=Ve<<4|$e[Ve],Ke=e-$e[Ve],Ze=ze[$e[Ve]-1]++<<Ke,Je=Ze|(1<<Ke)-1;Ze<=Je;++Ze)Xe[rev[Ze]>>>We]=qe}else for(Xe=new u16(r),Ve=0;Ve<r;++Ve)Xe[Ve]=rev[ze[$e[Ve]-1]++]>>>15-$e[Ve];return Xe},flt=new u8(288);for(var i$1=0;i$1<144;++i$1)flt[i$1]=8;for(var i$1=144;i$1<256;++i$1)flt[i$1]=9;for(var i$1=256;i$1<280;++i$1)flt[i$1]=7;for(var i$1=280;i$1<288;++i$1)flt[i$1]=8;var fdt=new u8(32);for(var i$1=0;i$1<32;++i$1)fdt[i$1]=5;var flm=hMap(flt,9,0),flrm=hMap(flt,9,1),fdm=hMap(fdt,5,0),fdrm=hMap(fdt,5,1),max=function($e){for(var e=$e[0],t=1;t<$e.length;++t)$e[t]>e&&(e=$e[t]);return e},bits=function($e,e,t){var r=e/8>>0;return($e[r]|$e[r+1]<<8)>>>(e&7)&t},bits16=function($e,e){var t=e/8>>0;return($e[t]|$e[t+1]<<8|$e[t+2]<<16)>>>(e&7)},shft=function($e){return($e/8>>0)+($e&7&&1)},slc=function($e,e,t){(e==null||e<0)&&(e=0),(t==null||t>$e.length)&&(t=$e.length);var r=new($e instanceof u16?u16:$e instanceof u32?u32:u8)(t-e);return r.set($e.subarray(e,t)),r},inflt=function($e,e,t){var r=$e.length,Ve=!e||t,je=!t||t.i;t||(t={}),e||(e=new u8(r*3));var ze=function(ji){var Gi=e.length;if(ji>Gi){var Yi=new u8(Math.max(Gi*2,ji));Yi.set(e),e=Yi}},Xe=t.f||0,We=t.p||0,qe=t.b||0,Ke=t.l,Ze=t.d,Je=t.m,Qe=t.n,ti=r*8;do{if(!Ke){t.f=Xe=bits($e,We,1);var ni=bits($e,We+1,3);if(We+=3,ni)if(ni==1)Ke=flrm,Ze=fdrm,Je=9,Qe=5;else if(ni==2){var ri=bits($e,We,31)+257,ii=bits($e,We+10,15)+4,ei=ri+bits($e,We+5,31)+1;We+=14;for(var St=new u8(ei),oi=new u8(19),si=0;si<ii;++si)oi[clim[si]]=bits($e,We+si*3,7);We+=ii*3;var ai=max(oi),ui=(1<<ai)-1;if(!je&&We+ei*(ai+7)>ti)break;for(var hi=hMap(oi,ai,1),si=0;si<ei;){var ci=hi[bits($e,We,ui)];We+=ci&15;var mi=ci>>>4;if(mi<16)St[si++]=mi;else{var di=0,pi=0;for(mi==16?(pi=3+bits($e,We,3),We+=2,di=St[si-1]):mi==17?(pi=3+bits($e,We,7),We+=3):mi==18&&(pi=11+bits($e,We,127),We+=7);pi--;)St[si++]=di}}var yi=St.subarray(0,ri),gi=St.subarray(ri);Je=max(yi),Qe=max(gi),Ke=hMap(yi,Je,1),Ze=hMap(gi,Qe,1)}else throw"invalid block type";else{var mi=shft(We)+4,_i=$e[mi-4]|$e[mi-3]<<8,Ai=mi+_i;if(Ai>r){if(je)throw"unexpected EOF";break}Ve&&ze(qe+_i),e.set($e.subarray(mi,Ai),qe),t.b=qe+=_i,t.p=We=Ai*8;continue}if(We>ti)throw"unexpected EOF"}Ve&&ze(qe+131072);for(var ki=(1<<Je)-1,vi=(1<<Qe)-1,Mi=Je+Qe+18;je||We+Mi<ti;){var di=Ke[bits16($e,We)&ki],Di=di>>>4;if(We+=di&15,We>ti)throw"unexpected EOF";if(!di)throw"invalid length/literal";if(Di<256)e[qe++]=Di;else if(Di==256){Ke=null;break}else{var Bi=Di-254;if(Di>264){var si=Di-257,Pi=fleb[si];Bi=bits($e,We,(1<<Pi)-1)+fl[si],We+=Pi}var Fi=Ze[bits16($e,We)&vi],Vi=Fi>>>4;if(!Fi)throw"invalid distance";We+=Fi&15;var gi=fd[Vi];if(Vi>3){var Pi=fdeb[Vi];gi+=bits16($e,We)&(1<<Pi)-1,We+=Pi}if(We>ti)throw"unexpected EOF";Ve&&ze(qe+131072);for(var Ti=qe+Bi;qe<Ti;qe+=4)e[qe]=e[qe-gi],e[qe+1]=e[qe+1-gi],e[qe+2]=e[qe+2-gi],e[qe+3]=e[qe+3-gi];qe=Ti}}t.l=Ke,t.p=We,t.b=qe,Ke&&(Xe=1,t.m=Je,t.d=Ze,t.n=Qe)}while(!Xe);return qe==e.length?e:slc(e,0,qe)},wbits=function($e,e,t){t<<=e&7;var r=e/8>>0;$e[r]|=t,$e[r+1]|=t>>>8},wbits16=function($e,e,t){t<<=e&7;var r=e/8>>0;$e[r]|=t,$e[r+1]|=t>>>8,$e[r+2]|=t>>>16},hTree=function($e,e){for(var t=[],r=0;r<$e.length;++r)$e[r]&&t.push({s:r,f:$e[r]});var Ve=t.length,je=t.slice();if(!Ve)return[new u8(0),0];if(Ve==1){var ze=new u8(t[0].s+1);return ze[t[0].s]=1,[ze,1]}t.sort(function(si,ai){return si.f-ai.f}),t.push({s:-1,f:25001});var Xe=t[0],We=t[1],qe=0,Ke=1,Ze=2;for(t[0]={s:-1,f:Xe.f+We.f,l:Xe,r:We};Ke!=Ve-1;)Xe=t[t[qe].f<t[Ze].f?qe++:Ze++],We=t[qe!=Ke&&t[qe].f<t[Ze].f?qe++:Ze++],t[Ke++]={s:-1,f:Xe.f+We.f,l:Xe,r:We};for(var Je=je[0].s,r=1;r<Ve;++r)je[r].s>Je&&(Je=je[r].s);var Qe=new u16(Je+1),ti=ln(t[Ke-1],Qe,0);if(ti>e){var r=0,ni=0,ri=ti-e,ii=1<<ri;for(je.sort(function(ai,ui){return Qe[ui.s]-Qe[ai.s]||ai.f-ui.f});r<Ve;++r){var ei=je[r].s;if(Qe[ei]>e)ni+=ii-(1<<ti-Qe[ei]),Qe[ei]=e;else break}for(ni>>>=ri;ni>0;){var St=je[r].s;Qe[St]<e?ni-=1<<e-Qe[St]++-1:++r}for(;r>=0&&ni;--r){var oi=je[r].s;Qe[oi]==e&&(--Qe[oi],++ni)}ti=e}return[new u8(Qe),ti]},ln=function($e,e,t){return $e.s==-1?Math.max(ln($e.l,e,t+1),ln($e.r,e,t+1)):e[$e.s]=t},lc=function($e){for(var e=$e.length;e&&!$e[--e];);for(var t=new u16(++e),r=0,Ve=$e[0],je=1,ze=function(We){t[r++]=We},Xe=1;Xe<=e;++Xe)if($e[Xe]==Ve&&Xe!=e)++je;else{if(!Ve&&je>2){for(;je>138;je-=138)ze(32754);je>2&&(ze(je>10?je-11<<5|28690:je-3<<5|12305),je=0)}else if(je>3){for(ze(Ve),--je;je>6;je-=6)ze(8304);je>2&&(ze(je-3<<5|8208),je=0)}for(;je--;)ze(Ve);je=1,Ve=$e[Xe]}return[t.subarray(0,r),e]},clen=function($e,e){for(var t=0,r=0;r<e.length;++r)t+=$e[r]*e[r];return t},wfblk=function($e,e,t){var r=t.length,Ve=shft(e+2);$e[Ve]=r&255,$e[Ve+1]=r>>>8,$e[Ve+2]=$e[Ve]^255,$e[Ve+3]=$e[Ve+1]^255;for(var je=0;je<r;++je)$e[Ve+je+4]=t[je];return(Ve+4+r)*8},wblk=function($e,e,t,r,Ve,je,ze,Xe,We,qe,Ke){wbits(e,Ke++,t),++Ve[256];for(var Ze=hTree(Ve,15),Je=Ze[0],Qe=Ze[1],ti=hTree(je,15),ni=ti[0],ri=ti[1],ii=lc(Je),ei=ii[0],St=ii[1],oi=lc(ni),si=oi[0],ai=oi[1],ui=new u16(19),hi=0;hi<ei.length;++hi)ui[ei[hi]&31]++;for(var hi=0;hi<si.length;++hi)ui[si[hi]&31]++;for(var ci=hTree(ui,7),mi=ci[0],di=ci[1],pi=19;pi>4&&!mi[clim[pi-1]];--pi);var yi=qe+5<<3,gi=clen(Ve,flt)+clen(je,fdt)+ze,_i=clen(Ve,Je)+clen(je,ni)+ze+14+3*pi+clen(ui,mi)+(2*ui[16]+3*ui[17]+7*ui[18]);if(yi<=gi&&yi<=_i)return wfblk(e,Ke,$e.subarray(We,We+qe));var Ai,ki,vi,Mi;if(wbits(e,Ke,1+(_i<gi)),Ke+=2,_i<gi){Ai=hMap(Je,Qe,0),ki=Je,vi=hMap(ni,ri,0),Mi=ni;var Di=hMap(mi,di,0);wbits(e,Ke,St-257),wbits(e,Ke+5,ai-1),wbits(e,Ke+10,pi-4),Ke+=14;for(var hi=0;hi<pi;++hi)wbits(e,Ke+3*hi,mi[clim[hi]]);Ke+=3*pi;for(var Bi=[ei,si],Pi=0;Pi<2;++Pi)for(var Fi=Bi[Pi],hi=0;hi<Fi.length;++hi){var Vi=Fi[hi]&31;wbits(e,Ke,Di[Vi]),Ke+=mi[Vi],Vi>15&&(wbits(e,Ke,Fi[hi]>>>5&127),Ke+=Fi[hi]>>>12)}}else Ai=flm,ki=flt,vi=fdm,Mi=fdt;for(var hi=0;hi<Xe;++hi)if(r[hi]>255){var Vi=r[hi]>>>18&31;wbits16(e,Ke,Ai[Vi+257]),Ke+=ki[Vi+257],Vi>7&&(wbits(e,Ke,r[hi]>>>23&31),Ke+=fleb[Vi]);var Ti=r[hi]&31;wbits16(e,Ke,vi[Ti]),Ke+=Mi[Ti],Ti>3&&(wbits16(e,Ke,r[hi]>>>5&8191),Ke+=fdeb[Ti])}else wbits16(e,Ke,Ai[r[hi]]),Ke+=ki[r[hi]];return wbits16(e,Ke,Ai[256]),Ke+ki[256]},deo=new u32([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),et$1=new u8(0),dflt=function($e,e,t,r,Ve,je){var ze=$e.length,Xe=new u8(r+ze+5*(1+Math.floor(ze/7e3))+Ve),We=Xe.subarray(r,Xe.length-Ve),qe=0;if(!e||ze<8)for(var Ke=0;Ke<=ze;Ke+=65535){var Ze=Ke+65535;Ze<ze?qe=wfblk(We,qe,$e.subarray(Ke,Ze)):(We[Ke]=je,qe=wfblk(We,qe,$e.subarray(Ke,ze)))}else{for(var Je=deo[e-1],Qe=Je>>>13,ti=Je&8191,ni=(1<<t)-1,ri=new u16(32768),ii=new u16(ni+1),ei=Math.ceil(t/3),St=2*ei,oi=function(Ci){return($e[Ci]^$e[Ci+1]<<ei^$e[Ci+2]<<St)&ni},si=new u32(25e3),ai=new u16(288),ui=new u16(32),hi=0,ci=0,Ke=0,mi=0,di=0,pi=0;Ke<ze;++Ke){var yi=oi(Ke),gi=Ke&32767,_i=ii[yi];if(ri[gi]=_i,ii[yi]=gi,di<=Ke){var Ai=ze-Ke;if((hi>7e3||mi>24576)&&Ai>423){qe=wblk($e,We,0,si,ai,ui,ci,mi,pi,Ke-pi,qe),mi=hi=ci=0,pi=Ke;for(var ki=0;ki<286;++ki)ai[ki]=0;for(var ki=0;ki<30;++ki)ui[ki]=0}var vi=2,Mi=0,Di=ti,Bi=gi-_i&32767;if(Ai>2&&yi==oi(Ke-Bi))for(var Pi=Math.min(Qe,Ai)-1,Fi=Math.min(32767,Ke),Vi=Math.min(258,Ai);Bi<=Fi&&--Di&&gi!=_i;){if($e[Ke+vi]==$e[Ke+vi-Bi]){for(var Ti=0;Ti<Vi&&$e[Ke+Ti]==$e[Ke+Ti-Bi];++Ti);if(Ti>vi){if(vi=Ti,Mi=Bi,Ti>Pi)break;for(var ji=Math.min(Bi,Ti-2),Gi=0,ki=0;ki<ji;++ki){var Yi=Ke-Bi+ki+32768&32767,Xi=ri[Yi],xi=Yi-Xi+32768&32767;xi>Gi&&(Gi=xi,_i=Yi)}}}gi=_i,_i=ri[gi],Bi+=gi-_i+32768&32767}if(Mi){si[mi++]=268435456|revfl[vi]<<18|revfd[Mi];var fi=revfl[vi]&31,$i=revfd[Mi]&31;ci+=fleb[fi]+fdeb[$i],++ai[257+fi],++ui[$i],di=Ke+vi,++hi}else si[mi++]=$e[Ke],++ai[$e[Ke]]}}qe=wblk($e,We,je,si,ai,ui,ci,mi,pi,Ke-pi,qe),je||(qe=wfblk(We,qe,et$1))}return slc(Xe,0,r+shft(qe)+Ve)},adler=function(){var $e=1,e=0;return{p:function(t){for(var r=$e,Ve=e,je=t.length,ze=0;ze!=je;){for(var Xe=Math.min(ze+5552,je);ze<Xe;++ze)r+=t[ze],Ve+=r;r%=65521,Ve%=65521}$e=r,e=Ve},d:function(){return($e>>>8<<16|(e&255)<<8|e>>>8)+(($e&255)<<23)*2}}},dopt=function($e,e,t,r,Ve){return dflt($e,e.level==null?6:e.level,e.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log($e.length)))*1.5):12+e.mem,t,r,!Ve)},wbytes=function($e,e,t){for(;t;++e)$e[e]=t,t>>>=8},zlh=function($e,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;$e[0]=120,$e[1]=r<<6|(r?32-2*r:1)},zlv=function($e){if(($e[0]&15)!=8||$e[0]>>>4>7||($e[0]<<8|$e[1])%31)throw"invalid zlib data";if($e[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function zlibSync($e,e){e===void 0&&(e={});var t=adler();t.p($e);var r=dopt($e,e,2,4);return zlh(r,e),wbytes(r,r.length-4,t.d()),r}function unzlibSync($e,e){return inflt((zlv($e),$e.subarray(2,-4)),e)}/** @license
 *
 * jsPDF - PDF Document creation from JavaScript
 * Version 2.5.1 Built on 2022-01-28T15:37:57.791Z
 *                      CommitID 00000000
 *
 * Copyright (c) 2010-2021 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
 *               2015-2021 yWorks GmbH, http://www.yworks.com
 *               2015-2021 Lukas Hollnder <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
 *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
 *               2010 Aaron Spike, https://github.com/acspike
 *               2012 Willow Systems Corporation, https://github.com/willowsystems
 *               2012 Pablo Hess, https://github.com/pablohess
 *               2012 Florian Jenett, https://github.com/fjenett
 *               2013 Warren Weckesser, https://github.com/warrenweckesser
 *               2013 Youssef Beddad, https://github.com/lifof
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2013 Stefan Slonevskiy, https://github.com/stefslon
 *               2013 Jeremy Morel, https://github.com/jmorel
 *               2013 Christoph Hartmann, https://github.com/chris-rock
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Makes, https://github.com/dollaruw
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 Steven Spungin, https://github.com/Flamenco
 *               2014 Kenneth Glassey, https://github.com/Gavvers
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Contributor(s):
 *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
 *    kim3er, mfo, alnorth, Flamenco
 */var n=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function i(){n.console&&typeof n.console.log=="function"&&n.console.log.apply(n.console,arguments)}var a={log:i,warn:function($e){n.console&&(typeof n.console.warn=="function"?n.console.warn.apply(n.console,arguments):i.call(null,arguments))},error:function($e){n.console&&(typeof n.console.error=="function"?n.console.error.apply(n.console,arguments):i($e))}};function o($e,e,t){var r=new XMLHttpRequest;r.open("GET",$e),r.responseType="blob",r.onload=function(){l(r.response,e,t)},r.onerror=function(){a.error("could not download file")},r.send()}function s($e){var e=new XMLHttpRequest;e.open("HEAD",$e,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function c($e){try{$e.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),$e.dispatchEvent(e)}}var u,h,l=n.saveAs||((typeof window>"u"?"undefined":_typeof(window))!=="object"||window!==n?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function($e,e,t){var r=n.URL||n.webkitURL,Ve=document.createElement("a");e=e||$e.name||"download",Ve.download=e,Ve.rel="noopener",typeof $e=="string"?(Ve.href=$e,Ve.origin!==location.origin?s(Ve.href)?o($e,e,t):c(Ve,Ve.target="_blank"):c(Ve)):(Ve.href=r.createObjectURL($e),setTimeout(function(){r.revokeObjectURL(Ve.href)},4e4),setTimeout(function(){c(Ve)},0))}:"msSaveOrOpenBlob"in navigator?function($e,e,t){if(e=e||$e.name||"download",typeof $e=="string")if(s($e))o($e,e,t);else{var r=document.createElement("a");r.href=$e,r.target="_blank",setTimeout(function(){c(r)})}else navigator.msSaveOrOpenBlob(function(Ve,je){return je===void 0?je={autoBom:!1}:_typeof(je)!=="object"&&(a.warn("Deprecated: Expected third argument to be a object"),je={autoBom:!je}),je.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(Ve.type)?new Blob(["\uFEFF",Ve],{type:Ve.type}):Ve}($e,t),e)}:function($e,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof $e=="string")return o($e,e,t);var Ve=$e.type==="application/octet-stream",je=/constructor/i.test(n.HTMLElement)||n.safari,ze=/CriOS\/[\d]+/.test(navigator.userAgent);if((ze||Ve&&je)&&(typeof FileReader>"u"?"undefined":_typeof(FileReader))==="object"){var Xe=new FileReader;Xe.onloadend=function(){var Ke=Xe.result;Ke=ze?Ke:Ke.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=Ke:location=Ke,r=null},Xe.readAsDataURL($e)}else{var We=n.URL||n.webkitURL,qe=We.createObjectURL($e);r?r.location=qe:location.href=qe,r=null,setTimeout(function(){We.revokeObjectURL(qe)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function f($e){var e;$e=$e||"",this.ok=!1,$e.charAt(0)=="#"&&($e=$e.substr(1,6)),$e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[$e=($e=$e.replace(/ /g,"")).toLowerCase()]||$e;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(Xe){return[parseInt(Xe[1]),parseInt(Xe[2]),parseInt(Xe[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(Xe){return[parseInt(Xe[1],16),parseInt(Xe[2],16),parseInt(Xe[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(Xe){return[parseInt(Xe[1]+Xe[1],16),parseInt(Xe[2]+Xe[2],16),parseInt(Xe[3]+Xe[3],16)]}}],r=0;r<t.length;r++){var Ve=t[r].re,je=t[r].process,ze=Ve.exec($e);ze&&(e=je(ze),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var Xe=this.r.toString(16),We=this.g.toString(16),qe=this.b.toString(16);return Xe.length==1&&(Xe="0"+Xe),We.length==1&&(We="0"+We),qe.length==1&&(qe="0"+qe),"#"+Xe+We+qe}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function d($e,e){var t=$e[0],r=$e[1],Ve=$e[2],je=$e[3];t=g(t,r,Ve,je,e[0],7,-680876936),je=g(je,t,r,Ve,e[1],12,-389564586),Ve=g(Ve,je,t,r,e[2],17,606105819),r=g(r,Ve,je,t,e[3],22,-1044525330),t=g(t,r,Ve,je,e[4],7,-176418897),je=g(je,t,r,Ve,e[5],12,1200080426),Ve=g(Ve,je,t,r,e[6],17,-1473231341),r=g(r,Ve,je,t,e[7],22,-45705983),t=g(t,r,Ve,je,e[8],7,1770035416),je=g(je,t,r,Ve,e[9],12,-1958414417),Ve=g(Ve,je,t,r,e[10],17,-42063),r=g(r,Ve,je,t,e[11],22,-1990404162),t=g(t,r,Ve,je,e[12],7,1804603682),je=g(je,t,r,Ve,e[13],12,-40341101),Ve=g(Ve,je,t,r,e[14],17,-1502002290),t=m(t,r=g(r,Ve,je,t,e[15],22,1236535329),Ve,je,e[1],5,-165796510),je=m(je,t,r,Ve,e[6],9,-1069501632),Ve=m(Ve,je,t,r,e[11],14,643717713),r=m(r,Ve,je,t,e[0],20,-373897302),t=m(t,r,Ve,je,e[5],5,-701558691),je=m(je,t,r,Ve,e[10],9,38016083),Ve=m(Ve,je,t,r,e[15],14,-660478335),r=m(r,Ve,je,t,e[4],20,-405537848),t=m(t,r,Ve,je,e[9],5,568446438),je=m(je,t,r,Ve,e[14],9,-1019803690),Ve=m(Ve,je,t,r,e[3],14,-187363961),r=m(r,Ve,je,t,e[8],20,1163531501),t=m(t,r,Ve,je,e[13],5,-1444681467),je=m(je,t,r,Ve,e[2],9,-51403784),Ve=m(Ve,je,t,r,e[7],14,1735328473),t=v(t,r=m(r,Ve,je,t,e[12],20,-1926607734),Ve,je,e[5],4,-378558),je=v(je,t,r,Ve,e[8],11,-2022574463),Ve=v(Ve,je,t,r,e[11],16,1839030562),r=v(r,Ve,je,t,e[14],23,-35309556),t=v(t,r,Ve,je,e[1],4,-1530992060),je=v(je,t,r,Ve,e[4],11,1272893353),Ve=v(Ve,je,t,r,e[7],16,-155497632),r=v(r,Ve,je,t,e[10],23,-1094730640),t=v(t,r,Ve,je,e[13],4,681279174),je=v(je,t,r,Ve,e[0],11,-358537222),Ve=v(Ve,je,t,r,e[3],16,-722521979),r=v(r,Ve,je,t,e[6],23,76029189),t=v(t,r,Ve,je,e[9],4,-640364487),je=v(je,t,r,Ve,e[12],11,-421815835),Ve=v(Ve,je,t,r,e[15],16,530742520),t=b(t,r=v(r,Ve,je,t,e[2],23,-995338651),Ve,je,e[0],6,-198630844),je=b(je,t,r,Ve,e[7],10,1126891415),Ve=b(Ve,je,t,r,e[14],15,-1416354905),r=b(r,Ve,je,t,e[5],21,-57434055),t=b(t,r,Ve,je,e[12],6,1700485571),je=b(je,t,r,Ve,e[3],10,-1894986606),Ve=b(Ve,je,t,r,e[10],15,-1051523),r=b(r,Ve,je,t,e[1],21,-2054922799),t=b(t,r,Ve,je,e[8],6,1873313359),je=b(je,t,r,Ve,e[15],10,-30611744),Ve=b(Ve,je,t,r,e[6],15,-1560198380),r=b(r,Ve,je,t,e[13],21,1309151649),t=b(t,r,Ve,je,e[4],6,-145523070),je=b(je,t,r,Ve,e[11],10,-1120210379),Ve=b(Ve,je,t,r,e[2],15,718787259),r=b(r,Ve,je,t,e[9],21,-343485551),$e[0]=_(t,$e[0]),$e[1]=_(r,$e[1]),$e[2]=_(Ve,$e[2]),$e[3]=_(je,$e[3])}function p($e,e,t,r,Ve,je){return e=_(_(e,$e),_(r,je)),_(e<<Ve|e>>>32-Ve,t)}function g($e,e,t,r,Ve,je,ze){return p(e&t|~e&r,$e,e,Ve,je,ze)}function m($e,e,t,r,Ve,je,ze){return p(e&r|t&~r,$e,e,Ve,je,ze)}function v($e,e,t,r,Ve,je,ze){return p(e^t^r,$e,e,Ve,je,ze)}function b($e,e,t,r,Ve,je,ze){return p(t^(e|~r),$e,e,Ve,je,ze)}function y($e){var e,t=$e.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=$e.length;e+=64)d(r,w($e.substring(e-64,e)));$e=$e.substring(e-64);var Ve=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<$e.length;e++)Ve[e>>2]|=$e.charCodeAt(e)<<(e%4<<3);if(Ve[e>>2]|=128<<(e%4<<3),e>55)for(d(r,Ve),e=0;e<16;e++)Ve[e]=0;return Ve[14]=8*t,d(r,Ve),r}function w($e){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=$e.charCodeAt(e)+($e.charCodeAt(e+1)<<8)+($e.charCodeAt(e+2)<<16)+($e.charCodeAt(e+3)<<24);return t}u=n.atob.bind(n),h=n.btoa.bind(n);var N="0123456789abcdef".split("");function L($e){for(var e="",t=0;t<4;t++)e+=N[$e>>8*t+4&15]+N[$e>>8*t&15];return e}function A($e){return String.fromCharCode((255&$e)>>0,(65280&$e)>>8,(16711680&$e)>>16,(4278190080&$e)>>24)}function x($e){return y($e).map(A).join("")}var S=function($e){for(var e=0;e<$e.length;e++)$e[e]=L($e[e]);return $e.join("")}(y("hello"))!="5d41402abc4b2a76b9719d911017c592";function _($e,e){if(S){var t=(65535&$e)+(65535&e);return($e>>16)+(e>>16)+(t>>16)<<16|65535&t}return $e+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function P($e,e){var t,r,Ve,je;if($e!==t){for(var ze=(Ve=$e,je=1+(256/$e.length>>0),new Array(je+1).join(Ve)),Xe=[],We=0;We<256;We++)Xe[We]=We;var qe=0;for(We=0;We<256;We++){var Ke=Xe[We];qe=(qe+Ke+ze.charCodeAt(We))%256,Xe[We]=Xe[qe],Xe[qe]=Ke}t=$e,r=Xe}else Xe=r;var Ze=e.length,Je=0,Qe=0,ti="";for(We=0;We<Ze;We++)Qe=(Qe+(Ke=Xe[Je=(Je+1)%256]))%256,Xe[Je]=Xe[Qe],Xe[Qe]=Ke,ze=Xe[(Xe[Je]+Xe[Qe])%256],ti+=String.fromCharCode(e.charCodeAt(We)^ze);return ti}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var k={print:4,modify:8,copy:16,"annot-forms":32};function I($e,e,t,r){this.v=1,this.r=2;var Ve=192;$e.forEach(function(Xe){if(k.perm!==void 0)throw new Error("Invalid permission: "+Xe);Ve+=k[Xe]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var je=(e+this.padding).substr(0,32),ze=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(je,ze),this.P=-(1+(255^Ve)),this.encryptionKey=x(je+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=P(this.encryptionKey,this.padding)}function F($e){if(/[^\u0000-\u00ff]/.test($e))throw new Error("Invalid PDF Name Object: "+$e+", Only accept ASCII characters.");for(var e="",t=$e.length,r=0;r<t;r++){var Ve=$e.charCodeAt(r);Ve<33||Ve===35||Ve===37||Ve===40||Ve===41||Ve===47||Ve===60||Ve===62||Ve===91||Ve===93||Ve===123||Ve===125||Ve>126?e+="#"+("0"+Ve.toString(16)).slice(-2):e+=$e[r]}return e}function C($e){if(_typeof($e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,Ve){if(Ve=Ve||!1,typeof t!="string"||typeof r!="function"||typeof Ve!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var je=Math.random().toString(35);return e[t][je]=[r,!!Ve],je},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),Ve=[];for(var je in e[t]){var ze=e[t][je];try{ze[0].apply($e,r)}catch(Xe){n.console&&a.error("jsPDF PubSub Error",Xe.message,Xe)}ze[1]&&Ve.push(je)}Ve.length&&Ve.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function j($e){if(!(this instanceof j))return new j($e);var e="opacity,stroke-opacity".split(",");for(var t in $e)$e.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=$e[t]);this.id="",this.objectNumber=-1}function O($e,e){this.gState=$e,this.matrix=e,this.id="",this.objectNumber=-1}function B($e,e,t,r,Ve){if(!(this instanceof B))return new B($e,e,t,r,Ve);this.type=$e==="axial"?2:3,this.coords=e,this.colors=t,O.call(this,r,Ve)}function M($e,e,t,r,Ve){if(!(this instanceof M))return new M($e,e,t,r,Ve);this.boundingBox=$e,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,O.call(this,r,Ve)}function E($e){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],Ve=arguments[2],je=arguments[3],ze=[],Xe=1,We=16,qe="S",Ke=null;_typeof($e=$e||{})==="object"&&(t=$e.orientation,r=$e.unit||r,Ve=$e.format||Ve,je=$e.compress||$e.compressPdf||je,(Ke=$e.encryption||null)!==null&&(Ke.userPassword=Ke.userPassword||"",Ke.ownerPassword=Ke.ownerPassword||"",Ke.userPermissions=Ke.userPermissions||[]),Xe=typeof $e.userUnit=="number"?Math.abs($e.userUnit):1,$e.precision!==void 0&&(e=$e.precision),$e.floatPrecision!==void 0&&(We=$e.floatPrecision),qe=$e.defaultPathOperation||"S"),ze=$e.filters||(je===!0?["FlateEncode"]:ze),r=r||"mm",t=(""+(t||"P")).toLowerCase();var Ze=$e.putOnlyUsedFonts||!1,Je={},Qe={internal:{},__private__:{}};Qe.__private__.PubSub=C;var ti="1.3",ni=Qe.__private__.getPdfVersion=function(){return ti};Qe.__private__.setPdfVersion=function(Li){ti=Li};var ri={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};Qe.__private__.getPageFormats=function(){return ri};var ii=Qe.__private__.getPageFormat=function(Li){return ri[Li]};Ve=Ve||"a4";var ei={COMPAT:"compat",ADVANCED:"advanced"},St=ei.COMPAT;function oi(){this.saveGraphicsState(),Si(new xn(qi,0,0,-qi,0,Yo()*qi).toString()+" cm"),this.setFontSize(this.getFontSize()/qi),qe="n",St=ei.ADVANCED}function si(){this.restoreGraphicsState(),qe="S",St=ei.COMPAT}var ai=Qe.__private__.combineFontStyleAndFontWeight=function(Li,Qi){if(Li=="bold"&&Qi=="normal"||Li=="bold"&&Qi==400||Li=="normal"&&Qi=="italic"||Li=="bold"&&Qi=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Qi&&(Li=Qi==400||Qi==="normal"?Li==="italic"?"italic":"normal":Qi!=700&&Qi!=="bold"||Li!=="normal"?(Qi==700?"bold":Qi)+""+Li:"bold"),Li};Qe.advancedAPI=function(Li){var Qi=St===ei.COMPAT;return Qi&&oi.call(this),typeof Li!="function"||(Li(this),Qi&&si.call(this)),this},Qe.compatAPI=function(Li){var Qi=St===ei.ADVANCED;return Qi&&si.call(this),typeof Li!="function"||(Li(this),Qi&&oi.call(this)),this},Qe.isAdvancedAPI=function(){return St===ei.ADVANCED};var ui,hi=function(Li){if(St!==ei.ADVANCED)throw new Error(Li+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ci=Qe.roundToPrecision=Qe.__private__.roundToPrecision=function(Li,Qi){var wn=e||Qi;if(isNaN(Li)||isNaN(wn))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return Li.toFixed(wn).replace(/0+$/,"")};ui=Qe.hpf=Qe.__private__.hpf=typeof We=="number"?function(Li){if(isNaN(Li))throw new Error("Invalid argument passed to jsPDF.hpf");return ci(Li,We)}:We==="smart"?function(Li){if(isNaN(Li))throw new Error("Invalid argument passed to jsPDF.hpf");return ci(Li,Li>-1&&Li<1?16:5)}:function(Li){if(isNaN(Li))throw new Error("Invalid argument passed to jsPDF.hpf");return ci(Li,16)};var mi=Qe.f2=Qe.__private__.f2=function(Li){if(isNaN(Li))throw new Error("Invalid argument passed to jsPDF.f2");return ci(Li,2)},di=Qe.__private__.f3=function(Li){if(isNaN(Li))throw new Error("Invalid argument passed to jsPDF.f3");return ci(Li,3)},pi=Qe.scale=Qe.__private__.scale=function(Li){if(isNaN(Li))throw new Error("Invalid argument passed to jsPDF.scale");return St===ei.COMPAT?Li*qi:St===ei.ADVANCED?Li:void 0},yi=function(Li){return St===ei.COMPAT?Yo()-Li:St===ei.ADVANCED?Li:void 0},gi=function(Li){return pi(yi(Li))};Qe.__private__.setPrecision=Qe.setPrecision=function(Li){typeof parseInt(Li,10)=="number"&&(e=parseInt(Li,10))};var _i,Ai="00000000000000000000000000000000",ki=Qe.__private__.getFileId=function(){return Ai},vi=Qe.__private__.setFileId=function(Li){return Ai=Li!==void 0&&/^[a-fA-F0-9]{32}$/.test(Li)?Li.toUpperCase():Ai.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),Ke!==null&&(qr=new I(Ke.userPermissions,Ke.userPassword,Ke.ownerPassword,Ai)),Ai};Qe.setFileId=function(Li){return vi(Li),this},Qe.getFileId=function(){return ki()};var Mi=Qe.__private__.convertDateToPDFDate=function(Li){var Qi=Li.getTimezoneOffset(),wn=Qi<0?"+":"-",_n=Math.floor(Math.abs(Qi/60)),En=Math.abs(Qi%60),Bn=[wn,Vi(_n),"'",Vi(En),"'"].join("");return["D:",Li.getFullYear(),Vi(Li.getMonth()+1),Vi(Li.getDate()),Vi(Li.getHours()),Vi(Li.getMinutes()),Vi(Li.getSeconds()),Bn].join("")},Di=Qe.__private__.convertPDFDateToDate=function(Li){var Qi=parseInt(Li.substr(2,4),10),wn=parseInt(Li.substr(6,2),10)-1,_n=parseInt(Li.substr(8,2),10),En=parseInt(Li.substr(10,2),10),Bn=parseInt(Li.substr(12,2),10),Xn=parseInt(Li.substr(14,2),10);return new Date(Qi,wn,_n,En,Bn,Xn,0)},Bi=Qe.__private__.setCreationDate=function(Li){var Qi;if(Li===void 0&&(Li=new Date),Li instanceof Date)Qi=Mi(Li);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(Li))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Qi=Li}return _i=Qi},Pi=Qe.__private__.getCreationDate=function(Li){var Qi=_i;return Li==="jsDate"&&(Qi=Di(_i)),Qi};Qe.setCreationDate=function(Li){return Bi(Li),this},Qe.getCreationDate=function(Li){return Pi(Li)};var Fi,Vi=Qe.__private__.padd2=function(Li){return("0"+parseInt(Li)).slice(-2)},Ti=Qe.__private__.padd2Hex=function(Li){return("00"+(Li=Li.toString())).substr(Li.length)},ji=0,Gi=[],Yi=[],Xi=0,xi=[],fi=[],$i=!1,bi=Yi,Ci=function(){ji=0,Xi=0,Yi=[],Gi=[],xi=[],ur=ir(),_r=ir()};Qe.__private__.setCustomOutputDestination=function(Li){$i=!0,bi=Li};var Ei=function(Li){$i||(bi=Li)};Qe.__private__.resetCustomOutputDestination=function(){$i=!1,bi=Yi};var Si=Qe.__private__.out=function(Li){return Li=Li.toString(),Xi+=Li.length+1,bi.push(Li),bi},zi=Qe.__private__.write=function(Li){return Si(arguments.length===1?Li.toString():Array.prototype.join.call(arguments," "))},Ki=Qe.__private__.getArrayBuffer=function(Li){for(var Qi=Li.length,wn=new ArrayBuffer(Qi),_n=new Uint8Array(wn);Qi--;)_n[Qi]=Li.charCodeAt(Qi);return wn},Ui=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];Qe.__private__.getStandardFonts=function(){return Ui};var Ji=$e.fontSize||16;Qe.__private__.setFontSize=Qe.setFontSize=function(Li){return Ji=St===ei.ADVANCED?Li/qi:Li,this};var gn,hn=Qe.__private__.getFontSize=Qe.getFontSize=function(){return St===ei.COMPAT?Ji:Ji*qi},un=$e.R2L||!1;Qe.__private__.setR2L=Qe.setR2L=function(Li){return un=Li,this},Qe.__private__.getR2L=Qe.getR2L=function(){return un};var Mn,sn=Qe.__private__.setZoomMode=function(Li){var Qi=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(Li))gn=Li;else if(isNaN(Li)){if(Qi.indexOf(Li)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+Li+'" is not recognized.');gn=Li}else gn=parseInt(Li,10)};Qe.__private__.getZoomMode=function(){return gn};var vn,Ni=Qe.__private__.setPageMode=function(Li){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(Li)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+Li+'" is not recognized.');Mn=Li};Qe.__private__.getPageMode=function(){return Mn};var Cn=Qe.__private__.setLayoutMode=function(Li){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(Li)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+Li+'" is not recognized.');vn=Li};Qe.__private__.getLayoutMode=function(){return vn},Qe.__private__.setDisplayMode=Qe.setDisplayMode=function(Li,Qi,wn){return sn(Li),Cn(Qi),Ni(wn),this};var cn={title:"",subject:"",author:"",keywords:"",creator:""};Qe.__private__.getDocumentProperty=function(Li){if(Object.keys(cn).indexOf(Li)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return cn[Li]},Qe.__private__.getDocumentProperties=function(){return cn},Qe.__private__.setDocumentProperties=Qe.setProperties=Qe.setDocumentProperties=function(Li){for(var Qi in cn)cn.hasOwnProperty(Qi)&&Li[Qi]&&(cn[Qi]=Li[Qi]);return this},Qe.__private__.setDocumentProperty=function(Li,Qi){if(Object.keys(cn).indexOf(Li)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return cn[Li]=Qi};var fn,qi,an,yn,bn,Sn={},Fn={},kn=[],Nn={},Hn={},Yn={},tr={},qn=null,Jn=0,Qn=[],ar=new C(Qe),mn=$e.hotfixes||[],Ii={},Wi={},nn=[],xn=function Li(Qi,wn,_n,En,Bn,Xn){if(!(this instanceof Li))return new Li(Qi,wn,_n,En,Bn,Xn);isNaN(Qi)&&(Qi=1),isNaN(wn)&&(wn=0),isNaN(_n)&&(_n=0),isNaN(En)&&(En=1),isNaN(Bn)&&(Bn=0),isNaN(Xn)&&(Xn=0),this._matrix=[Qi,wn,_n,En,Bn,Xn]};Object.defineProperty(xn.prototype,"sx",{get:function(){return this._matrix[0]},set:function(Li){this._matrix[0]=Li}}),Object.defineProperty(xn.prototype,"shy",{get:function(){return this._matrix[1]},set:function(Li){this._matrix[1]=Li}}),Object.defineProperty(xn.prototype,"shx",{get:function(){return this._matrix[2]},set:function(Li){this._matrix[2]=Li}}),Object.defineProperty(xn.prototype,"sy",{get:function(){return this._matrix[3]},set:function(Li){this._matrix[3]=Li}}),Object.defineProperty(xn.prototype,"tx",{get:function(){return this._matrix[4]},set:function(Li){this._matrix[4]=Li}}),Object.defineProperty(xn.prototype,"ty",{get:function(){return this._matrix[5]},set:function(Li){this._matrix[5]=Li}}),Object.defineProperty(xn.prototype,"a",{get:function(){return this._matrix[0]},set:function(Li){this._matrix[0]=Li}}),Object.defineProperty(xn.prototype,"b",{get:function(){return this._matrix[1]},set:function(Li){this._matrix[1]=Li}}),Object.defineProperty(xn.prototype,"c",{get:function(){return this._matrix[2]},set:function(Li){this._matrix[2]=Li}}),Object.defineProperty(xn.prototype,"d",{get:function(){return this._matrix[3]},set:function(Li){this._matrix[3]=Li}}),Object.defineProperty(xn.prototype,"e",{get:function(){return this._matrix[4]},set:function(Li){this._matrix[4]=Li}}),Object.defineProperty(xn.prototype,"f",{get:function(){return this._matrix[5]},set:function(Li){this._matrix[5]=Li}}),Object.defineProperty(xn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(xn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(xn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(xn.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),xn.prototype.join=function(Li){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(ui).join(Li)},xn.prototype.multiply=function(Li){var Qi=Li.sx*this.sx+Li.shy*this.shx,wn=Li.sx*this.shy+Li.shy*this.sy,_n=Li.shx*this.sx+Li.sy*this.shx,En=Li.shx*this.shy+Li.sy*this.sy,Bn=Li.tx*this.sx+Li.ty*this.shx+this.tx,Xn=Li.tx*this.shy+Li.ty*this.sy+this.ty;return new xn(Qi,wn,_n,En,Bn,Xn)},xn.prototype.decompose=function(){var Li=this.sx,Qi=this.shy,wn=this.shx,_n=this.sy,En=this.tx,Bn=this.ty,Xn=Math.sqrt(Li*Li+Qi*Qi),Zn=(Li/=Xn)*wn+(Qi/=Xn)*_n;wn-=Li*Zn,_n-=Qi*Zn;var rr=Math.sqrt(wn*wn+_n*_n);return Zn/=rr,Li*(_n/=rr)<Qi*(wn/=rr)&&(Li=-Li,Qi=-Qi,Zn=-Zn,Xn=-Xn),{scale:new xn(Xn,0,0,rr,0,0),translate:new xn(1,0,0,1,En,Bn),rotate:new xn(Li,Qi,-Qi,Li,0,0),skew:new xn(1,0,Zn,1,0,0)}},xn.prototype.toString=function(Li){return this.join(" ")},xn.prototype.inversed=function(){var Li=this.sx,Qi=this.shy,wn=this.shx,_n=this.sy,En=this.tx,Bn=this.ty,Xn=1/(Li*_n-Qi*wn),Zn=_n*Xn,rr=-Qi*Xn,dr=-wn*Xn,fr=Li*Xn;return new xn(Zn,rr,dr,fr,-Zn*En-dr*Bn,-rr*En-fr*Bn)},xn.prototype.applyToPoint=function(Li){var Qi=Li.x*this.sx+Li.y*this.shx+this.tx,wn=Li.x*this.shy+Li.y*this.sy+this.ty;return new As(Qi,wn)},xn.prototype.applyToRectangle=function(Li){var Qi=this.applyToPoint(Li),wn=this.applyToPoint(new As(Li.x+Li.w,Li.y+Li.h));return new ea(Qi.x,Qi.y,wn.x-Qi.x,wn.y-Qi.y)},xn.prototype.clone=function(){var Li=this.sx,Qi=this.shy,wn=this.shx,_n=this.sy,En=this.tx,Bn=this.ty;return new xn(Li,Qi,wn,_n,En,Bn)},Qe.Matrix=xn;var On=Qe.matrixMult=function(Li,Qi){return Qi.multiply(Li)},Ln=new xn(1,0,0,1,0,0);Qe.unitMatrix=Qe.identityMatrix=Ln;var nr=function(Li,Qi){if(!Hn[Li]){var wn=(Qi instanceof B?"Sh":"P")+(Object.keys(Nn).length+1).toString(10);Qi.id=wn,Hn[Li]=wn,Nn[wn]=Qi,ar.publish("addPattern",Qi)}};Qe.ShadingPattern=B,Qe.TilingPattern=M,Qe.addShadingPattern=function(Li,Qi){return hi("addShadingPattern()"),nr(Li,Qi),this},Qe.beginTilingPattern=function(Li){hi("beginTilingPattern()"),ja(Li.boundingBox[0],Li.boundingBox[1],Li.boundingBox[2]-Li.boundingBox[0],Li.boundingBox[3]-Li.boundingBox[1],Li.matrix)},Qe.endTilingPattern=function(Li,Qi){hi("endTilingPattern()"),Qi.stream=fi[Fi].join(`
`),nr(Li,Qi),ar.publish("endTilingPattern",Qi),nn.pop().restore()};var Kn=Qe.__private__.newObject=function(){var Li=ir();return pr(Li,!0),Li},ir=Qe.__private__.newObjectDeferred=function(){return ji++,Gi[ji]=function(){return Xi},ji},pr=function(Li,Qi){return Qi=typeof Qi=="boolean"&&Qi,Gi[Li]=Xi,Qi&&Si(Li+" 0 obj"),Li},Ur=Qe.__private__.newAdditionalObject=function(){var Li={objId:ir(),content:""};return xi.push(Li),Li},ur=ir(),_r=ir(),lr=Qe.__private__.decodeColorString=function(Li){var Qi=Li.split(" ");if(Qi.length!==2||Qi[1]!=="g"&&Qi[1]!=="G")Qi.length===5&&(Qi[4]==="k"||Qi[4]==="K")&&(Qi=[(1-Qi[0])*(1-Qi[3]),(1-Qi[1])*(1-Qi[3]),(1-Qi[2])*(1-Qi[3]),"r"]);else{var wn=parseFloat(Qi[0]);Qi=[wn,wn,wn,"r"]}for(var _n="#",En=0;En<3;En++)_n+=("0"+Math.floor(255*parseFloat(Qi[En])).toString(16)).slice(-2);return _n},yr=Qe.__private__.encodeColorString=function(Li){var Qi;typeof Li=="string"&&(Li={ch1:Li});var wn=Li.ch1,_n=Li.ch2,En=Li.ch3,Bn=Li.ch4,Xn=Li.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof wn=="string"&&wn.charAt(0)!=="#"){var Zn=new f(wn);if(Zn.ok)wn=Zn.toHex();else if(!/^\d*\.?\d*$/.test(wn))throw new Error('Invalid color "'+wn+'" passed to jsPDF.encodeColorString.')}if(typeof wn=="string"&&/^#[0-9A-Fa-f]{3}$/.test(wn)&&(wn="#"+wn[1]+wn[1]+wn[2]+wn[2]+wn[3]+wn[3]),typeof wn=="string"&&/^#[0-9A-Fa-f]{6}$/.test(wn)){var rr=parseInt(wn.substr(1),16);wn=rr>>16&255,_n=rr>>8&255,En=255&rr}if(_n===void 0||Bn===void 0&&wn===_n&&_n===En)if(typeof wn=="string")Qi=wn+" "+Xn[0];else switch(Li.precision){case 2:Qi=mi(wn/255)+" "+Xn[0];break;case 3:default:Qi=di(wn/255)+" "+Xn[0]}else if(Bn===void 0||_typeof(Bn)==="object"){if(Bn&&!isNaN(Bn.a)&&Bn.a===0)return Qi=["1.","1.","1.",Xn[1]].join(" ");if(typeof wn=="string")Qi=[wn,_n,En,Xn[1]].join(" ");else switch(Li.precision){case 2:Qi=[mi(wn/255),mi(_n/255),mi(En/255),Xn[1]].join(" ");break;default:case 3:Qi=[di(wn/255),di(_n/255),di(En/255),Xn[1]].join(" ")}}else if(typeof wn=="string")Qi=[wn,_n,En,Bn,Xn[2]].join(" ");else switch(Li.precision){case 2:Qi=[mi(wn),mi(_n),mi(En),mi(Bn),Xn[2]].join(" ");break;case 3:default:Qi=[di(wn),di(_n),di(En),di(Bn),Xn[2]].join(" ")}return Qi},cr=Qe.__private__.getFilters=function(){return ze},br=Qe.__private__.putStream=function(Li){var Qi=(Li=Li||{}).data||"",wn=Li.filters||cr(),_n=Li.alreadyAppliedFilters||[],En=Li.addLength1||!1,Bn=Qi.length,Xn=Li.objectId,Zn=function(Yr){return Yr};if(Ke!==null&&Xn===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");Ke!==null&&(Zn=qr.encryptor(Xn,0));var rr={};wn===!0&&(wn=["FlateEncode"]);var dr=Li.additionalKeyValues||[],fr=(rr=E.API.processDataByFilters!==void 0?E.API.processDataByFilters(Qi,wn):{data:Qi,reverseChain:[]}).reverseChain+(Array.isArray(_n)?_n.join(" "):_n.toString());if(rr.data.length!==0&&(dr.push({key:"Length",value:rr.data.length}),En===!0&&dr.push({key:"Length1",value:Bn})),fr.length!=0)if(fr.split("/").length-1==1)dr.push({key:"Filter",value:fr});else{dr.push({key:"Filter",value:"["+fr+"]"});for(var xr=0;xr<dr.length;xr+=1)if(dr[xr].key==="DecodeParms"){for(var kr=[],Ir=0;Ir<rr.reverseChain.split("/").length-1;Ir+=1)kr.push("null");kr.push(dr[xr].value),dr[xr].value="["+kr.join(" ")+"]"}}Si("<<");for(var Nr=0;Nr<dr.length;Nr++)Si("/"+dr[Nr].key+" "+dr[Nr].value);Si(">>"),rr.data.length!==0&&(Si("stream"),Si(Zn(rr.data)),Si("endstream"))},Er=Qe.__private__.putPage=function(Li){var Qi=Li.number,wn=Li.data,_n=Li.objId,En=Li.contentsObjId;pr(_n,!0),Si("<</Type /Page"),Si("/Parent "+Li.rootDictionaryObjId+" 0 R"),Si("/Resources "+Li.resourceDictionaryObjId+" 0 R"),Si("/MediaBox ["+parseFloat(ui(Li.mediaBox.bottomLeftX))+" "+parseFloat(ui(Li.mediaBox.bottomLeftY))+" "+ui(Li.mediaBox.topRightX)+" "+ui(Li.mediaBox.topRightY)+"]"),Li.cropBox!==null&&Si("/CropBox ["+ui(Li.cropBox.bottomLeftX)+" "+ui(Li.cropBox.bottomLeftY)+" "+ui(Li.cropBox.topRightX)+" "+ui(Li.cropBox.topRightY)+"]"),Li.bleedBox!==null&&Si("/BleedBox ["+ui(Li.bleedBox.bottomLeftX)+" "+ui(Li.bleedBox.bottomLeftY)+" "+ui(Li.bleedBox.topRightX)+" "+ui(Li.bleedBox.topRightY)+"]"),Li.trimBox!==null&&Si("/TrimBox ["+ui(Li.trimBox.bottomLeftX)+" "+ui(Li.trimBox.bottomLeftY)+" "+ui(Li.trimBox.topRightX)+" "+ui(Li.trimBox.topRightY)+"]"),Li.artBox!==null&&Si("/ArtBox ["+ui(Li.artBox.bottomLeftX)+" "+ui(Li.artBox.bottomLeftY)+" "+ui(Li.artBox.topRightX)+" "+ui(Li.artBox.topRightY)+"]"),typeof Li.userUnit=="number"&&Li.userUnit!==1&&Si("/UserUnit "+Li.userUnit),ar.publish("putPage",{objId:_n,pageContext:Qn[Qi],pageNumber:Qi,page:wn}),Si("/Contents "+En+" 0 R"),Si(">>"),Si("endobj");var Bn=wn.join(`
`);return St===ei.ADVANCED&&(Bn+=`
Q`),pr(En,!0),br({data:Bn,filters:cr(),objectId:En}),Si("endobj"),_n},$r=Qe.__private__.putPages=function(){var Li,Qi,wn=[];for(Li=1;Li<=Jn;Li++)Qn[Li].objId=ir(),Qn[Li].contentsObjId=ir();for(Li=1;Li<=Jn;Li++)wn.push(Er({number:Li,data:fi[Li],objId:Qn[Li].objId,contentsObjId:Qn[Li].contentsObjId,mediaBox:Qn[Li].mediaBox,cropBox:Qn[Li].cropBox,bleedBox:Qn[Li].bleedBox,trimBox:Qn[Li].trimBox,artBox:Qn[Li].artBox,userUnit:Qn[Li].userUnit,rootDictionaryObjId:ur,resourceDictionaryObjId:_r}));pr(ur,!0),Si("<</Type /Pages");var _n="/Kids [";for(Qi=0;Qi<Jn;Qi++)_n+=wn[Qi]+" 0 R ";Si(_n+"]"),Si("/Count "+Jn),Si(">>"),Si("endobj"),ar.publish("postPutPages")},Gr=function(Li){ar.publish("putFont",{font:Li,out:Si,newObject:Kn,putStream:br}),Li.isAlreadyPutted!==!0&&(Li.objectNumber=Kn(),Si("<<"),Si("/Type /Font"),Si("/BaseFont /"+F(Li.postScriptName)),Si("/Subtype /Type1"),typeof Li.encoding=="string"&&Si("/Encoding /"+Li.encoding),Si("/FirstChar 32"),Si("/LastChar 255"),Si(">>"),Si("endobj"))},ao=function(){for(var Li in Sn)Sn.hasOwnProperty(Li)&&(Ze===!1||Ze===!0&&Je.hasOwnProperty(Li))&&Gr(Sn[Li])},lo=function(Li){Li.objectNumber=Kn();var Qi=[];Qi.push({key:"Type",value:"/XObject"}),Qi.push({key:"Subtype",value:"/Form"}),Qi.push({key:"BBox",value:"["+[ui(Li.x),ui(Li.y),ui(Li.x+Li.width),ui(Li.y+Li.height)].join(" ")+"]"}),Qi.push({key:"Matrix",value:"["+Li.matrix.toString()+"]"});var wn=Li.pages[1].join(`
`);br({data:wn,additionalKeyValues:Qi,objectId:Li.objectNumber}),Si("endobj")},uo=function(){for(var Li in Ii)Ii.hasOwnProperty(Li)&&lo(Ii[Li])},ko=function(Li,Qi){var wn,_n=[],En=1/(Qi-1);for(wn=0;wn<1;wn+=En)_n.push(wn);if(_n.push(1),Li[0].offset!=0){var Bn={offset:0,color:Li[0].color};Li.unshift(Bn)}if(Li[Li.length-1].offset!=1){var Xn={offset:1,color:Li[Li.length-1].color};Li.push(Xn)}for(var Zn="",rr=0,dr=0;dr<_n.length;dr++){for(wn=_n[dr];wn>Li[rr+1].offset;)rr++;var fr=Li[rr].offset,xr=(wn-fr)/(Li[rr+1].offset-fr),kr=Li[rr].color,Ir=Li[rr+1].color;Zn+=Ti(Math.round((1-xr)*kr[0]+xr*Ir[0]).toString(16))+Ti(Math.round((1-xr)*kr[1]+xr*Ir[1]).toString(16))+Ti(Math.round((1-xr)*kr[2]+xr*Ir[2]).toString(16))}return Zn.trim()},no=function(Li,Qi){Qi||(Qi=21);var wn=Kn(),_n=ko(Li.colors,Qi),En=[];En.push({key:"FunctionType",value:"0"}),En.push({key:"Domain",value:"[0.0 1.0]"}),En.push({key:"Size",value:"["+Qi+"]"}),En.push({key:"BitsPerSample",value:"8"}),En.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),En.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),br({data:_n,additionalKeyValues:En,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:wn}),Si("endobj"),Li.objectNumber=Kn(),Si("<< /ShadingType "+Li.type),Si("/ColorSpace /DeviceRGB");var Bn="/Coords ["+ui(parseFloat(Li.coords[0]))+" "+ui(parseFloat(Li.coords[1]))+" ";Li.type===2?Bn+=ui(parseFloat(Li.coords[2]))+" "+ui(parseFloat(Li.coords[3])):Bn+=ui(parseFloat(Li.coords[2]))+" "+ui(parseFloat(Li.coords[3]))+" "+ui(parseFloat(Li.coords[4]))+" "+ui(parseFloat(Li.coords[5])),Si(Bn+="]"),Li.matrix&&Si("/Matrix ["+Li.matrix.toString()+"]"),Si("/Function "+wn+" 0 R"),Si("/Extend [true true]"),Si(">>"),Si("endobj")},xl=function(Li,Qi){var wn=ir(),_n=Kn();Qi.push({resourcesOid:wn,objectOid:_n}),Li.objectNumber=_n;var En=[];En.push({key:"Type",value:"/Pattern"}),En.push({key:"PatternType",value:"1"}),En.push({key:"PaintType",value:"1"}),En.push({key:"TilingType",value:"1"}),En.push({key:"BBox",value:"["+Li.boundingBox.map(ui).join(" ")+"]"}),En.push({key:"XStep",value:ui(Li.xStep)}),En.push({key:"YStep",value:ui(Li.yStep)}),En.push({key:"Resources",value:wn+" 0 R"}),Li.matrix&&En.push({key:"Matrix",value:"["+Li.matrix.toString()+"]"}),br({data:Li.stream,additionalKeyValues:En,objectId:Li.objectNumber}),Si("endobj")},gs=function(Li){var Qi;for(Qi in Nn)Nn.hasOwnProperty(Qi)&&(Nn[Qi]instanceof B?no(Nn[Qi]):Nn[Qi]instanceof M&&xl(Nn[Qi],Li))},Ca=function(Li){for(var Qi in Li.objectNumber=Kn(),Si("<<"),Li)switch(Qi){case"opacity":Si("/ca "+mi(Li[Qi]));break;case"stroke-opacity":Si("/CA "+mi(Li[Qi]))}Si(">>"),Si("endobj")},wl=function(){var Li;for(Li in Yn)Yn.hasOwnProperty(Li)&&Ca(Yn[Li])},Hs=function(){for(var Li in Si("/XObject <<"),Ii)Ii.hasOwnProperty(Li)&&Ii[Li].objectNumber>=0&&Si("/"+Li+" "+Ii[Li].objectNumber+" 0 R");ar.publish("putXobjectDict"),Si(">>")},bl=function(){qr.oid=Kn(),Si("<<"),Si("/Filter /Standard"),Si("/V "+qr.v),Si("/R "+qr.r),Si("/U <"+qr.toHexString(qr.U)+">"),Si("/O <"+qr.toHexString(qr.O)+">"),Si("/P "+qr.P),Si(">>"),Si("endobj")},Ma=function(){for(var Li in Si("/Font <<"),Sn)Sn.hasOwnProperty(Li)&&(Ze===!1||Ze===!0&&Je.hasOwnProperty(Li))&&Si("/"+Li+" "+Sn[Li].objectNumber+" 0 R");Si(">>")},vl=function(){if(Object.keys(Nn).length>0){for(var Li in Si("/Shading <<"),Nn)Nn.hasOwnProperty(Li)&&Nn[Li]instanceof B&&Nn[Li].objectNumber>=0&&Si("/"+Li+" "+Nn[Li].objectNumber+" 0 R");ar.publish("putShadingPatternDict"),Si(">>")}},ys=function(Li){if(Object.keys(Nn).length>0){for(var Qi in Si("/Pattern <<"),Nn)Nn.hasOwnProperty(Qi)&&Nn[Qi]instanceof Qe.TilingPattern&&Nn[Qi].objectNumber>=0&&Nn[Qi].objectNumber<Li&&Si("/"+Qi+" "+Nn[Qi].objectNumber+" 0 R");ar.publish("putTilingPatternDict"),Si(">>")}},_l=function(){if(Object.keys(Yn).length>0){var Li;for(Li in Si("/ExtGState <<"),Yn)Yn.hasOwnProperty(Li)&&Yn[Li].objectNumber>=0&&Si("/"+Li+" "+Yn[Li].objectNumber+" 0 R");ar.publish("putGStateDict"),Si(">>")}},Tr=function(Li){pr(Li.resourcesOid,!0),Si("<<"),Si("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Ma(),vl(),ys(Li.objectOid),_l(),Hs(),Si(">>"),Si("endobj")},Da=function(){var Li=[];ao(),wl(),uo(),gs(Li),ar.publish("putResources"),Li.forEach(Tr),Tr({resourcesOid:_r,objectOid:Number.MAX_SAFE_INTEGER}),ar.publish("postPutResources")},Sa=function(){ar.publish("putAdditionalObjects");for(var Li=0;Li<xi.length;Li++){var Qi=xi[Li];pr(Qi.objId,!0),Si(Qi.content),Si("endobj")}ar.publish("postPutAdditionalObjects")},Pa=function(Li){Fn[Li.fontName]=Fn[Li.fontName]||{},Fn[Li.fontName][Li.fontStyle]=Li.id},Xs=function(Li,Qi,wn,_n,En){var Bn={id:"F"+(Object.keys(Sn).length+1).toString(10),postScriptName:Li,fontName:Qi,fontStyle:wn,encoding:_n,isStandardFont:En||!1,metadata:{}};return ar.publish("addFont",{font:Bn,instance:this}),Sn[Bn.id]=Bn,Pa(Bn),Bn.id},$l=function(Li){for(var Qi=0,wn=Ui.length;Qi<wn;Qi++){var _n=Xs.call(this,Li[Qi][0],Li[Qi][1],Li[Qi][2],Ui[Qi][3],!0);Ze===!1&&(Je[_n]=!0);var En=Li[Qi][0].split("-");Pa({id:_n,fontName:En[0],fontStyle:En[1]||""})}ar.publish("addFonts",{fonts:Sn,dictionary:Fn})},yo=function(Li){return Li.foo=function(){try{return Li.apply(this,arguments)}catch(_n){var Qi=_n.stack||"";~Qi.indexOf(" at ")&&(Qi=Qi.split(" at ")[1]);var wn="Error in function "+Qi.split(`
`)[0].split("<")[0]+": "+_n.message;if(!n.console)throw new Error(wn);n.console.error(wn,_n),n.alert&&alert(wn)}},Li.foo.bar=Li,Li.foo},xs=function(Li,Qi){var wn,_n,En,Bn,Xn,Zn,rr,dr,fr;if(En=(Qi=Qi||{}).sourceEncoding||"Unicode",Xn=Qi.outputEncoding,(Qi.autoencode||Xn)&&Sn[fn].metadata&&Sn[fn].metadata[En]&&Sn[fn].metadata[En].encoding&&(Bn=Sn[fn].metadata[En].encoding,!Xn&&Sn[fn].encoding&&(Xn=Sn[fn].encoding),!Xn&&Bn.codePages&&(Xn=Bn.codePages[0]),typeof Xn=="string"&&(Xn=Bn[Xn]),Xn)){for(rr=!1,Zn=[],wn=0,_n=Li.length;wn<_n;wn++)(dr=Xn[Li.charCodeAt(wn)])?Zn.push(String.fromCharCode(dr)):Zn.push(Li[wn]),Zn[wn].charCodeAt(0)>>8&&(rr=!0);Li=Zn.join("")}for(wn=Li.length;rr===void 0&&wn!==0;)Li.charCodeAt(wn-1)>>8&&(rr=!0),wn--;if(!rr)return Li;for(Zn=Qi.noBOM?[]:[254,255],wn=0,_n=Li.length;wn<_n;wn++){if((fr=(dr=Li.charCodeAt(wn))>>8)>>8)throw new Error("Character at position "+wn+" of string '"+Li+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Zn.push(fr),Zn.push(dr-(fr<<8))}return String.fromCharCode.apply(void 0,Zn)},Kr=Qe.__private__.pdfEscape=Qe.pdfEscape=function(Li,Qi){return xs(Li,Qi).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Gs=Qe.__private__.beginPage=function(Li){fi[++Jn]=[],Qn[Jn]={objId:0,contentsObjId:0,userUnit:Number(Xe),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(Li[0]),topRightY:Number(Li[1])}},ka(Jn),Ei(fi[Fi])},Ea=function(Li,Qi){var wn,_n,En;switch(t=Qi||t,typeof Li=="string"&&(wn=ii(Li.toLowerCase()),Array.isArray(wn)&&(_n=wn[0],En=wn[1])),Array.isArray(Li)&&(_n=Li[0]*qi,En=Li[1]*qi),isNaN(_n)&&(_n=Ve[0],En=Ve[1]),(_n>14400||En>14400)&&(a.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),_n=Math.min(14400,_n),En=Math.min(14400,En)),Ve=[_n,En],t.substr(0,1)){case"l":En>_n&&(Ve=[En,_n]);break;case"p":_n>En&&(Ve=[En,_n])}Gs(Ve),Ra(Ks),Si(xo),Js!==0&&Si(Js+" J"),Qs!==0&&Si(Qs+" j"),ar.publish("addPage",{pageNumber:Jn})},Al=function(Li){Li>0&&Li<=Jn&&(fi.splice(Li,1),Qn.splice(Li,1),Jn--,Fi>Jn&&(Fi=Jn),this.setPage(Fi))},ka=function(Li){Li>0&&Li<=Jn&&(Fi=Li)},Cl=Qe.__private__.getNumberOfPages=Qe.getNumberOfPages=function(){return fi.length-1},Oa=function(Li,Qi,wn){var _n,En=void 0;return wn=wn||{},Li=Li!==void 0?Li:Sn[fn].fontName,Qi=Qi!==void 0?Qi:Sn[fn].fontStyle,_n=Li.toLowerCase(),Fn[_n]!==void 0&&Fn[_n][Qi]!==void 0?En=Fn[_n][Qi]:Fn[Li]!==void 0&&Fn[Li][Qi]!==void 0?En=Fn[Li][Qi]:wn.disableWarning===!1&&a.warn("Unable to look up font label for font '"+Li+"', '"+Qi+"'. Refer to getFontList() for available fonts."),En||wn.noFallback||(En=Fn.times[Qi])==null&&(En=Fn.times.normal),En},Ml=Qe.__private__.putInfo=function(){var Li=Kn(),Qi=function(_n){return _n};for(var wn in Ke!==null&&(Qi=qr.encryptor(Li,0)),Si("<<"),Si("/Producer ("+Kr(Qi("jsPDF "+E.version))+")"),cn)cn.hasOwnProperty(wn)&&cn[wn]&&Si("/"+wn.substr(0,1).toUpperCase()+wn.substr(1)+" ("+Kr(Qi(cn[wn]))+")");Si("/CreationDate ("+Kr(Qi(_i))+")"),Si(">>"),Si("endobj")},qs=Qe.__private__.putCatalog=function(Li){var Qi=(Li=Li||{}).rootDictionaryObjId||ur;switch(Kn(),Si("<<"),Si("/Type /Catalog"),Si("/Pages "+Qi+" 0 R"),gn||(gn="fullwidth"),gn){case"fullwidth":Si("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Si("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Si("/OpenAction [3 0 R /Fit]");break;case"original":Si("/OpenAction [3 0 R /XYZ null null 1]");break;default:var wn=""+gn;wn.substr(wn.length-1)==="%"&&(gn=parseInt(gn)/100),typeof gn=="number"&&Si("/OpenAction [3 0 R /XYZ null null "+mi(gn)+"]")}switch(vn||(vn="continuous"),vn){case"continuous":Si("/PageLayout /OneColumn");break;case"single":Si("/PageLayout /SinglePage");break;case"two":case"twoleft":Si("/PageLayout /TwoColumnLeft");break;case"tworight":Si("/PageLayout /TwoColumnRight")}Mn&&Si("/PageMode /"+Mn),ar.publish("putCatalog"),Si(">>"),Si("endobj")},Dl=Qe.__private__.putTrailer=function(){Si("trailer"),Si("<<"),Si("/Size "+(ji+1)),Si("/Root "+ji+" 0 R"),Si("/Info "+(ji-1)+" 0 R"),Ke!==null&&Si("/Encrypt "+qr.oid+" 0 R"),Si("/ID [ <"+Ai+"> <"+Ai+"> ]"),Si(">>")},Sl=Qe.__private__.putHeader=function(){Si("%PDF-"+ti),Si("%")},Pl=Qe.__private__.putXRef=function(){var Li="0000000000";Si("xref"),Si("0 "+(ji+1)),Si("0000000000 65535 f ");for(var Qi=1;Qi<=ji;Qi++)typeof Gi[Qi]=="function"?Si((Li+Gi[Qi]()).slice(-10)+" 00000 n "):Gi[Qi]!==void 0?Si((Li+Gi[Qi]).slice(-10)+" 00000 n "):Si("0000000000 00000 n ")},Lo=Qe.__private__.buildDocument=function(){Ci(),Ei(Yi),ar.publish("buildDocument"),Sl(),$r(),Sa(),Da(),Ke!==null&&bl(),Ml(),qs();var Li=Xi;return Pl(),Dl(),Si("startxref"),Si(""+Li),Si("%%EOF"),Ei(fi[Fi]),Yi.join(`
`)},ws=Qe.__private__.getBlob=function(Li){return new Blob([Ki(Li)],{type:"application/pdf"})},bs=Qe.output=Qe.__private__.output=yo(function(Li,Qi){switch(typeof(Qi=Qi||{})=="string"?Qi={filename:Qi}:Qi.filename=Qi.filename||"generated.pdf",Li){case void 0:return Lo();case"save":Qe.save(Qi.filename);break;case"arraybuffer":return Ki(Lo());case"blob":return ws(Lo());case"bloburi":case"bloburl":if(n.URL!==void 0&&typeof n.URL.createObjectURL=="function")return n.URL&&n.URL.createObjectURL(ws(Lo()))||void 0;a.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var wn="",_n=Lo();try{wn=h(_n)}catch{wn=h(unescape(encodeURIComponent(_n)))}return"data:application/pdf;filename="+Qi.filename+";base64,"+wn;case"pdfobjectnewwindow":if(Object.prototype.toString.call(n)==="[object Window]"){var En="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Bn=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Qi.pdfObjectUrl&&(En=Qi.pdfObjectUrl,Bn="");var Xn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+En+'"'+Bn+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Qi)+");<\/script></body></html>",Zn=n.open();return Zn!==null&&Zn.document.write(Xn),Zn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(n)==="[object Window]"){var rr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Qi.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Qi.filename+'" width="500px" height="400px" /></body></html>',dr=n.open();if(dr!==null){dr.document.write(rr);var fr=this;dr.document.documentElement.querySelector("#pdfViewer").onload=function(){dr.document.title=Qi.filename,dr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(fr.output("bloburl"))}}return dr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(n)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var xr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Qi)+'"></iframe></body></html>',kr=n.open();if(kr!==null&&(kr.document.write(xr),kr.document.title=Qi.filename),kr||typeof safari>"u")return kr;break;case"datauri":case"dataurl":return n.document.location.href=this.output("datauristring",Qi);default:return null}}),Ta=function(Li){return Array.isArray(mn)===!0&&mn.indexOf(Li)>-1};switch(r){case"pt":qi=1;break;case"mm":qi=72/25.4;break;case"cm":qi=72/2.54;break;case"in":qi=72;break;case"px":qi=Ta("px_scaling")==1?.75:96/72;break;case"pc":case"em":qi=12;break;case"ex":qi=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);qi=r}var qr=null;Bi(),vi();var El=function(Li){return Ke!==null?qr.encryptor(Li,0):function(Qi){return Qi}},Ia=Qe.__private__.getPageInfo=Qe.getPageInfo=function(Li){if(isNaN(Li)||Li%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Qn[Li].objId,pageNumber:Li,pageContext:Qn[Li]}},hr=Qe.__private__.getPageInfoByObjId=function(Li){if(isNaN(Li)||Li%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Qi in Qn)if(Qn[Qi].objId===Li)break;return Ia(Qi)},kl=Qe.__private__.getCurrentPageInfo=Qe.getCurrentPageInfo=function(){return{objId:Qn[Fi].objId,pageNumber:Fi,pageContext:Qn[Fi]}};Qe.addPage=function(){return Ea.apply(this,arguments),this},Qe.setPage=function(){return ka.apply(this,arguments),Ei.call(this,fi[Fi]),this},Qe.insertPage=function(Li){return this.addPage(),this.movePage(Fi,Li),this},Qe.movePage=function(Li,Qi){var wn,_n;if(Li>Qi){wn=fi[Li],_n=Qn[Li];for(var En=Li;En>Qi;En--)fi[En]=fi[En-1],Qn[En]=Qn[En-1];fi[Qi]=wn,Qn[Qi]=_n,this.setPage(Qi)}else if(Li<Qi){wn=fi[Li],_n=Qn[Li];for(var Bn=Li;Bn<Qi;Bn++)fi[Bn]=fi[Bn+1],Qn[Bn]=Qn[Bn+1];fi[Qi]=wn,Qn[Qi]=_n,this.setPage(Qi)}return this},Qe.deletePage=function(){return Al.apply(this,arguments),this},Qe.__private__.text=Qe.text=function(Li,Qi,wn,_n,En){var Bn,Xn,Zn,rr,dr,fr,xr,kr,Ir,Nr=(_n=_n||{}).scope||this;if(typeof Li=="number"&&typeof Qi=="number"&&(typeof wn=="string"||Array.isArray(wn))){var Yr=wn;wn=Qi,Qi=Li,Li=Yr}if(arguments[3]instanceof xn?(hi("The transform parameter of text() with a Matrix value"),Ir=En):(Zn=arguments[4],rr=arguments[5],_typeof(xr=arguments[3])==="object"&&xr!==null||(typeof Zn=="string"&&(rr=Zn,Zn=null),typeof xr=="string"&&(rr=xr,xr=null),typeof xr=="number"&&(Zn=xr,xr=null),_n={flags:xr,angle:Zn,align:rr})),isNaN(Qi)||isNaN(wn)||Li==null)throw new Error("Invalid arguments passed to jsPDF.text");if(Li.length===0)return Nr;var jr="",wo=!1,ho=typeof _n.lineHeightFactor=="number"?_n.lineHeightFactor:ls,Ro=Nr.internal.scaleFactor;function za(Sr){return Sr=Sr.split("	").join(Array(_n.TabLen||9).join(" ")),Kr(Sr,xr)}function ra(Sr){for(var Pr,Lr=Sr.concat(),Br=[],Uo=Lr.length;Uo--;)typeof(Pr=Lr.shift())=="string"?Br.push(Pr):Array.isArray(Sr)&&(Pr.length===1||Pr[1]===void 0&&Pr[2]===void 0)?Br.push(Pr[0]):Br.push([Pr[0],Pr[1],Pr[2]]);return Br}function oa(Sr,Pr){var Lr;if(typeof Sr=="string")Lr=Pr(Sr)[0];else if(Array.isArray(Sr)){for(var Br,Uo,Qo=Sr.concat(),Is=[],Xa=Qo.length;Xa--;)typeof(Br=Qo.shift())=="string"?Is.push(Pr(Br)[0]):Array.isArray(Br)&&typeof Br[0]=="string"&&(Uo=Pr(Br[0],Br[1],Br[2]),Is.push([Uo[0],Uo[1],Uo[2]]));Lr=Is}return Lr}var Ms=!1,sa=!0;if(typeof Li=="string")Ms=!0;else if(Array.isArray(Li)){var aa=Li.concat();Xn=[];for(var Ds,Zr=aa.length;Zr--;)(typeof(Ds=aa.shift())!="string"||Array.isArray(Ds)&&typeof Ds[0]!="string")&&(sa=!1);Ms=sa}if(Ms===!1)throw new Error('Type of text must be string or Array. "'+Li+'" is not recognized.');typeof Li=="string"&&(Li=Li.match(/[\r?\n]/)?Li.split(/\r\n|\r|\n/g):[Li]);var Ss=Ji/Nr.internal.scaleFactor,Ps=Ss*(ho-1);switch(_n.baseline){case"bottom":wn-=Ps;break;case"top":wn+=Ss-Ps;break;case"hanging":wn+=Ss-2*Ps;break;case"middle":wn+=Ss/2-Ps}if((fr=_n.maxWidth||0)>0&&(typeof Li=="string"?Li=Nr.splitTextToSize(Li,fr):Object.prototype.toString.call(Li)==="[object Array]"&&(Li=Li.reduce(function(Sr,Pr){return Sr.concat(Nr.splitTextToSize(Pr,fr))},[]))),Bn={text:Li,x:Qi,y:wn,options:_n,mutex:{pdfEscape:Kr,activeFontKey:fn,fonts:Sn,activeFontSize:Ji}},ar.publish("preProcessText",Bn),Li=Bn.text,Zn=(_n=Bn.options).angle,!(Ir instanceof xn)&&Zn&&typeof Zn=="number"){Zn*=Math.PI/180,_n.rotationDirection===0&&(Zn=-Zn),St===ei.ADVANCED&&(Zn=-Zn);var Es=Math.cos(Zn),la=Math.sin(Zn);Ir=new xn(Es,la,-la,Es,0,0)}else Zn&&Zn instanceof xn&&(Ir=Zn);St!==ei.ADVANCED||Ir||(Ir=Ln),(dr=_n.charSpace||$s)!==void 0&&(jr+=ui(pi(dr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(kr=_n.horizontalScale)!==void 0&&(jr+=ui(100*kr)+` Tz
`),_n.lang;var Jr=-1,Ul=_n.renderingMode!==void 0?_n.renderingMode:_n.stroke,ua=Nr.internal.getCurrentPageInfo().pageContext;switch(Ul){case 0:case!1:case"fill":Jr=0;break;case 1:case!0:case"stroke":Jr=1;break;case 2:case"fillThenStroke":Jr=2;break;case 3:case"invisible":Jr=3;break;case 4:case"fillAndAddForClipping":Jr=4;break;case 5:case"strokeAndAddPathForClipping":Jr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Jr=6;break;case 7:case"addToPathForClipping":Jr=7}var Ha=ua.usedRenderingMode!==void 0?ua.usedRenderingMode:-1;Jr!==-1?jr+=Jr+` Tr
`:Ha!==-1&&(jr+=`0 Tr
`),Jr!==-1&&(ua.usedRenderingMode=Jr),rr=_n.align||"left";var bo,ha=Ji*ho,jl=Nr.internal.pageSize.getWidth(),zl=Sn[fn];dr=_n.charSpace||$s,fr=_n.maxWidth||0,xr=Object.assign({autoencode:!0,noBOM:!0},_n.flags);var Wo=[];if(Object.prototype.toString.call(Li)==="[object Array]"){var co;Xn=ra(Li),rr!=="left"&&(bo=Xn.map(function(Sr){return Nr.getStringUnitWidth(Sr,{font:zl,charSpace:dr,fontSize:Ji,doKerning:!1})*Ji/Ro}));var vo,Ko=0;if(rr==="right"){Qi-=bo[0],Li=[],Zr=Xn.length;for(var To=0;To<Zr;To++)To===0?(vo=No(Qi),co=Go(wn)):(vo=pi(Ko-bo[To]),co=-ha),Li.push([Xn[To],vo,co]),Ko=bo[To]}else if(rr==="center"){Qi-=bo[0]/2,Li=[],Zr=Xn.length;for(var Fo=0;Fo<Zr;Fo++)Fo===0?(vo=No(Qi),co=Go(wn)):(vo=pi((Ko-bo[Fo])/2),co=-ha),Li.push([Xn[Fo],vo,co]),Ko=bo[Fo]}else if(rr==="left"){Li=[],Zr=Xn.length;for(var ks=0;ks<Zr;ks++)Li.push(Xn[ks])}else{if(rr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');Li=[],Zr=Xn.length,fr=fr!==0?fr:jl;for(var _o=0;_o<Zr;_o++)co=_o===0?Go(wn):-ha,vo=_o===0?No(Qi):0,_o<Zr-1?Wo.push(ui(pi((fr-bo[_o])/(Xn[_o].split(" ").length-1)))):Wo.push(0),Li.push([Xn[_o],vo,co])}}var Os=typeof _n.R2L=="boolean"?_n.R2L:un;Os===!0&&(Li=oa(Li,function(Sr,Pr,Lr){return[Sr.split("").reverse().join(""),Pr,Lr]})),Bn={text:Li,x:Qi,y:wn,options:_n,mutex:{pdfEscape:Kr,activeFontKey:fn,fonts:Sn,activeFontSize:Ji}},ar.publish("postProcessText",Bn),Li=Bn.text,wo=Bn.mutex.isHex||!1;var ca=Sn[fn].encoding;ca!=="WinAnsiEncoding"&&ca!=="StandardEncoding"||(Li=oa(Li,function(Sr,Pr,Lr){return[za(Sr),Pr,Lr]})),Xn=ra(Li),Li=[];for(var Zo,$o,Bo,cs=0,Ts=1,ds=Array.isArray(Xn[0])?Ts:cs,Jo="",da=function(Sr,Pr,Lr){var Br="";return Lr instanceof xn?(Lr=typeof _n.angle=="number"?On(Lr,new xn(1,0,0,1,Sr,Pr)):On(new xn(1,0,0,1,Sr,Pr),Lr),St===ei.ADVANCED&&(Lr=On(new xn(1,0,0,-1,0,0),Lr)),Br=Lr.join(" ")+` Tm
`):Br=ui(Sr)+" "+ui(Pr)+` Td
`,Br},mo=0;mo<Xn.length;mo++){switch(Jo="",ds){case Ts:Bo=(wo?"<":"(")+Xn[mo][0]+(wo?">":")"),Zo=parseFloat(Xn[mo][1]),$o=parseFloat(Xn[mo][2]);break;case cs:Bo=(wo?"<":"(")+Xn[mo]+(wo?">":")"),Zo=No(Qi),$o=Go(wn)}Wo!==void 0&&Wo[mo]!==void 0&&(Jo=Wo[mo]+` Tw
`),mo===0?Li.push(Jo+da(Zo,$o,Ir)+Bo):ds===cs?Li.push(Jo+Bo):ds===Ts&&Li.push(Jo+da(Zo,$o,Ir)+Bo)}Li=ds===cs?Li.join(` Tj
T* `):Li.join(` Tj
`),Li+=` Tj
`;var Vo=`BT
/`;return Vo+=fn+" "+Ji+` Tf
`,Vo+=ui(Ji*ho)+` TL
`,Vo+=us+`
`,Vo+=jr,Vo+=Li,Si(Vo+="ET"),Je[fn]=!0,Nr};var Ol=Qe.__private__.clip=Qe.clip=function(Li){return Si(Li==="evenodd"?"W*":"W"),this};Qe.clipEvenOdd=function(){return Ol("evenodd")},Qe.__private__.discardPath=Qe.discardPath=function(){return Si("n"),this};var Oo=Qe.__private__.isValidStyle=function(Li){var Qi=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(Li)!==-1&&(Qi=!0),Qi};Qe.__private__.setDefaultPathOperation=Qe.setDefaultPathOperation=function(Li){return Oo(Li)&&(qe=Li),this};var La=Qe.__private__.getStyle=Qe.getStyle=function(Li){var Qi=qe;switch(Li){case"D":case"S":Qi="S";break;case"F":Qi="f";break;case"FD":case"DF":Qi="B";break;case"f":case"f*":case"B":case"B*":Qi=Li}return Qi},Na=Qe.close=function(){return Si("h"),this};Qe.stroke=function(){return Si("S"),this},Qe.fill=function(Li){return vs("f",Li),this},Qe.fillEvenOdd=function(Li){return vs("f*",Li),this},Qe.fillStroke=function(Li){return vs("B",Li),this},Qe.fillStrokeEvenOdd=function(Li){return vs("B*",Li),this};var vs=function(Li,Qi){_typeof(Qi)==="object"?Il(Qi,Li):Si(Li)},Ys=function(Li){Li===null||St===ei.ADVANCED&&Li===void 0||(Li=La(Li),Si(Li))};function Tl(Li,Qi,wn,_n,En){var Bn=new M(Qi||this.boundingBox,wn||this.xStep,_n||this.yStep,this.gState,En||this.matrix);Bn.stream=this.stream;var Xn=Li+"$$"+this.cloneIndex+++"$$";return nr(Xn,Bn),Bn}var Il=function(Li,Qi){var wn=Hn[Li.key],_n=Nn[wn];if(_n instanceof B)Si("q"),Si(Ll(Qi)),_n.gState&&Qe.setGState(_n.gState),Si(Li.matrix.toString()+" cm"),Si("/"+wn+" sh"),Si("Q");else if(_n instanceof M){var En=new xn(1,0,0,-1,0,Yo());Li.matrix&&(En=En.multiply(Li.matrix||Ln),wn=Tl.call(_n,Li.key,Li.boundingBox,Li.xStep,Li.yStep,En).id),Si("q"),Si("/Pattern cs"),Si("/"+wn+" scn"),_n.gState&&Qe.setGState(_n.gState),Si(Qi),Si("Q")}},Ll=function(Li){switch(Li){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ws=Qe.moveTo=function(Li,Qi){return Si(ui(pi(Li))+" "+ui(gi(Qi))+" m"),this},as=Qe.lineTo=function(Li,Qi){return Si(ui(pi(Li))+" "+ui(gi(Qi))+" l"),this},Xo=Qe.curveTo=function(Li,Qi,wn,_n,En,Bn){return Si([ui(pi(Li)),ui(gi(Qi)),ui(pi(wn)),ui(gi(_n)),ui(pi(En)),ui(gi(Bn)),"c"].join(" ")),this};Qe.__private__.line=Qe.line=function(Li,Qi,wn,_n,En){if(isNaN(Li)||isNaN(Qi)||isNaN(wn)||isNaN(_n)||!Oo(En))throw new Error("Invalid arguments passed to jsPDF.line");return St===ei.COMPAT?this.lines([[wn-Li,_n-Qi]],Li,Qi,[1,1],En||"S"):this.lines([[wn-Li,_n-Qi]],Li,Qi,[1,1]).stroke()},Qe.__private__.lines=Qe.lines=function(Li,Qi,wn,_n,En,Bn){var Xn,Zn,rr,dr,fr,xr,kr,Ir,Nr,Yr,jr,wo;if(typeof Li=="number"&&(wo=wn,wn=Qi,Qi=Li,Li=wo),_n=_n||[1,1],Bn=Bn||!1,isNaN(Qi)||isNaN(wn)||!Array.isArray(Li)||!Array.isArray(_n)||!Oo(En)||typeof Bn!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ws(Qi,wn),Xn=_n[0],Zn=_n[1],dr=Li.length,Yr=Qi,jr=wn,rr=0;rr<dr;rr++)(fr=Li[rr]).length===2?(Yr=fr[0]*Xn+Yr,jr=fr[1]*Zn+jr,as(Yr,jr)):(xr=fr[0]*Xn+Yr,kr=fr[1]*Zn+jr,Ir=fr[2]*Xn+Yr,Nr=fr[3]*Zn+jr,Yr=fr[4]*Xn+Yr,jr=fr[5]*Zn+jr,Xo(xr,kr,Ir,Nr,Yr,jr));return Bn&&Na(),Ys(En),this},Qe.path=function(Li){for(var Qi=0;Qi<Li.length;Qi++){var wn=Li[Qi],_n=wn.c;switch(wn.op){case"m":Ws(_n[0],_n[1]);break;case"l":as(_n[0],_n[1]);break;case"c":Xo.apply(this,_n);break;case"h":Na()}}return this},Qe.__private__.rect=Qe.rect=function(Li,Qi,wn,_n,En){if(isNaN(Li)||isNaN(Qi)||isNaN(wn)||isNaN(_n)||!Oo(En))throw new Error("Invalid arguments passed to jsPDF.rect");return St===ei.COMPAT&&(_n=-_n),Si([ui(pi(Li)),ui(gi(Qi)),ui(pi(wn)),ui(pi(_n)),"re"].join(" ")),Ys(En),this},Qe.__private__.triangle=Qe.triangle=function(Li,Qi,wn,_n,En,Bn,Xn){if(isNaN(Li)||isNaN(Qi)||isNaN(wn)||isNaN(_n)||isNaN(En)||isNaN(Bn)||!Oo(Xn))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[wn-Li,_n-Qi],[En-wn,Bn-_n],[Li-En,Qi-Bn]],Li,Qi,[1,1],Xn,!0),this},Qe.__private__.roundedRect=Qe.roundedRect=function(Li,Qi,wn,_n,En,Bn,Xn){if(isNaN(Li)||isNaN(Qi)||isNaN(wn)||isNaN(_n)||isNaN(En)||isNaN(Bn)||!Oo(Xn))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Zn=4/3*(Math.SQRT2-1);return En=Math.min(En,.5*wn),Bn=Math.min(Bn,.5*_n),this.lines([[wn-2*En,0],[En*Zn,0,En,Bn-Bn*Zn,En,Bn],[0,_n-2*Bn],[0,Bn*Zn,-En*Zn,Bn,-En,Bn],[2*En-wn,0],[-En*Zn,0,-En,-Bn*Zn,-En,-Bn],[0,2*Bn-_n],[0,-Bn*Zn,En*Zn,-Bn,En,-Bn]],Li+En,Qi,[1,1],Xn,!0),this},Qe.__private__.ellipse=Qe.ellipse=function(Li,Qi,wn,_n,En){if(isNaN(Li)||isNaN(Qi)||isNaN(wn)||isNaN(_n)||!Oo(En))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Bn=4/3*(Math.SQRT2-1)*wn,Xn=4/3*(Math.SQRT2-1)*_n;return Ws(Li+wn,Qi),Xo(Li+wn,Qi-Xn,Li+Bn,Qi-_n,Li,Qi-_n),Xo(Li-Bn,Qi-_n,Li-wn,Qi-Xn,Li-wn,Qi),Xo(Li-wn,Qi+Xn,Li-Bn,Qi+_n,Li,Qi+_n),Xo(Li+Bn,Qi+_n,Li+wn,Qi+Xn,Li+wn,Qi),Ys(En),this},Qe.__private__.circle=Qe.circle=function(Li,Qi,wn,_n){if(isNaN(Li)||isNaN(Qi)||isNaN(wn)||!Oo(_n))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(Li,Qi,wn,wn,_n)},Qe.setFont=function(Li,Qi,wn){return wn&&(Qi=ai(Qi,wn)),fn=Oa(Li,Qi,{disableWarning:!1}),this};var Nl=Qe.__private__.getFont=Qe.getFont=function(){return Sn[Oa.apply(Qe,arguments)]};Qe.__private__.getFontList=Qe.getFontList=function(){var Li,Qi,wn={};for(Li in Fn)if(Fn.hasOwnProperty(Li))for(Qi in wn[Li]=[],Fn[Li])Fn[Li].hasOwnProperty(Qi)&&wn[Li].push(Qi);return wn},Qe.addFont=function(Li,Qi,wn,_n,En){var Bn=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Bn.indexOf(arguments[3])!==-1?En=arguments[3]:arguments[3]&&Bn.indexOf(arguments[3])==-1&&(wn=ai(wn,_n)),En=En||"Identity-H",Xs.call(this,Li,Qi,wn,En)};var ls,Ks=$e.lineWidth||.200025,_s=Qe.__private__.getLineWidth=Qe.getLineWidth=function(){return Ks},Ra=Qe.__private__.setLineWidth=Qe.setLineWidth=function(Li){return Ks=Li,Si(ui(pi(Li))+" w"),this};Qe.__private__.setLineDash=E.API.setLineDash=E.API.setLineDashPattern=function(Li,Qi){if(Li=Li||[],Qi=Qi||0,isNaN(Qi)||!Array.isArray(Li))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return Li=Li.map(function(wn){return ui(pi(wn))}).join(" "),Qi=ui(pi(Qi)),Si("["+Li+"] "+Qi+" d"),this};var Fa=Qe.__private__.getLineHeight=Qe.getLineHeight=function(){return Ji*ls};Qe.__private__.getLineHeight=Qe.getLineHeight=function(){return Ji*ls};var Ba=Qe.__private__.setLineHeightFactor=Qe.setLineHeightFactor=function(Li){return typeof(Li=Li||1.15)=="number"&&(ls=Li),this},Va=Qe.__private__.getLineHeightFactor=Qe.getLineHeightFactor=function(){return ls};Ba($e.lineHeight);var No=Qe.__private__.getHorizontalCoordinate=function(Li){return pi(Li)},Go=Qe.__private__.getVerticalCoordinate=function(Li){return St===ei.ADVANCED?Li:Qn[Fi].mediaBox.topRightY-Qn[Fi].mediaBox.bottomLeftY-pi(Li)},Rl=Qe.__private__.getHorizontalCoordinateString=Qe.getHorizontalCoordinateString=function(Li){return ui(No(Li))},qo=Qe.__private__.getVerticalCoordinateString=Qe.getVerticalCoordinateString=function(Li){return ui(Go(Li))},xo=$e.strokeColor||"0 G";Qe.__private__.getStrokeColor=Qe.getDrawColor=function(){return lr(xo)},Qe.__private__.setStrokeColor=Qe.setDrawColor=function(Li,Qi,wn,_n){return xo=yr({ch1:Li,ch2:Qi,ch3:wn,ch4:_n,pdfColorType:"draw",precision:2}),Si(xo),this};var Zs=$e.fillColor||"0 g";Qe.__private__.getFillColor=Qe.getFillColor=function(){return lr(Zs)},Qe.__private__.setFillColor=Qe.setFillColor=function(Li,Qi,wn,_n){return Zs=yr({ch1:Li,ch2:Qi,ch3:wn,ch4:_n,pdfColorType:"fill",precision:2}),Si(Zs),this};var us=$e.textColor||"0 g",Fl=Qe.__private__.getTextColor=Qe.getTextColor=function(){return lr(us)};Qe.__private__.setTextColor=Qe.setTextColor=function(Li,Qi,wn,_n){return us=yr({ch1:Li,ch2:Qi,ch3:wn,ch4:_n,pdfColorType:"text",precision:3}),this};var $s=$e.charSpace,Bl=Qe.__private__.getCharSpace=Qe.getCharSpace=function(){return parseFloat($s||0)};Qe.__private__.setCharSpace=Qe.setCharSpace=function(Li){if(isNaN(Li))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return $s=Li,this};var Js=0;Qe.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},Qe.__private__.setLineCap=Qe.setLineCap=function(Li){var Qi=Qe.CapJoinStyles[Li];if(Qi===void 0)throw new Error("Line cap style of '"+Li+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Js=Qi,Si(Qi+" J"),this};var Qs=0;Qe.__private__.setLineJoin=Qe.setLineJoin=function(Li){var Qi=Qe.CapJoinStyles[Li];if(Qi===void 0)throw new Error("Line join style of '"+Li+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qs=Qi,Si(Qi+" j"),this},Qe.__private__.setLineMiterLimit=Qe.__private__.setMiterLimit=Qe.setLineMiterLimit=Qe.setMiterLimit=function(Li){if(Li=Li||0,isNaN(Li))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Si(ui(pi(Li))+" M"),this},Qe.GState=j,Qe.setGState=function(Li){(Li=typeof Li=="string"?Yn[tr[Li]]:Ua(null,Li)).equals(qn)||(Si("/"+Li.id+" gs"),qn=Li)};var Ua=function(Li,Qi){if(!Li||!tr[Li]){var wn=!1;for(var _n in Yn)if(Yn.hasOwnProperty(_n)&&Yn[_n].equals(Qi)){wn=!0;break}if(wn)Qi=Yn[_n];else{var En="GS"+(Object.keys(Yn).length+1).toString(10);Yn[En]=Qi,Qi.id=En}return Li&&(tr[Li]=Qi.id),ar.publish("addGState",Qi),Qi}};Qe.addGState=function(Li,Qi){return Ua(Li,Qi),this},Qe.saveGraphicsState=function(){return Si("q"),kn.push({key:fn,size:Ji,color:us}),this},Qe.restoreGraphicsState=function(){Si("Q");var Li=kn.pop();return fn=Li.key,Ji=Li.size,us=Li.color,qn=null,this},Qe.setCurrentTransformationMatrix=function(Li){return Si(Li.toString()+" cm"),this},Qe.comment=function(Li){return Si("#"+Li),this};var As=function(Li,Qi){var wn=Li||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return wn},set:function(Bn){isNaN(Bn)||(wn=parseFloat(Bn))}});var _n=Qi||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return _n},set:function(Bn){isNaN(Bn)||(_n=parseFloat(Bn))}});var En="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return En},set:function(Bn){En=Bn.toString()}}),this},ea=function(Li,Qi,wn,_n){As.call(this,Li,Qi),this.type="rect";var En=wn||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return En},set:function(Xn){isNaN(Xn)||(En=parseFloat(Xn))}});var Bn=_n||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Bn},set:function(Xn){isNaN(Xn)||(Bn=parseFloat(Xn))}}),this},ta=function(){this.page=Jn,this.currentPage=Fi,this.pages=fi.slice(0),this.pagesContext=Qn.slice(0),this.x=an,this.y=yn,this.matrix=bn,this.width=hs(Fi),this.height=Yo(Fi),this.outputDestination=bi,this.id="",this.objectNumber=-1};ta.prototype.restore=function(){Jn=this.page,Fi=this.currentPage,Qn=this.pagesContext,fi=this.pages,an=this.x,yn=this.y,bn=this.matrix,ia(Fi,this.width),na(Fi,this.height),bi=this.outputDestination};var ja=function(Li,Qi,wn,_n,En){nn.push(new ta),Jn=Fi=0,fi=[],an=Li,yn=Qi,bn=En,Gs([wn,_n])},Vl=function(Li){if(Wi[Li])nn.pop().restore();else{var Qi=new ta,wn="Xo"+(Object.keys(Ii).length+1).toString(10);Qi.id=wn,Wi[Li]=wn,Ii[wn]=Qi,ar.publish("addFormObject",Qi),nn.pop().restore()}};for(var Cs in Qe.beginFormObject=function(Li,Qi,wn,_n,En){return ja(Li,Qi,wn,_n,En),this},Qe.endFormObject=function(Li){return Vl(Li),this},Qe.doFormObject=function(Li,Qi){var wn=Ii[Wi[Li]];return Si("q"),Si(Qi.toString()+" cm"),Si("/"+wn.id+" Do"),Si("Q"),this},Qe.getFormObject=function(Li){var Qi=Ii[Wi[Li]];return{x:Qi.x,y:Qi.y,width:Qi.width,height:Qi.height,matrix:Qi.matrix}},Qe.save=function(Li,Qi){return Li=Li||"generated.pdf",(Qi=Qi||{}).returnPromise=Qi.returnPromise||!1,Qi.returnPromise===!1?(l(ws(Lo()),Li),typeof l.unload=="function"&&n.setTimeout&&setTimeout(l.unload,911),this):new Promise(function(wn,_n){try{var En=l(ws(Lo()),Li);typeof l.unload=="function"&&n.setTimeout&&setTimeout(l.unload,911),wn(En)}catch(Bn){_n(Bn.message)}})},E.API)E.API.hasOwnProperty(Cs)&&(Cs==="events"&&E.API.events.length?function(Li,Qi){var wn,_n,En;for(En=Qi.length-1;En!==-1;En--)wn=Qi[En][0],_n=Qi[En][1],Li.subscribe.apply(Li,[wn].concat(typeof _n=="function"?[_n]:_n))}(ar,E.API.events):Qe[Cs]=E.API[Cs]);var hs=Qe.getPageWidth=function(Li){return(Qn[Li=Li||Fi].mediaBox.topRightX-Qn[Li].mediaBox.bottomLeftX)/qi},ia=Qe.setPageWidth=function(Li,Qi){Qn[Li].mediaBox.topRightX=Qi*qi+Qn[Li].mediaBox.bottomLeftX},Yo=Qe.getPageHeight=function(Li){return(Qn[Li=Li||Fi].mediaBox.topRightY-Qn[Li].mediaBox.bottomLeftY)/qi},na=Qe.setPageHeight=function(Li,Qi){Qn[Li].mediaBox.topRightY=Qi*qi+Qn[Li].mediaBox.bottomLeftY};return Qe.internal={pdfEscape:Kr,getStyle:La,getFont:Nl,getFontSize:hn,getCharSpace:Bl,getTextColor:Fl,getLineHeight:Fa,getLineHeightFactor:Va,getLineWidth:_s,write:zi,getHorizontalCoordinate:No,getVerticalCoordinate:Go,getCoordinateString:Rl,getVerticalCoordinateString:qo,collections:{},newObject:Kn,newAdditionalObject:Ur,newObjectDeferred:ir,newObjectDeferredBegin:pr,getFilters:cr,putStream:br,events:ar,scaleFactor:qi,pageSize:{getWidth:function(){return hs(Fi)},setWidth:function(Li){ia(Fi,Li)},getHeight:function(){return Yo(Fi)},setHeight:function(Li){na(Fi,Li)}},encryptionOptions:Ke,encryption:qr,getEncryptor:El,output:bs,getNumberOfPages:Cl,pages:fi,out:Si,f2:mi,f3:di,getPageInfo:Ia,getPageInfoByObjId:hr,getCurrentPageInfo:kl,getPDFVersion:ni,Point:As,Rectangle:ea,Matrix:xn,hasHotfix:Ta},Object.defineProperty(Qe.internal.pageSize,"width",{get:function(){return hs(Fi)},set:function(Li){ia(Fi,Li)},enumerable:!0,configurable:!0}),Object.defineProperty(Qe.internal.pageSize,"height",{get:function(){return Yo(Fi)},set:function(Li){na(Fi,Li)},enumerable:!0,configurable:!0}),$l.call(Qe,Ui),fn="F1",Ea(Ve,t),ar.publish("initialized"),Qe}I.prototype.lsbFirstWord=function($e){return String.fromCharCode($e>>0&255,$e>>8&255,$e>>16&255,$e>>24&255)},I.prototype.toHexString=function($e){return $e.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},I.prototype.hexToBytes=function($e){for(var e=[],t=0;t<$e.length;t+=2)e.push(String.fromCharCode(parseInt($e.substr(t,2),16)));return e.join("")},I.prototype.processOwnerPassword=function($e,e){return P(x(e).substr(0,5),$e)},I.prototype.encryptor=function($e,e){var t=x(this.encryptionKey+String.fromCharCode(255&$e,$e>>8&255,$e>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return P(t,r)}},j.prototype.equals=function($e){var e,t="id,objectNumber,equals";if(!$e||_typeof($e)!==_typeof(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!$e.hasOwnProperty(e)||this[e]!==$e[e])return!1;r++}for(e in $e)$e.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},E.API={events:[]},E.version="2.5.1";var q=E.API,D=1,R=function($e){return $e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},T=function($e){return $e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},U=function($e){return $e.toFixed(2)},z=function($e){return $e.toFixed(5)};q.__acroform__={};var H=function($e,e){$e.prototype=Object.create(e.prototype),$e.prototype.constructor=$e},W=function($e){return $e*D},V=function($e){var e=new ut,t=At.internal.getHeight($e)||0,r=At.internal.getWidth($e)||0;return e.BBox=[0,0,Number(U(r)),Number(U(t))],e},G=q.__acroform__.setBit=function($e,e){if($e=$e||0,e=e||0,isNaN($e)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return $e|=1<<e},Y=q.__acroform__.clearBit=function($e,e){if($e=$e||0,e=e||0,isNaN($e)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return $e&=~(1<<e)},J=q.__acroform__.getBit=function($e,e){if(isNaN($e)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return $e&1<<e?1:0},X=q.__acroform__.getBitForPdf=function($e,e){if(isNaN($e)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return J($e,e-1)},K=q.__acroform__.setBitForPdf=function($e,e){if(isNaN($e)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return G($e,e-1)},Z=q.__acroform__.clearBitForPdf=function($e,e){if(isNaN($e)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Y($e,e-1)},$=q.__acroform__.calculateCoordinates=function($e,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,Ve=$e[0],je=$e[1],ze=$e[2],Xe=$e[3],We={};return We.lowerLeft_X=t(Ve)||0,We.lowerLeft_Y=r(je+Xe)||0,We.upperRight_X=t(Ve+ze)||0,We.upperRight_Y=r(je)||0,[Number(U(We.lowerLeft_X)),Number(U(We.lowerLeft_Y)),Number(U(We.upperRight_X)),Number(U(We.upperRight_Y))]},Q=function($e){if($e.appearanceStreamContent)return $e.appearanceStreamContent;if($e.V||$e.DV){var e=[],t=$e._V||$e.DV,r=tt($e,t),Ve=$e.scope.internal.getFont($e.fontName,$e.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push($e.scope.__private__.encodeColorString($e.color)),e.push("/"+Ve+" "+U(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var je=V($e);return je.scope=$e.scope,je.stream=e.join(`
`),je}},tt=function($e,e){var t=$e.fontSize===0?$e.maxFontSize:$e.fontSize,r={text:"",fontSize:""},Ve=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");Ve=$e.multiline?Ve.map(function(di){return di.split(`
`)}):Ve.map(function(di){return[di]});var je=t,ze=At.internal.getHeight($e)||0;ze=ze<0?-ze:ze;var Xe=At.internal.getWidth($e)||0;Xe=Xe<0?-Xe:Xe;var We=function(di,pi,yi){if(di+1<Ve.length){var gi=pi+" "+Ve[di+1][0];return et(gi,$e,yi).width<=Xe-4}return!1};je++;e:for(;je>0;){e="",je--;var qe,Ke,Ze=et("3",$e,je).height,Je=$e.multiline?ze-je:(ze-Ze)/2,Qe=Je+=2,ti=0,ni=0,ri=0;if(je<=0){e=`(...) Tj
`,e+="% Width of Text: "+et(e,$e,je=12).width+", FieldWidth:"+Xe+`
`;break}for(var ii="",ei=0,St=0;St<Ve.length;St++)if(Ve.hasOwnProperty(St)){var oi=!1;if(Ve[St].length!==1&&ri!==Ve[St].length-1){if((Ze+2)*(ei+2)+2>ze)continue e;ii+=Ve[St][ri],oi=!0,ni=St,St--}else{ii=(ii+=Ve[St][ri]+" ").substr(ii.length-1)==" "?ii.substr(0,ii.length-1):ii;var si=parseInt(St),ai=We(si,ii,je),ui=St>=Ve.length-1;if(ai&&!ui){ii+=" ",ri=0;continue}if(ai||ui){if(ui)ni=si;else if($e.multiline&&(Ze+2)*(ei+2)+2>ze)continue e}else{if(!$e.multiline||(Ze+2)*(ei+2)+2>ze)continue e;ni=si}}for(var hi="",ci=ti;ci<=ni;ci++){var mi=Ve[ci];if($e.multiline){if(ci===ni){hi+=mi[ri]+" ",ri=(ri+1)%mi.length;continue}if(ci===ti){hi+=mi[mi.length-1]+" ";continue}}hi+=mi[0]+" "}switch(hi=hi.substr(hi.length-1)==" "?hi.substr(0,hi.length-1):hi,Ke=et(hi,$e,je).width,$e.textAlign){case"right":qe=Xe-Ke-2;break;case"center":qe=(Xe-Ke)/2;break;case"left":default:qe=2}e+=U(qe)+" "+U(Qe)+` Td
`,e+="("+R(hi)+`) Tj
`,e+=-U(qe)+` 0 Td
`,Qe=-(je+2),Ke=0,ti=oi?ni:ni+1,ei++,ii=""}break}return r.text=e,r.fontSize=je,r},et=function($e,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),Ve=e.scope.getStringUnitWidth($e,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:Ve}},rt={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nt=function($e,e){var t={type:"reference",object:$e};e.internal.getPageInfo($e.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo($e.page).pageContext.annotations.push(t)},it=function($e,e){for(var t in $e)if($e.hasOwnProperty(t)){var r=t,Ve=$e[t];e.internal.newObjectDeferredBegin(Ve.objId,!0),_typeof(Ve)==="object"&&typeof Ve.putStream=="function"&&Ve.putStream(),delete $e[r]}},at=function($e,e){if(e.scope=$e,$e.internal!==void 0&&($e.internal.acroformPlugin===void 0||$e.internal.acroformPlugin.isInitialized===!1)){if(lt.FieldNum=0,$e.internal.acroformPlugin=JSON.parse(JSON.stringify(rt)),$e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");D=$e.internal.scaleFactor,$e.internal.acroformPlugin.acroFormDictionaryRoot=new ht,$e.internal.acroformPlugin.acroFormDictionaryRoot.scope=$e,$e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=$e.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})($e)}),$e.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var Ve in r)if(r.hasOwnProperty(Ve)){var je=r[Ve];je.objId=void 0,je.hasAnnotation&&nt(je,t)}})($e)}),$e.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})($e)}),$e.internal.events.subscribe("postPutPages",function(t){(function(r,Ve){var je=!r;for(var ze in r||(Ve.internal.newObjectDeferredBegin(Ve.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),Ve.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||Ve.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(ze)){var Xe=r[ze],We=[],qe=Xe.Rect;if(Xe.Rect&&(Xe.Rect=$(Xe.Rect,Ve)),Ve.internal.newObjectDeferredBegin(Xe.objId,!0),Xe.DA=At.createDefaultAppearanceStream(Xe),_typeof(Xe)==="object"&&typeof Xe.getKeyValueListForStream=="function"&&(We=Xe.getKeyValueListForStream()),Xe.Rect=qe,Xe.hasAppearanceStream&&!Xe.appearanceStreamContent){var Ke=Q(Xe);We.push({key:"AP",value:"<</N "+Ke+">>"}),Ve.internal.acroformPlugin.xForms.push(Ke)}if(Xe.appearanceStreamContent){var Ze="";for(var Je in Xe.appearanceStreamContent)if(Xe.appearanceStreamContent.hasOwnProperty(Je)){var Qe=Xe.appearanceStreamContent[Je];if(Ze+="/"+Je+" ",Ze+="<<",Object.keys(Qe).length>=1||Array.isArray(Qe)){for(var ze in Qe)if(Qe.hasOwnProperty(ze)){var ti=Qe[ze];typeof ti=="function"&&(ti=ti.call(Ve,Xe)),Ze+="/"+ze+" "+ti+" ",Ve.internal.acroformPlugin.xForms.indexOf(ti)>=0||Ve.internal.acroformPlugin.xForms.push(ti)}}else typeof(ti=Qe)=="function"&&(ti=ti.call(Ve,Xe)),Ze+="/"+ze+" "+ti,Ve.internal.acroformPlugin.xForms.indexOf(ti)>=0||Ve.internal.acroformPlugin.xForms.push(ti);Ze+=">>"}We.push({key:"AP",value:`<<
`+Ze+">>"})}Ve.internal.putStream({additionalKeyValues:We,objectId:Xe.objId}),Ve.internal.out("endobj")}je&&it(Ve.internal.acroformPlugin.xForms,Ve)})(t,$e)}),$e.internal.acroformPlugin.isInitialized=!0}},ot=q.__acroform__.arrayToPdfArray=function($e,e,t){var r=function(ze){return ze};if(Array.isArray($e)){for(var Ve="[",je=0;je<$e.length;je++)switch(je!==0&&(Ve+=" "),_typeof($e[je])){case"boolean":case"number":case"object":Ve+=$e[je].toString();break;case"string":$e[je].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),Ve+="("+R(r($e[je].toString()))+")"):Ve+=$e[je].toString()}return Ve+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},st=function($e,e,t){var r=function(Ve){return Ve};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),($e=$e||"").toString(),$e="("+R(r($e))+")"},ct=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function($e){this._objId=$e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ct.prototype.toString=function(){return this.objId+" 0 R"},ct.prototype.putStream=function(){var $e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:$e,objectId:this.objId}),this.scope.internal.out("endobj")},ct.prototype.getKeyValueListForStream=function(){var $e=[],e=Object.getOwnPropertyNames(this).filter(function(je){return je!="content"&&je!="appearanceStreamContent"&&je!="scope"&&je!="objId"&&je.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],Ve=this[r];Ve&&(Array.isArray(Ve)?$e.push({key:r,value:ot(Ve,this.objId,this.scope)}):Ve instanceof ct?(Ve.scope=this.scope,$e.push({key:r,value:Ve.objId+" 0 R"})):typeof Ve!="function"&&$e.push({key:r,value:Ve}))}return $e};var ut=function(){ct.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var $e,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){$e=t.trim()},get:function(){return $e||null}})};H(ut,ct);var ht=function(){ct.call(this);var $e,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if($e){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+R(t($e))+")"}},set:function(t){$e=t}})};H(ht,ct);var lt=function $e(){ct.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(ii){if(isNaN(ii))throw new Error('Invalid value "'+ii+'" for attribute F supplied.');e=ii}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!X(e,3)},set:function(ii){ii?this.F=K(e,3):this.F=Z(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(ii){if(isNaN(ii))throw new Error('Invalid value "'+ii+'" for attribute Ff supplied.');t=ii}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(ii){r=ii!==void 0?ii:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(ii){r[0]=ii}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(ii){r[1]=ii}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(ii){r[2]=ii}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(ii){r[3]=ii}});var Ve="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return Ve},set:function(ii){switch(ii){case"/Btn":case"/Tx":case"/Ch":case"/Sig":Ve=ii;break;default:throw new Error('Invalid value "'+ii+'" for attribute FT supplied.')}}});var je=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!je||je.length<1){if(this instanceof yt)return;je="FieldObject"+$e.FieldNum++}var ii=function(ei){return ei};return this.scope&&(ii=this.scope.internal.getEncryptor(this.objId)),"("+R(ii(je))+")"},set:function(ii){je=ii.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return je},set:function(ii){je=ii}});var ze="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return ze},set:function(ii){ze=ii}});var Xe="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return Xe},set:function(ii){Xe=ii}});var We=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return We},set:function(ii){We=ii}});var qe=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return qe===void 0?50/D:qe},set:function(ii){qe=ii}});var Ke="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return Ke},set:function(ii){Ke=ii}});var Ze="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!Ze||this instanceof yt||this instanceof Nt))return st(Ze,this.objId,this.scope)},set:function(ii){ii=ii.toString(),Ze=ii}});var Je=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(Je)return this instanceof mt?Je:st(Je,this.objId,this.scope)},set:function(ii){ii=ii.toString(),Je=this instanceof mt?ii:ii.substr(0,1)==="("?T(ii.substr(1,ii.length-2)):T(ii)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T(Je.substr(1,Je.length-1)):Je},set:function(ii){ii=ii.toString(),Je=this instanceof mt?"/"+ii:ii}});var Qe=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(Qe)return Qe},set:function(ii){this.V=ii}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(Qe)return this instanceof mt?Qe:st(Qe,this.objId,this.scope)},set:function(ii){ii=ii.toString(),Qe=this instanceof mt?ii:ii.substr(0,1)==="("?T(ii.substr(1,ii.length-2)):T(ii)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T(Qe.substr(1,Qe.length-1)):Qe},set:function(ii){ii=ii.toString(),Qe=this instanceof mt?"/"+ii:ii}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var ti,ni=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return ni},set:function(ii){ii=!!ii,ni=ii}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(ti)return ti},set:function(ii){ti=ii}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,1)},set:function(ii){ii?this.Ff=K(this.Ff,1):this.Ff=Z(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,2)},set:function(ii){ii?this.Ff=K(this.Ff,2):this.Ff=Z(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,3)},set:function(ii){ii?this.Ff=K(this.Ff,3):this.Ff=Z(this.Ff,3)}});var ri=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(ri!==null)return ri},set:function(ii){if([0,1,2].indexOf(ii)===-1)throw new Error('Invalid value "'+ii+'" for attribute Q supplied.');ri=ii}}),Object.defineProperty(this,"textAlign",{get:function(){var ii;switch(ri){case 0:default:ii="left";break;case 1:ii="center";break;case 2:ii="right"}return ii},configurable:!0,enumerable:!0,set:function(ii){switch(ii){case"right":case 2:ri=2;break;case"center":case 1:ri=1;break;case"left":case 0:default:ri=0}}})};H(lt,ct);var ft=function(){lt.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var $e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return $e},set:function(t){$e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return $e},set:function(t){$e=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ot(e,this.objId,this.scope)},set:function(t){var r,Ve;Ve=[],typeof(r=t)=="string"&&(Ve=function(je,ze,Xe){Xe||(Xe=1);for(var We,qe=[];We=ze.exec(je);)qe.push(We[Xe]);return qe}(r,/\((.*?)\)/g)),e=Ve}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,18)},set:function(t){t?this.Ff=K(this.Ff,18):this.Ff=Z(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=K(this.Ff,19):this.Ff=Z(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,20)},set:function(t){t?(this.Ff=K(this.Ff,20),e.sort()):this.Ff=Z(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,22)},set:function(t){t?this.Ff=K(this.Ff,22):this.Ff=Z(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,23)},set:function(t){t?this.Ff=K(this.Ff,23):this.Ff=Z(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,27)},set:function(t){t?this.Ff=K(this.Ff,27):this.Ff=Z(this.Ff,27)}}),this.hasAppearanceStream=!1};H(ft,lt);var dt=function(){ft.call(this),this.fontName="helvetica",this.combo=!1};H(dt,ft);var pt=function(){dt.call(this),this.combo=!0};H(pt,dt);var gt=function(){pt.call(this),this.edit=!0};H(gt,pt);var mt=function(){lt.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,15)},set:function(t){t?this.Ff=K(this.Ff,15):this.Ff=Z(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,16)},set:function(t){t?this.Ff=K(this.Ff,16):this.Ff=Z(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,17)},set:function(t){t?this.Ff=K(this.Ff,17):this.Ff=Z(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,26)},set:function(t){t?this.Ff=K(this.Ff,26):this.Ff=Z(this.Ff,26)}});var $e,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(je){return je};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,Ve=[];for(r in Ve.push("<<"),e)Ve.push("/"+r+" ("+R(t(e[r]))+")");return Ve.push(">>"),Ve.join(`
`)}},set:function(t){_typeof(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return $e},set:function(t){$e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return $e.substr(1,$e.length-1)},set:function(t){$e="/"+t}})};H(mt,lt);var vt=function(){mt.call(this),this.pushButton=!0};H(vt,mt);var bt=function(){mt.call(this),this.radio=!0,this.pushButton=!1;var $e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return $e},set:function(e){$e=e!==void 0?e:[]}})};H(bt,mt);var yt=function(){var $e,e;lt.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return $e},set:function(Ve){$e=Ve}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(Ve){e=Ve}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var Ve=function(Xe){return Xe};this.scope&&(Ve=this.scope.internal.getEncryptor(this.objId));var je,ze=[];for(je in ze.push("<<"),r)ze.push("/"+je+" ("+R(Ve(r[je]))+")");return ze.push(">>"),ze.join(`
`)},set:function(Ve){_typeof(Ve)==="object"&&(r=Ve)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(Ve){typeof Ve=="string"&&(r.CA=Ve)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(Ve){t=Ve}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(Ve){t="/"+Ve}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=At.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};H(yt,lt),bt.prototype.setAppearance=function($e){if(!("createAppearanceStream"in $e)||!("getCA"in $e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=$e.createAppearanceStream(t.optionName),t.caption=$e.getCA()}},bt.prototype.createOption=function($e){var e=new yt;return e.Parent=this,e.optionName=$e,this.Kids.push(e),xt.call(this.scope,e),e};var wt=function(){mt.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=At.CheckBox.createAppearanceStream()};H(wt,mt);var Nt=function(){lt.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,13)},set:function(e){e?this.Ff=K(this.Ff,13):this.Ff=Z(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,21)},set:function(e){e?this.Ff=K(this.Ff,21):this.Ff=Z(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,23)},set:function(e){e?this.Ff=K(this.Ff,23):this.Ff=Z(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,24)},set:function(e){e?this.Ff=K(this.Ff,24):this.Ff=Z(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,25)},set:function(e){e?this.Ff=K(this.Ff,25):this.Ff=Z(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,26)},set:function(e){e?this.Ff=K(this.Ff,26):this.Ff=Z(this.Ff,26)}});var $e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return $e},set:function(e){$e=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return $e},set:function(e){Number.isInteger(e)&&($e=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};H(Nt,lt);var Lt=function(){Nt.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,14)},set:function($e){$e?this.Ff=K(this.Ff,14):this.Ff=Z(this.Ff,14)}}),this.password=!0};H(Lt,Nt);var At={CheckBox:{createAppearanceStream:function(){return{N:{On:At.CheckBox.YesNormal},D:{On:At.CheckBox.YesPushDown,Off:At.CheckBox.OffPushDown}}},YesPushDown:function($e){var e=V($e);e.scope=$e.scope;var t=[],r=$e.scope.internal.getFont($e.fontName,$e.fontStyle).id,Ve=$e.scope.__private__.encodeColorString($e.color),je=tt($e,$e.caption);return t.push("0.749023 g"),t.push("0 0 "+U(At.internal.getWidth($e))+" "+U(At.internal.getHeight($e))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+U(je.fontSize)+" Tf "+Ve),t.push("BT"),t.push(je.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function($e){var e=V($e);e.scope=$e.scope;var t=$e.scope.internal.getFont($e.fontName,$e.fontStyle).id,r=$e.scope.__private__.encodeColorString($e.color),Ve=[],je=At.internal.getHeight($e),ze=At.internal.getWidth($e),Xe=tt($e,$e.caption);return Ve.push("1 g"),Ve.push("0 0 "+U(ze)+" "+U(je)+" re"),Ve.push("f"),Ve.push("q"),Ve.push("0 0 1 rg"),Ve.push("0 0 "+U(ze-1)+" "+U(je-1)+" re"),Ve.push("W"),Ve.push("n"),Ve.push("0 g"),Ve.push("BT"),Ve.push("/"+t+" "+U(Xe.fontSize)+" Tf "+r),Ve.push(Xe.text),Ve.push("ET"),Ve.push("Q"),e.stream=Ve.join(`
`),e},OffPushDown:function($e){var e=V($e);e.scope=$e.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+U(At.internal.getWidth($e))+" "+U(At.internal.getHeight($e))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function($e){var e={D:{Off:At.RadioButton.Circle.OffPushDown},N:{}};return e.N[$e]=At.RadioButton.Circle.YesNormal,e.D[$e]=At.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function($e){var e=V($e);e.scope=$e.scope;var t=[],r=At.internal.getWidth($e)<=At.internal.getHeight($e)?At.internal.getWidth($e)/4:At.internal.getHeight($e)/4;r=Number((.9*r).toFixed(5));var Ve=At.internal.Bezier_C,je=Number((r*Ve).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+z(At.internal.getWidth($e)/2)+" "+z(At.internal.getHeight($e)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+je+" "+je+" "+r+" 0 "+r+" c"),t.push("-"+je+" "+r+" -"+r+" "+je+" -"+r+" 0 c"),t.push("-"+r+" -"+je+" -"+je+" -"+r+" 0 -"+r+" c"),t.push(je+" -"+r+" "+r+" -"+je+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function($e){var e=V($e);e.scope=$e.scope;var t=[],r=At.internal.getWidth($e)<=At.internal.getHeight($e)?At.internal.getWidth($e)/4:At.internal.getHeight($e)/4;r=Number((.9*r).toFixed(5));var Ve=Number((2*r).toFixed(5)),je=Number((Ve*At.internal.Bezier_C).toFixed(5)),ze=Number((r*At.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+z(At.internal.getWidth($e)/2)+" "+z(At.internal.getHeight($e)/2)+" cm"),t.push(Ve+" 0 m"),t.push(Ve+" "+je+" "+je+" "+Ve+" 0 "+Ve+" c"),t.push("-"+je+" "+Ve+" -"+Ve+" "+je+" -"+Ve+" 0 c"),t.push("-"+Ve+" -"+je+" -"+je+" -"+Ve+" 0 -"+Ve+" c"),t.push(je+" -"+Ve+" "+Ve+" -"+je+" "+Ve+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+z(At.internal.getWidth($e)/2)+" "+z(At.internal.getHeight($e)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+ze+" "+ze+" "+r+" 0 "+r+" c"),t.push("-"+ze+" "+r+" -"+r+" "+ze+" -"+r+" 0 c"),t.push("-"+r+" -"+ze+" -"+ze+" -"+r+" 0 -"+r+" c"),t.push(ze+" -"+r+" "+r+" -"+ze+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function($e){var e=V($e);e.scope=$e.scope;var t=[],r=At.internal.getWidth($e)<=At.internal.getHeight($e)?At.internal.getWidth($e)/4:At.internal.getHeight($e)/4;r=Number((.9*r).toFixed(5));var Ve=Number((2*r).toFixed(5)),je=Number((Ve*At.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+z(At.internal.getWidth($e)/2)+" "+z(At.internal.getHeight($e)/2)+" cm"),t.push(Ve+" 0 m"),t.push(Ve+" "+je+" "+je+" "+Ve+" 0 "+Ve+" c"),t.push("-"+je+" "+Ve+" -"+Ve+" "+je+" -"+Ve+" 0 c"),t.push("-"+Ve+" -"+je+" -"+je+" -"+Ve+" 0 -"+Ve+" c"),t.push(je+" -"+Ve+" "+Ve+" -"+je+" "+Ve+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function($e){var e={D:{Off:At.RadioButton.Cross.OffPushDown},N:{}};return e.N[$e]=At.RadioButton.Cross.YesNormal,e.D[$e]=At.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function($e){var e=V($e);e.scope=$e.scope;var t=[],r=At.internal.calculateCross($e);return t.push("q"),t.push("1 1 "+U(At.internal.getWidth($e)-2)+" "+U(At.internal.getHeight($e)-2)+" re"),t.push("W"),t.push("n"),t.push(U(r.x1.x)+" "+U(r.x1.y)+" m"),t.push(U(r.x2.x)+" "+U(r.x2.y)+" l"),t.push(U(r.x4.x)+" "+U(r.x4.y)+" m"),t.push(U(r.x3.x)+" "+U(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function($e){var e=V($e);e.scope=$e.scope;var t=At.internal.calculateCross($e),r=[];return r.push("0.749023 g"),r.push("0 0 "+U(At.internal.getWidth($e))+" "+U(At.internal.getHeight($e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+U(At.internal.getWidth($e)-2)+" "+U(At.internal.getHeight($e)-2)+" re"),r.push("W"),r.push("n"),r.push(U(t.x1.x)+" "+U(t.x1.y)+" m"),r.push(U(t.x2.x)+" "+U(t.x2.y)+" l"),r.push(U(t.x4.x)+" "+U(t.x4.y)+" m"),r.push(U(t.x3.x)+" "+U(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function($e){var e=V($e);e.scope=$e.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+U(At.internal.getWidth($e))+" "+U(At.internal.getHeight($e))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function($e){var e=$e.scope.internal.getFont($e.fontName,$e.fontStyle).id,t=$e.scope.__private__.encodeColorString($e.color);return"/"+e+" "+$e.fontSize+" Tf "+t}};At.internal={Bezier_C:.551915024494,calculateCross:function($e){var e=At.internal.getWidth($e),t=At.internal.getHeight($e),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},At.internal.getWidth=function($e){var e=0;return _typeof($e)==="object"&&(e=W($e.Rect[2])),e},At.internal.getHeight=function($e){var e=0;return _typeof($e)==="object"&&(e=W($e.Rect[3])),e};var xt=q.addField=function($e){if(at(this,$e),!($e instanceof lt))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=$e).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),$e.page=$e.scope.internal.getCurrentPageInfo().pageNumber,this};q.AcroFormChoiceField=ft,q.AcroFormListBox=dt,q.AcroFormComboBox=pt,q.AcroFormEditBox=gt,q.AcroFormButton=mt,q.AcroFormPushButton=vt,q.AcroFormRadioButton=bt,q.AcroFormCheckBox=wt,q.AcroFormTextField=Nt,q.AcroFormPasswordField=Lt,q.AcroFormAppearance=At,q.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:At},E.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:At};function _t($e){return $e.reduce(function(e,t,r){return e[t]=r,e},{})}(function($e){$e.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=$e.__addimage__.getImageFileTypeByImageData=function(di,pi){var yi,gi,_i,Ai,ki,vi=e;if((pi=pi||e)==="RGBA"||di.data!==void 0&&di.data instanceof Uint8ClampedArray&&"height"in di&&"width"in di)return"RGBA";if(ai(di))for(ki in t)for(_i=t[ki],yi=0;yi<_i.length;yi+=1){for(Ai=!0,gi=0;gi<_i[yi].length;gi+=1)if(_i[yi][gi]!==void 0&&_i[yi][gi]!==di[gi]){Ai=!1;break}if(Ai===!0){vi=ki;break}}else for(ki in t)for(_i=t[ki],yi=0;yi<_i.length;yi+=1){for(Ai=!0,gi=0;gi<_i[yi].length;gi+=1)if(_i[yi][gi]!==void 0&&_i[yi][gi]!==di.charCodeAt(gi)){Ai=!1;break}if(Ai===!0){vi=ki;break}}return vi===e&&pi!==e&&(vi=pi),vi},Ve=function di(pi){for(var yi=this.internal.write,gi=this.internal.putStream,_i=(0,this.internal.getFilters)();_i.indexOf("FlateEncode")!==-1;)_i.splice(_i.indexOf("FlateEncode"),1);pi.objectId=this.internal.newObject();var Ai=[];if(Ai.push({key:"Type",value:"/XObject"}),Ai.push({key:"Subtype",value:"/Image"}),Ai.push({key:"Width",value:pi.width}),Ai.push({key:"Height",value:pi.height}),pi.colorSpace===ri.INDEXED?Ai.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(pi.palette.length/3-1)+" "+("sMask"in pi&&pi.sMask!==void 0?pi.objectId+2:pi.objectId+1)+" 0 R]"}):(Ai.push({key:"ColorSpace",value:"/"+pi.colorSpace}),pi.colorSpace===ri.DEVICE_CMYK&&Ai.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ai.push({key:"BitsPerComponent",value:pi.bitsPerComponent}),"decodeParameters"in pi&&pi.decodeParameters!==void 0&&Ai.push({key:"DecodeParms",value:"<<"+pi.decodeParameters+">>"}),"transparency"in pi&&Array.isArray(pi.transparency)){for(var ki="",vi=0,Mi=pi.transparency.length;vi<Mi;vi++)ki+=pi.transparency[vi]+" "+pi.transparency[vi]+" ";Ai.push({key:"Mask",value:"["+ki+"]"})}pi.sMask!==void 0&&Ai.push({key:"SMask",value:pi.objectId+1+" 0 R"});var Di=pi.filter!==void 0?["/"+pi.filter]:void 0;if(gi({data:pi.data,additionalKeyValues:Ai,alreadyAppliedFilters:Di,objectId:pi.objectId}),yi("endobj"),"sMask"in pi&&pi.sMask!==void 0){var Bi="/Predictor "+pi.predictor+" /Colors 1 /BitsPerComponent "+pi.bitsPerComponent+" /Columns "+pi.width,Pi={width:pi.width,height:pi.height,colorSpace:"DeviceGray",bitsPerComponent:pi.bitsPerComponent,decodeParameters:Bi,data:pi.sMask};"filter"in pi&&(Pi.filter=pi.filter),di.call(this,Pi)}if(pi.colorSpace===ri.INDEXED){var Fi=this.internal.newObject();gi({data:hi(new Uint8Array(pi.palette)),objectId:Fi}),yi("endobj")}},je=function(){var di=this.internal.collections.addImage_images;for(var pi in di)Ve.call(this,di[pi])},ze=function(){var di,pi=this.internal.collections.addImage_images,yi=this.internal.write;for(var gi in pi)yi("/I"+(di=pi[gi]).index,di.objectId,"0","R")},Xe=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",je),this.internal.events.subscribe("putXobjectDict",ze))},We=function(){var di=this.internal.collections.addImage_images;return Xe.call(this),di},qe=function(){return Object.keys(this.internal.collections.addImage_images).length},Ke=function(di){return typeof $e["process"+di.toUpperCase()]=="function"},Ze=function(di){return _typeof(di)==="object"&&di.nodeType===1},Je=function(di,pi){if(di.nodeName==="IMG"&&di.hasAttribute("src")){var yi=""+di.getAttribute("src");if(yi.indexOf("data:image/")===0)return u(unescape(yi).split("base64,").pop());var gi=$e.loadFile(yi,!0);if(gi!==void 0)return gi}if(di.nodeName==="CANVAS"){if(di.width===0||di.height===0)throw new Error("Given canvas must have data. Canvas width: "+di.width+", height: "+di.height);var _i;switch(pi){case"PNG":_i="image/png";break;case"WEBP":_i="image/webp";break;case"JPEG":case"JPG":default:_i="image/jpeg"}return u(di.toDataURL(_i,1).split("base64,").pop())}},Qe=function(di){var pi=this.internal.collections.addImage_images;if(pi){for(var yi in pi)if(di===pi[yi].alias)return pi[yi]}},ti=function(di,pi,yi){return di||pi||(di=-96,pi=-96),di<0&&(di=-1*yi.width*72/di/this.internal.scaleFactor),pi<0&&(pi=-1*yi.height*72/pi/this.internal.scaleFactor),di===0&&(di=pi*yi.width/yi.height),pi===0&&(pi=di*yi.height/yi.width),[di,pi]},ni=function(di,pi,yi,gi,_i,Ai){var ki=ti.call(this,yi,gi,_i),vi=this.internal.getCoordinateString,Mi=this.internal.getVerticalCoordinateString,Di=We.call(this);if(yi=ki[0],gi=ki[1],Di[_i.index]=_i,Ai){Ai*=Math.PI/180;var Bi=Math.cos(Ai),Pi=Math.sin(Ai),Fi=function(Ti){return Ti.toFixed(4)},Vi=[Fi(Bi),Fi(Pi),Fi(-1*Pi),Fi(Bi),0,0,"cm"]}this.internal.write("q"),Ai?(this.internal.write([1,"0","0",1,vi(di),Mi(pi+gi),"cm"].join(" ")),this.internal.write(Vi.join(" ")),this.internal.write([vi(yi),"0","0",vi(gi),"0","0","cm"].join(" "))):this.internal.write([vi(yi),"0","0",vi(gi),vi(di),Mi(pi+gi),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+_i.index+" Do"),this.internal.write("Q")},ri=$e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};$e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var ii=$e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},ei=$e.__addimage__.sHashCode=function(di){var pi,yi,gi=0;if(typeof di=="string")for(yi=di.length,pi=0;pi<yi;pi++)gi=(gi<<5)-gi+di.charCodeAt(pi),gi|=0;else if(ai(di))for(yi=di.byteLength/2,pi=0;pi<yi;pi++)gi=(gi<<5)-gi+di[pi],gi|=0;return gi},St=$e.__addimage__.validateStringAsBase64=function(di){(di=di||"").toString().trim();var pi=!0;return di.length===0&&(pi=!1),di.length%4!=0&&(pi=!1),/^[A-Za-z0-9+/]+$/.test(di.substr(0,di.length-2))===!1&&(pi=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(di.substr(-2))===!1&&(pi=!1),pi},oi=$e.__addimage__.extractImageFromDataUrl=function(di){var pi=(di=di||"").split("base64,"),yi=null;if(pi.length===2){var gi=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(pi[0]);Array.isArray(gi)&&(yi={mimeType:gi[1],charset:gi[2],data:pi[1]})}return yi},si=$e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};$e.__addimage__.isArrayBuffer=function(di){return si()&&di instanceof ArrayBuffer};var ai=$e.__addimage__.isArrayBufferView=function(di){return si()&&typeof Uint32Array<"u"&&(di instanceof Int8Array||di instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&di instanceof Uint8ClampedArray||di instanceof Int16Array||di instanceof Uint16Array||di instanceof Int32Array||di instanceof Uint32Array||di instanceof Float32Array||di instanceof Float64Array)},ui=$e.__addimage__.binaryStringToUint8Array=function(di){for(var pi=di.length,yi=new Uint8Array(pi),gi=0;gi<pi;gi++)yi[gi]=di.charCodeAt(gi);return yi},hi=$e.__addimage__.arrayBufferToBinaryString=function(di){for(var pi="",yi=ai(di)?di:new Uint8Array(di),gi=0;gi<yi.length;gi+=8192)pi+=String.fromCharCode.apply(null,yi.subarray(gi,gi+8192));return pi};$e.addImage=function(){var di,pi,yi,gi,_i,Ai,ki,vi,Mi;if(typeof arguments[1]=="number"?(pi=e,yi=arguments[1],gi=arguments[2],_i=arguments[3],Ai=arguments[4],ki=arguments[5],vi=arguments[6],Mi=arguments[7]):(pi=arguments[1],yi=arguments[2],gi=arguments[3],_i=arguments[4],Ai=arguments[5],ki=arguments[6],vi=arguments[7],Mi=arguments[8]),_typeof(di=arguments[0])==="object"&&!Ze(di)&&"imageData"in di){var Di=di;di=Di.imageData,pi=Di.format||pi||e,yi=Di.x||yi||0,gi=Di.y||gi||0,_i=Di.w||Di.width||_i,Ai=Di.h||Di.height||Ai,ki=Di.alias||ki,vi=Di.compression||vi,Mi=Di.rotation||Di.angle||Mi}var Bi=this.internal.getFilters();if(vi===void 0&&Bi.indexOf("FlateEncode")!==-1&&(vi="SLOW"),isNaN(yi)||isNaN(gi))throw new Error("Invalid coordinates passed to jsPDF.addImage");Xe.call(this);var Pi=ci.call(this,di,pi,ki,vi);return ni.call(this,yi,gi,_i,Ai,Pi,Mi),this};var ci=function(di,pi,yi,gi){var _i,Ai,ki;if(typeof di=="string"&&r(di)===e){di=unescape(di);var vi=mi(di,!1);(vi!==""||(vi=$e.loadFile(di,!0))!==void 0)&&(di=vi)}if(Ze(di)&&(di=Je(di,pi)),pi=r(di,pi),!Ke(pi))throw new Error("addImage does not support files of type '"+pi+"', please ensure that a plugin for '"+pi+"' support is added.");if(((ki=yi)==null||ki.length===0)&&(yi=function(Mi){return typeof Mi=="string"||ai(Mi)?ei(Mi):ai(Mi.data)?ei(Mi.data):null}(di)),(_i=Qe.call(this,yi))||(si()&&(di instanceof Uint8Array||pi==="RGBA"||(Ai=di,di=ui(di))),_i=this["process"+pi.toUpperCase()](di,qe.call(this),yi,function(Mi){return Mi&&typeof Mi=="string"&&(Mi=Mi.toUpperCase()),Mi in $e.image_compression?Mi:ii.NONE}(gi),Ai)),!_i)throw new Error("An unknown error occurred whilst processing the image.");return _i},mi=$e.__addimage__.convertBase64ToBinaryString=function(di,pi){var yi;pi=typeof pi!="boolean"||pi;var gi,_i="";if(typeof di=="string"){gi=(yi=oi(di))!==null?yi.data:di;try{_i=u(gi)}catch(Ai){if(pi)throw St(gi)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ai.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return _i};$e.getImageProperties=function(di){var pi,yi,gi="";if(Ze(di)&&(di=Je(di)),typeof di=="string"&&r(di)===e&&((gi=mi(di,!1))===""&&(gi=$e.loadFile(di)||""),di=gi),yi=r(di),!Ke(yi))throw new Error("addImage does not support files of type '"+yi+"', please ensure that a plugin for '"+yi+"' support is added.");if(!si()||di instanceof Uint8Array||(di=ui(di)),!(pi=this["process"+yi.toUpperCase()](di)))throw new Error("An unknown error occurred whilst processing the image");return pi.fileType=yi,pi}})(E.API),function($e){var e=function(t){if(t!==void 0&&t!="")return!0};E.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),$e.events.push(["putPage",function(t){for(var r,Ve,je,ze=this.internal.getCoordinateString,Xe=this.internal.getVerticalCoordinateString,We=this.internal.getPageInfoByObjId(t.objId),qe=t.pageContext.annotations,Ke=!1,Ze=0;Ze<qe.length&&!Ke;Ze++)switch((r=qe[Ze]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(Ke=!0);break;case"reference":case"text":case"freetext":Ke=!0}if(Ke!=0){this.internal.write("/Annots [");for(var Je=0;Je<qe.length;Je++){r=qe[Je];var Qe=this.internal.pdfEscape,ti=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var ni=this.internal.newAdditionalObject(),ri=this.internal.newAdditionalObject(),ii=this.internal.getEncryptor(ni.objId),ei=r.title||"Note";je="<</Type /Annot /Subtype /Text "+(Ve="/Rect ["+ze(r.bounds.x)+" "+Xe(r.bounds.y+r.bounds.h)+" "+ze(r.bounds.x+r.bounds.w)+" "+Xe(r.bounds.y)+"] ")+"/Contents ("+Qe(ii(r.contents))+")",je+=" /Popup "+ri.objId+" 0 R",je+=" /P "+We.objId+" 0 R",je+=" /T ("+Qe(ii(ei))+") >>",ni.content=je;var St=ni.objId+" 0 R";je="<</Type /Annot /Subtype /Popup "+(Ve="/Rect ["+ze(r.bounds.x+30)+" "+Xe(r.bounds.y+r.bounds.h)+" "+ze(r.bounds.x+r.bounds.w+30)+" "+Xe(r.bounds.y)+"] ")+" /Parent "+St,r.open&&(je+=" /Open true"),je+=" >>",ri.content=je,this.internal.write(ni.objId,"0 R",ri.objId,"0 R");break;case"freetext":Ve="/Rect ["+ze(r.bounds.x)+" "+Xe(r.bounds.y)+" "+ze(r.bounds.x+r.bounds.w)+" "+Xe(r.bounds.y+r.bounds.h)+"] ";var oi=r.color||"#000000";je="<</Type /Annot /Subtype /FreeText "+Ve+"/Contents ("+Qe(ti(r.contents))+")",je+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+oi+")",je+=" /Border [0 0 0]",je+=" >>",this.internal.write(je);break;case"link":if(r.options.name){var si=this.annotations._nameMap[r.options.name];r.options.pageNumber=si.page,r.options.top=si.y}else r.options.top||(r.options.top=0);if(Ve="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",je="",r.options.url)je="<</Type /Annot /Subtype /Link "+Ve+"/Border [0 0 0] /A <</S /URI /URI ("+Qe(ti(r.options.url))+") >>";else if(r.options.pageNumber)switch(je="<</Type /Annot /Subtype /Link "+Ve+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":je+=" /Fit]";break;case"FitH":je+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,je+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var ai=Xe(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),je+=" /XYZ "+r.options.left+" "+ai+" "+r.options.zoom+"]"}je!=""&&(je+=" >>",this.internal.write(je))}}this.internal.write("]")}}]),$e.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},$e.link=function(t,r,Ve,je,ze){var Xe=this.internal.getCurrentPageInfo(),We=this.internal.getCoordinateString,qe=this.internal.getVerticalCoordinateString;Xe.pageContext.annotations.push({finalBounds:{x:We(t),y:qe(r),w:We(t+Ve),h:qe(r+je)},options:ze,type:"link"})},$e.textWithLink=function(t,r,Ve,je){var ze,Xe,We=this.getTextWidth(t),qe=this.internal.getLineHeight()/this.internal.scaleFactor;if(je.maxWidth!==void 0){Xe=je.maxWidth;var Ke=this.splitTextToSize(t,Xe).length;ze=Math.ceil(qe*Ke)}else Xe=We,ze=qe;return this.text(t,r,Ve,je),Ve+=.2*qe,je.align==="center"&&(r-=We/2),je.align==="right"&&(r-=We),this.link(r,Ve-qe,Xe,ze,je),We},$e.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(E.API),function($e){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},Ve=[1570,1571,1573,1575];$e.__arabicParser__={};var je=$e.__arabicParser__.isInArabicSubstitutionA=function(ni){return e[ni.charCodeAt(0)]!==void 0},ze=$e.__arabicParser__.isArabicLetter=function(ni){return typeof ni=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(ni)},Xe=$e.__arabicParser__.isArabicEndLetter=function(ni){return ze(ni)&&je(ni)&&e[ni.charCodeAt(0)].length<=2},We=$e.__arabicParser__.isArabicAlfLetter=function(ni){return ze(ni)&&Ve.indexOf(ni.charCodeAt(0))>=0};$e.__arabicParser__.arabicLetterHasIsolatedForm=function(ni){return ze(ni)&&je(ni)&&e[ni.charCodeAt(0)].length>=1};var qe=$e.__arabicParser__.arabicLetterHasFinalForm=function(ni){return ze(ni)&&je(ni)&&e[ni.charCodeAt(0)].length>=2};$e.__arabicParser__.arabicLetterHasInitialForm=function(ni){return ze(ni)&&je(ni)&&e[ni.charCodeAt(0)].length>=3};var Ke=$e.__arabicParser__.arabicLetterHasMedialForm=function(ni){return ze(ni)&&je(ni)&&e[ni.charCodeAt(0)].length==4},Ze=$e.__arabicParser__.resolveLigatures=function(ni){var ri=0,ii=t,ei="",St=0;for(ri=0;ri<ni.length;ri+=1)ii[ni.charCodeAt(ri)]!==void 0?(St++,typeof(ii=ii[ni.charCodeAt(ri)])=="number"&&(ei+=String.fromCharCode(ii),ii=t,St=0),ri===ni.length-1&&(ii=t,ei+=ni.charAt(ri-(St-1)),ri-=St-1,St=0)):(ii=t,ei+=ni.charAt(ri-St),ri-=St,St=0);return ei};$e.__arabicParser__.isArabicDiacritic=function(ni){return ni!==void 0&&r[ni.charCodeAt(0)]!==void 0};var Je=$e.__arabicParser__.getCorrectForm=function(ni,ri,ii){return ze(ni)?je(ni)===!1?-1:!qe(ni)||!ze(ri)&&!ze(ii)||!ze(ii)&&Xe(ri)||Xe(ni)&&!ze(ri)||Xe(ni)&&We(ri)||Xe(ni)&&Xe(ri)?0:Ke(ni)&&ze(ri)&&!Xe(ri)&&ze(ii)&&qe(ii)?3:Xe(ni)||!ze(ii)?1:2:-1},Qe=function(ni){var ri=0,ii=0,ei=0,St="",oi="",si="",ai=(ni=ni||"").split("\\s+"),ui=[];for(ri=0;ri<ai.length;ri+=1){for(ui.push(""),ii=0;ii<ai[ri].length;ii+=1)St=ai[ri][ii],oi=ai[ri][ii-1],si=ai[ri][ii+1],ze(St)?(ei=Je(St,oi,si),ui[ri]+=ei!==-1?String.fromCharCode(e[St.charCodeAt(0)][ei]):St):ui[ri]+=St;ui[ri]=Ze(ui[ri])}return ui.join(" ")},ti=$e.__arabicParser__.processArabic=$e.processArabic=function(){var ni,ri=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,ii=[];if(Array.isArray(ri)){var ei=0;for(ii=[],ei=0;ei<ri.length;ei+=1)Array.isArray(ri[ei])?ii.push([Qe(ri[ei][0]),ri[ei][1],ri[ei][2]]):ii.push([Qe(ri[ei])]);ni=ii}else ni=Qe(ri);return typeof arguments[0]=="string"?ni:(arguments[0].text=ni,arguments[0])};$e.events.push(["preProcessText",ti])}(E.API),E.API.autoPrint=function($e){var e;switch(($e=$e||{}).variant=$e.variant||"non-conform",$e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function($e){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(Xe){t=Xe}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(Xe){r=isNaN(Xe)||Number.isInteger(Xe)===!1||Xe<0?150:Xe,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var Ve=300;Object.defineProperty(this,"height",{get:function(){return Ve},set:function(Xe){Ve=isNaN(Xe)||Number.isInteger(Xe)===!1||Xe<0?300:Xe,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=Ve+1)}});var je=[];Object.defineProperty(this,"childNodes",{get:function(){return je},set:function(Xe){je=Xe}});var ze={};Object.defineProperty(this,"style",{get:function(){return ze},set:function(Xe){ze=Xe}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var Ve;if((t=t||"2d")!=="2d")return null;for(Ve in r)this.pdf.context2d.hasOwnProperty(Ve)&&(this.pdf.context2d[Ve]=r[Ve]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},$e.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(E.API),function($e){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),Ve.call(this))},Ve=function(){this.internal.__cell__.lastCell=new je,this.internal.__cell__.pages=1},je=function(){var We=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return We},set:function(ni){We=ni}});var qe=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return qe},set:function(ni){qe=ni}});var Ke=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return Ke},set:function(ni){Ke=ni}});var Ze=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return Ze},set:function(ni){Ze=ni}});var Je=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return Je},set:function(ni){Je=ni}});var Qe=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return Qe},set:function(ni){Qe=ni}});var ti=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return ti},set:function(ni){ti=ni}}),this};je.prototype.clone=function(){return new je(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},je.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},$e.setHeaderFunction=function(We){return r.call(this),this.internal.__cell__.headerFunction=typeof We=="function"?We:void 0,this},$e.getTextDimensions=function(We,qe){r.call(this);var Ke=(qe=qe||{}).fontSize||this.getFontSize(),Ze=qe.font||this.getFont(),Je=qe.scaleFactor||this.internal.scaleFactor,Qe=0,ti=0,ni=0,ri=this;if(!Array.isArray(We)&&typeof We!="string"){if(typeof We!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");We=String(We)}var ii=qe.maxWidth;ii>0?typeof We=="string"?We=this.splitTextToSize(We,ii):Object.prototype.toString.call(We)==="[object Array]"&&(We=We.reduce(function(St,oi){return St.concat(ri.splitTextToSize(oi,ii))},[])):We=Array.isArray(We)?We:[We];for(var ei=0;ei<We.length;ei++)Qe<(ni=this.getStringUnitWidth(We[ei],{font:Ze})*Ke)&&(Qe=ni);return Qe!==0&&(ti=We.length),{w:Qe/=Je,h:Math.max((ti*Ke*this.getLineHeightFactor()-Ke*(this.getLineHeightFactor()-1))/Je,0)}},$e.cellAddPage=function(){r.call(this),this.addPage();var We=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new je(We.left,We.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var ze=$e.cell=function(){var We;We=arguments[0]instanceof je?arguments[0]:new je(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var qe=this.internal.__cell__.lastCell,Ke=this.internal.__cell__.padding,Ze=this.internal.__cell__.margins||e,Je=this.internal.__cell__.tableHeaderRow,Qe=this.internal.__cell__.printHeaders;return qe.lineNumber!==void 0&&(qe.lineNumber===We.lineNumber?(We.x=(qe.x||0)+(qe.width||0),We.y=qe.y||0):qe.y+qe.height+We.height+Ze.bottom>this.getPageHeight()?(this.cellAddPage(),We.y=Ze.top,Qe&&Je&&(this.printHeaderRow(We.lineNumber,!0),We.y+=Je[0].height)):We.y=qe.y+qe.height||We.y),We.text[0]!==void 0&&(this.rect(We.x,We.y,We.width,We.height,t===!0?"FD":void 0),We.align==="right"?this.text(We.text,We.x+We.width-Ke,We.y+Ke,{align:"right",baseline:"top"}):We.align==="center"?this.text(We.text,We.x+We.width/2,We.y+Ke,{align:"center",baseline:"top",maxWidth:We.width-Ke-Ke}):this.text(We.text,We.x+Ke,We.y+Ke,{align:"left",baseline:"top",maxWidth:We.width-Ke-Ke})),this.internal.__cell__.lastCell=We,this};$e.table=function(We,qe,Ke,Ze,Je){if(r.call(this),!Ke)throw new Error("No data for PDF table.");var Qe,ti,ni,ri,ii=[],ei=[],St=[],oi={},si={},ai=[],ui=[],hi=(Je=Je||{}).autoSize||!1,ci=Je.printHeaders!==!1,mi=Je.css&&Je.css["font-size"]!==void 0?16*Je.css["font-size"]:Je.fontSize||12,di=Je.margins||Object.assign({width:this.getPageWidth()},e),pi=typeof Je.padding=="number"?Je.padding:3,yi=Je.headerBackgroundColor||"#c8c8c8",gi=Je.headerTextColor||"#000";if(Ve.call(this),this.internal.__cell__.printHeaders=ci,this.internal.__cell__.margins=di,this.internal.__cell__.table_font_size=mi,this.internal.__cell__.padding=pi,this.internal.__cell__.headerBackgroundColor=yi,this.internal.__cell__.headerTextColor=gi,this.setFontSize(mi),Ze==null)ei=ii=Object.keys(Ke[0]),St=ii.map(function(){return"left"});else if(Array.isArray(Ze)&&_typeof(Ze[0])==="object")for(ii=Ze.map(function(Di){return Di.name}),ei=Ze.map(function(Di){return Di.prompt||Di.name||""}),St=Ze.map(function(Di){return Di.align||"left"}),Qe=0;Qe<Ze.length;Qe+=1)si[Ze[Qe].name]=Ze[Qe].width*(19.049976/25.4);else Array.isArray(Ze)&&typeof Ze[0]=="string"&&(ei=ii=Ze,St=ii.map(function(){return"left"}));if(hi||Array.isArray(Ze)&&typeof Ze[0]=="string")for(Qe=0;Qe<ii.length;Qe+=1){for(oi[ri=ii[Qe]]=Ke.map(function(Di){return Di[ri]}),this.setFont(void 0,"bold"),ai.push(this.getTextDimensions(ei[Qe],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),ti=oi[ri],this.setFont(void 0,"normal"),ni=0;ni<ti.length;ni+=1)ai.push(this.getTextDimensions(ti[ni],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);si[ri]=Math.max.apply(null,ai)+pi+pi,ai=[]}if(ci){var _i={};for(Qe=0;Qe<ii.length;Qe+=1)_i[ii[Qe]]={},_i[ii[Qe]].text=ei[Qe],_i[ii[Qe]].align=St[Qe];var Ai=Xe.call(this,_i,si);ui=ii.map(function(Di){return new je(We,qe,si[Di],Ai,_i[Di].text,void 0,_i[Di].align)}),this.setTableHeaderRow(ui),this.printHeaderRow(1,!1)}var ki=Ze.reduce(function(Di,Bi){return Di[Bi.name]=Bi.align,Di},{});for(Qe=0;Qe<Ke.length;Qe+=1){"rowStart"in Je&&Je.rowStart instanceof Function&&Je.rowStart({row:Qe,data:Ke[Qe]},this);var vi=Xe.call(this,Ke[Qe],si);for(ni=0;ni<ii.length;ni+=1){var Mi=Ke[Qe][ii[ni]];"cellStart"in Je&&Je.cellStart instanceof Function&&Je.cellStart({row:Qe,col:ni,data:Mi},this),ze.call(this,new je(We,qe,si[ii[ni]],vi,Mi,Qe+2,ki[ii[ni]]))}}return this.internal.__cell__.table_x=We,this.internal.__cell__.table_y=qe,this};var Xe=function(We,qe){var Ke=this.internal.__cell__.padding,Ze=this.internal.__cell__.table_font_size,Je=this.internal.scaleFactor;return Object.keys(We).map(function(Qe){var ti=We[Qe];return this.splitTextToSize(ti.hasOwnProperty("text")?ti.text:ti,qe[Qe]-Ke-Ke)},this).map(function(Qe){return this.getLineHeightFactor()*Qe.length*Ze/Je+Ke+Ke},this).reduce(function(Qe,ti){return Math.max(Qe,ti)},0)};$e.setTableHeaderRow=function(We){r.call(this),this.internal.__cell__.tableHeaderRow=We},$e.printHeaderRow=function(We,qe){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var Ke;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var Ze=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new je(Ze[0],Ze[1],Ze[2],Ze[3],void 0,-1)}this.setFont(void 0,"bold");for(var Je=[],Qe=0;Qe<this.internal.__cell__.tableHeaderRow.length;Qe+=1){Ke=this.internal.__cell__.tableHeaderRow[Qe].clone(),qe&&(Ke.y=this.internal.__cell__.margins.top||0,Je.push(Ke)),Ke.lineNumber=We;var ti=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),ze.call(this,Ke),this.setTextColor(ti)}Je.length>0&&this.setTableHeaderRow(Je),this.setFont(void 0,"normal"),t=!1}}(E.API);var Pt={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kt=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],It=_t(kt),Ft=[100,200,300,400,500,600,700,800,900],Ct=_t(Ft);function jt($e){var e=$e.family.replace(/"|'/g,"").toLowerCase(),t=function(je){return Pt[je=je||"normal"]?je:"normal"}($e.style),r=function(je){if(!je)return 400;if(typeof je=="number")return je>=100&&je<=900&&je%100==0?je:400;if(/^\d00$/.test(je))return parseInt(je);switch(je){case"bold":return 700;case"normal":default:return 400}}($e.weight),Ve=function(je){return typeof It[je=je||"normal"]=="number"?je:"normal"}($e.stretch);return{family:e,style:t,weight:r,stretch:Ve,src:$e.src||[],ref:$e.ref||{name:e,style:[Ve,t,r].join(" ")}}}function Ot($e,e,t,r){var Ve;for(Ve=t;Ve>=0&&Ve<e.length;Ve+=r)if($e[e[Ve]])return $e[e[Ve]];for(Ve=t;Ve>=0&&Ve<e.length;Ve-=r)if($e[e[Ve]])return $e[e[Ve]]}var Bt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Mt={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Et($e){return[$e.stretch,$e.style,$e.weight,$e.family].join(" ")}function qt($e,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",Ve=Object.assign({},Bt,t.genericFontFamilies||{}),je=null,ze=null,Xe=0;Xe<e.length;++Xe)if(Ve[(je=jt(e[Xe])).family]&&(je.family=Ve[je.family]),$e.hasOwnProperty(je.family)){ze=$e[je.family];break}if(!(ze=ze||$e[r]))throw new Error("Could not find a font-family for the rule '"+Et(je)+"' and default family '"+r+"'.");if(ze=function(We,qe){if(qe[We])return qe[We];var Ke=It[We],Ze=Ke<=It.normal?-1:1,Je=Ot(qe,kt,Ke,Ze);if(!Je)throw new Error("Could not find a matching font-stretch value for "+We);return Je}(je.stretch,ze),ze=function(We,qe){if(qe[We])return qe[We];for(var Ke=Pt[We],Ze=0;Ze<Ke.length;++Ze)if(qe[Ke[Ze]])return qe[Ke[Ze]];throw new Error("Could not find a matching font-style for "+We)}(je.style,ze),!(ze=function(We,qe){if(qe[We])return qe[We];if(We===400&&qe[500])return qe[500];if(We===500&&qe[400])return qe[400];var Ke=Ct[We],Ze=Ot(qe,Ft,Ke,We<400?-1:1);if(!Ze)throw new Error("Could not find a matching font-weight for value "+We);return Ze}(je.weight,ze)))throw new Error("Failed to resolve a font for the rule '"+Et(je)+"'.");return ze}function Dt($e){return $e.trimLeft()}function Rt($e,e){for(var t=0;t<$e.length;){if($e.charAt(t)===e)return[$e.substring(0,t),$e.substring(t+1)];t+=1}return null}function Tt($e){var e=$e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],$e.substring(e[0].length)]}var Ut,zt,Ht,Wt=["times"];(function($e){var e,t,r,Ve,je,ze,Xe,We,qe,Ke=function(Pi){return Pi=Pi||{},this.isStrokeTransparent=Pi.isStrokeTransparent||!1,this.strokeOpacity=Pi.strokeOpacity||1,this.strokeStyle=Pi.strokeStyle||"#000000",this.fillStyle=Pi.fillStyle||"#000000",this.isFillTransparent=Pi.isFillTransparent||!1,this.fillOpacity=Pi.fillOpacity||1,this.font=Pi.font||"10px sans-serif",this.textBaseline=Pi.textBaseline||"alphabetic",this.textAlign=Pi.textAlign||"left",this.lineWidth=Pi.lineWidth||1,this.lineJoin=Pi.lineJoin||"miter",this.lineCap=Pi.lineCap||"butt",this.path=Pi.path||[],this.transform=Pi.transform!==void 0?Pi.transform.clone():new We,this.globalCompositeOperation=Pi.globalCompositeOperation||"normal",this.globalAlpha=Pi.globalAlpha||1,this.clip_path=Pi.clip_path||[],this.currentPoint=Pi.currentPoint||new ze,this.miterLimit=Pi.miterLimit||10,this.lastPoint=Pi.lastPoint||new ze,this.lineDashOffset=Pi.lineDashOffset||0,this.lineDash=Pi.lineDash||[],this.margin=Pi.margin||[0,0,0,0],this.prevPageLastElemOffset=Pi.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Pi.ignoreClearRect!="boolean"||Pi.ignoreClearRect,this};$e.events.push(["initialized",function(){this.context2d=new Ze(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,Ve=this.internal.getHorizontalCoordinate,je=this.internal.getVerticalCoordinate,ze=this.internal.Point,Xe=this.internal.Rectangle,We=this.internal.Matrix,qe=new Ke}]);var Ze=function(Pi){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Fi=Pi;Object.defineProperty(this,"pdf",{get:function(){return Fi}});var Vi=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Vi},set:function(Ei){Vi=!!Ei}});var Ti=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Ti},set:function(Ei){Ti=!!Ei}});var ji=0;Object.defineProperty(this,"posX",{get:function(){return ji},set:function(Ei){isNaN(Ei)||(ji=Ei)}});var Gi=0;Object.defineProperty(this,"posY",{get:function(){return Gi},set:function(Ei){isNaN(Ei)||(Gi=Ei)}}),Object.defineProperty(this,"margin",{get:function(){return qe.margin},set:function(Ei){var Si;typeof Ei=="number"?Si=[Ei,Ei,Ei,Ei]:((Si=new Array(4))[0]=Ei[0],Si[1]=Ei.length>=2?Ei[1]:Si[0],Si[2]=Ei.length>=3?Ei[2]:Si[0],Si[3]=Ei.length>=4?Ei[3]:Si[1]),qe.margin=Si}});var Yi=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Yi},set:function(Ei){Yi=Ei}});var Xi=0;Object.defineProperty(this,"lastBreak",{get:function(){return Xi},set:function(Ei){Xi=Ei}});var xi=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xi},set:function(Ei){xi=Ei}}),Object.defineProperty(this,"ctx",{get:function(){return qe},set:function(Ei){Ei instanceof Ke&&(qe=Ei)}}),Object.defineProperty(this,"path",{get:function(){return qe.path},set:function(Ei){qe.path=Ei}});var fi=[];Object.defineProperty(this,"ctxStack",{get:function(){return fi},set:function(Ei){fi=Ei}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ei){var Si;Si=Je(Ei),this.ctx.fillStyle=Si.style,this.ctx.isFillTransparent=Si.a===0,this.ctx.fillOpacity=Si.a,this.pdf.setFillColor(Si.r,Si.g,Si.b,{a:Si.a}),this.pdf.setTextColor(Si.r,Si.g,Si.b,{a:Si.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ei){var Si=Je(Ei);this.ctx.strokeStyle=Si.style,this.ctx.isStrokeTransparent=Si.a===0,this.ctx.strokeOpacity=Si.a,Si.a===0?this.pdf.setDrawColor(255,255,255):(Si.a,this.pdf.setDrawColor(Si.r,Si.g,Si.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ei){["butt","round","square"].indexOf(Ei)!==-1&&(this.ctx.lineCap=Ei,this.pdf.setLineCap(Ei))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ei){isNaN(Ei)||(this.ctx.lineWidth=Ei,this.pdf.setLineWidth(Ei))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ei){["bevel","round","miter"].indexOf(Ei)!==-1&&(this.ctx.lineJoin=Ei,this.pdf.setLineJoin(Ei))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ei){isNaN(Ei)||(this.ctx.miterLimit=Ei,this.pdf.setMiterLimit(Ei))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ei){this.ctx.textBaseline=Ei}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ei){["right","end","center","left","start"].indexOf(Ei)!==-1&&(this.ctx.textAlign=Ei)}});var $i=null;function bi(Ei,Si){if($i===null){var zi=function(Ki){var Ui=[];return Object.keys(Ki).forEach(function(Ji){Ki[Ji].forEach(function(gn){var hn=null;switch(gn){case"bold":hn={family:Ji,weight:"bold"};break;case"italic":hn={family:Ji,style:"italic"};break;case"bolditalic":hn={family:Ji,weight:"bold",style:"italic"};break;case"":case"normal":hn={family:Ji}}hn!==null&&(hn.ref={name:Ji,style:gn},Ui.push(hn))})}),Ui}(Ei.getFontList());$i=function(Ki){for(var Ui={},Ji=0;Ji<Ki.length;++Ji){var gn=jt(Ki[Ji]),hn=gn.family,un=gn.stretch,Mn=gn.style,sn=gn.weight;Ui[hn]=Ui[hn]||{},Ui[hn][un]=Ui[hn][un]||{},Ui[hn][un][Mn]=Ui[hn][un][Mn]||{},Ui[hn][un][Mn][sn]=gn}return Ui}(zi.concat(Si))}return $i}var Ci=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ci},set:function(Ei){$i=null,Ci=Ei}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ei){var Si;if(this.ctx.font=Ei,(Si=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ei))!==null){var zi=Si[1],Ki=(Si[2],Si[3]),Ui=Si[4],Ji=(Si[5],Si[6]),gn=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ui)[2];Ui=Math.floor(gn==="px"?parseFloat(Ui)*this.pdf.internal.scaleFactor:gn==="em"?parseFloat(Ui)*this.pdf.getFontSize():parseFloat(Ui)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ui);var hn=function(cn){var fn,qi,an=[],yn=cn.trim();if(yn==="")return Wt;if(yn in Mt)return[Mt[yn]];for(;yn!=="";){switch(qi=null,fn=(yn=Dt(yn)).charAt(0)){case'"':case"'":qi=Rt(yn.substring(1),fn);break;default:qi=Tt(yn)}if(qi===null||(an.push(qi[0]),(yn=Dt(qi[1]))!==""&&yn.charAt(0)!==","))return Wt;yn=yn.replace(/^,/,"")}return an}(Ji);if(this.fontFaces){var un=qt(bi(this.pdf,this.fontFaces),hn.map(function(cn){return{family:cn,stretch:"normal",weight:Ki,style:zi}}));this.pdf.setFont(un.ref.name,un.ref.style)}else{var Mn="";(Ki==="bold"||parseInt(Ki,10)>=700||zi==="bold")&&(Mn="bold"),zi==="italic"&&(Mn+="italic"),Mn.length===0&&(Mn="normal");for(var sn="",vn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ni=0;Ni<hn.length;Ni++){if(this.pdf.internal.getFont(hn[Ni],Mn,{noFallback:!0,disableWarning:!0})!==void 0){sn=hn[Ni];break}if(Mn==="bolditalic"&&this.pdf.internal.getFont(hn[Ni],"bold",{noFallback:!0,disableWarning:!0})!==void 0)sn=hn[Ni],Mn="bold";else if(this.pdf.internal.getFont(hn[Ni],"normal",{noFallback:!0,disableWarning:!0})!==void 0){sn=hn[Ni],Mn="normal";break}}if(sn===""){for(var Cn=0;Cn<hn.length;Cn++)if(vn[hn[Cn]]){sn=vn[hn[Cn]];break}}sn=sn===""?"Times":sn,this.pdf.setFont(sn,Mn)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ei){this.ctx.globalCompositeOperation=Ei}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ei){this.ctx.globalAlpha=Ei}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ei){this.ctx.lineDashOffset=Ei,Bi.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ei){this.ctx.lineDash=Ei,Bi.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ei){this.ctx.ignoreClearRect=!!Ei}})};Ze.prototype.setLineDash=function(Pi){this.lineDash=Pi},Ze.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},Ze.prototype.fill=function(){oi.call(this,"fill",!1)},Ze.prototype.stroke=function(){oi.call(this,"stroke",!1)},Ze.prototype.beginPath=function(){this.path=[{type:"begin"}]},Ze.prototype.moveTo=function(Pi,Fi){if(isNaN(Pi)||isNaN(Fi))throw a.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Vi=this.ctx.transform.applyToPoint(new ze(Pi,Fi));this.path.push({type:"mt",x:Vi.x,y:Vi.y}),this.ctx.lastPoint=new ze(Pi,Fi)},Ze.prototype.closePath=function(){var Pi=new ze(0,0),Fi=0;for(Fi=this.path.length-1;Fi!==-1;Fi--)if(this.path[Fi].type==="begin"&&_typeof(this.path[Fi+1])==="object"&&typeof this.path[Fi+1].x=="number"){Pi=new ze(this.path[Fi+1].x,this.path[Fi+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new ze(Pi.x,Pi.y)},Ze.prototype.lineTo=function(Pi,Fi){if(isNaN(Pi)||isNaN(Fi))throw a.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Vi=this.ctx.transform.applyToPoint(new ze(Pi,Fi));this.path.push({type:"lt",x:Vi.x,y:Vi.y}),this.ctx.lastPoint=new ze(Vi.x,Vi.y)},Ze.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),oi.call(this,null,!0)},Ze.prototype.quadraticCurveTo=function(Pi,Fi,Vi,Ti){if(isNaN(Vi)||isNaN(Ti)||isNaN(Pi)||isNaN(Fi))throw a.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ji=this.ctx.transform.applyToPoint(new ze(Vi,Ti)),Gi=this.ctx.transform.applyToPoint(new ze(Pi,Fi));this.path.push({type:"qct",x1:Gi.x,y1:Gi.y,x:ji.x,y:ji.y}),this.ctx.lastPoint=new ze(ji.x,ji.y)},Ze.prototype.bezierCurveTo=function(Pi,Fi,Vi,Ti,ji,Gi){if(isNaN(ji)||isNaN(Gi)||isNaN(Pi)||isNaN(Fi)||isNaN(Vi)||isNaN(Ti))throw a.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Yi=this.ctx.transform.applyToPoint(new ze(ji,Gi)),Xi=this.ctx.transform.applyToPoint(new ze(Pi,Fi)),xi=this.ctx.transform.applyToPoint(new ze(Vi,Ti));this.path.push({type:"bct",x1:Xi.x,y1:Xi.y,x2:xi.x,y2:xi.y,x:Yi.x,y:Yi.y}),this.ctx.lastPoint=new ze(Yi.x,Yi.y)},Ze.prototype.arc=function(Pi,Fi,Vi,Ti,ji,Gi){if(isNaN(Pi)||isNaN(Fi)||isNaN(Vi)||isNaN(Ti)||isNaN(ji))throw a.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Gi=!!Gi,!this.ctx.transform.isIdentity){var Yi=this.ctx.transform.applyToPoint(new ze(Pi,Fi));Pi=Yi.x,Fi=Yi.y;var Xi=this.ctx.transform.applyToPoint(new ze(0,Vi)),xi=this.ctx.transform.applyToPoint(new ze(0,0));Vi=Math.sqrt(Math.pow(Xi.x-xi.x,2)+Math.pow(Xi.y-xi.y,2))}Math.abs(ji-Ti)>=2*Math.PI&&(Ti=0,ji=2*Math.PI),this.path.push({type:"arc",x:Pi,y:Fi,radius:Vi,startAngle:Ti,endAngle:ji,counterclockwise:Gi})},Ze.prototype.arcTo=function(Pi,Fi,Vi,Ti,ji){throw new Error("arcTo not implemented.")},Ze.prototype.rect=function(Pi,Fi,Vi,Ti){if(isNaN(Pi)||isNaN(Fi)||isNaN(Vi)||isNaN(Ti))throw a.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Pi,Fi),this.lineTo(Pi+Vi,Fi),this.lineTo(Pi+Vi,Fi+Ti),this.lineTo(Pi,Fi+Ti),this.lineTo(Pi,Fi),this.lineTo(Pi+Vi,Fi),this.lineTo(Pi,Fi)},Ze.prototype.fillRect=function(Pi,Fi,Vi,Ti){if(isNaN(Pi)||isNaN(Fi)||isNaN(Vi)||isNaN(Ti))throw a.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!Qe.call(this)){var ji={};this.lineCap!=="butt"&&(ji.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ji.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Pi,Fi,Vi,Ti),this.fill(),ji.hasOwnProperty("lineCap")&&(this.lineCap=ji.lineCap),ji.hasOwnProperty("lineJoin")&&(this.lineJoin=ji.lineJoin)}},Ze.prototype.strokeRect=function(Pi,Fi,Vi,Ti){if(isNaN(Pi)||isNaN(Fi)||isNaN(Vi)||isNaN(Ti))throw a.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");ti.call(this)||(this.beginPath(),this.rect(Pi,Fi,Vi,Ti),this.stroke())},Ze.prototype.clearRect=function(Pi,Fi,Vi,Ti){if(isNaN(Pi)||isNaN(Fi)||isNaN(Vi)||isNaN(Ti))throw a.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Pi,Fi,Vi,Ti))},Ze.prototype.save=function(Pi){Pi=typeof Pi!="boolean"||Pi;for(var Fi=this.pdf.internal.getCurrentPageInfo().pageNumber,Vi=0;Vi<this.pdf.internal.getNumberOfPages();Vi++)this.pdf.setPage(Vi+1),this.pdf.internal.out("q");if(this.pdf.setPage(Fi),Pi){this.ctx.fontSize=this.pdf.internal.getFontSize();var Ti=new Ke(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Ti}},Ze.prototype.restore=function(Pi){Pi=typeof Pi!="boolean"||Pi;for(var Fi=this.pdf.internal.getCurrentPageInfo().pageNumber,Vi=0;Vi<this.pdf.internal.getNumberOfPages();Vi++)this.pdf.setPage(Vi+1),this.pdf.internal.out("Q");this.pdf.setPage(Fi),Pi&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},Ze.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var Je=function(Pi){var Fi,Vi,Ti,ji;if(Pi.isCanvasGradient===!0&&(Pi=Pi.getColor()),!Pi)return{r:0,g:0,b:0,a:0,style:Pi};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Pi))Fi=0,Vi=0,Ti=0,ji=0;else{var Gi=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Pi);if(Gi!==null)Fi=parseInt(Gi[1]),Vi=parseInt(Gi[2]),Ti=parseInt(Gi[3]),ji=1;else if((Gi=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Pi))!==null)Fi=parseInt(Gi[1]),Vi=parseInt(Gi[2]),Ti=parseInt(Gi[3]),ji=parseFloat(Gi[4]);else{if(ji=1,typeof Pi=="string"&&Pi.charAt(0)!=="#"){var Yi=new f(Pi);Pi=Yi.ok?Yi.toHex():"#000000"}Pi.length===4?(Fi=Pi.substring(1,2),Fi+=Fi,Vi=Pi.substring(2,3),Vi+=Vi,Ti=Pi.substring(3,4),Ti+=Ti):(Fi=Pi.substring(1,3),Vi=Pi.substring(3,5),Ti=Pi.substring(5,7)),Fi=parseInt(Fi,16),Vi=parseInt(Vi,16),Ti=parseInt(Ti,16)}}return{r:Fi,g:Vi,b:Ti,a:ji,style:Pi}},Qe=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},ti=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};Ze.prototype.fillText=function(Pi,Fi,Vi,Ti){if(isNaN(Fi)||isNaN(Vi)||typeof Pi!="string")throw a.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Ti=isNaN(Ti)?void 0:Ti,!Qe.call(this)){var ji=vi(this.ctx.transform.rotation),Gi=this.ctx.transform.scaleX;pi.call(this,{text:Pi,x:Fi,y:Vi,scale:Gi,angle:ji,align:this.textAlign,maxWidth:Ti})}},Ze.prototype.strokeText=function(Pi,Fi,Vi,Ti){if(isNaN(Fi)||isNaN(Vi)||typeof Pi!="string")throw a.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!ti.call(this)){Ti=isNaN(Ti)?void 0:Ti;var ji=vi(this.ctx.transform.rotation),Gi=this.ctx.transform.scaleX;pi.call(this,{text:Pi,x:Fi,y:Vi,scale:Gi,renderingMode:"stroke",angle:ji,align:this.textAlign,maxWidth:Ti})}},Ze.prototype.measureText=function(Pi){if(typeof Pi!="string")throw a.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Fi=this.pdf,Vi=this.pdf.internal.scaleFactor,Ti=Fi.internal.getFontSize(),ji=Fi.getStringUnitWidth(Pi)*Ti/Fi.internal.scaleFactor,Gi=function(Yi){var Xi=(Yi=Yi||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Xi}}),this};return new Gi({width:ji*=Math.round(96*Vi/72*1e4)/1e4})},Ze.prototype.scale=function(Pi,Fi){if(isNaN(Pi)||isNaN(Fi))throw a.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Vi=new We(Pi,0,0,Fi,0,0);this.ctx.transform=this.ctx.transform.multiply(Vi)},Ze.prototype.rotate=function(Pi){if(isNaN(Pi))throw a.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Fi=new We(Math.cos(Pi),Math.sin(Pi),-Math.sin(Pi),Math.cos(Pi),0,0);this.ctx.transform=this.ctx.transform.multiply(Fi)},Ze.prototype.translate=function(Pi,Fi){if(isNaN(Pi)||isNaN(Fi))throw a.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Vi=new We(1,0,0,1,Pi,Fi);this.ctx.transform=this.ctx.transform.multiply(Vi)},Ze.prototype.transform=function(Pi,Fi,Vi,Ti,ji,Gi){if(isNaN(Pi)||isNaN(Fi)||isNaN(Vi)||isNaN(Ti)||isNaN(ji)||isNaN(Gi))throw a.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Yi=new We(Pi,Fi,Vi,Ti,ji,Gi);this.ctx.transform=this.ctx.transform.multiply(Yi)},Ze.prototype.setTransform=function(Pi,Fi,Vi,Ti,ji,Gi){Pi=isNaN(Pi)?1:Pi,Fi=isNaN(Fi)?0:Fi,Vi=isNaN(Vi)?0:Vi,Ti=isNaN(Ti)?1:Ti,ji=isNaN(ji)?0:ji,Gi=isNaN(Gi)?0:Gi,this.ctx.transform=new We(Pi,Fi,Vi,Ti,ji,Gi)};var ni=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};Ze.prototype.drawImage=function(Pi,Fi,Vi,Ti,ji,Gi,Yi,Xi,xi){var fi=this.pdf.getImageProperties(Pi),$i=1,bi=1,Ci=1,Ei=1;Ti!==void 0&&Xi!==void 0&&(Ci=Xi/Ti,Ei=xi/ji,$i=fi.width/Ti*Xi/Ti,bi=fi.height/ji*xi/ji),Gi===void 0&&(Gi=Fi,Yi=Vi,Fi=0,Vi=0),Ti!==void 0&&Xi===void 0&&(Xi=Ti,xi=ji),Ti===void 0&&Xi===void 0&&(Xi=fi.width,xi=fi.height);for(var Si,zi=this.ctx.transform.decompose(),Ki=vi(zi.rotate.shx),Ui=new We,Ji=(Ui=(Ui=(Ui=Ui.multiply(zi.translate)).multiply(zi.skew)).multiply(zi.scale)).applyToRectangle(new Xe(Gi-Fi*Ci,Yi-Vi*Ei,Ti*$i,ji*bi)),gn=ri.call(this,Ji),hn=[],un=0;un<gn.length;un+=1)hn.indexOf(gn[un])===-1&&hn.push(gn[un]);if(St(hn),this.autoPaging)for(var Mn=hn[0],sn=hn[hn.length-1],vn=Mn;vn<sn+1;vn++){this.pdf.setPage(vn);var Ni=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Cn=vn===1?this.posY+this.margin[0]:this.margin[0],cn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],fn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],qi=vn===1?0:cn+(vn-2)*fn;if(this.ctx.clip_path.length!==0){var an=this.path;Si=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ei(Si,this.posX+this.margin[3],-qi+Cn+this.ctx.prevPageLastElemOffset),si.call(this,"fill",!0),this.path=an}var yn=JSON.parse(JSON.stringify(Ji));yn=ei([yn],this.posX+this.margin[3],-qi+Cn+this.ctx.prevPageLastElemOffset)[0];var bn=(vn>Mn||vn<sn)&&ni.call(this);bn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ni,fn,null).clip().discardPath()),this.pdf.addImage(Pi,"JPEG",yn.x,yn.y,yn.w,yn.h,null,null,Ki),bn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(Pi,"JPEG",Ji.x,Ji.y,Ji.w,Ji.h,null,null,Ki)};var ri=function(Pi,Fi,Vi){var Ti=[];Fi=Fi||this.pdf.internal.pageSize.width,Vi=Vi||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ji=this.posY+this.ctx.prevPageLastElemOffset;switch(Pi.type){default:case"mt":case"lt":Ti.push(Math.floor((Pi.y+ji)/Vi)+1);break;case"arc":Ti.push(Math.floor((Pi.y+ji-Pi.radius)/Vi)+1),Ti.push(Math.floor((Pi.y+ji+Pi.radius)/Vi)+1);break;case"qct":var Gi=Mi(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Pi.x1,Pi.y1,Pi.x,Pi.y);Ti.push(Math.floor((Gi.y+ji)/Vi)+1),Ti.push(Math.floor((Gi.y+Gi.h+ji)/Vi)+1);break;case"bct":var Yi=Di(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Pi.x1,Pi.y1,Pi.x2,Pi.y2,Pi.x,Pi.y);Ti.push(Math.floor((Yi.y+ji)/Vi)+1),Ti.push(Math.floor((Yi.y+Yi.h+ji)/Vi)+1);break;case"rect":Ti.push(Math.floor((Pi.y+ji)/Vi)+1),Ti.push(Math.floor((Pi.y+Pi.h+ji)/Vi)+1)}for(var Xi=0;Xi<Ti.length;Xi+=1)for(;this.pdf.internal.getNumberOfPages()<Ti[Xi];)ii.call(this);return Ti},ii=function(){var Pi=this.fillStyle,Fi=this.strokeStyle,Vi=this.font,Ti=this.lineCap,ji=this.lineWidth,Gi=this.lineJoin;this.pdf.addPage(),this.fillStyle=Pi,this.strokeStyle=Fi,this.font=Vi,this.lineCap=Ti,this.lineWidth=ji,this.lineJoin=Gi},ei=function(Pi,Fi,Vi){for(var Ti=0;Ti<Pi.length;Ti++)switch(Pi[Ti].type){case"bct":Pi[Ti].x2+=Fi,Pi[Ti].y2+=Vi;case"qct":Pi[Ti].x1+=Fi,Pi[Ti].y1+=Vi;case"mt":case"lt":case"arc":default:Pi[Ti].x+=Fi,Pi[Ti].y+=Vi}return Pi},St=function(Pi){return Pi.sort(function(Fi,Vi){return Fi-Vi})},oi=function(Pi,Fi){for(var Vi,Ti,ji=this.fillStyle,Gi=this.strokeStyle,Yi=this.lineCap,Xi=this.lineWidth,xi=Math.abs(Xi*this.ctx.transform.scaleX),fi=this.lineJoin,$i=JSON.parse(JSON.stringify(this.path)),bi=JSON.parse(JSON.stringify(this.path)),Ci=[],Ei=0;Ei<bi.length;Ei++)if(bi[Ei].x!==void 0)for(var Si=ri.call(this,bi[Ei]),zi=0;zi<Si.length;zi+=1)Ci.indexOf(Si[zi])===-1&&Ci.push(Si[zi]);for(var Ki=0;Ki<Ci.length;Ki++)for(;this.pdf.internal.getNumberOfPages()<Ci[Ki];)ii.call(this);if(St(Ci),this.autoPaging)for(var Ui=Ci[0],Ji=Ci[Ci.length-1],gn=Ui;gn<Ji+1;gn++){this.pdf.setPage(gn),this.fillStyle=ji,this.strokeStyle=Gi,this.lineCap=Yi,this.lineWidth=xi,this.lineJoin=fi;var hn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],un=gn===1?this.posY+this.margin[0]:this.margin[0],Mn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],sn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],vn=gn===1?0:Mn+(gn-2)*sn;if(this.ctx.clip_path.length!==0){var Ni=this.path;Vi=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ei(Vi,this.posX+this.margin[3],-vn+un+this.ctx.prevPageLastElemOffset),si.call(this,Pi,!0),this.path=Ni}if(Ti=JSON.parse(JSON.stringify($i)),this.path=ei(Ti,this.posX+this.margin[3],-vn+un+this.ctx.prevPageLastElemOffset),Fi===!1||gn===0){var Cn=(gn>Ui||gn<Ji)&&ni.call(this);Cn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],hn,sn,null).clip().discardPath()),si.call(this,Pi,Fi),Cn&&this.pdf.restoreGraphicsState()}this.lineWidth=Xi}else this.lineWidth=xi,si.call(this,Pi,Fi),this.lineWidth=Xi;this.path=$i},si=function(Pi,Fi){if((Pi!=="stroke"||Fi||!ti.call(this))&&(Pi==="stroke"||Fi||!Qe.call(this))){for(var Vi,Ti,ji=[],Gi=this.path,Yi=0;Yi<Gi.length;Yi++){var Xi=Gi[Yi];switch(Xi.type){case"begin":ji.push({begin:!0});break;case"close":ji.push({close:!0});break;case"mt":ji.push({start:Xi,deltas:[],abs:[]});break;case"lt":var xi=ji.length;if(Gi[Yi-1]&&!isNaN(Gi[Yi-1].x)&&(Vi=[Xi.x-Gi[Yi-1].x,Xi.y-Gi[Yi-1].y],xi>0)){for(;xi>=0;xi--)if(ji[xi-1].close!==!0&&ji[xi-1].begin!==!0){ji[xi-1].deltas.push(Vi),ji[xi-1].abs.push(Xi);break}}break;case"bct":Vi=[Xi.x1-Gi[Yi-1].x,Xi.y1-Gi[Yi-1].y,Xi.x2-Gi[Yi-1].x,Xi.y2-Gi[Yi-1].y,Xi.x-Gi[Yi-1].x,Xi.y-Gi[Yi-1].y],ji[ji.length-1].deltas.push(Vi);break;case"qct":var fi=Gi[Yi-1].x+2/3*(Xi.x1-Gi[Yi-1].x),$i=Gi[Yi-1].y+2/3*(Xi.y1-Gi[Yi-1].y),bi=Xi.x+2/3*(Xi.x1-Xi.x),Ci=Xi.y+2/3*(Xi.y1-Xi.y),Ei=Xi.x,Si=Xi.y;Vi=[fi-Gi[Yi-1].x,$i-Gi[Yi-1].y,bi-Gi[Yi-1].x,Ci-Gi[Yi-1].y,Ei-Gi[Yi-1].x,Si-Gi[Yi-1].y],ji[ji.length-1].deltas.push(Vi);break;case"arc":ji.push({deltas:[],abs:[],arc:!0}),Array.isArray(ji[ji.length-1].abs)&&ji[ji.length-1].abs.push(Xi)}}Ti=Fi?null:Pi==="stroke"?"stroke":"fill";for(var zi=!1,Ki=0;Ki<ji.length;Ki++)if(ji[Ki].arc)for(var Ui=ji[Ki].abs,Ji=0;Ji<Ui.length;Ji++){var gn=Ui[Ji];gn.type==="arc"?hi.call(this,gn.x,gn.y,gn.radius,gn.startAngle,gn.endAngle,gn.counterclockwise,void 0,Fi,!zi):yi.call(this,gn.x,gn.y),zi=!0}else if(ji[Ki].close===!0)this.pdf.internal.out("h"),zi=!1;else if(ji[Ki].begin!==!0){var hn=ji[Ki].start.x,un=ji[Ki].start.y;gi.call(this,ji[Ki].deltas,hn,un),zi=!0}Ti&&ci.call(this,Ti),Fi&&mi.call(this)}},ai=function(Pi){var Fi=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Vi=Fi*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Pi-Vi;case"top":return Pi+Fi-Vi;case"hanging":return Pi+Fi-2*Vi;case"middle":return Pi+Fi/2-Vi;case"ideographic":return Pi;case"alphabetic":default:return Pi}},ui=function(Pi){return Pi+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};Ze.prototype.createLinearGradient=function(){var Pi=function(){};return Pi.colorStops=[],Pi.addColorStop=function(Fi,Vi){this.colorStops.push([Fi,Vi])},Pi.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Pi.isCanvasGradient=!0,Pi},Ze.prototype.createPattern=function(){return this.createLinearGradient()},Ze.prototype.createRadialGradient=function(){return this.createLinearGradient()};var hi=function(Pi,Fi,Vi,Ti,ji,Gi,Yi,Xi,xi){for(var fi=Ai.call(this,Vi,Ti,ji,Gi),$i=0;$i<fi.length;$i++){var bi=fi[$i];$i===0&&(xi?di.call(this,bi.x1+Pi,bi.y1+Fi):yi.call(this,bi.x1+Pi,bi.y1+Fi)),_i.call(this,Pi,Fi,bi.x2,bi.y2,bi.x3,bi.y3,bi.x4,bi.y4)}Xi?mi.call(this):ci.call(this,Yi)},ci=function(Pi){switch(Pi){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},mi=function(){this.pdf.clip(),this.pdf.discardPath()},di=function(Pi,Fi){this.pdf.internal.out(t(Pi)+" "+r(Fi)+" m")},pi=function(Pi){var Fi;switch(Pi.align){case"right":case"end":Fi="right";break;case"center":Fi="center";break;case"left":case"start":default:Fi="left"}var Vi=this.pdf.getTextDimensions(Pi.text),Ti=ai.call(this,Pi.y),ji=ui.call(this,Ti)-Vi.h,Gi=this.ctx.transform.applyToPoint(new ze(Pi.x,Ti)),Yi=this.ctx.transform.decompose(),Xi=new We;Xi=(Xi=(Xi=Xi.multiply(Yi.translate)).multiply(Yi.skew)).multiply(Yi.scale);for(var xi,fi,$i,bi=this.ctx.transform.applyToRectangle(new Xe(Pi.x,Ti,Vi.w,Vi.h)),Ci=Xi.applyToRectangle(new Xe(Pi.x,ji,Vi.w,Vi.h)),Ei=ri.call(this,Ci),Si=[],zi=0;zi<Ei.length;zi+=1)Si.indexOf(Ei[zi])===-1&&Si.push(Ei[zi]);if(St(Si),this.autoPaging)for(var Ki=Si[0],Ui=Si[Si.length-1],Ji=Ki;Ji<Ui+1;Ji++){this.pdf.setPage(Ji);var gn=Ji===1?this.posY+this.margin[0]:this.margin[0],hn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],un=this.pdf.internal.pageSize.height-this.margin[2],Mn=un-this.margin[0],sn=this.pdf.internal.pageSize.width-this.margin[1],vn=sn-this.margin[3],Ni=Ji===1?0:hn+(Ji-2)*Mn;if(this.ctx.clip_path.length!==0){var Cn=this.path;xi=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ei(xi,this.posX+this.margin[3],-1*Ni+gn),si.call(this,"fill",!0),this.path=Cn}var cn=ei([JSON.parse(JSON.stringify(Ci))],this.posX+this.margin[3],-Ni+gn+this.ctx.prevPageLastElemOffset)[0];Pi.scale>=.01&&(fi=this.pdf.internal.getFontSize(),this.pdf.setFontSize(fi*Pi.scale),$i=this.lineWidth,this.lineWidth=$i*Pi.scale);var fn=this.autoPaging!=="text";if(fn||cn.y+cn.h<=un){if(fn||cn.y>=gn&&cn.x<=sn){var qi=fn?Pi.text:this.pdf.splitTextToSize(Pi.text,Pi.maxWidth||sn-cn.x)[0],an=ei([JSON.parse(JSON.stringify(bi))],this.posX+this.margin[3],-Ni+gn+this.ctx.prevPageLastElemOffset)[0],yn=fn&&(Ji>Ki||Ji<Ui)&&ni.call(this);yn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],vn,Mn,null).clip().discardPath()),this.pdf.text(qi,an.x,an.y,{angle:Pi.angle,align:Fi,renderingMode:Pi.renderingMode}),yn&&this.pdf.restoreGraphicsState()}}else cn.y<un&&(this.ctx.prevPageLastElemOffset+=un-cn.y);Pi.scale>=.01&&(this.pdf.setFontSize(fi),this.lineWidth=$i)}else Pi.scale>=.01&&(fi=this.pdf.internal.getFontSize(),this.pdf.setFontSize(fi*Pi.scale),$i=this.lineWidth,this.lineWidth=$i*Pi.scale),this.pdf.text(Pi.text,Gi.x+this.posX,Gi.y+this.posY,{angle:Pi.angle,align:Fi,renderingMode:Pi.renderingMode,maxWidth:Pi.maxWidth}),Pi.scale>=.01&&(this.pdf.setFontSize(fi),this.lineWidth=$i)},yi=function(Pi,Fi,Vi,Ti){Vi=Vi||0,Ti=Ti||0,this.pdf.internal.out(t(Pi+Vi)+" "+r(Fi+Ti)+" l")},gi=function(Pi,Fi,Vi){return this.pdf.lines(Pi,Fi,Vi,null,null)},_i=function(Pi,Fi,Vi,Ti,ji,Gi,Yi,Xi){this.pdf.internal.out([e(Ve(Vi+Pi)),e(je(Ti+Fi)),e(Ve(ji+Pi)),e(je(Gi+Fi)),e(Ve(Yi+Pi)),e(je(Xi+Fi)),"c"].join(" "))},Ai=function(Pi,Fi,Vi,Ti){for(var ji=2*Math.PI,Gi=Math.PI/2;Fi>Vi;)Fi-=ji;var Yi=Math.abs(Vi-Fi);Yi<ji&&Ti&&(Yi=ji-Yi);for(var Xi=[],xi=Ti?-1:1,fi=Fi;Yi>1e-5;){var $i=fi+xi*Math.min(Yi,Gi);Xi.push(ki.call(this,Pi,fi,$i)),Yi-=Math.abs($i-fi),fi=$i}return Xi},ki=function(Pi,Fi,Vi){var Ti=(Vi-Fi)/2,ji=Pi*Math.cos(Ti),Gi=Pi*Math.sin(Ti),Yi=ji,Xi=-Gi,xi=Yi*Yi+Xi*Xi,fi=xi+Yi*ji+Xi*Gi,$i=4/3*(Math.sqrt(2*xi*fi)-fi)/(Yi*Gi-Xi*ji),bi=Yi-$i*Xi,Ci=Xi+$i*Yi,Ei=bi,Si=-Ci,zi=Ti+Fi,Ki=Math.cos(zi),Ui=Math.sin(zi);return{x1:Pi*Math.cos(Fi),y1:Pi*Math.sin(Fi),x2:bi*Ki-Ci*Ui,y2:bi*Ui+Ci*Ki,x3:Ei*Ki-Si*Ui,y3:Ei*Ui+Si*Ki,x4:Pi*Math.cos(Vi),y4:Pi*Math.sin(Vi)}},vi=function(Pi){return 180*Pi/Math.PI},Mi=function(Pi,Fi,Vi,Ti,ji,Gi){var Yi=Pi+.5*(Vi-Pi),Xi=Fi+.5*(Ti-Fi),xi=ji+.5*(Vi-ji),fi=Gi+.5*(Ti-Gi),$i=Math.min(Pi,ji,Yi,xi),bi=Math.max(Pi,ji,Yi,xi),Ci=Math.min(Fi,Gi,Xi,fi),Ei=Math.max(Fi,Gi,Xi,fi);return new Xe($i,Ci,bi-$i,Ei-Ci)},Di=function(Pi,Fi,Vi,Ti,ji,Gi,Yi,Xi){var xi,fi,$i,bi,Ci,Ei,Si,zi,Ki,Ui,Ji,gn,hn,un,Mn=Vi-Pi,sn=Ti-Fi,vn=ji-Vi,Ni=Gi-Ti,Cn=Yi-ji,cn=Xi-Gi;for(fi=0;fi<41;fi++)Ki=(Si=($i=Pi+(xi=fi/40)*Mn)+xi*((Ci=Vi+xi*vn)-$i))+xi*(Ci+xi*(ji+xi*Cn-Ci)-Si),Ui=(zi=(bi=Fi+xi*sn)+xi*((Ei=Ti+xi*Ni)-bi))+xi*(Ei+xi*(Gi+xi*cn-Ei)-zi),fi==0?(Ji=Ki,gn=Ui,hn=Ki,un=Ui):(Ji=Math.min(Ji,Ki),gn=Math.min(gn,Ui),hn=Math.max(hn,Ki),un=Math.max(un,Ui));return new Xe(Math.round(Ji),Math.round(gn),Math.round(hn-Ji),Math.round(un-gn))},Bi=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Pi,Fi,Vi=(Pi=this.ctx.lineDash,Fi=this.ctx.lineDashOffset,JSON.stringify({lineDash:Pi,lineDashOffset:Fi}));this.prevLineDash!==Vi&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Vi)}}})(E.API),function($e){var e=function(je){var ze,Xe,We,qe,Ke,Ze,Je,Qe,ti,ni;for(Xe=[],We=0,qe=(je+=ze="\0\0\0\0".slice(je.length%4||4)).length;qe>We;We+=4)(Ke=(je.charCodeAt(We)<<24)+(je.charCodeAt(We+1)<<16)+(je.charCodeAt(We+2)<<8)+je.charCodeAt(We+3))!==0?(Ze=(Ke=((Ke=((Ke=((Ke=(Ke-(ni=Ke%85))/85)-(ti=Ke%85))/85)-(Qe=Ke%85))/85)-(Je=Ke%85))/85)%85,Xe.push(Ze+33,Je+33,Qe+33,ti+33,ni+33)):Xe.push(122);return function(ri,ii){for(var ei=ii;ei>0;ei--)ri.pop()}(Xe,ze.length),String.fromCharCode.apply(String,Xe)+"~>"},t=function(je){var ze,Xe,We,qe,Ke,Ze=String,Je="length",Qe=255,ti="charCodeAt",ni="slice",ri="replace";for(je[ni](-2),je=je[ni](0,-2)[ri](/\s/g,"")[ri]("z","!!!!!"),We=[],qe=0,Ke=(je+=ze="uuuuu"[ni](je[Je]%5||5))[Je];Ke>qe;qe+=5)Xe=52200625*(je[ti](qe)-33)+614125*(je[ti](qe+1)-33)+7225*(je[ti](qe+2)-33)+85*(je[ti](qe+3)-33)+(je[ti](qe+4)-33),We.push(Qe&Xe>>24,Qe&Xe>>16,Qe&Xe>>8,Qe&Xe);return function(ii,ei){for(var St=ei;St>0;St--)ii.pop()}(We,ze[Je]),Ze.fromCharCode.apply(Ze,We)},r=function(je){var ze=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((je=je.replace(/\s/g,"")).indexOf(">")!==-1&&(je=je.substr(0,je.indexOf(">"))),je.length%2&&(je+="0"),ze.test(je)===!1)return"";for(var Xe="",We=0;We<je.length;We+=2)Xe+=String.fromCharCode("0x"+(je[We]+je[We+1]));return Xe},Ve=function(je){for(var ze=new Uint8Array(je.length),Xe=je.length;Xe--;)ze[Xe]=je.charCodeAt(Xe);return je=(ze=zlibSync(ze)).reduce(function(We,qe){return We+String.fromCharCode(qe)},"")};$e.processDataByFilters=function(je,ze){var Xe=0,We=je||"",qe=[];for(typeof(ze=ze||[])=="string"&&(ze=[ze]),Xe=0;Xe<ze.length;Xe+=1)switch(ze[Xe]){case"ASCII85Decode":case"/ASCII85Decode":We=t(We),qe.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":We=e(We),qe.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":We=r(We),qe.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":We=We.split("").map(function(Ke){return("0"+Ke.charCodeAt().toString(16)).slice(-2)}).join("")+">",qe.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":We=Ve(We),qe.push("/FlateDecode");break;default:throw new Error('The filter: "'+ze[Xe]+'" is not implemented')}return{data:We,reverseChain:qe.reverse().join(" ")}}}(E.API),function($e){$e.loadFile=function(e,t,r){return function(Ve,je,ze){je=je!==!1,ze=typeof ze=="function"?ze:function(){};var Xe=void 0;try{Xe=function(We,qe,Ke){var Ze=new XMLHttpRequest,Je=0,Qe=function(ti){var ni=ti.length,ri=[],ii=String.fromCharCode;for(Je=0;Je<ni;Je+=1)ri.push(ii(255&ti.charCodeAt(Je)));return ri.join("")};if(Ze.open("GET",We,!qe),Ze.overrideMimeType("text/plain; charset=x-user-defined"),qe===!1&&(Ze.onload=function(){Ze.status===200?Ke(Qe(this.responseText)):Ke(void 0)}),Ze.send(null),qe&&Ze.status===200)return Qe(Ze.responseText)}(Ve,je,ze)}catch{}return Xe}(e,t,r)},$e.loadImageFile=$e.loadFile}(E.API),function($e){function e(){return(n.html2canvas?Promise.resolve(n.html2canvas):__vitePreload(()=>import("./html2canvas.esm-9trwILPj-715FhcXw.js"),__vite__mapDeps([]))).catch(function(ze){return Promise.reject(new Error("Could not load html2canvas: "+ze))}).then(function(ze){return ze.default?ze.default:ze})}function t(){return(n.DOMPurify?Promise.resolve(n.DOMPurify):__vitePreload(()=>import("./purify.es-BOHfmTcu-N7bu32Oa.js"),__vite__mapDeps([]))).catch(function(ze){return Promise.reject(new Error("Could not load dompurify: "+ze))}).then(function(ze){return ze.default?ze.default:ze})}var r=function(ze){var Xe=_typeof(ze);return Xe==="undefined"?"undefined":Xe==="string"||ze instanceof String?"string":Xe==="number"||ze instanceof Number?"number":Xe==="function"||ze instanceof Function?"function":ze&&ze.constructor===Array?"array":ze&&ze.nodeType===1?"element":Xe==="object"?"object":"unknown"},Ve=function(ze,Xe){var We=document.createElement(ze);for(var qe in Xe.className&&(We.className=Xe.className),Xe.innerHTML&&Xe.dompurify&&(We.innerHTML=Xe.dompurify.sanitize(Xe.innerHTML)),Xe.style)We.style[qe]=Xe.style[qe];return We},je=function ze(Xe){var We=Object.assign(ze.convert(Promise.resolve()),JSON.parse(JSON.stringify(ze.template))),qe=ze.convert(Promise.resolve(),We);return qe=(qe=qe.setProgress(1,ze,1,[ze])).set(Xe)};(je.prototype=Object.create(Promise.prototype)).constructor=je,je.convert=function(ze,Xe){return ze.__proto__=Xe||je.prototype,ze},je.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},je.prototype.from=function(ze,Xe){return this.then(function(){switch(Xe=Xe||function(We){switch(r(We)){case"string":return"string";case"element":return We.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(ze)){case"string":return this.then(t).then(function(We){return this.set({src:Ve("div",{innerHTML:ze,dompurify:We})})});case"element":return this.set({src:ze});case"canvas":return this.set({canvas:ze});case"img":return this.set({img:ze});default:return this.error("Unknown source type.")}})},je.prototype.to=function(ze){switch(ze){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},je.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var ze={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},Xe=function We(qe,Ke){for(var Ze=qe.nodeType===3?document.createTextNode(qe.nodeValue):qe.cloneNode(!1),Je=qe.firstChild;Je;Je=Je.nextSibling)Ke!==!0&&Je.nodeType===1&&Je.nodeName==="SCRIPT"||Ze.appendChild(We(Je,Ke));return qe.nodeType===1&&(qe.nodeName==="CANVAS"?(Ze.width=qe.width,Ze.height=qe.height,Ze.getContext("2d").drawImage(qe,0,0)):qe.nodeName!=="TEXTAREA"&&qe.nodeName!=="SELECT"||(Ze.value=qe.value),Ze.addEventListener("load",function(){Ze.scrollTop=qe.scrollTop,Ze.scrollLeft=qe.scrollLeft},!0)),Ze}(this.prop.src,this.opt.html2canvas.javascriptEnabled);Xe.tagName==="BODY"&&(ze.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=Ve("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=Ve("div",{className:"html2pdf__container",style:ze}),this.prop.container.appendChild(Xe),this.prop.container.firstChild.appendChild(Ve("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},je.prototype.toCanvas=function(){var ze=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(ze).then(e).then(function(Xe){var We=Object.assign({},this.opt.html2canvas);return delete We.onrendered,Xe(this.prop.container,We)}).then(function(Xe){(this.opt.html2canvas.onrendered||function(){})(Xe),this.prop.canvas=Xe,document.body.removeChild(this.prop.overlay)})},je.prototype.toContext2d=function(){var ze=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(ze).then(e).then(function(Xe){var We=this.opt.jsPDF,qe=this.opt.fontFaces,Ke=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,Ze=Object.assign({async:!0,allowTaint:!0,scale:Ke,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete Ze.onrendered,We.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,We.context2d.posX=this.opt.x,We.context2d.posY=this.opt.y,We.context2d.margin=this.opt.margin,We.context2d.fontFaces=qe,qe)for(var Je=0;Je<qe.length;++Je){var Qe=qe[Je],ti=Qe.src.find(function(ni){return ni.format==="truetype"});ti&&We.addFont(ti.url,Qe.ref.name,Qe.ref.style)}return Ze.windowHeight=Ze.windowHeight||0,Ze.windowHeight=Ze.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):Ze.windowHeight,We.context2d.save(!0),Xe(this.prop.container,Ze)}).then(function(Xe){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(Xe),this.prop.canvas=Xe,document.body.removeChild(this.prop.overlay)})},je.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var ze=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=ze})},je.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},je.prototype.output=function(ze,Xe,We){return(We=We||"pdf").toLowerCase()==="img"||We.toLowerCase()==="image"?this.outputImg(ze,Xe):this.outputPdf(ze,Xe)},je.prototype.outputPdf=function(ze,Xe){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(ze,Xe)})},je.prototype.outputImg=function(ze){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(ze){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+ze+'" is not supported.'}})},je.prototype.save=function(ze){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(ze?{filename:ze}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},je.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},je.prototype.set=function(ze){if(r(ze)!=="object")return this;var Xe=Object.keys(ze||{}).map(function(We){if(We in je.template.prop)return function(){this.prop[We]=ze[We]};switch(We){case"margin":return this.setMargin.bind(this,ze.margin);case"jsPDF":return function(){return this.opt.jsPDF=ze.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,ze.pageSize);default:return function(){this.opt[We]=ze[We]}}},this);return this.then(function(){return this.thenList(Xe)})},je.prototype.get=function(ze,Xe){return this.then(function(){var We=ze in je.template.prop?this.prop[ze]:this.opt[ze];return Xe?Xe(We):We})},je.prototype.setMargin=function(ze){return this.then(function(){switch(r(ze)){case"number":ze=[ze,ze,ze,ze];case"array":if(ze.length===2&&(ze=[ze[0],ze[1],ze[0],ze[1]]),ze.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=ze}).then(this.setPageSize)},je.prototype.setPageSize=function(ze){function Xe(We,qe){return Math.floor(We*qe/72*96)}return this.then(function(){(ze=ze||E.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(ze.inner={width:ze.width-this.opt.margin[1]-this.opt.margin[3],height:ze.height-this.opt.margin[0]-this.opt.margin[2]},ze.inner.px={width:Xe(ze.inner.width,ze.k),height:Xe(ze.inner.height,ze.k)},ze.inner.ratio=ze.inner.height/ze.inner.width),this.prop.pageSize=ze})},je.prototype.setProgress=function(ze,Xe,We,qe){return ze!=null&&(this.progress.val=ze),Xe!=null&&(this.progress.state=Xe),We!=null&&(this.progress.n=We),qe!=null&&(this.progress.stack=qe),this.progress.ratio=this.progress.val/this.progress.state,this},je.prototype.updateProgress=function(ze,Xe,We,qe){return this.setProgress(ze?this.progress.val+ze:null,Xe||null,We?this.progress.n+We:null,qe?this.progress.stack.concat(qe):null)},je.prototype.then=function(ze,Xe){var We=this;return this.thenCore(ze,Xe,function(qe,Ke){return We.updateProgress(null,null,1,[qe]),Promise.prototype.then.call(this,function(Ze){return We.updateProgress(null,qe),Ze}).then(qe,Ke).then(function(Ze){return We.updateProgress(1),Ze})})},je.prototype.thenCore=function(ze,Xe,We){We=We||Promise.prototype.then,ze&&(ze=ze.bind(this)),Xe&&(Xe=Xe.bind(this));var qe=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:je.convert(Object.assign({},this),Promise.prototype),Ke=We.call(qe,ze,Xe);return je.convert(Ke,this.__proto__)},je.prototype.thenExternal=function(ze,Xe){return Promise.prototype.then.call(this,ze,Xe)},je.prototype.thenList=function(ze){var Xe=this;return ze.forEach(function(We){Xe=Xe.thenCore(We)}),Xe},je.prototype.catch=function(ze){ze&&(ze=ze.bind(this));var Xe=Promise.prototype.catch.call(this,ze);return je.convert(Xe,this)},je.prototype.catchExternal=function(ze){return Promise.prototype.catch.call(this,ze)},je.prototype.error=function(ze){return this.then(function(){throw new Error(ze)})},je.prototype.using=je.prototype.set,je.prototype.saveAs=je.prototype.save,je.prototype.export=je.prototype.output,je.prototype.run=je.prototype.then,E.getPageSize=function(ze,Xe,We){if(_typeof(ze)==="object"){var qe=ze;ze=qe.orientation,Xe=qe.unit||Xe,We=qe.format||We}Xe=Xe||"mm",We=We||"a4",ze=(""+(ze||"P")).toLowerCase();var Ke,Ze=(""+We).toLowerCase(),Je={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(Xe){case"pt":Ke=1;break;case"mm":Ke=72/25.4;break;case"cm":Ke=72/2.54;break;case"in":Ke=72;break;case"px":Ke=.75;break;case"pc":case"em":Ke=12;break;case"ex":Ke=6;break;default:throw"Invalid unit: "+Xe}var Qe,ti=0,ni=0;if(Je.hasOwnProperty(Ze))ti=Je[Ze][1]/Ke,ni=Je[Ze][0]/Ke;else try{ti=We[1],ni=We[0]}catch{throw new Error("Invalid format: "+We)}if(ze==="p"||ze==="portrait")ze="p",ni>ti&&(Qe=ni,ni=ti,ti=Qe);else{if(ze!=="l"&&ze!=="landscape")throw"Invalid orientation: "+ze;ze="l",ti>ni&&(Qe=ni,ni=ti,ti=Qe)}return{width:ni,height:ti,unit:Xe,k:Ke,orientation:ze}},$e.html=function(ze,Xe){(Xe=Xe||{}).callback=Xe.callback||function(){},Xe.html2canvas=Xe.html2canvas||{},Xe.html2canvas.canvas=Xe.html2canvas.canvas||this.canvas,Xe.jsPDF=Xe.jsPDF||this,Xe.fontFaces=Xe.fontFaces?Xe.fontFaces.map(jt):null;var We=new je(Xe);return Xe.worker?We:We.from(ze).doCallback()}}(E.API),E.API.addJS=function($e){return Ht=$e,this.internal.events.subscribe("postPutResources",function(){Ut=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ut+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),zt=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ht+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ut!==void 0&&zt!==void 0&&this.internal.out("/Names <</JavaScript "+Ut+" 0 R>>")}),this},function($e){var e;$e.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var Ve=t.outline.render().split(/\r\n/),je=0;je<Ve.length;je++){var ze=Ve[je],Xe=r.exec(ze);if(Xe!=null){var We=Xe[1];t.internal.newObjectDeferredBegin(We,!1)}t.internal.write(ze)}if(this.outline.createNamedDestinations){var qe=this.internal.pages.length,Ke=[];for(je=0;je<qe;je++){var Ze=t.internal.newObject();Ke.push(Ze);var Je=t.internal.getPageInfo(je+1);t.internal.write("<< /D["+Je.objId+" 0 R /XYZ null null null]>> endobj")}var Qe=t.internal.newObject();for(t.internal.write("<< /Names [ "),je=0;je<Ke.length;je++)t.internal.write("(page_"+(je+1)+")"+Ke[je]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+Qe+" 0 R"),t.internal.write(">>","endobj")}}]),$e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),$e.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,Ve,je){var ze={title:Ve,options:je,children:[]};return r==null&&(r=this.root),r.children.push(ze),ze},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var Ve=0;Ve<r.children.length;Ve++)this.genIds_r(r.children[Ve])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var Ve=this.ctx.pdf.internal.getVerticalCoordinateString,je=0;je<r.children.length;je++){var ze=r.children[je];this.objStart(ze),this.line("/Title "+this.makeString(ze.title)),this.line("/Parent "+this.makeRef(r)),je>0&&this.line("/Prev "+this.makeRef(r.children[je-1])),je<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[je+1])),ze.children.length>0&&(this.line("/First "+this.makeRef(ze.children[0])),this.line("/Last "+this.makeRef(ze.children[ze.children.length-1])));var Xe=this.count=this.count_r({count:0},ze);if(Xe>0&&this.line("/Count "+Xe),ze.options&&ze.options.pageNumber){var We=t.internal.getPageInfo(ze.options.pageNumber);this.line("/Dest ["+We.objId+" 0 R /XYZ 0 "+Ve(0)+" 0]")}this.objEnd()}for(var qe=0;qe<r.children.length;qe++)this.renderItems(r.children[qe])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,Ve){for(var je=0;je<Ve.children.length;je++)r.count++,this.count_r(r,Ve.children[je]);return r.count}}])}(E.API),function($e){var e=[192,193,194,195,196,197,198,199];$e.processJPEG=function(t,r,Ve,je,ze,Xe){var We,qe=this.decode.DCT_DECODE,Ke=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=ze||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(We=function(Ze){for(var Je,Qe=256*Ze.charCodeAt(4)+Ze.charCodeAt(5),ti=Ze.length,ni={width:0,height:0,numcomponents:1},ri=4;ri<ti;ri+=2){if(ri+=Qe,e.indexOf(Ze.charCodeAt(ri+1))!==-1){Je=256*Ze.charCodeAt(ri+5)+Ze.charCodeAt(ri+6),ni={width:256*Ze.charCodeAt(ri+7)+Ze.charCodeAt(ri+8),height:Je,numcomponents:Ze.charCodeAt(ri+9)};break}Qe=256*Ze.charCodeAt(ri+2)+Ze.charCodeAt(ri+3)}return ni}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:Xe=this.color_spaces.DEVICE_GRAY;break;case 4:Xe=this.color_spaces.DEVICE_CMYK;break;case 3:Xe=this.color_spaces.DEVICE_RGB}Ke={data:t,width:We.width,height:We.height,colorSpace:Xe,bitsPerComponent:8,filter:qe,index:r,alias:Ve}}return Ke}}(E.API);var Vt,Gt,Yt,Jt,Xt,Kt=function(){var $e,e,t;function r(je){var ze,Xe,We,qe,Ke,Ze,Je,Qe,ti,ni,ri,ii,ei,St;for(this.data=je,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},Ze=null;;){switch(ze=this.readUInt32(),ti=(function(){var oi,si;for(si=[],oi=0;oi<4;++oi)si.push(String.fromCharCode(this.data[this.pos++]));return si}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(ze);break;case"fcTL":Ze&&this.animation.frames.push(Ze),this.pos+=4,Ze={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},Ke=this.readUInt16(),qe=this.readUInt16()||100,Ze.delay=1e3*Ke/qe,Ze.disposeOp=this.data[this.pos++],Ze.blendOp=this.data[this.pos++],Ze.data=[];break;case"IDAT":case"fdAT":for(ti==="fdAT"&&(this.pos+=4,ze-=4),je=(Ze!=null?Ze.data:void 0)||this.imgData,ii=0;0<=ze?ii<ze:ii>ze;0<=ze?++ii:--ii)je.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(We=this.palette.length/3,this.transparency.indexed=this.read(ze),this.transparency.indexed.length>We)throw new Error("More transparent colors than palette size");if((ni=We-this.transparency.indexed.length)>0)for(ei=0;0<=ni?ei<ni:ei>ni;0<=ni?++ei:--ei)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(ze)[0];break;case 2:this.transparency.rgb=this.read(ze)}break;case"tEXt":Je=(ri=this.read(ze)).indexOf(0),Qe=String.fromCharCode.apply(String,ri.slice(0,Je)),this.text[Qe]=String.fromCharCode.apply(String,ri.slice(Je+1));break;case"IEND":return Ze&&this.animation.frames.push(Ze),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(St=this.colorType)===4||St===6,Xe=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*Xe,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=ze}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(je){var ze,Xe;for(Xe=[],ze=0;0<=je?ze<je:ze>je;0<=je?++ze:--ze)Xe.push(this.data[this.pos++]);return Xe},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(je){var ze=this.pixelBitlength/8,Xe=new Uint8Array(this.width*this.height*ze),We=0,qe=this;if(je==null&&(je=this.imgData),je.length===0)return new Uint8Array(0);function Ke(Ze,Je,Qe,ti){var ni,ri,ii,ei,St,oi,si,ai,ui,hi,ci,mi,di,pi,yi,gi,_i,Ai,ki,vi,Mi,Di=Math.ceil((qe.width-Ze)/Qe),Bi=Math.ceil((qe.height-Je)/ti),Pi=qe.width==Di&&qe.height==Bi;for(pi=ze*Di,mi=Pi?Xe:new Uint8Array(pi*Bi),oi=je.length,di=0,ri=0;di<Bi&&We<oi;){switch(je[We++]){case 0:for(ei=_i=0;_i<pi;ei=_i+=1)mi[ri++]=je[We++];break;case 1:for(ei=Ai=0;Ai<pi;ei=Ai+=1)ni=je[We++],St=ei<ze?0:mi[ri-ze],mi[ri++]=(ni+St)%256;break;case 2:for(ei=ki=0;ki<pi;ei=ki+=1)ni=je[We++],ii=(ei-ei%ze)/ze,yi=di&&mi[(di-1)*pi+ii*ze+ei%ze],mi[ri++]=(yi+ni)%256;break;case 3:for(ei=vi=0;vi<pi;ei=vi+=1)ni=je[We++],ii=(ei-ei%ze)/ze,St=ei<ze?0:mi[ri-ze],yi=di&&mi[(di-1)*pi+ii*ze+ei%ze],mi[ri++]=(ni+Math.floor((St+yi)/2))%256;break;case 4:for(ei=Mi=0;Mi<pi;ei=Mi+=1)ni=je[We++],ii=(ei-ei%ze)/ze,St=ei<ze?0:mi[ri-ze],di===0?yi=gi=0:(yi=mi[(di-1)*pi+ii*ze+ei%ze],gi=ii&&mi[(di-1)*pi+(ii-1)*ze+ei%ze]),si=St+yi-gi,ai=Math.abs(si-St),hi=Math.abs(si-yi),ci=Math.abs(si-gi),ui=ai<=hi&&ai<=ci?St:hi<=ci?yi:gi,mi[ri++]=(ni+ui)%256;break;default:throw new Error("Invalid filter algorithm: "+je[We-1])}if(!Pi){var Fi=((Je+di*ti)*qe.width+Ze)*ze,Vi=di*pi;for(ei=0;ei<Di;ei+=1){for(var Ti=0;Ti<ze;Ti+=1)Xe[Fi++]=mi[Vi++];Fi+=(Qe-1)*ze}}di++}}return je=unzlibSync(je),qe.interlaceMethod==1?(Ke(0,0,8,8),Ke(4,0,8,8),Ke(0,4,4,8),Ke(2,0,4,4),Ke(0,2,2,4),Ke(1,0,2,2),Ke(0,1,1,2)):Ke(0,0,1,1),Xe},r.prototype.decodePalette=function(){var je,ze,Xe,We,qe,Ke,Ze,Je,Qe;for(Xe=this.palette,Ke=this.transparency.indexed||[],qe=new Uint8Array((Ke.length||0)+Xe.length),We=0,je=0,ze=Ze=0,Je=Xe.length;Ze<Je;ze=Ze+=3)qe[We++]=Xe[ze],qe[We++]=Xe[ze+1],qe[We++]=Xe[ze+2],qe[We++]=(Qe=Ke[je++])!=null?Qe:255;return qe},r.prototype.copyToImageData=function(je,ze){var Xe,We,qe,Ke,Ze,Je,Qe,ti,ni,ri,ii;if(We=this.colors,ni=null,Xe=this.hasAlphaChannel,this.palette.length&&(ni=(ii=this._decodedPalette)!=null?ii:this._decodedPalette=this.decodePalette(),We=4,Xe=!0),ti=(qe=je.data||je).length,Ze=ni||ze,Ke=Je=0,We===1)for(;Ke<ti;)Qe=ni?4*ze[Ke/4]:Je,ri=Ze[Qe++],qe[Ke++]=ri,qe[Ke++]=ri,qe[Ke++]=ri,qe[Ke++]=Xe?Ze[Qe++]:255,Je=Qe;else for(;Ke<ti;)Qe=ni?4*ze[Ke/4]:Je,qe[Ke++]=Ze[Qe++],qe[Ke++]=Ze[Qe++],qe[Ke++]=Ze[Qe++],qe[Ke++]=Xe?Ze[Qe++]:255,Je=Qe},r.prototype.decode=function(){var je;return je=new Uint8Array(this.width*this.height*4),this.copyToImageData(je,this.decodePixels()),je};var Ve=function(){if(Object.prototype.toString.call(n)==="[object Window]"){try{e=n.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return Ve(),$e=function(je){var ze;if(Ve()===!0)return t.width=je.width,t.height=je.height,t.clearRect(0,0,je.width,je.height),t.putImageData(je,0,0),(ze=new Image).src=e.toDataURL(),ze;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(je){var ze,Xe,We,qe,Ke,Ze,Je,Qe;if(this.animation){for(Qe=[],Xe=Ke=0,Ze=(Je=this.animation.frames).length;Ke<Ze;Xe=++Ke)ze=Je[Xe],We=je.createImageData(ze.width,ze.height),qe=this.decodePixels(new Uint8Array(ze.data)),this.copyToImageData(We,qe),ze.imageData=We,Qe.push(ze.image=$e(We));return Qe}},r.prototype.renderFrame=function(je,ze){var Xe,We,qe;return Xe=(We=this.animation.frames)[ze],qe=We[ze-1],ze===0&&je.clearRect(0,0,this.width,this.height),(qe!=null?qe.disposeOp:void 0)===1?je.clearRect(qe.xOffset,qe.yOffset,qe.width,qe.height):(qe!=null?qe.disposeOp:void 0)===2&&je.putImageData(qe.imageData,qe.xOffset,qe.yOffset),Xe.blendOp===0&&je.clearRect(Xe.xOffset,Xe.yOffset,Xe.width,Xe.height),je.drawImage(Xe.image,Xe.xOffset,Xe.yOffset)},r.prototype.animate=function(je){var ze,Xe,We,qe,Ke,Ze,Je=this;return Xe=0,Ze=this.animation,qe=Ze.numFrames,We=Ze.frames,Ke=Ze.numPlays,(ze=function(){var Qe,ti;if(Qe=Xe++%qe,ti=We[Qe],Je.renderFrame(je,Qe),qe>1&&Xe/qe<Ke)return Je.animation._timeout=setTimeout(ze,ti.delay)})()},r.prototype.stopAnimation=function(){var je;return clearTimeout((je=this.animation)!=null?je._timeout:void 0)},r.prototype.render=function(je){var ze,Xe;return je._png&&je._png.stopAnimation(),je._png=this,je.width=this.width,je.height=this.height,ze=je.getContext("2d"),this.animation?(this.decodeFrames(ze),this.animate(ze)):(Xe=ze.createImageData(this.width,this.height),this.copyToImageData(Xe,this.decodePixels()),ze.putImageData(Xe,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Zt($e){var e=0;if($e[e++]!==71||$e[e++]!==73||$e[e++]!==70||$e[e++]!==56||($e[e++]+1&253)!=56||$e[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=$e[e++]|$e[e++]<<8,r=$e[e++]|$e[e++]<<8,Ve=$e[e++],je=Ve>>7,ze=1<<(7&Ve)+1;$e[e++],$e[e++];var Xe=null,We=null;je&&(Xe=e,We=ze,e+=3*ze);var qe=!0,Ke=[],Ze=0,Je=null,Qe=0,ti=null;for(this.width=t,this.height=r;qe&&e<$e.length;)switch($e[e++]){case 33:switch($e[e++]){case 255:if($e[e]!==11||$e[e+1]==78&&$e[e+2]==69&&$e[e+3]==84&&$e[e+4]==83&&$e[e+5]==67&&$e[e+6]==65&&$e[e+7]==80&&$e[e+8]==69&&$e[e+9]==50&&$e[e+10]==46&&$e[e+11]==48&&$e[e+12]==3&&$e[e+13]==1&&$e[e+16]==0)e+=14,ti=$e[e++]|$e[e++]<<8,e++;else for(e+=12;;){if(!((di=$e[e++])>=0))throw Error("Invalid block size");if(di===0)break;e+=di}break;case 249:if($e[e++]!==4||$e[e+4]!==0)throw new Error("Invalid graphics extension block.");var ni=$e[e++];Ze=$e[e++]|$e[e++]<<8,Je=$e[e++],!(1&ni)&&(Je=null),Qe=ni>>2&7,e++;break;case 254:for(;;){if(!((di=$e[e++])>=0))throw Error("Invalid block size");if(di===0)break;e+=di}break;default:throw new Error("Unknown graphic control label: 0x"+$e[e-1].toString(16))}break;case 44:var ri=$e[e++]|$e[e++]<<8,ii=$e[e++]|$e[e++]<<8,ei=$e[e++]|$e[e++]<<8,St=$e[e++]|$e[e++]<<8,oi=$e[e++],si=oi>>6&1,ai=1<<(7&oi)+1,ui=Xe,hi=We,ci=!1;oi>>7&&(ci=!0,ui=e,hi=ai,e+=3*ai);var mi=e;for(e++;;){var di;if(!((di=$e[e++])>=0))throw Error("Invalid block size");if(di===0)break;e+=di}Ke.push({x:ri,y:ii,width:ei,height:St,has_local_palette:ci,palette_offset:ui,palette_size:hi,data_offset:mi,data_length:e-mi,transparent_index:Je,interlaced:!!si,delay:Ze,disposal:Qe});break;case 59:qe=!1;break;default:throw new Error("Unknown gif block: 0x"+$e[e-1].toString(16))}this.numFrames=function(){return Ke.length},this.loopCount=function(){return ti},this.frameInfo=function(pi){if(pi<0||pi>=Ke.length)throw new Error("Frame index out of range.");return Ke[pi]},this.decodeAndBlitFrameBGRA=function(pi,yi){var gi=this.frameInfo(pi),_i=gi.width*gi.height,Ai=new Uint8Array(_i);$t($e,gi.data_offset,Ai,_i);var ki=gi.palette_offset,vi=gi.transparent_index;vi===null&&(vi=256);var Mi=gi.width,Di=t-Mi,Bi=Mi,Pi=4*(gi.y*t+gi.x),Fi=4*((gi.y+gi.height)*t+gi.x),Vi=Pi,Ti=4*Di;gi.interlaced===!0&&(Ti+=4*t*7);for(var ji=8,Gi=0,Yi=Ai.length;Gi<Yi;++Gi){var Xi=Ai[Gi];if(Bi===0&&(Bi=Mi,(Vi+=Ti)>=Fi&&(Ti=4*Di+4*t*(ji-1),Vi=Pi+(Mi+Di)*(ji<<1),ji>>=1)),Xi===vi)Vi+=4;else{var xi=$e[ki+3*Xi],fi=$e[ki+3*Xi+1],$i=$e[ki+3*Xi+2];yi[Vi++]=$i,yi[Vi++]=fi,yi[Vi++]=xi,yi[Vi++]=255}--Bi}},this.decodeAndBlitFrameRGBA=function(pi,yi){var gi=this.frameInfo(pi),_i=gi.width*gi.height,Ai=new Uint8Array(_i);$t($e,gi.data_offset,Ai,_i);var ki=gi.palette_offset,vi=gi.transparent_index;vi===null&&(vi=256);var Mi=gi.width,Di=t-Mi,Bi=Mi,Pi=4*(gi.y*t+gi.x),Fi=4*((gi.y+gi.height)*t+gi.x),Vi=Pi,Ti=4*Di;gi.interlaced===!0&&(Ti+=4*t*7);for(var ji=8,Gi=0,Yi=Ai.length;Gi<Yi;++Gi){var Xi=Ai[Gi];if(Bi===0&&(Bi=Mi,(Vi+=Ti)>=Fi&&(Ti=4*Di+4*t*(ji-1),Vi=Pi+(Mi+Di)*(ji<<1),ji>>=1)),Xi===vi)Vi+=4;else{var xi=$e[ki+3*Xi],fi=$e[ki+3*Xi+1],$i=$e[ki+3*Xi+2];yi[Vi++]=xi,yi[Vi++]=fi,yi[Vi++]=$i,yi[Vi++]=255}--Bi}}}function $t($e,e,t,r){for(var Ve=$e[e++],je=1<<Ve,ze=je+1,Xe=ze+1,We=Ve+1,qe=(1<<We)-1,Ke=0,Ze=0,Je=0,Qe=$e[e++],ti=new Int32Array(4096),ni=null;;){for(;Ke<16&&Qe!==0;)Ze|=$e[e++]<<Ke,Ke+=8,Qe===1?Qe=$e[e++]:--Qe;if(Ke<We)break;var ri=Ze&qe;if(Ze>>=We,Ke-=We,ri!==je){if(ri===ze)break;for(var ii=ri<Xe?ri:ni,ei=0,St=ii;St>je;)St=ti[St]>>8,++ei;var oi=St;if(Je+ei+(ii!==ri?1:0)>r)return void a.log("Warning, gif stream longer than expected.");t[Je++]=oi;var si=Je+=ei;for(ii!==ri&&(t[Je++]=oi),St=ii;ei--;)St=ti[St],t[--si]=255&St,St>>=8;ni!==null&&Xe<4096&&(ti[Xe++]=ni<<8|oi,Xe>=qe+1&&We<12&&(++We,qe=qe<<1|1)),ni=ri}else Xe=ze+1,qe=(1<<(We=Ve+1))-1,ni=null}return Je!==r&&a.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Qt($e){var e,t,r,Ve,je,ze=Math.floor,Xe=new Array(64),We=new Array(64),qe=new Array(64),Ke=new Array(64),Ze=new Array(65535),Je=new Array(65535),Qe=new Array(64),ti=new Array(64),ni=[],ri=0,ii=7,ei=new Array(64),St=new Array(64),oi=new Array(64),si=new Array(256),ai=new Array(2048),ui=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],hi=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],ci=[0,1,2,3,4,5,6,7,8,9,10,11],mi=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],di=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],pi=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],yi=[0,1,2,3,4,5,6,7,8,9,10,11],gi=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],_i=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ai(Pi,Fi){for(var Vi=0,Ti=0,ji=new Array,Gi=1;Gi<=16;Gi++){for(var Yi=1;Yi<=Pi[Gi];Yi++)ji[Fi[Ti]]=[],ji[Fi[Ti]][0]=Vi,ji[Fi[Ti]][1]=Gi,Ti++,Vi++;Vi*=2}return ji}function ki(Pi){for(var Fi=Pi[0],Vi=Pi[1]-1;Vi>=0;)Fi&1<<Vi&&(ri|=1<<ii),Vi--,--ii<0&&(ri==255?(vi(255),vi(0)):vi(ri),ii=7,ri=0)}function vi(Pi){ni.push(Pi)}function Mi(Pi){vi(Pi>>8&255),vi(255&Pi)}function Di(Pi,Fi,Vi,Ti,ji){for(var Gi,Yi=ji[0],Xi=ji[240],xi=function(Ui,Ji){var gn,hn,un,Mn,sn,vn,Ni,Cn,cn,fn,qi=0;for(cn=0;cn<8;++cn){gn=Ui[qi],hn=Ui[qi+1],un=Ui[qi+2],Mn=Ui[qi+3],sn=Ui[qi+4],vn=Ui[qi+5],Ni=Ui[qi+6];var an=gn+(Cn=Ui[qi+7]),yn=gn-Cn,bn=hn+Ni,Sn=hn-Ni,Fn=un+vn,kn=un-vn,Nn=Mn+sn,Hn=Mn-sn,Yn=an+Nn,tr=an-Nn,qn=bn+Fn,Jn=bn-Fn;Ui[qi]=Yn+qn,Ui[qi+4]=Yn-qn;var Qn=.707106781*(Jn+tr);Ui[qi+2]=tr+Qn,Ui[qi+6]=tr-Qn;var ar=.382683433*((Yn=Hn+kn)-(Jn=Sn+yn)),mn=.5411961*Yn+ar,Ii=1.306562965*Jn+ar,Wi=.707106781*(qn=kn+Sn),nn=yn+Wi,xn=yn-Wi;Ui[qi+5]=xn+mn,Ui[qi+3]=xn-mn,Ui[qi+1]=nn+Ii,Ui[qi+7]=nn-Ii,qi+=8}for(qi=0,cn=0;cn<8;++cn){gn=Ui[qi],hn=Ui[qi+8],un=Ui[qi+16],Mn=Ui[qi+24],sn=Ui[qi+32],vn=Ui[qi+40],Ni=Ui[qi+48];var On=gn+(Cn=Ui[qi+56]),Ln=gn-Cn,nr=hn+Ni,Kn=hn-Ni,ir=un+vn,pr=un-vn,Ur=Mn+sn,ur=Mn-sn,_r=On+Ur,lr=On-Ur,yr=nr+ir,cr=nr-ir;Ui[qi]=_r+yr,Ui[qi+32]=_r-yr;var br=.707106781*(cr+lr);Ui[qi+16]=lr+br,Ui[qi+48]=lr-br;var Er=.382683433*((_r=ur+pr)-(cr=Kn+Ln)),$r=.5411961*_r+Er,Gr=1.306562965*cr+Er,ao=.707106781*(yr=pr+Kn),lo=Ln+ao,uo=Ln-ao;Ui[qi+40]=uo+$r,Ui[qi+24]=uo-$r,Ui[qi+8]=lo+Gr,Ui[qi+56]=lo-Gr,qi++}for(cn=0;cn<64;++cn)fn=Ui[cn]*Ji[cn],Qe[cn]=fn>0?fn+.5|0:fn-.5|0;return Qe}(Pi,Fi),fi=0;fi<64;++fi)ti[ui[fi]]=xi[fi];var $i=ti[0]-Vi;Vi=ti[0],$i==0?ki(Ti[0]):(ki(Ti[Je[Gi=32767+$i]]),ki(Ze[Gi]));for(var bi=63;bi>0&&ti[bi]==0;)bi--;if(bi==0)return ki(Yi),Vi;for(var Ci,Ei=1;Ei<=bi;){for(var Si=Ei;ti[Ei]==0&&Ei<=bi;)++Ei;var zi=Ei-Si;if(zi>=16){Ci=zi>>4;for(var Ki=1;Ki<=Ci;++Ki)ki(Xi);zi&=15}Gi=32767+ti[Ei],ki(ji[(zi<<4)+Je[Gi]]),ki(Ze[Gi]),Ei++}return bi!=63&&ki(Yi),Vi}function Bi(Pi){Pi=Math.min(Math.max(Pi,1),100),je!=Pi&&(function(Fi){for(var Vi=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Ti=0;Ti<64;Ti++){var ji=ze((Vi[Ti]*Fi+50)/100);ji=Math.min(Math.max(ji,1),255),Xe[ui[Ti]]=ji}for(var Gi=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Yi=0;Yi<64;Yi++){var Xi=ze((Gi[Yi]*Fi+50)/100);Xi=Math.min(Math.max(Xi,1),255),We[ui[Yi]]=Xi}for(var xi=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],fi=0,$i=0;$i<8;$i++)for(var bi=0;bi<8;bi++)qe[fi]=1/(Xe[ui[fi]]*xi[$i]*xi[bi]*8),Ke[fi]=1/(We[ui[fi]]*xi[$i]*xi[bi]*8),fi++}(Pi<50?Math.floor(5e3/Pi):Math.floor(200-2*Pi)),je=Pi)}this.encode=function(Pi,Fi){Fi&&Bi(Fi),ni=new Array,ri=0,ii=7,Mi(65496),Mi(65504),Mi(16),vi(74),vi(70),vi(73),vi(70),vi(0),vi(1),vi(1),vi(0),Mi(1),Mi(1),vi(0),vi(0),function(){Mi(65499),Mi(132),vi(0);for(var hn=0;hn<64;hn++)vi(Xe[hn]);vi(1);for(var un=0;un<64;un++)vi(We[un])}(),function(hn,un){Mi(65472),Mi(17),vi(8),Mi(un),Mi(hn),vi(3),vi(1),vi(17),vi(0),vi(2),vi(17),vi(1),vi(3),vi(17),vi(1)}(Pi.width,Pi.height),function(){Mi(65476),Mi(418),vi(0);for(var hn=0;hn<16;hn++)vi(hi[hn+1]);for(var un=0;un<=11;un++)vi(ci[un]);vi(16);for(var Mn=0;Mn<16;Mn++)vi(mi[Mn+1]);for(var sn=0;sn<=161;sn++)vi(di[sn]);vi(1);for(var vn=0;vn<16;vn++)vi(pi[vn+1]);for(var Ni=0;Ni<=11;Ni++)vi(yi[Ni]);vi(17);for(var Cn=0;Cn<16;Cn++)vi(gi[Cn+1]);for(var cn=0;cn<=161;cn++)vi(_i[cn])}(),Mi(65498),Mi(12),vi(3),vi(1),vi(0),vi(2),vi(17),vi(3),vi(17),vi(0),vi(63),vi(0);var Vi=0,Ti=0,ji=0;ri=0,ii=7,this.encode.displayName="_encode_";for(var Gi,Yi,Xi,xi,fi,$i,bi,Ci,Ei,Si=Pi.data,zi=Pi.width,Ki=Pi.height,Ui=4*zi,Ji=0;Ji<Ki;){for(Gi=0;Gi<Ui;){for(fi=Ui*Ji+Gi,bi=-1,Ci=0,Ei=0;Ei<64;Ei++)$i=fi+(Ci=Ei>>3)*Ui+(bi=4*(7&Ei)),Ji+Ci>=Ki&&($i-=Ui*(Ji+1+Ci-Ki)),Gi+bi>=Ui&&($i-=Gi+bi-Ui+4),Yi=Si[$i++],Xi=Si[$i++],xi=Si[$i++],ei[Ei]=(ai[Yi]+ai[Xi+256>>0]+ai[xi+512>>0]>>16)-128,St[Ei]=(ai[Yi+768>>0]+ai[Xi+1024>>0]+ai[xi+1280>>0]>>16)-128,oi[Ei]=(ai[Yi+1280>>0]+ai[Xi+1536>>0]+ai[xi+1792>>0]>>16)-128;Vi=Di(ei,qe,Vi,e,r),Ti=Di(St,Ke,Ti,t,Ve),ji=Di(oi,Ke,ji,t,Ve),Gi+=32}Ji+=8}if(ii>=0){var gn=[];gn[1]=ii+1,gn[0]=(1<<ii+1)-1,ki(gn)}return Mi(65497),new Uint8Array(ni)},$e=$e||50,function(){for(var Pi=String.fromCharCode,Fi=0;Fi<256;Fi++)si[Fi]=Pi(Fi)}(),e=Ai(hi,ci),t=Ai(pi,yi),r=Ai(mi,di),Ve=Ai(gi,_i),function(){for(var Pi=1,Fi=2,Vi=1;Vi<=15;Vi++){for(var Ti=Pi;Ti<Fi;Ti++)Je[32767+Ti]=Vi,Ze[32767+Ti]=[],Ze[32767+Ti][1]=Vi,Ze[32767+Ti][0]=Ti;for(var ji=-(Fi-1);ji<=-Pi;ji++)Je[32767+ji]=Vi,Ze[32767+ji]=[],Ze[32767+ji][1]=Vi,Ze[32767+ji][0]=Fi-1+ji;Pi<<=1,Fi<<=1}}(),function(){for(var Pi=0;Pi<256;Pi++)ai[Pi]=19595*Pi,ai[Pi+256>>0]=38470*Pi,ai[Pi+512>>0]=7471*Pi+32768,ai[Pi+768>>0]=-11059*Pi,ai[Pi+1024>>0]=-21709*Pi,ai[Pi+1280>>0]=32768*Pi+8421375,ai[Pi+1536>>0]=-27439*Pi,ai[Pi+1792>>0]=-5329*Pi}(),Bi($e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function te($e,e){if(this.pos=0,this.buffer=$e,this.datav=new DataView($e.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ee($e){function e(hi){if(!hi)throw Error("assert :P")}function t(hi,ci,mi){for(var di=0;4>di;di++)if(hi[ci+di]!=mi.charCodeAt(di))return!0;return!1}function r(hi,ci,mi,di,pi){for(var yi=0;yi<pi;yi++)hi[ci+yi]=mi[di+yi]}function Ve(hi,ci,mi,di){for(var pi=0;pi<di;pi++)hi[ci+pi]=mi}function je(hi){return new Int32Array(hi)}function ze(hi,ci){for(var mi=[],di=0;di<hi;di++)mi.push(new ci);return mi}function Xe(hi,ci){var mi=[];return function di(pi,yi,gi){for(var _i=gi[yi],Ai=0;Ai<_i&&(pi.push(gi.length>yi+1?[]:new ci),!(gi.length<yi+1));Ai++)di(pi[Ai],yi+1,gi)}(mi,0,hi),mi}var We=function(){var hi=this;function ci(wi,Oi){for(var Ri=1<<Oi-1>>>0;wi&Ri;)Ri>>>=1;return Ri?(wi&Ri-1)+Ri:wi}function mi(wi,Oi,Ri,Hi,Zi){e(!(Hi%Ri));do wi[Oi+(Hi-=Ri)]=Zi;while(0<Hi)}function di(wi,Oi,Ri,Hi,Zi){if(e(2328>=Zi),512>=Zi)var en=je(512);else if((en=je(Zi))==null)return 0;return function(tn,rn,on,pn,$n,Tn){var In,Pn,jn=rn,Rn=1<<on,An=je(16),Dn=je(16);for(e($n!=0),e(pn!=null),e(tn!=null),e(0<on),Pn=0;Pn<$n;++Pn){if(15<pn[Pn])return 0;++An[pn[Pn]]}if(An[0]==$n)return 0;for(Dn[1]=0,In=1;15>In;++In){if(An[In]>1<<In)return 0;Dn[In+1]=Dn[In]+An[In]}for(Pn=0;Pn<$n;++Pn)In=pn[Pn],0<pn[Pn]&&(Tn[Dn[In]++]=Pn);if(Dn[15]==1)return(pn=new pi).g=0,pn.value=Tn[0],mi(tn,jn,1,Rn,pn),Rn;var Vn,zn=-1,Un=Rn-1,er=0,Gn=1,or=1,Wn=1<<on;for(Pn=0,In=1,$n=2;In<=on;++In,$n<<=1){if(Gn+=or<<=1,0>(or-=An[In]))return 0;for(;0<An[In];--An[In])(pn=new pi).g=In,pn.value=Tn[Pn++],mi(tn,jn+er,$n,Wn,pn),er=ci(er,In)}for(In=on+1,$n=2;15>=In;++In,$n<<=1){if(Gn+=or<<=1,0>(or-=An[In]))return 0;for(;0<An[In];--An[In]){if(pn=new pi,(er&Un)!=zn){for(jn+=Wn,Vn=1<<(zn=In)-on;15>zn&&!(0>=(Vn-=An[zn]));)++zn,Vn<<=1;Rn+=Wn=1<<(Vn=zn-on),tn[rn+(zn=er&Un)].g=Vn+on,tn[rn+zn].value=jn-rn-zn}pn.g=In-on,pn.value=Tn[Pn++],mi(tn,jn+(er>>on),$n,Wn,pn),er=ci(er,In)}}return Gn!=2*Dn[15]-1?0:Rn}(wi,Oi,Ri,Hi,Zi,en)}function pi(){this.value=this.g=0}function yi(){this.value=this.g=0}function gi(){this.G=ze(5,pi),this.H=je(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=ze(Zr,yi)}function _i(wi,Oi,Ri,Hi){e(wi!=null),e(Oi!=null),e(2147483648>Hi),wi.Ca=254,wi.I=0,wi.b=-8,wi.Ka=0,wi.oa=Oi,wi.pa=Ri,wi.Jd=Oi,wi.Yc=Ri+Hi,wi.Zc=4<=Hi?Ri+Hi-4+1:Ri,Gi(wi)}function Ai(wi,Oi){for(var Ri=0;0<Oi--;)Ri|=Xi(wi,128)<<Oi;return Ri}function ki(wi,Oi){var Ri=Ai(wi,Oi);return Yi(wi)?-Ri:Ri}function vi(wi,Oi,Ri,Hi){var Zi,en=0;for(e(wi!=null),e(Oi!=null),e(4294967288>Hi),wi.Sb=Hi,wi.Ra=0,wi.u=0,wi.h=0,4<Hi&&(Hi=4),Zi=0;Zi<Hi;++Zi)en+=Oi[Ri+Zi]<<8*Zi;wi.Ra=en,wi.bb=Hi,wi.oa=Oi,wi.pa=Ri}function Mi(wi){for(;8<=wi.u&&wi.bb<wi.Sb;)wi.Ra>>>=8,wi.Ra+=wi.oa[wi.pa+wi.bb]<<Es-8>>>0,++wi.bb,wi.u-=8;Vi(wi)&&(wi.h=1,wi.u=0)}function Di(wi,Oi){if(e(0<=Oi),!wi.h&&Oi<=Ps){var Ri=Fi(wi)&Ss[Oi];return wi.u+=Oi,Mi(wi),Ri}return wi.h=1,wi.u=0}function Bi(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Pi(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Fi(wi){return wi.Ra>>>(wi.u&Es-1)>>>0}function Vi(wi){return e(wi.bb<=wi.Sb),wi.h||wi.bb==wi.Sb&&wi.u>Es}function Ti(wi,Oi){wi.u=Oi,wi.h=Vi(wi)}function ji(wi){wi.u>=la&&(e(wi.u>=la),Mi(wi))}function Gi(wi){e(wi!=null&&wi.oa!=null),wi.pa<wi.Zc?(wi.I=(wi.oa[wi.pa++]|wi.I<<8)>>>0,wi.b+=8):(e(wi!=null&&wi.oa!=null),wi.pa<wi.Yc?(wi.b+=8,wi.I=wi.oa[wi.pa++]|wi.I<<8):wi.Ka?wi.b=0:(wi.I<<=8,wi.b+=8,wi.Ka=1))}function Yi(wi){return Ai(wi,1)}function Xi(wi,Oi){var Ri=wi.Ca;0>wi.b&&Gi(wi);var Hi=wi.b,Zi=Ri*Oi>>>8,en=(wi.I>>>Hi>Zi)+0;for(en?(Ri-=Zi,wi.I-=Zi+1<<Hi>>>0):Ri=Zi+1,Hi=Ri,Zi=0;256<=Hi;)Zi+=8,Hi>>=8;return Hi=7^Zi+Jr[Hi],wi.b-=Hi,wi.Ca=(Ri<<Hi)-1,en}function xi(wi,Oi,Ri){wi[Oi+0]=Ri>>24&255,wi[Oi+1]=Ri>>16&255,wi[Oi+2]=Ri>>8&255,wi[Oi+3]=Ri>>0&255}function fi(wi,Oi){return wi[Oi+0]<<0|wi[Oi+1]<<8}function $i(wi,Oi){return fi(wi,Oi)|wi[Oi+2]<<16}function bi(wi,Oi){return fi(wi,Oi)|fi(wi,Oi+2)<<16}function Ci(wi,Oi){var Ri=1<<Oi;return e(wi!=null),e(0<Oi),wi.X=je(Ri),wi.X==null?0:(wi.Mb=32-Oi,wi.Xa=Oi,1)}function Ei(wi,Oi){e(wi!=null),e(Oi!=null),e(wi.Xa==Oi.Xa),r(Oi.X,0,wi.X,0,1<<Oi.Xa)}function Si(){this.X=[],this.Xa=this.Mb=0}function zi(wi,Oi,Ri,Hi){e(Ri!=null),e(Hi!=null);var Zi=Ri[0],en=Hi[0];return Zi==0&&(Zi=(wi*en+Oi/2)/Oi),en==0&&(en=(Oi*Zi+wi/2)/wi),0>=Zi||0>=en?0:(Ri[0]=Zi,Hi[0]=en,1)}function Ki(wi,Oi){return wi+(1<<Oi)-1>>>Oi}function Ui(wi,Oi){return((4278255360&wi)+(4278255360&Oi)>>>0&4278255360)+((16711935&wi)+(16711935&Oi)>>>0&16711935)>>>0}function Ji(wi,Oi){hi[Oi]=function(Ri,Hi,Zi,en,tn,rn,on){var pn;for(pn=0;pn<tn;++pn){var $n=hi[wi](rn[on+pn-1],Zi,en+pn);rn[on+pn]=Ui(Ri[Hi+pn],$n)}}}function gn(){this.ud=this.hd=this.jd=0}function hn(wi,Oi){return((4278124286&(wi^Oi))>>>1)+(wi&Oi)>>>0}function un(wi){return 0<=wi&&256>wi?wi:0>wi?0:255<wi?255:void 0}function Mn(wi,Oi){return un(wi+(wi-Oi+.5>>1))}function sn(wi,Oi,Ri){return Math.abs(Oi-Ri)-Math.abs(wi-Ri)}function vn(wi,Oi,Ri,Hi,Zi,en,tn){for(Hi=en[tn-1],Ri=0;Ri<Zi;++Ri)en[tn+Ri]=Hi=Ui(wi[Oi+Ri],Hi)}function Ni(wi,Oi,Ri,Hi,Zi){var en;for(en=0;en<Ri;++en){var tn=wi[Oi+en],rn=tn>>8&255,on=16711935&(on=(on=16711935&tn)+((rn<<16)+rn));Hi[Zi+en]=(4278255360&tn)+on>>>0}}function Cn(wi,Oi){Oi.jd=wi>>0&255,Oi.hd=wi>>8&255,Oi.ud=wi>>16&255}function cn(wi,Oi,Ri,Hi,Zi,en){var tn;for(tn=0;tn<Hi;++tn){var rn=Oi[Ri+tn],on=rn>>>8,pn=rn,$n=255&($n=($n=rn>>>16)+((wi.jd<<24>>24)*(on<<24>>24)>>>5));pn=255&(pn=(pn=pn+((wi.hd<<24>>24)*(on<<24>>24)>>>5))+((wi.ud<<24>>24)*($n<<24>>24)>>>5)),Zi[en+tn]=(4278255360&rn)+($n<<16)+pn}}function fn(wi,Oi,Ri,Hi,Zi){hi[Oi]=function(en,tn,rn,on,pn,$n,Tn,In,Pn){for(on=Tn;on<In;++on)for(Tn=0;Tn<Pn;++Tn)pn[$n++]=Zi(rn[Hi(en[tn++])])},hi[wi]=function(en,tn,rn,on,pn,$n,Tn){var In=8>>en.b,Pn=en.Ea,jn=en.K[0],Rn=en.w;if(8>In)for(en=(1<<en.b)-1,Rn=(1<<In)-1;tn<rn;++tn){var An,Dn=0;for(An=0;An<Pn;++An)An&en||(Dn=Hi(on[pn++])),$n[Tn++]=Zi(jn[Dn&Rn]),Dn>>=In}else hi["VP8LMapColor"+Ri](on,pn,jn,Rn,$n,Tn,tn,rn,Pn)}}function qi(wi,Oi,Ri,Hi,Zi){for(Ri=Oi+Ri;Oi<Ri;){var en=wi[Oi++];Hi[Zi++]=en>>16&255,Hi[Zi++]=en>>8&255,Hi[Zi++]=en>>0&255}}function an(wi,Oi,Ri,Hi,Zi){for(Ri=Oi+Ri;Oi<Ri;){var en=wi[Oi++];Hi[Zi++]=en>>16&255,Hi[Zi++]=en>>8&255,Hi[Zi++]=en>>0&255,Hi[Zi++]=en>>24&255}}function yn(wi,Oi,Ri,Hi,Zi){for(Ri=Oi+Ri;Oi<Ri;){var en=(tn=wi[Oi++])>>16&240|tn>>12&15,tn=tn>>0&240|tn>>28&15;Hi[Zi++]=en,Hi[Zi++]=tn}}function bn(wi,Oi,Ri,Hi,Zi){for(Ri=Oi+Ri;Oi<Ri;){var en=(tn=wi[Oi++])>>16&248|tn>>13&7,tn=tn>>5&224|tn>>3&31;Hi[Zi++]=en,Hi[Zi++]=tn}}function Sn(wi,Oi,Ri,Hi,Zi){for(Ri=Oi+Ri;Oi<Ri;){var en=wi[Oi++];Hi[Zi++]=en>>0&255,Hi[Zi++]=en>>8&255,Hi[Zi++]=en>>16&255}}function Fn(wi,Oi,Ri,Hi,Zi,en){if(en==0)for(Ri=Oi+Ri;Oi<Ri;)xi(Hi,((en=wi[Oi++])[0]>>24|en[1]>>8&65280|en[2]<<8&16711680|en[3]<<24)>>>0),Zi+=32;else r(Hi,Zi,wi,Oi,Ri)}function kn(wi,Oi){hi[Oi][0]=hi[wi+"0"],hi[Oi][1]=hi[wi+"1"],hi[Oi][2]=hi[wi+"2"],hi[Oi][3]=hi[wi+"3"],hi[Oi][4]=hi[wi+"4"],hi[Oi][5]=hi[wi+"5"],hi[Oi][6]=hi[wi+"6"],hi[Oi][7]=hi[wi+"7"],hi[Oi][8]=hi[wi+"8"],hi[Oi][9]=hi[wi+"9"],hi[Oi][10]=hi[wi+"10"],hi[Oi][11]=hi[wi+"11"],hi[Oi][12]=hi[wi+"12"],hi[Oi][13]=hi[wi+"13"],hi[Oi][14]=hi[wi+"0"],hi[Oi][15]=hi[wi+"0"]}function Nn(wi){return wi==Gl||wi==ql||wi==Za||wi==Yl}function Hn(){this.eb=[],this.size=this.A=this.fb=0}function Yn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function tr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Hn,this.f.kb=new Yn,this.sd=null}function qn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Jn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Qn(wi){return alert("todo:WebPSamplerProcessPlane"),wi.T}function ar(wi,Oi){var Ri=wi.T,Hi=Oi.ba.f.RGBA,Zi=Hi.eb,en=Hi.fb+wi.ka*Hi.A,tn=po[Oi.ba.S],rn=wi.y,on=wi.O,pn=wi.f,$n=wi.N,Tn=wi.ea,In=wi.W,Pn=Oi.cc,jn=Oi.dc,Rn=Oi.Mc,An=Oi.Nc,Dn=wi.ka,Vn=wi.ka+wi.T,zn=wi.U,Un=zn+1>>1;for(Dn==0?tn(rn,on,null,null,pn,$n,Tn,In,pn,$n,Tn,In,Zi,en,null,null,zn):(tn(Oi.ec,Oi.fc,rn,on,Pn,jn,Rn,An,pn,$n,Tn,In,Zi,en-Hi.A,Zi,en,zn),++Ri);Dn+2<Vn;Dn+=2)Pn=pn,jn=$n,Rn=Tn,An=In,$n+=wi.Rc,In+=wi.Rc,en+=2*Hi.A,tn(rn,(on+=2*wi.fa)-wi.fa,rn,on,Pn,jn,Rn,An,pn,$n,Tn,In,Zi,en-Hi.A,Zi,en,zn);return on+=wi.fa,wi.j+Vn<wi.o?(r(Oi.ec,Oi.fc,rn,on,zn),r(Oi.cc,Oi.dc,pn,$n,Un),r(Oi.Mc,Oi.Nc,Tn,In,Un),Ri--):1&Vn||tn(rn,on,null,null,pn,$n,Tn,In,pn,$n,Tn,In,Zi,en+Hi.A,null,null,zn),Ri}function mn(wi,Oi,Ri){var Hi=wi.F,Zi=[wi.J];if(Hi!=null){var en=wi.U,tn=Oi.ba.S,rn=tn==Ka||tn==Za;Oi=Oi.ba.f.RGBA;var on=[0],pn=wi.ka;on[0]=wi.T,wi.Kb&&(pn==0?--on[0]:(--pn,Zi[0]-=wi.width),wi.j+wi.ka+wi.T==wi.o&&(on[0]=wi.o-wi.j-pn));var $n=Oi.eb;pn=Oi.fb+pn*Oi.A,wi=Xa(Hi,Zi[0],wi.width,en,on,$n,pn+(rn?0:3),Oi.A),e(Ri==on),wi&&Nn(tn)&&Qo($n,pn,rn,en,on,Oi.A)}return 0}function Ii(wi){var Oi=wi.ma,Ri=Oi.ba.S,Hi=11>Ri,Zi=Ri==Ya||Ri==Wa||Ri==Ka||Ri==Xl||Ri==12||Nn(Ri);if(Oi.memory=null,Oi.Ib=null,Oi.Jb=null,Oi.Nd=null,!sa(Oi.Oa,wi,Zi?11:12))return 0;if(Zi&&Nn(Ri)&&Xn(),wi.da)alert("todo:use_scaling");else{if(Hi){if(Oi.Ib=Qn,wi.Kb){if(Ri=wi.U+1>>1,Oi.memory=je(wi.U+2*Ri),Oi.memory==null)return 0;Oi.ec=Oi.memory,Oi.fc=0,Oi.cc=Oi.ec,Oi.dc=Oi.fc+wi.U,Oi.Mc=Oi.cc,Oi.Nc=Oi.dc+Ri,Oi.Ib=ar,Xn()}}else alert("todo:EmitYUV");Zi&&(Oi.Jb=mn,Hi&&En())}if(Hi&&!ju){for(wi=0;256>wi;++wi)wc[wi]=89858*(wi-128)+Qa>>Ja,_c[wi]=-22014*(wi-128)+Qa,vc[wi]=-45773*(wi-128),bc[wi]=113618*(wi-128)+Qa>>Ja;for(wi=fa;wi<Zl;++wi)Oi=76283*(wi-16)+Qa>>Ja,$c[wi-fa]=ho(Oi,255),Ac[wi-fa]=ho(Oi+8>>4,15);ju=1}return 1}function Wi(wi){var Oi=wi.ma,Ri=wi.U,Hi=wi.T;return e(!(1&wi.ka)),0>=Ri||0>=Hi?0:(Ri=Oi.Ib(wi,Oi),Oi.Jb!=null&&Oi.Jb(wi,Oi,Ri),Oi.Dc+=Ri,1)}function nn(wi){wi.ma.memory=null}function xn(wi,Oi,Ri,Hi){return Di(wi,8)!=47?0:(Oi[0]=Di(wi,14)+1,Ri[0]=Di(wi,14)+1,Hi[0]=Di(wi,1),Di(wi,3)!=0?0:!wi.h)}function On(wi,Oi){if(4>wi)return wi+1;var Ri=wi-2>>1;return(2+(1&wi)<<Ri)+Di(Oi,Ri)+1}function Ln(wi,Oi){return 120<Oi?Oi-120:1<=(Ri=((Ri=rc[Oi-1])>>4)*wi+(8-(15&Ri)))?Ri:1;var Ri}function nr(wi,Oi,Ri){var Hi=Fi(Ri),Zi=wi[Oi+=255&Hi].g-8;return 0<Zi&&(Ti(Ri,Ri.u+8),Hi=Fi(Ri),Oi+=wi[Oi].value,Oi+=Hi&(1<<Zi)-1),Ti(Ri,Ri.u+wi[Oi].g),wi[Oi].value}function Kn(wi,Oi,Ri){return Ri.g+=wi.g,Ri.value+=wi.value<<Oi>>>0,e(8>=Ri.g),wi.g}function ir(wi,Oi,Ri){var Hi=wi.xc;return e((Oi=Hi==0?0:wi.vc[wi.md*(Ri>>Hi)+(Oi>>Hi)])<wi.Wb),wi.Ya[Oi]}function pr(wi,Oi,Ri,Hi){var Zi=wi.ab,en=wi.c*Oi,tn=wi.C;Oi=tn+Oi;var rn=Ri,on=Hi;for(Hi=wi.Ta,Ri=wi.Ua;0<Zi--;){var pn=wi.gc[Zi],$n=tn,Tn=Oi,In=rn,Pn=on,jn=(on=Hi,rn=Ri,pn.Ea);switch(e($n<Tn),e(Tn<=pn.nc),pn.hc){case 2:Ha(In,Pn,(Tn-$n)*jn,on,rn);break;case 0:var Rn=$n,An=Tn,Dn=on,Vn=rn,zn=(Wn=pn).Ea;Rn==0&&(Ul(In,Pn,null,null,1,Dn,Vn),vn(In,Pn+1,0,0,zn-1,Dn,Vn+1),Pn+=zn,Vn+=zn,++Rn);for(var Un=1<<Wn.b,er=Un-1,Gn=Ki(zn,Wn.b),or=Wn.K,Wn=Wn.w+(Rn>>Wn.b)*Gn;Rn<An;){var vr=or,Ar=Wn,wr=1;for(ua(In,Pn,Dn,Vn-zn,1,Dn,Vn);wr<zn;){var gr=(wr&~er)+Un;gr>zn&&(gr=zn),(0,Wo[vr[Ar++]>>8&15])(In,Pn+ +wr,Dn,Vn+wr-zn,gr-wr,Dn,Vn+wr),wr=gr}Pn+=zn,Vn+=zn,++Rn&er||(Wn+=Gn)}Tn!=pn.nc&&r(on,rn-jn,on,rn+(Tn-$n-1)*jn,jn);break;case 1:for(jn=In,An=Pn,zn=(In=pn.Ea)-(Vn=In&~(Dn=(Pn=1<<pn.b)-1)),Rn=Ki(In,pn.b),Un=pn.K,pn=pn.w+($n>>pn.b)*Rn;$n<Tn;){for(er=Un,Gn=pn,or=new gn,Wn=An+Vn,vr=An+In;An<Wn;)Cn(er[Gn++],or),co(or,jn,An,Pn,on,rn),An+=Pn,rn+=Pn;An<vr&&(Cn(er[Gn++],or),co(or,jn,An,zn,on,rn),An+=zn,rn+=zn),++$n&Dn||(pn+=Rn)}break;case 3:if(In==on&&Pn==rn&&0<pn.b){for(An=on,In=jn=rn+(Tn-$n)*jn-(Vn=(Tn-$n)*Ki(pn.Ea,pn.b)),Pn=on,Dn=rn,Rn=[],Vn=(zn=Vn)-1;0<=Vn;--Vn)Rn[Vn]=Pn[Dn+Vn];for(Vn=zn-1;0<=Vn;--Vn)An[In+Vn]=Rn[Vn];bo(pn,$n,Tn,on,jn,on,rn)}else bo(pn,$n,Tn,In,Pn,on,rn)}rn=Hi,on=Ri}on!=Ri&&r(Hi,Ri,rn,on,en)}function Ur(wi,Oi){var Ri=wi.V,Hi=wi.Ba+wi.c*wi.C,Zi=Oi-wi.C;if(e(Oi<=wi.l.o),e(16>=Zi),0<Zi){var en=wi.l,tn=wi.Ta,rn=wi.Ua,on=en.width;if(pr(wi,Zi,Ri,Hi),Zi=rn=[rn],e((Ri=wi.C)<(Hi=Oi)),e(en.v<en.va),Hi>en.o&&(Hi=en.o),Ri<en.j){var pn=en.j-Ri;Ri=en.j,Zi[0]+=pn*on}if(Ri>=Hi?Ri=0:(Zi[0]+=4*en.v,en.ka=Ri-en.j,en.U=en.va-en.v,en.T=Hi-Ri,Ri=1),Ri){if(rn=rn[0],11>(Ri=wi.ca).S){var $n=Ri.f.RGBA,Tn=(Hi=Ri.S,Zi=en.U,en=en.T,pn=$n.eb,$n.A),In=en;for($n=$n.fb+wi.Ma*$n.A;0<In--;){var Pn=tn,jn=rn,Rn=Zi,An=pn,Dn=$n;switch(Hi){case qa:vo(Pn,jn,Rn,An,Dn);break;case Ya:Ko(Pn,jn,Rn,An,Dn);break;case Gl:Ko(Pn,jn,Rn,An,Dn),Qo(An,Dn,0,Rn,1,0);break;case Ou:ks(Pn,jn,Rn,An,Dn);break;case Wa:Fn(Pn,jn,Rn,An,Dn,1);break;case ql:Fn(Pn,jn,Rn,An,Dn,1),Qo(An,Dn,0,Rn,1,0);break;case Ka:Fn(Pn,jn,Rn,An,Dn,0);break;case Za:Fn(Pn,jn,Rn,An,Dn,0),Qo(An,Dn,1,Rn,1,0);break;case Xl:To(Pn,jn,Rn,An,Dn);break;case Yl:To(Pn,jn,Rn,An,Dn),Is(An,Dn,Rn,1,0);break;case Tu:Fo(Pn,jn,Rn,An,Dn);break;default:e(0)}rn+=on,$n+=Tn}wi.Ma+=en}else alert("todo:EmitRescaledRowsYUVA");e(wi.Ma<=Ri.height)}}wi.C=Oi,e(wi.C<=wi.i)}function ur(wi){var Oi;if(0<wi.ua)return 0;for(Oi=0;Oi<wi.Wb;++Oi){var Ri=wi.Ya[Oi].G,Hi=wi.Ya[Oi].H;if(0<Ri[1][Hi[1]+0].g||0<Ri[2][Hi[2]+0].g||0<Ri[3][Hi[3]+0].g)return 0}return 1}function _r(wi,Oi,Ri,Hi,Zi,en){if(wi.Z!=0){var tn=wi.qd,rn=wi.rd;for(e(ts[wi.Z]!=null);Oi<Ri;++Oi)ts[wi.Z](tn,rn,Hi,Zi,Hi,Zi,en),tn=Hi,rn=Zi,Zi+=en;wi.qd=tn,wi.rd=rn}}function lr(wi,Oi){var Ri=wi.l.ma,Hi=Ri.Z==0||Ri.Z==1?wi.l.j:wi.C;if(Hi=wi.C<Hi?Hi:wi.C,e(Oi<=wi.l.o),Oi>Hi){var Zi=wi.l.width,en=Ri.ca,tn=Ri.tb+Zi*Hi,rn=wi.V,on=wi.Ba+wi.c*Hi,pn=wi.gc;e(wi.ab==1),e(pn[0].hc==3),jl(pn[0],Hi,Oi,rn,on,en,tn),_r(Ri,Hi,Oi,en,tn,Zi)}wi.C=wi.Ma=Oi}function yr(wi,Oi,Ri,Hi,Zi,en,tn){var rn=wi.$/Hi,on=wi.$%Hi,pn=wi.m,$n=wi.s,Tn=Ri+wi.$,In=Tn;Zi=Ri+Hi*Zi;var Pn=Ri+Hi*en,jn=280+$n.ua,Rn=wi.Pb?rn:16777216,An=0<$n.ua?$n.Wa:null,Dn=$n.wc,Vn=Tn<Pn?ir($n,on,rn):null;e(wi.C<en),e(Pn<=Zi);var zn=!1;e:for(;;){for(;zn||Tn<Pn;){var Un=0;if(rn>=Rn){var er=Tn-Ri;e((Rn=wi).Pb),Rn.wd=Rn.m,Rn.xd=er,0<Rn.s.ua&&Ei(Rn.s.Wa,Rn.s.vb),Rn=rn+sc}if(on&Dn||(Vn=ir($n,on,rn)),e(Vn!=null),Vn.Qb&&(Oi[Tn]=Vn.qb,zn=!0),!zn)if(ji(pn),Vn.jc){Un=pn,er=Oi;var Gn=Tn,or=Vn.pd[Fi(Un)&Zr-1];e(Vn.jc),256>or.g?(Ti(Un,Un.u+or.g),er[Gn]=or.value,Un=0):(Ti(Un,Un.u+or.g-256),e(256<=or.value),Un=or.value),Un==0&&(zn=!0)}else Un=nr(Vn.G[0],Vn.H[0],pn);if(pn.h)break;if(zn||256>Un){if(!zn)if(Vn.nd)Oi[Tn]=(Vn.qb|Un<<8)>>>0;else{if(ji(pn),zn=nr(Vn.G[1],Vn.H[1],pn),ji(pn),er=nr(Vn.G[2],Vn.H[2],pn),Gn=nr(Vn.G[3],Vn.H[3],pn),pn.h)break;Oi[Tn]=(Gn<<24|zn<<16|Un<<8|er)>>>0}if(zn=!1,++Tn,++on>=Hi&&(on=0,++rn,tn!=null&&rn<=en&&!(rn%16)&&tn(wi,rn),An!=null))for(;In<Tn;)Un=Oi[In++],An.X[(506832829*Un&4294967295)>>>An.Mb]=Un}else if(280>Un){if(Un=On(Un-256,pn),er=nr(Vn.G[4],Vn.H[4],pn),ji(pn),er=Ln(Hi,er=On(er,pn)),pn.h)break;if(Tn-Ri<er||Zi-Tn<Un)break e;for(Gn=0;Gn<Un;++Gn)Oi[Tn+Gn]=Oi[Tn+Gn-er];for(Tn+=Un,on+=Un;on>=Hi;)on-=Hi,++rn,tn!=null&&rn<=en&&!(rn%16)&&tn(wi,rn);if(e(Tn<=Zi),on&Dn&&(Vn=ir($n,on,rn)),An!=null)for(;In<Tn;)Un=Oi[In++],An.X[(506832829*Un&4294967295)>>>An.Mb]=Un}else{if(!(Un<jn))break e;for(zn=Un-280,e(An!=null);In<Tn;)Un=Oi[In++],An.X[(506832829*Un&4294967295)>>>An.Mb]=Un;Un=Tn,e(!(zn>>>(er=An).Xa)),Oi[Un]=er.X[zn],zn=!0}zn||e(pn.h==Vi(pn))}if(wi.Pb&&pn.h&&Tn<Zi)e(wi.m.h),wi.a=5,wi.m=wi.wd,wi.$=wi.xd,0<wi.s.ua&&Ei(wi.s.vb,wi.s.Wa);else{if(pn.h)break e;tn!=null&&tn(wi,rn>en?en:rn),wi.a=0,wi.$=Tn-Ri}return 1}return wi.a=3,0}function cr(wi){e(wi!=null),wi.vc=null,wi.yc=null,wi.Ya=null;var Oi=wi.Wa;Oi!=null&&(Oi.X=null),wi.vb=null,e(wi!=null)}function br(){var wi=new Vl;return wi==null?null:(wi.a=0,wi.xb=Nu,kn("Predictor","VP8LPredictors"),kn("Predictor","VP8LPredictors_C"),kn("PredictorAdd","VP8LPredictorsAdd"),kn("PredictorAdd","VP8LPredictorsAdd_C"),Ha=Ni,co=cn,vo=qi,Ko=an,To=yn,Fo=bn,ks=Sn,hi.VP8LMapColor32b=ha,hi.VP8LMapColor8b=zl,wi)}function Er(wi,Oi,Ri,Hi,Zi){var en=1,tn=[wi],rn=[Oi],on=Hi.m,pn=Hi.s,$n=null,Tn=0;e:for(;;){if(Ri)for(;en&&Di(on,1);){var In=tn,Pn=rn,jn=Hi,Rn=1,An=jn.m,Dn=jn.gc[jn.ab],Vn=Di(An,2);if(jn.Oc&1<<Vn)en=0;else{switch(jn.Oc|=1<<Vn,Dn.hc=Vn,Dn.Ea=In[0],Dn.nc=Pn[0],Dn.K=[null],++jn.ab,e(4>=jn.ab),Vn){case 0:case 1:Dn.b=Di(An,3)+2,Rn=Er(Ki(Dn.Ea,Dn.b),Ki(Dn.nc,Dn.b),0,jn,Dn.K),Dn.K=Dn.K[0];break;case 3:var zn,Un=Di(An,8)+1,er=16<Un?0:4<Un?1:2<Un?2:3;if(In[0]=Ki(Dn.Ea,er),Dn.b=er,zn=Rn=Er(Un,1,0,jn,Dn.K)){var Gn,or=Un,Wn=Dn,vr=1<<(8>>Wn.b),Ar=je(vr);if(Ar==null)zn=0;else{var wr=Wn.K[0],gr=Wn.w;for(Ar[0]=Wn.K[0][0],Gn=1;Gn<1*or;++Gn)Ar[Gn]=Ui(wr[gr+Gn],Ar[Gn-1]);for(;Gn<4*vr;++Gn)Ar[Gn]=0;Wn.K[0]=null,Wn.K[0]=Ar,zn=1}}Rn=zn;break;case 2:break;default:e(0)}en=Rn}}if(tn=tn[0],rn=rn[0],en&&Di(on,1)&&!(en=1<=(Tn=Di(on,4))&&11>=Tn)){Hi.a=3;break e}var Dr;if(Dr=en)t:{var Mr,mr,Rr,Qr=Hi,Fr=tn,eo=rn,Cr=Tn,oo=Ri,so=Qr.m,zr=Qr.s,Xr=[null],Wr=1,go=0,Io=oc[Cr];i:for(;;){if(oo&&Di(so,1)){var Hr=Di(so,3)+2,zo=Ki(Fr,Hr),ms=Ki(eo,Hr),Ls=zo*ms;if(!Er(zo,ms,0,Qr,Xr))break i;for(Xr=Xr[0],zr.xc=Hr,Mr=0;Mr<Ls;++Mr){var is=Xr[Mr]>>8&65535;Xr[Mr]=is,is>=Wr&&(Wr=is+1)}}if(so.h)break i;for(mr=0;5>mr;++mr){var Or=Iu[mr];!mr&&0<Cr&&(Or+=1<<Cr),go<Or&&(go=Or)}var Jl=ze(Wr*Io,pi),Xu=Wr,Gu=ze(Xu,gi);if(Gu==null)var tl=null;else e(65536>=Xu),tl=Gu;var pa=je(go);if(tl==null||pa==null||Jl==null){Qr.a=1;break i}var il=Jl;for(Mr=Rr=0;Mr<Wr;++Mr){var Co=tl[Mr],Ns=Co.G,Rs=Co.H,qu=0,nl=1,Yu=0;for(mr=0;5>mr;++mr){Or=Iu[mr],Ns[mr]=il,Rs[mr]=Rr,!mr&&0<Cr&&(Or+=1<<Cr);r:{var rl,Ql=Or,ol=Qr,ga=pa,Dc=il,Sc=Rr,eu=0,ns=ol.m,Pc=Di(ns,1);if(Ve(ga,0,0,Ql),Pc){var Ec=Di(ns,1)+1,kc=Di(ns,1),Wu=Di(ns,kc==0?1:8);ga[Wu]=1,Ec==2&&(ga[Wu=Di(ns,8)]=1);var sl=1}else{var Ku=je(19),Zu=Di(ns,4)+4;if(19<Zu){ol.a=3;var al=0;break r}for(rl=0;rl<Zu;++rl)Ku[nc[rl]]=Di(ns,3);var tu=void 0,ya=void 0,Ju=ol,Oc=Ku,ll=Ql,Qu=ga,iu=0,rs=Ju.m,eh=8,th=ze(128,pi);n:for(;di(th,0,7,Oc,19);){if(Di(rs,1)){var Tc=2+2*Di(rs,3);if((tu=2+Di(rs,Tc))>ll)break n}else tu=ll;for(ya=0;ya<ll&&tu--;){ji(rs);var ih=th[0+(127&Fi(rs))];Ti(rs,rs.u+ih.g);var Fs=ih.value;if(16>Fs)Qu[ya++]=Fs,Fs!=0&&(eh=Fs);else{var Ic=Fs==16,nh=Fs-16,Lc=tc[nh],rh=Di(rs,ec[nh])+Lc;if(ya+rh>ll)break n;for(var Nc=Ic?eh:0;0<rh--;)Qu[ya++]=Nc}}iu=1;break n}iu||(Ju.a=3),sl=iu}(sl=sl&&!ns.h)&&(eu=di(Dc,Sc,8,ga,Ql)),sl&&eu!=0?al=eu:(ol.a=3,al=0)}if(al==0)break i;if(nl&&ic[mr]==1&&(nl=il[Rr].g==0),qu+=il[Rr].g,Rr+=al,3>=mr){var xa,nu=pa[0];for(xa=1;xa<Or;++xa)pa[xa]>nu&&(nu=pa[xa]);Yu+=nu}}if(Co.nd=nl,Co.Qb=0,nl&&(Co.qb=(Ns[3][Rs[3]+0].value<<24|Ns[1][Rs[1]+0].value<<16|Ns[2][Rs[2]+0].value)>>>0,qu==0&&256>Ns[0][Rs[0]+0].value&&(Co.Qb=1,Co.qb+=Ns[0][Rs[0]+0].value<<8)),Co.jc=!Co.Qb&&6>Yu,Co.jc){var ul,Ho=Co;for(ul=0;ul<Zr;++ul){var os=ul,ss=Ho.pd[os],hl=Ho.G[0][Ho.H[0]+os];256<=hl.value?(ss.g=hl.g+256,ss.value=hl.value):(ss.g=0,ss.value=0,os>>=Kn(hl,8,ss),os>>=Kn(Ho.G[1][Ho.H[1]+os],16,ss),os>>=Kn(Ho.G[2][Ho.H[2]+os],0,ss),Kn(Ho.G[3][Ho.H[3]+os],24,ss))}}}zr.vc=Xr,zr.Wb=Wr,zr.Ya=tl,zr.yc=Jl,Dr=1;break t}Dr=0}if(!(en=Dr)){Hi.a=3;break e}if(0<Tn){if(pn.ua=1<<Tn,!Ci(pn.Wa,Tn)){Hi.a=1,en=0;break e}}else pn.ua=0;var ru=Hi,oh=tn,Rc=rn,ou=ru.s,su=ou.xc;if(ru.c=oh,ru.i=Rc,ou.md=Ki(oh,su),ou.wc=su==0?-1:(1<<su)-1,Ri){Hi.xb=fc;break e}if(($n=je(tn*rn))==null){Hi.a=1,en=0;break e}en=(en=yr(Hi,$n,0,tn,rn,rn,null))&&!on.h;break e}return en?(Zi!=null?Zi[0]=$n:(e($n==null),e(Ri)),Hi.$=0,Ri||cr(pn)):cr(pn),en}function $r(wi,Oi){var Ri=wi.c*wi.i,Hi=Ri+Oi+16*Oi;return e(wi.c<=Oi),wi.V=je(Hi),wi.V==null?(wi.Ta=null,wi.Ua=0,wi.a=1,0):(wi.Ta=wi.V,wi.Ua=wi.Ba+Ri+Oi,1)}function Gr(wi,Oi){var Ri=wi.C,Hi=Oi-Ri,Zi=wi.V,en=wi.Ba+wi.c*Ri;for(e(Oi<=wi.l.o);0<Hi;){var tn=16<Hi?16:Hi,rn=wi.l.ma,on=wi.l.width,pn=on*tn,$n=rn.ca,Tn=rn.tb+on*Ri,In=wi.Ta,Pn=wi.Ua;pr(wi,tn,Zi,en),Mu(In,Pn,$n,Tn,pn),_r(rn,Ri,Ri+tn,$n,Tn,on),Hi-=tn,Zi+=tn*wi.c,Ri+=tn}e(Ri==Oi),wi.C=wi.Ma=Oi}function ao(){this.ub=this.yd=this.td=this.Rb=0}function lo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function uo(){this.Fb=this.Bb=this.Cb=0,this.Zb=je(4),this.Lb=je(4)}function ko(){this.Yb=function(){var wi=[];return function Oi(Ri,Hi,Zi){for(var en=Zi[Hi],tn=0;tn<en&&(Ri.push(Zi.length>Hi+1?[]:0),!(Zi.length<Hi+1));tn++)Oi(Ri[tn],Hi+1,Zi)}(wi,0,[3,11]),wi}()}function no(){this.jb=je(3),this.Wc=Xe([4,8],ko),this.Xc=Xe([4,17],ko)}function xl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new je(4),this.od=new je(4)}function gs(){this.ld=this.La=this.dd=this.tc=0}function Ca(){this.Na=this.la=0}function wl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Hs(){this.ad=je(384),this.Za=0,this.Ob=je(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function bl(){this.uc=this.M=this.Nb=0,this.wa=Array(new gs),this.Y=0,this.ya=Array(new Hs),this.aa=0,this.l=new ys}function Ma(){this.y=je(16),this.f=je(8),this.ea=je(8)}function vl(){this.cb=this.a=0,this.sc="",this.m=new Bi,this.Od=new ao,this.Kc=new lo,this.ed=new xl,this.Qa=new uo,this.Ic=this.$c=this.Aa=0,this.D=new bl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=ze(8,Bi),this.ia=0,this.pb=ze(4,wl),this.Pa=new no,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ma),this.Hd=0,this.rb=Array(new Ca),this.sb=0,this.wa=Array(new gs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Hs),this.L=this.aa=0,this.gd=Xe([4,2],gs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ys(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function _l(){var wi=new vl;return wi!=null&&(wi.a=0,wi.sc="OK",wi.cb=0,wi.Xb=0,ma||(ma=Pa)),wi}function Tr(wi,Oi,Ri){return wi.a==0&&(wi.a=Oi,wi.sc=Ri,wi.cb=0),0}function Da(wi,Oi,Ri){return 3<=Ri&&wi[Oi+0]==157&&wi[Oi+1]==1&&wi[Oi+2]==42}function Sa(wi,Oi){if(wi==null)return 0;if(wi.a=0,wi.sc="OK",Oi==null)return Tr(wi,2,"null VP8Io passed to VP8GetHeaders()");var Ri=Oi.data,Hi=Oi.w,Zi=Oi.ha;if(4>Zi)return Tr(wi,7,"Truncated header.");var en=Ri[Hi+0]|Ri[Hi+1]<<8|Ri[Hi+2]<<16,tn=wi.Od;if(tn.Rb=!(1&en),tn.td=en>>1&7,tn.yd=en>>4&1,tn.ub=en>>5,3<tn.td)return Tr(wi,3,"Incorrect keyframe parameters.");if(!tn.yd)return Tr(wi,4,"Frame not displayable.");Hi+=3,Zi-=3;var rn=wi.Kc;if(tn.Rb){if(7>Zi)return Tr(wi,7,"cannot parse picture header");if(!Da(Ri,Hi,Zi))return Tr(wi,3,"Bad code word");rn.c=16383&(Ri[Hi+4]<<8|Ri[Hi+3]),rn.Td=Ri[Hi+4]>>6,rn.i=16383&(Ri[Hi+6]<<8|Ri[Hi+5]),rn.Ud=Ri[Hi+6]>>6,Hi+=7,Zi-=7,wi.za=rn.c+15>>4,wi.Ub=rn.i+15>>4,Oi.width=rn.c,Oi.height=rn.i,Oi.Da=0,Oi.j=0,Oi.v=0,Oi.va=Oi.width,Oi.o=Oi.height,Oi.da=0,Oi.ib=Oi.width,Oi.hb=Oi.height,Oi.U=Oi.width,Oi.T=Oi.height,Ve((en=wi.Pa).jb,0,255,en.jb.length),e((en=wi.Qa)!=null),en.Cb=0,en.Bb=0,en.Fb=1,Ve(en.Zb,0,0,en.Zb.length),Ve(en.Lb,0,0,en.Lb)}if(tn.ub>Zi)return Tr(wi,7,"bad partition length");_i(en=wi.m,Ri,Hi,tn.ub),Hi+=tn.ub,Zi-=tn.ub,tn.Rb&&(rn.Ld=Yi(en),rn.Kd=Yi(en)),rn=wi.Qa;var on,pn=wi.Pa;if(e(en!=null),e(rn!=null),rn.Cb=Yi(en),rn.Cb){if(rn.Bb=Yi(en),Yi(en)){for(rn.Fb=Yi(en),on=0;4>on;++on)rn.Zb[on]=Yi(en)?ki(en,7):0;for(on=0;4>on;++on)rn.Lb[on]=Yi(en)?ki(en,6):0}if(rn.Bb)for(on=0;3>on;++on)pn.jb[on]=Yi(en)?Ai(en,8):255}else rn.Bb=0;if(en.Ka)return Tr(wi,3,"cannot parse segment header");if((rn=wi.ed).zd=Yi(en),rn.Tb=Ai(en,6),rn.wb=Ai(en,3),rn.Pc=Yi(en),rn.Pc&&Yi(en)){for(pn=0;4>pn;++pn)Yi(en)&&(rn.vd[pn]=ki(en,6));for(pn=0;4>pn;++pn)Yi(en)&&(rn.od[pn]=ki(en,6))}if(wi.L=rn.Tb==0?0:rn.zd?1:2,en.Ka)return Tr(wi,3,"cannot parse filter header");var $n=Zi;if(Zi=on=Hi,Hi=on+$n,rn=$n,wi.Xb=(1<<Ai(wi.m,2))-1,$n<3*(pn=wi.Xb))Ri=7;else{for(on+=3*pn,rn-=3*pn,$n=0;$n<pn;++$n){var Tn=Ri[Zi+0]|Ri[Zi+1]<<8|Ri[Zi+2]<<16;Tn>rn&&(Tn=rn),_i(wi.Jc[+$n],Ri,on,Tn),on+=Tn,rn-=Tn,Zi+=3}_i(wi.Jc[+pn],Ri,on,rn),Ri=on<Hi?0:5}if(Ri!=0)return Tr(wi,Ri,"cannot parse partitions");for(Ri=Ai(on=wi.m,7),Zi=Yi(on)?ki(on,4):0,Hi=Yi(on)?ki(on,4):0,rn=Yi(on)?ki(on,4):0,pn=Yi(on)?ki(on,4):0,on=Yi(on)?ki(on,4):0,$n=wi.Qa,Tn=0;4>Tn;++Tn){if($n.Cb){var In=$n.Zb[Tn];$n.Fb||(In+=Ri)}else{if(0<Tn){wi.pb[Tn]=wi.pb[0];continue}In=Ri}var Pn=wi.pb[Tn];Pn.Sc[0]=Wl[ho(In+Zi,127)],Pn.Sc[1]=Kl[ho(In+0,127)],Pn.Eb[0]=2*Wl[ho(In+Hi,127)],Pn.Eb[1]=101581*Kl[ho(In+rn,127)]>>16,8>Pn.Eb[1]&&(Pn.Eb[1]=8),Pn.Qc[0]=Wl[ho(In+pn,117)],Pn.Qc[1]=Kl[ho(In+on,127)],Pn.lc=In+on}if(!tn.Rb)return Tr(wi,4,"Not a key frame.");for(Yi(en),tn=wi.Pa,Ri=0;4>Ri;++Ri){for(Zi=0;8>Zi;++Zi)for(Hi=0;3>Hi;++Hi)for(rn=0;11>rn;++rn)pn=Xi(en,dc[Ri][Zi][Hi][rn])?Ai(en,8):hc[Ri][Zi][Hi][rn],tn.Wc[Ri][Zi].Yb[Hi][rn]=pn;for(Zi=0;17>Zi;++Zi)tn.Xc[Ri][Zi]=tn.Wc[Ri][mc[Zi]]}return wi.kc=Yi(en),wi.kc&&(wi.Bd=Ai(en,8)),wi.cb=1}function Pa(wi,Oi,Ri,Hi,Zi,en,tn){var rn=Oi[Zi].Yb[Ri];for(Ri=0;16>Zi;++Zi){if(!Xi(wi,rn[Ri+0]))return Zi;for(;!Xi(wi,rn[Ri+1]);)if(rn=Oi[++Zi].Yb[0],Ri=0,Zi==16)return 16;var on=Oi[Zi+1].Yb;if(Xi(wi,rn[Ri+2])){var pn=wi,$n=0;if(Xi(pn,(In=rn)[(Tn=Ri)+3]))if(Xi(pn,In[Tn+6])){for(rn=0,Tn=2*($n=Xi(pn,In[Tn+8]))+(In=Xi(pn,In[Tn+9+$n])),$n=0,In=ac[Tn];In[rn];++rn)$n+=$n+Xi(pn,In[rn]);$n+=3+(8<<Tn)}else Xi(pn,In[Tn+7])?($n=7+2*Xi(pn,165),$n+=Xi(pn,145)):$n=5+Xi(pn,159);else $n=Xi(pn,In[Tn+4])?3+Xi(pn,In[Tn+5]):2;rn=on[2]}else $n=1,rn=on[1];on=tn+uc[Zi],0>(pn=wi).b&&Gi(pn);var Tn,In=pn.b,Pn=(Tn=pn.Ca>>1)-(pn.I>>In)>>31;--pn.b,pn.Ca+=Pn,pn.Ca|=1,pn.I-=(Tn+1&Pn)<<In,en[on]=(($n^Pn)-Pn)*Hi[(0<Zi)+0]}return 16}function Xs(wi){var Oi=wi.rb[wi.sb-1];Oi.la=0,Oi.Na=0,Ve(wi.zc,0,0,wi.zc.length),wi.ja=0}function $l(wi,Oi){if(wi==null)return 0;if(Oi==null)return Tr(wi,2,"NULL VP8Io parameter in VP8Decode().");if(!wi.cb&&!Sa(wi,Oi))return 0;if(e(wi.cb),Oi.ac==null||Oi.ac(Oi)){Oi.ob&&(wi.L=0);var Ri=el[wi.L];if(wi.L==2?(wi.yb=0,wi.zb=0):(wi.yb=Oi.v-Ri>>4,wi.zb=Oi.j-Ri>>4,0>wi.yb&&(wi.yb=0),0>wi.zb&&(wi.zb=0)),wi.Va=Oi.o+15+Ri>>4,wi.Hb=Oi.va+15+Ri>>4,wi.Hb>wi.za&&(wi.Hb=wi.za),wi.Va>wi.Ub&&(wi.Va=wi.Ub),0<wi.L){var Hi=wi.ed;for(Ri=0;4>Ri;++Ri){var Zi;if(wi.Qa.Cb){var en=wi.Qa.Lb[Ri];wi.Qa.Fb||(en+=Hi.Tb)}else en=Hi.Tb;for(Zi=0;1>=Zi;++Zi){var tn=wi.gd[Ri][Zi],rn=en;if(Hi.Pc&&(rn+=Hi.vd[0],Zi&&(rn+=Hi.od[0])),0<(rn=0>rn?0:63<rn?63:rn)){var on=rn;0<Hi.wb&&(on=4<Hi.wb?on>>2:on>>1)>9-Hi.wb&&(on=9-Hi.wb),1>on&&(on=1),tn.dd=on,tn.tc=2*rn+on,tn.ld=40<=rn?2:15<=rn?1:0}else tn.tc=0;tn.La=Zi}}}Ri=0}else Tr(wi,6,"Frame setup failed"),Ri=wi.a;if(Ri=Ri==0){if(Ri){wi.$c=0,0<wi.Aa||(wi.Ic=Mc);e:{Ri=wi.Ic,Hi=4*(on=wi.za);var pn=32*on,$n=on+1,Tn=0<wi.L?on*(0<wi.Aa?2:1):0,In=(wi.Aa==2?2:1)*on;if((tn=Hi+832+(Zi=3*(16*Ri+el[wi.L])/2*pn)+(en=wi.Fa!=null&&0<wi.Fa.length?wi.Kc.c*wi.Kc.i:0))!=tn)Ri=0;else{if(tn>wi.Vb){if(wi.Vb=0,wi.Ec=je(tn),wi.Fc=0,wi.Ec==null){Ri=Tr(wi,1,"no memory during frame initialization.");break e}wi.Vb=tn}tn=wi.Ec,rn=wi.Fc,wi.Ac=tn,wi.Bc=rn,rn+=Hi,wi.Gd=ze(pn,Ma),wi.Hd=0,wi.rb=ze($n+1,Ca),wi.sb=1,wi.wa=Tn?ze(Tn,gs):null,wi.Y=0,wi.D.Nb=0,wi.D.wa=wi.wa,wi.D.Y=wi.Y,0<wi.Aa&&(wi.D.Y+=on),e(!0),wi.oc=tn,wi.pc=rn,rn+=832,wi.ya=ze(In,Hs),wi.aa=0,wi.D.ya=wi.ya,wi.D.aa=wi.aa,wi.Aa==2&&(wi.D.aa+=on),wi.R=16*on,wi.B=8*on,on=(pn=el[wi.L])*wi.R,pn=pn/2*wi.B,wi.sa=tn,wi.ta=rn+on,wi.qa=wi.sa,wi.ra=wi.ta+16*Ri*wi.R+pn,wi.Ha=wi.qa,wi.Ia=wi.ra+8*Ri*wi.B+pn,wi.$c=0,rn+=Zi,wi.mb=en?tn:null,wi.nb=en?rn:null,e(rn+en<=wi.Fc+wi.Vb),Xs(wi),Ve(wi.Ac,wi.Bc,0,Hi),Ri=1}}if(Ri){if(Oi.ka=0,Oi.y=wi.sa,Oi.O=wi.ta,Oi.f=wi.qa,Oi.N=wi.ra,Oi.ea=wi.Ha,Oi.Vd=wi.Ia,Oi.fa=wi.R,Oi.Rc=wi.B,Oi.F=null,Oi.J=0,!ku){for(Ri=-255;255>=Ri;++Ri)Du[255+Ri]=0>Ri?-Ri:Ri;for(Ri=-1020;1020>=Ri;++Ri)Su[1020+Ri]=-128>Ri?-128:127<Ri?127:Ri;for(Ri=-112;112>=Ri;++Ri)Pu[112+Ri]=-16>Ri?-16:15<Ri?15:Ri;for(Ri=-255;510>=Ri;++Ri)Eu[255+Ri]=0>Ri?0:255<Ri?255:Ri;ku=1}_o=Ml,Os=Al,Zo=ka,$o=Cl,Bo=Oa,ca=Ea,cs=Zs,Ts=us,ds=Bl,Jo=Js,da=Fl,mo=$s,Vo=Qs,Sr=Ua,Pr=Va,Lr=No,Br=Go,Uo=Rl,Ao[0]=Oo,Ao[1]=Dl,Ao[2]=kl,Ao[3]=Ol,Ao[4]=La,Ao[5]=vs,Ao[6]=Na,Ao[7]=Ys,Ao[8]=Il,Ao[9]=Tl,es[0]=Ta,es[1]=Pl,es[2]=Lo,es[3]=ws,es[4]=qr,es[5]=El,es[6]=Ia,jo[0]=Xo,jo[1]=Sl,jo[2]=Ll,jo[3]=Ws,jo[4]=ls,jo[5]=Nl,jo[6]=Ks,Ri=1}else Ri=0}Ri&&(Ri=function(Pn,jn){for(Pn.M=0;Pn.M<Pn.Va;++Pn.M){var Rn,An=Pn.Jc[Pn.M&Pn.Xb],Dn=Pn.m,Vn=Pn;for(Rn=0;Rn<Vn.za;++Rn){var zn=Dn,Un=Vn,er=Un.Ac,Gn=Un.Bc+4*Rn,or=Un.zc,Wn=Un.ya[Un.aa+Rn];if(Un.Qa.Bb?Wn.$b=Xi(zn,Un.Pa.jb[0])?2+Xi(zn,Un.Pa.jb[2]):Xi(zn,Un.Pa.jb[1]):Wn.$b=0,Un.kc&&(Wn.Ad=Xi(zn,Un.Bd)),Wn.Za=!Xi(zn,145)+0,Wn.Za){var vr=Wn.Ob,Ar=0;for(Un=0;4>Un;++Un){var wr,gr=or[0+Un];for(wr=0;4>wr;++wr){gr=cc[er[Gn+wr]][gr];for(var Dr=Lu[Xi(zn,gr[0])];0<Dr;)Dr=Lu[2*Dr+Xi(zn,gr[Dr])];gr=-Dr,er[Gn+wr]=gr}r(vr,Ar,er,Gn,4),Ar+=4,or[0+Un]=gr}}else gr=Xi(zn,156)?Xi(zn,128)?1:3:Xi(zn,163)?2:0,Wn.Ob[0]=gr,Ve(er,Gn,gr,4),Ve(or,0,gr,4);Wn.Dd=Xi(zn,142)?Xi(zn,114)?Xi(zn,183)?1:3:2:0}if(Vn.m.Ka)return Tr(Pn,7,"Premature end-of-partition0 encountered.");for(;Pn.ja<Pn.za;++Pn.ja){if(Vn=An,zn=(Dn=Pn).rb[Dn.sb-1],er=Dn.rb[Dn.sb+Dn.ja],Rn=Dn.ya[Dn.aa+Dn.ja],Gn=Dn.kc?Rn.Ad:0)zn.la=er.la=0,Rn.Za||(zn.Na=er.Na=0),Rn.Hc=0,Rn.Gc=0,Rn.ia=0;else{var Mr,mr;if(zn=er,er=Vn,Gn=Dn.Pa.Xc,or=Dn.ya[Dn.aa+Dn.ja],Wn=Dn.pb[or.$b],Un=or.ad,vr=0,Ar=Dn.rb[Dn.sb-1],gr=wr=0,Ve(Un,vr,0,384),or.Za)var Rr=0,Qr=Gn[3];else{Dr=je(16);var Fr=zn.Na+Ar.Na;if(Fr=ma(er,Gn[1],Fr,Wn.Eb,0,Dr,0),zn.Na=Ar.Na=(0<Fr)+0,1<Fr)_o(Dr,0,Un,vr);else{var eo=Dr[0]+3>>3;for(Dr=0;256>Dr;Dr+=16)Un[vr+Dr]=eo}Rr=1,Qr=Gn[0]}var Cr=15&zn.la,oo=15&Ar.la;for(Dr=0;4>Dr;++Dr){var so=1&oo;for(eo=mr=0;4>eo;++eo)Cr=Cr>>1|(so=(Fr=ma(er,Qr,Fr=so+(1&Cr),Wn.Sc,Rr,Un,vr))>Rr)<<7,mr=mr<<2|(3<Fr?3:1<Fr?2:Un[vr+0]!=0),vr+=16;Cr>>=4,oo=oo>>1|so<<7,wr=(wr<<8|mr)>>>0}for(Qr=Cr,Rr=oo>>4,Mr=0;4>Mr;Mr+=2){for(mr=0,Cr=zn.la>>4+Mr,oo=Ar.la>>4+Mr,Dr=0;2>Dr;++Dr){for(so=1&oo,eo=0;2>eo;++eo)Fr=so+(1&Cr),Cr=Cr>>1|(so=0<(Fr=ma(er,Gn[2],Fr,Wn.Qc,0,Un,vr)))<<3,mr=mr<<2|(3<Fr?3:1<Fr?2:Un[vr+0]!=0),vr+=16;Cr>>=2,oo=oo>>1|so<<5}gr|=mr<<4*Mr,Qr|=Cr<<4<<Mr,Rr|=(240&oo)<<Mr}zn.la=Qr,Ar.la=Rr,or.Hc=wr,or.Gc=gr,or.ia=43690&gr?0:Wn.ia,Gn=!(wr|gr)}if(0<Dn.L&&(Dn.wa[Dn.Y+Dn.ja]=Dn.gd[Rn.$b][Rn.Za],Dn.wa[Dn.Y+Dn.ja].La|=!Gn),Vn.Ka)return Tr(Pn,7,"Premature end-of-file encountered.")}if(Xs(Pn),Dn=jn,Vn=1,Rn=(An=Pn).D,zn=0<An.L&&An.M>=An.zb&&An.M<=An.Va,An.Aa==0)e:{if(Rn.M=An.M,Rn.uc=zn,oa(An,Rn),Vn=1,Rn=(mr=An.D).Nb,zn=(gr=el[An.L])*An.R,er=gr/2*An.B,Dr=16*Rn*An.R,eo=8*Rn*An.B,Gn=An.sa,or=An.ta-zn+Dr,Wn=An.qa,Un=An.ra-er+eo,vr=An.Ha,Ar=An.Ia-er+eo,oo=(Cr=mr.M)==0,wr=Cr>=An.Va-1,An.Aa==2&&oa(An,mr),mr.uc)for(so=(Fr=An).D.M,e(Fr.D.uc),mr=Fr.yb;mr<Fr.Hb;++mr){Rr=mr,Qr=so;var zr=(Xr=(Or=Fr).D).Nb;Mr=Or.R;var Xr=Xr.wa[Xr.Y+Rr],Wr=Or.sa,go=Or.ta+16*zr*Mr+16*Rr,Io=Xr.dd,Hr=Xr.tc;if(Hr!=0)if(e(3<=Hr),Or.L==1)0<Rr&&Lr(Wr,go,Mr,Hr+4),Xr.La&&Uo(Wr,go,Mr,Hr),0<Qr&&Pr(Wr,go,Mr,Hr+4),Xr.La&&Br(Wr,go,Mr,Hr);else{var zo=Or.B,ms=Or.qa,Ls=Or.ra+8*zr*zo+8*Rr,is=Or.Ha,Or=Or.Ia+8*zr*zo+8*Rr;zr=Xr.ld,0<Rr&&(Ts(Wr,go,Mr,Hr+4,Io,zr),Jo(ms,Ls,is,Or,zo,Hr+4,Io,zr)),Xr.La&&(mo(Wr,go,Mr,Hr,Io,zr),Sr(ms,Ls,is,Or,zo,Hr,Io,zr)),0<Qr&&(cs(Wr,go,Mr,Hr+4,Io,zr),ds(ms,Ls,is,Or,zo,Hr+4,Io,zr)),Xr.La&&(da(Wr,go,Mr,Hr,Io,zr),Vo(ms,Ls,is,Or,zo,Hr,Io,zr))}}if(An.ia&&alert("todo:DitherRow"),Dn.put!=null){if(mr=16*Cr,Cr=16*(Cr+1),oo?(Dn.y=An.sa,Dn.O=An.ta+Dr,Dn.f=An.qa,Dn.N=An.ra+eo,Dn.ea=An.Ha,Dn.W=An.Ia+eo):(mr-=gr,Dn.y=Gn,Dn.O=or,Dn.f=Wn,Dn.N=Un,Dn.ea=vr,Dn.W=Ar),wr||(Cr-=gr),Cr>Dn.o&&(Cr=Dn.o),Dn.F=null,Dn.J=null,An.Fa!=null&&0<An.Fa.length&&mr<Cr&&(Dn.J=na(An,Dn,mr,Cr-mr),Dn.F=An.mb,Dn.F==null&&Dn.F.length==0)){Vn=Tr(An,3,"Could not decode alpha data.");break e}mr<Dn.j&&(gr=Dn.j-mr,mr=Dn.j,e(!(1&gr)),Dn.O+=An.R*gr,Dn.N+=An.B*(gr>>1),Dn.W+=An.B*(gr>>1),Dn.F!=null&&(Dn.J+=Dn.width*gr)),mr<Cr&&(Dn.O+=Dn.v,Dn.N+=Dn.v>>1,Dn.W+=Dn.v>>1,Dn.F!=null&&(Dn.J+=Dn.v),Dn.ka=mr-Dn.j,Dn.U=Dn.va-Dn.v,Dn.T=Cr-mr,Vn=Dn.put(Dn))}Rn+1!=An.Ic||wr||(r(An.sa,An.ta-zn,Gn,or+16*An.R,zn),r(An.qa,An.ra-er,Wn,Un+8*An.B,er),r(An.Ha,An.Ia-er,vr,Ar+8*An.B,er))}if(!Vn)return Tr(Pn,6,"Output aborted.")}return 1}(wi,Oi)),Oi.bc!=null&&Oi.bc(Oi),Ri&=1}return Ri?(wi.cb=0,Ri):0}function yo(wi,Oi,Ri,Hi,Zi){Zi=wi[Oi+Ri+32*Hi]+(Zi>>3),wi[Oi+Ri+32*Hi]=-256&Zi?0>Zi?0:255:Zi}function xs(wi,Oi,Ri,Hi,Zi,en){yo(wi,Oi,0,Ri,Hi+Zi),yo(wi,Oi,1,Ri,Hi+en),yo(wi,Oi,2,Ri,Hi-en),yo(wi,Oi,3,Ri,Hi-Zi)}function Kr(wi){return(20091*wi>>16)+wi}function Gs(wi,Oi,Ri,Hi){var Zi,en=0,tn=je(16);for(Zi=0;4>Zi;++Zi){var rn=wi[Oi+0]+wi[Oi+8],on=wi[Oi+0]-wi[Oi+8],pn=(35468*wi[Oi+4]>>16)-Kr(wi[Oi+12]),$n=Kr(wi[Oi+4])+(35468*wi[Oi+12]>>16);tn[en+0]=rn+$n,tn[en+1]=on+pn,tn[en+2]=on-pn,tn[en+3]=rn-$n,en+=4,Oi++}for(Zi=en=0;4>Zi;++Zi)rn=(wi=tn[en+0]+4)+tn[en+8],on=wi-tn[en+8],pn=(35468*tn[en+4]>>16)-Kr(tn[en+12]),yo(Ri,Hi,0,0,rn+($n=Kr(tn[en+4])+(35468*tn[en+12]>>16))),yo(Ri,Hi,1,0,on+pn),yo(Ri,Hi,2,0,on-pn),yo(Ri,Hi,3,0,rn-$n),en++,Hi+=32}function Ea(wi,Oi,Ri,Hi){var Zi=wi[Oi+0]+4,en=35468*wi[Oi+4]>>16,tn=Kr(wi[Oi+4]),rn=35468*wi[Oi+1]>>16;xs(Ri,Hi,0,Zi+tn,wi=Kr(wi[Oi+1]),rn),xs(Ri,Hi,1,Zi+en,wi,rn),xs(Ri,Hi,2,Zi-en,wi,rn),xs(Ri,Hi,3,Zi-tn,wi,rn)}function Al(wi,Oi,Ri,Hi,Zi){Gs(wi,Oi,Ri,Hi),Zi&&Gs(wi,Oi+16,Ri,Hi+4)}function ka(wi,Oi,Ri,Hi){Os(wi,Oi+0,Ri,Hi,1),Os(wi,Oi+32,Ri,Hi+128,1)}function Cl(wi,Oi,Ri,Hi){var Zi;for(wi=wi[Oi+0]+4,Zi=0;4>Zi;++Zi)for(Oi=0;4>Oi;++Oi)yo(Ri,Hi,Oi,Zi,wi)}function Oa(wi,Oi,Ri,Hi){wi[Oi+0]&&$o(wi,Oi+0,Ri,Hi),wi[Oi+16]&&$o(wi,Oi+16,Ri,Hi+4),wi[Oi+32]&&$o(wi,Oi+32,Ri,Hi+128),wi[Oi+48]&&$o(wi,Oi+48,Ri,Hi+128+4)}function Ml(wi,Oi,Ri,Hi){var Zi,en=je(16);for(Zi=0;4>Zi;++Zi){var tn=wi[Oi+0+Zi]+wi[Oi+12+Zi],rn=wi[Oi+4+Zi]+wi[Oi+8+Zi],on=wi[Oi+4+Zi]-wi[Oi+8+Zi],pn=wi[Oi+0+Zi]-wi[Oi+12+Zi];en[0+Zi]=tn+rn,en[8+Zi]=tn-rn,en[4+Zi]=pn+on,en[12+Zi]=pn-on}for(Zi=0;4>Zi;++Zi)tn=(wi=en[0+4*Zi]+3)+en[3+4*Zi],rn=en[1+4*Zi]+en[2+4*Zi],on=en[1+4*Zi]-en[2+4*Zi],pn=wi-en[3+4*Zi],Ri[Hi+0]=tn+rn>>3,Ri[Hi+16]=pn+on>>3,Ri[Hi+32]=tn-rn>>3,Ri[Hi+48]=pn-on>>3,Hi+=64}function qs(wi,Oi,Ri){var Hi,Zi=Oi-32,en=ro,tn=255-wi[Zi-1];for(Hi=0;Hi<Ri;++Hi){var rn,on=en,pn=tn+wi[Oi-1];for(rn=0;rn<Ri;++rn)wi[Oi+rn]=on[pn+wi[Zi+rn]];Oi+=32}}function Dl(wi,Oi){qs(wi,Oi,4)}function Sl(wi,Oi){qs(wi,Oi,8)}function Pl(wi,Oi){qs(wi,Oi,16)}function Lo(wi,Oi){var Ri;for(Ri=0;16>Ri;++Ri)r(wi,Oi+32*Ri,wi,Oi-32,16)}function ws(wi,Oi){var Ri;for(Ri=16;0<Ri;--Ri)Ve(wi,Oi,wi[Oi-1],16),Oi+=32}function bs(wi,Oi,Ri){var Hi;for(Hi=0;16>Hi;++Hi)Ve(Oi,Ri+32*Hi,wi,16)}function Ta(wi,Oi){var Ri,Hi=16;for(Ri=0;16>Ri;++Ri)Hi+=wi[Oi-1+32*Ri]+wi[Oi+Ri-32];bs(Hi>>5,wi,Oi)}function qr(wi,Oi){var Ri,Hi=8;for(Ri=0;16>Ri;++Ri)Hi+=wi[Oi-1+32*Ri];bs(Hi>>4,wi,Oi)}function El(wi,Oi){var Ri,Hi=8;for(Ri=0;16>Ri;++Ri)Hi+=wi[Oi+Ri-32];bs(Hi>>4,wi,Oi)}function Ia(wi,Oi){bs(128,wi,Oi)}function hr(wi,Oi,Ri){return wi+2*Oi+Ri+2>>2}function kl(wi,Oi){var Ri,Hi=Oi-32;for(Hi=new Uint8Array([hr(wi[Hi-1],wi[Hi+0],wi[Hi+1]),hr(wi[Hi+0],wi[Hi+1],wi[Hi+2]),hr(wi[Hi+1],wi[Hi+2],wi[Hi+3]),hr(wi[Hi+2],wi[Hi+3],wi[Hi+4])]),Ri=0;4>Ri;++Ri)r(wi,Oi+32*Ri,Hi,0,Hi.length)}function Ol(wi,Oi){var Ri=wi[Oi-1],Hi=wi[Oi-1+32],Zi=wi[Oi-1+64],en=wi[Oi-1+96];xi(wi,Oi+0,16843009*hr(wi[Oi-1-32],Ri,Hi)),xi(wi,Oi+32,16843009*hr(Ri,Hi,Zi)),xi(wi,Oi+64,16843009*hr(Hi,Zi,en)),xi(wi,Oi+96,16843009*hr(Zi,en,en))}function Oo(wi,Oi){var Ri,Hi=4;for(Ri=0;4>Ri;++Ri)Hi+=wi[Oi+Ri-32]+wi[Oi-1+32*Ri];for(Hi>>=3,Ri=0;4>Ri;++Ri)Ve(wi,Oi+32*Ri,Hi,4)}function La(wi,Oi){var Ri=wi[Oi-1+0],Hi=wi[Oi-1+32],Zi=wi[Oi-1+64],en=wi[Oi-1-32],tn=wi[Oi+0-32],rn=wi[Oi+1-32],on=wi[Oi+2-32],pn=wi[Oi+3-32];wi[Oi+0+96]=hr(Hi,Zi,wi[Oi-1+96]),wi[Oi+1+96]=wi[Oi+0+64]=hr(Ri,Hi,Zi),wi[Oi+2+96]=wi[Oi+1+64]=wi[Oi+0+32]=hr(en,Ri,Hi),wi[Oi+3+96]=wi[Oi+2+64]=wi[Oi+1+32]=wi[Oi+0+0]=hr(tn,en,Ri),wi[Oi+3+64]=wi[Oi+2+32]=wi[Oi+1+0]=hr(rn,tn,en),wi[Oi+3+32]=wi[Oi+2+0]=hr(on,rn,tn),wi[Oi+3+0]=hr(pn,on,rn)}function Na(wi,Oi){var Ri=wi[Oi+1-32],Hi=wi[Oi+2-32],Zi=wi[Oi+3-32],en=wi[Oi+4-32],tn=wi[Oi+5-32],rn=wi[Oi+6-32],on=wi[Oi+7-32];wi[Oi+0+0]=hr(wi[Oi+0-32],Ri,Hi),wi[Oi+1+0]=wi[Oi+0+32]=hr(Ri,Hi,Zi),wi[Oi+2+0]=wi[Oi+1+32]=wi[Oi+0+64]=hr(Hi,Zi,en),wi[Oi+3+0]=wi[Oi+2+32]=wi[Oi+1+64]=wi[Oi+0+96]=hr(Zi,en,tn),wi[Oi+3+32]=wi[Oi+2+64]=wi[Oi+1+96]=hr(en,tn,rn),wi[Oi+3+64]=wi[Oi+2+96]=hr(tn,rn,on),wi[Oi+3+96]=hr(rn,on,on)}function vs(wi,Oi){var Ri=wi[Oi-1+0],Hi=wi[Oi-1+32],Zi=wi[Oi-1+64],en=wi[Oi-1-32],tn=wi[Oi+0-32],rn=wi[Oi+1-32],on=wi[Oi+2-32],pn=wi[Oi+3-32];wi[Oi+0+0]=wi[Oi+1+64]=en+tn+1>>1,wi[Oi+1+0]=wi[Oi+2+64]=tn+rn+1>>1,wi[Oi+2+0]=wi[Oi+3+64]=rn+on+1>>1,wi[Oi+3+0]=on+pn+1>>1,wi[Oi+0+96]=hr(Zi,Hi,Ri),wi[Oi+0+64]=hr(Hi,Ri,en),wi[Oi+0+32]=wi[Oi+1+96]=hr(Ri,en,tn),wi[Oi+1+32]=wi[Oi+2+96]=hr(en,tn,rn),wi[Oi+2+32]=wi[Oi+3+96]=hr(tn,rn,on),wi[Oi+3+32]=hr(rn,on,pn)}function Ys(wi,Oi){var Ri=wi[Oi+0-32],Hi=wi[Oi+1-32],Zi=wi[Oi+2-32],en=wi[Oi+3-32],tn=wi[Oi+4-32],rn=wi[Oi+5-32],on=wi[Oi+6-32],pn=wi[Oi+7-32];wi[Oi+0+0]=Ri+Hi+1>>1,wi[Oi+1+0]=wi[Oi+0+64]=Hi+Zi+1>>1,wi[Oi+2+0]=wi[Oi+1+64]=Zi+en+1>>1,wi[Oi+3+0]=wi[Oi+2+64]=en+tn+1>>1,wi[Oi+0+32]=hr(Ri,Hi,Zi),wi[Oi+1+32]=wi[Oi+0+96]=hr(Hi,Zi,en),wi[Oi+2+32]=wi[Oi+1+96]=hr(Zi,en,tn),wi[Oi+3+32]=wi[Oi+2+96]=hr(en,tn,rn),wi[Oi+3+64]=hr(tn,rn,on),wi[Oi+3+96]=hr(rn,on,pn)}function Tl(wi,Oi){var Ri=wi[Oi-1+0],Hi=wi[Oi-1+32],Zi=wi[Oi-1+64],en=wi[Oi-1+96];wi[Oi+0+0]=Ri+Hi+1>>1,wi[Oi+2+0]=wi[Oi+0+32]=Hi+Zi+1>>1,wi[Oi+2+32]=wi[Oi+0+64]=Zi+en+1>>1,wi[Oi+1+0]=hr(Ri,Hi,Zi),wi[Oi+3+0]=wi[Oi+1+32]=hr(Hi,Zi,en),wi[Oi+3+32]=wi[Oi+1+64]=hr(Zi,en,en),wi[Oi+3+64]=wi[Oi+2+64]=wi[Oi+0+96]=wi[Oi+1+96]=wi[Oi+2+96]=wi[Oi+3+96]=en}function Il(wi,Oi){var Ri=wi[Oi-1+0],Hi=wi[Oi-1+32],Zi=wi[Oi-1+64],en=wi[Oi-1+96],tn=wi[Oi-1-32],rn=wi[Oi+0-32],on=wi[Oi+1-32],pn=wi[Oi+2-32];wi[Oi+0+0]=wi[Oi+2+32]=Ri+tn+1>>1,wi[Oi+0+32]=wi[Oi+2+64]=Hi+Ri+1>>1,wi[Oi+0+64]=wi[Oi+2+96]=Zi+Hi+1>>1,wi[Oi+0+96]=en+Zi+1>>1,wi[Oi+3+0]=hr(rn,on,pn),wi[Oi+2+0]=hr(tn,rn,on),wi[Oi+1+0]=wi[Oi+3+32]=hr(Ri,tn,rn),wi[Oi+1+32]=wi[Oi+3+64]=hr(Hi,Ri,tn),wi[Oi+1+64]=wi[Oi+3+96]=hr(Zi,Hi,Ri),wi[Oi+1+96]=hr(en,Zi,Hi)}function Ll(wi,Oi){var Ri;for(Ri=0;8>Ri;++Ri)r(wi,Oi+32*Ri,wi,Oi-32,8)}function Ws(wi,Oi){var Ri;for(Ri=0;8>Ri;++Ri)Ve(wi,Oi,wi[Oi-1],8),Oi+=32}function as(wi,Oi,Ri){var Hi;for(Hi=0;8>Hi;++Hi)Ve(Oi,Ri+32*Hi,wi,8)}function Xo(wi,Oi){var Ri,Hi=8;for(Ri=0;8>Ri;++Ri)Hi+=wi[Oi+Ri-32]+wi[Oi-1+32*Ri];as(Hi>>4,wi,Oi)}function Nl(wi,Oi){var Ri,Hi=4;for(Ri=0;8>Ri;++Ri)Hi+=wi[Oi+Ri-32];as(Hi>>3,wi,Oi)}function ls(wi,Oi){var Ri,Hi=4;for(Ri=0;8>Ri;++Ri)Hi+=wi[Oi-1+32*Ri];as(Hi>>3,wi,Oi)}function Ks(wi,Oi){as(128,wi,Oi)}function _s(wi,Oi,Ri){var Hi=wi[Oi-Ri],Zi=wi[Oi+0],en=3*(Zi-Hi)+Hl[1020+wi[Oi-2*Ri]-wi[Oi+Ri]],tn=Ga[112+(en+4>>3)];wi[Oi-Ri]=ro[255+Hi+Ga[112+(en+3>>3)]],wi[Oi+0]=ro[255+Zi-tn]}function Ra(wi,Oi,Ri,Hi){var Zi=wi[Oi+0],en=wi[Oi+Ri];return fo[255+wi[Oi-2*Ri]-wi[Oi-Ri]]>Hi||fo[255+en-Zi]>Hi}function Fa(wi,Oi,Ri,Hi){return 4*fo[255+wi[Oi-Ri]-wi[Oi+0]]+fo[255+wi[Oi-2*Ri]-wi[Oi+Ri]]<=Hi}function Ba(wi,Oi,Ri,Hi,Zi){var en=wi[Oi-3*Ri],tn=wi[Oi-2*Ri],rn=wi[Oi-Ri],on=wi[Oi+0],pn=wi[Oi+Ri],$n=wi[Oi+2*Ri],Tn=wi[Oi+3*Ri];return 4*fo[255+rn-on]+fo[255+tn-pn]>Hi?0:fo[255+wi[Oi-4*Ri]-en]<=Zi&&fo[255+en-tn]<=Zi&&fo[255+tn-rn]<=Zi&&fo[255+Tn-$n]<=Zi&&fo[255+$n-pn]<=Zi&&fo[255+pn-on]<=Zi}function Va(wi,Oi,Ri,Hi){var Zi=2*Hi+1;for(Hi=0;16>Hi;++Hi)Fa(wi,Oi+Hi,Ri,Zi)&&_s(wi,Oi+Hi,Ri)}function No(wi,Oi,Ri,Hi){var Zi=2*Hi+1;for(Hi=0;16>Hi;++Hi)Fa(wi,Oi+Hi*Ri,1,Zi)&&_s(wi,Oi+Hi*Ri,1)}function Go(wi,Oi,Ri,Hi){var Zi;for(Zi=3;0<Zi;--Zi)Va(wi,Oi+=4*Ri,Ri,Hi)}function Rl(wi,Oi,Ri,Hi){var Zi;for(Zi=3;0<Zi;--Zi)No(wi,Oi+=4,Ri,Hi)}function qo(wi,Oi,Ri,Hi,Zi,en,tn,rn){for(en=2*en+1;0<Zi--;){if(Ba(wi,Oi,Ri,en,tn))if(Ra(wi,Oi,Ri,rn))_s(wi,Oi,Ri);else{var on=wi,pn=Oi,$n=Ri,Tn=on[pn-2*$n],In=on[pn-$n],Pn=on[pn+0],jn=on[pn+$n],Rn=on[pn+2*$n],An=27*(Vn=Hl[1020+3*(Pn-In)+Hl[1020+Tn-jn]])+63>>7,Dn=18*Vn+63>>7,Vn=9*Vn+63>>7;on[pn-3*$n]=ro[255+on[pn-3*$n]+Vn],on[pn-2*$n]=ro[255+Tn+Dn],on[pn-$n]=ro[255+In+An],on[pn+0]=ro[255+Pn-An],on[pn+$n]=ro[255+jn-Dn],on[pn+2*$n]=ro[255+Rn-Vn]}Oi+=Hi}}function xo(wi,Oi,Ri,Hi,Zi,en,tn,rn){for(en=2*en+1;0<Zi--;){if(Ba(wi,Oi,Ri,en,tn))if(Ra(wi,Oi,Ri,rn))_s(wi,Oi,Ri);else{var on=wi,pn=Oi,$n=Ri,Tn=on[pn-$n],In=on[pn+0],Pn=on[pn+$n],jn=Ga[112+((Rn=3*(In-Tn))+4>>3)],Rn=Ga[112+(Rn+3>>3)],An=jn+1>>1;on[pn-2*$n]=ro[255+on[pn-2*$n]+An],on[pn-$n]=ro[255+Tn+Rn],on[pn+0]=ro[255+In-jn],on[pn+$n]=ro[255+Pn-An]}Oi+=Hi}}function Zs(wi,Oi,Ri,Hi,Zi,en){qo(wi,Oi,Ri,1,16,Hi,Zi,en)}function us(wi,Oi,Ri,Hi,Zi,en){qo(wi,Oi,1,Ri,16,Hi,Zi,en)}function Fl(wi,Oi,Ri,Hi,Zi,en){var tn;for(tn=3;0<tn;--tn)xo(wi,Oi+=4*Ri,Ri,1,16,Hi,Zi,en)}function $s(wi,Oi,Ri,Hi,Zi,en){var tn;for(tn=3;0<tn;--tn)xo(wi,Oi+=4,1,Ri,16,Hi,Zi,en)}function Bl(wi,Oi,Ri,Hi,Zi,en,tn,rn){qo(wi,Oi,Zi,1,8,en,tn,rn),qo(Ri,Hi,Zi,1,8,en,tn,rn)}function Js(wi,Oi,Ri,Hi,Zi,en,tn,rn){qo(wi,Oi,1,Zi,8,en,tn,rn),qo(Ri,Hi,1,Zi,8,en,tn,rn)}function Qs(wi,Oi,Ri,Hi,Zi,en,tn,rn){xo(wi,Oi+4*Zi,Zi,1,8,en,tn,rn),xo(Ri,Hi+4*Zi,Zi,1,8,en,tn,rn)}function Ua(wi,Oi,Ri,Hi,Zi,en,tn,rn){xo(wi,Oi+4,1,Zi,8,en,tn,rn),xo(Ri,Hi+4,1,Zi,8,en,tn,rn)}function As(){this.ba=new tr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Jn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ea(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ta(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ja(){this.ua=0,this.Wa=new Si,this.vb=new Si,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new gi,this.yc=new pi}function Vl(){this.xb=this.a=0,this.l=new ys,this.ca=new tr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Pi,this.Pb=0,this.wd=new Pi,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ja,this.ab=0,this.gc=ze(4,ta),this.Oc=0}function Cs(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ys,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function hs(wi,Oi,Ri,Hi,Zi,en,tn){for(wi=wi==null?0:wi[Oi+0],Oi=0;Oi<tn;++Oi)Zi[en+Oi]=wi+Ri[Hi+Oi]&255,wi=Zi[en+Oi]}function ia(wi,Oi,Ri,Hi,Zi,en,tn){var rn;if(wi==null)hs(null,null,Ri,Hi,Zi,en,tn);else for(rn=0;rn<tn;++rn)Zi[en+rn]=wi[Oi+rn]+Ri[Hi+rn]&255}function Yo(wi,Oi,Ri,Hi,Zi,en,tn){if(wi==null)hs(null,null,Ri,Hi,Zi,en,tn);else{var rn,on=wi[Oi+0],pn=on,$n=on;for(rn=0;rn<tn;++rn)pn=$n+(on=wi[Oi+rn])-pn,$n=Ri[Hi+rn]+(-256&pn?0>pn?0:255:pn)&255,pn=on,Zi[en+rn]=$n}}function na(wi,Oi,Ri,Hi){var Zi=Oi.width,en=Oi.o;if(e(wi!=null&&Oi!=null),0>Ri||0>=Hi||Ri+Hi>en)return null;if(!wi.Cc){if(wi.ga==null){var tn;if(wi.ga=new Cs,(tn=wi.ga==null)||(tn=Oi.width*Oi.o,e(wi.Gb.length==0),wi.Gb=je(tn),wi.Uc=0,wi.Gb==null?tn=0:(wi.mb=wi.Gb,wi.nb=wi.Uc,wi.rc=null,tn=1),tn=!tn),!tn){tn=wi.ga;var rn=wi.Fa,on=wi.P,pn=wi.qc,$n=wi.mb,Tn=wi.nb,In=on+1,Pn=pn-1,jn=tn.l;if(e(rn!=null&&$n!=null&&Oi!=null),ts[0]=null,ts[1]=hs,ts[2]=ia,ts[3]=Yo,tn.ca=$n,tn.tb=Tn,tn.c=Oi.width,tn.i=Oi.height,e(0<tn.c&&0<tn.i),1>=pn)Oi=0;else if(tn.$a=rn[on+0]>>0&3,tn.Z=rn[on+0]>>2&3,tn.Lc=rn[on+0]>>4&3,on=rn[on+0]>>6&3,0>tn.$a||1<tn.$a||4<=tn.Z||1<tn.Lc||on)Oi=0;else if(jn.put=Wi,jn.ac=Ii,jn.bc=nn,jn.ma=tn,jn.width=Oi.width,jn.height=Oi.height,jn.Da=Oi.Da,jn.v=Oi.v,jn.va=Oi.va,jn.j=Oi.j,jn.o=Oi.o,tn.$a)e:{e(tn.$a==1),Oi=br();t:for(;;){if(Oi==null){Oi=0;break e}if(e(tn!=null),tn.mc=Oi,Oi.c=tn.c,Oi.i=tn.i,Oi.l=tn.l,Oi.l.ma=tn,Oi.l.width=tn.c,Oi.l.height=tn.i,Oi.a=0,vi(Oi.m,rn,In,Pn),!Er(tn.c,tn.i,1,Oi,null)||(Oi.ab==1&&Oi.gc[0].hc==3&&ur(Oi.s)?(tn.ic=1,rn=Oi.c*Oi.i,Oi.Ta=null,Oi.Ua=0,Oi.V=je(rn),Oi.Ba=0,Oi.V==null?(Oi.a=1,Oi=0):Oi=1):(tn.ic=0,Oi=$r(Oi,tn.c)),!Oi))break t;Oi=1;break e}tn.mc=null,Oi=0}else Oi=Pn>=tn.c*tn.i;tn=!Oi}if(tn)return null;wi.ga.Lc!=1?wi.Ga=0:Hi=en-Ri}e(wi.ga!=null),e(Ri+Hi<=en);e:{if(Oi=(rn=wi.ga).c,en=rn.l.o,rn.$a==0){if(In=wi.rc,Pn=wi.Vc,jn=wi.Fa,on=wi.P+1+Ri*Oi,pn=wi.mb,$n=wi.nb+Ri*Oi,e(on<=wi.P+wi.qc),rn.Z!=0)for(e(ts[rn.Z]!=null),tn=0;tn<Hi;++tn)ts[rn.Z](In,Pn,jn,on,pn,$n,Oi),In=pn,Pn=$n,$n+=Oi,on+=Oi;else for(tn=0;tn<Hi;++tn)r(pn,$n,jn,on,Oi),In=pn,Pn=$n,$n+=Oi,on+=Oi;wi.rc=In,wi.Vc=Pn}else{if(e(rn.mc!=null),Oi=Ri+Hi,e((tn=rn.mc)!=null),e(Oi<=tn.i),tn.C>=Oi)Oi=1;else if(rn.ic||En(),rn.ic){rn=tn.V,In=tn.Ba,Pn=tn.c;var Rn=tn.i,An=(jn=1,on=tn.$/Pn,pn=tn.$%Pn,$n=tn.m,Tn=tn.s,tn.$),Dn=Pn*Rn,Vn=Pn*Oi,zn=Tn.wc,Un=An<Vn?ir(Tn,pn,on):null;e(An<=Dn),e(Oi<=Rn),e(ur(Tn));t:for(;;){for(;!$n.h&&An<Vn;){if(pn&zn||(Un=ir(Tn,pn,on)),e(Un!=null),ji($n),256>(Rn=nr(Un.G[0],Un.H[0],$n)))rn[In+An]=Rn,++An,++pn>=Pn&&(pn=0,++on<=Oi&&!(on%16)&&lr(tn,on));else{if(!(280>Rn)){jn=0;break t}Rn=On(Rn-256,$n);var er,Gn=nr(Un.G[4],Un.H[4],$n);if(ji($n),!(An>=(Gn=Ln(Pn,Gn=On(Gn,$n)))&&Dn-An>=Rn)){jn=0;break t}for(er=0;er<Rn;++er)rn[In+An+er]=rn[In+An+er-Gn];for(An+=Rn,pn+=Rn;pn>=Pn;)pn-=Pn,++on<=Oi&&!(on%16)&&lr(tn,on);An<Vn&&pn&zn&&(Un=ir(Tn,pn,on))}e($n.h==Vi($n))}lr(tn,on>Oi?Oi:on);break t}!jn||$n.h&&An<Dn?(jn=0,tn.a=$n.h?5:3):tn.$=An,Oi=jn}else Oi=yr(tn,tn.V,tn.Ba,tn.c,tn.i,Oi,Gr);if(!Oi){Hi=0;break e}}Ri+Hi>=en&&(wi.Cc=1),Hi=1}if(!Hi)return null;if(wi.Cc&&((Hi=wi.ga)!=null&&(Hi.mc=null),wi.ga=null,0<wi.Ga))return alert("todo:WebPDequantizeLevels"),null}return wi.nb+Ri*Zi}function Li(wi,Oi,Ri,Hi,Zi,en){for(;0<Zi--;){var tn,rn=wi,on=Oi+(Ri?1:0),pn=wi,$n=Oi+(Ri?0:3);for(tn=0;tn<Hi;++tn){var Tn=pn[$n+4*tn];Tn!=255&&(Tn*=32897,rn[on+4*tn+0]=rn[on+4*tn+0]*Tn>>23,rn[on+4*tn+1]=rn[on+4*tn+1]*Tn>>23,rn[on+4*tn+2]=rn[on+4*tn+2]*Tn>>23)}Oi+=en}}function Qi(wi,Oi,Ri,Hi,Zi){for(;0<Hi--;){var en;for(en=0;en<Ri;++en){var tn=wi[Oi+2*en+0],rn=15&(pn=wi[Oi+2*en+1]),on=4369*rn,pn=(240&pn|pn>>4)*on>>16;wi[Oi+2*en+0]=(240&tn|tn>>4)*on>>16&240|(15&tn|tn<<4)*on>>16>>4&15,wi[Oi+2*en+1]=240&pn|rn}Oi+=Zi}}function wn(wi,Oi,Ri,Hi,Zi,en,tn,rn){var on,pn,$n=255;for(pn=0;pn<Zi;++pn){for(on=0;on<Hi;++on){var Tn=wi[Oi+on];en[tn+4*on]=Tn,$n&=Tn}Oi+=Ri,tn+=rn}return $n!=255}function _n(wi,Oi,Ri,Hi,Zi){var en;for(en=0;en<Zi;++en)Ri[Hi+en]=wi[Oi+en]>>8}function En(){Qo=Li,Is=Qi,Xa=wn,Mu=_n}function Bn(wi,Oi,Ri){hi[wi]=function(Hi,Zi,en,tn,rn,on,pn,$n,Tn,In,Pn,jn,Rn,An,Dn,Vn,zn){var Un,er=zn-1>>1,Gn=rn[on+0]|pn[$n+0]<<16,or=Tn[In+0]|Pn[jn+0]<<16;e(Hi!=null);var Wn=3*Gn+or+131074>>2;for(Oi(Hi[Zi+0],255&Wn,Wn>>16,Rn,An),en!=null&&(Wn=3*or+Gn+131074>>2,Oi(en[tn+0],255&Wn,Wn>>16,Dn,Vn)),Un=1;Un<=er;++Un){var vr=rn[on+Un]|pn[$n+Un]<<16,Ar=Tn[In+Un]|Pn[jn+Un]<<16,wr=Gn+vr+or+Ar+524296,gr=wr+2*(vr+or)>>3;Wn=gr+Gn>>1,Gn=(wr=wr+2*(Gn+Ar)>>3)+vr>>1,Oi(Hi[Zi+2*Un-1],255&Wn,Wn>>16,Rn,An+(2*Un-1)*Ri),Oi(Hi[Zi+2*Un-0],255&Gn,Gn>>16,Rn,An+(2*Un-0)*Ri),en!=null&&(Wn=wr+or>>1,Gn=gr+Ar>>1,Oi(en[tn+2*Un-1],255&Wn,Wn>>16,Dn,Vn+(2*Un-1)*Ri),Oi(en[tn+2*Un+0],255&Gn,Gn>>16,Dn,Vn+(2*Un+0)*Ri)),Gn=vr,or=Ar}1&zn||(Wn=3*Gn+or+131074>>2,Oi(Hi[Zi+zn-1],255&Wn,Wn>>16,Rn,An+(zn-1)*Ri),en!=null&&(Wn=3*or+Gn+131074>>2,Oi(en[tn+zn-1],255&Wn,Wn>>16,Dn,Vn+(zn-1)*Ri)))}}function Xn(){po[qa]=pc,po[Ya]=Ru,po[Ou]=gc,po[Wa]=Fu,po[Ka]=Bu,po[Xl]=Vu,po[Tu]=yc,po[Gl]=Ru,po[ql]=Fu,po[Za]=Bu,po[Yl]=Vu}function Zn(wi){return wi&~xc?0>wi?0:255:wi>>Uu}function rr(wi,Oi){return Zn((19077*wi>>8)+(26149*Oi>>8)-14234)}function dr(wi,Oi,Ri){return Zn((19077*wi>>8)-(6419*Oi>>8)-(13320*Ri>>8)+8708)}function fr(wi,Oi){return Zn((19077*wi>>8)+(33050*Oi>>8)-17685)}function xr(wi,Oi,Ri,Hi,Zi){Hi[Zi+0]=rr(wi,Ri),Hi[Zi+1]=dr(wi,Oi,Ri),Hi[Zi+2]=fr(wi,Oi)}function kr(wi,Oi,Ri,Hi,Zi){Hi[Zi+0]=fr(wi,Oi),Hi[Zi+1]=dr(wi,Oi,Ri),Hi[Zi+2]=rr(wi,Ri)}function Ir(wi,Oi,Ri,Hi,Zi){var en=dr(wi,Oi,Ri);Oi=en<<3&224|fr(wi,Oi)>>3,Hi[Zi+0]=248&rr(wi,Ri)|en>>5,Hi[Zi+1]=Oi}function Nr(wi,Oi,Ri,Hi,Zi){var en=240&fr(wi,Oi)|15;Hi[Zi+0]=240&rr(wi,Ri)|dr(wi,Oi,Ri)>>4,Hi[Zi+1]=en}function Yr(wi,Oi,Ri,Hi,Zi){Hi[Zi+0]=255,xr(wi,Oi,Ri,Hi,Zi+1)}function jr(wi,Oi,Ri,Hi,Zi){kr(wi,Oi,Ri,Hi,Zi),Hi[Zi+3]=255}function wo(wi,Oi,Ri,Hi,Zi){xr(wi,Oi,Ri,Hi,Zi),Hi[Zi+3]=255}function ho(wi,Oi){return 0>wi?0:wi>Oi?Oi:wi}function Ro(wi,Oi,Ri){hi[wi]=function(Hi,Zi,en,tn,rn,on,pn,$n,Tn){for(var In=$n+(-2&Tn)*Ri;$n!=In;)Oi(Hi[Zi+0],en[tn+0],rn[on+0],pn,$n),Oi(Hi[Zi+1],en[tn+0],rn[on+0],pn,$n+Ri),Zi+=2,++tn,++on,$n+=2*Ri;1&Tn&&Oi(Hi[Zi+0],en[tn+0],rn[on+0],pn,$n)}}function za(wi,Oi,Ri){return Ri==0?wi==0?Oi==0?6:5:Oi==0?4:0:Ri}function ra(wi,Oi,Ri,Hi,Zi){switch(wi>>>30){case 3:Os(Oi,Ri,Hi,Zi,0);break;case 2:ca(Oi,Ri,Hi,Zi);break;case 1:$o(Oi,Ri,Hi,Zi)}}function oa(wi,Oi){var Ri,Hi,Zi=Oi.M,en=Oi.Nb,tn=wi.oc,rn=wi.pc+40,on=wi.oc,pn=wi.pc+584,$n=wi.oc,Tn=wi.pc+600;for(Ri=0;16>Ri;++Ri)tn[rn+32*Ri-1]=129;for(Ri=0;8>Ri;++Ri)on[pn+32*Ri-1]=129,$n[Tn+32*Ri-1]=129;for(0<Zi?tn[rn-1-32]=on[pn-1-32]=$n[Tn-1-32]=129:(Ve(tn,rn-32-1,127,21),Ve(on,pn-32-1,127,9),Ve($n,Tn-32-1,127,9)),Hi=0;Hi<wi.za;++Hi){var In=Oi.ya[Oi.aa+Hi];if(0<Hi){for(Ri=-1;16>Ri;++Ri)r(tn,rn+32*Ri-4,tn,rn+32*Ri+12,4);for(Ri=-1;8>Ri;++Ri)r(on,pn+32*Ri-4,on,pn+32*Ri+4,4),r($n,Tn+32*Ri-4,$n,Tn+32*Ri+4,4)}var Pn=wi.Gd,jn=wi.Hd+Hi,Rn=In.ad,An=In.Hc;if(0<Zi&&(r(tn,rn-32,Pn[jn].y,0,16),r(on,pn-32,Pn[jn].f,0,8),r($n,Tn-32,Pn[jn].ea,0,8)),In.Za){var Dn=tn,Vn=rn-32+16;for(0<Zi&&(Hi>=wi.za-1?Ve(Dn,Vn,Pn[jn].y[15],4):r(Dn,Vn,Pn[jn+1].y,0,4)),Ri=0;4>Ri;Ri++)Dn[Vn+128+Ri]=Dn[Vn+256+Ri]=Dn[Vn+384+Ri]=Dn[Vn+0+Ri];for(Ri=0;16>Ri;++Ri,An<<=2)Dn=tn,Vn=rn+zu[Ri],Ao[In.Ob[Ri]](Dn,Vn),ra(An,Rn,16*+Ri,Dn,Vn)}else if(Dn=za(Hi,Zi,In.Ob[0]),es[Dn](tn,rn),An!=0)for(Ri=0;16>Ri;++Ri,An<<=2)ra(An,Rn,16*+Ri,tn,rn+zu[Ri]);for(Ri=In.Gc,Dn=za(Hi,Zi,In.Dd),jo[Dn](on,pn),jo[Dn]($n,Tn),An=Rn,Dn=on,Vn=pn,255&(In=Ri>>0)&&(170&In?Zo(An,256,Dn,Vn):Bo(An,256,Dn,Vn)),In=$n,An=Tn,255&(Ri>>=8)&&(170&Ri?Zo(Rn,320,In,An):Bo(Rn,320,In,An)),Zi<wi.Ub-1&&(r(Pn[jn].y,0,tn,rn+480,16),r(Pn[jn].f,0,on,pn+224,8),r(Pn[jn].ea,0,$n,Tn+224,8)),Ri=8*en*wi.B,Pn=wi.sa,jn=wi.ta+16*Hi+16*en*wi.R,Rn=wi.qa,In=wi.ra+8*Hi+Ri,An=wi.Ha,Dn=wi.Ia+8*Hi+Ri,Ri=0;16>Ri;++Ri)r(Pn,jn+Ri*wi.R,tn,rn+32*Ri,16);for(Ri=0;8>Ri;++Ri)r(Rn,In+Ri*wi.B,on,pn+32*Ri,8),r(An,Dn+Ri*wi.B,$n,Tn+32*Ri,8)}}function Ms(wi,Oi,Ri,Hi,Zi,en,tn,rn,on){var pn=[0],$n=[0],Tn=0,In=on!=null?on.kd:0,Pn=on??new ea;if(wi==null||12>Ri)return 7;Pn.data=wi,Pn.w=Oi,Pn.ha=Ri,Oi=[Oi],Ri=[Ri],Pn.gb=[Pn.gb];e:{var jn=Oi,Rn=Ri,An=Pn.gb;if(e(wi!=null),e(Rn!=null),e(An!=null),An[0]=0,12<=Rn[0]&&!t(wi,jn[0],"RIFF")){if(t(wi,jn[0]+8,"WEBP")){An=3;break e}var Dn=bi(wi,jn[0]+4);if(12>Dn||4294967286<Dn){An=3;break e}if(In&&Dn>Rn[0]-8){An=7;break e}An[0]=Dn,jn[0]+=12,Rn[0]-=12}An=0}if(An!=0)return An;for(Dn=0<Pn.gb[0],Ri=Ri[0];;){e:{var Vn=wi;Rn=Oi,An=Ri;var zn=pn,Un=$n,er=jn=[0];if((Wn=Tn=[Tn])[0]=0,8>An[0])An=7;else{if(!t(Vn,Rn[0],"VP8X")){if(bi(Vn,Rn[0]+4)!=10){An=3;break e}if(18>An[0]){An=7;break e}var Gn=bi(Vn,Rn[0]+8),or=1+$i(Vn,Rn[0]+12);if(2147483648<=or*(Vn=1+$i(Vn,Rn[0]+15))){An=3;break e}er!=null&&(er[0]=Gn),zn!=null&&(zn[0]=or),Un!=null&&(Un[0]=Vn),Rn[0]+=18,An[0]-=18,Wn[0]=1}An=0}}if(Tn=Tn[0],jn=jn[0],An!=0)return An;if(Rn=!!(2&jn),!Dn&&Tn)return 3;if(en!=null&&(en[0]=!!(16&jn)),tn!=null&&(tn[0]=Rn),rn!=null&&(rn[0]=0),tn=pn[0],jn=$n[0],Tn&&Rn&&on==null){An=0;break}if(4>Ri){An=7;break}if(Dn&&Tn||!Dn&&!Tn&&!t(wi,Oi[0],"ALPH")){Ri=[Ri],Pn.na=[Pn.na],Pn.P=[Pn.P],Pn.Sa=[Pn.Sa];e:{Gn=wi,An=Oi,Dn=Ri;var Wn=Pn.gb;zn=Pn.na,Un=Pn.P,er=Pn.Sa,or=22,e(Gn!=null),e(Dn!=null),Vn=An[0];var vr=Dn[0];for(e(zn!=null),e(er!=null),zn[0]=null,Un[0]=null,er[0]=0;;){if(An[0]=Vn,Dn[0]=vr,8>vr){An=7;break e}var Ar=bi(Gn,Vn+4);if(4294967286<Ar){An=3;break e}var wr=8+Ar+1&-2;if(or+=wr,0<Wn&&or>Wn){An=3;break e}if(!t(Gn,Vn,"VP8 ")||!t(Gn,Vn,"VP8L")){An=0;break e}if(vr[0]<wr){An=7;break e}t(Gn,Vn,"ALPH")||(zn[0]=Gn,Un[0]=Vn+8,er[0]=Ar),Vn+=wr,vr-=wr}}if(Ri=Ri[0],Pn.na=Pn.na[0],Pn.P=Pn.P[0],Pn.Sa=Pn.Sa[0],An!=0)break}Ri=[Ri],Pn.Ja=[Pn.Ja],Pn.xa=[Pn.xa];e:if(Wn=wi,An=Oi,Dn=Ri,zn=Pn.gb[0],Un=Pn.Ja,er=Pn.xa,Gn=An[0],Vn=!t(Wn,Gn,"VP8 "),or=!t(Wn,Gn,"VP8L"),e(Wn!=null),e(Dn!=null),e(Un!=null),e(er!=null),8>Dn[0])An=7;else{if(Vn||or){if(Wn=bi(Wn,Gn+4),12<=zn&&Wn>zn-12){An=3;break e}if(In&&Wn>Dn[0]-8){An=7;break e}Un[0]=Wn,An[0]+=8,Dn[0]-=8,er[0]=or}else er[0]=5<=Dn[0]&&Wn[Gn+0]==47&&!(Wn[Gn+4]>>5),Un[0]=Dn[0];An=0}if(Ri=Ri[0],Pn.Ja=Pn.Ja[0],Pn.xa=Pn.xa[0],Oi=Oi[0],An!=0)break;if(4294967286<Pn.Ja)return 3;if(rn==null||Rn||(rn[0]=Pn.xa?2:1),tn=[tn],jn=[jn],Pn.xa){if(5>Ri){An=7;break}rn=tn,In=jn,Rn=en,wi==null||5>Ri?wi=0:5<=Ri&&wi[Oi+0]==47&&!(wi[Oi+4]>>5)?(Dn=[0],Wn=[0],zn=[0],vi(Un=new Pi,wi,Oi,Ri),xn(Un,Dn,Wn,zn)?(rn!=null&&(rn[0]=Dn[0]),In!=null&&(In[0]=Wn[0]),Rn!=null&&(Rn[0]=zn[0]),wi=1):wi=0):wi=0}else{if(10>Ri){An=7;break}rn=jn,wi==null||10>Ri||!Da(wi,Oi+3,Ri-3)?wi=0:(In=wi[Oi+0]|wi[Oi+1]<<8|wi[Oi+2]<<16,Rn=16383&(wi[Oi+7]<<8|wi[Oi+6]),wi=16383&(wi[Oi+9]<<8|wi[Oi+8]),1&In||3<(In>>1&7)||!(In>>4&1)||In>>5>=Pn.Ja||!Rn||!wi?wi=0:(tn&&(tn[0]=Rn),rn&&(rn[0]=wi),wi=1))}if(!wi||(tn=tn[0],jn=jn[0],Tn&&(pn[0]!=tn||$n[0]!=jn)))return 3;on!=null&&(on[0]=Pn,on.offset=Oi-on.w,e(4294967286>Oi-on.w),e(on.offset==on.ha-Ri));break}return An==0||An==7&&Tn&&on==null?(en!=null&&(en[0]|=Pn.na!=null&&0<Pn.na.length),Hi!=null&&(Hi[0]=tn),Zi!=null&&(Zi[0]=jn),0):An}function sa(wi,Oi,Ri){var Hi=Oi.width,Zi=Oi.height,en=0,tn=0,rn=Hi,on=Zi;if(Oi.Da=wi!=null&&0<wi.Da,Oi.Da&&(rn=wi.cd,on=wi.bd,en=wi.v,tn=wi.j,11>Ri||(en&=-2,tn&=-2),0>en||0>tn||0>=rn||0>=on||en+rn>Hi||tn+on>Zi))return 0;if(Oi.v=en,Oi.j=tn,Oi.va=en+rn,Oi.o=tn+on,Oi.U=rn,Oi.T=on,Oi.da=wi!=null&&0<wi.da,Oi.da){if(!zi(rn,on,Ri=[wi.ib],en=[wi.hb]))return 0;Oi.ib=Ri[0],Oi.hb=en[0]}return Oi.ob=wi!=null&&wi.ob,Oi.Kb=wi==null||!wi.Sd,Oi.da&&(Oi.ob=Oi.ib<3*Hi/4&&Oi.hb<3*Zi/4,Oi.Kb=0),1}function aa(wi){if(wi==null)return 2;if(11>wi.S){var Oi=wi.f.RGBA;Oi.fb+=(wi.height-1)*Oi.A,Oi.A=-Oi.A}else Oi=wi.f.kb,wi=wi.height,Oi.O+=(wi-1)*Oi.fa,Oi.fa=-Oi.fa,Oi.N+=(wi-1>>1)*Oi.Ab,Oi.Ab=-Oi.Ab,Oi.W+=(wi-1>>1)*Oi.Db,Oi.Db=-Oi.Db,Oi.F!=null&&(Oi.J+=(wi-1)*Oi.lb,Oi.lb=-Oi.lb);return 0}function Ds(wi,Oi,Ri,Hi){if(Hi==null||0>=wi||0>=Oi)return 2;if(Ri!=null){if(Ri.Da){var Zi=Ri.cd,en=Ri.bd,tn=-2&Ri.v,rn=-2&Ri.j;if(0>tn||0>rn||0>=Zi||0>=en||tn+Zi>wi||rn+en>Oi)return 2;wi=Zi,Oi=en}if(Ri.da){if(!zi(wi,Oi,Zi=[Ri.ib],en=[Ri.hb]))return 2;wi=Zi[0],Oi=en[0]}}Hi.width=wi,Hi.height=Oi;e:{var on=Hi.width,pn=Hi.height;if(wi=Hi.S,0>=on||0>=pn||!(wi>=qa&&13>wi))wi=2;else{if(0>=Hi.Rd&&Hi.sd==null){tn=en=Zi=Oi=0;var $n=(rn=on*Hu[wi])*pn;if(11>wi||(en=(pn+1)/2*(Oi=(on+1)/2),wi==12&&(tn=(Zi=on)*pn)),(pn=je($n+2*en+tn))==null){wi=1;break e}Hi.sd=pn,11>wi?((on=Hi.f.RGBA).eb=pn,on.fb=0,on.A=rn,on.size=$n):((on=Hi.f.kb).y=pn,on.O=0,on.fa=rn,on.Fd=$n,on.f=pn,on.N=0+$n,on.Ab=Oi,on.Cd=en,on.ea=pn,on.W=0+$n+en,on.Db=Oi,on.Ed=en,wi==12&&(on.F=pn,on.J=0+$n+2*en),on.Tc=tn,on.lb=Zi)}if(Oi=1,Zi=Hi.S,en=Hi.width,tn=Hi.height,Zi>=qa&&13>Zi)if(11>Zi)wi=Hi.f.RGBA,Oi&=(rn=Math.abs(wi.A))*(tn-1)+en<=wi.size,Oi&=rn>=en*Hu[Zi],Oi&=wi.eb!=null;else{wi=Hi.f.kb,rn=(en+1)/2,$n=(tn+1)/2,on=Math.abs(wi.fa),pn=Math.abs(wi.Ab);var Tn=Math.abs(wi.Db),In=Math.abs(wi.lb),Pn=In*(tn-1)+en;Oi&=on*(tn-1)+en<=wi.Fd,Oi&=pn*($n-1)+rn<=wi.Cd,Oi=(Oi&=Tn*($n-1)+rn<=wi.Ed)&on>=en&pn>=rn&Tn>=rn,Oi&=wi.y!=null,Oi&=wi.f!=null,Oi&=wi.ea!=null,Zi==12&&(Oi&=In>=en,Oi&=Pn<=wi.Tc,Oi&=wi.F!=null)}else Oi=0;wi=Oi?0:2}}return wi!=0||Ri!=null&&Ri.fd&&(wi=aa(Hi)),wi}var Zr=64,Ss=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ps=24,Es=32,la=8,Jr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ji("Predictor0","PredictorAdd0"),hi.Predictor0=function(){return 4278190080},hi.Predictor1=function(wi){return wi},hi.Predictor2=function(wi,Oi,Ri){return Oi[Ri+0]},hi.Predictor3=function(wi,Oi,Ri){return Oi[Ri+1]},hi.Predictor4=function(wi,Oi,Ri){return Oi[Ri-1]},hi.Predictor5=function(wi,Oi,Ri){return hn(hn(wi,Oi[Ri+1]),Oi[Ri+0])},hi.Predictor6=function(wi,Oi,Ri){return hn(wi,Oi[Ri-1])},hi.Predictor7=function(wi,Oi,Ri){return hn(wi,Oi[Ri+0])},hi.Predictor8=function(wi,Oi,Ri){return hn(Oi[Ri-1],Oi[Ri+0])},hi.Predictor9=function(wi,Oi,Ri){return hn(Oi[Ri+0],Oi[Ri+1])},hi.Predictor10=function(wi,Oi,Ri){return hn(hn(wi,Oi[Ri-1]),hn(Oi[Ri+0],Oi[Ri+1]))},hi.Predictor11=function(wi,Oi,Ri){var Hi=Oi[Ri+0];return 0>=sn(Hi>>24&255,wi>>24&255,(Oi=Oi[Ri-1])>>24&255)+sn(Hi>>16&255,wi>>16&255,Oi>>16&255)+sn(Hi>>8&255,wi>>8&255,Oi>>8&255)+sn(255&Hi,255&wi,255&Oi)?Hi:wi},hi.Predictor12=function(wi,Oi,Ri){var Hi=Oi[Ri+0];return(un((wi>>24&255)+(Hi>>24&255)-((Oi=Oi[Ri-1])>>24&255))<<24|un((wi>>16&255)+(Hi>>16&255)-(Oi>>16&255))<<16|un((wi>>8&255)+(Hi>>8&255)-(Oi>>8&255))<<8|un((255&wi)+(255&Hi)-(255&Oi)))>>>0},hi.Predictor13=function(wi,Oi,Ri){var Hi=Oi[Ri-1];return(Mn((wi=hn(wi,Oi[Ri+0]))>>24&255,Hi>>24&255)<<24|Mn(wi>>16&255,Hi>>16&255)<<16|Mn(wi>>8&255,Hi>>8&255)<<8|Mn(wi>>0&255,Hi>>0&255))>>>0};var Ul=hi.PredictorAdd0;hi.PredictorAdd1=vn,Ji("Predictor2","PredictorAdd2"),Ji("Predictor3","PredictorAdd3"),Ji("Predictor4","PredictorAdd4"),Ji("Predictor5","PredictorAdd5"),Ji("Predictor6","PredictorAdd6"),Ji("Predictor7","PredictorAdd7"),Ji("Predictor8","PredictorAdd8"),Ji("Predictor9","PredictorAdd9"),Ji("Predictor10","PredictorAdd10"),Ji("Predictor11","PredictorAdd11"),Ji("Predictor12","PredictorAdd12"),Ji("Predictor13","PredictorAdd13");var ua=hi.PredictorAdd2;fn("ColorIndexInverseTransform","MapARGB","32b",function(wi){return wi>>8&255},function(wi){return wi}),fn("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(wi){return wi},function(wi){return wi>>8&255});var Ha,bo=hi.ColorIndexInverseTransform,ha=hi.MapARGB,jl=hi.VP8LColorIndexInverseTransformAlpha,zl=hi.MapAlpha,Wo=hi.VP8LPredictorsAdd=[];Wo.length=16,(hi.VP8LPredictors=[]).length=16,(hi.VP8LPredictorsAdd_C=[]).length=16,(hi.VP8LPredictors_C=[]).length=16;var co,vo,Ko,To,Fo,ks,_o,Os,ca,Zo,$o,Bo,cs,Ts,ds,Jo,da,mo,Vo,Sr,Pr,Lr,Br,Uo,Qo,Is,Xa,Mu,Du=je(511),Su=je(2041),Pu=je(225),Eu=je(767),ku=0,Hl=Su,Ga=Pu,ro=Eu,fo=Du,qa=0,Ya=1,Ou=2,Wa=3,Ka=4,Xl=5,Tu=6,Gl=7,ql=8,Za=9,Yl=10,ec=[2,3,7],tc=[3,3,11],Iu=[280,256,256,256,40],ic=[0,1,1,1,0],nc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],rc=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],oc=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],sc=8,Wl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Kl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ma=null,ac=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],uc=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Lu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],hc=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],cc=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],dc=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],mc=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],es=[],Ao=[],jo=[],fc=1,Nu=2,ts=[],po=[];Bn("UpsampleRgbLinePair",xr,3),Bn("UpsampleBgrLinePair",kr,3),Bn("UpsampleRgbaLinePair",wo,4),Bn("UpsampleBgraLinePair",jr,4),Bn("UpsampleArgbLinePair",Yr,4),Bn("UpsampleRgba4444LinePair",Nr,2),Bn("UpsampleRgb565LinePair",Ir,2);var pc=hi.UpsampleRgbLinePair,gc=hi.UpsampleBgrLinePair,Ru=hi.UpsampleRgbaLinePair,Fu=hi.UpsampleBgraLinePair,Bu=hi.UpsampleArgbLinePair,Vu=hi.UpsampleRgba4444LinePair,yc=hi.UpsampleRgb565LinePair,Ja=16,Qa=1<<Ja-1,fa=-227,Zl=482,Uu=6,xc=(256<<Uu)-1,ju=0,wc=je(256),bc=je(256),vc=je(256),_c=je(256),$c=je(Zl-fa),Ac=je(Zl-fa);Ro("YuvToRgbRow",xr,3),Ro("YuvToBgrRow",kr,3),Ro("YuvToRgbaRow",wo,4),Ro("YuvToBgraRow",jr,4),Ro("YuvToArgbRow",Yr,4),Ro("YuvToRgba4444Row",Nr,2),Ro("YuvToRgb565Row",Ir,2);var zu=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],el=[0,2,8],Cc=[8,7,6,4,4,2,2,2,1,1,1,1],Mc=1;this.WebPDecodeRGBA=function(wi,Oi,Ri,Hi,Zi){var en=Ya,tn=new As,rn=new tr;tn.ba=rn,rn.S=en,rn.width=[rn.width],rn.height=[rn.height];var on=rn.width,pn=rn.height,$n=new qn;if($n==null||wi==null)var Tn=2;else e($n!=null),Tn=Ms(wi,Oi,Ri,$n.width,$n.height,$n.Pd,$n.Qd,$n.format,null);if(Tn!=0?on=0:(on!=null&&(on[0]=$n.width[0]),pn!=null&&(pn[0]=$n.height[0]),on=1),on){rn.width=rn.width[0],rn.height=rn.height[0],Hi!=null&&(Hi[0]=rn.width),Zi!=null&&(Zi[0]=rn.height);e:{if(Hi=new ys,(Zi=new ea).data=wi,Zi.w=Oi,Zi.ha=Ri,Zi.kd=1,Oi=[0],e(Zi!=null),((wi=Ms(Zi.data,Zi.w,Zi.ha,null,null,null,Oi,null,Zi))==0||wi==7)&&Oi[0]&&(wi=4),(Oi=wi)==0){if(e(tn!=null),Hi.data=Zi.data,Hi.w=Zi.w+Zi.offset,Hi.ha=Zi.ha-Zi.offset,Hi.put=Wi,Hi.ac=Ii,Hi.bc=nn,Hi.ma=tn,Zi.xa){if((wi=br())==null){tn=1;break e}if(function(In,Pn){var jn=[0],Rn=[0],An=[0];t:for(;;){if(In==null)return 0;if(Pn==null)return In.a=2,0;if(In.l=Pn,In.a=0,vi(In.m,Pn.data,Pn.w,Pn.ha),!xn(In.m,jn,Rn,An)){In.a=3;break t}if(In.xb=Nu,Pn.width=jn[0],Pn.height=Rn[0],!Er(jn[0],Rn[0],1,In,null))break t;return 1}return e(In.a!=0),0}(wi,Hi)){if(Hi=(Oi=Ds(Hi.width,Hi.height,tn.Oa,tn.ba))==0){t:{Hi=wi;i:for(;;){if(Hi==null){Hi=0;break t}if(e(Hi.s.yc!=null),e(Hi.s.Ya!=null),e(0<Hi.s.Wb),e((Ri=Hi.l)!=null),e((Zi=Ri.ma)!=null),Hi.xb!=0){if(Hi.ca=Zi.ba,Hi.tb=Zi.tb,e(Hi.ca!=null),!sa(Zi.Oa,Ri,Wa)){Hi.a=2;break i}if(!$r(Hi,Ri.width)||Ri.da)break i;if((Ri.da||Nn(Hi.ca.S))&&En(),11>Hi.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Hi.ca.f.kb.F!=null&&En()),Hi.Pb&&0<Hi.s.ua&&Hi.s.vb.X==null&&!Ci(Hi.s.vb,Hi.s.Wa.Xa)){Hi.a=1;break i}Hi.xb=0}if(!yr(Hi,Hi.V,Hi.Ba,Hi.c,Hi.i,Ri.o,Ur))break i;Zi.Dc=Hi.Ma,Hi=1;break t}e(Hi.a!=0),Hi=0}Hi=!Hi}Hi&&(Oi=wi.a)}else Oi=wi.a}else{if((wi=new _l)==null){tn=1;break e}if(wi.Fa=Zi.na,wi.P=Zi.P,wi.qc=Zi.Sa,Sa(wi,Hi)){if((Oi=Ds(Hi.width,Hi.height,tn.Oa,tn.ba))==0){if(wi.Aa=0,Ri=tn.Oa,e((Zi=wi)!=null),Ri!=null){if(0<(on=0>(on=Ri.Md)?0:100<on?255:255*on/100)){for(pn=$n=0;4>pn;++pn)12>(Tn=Zi.pb[pn]).lc&&(Tn.ia=on*Cc[0>Tn.lc?0:Tn.lc]>>3),$n|=Tn.ia;$n&&(alert("todo:VP8InitRandom"),Zi.ia=1)}Zi.Ga=Ri.Id,100<Zi.Ga?Zi.Ga=100:0>Zi.Ga&&(Zi.Ga=0)}$l(wi,Hi)||(Oi=wi.a)}}else Oi=wi.a}Oi==0&&tn.Oa!=null&&tn.Oa.fd&&(Oi=aa(tn.ba))}tn=Oi}en=tn!=0?null:11>en?rn.f.RGBA.eb:rn.f.kb.y}else en=null;return en};var Hu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function qe(hi,ci){for(var mi="",di=0;di<4;di++)mi+=String.fromCharCode(hi[ci++]);return mi}function Ke(hi,ci){return(hi[ci+0]<<0|hi[ci+1]<<8|hi[ci+2]<<16)>>>0}function Ze(hi,ci){return(hi[ci+0]<<0|hi[ci+1]<<8|hi[ci+2]<<16|hi[ci+3]<<24)>>>0}new We;var Je=[0],Qe=[0],ti=[],ni=new We,ri=$e,ii=function(hi,ci){var mi={},di=0,pi=!1,yi=0,gi=0;if(mi.frames=[],!function(Fi,Vi,Ti,ji){for(var Gi=0;Gi<ji;Gi++)if(Fi[Vi+Gi]!=Ti.charCodeAt(Gi))return!0;return!1}(hi,ci,"RIFF",4)){var _i,Ai;for(Ze(hi,ci+=4),ci+=8;ci<hi.length;){var ki=qe(hi,ci),vi=Ze(hi,ci+=4);ci+=4;var Mi=vi+(1&vi);switch(ki){case"VP8 ":case"VP8L":mi.frames[di]===void 0&&(mi.frames[di]={}),(Pi=mi.frames[di]).src_off=pi?gi:ci-8,Pi.src_size=yi+vi+8,di++,pi&&(pi=!1,yi=0,gi=0);break;case"VP8X":(Pi=mi.header={}).feature_flags=hi[ci];var Di=ci+4;Pi.canvas_width=1+Ke(hi,Di),Di+=3,Pi.canvas_height=1+Ke(hi,Di),Di+=3;break;case"ALPH":pi=!0,yi=Mi+8,gi=ci-8;break;case"ANIM":(Pi=mi.header).bgcolor=Ze(hi,ci),Di=ci+4,Pi.loop_count=(_i=hi)[(Ai=Di)+0]<<0|_i[Ai+1]<<8,Di+=2;break;case"ANMF":var Bi,Pi;(Pi=mi.frames[di]={}).offset_x=2*Ke(hi,ci),ci+=3,Pi.offset_y=2*Ke(hi,ci),ci+=3,Pi.width=1+Ke(hi,ci),ci+=3,Pi.height=1+Ke(hi,ci),ci+=3,Pi.duration=Ke(hi,ci),ci+=3,Bi=hi[ci++],Pi.dispose=1&Bi,Pi.blend=Bi>>1&1}ki!="ANMF"&&(ci+=Mi)}return mi}}(ri,0);ii.response=ri,ii.rgbaoutput=!0,ii.dataurl=!1;var ei=ii.header?ii.header:null,St=ii.frames?ii.frames:null;if(ei){ei.loop_counter=ei.loop_count,Je=[ei.canvas_height],Qe=[ei.canvas_width];for(var oi=0;oi<St.length&&St[oi].blend!=0;oi++);}var si=St[0],ai=ni.WebPDecodeRGBA(ri,si.src_off,si.src_size,Qe,Je);si.rgba=ai,si.imgwidth=Qe[0],si.imgheight=Je[0];for(var ui=0;ui<Qe[0]*Je[0]*4;ui++)ti[ui]=ai[ui];return this.width=Qe,this.height=Je,this.data=ti,this}(function($e){var e=function(){return typeof zlibSync=="function"},t=function(Je,Qe,ti,ni){var ri=4,ii=ze;switch(ni){case $e.image_compression.FAST:ri=1,ii=je;break;case $e.image_compression.MEDIUM:ri=6,ii=Xe;break;case $e.image_compression.SLOW:ri=9,ii=We}Je=r(Je,Qe,ti,ii);var ei=zlibSync(Je,{level:ri});return $e.__addimage__.arrayBufferToBinaryString(ei)},r=function(Je,Qe,ti,ni){for(var ri,ii,ei,St=Je.length/Qe,oi=new Uint8Array(Je.length+St),si=Ke(),ai=0;ai<St;ai+=1){if(ei=ai*Qe,ri=Je.subarray(ei,ei+Qe),ni)oi.set(ni(ri,ti,ii),ei+ai);else{for(var ui,hi=si.length,ci=[];ui<hi;ui+=1)ci[ui]=si[ui](ri,ti,ii);var mi=Ze(ci.concat());oi.set(ci[mi],ei+ai)}ii=ri}return oi},Ve=function(Je){var Qe=Array.apply([],Je);return Qe.unshift(0),Qe},je=function(Je,Qe){var ti,ni=[],ri=Je.length;ni[0]=1;for(var ii=0;ii<ri;ii+=1)ti=Je[ii-Qe]||0,ni[ii+1]=Je[ii]-ti+256&255;return ni},ze=function(Je,Qe,ti){var ni,ri=[],ii=Je.length;ri[0]=2;for(var ei=0;ei<ii;ei+=1)ni=ti&&ti[ei]||0,ri[ei+1]=Je[ei]-ni+256&255;return ri},Xe=function(Je,Qe,ti){var ni,ri,ii=[],ei=Je.length;ii[0]=3;for(var St=0;St<ei;St+=1)ni=Je[St-Qe]||0,ri=ti&&ti[St]||0,ii[St+1]=Je[St]+256-(ni+ri>>>1)&255;return ii},We=function(Je,Qe,ti){var ni,ri,ii,ei,St=[],oi=Je.length;St[0]=4;for(var si=0;si<oi;si+=1)ni=Je[si-Qe]||0,ri=ti&&ti[si]||0,ii=ti&&ti[si-Qe]||0,ei=qe(ni,ri,ii),St[si+1]=Je[si]-ei+256&255;return St},qe=function(Je,Qe,ti){if(Je===Qe&&Qe===ti)return Je;var ni=Math.abs(Qe-ti),ri=Math.abs(Je-ti),ii=Math.abs(Je+Qe-ti-ti);return ni<=ri&&ni<=ii?Je:ri<=ii?Qe:ti},Ke=function(){return[Ve,je,ze,Xe,We]},Ze=function(Je){var Qe=Je.map(function(ti){return ti.reduce(function(ni,ri){return ni+Math.abs(ri)},0)});return Qe.indexOf(Math.min.apply(null,Qe))};$e.processPNG=function(Je,Qe,ti,ni){var ri,ii,ei,St,oi,si,ai,ui,hi,ci,mi,di,pi,yi,gi,_i=this.decode.FLATE_DECODE,Ai="";if(this.__addimage__.isArrayBuffer(Je)&&(Je=new Uint8Array(Je)),this.__addimage__.isArrayBufferView(Je)){if(Je=(ei=new Kt(Je)).imgData,ii=ei.bits,ri=ei.colorSpace,oi=ei.colors,[4,6].indexOf(ei.colorType)!==-1){if(ei.bits===8){hi=(ui=ei.pixelBitlength==32?new Uint32Array(ei.decodePixels().buffer):ei.pixelBitlength==16?new Uint16Array(ei.decodePixels().buffer):new Uint8Array(ei.decodePixels().buffer)).length,mi=new Uint8Array(hi*ei.colors),ci=new Uint8Array(hi);var ki,vi=ei.pixelBitlength-ei.bits;for(yi=0,gi=0;yi<hi;yi++){for(pi=ui[yi],ki=0;ki<vi;)mi[gi++]=pi>>>ki&255,ki+=ei.bits;ci[yi]=pi>>>ki&255}}if(ei.bits===16){hi=(ui=new Uint32Array(ei.decodePixels().buffer)).length,mi=new Uint8Array(hi*(32/ei.pixelBitlength)*ei.colors),ci=new Uint8Array(hi*(32/ei.pixelBitlength)),di=ei.colors>1,yi=0,gi=0;for(var Mi=0;yi<hi;)pi=ui[yi++],mi[gi++]=pi>>>0&255,di&&(mi[gi++]=pi>>>16&255,pi=ui[yi++],mi[gi++]=pi>>>0&255),ci[Mi++]=pi>>>16&255;ii=8}ni!==$e.image_compression.NONE&&e()?(Je=t(mi,ei.width*ei.colors,ei.colors,ni),ai=t(ci,ei.width,1,ni)):(Je=mi,ai=ci,_i=void 0)}if(ei.colorType===3&&(ri=this.color_spaces.INDEXED,si=ei.palette,ei.transparency.indexed)){var Di=ei.transparency.indexed,Bi=0;for(yi=0,hi=Di.length;yi<hi;++yi)Bi+=Di[yi];if((Bi/=255)===hi-1&&Di.indexOf(0)!==-1)St=[Di.indexOf(0)];else if(Bi!==hi){for(ui=ei.decodePixels(),ci=new Uint8Array(ui.length),yi=0,hi=ui.length;yi<hi;yi++)ci[yi]=Di[ui[yi]];ai=t(ci,ei.width,1)}}var Pi=function(Fi){var Vi;switch(Fi){case $e.image_compression.FAST:Vi=11;break;case $e.image_compression.MEDIUM:Vi=13;break;case $e.image_compression.SLOW:Vi=14;break;default:Vi=12}return Vi}(ni);return _i===this.decode.FLATE_DECODE&&(Ai="/Predictor "+Pi+" "),Ai+="/Colors "+oi+" /BitsPerComponent "+ii+" /Columns "+ei.width,(this.__addimage__.isArrayBuffer(Je)||this.__addimage__.isArrayBufferView(Je))&&(Je=this.__addimage__.arrayBufferToBinaryString(Je)),(ai&&this.__addimage__.isArrayBuffer(ai)||this.__addimage__.isArrayBufferView(ai))&&(ai=this.__addimage__.arrayBufferToBinaryString(ai)),{alias:ti,data:Je,index:Qe,filter:_i,decodeParameters:Ai,transparency:St,palette:si,sMask:ai,predictor:Pi,width:ei.width,height:ei.height,bitsPerComponent:ii,colorSpace:ri}}}})(E.API),function($e){$e.processGIF89A=function(e,t,r,Ve){var je=new Zt(e),ze=je.width,Xe=je.height,We=[];je.decodeAndBlitFrameRGBA(0,We);var qe={data:We,width:ze,height:Xe},Ke=new Qt(100).encode(qe,100);return $e.processJPEG.call(this,Ke,t,r,Ve)},$e.processGIF87A=$e.processGIF89A}(E.API),te.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var $e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array($e);for(var e=0;e<$e;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),Ve=this.datav.getUint8(this.pos++,!0),je=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:Ve,green:r,blue:t,quad:je}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},te.prototype.parseBGR=function(){this.pos=this.offset;try{var $e="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[$e]()}catch(t){a.log("bit decode error:"+t)}},te.prototype.bit1=function(){var $e,e=Math.ceil(this.width/8),t=e%4;for($e=this.height-1;$e>=0;$e--){for(var r=this.bottom_up?$e:this.height-1-$e,Ve=0;Ve<e;Ve++)for(var je=this.datav.getUint8(this.pos++,!0),ze=r*this.width*4+8*Ve*4,Xe=0;Xe<8&&8*Ve+Xe<this.width;Xe++){var We=this.palette[je>>7-Xe&1];this.data[ze+4*Xe]=We.blue,this.data[ze+4*Xe+1]=We.green,this.data[ze+4*Xe+2]=We.red,this.data[ze+4*Xe+3]=255}t!==0&&(this.pos+=4-t)}},te.prototype.bit4=function(){for(var $e=Math.ceil(this.width/2),e=$e%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,Ve=0;Ve<$e;Ve++){var je=this.datav.getUint8(this.pos++,!0),ze=r*this.width*4+2*Ve*4,Xe=je>>4,We=15&je,qe=this.palette[Xe];if(this.data[ze]=qe.blue,this.data[ze+1]=qe.green,this.data[ze+2]=qe.red,this.data[ze+3]=255,2*Ve+1>=this.width)break;qe=this.palette[We],this.data[ze+4]=qe.blue,this.data[ze+4+1]=qe.green,this.data[ze+4+2]=qe.red,this.data[ze+4+3]=255}e!==0&&(this.pos+=4-e)}},te.prototype.bit8=function(){for(var $e=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var Ve=this.datav.getUint8(this.pos++,!0),je=t*this.width*4+4*r;if(Ve<this.palette.length){var ze=this.palette[Ve];this.data[je]=ze.red,this.data[je+1]=ze.green,this.data[je+2]=ze.blue,this.data[je+3]=255}else this.data[je]=255,this.data[je+1]=255,this.data[je+2]=255,this.data[je+3]=255}$e!==0&&(this.pos+=4-$e)}},te.prototype.bit15=function(){for(var $e=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,Ve=0;Ve<this.width;Ve++){var je=this.datav.getUint16(this.pos,!0);this.pos+=2;var ze=(je&e)/e*255|0,Xe=(je>>5&e)/e*255|0,We=(je>>10&e)/e*255|0,qe=je>>15?255:0,Ke=r*this.width*4+4*Ve;this.data[Ke]=We,this.data[Ke+1]=Xe,this.data[Ke+2]=ze,this.data[Ke+3]=qe}this.pos+=$e}},te.prototype.bit16=function(){for(var $e=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var Ve=this.bottom_up?r:this.height-1-r,je=0;je<this.width;je++){var ze=this.datav.getUint16(this.pos,!0);this.pos+=2;var Xe=(ze&e)/e*255|0,We=(ze>>5&t)/t*255|0,qe=(ze>>11)/e*255|0,Ke=Ve*this.width*4+4*je;this.data[Ke]=qe,this.data[Ke+1]=We,this.data[Ke+2]=Xe,this.data[Ke+3]=255}this.pos+=$e}},te.prototype.bit24=function(){for(var $e=this.height-1;$e>=0;$e--){for(var e=this.bottom_up?$e:this.height-1-$e,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),Ve=this.datav.getUint8(this.pos++,!0),je=this.datav.getUint8(this.pos++,!0),ze=e*this.width*4+4*t;this.data[ze]=je,this.data[ze+1]=Ve,this.data[ze+2]=r,this.data[ze+3]=255}this.pos+=this.width%4}},te.prototype.bit32=function(){for(var $e=this.height-1;$e>=0;$e--)for(var e=this.bottom_up?$e:this.height-1-$e,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),Ve=this.datav.getUint8(this.pos++,!0),je=this.datav.getUint8(this.pos++,!0),ze=this.datav.getUint8(this.pos++,!0),Xe=e*this.width*4+4*t;this.data[Xe]=je,this.data[Xe+1]=Ve,this.data[Xe+2]=r,this.data[Xe+3]=ze}},te.prototype.getData=function(){return this.data},function($e){$e.processBMP=function(e,t,r,Ve){var je=new te(e,!1),ze=je.width,Xe=je.height,We={data:je.getData(),width:ze,height:Xe},qe=new Qt(100).encode(We,100);return $e.processJPEG.call(this,qe,t,r,Ve)}}(E.API),ee.prototype.getData=function(){return this.data},function($e){$e.processWEBP=function(e,t,r,Ve){var je=new ee(e),ze=je.width,Xe=je.height,We={data:je.getData(),width:ze,height:Xe},qe=new Qt(100).encode(We,100);return $e.processJPEG.call(this,qe,t,r,Ve)}}(E.API),E.API.processRGBA=function($e,e,t){for(var r=$e.data,Ve=r.length,je=new Uint8Array(Ve/4*3),ze=new Uint8Array(Ve/4),Xe=0,We=0,qe=0;qe<Ve;qe+=4){var Ke=r[qe],Ze=r[qe+1],Je=r[qe+2],Qe=r[qe+3];je[Xe++]=Ke,je[Xe++]=Ze,je[Xe++]=Je,ze[We++]=Qe}var ti=this.__addimage__.arrayBufferToBinaryString(je);return{alpha:this.__addimage__.arrayBufferToBinaryString(ze),data:ti,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:$e.width,height:$e.height}},E.API.setLanguage=function($e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[$e]!==void 0&&(this.internal.languageSettings.languageCode=$e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Vt=E.API,Gt=Vt.getCharWidthsArray=function($e,e){var t,r,Ve=(e=e||{}).font||this.internal.getFont(),je=e.fontSize||this.internal.getFontSize(),ze=e.charSpace||this.internal.getCharSpace(),Xe=e.widths?e.widths:Ve.metadata.Unicode.widths,We=Xe.fof?Xe.fof:1,qe=e.kerning?e.kerning:Ve.metadata.Unicode.kerning,Ke=qe.fof?qe.fof:1,Ze=e.doKerning!==!1,Je=0,Qe=$e.length,ti=0,ni=Xe[0]||We,ri=[];for(t=0;t<Qe;t++)r=$e.charCodeAt(t),typeof Ve.metadata.widthOfString=="function"?ri.push((Ve.metadata.widthOfGlyph(Ve.metadata.characterToGlyph(r))+ze*(1e3/je)||0)/1e3):(Je=Ze&&_typeof(qe[r])==="object"&&!isNaN(parseInt(qe[r][ti],10))?qe[r][ti]/Ke:0,ri.push((Xe[r]||ni)/We+Je)),ti=r;return ri},Yt=Vt.getStringUnitWidth=function($e,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),Ve=e.charSpace||this.internal.getCharSpace();return Vt.processArabic&&($e=Vt.processArabic($e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString($e,t,Ve)/t:Gt.apply(this,arguments).reduce(function(je,ze){return je+ze},0)},Jt=function($e,e,t,r){for(var Ve=[],je=0,ze=$e.length,Xe=0;je!==ze&&Xe+e[je]<t;)Xe+=e[je],je++;Ve.push($e.slice(0,je));var We=je;for(Xe=0;je!==ze;)Xe+e[je]>r&&(Ve.push($e.slice(We,je)),Xe=0,We=je),Xe+=e[je],je++;return We!==je&&Ve.push($e.slice(We,je)),Ve},Xt=function($e,e,t){t||(t={});var r,Ve,je,ze,Xe,We,qe,Ke=[],Ze=[Ke],Je=t.textIndent||0,Qe=0,ti=0,ni=$e.split(" "),ri=Gt.apply(this,[" ",t])[0];if(We=t.lineIndent===-1?ni[0].length+2:t.lineIndent||0){var ii=Array(We).join(" "),ei=[];ni.map(function(oi){(oi=oi.split(/\s*\n/)).length>1?ei=ei.concat(oi.map(function(si,ai){return(ai&&si.length?`
`:"")+si})):ei.push(oi[0])}),ni=ei,We=Yt.apply(this,[ii,t])}for(je=0,ze=ni.length;je<ze;je++){var St=0;if(r=ni[je],We&&r[0]==`
`&&(r=r.substr(1),St=1),Je+Qe+(ti=(Ve=Gt.apply(this,[r,t])).reduce(function(oi,si){return oi+si},0))>e||St){if(ti>e){for(Xe=Jt.apply(this,[r,Ve,e-(Je+Qe),e]),Ke.push(Xe.shift()),Ke=[Xe.pop()];Xe.length;)Ze.push([Xe.shift()]);ti=Ve.slice(r.length-(Ke[0]?Ke[0].length:0)).reduce(function(oi,si){return oi+si},0)}else Ke=[r];Ze.push(Ke),Je=ti+We,Qe=ri}else Ke.push(r),Je+=Qe+ti,Qe=ri}return qe=We?function(oi,si){return(si?ii:"")+oi.join(" ")}:function(oi){return oi.join(" ")},Ze.map(qe)},Vt.splitTextToSize=function($e,e,t){var r,Ve=(t=t||{}).fontSize||this.internal.getFontSize(),je=(function(Ke){if(Ke.widths&&Ke.kerning)return{widths:Ke.widths,kerning:Ke.kerning};var Ze=this.internal.getFont(Ke.fontName,Ke.fontStyle);return Ze.metadata.Unicode?{widths:Ze.metadata.Unicode.widths||{0:1},kerning:Ze.metadata.Unicode.kerning||{}}:{font:Ze.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray($e)?$e:String($e).split(/\r?\n/);var ze=1*this.internal.scaleFactor*e/Ve;je.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/Ve:0,je.lineIndent=t.lineIndent;var Xe,We,qe=[];for(Xe=0,We=r.length;Xe<We;Xe++)qe=qe.concat(Xt.apply(this,[r[Xe],ze,je]));return qe},function($e){$e.__fontmetrics__=$e.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},Ve=0;Ve<e.length;Ve++)t[e[Ve]]="0123456789abcdef"[Ve],r["0123456789abcdef"[Ve]]=e[Ve];var je=function(Ze){return"0x"+parseInt(Ze,10).toString(16)},ze=$e.__fontmetrics__.compress=function(Ze){var Je,Qe,ti,ni,ri=["{"];for(var ii in Ze){if(Je=Ze[ii],isNaN(parseInt(ii,10))?Qe="'"+ii+"'":(ii=parseInt(ii,10),Qe=(Qe=je(ii).slice(2)).slice(0,-1)+r[Qe.slice(-1)]),typeof Je=="number")Je<0?(ti=je(Je).slice(3),ni="-"):(ti=je(Je).slice(2),ni=""),ti=ni+ti.slice(0,-1)+r[ti.slice(-1)];else{if(_typeof(Je)!=="object")throw new Error("Don't know what to do with value type "+_typeof(Je)+".");ti=ze(Je)}ri.push(Qe+ti)}return ri.push("}"),ri.join("")},Xe=$e.__fontmetrics__.uncompress=function(Ze){if(typeof Ze!="string")throw new Error("Invalid argument passed to uncompress.");for(var Je,Qe,ti,ni,ri={},ii=1,ei=ri,St=[],oi="",si="",ai=Ze.length-1,ui=1;ui<ai;ui+=1)(ni=Ze[ui])=="'"?Je?(ti=Je.join(""),Je=void 0):Je=[]:Je?Je.push(ni):ni=="{"?(St.push([ei,ti]),ei={},ti=void 0):ni=="}"?((Qe=St.pop())[0][Qe[1]]=ei,ti=void 0,ei=Qe[0]):ni=="-"?ii=-1:ti===void 0?t.hasOwnProperty(ni)?(oi+=t[ni],ti=parseInt(oi,16)*ii,ii=1,oi=""):oi+=ni:t.hasOwnProperty(ni)?(si+=t[ni],ei[ti]=parseInt(si,16)*ii,ii=1,ti=void 0,si=""):si+=ni;return ri},We={codePages:["WinAnsiEncoding"],WinAnsiEncoding:Xe("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},qe={Unicode:{Courier:We,"Courier-Bold":We,"Courier-BoldOblique":We,"Courier-Oblique":We,Helvetica:We,"Helvetica-Bold":We,"Helvetica-BoldOblique":We,"Helvetica-Oblique":We,"Times-Roman":We,"Times-Bold":We,"Times-BoldItalic":We,"Times-Italic":We}},Ke={Unicode:{"Courier-Oblique":Xe("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":Xe("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":Xe("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:Xe("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":Xe("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":Xe("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:Xe("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:Xe("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":Xe("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:Xe("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":Xe("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":Xe("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":Xe("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":Xe("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};$e.events.push(["addFont",function(Ze){var Je=Ze.font,Qe=Ke.Unicode[Je.postScriptName];Qe&&(Je.metadata.Unicode={},Je.metadata.Unicode.widths=Qe.widths,Je.metadata.Unicode.kerning=Qe.kerning);var ti=qe.Unicode[Je.postScriptName];ti&&(Je.metadata.Unicode.encoding=ti,Je.encoding=ti.codePages[0])}])}(E.API),function($e){var e=function(t){for(var r=t.length,Ve=new Uint8Array(r),je=0;je<r;je++)Ve[je]=t.charCodeAt(je);return Ve};$e.API.events.push(["addFont",function(t){var r=void 0,Ve=t.font,je=t.instance;if(!Ve.isStandardFont){if(je===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+Ve.postScriptName+"').");if(typeof(r=je.existsFileInVFS(Ve.postScriptName)===!1?je.loadFile(Ve.postScriptName):je.getFileFromVFS(Ve.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+Ve.postScriptName+"').");(function(ze,Xe){Xe=/^\x00\x01\x00\x00/.test(Xe)?e(Xe):e(u(Xe)),ze.metadata=$e.API.TTFFont.open(Xe),ze.metadata.Unicode=ze.metadata.Unicode||{encoding:{},kerning:{},widths:[]},ze.metadata.glyIdsUsed=[0]})(Ve,r)}}])}(E),function($e){function e(){return(n.canvg?Promise.resolve(n.canvg):__vitePreload(()=>import("./index.es-Wb6EDESW-nx9QCAyp.js"),__vite__mapDeps([0,1]))).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}E.API.addSvgAsImage=function(t,r,Ve,je,ze,Xe,We,qe){if(isNaN(r)||isNaN(Ve))throw a.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(je)||isNaN(ze))throw a.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var Ke=document.createElement("canvas");Ke.width=je,Ke.height=ze;var Ze=Ke.getContext("2d");Ze.fillStyle="#fff",Ze.fillRect(0,0,Ke.width,Ke.height);var Je={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},Qe=this;return e().then(function(ti){return ti.fromString(Ze,t,Je)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(ti){return ti.render(Je)}).then(function(){Qe.addImage(Ke.toDataURL("image/jpeg",1),r,Ve,je,ze,We,qe)})}}(),E.API.putTotalPages=function($e){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp($e,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16($e,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var Ve=0;Ve<this.internal.pages[r].length;Ve++)this.internal.pages[r][Ve]=this.internal.pages[r][Ve].replace(e,t);return this},E.API.viewerPreferences=function($e,e){var t;$e=$e||{},e=e||!1;var r,Ve,je,ze={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},Xe=Object.keys(ze),We=[],qe=0,Ke=0,Ze=0;function Je(ti,ni){var ri,ii=!1;for(ri=0;ri<ti.length;ri+=1)ti[ri]===ni&&(ii=!0);return ii}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(ze)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,$e==="reset"||e===!0){var Qe=Xe.length;for(Ze=0;Ze<Qe;Ze+=1)t[Xe[Ze]].value=t[Xe[Ze]].defaultValue,t[Xe[Ze]].explicitSet=!1}if(_typeof($e)==="object"){for(Ve in $e)if(je=$e[Ve],Je(Xe,Ve)&&je!==void 0){if(t[Ve].type==="boolean"&&typeof je=="boolean")t[Ve].value=je;else if(t[Ve].type==="name"&&Je(t[Ve].valueSet,je))t[Ve].value=je;else if(t[Ve].type==="integer"&&Number.isInteger(je))t[Ve].value=je;else if(t[Ve].type==="array"){for(qe=0;qe<je.length;qe+=1)if(r=!0,je[qe].length===1&&typeof je[qe][0]=="number")We.push(String(je[qe]-1));else if(je[qe].length>1){for(Ke=0;Ke<je[qe].length;Ke+=1)typeof je[qe][Ke]!="number"&&(r=!1);r===!0&&We.push([je[qe][0]-1,je[qe][1]-1].join(" "))}t[Ve].value="["+We.join(" ")+"]"}else t[Ve].value=t[Ve].defaultValue;t[Ve].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var ti,ni=[];for(ti in t)t[ti].explicitSet===!0&&(t[ti].type==="name"?ni.push("/"+ti+" /"+t[ti].value):ni.push("/"+ti+" "+t[ti].value));ni.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+ni.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function($e){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',Ve=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),je=unescape(encodeURIComponent(r)),ze=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),Xe=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),We=unescape(encodeURIComponent("</x:xmpmeta>")),qe=je.length+ze.length+Xe.length+Ve.length+We.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+qe+" >>"),this.internal.write("stream"),this.internal.write(Ve+je+ze+Xe+We),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};$e.addMetadata=function(r,Ve){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:Ve||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(E.API),function($e){var e=$e.API,t=e.pdfEscape16=function(je,ze){for(var Xe,We=ze.metadata.Unicode.widths,qe=["","0","00","000","0000"],Ke=[""],Ze=0,Je=je.length;Ze<Je;++Ze){if(Xe=ze.metadata.characterToGlyph(je.charCodeAt(Ze)),ze.metadata.glyIdsUsed.push(Xe),ze.metadata.toUnicode[Xe]=je.charCodeAt(Ze),We.indexOf(Xe)==-1&&(We.push(Xe),We.push([parseInt(ze.metadata.widthOfGlyph(Xe),10)])),Xe=="0")return Ke.join("");Xe=Xe.toString(16),Ke.push(qe[4-Xe.length],Xe)}return Ke.join("")},r=function(je){var ze,Xe,We,qe,Ke,Ze,Je;for(Ke=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,We=[],Ze=0,Je=(Xe=Object.keys(je).sort(function(Qe,ti){return Qe-ti})).length;Ze<Je;Ze++)ze=Xe[Ze],We.length>=100&&(Ke+=`
`+We.length+` beginbfchar
`+We.join(`
`)+`
endbfchar`,We=[]),je[ze]!==void 0&&je[ze]!==null&&typeof je[ze].toString=="function"&&(qe=("0000"+je[ze].toString(16)).slice(-4),ze=("0000"+(+ze).toString(16)).slice(-4),We.push("<"+ze+"><"+qe+">"));return We.length&&(Ke+=`
`+We.length+` beginbfchar
`+We.join(`
`)+`
endbfchar
`),Ke+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(je){(function(ze){var Xe=ze.font,We=ze.out,qe=ze.newObject,Ke=ze.putStream;if(Xe.metadata instanceof $e.API.TTFFont&&Xe.encoding==="Identity-H"){for(var Ze=Xe.metadata.Unicode.widths,Je=Xe.metadata.subset.encode(Xe.metadata.glyIdsUsed,1),Qe="",ti=0;ti<Je.length;ti++)Qe+=String.fromCharCode(Je[ti]);var ni=qe();Ke({data:Qe,addLength1:!0,objectId:ni}),We("endobj");var ri=qe();Ke({data:r(Xe.metadata.toUnicode),addLength1:!0,objectId:ri}),We("endobj");var ii=qe();We("<<"),We("/Type /FontDescriptor"),We("/FontName /"+F(Xe.fontName)),We("/FontFile2 "+ni+" 0 R"),We("/FontBBox "+$e.API.PDFObject.convert(Xe.metadata.bbox)),We("/Flags "+Xe.metadata.flags),We("/StemV "+Xe.metadata.stemV),We("/ItalicAngle "+Xe.metadata.italicAngle),We("/Ascent "+Xe.metadata.ascender),We("/Descent "+Xe.metadata.decender),We("/CapHeight "+Xe.metadata.capHeight),We(">>"),We("endobj");var ei=qe();We("<<"),We("/Type /Font"),We("/BaseFont /"+F(Xe.fontName)),We("/FontDescriptor "+ii+" 0 R"),We("/W "+$e.API.PDFObject.convert(Ze)),We("/CIDToGIDMap /Identity"),We("/DW 1000"),We("/Subtype /CIDFontType2"),We("/CIDSystemInfo"),We("<<"),We("/Supplement 0"),We("/Registry (Adobe)"),We("/Ordering ("+Xe.encoding+")"),We(">>"),We(">>"),We("endobj"),Xe.objectNumber=qe(),We("<<"),We("/Type /Font"),We("/Subtype /Type0"),We("/ToUnicode "+ri+" 0 R"),We("/BaseFont /"+F(Xe.fontName)),We("/Encoding /"+Xe.encoding),We("/DescendantFonts ["+ei+" 0 R]"),We(">>"),We("endobj"),Xe.isAlreadyPutted=!0}})(je)}]),e.events.push(["putFont",function(je){(function(ze){var Xe=ze.font,We=ze.out,qe=ze.newObject,Ke=ze.putStream;if(Xe.metadata instanceof $e.API.TTFFont&&Xe.encoding==="WinAnsiEncoding"){for(var Ze=Xe.metadata.rawData,Je="",Qe=0;Qe<Ze.length;Qe++)Je+=String.fromCharCode(Ze[Qe]);var ti=qe();Ke({data:Je,addLength1:!0,objectId:ti}),We("endobj");var ni=qe();Ke({data:r(Xe.metadata.toUnicode),addLength1:!0,objectId:ni}),We("endobj");var ri=qe();We("<<"),We("/Descent "+Xe.metadata.decender),We("/CapHeight "+Xe.metadata.capHeight),We("/StemV "+Xe.metadata.stemV),We("/Type /FontDescriptor"),We("/FontFile2 "+ti+" 0 R"),We("/Flags 96"),We("/FontBBox "+$e.API.PDFObject.convert(Xe.metadata.bbox)),We("/FontName /"+F(Xe.fontName)),We("/ItalicAngle "+Xe.metadata.italicAngle),We("/Ascent "+Xe.metadata.ascender),We(">>"),We("endobj"),Xe.objectNumber=qe();for(var ii=0;ii<Xe.metadata.hmtx.widths.length;ii++)Xe.metadata.hmtx.widths[ii]=parseInt(Xe.metadata.hmtx.widths[ii]*(1e3/Xe.metadata.head.unitsPerEm));We("<</Subtype/TrueType/Type/Font/ToUnicode "+ni+" 0 R/BaseFont/"+F(Xe.fontName)+"/FontDescriptor "+ri+" 0 R/Encoding/"+Xe.encoding+" /FirstChar 29 /LastChar 255 /Widths "+$e.API.PDFObject.convert(Xe.metadata.hmtx.widths)+">>"),We("endobj"),Xe.isAlreadyPutted=!0}})(je)}]);var Ve=function(je){var ze,Xe=je.text||"",We=je.x,qe=je.y,Ke=je.options||{},Ze=je.mutex||{},Je=Ze.pdfEscape,Qe=Ze.activeFontKey,ti=Ze.fonts,ni=Qe,ri="",ii=0,ei="",St=ti[ni].encoding;if(ti[ni].encoding!=="Identity-H")return{text:Xe,x:We,y:qe,options:Ke,mutex:Ze};for(ei=Xe,ni=Qe,Array.isArray(Xe)&&(ei=Xe[0]),ii=0;ii<ei.length;ii+=1)ti[ni].metadata.hasOwnProperty("cmap")&&(ze=ti[ni].metadata.cmap.unicode.codeMap[ei[ii].charCodeAt(0)]),ze||ei[ii].charCodeAt(0)<256&&ti[ni].metadata.hasOwnProperty("Unicode")?ri+=ei[ii]:ri+="";var oi="";return parseInt(ni.slice(1))<14||St==="WinAnsiEncoding"?oi=Je(ri,ni).split("").map(function(si){return si.charCodeAt(0).toString(16)}).join(""):St==="Identity-H"&&(oi=t(ri,ti[ni])),Ze.isHex=!0,{text:oi,x:We,y:qe,options:Ke,mutex:Ze}};e.events.push(["postProcessText",function(je){var ze=je.text||"",Xe=[],We={text:ze,x:je.x,y:je.y,options:je.options,mutex:je.mutex};if(Array.isArray(ze)){var qe=0;for(qe=0;qe<ze.length;qe+=1)Array.isArray(ze[qe])&&ze[qe].length===3?Xe.push([Ve(Object.assign({},We,{text:ze[qe][0]})).text,ze[qe][1],ze[qe][2]]):Xe.push(Ve(Object.assign({},We,{text:ze[qe]})).text);je.text=Xe}else je.text=Ve(Object.assign({},We,{text:ze})).text}])}(E),function($e){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};$e.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},$e.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},$e.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(E.API),function($e){$e.__bidiEngine__=$e.prototype.__bidiEngine__=function(r){var Ve,je,ze,Xe,We,qe,Ke,Ze=e,Je=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],Qe=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],ti={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},ni={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},ri=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],ii=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),ei=!1,St=0;this.__bidiEngine__={};var oi=function(di){var pi=di.charCodeAt(),yi=pi>>8,gi=ni[yi];return gi!==void 0?Ze[256*gi+(255&pi)]:yi===252||yi===253?"AL":ii.test(yi)?"L":yi===8?"R":"N"},si=function(di){for(var pi,yi=0;yi<di.length;yi++){if((pi=oi(di.charAt(yi)))==="L")return!1;if(pi==="R")return!0}return!1},ai=function(di,pi,yi,gi){var _i,Ai,ki,vi,Mi=pi[gi];switch(Mi){case"L":case"R":ei=!1;break;case"N":case"AN":break;case"EN":ei&&(Mi="AN");break;case"AL":ei=!0,Mi="R";break;case"WS":Mi="N";break;case"CS":gi<1||gi+1>=pi.length||(_i=yi[gi-1])!=="EN"&&_i!=="AN"||(Ai=pi[gi+1])!=="EN"&&Ai!=="AN"?Mi="N":ei&&(Ai="AN"),Mi=Ai===_i?Ai:"N";break;case"ES":Mi=(_i=gi>0?yi[gi-1]:"B")==="EN"&&gi+1<pi.length&&pi[gi+1]==="EN"?"EN":"N";break;case"ET":if(gi>0&&yi[gi-1]==="EN"){Mi="EN";break}if(ei){Mi="N";break}for(ki=gi+1,vi=pi.length;ki<vi&&pi[ki]==="ET";)ki++;Mi=ki<vi&&pi[ki]==="EN"?"EN":"N";break;case"NSM":if(ze&&!Xe){for(vi=pi.length,ki=gi+1;ki<vi&&pi[ki]==="NSM";)ki++;if(ki<vi){var Di=di[gi],Bi=Di>=1425&&Di<=2303||Di===64286;if(_i=pi[ki],Bi&&(_i==="R"||_i==="AL")){Mi="R";break}}}Mi=gi<1||(_i=pi[gi-1])==="B"?"N":yi[gi-1];break;case"B":ei=!1,Ve=!0,Mi=St;break;case"S":je=!0,Mi="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":ei=!1;break;case"BN":Mi="N"}return Mi},ui=function(di,pi,yi){var gi=di.split("");return yi&&hi(gi,yi,{hiLevel:St}),gi.reverse(),pi&&pi.reverse(),gi.join("")},hi=function(di,pi,yi){var gi,_i,Ai,ki,vi,Mi=-1,Di=di.length,Bi=0,Pi=[],Fi=St?Qe:Je,Vi=[];for(ei=!1,Ve=!1,je=!1,_i=0;_i<Di;_i++)Vi[_i]=oi(di[_i]);for(Ai=0;Ai<Di;Ai++){if(vi=Bi,Pi[Ai]=ai(di,Vi,Pi,Ai),gi=240&(Bi=Fi[vi][ti[Pi[Ai]]]),Bi&=15,pi[Ai]=ki=Fi[Bi][5],gi>0)if(gi===16){for(_i=Mi;_i<Ai;_i++)pi[_i]=1;Mi=-1}else Mi=-1;if(Fi[Bi][6])Mi===-1&&(Mi=Ai);else if(Mi>-1){for(_i=Mi;_i<Ai;_i++)pi[_i]=ki;Mi=-1}Vi[Ai]==="B"&&(pi[Ai]=0),yi.hiLevel|=ki}je&&function(Ti,ji,Gi){for(var Yi=0;Yi<Gi;Yi++)if(Ti[Yi]==="S"){ji[Yi]=St;for(var Xi=Yi-1;Xi>=0&&Ti[Xi]==="WS";Xi--)ji[Xi]=St}}(Vi,pi,Di)},ci=function(di,pi,yi,gi,_i){if(!(_i.hiLevel<di)){if(di===1&&St===1&&!Ve)return pi.reverse(),void(yi&&yi.reverse());for(var Ai,ki,vi,Mi,Di=pi.length,Bi=0;Bi<Di;){if(gi[Bi]>=di){for(vi=Bi+1;vi<Di&&gi[vi]>=di;)vi++;for(Mi=Bi,ki=vi-1;Mi<ki;Mi++,ki--)Ai=pi[Mi],pi[Mi]=pi[ki],pi[ki]=Ai,yi&&(Ai=yi[Mi],yi[Mi]=yi[ki],yi[ki]=Ai);Bi=vi}Bi++}}},mi=function(di,pi,yi){var gi=di.split(""),_i={hiLevel:St};return yi||(yi=[]),hi(gi,yi,_i),function(Ai,ki,vi){if(vi.hiLevel!==0&&Ke)for(var Mi,Di=0;Di<Ai.length;Di++)ki[Di]===1&&(Mi=ri.indexOf(Ai[Di]))>=0&&(Ai[Di]=ri[Mi+1])}(gi,yi,_i),ci(2,gi,pi,yi,_i),ci(1,gi,pi,yi,_i),gi.join("")};return this.__bidiEngine__.doBidiReorder=function(di,pi,yi){if(function(_i,Ai){if(Ai)for(var ki=0;ki<_i.length;ki++)Ai[ki]=ki;Xe===void 0&&(Xe=si(_i)),qe===void 0&&(qe=si(_i))}(di,pi),ze||!We||qe)if(ze&&We&&Xe^qe)St=Xe?1:0,di=ui(di,pi,yi);else if(!ze&&We&&qe)St=Xe?1:0,di=mi(di,pi,yi),di=ui(di,pi);else if(!ze||Xe||We||qe){if(ze&&!We&&Xe^qe)di=ui(di,pi),Xe?(St=0,di=mi(di,pi,yi)):(St=1,di=mi(di,pi,yi),di=ui(di,pi));else if(ze&&Xe&&!We&&qe)St=1,di=mi(di,pi,yi),di=ui(di,pi);else if(!ze&&!We&&Xe^qe){var gi=Ke;Xe?(St=1,di=mi(di,pi,yi),St=0,Ke=!1,di=mi(di,pi,yi),Ke=gi):(St=0,di=mi(di,pi,yi),di=ui(di,pi),St=1,Ke=!1,di=mi(di,pi,yi),Ke=gi,di=ui(di,pi))}}else St=0,di=mi(di,pi,yi);else St=Xe?1:0,di=mi(di,pi,yi);return di},this.__bidiEngine__.setOptions=function(di){di&&(ze=di.isInputVisual,We=di.isOutputVisual,Xe=di.isInputRtl,qe=di.isOutputRtl,Ke=di.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new $e.__bidiEngine__({isInputVisual:!0});$e.API.events.push(["postProcessText",function(r){var Ve=r.text,je=(r.x,r.y,r.options||{}),ze=(r.mutex,je.lang,[]);if(je.isInputVisual=typeof je.isInputVisual!="boolean"||je.isInputVisual,t.setOptions(je),Object.prototype.toString.call(Ve)==="[object Array]"){var Xe=0;for(ze=[],Xe=0;Xe<Ve.length;Xe+=1)Object.prototype.toString.call(Ve[Xe])==="[object Array]"?ze.push([t.doBidiReorder(Ve[Xe][0]),Ve[Xe][1],Ve[Xe][2]]):ze.push([t.doBidiReorder(Ve[Xe])]);r.text=ze}else r.text=t.doBidiReorder(Ve);t.setOptions({isInputVisual:!0})}])}(E),E.API.TTFFont=function(){function $e(e){var t;if(this.rawData=e,t=this.contents=new ne(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new Le(this),this.registerTTF()}return $e.open=function(e){return new $e(e)},$e.prototype.parse=function(){return this.directory=new ie(this.contents),this.head=new se(this),this.name=new pe(this),this.cmap=new ue(this),this.toUnicode={},this.hhea=new he(this),this.maxp=new ge(this),this.hmtx=new me(this),this.post=new fe(this),this.os2=new le(this),this.loca=new Ne(this),this.glyf=new be(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},$e.prototype.registerTTF=function(){var e,t,r,Ve,je;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var ze,Xe,We,qe;for(qe=[],ze=0,Xe=(We=this.bbox).length;ze<Xe;ze++)e=We[ze],qe.push(Math.round(e*this.scaleFactor));return qe}).call(this),this.stemV=0,this.post.exists?(r=255&(Ve=this.post.italic_angle),32768&(t=Ve>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(je=this.familyClass)===1||je===2||je===3||je===4||je===5||je===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},$e.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},$e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},$e.prototype.widthOfString=function(e,t,r){var Ve,je,ze,Xe;for(ze=0,je=0,Xe=(e=""+e).length;0<=Xe?je<Xe:je>Xe;je=0<=Xe?++je:--je)Ve=e.charCodeAt(je),ze+=this.widthOfGlyph(this.characterToGlyph(Ve))+r*(1e3/t)||0;return ze*(t/1e3)},$e.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},$e}();var re,ne=function(){function $e(e){this.data=e??[],this.pos=0,this.length=this.data.length}return $e.prototype.readByte=function(){return this.data[this.pos++]},$e.prototype.writeByte=function(e){return this.data[this.pos++]=e},$e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},$e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},$e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},$e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},$e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},$e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},$e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},$e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},$e.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},$e.prototype.writeString=function(e){var t,r,Ve;for(Ve=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)Ve.push(this.writeByte(e.charCodeAt(t)));return Ve},$e.prototype.readShort=function(){return this.readInt16()},$e.prototype.writeShort=function(e){return this.writeInt16(e)},$e.prototype.readLongLong=function(){var e,t,r,Ve,je,ze,Xe,We;return e=this.readByte(),t=this.readByte(),r=this.readByte(),Ve=this.readByte(),je=this.readByte(),ze=this.readByte(),Xe=this.readByte(),We=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^Ve)+16777216*(255^je)+65536*(255^ze)+256*(255^Xe)+(255^We)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*Ve+16777216*je+65536*ze+256*Xe+We},$e.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},$e.prototype.readInt=function(){return this.readInt32()},$e.prototype.writeInt=function(e){return this.writeInt32(e)},$e.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},$e.prototype.write=function(e){var t,r,Ve,je;for(je=[],r=0,Ve=e.length;r<Ve;r++)t=e[r],je.push(this.writeByte(t));return je},$e}(),ie=function(){var $e;function e(t){var r,Ve,je;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},Ve=0,je=this.tableCount;0<=je?Ve<je:Ve>je;Ve=0<=je?++Ve:--Ve)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,Ve,je,ze,Xe,We,qe,Ke,Ze,Je,Qe,ti,ni;for(ni in Qe=Object.keys(t).length,We=Math.log(2),Ze=16*Math.floor(Math.log(Qe)/We),ze=Math.floor(Ze/We),Ke=16*Qe-Ze,(Ve=new ne).writeInt(this.scalarType),Ve.writeShort(Qe),Ve.writeShort(Ze),Ve.writeShort(ze),Ve.writeShort(Ke),je=16*Qe,qe=Ve.pos+je,Xe=null,ti=[],t)for(Je=t[ni],Ve.writeString(ni),Ve.writeInt($e(Je)),Ve.writeInt(qe),Ve.writeInt(Je.length),ti=ti.concat(Je),ni==="head"&&(Xe=qe),qe+=Je.length;qe%4;)ti.push(0),qe++;return Ve.write(ti),r=2981146554-$e(Ve.data),Ve.pos=Xe+8,Ve.writeUInt32(r),Ve.data},$e=function(t){var r,Ve,je,ze;for(t=ve.call(t);t.length%4;)t.push(0);for(je=new ne(t),Ve=0,r=0,ze=t.length;r<ze;r=r+=4)Ve+=je.readUInt32();return 4294967295&Ve},e}(),ae={}.hasOwnProperty,oe=function($e,e){for(var t in e)ae.call(e,t)&&($e[t]=e[t]);function r(){this.constructor=$e}return r.prototype=e.prototype,$e.prototype=new r,$e.__super__=e.prototype,$e};re=function(){function $e(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return $e.prototype.parse=function(){},$e.prototype.encode=function(){},$e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},$e}();var se=function($e){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new ne).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),ce=function(){function $e(e,t){var r,Ve,je,ze,Xe,We,qe,Ke,Ze,Je,Qe,ti,ni,ri,ii,ei,St;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),Ze=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(We=0;We<256;++We)this.codeMap[We]=e.readByte();break;case 4:for(Qe=e.readUInt16(),Je=Qe/2,e.pos+=6,je=function(){var oi,si;for(si=[],We=oi=0;0<=Je?oi<Je:oi>Je;We=0<=Je?++oi:--oi)si.push(e.readUInt16());return si}(),e.pos+=2,ni=function(){var oi,si;for(si=[],We=oi=0;0<=Je?oi<Je:oi>Je;We=0<=Je?++oi:--oi)si.push(e.readUInt16());return si}(),qe=function(){var oi,si;for(si=[],We=oi=0;0<=Je?oi<Je:oi>Je;We=0<=Je?++oi:--oi)si.push(e.readUInt16());return si}(),Ke=function(){var oi,si;for(si=[],We=oi=0;0<=Je?oi<Je:oi>Je;We=0<=Je?++oi:--oi)si.push(e.readUInt16());return si}(),Ve=(this.length-e.pos+this.offset)/2,Xe=function(){var oi,si;for(si=[],We=oi=0;0<=Ve?oi<Ve:oi>Ve;We=0<=Ve?++oi:--oi)si.push(e.readUInt16());return si}(),We=ii=0,St=je.length;ii<St;We=++ii)for(ri=je[We],r=ei=ti=ni[We];ti<=ri?ei<=ri:ei>=ri;r=ti<=ri?++ei:--ei)Ke[We]===0?ze=r+qe[We]:(ze=Xe[Ke[We]/2+(r-ti)-(Je-We)]||0)!==0&&(ze+=qe[We]),this.codeMap[r]=65535&ze}e.pos=Ze}return $e.encode=function(e,t){var r,Ve,je,ze,Xe,We,qe,Ke,Ze,Je,Qe,ti,ni,ri,ii,ei,St,oi,si,ai,ui,hi,ci,mi,di,pi,yi,gi,_i,Ai,ki,vi,Mi,Di,Bi,Pi,Fi,Vi,Ti,ji,Gi,Yi,Xi,xi,fi,$i;switch(gi=new ne,ze=Object.keys(e).sort(function(bi,Ci){return bi-Ci}),t){case"macroman":for(ni=0,ri=function(){var bi=[];for(ti=0;ti<256;++ti)bi.push(0);return bi}(),ei={0:0},je={},_i=0,Mi=ze.length;_i<Mi;_i++)ei[Xi=e[Ve=ze[_i]]]==null&&(ei[Xi]=++ni),je[Ve]={old:e[Ve],new:ei[e[Ve]]},ri[Ve]=ei[e[Ve]];return gi.writeUInt16(1),gi.writeUInt16(0),gi.writeUInt32(12),gi.writeUInt16(0),gi.writeUInt16(262),gi.writeUInt16(0),gi.write(ri),{charMap:je,subtable:gi.data,maxGlyphID:ni+1};case"unicode":for(pi=[],Ze=[],St=0,ei={},r={},ii=qe=null,Ai=0,Di=ze.length;Ai<Di;Ai++)ei[si=e[Ve=ze[Ai]]]==null&&(ei[si]=++St),r[Ve]={old:si,new:ei[si]},Xe=ei[si]-Ve,ii!=null&&Xe===qe||(ii&&Ze.push(ii),pi.push(Ve),qe=Xe),ii=Ve;for(ii&&Ze.push(ii),Ze.push(65535),pi.push(65535),mi=2*(ci=pi.length),hi=2*Math.pow(Math.log(ci)/Math.LN2,2),Je=Math.log(hi/2)/Math.LN2,ui=2*ci-hi,We=[],ai=[],Qe=[],ti=ki=0,Bi=pi.length;ki<Bi;ti=++ki){if(di=pi[ti],Ke=Ze[ti],di===65535){We.push(0),ai.push(0);break}if(di-(yi=r[di].new)>=32768)for(We.push(0),ai.push(2*(Qe.length+ci-ti)),Ve=vi=di;di<=Ke?vi<=Ke:vi>=Ke;Ve=di<=Ke?++vi:--vi)Qe.push(r[Ve].new);else We.push(yi-di),ai.push(0)}for(gi.writeUInt16(3),gi.writeUInt16(1),gi.writeUInt32(12),gi.writeUInt16(4),gi.writeUInt16(16+8*ci+2*Qe.length),gi.writeUInt16(0),gi.writeUInt16(mi),gi.writeUInt16(hi),gi.writeUInt16(Je),gi.writeUInt16(ui),Gi=0,Pi=Ze.length;Gi<Pi;Gi++)Ve=Ze[Gi],gi.writeUInt16(Ve);for(gi.writeUInt16(0),Yi=0,Fi=pi.length;Yi<Fi;Yi++)Ve=pi[Yi],gi.writeUInt16(Ve);for(xi=0,Vi=We.length;xi<Vi;xi++)Xe=We[xi],gi.writeUInt16(Xe);for(fi=0,Ti=ai.length;fi<Ti;fi++)oi=ai[fi],gi.writeUInt16(oi);for($i=0,ji=Qe.length;$i<ji;$i++)ni=Qe[$i],gi.writeUInt16(ni);return{charMap:r,subtable:gi.data,maxGlyphID:St+1}}},$e}(),ue=function($e){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,Ve,je;for(t.pos=this.offset,this.version=t.readUInt16(),je=t.readUInt16(),this.tables=[],this.unicode=null,Ve=0;0<=je?Ve<je:Ve>je;Ve=0<=je?++Ve:--Ve)r=new ce(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var Ve,je;return r==null&&(r="macroman"),Ve=ce.encode(t,r),(je=new ne).writeUInt16(0),je.writeUInt16(1),Ve.table=je.data.concat(Ve.subtable),Ve},e}(),he=function($e){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),le=function($e){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,Ve;for(Ve=[],r=0;r<10;++r)Ve.push(t.readByte());return Ve}(),this.charRange=function(){var r,Ve;for(Ve=[],r=0;r<4;++r)Ve.push(t.readInt());return Ve}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,Ve;for(Ve=[],r=0;r<2;r=++r)Ve.push(t.readInt());return Ve}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),fe=function($e){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="post",e.prototype.parse=function(t){var r,Ve,je;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var ze;for(Ve=t.readUInt16(),this.glyphNameIndex=[],ze=0;0<=Ve?ze<Ve:ze>Ve;ze=0<=Ve?++ze:--ze)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],je=[];t.pos<this.offset+this.length;)r=t.readByte(),je.push(this.names.push(t.readString(r)));return je;case 151552:return Ve=t.readUInt16(),this.offsets=t.read(Ve);case 196608:break;case 262144:return this.map=(function(){var Xe,We,qe;for(qe=[],ze=Xe=0,We=this.file.maxp.numGlyphs;0<=We?Xe<We:Xe>We;ze=0<=We?++Xe:--Xe)qe.push(t.readUInt32());return qe}).call(this)}},e}(),de=function($e,e){this.raw=$e,this.length=$e.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},pe=function($e){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="name",e.prototype.parse=function(t){var r,Ve,je,ze,Xe,We,qe,Ke,Ze,Je,Qe;for(t.pos=this.offset,t.readShort(),r=t.readShort(),We=t.readShort(),Ve=[],ze=0;0<=r?ze<r:ze>r;ze=0<=r?++ze:--ze)Ve.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+We+t.readShort()});for(qe={},ze=Ze=0,Je=Ve.length;Ze<Je;ze=++Ze)je=Ve[ze],t.pos=je.offset,Ke=t.readString(je.length),Xe=new de(Ke,je),qe[Qe=je.nameID]==null&&(qe[Qe]=[]),qe[je.nameID].push(Xe);this.strings=qe,this.copyright=qe[0],this.fontFamily=qe[1],this.fontSubfamily=qe[2],this.uniqueSubfamily=qe[3],this.fontName=qe[4],this.version=qe[5];try{this.postscriptName=qe[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=qe[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=qe[7],this.manufacturer=qe[8],this.designer=qe[9],this.description=qe[10],this.vendorUrl=qe[11],this.designerUrl=qe[12],this.license=qe[13],this.licenseUrl=qe[14],this.preferredFamily=qe[15],this.preferredSubfamily=qe[17],this.compatibleFull=qe[18],this.sampleText=qe[19]},e}(),ge=function($e){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),me=function($e){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,Ve,je,ze,Xe,We,qe;for(t.pos=this.offset,this.metrics=[],r=0,We=this.file.hhea.numberOfMetrics;0<=We?r<We:r>We;r=0<=We?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(je=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var Ke,Ze;for(Ze=[],r=Ke=0;0<=je?Ke<je:Ke>je;r=0<=je?++Ke:--Ke)Ze.push(t.readInt16());return Ze}(),this.widths=(function(){var Ke,Ze,Je,Qe;for(Qe=[],Ke=0,Ze=(Je=this.metrics).length;Ke<Ze;Ke++)ze=Je[Ke],Qe.push(ze.advance);return Qe}).call(this),Ve=this.widths[this.widths.length-1],qe=[],r=Xe=0;0<=je?Xe<je:Xe>je;r=0<=je?++Xe:--Xe)qe.push(this.widths.push(Ve));return qe},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),ve=[].slice,be=function($e){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,Ve,je,ze,Xe,We,qe,Ke,Ze,Je;return t in this.cache?this.cache[t]:(ze=this.file.loca,r=this.file.contents,Ve=ze.indexOf(t),(je=ze.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+Ve,Xe=(We=new ne(r.read(je))).readShort(),Ke=We.readShort(),Je=We.readShort(),qe=We.readShort(),Ze=We.readShort(),this.cache[t]=Xe===-1?new we(We,Ke,Je,qe,Ze):new ye(We,Xe,Ke,Je,qe,Ze),this.cache[t]))},e.prototype.encode=function(t,r,Ve){var je,ze,Xe,We,qe;for(Xe=[],ze=[],We=0,qe=r.length;We<qe;We++)je=t[r[We]],ze.push(Xe.length),je&&(Xe=Xe.concat(je.encode(Ve)));return ze.push(Xe.length),{table:Xe,offsets:ze}},e}(),ye=function(){function $e(e,t,r,Ve,je,ze){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=Ve,this.xMax=je,this.yMax=ze,this.compound=!1}return $e.prototype.encode=function(){return this.raw.data},$e}(),we=function(){function $e(e,t,r,Ve,je){var ze,Xe;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=Ve,this.yMax=je,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],ze=this.raw;Xe=ze.readShort(),this.glyphOffsets.push(ze.pos),this.glyphIDs.push(ze.readUInt16()),32&Xe;)ze.pos+=1&Xe?4:2,128&Xe?ze.pos+=8:64&Xe?ze.pos+=4:8&Xe&&(ze.pos+=2)}return $e.prototype.encode=function(){var e,t,r;for(t=new ne(ve.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},$e}(),Ne=function($e){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="loca",e.prototype.parse=function(t){var r,Ve;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var je,ze;for(ze=[],Ve=0,je=this.length;Ve<je;Ve+=2)ze.push(2*t.readUInt16());return ze}).call(this):(function(){var je,ze;for(ze=[],Ve=0,je=this.length;Ve<je;Ve+=4)ze.push(t.readUInt32());return ze}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var Ve=new Uint32Array(this.offsets.length),je=0,ze=0,Xe=0;Xe<Ve.length;++Xe)if(Ve[Xe]=je,ze<r.length&&r[ze]==Xe){++ze,Ve[Xe]=je;var We=this.offsets[Xe],qe=this.offsets[Xe+1]-We;qe>0&&(je+=qe)}for(var Ke=new Array(4*Ve.length),Ze=0;Ze<Ve.length;++Ze)Ke[4*Ze+3]=255&Ve[Ze],Ke[4*Ze+2]=(65280&Ve[Ze])>>8,Ke[4*Ze+1]=(16711680&Ve[Ze])>>16,Ke[4*Ze]=(4278190080&Ve[Ze])>>24;return Ke},e}(),Le=function(){function $e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return $e.prototype.generateCmap=function(){var e,t,r,Ve,je;for(t in Ve=this.font.cmap.tables[0].codeMap,e={},je=this.subset)r=je[t],e[t]=Ve[r];return e},$e.prototype.glyphsFor=function(e){var t,r,Ve,je,ze,Xe,We;for(Ve={},ze=0,Xe=e.length;ze<Xe;ze++)Ve[je=e[ze]]=this.font.glyf.glyphFor(je);for(je in t=[],Ve)(r=Ve[je])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(je in We=this.glyphsFor(t))r=We[je],Ve[je]=r;return Ve},$e.prototype.encode=function(e,t){var r,Ve,je,ze,Xe,We,qe,Ke,Ze,Je,Qe,ti,ni,ri,ii;for(Ve in r=ue.encode(this.generateCmap(),"unicode"),ze=this.glyphsFor(e),Qe={0:0},ii=r.charMap)Qe[(We=ii[Ve]).old]=We.new;for(ti in Je=r.maxGlyphID,ze)ti in Qe||(Qe[ti]=Je++);return Ke=function(ei){var St,oi;for(St in oi={},ei)oi[ei[St]]=St;return oi}(Qe),Ze=Object.keys(Ke).sort(function(ei,St){return ei-St}),ni=function(){var ei,St,oi;for(oi=[],ei=0,St=Ze.length;ei<St;ei++)Xe=Ze[ei],oi.push(Ke[Xe]);return oi}(),je=this.font.glyf.encode(ze,ni,Qe),qe=this.font.loca.encode(je.offsets,ni),ri={cmap:this.font.cmap.raw(),glyf:je.table,loca:qe,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(ri["OS/2"]=this.font.os2.raw()),this.font.directory.encode(ri)},$e}();E.API.PDFObject=function(){var $e;function e(){}return $e=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,Ve,je,ze;if(Array.isArray(t))return"["+function(){var Xe,We,qe;for(qe=[],Xe=0,We=t.length;Xe<We;Xe++)r=t[Xe],qe.push(e.convert(r));return qe}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+$e(t.getUTCFullYear(),4)+$e(t.getUTCMonth(),2)+$e(t.getUTCDate(),2)+$e(t.getUTCHours(),2)+$e(t.getUTCMinutes(),2)+$e(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(Ve in je=["<<"],t)ze=t[Ve],je.push("/"+Ve+" "+e.convert(ze));return je.push(">>"),je.join(`
`)}return""+t},e}();class PdfRenderContext extends ClippingRenderContext{constructor(e){super(),dn(this,"_pdf"),dn(this,"ctx"),dn(this,"_textMeasurer"),dn(this,"styleConverter",new OxyStyleToCanvasStyleConverter),dn(this,"_ctxInitStyles"),this._pdf=new E({unit:"px",orientation:e});const t=this._pdf.context2d;this.ctx=t,this._ctxInitStyles={fillStyle:t.fillStyle,strokeStyle:t.strokeStyle,lineJoin:t.lineJoin,lineWidth:t.lineWidth},this._textMeasurer=canvasTextMeasurer()}getPdf(){return this._pdf}async drawImage(e,t,r,Ve,je,ze,Xe,We,qe,Ke,Ze){if(Ke<=0)return;const Je=ze-t/Ve*We,Qe=e.width/Ve*We,ti=Xe-r/je*qe,ni=e.height/je*qe;this.clearStyles(),this._pdf.addImage(e.data,"PNG",Je,ti,Qe,ni)}async drawLineSegments(e,t,r,Ve,je,ze){if(e.length<2||t.isInvisible()||r==0)return;this.clearStyles();const Xe=this.ctx;Xe.beginPath(),this.applyLineStyle(t,r,Ve,je,ze);for(let We=0;We<e.length;We+=2){const qe=e[We],Ke=e[We+1];this.drawPoints([qe,Ke])}Xe.stroke()}async drawLine(e,t,r,Ve,je,ze){if(e.length<2||t.isInvisible()||r==0)return;this.clearStyles();const Xe=this.ctx;Xe.beginPath(),this.applyLineStyle(t,r,Ve,je,ze),this.drawPoints(e),Xe.stroke()}async drawPolygon(e,t,r,Ve,je,ze,Xe){if(t.isInvisible()&&!(r.isVisible()||Ve<=0)||e.length<2)return;this.clearStyles();const We=this.ctx;if(t.a<255||r.a<255){this._pdf.saveGraphicsState();let qe=1,Ke=1;t.a<255&&(qe=t.a/255),r.a<255&&(Ke=r.a/255),this._pdf.setGState(this._pdf.GState({opacity:qe,"stroke-opacity":Ke}))}We.beginPath(),this.applyPolygonStyle(t,r,Ve,je,ze,Xe),this.drawPoints(e),We.closePath(),t.isVisible()&&We.fill(),r.isVisible()&&Ve>0&&We.stroke(),(t.a<255||r.a<255)&&this._pdf.restoreGraphicsState()}async drawPolygons(e,t,r,Ve,je,ze,Xe){if(t.isInvisible()&&!(r.isVisible()||Ve<=0)||e.length===0)return;this.clearStyles();const We=this.ctx;this.applyPolygonStyle(t,r,Ve,je,ze,Xe);for(const qe of e)qe.length<2||(We.beginPath(),this.drawPoints(qe),We.closePath(),t.isVisible()&&We.fill(),r.isVisible()&&Ve>0&&We.stroke())}async drawText(e,t,r,Ve,je,ze,Xe,We,qe,Ke){if(!t||r.isInvisible())return;this.clearStyles(),isNullOrUndef(We)&&(We=HorizontalAlignment.Left),isNullOrUndef(qe)&&(qe=VerticalAlignment.Top);const Ze=this.ctx;je=je||12,ze=ze||FontWeights.Normal,this.applyTextStyle(r,Ve,je,ze),Ze.save(),Ze.translate(e.x,e.y),Xe&&Ze.rotate(Xe*(Math.PI/180));const Je=StringHelper.splitLines(t),Qe=[];for(const ri of Je){const ii=this.measureText(ri,Ve,je,ze);Qe.push(ii)}const ti=Qe.reduce((ri,ii)=>ri+ii.height,0);let ni=0;Ze.textBaseline="middle",qe===VerticalAlignment.Top?ni=0:qe===VerticalAlignment.Middle?ni=-ti/2:qe===VerticalAlignment.Bottom&&(ni=-ti);for(let ri=0;ri<Je.length;ri++){const ii=Je[ri];let ei=0;const St=Qe[ri];We===HorizontalAlignment.Center?ei=-St.width/2:We===HorizontalAlignment.Right&&(ei=-St.width),Ze.fillText(ii,ei,ni+St.height/2),ni+=St.height}Ze.restore()}measureText(e,t,r,Ve){return this._textMeasurer.measureText(e,t,r,Ve)}setClip(e){this.ctx.save(),this.ctx.rect(e.left,e.top,e.width,e.height),this.ctx.clip()}resetClip(){this.ctx.restore()}applyLineStyle(e,t,r,Ve,je){const ze=this.ctx;Ve&&Ve.length>0&&ze.setLineDash(Ve),ze.lineWidth=t,ze.lineJoin=this.styleConverter.convertLineJoin(je),ze.strokeStyle=this.styleConverter.convertStrokeOrFillStyle(e)}clearStyles(){this.ctx.setLineDash([])}applyPolygonStyle(e,t,r,Ve,je,ze){t.isVisible()&&r>0&&this.applyLineStyle(t,r,Ve,je,ze),e.isVisible()&&(this.ctx.fillStyle=this.styleConverter.convertStrokeOrFillStyle(e))}applyTextStyle(e,t,r,Ve){const je=this.ctx;je.fillStyle=this.styleConverter.convertStrokeOrFillStyle(e),je.font=this.styleConverter.convertFont(t,r,Ve)}drawPoints(e){this.ctx.moveTo(e[0].x,e[0].y);for(let t=1;t<e.length;t++){const r=e[t];this.ctx.lineTo(r.x,r.y)}}}class PdfPlotView extends WebPlotViewBase{constructor(e){super(),dn(this,"_view"),dn(this,"_orientation","portrait"),dn(this,"_clientArea",OxyRect.Empty),this._view=e,this.calcClientArea()}get orientation(){return this._orientation}set orientation(e){e!==this._orientation&&(this._orientation=e,this.calcClientArea())}calcClientArea(){const e=new E({unit:"px",orientation:this.orientation}),t=new OxySize(e.internal.pageSize.width,e.internal.pageSize.height);e.close(),this._clientArea=OxyRect.fromScreenPointAndSize(ScreenPoint_LeftTop,t)}get clientArea(){return this._clientArea}async renderOverride(e){const t=new PdfRenderContext(this.orientation);await e.render(t,this.clientArea);const r=t.getPdf();r.internal.pages.length>1&&r.deletePage(1);const Ve=r.output("dataurlstring",{filename:e.title+".pdf"});this._view.src="",this._view.src=Ve}}class SvgPlotView extends WebPlotViewBase{constructor(e){super(),dn(this,"_view"),dn(this,"_tooltip"),dn(this,"textMeasurer"),this._view=e,this.textMeasurer=canvasTextMeasurer(),this._tooltip=document.createElement("div"),this._tooltip.style.position="absolute",this._tooltip.style.zIndex="100",this._tooltip.style.backgroundColor="#FFFFA0E0",this._tooltip.style.border="1px solid black",this._tooltip.style.padding="8px",this._tooltip.style.visibility="hidden",this._tooltip.style.pointerEvents="none",document.body.appendChild(this._tooltip),addPlotViewEvents(this._view,this)}get tooltip(){return this._tooltip}get clientArea(){return new OxyRect(0,0,this._view.clientWidth,this._view.clientHeight)}hideTracker(){this._tooltip.style.visibility="hidden"}showTracker(e){if(!(e!=null&&e.position))return;const t=e.toString()||"";if(t.trim().length===0)return;const r=this._view.offsetTop,Ve=this._view.offsetLeft;this._tooltip.innerText=t,this._tooltip.style.top=`${r+e.position.y}px`,this._tooltip.style.left=`${Ve+e.position.x}px`,this._tooltip.style.visibility="visible"}setCursorType(e){this._view.style.cursor=convertCursorType(e)}async renderOverride(e){const t=this._view;this._view.innerHTML="";const r=new SvgRenderContext(t.clientWidth,t.clientHeight,!0,this.textMeasurer,e.background);if(e.background.isUndefined()||(this._view.style.backgroundColor=e.background.toString()),await e.render(r,new OxyRect(0,0,t.clientWidth,t.clientHeight)),this._zoomRectangle&&this._zoomRectangle.equals(OxyRect.Empty)){const Ve=OxyColor.parse("#40FFFF00"),je=OxyColors.Black;await r.drawRectangle(this._zoomRectangle,Ve,je,1,EdgeRenderingMode.Automatic)}r.complete(),this._view.innerHTML=r.getXml()}}const _withScopeId=$e=>(pushScopeId("data-v-ea712cb6"),$e=$e(),popScopeId(),$e),_hoisted_1={class:"flex py-4"},_hoisted_2={class:"w-[300px]"},_hoisted_3={class:"overflow-x-hidden overflow-y-auto mt-2",style:{"max-height":"calc(100vh - 100px)"}},_hoisted_4=["onClick"],_hoisted_5={class:"flex-grow ml-4"},_hoisted_6={id:"canvasPlotView",class:"border border-gray-200 rounded-lg shadow",style:{width:"800px",height:"600px"}},_hoisted_7={id:"svgPlotView",class:"border border-gray-200 rounded-lg shadow select-none",style:{width:"800px",height:"600px"}},_hoisted_8={class:"flex justify-between mt-2"},_hoisted_9={class:"flex items-center"},_hoisted_10={class:"relative mt-1"},_hoisted_11={class:"block truncate"},_hoisted_12={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"},_hoisted_13=_withScopeId(()=>createBaseVNode("span",{class:"ml-4 mr-2"},"landscape",-1)),_hoisted_14=_withScopeId(()=>createBaseVNode("span",{class:"ml-2"},"portrait",-1)),_hoisted_15={key:0,class:"flex"},_hoisted_16={key:0,class:"flex items-center"},_hoisted_17=["disabled"],_hoisted_18=_withScopeId(()=>createBaseVNode("label",{class:"ml-1 ms-2 text-sm font-medium text-gray-900 dark:text-gray-300",for:"chkTransposed"},"Transposed",-1)),_hoisted_19={key:1,class:"flex items-center ml-2"},_hoisted_20=["disabled"],_hoisted_21=_withScopeId(()=>createBaseVNode("label",{class:"ml-1 ms-2 text-sm font-medium text-gray-900 dark:text-gray-300",for:"chkReversed"},"Reversed",-1)),_sfc_main=defineComponent({__name:"App",setup($e){window.oxyPlotImg=oxyPlotImg,dayjs$2.extend(duration),dayjs$2.extend(dayOfYear);const e=ref(null),t=ref(""),r=ref(!1),Ve=ref(!1),je=ref(!1),ze=ref(!1),Xe=ref("canvas"),We=ref(["canvas","pdf","svg"]),qe=ref(!1),Ke=computed(()=>{if(!t.value)return examples;const ei=[],St=t.value.toLowerCase();function oi(si,ai){return(ai.title||"").toLowerCase().includes(St)||(si.tags||[]).some(ui=>ui.toLowerCase().includes(St))}for(const si of examples){const ai=si.examples.filter(ui=>oi(si,ui));ai.length>0&&ei.push({category:si.category,examples:ai})}return ei});watch([r,je,Xe],async()=>{if(!e.value)return;const ei=await ri(e.value);ei&&await ii(ei)}),watch(qe,()=>{});let Ze=null;function Je(){if(Ze)return Ze;const ei=document.getElementById("canvasPlotView"),St=ei.clientWidth,oi=ei.clientHeight,si=window.devicePixelRatio||1;return ei.width=St*si,ei.height=oi*si,ei.style.width=St+"px",ei.style.height=oi+"px",Ze=ei,Ze}let Qe={};function ti(){if(Xe.value==="canvas"){const ei="canvas";if(Qe[ei])return Qe[ei];const St=Je(),oi=new CanvasPlotView(St);return Qe[ei]=oi,oi}if(Xe.value==="pdf"){const ei=qe.value?"pdf-portrait":"pdf-landscape";if(Qe[ei])return Qe[ei];const St=new PdfPlotView(document.getElementById("pdfPlotView"));return St.orientation=qe.value?"portrait":"landscape",Qe[ei]=St,St}if(Xe.value==="svg"){const ei="svg";let St=Qe[ei];const oi=document.getElementById("svgPlotView");return oi.innerHTML="",St||(St=new SvgPlotView(oi),Qe[ei]=St,St)}throw new Error(`Unknown renderer type: ${Xe.value}`)}async function ni(ei,St){if(toRaw(e.value)===St)return;const oi=await ri(St);oi&&(e.value=St,Ve.value=PlotModelUtilities$1.isTransposable(oi.model),ze.value=PlotModelUtilities$1.isReversible(oi.model),getRenderContextImageCacheService().clear(),await ii(oi))}async function ri(ei){let St=null;try{St=await ei.example.model()}catch(si){return console.error(si),alert(si),null}if(!St)return null;r.value&&PlotModelUtilities$1.isTransposable(St)&&PlotModelUtilities$1.transpose(St),je.value&&PlotModelUtilities$1.isReversible(St)&&PlotModelUtilities$1.reverseAllAxes(St);let oi;return ei.example.controller&&(oi=ei.example.controller()),{model:St,controller:oi}}async function ii(ei){const St=ei.model;if(!St)return;const oi=ti();oi.model=St,oi.controller=ei.controller}return(ei,St)=>(openBlock(),createElementBlock("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":St[0]||(St[0]=oi=>t.value=oi),placeholder:"Filter",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"},null,512),[[vModelText,t.value]]),createBaseVNode("div",_hoisted_3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Ke.value,oi=>(openBlock(),createBlock(unref(V$1),{as:"div",class:"mt-2 mr-1",key:oi.category},{default:withCtx(({open:si})=>[createVNode(unref(X$1),{class:"flex w-full justify-between rounded-lg bg-purple-100 px-4 py-2 text-left text-sm font-medium text-purple-900 hover:bg-purple-200 focus:outline-none focus-visible:ring focus-visible:ring-purple-500/75"},{default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(oi.category)+" ("+toDisplayString(oi.examples.length)+")",1),createVNode(unref(render),{class:normalizeClass([si?"rotate-180 transform":"","h-5 w-5 text-purple-500"])},null,8,["class"])]),_:2},1024),createVNode(unref(Y$1),{class:"px-4 pb-2 text-sm text-gray-500"},{default:withCtx(()=>[createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(oi.examples,ai=>(openBlock(),createElementBlock("li",{key:ai.title,class:"my-2 cursor-pointer"},[createBaseVNode("div",{onClick:ui=>ni(oi,ai),class:normalizeClass({"text-sky-500 font-bold":toRaw(e.value)===ai})},toDisplayString(ai.title),11,_hoisted_4)]))),128))])]),_:2},1024)]),_:2},1024))),128))])]),createBaseVNode("div",_hoisted_5,[withDirectives(createBaseVNode("iframe",{id:"pdfPlotView",class:normalizeClass(["border border-gray-200 rounded-lg shadow",[qe.value?"pdfplotview-portrait":"pdfplotview-landscape"]])},null,2),[[vShow,Xe.value==="pdf"]]),withDirectives(createBaseVNode("canvas",_hoisted_6,null,512),[[vShow,Xe.value==="canvas"]]),withDirectives(createBaseVNode("div",_hoisted_7,null,512),[[vShow,Xe.value==="svg"]]),createBaseVNode("div",_hoisted_8,[createBaseVNode("div",_hoisted_9,[createTextVNode(" Renderer: "),createVNode(unref(Be$2),{modelValue:Xe.value,"onUpdate:modelValue":St[1]||(St[1]=oi=>Xe.value=oi),class:"ml-2",style:{"min-width":"120px"}},{default:withCtx(()=>[createBaseVNode("div",_hoisted_10,[createVNode(unref(Ne$3),{class:"relative w-full cursor-default rounded-lg bg-white py-2 pl-3 pr-10 text-left shadow-md focus:outline-none focus-visible:border-indigo-500 focus-visible:ring-2 focus-visible:ring-white/75 focus-visible:ring-offset-2 focus-visible:ring-offset-orange-300 sm:text-sm"},{default:withCtx(()=>[createBaseVNode("span",_hoisted_11,toDisplayString(Xe.value),1),createBaseVNode("span",_hoisted_12,[createVNode(unref(render$1),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])]),_:1}),createVNode(Transition,{"leave-active-class":"transition duration-100 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:withCtx(()=>[createVNode(unref(He),{class:"absolute mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black/5 focus:outline-none sm:text-sm"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(We.value,oi=>(openBlock(),createBlock(unref(Ue$2),{key:oi,value:oi,as:"template"},{default:withCtx(({active:si,selected:ai})=>[createBaseVNode("li",{class:normalizeClass([si?"bg-purple-100 text-purple-900":"text-gray-900","relative cursor-default select-none py-2 pl-10 pr-4"])},[createBaseVNode("span",{class:normalizeClass([ai?"font-medium":"font-normal","block truncate"])},toDisplayString(oi),3)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["modelValue"]),Xe.value==="pdf"?(openBlock(),createElementBlock(Fragment,{key:0},[_hoisted_13,createVNode(unref(ue$3),{modelValue:qe.value,"onUpdate:modelValue":St[2]||(St[2]=oi=>qe.value=oi),class:normalizeClass([qe.value?"bg-purple-600":"bg-gray-200","relative inline-flex h-6 w-11 items-center rounded-full"])},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass([qe.value?"translate-x-6":"translate-x-1","inline-block h-4 w-4 transform rounded-full bg-white transition"])},null,2)]),_:1},8,["modelValue","class"]),_hoisted_14],64)):createCommentVNode("",!0)]),Xe.value==="canvas"||Xe.value==="svg"?(openBlock(),createElementBlock("div",_hoisted_15,[e.value?(openBlock(),createElementBlock("div",_hoisted_16,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":St[3]||(St[3]=oi=>r.value=oi),type:"checkbox",disabled:!Ve.value,id:"chkTransposed",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,8,_hoisted_17),[[vModelCheckbox,r.value]]),_hoisted_18])):createCommentVNode("",!0),e.value?(openBlock(),createElementBlock("div",_hoisted_19,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":St[4]||(St[4]=oi=>je.value=oi),disabled:!ze.value,type:"checkbox",id:"chkReversed",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,8,_hoisted_20),[[vModelCheckbox,je.value]]),_hoisted_21])):createCommentVNode("",!0)])):createCommentVNode("",!0)])])]))}}),_export_sfc=($e,e)=>{const t=$e.__vccOpts||$e;for(const[r,Ve]of e)t[r]=Ve;return t},App=_export_sfc(_sfc_main,[["__scopeId","data-v-ea712cb6"]]);createApp(App).mount("#app");export{_typeof as _};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/index.es-Wb6EDESW-nx9QCAyp.js","assets/oxyplot-js-r9u5GmWb.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}