var om=Object.defineProperty;var rm=(i,t,e)=>t in i?om(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var at=(i,t,e)=>(rm(i,typeof t!="symbol"?t+"":t,e),e);import{d as qe,I as $n,x as am,E as dl,a as Po,r as te,w as Mn,o as Lo,b as si,c as Ss,e as Tt,f as Sn,v as rr,g as kn,h as Pe,i as An,j as Os,s as lm,k as um,l as pl,n as mm,m as di,t as Sr,p as fl,q as gl,u as hm,y as cm,F as br,z as dm,A as pm,B as fm,C as gm,D as xm,G as wm,H as ym,J as Sm,K as bm,L as Mm,M as km,N as Am,O as vm,P as Rm}from"./oxyplot-js-_--TUyMB.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function e(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(n){if(n.ep)return;n.ep=!0;const o=e(n);fetch(n.href,o)}})();var Cm=Object.defineProperty,Tm=(i,t,e)=>t in i?Cm(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,h=(i,t,e)=>(Tm(i,typeof t!="symbol"?t+"":t,e),e),Do=(i=>(i[i.Sunday=0]="Sunday",i[i.Monday=1]="Monday",i[i.Tuesday=2]="Tuesday",i[i.Wednesday=3]="Wednesday",i[i.Thursday=4]="Thursday",i[i.Friday=5]="Friday",i[i.Saturday=6]="Saturday",i))(Do||{}),U=(i=>(i[i.Automatic=0]="Automatic",i[i.Adaptive=1]="Adaptive",i[i.PreferSharpness=2]="PreferSharpness",i[i.PreferSpeed=3]="PreferSpeed",i[i.PreferGeometricAccuracy=4]="PreferGeometricAccuracy",i))(U||{}),F=(i=>(i[i.Left=-1]="Left",i[i.Center=0]="Center",i[i.Right=1]="Right",i))(F||{}),N=(i=>(i[i.Top=-1]="Top",i[i.Middle=0]="Middle",i[i.Bottom=1]="Bottom",i))(N||{}),st=(i=>(i[i.Miter=0]="Miter",i[i.Round=1]="Round",i[i.Bevel=2]="Bevel",i))(st||{}),v=(i=>(i[i.Solid=0]="Solid",i[i.Dash=1]="Dash",i[i.Dot=2]="Dot",i[i.DashDot=3]="DashDot",i[i.DashDashDot=4]="DashDashDot",i[i.DashDotDot=5]="DashDotDot",i[i.DashDashDotDot=6]="DashDashDotDot",i[i.LongDash=7]="LongDash",i[i.LongDashDot=8]="LongDashDot",i[i.LongDashDotDot=9]="LongDashDotDot",i[i.None=10]="None",i[i.Automatic=11]="Automatic",i))(v||{}),V=(i=>(i[i.None=0]="None",i[i.Circle=1]="Circle",i[i.Square=2]="Square",i[i.Diamond=3]="Diamond",i[i.Triangle=4]="Triangle",i[i.Cross=5]="Cross",i[i.Plus=6]="Plus",i[i.Star=7]="Star",i[i.Custom=8]="Custom",i))(V||{});const ne={Bold:700,Normal:400};var Bi=(i=>(i[i.Zoom=0]="Zoom",i[i.Pan=1]="Pan",i[i.Reset=2]="Reset",i))(Bi||{}),bs=(i=>(i[i.BelowSeries=0]="BelowSeries",i[i.AboveSeries=1]="AboveSeries",i))(bs||{}),g=(i=>(i[i.None=0]="None",i[i.Left=1]="Left",i[i.Right=2]="Right",i[i.Top=3]="Top",i[i.Bottom=4]="Bottom",i[i.All=5]="All",i))(g||{}),ut=(i=>(i[i.Auto=0]="Auto",i[i.Manual=1]="Manual",i[i.Milliseconds=2]="Milliseconds",i[i.Seconds=3]="Seconds",i[i.Minutes=4]="Minutes",i[i.Hours=5]="Hours",i[i.Days=6]="Days",i[i.Weeks=7]="Weeks",i[i.Months=8]="Months",i[i.Years=9]="Years",i))(ut||{}),rt=(i=>(i[i.Crossing=0]="Crossing",i[i.Inside=1]="Inside",i[i.Outside=2]="Outside",i[i.None=3]="None",i))(rt||{}),ni=(i=>(i[i.Default=0]="Default",i[i.Pan=1]="Pan",i[i.ZoomRectangle=2]="ZoomRectangle",i[i.ZoomHorizontal=3]="ZoomHorizontal",i[i.ZoomVertical=4]="ZoomVertical",i))(ni||{}),Ni=(i=>(i[i.All=0]="All",i[i.Single=1]="Single",i[i.Multiple=2]="Multiple",i))(Ni||{}),dt=(i=>(i[i.Outside=0]="Outside",i[i.Inside=1]="Inside",i[i.Middle=2]="Middle",i[i.Base=3]="Base",i))(dt||{});const ke=Object.freeze({x:NaN,y:NaN}),Ki=Object.freeze({x:0,y:0});function xo(i){return isNaN(i.x)&&isNaN(i.y)}function Io(i){return!xo(i)}function d(i,t){return{x:i,y:t}}function Pm(i){return i&&typeof i.x=="number"&&typeof i.y=="number"}function Lm(i,t){return new Bo(i.x-t.x,i.y-t.y)}function Ya(i,t){return d(i.x-t.x,i.y-t.y)}function Kn(i,t){return d(i.x+t.x,i.y+t.y)}const Mr=class mn{constructor(t,e){h(this,"_x"),h(this,"_y"),this._x=t,this._y=e}get length(){return Math.sqrt(this._x*this._x+this._y*this._y)}get lengthSquared(){return this._x*this._x+this._y*this._y}get x(){return this._x}get y(){return this._y}times(t){const e=this;return new mn(e._x*t,e._y*t)}plus(t){const e=this;return new mn(e._x+t._x,e._y+t._y)}minus(t){const e=this;return new mn(e._x-t._x,e._y-t._y)}negate(){const t=this;return new mn(-t._x,-t._y)}equals(t){return this._x===t._x&&this._y===t._y}toString(){return`${this._x} ${this._y}`}isDefined(){return this._x===this._x&&this._y===this._y}};h(Mr,"Undefined",new Mr(NaN,NaN));let Bo=Mr;const wo=Object.freeze({x:NaN,y:NaN}),Fe=Object.freeze({x:0,y:0});function R(i,t){return{x:i,y:t}}function Rt(i,t){return R(i.x+t.x,i.y+t.y)}function vn(i,t){return It(i.x-t.x,i.y-t.y)}function ue(i,t){return se.fromVector(vn(i,t))}function ze(i,t){return R(i.x-t.x,i.y-t.y)}function ri(i,t){const e=t.x-i.x,s=t.y-i.y;return Math.sqrt(e*e+s*s)}function $i(i,t){const e=t.x-i.x,s=t.y-i.y;return e*e+s*s}function bn(i){return isNaN(i.x)&&isNaN(i.y)}function ar(i,t){return i.x===t.x&&i.y===t.y}function It(i,t){return Object.freeze({x:i,y:t})}function Rn(i,t){return se.fromXY(i,t)}const Zr=Object.freeze(It(0,0));class se{constructor(t){h(this,"_v"),this._v=t}get x(){return this._v.x}get y(){return this._v.y}get vector(){return this._v}get length(){return Ii.length(this._v)}get lengthSquared(){return Ii.lengthSquared(this._v)}minus(t){return se.fromVector(Ii.minus(this._v,t))}times(t){return se.fromVector(Ii.times(this._v,t))}negate(){return se.fromVector(Ii.negate(this._v))}normalize(){return this._v=Ii.normalize(this._v),this}static fromVector(t){return new se(t)}static fromXY(t,e){return new se(It(t,e))}}class Ii{static length(t){return Math.sqrt(t.x*t.x+t.y*t.y)}static lengthSquared(t){return t.x*t.x+t.y*t.y}static normalize(t){if(t===Zr)throw new Error("Cannot normalize the zero vector");const e=Math.sqrt(t.x*t.x+t.y*t.y);return e>0?{x:t.x/e,y:t.y/e}:t}static plus(t,e){return It(t.x+e.x,t.y+e.y)}static minus(t,e){return It(t.x-e.x,t.y-e.y)}static times(t,e){return It(t.x*e,t.y*e)}static negate(t){return It(-t.x,-t.y)}static equals(t,e){return t.x===e.x&&t.y===e.y}}function Dm(i,t){return Im(i,e=>e[t])}function Im(i,t){return i.reduce((e,s)=>{const n=t(s);let o=e.get(n);return o?o.push(s):(o=[s],e.set(n,o)),e},new Map)}function Bm(i,t,e=0){for(let s=e;s<i.length;s++)if(t.includes(i[s]))return s;return-1}function Fm(i,t){const e=(s,n,o,r)=>s[o]>n[o]?r.toUpperCase()=="DESC"?-1:1:s[o]<n[o]?r.toUpperCase()=="DESC"?1:-1:0;return[...i].sort((s,n)=>{for(const o of t){const r=e(s,n,o[0],o[1]);if(r!==0)return r}return 0})}function ki(i,t,e){const s=Array(i);for(let n=0;n<i;n++)s[n]=new Array(t),e!==void 0&&s[n].fill(e);return s}function Gn(i,t){const e=i.indexOf(t);return e>-1?(i.splice(e,1),!0):!1}function ja(i,t){let e=0;for(let s=i.length-1;s>=0;s--)t(i[s])&&(i.splice(s,1),e++);return e}function _i(i,t){for(let e=0;e<t.length;e++)i.push(t[e])}function $s(i){if(!i||i.length===0)return[];const t=[];return _i(t,i),t.reverse()}function qt(i,...t){let e=0;return i.length>=1e5?e=i.reduce(function(s,n){return Math.max(s,n)}):e=Math.max.apply(null,i),!t||t.length===0?e:Math.max(e,...t)}function zt(i,...t){let e=0;return i.length>=1e5?e=i.reduce(function(s,n){return Math.min(s,n)}):e=Math.min.apply(null,i),!t||t.length===0?e:Math.min(e,...t)}function Nm(i){const t=Array.from(i,e=>String.fromCharCode(e));return btoa(t.join(""))}function Gi(i,t){return i[t]}function Cs(i){return Object.keys(i).filter(t=>typeof i[t]!="number").map(t=>Number(t))}const _m=new Date(9999,11,31,23,59,59,999),os=new Date(1,0,1,0,0,0,0);os.setUTCFullYear(1);os.setUTCMonth(0);os.setUTCDate(1);os.setUTCHours(0);os.setUTCMinutes(0);os.setUTCSeconds(0);os.setUTCMilliseconds(0);function Kr(i,t){let e="";if(t.includes("d")&&(e+=i.days.toString().padStart(2,"0")+":"),t.includes("hh")&&(e+=i.hours.toString().padStart(2,"0")+":"),t.includes("mm")&&(e+=i.minutes.toString().padStart(2,"0")+":"),t.includes("ss")&&(e+=i.seconds.toString().padStart(2,"0")),!e)throw new Error("Invalid format");return e}var xl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wl(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var yl={exports:{}};(function(i,t){(function(e,s){i.exports=s()})(xl,function(){var e="minute",s=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(o,r,a){var u=r.prototype;a.utc=function(k){var A={date:k,utc:!0,args:arguments};return new r(A)},u.utc=function(k){var A=a(this.toDate(),{locale:this.$L,utc:!0});return k?A.add(this.utcOffset(),e):A},u.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var m=u.parse;u.parse=function(k){k.utc&&(this.$u=!0),this.$utils().u(k.$offset)||(this.$offset=k.$offset),m.call(this,k)};var c=u.init;u.init=function(){if(this.$u){var k=this.$d;this.$y=k.getUTCFullYear(),this.$M=k.getUTCMonth(),this.$D=k.getUTCDate(),this.$W=k.getUTCDay(),this.$H=k.getUTCHours(),this.$m=k.getUTCMinutes(),this.$s=k.getUTCSeconds(),this.$ms=k.getUTCMilliseconds()}else c.call(this)};var p=u.utcOffset;u.utcOffset=function(k,A){var C=this.$utils().u;if(C(k))return this.$u?0:C(this.$offset)?p.call(this):this.$offset;if(typeof k=="string"&&(k=function(I){I===void 0&&(I="");var _=I.match(s);if(!_)return null;var z=(""+_[0]).match(n)||["-",0,0],E=z[0],Y=60*+z[1]+ +z[2];return Y===0?0:E==="+"?Y:-Y}(k),k===null))return this;var T=Math.abs(k)<=16?60*k:k,D=this;if(A)return D.$offset=T,D.$u=k===0,D;if(k!==0){var B=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(D=this.local().add(T+B,e)).$offset=T,D.$x.$localOffset=B}else D=this.utc();return D};var x=u.format;u.format=function(k){var A=k||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return x.call(this,A)},u.valueOf=function(){var k=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*k},u.isUTC=function(){return!!this.$u},u.toISOString=function(){return this.toDate().toISOString()},u.toString=function(){return this.toDate().toUTCString()};var w=u.toDate;u.toDate=function(k){return k==="s"&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():w.call(this)};var S=u.diff;u.diff=function(k,A,C){if(k&&this.$u===k.$u)return S.call(this,k,A,C);var T=this.local(),D=a(k).local();return S.call(T,D,A,C)}}})})(yl);var Vm=yl.exports;const Em=wl(Vm);var Sl={exports:{}};(function(i,t){(function(e,s){i.exports=s()})(xl,function(){var e={year:0,month:1,day:2,hour:3,minute:4,second:5},s={};return function(n,o,r){var a,u=function(x,w,S){S===void 0&&(S={});var k=new Date(x),A=function(C,T){T===void 0&&(T={});var D=T.timeZoneName||"short",B=C+"|"+D,I=s[B];return I||(I=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:C,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:D}),s[B]=I),I}(w,S);return A.formatToParts(k)},m=function(x,w){for(var S=u(x,w),k=[],A=0;A<S.length;A+=1){var C=S[A],T=C.type,D=C.value,B=e[T];B>=0&&(k[B]=parseInt(D,10))}var I=k[3],_=I===24?0:I,z=k[0]+"-"+k[1]+"-"+k[2]+" "+_+":"+k[4]+":"+k[5]+":000",E=+x;return(r.utc(z).valueOf()-(E-=E%1e3))/6e4},c=o.prototype;c.tz=function(x,w){x===void 0&&(x=a);var S=this.utcOffset(),k=this.toDate(),A=k.toLocaleString("en-US",{timeZone:x}),C=Math.round((k-new Date(A))/1e3/60),T=r(A,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(15*-Math.round(k.getTimezoneOffset()/15)-C,!0);if(w){var D=T.utcOffset();T=T.add(S-D,"minute")}return T.$x.$timezone=x,T},c.offsetName=function(x){var w=this.$x.$timezone||r.tz.guess(),S=u(this.valueOf(),w,{timeZoneName:x}).find(function(k){return k.type.toLowerCase()==="timezonename"});return S&&S.value};var p=c.startOf;c.startOf=function(x,w){if(!this.$x||!this.$x.$timezone)return p.call(this,x,w);var S=r(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return p.call(S,x,w).tz(this.$x.$timezone,!0)},r.tz=function(x,w,S){var k=S&&w,A=S||w||a,C=m(+r(),A);if(typeof x!="string")return r(x).tz(A);var T=function(_,z,E){var Y=_-60*z*1e3,At=m(Y,E);if(z===At)return[Y,z];var et=m(Y-=60*(At-z)*1e3,E);return At===et?[Y,At]:[_-60*Math.min(At,et)*1e3,Math.max(At,et)]}(r.utc(x,k).valueOf(),C,A),D=T[0],B=T[1],I=r(D).utcOffset(B);return I.$x.$timezone=A,I},r.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},r.tz.setDefault=function(x){a=x}}})})(Sl);var zm=Sl.exports;const Om=wl(zm);function Ai(){return $m}qe.extend(Em);qe.extend(Om);const $m={format:(i,t)=>qe(i).format(t),convertTime:(i,t)=>qe(i).tz(t).toDate(),addYears:(i,t)=>qe(i).add(t,"year").toDate(),addMonths:(i,t)=>qe(i).add(t,"month").toDate(),addTimespan:(i,t)=>{let e=qe(i);return t.days&&(e=e.add(t.days,"day")),t.hours&&(e=e.add(t.hours,"hour")),t.minutes&&(e=e.add(t.minutes,"minute")),t.seconds&&(e=e.add(t.seconds,"second")),t.milliseconds&&(e=e.add(t.milliseconds,"millisecond")),e.toDate()},dayOfWeek:i=>qe(i).day(),diff:(i,t)=>{const e=qe(i).diff(qe(t));return Ut.fromMilliseconds(e)}};let Hn=null;function Qr(){return Hn||(Hn=new Gm,Hn)}class Gm{async decode(t){const e=await $n.load(t),s=e.height,n=e.width,o=e.data,r=ki(n,s);for(let a=0;a<s;a++)for(let u=0;u<n;u++){let m=a*n+u;const c=o[m++],p=o[m++],x=o[m++],w=o[m++];r[a][u]=M.fromArgb(w,c,p,x)}return r}encode(t){const e=new DataView(new ArrayBuffer(t.imageInfo.width*t.imageInfo.height*4));let s=0;const n=t.pixels;for(let r=0;r<t.imageInfo.height;r++)for(let a=0;a<t.imageInfo.width;a++){const u=l.fromOxyColor(n.get(a,r));e.setUint8(s++,u.r),e.setUint8(s++,u.g),e.setUint8(s++,u.b),e.setUint8(s++,u.a)}const o=new $n(t.imageInfo.width,t.imageInfo.height,new Uint8Array(e.buffer)).toBuffer();return Promise.resolve(o)}async getImageInfo(t){const e=await $n.load(t);return{width:e.width,height:e.height,bitsPerPixel:e.bitDepth,dpiX:0,dpiY:0,format:He.getImageFormat(t)}}async load(t){const s=(await $n.load(t)).toBuffer();return{...await this.getImageInfo(s),data:Array.from(s)}}}function Hm(i){if(i){if(i.includes("=>"))return new Function("return "+i)();if(i.includes("function"))return new Function("return "+i)()}}function Ci(i){return i===void 0}function yt(i){return i==null}function qa(i,...t){if(i)for(const e of t)delete i[e]}function Xt(i,t,e){if(!i||!t)return e;const s=i[t];return yt(s)?e:s}function xi(i,t){if(Ci(i))return i;const e=i;if(Array.isArray(e))return e.forEach(n=>xi(n,t)),i;const s=Object.assign({removeNull:!1,removeEmptyStr:!1,deep:1},t);return Object.keys(e).forEach(n=>{const o=e[n];if(o===void 0){delete e[n];return}if(o===null&&s.removeNull){delete e[n];return}if(s.removeEmptyStr&&typeof o=="string"&&o.length==0){delete e[n];return}if(typeof o=="object"&&s.deep>1){const r=Object.assign({},s,{deep:s.deep-1});xi(o,r);return}}),i}function bl(i){let t=0;for(let e=0;e<i.length;e++)t=Math.imul(31,t)+i[e];return t}function Um(i,t,e){const s={},n=i;function o(r,a){return e?t&&e.excludeDefault===!0&&Ar(a,t[r])?!1:e.filter?e.filter(r,a):!0:!0}return Object.keys(n).forEach(r=>{const a=n[r];if(a!==void 0&&o(r,a)){if(typeof a=="function"){if(!r.includes("Formatter"))return;s[r]=String(a);return}s[r]=a}}),s}function Ml(i,t,e){return Um(i,t,{filter:(s,n)=>{var o;if(e!=null&&e.filter){const r=e.filter(s,n);if(r!==void 0)return r}return s.startsWith("__")&&s.endsWith("__")?!0:!(s.startsWith("_")||s.startsWith("actual")||(o=e==null?void 0:e.excludeKeys)!=null&&o.includes(s))},excludeDefault:(e==null?void 0:e.excludeDefault)??!0})}const Wm=i=>Object.prototype.toString.call(i);function kr(i){if(i===null)return"null";const t=Wm(i).slice(8,-1).toLowerCase();return typeof i=="object"||typeof i=="function"?t:typeof i}function Ar(i,t){if(i===t)return!0;const e=kr(i),s=kr(t);if(e!==s)return!1;if(e==="array")return i.length!==t.length?!1:i.every((n,o)=>Ar(n,t[o]));if(e==="object"){const n=Object.keys(i);return n.length!==Object.keys(t).length?!1:n.every(o=>Ar(i[o],t[o]))}return Object.is(i,t)}function it(i,t,e,s){var n;const o=(Array.isArray(e)?e:[e]).filter(a=>a);o.unshift(t),o.reverse();const r=Object.keys(t);for(const a of r){if((n=s==null?void 0:s.exclude)!=null&&n.includes(a))continue;const u=Object.getOwnPropertyDescriptor(i,a);if(!(u===void 0||!u.writable))for(const m of o){const c=m[a];if(c===void 0)continue;if(!(m===t))i[a]=c;else{const x=kr(c);x==="array"||x==="object"?i[a]=Xm(c):i[a]=c}break}}return i}function Ot(i,t,e,s=!1){if(!i||!t||!e)return;const n=i,o=e[t];if(o){if(typeof o=="function"){n[t]=o,s&&delete e[t];return}if(typeof o=="string"){n[t]=Hm(o),s&&delete e[t];return}throw new Error(`Invalid method type: ${o}`)}}function Xm(i){return Array.isArray(i)?Array.from(i):Object.assign({},i)}const ct=-17976931348623157e292,ot=Number.MAX_VALUE;function Bt(i,t){if(isNaN(i)||!isFinite(i))return NaN;const e=Math.pow(10,t);return Math.round((i+Number.EPSILON)*e)/e}function vi(i){return!isFinite(i)}function Ja(i){return i===Number.NEGATIVE_INFINITY}function Za(i){return i===Number.POSITIVE_INFINITY}function ws(i){return i>=0?i:i>>>0}function Ym(i,t){return isNaN(i)?i:isNaN(t)?t:t===1?NaN:i!==1&&(t===0||Number.POSITIVE_INFINITY===t)?NaN:Math.log(i)/Math.log(t)}function jm(i,t){let e;if(i>=1e6||i<=-1e6?e=i.toExponential(t):e=i.toString(),e.includes("e")){const s=Number(e.split("e")[0]);return Bt(s,t).toString()+"e"+e.split("e")[1]}return Bt(i,t).toString()}function qm(i,t=1){return yt(i)?"":isNaN(i)?"NaN":Bt(i*100,t)+"%"}function vr(i,t){if(Math.round(i)!==i)throw new Error(`${t||"number"} must be an integer.`)}function ht(i){return isNaN(i)||yt(i)}function Jm(i,t){switch(i){case"AngleAxis":return new me(t);case"AngleAxisFullPlotArea":return new ea(t);case"AreaSeries":return new wi(t);case"ArrowAnnotation":return new As(t);case"BarSeries":return new H(t);case"BoxPlotSeries":return new Xo(t);case"CandleStickSeries":return new Fn(t);case"CategoryAxis":return new Z(t);case"CategoryColorAxis":return new na(t);case"ContourSeries":return new We(t);case"DateTimeAxis":return new Nt(t);case"EllipseAnnotation":return new Gs(t);case"ErrorBarSeries":return new Ro(t);case"ExtrapolationLineSeries":return new Ts(t);case"FunctionAnnotation":return new Tr(t);case"FunctionSeries":return new nt(t);case"HeatMapSeries":return new Qe(t);case"HighLowSeries":return new Uo(t);case"HistogramSeries":return new pi(t);case"ImageAnnotation":return new Ve(t);case"IntervalBarSeries":return new ci(t);case"Legend":return new X(t);case"LineAnnotation":return new _t(t);case"LineSeries":return new G(t);case"LinearAxis":return new y(t);case"LinearBarSeries":return new pa(t);case"LinearColorAxis":return new Yt(t);case"LogarithmicAxis":return new Mt(t);case"LogarithmicColorAxis":return new _l(t);case"MagnitudeAxis":return new Be(t);case"MagnitudeAxisFullPlotArea":return new sa(t);case"PieSeries":return new hu(t);case"PointAnnotation":return new ei(t);case"PolygonAnnotation":return new fi(t);case"PolygonSeries":return new Ma(t);case"PolylineAnnotation":return new Xs(t);case"RangeColorAxis":return new El(t);case"RectangleAnnotation":return new ee(t);case"RectangleBarSeries":return new $r(t);case"RectangleSeries":return new Sa(t);case"ScatterSeries":return new Et(t);case"StairStepSeries":return new Oe(t);case"StemSeries":return new mu(t);case"TextAnnotation":return new ye(t);case"ThreeColorLineSeries":return new fu(t);case"TimeSpanAxis":return new Ze(t);case"TornadoBarSeries":return new Mi(t);case"TwoColorAreaSeries":return new _n(t);case"TwoColorLineSeries":return new gu(t);case"VectorSeries":return new Wo(t);case"VolumeSeries":return new nu(t);default:return}}class Zm{static deserialize(t){const e=JSON.parse(t);return e.axes&&(e.axes=Un(e.axes,"axes")),e.series&&(e.series=Un(e.series,"series")),e.annotations&&(e.annotations=Un(e.annotations,"annotations")),e.legends&&(e.legends=Un(e.legends,"legends")),new b(e)}}function Un(i,t){if(!Array.isArray(i))throw new Error(`${t} must be an array`);const e=[];for(const s of i){const n=s.__oxy_element_name__;if(!n)continue;delete s.__oxy_element_name__;const o=Jm(n,s);if(!o){console.warn("cannot create element: "+n);continue}e.push(o)}return e}function Km(i,t){return i&&i.replace(new RegExp(`^${t}+|${t}+$`,"g"),"")}function Wn(i,t,e){return e===void 0?i.substring(t):i.substring(t,t+e)}const Ds=1e3,Is=6e4,Bs=36e5,Fs=864e5;class Ut{constructor(t){h(this,"_totalMs",0),h(this,"_ms",0),h(this,"_seconds",0),h(this,"_minutes",0),h(this,"_hours",0),h(this,"_days",0),h(this,"toString",()=>`${this._days}day ${this._hours}hour ${this._minutes}minute ${this._seconds}second ${this._ms}ms`),this.ms=t,this._totalMs=t;const e=t<0?-1:1;let s=Math.abs(t);s>=Fs&&(this._days=e*Math.floor(s/Fs),s=s%Fs),s>=Bs&&(this._hours=e*Math.floor(s/Bs),s=s%Bs),s>=Is&&(this._minutes=e*Math.floor(s/Is),s=s%Is),s>=Ds&&(this._seconds=e*Math.floor(s/Ds),s=s%Ds),this._ms=e*s}get milliseconds(){return this._ms}get seconds(){return this._seconds}get minutes(){return this._minutes}get hours(){return this._hours}get days(){return this._days}get totalMs(){return this._totalMs}get totalSeconds(){return this._totalMs/Ds}get totalMinutes(){return this._totalMs/Is}get totalHours(){return this._totalMs/Bs}get totalDays(){return this._totalMs/Fs}static fromMilliseconds(t){return new Ut(t)}static fromSeconds(t){return new Ut(t*Ds)}static fromMinutes(t){return new Ut(t*Is)}static fromHours(t){return new Ut(t*Bs)}static fromDays(t){return new Ut(t*Fs)}static from(t=0,e=0,s=0,n=0,o=0){return new Ut(t*Fs+e*Bs+s*Is+n*Ds+o)}}class Ge{constructor(t,e,s){h(this,"_data"),this.columnCount=t,this.rowCount=e,this._data=ki(e,t,s)}static fromArray(t){const e=t.length,s=t[0].length,n=new Ge(s,e);for(let o=0;o<e;o++)for(let r=0;r<s;r++)n.set(r,o,t[o][r]);return n}toArray(){const t=ki(this.rowCount,this.columnCount);for(let e=0;e<this.rowCount;e++)for(let s=0;s<this.columnCount;s++)t[e][s]=this.get(s,e);return t}get height(){return this.rowCount}get width(){return this.columnCount}get(t,e){return this._data[e][t]}set(t,e,s){this._data[e][t]=s}}class Jt{constructor(t){h(this,"_rect"),this._rect=t}get rect(){return this._rect}get left(){return this._rect.left}get top(){return this._rect.top}get topLeft(){return P.topLeft(this._rect)}get topRight(){return P.topRight(this._rect)}get right(){return P.right(this._rect)}get bottom(){return P.bottom(this._rect)}get bottomLeft(){return P.bottomLeft(this._rect)}get bottomRight(){return P.bottomRight(this._rect)}get height(){return this._rect.height}get width(){return this._rect.width}get center(){return P.center(this._rect)}offset(t,e){const s=P.offset(this._rect,t,e);return Jt.fromRect(s)}clip(t){const e=P.clip(this._rect,t);return Jt.fromRect(e)}deflate(t){const e=P.deflate(this._rect,t);return Jt.fromRect(e)}static fromRect(t){return new Jt(t)}static fromScreenPoints(t,e){return new Jt(P.fromScreenPoints(t,e))}}function J(i,t,e,s){if(e<0)throw new Error("width;The width should not be negative.");if(s<0)throw new Error("height;The height should not be negative.");return Object.freeze({left:i,top:t,width:e,height:s})}const ji=Object.freeze(J(0,0,1/0,1/0)),Ae=Object.freeze(J(0,0,0,0));class P{static fromScreenPoints(t,e){return J(Math.min(t.x,e.x),Math.min(t.y,e.y),Math.abs(e.x-t.x),Math.abs(e.y-t.y))}static fromScreenPointAndSize(t,e){return J(t.x,t.y,e.width,e.height)}static bottom(t){return t.top+t.height}static right(t){return t.left+t.width}static center(t){return R(t.left+t.width*.5,t.top+t.height*.5)}static topLeft(t){return R(t.left,t.top)}static topRight(t){return R(this.right(t),t.top)}static bottomLeft(t){return R(t.left,this.bottom(t))}static bottomRight(t){return R(this.right(t),this.bottom(t))}static create(t,e,s,n){return J(Math.min(t,s),Math.min(e,n),Math.abs(s-t),Math.abs(n-e))}static contains(t,e,s){return e>=t.left&&e<=this.right(t)&&s>=t.top&&s<=this.bottom(t)}static containsPoint(t,e){return this.contains(t,e.x,e.y)}static equals(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.width&&t.height===e.height}static inflate(t,e,s){return J(t.left-e,t.top-s,t.width+e*2,t.height+s*2)}static inflateAll(t,e){return J(t.left-e.left,t.top-e.top,t.width+e.left+e.right,t.height+e.top+e.bottom)}static intersect(t,e){const s=Math.max(t.left,e.left),n=Math.max(t.top,e.top),o=Math.min(this.right(t),this.right(e)),r=Math.min(this.bottom(t),this.bottom(e));return o<s||r<n?Ae:J(s,n,o-s,r-n)}static deflate(t,e){return J(t.left+e.left,t.top+e.top,Math.max(0,t.width-e.left-e.right),Math.max(0,t.height-e.top-e.bottom))}static offset(t,e,s){return J(t.left+e,t.top+s,t.width,t.height)}static clip(t,e){const s=Ja(e.left)&&Za(e.width)?this.right(e):1/0,n=Ja(e.top)&&Za(e.height)?this.bottom(e):1/0;return this.create(Math.max(Math.min(t.left,s),e.left),Math.max(Math.min(t.top,n),e.top),Math.max(Math.min(this.right(t),s),e.left),Math.max(Math.min(this.bottom(t),n),e.top))}}function bt(i,t){return Object.freeze({height:t||0,width:i||0})}const ks=Object.freeze(bt());class Zs{constructor(t){h(this,"_size"),this._size=t}get height(){return this._size.height}get width(){return this._size.width}static from(t){return new Zs(t)}static equals(t,e){return t.width===e.width&&t.height===e.height}static include(t,e){return bt(Math.max(t.width,e.width),Math.max(t.height,e.height))}static getBounds(t,e,s,n){const o=s===F.Left?0:s===F.Center?.5:1,r=n===N.Top?0:n===N.Middle?.5:1,a=It(o*t.width,r*t.height);if(e===0)return J(-a.x,-a.y,t.width,t.height);const u=se.fromXY(0,0).minus(a).vector,m=se.fromXY(t.width,0).minus(a).vector,c=se.fromXY(t.width,t.height).minus(a).vector,p=se.fromXY(0,t.height).minus(a).vector,x=e*Math.PI/180,w=Math.cos(x),S=Math.sin(x),k=E=>It(w*E.x-S*E.y,S*E.x+w*E.y),A=k(u),C=k(m),T=k(c),D=k(p),B=Math.min(Math.min(A.x,C.x),Math.min(T.x,D.x)),I=Math.min(Math.min(A.y,C.y),Math.min(T.y,D.y)),_=Math.max(Math.max(A.x-B,C.x-B),Math.max(T.x-B,D.x-B)),z=Math.max(Math.max(A.y-I,C.y-I),Math.max(T.y-I,D.y-I));return J(B,I,_,z)}static getPolygon(t,e,s,n,o){const r=n===F.Left?0:n===F.Center?.5:1,a=o===N.Top?0:o===N.Middle?.5:1,u=It(r*t.width,a*t.height);let m=se.fromXY(0,0).minus(u).vector,c=se.fromXY(t.width,0).minus(u).vector,p=se.fromXY(t.width,t.height).minus(u).vector,x=se.fromXY(0,t.height).minus(u).vector;if(s!==0){const w=s*Math.PI/180,S=Math.cos(w),k=Math.sin(w),A=C=>It(S*C.x-k*C.y,k*C.x+S*C.y);m=A(m),c=A(c),p=A(p),x=A(x)}return[Rt(e,m),Rt(e,c),Rt(e,p),Rt(e,x)]}}function K(i,t,e,s){if(!yt(i)&&yt(t)&&yt(e)&&yt(s))return Object.freeze({left:i,top:i,right:i,bottom:i});if(!yt(t)&&!yt(e)&&!yt(s))return Object.freeze({left:i,top:t,right:e,bottom:s});debugger;throw new Error("Invalid arguments")}const yo=Object.freeze(K(0));class So{constructor(t){h(this,"_thickness"),this._thickness=t}static from(t){return new So(t)}get bottom(){return this._thickness.bottom}get left(){return this._thickness.left}get right(){return this._thickness.right}get top(){return this._thickness.top}static equals(t,e){return t.left===e.left&&t.top===e.top&&t.right===e.right&&t.bottom===e.bottom}static include(t,e){return K(Math.max(e.left,t.left),Math.max(e.top,t.top),Math.max(e.right,t.right),Math.max(e.bottom,t.bottom))}}var W=(i=>(i[i.Data=0]="Data",i[i.ScreenUnits=1]="ScreenUnits",i[i.RelativeToViewport=2]="RelativeToViewport",i[i.RelativeToPlotArea=3]="RelativeToPlotArea",i))(W||{});function lt(i,t){return{value:i,unit:t}}class l{constructor(t,e,s,n){h(this,"a"),h(this,"b"),h(this,"g"),h(this,"r"),h(this,"hex"),this.a=t,this.r=e,this.g=s,this.b=n,this.hex=M.toHexString(e,s,n,t)}static fromArgb(t,e,s,n){return new l(t,e,s,n)}static fromHex(t){t||(t=bo);const{a:e,r:s,g:n,b:o}=M.parseHex(t);return new l(e,s,n,o)}static fromOxyColor(t){return t instanceof l?t:l.fromHex(t)}static fromRgb(t,e,s){return this.fromArgb(255,t,e,s)}static fromHsv(t,e,s){return this.fromOxyColor(M.fromHsv(t,e,s))}static fromAColor(t,e){return this.fromOxyColor(M.fromAColor(t,e))}}const bo="#00000000",Rr="#00000001";class M{static isOxyColor(t){return!(!t||typeof t!="string")}static getOxyColor(t){return typeof t=="string"?t:l.fromOxyColor(t).hex}static parse(t){if(!t||t.toLowerCase()==="none")return bo;if(t.toLowerCase()==="auto")return Rr;const{a:e,r:s,g:n,b:o}=this.parseHex(t);return this.fromArgb(e,s,n,o)}static parseHex(t){if(t=t.trim(),t.startsWith("#")){t=Km(t,"#"),t.length===3&&(t=`${t[0]}${t[0]}${t[1]}${t[1]}${t[2]}${t[2]}`);let u=parseInt(t,16);return t.length<8&&(u+=4278190080),this.uint32ToArgb(u)}const e=t.split(",");if(e.length<3||e.length>4)throw new Error("Invalid format.");let s=0,n=255;e.length>3&&(n=parseInt(e[s],10),s++);const o=parseInt(e[s],10),r=parseInt(e[s+1],10),a=parseInt(e[s+2],10);return{a:n,r:o,g:r,b:a}}static colorDifference(t,e){const s=(t.r-e.r)/255,n=(t.g-e.g)/255,o=(t.b-e.b)/255,r=(t.a-e.a)/255,a=s*s+n*n+o*o+r*r;return Math.sqrt(a)}static fromUInt32(t){const{a:e,r:s,g:n,b:o}=this.uint32ToArgb(t);return this.fromArgb(e,s,n,o)}static uint32ToArgb(t){const e=t>>24&255,s=t>>16&255,n=t>>8&255,o=t&255;return{a:e,r:s,g:n,b:o}}static fromHsv(t,e,s){let n,o,r=n=o=0;if(e===0)r=n=o=s;else{t===1&&(t=0),t*=6;const a=Math.floor(t),u=t-a,m=s*(1-e),c=s*(1-e*u),p=s*(1-e*(1-u));switch(a){case 0:r=s,n=p,o=m;break;case 1:r=c,n=s,o=m;break;case 2:r=m,n=s,o=p;break;case 3:r=m,n=c,o=s;break;case 4:r=p,n=m,o=s;break;case 5:r=s,n=m,o=c;break}}return this.fromRgb(r*255,n*255,o*255)}static fromAColor(t,e){const s=l.fromOxyColor(e);return this.fromArgb(t,s.r,s.g,s.b)}static fromArgb(t,e,s,n){return new l(t,e,s,n).hex}static fromRgb(t,e,s){return this.fromArgb(255,t,e,s)}static interpolate(t,e,s){const n=l.fromOxyColor(t),o=l.fromOxyColor(e),r=n.a*(1-s)+o.a*s,a=n.r*(1-s)+o.r*s,u=n.g*(1-s)+o.g*s,m=n.b*(1-s)+o.b*s;return l.fromArgb(Xn(r),Xn(a),Xn(u),Xn(m))}static equals(t,e){if(typeof t=="string"&&typeof e=="string")return t===e;const s=l.fromOxyColor(t),n=l.fromOxyColor(e);return s.a===n.a&&s.r===n.r&&s.g===n.g&&s.b===n.b}static toArgb(t){return this.toArgbInner(t,"start")}static toRgba(t){return this.toArgbInner(t,"end")}static toRgb(t){return this.toArgbInner(t,"none")}static toHexString(t,e,s,n){const o=Ka,[r,a,u]=[o(t),o(e),o(s)],m=`${r}${a}${u}`;return yt(n)||n===255?r[0]===r[1]&&a[0]===a[1]&&u[0]===u[1]?`#${r[0]}${a[0]}${u[0]}`:`#${m}`:`#${o(n)}${m}`}static toArgbInner(t,e){const{r:s,g:n,b:o,a:r}=l.fromOxyColor(t),a=Ka,u=`${a(s)}${a(n)}${a(o)}`;return e==="start"?`#${a(r)}${u}`:e==="end"?`#${u}${a(r)}`:`#${u}`}static isInvisible(t){return t?l.fromOxyColor(t).a===0:!0}static isVisible(t){return t?l.fromOxyColor(t).a>0:!1}static isUndefined(t){return this.equals(t,bo)}static isAutomatic(t){return this.equals(t,Rr)}static getActualColor(t,e){return this.isAutomatic(t)?this.getOxyColor(e):this.getOxyColor(t)}static changeIntensity(t,e){const s=this.toHsv(t);return s[2]*=e,s[2]>1&&(s[2]=1),l.fromHsv(s[0],s[1],s[2])}static changeSaturation(t,e){const s=this.toHsv(t);return s[1]*=e,s[1]>1&&(s[1]=1),l.fromHsv(s[0],s[1],s[2])}static changeOpacity(t,e){const{a:s}=l.fromOxyColor(t);return l.fromAColor(s*e,t)}static complementary(t){const e=this.toHsv(t);let s=e[0]-.5;return s<0&&(s+=1),l.fromHsv(s,e[1],e[2])}static toHsv(t){const{r:e,g:s,b:n}=l.fromOxyColor(t),o=Math.min(Math.min(e,s),n),r=Math.max(Math.max(e,s),n),a=r-o,u=r===0?0:a/r;let m=0;u===0?m=0:(e===r?m=(s-n)/a:s===r?m=2+(n-e)/a:n===r&&(m=4+(e-s)/a),m*=60,m<0&&(m+=360));const c=new Array(3);return c[0]=m/360,c[1]=u,c[2]=r/255,c}static toUint(t){const{r:e,g:s,b:n,a:o}=l.fromOxyColor(t);let r=ws(o<<24);return r+=ws(e<<16),r+=ws(s<<8),r+=ws(n),ws(r)}static toByteString(t){const{r:e,g:s,b:n,a:o}=l.fromOxyColor(t);return`${o},${e},${s},${n}`}static hueDifference(t,e){const s=this.toHsv(t),n=this.toHsv(e);let o=s[0]-n[0];o>.5&&(o-=1),o<-.5&&(o+=1);const r=Math.pow(o,2);return Math.sqrt(r)}}function Ka(i){return i.toString(16).padStart(2,"0")}function Xn(i){return Math.round(i)}const f={Undefined:bo,Automatic:Rr,AliceBlue:M.fromUInt32(4293982463),AntiqueWhite:M.fromUInt32(4294634455),Aqua:M.fromUInt32(4278255615),Aquamarine:M.fromUInt32(4286578644),Azure:M.fromUInt32(4293984255),Beige:M.fromUInt32(4294309340),Bisque:M.fromUInt32(4294960324),Black:M.fromUInt32(4278190080),BlanchedAlmond:M.fromUInt32(4294962125),Blue:M.fromUInt32(4278190335),BlueViolet:M.fromUInt32(4287245282),Brown:M.fromUInt32(4289014314),BurlyWood:M.fromUInt32(4292786311),CadetBlue:M.fromUInt32(4284456608),Chartreuse:M.fromUInt32(4286578432),Chocolate:M.fromUInt32(4291979550),Coral:M.fromUInt32(4294934352),CornflowerBlue:M.fromUInt32(4284782061),Cornsilk:M.fromUInt32(4294965468),Crimson:M.fromUInt32(4292613180),Cyan:M.fromUInt32(4278255615),DarkBlue:M.fromUInt32(4278190219),DarkCyan:M.fromUInt32(4278225803),DarkGoldenrod:M.fromUInt32(4290283019),DarkGray:M.fromUInt32(4289309097),DarkGreen:M.fromUInt32(4278215680),DarkKhaki:M.fromUInt32(4290623339),DarkMagenta:M.fromUInt32(4287299723),DarkOliveGreen:M.fromUInt32(4283788079),DarkOrange:M.fromUInt32(4294937600),DarkOrchid:M.fromUInt32(4288230092),DarkRed:M.fromUInt32(4287299584),DarkSalmon:M.fromUInt32(4293498490),DarkSeaGreen:M.fromUInt32(4287609999),DarkSlateBlue:M.fromUInt32(4282924427),DarkSlateGray:M.fromUInt32(4281290575),DarkTurquoise:M.fromUInt32(4278243025),DarkViolet:M.fromUInt32(4287889619),DeepPink:M.fromUInt32(4294907027),DeepSkyBlue:M.fromUInt32(4278239231),DimGray:M.fromUInt32(4285098345),DodgerBlue:M.fromUInt32(4280193279),Firebrick:M.fromUInt32(4289864226),FloralWhite:M.fromUInt32(4294966e3),ForestGreen:M.fromUInt32(4280453922),Fuchsia:M.fromUInt32(4294902015),Gainsboro:M.fromUInt32(4292664540),GhostWhite:M.fromUInt32(4294506751),Gold:M.fromUInt32(4294956800),Goldenrod:M.fromUInt32(4292519200),Gray:M.fromUInt32(4286611584),Green:M.fromUInt32(4278222848),GreenYellow:M.fromUInt32(4289593135),Honeydew:M.fromUInt32(4293984240),HotPink:M.fromUInt32(4294928820),IndianRed:M.fromUInt32(4291648604),Indigo:M.fromUInt32(4283105410),Ivory:M.fromUInt32(4294967280),Khaki:M.fromUInt32(4293977740),Lavender:M.fromUInt32(4293322490),LavenderBlush:M.fromUInt32(4294963445),LawnGreen:M.fromUInt32(4286381056),LemonChiffon:M.fromUInt32(4294965965),LightBlue:M.fromUInt32(4289583334),LightCoral:M.fromUInt32(4293951616),LightCyan:M.fromUInt32(4292935679),LightGoldenrodYellow:M.fromUInt32(4294638290),LightGray:M.fromUInt32(4292072403),LightGreen:M.fromUInt32(4287688336),LightPink:M.fromUInt32(4294948545),LightSalmon:M.fromUInt32(4294942842),LightSeaGreen:M.fromUInt32(4280332970),LightSkyBlue:M.fromUInt32(4287090426),LightSlateGray:M.fromUInt32(4286023833),LightSteelBlue:M.fromUInt32(4289774814),LightYellow:M.fromUInt32(4294967264),Lime:M.fromUInt32(4278255360),LimeGreen:M.fromUInt32(4281519410),Linen:M.fromUInt32(4294635750),Magenta:M.fromUInt32(4294902015),Maroon:M.fromUInt32(4286578688),MediumAquamarine:M.fromUInt32(4284927402),MediumBlue:M.fromUInt32(4278190285),MediumOrchid:M.fromUInt32(4290401747),MediumPurple:M.fromUInt32(4287852763),MediumSeaGreen:M.fromUInt32(4282168177),MediumSlateBlue:M.fromUInt32(4286277870),MediumSpringGreen:M.fromUInt32(4278254234),MediumTurquoise:M.fromUInt32(4282962380),MediumVioletRed:M.fromUInt32(4291237253),MidnightBlue:M.fromUInt32(4279834992),MintCream:M.fromUInt32(4294311930),MistyRose:M.fromUInt32(4294960353),Moccasin:M.fromUInt32(4294960309),NavajoWhite:M.fromUInt32(4294958765),Navy:M.fromUInt32(4278190208),OldLace:M.fromUInt32(4294833638),Olive:M.fromUInt32(4286611456),OliveDrab:M.fromUInt32(4285238819),Orange:M.fromUInt32(4294944e3),OrangeRed:M.fromUInt32(4294919424),Orchid:M.fromUInt32(4292505814),PaleGoldenrod:M.fromUInt32(4293847210),PaleGreen:M.fromUInt32(4288215960),PaleTurquoise:M.fromUInt32(4289720046),PaleVioletRed:M.fromUInt32(4292571283),PapayaWhip:M.fromUInt32(4294963157),PeachPuff:M.fromUInt32(4294957753),Peru:M.fromUInt32(4291659071),Pink:M.fromUInt32(4294951115),Plum:M.fromUInt32(4292714717),PowderBlue:M.fromUInt32(4289781990),Purple:M.fromUInt32(4286578816),Red:M.fromUInt32(4294901760),RosyBrown:M.fromUInt32(4290547599),RoyalBlue:M.fromUInt32(4282477025),SaddleBrown:M.fromUInt32(4287317267),Salmon:M.fromUInt32(4294606962),SandyBrown:M.fromUInt32(4294222944),SeaGreen:M.fromUInt32(4281240407),SeaShell:M.fromUInt32(4294964718),Sienna:M.fromUInt32(4288696877),Silver:M.fromUInt32(4290822336),SkyBlue:M.fromUInt32(4287090411),SlateBlue:M.fromUInt32(4285160141),SlateGray:M.fromUInt32(4285563024),Snow:M.fromUInt32(4294966010),SpringGreen:M.fromUInt32(4278255487),SteelBlue:M.fromUInt32(4282811060),Tan:M.fromUInt32(4291998860),Teal:M.fromUInt32(4278222976),Thistle:M.fromUInt32(4292394968),Tomato:M.fromUInt32(4294927175),Transparent:M.fromUInt32(16777215),Turquoise:M.fromUInt32(4282441936),Violet:M.fromUInt32(4293821166),Wheat:M.fromUInt32(4294303411),White:M.fromUInt32(4294967295),WhiteSmoke:M.fromUInt32(4294309365),Yellow:M.fromUInt32(4294967040),YellowGreen:M.fromUInt32(4288335154)};Object.freeze(f);function oi(i){if(!(i!=null&&i.length))return Object.freeze({colors:[]});let t=i;return i[0].hex&&(t=i.map(e=>e.hex)),Object.freeze({colors:t})}class Te{static interpolate(t,...e){if(!e||e.length===0||t<1)return oi([]);const s=[],n=t===1?0:1/(t-1);for(let o=0;o<t;o++){const a=o*n*(e.length-1),u=Math.floor(a),m=u+1<e.length?u+1:u,c=l.fromOxyColor(e[u]),p=l.fromOxyColor(e[m]);s[o]=M.interpolate(c,p,a-u)}return oi(s)}static reverse(t){return oi($s(t.colors))}}class j{static blackWhiteRed(t){return Te.interpolate(t,f.Black,f.White,f.Red)}static blueWhiteRed(t){return Te.interpolate(t,f.Blue,f.White,f.Red)}static cool(t){return Te.interpolate(t,f.Cyan,f.Magenta)}static gray(t){return Te.interpolate(t,f.Black,f.White)}static hot(t){return Te.interpolate(t,f.Black,l.fromRgb(127,0,0),l.fromRgb(255,127,0),l.fromRgb(255,255,127),f.White)}static hue(t){return Te.interpolate(t,f.Red,f.Yellow,f.Green,f.Cyan,f.Blue,f.Magenta,f.Red)}static hueDistinct(t){return Te.interpolate(t,f.Magenta,f.Blue,f.Cyan,f.Green,f.Yellow,f.Red)}static jet(t){return Te.interpolate(t,f.DarkBlue,f.Cyan,f.Yellow,f.Orange,f.DarkRed)}static rainbow(t){return Te.interpolate(t,f.Violet,f.Indigo,f.Blue,f.Green,f.Yellow,f.Orange,f.Red)}static cividis(t=256){return t===lr.length?oi(lr):Te.interpolate(t,...lr)}static inferno(t=256){return t===ur.length?oi(ur):Te.interpolate(t,...ur)}static magma(t=256){return t===mr.length?oi(mr):Te.interpolate(t,...mr)}static plasma(t=256){return t===hr.length?oi(hr):Te.interpolate(t,...hr)}static viridis(t=256){return t===cr.length?oi(cr):Te.interpolate(t,...cr)}}h(j,"blueWhiteRed31");h(j,"hot64");h(j,"hue64");j.blueWhiteRed31=j.blueWhiteRed(31);j.hot64=j.hot(64);j.hue64=j.hue(64);const lr=[l.fromRgb(0,32,77),l.fromRgb(0,33,78),l.fromRgb(0,34,80),l.fromRgb(0,34,82),l.fromRgb(0,35,83),l.fromRgb(0,36,85),l.fromRgb(0,37,87),l.fromRgb(0,37,88),l.fromRgb(0,38,90),l.fromRgb(0,39,92),l.fromRgb(0,39,94),l.fromRgb(0,40,96),l.fromRgb(0,41,97),l.fromRgb(0,42,99),l.fromRgb(0,42,101),l.fromRgb(0,43,103),l.fromRgb(0,44,105),l.fromRgb(0,44,106),l.fromRgb(0,45,108),l.fromRgb(0,46,110),l.fromRgb(0,46,111),l.fromRgb(0,47,111),l.fromRgb(0,47,111),l.fromRgb(0,48,111),l.fromRgb(0,48,111),l.fromRgb(0,49,111),l.fromRgb(0,50,111),l.fromRgb(0,51,111),l.fromRgb(0,51,111),l.fromRgb(0,52,111),l.fromRgb(0,53,110),l.fromRgb(1,54,110),l.fromRgb(6,54,110),l.fromRgb(11,55,110),l.fromRgb(15,56,110),l.fromRgb(18,56,109),l.fromRgb(21,57,109),l.fromRgb(24,58,109),l.fromRgb(26,59,109),l.fromRgb(29,59,109),l.fromRgb(31,60,109),l.fromRgb(33,61,109),l.fromRgb(35,62,108),l.fromRgb(36,62,108),l.fromRgb(38,63,108),l.fromRgb(40,64,108),l.fromRgb(42,64,108),l.fromRgb(43,65,108),l.fromRgb(45,66,108),l.fromRgb(46,67,108),l.fromRgb(48,67,108),l.fromRgb(49,68,107),l.fromRgb(50,69,107),l.fromRgb(52,69,107),l.fromRgb(53,70,107),l.fromRgb(54,71,107),l.fromRgb(56,72,107),l.fromRgb(57,72,107),l.fromRgb(58,73,107),l.fromRgb(59,74,107),l.fromRgb(61,74,107),l.fromRgb(62,75,107),l.fromRgb(63,76,107),l.fromRgb(64,77,107),l.fromRgb(65,77,107),l.fromRgb(66,78,107),l.fromRgb(67,79,107),l.fromRgb(68,79,107),l.fromRgb(70,80,107),l.fromRgb(71,81,107),l.fromRgb(72,82,107),l.fromRgb(73,82,107),l.fromRgb(74,83,107),l.fromRgb(75,84,108),l.fromRgb(76,84,108),l.fromRgb(77,85,108),l.fromRgb(78,86,108),l.fromRgb(79,87,108),l.fromRgb(80,87,108),l.fromRgb(81,88,108),l.fromRgb(82,89,108),l.fromRgb(83,89,108),l.fromRgb(84,90,108),l.fromRgb(85,91,109),l.fromRgb(86,92,109),l.fromRgb(87,92,109),l.fromRgb(88,93,109),l.fromRgb(89,94,109),l.fromRgb(89,95,109),l.fromRgb(90,95,109),l.fromRgb(91,96,110),l.fromRgb(92,97,110),l.fromRgb(93,97,110),l.fromRgb(94,98,110),l.fromRgb(95,99,110),l.fromRgb(96,100,111),l.fromRgb(97,100,111),l.fromRgb(98,101,111),l.fromRgb(99,102,111),l.fromRgb(100,102,111),l.fromRgb(100,103,112),l.fromRgb(101,104,112),l.fromRgb(102,105,112),l.fromRgb(103,105,112),l.fromRgb(104,106,113),l.fromRgb(105,107,113),l.fromRgb(106,108,113),l.fromRgb(107,108,113),l.fromRgb(108,109,114),l.fromRgb(108,110,114),l.fromRgb(109,110,114),l.fromRgb(110,111,115),l.fromRgb(111,112,115),l.fromRgb(112,113,115),l.fromRgb(113,113,116),l.fromRgb(114,114,116),l.fromRgb(114,115,116),l.fromRgb(115,116,117),l.fromRgb(116,116,117),l.fromRgb(117,117,117),l.fromRgb(118,118,118),l.fromRgb(119,119,118),l.fromRgb(120,119,119),l.fromRgb(120,120,119),l.fromRgb(121,121,119),l.fromRgb(122,122,120),l.fromRgb(123,122,120),l.fromRgb(124,123,120),l.fromRgb(125,124,120),l.fromRgb(126,125,120),l.fromRgb(127,125,120),l.fromRgb(128,126,121),l.fromRgb(129,127,121),l.fromRgb(130,128,121),l.fromRgb(131,128,121),l.fromRgb(132,129,121),l.fromRgb(132,130,121),l.fromRgb(133,131,121),l.fromRgb(134,131,121),l.fromRgb(135,132,121),l.fromRgb(136,133,121),l.fromRgb(137,134,121),l.fromRgb(138,135,121),l.fromRgb(139,135,121),l.fromRgb(140,136,121),l.fromRgb(141,137,121),l.fromRgb(142,138,121),l.fromRgb(143,138,121),l.fromRgb(144,139,121),l.fromRgb(145,140,120),l.fromRgb(146,141,120),l.fromRgb(147,142,120),l.fromRgb(148,142,120),l.fromRgb(149,143,120),l.fromRgb(150,144,120),l.fromRgb(151,145,120),l.fromRgb(152,146,120),l.fromRgb(153,146,120),l.fromRgb(154,147,119),l.fromRgb(155,148,119),l.fromRgb(156,149,119),l.fromRgb(157,150,119),l.fromRgb(158,150,119),l.fromRgb(159,151,119),l.fromRgb(160,152,119),l.fromRgb(161,153,118),l.fromRgb(162,154,118),l.fromRgb(163,154,118),l.fromRgb(164,155,118),l.fromRgb(165,156,118),l.fromRgb(166,157,117),l.fromRgb(168,158,117),l.fromRgb(169,159,117),l.fromRgb(170,159,117),l.fromRgb(171,160,116),l.fromRgb(172,161,116),l.fromRgb(173,162,116),l.fromRgb(174,163,116),l.fromRgb(175,164,115),l.fromRgb(176,164,115),l.fromRgb(177,165,115),l.fromRgb(178,166,114),l.fromRgb(179,167,114),l.fromRgb(180,168,114),l.fromRgb(181,169,113),l.fromRgb(182,169,113),l.fromRgb(183,170,113),l.fromRgb(184,171,112),l.fromRgb(185,172,112),l.fromRgb(186,173,112),l.fromRgb(187,174,111),l.fromRgb(188,175,111),l.fromRgb(190,175,111),l.fromRgb(191,176,110),l.fromRgb(192,177,110),l.fromRgb(193,178,109),l.fromRgb(194,179,109),l.fromRgb(195,180,109),l.fromRgb(196,181,108),l.fromRgb(197,181,108),l.fromRgb(198,182,107),l.fromRgb(199,183,107),l.fromRgb(200,184,106),l.fromRgb(201,185,106),l.fromRgb(203,186,105),l.fromRgb(204,187,105),l.fromRgb(205,188,104),l.fromRgb(206,188,104),l.fromRgb(207,189,103),l.fromRgb(208,190,103),l.fromRgb(209,191,102),l.fromRgb(210,192,102),l.fromRgb(211,193,101),l.fromRgb(212,194,100),l.fromRgb(214,195,100),l.fromRgb(215,196,99),l.fromRgb(216,197,99),l.fromRgb(217,197,98),l.fromRgb(218,198,97),l.fromRgb(219,199,97),l.fromRgb(220,200,96),l.fromRgb(221,201,95),l.fromRgb(222,202,95),l.fromRgb(224,203,94),l.fromRgb(225,204,93),l.fromRgb(226,205,92),l.fromRgb(227,206,92),l.fromRgb(228,207,91),l.fromRgb(229,208,90),l.fromRgb(230,209,89),l.fromRgb(232,210,89),l.fromRgb(233,211,88),l.fromRgb(234,211,87),l.fromRgb(235,212,86),l.fromRgb(236,213,85),l.fromRgb(237,214,84),l.fromRgb(239,215,83),l.fromRgb(240,216,82),l.fromRgb(241,217,81),l.fromRgb(242,218,80),l.fromRgb(243,219,79),l.fromRgb(244,220,78),l.fromRgb(246,221,77),l.fromRgb(247,222,76),l.fromRgb(248,223,75),l.fromRgb(249,224,74),l.fromRgb(250,225,73),l.fromRgb(251,226,72),l.fromRgb(253,227,70),l.fromRgb(254,228,69),l.fromRgb(255,229,68),l.fromRgb(255,230,66),l.fromRgb(255,231,66),l.fromRgb(255,232,67),l.fromRgb(255,233,68),l.fromRgb(255,234,70)],ur=[l.fromRgb(0,0,4),l.fromRgb(1,0,5),l.fromRgb(1,1,6),l.fromRgb(1,1,8),l.fromRgb(2,1,10),l.fromRgb(2,2,12),l.fromRgb(2,2,14),l.fromRgb(3,2,16),l.fromRgb(4,3,18),l.fromRgb(4,3,20),l.fromRgb(5,4,23),l.fromRgb(6,4,25),l.fromRgb(7,5,27),l.fromRgb(8,5,29),l.fromRgb(9,6,31),l.fromRgb(10,7,34),l.fromRgb(11,7,36),l.fromRgb(12,8,38),l.fromRgb(13,8,41),l.fromRgb(14,9,43),l.fromRgb(16,9,45),l.fromRgb(17,10,48),l.fromRgb(18,10,50),l.fromRgb(20,11,52),l.fromRgb(21,11,55),l.fromRgb(22,11,57),l.fromRgb(24,12,60),l.fromRgb(25,12,62),l.fromRgb(27,12,65),l.fromRgb(28,12,67),l.fromRgb(30,12,69),l.fromRgb(31,12,72),l.fromRgb(33,12,74),l.fromRgb(35,12,76),l.fromRgb(36,12,79),l.fromRgb(38,12,81),l.fromRgb(40,11,83),l.fromRgb(41,11,85),l.fromRgb(43,11,87),l.fromRgb(45,11,89),l.fromRgb(47,10,91),l.fromRgb(49,10,92),l.fromRgb(50,10,94),l.fromRgb(52,10,95),l.fromRgb(54,9,97),l.fromRgb(56,9,98),l.fromRgb(57,9,99),l.fromRgb(59,9,100),l.fromRgb(61,9,101),l.fromRgb(62,9,102),l.fromRgb(64,10,103),l.fromRgb(66,10,104),l.fromRgb(68,10,104),l.fromRgb(69,10,105),l.fromRgb(71,11,106),l.fromRgb(73,11,106),l.fromRgb(74,12,107),l.fromRgb(76,12,107),l.fromRgb(77,13,108),l.fromRgb(79,13,108),l.fromRgb(81,14,108),l.fromRgb(82,14,109),l.fromRgb(84,15,109),l.fromRgb(85,15,109),l.fromRgb(87,16,110),l.fromRgb(89,16,110),l.fromRgb(90,17,110),l.fromRgb(92,18,110),l.fromRgb(93,18,110),l.fromRgb(95,19,110),l.fromRgb(97,19,110),l.fromRgb(98,20,110),l.fromRgb(100,21,110),l.fromRgb(101,21,110),l.fromRgb(103,22,110),l.fromRgb(105,22,110),l.fromRgb(106,23,110),l.fromRgb(108,24,110),l.fromRgb(109,24,110),l.fromRgb(111,25,110),l.fromRgb(113,25,110),l.fromRgb(114,26,110),l.fromRgb(116,26,110),l.fromRgb(117,27,110),l.fromRgb(119,28,109),l.fromRgb(120,28,109),l.fromRgb(122,29,109),l.fromRgb(124,29,109),l.fromRgb(125,30,109),l.fromRgb(127,30,108),l.fromRgb(128,31,108),l.fromRgb(130,32,108),l.fromRgb(132,32,107),l.fromRgb(133,33,107),l.fromRgb(135,33,107),l.fromRgb(136,34,106),l.fromRgb(138,34,106),l.fromRgb(140,35,105),l.fromRgb(141,35,105),l.fromRgb(143,36,105),l.fromRgb(144,37,104),l.fromRgb(146,37,104),l.fromRgb(147,38,103),l.fromRgb(149,38,103),l.fromRgb(151,39,102),l.fromRgb(152,39,102),l.fromRgb(154,40,101),l.fromRgb(155,41,100),l.fromRgb(157,41,100),l.fromRgb(159,42,99),l.fromRgb(160,42,99),l.fromRgb(162,43,98),l.fromRgb(163,44,97),l.fromRgb(165,44,96),l.fromRgb(166,45,96),l.fromRgb(168,46,95),l.fromRgb(169,46,94),l.fromRgb(171,47,94),l.fromRgb(173,48,93),l.fromRgb(174,48,92),l.fromRgb(176,49,91),l.fromRgb(177,50,90),l.fromRgb(179,50,90),l.fromRgb(180,51,89),l.fromRgb(182,52,88),l.fromRgb(183,53,87),l.fromRgb(185,53,86),l.fromRgb(186,54,85),l.fromRgb(188,55,84),l.fromRgb(189,56,83),l.fromRgb(191,57,82),l.fromRgb(192,58,81),l.fromRgb(193,58,80),l.fromRgb(195,59,79),l.fromRgb(196,60,78),l.fromRgb(198,61,77),l.fromRgb(199,62,76),l.fromRgb(200,63,75),l.fromRgb(202,64,74),l.fromRgb(203,65,73),l.fromRgb(204,66,72),l.fromRgb(206,67,71),l.fromRgb(207,68,70),l.fromRgb(208,69,69),l.fromRgb(210,70,68),l.fromRgb(211,71,67),l.fromRgb(212,72,66),l.fromRgb(213,74,65),l.fromRgb(215,75,63),l.fromRgb(216,76,62),l.fromRgb(217,77,61),l.fromRgb(218,78,60),l.fromRgb(219,80,59),l.fromRgb(221,81,58),l.fromRgb(222,82,56),l.fromRgb(223,83,55),l.fromRgb(224,85,54),l.fromRgb(225,86,53),l.fromRgb(226,87,52),l.fromRgb(227,89,51),l.fromRgb(228,90,49),l.fromRgb(229,92,48),l.fromRgb(230,93,47),l.fromRgb(231,94,46),l.fromRgb(232,96,45),l.fromRgb(233,97,43),l.fromRgb(234,99,42),l.fromRgb(235,100,41),l.fromRgb(235,102,40),l.fromRgb(236,103,38),l.fromRgb(237,105,37),l.fromRgb(238,106,36),l.fromRgb(239,108,35),l.fromRgb(239,110,33),l.fromRgb(240,111,32),l.fromRgb(241,113,31),l.fromRgb(241,115,29),l.fromRgb(242,116,28),l.fromRgb(243,118,27),l.fromRgb(243,120,25),l.fromRgb(244,121,24),l.fromRgb(245,123,23),l.fromRgb(245,125,21),l.fromRgb(246,126,20),l.fromRgb(246,128,19),l.fromRgb(247,130,18),l.fromRgb(247,132,16),l.fromRgb(248,133,15),l.fromRgb(248,135,14),l.fromRgb(248,137,12),l.fromRgb(249,139,11),l.fromRgb(249,140,10),l.fromRgb(249,142,9),l.fromRgb(250,144,8),l.fromRgb(250,146,7),l.fromRgb(250,148,7),l.fromRgb(251,150,6),l.fromRgb(251,151,6),l.fromRgb(251,153,6),l.fromRgb(251,155,6),l.fromRgb(251,157,7),l.fromRgb(252,159,7),l.fromRgb(252,161,8),l.fromRgb(252,163,9),l.fromRgb(252,165,10),l.fromRgb(252,166,12),l.fromRgb(252,168,13),l.fromRgb(252,170,15),l.fromRgb(252,172,17),l.fromRgb(252,174,18),l.fromRgb(252,176,20),l.fromRgb(252,178,22),l.fromRgb(252,180,24),l.fromRgb(251,182,26),l.fromRgb(251,184,29),l.fromRgb(251,186,31),l.fromRgb(251,188,33),l.fromRgb(251,190,35),l.fromRgb(250,192,38),l.fromRgb(250,194,40),l.fromRgb(250,196,42),l.fromRgb(250,198,45),l.fromRgb(249,199,47),l.fromRgb(249,201,50),l.fromRgb(249,203,53),l.fromRgb(248,205,55),l.fromRgb(248,207,58),l.fromRgb(247,209,61),l.fromRgb(247,211,64),l.fromRgb(246,213,67),l.fromRgb(246,215,70),l.fromRgb(245,217,73),l.fromRgb(245,219,76),l.fromRgb(244,221,79),l.fromRgb(244,223,83),l.fromRgb(244,225,86),l.fromRgb(243,227,90),l.fromRgb(243,229,93),l.fromRgb(242,230,97),l.fromRgb(242,232,101),l.fromRgb(242,234,105),l.fromRgb(241,236,109),l.fromRgb(241,237,113),l.fromRgb(241,239,117),l.fromRgb(241,241,121),l.fromRgb(242,242,125),l.fromRgb(242,244,130),l.fromRgb(243,245,134),l.fromRgb(243,246,138),l.fromRgb(244,248,142),l.fromRgb(245,249,146),l.fromRgb(246,250,150),l.fromRgb(248,251,154),l.fromRgb(249,252,157),l.fromRgb(250,253,161),l.fromRgb(252,255,164)],mr=[l.fromRgb(0,0,4),l.fromRgb(1,0,5),l.fromRgb(1,1,6),l.fromRgb(1,1,8),l.fromRgb(2,1,9),l.fromRgb(2,2,11),l.fromRgb(2,2,13),l.fromRgb(3,3,15),l.fromRgb(3,3,18),l.fromRgb(4,4,20),l.fromRgb(5,4,22),l.fromRgb(6,5,24),l.fromRgb(6,5,26),l.fromRgb(7,6,28),l.fromRgb(8,7,30),l.fromRgb(9,7,32),l.fromRgb(10,8,34),l.fromRgb(11,9,36),l.fromRgb(12,9,38),l.fromRgb(13,10,41),l.fromRgb(14,11,43),l.fromRgb(16,11,45),l.fromRgb(17,12,47),l.fromRgb(18,13,49),l.fromRgb(19,13,52),l.fromRgb(20,14,54),l.fromRgb(21,14,56),l.fromRgb(22,15,59),l.fromRgb(24,15,61),l.fromRgb(25,16,63),l.fromRgb(26,16,66),l.fromRgb(28,16,68),l.fromRgb(29,17,71),l.fromRgb(30,17,73),l.fromRgb(32,17,75),l.fromRgb(33,17,78),l.fromRgb(34,17,80),l.fromRgb(36,18,83),l.fromRgb(37,18,85),l.fromRgb(39,18,88),l.fromRgb(41,17,90),l.fromRgb(42,17,92),l.fromRgb(44,17,95),l.fromRgb(45,17,97),l.fromRgb(47,17,99),l.fromRgb(49,17,101),l.fromRgb(51,16,103),l.fromRgb(52,16,105),l.fromRgb(54,16,107),l.fromRgb(56,16,108),l.fromRgb(57,15,110),l.fromRgb(59,15,112),l.fromRgb(61,15,113),l.fromRgb(63,15,114),l.fromRgb(64,15,116),l.fromRgb(66,15,117),l.fromRgb(68,15,118),l.fromRgb(69,16,119),l.fromRgb(71,16,120),l.fromRgb(73,16,120),l.fromRgb(74,16,121),l.fromRgb(76,17,122),l.fromRgb(78,17,123),l.fromRgb(79,18,123),l.fromRgb(81,18,124),l.fromRgb(82,19,124),l.fromRgb(84,19,125),l.fromRgb(86,20,125),l.fromRgb(87,21,126),l.fromRgb(89,21,126),l.fromRgb(90,22,126),l.fromRgb(92,22,127),l.fromRgb(93,23,127),l.fromRgb(95,24,127),l.fromRgb(96,24,128),l.fromRgb(98,25,128),l.fromRgb(100,26,128),l.fromRgb(101,26,128),l.fromRgb(103,27,128),l.fromRgb(104,28,129),l.fromRgb(106,28,129),l.fromRgb(107,29,129),l.fromRgb(109,29,129),l.fromRgb(110,30,129),l.fromRgb(112,31,129),l.fromRgb(114,31,129),l.fromRgb(115,32,129),l.fromRgb(117,33,129),l.fromRgb(118,33,129),l.fromRgb(120,34,129),l.fromRgb(121,34,130),l.fromRgb(123,35,130),l.fromRgb(124,35,130),l.fromRgb(126,36,130),l.fromRgb(128,37,130),l.fromRgb(129,37,129),l.fromRgb(131,38,129),l.fromRgb(132,38,129),l.fromRgb(134,39,129),l.fromRgb(136,39,129),l.fromRgb(137,40,129),l.fromRgb(139,41,129),l.fromRgb(140,41,129),l.fromRgb(142,42,129),l.fromRgb(144,42,129),l.fromRgb(145,43,129),l.fromRgb(147,43,128),l.fromRgb(148,44,128),l.fromRgb(150,44,128),l.fromRgb(152,45,128),l.fromRgb(153,45,128),l.fromRgb(155,46,127),l.fromRgb(156,46,127),l.fromRgb(158,47,127),l.fromRgb(160,47,127),l.fromRgb(161,48,126),l.fromRgb(163,48,126),l.fromRgb(165,49,126),l.fromRgb(166,49,125),l.fromRgb(168,50,125),l.fromRgb(170,51,125),l.fromRgb(171,51,124),l.fromRgb(173,52,124),l.fromRgb(174,52,123),l.fromRgb(176,53,123),l.fromRgb(178,53,123),l.fromRgb(179,54,122),l.fromRgb(181,54,122),l.fromRgb(183,55,121),l.fromRgb(184,55,121),l.fromRgb(186,56,120),l.fromRgb(188,57,120),l.fromRgb(189,57,119),l.fromRgb(191,58,119),l.fromRgb(192,58,118),l.fromRgb(194,59,117),l.fromRgb(196,60,117),l.fromRgb(197,60,116),l.fromRgb(199,61,115),l.fromRgb(200,62,115),l.fromRgb(202,62,114),l.fromRgb(204,63,113),l.fromRgb(205,64,113),l.fromRgb(207,64,112),l.fromRgb(208,65,111),l.fromRgb(210,66,111),l.fromRgb(211,67,110),l.fromRgb(213,68,109),l.fromRgb(214,69,108),l.fromRgb(216,69,108),l.fromRgb(217,70,107),l.fromRgb(219,71,106),l.fromRgb(220,72,105),l.fromRgb(222,73,104),l.fromRgb(223,74,104),l.fromRgb(224,76,103),l.fromRgb(226,77,102),l.fromRgb(227,78,101),l.fromRgb(228,79,100),l.fromRgb(229,80,100),l.fromRgb(231,82,99),l.fromRgb(232,83,98),l.fromRgb(233,84,98),l.fromRgb(234,86,97),l.fromRgb(235,87,96),l.fromRgb(236,88,96),l.fromRgb(237,90,95),l.fromRgb(238,91,94),l.fromRgb(239,93,94),l.fromRgb(240,95,94),l.fromRgb(241,96,93),l.fromRgb(242,98,93),l.fromRgb(242,100,92),l.fromRgb(243,101,92),l.fromRgb(244,103,92),l.fromRgb(244,105,92),l.fromRgb(245,107,92),l.fromRgb(246,108,92),l.fromRgb(246,110,92),l.fromRgb(247,112,92),l.fromRgb(247,114,92),l.fromRgb(248,116,92),l.fromRgb(248,118,92),l.fromRgb(249,120,93),l.fromRgb(249,121,93),l.fromRgb(249,123,93),l.fromRgb(250,125,94),l.fromRgb(250,127,94),l.fromRgb(250,129,95),l.fromRgb(251,131,95),l.fromRgb(251,133,96),l.fromRgb(251,135,97),l.fromRgb(252,137,97),l.fromRgb(252,138,98),l.fromRgb(252,140,99),l.fromRgb(252,142,100),l.fromRgb(252,144,101),l.fromRgb(253,146,102),l.fromRgb(253,148,103),l.fromRgb(253,150,104),l.fromRgb(253,152,105),l.fromRgb(253,154,106),l.fromRgb(253,155,107),l.fromRgb(254,157,108),l.fromRgb(254,159,109),l.fromRgb(254,161,110),l.fromRgb(254,163,111),l.fromRgb(254,165,113),l.fromRgb(254,167,114),l.fromRgb(254,169,115),l.fromRgb(254,170,116),l.fromRgb(254,172,118),l.fromRgb(254,174,119),l.fromRgb(254,176,120),l.fromRgb(254,178,122),l.fromRgb(254,180,123),l.fromRgb(254,182,124),l.fromRgb(254,183,126),l.fromRgb(254,185,127),l.fromRgb(254,187,129),l.fromRgb(254,189,130),l.fromRgb(254,191,132),l.fromRgb(254,193,133),l.fromRgb(254,194,135),l.fromRgb(254,196,136),l.fromRgb(254,198,138),l.fromRgb(254,200,140),l.fromRgb(254,202,141),l.fromRgb(254,204,143),l.fromRgb(254,205,144),l.fromRgb(254,207,146),l.fromRgb(254,209,148),l.fromRgb(254,211,149),l.fromRgb(254,213,151),l.fromRgb(254,215,153),l.fromRgb(254,216,154),l.fromRgb(253,218,156),l.fromRgb(253,220,158),l.fromRgb(253,222,160),l.fromRgb(253,224,161),l.fromRgb(253,226,163),l.fromRgb(253,227,165),l.fromRgb(253,229,167),l.fromRgb(253,231,169),l.fromRgb(253,233,170),l.fromRgb(253,235,172),l.fromRgb(252,236,174),l.fromRgb(252,238,176),l.fromRgb(252,240,178),l.fromRgb(252,242,180),l.fromRgb(252,244,182),l.fromRgb(252,246,184),l.fromRgb(252,247,185),l.fromRgb(252,249,187),l.fromRgb(252,251,189),l.fromRgb(252,253,191)],hr=[l.fromRgb(13,8,135),l.fromRgb(16,7,136),l.fromRgb(19,7,137),l.fromRgb(22,7,138),l.fromRgb(25,6,140),l.fromRgb(27,6,141),l.fromRgb(29,6,142),l.fromRgb(32,6,143),l.fromRgb(34,6,144),l.fromRgb(36,6,145),l.fromRgb(38,5,145),l.fromRgb(40,5,146),l.fromRgb(42,5,147),l.fromRgb(44,5,148),l.fromRgb(46,5,149),l.fromRgb(47,5,150),l.fromRgb(49,5,151),l.fromRgb(51,5,151),l.fromRgb(53,4,152),l.fromRgb(55,4,153),l.fromRgb(56,4,154),l.fromRgb(58,4,154),l.fromRgb(60,4,155),l.fromRgb(62,4,156),l.fromRgb(63,4,156),l.fromRgb(65,4,157),l.fromRgb(67,3,158),l.fromRgb(68,3,158),l.fromRgb(70,3,159),l.fromRgb(72,3,159),l.fromRgb(73,3,160),l.fromRgb(75,3,161),l.fromRgb(76,2,161),l.fromRgb(78,2,162),l.fromRgb(80,2,162),l.fromRgb(81,2,163),l.fromRgb(83,2,163),l.fromRgb(85,2,164),l.fromRgb(86,1,164),l.fromRgb(88,1,164),l.fromRgb(89,1,165),l.fromRgb(91,1,165),l.fromRgb(92,1,166),l.fromRgb(94,1,166),l.fromRgb(96,1,166),l.fromRgb(97,0,167),l.fromRgb(99,0,167),l.fromRgb(100,0,167),l.fromRgb(102,0,167),l.fromRgb(103,0,168),l.fromRgb(105,0,168),l.fromRgb(106,0,168),l.fromRgb(108,0,168),l.fromRgb(110,0,168),l.fromRgb(111,0,168),l.fromRgb(113,0,168),l.fromRgb(114,1,168),l.fromRgb(116,1,168),l.fromRgb(117,1,168),l.fromRgb(119,1,168),l.fromRgb(120,1,168),l.fromRgb(122,2,168),l.fromRgb(123,2,168),l.fromRgb(125,3,168),l.fromRgb(126,3,168),l.fromRgb(128,4,168),l.fromRgb(129,4,167),l.fromRgb(131,5,167),l.fromRgb(132,5,167),l.fromRgb(134,6,166),l.fromRgb(135,7,166),l.fromRgb(136,8,166),l.fromRgb(138,9,165),l.fromRgb(139,10,165),l.fromRgb(141,11,165),l.fromRgb(142,12,164),l.fromRgb(143,13,164),l.fromRgb(145,14,163),l.fromRgb(146,15,163),l.fromRgb(148,16,162),l.fromRgb(149,17,161),l.fromRgb(150,19,161),l.fromRgb(152,20,160),l.fromRgb(153,21,159),l.fromRgb(154,22,159),l.fromRgb(156,23,158),l.fromRgb(157,24,157),l.fromRgb(158,25,157),l.fromRgb(160,26,156),l.fromRgb(161,27,155),l.fromRgb(162,29,154),l.fromRgb(163,30,154),l.fromRgb(165,31,153),l.fromRgb(166,32,152),l.fromRgb(167,33,151),l.fromRgb(168,34,150),l.fromRgb(170,35,149),l.fromRgb(171,36,148),l.fromRgb(172,38,148),l.fromRgb(173,39,147),l.fromRgb(174,40,146),l.fromRgb(176,41,145),l.fromRgb(177,42,144),l.fromRgb(178,43,143),l.fromRgb(179,44,142),l.fromRgb(180,46,141),l.fromRgb(181,47,140),l.fromRgb(182,48,139),l.fromRgb(183,49,138),l.fromRgb(184,50,137),l.fromRgb(186,51,136),l.fromRgb(187,52,136),l.fromRgb(188,53,135),l.fromRgb(189,55,134),l.fromRgb(190,56,133),l.fromRgb(191,57,132),l.fromRgb(192,58,131),l.fromRgb(193,59,130),l.fromRgb(194,60,129),l.fromRgb(195,61,128),l.fromRgb(196,62,127),l.fromRgb(197,64,126),l.fromRgb(198,65,125),l.fromRgb(199,66,124),l.fromRgb(200,67,123),l.fromRgb(201,68,122),l.fromRgb(202,69,122),l.fromRgb(203,70,121),l.fromRgb(204,71,120),l.fromRgb(204,73,119),l.fromRgb(205,74,118),l.fromRgb(206,75,117),l.fromRgb(207,76,116),l.fromRgb(208,77,115),l.fromRgb(209,78,114),l.fromRgb(210,79,113),l.fromRgb(211,81,113),l.fromRgb(212,82,112),l.fromRgb(213,83,111),l.fromRgb(213,84,110),l.fromRgb(214,85,109),l.fromRgb(215,86,108),l.fromRgb(216,87,107),l.fromRgb(217,88,106),l.fromRgb(218,90,106),l.fromRgb(218,91,105),l.fromRgb(219,92,104),l.fromRgb(220,93,103),l.fromRgb(221,94,102),l.fromRgb(222,95,101),l.fromRgb(222,97,100),l.fromRgb(223,98,99),l.fromRgb(224,99,99),l.fromRgb(225,100,98),l.fromRgb(226,101,97),l.fromRgb(226,102,96),l.fromRgb(227,104,95),l.fromRgb(228,105,94),l.fromRgb(229,106,93),l.fromRgb(229,107,93),l.fromRgb(230,108,92),l.fromRgb(231,110,91),l.fromRgb(231,111,90),l.fromRgb(232,112,89),l.fromRgb(233,113,88),l.fromRgb(233,114,87),l.fromRgb(234,116,87),l.fromRgb(235,117,86),l.fromRgb(235,118,85),l.fromRgb(236,119,84),l.fromRgb(237,121,83),l.fromRgb(237,122,82),l.fromRgb(238,123,81),l.fromRgb(239,124,81),l.fromRgb(239,126,80),l.fromRgb(240,127,79),l.fromRgb(240,128,78),l.fromRgb(241,129,77),l.fromRgb(241,131,76),l.fromRgb(242,132,75),l.fromRgb(243,133,75),l.fromRgb(243,135,74),l.fromRgb(244,136,73),l.fromRgb(244,137,72),l.fromRgb(245,139,71),l.fromRgb(245,140,70),l.fromRgb(246,141,69),l.fromRgb(246,143,68),l.fromRgb(247,144,68),l.fromRgb(247,145,67),l.fromRgb(247,147,66),l.fromRgb(248,148,65),l.fromRgb(248,149,64),l.fromRgb(249,151,63),l.fromRgb(249,152,62),l.fromRgb(249,154,62),l.fromRgb(250,155,61),l.fromRgb(250,156,60),l.fromRgb(250,158,59),l.fromRgb(251,159,58),l.fromRgb(251,161,57),l.fromRgb(251,162,56),l.fromRgb(252,163,56),l.fromRgb(252,165,55),l.fromRgb(252,166,54),l.fromRgb(252,168,53),l.fromRgb(252,169,52),l.fromRgb(253,171,51),l.fromRgb(253,172,51),l.fromRgb(253,174,50),l.fromRgb(253,175,49),l.fromRgb(253,177,48),l.fromRgb(253,178,47),l.fromRgb(253,180,47),l.fromRgb(253,181,46),l.fromRgb(254,183,45),l.fromRgb(254,184,44),l.fromRgb(254,186,44),l.fromRgb(254,187,43),l.fromRgb(254,189,42),l.fromRgb(254,190,42),l.fromRgb(254,192,41),l.fromRgb(253,194,41),l.fromRgb(253,195,40),l.fromRgb(253,197,39),l.fromRgb(253,198,39),l.fromRgb(253,200,39),l.fromRgb(253,202,38),l.fromRgb(253,203,38),l.fromRgb(252,205,37),l.fromRgb(252,206,37),l.fromRgb(252,208,37),l.fromRgb(252,210,37),l.fromRgb(251,211,36),l.fromRgb(251,213,36),l.fromRgb(251,215,36),l.fromRgb(250,216,36),l.fromRgb(250,218,36),l.fromRgb(249,220,36),l.fromRgb(249,221,37),l.fromRgb(248,223,37),l.fromRgb(248,225,37),l.fromRgb(247,226,37),l.fromRgb(247,228,37),l.fromRgb(246,230,38),l.fromRgb(246,232,38),l.fromRgb(245,233,38),l.fromRgb(245,235,39),l.fromRgb(244,237,39),l.fromRgb(243,238,39),l.fromRgb(243,240,39),l.fromRgb(242,242,39),l.fromRgb(241,244,38),l.fromRgb(241,245,37),l.fromRgb(240,247,36),l.fromRgb(240,249,33)],cr=[l.fromRgb(68,1,84),l.fromRgb(68,2,86),l.fromRgb(69,4,87),l.fromRgb(69,5,89),l.fromRgb(70,7,90),l.fromRgb(70,8,92),l.fromRgb(70,10,93),l.fromRgb(70,11,94),l.fromRgb(71,13,96),l.fromRgb(71,14,97),l.fromRgb(71,16,99),l.fromRgb(71,17,100),l.fromRgb(71,19,101),l.fromRgb(72,20,103),l.fromRgb(72,22,104),l.fromRgb(72,23,105),l.fromRgb(72,24,106),l.fromRgb(72,26,108),l.fromRgb(72,27,109),l.fromRgb(72,28,110),l.fromRgb(72,29,111),l.fromRgb(72,31,112),l.fromRgb(72,32,113),l.fromRgb(72,33,115),l.fromRgb(72,35,116),l.fromRgb(72,36,117),l.fromRgb(72,37,118),l.fromRgb(72,38,119),l.fromRgb(72,40,120),l.fromRgb(72,41,121),l.fromRgb(71,42,122),l.fromRgb(71,44,122),l.fromRgb(71,45,123),l.fromRgb(71,46,124),l.fromRgb(71,47,125),l.fromRgb(70,48,126),l.fromRgb(70,50,126),l.fromRgb(70,51,127),l.fromRgb(70,52,128),l.fromRgb(69,53,129),l.fromRgb(69,55,129),l.fromRgb(69,56,130),l.fromRgb(68,57,131),l.fromRgb(68,58,131),l.fromRgb(68,59,132),l.fromRgb(67,61,132),l.fromRgb(67,62,133),l.fromRgb(66,63,133),l.fromRgb(66,64,134),l.fromRgb(66,65,134),l.fromRgb(65,66,135),l.fromRgb(65,68,135),l.fromRgb(64,69,136),l.fromRgb(64,70,136),l.fromRgb(63,71,136),l.fromRgb(63,72,137),l.fromRgb(62,73,137),l.fromRgb(62,74,137),l.fromRgb(62,76,138),l.fromRgb(61,77,138),l.fromRgb(61,78,138),l.fromRgb(60,79,138),l.fromRgb(60,80,139),l.fromRgb(59,81,139),l.fromRgb(59,82,139),l.fromRgb(58,83,139),l.fromRgb(58,84,140),l.fromRgb(57,85,140),l.fromRgb(57,86,140),l.fromRgb(56,88,140),l.fromRgb(56,89,140),l.fromRgb(55,90,140),l.fromRgb(55,91,141),l.fromRgb(54,92,141),l.fromRgb(54,93,141),l.fromRgb(53,94,141),l.fromRgb(53,95,141),l.fromRgb(52,96,141),l.fromRgb(52,97,141),l.fromRgb(51,98,141),l.fromRgb(51,99,141),l.fromRgb(50,100,142),l.fromRgb(50,101,142),l.fromRgb(49,102,142),l.fromRgb(49,103,142),l.fromRgb(49,104,142),l.fromRgb(48,105,142),l.fromRgb(48,106,142),l.fromRgb(47,107,142),l.fromRgb(47,108,142),l.fromRgb(46,109,142),l.fromRgb(46,110,142),l.fromRgb(46,111,142),l.fromRgb(45,112,142),l.fromRgb(45,113,142),l.fromRgb(44,113,142),l.fromRgb(44,114,142),l.fromRgb(44,115,142),l.fromRgb(43,116,142),l.fromRgb(43,117,142),l.fromRgb(42,118,142),l.fromRgb(42,119,142),l.fromRgb(42,120,142),l.fromRgb(41,121,142),l.fromRgb(41,122,142),l.fromRgb(41,123,142),l.fromRgb(40,124,142),l.fromRgb(40,125,142),l.fromRgb(39,126,142),l.fromRgb(39,127,142),l.fromRgb(39,128,142),l.fromRgb(38,129,142),l.fromRgb(38,130,142),l.fromRgb(38,130,142),l.fromRgb(37,131,142),l.fromRgb(37,132,142),l.fromRgb(37,133,142),l.fromRgb(36,134,142),l.fromRgb(36,135,142),l.fromRgb(35,136,142),l.fromRgb(35,137,142),l.fromRgb(35,138,141),l.fromRgb(34,139,141),l.fromRgb(34,140,141),l.fromRgb(34,141,141),l.fromRgb(33,142,141),l.fromRgb(33,143,141),l.fromRgb(33,144,141),l.fromRgb(33,145,140),l.fromRgb(32,146,140),l.fromRgb(32,146,140),l.fromRgb(32,147,140),l.fromRgb(31,148,140),l.fromRgb(31,149,139),l.fromRgb(31,150,139),l.fromRgb(31,151,139),l.fromRgb(31,152,139),l.fromRgb(31,153,138),l.fromRgb(31,154,138),l.fromRgb(30,155,138),l.fromRgb(30,156,137),l.fromRgb(30,157,137),l.fromRgb(31,158,137),l.fromRgb(31,159,136),l.fromRgb(31,160,136),l.fromRgb(31,161,136),l.fromRgb(31,161,135),l.fromRgb(31,162,135),l.fromRgb(32,163,134),l.fromRgb(32,164,134),l.fromRgb(33,165,133),l.fromRgb(33,166,133),l.fromRgb(34,167,133),l.fromRgb(34,168,132),l.fromRgb(35,169,131),l.fromRgb(36,170,131),l.fromRgb(37,171,130),l.fromRgb(37,172,130),l.fromRgb(38,173,129),l.fromRgb(39,173,129),l.fromRgb(40,174,128),l.fromRgb(41,175,127),l.fromRgb(42,176,127),l.fromRgb(44,177,126),l.fromRgb(45,178,125),l.fromRgb(46,179,124),l.fromRgb(47,180,124),l.fromRgb(49,181,123),l.fromRgb(50,182,122),l.fromRgb(52,182,121),l.fromRgb(53,183,121),l.fromRgb(55,184,120),l.fromRgb(56,185,119),l.fromRgb(58,186,118),l.fromRgb(59,187,117),l.fromRgb(61,188,116),l.fromRgb(63,188,115),l.fromRgb(64,189,114),l.fromRgb(66,190,113),l.fromRgb(68,191,112),l.fromRgb(70,192,111),l.fromRgb(72,193,110),l.fromRgb(74,193,109),l.fromRgb(76,194,108),l.fromRgb(78,195,107),l.fromRgb(80,196,106),l.fromRgb(82,197,105),l.fromRgb(84,197,104),l.fromRgb(86,198,103),l.fromRgb(88,199,101),l.fromRgb(90,200,100),l.fromRgb(92,200,99),l.fromRgb(94,201,98),l.fromRgb(96,202,96),l.fromRgb(99,203,95),l.fromRgb(101,203,94),l.fromRgb(103,204,92),l.fromRgb(105,205,91),l.fromRgb(108,205,90),l.fromRgb(110,206,88),l.fromRgb(112,207,87),l.fromRgb(115,208,86),l.fromRgb(117,208,84),l.fromRgb(119,209,83),l.fromRgb(122,209,81),l.fromRgb(124,210,80),l.fromRgb(127,211,78),l.fromRgb(129,211,77),l.fromRgb(132,212,75),l.fromRgb(134,213,73),l.fromRgb(137,213,72),l.fromRgb(139,214,70),l.fromRgb(142,214,69),l.fromRgb(144,215,67),l.fromRgb(147,215,65),l.fromRgb(149,216,64),l.fromRgb(152,216,62),l.fromRgb(155,217,60),l.fromRgb(157,217,59),l.fromRgb(160,218,57),l.fromRgb(162,218,55),l.fromRgb(165,219,54),l.fromRgb(168,219,52),l.fromRgb(170,220,50),l.fromRgb(173,220,48),l.fromRgb(176,221,47),l.fromRgb(178,221,45),l.fromRgb(181,222,43),l.fromRgb(184,222,41),l.fromRgb(186,222,40),l.fromRgb(189,223,38),l.fromRgb(192,223,37),l.fromRgb(194,223,35),l.fromRgb(197,224,33),l.fromRgb(200,224,32),l.fromRgb(202,225,31),l.fromRgb(205,225,29),l.fromRgb(208,225,28),l.fromRgb(210,226,27),l.fromRgb(213,226,26),l.fromRgb(216,226,25),l.fromRgb(218,227,25),l.fromRgb(221,227,24),l.fromRgb(223,227,24),l.fromRgb(226,228,24),l.fromRgb(229,228,25),l.fromRgb(231,228,25),l.fromRgb(234,229,26),l.fromRgb(236,229,27),l.fromRgb(239,229,28),l.fromRgb(241,229,29),l.fromRgb(244,230,30),l.fromRgb(246,230,32),l.fromRgb(248,230,33),l.fromRgb(251,231,35),l.fromRgb(253,231,37)],Qn={selectable:!0,selectionMode:Ni.All},kl=Qn;class Cr{constructor(t){h(this,"__oxy_element_name__"),h(this,"_parent"),h(this,"keyDown"),h(this,"mouseDown"),h(this,"mouseMove"),h(this,"mouseUp"),h(this,"touchStarted"),h(this,"touchDelta"),h(this,"touchCompleted"),h(this,"_selection"),h(this,"selectionChanged"),h(this,"selectable",Qn.selectable),h(this,"selectionMode",Qn.selectionMode),it(this,Qn,t),this.getElementName&&(this.__oxy_element_name__=this.getElementName()),this.__oxy_element_name__||console.warn("The element name is not set. Please implement the getElementName method.")}set parent(t){this._parent=t}get parent(){return this._parent}hitTest(t){return this.hitTestOverride(t)}hitTestOverride(t){}onMouseDown(t){this.mouseDown&&this.mouseDown(this,t)}onMouseMove(t){this.mouseMove&&this.mouseMove(this,t)}onKeyDown(t){this.keyDown&&this.keyDown(this,t)}onMouseUp(t){this.mouseUp&&this.mouseUp(this,t)}onTouchStarted(t){this.touchStarted&&this.touchStarted(this,t)}onTouchDelta(t){this.touchDelta&&this.touchDelta(this,t)}onTouchCompleted(t){this.touchCompleted&&this.touchCompleted(this,t)}get actualSelectedColor(){return this.parent?M.getActualColor(this.parent.selectionColor,Ir.DefaultSelectionColor):Ir.DefaultSelectionColor}isSelected(){return!!this._selection}getSelectedItems(){return this.ensureSelection(),this._selection.getSelectedItems()}clearSelection(){this._selection=void 0,this.onSelectionChanged()}unselect(){this._selection=void 0,this.onSelectionChanged()}isItemSelected(t){return this._selection?t===-1?this._selection.isEverythingSelected():this._selection.isItemSelected(t):!1}select(){this._selection=el.Everything,this.onSelectionChanged()}selectItem(t){if(this.selectionMode===Ni.All)throw new Error("Use the select() method when using SelectionMode.All");this.ensureSelection(),this.selectionMode===Ni.Single&&this._selection.clear(),this._selection.select(t),this.onSelectionChanged()}unselectItem(t){if(this.selectionMode===Ni.All)throw new Error("Use the unselect() method when using SelectionMode.All");this.ensureSelection(),this._selection.unselect(t),this.onSelectionChanged()}getSelectableColor(t,e=-1){return M.isUndefined(t)?f.Undefined:this.isItemSelected(e)?this.actualSelectedColor:l.fromOxyColor(t).hex}getSelectableFillColor(t,e=-1){return this.getSelectableColor(t,e)}ensureSelection(){this._selection=this._selection||new el}onSelectionChanged(t){this.selectionChanged&&this.selectionChanged(this,t)}getJsonIgnoreProperties(){return[]}getElementDefaultValues(){return kl}toJSON(t){const e=this.getJsonIgnoreProperties(),s=this.getElementDefaultValues();return Ml(this,s,{excludeKeys:e,excludeDefault:t==null?void 0:t.excludeDefault})}}const Ns={fontSize:NaN,fontWeight:ne.Normal,textColor:f.Automatic,edgeRenderingMode:U.Automatic,font:void 0,toolTip:void 0},Fo={...kl,...Ns};class No extends Cr{constructor(t){super(t),h(this,"font"),h(this,"fontSize",Ns.fontSize),h(this,"fontWeight",Ns.fontWeight),h(this,"tag"),h(this,"textColor",Ns.textColor),h(this,"edgeRenderingMode",Ns.edgeRenderingMode),h(this,"toolTip"),h(this,"_plotElementId"),it(this,Ns,t)}get plotModel(){return this.parent}get actualFont(){return this.font||this.plotModel.defaultFont}get actualFontSize(){return ht(this.fontSize)?this.plotModel.defaultFontSize:this.fontSize}get actualFontWeight(){return this.fontWeight}get actualTextColor(){return M.getActualColor(this.textColor,this.plotModel.textColor)}getClippingRect(){return ji}getElementHashCode(){return Ci(this._plotElementId)&&(Qa++,this._plotElementId=Qa),this._plotElementId}}let Qa=0;var Ee=(i=>(i[i.BelowAxes=0]="BelowAxes",i[i.BelowSeries=1]="BelowSeries",i[i.AboveSeries=2]="AboveSeries",i))(Ee||{}),Fi=(i=>(i[i.Horizontal=0]="Horizontal",i[i.Vertical=1]="Vertical",i[i.AlongLine=2]="AlongLine",i))(Fi||{});const hn={clipByXAxis:!0,clipByYAxis:!0,layer:Ee.AboveSeries,xAxisKey:void 0,yAxisKey:void 0,xAxis:void 0,yAxis:void 0},Al={...Fo,...hn};class vl extends No{constructor(t){super(t),h(this,"layer",hn.layer),h(this,"_xAxis"),h(this,"xAxisKey"),h(this,"_yAxis"),h(this,"clipByXAxis",hn.clipByXAxis),h(this,"clipByYAxis",hn.clipByYAxis),h(this,"yAxisKey"),it(this,hn,t),t&&(t.xAxis&&(this._xAxis=t.xAxis),t.yAxis&&(this._yAxis=t.yAxis))}get xAxis(){return this._xAxis}get yAxis(){return this._yAxis}ensureAxes(){this._xAxis=this.xAxisKey?this.plotModel.getAxis(this.xAxisKey):this.plotModel.defaultXAxis,this._yAxis=this.yAxisKey?this.plotModel.getAxis(this.yAxisKey):this.plotModel.defaultYAxis}getClippingRect(){const t=this.plotModel.plotArea,e=new Jt(Ei.getClippingRect(this));let s=0,n=Number.POSITIVE_INFINITY,o=0,r=Number.POSITIVE_INFINITY;this.clipByXAxis&&(s=e.topLeft.x,n=e.bottomRight.x),this.clipByYAxis&&(o=e.topLeft.y,r=e.bottomRight.y);const a=R(s,o),u=R(n,r),m=P.fromScreenPoints(a,u);return P.clip(t,m)}transform(t){return Ei.transform(this,t)}inverseTransform(t){return Ei.inverseTransform(this,t)}}const Qm={},Rl={...Al,...Qm};class Cl extends vl{constructor(t){super(t),Gl(this)}getClippingRect(){const t=this.plotModel.plotArea,e=Jt.fromRect(Ei.getClippingRect(this));let s=0,n=Number.POSITIVE_INFINITY,o=0,r=Number.POSITIVE_INFINITY;this.clipByXAxis&&(s=tt.orientate(this,e.topLeft).x,n=tt.orientate(this,e.bottomRight).x),this.clipByYAxis&&(o=tt.orientate(this,e.topLeft).y,r=tt.orientate(this,e.bottomRight).y);const a=tt.orientate(this,R(s,o)),u=tt.orientate(this,R(n,r)),m=P.fromScreenPoints(a,u);return P.clip(t,m)}transform(t){return Ei.transformOrientated(this,t)}inverseTransform(t){return Ei.inverseTransformOrientated(this,t)}}const ys={textHorizontalAlignment:F.Center,textVerticalAlignment:N.Middle,textPosition:ke,textRotation:0,text:void 0},_o={...Rl,...ys};class Vo extends Cl{constructor(t){super(t),h(this,"text"),h(this,"textPosition",ys.textPosition),h(this,"textHorizontalAlignment",ys.textHorizontalAlignment),h(this,"textVerticalAlignment",ys.textVerticalAlignment),h(this,"textRotation",ys.textRotation),it(this,ys,t)}getActualTextPosition(t){return Io(this.textPosition)?this.transform(this.textPosition):t()}getActualTextAlignment(){return[this.textHorizontalAlignment,this.textVerticalAlignment]}}const ms={background:f.Undefined,offset:Zr,padding:K(4),stroke:f.Black,strokeThickness:1,textVerticalAlignment:N.Bottom},th={..._o,...ms};class ye extends Vo{constructor(t){super(t),h(this,"_actualBounds"),h(this,"background",ms.background),h(this,"offset",ms.offset),h(this,"padding",ms.padding),h(this,"stroke",ms.stroke),h(this,"strokeThickness",ms.strokeThickness),it(this,ms,t)}getElementName(){return"TextAnnotation"}async render(t){if(!this.text)throw new Error("text must be non-undefined before rendering.");const e=Rt(this.transform(this.textPosition),tt.orientateVector(this,this.offset)),s=t.measureText(this.text,this.actualFont,this.actualFontSize,this.actualFontWeight),[n,o]=this.getActualTextAlignment();if(this._actualBounds=ye.getTextBounds(e,s,this.padding,this.textRotation,n,o),this.textRotation%90===0){const r=P.fromScreenPoints(this._actualBounds[0],this._actualBounds[2]);await t.drawRectangle(r,this.background,this.stroke,this.strokeThickness,this.edgeRenderingMode)}else await t.drawPolygon(this._actualBounds,this.background,this.stroke,this.strokeThickness,this.edgeRenderingMode);await xe.drawMathText(t,e,this.text,this.getSelectableFillColor(this.actualTextColor),this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,n,o)}hitTestOverride(t){if(this._actualBounds)return be.isPointInPolygon(t.point,this._actualBounds)?{element:this,nearestHitPoint:t.point}:void 0}static getTextBounds(t,e,s,n,o,r){let a,u,m,c;switch(o){case F.Center:a=-e.width*.5,u=-a;break;case F.Right:a=-e.width,u=0;break;default:a=0,u=e.width;break}switch(r){case N.Middle:m=-e.height*.5,c=-m;break;case N.Bottom:m=-e.height,c=0;break;default:m=0,c=e.height;break}const p=Math.cos(n/180*Math.PI),x=Math.sin(n/180*Math.PI),w=se.fromXY(p,x),S=se.fromXY(-x,p),k=new Array(4);return k[0]=Rt(Rt(t,w.times(a-s.left)),S.times(m-s.top)),k[1]=Rt(Rt(t,w.times(u+s.right)),S.times(m-s.top)),k[2]=Rt(Rt(t,w.times(u+s.right)),S.times(c+s.bottom)),k[3]=Rt(Rt(t,w.times(a-s.left)),S.times(c+s.bottom)),k}getElementDefaultValues(){return th}}const pe={minimumX:ct,maximumX:ot,minimumY:ct,maximumY:ot,color:f.Blue,strokeThickness:1,lineStyle:v.Dash,lineJoin:st.Miter,textLinePosition:1,textOrientation:Fi.AlongLine,textMargin:12,textHorizontalAlignment:F.Right,textVerticalAlignment:N.Top,minimumSegmentLength:2,textPadding:0,borderPadding:yo,borderBackground:f.Undefined,borderStroke:f.Undefined,borderStrokeThickness:0},Eo={..._o,...pe};class Dn extends Vo{constructor(t){super(t),h(this,"_screenPoints"),h(this,"color",pe.color),h(this,"lineJoin",pe.lineJoin),h(this,"lineStyle",pe.lineStyle),h(this,"maximumX",pe.maximumX),h(this,"maximumY",pe.maximumY),h(this,"minimumX",pe.minimumX),h(this,"minimumY",pe.minimumY),h(this,"strokeThickness",pe.strokeThickness),h(this,"textMargin",pe.textMargin),h(this,"textPadding",pe.textPadding),h(this,"borderPadding",pe.borderPadding),h(this,"borderBackground",pe.borderBackground),h(this,"borderStroke",pe.borderStroke),h(this,"borderStrokeThickness",pe.borderStrokeThickness),h(this,"textOrientation",pe.textOrientation),h(this,"textLinePosition",pe.textLinePosition),h(this,"minimumSegmentLength",pe.minimumSegmentLength),h(this,"actualMinimumX",NaN),h(this,"actualMinimumY",NaN),h(this,"actualMaximumX",NaN),h(this,"actualMaximumY",NaN),it(this,pe,t)}async render(t){if(this.calculateActualMinimumsMaximums(),this.actualMinimumX>this.actualMaximumX||this.actualMinimumY>this.actualMaximumY)return;this._screenPoints=this.getScreenPoints();const e=[],s=$t.getDashArray(this.lineStyle);this.strokeThickness>0&&this.lineStyle!==v.None&&await O.drawReducedLine(t,this._screenPoints,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(this.color),this.strokeThickness,this.edgeRenderingMode,s,this.lineJoin,void 0,w=>e.push(...w));let n=this.textMargin;const[o,r]=this.getActualTextAlignment(),a=tt.isTransposed(this)?this.yAxis.isReversed?1-this.textLinePosition:this.textLinePosition:this.xAxis.isReversed?1-this.textLinePosition:this.textLinePosition;o===F.Center?n=0:n*=a<.5?1:-1;const u=Dn.getPointAtRelativeDistance(e,a,n);if(!u)return;let{position:m,angle:c}=u;switch(c<-90&&(c+=180),c>=90&&(c-=180),this.textOrientation){case Fi.Horizontal:c=0;break;case Fi.Vertical:c=-90;break}const p=c/180*Math.PI;let x=1;if(o===F.Right&&(x=-1),o===F.Center&&(x=0),m=Rt(m,It(x*this.textPadding*Math.cos(p),x*this.textPadding*Math.sin(p))),this.text){const w=this.getActualTextPosition(()=>m);Io(this.textPosition)&&(c=this.textRotation);const S=t.measureText(this.text,this.actualFont,this.actualFontSize,this.actualFontWeight),k=ye.getTextBounds(m,S,this.borderPadding,c,o,r);if(c%90==0){const A=P.fromScreenPoints(k[0],k[2]);await t.drawRectangle(A,this.borderBackground,this.borderStroke,this.borderStrokeThickness,this.edgeRenderingMode)}else await t.drawPolygon(k,this.borderBackground,this.borderStroke,this.borderStrokeThickness,this.edgeRenderingMode);await t.drawText(w,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,c,o,r)}}hitTestOverride(t){if(!this._screenPoints)return;const e=be.findNearestPointOnPolyline(t.point,this._screenPoints);if(ue(t.point,e).length<t.tolerance)return{element:this,nearestHitPoint:e}}calculateActualMinimumsMaximums(){if(!this.xAxis)throw new Error("xAxis is undefined.");if(!this.yAxis)throw new Error("yAxis is undefined.");this.actualMinimumX=Math.max(this.minimumX,this.xAxis.clipMinimum),this.actualMaximumX=Math.min(this.maximumX,this.xAxis.clipMaximum),this.actualMinimumY=Math.max(this.minimumY,this.yAxis.clipMinimum),this.actualMaximumY=Math.min(this.maximumY,this.yAxis.clipMaximum);const t=new Jt(this.plotModel.plotArea),e=this.inverseTransform(t.topLeft),s=this.inverseTransform(t.bottomRight);this.clipByXAxis||(this.actualMaximumX=Math.max(e.x,s.x),this.actualMinimumX=Math.min(e.x,s.x)),this.clipByYAxis||(this.actualMaximumY=Math.max(e.y,s.y),this.actualMinimumY=Math.min(e.y,s.y))}static getPointAtRelativeDistance(t,e,s){if(!t||t.length===0)return;let n=0;for(let a=1;a<t.length;a++)n+=ue(t[a],t[a-1]).length;const o=n*e+s,r=1e-8;n=0;for(let a=1;a<t.length;a++){const u=ue(t[a],t[a-1]).length;if(o>=n-r&&o<=n+u+r){const m=(o-n)/u,c=t[a].x*m+t[a-1].x*(1-m),p=t[a].y*m+t[a-1].y*(1-m),x=R(c,p),w=t[a].x-t[a-1].x,S=t[a].y-t[a-1].y,k=Math.atan2(S,w)/Math.PI*180;return{position:x,angle:k}}n+=u}}getElementDefaultValues(){return Eo}}var ve=(i=>(i[i.Horizontal=0]="Horizontal",i[i.Vertical=1]="Vertical",i[i.LinearEquation=2]="LinearEquation",i))(ve||{});const hs={intercept:0,slope:0,type:2,x:0,y:0},eh={...Eo,...hs};class _t extends Dn{constructor(t){super(t),h(this,"intercept",hs.intercept),h(this,"slope",hs.slope),h(this,"type",hs.type),h(this,"x",hs.x),h(this,"y",hs.y),it(this,hs,t)}getElementName(){return"LineAnnotation"}getScreenPoints(){let t,e;switch(this.type){case 0:t=o=>this.y;break;case 1:e=o=>this.x;break;default:t=o=>this.slope*o+this.intercept;break}const s=[];if(!(this.xAxis instanceof y&&this.yAxis instanceof y)){if(t){const r=(this.actualMaximumX-this.actualMinimumX)/100;for(let a=0;a<=100;a++){const u=this.actualMinimumX+a*r;s.push(d(u,t(u)))}}else if(e){const r=(this.actualMaximumY-this.actualMinimumY)/100;for(let a=0;a<=100;a++){const u=this.actualMinimumY+a*r;s.push(d(e(u),u))}}}else if(t)s.push(d(this.actualMinimumX,t(this.actualMinimumX))),s.push(d(this.actualMaximumX,t(this.actualMaximumX)));else if(e)s.push(d(e(this.actualMinimumY),this.actualMinimumY)),s.push(d(e(this.actualMaximumY),this.actualMaximumY));else throw new Error("fx or fy must be non-undefined.");return s.map(o=>this.transform(o))}getElementDefaultValues(){return eh}}const Yn={fill:f.LightBlue,stroke:f.Black,strokeThickness:0},zo={..._o,...ys};class Oo extends Vo{constructor(t){super(t),h(this,"fill",Yn.fill),h(this,"stroke",Yn.stroke),h(this,"strokeThickness",Yn.strokeThickness),it(this,Yn,t)}}const cs={x:0,y:0,size:4,textMargin:2,shape:V.Circle,textVerticalAlignment:N.Top,customOutline:void 0},ih={...zo,...cs};class ei extends Oo{constructor(t){super(t),h(this,"_screenPosition",Fe),h(this,"x",cs.x),h(this,"y",cs.y),h(this,"size",cs.size),h(this,"textMargin",cs.textMargin),h(this,"shape",cs.shape),h(this,"customOutline"),it(this,cs,t)}getElementName(){return"PointAnnotation"}async render(t){if(this._screenPosition=tt.transform(this,this.x,this.y),await O.drawMarker(t,this._screenPosition,this.shape,this.customOutline,this.size,this.fill,this.stroke,this.strokeThickness,this.edgeRenderingMode),this.text){const[e,s]=this.getActualTextAlignment(),n=-Number(e)*(this.size+this.textMargin),o=-Number(s)*(this.size+this.textMargin),r=Rt(this._screenPosition,It(n,o));await t.drawText(r,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,e,s)}}hitTestOverride(t){if(ri(this._screenPosition,t.point)<this.size)return{element:this,nearestHitPoint:this._screenPosition}}getElementDefaultValues(){return ih}}var Tl=(i=>(i[i.EquationX=0]="EquationX",i[i.EquationY=1]="EquationY",i))(Tl||{});const to={resolution:400,type:0,equation:void 0},sh={...Eo,...to};class Tr extends Dn{constructor(t){super(t),h(this,"type",to.type),h(this,"equation"),h(this,"resolution",to.resolution),it(this,to,t)}getElementName(){return"FunctionAnnotation"}getScreenPoints(){let t,e;switch(this.type){case 0:t=this.equation;break;case 1:e=this.equation;break}const s=[];if(t){let n=this.actualMinimumX;const o=(this.actualMaximumX-this.actualMinimumX)/this.resolution;for(;s.push(d(n,t(n))),!(n>this.actualMaximumX);)n+=o}else if(e){let n=this.actualMinimumY;const o=(this.actualMaximumY-this.actualMinimumY)/this.resolution;for(;s.push(d(e(n),n)),!(n>this.actualMaximumY);)n+=o}return s.map(n=>this.transform(n))}getElementDefaultValues(){return sh}toJSON(t){var e;const s=super.toJSON(t);return s.equation=(e=this.equation)==null?void 0:e.toString(),s}}const Xi={color:f.Blue,headLength:10,headWidth:3,strokeThickness:2,lineStyle:v.Solid,lineJoin:st.Miter,arrowDirection:void 0,endPoint:void 0,startPoint:void 0,veeness:void 0},nh={..._o,...Xi};class As extends Vo{constructor(t){super(t),h(this,"_screenEndPoint",Fe),h(this,"_screenStartPoint",Fe),h(this,"arrowDirection",Zr),h(this,"color",Xi.color),h(this,"endPoint",Ki),h(this,"headLength",Xi.headLength),h(this,"headWidth",Xi.headWidth),h(this,"lineJoin",Xi.lineJoin),h(this,"lineStyle",Xi.lineStyle),h(this,"startPoint",Ki),h(this,"strokeThickness",Xi.strokeThickness),h(this,"veeness",0),it(this,Xi,t)}getElementName(){return"ArrowAnnotation"}async render(t){this._screenEndPoint=this.transform(this.endPoint),Ii.lengthSquared(this.arrowDirection)>0?this._screenStartPoint=ze(this._screenEndPoint,tt.orientateVector(this,this.arrowDirection)):this._screenStartPoint=this.transform(this.startPoint);const e=ue(this._screenEndPoint,this._screenStartPoint).normalize(),s=se.fromXY(e.y,-e.x),n=ze(this._screenEndPoint,e.times(this.headLength*this.strokeThickness)),o=Rt(n,s.times(this.headWidth*this.strokeThickness)),r=ze(n,s.times(this.headWidth*this.strokeThickness)),a=Rt(n,e.times(this.veeness*this.strokeThickness)),u=0,m=$t.getDashArray(this.lineStyle);if(this.strokeThickness>0&&this.lineStyle!==v.None&&(await O.drawReducedLine(t,[this._screenStartPoint,a],u*u,this.getSelectableColor(this.color),this.strokeThickness,this.edgeRenderingMode,m,this.lineJoin),await O.drawReducedPolygon(t,[r,this._screenEndPoint,o,a],u*u,this.getSelectableColor(this.color),f.Undefined,0,this.edgeRenderingMode)),!this.text)return;let c,p;if(Io(this.textPosition))[c,p]=this.getActualTextAlignment();else{const w=Math.atan2(e.y,e.x),S=Math.PI/8;w<3*S&&w>-3*S?c=F.Right:w>5*S||w<-5*S?c=F.Left:c=F.Center,w>S&&w<7*S?p=N.Bottom:w<-S&&w>-7*S?p=N.Top:p=N.Middle}const x=this.getActualTextPosition(()=>this._screenStartPoint);await t.drawText(x,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,c,p)}hitTestOverride(t){if(ue(t.point,this._screenStartPoint).length<t.tolerance)return{element:this,nearestHitPoint:this._screenStartPoint,index:0};if(ue(t.point,this._screenEndPoint).length<t.tolerance)return{element:this,nearestHitPoint:this._screenEndPoint,index:2};const e=be.findPointOnLine(t.point,this._screenStartPoint,this._screenEndPoint);if(ue(e,t.point).length<t.tolerance)return{element:this,nearestHitPoint:e}}getElementDefaultValues(){return nh}}const oh=Al;class Zt extends vl{constructor(t){super(),h(this,"rendering"),this.rendering=t}getElementName(){return"DelegateAnnotation"}async render(t){await this.rendering(t)}getClippingRect(){return ji}getElementDefaultValues(){return oh}}const _s={x:0,y:0,width:NaN,height:NaN},rh={...zo,..._s};class Gs extends Oo{constructor(t){super(t),h(this,"_screenRectangle",Ae),h(this,"x",_s.x),h(this,"y",_s.y),h(this,"width",_s.width),h(this,"height",_s.height),it(this,_s,t)}getElementName(){return"EllipseAnnotation"}async render(t){const e=tt.transform(this,this.x-this.width/2,this.y-this.height/2),s=tt.transform(this,this.x+this.width/2,this.y+this.height/2);if(this._screenRectangle=P.fromScreenPoints(e,s),await t.drawEllipse(this._screenRectangle,this.getSelectableFillColor(this.fill),this.getSelectableColor(this.stroke),this.strokeThickness,this.edgeRenderingMode),this.text){const n=this.getActualTextPosition(()=>P.center(this._screenRectangle)),[o,r]=this.getActualTextAlignment();await t.drawText(n,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,o,r)}}hitTestOverride(t){if(P.containsPoint(this._screenRectangle,t.point))return{element:this,nearestHitPoint:t.point}}getElementDefaultValues(){return rh}}const cn={lineJoin:st.Miter,lineStyle:v.Solid,minimumSegmentLength:2,points:void 0},ah={...zo,...cn};class fi extends Oo{constructor(t){super(t),h(this,"_screenPoints",[]),h(this,"lineJoin",cn.lineJoin),h(this,"lineStyle",cn.lineStyle),h(this,"minimumSegmentLength",cn.minimumSegmentLength),h(this,"points",[]),it(this,cn,t)}getElementName(){return"PolygonAnnotation"}async render(t){if(this.points&&(this._screenPoints=this.points.map(e=>this.transform(e)),this._screenPoints.length!==0&&(await O.drawReducedPolygon(t,this._screenPoints,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableFillColor(this.fill),this.getSelectableColor(this.stroke),this.strokeThickness,this.edgeRenderingMode,this.lineStyle,this.lineJoin),this.text))){const[e,s]=this.getActualTextAlignment(),n=this.getActualTextPosition(()=>be.getCentroid(this._screenPoints));await t.drawText(n,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,e,s)}}hitTestOverride(t){if(!(!this._screenPoints||this._screenPoints.length===0))return be.isPointInPolygon(t.point,this._screenPoints)?{element:this,nearestHitPoint:t.point}:void 0}getElementDefaultValues(){return ah}}const Pl={interpolationAlgorithm:void 0,points:void 0},lh={...Eo,...Pl};class Xs extends Dn{constructor(t){super(t),h(this,"points",[]),h(this,"interpolationAlgorithm"),it(this,Pl,t)}getElementName(){return"PolylineAnnotation"}getScreenPoints(){const t=this.points.map(e=>this.transform(e));if(this.interpolationAlgorithm){const e=be.resamplePoints(t,this.minimumSegmentLength);return this.interpolationAlgorithm.createSplineSp(e,!1,.25)}return this.points.map(e=>this.transform(e))}getElementDefaultValues(){return lh}}const Vs={minimumX:-1/0,maximumX:1/0,minimumY:-1/0,maximumY:1/0},uh={...zo,...Vs};class ee extends Oo{constructor(t){super(t),h(this,"_screenRectangle",Ae),h(this,"minimumX",Vs.minimumX),h(this,"maximumX",Vs.maximumX),h(this,"minimumY",Vs.minimumY),h(this,"maximumY",Vs.maximumY),it(this,Vs,t)}getElementName(){return"RectangleAnnotation"}async render(t){const e=Jt.fromRect(this.getClippingRect()),s=this.inverseTransform(e.topLeft),n=this.inverseTransform(e.bottomRight),o=this.minimumX===-1/0||isNaN(this.minimumX)?Math.min(s.x,n.x):this.minimumX,r=this.maximumX===1/0||isNaN(this.maximumX)?Math.max(s.x,n.x):this.maximumX,a=this.minimumY===-1/0||isNaN(this.minimumY)?Math.min(s.y,n.y):this.minimumY,u=this.maximumY===1/0||isNaN(this.maximumY)?Math.max(s.y,n.y):this.maximumY,m=tt.transform;this._screenRectangle=P.fromScreenPoints(m(this,o,a),m(this,r,u));const c=O.getActualEdgeRenderingMode(this.edgeRenderingMode,U.PreferSharpness);if(await t.drawRectangle(this._screenRectangle,this.getSelectableFillColor(this.fill),this.getSelectableColor(this.stroke),this.strokeThickness,c),this.text){const[p,x]=this.getActualTextAlignment(),w=this.getActualTextPosition(()=>P.center(this._screenRectangle));await t.drawText(w,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,p,x)}}hitTestOverride(t){if(P.containsPoint(this._screenRectangle,t.point))return{element:this,nearestHitPoint:t.point}}getElementDefaultValues(){return uh}}const ti={x:lt(.5,W.RelativeToPlotArea),y:lt(.5,W.RelativeToPlotArea),offsetX:lt(0,W.ScreenUnits),offsetY:lt(0,W.ScreenUnits),width:lt(NaN,W.ScreenUnits),height:lt(NaN,W.ScreenUnits),opacity:1,interpolate:!0,horizontalAlignment:F.Center,verticalAlignment:N.Middle,imageSource:void 0},mh={...Rl,...ti};class Ve extends Cl{constructor(t){super(t),h(this,"actualBounds",Ae),h(this,"imageSource"),h(this,"x",ti.x),h(this,"y",ti.y),h(this,"offsetX",ti.offsetX),h(this,"offsetY",ti.offsetY),h(this,"width",ti.width),h(this,"height",ti.height),h(this,"opacity",ti.opacity),h(this,"interpolate",ti.interpolate),h(this,"horizontalAlignment",ti.horizontalAlignment),h(this,"verticalAlignment",ti.verticalAlignment),it(this,ti,t)}getElementName(){return"ImageAnnotation"}async render(t){if(!this.imageSource)throw new Error(`${this.imageSource} must be non-null before rendering.`);const e=this.getPoint(this.x,this.y,this.plotModel),s=this.getVector(this.offsetX,this.offsetY,this.plotModel),n=Rt(e,s),o=this.getVector(this.width,this.height,this.plotModel);let r=o.x,a=o.y;isNaN(r)&&isNaN(a)&&(r=this.imageSource.width,a=this.imageSource.height),isNaN(r)&&(r=a/this.imageSource.height*this.imageSource.width),isNaN(a)&&(a=r/this.imageSource.width*this.imageSource.height),r=Math.abs(r),a=Math.abs(a);let u=n.x,m=n.y;const c=this.horizontalAlignment,p=this.verticalAlignment;c===F.Center?u-=r*.5:c===F.Right&&(u-=r),p===N.Middle?m-=a*.5:p===N.Bottom&&(m-=a),this.actualBounds=J(u,m,r,a),await O.drawImage(t,this.imageSource,u,m,r,a,this.opacity,this.interpolate)}hitTestOverride(t){if(P.containsPoint(this.actualBounds,t.point))return{element:this,nearestHitPoint:t.point}}getPoint(t,e,s){let n=NaN,o=NaN;if(t.unit===W.Data||e.unit===W.Data){const r=t.unit===W.Data?t.value:NaN,a=e.unit===W.Data?e.value:NaN,u=tt.transform(this,r,a);n=u.x,o=u.y}switch(t.unit){case W.Data:break;case W.ScreenUnits:n=t.value;break;case W.RelativeToViewport:n=s.width*t.value;break;case W.RelativeToPlotArea:n=s.plotArea.left+s.plotArea.width*t.value;break;default:throw new Error("Invalid unit")}switch(e.unit){case W.Data:break;case W.ScreenUnits:o=e.value;break;case W.RelativeToViewport:o=s.height*e.value;break;case W.RelativeToPlotArea:o=s.plotArea.top+s.plotArea.height*e.value;break;default:throw new Error("Invalid unit")}return R(n,o)}getVector(t,e,s){let n=NaN,o=NaN;if(t.unit===W.Data||e.unit===W.Data){const r=t.unit===W.Data?t.value:NaN,a=e.unit===W.Data?e.value:NaN,u=tt.transform(this,r,a),m=vn(u,this.transform(Ki));n=m.x,o=m.y}switch(t.unit){case W.Data:break;case W.ScreenUnits:n=t.value;break;case W.RelativeToViewport:n=s.width*t.value;break;case W.RelativeToPlotArea:n=s.plotArea.width*t.value;break;default:throw new Error("Invalid unit")}switch(e.unit){case W.Data:break;case W.ScreenUnits:o=e.value;break;case W.RelativeToViewport:o=s.height*e.value;break;case W.RelativeToPlotArea:o=s.plotArea.height*e.value;break;default:throw new Error("Invalid unit")}return It(n,o)}getClippingRect(){return this.x.unit===W.Data||this.y.unit===W.Data?super.getClippingRect():ji}getElementDefaultValues(){return mh}}const Q={position:g.Left,positionTier:0,isAxisVisible:!0,layer:bs.BelowSeries,absoluteMaximum:ot,absoluteMinimum:ct,minimum:Number.NaN,maximum:Number.NaN,minorStep:Number.NaN,majorStep:Number.NaN,minimumMinorStep:0,minimumMajorStep:0,minimumMajorIntervalCount:2,maximumMajorIntervalCount:ot,minimumPadding:.01,maximumPadding:.01,minimumRange:0,maximumRange:Number.POSITIVE_INFINITY,minimumDataMargin:0,maximumDataMargin:0,minimumMargin:0,maximumMargin:0,tickStyle:rt.Outside,ticklineColor:f.Black,minorTicklineColor:f.Automatic,axislineStyle:v.None,axislineColor:f.Black,axislineThickness:1,majorGridlineStyle:v.None,majorGridlineColor:M.fromArgb(64,0,0,0),majorGridlineThickness:1,minorGridlineStyle:v.None,minorGridlineColor:M.fromArgb(32,0,0,0),minorGridlineThickness:1,extraGridlineStyle:v.Solid,extraGridlineColor:f.Black,extraGridlineThickness:1,minorTickSize:4,majorTickSize:7,startPosition:0,endPosition:1,titlePosition:.5,titleFormatter:void 0,titleClippingLength:.9,titleColor:f.Automatic,titleFontSize:Number.NaN,titleFontWeight:ne.Normal,clipTitle:!0,useSuperExponentialFormat:!1,angle:0,isZoomEnabled:!0,isPanEnabled:!0,positionAtZeroCrossing:!1,intervalLength:60,cropGridlines:!1,axisTickToLabelDistance:4,axisTitleDistance:4,axisDistance:0,filterMinValue:ct,filterMaxValue:ot,positionTierMaxShift:0,positionTierMinShift:0,positionTierSize:0,extraGridlines:void 0,stringFormatter:void 0,title:void 0,unit:void 0,key:void 0,filterFunction:void 0,dataMaximum:void 0,dataMinimum:void 0,labelFormatter:void 0},Ll={...Fo,...Q},Ji=class eo extends No{constructor(t){super(t),h(this,"_offset",0),h(this,"_scale",1),h(this,"axisChanged"),h(this,"transformChanged"),h(this,"absoluteMaximum",Q.absoluteMaximum),h(this,"absoluteMinimum",Q.absoluteMinimum),h(this,"_actualMajorStep",0),h(this,"minimumMajorIntervalCount",Q.minimumMajorIntervalCount),h(this,"maximumMajorIntervalCount",Q.maximumMajorIntervalCount),h(this,"_actualMaximum",0),h(this,"_actualMinimum",0),h(this,"_clipMaximum",0),h(this,"_clipMinimum",0),h(this,"_actualMinorStep",0),h(this,"_actualStringFormatter"),h(this,"angle",Q.angle),h(this,"axisTickToLabelDistance",Q.axisTickToLabelDistance),h(this,"axisTitleDistance",Q.axisTitleDistance),h(this,"axisDistance",Q.axisDistance),h(this,"axislineColor",Q.axislineColor),h(this,"axislineStyle",Q.axislineStyle),h(this,"axislineThickness",Q.axislineThickness),h(this,"clipTitle",Q.clipTitle),h(this,"cropGridlines",Q.cropGridlines),h(this,"_dataMaximum",Number.NaN),h(this,"_dataMinimum",Number.NaN),h(this,"endPosition",Q.endPosition),h(this,"extraGridlineColor",Q.extraGridlineColor),h(this,"extraGridlineStyle",Q.extraGridlineStyle),h(this,"extraGridlineThickness",Q.extraGridlineThickness),h(this,"extraGridlines"),h(this,"filterFunction"),h(this,"filterMaxValue",Q.filterMaxValue),h(this,"filterMinValue",Q.filterMinValue),h(this,"intervalLength",Q.intervalLength),h(this,"isAxisVisible",Q.isAxisVisible),h(this,"isPanEnabled",Q.isAxisVisible),h(this,"isZoomEnabled",Q.isZoomEnabled),h(this,"key"),h(this,"labelFormatter"),h(this,"layer",Q.layer),h(this,"majorGridlineColor",Q.majorGridlineColor),h(this,"majorGridlineStyle",Q.majorGridlineStyle),h(this,"majorGridlineThickness",Q.majorGridlineThickness),h(this,"majorStep",Q.majorStep),h(this,"majorTickSize",Q.majorTickSize),h(this,"maximum",Q.maximum),h(this,"maximumPadding",Q.maximumPadding),h(this,"maximumDataMargin",Q.maximumDataMargin),h(this,"maximumMargin",Q.maximumMargin),h(this,"maximumRange",Q.maximumRange),h(this,"minimum",Q.minimum),h(this,"minimumMajorStep",Q.minimumMajorStep),h(this,"minimumMinorStep",Q.minimumMinorStep),h(this,"minimumPadding",Q.minimumPadding),h(this,"minimumDataMargin",Q.minimumDataMargin),h(this,"minimumMargin",Q.minimumMargin),h(this,"minimumRange",Q.minimumRange),h(this,"minorGridlineColor",Q.minorGridlineColor),h(this,"minorGridlineStyle",Q.minorGridlineStyle),h(this,"minorGridlineThickness",Q.minorGridlineThickness),h(this,"minorStep",Q.majorStep),h(this,"minorTicklineColor",Q.minorTicklineColor),h(this,"minorTickSize",Q.minorTickSize),h(this,"position",Q.position),h(this,"positionAtZeroCrossing",Q.positionAtZeroCrossing),h(this,"positionTier",Q.positionTier),h(this,"_screenMax",wo),h(this,"_screenMin",wo),h(this,"startPosition",Q.startPosition),h(this,"stringFormatter"),h(this,"tickStyle",Q.tickStyle),h(this,"ticklineColor",Q.ticklineColor),h(this,"title"),h(this,"titleClippingLength",Q.titleClippingLength),h(this,"titleColor",Q.titleColor),h(this,"titleFont"),h(this,"titleFontSize",Q.titleFontSize),h(this,"titleFontWeight",Q.titleFontWeight),h(this,"titleFormatter",Q.titleFormatter),h(this,"titlePosition",Q.titlePosition),h(this,"unit"),h(this,"useSuperExponentialFormat",Q.useSuperExponentialFormat),h(this,"_desiredMargin",yo),h(this,"positionTierMaxShift",Q.positionTierMaxShift),h(this,"positionTierMinShift",Q.positionTierMinShift),h(this,"positionTierSize",Q.positionTierSize),h(this,"viewMaximum",Number.NaN),h(this,"viewMinimum",Number.NaN),this.titleFormatter=eo.DefaultTitleFormatter,Ot(this,"titleFormatter",t),Ot(this,"stringFormatter",t),Ot(this,"labelFormatter",t),it(this,Q,t,{exclude:["titleFormatter","stringFormatter","labelFormatter"]}),ht(this.maximumRange)&&(this.maximumRange=Q.maximumRange)}get actualMajorStep(){return this._actualMajorStep}set actualMajorStep(t){this._actualMajorStep=t}get actualMaximum(){return this._actualMaximum}set actualMaximum(t){this._actualMaximum=t}get actualMinimum(){return this._actualMinimum}set actualMinimum(t){this._actualMinimum=t}get clipMaximum(){return this._clipMaximum}set clipMaximum(t){this._clipMaximum=t}get clipMinimum(){return this._clipMinimum}set clipMinimum(t){this._clipMinimum=t}get actualMinorStep(){return this._actualMinorStep}set actualMinorStep(t){this._actualMinorStep=t}get actualStringFormatter(){return this._actualStringFormatter}set actualStringFormatter(t){this._actualStringFormatter=t}get actualTitle(){return this.unit?`${this.title} [${this.unit}]`:this.title}get dataMaximum(){return this._dataMaximum}set dataMaximum(t){this._dataMaximum=t}get dataMinimum(){return this._dataMinimum}set dataMinimum(t){this._dataMinimum=t}get isReversed(){return this.startPosition>this.endPosition}get offset(){return this._offset}get scale(){return this._scale}get screenMax(){return this._screenMax}set screenMax(t){this._screenMax=t}get screenMin(){return this._screenMin}set screenMin(t){this._screenMin=t}get desiredMargin(){return this._desiredMargin}set desiredMargin(t){this._desiredMargin=t}get actualTitleColor(){return M.getActualColor(this.titleColor,this.plotModel.textColor)}get actualTitleFont(){return this.titleFont||this.plotModel.defaultFont}get actualTitleFontSize(){return ht(this.titleFontSize)?this.actualFontSize:this.titleFontSize}get actualTitleFontWeight(){return ht(this.titleFontWeight)?this.actualFontWeight:this.titleFontWeight}itemToDouble(t){return Number(t)}static inverseTransform(t,e,s){return e.inverseTransformPoint(t.x,t.y,s)}formatValue(t){return this.labelFormatter?this.labelFormatter(t):this.formatValueOverride(t)}getTickValues(){const t=[],e=[],s=[],n=this.createTickValues(this.clipMinimum,this.clipMaximum,this.actualMinorStep);return e.push(...this.createTickValues(this.clipMinimum,this.clipMaximum,this.actualMajorStep)),t.push(...e),s.push(...Vi.filterRedundantMinorTicks(e,n)),{majorLabelValues:t,majorTickValues:e,minorTickValues:s}}getValue(t){return t}inverseTransformPoint(t,e,s){return d(this.inverseTransform(t),s?s.inverseTransform(e):0)}inverseTransform(t){return t/this._scale+this._offset}isHorizontal(){return this.position===g.Top||this.position===g.Bottom}isValidValue(t){return Number.isFinite(t)&&t<this.filterMaxValue&&t>this.filterMinValue&&(!this.filterFunction||this.filterFunction(t))}isVertical(){return this.position===g.Left||this.position===g.Right}isLogarithmic(){return!1}measure(t){if(this.position===g.None){this.desiredMargin=K(0);return}const{majorLabelValues:e}=this.getTickValues();let s=bt();for(const x of e){const w=this.formatValue(x),S=O.measureText(t,w,this.actualFont,this.actualFontSize,this.actualFontWeight,this.angle);s=Zs.include(s,S)}const n=t.measureText(this.actualTitle||"",this.actualTitleFont,this.actualTitleFontSize,this.actualTitleFontWeight);let o=0,r=0,a=0,u=0;const m=Math.max(0,this.isReversed?this.maximumMargin:this.minimumMargin),c=Math.max(0,this.isReversed?this.minimumMargin:this.maximumMargin);let p=0;switch(this.tickStyle){case rt.Outside:p=this.majorTickSize;break;case rt.Crossing:p=this.majorTickSize*.75;break}switch(p+=this.axisDistance+this.axisTickToLabelDistance,n.height>0&&(p+=this.axisTitleDistance+n.height),this.position){case g.Left:o=p+s.width;break;case g.Right:a=p+s.width;break;case g.Top:r=p+s.height;break;case g.Bottom:u=p+s.height;break;case g.All:o=a=p+s.width,r=u=p+s.height;break;default:throw new Error("Invalid operation")}if(this.isPanEnabled||this.isZoomEnabled){const x=Math.min(this.startPosition,this.endPosition)<.01,w=Math.max(this.startPosition,this.endPosition)>.99;switch(this.position){case g.Left:case g.Right:x&&(u=Math.max(0,s.height/2-m)),w&&(r=Math.max(0,s.height/2-c));break;case g.Top:case g.Bottom:x&&(o=Math.max(0,s.width/2-m)),w&&(a=Math.max(0,s.width/2-c));break}}else if(e.length>0){const x=Math.min(...e),w=Math.max(...e),S=this.formatValue(x),k=this.formatValue(w);let A=O.measureText(t,S,this.actualFont,this.actualFontSize,this.actualFontWeight,this.angle),C=O.measureText(t,k,this.actualFont,this.actualFontSize,this.actualFontWeight,this.angle),T=this.transform(x),D=this.transform(w);T>D&&([T,D]=[D,T],[A,C]=[C,A]);let B=0,I=0,_=0,z=0;switch(this.position){case g.Left:case g.Right:B=Math.min(this.screenMin.y,this.screenMax.y),I=Math.max(this.screenMin.y,this.screenMax.y),r=Math.max(0,B-T+A.height/2-m),u=Math.max(0,D-I+C.height/2-c);break;case g.Top:case g.Bottom:_=Math.min(this.screenMin.x,this.screenMax.x),z=Math.max(this.screenMin.x,this.screenMax.x),o=Math.max(0,_-T+A.width/2-m),a=Math.max(0,D-z+C.width/2-c);break}}this.desiredMargin=K(o,r,a,u)}pan(t,e){if(typeof t=="number"){this.pan2(t);return}this.pan1(t,e)}pan1(t,e){if(!this.isPanEnabled)return;const n=this.isHorizontal()?e.x-t.x:e.y-t.y;this.pan(n)}pan2(t){if(!this.isPanEnabled)return;const e=this.actualMinimum,s=this.actualMaximum,n=t/this._scale;let o=this.actualMinimum-n,r=this.actualMaximum-n;o<this.absoluteMinimum&&(o=this.absoluteMinimum,r=Math.min(o+this.actualMaximum-this.actualMinimum,this.absoluteMaximum)),r>this.absoluteMaximum&&(r=this.absoluteMaximum,o=Math.max(r-(this.actualMaximum-this.actualMinimum),this.absoluteMinimum)),this.viewMinimum=o,this.viewMaximum=r,this.updateActualMaxMin();const a=this.actualMinimum-e,u=this.actualMaximum-s;this.onAxisChanged({changeType:Bi.Pan,deltaMaximum:u,deltaMinimum:a})}async render(t,e){if(this.position===g.None)return;await new qi(t,this.plotModel).render(this,e)}reset(){const t=this.actualMinimum,e=this.actualMaximum;this.viewMinimum=NaN,this.viewMaximum=NaN,this.updateActualMaxMin();const s=this.actualMinimum-t,n=this.actualMaximum-e;this.onAxisChanged({changeType:Bi.Reset,deltaMinimum:s,deltaMaximum:n})}toString(){return`${this.constructor.name}(${this.position}, ${this.clipMinimum}, ${this.clipMaximum}, ${this.actualMajorStep})`}transformPoint(t,e,s){if(!s)throw new Error("Y axis should not be null when transforming.");return R(this.transform(t),s.transform(e))}transform(t){return(t-this._offset)*this._scale}zoomScale(t){const e=this.actualMinimum,s=this.actualMaximum,n=this.transform(this.actualMaximum),o=this.transform(this.actualMinimum),r=Math.sign(this._scale),a=(this.preTransform(this.actualMaximum)+this.preTransform(this.actualMinimum))/2,m=(this._offset-a)*this._scale/(r*t)+a;this.setTransform(r*t,m);let c=this.inverseTransform(n),p=this.inverseTransform(o);if(p<this.absoluteMinimum&&c>this.absoluteMaximum)p=this.absoluteMinimum,c=this.absoluteMaximum;else if(p<this.absoluteMinimum){const S=c-p;p=this.absoluteMinimum,c=this.absoluteMinimum+S,c>this.absoluteMaximum&&(c=this.absoluteMaximum)}else if(c>this.absoluteMaximum){const S=c-p;c=this.absoluteMaximum,p=this.absoluteMaximum-S,p<this.absoluteMinimum&&(p=this.absoluteMinimum)}this.clipMaximum=this.viewMaximum=c,this.clipMinimum=this.viewMinimum=p,this.updateActualMaxMin();const x=this.actualMinimum-e,w=this.actualMaximum-s;this.actualMaximumAndMinimumChangedOverride(),this.onAxisChanged({changeType:Bi.Zoom,deltaMinimum:x,deltaMaximum:w})}zoom(t,e){if(!this.isZoomEnabled)return;const s=this.actualMinimum,n=this.actualMaximum,o=Math.max(Math.min(t,e),this.absoluteMinimum),r=Math.min(Math.max(t,e),this.absoluteMaximum);this.viewMinimum=o,this.viewMaximum=r,this.updateActualMaxMin();const a=this.actualMinimum-s,u=this.actualMaximum-n;this.onAxisChanged({changeType:Bi.Zoom,deltaMinimum:a,deltaMaximum:u})}zoomAt(t,e){if(!this.isZoomEnabled)return;const s=this.actualMinimum,n=this.actualMaximum,o=(this.actualMinimum-e)*this._scale,r=(this.actualMaximum-e)*this._scale;this._scale*=t;let a=o/this._scale+e,u=r/this._scale+e;if(u-a>this.maximumRange){const p=(a+u)*.5;u=p+this.maximumRange*.5,a=p-this.maximumRange*.5}if(u-a<this.minimumRange){const p=(a+u)*.5;u=p+this.minimumRange*.5,a=p-this.minimumRange*.5}a=Math.max(a,this.absoluteMinimum),u=Math.min(u,this.absoluteMaximum),this.viewMinimum=a,this.viewMaximum=u,this.updateActualMaxMin();const m=this.actualMinimum-s,c=this.actualMaximum-n;this.onAxisChanged({changeType:Bi.Zoom,deltaMinimum:m,deltaMaximum:c})}zoomAtCenter(t){const e=(this.transform(this.clipMaximum)+this.transform(this.clipMinimum))*.5,s=this.inverseTransform(e);this.zoomAt(t,s)}include(t){this.isValidValue(t)&&(this.dataMinimum=ht(this.dataMinimum)?t:Math.min(this.dataMinimum,t),this.dataMaximum=ht(this.dataMaximum)?t:Math.max(this.dataMaximum,t))}resetDataMaxMin(){this.dataMaximum=this.dataMinimum=this.actualMaximum=this.actualMinimum=NaN}updateActualMaxMin(){ht(this.viewMaximum)?ht(this.maximum)?this.actualMaximum=this.calculateActualMaximum():this.actualMaximum=this.maximum:this.actualMaximum=this.viewMaximum,ht(this.viewMinimum)?ht(this.minimum)?this.actualMinimum=this.calculateActualMinimum():this.actualMinimum=this.minimum:this.actualMinimum=this.viewMinimum,this.coerceActualMaxMin()}updateIntervals(t){const e=this.intervalLength;let s=this.isHorizontal()?t.width:t.height;s*=Math.abs(this.endPosition-this.startPosition),this.actualMajorStep=ht(this.majorStep)?this.calculateActualInterval(s,e,this.minimumMajorIntervalCount,this.maximumMajorIntervalCount):this.majorStep,this.actualMinorStep=ht(this.minorStep)?this.calculateMinorInterval(this.actualMajorStep):this.minorStep,ht(this.actualMinorStep)&&(this.actualMinorStep=2),ht(this.actualMajorStep)&&(this.actualMajorStep=10),this.actualMinorStep=Math.max(this.actualMinorStep,this.minimumMinorStep),this.actualMajorStep=Math.max(this.actualMajorStep,this.minimumMajorStep),this.actualStringFormatter=this.stringFormatter||this.getDefaultStringFormatter()}updateTransform(t){const e=t.left,s=P.right(t),n=P.bottom(t),o=t.top;let r=this.isHorizontal()?e:n,a=this.isHorizontal()?s:o;const u=a-r;a=r+this.endPosition*u,r=r+this.startPosition*u;const m=this.isHorizontal()!=this.isReversed?1:-1;this.minimumMargin>0&&(r+=this.minimumMargin*m),this.maximumMargin>0&&(a-=this.maximumMargin*m),this.isHorizontal()?(this.screenMin=R(r,o),this.screenMax=R(a,n)):this.isVertical()&&(this.screenMin=R(e,a),this.screenMax=R(s,r)),this.minimumDataMargin>0&&(r+=this.minimumDataMargin*m),this.maximumDataMargin>0&&(a-=this.maximumDataMargin*m),this.actualMaximum-this.actualMinimum<=0&&(this.actualMaximum=this.actualMinimum+1);const c=this.preTransform(this.actualMaximum),p=this.preTransform(this.actualMinimum),x=r-a;let w,S;Math.abs(x)>Number.EPSILON?w=r/x*c-a/x*p:w=0;const k=c-p;Math.abs(k)>Number.EPSILON?S=(a-r)/k:S=1,this.setTransform(S,w),this.minimumDataMargin>0?this.clipMinimum=this.inverseTransform(r-this.minimumDataMargin*m):this.clipMinimum=this.actualMinimum,this.maximumDataMargin>0?this.clipMaximum=this.inverseTransform(a+this.maximumDataMargin*m):this.clipMaximum=this.actualMaximum,this.actualMaximumAndMinimumChangedOverride()}actualMaximumAndMinimumChangedOverride(){}getDefaultStringFormatter(){return t=>jm(t,4)}postInverseTransform(t){return t}preTransform(t){return t}calculateMinorInterval(t){return Vi.calculateMinorInterval(t)}createTickValues(t,e,s,n=1e3){return Vi.createTickValues(t,e,s,n)}coerceActualMaxMin(){if(this.absoluteMaximum<=this.absoluteMinimum)throw new Error("AbsoluteMaximum must be larger than AbsoluteMinimum.");if(this.absoluteMaximum-this.absoluteMinimum<this.minimumRange)throw new Error("MinimumRange must not be larger than AbsoluteMaximum-AbsoluteMinimum.");if(this.maximumRange<this.minimumRange)throw new Error("MinimumRange must not be larger than MaximumRange.");if((ht(this.actualMinimum)||vi(this.actualMinimum))&&(this.actualMinimum=0),(ht(this.actualMaximum)||vi(this.actualMaximum))&&(this.actualMaximum=100),this.absoluteMinimum>ct&&this.absoluteMinimum<ot&&(this.actualMinimum=Math.max(this.actualMinimum,this.absoluteMinimum),this.maximumRange<ot&&(this.actualMaximum=Math.min(this.actualMaximum,this.absoluteMinimum+this.maximumRange))),this.absoluteMaximum>ct&&this.absoluteMaximum<ot&&(this.actualMaximum=Math.min(this.actualMaximum,this.absoluteMaximum),this.maximumRange<ot&&(this.actualMinimum=Math.max(this.actualMinimum,this.absoluteMaximum-this.maximumRange))),this.actualMaximum-this.actualMinimum<this.minimumRange)if(this.actualMinimum+this.minimumRange<this.absoluteMaximum){const t=(this.actualMaximum+this.actualMinimum)*.5,e=this.minimumRange/2;if(this.actualMinimum=t-e,this.actualMaximum=t+e,this.actualMinimum<this.absoluteMinimum){const s=this.absoluteMinimum-this.actualMinimum;this.actualMinimum=this.absoluteMinimum,this.actualMaximum+=s}if(this.actualMaximum>this.absoluteMaximum){const s=this.absoluteMaximum-this.actualMaximum;this.actualMaximum=this.absoluteMaximum,this.actualMinimum+=s}}else this.absoluteMaximum-this.minimumRange>this.absoluteMinimum?(this.actualMinimum=this.absoluteMaximum-this.minimumRange,this.actualMaximum=this.absoluteMaximum):(this.actualMaximum=this.absoluteMaximum,this.actualMinimum=this.absoluteMinimum);if(this.actualMaximum-this.actualMinimum>this.maximumRange)if(this.actualMinimum+this.maximumRange<this.absoluteMaximum){const t=(this.actualMaximum+this.actualMinimum)*.5,e=this.maximumRange/2;if(this.actualMinimum=t-e,this.actualMaximum=t+e,this.actualMinimum<this.absoluteMinimum){const s=this.absoluteMinimum-this.actualMinimum;this.actualMinimum=this.absoluteMinimum,this.actualMaximum+=s}if(this.actualMaximum>this.absoluteMaximum){const s=this.absoluteMaximum-this.actualMaximum;this.actualMaximum=this.absoluteMaximum,this.actualMinimum+=s}}else this.absoluteMaximum-this.maximumRange>this.absoluteMinimum?(this.actualMinimum=this.absoluteMaximum-this.maximumRange,this.actualMaximum=this.absoluteMaximum):(this.actualMaximum=this.absoluteMaximum,this.actualMinimum=this.absoluteMinimum);this.actualMaximum<=this.actualMinimum&&(this.actualMaximum=this.actualMinimum+100)}formatValueOverride(t){let e=this.stringFormatter;if(this.useSuperExponentialFormat&&t!==0){const s=eo.Exponent(t),n=eo.Mantissa(t);if(e){if(typeof e=="function")return`${e(t)}·10^{${s}}`}else return Math.abs(n-1)<1e-6?`10^{${s}}`:`${n}·10^{${s}}`;throw new Error("invalid stringFormat")}if(e=this.actualStringFormatter||this.stringFormatter,typeof e=="function")return e(t);if(!e)return t.toString();throw new Error("invalid stringFormat")}calculateActualMaximum(){let t=this.dataMaximum;if(this.dataMaximum-this.dataMinimum<=0){const s=this.dataMaximum>0?this.dataMaximum:1;t+=s*.5}if(!ht(this.dataMinimum)&&!ht(t)){const s=this.preTransform(t),n=this.preTransform(this.dataMinimum),o=this.maximumPadding*(s-n);return this.postInverseTransform(s+o)}return t}calculateActualMinimum(){let t=this.dataMinimum;if(this.dataMaximum-this.dataMinimum<=0){const s=this.dataMaximum>0?this.dataMaximum:1;t-=s*.5}if(!ht(this.actualMaximum)){const s=this.preTransform(this.actualMaximum),n=this.preTransform(t),o=this.maximumPadding,r=this.minimumPadding*((s-n)/(1+o));return this.postInverseTransform(n-r)}return t}setTransform(t,e){this._scale=t,this._offset=e,this.onTransformChanged()}calculateActualInterval(t,e,s,n,o){if(yt(o)&&(o=Math.abs(this.clipMinimum-this.clipMaximum)),t<=0)return e;if(Math.abs(e)<=0)throw new Error("Maximum interval size cannot be zero.");if(Math.abs(o)<=0)throw new Error("Range cannot be zero.");const r=p=>Math.ceil(Math.log10(p)),a=p=>p/Math.pow(10,r(p)-1);s=Math.max(s,0),n=Math.min(n,t/e),o=Math.abs(o);let u=Math.pow(10,r(o)),m=u;const c=p=>parseFloat(p.toPrecision(14));for(;;){const p=a(m);if(p===5?m=c(m/2.5):m=c(m/2),o/u>=s&&o/m>n||ht(m)||vi(m))break;u=m}return u}onAxisChanged(t){this.updateActualMaxMin();const e=this.axisChanged;e&&e(this,t)}onTransformChanged(){const t=this.transformChanged;t&&t(this)}getJsonIgnoreProperties(){return[...super.getJsonIgnoreProperties(),"viewMaximum","viewMinimum","positionTierMaxShift","positionTierMinShift","positionTierSize"]}};h(Ji,"DefaultTitleFormatter",function(i,t){return`${i||""} [${t||""}]`});h(Ji,"Exponent",i=>Math.floor(Ji.ThresholdRound(Math.log(Math.abs(i))/Math.LN10)));h(Ji,"Mantissa",i=>Ji.ThresholdRound(i/Math.pow(10,Ji.Exponent(i))));h(Ji,"ThresholdRound",i=>Math.abs(Math.round(i)-i)<1e-6?Math.round(i):i);let ta=Ji;const io={fractionUnit:1,formatAsFractions:!1,fractionUnitSymbol:void 0},rs={...Ll,...io};class y extends ta{constructor(t){super(t),h(this,"formatAsFractions",io.formatAsFractions),h(this,"fractionUnit",io.fractionUnit),h(this,"fractionUnitSymbol"),it(this,io,t)}getElementName(){return"LinearAxis"}isXyAxis(){return!0}isLogarithmic(){return!1}formatValueOverride(t){return this.formatAsFractions?Bc.convertToFractionString(t,this.fractionUnit,this.fractionUnitSymbol,1e-6,this.stringFormatter):super.formatValueOverride(t)}getElementDefaultValues(){return rs}}const so={position:g.All,tickStyle:rt.None,isPanEnabled:!1,isZoomEnabled:!1,majorGridlineStyle:v.Solid,minorGridlineStyle:v.Solid,startAngle:0,endAngle:360},hh={...rs,...so};class me extends y{constructor(t){super(t),h(this,"startAngle",so.startAngle),h(this,"endAngle",so.endAngle),it(this,so,t)}getElementName(){return"AngleAxis"}getTickValues(){const t=this.startAngle/this.scale,e=this.endAngle/this.scale;let s=this.createTickValues(t,e,this.actualMinorStep);const n=this.createTickValues(t,e,this.actualMajorStep),o=this.createTickValues(this.minimum,this.maximum,this.actualMajorStep);return s=Vi.filterRedundantMinorTicks(n,s),{majorLabelValues:o,majorTickValues:n,minorTickValues:s}}inverseTransformPoint(t,e,s){throw new Error("Angle axis should always be the y-axis.")}isXyAxis(){return!1}async render(t,e){await new dh(t,this.plotModel).render(this,e)}transformPoint(t,e,s){throw new Error("Angle axis should always be the y-axis.")}updateTransform(t){const e=t.left,s=P.right(t),n=P.bottom(t),o=t.top;this.screenMin=R(e,o),this.screenMax=R(s,n);const r=(this.endAngle-this.startAngle)/(this.actualMaximum-this.actualMinimum),a=this.actualMinimum-this.startAngle/r;this.setTransform(r,a),this.clipMinimum=this.actualMinimum,this.clipMaximum=this.actualMaximum}getElementDefaultValues(){return hh}}class ea extends me{constructor(t){super(t)}async render(t,e){await new ph(t,this.plotModel).render(this,e)}getElementName(){return"AngleAxisFullPlotArea"}}class Vi{static calculateMinorInterval(t){return Math.abs((Math.log10(t)+1e3)%1-Math.log10(2))<1e-10?t/4:t/5}static calculateMinorInterval2(t){const e=Math.ceil(Math.log(t)/Math.LN10);return(t/Math.pow(10,e-1)|0)===2?t/4:t/5}static createTickValues(t,e,s,n=1e3){if(s<=0)throw new Error("Step cannot be zero or negative.");e<t&&(s=-s);const o=s*.001;t-=o,e+=o;let r=Math.ceil(t/s)*s;Math.abs(r)<Number.EPSILON&&(r=0);const a=[],u=Math.sign(s);let m=0,c=r;for(;(e-c)*u>=0&&m<n;)a.push(c),c=r+ ++m*s;return a}static filterRedundantMinorTicks(t,e){if(t.length===0||e.length===0)return e;const s=[];let n=0,o=1,r=t.length>1?t[o]:t[0];const a=(c,p)=>Math.abs(c-p)*.001;let u=e.length>1?a(e[0],e[1]):0,m=1;t.length>1&&t[0]>t[1]&&(m=-1);for(let c=0;c<e.length;c++){const p=e[c];for(c>0&&(u=a(p,n));(r-p)*m<0&&o<t.length-1;)r=t[++o];const x=t[o-1];Math.abs(p-r)>u&&Math.abs(p-x)>u&&s.push(p),n=p}return s}}const no={isTickCentered:!1,tickStyle:rt.Outside,position:g.Bottom,minimumPadding:0,maximumPadding:0,majorStep:1,gapWidth:1,itemsSource:void 0,labelField:void 0},Dl={...rs,...no};class Z extends y{constructor(t){super(t),h(this,"_autoGeneratedLabels",[]),h(this,"_itemsSourceLabels",[]),h(this,"gapWidth",no.gapWidth),h(this,"isTickCentered",no.isTickCentered),h(this,"itemsSource"),h(this,"labelField"),h(this,"_labels",[]),t!=null&&t.labels&&(this._labels=t.labels,delete t.labels),it(this,no,t)}getElementName(){return"CategoryAxis"}get actualLabels(){return this.itemsSource?this._itemsSourceLabels:this.labels.length>0?this.labels:this._autoGeneratedLabels}get labels(){return this._labels}getTickValues(){const{majorLabelValues:t,majorTickValues:e,minorTickValues:s}=super.getTickValues();if(s.length=0,!this.isTickCentered){let o=[];if(o=t.map(r=>r-.5).filter(r=>r>this.clipMinimum-.001),o.length>0){const r=o[o.length-1]+this.majorStep;r<this.clipMaximum+.001&&o.push(r)}e.length=0,e.push(...o)}return{majorLabelValues:t,majorTickValues:e,minorTickValues:s}}getValue(t){return this.formatValue(t)}updateActualMaxMin(){this.include(-.5);const t=this.actualLabels;t.length>0?this.include(t.length-1+.5):this.include(.5),super.updateActualMaxMin(),this.minorStep=1}updateLabels(t){if(this.itemsSource){this._itemsSourceLabels.length=0;const e=[];for(let s of this.itemsSource||[])s=this.labelField?s[this.labelField]:s,this.stringFormatter?e.push(this.stringFormatter(s)):e.push(s.toString());this._itemsSourceLabels.push(...e);return}if(this.labels.length===0){if(this._autoGeneratedLabels.length===t)return;this._autoGeneratedLabels.length=0,this._autoGeneratedLabels.push(...Array.from({length:t},(e,s)=>(s+1).toString()))}}formatValueOverride(t){const e=Math.floor(t),s=this.actualLabels;return e>=0&&e<s.length?s[e]:""}getElementDefaultValues(){return Dl}toJSON(t){const e=super.toJSON(t);return this._labels.length>0&&(e.labels=this._labels),e}}function dr(i){return i&&typeof i.getColor=="function"&&typeof i.getPaletteIndex=="function"}const Pr={midPoint:Fe,position:g.None,isPanEnabled:!1,isZoomEnabled:!1,majorGridlineStyle:v.Solid,minorGridlineStyle:v.Solid},Il={...rs,...Pr};class Be extends y{constructor(t){super(t),h(this,"midPoint",Pr.midPoint),it(this,Pr,t)}getElementName(){return"MagnitudeAxis"}inverseTransformPoint(t,e,s){if(!(s instanceof me))throw new Error("Polar angle axis not defined!");const n=s;t-=this.midPoint.x,e-=this.midPoint.y,e*=-1;const o=Math.atan2(e,t);return t=Math.sqrt(t*t+e*e)/this.scale+this.offset,e=o/n.scale+n.offset*Math.PI/180,d(t,e)}isXyAxis(){return!1}async render(t,e){await new Mo(t,this.plotModel).render(this,e)}transformPoint(t,e,s){if(!(s instanceof me))throw new Error("Polar angle axis not defined!");const n=s,o=(t-this.offset)*this.scale,r=(e-n.offset)*n.scale;return R(this.midPoint.x+o*Math.cos(r/180*Math.PI),this.midPoint.y-o*Math.sin(r/180*Math.PI))}updateTransform(t){const e=t.left,s=P.right(t),n=P.bottom(t),o=t.top;this.screenMin=R(e,o),this.screenMax=R(s,n),this.midPoint=R((e+s)/2,(n+o)/2);const r=Math.min(Math.abs(s-e),Math.abs(o-n));let a=0,u=r*.5;const m=u-a;u=a+this.endPosition*m,a=a+this.startPosition*m;const c=this.isReversed?-1:1;this.minimumMargin>0&&(a+=this.minimumMargin*c),this.maximumMargin>0&&(u-=this.maximumMargin*c),this.minimumDataMargin>0&&(a+=this.minimumDataMargin*c),this.maximumDataMargin>0&&(u-=this.maximumDataMargin*c),this.actualMaximum-this.actualMinimum<=0&&(this.actualMaximum=this.actualMinimum+1);const p=this.preTransform(this.actualMaximum),x=this.preTransform(this.actualMinimum),w=a-u;let S,k;Math.abs(w)>Number.EPSILON?S=a/w*p-u/w*x:S=0;const A=p-x;Math.abs(A)>Number.EPSILON?k=(u-a)/A:k=1,this.setTransform(k,S),this.minimumDataMargin>0?this.clipMinimum=this.inverseTransform(0):this.clipMinimum=this.actualMinimum,this.maximumDataMargin>0?this.clipMaximum=this.inverseTransform(r*.5):this.clipMaximum=this.actualMaximum,this.actualMaximumAndMinimumChangedOverride()}getElementDefaultValues(){return Il}}class In{constructor(t,e){h(this,"_plot"),h(this,"rc"),h(this,"minorTickValues",[]),h(this,"axislinePen"),h(this,"extraPen"),h(this,"majorLabelValues",[]),h(this,"majorPen"),h(this,"majorTickPen"),h(this,"majorTickValues",[]),h(this,"minorPen"),h(this,"minorTickPen"),h(this,"zeroPen"),this._plot=e,this.rc=t}get plot(){return this._plot}get renderContext(){return this.rc}async render(t,e){if(!t)return;const{majorLabelValues:s,majorTickValues:n,minorTickValues:o}=t.getTickValues();this.majorLabelValues=s,this.majorTickValues=n,this.minorTickValues=o,this.createPens(t)}createPens(t){const e=M.isAutomatic(t.minorTicklineColor)?t.ticklineColor:t.minorTicklineColor;this.minorPen=Kt.create(t.minorGridlineColor,t.minorGridlineThickness,t.minorGridlineStyle),this.majorPen=Kt.create(t.majorGridlineColor,t.majorGridlineThickness,t.majorGridlineStyle),this.minorTickPen=Kt.create(e,t.minorGridlineThickness),this.majorTickPen=Kt.create(t.ticklineColor,t.majorGridlineThickness),this.zeroPen=Kt.create(t.ticklineColor,t.majorGridlineThickness),this.extraPen=Kt.create(t.extraGridlineColor,t.extraGridlineThickness,t.extraGridlineStyle),this.axislinePen=Kt.create(t.axislineColor,t.axislineThickness,t.axislineStyle)}getTickPositions(t,e,s,n){let o=0,r=0;const u=n===g.Top||n===g.Left?-1:1;switch(e){case rt.Crossing:o=-s*u*.75,r=s*u*.75;break;case rt.Inside:o=-s*u;break;case rt.Outside:r=s*u;break}return[o,r]}isWithin(t,e,s){return t<e?!1:t<=s}}class qi extends In{constructor(t,e){super(t,e)}async render(t,e){await super.render(t,e);let s=!0;const n=t.axisDistance+t.positionTierMinShift,o=t.positionTierSize-this.plot.axisTierDistance,r=this.plot.plotArea.left,a=P.right(this.plot.plotArea),u=this.plot.plotArea.top,m=P.bottom(this.plot.plotArea);let c=0,p=0;switch(t.position){case g.Left:c=r-n;break;case g.Right:c=a+n;break;case g.Top:c=u-n;break;case g.Bottom:c=m+n;break}if(t.positionAtZeroCrossing){const x=t.isHorizontal()?this.plot.defaultYAxis:this.plot.defaultXAxis;c=x.transform(0);const w=t.isHorizontal()?x.screenMin.y:x.screenMin.x,S=t.isHorizontal()?x.screenMax.y:x.screenMax.x;let k=Math.min(w,S),A=Math.max(w,S);const C=t.isHorizontal()?u:r,T=t.isHorizontal()?m:a;if(k=Math.max(k,C),A=Math.min(A,T),c<k){c=k;const D=t.isHorizontal()?this.plot.plotAreaBorderThickness.top:this.plot.plotAreaBorderThickness.left,B=t.isHorizontal()?this.plot.plotArea.top:this.plot.plotArea.left;c<=B&&D>0&&M.isVisible(this.plot.plotAreaBorderColor)&&(s=!1)}if(c>A){c=A;const D=t.isHorizontal()?this.plot.plotAreaBorderThickness.bottom:this.plot.plotAreaBorderThickness.right,B=t.isHorizontal()?m:a;c>=B&&D>0&&M.isVisible(this.plot.plotAreaBorderColor)&&(s=!1)}}switch(t.position){case g.Left:p=c-o;break;case g.Right:p=c+o;break;case g.Top:p=c-o;break;case g.Bottom:p=c+o;break}switch(t.position){case g.Left:case g.Top:p+=t.axisDistance;break;case g.Right:case g.Bottom:p-=t.axisDistance;break}e==0&&await this.renderMinorItems(t,c),e==1&&(await this.renderMajorItems(t,c,p,s),await this.renderAxisTitle(t,p))}static lerp(t,e,s){return t*(1-s)+e*s}static snapTo(t,e,s=.5){return e>t-s&&e<t+s?t:e}getAxisTitlePositionAndAlignment(t,e){let s=-90,n=F.Center,o=N.Top,r=t.isHorizontal()?qi.lerp(t.screenMin.x,t.screenMax.x,t.titlePosition):qi.lerp(t.screenMax.y,t.screenMin.y,t.titlePosition);t.positionAtZeroCrossing&&(r=qi.lerp(t.transform(t.clipMaximum),t.transform(t.clipMinimum),t.titlePosition));let a=Fe;switch(t.position){case g.Left:a=R(e,r);break;case g.Right:o=N.Bottom,a=R(e,r);break;case g.Top:n=F.Center,o=N.Top,s=0,a=R(r,e);break;case g.Bottom:n=F.Center,o=N.Bottom,s=0,a=R(r,e);break;default:throw new Error("Invalid axis position")}return{point:a,angle:s,halign:n,valign:o}}async renderAxisTitle(t,e){if(!t.actualTitle)return;const s=t.isHorizontal();let n;if(t.clipTitle){const m=Math.abs(s?t.screenMax.x-t.screenMin.x:t.screenMax.y-t.screenMin.y);n=bt(m*t.titleClippingLength,ot)}const{point:o,angle:r,halign:a,valign:u}=this.getAxisTitlePositionAndAlignment(t,e);await xe.drawMathText(this.renderContext,o,t.actualTitle,t.actualTitleColor,t.actualTitleFont,t.actualTitleFontSize,t.actualTitleFontWeight,r,a,u,n)}async renderMajorItems(t,e,s,n){const o=t.actualMinorStep*.001,r=t.clipMinimum,a=t.clipMaximum,u=this.plot.plotArea.left,m=P.right(this.plot.plotArea),c=this.plot.plotArea.top,p=P.bottom(this.plot.plotArea),x=t.isHorizontal(),w=t.cropGridlines,S=[],k=[],[A,C]=this.getTickPositions(t,t.tickStyle,t.majorTickSize,t.position),T=t.isHorizontal()?this.plot.defaultYAxis:this.plot.defaultXAxis,D=t.positionAtZeroCrossing&&(T==null?void 0:T.positionAtZeroCrossing);let B=[];w&&(x?B=this.plot.axes.filter(z=>z.isXyAxis()&&z.isVertical()):B=this.plot.axes.filter(z=>z.isXyAxis()&&z.isHorizontal()));const I=qi.snapTo;for(const z of this.majorTickValues){if(D&&Math.abs(z)<o)continue;let E=t.transform(z);x?(E=I(u,E),E=I(m,E)):(E=I(c,E),E=I(p,E)),this.majorPen&&this.addSegments(S,B,x,w,E,u,m,c,p),t.tickStyle!=rt.None&&t.majorTickSize>0&&(x?(k.push(R(E,e+A)),k.push(R(E,e+C))):(k.push(R(e+A,E)),k.push(R(e+C,E))))}for(const z of this.majorLabelValues){if(z<r-o||z>a+o||D&&Math.abs(z)<o)continue;let E=t.transform(z);x?(E=I(u,E),E=I(m,E)):(E=I(c,E),E=I(p,E));let Y=Fe,At=[F.Center,N.Middle];switch(t.position){case g.Left:Y=R(e+C-t.axisTickToLabelDistance,E),At=this.getRotatedAlignments(t.angle,-90);break;case g.Right:Y=R(e+C+t.axisTickToLabelDistance,E),At=this.getRotatedAlignments(t.angle,90);break;case g.Top:Y=R(E,e+C-t.axisTickToLabelDistance),At=this.getRotatedAlignments(t.angle,0);break;case g.Bottom:Y=R(E,e+C+t.axisTickToLabelDistance),At=this.getRotatedAlignments(t.angle,-180);break}const[et,pt]=At,ie=t.formatValue(z);await xe.drawMathText(this.renderContext,Y,ie,t.actualTextColor,t.actualFont,t.actualFontSize,t.actualFontWeight,t.angle,et,pt)}const _=O.getActualEdgeRenderingMode(t.edgeRenderingMode,U.PreferSharpness);if(t.extraGridlines&&this.extraPen){const z=[];for(const E of t.extraGridlines){if(!this.isWithin(E,r,a))continue;const Y=t.transform(E);this.addSegments(z,B,x,w,Y,u,m,c,p)}await O.drawLineSegments(this.renderContext,z,this.extraPen,_)}n&&(x?await O.drawLine(this.renderContext,t.transform(r),e,t.transform(a),e,this.axislinePen,_):await O.drawLine(this.renderContext,e,t.transform(r),e,t.transform(a),this.axislinePen,_)),this.majorPen&&await O.drawLineSegments(this.renderContext,S,this.majorPen,_),this.majorTickPen&&await O.drawLineSegments(this.renderContext,k,this.majorTickPen,_)}async renderMinorItems(t,e){const s=t.actualMinorStep*.001,n=this.plot.plotArea.left,o=P.right(this.plot.plotArea),r=this.plot.plotArea.top,a=P.bottom(this.plot.plotArea),u=t.cropGridlines,m=t.isHorizontal(),c=[],p=[];let x=[];u&&(m?x=this.plot.axes.filter(C=>C.isXyAxis()&&C.isVertical()):x=this.plot.axes.filter(C=>C.isXyAxis()&&C.isHorizontal()));const[w,S]=this.getTickPositions(t,t.tickStyle,t.minorTickSize,t.position),k=qi.snapTo;for(const C of this.minorTickValues){if(t.positionAtZeroCrossing&&Math.abs(C)<s)continue;let T=t.transform(C);m?(T=k(n,T),T=k(o,T)):(T=k(r,T),T=k(a,T)),this.minorPen&&this.addSegments(c,x,m,u,T,n,o,r,a),t.tickStyle!=rt.None&&t.minorTickSize>0&&(m?(p.push(R(T,e+w)),p.push(R(T,e+S))):(p.push(R(e+w,T)),p.push(R(e+S,T))))}const A=O.getActualEdgeRenderingMode(t.edgeRenderingMode,U.PreferSharpness);this.minorPen&&await O.drawLineSegments(this.renderContext,c,this.minorPen,A),this.minorTickPen&&await O.drawLineSegments(this.renderContext,p,this.minorTickPen,A)}addSegments(t,e,s,n,o,r,a,u,m){if(s)if(!n)t.push(R(o,u)),t.push(R(o,m));else for(const c of e)t.push(R(o,c.transform(c.clipMinimum))),t.push(R(o,c.transform(c.clipMaximum)));else if(!n)t.push(R(r,o)),t.push(R(a,o));else for(const c of e)t.push(R(c.transform(c.clipMinimum),o)),t.push(R(c.transform(c.clipMaximum),o))}getRotatedAlignments(t,e){const n=(e+360)%360-180;let o=t>=Math.min(e,n)&&t<Math.max(e,n)?F.Left:F.Right,r=N.Middle;return e<0&&(o=o===F.Left?F.Right:F.Left),(Math.abs(t-n)<10||Math.abs(t-e)<10)&&(o=F.Center),Math.abs(t-e)<10&&(r=N.Bottom),Math.abs(t-n)<10&&(r=N.Top),[o,r]}}class ia extends qi{constructor(t,e){super(t,e),h(this,"left",0),h(this,"top",0),h(this,"size",0),h(this,"minScreenPosition",0),h(this,"maxScreenPosition",0)}initPosition(t){this.size=t.majorTickSize-2;const e=t.axisDistance;this.minScreenPosition=t.transform(t.clipMinimum),this.maxScreenPosition=t.transform(t.clipMaximum);const{x:s,y:n}=P.bottomRight(t.plotModel.plotArea),{left:o,top:r}=t.plotModel.plotArea;switch(t.position){case g.Left:this.left=o-t.positionTierMinShift-this.size-e,this.top=r;break;case g.Right:this.left=s+t.positionTierMinShift+e,this.top=r;break;case g.Top:this.left=o,this.top=r-t.positionTierMinShift-this.size-e;break;case g.Bottom:this.left=o,this.top=n+t.positionTierMinShift+e;break}}async render(t,e){[g.Left,g.Right,g.Top,g.Bottom].includes(t.position)&&(e===0&&(this.initPosition(t),await this.renderColorBlock(t)),await super.render(t,e))}async drawColorRect(t,e,s,n){const o=Math.min(e,s),r=Math.max(e,s)+.5,a=t.isHorizontal()?J(o,this.top,r-o,this.size):J(this.left,o,this.size,r-o);await this.renderContext.drawRectangle(a,n,f.Undefined,0,t.edgeRenderingMode)}}class ch extends ia{constructor(t,e){super(t,e)}async renderColorBlock(t){const{majorLabelValues:e}=t.getTickValues();for(let s=0;s<t.palette.colors.length;s++){const n=t.transform(t.getLowValue(s,e)),o=t.transform(t.getHighValue(s,e));await this.drawColorRect(t,n,o,t.palette.colors[s])}}}class dh extends In{constructor(t,e){super(t,e)}async render(t,e){await super.render(t,e);const s=this.plot.defaultMagnitudeAxis;if(!s)throw new Error("Magnitude axis not defined.");const n=t.startAngle/t.scale,o=t.endAngle/t.scale,r=Math.abs(o-n);if(this.minorPen){const m=Math.abs(r/t.actualMinorStep|0),c=this.minorTickValues.slice(0,m+1).map(p=>s.transformPoint(s.clipMaximum,p,t));for(const p of c)await O.drawLine(this.renderContext,s.midPoint.x,s.midPoint.y,p.x,p.y,this.minorPen,t.edgeRenderingMode)}const a=Math.abs(Math.abs(Math.max(t.endAngle,t.startAngle)-Math.min(t.startAngle,t.endAngle))-360)<.001;let u=r/t.actualMajorStep|0;if(a||u++,this.majorPen){const m=this.majorTickValues.slice(0,u).map(c=>s.transformPoint(s.clipMaximum,c,t));for(const c of m)await O.drawLine(this.renderContext,s.midPoint.x,s.midPoint.y,c.x,c.y,this.majorPen,t.edgeRenderingMode)}for(const m of this.majorLabelValues.slice(0,u)){let c=s.transformPoint(s.clipMaximum,m,t);const p=Math.atan2(c.y-s.midPoint.y,c.x-s.midPoint.x);let{x,y:w}=c;x+=Math.cos(p)*t.axisTickToLabelDistance,w+=Math.sin(p)*t.axisTickToLabelDistance,c=R(x,w);let S=p*180/Math.PI;const k=t.formatValue(m);let A=F.Left,C=N.Middle;Math.abs(Math.abs(S)-90)<10?(A=F.Center,C=S>=90?N.Top:N.Bottom,S=0):(S>90||S<-90)&&(S-=180,A=F.Right),await xe.drawMathText(this.renderContext,c,k,t.actualTextColor,t.actualFont,t.actualFontSize,t.actualFontWeight,S,A,C)}}}class Mo extends In{constructor(t,e){super(t,e)}async render(t,e){await super.render(t,e);const s=this.plot.defaultAngleAxis;if(!s)throw new Error("Angle axis should not be null.");if(s.updateActualMaxMin(),e===0&&this.extraPen){const n=t.extraGridlines;if(n)for(let o=0;o<n.length;o++)await this.renderTick(t,s,n[o],this.extraPen)}if(e===0&&this.minorPen)for(const n of this.minorTickValues)await this.renderTick(t,s,n,this.minorPen);if(e===0&&this.majorPen)for(const n of this.majorTickValues)await this.renderTick(t,s,n,this.majorPen);if(e===1)for(const n of this.majorTickValues)await this.renderTickText(t,n,s)}static getActualAngle(t,e){const s=t.transformPoint(0,e.angle,e),n=t.transformPoint(1,e.angle,e);return Math.atan2(n.y-s.y,n.x-s.x)}static getTickTextAlignment(t){let e=F.Center,s=N.Bottom;return t>3*Math.PI/4||t<-3*Math.PI/4?(e=F.Center,s=N.Top):t<-Math.PI/4?(e=F.Right,s=N.Middle):t>Math.PI/4?(e=F.Left,s=N.Middle):(e=F.Center,s=N.Bottom),[e,s]}async renderTick(t,e,s,n){Math.abs(Math.abs(e.endAngle-e.startAngle)-360)<1e-6&&!n.actualDashArray?await this.renderTickCircle(t,e,s,n):await this.renderTickArc(t,e,s,n)}async renderTickCircle(t,e,s,n){const o=e.offset,r=t.transformPoint(t.clipMinimum,o,e),a=t.transformPoint(s,o,e).x,u=a-r.x,m=u*2,c=a-m,p=r.y-u,x=m;await this.renderContext.drawEllipse(J(c,p,m,x),f.Undefined,n.color,n.thickness,t.edgeRenderingMode)}async renderTickArc(t,e,s,n){const o=e.clipMinimum,r=e.clipMaximum,u=Math.round(90*Math.abs(e.endAngle-e.startAngle)/360),m=(r-o)/(u-1),c=[];for(let p=0;p<u;p++){const x=o+p*m;c.push(t.transformPoint(s,x,e))}await this.renderContext.drawLine(c,n.color,n.thickness,t.edgeRenderingMode,n.actualDashArray)}async renderTickText(t,e,s){const n=Mo.getActualAngle(t,s),o=t.axisTickToLabelDistance*Math.sin(n),r=-t.axisTickToLabelDistance*Math.cos(n),[a,u]=Mo.getTickTextAlignment(n);let m=t.transformPoint(e,s.angle,s);m=R(m.x+o,m.y+r);const c=t.formatValue(e);await xe.drawMathText(this.renderContext,m,c,t.actualTextColor,t.actualFont,t.actualFontSize,t.actualFontWeight,t.angle,a,u)}}class ph extends In{constructor(t,e){super(t,e)}async render(t,e){await super.render(t,e);const s=this.plot.defaultMagnitudeAxis;if(!s)throw new Error("Magnitude axis not defined.");const n=t.startAngle/t.scale,o=t.endAngle/t.scale,r=Math.abs(o-n);if(this.minorPen){const m=Math.abs(r/t.actualMinorStep),c=this.minorTickValues.slice(0,m+1).map(p=>this.transformToClientRectangle(s.clipMaximum,p,t,this.plot.plotArea,s.midPoint));for(const p of c)await O.drawLine(this.renderContext,s.midPoint.x,s.midPoint.y,p.x,p.y,this.minorPen,t.edgeRenderingMode)}const a=Math.abs(Math.abs(Math.max(t.endAngle,t.startAngle)-Math.min(t.startAngle,t.endAngle))-360)<.001;let u=Math.floor(r/t.actualMajorStep);if(a||u++,this.majorPen){const m=this.majorTickValues.slice(0,u).map(c=>this.transformToClientRectangle(s.clipMaximum,c,t,this.plot.plotArea,s.midPoint));for(const c of m)await O.drawLine(this.renderContext,s.midPoint.x,s.midPoint.y,c.x,c.y,this.majorPen,t.edgeRenderingMode)}for(const m of this.majorLabelValues.slice(0,u)){const c=this.transformToClientRectangle(s.clipMaximum,m,t,this.plot.plotArea,s.midPoint),p=t.formatValue(m);let x=F.Center,w=N.Middle;const S=this.plot.plotArea;let k=c.y,A=c.x;k<=S.top?(x=F.Center,w=N.Top,k+=t.axisTickToLabelDistance):k>=P.bottom(S)?(x=F.Center,w=N.Bottom,k-=t.axisTickToLabelDistance):A<=S.left?(x=F.Left,w=N.Middle,A+=t.axisTickToLabelDistance):A>=P.right(S)&&(x=F.Right,w=N.Middle,A-=t.axisTickToLabelDistance);const C=R(A,k);await xe.drawMathText(this.renderContext,C,p,t.actualTextColor,t.actualFont,t.actualFontSize,t.actualFontWeight,0,x,w)}}transformToClientRectangle(t,e,s,n,o){let r=Fe,a=(e-s.offset)*s.scale;a%=360;const u=a/180*Math.PI,m=Math.cos(u),c=-Math.sin(u);if(m!==0){let p=0;m>0?p=P.right(n)-o.x:m<0&&(p=n.left-o.x);const x=p/m;let w=x*m,S=x*c;if(S+o.y>P.bottom(n)||S+o.y<n.top){let k=0;c>0?k=P.bottom(n)-o.y:k=n.top-o.y;const A=k/c;w=A*m,S=A*c,r=R(A*m+o.x,A*c+o.y)}else r=R(w+o.x,S+o.y)}return r}}const le=180/Math.PI,tl=Math.PI/180,Bl=class Es extends In{constructor(t,e){super(t,e)}async render(t,e){await super.render(t,e);const s=this.plot.defaultAngleAxis,n=this.plot.defaultMagnitudeAxis;if(!s)throw new Error("Angle axis should not be undefined.");s.updateActualMaxMin();const o=P.bottom(t.plotModel.plotArea),r=P.right(t.plotModel.plotArea),a=Math.abs(t.plotModel.plotArea.top-n.midPoint.y),u=Math.abs(o-n.midPoint.y),m=Math.abs(t.plotModel.plotArea.left-n.midPoint.x),c=Math.abs(r-n.midPoint.x),p=Jt.fromRect(P.offset(t.plotModel.plotArea,-n.midPoint.x,-n.midPoint.y)),x=-le*Math.atan2(p.top,p.right);let w=-le*Math.atan2(p.top,p.left),S=360-le*Math.atan2(p.bottom,p.left);const k=360-le*Math.atan2(p.bottom,p.right);w<0&&(w+=360),S>360&&(S-=360);const A=Math.sqrt(Math.pow(p.top,2)+Math.pow(p.right,2)),C=Math.sqrt(Math.pow(p.top,2)+Math.pow(p.left,2)),T=Math.sqrt(Math.pow(p.bottom,2)+Math.pow(p.left,2)),D=Math.sqrt(Math.pow(p.bottom,2)+Math.pow(p.right,2));if(e===0&&this.minorPen){const B=this.minorPen;for(const I of this.minorTickValues){const _=t.transform(I);let z=0,E=90,Y=90,At=180,et=180,pt=270,ie=270,Le=360;const he=c/_,ce=a/_,St=m/_,vt=u/_;_>c&&(Le=360-le*Math.acos(he),z=le*Math.acos(he)),_>a&&(E=le*Math.asin(ce),Y=180-le*Math.asin(ce)),_>m&&(At=180-le*Math.acos(St),et=180+le*Math.acos(St)),_>u&&(pt=180+le*Math.asin(vt),ie=360-le*Math.asin(vt)),_<=A&&(z<x&&await this.renderTickArc(t,s,I,B,z+s.offset,x+s.offset),x<E&&await this.renderTickArc(t,s,I,B,x+s.offset,E+s.offset)),_<=C&&(Y<w&&await this.renderTickArc(t,s,I,B,Y+s.offset,w+s.offset),w<At&&await this.renderTickArc(t,s,I,B,w+s.offset,At+s.offset)),_<=T&&(et<S&&await this.renderTickArc(t,s,I,B,et+s.offset,S+s.offset),S<pt&&await this.renderTickArc(t,s,I,B,S+s.offset,pt+s.offset)),_<=D&&(ie<k&&await this.renderTickArc(t,s,I,B,ie+s.offset,k+s.offset),k<Le&&await this.renderTickArc(t,s,I,B,k+s.offset,Le+s.offset))}}if(e===0&&this.majorPen){const B=this.majorPen;for(const I of this.majorTickValues){const _=t.transform(I);let z=0,E=90,Y=90,At=180,et=180,pt=270,ie=270,Le=360;const he=c/_,ce=a/_,St=m/_,vt=u/_;_>c&&(Le=360-le*Math.acos(he),z=le*Math.acos(he)),_>a&&(E=le*Math.asin(ce),Y=180-le*Math.asin(ce)),_>m&&(At=180-le*Math.acos(St),et=180+le*Math.acos(St)),_>u&&(pt=180+le*Math.asin(vt),ie=360-le*Math.asin(vt)),_<=A&&(z<x&&await this.renderTickArc(t,s,I,B,z+s.offset,x+s.offset),x<E&&await this.renderTickArc(t,s,I,B,x+s.offset,E+s.offset)),_<=C&&(Y<w&&await this.renderTickArc(t,s,I,B,Y+s.offset,w+s.offset),w<At&&await this.renderTickArc(t,s,I,B,w+s.offset,At+s.offset)),_<=T&&(et<S&&await this.renderTickArc(t,s,I,B,et+s.offset,S+s.offset),S<pt&&await this.renderTickArc(t,s,I,B,S+s.offset,pt+s.offset)),_<=D&&(ie<k&&await this.renderTickArc(t,s,I,B,ie+s.offset,k+s.offset),k<Le&&await this.renderTickArc(t,s,I,B,k+s.offset,Le+s.offset))}}if(e===1){const B=O.autoResetClip(this.renderContext,P.fromScreenPoints(t.screenMin,t.screenMax));for(const I of this.majorLabelValues)await this.renderTickText(t,I,s);B.dispose()}}static getActualAngle(t,e){const s=t.transformPoint(0,e.angle,e),n=t.transformPoint(1,e.angle,e);return Math.atan2(n.y-s.y,n.x-s.x)}static getTickTextAligment(t){let e=F.Center,s=N.Bottom;return t>3*Math.PI/4||t<-3*Math.PI/4?(e=F.Center,s=N.Top):t<-Math.PI/4?(e=F.Right,s=N.Middle):t>Math.PI/4?(e=F.Left,s=N.Middle):(e=F.Center,s=N.Bottom),[e,s]}async renderTickArc(t,e,s,n,o,r){let a=Es.maxSegments*Math.abs(r-o)/360;(e.fractionUnit===Math.PI||e.actualMaximum===2*Math.PI)&&(a=Es.maxSegments*Math.abs(r-o)/(2*Math.PI),o*=tl,r*=tl),a=Math.max(a,2),a=Math.min(a,Es.maxSegments);const u=Math.abs(r-o)/(a-1),m=[];for(let c=0;c<a;c++){const p=o+c*u,x=t.transformPoint(s,p,e);m.push(x)}await this.renderContext.drawLine(m,n.color,n.thickness,t.edgeRenderingMode,n.actualDashArray)}async renderTickText(t,e,s){const n=Es.getActualAngle(t,s),o=t.axisTickToLabelDistance*Math.sin(n),r=-t.axisTickToLabelDistance*Math.cos(n),[a,u]=Es.getTickTextAligment(n);let m=t.transformPoint(e,s.angle,s);m=R(m.x+o,m.y+r);const c=t.formatValue(e);await xe.drawMathText(this.renderContext,m,c,t.actualTextColor,t.actualFont,t.actualFontSize,t.actualFontWeight,t.angle,a,u)}};h(Bl,"maxSegments",180);let fh=Bl;class gh extends ia{constructor(t,e){super(t,e)}async renderColorBlock(t){const e=t.transform(t.isReversed?t.actualMinimum:t.actualMaximum),s=t.transform(t.isReversed?t.actualMaximum:t.actualMinimum);for(const o of t.ranges){let r=t.transform(o.lowerBound),a=t.transform(o.upperBound);t.isHorizontal()?(r<s&&(r=s),a>e&&(a=e)):(r>s&&(r=s),a<e&&(a=e)),await this.drawColorRect(t,r,a,o.color)}let n=10;if(t.isHorizontal()&&(n*=-1),!M.isUndefined(t.lowColor)){const o=t.transform(t.actualMinimum);await this.drawColorRect(t,o,o+n,t.lowColor)}if(!M.isUndefined(t.highColor)){const o=t.transform(t.actualMaximum);await this.drawColorRect(t,o,o-n,t.highColor)}}}class Fl extends ia{constructor(t,e){super(t,e)}async renderColorBlock(t){if(!t.palette)throw new Error("No Palette defined for color axis.");if(t.renderAsImage){const e=t.transform(t.clipMaximum)-t.transform(t.clipMinimum),s=e<0,n=Math.abs(e);if(t.isHorizontal()){const o=await this.generateColorAxisImage(t,s);await O.drawImage(this.renderContext,o,this.left,this.top,n,this.size,1,!0)}else{const o=await this.generateColorAxisImage(t,s);await O.drawImage(this.renderContext,o,this.left,this.top,this.size,n,1,!0)}}else{for(let s=0;s<t.palette.colors.length;s++){const n=this.transform(t,gi.getLowValue(t,s)),o=this.transform(t,gi.getHighValue(t,s));await this.drawColorRect(t,n,o,t.palette.colors[s])}let e=10;t.isHorizontal()&&(e*=-1),M.isUndefined(t.lowColor)||await this.drawColorRect(t,this.minScreenPosition,this.minScreenPosition+e,t.lowColor),M.isUndefined(t.highColor)||await this.drawColorRect(t,this.maxScreenPosition,this.maxScreenPosition-e,t.highColor)}}async generateColorAxisImage(t,e){const s=t.palette.colors.length,n=t.isHorizontal()?new Ge(s,1,f.Undefined):new Ge(1,s,f.Undefined);for(let o=0;o<s;o++){const r=t.palette.colors[o],a=e?s-1-o:o;t.isHorizontal()?n.set(a,0,r):n.set(0,a,r)}return He.create(n,De.Png)}transform(t,e){return this.linearInterpolation(t.clipMinimum,this.minScreenPosition,t.clipMaximum,this.maxScreenPosition,e)}linearInterpolation(t,e,s,n,o){return e+(o-t)*(n-e)/(s-t)}}const oo={base:10,powerPadding:!0,filterMinValue:0},Nl={...Ll,...oo};class Mt extends ta{constructor(t){super(t),h(this,"base",oo.base),h(this,"powerPadding",oo.powerPadding),h(this,"actualLogMaximum",0),h(this,"actualLogMinimum",0),h(this,"logClipMaximum",0),h(this,"logClipMinimum",0),it(this,oo,t)}getElementName(){return"LogarithmicAxis"}getTickValues(){let t=[],e=[],s=[];const n=Math.abs(this.logClipMaximum-this.logClipMinimum),a=Math.abs(this.isVertical()?this.screenMax.y-this.screenMin.y:this.screenMax.x-this.screenMin.x)/this.intervalLength/n,u=1/Math.floor(a),m=Math.round(this.base);if(a<.75){const c=Math.pow(2,Math.ceil(Math.log(1/a)/Math.log(2)));t=this.decadeTicks(c),s=this.decadeTicks(Math.ceil(c/8))}else if(Math.abs(this.base-m)>1e-10)t=this.decadeTicks(u),s=this.decadeTicks(.5*u);else if(a<2)t=this.decadeTicks(),s=this.subdividedDecadeTicks();else{if(a>this.base*1.5)return super.getTickValues();{const c=this.logSubdividedDecadeTicks(!1);if(c.length<2)return super.getTickValues();const p=this.logCalculateMinorCandidates(c,u);s=this.powList(p,!0),t=this.alignTicksToCandidates(c,u)}}return e=t,s=Vi.filterRedundantMinorTicks(t,s),{majorLabelValues:e,majorTickValues:t,minorTickValues:s}}isXyAxis(){return!0}isLogarithmic(){return!0}pan(t,e){if(!this.isPanEnabled)return;const s=this.isHorizontal(),n=this.inverseTransform(s?t.x:t.y),o=this.inverseTransform(s?e.x:e.y);if(Math.abs(o)<=0)return;const r=this.actualMinimum,a=this.actualMaximum,u=n/o;let m=this.actualMinimum*u,c=this.actualMaximum*u;m<this.absoluteMinimum&&(m=this.absoluteMinimum,c=m*this.actualMaximum/this.actualMinimum),c>this.absoluteMaximum&&(c=this.absoluteMaximum,m=c*this.actualMinimum/this.actualMaximum),this.viewMinimum=m,this.viewMaximum=c;const p=this.actualMinimum-r,x=this.actualMaximum-a;this.onAxisChanged({changeType:Bi.Pan,deltaMinimum:p,deltaMaximum:x})}inverseTransform(t){return this.postInverseTransform(t/this.scale+this.offset)}transform(t){return t<=0?-1:(this.preTransform(t)-this.offset)*this.scale}zoomAt(t,e){if(!this.isZoomEnabled)return;const s=this.actualMinimum,n=this.actualMaximum,o=this.preTransform(e),r=this.preTransform(this.actualMinimum)-o,a=this.preTransform(this.actualMaximum)-o,u=this.postInverseTransform(r/t+o),m=this.postInverseTransform(a/t+o),c=Math.max(u,this.absoluteMinimum),p=Math.min(m,this.absoluteMaximum);this.viewMinimum=c,this.viewMaximum=p,this.updateActualMaxMin();const x=this.actualMinimum-s,w=this.actualMaximum-n;this.onAxisChanged({changeType:Bi.Zoom,deltaMinimum:x,deltaMaximum:w})}powList(t,e=!1){return t.filter(s=>!e||!(s<this.logClipMinimum)).filter(s=>!e||!(s>this.logClipMaximum)).map(s=>Math.pow(this.base,s))}logList(t,e=!1){return t.filter(s=>!e||!(s<this.clipMinimum)).filter(s=>!e||!(s>this.clipMaximum)).map(s=>Math.log(s)/Math.log(this.base))}decadeTicks(t=1){return this.powList(this.logDecadeTicks(t))}logDecadeTicks(t=1){const e=[];if(t<=0)return e;let s=Number.NaN;for(let n=Math.ceil(this.logClipMinimum);n<=this.logClipMaximum&&!(n<=s);n+=t)s=n,n>=this.logClipMinimum&&e.push(n);return e}logSubdividedDecadeTicks(t=!0){return this.logList(this.subdividedDecadeTicks(t))}subdividedDecadeTicks(t=!0){const e=[];for(let s=Math.floor(this.logClipMinimum);!(s>this.logClipMaximum);s++){const n=Math.pow(this.base,s);for(let o=1;o<this.base;o++){const r=n*o;if(!(t&&r<this.clipMinimum)){if(t&&r>this.clipMaximum)break;e.push(n*o)}}}return e}alignTicksToCandidates(t,e){return this.powList(this.logAlignTicksToCandidates(t,e))}logAlignTicksToCandidates(t,e){const s=[];let n=1,o=Number.NaN;for(let r=Math.floor(this.logClipMinimum);;r+=e){if(r<this.logClipMinimum-e)continue;if(r>this.logClipMaximum+e)break;for(;n<t.length-1&&t[n]<r;)n++;const a=Math.abs(t[n]-r)<Math.abs(t[n-1]-r)?t[n]:t[n-1];a!=o&&a>=this.logClipMinimum&&a<=this.logClipMaximum&&s.push(a),o=a}return s}logCalculateMinorCandidates(t,e){const s=[];for(let n=1;n<t.length;n++){const o=t[n-1],r=t[n];if(r<this.logClipMinimum)continue;if(o>this.logClipMaximum)break;(r-o)/e>2&&this.logSubdivideInterval(s,this.base,o,r),s.push(r)}return s}logSubdivideInterval(t,e,s,n){let o=1;const r=Math.round(this.base);if(e<2)return;if(Math.abs(this.base-r)>this.base*1e-10)o=Math.round(e);else if(r&r-1)for(r!=10&&(o=r);!(o>=e||(o*=2,o>=e)||(o=Math.round(o*2.5),o>=e));)o*=2;else for(;o<e;)o*=2;const a=Math.pow(this.base,s),u=Math.pow(this.base,n);for(let m=1;m<o;m++){const c=m/o,p=Math.log(a+(u-a)*c)/Math.log(this.base);t.push(p)}}updateActualMaxMin(){if(this.powerPadding){const t=Math.log(this.base),e=Math.floor(Math.log(this.actualMinimum)/t),s=Math.ceil(Math.log(this.actualMaximum)/t);isNaN(this.actualMinimum)||(this.actualMinimum=Bt(Math.exp(e*t),14)),isNaN(this.actualMaximum)||(this.actualMaximum=Bt(Math.exp(s*t),14))}super.updateActualMaxMin(),this.actualMinimum<=0&&(this.actualMinimum=.1)}actualMaximumAndMinimumChangedOverride(){this.actualLogMinimum=this.preTransform(this.actualMinimum),this.actualLogMaximum=this.preTransform(this.actualMaximum),this.logClipMinimum=this.preTransform(this.clipMinimum),this.logClipMaximum=this.preTransform(this.clipMaximum)}postInverseTransform(t){return Math.pow(this.base,t)}preTransform(t){if(t<=0)throw new Error("Value should be positive.");return t<=0?0:Ym(t,this.base)}coerceActualMaxMin(){(isNaN(this.actualMinimum)||vi(this.actualMinimum))&&(this.actualMinimum=1),this.actualMinimum<=0&&(this.actualMinimum=1),this.actualMaximum<=this.actualMinimum&&(this.actualMaximum=this.actualMinimum*100),super.coerceActualMaxMin()}calculateActualMaximum(){let t=this.dataMaximum;if(this.dataMaximum-this.dataMinimum<Number.EPSILON){const s=this.dataMaximum>0?this.dataMaximum:1;t+=s*.5}if(!ht(this.dataMinimum)&&!ht(t)){const s=t,n=this.dataMinimum;return Math.pow(s,this.maximumPadding+1)*(n>Number.EPSILON?Math.pow(n,-this.maximumPadding):1)}return t}calculateActualMinimum(){let t=this.dataMinimum;if(this.dataMaximum-this.dataMinimum<Number.EPSILON){const s=this.dataMaximum>0?this.dataMaximum:1;t-=s*.5}if(!isNaN(this.actualMaximum)){const s=this.actualMaximum,n=t,o=this.maximumPadding;return Math.pow(n,1+this.minimumPadding-this.minimumPadding*o/(1+o))*Math.pow(s,-this.minimumPadding/(1+o))}return t}getElementDefaultValues(){return Nl}}const ds={highColor:f.Undefined,lowColor:f.Undefined,invalidNumberColor:f.Gray,palette:j.viridis(),position:g.None,axisDistance:20,isPanEnabled:!1,isZoomEnabled:!1,renderAsImage:!1},xh={...Nl,...ds};class _l extends Mt{constructor(t){super(t),h(this,"invalidNumberColor",ds.invalidNumberColor),h(this,"highColor",ds.highColor),h(this,"lowColor",ds.lowColor),h(this,"palette",ds.palette),h(this,"renderAsImage",ds.renderAsImage),it(this,ds,t)}getElementName(){return"LogarithmicColorAxis"}isXyAxis(){return!1}async render(t,e){await new Fl(t,this.plotModel).render(this,e)}getColor(t){return gi.getColorByPaletteIndex(this,t)}getPaletteIndex(t){if(ht(t))return ct;if(M.isUndefined(this.lowColor)&&t<this.clipMinimum)return 0;if(M.isUndefined(this.highColor)&&t>this.clipMaximum)return this.palette.colors.length+1;const e=this.preTransform(t);let s=1+Math.floor((e-this.logClipMinimum)/(this.logClipMaximum-this.logClipMinimum)*this.palette.colors.length);return s<1&&(s=1),s>this.palette.colors.length&&(s=this.palette.colors.length),s}getElementDefaultValues(){return xh}}const dn={firstDayOfWeek:Do.Monday,intervalType:ut.Auto,minorIntervalType:ut.Auto,position:g.Bottom,timeZone:void 0},wh={...rs,...dn},vs=class Re extends y{constructor(t){super(t),h(this,"_actualIntervalType",ut.Auto),h(this,"_actualMinorIntervalType",ut.Auto),h(this,"_dateService"),h(this,"firstDayOfWeek",dn.firstDayOfWeek),h(this,"intervalType",dn.intervalType),h(this,"minorIntervalType",dn.minorIntervalType),h(this,"timeZone"),this._dateService=Ai(),it(this,dn,t)}getElementName(){return"DateTimeAxis"}static createDataPoint(t,e){return d(Re.toDouble(t),e)}static toDateTime(t){return isNaN(t)||t<Re.MinDayValue||t>Re.MaxDayValue?new Date:Ai().addTimespan(Re.TimeOrigin,Ut.fromDays(t-1))}static fromDotNetValue(t){return t=t-Re.TimeOriginDiffDaysToCSharp,Re.toDateTime(t)}static toDouble(t){return Ai().diff(t,Re.TimeOrigin).totalDays+1}itemToDouble(t){return t instanceof Date?Re.toDouble(t):super.itemToDouble(t)}getTickValues(){let t=this.createDateTimeTickValues(this.clipMinimum,this.clipMaximum,this.actualMinorStep,this._actualMinorIntervalType);const e=this.createDateTimeTickValues(this.clipMinimum,this.clipMaximum,this.actualMajorStep,this._actualIntervalType),s=e;return t=Vi.filterRedundantMinorTicks(e,t),{majorLabelValues:s,majorTickValues:e,minorTickValues:t}}getValue(t){const e=Re.toDateTime(t);return this.timeZone?this._dateService.convertTime(e,this.timeZone):e}updateIntervals(t){super.updateIntervals(t);const e=!yt(this.stringFormatter);switch(this._actualIntervalType){case ut.Years:this.actualMinorStep=31,this._actualMinorIntervalType=ut.Years,e||(this.actualStringFormatter=s=>this._dateService.format(s,"YYYY"));break;case ut.Months:this._actualMinorIntervalType=ut.Months,e||(this.actualStringFormatter=s=>this._dateService.format(s,"YYYY-MM-DD"));break;case ut.Weeks:this._actualMinorIntervalType=ut.Days,this.actualMajorStep=7,this.actualMinorStep=1,e||(this.actualStringFormatter=s=>this._dateService.format(s,"YYYY/ww"));break;case ut.Days:this.actualMinorStep=this.actualMajorStep,e||(this.actualStringFormatter=s=>this._dateService.format(s,"YYYY-MM-DD"));break;case ut.Hours:this.actualMinorStep=this.actualMajorStep,e||(this.actualStringFormatter=s=>this._dateService.format(s,"HH:mm"));break;case ut.Minutes:this.actualMinorStep=this.actualMajorStep,e||(this.actualStringFormatter=s=>this._dateService.format(s,"HH:mm"));break;case ut.Seconds:this.actualMinorStep=this.actualMajorStep,e||(this.actualStringFormatter=s=>this._dateService.format(s,"HH:mm:ss"));break;case ut.Milliseconds:this.actualMinorStep=this.actualMajorStep,e||(this.actualStringFormatter=s=>this._dateService.format(s,"HH:mm:ss.SSS"));break;case ut.Manual:break;case ut.Auto:break}}getDefaultStringFormatter(){return t=>this._dateService.format(t,"yyyy-MM-dd")}formatValueOverride(t){let e=Re.toDateTime(t);this.timeZone&&(e=this._dateService.convertTime(e,this.timeZone));const s=this.actualStringFormatter;return s?s(e):e.toLocaleDateString()}calculateActualInterval(t,e,s,n,o){const c=.041666666666666664,p=c/60,x=p/60,w=x/1e3;o=Math.abs(this.clipMinimum-this.clipMaximum);const S=[w,2*w,10*w,100*w,x,2*x,5*x,10*x,30*x,p,2*p,5*p,10*p,30*p,c,4*c,8*c,12*c,1,2*1,5*1,7,2*7,30.5,2*30.5,3*30.5,4*30.5,6*30.5,365.25];let k=S[0];for(s=Math.max(s,0),n=Math.min(n,Math.max(Math.floor(t/e),2));!(o/k<n);){let A=S.find(C=>C>k);if(Ci(A))throw new Error(`cannot calculate interval,range=${o}`);if(Math.abs(A)<=0&&(A=k*2),o/A<s)break;k=A}if(this._actualIntervalType=this.intervalType,this._actualMinorIntervalType=this.minorIntervalType,this.intervalType===ut.Auto&&(this._actualIntervalType=ut.Milliseconds,k>=1/24/60/60&&(this._actualIntervalType=ut.Seconds),k>=1/24/60&&(this._actualIntervalType=ut.Minutes),k>=1/24&&(this._actualIntervalType=ut.Hours),k>=1&&(this._actualIntervalType=ut.Days),k>=30&&(this._actualIntervalType=ut.Months),o>=365.25&&(this._actualIntervalType=ut.Years)),this._actualIntervalType===ut.Months){const A=o/30.5;k=super.calculateActualInterval(t,e,this.minimumMajorIntervalCount,this.maximumMajorIntervalCount,A)}if(this._actualIntervalType===ut.Years){const A=o/365.25;k=super.calculateActualInterval(t,e,this.minimumMajorIntervalCount,this.maximumMajorIntervalCount,A)}if(this._actualMinorIntervalType===ut.Auto)switch(this._actualIntervalType){case ut.Years:this._actualMinorIntervalType=ut.Months;break;case ut.Months:this._actualMinorIntervalType=ut.Days;break;case ut.Weeks:this._actualMinorIntervalType=ut.Days;break;case ut.Days:this._actualMinorIntervalType=ut.Hours;break;case ut.Hours:this._actualMinorIntervalType=ut.Minutes;break;default:this._actualMinorIntervalType=ut.Days;break}return k}createDateTickValues(t,e,s,n){const o=[];let r=Re.toDateTime(t);if(!r)return o;let a=0;switch(n){case ut.Weeks:a=this._dateService.dayOfWeek(r),r=this._dateService.addTimespan(r,Ut.fromDays(-a+this.firstDayOfWeek));break;case ut.Months:r=new Date(r.getFullYear(),r.getMonth(),1);break;case ut.Years:r=new Date(r.getFullYear(),0,1);break}const u=this._dateService.addTimespan(Re.toDateTime(e),Ut.fromMilliseconds(1));if(!u)return o;let m=r;const c=s*.001,p=Re.toDateTime(t-c),x=Re.toDateTime(e+c);if(!p||!x)return o;for(;m<u;)switch(m>p&&m<x&&o.push(Re.toDouble(m)),n){case ut.Months:m=this._dateService.addMonths(m,Math.ceil(s));break;case ut.Years:m=this._dateService.addYears(m,Math.ceil(s));break;default:m=this._dateService.addTimespan(m,Ut.fromDays(s));break}return o}createDateTimeTickValues(t,e,s,n){return n>ut.Days?this.createDateTickValues(t,e,s,n):this.createTickValues(t,e,s)}getElementDefaultValues(){return wh}};h(vs,"TimeOrigin",new Date(Date.UTC(1901,0,1,0,0,0)));h(vs,"TimeOriginDiffDaysToCSharp",366);h(vs,"MaxDayValue",Ut.fromMilliseconds(_m.getTime()-vs.TimeOrigin.getTime()).totalDays);h(vs,"MinDayValue",Ut.fromMilliseconds(os.getTime()-vs.TimeOrigin.getTime()).totalDays);let Nt=vs;const Vl={},yh={...rs,...Vl};class Ze extends y{constructor(t){super(t),it(this,Vl,t)}getElementName(){return"TimeSpanAxis"}static toDouble(t){return t.totalSeconds}itemToDouble(t){return t instanceof Ut?Ze.toDouble(t):super.itemToDouble(t)}static toTimeSpan(t){return Ut.fromSeconds(t)}getValue(t){return Ze.toTimeSpan(t)}getDefaultStringFormatter(){function t(e){return e.toString().padStart(2,"0")}return e=>`${e.hours}:${t(e.minutes)}:${t(e.seconds)}`}formatValueOverride(t){const e=Ze.toTimeSpan(t),s=this.actualStringFormatter??this.stringFormatter;return s?s(e):e.toString()}calculateActualInterval(t,e,s,n){const o=Math.abs(this.clipMinimum-this.clipMaximum);let r=1;const a=[1,5,10,30,60,120,300,600,900,1200,1800,3600];for(s=Math.max(s,0),n=Math.min(n,Math.max(Math.floor(t/e),2));!(o/r<n);){let u=a.find(m=>m>r);if(u||(u=r*2),o/u<s)break;r=u}return r}getElementDefaultValues(){return yh}}const ps={invalidNumberColor:f.Gray,highColor:f.Undefined,lowColor:f.Undefined,palette:j.viridis(),renderAsImage:!1,position:g.None,axisDistance:20,isPanEnabled:!1,isZoomEnabled:!1},Sh={...rs,...ps};class Yt extends y{constructor(t){super(t),h(this,"invalidNumberColor",ps.invalidNumberColor),h(this,"highColor",ps.highColor),h(this,"lowColor",ps.lowColor),h(this,"palette",ps.palette),h(this,"renderAsImage",ps.renderAsImage),it(this,ps,t)}getElementName(){return"LinearColorAxis"}isXyAxis(){return!1}async render(t,e){return new Fl(t,this.plotModel).render(this,e)}getColor(t){return vr(t,"paletteIndex"),t===ct?this.invalidNumberColor:t===0?this.lowColor:t===this.palette.colors.length+1?this.highColor:this.palette.colors[t-1]}getPaletteIndex(t){if(ht(t))return ct;if(!M.isUndefined(this.lowColor)&&t<this.clipMinimum)return 0;if(!M.isUndefined(this.highColor)&&t>this.clipMaximum)return this.palette.colors.length+1;let e=1+Math.floor((t-this.clipMinimum)/(this.clipMaximum-this.clipMinimum)*this.palette.colors.length);return e<1&&(e=1),e>this.palette.colors.length&&(e=this.palette.colors.length),e}getElementDefaultValues(){return Sh}}const pn={highColor:f.Undefined,lowColor:f.Undefined,invalidNumberColor:f.Gray,position:g.None,axisDistance:20,isPanEnabled:!1,isZoomEnabled:!1},bh={...rs,...pn};class El extends y{constructor(t){super(t),h(this,"_ranges",[]),h(this,"invalidNumberColor",pn.invalidNumberColor),h(this,"highColor",pn.highColor),h(this,"lowColor",pn.lowColor),it(this,pn,t)}get ranges(){return this._ranges}getElementName(){return"RangeColorAxis"}addRange(t,e,s){this._ranges.push({lowerBound:t,upperBound:e,color:s})}clearRanges(){this._ranges.length=0}getPaletteIndex(t){if(!M.isUndefined(this.lowColor)&&t<this._ranges[0].lowerBound)return-1;if(!M.isUndefined(this.highColor)&&t>this._ranges[this._ranges.length-1].upperBound)return this._ranges.length;for(let e=0;e<this._ranges.length;e++){const s=this._ranges[e];if(s.lowerBound<=t&&s.upperBound>t)return e}return ct}getColor(t){return t===ct?this.invalidNumberColor:t===-1?this.lowColor:t===this._ranges.length?this.highColor:this._ranges[t].color}async render(t,e){return new gh(t,this.plotModel).render(this,e)}getElementDefaultValues(){return bh}}const zl={midShiftH:0,midShiftV:0,position:g.None,isPanEnabled:!0,isZoomEnabled:!1,majorGridlineStyle:v.Solid,minorGridlineStyle:v.Solid},Mh={...Il,...zl};class sa extends Be{constructor(t){super(t),h(this,"_midShiftH",0),h(this,"_midShiftV",0),it(this,zl,t)}get midShiftH(){return this._midShiftH}set midShiftH(t){this._midShiftH=t,this._midShiftH=Math.max(this._midShiftH,-.5),this._midShiftH=Math.min(this._midShiftH,.5)}get midShiftV(){return this._midShiftV}set midShiftV(t){this._midShiftV=t,this._midShiftV=Math.max(this._midShiftV,-.5),this._midShiftV=Math.min(this._midShiftV,.5)}getElementName(){return"MagnitudeAxisFullPlotArea"}async render(t,e){await new fh(t,this.plotModel).render(this,e)}getTickValues(){const t=Jt.fromScreenPoints(this.screenMin,this.screenMax),e=ri(t.topLeft,this.midPoint),s=ri(t.topRight,this.midPoint),n=ri(t.bottomRight,this.midPoint),o=ri(t.bottomLeft,this.midPoint);let r=Math.max(e,s);r=Math.max(r,n),r=Math.max(r,o);const a=this.inverseTransform(r),u=Vi.createTickValues(this.actualMinimum,a,this.actualMajorStep);let m=Vi.createTickValues(this.actualMinimum,a,this.actualMinorStep);return m=Vi.filterRedundantMinorTicks(u,m),{majorLabelValues:u,majorTickValues:u,minorTickValues:m}}updateTransform(t){const e=t.left,s=P.right(t),n=P.bottom(t),o=t.top;this.screenMin=R(e,o),this.screenMax=R(s,n),this.midPoint=R((e+s)/2+this.midShiftH*t.width,(n+o)/2+this.midShiftV*t.height);const r=Math.min(Math.abs(s-e),Math.abs(o-n));let a=0,u=r*.5;const m=u-a;u=a+this.endPosition*m,a=a+this.startPosition*m;const c=this.isReversed?-1:1;this.minimumDataMargin>0&&(a+=this.minimumDataMargin*c),this.maximumDataMargin>0&&(u-=this.maximumDataMargin*c),this.actualMaximum-this.actualMinimum<=0&&(this.actualMaximum=this.actualMinimum+1);const p=this.preTransform(this.actualMaximum),x=this.preTransform(this.actualMinimum),w=a-u;let S,k;Math.abs(w)>Number.EPSILON?S=a/w*p-u/w*x:S=0;const A=p-x;Math.abs(A)>Number.EPSILON?k=(u-a)/A:k=1,this.setTransform(k,S),this.minimumDataMargin>0?this.clipMinimum=this.inverseTransform(0):this.clipMinimum=this.actualMinimum,this.maximumDataMargin>0?this.clipMaximum=this.inverseTransform(r*.5):this.clipMaximum=this.actualMaximum,this.actualMaximumAndMinimumChangedOverride()}pan(t,e){if(!this.isPanEnabled)return;const s=e.x-t.x,n=e.y-t.y,o=s/this.plotModel.plotArea.width,r=n/this.plotModel.plotArea.height;this.midShiftH+=o,this.midShiftV+=r,this.onAxisChanged({changeType:Bi.Pan,deltaMinimum:0,deltaMaximum:0})}zoomAt(t,e){this.isZoomEnabled&&super.zoomAt(t,0)}getElementDefaultValues(){return Mh}}class gi{static getColor(t,e){return t.getColor(t.getPaletteIndex(e))}static getHighValue(t,e){return this.getLowValue(t,e+1)}static getLowValue(t,e){return e/t.palette.colors.length*(t.clipMaximum-t.clipMinimum)+t.clipMinimum}static getColorByPaletteIndex(t,e){return e===ct?t.invalidNumberColor:e===0?t.lowColor:e===t.palette.colors.length+1?t.highColor:t.palette.colors[e-1]}}const ro={invalidCategoryColor:f.Undefined,palette:oi()},kh={...Dl,...ro};class na extends Z{constructor(t){super(t),h(this,"invalidCategoryColor",ro.invalidCategoryColor),h(this,"palette",ro.palette),it(this,ro,t)}getElementName(){return"CategoryColorAxis"}getColor(t){return t===-1?this.invalidCategoryColor:t>=this.palette.colors.length?this.invalidCategoryColor:this.palette.colors[t]}getPaletteIndex(t){return Math.floor(t)}async render(t,e){return new ch(t,this.plotModel).render(this,e)}getHighValue(t,e){return t>=this.palette.colors.length-1?this.clipMaximum:(e[t]+e[t+1])/2}getLowValue(t,e){return t===0?this.clipMinimum:(e[t-1]+e[t])/2}getElementDefaultValues(){return kh}}function Ah(i){return i.getDataPoint&&typeof i.getDataPoint=="function"}function jn(i){const t=[];return new Proxy(t,{deleteProperty:function(e,s){const n=e[s];return n&&n instanceof Cr&&(n.parent=void 0),delete e[s],!0},set:function(e,s,n,o){return e[s]=n,s==="length"||n&&n instanceof Cr&&(n.parent=i),!0}})}class Cn{constructor(t,e){h(this,"point"),h(this,"tolerance"),this.point=t,this.tolerance=e}}class vh{constructor(t){h(this,"view"),this.view=t}completed(t){}delta(t){}started(t){}}const Lr={selectionColor:f.Yellow},oa=class Dr{constructor(t){h(this,"selectionColor",Lr.selectionColor),h(this,"currentMouseEventElement"),h(this,"currentTouchEventElement"),h(this,"keyDown"),h(this,"mouseDown"),h(this,"mouseMove"),h(this,"mouseUp"),h(this,"mouseEnter"),h(this,"mouseLeave"),h(this,"touchStarted"),h(this,"touchDelta"),h(this,"touchCompleted"),this.selectionColor=f.Yellow,it(this,Lr,t)}hitTest(t){const e=this.getHitTestElements(),s=[];for(const n of e){const o=n.hitTest(t);o&&s.push(o)}return s}handleMouseDown(t,e){const s=new Cn(e.position,Dr.mouseHitTolerance);for(const n of this.hitTest(s)){e.hitTestResult=n;const o=n.element;if(o.onMouseDown(e),e.handled){this.currentMouseEventElement=o;return}}e.handled||this.onMouseDown(t,e)}handleMouseMove(t,e){this.currentMouseEventElement&&this.currentMouseEventElement.onMouseMove(e),e.handled||this.onMouseMove(t,e)}handleMouseUp(t,e){this.currentMouseEventElement&&(this.currentMouseEventElement.onMouseUp(e),this.currentMouseEventElement=void 0),e.handled||this.onMouseUp(t,e)}handleMouseEnter(t,e){e.handled||this.onMouseEnter(t,e)}handleMouseLeave(t,e){e.handled||this.onMouseLeave(t,e)}handleTouchStarted(t,e){const s=new Cn(e.position,Dr.mouseHitTolerance);for(const n of this.hitTest(s)){const o=n.element;if(o.onTouchStarted(e),e.handled){this.currentTouchEventElement=o;return}}e.handled||this.onTouchStarted(t,e)}handleTouchDelta(t,e){this.currentTouchEventElement&&this.currentTouchEventElement.onTouchDelta(e),e.handled||this.onTouchDelta(t,e)}handleTouchCompleted(t,e){this.currentTouchEventElement&&(this.currentTouchEventElement.onTouchCompleted(e),this.currentTouchEventElement=void 0),e.handled||this.onTouchCompleted(t,e)}handleKeyDown(t,e){for(const s of this.getHitTestElements())if(s.onKeyDown(e),e.handled)break;e.handled||this.onKeyDown(t,e)}onKeyDown(t,e){const s=this.keyDown;s&&s(t,e)}onMouseDown(t,e){const s=this.mouseDown;s&&s(t,e)}onMouseMove(t,e){const s=this.mouseMove;s&&s(t,e)}onMouseUp(t,e){const s=this.mouseUp;s&&s(t,e)}onMouseEnter(t,e){const s=this.mouseEnter;s&&s(t,e)}onMouseLeave(t,e){const s=this.mouseLeave;s&&s(t,e)}onTouchStarted(t,e){const s=this.touchStarted;s&&s(t,e)}onTouchDelta(t,e){const s=this.touchDelta;s&&s(t,e)}onTouchCompleted(t,e){const s=this.touchCompleted;s&&s(t,e)}};h(oa,"DefaultSelectionColor",f.Yellow);h(oa,"mouseHitTolerance",10);let Ir=oa;const Br=class Fr{constructor(){h(this,"selection",new Map)}static get Everything(){return Fr.EverythingSelection}isEverythingSelected(){return this===Fr.EverythingSelection}getSelectedItems(){return Array.from(this.selection.keys()).map(t=>t.Index)}getSelectedItemsByFeature(t){return Array.from(this.selection.keys()).filter(e=>e.Feature===t).map(e=>e.Index)}clear(){this.selection.clear()}isItemSelected(t,e=null){if(this.isEverythingSelected())return!0;const s=new pr(t,e);return this.hasSelection(s)}select(t,e){const s=new pr(t,e);this.setSelection(s,!0)}unselect(t,e){const s=new pr(t,e);if(!this.hasSelection(s))throw new Error(`Item ${t} and feature ${e} is not selected. Cannot unselect.`);this.deleteSelection(s)}getSameKey(t){for(const e of this.selection.keys())if(e.equals(t))return e}hasSelection(t){return!!this.getSameKey(t)}deleteSelection(t){const e=this.getSameKey(t);e&&this.selection.delete(e)}setSelection(t,e){const s=this.getSameKey(t)||t;this.selection.set(s,e)}};h(Br,"EverythingSelection",new Br);let el=Br;class pr{constructor(t,e){h(this,"index"),h(this,"feature"),this.index=t,this.feature=e}get Index(){return this.index}get Feature(){return this.feature}equals(t){return t.index===this.index&&t.feature===this.feature}}class ko{constructor(t,e){h(this,"gesture"),h(this,"command"),this.gesture=t,this.command=e}static fromKeyGesture(t,e,s){return new ko(new Ks(t,e),s)}static fromMouseGesture(t,e,s){return new ko(new Qi(t,e),s)}getGesture(){return this.gesture}getCommand(){return this.command}}class Rh{constructor(){h(this,"inputCommandBindings",[]),h(this,"mouseDownManipulators",[]),h(this,"mouseHoverManipulators",[]),h(this,"touchManipulators",[])}handleGesture(t,e,s){const n=this.getCommand(e);return this.handleCommand(n,t,s)}handleMouseDown(t,e){if(t.actualModel&&(t.actualModel.handleMouseDown(this,e),e.handled))return!0;const s=this.getCommand(new Qi(e.changedButton,e.modifierKeys,e.clickCount));return this.handleCommand(s,t,e)}handleMouseEnter(t,e){if(t.actualModel&&(t.actualModel.handleMouseEnter(this,e),e.handled))return!0;const s=this.getCommand(new Tn(e.modifierKeys));return this.handleCommand(s,t,e)}handleMouseLeave(t,e){if(t.actualModel&&(t.actualModel.handleMouseLeave(this,e),e.handled))return!0;for(const s of[...this.mouseHoverManipulators])s.completed(e),Gn(this.mouseHoverManipulators,s);return e.handled}handleMouseMove(t,e){if(t.actualModel&&(t.actualModel.handleMouseMove(this,e),e.handled))return!0;for(const s of this.mouseDownManipulators)s.delta(e);for(const s of this.mouseHoverManipulators)s.delta(e);return e.handled}handleMouseUp(t,e){if(t.actualModel&&(t.actualModel.handleMouseUp(this,e),e.handled))return!0;for(const s of[...this.mouseDownManipulators])s.completed(e),Gn(this.mouseDownManipulators,s);return e.handled}handleMouseWheel(t,e){const s=this.getCommand(new Pn(e.modifierKeys));return this.handleCommand(s,t,e)}handleTouchStarted(t,e){if(t.actualModel&&(t.actualModel.handleTouchStarted(this,e),e.handled))return!0;const s=this.getCommand(new Ln);return this.handleCommand(s,t,e)}handleTouchDelta(t,e){if(t.actualModel&&(t.actualModel.handleTouchDelta(this,e),e.handled))return!0;for(const s of this.touchManipulators)s.delta(e);return e.handled}handleTouchCompleted(t,e){if(t.actualModel&&(t.actualModel.handleTouchCompleted(this,e),e.handled))return!0;for(const s of[...this.touchManipulators])s.completed(e),Gn(this.touchManipulators,s);return e.handled}handleKeyDown(t,e){if(!t.actualModel)return!1;if(t.actualModel.handleKeyDown(this,e),e.handled)return!0;const s=this.getCommand(new Ks(e.key,e.modifierKeys));return this.handleCommand(s,t,e)}addMouseManipulator(t,e,s){this.mouseDownManipulators.push(e),e.started(s)}addHoverManipulator(t,e,s){this.mouseHoverManipulators.push(e),e.started(s)}addTouchManipulator(t,e,s){this.touchManipulators.push(e),e.started(s)}bindMouseDown(t,e){this.bindCore(t,e)}bindMouseEnter(t,e){this.bindCore(t,e)}bindMouseWheel(t,e){this.bindCore(t,e)}bindTouch(t,e){this.bindCore(t,e)}bindKey(t,e){this.bindCore(t,e)}unbindInput(t){ja(this.inputCommandBindings,e=>e.getGesture().equals(t))}unbindViewCommand(t){ja(this.inputCommandBindings,e=>e.getCommand()===t)}unbindAll(){this.inputCommandBindings.length=0}bindCore(t,e){const s=this.inputCommandBindings.find(n=>n.getGesture().equals(t));s&&Gn(this.inputCommandBindings,s),e&&this.inputCommandBindings.push(new ko(t,e))}getCommand(t){const e=this.inputCommandBindings.find(s=>s.getGesture().equals(t));return e?e.getCommand():void 0}handleCommand(t,e,s){return t?(t.execute(e,this,s),s.handled):!1}}class ft{static bindKeyDown(t,e,s,n=xt.None){t.bindKey(new Ks(e,n),s)}static bindMouseDown(t,e,s,n=xt.None,o=1){t.bindMouseDown(new Qi(e,n,o),s)}static bindTouchDown(t,e){t.bindTouch(new Ln,e)}static bindMouseEnter(t,e){t.bindMouseEnter(new Tn,e)}static bindMouseWheel(t,e,s=xt.None){t.bindMouseWheel(new Pn(s),e)}static unbindMouseDown(t,e,s=xt.None,n=1){t.unbindInput(new Qi(e,s,n))}static unbindKeyDown(t,e,s=xt.None){t.unbindInput(new Ks(e,s))}static unbindMouseEnter(t){t.unbindInput(new Tn)}static unbindTouchDown(t){t.unbindInput(new Ln)}static unbindMouseWheel(t){t.unbindInput(new Pn)}}class Ch{constructor(t){h(this,"handler"),this.handler=t}execute(t,e,s){this.handler(t,e,s)}}var De=(i=>(i[i.Png=0]="Png",i[i.Bmp=1]="Bmp",i[i.Jpeg=2]="Jpeg",i[i.Unknown=3]="Unknown",i))(De||{});class He{constructor(t){h(this,"_image"),h(this,"_hashCode"),this._image=t}static from(t){return new He(t)}get uri(){return this._image.uri}get format(){return this._image.format}get width(){return this._image.width}get height(){return this._image.height}get bitsPerPixel(){return this._image.bitsPerPixel}get dpiX(){return this._image.dpiX}get dpiY(){return this._image.dpiY}get data(){return this._image.data}static async create(t,e,s,n){const o=Qr(),r=t.height,a=t.width,u={pixels:t,palette:n,imageInfo:{width:a,height:r,bitsPerPixel:0,dpiX:s==null?void 0:s.dpiX,dpiY:s==null?void 0:s.dpiY,format:e}},m=await o.encode(u),p={...await o.getImageInfo(m),data:Array.from(m)};return p.width=a,p.height=r,p}static getImageFormat(t){return t.length>=2&&t[0]===255&&t[1]===216?De.Jpeg:t.length>=2&&t[0]===66&&t[1]===77?De.Bmp:t.length>=4&&t[0]===137&&t[1]===80&&t[2]===78&&t[3]===71?De.Png:De.Unknown}getHashCode(){return this._hashCode===void 0&&(this._hashCode=bl([...this._image.data])),this._hashCode}}var fe=(i=>(i[i.Space=0]="Space",i[i.Enter=1]="Enter",i[i.Escape=2]="Escape",i[i.Tab=3]="Tab",i[i.Backspace=4]="Backspace",i[i.Insert=5]="Insert",i[i.Delete=6]="Delete",i[i.Home=7]="Home",i[i.End=8]="End",i[i.Up=9]="Up",i[i.Down=10]="Down",i[i.Left=11]="Left",i[i.Right=12]="Right",i[i.PageUp=13]="PageUp",i[i.PageDown=14]="PageDown",i[i.A=15]="A",i[i.B=16]="B",i[i.C=17]="C",i[i.D=18]="D",i[i.E=19]="E",i[i.F=20]="F",i[i.G=21]="G",i[i.H=22]="H",i[i.I=23]="I",i[i.J=24]="J",i[i.K=25]="K",i[i.L=26]="L",i[i.M=27]="M",i[i.N=28]="N",i[i.O=29]="O",i[i.P=30]="P",i[i.Q=31]="Q",i[i.R=32]="R",i[i.S=33]="S",i[i.T=34]="T",i[i.U=35]="U",i[i.V=36]="V",i[i.W=37]="W",i[i.X=38]="X",i[i.Y=39]="Y",i[i.Z=40]="Z",i[i.D0=41]="D0",i[i.D1=42]="D1",i[i.D2=43]="D2",i[i.D3=44]="D3",i[i.D4=45]="D4",i[i.D5=46]="D5",i[i.D6=47]="D6",i[i.D7=48]="D7",i[i.D8=49]="D8",i[i.D9=50]="D9",i[i.NumPad0=51]="NumPad0",i[i.NumPad1=52]="NumPad1",i[i.NumPad2=53]="NumPad2",i[i.NumPad3=54]="NumPad3",i[i.NumPad4=55]="NumPad4",i[i.NumPad5=56]="NumPad5",i[i.NumPad6=57]="NumPad6",i[i.NumPad7=58]="NumPad7",i[i.NumPad8=59]="NumPad8",i[i.NumPad9=60]="NumPad9",i[i.Add=61]="Add",i[i.Subtract=62]="Subtract",i[i.Multiply=63]="Multiply",i[i.Divide=64]="Divide",i[i.Decimal=65]="Decimal",i[i.F1=66]="F1",i[i.F2=67]="F2",i[i.F3=68]="F3",i[i.F4=69]="F4",i[i.F5=70]="F5",i[i.F6=71]="F6",i[i.F7=72]="F7",i[i.F8=73]="F8",i[i.F9=74]="F9",i[i.F10=75]="F10",i[i.F11=76]="F11",i[i.F12=77]="F12",i[i.Unknown=78]="Unknown",i))(fe||{}),xt=(i=>(i[i.None=0]="None",i[i.Control=1]="Control",i[i.Alt=2]="Alt",i[i.Shift=4]="Shift",i[i.Windows=8]="Windows",i))(xt||{}),wt=(i=>(i[i.None=0]="None",i[i.Left=1]="Left",i[i.Middle=2]="Middle",i[i.Right=3]="Right",i[i.XButton1=4]="XButton1",i[i.XButton2=5]="XButton2",i))(wt||{});class Ks{constructor(t,e=xt.None){this.key=t,this.modifiers=e}equals(t){if(!(t instanceof Ks))return!1;const e=t;return e.modifiers===this.modifiers&&e.key===this.key}}class Qi{constructor(t,e=xt.None,s=1){this.mouseButton=t,this.modifiers=e,this.clickCount=s}equals(t){if(!(t instanceof Qi))return!1;const e=t;return e.modifiers===this.modifiers&&e.mouseButton===this.mouseButton&&e.clickCount===this.clickCount}}class Tn{constructor(t=xt.None){this.modifiers=t}equals(t){return t instanceof Tn?t.modifiers===this.modifiers:!1}}class Pn{constructor(t=xt.None){this.modifiers=t}equals(t){return t instanceof Pn?t.modifiers===this.modifiers:!1}}class ra{equals(t){return t instanceof ra}}class Ln{equals(t){return t instanceof Ln}}var gt=(i=>(i[i.Inside=0]="Inside",i[i.Outside=1]="Outside",i))(gt||{}),$=(i=>(i[i.TopLeft=0]="TopLeft",i[i.TopCenter=1]="TopCenter",i[i.TopRight=2]="TopRight",i[i.BottomLeft=3]="BottomLeft",i[i.BottomCenter=4]="BottomCenter",i[i.BottomRight=5]="BottomRight",i[i.LeftTop=6]="LeftTop",i[i.LeftMiddle=7]="LeftMiddle",i[i.LeftBottom=8]="LeftBottom",i[i.RightTop=9]="RightTop",i[i.RightMiddle=10]="RightMiddle",i[i.RightBottom=11]="RightBottom",i))($||{});const Th=i=>i===6||i===7||i===8,Ph=i=>i===9||i===10||i===11,Lh=i=>i===0||i===1||i===2,Dh=i=>i===3||i===4||i===5;var Pt=(i=>(i[i.Horizontal=0]="Horizontal",i[i.Vertical=1]="Vertical",i))(Pt||{}),aa=(i=>(i[i.Normal=0]="Normal",i[i.Reverse=1]="Reverse",i))(aa||{}),Hs=(i=>(i[i.Left=0]="Left",i[i.Right=1]="Right",i))(Hs||{});const Ft={isLegendVisible:!1,legendOrientation:0,legendPadding:0,legendSymbolLength:0,legendSymbolMargin:0,legendSymbolPlacement:0,legendTitleColor:f.Undefined,legendTitleFontSize:0,legendTitleFontWeight:0,legendBackground:f.Undefined,legendBorder:f.Undefined,legendBorderThickness:0,legendColumnSpacing:0,legendFontSize:0,legendFontWeight:0,legendItemAlignment:F.Left,legendItemOrder:0,legendItemSpacing:0,legendLineSpacing:0,legendMargin:0,legendMaxWidth:0,legendMaxHeight:0,legendPlacement:0,legendPosition:0,allowUseFullExtent:!1,showInvisibleSeries:!1,key:void 0,legendTitle:void 0,legendTitleFont:void 0,legendFont:void 0,legendTextColor:void 0},Ih={...Fo,...Ft};class Bh extends No{constructor(t){super(t),h(this,"key"),h(this,"isLegendVisible",Ft.isLegendVisible),h(this,"legendOrientation",Ft.legendOrientation),h(this,"legendPadding",Ft.legendPadding),h(this,"legendSymbolLength",Ft.legendSymbolLength),h(this,"legendSymbolMargin",Ft.legendSymbolMargin),h(this,"legendSymbolPlacement",Ft.legendSymbolPlacement),h(this,"legendTitle"),h(this,"legendTitleColor",Ft.legendTitleColor),h(this,"legendTitleFont"),h(this,"legendTitleFontSize",Ft.legendTitleFontSize),h(this,"legendTitleFontWeight",Ft.legendTitleFontWeight),h(this,"legendArea",Ae),h(this,"legendSize",Ae),h(this,"legendBackground",Ft.legendBackground),h(this,"legendBorder",Ft.legendBorder),h(this,"legendBorderThickness",Ft.legendBorderThickness),h(this,"legendColumnSpacing",Ft.legendColumnSpacing),h(this,"legendFont"),h(this,"legendFontSize",Ft.legendFontSize),h(this,"legendTextColor"),h(this,"legendFontWeight",Ft.legendFontWeight),h(this,"legendItemAlignment",Ft.legendItemAlignment),h(this,"legendItemOrder",Ft.legendItemOrder),h(this,"legendItemSpacing",Ft.legendItemSpacing),h(this,"legendLineSpacing",Ft.legendLineSpacing),h(this,"legendMargin",Ft.legendMargin),h(this,"legendMaxWidth",Ft.legendMaxWidth),h(this,"legendMaxHeight",Ft.legendMaxHeight),h(this,"legendPlacement",Ft.legendPlacement),h(this,"legendPosition",Ft.legendPosition),h(this,"allowUseFullExtent",Ft.allowUseFullExtent),h(this,"showInvisibleSeries",Ft.showInvisibleSeries),it(this,Ft,t)}hitTestOverride(t){return this.legendHitTest(t)}}const ao={isLegendVisible:!0,groupNameFontWeight:ne.Normal,groupNameFontSize:NaN,legendTitleFontSize:NaN,legendTitleFontWeight:ne.Bold,legendFontSize:NaN,legendFontWeight:ne.Normal,legendSymbolLength:16,legendSymbolMargin:4,legendPadding:8,legendColumnSpacing:8,legendItemSpacing:24,legendLineSpacing:0,legendMargin:8,legendBackground:f.Undefined,legendBorder:f.Undefined,legendBorderThickness:1,legendTextColor:f.Automatic,legendTitleColor:f.Automatic,legendMaxWidth:NaN,legendMaxHeight:NaN,legendPlacement:gt.Inside,legendPosition:$.RightTop,legendOrientation:Pt.Vertical,legendItemOrder:aa.Normal,legendItemAlignment:F.Left,legendSymbolPlacement:Hs.Left,showInvisibleSeries:!0,seriesInvisibleTextColor:M.fromAColor(64,f.Black),selectable:!0,selectionMode:Ni.Single,groupNameFont:void 0},Fh={...Ih,...ao};class X extends Bh{constructor(t){super(t),h(this,"_legendBox",Ae),h(this,"_seriesPosMap",new Map),h(this,"groupNameFont"),h(this,"groupNameFontSize",ao.groupNameFontSize),h(this,"groupNameFontWeight",ao.groupNameFontWeight),h(this,"seriesInvisibleTextColor",M.fromAColor(64,f.Black)),it(this,ao,t),!(t!=null&&t.seriesInvisibleTextColor)&&this.legendTextColor&&(this.seriesInvisibleTextColor=M.fromAColor(64,this.legendTextColor))}getElementName(){return"Legend"}legendHitTest(t){if(!this.isLegendVisible||!this.plotModel.isLegendVisible)return;const e=t.point;if(this.isPointInLegend(e)&&this._seriesPosMap&&this._seriesPosMap.size>0){for(const[s,n]of this._seriesPosMap)if(P.containsPoint(n,e)&&this.showInvisibleSeries){s.isVisible=!s.isVisible,this.plotModel.invalidatePlot(!1);break}}}isPointInLegend(t){return P.containsPoint(this._legendBox,t)}ensureLegendProperties(){switch(this.legendPosition){case $.LeftTop:case $.LeftMiddle:case $.LeftBottom:case $.RightTop:case $.RightMiddle:case $.RightBottom:this.legendOrientation===Pt.Horizontal&&(this.legendOrientation=Pt.Vertical);break}}async renderLegends(t){await this.renderOrMeasureLegends(t,this.legendArea)}async getLegendSize(t,e){const s=e.width,n=e.height;let o=await this.measureLegends(t,bt(Math.max(0,s),Math.max(0,n)));return o=bt(Math.max(0,o.width),Math.max(0,o.height)),o}getLegendRectangle(t){let e=0,s=0;if(this.legendPlacement===gt.Outside){const n=Jt.fromRect(this.plotModel.plotAndAxisArea);switch(this.legendPosition){case $.LeftTop:case $.LeftMiddle:case $.LeftBottom:s=n.left-t.width-this.legendMargin;break;case $.RightTop:case $.RightMiddle:case $.RightBottom:s=n.right+this.legendMargin;break;case $.TopLeft:case $.TopCenter:case $.TopRight:e=n.top-t.height-this.legendMargin;break;case $.BottomLeft:case $.BottomCenter:case $.BottomRight:e=n.bottom+this.legendMargin;break}const o=Jt.fromRect(this.allowUseFullExtent?this.plotModel.plotAndAxisArea:this.plotModel.plotArea);switch(this.legendPosition){case $.TopLeft:case $.BottomLeft:s=o.left;break;case $.TopRight:case $.BottomRight:s=o.right-t.width;break;case $.LeftTop:case $.RightTop:e=o.top;break;case $.LeftBottom:case $.RightBottom:e=o.bottom-t.height;break;case $.LeftMiddle:case $.RightMiddle:e=(o.top+o.bottom-t.height)*.5;break;case $.TopCenter:case $.BottomCenter:s=(o.left+o.right-t.width)*.5;break}}else{const n=Jt.fromRect(this.plotModel.plotArea);switch(this.legendPosition){case $.LeftTop:case $.LeftMiddle:case $.LeftBottom:s=n.left+this.legendMargin;break;case $.RightTop:case $.RightMiddle:case $.RightBottom:s=n.right-t.width-this.legendMargin;break;case $.TopLeft:case $.TopCenter:case $.TopRight:e=n.top+this.legendMargin;break;case $.BottomLeft:case $.BottomCenter:case $.BottomRight:e=n.bottom-t.height-this.legendMargin;break}switch(this.legendPosition){case $.TopLeft:case $.BottomLeft:s=n.left+this.legendMargin;break;case $.TopRight:case $.BottomRight:s=n.right-t.width-this.legendMargin;break;case $.LeftTop:case $.RightTop:e=this.plotModel.plotArea.top+this.legendMargin;break;case $.LeftBottom:case $.RightBottom:e=n.bottom-t.height-this.legendMargin;break;case $.LeftMiddle:case $.RightMiddle:e=(n.top+n.bottom-t.height)*.5;break;case $.TopCenter:case $.BottomCenter:s=(n.left+n.right-t.width)*.5;break}}return J(s,e,t.width,t.height)}async renderLegend(t,e,s){let n=this.legendItemAlignment;this.legendOrientation===Pt.Horizontal&&(n=F.Left);let o=s.left;const r=P.right(s);switch(n){case F.Center:o=(s.left+r)/2,this.legendSymbolPlacement===Hs.Left?o-=(this.legendSymbolLength+this.legendSymbolMargin)/2:o-=(this.legendSymbolLength+this.legendSymbolMargin)/2;break;case F.Right:o=r,this.legendSymbolPlacement===Hs.Right&&(o-=this.legendSymbolLength+this.legendSymbolMargin);break}this.legendSymbolPlacement===Hs.Left&&(o+=this.legendSymbolLength+this.legendSymbolMargin);const a=s.top,u=bt(Math.max(s.width-this.legendSymbolLength-this.legendSymbolMargin,0),s.height),m=isNaN(this.legendFontSize)?this.plotModel.defaultFontSize:this.legendFontSize;let c=e.isVisible?this.legendTextColor:this.seriesInvisibleTextColor;c=c||f.Black,t.setToolTip(e.toolTip);const p=await xe.drawMathText(t,R(o,a),e.title||"",M.getActualColor(c,this.plotModel.textColor),this.legendFont??this.plotModel.defaultFont,m,this.legendFontWeight,0,n,N.Top,u,!0);this._seriesPosMap.set(e,P.fromScreenPointAndSize(R(o,a),p));let x=o;switch(n){case F.Center:x=o-p.width*.5;break;case F.Right:x=o-p.width;break}if(e.isVisible){const w=J(this.legendSymbolPlacement===Hs.Right?x+p.width+this.legendSymbolMargin:x-this.legendSymbolMargin-this.legendSymbolLength,s.top,this.legendSymbolLength,p.height);await e.renderLegend(t,w)}t.setToolTip(void 0)}measureLegends(t,e){return this.renderOrMeasureLegends(t,J(0,0,e.width,e.height),!0)}async renderOrMeasureLegends(t,e,s=!1){if(!s&&e.width>0&&e.height>0){this._legendBox=e;const I=O.getActualEdgeRenderingMode(this.edgeRenderingMode,U.PreferSharpness);await t.drawRectangle(e,this.legendBackground,this.legendBorder,this.legendBorderThickness,I)}const n=e.width,o=e.height;let r=this.legendPadding,a=this.legendPadding,u=ks;const m=isNaN(this.legendFontSize)?this.plotModel.defaultFontSize:this.legendFontSize,c=isNaN(this.legendTitleFontSize)?m:this.legendTitleFontSize,p=isNaN(this.groupNameFontSize)?m:this.groupNameFontSize;if(this.legendTitle){let I;s?I=await xe.measureMathText(t,this.legendTitle,this.legendTitleFont??this.plotModel.defaultFont,c,this.legendTitleFontWeight):I=await xe.drawMathText(t,R(e.left+r,e.top+a),this.legendTitle,M.getActualColor(this.legendTitleColor,this.plotModel.textColor),this.legendTitleFont??this.plotModel.defaultFont,c,this.legendTitleFontWeight,0,F.Left,N.Top,void 0,!0),a+=I.height,u=bt(r+I.width+this.legendPadding,a+I.height)}let x=a,w=0;const S=.001;let k=0;const A=$s(this.plotModel.series),C=this.legendItemOrder===aa.Reverse?A.filter(I=>I.renderInLegend&&I.legendKey===this.key):this.plotModel.series.filter(I=>I.renderInLegend&&I.legendKey===this.key),T=[];for(const I of C)T.includes(I.seriesGroupName||"")||T.push(I.seriesGroupName||"");this._seriesPosMap.clear();const D=new Map,B=async()=>{const I=[];for(const[_,z]of D){if(_.seriesGroupName&&!I.includes(_.seriesGroupName)){I.push(_.seriesGroupName);const et=await xe.measureMathText(t,_.seriesGroupName,this.groupNameFont??this.plotModel.defaultFont,p,this.groupNameFontWeight);let pt=z.top,ie=z.left;this.legendOrientation===Pt.Vertical?pt-=et.height+this.legendLineSpacing/2:ie-=et.width+this.legendItemSpacing/2,await xe.drawMathText(t,R(ie,pt),_.seriesGroupName,M.getActualColor(this.legendTitleColor,this.plotModel.textColor),this.groupNameFont??this.plotModel.defaultFont,p,this.groupNameFontWeight,0,F.Left,N.Top,void 0,!0)}let E=n;z.left+E+this.legendPadding>e.left+n&&(E=e.left+n-z.left-this.legendPadding);let Y=z.height;e.top+Y+this.legendPadding>e.top+o&&(Y=e.top+o-e.top-this.legendPadding);const At=J(z.left,z.top,Math.max(E,0),Math.max(Y,0));await this.renderLegend(t,_,At)}I.length=0,D.clear()};s||t.pushClip(e);for(const I of T){const _=C.filter(Y=>(Y.seriesGroupName||"")===I);let z=ks;_.length>0&&I&&(z=await xe.measureMathText(t,I,this.groupNameFont??this.plotModel.defaultFont,p,this.groupNameFontWeight),this.legendOrientation===Pt.Vertical?x+=z.height:r+=z.width);let E=0;for(const Y of _){if(!Y.title||!Y.renderInLegend||!Y.isVisible&&!this.showInvisibleSeries)continue;const At=await xe.measureMathText(t,Y.title,this.legendFont??this.plotModel.defaultFont,m,this.legendFontWeight),et=this.legendSymbolLength+this.legendSymbolMargin+At.width,pt=At.height;this.legendOrientation===Pt.Horizontal?(r>this.legendPadding&&(r+=this.legendItemSpacing),r+et>n-this.legendPadding+S&&(r=this.legendPadding,E===0&&z.width>0&&(r+=z.width+this.legendItemSpacing),x+=w+this.legendLineSpacing,w=0),w=Math.max(w,At.height),s||D.set(Y,J(e.left+r,e.top+x,et,pt)),r+=et,r=Math.max(z.width,r),u=bt(Math.max(u.width,r),Math.max(u.height,x+At.height))):(x+pt>o-this.legendPadding+S&&(await B(),x=a+z.height,r+=k+this.legendColumnSpacing,k=0),s||D.set(Y,J(e.left+r,e.top+x,et,pt)),x+=pt+this.legendLineSpacing,k=Math.max(k,et),u=bt(Math.max(u.width,r+et),Math.max(u.height,x))),E++}await B()}return s||t.popClip(),u.width>0&&(u=bt(u.width+this.legendPadding,u.height)),u.height>0&&(u=bt(u.width,u.height+this.legendPadding)),u.width>n&&(u=bt(n,u.height)),u.height>o&&(u=bt(u.width,o)),!isNaN(this.legendMaxWidth)&&u.width>this.legendMaxWidth&&(u=bt(this.legendMaxWidth,u.height)),!isNaN(this.legendMaxHeight)&&u.height>this.legendMaxHeight&&(u=bt(u.width,this.legendMaxHeight)),u}getElementDefaultValues(){return Fh}}class Nr{static isAltDown(t){return(t.modifierKeys&xt.Alt)===xt.Alt}static isControlDown(t){return(t.modifierKeys&xt.Control)===xt.Control}static isShiftDown(t){return(t.modifierKeys&xt.Shift)===xt.Shift}}class Wt{constructor(t){h(this,"dataPoint"),h(this,"item"),h(this,"index",0),h(this,"lineExtents"),h(this,"plotModel"),h(this,"position"),h(this,"series"),h(this,"text"),t&&Object.assign(this,xi(t))}get xAxis(){return!this.series||!(this.series instanceof Vt)?void 0:this.series.xAxis}get yAxis(){return!this.series||!(this.series instanceof Vt)?void 0:this.series.yAxis}toString(){return this.text?this.text.trim():""}}var Us=(i=>(i[i.None=0]="None",i[i.X=1]="X",i[i.Y=2]="Y",i))(Us||{});class Ol extends vh{constructor(t){super(t),h(this,"plotView"),h(this,"axisPreference",Us.None),h(this,"xAxis"),h(this,"yAxis"),this.plotView=t}inverseTransform(t,e){return this.xAxis?this.xAxis.inverseTransformPoint(t,e,this.yAxis):this.yAxis?d(0,this.yAxis.inverseTransform(e)):Ki}assignAxes(t){let e,s;this.plotView.actualModel?([e,s]=this.plotView.actualModel.getAxesFromPoint(t),this.axisPreference!==Us.None&&P.containsPoint(this.plotView.actualModel.plotArea,t)&&(this.axisPreference===Us.X?e&&(s=void 0):this.axisPreference===Us.Y&&s&&(e=void 0))):(e=void 0,s=void 0),this.xAxis=e,this.yAxis=s}}class $o extends Ol{constructor(t){super(t),h(this,"startPosition")}started(t){this.assignAxes(t.position),this.startPosition=t.position}}class _r extends $o{constructor(t,e,s){super(t),h(this,"fineControl"),h(this,"step"),this.step=e,this.fineControl=s}started(t){if(super.started(t),!(this.xAxis&&this.xAxis.isZoomEnabled||this.yAxis&&this.yAxis.isZoomEnabled))return;const s=this.inverseTransform(t.position.x,t.position.y);let n=this.step;this.fineControl&&(n*=3),n>0?n=1+n:n=1/(1-n),this.xAxis&&this.xAxis.zoomAt(n,s.x),this.yAxis&&this.yAxis.zoomAt(n,s.y),this.plotView.invalidatePlot(!1),t.handled=!0}}class Nh extends $o{constructor(t){super(t),h(this,"previousPosition",Fe),h(this,"isPanEnabled",!1)}completed(t){super.completed(t),this.isPanEnabled&&(this.view.setCursorType(ni.Default),t.handled=!0)}delta(t){super.delta(t),this.isPanEnabled&&(this.xAxis&&this.xAxis.pan(this.previousPosition,t.position),this.yAxis&&this.yAxis.pan(this.previousPosition,t.position),this.plotView.invalidatePlot(!1),this.previousPosition=t.position,t.handled=!0)}started(t){super.started(t),this.previousPosition=t.position,this.isPanEnabled=!!(this.xAxis&&this.xAxis.isPanEnabled||this.yAxis&&this.yAxis.isPanEnabled),this.isPanEnabled&&(this.view.setCursorType(ni.Pan),t.handled=!0)}}class _h extends $o{constructor(t){super(t),h(this,"zoomRectangle",Ae),h(this,"isZoomEnabled",!1)}completed(t){if(super.completed(t),!!this.isZoomEnabled){if(this.plotView.setCursorType(ni.Default),this.plotView.hideZoomRectangle(),this.zoomRectangle.width>10&&this.zoomRectangle.height>10){const e=this.inverseTransform(this.zoomRectangle.left,this.zoomRectangle.top),s=this.inverseTransform(P.right(this.zoomRectangle),P.bottom(this.zoomRectangle));this.xAxis&&this.xAxis.zoom(e.x,s.x),this.yAxis&&this.yAxis.zoom(e.y,s.y),this.plotView.invalidatePlot()}t.handled=!0}}delta(t){if(super.delta(t),!this.plotView.actualModel||!this.isZoomEnabled||!this.startPosition)return;const e=this.plotView.actualModel.plotArea;let s=Math.min(this.startPosition.x,t.position.x),n=Math.abs(this.startPosition.x-t.position.x),o=Math.min(this.startPosition.y,t.position.y),r=Math.abs(this.startPosition.y-t.position.y);(this.xAxis===void 0||!this.xAxis.isZoomEnabled)&&(s=e.left,n=e.width),(this.yAxis===void 0||!this.yAxis.isZoomEnabled)&&(o=e.top,r=e.height),this.zoomRectangle=J(s,o,n,r),this.plotView.showZoomRectangle(this.zoomRectangle),t.handled=!0}started(t){super.started(t),this.isZoomEnabled=!!(this.xAxis&&this.xAxis.isZoomEnabled||this.yAxis&&this.yAxis.isZoomEnabled),this.isZoomEnabled&&this.startPosition&&(this.zoomRectangle=J(this.startPosition.x,this.startPosition.y,0,0),this.plotView.showZoomRectangle(this.zoomRectangle),this.plotView.setCursorType(this.getCursorType()),t.handled=!0)}getCursorType(){return this.xAxis===void 0?ni.ZoomVertical:this.yAxis===void 0?ni.ZoomHorizontal:ni.ZoomRectangle}}class $l extends Ol{constructor(t){super(t),h(this,"setHandledForPanOrZoom"),h(this,"isPanEnabled",!1),h(this,"isZoomEnabled",!1),this.setHandledForPanOrZoom=!0}completed(t){super.completed(t),this.setHandledForPanOrZoom&&(t.handled=t.handled||this.isPanEnabled||this.isZoomEnabled)}delta(t){if(super.delta(t),!this.isPanEnabled&&!this.isZoomEnabled)return;const e=t.position,s=ze(e,t.deltaTranslation);this.xAxis&&this.xAxis.pan(s,e),this.yAxis&&this.yAxis.pan(s,e);const n=this.inverseTransform(e.x,e.y);this.xAxis&&this.xAxis.zoomAt(t.deltaScale.x,n.x),this.yAxis&&this.yAxis.zoomAt(t.deltaScale.y,n.y),this.plotView.invalidatePlot(!1),t.handled=!0}started(t){this.assignAxes(t.position),super.started(t),this.setHandledForPanOrZoom&&(this.isPanEnabled=!!(this.xAxis&&this.xAxis.isPanEnabled||this.yAxis&&this.yAxis.isPanEnabled),this.isZoomEnabled=!!(this.xAxis&&this.xAxis.isZoomEnabled||this.yAxis&&this.yAxis.isZoomEnabled),t.handled=t.handled||this.isPanEnabled||this.isZoomEnabled)}}class fs extends $o{constructor(t,e){super(t),h(this,"currentSeries"),h(this,"pointsOnly"),h(this,"snap"),h(this,"lockToInitialSeries"),h(this,"firesDistance"),h(this,"checkDistanceBetweenPoints"),h(this,"isTrackAnnotations",!0),this.snap=!0,this.pointsOnly=!1,this.lockToInitialSeries=!0,this.firesDistance=20,this.checkDistanceBetweenPoints=!1,this.isTrackAnnotations=!0,e&&Object.assign(this,xi(e))}completed(t){super.completed(t),t.handled=!0,this.currentSeries=void 0,this.plotView.hideTracker(),this.plotView.actualModel&&this.plotView.actualModel.raiseTrackerChanged(void 0)}delta(t){var e;if(super.delta(t),t.handled=!0,(!this.currentSeries||!this.lockToInitialSeries)&&(this.currentSeries=(e=this.plotView.actualModel)==null?void 0:e.getSeriesFromPoint(t.position,this.firesDistance)),!this.currentSeries){this.lockToInitialSeries||this.plotView.hideTracker(),this.isTrackAnnotations&&this.trackAnnotations(t.position);return}const s=this.plotView.actualModel;if(!s||!P.contains(s.plotArea,t.position.x,t.position.y))return;const n=xu.getNearestHit(this.currentSeries,t.position,this.snap,this.pointsOnly,this.firesDistance,this.checkDistanceBetweenPoints);n&&(n.plotModel=this.plotView.actualModel,this.plotView.showTracker(n),this.plotView.actualModel.raiseTrackerChanged(n))}started(t){var e;super.started(t),this.currentSeries=(e=this.plotView.actualModel)==null?void 0:e.getSeriesFromPoint(t.position,this.firesDistance),this.delta(t)}trackAnnotations(t){const e=this.plotView.actualModel;for(const s of e.annotations.filter(n=>n.toolTip).reverse()){if(!s.toolTip)continue;const n=new Cn(t,this.firesDistance);if(!s.hitTest(n))continue;const r=s.inverseTransform(t),a=new Wt({position:t,dataPoint:r,text:s.toolTip,plotModel:this.plotView.actualModel});this.plotView.showTracker(a),e.raiseTrackerChanged(a);break}}}class Vr extends $l{constructor(t,e){super(t),h(this,"currentSeries"),h(this,"pointsOnly"),h(this,"snap"),h(this,"lockToInitialSeries"),h(this,"firesDistance"),h(this,"checkDistanceBetweenPoints"),this.snap=!0,this.pointsOnly=!1,this.lockToInitialSeries=!0,this.firesDistance=20,this.checkDistanceBetweenPoints=!1,this.setHandledForPanOrZoom=!1,e&&Object.assign(this,xi(e))}completed(t){super.completed(t),this.currentSeries=void 0,this.plotView.hideTracker(),this.plotView.actualModel&&this.plotView.actualModel.raiseTrackerChanged(void 0)}delta(t){super.delta(t),this.plotView.hideTracker()}started(t){var e;super.started(t),this.currentSeries=(e=this.plotView.actualModel)==null?void 0:e.getSeriesFromPoint(t.position,this.firesDistance),this.updateTracker(t.position)}updateTracker(t){var e;if((!this.currentSeries||!this.lockToInitialSeries)&&(this.currentSeries=(e=this.plotView.actualModel)==null?void 0:e.getSeriesFromPoint(t,this.firesDistance)),!this.currentSeries){this.lockToInitialSeries||this.plotView.hideTracker();return}const s=this.plotView.actualModel;if(!s||!P.contains(s.plotArea,t.x,t.y))return;const n=xu.getNearestHit(this.currentSeries,t,this.snap,this.pointsOnly,this.firesDistance,this.checkDistanceBetweenPoints);n&&(n.plotModel=this.plotView.actualModel,this.plotView.showTracker(n),this.plotView.actualModel.raiseTrackerChanged(n))}}class kt extends Ch{constructor(t){super((e,s,n)=>t(e,s,n))}}class q{static init(){this.reset=new kt((t,e,s)=>this.handleReset(t,s)),this.resetAt=new kt((t,e,s)=>this.handleReset(t,s)),this.panAt=new kt((t,e,s)=>e.addMouseManipulator(t,new Nh(t),s)),this.zoomRectangle=new kt((t,e,s)=>e.addMouseManipulator(t,new _h(t),s)),this.track=new kt((t,e,s)=>e.addMouseManipulator(t,new fs(t,{snap:!1,pointsOnly:!1}),s)),this.snapTrack=new kt((t,e,s)=>e.addMouseManipulator(t,new fs(t,{snap:!0,pointsOnly:!1}),s)),this.pointsOnlyTrack=new kt((t,e,s)=>e.addMouseManipulator(t,new fs(t,{snap:!1,pointsOnly:!0}),s)),this.zoomWheel=new kt((t,e,s)=>this.handleZoomByWheel(t,s)),this.zoomWheelFine=new kt((t,e,s)=>this.handleZoomByWheel(t,s,.1)),this.zoomInAt=new kt((t,e,s)=>this.handleZoomAt(t,s,.05)),this.zoomOutAt=new kt((t,e,s)=>this.handleZoomAt(t,s,-.05)),this.hoverTrack=new kt((t,e,s)=>e.addHoverManipulator(t,new fs(t,{lockToInitialSeries:!1,snap:!1,pointsOnly:!1}),s)),this.hoverSnapTrack=new kt((t,e,s)=>e.addHoverManipulator(t,new fs(t,{lockToInitialSeries:!1,snap:!0,pointsOnly:!1}),s)),this.hoverPointsOnlyTrack=new kt((t,e,s)=>e.addHoverManipulator(t,new fs(t,{lockToInitialSeries:!1,snap:!1,pointsOnly:!0}),s)),this.snapTrackTouch=new kt((t,e,s)=>e.addTouchManipulator(t,new Vr(t,{snap:!0,pointsOnly:!1}),s)),this.pointsOnlyTrackTouch=new kt((t,e,s)=>e.addTouchManipulator(t,new Vr(t,{snap:!0,pointsOnly:!0}),s)),this.panZoomByTouch=new kt((t,e,s)=>e.addTouchManipulator(t,new $l(t),s)),this.panLeft=new kt((t,e,s)=>this.handlePan(t,s,-.1,0)),this.panRight=new kt((t,e,s)=>this.handlePan(t,s,.1,0)),this.panUp=new kt((t,e,s)=>this.handlePan(t,s,0,-.1)),this.panDown=new kt((t,e,s)=>this.handlePan(t,s,0,.1)),this.panLeftFine=new kt((t,e,s)=>this.handlePan(t,s,-.01,0)),this.panRightFine=new kt((t,e,s)=>this.handlePan(t,s,.01,0)),this.panUpFine=new kt((t,e,s)=>this.handlePan(t,s,0,-.01)),this.panDownFine=new kt((t,e,s)=>this.handlePan(t,s,0,.01)),this.zoomIn=new kt((t,e,s)=>this.handleZoomCenter(t,s,1)),this.zoomOut=new kt((t,e,s)=>this.handleZoomCenter(t,s,-1)),this.zoomInFine=new kt((t,e,s)=>this.handleZoomCenter(t,s,.1)),this.zoomOutFine=new kt((t,e,s)=>this.handleZoomCenter(t,s,-.1))}static handleReset(t,e){t.actualModel&&(e.handled=!0,t.actualModel.resetAllAxes(),t.invalidatePlot(!1))}static handleZoomAt(t,e,s){const n=Nr.isControlDown(e);new _r(t,s,n).started(e)}static handleZoomByWheel(t,e,s=1){const n=Nr.isControlDown(e);new _r(t,e.delta*.001*s,n).started(e)}static handleZoomCenter(t,e,s){t.actualModel&&(e.handled=!0,t.actualModel.zoomAllAxes(1+s*.12),t.invalidatePlot(!1))}static handlePan(t,e,s,n){t.actualModel&&(e.handled=!0,s*=t.actualModel.plotArea.width,n*=t.actualModel.plotArea.height,t.actualModel.panAllAxes(s,n),t.invalidatePlot(!1))}}h(q,"reset");h(q,"resetAt");h(q,"panZoomByTouch");h(q,"panAt");h(q,"zoomRectangle");h(q,"zoomWheel");h(q,"zoomWheelFine");h(q,"track");h(q,"snapTrack");h(q,"snapTrackTouch");h(q,"pointsOnlyTrack");h(q,"pointsOnlyTrackTouch");h(q,"hoverTrack");h(q,"hoverSnapTrack");h(q,"hoverPointsOnlyTrack");h(q,"panLeft");h(q,"panRight");h(q,"panUp");h(q,"panDown");h(q,"panLeftFine");h(q,"panRightFine");h(q,"panUpFine");h(q,"panDownFine");h(q,"zoomInAt");h(q,"zoomOutAt");h(q,"zoomIn");h(q,"zoomOut");h(q,"zoomInFine");h(q,"zoomOutFine");q.init();class as extends Rh{constructor(){super(),ft.bindMouseDown(this,wt.Middle,q.zoomRectangle),ft.bindMouseDown(this,wt.Right,q.zoomRectangle,xt.Control),ft.bindMouseDown(this,wt.Left,q.zoomRectangle,xt.Control|xt.Alt),ft.bindMouseDown(this,wt.Middle,q.resetAt,xt.None,2),ft.bindMouseDown(this,wt.Right,q.resetAt,xt.Control,2),ft.bindMouseDown(this,wt.Left,q.resetAt,xt.Control|xt.Alt,2),ft.bindKeyDown(this,fe.A,q.reset),ft.bindKeyDown(this,fe.Home,q.reset),this.bindCore(new ra,q.reset),ft.bindMouseDown(this,wt.Right,q.panAt),ft.bindMouseDown(this,wt.Left,q.panAt,xt.Alt),ft.bindKeyDown(this,fe.Left,q.panLeft),ft.bindKeyDown(this,fe.Right,q.panRight),ft.bindKeyDown(this,fe.Up,q.panUp),ft.bindKeyDown(this,fe.Down,q.panDown),ft.bindKeyDown(this,fe.Left,q.panLeftFine,xt.Control),ft.bindKeyDown(this,fe.Right,q.panRightFine,xt.Control),ft.bindKeyDown(this,fe.Up,q.panUpFine,xt.Control),ft.bindKeyDown(this,fe.Down,q.panDownFine,xt.Control),ft.bindTouchDown(this,q.panZoomByTouch),ft.bindMouseDown(this,wt.Left,q.snapTrack),ft.bindMouseDown(this,wt.Left,q.track,xt.Control),ft.bindMouseDown(this,wt.Left,q.pointsOnlyTrack,xt.Shift),ft.bindTouchDown(this,q.snapTrackTouch),ft.bindMouseDown(this,wt.XButton1,q.zoomInAt),ft.bindMouseDown(this,wt.XButton2,q.zoomOutAt),ft.bindMouseWheel(this,q.zoomWheel),ft.bindMouseWheel(this,q.zoomWheelFine,xt.Control),ft.bindKeyDown(this,fe.Add,q.zoomIn),ft.bindKeyDown(this,fe.Subtract,q.zoomOut),ft.bindKeyDown(this,fe.PageUp,q.zoomIn),ft.bindKeyDown(this,fe.PageDown,q.zoomOut),ft.bindKeyDown(this,fe.Add,q.zoomInFine,xt.Control),ft.bindKeyDown(this,fe.Subtract,q.zoomOutFine,xt.Control),ft.bindKeyDown(this,fe.PageUp,q.zoomInFine,xt.Control),ft.bindKeyDown(this,fe.PageDown,q.zoomOutFine,xt.Control)}}function il(i){return i instanceof Object&&"__isTransposable"in i}function Gl(i){i.__isTransposable=!0}class tt{static inverseTransform(t,e,s){return t.inverseTransform(R(e,s))}static isTransposed(t){return t.xAxis.isVertical()}static orientate(t,e){return tt.isTransposed(t)?R(e.y,e.x):e}static orientateVector(t,e){return e=It(t.xAxis.isReversed?-e.x:e.x,t.yAxis.isReversed?-e.y:e.y),tt.isTransposed(t)?It(-e.y,-e.x):e}static orientateAlignment(t,e,s){if(t.xAxis.isReversed&&(e=-e),t.yAxis.isReversed&&(s=-s),tt.isTransposed(t)){const n=-s;s=-e,e=n}return[e,s]}static transform(t,e,s){return t.transform(d(e,s))}}class Ei{static getClippingRect(t){const e=P.fromScreenPoints(t.xAxis.screenMin,t.xAxis.screenMax),s=P.fromScreenPoints(t.yAxis.screenMin,t.yAxis.screenMax);return P.intersect(e,s)}static inverseTransform(t,e){return t.xAxis.inverseTransformPoint(e.x,e.y,t.yAxis)}static inverseTransformOrientated(t,e){return this.inverseTransform(t,tt.orientate(t,e))}static transform(t,e){return t.xAxis.transformPoint(e.x,e.y,t.yAxis)}static transformOrientated(t,e){return tt.orientate(t,this.transform(t,e))}}var mt=(i=>(i[i.XY=0]="XY",i[i.Cartesian=1]="Cartesian",i[i.Polar=2]="Polar",i))(mt||{}),Hl=(i=>(i[i.CenteredWithinPlotArea=0]="CenteredWithinPlotArea",i[i.CenteredWithinView=1]="CenteredWithinView",i))(Hl||{});const jt={plotType:0,plotMargins:K(NaN),padding:K(8),background:f.Undefined,plotAreaBackground:f.Undefined,textColor:f.Black,titleColor:f.Automatic,subtitleColor:f.Automatic,defaultFont:"Segoe UI",defaultFontSize:12,titleToolTip:void 0,titleFont:void 0,titleFontSize:18,titleFontWeight:ne.Bold,subtitleFont:void 0,subtitleFontSize:14,subtitleFontWeight:ne.Normal,titlePadding:6,clipTitle:!0,titleClippingLength:.9,plotAreaBorderColor:f.Black,plotAreaBorderThickness:K(1),edgeRenderingMode:U.Automatic,assignColorsToInvisibleSeries:!0,isLegendVisible:!0,axisTierDistance:4,title:void 0,subtitle:void 0,titleHorizontalAlignment:0,defaultColors:[M.fromRgb(78,154,6),M.fromRgb(200,141,0),M.fromRgb(204,0,0),M.fromRgb(32,74,135),f.Red,f.Orange,f.Yellow,f.Green,f.Blue,f.Indigo,f.Violet]},Vh={...Lr,...jt};class b extends Ir{constructor(t){super(t),h(this,"_barSeriesManagers",[]),h(this,"_plotViewReference"),h(this,"_currentColorIndex",0),h(this,"_isDataUpdated",!1),h(this,"_lastPlotException"),h(this,"trackerChanged"),h(this,"updated"),h(this,"updating"),h(this,"defaultFont",jt.defaultFont),h(this,"defaultFontSize",jt.defaultFontSize),h(this,"_actualPlotMargins",yo),h(this,"_annotations"),h(this,"_axes"),h(this,"_legends"),h(this,"background",f.Undefined),h(this,"defaultColors",jt.defaultColors),h(this,"edgeRenderingMode",jt.edgeRenderingMode),h(this,"assignColorsToInvisibleSeries",jt.assignColorsToInvisibleSeries),h(this,"isLegendVisible",jt.isLegendVisible),h(this,"padding",jt.padding),h(this,"_plotBounds",Ae),h(this,"_plotAndAxisArea",Ae),h(this,"_plotArea",Ae),h(this,"axisTierDistance",jt.axisTierDistance),h(this,"plotAreaBackground",jt.plotAreaBackground),h(this,"plotAreaBorderColor",jt.plotAreaBorderColor),h(this,"plotAreaBorderThickness",jt.plotAreaBorderThickness),h(this,"plotMargins",jt.plotMargins),h(this,"plotType",jt.plotType),h(this,"_series"),h(this,"renderingDecorator"),h(this,"subtitle"),h(this,"subtitleFont"),h(this,"subtitleFontSize",jt.subtitleFontSize),h(this,"subtitleFontWeight",jt.subtitleFontWeight),h(this,"textColor",f.Black),h(this,"title"),h(this,"titleToolTip"),h(this,"titleColor",f.Automatic),h(this,"clipTitle",jt.clipTitle),h(this,"titleClippingLength",jt.titleClippingLength),h(this,"subtitleColor",f.Automatic),h(this,"titleHorizontalAlignment",jt.titleHorizontalAlignment),h(this,"_titleArea",Ae),h(this,"titleFont"),h(this,"titleFontSize",jt.titleFontSize),h(this,"titleFontWeight",jt.titleFontWeight),h(this,"titlePadding",jt.titlePadding),h(this,"_defaultAngleAxis"),h(this,"_defaultMagnitudeAxis"),h(this,"_defaultXAxis"),h(this,"_defaultYAxis"),h(this,"_defaultColorAxis"),this._axes=jn(this),this._series=jn(this),this._annotations=jn(this),this._legends=jn(this),t&&this.applyOptions(t),it(this,jt,t)}applyOptions(t){qa(t,"_axes","_series","_annotations","_legends"),t.axes&&t.axes.length>0&&this._axes.push(...t.axes),t.series&&t.series.length>0&&this._series.push(...t.series),t.annotations&&t.annotations.length>0&&this._annotations.push(...t.annotations),t.legends&&t.legends.length>0&&this._legends.push(...t.legends),qa(t,"axes","series","annotations","legends")}get actualPlotMargins(){return this._actualPlotMargins}get plotView(){return this._plotViewReference}get annotations(){return this._annotations}get axes(){return this._axes}get legends(){return this._legends}get plotBounds(){return this._plotBounds}get width(){return this.plotBounds.width}get height(){return this.plotBounds.height}get plotAndAxisArea(){return this._plotAndAxisArea}get plotArea(){return this._plotArea}get series(){return this._series}get titleArea(){return this._titleArea}get defaultAngleAxis(){return this._defaultAngleAxis}get defaultMagnitudeAxis(){return this._defaultMagnitudeAxis}get defaultXAxis(){return this._defaultXAxis}get defaultYAxis(){return this._defaultYAxis}get defaultColorAxis(){return this._defaultColorAxis}get actualTitleFont(){return this.titleFont||this.defaultFont}get actualSubtitleFont(){return this.subtitleFont||this.defaultFont}attachPlotView(t){const e=this.plotView;if(e&&t&&e!==t)throw new Error("This PlotModel is already in use by some other PlotView control.");this._plotViewReference=t}invalidatePlot(t){var e;(e=this.plotView)==null||e.invalidatePlot(t)}getAxesFromPoint(t){let e,s,n,o=0;const r=P.right(this.plotArea),a=P.bottom(this.plotArea);t.x<this.plotArea.left&&(n=g.Left,o=this.plotArea.left),t.x>r&&(n=g.Right,o=r),t.y<this.plotArea.top&&(n=g.Top,o=this.plotArea.top),t.y>a&&(n=g.Bottom,o=a);for(const u of this.axes){if(!u.isAxisVisible||dr(u))continue;if(u instanceof Be){e=u;continue}if(u instanceof me){s=u;continue}let m=NaN;if(u.isHorizontal()&&(m=u.inverseTransform(t.x)),u.isVertical()&&(m=u.inverseTransform(t.y)),m>=u.clipMinimum&&m<=u.clipMaximum){if(!n)u.isHorizontal()?e||(e=u):u.isVertical()&&(s||(s=u));else if(n===u.position){const c=u.positionTierMinShift,p=u.positionTierMaxShift,x=u.isHorizontal()?t.y:t.x,w=n===g.Top||n===g.Left;(x>=o+c&&x<o+p&&!w||x<=o-c&&x>o-p&&w)&&(u.isHorizontal()?yt(e)&&(e=u):u.isVertical()&&yt(s)&&(s=u))}}}return[e,s]}getDefaultColor(){return this.defaultColors[this._currentColorIndex++%this.defaultColors.length]}getDefaultLineStyle(){return this._currentColorIndex/this.defaultColors.length%Number(v.None)}getSeriesFromPoint(t,e=100){let s=ot,n;const o=$s(this.series);for(const r of o.filter(a=>a.isVisible)){const a=r.getNearestPoint(t,!0)||r.getNearestPoint(t,!1);if(!(a!=null&&a.position))continue;const u=ri(t,a.position);u<s&&(n=r,s=u)}if(s<e)return n}toString(){return this.title||""}getLastPlotException(){return this._lastPlotException}update(t){try{this._lastPlotException=null,this.onUpdating(),this.ensureDefaultAxes();const e=this.series.filter(n=>n.isVisible);if(t||!this._isDataUpdated){for(const n of e)n.updateData();this._isDataUpdated=!0}this.updateBarSeriesManagers(),this.updateMaxMin(t),this.updateUnmanagedCategoryAxes();const s=this.assignColorsToInvisibleSeries?this.series:e;this.resetDefaultColor();for(const n of s)n.setDefaultValues();this.onUpdated()}catch(e){console.log(e),this._lastPlotException=e}}getAxis(t){if(!t)throw new Error("Axis key cannot be null.");const e=this.axes.find(s=>s.key===t);if(!e)throw new Error(`Cannot find axis with Key = "${t}"`);return e}getAxisOrDefault(t,e){return t?e:this.axes.find(n=>n.key===t)||e}resetAllAxes(){for(const t of this.axes)t.reset()}panAllAxes(t,e){for(const s of this.axes)s.pan(s.isHorizontal()?t:e)}zoomAllAxes(t){for(const e of this.axes)e.zoomAtCenter(t)}raiseTrackerChanged(t){const e=this.trackerChanged;e&&e(this,{hitResult:t})}onTrackerChanged(t){this.raiseTrackerChanged(t)}getHitTestElements(){const t=[],e=$s(this.axes);for(const o of e.filter(r=>r.isAxisVisible&&r.layer===bs.AboveSeries))t.push(o);const s=$s(this.annotations);for(const o of s.filter(r=>r.layer===Ee.AboveSeries))t.push(o);const n=$s(this.series);for(const o of n.filter(r=>r.isVisible))t.push(o);for(const o of s.filter(r=>r.layer===Ee.BelowSeries))t.push(o);for(const o of e.filter(r=>r.isAxisVisible&&r.layer===bs.BelowSeries))t.push(o);for(const o of s.filter(r=>r.layer===Ee.BelowAxes))t.push(o);for(const o of this.legends)t.push(o);return t}onUpdated(){const t=this.updated;t&&t(this)}onUpdating(){const t=this.updating;t&&t(this)}updateAxisTransforms(){for(const t of this.axes)t.updateTransform(this.plotArea)}enforceCartesianTransforms(){const t=this.axes.filter(s=>!dr(s));let e=Math.min(...t.map(s=>Math.abs(s.scale)));for(const s of t)s.zoomScale(e);e=Math.max(...t.map(s=>Math.abs(s.scale)));for(const s of t)s.zoomScale(e);for(const s of t)s.updateTransform(this.plotArea)}updateIntervals(){for(const t of this.axes)t.updateIntervals(this.plotArea)}ensureDefaultAxes(){const t=this.axes,e=this.series;if(this._defaultXAxis=t.find(n=>n.isHorizontal()&&n.isXyAxis()),this._defaultYAxis=t.find(n=>n.isVertical()&&n.isXyAxis()),this._defaultMagnitudeAxis=t.find(n=>n instanceof Be),this._defaultAngleAxis=t.find(n=>n instanceof me),this._defaultColorAxis=t.find(n=>dr(n)),yt(this.defaultXAxis)&&(this._defaultXAxis=this.defaultMagnitudeAxis),yt(this.defaultYAxis)&&(this._defaultYAxis=this.defaultAngleAxis),this.plotType===2)yt(this.defaultXAxis)&&(this._defaultXAxis=this._defaultMagnitudeAxis=new Be),yt(this.defaultYAxis)&&(this._defaultYAxis=this._defaultAngleAxis=new me);else{let n=!1,o=!1;yt(this.defaultXAxis)&&(this._defaultXAxis=new y({position:g.Bottom}),n=!0),yt(this.defaultYAxis)&&(e.some(r=>r.isVisible&&r instanceof H)?this._defaultYAxis=new Z({position:g.Left}):(this._defaultYAxis=new y({position:g.Left}),o=!0)),n&&this.defaultXAxis&&this.defaultYAxis instanceof Z&&(this.defaultXAxis.minimumPadding=0),o&&this.defaultYAxis&&this.defaultXAxis instanceof Z&&(this.defaultYAxis.minimumPadding=0)}e.some(n=>n.isVisible&&n.areAxesRequired())&&(t.includes(this.defaultXAxis)||(console.assert(this.defaultXAxis,"Default x-axis not created."),this.defaultXAxis&&this.axes.push(this.defaultXAxis)),t.includes(this.defaultYAxis)||(console.assert(this.defaultYAxis,"Default y-axis not created."),this.defaultYAxis&&this.axes.push(this.defaultYAxis)));for(const n of this.series)n.isVisible&&n.areAxesRequired()&&n.ensureAxes();for(const n of this.annotations)n.ensureAxes()}resetDefaultColor(){this._currentColorIndex=0}updateMaxMin(t){if(t){for(const e of this.axes)e.resetDataMaxMin();for(const e of this.series.filter(s=>s.isVisible))e.updateMaxMin()}for(const e of this.series.filter(s=>s.isVisible))e.updateAxisMaxMin();for(const e of this.axes)e.updateActualMaxMin()}updateBarSeriesManagers(){this._barSeriesManagers=[];const t=this.series.filter(s=>s.isVisible&&Xh(s)).map(s=>s),e=new Map;for(const s of t){const n=[...e.keys()].find(o=>o.ca===s.categoryAxis&&o.va===s.valueAxis);if(n){e.get(n).push(s);continue}e.set({ca:s.categoryAxis,va:s.valueAxis},[s])}e.forEach((s,n)=>{const o=new vo(n.ca,n.va,s);o.update(),this._barSeriesManagers.push(o)})}updateUnmanagedCategoryAxes(){const t=this._barSeriesManagers.map(n=>n.categoryAxis),s=this.axes.filter(n=>n instanceof Z).map(n=>n).filter(n=>!t.includes(n));for(const n of s){let o=0;!vi(n.dataMaximum)&&!ht(n.dataMaximum)&&n.dataMaximum>0&&(o=Math.floor(n.dataMaximum)+1),n.updateLabels(o)}}render(t,e){return this.renderOverride(t,e)}async renderOverride(t,e){var s;const n=t.clipCount;let o;try{if(o=O.autoResetClip(t,e),this._lastPlotException){const r=`An exception of type ${this._lastPlotException.constructor.name} was thrown when updating the plot model.\r
${this._lastPlotException.stack}`;await this.renderErrorMessage(t,`OxyPlot exception: ${this._lastPlotException.message}`,r);return}this.renderingDecorator&&(t=this.renderingDecorator(t)),this._plotBounds=e,this._actualPlotMargins=K(ht(this.plotMargins.left)?0:this.plotMargins.left,ht(this.plotMargins.top)?0:this.plotMargins.top,ht(this.plotMargins.right)?0:this.plotMargins.right,ht(this.plotMargins.bottom)?0:this.plotMargins.bottom);for(const r of this.legends)r.ensureLegendProperties();for(let r=0;r<10&&(await this.updatePlotArea(t),this.updateAxisTransforms(),this.updateIntervals(),!!this.adjustPlotMargins(t));r++);if(this.plotType===1&&(this.enforceCartesianTransforms(),this.updateIntervals()),await this.renderBackgrounds(t),await this.renderAnnotations(t,Ee.BelowAxes),await this.renderAxes(t,bs.BelowSeries),await this.renderAnnotations(t,Ee.BelowSeries),await this.renderSeries(t),await this.renderAnnotations(t,Ee.AboveSeries),await this.renderTitle(t),await this.renderBox(t),await this.renderAxes(t,bs.AboveSeries),this.isLegendVisible&&await this.renderLegends(t),t.clipCount!==n+1)throw new Error("Unbalanced calls to IRenderContext.pushClip were made during rendering.")}catch(r){try{o==null||o.dispose()}catch(u){r=u}finally{o=void 0}debugger;for(console.log(r);t.clipCount>n;)t.popClip();const a=`An exception of type ${(s=r.constructor)==null?void 0:s.name} was thrown when rendering the plot model.\r
${r.stack}`;this._lastPlotException=r,await this.renderErrorMessage(t,`OxyPlot exception: ${r.message}`,a)}finally{o==null||o.dispose(),t.cleanUp()}}async renderErrorMessage(t,e,s,n=12){const o=R(10,10);await t.drawText(o,e,this.textColor,void 0,n,ne.Bold),await O.drawMultilineText(t,Rt(o,It(0,n*1.5)),s,this.textColor,void 0,n,n*1.25)}adjustPlotMargins(t){const e=this.axes.filter(r=>r.isAxisVisible);e.forEach(r=>{r.measure(t)});let s=yo;const n=(r,a)=>{switch(a){case g.Bottom:s=K(s.left,s.top,s.right,Math.max(s.bottom,r));break;case g.Left:s=K(Math.max(s.left,r),s.top,s.right,s.bottom);break;case g.Right:s=K(s.left,s.top,Math.max(s.right,r),s.bottom);break;case g.Top:s=K(s.left,Math.max(s.top,r),s.right,s.bottom);break}};for(let r=g.Left;r<=g.Bottom;r++){const a=e.filter(m=>m.position===r),u=this.adjustAxesPositions(a);n(u,r)}e.forEach(r=>{s=So.include(s,r.desiredMargin)});let o=this.plotMargins;return o=K(ht(o.left)?s.left:o.left,ht(o.top)?s.top:o.top,ht(o.right)?s.right:o.right,ht(o.bottom)?s.bottom:o.bottom),So.equals(o,this.actualPlotMargins)?!1:(this._actualPlotMargins=o,!0)}adjustAxesPositions(t){let e=0;const s=o=>{switch(o.position){case g.Left:return o.desiredMargin.left;case g.Right:return o.desiredMargin.right;case g.Top:return o.desiredMargin.top;case g.Bottom:return o.desiredMargin.bottom;default:throw new Error("We don't do this for polar axes")}};return t.reduce((o,r)=>{const a=r.positionTier,u=o.get(a);return u?u.push(r):o.set(a,[r]),o},new Map).forEach((o,r)=>{const a=Math.max(...o.map(s)),u=e;Math.abs(e)>1e-5&&(e+=this.axisTierDistance),e+=a,o.forEach(m=>{m.positionTierSize=a,m.positionTierMinShift=u,m.positionTierMaxShift=e})}),e}measureTitles(t){const e=t.measureText(this.title||"",this.actualTitleFont,this.titleFontSize,this.titleFontWeight),s=t.measureText(this.subtitle||"",this.subtitleFont||this.actualSubtitleFont,this.subtitleFontSize,this.subtitleFontWeight),n=e.height+s.height,o=Math.max(e.width,s.width);return bt(o,n)}renderAnnotations(t,e){return this.renderPlotElements(this.annotations.filter(s=>s.layer===e),t,async s=>s.render(t))}async renderAxes(t,e){for(const s of this.axes.filter(n=>n.isAxisVisible&&n.layer===e))t.setToolTip(s.toolTip),await s.render(t,0);for(const s of this.axes.filter(n=>n.isAxisVisible&&n.layer===e))t.setToolTip(s.toolTip),await s.render(t,1);t.setToolTip(void 0)}async renderLegends(t){if(this.isLegendVisible)for(const e of this.legends.filter(s=>s.isLegendVisible))t.setToolTip(e.toolTip),await e.renderLegends(t)}async renderBackgrounds(t){this.axes.length>0&&M.isVisible(this.plotAreaBackground)&&await t.drawRectangle(this.plotArea,this.plotAreaBackground,f.Undefined,0,this.edgeRenderingMode);const s=this.series.filter(n=>n instanceof Vt).map(n=>n).filter(n=>n.isVisible&&M.isVisible(n.background));for(const n of s)await t.drawRectangle(n.getScreenRectangle(),n.background,f.Undefined,0,this.edgeRenderingMode)}async renderBox(t){if(this.axes.length>0){const e=O.getActualEdgeRenderingMode(this.edgeRenderingMode,U.PreferSharpness);await O.drawRectangle(t,this.plotArea,this.plotAreaBorderColor,this.plotAreaBorderThickness,e)}}async renderSeries(t){return this._barSeriesManagers.forEach(e=>{e.initializeRender()}),this.renderPlotElements(this.series.filter(e=>e.isVisible),t,async e=>e.render(t))}async renderPlotElements(t,e,s){let n=ji;function o(r,a){return P.equals(r,a)}for(const r of t){const a=r.getClippingRect();o(a,n)||(o(n,ji)||(e.popClip(),n=ji),o(a,ji)||(e.pushClip(a),n=a)),e.setToolTip(r.toolTip),await s(r)}o(n,ji)||e.popClip(),e.setToolTip(void 0)}async renderTitle(t){let e;this.clipTitle&&(e=bt(this.titleArea.width*this.titleClippingLength,ot));const s=t.measureText(this.title||"",this.actualTitleFont,this.titleFontSize,this.titleFontWeight),n=(this.titleArea.left+P.right(this.titleArea))*.5;let o=this.titleArea.top;this.title&&(t.setToolTip(this.titleToolTip),await xe.drawMathText(t,R(n,o),this.title,M.getActualColor(this.titleColor,this.textColor),this.actualTitleFont,this.titleFontSize,this.titleFontWeight,0,F.Center,N.Top,e),o+=s.height,t.setToolTip(void 0)),this.subtitle&&await xe.drawMathText(t,R(n,o),this.subtitle,M.getActualColor(this.subtitleColor,this.textColor),this.actualSubtitleFont,this.subtitleFontSize,this.subtitleFontWeight,0,F.Center,N.Top,e)}async updatePlotArea(t){let e=J(this.plotBounds.left+this.padding.left,this.plotBounds.top+this.padding.top,Math.max(0,this.width-this.padding.left-this.padding.right),Math.max(0,this.height-this.padding.top-this.padding.bottom));const s=this.measureTitles(t);if(s.height>0){const o=s.height+this.titlePadding;e=J(e.left,e.top+o,e.width,Math.max(0,e.height-o))}let n=P.deflate(e,this.actualPlotMargins);if(this.isLegendVisible){let o=bt(0,0),r=0;const a=this.legends.filter(u=>u.legendPlacement===gt.Outside&&u.isLegendVisible);for(const u of a.filter(m=>Th(m.legendPosition))){const m=u.allowUseFullExtent?e.width:n.width;let c=u.allowUseFullExtent?e.height:n.height;c=isNaN(u.legendMaxHeight)?c:Math.min(c,u.legendMaxHeight);const p=await u.getLegendSize(t,bt(m,c));u.legendSize=p,o=bt(Math.max(o.width,p.width),Math.max(o.height,p.height)),u.legendMargin>r&&(r=u.legendMargin)}(o.width>0||o.height>0)&&(n=J(n.left+o.width+r,n.top,Math.max(0,n.width-(o.width+r)),n.height)),o=bt(0,0),r=0;for(const u of a.filter(m=>Ph(m.legendPosition))){const m=u.allowUseFullExtent?e.width:n.width;let c=u.allowUseFullExtent?e.height:n.height;c=isNaN(u.legendMaxHeight)?c:Math.min(c,u.legendMaxHeight);const p=await u.getLegendSize(t,bt(m,c));u.legendSize=p,o=bt(Math.max(o.width,p.width),Math.max(o.height,p.height)),u.legendMargin>r&&(r=u.legendMargin)}(o.width>0||o.height>0)&&(n=J(n.left,n.top,Math.max(0,n.width-(o.width+r)),n.height)),o=bt(0,0),r=0;for(const u of a.filter(m=>Lh(m.legendPosition))){const m=u.allowUseFullExtent?e.width:n.width;let c=u.allowUseFullExtent?e.height:n.height;c=isNaN(u.legendMaxHeight)?c:Math.min(c,u.legendMaxHeight);const p=await u.getLegendSize(t,bt(m,c));u.legendSize=p,o=bt(Math.max(o.width,p.width),Math.max(o.height,p.height)),u.legendMargin>r&&(r=u.legendMargin)}(o.width>0||o.height>0)&&(n=J(n.left,n.top+o.height+r,n.width,Math.max(0,n.height-(o.height+r)))),o=bt(0,0),r=0;for(const u of a.filter(m=>Dh(m.legendPosition))){const m=u.allowUseFullExtent?e.width:n.width;let c=u.allowUseFullExtent?e.height:n.height;c=isNaN(u.legendMaxHeight)?c:Math.min(c,u.legendMaxHeight);const p=await u.getLegendSize(t,bt(m,c));u.legendSize=p,o=bt(Math.max(o.width,p.width),Math.max(o.height,p.height)),u.legendMargin>r&&(r=u.legendMargin)}(o.width>0||o.height>0)&&(n=J(n.left,n.top,n.width,Math.max(0,n.height-(o.height+r))));for(const u of this.legends.filter(m=>m.legendPlacement===gt.Inside&&m.isLegendVisible)){let m=n.width,c=isNaN(u.legendMaxHeight)?n.height:Math.min(n.height,u.legendMaxHeight);u.legendPlacement===gt.Inside&&(m-=u.legendMargin*2,c-=u.legendMargin*2),u.legendSize=await u.getLegendSize(t,bt(m,c))}}switch(n.height<0&&(n=J(n.left,n.top,n.width,1)),n.width<0&&(n=J(n.left,n.top,1,n.height)),this._plotArea=n,this._plotAndAxisArea=P.inflateAll(n,this.actualPlotMargins),this.titleHorizontalAlignment){case 1:this._titleArea=J(this.plotBounds.left,this.plotBounds.top+this.padding.top,this.width,s.height+this.titlePadding*2);break;default:this._titleArea=J(this.plotArea.left,this.plotBounds.top+this.padding.top,this.plotArea.width,s.height+this.titlePadding*2);break}for(const o of this.legends)o.legendArea=o.getLegendRectangle(o.legendSize)}toJSON(t){const e=Ml(this,Vh,{excludeDefault:t==null?void 0:t.excludeDefault});return this._axes.length>0&&(e.axes=this.arrayToJson(this._axes,t)),this._legends.length>0&&(e.legends=this.arrayToJson(this._legends,t)),this._series.length>0&&(e.series=this.arrayToJson(this._series,t)),this._annotations.length>0&&(e.annotations=this.arrayToJson(this._annotations,t)),e}arrayToJson(t,e){const s=[];for(const n of t){if(!n.toJSON){console.warn(`'${n.getElementName()}' does not have a toJSON method`);continue}s.push(n.toJSON(e))}return s}}class $t{static getDashArray(t){switch(t){case v.Solid:return;case v.Dash:return[4,1];case v.Dot:return[1,1];case v.DashDot:return[4,1,1,1];case v.DashDashDot:return[4,1,4,1,1,1];case v.DashDotDot:return[4,1,1,1,1,1];case v.DashDashDotDot:return[4,1,4,1,1,1,1,1];case v.LongDash:return[10,1];case v.LongDashDot:return[10,1,1,1];case v.LongDashDotDot:return[10,1,1,1,1,1];default:return}}}class Kt{constructor(t,e=1,s=v.Solid,n=st.Miter){h(this,"dashArray"),this.color=t,this.thickness=e,this.lineStyle=s,this.lineJoin=n,this.dashArray=$t.getDashArray(s)}get actualDashArray(){return this.dashArray||$t.getDashArray(this.lineStyle)}static create(t,e,s=v.Solid,n=st.Miter){if(!(M.isInvisible(t)||s===v.None||Math.abs(e)<=0))return new Kt(t,e,s,n)}}class be{static findNearestPointOnPolyline(t,e){if(!e)throw new Error("points is null");let s=ot,n=Fe;for(let o=0;o+1<e.length;o++){const r=e[o],a=e[o+1];if(bn(r)||bn(a))continue;const u=be.findPointOnLine(t,r,a);if(bn(u))continue;const m=ue(t,u).lengthSquared;m<s&&(n=u,s=m)}return n}static findPointOnLine(t,e,s){const n=s.x-e.x,o=s.y-e.y;let r=be.findPositionOnLine(t,e,s);return isNaN(r)&&(r=0),r<0&&(r=0),r>1&&(r=1),R(e.x+r*n,e.y+r*o)}static findPositionOnLine(t,e,s){const n=s.x-e.x,o=s.y-e.y,r=(t.x-e.x)*n+(t.y-e.y)*o,a=n*n+o*o;return a<1e-6?NaN:r/a}static isPointInPolygon(t,e){if(!e)return!1;const s=e.length;let n=!1;for(let o=0,r=s-1;o<s;r=o++)e[o].y>t.y!=e[r].y>t.y&&t.x<(e[r].x-e[o].x)*((t.y-e[o].y)/(e[r].y-e[o].y))+e[o].x&&(n=!n);return n}static resamplePoints(t,e){const s=e*e,n=t.length,o=[];if(n>0){o.push(t[0]);let r=0;for(let a=1;a<n;a++)$i(t[r],t[a])<s&&a!==n-1||(r=a,o.push(t[a]))}return o}static getCentroid(t){let e=0,s=0,n=0;for(let o=0;o<t.length;o++){const r=(o+1)%t.length,a=t[o].x*t[r].y-t[r].x*t[o].y;e+=(t[o].x+t[r].x)*a,s+=(t[o].y+t[r].y)*a,n+=a}return n*=.5,e/=6*n,s/=6*n,R(e,s)}}const Eh=.6,zh=.62,Oh=0,$h=.62;class xe{static async drawMathText(t,e,s,n,o,r,a,u,m,c,p,x=!1){if(!s)return ks;if(s.includes("^{")||s.includes("_{")){const w=e.x,S=e.y,k=await this.internalDrawMathText(t,w,S,0,0,s,n,o,r,a,!0,u);let A=0,C=0;switch(m){case F.Right:A=-k.width;break;case F.Center:A=-k.width*.5;break}switch(c){case N.Bottom:C=-k.height;break;case N.Middle:C=-k.height*.5;break}return await this.internalDrawMathText(t,w,S,A,C,s,n,o,r,a,!1,u),x?k:ks}return await t.drawText(e,s,n,o,r,a,u,m,c,p),x?t.measureText(s,o,r,a):ks}static async measureMathText(t,e,s,n,o){return e.includes("^{")||e.includes("_{")?this.internalDrawMathText(t,0,0,0,0,e,f.Black,s,n,o,!0,0):t.measureText(e,s,n,o)}static async internalDrawMathText(t,e,s,n,o,r,a,u,m,c,p,x){let w=0;const S=x*Math.PI/180,k=Bt(Math.cos(S),5),A=Bt(Math.sin(S),5);let C=e,T=e,D=e;const B=s;let I=s,_=s;const z=m*Oh,E=m*Eh,Y=m*$h,At=m*zh,et=async(pt,ie,Le,he)=>{if(!p){const St=e+(pt-e+n)*k-(ie-s+o)*A,vt=s+(pt-e+n)*A+(ie-s+o)*k;await t.drawText(R(St,vt),Le,a,u,he,c,x)}const ce=t.measureText(Le,u,he,c);return bt(ce.width,ce.height)};for(;w<r.length;){if(w+1<r.length&&r[w]==="^"&&r[w+1]==="{"){const he=r.indexOf("}",w);if(he!==-1){const ce=Wn(r,w+2,he-w-2);w=he+1;const St=C,vt=B+z,Gt=await et(St,vt,ce,Y);T=Math.max(St+Gt.width,T),I=Math.max(vt+Gt.height,I),D=Math.min(St,D),_=Math.min(vt,_);continue}}if(w+1<r.length&&r[w]==="_"&&r[w+1]==="{"){const he=r.indexOf("}",w);if(he!==-1){const ce=Wn(r,w+2,he-w-2);w=he+1;const St=C,vt=B+E,Gt=await et(St,vt,ce,At);T=Math.max(St+Gt.width,T),I=Math.max(vt+Gt.height,I),D=Math.min(St,D),_=Math.min(vt,_);continue}}const pt=Bm(r.split(""),["^","_"],w+1);let ie;pt===-1?(ie=Wn(r,w),w=r.length):(ie=Wn(r,w,pt-w),w=pt),C=T+2;const Le=await et(C,B,ie,m);T=Math.max(C+Le.width,T),I=Math.max(B+Le.height,I),D=Math.min(C,D),_=Math.min(B,_),C=T}return bt(T-D,I-_)}}class Ms{constructor(){h(this,"rendersToScreen"),this.rendersToScreen=!0}static isStraightLine(t,e){return Math.abs(t.x-e.x)<1e-5||Math.abs(t.y-e.y)<1e-5}static isStraightLine2(t){for(let e=1;e<t.length;e++)if(!this.isStraightLine(t[e-1],t[e]))return!1;return!0}async drawEllipse(t,e,s,n,o){const r=Ms.createEllipse(t);await this.drawPolygon(r,e,s,n,o,void 0,st.Miter)}async drawEllipses(t,e,s,n,o){for(const r of t)await this.drawEllipse(r,e,s,n,o)}async drawLineSegments(t,e,s,n,o,r){for(let a=0;a+1<t.length;a+=2)await this.drawLine([t[a],t[a+1]],e,s,n,o,r)}async drawPolygons(t,e,s,n,o,r,a){for(const u of t)await this.drawPolygon(u,e,s,n,o,r,a)}async drawRectangle(t,e,s,n,o){const r=Ms.createRectangle(t);await this.drawPolygon(r,e,s,n,o,void 0,st.Miter)}async drawRectangles(t,e,s,n,o){for(const r of t)await this.drawRectangle(r,e,s,n,o)}setToolTip(t){}cleanUp(){}static createEllipse(t,e=40){const s=P.center(t),n=s.x,o=s.y,r=t.width/2,a=t.height/2,u=new Array(e);for(let m=0;m<e;m++){const c=Math.PI*2*m/e;u[m]=R(n+Math.cos(c)*r,o+Math.sin(c)*a)}return u}static createRectangle(t){const e=Jt.fromRect(t);return[R(e.left,e.top),R(e.left,e.bottom),R(e.right,e.bottom),R(e.right,e.top)]}shouldUseAntiAliasingForRect(t){switch(t){case U.PreferGeometricAccuracy:return!0;default:return!1}}shouldUseAntiAliasingForEllipse(t){switch(t){case U.PreferSpeed:return!1;default:return!0}}shouldUseAntiAliasingForLine(t,e){switch(t){case U.PreferSpeed:case U.PreferSharpness:return!1;case U.Automatic:if(Ms.isStraightLine2(e))return!1;break;case U.Adaptive:if(Ms.isStraightLine2(e))return!1;break;default:return!0}return!0}}const Ys=class{static getActualEdgeRenderingMode(t,e){return t===U.Automatic?e:t}static async drawReducedLine(t,e,s,n,o,r,a,u,m,c){e.length!==0&&(m?m.length=0:m=[],this.reducePoints(e,s,m),await t.drawLine(m,n,o,r,a,u),m.length=0,_i(m,e),c&&c(m))}static async drawReducedPolygon(t,e,s,n,o,r,a,u=v.Solid,m=st.Miter){if(e.length===0||u===v.None)return;const p=[];this.reducePoints(e,s,p),await t.drawPolygon(p,n,o,r,a,$t.getDashArray(u),m)}static async drawImage(t,e,s,n,o,r,a,u){await t.drawImage(e,0,0,e.width,e.height,s,n,o,r,a,u)}static async drawMultilineText(t,e,s,n,o,r=10,a=ne.Normal,u=12){const m=jo.splitLines(s);for(let c=0;c<m.length;c++)await t.drawText(R(e.x,e.y+c*u),m[c],n,void 0,r,a)}static async drawLine(t,e,s,n,o,r,a){r&&await t.drawLine([R(e,s),R(n,o)],r.color,r.thickness,a,r.actualDashArray,r.lineJoin)}static async drawLineSegments(t,e,s,n){s&&await t.drawLineSegments(e,s.color,s.thickness,n,s.actualDashArray,s.lineJoin)}static async drawMarker(t,e,s,n,o,r,a,u,m){await this.drawMarkers(t,[e],s,n,[o],r,a,u,m)}static async drawMarkers(t,e,s,n,o,r,a,u,m,c=0,p=Fe){if(s===V.None)return;const x=[],w=[],S=[],k=[],A=new Set;let C=0;for(const T of e){if(c>1){const B=Math.floor((T.x-p.x)/c),I=Math.floor((T.y-p.y)/c),_=ws(B<<16)+ws(I);if(A.has(_)){C++;continue}A.add(_)}const D=C<o.length?C:0;this.addMarkerGeometry(T,s,n,o[D],x,w,S,k),C++}m===U.Automatic&&(m=U.PreferGeometricAccuracy),x.length>0&&await t.drawEllipses(x,r,a,u,m),w.length>0&&await t.drawRectangles(w,r,a,u,m),S.length>0&&await t.drawPolygons(S,r,a,u,m),k.length>0&&await t.drawLineSegments(k,a,u,m)}static async drawCircle(t,e,s,n,o,r,a,u){await t.drawEllipse(J(e-n,s-n,n*2,n*2),o,r,a,u)}static async drawCircle2(t,e,s,n,o,r,a){await this.drawCircle(t,e.x,e.y,s,n,o,r,a)}static async fillCircle(t,e,s,n,o){await this.drawCircle(t,e.x,e.y,s,n,f.Undefined,0,o)}static async fillRectangle(t,e,s,n){await t.drawRectangle(e,s,f.Undefined,0,n)}static async drawRectangle(t,e,s,n,o){if(n.left===n.right&&n.left===n.top&&n.left===n.bottom){await t.drawRectangle(e,f.Undefined,s,n.left,o);return}const r=P.right(e),a=P.bottom(e),u=e.left-n.left/2+.5,m=r+n.right/2-.5,c=e.top-n.top/2+.5,p=a+n.bottom/2-.5,x=[R(u,e.top),R(m,e.top)],w=[R(r,c),R(r,p)],S=[R(u,a),R(m,a)],k=[R(e.left,c),R(e.left,p)];await t.drawLine(x,s,n.top,o,void 0,st.Miter),await t.drawLine(w,s,n.right,o,void 0,st.Miter),await t.drawLine(S,s,n.bottom,o,void 0,st.Miter),await t.drawLine(k,s,n.left,o,void 0,st.Miter)}static measureText(t,e,s,n,o,r){const a=t.measureText(e,s,n,o);return this.measureRotatedRectangleBound(a,r)}static autoResetClip(t,e){return new Gh(t,e)}static addMarkerGeometry(t,e,s,n,o,r,a,u){if(e===V.Custom){if(!s)throw new Error("The outline should be set when MarkerType is 'Custom'.");const c=s.map(p=>R(t.x+p.x*n,t.y+p.y*n));a.push(c);return}switch(e){case V.Circle:o.push(J(t.x-n,t.y-n,n*2,n*2));break;case V.Square:r.push(J(t.x-n,t.y-n,n*2,n*2));break;case V.Diamond:a.push([R(t.x,t.y-this.M2*n),R(t.x+this.M2*n,t.y),R(t.x,t.y+this.M2*n),R(t.x-this.M2*n,t.y)]);break;case V.Triangle:a.push([R(t.x-n,t.y+this.M1*n),R(t.x+n,t.y+this.M1*n),R(t.x,t.y-this.M2*n)]);break;case V.Plus:case V.Star:u.push(R(t.x-n,t.y)),u.push(R(t.x+n,t.y)),u.push(R(t.x,t.y-n)),u.push(R(t.x,t.y+n));break}const m=this.M3;switch(e){case V.Cross:case V.Star:u.push(R(t.x-n*m,t.y-n*m)),u.push(R(t.x+n*m,t.y+n*m)),u.push(R(t.x-n*m,t.y+n*m)),u.push(R(t.x+n*m,t.y-n*m));break}}static measureRotatedRectangleBound(t,e){const s=Zs.getBounds(t,e,F.Center,N.Middle);return bt(s.width,s.height)}static reducePoints(t,e,s){const n=t.length;if(n===0)return;s.push(t[0]);let o=0;for(let r=1;r<n;r++){const a=t[r],u=a.x-t[o].x,m=a.y-t[o].y;(u*u+m*m>e||r===n-1)&&(s.push(R(a.x,a.y)),o=r)}}static transformAndInterpolateLines(t,e,s,n){const o=t.xAxis,r=t.yAxis;if(o.isLogarithmic()||r.isLogarithmic()){let a=!1,u=!0,m=ke;for(const c of e)if(xo(c)||o.isLogarithmic()&&c.x<=0||r.isLogarithmic()&&c.y<=0)u=!0;else{if(u)s.length>0&&s.push(wo),u=!1,a=!0;else if(a){const p=Lm(c,m);this.interpolatePoints(x=>t.transform(Kn(m,p.times(x))),s,n,a)}m=c}}else{let a=!0;for(const u of e)xo(u)?a=!0:(a&&s.length>0&&s.push(wo),s.push(t.transform(u)),a=!1)}}static interpolatePoints(t,e,s,n){const o=s*s,r=[],a=[];r.push(1),a.push(t(1));let u=0,m=t(0);for(n&&e.push(m);r.length>0;){let c=r[r.length-1],p=a[a.length-1];$i(p,m)<o?(u=c,m=p,e.push(p),r.pop(),a.pop()):(c=u+(c-u)/2,p=t(c),r.push(c),a.push(p))}}};h(Ys,"M1",Math.tan(Math.PI/6));h(Ys,"M2",Math.sqrt(1+Ys.M1*Ys.M1));h(Ys,"M3",Math.tan(Math.PI/4));let O=Ys;class Gh{constructor(t,e){h(this,"renderContext"),h(this,"_disposed",!1),this.renderContext=t,t.pushClip(e)}dispose(){this._disposed||(this._disposed=!0,this.renderContext.popClip())}}class la extends Ms{constructor(){super(...arguments),h(this,"clipStack",[])}popClip(){if(this.clipStack.length===0)throw new Error("Unbalanced call to popClip.");const t=this.clipStack.pop();if(this.clipStack.length>0){const e=this.clipStack[this.clipStack.length-1];P.equals(t,e)||(this.resetClip(),this.setClip(e))}else this.resetClip()}pushClip(t){if(this.clipStack.length>0){const e=this.clipStack[this.clipStack.length-1],s=P.intersect(t,e);P.equals(e,s)||(this.resetClip(),this.setClip(s)),this.clipStack.push(s)}else this.setClip(t),this.clipStack.push(t)}get clipCount(){return this.clipStack.length}}class ua extends Ms{constructor(t){super(),h(this,"rc"),h(this,"distortionFactor"),h(this,"interpolationDistance"),h(this,"fontFamily"),h(this,"thicknessScale"),this.rc=t,this.rendersToScreen=this.rc.rendersToScreen,this.distortionFactor=7,this.interpolationDistance=10,this.thicknessScale=2,this.fontFamily="Humor Sans"}get clipCount(){return this.rc.clipCount}async drawLine(t,e,s,n,o,r){const a=this.distort(t);await this.rc.drawLine(a,e,s*this.thicknessScale,n,o,r)}async drawPolygon(t,e,s,n,o,r,a){const u=[...t,t[0]],m=this.distort(u);await this.rc.drawPolygon(m,e,s,n*this.thicknessScale,o,r,a)}async drawText(t,e,s,n,o,r,a,u,m,c){await this.rc.drawText(t,e,s,this.getFontFamily(n),o,r,a,u,m,c)}measureText(t,e,s,n){return this.rc.measureText(t,this.getFontFamily(e),s,n)}setToolTip(t){this.rc.setToolTip(t)}cleanUp(){this.rc.cleanUp()}async drawImage(t,e,s,n,o,r,a,u,m,c,p){await this.rc.drawImage(t,e,s,n,o,r,a,u,m,c,p)}pushClip(t){this.rc.pushClip(t)}popClip(){this.rc.popClip()}getFontFamily(t){return this.fontFamily}distort(t){const e=this.interpolate(t,this.interpolationDistance),s=new Array(e.length);let n=this.generateRandomNumbers(e.length);n=this.applyMovingAverage(n,5);const o=this.distortionFactor,r=o/2;for(let a=0;a<e.length;a++){if(a===0||a===e.length-1){s[a]=e[a];continue}let u=vn(e[a+1],e[a-1]);u=Ii.normalize(u);const c=se.fromXY(u.y,-u.x).times(n[a]*o-r).vector;s[a]=Rt(e[a],c)}return s}generateRandomNumbers(t){const e=new Array(t);for(let s=0;s<t;s++)e[s]=Math.random();return e}applyMovingAverage(t,e){const s=t.length,n=new Array(s).fill(0),o=Math.round(e/2);for(let r=0;r<s;r++){const a=Math.max(0,r-o),u=Math.min(s-1,r+o);for(let m=a;m<=u;m++)n[r]+=t[m];n[r]/=e}return n}interpolate(t,e){let s=Fe,n=-1,o=e;const r=[];for(const a of t){if(n<0){r.push(a),s=a,n=0;continue}const u=vn(a,s),m=Ii.length(u);if(m>0)for(;o>=n&&o<=n+m;){const c=(o-n)/m;r.push(R(s.x*(1-c)+a.x*c,s.y*(1-c)+a.y*c)),o+=e}n+=m,s=a}return r.push(s),r}}class Ao{static decimate(t,e){if(t===void 0||t.length===0)return;let s=t[0],n=Math.round(s.x),o=Math.round(s.y),r=o,a=o,u=o;for(let m=1;m<t.length;++m){s=t[m];const c=Math.round(s.x),p=Math.round(s.y);if(c!==n){Ao.addVerticalPoints(e,n,a,u,o,r),a=u=o=r=p,n=c;continue}p<o&&(o=p),p>r&&(r=p),u=p}u=a===o?r:o,Ao.addVerticalPoints(e,n,a,u,o,r)}static addVerticalPoints(t,e,s,n,o,r){if(t.push(R(e,s)),s===o){o!==r&&t.push(R(e,r)),r!==n&&t.push(R(e,n));return}if(s===r){r!==o&&t.push(R(e,o)),o!==n&&t.push(R(e,n));return}n===o?o!==r&&t.push(R(e,r)):n===r?r!==o&&t.push(R(e,o)):(t.push(R(e,o)),t.push(R(e,r))),t.push(R(e,n))}}class _e{constructor(t){h(this,"tension"),this.tension=t}createSplineDp(t,e,s){return _e.createSplineForDp(t,this.tension,void 0,e,s)}createSplineSp(t,e,s){return _e.createSpline(t,this.tension,void 0,e,s)}static createSplineForDp(t,e,s,n,o){const r=t.map(m=>R(m.x,m.y)),a=_e.createSpline(r,e,s,n,o),u=[];for(const m of a)u.push(d(m.x,m.y));return u}static createSpline(t,e,s,n,o){const r=[];if(!t)return r;const a=t.length;if(a<1)return r;if(a<2)return r.push(...t),r;if(a===2)n?(_e.segment(r,t[1],t[0],t[1],t[0],e,e,o),_e.segment(r,t[0],t[1],t[0],t[1],e,e,o)):_e.segment(r,t[0],t[0],t[1],t[1],e,e,o);else{const u=s&&s.length>0;for(let m=0;m<a;m++){const c=u?s[m%s.length]:e,p=u?s[(m+1)%s.length]:e;m===0?_e.segment(r,n?t[a-1]:t[0],t[0],t[1],t[2],c,p,o):m===a-2?_e.segment(r,t[m-1],t[m],t[m+1],n?t[0]:t[m+1],c,p,o):m===a-1?n&&_e.segment(r,t[m-1],t[m],t[0],t[1],c,p,o):_e.segment(r,t[m-1],t[m],t[m+1],t[m+2],c,p,o)}}return r}static segment(t,e,s,n,o,r,a,u,m=1e3){const c=r*(n.x-e.x),p=r*(n.y-e.y),x=a*(o.x-s.x),w=a*(o.y-s.y),S=c+x+2*s.x-2*n.x,k=p+w+2*s.y-2*n.y,A=-2*c-x-3*s.x+3*n.x,C=-2*p-w-3*s.y+3*n.y,T=c,D=p,B=s.x,I=s.y,_=Math.min(m,Math.round((Math.abs(s.x-n.x)+Math.abs(s.y-n.y))/u));for(let z=1;z<_;z++){const E=z/(_-1),Y=R(S*E*E*E+A*E*E+T*E+B,k*E*E*E+C*E*E+D*E+I);t.push(Y)}}}class Qs{constructor(t){h(this,"alpha"),h(this,"maxSegments"),this.alpha=t,this.maxSegments=100}createSplineDp(t,e,s){return Qs.createSplineForDp(t,this.alpha,e,s,this.maxSegments)}createSplineSp(t,e,s){return Qs.createSpline(t,this.alpha,e,s,this.maxSegments)}static createSplineForDp(t,e,s,n,o){const r=t.map(m=>R(m.x,m.y)),a=this.createSpline(r,e,s,n,o),u=[];for(const m of a)u.push(d(m.x,m.y));return u}static createSpline(t,e,s,n,o){const r=[];if(t===void 0)return r;const a=t.length;if(a<1)return r;if(a<2)return r.push(...t),r;if(a===2)s?(this.segment(r,t[1],t[0],t[1],t[0],e,n,o),this.segment(r,t[0],t[1],t[0],t[1],e,n,o)):this.segment(r,t[0],t[0],t[1],t[1],e,n,o);else for(let u=0;u<a;u++)u===0?this.segment(r,s?t[a-1]:t[0],t[0],t[1],t[2],e,n,o):u===a-2?this.segment(r,t[u-1],t[u],t[u+1],s?t[0]:t[u+1],e,n,o):u===a-1?s&&this.segment(r,t[u-1],t[u],t[0],t[1],e,n,o):this.segment(r,t[u-1],t[u],t[u+1],t[u+2],e,n,o);return r}static segment(t,e,s,n,o,r,a,u){if(ar(s,n)){t.push(s);return}ar(e,s)&&(e=this.prev(s,n)),ar(n,o)&&(o=this.prev(n,s));const m=0,c=this.getT(m,e,s,r),p=this.getT(c,s,n,r),x=this.getT(p,n,o,r);let w=Math.round((Math.abs(s.x-n.x)+Math.abs(s.y-n.y))/a);w=Math.max(0,w),w=Math.min(u,w);for(let S=c;S<p;S+=(p-c)/w){const k=this.sum(this.mult((c-S)/(c-m),e),this.mult((S-m)/(c-m),s)),A=this.sum(this.mult((p-S)/(p-c),s),this.mult((S-c)/(p-c),n)),C=this.sum(this.mult((x-S)/(x-p),n),this.mult((S-p)/(x-p),o)),T=this.sum(this.mult((p-S)/(p-m),k),this.mult((S-m)/(p-m),A)),D=this.sum(this.mult((x-S)/(x-c),A),this.mult((S-c)/(x-c),C)),B=this.sum(this.mult((p-S)/(p-c),T),this.mult((S-c)/(p-c),D));t.push(B)}}static getT(t,e,s,n){const o=Math.pow(s.x-e.x,2)+Math.pow(s.y-e.y,2),r=Math.sqrt(o);return Math.pow(r,n)+t}static mult(t,e){return R(e.x*t,e.y*t)}static equals(t,e){return t.x===e.x&&t.y===e.y}static prev(t,e){return R(t.x-1e-4*(e.x-t.x),t.y-1e-4*(e.y-t.y))}static sum(t,e){return R(t.x+e.x,t.y+e.y)}}class Ke{}h(Ke,"CanonicalSpline",new _e(.5));h(Ke,"CatmullRomSpline",new Qs(.5));h(Ke,"UniformCatmullRomSpline",new Qs(0));h(Ke,"ChordalCatmullRomSpline",new Qs(1));const fn={background:f.Undefined,isVisible:!0,renderInLegend:!0,title:void 0,legendKey:void 0,seriesGroupName:void 0,trackerKey:void 0},Hh={...Fo,...fn};let Uh=class extends No{constructor(t){super(t),h(this,"background",fn.background),h(this,"isVisible",fn.isVisible),h(this,"title"),h(this,"legendKey"),h(this,"seriesGroupName"),h(this,"renderInLegend",fn.renderInLegend),h(this,"trackerStringFormatter"),h(this,"trackerKey"),Ot(this,"trackerStringFormatter",t),it(this,fn,t,{exclude:["trackerStringFormatter"]})}getNearestPoint(t,e){}hitTestOverride(t){const e=this.getNearestPoint(t.point,!0)||this.getNearestPoint(t.point,!1);if(e!=null&&e.position)return ri(e.position,t.point)>t.tolerance?void 0:{element:this,nearestHitPoint:e.position,item:e.item,index:e.index}}};const Ul={itemsSource:void 0},ma={...Hh,...Ul};class Bn extends Uh{constructor(t){super(t),h(this,"itemsSource"),it(this,Ul,t)}static getItem(t,e){if(!(!t||e<0)&&e<t.length&&e>=0)return t[e]}getItem(t){if(this.itemsSource)return Bn.getItem(this.itemsSource,t)}getElementDefaultValues(){return ma}}const Wl={trackerStringFormatter:void 0,xAxisKey:void 0,yAxisKey:void 0},Ue={...ma,DefaultXYAxisSeriesOptions:Wl},Go=class lo extends Bn{constructor(t){super(t),h(this,"trackerStringFormatter"),h(this,"_maxX",0),h(this,"_maxY",0),h(this,"_minX",0),h(this,"_minY",0),h(this,"_xAxis"),h(this,"xAxisKey"),h(this,"_yAxis"),h(this,"yAxisKey"),h(this,"isXMonotonic",!1),h(this,"windowStartIndex",0),this.trackerStringFormatter=lo.DefaultTrackerFormatter,Ot(this,"trackerStringFormatter",t),Gl(this),it(this,Wl,t,{exclude:["trackerStringFormatter"]})}get maxX(){return this._maxX}set maxX(t){this._maxX=t}get maxY(){return this._maxY}set maxY(t){this._maxY=t}get minX(){return this._minX}set minX(t){this._minX=t}get minY(){return this._minY}set minY(t){this._minY=t}get xAxis(){return this._xAxis}get yAxis(){return this._yAxis}getClippingRect(){return Ei.getClippingRect(this)}getScreenRectangle(){return this.getClippingRect()}inverseTransform(t){return Ei.inverseTransformOrientated(this,t)}async renderLegend(t,e){}transform(t){return Ei.transformOrientated(this,t)}areAxesRequired(){return!0}ensureAxes(){this._xAxis=this.xAxisKey?this.plotModel.getAxis(this.xAxisKey):this.plotModel.defaultXAxis,this._yAxis=this.yAxisKey?this.plotModel.getAxis(this.yAxisKey):this.plotModel.defaultYAxis}isUsing(t){return!1}setDefaultValues(){}updateAxisMaxMin(){this.xAxis.include(this.minX),this.xAxis.include(this.maxX),this.yAxis.include(this.minY),this.yAxis.include(this.maxY)}updateData(){this.windowStartIndex=0}updateMaxMin(){this.minX=this.minY=this.maxX=this.maxY=Number.NaN}getNearestInterpolatedPointInternal(t,e,s){if(!this.xAxis||!this.yAxis||!t)return;let n=Fe,o=Ki,r=-1,a=ot;for(let u=e;u+1<t.length;u++){const m=t[u],c=t[u+1];if(!this.isValidPoint(m)||!this.isValidPoint(c))continue;const p=this.transform(m),x=this.transform(c),w=be.findPointOnLine(s,p,x);if(bn(w))continue;const S=ue(s,w).lengthSquared;if(S<a){const k=ue(x,p).length,A=k>0?ue(w,p).length/k:0;o=this.inverseTransform(w),n=w,a=S,r=u+A}}if(a<ot){const u=this.getItem(Math.round(r));return new Wt({series:this,dataPoint:o,position:n,item:u,index:r})}}getNearestPointInternal(t,e,s){let n=Fe,o=Ki,r=-1,a=ot,u=e;for(const m of t.slice(e)){if(!this.isValidPoint(m)){u++;continue}const c=tt.transform(this,m.x,m.y),p=ue(c,s).lengthSquared;p<a&&(o=m,n=c,a=p,r=u),u++}if(a<ot){const m=this.getItem(Math.round(r));return new Wt({series:this,dataPoint:o,position:n,item:m,index:r})}}isValidPoint(t){return this.isValidPoint2(t.x,t.y)}isValidPoint2(t,e){return!!(this.xAxis&&this.xAxis.isValidValue(t)&&this.yAxis&&this.yAxis.isValidValue(e))}internalUpdateMaxMin(t){if(!t)throw new Error("points is null");if(this.isXMonotonic=!0,t.length===0)return;let e=this.minX,s=this.minY,n=this.maxX,o=this.maxY;isNaN(e)&&(e=ot),isNaN(s)&&(s=ot),isNaN(n)&&(n=ct),isNaN(o)&&(o=ct);let r=ct;for(const a of t){const u=a.x,m=a.y;this.isValidPoint2(u,m)&&(u<r&&(this.isXMonotonic=!1),u<e&&(e=u),u>n&&(n=u),m<s&&(s=m),m>o&&(o=m),r=u)}e<ot&&(this.minX=e),s<ot&&(this.minY=s),n>ct&&(this.maxX=n),o>ct&&(this.maxY=o)}internalUpdateMaxMin2(t,e,s,n,o){if(!t)throw new Error("items is null");if(this.isXMonotonic=!0,t.length===0)return;let r=this.minX,a=this.minY,u=this.maxX,m=this.maxY;isNaN(r)&&(r=ot),isNaN(a)&&(a=ot),isNaN(u)&&(u=ct),isNaN(m)&&(m=ct);let c=ct,p=ct;for(const x of t){const w=e(x),S=s(x),k=n(x),A=o(x);!this.isValidPoint2(w,k)||!this.isValidPoint2(S,A)||((w<c||S<p)&&(this.isXMonotonic=!1),w<r&&(r=w),S>u&&(u=S),k<a&&(a=k),A>m&&(m=A),c=w,p=S)}r<ot&&(this.minX=r),a<ot&&(this.minY=a),u>ct&&(this.maxX=u),m>ct&&(this.maxY=m)}verifyAxes(){if(!this.xAxis)throw new Error("XAxis not defined.");if(!this.yAxis)throw new Error("YAxis not defined.")}updateWindowStartIndex(t,e,s,n){return n=this.findWindowStartIndex(t,e,s,n),n>0&&n--,n}findWindowStartIndex(t,e,s,n){let o=0,r=t.length-1;for(;r>0&&isNaN(e(t[r]));)r-=1;let a=r,u=Math.max(0,Math.min(a,n));const m=c=>{for(;c<=r;){const p=e(t[c]);if(isNaN(p))c+=1;else return p}return e(t[r])};for(;o<a;){const c=m(u);if(c===s){o=u;break}else c>s?a=u-1:o=u;if(o>=a)break;const p=m(a),x=m(o),w=(a-o+1)/(p-x);u=o+Math.round((s-x)*w),u=Math.max(o+1,Math.min(u,a))}for(;o>0&&e(t[o])>s;)o-=1;return o}formatDefaultTrackerString(t,e,s){var n,o,r,a;if(!this.trackerStringFormatter)return;const u={item:t,title:this.title||""};return e&&(u.xTitle=((n=this.xAxis)==null?void 0:n.title)??lo.defaultXAxisTitle,u.xValue=(o=this.xAxis)==null?void 0:o.getValue(e.x),u.yTitle=((r=this.yAxis)==null?void 0:r.title)??lo.defaultYAxisTitle,u.yValue=(a=this.yAxis)==null?void 0:a.getValue(e.y)),s&&s(u),this.trackerStringFormatter(u)}getJsonIgnoreProperties(){return[...super.getJsonIgnoreProperties(),"isXMonotonic","windowStartIndex"]}getElementDefaultValues(){return Ue}};h(Go,"DefaultTrackerFormatter",function(i){return`${i.title||""}
${i.xTitle}: ${i.xValue}
${i.yTitle}: ${i.yValue}`});h(Go,"defaultXAxisTitle","X");h(Go,"defaultYAxisTitle","Y");let Vt=Go;const Er={canTrackerInterpolatePoints:!1,points:void 0,dataFieldX:void 0,dataFieldY:void 0,mapping:void 0},ha={...Ue,...Er};class ca extends Vt{constructor(t){super(t),h(this,"_points",[]),h(this,"_itemsSourcePoints",[]),h(this,"canTrackerInterpolatePoints",Er.canTrackerInterpolatePoints),h(this,"dataFieldX"),h(this,"dataFieldY"),h(this,"mapping"),t!=null&&t.points&&(t.points.forEach(e=>this._points.push(e)),delete t.points),it(this,Er,t)}get points(){return this._points}get actualPoints(){return this.itemsSource?this._itemsSourcePoints:this._points}getNearestPoint(t,e){if(e&&!this.canTrackerInterpolatePoints)return;let s;return e&&(s=this.getNearestInterpolatedPointInternal(this.actualPoints,0,t)),s||(s=this.getNearestPointInternal(this.actualPoints,0,t)),s&&this.trackerStringFormatter&&(s.text=this.formatDefaultTrackerString(s.item,s.dataPoint)),s}updateData(){this.itemsSource&&this.updateItemsSourcePoints()}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMin(this.actualPoints)}getItem(t){const e=this.actualPoints;return!this.itemsSource&&e&&t<e.length?e[t]:super.getItem(t)}clearItemsSourcePoints(){this._itemsSourcePoints&&(this._itemsSourcePoints.length=0)}updateItemsSourcePoints(){if(!this.itemsSource)return;const t=this.itemsSource;if(this.mapping){this.clearItemsSourcePoints();for(const e of t)this._itemsSourcePoints.push(this.mapping(e));return}this.clearItemsSourcePoints();for(const e of t){const s=this.convertToDataPoint(e);s&&this._itemsSourcePoints.push(s)}}convertToDataPoint(t){if(t){if(Pm(t))return t;if(this.dataFieldX&&this.dataFieldY){const e=this.xAxis?this.xAxis.itemToDouble(t[this.dataFieldX]):Number(t[this.dataFieldX]),s=this.yAxis?this.yAxis.itemToDouble(t[this.dataFieldY]):Number(t[this.dataFieldY]);return d(e,s)}if(Ah(t))return t.getDataPoint();throw new Error(`Cannot convert item ${t} to DataPoint`)}}getElementDefaultValues(){return ha}}var js=(i=>(i[i.None=0]="None",i[i.Start=1]="Start",i[i.End=2]="End",i))(js||{});const ge={color:f.Automatic,brokenLineColor:f.Undefined,brokenLineStyle:v.Solid,brokenLineThickness:0,labelMargin:6,lineJoin:st.Bevel,lineStyle:v.Automatic,lineLegendPosition:0,markerFill:f.Automatic,markerResolution:0,markerSize:3,markerStroke:f.Automatic,markerStrokeThickness:1,markerType:V.None,minimumSegmentLength:2,strokeThickness:2,canTrackerInterpolatePoints:!0,dashes:void 0,decimator:void 0,labelStringFormatter:void 0,markerOutline:void 0,interpolationAlgorithm:void 0},ls={...ha,...ge},Xl=class Yl extends ca{constructor(t){super(t),h(this,"_outputBuffer"),h(this,"_contiguousScreenPointsBuffer"),h(this,"_decimatorBuffer",[]),h(this,"_defaultColor",f.Undefined),h(this,"_defaultMarkerFill",f.Undefined),h(this,"_defaultLineStyle",v.Solid),h(this,"_smoothedPoints",[]),h(this,"color",ge.color),h(this,"brokenLineColor",ge.brokenLineColor),h(this,"brokenLineStyle",ge.brokenLineStyle),h(this,"brokenLineThickness",ge.brokenLineThickness),h(this,"dashes"),h(this,"decimator"),h(this,"labelStringFormatter"),h(this,"labelMargin",ge.labelMargin),h(this,"lineJoin",ge.lineJoin),h(this,"lineStyle",ge.lineStyle),h(this,"lineLegendPosition",ge.lineLegendPosition),h(this,"markerFill",ge.markerFill),h(this,"markerOutline"),h(this,"markerResolution",ge.markerResolution),h(this,"markerSize",ge.markerSize),h(this,"markerStroke",ge.markerStroke),h(this,"markerStrokeThickness",ge.markerStrokeThickness),h(this,"markerType",ge.markerType),h(this,"minimumSegmentLength",ge.minimumSegmentLength),h(this,"interpolationAlgorithm"),h(this,"strokeThickness",ge.strokeThickness),Ot(this,"labelStringFormatter",t),it(this,ge,t,{exclude:["labelStringFormatter"]})}getElementName(){return"LineSeries"}get actualColor(){return M.getActualColor(this.color,this._defaultColor)}get actualMarkerFill(){return M.getActualColor(this.markerFill,this._defaultMarkerFill)}get actualLineStyle(){return this.lineStyle!=v.Automatic?this.lineStyle:this._defaultLineStyle}get actualDashArray(){return this.dashes??$t.getDashArray(this.actualLineStyle)}get smoothedPoints(){return this._smoothedPoints}getNearestPoint(t,e){if(e&&(M.isInvisible(this.actualColor)||this.strokeThickness===0||!this.canTrackerInterpolatePoints))return;const s=this.trackerStringFormatter;if(e&&this.interpolationAlgorithm){const n=this.getNearestInterpolatedPointInternal(this.smoothedPoints,0,t);return n&&s&&(n.text=s({item:n.item,title:this.title,xTitle:this.xAxis.title??Vt.defaultXAxisTitle,xValue:this.xAxis.getValue(n.dataPoint.x),yTitle:this.yAxis.title??Vt.defaultYAxisTitle,yValue:this.yAxis.getValue(n.dataPoint.y)})),n}return super.getNearestPoint(t,e)}async render(t){const e=this.actualPoints;!e||e.length===0||(this.verifyAxes(),await this.renderPoints(t,e),this.labelStringFormatter&&await this.renderPointLabels(t),this.lineLegendPosition!==0&&this.title&&await this.renderLegendOnLine(t))}async renderLegend(t,e){const s=P.right(e),n=P.bottom(e),o=(e.left+s)/2,r=(e.top+n)/2,a=[R(e.left,r),R(s,r)];await t.drawLine(a,this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode,this.actualDashArray);const u=R(o,r);await O.drawMarker(t,u,this.markerType,this.markerOutline,this.markerSize,this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)}setDefaultValues(){this.lineStyle===v.Automatic&&(this._defaultLineStyle=this.plotModel.getDefaultLineStyle()),M.isAutomatic(this.color)&&(this._defaultColor=this.plotModel.getDefaultColor()),M.isAutomatic(this.markerFill)&&(this._defaultMarkerFill=M.isAutomatic(this.color)?this._defaultColor:this.color)}updateMaxMin(){if(this.interpolationAlgorithm){if(super.updateMaxMin(),this.resetSmoothedPoints(),this.smoothedPoints.every(s=>isNaN(s.x)))return;const t=this.smoothedPoints.filter(s=>!isNaN(s.x)).map(s=>s.x),e=this.smoothedPoints.filter(s=>!isNaN(s.y)).map(s=>s.y);this.minX=zt(t),this.minY=zt(e),this.maxX=qt(t),this.maxY=qt(e)}else super.updateMaxMin()}async renderPoints(t,e){let s;const n=this.brokenLineThickness>0&&this.brokenLineStyle!==v.None,o=n?$t.getDashArray(this.brokenLineStyle):void 0,r=n?[]:void 0;this._contiguousScreenPointsBuffer||(this._contiguousScreenPointsBuffer=[]);let a=0,u=ot;if(this.isXMonotonic){const m=this.xAxis.clipMinimum;u=this.xAxis.clipMaximum,this.windowStartIndex=this.updateWindowStartIndex(e,c=>c.x,m,this.windowStartIndex),a=this.windowStartIndex}for(let m=a;m<e.length;m++){const{result:c,pointIdx:p,previousContiguousLineSegmentEndPoint:x}=this.extractNextContiguousLineSegment(e,m,s,u,r,this._contiguousScreenPointsBuffer);if(m=p,s=x,!c)break;if(n){if(r&&r.length>0){const w=M.isAutomatic(this.brokenLineColor)?this.actualColor:this.brokenLineColor;await t.drawLineSegments(r,w,this.brokenLineThickness,this.edgeRenderingMode,o,this.lineJoin),r.length=0}}else s=void 0;this.decimator?(this._decimatorBuffer?this._decimatorBuffer.length=0:this._decimatorBuffer=[],this.decimator(this._contiguousScreenPointsBuffer,this._decimatorBuffer),await this.renderLineAndMarkers(t,this._decimatorBuffer)):await this.renderLineAndMarkers(t,this._contiguousScreenPointsBuffer),this._contiguousScreenPointsBuffer.length=0}}extractNextContiguousLineSegment(t,e,s,n,o,r){let a=d(0,0),u=!1;for(;e<t.length;e++){if(a=t[e],a.x>n)return{result:!1,pointIdx:e,previousContiguousLineSegmentEndPoint:s};if(u=this.isValidPoint(a),u)break}if(!u)return{result:!1,pointIdx:e,previousContiguousLineSegmentEndPoint:s};let m=this.transform(a);s&&(o.push(s),o.push(m)),r.push(m);let c=0;for(e++;e<t.length&&(a=t[e],c+=a.x>n?1:0,!(c>1||!this.isValidPoint(a)));e++)m=this.transform(a),r.push(m);return s=m,{result:!0,pointIdx:e,previousContiguousLineSegmentEndPoint:s}}async renderPointLabels(t){if(!this.labelStringFormatter)return;let e=-1;for(const s of this.actualPoints){if(e++,!this.isValidPoint(s))continue;const n=Rt(this.transform(s),It(0,-this.labelMargin)),o=this.getItem(e),r=this.labelStringFormatter(o,[s.x,s.y]);await t.drawText(n,r,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,F.Center,N.Bottom)}}async renderLegendOnLine(t){if(!this.title)return;let e,s,n=N.Middle,o=4;switch(this.lineLegendPosition){case 1:e=this.actualPoints[0],s=F.Right,o=-o;break;case 2:e=this.actualPoints[this.actualPoints.length-1],s=F.Left;break;case 0:return;default:throw new Error("Invalid LineLegendPosition")}const r=tt.orientateAlignment(this,s,n);s=r[0],n=r[1];const a=tt.orientateVector(this,It(o,0)),u=Rt(this.transform(e),a);await t.drawText(u,this.title,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,s,n)}async renderLineAndMarkers(t,e){let s=e;if(this.interpolationAlgorithm){const n=be.resamplePoints(e,this.minimumSegmentLength);s=this.interpolationAlgorithm.createSplineSp(n,!1,.25)}if(this.strokeThickness>0&&this.actualLineStyle!==v.None&&await this.renderLine(t,s),this.markerType!==V.None){const n=this.markerResolution>0?tt.transform(this,this.minX,this.minY):Fe;await O.drawMarkers(t,e,this.markerType,this.markerOutline,[this.markerSize],this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,this.markerResolution,n)}}async renderLine(t,e){const s=this.actualDashArray;this._outputBuffer||(this._outputBuffer=[]),await O.drawReducedLine(t,e,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode,s,this.lineJoin,this._outputBuffer)}resetSmoothedPoints(){const t=Math.abs(Math.max(this.maxX-this.minX,this.maxY-this.minY)/Yl.ToleranceDivisor);this._smoothedPoints=this.interpolationAlgorithm.createSplineDp(this.actualPoints,!1,t)}getElementDefaultValues(){return ls}toJSON(t){var e;const s=super.toJSON(t);return(e=this.points)!=null&&e.length&&(s.points=this.points),s}};h(Xl,"ToleranceDivisor",200);let G=Xl;function L(i,t,e){const s={categoryIndex:-1,value:0,color:f.Automatic};return yt(i)?s:typeof i=="number"?Object.assign({},s,xi({value:i,categoryIndex:t,color:e})):Object.assign({},s,xi(i))}function zi(i,t){return i.categoryIndex<0?t:i.categoryIndex}const Pi={barWidth:1,strokeColor:f.Black,strokeThickness:0,labelColor:f.Undefined,labelMargin:0,labelAngle:0,labelPlacement:dt.Outside,labelStringFormatter:void 0,items:[]},da={...Ue,...Pi};class Oi extends Vt{constructor(t){super(t),h(this,"barWidth",Pi.barWidth),h(this,"itemsSourceItems"),h(this,"strokeColor",Pi.strokeColor),h(this,"strokeThickness",Pi.strokeThickness),h(this,"_manager"),h(this,"validItems",[]),h(this,"validItemsIndexInversion",new Map),h(this,"labelColor",Pi.labelColor),h(this,"labelMargin",Pi.labelMargin),h(this,"labelAngle",Pi.labelAngle),h(this,"labelPlacement",Pi.labelPlacement),h(this,"items",[]),it(this,Pi,t)}get manager(){return this._manager}set manager(t){this._manager=t}get actualItems(){return this.itemsSource?this.itemsSourceItems:this.items}getActualBarWidth(){if(!this.manager)return 0;const t=this.getCategoryAxis();return this.barWidth/(1+t.gapWidth)/this.manager.getMaxWidth()}get categoryAxis(){return this.getCategoryAxis()}getCategoryAxis(){if(!(this.yAxis instanceof Z))throw new Error("BarSeries requires a CategoryAxis on the Y Axis.");return this.yAxis}get valueAxis(){return this.xAxis}getItem(t){return this.itemsSource||!this.actualItems||this.actualItems.length===0?super.getItem(t):this.actualItems[t]}clearItemsSourceItems(){this.itemsSourceItems&&(this.itemsSourceItems.length=0)}isUsing(t){return this.xAxis===t||this.yAxis===t}async renderLabel(t,e,s,n,o,r,a,...u){const m=[];if(u.length)m.push(...u);else if("value"in e)m.push(e.value);else if("start"in e&&"end"in e)m.push(e.start),m.push(e.end);else throw new Error(`RenderLabel automatic value determination not implemented for ${this.constructor.name}. Please populate the labelValues parameter.`);const c=a?a(e,m):"";let p;const x=(r+o)/2,w=Math.sign(n-s);let S=Rn(this.labelMargin,0).times(w),k=It(0,0);const A=O.measureText(t,c,this.actualFont,this.actualFontSize,this.actualFontWeight,this.labelAngle),C=(tt.isTransposed(this)?A.height:A.width)/2,T=tt.transform;switch(this.labelPlacement){case dt.Inside:p=T(this,n,x),S=S.negate(),k=It(-w*C,0);break;case dt.Outside:p=T(this,n,x),k=It(w*C,0);break;case dt.Middle:p=T(this,(n+s)/2,x),S=Rn(0,0);break;case dt.Base:p=T(this,s,x),k=It(w*C,0);break;default:throw new Error("Invalid label placement")}const D=tt.orientateVector;p=Rt(Rt(p,D(this,S)),D(this,k)),await t.drawText(p,c,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.labelAngle,F.Center,N.Middle)}updateAxisMaxMin(){this.xAxis.include(this.minX),this.xAxis.include(this.maxX)}updateData(){this.clearItemsSourceItems(),!(!this.itemsSource||this.itemsSource.length==0)&&(this.updateFromDataFields()||(this.itemsSourceItems||(this.itemsSourceItems=[]),this.itemsSourceItems.push(...this.itemsSource)))}updateValidData(){this.validItems.length=0,this.validItemsIndexInversion.clear();const t=this.manager.categories.length;for(let e=0;e<this.actualItems.length;e++){const s=this.actualItems[e];s&&zi(s,e)<t&&this.isValid(s)&&(this.validItemsIndexInversion.set(this.validItems.length,e),this.validItems.push(s))}}getJsonIgnoreProperties(){return[...super.getJsonIgnoreProperties(),"itemsSourceItems","validItems","validItemsIndexInversion"]}}h(Oi,"DefaultCategoryAxisTitle","Category");h(Oi,"DefaultValueAxisTitle","Value");const Wh=function(i){return`${i.title||""}
${i.category}: ${i.value}`},Li={fillColor:f.Automatic,negativeFillColor:f.Undefined,labelMargin:2,labelAngle:0,stackGroup:"",strokeThickness:0,baseValue:0,baseLine:NaN,isStacked:!1,overlapsStack:!1,trackerStringFormatter:Wh,colorField:void 0,labelStringFormatter:void 0,valueField:void 0},jl={...da,...Li};class H extends Oi{constructor(t){super(t),h(this,"_defaultFillColor",f.Undefined),h(this,"trackerStringFormatter"),h(this,"baseValue",Li.baseValue),h(this,"baseLine",Li.baseLine),h(this,"_actualBaseLine",NaN),h(this,"colorField"),h(this,"fillColor",Li.fillColor),h(this,"isStacked",Li.isStacked),h(this,"overlapsStack",Li.overlapsStack),h(this,"labelStringFormatter"),h(this,"negativeFillColor",Li.negativeFillColor),h(this,"stackGroup",Li.stackGroup),h(this,"valueField"),h(this,"actualBarRectangles"),Ot(this,"labelStringFormatter",t),it(this,Li,t,{exclude:["labelStringFormatter"]})}getElementName(){return"BarSeries"}get actualBaseLine(){return this._actualBaseLine}set actualBaseLine(t){this._actualBaseLine=t}get actualFillColor(){return M.getActualColor(this.fillColor,this._defaultFillColor)}getNearestPoint(t,e){if(!this.actualBarRectangles||this.validItems.length===0)return;let s=0;for(const n of this.actualBarRectangles){if(P.containsPoint(n,t)){const o=this.validItems[s],r=zi(o,s),a=d(r,this.validItems[s].value),u=this.getItem(this.validItemsIndexInversion.get(s));return new Wt({series:this,dataPoint:a,position:t,item:u,index:s,text:this.getTrackerText(o,u,r)})}s++}}renderLegend(t,e){const s=P.right(e),n=P.bottom(e),o=(e.left+s)/2,r=(e.top+n)/2,a=(n-e.top)*.8,u=a;return t.drawRectangle(J(o-.5*u,r-.5*a,u,a),this.getSelectableColor(this.actualFillColor),this.strokeColor,this.strokeThickness,this.edgeRenderingMode)}setDefaultValues(){M.isAutomatic(this.fillColor)&&(this._defaultFillColor=this.plotModel.getDefaultColor())}updateAxisMaxMin(){super.updateAxisMaxMin(),this.computeActualBaseLine(),this.xAxis.include(this.actualBaseLine)}computeActualBaseLine(){if(ht(this.baseLine))if(this.xAxis.isLogarithmic()){const t=(this.actualItems||[]).map(s=>s.value),e=zt(t.filter(s=>s>0),1);this.actualBaseLine=Math.max(e/10,this.baseValue)}else this.actualBaseLine=0;else this.actualBaseLine=this.baseLine}updateMaxMin(){if(super.updateMaxMin(),this.validItems.length===0)return;const t=this.getCategoryAxis();let e=ot,s=ct;const n=this.manager;if(this.isStacked){const o=t.actualLabels;for(let r=0;r<o.length;r++){let a=0;const u=this.validItems.filter(S=>zi(S,a++)===r).map(S=>S.value).concat([0]);let m=u.filter(S=>S<=0).reduce((S,k)=>S+k,0),c=u.filter(S=>S>=0).reduce((S,k)=>S+k,0);const p=n.getStackIndex(this.stackGroup),x=n.getCurrentMinValue(p,r);isNaN(x)||(m+=x),n.setCurrentMinValue(p,r,m);const w=n.getCurrentMaxValue(p,r);!this.overlapsStack&&!isNaN(w)&&(c+=w),n.setCurrentMaxValue(p,r,c),e=Math.min(e,m+this.baseValue),s=Math.max(s,c+this.baseValue)}}else{const o=this.validItems.map(r=>r.value).concat([0]);e=zt(o),s=qt(o),this.baseValue<e&&(e=this.baseValue),this.baseValue>s&&(s=this.baseValue)}this.minX=e,this.maxX=s}getTrackerText(t,e,s){if(!this.trackerStringFormatter)return;const n=this.getCategoryAxis(),o=this.xAxis;return this.trackerStringFormatter({item:e,title:this.title,category:n.formatValue(s),value:o==null?void 0:o.getValue(t.value)})}isValid(t){return this.xAxis.isValidValue(t.value)}async renderItem(t,e,s,n,o,r){let a=o.color;M.isAutomatic(a)&&(a=this.actualFillColor,o.value<0&&!M.isUndefined(this.negativeFillColor)&&(a=this.negativeFillColor));const u=O.getActualEdgeRenderingMode(this.edgeRenderingMode,U.PreferSharpness);await t.drawRectangle(r,this.getSelectableFillColor(a),this.strokeColor,this.strokeThickness,u)}async render(t){if(this.actualBarRectangles=[],this.validItems.length===0)return;const e=this.manager,s=this.yAxis,n=this.xAxis,o=tt.transform,r=this.getActualBarWidth(),a=this.isStacked?e.getStackIndex(this.stackGroup):0;for(let u=0;u<this.validItems.length;u++){const m=this.validItems[u],c=zi(m,u),p=m.value;let x=NaN;this.isStacked&&!this.overlapsStack&&(x=e.getCurrentBaseValue(a,c,p<0)),ht(x)&&(x=this.baseValue);const w=this.isStacked?x+p:p;if(s.isLogarithmic()&&!s.isValidValue(w))continue;let S;this.isStacked?S=e.getCategoryValue(c,a,r):S=c-.5+e.getCurrentBarOffset(c),this.isStacked&&e.setCurrentBaseValue(a,c,p<0,w);const k=n.isLogarithmic()&&!n.isValidValue(x),A=o(this,k?n.clipMinimum:x,S),C=o(this,w,S+r),T=P.fromScreenPoints(A,C);this.actualBarRectangles.push(T),await this.renderItem(t,w,S,r,m,T),this.labelStringFormatter&&await this.renderLabel(t,m,x,w,S,S+r,this.labelStringFormatter),this.isStacked||e.increaseCurrentBarOffset(c,r)}}updateFromDataFields(){if(!this.valueField)return!1;if(!this.itemsSource||this.itemsSource.length==0)return!0;this.itemsSourceItems=this.itemsSourceItems||[];for(const t of this.itemsSource){if(yt(t))continue;const e=t[this.valueField],s=L();s.value=yt(e)?NaN:e;let n=f.Automatic;this.colorField&&t[this.colorField]&&M.isOxyColor(t[this.colorField])&&(n=t[this.colorField]),s.color=n,this.itemsSourceItems.push(s)}return!0}getElementDefaultValues(){return jl}}class vo{constructor(t,e,s){if(h(this,"currentBarOffset"),h(this,"currentMaxValue"),h(this,"currentMinValue"),h(this,"currentNegativeBaseValues"),h(this,"currentPositiveBaseValues"),h(this,"maxWidth",NaN),h(this,"_categoryAxis"),h(this,"_series"),h(this,"_valueAxis"),h(this,"_barOffset"),h(this,"_stackedBarOffset"),h(this,"_stackIndexMapping",new Map),!t.plotModel)throw new Error("The category axis must be part of a plot model.");this._categoryAxis=t,this._valueAxis=e,this._series=s;for(const n of this._series)n.manager=this}get categoryAxis(){return this._categoryAxis}get managedSeries(){return this._series}get plotModel(){return this.categoryAxis.plotModel}get valueAxis(){return this._valueAxis}get categories(){return this._categoryAxis.actualLabels}get stackIndexMapping(){return this._stackIndexMapping}getCategoryValue(t,e,s){const n=this._stackedBarOffset[e][t],o=this._stackedBarOffset[e+1][t];return t-.5+(o+n-s)*.5}getCurrentBarOffset(t){return this.currentBarOffset?this.currentBarOffset[t]:0}getCurrentBaseValue(t,e,s){return s?this.currentNegativeBaseValues[t][e]:this.currentPositiveBaseValues[t][e]}getCurrentMaxValue(t,e){return this.currentMaxValue?this.currentMaxValue[t][e]:0}getCurrentMinValue(t,e){return this.currentMinValue?this.currentMinValue[t][e]:0}getMaxWidth(){return this.maxWidth}getStackIndex(t){const e=this._stackIndexMapping.get(t);return Ci(e)?-1:e}increaseCurrentBarOffset(t,e){this.currentBarOffset&&(this.currentBarOffset[t]+=e)}initializeRender(){this.resetCurrentValues()}setCurrentBaseValue(t,e,s,n){s?this.currentNegativeBaseValues[t][e]=n:this.currentPositiveBaseValues[t][e]=n}setCurrentMaxValue(t,e,s){this.currentMaxValue[t][e]=s}setCurrentMinValue(t,e,s){this.currentMinValue[t][e]=s}update(){this.categoryAxis.updateLabels(Math.max(...this.managedSeries.map(t=>t.actualItems.length))),this.updateBarOffsets(),this.updateValidData(),this.resetCurrentValues()}static hasCategory(t,e){return t.actualItems.length>e&&t.actualItems[e].categoryIndex<0?!0:t.actualItems.some(s=>s.categoryIndex===e)}resetCurrentValues(){this.currentBarOffset=[...this._barOffset||[]];const t=this.categoryAxis.actualLabels,e=this._stackIndexMapping.size;e>0?(this.currentPositiveBaseValues=ki(e,t.length,Number.NaN),this.currentNegativeBaseValues=ki(e,t.length,Number.NaN),this.currentMaxValue=ki(e,t.length,Number.NaN),this.currentMinValue=ki(e,t.length,Number.NaN)):(this.currentPositiveBaseValues=void 0,this.currentNegativeBaseValues=void 0,this.currentMaxValue=void 0,this.currentMinValue=void 0)}updateBarOffsets(){if(this.categories.length===0){this.maxWidth=Number.NaN,this._stackedBarOffset=void 0,this._stackIndexMapping.clear();return}const t=new Array(this.categories.length).fill(0),e=new Map;this._barOffset=new Array(this.categories.length).fill(0);const s=this.managedSeries.filter(a=>sl(a)).map(a=>a),n=Array.from(s.filter(a=>a.isStacked).reduce((a,u)=>a.set(u.stackGroup,(a.get(u.stackGroup)||[]).concat(u)),new Map).values());for(const a of n){const u=Math.max(...a.map(m=>m.barWidth));e.set(a[0].stackGroup,u);for(let m=0;m<this.categories.length;m++)a.some(c=>vo.hasCategory(c,m))&&(t[m]+=u)}for(const a of this.managedSeries.filter(u=>!sl(u)||!u.isStacked))for(let u=0;u<this.categories.length;u++){let m=a.actualItems.filter(c=>c.categoryIndex===u).length;a.actualItems.length>u&&a.actualItems[u].categoryIndex<0&&m++,t[u]+=a.barWidth*m}this.maxWidth=Math.max(...t),this._stackedBarOffset=ki(n.length+1,this.categories.length,0);const o=1/(1+this.categoryAxis.gapWidth)/this.maxWidth;for(let a=0;a<this.categories.length;a++)this._barOffset[a]=.5-t[a]*o*.5;for(let a=0;a<n.length;a++){const u=n[a];for(let m=0;m<this.categories.length;m++)this._stackedBarOffset[a][m]=this._barOffset[m],u.some(c=>vo.hasCategory(c,m))&&(this._barOffset[m]+=e.get(u[0].stackGroup)*o)}for(let a=0;a<this.categories.length;a++)this._stackedBarOffset[n.length][a]=this._barOffset[a];this._stackIndexMapping.clear();let r=0;for(const a of n.map(u=>u[0].stackGroup).sort())this._stackIndexMapping.set(a,r++)}updateValidData(){for(const t of this.managedSeries)t.updateValidData()}}function Xh(i){return i&&!yt(i.barWidth)&&i.categoryAxis}const Yh={categoryIndex:-1,color:f.Automatic,end:0,start:0};function Ht(i){return Object.assign({},Yh,xi(i))}const zr={fillColor:f.Automatic,strokeThickness:1,labelMargin:4,labelPlacement:dt.Middle,colorField:void 0,endField:void 0,startField:void 0},jh={...da,...zr},ql=class Jl extends Oi{constructor(t){super(t),h(this,"_defaultFillColor",f.Undefined),h(this,"trackerStringFormatter"),h(this,"colorField"),h(this,"endField"),h(this,"fillColor",zr.fillColor),h(this,"isStacked",!0),h(this,"overlapsStack",!0),h(this,"labelStringFormatter",function(e,s){return`${s[0]} - ${s[1]}`}),h(this,"stackGroup",""),h(this,"startField"),h(this,"actualBarRectangles",[]),this.trackerStringFormatter=Jl.DefaultTrackerStringFormatter,Ot(this,"trackerStringFormatter",t),it(this,zr,t,{exclude:["trackerStringFormatter"]})}getElementName(){return"IntervalBarSeries"}get actualFillColor(){return M.getActualColor(this.fillColor,this._defaultFillColor)}getNearestPoint(t,e){for(let s=0;s<this.actualBarRectangles.length;s++){const n=this.actualBarRectangles[s];if(!P.containsPoint(n,t))continue;const o=this.getItem(this.validItemsIndexInversion.get(s)),r=zi(o,s),a=(this.validItems[s].start+this.validItems[s].end)/2,u=d(r,a),m=this.getCategoryAxis(),c=this.xAxis,p=this.trackerStringFormatter({item:o,title:this.title,categoryTitle:m.title??Oi.DefaultCategoryAxisTitle,categoryValue:m.formatValue(r),valueTitle:c.title??Oi.DefaultValueAxisTitle});return new Wt({series:this,dataPoint:u,position:t,item:o,index:s,text:p})}}async renderLegend(t,e){const s=P.right(e),n=P.bottom(e),o=(e.left+s)/2,r=(e.top+n)/2,a=(n-e.top)*.8,u=a;await t.drawRectangle(J(o-.5*u,r-.5*a,u,a),this.getSelectableFillColor(this.actualFillColor),this.strokeColor,this.strokeThickness,this.edgeRenderingMode)}setDefaultValues(){M.isAutomatic(this.fillColor)&&(this._defaultFillColor=this.plotModel.getDefaultColor())}updateMaxMin(){if(super.updateMaxMin(),this.validItems.length===0)return;let t=ot,e=ct;for(const s of this.validItems)t=Math.min(t,s.start),t=Math.min(t,s.end),e=Math.max(e,s.start),e=Math.max(e,s.end);this.minX=t,this.maxX=e}isValid(t){return this.xAxis.isValidValue(t.start)&&this.xAxis.isValidValue(t.end)}async render(t){if(this.actualBarRectangles=[],this.validItems.length===0)return;const e=this.getActualBarWidth(),s=this.manager.getStackIndex(this.stackGroup),n=tt.transform,o=O.getActualEdgeRenderingMode(this.edgeRenderingMode,U.PreferSharpness);for(let r=0;r<this.validItems.length;r++){const a=this.validItems[r],u=zi(a,r),m=this.manager.getCategoryValue(u,s,e),c=n(this,a.start,m),p=n(this,a.end,m+e),x=P.fromScreenPoints(c,p);this.actualBarRectangles.push(x),await t.drawRectangle(x,this.getSelectableFillColor(M.getActualColor(a.color,this.actualFillColor)),this.strokeColor,this.strokeThickness,o),this.labelStringFormatter&&await this.renderLabel(t,this.getItem(r),a.start,a.end,m,m+e,this.labelStringFormatter)}}updateFromDataFields(){var t;if(!this.startField||!this.endField||!this.itemsSource)return!1;for(const e of this.itemsSource){const s=Xt(e,this.startField,NaN),n=Xt(e,this.endField,NaN),o=Xt(e,this.colorField,f.Automatic);(t=this.itemsSourceItems)==null||t.push(Ht({start:s,end:n,color:o}))}return!0}getElementDefaultValues(){return jh}};h(ql,"DefaultTrackerStringFormatter",function(i){var t,e;return`${i.title}
${i.categoryTitle}: ${i.categoryValue}
${i.valueTitle}: ${(t=i.item)==null?void 0:t.start} - ${(e=i.item)==null?void 0:e.end}`});let ci=ql;function sl(i){return i&&!Ci(i.isStacked)&&typeof i.isStacked=="boolean"&&!Ci(i.stackGroup)&&typeof i.stackGroup=="string"}function Wi(i){const t=L(i);return t.error=i.error??0,t}const uo={errorStrokeThickness:1,errorWidth:.4},qh={...jl,...uo},Zl=class Kl extends H{constructor(t){super(t),h(this,"errorStrokeThickness",uo.errorStrokeThickness),h(this,"errorWidth",uo.errorWidth),this.trackerStringFormatter=Kl.DefaultTrackerStringFormatter,it(this,uo,t)}getElementName(){return"ErrorBarSeries"}updateMaxMin(){if(super.updateMaxMin(),this.validItems.length===0)return;let t=ot,e=ct;if(this.isStacked){const s=this.getCategoryAxis().actualLabels,n=this.manager;for(let o=0;o<s.length;o++){let r=0;const a=this.validItems.filter(S=>zi(S,r++)===o),u=a.map(S=>S.value).concat([0]);let m=u.filter(S=>S<=0).reduce((S,k)=>S+k,0),c=u.filter(S=>S>=0).reduce((S,k)=>S+k,0)+a[a.length-1].error;const p=n.getStackIndex(this.stackGroup),x=n.getCurrentMinValue(p,o);isNaN(x)||(m+=x),n.setCurrentMinValue(p,o,m);const w=n.getCurrentMaxValue(p,o);!this.overlapsStack&&!isNaN(w)&&(c+=w),n.setCurrentMaxValue(p,o,c),t=Math.min(t,m+this.baseValue),e=Math.max(e,c+this.baseValue)}}else{const s=this.validItems.map(o=>o.value-o.error).concat([0]),n=this.validItems.map(o=>o.value+o.error).concat([0]);t=zt(s),e=qt(n),this.baseValue<t&&(t=this.baseValue),this.baseValue>e&&(e=this.baseValue)}this.minX=t,this.maxX=e}async renderItem(t,e,s,n,o,r){await super.renderItem(t,e,s,n,o,r);const a=e-o.error,u=e+o.error,m=.5-this.errorWidth/2,c=.5+this.errorWidth/2,p=s+m*n,x=s+.5*n,w=s+c*n,S=O.getActualEdgeRenderingMode(this.edgeRenderingMode,U.PreferSharpness),k=tt.transform,A=k(this,a,x),C=k(this,u,x);if(await t.drawLine([A,C],this.strokeColor,this.errorStrokeThickness,S,void 0,st.Miter),this.errorWidth>0){const T=k(this,a,p),D=k(this,a,w);await t.drawLine([T,D],this.strokeColor,this.errorStrokeThickness,S,void 0,st.Miter);const B=k(this,u,p),I=k(this,u,w);await t.drawLine([B,I],this.strokeColor,this.errorStrokeThickness,S,void 0,st.Miter)}}getElementDefaultValues(){return qh}};h(Zl,"DefaultTrackerStringFormatter",function(i){return`${i.title||""}
${i.category}: ${i.value}, Error: ${Bt(i.item.error,3)}`});let Ro=Zl;const Si={fillColor:f.Automatic,barWidth:5,strokeColor:f.Black,strokeThickness:0,negativeFillColor:f.Undefined,negativeStrokeColor:f.Undefined,baseValue:0,baseLine:Number.NaN},Jh={...ha,...Si};class pa extends ca{constructor(t){super(t),h(this,"_rectangles",[]),h(this,"_rectanglesPointIndexes",[]),h(this,"_defaultColor",f.Undefined),h(this,"fillColor",Si.fillColor),h(this,"barWidth",Si.barWidth),h(this,"strokeThickness",Si.strokeThickness),h(this,"strokeColor",Si.strokeColor),h(this,"negativeFillColor",Si.negativeFillColor),h(this,"negativeStrokeColor",Si.negativeStrokeColor),h(this,"baseValue",Si.baseValue),h(this,"baseLine",Si.baseLine),h(this,"_actualBaseLine",NaN),it(this,Si,t)}getElementName(){return"LinearBarSeries"}get actualColor(){return M.getActualColor(this.fillColor,this._defaultColor)}get actualBaseLine(){return this._actualBaseLine}set actualBaseLine(t){this._actualBaseLine=t}getNearestPoint(t,e){const s=this.findRectangleIndex(t);if(s<0)return;const n=this._rectangles[s];if(!P.containsPoint(n,t))return;const o=this._rectanglesPointIndexes[s],r=this.actualPoints[o],a=this.getItem(o),u=this.formatDefaultTrackerString(a,r);return new Wt({series:this,dataPoint:r,position:t,item:a,index:o,text:u})}async render(t){this._rectangles.length=0,this._rectanglesPointIndexes.length=0;const e=this.actualPoints;!e||e.length===0||(this.verifyAxes(),await this.renderBars(t,e))}async renderLegend(t,e){const s=P.right(e),n=P.bottom(e),o=(e.left+s)/2,r=(e.top+n)/2,a=(n-e.top)*.8,u=a;await t.drawRectangle(J(o-.5*u,r-.5*a,u,a),this.getSelectableColor(this.actualColor),this.strokeColor,this.strokeThickness,this.edgeRenderingMode)}setDefaultValues(){M.isAutomatic(this.fillColor)&&(this._defaultColor=this.plotModel.getDefaultColor())}updateAxisMaxMin(){super.updateAxisMaxMin(),this.computeActualBaseLine(),this.yAxis.include(this.actualBaseLine)}computeActualBaseLine(){if(ht(this.baseLine))if(this.yAxis.isLogarithmic()){const t=this.actualPoints?zt(this.actualPoints.filter(e=>e.y>0).map(e=>e.y),1):1;this.actualBaseLine=Math.max(t/10,this.baseValue)}else this.actualBaseLine=0;else this.actualBaseLine=this.baseLine}findRectangleIndex(t){let e;return tt.isTransposed(this)?e=(s,n)=>P.bottom(s)<t.y?1:s.top>t.y?-1:0:e=(s,n)=>P.right(s)<t.x?-1:s.left>t.x?1:0,this._rectangles.findIndex(s=>e(s,Ae)===0)}async renderBars(t,e){const s=this.yAxis.isLogarithmic()&&!this.yAxis.isValidValue(this.baseValue),n=this.getBarWidth(e)/2,o=tt.orientateVector(this,It(n,0)),r=O.getActualEdgeRenderingMode(this.edgeRenderingMode,U.PreferSharpness);for(let a=0;a<e.length;a++){const u=e[a];if(!this.isValidPoint(u))continue;const m=ze(this.transform(u),o),c=this.transform(d(u.x,s?this.yAxis.clipMinimum:this.baseValue)),p=Rt(c,o),x=P.fromScreenPoints(p,m);this._rectangles.push(x),this._rectanglesPointIndexes.push(a);const w=this.getBarColors(u.y);await t.drawRectangle(x,w.fillColor,w.strokeColor,this.strokeThickness,r)}}getBarWidth(t){let e=this.barWidth/this.xAxis.scale;for(let s=1;s<t.length;s++){const n=t[s].x-t[s-1].x;n<e&&(e=n)}return e*this.xAxis.scale}getBarColors(t){const e=t>=this.baseValue,s=e||M.isUndefined(this.negativeFillColor)?this.getSelectableFillColor(this.actualColor):this.negativeFillColor,n=e||M.isUndefined(this.negativeStrokeColor)?this.strokeColor:this.negativeStrokeColor;return{fillColor:s,strokeColor:n}}getElementDefaultValues(){return Jh}toJSON(t){var e;const s=super.toJSON(t);return(e=this.points)!=null&&e.length&&(s.points=this.points),s}}const Zh={categoryIndex:-1,baseValue:NaN,maximum:NaN,maximumColor:f.Automatic,minimum:NaN,minimumColor:f.Automatic};function Je(i){return Object.assign({},Zh,xi(i))}function Kh(i){return i?"categoryIndex"in i&&"baseValue"in i&&"maximum"in i&&"minimum"in i:!1}const mo={maximumFillColor:M.fromRgb(216,82,85),minimumFillColor:M.fromRgb(84,138,209),strokeColor:f.Black,strokeThickness:1,labelMargin:4,baseField:void 0,baseValue:void 0,maximumColorField:void 0,maximumField:void 0,maximumLabelStringFormatter:void 0,minimumColorField:void 0,minimumField:void 0,minimumLabelStringFormatter:void 0,actualMaximumBarRectangles:void 0,actualMinimumBarRectangles:void 0},Qh={...da,...mo},Ho=class ho extends Oi{constructor(t){super(t),h(this,"_defaultMaximumFillColor",f.Undefined),h(this,"_defaultMinimumFillColor",f.Undefined),h(this,"baseField"),h(this,"baseValue",NaN),h(this,"maximumColorField"),h(this,"maximumField"),h(this,"maximumFillColor",mo.maximumFillColor),h(this,"maximumLabelStringFormatter"),h(this,"minimumColorField"),h(this,"minimumField"),h(this,"minimumFillColor",mo.minimumFillColor),h(this,"minimumLabelStringFormatter"),h(this,"actualMaximumBarRectangles",[]),h(this,"actualMinimumBarRectangles",[]),this.trackerStringFormatter=ho.defaultTrackerStringFormatter,Ot(this,"trackerStringFormatter",t),this.minimumLabelStringFormatter=ho.defaultMinimumLabelStringFormatter,Ot(this,"minimumLabelStringFormatter",t),this.maximumLabelStringFormatter=ho.defaultMaximumLabelStringFormatter,Ot(this,"maximumLabelStringFormatter",t),it(this,mo,t,{exclude:["trackerStringFormatter","minimumLabelStringFormatter","maximumLabelStringFormatter"]})}getElementName(){return"TornadoBarSeries"}get actualMaximumFillColor(){return M.getActualColor(this.maximumFillColor,this._defaultMaximumFillColor)}get actualMinimumFillColor(){return M.getActualColor(this.minimumFillColor,this._defaultMinimumFillColor)}getNearestPoint(t,e){for(let s=0;s<this.actualMinimumBarRectangles.length;s++){const n=P.containsPoint(this.actualMinimumBarRectangles[s],t),o=P.containsPoint(this.actualMaximumBarRectangles[s],t);if(n||o){const r=this.getItem(this.validItemsIndexInversion.get(s)),a=zi(r,s),u=o?this.validItems[s].maximum:this.validItems[s].minimum,m=d(a,u),c=this.getCategoryAxis(),p=this.trackerStringFormatter({item:r,title:this.title,yTitle:c.title??Oi.DefaultCategoryAxisTitle,yValue:c.formatValue(a),xTitle:this.xAxis.title??Oi.DefaultValueAxisTitle,xValue:this.xAxis.getValue(u)});return new Wt({series:this,dataPoint:m,position:t,item:r,index:s,text:p})}}}async render(t){if(this.actualMinimumBarRectangles=[],this.actualMaximumBarRectangles=[],this.validItems.length===0)return;const e=this.getActualBarWidth();for(let s=0;s<this.validItems.length;s++){const n=this.validItems[s],o=zi(n,s),r=ht(n.baseValue)?this.baseValue:n.baseValue,a=this.manager.getCurrentBarOffset(o),u=o-.5+a,m=u+e,c=tt.transform,p=c(this,n.minimum,u),x=c(this,n.maximum,u),w=c(this,r,u+e),S=P.fromScreenPoints(p,w),k=P.fromScreenPoints(x,w);this.actualMinimumBarRectangles.push(S),this.actualMaximumBarRectangles.push(k);const A=O.getActualEdgeRenderingMode(this.edgeRenderingMode,U.PreferSharpness);await t.drawRectangle(S,M.getActualColor(n.minimumColor,this.actualMinimumFillColor),this.strokeColor,this.strokeThickness,A),await t.drawRectangle(k,M.getActualColor(n.maximumColor,this.actualMaximumFillColor),this.strokeColor,this.strokeThickness,A),this.minimumLabelStringFormatter&&await this.renderLabel(t,n,r,n.minimum,u,m,this.minimumLabelStringFormatter,n.minimum),this.maximumLabelStringFormatter&&await this.renderLabel(t,n,r,n.maximum,u,m,this.maximumLabelStringFormatter,n.maximum)}}async renderLegend(t,e){const s=P.right(e),n=P.bottom(e),o=(e.left+s)/2,r=(e.top+n)/2,a=(n-e.top)*.8,u=a,m=O.getActualEdgeRenderingMode(this.edgeRenderingMode,U.PreferSharpness);await t.drawRectangle(J(o-.5*u,r-.5*a,.5*u,a),this.actualMinimumFillColor,this.strokeColor,this.strokeThickness,m),await t.drawRectangle(J(o,r-.5*a,.5*u,a),this.actualMaximumFillColor,this.strokeColor,this.strokeThickness,m)}setDefaultValues(){M.isAutomatic(this.maximumFillColor)&&(this._defaultMaximumFillColor=this.plotModel.getDefaultColor()),M.isAutomatic(this.minimumFillColor)&&(this._defaultMinimumFillColor=this.plotModel.getDefaultColor())}updateMaxMin(){if(super.updateMaxMin(),this.validItems.length===0)return;let t=ot,e=ct;for(const s of this.validItems)t=Math.min(t,s.minimum),e=Math.max(e,s.maximum);this.minX=t,this.maxX=e}isValid(t){return this.xAxis.isValidValue(t.minimum)&&this.xAxis.isValidValue(t.maximum)}updateFromDataFields(){if(!this.minimumField||!this.maximumField||!this.itemsSource)return!1;this.itemsSourceItems?this.itemsSourceItems.length=0:this.itemsSourceItems=[];for(const t of this.itemsSource){if(!t)continue;if(Kh(t)){this.itemsSourceItems.push(t);continue}const e=Xt(t,this.minimumField,Number.NaN),s=Xt(t,this.maximumField,Number.NaN),n=Xt(t,this.baseField,Number.NaN),o=Xt(t,this.minimumColorField,f.Automatic),r=Xt(t,this.maximumColorField,f.Automatic);this.itemsSourceItems.push(Je({minimum:e,maximum:s,baseValue:n,minimumColor:o,maximumColor:r}))}return!0}getElementDefaultValues(){return Qh}};h(Ho,"defaultTrackerStringFormatter",function(i){return`${i.title||""}
${i.yTitle}: ${i.yValue}
${i.xTitle}: ${i.xValue}`});h(Ho,"defaultMinimumLabelStringFormatter",function(i,t){return t[0].toString()});h(Ho,"defaultMaximumLabelStringFormatter",function(i,t){return t[0].toString()});let Mi=Ho;const gn={fillColor:f.Automatic,strokeColor:f.Black,strokeThickness:1,labelStringFormatter:void 0,items:void 0},tc={...Ue,...gn},fa=class Or extends Vt{constructor(t){super(t),h(this,"_defaultFillColor",f.Undefined),h(this,"fillColor",gn.fillColor),h(this,"_items",[]),h(this,"labelStringFormatter"),h(this,"strokeColor",gn.strokeColor),h(this,"strokeThickness",gn.strokeThickness),h(this,"actualBarRectangles",[]),h(this,"actualItems",[]),t!=null&&t.items&&(this._items=t.items,delete t.items),this.trackerStringFormatter=Or.defaultTrackerStringFormatter,Ot(this,"trackerStringFormatter",t),this.labelStringFormatter=Or.defaultLabelStringFormatter,Ot(this,"labelStringFormatter",t),it(this,gn,t,{exclude:["trackerStringFormatter","labelStringFormatter"]})}getElementName(){return"RectangleBarSeries"}get actualFillColor(){return M.getActualColor(this.fillColor,this._defaultFillColor)}get items(){return this._items}getNearestPoint(t,e){if(!(!this.actualBarRectangles||!this.actualItems))for(let s=0;s<this.actualBarRectangles.length;s++){const n=this.actualBarRectangles[s];if(P.containsPoint(n,t)){const o=(this.actualItems[s].y0+this.actualItems[s].y1)/2,r=t,a=d(s,o),u=this.actualItems[s],m=this.formatDefaultTrackerString(u,d(this.actualItems[s].x0,this.actualItems[s].y0),c=>{c.x1Value=this.xAxis.getValue(this.actualItems[s].x1),c.y1Value=this.yAxis.getValue(this.actualItems[s].y1)});return new Wt({series:this,dataPoint:a,position:r,item:u,index:s,text:m})}}}async render(t){if(this.items.length===0)return;let e=0,s=ot;if(this.actualBarRectangles=[],this.actualItems=[],this.isXMonotonic){const r=this.xAxis.clipMinimum;s=this.xAxis.clipMaximum,this.windowStartIndex=this.updateWindowStartIndex(this.items,a=>a.x0,r,this.windowStartIndex),e=this.windowStartIndex}const n=O.getActualEdgeRenderingMode(this.edgeRenderingMode,U.PreferSharpness);let o=0;for(let r=e;r<this.items.length;r++){const a=this.items[r];if(!this.isValid(a.x0)||!this.isValid(a.x1)||!this.isValid(a.y0)||!this.isValid(a.y1))continue;const u=tt.transform,m=u(this,a.x0,a.y0),c=u(this,a.x1,a.y1),p=P.create(m.x,m.y,c.x,c.y);this.actualBarRectangles.push(p),this.actualItems.push(a);const x=a.color??f.Automatic;if(await t.drawRectangle(p,this.getSelectableFillColor(M.getActualColor(x,this.actualFillColor)),this.strokeColor,this.strokeThickness,n),this.labelStringFormatter){const w=this.labelStringFormatter(this.getItem(r),[a.x0,a.x1,a.y0,a.y1,a.title]),S=P.right(p),k=P.bottom(p),A=R((p.left+S)/2,(p.top+k)/2);await t.drawText(A,w,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,F.Center,N.Middle)}if(o+=a.x0>s?1:0,o>1)break}}async renderLegend(t,e){const s=P.right(e),n=P.bottom(e),o=(e.left+s)/2,r=(e.top+n)/2,a=(n-e.top)*.8,u=a;await t.drawRectangle(J(o-.5*u,r-.5*a,u,a),this.getSelectableFillColor(this.actualFillColor),this.strokeColor,this.strokeThickness,this.edgeRenderingMode)}setDefaultValues(){M.isAutomatic(this.fillColor)&&(this._defaultFillColor=this.plotModel.getDefaultColor())}updateData(){}updateMaxMin(){if(super.updateMaxMin(),this.isXMonotonic=!0,yt(this.items)||this.items.length===0)return;let t=ot,e=ct,s=ot,n=ct,o=ct,r=ct;for(const a of this.items)(a.x0<o||a.x1<r)&&(this.isXMonotonic=!1),t=Math.min(t,Math.min(a.x0,a.x1)),e=Math.max(e,Math.max(a.x1,a.x0)),s=Math.min(s,Math.min(a.y0,a.y1)),n=Math.max(n,Math.max(a.y0,a.y1)),o=a.x0,r=a.x1;this.minX=t,this.maxX=e,this.minY=s,this.maxY=n}isValid(t){return!ht(t)&&isFinite(t)}getElementDefaultValues(){return tc}toJSON(t){var e;const s=super.toJSON(t);return(e=this._items)!=null&&e.length&&(s.items=this._items),s}};h(fa,"defaultTrackerStringFormatter",function(i){return`${i.title}
${i.xTitle}: ${i.xValue} ${i.x1Value}  
${i.yTitle}: ${i.yValue} ${i.y1Value}`});h(fa,"defaultLabelStringFormatter",function(i,t){return`${t[4]||""}`});let $r=fa;function qs(i,t,e,s=NaN,n=NaN){return{x:i,high:t,low:e,open:s,close:n}}const gs={color:f.Automatic,lineJoin:st.Miter,lineStyle:v.Solid,strokeThickness:1,tickLength:4,dataFieldClose:void 0,dataFieldHigh:void 0,dataFieldLow:void 0,dataFieldOpen:void 0,dataFieldX:void 0,items:void 0},Ql={...Ue,...gs},tu=class eu extends Vt{constructor(t){super(t),h(this,"_items",[]),h(this,"_defaultColor",f.Undefined),h(this,"trackerStringFormatter"),h(this,"color",gs.color),h(this,"dashes"),h(this,"dataFieldClose"),h(this,"dataFieldHigh"),h(this,"dataFieldLow"),h(this,"dataFieldOpen"),h(this,"dataFieldX"),h(this,"lineJoin",gs.lineJoin),h(this,"lineStyle",gs.lineStyle),h(this,"mapping"),h(this,"strokeThickness",gs.strokeThickness),h(this,"tickLength",gs.tickLength),this.trackerStringFormatter=eu.DefaultTrackerStringFormatter,t!=null&&t.items&&(this._items=t.items,delete t.items),it(this,gs,t)}getElementName(){return"HighLowSeries"}get actualColor(){return M.getActualColor(this.color,this._defaultColor)}get items(){return this._items}getNearestPoint(t,e){if(!this.xAxis||!this.yAxis||e)return;let s=ot,n;const o=(r,a,u)=>{const m=this.transform(r),c=m.x-t.x,p=m.y-t.y,x=c*c+p*p;if(x<s){const w=this.formatHighLowItemTrackerString(a);n=new Wt({series:this,dataPoint:r,position:m,item:a,index:u,text:w}),s=x}};for(let r=0;r<this.items.length;r++){const a=this.items[r];o(d(a.x,a.high),a,r),o(d(a.x,a.low),a,r),o(d(a.x,a.open),a,r),o(d(a.x,a.close),a,r)}if(s<ot)return n}formatHighLowItemTrackerString(t){return this.trackerStringFormatter&&this.trackerStringFormatter({item:t,title:this.title||"",xTitle:this.xAxis.title??Vt.defaultXAxisTitle,xValue:this.xAxis.getValue(t.x),high:this.yAxis.getValue(t.high),low:this.yAxis.getValue(t.low),open:this.yAxis.getValue(t.open),close:this.yAxis.getValue(t.close)})||""}isValidItem(t,e,s){return!isNaN(t.x)&&isFinite(t.x)&&!isNaN(t.high)&&isFinite(t.high)&&!isNaN(t.low)&&isFinite(t.low)}async render(t){if(this.items.length===0)return;this.verifyAxes();const e=$t.getDashArray(this.lineStyle),s=this.getSelectableColor(this.actualColor),n=tt.transform;for(const o of this.items)if(this.isValidItem(o,this.xAxis,this.yAxis)&&this.strokeThickness>0&&this.lineStyle!==v.None){const r=n(this,o.x,o.high),a=n(this,o.x,o.low);await t.drawLine([a,r],s,this.strokeThickness,this.edgeRenderingMode,e,this.lineJoin);const u=tt.orientateVector(this,It(this.tickLength,0));if(!isNaN(o.open)){const m=n(this,o.x,o.open),c=ze(m,u);await t.drawLine([m,c],s,this.strokeThickness,this.edgeRenderingMode,e,this.lineJoin)}if(!isNaN(o.close)){const m=n(this,o.x,o.close),c=Rt(m,u);await t.drawLine([m,c],s,this.strokeThickness,this.edgeRenderingMode,e,this.lineJoin)}}}async renderLegend(t,e){const s=P.right(e),n=P.bottom(e),o=(e.left+s)/2,r=e.top+(n-e.top)*.7,a=e.top+(n-e.top)*.3,u=$t.getDashArray(this.lineStyle),m=this.getSelectableColor(this.actualColor);this.strokeThickness>0&&this.lineStyle!==v.None&&(await t.drawLine([R(o,e.top),R(o,n)],m,this.strokeThickness,this.edgeRenderingMode,u,st.Miter),await t.drawLine([R(o-this.tickLength,r),R(o,r)],m,this.strokeThickness,this.edgeRenderingMode,u,st.Miter),await t.drawLine([R(o+this.tickLength,a),R(o,a)],m,this.strokeThickness,this.edgeRenderingMode,u,st.Miter))}setDefaultValues(){M.isAutomatic(this.color)&&(this.lineStyle=this.plotModel.getDefaultLineStyle(),this._defaultColor=this.plotModel.getDefaultColor())}updateData(){if(this.itemsSource){if(this._items.length=0,this.mapping){for(const t of this.itemsSource)this._items.push(this.mapping(t));return}for(const t of this.itemsSource){if(!t)continue;if("high"in t&&"low"in t&&"x"in t){this._items.push(t);continue}if(!this.dataFieldX||!this.dataFieldHigh||!this.dataFieldLow)throw new Error("HighLowSeries: dataFieldX, dataFieldHigh and dataFieldLow are required");const e=Xt(t,this.dataFieldX,NaN),s=Xt(t,this.dataFieldHigh,NaN),n=Xt(t,this.dataFieldLow,NaN),o=Xt(t,this.dataFieldOpen,NaN),r=Xt(t,this.dataFieldClose,NaN);this._items.push({x:e,high:s,low:n,open:o,close:r})}}}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMin2(this.items,t=>t.x,t=>t.x,t=>t.low,t=>t.high)}getElementDefaultValues(){return Ql}toJSON(t){var e;const s=super.toJSON(t);return(e=this._items)!=null&&e.length&&(s.items=this._items),s}};h(tu,"DefaultTrackerStringFormatter",function(i){return`${i.title}
${i.xTitle}: ${i.xValue}
High: ${Bt(i.high,3)}
Low: ${Bt(i.low,3)}
Open: ${Bt(i.open,3)}
Close: ${Bt(i.close,3)}`});let Uo=tu;function ec(i,t,e){return{x:i??NaN,buyVolume:t,sellVolume:e}}class qn{static findIndex(t,e,s){let n=0,o=0,r=t.length-1;for(;o<=r;){if(s<o)return n;if(s>r)return r;const a=t[s].x;if(a===e)return s;if(a>e){if(r=s-1,r<o)return n;if(r===o)return r}else o=s+1,n=s;if(o>=r)return n;const u=t[r].x,m=t[o].x,c=(r-o+1)/(u-m);s=o+Math.round((e-m)*c)}return n}static isValid(t){return!isNaN(t.x)&&!isNaN(t.buyVolume)&&!isNaN(t.sellVolume)}}var Ri=(i=>(i[i.None=0]="None",i[i.Combined=1]="Combined",i[i.Stacked=2]="Stacked",i[i.PositiveNegative=3]="PositiveNegative",i))(Ri||{});const Ye={positiveColor:f.DarkGreen,negativeColor:f.Red,barWidth:0,strokeThickness:1,negativeHollow:!1,positiveHollow:!0,strokeIntensity:.8,volumeStyle:1,interceptColor:f.Gray,interceptLineStyle:v.Dash,interceptStrokeThickness:1,items:void 0},ic={...Ue,...Ye},iu=class su extends Vt{constructor(t){super(t),h(this,"_items",[]),h(this,"_minDx",0),h(this,"_winIndex",0),h(this,"volumeStyle",Ye.volumeStyle),h(this,"strokeThickness",Ye.strokeThickness),h(this,"strokeIntensity",Ye.strokeIntensity),h(this,"positiveColor",Ye.positiveColor),h(this,"negativeColor",Ye.negativeColor),h(this,"interceptColor",Ye.interceptColor),h(this,"interceptStrokeThickness",Ye.interceptStrokeThickness),h(this,"interceptLineStyle",Ye.interceptLineStyle),h(this,"positiveHollow",Ye.positiveHollow),h(this,"negativeHollow",Ye.negativeHollow),h(this,"barWidth",Ye.barWidth),h(this,"minimumVolume",0),h(this,"maximumVolume",0),h(this,"averageVolume",0),t!=null&&t.items&&(this.items=t.items,delete t.items),this.trackerStringFormatter=su.DefaultTrackerStringFormatter,Ot(this,"trackerStringFormatter",t),it(this,Ye,t,{exclude:["trackerStringFormatter"]})}getElementName(){return"VolumeSeries"}get items(){return this._items}set items(t){this._items=t}append(t){if(yt(this._items)&&(this._items=[]),this._items.length>0&&this._items[this._items.length-1].x>t.x)throw new Error("cannot append bar out of order, must be sequential in X");this._items.push(t)}async render(t){if(yt(this._items)||this._items.length===0)return;const e=this._items,s=this._items.length;this.verifyAxes();const n=this.getClippingRect();this.barWidth>0?this.barWidth:this._minDx*.8;const o=this.getSelectableFillColor(this.positiveColor),r=this.getSelectableFillColor(this.negativeColor),a=this.positiveHollow?f.Transparent:o,u=this.negativeHollow?f.Transparent:r,m=M.changeIntensity(this.positiveColor,this.strokeIntensity),c=M.changeIntensity(this.negativeColor,this.strokeIntensity),p=this.getSelectableColor(m),x=this.getSelectableColor(c),w=this.xAxis.clipMinimum,S=this.xAxis.clipMaximum;this._winIndex=qn.findIndex(e,w,this._winIndex);const k=tt.transform;for(let A=this._winIndex;A<s;A++){const C=e[A];if(C.x>S)break;if(!qn.isValid(C))continue;const T=this.getBuyBarRect(C),D=this.getSellBarRect(C);switch(this.volumeStyle){case 1:{const B=C.buyVolume>C.sellVolume?a:u,I=C.buyVolume>C.sellVolume?p:x;await t.drawRectangle(T,B,I,this.strokeThickness,this.edgeRenderingMode)}break;case 3:await t.drawRectangle(T,o,p,this.strokeThickness,this.edgeRenderingMode),await t.drawRectangle(D,r,x,this.strokeThickness,this.edgeRenderingMode);break;case 2:{await t.drawRectangle(T,o,p,this.strokeThickness,this.edgeRenderingMode),await t.drawRectangle(D,r,x,this.strokeThickness,this.edgeRenderingMode);break}case 0:break;default:throw new Error("Invalid VolumeStyle")}}if(this.interceptStrokeThickness>0&&this.interceptLineStyle!==v.None){const A=this.inverseTransform(P.bottomLeft(n)),C=this.inverseTransform(P.topRight(n)),T=k(this,A.x,0),D=k(this,C.x,0);await t.drawLine([T,D],this.interceptColor,this.interceptStrokeThickness,this.edgeRenderingMode,$t.getDashArray(this.interceptLineStyle),st.Miter)}}getBuyBarRect(t){const e=tt.transform,n=(this.barWidth>0?this.barWidth:this._minDx*.8)*.5,o=e(this,t.x-n,0);switch(this.volumeStyle){case 1:{const r=e(this,t.x+n,Math.abs(t.buyVolume-t.sellVolume));return P.fromScreenPoints(o,r)}case 3:{const r=e(this,t.x+n,t.buyVolume);return P.fromScreenPoints(o,r)}case 2:{const r=e(this,t.x+n,t.buyVolume),a=e(this,t.x+n,t.sellVolume),u=e(this,t.x-n,t.buyVolume+t.sellVolume);return t.buyVolume>t.sellVolume?P.fromScreenPoints(a,u):P.fromScreenPoints(o,r)}}throw new Error("Invalid VolumeStyle")}getSellBarRect(t){const e=tt.transform,n=(this.barWidth>0?this.barWidth:this._minDx*.8)*.5,o=e(this,t.x-n,0);switch(this.volumeStyle){case 1:{const r=e(this,t.x+n,Math.abs(t.buyVolume-t.sellVolume));return P.fromScreenPoints(o,r)}case 3:{const r=e(this,t.x+n,-t.sellVolume);return P.fromScreenPoints(o,r)}case 2:{const r=e(this,t.x+n,t.buyVolume),a=e(this,t.x+n,t.sellVolume),u=e(this,t.x-n,t.buyVolume+t.sellVolume);return t.buyVolume>t.sellVolume?P.fromScreenPoints(o,a):P.fromScreenPoints(r,u)}}throw new Error("Invalid VolumeStyle")}async renderLegend(t,e){const s=P.right(e),n=P.bottom(e),o=(e.left+s)/2,r=e.top+(n-e.top)*.7,a=e.top+(n-e.top)*.3,u=$t.getDashArray(v.Solid),m=this.getSelectableFillColor(this.positiveColor),c=this.getSelectableColor(M.changeIntensity(this.positiveColor,this.strokeIntensity)),p=e.width*.75;this.strokeThickness>0&&(await t.drawLine([R(o,e.top),R(o,n)],c,this.strokeThickness,this.edgeRenderingMode,u,st.Miter),await t.drawRectangle(J(o-p*.5,a,p,r-a),m,c,this.strokeThickness,this.edgeRenderingMode))}getNearestPoint(t,e){if(!this.xAxis||!this.yAxis||e||!this._items||this._items.length===0)return;const s=this._items.length,n=this.inverseTransform(t),o=n.x;if(o>this._items[s-1].x+this._minDx)return;if(o<this._items[0].x-this._minDx)return;const r=qn.findIndex(this._items,o,this._winIndex),a=r+1<this._items.length?r+1:r,u=S=>{const k=S.x-n.x;return k*k},m=u(this._items[r])<=u(this._items[a])?r:a,c=this._items[m];let p=!1;const x=this.getBuyBarRect(c);if(P.containsPoint(x,t)&&(p=!0),!p){const S=this.getSellBarRect(c);P.containsPoint(S,t)&&(p=!0)}if(p)return;const w=this.formatDefaultTrackerString(c,d(c.x,0));return new Wt({series:this,dataPoint:n,position:t,item:c,index:m,text:w})}updateData(){if(super.updateData(),this._winIndex=0,!this._items||this._items.length===0)return;const t=this._items,e=t.length;this._minDx=ot;for(let s=1;s<e;s++)if(this._minDx=Math.min(this._minDx,t[s].x-t[s-1].x),this._minDx<0)throw new Error("bars are out of order, must be sequential in x");e<=1&&(this._minDx=1)}updateAxisMaxMin(){this.xAxis.include(this.minX),this.xAxis.include(this.maxX);let t=this.minimumVolume,e=this.maximumVolume;const s=this.averageVolume,n=(e-t)/4;switch(this.volumeStyle){case 3:t=-(s+n/2),e=+(s+n/2);break;case 2:e=s+n,t=0;break;default:e=s+n/2,t=0;break}t=Math.max(this.yAxis.filterMinValue,t),e=Math.min(this.yAxis.filterMaxValue,e),this.yAxis.include(t),this.yAxis.include(e)}updateMaxMin(){super.updateMaxMin();let t=ot,e=ct,s=0,n=ct,o=0,r=0;for(const a of this.items)qn.isValid(a)&&(a.sellVolume>0&&o++,a.buyVolume>0&&o++,r+=a.buyVolume,r+=a.sellVolume,t=Math.min(t,a.x),e=Math.max(e,a.x),s=Math.min(s,-a.sellVolume),n=Math.max(n,+a.buyVolume));this.minX=Math.max(this.xAxis.filterMinValue,t),this.maxX=Math.min(this.xAxis.filterMaxValue,e),this.minimumVolume=s,this.maximumVolume=n,this.averageVolume=r/o}getJsonIgnoreProperties(){return[...super.getJsonIgnoreProperties(),"minimumVolume","maximumVolume","averageVolume"]}getElementDefaultValues(){return ic}toJSON(t){var e;const s=super.toJSON(t);return(e=this._items)!=null&&e.length&&(s.items=this._items),s}};h(iu,"DefaultTrackerStringFormatter",function(i){const t=i.item;return`Time: ${i.xValue}
Buy Volume: ${t.buyVolume}
Sell Volume: ${t.sellVolume}`});let nu=iu;const xn={increasingColor:f.DarkGreen,decreasingColor:f.Red,candleWidth:0},sc={...xn,...Ql};class Fn extends Uo{constructor(t){super(t),h(this,"_minDx",0),h(this,"increasingColor",xn.increasingColor),h(this,"decreasingColor",xn.decreasingColor),h(this,"candleWidth",xn.candleWidth),it(this,xn,t)}getElementName(){return"CandleStickSeries"}findByX(t,e=-1){return e<0&&(e=this.windowStartIndex),this.findWindowStartIndex(this.items,s=>s.x,t,e)}async render(t){const e=this.items.length,s=this.items;if(e===0||this.strokeThickness<=0||this.lineStyle===v.None)return;this.verifyAxes();const n=$t.getDashArray(this.lineStyle),r=.5*(this.candleWidth>0?this.candleWidth:this._minDx*.8),a=this.getSelectableFillColor(this.increasingColor),u=this.getSelectableFillColor(this.decreasingColor),m=this.getSelectableColor(M.changeIntensity(this.increasingColor,.7).hex),c=this.getSelectableColor(M.changeIntensity(this.decreasingColor,.7).hex),p=this.xAxis.clipMinimum,x=this.xAxis.clipMaximum;this.windowStartIndex=this.updateWindowStartIndex(s,S=>S.x,p,this.windowStartIndex);const w=tt.transform;for(let S=this.windowStartIndex;S<e;S++){const k=s[S];if(k.x>x)return;if(!this.isValidItem(k,this.xAxis,this.yAxis))continue;const A=k.close>k.open?a:u,C=k.close>k.open?m:c,T=w(this,k.x,k.high),D=w(this,k.x,k.low),B=w(this,k.x,Math.max(k.open,k.close)),I=w(this,k.x,Math.min(k.open,k.close));this.strokeThickness>0&&(await t.drawLine([T,B],C,this.strokeThickness,this.edgeRenderingMode,n,this.lineJoin),await t.drawLine([I,D],C,this.strokeThickness,this.edgeRenderingMode,n,this.lineJoin));const _=w(this,k.x-r,k.open),z=w(this,k.x+r,k.close),E=P.fromScreenPoints(_,z);await t.drawRectangle(E,A,C,this.strokeThickness,this.edgeRenderingMode)}}async renderLegend(t,e){const s=P.right(e),n=P.bottom(e),o=(e.left+s)/2,r=e.top+(n-e.top)*.7,a=e.top+(n-e.top)*.3,u=$t.getDashArray(this.lineStyle),m=e.width*.75;this.strokeThickness>0&&this.lineStyle!==v.None&&await t.drawLine([R(o,e.top),R(o,n)],this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode,u,st.Miter),await t.drawRectangle(J(o-m*.5,a,m,r-a),this.getSelectableFillColor(this.increasingColor),this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode)}getNearestPoint(t,e){if(!this.xAxis||!this.yAxis||e||this.items.length===0)return;const s=this.items.length,n=this.inverseTransform(t),o=n.x;if(o>this.items[s-1].x+this._minDx||o<this.items[0].x-this._minDx)return;const r=this.findWindowStartIndex(this.items,w=>w.x,o,this.windowStartIndex),a=r+1<this.items.length?r+1:r,u=w=>{const S=w.x-n.x,k=w.open-n.y,A=w.high-n.y,C=w.low-n.y,T=w.close-n.y,D=S*S+k*k,B=S*S+A*A,I=S*S+C*C,_=S*S+T*T;return Math.min(D,Math.min(B,Math.min(I,_)))},m=u(this.items[r])<=u(this.items[a])?r:a,c=this.items[m],p=d(c.x,c.close),x=this.formatHighLowItemTrackerString(c);return new Wt({series:this,dataPoint:p,position:this.transform(p),item:c,index:m,text:x})}updateData(){super.updateData();const t=this.items,e=t.length;this._minDx=ot;for(let s=1;s<e;s++)if(this._minDx=Math.min(this._minDx,t[s].x-t[s-1].x),this._minDx<0)throw new Error("bars are out of order, must be sequential in x");e<=1&&(this._minDx=1)}getElementDefaultValues(){return sc}}const nc={...ls};class nt extends G{constructor(t){if(super(t),t.f){t.dx?this.f1(t.f,t.x0,t.x1,t.dx):t.n&&this.f2(t.f,t.x0,t.x1,t.n);return}t.fx&&t.fy&&(t.dt?this.f3(t.fx,t.fy,t.t0,t.t1,t.dt):t.n&&this.f4(t.fx,t.fy,t.t0,t.t1,t.n))}getElementName(){return"FunctionSeries"}static fromDx(t,e,s,n,o){return new nt({f:t,x0:e,x1:s,dx:n,title:o})}static fromN(t,e,s,n,o){return vr(n,"n"),new nt({f:t,x0:e,x1:s,n,title:o})}static fromFxFyDt(t,e,s,n,o,r){return new nt({fx:t,fy:e,t0:s,t1:n,dt:o,title:r})}static fromFxFyN(t,e,s,n,o,r){return vr(o,"n"),new nt({fx:t,fy:e,t0:s,t1:n,n:o,title:r})}f1(t,e,s,n){for(let o=e;o<=s+n*.5;o+=n)this.points.push(d(o,t(o)))}f2(t,e,s,n){this.f1(t,e,s,(s-e)/(n-1))}f3(t,e,s,n,o){for(let r=s;r<=n+o*.5;r+=o)this.points.push(d(t(r),e(r)))}f4(t,e,s,n,o){this.f3(t,e,s,n,(n-s)/(o-1))}getElementDefaultValues(){return nc}}function ii(i,t,e,s,n=f.Automatic){return{rangeStart:i,rangeEnd:t,area:e,count:s,color:n}}class je{constructor(t){h(this,"_item"),this._item=t}static from(t){return new je(t)}get rangeStart(){return this._item.rangeStart}get rangeEnd(){return this._item.rangeEnd}get area(){return this._item.area}get count(){return this._item.count}get color(){return this._item.color}get center(){return this._item.rangeStart+(this._item.rangeEnd-this._item.rangeStart)/2}get width(){return this._item.rangeEnd-this._item.rangeStart}get height(){return this._item.area/this.width}get value(){return this.height}contains(t){const e=this.height,{rangeStart:s,rangeEnd:n}=this._item;return e<0?t.x<=n&&t.x>=s&&t.y>=e&&t.y<=0||t.x<=s&&t.x>=n&&t.y>=e&&t.y<=0:t.x<=n&&t.x>=s&&t.y<=e&&t.y>=0||t.x<=s&&t.x>=n&&t.y<=e&&t.y>=0}}function oc(i){return i?"rangeStart"in i&&"rangeEnd"in i&&"area"in i&&"count"in i:!1}const mi={baseValue:0,baseLine:NaN,fillColor:f.Automatic,strokeColor:f.Black,negativeFillColor:f.Undefined,negativeStrokeColor:f.Undefined,strokeThickness:0,labelMargin:0,labelPlacement:dt.Outside,labelStringFormatter:void 0,colorMapping:void 0,mapping:void 0,items:void 0},rc={...Ue,...mi},ou=class ru extends Vt{constructor(t){super(t),h(this,"_defaultFillColor",f.Undefined),h(this,"_actualItems"),h(this,"baseValue",mi.baseValue),h(this,"baseLine",mi.baseLine),h(this,"_actualBaseLine",NaN),h(this,"fillColor",mi.fillColor),h(this,"strokeColor",mi.strokeColor),h(this,"negativeFillColor",mi.negativeFillColor),h(this,"negativeStrokeColor",mi.negativeStrokeColor),h(this,"strokeThickness",mi.strokeThickness),h(this,"_minValue",0),h(this,"_maxValue",0),h(this,"labelStringFormatter"),h(this,"trackerStringFormatter"),h(this,"labelMargin",mi.labelMargin),h(this,"labelPlacement",mi.labelPlacement),h(this,"colorMapping"),h(this,"mapping"),h(this,"items",[]),this.colorMapping=this.getDefaultColor,this.trackerStringFormatter=ru.defaultTrackerStringFormatter,Ot(this,"trackerStringFormatter",t),it(this,mi,t,{exclude:["trackerStringFormatter"]})}getElementName(){return"HistogramSeries"}get actualBaseLine(){return this._actualBaseLine}get actualFillColor(){return M.getActualColor(this.fillColor,this._defaultFillColor)}get minValue(){return this._minValue}get maxValue(){return this._maxValue}get actualItems(){return this.itemsSource?this._actualItems:this.items}async render(t){this.verifyAxes(),await this.renderBins(t,this.actualItems)}getNearestPoint(t,e){const s=this.inverseTransform(t);if(this.isPointInRange(s)&&this.actualItems)for(let n=0;n<this.actualItems.length;n++){const o=je.from(this.actualItems[n]);if(o.contains(s)){const r=this.getItem(n);return new Wt({series:this,dataPoint:s,position:t,item:r,index:n,text:this.formatDefaultTrackerString(o,s)})}}}async renderLegend(t,e){const s=P.right(e),n=P.bottom(e),o=(e.left+s)/2,r=(e.top+n)/2,a=(n-e.top)*.8,u=a,m=O.getActualEdgeRenderingMode(this.edgeRenderingMode,U.PreferSharpness);await t.drawRectangle(J(o-.5*u,r-.5*a,u,a),this.getSelectableColor(this.actualFillColor),this.strokeColor,this.strokeThickness,m)}updateData(){this.itemsSource&&this.updateActualItems()}setDefaultValues(){M.isAutomatic(this.fillColor)&&(this._defaultFillColor=this.plotModel.getDefaultColor())}updateAxisMaxMin(){super.updateAxisMaxMin(),this.computeActualBaseLine(),this.yAxis.include(this.actualBaseLine)}computeActualBaseLine(){if(ht(this.baseLine))if(this.yAxis.isLogarithmic()){const t=this.actualItems?zt(this.actualItems.map(e=>je.from(e).value).filter(e=>e>0),1):1;this._actualBaseLine=Math.max(t/10,this.baseValue)}else this._actualBaseLine=0;else this._actualBaseLine=this.baseLine}updateMaxMinXY(){if(this.actualItems&&this.actualItems.length>0){const t=this.actualItems.map(o=>je.from(o)),e=t.map(o=>o.rangeStart),s=t.map(o=>o.rangeEnd),n=t.map(o=>o.height);this.minX=Math.min(zt(e),zt(s)),this.maxX=Math.max(qt(e),qt(s)),this.yAxis.isLogarithmic()?(this.minY=Math.max(zt(n),Number.EPSILON),this.maxY=qt(n,Number.EPSILON)):(this.minY=zt(n,0),this.maxY=qt(n,0))}}updateMaxMin(){if(super.updateMaxMin(),!this.actualItems)return;const t=this.actualItems.map(s=>je.from(s)),e=[];if(_i(e,t.map(s=>d(s.rangeStart,0))),_i(e,t.map(s=>d(s.rangeEnd,s.height))),this.internalUpdateMaxMin(e),this.updateMaxMinXY(),t.length>0){const s=t.map(n=>n.value);this._minValue=zt(s),this._maxValue=qt(s)}}getItem(t){const e=this.actualItems;return!this.itemsSource&&e&&t<e.length?e[t]:super.getItem(t)}async renderBins(t,e){const s=this.yAxis,n=s.isLogarithmic()&&!s.isValidValue(this.baseValue);for(const o of e){const r=je.from(o);if(s.isLogarithmic()&&!s.isValidValue(r.height))continue;const a=this.getItemFillColor(r),u=this.getItemStrokeColor(r),m=this.transform(d(r.rangeStart,n?s.clipMinimum:this.baseValue)),c=this.transform(d(r.rangeEnd,r.height)),p=P.fromScreenPoints(m,c),x=O.getActualEdgeRenderingMode(this.edgeRenderingMode,U.PreferSharpness);await t.drawRectangle(p,a,u,this.strokeThickness,x),this.labelStringFormatter&&await this.renderLabel(t,p,r)}}getItemFillColor(t){const e=je.from(t);return t.color||(t.color=f.Automatic),M.isAutomatic(t.color)?this.colorMapping(e):t.color}getItemStrokeColor(t){return M.isUndefined(this.negativeStrokeColor)||je.from(t).height>=this.baseValue?this.strokeColor:this.negativeStrokeColor}async renderLabel(t,e,s){const o=je.from(s).value,r=this.labelStringFormatter(s,[o,s.rangeStart,s.rangeEnd,s.area,s.count]);let a,u,m=F.Center;const c=(s.rangeStart+s.rangeEnd)/2,p=Math.sign(o);let x=p*this.labelMargin;switch(this.labelPlacement){case dt.Inside:a=d(c,o),u=-p;break;case dt.Middle:{const A=this.inverseTransform(P.topLeft(e)),C=this.inverseTransform(P.bottomRight(e));a=d(c,(A.y+C.y)/2),u=N.Middle;break}case dt.Base:a=d(c,0),x=-x,u=p;break;case dt.Outside:a=d(c,o),x=-x,u=p;break;default:throw new Error("Invalid label placement")}const w=tt.orientateAlignment(this,m,u);m=w[0],u=w[1];const S=tt.orientateVector(this,It(0,x)),k=Rt(this.transform(a),S);await t.drawText(k,r,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,m,u)}isPointInRange(t){return this.updateMaxMinXY(),t.x>=this.minX&&t.x<=this.maxX&&t.y>=this.minY&&t.y<=this.maxY}clearActualItems(){this._actualItems&&(this._actualItems.length=0)}getDefaultColor(t){return M.isUndefined(this.negativeFillColor)||je.from(t).value>=this.baseValue?this.actualFillColor:this.negativeFillColor}updateActualItems(){if(this.mapping){if(!this.itemsSource)throw new Error("itemsSource is required when using the Mapping property");this.clearActualItems(),this._actualItems=this._actualItems||[];for(const t of this.itemsSource)this._actualItems.push(this.mapping(t));return}this.clearActualItems(),this._actualItems=this._actualItems||[];for(const t of this.itemsSource||[])if(t)throw oc(t)&&this._actualItems.push(t),new Error("invalid item type")}getElementDefaultValues(){return rc}};h(ou,"defaultTrackerStringFormatter",function(i){return`Start: ${i.item.rangeStart}
End: ${i.item.rangeEnd}
Value: ${i.item.value}
Area: ${i.item.area}
Count: ${i.item.count}`});let pi=ou;function ac(i){return i&&typeof i.getScatterPoint=="function"}const Di={markerFill:f.Automatic,markerSize:5,markerStroke:f.Automatic,markerStrokeThickness:1,markerType:V.Square,labelMargin:6,binSize:0,dataFieldValue:void 0,dataFieldSize:void 0,dataFieldTag:void 0,dataFieldX:void 0,dataFieldY:void 0,mapping:void 0,markerOutline:void 0,labelStringFormatter:void 0,colorAxisKey:void 0,points:void 0},lc={...Ue,...Di},au=class lu extends Vt{constructor(t){super(t),h(this,"_points",[]),h(this,"_defaultMarkerFillColor",f.Undefined),h(this,"markerFill",Di.markerFill),h(this,"markerOutline"),h(this,"markerSize",Di.markerSize),h(this,"markerType",Di.markerType),h(this,"markerStroke",Di.markerStroke),h(this,"markerStrokeThickness",Di.markerStrokeThickness),h(this,"labelStringFormatter"),h(this,"labelMargin",Di.labelMargin),h(this,"binSize",Di.binSize),h(this,"colorAxisKey"),h(this,"dataFieldX"),h(this,"dataFieldY"),h(this,"dataFieldSize"),h(this,"dataFieldTag"),h(this,"dataFieldValue"),h(this,"mapping"),h(this,"_colorAxis"),h(this,"itemsSourcePoints"),h(this,"_minValue",0),h(this,"_maxValue",0),t!=null&&t.points&&(this._points=t.points,delete t.points),it(this,Di,t)}get colorAxis(){return this._colorAxis}get actualMarkerFillColor(){return M.getActualColor(this.markerFill,this._defaultMarkerFillColor)}get points(){return this._points}get actualPoints(){return this.itemsSource?this.itemsSourcePoints:this.points}get minValue(){return this._minValue}get maxValue(){return this._maxValue}getElementName(){return"ScatterSeries"}getNearestPoint(t,e){if(!this.xAxis||!this.yAxis||e)return;const s=this.actualPoints;if(!s||s.length===0)return;let n,o=ot,r=0;const a=this.colorAxis?this.colorAxis.title:lu._defaultColorAxisTitle,u=this.xAxis.clipMinimum,m=this.xAxis.clipMaximum,c=this.yAxis.clipMinimum,p=this.yAxis.clipMaximum;for(const x of s){if(x.x<u||x.x>m||x.y<c||x.y>p){r++;continue}const w=this.transform(d(x.x,x.y)),S=w.x-t.x,k=w.y-t.y,A=S*S+k*k;if(A<o){const C=this.getItem(r)??x;let T;!yt(x.value)&&!isNaN(x.value)&&!vi(x.value)&&(T=x.value);const D=d(x.x,x.y);n=new Wt({series:this,dataPoint:D,position:w,item:C,index:r,text:this.formatDefaultTrackerString(C,D,B=>{B.colorAxisTitle=a,B.zValue=T})}),o=A}r++}return n}async render(t){const e=this.actualPoints;if(!e||e.length===0)return;const s=this.getClippingRect(),n=e.length,o=[],r=[],a=[],u=[],m=new Map,c=new Map,p=this.isSelected();for(let w=0;w<n;w++){const S=d(e[w].x,e[w].y);if(!this.isValidPoint(S))continue;let k=NaN,A=NaN;const C=e[w];C&&(yt(C.size)||(k=C.size),yt(C.value)||(A=C.value)),isNaN(k)&&(k=this.markerSize);const T=this.transform(d(S.x,S.y));if(p&&this.isItemSelected(w)){a.push(T),u.push(k);continue}if(this.colorAxis){if(isNaN(A))continue;const D=this.colorAxis.getPaletteIndex(A);m.has(D)||(m.set(D,[]),c.set(D,[])),m.get(D).push(T),c.get(D).push(k)}else o.push(T),r.push(k)}const x=this.transform(d(this.minX,this.maxY));if(this.colorAxis){const w=this.markerType===V.Plus||this.markerType===V.Star||this.markerType===V.Cross;for(const[S,k]of m){const A=this.colorAxis.getColor(S);await O.drawMarkers(t,k,this.markerType,this.markerOutline,c.get(S),M.getActualColor(this.markerFill,A),w?A:this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,this.binSize,x)}}await O.drawMarkers(t,o,this.markerType,this.markerOutline,r,this.actualMarkerFillColor,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,this.binSize,x),await O.drawMarkers(t,a,this.markerType,this.markerOutline,u,this.plotModel.selectionColor,this.plotModel.selectionColor,this.markerStrokeThickness,this.edgeRenderingMode,this.binSize,x),this.labelStringFormatter&&await this.renderPointLabels(t,s)}async renderLegend(t,e){const s=P.right(e),n=P.bottom(e),o=(e.left+s)/2,r=(e.top+n)/2,a=R(o,r);await O.drawMarker(t,a,this.markerType,this.markerOutline,this.markerSize,this.isSelected()?this.plotModel.selectionColor:this.actualMarkerFillColor,this.isSelected()?this.plotModel.selectionColor:this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)}ensureAxes(){super.ensureAxes(),this._colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}setDefaultValues(){M.isAutomatic(this.markerFill)&&(this._defaultMarkerFillColor=this.plotModel.getDefaultColor())}updateData(){this.itemsSource&&this.updateItemsSourcePoints()}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMinValue(this.actualPoints)}async renderPointLabels(t,e){const s=this.actualPoints;if(!s||s.length===0)return;let n=-1;for(const o of s){n++;const r=d(o.x,o.y);if(!this.isValidPoint(r))continue;const a=Rt(this.transform(r),It(0,-this.labelMargin));if(!P.containsPoint(e,a))continue;const u=this.getItem(n),m=this.labelStringFormatter(u,[o.x,o.y]);await t.drawText(a,m,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,F.Center,N.Bottom)}}internalUpdateMaxMinValue(t){if(!t||t.length===0)return;let e=ot,s=ot,n=ot,o=ct,r=ct,a=ct;isNaN(e)&&(e=ot),isNaN(s)&&(s=ot),isNaN(o)&&(o=ct),isNaN(r)&&(r=ct),isNaN(n)&&(n=ct),isNaN(a)&&(a=ct);for(const u of t){const m=u.x,c=u.y;if(m!==m||c!==c)continue;const p=yt(u.value)?Number.NaN:u.value;m<e&&(e=m),m>o&&(o=m),c<s&&(s=c),c>r&&(r=c),p<n&&(n=p),p>a&&(a=p)}e<ot&&(this.minX=e),s<ot&&(this.minY=s),o>ct&&(this.maxX=o),r>ct&&(this.maxY=r),n<ot&&(this._minValue=n),a>ct&&(this._maxValue=a),this.colorAxis instanceof ta&&(this.colorAxis.include(this.minValue),this.colorAxis.include(this.maxValue))}clearItemsSourcePoints(){this.itemsSourcePoints&&(this.itemsSourcePoints.length=0)}updateItemsSourcePoints(){var t,e,s;if(this.clearItemsSourcePoints(),this.mapping){if(!this.itemsSource)throw new Error("itemsSource is required when mapping is set");this.itemsSourcePoints=this.itemsSourcePoints||[];for(const n of this.itemsSource)this.itemsSourcePoints.push(this.mapping(n));return}this.itemsSourcePoints=this.itemsSourcePoints||[];for(const n of this.itemsSource||[])if(!yt(n)){if(!Ci(n.x)&&!Ci(n.y)){(t=this.itemsSourcePoints)==null||t.push(n);continue}if(this.dataFieldX&&this.dataFieldY){const o=this.updateFromDataFields(n);if(!o)continue;(e=this.itemsSourcePoints)==null||e.push(o);continue}if(ac(n)){const o=n.getScatterPoint();if(!o)continue;(s=this.itemsSourcePoints)==null||s.push(o);continue}throw new Error("Invalid item type")}}updateFromDataFields(t){const e=Xt(t,this.dataFieldX,Number.NaN),s=Xt(t,this.dataFieldY,Number.NaN);return{x:e,y:s,size:Xt(t,this.dataFieldSize,Number.NaN),value:Xt(t,this.dataFieldValue,Number.NaN),tag:Xt(t,this.dataFieldTag,void 0)}}getElementDefaultValues(){return lc}toJSON(t){var e;const s=super.toJSON(t);return(e=this.points)!=null&&e.length&&(s.points=this.points),s}};h(au,"_defaultColorAxisTitle","Value");let Et=au;const Ne={color:f.Automatic,arrowHeadLength:10,arrowHeadWidth:3,arrowHeadPosition:1,lineJoin:st.Miter,lineStyle:v.Solid,strokeThickness:2,minimumSegmentLength:2,arrowVeeness:0,arrowStartPosition:0,arrowLabelPosition:0,labelFontSize:0,labelStringFormatter:void 0,mapping:void 0,items:void 0},uc={...Ue,...Ne},ga=class Gr extends Vt{constructor(t){super(t),h(this,"_actualItems"),h(this,"_defaultColor",f.Undefined),h(this,"_defaultLineStyle",v.Solid),h(this,"color",Ne.color),h(this,"_minValue",0),h(this,"_maxValue",0),h(this,"arrowHeadLength",Ne.arrowHeadLength),h(this,"arrowHeadWidth",Ne.arrowHeadWidth),h(this,"arrowHeadPosition",Ne.arrowHeadPosition),h(this,"lineJoin",Ne.lineJoin),h(this,"lineStyle",Ne.lineStyle),h(this,"strokeThickness",Ne.strokeThickness),h(this,"minimumSegmentLength",Ne.minimumSegmentLength),h(this,"arrowVeeness",Ne.arrowVeeness),h(this,"arrowStartPosition",Ne.arrowStartPosition),h(this,"arrowLabelPosition",Ne.arrowLabelPosition),h(this,"_colorAxis"),h(this,"colorAxisKey"),h(this,"labelStringFormatter"),h(this,"trackerStringFormatter"),h(this,"labelFontSize",Ne.labelFontSize),h(this,"canTrackerInterpolatePoints",!1),h(this,"mapping"),h(this,"items",[]),this.trackerStringFormatter=Gr.DefaultTrackerStringFormatter,Ot(this,"trackerStringFormatter",t),this.labelStringFormatter=function(e){return e.value.toFixed(2)},Ot(this,"labelStringFormatter",t),it(this,Ne,t,{exclude:["trackerStringFormatter","labelStringFormatter"]})}getElementName(){return"VectorSeries"}get minValue(){return this._minValue}get maxValue(){return this._maxValue}get actualLineStyle(){return this.lineStyle!=v.Automatic?this.lineStyle:this._defaultLineStyle}get colorAxis(){return this._colorAxis}set colorAxis(t){this._colorAxis=t}get ActualItems(){return this.itemsSource?this._actualItems:this.items}async render(t){const e=this.ActualItems;this.verifyAxes(),await this.renderVectors(t,e)}updateData(){this.itemsSource&&this.updateActualItems()}clearActualItems(){this._actualItems&&(this._actualItems.length=0)}updateActualItems(){if(!this.itemsSource)return;this.clearActualItems(),this._actualItems=this._actualItems||[];let t=this.itemsSource;this.mapping&&(t=this.itemsSource.map(e=>this.mapping(e))),this._actualItems.push(...t)}async renderVectors(t,e){let s=0;for(const n of e){let o;this.colorAxis&&(M.isUndefined(this.color)||M.isAutomatic(this.color))?o=gi.getColor(this.colorAxis,n.value):o=M.getActualColor(this.color,this._defaultColor),o=this.getSelectableColor(o,s);const r=n.direction,a=Ya(n.origin,r.times(this.arrowStartPosition)),u=Kn(a,r.times(this.arrowLabelPosition));await this.drawVector(t,a,r,o),this.labelFontSize>0&&this.labelStringFormatter&&await t.drawText(this.transform(u),this.labelStringFormatter(n),this.actualTextColor,this.actualFont,this.labelFontSize,this.actualFontWeight,0,F.Center,N.Middle),s++}}async drawVector(t,e,s,n){const o=[e,Kn(e,s)],r=[];O.transformAndInterpolateLines(this,o,r,this.minimumSegmentLength),r.length>=2&&await this.drawArrow(t,r,vn(r[r.length-1],r[r.length-2]),n)}async drawArrow(t,e,s,n){const o=se.fromVector(s).normalize(),r=Rn(o.y,-o.x),a=this.arrowHeadLength*this.strokeThickness,u=this.arrowHeadWidth*this.strokeThickness,m=ze(e[e.length-1],o.times(a*this.arrowHeadPosition)),c=o.times(this.arrowVeeness*this.strokeThickness),p=Rt(m,o.times(a)),x=ze(Rt(m,r.times(u)),c),w=ze(ze(m,r.times(u)),c),S=this.actualLineStyle,k=$t.getDashArray(S);if(this.arrowHeadPosition>0&&this.arrowHeadPosition<=1){const A=a*this.arrowHeadPosition*a*this.arrowHeadPosition;for(let C=e.length-1;C>=0;C--)$i(e[C],p)<=A&&e.splice(C,1);e.length>0&&e.push(m)}this.strokeThickness>0&&S!==v.None&&(await t.drawLine(e,n,this.strokeThickness,this.edgeRenderingMode,k,this.lineJoin),await t.drawPolygon([w,p,x,m],n,f.Undefined,0,this.edgeRenderingMode))}getNearestPoint(t,e){const s=this.colorAxis,n=(s==null?void 0:s.title)??Gr.DefaultColorAxisTitle;if(!(this.ActualItems&&this.ActualItems.length>0))return;const o=mc(this.ActualItems,u=>$i(this.transform(u.origin),t)),r=o.origin,a=this.formatDefaultTrackerString(o,r,u=>{const m=u;m.colorAxisTitle=n,m.itemDirection=o.direction});return new Wt({series:this,dataPoint:r,position:this.transform(r),item:void 0,index:-1,text:a})}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}setDefaultValues(){M.isAutomatic(this.color)&&this.colorAxis===void 0&&(this._defaultLineStyle=this.plotModel.getDefaultLineStyle(),this._defaultColor=this.plotModel.getDefaultColor())}updateMaxMinXY(){const t=this.ActualItems;t&&t.length>0&&(this.minX=Math.min(...t.map(e=>e.origin.x-e.direction.x*this.arrowStartPosition),...t.map(e=>e.origin.x-e.direction.x*(this.arrowStartPosition-1))),this.maxX=Math.max(...t.map(e=>e.origin.x-e.direction.x*this.arrowStartPosition),...t.map(e=>e.origin.x-e.direction.x*(this.arrowStartPosition-1))),this.minY=Math.min(...t.map(e=>e.origin.y-e.direction.y*this.arrowStartPosition),...t.map(e=>e.origin.y-e.direction.y*(this.arrowStartPosition-1))),this.maxY=Math.max(...t.map(e=>e.origin.y-e.direction.y*this.arrowStartPosition),...t.map(e=>e.origin.y-e.direction.y*(this.arrowStartPosition-1))))}updateMaxMin(){super.updateMaxMin();const t=this.ActualItems,e=[];if(e.push(...t.map(s=>Ya(s.origin,s.direction.times(this.arrowStartPosition)))),e.push(...t.map(s=>Kn(s.origin,s.direction.times(1-this.arrowStartPosition)))),this.internalUpdateMaxMin(e),this.updateMaxMinXY(),t&&t.length>0){const s=t.map(n=>n.value);this._minValue=zt(s),this._maxValue=qt(s)}}updateAxisMaxMin(){if(super.updateAxisMaxMin(),!this.colorAxis)return;const t=this.colorAxis;t.include(this._minValue),t.include(this.maxValue)}getElementDefaultValues(){return uc}};h(ga,"DefaultTrackerStringFormatter",function(i){return`${i.title}
${i.xTitle}: ${i.xValue}
${i.yTitle}: ${i.yValue}
${i.colorAxisTitle}: ${i.item.value}
Δ${i.xTitle}: ${i.itemDirection.x}
Δ${i.yTitle}: ${i.itemDirection.y}`});h(ga,"DefaultColorAxisTitle","Value");let Wo=ga;const mc=(i,t)=>{if(!i)throw new Error("Sequence must be defined.");if(!t)throw new Error("Projection must be defined.");let e,s,n=!0;for(const o of i){const r=t(o);(n||r<s)&&(e=o,s=r,n=!1)}if(n)throw new Error("Sequence must be non-empty.");return e};function $e(i,t){if(isNaN(i)||isNaN(t))throw new Error("NaN values are not permitted");if(t<i)throw new Error("max must be larger or equal min");return Object.freeze({minimum:i,maximum:t})}class nl{static range(t){return t.maximum-t.minimum}static contains(t,e){return e>=t.minimum&&e<=t.maximum}static intersectsWith(t,e){return this.contains(t,e.minimum)||this.contains(t,e.maximum)||this.contains(e,t.minimum)||this.contains(e,t.maximum)}}const Jn={extrapolationColor:f.Black,extrapolationLineStyle:v.Dash,ignoreExtraplotationForScaling:!1,lineStyle:v.Dot,extrapolationDashes:void 0,intervals:void 0},hc={...ls,...ge};class Ts extends G{constructor(t){super(t),h(this,"_defaultExtrapolationColor",f.Black),h(this,"_defaultExtrapolationLineStyle",v.Dash),h(this,"_orderedIntervals",[]),h(this,"extrapolationColor",Jn.extrapolationColor),h(this,"extrapolationDashes"),h(this,"extrapolationLineStyle",Jn.extrapolationLineStyle),h(this,"ignoreExtraplotationForScaling",Jn.ignoreExtraplotationForScaling),h(this,"intervals",[]),it(this,Jn,t)}getElementName(){return"ExtrapolationLineSeries"}get actualExtrapolationColor(){return M.getActualColor(this.extrapolationColor,this._defaultExtrapolationColor)}get actualExtrapolationLineStyle(){return this.extrapolationLineStyle!==v.Automatic?this.extrapolationLineStyle:this._defaultExtrapolationLineStyle}get actualExtrapolationDashArray(){return this.extrapolationDashes||$t.getDashArray(this.actualExtrapolationLineStyle)}async renderLegend(t,e){const s=P.right(e),n=P.bottom(e),o=(e.left+s)/2,r=(e.top+n)/2;let a=[R(e.left,r),R(o,r)];await t.drawLine(a,this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode,this.actualDashArray),a=[R(o,r),R(s,r)],await t.drawLine(a,this.getSelectableColor(this.actualExtrapolationColor),this.strokeThickness,this.edgeRenderingMode,this.actualExtrapolationDashArray);const u=R(o,r);await O.drawMarker(t,u,this.markerType,this.markerOutline,this.markerSize,this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)}updateData(){super.updateData(),this._orderedIntervals=this.mergeOverlaps(this.intervals)}updateMaxMin(){this.ignoreExtraplotationForScaling&&this._orderedIntervals.length>0?(this.minX=this.points.filter(t=>!this.inAnyInterval(t.x)).map(t=>t.x).filter(t=>!ht(t)).reduce((t,e)=>Math.min(t,e),Number.NaN),this.minY=this.points.filter(t=>!this.inAnyInterval(t.x)).map(t=>t.y).filter(t=>!ht(t)).reduce((t,e)=>Math.min(t,e),Number.NaN),this.maxX=this.points.filter(t=>!this.inAnyInterval(t.x)).map(t=>t.x).filter(t=>!ht(t)).reduce((t,e)=>Math.max(t,e),Number.NaN),this.maxY=this.points.filter(t=>!this.inAnyInterval(t.x)).map(t=>t.y).filter(t=>!ht(t)).reduce((t,e)=>Math.max(t,e),Number.NaN)):super.updateMaxMin()}async renderLine(t,e){if(this.strokeThickness<=0||this.actualLineStyle===v.None)return;const s=this.getClippingRect(),n=this.inverseTransform(P.bottomLeft(s)),o=this.inverseTransform(P.topRight(s)),r=Math.min(n.x,o.x),a=Math.max(n.x,o.x),u=Math.min(n.y,o.y),m=Math.max(n.y,o.y),c=this.createClippingRectangles(s,r,a,u,m);for(const p of c){const x=this.inverseTransform(P.center(p)).x,w=this._orderedIntervals&&this._orderedIntervals.some(k=>nl.contains(k,x)),S=O.autoResetClip(t,p);await this.renderLinePart(t,e,w),S.dispose()}}createClippingRectangles(t,e,s,n,o){const r=[];let a=e;const u=tt.transform;if(this._orderedIntervals&&this._orderedIntervals.length>0){const c=this.flatten(this._orderedIntervals).filter(p=>p>=e&&p<=s);for(const p of c){const x=P.fromScreenPoints(u(this,a,n),u(this,p,o));r.push(P.clip(x,t)),a=p}}const m=P.fromScreenPoints(u(this,a,n),u(this,s,o));return r.push(P.clip(m,t)),r}flatten(t){const e=[];for(const s of t)e.push(s.minimum),e.push(s.maximum);return e}async renderLinePart(t,e,s){const n=s?this.extrapolationColor:this.color,o=s?this.actualExtrapolationDashArray:this.actualDashArray;await O.drawReducedLine(t,e,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(n),this.strokeThickness,this.edgeRenderingMode,o,this.lineJoin)}mergeOverlaps(t){const e=[];if(t){const s=t.sort((n,o)=>n.minimum-o.minimum);for(const n of s){const o=e[e.length-1];o&&nl.intersectsWith(n,o)?e[e.length-1]=$e(o.minimum,Math.max(o.maximum,n.maximum)):e.push(n)}}return e}inAnyInterval(t){let e=0,s=this._orderedIntervals.length-1;for(;e<=s;){const n=Math.floor((e+s)/2),o=this.compare(this._orderedIntervals[n],t);if(o===0)return!0;o<0?s=n-1:e=n+1}return!1}compare(t,e){return e<t.minimum?-1:e>t.maximum?1:0}getElementDefaultValues(){return hc}}const hi={contourLevelStep:NaN,labelStep:1,multiLabel:!1,labelSpacing:150,labelBackground:M.fromAColor(220,f.White),color:f.Automatic,strokeThickness:1,lineStyle:v.Solid,minimumSegmentLength:2,columnCoordinates:[],rowCoordinates:[],contourLevels:void 0,contourColors:void 0,data:void 0,labelStringFormatter:void 0},cc={...Ue,...hi},uu=class Hr extends Vt{constructor(t){super(t),h(this,"_contours"),h(this,"_segments",[]),h(this,"_defaultColor",f.Undefined),h(this,"color",hi.color),h(this,"columnCoordinates",[]),h(this,"contourLevelStep",hi.contourLevelStep),h(this,"contourLevels"),h(this,"contourColors",[]),h(this,"data"),h(this,"labelBackground",hi.labelBackground),h(this,"labelStringFormatter"),h(this,"trackerStringFormatter"),h(this,"labelSpacing",hi.labelSpacing),h(this,"multiLabel",hi.multiLabel),h(this,"labelStep",hi.labelStep),h(this,"lineStyle",hi.lineStyle),h(this,"rowCoordinates",[]),h(this,"strokeThickness",hi.strokeThickness),h(this,"minimumSegmentLength",hi.minimumSegmentLength),this.trackerStringFormatter=Hr.DefaultTrackerFormatString,it(this,hi,t)}getElementName(){return"ContourSeries"}get actualColor(){return M.getActualColor(this.color,this._defaultColor)}calculateContours(){if(!this.data)return;let t=this.contourLevels;this._segments=[];const e=(s,n,o,r,a)=>{this._segments.push({startPoint:d(s,n),endPoint:d(o,r),contourLevel:a})};if(!t){let s=this.data[0][0],n=this.data[0][0];for(let r=0;r<this.data.length;r++)for(let a=0;a<this.data[r].length;a++)s=Math.max(s,this.data[r][a]),n=Math.min(n,this.data[r][a]);let o=this.contourLevelStep;if(ht(o)){const a=(s-n)/20,u=Math.round(Math.log(Math.abs(a))/Math.LN10);o=Math.pow(10,Math.floor(u)),this.contourLevelStep=o}s=Math.round(o*Math.ceil(s/o)*1e14)/1e14,n=Math.round(o*Math.floor(n/o)*1e14)/1e14,t=oe.createVectorWithStep(n,s,o)}if(Fc.contour(this.data,this.columnCoordinates,this.rowCoordinates,t,e),this.joinContourSegments(),this.contourColors&&this.contourColors.length>0)for(const s of this._contours){let n=Hr.indexOf(t,s.contourLevel);n>=0&&(n=n%this.contourColors.length,s.color=this.contourColors[n])}}getNearestPoint(t,e){let s;const n="Z";for(const o of this._contours){const r=e?this.getNearestInterpolatedPointInternal(o.points,0,t):this.getNearestPointInternal(o.points,0,t);r&&(!s||$i(s.position,t)>$i(r.position,t))&&(s=r,s.text=this.formatDefaultTrackerString(o,r.dataPoint,a=>{const u=a;u.zTitle=n,u.contourLevel=o.contourLevel}))}return s}async render(t){if(this._contours||this.calculateContours(),this._contours.length===0)return;this.verifyAxes();const e=[],s=$t.getDashArray(this.lineStyle);for(const n of this._contours){if(this.strokeThickness<=0||this.lineStyle===v.None)continue;const o=n.points.map(S=>this.transform(S)),r=M.getActualColor(n.color,this.actualColor);await O.drawReducedLine(t,o,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(r),this.strokeThickness,this.edgeRenderingMode,s,st.Miter);let a=0;for(let S=1;S<o.length;S++)a+=ue(o[S],o[S-1]).length;if(o.length<=10||Math.round(n.contourLevel/this.contourLevelStep)%this.labelStep!==0)continue;if(!this.multiLabel){this.addContourLabels(n,o,e,(o.length-1)*.5);continue}const u=Math.floor(a/this.labelSpacing);if(u===0){this.addContourLabels(n,o,e,(o.length-1)*.5);continue}let m=0,c=0,p=1,x=0;const w=(a-(u-1)*this.labelSpacing)/2;for(let S=0;S<u;S++){let k=0;p===1?x=w:x=w+S*this.labelSpacing;for(let A=p;A<o.length;A++){if(m+=ue(o[A],o[A-1]).length,m>x){k=A-1+(x-c)/(m-c),p=A+1;break}c=m}this.addContourLabels(n,o,e,k)}}for(const n of e)await this.renderLabelBackground(t,n);for(const n of e)await this.renderLabel(t,n)}setDefaultValues(){M.isAutomatic(this.color)&&(this.lineStyle=this.plotModel.getDefaultLineStyle(),this._defaultColor=this.plotModel.getDefaultColor())}updateMaxMin(){this.minX=Math.min(...this.columnCoordinates),this.maxX=Math.max(...this.columnCoordinates),this.minY=Math.min(...this.rowCoordinates),this.maxY=Math.max(...this.rowCoordinates)}static indexOf(t,e){let s=ot,n=-1;for(let o=0;o<t.length;o++){const r=Math.abs(t[o]-e);r<s&&(s=r,n=o)}return n}addContourLabels(t,e,s,n){if(e.length<2)return;const o=Math.floor(n),r=o+1,a=e[r].x-e[o].x,u=e[r].y-e[o].y,m=e[o].x+a*(n-o),c=e[o].y+u*(n-o),p=R(m,c);let x=Math.atan2(u,a)*180/Math.PI;x>90&&(x-=180),x<-90&&(x+=180);const w=this.labelStringFormatter?this.labelStringFormatter(t.contourLevel,[]):t.contourLevel.toString();s.push({position:p,angle:x,text:w})}joinContourSegments(t=1e-10){this._contours=new Array;const e=n=>{const o=new ol(n.startPoint),r=new ol(n.endPoint);return o.partner=r,r.partner=o,[o,r]},s=Dm(this._segments,"contourLevel");for(const n of s){const o=n[0],r=n[1].flatMap(a=>e(a)).sort((a,u)=>a.point.x-u.point.x);for(let a=0;a<r.length-1;a++){const u=r[a];if(u.join)continue;const c=Math.sqrt(Math.pow(u.point.x,2)+Math.pow(u.point.y,2))*t,p=u.point.x+c;let x=a+1,w;for(;;){if(x>=r.length){w=void 0;break}if(w=r[x],x++,w.join)continue;if(w.point.x>p){w=void 0;break}if(Math.sqrt(Math.pow(w.point.x-u.point.x,2)+Math.pow(w.point.y-u.point.y,2))<c)break}w&&(u.join=w,w.join=u)}for(const a of r){if(a.processed)continue;let u=a;for(;u.join&&(u=u.join.partner,u!==a););const m=new Array(u.point,u.partner.point);for(u.processed=!0,u=u.partner,u.processed=!0;u.join&&(u=u.join,!u.processed);)u.processed=!0,u=u.partner,u.processed=!0,m.push(u.point);const c=new dc(m,o);this._contours.push(c)}}}async renderLabel(t,e){this.actualFontSize>0&&await t.drawText(e.position,e.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,e.angle,F.Center,N.Middle)}async renderLabelBackground(t,e){if(M.isInvisible(this.labelBackground))return;const s=t.measureText(e.text,this.actualFont,this.actualFontSize,this.actualFontWeight),n=e.angle/180*Math.PI,o=Math.cos(n),r=Math.sin(n),a=o*.6,u=r*.6,m=-r*.5,c=o*.5,p=e.position.x,x=e.position.y,w=[R(p-s.width*a-s.height*m,x-s.width*u-s.height*c),R(p+s.width*a-s.height*m,x+s.width*u-s.height*c),R(p+s.width*a+s.height*m,x+s.width*u+s.height*c),R(p-s.width*a+s.height*m,x-s.width*u+s.height*c)];await t.drawPolygon(w,this.labelBackground,f.Undefined,0,this.edgeRenderingMode)}getElementDefaultValues(){return cc}};h(uu,"DefaultTrackerFormatString",function(i){return`${i.title}
${i.xTitle}: ${i.xValue}
${i.yTitle}: ${i.yValue}
${i.zTitle}: ${i.contourLevel}`});let We=uu;class ol{constructor(t){h(this,"partner"),h(this,"join"),h(this,"processed"),h(this,"point"),this.point=t,this.processed=!1}}class dc{constructor(t,e){h(this,"contourLevel"),h(this,"points"),h(this,"color"),this.points=t,this.contourLevel=e,this.color=f.Automatic}}const co={verticalStrokeThickness:NaN,verticalLineStyle:v.None},pc={...ls,...co};class Oe extends G{constructor(t){super(t),h(this,"verticalStrokeThickness",co.verticalStrokeThickness),h(this,"verticalLineStyle",co.verticalLineStyle),it(this,co,t)}getElementName(){return"StairStepSeries"}getNearestPoint(t,e){if(!this.xAxis||!this.yAxis)return;let s=16*16,n=this.getNearestPointInternal(this.actualPoints,0,t);if(!e&&n&&$i(n.position,t)<s)return n.text=this.formatDefaultTrackerString(n.item,n.dataPoint),n;n=void 0;const o=this.actualPoints.length;for(let r=0;r<o;r++){const a=this.actualPoints[r],u=this.actualPoints[r+1<o?r+1:r],m=tt.transform(this,a.x,a.y),c=tt.transform(this,u.x,a.y),p=c.x-m.x,x=c.y-m.y;let w=(t.x-m.x)*p+(t.y-m.y)*x,S=p*p+x*x;if(p*p+x*x<4&&(w=0,S=1),Math.abs(S)<=0)continue;const A=w/S;if(A<0||A>1)continue;const C=m.x+A*p,T=m.y+A*x,D=t.x-C,B=t.y-T,I=D*D+B*B;if(I>=s)continue;const _=a.x+A*(u.x-a.x),z=a.y,E=this.getItem(r),Y=this.formatDefaultTrackerString(E,d(_,z));n=new Wt({series:this,dataPoint:d(_,z),position:R(C,T),item:E,index:r,text:Y}),s=I}return n}async render(t){if(!this.actualPoints||this.actualPoints.length===0)return;this.verifyAxes();const e=this.actualDashArray,s=$t.getDashArray(this.verticalLineStyle),n=this.actualLineStyle,o=isNaN(this.verticalStrokeThickness)?this.strokeThickness:this.verticalStrokeThickness,r=this.getSelectableColor(this.actualColor),a=O.getActualEdgeRenderingMode(this.edgeRenderingMode,U.PreferSharpness),u=async(S,k)=>{if(this.strokeThickness>0&&n!==v.None)if(o!==this.strokeThickness||this.verticalLineStyle!==n){const A=[],C=[];if(S.length>=2){A.push(S[0]),A.push(S[1]);for(let T=1;T+2<S.length;T+=2)C.push(S[T]),C.push(S[T+1]),A.push(S[T+1]),A.push(S[T+2])}await t.drawLineSegments(A,r,this.strokeThickness,a,e,this.lineJoin),await t.drawLineSegments(C,r,o,a,s,this.lineJoin)}else await t.drawLine(S,r,this.strokeThickness,a,e,this.lineJoin);this.markerType!==V.None&&await O.drawMarkers(t,k,this.markerType,this.markerOutline,[this.markerSize],this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)},m=this.actualPoints;let c=0,p=ot;if(this.isXMonotonic){const S=this.xAxis.clipMinimum;p=this.xAxis.clipMaximum,this.windowStartIndex=this.updateWindowStartIndex(m,k=>k.x,S,this.windowStartIndex),c=this.windowStartIndex}const x=[],w=[];for(let S=c;S<m.length;){const{valid:k,validOffset:A,endOffset:C}=this.findNextValidSegment(m,S,p);if(!k)break;let T=R(0,0),D=ke,B=!1,I=!1;for(S=A;S<C;++S){const _=m[S];B=B||_.x>D.x,I=I||_.x<D.x,B&&I&&(x.push(this.transform(D)),x.push(this.transform(D)),B=_.x>D.x,I=_.x<D.x),T=this.transform(_),_.y!==D.y&&(isNaN(D.y)||x.push(this.transform(d(_.x,D.y))),x.push(T),B=!1,I=!1),D=_,w.push(T)}S<m.length&&this.xAxis.isValidValue(m[S].x)?x.push(this.transform(d(m[S].x,D.y))):x.push(T),await u(x,w),x.length=0,w.length=0}this.labelStringFormatter&&await this.renderPointLabels(t)}findNextValidSegment(t,e,s){for(;;++e){if(e>=t.length)return{valid:!1,validOffset:0,endOffset:0};const r=t[e];if(r.x>s)return{valid:!1,validOffset:0,endOffset:0};if(this.isValidPoint(r))break}const n=e;for(;!(e>=t.length);++e){const r=t[e];if(!this.isValidPoint(r)||r.x>s)break}return{valid:!0,validOffset:n,endOffset:e}}getElementDefaultValues(){return pc}}const Me={fill:f.Automatic,stroke:f.Black,boxWidth:.3,strokeThickness:1,medianThickness:2,meanThickness:2,outlierSize:2,outlierType:V.Circle,medianPointSize:2,meanPointSize:2,whiskerWidth:.5,lineStyle:v.Solid,showMedianAsDot:!1,showMeanAsDot:!1,showBox:!0,outlierOutline:void 0,items:void 0},fc={...Ue,...Me},xa=class Ur extends Vt{constructor(t){super(t),h(this,"_itemsSourceItems",[]),h(this,"trackerStringFormatter"),h(this,"boxWidth",Me.boxWidth),h(this,"fill",Me.fill),h(this,"items",[]),h(this,"lineStyle",Me.lineStyle),h(this,"medianPointSize",Me.medianPointSize),h(this,"medianThickness",Me.medianThickness),h(this,"meanPointSize",Me.meanPointSize),h(this,"meanThickness",Me.meanThickness),h(this,"outlierSize",Me.outlierSize),h(this,"outlierTrackerStringFormatter"),h(this,"outlierType",Me.outlierType),h(this,"outlierOutline"),h(this,"showBox",Me.showBox),h(this,"showMedianAsDot",Me.showMedianAsDot),h(this,"showMeanAsDot",Me.showMeanAsDot),h(this,"stroke",Me.stroke),h(this,"strokeThickness",Me.strokeThickness),h(this,"whiskerWidth",Me.whiskerWidth),this.trackerStringFormatter=Ur.DefaultTrackerFormatString,this.outlierTrackerStringFormatter=Ur.DefaultOutlierTrackerFormatString,Ot(this,"trackerStringFormatter",t),Ot(this,"outlierTrackerStringFormatter",t),it(this,Me,t,{exclude:["trackerStringFormatter","outlierTrackerStringFormatter"]})}getElementName(){return"BoxPlotSeries"}get actualItems(){return this.itemsSource?this._itemsSourceItems:this.items}getNearestPoint(t,e){if(!this.xAxis||!this.yAxis)return;let s=ot,n;for(const o of this.actualItems){for(const x of o.outliers){const w=tt.transform(this,o.x,x),S=ue(w,t).lengthSquared;if(S<s){const k=this.outlierTrackerStringFormatter({item:o,title:this.title,xTitle:this.xAxis.title||Vt.defaultXAxisTitle,xValue:this.xAxis.getValue(o.x),outlier:x});n=new Wt({series:this,dataPoint:d(o.x,x),position:w,item:o,text:k}),s=S}}let r=ke;const a=this.getBoxRect(o);if(P.containsPoint(a,t)){const x=this.inverseTransform(t);r=d(o.x,x.y),s=0}const u=tt.transform(this,o.x,o.upperWhisker),m=tt.transform(this,o.x,o.lowerWhisker),c=be.findPointOnLine(t,u,m),p=ue(c,t).lengthSquared;if(p<s&&(r=this.inverseTransform(c),s=p),Io(r)){const x=this.trackerStringFormatter({item:o,title:this.title,xTitle:this.xAxis.title||Vt.defaultXAxisTitle,xValue:this.xAxis.getValue(o.x),upperWhisker:this.yAxis.getValue(o.upperWhisker),boxTop:this.yAxis.getValue(o.boxTop),median:this.yAxis.getValue(o.median),boxBottom:this.yAxis.getValue(o.boxBottom),lowerWhisker:this.yAxis.getValue(o.lowerWhisker),mean:this.yAxis.getValue(o.mean!==void 0?o.mean:NaN)});n=new Wt({series:this,dataPoint:r,position:this.transform(r),item:o,text:x})}}if(s<ot)return n}isValidPointBoxPlot(t,e,s){const n=rl(t);return!isNaN(t.x)&&!vi(t.x)&&!n.some(isNaN)&&!n.some(vi)&&e&&e.isValidValue(t.x)&&s&&n.every(o=>s.isValidValue(o))}async render(t){if(this.actualItems.length===0)return;const e=this.getClippingRect(),s=[],n=this.boxWidth*.5,o=n*this.whiskerWidth,r=this.getSelectableColor(this.stroke),a=this.getSelectableFillColor(this.fill),u=$t.getDashArray(this.lineStyle),m=tt.transform,c=O.getActualEdgeRenderingMode(this.edgeRenderingMode,U.PreferSharpness);for(const p of this.actualItems){const x=p.mean!==void 0?p.mean:NaN;s.push(...p.outliers.map(C=>m(this,p.x,C)));const w=m(this,p.x,p.upperWhisker),S=m(this,p.x,p.boxTop),k=m(this,p.x,p.boxBottom),A=m(this,p.x,p.lowerWhisker);if(this.strokeThickness>0&&this.lineStyle!==v.None&&(await t.drawLine([w,S],r,this.strokeThickness,c,u,st.Miter),await t.drawLine([k,A],r,this.strokeThickness,c,u,st.Miter)),this.whiskerWidth>0){const C=m(this,p.x-o,p.upperWhisker),T=m(this,p.x+o,p.upperWhisker),D=m(this,p.x-o,p.lowerWhisker),B=m(this,p.x+o,p.lowerWhisker);await t.drawLine([C,T],r,this.strokeThickness,c,void 0,st.Miter),await t.drawLine([D,B],r,this.strokeThickness,c,void 0,st.Miter)}if(this.showBox){const C=this.getBoxRect(p);await t.drawRectangle(C,a,r,this.strokeThickness,c)}if(this.showMedianAsDot){const C=m(this,p.x,p.median);if(P.containsPoint(e,C)){const T=J(C.x-this.medianPointSize,C.y-this.medianPointSize,this.medianPointSize*2,this.medianPointSize*2);await t.drawEllipse(T,a,f.Undefined,0,this.edgeRenderingMode)}}else{const C=m(this,p.x-n,p.median),T=m(this,p.x+n,p.median);await t.drawLine([C,T],r,this.strokeThickness*this.medianThickness,c,void 0,st.Miter)}if(!this.showMeanAsDot&&!isNaN(x)){const C=m(this,p.x-n,x),T=m(this,p.x+n,x);await t.drawLine([C,T],r,this.strokeThickness*this.meanThickness,c,$t.getDashArray(v.Dash),st.Miter)}else if(!isNaN(x)){const C=m(this,p.x,x);if(P.containsPoint(e,C)){const T=J(C.x-this.meanPointSize,C.y-this.meanPointSize,this.meanPointSize*2,this.meanPointSize*2);await t.drawEllipse(T,a,f.Undefined,0,this.edgeRenderingMode)}}}if(this.outlierType!==V.None){const p=s.map(x=>this.outlierSize);await O.drawMarkers(t,s,this.outlierType,this.outlierOutline,p,a,r,this.strokeThickness,this.edgeRenderingMode)}}async renderLegend(t,e){const s=P.right(e),n=P.bottom(e),o=(e.left+s)/2,r=e.top+(n-e.top)*.7,a=e.top+(n-e.top)*.3,u=(r+a)*.5,m=e.width*.24,c=m*this.whiskerWidth,p=1,x=this.getSelectableColor(this.stroke),w=this.getSelectableFillColor(this.fill),S=$t.getDashArray(v.Solid),k=O.getActualEdgeRenderingMode(this.edgeRenderingMode,U.PreferGeometricAccuracy);if(await t.drawLine([R(o,e.top),R(o,a)],x,p,k,S,st.Miter),await t.drawLine([R(o,r),R(o,n)],x,p,k,S,st.Miter),this.whiskerWidth>0&&(await t.drawLine([R(o-c,n),R(o+c,n)],x,p,k,S,st.Miter),await t.drawLine([R(o-c,e.top),R(o+c,e.top)],x,p,k,S,st.Miter)),this.showBox&&await t.drawRectangle(J(o-m,a,2*m,r-a),w,x,p,k),!this.showMedianAsDot)await t.drawLine([R(o-m,u),R(o+m,u)],x,p*this.medianThickness,k,S,st.Miter);else{const A=J(o-this.medianPointSize,u-this.medianPointSize,this.medianPointSize*2,this.medianPointSize*2);await t.drawEllipse(A,w,f.Undefined,0,k)}}updateData(){this.itemsSource&&(this.clearItemsSourceItems(),this._itemsSourceItems.push(...this.itemsSource),this._itemsSourceItems.forEach(t=>{t.mean===void 0&&(t.median=NaN)}))}updateMaxMin(){super.updateMaxMin(),this.internalUpdateBoxPlotMaxMin(this.actualItems)}internalUpdateBoxPlotMaxMin(t){if(!t||t.length===0)return;let e=this.minX,s=this.minY,n=this.maxX,o=this.maxY;for(const r of t){if(!this.isValidPointBoxPlot(r,this.xAxis,this.yAxis))continue;const a=r.x;(a<e||isNaN(e))&&(e=a),(a>n||isNaN(n))&&(n=a);const u=rl(r);for(const m of u)(m<s||isNaN(s))&&(s=m),(m>o||isNaN(o))&&(o=m)}this.minX=e,this.minY=s,this.maxX=n,this.maxY=o}getItem(t){return this.itemsSource||!this.actualItems||this.actualItems.length===0?super.getItem(t):this.actualItems[t]}getBoxRect(t){const e=this.boxWidth*.5,s=tt.transform(this,t.x-e,t.boxTop),n=tt.transform(this,t.x+e,t.boxBottom);return P.fromScreenPoints(s,n)}clearItemsSourceItems(){this._itemsSourceItems.length=0}getElementDefaultValues(){return fc}};h(xa,"DefaultTrackerFormatString",function(i){return`${i.title||""}
${i.xTitle}: ${i.xValue}
Upper Whisker: ${i.upperWhisker.toFixed(2)}
Third Quartil: ${i.boxTop.toFixed(2)}
Median: ${i.median.toFixed(2)}
First Quartil: ${i.boxBottom.toFixed(2)}
Lower Whisker: ${i.lowerWhisker.toFixed(2)}
Mean: ${i.mean.toFixed(2)}`});h(xa,"DefaultOutlierTrackerFormatString",function(i){return`${i.title||""}
${i.xTitle}: ${i.xValue}
Y: ${i.outlier.toFixed(2)}`});let Xo=xa;function rl(i){const t=[i.lowerWhisker,i.boxBottom,i.median,i.boxTop,i.upperWhisker];return i.mean!==void 0&&!ht(i.mean)&&t.push(i.mean),t.push(...i.outliers),t}const Wr={base:0},gc={...ls,...Wr};class mu extends G{constructor(t){super(t),h(this,"base",Wr.base),it(this,Wr,t)}getElementName(){return"StemSeries"}getNearestPoint(t,e){if(!this.xAxis||!this.yAxis||e)return;let s,n=ot;const o=this.actualPoints;for(let r=0;r<o.length;r++){const a=o[r],u=d(a.x,this.base),m=this.transform(a),c=this.transform(u);let p=be.findPositionOnLine(t,m,c);isNaN(p)&&(p=1),(p<0||p>1)&&(p=1);const x=Rt(m,ue(c,m).times(p)),w=ue(t,x).lengthSquared;if(w<n){const S=this.getItem(r),k=this.formatDefaultTrackerString(S,a);s=new Wt({series:this,dataPoint:d(a.x,a.y),position:R(m.x,m.y),item:this.getItem(r),index:r,text:k}),n=w}}return s}async render(t){if(this.actualPoints.length===0)return;this.verifyAxes();const e=this.minimumSegmentLength*this.minimumSegmentLength,s=this.actualDashArray,n=this.getSelectableColor(this.actualColor),o=[],r=this.markerType!==V.None?[]:void 0;for(const a of this.actualPoints)if(this.isValidPoint(a)){if(o[0]=tt.transform(this,a.x,this.base),o[1]=tt.transform(this,a.x,a.y),this.strokeThickness>0&&this.actualLineStyle!==v.None){const u=O.getActualEdgeRenderingMode(this.edgeRenderingMode,U.PreferSharpness);await O.drawReducedLine(t,o,e,n,this.strokeThickness,u,s,this.lineJoin)}r&&r.push(o[1])}r&&r.length>0&&await O.drawMarkers(t,r,this.markerType,this.markerOutline,[this.markerSize],this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)}getElementDefaultValues(){return gc}}function xc(i){return M.getActualColor(i.fill,i.defaultFillColor)}const Ce={angleIncrement:1,angleSpan:360,areInsideLabelsAngled:!1,diameter:1,explodedDistance:0,innerDiameter:0,insideLabelColor:f.Automatic,insideLabelPosition:.5,startAngle:0,stroke:f.White,strokeThickness:1,tickDistance:0,tickHorizontalLength:8,tickLabelDistance:4,tickRadialLength:6,fontSize:12,colorField:void 0,insideLabelFormatter:void 0,isExplodedField:void 0,labelField:void 0,outsideLabelFormatter:void 0,slices:void 0,valueField:void 0},wc={...ma,...Ce},Yo=class po extends Bn{constructor(t){super(t),h(this,"_slicePoints",[]),h(this,"_total",0),h(this,"angleIncrement",Ce.angleIncrement),h(this,"angleSpan",Ce.angleSpan),h(this,"areInsideLabelsAngled",!1),h(this,"colorField"),h(this,"diameter",Ce.diameter),h(this,"explodedDistance",Ce.explodedDistance),h(this,"innerDiameter",Ce.innerDiameter),h(this,"insideLabelColor",Ce.insideLabelColor),h(this,"insideLabelFormatter"),h(this,"insideLabelPosition",Ce.insideLabelPosition),h(this,"isExplodedField"),h(this,"labelField"),h(this,"outsideLabelFormatter"),h(this,"slices",[]),h(this,"startAngle",Ce.startAngle),h(this,"stroke",Ce.stroke),h(this,"strokeThickness",Ce.strokeThickness),h(this,"tickDistance",Ce.tickDistance),h(this,"tickHorizontalLength",Ce.tickHorizontalLength),h(this,"tickLabelDistance",Ce.tickLabelDistance),h(this,"tickRadialLength",Ce.tickRadialLength),h(this,"valueField"),h(this,"trackerStringFormatter"),this.outsideLabelFormatter=po.DefaultOutsideLabelFormatter,Ot(this,"outsideLabelFormatter",t),this.insideLabelFormatter=po.DefaultInsideLabelFormatter,Ot(this,"insideLabelFormatter",t),this.trackerStringFormatter=po.DefaultTrackerStringFormatter,Ot(this,"trackerStringFormatter",t),it(this,Ce,t,{exclude:["outsideLabelFormatter","insideLabelFormatter","trackerStringFormatter"]})}getElementName(){return"PieSeries"}getNearestPoint(t,e){const s=this.trackerStringFormatter;for(let n=0;n<this._slicePoints.length;n++)if(be.isPointInPolygon(t,this._slicePoints[n])){const o=this.slices[n],r=this.getItem(n),a=s?s({item:r,title:this.title,xTitle:o.label,xValue:o.value,percent:o.value/this._total*100}):void 0;return new Wt({series:this,position:t,item:r,index:n,text:a})}}async render(t){if(this._slicePoints=[],this.slices.length===0||(this._total=this.slices.reduce((m,c)=>m+c.value,0),Math.abs(this._total)<=0))return;const e=Math.min(this.plotModel.plotArea.width,this.plotModel.plotArea.height)/2,s=e*(this.diameter-this.explodedDistance),n=e*this.innerDiameter;let o=this.startAngle;const r=P.right(this.plotModel.plotArea),a=P.bottom(this.plotModel.plotArea),u=R((this.plotModel.plotArea.left+r)*.5,(this.plotModel.plotArea.top+a)*.5);for(const m of this.slices){const c=[],p=[],x=m.value/this._total*this.angleSpan,w=o+x,S=m.isExploded?this.explodedDistance*e:0,k=o+x/2,A=k*Math.PI/180,C=R(u.x+S*Math.cos(A),u.y+S*Math.sin(A));for(;;){let D=!1;o>=w&&(o=w,D=!0);const B=o*Math.PI/180,I=R(C.x+s*Math.cos(B),C.y+s*Math.sin(B));c.push(I);const _=R(C.x+n*Math.cos(B),C.y+n*Math.sin(B));if(n+S>0&&p.push(_),D)break;o+=this.angleIncrement}p.reverse(),p.length===0&&p.push(C),p.push(c[0]);const T=[...c,...p];if(await t.drawPolygon(T,xc(m),this.stroke,this.strokeThickness,this.edgeRenderingMode,void 0,st.Bevel),this._slicePoints.push(T),this.outsideLabelFormatter){const D=this.outsideLabelFormatter(m,m.value/this._total*100),B=Math.sign(Math.cos(A)),I=R(C.x+(s+this.tickDistance)*Math.cos(A),C.y+(s+this.tickDistance)*Math.sin(A)),_=R(I.x+this.tickRadialLength*Math.cos(A),I.y+this.tickRadialLength*Math.sin(A)),z=R(_.x+this.tickHorizontalLength*B,_.y);await t.drawLine([I,_,z],this.actualTextColor,1,this.edgeRenderingMode,void 0,st.Bevel);const E=R(z.x+this.tickLabelDistance*B,z.y);await t.drawText(E,D,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,B>0?F.Left:F.Right,N.Middle)}if(this.insideLabelFormatter&&!M.isUndefined(this.insideLabelColor)){const D=this.insideLabelFormatter(m,m.value/this._total*100),B=n*(1-this.insideLabelPosition)+s*this.insideLabelPosition,I=R(C.x+B*Math.cos(A),C.y+B*Math.sin(A));let _=0;this.areInsideLabelsAngled&&(_=k,Math.cos(A)<0&&(_+=180));const z=M.isAutomatic(this.insideLabelColor)?this.actualTextColor:this.insideLabelColor;await t.drawText(I,D,z,this.actualFont,this.actualFontSize,this.actualFontWeight,_,F.Center,N.Middle)}}}async renderLegend(t,e){}areAxesRequired(){return!1}ensureAxes(){}isUsing(t){return!1}setDefaultValues(){for(const t of this.slices)t.fill=t.fill||f.Automatic,M.isAutomatic(t.fill)&&(t.defaultFillColor=this.plotModel.getDefaultColor())}updateAxisMaxMin(){}updateData(){if(this.itemsSource){this.slices=[];for(const t of this.itemsSource){const e=Xt(t,this.labelField,""),s=Xt(t,this.valueField,NaN),n=Xt(t,this.colorField,f.Automatic),o=Xt(t,this.isExplodedField,!1);this.slices.push({label:e,value:s,fill:n,isExploded:o})}}}updateMaxMin(){}getElementDefaultValues(){return wc}};h(Yo,"DefaultTrackerStringFormatter",function(i){return`${i.xTitle}: ${Bt(i.xValue,3)} (${qm((i.percent||0)/100)})`});h(Yo,"DefaultOutsideLabelFormatter",function(i,t){return`${Bt(t,0)} %`});h(Yo,"DefaultInsideLabelFormatter",function(i,t){return i.label});let hu=Yo;const zs={constantY2:0,color2:f.Automatic,fill:f.Automatic,reverse2:!0,dataFieldX2:void 0,dataFieldY2:void 0},cu={...ls,...zs};class wi extends G{constructor(t){super(t),h(this,"_points2",[]),h(this,"_itemsSourcePoints2",[]),h(this,"_actualPoints2"),h(this,"constantY2",zs.constantY2),h(this,"dataFieldX2"),h(this,"dataFieldY2"),h(this,"color2",zs.color2),h(this,"fill",zs.fill),h(this,"reverse2",zs.reverse2),h(this,"windowStartIndex2",0),h(this,"isPoints2Defined",!1),t!=null&&t.points2&&(this._points2=t.points2,delete t.points2),it(this,zs,t)}getElementName(){return"AreaSeries"}get actualColor2(){return M.getActualColor(this.color2,this.actualColor)}get actualFill(){return M.getActualColor(this.fill,M.fromAColor(100,this.actualColor))}get points2(){return this._points2}get actualPoints2(){return this.itemsSource?this._itemsSourcePoints2:this._actualPoints2}getNearestPoint(t,e){const s=this.isXMonotonic?this.windowStartIndex:0,n=this.isXMonotonic?this.windowStartIndex2:0;let o,r;e&&this.canTrackerInterpolatePoints?(o=this.getNearestInterpolatedPointInternal(this.actualPoints,s,t),r=this.getNearestInterpolatedPointInternal(this.actualPoints2,n,t)):(o=this.getNearestPointInternal(this.actualPoints,s,t),r=this.getNearestPointInternal(this.actualPoints2,n,t));let a;if(o&&r){const u=ri(o.position,t),m=ri(r.position,t);a=u<m?o:r}else a=o??r;return a&&(a.text=this.formatDefaultTrackerString(a.item,a.dataPoint)),a}async render(t){this.verifyAxes();const e=this.actualPoints;if(!e||e.length===0)return;const s=this.actualPoints2;if(!s||s.length===0)return;let n=0,o=0,r=ot;if(this.isXMonotonic){const p=this.xAxis.clipMinimum;r=this.xAxis.clipMaximum,this.windowStartIndex=this.updateWindowStartIndex(e,x=>x.x,p,this.windowStartIndex),this.windowStartIndex2=this.updateWindowStartIndex(s,x=>x.x,p,this.windowStartIndex2),n=this.windowStartIndex,o=this.windowStartIndex2}const a=this.minimumSegmentLength*this.minimumSegmentLength,u={points:e,windowStartIndex:n,xMax:r,renderContext:t,minDistSquared:a,reverse:!1,color:this.actualColor,dashArray:this.actualDashArray},m=await this.renderChunkedPoints(u);u.points=s,u.windowStartIndex=o,u.reverse=this.reverse2,u.color=this.actualColor2;const c=await this.renderChunkedPoints(u);if(m.length===c.length)for(let p=0;p<m.length;p++){const x=m[p],w=c[p],S=[];S.push(...w),S.push(...x),await O.drawReducedPolygon(t,S,a,this.getSelectableFillColor(this.actualFill),f.Undefined,0,this.edgeRenderingMode);const k=[this.markerSize];await O.drawMarkers(t,x,this.markerType,void 0,k,this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,1),await O.drawMarkers(t,w,this.markerType,void 0,k,this.markerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,1)}}async renderLegend(t,e){const s=P.right(e),n=P.bottom(e),o=e.top*.2+n*.8,r=e.top*.4+n*.6,a=e.top*.8+n*.2,u=[R(e.left,o),R(s,o)],m=[R(s,a),R(e.left,r)],c=[...u,...m];if(this.strokeThickness>0&&this.actualLineStyle!==v.None){const p=$t.getDashArray(this.actualLineStyle);await t.drawLine(u,this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode,p),await t.drawLine(m,this.getSelectableColor(this.actualColor2),this.strokeThickness,this.edgeRenderingMode,p)}await t.drawPolygon(c,this.getSelectableFillColor(this.actualFill),f.Undefined,0,this.edgeRenderingMode)}updateData(){if(super.updateData(),!this.itemsSource){this.isPoints2Defined=this._points2.length>0,this.isPoints2Defined?this._actualPoints2=this._points2:this._actualPoints2=this.getConstantPoints2();return}if(this._itemsSourcePoints2.length=0,this.isPoints2Defined=!!(this.dataFieldX2&&this.dataFieldY2),this.isPoints2Defined)for(const t of this.itemsSource){if(!t)continue;const e=Xt(t,this.dataFieldX2,Number.NaN),s=Xt(t,this.dataFieldY2,Number.NaN),n=d(this.xAxis.itemToDouble(e),this.yAxis.itemToDouble(s));this._itemsSourcePoints2.push(n)}else this._itemsSourcePoints2.push(...this.getConstantPoints2())}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMin(this.actualPoints2)}async renderChunkedPoints(t){const e=[];let s=[],n=0;const o=t.points;for(let r=t.windowStartIndex;r<o.length;r++){const a=o[r];if(isNaN(a.y)){if(s.length===0)continue;e.push(await this.renderScreenPoints(t,s)),s=[]}else{const u=tt.transform(this,a.x,a.y);s.push(u)}if(n+=a.x>t.xMax?1:0,n>1)break}return s.length>0&&e.push(await this.renderScreenPoints(t,s)),e}async renderScreenPoints(t,e){let s=e;if(t.reverse&&s.reverse(),this.interpolationAlgorithm){const n=be.resamplePoints(s,this.minimumSegmentLength);s=this.interpolationAlgorithm.createSplineSp(n,!1,.25)}return await O.drawReducedLine(t.renderContext,s,t.minDistSquared,this.getSelectableColor(t.color),this.strokeThickness,this.edgeRenderingMode,t.dashArray,this.lineJoin),s}getConstantPoints2(){const t=this.actualPoints,e=[];if(!isNaN(this.constantY2)&&t.length>0){const s=t[0].x,n=t[t.length-1].x;e.push(d(s,this.constantY2)),e.push(d(n,this.constantY2))}return e}getJsonIgnoreProperties(){return[...super.getJsonIgnoreProperties(),"windowStartIndex2","isPoints2Defined"]}getElementDefaultValues(){return cu}toJSON(t){const e=super.toJSON(t);return this._points2&&(e.points2=this.points2),e}}var Nn=(i=>(i[i.Center=0]="Center",i[i.Edge=1]="Edge",i))(Nn||{}),du=(i=>(i[i.Bitmap=0]="Bitmap",i[i.Rectangles=1]="Rectangles",i))(du||{});const bi={x0:0,x1:0,y0:0,y1:0,interpolate:!0,coordinateDefinition:0,renderMethod:0,labelFontSize:0,data:void 0,colorAxis:void 0,colorAxisKey:void 0,labelStringFormatter:void 0},yc={...Ue,...bi},wa=class wn extends Vt{constructor(t){super(t),h(this,"_dataHash",0),h(this,"_colorAxisHash",0),h(this,"_image"),h(this,"x0",bi.x0),h(this,"x1",bi.x1),h(this,"y0",bi.y0),h(this,"y1",bi.y1),h(this,"data"),h(this,"interpolate",bi.interpolate),h(this,"_minValue",0),h(this,"_maxValue",0),h(this,"_colorAxis"),h(this,"colorAxisKey"),h(this,"coordinateDefinition",bi.coordinateDefinition),h(this,"renderMethod",bi.renderMethod),h(this,"labelStringFormatter",e=>e.toFixed(2)),h(this,"labelFontSize",bi.labelFontSize),this.trackerStringFormatter=wn.DefaultTrackerFormatString,Ot(this,"trackerStringFormatter",t),it(this,bi,t,{exclude:["trackerStringFormatter"]})}getElementName(){return"HeatMapSeries"}get minValue(){return this._minValue}get maxValue(){return this._maxValue}get colorAxis(){return this._colorAxis}set colorAxis(t){this._colorAxis=t}invalidate(){this._image=void 0}async render(t){if(!this.data){this._image=void 0;return}if(!this.colorAxis)throw new Error("Color axis not specified.");let e=this.x0,s=this.x1,n=this.y0,o=this.y1;const r=this.data.length,a=this.data[0].length,u=(this.x1-this.x0)/(r-1),m=(this.y1-this.y0)/(a-1);if(this.coordinateDefinition===0){if(this.xAxis.isLogarithmic()){const C=Math.log(this.x1/this.x0)/(r-1);e*=Math.exp(C/-2),s*=Math.exp(C/2)}else e-=u/2,s+=u/2;if(this.yAxis.isLogarithmic()){const C=Math.log(this.y1/this.y0)/(a-1);n*=Math.exp(C/-2),o*=Math.exp(C/2)}else n-=m/2,o+=m/2}const c=tt.transform(this,e,n),p=tt.transform(this,s,o),x=P.fromScreenPoints(c,p),w=this.renderMethod===0,S=Sc(this.data),k=this.colorAxis.getElementHashCode();(w&&!this._image||S!==this._dataHash||k!==this._colorAxisHash)&&(w&&await this.updateImage(),this._dataHash=S,this._colorAxisHash=k);const A=tt.orientate;if(w)this._image&&await O.drawImage(t,this._image,x.left,x.top,x.width,x.height,1,this.interpolate);else{const C=A(this,c),T=A(this,p),D=(T.x-C.x)/r,B=(T.y-C.y)/a,I=gi.getColor;for(let _=0;_<r;_++)for(let z=0;z<a;z++){const E=I(this.colorAxis,this.data[_][z]),Y=A(this,R(C.x+_*D,C.y+z*B)),At=A(this,R(C.x+(_+1)*D,C.y+(z+1)*B)),et=P.fromScreenPoints(Y,At);await t.drawRectangle(et,E,f.Undefined,0,this.edgeRenderingMode)}}this.labelFontSize>0&&await this.renderLabels(t,x)}getNearestPoint(t,e){if(!this.data)return;this.interpolate||(e=!1);let s=this.inverseTransform(t);if(!this.isPointInRange(s))return;let n,o;if(this.xAxis.isLogarithmic()){const c=Math.log(this.x1/this.x0)/(this.data.length-1);n=Math.log(s.x/this.x0)/c}else{const c=(this.x1-this.x0)/(this.data.length-1);n=(s.x-this.x0)/c}if(this.yAxis.isLogarithmic()){const c=Math.log(this.y1/this.y0)/(this.data[0].length-1);o=Math.log(s.y/this.y0)/c}else{const c=(this.y1-this.y0)/(this.data[0].length-1);o=(s.y-this.y0)/c}if(!e){n=Math.round(n),o=Math.round(o);let c,p;if(this.xAxis.isLogarithmic()){const x=Math.log(this.x1/this.x0)/(this.data.length-1);c=this.x0*Math.exp(n*x)}else{const x=(this.x1-this.x0)/(this.data.length-1);c=n*x+this.x0}if(this.yAxis.isLogarithmic()){const x=Math.log(this.y1/this.y0)/(this.data[0].length-1);p=this.y0*Math.exp(o*x)}else{const x=(this.y1-this.y0)/(this.data[0].length-1);p=o*x+this.y0}s=d(c,p),t=this.transform(s)}if(n<-.5||n>this.data.length-.5||o<-.5||o>this.data[0].length-.5)return;const r=wn.getValue(this.data,n,o),a=this.colorAxis,u=(a==null?void 0:a.title)??wn.DefaultColorAxisTitle,m=this.formatDefaultTrackerString(void 0,s,c=>{c.colorAxisTitle=u,c.value=r});return new Wt({series:this,dataPoint:s,position:t,item:null,index:-1,text:m})}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}updateMaxMinXY(){if(!this.data)return;const t=this.data.length,e=this.data[0].length;if(this.minX=Math.min(this.x0,this.x1),this.maxX=Math.max(this.x0,this.x1),this.minY=Math.min(this.y0,this.y1),this.maxY=Math.max(this.y0,this.y1),this.coordinateDefinition===0){if(this.xAxis.isLogarithmic()){const s=Math.log(this.maxX/this.minX)/(t-1);this.minX*=Math.exp(s/-2),this.maxX*=Math.exp(s/2)}else{const s=(this.maxX-this.minX)/(t-1);this.minX-=s/2,this.maxX+=s/2}if(this.yAxis.isLogarithmic()){const s=Math.log(this.maxY/this.minY)/(e-1);this.minY*=Math.exp(s/-2),this.maxY*=Math.exp(s/2)}else{const s=(this.maxY-this.minY)/(e-1);this.minY-=s/2,this.maxY+=s/2}}}updateMaxMin(){if(super.updateMaxMin(),this.updateMaxMinXY(),!this.data)return;const t=this.data.flat().filter(e=>!isNaN(e));this._minValue=zt(t),this._maxValue=qt(t)}updateAxisMaxMin(){super.updateAxisMaxMin();const t=this.colorAxis;t&&(t.include(this.minValue),t.include(this.maxValue))}async renderLabels(t,e){if(!this.data)return;const s=this.data.length,n=this.data[0].length,o=e.height/n*this.labelFontSize,r=this.x0,a=this.x1,u=this.y0,m=this.y1,c=tt.orientate,p=tt.transform,x=c(this,p(this,r,u)),w=c(this,p(this,a,m)),S=(w.x-x.x)/(s-1),k=(w.y-x.y)/(n-1),A=gi.getColor;for(let C=0;C<s;C++)for(let T=0;T<n;T++){const D=c(this,R(x.x+C*S,x.y+T*k)),B=wn.getValue(this.data,C,T),I=A(this.colorAxis,B),z=M.toHsv(I)[2]>.6?f.Black:f.White,E=this.getLabel(B,C,T);await t.drawText(D,E,z,this.actualFont,o,500,0,F.Center,N.Middle)}}getLabel(t,e,s){return this.labelStringFormatter(t,[])}static getValue(t,e,s){e=Math.max(e,0),s=Math.max(s,0);const n=Math.floor(e),o=n+1<t.length?n+1:n,r=Math.floor(s),a=r+1<t[0].length?r+1:r;if(e=Math.min(e,o),s=Math.min(s,a),e===n&&s===r)return t[n][r];if(e!==n&&s===r){if(isNaN(t[n][r])||isNaN(t[o][r]))return NaN;const u=e-n;return n!==o?t[n][r]*(1-u)+t[o][r]*u:t[n][r]}if(e===n&&s!==r){if(isNaN(t[n][r])||isNaN(t[n][a]))return NaN;const u=s-r;return r!==a?t[n][r]*(1-u)+t[n][a]*u:t[n][r]}else{if(isNaN(t[n][r])||isNaN(t[o][r])||isNaN(t[n][a])||isNaN(t[o][a]))return NaN;const u=e-n,m=s-r;let c,p;return n!==o?(c=t[n][r]*(1-u)+t[o][r]*u,p=t[n][a]*(1-u)+t[o][a]*u):(c=t[n][r],p=t[n][a]),r!==a?c*(1-m)+p*m:c}}isPointInRange(t){return this.updateMaxMinXY(),t.x>=this.minX&&t.x<=this.maxX&&t.y>=this.minY&&t.y<=this.maxY}async updateImage(){if(!this.data)return;const t=this.xAxis.transform(this.x0)>this.xAxis.transform(this.x1),e=this.yAxis.transform(this.y0)>this.yAxis.transform(this.y1),s=tt.isTransposed(this),n=this.data.length,o=this.data[0].length,r=s?new Ge(o,n):new Ge(n,o),a=gi.getColor;for(let u=0;u<n;u++){const m=t?n-1-u:u;for(let c=0;c<o;c++){const p=e?o-1-c:c,x=a(this.colorAxis,this.data[m][p]);s?r.set(c,u,x):r.set(u,c,x)}}this._image=await He.create(r,De.Png)}getElementDefaultValues(){return yc}};h(wa,"DefaultTrackerFormatString",function(i){return`${i.title}
${i.xTitle}: ${i.xValue}
${i.yTitle}: ${i.yValue}
${i.colorAxisTitle}: ${i.value}`});h(wa,"DefaultColorAxisTitle","Value");let Qe=wa;function Sc(i){return bl(i.flat())}function pu(i,t,e,s,n){return typeof i=="number"?{a:d(i,e),b:d(t,s),value:n}:{a:i,b:t,value:e}}function bc(i,t){const{a:e,b:s}=i;return t.x<=s.x&&t.x>=e.x&&t.y<=s.y&&t.y>=e.y||t.x<=e.x&&t.x>=s.x&&t.y<=e.y&&t.y>=s.y}function Mc(i){return"a"in i&&"b"in i&&"value"in i}const Xr={labelFontSize:0,items:void 0,mapping:void 0,colorAxisKey:void 0,labelStringFormatter:void 0,colorAxisTitle:void 0,colorAxis:void 0},kc={...Ue,...Xr},ya=class Yr extends Vt{constructor(t){super(t),h(this,"_actualItems",[]),h(this,"_minValue",0),h(this,"_maxValue",0),h(this,"_colorAxis"),h(this,"colorAxisKey"),h(this,"labelStringFormatter",e=>e.toFixed(2)),h(this,"labelFontSize",Xr.labelFontSize),h(this,"mapping"),h(this,"items",[]),this.trackerStringFormatter=Yr.DefaultTrackerFormatString,Ot(this,"trackerStringFormatter",t),it(this,Xr,t,{exclude:["trackerStringFormatter"]})}getElementName(){return"RectangleSeries"}get minValue(){return this._minValue}get maxValue(){return this._maxValue}get colorAxis(){return this._colorAxis}set colorAxis(t){this._colorAxis=t}get actualItems(){return this.itemsSource?this._actualItems:this.items}async render(t){this.verifyAxes(),await this.renderRectangles(t,this.actualItems)}updateData(){this.itemsSource&&this.updateActualItems()}getItem(t){const e=this.actualItems;return!this.itemsSource&&e&&t<e.length?e[t]:super.getItem(t)}clearActualItems(){this._actualItems.length=0}updateActualItems(){if(this.clearActualItems(),!(!this.itemsSource||this.itemsSource.length==0)){for(const t of this.itemsSource)if(t){if(Mc(t)){this._actualItems.push(t);continue}if(this.mapping){this._actualItems.push(this.mapping(t));continue}throw new Error("Invalid itemsSource")}}}async renderRectangles(t,e){const s=O.getActualEdgeRenderingMode(this.edgeRenderingMode,U.PreferSharpness),n=tt.transform;for(const o of e){const r=gi.getColor(this.colorAxis,o.value),a=n(this,o.a.x,o.a.y),u=n(this,o.b.x,o.b.y),m=P.fromScreenPoints(a,u);await t.drawRectangle(m,r,f.Undefined,0,s),this.labelFontSize>0&&await t.drawText(P.center(m),this.labelStringFormatter(o.value,[]),this.actualTextColor,this.actualFont,this.labelFontSize,this.actualFontWeight,0,F.Center,N.Middle)}}getNearestPoint(t,e){const s=this.inverseTransform(t);if(!this.isPointInRange(s)||!this.actualItems)return;const n=this.colorAxis,o=(n==null?void 0:n.title)??Yr.DefaultColorAxisTitle;for(const r of this.actualItems)if(bc(r,s)){const a=this.formatDefaultTrackerString(r,s,u=>{u.colorAxisTitle=o,u.value=r.value});return new Wt({series:this,dataPoint:s,position:t,item:null,index:-1,text:a})}}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}updateMaxMinXY(){if(this.actualItems&&this.actualItems.length>0){const t=zt(this.actualItems.map(m=>m.a.x)),e=zt(this.actualItems.map(m=>m.b.x)),s=qt(this.actualItems.map(m=>m.a.x)),n=qt(this.actualItems.map(m=>m.b.x)),o=zt(this.actualItems.map(m=>m.a.y)),r=zt(this.actualItems.map(m=>m.b.y)),a=qt(this.actualItems.map(m=>m.a.y)),u=qt(this.actualItems.map(m=>m.b.y));this.minX=Math.min(t,e),this.maxX=Math.max(s,n),this.minY=Math.min(o,r),this.maxY=Math.max(a,u)}}updateMaxMin(){super.updateMaxMin();const t=[];if(_i(t,this.actualItems.map(e=>e.a)),_i(t,this.actualItems.map(e=>e.b)),this.internalUpdateMaxMin(t),this.updateMaxMinXY(),this.actualItems&&this.actualItems.length>0){const e=this.actualItems.map(s=>s.value);this._minValue=zt(e),this._maxValue=qt(e)}}updateAxisMaxMin(){super.updateAxisMaxMin();const t=this.colorAxis;t&&(t.include(this.minValue),t.include(this.maxValue))}isPointInRange(t){return this.updateMaxMinXY(),t.x>=this.minX&&t.x<=this.maxX&&t.y>=this.minY&&t.y<=this.maxY}getElementDefaultValues(){return kc}};h(ya,"DefaultTrackerFormatString",function(i){return`${i.title}
${i.xTitle}: ${i.xValue}
${i.yTitle}: ${i.yValue}
${i.colorAxisTitle}: ${i.value}`});h(ya,"DefaultColorAxisTitle","Value");let Sa=ya;const Yi={colorLo:M.fromRgb(0,0,255),colorHi:M.fromRgb(255,0,0),limitLo:-5,limitHi:5,lineStyleLo:v.Solid,lineStyleHi:v.Solid,dashesLo:void 0,dashesHi:void 0},Ac={...ls,...Yi};class fu extends G{constructor(t){super(t),h(this,"defaultColorLo",f.Undefined),h(this,"defaultColorHi",f.Undefined),h(this,"colorLo",Yi.colorLo),h(this,"colorHi",Yi.colorHi),h(this,"limitHi",Yi.limitHi),h(this,"limitLo",Yi.limitLo),h(this,"dashesHi"),h(this,"dashesLo"),h(this,"lineStyleHi",Yi.lineStyleHi),h(this,"lineStyleLo",Yi.lineStyleLo),it(this,Yi,t)}getElementName(){return"ThreeColorLineSeries"}get actualColorLo(){return M.getActualColor(this.colorLo,this.defaultColorLo)}get actualColorHi(){return M.getActualColor(this.colorHi,this.defaultColorHi)}get actualLineStyleHi(){return this.lineStyleHi!==v.Automatic?this.lineStyleHi:v.Solid}get actualLineStyleLo(){return this.lineStyleLo!==v.Automatic?this.lineStyleLo:v.Solid}get actualDashArrayHi(){return this.dashesHi??$t.getDashArray(this.actualLineStyleHi)}get actualDashArrayLo(){return this.dashesLo??$t.getDashArray(this.actualLineStyleLo)}setDefaultValues(){super.setDefaultValues(),M.isAutomatic(this.colorLo)&&(this.defaultColorLo=this.plotModel.getDefaultColor()),this.lineStyleLo===v.Automatic&&(this.lineStyleLo=this.plotModel.getDefaultLineStyle()),M.isAutomatic(this.colorHi)&&(this.defaultColorHi=this.plotModel.getDefaultColor()),this.lineStyleHi===v.Automatic&&(this.lineStyleHi=this.plotModel.getDefaultLineStyle())}async renderLine(t,e){const s=this.getClippingRect(),n=this.inverseTransform(P.bottomLeft(s)),o=this.inverseTransform(P.topRight(s)),r=tt.transform;let a=r(this,n.x,Math.min(n.y,o.y)),u=r(this,o.x,this.limitLo);const m=Jt.fromScreenPoints(a,u).clip(s).rect;a=r(this,n.x,this.limitLo),u=r(this,o.x,this.limitHi);const c=Jt.fromScreenPoints(a,u).clip(s).rect;a=r(this,n.x,Math.max(n.y,o.y)),u=r(this,o.x,this.limitHi);const p=Jt.fromScreenPoints(a,u).clip(s).rect;if(this.strokeThickness<=0||this.actualLineStyle===v.None)return;const x=async S=>{await O.drawReducedLine(t,e,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(S),this.strokeThickness,this.edgeRenderingMode,this.actualDashArray,this.lineJoin)};let w=O.autoResetClip(t,c);await x(this.actualColor),w.dispose(),w=O.autoResetClip(t,m),await x(this.actualColorLo),w.dispose(),w=O.autoResetClip(t,p),await x(this.actualColorHi),w.dispose()}getElementDefaultValues(){return Ac}}const xs={color2:M.fromRgb(0,0,255),fill2:f.Automatic,lineStyle2:v.Solid,markerFill2:f.Automatic,markerStroke2:f.Automatic,limit:0,fill:f.Automatic},vc={...cu,...xs};class _n extends wi{constructor(t){super(t),h(this,"_defaultColor2",f.Undefined),h(this,"_abovePoints",[]),h(this,"_belowPoints",[]),h(this,"_markerStartIndex",0),h(this,"fill2",xs.fill2),h(this,"dashes2"),h(this,"lineStyle2",xs.lineStyle2),h(this,"markerFill2",xs.markerFill2),h(this,"markerStroke2",xs.markerStroke2),h(this,"limit",xs.limit),it(this,xs,t)}getElementName(){return"TwoColorAreaSeries"}get actualFill2(){return M.getActualColor(this.fill2,M.fromAColor(100,this.actualColor2))}get actualColor2(){return M.getActualColor(this.color2,this._defaultColor2)}get actualLineStyle2(){return this.lineStyle2!==v.Automatic?this.lineStyle2:v.Solid}get actualDashArray2(){return this.dashes2??$t.getDashArray(this.actualLineStyle2)}getNearestPoint(t,e){let s;return e&&this.canTrackerInterpolatePoints?s=this.getNearestInterpolatedPointInternal(this.actualPoints,0,t):s=this.getNearestPointInternal(this.actualPoints,0,t),s&&(s.text=this.formatDefaultTrackerString(s.item,s.dataPoint)),s}async render(t){const e=this.xAxis.clipMinimum,s=this.xAxis.clipMaximum,n=a=>a.x;this.windowStartIndex=this.updateWindowStartIndex(this._abovePoints,n,e,this.windowStartIndex),this.windowStartIndex2=this.updateWindowStartIndex(this._belowPoints,n,e,this.windowStartIndex2);const o=this.minimumSegmentLength*this.minimumSegmentLength,r={points:this._abovePoints,windowStartIndex:this.windowStartIndex,xMax:s,renderContext:t,minDistSquared:o,reverse:!1,color:this.actualColor,fill:this.actualFill,markerFill:this.actualMarkerFill,markerStroke:this.markerStroke,dashArray:this.actualDashArray,baseline:this.limit};if(await this.renderChunkedPoints(r),r.points=this._belowPoints,r.windowStartIndex=this.windowStartIndex2,r.reverse=this.reverse2,r.color=this.actualColor2,r.fill=this.actualFill2,r.markerFill=this.markerFill2,r.markerStroke=this.markerStroke2,r.dashArray=this.actualDashArray2,this.isPoints2Defined&&(r.baseline=this.constantY2),await this.renderChunkedPoints(r),!this.isPoints2Defined){const a=[this.markerSize],u=this.limit,m=this.actualPoints,c=[],p=[];this._markerStartIndex=this.updateWindowStartIndex(m,n,e,this._markerStartIndex);let x=0;for(let w=this._markerStartIndex;w<m.length;w++){const S=m[w];if((S.y>=u?c:p).push(this.transform(S)),x+=S.x>s?1:0,x>1)break}await O.drawMarkers(t,c,this.markerType,void 0,a,this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,1),await O.drawMarkers(t,p,this.markerType,void 0,a,this.markerFill2,this.markerStroke2,this.markerStrokeThickness,this.edgeRenderingMode,1)}}setDefaultValues(){super.setDefaultValues(),M.isAutomatic(this.color2)&&(this._defaultColor2=this.plotModel.getDefaultColor()),this.lineStyle2===v.Automatic&&(this.lineStyle2=this.plotModel.getDefaultLineStyle())}updateData(){super.updateData(),this.isPoints2Defined?(this._abovePoints=this.actualPoints,this._belowPoints=this.actualPoints2):this.splitPoints(this.actualPoints)}async renderScreenPoints(t,e){const s=await super.renderScreenPoints(t,e),n=t,r=[...this.getConstantScreenPoints2(s,n.baseline),...s],a=t.renderContext;if(await O.drawReducedPolygon(a,r,t.minDistSquared,this.getSelectableFillColor(n.fill),f.Undefined,0,this.edgeRenderingMode),this.isPoints2Defined){const u=[this.markerSize];await O.drawMarkers(a,s,this.markerType,void 0,u,n.markerFill,n.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,1)}return s}splitPoints(t){const e=d(Number.NaN,Number.NaN),s=this.limit;this._abovePoints=new Array,this._belowPoints=new Array;let n=!1,o;for(const r of t){const a=r.y>=s;if(o&&a!==n){const u=d(this.getInterpolatedX(o,r,s),s);this._abovePoints.push(a?e:u),this._abovePoints.push(a?u:e),this._belowPoints.push(a?u:e),this._belowPoints.push(a?e:u)}(a?this._abovePoints:this._belowPoints).push(r),o=r,n=a}}getConstantScreenPoints2(t,e){const s=[];if(isNaN(e)||t.length<=0)return s;let n=this.inverseTransform(t[0]);n=d(n.x,e),s.push(this.transform(n));let o=this.inverseTransform(t[t.length-1]);return o=d(o.x,e),s.push(this.transform(o)),this.reverse2&&s.reverse(),s}getInterpolatedX(t,e,s){return(s-t.y)/(e.y-t.y)*(e.x-t.x)+t.x}getElementDefaultValues(){return vc}}const fo={color2:M.fromRgb(0,0,255),limit:0},Rc={...ls,...fo};class gu extends G{constructor(t){super(t),h(this,"_defaultColor2",f.Undefined),h(this,"color2",fo.color2),h(this,"limit",fo.limit),it(this,fo,t)}getElementName(){return"TwoColorLineSeries"}get actualColor2(){return M.getActualColor(this.color2,this._defaultColor2)}setDefaultValues(){super.setDefaultValues(),M.isAutomatic(this.color2)&&(this._defaultColor2=this.plotModel.getDefaultColor())}async renderLine(t,e){const s=this.getClippingRect(),n=this.inverseTransform(P.bottomLeft(s)),o=this.inverseTransform(P.topRight(s)),r=tt.transform;let a=r(this,n.x,Math.min(n.y,o.y));const u=r(this,o.x,this.limit),m=Jt.fromScreenPoints(a,u).clip(s).rect;a=r(this,n.x,Math.max(n.y,o.y));const c=Jt.fromScreenPoints(a,u).clip(s).rect;if(this.strokeThickness<=0||this.actualLineStyle===v.None)return;const p=async w=>{await O.drawReducedLine(t,e,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(w),this.strokeThickness,this.edgeRenderingMode,this.actualDashArray,this.lineJoin)};let x=O.autoResetClip(t,m);await p(this.actualColor2),x.dispose(),x=O.autoResetClip(t,c),await p(this.actualColor),x.dispose()}getElementDefaultValues(){return Rc}}const yn={stroke:f.Undefined,strokeThickness:2,labelFontSize:0,items:void 0,mapping:void 0,colorAxisKey:void 0,labelStringFormatter:void 0},Cc={...Ue,...yn},ba=class jr extends Vt{constructor(t){super(t),h(this,"_actualItems",[]),h(this,"_minValue",0),h(this,"_maxValue",0),h(this,"_colorAxis"),h(this,"colorAxisKey"),h(this,"labelStringFormatter",(e,s)=>e.value.toFixed(2)),h(this,"labelFontSize",yn.labelFontSize),h(this,"mapping"),h(this,"items",[]),h(this,"stroke",yn.stroke),h(this,"strokeThickness",yn.strokeThickness),this.trackerStringFormatter=jr.defaultTrackerStringFormatter,Ot(this,"trackerStringFormatter",t),Ot(this,"labelStringFormatter",t),it(this,yn,t,{exclude:["trackerStringFormatter","labelStringFormatter"]})}get actualItems(){return this.itemsSource?this._actualItems:this.items}get minValue(){return this._minValue}get maxValue(){return this._maxValue}get colorAxis(){return this._colorAxis}getElementName(){return"PolygonSeries"}async render(t){this.verifyAxes(),await this.renderPolygons(t,this.actualItems)}updateData(){this.itemsSource&&this.updateActualItems()}getItem(t){const e=this.actualItems;return!this.itemsSource&&e&&t<e.length?e[t]:super.getItem(t)}clearActualItems(){this._actualItems&&(this._actualItems.length=0),this._actualItems=[]}updateActualItems(){this.clearActualItems();for(const t of this.itemsSource||[]){if(Pc(t)){this._actualItems.push(t);continue}if(this.mapping){this._actualItems.push(this.mapping(t));continue}throw new Error("Invalid item")}}async renderPolygons(t,e){const s=[];for(const n of e){const o=gi.getColor(this.colorAxis,n.value),r=O.getActualEdgeRenderingMode(this.edgeRenderingMode,U.PreferSharpness);for(const a of n.outlines)if(s.length=0,s.push(...a.map(u=>this.transform(u))),await t.drawPolygon(s,o,this.stroke,this.strokeThickness,r),this.labelFontSize>0){const u=this.labelStringFormatter(n,[]);await t.drawText(be.getCentroid(s),u,this.actualTextColor,this.actualFont,this.labelFontSize,this.actualFontWeight,0,F.Center,N.Middle)}}}getNearestPoint(t,e){const s=this.inverseTransform(t);if(!this.isPointInRange(s))return;const n=this.colorAxis,o=(n==null?void 0:n.title)??jr._defaultColorAxisTitle,r=[],a=this.actualItems;if(a)for(const u of a)for(let m=0;m<u.outlines.length;m++){const c=u.bounds[m];if(P.contains(c,s.x,s.y)&&(r.length=0,r.push(...u.outlines[m].map(p=>this.transform(p))),be.isPointInPolygon(t,r))){const p=super.formatDefaultTrackerString(u,s,x=>{x.colorAxisTitle=o});return new Wt({series:this,dataPoint:s,position:t,item:u,index:-1,text:p})}}}ensureAxes(){super.ensureAxes(),this._colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}updateMaxMin(){super.updateMaxMin(),this.updateMaxMinXY();const t=this.actualItems;t&&t.length>0&&(this._minValue=zt(t.map(e=>e.value)),this._maxValue=qt(t.map(e=>e.value)))}updateAxisMaxMin(){super.updateAxisMaxMin();const t=this.colorAxis;t&&(t.include(this.minValue),t.include(this.maxValue))}updateMaxMinXY(){const t=this.actualItems;if(t&&t.length>0){const e=t.flatMap(s=>s.bounds);this.minX=zt(e.map(s=>s.left)),this.maxX=qt(e.map(s=>P.right(s))),this.minY=zt(e.map(s=>s.top)),this.maxY=qt(e.map(s=>P.bottom(s)))}}isPointInRange(t){return this.updateMaxMinXY(),t.x>=this.minX&&t.x<=this.maxX&&t.y>=this.minY&&t.y<=this.maxY}getElementDefaultValues(){return Cc}};h(ba,"defaultTrackerStringFormatter",function(i){return`${i.title}
${i.xTitle}: ${i.xValue}
${i.yTitle}: ${i.yValue}
${i.colorAxisTitle}: ${i.item.value}`});h(ba,"_defaultColorAxisTitle","Value");let Ma=ba;function qr(i,t){if(!i||i.length===0)throw new Error("Outlines does not contain any sub-polygons.");Array.isArray(i[0])||(i=[i]);const e=i.map(n=>n.slice());for(const n of e)for(const o of n)if(xo(o)||vi(o.x)||vi(o.y))throw new Error("Outline contains non-finite elements.");const s=e.map(n=>Tc(n));return{outlines:e,value:t,bounds:s}}function Tc(i){let t=i[0].x,e=i[0].y,s=i[0].x,n=i[0].y;for(let o=1;o<i.length;o++)t=Math.min(t,i[o].x),e=Math.min(e,i[o].y),s=Math.max(s,i[o].x),n=Math.max(n,i[o].y);return J(t,e,s-t,n-e)}function Pc(i){return i&&i.outlines&&i.value&&i.bounds}const al="1.0",ll="utf-8",yi=i=>{};class Lc{constructor(t){h(this,"_no",0),h(this,"w"),h(this,"_stream"),h(this,"_xml",""),h(this,"_disposed",!1),this._stream=t,this.w=am.create({version:al,encoding:ll})}close(){}flush(){}getXml(){return this._xml}writeAttributeString(t,e){this._no++,yi(`${this._no},writeAttributeString,${t},${e}`),this.w.att(t,e)}writeAttributeString2(t,e,s,n){this._no++,yi(`${this._no},writeAttributeString,${t},${e},${s},${n}`),e=t?`${t}:${e}`:e,s?this.w.att(s,e,n):this.writeAttributeString(e,n)}writeDocType(t,e,s,n){this._no++,yi(`${this._no},writeDocType,${t},${e},${s}`),this.w.dtd({name:t,pubID:e,sysID:s})}writeElementString(t,e){this._no++,yi(`${this._no},writeElementString,${t},${e}`),this.writeStartElement(t),this.writeString(e)}writeEndDocument(){this._no++,yi(`${this._no},writeEndDocument`),this._xml=this.w.end({prettyPrint:!0}),this._no=0}writeEndElement(){this._no++,yi(`${this._no},writeEndElement`),this.w=this.w.up()}writeRaw(t){this._no++,yi(`${this._no},writeRaw,${t}`),this.w.dat(t)}writeStartDocument(t){this._no++,yi(`${this._no},writeStartDocument,${t}`),this.w.dec({version:al,encoding:ll,standalone:t})}writeStartElement(t,e){this._no++,yi(`${this._no},writeStartElement,${t},${e||""}`),e?this.w=this.w.ele(e,t):this.w=this.w.ele(t)}writeString(t){this._no++,yi(`${this._no},writeString,${t}`),this.w.txt(t)}dispose(){this._disposed||(this._disposed=!0,this.close())}}class Dc extends Lc{constructor(t,e,s=!0){super(),h(this,"endIsWritten",!1),h(this,"clipPathNumber",1),h(this,"isDocument"),h(this,"numberFormat"),this.isDocument=s,this.numberFormat=n=>Bt(n,4).toString(),this.writeHeader(t,e)}close(){this.endIsWritten||this.complete()}complete(){this.writeEndElement(),this.isDocument&&this.writeEndDocument(),this.endIsWritten=!0}createStyle(t,e,s,n=[],o=st.Miter){const r=l.fromOxyColor(t);let a="";M.isInvisible(r)?a+="fill:none;":(a+=`fill:${this.colorToString(r)};`,r.a!==255&&(a+=`fill-opacity:${r.a/255};`));const u=l.fromOxyColor(e);if(M.isInvisible(e))a+="stroke:none;";else{const m=this.numberFormat(s);switch(a+=`stroke:${this.colorToString(u)};stroke-width:${m}`,o){case st.Round:a+=";stroke-linejoin:round";break;case st.Bevel:a+=";stroke-linejoin:bevel";break}if(u.a!==255&&(a+=`;stroke-opacity:${u.a/255}`),n&&n.length>0){a+=";stroke-dasharray:";for(let c=0;c<n.length;c++)a+=`${c>0?",":""}${n[c]}`}}return a}writeEllipse(t,e,s,n,o,r){this.writeStartElement("ellipse"),this.writeAttributeNumberString("cx",t+s/2),this.writeAttributeNumberString("cy",e+n/2),this.writeAttributeNumberString("rx",s/2),this.writeAttributeNumberString("ry",n/2),this.writeAttributeString("style",o),this.writeEdgeRenderingModeAttribute(r),this.writeEndElement()}beginClip(t,e,s,n){const o="clipPath"+this.clipPathNumber++;this.writeStartElement("defs"),this.writeStartElement("clipPath"),this.writeAttributeString("id",o),this.writeStartElement("rect"),this.writeAttributeNumberString("x",t),this.writeAttributeNumberString("y",e),this.writeAttributeNumberString("width",s),this.writeAttributeNumberString("height",n),this.writeEndElement(),this.writeEndElement(),this.writeEndElement(),this.writeStartElement("g"),this.writeAttributeString("clip-path",`url(#${o})`)}endClip(){this.writeEndElement()}writeImage(t,e,s,n,o,r,a,u,m,c){const p=o-t/s*a,x=m.width/s*a,w=r-e/n*u,S=m.height/n*u;this.beginClip(o,r,a,u),this.writeImage2(p,w,x,S,m,c),this.endClip()}writeImage2(t,e,s,n,o,r){this.writeStartElement("image"),this.writeAttributeNumberString("x",t),this.writeAttributeNumberString("y",e),this.writeAttributeNumberString("width",s),this.writeAttributeNumberString("height",n),this.writeAttributeString("preserveAspectRatio","none"),r||this.writeAttributeString("image-rendering","pixelated");const u="data:image/png;base64,"+Nm(Uint8Array.from(o.data));this.writeAttributeString("xlink:href",u),this.writeEndElement()}writeLine(t,e,s,n){this.writeStartElement("line"),this.writeAttributeNumberString("x1",t.x),this.writeAttributeNumberString("y1",t.y),this.writeAttributeNumberString("x2",e.x),this.writeAttributeNumberString("y2",e.y),this.writeAttributeString("style",s),this.writeEdgeRenderingModeAttribute(n),this.writeEndElement()}writePolygon(t,e,s){this.writeStartElement("polygon"),this.writeAttributeString("points",this.pointsToString(t)),this.writeAttributeString("style",e),this.writeEdgeRenderingModeAttribute(s),this.writeEndElement()}writePolyline(t,e,s){this.writeStartElement("polyline"),this.writeAttributeString("points",this.pointsToString(t)),this.writeAttributeString("style",e),this.writeEdgeRenderingModeAttribute(s),this.writeEndElement()}writeRectangle(t,e,s,n,o,r){this.writeStartElement("rect"),this.writeAttributeNumberString("x",t),this.writeAttributeNumberString("y",e),this.writeAttributeNumberString("width",s),this.writeAttributeNumberString("height",n),this.writeAttributeString("style",o),this.writeEdgeRenderingModeAttribute(r),this.writeEndElement()}writeText(t,e,s,n=null,o=10,r=ne.Normal,a=0,u=F.Left,m=N.Top){this.writeStartElement("text");let c="hanging";m===N.Middle&&(c="middle"),m===N.Bottom&&(c="baseline"),this.writeAttributeString("dominant-baseline",c);let p="start";u===F.Center&&(p="middle"),u===F.Right&&(p="end"),this.writeAttributeString("text-anchor",p);let w=`translate(${t.x},${t.y})`;Math.abs(a)>0&&(w+=` rotate(${a})`),this.writeAttributeString("transform",w),n&&this.writeAttributeString("font-family",n),o>0&&this.writeAttributeNumberString("font-size",o),r>0&&this.writeAttributeNumberString("font-weight",r);const S=l.fromOxyColor(s);M.isInvisible(s)?this.writeAttributeString("fill","none"):(this.writeAttributeString("fill",this.colorToString(S)),S.a!==255&&this.writeAttributeNumberString("fill-opacity",S.a/255)),e.length!==e.trim().length&&this.writeAttributeString2("xml","space","","preserve"),this.writeString(e),this.writeEndElement()}colorToString(t){return M.equals(t,f.Black)?"black":`rgb(${t.r},${t.g},${t.b})`}writeAttributeNumberString(t,e){this.writeAttributeString(t,this.numberFormat(e))}writeEdgeRenderingModeAttribute(t){let e;switch(t){case U.PreferSharpness:e="crispEdges";break;case U.PreferSpeed:e="optimizeSpeed";break;case U.PreferGeometricAccuracy:e="geometricPrecision";break;default:return}this.writeAttributeString("shape-rendering",e)}getAutoValue(t,e){return isNaN(t)?e:this.numberFormat(t)}pointsToString(t){let e="";for(const s of t)e+=`${this.numberFormat(s.x)},${this.numberFormat(s.y)} `;return e.trim()}writeHeader(t,e){this.isDocument&&(this.writeStartDocument(!1),this.writeDocType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd")),this.writeStartElement("svg","http://www.w3.org/2000/svg"),this.writeAttributeString("width",this.getAutoValue(t,"100%")),this.writeAttributeString("height",this.getAutoValue(e,"100%")),this.writeAttributeString("version","1.1"),this.writeAttributeString("xmlns:xlink","http://www.w3.org/1999/xlink")}}class Ic extends la{constructor(t,e,s,n,o,r=!1){if(super(),h(this,"w"),h(this,"textMeasurer"),h(this,"useVerticalTextAlignmentWorkaround"),h(this,"disposed",!1),!n)throw new Error("A text measuring render context must be provided.");this.w=new Dc(t,e,s),this.textMeasurer=n,this.useVerticalTextAlignmentWorkaround=r,M.isVisible(o)&&this.w.writeRectangle(0,0,t,e,this.w.createStyle(o,f.Undefined,0),U.Adaptive)}close(){this.w.close()}complete(){this.w.complete()}getXml(){return this.w.getXml()}async drawEllipse(t,e,s,n,o){this.w.writeEllipse(t.left,t.top,t.width,t.height,this.w.createStyle(e,s,n),o)}async drawLine(t,e,s,n,o,r){this.w.writePolyline(t,this.w.createStyle(f.Undefined,e,s,o,r),n)}async drawPolygon(t,e,s,n,o,r,a){this.w.writePolygon(t,this.w.createStyle(e,s,n,r,a),o)}async drawRectangle(t,e,s,n,o){this.w.writeRectangle(t.left,t.top,t.width,t.height,this.w.createStyle(e,s,n),o)}async drawText(t,e,s,n,o,r,a,u,m,c){if(!e)return;const p=jo.splitLines(e),w=this.measureText(e,n,o,r).height/p.length,S=Rn(-Math.sin(a/180*Math.PI)*w,+Math.cos(a/180*Math.PI)*w);if(this.useVerticalTextAlignmentWorkaround){const k=m===N.Bottom?1-p.length:m===N.Top?1:1-p.length/2;m=N.Bottom,t=Rt(t,S.times(k));for(const A of p)this.w.writeText(t,A,s,n,o,r,a,u,m),t=Rt(t,S)}else if(m===N.Bottom)for(let k=p.length-1;k>=0;k--){const A=p[k];this.w.writeText(t,A,s,n,o,r,a,u,m),t=ze(t,S)}else for(const k of p)this.w.writeText(t,k,s,n,o,r,a,u,m),t=Rt(t,S)}flush(){this.w.flush()}measureText(t,e,s,n){return t===""?ks:this.textMeasurer.measureText(t,e,s,n)}async drawImage(t,e,s,n,o,r,a,u,m,c,p){this.w.writeImage(e,s,n,o,r,a,u,m,t,p)}dispose(t){this.disposed||t&&this.w.dispose(),this.disposed=!0}setClip(t){this.w.beginClip(t.left,t.top,t.width,t.height)}resetClip(){this.w.endClip()}}class Bc{static convertToFractionString(t,e=1,s,n=1e-6,o){if(Math.abs(t)<n)return"0";t/=e;for(let r=1;r<=64;r++){const a=t*r,u=Math.round(a);if(Math.abs(a-u)<n){const m=!s||u!=1?u.toString():"";return r==1?`${m}${s}`:`${m}${s}/${r}`}}return o?o(t)+(s||""):`${t.toString()}${s||""}`}}class jo{static splitLines(t){return t.split(/\r?\n/)}}class Ie{static isReversible(t){if(t.axes.length===0&&t.series.length===0)return!1;for(const e of t.axes){if(e.position===g.None)return!1;const s=e.__isReversible;if(s!==void 0&&!s)return!1}for(const e of t.series){const s=e.getElementName();if(!(e instanceof Vt)||this.NonReversibleSeriesTypes.has(s))return!1}for(const e of t.annotations){const s=e.getElementName();if(this.NonReversibleDataSpaceAnnotationTypes.has(s))return!1}return!0}static isTransposable(t){if(t.axes.length===0&&t.series.length===0)return!1;for(const e of t.axes)if(e.position===g.None)return!1;for(const e of t.series){const s=e.getElementName();if(!il(e)||this.NonTransposableSeriesTypes.has(s))return!1}for(const e of t.annotations){const s=e.getElementName();if(!il(e)||this.NonTransposableDataSpaceAnnotationTypes.has(s))return!1}return!0}static reverseXAxis(t){t.title&&(t.title+=" (reversed X Axis)");let e=!1;for(const s of t.axes)s.position===g.Bottom&&(s.startPosition=1-s.startPosition,s.endPosition=1-s.endPosition,e=!0);return e||t.axes.push(new y({position:g.Bottom,startPosition:1,endPosition:0})),t}static reverseYAxis(t){t.title&&(t.title+=" (reversed Y Axis)");let e=!1;for(const s of t.axes)s.position===g.Left&&(s.startPosition=1-s.startPosition,s.endPosition=1-s.endPosition,e=!0);return e||t.axes.push(new y({position:g.Left,startPosition:1,endPosition:0})),t}static reverseAllAxes(t){t.title&&(t.title+=" (reversed all Axes)"),t.update(!1);for(const e of t.axes)(e.position===g.Left||e.position===g.Bottom||e.position===g.Right||e.position===g.Top)&&(e.startPosition=1-e.startPosition,e.endPosition=1-e.endPosition);return t}static transpose(t){t.title&&(t.title+=" (transposed)"),t.update(!1);for(const e of t.axes)switch(e.position){case g.Bottom:e.position=g.Left;break;case g.Left:e.position=g.Bottom;break;case g.Right:e.position=g.Top;break;case g.Top:e.position=g.Right;break;case g.None:break;default:throw new Error("Invalid axis position")}for(const e of t.annotations)e.xAxis&&!e.xAxisKey&&(e.xAxis.key||(e.xAxis.key=this.XAXIS_KEY),e.xAxisKey=e.xAxis.key),e.yAxis&&!e.yAxisKey&&(e.yAxis.key||(e.yAxis.key=this.YAXIS_KEY),e.yAxisKey=e.yAxis.key);for(const e of t.series)e instanceof Vt&&(e.xAxisKey||(e.xAxis?(e.xAxis.key||(e.xAxis.key=this.XAXIS_KEY),e.xAxisKey=e.xAxis.key):e.xAxisKey=this.XAXIS_KEY),e.yAxisKey||(e.yAxis?(e.yAxis.key||(e.yAxis.key=this.YAXIS_KEY),e.yAxisKey=e.yAxis.key):e.yAxisKey=this.YAXIS_KEY));return t}}h(Ie,"XAXIS_KEY","x");h(Ie,"YAXIS_KEY","y");h(Ie,"NonReversibleSeriesTypes",new Set);h(Ie,"NonReversibleDataSpaceAnnotationTypes",new Set([]));h(Ie,"NonTransposableSeriesTypes",new Set(["CandleStickAndVolumeSeries","OldCandleStickSeries"]));h(Ie,"NonTransposableDataSpaceAnnotationTypes",new Set);class oe{static createVector(t,e,s){if(s.toFixed(0)!==s.toString())throw new Error("use createVectorWithStep instead");const n=[];for(let o=0;o<s;o++)n[o]=Number((t+(e-t)*o/(s-1)).toFixed(8));return n}static createVectorWithStep(t,e,s){const n=Math.round((e-t)/s),o=[];for(let r=0;r<=n;r++)o[r]=Number((t+r*s).toFixed(8));return o}static evaluate(t,e,s){const n=e.length,o=s.length,r=[];for(let a=0;a<n;a++){r[a]=[];for(let u=0;u<o;u++)r[a][u]=t(e[a],s[u])}return r}static fill(t,e){for(let s=0;s<t.length;s++)t[s]=e}static fill2D(t,e){for(let s=0;s<t.length;s++)for(let n=0;n<t[s].length;n++)t[s][n]=e}}class xu{static getNearestHit(t,e,s,n,o,r){if(t){if(s||n){const a=t.getNearestPoint(e,!1);if(this.shouldTrackerOpen(a,e,o))return a}if(!n){const a=t.getNearestPoint(e,!0);if(!r||this.shouldTrackerOpen(a,e,o))return a}}}static shouldTrackerOpen(t,e,s){return t!=null&&t.position?ri(t.position,e)<s:!1}}class Fc{static contour(t,e,s,n,o){let r=0,a=0,u=0,m=0;const c=new Array(5),p=new Array(5),x=new Array(5),w=new Array(5),S=0,k=t.length-1,A=0,C=t[0].length-1,T=n.length,D=[0,1,1,0],B=[0,0,1,1],I=[[[0,0,8],[0,2,5],[7,6,9]],[[0,3,4],[1,3,1],[4,3,0]],[[9,6,7],[5,2,0],[8,0,0]]],_=(E,Y)=>(c[Y]*x[E]-c[E]*x[Y])/(c[Y]-c[E]),z=(E,Y)=>(c[Y]*w[E]-c[E]*w[Y])/(c[Y]-c[E]);for(let E=C-1;E>=A;E--)for(let Y=S;Y<=k-1;Y++){const At=Math.min(t[Y][E],t[Y][E+1]),et=Math.min(t[Y+1][E],t[Y+1][E+1]),pt=Math.min(At,et),ie=Math.max(t[Y][E],t[Y][E+1]),Le=Math.max(t[Y+1][E],t[Y+1][E+1]),he=Math.max(ie,Le);if(he>=n[0]&&pt<=n[T-1]){for(let ce=0;ce<T;ce++)if(n[ce]>=pt&&n[ce]<=he){for(let St=4;St>=0;St--)St>0?(c[St]=t[Y+D[St-1]][E+B[St-1]]-n[ce],x[St]=e[Y+D[St-1]],w[St]=s[E+B[St-1]]):(c[0]=.25*(c[1]+c[2]+c[3]+c[4]),x[0]=.5*(e[Y]+e[Y+1]),w[0]=.5*(s[E]+s[E+1])),c[St]>0?p[St]=1:c[St]<0?p[St]=-1:p[St]=0;for(let St=1;St<=4;St++){const vt=St,Gt=0,de=St!==4?St+1:1,Xa=I[p[vt]+1][p[Gt]+1][p[de]+1];if(Xa!==0){switch(Xa){case 1:r=x[vt],u=w[vt],a=x[Gt],m=w[Gt];break;case 2:r=x[Gt],u=w[Gt],a=x[de],m=w[de];break;case 3:r=x[de],u=w[de],a=x[vt],m=w[vt];break;case 4:r=x[vt],u=w[vt],a=_(Gt,de),m=z(Gt,de);break;case 5:r=x[Gt],u=w[Gt],a=_(de,vt),m=z(de,vt);break;case 6:r=x[de],u=w[de],a=_(vt,Gt),m=z(vt,Gt);break;case 7:r=_(vt,Gt),u=z(vt,Gt),a=_(Gt,de),m=z(Gt,de);break;case 8:r=_(Gt,de),u=z(Gt,de),a=_(de,vt),m=z(de,vt);break;case 9:r=_(de,vt),u=z(de,vt),a=_(vt,Gt),m=z(vt,Gt);break}o(r,u,a,m,n[ce])}}}}}}}var Zi=(i=>(i[i.RejectOutliers=0]="RejectOutliers",i[i.IgnoreOutliers=1]="IgnoreOutliers",i[i.CountOutliers=2]="CountOutliers",i))(Zi||{}),en=(i=>(i[i.InclusiveLowerBound=0]="InclusiveLowerBound",i[i.InclusiveUpperBound=1]="InclusiveUpperBound",i))(en||{}),Rs=(i=>(i[i.ExcludeExtremeValues=0]="ExcludeExtremeValues",i[i.IncludeExtremeValues=1]="IncludeExtremeValues",i))(Rs||{});class qo{constructor(t,e,s){if(this.outlierMode=t,this.intervalType=e,this.extremeValuesMode=s,t!==0&&t!==2&&t!==1)throw new Error("Unsupported binning outlier mode");if(e!==0&&e!==1)throw new Error("Unsupported bin interval type");if(s!==0&&s!==1)throw new Error("Unsupported bin interval type")}}class Hi{static createUniformBins(t,e,s){if(s<1)throw new Error("The bin count must be positive.");if(isNaN(t)||!isFinite(t))throw new Error("The start may not be NaN or infinite.");if(isNaN(e)||!isFinite(e))throw new Error("The start may not be NaN or infinite.");if(e<=t)throw new Error("The end must be strictly greater than the start.");const n=[];n.push(t);for(let o=1;o<s;o++)n.push(t+(e-t)*o/s);return n.push(e),n}static collect(t,e,s){if(!t)throw new Error("Samples cannot be undefined.");if(!e)throw new Error("Bin breaks cannot be undefined.");if(!s)throw new Error("Binning options cannot be undefined.");const n=Array.from(new Set(e)).sort((m,c)=>m-c);if(n.length<2)throw new Error("At least 2 distinct bin breaks must be provided.");if(n.some(m=>isNaN(m)||!isFinite(m)))throw new Error("Bin breaks may not be NaN or infinite.");const o=new Array(n.length-1).fill(0);let r=0;function a(m,c){return m-c}for(const m of t){if(isNaN(m)||!isFinite(m))throw new Error("Samples may not be NaN or infinite.");let c=Hi.binarySearch(n,m,a),p=!1;if(c>=0?s.intervalType===en.InclusiveUpperBound?c>0?(o[c-1]+=1,p=!0):s.extremeValuesMode===Rs.IncludeExtremeValues&&(o[c]+=1,p=!0):c<o.length?(o[c]+=1,p=!0):s.extremeValuesMode===Rs.IncludeExtremeValues&&(o[c-1]+=1,p=!0):(c=~c-1,c>=0&&c<o.length&&(o[c]+=1,p=!0)),p)r++;else switch(s.outlierMode){case Zi.RejectOutliers:throw new Error(`Sample with value ${m} could not be assigned to any bin.`);case Zi.IgnoreOutliers:break;case Zi.CountOutliers:r++;break}}r===0&&(r=1);const u=[];for(let m=0;m<n.length-1;m++){const c=o[m];u.push(ii(n[m],n[m+1],c/r,c))}return u}static binarySearch(t,e,s){let n=0,o=t.length-1;for(;n<=o;){const r=o+n>>1,a=s(e,t[r]);if(a>0)n=r+1;else if(a<0)o=r-1;else return r}return-n-1}}function Nc(){const i=new b({title:"Tool tips"});return i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left})),i.annotations.push(new _t({slope:.1,intercept:1,text:"LineAnnotation",toolTip:"This is a tool tip for the LineAnnotation"})),i.annotations.push(new ee({minimumX:20,maximumX:70,minimumY:10,maximumY:40,textRotation:10,text:"RectangleAnnotation",toolTip:"This is a tooltip for the RectangleAnnotation",fill:M.fromAColor(99,f.Blue),stroke:f.Black,strokeThickness:2})),i.annotations.push(new Gs({x:20,y:60,width:20,height:15,text:"EllipseAnnotation",toolTip:"This is a tool tip for the EllipseAnnotation",textRotation:10,fill:M.fromAColor(99,f.Green),stroke:f.Black,strokeThickness:2})),i.annotations.push(new ei({x:50,y:50,text:"P1",toolTip:"This is a tool tip for the PointAnnotation"})),i.annotations.push(new As({startPoint:d(8,4),endPoint:d(0,0),color:f.Green,text:"ArrowAnnotation",toolTip:"This is a tool tip for the ArrowAnnotation"})),i.annotations.push(new ye({textPosition:d(60,60),text:"TextAnnotation",toolTip:"This is a tool tip for the TextAnnotation"})),i}const _c="Annotations",Vc={category:_c,tags:["Annotations"],examples:[{title:"Tool tips",example:{model:Nc}}]};function Ec(){const i=new b;return i.title="ArrowAnnotations",i.axes.push(new y({position:g.Bottom,minimum:-40,maximum:60})),i.axes.push(new y({position:g.Left,minimum:-10,maximum:10})),i.annotations.push(new As({startPoint:d(8,4),endPoint:d(0,0),color:f.Green,text:"StartPoint and EndPoint"})),i.annotations.push(new As({arrowDirection:It(30,70),endPoint:d(40,-3),color:f.Blue,text:"ArrowDirection and EndPoint"})),i.annotations.push(new As({arrowDirection:It(30,-70),endPoint:d(10,-3),headLength:14,headWidth:6,veeness:4,color:f.Red,text:"HeadLength = 20, HeadWidth = 10, Veeness = 4"})),i}const zc="ArrowAnnotation",Oc={category:zc,tags:["Annotations"],examples:[{title:"ArrowAnnotation",example:{model:Ec}}]};function $c(){const i=new b({title:"EllipseAnnotation"});return i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left})),i.annotations.push(new Gs({x:20,y:60,width:20,height:15,text:"EllipseAnnotation",textRotation:10,fill:M.fromAColor(99,f.Green),stroke:f.Black,strokeThickness:2})),i.annotations.push(new Gs({x:20,y:20,width:20,height:20,fill:M.fromAColor(99,f.Green),stroke:f.Black,strokeThickness:2})),i.annotations.push(new Gs({x:30,y:20,width:20,height:20,fill:M.fromAColor(99,f.Red),stroke:f.Black,strokeThickness:2})),i.annotations.push(new Gs({x:25,y:30,width:20,height:20,fill:M.fromAColor(99,f.Blue),stroke:f.Black,strokeThickness:2})),i}const Gc="EllipseAnnotation",Hc={category:Gc,tags:["Annotations"],examples:[{title:"EllipseAnnotation",example:{model:$c}}]};function Uc(){const i=new b;return i.title="FunctionAnnotation",i.axes.push(new y({position:g.Bottom,minimum:-20,maximum:80})),i.axes.push(new y({position:g.Left,minimum:-10,maximum:10})),i.annotations.push(new Tr({equation:Math.sin,strokeThickness:2,color:M.fromAColor(120,f.Blue),text:"f(x)=sin(x)"})),i.annotations.push(new Tr({equation:t=>t*t,strokeThickness:2,color:M.fromAColor(120,f.Red),type:Tl.EquationY,text:"f(y)=y^2"})),i}const Wc="FunctionAnnotation",Xc={category:Wc,tags:["Annotations"],examples:[{title:"FunctionAnnotation",example:{model:Uc}}]};async function Yc(){const i=window.oxyPlotImg;if(!i)throw new Error("window.oxyPlotImg not set");const t=new b({title:"ImageAnnotation",plotMargins:K(60,4,4,60)});t.axes.push(new y({position:g.Bottom})),t.axes.push(new y({position:g.Left}));const s=await Qr().load(i);t.annotations.push(new Ve({imageSource:s,opacity:.2,interpolate:!1,x:lt(.5,W.RelativeToPlotArea),y:lt(.5,W.RelativeToPlotArea),width:lt(1,W.RelativeToPlotArea),horizontalAlignment:F.Center,verticalAlignment:N.Middle})),t.annotations.push(new Ve({imageSource:s,x:lt(1,W.RelativeToPlotArea),y:lt(0,W.RelativeToPlotArea),width:lt(120,W.ScreenUnits),horizontalAlignment:F.Right,verticalAlignment:N.Top})),t.annotations.push(new Ve({imageSource:s,x:lt(0,W.RelativeToPlotArea),y:lt(0,W.RelativeToPlotArea),offsetY:lt(-5,W.ScreenUnits),height:lt(20,W.ScreenUnits),horizontalAlignment:F.Left,verticalAlignment:N.Bottom})),t.annotations.push(new Ve({imageSource:s,x:lt(50,W.Data),y:lt(50,W.Data),width:lt(200,W.ScreenUnits),horizontalAlignment:F.Left,verticalAlignment:N.Top})),t.annotations.push(new Ve({imageSource:s,x:lt(50,W.Data),y:lt(20,W.Data),width:lt(50,W.Data),horizontalAlignment:F.Center,verticalAlignment:N.Top})),t.annotations.push(new Ve({imageSource:s,x:lt(.5,W.RelativeToViewport),y:lt(1,W.RelativeToViewport),offsetY:lt(-35,W.ScreenUnits),height:lt(30,W.ScreenUnits),horizontalAlignment:F.Center,verticalAlignment:N.Top}));for(let n=0;n<10;n++)t.annotations.push(new Ve({imageSource:s,opacity:(n+1)/10,x:lt(10,W.Data),y:lt(n*2,W.Data),width:lt(100,W.ScreenUnits),horizontalAlignment:F.Center,verticalAlignment:N.Bottom}));return t}async function jc(){const i=new b({title:"Using ImageAnnotations to draw a gradient backgrounds",subtitle:"But do you really want this? This is called 'chartjunk'!",plotMargins:K(60,4,4,60)});i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left}));const t=256,e=new Ge(1,t);for(let r=0;r<t;r++)e.set(0,r,M.interpolate(f.Blue,f.Red,r/(t-1)).hex);const s=await He.create(e,De.Png),n=Ge.fromArray([[f.Yellow],[f.Gray]]),o=await He.create(n,De.Png);return i.annotations.push(new Ve({imageSource:o,interpolate:!0,layer:Ee.BelowAxes,x:lt(0,W.RelativeToViewport),y:lt(0,W.RelativeToViewport),width:lt(1,W.RelativeToViewport),height:lt(1,W.RelativeToViewport),horizontalAlignment:F.Left,verticalAlignment:N.Top})),i.annotations.push(new Ve({imageSource:s,interpolate:!0,layer:Ee.BelowAxes,x:lt(0,W.RelativeToPlotArea),y:lt(0,W.RelativeToPlotArea),width:lt(1,W.RelativeToPlotArea),height:lt(1,W.RelativeToPlotArea),horizontalAlignment:F.Left,verticalAlignment:N.Top})),i.series.push(new nt({f:Math.sin,x0:0,x1:7,dx:.01})),i}const ka=Ge.fromArray([[f.Blue,f.Yellow],[f.Green,f.Red]]);async function qc(){const i=new b({title:"ImageAnnotation - normal axes"});i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left}));const t=ka,e=await He.create(t,De.Png);return i.annotations.push(new Ve({imageSource:e,interpolate:!1,x:lt(0,W.Data),y:lt(0,W.Data),width:lt(80,W.Data),height:lt(50,W.Data),horizontalAlignment:F.Left,verticalAlignment:N.Bottom})),i}async function Jc(){const i=new b({title:"ImageAnnotation - reverse horizontal axis"});i.axes.push(new y({position:g.Bottom,startPosition:1,endPosition:0})),i.axes.push(new y({position:g.Left}));const t=ka,e=await He.create(t,De.Png);return i.annotations.push(new Ve({imageSource:e,interpolate:!1,x:lt(100,W.Data),y:lt(0,W.Data),width:lt(80,W.Data),height:lt(50,W.Data),horizontalAlignment:F.Left,verticalAlignment:N.Bottom})),i}async function Zc(){const i=new b({title:"ImageAnnotation - reverse vertical axis"});i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left,startPosition:1,endPosition:0}));const t=ka,e=await He.create(t,De.Png);return i.annotations.push(new Ve({imageSource:e,interpolate:!1,x:lt(0,W.Data),y:lt(100,W.Data),width:lt(80,W.Data),height:lt(50,W.Data),horizontalAlignment:F.Left,verticalAlignment:N.Bottom})),i}const Kc="ImageAnnotation",Qc={category:Kc,tags:["Annotations"],examples:[{title:"ImageAnnotation",example:{model:Yc}},{title:"ImageAnnotation - gradient backgrounds",example:{model:jc}},{title:"ImageAnnotation - normal axes",example:{model:qc}},{title:"ImageAnnotation - reverse horizontal axis",example:{model:Jc}},{title:"ImageAnnotation - reverse vertical axis",example:{model:Zc}}]};function td(){const i=new b;i.title="LineAnnotation on linear axes",i.axes.push(new y({position:g.Bottom,minimum:-20,maximum:80})),i.axes.push(new y({position:g.Left,minimum:-10,maximum:10}));const t=M.changeOpacity(f.White,.75).hex;return i.annotations.push(new _t({slope:.1,intercept:1,text:"First",borderBackground:t,borderPadding:K(5)})),i.annotations.push(new _t({slope:.3,intercept:2,maximumX:40,color:f.Red,text:"Second",borderBackground:t,borderPadding:K(5)})),i.annotations.push(new _t({type:ve.Vertical,x:4,maximumY:10,color:f.Green,text:"Vertical",borderBackground:t,borderPadding:K(5)})),i.annotations.push(new _t({type:ve.Horizontal,y:2,maximumX:4,color:f.Gold,text:"Horizontal",borderBackground:t,borderPadding:K(5)})),i}function ed(){const i=new b;return i.title="LineAnnotation on logarithmic axes",i.axes.push(new Mt({position:g.Bottom,minimum:1,maximum:80})),i.axes.push(new Mt({position:g.Left,minimum:1,maximum:10})),i.annotations.push(new _t({slope:.1,intercept:1,text:"First",textMargin:40})),i.annotations.push(new _t({slope:.3,intercept:2,maximumX:40,color:f.Red,text:"Second"})),i.annotations.push(new _t({type:ve.Vertical,x:4,maximumY:10,color:f.Green,text:"Vertical"})),i.annotations.push(new _t({type:ve.Horizontal,y:2,maximumX:4,color:f.Gold,text:"Horizontal"})),i}function id(){const i=new b;return i.title="LineAnnotations",i.subtitle="with TextOrientation specified",i.axes.push(new y({position:g.Bottom,minimum:-20,maximum:80})),i.axes.push(new y({position:g.Left,minimum:-10,maximum:10})),i.annotations.push(new _t({slope:.1,intercept:1,text:"Horizontal",textOrientation:Fi.Horizontal,textVerticalAlignment:N.Bottom})),i.annotations.push(new _t({slope:.3,intercept:2,maximumX:40,color:f.Red,text:"Vertical",textOrientation:Fi.Vertical})),i.annotations.push(new _t({type:ve.Vertical,x:4,maximumY:10,color:f.Green,text:"Horizontal (x=4)",textPadding:8,textOrientation:Fi.Horizontal})),i.annotations.push(new _t({type:ve.Vertical,x:45,maximumY:10,color:f.Green,text:"Horizontal (x=45)",textHorizontalAlignment:F.Left,textPadding:8,textOrientation:Fi.Horizontal})),i.annotations.push(new _t({type:ve.Horizontal,y:2,maximumX:4,color:f.Gold,text:"Horizontal",textLinePosition:.5,textOrientation:Fi.Horizontal})),i}function sd(){const i=new b;return i.title="ClipByAxis property",i.subtitle="This property specifies if the annotation should be clipped by the current axes or by the full plot area.",i.axes.push(new y({position:g.Bottom,minimum:-20,maximum:80,startPosition:0,endPosition:.45,textColor:f.Red})),i.axes.push(new y({position:g.Left,minimum:-10,maximum:10,startPosition:0,endPosition:.45,textColor:f.Green})),i.axes.push(new y({position:g.Bottom,minimum:-20,maximum:80,startPosition:.55,endPosition:1,textColor:f.Blue})),i.axes.push(new y({position:g.Left,minimum:-10,maximum:10,startPosition:.55,endPosition:1,textColor:f.Orange})),i.annotations.push(new _t({clipByYAxis:!0,type:ve.Vertical,x:0,color:f.Green,text:"Vertical, ClipByAxis = true"})),i.annotations.push(new _t({clipByYAxis:!1,type:ve.Vertical,x:20,color:f.Green,text:"Vertical, ClipByAxis = false"})),i.annotations.push(new _t({clipByXAxis:!0,type:ve.Horizontal,y:2,color:f.Gold,text:"Horizontal, ClipByAxis = true"})),i.annotations.push(new _t({clipByXAxis:!1,type:ve.Horizontal,y:8,color:f.Gold,text:"Horizontal, ClipByAxis = false"})),i}function nd(){const i=new b;return i.title="LineAnnotation on reversed axes",i.axes.push(new y({position:g.Bottom,minimum:-20,maximum:80,startPosition:1,endPosition:0})),i.axes.push(new y({position:g.Left,minimum:-10,maximum:10,startPosition:1,endPosition:0})),i.annotations.push(new _t({slope:.1,intercept:1,text:"First",textHorizontalAlignment:F.Left})),i.annotations.push(new _t({slope:.3,intercept:2,maximumX:40,color:f.Red,text:"Second",textHorizontalAlignment:F.Left,textVerticalAlignment:N.Bottom})),i.annotations.push(new _t({type:ve.Vertical,x:4,maximumY:10,color:f.Green,text:"Vertical",textHorizontalAlignment:F.Right})),i.annotations.push(new _t({type:ve.Horizontal,y:2,maximumX:4,color:f.Gold,text:"Horizontal",textHorizontalAlignment:F.Left})),i}const od="LineAnnotation",rd={category:od,tags:["Annotations"],examples:[{title:"LineAnnotation on linear axes",example:{model:td}},{title:"LineAnnotation on logarithmic axes",example:{model:ed}},{title:"LineAnnotation with text orientation specified",example:{model:id}},{title:"LineAnnotation - ClipByAxis property",example:{model:sd}},{title:"LineAnnotation on reversed axes",example:{model:nd}}]};function ad(){const i=new b({title:"PointAnnotation"});return i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left})),i.annotations.push(new ei({x:50,y:50,text:"P1"})),i}function ld(){const i=new b({title:"PointAnnotation - shapes"});return i.axes.push(new y({position:g.Bottom,maximum:120})),i.axes.push(new y({position:g.Left})),i.annotations.push(new ei({x:20,y:60,text:"Circle",shape:V.Circle,fill:f.LightGray,stroke:f.DarkGray,strokeThickness:1})),i.annotations.push(new ei({x:40,y:60,text:"Square",shape:V.Square,fill:f.LightBlue,stroke:f.DarkBlue,strokeThickness:1})),i.annotations.push(new ei({x:60,y:60,text:"Triangle",shape:V.Triangle,fill:f.IndianRed,stroke:f.Black,strokeThickness:1})),i.annotations.push(new ei({x:80,y:60,text:"Diamond",shape:V.Diamond,fill:f.ForestGreen,stroke:f.Black,strokeThickness:1})),i.annotations.push(new ei({x:100,y:60,text:"Custom",shape:V.Custom,customOutline:[R(-1,-1),R(1,1),R(-1,1),R(1,-1)],stroke:f.Black,fill:f.CadetBlue,strokeThickness:1})),i.annotations.push(new ei({x:20,y:40,text:"Cross",shape:V.Cross,stroke:f.IndianRed,strokeThickness:1})),i.annotations.push(new ei({x:40,y:40,text:"Plus",shape:V.Plus,stroke:f.Navy,strokeThickness:1})),i.annotations.push(new ei({x:60,y:40,text:"Star",shape:V.Star,stroke:f.DarkOliveGreen,strokeThickness:1})),i}function ud(){const i=new b({title:"PointAnnotation - text alignments"});i.axes.push(new y({position:g.Bottom,minimum:-50,maximum:50})),i.axes.push(new y({position:g.Left,minimum:-50,maximum:50}));for(let t=-1;t<=1;t++){const e=t,s=Gi(F,e);for(let n=-1;n<=1;n++){const o=n,r=Gi(N,o);i.annotations.push(new ei({x:t*20,y:n*20,size:10,text:`${s},${r}`,textHorizontalAlignment:e,textVerticalAlignment:o}))}}return i}const md="PointAnnotation",hd={category:md,tags:["Annotations"],examples:[{title:"PointAnnotation",example:{model:ad}},{title:"PointAnnotation - shapes",example:{model:ld}},{title:"PointAnnotation - text alignments",example:{model:ud}}]};function cd(){const i=new b({title:"PolygonAnnotation"});i.axes.push(new y({position:g.Bottom,minimum:-20,maximum:20})),i.axes.push(new y({position:g.Left,minimum:-10,maximum:10}));const t=new fi({text:"Polygon 1"});return t.points.push(d(4,-2),d(8,-4),d(17,7),d(5,8),d(2,5)),i.annotations.push(t),i}function dd(){const i=new b({title:"PolygonAnnotation with fixed text position and alignment"});i.axes.push(new y({position:g.Bottom,minimum:-20,maximum:20})),i.axes.push(new y({position:g.Left,minimum:-10,maximum:10}));const t=new fi({text:"Polygon 1",textHorizontalAlignment:F.Left,textVerticalAlignment:N.Bottom,textPosition:d(4.1,-1.9)});return t.points.push(d(4,-2),d(8,-2),d(17,7),d(5,8),d(4,5)),i.annotations.push(t),i}function pd(){const i=new b({title:"Annotation Layers"});i.axes.push(new y({position:g.Bottom,minimum:-20,maximum:30,majorGridlineStyle:v.Solid,majorGridlineThickness:1})),i.axes.push(new y({position:g.Left,minimum:-10,maximum:10,majorGridlineStyle:v.Solid,majorGridlineThickness:1}));const t=new fi({layer:Ee.BelowAxes,text:"Layer = BelowAxes",points:[d(-11,-2),d(-7,-4),d(-3,7),d(-10,8),d(-13,5)]});i.annotations.push(t);const e=new fi({layer:Ee.BelowSeries,text:"Layer = BelowSeries",points:[d(4,-2),d(8,-4),d(12,7),d(5,8),d(2,5)]});i.annotations.push(e);const s=new fi({layer:Ee.AboveSeries,text:"Layer = AboveSeries",points:[d(19,-2),d(23,-4),d(27,7),d(20,8),d(17,5)]});return i.annotations.push(s),i.series.push(new nt({f:Math.sin,x0:-20,x1:30,n:400})),i}function fd(){function i(r){return[d(r.x,r.y+1),d(r.x+Math.sin(Math.PI*2/3),r.y+Math.cos(Math.PI*2/3)),d(r.x+Math.sin(Math.PI*4/3),r.y+Math.cos(Math.PI*4/3))]}const t=new b({title:"PolygonAnnotation",plotType:mt.Cartesian});t.axes.push(new y({position:g.Bottom,minimum:-4,maximum:4})),t.axes.push(new y({position:g.Left,minimum:-2,maximum:2}));const e=new fi({text:"MSL = 4",minimumSegmentLength:4});let s=go(i(d(-2,0)),8,!0,!0);_i(e.points,s),t.annotations.push(e);const n=new fi({text:"MSL = 2",minimumSegmentLength:2});s=go(i(d(0,0)),8,!0,!0),_i(n.points,s),t.annotations.push(n);const o=new fi({text:"MSL = 1",minimumSegmentLength:1});return s=go(i(d(2,0)),8,!0,!0),_i(o.points,s),t.annotations.push(o),t}function go(i,t,e,s){const n=Math.cos(Math.PI/3),o=Math.sin(Math.PI/3);let r=i;for(let a=0;a<t;a++){const u=new Array(s?r.length*4:r.length*4-3);for(let m=0;m<(s?r.length:r.length-1);m++){const c=r[m],p=r[(m+1)%r.length],x=(p.x-c.x)/3,w=(p.y-c.y)/3;let S,k;S=n*x-o*w,k=n*w+o*x,u[m*4]=c,u[m*4+1]=d(c.x+x,c.y+w),u[m*4+2]=d(c.x+x+S,c.y+w+k),u[m*4+3]=d(c.x+x*2,c.y+w*2)}s||(u[u.length-1]=r[r.length-1]),r=u}return r}const fr={kochFractal:go},gd="PolygonAnnotation",xd={category:gd,tags:["Annotations"],examples:[{title:"PolygonAnnotation",example:{model:cd}},{title:"PolygonAnnotation with custom text position and alignment",example:{model:dd}},{title:"AnnotationLayer property",example:{model:pd}},{title:"Koch Snowflakes",example:{model:fd}}]};function wd(){const i=new b({title:"PolylineAnnotation"});i.axes.push(new y({position:g.Bottom,minimum:0,maximum:30})),i.axes.push(new y({position:g.Left,minimum:0,maximum:30}));const t=new Xs({text:"Polyline"});t.points.push(d(0,10),d(5,5),d(20,1),d(30,20));const e=new Xs({text:"Smooth Polyline",interpolationAlgorithm:Ke.CanonicalSpline});return e.points.push(d(0,15),d(3,23),d(9,30),d(20,12),d(30,10)),i.annotations.push(t,e),i}function yd(){function i(o){return[d(o.x-1,o.y),d(o.x+1,o.y)]}const t=new b({title:"PolygonAnnotation",plotType:mt.Cartesian});t.axes.push(new y({position:g.Bottom,minimum:-2,maximum:2})),t.axes.push(new y({position:g.Left,minimum:-2,maximum:2}));const e=new Xs({text:"MSL = 4",minimumSegmentLength:4,lineStyle:v.Solid,textPosition:d(0,1)});e.points.push(...fr.kochFractal(i(d(0,1)),8,!0,!1)),t.annotations.push(e);const s=new Xs({text:"MSL = 2",minimumSegmentLength:2,lineStyle:v.Solid,textPosition:d(0,0)});s.points.push(...fr.kochFractal(i(d(0,0)),8,!0,!1)),t.annotations.push(s);const n=new Xs({text:"MSL = 1",minimumSegmentLength:1,lineStyle:v.Solid,textPosition:d(0,-1)});return n.points.push(...fr.kochFractal(i(d(0,-1)),8,!0,!1)),t.annotations.push(n),t}const Sd="PolylineAnnotation",bd={category:Sd,tags:["Annotations"],examples:[{title:"PolylineAnnotation",example:{model:wd}},{title:"Koch Surfaces",example:{model:yd}}]};function Md(){const i=new b({title:"RectangleAnnotation"});return i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left})),i.annotations.push(new ee({minimumX:20,maximumX:70,minimumY:10,maximumY:40,textRotation:10,text:"RectangleAnnotation",fill:M.fromAColor(99,f.Blue),stroke:f.Black,strokeThickness:2})),i}function kd(){const i=new b({title:"RectangleAnnotations - vertical limit"});return i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left})),i.annotations.push(new ee({maximumY:89.5,text:"Valid area",fill:M.fromAColor(99,f.Black)})),i}function Ad(){const i=new b({title:"RectangleAnnotation - horizontal bands"});i.axes.push(new y({position:g.Bottom,minimum:0,maximum:10})),i.axes.push(new y({position:g.Left,minimum:87,maximum:97,majorStep:1,minorStep:1})),i.annotations.push(new ee({minimumY:89.5,maximumY:90.8,text:"Invalid",fill:M.fromAColor(99,f.Red)})),i.annotations.push(new ee({minimumY:90.8,maximumY:92.1,fill:M.fromAColor(99,f.Orange)})),i.annotations.push(new ee({minimumY:92.1,maximumY:94.6,fill:M.fromAColor(99,f.Yellow)})),i.annotations.push(new ee({minimumY:94.6,maximumY:96,text:"Ok",fill:M.fromAColor(99,f.Green)}));const t=new G({color:f.Black,strokeThickness:6,lineJoin:st.Round});return t.points.push(d(.5,90.7)),t.points.push(d(1.5,91.2)),t.points.push(d(2.5,91)),t.points.push(d(3.5,89.5)),t.points.push(d(4.5,92.5)),t.points.push(d(5.5,93.1)),t.points.push(d(6.5,94.5)),t.points.push(d(7.5,95.5)),t.points.push(d(8.5,95.7)),t.points.push(d(9.5,96)),i.series.push(t),i}function vd(){const i=new b({title:"RectangleAnnotation - vertical bands"});i.axes.push(new y({position:g.Bottom,minimum:0,maximum:10})),i.axes.push(new y({position:g.Left,minimum:87,maximum:97,majorStep:1,minorStep:1})),i.annotations.push(new ee({minimumX:2.5,maximumX:2.8,textRotation:90,text:"Red",fill:M.fromAColor(99,f.Red)})),i.annotations.push(new ee({minimumX:2.8,maximumX:6.1,textRotation:90,text:"Orange",fill:M.fromAColor(99,f.Orange)})),i.annotations.push(new ee({minimumX:6.1,maximumX:7.6,textRotation:90,text:"Yellow",fill:M.fromAColor(99,f.Yellow)})),i.annotations.push(new ee({minimumX:7.6,maximumX:9.7,textRotation:270,text:"Green",fill:M.fromAColor(99,f.Green)}));const t=new G({color:f.Black,strokeThickness:6,lineJoin:st.Round});return t.points.push(d(.5,90.7)),t.points.push(d(1.5,91.2)),t.points.push(d(2.5,91)),t.points.push(d(3.5,89.5)),t.points.push(d(4.5,92.5)),t.points.push(d(5.5,93.1)),t.points.push(d(6.5,94.5)),t.points.push(d(7.5,95.5)),t.points.push(d(8.5,95.7)),t.points.push(d(9.5,96)),i.series.push(t),i}const Rd="RectangleAnnotation",Cd={category:Rd,tags:["Annotations"],examples:[{title:"RectangleAnnotation",example:{model:Md}},{title:"RectangleAnnotations - vertical limit",example:{model:kd}},{title:"RectangleAnnotation - horizontal bands",example:{model:Ad}},{title:"RectangleAnnotation - vertical bands",example:{model:vd}}]};function Td(){const i=new b({title:"TextAnnotation"});i.axes.push(new y({position:g.Bottom,minimum:-15,maximum:25})),i.axes.push(new y({position:g.Left,minimum:-5,maximum:18})),i.annotations.push(new ye({textPosition:d(-6,0),text:"Text annotation 1"})),i.annotations.push(new ye({textPosition:d(-7,10),textRotation:80,text:"Text annotation 2"})),i.annotations.push(new ye({textPosition:d(2,2),textRotation:20,textHorizontalAlignment:F.Right,textVerticalAlignment:N.Top,text:"Right/Top"})),i.annotations.push(new ye({textPosition:d(2,4),textRotation:20,textHorizontalAlignment:F.Right,textVerticalAlignment:N.Middle,text:"Right/Middle"})),i.annotations.push(new ye({textPosition:d(2,6),textRotation:20,textHorizontalAlignment:F.Right,textVerticalAlignment:N.Bottom,text:"Right/Bottom"})),i.annotations.push(new ye({textPosition:d(10,2),textRotation:20,textHorizontalAlignment:F.Center,textVerticalAlignment:N.Top,text:"Center/Top"})),i.annotations.push(new ye({textPosition:d(10,4),textRotation:20,textHorizontalAlignment:F.Center,textVerticalAlignment:N.Middle,text:"Center/Middle"})),i.annotations.push(new ye({textPosition:d(10,6),textRotation:20,textHorizontalAlignment:F.Center,textVerticalAlignment:N.Bottom,text:"Center/Bottom"})),i.annotations.push(new ye({textPosition:d(18,2),textRotation:20,textHorizontalAlignment:F.Left,textVerticalAlignment:N.Top,text:"Left/Top"})),i.annotations.push(new ye({textPosition:d(18,4),textRotation:20,textHorizontalAlignment:F.Left,textVerticalAlignment:N.Middle,text:"Left/Middle"})),i.annotations.push(new ye({textPosition:d(18,6),textRotation:20,textHorizontalAlignment:F.Left,textVerticalAlignment:N.Bottom,text:"Left/Bottom"}));const t=.05,e=(s,n)=>{const o=new fi({layer:Ee.BelowAxes,points:[d(s-t,n-t),d(s+t,n-t),d(s+t,n+t),d(s-t,n+t),d(s-t,n-t)]});i.annotations.push(o)};for(const s of[...i.annotations]){const n=s;n&&e(n.textPosition.x,n.textPosition.y)}return i}function Pd(){const i=new b({title:"TextAnnotation Rotations"});i.axes.push(new y({position:g.Bottom,minimum:-5,maximum:45})),i.axes.push(new y({position:g.Left,startPosition:1,endPosition:0,minimum:-1,maximum:8}));for(let t=0;t<360;t+=5)i.annotations.push(new ye({textRotation:t,textPosition:d(t%45,t/45),text:`${t}°`,textVerticalAlignment:N.Middle,textHorizontalAlignment:F.Center}));return i}const Ld="TextAnnotation",Dd={category:Ld,tags:["Annotations"],examples:[{title:"TextAnnotation",example:{model:Td}},{title:"Rotations",example:{model:Pd}}]},Id=[Vc,Oc,Hc,Xc,Qc,rd,hd,xd,bd,Cd,Dd];function Bd(){const i=new b({title:"Normal distribution",subtitle:"Probability density function"});return i.axes.push(new y({position:g.Left,minimum:-.05,maximum:1.05,majorStep:.2,minorStep:.05,tickStyle:rt.Inside})),i.axes.push(new y({position:g.Bottom,minimum:-5.25,maximum:5.25,majorStep:1,minorStep:.25,tickStyle:rt.Inside})),i.series.push(ai(-5,5,0,.2)),i.series.push(ai(-5,5,0,1)),i.series.push(ai(-5,5,0,5)),i.series.push(ai(-5,5,-2,.5)),i}const ai=(i,t,e,s,n=1001)=>{const o=new G;o.title=`μ=${e}, σ²=${s}`;for(let r=0;r<n;r++){const a=i+(t-i)*r/(n-1),u=1/Math.sqrt(2*Math.PI*s)*Math.exp(-(a-e)*(a-e)/2/s);o.points.push(d(a,u))}return o};function Fd(){const i=new b({title:"Average (Mean) monthly temperatures in 2003",plotMargins:K(60,4,60,40),plotAreaBorderThickness:K(0),isLegendVisible:!1}),t=function(m){return`${m.title}: ${Number(m.yValue).toFixed(1)}ºF`},e=new G({title:"Phoenix",lineLegendPosition:js.End,trackerStringFormatter:t}),s=new G({title:"Raleigh",lineLegendPosition:js.End,trackerStringFormatter:t}),n=new G({title:"Minneapolis",lineLegendPosition:js.End,trackerStringFormatter:t}),o=[52.1,55.1,59.7,67.7,76.3,84.6,91.2,89.1,83.8,72.2,59.8,52.5],r=[40.5,42.2,49.2,59.5,67.4,74.4,77.5,76.5,70.6,60.2,50,41.2],a=[12.2,16.5,28.3,45.1,57.1,66.9,71.9,70.2,60,50,32.4,18.6];for(let m=0;m<12;m++)e.points.push(d(m,o[m])),s.points.push(d(m,r[m])),n.points.push(d(m,a[m]));i.series.push(e),i.series.push(s),i.series.push(n);const u=new Z({axislineStyle:v.Solid});return u.labels.push("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"),i.axes.push(u),i.axes.push(new y({position:g.Left,title:"Fahrenheit",axislineStyle:v.Solid})),i}const Nd="1 ShowCases",_d={category:Nd,tags:["Showcase"],examples:[{title:"Normal distribution",example:{model:Bd}},{title:"Average (Mean) monthly temperatures in 2003",example:{model:Fd}}]};class Ct{constructor(t){}next(t,e){return Ci(t)&&Ci(e)?Math.random():(t=t||0,e=yt(e)?1:e,Math.floor(Math.random()*(e-t+1))+t)}}function Vd(){return Zo(rt.None)}function Ed(){return Zo(rt.Inside)}function zd(){return Zo(rt.Crossing)}function Od(){return Zo(rt.Outside)}function $d(){const i=new b({title:"Color major and minor ticks differently"});return i.axes.push(new y({position:g.Left,majorGridlineThickness:3,minorGridlineThickness:3,ticklineColor:f.Blue,minorTicklineColor:f.Gray})),i.axes.push(new y({position:g.Bottom,majorGridlineThickness:3,minorGridlineThickness:3,ticklineColor:f.Blue,minorTicklineColor:f.Gray})),i}function Gd(){const i=new b({title:"No gridlines"});return i.axes.push(new y({position:g.Left})),i.axes.push(new y({position:g.Bottom})),i}function Hd(){const i=new b({title:"Vertical gridlines"});return i.axes.push(new y),i.axes.push(new y({majorGridlineStyle:v.Solid,minorGridlineStyle:v.Dot,position:g.Bottom})),i}function Ud(){const i=new b({title:"Horizontal gridlines"});return i.axes.push(new y({majorGridlineStyle:v.Solid,minorGridlineStyle:v.Dot})),i.axes.push(new y({position:g.Bottom})),i}function Wd(){const i=new b({title:"Horizontal and vertical gridlines"});return i.axes.push(new y({majorGridlineStyle:v.Solid,minorGridlineStyle:v.Dot})),i.axes.push(new y({majorGridlineStyle:v.Solid,minorGridlineStyle:v.Dot,position:g.Bottom})),i}function Xd(){const i=new b;return i.axes.push(new y({majorGridlineStyle:v.Solid,minorGridlineStyle:v.Dot,title:"Left"})),i.axes.push(new y({majorGridlineStyle:v.Solid,minorGridlineStyle:v.Dot,position:g.Bottom,title:"Bottom"})),i}function Yd(){const i=new b;return i.axes.push(new y({majorGridlineStyle:v.Solid,minorGridlineStyle:v.Dot,position:g.Right,title:"Right"})),i.axes.push(new y({majorGridlineStyle:v.Solid,minorGridlineStyle:v.Dot,position:g.Top,title:"Top"})),i}function jd(){const i=new b({plotMargins:K(60,40,60,30)});return i.axes.push(new y({angle:45,majorGridlineStyle:v.Solid,minorGridlineStyle:v.Dot,title:"Left"})),i.axes.push(new y({angle:45,majorGridlineStyle:v.Solid,minorGridlineStyle:v.Dot,position:g.Bottom,title:"Bottom"})),i}function qd(){const i=new b({title:"PositionAtZeroCrossing = true",plotAreaBorderThickness:K(0),plotMargins:K(10,10,10,10)});return i.axes.push(new y({maximum:50,minimum:-30,positionAtZeroCrossing:!0,axislineStyle:v.Solid,tickStyle:rt.Crossing})),i.axes.push(new y({maximum:70,minimum:-50,position:g.Bottom,positionAtZeroCrossing:!0,axislineStyle:v.Solid,tickStyle:rt.Crossing})),i}function Jd(){const i=new b({title:"Bottom axis: PositionAtZeroCrossing = true"});return i.axes.push(new y({maximum:50,minimum:-30,position:g.Left,positionAtZeroCrossing:!1})),i.axes.push(new y({maximum:70,minimum:-50,position:g.Bottom,positionAtZeroCrossing:!0,axislineStyle:v.Solid})),i}function Zd(){const i=new b({title:"Left axis: PositionAtZeroCrossing = true"});return i.axes.push(new y({maximum:50,minimum:-30,position:g.Left,positionAtZeroCrossing:!0,axislineStyle:v.Solid})),i.axes.push(new y({maximum:70,minimum:-50,position:g.Bottom,positionAtZeroCrossing:!1})),i}function Kd(){const i=new b({title:"EndPosition = 0, StartPosition = 1"});return i.axes.push(new y({endPosition:0,startPosition:1,maximum:50,minimum:-30,position:g.Left})),i.axes.push(new y({endPosition:0,startPosition:1,maximum:70,minimum:-50,position:g.Bottom})),i}function Qd(){const i=new b;i.axes.push(new y({endPosition:0,startPosition:1,maximum:1.5,minimum:-1.5,position:g.Left}));const t=new y({startPosition:0,endPosition:.45,maximum:7,minimum:0,position:g.Bottom,key:"x1"});i.axes.push(t);const e=new y({startPosition:.55,endPosition:1,maximum:10,minimum:0,position:g.Bottom,key:"x2"});return i.axes.push(e),i.series.push(new nt({f:Math.sin,x0:0,x1:10,n:1e3,xAxisKey:t.key})),i.series.push(new nt({f:Math.sin,x0:0,x1:10,n:1e3,xAxisKey:e.key})),i}function tp(){const i=new b;return i.axes.push(new y({maximum:36,minimum:0,title:"km/h"})),i.axes.push(new y({maximum:10,minimum:0,position:g.Right,title:"m/s"})),i.axes.push(new y({maximum:10,minimum:0,position:g.Bottom,title:"meter"})),i.axes.push(new y({maximum:1e4,minimum:0,position:g.Top,title:"millimeter"})),i}function ep(){const i=new b;return i.axes.push(new y({endPosition:.25,maximum:1,minimum:-1,title:"C1"})),i.axes.push(new y({endPosition:.5,maximum:1,minimum:-1,position:g.Right,startPosition:.25,title:"C2"})),i.axes.push(new y({endPosition:.75,maximum:1,minimum:-1,startPosition:.5,title:"C3"})),i.axes.push(new y({maximum:1,minimum:-1,position:g.Right,startPosition:.75,title:"C4"})),i.axes.push(new y({maximum:100,minimum:0,position:g.Bottom,title:"s"})),i}function ip(){const i=new b;return i.axes.push(new Mt({maximum:1e6,minimum:1,title:"Log axis",useSuperExponentialFormat:!0})),i.axes.push(new Mt({maximum:1e4,minimum:.001,position:g.Bottom,title:"Log axis",useSuperExponentialFormat:!0})),i}const sp=()=>new b({plotType:mt.Cartesian,axes:[new Mt({maximum:1e6,minimum:1,title:"Log x axis",useSuperExponentialFormat:!0,majorGridlineStyle:v.Solid,isPanEnabled:!0}),new Mt({maximum:1e4,minimum:.001,position:g.Bottom,title:"Log y axis",useSuperExponentialFormat:!0,majorGridlineStyle:v.Solid,isPanEnabled:!0})]});function np(){const i=new b;return i.axes.push(new y({maximum:6e32,minimum:-1e47,title:"big numbers"})),i.axes.push(new y({maximum:3e50,minimum:-1e40,position:g.Bottom,title:"big numbers"})),i}function op(){const i=new b;return i.axes.push(new y({maximum:6e32,minimum:-1e47,title:"big numbers",useSuperExponentialFormat:!0})),i.axes.push(new y({maximum:3e50,minimum:-1e40,position:g.Bottom,title:"big numbers",useSuperExponentialFormat:!0})),i}function rp(){const i=new b;return i.axes.push(new y({maximum:6e-15,minimum:-5e-15,title:"small numbers"})),i.axes.push(new y({maximum:3e-15,minimum:-4e-15,position:g.Bottom,title:"small numbers"})),i}function ap(){const i=new b({title:"Default padding"});i.axes.push(new y),i.axes.push(new y({position:g.Bottom}));const t=new G({color:M.fromArgb(255,78,154,6),markerFill:M.fromArgb(255,78,154,6)});return t.points.push(d(10,4)),t.points.push(d(12,7)),t.points.push(d(16,3)),t.points.push(d(20,9)),i.series.push(t),i}function lp(){const i=new b({title:"No padding"});i.axes.push(new y({maximumPadding:0,minimumPadding:0})),i.axes.push(new y({maximumPadding:0,minimumPadding:0,position:g.Bottom}));const t=new G({color:M.fromArgb(255,78,154,6),markerFill:M.fromArgb(255,78,154,6)});return t.points.push(d(10,4)),t.points.push(d(12,7)),t.points.push(d(16,3)),t.points.push(d(20,9)),i.series.push(t),i}function up(){const i=new b({title:"Padding 10%"});i.axes.push(new y({maximumPadding:.1,minimumPadding:.1})),i.axes.push(new y({maximumPadding:.1,minimumPadding:.1,position:g.Bottom}));const t=new G({color:M.fromArgb(255,78,154,6),markerFill:M.fromArgb(255,78,154,6)});return t.points.push(d(10,4)),t.points.push(d(12,7)),t.points.push(d(16,3)),t.points.push(d(20,9)),i.series.push(t),i}function mp(){const i=new b({title:"X-axis MinimumPadding=0.1"});i.axes.push(new y),i.axes.push(new y({minimumPadding:.1,position:g.Bottom}));const t=new G({color:M.fromArgb(255,78,154,6),markerFill:M.fromArgb(255,78,154,6)});return t.points.push(d(10,4)),t.points.push(d(12,7)),t.points.push(d(16,3)),t.points.push(d(20,9)),i.series.push(t),i}function hp(){const i=new b({title:"X-axis MaximumPadding=0.1"});i.axes.push(new y),i.axes.push(new y({maximumPadding:.1,position:g.Bottom}));const t=new G({color:M.fromArgb(255,78,154,6),markerFill:M.fromArgb(255,78,154,6)});return t.points.push(d(10,4)),t.points.push(d(12,7)),t.points.push(d(16,3)),t.points.push(d(20,9)),i.series.push(t),i}function cp(){const i=new b({title:"AbsoluteMinimum=-17, AbsoluteMaximum=63",subtitle:"Zooming and panning is limited to these values."});return i.axes.push(new y({position:g.Bottom,minimum:0,maximum:50,absoluteMinimum:-17,absoluteMaximum:63})),i.axes.push(new y({position:g.Left,minimum:0,maximum:50,absoluteMinimum:-17,absoluteMaximum:63})),i}function dp(){const i=new b({title:"MinimumRange = 400"});return i.axes.push(new y({position:g.Left,minimumRange:400})),i}function pp(){const i=new b({title:"MaximumRange = 40"});return i.axes.push(new y({position:g.Left,maximumRange:40})),i}function fp(){const i=new b({title:"Axis titles with units"});return i.axes.push(new y({position:g.Bottom,title:"Speed",unit:"km/h"})),i.axes.push(new y({position:g.Left,title:"Temperature",unit:"°C"})),i}function gp(){const i=new b({title:"Invisible vertical axis"});return i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left,isAxisVisible:!1})),i.series.push(new nt({f:t=>Math.sin(t)/t,x0:-5,x1:5,dx:.1})),i}function xp(){const i=new b({title:"Invisible horizontal axis"});return i.axes.push(new y({position:g.Bottom,isAxisVisible:!1})),i.axes.push(new y({position:g.Left})),i.series.push(new nt({f:t=>Math.sin(t)*t*t,x0:-5,x1:5,dx:.1})),i}function wp(){const i=new b({title:"Zooming disabled"});return i.axes.push(new y({position:g.Bottom,isZoomEnabled:!1})),i.axes.push(new y({position:g.Left,isZoomEnabled:!1})),i}function yp(){const i=new b({title:"Panning disabled"});return i.axes.push(new y({position:g.Bottom,isPanEnabled:!1})),i.axes.push(new y({position:g.Left,isPanEnabled:!1})),i}function Sp(){const i=new b({title:"Dense intervals"});return i.axes.push(new y({position:g.Bottom,intervalLength:30})),i.axes.push(new y({position:g.Left,intervalLength:20})),i}function bp(){const i=new b({title:"Graph Paper"}),t=f.DarkBlue;return i.plotType=mt.Cartesian,i.axes.push(new y({position:g.Bottom,title:"X",majorGridlineStyle:v.Solid,minorGridlineStyle:v.Solid,majorGridlineColor:M.fromAColor(40,t),minorGridlineColor:M.fromAColor(20,t)})),i.axes.push(new y({position:g.Left,title:"Y",majorGridlineStyle:v.Solid,minorGridlineStyle:v.Solid,majorGridlineColor:M.fromAColor(40,t),minorGridlineColor:M.fromAColor(20,t)})),i}function Mp(){const i=new b({title:"Log-Log Paper"}),t=f.DarkBlue;return i.axes.push(new Mt({position:g.Bottom,title:"X",minimum:.1,maximum:1e3,majorGridlineStyle:v.Solid,minorGridlineStyle:v.Solid,majorGridlineColor:M.fromAColor(40,t),minorGridlineColor:M.fromAColor(20,t)})),i.axes.push(new Mt({position:g.Left,title:"Y",minimum:.1,maximum:1e3,majorGridlineStyle:v.Solid,minorGridlineStyle:v.Solid,majorGridlineColor:M.fromAColor(40,t),minorGridlineColor:M.fromAColor(20,t)})),i}function kp(){const i=new b({title:"Black background",background:f.Black,textColor:f.White,plotAreaBorderColor:f.White}),t=f.White;return i.plotType=mt.Cartesian,i.series.push(new nt({f:Math.sin,x0:0,x1:Math.PI*2,n:1e3,title:"f(x)=sin(x)"})),i.axes.push(new y({position:g.Bottom,title:"x",majorStep:Math.PI/2,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"π",majorGridlineStyle:v.Solid,minorGridlineStyle:v.Solid,majorGridlineColor:M.fromAColor(40,t),minorGridlineColor:M.fromAColor(20,t),ticklineColor:f.White})),i.axes.push(new y({position:g.Left,title:"f(x)",majorGridlineStyle:v.Solid,minorGridlineStyle:v.Solid,majorGridlineColor:M.fromAColor(40,t),minorGridlineColor:M.fromAColor(20,t),ticklineColor:f.White})),i}function Ap(){const i=new b({title:"Background and PlotAreaBackground",background:f.Silver,plotAreaBackground:f.Gray,plotAreaBorderColor:f.Black,plotAreaBorderThickness:K(3)});return i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left})),i}function vp(){const i=new b({title:"Current culture"});return i.axes.push(new y({position:g.Bottom,minimum:-1,maximum:1})),i.axes.push(new y({position:g.Left,minimum:-1,maximum:1})),i.series.push(new nt({f:Math.sin,x0:-1,x1:1,n:100})),i}function Rp(){const i="Long title 12345678901234567890123456789012345678901234567890123456789012345678901234567890",t="The tool tip is "+i,e=new b({title:"Long axis titles (clipped at 90%)"});return e.axes.push(new y({position:g.Left,title:i,toolTip:t})),e.axes.push(new y({position:g.Bottom,title:i,toolTip:t})),e}function Cp(){const i="Long title 12345678901234567890123456789012345678901234567890123456789012345678901234567890",t="The tool tip is "+i,e=new b({title:"Long axis titles (clipped at 100%)"});return e.axes.push(new y({position:g.Left,title:i,toolTip:t,titleClippingLength:1})),e.axes.push(new y({position:g.Bottom,title:i,toolTip:t,titleClippingLength:1})),e}function Tp(){const i="Long title 12345678901234567890123456789012345678901234567890123456789012345678901234567890",t="The tool tip is "+i,e=new b({title:"Long axis titles (not clipped)"});return e.axes.push(new y({position:g.Left,title:i,toolTip:t,clipTitle:!1})),e.axes.push(new y({position:g.Bottom,title:i,toolTip:t,clipTitle:!1})),e}function Pp(){const i=new b,t=new y({maximum:1,minimum:-1,title:"PositionTier=0"});i.axes.push(t);const e=new y({axislineStyle:v.Solid,maximum:2,minimum:-2,positionTier:1,title:"PositionTier=1"});i.axes.push(e);const s=new y({maximum:1,minimum:-1,position:g.Right,title:"PositionTier=0"});i.axes.push(s);const n=new y({axislineStyle:v.Solid,maximum:2,minimum:-2,position:g.Right,positionTier:1,title:"PositionTier=1"});i.axes.push(n);const o=new y({maximum:1,minimum:-1,position:g.Top,title:"PositionTier=0"});i.axes.push(o);const r=new y({axislineStyle:v.Solid,maximum:2,minimum:-2,position:g.Top,positionTier:1,title:"PositionTier=1"});i.axes.push(r);const a=new y({axislineStyle:v.Solid,maximum:10,minimum:-10,position:g.Top,positionTier:2,title:"PositionTier=2"});i.axes.push(a);const u=new y({maximum:1,minimum:-1,position:g.Bottom,title:"PositionTier=0"});i.axes.push(u);const m=new y({axislineStyle:v.Solid,maximum:2,minimum:-2,position:g.Bottom,positionTier:1,title:"PositionTier=1"});i.axes.push(m);const c=new y({axislineStyle:v.Solid,maximum:10,minimum:-10,position:g.Bottom,positionTier:2,title:"PositionTier=2"});return i.axes.push(c),i}function Lp(){const i=new b({title:"Custom axis title color"});return i.axes.push(new y({position:g.Bottom,minimum:-1,maximum:1,title:"Bottom axis",titleColor:f.Red})),i.axes.push(new y({position:g.Left,minimum:-1,maximum:1,title:"Left axis",titleColor:f.Blue})),i.series.push(new nt({f:Math.sin,x0:-1,x1:1,n:100})),i}function Dp(){const i=new b({title:"Custom axis label color"});return i.axes.push(new y({position:g.Bottom,minimum:-1,maximum:1,title:"Bottom axis",textColor:f.Red})),i.axes.push(new y({position:g.Left,minimum:-1,maximum:1,title:"Left axis",textColor:f.Blue})),i.series.push(new nt({f:Math.sin,x0:-1,x1:1,n:100})),i}function Ip(){const i=new b({title:"Angled axis numbers"});return i.axes.push(new y({position:g.Bottom,minimum:-1,maximum:1,title:"Bottom axis",angle:45})),i.axes.push(new y({position:g.Left,minimum:-1,maximum:1,title:"Left axis",angle:45})),i.axes.push(new y({position:g.Top,minimum:-1,maximum:1,title:"Top axis",angle:45})),i.axes.push(new y({position:g.Right,minimum:-1,maximum:1,title:"Right axis",angle:45})),i}function Bp(){const i=new b({title:"AxisDistance = 20"});return i.axes.push(new y({axislineStyle:v.Solid,axisDistance:20,position:g.Bottom})),i.axes.push(new y({axislineStyle:v.Solid,axisDistance:20,position:g.Left})),i.axes.push(new y({axislineStyle:v.Solid,axisDistance:20,position:g.Right})),i.axes.push(new y({axislineStyle:v.Solid,axisDistance:20,position:g.Top})),i}function Fp(){const i=new b({title:"No axes defined",subtitle:"Bottom and left axes are auto-generated."});return i.series.push(new nt({f:Math.sin,x0:0,x1:10,n:400})),i}function Np(){const i=new b({title:"LabelFormatter"});i.axes.push(new y({position:g.Bottom,minimum:-10,maximum:10,labelFormatter:function(e){return Math.abs(e)<Number.EPSILON?"ZERO":e.toString()}}));const t=65;return i.axes.push(new y({position:g.Left,minimum:0,maximum:25,majorStep:1,minorStep:1,maximumPadding:0,minimumPadding:0,labelFormatter:function(e){return String.fromCharCode(e+t)}})),i}function _p(){const i=new b({title:"Tool tips"});return i.axes.push(new y({position:g.Left,title:"Left axis",toolTip:"Tool tip for the left axis"})),i.axes.push(new y({position:g.Bottom,title:"Bottom axis",toolTip:"Tool tip for the bottom axis"})),i}function Vp(){const i=new b({title:"Sub- and superscript in axis titles"});return i.axes.push(new y({title:"Title with^{super}_{sub}script"})),i.axes.push(new y({title:"Title with^{super}_{sub}script",position:g.Bottom})),i}function Ep(){const i=new b({title:"Axes with MinimumMajorStep"});return i.axes.push(new y({position:g.Bottom,title:"MinimuMajorStep = 1",minimum:0,maximum:2,minimumMajorStep:1})),i.axes.push(new y({position:g.Left,title:"MinimuMajorStep = 10",minimum:0,maximum:15,minimumMajorStep:10})),i.axes.push(new y({position:g.Top,title:"MinimuMajorStep = 0 (default)",minimum:0,maximum:2})),i.axes.push(new y({position:g.Right,title:"MinimuMajorStep = 0 (default)",minimum:0,maximum:15})),i}function zp(){const i=new b({title:"Axes with MinimumMinorStep"});return i.axes.push(new y({position:g.Bottom,title:"MinimumMinorStep = 1",minimum:0,maximum:20,minimumMinorStep:1})),i.axes.push(new y({position:g.Left,title:"MinimumMinorStep = 10",minimum:0,maximum:150,minimumMinorStep:10})),i.axes.push(new y({position:g.Top,title:"MinimumMinorStep = 0 (default)",minimum:0,maximum:20})),i.axes.push(new y({position:g.Right,title:"MinimumMinorStep = 0 (default)",minimum:0,maximum:150})),i}function Op(){const i=new b({title:"AxisTitleDistance = 4 (default)"});return i.axes.push(new y({position:g.Bottom,title:"Bottom",minimum:0,maximum:20})),i.axes.push(new y({position:g.Left,title:"Left",minimum:0,maximum:150})),i.axes.push(new y({position:g.Top,title:"Top",minimum:0,maximum:20})),i.axes.push(new y({position:g.Right,title:"Right",minimum:0,maximum:150})),i}function $p(){const i=new b({title:"AxisTitleDistance = 40"});return i.axes.push(new y({position:g.Bottom,title:"Bottom",minimum:0,maximum:20,axisTitleDistance:40})),i.axes.push(new y({position:g.Left,title:"Left",minimum:0,maximum:150,axisTitleDistance:40})),i.axes.push(new y({position:g.Top,title:"Top",minimum:0,maximum:20,axisTitleDistance:40})),i.axes.push(new y({position:g.Right,title:"Right",minimum:0,maximum:150,axisTitleDistance:40})),i}function Gp(){const i=new b({title:"MajorGridlineStyle and MajorGridlineThickness"});return i.axes.push(new y({majorGridlineStyle:v.Solid,majorGridlineThickness:10})),i.axes.push(new y({majorGridlineStyle:v.Solid,majorGridlineThickness:10,position:g.Bottom})),i}function Hp(){const i=new b({title:"Gridline cropping"});return i.axes.push(new y({majorGridlineStyle:v.Solid,minorGridlineStyle:v.Dot,extraGridlines:[46],extraGridlineColor:f.Red,startPosition:.1,endPosition:.4,cropGridlines:!0})),i.axes.push(new y({majorGridlineStyle:v.Solid,minorGridlineStyle:v.Dot,extraGridlines:[46],extraGridlineColor:f.Red,startPosition:.6,endPosition:.9,cropGridlines:!0})),i.axes.push(new y({majorGridlineStyle:v.Solid,minorGridlineStyle:v.Dot,position:g.Bottom,extraGridlines:[46],extraGridlineColor:f.Red,startPosition:.1,endPosition:.4,cropGridlines:!0})),i.axes.push(new y({majorGridlineStyle:v.Solid,minorGridlineStyle:v.Dot,position:g.Bottom,extraGridlines:[46],extraGridlineColor:f.Red,startPosition:.6,endPosition:.9,cropGridlines:!0})),i}function Up(){const i="axisY_Temperature",t="axisY_Pressure",e="axisY_Humidity",s=new b({title:"Multi vertical axes with lineSeries"}),n=new X({legendBackground:f.White});s.legends.push(n);const o=new Nt({title:"Time",position:g.Bottom,majorGridlineStyle:v.Solid,fontSize:13});s.axes.push(o);let r=null,a=null,u=null,m=null,c=null,p=null;m=new y({title:"Temperature",position:g.Left,majorGridlineStyle:v.None,positionTier:1,key:i,isAxisVisible:!0}),r=new G({title:"Temperature",color:f.Tomato,lineStyle:v.Solid,markerType:V.Circle,markerSize:3,markerFill:f.Red,yAxisKey:i,isVisible:!0}),s.axes.push(m),s.series.push(r),c=new y({title:"Pressure",position:g.Left,majorGridlineStyle:v.None,positionTier:2,key:t,isAxisVisible:!0}),a=new G({title:"Pressure",color:f.Peru,lineStyle:v.Solid,markerType:V.Circle,markerSize:3,markerFill:f.Sienna,yAxisKey:t,isVisible:!0}),s.axes.push(c),s.series.push(a),p=new y({title:"Humidity",position:g.Left,majorGridlineStyle:v.None,positionTier:3,key:e,isAxisVisible:!0}),u=new G({title:"Humidity",color:f.LightSkyBlue,lineStyle:v.Solid,markerType:V.Circle,markerSize:3,markerFill:f.DeepSkyBlue,yAxisKey:e,isVisible:!0}),s.axes.push(p),s.series.push(u);{r.points.length=0,a.points.length=0,u.points.length=0;const x=Ut.fromMilliseconds(1e3),w=Ai();let S=new Date(2018,8,10);const k=100;for(let A=1;A<=k;A++){const C=20+Math.sin(A),T=760+1.5*Math.cos(1.5*A),D=50+2*Math.sin(2*A);r.points.push(Nt.createDataPoint(S,C)),a.points.push(Nt.createDataPoint(S,T)),u.points.push(Nt.createDataPoint(S,D)),S=w.addTimespan(S,x)}m.minimum=10,m.maximum=23,c.minimum=750,c.maximum=770,p.minimum=47,p.maximum=60}return s}function Wp(){const i=new b({title:"Auto-adjusting plot margins",subtitle:"When zooming in and out the plot margins should adjust accordingly"});return i.axes.push(new y({position:g.Bottom,title:"X Axis",titleFontSize:16})),i}function Xp(){const i=new b({title:"Manual Margins",subtitle:"PlotMargins = 40",plotMargins:K(40)});return i.axes.push(new y({position:g.Bottom})),i}function Yp(){const i=new b({title:"Manual Left Margin",subtitle:"PlotMargins = 40,NaN,NaN,NaN",plotMargins:K(40,NaN,NaN,NaN)});return i.axes.push(new y({position:g.Bottom})),i}function jp(){const i=new b({title:"Auto-adjusting plot margins - wide axis labels",subtitle:"There should be enough space reserved such that the axis labels always fit in the viewport"});return i.axes.push(Jo()),i}function qp(){const i=new b({title:"Auto-adjusting plot margins - wide rotated axis labels",subtitle:"There should be enough space reserved such that the axis labels always fit in the viewport"}),t=Jo();return t.angle=-90,i.axes.push(t),i}function Jp(){const i=new b({title:"Auto-adjusting plot margins - wide axis labels, fixed range",subtitle:"When the axis range is fixed there should be no unnecessary space reserved for axis labels"}),t=Jo();return t.isPanEnabled=!1,t.isZoomEnabled=!1,i.axes.push(t),i}function Zp(){const i=new b({title:"Auto-adjusting plot margins - wide axis labels, fixed range",subtitle:"The axis labels should exactly fit in the viewport"}),t=Jo();return t.isPanEnabled=!1,t.isZoomEnabled=!1,t.minimum=-.01,t.maximum=3.01,i.axes.push(t),i}function Jo(){const i=new Z({position:g.Bottom});return i.labels.push("Label"),i.labels.push("Long Label"),i.labels.push("Longer Label"),i.labels.push("Even Longer Label"),i}function Kp(){const i=new b({title:"Normal distribution",subtitle:"Probability density function"});return i.axes.push(new y({position:g.Left,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,minimum:0,tickStyle:rt.Inside})),i.axes.push(new y({position:g.Bottom,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,tickStyle:rt.Inside})),i.series.push(ai(-5,5,0,.2)),i.series.push(ai(-5,5,0,1)),i.series.push(ai(-5,5,0,5)),i.series.push(ai(-5,5,-2,.5)),i}function Qp(){const i=new b({title:"Normal distribution",subtitle:"Probability density function"});return i.axes.push(new y({position:g.Left,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,minimum:0,tickStyle:rt.Crossing,axislineStyle:v.Solid,positionAtZeroCrossing:!0})),i.axes.push(new y({position:g.Bottom,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,tickStyle:rt.Crossing,axislineStyle:v.Solid,positionAtZeroCrossing:!0})),i.series.push(ai(-5,5,0,.2)),i.series.push(ai(-5,5,0,1)),i.series.push(ai(-5,5,0,5)),i.series.push(ai(-5,5,-2,.5)),i}function t1(){const i=new b({title:"Exponentials"});i.axes.push(new Mt({position:g.Bottom,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,tickStyle:rt.Inside})),i.axes.push(new Mt({position:g.Left,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,tickStyle:rt.Inside}));for(let t=1;t<=5;t++)i.series.push(new nt({f:e=>Math.pow(t,e),x0:0,x1:10,dx:.01,title:`${t}^x`}));return i}function e1(){const i=new b({title:"Spiral",plotType:mt.Polar,plotAreaBorderThickness:K(0)});return i.axes.push(new me({majorStep:Math.PI/4,minorStep:Math.PI/16,majorGridlineStyle:v.Solid,minorGridlineStyle:v.Solid,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"π",minimum:0,maximum:2*Math.PI})),i.axes.push(new Be({majorGridlineStyle:v.Solid,minorGridlineStyle:v.Solid,minimumPadding:0,maximumPadding:0,minimumDataMargin:0,maximumDataMargin:20})),i.series.push(new nt({fx:t=>t,fy:t=>t,t0:0,t1:Math.PI*6,dt:.01})),i}function i1(){const i=new b({title:"YAxes are evenly distributed with a constant gap",plotAreaBorderThickness:K(0)});i.axes.push(new y({position:g.Bottom,axislineStyle:v.Solid,key:"X"}));const t=4,e=10;for(let s=0;s<t;s++)i.axes.push(new y({position:g.Left,startPosition:s/t,endPosition:(s+1)/t,minimumMargin:s/t*e,maximumMargin:(t-s-1)/t*e,axislineStyle:v.Solid,key:`Y${s}`})),i.series.push(new nt({f:n=>Math.sin(n*(s+1)),x0:1,x1:10,dx:.01,title:`x^${s}`,xAxisKey:"X",yAxisKey:`Y${s}`}));return i}function s1(){const i=new b({title:"Axis Margins Clipping",subtitle:"Data Points and Visual Elements are clipped outside the Clip Bounds"});i.axes.push(new y({position:g.Left,minimumPadding:0,maximumPadding:0,minimumMargin:20,maximumMargin:20})),i.axes.push(new y({position:g.Bottom,minimumPadding:0,maximumPadding:0,minimumMargin:20,maximumMargin:20}));const t=new Ct(1),e=new Et({markerType:V.Diamond});for(let s=0;s<100;s++)e.points.push({x:t.next(),y:t.next()});return i.series.push(e),i}function n1(){const i=new b({title:"Spiral",plotType:mt.Polar,plotAreaBorderThickness:K(0)});return i.axes.push(new me({majorStep:Math.PI/4,minorStep:Math.PI/16,majorGridlineStyle:v.Solid,minorGridlineStyle:v.Solid,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"π",minimum:0,maximum:2*Math.PI})),i.axes.push(new Be({majorGridlineStyle:v.Solid,minorGridlineStyle:v.Solid,minimumPadding:0,maximumPadding:0,minimumMargin:0,maximumMargin:100})),i.series.push(new nt({fx:t=>t,fy:t=>t,t0:0,t1:Math.PI*6,dt:.01})),i}function o1(){const i=new b({title:"Try resizing the plot",subtitle:`ClipMinimum/Maximum are Blue
ActualMinimum/Maximum are Red
DataMinimum/Maximum are Green`}),t=new y({position:g.Bottom,minimumPadding:.1,maximumPadding:.1,minimumDataMargin:20,maximumDataMargin:20,minimumMargin:30,maximumMargin:30,majorGridlineStyle:v.Solid,minorGridlineStyle:v.Dash,cropGridlines:!0});i.axes.push(t);const e=new y({position:g.Left,minimumPadding:.1,maximumPadding:.1,minimumDataMargin:20,maximumDataMargin:20,minimumMargin:30,maximumMargin:30,majorGridlineStyle:v.Solid,minorGridlineStyle:v.Dash,cropGridlines:!0});i.axes.push(e);const s=new G;return s.color=f.Green,s.points.push(d(-5,0)),s.points.push(d(-5,20)),s.points.push(d(25,20)),s.points.push(d(25,0)),s.points.push(d(-5,0)),i.series.push(s),wu(i),i}function wu(i){i.annotations.push(new Zt(async t=>{const e=O.drawLine;for(const s of i.axes)if(s.isHorizontal()){const n=s;await e(t,n.transform(n.clipMinimum),0,n.transform(n.clipMinimum),i.height,new Kt(f.Blue,1,v.Dot),U.Automatic),await e(t,n.transform(n.clipMaximum),0,n.transform(n.clipMaximum),i.height,new Kt(f.Blue,1,v.Dot),U.Automatic),await e(t,n.transform(n.actualMinimum),0,n.transform(n.actualMinimum),i.height,new Kt(f.Red,1,v.Dot),U.Automatic),await e(t,n.transform(n.actualMaximum),0,n.transform(n.actualMaximum),i.height,new Kt(f.Red,1,v.Dot),U.Automatic),await e(t,n.transform(n.dataMinimum),0,n.transform(n.dataMinimum),i.height,new Kt(f.Green,1,v.Dot),U.Automatic),await e(t,n.transform(n.dataMaximum),0,n.transform(n.dataMaximum),i.height,new Kt(f.Green,1,v.Dot),U.Automatic)}else{const n=s;await e(t,0,n.transform(n.clipMinimum),i.width,n.transform(n.clipMinimum),new Kt(f.Blue,1,v.Dot),U.Automatic),await e(t,0,n.transform(n.clipMaximum),i.width,n.transform(n.clipMaximum),new Kt(f.Blue,1,v.Dot),U.Automatic),await e(t,0,n.transform(n.actualMinimum),i.width,n.transform(n.actualMinimum),new Kt(f.Red,1,v.Dot),U.Automatic),await e(t,0,n.transform(n.actualMaximum),i.width,n.transform(n.actualMaximum),new Kt(f.Red,1,v.Dot),U.Automatic),await e(t,0,n.transform(n.dataMinimum),i.width,n.transform(n.dataMinimum),new Kt(f.Green,1,v.Dot),U.Automatic),await e(t,0,n.transform(n.dataMaximum),i.width,n.transform(n.dataMaximum),new Kt(f.Green,1,v.Dot),U.Automatic)}}))}function r1(){const i=new b({title:"Try resizing the plot",subtitle:`ClipMinimum/Maximum are Blue
ActualMinimum/Maximum are Red
DataMinimum/Maximum are Green`}),t=new y({position:g.Bottom,minimumPadding:.1,maximumPadding:.05,minimumDataMargin:20,maximumDataMargin:10,minimumMargin:30,maximumMargin:15,majorGridlineStyle:v.Solid,minorGridlineStyle:v.Dash,cropGridlines:!0});i.axes.push(t);const e=new y({position:g.Left,minimumPadding:.2,maximumPadding:.1,minimumDataMargin:40,maximumDataMargin:20,minimumMargin:60,maximumMargin:30,majorGridlineStyle:v.Solid,minorGridlineStyle:v.Dash,cropGridlines:!0});i.axes.push(e);const s=new G;return s.color=f.Green,s.points.push(d(-5,0)),s.points.push(d(-5,20)),s.points.push(d(25,20)),s.points.push(d(25,0)),s.points.push(d(-5,0)),i.series.push(s),wu(i),i}function a1(){const i=new b({title:"MinimumMajorIntervalCount = 10"}),t=new y({position:g.Bottom,minimumMajorIntervalCount:10});i.axes.push(t);const e=new y({position:g.Left,minimumMajorIntervalCount:10});return i.axes.push(e),i}function l1(){const i=new b({title:"MaximumMajorIntervalCount = 5"}),t=new y({position:g.Bottom,maximumMajorIntervalCount:5});i.axes.push(t);const e=new y({position:g.Left,maximumMajorIntervalCount:5});return i.axes.push(e),i}function u1(){const i=new b({title:"MinimumMajorIntervalCount = MaximumMajorIntervalCount = 4"}),t=new y({position:g.Bottom,minimumMajorIntervalCount:4,maximumMajorIntervalCount:4});i.axes.push(t);const e=new y({position:g.Left,minimumMajorIntervalCount:4,maximumMajorIntervalCount:4});return i.axes.push(e),i}function Zo(i){const t=Gi(rt,i),e=new b({title:"TickStyle = "+t});return e.axes.push(new y({position:g.Left,tickStyle:i})),e.axes.push(new y({position:g.Bottom,tickStyle:i})),e}const m1="Axis examples",h1={category:m1,tags:["Axes"],examples:[{title:"TickStyle: None",example:{model:Vd}},{title:"TickStyle: Inside",example:{model:Ed}},{title:"TickStyle: Crossing",example:{model:zd}},{title:"TickStyle: Outside",example:{model:Od}},{title:"TickStyle: Color major and minor ticks differently",example:{model:$d}},{title:"GridLinestyle: None (default)",example:{model:Gd}},{title:"GridLinestyle: Vertical",example:{model:Hd}},{title:"GridLinestyle: Horizontal",example:{model:Ud}},{title:"GridLinestyle: Horizontal and vertical",example:{model:Wd}},{title:"Axis position left/bottom",example:{model:Xd}},{title:"Axis position top/right",example:{model:Yd}},{title:"Axis label angle 45deg",example:{model:jd}},{title:"Zero crossing axis",example:{model:qd}},{title:"Horizontal zero crossing axis",example:{model:Jd}},{title:"Vertical zero crossing axis",example:{model:Zd}},{title:"Reversed",example:{model:Kd}},{title:"Sharing Y axis",example:{model:Qd}},{title:"Four axes",example:{model:tp}},{title:"Five axes",example:{model:ep}},{title:"Logarithmic axes",example:{model:ip}},{title:"Logarithmic axes Cartesian Plot",example:{model:sp}},{title:"Big numbers",example:{model:np}},{title:"Big numbers with super exponential format",example:{model:op}},{title:"Small numbers",example:{model:rp}},{title:"Default padding",example:{model:ap}},{title:"No padding",example:{model:lp}},{title:"Padding 10%",example:{model:up}},{title:"X-axis MinimumPadding=0.1",example:{model:mp}},{title:"X-axis MaximumPadding=0.1",example:{model:hp}},{title:"AbsoluteMinimum and AbsoluteMaximum",example:{model:cp}},{title:"MinimumRange",example:{model:dp}},{title:"MaximumRange",example:{model:pp}},{title:"Title with unit",example:{model:fp}},{title:"Invisible vertical axis",example:{model:gp}},{title:"Invisible horizontal axis",example:{model:xp}},{title:"Zooming disabled",example:{model:wp}},{title:"Panning disabled",example:{model:yp}},{title:"Dense intervals",example:{model:Sp}},{title:"Graph Paper",example:{model:bp}},{title:"Log-Log Paper",example:{model:Mp}},{title:"Black background",example:{model:kp}},{title:"Background and PlotAreaBackground",example:{model:Ap}},{title:"Current culture",example:{model:vp}},{title:"Long axis titles (clipped at 90%)",example:{model:Rp}},{title:"Long axis titles (clipped at 100%)",example:{model:Cp}},{title:"Long axis titles (not clipped)",example:{model:Tp}},{title:"PositionTier",example:{model:Pp}},{title:"Custom axis title color",example:{model:Lp}},{title:"Custom axis label color",example:{model:Dp}},{title:"Angled axis numbers",example:{model:Ip}},{title:"Axis distance",example:{model:Bp}},{title:"No axes defined",example:{model:Fp}},{title:"LabelFormatter",example:{model:Np}},{title:"Tool tips",example:{model:_p}},{title:"Sub- and superscript in axis titles",example:{model:Vp}},{title:"MinimumMajorStep",example:{model:Ep}},{title:"MinimumMinorStep",example:{model:zp}},{title:"Default AxisTitleDistance",example:{model:Op}},{title:"Custom AxisTitleDistance",example:{model:$p}},{title:"MajorGridlineStyle",example:{model:Gp}},{title:"Gridlines Cropping: Horizontal and vertical",example:{model:Hp}},{title:"Multi vertical axes with lineSeries",example:{model:Up}},{title:"Auto Margins",example:{model:Wp}},{title:"Manual Margins",example:{model:Xp}},{title:"Manual Left Margin",example:{model:Yp}},{title:"Auto Margins - Wide Labels",example:{model:jp}},{title:"Auto Margins - Wide Labels, rotated",example:{model:qp}},{title:"Auto Margins - Wide Labels, fixed Range",example:{model:Jp}},{title:"Auto Margins - Wide Labels, fixed Range 2",example:{model:Zp}},{title:"Data Margins",example:{model:Kp}},{title:"Data Margins with Zero-Crossing",example:{model:Qp}},{title:"Data Margins on Log Axis",example:{model:t1}},{title:"Data Margins on Polar Plot",example:{model:e1}},{title:"Axis Margins",example:{model:i1}},{title:"Axis Margins Clipping",example:{model:s1}},{title:"Axis Margins on Polar Plot",example:{model:n1}},{title:"Axis Margins, Data Margins, and Padding",example:{model:o1}},{title:"Axis Margins, Data Margins, and Padding, Asymmetrical",example:{model:r1}},{title:"Minimum Major Interval Count",example:{model:a1}},{title:"Maximum Major Interval Count",example:{model:l1}},{title:"Minimum and Maximum Major Interval Count",example:{model:u1}}]};function c1(){const i=new b({title:"Trigonometric functions",plotType:mt.Cartesian});return i.series.push(nt.fromDx(Math.sin,-10,10,.1,"sin(x)")),i.series.push(nt.fromDx(Math.cos,-10,10,.1,"cos(x)")),i.series.push(nt.fromFxFyN(t=>5*Math.cos(t),t=>5*Math.sin(t),0,2*Math.PI,1e3,"cos(t),sin(t)")),i}function d1(){const i=new b({title:"Parametric function",plotType:mt.Cartesian});return i.series.push(nt.fromFxFyN(t=>2*Math.cos(2*t)*Math.cos(t),t=>2*Math.cos(2*t)*Math.sin(t),0,Math.PI*2,1e3,"2cos(2t)cos(t) , 2cos(2t)sin(t)")),i}function p1(){const i=new b({title:"Y: AbsoluteMinimum = 0",plotType:mt.Cartesian}),t=f.DarkBlue;return i.axes.push(new y({position:g.Bottom,title:"X-axis",majorGridlineStyle:v.Solid,minorGridlineStyle:v.Solid,majorGridlineColor:M.fromAColor(40,t),minorGridlineColor:M.fromAColor(20,t)})),i.axes.push(new y({position:g.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,majorGridlineStyle:v.Solid,minorGridlineStyle:v.Solid,majorGridlineColor:M.fromAColor(40,t),minorGridlineColor:M.fromAColor(20,t)})),i.series.push(sn()),i}function f1(){const i=new b({title:"Y: AbsoluteMinimum = 0",subtitle:"AutoAdjustPlotMargins = false",plotType:mt.Cartesian,plotMargins:K(60,4,4,40)}),t=f.DarkBlue;return i.axes.push(new y({position:g.Bottom,title:"X-axis",majorGridlineStyle:v.Solid,minorGridlineStyle:v.Solid,majorGridlineColor:M.fromAColor(40,t),minorGridlineColor:M.fromAColor(20,t)})),i.axes.push(new y({position:g.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,majorGridlineStyle:v.Solid,minorGridlineStyle:v.Solid,majorGridlineColor:M.fromAColor(40,t),minorGridlineColor:M.fromAColor(20,t)})),i.series.push(sn()),i}function g1(){const i=new b({title:"X: AbsoluteMinimum = -10, Y: AbsoluteMinimum = 0",plotType:mt.Cartesian}),t=f.DarkBlue;return i.axes.push(new y({position:g.Bottom,title:"X-axis",absoluteMinimum:-10,majorGridlineStyle:v.Solid,minorGridlineStyle:v.Solid,majorGridlineColor:M.fromAColor(40,t),minorGridlineColor:M.fromAColor(20,t)})),i.axes.push(new y({position:g.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,majorGridlineStyle:v.Solid,minorGridlineStyle:v.Solid,majorGridlineColor:M.fromAColor(40,t),minorGridlineColor:M.fromAColor(20,t)})),i.series.push(sn()),i}function x1(){const i=new b({title:"Y: AbsoluteMinimum = 0, AbsoluteMaximum = 2",plotType:mt.Cartesian}),t=f.DarkBlue;return i.axes.push(new y({position:g.Bottom,title:"X-axis",majorGridlineStyle:v.Solid,minorGridlineStyle:v.Solid,majorGridlineColor:M.fromAColor(40,t),minorGridlineColor:M.fromAColor(20,t)})),i.axes.push(new y({position:g.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,absoluteMaximum:2,majorGridlineStyle:v.Solid,minorGridlineStyle:v.Solid,majorGridlineColor:M.fromAColor(40,t),minorGridlineColor:M.fromAColor(20,t)})),i.series.push(sn()),i}function w1(){const i=new b({title:"Y: AbsoluteMinimum = 0, X: AbsoluteMinimum = -10, AbsoluteMaximum = 10",plotType:mt.Cartesian}),t=f.DarkBlue;return i.axes.push(new y({position:g.Bottom,title:"X-axis",absoluteMinimum:-10,absoluteMaximum:10,majorGridlineStyle:v.Solid,minorGridlineStyle:v.Solid,majorGridlineColor:M.fromAColor(40,t),minorGridlineColor:M.fromAColor(20,t)})),i.axes.push(new y({position:g.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,majorGridlineStyle:v.Solid,minorGridlineStyle:v.Solid,majorGridlineColor:M.fromAColor(40,t),minorGridlineColor:M.fromAColor(20,t)})),i.series.push(sn()),i}function y1(){const i=new b({title:"Y: AbsoluteMinimum = 0, AbsoluteMaximum = 2, X: AbsoluteMinimum = -10, AbsoluteMaximum = 10",plotType:mt.Cartesian}),t=f.DarkBlue;return i.axes.push(new y({position:g.Bottom,title:"X-axis",absoluteMinimum:-10,absoluteMaximum:10,majorGridlineStyle:v.Solid,minorGridlineStyle:v.Solid,majorGridlineColor:M.fromAColor(40,t),minorGridlineColor:M.fromAColor(20,t)})),i.axes.push(new y({position:g.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,absoluteMaximum:2,majorGridlineStyle:v.Solid,minorGridlineStyle:v.Solid,majorGridlineColor:M.fromAColor(40,t),minorGridlineColor:M.fromAColor(20,t)})),i.series.push(sn()),i}function sn(){const i=new G;return i.points.push(d(-8,0),d(-7.5,.1),d(-7,.2),d(-6,.4),d(-5,.5),d(-4,.6),d(-3,.7),d(-2,.8),d(-1,.9),d(0,1),d(1,.9),d(2,.8),d(3,.7),d(4,.6),d(5,.5),d(6,.4),d(7,.2),d(7.5,.1),d(8,0),ke,d(-.5,.5),d(-.5,1.5),d(.5,1.5),d(.5,.5),d(-.5,.5)),i}const S1="Cartesian axes",b1={category:S1,tags:["Axes"],examples:[{title:"Trigonometric functions",example:{model:c1}},{title:"Clover",example:{model:d1}},{title:"AbsoluteMinimum Y",example:{model:p1}},{title:"AbsoluteMinimum Y, manual plotmargins",example:{model:f1}},{title:"AbsoluteMinimum X/Y",example:{model:g1}},{title:"AbsoluteMinimum/Maximum Y",example:{model:x1}},{title:"AbsoluteMinimum Y, AbsoluteMinimum/Maximum X",example:{model:w1}},{title:"AbsoluteMinimum/Maximum X/Y",example:{model:y1}}]};function M1(){const i=new b({title:"Standard"}),t=new Z;t.labels.push("1","2","3","4","5","6","7","8","9","10","11","12"),i.axes.push(t);const e=new y({position:g.Left});return i.axes.push(e),i}function k1(){const i=new b({title:"CategoryAxis with string[] as ItemsSource"});i.axes.push(new Z({stringFormatter:e=>`Item ${e}`,itemsSource:["A","B","C"]}));const t=new y({position:g.Left});return i.axes.push(t),i}function A1(){const i=new b({title:"CategoryAxis with int[] as ItemsSource"});i.axes.push(new Z({stringFormatter:e=>`Item ${e}`,itemsSource:[10,100,123]}));const t=new y({position:g.Left});return i.axes.push(t),i}function v1(){const i=new b({title:"Major Step = 4, IsTickCentered = false"}),t=new Z({isTickCentered:!1,majorStep:4});t.labels.push("1","2","3","4","5","6","7","8","9","10","11","12"),i.axes.push(t);const e=new y({position:g.Left});return i.axes.push(e),i}function R1(){const i=new b({title:"Major Step = 4, IsTickCentered = true"}),t=new Z({isTickCentered:!0,majorStep:4});t.labels.push("1","2","3","4","5","6","7","8","9","10","11","12"),i.axes.push(t);const e=new y({position:g.Left});return i.axes.push(e),i}const C1="CategoryAxis",T1={category:C1,tags:["Axes"],examples:[{title:"Standard",example:{model:M1}},{title:"ItemsSource - string[]",example:{model:k1}},{title:"ItemsSource - int[]",example:{model:A1}},{title:"MajorStep",example:{model:v1}},{title:"MajorStep, TickCentered",example:{model:R1}}]};function P1(){const i=new b({title:"CategoryColorAxis"}),t=new na({key:"ccc",palette:j.blackWhiteRed(12)});t.labels.push("1","2","3","4","5","6","7","8","9","10","11","12"),i.axes.push(t);const e=new y({position:g.Left}),s=new Et({colorAxisKey:t.key});return s.points.push({x:0,y:0,size:NaN,value:0}),s.points.push({x:3,y:0,size:NaN,value:3}),i.series.push(s),i.axes.push(e),i}function L1(){const i=new b({title:"Major Step = 4, IsTickCentered = true"}),t=new na({palette:j.blackWhiteRed(3),isTickCentered:!0,majorStep:4});t.labels.push("1","2","3","4","5","6","7","8","9","10","11","12"),i.axes.push(t);const e=new y({position:g.Left});return i.axes.push(e),i}const D1="CategoryColorAxis",I1={category:D1,tags:["Axes"],examples:[{title:"CategoryColorAxis",example:{model:P1}},{title:"Centered ticks, MajorStep = 4",example:{model:L1}}]};function B1(){const i=new b({plotAreaBorderThickness:K(0),plotMargins:K(60,60,60,60)});return i.axes.push(new ul({position:g.Bottom,axislineStyle:v.Solid})),i.axes.push(new ul({position:g.Left,axislineStyle:v.Solid})),i}class ul extends y{async render(t,e){await super.render(t,e);const s=[];if(this.isHorizontal()){const n=P.bottom(this.plotModel.plotArea),o=this.transform(this.actualMaximum);s.push(R(o+4,n-4)),s.push(R(o+18,n)),s.push(R(o+4,n+4))}else{const n=this.transform(this.actualMaximum);s.push(R(this.plotModel.plotArea.left-4,n-4)),s.push(R(this.plotModel.plotArea.left,n-18)),s.push(R(this.plotModel.plotArea.left+4,n-4))}await t.drawPolygon(s,f.Black,f.Undefined,0,this.edgeRenderingMode)}}const F1="Custom axes",N1={category:F1,tags:["Axes"],examples:[{title:"ArrowAxis",example:{model:B1}}]};class ml{static deg2Rad(t){return Math.PI*t/180}static rad2Deg(t){return 180*t/Math.PI}static fixValue(t,e,s){for(;t<e;)t+=s-e;for(;t>=s;)t-=s-e;return t}static calculate(t,e,s,n,o,r=90.5){const a=qe(t).dayOfYear(),u=s/15;let m;n?m=a+(6-u)/24:m=a+(18-u)/24;const c=.9856*m-3.289;let p=c+1.916*Math.sin(this.deg2Rad(c))+.02*Math.sin(this.deg2Rad(2*c))+282.634;p=this.fixValue(p,0,360);let x=this.rad2Deg(Math.atan(.91764*Math.tan(this.deg2Rad(p))));x=this.fixValue(x,0,360);const w=Math.floor(p/90)*90,S=Math.floor(x/90)*90;x=x+(w-S),x=x/15;const k=.39782*Math.sin(this.deg2Rad(p)),A=Math.cos(Math.asin(k)),C=(Math.cos(this.deg2Rad(r))-k*Math.sin(this.deg2Rad(e)))/(A*Math.cos(this.deg2Rad(e)));let T;n?T=360-this.rad2Deg(Math.acos(C)):T=this.rad2Deg(Math.acos(C)),T=T/15;let B=T+x-.06571*m-6.622-u;t=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0));const I=new Date(t.getTime()+B*60*60*1e3);return B=(o(I).getTime()-t.getTime())/(60*60*1e3),B=this.fixValue(B,0,24),new Date(t.getTime()+B*60*60*1e3)}}const _1=()=>yu(7,void 0),V1=()=>{const i=Ai();return yu(7,t=>i.format(t,`MMM DD
YYYY`))};function yu(i,t){const e=new b,s=new Date(2e3,0,1),n=Nt.toDouble(s),o=n+i;return e.axes.push(new Nt({position:g.Bottom,minimum:n,maximum:o,stringFormatter:t})),e.axes.push(new Nt({position:g.Left,minimum:n,maximum:o,stringFormatter:t})),e}function E1(){const i=new b,t=new Nt;t.position=g.Bottom,i.axes.push(t),i.axes.push(new y);const e=new G;e.markerType=V.Circle,i.series.push(e);const s=new Date(Date.UTC(2013,2,31,0,0,0));for(let n=0;n<400;n+=10){const o=new Date(s.getTime()+n*6e4);e.points.push(Nt.createDataPoint(o,n))}return i}function z1(){const i=new Date(2010,0,1),t=new Date(2015,0,1),e=3600*24*14,s=Ai(),n=[];let o=i;const r=new Ct;for(;o<=t;)n.push({date:o,value:r.next()}),o=s.addTimespan(o,Ut.fromSeconds(e));const a=new b({title:"DateTime axis"}),u=new Nt({firstDayOfWeek:Do.Monday,position:g.Bottom});a.axes.push(u);const m=new y;a.axes.push(m);const c=new G({color:M.fromArgb(255,78,154,6),markerFill:M.fromArgb(255,78,154,6),markerStroke:f.ForestGreen,markerType:V.Plus,strokeThickness:1,dataFieldX:"date",dataFieldY:"value",itemsSource:n});return a.series.push(c),a}function O1(){const i=new Date().getFullYear(),e=G1(i,59.91,10.75,u=>{const m=H1(u)?2:1;return new Date(u.getTime()+m*60*60*1e3)}),s=new b({title:"Sunrise and sunset in Oslo",subtitle:"UTC time"}),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=new Nt({firstDayOfWeek:Do.Monday,intervalType:ut.Months,majorGridlineStyle:v.Solid,position:g.Bottom,stringFormatter:u=>n[u.getMonth()]});s.axes.push(o);const r=new Ze({majorGridlineStyle:v.Solid,maximum:86400,minimum:0,stringFormatter:u=>Kr(u,"hh:mm")});s.axes.push(r);const a=new wi({itemsSource:e,dataFieldX:"Day",dataFieldY:"Sunrise",dataFieldX2:"Day",dataFieldY2:"Sunset",fill:M.fromArgb(128,255,255,0),color:f.Black});return s.series.push(a),s}function $1(){const i=new b({title:"Using LabelFormatter to format labels by day of week"});i.axes.push(new Nt({labelFormatter:function(e){return Nt.toDateTime(e).getDay().toString().substring(0,3)}}));const t=new G;i.series.push(t);for(let e=0;e<7;e++){const s=new Date(2014,9,10);s.setDate(s.getDate()+e);const n=Nt.toDouble(s),o=Math.sin(e*e);t.points.push(d(n,o))}return i}function G1(i,t,e,s){const n=[];let o=new Date(i,0,1);const r=Ut.fromMinutes(o.getTimezoneOffset()),a=Ai();for(;o.getFullYear()===i;){let u=ml.calculate(o,t,e,!0,s);u=a.addTimespan(u,r);let m=ml.calculate(o,t,e,!1,s);m=a.addTimespan(m,r),n.push({Day:o,Sunrise:a.diff(u,o),Sunset:a.diff(m,o)}),o=a.addTimespan(o,Ut.fromDays(1))}return n}function H1(i){const t=new Date(i.getFullYear(),2,31,2,0,0);t.setDate(t.getDate()-t.getDay());const e=new Date(i.getFullYear(),9,31,3,0,0);return e.setDate(e.getDate()-e.getDay()),i>=t&&i<=e}const U1="DateTimeAxis",W1={category:U1,tags:["Axes"],examples:[{title:"Default StringFormat",example:{model:_1}},{title:"StringFormat 'MMM DD\\nYYYY'",example:{model:V1}},{title:"TimeZone adjustments",example:{model:E1}},{title:"DateTime axis",example:{model:z1}},{title:"Sunrise and sunset in Oslo",example:{model:O1}},{title:"LabelFormatter",example:{model:$1}}]};function X1(){return Su(123456.78901234567,1.2345678901234567e6,void 0)}function Y1(){return Su(123456.78901234567,1.2345678901234567e6,(i,t)=>i.toFixed(2))}function j1(){return Ko(rt.None)}function q1(){return Ko(rt.Crossing)}function J1(){return Ko(rt.Inside)}function Z1(){return Ko(rt.Outside)}function K1(){return Qo("None",v.None,v.None)}function Q1(){return Qo("Horizontal",v.Solid,v.None)}function tf(){return Qo("Vertical",v.None,v.Solid)}function ef(){return Qo("Both",v.Solid,v.Solid)}function Su(i,t,e){const s=new b;return s.axes.push(new y({position:g.Bottom,minimum:i,maximum:t,stringFormatter:e})),s.axes.push(new y({position:g.Left,minimum:i,maximum:t,stringFormatter:e})),s}function Ko(i){const t=new b({title:`TickStyle: ${i}`});return t.axes.push(new y({position:g.Bottom,tickStyle:i,majorGridlineStyle:v.None,minorGridlineStyle:v.None,maximumPadding:0,minimumPadding:0})),t.axes.push(new y({position:g.Left,tickStyle:i,majorGridlineStyle:v.None,minorGridlineStyle:v.None,maximumPadding:0,minimumPadding:0})),t}function Qo(i,t,e){const s=new b({title:`Gridlines: ${i}`});return s.axes.push(new y({position:g.Bottom,majorGridlineStyle:e,minorGridlineStyle:e===v.Solid?v.Dot:v.None,maximumPadding:0,minimumPadding:0})),s.axes.push(new y({position:g.Left,majorGridlineStyle:t,minorGridlineStyle:t===v.Solid?v.Dot:v.None,maximumPadding:0,minimumPadding:0})),s}const sf="LinearAxis",nf={category:sf,tags:["Axes"],examples:[{title:"Default StringFormat ('g6')",example:{model:X1}},{title:"StringFormat = 'f2'",example:{model:Y1}},{title:"TickStyle: None",example:{model:j1}},{title:"TickStyle: Crossing",example:{model:q1}},{title:"TickStyle: Inside",example:{model:J1}},{title:"TickStyle: Outside",example:{model:Z1}},{title:"Gridlines: None",example:{model:K1}},{title:"Gridlines: Horizontal",example:{model:Q1}},{title:"Gridlines: Vertical",example:{model:tf}},{title:"Gridlines: Both",example:{model:ef}}]};function of(){return bu()}function rf(){return Xe("Interpolated",!0)}function af(){const i=Xe("Interpolated, cartesian axes",!0);return i.plotType=mt.Cartesian,i}function lf(){const i=Xe("Interpolated including two NaN values",!0),t=i.series[0];return t.data[0][1]=Number.NaN,t.data[1][0]=Number.NaN,i}function uf(){const i=Xe("Interpolated including two NaN values, otherwise 4.71",!0),e=i.series[0].data,s=4.71;return e[0][0]=s,e[0][1]=s,e[0][2]=s,e[1][0]=s,e[1][1]=s,e[1][2]=s,e[0][1]=Number.NaN,e[1][0]=Number.NaN,i}function mf(){return Xe("Not interpolated values",!1)}function hf(){const i=Xe("Not interpolated values including two NaN values",!1),t=i.axes[0];t.invalidNumberColor=f.Transparent;const e=i.series[0];return e.data[0][1]=Number.NaN,e.data[1][0]=Number.NaN,i}function cf(){const i=Xe("Not interpolated values including two NaN values, otherwise 4.71",!1),t=i.axes[0];t.invalidNumberColor=f.Transparent;const e=i.series[0];if(!e.data)return i;const s=4.71;return e.data[0][0]=s,e.data[0][1]=s,e.data[0][2]=s,e.data[1][0]=s,e.data[1][1]=s,e.data[1][2]=s,e.data[0][1]=Number.NaN,e.data[1][0]=Number.NaN,i}function df(){const i=Xe("Reversed x-axis",!1);return i.axes.push(new y({position:g.Bottom,startPosition:1,endPosition:0})),i}function pf(){const i=Xe("X0>X1",!1),t=i.series[0],e=t.x0;return t.x0=t.x1,t.x1=e,i}function ff(){const i=Xe("Reversed x-axis, X0>X1",!1);i.axes.push(new y({position:g.Bottom,startPosition:1,endPosition:0}));const t=i.series[0],e=t.x0;return t.x0=t.x1,t.x1=e,i}function gf(){const i=Xe("Reversed y-axis",!1);return i.axes.push(new y({position:g.Left,startPosition:1,endPosition:0})),i}function xf(){const i=Xe("Y0>Y1",!1),t=i.series[0],e=t.y0;return t.y0=t.y1,t.y1=e,i}function wf(){const i=Xe("Reversed y-axis, Y0>Y1",!1);i.axes.push(new y({position:g.Left,startPosition:1,endPosition:0}));const t=i.series[0],e=t.y0;return t.y0=t.y1,t.y1=e,i}function yf(){const i=Xe("Reversed x- and y-axis",!1);return i.axes.push(new y({position:g.Left,startPosition:1,endPosition:0})),i.axes.push(new y({position:g.Bottom,startPosition:1,endPosition:0})),i}function Sf(){const i=[[1,0,0],[0,1,0],[0,0,1]],t=new b({title:"Diagonal (center defined)"});t.axes.push(new Yt({position:g.Right,palette:j.jet(500),highColor:f.Gray,lowColor:f.Black}));const e=new Qe({coordinateDefinition:Nn.Center,x0:.5,x1:2.5,y0:2.5,y1:.5,data:i,interpolate:!1});return t.series.push(e),t}function bf(){const i=[[1,0,0],[0,1,0],[0,0,1]],t=new b({title:"Diagonal (edge defined)"});t.axes.push(new Yt({position:g.Right,palette:j.jet(500),highColor:f.Gray,lowColor:f.Black}));const e=new Qe({coordinateDefinition:Nn.Edge,x0:0,x1:3,y0:3,y1:0,data:i,interpolate:!1});return t.series.push(e),t}function Mf(){const i=Array(6).fill(Array(6).fill(0));i[0][0]=1,i[1][1]=1,i[2][2]=1,i[3][3]=1,i[4][4]=1,i[5][5]=1;const t=new b({title:"Diagonal 6×6"});t.axes.push(new Yt({position:g.Right,palette:j.jet(500),highColor:f.Gray,lowColor:f.Black}));const e=new Qe({x0:0,x1:5,y0:5,y1:0,data:i,interpolate:!1});return t.series.push(e),t}function kf(){let i=[[1,0,0],[0,.8,.2],[0,0,1]];i=i[0].map((u,m)=>i.map(c=>c[m]));const t=["class A","class B","class C"],e=new b({title:"Confusion Matrix"}),s=Te.interpolate(50,f.White,f.Black),n=new Yt({position:g.Right,palette:s,highColor:f.White,lowColor:f.White});e.axes.push(n);const o=new Z({position:g.Top,title:"Actual class"});o.labels.push(...t),e.axes.push(o);const r=new Z({position:g.Left,title:"Predicted class",angle:-90,startPosition:1,endPosition:0});r.labels.push(...t),e.axes.push(r);const a=new Qe({data:i,interpolate:!1,labelFontSize:.25,x0:0,x1:i[0].length-1,y0:0,y1:i.length-1});return e.series.push(a),e}function Af(){const i=Array(11).fill(0).map(()=>Array(21).fill(0)),t=Math.pow(2,.1);for(let n=0;n<11;n++)for(let o=0;o<21;o++)i[n][o]=Math.pow(t,n)*o/40;const e=new b({title:"Logarithmic X, interpolated"});e.axes.push(new Mt({position:g.Bottom})),e.axes.push(new y({position:g.Left})),e.axes.push(new Yt({position:g.Right,palette:j.gray(500),highColor:f.White,lowColor:f.Black}));const s=new Qe({x0:1,x1:2,y0:0,y1:20,data:i,interpolate:!0});return e.series.push(s),e}function vf(){const i=Array(11).fill(0).map(()=>Array(21).fill(0)),t=Math.pow(2,.1);for(let n=0;n<11;n++)for(let o=0;o<21;o++)i[n][o]=Math.pow(t,n)*o/40;const e=new b({title:"Logarithmic X, discrete rectangles"});e.axes.push(new Mt({position:g.Bottom})),e.axes.push(new y({position:g.Left})),e.axes.push(new Yt({position:g.Right,palette:j.gray(500),highColor:f.White,lowColor:f.Black}));const s=new Qe({x0:1,x1:2,y0:0,y1:20,data:i,interpolate:!1,renderMethod:du.Rectangles,labelFontSize:.4});return e.series.push(s),e}function Rf(){return Cf("Normal 6×4 Heatmap")}function bu(i,t=!0,e=100){const a=(S,k)=>3*(1-S)*(1-S)*Math.exp(-(S*S)-(k+1)*(k+1))-10*(S/5-S*S*S-k*k*k*k*k)*Math.exp(-S*S-k*k)-.3333333333333333*Math.exp(-(S+1)*(S+1)-k*k),u=oe.createVector(-3.1,3.1,e),m=oe.createVector(-3,3,e),c=oe.evaluate(a,u,m),p=new b({title:"Peaks"}),x=new Yt({position:g.Right,highColor:f.Gray,lowColor:f.Black,palette:i});p.axes.push(x);const w=new Qe({x0:-3.1,x1:3.1,y0:-3,y1:3,data:c});if(p.series.push(w),t){const S=new We({color:f.Black,fontSize:0,contourLevelStep:1,labelBackground:f.Undefined,columnCoordinates:m,rowCoordinates:u,data:c});p.series.push(S)}return p}function Cf(i){const t=new Ge(6,4);for(let s=1;s<=6;s++)for(let n=1;n<=4;n++)t.set(s-1,n-1,s*n);const e=new b({title:i,subtitle:"Note the positions of the axes"});return e.axes.push(new Yt({position:g.Right,palette:j.jet(500),highColor:f.White,lowColor:f.Black})),e.series.push(new Qe({x0:1,x1:6,y0:1,y1:4,data:t.toArray(),interpolate:!0,labelFontSize:.2})),e}function Xe(i,t){const e=[[0,.2,.4],[.1,.3,.2]],s=new b({title:"HeatMapSeries",subtitle:i});s.axes.push(new Yt({position:g.Right,palette:j.rainbow(500),highColor:f.Gray,lowColor:f.Black}));const n=new Qe({coordinateDefinition:Nn.Center,x0:.5,x1:1.5,y0:.5,y1:2.5,data:e,interpolate:t,labelFontSize:.2});return s.series.push(n),s}const Lt={createPeaks:bu},Tf="HeatMapSeries",Pf={category:Tf,tags:["Series"],examples:[{title:"Peaks",example:{model:of}},{title:"2×3, interpolated",example:{model:rf}},{title:"2×3, interpolated, cartesian axes",example:{model:af}},{title:"2×3, interpolated with two NaN values",example:{model:lf}},{title:"2×3, interpolated with two NaN values, flat data",example:{model:uf}},{title:"2×3, not interpolated",example:{model:mf}},{title:"2×3, not interpolated with two NaN values",example:{model:hf}},{title:"2×3, not interpolated with two NaN values, flat data",example:{model:cf}},{title:"2×3, reversed x-axis",example:{model:df}},{title:"2×3, X0>X1",example:{model:pf}},{title:"2×3, reversed x-axis, X0>X1",example:{model:ff}},{title:"2×3, reversed y-axis",example:{model:gf}},{title:"2×3, Y0>Y1",example:{model:xf}},{title:"2×3, reversed y-axis, Y0>Y1",example:{model:wf}},{title:"2x3, reversed x- and y-axis",example:{model:yf}},{title:"3×3, diagonal (center defined)",example:{model:Sf}},{title:"3×3, diagonal (edge defined)",example:{model:bf}},{title:"6×6, diagonal",example:{model:Mf}},{title:"Confusion matrix",example:{model:kf}},{title:"Logarithmic X, interpolated",example:{model:Af}},{title:"Logarithmic X, discrete rectangles",example:{model:vf}},{title:"6×4, not transposed",example:{model:Rf}}]};function Aa(){return Lt.createPeaks(void 0,!1)}function Mu(){return Ca(Aa())}function va(){return Lt.createPeaks(j.jet(6),!1)}function ku(){return Ca(va())}function Ra(){const i=Lt.createPeaks(j.jet(600),!1),t=i.axes[0];return t.startPosition=.02,t.endPosition=.5,i}function Au(){return Ca(Ra())}function vu(){const i=Lt.createPeaks(j.jet(600),!1),t=i.axes[0];return t.position=g.None,i}function Ca(i){const t=i.axes.find(e=>e instanceof Yt);return t.renderAsImage=!0,i.title+=" - RenderAsImage",i}const Ps={peaks:Aa,peaksRenderAsImage:Mu,horizontal6:va,horizontal6RenderAsImage:ku,short:Ra,shortRenderAsImage:Au,position_None:vu},Lf="LinearColorAxis",Df={category:Lf,tags:["Axes"],examples:[{title:"Peaks",example:{model:Aa}},{title:"Peaks - RenderAsImage",example:{model:Mu}},{title:"6 Colors",example:{model:va}},{title:"6 Colors - RenderAsImage",example:{model:ku}},{title:"Short",example:{model:Ra}},{title:"Short - RenderAsImage",example:{model:Au}},{title:"Position None",example:{model:vu}}]};function If(){const i=new b;return i.axes.push(new Mt({position:g.Bottom})),i.axes.push(new Mt({position:g.Left})),i}function Bf(){const i=new b({title:"Amdahl's law"}),t=new X({legendTitle:"Parallel portion"});i.legends.push(t);const e=(n,o)=>1/(1-n+n/o),s=n=>{const o=new G({title:n.toFixed(0)});for(let r=1;r<=65536;r*=2)o.points.push(d(r,e(n,r)));return o};return i.axes.push(new Mt({position:g.Bottom,title:"Number of processors",base:2,majorGridlineStyle:v.Solid,tickStyle:rt.None})),i.axes.push(new y({position:g.Left,minimum:0,maximum:20,minorStep:2,majorStep:2,title:"Speedup",stringFormatter:n=>n.toFixed(2).toString(),majorGridlineStyle:v.Solid,tickStyle:rt.None})),i.series.push(s(.5)),i.series.push(s(.75)),i.series.push(s(.9)),i.series.push(s(.95)),i}function Ff(){const i=new b({title:"The Richter magnitude scale",plotMargins:K(80,0,80,40)}),t=new X({legendPlacement:gt.Inside,legendPosition:$.TopCenter,legendOrientation:Pt.Horizontal,legendSymbolLength:24});i.legends.push(t),i.axes.push(new y({position:g.Bottom,title:"Richter magnitude scale",majorGridlineStyle:v.None,tickStyle:rt.None}));const e=new G({title:"Frequency",color:M.fromUInt32(4282150046),strokeThickness:3,markerStroke:M.fromUInt32(4282150046),markerFill:f.White,markerType:V.Circle,markerSize:4,markerStrokeThickness:3});e.points.push(d(1.5,8e3*365*100)),e.points.push(d(2.5,1e3*365*100)),e.points.push(d(3.5,49e3*100)),e.points.push(d(4.5,6200*100)),e.points.push(d(5.5,800*100)),e.points.push(d(6.5,120*100)),e.points.push(d(7.5,18*100)),e.points.push(d(8.5,1*100)),e.points.push(d(9.5,1/20*100)),i.axes.push(new Mt({position:g.Left,title:"Frequency / 100 yr",useSuperExponentialFormat:!0,majorGridlineStyle:v.None,tickStyle:rt.Outside})),i.series.push(e);const s=new G({title:"Energy",color:M.fromUInt32(4288572476),strokeThickness:3,markerStroke:M.fromUInt32(4288572476),markerFill:f.White,markerType:V.Circle,markerSize:4,markerStrokeThickness:3});return s.points.push(d(1.5,11e6)),s.points.push(d(2.5,36e7)),s.points.push(d(3.5,11e9)),s.points.push(d(4.5,36e10)),s.points.push(d(5.5,11e12)),s.points.push(d(6.5,36e13)),s.points.push(d(7.5,11e15)),s.points.push(d(8.5,36e16)),s.points.push(d(9.5,11e18)),s.yAxisKey="energyAxis",i.axes.push(new Mt({position:g.Right,title:"Energy / J",key:"energyAxis",useSuperExponentialFormat:!0,majorGridlineStyle:v.None,tickStyle:rt.Outside})),i.series.push(s),i}const Nf=()=>{const i=new b({title:"AbsoluteMaximum = 1000"});return i.axes.push(new Mt({position:g.Left,minimum:.1,maximum:1e3,absoluteMaximum:1e3})),i.series.push(new nt({f:Math.exp,x0:0,x1:Math.log(900),n:100})),i},_f=()=>{const i=new b({title:"AxisChanged event handler"});let t=0;const e=new Mt({position:g.Left,minimum:.1,maximum:1e3});return e.axisChanged=(s,n)=>{i.subtitle="Changed "+t+++" times. ActualMaximum="+e.actualMaximum},i.axes.push(e),i.series.push(new nt({f:Math.exp,x0:0,x1:Math.log(900),n:100})),i},Vf=()=>{const i=new b({title:"LogarithmicAxis",subtitle:"LineSeries with negative values"});return i.axes.push(new Mt({position:g.Left})),i.axes.push(new y({position:g.Bottom})),i.series.push(new nt({f:t=>Math.sin(t),x0:0,x1:40,n:1e3})),i};function Ef(){const i=new b({title:"Tick calculation for different bases"});return i.axes.push(new Mt({title:"Base 10",position:g.Left,minimum:20,maximum:2e4,majorGridlineStyle:v.Solid,minorGridlineStyle:v.Solid})),i.axes.push(new Mt({title:"Base 7",position:g.Bottom,base:7,minimum:2,maximum:1e4,majorGridlineStyle:v.Solid,minorGridlineStyle:v.Solid})),i.axes.push(new Mt({title:"Base 5.5",position:g.Top,base:5.5,minimum:1,maximum:100,majorGridlineStyle:v.Solid,minorGridlineStyle:v.Solid})),i.axes.push(new Mt({title:"Base 2",position:g.Right,base:2,minimum:1,maximum:1e6,majorGridlineStyle:v.Solid,minorGridlineStyle:v.Solid})),i}const zf="LogarithmicAxis",Of={category:zf,tags:["Axes"],examples:[{title:"LogarithmicAxis with default values",example:{model:If}},{title:"Amdahl's Law",example:{model:Bf}},{title:"Richter magnitudes",example:{model:Ff}},{title:"LogarithmicAxis with AbsoluteMaximum",example:{model:Nf}},{title:"LogarithmicAxis with AxisChanged event handler",example:{model:_f}},{title:"Negative values",example:{model:Vf}},{title:"Tick calculation",example:{model:Ef}}]};function $f(){return Ls(Ps.peaks())}function Gf(){return Ls(Ps.peaksRenderAsImage())}function Hf(){return Ls(Ps.horizontal6())}function Uf(){return Ls(Ps.horizontal6RenderAsImage())}function Wf(){return Ls(Ps.short())}function Xf(){return Ls(Ps.shortRenderAsImage())}function Yf(){return Ls(Ps.position_None())}function Ls(i){const t=i.axes.find(o=>o instanceof Yt),e=i.axes.indexOf(t);e>-1&&i.axes.splice(e,1);const s=new _l({position:t.position,palette:t.palette,startPosition:t.startPosition,endPosition:t.endPosition,highColor:t.highColor,lowColor:t.lowColor,invalidNumberColor:t.invalidNumberColor}),n=i.series.find(o=>o instanceof Qe);if(n.data)for(let o=0;o<n.data.length;o++)for(let r=0;r<n.data[o].length;r++)n.data[o][r]+=6.6;return i.axes.push(s),i}const jf="LogarithmicColorAxis",qf={category:jf,tags:["Axes"],examples:[{title:"Peaks",example:{model:$f}},{title:"Peaks - RenderAsImage",example:{model:Gf}},{title:"6 Colors",example:{model:Hf}},{title:"6 Colors - RenderAsImage",example:{model:Uf}},{title:"Short",example:{model:Wf}},{title:"Short - RenderAsImage",example:{model:Xf}},{title:"Position None",example:{model:Yf}}]};function Ta(){const i=new b({title:"Polar plot",subtitle:"Archimedean spiral with equation r(θ) = θ for 0 < θ < 6π",plotType:mt.Polar,plotAreaBorderThickness:K(0)});return i.axes.push(new me({majorStep:Math.PI/4,minorStep:Math.PI/16,majorGridlineStyle:v.Solid,minorGridlineStyle:v.Solid,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"π",minimum:0,maximum:2*Math.PI})),i.axes.push(new Be({majorGridlineStyle:v.Solid,minorGridlineStyle:v.Solid})),i.series.push(new nt({fx:t=>t,fy:t=>t,t0:0,t1:Math.PI*6,dt:.01})),i}function Jf(){const i=Ta();i.title+="(reversed angle axis)";const t=i.axes[0];return t.startAngle=360,t.endAngle=0,i}function Zf(){const i=Ta();i.title+=" (axis Minimum = 10 and Maximum = 20)";const t=i.axes[1];return t.minimum=10,t.maximum=20,i}function Kf(){const i=new b({title:"Offset angle axis",plotType:mt.Polar,plotAreaBorderThickness:K(0)}),t=new me({minimum:0,maximum:Math.PI*2,majorStep:Math.PI/4,minorStep:Math.PI/16,stringFormatter:e=>e.toFixed(2),startAngle:30,endAngle:390});return i.axes.push(t),i.axes.push(new Be),i.series.push(new nt({fx:e=>e,fy:e=>e,t0:0,t1:Math.PI*6,dt:.01})),i.mouseDown=(e,s)=>{let n=0;s.changedButton===wt.Left&&(n=15),s.changedButton===wt.Right&&(n=-15),Math.abs(n)>Number.EPSILON&&(t.startAngle+=n,t.endAngle+=n,i.invalidatePlot(!1),s.handled=!0)},i}function Qf(){const i=new b({title:"Semi-circle polar plot",plotType:mt.Polar,plotAreaBorderThickness:K(0)});return i.axes.push(new me({minimum:0,maximum:180,majorStep:45,minorStep:9,startAngle:0,endAngle:180,majorGridlineStyle:v.Solid,minorGridlineStyle:v.Solid})),i.axes.push(new Be({minimum:0,maximum:1,majorGridlineStyle:v.Solid,minorGridlineStyle:v.Solid})),i.series.push(tr()),i}function tg(){const i=new b({title:"Semi-circle polar plot",subtitle:"Angle axis range offset to -180 - 180",plotType:mt.Polar,plotAreaBorderThickness:K(0)});return i.axes.push(new me({minimum:-180,maximum:180,majorStep:45,minorStep:9,startAngle:0,endAngle:360,majorGridlineStyle:v.Solid,minorGridlineStyle:v.Solid})),i.axes.push(new Be({minimum:0,maximum:1,majorGridlineStyle:v.Solid,minorGridlineStyle:v.Solid})),i.series.push(tr()),i}function eg(){const i=new b({title:"East/west directions",plotType:mt.Polar,plotAreaBorderThickness:K(0)});return i.axes.push(new me({minimum:0,maximum:360,majorStep:30,minorStep:30,startAngle:-90,endAngle:270,labelFormatter:function(t){return t>0&&t<180?`${t}E`:t>180?`${360-t}W`:t.toString()},majorGridlineStyle:v.Dot,minorGridlineStyle:v.None})),i.axes.push(new Be({minimum:0,maximum:1,majorGridlineStyle:v.Solid,minorGridlineStyle:v.Solid})),i.series.push(tr()),i}function ig(){const i=new b({title:"Semi-circle polar plot filling the plot area",subtitle:"The center can be moved using the right mouse button",plotType:mt.Polar,plotAreaBorderThickness:K(1)});return i.axes.push(new ea({minimum:0,maximum:180,majorStep:45,minorStep:9,startAngle:0,endAngle:180,majorGridlineStyle:v.Solid,minorGridlineStyle:v.Solid})),i.axes.push(new sa({minimum:0,maximum:1,midShiftH:0,midShiftV:.9,majorGridlineStyle:v.Solid,minorGridlineStyle:v.Solid})),i.series.push(tr()),i}function sg(){const i=Pa();return i.series.push(new nt({fx:t=>t,fy:t=>t,t0:0,t1:Math.PI*6,dt:.01})),i}function ng(){const i=Pa();return i.title+=" with a negative minimum",i.series.push(new nt({fx:t=>t,fy:t=>t,t0:-Math.PI*6,t1:Math.PI*6,dt:.01})),i}function og(){const i=Pa();return i.title+=" with a positive minimum",i.series.push(new nt({fx:t=>t,fy:t=>t,t0:Math.PI*6,t1:Math.PI*12,dt:.01})),i}function Pa(){const i=new b({title:"Polar plot filling the plot area",subtitle:"The center can be move using the right mouse button",plotType:mt.Polar,plotAreaBorderThickness:K(1)});return i.axes.push(new ea({majorStep:Math.PI/4,minorStep:Math.PI/16,majorGridlineStyle:v.Solid,minorGridlineStyle:v.Solid,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"π",minimum:0,maximum:2*Math.PI})),i.axes.push(new sa({midShiftH:-.1,midShiftV:-.25,majorGridlineStyle:v.Solid,minorGridlineStyle:v.Solid})),i}const tr=()=>new nt({fx:i=>Math.sin(i/180*Math.PI),fy:i=>i,t0:0,t1:180,dt:.01}),rg="Polar Plots",ag={category:rg,tags:["Axes"],examples:[{title:"Spiral",example:{model:Ta}},{title:"Spiral2",example:{model:Jf}},{title:"Spiral with magnitude axis min and max",example:{model:Zf}},{title:"Angle axis with offset angle",example:{model:Kf}},{title:"Semi-circle",example:{model:Qf}},{title:"Semi-circle offset angle axis range",example:{model:tg}},{title:"East/west directions",example:{model:eg}},{title:"Semi-circle full plot area",example:{model:ig}},{title:"Spiral full plot area",example:{model:sg}},{title:"Spiral full plot area with negative minimum",example:{model:ng}},{title:"Spiral full plot area with positive minimum",example:{model:og}}]};function lg(){return er(g.Top,!0)}function ug(){return er(g.Right,!0)}function mg(){return er(g.Top,!1)}function hg(){return er(g.Right,!1)}function er(i,t){const s=t?"ScatterSeries and Reversed RangeColorAxis (n=1000)":"ScatterSeries and RangeColorAxis (n=1000)",n=new b({title:s,background:f.LightGray});n.axes.push(new y({position:g.Bottom})),n.axes.push(new y({position:g.Left}));const o=new El({position:i,maximum:2,minimum:-2});o.addRange(0,.5,f.Blue),o.addRange(-.2,-.1,f.Red),t&&(o.startPosition=1,o.endPosition=0),n.axes.push(o);const r=new Et({markerType:V.Square,markerSize:6}),a=new Ct;for(let u=0;u<1e3;u++){const m=a.next()*2.2-1.1;r.points.push({x:m,y:a.next(),value:m})}return n.series.push(r),n}const cg="RangeColorAxis",dg={category:cg,tags:["Axes"],examples:[{title:"ScatterSeries with Reversed RangeColorAxis (Horizontal)",example:{model:lg}},{title:"ScatterSeries with Reversed  RangeColorAxis (Vertical)",example:{model:ug}},{title:"ScatterSeries with RangeColorAxis (Horizontal)",example:{model:mg}},{title:"ScatterSeries with RangeColorAxis (Vertical)",example:{model:hg}}]};function pg(){return Ru(void 0)}function fg(){return Ru(i=>`${Kr(i,"hh:mm")}`)}function Ru(i){const n=[];let o=0;const r=new Ct;for(;o<=86400;)n.push({time:o,value:r.next()}),o+=3600;const a=new b({title:"TimeSpan axis"}),u=new Ze({position:g.Bottom,stringFormatter:i});a.axes.push(u);const m=new y({position:g.Left});a.axes.push(m);const c=new G({color:M.fromArgb(255,78,154,6),markerFill:M.fromArgb(255,78,154,6),markerStroke:f.ForestGreen,markerType:V.Plus,strokeThickness:1,dataFieldX:"time",dataFieldY:"value",itemsSource:n});return a.series.push(c),a}const gg="TimeSpanAxis",xg={category:gg,tags:["Axes"],examples:[{title:"Default StringFormat",example:{model:pg}},{title:"StringFormat = 'h:mm'",example:{model:fg}}]},wg=[h1,b1,T1,I1,N1,W1,nf,Df,Of,qf,ag,dg,xg];class yg{constructor(t,e,s,n){at(this,"x");at(this,"y");at(this,"xError");at(this,"yError");this.x=t||0,this.y=e||0,this.xError=s||0,this.yError=n||0}}class Sg extends Vt{constructor(){super();at(this,"points",[]);at(this,"color");at(this,"strokeThickness");this.color=f.Black,this.strokeThickness=1}getElementName(){return"ErrorSeries"}get pointsList(){return this.points}async render(e){const s=this.points;if(s.length===0)return;this.verifyAxes();const n=s.length,o=[];for(let r=0;r<n;r++){const a=this.xAxis.transformPoint(s[r].x,s[r].y,this.yAxis),u=s[r],m=u?u.xError*this.xAxis.scale:0,c=u?u.yError*Math.abs(this.yAxis.scale):0,p=4;if(m>0){const x=R(a.x-m*.5,a.y),w=R(a.x+m*.5,a.y);o.push(x,w,R(x.x,x.y-p),R(x.x,x.y+p),R(w.x,w.y-p),R(w.x,w.y+p))}if(c>0){const x=R(a.x,a.y-c*.5),w=R(a.x,a.y+c*.5);o.push(x,w,R(x.x-p,x.y),R(x.x+p,x.y),R(w.x-p,w.y),R(w.x+p,w.y))}}for(let r=0;r+1<o.length;r+=2)await O.drawReducedLine(e,[o[r],o[r+1]],0,this.getSelectableColor(this.color),this.strokeThickness,this.edgeRenderingMode,void 0,st.Bevel)}async renderLegend(e,s){const n=P.right(s),o=P.bottom(s),r=(s.left+n)/2,a=(s.top+o)/2,u=[R(s.left,a),R(n,a),R(s.left,a-2),R(s.left,a+3),R(n,a-2),R(n,a+3),R(r,s.top),R(r,o),R(r-2,s.top),R(r+3,s.top),R(r-2,o),R(r+3,o)];await e.drawLineSegments(u,this.getSelectableColor(this.color),this.strokeThickness,this.edgeRenderingMode,void 0,st.Miter)}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMin2(this.points,e=>e.x-e.xError,e=>e.x+e.xError,e=>e.y-e.yError,e=>e.y+e.yError)}}class bg extends Bn{constructor(){super();at(this,"symbolPosition",0);at(this,"symbolSize",ks);at(this,"color");at(this,"maximumX",0);at(this,"minimumX",0);at(this,"symbol");at(this,"_values",[]);at(this,"xAxis");at(this,"xAxisKey");this.color=f.Black,this.fontSize=10,this.symbol="ê",this.font="Wingdings 2",this.trackerStringFormatter=function(e){return`${e.title}: ${e.item}`}}getElementName(){return"FlagSeries"}get values(){return this._values}getNearestPoint(e,s){if(this.xAxis)for(const n of this.values){if(isNaN(n)||n<this.xAxis.actualMinimum||n>this.xAxis.actualMaximum)continue;const o=this.xAxis.transform(n),r=J(o-this.symbolSize.width/2,this.symbolPosition-this.symbolSize.height,this.symbolSize.width,this.symbolSize.height);if(P.containsPoint(r,e)){const a=this.trackerStringFormatter({item:n,title:this.title});return new Wt({series:this,dataPoint:d(n,NaN),position:R(o,this.symbolPosition-this.symbolSize.height),text:a})}}}async render(e){if(this.xAxis){this.symbolPosition=P.bottom(this.plotModel.plotArea),this.symbolSize=e.measureText(this.symbol,this.actualFont,this.actualFontSize,this.actualFontWeight);for(const s of this.values){if(isNaN(s)||s<this.xAxis.clipMinimum||s>this.xAxis.clipMaximum)continue;const n=this.xAxis.transform(s);await e.drawText(R(n,this.symbolPosition),this.symbol,this.color,this.actualFont,this.actualFontSize,this.actualFontWeight,0,F.Center,N.Bottom)}}}async renderLegend(e,s){await e.drawText(P.center(s),this.symbol,this.color,this.actualFont,this.actualFontSize,this.actualFontWeight,0,F.Center,N.Middle)}areAxesRequired(){return!0}ensureAxes(){this.xAxis=this.xAxisKey!==void 0?this.plotModel.getAxis(this.xAxisKey):this.plotModel.defaultXAxis}isUsing(e){return e===this.xAxis}setDefaultValues(){}updateAxisMaxMin(){this.xAxis.include(this.minimumX),this.xAxis.include(this.maximumX)}updateData(){}updateMaxMin(){this.minimumX=zt(this.values),this.maximumX=qt(this.values)}}class hl extends G{constructor(){super();at(this,"showVerticals");at(this,"epsilon");this.showVerticals=!0,this.epsilon=1e-8}getElementName(){return"LineSegmentSeries"}async render(e){if(this.points.length===0)return;if(this.points.length%2!==0)throw new Error("The number of points should be even.");if(!this.xAxis||!this.yAxis)throw new Error("Axis has not been defined.");const s=this.points.map(o=>this.transform(o)),n=[];for(let o=0;o<s.length;o+=2)$i(s[o],s[o+1])<this.strokeThickness&&(s[o]=R(s[o].x-this.strokeThickness*.5,s[o].y),s[o+1]=R(s[o].x+this.strokeThickness*.5,s[o].y)),this.showVerticals&&o>0&&Math.abs(s[o-1].x-s[o].x)<this.epsilon&&(n.push(s[o-1]),n.push(s[o]));if(this.strokeThickness>0){if(this.lineStyle!==v.None){const o=$t.getDashArray(this.lineStyle);await e.drawLineSegments(s,this.actualColor,this.strokeThickness,this.edgeRenderingMode,o,this.lineJoin)}await e.drawLineSegments(n,this.actualColor,this.strokeThickness/3,this.edgeRenderingMode,$t.getDashArray(v.Dash),this.lineJoin)}await O.drawMarkers(e,s,this.markerType,void 0,[this.markerSize],this.markerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)}getNearestPoint(e,s){const n=this.points;if(!n)return;let o,r,a=-1,u=Number.MAX_VALUE;for(let m=0;m+1<n.length;m+=2){const c=n[m],p=n[m+1];if(!this.isValidPoint(c)||!this.isValidPoint(p))continue;const x=this.transform(c),w=this.transform(p),S=be.findPointOnLine(e,x,w);if(bn(S))continue;const k=$i(e,S);if(k<u){const A=ri(S,x)/ri(w,x);r=d(c.x+A*(p.x-c.x),c.y+A*(p.y-c.y)),o=S,u=k,a=m+A}}if(u<Number.MAX_VALUE){const m=this.getItem(Math.floor(a));return new Wt({series:this,dataPoint:r,position:o,item:m,index:a,text:`${this.title||""}
x: ${m.x}
y: ${m.y}`})}}}class Cu extends Vt{constructor(e){super(e);at(this,"image");at(this,"_matrix");at(this,"gridInterval");at(this,"showDiagonal");at(this,"minimumGridLineDistance");at(this,"gridColor");at(this,"borderColor");at(this,"notZeroColor");at(this,"zeroTolerance");this.gridInterval=1,this.showDiagonal=!1,this.minimumGridLineDistance=4,this.gridColor=f.LightGray,this.borderColor=f.Gray,this.notZeroColor=f.Black,this.zeroTolerance=0,this.trackerStringFormatter=function(s){return`${s.title||""}
[${s.xValue},${s.yValue}] = ${s.item}`},e&&Object.assign(this,xi(e))}get matrix(){return this._matrix}set matrix(e){this._matrix=e,this.image=void 0}getElementName(){return"MatrixSeries"}get matrixValue(){return this.matrix}set matrixValue(e){this.image=void 0,this.matrix=e}async render(e){if(!this.matrixValue)return;const s=tt.transform,n=this.matrixValue.length,o=this.matrixValue[0].length,r=s(this,0,0),a=s(this,o,n);if(!this.image){const w=new Ge(o,n);for(let S=0;S<n;S++)for(let k=0;k<o;k++){const A=Math.abs(this.matrixValue[S][k])<=this.zeroTolerance?f.Transparent:this.notZeroColor;w.set(k,S,A)}this.image=await He.create(w,De.Png)}const u=Math.min(r.x,a.x),m=Math.min(r.y,a.y),c=Math.abs(r.x-a.x),p=Math.abs(r.y-a.y);await O.drawImage(e,this.image,u,m,c,p,1,!1);const x=[];if(this.gridInterval>0){const w=s(this,this.gridInterval,this.gridInterval);if(Math.abs(w.y-r.y)>this.minimumGridLineDistance)for(let S=1;S<o;S+=this.gridInterval)x.push(s(this,0,S)),x.push(s(this,o,S));if(Math.abs(w.x-r.x)>this.minimumGridLineDistance)for(let S=1;S<n;S+=this.gridInterval)x.push(s(this,S,0)),x.push(s(this,S,n))}if(this.showDiagonal&&(x.push(s(this,0,0)),x.push(s(this,o,n))),await e.drawLineSegments(x,this.gridColor,1,this.edgeRenderingMode,void 0,st.Miter),M.isVisible(this.borderColor)){const w=[s(this,0,0),s(this,n,0),s(this,0,o),s(this,n,o),s(this,0,0),s(this,0,o),s(this,n,0),s(this,n,o)];await e.drawLineSegments(w,this.borderColor,1,this.edgeRenderingMode,void 0,st.Miter)}}getNearestPoint(e,s){if(!this.matrix)return;const n=this.inverseTransform(e),o=Math.floor(n.y),r=Math.floor(n.x);if(o>=0&&o<this.matrix.length&&r>=0&&r<this.matrix[0].length){const a=this.matrix[o][r];return new Wt({series:this,dataPoint:n,position:e,item:null,index:-1,text:this.trackerStringFormatter({item:a,title:this.title,xValue:r,yValue:o})})}}updateMaxMin(){super.updateMaxMin(),this.matrix&&(this.minX=0,this.maxX=this.matrix[0].length,this.minY=0,this.maxY=this.matrix.length)}}class Tu extends Vt{constructor(e){super(e);at(this,"image");at(this,"pixels");at(this,"imageSize",0);at(this,"angle0",0);at(this,"angle1",0);at(this,"magnitude0",0);at(this,"magnitude1",0);at(this,"data");at(this,"interpolate");at(this,"minValue",0);at(this,"maxValue",0);at(this,"colorAxis");at(this,"colorAxisKey");this.interpolate=!0,e&&Object.assign(this,xi(e))}getElementName(){return"PolarHeatMapSeries"}async render(e){if(!this.data){this.image=void 0;return}this.imageSize>0?await this.renderFixed(e,this.plotModel):await this.renderDynamic(e,this.plotModel)}async renderDynamic(e,s){if(!this.data)return;const n=this.data.length,o=this.data[0].length,r=s.plotArea,a=Math.floor(r.width),u=Math.floor(r.height);if(a===0||u===0)return;(!this.pixels||this.pixels.height!==u||this.pixels.width!==a)&&(this.pixels=new Ge(a,u));const m=this.pixels,c=gi.getColor;for(let p=0;p<u;p++)for(let x=0;x<a;x++){const w=R(r.left+x,r.top+p),S=this.inverseTransform(w);let k,A;if(this.plotModel.plotType!==mt.Polar)k=Math.atan2(S.y,S.x)/Math.PI*180,A=Math.sqrt(S.x*S.x+S.y*S.y);else{for(k=S.y/Math.PI*180,A=S.x;k<0;)k+=360;for(;k>360;)k-=360}const C=(k-this.angle0)/(this.angle1-this.angle0)*n,T=(A-this.magnitude0)/(this.magnitude1-this.magnitude0)*o;if(C>=0&&C<n&&T>=0&&T<o){const D=this.getValue(C,T),B=M.fromAColor(160,c(this.colorAxis,D));m.set(x,p,B)}else m.set(x,p,f.Transparent)}this.image=await He.create(m,De.Png),await O.drawImage(e,this.image,r.left,r.top,r.width,r.height,1,!1)}async renderFixed(e,s){if(!this.data)return;if(!this.image){const r=this.data.length,a=this.data[0].length,u=this.imageSize,m=this.imageSize;(this.pixels===void 0||this.pixels.height!==m||this.pixels.width!==u)&&(this.pixels=new Ge(u,m));const c=gi.getColor,p=this.pixels;for(let x=0;x<m;x++)for(let w=0;w<u;w++){const S=(w-u*.5)/(u*.5)*this.magnitude1,k=-(x-m*.5)/(m*.5)*this.magnitude1;let A=Math.atan2(k,S)/Math.PI*180;const C=Math.sqrt(S*S+k*k);for(;A<0;)A+=360;for(;A>360;)A-=360;const T=(A-this.angle0)/(this.angle1-this.angle0)*r,D=(C-this.magnitude0)/(this.magnitude1-this.magnitude0)*a;if(T>=0&&T<r&&D>=0&&D<a){const B=this.getValue(T,D),I=M.fromAColor(160,c(this.colorAxis,B));p.set(w,x,I)}else p.set(w,x,f.Transparent)}this.image=await He.create(p,De.Png)}if(!this.image)return;const n=tt.transform;let o;if(this.plotModel.plotType!==mt.Polar){const r=n(this,-this.magnitude1,this.magnitude1),a=n(this,this.magnitude1,-this.magnitude1);o=J(r.x,r.y,a.x-r.x,a.y-r.y)}else{const r=n(this,this.magnitude1,90),a=n(this,this.magnitude1,270),u=n(this,this.magnitude1,180),m=n(this,this.magnitude1,0);o=J(u.x,r.y,m.x-u.x,a.y-r.y)}await O.drawImage(e,this.image,o.left,o.top,o.width,o.height,1,!1)}getValue(e,s){if(!this.data)return NaN;if(!this.interpolate){const T=Math.floor(e),D=Math.floor(s);return this.data[T][D]}e-=.5,s-=.5;const n=Math.floor(e),o=Math.floor(s),r=n>0?n:0,a=n+1<this.data.length?n+1:n,u=o>0?o:0,m=o+1<this.data[0].length?o+1:o,c=this.data[r][u],p=this.data[r][m],x=this.data[a][u],w=this.data[a][m],S=e-n,k=s-o,A=c*(1-k)+p*k,C=x*(1-k)+w*k;return A*(1-S)+C*S}getNearestPoint(e,s){}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}updateMaxMin(){super.updateMaxMin();const e=this.getData();this.minValue=zt(e),this.maxValue=qt(e);const s=this.colorAxis;s&&(s.include(this.minValue),s.include(this.maxValue))}getData(){if(!this.data)return[];const e=this.data.length,s=[],n=this.data[0].length;for(let o=0;o<e;o++)for(let r=0;r<n;r++)s.push(this.data[o][r]);return s}}function Mg(){const t=new b({title:"ErrorSeries"}),e=new X({legendPosition:$.BottomRight});t.legends.push(e);const s=new Sg;s.title="Measurements";const n=new Ct().next();let o=0,r=0;for(let a=0;a<20;a++){o+=2+n*10,r+=1+n;const u=1+n*2,m=1+n*2;s.pointsList.push(new yg(o,r,u,m))}return t.series.push(s),t}function kg(){const i=new b({title:"LineSegmentSeries"}),t=new hl;t.title="The first series",t.points.push(d(0,3),d(2,3.2)),t.points.push(d(2,2.7),d(7,2.9)),i.series.push(t);const e=new hl;return e.title="The second series",e.points.push(d(1,-3),d(2,10)),e.points.push(d(0,4.8),d(7,2.3)),e.points.push(d(6,4),d(6,4+1e-8)),i.series.push(e),i}function Ag(){const i=new b({title:"FlagSeries"}),t=new bg;return t.title="Incidents",t.color=f.Red,t.values.push(2,3,5,7,11,13,17,19),i.series.push(t),i}function vg(){const i=new b,t=[[1,0,0],[0,2,0],[0,0,3],[5,5,5]];return i.axes.push(new y({position:g.Left,startPosition:1,endPosition:0})),i.axes.push(new y({position:g.Bottom})),i.series.push(new Cu({matrix:t,showDiagonal:!0})),i}function nn(){const i=new b({title:"Polar heat map",plotMargins:K(40,80,40,40),plotType:mt.Polar,plotAreaBorderThickness:K(0)}),t=[[0,2],[1.5,.2]];return i.axes.push(new me({startAngle:0,endAngle:360,minimum:0,maximum:360,majorStep:30,minorStep:15})),i.axes.push(new Be({minimum:0,maximum:100,majorStep:25,minorStep:5})),i.axes.push(new Yt({position:g.Right,palette:j.rainbow(500),highColor:f.Gray,lowColor:f.Black})),i.series.push(new Tu({data:t,angle0:30,angle1:150,magnitude0:0,magnitude1:80,interpolate:!1})),i}function Rg(){const i=nn();return i.axes[0]=new me({startAngle:360,endAngle:0,minimum:0,maximum:360,majorStep:30,minorStep:15}),i}function Cg(){const i=nn();return i.axes[0]=new me({startAngle:90,endAngle:450,minimum:0,maximum:360,majorStep:30,minorStep:15}),i}function Tg(){const i=nn();return i.axes[0]=new me({startAngle:Math.PI,endAngle:Math.PI+360,minimum:0,maximum:360,majorStep:30,minorStep:15}),i}function Pg(){const i=nn();return i.title="Polar heat map (interpolated)",i.series[0].interpolate=!0,i}function Lg(){const i=nn();return i.title="Polar heat map with fixed size image",i.series[0].imageSize=800,i}function La(){const i=new b({title:"Polar heat map on linear axes"}),t=[[0,2],[1.5,.2]];return i.axes.push(new y({position:g.Bottom,minimum:-100,maximum:100})),i.axes.push(new y({position:g.Left,minimum:0,maximum:100})),i.axes.push(new Yt({position:g.Right,palette:j.rainbow(500),highColor:f.Gray,lowColor:f.Black})),i.series.push(new Tu({data:t,angle0:30,angle1:150,magnitude0:0,magnitude1:80,interpolate:!0})),i}function Dg(){const i=La();return i.title="Polar heat map on linear axes & fixed size image (256x256)",i.series[0].imageSize=256,i}function Ig(){const i=La();return i.title="Polar heat map on linear axes & fixed size image (1000x1000)",i.series[0].imageSize=1e3,i}function Bg(){const i=new Ge(7,7,0);i.set(1,0,1),i.set(5,0,1),i.set(3,1,1),i.set(0,2,1),i.set(6,2,1),i.set(4,3,1),i.set(1,4,1),i.set(5,4,1),i.set(2,5,1),i.set(0,6,1),i.set(4,6,1);for(let o=0;o<7;o++)i.set(o,o,-1);const t=new b({title:"Design structure matrix (DSM)"});t.axes.push(new Yt({position:g.None,palette:oi([f.White,f.LightGreen]),lowColor:f.Black,minimum:0,isAxisVisible:!1}));const e=new Z({position:g.Top});e.labels.push("A","B","C","D","E","F","G"),t.axes.push(e);const s=new Z({position:g.Left,startPosition:1,endPosition:0});s.labels.push("Element A","Element B","Element C","Element D","Element E","Element F","Element G"),t.axes.push(s);const n=new Fg({data:i.toArray(),interpolate:!1,labelStringFormatter:(o,r)=>`${o||""}`,labelFontSize:.25,x0:0,x1:i.width-1,y0:0,y1:i.height-1});return t.series.push(n),t}class Fg extends Qe{constructor(t){super(t)}getLabel(t,e,s){return e===s?this.xAxis.labels[e]:super.getLabel(t,e,s)}}const Ng="Custom series",_g={category:Ng,tags:["Series"],examples:[{title:"ErrorSeries",example:{model:Mg}},{title:"LineSegmentSeries",example:{model:kg}},{title:"FlagSeries",example:{model:Ag}},{title:"MatrixSeries - diagonal matrix",example:{model:vg}},{title:"PolarHeatMap",example:{model:nn}},{title:"PolarHeatMap Reversed Angle Axis",example:{model:Rg}},{title:"PolarHeatMap Rotated CounterClockwise 90",example:{model:Cg}},{title:"PolarHeatMap Rotated CounterClockwise on PI degrees",example:{model:Tg}},{title:"PolarHeatMap (interpolated)",example:{model:Pg}},{title:"PolarHeatMap fixed size image",example:{model:Lg}},{title:"PolarHeatMap on linear axes",example:{model:La}},{title:"PolarHeatMap linear axes, fixed size image (256x256)",example:{model:Dg}},{title:"PolarHeatMap linear axes, fixed size image (1000x1000)",example:{model:Ig}},{title:"Design structure matrix (DSM)",example:{model:Bg}}]},Vg=[_g];function Eg(){const i=new b;i.title="Invisible contour series";const t=new We;return t.isVisible=!1,t.columnCoordinates=oe.createVectorWithStep(-1,1,.05),t.rowCoordinates=oe.createVectorWithStep(-1,1,.05),t.data=oe.evaluate((e,s)=>e+s,t.columnCoordinates,t.rowCoordinates),i.series.push(t),i}function zg(){const i=new b;return i.title="StairStepSeries NullReferenceException",i.series.push(new Oe),i}function Og(){const i=[[10,0,-10],[0,0,0]],t=new b({title:"HeatMapSeries"});t.axes.push(new Yt({position:g.Right,palette:oi([f.Red,f.Green,f.Blue])}));const e=new Qe({coordinateDefinition:Nn.Center,x0:0,x1:3,y0:0,y1:2,data:i,interpolate:!1,labelFontSize:.2});return t.series.push(e),t}function $g(){return Lt.createPeaks(void 0,!0,400)}function Gg(){const i=Lt.createPeaks();i.title="Updating HeatMapSeries",i.subtitle="Click the heat map to change the Maximum of the color axis.";const t=i.axes[0],e=i.series[0];return e.onMouseDown=s=>{t.maximum=isNaN(t.maximum)?10:NaN,i.invalidatePlot(!0)},i}function Hg(){const i=Lt.createPeaks();i.title="Updating HeatMapSeries",i.subtitle="Click the heat map to change the Maximum of the color axis and invoke the Invalidate method on the HeatMapSeries.";const t=i.axes[0],e=i.series[0];return e.onMouseDown=s=>{t.maximum=isNaN(t.maximum)?10:NaN,e.invalidate(),i.invalidatePlot(!0)},i}function Ug(){const i=new b;i.title="Reduced color saturation",i.axes.push(new Z({position:g.Bottom})),i.defaultColors=i.defaultColors.map(e=>M.changeSaturation(e,.5).hex);const t=new Ct;for(let e=0;e<i.defaultColors.length;e++){const s=new H;s.items.push(L(50+t.next()*50)),s.items.push(L(40+t.next()*50)),i.series.push(s)}return i}function Wg(){const i=new b;i.title="Medium intensity colors",i.axes.push(new Z({position:g.Bottom})),i.defaultColors=[M.fromRgb(114,114,114),M.fromRgb(241,89,95),M.fromRgb(121,195,106),M.fromRgb(89,154,211),M.fromRgb(249,166,90),M.fromRgb(158,102,171),M.fromRgb(205,112,88),M.fromRgb(215,127,179)];const t=new Ct;for(let e=0;e<i.defaultColors.length;e++){const s=new H;s.items.push(L(50+t.next()*50)),s.items.push(L(40+t.next()*50)),i.series.push(s)}return i}function Xg(){const i=new b;i.title="Brewer colors (Accent scheme)",i.axes.push(new Z({position:g.Bottom})),i.defaultColors=[M.fromRgb(127,201,127),M.fromRgb(190,174,212),M.fromRgb(253,192,134),M.fromRgb(255,255,153)];const t=new Ct;for(let e=0;e<i.defaultColors.length;e++){const s=new H;s.items.push(L(50+t.next()*50)),s.items.push(L(40+t.next()*50)),i.series.push(s)}return i}function Yg(){const i=new b;i.title="Brewer colors (Paired scheme)",i.axes.push(new Z({position:g.Bottom})),i.defaultColors=[M.fromRgb(166,206,227),M.fromRgb(31,120,180),M.fromRgb(178,223,138),M.fromRgb(51,160,44),M.fromRgb(251,154,153),M.fromRgb(227,26,28)];const t=new Ct;for(let e=0;e<i.defaultColors.length;e++){const s=new H;s.items.push(L(50+t.next()*50)),s.items.push(L(40+t.next()*50)),i.series.push(s)}return i}function jg(){const i=new b;i.title="Same color of LineSeries and axis title & labels";const t=f.IndianRed;return i.axes.push(new y({position:g.Left,title:"Axis 1",titleColor:t,textColor:t})),i.axes.push(new y({position:g.Bottom})),i.series.push(new G({title:"LineSeries 1",color:t,itemsSource:[d(0,0),d(10,3),d(20,2)]})),i}function qg(){const i=new b;return i.title="Custom arrow series",i.plotType=mt.Polar,i.plotAreaBorderColor=f.Undefined,i.axes.push(new me({minimum:0,maximum:360,majorStep:30,minorStep:30,majorGridlineStyle:v.Dash})),i.axes.push(new Be({minimum:0,maximum:5,majorStep:1,minorStep:1,angle:90,majorGridlineStyle:v.Dash})),i.series.push(new ln({endPoint:d(1,40)})),i.series.push(new ln({endPoint:d(2,75)})),i.series.push(new ln({endPoint:d(3,110)})),i.series.push(new ln({endPoint:d(4,140)})),i.series.push(new ln({endPoint:d(5,180)})),i}function Jg(){const i=new b({plotType:mt.Cartesian,plotAreaBorderThickness:K(0)}),t=new X;t.legendSymbolLength=30;const e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],s=Ai(),n=new Nt({position:g.Bottom,tickStyle:rt.None,axislineStyle:v.Solid,axislineColor:M.fromRgb(153,153,153),stringFormatter:(a,u)=>e[a.getMonth()]+s.format(a,"d HH"),intervalType:ut.Hours}),o=new y({position:g.Left,minimum:.001,maximum:3,majorGridlineStyle:v.Solid,tickStyle:rt.None,intervalLength:50});i.axes.push(n),i.axes.push(o);const r=new G({color:M.fromRgb(44,169,173),strokeThickness:1,markerType:V.Circle,markerStroke:f.Blue,markerFill:f.SkyBlue,markerSize:2,dataFieldX:"Date",dataFieldY:"Value",trackerStringFormatter:function(a){return"Date: "+s.format(a.xValue,"DD HH")+`
Value: `+a.yValue}});return r.points.push(d(.1,.7)),r.points.push(d(.6,.9)),r.points.push(d(1,.85)),r.points.push(d(1.4,.95)),r.points.push(d(1.8,1.2)),r.points.push(d(2.2,1.7)),r.points.push(d(2.6,1.7)),r.points.push(d(3,.7)),i.series.push(r),i}class ln extends Vt{constructor(e){super(e);at(this,"defaultColor",f.Undefined);at(this,"startPoint",Ki);at(this,"endPoint",Ki);at(this,"color");at(this,"strokeThickness");this.color=f.Automatic,this.strokeThickness=2,e&&Object.assign(this,e)}getElementName(){return"ArrowSeries549839"}setDefaultValues(){M.isAutomatic(this.color)&&(this.defaultColor=this.plotModel.getDefaultColor())}get actualColor(){return M.getActualColor(this.color,this.defaultColor)}async render(e){const s=this.transform(this.startPoint),n=this.transform(this.endPoint),o=ue(n,s),r=Rn(o.y,-o.x),a=Rt(ze(n,o.times(.2)),r.times(.1)),u=ze(ze(n,o.times(.2)),r.times(.1));await e.drawLineSegments([s,n,n,a,n,u],this.actualColor,this.strokeThickness,this.edgeRenderingMode)}}const Zg="Z0 Discussions",Kg={category:Zg,examples:[{title:"#445576: Invisible contour series",example:{model:Eg}},{title:"#461507: StairStepSeries NullReferenceException",example:{model:zg}},{title:"#501409: Heatmap interpolation color",example:{model:Og}},{title:"#522598: Peaks 400x400",example:{model:$g}},{title:"#474875: Updating HeatMapSeries 1",example:{model:Gg}},{title:"#474875: Updating HeatMapSeries 2",example:{model:Hg}},{title:"#539104: Reduced color saturation",example:{model:Ug}},{title:"#539104: Medium intensity colors",example:{model:Wg}},{title:"#539104: Brewer colors (4)",example:{model:Xg}},{title:"#539104: Brewer colors (6)",example:{model:Yg}},{title:"#542701: Same color of LineSeries and axis title & labels",example:{model:jg}},{title:"#549839: Polar plot with custom arrow series",example:{model:qg}},{title:"MarkerType = Circle problem",example:{model:Jg}}]},Qg=[Kg];function t0(){const i=new b({title:"Filtering NaN points"});i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left}));const t=new G;return t.points.push(d(NaN,NaN)),t.points.push(d(1,0)),t.points.push(d(2,10)),t.points.push(d(NaN,20)),t.points.push(d(3,10)),t.points.push(d(4,0)),t.points.push(d(4.5,NaN)),t.points.push(d(5,0)),t.points.push(d(7,7)),t.points.push(d(NaN,NaN)),t.points.push(d(NaN,NaN)),t.points.push(d(7,0)),t.points.push(d(NaN,NaN)),i.series.push(t),i}function e0(){const i=new b({title:"Filtering NaN points in an AreaSeries"});i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left}));const t=new wi;return t.points.push(d(1,0)),t.points.push(d(2,10)),t.points.push(d(3,10)),t.points.push(d(4,0)),t.points.push(d(5,0)),t.points.push(d(6,7)),t.points.push(d(7,7)),t.points.push(d(NaN,NaN)),t.points.push(d(NaN,NaN)),t.points.push(d(8,0)),t.points.push(d(9,0)),t.points.push(d(NaN,NaN)),t.points2.push(d(1,10)),t.points2.push(d(2,110)),t.points2.push(d(3,110)),t.points2.push(d(4,10)),t.points2.push(d(5,10)),t.points2.push(d(6,17)),t.points2.push(d(7,17)),t.points2.push(d(NaN,NaN)),t.points2.push(d(NaN,NaN)),t.points2.push(d(8,10)),t.points2.push(d(9,10)),t.points2.push(d(NaN,NaN)),i.series.push(t),i}function i0(){const i=new b({title:"Filtering undefined points"});i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left}));const t=new G;return t.points.push(ke),t.points.push(d(1,0)),t.points.push(d(2,10)),t.points.push(ke),t.points.push(d(3,10)),t.points.push(d(4,0)),t.points.push(ke),t.points.push(d(5,0)),t.points.push(d(7,7)),t.points.push(ke),t.points.push(ke),t.points.push(d(7,0)),t.points.push(ke),i.series.push(t),i}function s0(){const i=new b({title:"Filtering invalid points on logarithmic axes"});i.axes.push(new Mt({position:g.Bottom})),i.axes.push(new Mt({position:g.Left}));const t=new G;return t.points.push(d(NaN,NaN)),t.points.push(d(1,1)),t.points.push(d(10,10)),t.points.push(d(0,20)),t.points.push(d(100,2)),t.points.push(d(1e3,12)),t.points.push(d(4.5,0)),t.points.push(d(1e4,4)),t.points.push(d(1e5,14)),t.points.push(d(NaN,NaN)),t.points.push(d(1e6,5)),t.points.push(d(NaN,NaN)),i.series.push(t),i}function n0(){const i=new b({title:"Filtering points outside (-1,1)"});i.axes.push(new y({position:g.Bottom,filterMinValue:-1,filterMaxValue:1})),i.axes.push(new y({position:g.Left,filterMinValue:-1,filterMaxValue:1}));const t=new G;for(let e=0;e<200;e+=.01)t.points.push(d(.01*e*Math.sin(e),.01*e*Math.cos(e)));return i.series.push(t),i}const o0="Filtering data points",r0={category:o0,examples:[{title:"Filtering NaN points",example:{model:t0}},{title:"Filtering NaN points with AreaSeries",example:{model:e0}},{title:"Filtering undefined points",example:{model:i0}},{title:"Filtering invalid points (log axis)",example:{model:s0}},{title:"Filtering points outside (-1,1)",example:{model:n0}}]},ts=1e5;function a0(){const i=[];for(let e=0;e<ts;e++){const s=e/(ts-1);i.push(d(s,ir(s)))}const t=new b({title:"Using IDataPoint"});return t.series.push(new G({itemsSource:i})),t}function l0(){const i=[];for(let e=0;e<ts;e++){const s=e/(ts-1);i.push(new h0(s,ir(s)))}const t=new b({title:"Items implementing IDataPointProvider"});return t.series.push(new G({itemsSource:i})),t}function u0(){const i=[];for(let e=0;e<ts;e++){const s=e/(ts-1);i.push(new Pu(s,ir(s)))}const t=new b({title:"Using Mapping property"});return t.series.push(new G({itemsSource:i,mapping:e=>d(e.abscissa,e.ordinate)})),t}function m0(){const i=[];for(let e=0;e<ts;e++){const s=e/(ts-1);i.push(new Pu(s,ir(s)))}const t=new b({title:"Using reflection (slow)"});return t.series.push(new G({itemsSource:i,dataFieldX:"abscissa",dataFieldY:"ordinate"})),t}class h0{constructor(t,e){this.abscissa=t,this.ordinate=e}getDataPoint(){return d(this.abscissa,this.ordinate)}}class Pu{constructor(t,e){this.abscissa=t,this.ordinate=e}}function ir(i){return Math.sin(3/i)*Math.sin(5/(1-i))}const c0="ItemsSource",d0={category:c0,examples:[{title:"List<DataPoint>",example:{model:a0}},{title:"Items implementing IDataPointProvider",example:{model:l0}},{title:"Mapping property",example:{model:u0}},{title:"Using reflection (slow)",example:{model:m0}}]},p0=()=>{const i=ae(),t=new X({legendPlacement:gt.Inside,legendPosition:$.RightTop,legendBackground:M.fromAColor(200,f.White),legendBorder:f.Black});return i.legends.push(t),i},f0=()=>{const i=ae(),t=new X({legendPlacement:gt.Outside,legendPosition:$.RightTop,legendBackground:M.fromAColor(200,f.White),legendBorder:f.Black});return i.legends.push(t),i},g0=()=>{const i=ae(4),t=new X({legendPlacement:gt.Outside,legendPosition:$.BottomLeft,legendOrientation:Pt.Horizontal,legendBackground:M.fromAColor(200,f.White),legendBorder:f.Black});return i.legends.push(t),i},x0=()=>{const i=ae(4),t=new X({legendPlacement:gt.Outside,legendPosition:$.TopLeft,legendOrientation:Pt.Vertical,legendBackground:M.fromAColor(200,f.White),legendBorder:f.Black});return i.legends.push(t),i},w0=()=>{const i=ae(),t=new X;return i.legends.push(t),i},y0=()=>{const i=ae(),t=new X({legendItemSpacing:100,legendPosition:$.BottomLeft,legendOrientation:Pt.Horizontal,legendBackground:M.fromAColor(200,f.White),legendBorder:f.Black});return i.legends.push(t),i},S0=()=>{const i=ae(),t=new X({legendLineSpacing:30,legendPosition:$.TopLeft,legendOrientation:Pt.Vertical,legendBackground:M.fromAColor(200,f.White),legendBorder:f.Black});return i.legends.push(t),i},b0=()=>{const i=ae(),t=new X({legendLineSpacing:30,legendPosition:$.TopLeft,legendOrientation:Pt.Horizontal,legendBackground:M.fromAColor(200,f.White),legendBorder:f.Black});return i.legends.push(t),i},M0=()=>{const i=ae(60),t=new X({legendColumnSpacing:100,legendPosition:$.TopRight,legendOrientation:Pt.Vertical,legendBackground:M.fromAColor(200,f.White),legendBorder:f.Black});return i.legends.push(t),i},k0=()=>{const i=ae(),t=new X({legendBackground:M.fromAColor(200,f.White),legendBorder:f.Black});return i.legends.push(t),i.isLegendVisible=!1,i},A0=()=>{const i=ae();i.defaultColors=[f.Black,f.Gray];const t=new X({legendSymbolLength:32,legendBackground:M.fromAColor(200,f.White),legendBorder:f.Black});return i.legends.push(t),i},Da=()=>{const i=ae(1);i.series[0].title="1234567890 abcdefghijklmnopqrstuvwxyzæøå ABCDEFGHIJKLMNOPQRSTUVWXYZÆØÅ 1234567890 abcdefghijklmnopqrstuvwxyzæøå ABCDEFGHIJKLMNOPQRSTUVWXYZÆØÅ";const t=new X({legendPlacement:gt.Inside,legendPosition:$.RightTop,legendBackground:M.fromAColor(200,f.White),legendBorder:f.Black});return i.legends.push(t),i},v0=()=>{const i=Da();return i.legends[0].legendPlacement=gt.Outside,i.legends[0].legendPosition=$.RightTop,i.legends[0].legendMaxWidth=200,i},R0=()=>{const i=Da();return i.legends[0].legendPlacement=gt.Outside,i.legends[0].legendPosition=$.TopRight,i};function ae(i=20){const t=new b;t.title="LineSeries";for(let e=1;e<=i;e++){const s=new G;s.title="Series "+e,t.series.push(s);for(let n=0;n<2*Math.PI;n+=.1)s.points.push(d(n,Math.sin(n*e)/e+e))}return t}const C0=()=>{const i=ae(),t=new X({legendPlacement:gt.Outside,legendPosition:$.BottomCenter,legendOrientation:Pt.Vertical,legendMaxHeight:75,legendBackground:M.fromAColor(200,f.White),legendBorder:f.Black});return i.legends.push(t),i},T0=()=>{const i=ae(),t=new X({legendFontSize:NaN,legendTitle:"Title in DefaultFontSize",legendBackground:M.fromAColor(200,f.White),legendBorder:f.Black});return i.legends.push(t),i.defaultFontSize=20,i},P0=()=>{const i=ae(21);for(let e=0;e<7;e++)i.series[e].seriesGroupName="group 1";for(let e=7;e<14;e++)i.series[e].seriesGroupName="group 2";for(let e=14;e<21;e++)i.series[e].seriesGroupName="group 3";const t=new X({legendFontSize:NaN,legendTitle:"Legend with groups of Series",legendBackground:M.fromAColor(200,f.White),legendBorder:f.Black,groupNameFont:"Segoe UI Black",legendPosition:$.TopLeft,legendOrientation:Pt.Horizontal});return i.legends.push(t),i},L0=()=>{const i=ae(21);for(let e=0;e<7;e++)i.series[e].seriesGroupName="group 1";for(let e=7;e<14;e++)i.series[e].seriesGroupName="group 2";for(let e=14;e<21;e++)i.series[e].seriesGroupName="group 3";const t=new X({legendFontSize:NaN,legendTitle:"Legend with groups of Series",legendBackground:M.fromAColor(200,f.White),legendBorder:f.Black});return i.legends.push(t),i},D0=()=>{const i=ae(21);for(let e=0;e<7;e++)i.series[e].seriesGroupName="group 1";for(let e=7;e<14;e++)i.series[e].seriesGroupName="group 2";for(let e=14;e<21;e++)i.series[e].seriesGroupName="group 3";const t=new X({legendFontSize:NaN,legendTitle:"Legend with groups of Series",legendBackground:M.fromAColor(200,f.White),legendBorder:f.Black,legendMaxHeight:275});return i.legends.push(t),i},I0=()=>{const i=ae(21);for(let s=0;s<7;s++)i.series[s].seriesGroupName="group 1",i.series[s].legendKey="Legend 1";for(let s=7;s<14;s++)i.series[s].seriesGroupName="group 2",i.series[s].legendKey="Legend 1";for(let s=14;s<21;s++)i.series[s].seriesGroupName="group 3",i.series[s].legendKey="Legend 2";const t=new X({key:"Legend 1",legendFontSize:NaN,legendTitle:"Legend 1 Series",legendPlacement:gt.Inside,legendBackground:M.fromAColor(200,f.White),legendBorder:f.Black}),e=new X({key:"Legend 2",legendFontSize:NaN,legendTitle:"Legend 2 Series",legendPlacement:gt.Outside,legendBackground:M.fromAColor(200,f.White),legendBorder:f.Black});return i.legends.push(t),i.legends.push(e),i},B0=()=>{const i=ae(21),t=new X({legendPlacement:gt.Outside,legendPosition:$.TopCenter,legendOrientation:Pt.Horizontal,allowUseFullExtent:!0}),e=new X({legendPlacement:gt.Outside,legendPosition:$.BottomCenter,legendOrientation:Pt.Horizontal,allowUseFullExtent:!0});return i.plotMargins=K(50),i.legends.push(t),i.legends.push(e),i.invalidatePlot(!0),i},F0=()=>{const i=ae(21),t=new X({legendPlacement:gt.Outside,legendPosition:$.LeftTop,legendOrientation:Pt.Vertical,allowUseFullExtent:!0}),e=new X({legendPlacement:gt.Outside,legendPosition:$.RightTop,legendOrientation:Pt.Vertical,allowUseFullExtent:!0});return i.legends.push(t),i.legends.push(e),i},N0=()=>Lu(!0),_0=()=>Lu(!1),Lu=i=>{const t=ae(),e=new X({showInvisibleSeries:i});t.legends.push(e);for(let s=0;s<t.series.length;s+=2)t.series[s].isVisible=!1;return t.invalidatePlot(!1),t},V0="Legends",E0={category:V0,tags:["Legends"],examples:[{title:"Legend at right top inside",example:{model:p0}},{title:"Legend at right top outside",example:{model:f0}},{title:"Legend at BottomLeft outside horizontal",example:{model:g0}},{title:"Legend at TopLeft outside vertical",example:{model:x0}},{title:"Legend at default position",example:{model:w0}},{title:"LegendItemSpacing (only for horizontal orientation)",example:{model:y0}},{title:"LegendLineSpacing (vertical legend orientation)",example:{model:S0}},{title:"LegendLineSpacing (horizontal legend orientation)",example:{model:b0}},{title:"LegendColumnSpacing (only for vertical orientation)",example:{model:M0}},{title:"Hidden Legend",example:{model:k0}},{title:"Grayscale colors",example:{model:A0}},{title:"Clipped legends",example:{model:Da}},{title:"Clipped legends RightTop outside with MaxWidth",example:{model:v0}},{title:"Clipped legends TopRight outside",example:{model:R0}},{title:"LegendMaxHeight (vertical legend orientation)",example:{model:C0}},{title:"Legend with DefaultFontSize",example:{model:T0}},{title:"Legend with grouped Series Horizontal",example:{model:P0}},{title:"Legend with grouped Series",example:{model:L0}},{title:"Legend with grouped Series and MaxHeight",example:{model:D0}},{title:"Multiple Legends with grouped Series",example:{model:I0}},{title:"Full width legend",example:{model:B0}},{title:"Full height legend",example:{model:F0}},{title:"Legend showing invisible series",example:{model:N0}},{title:"Legend not showing invisible series",example:{model:_0}}]};function z0(){const i=new b({title:"Mouse events",subtitle:"Left click and drag"}),t=new y({position:g.Left,minimum:-1,maximum:1}),e=new y({position:g.Bottom,minimum:-1,maximum:1});i.axes.push(t),i.axes.push(e);let s;return i.mouseDown=(n,o)=>{o.changedButton===wt.Left&&(s=new G({title:"LineSeries"+(i.series.length+1),markerType:V.None,strokeThickness:2}),s.points.push(e.inverseTransformPoint(o.position.x,o.position.y,t)),i.series.push(s),i.invalidatePlot(!1),o.handled=!0)},i.mouseMove=(n,o)=>{s!==void 0&&(s.points.push(e.inverseTransformPoint(o.position.x,o.position.y,t)),i.invalidatePlot(!1),o.handled=!0)},i.mouseUp=(n,o)=>{s!==void 0&&(s=void 0,o.handled=!0)},i}function O0(){const i=new b({title:"MouseDown HitTestResult",subtitle:"Reports the index of the nearest point."}),t=new G;t.points.push(d(0,10)),t.points.push(d(10,40)),t.points.push(d(40,20)),t.points.push(d(60,30)),i.series.push(t),t.mouseDown=(s,n)=>{i.subtitle="Index of nearest point in LineSeries: "+Math.round(n.hitTestResult.index||0),i.invalidatePlot(!1)};const e=new Et;return e.points.push({x:0,y:15}),e.points.push({x:10,y:45}),e.points.push({x:40,y:25}),e.points.push({x:60,y:35}),i.series.push(e),e.mouseDown=(s,n)=>{i.subtitle="Index of nearest point in ScatterSeries: "+Math.round(n.hitTestResult.index||0),i.invalidatePlot(!1)},i}function $0(){const i=new b({title:"MouseDown",subtitle:"Left click to edit or add points."}),t=new G({title:"LineSeries1",markerType:V.Circle,markerSize:6,strokeThickness:1.5});t.points.push(d(0,10)),t.points.push(d(10,40)),t.points.push(d(40,20)),t.points.push(d(60,30)),i.series.push(t);let e=-1;return t.mouseDown=(s,n)=>{if(n.changedButton===wt.Left){const o=Math.round(n.hitTestResult.index),r=t.transform(t.points[o]);if(ue(r,n.position).length<10)e=o;else{const a=n.hitTestResult.index+1;t.points.splice(a,0,t.inverseTransform(n.position)),e=a}t.lineStyle=v.DashDot,i.invalidatePlot(!1),n.handled=!0}},t.mouseMove=(s,n)=>{e>=0&&(t.points[e]=t.inverseTransform(n.position),i.invalidatePlot(!1),n.handled=!0)},t.mouseUp=(s,n)=>{e=-1,t.lineStyle=v.Solid,i.invalidatePlot(!1),n.handled=!0},i.mouseDown=(s,n)=>{n.changedButton===wt.Left&&(t.points.push(t.inverseTransform(n.position)),e=t.points.length-1,i.invalidatePlot(!1),n.handled=!0)},i}function G0(){const i=new b({title:"Add arrow annotations",subtitle:"Press and drag the left mouse button"}),t=new y({position:g.Bottom}),e=new y({position:g.Left});i.axes.push(t),i.axes.push(e),i.series.push(new nt({f:n=>Math.sin(n/4)*Math.acos(Math.sin(n)),x0:0,x1:Math.PI*8,n:2e3,title:"sin(x/4)*acos(sin(x))"}));let s=null;return i.mouseDown=(n,o)=>{o.changedButton===wt.Left&&(s=new As,s.startPoint=s.endPoint=t.inverseTransformPoint(o.position.x,o.position.y,e),i.annotations.push(s),o.handled=!0)},i.mouseMove=(n,o)=>{s&&(s.endPoint=t.inverseTransformPoint(o.position.x,o.position.y,e),s.text=`Y = ${s.endPoint.y.toFixed(3)}`,i.invalidatePlot(!1),o.handled=!0)},i.mouseUp=(n,o)=>{s&&(s=null,o.handled=!0)},i}function H0(){const i=new b({title:"LineAnnotation",subtitle:"Click and drag the annotation line."});i.axes.push(new y({position:g.Bottom,minimum:-20,maximum:80})),i.axes.push(new y({position:g.Left,minimum:-10,maximum:10}));const t=new _t({type:ve.Vertical,x:4});return t.mouseDown=(e,s)=>{s.changedButton===wt.Left&&(t.strokeThickness*=5,i.invalidatePlot(!1),s.handled=!0)},t.mouseMove=(e,s)=>{t.x=t.inverseTransform(s.position).x,i.invalidatePlot(!1),s.handled=!0},t.mouseUp=(e,s)=>{t.strokeThickness/=5,i.invalidatePlot(!1),s.handled=!0},i.annotations.push(t),i}function U0(){const i=new b({title:"ArrowAnnotation",subtitle:"Click and drag the arrow."});i.axes.push(new y({position:g.Bottom,minimum:-40,maximum:60})),i.axes.push(new y({position:g.Left,minimum:-10,maximum:10}));const t=new As({startPoint:d(8,4),endPoint:d(0,0),text:"Move me!"});let e=ke,s=!1,n=!1,o=f.White;return t.mouseDown=(r,a)=>{a.changedButton===wt.Left&&(e=t.inverseTransform(a.position),s=a.hitTestResult.index!==2,n=a.hitTestResult.index!==1,o=t.color,t.color=f.Red,i.invalidatePlot(!1),a.handled=!0)},t.mouseMove=(r,a)=>{const u=t.inverseTransform(a.position),m=u.x-e.x,c=u.y-e.y;s&&(t.startPoint=d(t.startPoint.x+m,t.startPoint.y+c)),n&&(t.endPoint=d(t.endPoint.x+m,t.endPoint.y+c)),e=u,i.invalidatePlot(!1),a.handled=!0},t.mouseUp=(r,a)=>{t.color=o},i.annotations.push(t),i}function W0(){const i=new b({title:"PolygonAnnotation",subtitle:"Click the polygon"});i.axes.push(new y({position:g.Left,minimum:-20,maximum:20})),i.axes.push(new y({position:g.Bottom,minimum:-20,maximum:20}));const t=new fi({text:"Polygon 1"});t.points.push(d(4,-2),d(8,-4),d(17,7),d(5,8),d(2,5));let e=1;return t.mouseDown=(s,n)=>{n.changedButton===wt.Left&&(t.text="Hit # "+e++,i.invalidatePlot(!1),n.handled=!0)},i.annotations.push(t),i}function X0(){const i=new b({title:"TextAnnotation",subtitle:"Click the text"});i.axes.push(new y({position:g.Bottom,minimum:-20,maximum:20})),i.axes.push(new y({position:g.Left,minimum:-10,maximum:10}));const t=new ye({textPosition:d(4,-2),text:"Click here"});return t.mouseDown=(e,s)=>{console.log("mouseDown"),s.changedButton===wt.Left&&(t.background=M.isUndefined(t.background)?f.LightGreen:f.Undefined,i.invalidatePlot(!1),s.handled=!0)},i.annotations.push(t),i}async function Y0(){const i=new b({title:"ImageAnnotation",subtitle:"Click the image"});i.axes.push(new y({position:g.Bottom,minimum:-20,maximum:20})),i.axes.push(new y({position:g.Left,minimum:-10,maximum:10}));const t=window.oxyPlotImg;if(!t)throw new Error("window.oxyPlotImg not set");const e=await Qr().load(t),s=new Ve({imageSource:e,x:lt(4,W.Data),y:lt(2,W.Data),horizontalAlignment:F.Right});return i.annotations.push(s),s.mouseDown=(n,o)=>{o.changedButton===wt.Left&&(s.horizontalAlignment=s.horizontalAlignment===F.Right?F.Left:F.Right,i.invalidatePlot(!1),o.handled=!0)},i}function j0(){const i=new b({title:"MouseDown",subtitle:"Left click to add series."}),t=new X({legendSymbolLength:40});return i.legends.push(t),i.mouseDown=(e,s)=>{if(s.changedButton===wt.Left){const n=i.series.length+1;i.series.push(new nt({f:o=>Math.sin(n*o),x0:0,x1:10,n:1e3})),i.invalidatePlot(!0),s.handled=!0}},i}function q0(){const i=new b({title:"Select range",subtitle:"Left click and drag to select a range."});i.series.push(new nt({f:Math.cos,x0:0,x1:40,dx:.1}));const t=new ee({fill:M.fromAColor(120,f.SkyBlue),minimumX:0,maximumX:0});i.annotations.push(t);let e=Number.NaN;return i.mouseDown=(s,n)=>{n.changedButton===wt.Left&&(e=t.inverseTransform(n.position).x,t.minimumX=e,t.maximumX=e,i.invalidatePlot(!0),n.handled=!0)},i.mouseMove=(s,n)=>{if(!Number.isNaN(e)){const o=t.inverseTransform(n.position).x;t.minimumX=Math.min(o,e),t.maximumX=Math.max(o,e),t.text=`∫ cos(x) dx =  ${Math.sin(t.maximumX)-Bt(Math.sin(t.minimumX),2)}`,i.subtitle=`Integrating from ${t.minimumX.toFixed(2)} to ${t.maximumX.toFixed(2)}`,i.invalidatePlot(!0),n.handled=!0}},i.mouseUp=(s,n)=>{e=Number.NaN},i}function J0(){const i=new b({title:"Hover"});let t=null;return i.mouseEnter=(e,s)=>{i.subtitle="The mouse entered",t=new G,i.series.push(t),i.invalidatePlot(!1),s.handled=!0},i.mouseMove=(e,s)=>{t&&t.xAxis&&(t.points.push(t.inverseTransform(s.position)),i.invalidatePlot(!1))},i.mouseLeave=(e,s)=>{i.subtitle="The mouse left",i.invalidatePlot(!1),s.handled=!0},i}function Z0(){const i=new b({title:"Touch"}),t=new G;return i.series.push(t),i.touchStarted=(e,s)=>{i.subtitle="The touch gesture started",i.invalidatePlot(!1),s.handled=!0},i.touchDelta=(e,s)=>{t.points.push(t.inverseTransform(s.position)),i.invalidatePlot(!1)},i.touchCompleted=(e,s)=>{i.subtitle="The touch gesture completed",i.invalidatePlot(!1),s.handled=!0},i}function K0(){const i=new b({title:"Touch on a LineSeries"}),t=new G;return t.points.push(d(0,0)),t.points.push(d(10,10)),i.series.push(t),t.touchStarted=(e,s)=>{i.subtitle="The touch gesture started on the LineSeries",i.invalidatePlot(!1),s.handled=!0},t.touchDelta=(e,s)=>{t.points.push(t.inverseTransform(s.position)),i.invalidatePlot(!1)},t.touchCompleted=(e,s)=>{i.subtitle="The touch gesture completed",i.invalidatePlot(!1),s.handled=!0},i}function Q0(){const i=new b({title:"RectangleAnnotation click"});i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left}));const t=new ee({minimumX:10,maximumX:60,minimumY:10,maximumY:20});i.annotations.push(t);let e=0;return t.mouseDown=(s,n)=>{t.text="Clicked "+ ++e+" times.",i.invalidatePlot(!1)},i}function tx(){const i=new b({title:"Clicking on an annotation",subtitle:"Click on the rectangles"});i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left}));const t=new ee({fill:f.Green,text:"RectangleAnnotation 1",minimumX:25,maximumX:75,minimumY:20,maximumY:40});i.annotations.push(t);const e=new ee({fill:f.SkyBlue,text:"RectangleAnnotation 2",minimumX:25,maximumX:75,minimumY:60,maximumY:80});i.annotations.push(e);const s=(n,o)=>{i.subtitle="You clicked "+n.text,i.invalidatePlot(!1)};return t.mouseDown=s,e.mouseDown=s,i}const ex="Mouse Events",ix={category:ex,examples:[{title:"PlotModel mouse events",example:{model:z0}},{title:"MouseDown event and HitTestResult",example:{model:O0}},{title:"LineSeries and PlotModel MouseDown event",example:{model:$0}},{title:"Add arrow annotations",example:{model:G0}},{title:"LineAnnotation",example:{model:H0}},{title:"ArrowAnnotation",example:{model:U0}},{title:"PolygonAnnotation",example:{model:W0}},{title:"TextAnnotation",example:{model:X0}},{title:"ImageAnnotation",example:{model:Y0}},{title:"Add Series",example:{model:j0}},{title:"Select range",example:{model:q0}},{title:"Hover",example:{model:J0}},{title:"Touch",example:{model:Z0}},{title:"Touch on a LineSeries",example:{model:K0}},{title:"RectangleAnnotation click",example:{model:Q0}},{title:"Clicking on an annotation",example:{model:tx}}]};function sx(){const i=new b({title:"LineSeries, 1M points"}),t=new G;return ui(t.points,1e6),i.series.push(t),i}function nx(){const i=new b({title:"LineSeries, 1M points"}),t=new G({edgeRenderingMode:U.PreferSpeed});return ui(t.points,1e6),i.series.push(t),i}function ox(){const i=new b({title:"LineSeries, 100k points"}),t=new G;return ui(t.points,1e5),i.series.push(t),i}function rx(){const i=new b({title:"LineSeries, 100k points",subtitle:"LineStyle = Dash"}),t=new G({lineStyle:v.Dash});return ui(t.points,1e5),i.series.push(t),i}function ax(){const i=new b({title:"LineSeries, 100k points",subtitle:"MarkerType = Square"}),t=new G({markerType:V.Square});return ui(t.points,1e5),i.series.push(t),i}function lx(){const i=new b({title:"LineSeries, 100k points, markers, lower resolution",subtitle:"MarkerType = Square, MarkerResolution = 3"}),t=new G({markerType:V.Square,markerResolution:3});return ui(t.points,1e5),i.series.push(t),i}function ux(){const i=new b({title:"LineSeries, 100k points",subtitle:"LineJoin = Round"}),t=new G({lineJoin:st.Round});return ui(t.points,1e5),i.series.push(t),i}function mx(){const i=new b({title:"LineSeries, 100k points by ItemsSource set to a List<DataPoint>"}),t=new G,e=[];return ui(e,1e5),t.itemsSource=e,i.series.push(t),i}function hx(){const i=new b({title:"LineSeries, 100k points by ItemsSource and Mapping",subtitle:"Using the Mapping function"}),t=new G,e=[];ui(e,1e5);const s=e.map(n=>J(n.x,n.y,0,0));return t.itemsSource=s,t.mapping=n=>d(n.left,n.top),i.series.push(t),i}function cx(){const i=new b({title:"LineSeries, 100k points, ItemsSource with reflection",subtitle:"DataFieldX and DataFieldY"}),t=new G,e=[];ui(e,1e5);const s=e.map(n=>J(n.x,n.y,0,0));return t.itemsSource=s,t.dataFieldX="left",t.dataFieldY="top",i.series.push(t),i}function dx(){const i=new b({title:"LineSeries, 100k points (thick)",subtitle:"StrokeThickness = 10"}),t=new G({strokeThickness:10});return ui(t.points,1e5),i.series.push(t),i}function px(){const i=new b({title:"LineSeries, 3k points, miter line joins",subtitle:"LineJoin = Miter"}),t=new G({lineJoin:st.Miter,strokeThickness:8});for(let e=0;e<3e3;e++)t.points.push(d(e,e%2));return i.series.push(t),i}function fx(){const i=new b({title:"LineSeries, 3k points, round line joins",subtitle:"LineJoin = Round"}),t=new G({lineJoin:st.Round,strokeThickness:8});for(let e=0;e<3e3;e++)t.points.push(d(e,e%2));return i.series.push(t),i}function gx(){const i=new b({title:"LineSeries, 3k points, bevel line joins",subtitle:"LineJoin = Bevel"}),t=new G({lineJoin:st.Bevel,strokeThickness:8});for(let e=0;e<3e3;e++)t.points.push(d(e,e%2));return i.series.push(t),i}function xx(){const i=new b({title:"ScatterSeries (squares)"}),t=new Et;return on(t.points,2e3),i.series.push(t),i}function wx(){const i=new b({title:"ScatterSeries (squares with outline)",subtitle:"MarkerStroke = Black"}),t=new Et({markerStroke:f.Black});return on(t.points,2e3),i.series.push(t),i}function yx(){const i=new b({title:"ScatterSeries (squares without fill color)",subtitle:"MarkerFill = Transparent, MarkerStroke = Black"}),t=new Et({markerFill:f.Transparent,markerStroke:f.Black});return on(t.points,2e3),i.series.push(t),i}function Sx(){const i=new b({title:"ScatterSeries (by ItemsSource)",subtitle:"DataFieldX = 'X', DataFieldY = 'Y'"});return i.series.push(new Et({itemsSource:Dx(2e3),dataFieldX:"X",dataFieldY:"Y"})),i}function bx(){const i=new b({title:"ScatterSeries (circles)",subtitle:"MarkerType = Circle"}),t=new Et({markerType:V.Circle});return on(t.points,2e3),i.series.push(t),i}function Mx(){const i=new b({title:"ScatterSeries (circles with outline)",subtitle:"MarkerType = Circle, MarkerStroke = Black"}),t=new Et({markerType:V.Circle,markerStroke:f.Black});return on(t.points,2e3),i.series.push(t),i}function kx(){const i=new b({title:"ScatterSeries (cross)",subtitle:"MarkerType = Cross"}),t=new Et({markerType:V.Cross,markerFill:f.Undefined,markerStroke:f.Black});return on(t.points,2e3),i.series.push(t),i}function Ax(){const i=new b({title:"LinearAxis (no gridlines)"});return i.axes.push(new y({position:g.Left,minimum:0,maximum:100,majorStep:1,minorStep:1})),i.axes.push(new y({position:g.Bottom,minimum:0,maximum:100,majorStep:1,minorStep:1})),i}function vx(){const i=new b({title:"LinearAxis (solid gridlines)"});return i.axes.push(new y({position:g.Left,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:v.Solid})),i.axes.push(new y({position:g.Bottom,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:v.Solid})),i}function Rx(){const i=new b({title:"LinearAxis (dashed gridlines)"});return i.axes.push(new y({position:g.Left,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:v.Dash})),i.axes.push(new y({position:g.Bottom,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:v.Dash})),i}function Cx(){const i=new b({title:"LinearAxis (dotted gridlines)"});return i.axes.push(new y({position:g.Left,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:v.Dot})),i.axes.push(new y({position:g.Bottom,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:v.Dot})),i}function Tx(){return Ia(1e4)}function Px(){return Ia(5e4)}function Lx(){return Ia(1e5)}function Ia(i){const t=new b({title:"int overflow",subtitle:`n = ${i}`}),e=new G;let s=0;for(let n=0;n<i;n++)e.points.push(d(n,s+=n*n));return t.series.push(e),t}function Dx(i){const t=[];return ui(t,i),t}function ui(i,t){for(let e=0;e<t;e++){const s=Math.PI*10*e/(t-1);i.push(d(s*Math.cos(s),s*Math.sin(s)))}}function on(i,t){for(let e=0;e<t;e++){const s=Math.PI*10*e/(t-1);i.push({x:s*Math.cos(s),y:s*Math.sin(s)})}}const Ix="Performance",Bx={category:Ix,examples:[{title:"LineSeries, 1M points",example:{model:sx}},{title:"LineSeries, 1M points, EdgeRenderingMode==PreferSpeed",example:{model:nx}},{title:"LineSeries, 100k points",example:{model:ox}},{title:"LineSeries, 100k points (dashed line)",example:{model:rx}},{title:"LineSeries, 100k points, markers",example:{model:ax}},{title:"LineSeries, 100k points, markers, lower resolution",example:{model:lx}},{title:"LineSeries, 100k points, round line joins",example:{model:ux}},{title:"LineSeries, 100k points by ItemsSource set to a List<DataPoint>",example:{model:mx}},{title:"LineSeries, 100k points by ItemsSource and Mapping",example:{model:hx}},{title:"LineSeries, 100k points by ItemsSource and reflection",example:{model:cx}},{title:"LineSeries, 100k points (thick)",example:{model:dx}},{title:"LineSeries, 3k points, miter line joins",example:{model:px}},{title:"LineSeries, 3k points, round line joins",example:{model:fx}},{title:"LineSeries, 3k points, bevel line joins",example:{model:gx}},{title:"ScatterSeries (squares)",example:{model:xx}},{title:"ScatterSeries (squares with outline)",example:{model:wx}},{title:"ScatterSeries (squares without fill color)",example:{model:yx}},{title:"ScatterSeries by ItemsSource and reflection",example:{model:Sx}},{title:"ScatterSeries (circles)",example:{model:bx}},{title:"ScatterSeries (circles with outline)",example:{model:Mx}},{title:"ScatterSeries (cross)",example:{model:kx}},{title:"LinearAxis (no gridlines)",example:{model:Ax}},{title:"LinearAxis (solid gridlines)",example:{model:vx}},{title:"LinearAxis (dashed gridlines)",example:{model:Rx}},{title:"LinearAxis (dotted gridlines)",example:{model:Cx}},{title:"int overflow (10k)",example:{model:Tx}},{title:"int overflow (50k)",example:{model:Px}},{title:"int overflow (100k)",example:{model:Lx}}]};function Fx(){const i=new b({title:"Basic Controller example",subtitle:"Panning with left mouse button"});i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left}));const t=new as;return t.unbindAll(),ft.bindMouseDown(t,wt.Left,q.panAt),{model:()=>i,controller:()=>t}}function Nx(){const i=new b({title:"Show tracker without clicking"});i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left})),i.series.push(nt.fromFxFyN(e=>Math.cos(e)*5+Math.cos(e*50),e=>Math.sin(e)*5+Math.sin(e*50),0,Math.PI*2,2e4));const t=new as;return ft.bindMouseEnter(t,q.hoverPointsOnlyTrack),{model:()=>i,controller:()=>t}}function _x(){const i=new b({title:"Mouse handling example"}),t=new Et;i.series.push(t);const e=new kt((n,o,r)=>{r.handled=!0;const a=t.inverseTransform(r.position);t.points.push({x:a.x,y:a.y}),i.invalidatePlot(!0)}),s=new as;return ft.bindMouseDown(s,wt.Left,e),{model:()=>i,controller:()=>s}}function Vx(){const i=new b({title:"Clicking on an annotation",subtitle:"Click on the rectangles"});i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left}));const t=new ee({fill:f.Green,text:"RectangleAnnotation 1",minimumX:25,maximumX:75,minimumY:20,maximumY:40});i.annotations.push(t);const e=new ee({fill:f.SkyBlue,text:"RectangleAnnotation 2",minimumX:25,maximumX:75,minimumY:60,maximumY:80});i.annotations.push(e);const s=(r,a)=>{i.subtitle="You clicked "+r.text,i.invalidatePlot(!1)};t.mouseDown=s,e.mouseDown=s;const n=new as,o=new kt((r,a,u)=>{const m=new Cn(u.position,10),c=r.actualModel.hitTest(m).find(p=>p.element instanceof ee);c&&(u.handled=!0,i.subtitle="You clicked "+c.element.text,i.invalidatePlot(!1))});return n.bindMouseDown(new Qi(wt.Left),o),{model:()=>i,controller:()=>n}}function Ex(){function i(s,n,o=1){const r=new _r(s,n.delta*.001*o,Nr.isControlDown(n));r.axisPreference=Us.X,r.started(n)}const t=new b({title:"Preferring an axis for manipulation",subtitle:"Mouse wheel over plot area prefers X axis"});t.axes.push(new y({position:g.Bottom})),t.axes.push(new y({position:g.Left})),t.series.push(nt.fromDx(Math.cos,-7,7,.01));const e=new as;return e.unbindAll(),ft.bindMouseWheel(e,new kt((s,n,o)=>i(s,o))),ft.bindMouseWheel(e,new kt((s,n,o)=>i(s,o,.1)),xt.Control),{model:()=>t,controller:()=>e}}function zx(){const i=new b({title:"Show/Hide Legend",subtitle:"Click on the rectangles"}),t=3;for(let u=1;u<=t;u++){const m=new G({title:"Series "+u});i.series.push(m);for(let c=0;c<2*Math.PI;c+=.1)m.points.push(d(c,Math.sin(c*u)/u+u))}const e=new X;i.legends.push(e);const s=new ee({fill:f.Green,text:"Show Legend",minimumX:.5,maximumX:1.5,minimumY:.2,maximumY:.4});i.annotations.push(s);const n=new ee({fill:f.SkyBlue,text:"Hide Legend",minimumX:.5,maximumX:1.5,minimumY:.6,maximumY:.8});i.annotations.push(n);const o=(u,m)=>{const c=u.text;c==="Show Legend"?i.isLegendVisible=!0:c==="Hide Legend"&&(i.isLegendVisible=!1),i.subtitle="You clicked "+u.text,i.invalidatePlot(!1)};s.mouseDown=o,n.mouseDown=o;const r=new as,a=new kt((u,m,c)=>{const p=new Cn(c.position,10),x=u.actualModel.hitTest(p).find(w=>w.element instanceof ee);x&&(c.handled=!0,i.subtitle="You clicked "+x.element.text,i.invalidatePlot(!1))});return r.bindMouseDown(new Qi(wt.Left),a),{model:()=>i,controller:()=>r}}const Ox="PlotController examples",$x={category:Ox,examples:[{title:"Basic controller example",example:Fx()},{title:"Show tracker without clicking",example:Nx()},{title:"Mouse handling example",example:_x()},{title:"Clicking on an annotation",example:Vx()},{title:"Preferring an axis for manipulation",example:Ex()},{title:"Show/Hide Legend",example:zx()}]};function Gx(){const i=new b({title:"Title"});return i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left})),i}function Hx(){const i=new b({title:"Title",subtitle:"Subtitle"});return i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left})),i}function Ux(){const i=new b({title:"Title with^{super}_{sub}script",subtitle:"Subtitle with^{super}_{sub}script"});return i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left})),i}function Wx(){const i=new b({title:"TitlePadding = 0",subtitle:"This controls the distance between the titles and the plot area. The default value is 6",titlePadding:0});return i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left})),i}function Xx(){const i=new b({title:"TitlePadding = 100",titlePadding:100});return i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left})),i}function Yx(){const i=new b({title:"Title",subtitle:"Subtitle",titleHorizontalAlignment:Hl.CenteredWithinView});return i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left})),i}function jx(){const i=new b({title:"This is a very long title to illustrate that title clipping is necessary, because currently it's not clipped.",clipTitle:!1});return i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left})),i}function qx(){const i=new b({title:"This is a very long title, that shows that title clippling is working with crrently 60% of title area",titleClippingLength:.6});return i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left})),i}function Jx(){const i=new b({title:"Background = Undefined",background:f.Undefined});return i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left})),i}function Zx(){const i=new b({title:"Background = 50% White",background:M.fromAColor(128,f.White)});return i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left})),i}function Kx(){const i=new b({title:"Background = Transparent",background:f.Transparent});return i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left})),i}function Qx(){const i=new b({title:"Background = LightSkyBlue",background:f.LightSkyBlue});return i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left})),i}function t2(){const i=new b({title:"Background = White",background:f.White});return i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left})),i}function e2(){const i=new b({title:"Background = Black",background:f.Black,textColor:f.White,titleColor:f.White,plotAreaBorderColor:f.White});return i.axes.push(new y({position:g.Bottom,ticklineColor:f.White})),i.axes.push(new y({position:g.Left,ticklineColor:f.White})),i}function i2(){const i=new b({title:"PlotAreaBorderThickness = 2",plotAreaBorderThickness:K(2)});return i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left})),i}function s2(){const i=new b({title:"PlotAreaBorderThickness = (1,0,0,1)",plotAreaBorderThickness:K(1,0,0,1)});return i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left})),i}function n2(){const i=new b({title:"PlotAreaBorderThickness = (4,1,1,4)",plotAreaBorderThickness:K(4,1,1,4)});return i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left})),i}function o2(){const i=new b({title:"PlotAreaBorderThickness = 0",plotAreaBorderThickness:K(0)});return i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left})),i}function r2(){const i=new b({title:"PlotAreaBorderThickness = 0",subtitle:"AxislineThickness = 1, AxislineColor = OxyColors.Blue, AxislineStyle = LineStyle.Solid",plotAreaBorderThickness:K(0)});return i.axes.push(new y({position:g.Bottom,axislineThickness:1,axislineColor:f.Blue,axislineStyle:v.Solid})),i.axes.push(new y({position:g.Left,axislineThickness:1,axislineColor:f.Blue,axislineStyle:v.Solid})),i}function a2(){const i=new b;return i.axes.push(new y),i.series.push(new G({xAxisKey:"invalidKey"})),i}function l2(){const i=new b,t=new Zt(e=>{throw e.pushClip(J(50,50,50,50)),new Error("This Exception should be completely visible and not clipped by the previously pushed clipping rectangle.")});return i.annotations.push(t),i}function u2(){const i=new b,t=new Zt(async e=>{e.pushClip(J(50,50,50,50))});return i.annotations.push(t),i}function m2(){const i=new b,t=new Zt(async e=>{e.popClip()});return i.annotations.push(t),i}const h2="PlotModel examples",c2={category:h2,examples:[{title:"Title",example:{model:Gx}},{title:"Title and Subtitle",example:{model:Hx}},{title:"Sub- and superscript in titles",example:{model:Ux}},{title:"TitlePadding = 0",example:{model:Wx}},{title:"TitlePadding = 100",example:{model:Xx}},{title:"TitleHorizontalAlignment = CenteredWithinView",example:{model:Yx}},{title:"TitleClippingOff",example:{model:jx}},{title:"TitleClipping60",example:{model:qx}},{title:"Background = Undefined (default)",example:{model:Jx}},{title:"Background = 50% White",example:{model:Zx}},{title:"Background = Transparent",example:{model:Kx}},{title:"Background = LightSkyBlue",example:{model:Qx}},{title:"Background = White",example:{model:t2}},{title:"Background = Black",example:{model:e2}},{title:"PlotAreaBorderThickness = 2",example:{model:i2}},{title:"PlotAreaBorderThickness = (1,0,0,1)",example:{model:s2}},{title:"PlotAreaBorderThickness = (4,1,1,4)",example:{model:n2}},{title:"PlotAreaBorderThickness = 0",example:{model:o2}},{title:"PlotAreaBorderThickness / AxisLine",example:{model:r2}},{title:"Exception handling (invalid XAxisKey)",example:{model:a2}},{title:"Exception handling (with clipping)",example:{model:l2}},{title:"Unbalanced clipping (push)",example:{model:u2}},{title:"Unbalanced clipping (pop)",example:{model:m2}}]};function d2(){const i=new b,t="Arial",e=32,s=ne.Bold,n=e*1.6;return i.annotations.push(new Zt(async o=>{let a=20-n;await o.drawText(R(20,a+=n),"Black",f.Black,t,e,s),await o.drawText(R(20,a+=n),"Red",f.Red,t,e,s),await o.drawText(R(20,a+=n),"Green",f.Green,t,e,s),await o.drawText(R(20,a+=n),"Blue",f.Blue,t,e,s),await O.fillRectangle(o,J(20,a+n+15,200,10),f.Black,U.Adaptive),await o.drawText(R(20,a+n),"Yellow 50%",M.fromAColor(128,f.Yellow),t,e,s)})),i}function p2(){const i=new b,t=20,e=t*1.6;return i.annotations.push(new Zt(async s=>{let o=20-e;await s.drawText(R(20,o+=e),"Default font",f.Black,void 0,t),await s.drawText(R(20,o+=e),"Helvetica",f.Black,"Helvetica",t),await s.drawText(R(20,o+=e),"Arial",f.Black,"Arial",t),await s.drawText(R(20,o+=e),"Courier",f.Black,"Courier",t),await s.drawText(R(20,o+=e),"Courier New",f.Black,"Courier New",t),await s.drawText(R(20,o+=e),"Times",f.Black,"Times",t),await s.drawText(R(20,o+e),"Times New Roman",f.Black,"Times New Roman",t)})),i}function f2(){const i=new b;return i.annotations.push(new Zt(async t=>{let s=20;for(const n of[10,16,24,36,48])await t.drawText(R(20,s),`${n}pt`,f.Black,"Arial",n),await t.drawText(R(220,s),`${n}pt`,f.Black,"Arial",n,ne.Bold),s+=n*1.6})),i}function g2(){const i=new b;return i.annotations.push(new Zt(async t=>{const e=R(200,200);await O.fillCircle(t,e,3,f.Blue,U.Adaptive);for(let s=0;s<360;s+=45)await t.drawText(e,`Rotation ${s}`,f.Black,void 0,20,void 0,s)})),i}function x2(){const i=new b,t=20;return i.annotations.push(new Zt(async e=>{for(let s=F.Left;s<=F.Right;s++)for(let n=N.Top;n<=N.Bottom;n++){const o=R((s+1)*200+20,(n+1)*t*3+20);await O.fillCircle(e,o,3,f.Blue,U.Adaptive);const r=Gi(F,s),a=Gi(N,n);await e.drawText(o,`${r}-${a}`,f.Black,void 0,t,void 0,0,s,n)}})),i}function w2(){const i=new b,t=20;return i.annotations.push(new Zt(async e=>{for(let s=F.Left;s<=F.Right;s++){const n=Gi(F,s);for(let o=N.Top;o<=N.Bottom;o++){const r=Gi(N,o),a=(s+1)*200+20,u=(o+1)*t*6+20,m=R(a,u);await O.fillCircle(e,m,3,f.Blue,U.Adaptive),await e.drawText(m,`${n}
${r}`,f.Black,void 0,t,void 0,0,s,o)}}})),i}function y2(){const i=new b,t="Arial",e=24,s=ne.Normal;return i.annotations.push(new Zt(async n=>{const o=R(200,200),r=R(400,200);await O.fillCircle(n,o,3,f.Blue,U.Adaptive);for(let a=0;a<360;a+=45){const u="     A_{2}^{3}B";await xe.drawMathText(n,o,u,f.Black,t,e,s,a,F.Left,N.Middle);const m=await xe.measureMathText(n,u,t,e,s),c=Zs.getPolygon(m,o,a,F.Left,N.Middle);await n.drawPolygon(c,f.Undefined,f.Blue,1,U.Adaptive);const p="     A B";await n.drawText(r,p,f.Red,t,e,s,a,F.Left,N.Middle);const x=n.measureText(p,t,e,s),w=Zs.getPolygon(x,r,a,F.Left,N.Middle);await n.drawPolygon(w,f.Undefined,f.Blue,1,U.Adaptive)}})),i}function S2(){const i="A_{2}^{3}B",t=new b,e="Arial",s=20,n=ne.Normal;return t.annotations.push(new Zt(async o=>{for(let r=F.Left;r<=F.Right;r++)for(let a=N.Top;a<=N.Bottom;a++){const u=R((r+1)*200+20,(a+1)*s*3+20);await O.fillCircle(o,u,3,f.Blue,U.Adaptive),await xe.drawMathText(o,u,i,f.Black,e,s,n,0,r,a)}})),t}function b2(){const i=new b;return i.annotations.push(new Zt(async t=>{for(let e=F.Left;e<=F.Right;e++)for(let s=N.Top;s<=N.Bottom;s++){const n=(e+2)*130,o=(s+2)*130,r=R(n,o);await O.fillCircle(t,r,3,f.Blue,U.Adaptive);for(let a=0;a<360;a+=90)await t.drawText(r,`R${a.toString().padStart(3,"0")}`,f.Black,void 0,20,void 0,a,e,s)}})),i}function M2(){const i=new b;return i.annotations.push(new Zt(async t=>{for(let e=F.Left;e<=F.Right;e++){const s=Gi(F,e);for(let n=N.Top;n<=N.Bottom;n++){const o=Gi(N,n),r=(e+2)*170,a=(n+2)*170,u=R(r,a);await O.fillCircle(t,u,3,f.Blue,U.Adaptive);for(let m=0;m<360;m+=90)await t.drawText(u,`R${m.toString().padStart(3,"0")}
${s}
${o}`,f.Black,void 0,20,void 0,m,e,n)}}})),i}function k2(){const i=new b,t="Arial",e=32,s=ne.Bold,n=e*1.6,o=["iii","jjj","OxyPlot","Bottom","100","KML"];return i.annotations.push(new Zt(async r=>{let m=20;for(const c of o){const p=r.measureText(c,t,e,s),x=R(20,m);await r.drawText(x,c,f.Black,t,e,s,void 0,void 0,void 0,p);const w=J(x.x,x.y,p.width,p.height);await r.drawRectangle(w,f.Undefined,f.Black,1,U.Adaptive);const S=R(200,m),k=bt(p.width/2,p.height/2);await r.drawText(S,c,f.Black,t,e,s,void 0,void 0,void 0,k);const A=J(S.x,S.y,k.width,k.height);await r.drawRectangle(A,f.Undefined,f.Black,1,U.Adaptive),m+=n}})),i}function A2(){const i=new b,t="Arial",e=["OxyPlot","MMM","III","jikq","gh","123","!#$&"],s=[10,20,40,60];return i.annotations.push(new Zt(async n=>{let o=5;for(const r of s){let a=5,u=0;for(const m of e){const c=n.measureText(m,t,r,ne.Normal);u=Math.max(u,c.width),await n.drawRectangle(J(o,a,c.width,c.height),f.LightYellow,f.Black,1,U.Adaptive),await n.drawText(R(o,a),m,f.Black,t,r),a+=c.height+20}o+=u+20}})),i}const v2=()=>{const i=new b;return i.annotations.push(new Zt(async t=>{const e=async I=>{const _=new Kt(f.Black,2,v.Dash),z=P.right(I),E=P.bottom(I);await O.drawLine(t,I.left,I.top,z,I.top,_,U.Automatic),await O.drawLine(t,z,I.top,z,E,_,U.Automatic),await O.drawLine(t,z,E,I.left,E,_,U.Automatic),await O.drawLine(t,I.left,E,I.left,I.top,_,U.Automatic)};let s=20;const n=60,o=40,r=20,a=20,u=200;let m=Ae;const c=async I=>{await O.drawCircle2(t,I,o*.58,f.CornflowerBlue,f.Undefined,0,U.Automatic)},p=async I=>{const _=R(r+o+a+u,s);await t.drawText(_,I,f.Black,void 0,12,void 0,void 0,void 0,N.Middle)},x=async I=>{const _=R(r+o+a,s);await t.drawText(_,I,f.Black,void 0,12,void 0,void 0,void 0,N.Middle)},w=async(I,_)=>{await t.drawText(R(_,15),I,f.Black,void 0,12,700)},S=()=>{s+=n,m=J(r,s-o/2,o,o)};await w("Actual",r),await w("Test Case",r+o+a),await w("Expected",r+o+a+u),S(),t.pushClip(m),t.popClip();const k=()=>P.center(m);await c(k()),await x(`1. Push clipping rectangle
2. Pop clipping rectangle
3. Draw circle`),await p("The circle should be fully drawn."),S(),t.pushClip(m),await c(k()),t.popClip(),await e(m),await x(`1. Push clipping rectangle
2. Draw Circle`),await p("The circle should be clipped."),S();let A=P.deflate(m,K(m.height*.25));t.pushClip(m),t.pushClip(A),await c(k()),t.popClip(),t.popClip(),await e(m),await e(A),await x(`1. Push large clipping rectangle
2. Push small clipping rectangle
3. Draw Circle`),await p("The circle should be clipped to the small clipping rectangle."),S(),A=P.deflate(m,K(m.height*.25)),t.pushClip(A),t.pushClip(m),await c(k()),t.popClip(),t.popClip(),await e(m),await e(A),await x(`1. Push small clipping rectangle
2. Push large clipping rectangle
3. Draw Circle`),await p("The circle should be clipped to the small clipping rectangle."),S();let C=P.offset(m,m.width/2,m.height/2);A=P.deflate(C,K(m.height*.25)),t.pushClip(m),t.pushClip(A),await c(k()),t.popClip(),t.popClip(),await e(m),await e(A),await x(`1. Push large clipping rectangle
2. Push small clipping rectangle
3. Draw Circle`),await p("The circle should be clipped to the intersection of the clipping rectangles."),S(),C=P.offset(m,m.width/2,m.height/2),A=P.deflate(C,K(m.height*.25)),t.pushClip(m),t.pushClip(A),t.popClip(),await c(k()),t.popClip(),await e(m),await e(A),await x(`1. Push large clipping rectangle
2. Push small clipping rectangle
3. Pop small clipping rectangle
4. Draw Circle`),await p("The circle should be clipped to the large clipping rectangle."),S();const T=Jt.fromRect(m).offset(m.width/3,m.height/3).deflate(K(m.height*.25)).rect,D=Jt.fromRect(m).offset(-m.width/3,-m.height/3).deflate(K(m.height*.25)).rect;t.pushClip(T),t.pushClip(D),await c(k()),t.popClip(),t.popClip(),await e(T),await e(D),await x(`1. Push clipping rectangle
2. Push second clipping rectangle
3. Draw Circle`),await p("The circle should not be drawn at all."),S();const B=O.autoResetClip(t,m);await t.drawText(k(),"OxyPlot",f.CornflowerBlue,void 0,15,void 0,void 0,F.Center,N.Middle),B.dispose(),await e(m),await x(`1. Push clipping rectangle
2. Draw Text`),await p("The text should be clipped.")})),i},li=40,Qt=30,es=10,is=.5,ss=200,ns=20,Ba=f.LightBlue,R2=()=>{const i=new b;return i.annotations.push(new Zt(async t=>{for(let s=0;s<es;s++){const n=ss+s*li+Qt/2,o=s*is;await t.drawText(R(n,ns/2),o.toString(),f.Black,void 0,10,void 0,void 0,F.Center,N.Middle)}const e=Cs(U);for(const s of e){const n=ns+s*li;await t.drawText(R(10,n+10),U[s],f.Black,void 0,10,void 0,void 0,void 0,N.Middle);for(let o=0;o<es;o++){const r=ss+o*li,a=J(r,n,Qt,Qt),u=o*is;await t.drawRectangle(a,Ba,f.Black,u,s)}}})),i},C2=()=>{const i=new b;return i.annotations.push(new Zt(async t=>{for(let s=0;s<es;s++){const n=ss+s*li+Qt/2,o=s*is;await t.drawText(R(n,ns/2),o.toString(),f.Black,void 0,10,void 0,void 0,F.Center,N.Middle)}const e=Cs(U);for(const s of e){const n=ns+s*li;await t.drawText(R(10,n+10),U[s],f.Black,void 0,10,void 0,void 0,void 0,N.Middle);for(let o=0;o<es;o++){const r=ss+o*li,a=R(r,n),u=R(r,n+Qt),m=R(r+Qt,n),c=R(r+Qt,n+Qt),p=R(r,n+Qt/2),x=o*is;await t.drawLine([u,a,m],f.Black,x,s),await t.drawLine([p,c,a],f.Black,x,s,void 0,st.Bevel)}}})),i},T2=()=>{const i=new b;return i.annotations.push(new Zt(async t=>{for(let s=0;s<es;s++){const n=ss+s*li+Qt/2,o=s*is;await t.drawText(R(n,ns/2),o.toString(),f.Black,void 0,10,void 0,void 0,F.Center,N.Middle)}const e=Cs(U);for(const s of e){const n=ns+s*li;await t.drawText(R(10,n+10),U[s],f.Black,void 0,10,void 0,void 0,void 0,N.Middle);for(let o=0;o<es;o++){const r=ss+o*li,a=[R(r+Qt*.4,n),R(r+Qt,n+Qt*.2),R(r+Qt*.9,n+Qt*.8),R(r+Qt*.5,n+Qt),R(r,n+Qt*.6)],u=o*is;await t.drawPolygon(a,Ba,f.Black,u,s)}}})),i},P2=()=>{const i=new b;return i.annotations.push(new Zt(async t=>{for(let s=0;s<es;s++){const n=ss+s*li+Qt/2,o=s*is;await t.drawText(R(n,ns/2),o.toString(),f.Black,void 0,10,void 0,void 0,F.Center,N.Middle)}const e=Cs(U);for(const s of e){const n=ns+s*li;await t.drawText(R(10,n+10),U[s],f.Black,void 0,10,void 0,void 0,void 0,N.Middle);for(let o=0;o<es;o++){const r=ss+o*li,a=J(r,n+Qt*.1,Qt,Qt*.8),u=o*is;await t.drawEllipse(a,Ba,f.Black,u,s)}}})),i},L2=()=>{const e=[135,90,45,22.5],s=140,n=90,o=50,r=50,a=new b;return a.annotations.push(new Zt(async u=>{let m=0,c=0;const p=Cs(st);for(const x of p){const w=R(s*(m+.5)+o,r/2);await u.drawText(w,st[x],f.Black,void 0,12,void 0,void 0,F.Center,N.Middle),m++}for(const x of e){m=0;const w=n*c+r,S=x/2/360*2*Math.PI,k=Math.sin(S)*60,A=Math.cos(S)*60,C=R(15,w);await u.drawText(C,x.toString()+"°",f.Black,void 0,12);for(const T of p){const D=s*(m+.5)+o,B=R(D,w),I=R(D-k,w+A),_=R(D+k,w+A);await u.drawLine([I,B,_],f.CornflowerBlue,15,U.PreferGeometricAccuracy,void 0,T),m++}c++}})),a},D2=()=>{const o=new b;return o.annotations.push(new Zt(async r=>{const a=J(60,20,600,200),u=P.right(a),m=P.bottom(a),c=new Array(200),p=(a.left+u)/2,x=(a.top+m)/2,w=(u-a.left)/2,S=(m-a.top)/2;for(let k=0;k<200;k++){const A=Math.PI*2*k/199;c[k]=R(p+w*Math.cos(A),x+S*Math.sin(A))}await r.drawPolygon(c,f.Undefined,f.Black,4,U.PreferGeometricAccuracy),await r.drawEllipse(a,f.Undefined,f.White,2,U.PreferGeometricAccuracy),await r.drawText(R(360,120),"The white ellipse (drawn by Renderer) should match the black ellipse (drawn as Path).",f.Black,void 0,12,void 0,void 0,F.Center,N.Middle)})),o},I2="9 Rendering capabilities",B2={category:I2,examples:[{title:"DrawText - Colors",example:{model:d2}},{title:"DrawText - Fonts",example:{model:p2}},{title:"DrawText - Font sizes",example:{model:f2}},{title:"DrawText - Rotation",example:{model:g2}},{title:"DrawText - Alignment",example:{model:x2}},{title:"DrawText - Multi-line Alignment",example:{model:w2}},{title:"DrawMathText - Rotation",example:{model:y2}},{title:"DrawMathText - Alignment",example:{model:S2}},{title:"DrawText - Alignment/Rotation",example:{model:b2}},{title:"DrawText - Multi-line Alignment/Rotation",example:{model:M2}},{title:"DrawText - MaxSize",example:{model:k2}},{title:"MeasureText",example:{model:A2}},{title:"Clipping",example:{model:v2}},{title:"Rectangles - EdgeRenderingMode",example:{model:R2}},{title:"Lines - EdgeRenderingMode",example:{model:C2}},{title:"Polygons - EdgeRenderingMode",example:{model:T2}},{title:"Ellipses - EdgeRenderingMode",example:{model:P2}},{title:"LineJoin",example:{model:L2}},{title:"Ellipse Drawing",example:{model:D2}}]};function F2(){const i=new b({title:"No tracker interpolation",subtitle:"Used for discrete values or scatter plots."}),t=new X({legendSymbolLength:30});i.legends.push(t);const e=new G({title:"Series 1",canTrackerInterpolatePoints:!1,color:f.SkyBlue,markerType:V.Circle,markerSize:6,markerStroke:f.White,markerFill:f.SkyBlue,markerStrokeThickness:1.5});for(let s=0;s<63;s++){const n=Math.round(Math.sqrt(s)*Math.cos(s*.1)),o=Math.round(Math.sqrt(s)*Math.sin(s*.1));e.points.push(d(n,o))}return i.series.push(e),i}function N2(){const i=new b({title:"Handling the TrackerChanged event",subtitle:"Press the left mouse button to test the tracker."});return i.series.push(nt.fromN(Math.sin,0,10,100)),i.trackerChanged=(t,e)=>{i.subtitle=e.hitResult?"Tracker item index = "+e.hitResult.index:"Not tracking",i.invalidatePlot(!1)},i}function _2(){const i=new b({title:"Specified distance of the tracker fires",subtitle:"Press the left mouse button to test the tracker."});i.series.push(nt.fromN(Math.sin,0,10,100));const t=new as;return t.unbindViewCommand(q.snapTrack),t.unbindViewCommand(q.snapTrackTouch),ft.bindMouseDown(t,wt.Left,new kt((e,s,n)=>s.addMouseManipulator(e,new fs(e,{snap:!0,pointsOnly:!1,firesDistance:2,checkDistanceBetweenPoints:!0}),n))),ft.bindTouchDown(t,new kt((e,s,n)=>s.addTouchManipulator(e,new Vr(e,{snap:!0,pointsOnly:!1,firesDistance:2}),n))),{model:()=>i,controller:()=>t}}const V2="Tracker",E2={category:V2,examples:[{title:"No interpolation",example:{model:F2}},{title:"TrackerChangedEvent",example:{model:N2}},{title:"Specified distance of the tracker fires",example:_2()}]},z2=[r0,d0,E0,ix,Bx,$x,c2,B2,E2],O2=[{x:589.3649979,y:16.10595703},{x:437.9979935,y:16.10595703},{x:400.4249954,y:16.10595703},{x:399.1255264,y:16.05047607},{x:397.463356,y:15.92333984},{x:393.5852432,y:15.69073486},{x:389.8589859,y:15.88067627},{x:388.3866653,y:16.28186035},{x:387.3529739,y:16.96594238},{x:386.8373489,y:18.53930664},{x:387.2163773,y:20.51794434},{x:387.9814529,y:22.51843262},{x:388.6240005,y:24.15698242},{x:395.958992,y:45.09094238},{x:399.2686234,y:54.89562988},{x:402.1330338,y:64.90338135},{x:404.5822525,y:75.06884766},{x:406.6462479,y:85.34680176},{x:409.7385635,y:106.0593262},{x:411.6500015,y:126.6789551},{x:412.0961685,y:137.0930786},{x:412.0253677,y:147.4713135},{x:411.4655228,y:157.8103638},{x:410.4446182,y:168.1069336},{x:408.9906387,y:178.3577881},{x:407.1315689,y:188.5595703},{x:404.8953629,y:198.7091064},{x:402.3099747,y:208.8029785},{x:392.9860001,y:237.2509766},{x:392.1175613,y:240.0527954},{x:391.2060013,y:243.0959473},{x:390.5509415,y:246.1691284},{x:390.4520035,y:249.0609741},{x:391.406044,y:252.6694336},{x:393.1980057,y:256.0982056},{x:395.3566971,y:259.3631287},{x:397.4109879,y:262.47995},{x:411.7649918,y:287.7079468},{x:426.5997696,y:312.9102173},{x:441.8913651,y:337.8200684},{x:457.3402786,y:362.6333923},{x:472.6469803,y:387.5459595},{x:478.0007401,y:395.7557983},{x:483.6958694,y:403.8400879},{x:489.2894974,y:411.9628296},{x:494.3389969,y:420.2879639},{x:494.9800491,y:421.8480225},{x:495.4455032,y:423.6903687},{x:496.1577225,y:427.7724609},{x:497.0915604,y:431.6355591},{x:497.8341141,y:433.2041321},{x:498.8629837,y:434.3809509},{x:500.0935135,y:434.9877625},{x:501.7391434,y:435.3059082},{x:505.7623367,y:435.3148193},{x:509.9061356,y:434.8848267},{x:511.7024612,y:434.6542969},{x:513.1439896,y:434.4929504},{x:520.0768509,y:434.1251831},{x:527.3961258,y:434.1952209},{x:534.6892776,y:434.728363},{x:541.544014,y:435.7499695},{x:544.2357864,y:436.3025513},{x:547.021492,y:437.0792236},{x:549.6099319,y:438.2590027},{x:551.7099686,y:440.0209656},{x:552.7028275,y:441.4446106},{x:553.2691116,y:442.791626},{x:553.4498978,y:444.0619202},{x:553.2864456,y:445.2554626},{x:552.0910721,y:447.4119873},{x:550.0122147,y:449.2607117},{x:547.3790359,y:450.8010864},{x:544.5206985,y:452.0325928},{x:541.766304,y:452.9547119},{x:539.445015,y:453.5669556},{x:539.445015,y:454.6409607},{x:542.6554031,y:455.4246521},{x:546.0063553,y:455.8735962},{x:549.2799149,y:456.4869385},{x:552.2580032,y:457.7639465},{x:554.3335648,y:459.5966797},{x:555.6600418,y:461.8208313},{x:556.278389,y:464.282959},{x:556.2294998,y:466.8295898},{x:555.55439,y:469.307251},{x:554.2939529,y:471.5625},{x:552.4892044,y:473.4418945},{x:550.1809769,y:474.7919617},{x:547.1414261,y:475.8059387},{x:543.8482132,y:476.5288391},{x:537.2979813,y:477.0559692},{x:535.5239944,y:476.8666077},{x:533.5114822,y:476.5535889},{x:531.5334549,y:476.4162598},{x:529.8629837,y:476.7539673},{x:529.0471268,y:477.3421631},{x:528.5394363,y:478.1289673},{x:528.1448441,y:480.0927124},{x:528.071846,y:482.2338257},{x:527.7129593,y:484.1409607},{x:526.901741,y:485.4877014},{x:525.8139114,y:486.4950867},{x:523.0528641,y:487.6643372},{x:519.9188919,y:487.9933777},{x:516.9010086,y:487.8269653},{x:511.7325516,y:486.9451599},{x:506.4563065,y:485.4539185},{x:501.155159,y:483.4500427},{x:495.912117,y:481.0302124},{x:485.9321365,y:475.3295898},{x:481.3610916,y:472.2423096},{x:477.1800003,y:469.125946},{x:465.3709793,y:459.3179626},{x:464.3509598,y:458.3116455},{x:463.1867142,y:457.1624451},{x:461.9141312,y:456.2180176},{x:460.5689774,y:455.8259583},{x:459.6923904,y:456.0762939},{x:458.8656693,y:456.7503662},{x:457.3631058,y:458.907959},{x:456.063179,y:461.3753052},{x:455.4898758,y:462.436554},{x:454.9679642,y:463.2289734},{x:453.0795364,y:465.3183289},{x:450.8528519,y:467.2734985},{x:448.3575516,y:468.9848328},{x:445.6630936,y:470.3425903},{x:442.83918,y:471.2370605},{x:439.9552689,y:471.5585938},{x:437.0810318,y:471.1974487},{x:434.2859879,y:470.0439453},{x:432.4744034,y:468.6621399},{x:431.3244705,y:467.0726013},{x:430.7551956,y:465.3302612},{x:430.6856155,y:463.4900818},{x:431.0347672,y:461.6070251},{x:431.7216873,y:459.7360229},{x:433.7849808,y:456.2499695},{x:438.1093216,y:450.118988},{x:441.4749832,y:444.3893433},{x:444.0351639,y:438.28302},{x:445.0610428,y:434.845459},{x:445.9430008,y:431.0219727},{x:446.6270218,y:428.7687378},{x:447.4476395,y:426.4767151},{x:447.9032059,y:424.1760559},{x:447.492012,y:421.8969727},{x:445.6156082,y:418.2295837},{x:443.3608475,y:414.6139832},{x:438.1008682,y:407.5364685},{x:432.48069,y:400.6614685},{x:427.2689896,y:393.9859619},{x:389.1699905,y:339.2359619},{x:374.5550003,y:318.3009644},{x:372.5515823,y:314.8404541},{x:370.2787552,y:310.9485779},{x:367.7467728,y:307.2946777},{x:366.3868484,y:305.7660828},{x:364.9659805,y:304.5479736},{x:363.9477615,y:304.0406799},{x:363.082222,y:304.0159912},{x:361.6236038,y:304.9024658},{x:360.2191849,y:306.1834412},{x:359.4213638,y:306.651886},{x:358.4979935,y:306.8349609},{x:356.6694107,y:306.4464722},{x:354.9371109,y:305.5308228},{x:353.2544937,y:304.4515076},{x:351.5749893,y:303.5719604},{x:343.4895706,y:301.1234131},{x:335.0169449,y:299.8048401},{x:326.3076553,y:299.5128174},{x:317.5122147,y:300.1439514},{x:308.7811966,y:301.5948486},{x:300.2651443,y:303.762085},{x:292.1145401,y:306.5422668},{x:284.4799881,y:309.8319702},{x:282.3371964,y:310.7483521},{x:279.925972,y:311.644928},{x:274.7942581,y:313.5763245},{x:270.0769119,y:316.0212708},{x:268.1836319,y:317.559845},{x:266.7659988,y:319.3749695},{x:271.6227798,y:320.1968384},{x:276.5877457,y:321.7830811},{x:281.472847,y:323.7190247},{x:286.090004,y:325.5899658},{x:298.3649979,y:330.7419739},{x:310.3880997,y:336.8226929},{x:321.8024063,y:343.941803},{x:332.2509842,y:352.2089539},{x:339.2033768,y:358.533844},{x:342.4841385,y:361.901825},{x:345.4439774,y:365.5359497},{x:346.445076,y:367.0002136},{x:347.3386307,y:368.7592163},{x:347.6443558,y:370.5680847},{x:347.4267044,y:371.4147034},{x:346.8819962,y:372.1819458},{x:345.387001,y:372.7861023},{x:343.5981216,y:372.4627075},{x:341.8064041,y:371.7001953},{x:340.3029861,y:370.986969},{x:336.1688919,y:369.4472046},{x:331.5998611,y:368.1002197},{x:326.9541702,y:367.1023254},{x:322.5899734,y:366.6099548},{x:324.6785049,y:369.6851501},{x:327.4601212,y:372.3129578},{x:330.467659,y:374.7735291},{x:333.2339859,y:377.3469543},{x:338.3369217,y:383.6273193},{x:342.70298,y:390.7063293},{x:344.4534683,y:394.4726563},{x:345.8323135,y:398.3514099},{x:346.7769547,y:402.3135376},{x:347.2249832,y:406.3299561},{x:346.8078384,y:412.0097046},{x:345.1297989,y:416.5983276},{x:342.383522,y:420.1838074},{x:338.7616043,y:422.8540955},{x:334.4566727,y:424.6971741},{x:329.6613541,y:425.8010559},{x:324.5682449,y:426.2536621},{x:319.3700027,y:426.1429749},{x:315.144783,y:425.6447144},{x:311.0141983,y:424.7691345},{x:303.0388565,y:422.0056763},{x:295.4478226,y:418.0917969},{x:288.2450027,y:413.2668457},{x:281.4342422,y:407.769989},{x:275.0194168,y:401.8405762},{x:269.0043716,y:395.717804},{x:263.393013,y:389.6409607},{x:255.0782547,y:379.5436707},{x:247.6409988,y:368.3999634},{x:244.4098587,y:362.5210571},{x:241.5882645,y:356.4829712},{x:239.2395096,y:350.3198853},{x:237.4270096,y:344.0659485},{x:236.2694168,y:338.2407532},{x:235.5486526,y:332.3677368},{x:235.0773697,y:320.528717},{x:235.3326797,y:308.6495667},{x:235.6340103,y:296.8309631},{x:233.1889725,y:297.9562988},{x:230.9140091,y:299.4570923},{x:226.5090103,y:302.6929626},{x:206.6489944,y:315.875946},{x:157.2670059,y:346.7819519},{x:136.8219986,y:360.059967},{x:132.2092514,y:363.0340881},{x:130.0033798,y:364.6920166},{x:128.1559982,y:366.6599731},{x:127.0190811,y:368.5368958},{x:126.298027,y:370.4631348},{x:125.9532547,y:372.4280701},{x:125.9451218,y:374.4211121},{x:126.7804031,y:378.4490356},{x:128.4870071,y:382.4620972},{x:130.748024,y:386.3754272},{x:133.2466202,y:390.104248},{x:135.6659012,y:393.5636902},{x:137.689003,y:396.6689453},{x:139.2043839,y:400.197052},{x:139.5524673,y:402.0329285},{x:139.5626297,y:403.8374634},{x:139.1861954,y:405.551239},{x:138.3745499,y:407.1148682},{x:137.0790329,y:408.4689026},{x:135.2509995,y:409.5539551},{x:132.8812943,y:410.31427},{x:130.5507584,y:410.5262146},{x:128.270546,y:410.2424316},{x:126.0518265,y:409.5155334},{x:123.9057388,y:408.3982239},{x:121.8434372,y:406.9431458},{x:118.0148697,y:403.2301941},{x:114.6553879,y:398.7979126},{x:111.8542252,y:394.0675049},{x:109.7006912,y:389.4601135},{x:108.2840042,y:385.3969727},{x:107.7778549,y:382.5092468},{x:107.3788681,y:379.2887268},{x:106.6309433,y:376.2470703},{x:105.0779953,y:373.8959656},{x:103.1701126,y:372.6677246},{x:100.7825394,y:371.7599487},{x:95.13137054,y:370.6252136},{x:89.25051117,y:369.9303284},{x:86.57584381,y:369.5724182},{x:84.26599884,y:369.1139526},{x:78.20024872,y:367.3027649},{x:71.70685577,y:364.820343},{x:65.1133194,y:361.6892395},{x:58.74712372,y:357.9318237},{x:52.93579102,y:353.5706482},{x:48.00682831,y:348.6281433},{x:45.97557068,y:345.9458923},{x:44.28772736,y:343.1267395},{x:42.98422241,y:340.1734924},{x:42.10599518,y:337.0889587},{x:41.90753937,y:335.2592163},{x:42.08698273,y:333.7605286},{x:43.18836975,y:331.3730774},{x:44.62782288,y:329.1598206},{x:45.6230011,y:326.3539734},{x:45.62973022,y:324.9945984},{x:45.33054352,y:323.6192627},{x:44.36862183,y:320.8330994},{x:43.98298645,y:319.4284058},{x:43.84563446,y:318.0201111},{x:44.09512329,y:316.6112671},{x:44.86999512,y:315.2049561},{x:45.80908966,y:314.2088623},{x:46.79941559,y:313.5540161},{x:48.9025116,y:313.1113892},{x:51.11682129,y:313.5637512},{x:53.37987518,y:314.5978394},{x:57.8022995,y:317.1580811},{x:59.83672333,y:318.0577087},{x:61.6700058,y:318.2859497},{x:62.82819366,y:317.6254883},{x:63.23600006,y:316.3283386},{x:63.24330902,y:314.8067627},{x:63.20000458,y:313.4729614},{x:63.68109894,y:310.3050232},{x:64.93375397,y:307.6513367},{x:67.09728241,y:305.979187},{x:68.56415558,y:305.6572571},{x:70.31099701,y:305.7559509},{x:73.2078476,y:306.4935913},{x:76.04866791,y:307.6478271},{x:81.46486664,y:310.9243164},{x:86.36489105,y:315.0218811},{x:90.55399323,y:319.3769531},{x:92.14154816,y:321.4163208},{x:93.72263336,y:323.6399536},{x:95.39614105,y:325.7593689},{x:97.26099396,y:327.4859619},{x:98.87421417,y:328.2453918},{x:100.5960007,y:328.4575806},{x:104.1259995,y:328.1189575},{x:107.9671097,y:328.0540771},{x:112.0256271,y:328.345459},{x:116.0258255,y:328.4305725},{x:119.6919937,y:327.7469482},{x:122.6980515,y:326.2321777},{x:125.5723801,y:324.1764526},{x:128.3242722,y:321.9129944},{x:130.9630051,y:319.7749634},{x:158.6139908,y:297.5969543},{x:183.9269943,y:278.8919678},{x:215.7729874,y:251.3609619},{x:222.6591263,y:245.7957153},{x:229.6908646,y:240.2703247},{x:236.5836563,y:234.5932617},{x:243.0529861,y:228.572937},{x:246.137764,y:224.8230591},{x:248.7661209,y:220.4605103},{x:251.0138321,y:215.6484985},{x:252.9567337,y:210.5499878},{x:256.2312393,y:200.1459351},{x:257.7144547,y:195.1665039},{x:259.1959915,y:190.5529785},{x:263.9845047,y:175.0708008},{x:267.8167191,y:159.2056274},{x:270.6394424,y:143.0612183},{x:272.3993607,y:126.7412109},{x:273.043251,y:110.3493042},{x:272.5178299,y:93.98913574},{x:270.7698441,y:77.76446533},{x:267.7460098,y:61.77893066},{x:260.9010086,y:28.45196533},{x:260.3377457,y:25.5088501},{x:259.7099991,y:22.24182129},{x:258.5879898,y:19.265625},{x:257.7073746,y:18.07867432},{x:256.5419998,y:17.19494629},{x:254.5226212,y:16.44396973},{x:252.1078568,y:16.0401001},{x:246.5816116,y:15.96911621},{x:240.9423294,y:16.37298584},{x:238.3862076,y:16.56274414},{x:236.1689835,y:16.64294434},{x:185.1770096,y:17.17895508},{x:0,y:16.64294434},{x:0,y:.53894043},{x:188.9400101,y:.53894043},{x:242.0799942,y:.53894043},{x:244.6571732,y:.474975586},{x:247.5546951,y:.33001709},{x:253.8458633,y:.078552246},{x:260.0235977,y:.347839355},{x:262.779335,y:.853759766},{x:265.1579971,y:1.70098877},{x:266.7366104,y:2.746398926},{x:268.0821915,y:4.172119141},{x:270.1900101,y:7.797119141},{x:271.7128067,y:11.84075928},{x:272.8819962,y:15.56799316},{x:276.034523,y:25.44775391},{x:279.0441055,y:35.50836182},{x:281.6616287,y:45.66326904},{x:283.6380081,y:55.82598877},{x:285.7761917,y:72.32995605},{x:287.0616837,y:88.9072876},{x:287.4597855,y:105.5118408},{x:286.9358597,y:122.0977173},{x:285.4552994,y:138.6187744},{x:282.9833755,y:155.0289917},{x:279.4855118,y:171.2824097},{x:274.9270096,y:187.3329468},{x:271.4097672,y:198.2474976},{x:267.3623734,y:209.4165039},{x:262.4050369,y:220.1444092},{x:259.4664688,y:225.1257324},{x:256.1579971,y:229.7359619},{x:249.3205032,y:237.2365723},{x:241.720253,y:244.1188354},{x:233.794136,y:250.6709595},{x:225.9790115,y:257.1809692},{x:195.5280228,y:282.9415894},{x:164.2490005,y:307.6559448},{x:141.1689987,y:324.8109741},{x:133.2555008,y:330.7440796},{x:129.0609055,y:333.3323975},{x:124.5289993,y:335.2859497},{x:122.1544113,y:335.8482361},{x:119.7157364,y:336.0837402},{x:114.7126236,y:335.969696},{x:109.6527023,y:335.7345581},{x:104.6689987,y:336.1689453},{x:102.779686,y:336.7739563},{x:100.6949997,y:337.5380859},{x:98.61257172,y:337.9761353},{x:96.73000336,y:337.6029663},{x:94.59128571,y:335.8127136},{x:92.66425323,y:333.2740784},{x:90.92359161,y:330.5338745},{x:89.34400177,y:328.1389465},{x:87.08150482,y:325.4346313},{x:84.48600006,y:322.8813171},{x:78.90499115,y:318.3849487},{x:77.3181076,y:317.091217},{x:75.22336578,y:315.5139465},{x:73.02420807,y:314.5059509},{x:72.01151276,y:314.4819031},{x:71.12400055,y:314.9199524},{x:70.59803009,y:315.7275085},{x:70.51831818,y:316.7388916},{x:71.29537201,y:319.0906982},{x:72.65048981,y:321.4106445},{x:73.77899933,y:323.1339722},{x:77.82125092,y:329.0054626},{x:80.16477203,y:331.7309265},{x:82.71099091,y:334.177948},{x:84.92420197,y:335.9799805},{x:87.10187531,y:337.9599609},{x:88.68236542,y:340.2526855},{x:89.07314301,y:341.5584412},{x:89.10399628,y:342.9929504},{x:89.61742401,y:343.8485413},{x:89.34513092,y:344.4684448},{x:88.5472641,y:344.7538757},{x:87.48400116,y:344.605957},{x:85.91378021,y:343.8370972},{x:84.39550018,y:342.7818298},{x:81.58899689,y:340.4889526},{x:78.80124664,y:338.1679382},{x:75.64672089,y:335.4441223},{x:68.57024384,y:329.6803589},{x:64.81476593,y:327.0864868},{x:61.02541351,y:324.9821167},{x:57.28540802,y:323.5902405},{x:53.6780014,y:323.1339722},{x:55.6113739,y:326.1587524},{x:58.03131866,y:328.9006653},{x:63.8632431,y:333.7370911},{x:70.23856354,y:338.0457153},{x:76.22199249,y:342.2289734},{x:77.03455353,y:342.7995605},{x:78.11525726,y:343.5061951},{x:80.57563019,y:345.232605},{x:82.59217072,y:347.217926},{x:83.11811066,y:348.24823},{x:83.15399933,y:349.2719727},{x:82.68766022,y:350.0397949},{x:81.87210846,y:350.3486328},{x:79.6248703,y:349.9825745},{x:77.27544403,y:348.9604797},{x:76.33216095,y:348.4492188},{x:75.68700409,y:348.0689697},{x:66.5876236,y:342.1790771},{x:61.90306854,y:339.4937744},{x:56.897995,y:337.35495},{x:55.17505646,y:336.726532},{x:53.01000214,y:336.1444702},{x:51.04743958,y:336.2538757},{x:50.34353638,y:336.7695007},{x:49.93199921,y:337.6999512},{x:50.0814743,y:339.3566589},{x:51.06142426,y:341.0038757},{x:52.65550232,y:342.6039124},{x:54.64737701,y:344.1190796},{x:58.95914459,y:346.743988},{x:60.84635162,y:347.7783203},{x:62.26599884,y:348.5769653},{x:70.1079483,y:352.9052734},{x:78.1873703,y:356.6586914},{x:86.4916153,y:359.8837585},{x:95.00800323,y:362.6269531},{x:96.84983063,y:363.0866394},{x:98.97579193,y:363.5275574},{x:103.6091232,y:364.5426941},{x:107.965889,y:366.0517273},{x:109.7461472,y:367.1099854},{x:111.1039963,y:368.43396},{x:112.0068741,y:370.5414429},{x:112.4139938,y:373.21521},{x:112.6441269,y:375.9950867},{x:113.0159988,y:378.4209595},{x:113.902565,y:381.2496643},{x:115.2284775,y:384.6081543},{x:116.9393082,y:388.2300415},{x:118.980629,y:391.8488464},{x:121.2979813,y:395.1981506},{x:123.8369522,y:398.0115662},{x:126.5430984,y:400.022644},{x:129.3619919,y:400.9649658},{x:128.5566483,y:397.5397949},{x:126.8852463,y:394.5133362},{x:124.8594742,y:391.6261902},{x:122.9910049,y:388.6189575},{x:120.504631,y:382.5281982},{x:119.1972427,y:376.1178589},{x:119.0547104,y:372.875061},{x:119.2897568,y:369.6510315},{x:119.9299698,y:366.4787292},{x:121.0029984,y:363.3909607},{x:122.9761124,y:359.8041687},{x:125.5510788,y:356.6000061},{x:128.5915298,y:353.7098083},{x:131.9611282,y:351.0648499},{x:139.1423569,y:346.2359619},{x:146.0040054,y:341.5639648},{x:153.3126602,y:336.4172363},{x:160.8510056,y:331.6148376},{x:176.060997,y:322.2139587},{x:223.2120132,y:292.0619507},{x:241.0090103,y:281.0089722},{x:244.4554214,y:278.2832642},{x:248.0213699,y:275.5827026},{x:251.8383865,y:273.5125122},{x:253.8821487,y:272.9029541},{x:256.038002,y:272.677948},{x:255.5765762,y:275.73526},{x:254.4421158,y:278.3285828},{x:252.9171219,y:280.7803345},{x:251.2840042,y:283.4129639},{x:249.1513138,y:287.4288635},{x:247.2273636,y:291.7029724},{x:245.725502,y:296.1263123},{x:244.8589859,y:300.5899658},{x:244.4298477,y:307.2876587},{x:244.5635757,y:313.9535828},{x:245.2291336,y:320.570282},{x:246.3955154,y:327.1204224},{x:248.0315933,y:333.5866089},{x:250.1063919,y:339.951416},{x:252.5888138,y:346.1975098},{x:255.4478531,y:352.3074646},{x:262.1715469,y:364.0494385},{x:270.0290298,y:375.0382385},{x:278.7719803,y:385.1347656},{x:288.1519852,y:394.1999512},{x:294.92173,y:399.6752014},{x:302.1428604,y:404.5257263},{x:309.7718277,y:408.7135925},{x:317.7649918,y:412.2009583},{x:322.0982132,y:413.5901184},{x:326.4935989,y:414.2129517},{x:328.6687698,y:414.1019592},{x:330.8044205,y:413.6372986},{x:332.8823013,y:412.7649841},{x:334.8839798,y:411.4309692},{x:336.700325,y:409.4726868},{x:337.756813,y:407.2593689},{x:338.1652908,y:404.8675537},{x:338.0374832,y:402.3738403},{x:337.4851761,y:399.8547668},{x:336.6201553,y:397.3868713},{x:334.3989944,y:392.9109497},{x:331.2719803,y:388.0760193},{x:327.7468643,y:383.5949097},{x:319.7087479,y:375.5498352},{x:310.6974869,y:368.4870605},{x:301.1259842,y:362.1179504},{x:289.341011,y:355.3789673},{x:288.3749161,y:354.5166321},{x:287.4871292,y:353.3829651},{x:287.1665115,y:352.1690369},{x:287.3716812,y:351.5917053},{x:287.9019852,y:351.0659485},{x:290.0786819,y:350.5000305},{x:292.8593826,y:350.8098145},{x:295.6623917,y:351.5259399},{x:297.9060135,y:352.1789551},{x:300.6676102,y:353.0059814},{x:303.7700882,y:354.0613708},{x:310.5398636,y:356.3453369},{x:313.9782486,y:357.3178101},{x:317.2997208,y:358.0065918},{x:320.3897781,y:358.2836609},{x:323.1339798,y:358.0209656},{x:311.4509048,y:349.4853516},{x:299.2507401,y:341.6953125},{x:286.5124283,y:334.8171387},{x:273.215004,y:329.0169678},{x:258.7229996,y:323.8179626},{x:257.2878494,y:323.337738},{x:255.7744827,y:322.6670837},{x:254.4943924,y:321.7168884},{x:253.7590103,y:320.3979492},{x:253.827034,y:319.0723267},{x:254.5322647,y:317.7234802},{x:255.711647,y:316.3885193},{x:257.2022476,y:315.1045837},{x:260.465126,y:312.8383789},{x:261.9114456,y:311.9303589},{x:263.0170059,y:311.2219543},{x:271.8112259,y:305.8678284},{x:281.198616,y:301.1617126},{x:290.8884659,y:297.0829773},{x:300.590004,y:293.6109619},{x:310.0823746,y:291.1308289},{x:319.4608536,y:289.9150696},{x:328.9314041,y:289.7652893},{x:338.6999893,y:290.4829712},{x:354.2659988,y:293.3499451},{x:355.8602982,y:293.1119995},{x:357.197731,y:292.2803345},{x:358.3595047,y:291.0731506},{x:359.4267349,y:289.7085876},{x:360.4805679,y:288.4048157},{x:361.6021194,y:287.3800049},{x:362.8725357,y:286.8523254},{x:364.3729935,y:287.0399475},{x:365.9158707,y:287.8427734},{x:367.3995438,y:289.0066833},{x:370.1699905,y:292.0510864},{x:372.6456985,y:295.4399109},{x:374.788002,y:298.4399719},{x:394.8579788,y:325.8149719},{x:397.3873978,y:329.0663757},{x:399.9987259,y:332.6233521},{x:402.1026993,y:336.3991089},{x:402.7802811,y:338.3419189},{x:403.109993,y:340.3069458},{x:403.7992325,y:340.2913818},{x:404.1172256,y:340.3743286},{x:404.2001114,y:340.691864},{x:404.1839981,y:341.3799744},{x:405.9170609,y:342.5977478},{x:407.5672379,y:344.3135681},{x:410.6323624,y:348.6974487},{x:413.4063187,y:353.4481201},{x:414.6925125,y:355.6223755},{x:415.9159927,y:357.4819641},{x:446.1409988,y:402.5239563},{x:447.8941116,y:404.6854248},{x:449.9755325,y:406.9086609},{x:454.483345,y:411.5653381},{x:456.5896683,y:414.0111694},{x:458.3842239,y:416.5435791},{x:459.7070389,y:419.1687927},{x:460.3980179,y:421.8929749},{x:460.330513,y:423.2209473},{x:459.8673782,y:424.4043274},{x:458.1563797,y:426.4813232},{x:456.0694046,y:428.4118958},{x:454.4110184,y:430.4839478},{x:453.6341629,y:432.6287231},{x:453.2503738,y:434.9552002},{x:452.6709671,y:439.6079712},{x:451.6133499,y:443.3995361},{x:450.0984573,y:447.2178345},{x:448.1988602,y:450.8544312},{x:445.9870071,y:454.1009521},{x:445.2327957,y:454.9499512},{x:444.120369,y:456.1347046},{x:441.6337357,y:459.0782166},{x:440.6658401,y:460.6203003},{x:440.1524734,y:462.0648193},{x:440.2967911,y:463.3034973},{x:441.3020096,y:464.2279663},{x:443.0089798,y:464.4325867},{x:444.7705154,y:463.7559509},{x:446.3872757,y:462.6180725},{x:447.6599808,y:461.4389648},{x:449.96418,y:458.7336426},{x:451.896492,y:455.7789612},{x:454.7979813,y:449.3179626},{x:455.2873001,y:447.6248474},{x:455.8775101,y:445.8508301},{x:456.8382034,y:444.3796387},{x:458.4389725,y:443.5949707},{x:460.0345535,y:443.7620239},{x:461.7698441,y:444.6128235},{x:463.5780106,y:445.9676208},{x:465.3921585,y:447.6465759},{x:468.7708817,y:451.2580566},{x:470.2016678,y:452.8309631},{x:471.3709793,y:454.0089722},{x:478.8518143,y:460.0104675},{x:486.9943924,y:465.3340759},{x:495.4878006,y:470.1171265},{x:504.0210037,y:474.4969482},{x:509.5540848,y:477.1457214},{x:515.2860184,y:479.3189697},{x:516.4008255,y:479.6032104},{x:517.6022415,y:479.6870728},{x:518.5872879,y:479.3061523},{x:519.0529861,y:478.1959534},{x:518.8626175,y:476.8864441},{x:518.1857986,y:475.7019958},{x:515.84095,y:473.7122192},{x:512.9545975,y:472.234314},{x:510.4629593,y:471.2759705},{x:507.6074905,y:470.256958},{x:504.0599442,y:468.8930969},{x:496.255867,y:465.2143555},{x:492.682869,y:462.9411621},{x:489.7850418,y:460.4066467},{x:487.9041214,y:457.6316223},{x:487.4518509,y:456.1604309},{x:487.3819656,y:454.6369629},{x:491.1286697,y:455.6597595},{x:494.7612381,y:457.2131958},{x:498.3274002,y:458.9732666},{x:501.8750076,y:460.6159668},{x:508.6896439,y:463.2619934},{x:515.7986526,y:465.5415649},{x:523.0577469,y:467.2131042},{x:530.3230057,y:468.0349731},{x:536.5177689,y:468.0764465},{x:542.669014,y:467.3979492},{x:543.9200516,y:466.9833069},{x:545.0242386,y:466.2348328},{x:545.5588455,y:465.2004089},{x:545.1009598,y:463.927948},{x:544.175972,y:463.0953064},{x:542.9511795,y:462.4622803},{x:539.9430008,y:461.6712036},{x:536.7585526,y:461.3072815},{x:534.0799637,y:461.1229553},{x:520.8706131,y:459.9545898},{x:514.2815628,y:459.0859985},{x:507.7789993,y:457.8509521},{x:506.4525833,y:457.5542603},{x:504.8121414,y:457.1582336},{x:501.1944656,y:455.9819641},{x:499.5198441,y:455.1585083},{x:498.1362991,y:454.1494141},{x:497.1952591,y:452.9331055},{x:496.8479691,y:451.4879456},{x:497.117012,y:450.6549377},{x:497.8393021,y:450.1732788},{x:500.1341019,y:449.9840698},{x:502.7133255,y:450.3605652},{x:503.7911453,y:450.5859985},{x:504.557991,y:450.7429504},{x:511.3823318,y:451.3563843},{x:518.3227615,y:451.0169373},{x:525.2244949,y:449.9740295},{x:531.932991,y:448.4769592},{x:532.8128738,y:448.2760315},{x:534.1250076,y:447.9761353},{x:537.3393631,y:447.0833435},{x:538.8882523,y:446.4923706},{x:540.1627884,y:445.8063354},{x:540.9862747,y:445.0262146},{x:541.1820145,y:444.1529541},{x:540.6489334,y:443.4705505},{x:539.4853592,y:443.0022888},{x:537.8792191,y:442.7068176},{x:536.0183792,y:442.5428467},{x:532.2842484,y:442.4439392},{x:530.7866898,y:442.4263916},{x:529.7860184,y:442.3749695},{x:522.7177811,y:441.8120117},{x:515.5401077,y:441.6993408},{x:501.2470169,y:442.2559509},{x:498.6232986,y:442.5908508},{x:495.6024857,y:442.9595947},{x:492.7076492,y:442.7930298},{x:491.4709549,y:442.3311157},{x:490.4619827,y:441.5219727},{x:489.3800125,y:439.9010925},{x:488.6179276,y:438.0290833},{x:487.6418533,y:433.8266907},{x:486.7113724,y:429.5046997},{x:486.0061722,y:427.4831848},{x:485.0039749,y:425.6529541},{x:464.5570145,y:397.51297},{x:441.859993,y:359.0939636},{x:419.5407486,y:322.4837036},{x:397.7539749,y:285.5569458},{x:392.6534195,y:277.3995361},{x:387.2727432,y:269.1647034},{x:382.4174271,y:260.6722412},{x:380.4385147,y:256.2730713},{x:378.8929825,y:251.7419434},{x:378.4342422,y:247.8017578},{x:378.8919754,y:243.618103},{x:379.8762283,y:239.4705811},{x:380.9969864,y:235.6389771},{x:388.6119766,y:208.7999878},{x:391.0815811,y:198.9997559},{x:393.3593521,y:188.8963623},{x:395.3594131,y:178.5748901},{x:396.9958572,y:168.1204834},{x:398.1828384,y:157.6182251},{x:398.8344498,y:147.1533203},{x:398.8647842,y:136.8108521},{x:398.1879959,y:126.6759644},{x:395.2633438,y:103.3844604},{x:393.3301468,y:91.60638428},{x:390.9952469,y:79.85656738},{x:388.1928177,y:68.22253418},{x:384.8570328,y:56.79168701},{x:380.9220352,y:45.65136719},{x:376.3219986,y:34.88897705},{x:371.1558609,y:23.22259521},{x:366.6760025,y:11.27197266},{x:365.8827591,y:9.214355469},{x:365.0445023,y:6.805603027},{x:364.7049942,y:4.406799316},{x:364.892189,y:3.323974609},{x:365.4079971,y:2.378967285},{x:366.5955276,y:1.439331055},{x:368.2348099,y:.826660156},{x:372.3311234,y:.333557129},{x:376.6218643,y:.40246582},{x:378.5041885,y:.4921875},{x:380.0319901,y:.535949707},{x:420.2889786,y:0},{x:527.1040115,y:0},{x:558.0751419,y:.09362793},{x:573.5140457,y:.204589844},{x:588.6629715,y:.352966309},{x:588.6629715,y:.352966309}],Du=O2.map(i=>d(i.x,i.y));function $2(){return Fa("Numeric ODE solvers","y'=y, y(0)=1",0,1,Math.exp,(i,t)=>t)}function G2(){return Fa("Numeric ODE solvers","y'=x, y(0)=0",0,0,i=>.5*i*i,(i,t)=>i)}function H2(){return Fa("Numeric ODE solvers","y'=cos(x), y(0)=0",0,0,Math.sin,(i,t)=>Math.cos(i))}function U2(){const i=new b({title:"Train schedule",subtitle:"Bergensbanen (Oslo-Bergen, Norway)",isLegendVisible:!1,plotAreaBorderColor:f.LightGray}),t=new y({position:g.Left,minimum:-20,maximum:540,title:"Distance from Oslo S",isAxisVisible:!0});i.axes.push(t);const e=new t3({majorGridlineStyle:v.Solid,majorGridlineColor:f.LightGray,minimum:t.minimum,maximum:t.maximum,position:g.Right,isPanEnabled:!1,isZoomEnabled:!1,majorTickSize:0});t.axisChanged=(c,p)=>{e.minimum=t.actualMinimum,e.maximum=t.actualMaximum},i.axes.push(e),i.axes.push(new Ze({position:g.Bottom,minimum:0,maximum:Ze.toDouble(Ut.fromHours(24)),stringFormatter:c=>Math.abs(c.hours).toString().padStart(2,"0"),title:"Time",majorStep:Ze.toDouble(Ut.fromHours(1)),minorStep:Ze.toDouble(Ut.fromMinutes(10)),tickStyle:rt.None,majorGridlineStyle:v.Solid,majorGridlineColor:f.LightGray,minorGridlineStyle:v.Solid,minorGridlineColor:M.fromArgb(255,240,240,240)}));const s=`Stasjon;km;moh;609;61;601;1405;607;603;63;605;62;602;608;604;64;610;1404;606
Oslo;0.00;4.0;0631;0811;1037;;1227;1437;1609;2311;1432;1736;1956;2210;2236;2348;;0626
Lysaker;7.00;7.5;0642;0822;1048;;1238;1448;1620;2322;1420;1724;1944;2158;2224;;;
Asker;23.83;104.6;0653;0832;1059;;1249;1458;1630;2334;1409;1713;1932;2144;2214;2324;;0555
Drammen;52.86;2.2;0708;0846;1115;;1303;1513;1645;2351;1354;1701;1914;2125;2201;2307;;0540
Hokksund;70.22;8.0;;;1136;;1320;1531;;0007;;1638;1854;2111;2140;;;0525
Vikersund;95.91;67.1;;;1158;;1349;1552;;0029;;1617;1833;2048;;;;0503
Hønefoss;124.21;96.8;0804;0937;1222;;1414;1619;1736;0056;1304;1555;1811;2025;2100;2201;;0442
Flå;186.64;155.0;;;1314;;;1712;;;;1503;1715;1934;;2108;;0349
Nesbyen;220.06;168.8;;1045;1340;;1532;1744;1845;0223;1152;1436;1643;1909;1949;2041;;0321
Gol;237.02;207.4;0930;1100;1354;;1545;1800;1900;0239;1141;1423;1630;1858;1938;2028;;0308
Ål;262.85;436.6;0950;1123;1419;1520;1608;1832;1921;0305;1121;1400;1609;1833;1919;2007;1957;0246
Geilo;287.38;794.2;1013;1145;1442;1545;1630;1855;1942;0328;1059;1339;1547;1812;1857;1946;1939;0224
Ustaoset;299.31;990.6;;1156;1454;1556;1643;1905;1953;0341;1048;1326;1536;1800;1845;;1927;0209
Haugastøl;310.14;988.0;1042;;1505;1606;1655;1916;;0352;;1315;1527;1750;;1922;;0158
Finse;336.74;1222.2;1108;1224;1526;1626;1717;1937;2021;0417;1019;1254;1508;1730;1818;1900;1854;0138
Hallingskeid;357.44;1110.1;1123;;1538;1637;1732;1950;;;;1239;1454;1711;;1842;1839;
Myrdal;370.44;866.8;1137;1253;1551;1650;1746;2003;2045;0445;0953;1225;1440;1657;1752;1828;1825;0105
;370.44;866.8;1220;1258;1556;1652;1751;2004;2047;0445;0950;1220;1439;1652;1750;1823;1822;0101
// Upsete;376.79;850.2;;;;;;;;;;;;;;;;
// Mjølfjell;388.86;627.2;;;;;;;;;;;;;;;;
Voss;419.96;56.5;1312;1343;1640;1738;1836;2048;2130;0537;0910;1139;1355;1608;1710;1736;1740;0015
Dale;459;43.4;;;;;1903;;2156;0608;0836;1109;;;;;;2344
Vaksdal;475.17;16.0;;;;;;;;0626;;;;;;;;2326
Arna;501.43;8.0;1410;1441;1740;1840;1935;2155;2228;0644;0806;1037;1248;1506;1606;1618;1637;2307
Bergen;526.64;3.9;1422;1442;1752;1850;1945;2204;2235;0656;0758;1028;1240;1458;1558;1610;1628;2258
`.split(`
`),n=s[0];s.splice(0,1);const o=n.split(";"),r=o.length-3,a=new G({strokeThickness:0,markerType:V.Circle,markerFill:M.fromAColor(200,f.Black),markerSize:4}),u=new Array(r);for(let c=0;c<u.length;c++)u[c]=new G({title:o[3+c],color:M.fromAColor(180,f.Black),strokeThickness:2,trackerStringFormatter:function(p){return`Train ${p.title}
Time: ${Kr(p.xValue,"hh:mm:ss")}
Distance from Oslo S: ${p.yValue.toFixed(1)} km`}}),i.series.push(u[c]);for(const c of s){if(!c||c.startsWith("//"))continue;const p=c.split(";"),x=p[0],w=parseFloat(p[1]);x&&(e.majorTicks.push(w),e.labels.push(x));for(let S=0;S<u.length;S++){const k=p[S+3];if(!k)continue;const A=parseInt(k),C=Ut.from(0,Math.floor(A/100),A%100,0),T=Ze.toDouble(C);u[S].points.push(d(T,w)),a.points.push(d(T,w))}}const m=Ze.toDouble(Ut.fromHours(24));for(const c of i.series)if(c instanceof ca){for(let p=0;p+1<c.points.length;p++)if(Math.abs(c.points[p].x-c.points[p+1].x)>m/2){let x=c.points[p].x;x>m/2&&(x-=m);let w=c.points[p+1].x;w>m/2&&(w-=m);const S=c.points[p].y+(c.points[p+1].y-c.points[p].y)/(w-x)*(0-x);c.points.splice(p+1,0,d(x<w?0:m,S)),c.points.splice(p+1,0,d(Number.NaN,S)),c.points.splice(p+1,0,d(x<w?m:0,S)),p+=3}}return console.log(e),i.series.push(a),i}function W2(){const i=new b({title:"La Linea",plotType:mt.Cartesian,background:M.fromRgb(84,98,207)});i.axes.push(new y({position:g.Left,minimum:-500,maximum:1e3}));const t=new wi({fill:f.White,strokeThickness:0});return t.points.push(...Du),i.series.push(t),i}function X2(){const i=new b({title:"La Linea",plotType:mt.Cartesian,background:M.fromRgb(84,98,207)});i.axes.push(new y({position:g.Left,minimum:-500,maximum:1e3}));const t=new G({color:f.White,strokeThickness:1.5});return t.points.push(...Du),i.series.push(t),i}function Y2(){const i=new b({title:"Conway's Game of Life",subtitle:"Click the mouse to step to the next generation."});i.axes.push(new y({position:g.Left,startPosition:1,endPosition:0})),i.axes.push(new y({position:g.Bottom}));const t=40,e=40;let s=ki(e,t,0);const n=new Cu({matrix:s}),o=(c,p)=>{s[c][p]=s[c][p+1]=s[c][p+2]=1},r=(c,p)=>{s[c][p]=s[c+1][p+1]=s[c+1][p+2]=s[c+2][p]=s[c+2][p+1]=1},a=(c,p)=>{s[c][p+1]=s[c][p+2]=s[c+1][p]=s[c+1][p+1]=s[c+2][p+1]=1};o(2,10),r(2,2),a(20,20),i.series.push(n);let u=0;const m=()=>{const c=ki(e,t,0);for(let p=1;p<t-1;p++)for(let x=1;x<e-1;x++){const w=s[p-1][x-1]+s[p-1][x]+s[p-1][x+1]+s[p][x-1]+s[p][x+1]+s[p+1][x-1]+s[p+1][x]+s[p+1][x+1];if(s[p][x]===0&&w===3){c[p][x]=1;continue}s[p][x]===1&&(w===2||w===3)&&(c[p][x]=1)}u++,n.title="Generation "+u,n.matrix=s=c,i.invalidatePlot(!0)};return i.mouseDown=(c,p)=>{p.changedButton===wt.Left&&(m(),p.handled=!0)},i}function j2(){const i=Math.sin,t=n=>-27/5*i(3/2-30*n)-16/3*i(9/8-29*n)-29/5*i(5/4-27*n)-8/3*i(1/4-26*n)-25/7*i(1/3-25*n)-31/4*i(4/7-22*n)-25/4*i(4/3-20*n)-33/2*i(2/3-19*n)-67/4*i(6/5-16*n)-100/11*i(1/4-10*n)-425/7*i(1-4*n)+149/4*i(8*n)+1172/3*i(n+21/5)+661/11*i(2*n+3)+471/8*i(3*n+10/7)+211/7*i(5*n+13/4)+39/4*i(6*n+10/7)+139/10*i(7*n+7/6)+77/3*i(9*n+18/7)+135/8*i(11*n+1/2)+23/4*i(12*n+8/5)+95/4*i(13*n+4)+31/4*i(14*n+3/5)+67/11*i(15*n+7/3)+127/21*i(17*n+17/4)+95/8*i(18*n+7/8)+32/11*i(21*n+8/3)+81/10*i(23*n+45/11)+13/3*i(24*n+13/4)+7/4*i(28*n+3/2)+11/5*i(31*n+5/2)+1/3*i(32*n+12/5)+13/4*i(33*n+22/5)+14/3*i(34*n+9/4)+9/5*i(35*n+8/5)+17/9*i(36*n+22/5)+1/3*i(37*n+15/7)+3/2*i(38*n+39/10)+4/3*i(39*n+7/2)+5/3*i(40*n+17/6),e=n=>-13/7*i(1/2-40*n)-31/8*i(1/11-34*n)-12/5*i(1/4-31*n)-9/4*i(4/3-29*n)-5/3*i(4/3-28*n)-11/2*i(6/5-26*n)-17/7*i(3/2-25*n)-5/2*i(1-24*n)-39/7*i(1-19*n)-59/5*i(2/3-18*n)-179/9*i(13/12-12*n)-103/2*i(1/10-9*n)-356/5*i(1-5*n)-429/2*i(20/19-n)+288/5*i(2*n+10/3)+53/6*i(3*n+5/2)+351/7*i(4*n+5/2)+201/4*i(6*n+17/7)+167/3*i(7*n+19/5)+323/5*i(8*n+1/4)+153/7*i(10*n+2/3)+71/5*i(11*n+6/5)+47/12*i(13*n+11/5)+391/26*i(14*n+2)+164/11*i(15*n+1/7)+11/2*i(16*n+2/3)+31/3*i(17*n+1/7)+54/11*i(20*n+1/4)+43/5*i(21*n+13/3)+13/5*i(22*n+3/2)+17/5*i(23*n+11/5)+19/10*i(27*n+4)+15/2*i(30*n+55/18)+4/3*i(32*n+3/5)+5/3*i(33*n+4)+27/7*i(35*n+13/6)+1/4*i(36*n+43/11)+16/5*i(37*n+9/2)+20/19*i(38*n+23/6)+8/3*i(39*n+4/7),s=new b({title:"Elephant curve",plotType:mt.Cartesian});return s.series.push(nt.fromFxFyN(t,e,0,Math.PI*2,1e3)),s}function q2(){const i=Math.sin,t=n=>17/31*i(235/57-32*n)+19/17*i(192/55-30*n)+47/32*i(69/25-29*n)+35/26*i(75/34-27*n)+6/31*i(23/10-26*n)+35/43*i(10/33-25*n)+126/43*i(421/158-24*n)+143/57*i(35/22-22*n)+106/27*i(84/29-21*n)+88/25*i(23/27-20*n)+74/27*i(53/22-19*n)+44/53*i(117/25-18*n)+126/25*i(88/49-17*n)+79/11*i(43/26-16*n)+43/12*i(41/17-15*n)+47/27*i(244/81-14*n)+8/5*i(79/19-13*n)+373/46*i(109/38-12*n)+1200/31*i(133/74-11*n)+67/24*i(157/61-10*n)+583/28*i(13/8-8*n)+772/35*i(59/16-7*n)+3705/46*i(117/50-6*n)+862/13*i(19/8-5*n)+6555/34*i(157/78-3*n)+6949/13*i(83/27-n)-6805/54*i(2*n+1/145)-5207/37*i(4*n+49/74)-1811/58*i(9*n+55/43)-63/20*i(23*n+2/23)-266/177*i(28*n+13/18)-2/21*i(31*n+7/16),e=n=>70/37*i(65/32-32*n)+11/12*i(98/41-31*n)+26/29*i(35/12-30*n)+54/41*i(18/7-29*n)+177/71*i(51/19-27*n)+59/34*i(125/33-26*n)+49/29*i(18/11-25*n)+151/75*i(59/22-24*n)+52/9*i(118/45-22*n)+52/33*i(133/52-21*n)+37/45*i(61/14-20*n)+143/46*i(144/41-19*n)+254/47*i(19/52-18*n)+246/35*i(92/25-17*n)+722/111*i(176/67-16*n)+136/23*i(3/19-15*n)+273/25*i(32/21-13*n)+229/33*i(117/28-12*n)+19/4*i(43/11-11*n)+135/8*i(23/10-10*n)+205/6*i(33/23-8*n)+679/45*i(55/12-7*n)+101/8*i(11/12-6*n)+2760/59*i(40/11-5*n)+1207/18*i(21/23-4*n)+8566/27*i(39/28-3*n)+12334/29*i(47/37-2*n)+15410/39*i(185/41-n)-596/17*i(9*n+3/26)-247/28*i(14*n+25/21)-458/131*i(23*n+21/37)-41/36*i(28*n+7/8),s=new b({title:"PI curve",plotType:mt.Cartesian});return s.series.push(nt.fromFxFyN(t,e,0,Math.PI*2,1e3)),s}function Fa(i,t,e,s,n,o){const r=new b({title:i,subtitle:t}),a=new X({legendPosition:$.BottomCenter,legendPlacement:gt.Outside,legendOrientation:Pt.Horizontal});r.legends.push(a);const u=nt.fromN(n,0,4,100);Object.assign(u,{title:"Exact solution",strokeThickness:5}),r.series.push(u);const m=new G({title:"Euler, h=0.25",markerType:V.Circle,markerFill:f.Black});m.points.push(...J2(o,e,s,4,.25)),r.series.push(m);const c=new G({title:"Heun, h=0.25",markerType:V.Circle,markerFill:f.Black});c.points.push(...Z2(o,e,s,4,.25)),r.series.push(c);const p=new G({title:"Midpoint, h=0.25",markerType:V.Circle,markerFill:f.Black});p.points.push(...K2(o,e,s,4,.25)),r.series.push(p);const x=new G({title:"RK4, h=0.25",markerType:V.Circle,markerFill:f.Black});return x.points.push(...Q2(o,e,s,4,.25)),r.series.push(x),r.axes.push(new y({position:g.Left})),r}function J2(i,t,e,s,n){const o=[];let r=e;for(let a=t;a<s+n/2;a+=n)o.push(d(a,r)),r+=n*i(a,r);return o}function Z2(i,t,e,s,n){const o=[];let r=e;for(let a=t;a<s+n/2;a+=n){o.push(d(a,r));const u=r+n*i(a,r);r=r+n/2*(i(a,r)+i(a+n,u))}return o}function K2(i,t,e,s,n){const o=[];let r=e;for(let a=t;a<s+n/2;a+=n)o.push(d(a,r)),r+=n*i(a+n/2,r+n/2*i(a,r));return o}function Q2(i,t,e,s,n){const o=[];let r=e;for(let a=t;a<s+n/2;a+=n){o.push(d(a,r));const u=n*i(a,r),m=n*i(a+n/2,r+u/2),c=n*i(a+n/2,r+m/2),p=n*i(a+n,r+c);r+=(u+2*m+2*c+p)/6}return o}class t3 extends y{constructor(e){super(e);at(this,"majorTicks",[]);at(this,"minorTicks",[]);at(this,"labels",[])}getTickValues(){const e=this.majorTicks.filter(o=>o>=this.actualMinimum&&o<=this.actualMaximum),s=this.minorTicks.filter(o=>o>=this.actualMinimum&&o<=this.actualMaximum);return{majorTickValues:e,minorTickValues:s,majorLabelValues:e}}formatValueOverride(e){return this.labels[this.majorTicks.indexOf(e)]}}const e3="Misc",i3={category:e3,examples:[{title:"Numeric ODE solvers (y'=y)",example:{model:$2}},{title:"Numeric ODE solvers (y'=x)",example:{model:G2}},{title:"Numeric ODE solvers (y'=cos(x))",example:{model:H2}},{title:"Train schedule",example:{model:U2}},{title:"La Linea (AreaSeries)",example:{model:W2}},{title:"La Linea (LineSeries)",example:{model:X2}},{title:"Conway's Game of Life",example:{model:Y2}},{title:"Elephant curve",example:{model:j2}},{title:"PI curve",example:{model:q2}}]};function s3(){const i=new b({title:"XKCD style plot",subtitle:"Install the 'Humor Sans' font for the best experience"});i.renderingDecorator=e=>new ua(e);const t=nt.fromN(Math.sin,0,10,50,"sin(x)");return i.series.push(t),i}function n3(){const i=new b({title:"Test #2"});i.renderingDecorator=a=>new ua(a),i.axes.push(new y({position:g.Left,minimum:0,maximum:8,title:"INTENSITY"})),i.axes.push(new y({position:g.Bottom,title:"TIME"}));const t=new G({color:f.Cyan,strokeThickness:4}),e=new G({color:f.White,strokeThickness:14}),s=new G({color:f.Red,strokeThickness:4}),n=257,o=1,r=9;for(let a=0;a<n;a++){const u=o+(r-o)*a/(n-1),m=1.5+10*(Math.sin(u)*Math.sin(u)/Math.sqrt(u))*Math.exp(-.5*(u-5)*(u-5)),c=3+10*(Math.sin(u)*Math.sin(u)/Math.sqrt(u))*Math.exp(-.5*(u-7)*(u-7));t.points.push(d(u,m)),e.points.push(d(u,c)),s.points.push(d(u,c))}return i.series.push(t,e,s),i}function o3(){const i=new b({title:"Test #3"});i.renderingDecorator=r=>new ua(r);const t=new X({legendPlacement:gt.Outside,legendPosition:$.BottomCenter,legendOrientation:Pt.Horizontal,legendBorderThickness:0});i.legends.push(t);const e=new H({title:"Series 1",isStacked:!1,strokeColor:f.Black,strokeThickness:1,xAxisKey:"x",yAxisKey:"y"});e.items.push(L({value:25})),e.items.push(L({value:137})),e.items.push(L({value:18})),e.items.push(L({value:40}));const s=new H({title:"Series 2",isStacked:!1,strokeColor:f.Black,strokeThickness:1,xAxisKey:"x",yAxisKey:"y"});s.items.push(L({value:12})),s.items.push(L({value:14})),s.items.push(L({value:120})),s.items.push(L({value:26}));const n=new Z({position:g.Bottom,key:"y"});n.labels.push("Category A","Category B","Category C","Category D");const o=new y({position:g.Left,minimumPadding:0,maximumPadding:.06,absoluteMinimum:0,key:"x"});return i.series.push(e),i.series.push(s),i.axes.push(n),i.axes.push(o),i}const r3="XKCD",a3={category:r3,examples:[{title:"XKCD Test #1",example:{model:s3}},{title:"XKCD Test #2",example:{model:n3}},{title:"XKCD Test #3",example:{model:o3}}]};function l3(){return Lt.createPeaks(void 0,!1)}function u3(){return Lt.createPeaks(j.jet(200),!1)}function m3(){return Lt.createPeaks(j.jet(20),!1)}function h3(){return Lt.createPeaks(j.hue(400),!1)}function c3(){return Lt.createPeaks(j.hueDistinct(200),!1)}function d3(){return Lt.createPeaks(Te.reverse(j.hueDistinct(200)),!1)}function p3(){return Lt.createPeaks(j.hot(200),!1)}function f3(){return Lt.createPeaks(j.hot64,!1)}function g3(){return Lt.createPeaks(j.hot(30),!1)}function x3(){return Lt.createPeaks(j.blueWhiteRed(200),!1)}function w3(){return Lt.createPeaks(j.blueWhiteRed(40),!1)}function y3(){return Lt.createPeaks(j.blackWhiteRed(500),!1)}function S3(){return Lt.createPeaks(j.blackWhiteRed(3),!1)}function b3(){return Lt.createPeaks(j.cool(200),!1)}function M3(){return Lt.createPeaks(j.rainbow(200),!1)}function k3(){return Lt.createPeaks(j.viridis(),!1)}function A3(){return Lt.createPeaks(j.plasma(),!1)}function v3(){return Lt.createPeaks(j.magma(),!1)}function R3(){return Lt.createPeaks(j.inferno(),!1)}function C3(){return Lt.createPeaks(j.cividis(),!1)}function T3(){return Lt.createPeaks(j.viridis(10),!1)}function P3(){return Lt.createPeaks(j.rainbow(7),!1)}function L3(){return Lt.createPeaks(j.jet(6),!1)}const D3="Palettes",I3={category:D3,tags:["Axes"],examples:[{title:"Default palette",example:{model:l3}},{title:"Jet (200 colors) palette",example:{model:u3}},{title:"Jet (20 colors) palette",example:{model:m3}},{title:"Hue (400 colors) palette",example:{model:h3}},{title:"Hue distinct (200 colors) palette",example:{model:c3}},{title:"Hue distinct reversed (200 colors) palette",example:{model:d3}},{title:"Hot (200 colors) palette",example:{model:p3}},{title:"Hot (64 colors) palette",example:{model:f3}},{title:"Hot (30 colors) palette",example:{model:g3}},{title:"Blue-white-red (200 colors) palette",example:{model:x3}},{title:"Blue-white-red (40 colors) palette",example:{model:w3}},{title:"Black-white-red (500 colors) palette",example:{model:y3}},{title:"Black-white-red (3 colors) palette",example:{model:S3}},{title:"Cool (200 colors) palette",example:{model:b3}},{title:"Rainbow (200 colors) palette",example:{model:M3}},{title:"Viridis palette",example:{model:k3}},{title:"Plasma palette",example:{model:A3}},{title:"Magma palette",example:{model:v3}},{title:"Inferno palette",example:{model:R3}},{title:"Cividis palette",example:{model:C3}},{title:"Viridis (10 colors) palette",example:{model:T3}},{title:"Rainbow (7 colors) palette",example:{model:P3}},{title:"Jet (6 colors) palette",example:{model:L3}}]},B3=[i3,a3,I3];class Vn{static mrProcess(t,e=100,s=.5,n=.7,o=.01){let r=e;const a=[],u=new Date;for(let m=0;m<t;m++){const c=-o*(r-e)+this.randomNormal(0,s),p=-o*(r-e)+this.randomNormal(0,n),x=-o*(r-e)+this.randomNormal(0,n),w=r,S=r=r+c,k=this.min(w,S,w+p,w+x),A=this.max(w,S,w+p,w+x),C=new Date(u.getTime()+m*1e3),T=Nt.toDouble(C);a.push(qs(T,A,k,w,S))}return a}static min(t,e,s,n){return Math.min(t,Math.min(e,Math.min(s,n)))}static max(t,e,s,n){return Math.max(t,Math.max(e,Math.max(s,n)))}static randomNormal(t,e){return this.inverseCumNormal(this.rand.next(),t,e)}static inverseCumNormal(t,e,s){const n=-39.69683028665376,o=220.9460984245205,r=-275.9285104469687,a=138.357751867269,u=-30.66479806614716,m=2.506628277459239,c=-54.47609879822406,p=161.5858368580409,x=-155.6989798598866,w=66.80131188771972,S=-13.28068155288572,k=-.007784894002430293,A=-.3223964580411365,C=-2.400758277161838,T=-2.549732539343734,D=4.374664141464968,B=2.938163982698783,I=.007784695709041462,_=.3224671290700398,z=2.445134137142996,E=3.754408661907416,Y=.02425,At=1-Y;let et,pt;return t<Y?(et=Math.sqrt(-2*Math.log(t)),et=(((((k*et+A)*et+C)*et+T)*et+D)*et+B)/((((I*et+_)*et+z)*et+E)*et+1)):t<=At?(et=t-.5,pt=et*et,et=(((((n*pt+o)*pt+r)*pt+a)*pt+u)*pt+m)*et/(((((c*pt+p)*pt+x)*pt+w)*pt+S)*pt+1)):(et=Math.sqrt(-2*Math.log(1-t)),et=-(((((k*et+A)*et+C)*et+T)*et+D)*et+B)/((((I*et+_)*et+z)*et+E)*et+1)),pt=(this.cumN0(et)-t)*Math.sqrt(2)*Math.sqrt(Math.PI)*Math.exp(.5*et*et),et-=pt/(1+.5*et*pt),e+et*s}static cumN0(t){const e=.31938153,s=-.356563782,n=1.781477937,o=-1.821255978,r=1.330274429,a=.2316419,u=.39894228;if(t>=0){const m=1/(1+a*t);return 1-u*Math.exp(-t*t/2)*m*(m*(m*(m*(m*r+o)+n)+s)+e)}else{const m=1/(1-a*t);return u*Math.exp(-t*t/2)*m*(m*(m*(m*(m*r+o)+n)+s)+e)}}}at(Vn,"rand",new Ct);function F3(){const i=new b({title:"Large Data Set (wide window)"}),t=new Nt({position:g.Bottom});i.axes.push(t);const e=new y({position:g.Left});i.axes.push(e);const s=1e5,n=Vn.mrProcess(s),o=new Fn({color:f.Black,increasingColor:f.DarkGreen,decreasingColor:f.Red,dataFieldX:"Time",dataFieldHigh:"H",dataFieldLow:"L",dataFieldOpen:"O",dataFieldClose:"C",trackerStringFormatter:function(m){return`High: ${m.high.toFixed(2)}
Low: ${m.low.toFixed(2)}
Open: ${m.open.toFixed(2)}
Close: ${m.close.toFixed(2)}`},itemsSource:n}),r=s-200,a=70;t.minimum=n[r].x,t.maximum=n[r+a].x;const u=n.slice(r,r+a);return e.minimum=Math.min(...u.map(m=>m.low)),e.maximum=Math.max(...u.map(m=>m.high)),i.series.push(o),t.axisChanged=(m,c)=>Na(o,t,e),i}function N3(){const i=new b({title:"Large Data Set (narrow window)"}),t=new Nt({position:g.Bottom});i.axes.push(t);const e=new y({position:g.Left});i.axes.push(e);const s=1e5,n=Vn.mrProcess(s),o=new Fn({color:f.Black,increasingColor:f.DarkGreen,decreasingColor:f.Red,trackerStringFormatter:function(r){return`High: ${r.high.toFixed(2)}
Low: ${r.low.toFixed(2)}
Open: ${r.open.toFixed(2)}
Close: ${r.close.toFixed(2)}`},itemsSource:n});return t.minimum=n[0].x,t.maximum=n[29].x,e.minimum=n.slice(0,30).map(r=>r.low).reduce((r,a)=>Math.min(r,a)),e.maximum=n.slice(0,30).map(r=>r.high).reduce((r,a)=>Math.max(r,a)),i.series.push(o),t.axisChanged=(r,a)=>Na(o,t,e),i}function _3(){const i=new b({title:"Small Data Set"}),t=new Nt({position:g.Bottom});i.axes.push(t);const e=new y({position:g.Left});i.axes.push(e);const s=100,n=Vn.mrProcess(s),o=new Fn({color:f.Black,increasingColor:f.DarkGreen,decreasingColor:f.Red,dataFieldX:"X",dataFieldHigh:"High",dataFieldLow:"Low",dataFieldOpen:"Open",dataFieldClose:"Close",trackerStringFormatter:function(r){return`High: ${r.high.toFixed(2)}
Low: ${r.low.toFixed(2)}
Open: ${r.open.toFixed(2)}
Close: ${r.close.toFixed(2)}`},itemsSource:n});return i.series.push(o),t.axisChanged=(r,a)=>Na(o,t,e),i}function V3(){const i=Nt.toDouble(new Date(2016,1,1)),t=new b({title:"Simple CandleStickSeries example"});t.axes.push(new Nt({position:g.Bottom,minimum:i-7,maximum:i+7})),t.axes.push(new y({position:g.Left}));const e=new Fn;return e.items.push(qs(i,100,80,92,94)),e.items.push(qs(i+1,102,77,94,93)),e.items.push(qs(i+2,99,85,93,93)),t.series.push(e),t}function Na(i,t,e){const s=t.actualMinimum,n=t.actualMaximum,o=i.findByX(s),r=i.findByX(n,o);let a=ot,u=ct;for(let p=o;p<=r;p++){const x=i.items[p];a=Math.min(a,x.low),u=Math.max(u,x.high)}const c=(u-a)*.1;e.zoom(a-c,u+c)}const E3="CandleStickSeries",z3={category:E3,tags:["Series"],examples:[{title:"Large Data Set (wide window)",example:{model:F3}},{title:"Large Data Set (narrow window)",example:{model:N3}},{title:"Small Set",example:{model:_3}},{title:"Simple CandleStickSeries example",example:{model:V3}}]};function O3(){const i=new b({title:"HighLowSeries"}),t=new X({legendSymbolLength:24});i.legends.push(t);const e=new Uo({title:"HighLowSeries 1",color:f.Black}),s=new Ct(314);let n=100;for(let o=0;o<24;o++){n=n+s.next()+.1;const r=n+10+s.next()*10,a=n-(10+s.next()*10),u=a+s.next()*(r-a),m=a+s.next()*(r-a);e.items.push({x:o,high:r,low:a,open:u,close:m})}return i.series.push(e),i.axes.push(new y({position:g.Left,maximumPadding:.3,minimumPadding:.3})),i}function $3(){const i=new b,t=Nt.toDouble(new Date(2013,5,4)),e=Ai(),s=new Nt({position:g.Bottom,minimum:t-.9,maximum:t+1.9,intervalType:ut.Days,majorStep:1,minorStep:1,stringFormatter:o=>e.format(o,"YYYY-MM-DD")});i.axes.push(s);const n=new Uo({trackerStringFormatter:function(o){return`X: ${e.format(o.xValue,"YYYY-MM-DD")}
High: ${o.high.toFixed(2)}
Low: ${o.low.toFixed(2)}
Open: ${o.open.toFixed(2)}
Close: ${o.close.toFixed(2)}`}});return n.items.push(qs(t,14,10,13,12.4)),n.items.push(qs(t+1,17,8,12.4,16.3)),i.series.push(n),i}const G3="HighLowSeries",H3={category:G3,tags:["Series"],examples:[{title:"HighLowSeries",example:{model:O3}},{title:"HighLowSeries (DateTime axis)",example:{model:$3}}]};class Iu{static mrProcess(t,e=100,s=500,n=.5,o=.75,r=.01){let a=e;const u=[],m=new Date;for(let c=0;c<t;c++){const p=-r*(a-e)+this.randomNormal(0,n),x=a,S=(a=a+p)-x,k=s*Math.exp(Math.abs(S)/n),C=((S<0?-Math.min(-S/o,1):Math.min(S/o,1))+1)/2,T=C*k,D=(1-C)*k,B=new Date(m.getTime()+c*1e3),I=Nt.toDouble(B);u.push(ec(I,T,D))}return u}static min(t,e,s,n){return Math.min(t,Math.min(e,Math.min(s,n)))}static max(t,e,s,n){return Math.max(t,Math.max(e,Math.max(s,n)))}static randomNormal(t,e){return Vn.inverseCumNormal(this.rand.next(),t,e)}}at(Iu,"rand",new Ct);function U3(){return rn("Just Volume (combined)",Ri.Combined,!1)}function W3(){return rn("Just Volume (combined)",Ri.Combined,!0)}function X3(){return rn("Just Volume (stacked)",Ri.Stacked,!1)}function Y3(){return rn("Just Volume (stacked)",Ri.Stacked,!0)}function j3(){return rn("Just Volume (+/-)",Ri.PositiveNegative,!1)}function q3(){return rn("Just Volume (+/-)",Ri.PositiveNegative,!0)}function rn(i,t,e=!1,s=1e4){s=201;const n=new b({title:i}),o=new nu({positiveColor:f.DarkGreen,negativeColor:f.Red,positiveHollow:!1,negativeHollow:!1,volumeStyle:t,title:"VolumeSeries"});for(const x of Iu.mrProcess(s))o.append(x);const r=s-200,a=s-120,u=o.items[r].x,m=o.items[a].x,c=new Nt({position:g.Bottom,minimum:u,maximum:m}),p=new y({position:g.Left,startPosition:0,endPosition:1,minimum:e?NaN:0,maximum:e?NaN:1e4});switch(t){case Ri.Combined:case Ri.Stacked:n.axes.push(c),n.axes.push(p);break;case Ri.PositiveNegative:p.minimum=e?NaN:-1e4,n.axes.push(c),n.axes.push(p);break}return n.series.push(o),n}const J3="VolumeSeries",Z3={category:J3,tags:["Series"],examples:[{title:"Just Volume (combined), fixed axis",example:{model:U3}},{title:"Just Volume (combined), natural axis",example:{model:W3}},{title:"Just Volume (stacked), fixed axis",example:{model:X3}},{title:"Just Volume (stacked), natural axis",example:{model:Y3}},{title:"Just Volume (+/-), fixed axis",example:{model:j3}},{title:"Just Volume (+/-), natural axis",example:{model:q3}}]},K3=[z3,H3,Z3];function Q3(){const i=new b({title:"AreaSeries with default style"});return i.series.push(_a()),i}function t5(){const i=new b({title:"AreaSeries with different stroke colors"}),t=_a();return t.color=f.Red,t.color2=f.Blue,i.series.push(t),i}function e5(){const i=new b({title:"AreaSeries with crossing lines"}),t=new wi;return t.points.push(d(0,50)),t.points.push(d(10,140)),t.points.push(d(20,60)),t.points2.push(d(0,60)),t.points2.push(d(5,80)),t.points2.push(d(20,70)),i.series.push(t),i}function i5(){const i=new b({title:"AreaSeries with custom TrackerFormatString"});i.axes.push(new y({position:g.Bottom,title:"X-axis"})),i.axes.push(new y({position:g.Left,title:"Y-axis"}));const t=_a();return t.title="X={2:0.0} Y={4:0.0}",t.trackerStringFormatter=function(e){return`X=${e.xValue.toFixed(1)} Y=${e.yValue.toFixed(1)}`},i.series.push(t),i}function s5(){const i=new b({title:"AreaSeries with constant baseline",subtitle:"Empty Points2, ConstantY2 = 0 (default)"}),t=new wi;return t.points.push(d(0,50)),t.points.push(d(10,140)),t.points.push(d(20,60)),i.series.push(t),i}function n5(){const i=new b({title:"AreaSeries with constant baseline",subtitle:"Empty Points2, ConstantY2 = NaN"}),t=new wi;return t.points.push(d(0,50)),t.points.push(d(10,140)),t.points.push(d(20,60)),t.constantY2=Number.NaN,i.series.push(t),i}function o5(){const i=new b({title:"AreaSeries with constant baseline",subtitle:"ItemsSource and DataField2 not set, ConstantY2 = -20"}),t=new wi,e=[d(0,50),d(10,140),d(20,60)];return t.itemsSource=e,t.dataFieldX="x",t.dataFieldY="y",t.constantY2=-20,i.series.push(t),i}function r5(){const i=new b({title:"LineSeries and AreaSeries"}),t=new y({position:g.Bottom});i.axes.push(t);const e=new y;i.axes.push(e);const s=new wi({fill:f.LightBlue,dataFieldX2:"Time",dataFieldY2:"Minimum",color:f.Red,strokeThickness:0,markerFill:f.Transparent,dataFieldX:"Time",dataFieldY:"Maximum"});s.points2.push(d(0,-5.04135905692417)),s.points2.push(d(2.5,-4.91731850813018)),s.points2.push(d(5,-4.45266314658926)),s.points2.push(d(7.5,-3.87303874542613)),s.points2.push(d(10,-3.00101110255393)),s.points2.push(d(12.5,-2.17980725503518)),s.points2.push(d(15,-1.67332229254456)),s.points2.push(d(17.5,-1.10537158549082)),s.points2.push(d(20,-.6145459544447)),s.points2.push(d(22.5,.120028106039404)),s.points2.push(d(25,1.06357270435597)),s.points2.push(d(27.5,1.87301405606466)),s.points2.push(d(30,2.57569854952195)),s.points2.push(d(32.5,3.59165537664278)),s.points2.push(d(35,4.87991958133872)),s.points2.push(d(37.5,6.36214537958714)),s.points2.push(d(40,7.62564585126268)),s.points2.push(d(42.5,8.69606320261772)),s.points2.push(d(45,10.0118704438265)),s.points2.push(d(47.5,11.0434480519236)),s.points2.push(d(50,11.9794171576758)),s.points2.push(d(52.5,12.9591851832621)),s.points2.push(d(55,14.172107889304)),s.points2.push(d(57.5,15.5520057698488)),s.points2.push(d(60,17.2274942386092)),s.points2.push(d(62.5,18.6983982186757)),s.points2.push(d(65,20.4560332001448)),s.points2.push(d(67.5,22.4867327382261)),s.points2.push(d(70,24.5319674302041)),s.points2.push(d(72.5,26.600547815813)),s.points2.push(d(75,28.5210891459701)),s.points2.push(d(77.5,30.6793080755413)),s.points2.push(d(80,33.0546651200646)),s.points2.push(d(82.5,35.3256065179713)),s.points2.push(d(85,37.6336074839968)),s.points2.push(d(87.5,40.2012266359763)),s.points2.push(d(90,42.8923555399256)),s.points2.push(d(92.5,45.8665211907432)),s.points2.push(d(95,48.8200195945427)),s.points2.push(d(97.5,51.8304284402311)),s.points2.push(d(100,54.6969868542147)),s.points2.push(d(102.5,57.7047292990632)),s.points2.push(d(105,60.4216644602929)),s.points2.push(d(107.5,62.926258762519)),s.points2.push(d(110,65.1829734629407)),s.points2.push(d(112.5,67.2365592083133)),s.points2.push(d(115,69.5713628691022)),s.points2.push(d(117.5,71.7267046705944)),s.points2.push(d(120,73.633463102781)),s.points2.push(d(122.5,75.4660150158061)),s.points2.push(d(125,77.5669292504745)),s.points2.push(d(127.5,79.564218544664)),s.points2.push(d(130,81.8631309028078)),s.points2.push(d(132.5,83.9698189969034)),s.points2.push(d(135,86.3847886532009)),s.points2.push(d(137.5,88.5559348267764)),s.points2.push(d(140,91.0455050418365)),s.points2.push(d(142.5,93.6964157585504)),s.points2.push(d(145,96.284336864941)),s.points2.push(d(147.5,98.7508602689723)),s.points2.push(d(150,100.904510594255)),s.points2.push(d(152.5,103.266136681506)),s.points2.push(d(155,105.780951269521)),s.points2.push(d(157.5,108.032859257065)),s.points2.push(d(160,110.035478448093)),s.points2.push(d(162.5,112.10655731615)),s.points2.push(d(165,114.37480786097)),s.points2.push(d(167.5,116.403992550869)),s.points2.push(d(170,118.61663988727)),s.points2.push(d(172.5,120.538730287384)),s.points2.push(d(175,122.515721057177)),s.points2.push(d(177.5,124.474386629124)),s.points2.push(d(180,126.448283293214)),s.points2.push(d(182.5,128.373811322299)),s.points2.push(d(185,130.33627914667)),s.points2.push(d(187.5,132.487933658477)),s.points2.push(d(190,134.716989778456)),s.points2.push(d(192.5,136.817287595392)),s.points2.push(d(195,139.216488664698)),s.points2.push(d(197.5,141.50803227574)),s.points2.push(d(200,143.539586683614)),s.points2.push(d(202.5,145.535911545221)),s.points2.push(d(205,147.516964978686)),s.points2.push(d(207.5,149.592416731684)),s.points2.push(d(210,151.600983566512)),s.points2.push(d(212.5,153.498210993362)),s.points2.push(d(215,155.512606828247)),s.points2.push(d(217.5,157.426564302774)),s.points2.push(d(220,159.364474964172)),s.points2.push(d(222.5,161.152806492128)),s.points2.push(d(225,162.679069434562)),s.points2.push(d(227.5,163.893622036741)),s.points2.push(d(230,165.475827621238)),s.points2.push(d(232.5,167.303960444734)),s.points2.push(d(235,169.259393394952)),s.points2.push(d(237.5,171.265193646758)),s.points2.push(d(240,173.074304345192)),s.points2.push(d(242.5,174.975492766814)),s.points2.push(d(245,176.684088218484)),s.points2.push(d(247.5,178.406887247603)),s.points.push(d(0,5.0184649433561)),s.points.push(d(2.5,5.27685959268215)),s.points.push(d(5,5.81437064628786)),s.points.push(d(7.5,6.51022475040994)),s.points.push(d(10,7.49921246878766)),s.points.push(d(12.5,8.41941631823751)),s.points.push(d(15,9.09826907222079)),s.points.push(d(17.5,9.89500750098145)),s.points.push(d(20,10.6633345249404)),s.points.push(d(22.5,11.6249613445368)),s.points.push(d(25,12.8816391467497)),s.points.push(d(27.5,13.9665185705603)),s.points.push(d(30,14.8501816818724)),s.points.push(d(32.5,16.0683128022441)),s.points.push(d(35,17.5378799723172)),s.points.push(d(37.5,19.1262752954039)),s.points.push(d(40,20.4103953650735)),s.points.push(d(42.5,21.5430627723891)),s.points.push(d(45,22.9105459463366)),s.points.push(d(47.5,23.9802361888719)),s.points.push(d(50,24.8659461235003)),s.points.push(d(52.5,25.7303194442439)),s.points.push(d(55,26.7688545912359)),s.points.push(d(57.5,28.0545112571933)),s.points.push(d(60,29.7036634266394)),s.points.push(d(62.5,31.2273634344467)),s.points.push(d(65,33.1038196356519)),s.points.push(d(67.5,35.2639893610328)),s.points.push(d(70,37.434293559489)),s.points.push(d(72.5,39.7109359368267)),s.points.push(d(75,41.7573881676222)),s.points.push(d(77.5,44.0460374479862)),s.points.push(d(80,46.5098714746581)),s.points.push(d(82.5,48.7754012129155)),s.points.push(d(85,51.1619816926597)),s.points.push(d(87.5,53.9036778414639)),s.points.push(d(90,56.7448825012636)),s.points.push(d(92.5,59.9294987878434)),s.points.push(d(95,63.0148831289797)),s.points.push(d(97.5,66.0721745989622)),s.points.push(d(100,68.8980036274521)),s.points.push(d(102.5,71.7719322611447)),s.points.push(d(105,74.4206055336728)),s.points.push(d(107.5,76.816198386632)),s.points.push(d(110,79.0040432726983)),s.points.push(d(112.5,80.9617606926066)),s.points.push(d(115,83.1345574620341)),s.points.push(d(117.5,85.0701022046479)),s.points.push(d(120,86.8557530286516)),s.points.push(d(122.5,88.5673387745243)),s.points.push(d(125,90.6003321543338)),s.points.push(d(127.5,92.439864576254)),s.points.push(d(130,94.5383744861178)),s.points.push(d(132.5,96.4600166864507)),s.points.push(d(135,98.6091052949006)),s.points.push(d(137.5,100.496459351478)),s.points.push(d(140,102.705767030085)),s.points.push(d(142.5,105.009994476992)),s.points.push(d(145,107.31287026052)),s.points.push(d(147.5,109.584842542272)),s.points.push(d(150,111.641435600837)),s.points.push(d(152.5,113.988459973544)),s.points.push(d(155,116.50349048027)),s.points.push(d(157.5,118.753612704274)),s.points.push(d(160,120.801728924085)),s.points.push(d(162.5,122.902486914165)),s.points.push(d(165,125.104391935796)),s.points.push(d(167.5,127.06056966547)),s.points.push(d(170,129.217086578495)),s.points.push(d(172.5,131.151968896274)),s.points.push(d(175,133.159906275133)),s.points.push(d(177.5,135.065263957561)),s.points.push(d(180,137.041870026822)),s.points.push(d(182.5,138.937477489811)),s.points.push(d(185,140.776914926282)),s.points.push(d(187.5,142.786975776398)),s.points.push(d(190,144.862762377347)),s.points.push(d(192.5,146.89654967049)),s.points.push(d(195,149.204343821204)),s.points.push(d(197.5,151.369748673527)),s.points.push(d(200,153.324438580137)),s.points.push(d(202.5,155.173148715344)),s.points.push(d(205,157.0501827528)),s.points.push(d(207.5,159.109122278359)),s.points.push(d(210,161.044446932778)),s.points.push(d(212.5,162.942364031841)),s.points.push(d(215,164.966769883021)),s.points.push(d(217.5,166.89711806788)),s.points.push(d(220,168.906874949069)),s.points.push(d(222.5,170.85692034995)),s.points.push(d(225,172.602125010408)),s.points.push(d(227.5,173.964258466598)),s.points.push(d(230,175.629908385654)),s.points.push(d(232.5,177.495778359378)),s.points.push(d(235,179.432933300749)),s.points.push(d(237.5,181.400180771342)),s.points.push(d(240,183.232300309899)),s.points.push(d(242.5,185.225502661441)),s.points.push(d(245,186.979590140413)),s.points.push(d(247.5,188.816640077725)),s.title="Maximum/Minimum",i.series.push(s);const n=new G({color:f.Blue,markerFill:f.Transparent,dataFieldX:"Time",dataFieldY:"Value"});return n.points.push(d(0,-.011447056784037)),n.points.push(d(2.5,.179770542275985)),n.points.push(d(5,.6808537498493)),n.points.push(d(7.5,1.31859300249191)),n.points.push(d(10,2.24910068311687)),n.points.push(d(12.5,3.11980453160117)),n.points.push(d(15,3.71247338983811)),n.points.push(d(17.5,4.39481795774531)),n.points.push(d(20,5.02439428524784)),n.points.push(d(22.5,5.87249472528812)),n.points.push(d(25,6.97260592555283)),n.points.push(d(27.5,7.91976631331247)),n.points.push(d(30,8.71294011569719)),n.points.push(d(32.5,9.82998408944345)),n.points.push(d(35,11.208899776828)),n.points.push(d(37.5,12.7442103374955)),n.points.push(d(40,14.0180206081681)),n.points.push(d(42.5,15.1195629875034)),n.points.push(d(45,16.4612081950815)),n.points.push(d(47.5,17.5118421203978)),n.points.push(d(50,18.4226816405881)),n.points.push(d(52.5,19.344752313753)),n.points.push(d(55,20.47048124027)),n.points.push(d(57.5,21.8032585135211)),n.points.push(d(60,23.4655788326243)),n.points.push(d(62.5,24.9628808265612)),n.points.push(d(65,26.7799264178984)),n.points.push(d(67.5,28.8753610496295)),n.points.push(d(70,30.9831304948466)),n.points.push(d(72.5,33.1557418763199)),n.points.push(d(75,35.1392386567962)),n.points.push(d(77.5,37.3626727617638)),n.points.push(d(80,39.7822682973613)),n.points.push(d(82.5,42.0505038654434)),n.points.push(d(85,44.3977945883283)),n.points.push(d(87.5,47.0524522387201)),n.points.push(d(90,49.8186190205946)),n.points.push(d(92.5,52.8980099892933)),n.points.push(d(95,55.9174513617612)),n.points.push(d(97.5,58.9513015195966)),n.points.push(d(100,61.7974952408334)),n.points.push(d(102.5,64.738330780104)),n.points.push(d(105,67.4211349969828)),n.points.push(d(107.5,69.8712285745755)),n.points.push(d(110,72.0935083678195)),n.points.push(d(112.5,74.0991599504599)),n.points.push(d(115,76.3529601655682)),n.points.push(d(117.5,78.3984034376212)),n.points.push(d(120,80.2446080657163)),n.points.push(d(122.5,82.0166768951652)),n.points.push(d(125,84.0836307024042)),n.points.push(d(127.5,86.002041560459)),n.points.push(d(130,88.2007526944628)),n.points.push(d(132.5,90.2149178416771)),n.points.push(d(135,92.4969469740507)),n.points.push(d(137.5,94.5261970891274)),n.points.push(d(140,96.875636035961)),n.points.push(d(142.5,99.3532051177711)),n.points.push(d(145,101.798603562731)),n.points.push(d(147.5,104.167851405622)),n.points.push(d(150,106.272973097546)),n.points.push(d(152.5,108.627298327525)),n.points.push(d(155,111.142220874895)),n.points.push(d(157.5,113.39323598067)),n.points.push(d(160,115.418603686089)),n.points.push(d(162.5,117.504522115157)),n.points.push(d(165,119.739599898383)),n.points.push(d(167.5,121.732281108169)),n.points.push(d(170,123.916863232882)),n.points.push(d(172.5,125.845349591829)),n.points.push(d(175,127.837813666155)),n.points.push(d(177.5,129.769825293343)),n.points.push(d(180,131.745076660018)),n.points.push(d(182.5,133.655644406055)),n.points.push(d(185,135.556597036476)),n.points.push(d(187.5,137.637454717438)),n.points.push(d(190,139.789876077902)),n.points.push(d(192.5,141.856918632941)),n.points.push(d(195,144.210416242951)),n.points.push(d(197.5,146.438890474634)),n.points.push(d(200,148.432012631876)),n.points.push(d(202.5,150.354530130282)),n.points.push(d(205,152.283573865743)),n.points.push(d(207.5,154.350769505022)),n.points.push(d(210,156.322715249645)),n.points.push(d(212.5,158.220287512602)),n.points.push(d(215,160.239688355634)),n.points.push(d(217.5,162.161841185327)),n.points.push(d(220,164.135674956621)),n.points.push(d(222.5,166.004863421039)),n.points.push(d(225,167.640597222485)),n.points.push(d(227.5,168.928940251669)),n.points.push(d(230,170.552868003446)),n.points.push(d(232.5,172.399869402056)),n.points.push(d(235,174.346163347851)),n.points.push(d(237.5,176.33268720905)),n.points.push(d(240,178.153302327545)),n.points.push(d(242.5,180.100497714128)),n.points.push(d(245,181.831839179449)),n.points.push(d(247.5,183.611763662664)),n.title="Average",i.series.push(n),i}function _a(){const i=new wi;return i.points.push(d(0,50)),i.points.push(d(10,40)),i.points.push(d(20,60)),i.points2.push(d(0,60)),i.points2.push(d(5,80)),i.points2.push(d(20,70)),i}const a5="AreaSeries",l5={category:a5,tags:["Series"],examples:[{title:"Default style",example:{model:Q3}},{title:"Different stroke colors",example:{model:t5}},{title:"Crossing lines",example:{model:e5}},{title:"Custom TrackerFormatString",example:{model:i5}},{title:"Constant baseline (empty Points2)",example:{model:s5}},{title:"Constant baseline (empty Points2, ConstantY2=NaN)",example:{model:n5}},{title:"Constant baseline (ItemsSource and DataField2 not set)",example:{model:o5}},{title:"LineSeries and AreaSeries",example:{model:r5}}]};function Bu(){const i=new b;i.title="With labels";const t=function(r,a){return r.value.toString()},e=new Ct(1),s=[new H({labelStringFormatter:t,labelPlacement:dt.Base,textColor:f.White,title:"Base"}),new H({labelStringFormatter:t,labelPlacement:dt.Inside,textColor:f.White,title:"Inside"}),new H({labelStringFormatter:t,labelPlacement:dt.Middle,textColor:f.White,title:"Middle"}),new H({labelStringFormatter:t,labelPlacement:dt.Outside,title:"Outside"})];for(let r=0;r<4;r++)for(const a of s)a.items.push(L(e.next(-100,100)));const n=new Z;n.position=g.Left,n.labels.push("Category A","Category B","Category C","Category D");const o=new y;o.position=g.Bottom,o.minimumPadding=.06,o.maximumPadding=.06,o.extraGridlines=[0];for(const r of s)i.series.push(r);return i.axes.push(n),i.axes.push(o),i}function u5(){const i=Bu();for(const t of i.series)t.labelAngle=-45;return i}const m5=()=>En(!0,"Simple stacked model"),Fu=()=>{const i=new b({title:"Multiple Value Axes"}),t=new Z({position:g.Left}),e=new y({title:"Value Axis 1",position:g.Bottom,minimumPadding:.06,maximumPadding:.06,extraGridlines:[0],endPosition:.5,key:"x1"}),s=new y({title:"Value Axis 2",position:g.Bottom,minimumPadding:.06,maximumPadding:.06,extraGridlines:[0],startPosition:.5,key:"x2"});i.axes.push(t,e,s);const n=[new H({xAxisKey:"x1"}),new H({xAxisKey:"x1"}),new H({xAxisKey:"x2"}),new H({xAxisKey:"x2"})],o=new Ct(1);for(const r of n){for(let a=0;a<4;a++)r.items.push(L(o.next(-100,100)));i.series.push(r)}return i},h5=()=>{const i=Fu();i.title=`Stacked, ${i.title}`;for(const t of i.series)t.isStacked=!0;return i},Nu=()=>{const i=new b({title:"Multiple Category Axes"});i.legends.push(new X({isLegendVisible:!0,legendPosition:$.TopLeft,legendPlacement:gt.Inside}));const t=new y({position:g.Bottom,key:"x",extraGridlines:[0]}),e=new Z({title:"Category Axis 1",position:g.Left,minimumPadding:.06,maximumPadding:.06,endPosition:.5,key:"y1"}),s=new Z({title:"Category Axis 2",position:g.Left,minimumPadding:.06,maximumPadding:.06,startPosition:.5,key:"y2"});i.axes.push(t,e,s);const n=[new H({yAxisKey:"y1",xAxisKey:"x",renderInLegend:!0,title:"Y1A"}),new H({yAxisKey:"y1",xAxisKey:"x",renderInLegend:!0,title:"Y1B"}),new H({yAxisKey:"y2",xAxisKey:"x",renderInLegend:!0,title:"Y2A"}),new H({yAxisKey:"y2",xAxisKey:"x",renderInLegend:!0,title:"Y2B"})],o=new Ct;for(const r of n){for(let a=0;a<4;a++)r.items.push(L(o.next(-100,100)));i.series.push(r)}return i},c5=()=>{const i=Nu();i.title=`Stacked, ${i.title}`;for(const t of i.series)t.isStacked=!0;return i},d5=()=>{const i=new b({title:"Empty series"}),t=new H({title:"Series 1"}),e=new H({title:"Series 2"}),s=new Z({position:g.Left}),n=new y({position:g.Bottom,minimumPadding:0});return i.series.push(t,e),i.axes.push(s,n),i},p5=()=>{const i=new b({title:"No category axis defined"}),t=new H({title:"Series 1",itemsSource:[L(25),L(137)]}),e=new H({title:"Series 2",itemsSource:[L(52),L(317)]}),s=new y({position:g.Bottom,minimumPadding:0});return i.series.push(t,e),i.axes.push(s),i},f5=()=>{const i=[{label:"Apples",value1:37,value2:12,value3:19},{label:"Pears",value1:7,value2:21,value3:9},{label:"Bananas",value1:23,value2:2,value3:29}],t=new b({title:"Binding to ItemsSource"}),e=new X({legendPlacement:gt.Outside});t.legends.push(e);const s=new Z({position:g.Left,labelField:"label",itemsSource:i,majorStep:1,minorStep:1});t.axes.push(s);const n=new y({position:g.Bottom,absoluteMinimum:0,minimumPadding:0});t.axes.push(n);const o=new H({fillColor:M.fromArgb(255,78,154,6),valueField:"value1",title:"2009",itemsSource:i});t.series.push(o);const r=new H({fillColor:M.fromArgb(255,200,141,0),valueField:"value2",title:"2010",itemsSource:i});t.series.push(r);const a=new H({fillColor:M.fromArgb(255,204,0,0),valueField:"value3",title:"2011",itemsSource:i});return t.series.push(a),t},g5=()=>{const i=new b({title:"Binding to ItemsSource",subtitle:"The items are defined by an array of BarItem/ColumnItem"});return i.series.push(new H({title:"Series 1",itemsSource:[L({value:25}),L({value:137})]})),i.series.push(new H({title:"Series 2",itemsSource:[L({value:52}),L({value:317})]})),i.axes.push(new Z({position:g.Left})),i.axes.push(new y({position:g.Bottom,minimumPadding:0})),i},x5=()=>{const i=new b({title:"Binding to ItemsSource",subtitle:"The items are defined by a List of BarItem/ColumnItem"});return i.series.push(new H({title:"Series 1",itemsSource:[L({value:25}),L({value:137})]})),i.series.push(new H({title:"Series 2",itemsSource:[L({value:52}),L({value:317})]})),i.axes.push(new Z({position:g.Left})),i.axes.push(new y({position:g.Bottom,minimumPadding:0})),i},w5=()=>{const i=new b({title:"Binding to ItemsSource",subtitle:"Reflect by 'ValueField'"});return i.series.push(new H({title:"Series 1",valueField:"value1",itemsSource:[{value1:25},{value1:137}]})),i.series.push(new H({title:"Series 2",valueField:"value1",itemsSource:[{value1:52},{value1:317}]})),i.axes.push(new Z({position:g.Left})),i.axes.push(new y({position:g.Bottom,minimumPadding:0})),i},y5=()=>{const i=new b({title:"Defined by Items",subtitle:"The items are added to the `Items` property."}),t=new H({title:"Series 1"});t.items.push(L({value:25}),L({value:137}));const e=new H({title:"Series 2"});return e.items.push(L({value:52}),L({value:317})),i.series.push(t,e),i.axes.push(new Z({position:g.Left})),i.axes.push(new y({position:g.Bottom,minimumPadding:0})),i};function S5(){const i=new b({title:"Empty category axis"}),t=new H({title:"Series 1"});t.items.push(L({value:25})),t.items.push(L({value:137})),t.items.push(L({value:18})),t.items.push(L({value:40}));const e=new H({title:"Series 2"});e.items.push(L({value:-12})),e.items.push(L({value:-14})),e.items.push(L({value:-120})),e.items.push(L({value:-26}));const s=new Z({position:g.Left}),n=new y({position:g.Bottom,minimumPadding:.06,maximumPadding:.06,extraGridlines:[0],extraGridlineStyle:v.Solid,extraGridlineColor:f.Black,extraGridlineThickness:1});return i.series.push(t,e),i.axes.push(s,n),i}function b5(){return Vu(!1,"With negative values")}function M5(){return Vu(!0,"Stacked with negative values")}function k5(){const i=En(!1,"Mixed with LineSeries");i.title="Mixed with LineSeries";const t=new G({title:"LineSeries 1"});return t.points.push(d(25,0)),t.points.push(d(137,1)),t.points.push(d(18,2)),t.points.push(d(40,3)),i.series.push(t),i}function A5(){const i=En(!1,"No axes defined");return i.axes.length=0,i}function v5(){const i=En(!0,"Stacked and no axes defined");return i.axes.length=0,i}function R5(){const i=new b({title:"Logarithmic axis"}),t=new X({legendPlacement:gt.Outside,legendPosition:$.BottomCenter,legendOrientation:Pt.Horizontal,legendBorderThickness:0});i.legends.push(t);const e=new H({title:"Series 1",baseValue:.1,strokeColor:f.Black,strokeThickness:1});e.items.push(L({value:25})),e.items.push(L({value:37})),e.items.push(L({value:18})),e.items.push(L({value:40}));const s=new Z({position:g.Left});return s.labels.push("Category A","Category B","Category C","Category D"),i.series.push(e),i.axes.push(s),i.axes.push(new Mt({position:g.Bottom,minimum:.1,minimumPadding:0,absoluteMinimum:0})),i}function C5(){const i=new b({title:"Logarithmic axis"}),t=new X({legendPlacement:gt.Outside,legendPosition:$.BottomCenter,legendOrientation:Pt.Horizontal,legendBorderThickness:0});i.legends.push(t);const e=new H({title:"Series 1",baseLine:.1,strokeColor:f.Black,strokeThickness:1});e.items.push(L({value:25})),e.items.push(L({value:37})),e.items.push(L({value:18})),e.items.push(L({value:40}));const s=new Z({position:g.Left});return s.labels.push("Category A","Category B","Category C","Category D"),i.series.push(e),i.axes.push(s),i.axes.push(new Mt({position:g.Bottom,minimumPadding:0,absoluteMinimum:0})),i}function _u(){const i=new b({title:"Logarithmic axis"}),t=new X({legendPlacement:gt.Outside});i.legends.push(t);const e=[{label:"Apples",value1:37,value2:12,value3:19},{label:"Pears",value1:7,value2:21,value3:9},{label:"Bananas",value1:23,value2:2,value3:29}];return i.series.push(new H({title:"2009",itemsSource:e,valueField:"value1"})),i.series.push(new H({title:"2010",itemsSource:e,valueField:"value2"})),i.series.push(new H({title:"2011",itemsSource:e,valueField:"value3"})),i.axes.push(new Z({position:g.Left,itemsSource:e,labelField:"label"})),i.axes.push(new Mt({position:g.Bottom,minimum:1})),i}function T5(){const i=_u();for(const t of i.series)t instanceof H&&(t.isStacked=!0);return i}function P5(){return Ea(1e5,5)}function L5(){return Ea(1e5,20)}function D5(){return Ea(1e5,200)}function I5(){return J5(1e5,2e3)}function B5(){const i=new b({title:"Different colors within the same series"}),t=new H({title:"Series 1"});t.items.push(L({value:1,color:f.Red})),t.items.push(L({value:2,color:f.Green})),t.items.push(L({value:1,color:f.Blue}));const e=new Z({title:"Category",position:g.Left});return e.labels.push("A","B","C"),i.axes.push(e),i.series.push(t),i}function F5(){const i=new b({title:"Stacking groups"}),t=new H({title:"Series 1",stackGroup:"1",isStacked:!0});t.items.push(L({value:1})),t.items.push(L({value:2})),i.series.push(t);const e=new H({title:"Series 2",stackGroup:"2",isStacked:!0});e.items.push(L({value:2})),e.items.push(L({value:1})),i.series.push(e);const s=new H({title:"Series 3",stackGroup:"1",isStacked:!0});s.items.push(L({value:3})),s.items.push(L({value:1})),i.series.push(s);const n=new Z({title:"Category",position:g.Left});return n.labels.push("A","B"),i.axes.push(n),i}function N5(){const i=new b({title:"Different widths",subtitle:"Series1=0.6 and Series2=0.3"}),t=new H({title:"Series 1",barWidth:.6});t.items.push(L({value:1})),t.items.push(L({value:2})),i.series.push(t);const e=new H({title:"Series 2",barWidth:.3});e.items.push(L({value:3})),e.items.push(L({value:1})),i.series.push(e);const s=new Z({title:"Category",position:g.Left});return s.labels.push("A","B"),i.axes.push(s),i}function _5(){const i=new b({title:"Different widths (stacked)"}),t=new H({title:"Series 1",isStacked:!0,barWidth:.6});t.items.push(L({value:1})),t.items.push(L({value:2})),i.series.push(t);const e=new H({title:"Series 2",isStacked:!0,barWidth:.3});e.items.push(L({value:3})),e.items.push(L({value:1})),i.series.push(e);const s=new Z({title:"Category",position:g.Left});return s.labels.push("A","B"),i.axes.push(s),i}function V5(){const i=new b({title:"Invalid values",subtitle:"Series 1 contains a NaN value for category B."}),t=new H({title:"Series 1"});t.items.push(L({value:1})),t.items.push(L({value:NaN})),i.series.push(t);const e=new H({title:"Series 2"});e.items.push(L({value:3})),e.items.push(L({value:1})),i.series.push(e);const s=new Z({title:"Category",position:g.Left});return s.labels.push("A","B"),i.axes.push(s),i}function E5(){const i=new b({title:"Missing values",subtitle:"Series 1 contains only one item with CategoryIndex = 1"}),t=new H({title:"Series 1"});t.items.push(L({value:1,categoryIndex:1})),i.series.push(t);const e=new H({title:"Series 2"});e.items.push(L({value:3})),e.items.push(L({value:1.2})),i.series.push(e);const s=new Z({title:"Category",position:g.Left});return s.labels.push("A","B"),i.axes.push(s),i}function z5(){const i=new b({title:"CategoryIndex",subtitle:"Setting CategoryIndex = 0 for both items in the series."}),t=new H({title:"Series 1",strokeThickness:1});t.items.push(L({value:1,categoryIndex:0})),t.items.push(L({value:2,categoryIndex:0})),i.series.push(t);const e=new Z({title:"Category",position:g.Left});return e.labels.push("A","B"),i.axes.push(e),i}function O5(){const i=new b({title:"CategoryIndex (stacked)",subtitle:"Setting CategoryIndex = 0 for both items in the series."}),t=new H({title:"Series 1",isStacked:!0,strokeThickness:1});t.items.push(L({value:1,categoryIndex:0})),t.items.push(L({value:2,categoryIndex:0})),i.series.push(t);const e=new Z({title:"Category",position:g.Left});return e.labels.push("A","B"),i.axes.push(e),i}function $5(){const i=new b({title:"BaseValue",subtitle:"BaseValue = -1"}),t=new H({title:"Series 1",baseValue:-1});t.items.push(L({value:1})),t.items.push(L({value:2})),i.series.push(t);const e=new H({title:"Series 2",baseValue:-1});e.items.push(L({value:4})),e.items.push(L({value:7})),i.series.push(e);const s=new Z({title:"Category",position:g.Left});return s.labels.push("A","B"),i.axes.push(s),i}function G5(){const i=new b({title:"BaseValue (stacked)",subtitle:"BaseValue = -1"}),t=new H({title:"Series 1",isStacked:!0,baseValue:-1});t.items.push(L({value:1})),t.items.push(L({value:2})),i.series.push(t);const e=new H({title:"Series 2",isStacked:!0,baseValue:-1});e.items.push(L({value:4})),e.items.push(L({value:7})),i.series.push(e);const s=new Z({title:"Category",position:g.Left});return s.labels.push("A","B"),i.axes.push(s),i}function H5(){const i=new b({title:"BaseValue (overlaping)",subtitle:"BaseValue = -1"}),t=new H({title:"Series 1",isStacked:!0,overlapsStack:!0,baseValue:-1});t.items.push(L({value:1})),t.items.push(L({value:2})),i.series.push(t);const e=new H({title:"Series 2",isStacked:!0,overlapsStack:!0,baseValue:-1,barWidth:.5});e.items.push(L({value:4})),e.items.push(L({value:7})),i.series.push(e);const s=new Z({title:"Category",position:g.Left});return s.labels.push("A","B"),i.axes.push(s),i}function U5(){const i=new b({title:"BaseValue with Labels"});for(const e of Cs(dt)){const s=new H({title:e.toString(),baseValue:-25,labelPlacement:e,labelStringFormatter:Js});s.items.push(L({value:-40})),s.items.push(L({value:-25})),s.items.push(L({value:-10})),s.items.push(L({value:0})),s.items.push(L({value:10})),i.series.push(s)}const t=new Z({title:"Category",position:g.Left,startPosition:1,endPosition:0});return t.labels.push("A","B","C","D","E"),i.axes.push(t),i.legends.push(new X),i}function W5(){const i=new b({title:"Stacked with Labels"});let t=0;for(const e of Cs(dt)){const s=new Z({title:"Category",position:g.Left,startPosition:1-t*.25,endPosition:.75-t*.25,key:`C${t}`}),n=new H({title:e.toString(),labelPlacement:e,labelStringFormatter:Js,isStacked:!0,yAxisKey:s.key});n.items.push(L({value:5})),n.items.push(L({value:10})),n.items.push(L({value:15})),i.series.push(n);const o=new H({title:e.toString(),labelPlacement:e,labelStringFormatter:Js,isStacked:!0,yAxisKey:s.key});o.items.push(L({value:15})),o.items.push(L({value:10})),o.items.push(L({value:5})),i.series.push(o),s.labels.push("A","B","C"),i.axes.push(s),t++}return i.legends.push(new X),i}function X5(){return Va(0,"GapWidth 0%")}function Y5(){return Va(1,"GapWidth 100% (default)")}function j5(){return Va(2,"GapWidth 200%")}function q5(){const i=new b({title:"All in one"}),t=new X({legendPlacement:gt.Outside,legendPosition:$.BottomCenter,legendOrientation:Pt.Horizontal,legendBorderThickness:0});i.legends.push(t);const e=new Z({position:g.Left,gapWidth:.01});e.labels.push("Category A","Category B","Category C","Category D"),i.axes.push(e);const s=new y({position:g.Bottom,minimumPadding:.06,maximumPadding:.06,extraGridlines:[0],extraGridlineStyle:v.Solid,extraGridlineColor:f.Black,extraGridlineThickness:1});i.axes.push(s);const n=0,o=1,r=2,a=3,u=new H({title:"Series 1",isStacked:!0,strokeColor:f.Black,strokeThickness:1,stackGroup:"3"});u.items.push(L({value:25}),L({value:137}),L({value:18}),L({value:40})),i.series.push(u);const m=new H({title:"Series 2",isStacked:!0,strokeColor:f.Black,strokeThickness:1,stackGroup:"3"});m.items.push(L({value:-12}),L({value:-14}),L({value:-120}),L({value:-26})),i.series.push(m);const c=new H({title:"Series 3",isStacked:!0,strokeColor:f.Black,strokeThickness:1,stackGroup:"5",isVisible:!1});c.items.push(L({value:21}),L({value:8}),L({value:48}),L({value:3})),i.series.push(c);const p=new H({title:"Series 4",isStacked:!0,strokeColor:f.Black,strokeThickness:1,stackGroup:"5",labelStringFormatter:Js,labelPlacement:dt.Middle});p.items.push(L({value:-8,categoryIndex:n}),L({value:-8,categoryIndex:n}),L({value:-8,categoryIndex:n}),L({value:-21,categoryIndex:o}),L({value:-3,categoryIndex:r}),L({value:-48,categoryIndex:a}),L({value:8,categoryIndex:n}),L({value:21,categoryIndex:o}),L({value:3,categoryIndex:r}),L({value:48,categoryIndex:a})),i.series.push(p);const x=new H({title:"Series 5",isStacked:!1,strokeColor:f.Black,strokeThickness:1});x.items.push(L({value:17,categoryIndex:n}),L({value:179,categoryIndex:o}),L({value:45,categoryIndex:r}),L({value:65,categoryIndex:a}),L({value:97,categoryIndex:n}),L({value:21,categoryIndex:a})),i.series.push(x);const w=new H({title:"Series 6",isStacked:!1,strokeColor:f.Black,strokeThickness:1,labelStringFormatter:Js,labelPlacement:dt.Base});w.items.push(L({value:7}),L({value:54}),L({value:68}),L({value:12})),i.series.push(w);const S=new H({title:"Series 7",isStacked:!0,overlapsStack:!0,strokeColor:f.Black,strokeThickness:1,labelStringFormatter:Js,labelPlacement:dt.Base,stackGroup:"3",barWidth:.5});return S.items.push(L({value:10}),L({value:80}),L({value:100,categoryIndex:a})),i.series.push(S),i}const Js=i=>i.value.toString();function Va(i,t){const e=En(!1,t);return e.axes[0].gapWidth=i,e}function En(i,t){const e=new b({title:t}),s=new X({legendPlacement:gt.Outside,legendPosition:$.BottomCenter,legendOrientation:Pt.Horizontal,legendBorderThickness:0});e.legends.push(s);const n=new H({title:"Series 1",isStacked:i,strokeColor:f.Black,strokeThickness:1});n.items.push(L(25)),n.items.push(L(137)),n.items.push(L(18)),n.items.push(L(40));const o=new H({title:"Series 2",isStacked:i,strokeColor:f.Black,strokeThickness:1});o.items.push(L(12)),o.items.push(L(14)),o.items.push(L(120)),o.items.push(L(26));const r=new Z({position:g.Left});r.labels.push("Category A","Category B","Category C","Category D");const a=new y({position:g.Bottom,minimumPadding:0,maximumPadding:.06,absoluteMinimum:0});return e.series.push(n,o),e.axes.push(r,a),e}function Vu(i,t){const e=new b({title:t}),s=new X({legendPlacement:gt.Outside,legendPosition:$.BottomCenter,legendOrientation:Pt.Horizontal,legendBorderThickness:0});e.legends.push(s);const n=new H({title:"Series 1",isStacked:i,strokeColor:f.Black,strokeThickness:1});n.items.push(L(25)),n.items.push(L(137)),n.items.push(L(18)),n.items.push(L(40));const o=new H({title:"Series 2",isStacked:i,strokeColor:f.Black,strokeThickness:1});o.items.push(L(-12)),o.items.push(L(-14)),o.items.push(L(-120)),o.items.push(L(-26));const r=new H({title:"Series 3",isStacked:i,strokeColor:f.Black,strokeThickness:1});r.items.push(L(21)),r.items.push(L(8)),r.items.push(L(48)),r.items.push(L(3));const a=new H({title:"Series 4",isStacked:i,strokeColor:f.Black,strokeThickness:1});a.items.push(L(-8)),a.items.push(L(-21)),a.items.push(L(-3)),a.items.push(L(-48));const u=new Z({position:g.Left});u.labels.push("Category A","Category B","Category C","Category D");const m=new y({position:g.Bottom,minimumPadding:.06,maximumPadding:.06,extraGridlines:[0],extraGridlineStyle:v.Solid,extraGridlineColor:f.Black,extraGridlineThickness:1});return e.series.push(n,o,r,a),e.axes.push(u,m),e}function Ea(i,t){const e=[];for(let r=0;r<t;r++)e.push({label:r.toString(),value:0});const s=new Ct;for(let r=0;r<i;r++){const a=s.next(0,t-1);e[a].value++}const n=new b;n.title=`Histogram (bins=${t}, n=${i})`,n.subtitle="Pseudorandom numbers";const o=new H;return o.itemsSource=e,o.valueField="value",t<100&&(o.labelStringFormatter=(r,a)=>a[0].toString()),n.series.push(o),n.axes.push(new Z({position:g.Left,itemsSource:e,labelField:"label",gapWidth:0})),n.axes.push(new y({position:g.Bottom,minimumPadding:0,maximumPadding:.1,absoluteMinimum:0})),n}function J5(i,t){const e=[];for(let m=0;m<t;m++){const c=-10+20*m/(e.length-1);e.push({label:c.toFixed(1),value:0})}const o=new Ct(31);for(let m=0;m<i;m++){const c=o.next(),p=o.next(),x=Math.sqrt(-2*Math.log(c))*Math.cos(2*Math.PI*p),w=Math.round((x- -10)/20*(e.length-1));w>=0&&w<e.length&&e[w].value++}const r=new b;r.title=`Histogram (bins=${t}, n=${i})`,r.subtitle="Standard normal distribution by Box-Muller transform";const a=new H;a.itemsSource=e,a.valueField="value",r.series.push(a);const u=new Z({position:g.Left,gapWidth:0});return u.labels.push(...e.map(m=>m.label)),u.isAxisVisible=!1,r.axes.push(u),r.axes.push(new y({position:g.Left,minimum:-10,maximum:10})),r.axes.push(new y({position:g.Bottom,minimumPadding:0,absoluteMinimum:0})),r}const Z5="BarSeries",K5={category:Z5,tags:["Series"],examples:[{title:"With labels",example:{model:Bu}},{title:"With labels (at an angle)",example:{model:u5}},{title:"Stacked",example:{model:m5}},{title:"Multiple Value Axes",example:{model:Fu}},{title:"Stacked, Multiple Value Axes",example:{model:h5}},{title:"Multiple Category Axes",example:{model:Nu}},{title:"Stacked, Multiple Category Axes",example:{model:c5}},{title:"Empty series",example:{model:d5}},{title:"No category axis defined",example:{model:p5}},{title:"Binding to ItemsSource",example:{model:f5}},{title:"Binding to ItemsSource (array)",example:{model:g5}},{title:"Binding to ItemsSource (list)",example:{model:x5}},{title:"Binding to ItemsSource (reflection)",example:{model:w5}},{title:"Defined by Items",example:{model:y5}},{title:"Empty category axis",example:{model:S5}},{title:"With negative values",example:{model:b5}},{title:"Stacked with negative values",example:{model:M5}},{title:"Mixed with LineSeries",example:{model:k5}},{title:"No axes defined",example:{model:A5}},{title:"Stacked and no axes defined",example:{model:v5}},{title:"Logarithmic axis (Base Value)",example:{model:R5}},{title:"Logarithmic axis (Base Line)",example:{model:C5}},{title:"Logarithmic axis (not stacked)",example:{model:_u}},{title:"Logarithmic axis (stacked series)",example:{model:T5}},{title:"Histogram (bins=5)",example:{model:P5}},{title:"Histogram (bins=20)",example:{model:L5}},{title:"Histogram (bins=200)",example:{model:D5}},{title:"Histogram (standard normal distribution)",example:{model:I5}},{title:"Different colors within the same series",example:{model:B5}},{title:"Different stacking groups",example:{model:F5}},{title:"Different widths",example:{model:N5}},{title:"Different widths (stacked)",example:{model:_5}},{title:"Invalid values",example:{model:V5}},{title:"Missing values",example:{model:E5}},{title:"CategoryIndex",example:{model:z5}},{title:"CategoryIndex (stacked)",example:{model:O5}},{title:"BaseValue",example:{model:$5}},{title:"BaseValue (stacked)",example:{model:G5}},{title:"BaseValue (overlaping)",example:{model:H5}},{title:"BaseValue (labels)",example:{model:U5}},{title:"Stacked (labels)",example:{model:W5}},{title:"GapWidth 0%",example:{model:X5}},{title:"GapWidth 100% (default)",example:{model:Y5}},{title:"GapWidth 200%",example:{model:j5}},{title:"All in one",example:{model:q5}}]};function zn(){const t=new b({title:"BoxPlot (n=10)"}),e=new X({legendPlacement:gt.Outside});t.legends.push(e);const s=new Xo({title:"BoxPlotSeries",boxWidth:.3}),n=new Ct(31);for(let o=0;o<10;o++){const r=o,a=5+n.next(15),u=[];for(let D=0;D<a;D++)u.push(n.next(0,20));u.sort();const m=gr(u),c=u.reduce((D,B)=>D+B,0)/u.length,p=u.length%2,x=gr(u.slice(0,(u.length+p)/2)),w=gr(u.slice((u.length-p)/2)),k=(w-x)*1.5;let A=w+k;A=qt(u.filter(D=>D<=A));let C=x-k;C=zt(u.filter(D=>D>=C));const T=[A+n.next(1,10),C-n.next(1,10)];s.items.push({x:r,lowerWhisker:C,boxBottom:x,median:m,boxTop:w,upperWhisker:A,mean:c,outliers:T})}return t.series.push(s),t.axes.push(new y({position:g.Left})),t.axes.push(new y({position:g.Bottom,minimumPadding:.1,maximumPadding:.1})),t}function gr(i){const t=[...i].sort((s,n)=>s-n),e=t.length;return e%2===1?t[(e-1)/2]:.5*t[e/2]+.5*t[e/2-1]}function Q5(){const i=zn(),t=i.series[0];return t.showMedianAsDot=!0,t.outlierType=V.Cross,t.fill=f.Black,t.showBox=!1,t.whiskerWidth=0,i}function tw(){const i=zn(),t=i.series[0];return t.lineStyle=v.Dash,i}function ew(){const i=zn(),t=i.series[0];return t.outlierType=V.Cross,i}function iw(){const i=zn(),t=i.series[0];return t.outlierType=V.Custom,t.outlierOutline=[R(-1,-1),R(1,1),R(-1,1),R(1,-1)],i}function sw(){const i=new b,t=new Xo({title:"Results",stroke:f.Black,strokeThickness:1,outlierSize:2,boxWidth:.4,items:[]});t.items.push({x:0,lowerWhisker:740,boxBottom:850,median:945,boxTop:980,upperWhisker:1070,outliers:[650]}),t.items.push({x:1,lowerWhisker:750,boxBottom:805,median:845,boxTop:890,upperWhisker:970,outliers:[]}),t.items.push({x:2,lowerWhisker:845,boxBottom:847,median:855,boxTop:880,upperWhisker:910,outliers:[640,950,970]}),t.items.push({x:3,lowerWhisker:720,boxBottom:760,median:820,boxTop:870,upperWhisker:910,outliers:[]}),t.items.push({x:4,lowerWhisker:730,boxBottom:805,median:807,boxTop:870,upperWhisker:950,outliers:[]}),i.series.push(t),i.annotations.push(new _t({type:ve.Horizontal,lineStyle:v.Solid,y:792.458,text:"true speed"}));const e=new Z({title:"Experiment No."});return e.labels.push("1","2","3","4","5"),i.axes.push(e),i.axes.push(new y({position:g.Left,title:"Speed of light (km/s minus 299,000)",majorStep:100,minorStep:100})),i}function nw(){const i=Ai(),t=new b,e=Nt.toDouble(new Date(2013,5,4));t.axes.push(new Nt({position:g.Bottom,minimum:e-.9,maximum:e+1.9,intervalType:ut.Days,majorStep:1,minorStep:1,stringFormatter:function(n){return i.format(n,"YYYY-MM-DD")}}));const s=new Xo({trackerStringFormatter:function(n){return`X: ${i.format(n.xValue,"YYYY-MM-DD")}
Upper Whisker: ${n.upperWhisker.toFixed(2)}
Third Quartil: ${n.boxTop.toFixed(2)}
Median: ${n.median.toFixed(2)}
First Quartil: ${n.boxBottom.toFixed(2)}
Lower Whisker: ${n.lowerWhisker.toFixed(2)}
Mean: ${n.mean.toFixed(2)}`},items:[]});return s.items.push({x:e,lowerWhisker:10,boxBottom:14,median:16,boxTop:20,upperWhisker:22,mean:17,outliers:[23.5]}),s.items.push({x:e+1,lowerWhisker:11,boxBottom:13,median:14,boxTop:15,upperWhisker:18,outliers:[23.4]}),t.series.push(s),t}const ow="BoxPlotSeries",rw={category:ow,tags:["Series"],examples:[{title:"BoxPlot",example:{model:zn}},{title:"BoxPlot (minimal data/ink ratio)",example:{model:Q5}},{title:"BoxPlot (dashed line)",example:{model:tw}},{title:"Outlier type = Cross",example:{model:ew}},{title:"Outlier type = Custom",example:{model:iw}},{title:"Michelson-Morley experiment",example:{model:sw}},{title:"BoxPlot (DateTime axis)",example:{model:nw}}]},Ti=(i,t)=>3*(1-i)*(1-i)*Math.exp(-(i*i)-(t+1)*(t+1))-10*(i/5-i*i*i-t*t*t*t*t)*Math.exp(-i*i-t*t)-1/3*Math.exp(-(i+1)*(i+1)-t*t),aw=(i,t)=>i*i/(t*t+1)+t*t/(i*i+1),re=(i,t,e)=>oe.createVectorWithStep(i,t,e);function lw(){const i=new b({title:"Peaks"}),t=new We({columnCoordinates:re(-3,3,.05),rowCoordinates:re(-3.1,3.1,.05)});return t.data=oe.evaluate(Ti,t.columnCoordinates,t.rowCoordinates),i.subtitle=`${t.data.length}×${t.data[0].length}`,i.series.push(t),i}function uw(){const i=new b({title:"Peaks LabelStep = 1, ContourLevelStep = PI/2"}),t=new We({columnCoordinates:re(-3,3,.05),rowCoordinates:re(-3.1,3.1,.05),contourLevelStep:Math.PI/2,labelStep:1});return t.data=oe.evaluate(Ti,t.columnCoordinates,t.rowCoordinates),i.subtitle=`${t.data.length}×${t.data[0].length}`,i.series.push(t),i}function mw(){const i=new b({title:"Peaks LabelStep = 2, ContourLevelStep = 0.5"}),t=new We({columnCoordinates:re(-3,3,.05),rowCoordinates:re(-3.1,3.1,.05),contourLevelStep:.5,labelStep:2});return t.data=oe.evaluate(Ti,t.columnCoordinates,t.rowCoordinates),i.subtitle=`${t.data.length}×${t.data[0].length}`,i.series.push(t),i}function hw(){const i=new b({title:"Peaks LabelStep = 2, ContourLevelStep = 0.33"}),t=new We({columnCoordinates:re(-3,3,.05),rowCoordinates:re(-3.1,3.1,.05),contourLevelStep:.33,labelStep:2});return t.data=oe.evaluate(Ti,t.columnCoordinates,t.rowCoordinates),i.subtitle=`${t.data.length}×${t.data[0].length}`,i.series.push(t),i}function cw(){const i=new b({title:"Peaks LabelStep = 3, ContourLevelStep = 1"}),t=new We({columnCoordinates:re(-3,3,.05),rowCoordinates:re(-3.1,3.1,.05),labelStep:3});return t.data=oe.evaluate(Ti,t.columnCoordinates,t.rowCoordinates),i.subtitle=`${t.data.length}×${t.data[0].length}`,i.series.push(t),i}function dw(){const i=new b({title:"Peaks MultiLabel"}),t=new We({columnCoordinates:re(-3,3,.05),rowCoordinates:re(-3.1,3.1,.05),multiLabel:!0});return t.data=oe.evaluate(Ti,t.columnCoordinates,t.rowCoordinates),i.subtitle=`${t.data.length}×${t.data[0].length}`,i.series.push(t),i}function pw(){const i=new b({title:"Peaks LabelSpacing = 400"}),t=new We({columnCoordinates:re(-3,3,.05),rowCoordinates:re(-3.1,3.1,.05),multiLabel:!0,labelSpacing:400});return t.data=oe.evaluate(Ti,t.columnCoordinates,t.rowCoordinates),i.subtitle=`${t.data.length}×${t.data[0].length}`,i.series.push(t),i}function fw(){const i=new b({title:"Peaks"}),t=new We({columnCoordinates:re(-3,3,.05),rowCoordinates:re(-3.1,3.1,.05),contourColors:[f.SeaGreen,f.RoyalBlue,f.IndianRed]});return t.data=oe.evaluate(Ti,t.columnCoordinates,t.rowCoordinates),i.subtitle=`${t.data.length}×${t.data[0].length}`,i.series.push(t),i}function gw(){const i=new b({title:"Peaks"});i.axes.push(new y({position:g.Left,minimum:-3.16262,maximum:3.162}));const t=new We({columnCoordinates:re(-3,3,.05),rowCoordinates:re(-1,1,.05)});return t.data=oe.evaluate(Ti,t.columnCoordinates,t.rowCoordinates),i.subtitle=`${t.data.length}×${t.data[0].length}`,i.series.push(t),i}function xw(){const i=new b,t=new We({columnCoordinates:re(-3,3,.05),rowCoordinates:re(-3,3,.05)});return t.data=oe.evaluate(aw,t.columnCoordinates,t.rowCoordinates),i.series.push(t),i}function ww(){const i=(n,o)=>Ti(Math.log(n)/10,Math.log(o)/10),t=new b,e=re(-3,3,.05);for(let n=0;n<e.length;n++)e[n]=Math.exp(e[n]*10);const s=new We({columnCoordinates:e,rowCoordinates:e});return s.data=oe.evaluate(i,s.columnCoordinates,s.rowCoordinates),t.series.push(s),t.axes.push(new Mt({position:g.Bottom})),t.axes.push(new Mt({position:g.Left})),t}const yw="ContourSeries",Sw={category:yw,tags:["Series"],examples:[{title:"Peaks",example:{model:lw}},{title:"Peaks LabelStep = 1, ContourLevelStep = PI/2",example:{model:uw}},{title:"Peaks LabelStep = 2, ContourLevelStep = 0.5",example:{model:mw}},{title:"Peaks LabelStep = 2, ContourLevelStep = 0.33",example:{model:hw}},{title:"Peaks LabelStep = 3, ContourLevelStep = 1",example:{model:cw}},{title:"Peaks MultiLabel",example:{model:dw}},{title:"Peaks LabelSpacing = 400",example:{model:pw}},{title:"Peaks (different contour colors)",example:{model:fw}},{title:"Peaks (wide array)",example:{model:gw}},{title:"Open Contours",example:{model:xw}},{title:"Logarithmic Peaks",example:{model:ww}}]};function Eu(){const i=new b({title:"ErrorBarSeries"}),t=new X({legendPlacement:gt.Outside,legendPosition:$.BottomCenter,legendOrientation:Pt.Horizontal,legendBorderThickness:0});i.legends.push(t);const e=new Ro({title:"Series 1",isStacked:!1,strokeColor:f.Black,strokeThickness:1});e.items.push(Wi({value:25,error:2})),e.items.push(Wi({value:137,error:25})),e.items.push(Wi({value:18,error:4})),e.items.push(Wi({value:40,error:29}));const s=new Ro({title:"Series 2",isStacked:!1,strokeColor:f.Black,strokeThickness:1});s.items.push(Wi({value:35,error:20})),s.items.push(Wi({value:17,error:7})),s.items.push(Wi({value:118,error:44})),s.items.push(Wi({value:49,error:29}));const n=new Z({position:g.Left});n.labels.push("Category A"),n.labels.push("Category B"),n.labels.push("Category C"),n.labels.push("Category D");const o=new y({position:g.Bottom,minimumPadding:0,maximumPadding:.06,absoluteMinimum:0});return i.series.push(e),i.series.push(s),i.axes.push(n),i.axes.push(o),i}function bw(){const i=Eu();for(const t of i.series)t instanceof Ro&&(t.errorWidth=0,t.errorStrokeThickness=4);return i}const Mw="ErrorBarSeries",kw={category:Mw,tags:["Series"],examples:[{title:"ErrorBarSeries",example:{model:Eu}},{title:"ErrorBarSeries (thick error lines)",example:{model:bw}}]};function Aw(){const i=new b({title:"Line Fit"}),t=new Et({title:"Data"});t.points.push({x:3,y:1.4}),t.points.push({x:4,y:1.3}),t.points.push({x:5,y:1.6}),t.points.push({x:6,y:2.3}),t.points.push({x:7,y:2.2}),t.points.push({x:8,y:2.5}),t.points.push({x:9,y:2.9}),t.points.push({x:10,y:3.1}),t.points.push({x:11,y:3.1}),t.points.push({x:12,y:3.8}),i.series.push(t);const{slope:e,intercept:s}=Ou(t.points),n=new Ts({title:"Fit",color:f.Black,lineStyle:v.Solid,extrapolationColor:f.DarkGray,extrapolationLineStyle:v.Dash,strokeThickness:3,ignoreExtraplotationForScaling:!0});n.intervals.push($e(Number.NEGATIVE_INFINITY,zt(t.points.map(a=>a.x)))),n.intervals.push($e(qt(t.points.map(a=>a.x)),Number.POSITIVE_INFINITY));const o=Array.from({length:200},(a,u)=>u-100).map(a=>d(a,e*a+s));n.points.push(...o),i.series.push(n);const r=new X({legendPosition:$.BottomRight});return i.legends.push(r),i}function zu(){const i=new b({title:"Interpolation"}),t=new Ts({title:"Third Order Polynomial",color:f.Black,lineStyle:v.Dash,extrapolationColor:f.Gray,extrapolationLineStyle:v.Dot,strokeThickness:3});t.intervals.push($e(Number.NEGATIVE_INFINITY,-15)),t.intervals.push($e(10,30)),t.intervals.push($e(55,Number.POSITIVE_INFINITY));const e=[.1,-6,-12,0],s=(r,a)=>a.reduce((u,m)=>u*r+m,0),n=Array.from({length:100},(r,a)=>a-30).map(r=>d(r,s(r,e)));t.points.push(...n),i.series.push(t);const o=new X({legendPosition:$.TopCenter});return i.legends.push(o),i}function vw(){return Ie.reverseYAxis(zu())}function Rw(){const i=new b({title:"Intersecting Intervals"}),t=$e(-20,20),e=$e(0,30),s=$e(10,40),n=new Ts({title:`Overlapping intervals ${t}, ${e}, ${s}`,color:f.Black,lineStyle:v.Solid,extrapolationColor:f.Gray,extrapolationLineStyle:v.Dot,strokeThickness:3});n.intervals.push(t,e,s);const o=[.1,-6,-12,0],r=(m,c)=>c.reduce((p,x)=>p*m+x,0),a=Array.from({length:100},(m,c)=>c-30).map(m=>d(m,r(m,o)));n.points.push(...a),i.series.push(n);const u=new X({legendPosition:$.TopCenter});return i.legends.push(u),i}function Cw(){const i=new b({title:"Custom Dashes"}),t=new Ts({title:"y = 5",color:f.Black,lineStyle:v.Dash,dashes:[5,1],extrapolationColor:f.Gray,extrapolationLineStyle:v.Dot,extrapolationDashes:[1,5],strokeThickness:3});t.intervals.push($e(Number.NEGATIVE_INFINITY,0));const e=Array.from({length:200},(n,o)=>o-100).map(n=>d(n,5));t.points.push(...e),i.series.push(t);const s=new X({legendPosition:$.TopCenter});return i.legends.push(s),i}function Tw(){const i=new b({title:"ManyIntervals"}),t=new Ts({title:"y = x",color:f.Red,lineStyle:v.Solid,extrapolationLineStyle:v.Solid,strokeThickness:3,ignoreExtraplotationForScaling:!0});t.intervals.push($e(-1e3,1e4)),Array.from({length:98},(o,r)=>$e(1e3*r,1e3*r+500)).forEach(o=>t.intervals.push(o)),t.intervals.push($e(2e5,Number.POSITIVE_INFINITY));const s=Array.from({length:1e5},(o,r)=>d(r,r));t.points.push(...s),i.series.push(t);const n=new X({legendPosition:$.TopCenter});return i.legends.push(n),i}function Pw(){const i=new b({title:"Moore's Law"}),t=new Et({title:"Data"});t.points.push(...Iw()),i.series.push(t),i.axes.push(new y({title:"Year",position:g.Bottom})),i.axes.push(new Mt({title:"Transistors (in thousands)",position:g.Left}));const{slope:e,intercept:s}=Ou(t.points.map(a=>({x:a.x,y:Math.log10(a.y)}))),n=new Ts({title:"Fit and Extrapolation",color:f.Black,lineStyle:v.Solid,extrapolationColor:f.Blue,extrapolationLineStyle:v.Dot,strokeThickness:3});n.intervals.push($e(2015,Number.POSITIVE_INFINITY));const o=Array.from({length:55},(a,u)=>u+1970).map(a=>d(a,Math.pow(10,e*a+s)));n.points.push(...o),i.series.push(n);const r=new X({legendPosition:$.TopCenter});return i.legends.push(r),i}function Ou(i){if(i===void 0)throw new Error("points is undefined");if(i.length<2)throw new Error("at least two points required");const t=i.reduce((a,u)=>a+u.x,0)/i.length,e=i.reduce((a,u)=>a+u.y,0)/i.length,s=Lw(i,t,e),n=Dw(i.map(a=>a.x)),o=s/n,r=e-o*t;return{slope:o,intercept:r}}function Lw(i,t,e){let s=i.reduce((n,o)=>n+o.x*o.y,0);return s-=i.length*t*e,s/=i.length-1,s}function Dw(i){const t=i.reduce((s,n)=>s+n,0)/i.length;let e=i.reduce((s,n)=>s+n*n,0);return e-=i.length*t*t,e/=i.length-1,e}function Iw(){return[{x:1971.875,y:2.30824152676},{x:1972.30769231,y:3.55452235561},{x:1974.32692308,y:6.09756235221},{x:1979.56730769,y:29.1637757405},{x:1982.30769231,y:135.772714211},{x:1985.91346154,y:273.841963426},{x:1986.25,y:109.411381058},{x:1988.65384615,y:121.881418484},{x:1989.47115385,y:1207.90074743},{x:1990.57692308,y:1207.90074743},{x:1992.40384615,y:1207.90074743},{x:1992.69230769,y:3105.90022362},{x:1992.69230769,y:1113.97385999},{x:1993.02884615,y:1715.43789634},{x:1993.41346154,y:3105.90022362},{x:1993.41346154,y:922.239565104},{x:1994.71153846,y:1910.95297497},{x:1994.71153846,y:2788.12666541},{x:1995.43269231,y:9646.61619911},{x:1995.72115385,y:3105.90022362},{x:1996.15384615,y:5473.70326288},{x:1996.34615385,y:6792.52507006},{x:1996.34615385,y:3651.74127255},{x:1996.44230769,y:4293.51021008},{x:1996.82692308,y:9646.61619911},{x:1997.35576923,y:5473.70326288},{x:1997.45192308,y:3554.52235561},{x:1997.54807692,y:8896.4911282},{x:1997.64423077,y:7566.6953714},{x:1998.89423077,y:15261.3780258},{x:1999.13461538,y:9389.79801048},{x:1999.18269231,y:6978.3058486},{x:1999.47115385,y:9389.79801048},{x:1999.47115385,y:21673.9216957},{x:2000.19230769,y:22266.7201035},{x:2000.67307692,y:28387.3596476},{x:2000.67307692,y:37180.2666391},{x:2001.10576923,y:29163.7757405},{x:2001.20192308,y:42550.6550247},{x:2001.68269231,y:25482.9674798},{x:2001.82692308,y:37180.2666391},{x:2002.40384615,y:55730.6040127},{x:2002.78846154,y:38197.1754928},{x:2002.88461538,y:220673.406908},{x:2003.41346154,y:151247.254531},{x:2003.50961538,y:54246.9093701},{x:2003.65384615,y:106498.563535},{x:2004.80769231,y:125214.968907},{x:2004.80769231,y:106498.563535},{x:2004.80769231,y:273841.963426},{x:2005.72115385,y:232909.659246},{x:2005.81730769,y:112403.866377},{x:2005.96153846,y:305052.789027},{x:2006.05769231,y:115478.198469},{x:2006.875,y:378551.524926},{x:2006.875,y:155383.983127},{x:2006.92307692,y:245824.406892},{x:2006.97115385,y:296931.48482},{x:2006.97115385,y:582941.534714},{x:2007.06730769,y:151247.254531},{x:2007.64423077,y:582941.534714},{x:2007.74038462,y:232909.659246},{x:2007.78846154,y:805842.187761},{x:2007.83653846,y:115478.198469},{x:2007.98076923,y:509367.521678},{x:2008.22115385,y:445079.406236},{x:2008.46153846,y:410469.838044},{x:2009.18269231,y:457252.669897},{x:2009.27884615,y:784388.558145},{x:2009.66346154,y:230824152676e-5},{x:2009.71153846,y:191095297497e-5},{x:2010.19230769,y:410469.838044},{x:2010.38461538,y:13097472643e-4},{x:2011.16,y:117e4},{x:2011.32,y:26e5},{x:2011.9,y:12e5},{x:2012.4,y:24e5},{x:2012.41,y:23e5},{x:2012.7,y:21e5},{x:2012.9,y:12e5},{x:2013.4,y:5e6},{x:2013.8,y:43e5},{x:2014.16,y:43e5},{x:2014.5,y:42e5},{x:2014.8,y:26e5},{x:2014.81,y:38e5},{x:2014.82,y:57e5}]}const Bw="ExtrapolationLineSeries",Fw={category:Bw,tags:["Series"],examples:[{title:"Line Fit (Ignore Extrapolation For Scaling)",example:{model:Aw}},{title:"Interpolation",example:{model:zu}},{title:"Interpolation (Y Axis reversed)",example:{model:vw}},{title:"Intersecting Intervals",example:{model:Rw}},{title:"Custom Dashes",example:{model:Cw}},{title:"Many Intervals",example:{model:Tw}},{title:"Moore's Law",example:{model:Pw}}]};function Nw(){return Qw(25)}function _w(){return an(i=>2*Math.cos(2*i)*Math.cos(i),i=>2*Math.cos(2*i)*Math.sin(i),0,Math.PI*2,1e3,"Parametric function","Using the CartesianAxes property","2cos(2t)cos(t) , 2cos(2t)sin(t)")}function Vw(){return an(i=>3*Math.sin(5*i),i=>3*Math.cos(3*i),0,Math.PI*2,1e3,"Parametric function",void 0,"3sin(5t) , 3cos(3t)")}function Ew(){return an(i=>2*Math.cos(i)+Math.cos(8*i),i=>2*Math.sin(i)+Math.sin(8*i),0,Math.PI*2,1e3,"Parametric function",void 0,"2cos(t)+cos(8t) , 2sin(t)+sin(8t)")}function zw(){return an(t=>1*Math.sqrt(2)*Math.cos(t)/(Math.sin(t)*Math.sin(t)+1),t=>1*Math.sqrt(2)*Math.cos(t)*Math.sin(t)/(Math.sin(t)*Math.sin(t)+1),0,Math.PI*2,1e3,"Lemniscate of Bernoulli")}function Ow(){return an(i=>Math.cos(i),i=>Math.sin(2*i)/2,0,Math.PI*2,1e3,"Lemniscate of Gerono")}function $w(){const e=Math.PI/2;return an(s=>Math.sin(3*s+e),s=>Math.sin(2*s),0,Math.PI*2,1e3,"Lissajous figure",void 0,"a=3, b=2, δ = π/2")}function Gw(){const i=new b({title:"Rose curve",plotType:mt.Polar,plotAreaBorderThickness:K(0)});i.axes.push(new me({minimum:0,maximum:Math.PI*2,majorStep:Math.PI/4,minorStep:Math.PI/16,majorGridlineStyle:v.Solid,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"π"})),i.axes.push(new Be({majorGridlineStyle:v.Solid}));const t=4,e=3,s=e/t;return i.series.push(new nt({fx:n=>Math.sin(s*n),fy:n=>n,t0:0,t1:Math.PI*2*t,n:1e3,title:`d=${t}, n=${e}`})),i}function Hw(){const i=new b({title:"Limaçon of Pascal",plotType:mt.Cartesian});for(let t=4;t<=4;t++)for(let e=0;e<=10;e++)i.series.push(new nt({fx:s=>t/2+e*Math.cos(s)+t/2*Math.cos(2*s),fy:s=>e*Math.sin(s)+t/2*Math.sin(2*s),t0:0,t1:Math.PI*2,n:1e3,title:`a=${t}, b=${e}`}));return i}function Uw(){const i=new b({title:"Folium of Descartes",plotType:mt.Cartesian});i.axes.push(new y({position:g.Left,minimum:-3,maximum:3})),i.axes.push(new y({position:g.Bottom,minimum:-3,maximum:3}));const t=1;return i.series.push(new nt({fx:e=>3*t*e/(Math.pow(e,3)+1),fy:e=>3*t*Math.pow(e,2)/(Math.pow(e,3)+1),t0:-30,t1:30,n:1001,title:`a=${t}`})),i}function Ww(){const i=new b({title:"Trisectrix of Maclaurin",plotType:mt.Cartesian}),t=1;return i.series.push(new nt({fx:e=>t*(e*e-3)/(e*e+1),fy:e=>t*e*(e*e-3)/(e*e+1),t0:-5,t1:5,n:1e3})),i}function Xw(){const i=new b({title:"Fermat's spiral",plotType:mt.Cartesian}),t=1;return i.series.push(new nt({fx:e=>t*Math.sqrt(e)*Math.cos(e),fy:e=>t*Math.sqrt(e)*Math.sin(e),t0:0,t1:20,n:1e3})),i.series.push(new nt({fx:e=>-t*Math.sqrt(e)*Math.cos(e),fy:e=>-t*Math.sqrt(e)*Math.sin(e),t0:0,t1:20,n:1e3})),i}function Yw(){const i=new b({title:"Fish curve",plotType:mt.Cartesian});for(let t=.1;t<1;t+=.1)i.series.push(new nt({fx:e=>t*(Math.cos(e)-Math.sin(e)*Math.sin(e)/Math.sqrt(2)),fy:e=>t*Math.cos(e)*Math.sin(e),t0:0,t1:2*Math.PI,n:1e3}));return i}function jw(){const i=new b({title:"Heaviside step function",plotType:mt.Cartesian});return i.series.push(new nt({f:t=>Math.abs(t)<1e-8?NaN:t<0?0:1,x0:-2,x1:2,dx:.001})),i.annotations.push(new _t({type:ve.Vertical,color:i.defaultColors[0],x:0,minimumY:0,maximumY:1})),i}function qw(){const i=new b({title:"Trigonometric functions",subtitle:"Example using the FunctionSeries",plotType:mt.Cartesian,plotAreaBackground:f.White});return i.series.push(new nt({f:Math.sin,x0:-10,x1:10,dx:.1,title:"sin(x)"})),i.series.push(new nt({f:Math.cos,x0:-10,x1:10,dx:.1,title:"cos(x)"})),i.series.push(new nt({fx:t=>5*Math.cos(t),fy:t=>5*Math.sin(t),t0:0,t1:2*Math.PI,n:1e3,title:"cos(t),sin(t)"})),i}function Jw(){const i=new b({title:"Squirqle",plotType:mt.Cartesian});return i.series.push(Co(4,1,1)),i}function Zw(){const i=new b({title:"Superellipse",plotType:mt.Cartesian}),t=Co(20,1,1);return t.markerType=V.Circle,i.series.push(t),i}function Kw(){const i=new b({title:"Lamé curves",plotType:mt.Cartesian}),t=new X({legendPlacement:gt.Outside});i.legends.push(t);for(let e=.25;e<2;e+=.25)i.series.push(Co(e,1,1));for(let e=2;e<=8+1e-6;e+=1)i.series.push(Co(e,1,1));return i}function Qw(i=25){const t=new b({title:"Square wave (Gibbs phenomenon)"}),e=n=>{let o=0;for(let r=0;r<i;r++){const a=r*2+1;o+=Math.sin(a*n)/a}return o},s=new nt({f:e,x0:-10,x1:10,dx:1e-4,title:`sin(x)+sin(3x)/3+sin(5x)/5+...+sin(${2*i-1})/${2*i-1}`});return t.series.push(s),t.subtitle=`n = ${s.points.length}`,t.axes.push(new y({position:g.Left,minimum:-4,maximum:4})),t.axes.push(new y({position:g.Bottom})),t}function Co(i,t,e){return new nt({fx:s=>t*Math.sign(Math.cos(s))*Math.pow(Math.abs(Math.cos(s)),2/i),fy:s=>e*Math.sign(Math.sin(s))*Math.pow(Math.abs(Math.sin(s)),2/i),t0:0,t1:Math.PI*2,n:101,title:`n=${i}, a=${t}, b=${e}`})}function an(i,t,e,s,n,o,r,a){const u=new b({title:o,subtitle:r,plotType:mt.Cartesian});return u.series.push(new nt({fx:i,fy:t,t0:e,t1:s,n,title:a})),u}const t4="FunctionSeries",e4={category:t4,tags:["Series"],examples:[{title:"Square wave",example:{model:Nw}},{title:"Parametric function 1",example:{model:_w}},{title:"Parametric function 2",example:{model:Vw}},{title:"Parametric function 3",example:{model:Ew}},{title:"Lemniscate of Bernoulli",example:{model:zw}},{title:"Lemniscate of Gerono",example:{model:Ow}},{title:"Lissajous figure",example:{model:$w}},{title:"Rose curve",example:{model:Gw}},{title:"Limaçon of Pascal",example:{model:Hw}},{title:"Folium of Descartes",example:{model:Uw}},{title:"Trisectrix of Maclaurin",example:{model:Ww}},{title:"Fermat's spiral",example:{model:Xw}},{title:"Fish curve",example:{model:Yw}},{title:"Heaviside step function",example:{model:jw}},{title:"FunctionSeries",example:{model:qw}},{title:"Squirqle",example:{model:Jw}},{title:"Superellipse n=20",example:{model:Zw}},{title:"Lamé curves",example:{model:Kw}}]};function i4(){return za()}function s4(){return za(!0)}function n4(){return za(!0,1,1e4,.1)}function $u(){const i=new b({title:"Label Placement"}),t=new pi({labelPlacement:dt.Base,labelStringFormatter:o=>"Base",strokeThickness:1,labelMargin:5}),e=new pi({labelPlacement:dt.Inside,labelStringFormatter:o=>"Inside",strokeThickness:1,labelMargin:5}),s=new pi({labelPlacement:dt.Middle,labelStringFormatter:o=>"Middle",strokeThickness:1,labelMargin:5}),n=new pi({labelPlacement:dt.Outside,labelStringFormatter:o=>"Outside",strokeThickness:1,labelMargin:5});return t.items.push(ii(1,2,4,4)),t.items.push(ii(2,3,-4,4)),e.items.push(ii(3,4,2,2)),e.items.push(ii(4,5,-2,2)),s.items.push(ii(5,6,3,3)),s.items.push(ii(6,7,-3,3)),n.items.push(ii(7,8,1,1)),n.items.push(ii(8,9,-1,-1)),i.series.push(t),i.series.push(e),i.series.push(s),i.series.push(n),i}function o4(){const i=$u();return Ie.reverseYAxis(i),i}function r4(){const i=Gu(),t=i.series[0];return t.labelStringFormatter=function(e){return console.log("item",e),`Start: ${e.rangeStart.toFixed(2)}
End: ${e.rangeEnd.toFixed(2)}
Value: ${e.value.toFixed(2)}
Area: ${e.area.toFixed(2)}
Count: ${e.count}`},t.labelPlacement=dt.Inside,i}function a4(){return c4()}function l4(){return Gu()}function u4(){return d4()}function m4(){return p4()}function h4(){const i=new b({title:"Custom Item Mapping"}),t=new pi({mapping:e=>e,trackerStringFormatter:function(e){return e.item.description}});return t.items.push(Zn(1,2,4,4,"Item 1")),t.items.push(Zn(2,3,-4,4,"Item 2")),t.items.push(Zn(3,4,2,2,"Item 3")),t.items.push(Zn(4,5,-2,2,"Item 4")),i.series.push(t),i}function Zn(i,t,e,s,n){const o=ii(i,t,e,s);return o.description=n,o}function za(i=!1,t=1,e=1e4,s=0){const n=new b({title:i?"Exponential Distribution (logarithmic)":"Exponential Distribution",subtitle:`Uniformly distributed bins (${e} samples)`});n.axes.push(i?new Mt({position:g.Left,title:"Frequency"}):new y({position:g.Left,title:"Frequency"})),n.axes.push(new y({position:g.Bottom,title:"x"}));const o=new Ct(1),r=new pi,a=new qo(Zi.CountOutliers,en.InclusiveLowerBound,Rs.ExcludeExtremeValues),u=Hi.createUniformBins(0,5,15);return r.items.push(...Hi.collect(Hu(o,t,e),u,a)),r.strokeThickness=1,r.baseValue=s,r.negativeFillColor=f.Red,n.series.push(r),n}function c4(i=1,t=5e4){const e=new b({title:"Exponential Distribution",subtitle:`Custom bins (${t} samples)`});e.axes.push(new y({position:g.Left,title:"Frequency"})),e.axes.push(new y({position:g.Bottom,title:"x"}));const s=new Ct(1),n=new pi,o=new qo(Zi.CountOutliers,en.InclusiveLowerBound,Rs.ExcludeExtremeValues);return n.items.push(...Hi.collect(Hu(s,i,t),[0,.1,.2,.3,.4,.5,.75,1,2,3,4,5],o)),n.strokeThickness=1,n.fillColor=f.Purple,e.series.push(n),e}function d4(i=0,t=1,e=1e6){const s=new b({title:`Normal Distribution (μ=${i}, σ=${t})`,subtitle:`95% of the distribution (${e} samples)`});s.axes.push(new y({position:g.Left,title:"Frequency"})),s.axes.push(new y({position:g.Bottom,title:"x"}));const n=new Ct(1),o=new pi,r=new qo(Zi.CountOutliers,en.InclusiveLowerBound,Rs.ExcludeExtremeValues),a=Hi.createUniformBins(-t*4,t*4,100);o.items.push(...Hi.collect(g4(n,i,t,e),a,r)),o.strokeThickness=1;const u=i+1.96*t,m=i-1.96*t,c=f.DarkRed,p=f.DarkRed;return o.colorMapping=x=>{const w=je.from(x).center;return w>u?c:w<m?p:o.actualFillColor},s.series.push(o),s}function Gu(){const i=new b({title:"Disconnected Bins"});i.axes.push(new y({position:g.Left,title:"Representation"})),i.axes.push(new y({position:g.Bottom,title:"x"}));const t=new pi;return t.items.push(ii(0,.5,10,7),ii(.75,1,10,7)),t.labelStringFormatter=e=>je.from(e).value.toFixed(2),t.labelPlacement=dt.Middle,i.series.push(t),i}function p4(i=1,t=1e4){const e=new b({title:"Individual Bin Colors",subtitle:"Minimum is Red, Maximum is Green"});e.axes.push(new y({position:g.Left,title:"Frequency"})),e.axes.push(new y({position:g.Bottom,title:"Observation"}));const s=new Ct(1),n=new pi({fillColor:f.Gray,renderInLegend:!0,title:"Measurements"}),o=new qo(Zi.CountOutliers,en.InclusiveLowerBound,Rs.ExcludeExtremeValues),r=Hi.createUniformBins(0,10,20),a=Hi.collect(w4(s,0,10,1e3),r,o).sort((u,m)=>u.count-m.count);return a[0].color=f.Red,a[a.length-1].color=f.Green,n.items.push(...a),n.strokeThickness=1,e.series.push(n),e}function Hu(i,t,e){const s=[];for(let n=0;n<e;n++)s.push(f4(i,t));return s}function f4(i,t){return Math.log(1-i.next())/-t}function g4(i,t,e,s){const n=[];for(let o=0;o<s;o++)n.push(x4(i,t,e));return n}function x4(i,t,e){const s=1-i.next(),n=i.next();return Math.sqrt(-2*Math.log(s))*Math.cos(2*Math.PI*n)*e+t}function w4(i,t,e,s){const n=[];for(let o=0;o<s;o++)n.push(i.next()*(e-t)+t);return n}const y4="HistogramSeries",S4={category:y4,tags:["Series"],examples:[{title:"Exponential Distribution",example:{model:i4}},{title:"Exponential Distribution (logarithmic)",example:{model:s4}},{title:"Exponential Distribution (logarithmic,with BaseValue)",example:{model:n4}},{title:"Label Placement",example:{model:$u}},{title:"Label Placement (reversed Y Axis)",example:{model:o4}},{title:"Label formatter",example:{model:r4}},{title:"Custom Bins",example:{model:a4}},{title:"Disconnected Bins",example:{model:l4}},{title:"Normal Distribution Three Colors",example:{model:u4}},{title:"Individual Bin Colors",example:{model:m4}},{title:"Custom Item Mapping",example:{model:h4}}]};function b4(){const i=new b({title:"IntervalBarSeries"}),t=new X({legendPlacement:gt.Outside});i.legends.push(t);const e=new ci({title:"IntervalBarSeries 1"});e.items.push(Ht({start:6,end:8})),e.items.push(Ht({start:4,end:8})),e.items.push(Ht({start:5,end:11})),e.items.push(Ht({start:4,end:12})),i.series.push(e);const s=new ci({title:"IntervalBarSeries 2"});s.items.push(Ht({start:8,end:9})),s.items.push(Ht({start:8,end:10})),s.items.push(Ht({start:11,end:12})),s.items.push(Ht({start:12,end:12.5})),i.series.push(s);const n=new Z({position:g.Left});n.labels.push("Activity A"),n.labels.push("Activity B"),n.labels.push("Activity C"),n.labels.push("Activity D");const o=new y({position:g.Bottom,minimumPadding:.1,maximumPadding:.1});return i.axes.push(n),i.axes.push(o),i}function M4(){const i=new b({title:"IntervalBarSeries"}),t=new X({legendPlacement:gt.Outside});i.legends.push(t);const e=new ci({title:"IntervalBarSeries 1",labelPlacement:dt.Outside});e.items.push(Ht({start:6,end:8,categoryIndex:0})),e.items.push(Ht({start:10,end:12,categoryIndex:0})),i.series.push(e);const s=new ci({title:"IntervalBarSeries 2",labelPlacement:dt.Inside});s.items.push(Ht({start:4,end:8,categoryIndex:1})),s.items.push(Ht({start:10,end:12,categoryIndex:1})),i.series.push(s);const n=new ci({title:"IntervalBarSeries 3",labelPlacement:dt.Middle});n.items.push(Ht({start:5,end:11,categoryIndex:2})),n.items.push(Ht({start:13,end:17,categoryIndex:2})),i.series.push(n);const o=new ci({title:"IntervalBarSeries 4",labelPlacement:dt.Base,textColor:f.White});o.items.push(Ht({start:4,end:12,categoryIndex:3})),o.items.push(Ht({start:13,end:17,categoryIndex:3})),i.series.push(o);const r=new ci({title:"IntervalBarSeries 5",labelPlacement:dt.Outside,labelAngle:-45});r.items.push(Ht({start:6,end:8,categoryIndex:4})),r.items.push(Ht({start:10,end:12,categoryIndex:4})),i.series.push(r);const a=new ci({title:"IntervalBarSeries 6",labelPlacement:dt.Inside,labelAngle:-45});a.items.push(Ht({start:4,end:8,categoryIndex:5})),a.items.push(Ht({start:10,end:12,categoryIndex:5})),i.series.push(a);const u=new ci({title:"IntervalBarSeries 7",labelPlacement:dt.Middle,labelAngle:-45});u.items.push(Ht({start:5,end:11,categoryIndex:6})),u.items.push(Ht({start:13,end:17,categoryIndex:6})),i.series.push(u);const m=new ci({title:"IntervalBarSeries 8",labelPlacement:dt.Base,labelAngle:-45});m.items.push(Ht({start:4,end:12,categoryIndex:7})),m.items.push(Ht({start:13,end:17,categoryIndex:7})),i.series.push(m);const c=new Z({key:"CategoryAxis",position:g.Left,startPosition:1,endPosition:0});c.labels.push("Label Outside"),c.labels.push("Label Inside"),c.labels.push("Label Middle"),c.labels.push("Label Base"),c.labels.push("Label Outside (angled)"),c.labels.push("Label Inside (angled)"),c.labels.push("Label Middle (angled)"),c.labels.push("Label Base (angled)");const p=new y({key:"ValueAxis",position:g.Bottom,minimumPadding:.1,maximumPadding:.1});return i.axes.push(c),i.axes.push(p),i}const k4="IntervalBarSeries",A4={category:k4,tags:["Series"],examples:[{title:"IntervalBarSeries",example:{model:b4}},{title:"IntervalBarSeries with various label types",example:{model:M4}}]};function v4(){const i=new b({title:"LinearBarSeries with default style"});i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left}));const t=Uu();return t.title="LinearBarSeries",i.series.push(t),i}function R4(){const i=new b({title:"LinearBarSeries with stroke"});i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left}));const t=Uu();return t.title="LinearBarSeries",t.fillColor=M.parse("#454CAF50"),t.strokeColor=M.parse("#4CAF50"),t.strokeThickness=1,i.series.push(t),i}function C4(){return sr()}function T4(){return sr(!0)}function P4(){return sr(void 0,50)}function L4(){return sr(!0,50)}function sr(i=!1,t=0){const e=new b({title:i?"LinearBarSeries with stroke (logarithmic)":"LinearBarSeries with stroke"});e.axes.push(new y({position:g.Bottom})),e.axes.push(i?new Mt({position:g.Left}):new y({position:g.Left}));const s=D4();return s.title="LinearBarSeries",s.fillColor=M.parse("#454CAF50"),s.strokeColor=M.parse("#4CAF50"),s.negativeFillColor=M.parse("#45BF360C"),s.negativeStrokeColor=M.parse("#BF360C"),s.strokeThickness=1,s.baseValue=t,e.series.push(s),e}function Uu(){const i=new pa,t=new Ct;let e=t.next(10,31);for(let s=0;s<=50;s++)i.points.push(d(s,e)),e+=t.next(-5,5);return i}function D4(){const i=new pa,t=new Ct;for(let e=0;e<=50;e++){const s=-200+t.next(0,1e3);i.points.push(d(e,s))}return i}const I4="LinearBarSeries",B4={category:I4,tags:["Series"],examples:[{title:"Default style",example:{model:v4}},{title:"With stroke",example:{model:R4}},{title:"With negative colors",example:{model:C4}},{title:"With negative colors (logaritmic)",example:{model:T4}},{title:"With BaseValue",example:{model:P4}},{title:"With BaseValue (Logarithmic)",example:{model:L4}}]};function F4(){const i=new b({title:"LineSeries with default style"});i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left}));const t=Se();return t.title="LineSeries 1",i.series.push(t),i}function N4(){const i=new b({title:"LineSeries with custom style"}),t=new X({legendSymbolLength:24});i.legends.push(t),i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left}));const e=Se();return e.title="LineSeries 1",e.toolTip="This is a tooltip for a LineSeries 1",e.color=f.SkyBlue,e.strokeThickness=3,e.lineStyle=v.Dash,e.markerType=V.Circle,e.markerSize=5,e.markerStroke=f.White,e.markerFill=f.SkyBlue,e.markerStrokeThickness=1.5,i.series.push(e),i}function _4(){const i=new b({title:"Two LineSeries"});i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left}));const t=Se();t.title="LineSeries 1",i.series.push(t);const e=Se(41);return e.title="LineSeries 2",i.series.push(e),i}function V4(){const i=new b({title:"LineSeries with IsVisible = false",subtitle:"Click to change the IsVisible property for LineSeries 2"});i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left,minimum:0,maximum:50}));const t=Se(38);t.title="LineSeries 1",i.series.push(t);const e=Se(39);return e.title="LineSeries 2",e.isVisible=!1,i.series.push(e),i.mouseDown=(s,n)=>{e.isVisible=!e.isVisible,i.invalidatePlot(!0)},i}function E4(){const i=new b({title:"LineSeries with custom TrackerFormatString",subtitle:'TrackerFormatString = "X={2:0.0} Y={4:0.0}"'});i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left}));const t=Se();return t.trackerStringFormatter=function(e){return"X="+e.xValue.toFixed(1)+" Y="+e.yValue.toFixed(1)},i.series.push(t),i}function z4(){const i=new b({title:"LineSeries with custom markers"}),t=new X({legendSymbolLength:30});i.legends.push(t);const e=6,s=[];for(let o=0;o<e;o++){const r=Math.PI*(4*o/(e-1)-.5),a=1;s[o]=R(Math.cos(r)*a,Math.sin(r)*a)}const n=Se(39);return n.title="LineSeries 1",n.markerType=V.Custom,n.markerSize=8,n.markerOutline=s,i.series.push(n),i}function O4(){const i=Xu("LineSeries with different MarkerType",V.Custom),t=new X({legendBackground:M.fromAColor(220,f.White),legendBorder:f.Black,legendBorderThickness:1});i.legends.push(t);let e=0;for(const s of i.series){const n=s;n.color=f.Red,n.markerStroke=f.Black,n.markerFill=f.Green,n.markerType=e++,n.title=V[n.markerType]}return i}function $4(){const i=new b({title:"LineSeries with labels",subtitle:"Use the 'labelFormatString' property"}),t=new X({legendSymbolLength:24});i.legends.push(t),i.axes.push(new y({position:g.Bottom})),i.axes.push(new y({position:g.Left,maximumPadding:.1}));const e=Se();return e.labelStringFormatter=(s,n)=>n[1].toString(),e.markerType=V.Circle,i.series.push(e),i}function G4(){const i=Xu("LineSeries with LineStyle",v.None),t=new X({legendPlacement:gt.Outside,legendSymbolLength:50});i.legends.push(t);let e=0;for(const s of i.series){const n=s;n.color=f.Red,n.lineStyle=e++,n.title=v[n.lineStyle]}return i}function H4(){const i=new b({title:"LineSeries with interpolation",subtitle:"InterpolationAlgorithm = CanonicalSpline"}),t=new X({legendSymbolLength:24});i.legends.push(t);const e=Se();return e.markerType=V.Circle,e.interpolationAlgorithm=Ke.CanonicalSpline,i.series.push(e),i}function Wu(){const i=new b({title:"LineSeries with LineLegendPosition"});i.axes.push(new y({position:g.Bottom,minimumPadding:.05,maximumPadding:.05})),i.axes.push(new y({position:g.Left,minimumPadding:.05,maximumPadding:.05}));const t=Se();t.title="Start",t.markerType=V.Circle,t.lineLegendPosition=js.Start,i.series.push(t);const e=Se(41);return e.title="End",e.markerType=V.Circle,e.lineLegendPosition=js.End,i.series.push(e),i}function U4(){return Ie.reverseXAxis(Wu())}function W4(){const i=new b({title:"LineSeries with broken lines"}),t=Se();t.points[3]=ke,t.points[7]=ke,t.brokenLineColor=f.Gray,t.brokenLineThickness=.5,t.brokenLineStyle=v.Solid,i.series.push(t);const e=Se(49);return e.points[3]=ke,e.points[7]=ke,e.brokenLineColor=f.Automatic,e.brokenLineThickness=1,e.brokenLineStyle=v.Dot,i.series.push(e),i}function X4(){const i=new b({title:"LineSeries without Decimator"}),t=Yu();return i.series.push(t),i}function Y4(){const i=new b({title:"LineSeries with X Decimator"}),t=Yu();return t.decimator=Ao.decimate,i.series.push(t),i}function j4(){const i=Oa();return new b({title:"Canonical spline interpolation",series:[new G({itemsSource:i,title:"Default (0.5)",interpolationAlgorithm:Ke.CanonicalSpline,markerType:V.Circle,markerFill:f.Black}),new G({itemsSource:i,title:"0.1",interpolationAlgorithm:new _e(.1)}),new G({itemsSource:i,title:"1.0",interpolationAlgorithm:new _e(1)})]})}function q4(){const i=Oa();return new b({title:"Catmull-Rom interpolation",series:[new G({itemsSource:i,title:"Standard",interpolationAlgorithm:Ke.CatmullRomSpline,markerType:V.Circle,markerFill:f.Black}),new G({itemsSource:i,title:"Chordal",interpolationAlgorithm:Ke.ChordalCatmullRomSpline}),new G({itemsSource:i,title:"Uniform",interpolationAlgorithm:Ke.UniformCatmullRomSpline})]})}function J4(){Oa();const i=new b({title:"Marker color options"}),t=Se(1);t.markerType=V.Circle,i.series.push(t);const e=Se(4);e.markerType=V.Square,e.color=f.LightBlue,i.series.push(e);const s=Se(13);s.markerType=V.Square,s.markerFill=f.Black,i.series.push(s);const n=Se(5);return n.markerType=V.Square,n.markerFill=f.OrangeRed,n.color=f.Orange,i.series.push(n),i}function Oa(i=50){const t=new Ct,e=[];for(let s=0;s<i;s++)s<5?e.push(d(s,0)):s<10?e.push(d(s,1)):s<12?e.push(d(s,0)):e.push(d(s,t.next()));return e}function Se(i=13){const t=new G,e=new Ct(i);let s=e.next(10,30);for(let n=0;n<=100;n+=10)t.points.push(d(n,s)),s+=e.next(-5,5);return t}function Xu(i,t=20){const e=new b({title:i});for(let s=1;s<=t;s++){const n=new G({title:"Series "+s});e.series.push(n);for(let o=0;o<2*Math.PI;o+=.1)n.points.push(d(o,Math.sin(o*s)/(s+1)+s))}return e}function Yu(){const i=new G,t=2e4;for(let e=0;e<t;e++)i.points.push(d(e/t,Math.sin(e)));return i}const Z4="LineSeries",K4={category:Z4,tags:["Series"],examples:[{title:"Default style",example:{model:F4}},{title:"Custom style",example:{model:N4}},{title:"Two LineSeries",example:{model:_4}},{title:"Visibility",example:{model:V4}},{title:"Custom TrackerFormatString",example:{model:E4}},{title:"Custom markers",example:{model:z4}},{title:"Marker types",example:{model:O4}},{title:"Labels",example:{model:$4}},{title:"LineStyle",example:{model:G4}},{title:"Interpolation",example:{model:H4}},{title:"LineLegendPosition",example:{model:Wu}},{title:"LineLegendPosition (reversed X Axis)",example:{model:U4}},{title:"Broken lines",example:{model:W4}},{title:"Without Decimator",example:{model:X4}},{title:"With X Decimator",example:{model:Y4}},{title:"Canonical spline interpolation",example:{model:j4}},{title:"Catmull-Rom interpolation",example:{model:q4}},{title:"Marker color options",example:{model:J4}}]};function Q4(){return $a()}function ty(){const i=$a(),t=i.series[0];return t.insideLabelColor=f.White,i}function ey(){const i=$a(),t=i.series[0];return t.insideLabelColor=f.White,t.innerDiameter=.5,i}function $a(){const i=new b({title:"World population by continent"}),t=new hu({strokeThickness:2,insideLabelPosition:.8,angleSpan:360,startAngle:0,innerDiameter:.5});return t.slices.push({label:"Africa",value:1030,isExploded:!0}),t.slices.push({label:"Americas",value:929,isExploded:!0}),t.slices.push({label:"Asia",value:4157}),t.slices.push({label:"Europe",value:739,isExploded:!0}),t.slices.push({label:"Oceania",value:35,isExploded:!0}),i.series.push(t),i}const iy="PieSeries",sy={category:iy,tags:["Series"],examples:[{title:"PieSeries",example:{model:Q4}},{title:"PieSeries with inside label color",example:{model:ty}},{title:"Doughnut Chart",example:{model:ey}}]};function ny(){const i=new b({title:"Polygon Series",plotType:mt.Cartesian});i.axes.push(new Yt);const t=new Ma,e=[];for(let s=0;s<5;s++)t.items.push(qr(Jr(d(s*5,0),2,3+s),s)),e.push(Jr(d(s*5,5),2,3+s));return t.items.push(qr(e,10)),i.series.push(t),i}function oy(){const i=new b({title:"Hexagonal Grid"});i.axes.push(new Yt({position:g.Right}));const t=r=>Math.sin(r.x/5)+Math.sqrt(r.y),e=1,s=e*2-Math.cos(Math.PI/3)*e,n=Math.sin(Math.PI/3)*e*2,o=new Ma({stroke:f.Black,strokeThickness:1});for(let r=0;r<40;r++)for(let a=0;a<40;a++){const u=r%2===0?0:n/2,m=d(r*s,a*n+u);o.items.push(qr(Jr(m,e,6),t(m)))}return i.series.push(o),i}function Jr(i,t,e){const s=new Array(e);for(let n=0;n<s.length;n++){const o=Math.PI*2*n/s.length,r=Math.cos(o)*t,a=Math.sin(o)*t;s[n]=d(i.x+r,i.y+a)}return s}const ry="PolygonSeries",ay={category:ry,tags:["Series"],examples:[{title:"PolygonSeries",example:{model:ny}},{title:"Hexagonal Grid",example:{model:oy}}]};function ly(){const i=new b({title:"RectangleBarSeries"}),t=new X({legendPlacement:gt.Outside});i.legends.push(t);const e=new $r({title:"RectangleBarSeries 1"}),s=o=>(o.color||(o.color=f.Automatic),o);e.items.push(s({x0:2,x1:8,y0:1,y1:4})),e.items.push(s({x0:6,x1:12,y0:6,y1:7})),i.series.push(e);const n=new $r({title:"RectangleBarSeries 2"});return n.items.push(s({x0:2,x1:8,y0:-4,y1:-1})),n.items.push(s({x0:6,x1:12,y0:-7,y1:-6})),i.series.push(n),i}const uy="RectangleBarSeries",my={category:uy,tags:["Series"],examples:[{title:"RectangleBarSeries",example:{model:ly}}]};function hy(){const t=new b({title:"RectangleSeries"});t.axes.push(new Yt({position:g.Right,palette:j.jet(100)}));const e=new Sa({labelFontSize:12});for(let s=9;s>=0;s--)e.items.push(pu(-s*.5,s*.5,s*s,s*(s+3),s));return t.series.push(e),t}function cy(){const t=new b({title:"RectangleSeries"});t.axes.push(new Yt({position:g.Right,palette:j.jet(100)}));const e=[];for(let s=0;s<10;s++)e.push({x:s,value:s});return t.series.push(new Sa({itemsSource:e,mapping:s=>{const n=s;return pu(n.x,n.x*2,n.x,n.x*2,n.value)}})),t}const dy="RectangleSeries",py={category:dy,tags:["Series"],examples:[{title:"RectangleSeries",example:{model:hy}},{title:"RectangleSeries from ItemsSource and Mapping",example:{model:cy}}]};function fy(){return sS(1e3)}function gy(){return Ui(32768,0)}function xy(){return Ui(32768,2)}function wy(){return Ui(32768,4)}function yy(){return Ui(32768,6)}function Sy(){return Ui(32768,8)}function by(){return Ui(32768,10)}function My(){const i=new b({title:"Two ScatterSeries (with and without values)",subtitle:"With values (squares), without values (triangles)"}),t=new Yt({position:g.Right,key:"ColorAxis",palette:j.jet(30),minimum:-1,maximum:1});return i.axes.push(t),i.series.push(To(50,V.Triangle,!1,!1,void 0)),i.series.push(To(50,V.Square,!1,!0,t)),i}function ky(){const i=new b({title:"ScatterSeries with LabelFormatString"}),t=To(50,V.Square,!1,!1,void 0);return t.labelStringFormatter=(e,s)=>Bt(s[1],3).toString(),i.series.push(t),i}function To(i,t,e,s,n){const o=new Et({markerType:t,markerSize:6,colorAxisKey:n!==void 0?n.key:void 0}),r=new Ct;for(let a=0;a<i;a++){let u;e&&(u=r.next()*5+5);let m;s&&(m=r.next()*2.2-1.1);const c={x:r.next()*2.2-1.1,y:r.next(),size:u,value:m};o.points.push(c)}return o}function Ay(){return vy(1e3,8)}function vy(i,t){const e=new b({title:`ScatterSeries with random MarkerSize (n=${i})`,subtitle:`BinSize = ${t}`}),s=new Et({title:"Series 1",markerStrokeThickness:0,binSize:t}),n=new Ct;for(let o=0;o<i;o++)s.points.push({x:n.next(),y:n.next(),size:4+10*n.next()});return e.series.push(s),e}function Ry(){const t=new b({title:"Random data (n=20)"}),e=new X({legendPosition:$.LeftTop});t.legends.push(e);const s=new Et({title:"Measurements"}),n=new Ct;let o=0,r=0;for(let m=0;m<20;m++){o+=2+n.next()*10,r+=1+n.next();const c={x:o,y:r};s.points.push(c)}t.series.push(s);const[a,u]=Cy(s.points);return t.annotations.push(new _t({slope:a,intercept:u,text:"Least squares fit"})),t}function Cy(i){let t=0,e=0,s=0,n=0,o=0;for(const m of i)t+=m.x,e+=m.y,s+=m.x*m.y,n+=m.x*m.x,o++;const r=t*t-o*n,a=1/r*(t*e-o*s),u=1/r*(t*s-n*e);return[a,u]}function Ty(){const i=new b({title:"Marker types"}),t=new Ct;return i.series.push(us(t,10,"Circle",V.Circle)),i.series.push(us(t,10,"Cross",V.Cross)),i.series.push(us(t,10,"Diamond",V.Diamond)),i.series.push(us(t,10,"Plus",V.Plus)),i.series.push(us(t,10,"Square",V.Square)),i.series.push(us(t,10,"Star",V.Star)),i.series.push(us(t,10,"Triangle",V.Triangle)),i}function Py(){const i=new b({title:"ScatterSeries (n=1000)",subtitle:"The scatter points are added to the Points collection."}),t=new Et;return t.points.push(...Ga(1e3)),i.series.push(t),i}function Ly(){const i=new b({title:"ScatterSeries (n=1000)",subtitle:"The scatter points are defined in the ItemsSource property."});return i.series.push(new Et({itemsSource:Ga(1e3)})),i}function Dy(){const i=new b({title:"ScatterSeries (n=1000)",subtitle:"The scatter points are defined by a mapping from the ItemsSource."});return i.series.push(new Et({itemsSource:qu(1e3),mapping:t=>t})),i}function Iy(){const i=new b({title:"ScatterSeries (n=1000)",subtitle:"The scatter points are defined by reflection from the ItemsSource."});return i.series.push(new Et({itemsSource:qu(1e3),dataFieldX:"x",dataFieldY:"y"})),i}function By(){return we(2500,j.rainbow(16),V.Square,g.Right,f.Undefined,f.Undefined)}function Fy(){return we(2500,j.hue(30),V.Star,g.Right,f.Undefined,f.Undefined)}function Ny(){return we(2500,j.hot(64),V.Triangle,g.Right,f.Undefined,f.Undefined)}function _y(){return we(2500,j.cool(32),V.Circle,g.Right,f.Undefined,f.Undefined)}function Vy(){return we(2500,j.gray(32),V.Diamond,g.Right,f.Undefined,f.Undefined)}function Ey(){return we(2500,j.jet(32),V.Plus,g.Right,f.Undefined,f.Undefined)}function zy(){return we(2500,j.hot(64),V.Square,g.Right,f.Magenta,f.Green)}function Oy(){return we(2500,j.hot(64),V.Cross,g.Top,f.Magenta,f.Green)}function $y(){return we(31e3,j.hot(16),V.Square,g.Right,f.Undefined,f.Undefined)}function Gy(){return we(2500,j.blueWhiteRed(3),V.Square,g.Right,f.Undefined,f.Undefined)}function Hy(){return we(2500,j.blueWhiteRed(9),V.Square,g.Right,f.Undefined,f.Undefined)}function Uy(){return we(2500,j.blueWhiteRed(256),V.Square,g.Right,f.Undefined,f.Undefined)}function Wy(){return we(2500,j.blackWhiteRed(9),V.Square,g.Right,f.Undefined,f.Undefined)}function Xy(){return we(2500,j.blackWhiteRed(9),V.Square,g.Top,f.Undefined,f.Undefined)}function Yy(){return we(2500,j.viridis(),V.Square,g.Right,f.Undefined,f.Undefined)}function jy(){return we(2500,j.plasma(),V.Square,g.Right,f.Undefined,f.Undefined)}function qy(){return we(2500,j.magma(),V.Square,g.Right,f.Undefined,f.Undefined)}function Jy(){return we(2500,j.inferno(),V.Square,g.Right,f.Undefined,f.Undefined)}function Zy(){return we(2500,j.cividis(),V.Square,g.Right,f.Undefined,f.Undefined)}function Ky(){const i=Ui(10,8);i.subtitle="Click to select a point",i.selectionColor=f.Red;const t=i.series[0];return t.selectionMode=Ni.Single,t.selectItem(3),t.selectItem(5),t.mouseDown=(e,s)=>{const n=s.hitTestResult.index;t.selectItem(n),i.invalidatePlot(!1),s.handled=!0},i.mouseDown=(e,s)=>{t.clearSelection(),i.invalidatePlot(!1),s.handled=!0},i}function Qy(){const i=Ui(10,8);i.subtitle="Click to toggle point selection",i.selectionColor=f.Red;const t=i.series[0];return t.selectionMode=Ni.Multiple,t.selectItem(3),t.selectItem(5),t.mouseDown=(e,s)=>{const n=s.hitTestResult.index;t.isItemSelected(n)?t.unselectItem(n):t.selectItem(n),i.invalidatePlot(!1),s.handled=!0},i.mouseDown=(e,s)=>{t.clearSelection(),i.invalidatePlot(!1),s.handled=!0},i}function tS(){return ju(!1)}function eS(){return ju(!0)}function iS(){const i=new b({title:"TrackerFormatString"}),t=new Et({trackerStringFormatter:function(s){return s.item.sum.toString()},dataFieldX:"x",dataFieldY:"y"}),e=[new xr(10,40),new xr(40,20),new xr(60,30)];return t.itemsSource=e,i.series.push(t),i}function ju(i){const t=Ui(10,8);t.subtitle="Click to select all points",t.selectionColor=f.Red;const e=t.series[0];return e.selectionMode=Ni.All,e.mouseDown=(s,n)=>{e.select(),t.invalidatePlot(!1),n.handled=!i},t.mouseDown=(s,n)=>{n.hitTestResult!==void 0&&i||(e.clearSelection(),t.invalidatePlot(!1),n.handled=!0)},t}class xr{constructor(t,e){this.x=t,this.y=e}get sum(){return this.x+this.y}}function Ui(i,t){const e=new b({title:`ScatterSeries (n=${i})`,subtitle:t>0?`BinSize = ${t}`:"No 'binning'"}),s=new Et({title:"Series 1",markerType:V.Diamond,markerStrokeThickness:0,binSize:t}),n=new Ct;for(let o=0;o<i;o++)s.points.push({x:n.next(),y:n.next()});return e.series.push(s),e}function we(i,t,e,s,n,o){const r=new b({title:`ScatterSeries (n=${i})`,background:f.LightGray}),a=new Yt({position:s,palette:t,minimum:-1,maximum:1,highColor:n,lowColor:o});return r.axes.push(a),r.series.push(To(i,e,!1,!0,a)),r}function sS(i){const t=new b({title:`Correlated ScatterSeries (n=${i})`}),e=new Et({title:"Series 1",markerType:V.Diamond,markerStrokeThickness:0}),s=new Ct;for(let n=0;n<i;n++){const o=cl(s),r=2*o*o+cl(s);e.points.push({x:o,y:r})}return t.series.push(e),t}function us(i,t,e,s){const n=new Et({title:e,markerType:s,markerStroke:f.Black,markerStrokeThickness:1});for(let o=0;o<t;o++){const r=i.next()*10,a=i.next()*10,u={x:r,y:a};n.points.push(u)}return n}function cl(i){const t=i.next(),e=i.next();return Math.sqrt(-2*Math.log(t))*Math.sin(2*Math.PI*e)}function qu(i){return Ga(i).map(t=>d(t.x,t.y))}function Ga(i){const t=new Ct,e=[];for(let s=0;s<i;s++){const n=t.next()*10,o=t.next()*10,r={x:n,y:o};e.push(r)}return e}const nS="ScatterSeries",oS={category:nS,tags:["Series"],examples:[{title:"Correlated points",example:{model:fy}},{title:"Random points",example:{model:gy}},{title:"Random points (BinSize=2)",example:{model:xy}},{title:"Random points (BinSize=4)",example:{model:wy}},{title:"Random points (BinSize=6)",example:{model:yy}},{title:"Random points (BinSize=8)",example:{model:Sy}},{title:"Random points (BinSize=10)",example:{model:by}},{title:"Two ScatterSeries",example:{model:My}},{title:"LabelFormatString",example:{model:ky}},{title:"Random points with random size",example:{model:Ay}},{title:"Random points with least squares fit",example:{model:Ry}},{title:"Marker types",example:{model:Ty}},{title:"ScatterSeries.Points",example:{model:Py}},{title:"ScatterSeries.ItemsSource",example:{model:Ly}},{title:"ScatterSeries.ItemsSource + Mapping",example:{model:Dy}},{title:"ScatterSeries.ItemsSource + reflection",example:{model:Iy}},{title:"ScatterSeries with ColorAxis Rainbow(16)",example:{model:By}},{title:"ScatterSeries with ColorAxis Hue(30) Star",example:{model:Fy}},{title:"ScatterSeries with ColorAxis Hot(64)",example:{model:Ny}},{title:"ScatterSeries with ColorAxis Cool(32)",example:{model:_y}},{title:"ScatterSeries with ColorAxis Gray(32)",example:{model:Vy}},{title:"ScatterSeries with ColorAxis Jet(32)",example:{model:Ey}},{title:"ScatterSeries with ColorAxis Hot with extreme colors",example:{model:zy}},{title:"ScatterSeries with ColorAxis Hot (top legend)",example:{model:Oy}},{title:"ScatterSeries with ColorAxis Hot(16) N=31000",example:{model:$y}},{title:"ScatterSeries with ColorAxis BlueWhiteRed (3)",example:{model:Gy}},{title:"ScatterSeries with ColorAxis BlueWhiteRed (9)",example:{model:Hy}},{title:"ScatterSeries with ColorAxis BlueWhiteRed (256)",example:{model:Uy}},{title:"ScatterSeries with ColorAxis BlackWhiteRed (9)",example:{model:Wy}},{title:"ScatterSeries with ColorAxis BlackWhiteRed (9) top legend",example:{model:Xy}},{title:"ScatterSeries with ColorAxis Viridis",example:{model:Yy}},{title:"ScatterSeries with ColorAxis Plasma",example:{model:jy}},{title:"ScatterSeries with ColorAxis Magma",example:{model:qy}},{title:"ScatterSeries with ColorAxis Inferno",example:{model:Jy}},{title:"ScatterSeries with ColorAxis Cividis",example:{model:Zy}},{title:"ScatterSeries with single-selected items",example:{model:Ky}},{title:"ScatterSeries with multi-selected items",example:{model:Qy}},{title:"ScatterSeries with SelectionMode.All (no tracker)",example:{model:tS}},{title:"ScatterSeries with SelectionMode.All (with tracker)",example:{model:eS}},{title:"TrackerFormatString",example:{model:iS}}]};function rS(){return On(new Oe)}function aS(){return On(new Oe({labelStringFormatter:(i,t)=>`${Bt(t[1],2)}`}))}function lS(){return On(new Oe({color:f.SkyBlue,markerType:V.Circle,markerSize:6,markerStroke:f.White,markerFill:f.SkyBlue,markerStrokeThickness:1.5}))}function uS(){return On(new Oe({strokeThickness:3,verticalStrokeThickness:.4,markerType:V.None}))}function mS(){return On(new Oe({verticalLineStyle:v.Dash,markerType:V.None}))}function hS(){const i=new b({title:"StairStepSeries with invalid points",subtitle:"Horizontal lines do not continue"});return Ju(i,t=>ke),i}function cS(){const i=new b({title:"StairStepSeries with invalid Y",subtitle:"Horizontal lines continue until X of point with invalid Y"});return Ju(i,t=>d(t,NaN)),i}function dS(){const i=new b({title:"StairStepSeries with non-monotonic X",subtitle:"Lines form a boxed I-beam"}),t=new Oe({markerType:V.Circle,verticalLineStyle:v.Dash,verticalStrokeThickness:4,points:[d(1,1),d(3,1),d(2,3),d(1,3),d(3,3)]});i.series.push(t);const e=new Oe({markerType:V.Circle,verticalLineStyle:v.Dash,verticalStrokeThickness:4,points:[d(1,0),d(2,0),d(0,0),d(4,0),d(4,4)]});i.series.push(e);const s=new Oe({markerType:V.Circle,verticalLineStyle:v.Dash,verticalStrokeThickness:4,points:[d(3,4),d(2,4),d(4,4),d(0,4),d(0,0)]});return i.series.push(s),i}function On(i){const t=new b({title:"StairStepSeries"}),e=new X({legendSymbolLength:24});t.legends.push(e),i.title="sin(x)";for(let s=0;s<Math.PI*2;s+=.5)i.points.push(d(s,Math.sin(s)));return t.series.push(i),t}function Ju(i,t){i.legends.push(new X({legendOrientation:Pt.Horizontal,legendPlacement:gt.Outside,legendPosition:$.BottomCenter}));const e=new Oe({title:"Invalid First Point",markerType:V.Circle,points:[t(0),d(1,3.5),d(2,4),d(3,4.5)]});i.series.push(e);const s=new Oe({title:"Invalid Second Point",markerType:V.Circle,points:[d(0,2),t(1),d(2,3),d(3,3.5)]});i.series.push(s);const n=new Oe({title:"Invalid Penultimate Point",markerType:V.Circle,points:[d(0,1),d(1,1.5),t(2),d(3,2.5)]});i.series.push(n);const o=new Oe({title:"Invalid Last Point",markerType:V.Circle,points:[d(0,0),d(1,.5),d(2,1),t(3)]});i.series.push(o)}const pS="StairStepSeries",fS={category:pS,tags:["Series"],examples:[{title:"StairStepSeries",example:{model:rS}},{title:"StairStepSeries with labels",example:{model:aS}},{title:"StairStepSeries with markers",example:{model:lS}},{title:"StairStepSeries with thin vertical lines",example:{model:uS}},{title:"StairStepSeries with dashed vertical lines",example:{model:mS}},{title:"StairStepSeries with invalid points",example:{model:hS}},{title:"StairStepSeries with invalid Y",example:{model:cS}},{title:"StairStepSeries with non-monotonic X",example:{model:dS}}]};function gS(){return xS(new mu({color:f.SkyBlue,markerType:V.Circle,markerSize:6,markerStroke:f.White,markerStrokeThickness:1.5}))}function xS(i){const t=new b({title:"StemSeries"}),e=new X({legendSymbolLength:24});t.legends.push(e),i.title="sin(x)";for(let s=0;s<Math.PI*2;s+=.1)i.points.push(d(s,Math.sin(s)));return t.series.push(i),t}const wS="StemSeries",yS={category:wS,tags:["Series"],examples:[{title:"StemSeries",example:{model:gS}}]};function Zu(){const i=new b({title:"ThreeColorLineSeries"}),t=new X({legendSymbolLength:24});i.legends.push(t);const e=new fu({title:"Temperature at Eidesmoen, December 1986.",trackerStringFormatter:function(n){return`December ${Bt(n.xValue,0)}: ${n.yValue.toFixed(1)} °C`},markerSize:4,markerStroke:f.Black,markerStrokeThickness:1.5,markerType:V.Circle,interpolationAlgorithm:Ke.CanonicalSpline,strokeThickness:3}),s=[5,0,7,7,4,3,5,5,11,4,2,3,2,1,0,2,-1,0,0,-3,-6,-13,-10,-10,0,-4,-5,-4,3,0,-5];for(let n=0;n<s.length;n++)e.points.push(d(n+1,s[n]));return i.series.push(e),i.axes.push(new y({position:g.Left,title:"Temperature",unit:"°C",extraGridlines:[0]})),i.axes.push(new y({position:g.Bottom,title:"Date"})),i}function SS(){const i=Zu();return Ie.reverseYAxis(i),i}const bS="ThreeColorLineSeries",MS={category:bS,tags:["Series"],examples:[{title:"Temperatures",example:{model:Zu}},{title:"Temperatures (Y Axis reversed)",example:{model:SS}}]};function kS(){const i=new b({title:"Tornado diagram 1"}),t=new X({legendPlacement:gt.Outside});i.legends.push(t);const e=new H({title:"High",isStacked:!0,fillColor:M.fromRgb(216,82,85),baseValue:7,strokeColor:f.Black,strokeThickness:1});e.items.push(L({value:1})),e.items.push(L({value:1})),e.items.push(L({value:4})),e.items.push(L({value:5}));const s=new H({title:"Low",isStacked:!0,fillColor:M.fromRgb(84,138,209),baseValue:7,strokeColor:f.Black,strokeThickness:1});s.items.push(L({value:-1})),s.items.push(L({value:-3})),s.items.push(L({value:-2})),s.items.push(L({value:-3}));const n=new Z({position:g.Left});n.labels.push("F/X rate"),n.labels.push("Inflation"),n.labels.push("Price"),n.labels.push("Conversion");const o=new y({position:g.Bottom,extraGridlines:[7]});return i.series.push(e),i.series.push(s),i.axes.push(n),i.axes.push(o),i}function AS(){const i=new b({title:"Tornado diagram 2"}),t=new X({legendPlacement:gt.Outside});i.legends.push(t);const e=new Mi({title:"TornadoBarSeries",baseValue:7});e.items.push(Je({minimum:6,maximum:8})),e.items.push(Je({minimum:4,maximum:8})),e.items.push(Je({minimum:5,maximum:11})),e.items.push(Je({minimum:4,maximum:12}));const s=new Z({position:g.Left});s.labels.push("F/X rate"),s.labels.push("Inflation"),s.labels.push("Price"),s.labels.push("Conversion");const n=new y({position:g.Bottom,extraGridlines:[7],minimumPadding:.1,maximumPadding:.1});return i.series.push(e),i.axes.push(s),i.axes.push(n),i}function vS(){const i=new b({title:"Tornado Diagram"}),t=new X({legendPlacement:gt.Outside});i.legends.push(t);const e=new Mi({baseValue:7,labelPlacement:dt.Outside});e.items.push(Je({minimum:6,maximum:8,categoryIndex:0}));const s=new Mi({baseValue:7,labelPlacement:dt.Inside});s.items.push(Je({minimum:4,maximum:8,categoryIndex:1}));const n=new Mi({baseValue:7,labelPlacement:dt.Middle});n.items.push(Je({minimum:5,maximum:11,categoryIndex:2}));const o=new Mi({baseValue:7,labelPlacement:dt.Base});o.items.push(Je({minimum:4,maximum:12,categoryIndex:3}));const r=new Mi({baseValue:7,labelPlacement:dt.Outside,labelAngle:-45});r.items.push(Je({minimum:6,maximum:8,categoryIndex:4}));const a=new Mi({baseValue:7,labelPlacement:dt.Inside,labelAngle:-45});a.items.push(Je({minimum:4,maximum:8,categoryIndex:5}));const u=new Mi({baseValue:7,labelPlacement:dt.Middle,labelAngle:-45});u.items.push(Je({minimum:5,maximum:11,categoryIndex:6}));const m=new Mi({baseValue:7,labelPlacement:dt.Base,labelAngle:-45});m.items.push(Je({minimum:4,maximum:12,categoryIndex:7}));const c=new Z({position:g.Left,startPosition:1,endPosition:0});c.labels.push("Labels Outside"),c.labels.push("Labels Inside"),c.labels.push("Labels Middle"),c.labels.push("Labels Base"),c.labels.push("Labels Outside (angled)"),c.labels.push("Labels Inside (angled)"),c.labels.push("Labels Middle (angled)"),c.labels.push("Labels Base (angled)");const p=new y({position:g.Bottom,extraGridlines:[7],minimumPadding:.1,maximumPadding:.1});return i.series.push(e),i.series.push(s),i.series.push(n),i.series.push(o),i.series.push(r),i.series.push(a),i.series.push(u),i.series.push(m),i.axes.push(c),i.axes.push(p),i}const RS="TornadoBarSeries",CS={category:RS,tags:["Series"],examples:[{title:"Tornado diagram 1",example:{model:kS}},{title:"Tornado diagram 2",example:{model:AS}},{title:"Tornado diagram with various label types",example:{model:vS}}]};function TS(){const i=new b({title:"TwoColorAreaSeries"}),t=new X({legendSymbolLength:24});i.legends.push(t);const e=new _n({title:"Temperature at Eidesmoen, December 1986.",trackerStringFormatter:function(n){return`December ${Bt(n.xValue,0)}: ${n.yValue.toFixed(1)} °C`},color:f.Tomato,color2:f.LightBlue,markerFill:f.Tomato,markerFill2:f.LightBlue,strokeThickness:2,limit:-1,markerType:V.Circle,markerSize:3}),s=[5,0,7,7,4,3,5,5,11,4,2,3,2,1,0,2,-1,0,0,-3,-6,-13,-10,-10,0,-4,-5,-4,3,0,-5];for(let n=0;n<s.length;n++)e.points.push(d(n+1,s[n]));return i.series.push(e),i.axes.push(new y({position:g.Left,title:"Temperature",unit:"°C",extraGridlines:[0]})),i.axes.push(new y({position:g.Bottom,title:"Date"})),i}function PS(){const i=new b({title:"TwoColorAreaSeries"}),t=new X({legendSymbolLength:24});i.legends.push(t);const e=new _n({title:"Temperature at Eidesmoen, December 1986.",trackerStringFormatter:function(n){return`December ${Bt(n.xValue,0)}: ${n.yValue.toFixed(1)} °C`},color:f.Black,color2:f.Brown,markerFill:f.Red,fill:f.Tomato,fill2:f.LightBlue,markerFill2:f.Blue,markerStroke:f.Brown,markerStroke2:f.Black,strokeThickness:2,limit:0,markerType:V.Circle,markerSize:3}),s=[5,0,7,7,4,3,5,5,11,4,2,3,2,1,0,2,-1,0,0,-3,-6,-13,-10,-10,0,-4,-5,-4,3,0,-5];for(let n=0;n<s.length;n++)e.points.push(d(n+1,s[n]));return i.series.push(e),i.axes.push(new y({position:g.Left,title:"Temperature",unit:"°C",extraGridlines:[0]})),i.axes.push(new y({position:g.Bottom,title:"Date"})),i}function LS(){const i=new b({title:"TwoColorAreaSeries"}),t=new X({legendSymbolLength:24});i.legends.push(t);const e=new _n({title:"Temperature at Eidesmoen, December 1986.",trackerStringFormatter:function(n){return`December ${Bt(n.xValue,0)}: ${n.yValue.toFixed(1)} °C`},color:f.Black,color2:f.Brown,markerFill:f.Red,fill:f.Tomato,fill2:f.LightBlue,markerFill2:f.Blue,markerStroke:f.Brown,markerStroke2:f.Black,strokeThickness:1,limit:0,interpolationAlgorithm:Ke.CanonicalSpline,markerType:V.Circle,markerSize:1}),s=[5,0,7,7,4,3,5,5,11,4,2,3,2,1,0,2,-1,0,0,-3,-6,-13,-10,-10,0,-4,-5,-4,3,0,-5];for(let n=0;n<s.length;n++)e.points.push(d(n+1,s[n]));return i.series.push(e),i.axes.push(new y({position:g.Left,title:"Temperature",unit:"°C",extraGridlines:[0]})),i.axes.push(new y({position:g.Bottom,title:"Date"})),i}function DS(){const i=new b({title:"Two polygons"}),t=new X({legendSymbolLength:24});i.legends.push(t);const e=new _n({color:f.Tomato,color2:f.LightBlue,markerFill:f.Tomato,markerFill2:f.LightBlue,strokeThickness:2,markerType:V.Circle,markerSize:3});return e.points.push(d(0,3),d(1,5),d(2,1),d(3,0),d(4,3)),e.points2.push(d(0,-3),d(1,-1),d(2,0),d(3,-6),d(4,-4)),i.series.push(e),i.axes.push(new y({position:g.Left})),i.axes.push(new y({position:g.Bottom})),i}const IS="TwoColorAreaSeries",BS={category:IS,tags:["Series"],examples:[{title:"Temperatures",example:{model:TS}},{title:"Temperatures ver2",example:{model:PS}},{title:"Temperatures ver3",example:{model:LS}},{title:"Two polygons",example:{model:DS}}]};function Ku(){const i=new b({title:"TwoColorLineSeries"}),t=new X({legendSymbolLength:24});i.legends.push(t);const e=new gu({title:"Temperature at Eidesmoen, December 1986.",trackerStringFormatter:function(n){return`December ${Bt(n.xValue,0)}: ${n.yValue.toFixed(1)} °C`},color:f.Red,color2:f.LightBlue,strokeThickness:3,limit:0,interpolationAlgorithm:Ke.CanonicalSpline,markerType:V.Circle,markerSize:4,markerStroke:f.Black,markerStrokeThickness:1.5}),s=[5,0,7,7,4,3,5,5,11,4,2,3,2,1,0,2,-1,0,0,-3,-6,-13,-10,-10,0,-4,-5,-4,3,0,-5];for(let n=0;n<s.length;n++)e.points.push(d(n+1,s[n]));return i.series.push(e),i.axes.push(new y({position:g.Left,title:"Temperature",unit:"°C",extraGridlines:[0]})),i.axes.push(new y({position:g.Bottom,title:"Date"})),i}function FS(){const i=Ku();return Ie.reverseYAxis(i),i}const NS="TwoColorLineSeries",_S={category:NS,tags:["Series"],examples:[{title:"Temperatures",example:{model:Ku}},{title:"Temperatures (Y Axis reversed)",example:{model:FS}}]};function VS(){const{model:i}=nr(!0);return i}function ES(){const{model:i,series:t}=nr(!0);return t.arrowVeeness=2,i}function zS(){const{model:i,series:t}=nr(!0);return t.arrowLabelPosition=.25,t.arrowStartPosition=.5,i}function OS(){const{model:i}=nr(!1);return i}function $S(){const i=new b({title:"Peaks (Gradient)"}),t=new Wo,e=oe.createVectorWithStep(-3,3,.25),s=oe.createVectorWithStep(-3.1,3.1,.25);return t.arrowVeeness=1,t.arrowStartPosition=.5,t.itemsSource=e.flatMap(n=>s.map(o=>({origin:d(n,o),direction:new Bo(HS(n,o)/40,US(n,o)/40),value:NaN}))),i.series.push(t),i}function GS(){const t=new b({title:"VectorSeries"}),e=new Ct,s=100,n=100,o=50;t.axes.push(new Yt({position:g.Right,palette:j.cool(10),minimum:0,maximum:o})),t.axes.push(new y({position:g.Bottom,minimum:-o,maximum:s+o})),t.axes.push(new Mt({position:g.Left,minimum:1,maximum:n+o}));const r=new Wo({labelFontSize:12});for(let a=99;a>=0;a--){const u=e.next()*Math.PI*2,m=e.next()*o,c=d(e.next()*s,e.next()*n+1),p=new Bo(Math.cos(u)*m,Math.sin(u)*m);r.items.push({origin:c,direction:p,value:m})}return t.series.push(r),t}const HS=(i,t)=>-10*((1/5-3*Math.pow(i,2))*Math.exp(-Math.pow(i,2)-Math.pow(t,2))-2*i*(i/5-Math.pow(i,3)-Math.pow(t,5))*Math.exp(-Math.pow(i,2)-Math.pow(t,2)))+.6666666666666666*(1+i)*Math.exp(-Math.pow(1+i,2)-Math.pow(t,2))+3*(-2*(1-i)*Math.exp(-Math.pow(i,2)-Math.pow(1+t,2))-2*i*Math.pow(1-i,2)*Math.exp(-Math.pow(i,2)-Math.pow(1+t,2))),US=(i,t)=>-10*(-5*Math.pow(t,4)*Math.exp(-Math.pow(i,2)-Math.pow(t,2))-2*t*(i/5-Math.pow(i,3)-Math.pow(t,5))*Math.exp(-Math.pow(i,2)-Math.pow(t,2)))+.6666666666666666*t*Math.exp(-Math.pow(1+i,2)-Math.pow(t,2))-6*Math.pow(1-i,2)*(1+t)*Math.exp(-Math.pow(i,2)-Math.pow(1+t,2));function nr(i){const e=new b({title:"VectorSeries (Veeness = 2)"}),s=new Ct,n=100,o=100,r=10;i&&e.axes.push(new Yt({position:g.Right,palette:oi(j.cool(10).colors.map(u=>M.fromAColor(100,u))),minimum:0,maximum:r})),e.axes.push(new y({position:g.Bottom,minimum:-r,maximum:n+r})),e.axes.push(new y({position:g.Left,minimum:-r,maximum:o+r}));const a=new Wo({labelFontSize:12});for(let u=99;u>=0;u--){const m=s.next()*Math.PI*2,c=s.next()*r,p=d(s.next()*n,s.next()*o),x=new Bo(Math.cos(m)*c,Math.sin(m)*c);a.items.push({origin:p,direction:x,value:c})}return e.series.push(a),{model:e,series:a}}const WS="VectorSeries",XS={category:WS,tags:["Series"],examples:[{title:"VectorSeries",example:{model:VS}},{title:"VectorSeries (Veeness = 2)",example:{model:ES}},{title:"VectorSeries (Vector Origin and Label position)",example:{model:zS}},{title:"VectorSeries (without ColorAxis)",example:{model:OS}},{title:"Vector Field",example:{model:$S}},{title:"VectorSeries on Log Axis",example:{model:GS}}]},YS=[...K3,l5,K5,rw,Sw,kw,Fw,e4,Pf,S4,A4,B4,K4,sy,ay,my,py,oS,fS,yS,MS,CS,BS,_S,XS];function jS(){const i=new b({title:"Q1 2003 Calls by Region",plotAreaBorderThickness:K(0)}),t=new Z({axislineStyle:v.Solid,tickStyle:rt.None,key:"y"});t.labels.push("North","East","South","West"),i.axes.push(t),i.axes.push(new y({position:g.Left,minimum:0,maximum:6e3,majorStep:1e3,minorStep:1e3,axislineStyle:v.Solid,tickStyle:rt.Outside,key:"x"}));const e=new H({fillColor:f.Black,xAxisKey:"x",yAxisKey:"y"});return e.items.push(L({value:3e3})),e.items.push(L({value:4500})),e.items.push(L({value:2100})),e.items.push(L({value:4800})),i.series.push(e),i}function qS(){const i=new b({title:"2003 Sales",plotAreaBorderThickness:K(0),isLegendVisible:!1}),t=[1e3,1010,1020,1010,1020,1030,1e3,500,1e3,900,900,1e3],e=[2250,2500,2750,2500,2750,3e3,2500,2750,3100,2800,3100,3500],s=new Z({axislineStyle:v.Solid,tickStyle:rt.None});s.labels.push("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov"),i.axes.push(s),i.axes.push(new y({position:g.Left,minimum:0,maximum:4e3,majorStep:500,minorStep:500,axislineStyle:v.Solid,tickStyle:rt.Outside}));const n=new G({color:f.Orange});for(let r=0;r<12;r++)n.points.push(d(r,t[r]));const o=new G({color:f.Gray});for(let r=0;r<12;r++)o.points.push(d(r,e[r]));return i.series.push(n),i.series.push(o),i}function JS(){const i=new b({title:"Headcount",plotAreaBorderThickness:K(0),plotMargins:K(100,40,20,40)}),t=new Map([["Manufacturing",240],["Sales",160],["Engineering",50],["Operations",45],["Finance",40],["Info Systems",39],["Legal",25],["Marketing",10]]);return i.axes.push(new Z({position:g.Left,itemsSource:Array.from(t),labelField:"0",tickStyle:rt.None,axisTickToLabelDistance:10,startPosition:1,endPosition:0})),i.axes.push(new y({position:g.Bottom,minimum:0,maximum:250,majorStep:50,minorStep:50,axislineStyle:v.Solid,tickStyle:rt.Outside,minimumPadding:0,maximumPadding:0})),i.series.push(new H({fillColor:f.Black,itemsSource:Array.from(t),valueField:"1"})),i}function ZS(){const i=new b({title:"Regional % of Total Expenses",plotAreaBorderThickness:K(0)}),t=new Z({tickStyle:rt.None,gapWidth:0,key:"y"});t.labels.push(`West
34%`,`East
30%`,`North
20%`,`South
16%`),i.axes.push(t),i.axes.push(new y({position:g.Left,minimum:0,maximum:.35+Number.EPSILON,majorStep:.05,minorStep:.05,axislineStyle:v.Solid,tickStyle:rt.Outside,stringFormatter:n=>`${Math.round(n*100)}%`,key:"x"}));const e=new H({barWidth:1,strokeColor:f.DarkGray,strokeThickness:1,fillColor:f.Black,xAxisKey:"x",yAxisKey:"y"}),s=[.34,.3,.2,.16];return e.items=s.map(n=>L(n)),i.series.push(e),i}function KS(){const i=new b({title:"Actual to Plan Variance",plotAreaBorderThickness:K(0)}),t=new Map([["Sales",7],["Marketing",-7],["Systems",-2],["HR",-17],["Finance",5]]);return i.axes.push(new Z({itemsSource:Array.from(t),labelField:"0",tickStyle:rt.None,key:"y"})),i.axes.push(new y({position:g.Left,minimum:-20,maximum:10,minorStep:5,majorStep:5,layer:bs.AboveSeries,axislineStyle:v.Solid,extraGridlines:[0],extraGridlineColor:f.Black,extraGridlineThickness:3,tickStyle:rt.Outside,stringFormatter:e=>(e>0?"+":e<0?"-":"")+Bt(Math.abs(e),0),key:"x"})),i.series.push(new H({fillColor:f.Orange,negativeFillColor:f.Gray,itemsSource:Array.from(t),valueField:"1",xAxisKey:"x",yAxisKey:"y"})),i}function QS(){const i=new b({title:"Order Count by Order Size",plotAreaBorderThickness:K(0),plotMargins:K(60,4,4,60)}),t=new Map([[" <$10",5e3],[`>=$10
    &
 <$20`,1500],[`>=$20
    &
 <$30`,1e3],[`>=$40
    &
 <$40`,500],[">=$40",200]]);return i.axes.push(new Z({axislineStyle:v.Solid,itemsSource:Array.from(t),labelField:"0",tickStyle:rt.None,key:"y"})),i.axes.push(new y({position:g.Left,minimum:0,maximum:6e3,majorStep:1e3,minorStep:1e3,axislineStyle:v.Solid,tickStyle:rt.Outside,stringFormatter:e=>(e>0?"+":e<0?"-":"")+Bt(Math.abs(e),0),key:"x"})),i.series.push(new H({fillColor:f.Orange,itemsSource:Array.from(t),valueField:"1",xAxisKey:"x",yAxisKey:"y"})),i}function tb(){const i=new b({title:"Correlation of Employee Heights and Salaries",plotAreaBorderThickness:K(0)}),t=[d(62,39e3),d(66,44e3),d(64,5e4),d(66,49500),d(67,52e3),d(68,5e4),d(66,56e3),d(67,56e3),d(72,56e3),d(68,58e3),d(69,62e3),d(71,63e3),d(65,64e3),d(68,71e3),d(72,72e3),d(74,69e3),d(74,79e3),d(77,81e3)];return i.axes.push(new y({position:g.Left,minimum:3e4,maximum:9e4,majorStep:1e4,minorStep:1e4,axislineStyle:v.Solid,tickStyle:rt.Outside})),i.axes.push(new y({position:g.Bottom,minimum:60,maximum:80,majorStep:5,minorStep:5,axislineStyle:v.Solid,tickStyle:rt.Outside})),i.series.push(new Et({itemsSource:t,markerType:V.Circle,markerSize:3,markerFill:f.White,markerStroke:f.Black,dataFieldX:"x",dataFieldY:"y"})),i}const eb="Examples from the book 'Show Me the Numbers'",ib={category:eb,tags:["Showcase"],examples:[{title:"Q1 2003 Calls by Region",example:{model:jS}},{title:"2003 Sales",example:{model:qS}},{title:"Headcount",example:{model:JS}},{title:"Regional % of Total Expenses",example:{model:ZS}},{title:"Actual to Plan Variance",example:{model:KS}},{title:"Order Count by Order Size",example:{model:QS}},{title:"Correlation of Employee Heights and Salaries",example:{model:tb}}]},sb=[_d,ib],nb=[...Id,...wg,...Qg,...Vg,...z2,...B3,...YS,...sb];let tn=[];for(const i of nb){const t=tn.find(e=>e.category===i.category);t?t.examples.push(...i.examples):tn.push(i)}tn=Fm(tn,[["category","ASC"]]);for(const i of tn)for(const t of i.examples)t.category=i.category;const wr=tn,ob="/oxyplot-js/assets/OxyPlot-4SQiqpWf.png";function rb(){function i(e){let s=`${e.category}	${e.title}`;e.filter&&(s+=`	${e.filter}`),window.location.hash=encodeURIComponent(s)}function t(){const e=window.location.hash.slice(1);if(!e)return;const[s,n,o]=decodeURIComponent(e).split("	");return{category:s,title:n,filter:o}}return{save:i,load:t}}function ab(){const i=[];return function(t,e){if(typeof e!="object"||e===null)return e;for(;i.length>0&&i[i.length-1]!==this;)i.pop();return i.includes(e)?"[Circular]":(i.push(e),e)}}function Ha(i,t){let e=i;return i instanceof Error&&(e={name:i.name,message:i.message,stack:i.stack}),JSON.stringify(e,ab(),t)}var lb=Object.defineProperty,ub=(i,t,e)=>t in i?lb(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,Dt=(i,t,e)=>(ub(i,typeof t!="symbol"?t+"":t,e),e);class Ua{constructor(){Dt(this,"controller"),Dt(this,"defaultController"),Dt(this,"_zoomRectangle"),Dt(this,"_model"),Dt(this,"_isModelInvalidated",!1),Dt(this,"_updateDataFlag",!1),Dt(this,"_rendering",!1)}get actualController(){return this.controller?this.controller:this.defaultController?this.defaultController:(this.defaultController=new as,this.defaultController)}get actualModel(){return this._model}get model(){return this._model}set model(t){const e=this._model;this._model=t,this.onModelChanged(e,t)}onModelChanged(t,e){t&&t.attachPlotView(void 0),e&&e.attachPlotView(this),this.invalidatePlot(!0)}invalidatePlot(t){this._isModelInvalidated=!0,this._updateDataFlag=t||!1,this.render()}render(){const t=this._model;t&&(this._isModelInvalidated&&(t.update(this._updateDataFlag),this._isModelInvalidated=!1,this._updateDataFlag=!1),window.requestAnimationFrame(async()=>this.renderSync()))}setClipboardText(t){try{navigator.clipboard.writeText(t)}catch(e){console.error(e)}}setCursorType(t){}hideTracker(){}showTracker(t){}hideZoomRectangle(){this._zoomRectangle=void 0}showZoomRectangle(t){this._zoomRectangle=t}async renderSync(){if(this._model&&!this._rendering){this._rendering=!0;try{await this.renderOverride(this._model)}finally{this._rendering=!1}}}}function Ws(i){return{position:R(i.offsetX,i.offsetY),modifierKeys:cb(i),handled:!1}}function mb(i){const t=Ws(i);return t.clickCount=i.detail,t.changedButton=db(i),t}function hb(i){const t=Ws(i);return t.delta=i.deltaY!=0?-i.deltaY:i.deltaX,t}function cb(i){let t=xt.None;return i.ctrlKey&&(t|=xt.Control),i.shiftKey&&(t|=xt.Shift),i.altKey&&(t|=xt.Alt),i.metaKey&&(t|=xt.Windows),t}function db(i){return i.button===0?wt.Left:i.button===1?wt.Middle:i.button===2?wt.Right:i.button===3?wt.XButton1:i.button===4?wt.XButton2:wt.None}function Qu(i){switch(i){case ni.Default:return"default";case ni.Pan:return"grab";case ni.ZoomRectangle:return"nwse-resize";case ni.ZoomHorizontal:return"ew-resize";case ni.ZoomVertical:return"ns-resize";default:return"default"}}function tm(i,t){i.addEventListener("contextmenu",function(e){e.preventDefault()}),new ResizeObserver(()=>{t.invalidatePlot(!1)}).observe(i),i.onmousedown=e=>{t.actualController.handleMouseDown(t,mb(e))},i.onmousemove=e=>{t.actualController.handleMouseMove(t,Ws(e))},i.onmouseup=e=>{t.actualController.handleMouseUp(t,Ws(e))},i.onmouseenter=e=>{t.actualController.handleMouseEnter(t,Ws(e))},i.onmouseleave=e=>{t.actualController.handleMouseLeave(t,Ws(e))},i.onwheel=e=>{t.actualController.handleMouseWheel(t,hb(e))}}let un=null;function pb(){if(un)return un;const i=document.createElement("canvas");if(un=i==null?void 0:i.getContext("2d"),!un)throw new Error("Could not get canvas context");return un}let yr=null;const fb=(i,t,e)=>(yr||(yr=new or),yr.convertFont(i,t,e||ne.Normal));function Wa(i){i=i||pb();function t(e,s,n,o){if(!i)throw new Error("Could not get canvas context");i.font=fb(s,n,o);const r=i.measureText(e);return bt(r.width,n)}return{measureText:t}}class or{convertLineJoin(t){switch(t=t||st.Miter,t){case st.Miter:return"miter";case st.Bevel:return"bevel";case st.Round:return"round"}}convertStrokeOrFillStyle(t){return M.toRgba(t)}convertFont(t,e,s){let n="";return(s||ne.Normal)>ne.Normal&&(n+="bold "),n+=`${e||12}px `,t&&(n+=`"${t}" `),n.trim()}}class gb{constructor(){Dt(this,"cache",new Map)}get(t){return this.cache.get(t)}set(t,e){this.cache.set(t,e)}clear(t){t?this.cache.delete(t):this.cache.clear()}}let xb=new gb;function em(){return xb}class wb extends la{constructor(t){super(),Dt(this,"ctx"),Dt(this,"_textMeasurer"),Dt(this,"styleConverter",new or),Dt(this,"_ctxInitStyles"),Dt(this,"_renderContextImageCacheService"),this.canvas=t;const e=t.getContext("2d");if(!e)throw new Error("Could not get canvas context");this.ctx=e,this._ctxInitStyles={fillStyle:e.fillStyle,strokeStyle:e.strokeStyle,lineJoin:e.lineJoin,lineWidth:e.lineWidth},this._renderContextImageCacheService=em(),this._textMeasurer=Wa(e)}async drawImage(t,e,s,n,o,r,a,u,m,c,p){if(c<=0)return;this.resetStyles();const x=this.ctx,w=await this.getOrCreateImage(t,()=>{const S=new Blob([Uint8Array.from(t.data)],{type:"image/png"});return createImageBitmap(S)});x.imageSmoothingEnabled=p,x.drawImage(w,e,s,n,o,Bt(r,0),Bt(a,0),Bt(u,0),Bt(m,0))}async drawLineSegments(t,e,s,n,o,r){if(t.length<2||M.isInvisible(e)||s==0)return;this.resetStyles();const a=this.ctx;a.beginPath(),this.applyLineStyle(e,s,n,o,r);for(let u=0;u<t.length;u+=2){const m=t[u],c=t[u+1];this.drawPoints([m,c])}a.stroke()}async drawLine(t,e,s,n,o,r){if(t.length<2||M.isInvisible(e)||s==0)return;this.resetStyles();const a=this.ctx;a.beginPath(),this.applyLineStyle(e,s,n,o,r),this.drawPoints(t),a.stroke()}async drawPolygon(t,e,s,n,o,r,a){if(M.isInvisible(e)&&!(M.isVisible(s)||n<=0)||t.length<2)return;this.resetStyles();const u=this.ctx;u.beginPath(),this.applyPolygonStyle(e,s,n,o,r,a),this.drawPoints(t),u.closePath(),M.isVisible(e)&&u.fill(),M.isVisible(s)&&n>0&&u.stroke()}async drawPolygons(t,e,s,n,o,r,a){if(M.isInvisible(e)&&!(M.isVisible(s)||n<=0)||t.length===0)return;this.resetStyles();const u=this.ctx;this.applyPolygonStyle(e,s,n,o,r,a);for(const m of t)m.length<2||(u.beginPath(),this.drawPoints(m),u.closePath(),M.isVisible(e)&&u.fill(),M.isVisible(s)&&n>0&&u.stroke())}async drawText(t,e,s,n,o,r,a,u,m,c){if(!e||M.isInvisible(s))return;yt(u)&&(u=F.Left),yt(m)&&(m=N.Top),this.resetStyles();const p=this.ctx;o=o||12,r=r||ne.Normal,this.applyTextStyle(s,n,o,r),p.save(),p.translate(t.x,t.y),a&&p.rotate(a*(Math.PI/180));const x=jo.splitLines(e),w=[];for(const A of x){const C=this.measureText(A,n,o,r);w.push(C)}const S=w.reduce((A,C)=>A+C.height,0);let k=0;p.textBaseline="middle",m===N.Top?k=0:m===N.Middle?k=-S/2:m===N.Bottom&&(k=-S);for(let A=0;A<x.length;A++){const C=x[A];let T=0;const D=w[A];u===F.Center?T=-D.width/2:u===F.Right&&(T=-D.width),p.fillText(C,T,k+D.height/2,c==null?void 0:c.width),k+=D.height}p.restore()}measureText(t,e,s,n){return this._textMeasurer.measureText(t,e,s,n)}setClip(t){this.ctx.save();const e=new Path2D;e.rect(t.left,t.top,t.width,t.height),this.ctx.clip(e)}resetClip(){this.ctx.restore()}resetStyles(){const t=this.ctx;t.setLineDash([]),Object.assign(t,this._ctxInitStyles)}applyLineStyle(t,e,s,n,o){const r=this.ctx;n&&n.length>0&&r.setLineDash(n),r.lineWidth=e,r.lineJoin=this.styleConverter.convertLineJoin(o),r.strokeStyle=this.styleConverter.convertStrokeOrFillStyle(t)}applyPolygonStyle(t,e,s,n,o,r){M.isVisible(e)&&s>0&&this.applyLineStyle(e,s,n,o,r),M.isVisible(t)&&(this.ctx.fillStyle=this.styleConverter.convertStrokeOrFillStyle(t))}applyTextStyle(t,e,s,n){const o=this.ctx;o.fillStyle=this.styleConverter.convertStrokeOrFillStyle(t),o.font=this.styleConverter.convertFont(e,s,n)}drawPoints(t){this.ctx.moveTo(t[0].x,t[0].y);for(let e=1;e<t.length;e++){const s=t[e];this.ctx.lineTo(s.x,s.y)}}async getOrCreateImage(t,e){const s=He.from(t).getHashCode().toString(),n=this._renderContextImageCacheService.get(s);if(n)return Promise.resolve(n);const o=await e();return this._renderContextImageCacheService.set(s,o),o}}class im extends Ua{constructor(t){if(super(),Dt(this,"_view"),Dt(this,"_tooltip"),Dt(this,"_renderContext"),Dt(this,"_drawCtx"),Dt(this,"_styleConverter",new or),this._view=t,this.setupCanvas(t),this._drawCtx=this._view.getContext("2d"),!this._drawCtx)throw new Error("Could not get 2d context");this._tooltip=document.createElement("div"),this._tooltip.style.position="absolute",this._tooltip.style.zIndex="100",this._tooltip.style.backgroundColor="#FFFFA0E0",this._tooltip.style.border="1px solid black",this._tooltip.style.padding="8px",this._tooltip.style.visibility="hidden",this._tooltip.style.pointerEvents="none",document.body.appendChild(this._tooltip),this._renderContext=new wb(this._view),tm(this._view,this),new ResizeObserver(()=>{this.setupCanvas(t)}).observe(t)}setupCanvas(t){const e=window.devicePixelRatio||1,s=t.getBoundingClientRect();s.width===0||s.height===0||(t.width=s.width*e,t.height=s.height*e)}get tooltip(){return this._tooltip}get clientArea(){return J(0,0,this._view.width,this._view.height)}hideTracker(){this._tooltip.style.visibility="hidden"}showTracker(t){if(!(t!=null&&t.position))return;const e=t.toString()||"";if(e.trim().length===0)return;const{top:s,left:n}=this._view.getBoundingClientRect();this._tooltip.innerText=e,this._tooltip.style.top=`${s+t.position.y}px`,this._tooltip.style.left=`${n+t.position.x}px`,this._tooltip.style.visibility="visible"}setCursorType(t){this._view.style.cursor=Qu(t)}async renderOverride(t){this._drawCtx=this._view.getContext("2d");const e=window.devicePixelRatio||1;this._drawCtx.scale(e,e);const s=this._view;if(this._drawCtx.reset(),M.isUndefined(t.background)||(this._drawCtx.fillStyle=this._styleConverter.convertStrokeOrFillStyle(t.background),this._drawCtx.fillRect(0,0,s.width,s.height)),await t.render(this._renderContext,J(0,0,s.width,s.height)),this._zoomRectangle&&P.equals(this._zoomRectangle,Ae)){const n=M.parse("#40FFFF00"),o=f.Black;await this._renderContext.drawRectangle(this._zoomRectangle,n,o,1,U.Automatic)}}}class yb extends la{constructor(t){super(),Dt(this,"_pdf"),Dt(this,"ctx"),Dt(this,"_textMeasurer"),Dt(this,"styleConverter",new or),Dt(this,"_ctxInitStyles"),this._pdf=new dl({unit:"px",orientation:t});const e=this._pdf.context2d;this.ctx=e,this._ctxInitStyles={fillStyle:e.fillStyle,strokeStyle:e.strokeStyle,lineJoin:e.lineJoin,lineWidth:e.lineWidth},this._textMeasurer=Wa()}getPdf(){return this._pdf}async drawImage(t,e,s,n,o,r,a,u,m,c,p){if(c<=0)return;const x=r-e/n*u,w=t.width/n*u,S=a-s/o*m,k=t.height/o*m;this.clearStyles(),this._pdf.addImage(Uint8Array.from(t.data),"PNG",x,S,w,k)}async drawLineSegments(t,e,s,n,o,r){if(t.length<2||M.isInvisible(e)||s==0)return;this.clearStyles();const a=this.ctx;a.beginPath(),this.applyLineStyle(e,s,n,o,r);for(let u=0;u<t.length;u+=2){const m=t[u],c=t[u+1];this.drawPoints([m,c])}a.stroke()}async drawLine(t,e,s,n,o,r){if(t.length<2||M.isInvisible(e)||s==0)return;this.clearStyles();const a=this.ctx;a.beginPath(),this.applyLineStyle(e,s,n,o,r),this.drawPoints(t),a.stroke()}async drawPolygon(t,e,s,n,o,r,a){if(M.isInvisible(e)&&!(M.isVisible(s)||n<=0)||t.length<2)return;this.clearStyles();const u=l.fromOxyColor(e),m=l.fromOxyColor(s),c=this.ctx;if(u.a<255||m.a<255){this._pdf.saveGraphicsState();let p=1,x=1;u.a<255&&(p=u.a/255),m.a<255&&(x=m.a/255),this._pdf.setGState(this._pdf.GState({opacity:p,"stroke-opacity":x}))}c.beginPath(),this.applyPolygonStyle(e,s,n,o,r,a),this.drawPoints(t),c.closePath(),M.isVisible(e)&&c.fill(),M.isVisible(s)&&n>0&&c.stroke(),(u.a<255||m.a<255)&&this._pdf.restoreGraphicsState()}async drawPolygons(t,e,s,n,o,r,a){if(M.isInvisible(e)&&!(M.isVisible(s)||n<=0)||t.length===0)return;this.clearStyles();const u=this.ctx;this.applyPolygonStyle(e,s,n,o,r,a);for(const m of t)m.length<2||(u.beginPath(),this.drawPoints(m),u.closePath(),M.isVisible(e)&&u.fill(),M.isVisible(s)&&n>0&&u.stroke())}async drawText(t,e,s,n,o,r,a,u,m,c){if(!e||M.isInvisible(s))return;this.clearStyles(),yt(u)&&(u=F.Left),yt(m)&&(m=N.Top);const p=this.ctx;o=o||12,r=r||ne.Normal,this.applyTextStyle(s,n,o,r),p.save(),p.translate(t.x,t.y),a&&p.rotate(a*(Math.PI/180));const x=jo.splitLines(e),w=[];for(const A of x){const C=this.measureText(A,n,o,r);w.push(C)}const S=w.reduce((A,C)=>A+C.height,0);let k=0;p.textBaseline="middle",m===N.Top?k=0:m===N.Middle?k=-S/2:m===N.Bottom&&(k=-S);for(let A=0;A<x.length;A++){const C=x[A];let T=0;const D=w[A];u===F.Center?T=-D.width/2:u===F.Right&&(T=-D.width),p.fillText(C,T,k+D.height/2),k+=D.height}p.restore()}measureText(t,e,s,n){return this._textMeasurer.measureText(t,e,s,n)}setClip(t){this.ctx.save(),this.ctx.rect(t.left,t.top,t.width,t.height),this.ctx.clip()}resetClip(){this.ctx.restore()}applyLineStyle(t,e,s,n,o){const r=this.ctx;n&&n.length>0&&r.setLineDash(n),r.lineWidth=e,r.lineJoin=this.styleConverter.convertLineJoin(o),r.strokeStyle=this.styleConverter.convertStrokeOrFillStyle(t)}clearStyles(){this.ctx.setLineDash([])}applyPolygonStyle(t,e,s,n,o,r){M.isVisible(e)&&s>0&&this.applyLineStyle(e,s,n,o,r),M.isVisible(t)&&(this.ctx.fillStyle=this.styleConverter.convertStrokeOrFillStyle(t))}applyTextStyle(t,e,s,n){const o=this.ctx;o.fillStyle=this.styleConverter.convertStrokeOrFillStyle(t),o.font=this.styleConverter.convertFont(e,s,n)}drawPoints(t){this.ctx.moveTo(t[0].x,t[0].y);for(let e=1;e<t.length;e++){const s=t[e];this.ctx.lineTo(s.x,s.y)}}}class Sb extends Ua{constructor(t){super(),Dt(this,"_view"),Dt(this,"_orientation","portrait"),Dt(this,"_clientArea",Ae),this._view=t,this.calcClientArea()}get orientation(){return this._orientation}set orientation(t){t!==this._orientation&&(this._orientation=t,this.calcClientArea())}calcClientArea(){const t=new dl({unit:"px",orientation:this.orientation}),e=bt(t.internal.pageSize.width,t.internal.pageSize.height);t.close(),this._clientArea=P.fromScreenPointAndSize(Fe,e)}get clientArea(){return this._clientArea}async renderOverride(t){const e=new yb(this.orientation);await t.render(e,this.clientArea);const s=e.getPdf();s.internal.pages.length>1&&s.deletePage(1);const n=s.output("dataurlstring",{filename:t.title+".pdf"});this._view.src="",this._view.src=n}}class bb extends Ua{constructor(t){super(),Dt(this,"_view"),Dt(this,"_tooltip"),Dt(this,"textMeasurer"),this._view=t,this.textMeasurer=Wa(),this._tooltip=document.createElement("div"),this._tooltip.style.position="absolute",this._tooltip.style.zIndex="100",this._tooltip.style.backgroundColor="#FFFFA0E0",this._tooltip.style.border="1px solid black",this._tooltip.style.padding="8px",this._tooltip.style.visibility="hidden",this._tooltip.style.pointerEvents="none",document.body.appendChild(this._tooltip),tm(this._view,this)}get tooltip(){return this._tooltip}get clientArea(){return J(0,0,this._view.clientWidth,this._view.clientHeight)}hideTracker(){this._tooltip.style.visibility="hidden"}showTracker(t){if(!(t!=null&&t.position))return;const e=t.toString()||"";if(e.trim().length===0)return;const s=this._view.offsetTop,n=this._view.offsetLeft;this._tooltip.innerText=e,this._tooltip.style.top=`${s+t.position.y}px`,this._tooltip.style.left=`${n+t.position.x}px`,this._tooltip.style.visibility="visible"}setCursorType(t){this._view.style.cursor=Qu(t)}async renderOverride(t){const e=this._view;this._view.innerHTML="";const s=new Ic(e.clientWidth,e.clientHeight,!0,this.textMeasurer,t.background);if(M.isUndefined(t.background)||(this._view.style.backgroundColor=t.background.toString()),await t.render(s,J(0,0,e.clientWidth,e.clientHeight)),this._zoomRectangle&&P.equals(this._zoomRectangle,Ae)){const n=M.parse("#40FFFF00"),o=f.Black;await s.drawRectangle(this._zoomRectangle,n,o,1,U.Automatic)}s.complete(),this._view.innerHTML=s.getXml()}}const Mb={class:"w-[800px]"},kb={id:"plotViewWrapper",style:{resize:"both",overflow:"auto",width:"800px",height:"600px"},class:"border border-gray-200 rounded-lg shadow p-4"},Ab={id:"pdfPlotView",class:"w-full h-full"},vb={id:"canvasPlotView",class:"w-full h-full"},Rb={id:"svgPlotView",class:"w-full h-full"},Cb={class:"flex justify-between mt-2"},Tb={class:"flex items-center"},Pb={key:0,class:"flex"},Lb={key:0,class:"flex items-center"},Db=Tt("label",{class:"ml-1 ms-2 text-sm font-medium text-gray-900 dark:text-gray-300",for:"chkTransposed"},"Transposed",-1),Ib={key:1,class:"flex items-center ml-2"},Bb=Tt("label",{class:"ml-1 ms-2 text-sm font-medium text-gray-900 dark:text-gray-300",for:"chkReversed"},"Reversed",-1),Fb=Po({__name:"PlotViewer",props:{exampleInfo:{}},emits:["optionsChanged"],setup(i,{emit:t}){const e=i,s=t,n=te(!1),o=te(!1),r=te(!1),a=te(!1),u=te("canvas"),m=te(["canvas","pdf","svg"]),c=te("landscape");Mn([n,r,u,c],()=>{p(),s("optionsChanged",{isTransposed:n.value,isReversed:r.value,renderType:u})}),Mn(()=>e.exampleInfo,()=>{p()}),Lo(()=>{p()});async function p(){if(!e.exampleInfo)return;const k=e.exampleInfo,A=await k.example.model();if(!A)return;o.value=Ie.isTransposable(A),a.value=Ie.isReversible(A),n.value&&(o.value?Ie.transpose(A):n.value=!1),r.value&&(a.value?Ie.reverseAllAxes(A):r.value=!1);const C=S();C.model=A,C.controller=k.example.controller;const T=A.toJSON({excludeDefault:!0});console.log(Ha(T))}function x(){return document.getElementById("canvasPlotView")}let w={};function S(){if(u.value==="canvas"){const k="canvas";if(w[k])return w[k];const A=x(),C=new im(A);return w[k]=C,C}if(u.value==="pdf"){const k=c.value;if(w[k])return w[k];const A=new Sb(document.getElementById("pdfPlotView"));return A.orientation=c.value,w[k]=A,A}if(u.value==="svg"){const k="svg";let A=w[k];const C=document.getElementById("svgPlotView");return C.innerHTML="",A||(A=new bb(C),w[k]=A,A)}throw new Error(`Unknown renderer type: ${u.value}`)}return(k,A)=>{const C=lm,T=um,D=pl;return si(),Ss("div",Mb,[Tt("div",kb,[Sn(Tt("iframe",Ab,null,512),[[rr,u.value==="pdf"]]),Sn(Tt("canvas",vb,null,512),[[rr,u.value==="canvas"]]),Sn(Tt("div",Rb,null,512),[[rr,u.value==="svg"]])]),Tt("div",Cb,[Tt("div",Tb,[kn(" Renderer: "),Pe(C,{modelValue:u.value,"onUpdate:modelValue":A[0]||(A[0]=B=>u.value=B),options:m.value,class:"ml-2 text-sm"},null,8,["modelValue","options"]),u.value==="pdf"?(si(),An(T,{key:0,modelValue:c.value,"onUpdate:modelValue":A[1]||(A[1]=B=>c.value=B),options:["landscape","portrait"],class:"ml-4"},null,8,["modelValue"])):Os("",!0)]),u.value==="canvas"||u.value==="svg"?(si(),Ss("div",Pb,[k.exampleInfo?(si(),Ss("div",Lb,[Pe(D,{modelValue:n.value,"onUpdate:modelValue":A[2]||(A[2]=B=>n.value=B),binary:!0,disabled:!o.value,inputId:"chkTransposed"},null,8,["modelValue","disabled"]),Db])):Os("",!0),k.exampleInfo?(si(),Ss("div",Ib,[Pe(D,{modelValue:r.value,"onUpdate:modelValue":A[3]||(A[3]=B=>r.value=B),binary:!0,disabled:!a.value,inputId:"chkReversed"},null,8,["modelValue","disabled"]),Bb])):Os("",!0)])):Os("",!0)])])}}}),Nb={class:"flex",style:{height:"600px"}},_b={class:"flex h-full w-full gap-x-4"},Vb={class:"basis-4/12"},Eb={class:"basis-8/12"},zb={class:"w-full h-full"},Ob={class:"flex justify-between w-full text-sm jsontoplot-dlg"},$b=Po({__name:"JsonToPlotDialog",props:{json:String},emits:["close"],setup(i,{emit:t}){const e=i,s=te(!0),n=t,o=te(""),r=te(""),a=te(null);let u;Mn(()=>e.json,A=>{o.value=A||""},{immediate:!0}),Lo(()=>{console.log("onMounted"),mm(()=>{setTimeout(()=>{o.value&&m(o.value)},300)})});function m(A){if(!x(A))return;const C=Zm.deserialize(A);if(!C){r.value="deserialize failed";return}console.log("plotModel",C);const T=c();if(!T){r.value="can not get plotView";return}T.model=C;const D=C.toJSON({excludeDefault:!1});console.log(Ha(D))}function c(){if(u!==void 0)return u;const A=p();if(A)return u=new im(A),u.tooltip.style.zIndex=`${new Date().getTime()}`,u}function p(){return a.value}function x(A){let C;try{C=JSON.parse(A)}catch{return r.value="json parse failed",!1}const T=["DelegateAnnotation"];if(r.value="",C.annotations&&Array.isArray(C.annotations))for(const D of C.annotations){const B=w(D);if(B&&T.includes(B))return r.value=`[ ${B} ] is not deserializable`,!1}return!0}function w(A){return A.__oxy_element_name__}function S(){s.value=!1,n("close")}function k(){const A=o.value;A&&m(A)}return(A,C)=>{const T=gl,D=hm,B=cm;return si(),An(B,{visible:s.value,"onUpdate:visible":C[1]||(C[1]=I=>s.value=I),onHide:S,modal:"",header:"Json to Plot",style:{width:"80%"}},{footer:di(()=>[Tt("div",Ob,[Pe(T,{onClick:k,icon:"pi pi-play",label:"Run"}),r.value?(si(),An(D,{key:0,severity:"warn",closable:!1},{default:di(()=>[kn(Sr(r.value),1)]),_:1})):Os("",!0),Pe(T,{onClick:S,severity:"secondary"},{default:di(()=>[kn("Close")]),_:1})])]),default:di(()=>[Tt("div",Nb,[Tt("div",_b,[Tt("div",Vb,[Sn(Tt("textarea",{"onUpdate:modelValue":C[0]||(C[0]=I=>o.value=I),class:"h-full w-full border p-1"}," ",512),[[fl,o.value]])]),Tt("div",Eb,[Tt("div",zb,[Tt("canvas",{ref_key:"canvas",ref:a,id:"canvasPlotView",class:"w-full h-full"},null,512)])])])])]),_:1},8,["visible"])}}}),sm=(i,t)=>{const e=i.__vccOpts||i;for(const[s,n]of t)e[s]=n;return e},Gb=sm($b,[["__scopeId","data-v-6a9394d2"]]),Hb={class:"flex flex-col"},Ub={class:"border border-gray-200 rounded-lg shadow p-1",style:{resize:"both",overflow:"hidden",width:"800px",height:"600px"}},Wb={class:"w-full h-full p-2",style:{resize:"none"}},Xb={class:"flex justify-between mt-4 items-center"},Yb={class:"flex items-center"},jb={class:"flex items-center"},qb=Tt("label",{for:"chk_def_val",class:"ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Hide Default Value",-1),Jb={class:"flex items-center ml-2"},Zb=Tt("label",{for:"chk_prettify",class:"ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Prettify",-1),Kb={class:"text-sm"},Qb=Po({__name:"JsonViewer",props:{exampleInfo:{},isActive:{type:Boolean}},setup(i){const t=te(""),e=te(!0),s=te(!0),n=te("Copy"),o=te(!1),r=te(""),a=i;Lo(()=>{a.exampleInfo&&u()}),Mn([()=>a.exampleInfo,()=>a.isActive],()=>{u()}),Mn([e,s],()=>{u()});async function u(){if(!a.isActive){t.value="";return}if(!a.exampleInfo)return;const x=await a.exampleInfo.example.model();if(!p(a.exampleInfo)){t.value="too many data points to display";return}const w=x.toJSON({excludeDefault:s.value});t.value=Ha(w,e.value?2:void 0)}function m(){t.value&&(navigator.clipboard.writeText(t.value),n.value="Copied!",setTimeout(()=>{n.value="Copy"},2e3))}function c(){r.value=t.value,o.value=!0}function p(x,w){const S=["Performance"];return!(x.category&&S.includes(x.category)||x.title.includes("Large Data Set"))}return(x,w)=>{const S=pl,k=gl;return si(),Ss(br,null,[Tt("div",Hb,[Tt("div",Ub,[Tt("textarea",Wb,Sr(t.value),1)]),Tt("div",Xb,[Tt("div",Yb,[Tt("div",jb,[Pe(S,{modelValue:s.value,"onUpdate:modelValue":w[0]||(w[0]=A=>s.value=A),binary:!0,inputId:"chk_def_val"},null,8,["modelValue"]),qb]),Tt("div",Jb,[Pe(S,{modelValue:e.value,"onUpdate:modelValue":w[1]||(w[1]=A=>e.value=A),binary:!0,inputId:"chk_prettify"},null,8,["modelValue"]),Zb])]),Tt("div",Kb,[Pe(k,{onClick:c},{default:di(()=>[kn("Json to Plot")]),_:1}),Pe(k,{onClick:m,severity:"secondary",class:"ml-4"},{default:di(()=>[kn(Sr(n.value),1)]),_:1})])])]),o.value?(si(),An(Gb,{key:0,json:r.value,onClose:w[2]||(w[2]=A=>o.value=!1)},null,8,["json"])):Os("",!0)],64)}}}),tM=i=>(Sm("data-v-f3cd49f8"),i=i(),bm(),i),eM={class:"flex py-4"},iM={class:"w-[350px]"},sM={class:"overflow-x-hidden overflow-y-auto mt-4",style:{"max-height":"calc(100vh - 120px)"}},nM={class:"flex-grow ml-4 custom-tab"},oM=tM(()=>Tt("a",{class:"fixed bottom-2 right-2",style:{"font-size":"2rem",color:"rgb(31, 35, 40)"},href:"https://github.com/iniceice88/oxyplot-js",target:"_blank","aria-label":"View GitHub Repo"},[Tt("svg",{preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},[Tt("path",{fill:"currentColor",d:"M12 2C6.475 2 2 6.475 2 12a9.994 9.994 0 0 0 6.838 9.488c.5.087.687-.213.687-.476c0-.237-.013-1.024-.013-1.862c-2.512.463-3.162-.612-3.362-1.175c-.113-.288-.6-1.175-1.025-1.413c-.35-.187-.85-.65-.013-.662c.788-.013 1.35.725 1.538 1.025c.9 1.512 2.338 1.087 2.912.825c.088-.65.35-1.087.638-1.337c-2.225-.25-4.55-1.113-4.55-4.938c0-1.088.387-1.987 1.025-2.688c-.1-.25-.45-1.275.1-2.65c0 0 .837-.262 2.75 1.026a9.28 9.28 0 0 1 2.5-.338c.85 0 1.7.112 2.5.337c1.912-1.3 2.75-1.024 2.75-1.024c.55 1.375.2 2.4.1 2.65c.637.7 1.025 1.587 1.025 2.687c0 3.838-2.337 4.688-4.562 4.938c.362.312.675.912.675 1.85c0 1.337-.013 2.412-.013 2.75c0 .262.188.574.688.474A10.016 10.016 0 0 0 22 12c0-5.525-4.475-10-10-10z"})])],-1)),rM=Po({__name:"App",setup(i){window.oxyPlotImg=ob,qe.extend(dm),qe.extend(pm);const t=te(null),e=te(""),s=te(-1),n=te(0),o=te(""),{save:r,load:a}=rb(),u=fm(()=>{if(!o.value)return wr;const w=[],S=o.value.toLowerCase();function k(A,C){return(A.category||"").toLowerCase().includes(S)||(C.title||"").toLowerCase().includes(S)||(A.tags||[]).some(T=>T.toLowerCase().includes(S))}for(const A of wr){const C=A.examples.filter(T=>k(A,T));C.length>0&&w.push({category:A.category,examples:C})}return w});Lo(async()=>{const w=a();if(w){o.value=w.filter||"";const{category:S,title:k}=w;S&&k&&m(S,k)}});function m(w,S){const k=wr.find(T=>T.category===w);if(!k)return;const A=k.examples.find(T=>T.title===S);if(!A)return;c(k,A);const C=x(A);C!==e.value&&(e.value=C),s.value=u.value.indexOf(k)}async function c(w,S){gm(t.value)!==S&&(t.value=S,em().clear(),r({category:w.category,title:S.title,filter:o.value}))}function p(w){const S=w.value,[k,A]=S.split("	");m(k,A)}function x(w){return w.category+"	"+w.title}return(w,S)=>{const k=km,A=Am,C=xm,T=Mm,D=wm;return si(),Ss(br,null,[Tt("div",eM,[Tt("div",iM,[Sn(Tt("input",{type:"text","onUpdate:modelValue":S[0]||(S[0]=B=>o.value=B),placeholder:"Filter",class:"shadow mt-2 appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"},null,512),[[fl,o.value]]),Tt("div",sM,[Pe(C,{multiple:!1,"active-index":s.value},{default:di(()=>[(si(!0),Ss(br,null,ym(u.value,B=>(si(),An(A,{header:B.category,key:B.category},{default:di(()=>[Pe(k,{modelValue:e.value,"onUpdate:modelValue":S[1]||(S[1]=I=>e.value=I),options:B.examples,optionLabel:"title",onChange:p,"option-value":x,class:"w-full text-sm border-0"},null,8,["modelValue","options"])]),_:2},1032,["header"]))),128))]),_:1},8,["active-index"])])]),Tt("div",nM,[Pe(D,{activeIndex:n.value,"onUpdate:activeIndex":S[2]||(S[2]=B=>n.value=B)},{default:di(()=>[Pe(T,{header:"View"},{default:di(()=>[Pe(Fb,{"example-info":t.value},null,8,["example-info"])]),_:1}),Pe(T,{header:"Json"},{default:di(()=>[Pe(Qb,{"example-info":t.value,"is-active":n.value===1},null,8,["example-info","is-active"])]),_:1})]),_:1},8,["activeIndex"])])]),oM],64)}}}),aM=sm(rM,[["__scopeId","data-v-f3cd49f8"]]),nm=vm(aM);nm.use(Rm);nm.mount("#app");
