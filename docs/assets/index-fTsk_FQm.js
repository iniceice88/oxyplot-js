var Ic=Object.defineProperty;var Nc=(je,$e,Ve)=>$e in je?Ic(je,$e,{enumerable:!0,configurable:!0,writable:!0,value:Ve}):je[$e]=Ve;var Wn=(je,$e,Ve)=>(Nc(je,typeof $e!="symbol"?$e+"":$e,Ve),Ve);(function(){const $e=document.createElement("link").relList;if($e&&$e.supports&&$e.supports("modulepreload"))return;for(const qe of document.querySelectorAll('link[rel="modulepreload"]'))ze(qe);new MutationObserver(qe=>{for(const Xe of qe)if(Xe.type==="childList")for(const We of Xe.addedNodes)We.tagName==="LINK"&&We.rel==="modulepreload"&&ze(We)}).observe(document,{childList:!0,subtree:!0});function Ve(qe){const Xe={};return qe.integrity&&(Xe.integrity=qe.integrity),qe.referrerPolicy&&(Xe.referrerPolicy=qe.referrerPolicy),qe.crossOrigin==="use-credentials"?Xe.credentials="include":qe.crossOrigin==="anonymous"?Xe.credentials="omit":Xe.credentials="same-origin",Xe}function ze(qe){if(qe.ep)return;qe.ep=!0;const Xe=Ve(qe);fetch(qe.href,Xe)}})();function makeMap(je,$e){const Ve=Object.create(null),ze=je.split(",");for(let qe=0;qe<ze.length;qe++)Ve[ze[qe]]=!0;return $e?qe=>!!Ve[qe.toLowerCase()]:qe=>!!Ve[qe]}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,isOn=je=>je.charCodeAt(0)===111&&je.charCodeAt(1)===110&&(je.charCodeAt(2)>122||je.charCodeAt(2)<97),isModelListener=je=>je.startsWith("onUpdate:"),extend$3=Object.assign,remove=(je,$e)=>{const Ve=je.indexOf($e);Ve>-1&&je.splice(Ve,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn$2=(je,$e)=>hasOwnProperty$1.call(je,$e),isArray$1=Array.isArray,isMap=je=>toTypeString(je)==="[object Map]",isSet=je=>toTypeString(je)==="[object Set]",isDate=je=>toTypeString(je)==="[object Date]",isFunction=je=>typeof je=="function",isString=je=>typeof je=="string",isSymbol=je=>typeof je=="symbol",isObject=je=>je!==null&&typeof je=="object",isPromise=je=>(isObject(je)||isFunction(je))&&isFunction(je.then)&&isFunction(je.catch),objectToString$1=Object.prototype.toString,toTypeString=je=>objectToString$1.call(je),toRawType=je=>toTypeString(je).slice(8,-1),isPlainObject=je=>toTypeString(je)==="[object Object]",isIntegerKey=je=>isString(je)&&je!=="NaN"&&je[0]!=="-"&&""+parseInt(je,10)===je,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=je=>{const $e=Object.create(null);return Ve=>$e[Ve]||($e[Ve]=je(Ve))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(je=>je.replace(camelizeRE,($e,Ve)=>Ve?Ve.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(je=>je.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(je=>je.charAt(0).toUpperCase()+je.slice(1)),toHandlerKey=cacheStringFunction(je=>je?`on${capitalize(je)}`:""),hasChanged=(je,$e)=>!Object.is(je,$e),invokeArrayFns=(je,$e)=>{for(let Ve=0;Ve<je.length;Ve++)je[Ve]($e)},def=(je,$e,Ve)=>{Object.defineProperty(je,$e,{configurable:!0,enumerable:!1,value:Ve})},looseToNumber=je=>{const $e=parseFloat(je);return isNaN($e)?je:$e},toNumber=je=>{const $e=isString(je)?Number(je):NaN;return isNaN($e)?je:$e};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(je){if(isArray$1(je)){const $e={};for(let Ve=0;Ve<je.length;Ve++){const ze=je[Ve],qe=isString(ze)?parseStringStyle(ze):normalizeStyle(ze);if(qe)for(const Xe in qe)$e[Xe]=qe[Xe]}return $e}else if(isString(je)||isObject(je))return je}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(je){const $e={};return je.replace(styleCommentRE,"").split(listDelimiterRE).forEach(Ve=>{if(Ve){const ze=Ve.split(propertyDelimiterRE);ze.length>1&&($e[ze[0].trim()]=ze[1].trim())}}),$e}function normalizeClass(je){let $e="";if(isString(je))$e=je;else if(isArray$1(je))for(let Ve=0;Ve<je.length;Ve++){const ze=normalizeClass(je[Ve]);ze&&($e+=ze+" ")}else if(isObject(je))for(const Ve in je)je[Ve]&&($e+=Ve+" ");return $e.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(je){return!!je||je===""}function looseCompareArrays(je,$e){if(je.length!==$e.length)return!1;let Ve=!0;for(let ze=0;Ve&&ze<je.length;ze++)Ve=looseEqual(je[ze],$e[ze]);return Ve}function looseEqual(je,$e){if(je===$e)return!0;let Ve=isDate(je),ze=isDate($e);if(Ve||ze)return Ve&&ze?je.getTime()===$e.getTime():!1;if(Ve=isSymbol(je),ze=isSymbol($e),Ve||ze)return je===$e;if(Ve=isArray$1(je),ze=isArray$1($e),Ve||ze)return Ve&&ze?looseCompareArrays(je,$e):!1;if(Ve=isObject(je),ze=isObject($e),Ve||ze){if(!Ve||!ze)return!1;const qe=Object.keys(je).length,Xe=Object.keys($e).length;if(qe!==Xe)return!1;for(const We in je){const Ke=je.hasOwnProperty(We),Je=$e.hasOwnProperty(We);if(Ke&&!Je||!Ke&&Je||!looseEqual(je[We],$e[We]))return!1}}return String(je)===String($e)}function looseIndexOf(je,$e){return je.findIndex(Ve=>looseEqual(Ve,$e))}const toDisplayString=je=>isString(je)?je:je==null?"":isArray$1(je)||isObject(je)&&(je.toString===objectToString$1||!isFunction(je.toString))?JSON.stringify(je,replacer,2):String(je),replacer=(je,$e)=>$e&&$e.__v_isRef?replacer(je,$e.value):isMap($e)?{[`Map(${$e.size})`]:[...$e.entries()].reduce((Ve,[ze,qe],Xe)=>(Ve[stringifySymbol(ze,Xe)+" =>"]=qe,Ve),{})}:isSet($e)?{[`Set(${$e.size})`]:[...$e.values()].map(Ve=>stringifySymbol(Ve))}:isSymbol($e)?stringifySymbol($e):isObject($e)&&!isArray$1($e)&&!isPlainObject($e)?String($e):$e,stringifySymbol=(je,$e="")=>{var Ve;return isSymbol(je)?`Symbol(${(Ve=je.description)!=null?Ve:$e})`:je};let activeEffectScope;class EffectScope{constructor($e=!1){this.detached=$e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!$e&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run($e){if(this._active){const Ve=activeEffectScope;try{return activeEffectScope=this,$e()}finally{activeEffectScope=Ve}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop($e){if(this._active){let Ve,ze;for(Ve=0,ze=this.effects.length;Ve<ze;Ve++)this.effects[Ve].stop();for(Ve=0,ze=this.cleanups.length;Ve<ze;Ve++)this.cleanups[Ve]();if(this.scopes)for(Ve=0,ze=this.scopes.length;Ve<ze;Ve++)this.scopes[Ve].stop(!0);if(!this.detached&&this.parent&&!$e){const qe=this.parent.scopes.pop();qe&&qe!==this&&(this.parent.scopes[this.index]=qe,qe.index=this.index)}this.parent=void 0,this._active=!1}}}function recordEffectScope(je,$e=activeEffectScope){$e&&$e.active&&$e.effects.push(je)}function getCurrentScope(){return activeEffectScope}const createDep=je=>{const $e=new Set(je);return $e.w=0,$e.n=0,$e},wasTracked=je=>(je.w&trackOpBit)>0,newTracked=je=>(je.n&trackOpBit)>0,initDepMarkers=({deps:je})=>{if(je.length)for(let $e=0;$e<je.length;$e++)je[$e].w|=trackOpBit},finalizeDepMarkers=je=>{const{deps:$e}=je;if($e.length){let Ve=0;for(let ze=0;ze<$e.length;ze++){const qe=$e[ze];wasTracked(qe)&&!newTracked(qe)?qe.delete(je):$e[Ve++]=qe,qe.w&=~trackOpBit,qe.n&=~trackOpBit}$e.length=Ve}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor($e,Ve=null,ze){this.fn=$e,this.scheduler=Ve,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,ze)}run(){if(!this.active)return this.fn();let $e=activeEffect,Ve=shouldTrack;for(;$e;){if($e===this)return;$e=$e.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=Ve,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(je){const{deps:$e}=je;if($e.length){for(let Ve=0;Ve<$e.length;Ve++)$e[Ve].delete(je);$e.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const je=trackStack.pop();shouldTrack=je===void 0?!0:je}function track(je,$e,Ve){if(shouldTrack&&activeEffect){let ze=targetMap.get(je);ze||targetMap.set(je,ze=new Map);let qe=ze.get(Ve);qe||ze.set(Ve,qe=createDep()),trackEffects(qe)}}function trackEffects(je,$e){let Ve=!1;effectTrackDepth<=maxMarkerBits?newTracked(je)||(je.n|=trackOpBit,Ve=!wasTracked(je)):Ve=!je.has(activeEffect),Ve&&(je.add(activeEffect),activeEffect.deps.push(je))}function trigger(je,$e,Ve,ze,qe,Xe){const We=targetMap.get(je);if(!We)return;let Ke=[];if($e==="clear")Ke=[...We.values()];else if(Ve==="length"&&isArray$1(je)){const Je=Number(ze);We.forEach((Ze,Qe)=>{(Qe==="length"||!isSymbol(Qe)&&Qe>=Je)&&Ke.push(Ze)})}else switch(Ve!==void 0&&Ke.push(We.get(Ve)),$e){case"add":isArray$1(je)?isIntegerKey(Ve)&&Ke.push(We.get("length")):(Ke.push(We.get(ITERATE_KEY)),isMap(je)&&Ke.push(We.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$1(je)||(Ke.push(We.get(ITERATE_KEY)),isMap(je)&&Ke.push(We.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(je)&&Ke.push(We.get(ITERATE_KEY));break}if(Ke.length===1)Ke[0]&&triggerEffects(Ke[0]);else{const Je=[];for(const Ze of Ke)Ze&&Je.push(...Ze);triggerEffects(createDep(Je))}}function triggerEffects(je,$e){const Ve=isArray$1(je)?je:[...je];for(const ze of Ve)ze.computed&&triggerEffect(ze);for(const ze of Ve)ze.computed||triggerEffect(ze)}function triggerEffect(je,$e){(je!==activeEffect||je.allowRecurse)&&(je.scheduler?je.scheduler():je.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(je=>je!=="arguments"&&je!=="caller").map(je=>Symbol[je]).filter(isSymbol)),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const je={};return["includes","indexOf","lastIndexOf"].forEach($e=>{je[$e]=function(...Ve){const ze=toRaw(this);for(let Xe=0,We=this.length;Xe<We;Xe++)track(ze,"get",Xe+"");const qe=ze[$e](...Ve);return qe===-1||qe===!1?ze[$e](...Ve.map(toRaw)):qe}}),["push","pop","shift","unshift","splice"].forEach($e=>{je[$e]=function(...Ve){pauseTracking();const ze=toRaw(this)[$e].apply(this,Ve);return resetTracking(),ze}}),je}function hasOwnProperty(je){const $e=toRaw(this);return track($e,"has",je),$e.hasOwnProperty(je)}class BaseReactiveHandler{constructor($e=!1,Ve=!1){this._isReadonly=$e,this._shallow=Ve}get($e,Ve,ze){const qe=this._isReadonly,Xe=this._shallow;if(Ve==="__v_isReactive")return!qe;if(Ve==="__v_isReadonly")return qe;if(Ve==="__v_isShallow")return Xe;if(Ve==="__v_raw")return ze===(qe?Xe?shallowReadonlyMap:readonlyMap:Xe?shallowReactiveMap:reactiveMap).get($e)||Object.getPrototypeOf($e)===Object.getPrototypeOf(ze)?$e:void 0;const We=isArray$1($e);if(!qe){if(We&&hasOwn$2(arrayInstrumentations,Ve))return Reflect.get(arrayInstrumentations,Ve,ze);if(Ve==="hasOwnProperty")return hasOwnProperty}const Ke=Reflect.get($e,Ve,ze);return(isSymbol(Ve)?builtInSymbols.has(Ve):isNonTrackableKeys(Ve))||(qe||track($e,"get",Ve),Xe)?Ke:isRef(Ke)?We&&isIntegerKey(Ve)?Ke:Ke.value:isObject(Ke)?qe?readonly(Ke):reactive(Ke):Ke}}class MutableReactiveHandler extends BaseReactiveHandler{constructor($e=!1){super(!1,$e)}set($e,Ve,ze,qe){let Xe=$e[Ve];if(!this._shallow){const Je=isReadonly(Xe);if(!isShallow(ze)&&!isReadonly(ze)&&(Xe=toRaw(Xe),ze=toRaw(ze)),!isArray$1($e)&&isRef(Xe)&&!isRef(ze))return Je?!1:(Xe.value=ze,!0)}const We=isArray$1($e)&&isIntegerKey(Ve)?Number(Ve)<$e.length:hasOwn$2($e,Ve),Ke=Reflect.set($e,Ve,ze,qe);return $e===toRaw(qe)&&(We?hasChanged(ze,Xe)&&trigger($e,"set",Ve,ze):trigger($e,"add",Ve,ze)),Ke}deleteProperty($e,Ve){const ze=hasOwn$2($e,Ve);$e[Ve];const qe=Reflect.deleteProperty($e,Ve);return qe&&ze&&trigger($e,"delete",Ve,void 0),qe}has($e,Ve){const ze=Reflect.has($e,Ve);return(!isSymbol(Ve)||!builtInSymbols.has(Ve))&&track($e,"has",Ve),ze}ownKeys($e){return track($e,"iterate",isArray$1($e)?"length":ITERATE_KEY),Reflect.ownKeys($e)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor($e=!1){super(!0,$e)}set($e,Ve){return!0}deleteProperty($e,Ve){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),toShallow=je=>je,getProto=je=>Reflect.getPrototypeOf(je);function get(je,$e,Ve=!1,ze=!1){je=je.__v_raw;const qe=toRaw(je),Xe=toRaw($e);Ve||(hasChanged($e,Xe)&&track(qe,"get",$e),track(qe,"get",Xe));const{has:We}=getProto(qe),Ke=ze?toShallow:Ve?toReadonly:toReactive;if(We.call(qe,$e))return Ke(je.get($e));if(We.call(qe,Xe))return Ke(je.get(Xe));je!==qe&&je.get($e)}function has(je,$e=!1){const Ve=this.__v_raw,ze=toRaw(Ve),qe=toRaw(je);return $e||(hasChanged(je,qe)&&track(ze,"has",je),track(ze,"has",qe)),je===qe?Ve.has(je):Ve.has(je)||Ve.has(qe)}function size(je,$e=!1){return je=je.__v_raw,!$e&&track(toRaw(je),"iterate",ITERATE_KEY),Reflect.get(je,"size",je)}function add$1(je){je=toRaw(je);const $e=toRaw(this);return getProto($e).has.call($e,je)||($e.add(je),trigger($e,"add",je,je)),this}function set(je,$e){$e=toRaw($e);const Ve=toRaw(this),{has:ze,get:qe}=getProto(Ve);let Xe=ze.call(Ve,je);Xe||(je=toRaw(je),Xe=ze.call(Ve,je));const We=qe.call(Ve,je);return Ve.set(je,$e),Xe?hasChanged($e,We)&&trigger(Ve,"set",je,$e):trigger(Ve,"add",je,$e),this}function deleteEntry(je){const $e=toRaw(this),{has:Ve,get:ze}=getProto($e);let qe=Ve.call($e,je);qe||(je=toRaw(je),qe=Ve.call($e,je)),ze&&ze.call($e,je);const Xe=$e.delete(je);return qe&&trigger($e,"delete",je,void 0),Xe}function clear(){const je=toRaw(this),$e=je.size!==0,Ve=je.clear();return $e&&trigger(je,"clear",void 0,void 0),Ve}function createForEach(je,$e){return function(ze,qe){const Xe=this,We=Xe.__v_raw,Ke=toRaw(We),Je=$e?toShallow:je?toReadonly:toReactive;return!je&&track(Ke,"iterate",ITERATE_KEY),We.forEach((Ze,Qe)=>ze.call(qe,Je(Ze),Je(Qe),Xe))}}function createIterableMethod(je,$e,Ve){return function(...ze){const qe=this.__v_raw,Xe=toRaw(qe),We=isMap(Xe),Ke=je==="entries"||je===Symbol.iterator&&We,Je=je==="keys"&&We,Ze=qe[je](...ze),Qe=Ve?toShallow:$e?toReadonly:toReactive;return!$e&&track(Xe,"iterate",Je?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:St,done:ei}=Ze.next();return ei?{value:St,done:ei}:{value:Ke?[Qe(St[0]),Qe(St[1])]:Qe(St),done:ei}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(je){return function(...$e){return je==="delete"?!1:je==="clear"?void 0:this}}function createInstrumentations(){const je={get(Xe){return get(this,Xe)},get size(){return size(this)},has,add:add$1,set,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},$e={get(Xe){return get(this,Xe,!1,!0)},get size(){return size(this)},has,add:add$1,set,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},Ve={get(Xe){return get(this,Xe,!0)},get size(){return size(this,!0)},has(Xe){return has.call(this,Xe,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},ze={get(Xe){return get(this,Xe,!0,!0)},get size(){return size(this,!0)},has(Xe){return has.call(this,Xe,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(Xe=>{je[Xe]=createIterableMethod(Xe,!1,!1),Ve[Xe]=createIterableMethod(Xe,!0,!1),$e[Xe]=createIterableMethod(Xe,!1,!0),ze[Xe]=createIterableMethod(Xe,!0,!0)}),[je,Ve,$e,ze]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(je,$e){const Ve=$e?je?shallowReadonlyInstrumentations:shallowInstrumentations:je?readonlyInstrumentations:mutableInstrumentations;return(ze,qe,Xe)=>qe==="__v_isReactive"?!je:qe==="__v_isReadonly"?je:qe==="__v_raw"?ze:Reflect.get(hasOwn$2(Ve,qe)&&qe in ze?Ve:ze,qe,Xe)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(je){switch(je){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(je){return je.__v_skip||!Object.isExtensible(je)?0:targetTypeMap(toRawType(je))}function reactive(je){return isReadonly(je)?je:createReactiveObject(je,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(je){return createReactiveObject(je,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(je){return createReactiveObject(je,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(je,$e,Ve,ze,qe){if(!isObject(je)||je.__v_raw&&!($e&&je.__v_isReactive))return je;const Xe=qe.get(je);if(Xe)return Xe;const We=getTargetType(je);if(We===0)return je;const Ke=new Proxy(je,We===2?ze:Ve);return qe.set(je,Ke),Ke}function isReactive(je){return isReadonly(je)?isReactive(je.__v_raw):!!(je&&je.__v_isReactive)}function isReadonly(je){return!!(je&&je.__v_isReadonly)}function isShallow(je){return!!(je&&je.__v_isShallow)}function isProxy(je){return isReactive(je)||isReadonly(je)}function toRaw(je){const $e=je&&je.__v_raw;return $e?toRaw($e):je}function markRaw(je){return def(je,"__v_skip",!0),je}const toReactive=je=>isObject(je)?reactive(je):je,toReadonly=je=>isObject(je)?readonly(je):je;function trackRefValue(je){shouldTrack&&activeEffect&&(je=toRaw(je),trackEffects(je.dep||(je.dep=createDep())))}function triggerRefValue(je,$e){je=toRaw(je);const Ve=je.dep;Ve&&triggerEffects(Ve)}function isRef(je){return!!(je&&je.__v_isRef===!0)}function ref(je){return createRef(je,!1)}function createRef(je,$e){return isRef(je)?je:new RefImpl(je,$e)}class RefImpl{constructor($e,Ve){this.__v_isShallow=Ve,this.dep=void 0,this.__v_isRef=!0,this._rawValue=Ve?$e:toRaw($e),this._value=Ve?$e:toReactive($e)}get value(){return trackRefValue(this),this._value}set value($e){const Ve=this.__v_isShallow||isShallow($e)||isReadonly($e);$e=Ve?$e:toRaw($e),hasChanged($e,this._rawValue)&&(this._rawValue=$e,this._value=Ve?$e:toReactive($e),triggerRefValue(this))}}function unref(je){return isRef(je)?je.value:je}const shallowUnwrapHandlers={get:(je,$e,Ve)=>unref(Reflect.get(je,$e,Ve)),set:(je,$e,Ve,ze)=>{const qe=je[$e];return isRef(qe)&&!isRef(Ve)?(qe.value=Ve,!0):Reflect.set(je,$e,Ve,ze)}};function proxyRefs(je){return isReactive(je)?je:new Proxy(je,shallowUnwrapHandlers)}class ComputedRefImpl{constructor($e,Ve,ze,qe){this._setter=Ve,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ReactiveEffect($e,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!qe,this.__v_isReadonly=ze}get value(){const $e=toRaw(this);return trackRefValue($e),($e._dirty||!$e._cacheable)&&($e._dirty=!1,$e._value=$e.effect.run()),$e._value}set value($e){this._setter($e)}}function computed$1(je,$e,Ve=!1){let ze,qe;const Xe=isFunction(je);return Xe?(ze=je,qe=NOOP):(ze=je.get,qe=je.set),new ComputedRefImpl(ze,qe,Xe||!qe,Ve)}function warn(je,...$e){}function callWithErrorHandling(je,$e,Ve,ze){let qe;try{qe=ze?je(...ze):je()}catch(Xe){handleError(Xe,$e,Ve)}return qe}function callWithAsyncErrorHandling(je,$e,Ve,ze){if(isFunction(je)){const Xe=callWithErrorHandling(je,$e,Ve,ze);return Xe&&isPromise(Xe)&&Xe.catch(We=>{handleError(We,$e,Ve)}),Xe}const qe=[];for(let Xe=0;Xe<je.length;Xe++)qe.push(callWithAsyncErrorHandling(je[Xe],$e,Ve,ze));return qe}function handleError(je,$e,Ve,ze=!0){const qe=$e?$e.vnode:null;if($e){let Xe=$e.parent;const We=$e.proxy,Ke=Ve;for(;Xe;){const Ze=Xe.ec;if(Ze){for(let Qe=0;Qe<Ze.length;Qe++)if(Ze[Qe](je,We,Ke)===!1)return}Xe=Xe.parent}const Je=$e.appContext.config.errorHandler;if(Je){callWithErrorHandling(Je,null,10,[je,We,Ke]);return}}logError(je,Ve,qe,ze)}function logError(je,$e,Ve,ze=!0){console.error(je)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(je){const $e=currentFlushPromise||resolvedPromise;return je?$e.then(this?je.bind(this):je):$e}function findInsertionIndex(je){let $e=flushIndex+1,Ve=queue.length;for(;$e<Ve;){const ze=$e+Ve>>>1,qe=queue[ze],Xe=getId(qe);Xe<je||Xe===je&&qe.pre?$e=ze+1:Ve=ze}return $e}function queueJob(je){(!queue.length||!queue.includes(je,isFlushing&&je.allowRecurse?flushIndex+1:flushIndex))&&(je.id==null?queue.push(je):queue.splice(findInsertionIndex(je.id),0,je),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(je){const $e=queue.indexOf(je);$e>flushIndex&&queue.splice($e,1)}function queuePostFlushCb(je){isArray$1(je)?pendingPostFlushCbs.push(...je):(!activePostFlushCbs||!activePostFlushCbs.includes(je,je.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(je),queueFlush()}function flushPreFlushCbs(je,$e,Ve=isFlushing?flushIndex+1:0){for(;Ve<queue.length;Ve++){const ze=queue[Ve];if(ze&&ze.pre){if(je&&ze.id!==je.uid)continue;queue.splice(Ve,1),Ve--,ze()}}}function flushPostFlushCbs(je){if(pendingPostFlushCbs.length){const $e=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...$e);return}for(activePostFlushCbs=$e,activePostFlushCbs.sort((Ve,ze)=>getId(Ve)-getId(ze)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=je=>je.id==null?1/0:je.id,comparator=(je,$e)=>{const Ve=getId(je)-getId($e);if(Ve===0){if(je.pre&&!$e.pre)return-1;if($e.pre&&!je.pre)return 1}return Ve};function flushJobs(je){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const $e=queue[flushIndex];$e&&$e.active!==!1&&callWithErrorHandling($e,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit(je,$e,...Ve){if(je.isUnmounted)return;const ze=je.vnode.props||EMPTY_OBJ;let qe=Ve;const Xe=$e.startsWith("update:"),We=Xe&&$e.slice(7);if(We&&We in ze){const Qe=`${We==="modelValue"?"model":We}Modifiers`,{number:St,trim:ei}=ze[Qe]||EMPTY_OBJ;ei&&(qe=Ve.map(ti=>isString(ti)?ti.trim():ti)),St&&(qe=Ve.map(looseToNumber))}let Ke,Je=ze[Ke=toHandlerKey($e)]||ze[Ke=toHandlerKey(camelize($e))];!Je&&Xe&&(Je=ze[Ke=toHandlerKey(hyphenate($e))]),Je&&callWithAsyncErrorHandling(Je,je,6,qe);const Ze=ze[Ke+"Once"];if(Ze){if(!je.emitted)je.emitted={};else if(je.emitted[Ke])return;je.emitted[Ke]=!0,callWithAsyncErrorHandling(Ze,je,6,qe)}}function normalizeEmitsOptions(je,$e,Ve=!1){const ze=$e.emitsCache,qe=ze.get(je);if(qe!==void 0)return qe;const Xe=je.emits;let We={},Ke=!1;if(!isFunction(je)){const Je=Ze=>{const Qe=normalizeEmitsOptions(Ze,$e,!0);Qe&&(Ke=!0,extend$3(We,Qe))};!Ve&&$e.mixins.length&&$e.mixins.forEach(Je),je.extends&&Je(je.extends),je.mixins&&je.mixins.forEach(Je)}return!Xe&&!Ke?(isObject(je)&&ze.set(je,null),null):(isArray$1(Xe)?Xe.forEach(Je=>We[Je]=null):extend$3(We,Xe),isObject(je)&&ze.set(je,We),We)}function isEmitListener(je,$e){return!je||!isOn($e)?!1:($e=$e.slice(2).replace(/Once$/,""),hasOwn$2(je,$e[0].toLowerCase()+$e.slice(1))||hasOwn$2(je,hyphenate($e))||hasOwn$2(je,$e))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(je){const $e=currentRenderingInstance;return currentRenderingInstance=je,currentScopeId=je&&je.type.__scopeId||null,$e}function pushScopeId(je){currentScopeId=je}function popScopeId(){currentScopeId=null}function withCtx(je,$e=currentRenderingInstance,Ve){if(!$e||je._n)return je;const ze=(...qe)=>{ze._d&&setBlockTracking(-1);const Xe=setCurrentRenderingInstance($e);let We;try{We=je(...qe)}finally{setCurrentRenderingInstance(Xe),ze._d&&setBlockTracking(1)}return We};return ze._n=!0,ze._c=!0,ze._d=!0,ze}function markAttrsAccessed(){}function renderComponentRoot(je){const{type:$e,vnode:Ve,proxy:ze,withProxy:qe,props:Xe,propsOptions:[We],slots:Ke,attrs:Je,emit:Ze,render:Qe,renderCache:St,data:ei,setupState:ti,ctx:ni,inheritAttrs:oi}=je;let ai,si;const ri=setCurrentRenderingInstance(je);try{if(Ve.shapeFlag&4){const ui=qe||ze,ci=ui;ai=normalizeVNode(Qe.call(ci,ui,St,Xe,ti,ei,ni)),si=Je}else{const ui=$e;ai=normalizeVNode(ui.length>1?ui(Xe,{attrs:Je,slots:Ke,emit:Ze}):ui(Xe,null)),si=$e.props?Je:getFunctionalFallthrough(Je)}}catch(ui){blockStack.length=0,handleError(ui,je,1),ai=createVNode(Comment)}let ii=ai;if(si&&oi!==!1){const ui=Object.keys(si),{shapeFlag:ci}=ii;ui.length&&ci&7&&(We&&ui.some(isModelListener)&&(si=filterModelListeners(si,We)),ii=cloneVNode(ii,si))}return Ve.dirs&&(ii=cloneVNode(ii),ii.dirs=ii.dirs?ii.dirs.concat(Ve.dirs):Ve.dirs),Ve.transition&&(ii.transition=Ve.transition),ai=ii,setCurrentRenderingInstance(ri),ai}const getFunctionalFallthrough=je=>{let $e;for(const Ve in je)(Ve==="class"||Ve==="style"||isOn(Ve))&&(($e||($e={}))[Ve]=je[Ve]);return $e},filterModelListeners=(je,$e)=>{const Ve={};for(const ze in je)(!isModelListener(ze)||!(ze.slice(9)in $e))&&(Ve[ze]=je[ze]);return Ve};function shouldUpdateComponent(je,$e,Ve){const{props:ze,children:qe,component:Xe}=je,{props:We,children:Ke,patchFlag:Je}=$e,Ze=Xe.emitsOptions;if($e.dirs||$e.transition)return!0;if(Ve&&Je>=0){if(Je&1024)return!0;if(Je&16)return ze?hasPropsChanged(ze,We,Ze):!!We;if(Je&8){const Qe=$e.dynamicProps;for(let St=0;St<Qe.length;St++){const ei=Qe[St];if(We[ei]!==ze[ei]&&!isEmitListener(Ze,ei))return!0}}}else return(qe||Ke)&&(!Ke||!Ke.$stable)?!0:ze===We?!1:ze?We?hasPropsChanged(ze,We,Ze):!0:!!We;return!1}function hasPropsChanged(je,$e,Ve){const ze=Object.keys($e);if(ze.length!==Object.keys(je).length)return!0;for(let qe=0;qe<ze.length;qe++){const Xe=ze[qe];if($e[Xe]!==je[Xe]&&!isEmitListener(Ve,Xe))return!0}return!1}function updateHOCHostEl({vnode:je,parent:$e},Ve){for(;$e&&$e.subTree===je;)(je=$e.vnode).el=Ve,$e=$e.parent}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc"),isSuspense=je=>je.__isSuspense;function queueEffectWithSuspense(je,$e){$e&&$e.pendingBranch?isArray$1(je)?$e.effects.push(...je):$e.effects.push(je):queuePostFlushCb(je)}function watchEffect(je,$e){return doWatch(je,null,$e)}const INITIAL_WATCHER_VALUE={};function watch(je,$e,Ve){return doWatch(je,$e,Ve)}function doWatch(je,$e,{immediate:Ve,deep:ze,flush:qe,onTrack:Xe,onTrigger:We}=EMPTY_OBJ){var Ke;const Je=getCurrentScope()===((Ke=currentInstance)==null?void 0:Ke.scope)?currentInstance:null;let Ze,Qe=!1,St=!1;if(isRef(je)?(Ze=()=>je.value,Qe=isShallow(je)):isReactive(je)?(Ze=()=>je,ze=!0):isArray$1(je)?(St=!0,Qe=je.some(ui=>isReactive(ui)||isShallow(ui)),Ze=()=>je.map(ui=>{if(isRef(ui))return ui.value;if(isReactive(ui))return traverse(ui);if(isFunction(ui))return callWithErrorHandling(ui,Je,2)})):isFunction(je)?$e?Ze=()=>callWithErrorHandling(je,Je,2):Ze=()=>{if(!(Je&&Je.isUnmounted))return ei&&ei(),callWithAsyncErrorHandling(je,Je,3,[ti])}:Ze=NOOP,$e&&ze){const ui=Ze;Ze=()=>traverse(ui())}let ei,ti=ui=>{ei=ri.onStop=()=>{callWithErrorHandling(ui,Je,4),ei=ri.onStop=void 0}},ni;if(isInSSRComponentSetup)if(ti=NOOP,$e?Ve&&callWithAsyncErrorHandling($e,Je,3,[Ze(),St?[]:void 0,ti]):Ze(),qe==="sync"){const ui=useSSRContext();ni=ui.__watcherHandles||(ui.__watcherHandles=[])}else return NOOP;let oi=St?new Array(je.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const ai=()=>{if(ri.active)if($e){const ui=ri.run();(ze||Qe||(St?ui.some((ci,hi)=>hasChanged(ci,oi[hi])):hasChanged(ui,oi)))&&(ei&&ei(),callWithAsyncErrorHandling($e,Je,3,[ui,oi===INITIAL_WATCHER_VALUE?void 0:St&&oi[0]===INITIAL_WATCHER_VALUE?[]:oi,ti]),oi=ui)}else ri.run()};ai.allowRecurse=!!$e;let si;qe==="sync"?si=ai:qe==="post"?si=()=>queuePostRenderEffect(ai,Je&&Je.suspense):(ai.pre=!0,Je&&(ai.id=Je.uid),si=()=>queueJob(ai));const ri=new ReactiveEffect(Ze,si);$e?Ve?ai():oi=ri.run():qe==="post"?queuePostRenderEffect(ri.run.bind(ri),Je&&Je.suspense):ri.run();const ii=()=>{ri.stop(),Je&&Je.scope&&remove(Je.scope.effects,ri)};return ni&&ni.push(ii),ii}function instanceWatch(je,$e,Ve){const ze=this.proxy,qe=isString(je)?je.includes(".")?createPathGetter(ze,je):()=>ze[je]:je.bind(ze,ze);let Xe;isFunction($e)?Xe=$e:(Xe=$e.handler,Ve=$e);const We=currentInstance;setCurrentInstance(this);const Ke=doWatch(qe,Xe.bind(ze),Ve);return We?setCurrentInstance(We):unsetCurrentInstance(),Ke}function createPathGetter(je,$e){const Ve=$e.split(".");return()=>{let ze=je;for(let qe=0;qe<Ve.length&&ze;qe++)ze=ze[Ve[qe]];return ze}}function traverse(je,$e){if(!isObject(je)||je.__v_skip||($e=$e||new Set,$e.has(je)))return je;if($e.add(je),isRef(je))traverse(je.value,$e);else if(isArray$1(je))for(let Ve=0;Ve<je.length;Ve++)traverse(je[Ve],$e);else if(isSet(je)||isMap(je))je.forEach(Ve=>{traverse(Ve,$e)});else if(isPlainObject(je))for(const Ve in je)traverse(je[Ve],$e);return je}function withDirectives(je,$e){const Ve=currentRenderingInstance;if(Ve===null)return je;const ze=getExposeProxy(Ve)||Ve.proxy,qe=je.dirs||(je.dirs=[]);for(let Xe=0;Xe<$e.length;Xe++){let[We,Ke,Je,Ze=EMPTY_OBJ]=$e[Xe];We&&(isFunction(We)&&(We={mounted:We,updated:We}),We.deep&&traverse(Ke),qe.push({dir:We,instance:ze,value:Ke,oldValue:void 0,arg:Je,modifiers:Ze}))}return je}function invokeDirectiveHook(je,$e,Ve,ze){const qe=je.dirs,Xe=$e&&$e.dirs;for(let We=0;We<qe.length;We++){const Ke=qe[We];Xe&&(Ke.oldValue=Xe[We].value);let Je=Ke.dir[ze];Je&&(pauseTracking(),callWithAsyncErrorHandling(Je,Ve,8,[je.el,Ke,je,$e]),resetTracking())}}const leaveCbKey=Symbol("_leaveCb"),enterCbKey=Symbol("_enterCb");function useTransitionState(){const je={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{je.isMounted=!0}),onBeforeUnmount(()=>{je.isUnmounting=!0}),je}const TransitionHookValidator=[Function,Array],BaseTransitionPropsValidators={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},BaseTransitionImpl={name:"BaseTransition",props:BaseTransitionPropsValidators,setup(je,{slots:$e}){const Ve=getCurrentInstance(),ze=useTransitionState();let qe;return()=>{const Xe=$e.default&&getTransitionRawChildren($e.default(),!0);if(!Xe||!Xe.length)return;let We=Xe[0];if(Xe.length>1){for(const oi of Xe)if(oi.type!==Comment){We=oi;break}}const Ke=toRaw(je),{mode:Je}=Ke;if(ze.isLeaving)return emptyPlaceholder(We);const Ze=getKeepAliveChild(We);if(!Ze)return emptyPlaceholder(We);const Qe=resolveTransitionHooks(Ze,Ke,ze,Ve);setTransitionHooks(Ze,Qe);const St=Ve.subTree,ei=St&&getKeepAliveChild(St);let ti=!1;const{getTransitionKey:ni}=Ze.type;if(ni){const oi=ni();qe===void 0?qe=oi:oi!==qe&&(qe=oi,ti=!0)}if(ei&&ei.type!==Comment&&(!isSameVNodeType(Ze,ei)||ti)){const oi=resolveTransitionHooks(ei,Ke,ze,Ve);if(setTransitionHooks(ei,oi),Je==="out-in")return ze.isLeaving=!0,oi.afterLeave=()=>{ze.isLeaving=!1,Ve.update.active!==!1&&Ve.update()},emptyPlaceholder(We);Je==="in-out"&&Ze.type!==Comment&&(oi.delayLeave=(ai,si,ri)=>{const ii=getLeavingNodesForType(ze,ei);ii[String(ei.key)]=ei,ai[leaveCbKey]=()=>{si(),ai[leaveCbKey]=void 0,delete Qe.delayedLeave},Qe.delayedLeave=ri})}return We}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(je,$e){const{leavingVNodes:Ve}=je;let ze=Ve.get($e.type);return ze||(ze=Object.create(null),Ve.set($e.type,ze)),ze}function resolveTransitionHooks(je,$e,Ve,ze){const{appear:qe,mode:Xe,persisted:We=!1,onBeforeEnter:Ke,onEnter:Je,onAfterEnter:Ze,onEnterCancelled:Qe,onBeforeLeave:St,onLeave:ei,onAfterLeave:ti,onLeaveCancelled:ni,onBeforeAppear:oi,onAppear:ai,onAfterAppear:si,onAppearCancelled:ri}=$e,ii=String(je.key),ui=getLeavingNodesForType(Ve,je),ci=(di,fi)=>{di&&callWithAsyncErrorHandling(di,ze,9,fi)},hi=(di,fi)=>{const yi=fi[1];ci(di,fi),isArray$1(di)?di.every(pi=>pi.length<=1)&&yi():di.length<=1&&yi()},mi={mode:Xe,persisted:We,beforeEnter(di){let fi=Ke;if(!Ve.isMounted)if(qe)fi=oi||Ke;else return;di[leaveCbKey]&&di[leaveCbKey](!0);const yi=ui[ii];yi&&isSameVNodeType(je,yi)&&yi.el[leaveCbKey]&&yi.el[leaveCbKey](),ci(fi,[di])},enter(di){let fi=Je,yi=Ze,pi=Qe;if(!Ve.isMounted)if(qe)fi=ai||Je,yi=si||Ze,pi=ri||Qe;else return;let xi=!1;const Si=di[enterCbKey]=vi=>{xi||(xi=!0,vi?ci(pi,[di]):ci(yi,[di]),mi.delayedLeave&&mi.delayedLeave(),di[enterCbKey]=void 0)};fi?hi(fi,[di,Si]):Si()},leave(di,fi){const yi=String(je.key);if(di[enterCbKey]&&di[enterCbKey](!0),Ve.isUnmounting)return fi();ci(St,[di]);let pi=!1;const xi=di[leaveCbKey]=Si=>{pi||(pi=!0,fi(),Si?ci(ni,[di]):ci(ti,[di]),di[leaveCbKey]=void 0,ui[yi]===je&&delete ui[yi])};ui[yi]=je,ei?hi(ei,[di,xi]):xi()},clone(di){return resolveTransitionHooks(di,$e,Ve,ze)}};return mi}function emptyPlaceholder(je){if(isKeepAlive(je))return je=cloneVNode(je),je.children=null,je}function getKeepAliveChild(je){return isKeepAlive(je)?je.children?je.children[0]:void 0:je}function setTransitionHooks(je,$e){je.shapeFlag&6&&je.component?setTransitionHooks(je.component.subTree,$e):je.shapeFlag&128?(je.ssContent.transition=$e.clone(je.ssContent),je.ssFallback.transition=$e.clone(je.ssFallback)):je.transition=$e}function getTransitionRawChildren(je,$e=!1,Ve){let ze=[],qe=0;for(let Xe=0;Xe<je.length;Xe++){let We=je[Xe];const Ke=Ve==null?We.key:String(Ve)+String(We.key!=null?We.key:Xe);We.type===Fragment?(We.patchFlag&128&&qe++,ze=ze.concat(getTransitionRawChildren(We.children,$e,Ke))):($e||We.type!==Comment)&&ze.push(Ke!=null?cloneVNode(We,{key:Ke}):We)}if(qe>1)for(let Xe=0;Xe<ze.length;Xe++)ze[Xe].patchFlag=-2;return ze}/*! #__NO_SIDE_EFFECTS__ */function defineComponent(je,$e){return isFunction(je)?extend$3({name:je.name},$e,{setup:je}):je}const isAsyncWrapper=je=>!!je.type.__asyncLoader,isKeepAlive=je=>je.type.__isKeepAlive;function onActivated(je,$e){registerKeepAliveHook(je,"a",$e)}function onDeactivated(je,$e){registerKeepAliveHook(je,"da",$e)}function registerKeepAliveHook(je,$e,Ve=currentInstance){const ze=je.__wdc||(je.__wdc=()=>{let qe=Ve;for(;qe;){if(qe.isDeactivated)return;qe=qe.parent}return je()});if(injectHook($e,ze,Ve),Ve){let qe=Ve.parent;for(;qe&&qe.parent;)isKeepAlive(qe.parent.vnode)&&injectToKeepAliveRoot(ze,$e,Ve,qe),qe=qe.parent}}function injectToKeepAliveRoot(je,$e,Ve,ze){const qe=injectHook($e,je,ze,!0);onUnmounted(()=>{remove(ze[$e],qe)},Ve)}function injectHook(je,$e,Ve=currentInstance,ze=!1){if(Ve){const qe=Ve[je]||(Ve[je]=[]),Xe=$e.__weh||($e.__weh=(...We)=>{if(Ve.isUnmounted)return;pauseTracking(),setCurrentInstance(Ve);const Ke=callWithAsyncErrorHandling($e,Ve,je,We);return unsetCurrentInstance(),resetTracking(),Ke});return ze?qe.unshift(Xe):qe.push(Xe),Xe}}const createHook=je=>($e,Ve=currentInstance)=>(!isInSSRComponentSetup||je==="sp")&&injectHook(je,(...ze)=>$e(...ze),Ve),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(je,$e=currentInstance){injectHook("ec",je,$e)}function renderList(je,$e,Ve,ze){let qe;const Xe=Ve&&Ve[ze];if(isArray$1(je)||isString(je)){qe=new Array(je.length);for(let We=0,Ke=je.length;We<Ke;We++)qe[We]=$e(je[We],We,void 0,Xe&&Xe[We])}else if(typeof je=="number"){qe=new Array(je);for(let We=0;We<je;We++)qe[We]=$e(We+1,We,void 0,Xe&&Xe[We])}else if(isObject(je))if(je[Symbol.iterator])qe=Array.from(je,(We,Ke)=>$e(We,Ke,void 0,Xe&&Xe[Ke]));else{const We=Object.keys(je);qe=new Array(We.length);for(let Ke=0,Je=We.length;Ke<Je;Ke++){const Ze=We[Ke];qe[Ke]=$e(je[Ze],Ze,Ke,Xe&&Xe[Ke])}}else qe=[];return Ve&&(Ve[ze]=qe),qe}const getPublicInstance=je=>je?isStatefulComponent(je)?getExposeProxy(je)||je.proxy:getPublicInstance(je.parent):null,publicPropertiesMap=extend$3(Object.create(null),{$:je=>je,$el:je=>je.vnode.el,$data:je=>je.data,$props:je=>je.props,$attrs:je=>je.attrs,$slots:je=>je.slots,$refs:je=>je.refs,$parent:je=>getPublicInstance(je.parent),$root:je=>getPublicInstance(je.root),$emit:je=>je.emit,$options:je=>resolveMergedOptions(je),$forceUpdate:je=>je.f||(je.f=()=>queueJob(je.update)),$nextTick:je=>je.n||(je.n=nextTick.bind(je.proxy)),$watch:je=>instanceWatch.bind(je)}),hasSetupBinding=(je,$e)=>je!==EMPTY_OBJ&&!je.__isScriptSetup&&hasOwn$2(je,$e),PublicInstanceProxyHandlers={get({_:je},$e){const{ctx:Ve,setupState:ze,data:qe,props:Xe,accessCache:We,type:Ke,appContext:Je}=je;let Ze;if($e[0]!=="$"){const ti=We[$e];if(ti!==void 0)switch(ti){case 1:return ze[$e];case 2:return qe[$e];case 4:return Ve[$e];case 3:return Xe[$e]}else{if(hasSetupBinding(ze,$e))return We[$e]=1,ze[$e];if(qe!==EMPTY_OBJ&&hasOwn$2(qe,$e))return We[$e]=2,qe[$e];if((Ze=je.propsOptions[0])&&hasOwn$2(Ze,$e))return We[$e]=3,Xe[$e];if(Ve!==EMPTY_OBJ&&hasOwn$2(Ve,$e))return We[$e]=4,Ve[$e];shouldCacheAccess&&(We[$e]=0)}}const Qe=publicPropertiesMap[$e];let St,ei;if(Qe)return $e==="$attrs"&&track(je,"get",$e),Qe(je);if((St=Ke.__cssModules)&&(St=St[$e]))return St;if(Ve!==EMPTY_OBJ&&hasOwn$2(Ve,$e))return We[$e]=4,Ve[$e];if(ei=Je.config.globalProperties,hasOwn$2(ei,$e))return ei[$e]},set({_:je},$e,Ve){const{data:ze,setupState:qe,ctx:Xe}=je;return hasSetupBinding(qe,$e)?(qe[$e]=Ve,!0):ze!==EMPTY_OBJ&&hasOwn$2(ze,$e)?(ze[$e]=Ve,!0):hasOwn$2(je.props,$e)||$e[0]==="$"&&$e.slice(1)in je?!1:(Xe[$e]=Ve,!0)},has({_:{data:je,setupState:$e,accessCache:Ve,ctx:ze,appContext:qe,propsOptions:Xe}},We){let Ke;return!!Ve[We]||je!==EMPTY_OBJ&&hasOwn$2(je,We)||hasSetupBinding($e,We)||(Ke=Xe[0])&&hasOwn$2(Ke,We)||hasOwn$2(ze,We)||hasOwn$2(publicPropertiesMap,We)||hasOwn$2(qe.config.globalProperties,We)},defineProperty(je,$e,Ve){return Ve.get!=null?je._.accessCache[$e]=0:hasOwn$2(Ve,"value")&&this.set(je,$e,Ve.value,null),Reflect.defineProperty(je,$e,Ve)}};function normalizePropsOrEmits(je){return isArray$1(je)?je.reduce(($e,Ve)=>($e[Ve]=null,$e),{}):je}let shouldCacheAccess=!0;function applyOptions(je){const $e=resolveMergedOptions(je),Ve=je.proxy,ze=je.ctx;shouldCacheAccess=!1,$e.beforeCreate&&callHook$1($e.beforeCreate,je,"bc");const{data:qe,computed:Xe,methods:We,watch:Ke,provide:Je,inject:Ze,created:Qe,beforeMount:St,mounted:ei,beforeUpdate:ti,updated:ni,activated:oi,deactivated:ai,beforeDestroy:si,beforeUnmount:ri,destroyed:ii,unmounted:ui,render:ci,renderTracked:hi,renderTriggered:mi,errorCaptured:di,serverPrefetch:fi,expose:yi,inheritAttrs:pi,components:xi,directives:Si,filters:vi}=$e;if(Ze&&resolveInjections(Ze,ze,null),We)for(const Fi in We){const Ci=We[Fi];isFunction(Ci)&&(ze[Fi]=Ci.bind(Ve))}if(qe){const Fi=qe.call(Ve,Ve);isObject(Fi)&&(je.data=reactive(Fi))}if(shouldCacheAccess=!0,Xe)for(const Fi in Xe){const Ci=Xe[Fi],Ni=isFunction(Ci)?Ci.bind(Ve,Ve):isFunction(Ci.get)?Ci.get.bind(Ve,Ve):NOOP,Ri=!isFunction(Ci)&&isFunction(Ci.set)?Ci.set.bind(Ve):NOOP,Yi=computed({get:Ni,set:Ri});Object.defineProperty(ze,Fi,{enumerable:!0,configurable:!0,get:()=>Yi.value,set:ki=>Yi.value=ki})}if(Ke)for(const Fi in Ke)createWatcher(Ke[Fi],ze,Ve,Fi);if(Je){const Fi=isFunction(Je)?Je.call(Ve):Je;Reflect.ownKeys(Fi).forEach(Ci=>{provide(Ci,Fi[Ci])})}Qe&&callHook$1(Qe,je,"c");function Ti(Fi,Ci){isArray$1(Ci)?Ci.forEach(Ni=>Fi(Ni.bind(Ve))):Ci&&Fi(Ci.bind(Ve))}if(Ti(onBeforeMount,St),Ti(onMounted,ei),Ti(onBeforeUpdate,ti),Ti(onUpdated,ni),Ti(onActivated,oi),Ti(onDeactivated,ai),Ti(onErrorCaptured,di),Ti(onRenderTracked,hi),Ti(onRenderTriggered,mi),Ti(onBeforeUnmount,ri),Ti(onUnmounted,ui),Ti(onServerPrefetch,fi),isArray$1(yi))if(yi.length){const Fi=je.exposed||(je.exposed={});yi.forEach(Ci=>{Object.defineProperty(Fi,Ci,{get:()=>Ve[Ci],set:Ni=>Ve[Ci]=Ni})})}else je.exposed||(je.exposed={});ci&&je.render===NOOP&&(je.render=ci),pi!=null&&(je.inheritAttrs=pi),xi&&(je.components=xi),Si&&(je.directives=Si)}function resolveInjections(je,$e,Ve=NOOP){isArray$1(je)&&(je=normalizeInject(je));for(const ze in je){const qe=je[ze];let Xe;isObject(qe)?"default"in qe?Xe=inject(qe.from||ze,qe.default,!0):Xe=inject(qe.from||ze):Xe=inject(qe),isRef(Xe)?Object.defineProperty($e,ze,{enumerable:!0,configurable:!0,get:()=>Xe.value,set:We=>Xe.value=We}):$e[ze]=Xe}}function callHook$1(je,$e,Ve){callWithAsyncErrorHandling(isArray$1(je)?je.map(ze=>ze.bind($e.proxy)):je.bind($e.proxy),$e,Ve)}function createWatcher(je,$e,Ve,ze){const qe=ze.includes(".")?createPathGetter(Ve,ze):()=>Ve[ze];if(isString(je)){const Xe=$e[je];isFunction(Xe)&&watch(qe,Xe)}else if(isFunction(je))watch(qe,je.bind(Ve));else if(isObject(je))if(isArray$1(je))je.forEach(Xe=>createWatcher(Xe,$e,Ve,ze));else{const Xe=isFunction(je.handler)?je.handler.bind(Ve):$e[je.handler];isFunction(Xe)&&watch(qe,Xe,je)}}function resolveMergedOptions(je){const $e=je.type,{mixins:Ve,extends:ze}=$e,{mixins:qe,optionsCache:Xe,config:{optionMergeStrategies:We}}=je.appContext,Ke=Xe.get($e);let Je;return Ke?Je=Ke:!qe.length&&!Ve&&!ze?Je=$e:(Je={},qe.length&&qe.forEach(Ze=>mergeOptions(Je,Ze,We,!0)),mergeOptions(Je,$e,We)),isObject($e)&&Xe.set($e,Je),Je}function mergeOptions(je,$e,Ve,ze=!1){const{mixins:qe,extends:Xe}=$e;Xe&&mergeOptions(je,Xe,Ve,!0),qe&&qe.forEach(We=>mergeOptions(je,We,Ve,!0));for(const We in $e)if(!(ze&&We==="expose")){const Ke=internalOptionMergeStrats[We]||Ve&&Ve[We];je[We]=Ke?Ke(je[We],$e[We]):$e[We]}return je}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(je,$e){return $e?je?function(){return extend$3(isFunction(je)?je.call(this,this):je,isFunction($e)?$e.call(this,this):$e)}:$e:je}function mergeInject(je,$e){return mergeObjectOptions(normalizeInject(je),normalizeInject($e))}function normalizeInject(je){if(isArray$1(je)){const $e={};for(let Ve=0;Ve<je.length;Ve++)$e[je[Ve]]=je[Ve];return $e}return je}function mergeAsArray(je,$e){return je?[...new Set([].concat(je,$e))]:$e}function mergeObjectOptions(je,$e){return je?extend$3(Object.create(null),je,$e):$e}function mergeEmitsOrPropsOptions(je,$e){return je?isArray$1(je)&&isArray$1($e)?[...new Set([...je,...$e])]:extend$3(Object.create(null),normalizePropsOrEmits(je),normalizePropsOrEmits($e??{})):$e}function mergeWatchOptions(je,$e){if(!je)return $e;if(!$e)return je;const Ve=extend$3(Object.create(null),je);for(const ze in $e)Ve[ze]=mergeAsArray(je[ze],$e[ze]);return Ve}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(je,$e){return function(ze,qe=null){isFunction(ze)||(ze=extend$3({},ze)),qe!=null&&!isObject(qe)&&(qe=null);const Xe=createAppContext(),We=new WeakSet;let Ke=!1;const Je=Xe.app={_uid:uid$1++,_component:ze,_props:qe,_container:null,_context:Xe,_instance:null,version:version$2,get config(){return Xe.config},set config(Ze){},use(Ze,...Qe){return We.has(Ze)||(Ze&&isFunction(Ze.install)?(We.add(Ze),Ze.install(Je,...Qe)):isFunction(Ze)&&(We.add(Ze),Ze(Je,...Qe))),Je},mixin(Ze){return Xe.mixins.includes(Ze)||Xe.mixins.push(Ze),Je},component(Ze,Qe){return Qe?(Xe.components[Ze]=Qe,Je):Xe.components[Ze]},directive(Ze,Qe){return Qe?(Xe.directives[Ze]=Qe,Je):Xe.directives[Ze]},mount(Ze,Qe,St){if(!Ke){const ei=createVNode(ze,qe);return ei.appContext=Xe,Qe&&$e?$e(ei,Ze):je(ei,Ze,St),Ke=!0,Je._container=Ze,Ze.__vue_app__=Je,getExposeProxy(ei.component)||ei.component.proxy}},unmount(){Ke&&(je(null,Je._container),delete Je._container.__vue_app__)},provide(Ze,Qe){return Xe.provides[Ze]=Qe,Je},runWithContext(Ze){currentApp=Je;try{return Ze()}finally{currentApp=null}}};return Je}}let currentApp=null;function provide(je,$e){if(currentInstance){let Ve=currentInstance.provides;const ze=currentInstance.parent&&currentInstance.parent.provides;ze===Ve&&(Ve=currentInstance.provides=Object.create(ze)),Ve[je]=$e}}function inject(je,$e,Ve=!1){const ze=currentInstance||currentRenderingInstance;if(ze||currentApp){const qe=ze?ze.parent==null?ze.vnode.appContext&&ze.vnode.appContext.provides:ze.parent.provides:currentApp._context.provides;if(qe&&je in qe)return qe[je];if(arguments.length>1)return Ve&&isFunction($e)?$e.call(ze&&ze.proxy):$e}}function initProps(je,$e,Ve,ze=!1){const qe={},Xe={};def(Xe,InternalObjectKey,1),je.propsDefaults=Object.create(null),setFullProps(je,$e,qe,Xe);for(const We in je.propsOptions[0])We in qe||(qe[We]=void 0);Ve?je.props=ze?qe:shallowReactive(qe):je.type.props?je.props=qe:je.props=Xe,je.attrs=Xe}function updateProps(je,$e,Ve,ze){const{props:qe,attrs:Xe,vnode:{patchFlag:We}}=je,Ke=toRaw(qe),[Je]=je.propsOptions;let Ze=!1;if((ze||We>0)&&!(We&16)){if(We&8){const Qe=je.vnode.dynamicProps;for(let St=0;St<Qe.length;St++){let ei=Qe[St];if(isEmitListener(je.emitsOptions,ei))continue;const ti=$e[ei];if(Je)if(hasOwn$2(Xe,ei))ti!==Xe[ei]&&(Xe[ei]=ti,Ze=!0);else{const ni=camelize(ei);qe[ni]=resolvePropValue(Je,Ke,ni,ti,je,!1)}else ti!==Xe[ei]&&(Xe[ei]=ti,Ze=!0)}}}else{setFullProps(je,$e,qe,Xe)&&(Ze=!0);let Qe;for(const St in Ke)(!$e||!hasOwn$2($e,St)&&((Qe=hyphenate(St))===St||!hasOwn$2($e,Qe)))&&(Je?Ve&&(Ve[St]!==void 0||Ve[Qe]!==void 0)&&(qe[St]=resolvePropValue(Je,Ke,St,void 0,je,!0)):delete qe[St]);if(Xe!==Ke)for(const St in Xe)(!$e||!hasOwn$2($e,St))&&(delete Xe[St],Ze=!0)}Ze&&trigger(je,"set","$attrs")}function setFullProps(je,$e,Ve,ze){const[qe,Xe]=je.propsOptions;let We=!1,Ke;if($e)for(let Je in $e){if(isReservedProp(Je))continue;const Ze=$e[Je];let Qe;qe&&hasOwn$2(qe,Qe=camelize(Je))?!Xe||!Xe.includes(Qe)?Ve[Qe]=Ze:(Ke||(Ke={}))[Qe]=Ze:isEmitListener(je.emitsOptions,Je)||(!(Je in ze)||Ze!==ze[Je])&&(ze[Je]=Ze,We=!0)}if(Xe){const Je=toRaw(Ve),Ze=Ke||EMPTY_OBJ;for(let Qe=0;Qe<Xe.length;Qe++){const St=Xe[Qe];Ve[St]=resolvePropValue(qe,Je,St,Ze[St],je,!hasOwn$2(Ze,St))}}return We}function resolvePropValue(je,$e,Ve,ze,qe,Xe){const We=je[Ve];if(We!=null){const Ke=hasOwn$2(We,"default");if(Ke&&ze===void 0){const Je=We.default;if(We.type!==Function&&!We.skipFactory&&isFunction(Je)){const{propsDefaults:Ze}=qe;Ve in Ze?ze=Ze[Ve]:(setCurrentInstance(qe),ze=Ze[Ve]=Je.call(null,$e),unsetCurrentInstance())}else ze=Je}We[0]&&(Xe&&!Ke?ze=!1:We[1]&&(ze===""||ze===hyphenate(Ve))&&(ze=!0))}return ze}function normalizePropsOptions(je,$e,Ve=!1){const ze=$e.propsCache,qe=ze.get(je);if(qe)return qe;const Xe=je.props,We={},Ke=[];let Je=!1;if(!isFunction(je)){const Qe=St=>{Je=!0;const[ei,ti]=normalizePropsOptions(St,$e,!0);extend$3(We,ei),ti&&Ke.push(...ti)};!Ve&&$e.mixins.length&&$e.mixins.forEach(Qe),je.extends&&Qe(je.extends),je.mixins&&je.mixins.forEach(Qe)}if(!Xe&&!Je)return isObject(je)&&ze.set(je,EMPTY_ARR),EMPTY_ARR;if(isArray$1(Xe))for(let Qe=0;Qe<Xe.length;Qe++){const St=camelize(Xe[Qe]);validatePropName(St)&&(We[St]=EMPTY_OBJ)}else if(Xe)for(const Qe in Xe){const St=camelize(Qe);if(validatePropName(St)){const ei=Xe[Qe],ti=We[St]=isArray$1(ei)||isFunction(ei)?{type:ei}:extend$3({},ei);if(ti){const ni=getTypeIndex(Boolean,ti.type),oi=getTypeIndex(String,ti.type);ti[0]=ni>-1,ti[1]=oi<0||ni<oi,(ni>-1||hasOwn$2(ti,"default"))&&Ke.push(St)}}}const Ze=[We,Ke];return isObject(je)&&ze.set(je,Ze),Ze}function validatePropName(je){return je[0]!=="$"}function getType$1(je){const $e=je&&je.toString().match(/^\s*(function|class) (\w+)/);return $e?$e[2]:je===null?"null":""}function isSameType(je,$e){return getType$1(je)===getType$1($e)}function getTypeIndex(je,$e){return isArray$1($e)?$e.findIndex(Ve=>isSameType(Ve,je)):isFunction($e)&&isSameType($e,je)?0:-1}const isInternalKey=je=>je[0]==="_"||je==="$stable",normalizeSlotValue=je=>isArray$1(je)?je.map(normalizeVNode):[normalizeVNode(je)],normalizeSlot=(je,$e,Ve)=>{if($e._n)return $e;const ze=withCtx((...qe)=>normalizeSlotValue($e(...qe)),Ve);return ze._c=!1,ze},normalizeObjectSlots=(je,$e,Ve)=>{const ze=je._ctx;for(const qe in je){if(isInternalKey(qe))continue;const Xe=je[qe];if(isFunction(Xe))$e[qe]=normalizeSlot(qe,Xe,ze);else if(Xe!=null){const We=normalizeSlotValue(Xe);$e[qe]=()=>We}}},normalizeVNodeSlots=(je,$e)=>{const Ve=normalizeSlotValue($e);je.slots.default=()=>Ve},initSlots=(je,$e)=>{if(je.vnode.shapeFlag&32){const Ve=$e._;Ve?(je.slots=toRaw($e),def($e,"_",Ve)):normalizeObjectSlots($e,je.slots={})}else je.slots={},$e&&normalizeVNodeSlots(je,$e);def(je.slots,InternalObjectKey,1)},updateSlots=(je,$e,Ve)=>{const{vnode:ze,slots:qe}=je;let Xe=!0,We=EMPTY_OBJ;if(ze.shapeFlag&32){const Ke=$e._;Ke?Ve&&Ke===1?Xe=!1:(extend$3(qe,$e),!Ve&&Ke===1&&delete qe._):(Xe=!$e.$stable,normalizeObjectSlots($e,qe)),We=$e}else $e&&(normalizeVNodeSlots(je,$e),We={default:1});if(Xe)for(const Ke in qe)!isInternalKey(Ke)&&We[Ke]==null&&delete qe[Ke]};function setRef(je,$e,Ve,ze,qe=!1){if(isArray$1(je)){je.forEach((ei,ti)=>setRef(ei,$e&&(isArray$1($e)?$e[ti]:$e),Ve,ze,qe));return}if(isAsyncWrapper(ze)&&!qe)return;const Xe=ze.shapeFlag&4?getExposeProxy(ze.component)||ze.component.proxy:ze.el,We=qe?null:Xe,{i:Ke,r:Je}=je,Ze=$e&&$e.r,Qe=Ke.refs===EMPTY_OBJ?Ke.refs={}:Ke.refs,St=Ke.setupState;if(Ze!=null&&Ze!==Je&&(isString(Ze)?(Qe[Ze]=null,hasOwn$2(St,Ze)&&(St[Ze]=null)):isRef(Ze)&&(Ze.value=null)),isFunction(Je))callWithErrorHandling(Je,Ke,12,[We,Qe]);else{const ei=isString(Je),ti=isRef(Je);if(ei||ti){const ni=()=>{if(je.f){const oi=ei?hasOwn$2(St,Je)?St[Je]:Qe[Je]:Je.value;qe?isArray$1(oi)&&remove(oi,Xe):isArray$1(oi)?oi.includes(Xe)||oi.push(Xe):ei?(Qe[Je]=[Xe],hasOwn$2(St,Je)&&(St[Je]=Qe[Je])):(Je.value=[Xe],je.k&&(Qe[je.k]=Je.value))}else ei?(Qe[Je]=We,hasOwn$2(St,Je)&&(St[Je]=We)):ti&&(Je.value=We,je.k&&(Qe[je.k]=We))};We?(ni.id=-1,queuePostRenderEffect(ni,Ve)):ni()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(je){return baseCreateRenderer(je)}function baseCreateRenderer(je,$e){const Ve=getGlobalThis();Ve.__VUE__=!0;const{insert:ze,remove:qe,patchProp:Xe,createElement:We,createText:Ke,createComment:Je,setText:Ze,setElementText:Qe,parentNode:St,nextSibling:ei,setScopeId:ti=NOOP,insertStaticContent:ni}=je,oi=(_i,Ai,Oi,Ii=null,Mi=null,Gi=null,on=!1,Ui=null,rn=!!Ai.dynamicChildren)=>{if(_i===Ai)return;_i&&!isSameVNodeType(_i,Ai)&&(Ii=en(_i),ki(_i,Mi,Gi,!0),_i=null),Ai.patchFlag===-2&&(rn=!1,Ai.dynamicChildren=null);const{type:un,ref:dn,shapeFlag:hn}=Ai;switch(un){case Text:ai(_i,Ai,Oi,Ii);break;case Comment:si(_i,Ai,Oi,Ii);break;case Static:_i==null&&ri(Ai,Oi,Ii,on);break;case Fragment:xi(_i,Ai,Oi,Ii,Mi,Gi,on,Ui,rn);break;default:hn&1?ci(_i,Ai,Oi,Ii,Mi,Gi,on,Ui,rn):hn&6?Si(_i,Ai,Oi,Ii,Mi,Gi,on,Ui,rn):(hn&64||hn&128)&&un.process(_i,Ai,Oi,Ii,Mi,Gi,on,Ui,rn,Ji)}dn!=null&&Mi&&setRef(dn,_i&&_i.ref,Gi,Ai||_i,!Ai)},ai=(_i,Ai,Oi,Ii)=>{if(_i==null)ze(Ai.el=Ke(Ai.children),Oi,Ii);else{const Mi=Ai.el=_i.el;Ai.children!==_i.children&&Ze(Mi,Ai.children)}},si=(_i,Ai,Oi,Ii)=>{_i==null?ze(Ai.el=Je(Ai.children||""),Oi,Ii):Ai.el=_i.el},ri=(_i,Ai,Oi,Ii)=>{[_i.el,_i.anchor]=ni(_i.children,Ai,Oi,Ii,_i.el,_i.anchor)},ii=({el:_i,anchor:Ai},Oi,Ii)=>{let Mi;for(;_i&&_i!==Ai;)Mi=ei(_i),ze(_i,Oi,Ii),_i=Mi;ze(Ai,Oi,Ii)},ui=({el:_i,anchor:Ai})=>{let Oi;for(;_i&&_i!==Ai;)Oi=ei(_i),qe(_i),_i=Oi;qe(Ai)},ci=(_i,Ai,Oi,Ii,Mi,Gi,on,Ui,rn)=>{on=on||Ai.type==="svg",_i==null?hi(Ai,Oi,Ii,Mi,Gi,on,Ui,rn):fi(_i,Ai,Mi,Gi,on,Ui,rn)},hi=(_i,Ai,Oi,Ii,Mi,Gi,on,Ui)=>{let rn,un;const{type:dn,props:hn,shapeFlag:Sn,transition:fn,dirs:Pn}=_i;if(rn=_i.el=We(_i.type,Gi,hn&&hn.is,hn),Sn&8?Qe(rn,_i.children):Sn&16&&di(_i.children,rn,null,Ii,Mi,Gi&&dn!=="foreignObject",on,Ui),Pn&&invokeDirectiveHook(_i,null,Ii,"created"),mi(rn,_i,_i.scopeId,on,Ii),hn){for(const En in hn)En!=="value"&&!isReservedProp(En)&&Xe(rn,En,null,hn[En],Gi,_i.children,Ii,Mi,Xi);"value"in hn&&Xe(rn,"value",null,hn.value),(un=hn.onVnodeBeforeMount)&&invokeVNodeHook(un,Ii,_i)}Pn&&invokeDirectiveHook(_i,null,Ii,"beforeMount");const zi=needTransition(Mi,fn);zi&&fn.beforeEnter(rn),ze(rn,Ai,Oi),((un=hn&&hn.onVnodeMounted)||zi||Pn)&&queuePostRenderEffect(()=>{un&&invokeVNodeHook(un,Ii,_i),zi&&fn.enter(rn),Pn&&invokeDirectiveHook(_i,null,Ii,"mounted")},Mi)},mi=(_i,Ai,Oi,Ii,Mi)=>{if(Oi&&ti(_i,Oi),Ii)for(let Gi=0;Gi<Ii.length;Gi++)ti(_i,Ii[Gi]);if(Mi){let Gi=Mi.subTree;if(Ai===Gi){const on=Mi.vnode;mi(_i,on,on.scopeId,on.slotScopeIds,Mi.parent)}}},di=(_i,Ai,Oi,Ii,Mi,Gi,on,Ui,rn=0)=>{for(let un=rn;un<_i.length;un++){const dn=_i[un]=Ui?cloneIfMounted(_i[un]):normalizeVNode(_i[un]);oi(null,dn,Ai,Oi,Ii,Mi,Gi,on,Ui)}},fi=(_i,Ai,Oi,Ii,Mi,Gi,on)=>{const Ui=Ai.el=_i.el;let{patchFlag:rn,dynamicChildren:un,dirs:dn}=Ai;rn|=_i.patchFlag&16;const hn=_i.props||EMPTY_OBJ,Sn=Ai.props||EMPTY_OBJ;let fn;Oi&&toggleRecurse(Oi,!1),(fn=Sn.onVnodeBeforeUpdate)&&invokeVNodeHook(fn,Oi,Ai,_i),dn&&invokeDirectiveHook(Ai,_i,Oi,"beforeUpdate"),Oi&&toggleRecurse(Oi,!0);const Pn=Mi&&Ai.type!=="foreignObject";if(un?yi(_i.dynamicChildren,un,Ui,Oi,Ii,Pn,Gi):on||Ci(_i,Ai,Ui,null,Oi,Ii,Pn,Gi,!1),rn>0){if(rn&16)pi(Ui,Ai,hn,Sn,Oi,Ii,Mi);else if(rn&2&&hn.class!==Sn.class&&Xe(Ui,"class",null,Sn.class,Mi),rn&4&&Xe(Ui,"style",hn.style,Sn.style,Mi),rn&8){const zi=Ai.dynamicProps;for(let En=0;En<zi.length;En++){const yn=zi[En],An=hn[yn],sn=Sn[yn];(sn!==An||yn==="value")&&Xe(Ui,yn,An,sn,Mi,_i.children,Oi,Ii,Xi)}}rn&1&&_i.children!==Ai.children&&Qe(Ui,Ai.children)}else!on&&un==null&&pi(Ui,Ai,hn,Sn,Oi,Ii,Mi);((fn=Sn.onVnodeUpdated)||dn)&&queuePostRenderEffect(()=>{fn&&invokeVNodeHook(fn,Oi,Ai,_i),dn&&invokeDirectiveHook(Ai,_i,Oi,"updated")},Ii)},yi=(_i,Ai,Oi,Ii,Mi,Gi,on)=>{for(let Ui=0;Ui<Ai.length;Ui++){const rn=_i[Ui],un=Ai[Ui],dn=rn.el&&(rn.type===Fragment||!isSameVNodeType(rn,un)||rn.shapeFlag&70)?St(rn.el):Oi;oi(rn,un,dn,null,Ii,Mi,Gi,on,!0)}},pi=(_i,Ai,Oi,Ii,Mi,Gi,on)=>{if(Oi!==Ii){if(Oi!==EMPTY_OBJ)for(const Ui in Oi)!isReservedProp(Ui)&&!(Ui in Ii)&&Xe(_i,Ui,Oi[Ui],null,on,Ai.children,Mi,Gi,Xi);for(const Ui in Ii){if(isReservedProp(Ui))continue;const rn=Ii[Ui],un=Oi[Ui];rn!==un&&Ui!=="value"&&Xe(_i,Ui,un,rn,on,Ai.children,Mi,Gi,Xi)}"value"in Ii&&Xe(_i,"value",Oi.value,Ii.value)}},xi=(_i,Ai,Oi,Ii,Mi,Gi,on,Ui,rn)=>{const un=Ai.el=_i?_i.el:Ke(""),dn=Ai.anchor=_i?_i.anchor:Ke("");let{patchFlag:hn,dynamicChildren:Sn,slotScopeIds:fn}=Ai;fn&&(Ui=Ui?Ui.concat(fn):fn),_i==null?(ze(un,Oi,Ii),ze(dn,Oi,Ii),di(Ai.children,Oi,dn,Mi,Gi,on,Ui,rn)):hn>0&&hn&64&&Sn&&_i.dynamicChildren?(yi(_i.dynamicChildren,Sn,Oi,Mi,Gi,on,Ui),(Ai.key!=null||Mi&&Ai===Mi.subTree)&&traverseStaticChildren(_i,Ai,!0)):Ci(_i,Ai,Oi,dn,Mi,Gi,on,Ui,rn)},Si=(_i,Ai,Oi,Ii,Mi,Gi,on,Ui,rn)=>{Ai.slotScopeIds=Ui,_i==null?Ai.shapeFlag&512?Mi.ctx.activate(Ai,Oi,Ii,on,rn):vi(Ai,Oi,Ii,Mi,Gi,on,rn):Di(_i,Ai,rn)},vi=(_i,Ai,Oi,Ii,Mi,Gi,on)=>{const Ui=_i.component=createComponentInstance(_i,Ii,Mi);if(isKeepAlive(_i)&&(Ui.ctx.renderer=Ji),setupComponent(Ui),Ui.asyncDep){if(Mi&&Mi.registerDep(Ui,Ti),!_i.el){const rn=Ui.subTree=createVNode(Comment);si(null,rn,Ai,Oi)}return}Ti(Ui,_i,Ai,Oi,Mi,Gi,on)},Di=(_i,Ai,Oi)=>{const Ii=Ai.component=_i.component;if(shouldUpdateComponent(_i,Ai,Oi))if(Ii.asyncDep&&!Ii.asyncResolved){Fi(Ii,Ai,Oi);return}else Ii.next=Ai,invalidateJob(Ii.update),Ii.update();else Ai.el=_i.el,Ii.vnode=Ai},Ti=(_i,Ai,Oi,Ii,Mi,Gi,on)=>{const Ui=()=>{if(_i.isMounted){let{next:dn,bu:hn,u:Sn,parent:fn,vnode:Pn}=_i,zi=dn,En;toggleRecurse(_i,!1),dn?(dn.el=Pn.el,Fi(_i,dn,on)):dn=Pn,hn&&invokeArrayFns(hn),(En=dn.props&&dn.props.onVnodeBeforeUpdate)&&invokeVNodeHook(En,fn,dn,Pn),toggleRecurse(_i,!0);const yn=renderComponentRoot(_i),An=_i.subTree;_i.subTree=yn,oi(An,yn,St(An.el),en(An),_i,Mi,Gi),dn.el=yn.el,zi===null&&updateHOCHostEl(_i,yn.el),Sn&&queuePostRenderEffect(Sn,Mi),(En=dn.props&&dn.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(En,fn,dn,Pn),Mi)}else{let dn;const{el:hn,props:Sn}=Ai,{bm:fn,m:Pn,parent:zi}=_i,En=isAsyncWrapper(Ai);if(toggleRecurse(_i,!1),fn&&invokeArrayFns(fn),!En&&(dn=Sn&&Sn.onVnodeBeforeMount)&&invokeVNodeHook(dn,zi,Ai),toggleRecurse(_i,!0),hn&&wi){const yn=()=>{_i.subTree=renderComponentRoot(_i),wi(hn,_i.subTree,_i,Mi,null)};En?Ai.type.__asyncLoader().then(()=>!_i.isUnmounted&&yn()):yn()}else{const yn=_i.subTree=renderComponentRoot(_i);oi(null,yn,Oi,Ii,_i,Mi,Gi),Ai.el=yn.el}if(Pn&&queuePostRenderEffect(Pn,Mi),!En&&(dn=Sn&&Sn.onVnodeMounted)){const yn=Ai;queuePostRenderEffect(()=>invokeVNodeHook(dn,zi,yn),Mi)}(Ai.shapeFlag&256||zi&&isAsyncWrapper(zi.vnode)&&zi.vnode.shapeFlag&256)&&_i.a&&queuePostRenderEffect(_i.a,Mi),_i.isMounted=!0,Ai=Oi=Ii=null}},rn=_i.effect=new ReactiveEffect(Ui,()=>queueJob(un),_i.scope),un=_i.update=()=>rn.run();un.id=_i.uid,toggleRecurse(_i,!0),un()},Fi=(_i,Ai,Oi)=>{Ai.component=_i;const Ii=_i.vnode.props;_i.vnode=Ai,_i.next=null,updateProps(_i,Ai.props,Ii,Oi),updateSlots(_i,Ai.children,Oi),pauseTracking(),flushPreFlushCbs(_i),resetTracking()},Ci=(_i,Ai,Oi,Ii,Mi,Gi,on,Ui,rn=!1)=>{const un=_i&&_i.children,dn=_i?_i.shapeFlag:0,hn=Ai.children,{patchFlag:Sn,shapeFlag:fn}=Ai;if(Sn>0){if(Sn&128){Ri(un,hn,Oi,Ii,Mi,Gi,on,Ui,rn);return}else if(Sn&256){Ni(un,hn,Oi,Ii,Mi,Gi,on,Ui,rn);return}}fn&8?(dn&16&&Xi(un,Mi,Gi),hn!==un&&Qe(Oi,hn)):dn&16?fn&16?Ri(un,hn,Oi,Ii,Mi,Gi,on,Ui,rn):Xi(un,Mi,Gi,!0):(dn&8&&Qe(Oi,""),fn&16&&di(hn,Oi,Ii,Mi,Gi,on,Ui,rn))},Ni=(_i,Ai,Oi,Ii,Mi,Gi,on,Ui,rn)=>{_i=_i||EMPTY_ARR,Ai=Ai||EMPTY_ARR;const un=_i.length,dn=Ai.length,hn=Math.min(un,dn);let Sn;for(Sn=0;Sn<hn;Sn++){const fn=Ai[Sn]=rn?cloneIfMounted(Ai[Sn]):normalizeVNode(Ai[Sn]);oi(_i[Sn],fn,Oi,null,Mi,Gi,on,Ui,rn)}un>dn?Xi(_i,Mi,Gi,!0,!1,hn):di(Ai,Oi,Ii,Mi,Gi,on,Ui,rn,hn)},Ri=(_i,Ai,Oi,Ii,Mi,Gi,on,Ui,rn)=>{let un=0;const dn=Ai.length;let hn=_i.length-1,Sn=dn-1;for(;un<=hn&&un<=Sn;){const fn=_i[un],Pn=Ai[un]=rn?cloneIfMounted(Ai[un]):normalizeVNode(Ai[un]);if(isSameVNodeType(fn,Pn))oi(fn,Pn,Oi,null,Mi,Gi,on,Ui,rn);else break;un++}for(;un<=hn&&un<=Sn;){const fn=_i[hn],Pn=Ai[Sn]=rn?cloneIfMounted(Ai[Sn]):normalizeVNode(Ai[Sn]);if(isSameVNodeType(fn,Pn))oi(fn,Pn,Oi,null,Mi,Gi,on,Ui,rn);else break;hn--,Sn--}if(un>hn){if(un<=Sn){const fn=Sn+1,Pn=fn<dn?Ai[fn].el:Ii;for(;un<=Sn;)oi(null,Ai[un]=rn?cloneIfMounted(Ai[un]):normalizeVNode(Ai[un]),Oi,Pn,Mi,Gi,on,Ui,rn),un++}}else if(un>Sn)for(;un<=hn;)ki(_i[un],Mi,Gi,!0),un++;else{const fn=un,Pn=un,zi=new Map;for(un=Pn;un<=Sn;un++){const Rn=Ai[un]=rn?cloneIfMounted(Ai[un]):normalizeVNode(Ai[un]);Rn.key!=null&&zi.set(Rn.key,un)}let En,yn=0;const An=Sn-Pn+1;let sn=!1,_n=0;const Tn=new Array(An);for(un=0;un<An;un++)Tn[un]=0;for(un=fn;un<=hn;un++){const Rn=_i[un];if(yn>=An){ki(Rn,Mi,Gi,!0);continue}let zn;if(Rn.key!=null)zn=zi.get(Rn.key);else for(En=Pn;En<=Sn;En++)if(Tn[En-Pn]===0&&isSameVNodeType(Rn,Ai[En])){zn=En;break}zn===void 0?ki(Rn,Mi,Gi,!0):(Tn[zn-Pn]=un+1,zn>=_n?_n=zn:sn=!0,oi(Rn,Ai[zn],Oi,null,Mi,Gi,on,Ui,rn),yn++)}const In=sn?getSequence(Tn):EMPTY_ARR;for(En=In.length-1,un=An-1;un>=0;un--){const Rn=Pn+un,zn=Ai[Rn],Un=Rn+1<dn?Ai[Rn+1].el:Ii;Tn[un]===0?oi(null,zn,Oi,Un,Mi,Gi,on,Ui,rn):sn&&(En<0||un!==In[En]?Yi(zn,Oi,Un,2):En--)}}},Yi=(_i,Ai,Oi,Ii,Mi=null)=>{const{el:Gi,type:on,transition:Ui,children:rn,shapeFlag:un}=_i;if(un&6){Yi(_i.component.subTree,Ai,Oi,Ii);return}if(un&128){_i.suspense.move(Ai,Oi,Ii);return}if(un&64){on.move(_i,Ai,Oi,Ji);return}if(on===Fragment){ze(Gi,Ai,Oi);for(let hn=0;hn<rn.length;hn++)Yi(rn[hn],Ai,Oi,Ii);ze(_i.anchor,Ai,Oi);return}if(on===Static){ii(_i,Ai,Oi);return}if(Ii!==2&&un&1&&Ui)if(Ii===0)Ui.beforeEnter(Gi),ze(Gi,Ai,Oi),queuePostRenderEffect(()=>Ui.enter(Gi),Mi);else{const{leave:hn,delayLeave:Sn,afterLeave:fn}=Ui,Pn=()=>ze(Gi,Ai,Oi),zi=()=>{hn(Gi,()=>{Pn(),fn&&fn()})};Sn?Sn(Gi,Pn,zi):zi()}else ze(Gi,Ai,Oi)},ki=(_i,Ai,Oi,Ii=!1,Mi=!1)=>{const{type:Gi,props:on,ref:Ui,children:rn,dynamicChildren:un,shapeFlag:dn,patchFlag:hn,dirs:Sn}=_i;if(Ui!=null&&setRef(Ui,null,Oi,_i,!0),dn&256){Ai.ctx.deactivate(_i);return}const fn=dn&1&&Sn,Pn=!isAsyncWrapper(_i);let zi;if(Pn&&(zi=on&&on.onVnodeBeforeUnmount)&&invokeVNodeHook(zi,Ai,_i),dn&6)Bi(_i.component,Oi,Ii);else{if(dn&128){_i.suspense.unmount(Oi,Ii);return}fn&&invokeDirectiveHook(_i,null,Ai,"beforeUnmount"),dn&64?_i.type.remove(_i,Ai,Oi,Mi,Ji,Ii):un&&(Gi!==Fragment||hn>0&&hn&64)?Xi(un,Ai,Oi,!1,!0):(Gi===Fragment&&hn&384||!Mi&&dn&16)&&Xi(rn,Ai,Oi),Ii&&ji(_i)}(Pn&&(zi=on&&on.onVnodeUnmounted)||fn)&&queuePostRenderEffect(()=>{zi&&invokeVNodeHook(zi,Ai,_i),fn&&invokeDirectiveHook(_i,null,Ai,"unmounted")},Oi)},ji=_i=>{const{type:Ai,el:Oi,anchor:Ii,transition:Mi}=_i;if(Ai===Fragment){Vi(Oi,Ii);return}if(Ai===Static){ui(_i);return}const Gi=()=>{qe(Oi),Mi&&!Mi.persisted&&Mi.afterLeave&&Mi.afterLeave()};if(_i.shapeFlag&1&&Mi&&!Mi.persisted){const{leave:on,delayLeave:Ui}=Mi,rn=()=>on(Oi,Gi);Ui?Ui(_i.el,Gi,rn):rn()}else Gi()},Vi=(_i,Ai)=>{let Oi;for(;_i!==Ai;)Oi=ei(_i),qe(_i),_i=Oi;qe(Ai)},Bi=(_i,Ai,Oi)=>{const{bum:Ii,scope:Mi,update:Gi,subTree:on,um:Ui}=_i;Ii&&invokeArrayFns(Ii),Mi.stop(),Gi&&(Gi.active=!1,ki(on,_i,Ai,Oi)),Ui&&queuePostRenderEffect(Ui,Ai),queuePostRenderEffect(()=>{_i.isUnmounted=!0},Ai),Ai&&Ai.pendingBranch&&!Ai.isUnmounted&&_i.asyncDep&&!_i.asyncResolved&&_i.suspenseId===Ai.pendingId&&(Ai.deps--,Ai.deps===0&&Ai.resolve())},Xi=(_i,Ai,Oi,Ii=!1,Mi=!1,Gi=0)=>{for(let on=Gi;on<_i.length;on++)ki(_i[on],Ai,Oi,Ii,Mi)},en=_i=>_i.shapeFlag&6?en(_i.component.subTree):_i.shapeFlag&128?_i.suspense.next():ei(_i.anchor||_i.el),tn=(_i,Ai,Oi)=>{_i==null?Ai._vnode&&ki(Ai._vnode,null,null,!0):oi(Ai._vnode||null,_i,Ai,null,null,null,Oi),flushPreFlushCbs(),flushPostFlushCbs(),Ai._vnode=_i},Ji={p:oi,um:ki,m:Yi,r:ji,mt:vi,mc:di,pc:Ci,pbc:yi,n:en,o:je};let Li,wi;return $e&&([Li,wi]=$e(Ji)),{render:tn,hydrate:Li,createApp:createAppAPI(tn,Li)}}function toggleRecurse({effect:je,update:$e},Ve){je.allowRecurse=$e.allowRecurse=Ve}function needTransition(je,$e){return(!je||je&&!je.pendingBranch)&&$e&&!$e.persisted}function traverseStaticChildren(je,$e,Ve=!1){const ze=je.children,qe=$e.children;if(isArray$1(ze)&&isArray$1(qe))for(let Xe=0;Xe<ze.length;Xe++){const We=ze[Xe];let Ke=qe[Xe];Ke.shapeFlag&1&&!Ke.dynamicChildren&&((Ke.patchFlag<=0||Ke.patchFlag===32)&&(Ke=qe[Xe]=cloneIfMounted(qe[Xe]),Ke.el=We.el),Ve||traverseStaticChildren(We,Ke)),Ke.type===Text&&(Ke.el=We.el)}}function getSequence(je){const $e=je.slice(),Ve=[0];let ze,qe,Xe,We,Ke;const Je=je.length;for(ze=0;ze<Je;ze++){const Ze=je[ze];if(Ze!==0){if(qe=Ve[Ve.length-1],je[qe]<Ze){$e[ze]=qe,Ve.push(ze);continue}for(Xe=0,We=Ve.length-1;Xe<We;)Ke=Xe+We>>1,je[Ve[Ke]]<Ze?Xe=Ke+1:We=Ke;Ze<je[Ve[Xe]]&&(Xe>0&&($e[ze]=Ve[Xe-1]),Ve[Xe]=ze)}}for(Xe=Ve.length,We=Ve[Xe-1];Xe-- >0;)Ve[Xe]=We,We=$e[We];return Ve}const isTeleport=je=>je.__isTeleport,Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(je=!1){blockStack.push(currentBlock=je?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(je){isBlockTreeEnabled+=je}function setupBlock(je){return je.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(je),je}function createElementBlock(je,$e,Ve,ze,qe,Xe){return setupBlock(createBaseVNode(je,$e,Ve,ze,qe,Xe,!0))}function createBlock(je,$e,Ve,ze,qe){return setupBlock(createVNode(je,$e,Ve,ze,qe,!0))}function isVNode(je){return je?je.__v_isVNode===!0:!1}function isSameVNodeType(je,$e){return je.type===$e.type&&je.key===$e.key}const InternalObjectKey="__vInternal",normalizeKey=({key:je})=>je??null,normalizeRef=({ref:je,ref_key:$e,ref_for:Ve})=>(typeof je=="number"&&(je=""+je),je!=null?isString(je)||isRef(je)||isFunction(je)?{i:currentRenderingInstance,r:je,k:$e,f:!!Ve}:je:null);function createBaseVNode(je,$e=null,Ve=null,ze=0,qe=null,Xe=je===Fragment?0:1,We=!1,Ke=!1){const Je={__v_isVNode:!0,__v_skip:!0,type:je,props:$e,key:$e&&normalizeKey($e),ref:$e&&normalizeRef($e),scopeId:currentScopeId,slotScopeIds:null,children:Ve,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:Xe,patchFlag:ze,dynamicProps:qe,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return Ke?(normalizeChildren(Je,Ve),Xe&128&&je.normalize(Je)):Ve&&(Je.shapeFlag|=isString(Ve)?8:16),isBlockTreeEnabled>0&&!We&&currentBlock&&(Je.patchFlag>0||Xe&6)&&Je.patchFlag!==32&&currentBlock.push(Je),Je}const createVNode=_createVNode;function _createVNode(je,$e=null,Ve=null,ze=0,qe=null,Xe=!1){if((!je||je===NULL_DYNAMIC_COMPONENT)&&(je=Comment),isVNode(je)){const Ke=cloneVNode(je,$e,!0);return Ve&&normalizeChildren(Ke,Ve),isBlockTreeEnabled>0&&!Xe&&currentBlock&&(Ke.shapeFlag&6?currentBlock[currentBlock.indexOf(je)]=Ke:currentBlock.push(Ke)),Ke.patchFlag|=-2,Ke}if(isClassComponent(je)&&(je=je.__vccOpts),$e){$e=guardReactiveProps($e);let{class:Ke,style:Je}=$e;Ke&&!isString(Ke)&&($e.class=normalizeClass(Ke)),isObject(Je)&&(isProxy(Je)&&!isArray$1(Je)&&(Je=extend$3({},Je)),$e.style=normalizeStyle(Je))}const We=isString(je)?1:isSuspense(je)?128:isTeleport(je)?64:isObject(je)?4:isFunction(je)?2:0;return createBaseVNode(je,$e,Ve,ze,qe,We,Xe,!0)}function guardReactiveProps(je){return je?isProxy(je)||InternalObjectKey in je?extend$3({},je):je:null}function cloneVNode(je,$e,Ve=!1){const{props:ze,ref:qe,patchFlag:Xe,children:We}=je,Ke=$e?mergeProps(ze||{},$e):ze;return{__v_isVNode:!0,__v_skip:!0,type:je.type,props:Ke,key:Ke&&normalizeKey(Ke),ref:$e&&$e.ref?Ve&&qe?isArray$1(qe)?qe.concat(normalizeRef($e)):[qe,normalizeRef($e)]:normalizeRef($e):qe,scopeId:je.scopeId,slotScopeIds:je.slotScopeIds,children:We,target:je.target,targetAnchor:je.targetAnchor,staticCount:je.staticCount,shapeFlag:je.shapeFlag,patchFlag:$e&&je.type!==Fragment?Xe===-1?16:Xe|16:Xe,dynamicProps:je.dynamicProps,dynamicChildren:je.dynamicChildren,appContext:je.appContext,dirs:je.dirs,transition:je.transition,component:je.component,suspense:je.suspense,ssContent:je.ssContent&&cloneVNode(je.ssContent),ssFallback:je.ssFallback&&cloneVNode(je.ssFallback),el:je.el,anchor:je.anchor,ctx:je.ctx,ce:je.ce}}function createTextVNode(je=" ",$e=0){return createVNode(Text,null,je,$e)}function createCommentVNode(je="",$e=!1){return $e?(openBlock(),createBlock(Comment,null,je)):createVNode(Comment,null,je)}function normalizeVNode(je){return je==null||typeof je=="boolean"?createVNode(Comment):isArray$1(je)?createVNode(Fragment,null,je.slice()):typeof je=="object"?cloneIfMounted(je):createVNode(Text,null,String(je))}function cloneIfMounted(je){return je.el===null&&je.patchFlag!==-1||je.memo?je:cloneVNode(je)}function normalizeChildren(je,$e){let Ve=0;const{shapeFlag:ze}=je;if($e==null)$e=null;else if(isArray$1($e))Ve=16;else if(typeof $e=="object")if(ze&65){const qe=$e.default;qe&&(qe._c&&(qe._d=!1),normalizeChildren(je,qe()),qe._c&&(qe._d=!0));return}else{Ve=32;const qe=$e._;!qe&&!(InternalObjectKey in $e)?$e._ctx=currentRenderingInstance:qe===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?$e._=1:($e._=2,je.patchFlag|=1024))}else isFunction($e)?($e={default:$e,_ctx:currentRenderingInstance},Ve=32):($e=String($e),ze&64?(Ve=16,$e=[createTextVNode($e)]):Ve=8);je.children=$e,je.shapeFlag|=Ve}function mergeProps(...je){const $e={};for(let Ve=0;Ve<je.length;Ve++){const ze=je[Ve];for(const qe in ze)if(qe==="class")$e.class!==ze.class&&($e.class=normalizeClass([$e.class,ze.class]));else if(qe==="style")$e.style=normalizeStyle([$e.style,ze.style]);else if(isOn(qe)){const Xe=$e[qe],We=ze[qe];We&&Xe!==We&&!(isArray$1(Xe)&&Xe.includes(We))&&($e[qe]=Xe?[].concat(Xe,We):We)}else qe!==""&&($e[qe]=ze[qe])}return $e}function invokeVNodeHook(je,$e,Ve,ze=null){callWithAsyncErrorHandling(je,$e,7,[Ve,ze])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(je,$e,Ve){const ze=je.type,qe=($e?$e.appContext:je.appContext)||emptyAppContext,Xe={uid:uid++,vnode:je,type:ze,parent:$e,appContext:qe,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:$e?$e.provides:Object.create(qe.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(ze,qe),emitsOptions:normalizeEmitsOptions(ze,qe),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:ze.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:Ve,suspenseId:Ve?Ve.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return Xe.ctx={_:Xe},Xe.root=$e?$e.root:Xe,Xe.emit=emit.bind(null,Xe),je.ce&&je.ce(Xe),Xe}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,globalCurrentInstanceSetters,settersKey="__VUE_INSTANCE_SETTERS__";(globalCurrentInstanceSetters=getGlobalThis()[settersKey])||(globalCurrentInstanceSetters=getGlobalThis()[settersKey]=[]),globalCurrentInstanceSetters.push(je=>currentInstance=je),internalSetCurrentInstance=je=>{globalCurrentInstanceSetters.length>1?globalCurrentInstanceSetters.forEach($e=>$e(je)):globalCurrentInstanceSetters[0](je)};const setCurrentInstance=je=>{internalSetCurrentInstance(je),je.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(je){return je.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(je,$e=!1){isInSSRComponentSetup=$e;const{props:Ve,children:ze}=je.vnode,qe=isStatefulComponent(je);initProps(je,Ve,qe,$e),initSlots(je,ze);const Xe=qe?setupStatefulComponent(je,$e):void 0;return isInSSRComponentSetup=!1,Xe}function setupStatefulComponent(je,$e){const Ve=je.type;je.accessCache=Object.create(null),je.proxy=markRaw(new Proxy(je.ctx,PublicInstanceProxyHandlers));const{setup:ze}=Ve;if(ze){const qe=je.setupContext=ze.length>1?createSetupContext(je):null;setCurrentInstance(je),pauseTracking();const Xe=callWithErrorHandling(ze,je,0,[je.props,qe]);if(resetTracking(),unsetCurrentInstance(),isPromise(Xe)){if(Xe.then(unsetCurrentInstance,unsetCurrentInstance),$e)return Xe.then(We=>{handleSetupResult(je,We,$e)}).catch(We=>{handleError(We,je,0)});je.asyncDep=Xe}else handleSetupResult(je,Xe,$e)}else finishComponentSetup(je,$e)}function handleSetupResult(je,$e,Ve){isFunction($e)?je.type.__ssrInlineRender?je.ssrRender=$e:je.render=$e:isObject($e)&&(je.setupState=proxyRefs($e)),finishComponentSetup(je,Ve)}let compile;function finishComponentSetup(je,$e,Ve){const ze=je.type;if(!je.render){if(!$e&&compile&&!ze.render){const qe=ze.template||resolveMergedOptions(je).template;if(qe){const{isCustomElement:Xe,compilerOptions:We}=je.appContext.config,{delimiters:Ke,compilerOptions:Je}=ze,Ze=extend$3(extend$3({isCustomElement:Xe,delimiters:Ke},We),Je);ze.render=compile(qe,Ze)}}je.render=ze.render||NOOP}{setCurrentInstance(je),pauseTracking();try{applyOptions(je)}finally{resetTracking(),unsetCurrentInstance()}}}function getAttrsProxy(je){return je.attrsProxy||(je.attrsProxy=new Proxy(je.attrs,{get($e,Ve){return track(je,"get","$attrs"),$e[Ve]}}))}function createSetupContext(je){const $e=Ve=>{je.exposed=Ve||{}};return{get attrs(){return getAttrsProxy(je)},slots:je.slots,emit:je.emit,expose:$e}}function getExposeProxy(je){if(je.exposed)return je.exposeProxy||(je.exposeProxy=new Proxy(proxyRefs(markRaw(je.exposed)),{get($e,Ve){if(Ve in $e)return $e[Ve];if(Ve in publicPropertiesMap)return publicPropertiesMap[Ve](je)},has($e,Ve){return Ve in $e||Ve in publicPropertiesMap}}))}function isClassComponent(je){return isFunction(je)&&"__vccOpts"in je}const computed=(je,$e)=>computed$1(je,$e,isInSSRComponentSetup);function h$2(je,$e,Ve){const ze=arguments.length;return ze===2?isObject($e)&&!isArray$1($e)?isVNode($e)?createVNode(je,null,[$e]):createVNode(je,$e):createVNode(je,null,$e):(ze>3?Ve=Array.prototype.slice.call(arguments,2):ze===3&&isVNode(Ve)&&(Ve=[Ve]),createVNode(je,$e,Ve))}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey),version$2="3.3.13",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(je,$e,Ve)=>{$e.insertBefore(je,Ve||null)},remove:je=>{const $e=je.parentNode;$e&&$e.removeChild(je)},createElement:(je,$e,Ve,ze)=>{const qe=$e?doc.createElementNS(svgNS,je):doc.createElement(je,Ve?{is:Ve}:void 0);return je==="select"&&ze&&ze.multiple!=null&&qe.setAttribute("multiple",ze.multiple),qe},createText:je=>doc.createTextNode(je),createComment:je=>doc.createComment(je),setText:(je,$e)=>{je.nodeValue=$e},setElementText:(je,$e)=>{je.textContent=$e},parentNode:je=>je.parentNode,nextSibling:je=>je.nextSibling,querySelector:je=>doc.querySelector(je),setScopeId(je,$e){je.setAttribute($e,"")},insertStaticContent(je,$e,Ve,ze,qe,Xe){const We=Ve?Ve.previousSibling:$e.lastChild;if(qe&&(qe===Xe||qe.nextSibling))for(;$e.insertBefore(qe.cloneNode(!0),Ve),!(qe===Xe||!(qe=qe.nextSibling)););else{templateContainer.innerHTML=ze?`<svg>${je}</svg>`:je;const Ke=templateContainer.content;if(ze){const Je=Ke.firstChild;for(;Je.firstChild;)Ke.appendChild(Je.firstChild);Ke.removeChild(Je)}$e.insertBefore(Ke,Ve)}return[We?We.nextSibling:$e.firstChild,Ve?Ve.previousSibling:$e.lastChild]}},TRANSITION="transition",ANIMATION="animation",vtcKey=Symbol("_vtc"),Transition=(je,{slots:$e})=>h$2(BaseTransition,resolveTransitionProps(je),$e);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Transition.props=extend$3({},BaseTransitionPropsValidators,DOMTransitionPropsValidators);const callHook=(je,$e=[])=>{isArray$1(je)?je.forEach(Ve=>Ve(...$e)):je&&je(...$e)},hasExplicitCallback=je=>je?isArray$1(je)?je.some($e=>$e.length>1):je.length>1:!1;function resolveTransitionProps(je){const $e={};for(const xi in je)xi in DOMTransitionPropsValidators||($e[xi]=je[xi]);if(je.css===!1)return $e;const{name:Ve="v",type:ze,duration:qe,enterFromClass:Xe=`${Ve}-enter-from`,enterActiveClass:We=`${Ve}-enter-active`,enterToClass:Ke=`${Ve}-enter-to`,appearFromClass:Je=Xe,appearActiveClass:Ze=We,appearToClass:Qe=Ke,leaveFromClass:St=`${Ve}-leave-from`,leaveActiveClass:ei=`${Ve}-leave-active`,leaveToClass:ti=`${Ve}-leave-to`}=je,ni=normalizeDuration(qe),oi=ni&&ni[0],ai=ni&&ni[1],{onBeforeEnter:si,onEnter:ri,onEnterCancelled:ii,onLeave:ui,onLeaveCancelled:ci,onBeforeAppear:hi=si,onAppear:mi=ri,onAppearCancelled:di=ii}=$e,fi=(xi,Si,vi)=>{removeTransitionClass(xi,Si?Qe:Ke),removeTransitionClass(xi,Si?Ze:We),vi&&vi()},yi=(xi,Si)=>{xi._isLeaving=!1,removeTransitionClass(xi,St),removeTransitionClass(xi,ti),removeTransitionClass(xi,ei),Si&&Si()},pi=xi=>(Si,vi)=>{const Di=xi?mi:ri,Ti=()=>fi(Si,xi,vi);callHook(Di,[Si,Ti]),nextFrame(()=>{removeTransitionClass(Si,xi?Je:Xe),addTransitionClass(Si,xi?Qe:Ke),hasExplicitCallback(Di)||whenTransitionEnds(Si,ze,oi,Ti)})};return extend$3($e,{onBeforeEnter(xi){callHook(si,[xi]),addTransitionClass(xi,Xe),addTransitionClass(xi,We)},onBeforeAppear(xi){callHook(hi,[xi]),addTransitionClass(xi,Je),addTransitionClass(xi,Ze)},onEnter:pi(!1),onAppear:pi(!0),onLeave(xi,Si){xi._isLeaving=!0;const vi=()=>yi(xi,Si);addTransitionClass(xi,St),forceReflow(),addTransitionClass(xi,ei),nextFrame(()=>{xi._isLeaving&&(removeTransitionClass(xi,St),addTransitionClass(xi,ti),hasExplicitCallback(ui)||whenTransitionEnds(xi,ze,ai,vi))}),callHook(ui,[xi,vi])},onEnterCancelled(xi){fi(xi,!1),callHook(ii,[xi])},onAppearCancelled(xi){fi(xi,!0),callHook(di,[xi])},onLeaveCancelled(xi){yi(xi),callHook(ci,[xi])}})}function normalizeDuration(je){if(je==null)return null;if(isObject(je))return[NumberOf(je.enter),NumberOf(je.leave)];{const $e=NumberOf(je);return[$e,$e]}}function NumberOf(je){return toNumber(je)}function addTransitionClass(je,$e){$e.split(/\s+/).forEach(Ve=>Ve&&je.classList.add(Ve)),(je[vtcKey]||(je[vtcKey]=new Set)).add($e)}function removeTransitionClass(je,$e){$e.split(/\s+/).forEach(ze=>ze&&je.classList.remove(ze));const Ve=je[vtcKey];Ve&&(Ve.delete($e),Ve.size||(je[vtcKey]=void 0))}function nextFrame(je){requestAnimationFrame(()=>{requestAnimationFrame(je)})}let endId=0;function whenTransitionEnds(je,$e,Ve,ze){const qe=je._endId=++endId,Xe=()=>{qe===je._endId&&ze()};if(Ve)return setTimeout(Xe,Ve);const{type:We,timeout:Ke,propCount:Je}=getTransitionInfo(je,$e);if(!We)return ze();const Ze=We+"end";let Qe=0;const St=()=>{je.removeEventListener(Ze,ei),Xe()},ei=ti=>{ti.target===je&&++Qe>=Je&&St()};setTimeout(()=>{Qe<Je&&St()},Ke+1),je.addEventListener(Ze,ei)}function getTransitionInfo(je,$e){const Ve=window.getComputedStyle(je),ze=ni=>(Ve[ni]||"").split(", "),qe=ze(`${TRANSITION}Delay`),Xe=ze(`${TRANSITION}Duration`),We=getTimeout(qe,Xe),Ke=ze(`${ANIMATION}Delay`),Je=ze(`${ANIMATION}Duration`),Ze=getTimeout(Ke,Je);let Qe=null,St=0,ei=0;$e===TRANSITION?We>0&&(Qe=TRANSITION,St=We,ei=Xe.length):$e===ANIMATION?Ze>0&&(Qe=ANIMATION,St=Ze,ei=Je.length):(St=Math.max(We,Ze),Qe=St>0?We>Ze?TRANSITION:ANIMATION:null,ei=Qe?Qe===TRANSITION?Xe.length:Je.length:0);const ti=Qe===TRANSITION&&/\b(transform|all)(,|$)/.test(ze(`${TRANSITION}Property`).toString());return{type:Qe,timeout:St,propCount:ei,hasTransform:ti}}function getTimeout(je,$e){for(;je.length<$e.length;)je=je.concat(je);return Math.max(...$e.map((Ve,ze)=>toMs(Ve)+toMs(je[ze])))}function toMs(je){return je==="auto"?0:Number(je.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}function patchClass(je,$e,Ve){const ze=je[vtcKey];ze&&($e=($e?[$e,...ze]:[...ze]).join(" ")),$e==null?je.removeAttribute("class"):Ve?je.setAttribute("class",$e):je.className=$e}const vShowOldKey=Symbol("_vod"),vShow={beforeMount(je,{value:$e},{transition:Ve}){je[vShowOldKey]=je.style.display==="none"?"":je.style.display,Ve&&$e?Ve.beforeEnter(je):setDisplay(je,$e)},mounted(je,{value:$e},{transition:Ve}){Ve&&$e&&Ve.enter(je)},updated(je,{value:$e,oldValue:Ve},{transition:ze}){!$e!=!Ve&&(ze?$e?(ze.beforeEnter(je),setDisplay(je,!0),ze.enter(je)):ze.leave(je,()=>{setDisplay(je,!1)}):setDisplay(je,$e))},beforeUnmount(je,{value:$e}){setDisplay(je,$e)}};function setDisplay(je,$e){je.style.display=$e?je[vShowOldKey]:"none"}const CSS_VAR_TEXT=Symbol("");function patchStyle(je,$e,Ve){const ze=je.style,qe=isString(Ve);if(Ve&&!qe){if($e&&!isString($e))for(const Xe in $e)Ve[Xe]==null&&setStyle(ze,Xe,"");for(const Xe in Ve)setStyle(ze,Xe,Ve[Xe])}else{const Xe=ze.display;if(qe){if($e!==Ve){const We=ze[CSS_VAR_TEXT];We&&(Ve+=";"+We),ze.cssText=Ve}}else $e&&je.removeAttribute("style");vShowOldKey in je&&(ze.display=Xe)}}const importantRE=/\s*!important$/;function setStyle(je,$e,Ve){if(isArray$1(Ve))Ve.forEach(ze=>setStyle(je,$e,ze));else if(Ve==null&&(Ve=""),$e.startsWith("--"))je.setProperty($e,Ve);else{const ze=autoPrefix(je,$e);importantRE.test(Ve)?je.setProperty(hyphenate(ze),Ve.replace(importantRE,""),"important"):je[ze]=Ve}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(je,$e){const Ve=prefixCache[$e];if(Ve)return Ve;let ze=camelize($e);if(ze!=="filter"&&ze in je)return prefixCache[$e]=ze;ze=capitalize(ze);for(let qe=0;qe<prefixes.length;qe++){const Xe=prefixes[qe]+ze;if(Xe in je)return prefixCache[$e]=Xe}return $e}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(je,$e,Ve,ze,qe){if(ze&&$e.startsWith("xlink:"))Ve==null?je.removeAttributeNS(xlinkNS,$e.slice(6,$e.length)):je.setAttributeNS(xlinkNS,$e,Ve);else{const Xe=isSpecialBooleanAttr($e);Ve==null||Xe&&!includeBooleanAttr(Ve)?je.removeAttribute($e):je.setAttribute($e,Xe?"":Ve)}}function patchDOMProp(je,$e,Ve,ze,qe,Xe,We){if($e==="innerHTML"||$e==="textContent"){ze&&We(ze,qe,Xe),je[$e]=Ve??"";return}const Ke=je.tagName;if($e==="value"&&Ke!=="PROGRESS"&&!Ke.includes("-")){je._value=Ve;const Ze=Ke==="OPTION"?je.getAttribute("value"):je.value,Qe=Ve??"";Ze!==Qe&&(je.value=Qe),Ve==null&&je.removeAttribute($e);return}let Je=!1;if(Ve===""||Ve==null){const Ze=typeof je[$e];Ze==="boolean"?Ve=includeBooleanAttr(Ve):Ve==null&&Ze==="string"?(Ve="",Je=!0):Ze==="number"&&(Ve=0,Je=!0)}try{je[$e]=Ve}catch{}Je&&je.removeAttribute($e)}function addEventListener(je,$e,Ve,ze){je.addEventListener($e,Ve,ze)}function removeEventListener(je,$e,Ve,ze){je.removeEventListener($e,Ve,ze)}const veiKey=Symbol("_vei");function patchEvent(je,$e,Ve,ze,qe=null){const Xe=je[veiKey]||(je[veiKey]={}),We=Xe[$e];if(ze&&We)We.value=ze;else{const[Ke,Je]=parseName($e);if(ze){const Ze=Xe[$e]=createInvoker(ze,qe);addEventListener(je,Ke,Ze,Je)}else We&&(removeEventListener(je,Ke,We,Je),Xe[$e]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(je){let $e;if(optionsModifierRE.test(je)){$e={};let ze;for(;ze=je.match(optionsModifierRE);)je=je.slice(0,je.length-ze[0].length),$e[ze[0].toLowerCase()]=!0}return[je[2]===":"?je.slice(3):hyphenate(je.slice(2)),$e]}let cachedNow=0;const p$4=Promise.resolve(),getNow=()=>cachedNow||(p$4.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(je,$e){const Ve=ze=>{if(!ze._vts)ze._vts=Date.now();else if(ze._vts<=Ve.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(ze,Ve.value),$e,5,[ze])};return Ve.value=je,Ve.attached=getNow(),Ve}function patchStopImmediatePropagation(je,$e){if(isArray$1($e)){const Ve=je.stopImmediatePropagation;return je.stopImmediatePropagation=()=>{Ve.call(je),je._stopped=!0},$e.map(ze=>qe=>!qe._stopped&&ze&&ze(qe))}else return $e}const isNativeOn=je=>je.charCodeAt(0)===111&&je.charCodeAt(1)===110&&je.charCodeAt(2)>96&&je.charCodeAt(2)<123,patchProp=(je,$e,Ve,ze,qe=!1,Xe,We,Ke,Je)=>{$e==="class"?patchClass(je,ze,qe):$e==="style"?patchStyle(je,Ve,ze):isOn($e)?isModelListener($e)||patchEvent(je,$e,Ve,ze,We):($e[0]==="."?($e=$e.slice(1),!0):$e[0]==="^"?($e=$e.slice(1),!1):shouldSetAsProp(je,$e,ze,qe))?patchDOMProp(je,$e,ze,Xe,We,Ke,Je):($e==="true-value"?je._trueValue=ze:$e==="false-value"&&(je._falseValue=ze),patchAttr(je,$e,ze,qe))};function shouldSetAsProp(je,$e,Ve,ze){if(ze)return!!($e==="innerHTML"||$e==="textContent"||$e in je&&isNativeOn($e)&&isFunction(Ve));if($e==="spellcheck"||$e==="draggable"||$e==="translate"||$e==="form"||$e==="list"&&je.tagName==="INPUT"||$e==="type"&&je.tagName==="TEXTAREA")return!1;if($e==="width"||$e==="height"){const qe=je.tagName;if(qe==="IMG"||qe==="VIDEO"||qe==="CANVAS"||qe==="SOURCE")return!1}return isNativeOn($e)&&isString(Ve)?!1:$e in je}const getModelAssigner=je=>{const $e=je.props["onUpdate:modelValue"]||!1;return isArray$1($e)?Ve=>invokeArrayFns($e,Ve):$e};function onCompositionStart(je){je.target.composing=!0}function onCompositionEnd(je){const $e=je.target;$e.composing&&($e.composing=!1,$e.dispatchEvent(new Event("input")))}const assignKey=Symbol("_assign"),vModelText={created(je,{modifiers:{lazy:$e,trim:Ve,number:ze}},qe){je[assignKey]=getModelAssigner(qe);const Xe=ze||qe.props&&qe.props.type==="number";addEventListener(je,$e?"change":"input",We=>{if(We.target.composing)return;let Ke=je.value;Ve&&(Ke=Ke.trim()),Xe&&(Ke=looseToNumber(Ke)),je[assignKey](Ke)}),Ve&&addEventListener(je,"change",()=>{je.value=je.value.trim()}),$e||(addEventListener(je,"compositionstart",onCompositionStart),addEventListener(je,"compositionend",onCompositionEnd),addEventListener(je,"change",onCompositionEnd))},mounted(je,{value:$e}){je.value=$e??""},beforeUpdate(je,{value:$e,modifiers:{lazy:Ve,trim:ze,number:qe}},Xe){if(je[assignKey]=getModelAssigner(Xe),je.composing)return;const We=qe||je.type==="number"?looseToNumber(je.value):je.value,Ke=$e??"";We!==Ke&&(document.activeElement===je&&je.type!=="range"&&(Ve||ze&&je.value.trim()===Ke)||(je.value=Ke))}},vModelCheckbox={deep:!0,created(je,$e,Ve){je[assignKey]=getModelAssigner(Ve),addEventListener(je,"change",()=>{const ze=je._modelValue,qe=getValue(je),Xe=je.checked,We=je[assignKey];if(isArray$1(ze)){const Ke=looseIndexOf(ze,qe),Je=Ke!==-1;if(Xe&&!Je)We(ze.concat(qe));else if(!Xe&&Je){const Ze=[...ze];Ze.splice(Ke,1),We(Ze)}}else if(isSet(ze)){const Ke=new Set(ze);Xe?Ke.add(qe):Ke.delete(qe),We(Ke)}else We(getCheckboxValue(je,Xe))})},mounted:setChecked,beforeUpdate(je,$e,Ve){je[assignKey]=getModelAssigner(Ve),setChecked(je,$e,Ve)}};function setChecked(je,{value:$e,oldValue:Ve},ze){je._modelValue=$e,isArray$1($e)?je.checked=looseIndexOf($e,ze.props.value)>-1:isSet($e)?je.checked=$e.has(ze.props.value):$e!==Ve&&(je.checked=looseEqual($e,getCheckboxValue(je,!0)))}function getValue(je){return"_value"in je?je._value:je.value}function getCheckboxValue(je,$e){const Ve=$e?"_trueValue":"_falseValue";return Ve in je?je[Ve]:$e}const rendererOptions=extend$3({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...je)=>{const $e=ensureRenderer().createApp(...je),{mount:Ve}=$e;return $e.mount=ze=>{const qe=normalizeContainer(ze);if(!qe)return;const Xe=$e._component;!isFunction(Xe)&&!Xe.render&&!Xe.template&&(Xe.template=qe.innerHTML),qe.innerHTML="";const We=Ve(qe,!1,qe instanceof SVGElement);return qe instanceof Element&&(qe.removeAttribute("v-cloak"),qe.setAttribute("data-v-app","")),We},$e};function normalizeContainer(je){return isString(je)?document.querySelector(je):je}var Ye=Object.defineProperty,Ge=(je,$e,Ve)=>$e in je?Ye(je,$e,{enumerable:!0,configurable:!0,writable:!0,value:Ve}):je[$e]=Ve,D$1=(je,$e,Ve)=>(Ge(je,typeof $e!="symbol"?$e+"":$e,Ve),Ve),Fe=(je,$e,Ve)=>{if(!$e.has(je))throw TypeError("Cannot "+Ve)},Wt$1=(je,$e,Ve)=>(Fe(je,$e,"read from private field"),Ve?Ve.call(je):$e.get(je)),Le$1=(je,$e,Ve)=>{if($e.has(je))throw TypeError("Cannot add the same private member more than once");$e instanceof WeakSet?$e.add(je):$e.set(je,Ve)},we$1=(je,$e,Ve,ze)=>(Fe(je,$e,"write to private field"),ze?ze.call(je,Ve):$e.set(je,Ve),Ve),Be$1=(je,$e,Ve)=>(Fe(je,$e,"access private method"),Ve),DayOfWeek=(je=>(je[je.Sunday=0]="Sunday",je[je.Monday=1]="Monday",je[je.Tuesday=2]="Tuesday",je[je.Wednesday=3]="Wednesday",je[je.Thursday=4]="Thursday",je[je.Friday=5]="Friday",je[je.Saturday=6]="Saturday",je))(DayOfWeek||{});function groupBy(je,$e){return groupBy2(je,Ve=>Ve[$e])}function groupBy2(je,$e){return je.reduce((Ve,ze)=>{const qe=$e(ze);let Xe=Ve.get(qe);return Xe?Xe.push(ze):(Xe=[ze],Ve.set(qe,Xe)),Ve},new Map)}function indexOfAny(je,$e,Ve=0){for(let ze=Ve;ze<je.length;ze++)if($e.includes(je[ze]))return ze;return-1}function sortArray(je,$e){const Ve=(ze,qe,Xe,We)=>ze[Xe]>qe[Xe]?We.toUpperCase()=="DESC"?-1:1:ze[Xe]<qe[Xe]?We.toUpperCase()=="DESC"?1:-1:0;return[...je].sort((ze,qe)=>{for(const Xe of $e){const We=Ve(ze,qe,Xe[0],Xe[1]);if(We!==0)return We}return 0})}function create2DArray(je,$e,Ve){const ze=Array(je);for(let qe=0;qe<je;qe++)ze[qe]=new Array($e),Ve!==void 0&&ze[qe].fill(Ve);return ze}function arrayRemoveFirst(je,$e){const Ve=je.indexOf($e);return Ve>-1?(je.splice(Ve,1),!0):!1}function arrayRemoveIf(je,$e){let Ve=0;for(let ze=je.length-1;ze>=0;ze--)$e(je[ze])&&(je.splice(ze,1),Ve++);return Ve}function pushMany(je,$e){for(let Ve=0;Ve<$e.length;Ve++)je.push($e[Ve])}function getReversedCopy(je){if(!je||je.length===0)return[];const $e=[];return pushMany($e,je),$e.reverse()}function maxValueOfArray(je,...$e){let Ve=0;return je.length>=1e5?Ve=je.reduce(function(ze,qe){return Math.max(ze,qe)}):Ve=Math.max.apply(null,je),!$e||$e.length===0?Ve:Math.max(Ve,...$e)}function minValueOfArray(je,...$e){let Ve=0;return je.length>=1e5?Ve=je.reduce(function(ze,qe){return Math.min(ze,qe)}):Ve=Math.min.apply(null,je),!$e||$e.length===0?Ve:Math.min(Ve,...$e)}function arrayBufferToBase64(je){const $e=Array.from(je,Ve=>String.fromCharCode(Ve));return btoa($e.join(""))}function getEnumName(je,$e){return je[$e]}function getEnumKeys(je){return Object.keys(je).filter($e=>typeof je[$e]!="number").map($e=>Number($e))}const DateTime_MaxValue=new Date(9999,11,31,23,59,59,999),DateTime_MinValue=new Date(1,0,1,0,0,0,0);DateTime_MinValue.setUTCFullYear(1);DateTime_MinValue.setUTCMonth(0);DateTime_MinValue.setUTCDate(1);DateTime_MinValue.setUTCHours(0);DateTime_MinValue.setUTCMinutes(0);DateTime_MinValue.setUTCSeconds(0);DateTime_MinValue.setUTCMilliseconds(0);function formatTimeSpan(je,$e){let Ve="";if($e.includes("d")&&(Ve+=je.days.toString().padStart(2,"0")+":"),$e.includes("hh")&&(Ve+=je.hours.toString().padStart(2,"0")+":"),$e.includes("mm")&&(Ve+=je.minutes.toString().padStart(2,"0")+":"),$e.includes("ss")&&(Ve+=je.seconds.toString().padStart(2,"0")),!Ve)throw new Error("Invalid format");return Ve}var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$1(je){return je&&je.__esModule&&Object.prototype.hasOwnProperty.call(je,"default")?je.default:je}function getAugmentedNamespace(je){if(je.__esModule)return je;var $e=je.default;if(typeof $e=="function"){var Ve=function ze(){return this instanceof ze?Reflect.construct($e,arguments,this.constructor):$e.apply(this,arguments)};Ve.prototype=$e.prototype}else Ve={};return Object.defineProperty(Ve,"__esModule",{value:!0}),Object.keys(je).forEach(function(ze){var qe=Object.getOwnPropertyDescriptor(je,ze);Object.defineProperty(Ve,ze,qe.get?qe:{enumerable:!0,get:function(){return je[ze]}})}),Ve}var dayjs_min$1={exports:{}};(function(je,$e){(function(Ve,ze){je.exports=ze()})(commonjsGlobal$1,function(){var Ve=1e3,ze=6e4,qe=36e5,Xe="millisecond",We="second",Ke="minute",Je="hour",Ze="day",Qe="week",St="month",ei="quarter",ti="year",ni="date",oi="Invalid Date",ai=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,si=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,ri={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(vi){var Di=["th","st","nd","rd"],Ti=vi%100;return"["+vi+(Di[(Ti-20)%10]||Di[Ti]||Di[0])+"]"}},ii=function(vi,Di,Ti){var Fi=String(vi);return!Fi||Fi.length>=Di?vi:""+Array(Di+1-Fi.length).join(Ti)+vi},ui={s:ii,z:function(vi){var Di=-vi.utcOffset(),Ti=Math.abs(Di),Fi=Math.floor(Ti/60),Ci=Ti%60;return(Di<=0?"+":"-")+ii(Fi,2,"0")+":"+ii(Ci,2,"0")},m:function vi(Di,Ti){if(Di.date()<Ti.date())return-vi(Ti,Di);var Fi=12*(Ti.year()-Di.year())+(Ti.month()-Di.month()),Ci=Di.clone().add(Fi,St),Ni=Ti-Ci<0,Ri=Di.clone().add(Fi+(Ni?-1:1),St);return+(-(Fi+(Ti-Ci)/(Ni?Ci-Ri:Ri-Ci))||0)},a:function(vi){return vi<0?Math.ceil(vi)||0:Math.floor(vi)},p:function(vi){return{M:St,y:ti,w:Qe,d:Ze,D:ni,h:Je,m:Ke,s:We,ms:Xe,Q:ei}[vi]||String(vi||"").toLowerCase().replace(/s$/,"")},u:function(vi){return vi===void 0}},ci="en",hi={};hi[ci]=ri;var mi="$isDayjsObject",di=function(vi){return vi instanceof xi||!(!vi||!vi[mi])},fi=function vi(Di,Ti,Fi){var Ci;if(!Di)return ci;if(typeof Di=="string"){var Ni=Di.toLowerCase();hi[Ni]&&(Ci=Ni),Ti&&(hi[Ni]=Ti,Ci=Ni);var Ri=Di.split("-");if(!Ci&&Ri.length>1)return vi(Ri[0])}else{var Yi=Di.name;hi[Yi]=Di,Ci=Yi}return!Fi&&Ci&&(ci=Ci),Ci||!Fi&&ci},yi=function(vi,Di){if(di(vi))return vi.clone();var Ti=typeof Di=="object"?Di:{};return Ti.date=vi,Ti.args=arguments,new xi(Ti)},pi=ui;pi.l=fi,pi.i=di,pi.w=function(vi,Di){return yi(vi,{locale:Di.$L,utc:Di.$u,x:Di.$x,$offset:Di.$offset})};var xi=function(){function vi(Ti){this.$L=fi(Ti.locale,null,!0),this.parse(Ti),this.$x=this.$x||Ti.x||{},this[mi]=!0}var Di=vi.prototype;return Di.parse=function(Ti){this.$d=function(Fi){var Ci=Fi.date,Ni=Fi.utc;if(Ci===null)return new Date(NaN);if(pi.u(Ci))return new Date;if(Ci instanceof Date)return new Date(Ci);if(typeof Ci=="string"&&!/Z$/i.test(Ci)){var Ri=Ci.match(ai);if(Ri){var Yi=Ri[2]-1||0,ki=(Ri[7]||"0").substring(0,3);return Ni?new Date(Date.UTC(Ri[1],Yi,Ri[3]||1,Ri[4]||0,Ri[5]||0,Ri[6]||0,ki)):new Date(Ri[1],Yi,Ri[3]||1,Ri[4]||0,Ri[5]||0,Ri[6]||0,ki)}}return new Date(Ci)}(Ti),this.init()},Di.init=function(){var Ti=this.$d;this.$y=Ti.getFullYear(),this.$M=Ti.getMonth(),this.$D=Ti.getDate(),this.$W=Ti.getDay(),this.$H=Ti.getHours(),this.$m=Ti.getMinutes(),this.$s=Ti.getSeconds(),this.$ms=Ti.getMilliseconds()},Di.$utils=function(){return pi},Di.isValid=function(){return this.$d.toString()!==oi},Di.isSame=function(Ti,Fi){var Ci=yi(Ti);return this.startOf(Fi)<=Ci&&Ci<=this.endOf(Fi)},Di.isAfter=function(Ti,Fi){return yi(Ti)<this.startOf(Fi)},Di.isBefore=function(Ti,Fi){return this.endOf(Fi)<yi(Ti)},Di.$g=function(Ti,Fi,Ci){return pi.u(Ti)?this[Fi]:this.set(Ci,Ti)},Di.unix=function(){return Math.floor(this.valueOf()/1e3)},Di.valueOf=function(){return this.$d.getTime()},Di.startOf=function(Ti,Fi){var Ci=this,Ni=!!pi.u(Fi)||Fi,Ri=pi.p(Ti),Yi=function(Ji,Li){var wi=pi.w(Ci.$u?Date.UTC(Ci.$y,Li,Ji):new Date(Ci.$y,Li,Ji),Ci);return Ni?wi:wi.endOf(Ze)},ki=function(Ji,Li){return pi.w(Ci.toDate()[Ji].apply(Ci.toDate("s"),(Ni?[0,0,0,0]:[23,59,59,999]).slice(Li)),Ci)},ji=this.$W,Vi=this.$M,Bi=this.$D,Xi="set"+(this.$u?"UTC":"");switch(Ri){case ti:return Ni?Yi(1,0):Yi(31,11);case St:return Ni?Yi(1,Vi):Yi(0,Vi+1);case Qe:var en=this.$locale().weekStart||0,tn=(ji<en?ji+7:ji)-en;return Yi(Ni?Bi-tn:Bi+(6-tn),Vi);case Ze:case ni:return ki(Xi+"Hours",0);case Je:return ki(Xi+"Minutes",1);case Ke:return ki(Xi+"Seconds",2);case We:return ki(Xi+"Milliseconds",3);default:return this.clone()}},Di.endOf=function(Ti){return this.startOf(Ti,!1)},Di.$set=function(Ti,Fi){var Ci,Ni=pi.p(Ti),Ri="set"+(this.$u?"UTC":""),Yi=(Ci={},Ci[Ze]=Ri+"Date",Ci[ni]=Ri+"Date",Ci[St]=Ri+"Month",Ci[ti]=Ri+"FullYear",Ci[Je]=Ri+"Hours",Ci[Ke]=Ri+"Minutes",Ci[We]=Ri+"Seconds",Ci[Xe]=Ri+"Milliseconds",Ci)[Ni],ki=Ni===Ze?this.$D+(Fi-this.$W):Fi;if(Ni===St||Ni===ti){var ji=this.clone().set(ni,1);ji.$d[Yi](ki),ji.init(),this.$d=ji.set(ni,Math.min(this.$D,ji.daysInMonth())).$d}else Yi&&this.$d[Yi](ki);return this.init(),this},Di.set=function(Ti,Fi){return this.clone().$set(Ti,Fi)},Di.get=function(Ti){return this[pi.p(Ti)]()},Di.add=function(Ti,Fi){var Ci,Ni=this;Ti=Number(Ti);var Ri=pi.p(Fi),Yi=function(Vi){var Bi=yi(Ni);return pi.w(Bi.date(Bi.date()+Math.round(Vi*Ti)),Ni)};if(Ri===St)return this.set(St,this.$M+Ti);if(Ri===ti)return this.set(ti,this.$y+Ti);if(Ri===Ze)return Yi(1);if(Ri===Qe)return Yi(7);var ki=(Ci={},Ci[Ke]=ze,Ci[Je]=qe,Ci[We]=Ve,Ci)[Ri]||1,ji=this.$d.getTime()+Ti*ki;return pi.w(ji,this)},Di.subtract=function(Ti,Fi){return this.add(-1*Ti,Fi)},Di.format=function(Ti){var Fi=this,Ci=this.$locale();if(!this.isValid())return Ci.invalidDate||oi;var Ni=Ti||"YYYY-MM-DDTHH:mm:ssZ",Ri=pi.z(this),Yi=this.$H,ki=this.$m,ji=this.$M,Vi=Ci.weekdays,Bi=Ci.months,Xi=Ci.meridiem,en=function(Li,wi,_i,Ai){return Li&&(Li[wi]||Li(Fi,Ni))||_i[wi].slice(0,Ai)},tn=function(Li){return pi.s(Yi%12||12,Li,"0")},Ji=Xi||function(Li,wi,_i){var Ai=Li<12?"AM":"PM";return _i?Ai.toLowerCase():Ai};return Ni.replace(si,function(Li,wi){return wi||function(_i){switch(_i){case"YY":return String(Fi.$y).slice(-2);case"YYYY":return pi.s(Fi.$y,4,"0");case"M":return ji+1;case"MM":return pi.s(ji+1,2,"0");case"MMM":return en(Ci.monthsShort,ji,Bi,3);case"MMMM":return en(Bi,ji);case"D":return Fi.$D;case"DD":return pi.s(Fi.$D,2,"0");case"d":return String(Fi.$W);case"dd":return en(Ci.weekdaysMin,Fi.$W,Vi,2);case"ddd":return en(Ci.weekdaysShort,Fi.$W,Vi,3);case"dddd":return Vi[Fi.$W];case"H":return String(Yi);case"HH":return pi.s(Yi,2,"0");case"h":return tn(1);case"hh":return tn(2);case"a":return Ji(Yi,ki,!0);case"A":return Ji(Yi,ki,!1);case"m":return String(ki);case"mm":return pi.s(ki,2,"0");case"s":return String(Fi.$s);case"ss":return pi.s(Fi.$s,2,"0");case"SSS":return pi.s(Fi.$ms,3,"0");case"Z":return Ri}return null}(Li)||Ri.replace(":","")})},Di.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Di.diff=function(Ti,Fi,Ci){var Ni,Ri=this,Yi=pi.p(Fi),ki=yi(Ti),ji=(ki.utcOffset()-this.utcOffset())*ze,Vi=this-ki,Bi=function(){return pi.m(Ri,ki)};switch(Yi){case ti:Ni=Bi()/12;break;case St:Ni=Bi();break;case ei:Ni=Bi()/3;break;case Qe:Ni=(Vi-ji)/6048e5;break;case Ze:Ni=(Vi-ji)/864e5;break;case Je:Ni=Vi/qe;break;case Ke:Ni=Vi/ze;break;case We:Ni=Vi/Ve;break;default:Ni=Vi}return Ci?Ni:pi.a(Ni)},Di.daysInMonth=function(){return this.endOf(St).$D},Di.$locale=function(){return hi[this.$L]},Di.locale=function(Ti,Fi){if(!Ti)return this.$L;var Ci=this.clone(),Ni=fi(Ti,Fi,!0);return Ni&&(Ci.$L=Ni),Ci},Di.clone=function(){return pi.w(this.$d,this)},Di.toDate=function(){return new Date(this.valueOf())},Di.toJSON=function(){return this.isValid()?this.toISOString():null},Di.toISOString=function(){return this.$d.toISOString()},Di.toString=function(){return this.$d.toUTCString()},vi}(),Si=xi.prototype;return yi.prototype=Si,[["$ms",Xe],["$s",We],["$m",Ke],["$H",Je],["$W",Ze],["$M",St],["$y",ti],["$D",ni]].forEach(function(vi){Si[vi[1]]=function(Di){return this.$g(Di,vi[0],vi[1])}}),yi.extend=function(vi,Di){return vi.$i||(vi(Di,xi,yi),vi.$i=!0),yi},yi.locale=fi,yi.isDayjs=di,yi.unix=function(vi){return yi(1e3*vi)},yi.en=hi[ci],yi.Ls=hi,yi.p={},yi})})(dayjs_min$1);var dayjs_minExports$1=dayjs_min$1.exports;const dayjs$1=getDefaultExportFromCjs$1(dayjs_minExports$1);var utc$1={exports:{}};(function(je,$e){(function(Ve,ze){je.exports=ze()})(commonjsGlobal$1,function(){var Ve="minute",ze=/[+-]\d\d(?::?\d\d)?/g,qe=/([+-]|\d\d)/g;return function(Xe,We,Ke){var Je=We.prototype;Ke.utc=function(oi){var ai={date:oi,utc:!0,args:arguments};return new We(ai)},Je.utc=function(oi){var ai=Ke(this.toDate(),{locale:this.$L,utc:!0});return oi?ai.add(this.utcOffset(),Ve):ai},Je.local=function(){return Ke(this.toDate(),{locale:this.$L,utc:!1})};var Ze=Je.parse;Je.parse=function(oi){oi.utc&&(this.$u=!0),this.$utils().u(oi.$offset)||(this.$offset=oi.$offset),Ze.call(this,oi)};var Qe=Je.init;Je.init=function(){if(this.$u){var oi=this.$d;this.$y=oi.getUTCFullYear(),this.$M=oi.getUTCMonth(),this.$D=oi.getUTCDate(),this.$W=oi.getUTCDay(),this.$H=oi.getUTCHours(),this.$m=oi.getUTCMinutes(),this.$s=oi.getUTCSeconds(),this.$ms=oi.getUTCMilliseconds()}else Qe.call(this)};var St=Je.utcOffset;Je.utcOffset=function(oi,ai){var si=this.$utils().u;if(si(oi))return this.$u?0:si(this.$offset)?St.call(this):this.$offset;if(typeof oi=="string"&&(oi=function(ci){ci===void 0&&(ci="");var hi=ci.match(ze);if(!hi)return null;var mi=(""+hi[0]).match(qe)||["-",0,0],di=mi[0],fi=60*+mi[1]+ +mi[2];return fi===0?0:di==="+"?fi:-fi}(oi),oi===null))return this;var ri=Math.abs(oi)<=16?60*oi:oi,ii=this;if(ai)return ii.$offset=ri,ii.$u=oi===0,ii;if(oi!==0){var ui=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(ii=this.local().add(ri+ui,Ve)).$offset=ri,ii.$x.$localOffset=ui}else ii=this.utc();return ii};var ei=Je.format;Je.format=function(oi){var ai=oi||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return ei.call(this,ai)},Je.valueOf=function(){var oi=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*oi},Je.isUTC=function(){return!!this.$u},Je.toISOString=function(){return this.toDate().toISOString()},Je.toString=function(){return this.toDate().toUTCString()};var ti=Je.toDate;Je.toDate=function(oi){return oi==="s"&&this.$offset?Ke(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():ti.call(this)};var ni=Je.diff;Je.diff=function(oi,ai,si){if(oi&&this.$u===oi.$u)return ni.call(this,oi,ai,si);var ri=this.local(),ii=Ke(oi).local();return ni.call(ri,ii,ai,si)}}})})(utc$1);var utcExports=utc$1.exports;const utc=getDefaultExportFromCjs$1(utcExports);var timezone$1={exports:{}};(function(je,$e){(function(Ve,ze){je.exports=ze()})(commonjsGlobal$1,function(){var Ve={year:0,month:1,day:2,hour:3,minute:4,second:5},ze={};return function(qe,Xe,We){var Ke,Je=function(ei,ti,ni){ni===void 0&&(ni={});var oi=new Date(ei),ai=function(si,ri){ri===void 0&&(ri={});var ii=ri.timeZoneName||"short",ui=si+"|"+ii,ci=ze[ui];return ci||(ci=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:si,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:ii}),ze[ui]=ci),ci}(ti,ni);return ai.formatToParts(oi)},Ze=function(ei,ti){for(var ni=Je(ei,ti),oi=[],ai=0;ai<ni.length;ai+=1){var si=ni[ai],ri=si.type,ii=si.value,ui=Ve[ri];ui>=0&&(oi[ui]=parseInt(ii,10))}var ci=oi[3],hi=ci===24?0:ci,mi=oi[0]+"-"+oi[1]+"-"+oi[2]+" "+hi+":"+oi[4]+":"+oi[5]+":000",di=+ei;return(We.utc(mi).valueOf()-(di-=di%1e3))/6e4},Qe=Xe.prototype;Qe.tz=function(ei,ti){ei===void 0&&(ei=Ke);var ni=this.utcOffset(),oi=this.toDate(),ai=oi.toLocaleString("en-US",{timeZone:ei}),si=Math.round((oi-new Date(ai))/1e3/60),ri=We(ai,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(15*-Math.round(oi.getTimezoneOffset()/15)-si,!0);if(ti){var ii=ri.utcOffset();ri=ri.add(ni-ii,"minute")}return ri.$x.$timezone=ei,ri},Qe.offsetName=function(ei){var ti=this.$x.$timezone||We.tz.guess(),ni=Je(this.valueOf(),ti,{timeZoneName:ei}).find(function(oi){return oi.type.toLowerCase()==="timezonename"});return ni&&ni.value};var St=Qe.startOf;Qe.startOf=function(ei,ti){if(!this.$x||!this.$x.$timezone)return St.call(this,ei,ti);var ni=We(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return St.call(ni,ei,ti).tz(this.$x.$timezone,!0)},We.tz=function(ei,ti,ni){var oi=ni&&ti,ai=ni||ti||Ke,si=Ze(+We(),ai);if(typeof ei!="string")return We(ei).tz(ai);var ri=function(hi,mi,di){var fi=hi-60*mi*1e3,yi=Ze(fi,di);if(mi===yi)return[fi,mi];var pi=Ze(fi-=60*(yi-mi)*1e3,di);return yi===pi?[fi,yi]:[hi-60*Math.min(yi,pi)*1e3,Math.max(yi,pi)]}(We.utc(ei,oi).valueOf(),si,ai),ii=ri[0],ui=ri[1],ci=We(ii).utcOffset(ui);return ci.$x.$timezone=ai,ci},We.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},We.tz.setDefault=function(ei){Ke=ei}}})})(timezone$1);var timezoneExports=timezone$1.exports;const timezone=getDefaultExportFromCjs$1(timezoneExports);function getDateService(){return DefaultDateService}dayjs$1.extend(utc);dayjs$1.extend(timezone);const DefaultDateService={format:(je,$e)=>dayjs$1(je).format($e),convertTime:(je,$e)=>dayjs$1(je).tz($e).toDate(),addYears:(je,$e)=>dayjs$1(je).add($e,"year").toDate(),addMonths:(je,$e)=>dayjs$1(je).add($e,"month").toDate(),addTimespan:(je,$e)=>{let Ve=dayjs$1(je);return $e.days&&(Ve=Ve.add($e.days,"day")),$e.hours&&(Ve=Ve.add($e.hours,"hour")),$e.minutes&&(Ve=Ve.add($e.minutes,"minute")),$e.seconds&&(Ve=Ve.add($e.seconds,"second")),$e.milliseconds&&(Ve=Ve.add($e.milliseconds,"millisecond")),Ve.toDate()},dayOfWeek:je=>dayjs$1(je).day(),diff:(je,$e)=>{const Ve=dayjs$1(je).diff(dayjs$1($e));return TimeSpan.fromMilliseconds(Ve)}},bitMethods={getBit(je){return this.data[getSlot(je)]&1<<getShift(je)?1:0},setBit(je){this.data[getSlot(je)]|=1<<getShift(je)},clearBit(je){this.data[getSlot(je)]&=~(1<<getShift(je))},toggleBit(je){this.data[getSlot(je)]^=1<<getShift(je)},getBitXY(je,$e){return je>=this.width||$e>=this.height?0:this.getBit($e*this.width+je)},setBitXY(je,$e){this.setBit($e*this.width+je)},clearBitXY(je,$e){this.clearBit($e*this.width+je)},toggleBitXY(je,$e){this.toggleBit($e*this.width+je)}};function getSlot(je){return je>>3}function getShift(je){return 7-(je&7)}function setBitMethods(je){for(const $e in bitMethods)je.prototype[$e]=bitMethods[$e]}function checkProcessable(je,$e={}){let{bitDepth:Ve,alpha:ze,colorModel:qe,components:Xe,channels:We}=$e;if(typeof je!="string"||je.length===0)throw new TypeError("processName must be a string");if(Ve&&(Array.isArray(Ve)||(Ve=[Ve]),!Ve.includes(this.bitDepth)))throw new TypeError(`The process: ${je} can only be applied if bit depth is in: ${Ve}`);if(ze&&(Array.isArray(ze)||(ze=[ze]),!ze.includes(this.alpha)))throw new TypeError(`The process: ${je} can only be applied if alpha is in: ${ze}`);if(qe&&(Array.isArray(qe)||(qe=[qe]),!qe.includes(this.colorModel)))throw new TypeError(`The process: ${je} can only be applied if color model is in: ${qe}`);if(Xe&&(Array.isArray(Xe)||(Xe=[Xe]),!Xe.includes(this.components))){let Ke=`The process: ${je} can only be applied if the number of components is in: ${Xe}`;throw Xe.length===1&&Xe[0]===1?new TypeError(`${Ke}.\rYou should transform your image using "image.grey()" before applying the algorithm.`):new TypeError(Ke)}if(We&&(Array.isArray(We)||(We=[We]),!We.includes(this.channels)))throw new TypeError(`The process: ${je} can only be applied if the number of channels is in: ${We}`)}function createBlob(je,$e){je=je||[],$e=$e||{},typeof $e=="string"&&($e={type:$e});try{return new Blob(je,$e)}catch(Xe){if(Xe.name!=="TypeError")throw Xe;for(var Ve=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,ze=new Ve,qe=0;qe<je.length;qe+=1)ze.append(je[qe]);return ze.getBlob($e.type)}}function dataURLToBlob(je){var $e=je.match(/data:([^;]+)/)[1],Ve=je.replace(/^[^,]+,/,""),ze=binaryStringToArrayBuffer(atob(Ve));return createBlob([ze],{type:$e})}function canvasToBlob(je,$e,Ve){return typeof je.toBlob=="function"?new Promise(function(ze){je.toBlob(ze,$e,Ve)}):Promise.resolve(dataURLToBlob(je.toDataURL($e,Ve)))}function binaryStringToArrayBuffer(je){for(var $e=je.length,Ve=new ArrayBuffer($e),ze=new Uint8Array(Ve),qe=-1;++qe<$e;)ze[qe]=je.charCodeAt(qe);return Ve}(function(je){if(je.TextEncoder&&je.TextDecoder)return!1;function $e(ze="utf-8"){if(ze!=="utf-8")throw new RangeError(`Failed to construct 'TextEncoder': The encoding label provided ('${ze}') is invalid.`)}Object.defineProperty($e.prototype,"encoding",{value:"utf-8"}),$e.prototype.encode=function(ze,qe={stream:!1}){if(qe.stream)throw new Error("Failed to encode: the 'stream' option is unsupported.");let Xe=0;const We=ze.length;let Ke=0,Je=Math.max(32,We+(We>>1)+7),Ze=new Uint8Array(Je>>3<<3);for(;Xe<We;){let Qe=ze.charCodeAt(Xe++);if(Qe>=55296&&Qe<=56319){if(Xe<We){const St=ze.charCodeAt(Xe);(St&64512)===56320&&(++Xe,Qe=((Qe&1023)<<10)+(St&1023)+65536)}if(Qe>=55296&&Qe<=56319)continue}if(Ke+4>Ze.length){Je+=8,Je*=1+Xe/ze.length*2,Je=Je>>3<<3;const St=new Uint8Array(Je);St.set(Ze),Ze=St}if(Qe&4294967168)if(!(Qe&4294965248))Ze[Ke++]=Qe>>6&31|192;else if(!(Qe&4294901760))Ze[Ke++]=Qe>>12&15|224,Ze[Ke++]=Qe>>6&63|128;else if(!(Qe&4292870144))Ze[Ke++]=Qe>>18&7|240,Ze[Ke++]=Qe>>12&63|128,Ze[Ke++]=Qe>>6&63|128;else continue;else{Ze[Ke++]=Qe;continue}Ze[Ke++]=Qe&63|128}return Ze.slice(0,Ke)};function Ve(ze="utf-8",qe={fatal:!1}){if(ze!=="utf-8")throw new RangeError(`Failed to construct 'TextDecoder': The encoding label provided ('${ze}') is invalid.`);if(qe.fatal)throw new Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}Object.defineProperty(Ve.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(Ve.prototype,"fatal",{value:!1}),Object.defineProperty(Ve.prototype,"ignoreBOM",{value:!1}),Ve.prototype.decode=function(ze,qe={stream:!1}){if(qe.stream)throw new Error("Failed to decode: the 'stream' option is unsupported.");const Xe=new Uint8Array(ze);let We=0;const Ke=Xe.length,Je=[];for(;We<Ke;){const Ze=Xe[We++];if(Ze===0)break;if(!(Ze&128))Je.push(Ze);else if((Ze&224)===192){const Qe=Xe[We++]&63;Je.push((Ze&31)<<6|Qe)}else if((Ze&240)===224){const Qe=Xe[We++]&63,St=Xe[We++]&63;Je.push((Ze&31)<<12|Qe<<6|St)}else if((Ze&248)===240){const Qe=Xe[We++]&63,St=Xe[We++]&63,ei=Xe[We++]&63;let ti=(Ze&7)<<18|Qe<<12|St<<6|ei;ti>65535&&(ti-=65536,Je.push(ti>>>10&1023|55296),ti=56320|ti&1023),Je.push(ti)}}return String.fromCharCode.apply(null,Je)},je.TextEncoder=$e,je.TextDecoder=Ve})(typeof window<"u"?window:typeof self<"u"?self:void 0);function decode$5(je,$e="utf8"){return new TextDecoder($e).decode(je)}const encoder$1=new TextEncoder;function encode$3(je){return encoder$1.encode(je)}const defaultByteLength$1=1024*8,hostBigEndian=(()=>{const je=new Uint8Array(4),$e=new Uint32Array(je.buffer);return!(($e[0]=1)&je[0])})(),typedArrays={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};let IOBuffer$4=class Iu{constructor($e=defaultByteLength$1,Ve={}){let ze=!1;typeof $e=="number"?$e=new ArrayBuffer($e):(ze=!0,this.lastWrittenByte=$e.byteLength);const qe=Ve.offset?Ve.offset>>>0:0,Xe=$e.byteLength-qe;let We=qe;(ArrayBuffer.isView($e)||$e instanceof Iu)&&($e.byteLength!==$e.buffer.byteLength&&(We=$e.byteOffset+qe),$e=$e.buffer),ze?this.lastWrittenByte=Xe:this.lastWrittenByte=0,this.buffer=$e,this.length=Xe,this.byteLength=Xe,this.byteOffset=We,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,We,Xe),this._mark=0,this._marks=[]}available($e=1){return this.offset+$e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip($e=1){return this.offset+=$e,this}back($e=1){return this.offset-=$e,this}seek($e){return this.offset=$e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const $e=this._marks.pop();if($e===void 0)throw new Error("Mark stack empty");return this.seek($e),this}rewind(){return this.offset=0,this}ensureAvailable($e=1){if(!this.available($e)){const Ve=(this.offset+$e)*2,ze=new Uint8Array(Ve);ze.set(new Uint8Array(this.buffer)),this.buffer=ze.buffer,this.length=this.byteLength=Ve,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes($e=1){return this.readArray($e,"uint8")}readArray($e,Ve){const ze=typedArrays[Ve].BYTES_PER_ELEMENT*$e,qe=this.byteOffset+this.offset,Xe=this.buffer.slice(qe,qe+ze);if(this.littleEndian===hostBigEndian&&Ve!=="uint8"&&Ve!=="int8"){const Ke=new Uint8Array(this.buffer.slice(qe,qe+ze));Ke.reverse();const Je=new typedArrays[Ve](Ke.buffer);return this.offset+=ze,Je.reverse(),Je}const We=new typedArrays[Ve](Xe);return this.offset+=ze,We}readInt16(){const $e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,$e}readUint16(){const $e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,$e}readInt32(){const $e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,$e}readUint32(){const $e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,$e}readFloat32(){const $e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,$e}readFloat64(){const $e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,$e}readBigInt64(){const $e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,$e}readBigUint64(){const $e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,$e}readChar(){return String.fromCharCode(this.readInt8())}readChars($e=1){let Ve="";for(let ze=0;ze<$e;ze++)Ve+=this.readChar();return Ve}readUtf8($e=1){return decode$5(this.readBytes($e))}decodeText($e=1,Ve="utf-8"){return decode$5(this.readBytes($e),Ve)}writeBoolean($e){return this.writeUint8($e?255:0),this}writeInt8($e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,$e),this._updateLastWrittenByte(),this}writeUint8($e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,$e),this._updateLastWrittenByte(),this}writeByte($e){return this.writeUint8($e)}writeBytes($e){this.ensureAvailable($e.length);for(let Ve=0;Ve<$e.length;Ve++)this._data.setUint8(this.offset++,$e[Ve]);return this._updateLastWrittenByte(),this}writeInt16($e){return this.ensureAvailable(2),this._data.setInt16(this.offset,$e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16($e){return this.ensureAvailable(2),this._data.setUint16(this.offset,$e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32($e){return this.ensureAvailable(4),this._data.setInt32(this.offset,$e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32($e){return this.ensureAvailable(4),this._data.setUint32(this.offset,$e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32($e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,$e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64($e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,$e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64($e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,$e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64($e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,$e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar($e){return this.writeUint8($e.charCodeAt(0))}writeChars($e){for(let Ve=0;Ve<$e.length;Ve++)this.writeUint8($e.charCodeAt(Ve));return this}writeUtf8($e){return this.writeBytes(encode$3($e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}};const IOBuffer$5=Object.freeze(Object.defineProperty({__proto__:null,IOBuffer:IOBuffer$4},Symbol.toStringTag,{value:"Module"})),require$$0$3=getAugmentedNamespace(IOBuffer$5);var constants$4={BITMAPV5HEADER:{LogicalColorSpace:{LCS_CALIBRATED_RGB:0,LCS_sRGB:1934772034,LCS_WINDOWS_COLOR_SPACE:1466527264},Compression:{BI_RGB:0,BI_RLE8:1,BI_RLE4:2,BI_BITFIELDS:3,BI_JPEG:4,BI_PNG:5,BI_CMYK:11,BI_CMYKRLE8:12,BI_CMYKRLE4:13},GamutMappingIntent:{LCS_GM_ABS_COLORIMETRIC:8,LCS_GM_BUSINESS:1,LCS_GM_GRAPHICS:2,LCS_GM_IMAGES:4}}};const{IOBuffer:IOBuffer$3}=require$$0$3,constants$3=constants$4,tableLeft=[];for(let je=0;je<=8;je++)tableLeft.push(255<<je);class BMPEncoder extends IOBuffer$3{constructor($e){if($e.bitDepth!==1)throw new Error("Only bitDepth of 1 is supported");if(!$e.height||!$e.width)throw new Error("ImageData width and height are required");super($e.data),this.width=$e.width,this.height=$e.height,this.bitDepth=$e.bitDepth,this.channels=$e.channels,this.components=$e.components}encode(){this.encoded=new IOBuffer$3,this.encoded.skip(14),this.writeBitmapV5Header(),this.writeColorTable();const $e=this.encoded.offset;return this.writePixelArray(),this.encoded.rewind(),this.writeBitmapFileHeader($e),this.encoded.toArray()}writePixelArray(){let $e=this.encoded;const Ve=Math.floor((this.bitDepth*this.width+31)/32)*4,ze=Math.ceil(this.bitDepth*this.width/8),qe=Ve-ze,Xe=this.bitDepth*this.width%8,We=Xe===0?0:8-Xe,Ke=Ve*this.height;let Je,Ze,Qe=0,St=0,ei=8;$e.mark(),Ze=this.readUint8();for(let ti=this.height-1;ti>=0;ti--){const ni=ti===0;$e.reset(),$e.skip(ti*Ve);for(let oi=0;oi<ze;oi++){const ai=oi===ze-1;St<=We&&ai?($e.writeByte(Ze<<St),(We===0||We===St)&&!ni&&(Je=Ze,Ze=this.readByte())):St===0?(Je=Ze,Ze=this.readUint8(),$e.writeByte(Je)):(Je=Ze,Ze=this.readUint8(),$e.writeByte(Je<<St&tableLeft[St]|Ze>>ei)),ai&&(Qe+=Xe||0,$e.skip(qe),St=Qe%8,ei=8-St)}}Ve>ze&&($e.reset(),$e.skip(Ke-1),$e.writeUint8(0))}writeColorTable(){this.encoded.writeUint32(0).writeUint32(16777215)}writeBitmapFileHeader($e){this.encoded.writeChars("BM").writeInt32(this.encoded.lastWrittenByte).writeUint16(0).writeUint16(0).writeUint32($e)}writeBitmapV5Header(){const $e=Math.floor((this.bitDepth*this.width+31)/32)*4*this.height;this.encoded.writeUint32(124).writeInt32(this.width).writeInt32(this.height).writeUint16(1).writeUint16(this.bitDepth).writeUint32(constants$3.BITMAPV5HEADER.Compression.BI_RGB).writeUint32($e).writeInt32(0).writeInt32(0).writeUint32(Math.pow(2,this.bitDepth)).writeUint32(Math.pow(2,this.bitDepth)).writeUint32(4278190080).writeUint32(16711680).writeUint32(65280).writeUint32(255).writeUint32(constants$3.BITMAPV5HEADER.LogicalColorSpace.LCS_sRGB).skip(36).skip(12).writeUint32(constants$3.BITMAPV5HEADER.GamutMappingIntent.LCS_GM_IMAGES).skip(12)}}var BMPEncoder_1=BMPEncoder;const Encoder=BMPEncoder_1;var encode$2=function(je){return new Encoder(je).encode()};/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(je){let $e=je.length;for(;--$e>=0;)je[$e]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(je,$e,Ve,ze,qe){this.static_tree=je,this.extra_bits=$e,this.extra_base=Ve,this.elems=ze,this.max_length=qe,this.has_stree=je&&je.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(je,$e){this.dyn_tree=je,this.max_code=0,this.stat_desc=$e}const d_code=je=>je<256?_dist_code[je]:_dist_code[256+(je>>>7)],put_short=(je,$e)=>{je.pending_buf[je.pending++]=$e&255,je.pending_buf[je.pending++]=$e>>>8&255},send_bits=(je,$e,Ve)=>{je.bi_valid>Buf_size-Ve?(je.bi_buf|=$e<<je.bi_valid&65535,put_short(je,je.bi_buf),je.bi_buf=$e>>Buf_size-je.bi_valid,je.bi_valid+=Ve-Buf_size):(je.bi_buf|=$e<<je.bi_valid&65535,je.bi_valid+=Ve)},send_code=(je,$e,Ve)=>{send_bits(je,Ve[$e*2],Ve[$e*2+1])},bi_reverse=(je,$e)=>{let Ve=0;do Ve|=je&1,je>>>=1,Ve<<=1;while(--$e>0);return Ve>>>1},bi_flush=je=>{je.bi_valid===16?(put_short(je,je.bi_buf),je.bi_buf=0,je.bi_valid=0):je.bi_valid>=8&&(je.pending_buf[je.pending++]=je.bi_buf&255,je.bi_buf>>=8,je.bi_valid-=8)},gen_bitlen=(je,$e)=>{const Ve=$e.dyn_tree,ze=$e.max_code,qe=$e.stat_desc.static_tree,Xe=$e.stat_desc.has_stree,We=$e.stat_desc.extra_bits,Ke=$e.stat_desc.extra_base,Je=$e.stat_desc.max_length;let Ze,Qe,St,ei,ti,ni,oi=0;for(ei=0;ei<=MAX_BITS$1;ei++)je.bl_count[ei]=0;for(Ve[je.heap[je.heap_max]*2+1]=0,Ze=je.heap_max+1;Ze<HEAP_SIZE$1;Ze++)Qe=je.heap[Ze],ei=Ve[Ve[Qe*2+1]*2+1]+1,ei>Je&&(ei=Je,oi++),Ve[Qe*2+1]=ei,!(Qe>ze)&&(je.bl_count[ei]++,ti=0,Qe>=Ke&&(ti=We[Qe-Ke]),ni=Ve[Qe*2],je.opt_len+=ni*(ei+ti),Xe&&(je.static_len+=ni*(qe[Qe*2+1]+ti)));if(oi!==0){do{for(ei=Je-1;je.bl_count[ei]===0;)ei--;je.bl_count[ei]--,je.bl_count[ei+1]+=2,je.bl_count[Je]--,oi-=2}while(oi>0);for(ei=Je;ei!==0;ei--)for(Qe=je.bl_count[ei];Qe!==0;)St=je.heap[--Ze],!(St>ze)&&(Ve[St*2+1]!==ei&&(je.opt_len+=(ei-Ve[St*2+1])*Ve[St*2],Ve[St*2+1]=ei),Qe--)}},gen_codes=(je,$e,Ve)=>{const ze=new Array(MAX_BITS$1+1);let qe=0,Xe,We;for(Xe=1;Xe<=MAX_BITS$1;Xe++)qe=qe+Ve[Xe-1]<<1,ze[Xe]=qe;for(We=0;We<=$e;We++){let Ke=je[We*2+1];Ke!==0&&(je[We*2]=bi_reverse(ze[Ke]++,Ke))}},tr_static_init=()=>{let je,$e,Ve,ze,qe;const Xe=new Array(MAX_BITS$1+1);for(Ve=0,ze=0;ze<LENGTH_CODES$1-1;ze++)for(base_length[ze]=Ve,je=0;je<1<<extra_lbits[ze];je++)_length_code[Ve++]=ze;for(_length_code[Ve-1]=ze,qe=0,ze=0;ze<16;ze++)for(base_dist[ze]=qe,je=0;je<1<<extra_dbits[ze];je++)_dist_code[qe++]=ze;for(qe>>=7;ze<D_CODES$1;ze++)for(base_dist[ze]=qe<<7,je=0;je<1<<extra_dbits[ze]-7;je++)_dist_code[256+qe++]=ze;for($e=0;$e<=MAX_BITS$1;$e++)Xe[$e]=0;for(je=0;je<=143;)static_ltree[je*2+1]=8,je++,Xe[8]++;for(;je<=255;)static_ltree[je*2+1]=9,je++,Xe[9]++;for(;je<=279;)static_ltree[je*2+1]=7,je++,Xe[7]++;for(;je<=287;)static_ltree[je*2+1]=8,je++,Xe[8]++;for(gen_codes(static_ltree,L_CODES$1+1,Xe),je=0;je<D_CODES$1;je++)static_dtree[je*2+1]=5,static_dtree[je*2]=bi_reverse(je,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=je=>{let $e;for($e=0;$e<L_CODES$1;$e++)je.dyn_ltree[$e*2]=0;for($e=0;$e<D_CODES$1;$e++)je.dyn_dtree[$e*2]=0;for($e=0;$e<BL_CODES$1;$e++)je.bl_tree[$e*2]=0;je.dyn_ltree[END_BLOCK*2]=1,je.opt_len=je.static_len=0,je.sym_next=je.matches=0},bi_windup=je=>{je.bi_valid>8?put_short(je,je.bi_buf):je.bi_valid>0&&(je.pending_buf[je.pending++]=je.bi_buf),je.bi_buf=0,je.bi_valid=0},smaller=(je,$e,Ve,ze)=>{const qe=$e*2,Xe=Ve*2;return je[qe]<je[Xe]||je[qe]===je[Xe]&&ze[$e]<=ze[Ve]},pqdownheap=(je,$e,Ve)=>{const ze=je.heap[Ve];let qe=Ve<<1;for(;qe<=je.heap_len&&(qe<je.heap_len&&smaller($e,je.heap[qe+1],je.heap[qe],je.depth)&&qe++,!smaller($e,ze,je.heap[qe],je.depth));)je.heap[Ve]=je.heap[qe],Ve=qe,qe<<=1;je.heap[Ve]=ze},compress_block=(je,$e,Ve)=>{let ze,qe,Xe=0,We,Ke;if(je.sym_next!==0)do ze=je.pending_buf[je.sym_buf+Xe++]&255,ze+=(je.pending_buf[je.sym_buf+Xe++]&255)<<8,qe=je.pending_buf[je.sym_buf+Xe++],ze===0?send_code(je,qe,$e):(We=_length_code[qe],send_code(je,We+LITERALS$1+1,$e),Ke=extra_lbits[We],Ke!==0&&(qe-=base_length[We],send_bits(je,qe,Ke)),ze--,We=d_code(ze),send_code(je,We,Ve),Ke=extra_dbits[We],Ke!==0&&(ze-=base_dist[We],send_bits(je,ze,Ke)));while(Xe<je.sym_next);send_code(je,END_BLOCK,$e)},build_tree=(je,$e)=>{const Ve=$e.dyn_tree,ze=$e.stat_desc.static_tree,qe=$e.stat_desc.has_stree,Xe=$e.stat_desc.elems;let We,Ke,Je=-1,Ze;for(je.heap_len=0,je.heap_max=HEAP_SIZE$1,We=0;We<Xe;We++)Ve[We*2]!==0?(je.heap[++je.heap_len]=Je=We,je.depth[We]=0):Ve[We*2+1]=0;for(;je.heap_len<2;)Ze=je.heap[++je.heap_len]=Je<2?++Je:0,Ve[Ze*2]=1,je.depth[Ze]=0,je.opt_len--,qe&&(je.static_len-=ze[Ze*2+1]);for($e.max_code=Je,We=je.heap_len>>1;We>=1;We--)pqdownheap(je,Ve,We);Ze=Xe;do We=je.heap[1],je.heap[1]=je.heap[je.heap_len--],pqdownheap(je,Ve,1),Ke=je.heap[1],je.heap[--je.heap_max]=We,je.heap[--je.heap_max]=Ke,Ve[Ze*2]=Ve[We*2]+Ve[Ke*2],je.depth[Ze]=(je.depth[We]>=je.depth[Ke]?je.depth[We]:je.depth[Ke])+1,Ve[We*2+1]=Ve[Ke*2+1]=Ze,je.heap[1]=Ze++,pqdownheap(je,Ve,1);while(je.heap_len>=2);je.heap[--je.heap_max]=je.heap[1],gen_bitlen(je,$e),gen_codes(Ve,Je,je.bl_count)},scan_tree=(je,$e,Ve)=>{let ze,qe=-1,Xe,We=$e[0*2+1],Ke=0,Je=7,Ze=4;for(We===0&&(Je=138,Ze=3),$e[(Ve+1)*2+1]=65535,ze=0;ze<=Ve;ze++)Xe=We,We=$e[(ze+1)*2+1],!(++Ke<Je&&Xe===We)&&(Ke<Ze?je.bl_tree[Xe*2]+=Ke:Xe!==0?(Xe!==qe&&je.bl_tree[Xe*2]++,je.bl_tree[REP_3_6*2]++):Ke<=10?je.bl_tree[REPZ_3_10*2]++:je.bl_tree[REPZ_11_138*2]++,Ke=0,qe=Xe,We===0?(Je=138,Ze=3):Xe===We?(Je=6,Ze=3):(Je=7,Ze=4))},send_tree=(je,$e,Ve)=>{let ze,qe=-1,Xe,We=$e[0*2+1],Ke=0,Je=7,Ze=4;for(We===0&&(Je=138,Ze=3),ze=0;ze<=Ve;ze++)if(Xe=We,We=$e[(ze+1)*2+1],!(++Ke<Je&&Xe===We)){if(Ke<Ze)do send_code(je,Xe,je.bl_tree);while(--Ke!==0);else Xe!==0?(Xe!==qe&&(send_code(je,Xe,je.bl_tree),Ke--),send_code(je,REP_3_6,je.bl_tree),send_bits(je,Ke-3,2)):Ke<=10?(send_code(je,REPZ_3_10,je.bl_tree),send_bits(je,Ke-3,3)):(send_code(je,REPZ_11_138,je.bl_tree),send_bits(je,Ke-11,7));Ke=0,qe=Xe,We===0?(Je=138,Ze=3):Xe===We?(Je=6,Ze=3):(Je=7,Ze=4)}},build_bl_tree=je=>{let $e;for(scan_tree(je,je.dyn_ltree,je.l_desc.max_code),scan_tree(je,je.dyn_dtree,je.d_desc.max_code),build_tree(je,je.bl_desc),$e=BL_CODES$1-1;$e>=3&&je.bl_tree[bl_order[$e]*2+1]===0;$e--);return je.opt_len+=3*($e+1)+5+5+4,$e},send_all_trees=(je,$e,Ve,ze)=>{let qe;for(send_bits(je,$e-257,5),send_bits(je,Ve-1,5),send_bits(je,ze-4,4),qe=0;qe<ze;qe++)send_bits(je,je.bl_tree[bl_order[qe]*2+1],3);send_tree(je,je.dyn_ltree,$e-1),send_tree(je,je.dyn_dtree,Ve-1)},detect_data_type=je=>{let $e=4093624447,Ve;for(Ve=0;Ve<=31;Ve++,$e>>>=1)if($e&1&&je.dyn_ltree[Ve*2]!==0)return Z_BINARY;if(je.dyn_ltree[9*2]!==0||je.dyn_ltree[10*2]!==0||je.dyn_ltree[13*2]!==0)return Z_TEXT;for(Ve=32;Ve<LITERALS$1;Ve++)if(je.dyn_ltree[Ve*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=je=>{static_init_done||(tr_static_init(),static_init_done=!0),je.l_desc=new TreeDesc(je.dyn_ltree,static_l_desc),je.d_desc=new TreeDesc(je.dyn_dtree,static_d_desc),je.bl_desc=new TreeDesc(je.bl_tree,static_bl_desc),je.bi_buf=0,je.bi_valid=0,init_block(je)},_tr_stored_block$1=(je,$e,Ve,ze)=>{send_bits(je,(STORED_BLOCK<<1)+(ze?1:0),3),bi_windup(je),put_short(je,Ve),put_short(je,~Ve),Ve&&je.pending_buf.set(je.window.subarray($e,$e+Ve),je.pending),je.pending+=Ve},_tr_align$1=je=>{send_bits(je,STATIC_TREES<<1,3),send_code(je,END_BLOCK,static_ltree),bi_flush(je)},_tr_flush_block$1=(je,$e,Ve,ze)=>{let qe,Xe,We=0;je.level>0?(je.strm.data_type===Z_UNKNOWN$1&&(je.strm.data_type=detect_data_type(je)),build_tree(je,je.l_desc),build_tree(je,je.d_desc),We=build_bl_tree(je),qe=je.opt_len+3+7>>>3,Xe=je.static_len+3+7>>>3,Xe<=qe&&(qe=Xe)):qe=Xe=Ve+5,Ve+4<=qe&&$e!==-1?_tr_stored_block$1(je,$e,Ve,ze):je.strategy===Z_FIXED$1||Xe===qe?(send_bits(je,(STATIC_TREES<<1)+(ze?1:0),3),compress_block(je,static_ltree,static_dtree)):(send_bits(je,(DYN_TREES<<1)+(ze?1:0),3),send_all_trees(je,je.l_desc.max_code+1,je.d_desc.max_code+1,We+1),compress_block(je,je.dyn_ltree,je.dyn_dtree)),init_block(je),ze&&bi_windup(je)},_tr_tally$1=(je,$e,Ve)=>(je.pending_buf[je.sym_buf+je.sym_next++]=$e,je.pending_buf[je.sym_buf+je.sym_next++]=$e>>8,je.pending_buf[je.sym_buf+je.sym_next++]=Ve,$e===0?je.dyn_ltree[Ve*2]++:(je.matches++,$e--,je.dyn_ltree[(_length_code[Ve]+LITERALS$1+1)*2]++,je.dyn_dtree[d_code($e)*2]++),je.sym_next===je.sym_end);var _tr_init_1=_tr_init$1,_tr_stored_block_1=_tr_stored_block$1,_tr_flush_block_1=_tr_flush_block$1,_tr_tally_1=_tr_tally$1,_tr_align_1=_tr_align$1,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=(je,$e,Ve,ze)=>{let qe=je&65535|0,Xe=je>>>16&65535|0,We=0;for(;Ve!==0;){We=Ve>2e3?2e3:Ve,Ve-=We;do qe=qe+$e[ze++]|0,Xe=Xe+qe|0;while(--We);qe%=65521,Xe%=65521}return qe|Xe<<16|0};var adler32_1=adler32;const makeTable=()=>{let je,$e=[];for(var Ve=0;Ve<256;Ve++){je=Ve;for(var ze=0;ze<8;ze++)je=je&1?3988292384^je>>>1:je>>>1;$e[Ve]=je}return $e},crcTable$1=new Uint32Array(makeTable()),crc32=(je,$e,Ve,ze)=>{const qe=crcTable$1,Xe=ze+Ve;je^=-1;for(let We=ze;We<Xe;We++)je=je>>>8^qe[(je^$e[We])&255];return je^-1};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,GZIP_STATE=57,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(je,$e)=>(je.msg=messages[$e],$e),rank=je=>je*2-(je>4?9:0),zero=je=>{let $e=je.length;for(;--$e>=0;)je[$e]=0},slide_hash=je=>{let $e,Ve,ze,qe=je.w_size;$e=je.hash_size,ze=$e;do Ve=je.head[--ze],je.head[ze]=Ve>=qe?Ve-qe:0;while(--$e);$e=qe,ze=$e;do Ve=je.prev[--ze],je.prev[ze]=Ve>=qe?Ve-qe:0;while(--$e)};let HASH_ZLIB=(je,$e,Ve)=>($e<<je.hash_shift^Ve)&je.hash_mask,HASH=HASH_ZLIB;const flush_pending=je=>{const $e=je.state;let Ve=$e.pending;Ve>je.avail_out&&(Ve=je.avail_out),Ve!==0&&(je.output.set($e.pending_buf.subarray($e.pending_out,$e.pending_out+Ve),je.next_out),je.next_out+=Ve,$e.pending_out+=Ve,je.total_out+=Ve,je.avail_out-=Ve,$e.pending-=Ve,$e.pending===0&&($e.pending_out=0))},flush_block_only=(je,$e)=>{_tr_flush_block(je,je.block_start>=0?je.block_start:-1,je.strstart-je.block_start,$e),je.block_start=je.strstart,flush_pending(je.strm)},put_byte=(je,$e)=>{je.pending_buf[je.pending++]=$e},putShortMSB=(je,$e)=>{je.pending_buf[je.pending++]=$e>>>8&255,je.pending_buf[je.pending++]=$e&255},read_buf=(je,$e,Ve,ze)=>{let qe=je.avail_in;return qe>ze&&(qe=ze),qe===0?0:(je.avail_in-=qe,$e.set(je.input.subarray(je.next_in,je.next_in+qe),Ve),je.state.wrap===1?je.adler=adler32_1(je.adler,$e,qe,Ve):je.state.wrap===2&&(je.adler=crc32_1(je.adler,$e,qe,Ve)),je.next_in+=qe,je.total_in+=qe,qe)},longest_match=(je,$e)=>{let Ve=je.max_chain_length,ze=je.strstart,qe,Xe,We=je.prev_length,Ke=je.nice_match;const Je=je.strstart>je.w_size-MIN_LOOKAHEAD?je.strstart-(je.w_size-MIN_LOOKAHEAD):0,Ze=je.window,Qe=je.w_mask,St=je.prev,ei=je.strstart+MAX_MATCH;let ti=Ze[ze+We-1],ni=Ze[ze+We];je.prev_length>=je.good_match&&(Ve>>=2),Ke>je.lookahead&&(Ke=je.lookahead);do if(qe=$e,!(Ze[qe+We]!==ni||Ze[qe+We-1]!==ti||Ze[qe]!==Ze[ze]||Ze[++qe]!==Ze[ze+1])){ze+=2,qe++;do;while(Ze[++ze]===Ze[++qe]&&Ze[++ze]===Ze[++qe]&&Ze[++ze]===Ze[++qe]&&Ze[++ze]===Ze[++qe]&&Ze[++ze]===Ze[++qe]&&Ze[++ze]===Ze[++qe]&&Ze[++ze]===Ze[++qe]&&Ze[++ze]===Ze[++qe]&&ze<ei);if(Xe=MAX_MATCH-(ei-ze),ze=ei-MAX_MATCH,Xe>We){if(je.match_start=$e,We=Xe,Xe>=Ke)break;ti=Ze[ze+We-1],ni=Ze[ze+We]}}while(($e=St[$e&Qe])>Je&&--Ve!==0);return We<=je.lookahead?We:je.lookahead},fill_window=je=>{const $e=je.w_size;let Ve,ze,qe;do{if(ze=je.window_size-je.lookahead-je.strstart,je.strstart>=$e+($e-MIN_LOOKAHEAD)&&(je.window.set(je.window.subarray($e,$e+$e-ze),0),je.match_start-=$e,je.strstart-=$e,je.block_start-=$e,je.insert>je.strstart&&(je.insert=je.strstart),slide_hash(je),ze+=$e),je.strm.avail_in===0)break;if(Ve=read_buf(je.strm,je.window,je.strstart+je.lookahead,ze),je.lookahead+=Ve,je.lookahead+je.insert>=MIN_MATCH)for(qe=je.strstart-je.insert,je.ins_h=je.window[qe],je.ins_h=HASH(je,je.ins_h,je.window[qe+1]);je.insert&&(je.ins_h=HASH(je,je.ins_h,je.window[qe+MIN_MATCH-1]),je.prev[qe&je.w_mask]=je.head[je.ins_h],je.head[je.ins_h]=qe,qe++,je.insert--,!(je.lookahead+je.insert<MIN_MATCH)););}while(je.lookahead<MIN_LOOKAHEAD&&je.strm.avail_in!==0)},deflate_stored=(je,$e)=>{let Ve=je.pending_buf_size-5>je.w_size?je.w_size:je.pending_buf_size-5,ze,qe,Xe,We=0,Ke=je.strm.avail_in;do{if(ze=65535,Xe=je.bi_valid+42>>3,je.strm.avail_out<Xe||(Xe=je.strm.avail_out-Xe,qe=je.strstart-je.block_start,ze>qe+je.strm.avail_in&&(ze=qe+je.strm.avail_in),ze>Xe&&(ze=Xe),ze<Ve&&(ze===0&&$e!==Z_FINISH$3||$e===Z_NO_FLUSH$2||ze!==qe+je.strm.avail_in)))break;We=$e===Z_FINISH$3&&ze===qe+je.strm.avail_in?1:0,_tr_stored_block(je,0,0,We),je.pending_buf[je.pending-4]=ze,je.pending_buf[je.pending-3]=ze>>8,je.pending_buf[je.pending-2]=~ze,je.pending_buf[je.pending-1]=~ze>>8,flush_pending(je.strm),qe&&(qe>ze&&(qe=ze),je.strm.output.set(je.window.subarray(je.block_start,je.block_start+qe),je.strm.next_out),je.strm.next_out+=qe,je.strm.avail_out-=qe,je.strm.total_out+=qe,je.block_start+=qe,ze-=qe),ze&&(read_buf(je.strm,je.strm.output,je.strm.next_out,ze),je.strm.next_out+=ze,je.strm.avail_out-=ze,je.strm.total_out+=ze)}while(We===0);return Ke-=je.strm.avail_in,Ke&&(Ke>=je.w_size?(je.matches=2,je.window.set(je.strm.input.subarray(je.strm.next_in-je.w_size,je.strm.next_in),0),je.strstart=je.w_size,je.insert=je.strstart):(je.window_size-je.strstart<=Ke&&(je.strstart-=je.w_size,je.window.set(je.window.subarray(je.w_size,je.w_size+je.strstart),0),je.matches<2&&je.matches++,je.insert>je.strstart&&(je.insert=je.strstart)),je.window.set(je.strm.input.subarray(je.strm.next_in-Ke,je.strm.next_in),je.strstart),je.strstart+=Ke,je.insert+=Ke>je.w_size-je.insert?je.w_size-je.insert:Ke),je.block_start=je.strstart),je.high_water<je.strstart&&(je.high_water=je.strstart),We?BS_FINISH_DONE:$e!==Z_NO_FLUSH$2&&$e!==Z_FINISH$3&&je.strm.avail_in===0&&je.strstart===je.block_start?BS_BLOCK_DONE:(Xe=je.window_size-je.strstart,je.strm.avail_in>Xe&&je.block_start>=je.w_size&&(je.block_start-=je.w_size,je.strstart-=je.w_size,je.window.set(je.window.subarray(je.w_size,je.w_size+je.strstart),0),je.matches<2&&je.matches++,Xe+=je.w_size,je.insert>je.strstart&&(je.insert=je.strstart)),Xe>je.strm.avail_in&&(Xe=je.strm.avail_in),Xe&&(read_buf(je.strm,je.window,je.strstart,Xe),je.strstart+=Xe,je.insert+=Xe>je.w_size-je.insert?je.w_size-je.insert:Xe),je.high_water<je.strstart&&(je.high_water=je.strstart),Xe=je.bi_valid+42>>3,Xe=je.pending_buf_size-Xe>65535?65535:je.pending_buf_size-Xe,Ve=Xe>je.w_size?je.w_size:Xe,qe=je.strstart-je.block_start,(qe>=Ve||(qe||$e===Z_FINISH$3)&&$e!==Z_NO_FLUSH$2&&je.strm.avail_in===0&&qe<=Xe)&&(ze=qe>Xe?Xe:qe,We=$e===Z_FINISH$3&&je.strm.avail_in===0&&ze===qe?1:0,_tr_stored_block(je,je.block_start,ze,We),je.block_start+=ze,flush_pending(je.strm)),We?BS_FINISH_STARTED:BS_NEED_MORE)},deflate_fast=(je,$e)=>{let Ve,ze;for(;;){if(je.lookahead<MIN_LOOKAHEAD){if(fill_window(je),je.lookahead<MIN_LOOKAHEAD&&$e===Z_NO_FLUSH$2)return BS_NEED_MORE;if(je.lookahead===0)break}if(Ve=0,je.lookahead>=MIN_MATCH&&(je.ins_h=HASH(je,je.ins_h,je.window[je.strstart+MIN_MATCH-1]),Ve=je.prev[je.strstart&je.w_mask]=je.head[je.ins_h],je.head[je.ins_h]=je.strstart),Ve!==0&&je.strstart-Ve<=je.w_size-MIN_LOOKAHEAD&&(je.match_length=longest_match(je,Ve)),je.match_length>=MIN_MATCH)if(ze=_tr_tally(je,je.strstart-je.match_start,je.match_length-MIN_MATCH),je.lookahead-=je.match_length,je.match_length<=je.max_lazy_match&&je.lookahead>=MIN_MATCH){je.match_length--;do je.strstart++,je.ins_h=HASH(je,je.ins_h,je.window[je.strstart+MIN_MATCH-1]),Ve=je.prev[je.strstart&je.w_mask]=je.head[je.ins_h],je.head[je.ins_h]=je.strstart;while(--je.match_length!==0);je.strstart++}else je.strstart+=je.match_length,je.match_length=0,je.ins_h=je.window[je.strstart],je.ins_h=HASH(je,je.ins_h,je.window[je.strstart+1]);else ze=_tr_tally(je,0,je.window[je.strstart]),je.lookahead--,je.strstart++;if(ze&&(flush_block_only(je,!1),je.strm.avail_out===0))return BS_NEED_MORE}return je.insert=je.strstart<MIN_MATCH-1?je.strstart:MIN_MATCH-1,$e===Z_FINISH$3?(flush_block_only(je,!0),je.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):je.sym_next&&(flush_block_only(je,!1),je.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(je,$e)=>{let Ve,ze,qe;for(;;){if(je.lookahead<MIN_LOOKAHEAD){if(fill_window(je),je.lookahead<MIN_LOOKAHEAD&&$e===Z_NO_FLUSH$2)return BS_NEED_MORE;if(je.lookahead===0)break}if(Ve=0,je.lookahead>=MIN_MATCH&&(je.ins_h=HASH(je,je.ins_h,je.window[je.strstart+MIN_MATCH-1]),Ve=je.prev[je.strstart&je.w_mask]=je.head[je.ins_h],je.head[je.ins_h]=je.strstart),je.prev_length=je.match_length,je.prev_match=je.match_start,je.match_length=MIN_MATCH-1,Ve!==0&&je.prev_length<je.max_lazy_match&&je.strstart-Ve<=je.w_size-MIN_LOOKAHEAD&&(je.match_length=longest_match(je,Ve),je.match_length<=5&&(je.strategy===Z_FILTERED||je.match_length===MIN_MATCH&&je.strstart-je.match_start>4096)&&(je.match_length=MIN_MATCH-1)),je.prev_length>=MIN_MATCH&&je.match_length<=je.prev_length){qe=je.strstart+je.lookahead-MIN_MATCH,ze=_tr_tally(je,je.strstart-1-je.prev_match,je.prev_length-MIN_MATCH),je.lookahead-=je.prev_length-1,je.prev_length-=2;do++je.strstart<=qe&&(je.ins_h=HASH(je,je.ins_h,je.window[je.strstart+MIN_MATCH-1]),Ve=je.prev[je.strstart&je.w_mask]=je.head[je.ins_h],je.head[je.ins_h]=je.strstart);while(--je.prev_length!==0);if(je.match_available=0,je.match_length=MIN_MATCH-1,je.strstart++,ze&&(flush_block_only(je,!1),je.strm.avail_out===0))return BS_NEED_MORE}else if(je.match_available){if(ze=_tr_tally(je,0,je.window[je.strstart-1]),ze&&flush_block_only(je,!1),je.strstart++,je.lookahead--,je.strm.avail_out===0)return BS_NEED_MORE}else je.match_available=1,je.strstart++,je.lookahead--}return je.match_available&&(ze=_tr_tally(je,0,je.window[je.strstart-1]),je.match_available=0),je.insert=je.strstart<MIN_MATCH-1?je.strstart:MIN_MATCH-1,$e===Z_FINISH$3?(flush_block_only(je,!0),je.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):je.sym_next&&(flush_block_only(je,!1),je.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(je,$e)=>{let Ve,ze,qe,Xe;const We=je.window;for(;;){if(je.lookahead<=MAX_MATCH){if(fill_window(je),je.lookahead<=MAX_MATCH&&$e===Z_NO_FLUSH$2)return BS_NEED_MORE;if(je.lookahead===0)break}if(je.match_length=0,je.lookahead>=MIN_MATCH&&je.strstart>0&&(qe=je.strstart-1,ze=We[qe],ze===We[++qe]&&ze===We[++qe]&&ze===We[++qe])){Xe=je.strstart+MAX_MATCH;do;while(ze===We[++qe]&&ze===We[++qe]&&ze===We[++qe]&&ze===We[++qe]&&ze===We[++qe]&&ze===We[++qe]&&ze===We[++qe]&&ze===We[++qe]&&qe<Xe);je.match_length=MAX_MATCH-(Xe-qe),je.match_length>je.lookahead&&(je.match_length=je.lookahead)}if(je.match_length>=MIN_MATCH?(Ve=_tr_tally(je,1,je.match_length-MIN_MATCH),je.lookahead-=je.match_length,je.strstart+=je.match_length,je.match_length=0):(Ve=_tr_tally(je,0,je.window[je.strstart]),je.lookahead--,je.strstart++),Ve&&(flush_block_only(je,!1),je.strm.avail_out===0))return BS_NEED_MORE}return je.insert=0,$e===Z_FINISH$3?(flush_block_only(je,!0),je.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):je.sym_next&&(flush_block_only(je,!1),je.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(je,$e)=>{let Ve;for(;;){if(je.lookahead===0&&(fill_window(je),je.lookahead===0)){if($e===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(je.match_length=0,Ve=_tr_tally(je,0,je.window[je.strstart]),je.lookahead--,je.strstart++,Ve&&(flush_block_only(je,!1),je.strm.avail_out===0))return BS_NEED_MORE}return je.insert=0,$e===Z_FINISH$3?(flush_block_only(je,!0),je.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):je.sym_next&&(flush_block_only(je,!1),je.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config(je,$e,Ve,ze,qe){this.good_length=je,this.max_lazy=$e,this.nice_length=Ve,this.max_chain=ze,this.func=qe}const configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],lm_init=je=>{je.window_size=2*je.w_size,zero(je.head),je.max_lazy_match=configuration_table[je.level].max_lazy,je.good_match=configuration_table[je.level].good_length,je.nice_match=configuration_table[je.level].nice_length,je.max_chain_length=configuration_table[je.level].max_chain,je.strstart=0,je.block_start=0,je.lookahead=0,je.insert=0,je.match_length=je.prev_length=MIN_MATCH-1,je.match_available=0,je.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateStateCheck=je=>{if(!je)return 1;const $e=je.state;return!$e||$e.strm!==je||$e.status!==INIT_STATE&&$e.status!==GZIP_STATE&&$e.status!==EXTRA_STATE&&$e.status!==NAME_STATE&&$e.status!==COMMENT_STATE&&$e.status!==HCRC_STATE&&$e.status!==BUSY_STATE&&$e.status!==FINISH_STATE?1:0},deflateResetKeep=je=>{if(deflateStateCheck(je))return err(je,Z_STREAM_ERROR$2);je.total_in=je.total_out=0,je.data_type=Z_UNKNOWN;const $e=je.state;return $e.pending=0,$e.pending_out=0,$e.wrap<0&&($e.wrap=-$e.wrap),$e.status=$e.wrap===2?GZIP_STATE:$e.wrap?INIT_STATE:BUSY_STATE,je.adler=$e.wrap===2?0:1,$e.last_flush=-2,_tr_init($e),Z_OK$3},deflateReset=je=>{const $e=deflateResetKeep(je);return $e===Z_OK$3&&lm_init(je.state),$e},deflateSetHeader=(je,$e)=>deflateStateCheck(je)||je.state.wrap!==2?Z_STREAM_ERROR$2:(je.state.gzhead=$e,Z_OK$3),deflateInit2=(je,$e,Ve,ze,qe,Xe)=>{if(!je)return Z_STREAM_ERROR$2;let We=1;if($e===Z_DEFAULT_COMPRESSION$1&&($e=6),ze<0?(We=0,ze=-ze):ze>15&&(We=2,ze-=16),qe<1||qe>MAX_MEM_LEVEL||Ve!==Z_DEFLATED$2||ze<8||ze>15||$e<0||$e>9||Xe<0||Xe>Z_FIXED||ze===8&&We!==1)return err(je,Z_STREAM_ERROR$2);ze===8&&(ze=9);const Ke=new DeflateState;return je.state=Ke,Ke.strm=je,Ke.status=INIT_STATE,Ke.wrap=We,Ke.gzhead=null,Ke.w_bits=ze,Ke.w_size=1<<Ke.w_bits,Ke.w_mask=Ke.w_size-1,Ke.hash_bits=qe+7,Ke.hash_size=1<<Ke.hash_bits,Ke.hash_mask=Ke.hash_size-1,Ke.hash_shift=~~((Ke.hash_bits+MIN_MATCH-1)/MIN_MATCH),Ke.window=new Uint8Array(Ke.w_size*2),Ke.head=new Uint16Array(Ke.hash_size),Ke.prev=new Uint16Array(Ke.w_size),Ke.lit_bufsize=1<<qe+6,Ke.pending_buf_size=Ke.lit_bufsize*4,Ke.pending_buf=new Uint8Array(Ke.pending_buf_size),Ke.sym_buf=Ke.lit_bufsize,Ke.sym_end=(Ke.lit_bufsize-1)*3,Ke.level=$e,Ke.strategy=Xe,Ke.method=Ve,deflateReset(je)},deflateInit=(je,$e)=>deflateInit2(je,$e,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=(je,$e)=>{if(deflateStateCheck(je)||$e>Z_BLOCK$1||$e<0)return je?err(je,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const Ve=je.state;if(!je.output||je.avail_in!==0&&!je.input||Ve.status===FINISH_STATE&&$e!==Z_FINISH$3)return err(je,je.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);const ze=Ve.last_flush;if(Ve.last_flush=$e,Ve.pending!==0){if(flush_pending(je),je.avail_out===0)return Ve.last_flush=-1,Z_OK$3}else if(je.avail_in===0&&rank($e)<=rank(ze)&&$e!==Z_FINISH$3)return err(je,Z_BUF_ERROR$1);if(Ve.status===FINISH_STATE&&je.avail_in!==0)return err(je,Z_BUF_ERROR$1);if(Ve.status===INIT_STATE&&Ve.wrap===0&&(Ve.status=BUSY_STATE),Ve.status===INIT_STATE){let qe=Z_DEFLATED$2+(Ve.w_bits-8<<4)<<8,Xe=-1;if(Ve.strategy>=Z_HUFFMAN_ONLY||Ve.level<2?Xe=0:Ve.level<6?Xe=1:Ve.level===6?Xe=2:Xe=3,qe|=Xe<<6,Ve.strstart!==0&&(qe|=PRESET_DICT),qe+=31-qe%31,putShortMSB(Ve,qe),Ve.strstart!==0&&(putShortMSB(Ve,je.adler>>>16),putShortMSB(Ve,je.adler&65535)),je.adler=1,Ve.status=BUSY_STATE,flush_pending(je),Ve.pending!==0)return Ve.last_flush=-1,Z_OK$3}if(Ve.status===GZIP_STATE){if(je.adler=0,put_byte(Ve,31),put_byte(Ve,139),put_byte(Ve,8),Ve.gzhead)put_byte(Ve,(Ve.gzhead.text?1:0)+(Ve.gzhead.hcrc?2:0)+(Ve.gzhead.extra?4:0)+(Ve.gzhead.name?8:0)+(Ve.gzhead.comment?16:0)),put_byte(Ve,Ve.gzhead.time&255),put_byte(Ve,Ve.gzhead.time>>8&255),put_byte(Ve,Ve.gzhead.time>>16&255),put_byte(Ve,Ve.gzhead.time>>24&255),put_byte(Ve,Ve.level===9?2:Ve.strategy>=Z_HUFFMAN_ONLY||Ve.level<2?4:0),put_byte(Ve,Ve.gzhead.os&255),Ve.gzhead.extra&&Ve.gzhead.extra.length&&(put_byte(Ve,Ve.gzhead.extra.length&255),put_byte(Ve,Ve.gzhead.extra.length>>8&255)),Ve.gzhead.hcrc&&(je.adler=crc32_1(je.adler,Ve.pending_buf,Ve.pending,0)),Ve.gzindex=0,Ve.status=EXTRA_STATE;else if(put_byte(Ve,0),put_byte(Ve,0),put_byte(Ve,0),put_byte(Ve,0),put_byte(Ve,0),put_byte(Ve,Ve.level===9?2:Ve.strategy>=Z_HUFFMAN_ONLY||Ve.level<2?4:0),put_byte(Ve,OS_CODE),Ve.status=BUSY_STATE,flush_pending(je),Ve.pending!==0)return Ve.last_flush=-1,Z_OK$3}if(Ve.status===EXTRA_STATE){if(Ve.gzhead.extra){let qe=Ve.pending,Xe=(Ve.gzhead.extra.length&65535)-Ve.gzindex;for(;Ve.pending+Xe>Ve.pending_buf_size;){let Ke=Ve.pending_buf_size-Ve.pending;if(Ve.pending_buf.set(Ve.gzhead.extra.subarray(Ve.gzindex,Ve.gzindex+Ke),Ve.pending),Ve.pending=Ve.pending_buf_size,Ve.gzhead.hcrc&&Ve.pending>qe&&(je.adler=crc32_1(je.adler,Ve.pending_buf,Ve.pending-qe,qe)),Ve.gzindex+=Ke,flush_pending(je),Ve.pending!==0)return Ve.last_flush=-1,Z_OK$3;qe=0,Xe-=Ke}let We=new Uint8Array(Ve.gzhead.extra);Ve.pending_buf.set(We.subarray(Ve.gzindex,Ve.gzindex+Xe),Ve.pending),Ve.pending+=Xe,Ve.gzhead.hcrc&&Ve.pending>qe&&(je.adler=crc32_1(je.adler,Ve.pending_buf,Ve.pending-qe,qe)),Ve.gzindex=0}Ve.status=NAME_STATE}if(Ve.status===NAME_STATE){if(Ve.gzhead.name){let qe=Ve.pending,Xe;do{if(Ve.pending===Ve.pending_buf_size){if(Ve.gzhead.hcrc&&Ve.pending>qe&&(je.adler=crc32_1(je.adler,Ve.pending_buf,Ve.pending-qe,qe)),flush_pending(je),Ve.pending!==0)return Ve.last_flush=-1,Z_OK$3;qe=0}Ve.gzindex<Ve.gzhead.name.length?Xe=Ve.gzhead.name.charCodeAt(Ve.gzindex++)&255:Xe=0,put_byte(Ve,Xe)}while(Xe!==0);Ve.gzhead.hcrc&&Ve.pending>qe&&(je.adler=crc32_1(je.adler,Ve.pending_buf,Ve.pending-qe,qe)),Ve.gzindex=0}Ve.status=COMMENT_STATE}if(Ve.status===COMMENT_STATE){if(Ve.gzhead.comment){let qe=Ve.pending,Xe;do{if(Ve.pending===Ve.pending_buf_size){if(Ve.gzhead.hcrc&&Ve.pending>qe&&(je.adler=crc32_1(je.adler,Ve.pending_buf,Ve.pending-qe,qe)),flush_pending(je),Ve.pending!==0)return Ve.last_flush=-1,Z_OK$3;qe=0}Ve.gzindex<Ve.gzhead.comment.length?Xe=Ve.gzhead.comment.charCodeAt(Ve.gzindex++)&255:Xe=0,put_byte(Ve,Xe)}while(Xe!==0);Ve.gzhead.hcrc&&Ve.pending>qe&&(je.adler=crc32_1(je.adler,Ve.pending_buf,Ve.pending-qe,qe))}Ve.status=HCRC_STATE}if(Ve.status===HCRC_STATE){if(Ve.gzhead.hcrc){if(Ve.pending+2>Ve.pending_buf_size&&(flush_pending(je),Ve.pending!==0))return Ve.last_flush=-1,Z_OK$3;put_byte(Ve,je.adler&255),put_byte(Ve,je.adler>>8&255),je.adler=0}if(Ve.status=BUSY_STATE,flush_pending(je),Ve.pending!==0)return Ve.last_flush=-1,Z_OK$3}if(je.avail_in!==0||Ve.lookahead!==0||$e!==Z_NO_FLUSH$2&&Ve.status!==FINISH_STATE){let qe=Ve.level===0?deflate_stored(Ve,$e):Ve.strategy===Z_HUFFMAN_ONLY?deflate_huff(Ve,$e):Ve.strategy===Z_RLE?deflate_rle(Ve,$e):configuration_table[Ve.level].func(Ve,$e);if((qe===BS_FINISH_STARTED||qe===BS_FINISH_DONE)&&(Ve.status=FINISH_STATE),qe===BS_NEED_MORE||qe===BS_FINISH_STARTED)return je.avail_out===0&&(Ve.last_flush=-1),Z_OK$3;if(qe===BS_BLOCK_DONE&&($e===Z_PARTIAL_FLUSH?_tr_align(Ve):$e!==Z_BLOCK$1&&(_tr_stored_block(Ve,0,0,!1),$e===Z_FULL_FLUSH$1&&(zero(Ve.head),Ve.lookahead===0&&(Ve.strstart=0,Ve.block_start=0,Ve.insert=0))),flush_pending(je),je.avail_out===0))return Ve.last_flush=-1,Z_OK$3}return $e!==Z_FINISH$3?Z_OK$3:Ve.wrap<=0?Z_STREAM_END$3:(Ve.wrap===2?(put_byte(Ve,je.adler&255),put_byte(Ve,je.adler>>8&255),put_byte(Ve,je.adler>>16&255),put_byte(Ve,je.adler>>24&255),put_byte(Ve,je.total_in&255),put_byte(Ve,je.total_in>>8&255),put_byte(Ve,je.total_in>>16&255),put_byte(Ve,je.total_in>>24&255)):(putShortMSB(Ve,je.adler>>>16),putShortMSB(Ve,je.adler&65535)),flush_pending(je),Ve.wrap>0&&(Ve.wrap=-Ve.wrap),Ve.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=je=>{if(deflateStateCheck(je))return Z_STREAM_ERROR$2;const $e=je.state.status;return je.state=null,$e===BUSY_STATE?err(je,Z_DATA_ERROR$2):Z_OK$3},deflateSetDictionary=(je,$e)=>{let Ve=$e.length;if(deflateStateCheck(je))return Z_STREAM_ERROR$2;const ze=je.state,qe=ze.wrap;if(qe===2||qe===1&&ze.status!==INIT_STATE||ze.lookahead)return Z_STREAM_ERROR$2;if(qe===1&&(je.adler=adler32_1(je.adler,$e,Ve,0)),ze.wrap=0,Ve>=ze.w_size){qe===0&&(zero(ze.head),ze.strstart=0,ze.block_start=0,ze.insert=0);let Je=new Uint8Array(ze.w_size);Je.set($e.subarray(Ve-ze.w_size,Ve),0),$e=Je,Ve=ze.w_size}const Xe=je.avail_in,We=je.next_in,Ke=je.input;for(je.avail_in=Ve,je.next_in=0,je.input=$e,fill_window(ze);ze.lookahead>=MIN_MATCH;){let Je=ze.strstart,Ze=ze.lookahead-(MIN_MATCH-1);do ze.ins_h=HASH(ze,ze.ins_h,ze.window[Je+MIN_MATCH-1]),ze.prev[Je&ze.w_mask]=ze.head[ze.ins_h],ze.head[ze.ins_h]=Je,Je++;while(--Ze);ze.strstart=Je,ze.lookahead=MIN_MATCH-1,fill_window(ze)}return ze.strstart+=ze.lookahead,ze.block_start=ze.strstart,ze.insert=ze.lookahead,ze.lookahead=0,ze.match_length=ze.prev_length=MIN_MATCH-1,ze.match_available=0,je.next_in=We,je.input=Ke,je.avail_in=Xe,ze.wrap=qe,Z_OK$3};var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo};const _has=(je,$e)=>Object.prototype.hasOwnProperty.call(je,$e);var assign=function(je){const $e=Array.prototype.slice.call(arguments,1);for(;$e.length;){const Ve=$e.shift();if(Ve){if(typeof Ve!="object")throw new TypeError(Ve+"must be non-object");for(const ze in Ve)_has(Ve,ze)&&(je[ze]=Ve[ze])}}return je},flattenChunks=je=>{let $e=0;for(let ze=0,qe=je.length;ze<qe;ze++)$e+=je[ze].length;const Ve=new Uint8Array($e);for(let ze=0,qe=0,Xe=je.length;ze<Xe;ze++){let We=je[ze];Ve.set(We,qe),qe+=We.length}return Ve},common={assign,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let je=0;je<256;je++)_utf8len[je]=je>=252?6:je>=248?5:je>=240?4:je>=224?3:je>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=je=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(je);let $e,Ve,ze,qe,Xe,We=je.length,Ke=0;for(qe=0;qe<We;qe++)Ve=je.charCodeAt(qe),(Ve&64512)===55296&&qe+1<We&&(ze=je.charCodeAt(qe+1),(ze&64512)===56320&&(Ve=65536+(Ve-55296<<10)+(ze-56320),qe++)),Ke+=Ve<128?1:Ve<2048?2:Ve<65536?3:4;for($e=new Uint8Array(Ke),Xe=0,qe=0;Xe<Ke;qe++)Ve=je.charCodeAt(qe),(Ve&64512)===55296&&qe+1<We&&(ze=je.charCodeAt(qe+1),(ze&64512)===56320&&(Ve=65536+(Ve-55296<<10)+(ze-56320),qe++)),Ve<128?$e[Xe++]=Ve:Ve<2048?($e[Xe++]=192|Ve>>>6,$e[Xe++]=128|Ve&63):Ve<65536?($e[Xe++]=224|Ve>>>12,$e[Xe++]=128|Ve>>>6&63,$e[Xe++]=128|Ve&63):($e[Xe++]=240|Ve>>>18,$e[Xe++]=128|Ve>>>12&63,$e[Xe++]=128|Ve>>>6&63,$e[Xe++]=128|Ve&63);return $e};const buf2binstring=(je,$e)=>{if($e<65534&&je.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,je.length===$e?je:je.subarray(0,$e));let Ve="";for(let ze=0;ze<$e;ze++)Ve+=String.fromCharCode(je[ze]);return Ve};var buf2string=(je,$e)=>{const Ve=$e||je.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(je.subarray(0,$e));let ze,qe;const Xe=new Array(Ve*2);for(qe=0,ze=0;ze<Ve;){let We=je[ze++];if(We<128){Xe[qe++]=We;continue}let Ke=_utf8len[We];if(Ke>4){Xe[qe++]=65533,ze+=Ke-1;continue}for(We&=Ke===2?31:Ke===3?15:7;Ke>1&&ze<Ve;)We=We<<6|je[ze++]&63,Ke--;if(Ke>1){Xe[qe++]=65533;continue}We<65536?Xe[qe++]=We:(We-=65536,Xe[qe++]=55296|We>>10&1023,Xe[qe++]=56320|We&1023)}return buf2binstring(Xe,qe)},utf8border=(je,$e)=>{$e=$e||je.length,$e>je.length&&($e=je.length);let Ve=$e-1;for(;Ve>=0&&(je[Ve]&192)===128;)Ve--;return Ve<0||Ve===0?$e:Ve+_utf8len[je[Ve]]>$e?Ve:$e},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const toString$1$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1(je){this.options=common.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},je||{});let $e=this.options;$e.raw&&$e.windowBits>0?$e.windowBits=-$e.windowBits:$e.gzip&&$e.windowBits>0&&$e.windowBits<16&&($e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let Ve=deflate_1$2.deflateInit2(this.strm,$e.level,$e.method,$e.windowBits,$e.memLevel,$e.strategy);if(Ve!==Z_OK$2)throw new Error(messages[Ve]);if($e.header&&deflate_1$2.deflateSetHeader(this.strm,$e.header),$e.dictionary){let ze;if(typeof $e.dictionary=="string"?ze=strings.string2buf($e.dictionary):toString$1$1.call($e.dictionary)==="[object ArrayBuffer]"?ze=new Uint8Array($e.dictionary):ze=$e.dictionary,Ve=deflate_1$2.deflateSetDictionary(this.strm,ze),Ve!==Z_OK$2)throw new Error(messages[Ve]);this._dict_set=!0}}Deflate$1.prototype.push=function(je,$e){const Ve=this.strm,ze=this.options.chunkSize;let qe,Xe;if(this.ended)return!1;for($e===~~$e?Xe=$e:Xe=$e===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof je=="string"?Ve.input=strings.string2buf(je):toString$1$1.call(je)==="[object ArrayBuffer]"?Ve.input=new Uint8Array(je):Ve.input=je,Ve.next_in=0,Ve.avail_in=Ve.input.length;;){if(Ve.avail_out===0&&(Ve.output=new Uint8Array(ze),Ve.next_out=0,Ve.avail_out=ze),(Xe===Z_SYNC_FLUSH||Xe===Z_FULL_FLUSH)&&Ve.avail_out<=6){this.onData(Ve.output.subarray(0,Ve.next_out)),Ve.avail_out=0;continue}if(qe=deflate_1$2.deflate(Ve,Xe),qe===Z_STREAM_END$2)return Ve.next_out>0&&this.onData(Ve.output.subarray(0,Ve.next_out)),qe=deflate_1$2.deflateEnd(this.strm),this.onEnd(qe),this.ended=!0,qe===Z_OK$2;if(Ve.avail_out===0){this.onData(Ve.output);continue}if(Xe>0&&Ve.next_out>0){this.onData(Ve.output.subarray(0,Ve.next_out)),Ve.avail_out=0;continue}if(Ve.avail_in===0)break}return!0};Deflate$1.prototype.onData=function(je){this.chunks.push(je)};Deflate$1.prototype.onEnd=function(je){je===Z_OK$2&&(this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=je,this.msg=this.strm.msg};function deflate$1(je,$e){const Ve=new Deflate$1($e);if(Ve.push(je,!0),Ve.err)throw Ve.msg||messages[Ve.err];return Ve.result}function deflateRaw$1(je,$e){return $e=$e||{},$e.raw=!0,deflate$1(je,$e)}function gzip$1(je,$e){return $e=$e||{},$e.gzip=!0,deflate$1(je,$e)}var Deflate_1$1=Deflate$1,deflate_2=deflate$1,deflateRaw_1$1=deflateRaw$1,gzip_1$1=gzip$1,constants$1=constants$2,deflate_1$1={Deflate:Deflate_1$1,deflate:deflate_2,deflateRaw:deflateRaw_1$1,gzip:gzip_1$1,constants:constants$1};const BAD$1=16209,TYPE$1=16191;var inffast=function(je,$e){let Ve,ze,qe,Xe,We,Ke,Je,Ze,Qe,St,ei,ti,ni,oi,ai,si,ri,ii,ui,ci,hi,mi,di,fi;const yi=je.state;Ve=je.next_in,di=je.input,ze=Ve+(je.avail_in-5),qe=je.next_out,fi=je.output,Xe=qe-($e-je.avail_out),We=qe+(je.avail_out-257),Ke=yi.dmax,Je=yi.wsize,Ze=yi.whave,Qe=yi.wnext,St=yi.window,ei=yi.hold,ti=yi.bits,ni=yi.lencode,oi=yi.distcode,ai=(1<<yi.lenbits)-1,si=(1<<yi.distbits)-1;e:do{ti<15&&(ei+=di[Ve++]<<ti,ti+=8,ei+=di[Ve++]<<ti,ti+=8),ri=ni[ei&ai];t:for(;;){if(ii=ri>>>24,ei>>>=ii,ti-=ii,ii=ri>>>16&255,ii===0)fi[qe++]=ri&65535;else if(ii&16){ui=ri&65535,ii&=15,ii&&(ti<ii&&(ei+=di[Ve++]<<ti,ti+=8),ui+=ei&(1<<ii)-1,ei>>>=ii,ti-=ii),ti<15&&(ei+=di[Ve++]<<ti,ti+=8,ei+=di[Ve++]<<ti,ti+=8),ri=oi[ei&si];i:for(;;){if(ii=ri>>>24,ei>>>=ii,ti-=ii,ii=ri>>>16&255,ii&16){if(ci=ri&65535,ii&=15,ti<ii&&(ei+=di[Ve++]<<ti,ti+=8,ti<ii&&(ei+=di[Ve++]<<ti,ti+=8)),ci+=ei&(1<<ii)-1,ci>Ke){je.msg="invalid distance too far back",yi.mode=BAD$1;break e}if(ei>>>=ii,ti-=ii,ii=qe-Xe,ci>ii){if(ii=ci-ii,ii>Ze&&yi.sane){je.msg="invalid distance too far back",yi.mode=BAD$1;break e}if(hi=0,mi=St,Qe===0){if(hi+=Je-ii,ii<ui){ui-=ii;do fi[qe++]=St[hi++];while(--ii);hi=qe-ci,mi=fi}}else if(Qe<ii){if(hi+=Je+Qe-ii,ii-=Qe,ii<ui){ui-=ii;do fi[qe++]=St[hi++];while(--ii);if(hi=0,Qe<ui){ii=Qe,ui-=ii;do fi[qe++]=St[hi++];while(--ii);hi=qe-ci,mi=fi}}}else if(hi+=Qe-ii,ii<ui){ui-=ii;do fi[qe++]=St[hi++];while(--ii);hi=qe-ci,mi=fi}for(;ui>2;)fi[qe++]=mi[hi++],fi[qe++]=mi[hi++],fi[qe++]=mi[hi++],ui-=3;ui&&(fi[qe++]=mi[hi++],ui>1&&(fi[qe++]=mi[hi++]))}else{hi=qe-ci;do fi[qe++]=fi[hi++],fi[qe++]=fi[hi++],fi[qe++]=fi[hi++],ui-=3;while(ui>2);ui&&(fi[qe++]=fi[hi++],ui>1&&(fi[qe++]=fi[hi++]))}}else if(ii&64){je.msg="invalid distance code",yi.mode=BAD$1;break e}else{ri=oi[(ri&65535)+(ei&(1<<ii)-1)];continue i}break}}else if(ii&64)if(ii&32){yi.mode=TYPE$1;break e}else{je.msg="invalid literal/length code",yi.mode=BAD$1;break e}else{ri=ni[(ri&65535)+(ei&(1<<ii)-1)];continue t}break}}while(Ve<ze&&qe<We);ui=ti>>3,Ve-=ui,ti-=ui<<3,ei&=(1<<ti)-1,je.next_in=Ve,je.next_out=qe,je.avail_in=Ve<ze?5+(ze-Ve):5-(Ve-ze),je.avail_out=qe<We?257+(We-qe):257-(qe-We),yi.hold=ei,yi.bits=ti};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(je,$e,Ve,ze,qe,Xe,We,Ke)=>{const Je=Ke.bits;let Ze=0,Qe=0,St=0,ei=0,ti=0,ni=0,oi=0,ai=0,si=0,ri=0,ii,ui,ci,hi,mi,di=null,fi;const yi=new Uint16Array(MAXBITS+1),pi=new Uint16Array(MAXBITS+1);let xi=null,Si,vi,Di;for(Ze=0;Ze<=MAXBITS;Ze++)yi[Ze]=0;for(Qe=0;Qe<ze;Qe++)yi[$e[Ve+Qe]]++;for(ti=Je,ei=MAXBITS;ei>=1&&yi[ei]===0;ei--);if(ti>ei&&(ti=ei),ei===0)return qe[Xe++]=1<<24|64<<16|0,qe[Xe++]=1<<24|64<<16|0,Ke.bits=1,0;for(St=1;St<ei&&yi[St]===0;St++);for(ti<St&&(ti=St),ai=1,Ze=1;Ze<=MAXBITS;Ze++)if(ai<<=1,ai-=yi[Ze],ai<0)return-1;if(ai>0&&(je===CODES$1||ei!==1))return-1;for(pi[1]=0,Ze=1;Ze<MAXBITS;Ze++)pi[Ze+1]=pi[Ze]+yi[Ze];for(Qe=0;Qe<ze;Qe++)$e[Ve+Qe]!==0&&(We[pi[$e[Ve+Qe]]++]=Qe);if(je===CODES$1?(di=xi=We,fi=20):je===LENS$1?(di=lbase,xi=lext,fi=257):(di=dbase,xi=dext,fi=0),ri=0,Qe=0,Ze=St,mi=Xe,ni=ti,oi=0,ci=-1,si=1<<ti,hi=si-1,je===LENS$1&&si>ENOUGH_LENS$1||je===DISTS$1&&si>ENOUGH_DISTS$1)return 1;for(;;){Si=Ze-oi,We[Qe]+1<fi?(vi=0,Di=We[Qe]):We[Qe]>=fi?(vi=xi[We[Qe]-fi],Di=di[We[Qe]-fi]):(vi=96,Di=0),ii=1<<Ze-oi,ui=1<<ni,St=ui;do ui-=ii,qe[mi+(ri>>oi)+ui]=Si<<24|vi<<16|Di|0;while(ui!==0);for(ii=1<<Ze-1;ri&ii;)ii>>=1;if(ii!==0?(ri&=ii-1,ri+=ii):ri=0,Qe++,--yi[Ze]===0){if(Ze===ei)break;Ze=$e[Ve+We[Qe]]}if(Ze>ti&&(ri&hi)!==ci){for(oi===0&&(oi=ti),mi+=St,ni=Ze-oi,ai=1<<ni;ni+oi<ei&&(ai-=yi[ni+oi],!(ai<=0));)ni++,ai<<=1;if(si+=1<<ni,je===LENS$1&&si>ENOUGH_LENS$1||je===DISTS$1&&si>ENOUGH_DISTS$1)return 1;ci=ri&hi,qe[ci]=ti<<24|ni<<16|mi-Xe|0}}return ri!==0&&(qe[mi+ri]=Ze-oi<<24|64<<16|0),Ke.bits=ti,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=16180,FLAGS=16181,TIME=16182,OS=16183,EXLEN=16184,EXTRA=16185,NAME=16186,COMMENT=16187,HCRC=16188,DICTID=16189,DICT=16190,TYPE=16191,TYPEDO=16192,STORED=16193,COPY_=16194,COPY=16195,TABLE=16196,LENLENS=16197,CODELENS=16198,LEN_=16199,LEN=16200,LENEXT=16201,DIST=16202,DISTEXT=16203,MATCH=16204,LIT=16205,CHECK=16206,LENGTH=16207,DONE=16208,BAD=16209,MEM=16210,SYNC=16211,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=je=>(je>>>24&255)+(je>>>8&65280)+((je&65280)<<8)+((je&255)<<24);function InflateState(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateStateCheck=je=>{if(!je)return 1;const $e=je.state;return!$e||$e.strm!==je||$e.mode<HEAD||$e.mode>SYNC?1:0},inflateResetKeep=je=>{if(inflateStateCheck(je))return Z_STREAM_ERROR$1;const $e=je.state;return je.total_in=je.total_out=$e.total=0,je.msg="",$e.wrap&&(je.adler=$e.wrap&1),$e.mode=HEAD,$e.last=0,$e.havedict=0,$e.flags=-1,$e.dmax=32768,$e.head=null,$e.hold=0,$e.bits=0,$e.lencode=$e.lendyn=new Int32Array(ENOUGH_LENS),$e.distcode=$e.distdyn=new Int32Array(ENOUGH_DISTS),$e.sane=1,$e.back=-1,Z_OK$1},inflateReset=je=>{if(inflateStateCheck(je))return Z_STREAM_ERROR$1;const $e=je.state;return $e.wsize=0,$e.whave=0,$e.wnext=0,inflateResetKeep(je)},inflateReset2=(je,$e)=>{let Ve;if(inflateStateCheck(je))return Z_STREAM_ERROR$1;const ze=je.state;return $e<0?(Ve=0,$e=-$e):(Ve=($e>>4)+5,$e<48&&($e&=15)),$e&&($e<8||$e>15)?Z_STREAM_ERROR$1:(ze.window!==null&&ze.wbits!==$e&&(ze.window=null),ze.wrap=Ve,ze.wbits=$e,inflateReset(je))},inflateInit2=(je,$e)=>{if(!je)return Z_STREAM_ERROR$1;const Ve=new InflateState;je.state=Ve,Ve.strm=je,Ve.window=null,Ve.mode=HEAD;const ze=inflateReset2(je,$e);return ze!==Z_OK$1&&(je.state=null),ze},inflateInit=je=>inflateInit2(je,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=je=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let $e=0;for(;$e<144;)je.lens[$e++]=8;for(;$e<256;)je.lens[$e++]=9;for(;$e<280;)je.lens[$e++]=7;for(;$e<288;)je.lens[$e++]=8;for(inftrees(LENS,je.lens,0,288,lenfix,0,je.work,{bits:9}),$e=0;$e<32;)je.lens[$e++]=5;inftrees(DISTS,je.lens,0,32,distfix,0,je.work,{bits:5}),virgin=!1}je.lencode=lenfix,je.lenbits=9,je.distcode=distfix,je.distbits=5},updatewindow=(je,$e,Ve,ze)=>{let qe;const Xe=je.state;return Xe.window===null&&(Xe.wsize=1<<Xe.wbits,Xe.wnext=0,Xe.whave=0,Xe.window=new Uint8Array(Xe.wsize)),ze>=Xe.wsize?(Xe.window.set($e.subarray(Ve-Xe.wsize,Ve),0),Xe.wnext=0,Xe.whave=Xe.wsize):(qe=Xe.wsize-Xe.wnext,qe>ze&&(qe=ze),Xe.window.set($e.subarray(Ve-ze,Ve-ze+qe),Xe.wnext),ze-=qe,ze?(Xe.window.set($e.subarray(Ve-ze,Ve),0),Xe.wnext=ze,Xe.whave=Xe.wsize):(Xe.wnext+=qe,Xe.wnext===Xe.wsize&&(Xe.wnext=0),Xe.whave<Xe.wsize&&(Xe.whave+=qe))),0},inflate$2=(je,$e)=>{let Ve,ze,qe,Xe,We,Ke,Je,Ze,Qe,St,ei,ti,ni,oi,ai=0,si,ri,ii,ui,ci,hi,mi,di;const fi=new Uint8Array(4);let yi,pi;const xi=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck(je)||!je.output||!je.input&&je.avail_in!==0)return Z_STREAM_ERROR$1;Ve=je.state,Ve.mode===TYPE&&(Ve.mode=TYPEDO),We=je.next_out,qe=je.output,Je=je.avail_out,Xe=je.next_in,ze=je.input,Ke=je.avail_in,Ze=Ve.hold,Qe=Ve.bits,St=Ke,ei=Je,di=Z_OK$1;e:for(;;)switch(Ve.mode){case HEAD:if(Ve.wrap===0){Ve.mode=TYPEDO;break}for(;Qe<16;){if(Ke===0)break e;Ke--,Ze+=ze[Xe++]<<Qe,Qe+=8}if(Ve.wrap&2&&Ze===35615){Ve.wbits===0&&(Ve.wbits=15),Ve.check=0,fi[0]=Ze&255,fi[1]=Ze>>>8&255,Ve.check=crc32_1(Ve.check,fi,2,0),Ze=0,Qe=0,Ve.mode=FLAGS;break}if(Ve.head&&(Ve.head.done=!1),!(Ve.wrap&1)||(((Ze&255)<<8)+(Ze>>8))%31){je.msg="incorrect header check",Ve.mode=BAD;break}if((Ze&15)!==Z_DEFLATED){je.msg="unknown compression method",Ve.mode=BAD;break}if(Ze>>>=4,Qe-=4,mi=(Ze&15)+8,Ve.wbits===0&&(Ve.wbits=mi),mi>15||mi>Ve.wbits){je.msg="invalid window size",Ve.mode=BAD;break}Ve.dmax=1<<Ve.wbits,Ve.flags=0,je.adler=Ve.check=1,Ve.mode=Ze&512?DICTID:TYPE,Ze=0,Qe=0;break;case FLAGS:for(;Qe<16;){if(Ke===0)break e;Ke--,Ze+=ze[Xe++]<<Qe,Qe+=8}if(Ve.flags=Ze,(Ve.flags&255)!==Z_DEFLATED){je.msg="unknown compression method",Ve.mode=BAD;break}if(Ve.flags&57344){je.msg="unknown header flags set",Ve.mode=BAD;break}Ve.head&&(Ve.head.text=Ze>>8&1),Ve.flags&512&&Ve.wrap&4&&(fi[0]=Ze&255,fi[1]=Ze>>>8&255,Ve.check=crc32_1(Ve.check,fi,2,0)),Ze=0,Qe=0,Ve.mode=TIME;case TIME:for(;Qe<32;){if(Ke===0)break e;Ke--,Ze+=ze[Xe++]<<Qe,Qe+=8}Ve.head&&(Ve.head.time=Ze),Ve.flags&512&&Ve.wrap&4&&(fi[0]=Ze&255,fi[1]=Ze>>>8&255,fi[2]=Ze>>>16&255,fi[3]=Ze>>>24&255,Ve.check=crc32_1(Ve.check,fi,4,0)),Ze=0,Qe=0,Ve.mode=OS;case OS:for(;Qe<16;){if(Ke===0)break e;Ke--,Ze+=ze[Xe++]<<Qe,Qe+=8}Ve.head&&(Ve.head.xflags=Ze&255,Ve.head.os=Ze>>8),Ve.flags&512&&Ve.wrap&4&&(fi[0]=Ze&255,fi[1]=Ze>>>8&255,Ve.check=crc32_1(Ve.check,fi,2,0)),Ze=0,Qe=0,Ve.mode=EXLEN;case EXLEN:if(Ve.flags&1024){for(;Qe<16;){if(Ke===0)break e;Ke--,Ze+=ze[Xe++]<<Qe,Qe+=8}Ve.length=Ze,Ve.head&&(Ve.head.extra_len=Ze),Ve.flags&512&&Ve.wrap&4&&(fi[0]=Ze&255,fi[1]=Ze>>>8&255,Ve.check=crc32_1(Ve.check,fi,2,0)),Ze=0,Qe=0}else Ve.head&&(Ve.head.extra=null);Ve.mode=EXTRA;case EXTRA:if(Ve.flags&1024&&(ti=Ve.length,ti>Ke&&(ti=Ke),ti&&(Ve.head&&(mi=Ve.head.extra_len-Ve.length,Ve.head.extra||(Ve.head.extra=new Uint8Array(Ve.head.extra_len)),Ve.head.extra.set(ze.subarray(Xe,Xe+ti),mi)),Ve.flags&512&&Ve.wrap&4&&(Ve.check=crc32_1(Ve.check,ze,ti,Xe)),Ke-=ti,Xe+=ti,Ve.length-=ti),Ve.length))break e;Ve.length=0,Ve.mode=NAME;case NAME:if(Ve.flags&2048){if(Ke===0)break e;ti=0;do mi=ze[Xe+ti++],Ve.head&&mi&&Ve.length<65536&&(Ve.head.name+=String.fromCharCode(mi));while(mi&&ti<Ke);if(Ve.flags&512&&Ve.wrap&4&&(Ve.check=crc32_1(Ve.check,ze,ti,Xe)),Ke-=ti,Xe+=ti,mi)break e}else Ve.head&&(Ve.head.name=null);Ve.length=0,Ve.mode=COMMENT;case COMMENT:if(Ve.flags&4096){if(Ke===0)break e;ti=0;do mi=ze[Xe+ti++],Ve.head&&mi&&Ve.length<65536&&(Ve.head.comment+=String.fromCharCode(mi));while(mi&&ti<Ke);if(Ve.flags&512&&Ve.wrap&4&&(Ve.check=crc32_1(Ve.check,ze,ti,Xe)),Ke-=ti,Xe+=ti,mi)break e}else Ve.head&&(Ve.head.comment=null);Ve.mode=HCRC;case HCRC:if(Ve.flags&512){for(;Qe<16;){if(Ke===0)break e;Ke--,Ze+=ze[Xe++]<<Qe,Qe+=8}if(Ve.wrap&4&&Ze!==(Ve.check&65535)){je.msg="header crc mismatch",Ve.mode=BAD;break}Ze=0,Qe=0}Ve.head&&(Ve.head.hcrc=Ve.flags>>9&1,Ve.head.done=!0),je.adler=Ve.check=0,Ve.mode=TYPE;break;case DICTID:for(;Qe<32;){if(Ke===0)break e;Ke--,Ze+=ze[Xe++]<<Qe,Qe+=8}je.adler=Ve.check=zswap32(Ze),Ze=0,Qe=0,Ve.mode=DICT;case DICT:if(Ve.havedict===0)return je.next_out=We,je.avail_out=Je,je.next_in=Xe,je.avail_in=Ke,Ve.hold=Ze,Ve.bits=Qe,Z_NEED_DICT$1;je.adler=Ve.check=1,Ve.mode=TYPE;case TYPE:if($e===Z_BLOCK||$e===Z_TREES)break e;case TYPEDO:if(Ve.last){Ze>>>=Qe&7,Qe-=Qe&7,Ve.mode=CHECK;break}for(;Qe<3;){if(Ke===0)break e;Ke--,Ze+=ze[Xe++]<<Qe,Qe+=8}switch(Ve.last=Ze&1,Ze>>>=1,Qe-=1,Ze&3){case 0:Ve.mode=STORED;break;case 1:if(fixedtables(Ve),Ve.mode=LEN_,$e===Z_TREES){Ze>>>=2,Qe-=2;break e}break;case 2:Ve.mode=TABLE;break;case 3:je.msg="invalid block type",Ve.mode=BAD}Ze>>>=2,Qe-=2;break;case STORED:for(Ze>>>=Qe&7,Qe-=Qe&7;Qe<32;){if(Ke===0)break e;Ke--,Ze+=ze[Xe++]<<Qe,Qe+=8}if((Ze&65535)!==(Ze>>>16^65535)){je.msg="invalid stored block lengths",Ve.mode=BAD;break}if(Ve.length=Ze&65535,Ze=0,Qe=0,Ve.mode=COPY_,$e===Z_TREES)break e;case COPY_:Ve.mode=COPY;case COPY:if(ti=Ve.length,ti){if(ti>Ke&&(ti=Ke),ti>Je&&(ti=Je),ti===0)break e;qe.set(ze.subarray(Xe,Xe+ti),We),Ke-=ti,Xe+=ti,Je-=ti,We+=ti,Ve.length-=ti;break}Ve.mode=TYPE;break;case TABLE:for(;Qe<14;){if(Ke===0)break e;Ke--,Ze+=ze[Xe++]<<Qe,Qe+=8}if(Ve.nlen=(Ze&31)+257,Ze>>>=5,Qe-=5,Ve.ndist=(Ze&31)+1,Ze>>>=5,Qe-=5,Ve.ncode=(Ze&15)+4,Ze>>>=4,Qe-=4,Ve.nlen>286||Ve.ndist>30){je.msg="too many length or distance symbols",Ve.mode=BAD;break}Ve.have=0,Ve.mode=LENLENS;case LENLENS:for(;Ve.have<Ve.ncode;){for(;Qe<3;){if(Ke===0)break e;Ke--,Ze+=ze[Xe++]<<Qe,Qe+=8}Ve.lens[xi[Ve.have++]]=Ze&7,Ze>>>=3,Qe-=3}for(;Ve.have<19;)Ve.lens[xi[Ve.have++]]=0;if(Ve.lencode=Ve.lendyn,Ve.lenbits=7,yi={bits:Ve.lenbits},di=inftrees(CODES,Ve.lens,0,19,Ve.lencode,0,Ve.work,yi),Ve.lenbits=yi.bits,di){je.msg="invalid code lengths set",Ve.mode=BAD;break}Ve.have=0,Ve.mode=CODELENS;case CODELENS:for(;Ve.have<Ve.nlen+Ve.ndist;){for(;ai=Ve.lencode[Ze&(1<<Ve.lenbits)-1],si=ai>>>24,ri=ai>>>16&255,ii=ai&65535,!(si<=Qe);){if(Ke===0)break e;Ke--,Ze+=ze[Xe++]<<Qe,Qe+=8}if(ii<16)Ze>>>=si,Qe-=si,Ve.lens[Ve.have++]=ii;else{if(ii===16){for(pi=si+2;Qe<pi;){if(Ke===0)break e;Ke--,Ze+=ze[Xe++]<<Qe,Qe+=8}if(Ze>>>=si,Qe-=si,Ve.have===0){je.msg="invalid bit length repeat",Ve.mode=BAD;break}mi=Ve.lens[Ve.have-1],ti=3+(Ze&3),Ze>>>=2,Qe-=2}else if(ii===17){for(pi=si+3;Qe<pi;){if(Ke===0)break e;Ke--,Ze+=ze[Xe++]<<Qe,Qe+=8}Ze>>>=si,Qe-=si,mi=0,ti=3+(Ze&7),Ze>>>=3,Qe-=3}else{for(pi=si+7;Qe<pi;){if(Ke===0)break e;Ke--,Ze+=ze[Xe++]<<Qe,Qe+=8}Ze>>>=si,Qe-=si,mi=0,ti=11+(Ze&127),Ze>>>=7,Qe-=7}if(Ve.have+ti>Ve.nlen+Ve.ndist){je.msg="invalid bit length repeat",Ve.mode=BAD;break}for(;ti--;)Ve.lens[Ve.have++]=mi}}if(Ve.mode===BAD)break;if(Ve.lens[256]===0){je.msg="invalid code -- missing end-of-block",Ve.mode=BAD;break}if(Ve.lenbits=9,yi={bits:Ve.lenbits},di=inftrees(LENS,Ve.lens,0,Ve.nlen,Ve.lencode,0,Ve.work,yi),Ve.lenbits=yi.bits,di){je.msg="invalid literal/lengths set",Ve.mode=BAD;break}if(Ve.distbits=6,Ve.distcode=Ve.distdyn,yi={bits:Ve.distbits},di=inftrees(DISTS,Ve.lens,Ve.nlen,Ve.ndist,Ve.distcode,0,Ve.work,yi),Ve.distbits=yi.bits,di){je.msg="invalid distances set",Ve.mode=BAD;break}if(Ve.mode=LEN_,$e===Z_TREES)break e;case LEN_:Ve.mode=LEN;case LEN:if(Ke>=6&&Je>=258){je.next_out=We,je.avail_out=Je,je.next_in=Xe,je.avail_in=Ke,Ve.hold=Ze,Ve.bits=Qe,inffast(je,ei),We=je.next_out,qe=je.output,Je=je.avail_out,Xe=je.next_in,ze=je.input,Ke=je.avail_in,Ze=Ve.hold,Qe=Ve.bits,Ve.mode===TYPE&&(Ve.back=-1);break}for(Ve.back=0;ai=Ve.lencode[Ze&(1<<Ve.lenbits)-1],si=ai>>>24,ri=ai>>>16&255,ii=ai&65535,!(si<=Qe);){if(Ke===0)break e;Ke--,Ze+=ze[Xe++]<<Qe,Qe+=8}if(ri&&!(ri&240)){for(ui=si,ci=ri,hi=ii;ai=Ve.lencode[hi+((Ze&(1<<ui+ci)-1)>>ui)],si=ai>>>24,ri=ai>>>16&255,ii=ai&65535,!(ui+si<=Qe);){if(Ke===0)break e;Ke--,Ze+=ze[Xe++]<<Qe,Qe+=8}Ze>>>=ui,Qe-=ui,Ve.back+=ui}if(Ze>>>=si,Qe-=si,Ve.back+=si,Ve.length=ii,ri===0){Ve.mode=LIT;break}if(ri&32){Ve.back=-1,Ve.mode=TYPE;break}if(ri&64){je.msg="invalid literal/length code",Ve.mode=BAD;break}Ve.extra=ri&15,Ve.mode=LENEXT;case LENEXT:if(Ve.extra){for(pi=Ve.extra;Qe<pi;){if(Ke===0)break e;Ke--,Ze+=ze[Xe++]<<Qe,Qe+=8}Ve.length+=Ze&(1<<Ve.extra)-1,Ze>>>=Ve.extra,Qe-=Ve.extra,Ve.back+=Ve.extra}Ve.was=Ve.length,Ve.mode=DIST;case DIST:for(;ai=Ve.distcode[Ze&(1<<Ve.distbits)-1],si=ai>>>24,ri=ai>>>16&255,ii=ai&65535,!(si<=Qe);){if(Ke===0)break e;Ke--,Ze+=ze[Xe++]<<Qe,Qe+=8}if(!(ri&240)){for(ui=si,ci=ri,hi=ii;ai=Ve.distcode[hi+((Ze&(1<<ui+ci)-1)>>ui)],si=ai>>>24,ri=ai>>>16&255,ii=ai&65535,!(ui+si<=Qe);){if(Ke===0)break e;Ke--,Ze+=ze[Xe++]<<Qe,Qe+=8}Ze>>>=ui,Qe-=ui,Ve.back+=ui}if(Ze>>>=si,Qe-=si,Ve.back+=si,ri&64){je.msg="invalid distance code",Ve.mode=BAD;break}Ve.offset=ii,Ve.extra=ri&15,Ve.mode=DISTEXT;case DISTEXT:if(Ve.extra){for(pi=Ve.extra;Qe<pi;){if(Ke===0)break e;Ke--,Ze+=ze[Xe++]<<Qe,Qe+=8}Ve.offset+=Ze&(1<<Ve.extra)-1,Ze>>>=Ve.extra,Qe-=Ve.extra,Ve.back+=Ve.extra}if(Ve.offset>Ve.dmax){je.msg="invalid distance too far back",Ve.mode=BAD;break}Ve.mode=MATCH;case MATCH:if(Je===0)break e;if(ti=ei-Je,Ve.offset>ti){if(ti=Ve.offset-ti,ti>Ve.whave&&Ve.sane){je.msg="invalid distance too far back",Ve.mode=BAD;break}ti>Ve.wnext?(ti-=Ve.wnext,ni=Ve.wsize-ti):ni=Ve.wnext-ti,ti>Ve.length&&(ti=Ve.length),oi=Ve.window}else oi=qe,ni=We-Ve.offset,ti=Ve.length;ti>Je&&(ti=Je),Je-=ti,Ve.length-=ti;do qe[We++]=oi[ni++];while(--ti);Ve.length===0&&(Ve.mode=LEN);break;case LIT:if(Je===0)break e;qe[We++]=Ve.length,Je--,Ve.mode=LEN;break;case CHECK:if(Ve.wrap){for(;Qe<32;){if(Ke===0)break e;Ke--,Ze|=ze[Xe++]<<Qe,Qe+=8}if(ei-=Je,je.total_out+=ei,Ve.total+=ei,Ve.wrap&4&&ei&&(je.adler=Ve.check=Ve.flags?crc32_1(Ve.check,qe,ei,We-ei):adler32_1(Ve.check,qe,ei,We-ei)),ei=Je,Ve.wrap&4&&(Ve.flags?Ze:zswap32(Ze))!==Ve.check){je.msg="incorrect data check",Ve.mode=BAD;break}Ze=0,Qe=0}Ve.mode=LENGTH;case LENGTH:if(Ve.wrap&&Ve.flags){for(;Qe<32;){if(Ke===0)break e;Ke--,Ze+=ze[Xe++]<<Qe,Qe+=8}if(Ve.wrap&4&&Ze!==(Ve.total&4294967295)){je.msg="incorrect length check",Ve.mode=BAD;break}Ze=0,Qe=0}Ve.mode=DONE;case DONE:di=Z_STREAM_END$1;break e;case BAD:di=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return je.next_out=We,je.avail_out=Je,je.next_in=Xe,je.avail_in=Ke,Ve.hold=Ze,Ve.bits=Qe,(Ve.wsize||ei!==je.avail_out&&Ve.mode<BAD&&(Ve.mode<CHECK||$e!==Z_FINISH$1))&&updatewindow(je,je.output,je.next_out,ei-je.avail_out),St-=je.avail_in,ei-=je.avail_out,je.total_in+=St,je.total_out+=ei,Ve.total+=ei,Ve.wrap&4&&ei&&(je.adler=Ve.check=Ve.flags?crc32_1(Ve.check,qe,ei,je.next_out-ei):adler32_1(Ve.check,qe,ei,je.next_out-ei)),je.data_type=Ve.bits+(Ve.last?64:0)+(Ve.mode===TYPE?128:0)+(Ve.mode===LEN_||Ve.mode===COPY_?256:0),(St===0&&ei===0||$e===Z_FINISH$1)&&di===Z_OK$1&&(di=Z_BUF_ERROR),di},inflateEnd=je=>{if(inflateStateCheck(je))return Z_STREAM_ERROR$1;let $e=je.state;return $e.window&&($e.window=null),je.state=null,Z_OK$1},inflateGetHeader=(je,$e)=>{if(inflateStateCheck(je))return Z_STREAM_ERROR$1;const Ve=je.state;return Ve.wrap&2?(Ve.head=$e,$e.done=!1,Z_OK$1):Z_STREAM_ERROR$1},inflateSetDictionary=(je,$e)=>{const Ve=$e.length;let ze,qe,Xe;return inflateStateCheck(je)||(ze=je.state,ze.wrap!==0&&ze.mode!==DICT)?Z_STREAM_ERROR$1:ze.mode===DICT&&(qe=1,qe=adler32_1(qe,$e,Ve,0),qe!==ze.check)?Z_DATA_ERROR$1:(Xe=updatewindow(je,$e,Ve,Ve),Xe?(ze.mode=MEM,Z_MEM_ERROR$1):(ze.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString$2=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(je){this.options=common.assign({chunkSize:1024*64,windowBits:15,to:""},je||{});const $e=this.options;$e.raw&&$e.windowBits>=0&&$e.windowBits<16&&($e.windowBits=-$e.windowBits,$e.windowBits===0&&($e.windowBits=-15)),$e.windowBits>=0&&$e.windowBits<16&&!(je&&je.windowBits)&&($e.windowBits+=32),$e.windowBits>15&&$e.windowBits<48&&($e.windowBits&15||($e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let Ve=inflate_1$2.inflateInit2(this.strm,$e.windowBits);if(Ve!==Z_OK)throw new Error(messages[Ve]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),$e.dictionary&&(typeof $e.dictionary=="string"?$e.dictionary=strings.string2buf($e.dictionary):toString$2.call($e.dictionary)==="[object ArrayBuffer]"&&($e.dictionary=new Uint8Array($e.dictionary)),$e.raw&&(Ve=inflate_1$2.inflateSetDictionary(this.strm,$e.dictionary),Ve!==Z_OK)))throw new Error(messages[Ve])}Inflate$1.prototype.push=function(je,$e){const Ve=this.strm,ze=this.options.chunkSize,qe=this.options.dictionary;let Xe,We,Ke;if(this.ended)return!1;for($e===~~$e?We=$e:We=$e===!0?Z_FINISH:Z_NO_FLUSH,toString$2.call(je)==="[object ArrayBuffer]"?Ve.input=new Uint8Array(je):Ve.input=je,Ve.next_in=0,Ve.avail_in=Ve.input.length;;){for(Ve.avail_out===0&&(Ve.output=new Uint8Array(ze),Ve.next_out=0,Ve.avail_out=ze),Xe=inflate_1$2.inflate(Ve,We),Xe===Z_NEED_DICT&&qe&&(Xe=inflate_1$2.inflateSetDictionary(Ve,qe),Xe===Z_OK?Xe=inflate_1$2.inflate(Ve,We):Xe===Z_DATA_ERROR&&(Xe=Z_NEED_DICT));Ve.avail_in>0&&Xe===Z_STREAM_END&&Ve.state.wrap>0&&je[Ve.next_in]!==0;)inflate_1$2.inflateReset(Ve),Xe=inflate_1$2.inflate(Ve,We);switch(Xe){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(Xe),this.ended=!0,!1}if(Ke=Ve.avail_out,Ve.next_out&&(Ve.avail_out===0||Xe===Z_STREAM_END))if(this.options.to==="string"){let Je=strings.utf8border(Ve.output,Ve.next_out),Ze=Ve.next_out-Je,Qe=strings.buf2string(Ve.output,Je);Ve.next_out=Ze,Ve.avail_out=ze-Ze,Ze&&Ve.output.set(Ve.output.subarray(Je,Je+Ze),0),this.onData(Qe)}else this.onData(Ve.output.length===Ve.next_out?Ve.output:Ve.output.subarray(0,Ve.next_out));if(!(Xe===Z_OK&&Ke===0)){if(Xe===Z_STREAM_END)return Xe=inflate_1$2.inflateEnd(this.strm),this.onEnd(Xe),this.ended=!0,!0;if(Ve.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(je){this.chunks.push(je)};Inflate$1.prototype.onEnd=function(je){je===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=je,this.msg=this.strm.msg};function inflate$1(je,$e){const Ve=new Inflate$1($e);if(Ve.push(je),Ve.err)throw Ve.msg||messages[Ve.err];return Ve.result}function inflateRaw$1(je,$e){return $e=$e||{},$e.raw=!0,inflate$1(je,$e)}var Inflate_1$1=Inflate$1,inflate_2=inflate$1,inflateRaw_1$1=inflateRaw$1,ungzip$1=inflate$1,constants=constants$2,inflate_1$1={Inflate:Inflate_1$1,inflate:inflate_2,inflateRaw:inflateRaw_1$1,ungzip:ungzip$1,constants};const{Deflate,deflate,deflateRaw,gzip}=deflate_1$1,{Inflate,inflate,inflateRaw,ungzip}=inflate_1$1;var deflate_1=deflate,Inflate_1=Inflate,inflate_1=inflate;const pngSignature=[137,80,78,71,13,10,26,10],crcTable=[];for(let je=0;je<256;je++){let $e=je;for(let Ve=0;Ve<8;Ve++)$e&1?$e=3988292384^$e>>>1:$e=$e>>>1;crcTable[je]=$e}const initialCrc=4294967295;function updateCrc(je,$e,Ve){let ze=je;for(let qe=0;qe<Ve;qe++)ze=crcTable[(ze^$e[qe])&255]^ze>>>8;return ze}function crc(je,$e){return(updateCrc(initialCrc,je,$e)^initialCrc)>>>0}var ColorType;(function(je){je[je.UNKNOWN=-1]="UNKNOWN",je[je.GREYSCALE=0]="GREYSCALE",je[je.TRUECOLOUR=2]="TRUECOLOUR",je[je.INDEXED_COLOUR=3]="INDEXED_COLOUR",je[je.GREYSCALE_ALPHA=4]="GREYSCALE_ALPHA",je[je.TRUECOLOUR_ALPHA=6]="TRUECOLOUR_ALPHA"})(ColorType||(ColorType={}));var CompressionMethod;(function(je){je[je.UNKNOWN=-1]="UNKNOWN",je[je.DEFLATE=0]="DEFLATE"})(CompressionMethod||(CompressionMethod={}));var FilterMethod;(function(je){je[je.UNKNOWN=-1]="UNKNOWN",je[je.ADAPTIVE=0]="ADAPTIVE"})(FilterMethod||(FilterMethod={}));var InterlaceMethod;(function(je){je[je.UNKNOWN=-1]="UNKNOWN",je[je.NO_INTERLACE=0]="NO_INTERLACE",je[je.ADAM7=1]="ADAM7"})(InterlaceMethod||(InterlaceMethod={}));const empty=new Uint8Array(0),NULL="\0",uint16=new Uint16Array([255]),uint8=new Uint8Array(uint16.buffer),osIsLittleEndian=uint8[0]===255;class PngDecoder extends IOBuffer$4{constructor($e,Ve={}){super($e);const{checkCrc:ze=!1}=Ve;this._checkCrc=ze,this._inflator=new Inflate_1,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=CompressionMethod.UNKNOWN,this._filterMethod=FilterMethod.UNKNOWN,this._interlaceMethod=InterlaceMethod.UNKNOWN,this._colorType=ColorType.UNKNOWN,this.setBigEndian()}decode(){for(this.decodeSignature();!this._end;)this.decodeChunk();return this.decodeImage(),this._png}decodeSignature(){for(let $e=0;$e<pngSignature.length;$e++)if(this.readUint8()!==pngSignature[$e])throw new Error(`wrong PNG signature. Byte at ${$e} should be ${pngSignature[$e]}.`)}decodeChunk(){const $e=this.readUint32(),Ve=this.readChars(4),ze=this.offset;switch(Ve){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE($e);break;case"IDAT":this.decodeIDAT($e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS($e);break;case"iCCP":this.decodeiCCP($e);break;case"tEXt":this.decodetEXt($e);break;case"pHYs":this.decodepHYs();break;default:this.skip($e);break}if(this.offset-ze!==$e)throw new Error(`Length mismatch while decoding chunk ${Ve}`);if(this._checkCrc){const qe=this.readUint32(),Xe=$e+4,We=crc(new Uint8Array(this.buffer,this.byteOffset+this.offset-Xe-4,Xe),Xe);if(We!==qe)throw new Error(`CRC mismatch for chunk ${Ve}. Expected ${qe}, found ${We}`)}else this.skip(4)}decodeIHDR(){const $e=this._png;$e.width=this.readUint32(),$e.height=this.readUint32(),$e.depth=checkBitDepth(this.readUint8());const Ve=this.readUint8();this._colorType=Ve;let ze;switch(Ve){case ColorType.GREYSCALE:ze=1;break;case ColorType.TRUECOLOUR:ze=3;break;case ColorType.INDEXED_COLOUR:ze=1;break;case ColorType.GREYSCALE_ALPHA:ze=2;break;case ColorType.TRUECOLOUR_ALPHA:ze=4;break;default:throw new Error(`Unknown color type: ${Ve}`)}if(this._png.channels=ze,this._compressionMethod=this.readUint8(),this._compressionMethod!==CompressionMethod.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodePLTE($e){if($e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${$e}`);const Ve=$e/3;this._hasPalette=!0;const ze=[];this._palette=ze;for(let qe=0;qe<Ve;qe++)ze.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT($e){this._inflator.push(new Uint8Array(this.buffer,this.offset+this.byteOffset,$e)),this.skip($e)}decodetRNS($e){switch(this._colorType){case ColorType.GREYSCALE:case ColorType.TRUECOLOUR:{if($e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${$e}`);if($e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${$e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array($e/2);for(let Ve=0;Ve<$e/2;Ve++)this._transparency[Ve]=this.readUint16();break}case ColorType.INDEXED_COLOUR:{if($e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${$e} vs ${this._palette.length})`);let Ve=0;for(;Ve<$e;Ve++){const ze=this.readByte();this._palette[Ve].push(ze)}for(;Ve<this._palette.length;Ve++)this._palette[Ve].push(255);break}default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP($e){let Ve="",ze;for(;(ze=this.readChar())!==NULL;)Ve+=ze;const qe=this.readUint8();if(qe!==CompressionMethod.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${qe}`);const Xe=this.readBytes($e-Ve.length-2);this._png.iccEmbeddedProfile={name:Ve,profile:inflate_1(Xe)}}decodetEXt($e){let Ve="",ze;for(;(ze=this.readChar())!==NULL;)Ve+=ze;this._png.text[Ve]=this.readChars($e-Ve.length-1)}decodepHYs(){const $e=this.readUint32(),Ve=this.readUint32(),ze=this.readByte();this._png.resolution={x:$e,y:Ve,unit:ze}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const $e=this._inflator.result;if(this._filterMethod!==FilterMethod.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===InterlaceMethod.NO_INTERLACE)this.decodeInterlaceNull($e);else throw new Error(`Interlace method ${this._interlaceMethod} not supported`)}decodeInterlaceNull($e){const Ve=this._png.height,ze=this._png.channels*this._png.depth/8,qe=this._png.width*ze,Xe=new Uint8Array(this._png.height*qe);let We=empty,Ke=0,Je,Ze;for(let Qe=0;Qe<Ve;Qe++){switch(Je=$e.subarray(Ke+1,Ke+1+qe),Ze=Xe.subarray(Qe*qe,(Qe+1)*qe),$e[Ke]){case 0:unfilterNone(Je,Ze,qe);break;case 1:unfilterSub(Je,Ze,qe,ze);break;case 2:unfilterUp(Je,Ze,We,qe);break;case 3:unfilterAverage(Je,Ze,We,qe,ze);break;case 4:unfilterPaeth(Je,Ze,We,qe,ze);break;default:throw new Error(`Unsupported filter: ${$e[Ke]}`)}We=Ze,Ke+=qe+1}if(this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency),this._png.depth===16){const Qe=new Uint16Array(Xe.buffer);if(osIsLittleEndian)for(let St=0;St<Qe.length;St++)Qe[St]=swap16(Qe[St]);this._png.data=Qe}else this._png.data=Xe}}function unfilterNone(je,$e,Ve){for(let ze=0;ze<Ve;ze++)$e[ze]=je[ze]}function unfilterSub(je,$e,Ve,ze){let qe=0;for(;qe<ze;qe++)$e[qe]=je[qe];for(;qe<Ve;qe++)$e[qe]=je[qe]+$e[qe-ze]&255}function unfilterUp(je,$e,Ve,ze){let qe=0;if(Ve.length===0)for(;qe<ze;qe++)$e[qe]=je[qe];else for(;qe<ze;qe++)$e[qe]=je[qe]+Ve[qe]&255}function unfilterAverage(je,$e,Ve,ze,qe){let Xe=0;if(Ve.length===0){for(;Xe<qe;Xe++)$e[Xe]=je[Xe];for(;Xe<ze;Xe++)$e[Xe]=je[Xe]+($e[Xe-qe]>>1)&255}else{for(;Xe<qe;Xe++)$e[Xe]=je[Xe]+(Ve[Xe]>>1)&255;for(;Xe<ze;Xe++)$e[Xe]=je[Xe]+($e[Xe-qe]+Ve[Xe]>>1)&255}}function unfilterPaeth(je,$e,Ve,ze,qe){let Xe=0;if(Ve.length===0){for(;Xe<qe;Xe++)$e[Xe]=je[Xe];for(;Xe<ze;Xe++)$e[Xe]=je[Xe]+$e[Xe-qe]&255}else{for(;Xe<qe;Xe++)$e[Xe]=je[Xe]+Ve[Xe]&255;for(;Xe<ze;Xe++)$e[Xe]=je[Xe]+paethPredictor($e[Xe-qe],Ve[Xe],Ve[Xe-qe])&255}}function paethPredictor(je,$e,Ve){const ze=je+$e-Ve,qe=Math.abs(ze-je),Xe=Math.abs(ze-$e),We=Math.abs(ze-Ve);return qe<=Xe&&qe<=We?je:Xe<=We?$e:Ve}function swap16(je){return(je&255)<<8|je>>8&255}function checkBitDepth(je){if(je!==1&&je!==2&&je!==4&&je!==8&&je!==16)throw new Error(`invalid bit depth: ${je}`);return je}const defaultZlibOptions={level:3};class PngEncoder extends IOBuffer$4{constructor($e,Ve={}){super(),this._colorType=ColorType.UNKNOWN,this._zlibOptions={...defaultZlibOptions,...Ve.zlib},this._png=this._checkData($e),this.setBigEndian()}encode(){return this.encodeSignature(),this.encodeIHDR(),this.encodeData(),this.encodeIEND(),this.toArray()}encodeSignature(){this.writeBytes(pngSignature)}encodeIHDR(){this.writeUint32(13),this.writeChars("IHDR"),this.writeUint32(this._png.width),this.writeUint32(this._png.height),this.writeByte(this._png.depth),this.writeByte(this._colorType),this.writeByte(CompressionMethod.DEFLATE),this.writeByte(FilterMethod.ADAPTIVE),this.writeByte(InterlaceMethod.NO_INTERLACE),this.writeCrc(17)}encodeIEND(){this.writeUint32(0),this.writeChars("IEND"),this.writeCrc(4)}encodeIDAT($e){this.writeUint32($e.length),this.writeChars("IDAT"),this.writeBytes($e),this.writeCrc($e.length+4)}encodeData(){const{width:$e,height:Ve,channels:ze,depth:qe,data:Xe}=this._png,We=ze*$e,Ke=new IOBuffer$4().setBigEndian();let Je=0;for(let St=0;St<Ve;St++)if(Ke.writeByte(0),qe===8)Je=writeDataBytes(Xe,Ke,We,Je);else if(qe===16)Je=writeDataUint16(Xe,Ke,We,Je);else throw new Error("unreachable");const Ze=Ke.toArray(),Qe=deflate_1(Ze,this._zlibOptions);this.encodeIDAT(Qe)}_checkData($e){const{colorType:Ve,channels:ze,depth:qe}=getColorType($e),Xe={width:checkInteger($e.width,"width"),height:checkInteger($e.height,"height"),channels:ze,data:$e.data,depth:qe,text:{}};this._colorType=Ve;const We=Xe.width*Xe.height*ze;if(Xe.data.length!==We)throw new RangeError(`wrong data size. Found ${Xe.data.length}, expected ${We}`);return Xe}writeCrc($e){this.writeUint32(crc(new Uint8Array(this.buffer,this.byteOffset+this.offset-$e,$e),$e))}}function checkInteger(je,$e){if(Number.isInteger(je)&&je>0)return je;throw new TypeError(`${$e} must be a positive integer`)}function getColorType(je){const{channels:$e=4,depth:Ve=8}=je;if($e!==4&&$e!==3&&$e!==2&&$e!==1)throw new RangeError(`unsupported number of channels: ${$e}`);if(Ve!==8&&Ve!==16)throw new RangeError(`unsupported bit depth: ${Ve}`);const ze={channels:$e,depth:Ve,colorType:ColorType.UNKNOWN};switch($e){case 4:ze.colorType=ColorType.TRUECOLOUR_ALPHA;break;case 3:ze.colorType=ColorType.TRUECOLOUR;break;case 1:ze.colorType=ColorType.GREYSCALE;break;case 2:ze.colorType=ColorType.GREYSCALE_ALPHA;break;default:throw new Error("unsupported number of channels")}return ze}function writeDataBytes(je,$e,Ve,ze){for(let qe=0;qe<Ve;qe++)$e.writeByte(je[ze++]);return ze}function writeDataUint16(je,$e,Ve,ze){for(let qe=0;qe<Ve;qe++)$e.writeUint16(je[ze++]);return ze}var ResolutionUnitSpecifier;(function(je){je[je.UNKNOWN=0]="UNKNOWN",je[je.METRE=1]="METRE"})(ResolutionUnitSpecifier||(ResolutionUnitSpecifier={}));function decodePng(je,$e){return new PngDecoder(je,$e).decode()}function encodePng$1(je,$e){return new PngEncoder(je,$e).encode()}var encoder={exports:{}};(function(je){function $e(ze){var qe=Math.floor,Xe=new Array(64),We=new Array(64),Ke=new Array(64),Je=new Array(64),Ze,Qe,St,ei,ti=new Array(65535),ni=new Array(65535),oi=new Array(64),ai=new Array(64),si=[],ri=0,ii=7,ui=new Array(64),ci=new Array(64),hi=new Array(64),mi=new Array(256),di=new Array(2048),fi,yi=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],pi=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],xi=[0,1,2,3,4,5,6,7,8,9,10,11],Si=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],vi=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Di=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Ti=[0,1,2,3,4,5,6,7,8,9,10,11],Fi=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ci=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ni(Ui){for(var rn=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],un=0;un<64;un++){var dn=qe((rn[un]*Ui+50)/100);dn<1?dn=1:dn>255&&(dn=255),Xe[yi[un]]=dn}for(var hn=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Sn=0;Sn<64;Sn++){var fn=qe((hn[Sn]*Ui+50)/100);fn<1?fn=1:fn>255&&(fn=255),We[yi[Sn]]=fn}for(var Pn=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],zi=0,En=0;En<8;En++)for(var yn=0;yn<8;yn++)Ke[zi]=1/(Xe[yi[zi]]*Pn[En]*Pn[yn]*8),Je[zi]=1/(We[yi[zi]]*Pn[En]*Pn[yn]*8),zi++}function Ri(Ui,rn){for(var un=0,dn=0,hn=new Array,Sn=1;Sn<=16;Sn++){for(var fn=1;fn<=Ui[Sn];fn++)hn[rn[dn]]=[],hn[rn[dn]][0]=un,hn[rn[dn]][1]=Sn,dn++,un++;un*=2}return hn}function Yi(){Ze=Ri(pi,xi),Qe=Ri(Di,Ti),St=Ri(Si,vi),ei=Ri(Fi,Ci)}function ki(){for(var Ui=1,rn=2,un=1;un<=15;un++){for(var dn=Ui;dn<rn;dn++)ni[32767+dn]=un,ti[32767+dn]=[],ti[32767+dn][1]=un,ti[32767+dn][0]=dn;for(var hn=-(rn-1);hn<=-Ui;hn++)ni[32767+hn]=un,ti[32767+hn]=[],ti[32767+hn][1]=un,ti[32767+hn][0]=rn-1+hn;Ui<<=1,rn<<=1}}function ji(){for(var Ui=0;Ui<256;Ui++)di[Ui]=19595*Ui,di[Ui+256>>0]=38470*Ui,di[Ui+512>>0]=7471*Ui+32768,di[Ui+768>>0]=-11059*Ui,di[Ui+1024>>0]=-21709*Ui,di[Ui+1280>>0]=32768*Ui+8421375,di[Ui+1536>>0]=-27439*Ui,di[Ui+1792>>0]=-5329*Ui}function Vi(Ui){for(var rn=Ui[0],un=Ui[1]-1;un>=0;)rn&1<<un&&(ri|=1<<ii),un--,ii--,ii<0&&(ri==255?(Bi(255),Bi(0)):Bi(ri),ii=7,ri=0)}function Bi(Ui){si.push(Ui)}function Xi(Ui){Bi(Ui>>8&255),Bi(Ui&255)}function en(Ui,rn){var un,dn,hn,Sn,fn,Pn,zi,En,yn=0,An,sn=8,_n=64;for(An=0;An<sn;++An){un=Ui[yn],dn=Ui[yn+1],hn=Ui[yn+2],Sn=Ui[yn+3],fn=Ui[yn+4],Pn=Ui[yn+5],zi=Ui[yn+6],En=Ui[yn+7];var Tn=un+En,In=un-En,Rn=dn+zi,zn=dn-zi,Un=hn+Pn,qn=hn-Pn,er=Sn+fn,ir=Sn-fn,dr=Tn+er,sr=Tn-er,nr=Rn+Un,Jn=Rn-Un;Ui[yn]=dr+nr,Ui[yn+4]=dr-nr;var cr=(Jn+sr)*.707106781;Ui[yn+2]=sr+cr,Ui[yn+6]=sr-cr,dr=ir+qn,nr=qn+zn,Jn=zn+In;var Ln=(dr-Jn)*.382683433,Wi=.5411961*dr+Ln,mn=1.306562965*Jn+Ln,vn=nr*.707106781,Mn=In+vn,Hn=In-vn;Ui[yn+5]=Hn+Wi,Ui[yn+3]=Hn-Wi,Ui[yn+1]=Mn+mn,Ui[yn+7]=Mn-mn,yn+=8}for(yn=0,An=0;An<sn;++An){un=Ui[yn],dn=Ui[yn+8],hn=Ui[yn+16],Sn=Ui[yn+24],fn=Ui[yn+32],Pn=Ui[yn+40],zi=Ui[yn+48],En=Ui[yn+56];var Xn=un+En,mr=un-En,rr=dn+zi,ur=dn-zi,Cr=hn+Pn,oo=hn-Pn,Sr=Sn+fn,Nr=Sn-fn,yr=Xn+Sr,Dr=Xn-Sr,Ar=rr+Cr,Tr=rr-Cr;Ui[yn]=yr+Ar,Ui[yn+32]=yr-Ar;var Hr=(Tr+Dr)*.707106781;Ui[yn+16]=Dr+Hr,Ui[yn+48]=Dr-Hr,yr=Nr+oo,Ar=oo+ur,Tr=ur+mr;var jr=(yr-Tr)*.382683433,ho=.5411961*yr+jr,Mo=1.306562965*Tr+jr,Do=Ar*.707106781,ko=mr+Do,ns=mr-Do;Ui[yn+40]=ns+ho,Ui[yn+24]=ns-ho,Ui[yn+8]=ko+Mo,Ui[yn+56]=ko-Mo,yn++}var jo;for(An=0;An<_n;++An)jo=Ui[An]*rn[An],oi[An]=jo>0?jo+.5|0:jo-.5|0;return oi}function tn(){Xi(65504),Xi(16),Bi(74),Bi(70),Bi(73),Bi(70),Bi(0),Bi(1),Bi(1),Bi(0),Xi(1),Xi(1),Bi(0),Bi(0)}function Ji(Ui){if(Ui){Xi(65505),Ui[0]===69&&Ui[1]===120&&Ui[2]===105&&Ui[3]===102?Xi(Ui.length+2):(Xi(Ui.length+5+2),Bi(69),Bi(120),Bi(105),Bi(102),Bi(0));for(var rn=0;rn<Ui.length;rn++)Bi(Ui[rn])}}function Li(Ui,rn){Xi(65472),Xi(17),Bi(8),Xi(rn),Xi(Ui),Bi(3),Bi(1),Bi(17),Bi(0),Bi(2),Bi(17),Bi(1),Bi(3),Bi(17),Bi(1)}function wi(){Xi(65499),Xi(132),Bi(0);for(var Ui=0;Ui<64;Ui++)Bi(Xe[Ui]);Bi(1);for(var rn=0;rn<64;rn++)Bi(We[rn])}function _i(){Xi(65476),Xi(418),Bi(0);for(var Ui=0;Ui<16;Ui++)Bi(pi[Ui+1]);for(var rn=0;rn<=11;rn++)Bi(xi[rn]);Bi(16);for(var un=0;un<16;un++)Bi(Si[un+1]);for(var dn=0;dn<=161;dn++)Bi(vi[dn]);Bi(1);for(var hn=0;hn<16;hn++)Bi(Di[hn+1]);for(var Sn=0;Sn<=11;Sn++)Bi(Ti[Sn]);Bi(17);for(var fn=0;fn<16;fn++)Bi(Fi[fn+1]);for(var Pn=0;Pn<=161;Pn++)Bi(Ci[Pn])}function Ai(Ui){typeof Ui>"u"||Ui.constructor!==Array||Ui.forEach(rn=>{if(typeof rn=="string"){Xi(65534);var un=rn.length;Xi(un+2);var dn;for(dn=0;dn<un;dn++)Bi(rn.charCodeAt(dn))}})}function Oi(){Xi(65498),Xi(12),Bi(3),Bi(1),Bi(0),Bi(2),Bi(17),Bi(3),Bi(17),Bi(0),Bi(63),Bi(0)}function Ii(Ui,rn,un,dn,hn){for(var Sn=hn[0],fn=hn[240],Pn,zi=16,En=63,yn=64,An=en(Ui,rn),sn=0;sn<yn;++sn)ai[yi[sn]]=An[sn];var _n=ai[0]-un;un=ai[0],_n==0?Vi(dn[0]):(Pn=32767+_n,Vi(dn[ni[Pn]]),Vi(ti[Pn]));for(var Tn=63;Tn>0&&ai[Tn]==0;Tn--);if(Tn==0)return Vi(Sn),un;for(var In=1,Rn;In<=Tn;){for(var zn=In;ai[In]==0&&In<=Tn;++In);var Un=In-zn;if(Un>=zi){Rn=Un>>4;for(var qn=1;qn<=Rn;++qn)Vi(fn);Un=Un&15}Pn=32767+ai[In],Vi(hn[(Un<<4)+ni[Pn]]),Vi(ti[Pn]),In++}return Tn!=En&&Vi(Sn),un}function Mi(){for(var Ui=String.fromCharCode,rn=0;rn<256;rn++)mi[rn]=Ui(rn)}this.encode=function(Ui,rn){new Date().getTime(),rn&&Gi(rn),si=new Array,ri=0,ii=7,Xi(65496),tn(),Ai(Ui.comments),Ji(Ui.exifBuffer),wi(),Li(Ui.width,Ui.height),_i(),Oi();var un=0,dn=0,hn=0;ri=0,ii=7,this.encode.displayName="_encode_";for(var Sn=Ui.data,fn=Ui.width,Pn=Ui.height,zi=fn*4,En,yn=0,An,sn,_n,Tn,In,Rn,zn,Un;yn<Pn;){for(En=0;En<zi;){for(Tn=zi*yn+En,In=Tn,Rn=-1,zn=0,Un=0;Un<64;Un++)zn=Un>>3,Rn=(Un&7)*4,In=Tn+zn*zi+Rn,yn+zn>=Pn&&(In-=zi*(yn+1+zn-Pn)),En+Rn>=zi&&(In-=En+Rn-zi+4),An=Sn[In++],sn=Sn[In++],_n=Sn[In++],ui[Un]=(di[An]+di[sn+256>>0]+di[_n+512>>0]>>16)-128,ci[Un]=(di[An+768>>0]+di[sn+1024>>0]+di[_n+1280>>0]>>16)-128,hi[Un]=(di[An+1280>>0]+di[sn+1536>>0]+di[_n+1792>>0]>>16)-128;un=Ii(ui,Ke,un,Ze,St),dn=Ii(ci,Je,dn,Qe,ei),hn=Ii(hi,Je,hn,Qe,ei),En+=32}yn+=8}if(ii>=0){var qn=[];qn[1]=ii+1,qn[0]=(1<<ii+1)-1,Vi(qn)}return Xi(65497),Buffer.from(si)};function Gi(Ui){if(Ui<=0&&(Ui=1),Ui>100&&(Ui=100),fi!=Ui){var rn=0;Ui<50?rn=Math.floor(5e3/Ui):rn=Math.floor(200-Ui*2),Ni(rn),fi=Ui}}function on(){var Ui=new Date().getTime();ze||(ze=50),Mi(),Yi(),ki(),ji(),Gi(ze),new Date().getTime()-Ui}on()}je.exports=Ve;function Ve(ze,qe){typeof qe>"u"&&(qe=50);var Xe=new $e(qe),We=Xe.encode(ze,qe);return{data:We,width:ze.width,height:ze.height}}})(encoder);var encoderExports=encoder.exports,decoder={exports:{}};(function(je){var $e=function(){var ze=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),qe=4017,Xe=799,We=3406,Ke=2276,Je=1567,Ze=3784,Qe=5793,St=2896;function ei(){}function ti(ui,ci){for(var hi=0,mi=[],di,fi,yi=16;yi>0&&!ui[yi-1];)yi--;mi.push({children:[],index:0});var pi=mi[0],xi;for(di=0;di<yi;di++){for(fi=0;fi<ui[di];fi++){for(pi=mi.pop(),pi.children[pi.index]=ci[hi];pi.index>0;){if(mi.length===0)throw new Error("Could not recreate Huffman Table");pi=mi.pop()}for(pi.index++,mi.push(pi);mi.length<=di;)mi.push(xi={children:[],index:0}),pi.children[pi.index]=xi.children,pi=xi;hi++}di+1<yi&&(mi.push(xi={children:[],index:0}),pi.children[pi.index]=xi.children,pi=xi)}return mi[0].children}function ni(ui,ci,hi,mi,di,fi,yi,pi,xi,Si){hi.precision,hi.samplesPerLine,hi.scanLines;var vi=hi.mcusPerLine,Di=hi.progressive;hi.maxH,hi.maxV;var Ti=ci,Fi=0,Ci=0;function Ni(){if(Ci>0)return Ci--,Fi>>Ci&1;if(Fi=ui[ci++],Fi==255){var fn=ui[ci++];if(fn)throw new Error("unexpected marker: "+(Fi<<8|fn).toString(16))}return Ci=7,Fi>>>7}function Ri(fn){for(var Pn=fn,zi;(zi=Ni())!==null;){if(Pn=Pn[zi],typeof Pn=="number")return Pn;if(typeof Pn!="object")throw new Error("invalid huffman sequence")}return null}function Yi(fn){for(var Pn=0;fn>0;){var zi=Ni();if(zi===null)return;Pn=Pn<<1|zi,fn--}return Pn}function ki(fn){var Pn=Yi(fn);return Pn>=1<<fn-1?Pn:Pn+(-1<<fn)+1}function ji(fn,Pn){var zi=Ri(fn.huffmanTableDC),En=zi===0?0:ki(zi);Pn[0]=fn.pred+=En;for(var yn=1;yn<64;){var An=Ri(fn.huffmanTableAC),sn=An&15,_n=An>>4;if(sn===0){if(_n<15)break;yn+=16;continue}yn+=_n;var Tn=ze[yn];Pn[Tn]=ki(sn),yn++}}function Vi(fn,Pn){var zi=Ri(fn.huffmanTableDC),En=zi===0?0:ki(zi)<<xi;Pn[0]=fn.pred+=En}function Bi(fn,Pn){Pn[0]|=Ni()<<xi}var Xi=0;function en(fn,Pn){if(Xi>0){Xi--;return}for(var zi=fi,En=yi;zi<=En;){var yn=Ri(fn.huffmanTableAC),An=yn&15,sn=yn>>4;if(An===0){if(sn<15){Xi=Yi(sn)+(1<<sn)-1;break}zi+=16;continue}zi+=sn;var _n=ze[zi];Pn[_n]=ki(An)*(1<<xi),zi++}}var tn=0,Ji;function Li(fn,Pn){for(var zi=fi,En=yi,yn=0;zi<=En;){var An=ze[zi],sn=Pn[An]<0?-1:1;switch(tn){case 0:var _n=Ri(fn.huffmanTableAC),Tn=_n&15,yn=_n>>4;if(Tn===0)yn<15?(Xi=Yi(yn)+(1<<yn),tn=4):(yn=16,tn=1);else{if(Tn!==1)throw new Error("invalid ACn encoding");Ji=ki(Tn),tn=yn?2:3}continue;case 1:case 2:Pn[An]?Pn[An]+=(Ni()<<xi)*sn:(yn--,yn===0&&(tn=tn==2?3:0));break;case 3:Pn[An]?Pn[An]+=(Ni()<<xi)*sn:(Pn[An]=Ji<<xi,tn=0);break;case 4:Pn[An]&&(Pn[An]+=(Ni()<<xi)*sn);break}zi++}tn===4&&(Xi--,Xi===0&&(tn=0))}function wi(fn,Pn,zi,En,yn){var An=zi/vi|0,sn=zi%vi,_n=An*fn.v+En,Tn=sn*fn.h+yn;fn.blocks[_n]===void 0&&Si.tolerantDecoding||Pn(fn,fn.blocks[_n][Tn])}function _i(fn,Pn,zi){var En=zi/fn.blocksPerLine|0,yn=zi%fn.blocksPerLine;fn.blocks[En]===void 0&&Si.tolerantDecoding||Pn(fn,fn.blocks[En][yn])}var Ai=mi.length,Oi,Ii,Mi,Gi,on,Ui;Di?fi===0?Ui=pi===0?Vi:Bi:Ui=pi===0?en:Li:Ui=ji;var rn=0,un,dn;Ai==1?dn=mi[0].blocksPerLine*mi[0].blocksPerColumn:dn=vi*hi.mcusPerColumn,di||(di=dn);for(var hn,Sn;rn<dn;){for(Ii=0;Ii<Ai;Ii++)mi[Ii].pred=0;if(Xi=0,Ai==1)for(Oi=mi[0],on=0;on<di;on++)_i(Oi,Ui,rn),rn++;else for(on=0;on<di;on++){for(Ii=0;Ii<Ai;Ii++)for(Oi=mi[Ii],hn=Oi.h,Sn=Oi.v,Mi=0;Mi<Sn;Mi++)for(Gi=0;Gi<hn;Gi++)wi(Oi,Ui,rn,Mi,Gi);if(rn++,rn===dn)break}if(rn===dn)do{if(ui[ci]===255&&ui[ci+1]!==0)break;ci+=1}while(ci<ui.length-2);if(Ci=0,un=ui[ci]<<8|ui[ci+1],un<65280)throw new Error("marker was not found");if(un>=65488&&un<=65495)ci+=2;else break}return ci-Ti}function oi(ui,ci){var hi=[],mi=ci.blocksPerLine,di=ci.blocksPerColumn,fi=mi<<3,yi=new Int32Array(64),pi=new Uint8Array(64);function xi(Yi,ki,ji){var Vi=ci.quantizationTable,Bi,Xi,en,tn,Ji,Li,wi,_i,Ai,Oi=ji,Ii;for(Ii=0;Ii<64;Ii++)Oi[Ii]=Yi[Ii]*Vi[Ii];for(Ii=0;Ii<8;++Ii){var Mi=8*Ii;if(Oi[1+Mi]==0&&Oi[2+Mi]==0&&Oi[3+Mi]==0&&Oi[4+Mi]==0&&Oi[5+Mi]==0&&Oi[6+Mi]==0&&Oi[7+Mi]==0){Ai=Qe*Oi[0+Mi]+512>>10,Oi[0+Mi]=Ai,Oi[1+Mi]=Ai,Oi[2+Mi]=Ai,Oi[3+Mi]=Ai,Oi[4+Mi]=Ai,Oi[5+Mi]=Ai,Oi[6+Mi]=Ai,Oi[7+Mi]=Ai;continue}Bi=Qe*Oi[0+Mi]+128>>8,Xi=Qe*Oi[4+Mi]+128>>8,en=Oi[2+Mi],tn=Oi[6+Mi],Ji=St*(Oi[1+Mi]-Oi[7+Mi])+128>>8,_i=St*(Oi[1+Mi]+Oi[7+Mi])+128>>8,Li=Oi[3+Mi]<<4,wi=Oi[5+Mi]<<4,Ai=Bi-Xi+1>>1,Bi=Bi+Xi+1>>1,Xi=Ai,Ai=en*Ze+tn*Je+128>>8,en=en*Je-tn*Ze+128>>8,tn=Ai,Ai=Ji-wi+1>>1,Ji=Ji+wi+1>>1,wi=Ai,Ai=_i+Li+1>>1,Li=_i-Li+1>>1,_i=Ai,Ai=Bi-tn+1>>1,Bi=Bi+tn+1>>1,tn=Ai,Ai=Xi-en+1>>1,Xi=Xi+en+1>>1,en=Ai,Ai=Ji*Ke+_i*We+2048>>12,Ji=Ji*We-_i*Ke+2048>>12,_i=Ai,Ai=Li*Xe+wi*qe+2048>>12,Li=Li*qe-wi*Xe+2048>>12,wi=Ai,Oi[0+Mi]=Bi+_i,Oi[7+Mi]=Bi-_i,Oi[1+Mi]=Xi+wi,Oi[6+Mi]=Xi-wi,Oi[2+Mi]=en+Li,Oi[5+Mi]=en-Li,Oi[3+Mi]=tn+Ji,Oi[4+Mi]=tn-Ji}for(Ii=0;Ii<8;++Ii){var Gi=Ii;if(Oi[8+Gi]==0&&Oi[16+Gi]==0&&Oi[24+Gi]==0&&Oi[32+Gi]==0&&Oi[40+Gi]==0&&Oi[48+Gi]==0&&Oi[56+Gi]==0){Ai=Qe*ji[Ii+0]+8192>>14,Oi[0+Gi]=Ai,Oi[8+Gi]=Ai,Oi[16+Gi]=Ai,Oi[24+Gi]=Ai,Oi[32+Gi]=Ai,Oi[40+Gi]=Ai,Oi[48+Gi]=Ai,Oi[56+Gi]=Ai;continue}Bi=Qe*Oi[0+Gi]+2048>>12,Xi=Qe*Oi[32+Gi]+2048>>12,en=Oi[16+Gi],tn=Oi[48+Gi],Ji=St*(Oi[8+Gi]-Oi[56+Gi])+2048>>12,_i=St*(Oi[8+Gi]+Oi[56+Gi])+2048>>12,Li=Oi[24+Gi],wi=Oi[40+Gi],Ai=Bi-Xi+1>>1,Bi=Bi+Xi+1>>1,Xi=Ai,Ai=en*Ze+tn*Je+2048>>12,en=en*Je-tn*Ze+2048>>12,tn=Ai,Ai=Ji-wi+1>>1,Ji=Ji+wi+1>>1,wi=Ai,Ai=_i+Li+1>>1,Li=_i-Li+1>>1,_i=Ai,Ai=Bi-tn+1>>1,Bi=Bi+tn+1>>1,tn=Ai,Ai=Xi-en+1>>1,Xi=Xi+en+1>>1,en=Ai,Ai=Ji*Ke+_i*We+2048>>12,Ji=Ji*We-_i*Ke+2048>>12,_i=Ai,Ai=Li*Xe+wi*qe+2048>>12,Li=Li*qe-wi*Xe+2048>>12,wi=Ai,Oi[0+Gi]=Bi+_i,Oi[56+Gi]=Bi-_i,Oi[8+Gi]=Xi+wi,Oi[48+Gi]=Xi-wi,Oi[16+Gi]=en+Li,Oi[40+Gi]=en-Li,Oi[24+Gi]=tn+Ji,Oi[32+Gi]=tn-Ji}for(Ii=0;Ii<64;++Ii){var on=128+(Oi[Ii]+8>>4);ki[Ii]=on<0?0:on>255?255:on}}ii(fi*di*8);for(var Si,vi,Di=0;Di<di;Di++){var Ti=Di<<3;for(Si=0;Si<8;Si++)hi.push(new Uint8Array(fi));for(var Fi=0;Fi<mi;Fi++){xi(ci.blocks[Di][Fi],pi,yi);var Ci=0,Ni=Fi<<3;for(vi=0;vi<8;vi++){var Ri=hi[Ti+vi];for(Si=0;Si<8;Si++)Ri[Ni+Si]=pi[Ci++]}}}return hi}function ai(ui){return ui<0?0:ui>255?255:ui}ei.prototype={load:function(ui){var ci=new XMLHttpRequest;ci.open("GET",ui,!0),ci.responseType="arraybuffer",ci.onload=(function(){var hi=new Uint8Array(ci.response||ci.mozResponseArrayBuffer);this.parse(hi),this.onload&&this.onload()}).bind(this),ci.send(null)},parse:function(ui){var ci=this.opts.maxResolutionInMP*1e3*1e3,hi=0;ui.length;function mi(){var An=ui[hi]<<8|ui[hi+1];return hi+=2,An}function di(){var An=mi(),sn=ui.subarray(hi,hi+An-2);return hi+=sn.length,sn}function fi(An){var sn=1,_n=1,Tn,In;for(In in An.components)An.components.hasOwnProperty(In)&&(Tn=An.components[In],sn<Tn.h&&(sn=Tn.h),_n<Tn.v&&(_n=Tn.v));var Rn=Math.ceil(An.samplesPerLine/8/sn),zn=Math.ceil(An.scanLines/8/_n);for(In in An.components)if(An.components.hasOwnProperty(In)){Tn=An.components[In];var Un=Math.ceil(Math.ceil(An.samplesPerLine/8)*Tn.h/sn),qn=Math.ceil(Math.ceil(An.scanLines/8)*Tn.v/_n),er=Rn*Tn.h,ir=zn*Tn.v,dr=ir*er,sr=[];ii(dr*256);for(var nr=0;nr<ir;nr++){for(var Jn=[],cr=0;cr<er;cr++)Jn.push(new Int32Array(64));sr.push(Jn)}Tn.blocksPerLine=Un,Tn.blocksPerColumn=qn,Tn.blocks=sr}An.maxH=sn,An.maxV=_n,An.mcusPerLine=Rn,An.mcusPerColumn=zn}var yi=null,pi=null,xi,Si,vi=[],Di=[],Ti=[],Fi=[],Ci=mi(),Ni=-1;if(this.comments=[],Ci!=65496)throw new Error("SOI not found");for(Ci=mi();Ci!=65497;){var Ri,Yi;switch(Ci){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var ki=di();if(Ci===65534){var ji=String.fromCharCode.apply(null,ki);this.comments.push(ji)}Ci===65504&&ki[0]===74&&ki[1]===70&&ki[2]===73&&ki[3]===70&&ki[4]===0&&(yi={version:{major:ki[5],minor:ki[6]},densityUnits:ki[7],xDensity:ki[8]<<8|ki[9],yDensity:ki[10]<<8|ki[11],thumbWidth:ki[12],thumbHeight:ki[13],thumbData:ki.subarray(14,14+3*ki[12]*ki[13])}),Ci===65505&&ki[0]===69&&ki[1]===120&&ki[2]===105&&ki[3]===102&&ki[4]===0&&(this.exifBuffer=ki.subarray(5,ki.length)),Ci===65518&&ki[0]===65&&ki[1]===100&&ki[2]===111&&ki[3]===98&&ki[4]===101&&ki[5]===0&&(pi={version:ki[6],flags0:ki[7]<<8|ki[8],flags1:ki[9]<<8|ki[10],transformCode:ki[11]});break;case 65499:for(var Vi=mi(),Bi=Vi+hi-2;hi<Bi;){var Xi=ui[hi++];ii(256);var en=new Int32Array(64);if(Xi>>4)if(Xi>>4===1)for(Yi=0;Yi<64;Yi++){var tn=ze[Yi];en[tn]=mi()}else throw new Error("DQT: invalid table spec");else for(Yi=0;Yi<64;Yi++){var tn=ze[Yi];en[tn]=ui[hi++]}vi[Xi&15]=en}break;case 65472:case 65473:case 65474:mi(),xi={},xi.extended=Ci===65473,xi.progressive=Ci===65474,xi.precision=ui[hi++],xi.scanLines=mi(),xi.samplesPerLine=mi(),xi.components={},xi.componentsOrder=[];var Ji=xi.scanLines*xi.samplesPerLine;if(Ji>ci){var Li=Math.ceil((Ji-ci)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${Li}MP`)}var wi=ui[hi++],_i;for(Ri=0;Ri<wi;Ri++){_i=ui[hi];var Ai=ui[hi+1]>>4,Oi=ui[hi+1]&15,Ii=ui[hi+2];if(Ai<=0||Oi<=0)throw new Error("Invalid sampling factor, expected values above 0");xi.componentsOrder.push(_i),xi.components[_i]={h:Ai,v:Oi,quantizationIdx:Ii},hi+=3}fi(xi),Di.push(xi);break;case 65476:var Mi=mi();for(Ri=2;Ri<Mi;){var Gi=ui[hi++],on=new Uint8Array(16),Ui=0;for(Yi=0;Yi<16;Yi++,hi++)Ui+=on[Yi]=ui[hi];ii(16+Ui);var rn=new Uint8Array(Ui);for(Yi=0;Yi<Ui;Yi++,hi++)rn[Yi]=ui[hi];Ri+=17+Ui,(Gi>>4?Ti:Fi)[Gi&15]=ti(on,rn)}break;case 65501:mi(),Si=mi();break;case 65500:mi(),mi();break;case 65498:mi();var un=ui[hi++],dn=[],hn;for(Ri=0;Ri<un;Ri++){hn=xi.components[ui[hi++]];var Sn=ui[hi++];hn.huffmanTableDC=Fi[Sn>>4],hn.huffmanTableAC=Ti[Sn&15],dn.push(hn)}var fn=ui[hi++],Pn=ui[hi++],zi=ui[hi++],En=ni(ui,hi,xi,dn,Si,fn,Pn,zi>>4,zi&15,this.opts);hi+=En;break;case 65535:ui[hi]!==255&&hi--;break;default:if(ui[hi-3]==255&&ui[hi-2]>=192&&ui[hi-2]<=254){hi-=3;break}else if(Ci===224||Ci==225){if(Ni!==-1)throw new Error(`first unknown JPEG marker at offset ${Ni.toString(16)}, second unknown JPEG marker ${Ci.toString(16)} at offset ${(hi-1).toString(16)}`);Ni=hi-1;const An=mi();if(ui[hi+An-2]===255){hi+=An-2;break}}throw new Error("unknown JPEG marker "+Ci.toString(16))}Ci=mi()}if(Di.length!=1)throw new Error("only single frame JPEGs supported");for(var Ri=0;Ri<Di.length;Ri++){var yn=Di[Ri].components;for(var Yi in yn)yn[Yi].quantizationTable=vi[yn[Yi].quantizationIdx],delete yn[Yi].quantizationIdx}this.width=xi.samplesPerLine,this.height=xi.scanLines,this.jfif=yi,this.adobe=pi,this.components=[];for(var Ri=0;Ri<xi.componentsOrder.length;Ri++){var hn=xi.components[xi.componentsOrder[Ri]];this.components.push({lines:oi(xi,hn),scaleX:hn.h/xi.maxH,scaleY:hn.v/xi.maxV})}},getData:function(ui,ci){var hi=this.width/ui,mi=this.height/ci,di,fi,yi,pi,xi,Si,vi,Di,Ti,Fi,Ci=0,Ni,Ri,Yi,ki,ji,Vi,Bi,Xi,en,tn,Ji,Li=ui*ci*this.components.length;ii(Li);var wi=new Uint8Array(Li);switch(this.components.length){case 1:for(di=this.components[0],Fi=0;Fi<ci;Fi++)for(xi=di.lines[0|Fi*di.scaleY*mi],Ti=0;Ti<ui;Ti++)Ni=xi[0|Ti*di.scaleX*hi],wi[Ci++]=Ni;break;case 2:for(di=this.components[0],fi=this.components[1],Fi=0;Fi<ci;Fi++)for(xi=di.lines[0|Fi*di.scaleY*mi],Si=fi.lines[0|Fi*fi.scaleY*mi],Ti=0;Ti<ui;Ti++)Ni=xi[0|Ti*di.scaleX*hi],wi[Ci++]=Ni,Ni=Si[0|Ti*fi.scaleX*hi],wi[Ci++]=Ni;break;case 3:for(Ji=!0,this.adobe&&this.adobe.transformCode?Ji=!0:typeof this.opts.colorTransform<"u"&&(Ji=!!this.opts.colorTransform),di=this.components[0],fi=this.components[1],yi=this.components[2],Fi=0;Fi<ci;Fi++)for(xi=di.lines[0|Fi*di.scaleY*mi],Si=fi.lines[0|Fi*fi.scaleY*mi],vi=yi.lines[0|Fi*yi.scaleY*mi],Ti=0;Ti<ui;Ti++)Ji?(Ni=xi[0|Ti*di.scaleX*hi],Ri=Si[0|Ti*fi.scaleX*hi],Yi=vi[0|Ti*yi.scaleX*hi],Xi=ai(Ni+1.402*(Yi-128)),en=ai(Ni-.3441363*(Ri-128)-.71413636*(Yi-128)),tn=ai(Ni+1.772*(Ri-128))):(Xi=xi[0|Ti*di.scaleX*hi],en=Si[0|Ti*fi.scaleX*hi],tn=vi[0|Ti*yi.scaleX*hi]),wi[Ci++]=Xi,wi[Ci++]=en,wi[Ci++]=tn;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(Ji=!1,this.adobe&&this.adobe.transformCode?Ji=!0:typeof this.opts.colorTransform<"u"&&(Ji=!!this.opts.colorTransform),di=this.components[0],fi=this.components[1],yi=this.components[2],pi=this.components[3],Fi=0;Fi<ci;Fi++)for(xi=di.lines[0|Fi*di.scaleY*mi],Si=fi.lines[0|Fi*fi.scaleY*mi],vi=yi.lines[0|Fi*yi.scaleY*mi],Di=pi.lines[0|Fi*pi.scaleY*mi],Ti=0;Ti<ui;Ti++)Ji?(Ni=xi[0|Ti*di.scaleX*hi],Ri=Si[0|Ti*fi.scaleX*hi],Yi=vi[0|Ti*yi.scaleX*hi],ki=Di[0|Ti*pi.scaleX*hi],ji=255-ai(Ni+1.402*(Yi-128)),Vi=255-ai(Ni-.3441363*(Ri-128)-.71413636*(Yi-128)),Bi=255-ai(Ni+1.772*(Ri-128))):(ji=xi[0|Ti*di.scaleX*hi],Vi=Si[0|Ti*fi.scaleX*hi],Bi=vi[0|Ti*yi.scaleX*hi],ki=Di[0|Ti*pi.scaleX*hi]),wi[Ci++]=255-ji,wi[Ci++]=255-Vi,wi[Ci++]=255-Bi,wi[Ci++]=255-ki;break;default:throw new Error("Unsupported color mode")}return wi},copyToImageData:function(ui,ci){var hi=ui.width,mi=ui.height,di=ui.data,fi=this.getData(hi,mi),yi=0,pi=0,xi,Si,vi,Di,Ti,Fi,Ci,Ni,Ri;switch(this.components.length){case 1:for(Si=0;Si<mi;Si++)for(xi=0;xi<hi;xi++)vi=fi[yi++],di[pi++]=vi,di[pi++]=vi,di[pi++]=vi,ci&&(di[pi++]=255);break;case 3:for(Si=0;Si<mi;Si++)for(xi=0;xi<hi;xi++)Ci=fi[yi++],Ni=fi[yi++],Ri=fi[yi++],di[pi++]=Ci,di[pi++]=Ni,di[pi++]=Ri,ci&&(di[pi++]=255);break;case 4:for(Si=0;Si<mi;Si++)for(xi=0;xi<hi;xi++)Ti=fi[yi++],Fi=fi[yi++],vi=fi[yi++],Di=fi[yi++],Ci=255-ai(Ti*(1-Di/255)+Di),Ni=255-ai(Fi*(1-Di/255)+Di),Ri=255-ai(vi*(1-Di/255)+Di),di[pi++]=Ci,di[pi++]=Ni,di[pi++]=Ri,ci&&(di[pi++]=255);break;default:throw new Error("Unsupported color mode")}}};var si=0,ri=0;function ii(ui=0){var ci=si+ui;if(ci>ri){var hi=Math.ceil((ci-ri)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${hi}MB`)}si=ci}return ei.resetMaxMemoryUsage=function(ui){si=0,ri=ui},ei.getBytesAllocated=function(){return si},ei.requestMemoryAllocation=ii,ei}();je.exports=Ve;function Ve(ze,qe={}){var Xe={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512},We={...Xe,...qe},Ke=new Uint8Array(ze),Je=new $e;Je.opts=We,$e.resetMaxMemoryUsage(We.maxMemoryUsageInMB*1024*1024),Je.parse(Ke);var Ze=We.formatAsRGBA?4:3,Qe=Je.width*Je.height*Ze;try{$e.requestMemoryAllocation(Qe);var St={width:Je.width,height:Je.height,exifBuffer:Je.exifBuffer,data:We.useTArray?new Uint8Array(Qe):Buffer.alloc(Qe)};Je.comments.length>0&&(St.comments=Je.comments)}catch(ei){throw ei instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+Qe):ei instanceof ReferenceError&&ei.message==="Buffer is not defined"?new Error("Buffer is not globally defined in this environment. Consider setting useTArray to true"):ei}return Je.copyToImageData(St,We.formatAsRGBA),St}})(decoder);var decoderExports=decoder.exports,encode$1=encoderExports,decode$4=decoderExports,jpegJs={encode:encode$1,decode:decode$4};let chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup=new Uint8Array(256);for(let je=0;je<chars.length;je++)lookup[chars.charCodeAt(je)]=je;function encode(je){let $e,Ve=je.length,ze="";for($e=0;$e<Ve;$e+=3)ze+=chars[je[$e]>>2],ze+=chars[(je[$e]&3)<<4|je[$e+1]>>4],ze+=chars[(je[$e+1]&15)<<2|je[$e+2]>>6],ze+=chars[je[$e+2]&63];return Ve%3===2?ze=`${ze.substring(0,ze.length-1)}=`:Ve%3===1&&(ze=`${ze.substring(0,ze.length-2)}==`),ze}function decode$3(je){let $e=je.length*.75,Ve=je.length,ze=0,qe,Xe,We,Ke;je[je.length-1]==="="&&($e--,je[je.length-2]==="="&&$e--);const Je=new Uint8Array($e);for(let Ze=0;Ze<Ve;Ze+=4)qe=lookup[je.charCodeAt(Ze)],Xe=lookup[je.charCodeAt(Ze+1)],We=lookup[je.charCodeAt(Ze+2)],Ke=lookup[je.charCodeAt(Ze+3)],Je[ze++]=qe<<2|Xe>>4,Je[ze++]=(Xe&15)<<4|We>>2,Je[ze++]=(We&3)<<6|Ke&63;return Je}function toBase64URL(je,$e){const Ve=encode(je);return`data:${$e};base64,${Ve}`}const ImageData=self.ImageData,DOMImage=self.Image;function createCanvas(je,$e){let Ve=self.document.createElement("canvas");return Ve.width=je,Ve.height=$e,Ve}function fetchBinary(je,{withCredentials:$e=!1}={}){return new Promise(function(Ve,ze){let qe=new self.XMLHttpRequest;qe.open("GET",je,!0),qe.responseType="arraybuffer",qe.withCredentials=$e,qe.onload=function(Xe){this.status!==200?ze(Xe):Ve(this.response)},qe.onerror=ze,qe.send()})}function createWriteStream(){throw new Error("createWriteStream does not exist in the browser")}function writeFile(){throw new Error("writeFile does not exist in the browser")}function getType(je){return je.includes("/")||(je=`image/${je}`),je}function encodeJpeg(je,$e={}){const Ve={width:je.width,height:je.height,data:je.getRGBAData()};return jpegJs.encode(Ve,$e.quality).data}function encodePng(je,$e){const Ve={width:je.width,height:je.height,channels:je.channels,depth:je.bitDepth,data:je.data};return(Ve.depth===1||Ve.depth===32)&&(Ve.depth=8,Ve.channels=4,Ve.data=je.getRGBAData()),encodePng$1(Ve,$e)}const exportMethods={save(je,$e={}){const{useCanvas:Ve=!1,encoder:ze=void 0}=$e;let{format:qe}=$e;if(!qe){const Xe=/\.(?<format>[a-zA-Z]+)$/.exec(je);Xe&&(qe=Xe.groups.format.toLowerCase())}if(!qe)throw new Error("file format not provided");return new Promise((Xe,We)=>{let Ke,Je;switch(qe.toLowerCase()){case"png":{Ve?Ke=this.getCanvas().pngStream():Je=encodePng(this,ze);break}case"jpg":case"jpeg":Ve?Ke=this.getCanvas().jpegStream():Je=encodeJpeg(this,ze);break;case"bmp":Je=encode$2(this);break;default:throw new RangeError(`invalid output format: ${qe}`)}if(Ke){let Ze=createWriteStream();Ze.on("finish",Xe),Ze.on("error",We),Ke.pipe(Ze)}else Je&&writeFile()})},toDataURL(je="image/png",$e={}){typeof je=="object"&&($e=je,je="image/png");const{useCanvas:Ve=!1,encoder:ze=void 0}=$e;je=getType(je);function qe(Xe,We){const Ke=Xe(We,ze);return toBase64URL(Ke,je)}return je==="image/bmp"?qe(encode$2,this):je==="image/png"&&!Ve?qe(encodePng,this):je==="image/jpeg"&&!Ve?qe(encodeJpeg,this):this.getCanvas().toDataURL(je)},toBuffer(je={}){const{format:$e="png",encoder:Ve=void 0}=je;switch($e.toLowerCase()){case"png":return encodePng(this,Ve);case"jpeg":case"jpg":return encodeJpeg(this,Ve);case"bmp":return encode$2(this);default:throw new RangeError(`invalid output format: ${$e}`)}},toBase64(je="image/png",$e={}){if($e.async)return this.toDataURL(je,$e).then(function(Ve){return Ve.substring(Ve.indexOf(",")+1)});{const Ve=this.toDataURL(je,$e);return Ve.substring(Ve.indexOf(",")+1)}},toBlob(je="image/png",$e=.8){return canvasToBlob(this.getCanvas(),je,$e)},getCanvas(){const je=new ImageData(this.getRGBAData({clamped:!0}),this.width,this.height);let $e=createCanvas(this.width,this.height);return $e.getContext("2d").putImageData(je,0,0),$e}};function setExportMethods(je){for(const $e in exportMethods)je.prototype[$e]=exportMethods[$e]}var hasOwn$1={exports:{}};const name="has-own",version$1="1.0.1",description="A safer .hasOwnProperty() - hasOwn(name, obj)",main="index.js",scripts={test:"make test"},author="Aaron Heckmann <aaron.heckmann+github@gmail.com>",license="MIT",repository={type:"git",url:"git://github.com/aheckmann/has-own.git"},homepage="https://github.com/aheckmann/has-own/",devDependencies={mocha:"^6.2.2"},require$$0$2={name,version:version$1,description,main,scripts,author,license,repository,homepage,devDependencies};(function(je,$e){var Ve=Object.prototype.hasOwnProperty;je.exports=$e=function(ze,qe){return Ve.call(qe,ze)},$e.version=require$$0$2.version})(hasOwn$1,hasOwn$1.exports);var hasOwnExports=hasOwn$1.exports;const hasOwn=getDefaultExportFromCjs$1(hasOwnExports);let computedPropertyDescriptor$1={configurable:!0,enumerable:!1,get:void 0};function extendMethod(je,$e,Ve={}){let{inPlace:ze=!1,returnThis:qe=!0,partialArgs:Xe=[]}=Ve;return ze?Image$1.prototype[je]=function(...We){this.computed=null;let Ke=$e.apply(this,[...Xe,...We]);return qe?this:Ke}:Image$1.prototype[je]=function(...We){return $e.apply(this,[...Xe,...We])},Image$1}function extendProperty(je,$e,Ve={}){let{partialArgs:ze=[]}=Ve;return computedPropertyDescriptor$1.get=function(){if(this.computed===null)this.computed={};else if(hasOwn(je,this.computed))return this.computed[je];let qe=$e.apply(this,ze);return this.computed[je]=qe,qe},Object.defineProperty(Image$1.prototype,je,computedPropertyDescriptor$1),Image$1}const GREY$1="GREY",RGB$1="RGB",HSL="HSL",HSV="HSV",CMYK$1="CMYK",ColorModel=Object.freeze(Object.defineProperty({__proto__:null,CMYK:CMYK$1,GREY:GREY$1,HSL,HSV,RGB:RGB$1},Symbol.toStringTag,{value:"Module"}));function getRGBAData(je={}){const{clamped:$e}=je;this.checkProcessable("getRGBAData",{components:[1,3],bitDepth:[1,8,16,32]});const Ve=this.width*this.height*4;let ze=$e?new Uint8ClampedArray(Ve):new Uint8Array(Ve);return this.bitDepth===1?fillDataFromBinary(this,ze):this.bitDepth===32?(this.checkProcessable("getRGBAData",{alpha:0}),this.components===1?fillDataFromGrey32(this,ze):this.components===3&&(this.checkProcessable("getRGBAData",{colorModel:[RGB$1]}),fillDataFromRGB32(this,ze))):this.components===1?fillDataFromGrey(this,ze):this.components===3&&(this.checkProcessable("getRGBAData",{colorModel:[RGB$1]}),fillDataFromRGB(this,ze)),this.alpha===1?(this.checkProcessable("getRGBAData",{bitDepth:[8,16]}),copyAlpha(this,ze)):fillAlpha(this,ze),ze}function fillDataFromBinary(je,$e){for(let Ve=0;Ve<je.size;Ve++){const ze=je.getBit(Ve);$e[Ve*4]=ze*255,$e[Ve*4+1]=ze*255,$e[Ve*4+2]=ze*255}}function fillDataFromGrey32(je,$e){const Ve=je.min[0],ze=je.max[0]-Ve;for(let qe=0;qe<je.size;qe++){const Xe=Math.floor(255*(je.data[qe]-Ve)/ze);$e[qe*4]=Xe,$e[qe*4+1]=Xe,$e[qe*4+2]=Xe}}function fillDataFromRGB32(je,$e){const Ve=Math.min(...je.min),ze=Math.max(...je.max)-Ve;for(let qe=0;qe<je.size;qe++){const Xe=Math.floor(255*(je.data[qe*3]-Ve)/ze),We=Math.floor(255*(je.data[qe*3+1]-Ve)/ze),Ke=Math.floor(255*(je.data[qe*3+2]-Ve)/ze);$e[qe*4]=Xe,$e[qe*4+1]=We,$e[qe*4+2]=Ke}}function fillDataFromGrey(je,$e){for(let Ve=0;Ve<je.size;Ve++)$e[Ve*4]=je.data[Ve*je.channels]>>>je.bitDepth-8,$e[Ve*4+1]=je.data[Ve*je.channels]>>>je.bitDepth-8,$e[Ve*4+2]=je.data[Ve*je.channels]>>>je.bitDepth-8}function fillDataFromRGB(je,$e){for(let Ve=0;Ve<je.size;Ve++)$e[Ve*4]=je.data[Ve*je.channels]>>>je.bitDepth-8,$e[Ve*4+1]=je.data[Ve*je.channels+1]>>>je.bitDepth-8,$e[Ve*4+2]=je.data[Ve*je.channels+2]>>>je.bitDepth-8}function copyAlpha(je,$e){for(let Ve=0;Ve<je.size;Ve++)$e[Ve*4+3]=je.data[Ve*je.channels+je.components]>>je.bitDepth-8}function fillAlpha(je,$e){for(let Ve=0;Ve<je.size;Ve++)$e[Ve*4+3]=255}const BINARY="BINARY",GREY="GREY",GREYA="GREYA",RGB="RGB",RGBA="RGBA",CMYK="CMYK",CMYKA="CMYKA",kinds={};kinds[BINARY]={components:1,alpha:0,bitDepth:1,colorModel:GREY$1};kinds[GREYA]={components:1,alpha:1,bitDepth:8,colorModel:GREY$1};kinds[GREY]={components:1,alpha:0,bitDepth:8,colorModel:GREY$1};kinds[RGBA]={components:3,alpha:1,bitDepth:8,colorModel:RGB$1};kinds[RGB]={components:3,alpha:0,bitDepth:8,colorModel:RGB$1};kinds[CMYK]={components:4,alpha:0,bitDepth:8,colorModel:CMYK$1};kinds[CMYKA]={components:4,alpha:1,bitDepth:8,colorModel:CMYK$1};function getKind(je){const $e=kinds[je];if(!$e)throw new RangeError(`invalid image kind: ${je}`);return $e}const validBitDepth=[1,8,16,32];function verifyKindDefinition(je){const{components:$e,alpha:Ve,bitDepth:ze,colorModel:qe}=je;if(!Number.isInteger($e)||$e<=0)throw new RangeError(`invalid components: ${$e}. Must be a positive integer`);if(Ve!==0&&Ve!==1&&typeof Ve!="boolean")throw new TypeError(`invalid alpha: ${Ve}: must be a boolean, 0 or 1`);if(!validBitDepth.includes(ze))throw new RangeError(`invalid bitDepth: ${ze}. Must be one of ${validBitDepth.join(", ")}`);if(!ColorModel[qe])throw new RangeError(`invalid colorModel: ${qe}. Must be one of ${Object.keys(ColorModel).join(", ")}`)}function getTheoreticalPixelArraySize(je,$e,Ve){let ze=$e*je;return Ve===1&&(ze=Math.ceil(ze/8)),ze}function createPixelArray(je,$e,Ve,ze,qe,Xe){const We=ze*je;let Ke;switch(qe){case 1:Ke=new Uint8Array(Math.ceil(We/8));break;case 8:Ke=new Uint8Array(We);break;case 16:Ke=new Uint16Array(We);break;case 32:Ke=new Float32Array(We);break;default:throw new Error(`Cannot create pixel array for bit depth ${qe}`)}if(Ve)for(let Je=$e;Je<Ke.length;Je+=ze)Ke[Je]=Xe;return Ke}const defaultByteLength=1024*8,charArray=[];let IOBuffer$2=class{constructor(je,$e){$e=$e||{},je===void 0&&(je=defaultByteLength),typeof je=="number"&&(je=new ArrayBuffer(je));let Ve=je.byteLength;const ze=$e.offset?$e.offset>>>0:0;je.buffer&&(Ve=je.byteLength-ze,je.byteLength!==je.buffer.byteLength?je=je.buffer.slice(je.byteOffset+ze,je.byteOffset+je.byteLength):ze?je=je.buffer.slice(ze):je=je.buffer),this.buffer=je,this.length=Ve,this.byteLength=Ve,this.byteOffset=0,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer),this._increment=Ve||defaultByteLength,this._mark=0}available(je){return je===void 0&&(je=1),this.offset+je<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){this.littleEndian=!0}isBigEndian(){return!this.littleEndian}setBigEndian(){this.littleEndian=!1}skip(je){je===void 0&&(je=1),this.offset+=je}seek(je){this.offset=je}mark(){this._mark=this.offset}reset(){this.offset=this._mark}rewind(){this.offset=0}ensureAvailable(je){if(je===void 0&&(je=1),!this.available(je)){const $e=this._increment+this._increment;this._increment=$e;const Ve=this.length+$e,ze=new Uint8Array(Ve);ze.set(new Uint8Array(this.buffer)),this.buffer=ze.buffer,this.length=Ve,this._data=new DataView(this.buffer)}}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(je){je===void 0&&(je=1);for(var $e=new Uint8Array(je),Ve=0;Ve<je;Ve++)$e[Ve]=this.readByte();return $e}readInt16(){var je=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,je}readUint16(){var je=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,je}readInt32(){var je=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,je}readUint32(){var je=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,je}readFloat32(){var je=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,je}readFloat64(){var je=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,je}readChar(){return String.fromCharCode(this.readInt8())}readChars(je){je===void 0&&(je=1),charArray.length=je;for(var $e=0;$e<je;$e++)charArray[$e]=this.readChar();return charArray.join("")}writeBoolean(je){this.writeUint8(je?255:0)}writeInt8(je){this.ensureAvailable(1),this._data.setInt8(this.offset++,je)}writeUint8(je){this.ensureAvailable(1),this._data.setUint8(this.offset++,je)}writeByte(je){this.writeUint8(je)}writeBytes(je){this.ensureAvailable(je.length);for(var $e=0;$e<je.length;$e++)this._data.setUint8(this.offset++,je[$e])}writeInt16(je){this.ensureAvailable(2),this._data.setInt16(this.offset,je,this.littleEndian),this.offset+=2}writeUint16(je){this.ensureAvailable(2),this._data.setUint16(this.offset,je,this.littleEndian),this.offset+=2}writeInt32(je){this.ensureAvailable(4),this._data.setInt32(this.offset,je,this.littleEndian),this.offset+=4}writeUint32(je){this.ensureAvailable(4),this._data.setUint32(this.offset,je,this.littleEndian),this.offset+=4}writeFloat32(je){this.ensureAvailable(4),this._data.setFloat32(this.offset,je,this.littleEndian),this.offset+=4}writeFloat64(je){this.ensureAvailable(8),this._data.setFloat64(this.offset,je,this.littleEndian),this.offset+=8}writeChar(je){this.writeUint8(je.charCodeAt(0))}writeChars(je){for(var $e=0;$e<je.length;$e++)this.writeUint8(je.charCodeAt($e))}toArray(){return new Uint8Array(this.buffer,0,this.offset)}};var IOBuffer_1=IOBuffer$2,src$3={};const tagsById$5={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Threshholding",264:"CellWidth",265:"CellLength",266:"FillOrder",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",296:"ResolutionUnit",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",320:"ColorMap",338:"ExtraSamples",33432:"Copyright",269:"DocumentName",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",293:"T6Options",297:"PageNumber",301:"TransferFunction",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFDs",332:"InkSet",333:"InkNames",334:"NumberOfInks",336:"DotRange",337:"TargetPrinter",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"XMP",32781:"ImageID",34732:"ImageLayer",32932:"WangAnnotatio",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"ModelPixelScaleTag",33723:"IPTC",33918:"INGRPacketDataTag",33919:"INGRFlagRegisters",33920:"IrasBTransformationMatrix",33922:"ModelTiepointTag",34264:"ModelTransformationTag",34377:"Photoshop",34665:"ExifIFD",34675:"ICCProfile",34735:"GeoKeyDirectoryTag",34736:"GeoDoubleParamsTag",34737:"GeoAsciiParamsTag",34853:"GPSIFD",34908:"HylaFAXFaxRecvParams",34909:"HylaFAXFaxSubAddress",34910:"HylaFAXFaxRecvTime",37724:"ImageSourceData",40965:"InteroperabilityIFD",42112:"GDAL_METADATA",42113:"GDAL_NODATA",50215:"OceScanjobDescription",50216:"OceApplicationSelector",50217:"OceIdentificationNumber",50218:"OceImageLogicCharacteristics",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50784:"AliasLayerMetadata"},tagsByName$5={};for(var i$2$1 in tagsById$5)tagsByName$5[tagsById$5[i$2$1]]=i$2$1;var standard$1={tagsById:tagsById$5,tagsByName:tagsByName$5};const tagsById$4={33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37396:"SubjectArea",37500:"MakerNote",37510:"UserComment",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42240:"Gamma"},tagsByName$4={};for(var i$1$1 in tagsById$4)tagsByName$4[tagsById$4[i$1$1]]=i$1$1;var exif$1={tagsById:tagsById$4,tagsByName:tagsByName$4};const tagsById$3={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},tagsByName$3={};for(var i$3 in tagsById$3)tagsByName$3[tagsById$3[i$3]]=i$3;var gps$1={tagsById:tagsById$3,tagsByName:tagsByName$3};const tags$1={standard:standard$1,exif:exif$1,gps:gps$1};let IFD$2=class{constructor(je){if(!je)throw new Error("missing kind");this.data=null,this.fields=new Map,this.kind=je,this._map=null}get(je){if(typeof je=="number")return this.fields.get(je);if(typeof je=="string")return this.fields.get(tags$1[this.kind].tagsByName[je]);throw new Error("expected a number or string")}get map(){if(!this._map){this._map={};const $e=tags$1[this.kind].tagsById;for(var je of this.fields.keys())$e[je]&&(this._map[$e[je]]=this.fields.get(je))}return this._map}};var ifd=IFD$2;const Ifd=ifd,dateTimeRegex$1=/^(\d{4}):(\d{2}):(\d{2}) (\d{2}):(\d{2}):(\d{2})$/;let TiffIfd$1=class extends Ifd{constructor(){super("standard")}get size(){return this.width*this.height}get width(){return this.imageWidth}get height(){return this.imageLength}get components(){return this.samplesPerPixel}get date(){var je=new Date,$e=dateTimeRegex$1.exec(this.dateTime);return je.setFullYear($e[1],$e[2]-1,$e[3]),je.setHours($e[4],$e[5],$e[6]),je}get newSubfileType(){return this.get(254)}get imageWidth(){return this.get(256)}get imageLength(){return this.get(257)}get bitsPerSample(){return this.get(258)}get compression(){return this.get(259)||1}get type(){return this.get(262)}get fillOrder(){return this.get(266)||1}get documentName(){return this.get(269)}get imageDescription(){return this.get(270)}get stripOffsets(){return alwaysArray$1(this.get(273))}get orientation(){return this.get(274)}get samplesPerPixel(){return this.get(277)}get rowsPerStrip(){return this.get(278)}get stripByteCounts(){return alwaysArray$1(this.get(279))}get minSampleValue(){return this.get(280)||0}get maxSampleValue(){return this.get(281)||Math.pow(2,this.bitsPerSample)-1}get xResolution(){return this.get(282)}get yResolution(){return this.get(283)}get planarConfiguration(){return this.get(284)||1}get resolutionUnit(){return this.get(296)||2}get dateTime(){return this.get(306)}get predictor(){return this.get(317)||1}get sampleFormat(){return this.get(339)||1}get sMinSampleValue(){return this.get(340)||this.minSampleValue}get sMaxSampleValue(){return this.get(341)||this.maxSampleValue}};function alwaysArray$1(je){return typeof je=="number"?[je]:je}var tiffIfd=TiffIfd$1,ifdValue={},types$1=new Map([[1,[1,readByte$1]],[2,[1,readASCII$1]],[3,[2,readShort$1]],[4,[4,readLong$1]],[5,[8,readRational$1]],[6,[1,readSByte$1]],[7,[1,readByte$1]],[8,[2,readSShort$1]],[9,[4,readSLong$1]],[10,[8,readSRational$1]],[11,[4,readFloat$1]],[12,[8,readDouble$1]]]);ifdValue.getByteLength=function(je,$e){return types$1.get(je)[0]*$e};ifdValue.readData=function(je,$e,Ve){return types$1.get($e)[1](je,Ve)};function readByte$1(je,$e){if($e===1)return je.readUint8();for(var Ve=new Uint8Array($e),ze=0;ze<$e;ze++)Ve[ze]=je.readUint8();return Ve}function readASCII$1(je,$e){for(var Ve=[],ze="",qe=0;qe<$e;qe++){var Xe=String.fromCharCode(je.readUint8());Xe==="\0"?(Ve.push(ze),ze=""):ze+=Xe}return Ve.length===1?Ve[0]:Ve}function readShort$1(je,$e){if($e===1)return je.readUint16();for(var Ve=new Uint16Array($e),ze=0;ze<$e;ze++)Ve[ze]=je.readUint16();return Ve}function readLong$1(je,$e){if($e===1)return je.readUint32();for(var Ve=new Uint32Array($e),ze=0;ze<$e;ze++)Ve[ze]=je.readUint32();return Ve}function readRational$1(je,$e){if($e===1)return je.readUint32()/je.readUint32();for(var Ve=new Array($e),ze=0;ze<$e;ze++)Ve[ze]=je.readUint32()/je.readUint32();return Ve}function readSByte$1(je,$e){if($e===1)return je.readInt8();for(var Ve=new Int8Array($e),ze=0;ze<$e;ze++)Ve[ze]=je.readInt8();return Ve}function readSShort$1(je,$e){if($e===1)return je.readInt16();for(var Ve=new Int16Array($e),ze=0;ze<$e;ze++)Ve[ze]=je.readInt16();return Ve}function readSLong$1(je,$e){if($e===1)return je.readInt32();for(var Ve=new Int32Array($e),ze=0;ze<$e;ze++)Ve[ze]=je.readInt32();return Ve}function readSRational$1(je,$e){if($e===1)return je.readInt32()/je.readInt32();for(var Ve=new Array($e),ze=0;ze<$e;ze++)Ve[ze]=je.readInt32()/je.readInt32();return Ve}function readFloat$1(je,$e){if($e===1)return je.readFloat32();for(var Ve=new Float32Array($e),ze=0;ze<$e;ze++)Ve[ze]=je.readFloat32();return Ve}function readDouble$1(je,$e){if($e===1)return je.readFloat64();for(var Ve=new Float64Array($e),ze=0;ze<$e;ze++)Ve[ze]=je.readFloat64();return Ve}const IOBuffer$1=IOBuffer_1,IFD$1=ifd,TiffIFD=tiffIfd,IFDValue=ifdValue,defaultOptions$d={ignoreImageData:!1,onlyFirst:!1};let TIFFDecoder$2=class extends IOBuffer$1{constructor(je,$e){super(je,$e),this._nextIFD=0}decode(je){je=Object.assign({},defaultOptions$d,je);const $e=[];for(this.decodeHeader();this._nextIFD;)if($e.push(this.decodeIFD(je)),je.onlyFirst)return $e[0];return $e}decodeHeader(){let je=this.readUint16();if(je===18761)this.setLittleEndian();else if(je===19789)this.setBigEndian();else throw new Error("invalid byte order: 0x"+je.toString(16));if(je=this.readUint16(),je!==42)throw new Error("not a TIFF file");this._nextIFD=this.readUint32()}decodeIFD(je){this.seek(this._nextIFD);var $e;je.kind?$e=new IFD$1(je.kind):$e=new TiffIFD;const Ve=this.readUint16();for(var ze=0;ze<Ve;ze++)this.decodeIFDEntry($e);return je.ignoreImageData||this.decodeImageData($e),this._nextIFD=this.readUint32(),$e}decodeIFDEntry(je){const $e=this.offset,Ve=this.readUint16(),ze=this.readUint16(),qe=this.readUint32();if(ze<1||ze>12){this.skip(4);return}IFDValue.getByteLength(ze,qe)>4&&this.seek(this.readUint32());const Xe=IFDValue.readData(this,ze,qe);if(je.fields.set(Ve,Xe),Ve===34665||Ve===34853){let We=this.offset,Ke;Ve===34665?Ke="exif":Ve===34853&&(Ke="gps"),this._nextIFD=Xe,je[Ke]=this.decodeIFD({kind:Ke,ignoreImageData:!0}),this.offset=We}this.seek($e),this.skip(12)}decodeImageData(je){const $e=je.orientation;switch($e&&$e!==1&&unsupported$1("orientation",$e),je.type){case 1:case 2:this.readStripData(je);break;default:unsupported$1("image type",je.type);break}}readStripData(je){const $e=je.width,Ve=je.height,ze=validateBitDepth(je.bitsPerSample),qe=je.sampleFormat;let Xe=$e*Ve;const We=getDataArray$1(Xe,1,ze,qe),Ke=je.compression,Je=je.rowsPerStrip*$e,Ze=je.stripOffsets,Qe=je.stripByteCounts;for(var St=0,ei=0;ei<Ze.length;ei++){var ti=this.getStripData(Ke,Ze[ei],Qe[ei]),ni=Xe>Je?Je:Xe;Xe-=ni,ze===8?St=fill8bit$1(We,ti,St,ni):ze===16?St=fill16bit$1(We,ti,St,ni,this.isLittleEndian()):ze===32&&qe===3?St=fillFloat32$1(We,ti,St,ni,this.isLittleEndian()):unsupported$1("bitDepth",ze)}je.data=We}getStripData(je,$e,Ve){switch(je){case 1:return new DataView(this.buffer,$e,Ve);case 2:case 32773:return unsupported$1("Compression",je);default:throw new Error("invalid compression: "+je)}}};var tiffDecoder=TIFFDecoder$2;function getDataArray$1(je,$e,Ve,ze){return Ve===8?new Uint8Array(je*$e):Ve===16?new Uint16Array(je*$e):Ve===32&&ze===3?new Float32Array(je*$e):unsupported$1("bit depth / sample format",Ve+" / "+ze)}function fill8bit$1(je,$e,Ve,ze){for(var qe=0;qe<ze;qe++)je[Ve++]=$e.getUint8(qe);return Ve}function fill16bit$1(je,$e,Ve,ze,qe){for(var Xe=0;Xe<ze*2;Xe+=2)je[Ve++]=$e.getUint16(Xe,qe);return Ve}function fillFloat32$1(je,$e,Ve,ze,qe){for(var Xe=0;Xe<ze*4;Xe+=4)je[Ve++]=$e.getFloat32(Xe,qe);return Ve}function unsupported$1(je,$e){throw new Error("Unsupported "+je+": "+$e)}function validateBitDepth(je){if(je.length){const Ve=je;je=Ve[0];for(var $e=0;$e<Ve.length;$e++)Ve[$e]!==je&&unsupported$1("bit depth",Ve)}return je}const TIFFDecoder$1=tiffDecoder;var decode$2=function(je,$e){return new TIFFDecoder$1(je,$e).decode($e)};src$3.decode=decode$2;const IOBuffer=IOBuffer_1,tiff=src$3;function decode$1(je){const $e=new IOBuffer(je),Ve={};if($e.setBigEndian(),$e.readUint16()!==65496)throw new Error("SOI marker not found. Not a valid JPEG file");if($e.readUint16()===65505){$e.readUint16();const ze=$e.readBytes(6);if(ze[0]===69&&ze[1]===120&&ze[2]===105&&ze[3]===102&&ze[4]===0&&ze[5]===0){const qe=tiff.decode($e,{onlyFirst:!0,ignoreImageData:!0,offset:$e.offset});Ve.exif=qe}}return Ve}var decode_1=decode$1,decode=decode_1,imageType$2={exports:{}},fileType$1={exports:{}};(function(module){const toBytes=je=>[...je].map($e=>$e.charCodeAt(0)),xpiZipFilename=toBytes("META-INF/mozilla.rsa"),oxmlContentTypes=toBytes("[Content_Types].xml"),oxmlRels=toBytes("_rels/.rels");function readUInt64LE(je,$e=0){let Ve=je[$e],ze=1,qe=0;for(;++qe<8;)ze*=256,Ve+=je[$e+qe]*ze;return Ve}const fileType=je=>{if(!(je instanceof Uint8Array||je instanceof ArrayBuffer||Buffer.isBuffer(je)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof je}\``);const $e=je instanceof Uint8Array?je:new Uint8Array(je);if(!($e&&$e.length>1))return null;const Ve=(qe,Xe)=>{Xe=Object.assign({offset:0},Xe);for(let We=0;We<qe.length;We++)if(Xe.mask){if(qe[We]!==(Xe.mask[We]&$e[We+Xe.offset]))return!1}else if(qe[We]!==$e[We+Xe.offset])return!1;return!0},ze=(qe,Xe)=>Ve(toBytes(qe),Xe);if(Ve([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(Ve([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(Ve([71,73,70]))return{ext:"gif",mime:"image/gif"};if(Ve([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(Ve([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((Ve([73,73,42,0])||Ve([77,77,0,42]))&&Ve([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(Ve([73,73,42,0])||Ve([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(Ve([66,77]))return{ext:"bmp",mime:"image/bmp"};if(Ve([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(Ve([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(Ve([80,75,3,4])){if(Ve([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(Ve(xpiZipFilename,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(ze("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(ze("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(ze("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};const qe=(Je,Ze=0)=>Je.findIndex((Qe,St,ei)=>St>=Ze&&ei[St]===80&&ei[St+1]===75&&ei[St+2]===3&&ei[St+3]===4);let Xe=0,We=!1,Ke=null;do{const Je=Xe+30;if(We||(We=Ve(oxmlContentTypes,{offset:Je})||Ve(oxmlRels,{offset:Je})),Ke||(ze("word/",{offset:Je})?Ke={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:ze("ppt/",{offset:Je})?Ke={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:ze("xl/",{offset:Je})&&(Ke={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),We&&Ke)return Ke;Xe=qe($e,Je)}while(Xe>=0);if(Ke)return Ke}if(Ve([80,75])&&($e[2]===3||$e[2]===5||$e[2]===7)&&($e[3]===4||$e[3]===6||$e[3]===8))return{ext:"zip",mime:"application/zip"};if(Ve([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(Ve([82,97,114,33,26,7])&&($e[6]===0||$e[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(Ve([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(Ve([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(Ve([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(Ve([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(Ve([51,103,112,53])||Ve([0,0,0])&&Ve([102,116,121,112],{offset:4})&&(Ve([109,112,52,49],{offset:8})||Ve([109,112,52,50],{offset:8})||Ve([105,115,111,109],{offset:8})||Ve([105,115,111,50],{offset:8})||Ve([109,109,112,52],{offset:8})||Ve([77,52,86],{offset:8})||Ve([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(Ve([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(Ve([26,69,223,163])){const qe=$e.subarray(4,4100),Xe=qe.findIndex((We,Ke,Je)=>Je[Ke]===66&&Je[Ke+1]===130);if(Xe!==-1){const We=Xe+3,Ke=Je=>[...Je].every((Ze,Qe)=>qe[We+Qe]===Ze.charCodeAt(0));if(Ke("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(Ke("webm"))return{ext:"webm",mime:"video/webm"}}}if(Ve([0,0,0,20,102,116,121,112,113,116,32,32])||Ve([102,114,101,101],{offset:4})||Ve([102,116,121,112,113,116,32,32],{offset:4})||Ve([109,100,97,116],{offset:4})||Ve([109,111,111,118],{offset:4})||Ve([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(Ve([82,73,70,70])){if(Ve([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(Ve([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(Ve([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(Ve([48,38,178,117,142,102,207,17,166,217])){let qe=30;do{const Xe=readUInt64LE($e,qe+16);if(Ve([145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101],{offset:qe})){if(Ve([64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43],{offset:qe+24}))return{ext:"wma",mime:"audio/x-ms-wma"};if(Ve([192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43],{offset:qe+24}))return{ext:"wmv",mime:"video/x-ms-asf"};break}qe+=Xe}while(qe+24<=$e.length);return{ext:"asf",mime:"application/vnd.ms-asf"}}if(Ve([0,0,1,186])||Ve([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(Ve([102,116,121,112,51,103],{offset:4}))return{ext:"3gp",mime:"video/3gpp"};for(let qe=0;qe<2&&qe<$e.length-16;qe++){if(Ve([73,68,51],{offset:qe})||Ve([255,226],{offset:qe,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};if(Ve([255,228],{offset:qe,mask:[255,228]}))return{ext:"mp2",mime:"audio/mpeg"};if(Ve([255,248],{offset:qe,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(Ve([255,240],{offset:qe,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(Ve([102,116,121,112,77,52,65],{offset:4}))return{ext:"m4a",mime:"audio/mp4"};if(Ve([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(Ve([79,103,103,83]))return Ve([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:Ve([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:Ve([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:Ve([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:Ve([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(Ve([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(Ve([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(Ve([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(Ve([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(Ve([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(Ve([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(($e[0]===67||$e[0]===70)&&Ve([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(Ve([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(Ve([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(Ve([119,79,70,70])&&(Ve([0,1,0,0],{offset:4})||Ve([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(Ve([119,79,70,50])&&(Ve([0,1,0,0],{offset:4})||Ve([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(Ve([76,80],{offset:34})&&(Ve([0,0,1],{offset:8})||Ve([1,0,2],{offset:8})||Ve([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(Ve([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(Ve([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(Ve([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(Ve([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(Ve([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(Ve([37,33]))return{ext:"ps",mime:"application/postscript"};if(Ve([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(Ve([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(Ve([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(Ve([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(Ve([77,83,67,70])||Ve([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(Ve([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(Ve([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(Ve([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(Ve([31,160])||Ve([31,157]))return{ext:"Z",mime:"application/x-compress"};if(Ve([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(Ve([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(Ve([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(Ve([71],{offset:4})&&(Ve([71],{offset:192})||Ve([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(Ve([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(Ve([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(Ve([0,0,0,12,106,80,32,32,13,10,135,10])){if(Ve([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(Ve([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(Ve([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(Ve([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}if(Ve([70,79,82,77]))return{ext:"aif",mime:"audio/aiff"};if(ze("<?xml "))return{ext:"xml",mime:"application/xml"};if(Ve([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(Ve([102,116,121,112],{offset:4})){if(Ve([109,105,102,49],{offset:8}))return{ext:"heic",mime:"image/heif"};if(Ve([109,115,102,49],{offset:8}))return{ext:"heic",mime:"image/heif-sequence"};if(Ve([104,101,105,99],{offset:8})||Ve([104,101,105,120],{offset:8}))return{ext:"heic",mime:"image/heic"};if(Ve([104,101,118,99],{offset:8})||Ve([104,101,118,120],{offset:8}))return{ext:"heic",mime:"image/heic-sequence"}}return Ve([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:Ve([68,73,67,77],{offset:128})?{ext:"dcm",mime:"application/dicom"}:Ve([77,80,43])?{ext:"mpc",mime:"audio/x-musepack"}:Ve([77,80,67,75])?{ext:"mpc",mime:"audio/x-musepack"}:Ve([66,69,71,73,78,58])?{ext:"ics",mime:"text/calendar"}:Ve([103,108,84,70,2,0,0,0])?{ext:"glb",mime:"model/gltf-binary"}:Ve([212,195,178,161])||Ve([161,178,195,212])?{ext:"pcap",mime:"application/vnd.tcpdump.pcap"}:null};module.exports=fileType,module.exports.default=fileType,Object.defineProperty(fileType,"minimumBytes",{value:4100}),module.exports.stream=readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.once("readable",()=>{const je=new stream.PassThrough,$e=readableStream.read(module.exports.minimumBytes)||readableStream.read();try{je.fileType=fileType($e)}catch(Ve){reject(Ve)}readableStream.unshift($e),stream.pipeline?resolve(stream.pipeline(readableStream,je,()=>{})):resolve(readableStream.pipe(je))})})})(fileType$1);var fileTypeExports=fileType$1.exports;const fileType=fileTypeExports,imageExts=new Set(["jpg","png","gif","webp","flif","cr2","tif","bmp","jxr","psd","ico","bpg","jp2","jpm","jpx","heic","cur","dcm"]),imageType=je=>{const $e=fileType(je);return imageExts.has($e&&$e.ext)?$e:null};imageType$2.exports=imageType;imageType$2.exports.default=imageType;Object.defineProperty(imageType,"minimumBytes",{value:fileType.minimumBytes});var imageTypeExports=imageType$2.exports;const imageType$1=getDefaultExportFromCjs$1(imageTypeExports);function guessStripByteCounts(je){if(je.compression!==1)throw new Error("missing mandatory StripByteCounts field in compressed image");const $e=je.rowsPerStrip*je.width*je.samplesPerPixel*(je.bitsPerSample/8);return new Array(je.stripOffsets.length).fill($e)}function applyHorizontalDifferencing8Bit(je,$e,Ve){let ze=0;for(;ze<je.length;){for(let qe=Ve;qe<$e*Ve;qe+=Ve)for(let Xe=0;Xe<Ve;Xe++)je[ze+qe+Xe]=je[ze+qe+Xe]+je[ze+qe-(Ve-Xe)]&255;ze+=$e*Ve}}function applyHorizontalDifferencing16Bit(je,$e,Ve){let ze=0;for(;ze<je.length;){for(let qe=Ve;qe<$e*Ve;qe+=Ve)for(let Xe=0;Xe<Ve;Xe++)je[ze+qe+Xe]=je[ze+qe+Xe]+je[ze+qe-(Ve-Xe)]&65535;ze+=$e*Ve}}const tagsById$2={33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37396:"SubjectArea",37500:"MakerNote",37510:"UserComment",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42240:"Gamma"},tagsByName$2={};for(let je in tagsById$2)tagsByName$2[tagsById$2[je]]=Number(je);const exif=Object.freeze(Object.defineProperty({__proto__:null,tagsById:tagsById$2,tagsByName:tagsByName$2},Symbol.toStringTag,{value:"Module"})),tagsById$1={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},tagsByName$1={};for(let je in tagsById$1)tagsByName$1[tagsById$1[je]]=Number(je);const gps=Object.freeze(Object.defineProperty({__proto__:null,tagsById:tagsById$1,tagsByName:tagsByName$1},Symbol.toStringTag,{value:"Module"})),tagsById={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Threshholding",264:"CellWidth",265:"CellLength",266:"FillOrder",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",296:"ResolutionUnit",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",320:"ColorMap",338:"ExtraSamples",33432:"Copyright",269:"DocumentName",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",293:"T6Options",297:"PageNumber",301:"TransferFunction",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFDs",332:"InkSet",333:"InkNames",334:"NumberOfInks",336:"DotRange",337:"TargetPrinter",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"XMP",32781:"ImageID",34732:"ImageLayer",32932:"WangAnnotatio",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"ModelPixelScaleTag",33723:"IPTC",33918:"INGRPacketDataTag",33919:"INGRFlagRegisters",33920:"IrasBTransformationMatrix",33922:"ModelTiepointTag",34264:"ModelTransformationTag",34377:"Photoshop",34665:"ExifIFD",34675:"ICCProfile",34735:"GeoKeyDirectoryTag",34736:"GeoDoubleParamsTag",34737:"GeoAsciiParamsTag",34853:"GPSIFD",34908:"HylaFAXFaxRecvParams",34909:"HylaFAXFaxSubAddress",34910:"HylaFAXFaxRecvTime",37724:"ImageSourceData",40965:"InteroperabilityIFD",42112:"GDAL_METADATA",42113:"GDAL_NODATA",50215:"OceScanjobDescription",50216:"OceApplicationSelector",50217:"OceIdentificationNumber",50218:"OceImageLogicCharacteristics",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50784:"AliasLayerMetadata"},tagsByName={};for(let je in tagsById)tagsByName[tagsById[je]]=Number(je);const standard=Object.freeze(Object.defineProperty({__proto__:null,tagsById,tagsByName},Symbol.toStringTag,{value:"Module"})),tags={standard,exif,gps};class IFD{constructor($e){if(!$e)throw new Error("missing kind");this.data=new Uint8Array,this.fields=new Map,this.kind=$e,this._hasMap=!1,this._map={}}get($e){if(typeof $e=="number")return this.fields.get($e);if(typeof $e=="string")return this.fields.get(tags[this.kind].tagsByName[$e]);throw new Error("expected a number or string")}get map(){if(!this._hasMap){const $e=tags[this.kind].tagsById;for(let Ve of this.fields.keys())$e[Ve]&&(this._map[$e[Ve]]=this.fields.get(Ve));this._hasMap=!0}return this._map}}let types=new Map([[1,[1,readByte]],[2,[1,readASCII]],[3,[2,readShort]],[4,[4,readLong]],[5,[8,readRational]],[6,[1,readSByte]],[7,[1,readByte]],[8,[2,readSShort]],[9,[4,readSLong]],[10,[8,readSRational]],[11,[4,readFloat]],[12,[8,readDouble]]]);function getByteLength(je,$e){const Ve=types.get(je);if(!Ve)throw new Error(`type not found: ${je}`);return Ve[0]*$e}function readData(je,$e,Ve){const ze=types.get($e);if(!ze)throw new Error(`type not found: ${$e}`);return ze[1](je,Ve)}function readByte(je,$e){if($e===1)return je.readUint8();let Ve=new Uint8Array($e);for(let ze=0;ze<$e;ze++)Ve[ze]=je.readUint8();return Ve}function readASCII(je,$e){let Ve=[],ze="";for(let qe=0;qe<$e;qe++){let Xe=String.fromCharCode(je.readUint8());Xe==="\0"?(Ve.push(ze),ze=""):ze+=Xe}return Ve.length===1?Ve[0]:Ve}function readShort(je,$e){if($e===1)return je.readUint16();let Ve=new Uint16Array($e);for(let ze=0;ze<$e;ze++)Ve[ze]=je.readUint16();return Ve}function readLong(je,$e){if($e===1)return je.readUint32();let Ve=new Uint32Array($e);for(let ze=0;ze<$e;ze++)Ve[ze]=je.readUint32();return Ve}function readRational(je,$e){if($e===1)return je.readUint32()/je.readUint32();let Ve=new Array($e);for(let ze=0;ze<$e;ze++)Ve[ze]=je.readUint32()/je.readUint32();return Ve}function readSByte(je,$e){if($e===1)return je.readInt8();let Ve=new Int8Array($e);for(let ze=0;ze<$e;ze++)Ve[ze]=je.readInt8();return Ve}function readSShort(je,$e){if($e===1)return je.readInt16();let Ve=new Int16Array($e);for(let ze=0;ze<$e;ze++)Ve[ze]=je.readInt16();return Ve}function readSLong(je,$e){if($e===1)return je.readInt32();let Ve=new Int32Array($e);for(let ze=0;ze<$e;ze++)Ve[ze]=je.readInt32();return Ve}function readSRational(je,$e){if($e===1)return je.readInt32()/je.readInt32();let Ve=new Array($e);for(let ze=0;ze<$e;ze++)Ve[ze]=je.readInt32()/je.readInt32();return Ve}function readFloat(je,$e){if($e===1)return je.readFloat32();let Ve=new Float32Array($e);for(let ze=0;ze<$e;ze++)Ve[ze]=je.readFloat32();return Ve}function readDouble(je,$e){if($e===1)return je.readFloat64();let Ve=new Float64Array($e);for(let ze=0;ze<$e;ze++)Ve[ze]=je.readFloat64();return Ve}const CLEAR_CODE=256,EOI_CODE=257,TABLE_START=258,MIN_BIT_LENGTH=9;let stringTable=[];function initializeStringTable(){if(stringTable.length===0){for(let $e=0;$e<256;$e++)stringTable.push([$e]);const je=[];for(let $e=256;$e<4096;$e++)stringTable.push(je)}}const andTable=[511,1023,2047,4095],bitJumps=[0,0,0,0,0,0,0,0,0,511,1023,2047,4095];class LzwDecoder{constructor($e){this.nextData=0,this.nextBits=0,this.bytePointer=0,this.tableLength=TABLE_START,this.currentBitLength=MIN_BIT_LENGTH,this.stripArray=new Uint8Array($e.buffer,$e.byteOffset,$e.byteLength),this.outData=new IOBuffer$4($e.byteLength),this.initializeTable()}decode(){let $e=0,Ve=0;for(;($e=this.getNextCode())!==EOI_CODE;)if($e===CLEAR_CODE){if(this.initializeTable(),$e=this.getNextCode(),$e===EOI_CODE)break;this.writeString(this.stringFromCode($e)),Ve=$e}else if(this.isInTable($e))this.writeString(this.stringFromCode($e)),this.addStringToTable(this.stringFromCode(Ve).concat(this.stringFromCode($e)[0])),Ve=$e;else{const qe=this.stringFromCode(Ve).concat(this.stringFromCode(Ve)[0]);this.writeString(qe),this.addStringToTable(qe),Ve=$e}const ze=this.outData.toArray();return new DataView(ze.buffer,ze.byteOffset,ze.byteLength)}initializeTable(){initializeStringTable(),this.tableLength=TABLE_START,this.currentBitLength=MIN_BIT_LENGTH}writeString($e){this.outData.writeBytes($e)}stringFromCode($e){return stringTable[$e]}isInTable($e){return $e<this.tableLength}addStringToTable($e){if(stringTable[this.tableLength++]=$e,stringTable.length>4096)throw stringTable=[],new Error("LZW decoding error. Please open an issue at https://github.com/image-js/tiff/issues/new/choose (include a test image).");this.tableLength===bitJumps[this.currentBitLength]&&this.currentBitLength++}getNextCode(){this.nextData=this.nextData<<8|this.stripArray[this.bytePointer++]&255,this.nextBits+=8,this.nextBits<this.currentBitLength&&(this.nextData=this.nextData<<8|this.stripArray[this.bytePointer++]&255,this.nextBits+=8);const $e=this.nextData>>this.nextBits-this.currentBitLength&andTable[this.currentBitLength-9];return this.nextBits-=this.currentBitLength,this.bytePointer>this.stripArray.length?257:$e}}function decompressLzw(je){return new LzwDecoder(je).decode()}const dateTimeRegex=/^(\d{4}):(\d{2}):(\d{2}) (\d{2}):(\d{2}):(\d{2})$/;class TiffIfd extends IFD{constructor(){super("standard")}get size(){return this.width*this.height}get width(){return this.imageWidth}get height(){return this.imageLength}get components(){return this.samplesPerPixel}get date(){let $e=new Date,Ve=dateTimeRegex.exec(this.dateTime);if(Ve===null)throw new Error(`invalid dateTime: ${this.dateTime}`);return $e.setFullYear(Number(Ve[1]),Number(Ve[2])-1,Number(Ve[3])),$e.setHours(Number(Ve[4]),Number(Ve[5]),Number(Ve[6])),$e}get newSubfileType(){return this.get("NewSubfileType")}get imageWidth(){return this.get("ImageWidth")}get imageLength(){return this.get("ImageLength")}get bitsPerSample(){const $e=this.get("BitsPerSample");return $e&&typeof $e!="number"?$e[0]:$e}get alpha(){const $e=this.extraSamples;return $e?$e[0]!==0:!1}get associatedAlpha(){const $e=this.extraSamples;return $e?$e[0]===1:!1}get extraSamples(){return alwaysArray(this.get("ExtraSamples"))}get compression(){return this.get("Compression")||1}get type(){return this.get("PhotometricInterpretation")}get fillOrder(){return this.get("FillOrder")||1}get documentName(){return this.get("DocumentName")}get imageDescription(){return this.get("ImageDescription")}get stripOffsets(){return alwaysArray(this.get("StripOffsets"))}get orientation(){return this.get("Orientation")}get samplesPerPixel(){return this.get("SamplesPerPixel")||1}get rowsPerStrip(){return this.get("RowsPerStrip")}get stripByteCounts(){return alwaysArray(this.get("StripByteCounts"))}get minSampleValue(){return this.get("MinSampleValue")||0}get maxSampleValue(){return this.get("MaxSampleValue")||Math.pow(2,this.bitsPerSample)-1}get xResolution(){return this.get("XResolution")}get yResolution(){return this.get("YResolution")}get planarConfiguration(){return this.get("PlanarConfiguration")||1}get resolutionUnit(){return this.get("ResolutionUnit")||2}get dateTime(){return this.get("DateTime")}get predictor(){return this.get("Predictor")||1}get sampleFormat(){return this.get("SampleFormat")||1}get sMinSampleValue(){return this.get("SMinSampleValue")||this.minSampleValue}get sMaxSampleValue(){return this.get("SMaxSampleValue")||this.maxSampleValue}get palette(){const $e=2**this.bitsPerSample,Ve=this.get("ColorMap");if(!Ve)return;if(Ve.length!==3*$e)throw new Error(`ColorMap size must be ${$e}`);const ze=[];for(let qe=0;qe<$e;qe++)ze.push([Ve[qe],Ve[qe+$e],Ve[qe+2*$e]]);return ze}}function alwaysArray(je){return typeof je=="number"?[je]:je}function decompressZlib(je){const $e=new Uint8Array(je.buffer,je.byteOffset,je.byteLength),Ve=inflate_1($e);return new DataView(Ve.buffer,Ve.byteOffset,Ve.byteLength)}const defaultOptions$c={ignoreImageData:!1,onlyFirst:!1};class TIFFDecoder extends IOBuffer$4{constructor($e){super($e),this._nextIFD=0}get isMultiPage(){let $e=0;for(this.decodeHeader();this._nextIFD;)if($e++,this.decodeIFD({ignoreImageData:!0},!0),$e===2)return!0;if($e===1)return!1;throw unsupported("ifdCount",$e)}get pageCount(){let $e=0;for(this.decodeHeader();this._nextIFD;)$e++,this.decodeIFD({ignoreImageData:!0},!0);if($e>0)return $e;throw unsupported("ifdCount",$e)}decode($e={}){$e=Object.assign({},defaultOptions$c,$e);const Ve=[];for(this.decodeHeader();this._nextIFD;)if(Ve.push(this.decodeIFD($e,!0)),$e.onlyFirst)return[Ve[0]];return Ve}decodeHeader(){const $e=this.readUint16();if($e===18761)this.setLittleEndian();else if($e===19789)this.setBigEndian();else throw new Error(`invalid byte order: 0x${$e.toString(16)}`);if(this.readUint16()!==42)throw new Error("not a TIFF file");this._nextIFD=this.readUint32()}decodeIFD($e,Ve){this.seek(this._nextIFD);let ze;if(Ve)ze=new TiffIfd;else{if(!$e.kind)throw new Error("kind is missing");ze=new IFD($e.kind)}const qe=this.readUint16();for(let Xe=0;Xe<qe;Xe++)this.decodeIFDEntry(ze);if(!$e.ignoreImageData){if(!(ze instanceof TiffIfd))throw new Error("must be a tiff ifd");this.decodeImageData(ze)}return this._nextIFD=this.readUint32(),ze}decodeIFDEntry($e){const Ve=this.offset,ze=this.readUint16(),qe=this.readUint16(),Xe=this.readUint32();if(qe<1||qe>12){this.skip(4);return}getByteLength(qe,Xe)>4&&this.seek(this.readUint32());const We=readData(this,qe,Xe);if($e.fields.set(ze,We),ze===34665||ze===34853){let Ke=this.offset,Je="exif";ze===34665?Je="exif":ze===34853&&(Je="gps"),this._nextIFD=We,$e[Je]=this.decodeIFD({kind:Je,ignoreImageData:!0},!1),this.offset=Ke}this.seek(Ve),this.skip(12)}decodeImageData($e){const Ve=$e.orientation;if(Ve&&Ve!==1)throw unsupported("orientation",Ve);switch($e.type){case 0:case 1:case 2:case 3:this.readStripData($e);break;default:throw unsupported("image type",$e.type)}if(this.applyPredictor($e),this.convertAlpha($e),$e.type===0){const ze=$e.bitsPerSample,qe=Math.pow(2,ze)-1;for(let Xe=0;Xe<$e.data.length;Xe++)$e.data[Xe]=qe-$e.data[Xe]}}readStripData($e){const Ve=$e.width,ze=$e.height,qe=$e.bitsPerSample,Xe=$e.sampleFormat,We=Ve*ze*$e.samplesPerPixel,Ke=getDataArray(We,qe,Xe),Je=$e.rowsPerStrip*Ve*$e.samplesPerPixel,Ze=$e.stripOffsets,Qe=$e.stripByteCounts||guessStripByteCounts($e);let St=We,ei=0;for(let ti=0;ti<Ze.length;ti++){let ni=new DataView(this.buffer,this.byteOffset+Ze[ti],Qe[ti]),oi=St>Je?Je:St;St-=oi;let ai=ni;switch($e.compression){case 1:break;case 5:{ai=decompressLzw(ni);break}case 8:{ai=decompressZlib(ni);break}case 2:throw unsupported("Compression","CCITT Group 3");case 32773:throw unsupported("Compression","PackBits");default:throw unsupported("Compression",$e.compression)}ei=this.fillUncompressed(qe,Xe,Ke,ai,ei,oi)}$e.data=Ke}fillUncompressed($e,Ve,ze,qe,Xe,We){if($e===8)return fill8bit(ze,qe,Xe,We);if($e===16)return fill16bit(ze,qe,Xe,We,this.isLittleEndian());if($e===32&&Ve===3)return fillFloat32(ze,qe,Xe,We,this.isLittleEndian());throw unsupported("bitDepth",$e)}applyPredictor($e){const Ve=$e.bitsPerSample;switch($e.predictor){case 1:break;case 2:{if(Ve===8)applyHorizontalDifferencing8Bit($e.data,$e.width,$e.components);else if(Ve===16)applyHorizontalDifferencing16Bit($e.data,$e.width,$e.components);else throw new Error(`Horizontal differencing is only supported for images with a bit depth of ${Ve}`);break}default:throw new Error(`invalid predictor: ${$e.predictor}`)}}convertAlpha($e){if($e.alpha&&$e.associatedAlpha){const{data:Ve,components:ze,maxSampleValue:qe}=$e;for(let Xe=0;Xe<Ve.length;Xe+=ze){const We=Ve[Xe+ze-1];for(let Ke=0;Ke<ze-1;Ke++)Ve[Xe+Ke]=Math.round(Ve[Xe+Ke]*qe/We)}}}}function getDataArray(je,$e,Ve){if($e===8)return new Uint8Array(je);if($e===16)return new Uint16Array(je);if($e===32&&Ve===3)return new Float32Array(je);throw unsupported("bit depth / sample format",`${$e} / ${Ve}`)}function fill8bit(je,$e,Ve,ze){for(let qe=0;qe<ze;qe++)je[Ve++]=$e.getUint8(qe);return Ve}function fill16bit(je,$e,Ve,ze,qe){for(let Xe=0;Xe<ze*2;Xe+=2)je[Ve++]=$e.getUint16(Xe,qe);return Ve}function fillFloat32(je,$e,Ve,ze,qe){for(let Xe=0;Xe<ze*4;Xe+=4)je[Ve++]=$e.getFloat32(Xe,qe);return Ve}function unsupported(je,$e){return new Error(`Unsupported ${je}: ${$e}`)}function decodeTIFF(je,$e){return new TIFFDecoder(je).decode($e)}function matchAndCrop(je={}){let{algorithm:$e="matchToPrevious",ignoreBorder:Ve=[0,0]}=je;this.checkProcessable("matchAndCrop",{bitDepth:[8,16]});let ze=$e==="matchToPrevious",qe=this[0],Xe=[];Xe[0]={position:[0,0],image:this[0]};let We=[0,0];for(let ei=1;ei<this.length;ei++){let ti=qe.getBestMatch(this[ei],{border:Ve});Xe[ei]={position:[ti[0]+We[0],ti[1]+We[1]],image:this[ei]},ze&&(We[0]+=ti[0],We[1]+=ti[1],qe=this[ei])}let Ke=0,Je=0,Ze=0,Qe=0;for(let ei=0;ei<Xe.length;ei++){let ti=Xe[ei];ti.position[0]>Ke&&(Ke=ti.position[0]),ti.position[0]<Je&&(Je=ti.position[0]),ti.position[1]>Ze&&(Ze=ti.position[1]),ti.position[1]<Qe&&(Qe=ti.position[1])}Je=0-Je,Qe=0-Qe;for(let ei=0;ei<Xe.length;ei++){let ti=Xe[ei];ti.crop=ti.image.crop({x:Ke-ti.position[0],y:Ze-ti.position[1],width:qe.width-Je-Ke,height:qe.height-Qe-Ze})}let St=[];for(let ei=0;ei<Xe.length;ei++)St[ei]=Xe[ei].crop;return new Stack(St)}function min$2(){this.checkProcessable("min",{bitDepth:[8,16]});let je=this[0].min;for(let $e=1;$e<this.length;$e++)for(let Ve=0;Ve<je.length;Ve++)je[Ve]=Math.min(je[Ve],this[$e].min[Ve]);return je}function max$2(){this.checkProcessable("min",{bitDepth:[8,16]});let je=this[0].max;for(let $e=1;$e<this.length;$e++)for(let Ve=0;Ve<je.length;Ve++)je[Ve]=Math.max(je[Ve],this[$e].max[Ve]);return je}function median$2(je){let $e=je.reduce((We,Ke)=>We+Ke);if($e===0)throw new Error("unreachable");let Ve=0,ze=0,qe=$e/2,Xe;for(;;){if(je[Ve]>0){if(Xe!==void 0)return(Xe+Ve)/2;if(ze+=je[Ve],ze>qe)return Ve;ze===qe&&(Xe=Ve)}Ve++}}function mean$2(je){let $e=0,Ve=0;for(let ze=0;ze<je.length;ze++)$e+=je[ze],Ve+=je[ze]*ze;return $e===0?0:Ve/$e}function median$1(){this.checkProcessable("median",{bitDepth:[8,16]});let je=this.getHistograms({maxSlots:this[0].maxValue+1}),$e=new Array(je.length);for(let Ve=0;Ve<je.length;Ve++){let ze=je[Ve];$e[Ve]=median$2(ze)}return $e}function histogram(je){this.checkProcessable("min",{bitDepth:[8,16]});let $e=this[0].getHistogram(je);for(let Ve=1;Ve<this.length;Ve++){let ze=this[Ve].getHistogram(je);for(let qe=0;qe<$e.length;qe++)$e[qe]+=ze[qe]}return $e}function histograms(je){this.checkProcessable("min",{bitDepth:[8,16]});let $e=this[0].getHistograms(je),Ve=$e[0].length;for(let ze=1;ze<this.length;ze++){let qe=this[ze].getHistograms(je);for(let Xe=0;Xe<$e.length;Xe++)for(let We=0;We<Ve;We++)$e[Xe][We]+=qe[Xe][We]}return $e}function averageImage(){this.checkProcessable("averageImage",{bitDepth:[8,16]});let je=new Uint32Array(this[0].data.length);for(let ze=0;ze<this.length;ze++){let qe=this[ze];for(let Xe=0;Xe<this[0].data.length;Xe++)je[Xe]+=qe.data[Xe]}let $e=Image$1.createFrom(this[0]),Ve=$e.data;for(let ze=0;ze<this[0].data.length;ze++)Ve[ze]=je[ze]/this.length;return $e}function maxImage(){this.checkProcessable("max",{bitDepth:[8,16]});let je=Image$1.createFrom(this[0]);je.data.fill(0);for(const $e of this)for(let Ve=0;Ve<je.data.length;Ve++)je.data[Ve]=Math.max($e.data[Ve],je.data[Ve]);return je}function minImage(){this.checkProcessable("max",{bitDepth:[8,16]});let je=Image$1.createFrom(this[0]);je.data.fill(je.maxValue);for(const $e of this)for(let Ve=0;Ve<je.data.length;Ve++)je.data[Ve]=Math.min($e.data[Ve],je.data[Ve]);return je}function extend$2(je){je.extendMethod("matchAndCrop",matchAndCrop),je.extendMethod("getMin",min$2),je.extendMethod("getMax",max$2),je.extendMethod("getMedian",median$1),je.extendMethod("getHistogram",histogram),je.extendMethod("getHistograms",histograms),je.extendMethod("getAverage",averageImage),je.extendMethod("getAverageImage",averageImage),je.extendMethod("getMaxImage",maxImage),je.extendMethod("getMinImage",minImage)}let computedPropertyDescriptor={configurable:!0,enumerable:!1,get:void 0};class Stack extends Array{constructor($e){if(Array.isArray($e)){super($e.length);for(let Ve=0;Ve<$e.length;Ve++)this[Ve]=$e[Ve]}else typeof $e=="number"?super($e):super();this.computed=null}static load($e){return Promise.all($e.map(Image$1.load)).then(Ve=>new Stack(Ve))}static extendMethod($e,Ve,ze={}){let{inPlace:qe=!1,returnThis:Xe=!0,partialArgs:We=[]}=ze;return qe?Stack.prototype[$e]=function(...Ke){this.computed=null;let Je=Ve.apply(this,[...We,...Ke]);return Xe?this:Je}:Stack.prototype[$e]=function(...Ke){return Ve.apply(this,[...We,...Ke])},Stack}static extendProperty($e,Ve,ze={}){let{partialArgs:qe=[]}=ze;return computedPropertyDescriptor.get=function(){if(this.computed===null)this.computed={};else if(hasOwn($e,this.computed))return this.computed[$e];let Xe=Ve.apply(this,qe);return this.computed[$e]=Xe,Xe},Object.defineProperty(Stack.prototype,$e,computedPropertyDescriptor),Stack}checkProcessable($e,Ve={}){if(typeof $e!="string")throw new TypeError("checkProcessable requires as first parameter the processName (a string)");if(this.size===0)throw new TypeError(`The process: ${$e} can not be applied on an empty stack`);this[0].checkProcessable($e,Ve);for(let ze=1;ze<this.length;ze++){if((Ve.sameSize===void 0||Ve.sameSize)&&this[0].width!==this[ze].width)throw new TypeError(`The process: ${$e} can not be applied if width is not identical in all images`);if((Ve.sameSize===void 0||Ve.sameSize)&&this[0].height!==this[ze].height)throw new TypeError(`The process: ${$e} can not be applied if height is not identical in all images`);if((Ve.sameAlpha===void 0||Ve.sameAlpha)&&this[0].alpha!==this[ze].alpha)throw new TypeError(`The process: ${$e} can not be applied if alpha is not identical in all images`);if((Ve.sameBitDepth===void 0||Ve.sameBitDepth)&&this[0].bitDepth!==this[ze].bitDepth)throw new TypeError(`The process: ${$e} can not be applied if bitDepth is not identical in all images`);if((Ve.sameColorModel===void 0||Ve.sameColorModel)&&this[0].colorModel!==this[ze].colorModel)throw new TypeError(`The process: ${$e} can not be applied if colorModel is not identical in all images`);if((Ve.sameNumberChannels===void 0||Ve.sameNumberChannels)&&this[0].channels!==this[ze].channels)throw new TypeError(`The process: ${$e} can not be applied if channels is not identical in all images`)}}}Array[Symbol.species]||(Stack.prototype.map=function(je,$e){if(typeof je!="function")throw new TypeError(`${je} is not a function`);let Ve=new Stack(this.length);for(let ze=0;ze<this.length;ze++)Ve[ze]=je.call($e,this[ze],ze,this);return Ve});extend$2(Stack);const isDataURL=/^data:[a-z]+\/(?:[a-z]+);base64,/;function load(je,$e){if(typeof je=="string")return loadURL(je,$e);if(je instanceof ArrayBuffer)return Promise.resolve(loadBinary(new Uint8Array(je),void 0,$e&&$e.ignorePalette));if(je.buffer)return Promise.resolve(loadBinary(je,void 0,$e&&$e.ignorePalette));throw new Error('argument to "load" must be a string or buffer.')}function loadBinary(je,$e,Ve){const ze=imageType$1(je);if(ze)switch(ze.mime){case"image/png":return loadPNG(je);case"image/jpeg":return loadJPEG(je);case"image/tiff":return loadTIFF(je,Ve);default:return loadGeneric(qe(ze.mime))}return loadGeneric(qe("application/octet-stream"));function qe(Xe){return $e||toBase64URL(je,Xe)}}function loadURL(je,$e){const Ve=je.slice(0,64).match(isDataURL);let ze;return Ve!==null?ze=Promise.resolve(decode$3(je.slice(Ve[0].length))):ze=fetchBinary(je,$e),ze.then(qe=>{const Xe=new Uint8Array(qe);return loadBinary(Xe,Ve?je:void 0,$e&&$e.ignorePalette)})}function loadPNG(je){const $e=decodePng(je);let Ve=$e.channels,ze,qe=0;return Ve===2||Ve===4?(ze=Ve-1,qe=1):ze=Ve,$e.palette?loadPNGFromPalette($e):new Image$1($e.width,$e.height,$e.data,{components:ze,alpha:qe,bitDepth:$e.depth})}function loadPNGFromPalette(je){const $e=je.width*je.height,Ve=je.palette[0].length,ze=new Uint8Array($e*Ve),qe=8/je.depth,Xe=je.depth<8?qe:1,We=parseInt("1".repeat(je.depth),2),Ke=Ve===4;let Je=0;for(let Ze=0;Ze<$e;Ze++){const Qe=Math.floor(Ze/Xe);let St=je.data[Qe];je.depth<8&&(St=St>>>je.depth*(qe-1-Ze%qe)&We);const ei=je.palette[St];ze[Je++]=ei[0],ze[Je++]=ei[1],ze[Je++]=ei[2],Ke&&(ze[Je++]=ei[3])}return new Image$1(je.width,je.height,ze,{components:3,alpha:Ke,bitDepth:8})}function loadJPEG(je){const $e=decode(je);let Ve;$e.exif&&(Ve=getMetadata($e.exif));const ze=jpegJs.decode(je,{useTArray:!0,maxMemoryUsageInMB:1024});let qe=new Image$1(ze.width,ze.height,ze.data,{meta:Ve});if(Ve&&Ve.tiff.tags.Orientation){const Xe=Ve.tiff.tags.Orientation;Xe>2&&(qe=qe.rotate({3:180,4:180,5:90,6:90,7:270,8:270}[Xe])),[2,4,5,7].includes(Xe)&&(qe=qe.flipX())}return qe}function loadTIFF(je,$e){let Ve=decodeTIFF(je);return Ve.length===1?getImageFromIFD(Ve[0],$e):new Stack(Ve.map(function(ze){return getImageFromIFD(ze,$e)}))}function getMetadata(je){const $e={tiff:{fields:je.fields,tags:je.map}};return je.exif&&($e.exif=je.exif),je.gps&&($e.gps=je.gps),$e}function getImageFromIFD(je,$e){if(!$e&&je.type===3){const Ve=new Uint16Array(3*je.width*je.height),ze=je.palette;let qe=0;for(let Xe=0;Xe<je.data.length;Xe++){const We=je.data[Xe],Ke=ze[We];Ve[qe++]=Ke[0],Ve[qe++]=Ke[1],Ve[qe++]=Ke[2]}return new Image$1(je.width,je.height,Ve,{components:3,alpha:je.alpha,colorModel:RGB$1,bitDepth:16,meta:getMetadata(je)})}else return new Image$1(je.width,je.height,je.data,{components:je.type===2?3:1,alpha:je.alpha,colorModel:je.type===2?RGB$1:GREY$1,bitDepth:je.bitsPerSample.length?je.bitsPerSample[0]:je.bitsPerSample,meta:getMetadata(je)})}function loadGeneric(je,$e){return $e=$e||{},new Promise(function(Ve,ze){let qe=new DOMImage;qe.onload=function(){let Xe=qe.width,We=qe.height,Ke=createCanvas(Xe,We).getContext("2d");Ke.drawImage(qe,0,0,Xe,We);let Je=Ke.getImageData(0,0,Xe,We).data;Ve(new Image$1(Xe,We,Je,$e))},qe.onerror=function(){ze(new Error(`Could not load ${je}`))},qe.src=je})}const valueMethods={getValueXY(je,$e,Ve){return this.data[($e*this.width+je)*this.channels+Ve]},setValueXY(je,$e,Ve,ze){return this.data[($e*this.width+je)*this.channels+Ve]=ze,this.computed=null,this},getValue(je,$e){return this.data[je*this.channels+$e]},setValue(je,$e,Ve){return this.data[je*this.channels+$e]=Ve,this.computed=null,this},getPixelXY(je,$e){return this.getPixel($e*this.width+je)},setPixelXY(je,$e,Ve){return this.setPixel($e*this.width+je,Ve)},getPixel(je){const $e=new Array(this.channels),Ve=je*this.channels;for(let ze=0;ze<this.channels;ze++)$e[ze]=this.data[Ve+ze];return $e},setPixel(je,$e){const Ve=je*this.channels;for(let ze=0;ze<$e.length;ze++)this.data[Ve+ze]=$e[ze];return this.computed=null,this}};function setValueMethods(je){for(const $e in valueMethods)je.prototype[$e]=valueMethods[$e]}function getImageParameters(je){return{width:je.width,height:je.height,components:je.components,alpha:je.alpha,colorModel:je.colorModel,bitDepth:je.bitDepth}}function getOutputImage(je,$e,Ve,ze={}){const{out:qe}=$e;if(qe===void 0)return ze.copy?je.clone():Image$1.createFrom(je,Ve);{if(!Image$1.isImage(qe))throw new TypeError("out must be an Image object");const Xe=Object.assign(getImageParameters(je),Ve);for(const We in Xe)if(qe[We]!==Xe[We])throw new RangeError(`cannot use out. Its ${We} must be "${Xe[We]}" (found "${qe[We]}")`);return qe}}function getOutputImageOrInPlace(je,$e,Ve){if($e.inPlace!==void 0&&typeof $e.inPlace!="boolean")throw new TypeError("inPlace option must be a boolean");if($e.inPlace){if($e.out!==void 0)throw new TypeError("out option must not be set if inPlace option is true");return je}return getOutputImage(je,$e,null,Ve)}function abs(je={}){this.checkProcessable("abs",{bitDepth:[32]});const $e=getOutputImageOrInPlace(this,je);return absolute(this,$e),$e}function absolute(je,$e){for(let Ve=0;Ve<je.data.length;Ve++)$e.data[Ve]=Math.abs(je.data[Ve])}function copyAlphaChannel(je,$e){if(je.alpha===1&&$e.alpha===1)for(let Ve=0;Ve<je.size;Ve++)$e.data[Ve*$e.channels+$e.components]=je.data[Ve*je.channels+je.components]}function invert(je={}){this.checkProcessable("invert",{bitDepth:[1,8,16]});const $e=getOutputImageOrInPlace(this,je);return this.bitDepth===1?invertBinary(this,$e):(invertColor(this,$e),this!==$e&&copyAlphaChannel(this,$e)),$e}function invertBinary(je,$e){for(let Ve=0;Ve<je.data.length;Ve++)$e.data[Ve]=~je.data[Ve]}function invertColor(je,$e){for(let Ve=0;Ve<je.data.length;Ve+=je.channels)for(let ze=0;ze<je.components;ze++)$e.data[Ve+ze]=je.maxValue-je.data[Ve+ze]}function flipX(){this.checkProcessable("flipX",{bitDepth:[8,16]});for(let je=0;je<this.height;je++){let $e=je*this.width*this.channels;for(let Ve=0;Ve<Math.floor(this.width/2);Ve++){let ze=Ve*this.channels+$e,qe=(this.width-Ve-1)*this.channels+$e;for(let Xe=0;Xe<this.channels;Xe++){let We=this.data[ze+Xe];this.data[ze+Xe]=this.data[qe+Xe],this.data[qe+Xe]=We}}}return this}function flipY(){this.checkProcessable("flipY",{bitDepth:[8,16]});for(let je=0;je<Math.floor(this.height/2);je++)for(let $e=0;$e<this.width;$e++){let Ve=$e*this.channels+je*this.width*this.channels,ze=$e*this.channels+(this.height-1-je)*this.channels*this.width;for(let qe=0;qe<this.channels;qe++){let Xe=this.data[Ve+qe];this.data[Ve+qe]=this.data[ze+qe],this.data[ze+qe]=Xe}}return this}function blurFilter(je={}){const{radius:$e=1}=je;if($e<1)throw new Error("radius must be greater than 1");const Ve=2*$e+1,ze=new Array(Ve);for(let qe=0;qe<Ve;qe++){ze[qe]=new Array(Ve);for(let Xe=0;Xe<Ve;Xe++)ze[qe][Xe]=1/(Ve*Ve)}return this.convolution(ze)}var medianQuickselect_min={exports:{}};(function(je){(function(){function $e(qe){for(var Xe=0,We=qe.length-1,Ke=void 0,Je=void 0,Ze=void 0,Qe=ze(Xe,We);;){if(We<=Xe)return qe[Qe];if(We==Xe+1)return qe[Xe]>qe[We]&&Ve(qe,Xe,We),qe[Qe];for(Ke=ze(Xe,We),qe[Ke]>qe[We]&&Ve(qe,Ke,We),qe[Xe]>qe[We]&&Ve(qe,Xe,We),qe[Ke]>qe[Xe]&&Ve(qe,Ke,Xe),Ve(qe,Ke,Xe+1),Je=Xe+1,Ze=We;;){do Je++;while(qe[Xe]>qe[Je]);do Ze--;while(qe[Ze]>qe[Xe]);if(Ze<Je)break;Ve(qe,Je,Ze)}Ve(qe,Xe,Ze),Ze<=Qe&&(Xe=Je),Ze>=Qe&&(We=Ze-1)}}var Ve=function(qe,Xe,We){var Ke;return Ke=[qe[We],qe[Xe]],qe[Xe]=Ke[0],qe[We]=Ke[1],Ke},ze=function(qe,Xe){return~~((qe+Xe)/2)};je.exports?je.exports=$e:window.median=$e})()})(medianQuickselect_min);var medianQuickselect_minExports=medianQuickselect_min.exports;const quickSelectMedian=getDefaultExportFromCjs$1(medianQuickselect_minExports);function validateArrayOfChannels(je,$e={}){let{channels:Ve,allowAlpha:ze,defaultAlpha:qe}=$e;return typeof ze!="boolean"&&(ze=!0),typeof Ve>"u"?allChannels(je,qe):validateChannels(je,Ve,ze)}function allChannels(je,$e){let Ve=$e?je.channels:je.components,ze=new Array(Ve);for(let qe=0;qe<Ve;qe++)ze[qe]=qe;return ze}function validateChannels(je,$e,Ve){Array.isArray($e)||($e=[$e]);for(let ze=0;ze<$e.length;ze++)$e[ze]=validateChannel(je,$e[ze],Ve);return $e}function validateChannel(je,$e,Ve=!0){if($e===void 0)throw new RangeError(`validateChannel : the channel has to be >=0 and <${je.channels}`);if(typeof $e=="string"){switch(je.colorModel){case GREY$1:break;case RGB$1:if("rgb".includes($e))switch($e){case"r":$e=0;break;case"g":$e=1;break;case"b":$e=2;break}break;case HSL:if("hsl".includes($e))switch($e){case"h":$e=0;break;case"s":$e=1;break;case"l":$e=2;break}break;case HSV:if("hsv".includes($e))switch($e){case"h":$e=0;break;case"s":$e=1;break;case"v":$e=2;break}break;case CMYK$1:if("cmyk".includes($e))switch($e){case"c":$e=0;break;case"m":$e=1;break;case"y":$e=2;break;case"k":$e=3;break}break;default:throw new Error(`Unexpected color model: ${je.colorModel}`)}if($e==="a"){if(!je.alpha)throw new Error("validateChannel : the image does not contain alpha channel");$e=je.components}if(typeof $e=="string")throw new Error(`validateChannel : undefined channel: ${$e}`)}if($e>=je.channels)throw new RangeError(`validateChannel : the channel has to be >=0 and <${je.channels}`);if(!Ve&&$e>=je.components)throw new RangeError("validateChannel : alpha channel may not be selected");return $e}function medianFilter(je={}){let{radius:$e=1,border:Ve="copy",channels:ze}=je;if(this.checkProcessable("medianFilter",{bitDepth:[8,16]}),$e<1)throw new Error("radius must be greater than 0");ze=validateArrayOfChannels(this,ze);let qe=$e,Xe=$e,We=Image$1.createFrom(this),Ke=(qe*2+1)*(Xe*2+1),Je=new Array(Ke);for(let Ze=0;Ze<ze.length;Ze++){let Qe=ze[Ze];for(let St=Xe;St<this.height-Xe;St++)for(let ei=qe;ei<this.width-qe;ei++){let ti=0;for(let oi=-Xe;oi<=Xe;oi++)for(let ai=-qe;ai<=qe;ai++){let si=((St+oi)*this.width+ei+ai)*this.channels+Qe;Je[ti++]=this.data[si]}let ni=(St*this.width+ei)*this.channels+Qe;We.data[ni]=quickSelectMedian(Je)}}if(this.alpha&&!ze.includes(this.channels))for(let Ze=this.components;Ze<this.data.length;Ze=Ze+this.channels)We.data[Ze]=this.data[Ze];return We.setBorder({size:[qe,Xe],algorithm:Ve}),We}function gaussianFilter(je={}){let{radius:$e=1,sigma:Ve,channels:ze,border:qe="copy"}=je;this.checkProcessable("gaussian",{bitDepth:[8,16]});const Xe=getKernel($e,Ve);return this.convolution([Xe,Xe],{border:qe,channels:ze,algorithm:"separable"})}function getKernel(je,$e){const Ve=je*2+1,ze=new Array(Ve),qe=$e||((Ve-1)*.5-1)*.3+.8,Xe=-.5/(qe*qe);let We=0;for(let Ke=0;Ke<Ve;Ke++){const Je=Ke-je,Ze=Math.exp(Xe*Je*Je);ze[Ke]=Ze,We+=Ze}for(let Ke=0;Ke<Ve;Ke++)ze[Ke]/=We;return ze}const SOBEL_X=[[-1,0,1],[-2,0,2],[-1,0,1]],SOBEL_Y=[[-1,-2,-1],[0,0,0],[1,2,1]],SCHARR_X=[[3,0,-3],[10,0,-10],[3,0,-3]],SCHARR_Y=[[3,10,3],[0,0,0],[-3,-10,-3]];var src$2={},fftlib={};(function(je){(function(){var $e;$e=je;var Ve={release:"0.3.0",date:"2013-03"};$e.toString=function(){return"version "+Ve.release+", released "+Ve.date};for(var ze=0,qe=null,Xe=null,We={init:function(Ze){if(Ze!==0&&!(Ze&Ze-1))ze=Ze,We._initArray(),We._makeBitReversalTable(),We._makeCosSinTable();else throw new Error("init: radix-2 required")},fft1d:function(Ze,Qe){We.fft(Ze,Qe,1)},ifft1d:function(Ze,Qe){var St=1/ze;We.fft(Ze,Qe,-1);for(var ei=0;ei<ze;ei++)Ze[ei]*=St,Qe[ei]*=St},bt1d:function(Ze,Qe){We.fft(Ze,Qe,-1)},fft2d:function(Ze,Qe){for(var St=[],ei=[],ti=0,ni=0;ni<ze;ni++){ti=ni*ze;for(var oi=0;oi<ze;oi++)St[oi]=Ze[oi+ti],ei[oi]=Qe[oi+ti];We.fft1d(St,ei);for(var ai=0;ai<ze;ai++)Ze[ai+ti]=St[ai],Qe[ai+ti]=ei[ai]}for(var si=0;si<ze;si++){for(var ri=0;ri<ze;ri++)ti=si+ri*ze,St[ri]=Ze[ti],ei[ri]=Qe[ti];We.fft1d(St,ei);for(var ii=0;ii<ze;ii++)ti=si+ii*ze,Ze[ti]=St[ii],Qe[ti]=ei[ii]}},ifft2d:function(Ze,Qe){for(var St=[],ei=[],ti=0,ni=0;ni<ze;ni++){ti=ni*ze;for(var oi=0;oi<ze;oi++)St[oi]=Ze[oi+ti],ei[oi]=Qe[oi+ti];We.ifft1d(St,ei);for(var ai=0;ai<ze;ai++)Ze[ai+ti]=St[ai],Qe[ai+ti]=ei[ai]}for(var si=0;si<ze;si++){for(var ri=0;ri<ze;ri++)ti=si+ri*ze,St[ri]=Ze[ti],ei[ri]=Qe[ti];We.ifft1d(St,ei);for(var ii=0;ii<ze;ii++)ti=si+ii*ze,Ze[ti]=St[ii],Qe[ti]=ei[ii]}},fft:function(Ze,Qe,St){for(var ei,ti,ni,oi,ai,si,ri,ii,ui,ci=ze>>2,hi=0;hi<ze;hi++)oi=qe[hi],hi<oi&&(ai=Ze[hi],Ze[hi]=Ze[oi],Ze[oi]=ai,ai=Qe[hi],Qe[hi]=Qe[oi],Qe[oi]=ai);for(var mi=1;mi<ze;mi<<=1){ti=0,ei=ze/(mi<<1);for(var di=0;di<mi;di++){si=Xe[ti+ci],ri=St*Xe[ti];for(var fi=di;fi<ze;fi+=mi<<1)ni=fi+mi,ii=si*Ze[ni]+ri*Qe[ni],ui=si*Qe[ni]-ri*Ze[ni],Ze[ni]=Ze[fi]-ii,Ze[fi]+=ii,Qe[ni]=Qe[fi]-ui,Qe[fi]+=ui;ti+=ei}}},_initArray:function(){typeof Uint32Array<"u"?qe=new Uint32Array(ze):qe=[],typeof Float64Array<"u"?Xe=new Float64Array(ze*1.25):Xe=[]},_paddingZero:function(){},_makeBitReversalTable:function(){var Ze=0,Qe=0,St=0;for(qe[0]=0;++Ze<ze;){for(St=ze>>1;St<=Qe;)Qe-=St,St>>=1;Qe+=St,qe[Ze]=Qe}},_makeCosSinTable:function(){var Ze=ze>>1,Qe=ze>>2,St=ze>>3,ei=Ze+Qe,ti=Math.sin(Math.PI/ze),ni=2*ti*ti,oi=Math.sqrt(ni*(2-ni)),ai=Xe[Qe]=1,si=Xe[0]=0;ti=2*ni;for(var ri=1;ri<St;ri++)ai-=ni,ni+=ti*ai,si+=oi,oi-=ti*si,Xe[ri]=si,Xe[Qe-ri]=ai;St!==0&&(Xe[St]=Math.sqrt(.5));for(var ii=0;ii<Qe;ii++)Xe[Ze-ii]=Xe[ii];for(var ui=0;ui<ei;ui++)Xe[ui+Ze]=-Xe[ui]}},Ke=["init","fft1d","ifft1d","fft2d","ifft2d"],Je=0;Je<Ke.length;Je++)$e[Ke[Je]]=We[Ke[Je]];return $e.bt=We.bt1d,$e.fft=We.fft1d,$e.ifft=We.ifft1d,$e}).call(commonjsGlobal$1)})(fftlib);var FFT$1=fftlib,FFTUtils$1={DEBUG:!1,ifft2DArray:function(je,$e,Ve){var ze=new Array($e*Ve),qe=$e/2,Xe=(Ve-1)*2;FFT$1.init(qe);for(var We={re:new Array(qe),im:new Array(qe)},Ke=0;Ke<Ve;Ke++){for(var Je=qe-1;Je>=0;Je--)We.re[Je]=je[Je*2*Ve+Ke],We.im[Je]=je[(Je*2+1)*Ve+Ke];FFT$1.bt(We.re,We.im);for(var Je=qe-1;Je>=0;Je--)ze[Je*2*Ve+Ke]=We.re[Je],ze[(Je*2+1)*Ve+Ke]=We.im[Je]}var Ze=new Array(qe*Xe);FFT$1.init(Xe);for(var Qe={re:new Array(Xe),im:new Array(Xe)},St=Xe*qe,Je=0;Je<$e;Je+=2){Qe.re[0]=ze[Je*Ve],Qe.im[0]=ze[(Je+1)*Ve];for(var Ke=1;Ke<Ve;Ke++)Qe.re[Ke]=ze[Je*Ve+Ke],Qe.im[Ke]=ze[(Je+1)*Ve+Ke],Qe.re[Xe-Ke]=ze[Je*Ve+Ke],Qe.im[Xe-Ke]=-ze[(Je+1)*Ve+Ke];FFT$1.bt(Qe.re,Qe.im);for(var ei=Je/2*Xe,Ke=Xe-1;Ke>=0;Ke--)Ze[ei+Ke]=Qe.re[Ke]/St}return Ze},fft2DArray:function(je,$e,Ve,ze){Object.assign({},{inplace:!0});var qe=Ve/2+1,Xe=$e*2,We=new Array(Xe*qe);FFT$1.init(Ve);for(var Ke={re:new Array(Ve),im:new Array(Ve)},Je={re:new Array(Ve),im:new Array(Ve)},Ze={re:new Array(Ve),im:new Array(Ve)},Qe,St,ei,ti,ni,oi=0;oi<$e/2;oi++){Qe=oi*2*Ve,Ke.re=je.slice(Qe,Qe+Ve),Qe=(oi*2+1)*Ve,Ke.im=je.slice(Qe,Qe+Ve),FFT$1.fft1d(Ke.re,Ke.im),this.reconstructTwoRealFFT(Ke,Je,Ze),St=oi*4*qe,ei=(oi*4+1)*qe,ti=(oi*4+2)*qe,ni=(oi*4+3)*qe;for(var ai=qe-1;ai>=0;ai--)We[St+ai]=Je.re[ai],We[ei+ai]=Je.im[ai],We[ti+ai]=Ze.re[ai],We[ni+ai]=Ze.im[ai]}Je=null,Ze=null;var si=new Array(Xe*qe);FFT$1.init($e);for(var ri={re:new Array($e),im:new Array($e)},ii=qe-1;ii>=0;ii--){for(var oi=$e-1;oi>=0;oi--)ri.re[oi]=We[oi*2*qe+ii],ri.im[oi]=We[(oi*2+1)*qe+ii],isNaN(ri.re[oi])&&(ri.re[oi]=0),isNaN(ri.im[oi])&&(ri.im[oi]=0);FFT$1.fft1d(ri.re,ri.im);for(var oi=$e-1;oi>=0;oi--)si[oi*2*qe+ii]=ri.re[oi],si[(oi*2+1)*qe+ii]=ri.im[oi]}return si},reconstructTwoRealFFT:function(je,$e,Ve){var ze=je.re.length;$e.re[0]=je.re[0],$e.im[0]=0,Ve.re[0]=je.im[0],Ve.im[0]=0;for(var qe,Xe,We,Ke,Je,Ze=ze/2;Ze>0;Ze--)Je=ze-Ze,qe=.5*(je.re[Ze]-je.re[Je]),Xe=.5*(je.re[Ze]+je.re[Je]),We=.5*(je.im[Ze]-je.im[Je]),Ke=.5*(je.im[Ze]+je.im[Je]),$e.re[Ze]=Xe,$e.im[Ze]=We,$e.re[Je]=Xe,$e.im[Je]=-We,Ve.re[Ze]=Ke,Ve.im[Ze]=-qe,Ve.re[Je]=Ke,Ve.im[Je]=qe},convolute2DI:function(je,$e,Ve,ze){for(var qe,Xe,We=0;We<Ve/2;We++)for(var Ke=0;Ke<ze;Ke++)qe=je[We*2*ze+Ke]*$e[We*2*ze+Ke]-je[(We*2+1)*ze+Ke]*$e[(We*2+1)*ze+Ke],Xe=je[We*2*ze+Ke]*$e[(We*2+1)*ze+Ke]+je[(We*2+1)*ze+Ke]*$e[We*2*ze+Ke],je[We*2*ze+Ke]=qe,je[(We*2+1)*ze+Ke]=Xe},convolute:function(je,$e,Ve,ze,qe){for(var Xe=new Array(ze*Ve),We=0;We<Ve*ze;We++)Xe[We]=je[We];Xe=this.fft2DArray(Xe,Ve,ze);for(var Ke=$e.length,Je=$e[0].length,Ze=new Array(ze*Ve),We=0;We<ze*Ve;We++)Ze[We]=0;for(var Qe,St,ei=Math.floor((Ke-1)/2),ti=Math.floor((Je-1)/2),ni=0;ni<Ke;ni++){Qe=(ni-ei+Ve)%Ve;for(var oi=0;oi<Je;oi++)St=(oi-ti+ze)%ze,Ze[Qe*ze+St]=$e[ni][oi]}Ze=this.fft2DArray(Ze,Ve,ze);var ai=Ve*2,si=ze/2+1;return this.convolute2DI(Xe,Ze,ai,si),this.ifft2DArray(Xe,ai,si)},toRadix2:function(je,$e,Ve){var ze,qe,Xe,We,Ke=Ve,Je=$e;if(!(Ve!==0&&!(Ve&Ve-1))){for(Ke=0;Ve>>++Ke;);Ke=1<<Ke}if(!($e!==0&&!($e&$e-1))){for(Je=0;$e>>++Je;);Je=1<<Je}if(Je==$e&&Ke==Ve)return{data:je,rows:$e,cols:Ve};var Ze=new Array(Je*Ke),Qe=Math.floor((Je-$e)/2)-$e,St=Math.floor((Ke-Ve)/2)-Ve;for(ze=0;ze<Je;ze++)for(Xe=ze*Ke,We=(ze-Qe)%$e*Ve,qe=0;qe<Ke;qe++)Ze[Xe+qe]=je[We+(qe-St)%Ve];return{data:Ze,rows:Je,cols:Ke}},crop:function(je,$e,Ve,ze,qe,Xe){if($e==ze&&Ve==qe)return je;Object.assign({},Xe);var We=new Array(qe*ze),Ke=Math.floor(($e-ze)/2),Je=Math.floor((Ve-qe)/2),Ze,Qe,St,ei;for(St=0;St<ze;St++)for(Ze=St*qe,Qe=(St+Ke)*Ve,ei=0;ei<qe;ei++)We[Ze+ei]=je[Qe+(ei+Je)];return We}},FFTUtils_1=FFTUtils$1;src$2.FFTUtils=FFTUtils_1;src$2.FFT=fftlib;var FFTUtils=src$2.FFTUtils;function convolutionFFT(je,$e,Ve){var ze=matrix2Array(je),qe=ze.data,Xe=Object.assign({normalize:!1,divisor:1,rows:ze.rows,cols:ze.cols},Ve),We,Ke;if(Xe.rows&&Xe.cols)We=Xe.rows,Ke=Xe.cols;else throw new Error("Invalid number of rows or columns "+We+" "+Ke);var Je=Xe.divisor,Ze,Qe,St=$e.length,ei=$e[0].length;if(Xe.normalize)for(Je=0,Ze=0;Ze<St;Ze++)for(Qe=0;Qe<ei;Qe++)Je+=$e[Ze][Qe];if(Je===0)throw new RangeError("convolution: The divisor is equal to zero");var ti=FFTUtils.toRadix2(qe,We,Ke),ni=FFTUtils.convolute(ti.data,$e,ti.rows,ti.cols);if(ni=FFTUtils.crop(ni,ti.rows,ti.cols,We,Ke),Je!=0&&Je!=1)for(Ze=0;Ze<ni.length;Ze++)ni[Ze]/=Je;return ni}function convolutionDirect(je,$e,Ve){var ze=matrix2Array(je),qe=ze.data,Xe=Object.assign({normalize:!1,divisor:1,rows:ze.rows,cols:ze.cols},Ve),We,Ke;if(Xe.rows&&Xe.cols)We=Xe.rows,Ke=Xe.cols;else throw new Error("Invalid number of rows or columns "+We+" "+Ke);var Je=Xe.divisor,Ze=$e.length,Qe=$e[0].length,St,ei,ti,ni,oi,ai,si,ri,ii;if(Xe.normalize)for(Je=0,St=0;St<Ze;St++)for(ei=0;ei<Qe;ei++)Je+=$e[St][ei];if(Je===0)throw new RangeError("convolution: The divisor is equal to zero");var ui=new Array(We*Ke),ci=Math.floor(Ze/2),hi=Math.floor(Qe/2);for(ni=0;ni<We;ni++)for(ti=0;ti<Ke;ti++){for(ai=0,ei=0;ei<Ze;ei++)for(St=0;St<Qe;St++)si=$e[Ze-ei-1][Qe-St-1],ri=(ni+ei-ci+We)%We,ii=(ti+St-hi+Ke)%Ke,oi=ri*Ke+ii,ai+=qe[oi]*si;oi=ni*Ke+ti,ui[oi]=ai/Je}return ui}function LoG(je,$e,Ve){var ze=1e3;Ve&&Ve.factor&&(ze=Ve.factor);var qe=new Array($e),Xe,We,Ke,Je;ze*=-1;var Ze=($e-1)/2,Qe=2*je*je;for(Xe=0;Xe<$e;Xe++)for(qe[Xe]=new Array($e),Je=(Xe-Ze)*(Xe-Ze),We=0;We<$e;We++)Ke=-((We-Ze)*(We-Ze)+Je)/Qe,qe[Xe][We]=Math.round(ze*(1+Ke)*Math.exp(Ke));return qe}function matrix2Array(je){var $e=je,Ve,ze;if(typeof je[0]!="number"){Ve=je.length,ze=je[0].length,$e=new Array(Ve*ze);for(var qe=0;qe<Ve;qe++)for(var Xe=0;Xe<ze;Xe++)$e[qe*ze+Xe]=je[qe][Xe]}else{var We=Math.sqrt(je.length);Number.isInteger(We)&&(Ve=We,ze=We)}return{data:$e,rows:Ve,cols:ze}}var src$1={fft:convolutionFFT,direct:convolutionDirect,kernelFactory:{LoG},matrix2Array},_isFinite=Number.isFinite||function(je){return!(typeof je!="number"||je!==je||je===1/0||je===-1/0)},isFinite$1=_isFinite,isInteger=Number.isInteger||function(je){return typeof je=="number"&&isFinite$1(je)&&Math.floor(je)===je};const isInteger$1=getDefaultExportFromCjs$1(isInteger);function validateKernel(je){let $e,Ve;if(Array.isArray(je))if(Array.isArray(je[0])){if(!(je.length&1)||!(je[0].length&1))throw new RangeError("validateKernel: Kernel rows and columns should be odd numbers");$e=Math.floor(je.length/2),Ve=Math.floor(je[0].length/2)}else{let ze=Math.sqrt(je.length);if(isInteger$1(ze))Ve=$e=Math.floor(Math.sqrt(je.length)/2);else throw new RangeError("validateKernel: Kernel array should be a square");let qe=new Array(ze);for(let Xe=0;Xe<ze;Xe++){qe[Xe]=new Array(ze);for(let We=0;We<ze;We++)qe[Xe][We]=je[Xe*ze+We]}je=qe}else throw new Error(`validateKernel: Invalid Kernel: ${je}`);return{kernel:je,kWidth:Ve,kHeight:$e}}function clamp(je,$e){return Math.round(Math.min(Math.max(je,0),$e.maxValue))}function directConvolution(je,$e,Ve){if(Ve===void 0){const Xe=je.length+$e.length-1;Ve=new Array(Xe)}fill(Ve);for(var ze=0;ze<je.length;ze++)for(var qe=0;qe<$e.length;qe++)Ve[ze+qe]+=je[ze]*$e[qe];return Ve}function fill(je){for(var $e=0;$e<je.length;$e++)je[$e]=0}function convolutionSeparable(je,$e,Ve,ze){const qe=new Array(je.length);let Xe,We,Ke,Je;Je=$e[1],Ke=(Je.length-1)/2,We=new Array(Ve+Je.length-1),Xe=new Array(Ve);for(let Ze=0;Ze<ze;Ze++){for(let Qe=0;Qe<Ve;Qe++)Xe[Qe]=je[Ze*Ve+Qe];directConvolution(Xe,Je,We);for(let Qe=0;Qe<Ve;Qe++)qe[Ze*Ve+Qe]=We[Ke+Qe]}Je=$e[0],Ke=(Je.length-1)/2,We=new Array(ze+Je.length-1),Xe=new Array(ze);for(let Ze=0;Ze<Ve;Ze++){for(let Qe=0;Qe<ze;Qe++)Xe[Qe]=qe[Qe*Ve+Ze];directConvolution(Xe,Je,We);for(let Qe=0;Qe<ze;Qe++)qe[Qe*Ve+Ze]=We[Ke+Qe]}return qe}var matrix={};const toString$1=Object.prototype.toString;function isAnyArray$1(je){const $e=toString$1.call(je);return $e.endsWith("Array]")&&!$e.includes("Big")}const libEsm=Object.freeze(Object.defineProperty({__proto__:null,isAnyArray:isAnyArray$1},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(libEsm);function max$1(je){var $e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!isAnyArray$1(je))throw new TypeError("input must be an array");if(je.length===0)throw new TypeError("input must not be empty");var Ve=$e.fromIndex,ze=Ve===void 0?0:Ve,qe=$e.toIndex,Xe=qe===void 0?je.length:qe;if(ze<0||ze>=je.length||!Number.isInteger(ze))throw new Error("fromIndex must be a positive integer smaller than length");if(Xe<=ze||Xe>je.length||!Number.isInteger(Xe))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var We=je[ze],Ke=ze+1;Ke<Xe;Ke++)je[Ke]>We&&(We=je[Ke]);return We}function min$1(je){var $e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!isAnyArray$1(je))throw new TypeError("input must be an array");if(je.length===0)throw new TypeError("input must not be empty");var Ve=$e.fromIndex,ze=Ve===void 0?0:Ve,qe=$e.toIndex,Xe=qe===void 0?je.length:qe;if(ze<0||ze>=je.length||!Number.isInteger(ze))throw new Error("fromIndex must be a positive integer smaller than length");if(Xe<=ze||Xe>je.length||!Number.isInteger(Xe))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var We=je[ze],Ke=ze+1;Ke<Xe;Ke++)je[Ke]<We&&(We=je[Ke]);return We}function rescale$1(je){var $e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(isAnyArray$1(je)){if(je.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var Ve;if($e.output!==void 0){if(!isAnyArray$1($e.output))throw new TypeError("output option must be an array if specified");Ve=$e.output}else Ve=new Array(je.length);var ze=min$1(je),qe=max$1(je);if(ze===qe)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var Xe=$e.min,We=Xe===void 0?$e.autoMinMax?ze:0:Xe,Ke=$e.max,Je=Ke===void 0?$e.autoMinMax?qe:1:Ke;if(We>=Je)throw new RangeError("min option must be smaller than max option");for(var Ze=(Je-We)/(qe-ze),Qe=0;Qe<je.length;Qe++)Ve[Qe]=(je[Qe]-ze)*Ze+We;return Ve}const libEs6=Object.freeze(Object.defineProperty({__proto__:null,default:rescale$1},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(libEs6);Object.defineProperty(matrix,"__esModule",{value:!0});var isAnyArray=require$$0$1,rescale=require$$1;const indent=" ".repeat(2),indentData=" ".repeat(4);function inspectMatrix(){return inspectMatrixWithOptions(this)}function inspectMatrixWithOptions(je,$e={}){const{maxRows:Ve=15,maxColumns:ze=10,maxNumSize:qe=8,padMinus:Xe="auto"}=$e;return`${je.constructor.name} {
${indent}[
${indentData}${inspectData(je,Ve,ze,qe,Xe)}
${indent}]
${indent}rows: ${je.rows}
${indent}columns: ${je.columns}
}`}function inspectData(je,$e,Ve,ze,qe){const{rows:Xe,columns:We}=je,Ke=Math.min(Xe,$e),Je=Math.min(We,Ve),Ze=[];if(qe==="auto"){qe=!1;e:for(let Qe=0;Qe<Ke;Qe++)for(let St=0;St<Je;St++)if(je.get(Qe,St)<0){qe=!0;break e}}for(let Qe=0;Qe<Ke;Qe++){let St=[];for(let ei=0;ei<Je;ei++)St.push(formatNumber(je.get(Qe,ei),ze,qe));Ze.push(`${St.join(" ")}`)}return Je!==We&&(Ze[Ze.length-1]+=` ... ${We-Ve} more columns`),Ke!==Xe&&Ze.push(`... ${Xe-$e} more rows`),Ze.join(`
${indentData}`)}function formatNumber(je,$e,Ve){return(je>=0&&Ve?` ${formatNumber2(je,$e-1)}`:formatNumber2(je,$e)).padEnd($e)}function formatNumber2(je,$e){let Ve=je.toString();if(Ve.length<=$e)return Ve;let ze=je.toFixed($e);if(ze.length>$e&&(ze=je.toFixed(Math.max(0,$e-(ze.length-$e)))),ze.length<=$e&&!ze.startsWith("0.000")&&!ze.startsWith("-0.000"))return ze;let qe=je.toExponential($e);return qe.length>$e&&(qe=je.toExponential(Math.max(0,$e-(qe.length-$e)))),qe.slice(0)}function installMathOperations(je,$e){je.prototype.add=function(Ve){return typeof Ve=="number"?this.addS(Ve):this.addM(Ve)},je.prototype.addS=function(Ve){for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,this.get(ze,qe)+Ve);return this},je.prototype.addM=function(Ve){if(Ve=$e.checkMatrix(Ve),this.rows!==Ve.rows||this.columns!==Ve.columns)throw new RangeError("Matrices dimensions must be equal");for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,this.get(ze,qe)+Ve.get(ze,qe));return this},je.add=function(Ve,ze){return new $e(Ve).add(ze)},je.prototype.sub=function(Ve){return typeof Ve=="number"?this.subS(Ve):this.subM(Ve)},je.prototype.subS=function(Ve){for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,this.get(ze,qe)-Ve);return this},je.prototype.subM=function(Ve){if(Ve=$e.checkMatrix(Ve),this.rows!==Ve.rows||this.columns!==Ve.columns)throw new RangeError("Matrices dimensions must be equal");for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,this.get(ze,qe)-Ve.get(ze,qe));return this},je.sub=function(Ve,ze){return new $e(Ve).sub(ze)},je.prototype.subtract=je.prototype.sub,je.prototype.subtractS=je.prototype.subS,je.prototype.subtractM=je.prototype.subM,je.subtract=je.sub,je.prototype.mul=function(Ve){return typeof Ve=="number"?this.mulS(Ve):this.mulM(Ve)},je.prototype.mulS=function(Ve){for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,this.get(ze,qe)*Ve);return this},je.prototype.mulM=function(Ve){if(Ve=$e.checkMatrix(Ve),this.rows!==Ve.rows||this.columns!==Ve.columns)throw new RangeError("Matrices dimensions must be equal");for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,this.get(ze,qe)*Ve.get(ze,qe));return this},je.mul=function(Ve,ze){return new $e(Ve).mul(ze)},je.prototype.multiply=je.prototype.mul,je.prototype.multiplyS=je.prototype.mulS,je.prototype.multiplyM=je.prototype.mulM,je.multiply=je.mul,je.prototype.div=function(Ve){return typeof Ve=="number"?this.divS(Ve):this.divM(Ve)},je.prototype.divS=function(Ve){for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,this.get(ze,qe)/Ve);return this},je.prototype.divM=function(Ve){if(Ve=$e.checkMatrix(Ve),this.rows!==Ve.rows||this.columns!==Ve.columns)throw new RangeError("Matrices dimensions must be equal");for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,this.get(ze,qe)/Ve.get(ze,qe));return this},je.div=function(Ve,ze){return new $e(Ve).div(ze)},je.prototype.divide=je.prototype.div,je.prototype.divideS=je.prototype.divS,je.prototype.divideM=je.prototype.divM,je.divide=je.div,je.prototype.mod=function(Ve){return typeof Ve=="number"?this.modS(Ve):this.modM(Ve)},je.prototype.modS=function(Ve){for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,this.get(ze,qe)%Ve);return this},je.prototype.modM=function(Ve){if(Ve=$e.checkMatrix(Ve),this.rows!==Ve.rows||this.columns!==Ve.columns)throw new RangeError("Matrices dimensions must be equal");for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,this.get(ze,qe)%Ve.get(ze,qe));return this},je.mod=function(Ve,ze){return new $e(Ve).mod(ze)},je.prototype.modulus=je.prototype.mod,je.prototype.modulusS=je.prototype.modS,je.prototype.modulusM=je.prototype.modM,je.modulus=je.mod,je.prototype.and=function(Ve){return typeof Ve=="number"?this.andS(Ve):this.andM(Ve)},je.prototype.andS=function(Ve){for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,this.get(ze,qe)&Ve);return this},je.prototype.andM=function(Ve){if(Ve=$e.checkMatrix(Ve),this.rows!==Ve.rows||this.columns!==Ve.columns)throw new RangeError("Matrices dimensions must be equal");for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,this.get(ze,qe)&Ve.get(ze,qe));return this},je.and=function(Ve,ze){return new $e(Ve).and(ze)},je.prototype.or=function(Ve){return typeof Ve=="number"?this.orS(Ve):this.orM(Ve)},je.prototype.orS=function(Ve){for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,this.get(ze,qe)|Ve);return this},je.prototype.orM=function(Ve){if(Ve=$e.checkMatrix(Ve),this.rows!==Ve.rows||this.columns!==Ve.columns)throw new RangeError("Matrices dimensions must be equal");for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,this.get(ze,qe)|Ve.get(ze,qe));return this},je.or=function(Ve,ze){return new $e(Ve).or(ze)},je.prototype.xor=function(Ve){return typeof Ve=="number"?this.xorS(Ve):this.xorM(Ve)},je.prototype.xorS=function(Ve){for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,this.get(ze,qe)^Ve);return this},je.prototype.xorM=function(Ve){if(Ve=$e.checkMatrix(Ve),this.rows!==Ve.rows||this.columns!==Ve.columns)throw new RangeError("Matrices dimensions must be equal");for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,this.get(ze,qe)^Ve.get(ze,qe));return this},je.xor=function(Ve,ze){return new $e(Ve).xor(ze)},je.prototype.leftShift=function(Ve){return typeof Ve=="number"?this.leftShiftS(Ve):this.leftShiftM(Ve)},je.prototype.leftShiftS=function(Ve){for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,this.get(ze,qe)<<Ve);return this},je.prototype.leftShiftM=function(Ve){if(Ve=$e.checkMatrix(Ve),this.rows!==Ve.rows||this.columns!==Ve.columns)throw new RangeError("Matrices dimensions must be equal");for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,this.get(ze,qe)<<Ve.get(ze,qe));return this},je.leftShift=function(Ve,ze){return new $e(Ve).leftShift(ze)},je.prototype.signPropagatingRightShift=function(Ve){return typeof Ve=="number"?this.signPropagatingRightShiftS(Ve):this.signPropagatingRightShiftM(Ve)},je.prototype.signPropagatingRightShiftS=function(Ve){for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,this.get(ze,qe)>>Ve);return this},je.prototype.signPropagatingRightShiftM=function(Ve){if(Ve=$e.checkMatrix(Ve),this.rows!==Ve.rows||this.columns!==Ve.columns)throw new RangeError("Matrices dimensions must be equal");for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,this.get(ze,qe)>>Ve.get(ze,qe));return this},je.signPropagatingRightShift=function(Ve,ze){return new $e(Ve).signPropagatingRightShift(ze)},je.prototype.rightShift=function(Ve){return typeof Ve=="number"?this.rightShiftS(Ve):this.rightShiftM(Ve)},je.prototype.rightShiftS=function(Ve){for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,this.get(ze,qe)>>>Ve);return this},je.prototype.rightShiftM=function(Ve){if(Ve=$e.checkMatrix(Ve),this.rows!==Ve.rows||this.columns!==Ve.columns)throw new RangeError("Matrices dimensions must be equal");for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,this.get(ze,qe)>>>Ve.get(ze,qe));return this},je.rightShift=function(Ve,ze){return new $e(Ve).rightShift(ze)},je.prototype.zeroFillRightShift=je.prototype.rightShift,je.prototype.zeroFillRightShiftS=je.prototype.rightShiftS,je.prototype.zeroFillRightShiftM=je.prototype.rightShiftM,je.zeroFillRightShift=je.rightShift,je.prototype.not=function(){for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<this.columns;ze++)this.set(Ve,ze,~this.get(Ve,ze));return this},je.not=function(Ve){return new $e(Ve).not()},je.prototype.abs=function(){for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<this.columns;ze++)this.set(Ve,ze,Math.abs(this.get(Ve,ze)));return this},je.abs=function(Ve){return new $e(Ve).abs()},je.prototype.acos=function(){for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<this.columns;ze++)this.set(Ve,ze,Math.acos(this.get(Ve,ze)));return this},je.acos=function(Ve){return new $e(Ve).acos()},je.prototype.acosh=function(){for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<this.columns;ze++)this.set(Ve,ze,Math.acosh(this.get(Ve,ze)));return this},je.acosh=function(Ve){return new $e(Ve).acosh()},je.prototype.asin=function(){for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<this.columns;ze++)this.set(Ve,ze,Math.asin(this.get(Ve,ze)));return this},je.asin=function(Ve){return new $e(Ve).asin()},je.prototype.asinh=function(){for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<this.columns;ze++)this.set(Ve,ze,Math.asinh(this.get(Ve,ze)));return this},je.asinh=function(Ve){return new $e(Ve).asinh()},je.prototype.atan=function(){for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<this.columns;ze++)this.set(Ve,ze,Math.atan(this.get(Ve,ze)));return this},je.atan=function(Ve){return new $e(Ve).atan()},je.prototype.atanh=function(){for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<this.columns;ze++)this.set(Ve,ze,Math.atanh(this.get(Ve,ze)));return this},je.atanh=function(Ve){return new $e(Ve).atanh()},je.prototype.cbrt=function(){for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<this.columns;ze++)this.set(Ve,ze,Math.cbrt(this.get(Ve,ze)));return this},je.cbrt=function(Ve){return new $e(Ve).cbrt()},je.prototype.ceil=function(){for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<this.columns;ze++)this.set(Ve,ze,Math.ceil(this.get(Ve,ze)));return this},je.ceil=function(Ve){return new $e(Ve).ceil()},je.prototype.clz32=function(){for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<this.columns;ze++)this.set(Ve,ze,Math.clz32(this.get(Ve,ze)));return this},je.clz32=function(Ve){return new $e(Ve).clz32()},je.prototype.cos=function(){for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<this.columns;ze++)this.set(Ve,ze,Math.cos(this.get(Ve,ze)));return this},je.cos=function(Ve){return new $e(Ve).cos()},je.prototype.cosh=function(){for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<this.columns;ze++)this.set(Ve,ze,Math.cosh(this.get(Ve,ze)));return this},je.cosh=function(Ve){return new $e(Ve).cosh()},je.prototype.exp=function(){for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<this.columns;ze++)this.set(Ve,ze,Math.exp(this.get(Ve,ze)));return this},je.exp=function(Ve){return new $e(Ve).exp()},je.prototype.expm1=function(){for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<this.columns;ze++)this.set(Ve,ze,Math.expm1(this.get(Ve,ze)));return this},je.expm1=function(Ve){return new $e(Ve).expm1()},je.prototype.floor=function(){for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<this.columns;ze++)this.set(Ve,ze,Math.floor(this.get(Ve,ze)));return this},je.floor=function(Ve){return new $e(Ve).floor()},je.prototype.fround=function(){for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<this.columns;ze++)this.set(Ve,ze,Math.fround(this.get(Ve,ze)));return this},je.fround=function(Ve){return new $e(Ve).fround()},je.prototype.log=function(){for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<this.columns;ze++)this.set(Ve,ze,Math.log(this.get(Ve,ze)));return this},je.log=function(Ve){return new $e(Ve).log()},je.prototype.log1p=function(){for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<this.columns;ze++)this.set(Ve,ze,Math.log1p(this.get(Ve,ze)));return this},je.log1p=function(Ve){return new $e(Ve).log1p()},je.prototype.log10=function(){for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<this.columns;ze++)this.set(Ve,ze,Math.log10(this.get(Ve,ze)));return this},je.log10=function(Ve){return new $e(Ve).log10()},je.prototype.log2=function(){for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<this.columns;ze++)this.set(Ve,ze,Math.log2(this.get(Ve,ze)));return this},je.log2=function(Ve){return new $e(Ve).log2()},je.prototype.round=function(){for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<this.columns;ze++)this.set(Ve,ze,Math.round(this.get(Ve,ze)));return this},je.round=function(Ve){return new $e(Ve).round()},je.prototype.sign=function(){for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<this.columns;ze++)this.set(Ve,ze,Math.sign(this.get(Ve,ze)));return this},je.sign=function(Ve){return new $e(Ve).sign()},je.prototype.sin=function(){for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<this.columns;ze++)this.set(Ve,ze,Math.sin(this.get(Ve,ze)));return this},je.sin=function(Ve){return new $e(Ve).sin()},je.prototype.sinh=function(){for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<this.columns;ze++)this.set(Ve,ze,Math.sinh(this.get(Ve,ze)));return this},je.sinh=function(Ve){return new $e(Ve).sinh()},je.prototype.sqrt=function(){for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<this.columns;ze++)this.set(Ve,ze,Math.sqrt(this.get(Ve,ze)));return this},je.sqrt=function(Ve){return new $e(Ve).sqrt()},je.prototype.tan=function(){for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<this.columns;ze++)this.set(Ve,ze,Math.tan(this.get(Ve,ze)));return this},je.tan=function(Ve){return new $e(Ve).tan()},je.prototype.tanh=function(){for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<this.columns;ze++)this.set(Ve,ze,Math.tanh(this.get(Ve,ze)));return this},je.tanh=function(Ve){return new $e(Ve).tanh()},je.prototype.trunc=function(){for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<this.columns;ze++)this.set(Ve,ze,Math.trunc(this.get(Ve,ze)));return this},je.trunc=function(Ve){return new $e(Ve).trunc()},je.pow=function(Ve,ze){return new $e(Ve).pow(ze)},je.prototype.pow=function(Ve){return typeof Ve=="number"?this.powS(Ve):this.powM(Ve)},je.prototype.powS=function(Ve){for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,Math.pow(this.get(ze,qe),Ve));return this},je.prototype.powM=function(Ve){if(Ve=$e.checkMatrix(Ve),this.rows!==Ve.rows||this.columns!==Ve.columns)throw new RangeError("Matrices dimensions must be equal");for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.set(ze,qe,Math.pow(this.get(ze,qe),Ve.get(ze,qe)));return this}}function checkRowIndex(je,$e,Ve){let ze=Ve?je.rows:je.rows-1;if($e<0||$e>ze)throw new RangeError("Row index out of range")}function checkColumnIndex(je,$e,Ve){let ze=Ve?je.columns:je.columns-1;if($e<0||$e>ze)throw new RangeError("Column index out of range")}function checkRowVector(je,$e){if($e.to1DArray&&($e=$e.to1DArray()),$e.length!==je.columns)throw new RangeError("vector size must be the same as the number of columns");return $e}function checkColumnVector(je,$e){if($e.to1DArray&&($e=$e.to1DArray()),$e.length!==je.rows)throw new RangeError("vector size must be the same as the number of rows");return $e}function checkRowIndices(je,$e){if(!isAnyArray.isAnyArray($e))throw new TypeError("row indices must be an array");for(let Ve=0;Ve<$e.length;Ve++)if($e[Ve]<0||$e[Ve]>=je.rows)throw new RangeError("row indices are out of range")}function checkColumnIndices(je,$e){if(!isAnyArray.isAnyArray($e))throw new TypeError("column indices must be an array");for(let Ve=0;Ve<$e.length;Ve++)if($e[Ve]<0||$e[Ve]>=je.columns)throw new RangeError("column indices are out of range")}function checkRange(je,$e,Ve,ze,qe){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(checkNumber("startRow",$e),checkNumber("endRow",Ve),checkNumber("startColumn",ze),checkNumber("endColumn",qe),$e>Ve||ze>qe||$e<0||$e>=je.rows||Ve<0||Ve>=je.rows||ze<0||ze>=je.columns||qe<0||qe>=je.columns)throw new RangeError("Submatrix indices are out of range")}function newArray$2(je,$e=0){let Ve=[];for(let ze=0;ze<je;ze++)Ve.push($e);return Ve}function checkNumber(je,$e){if(typeof $e!="number")throw new TypeError(`${je} must be a number`)}function checkNonEmpty(je){if(je.isEmpty())throw new Error("Empty matrix has no elements to index")}function sumByRow(je){let $e=newArray$2(je.rows);for(let Ve=0;Ve<je.rows;++Ve)for(let ze=0;ze<je.columns;++ze)$e[Ve]+=je.get(Ve,ze);return $e}function sumByColumn(je){let $e=newArray$2(je.columns);for(let Ve=0;Ve<je.rows;++Ve)for(let ze=0;ze<je.columns;++ze)$e[ze]+=je.get(Ve,ze);return $e}function sumAll(je){let $e=0;for(let Ve=0;Ve<je.rows;Ve++)for(let ze=0;ze<je.columns;ze++)$e+=je.get(Ve,ze);return $e}function productByRow(je){let $e=newArray$2(je.rows,1);for(let Ve=0;Ve<je.rows;++Ve)for(let ze=0;ze<je.columns;++ze)$e[Ve]*=je.get(Ve,ze);return $e}function productByColumn(je){let $e=newArray$2(je.columns,1);for(let Ve=0;Ve<je.rows;++Ve)for(let ze=0;ze<je.columns;++ze)$e[ze]*=je.get(Ve,ze);return $e}function productAll(je){let $e=1;for(let Ve=0;Ve<je.rows;Ve++)for(let ze=0;ze<je.columns;ze++)$e*=je.get(Ve,ze);return $e}function varianceByRow(je,$e,Ve){const ze=je.rows,qe=je.columns,Xe=[];for(let We=0;We<ze;We++){let Ke=0,Je=0,Ze=0;for(let Qe=0;Qe<qe;Qe++)Ze=je.get(We,Qe)-Ve[We],Ke+=Ze,Je+=Ze*Ze;$e?Xe.push((Je-Ke*Ke/qe)/(qe-1)):Xe.push((Je-Ke*Ke/qe)/qe)}return Xe}function varianceByColumn(je,$e,Ve){const ze=je.rows,qe=je.columns,Xe=[];for(let We=0;We<qe;We++){let Ke=0,Je=0,Ze=0;for(let Qe=0;Qe<ze;Qe++)Ze=je.get(Qe,We)-Ve[We],Ke+=Ze,Je+=Ze*Ze;$e?Xe.push((Je-Ke*Ke/ze)/(ze-1)):Xe.push((Je-Ke*Ke/ze)/ze)}return Xe}function varianceAll(je,$e,Ve){const ze=je.rows,qe=je.columns,Xe=ze*qe;let We=0,Ke=0,Je=0;for(let Ze=0;Ze<ze;Ze++)for(let Qe=0;Qe<qe;Qe++)Je=je.get(Ze,Qe)-Ve,We+=Je,Ke+=Je*Je;return $e?(Ke-We*We/Xe)/(Xe-1):(Ke-We*We/Xe)/Xe}function centerByRow(je,$e){for(let Ve=0;Ve<je.rows;Ve++)for(let ze=0;ze<je.columns;ze++)je.set(Ve,ze,je.get(Ve,ze)-$e[Ve])}function centerByColumn(je,$e){for(let Ve=0;Ve<je.rows;Ve++)for(let ze=0;ze<je.columns;ze++)je.set(Ve,ze,je.get(Ve,ze)-$e[ze])}function centerAll(je,$e){for(let Ve=0;Ve<je.rows;Ve++)for(let ze=0;ze<je.columns;ze++)je.set(Ve,ze,je.get(Ve,ze)-$e)}function getScaleByRow(je){const $e=[];for(let Ve=0;Ve<je.rows;Ve++){let ze=0;for(let qe=0;qe<je.columns;qe++)ze+=Math.pow(je.get(Ve,qe),2)/(je.columns-1);$e.push(Math.sqrt(ze))}return $e}function scaleByRow(je,$e){for(let Ve=0;Ve<je.rows;Ve++)for(let ze=0;ze<je.columns;ze++)je.set(Ve,ze,je.get(Ve,ze)/$e[Ve])}function getScaleByColumn(je){const $e=[];for(let Ve=0;Ve<je.columns;Ve++){let ze=0;for(let qe=0;qe<je.rows;qe++)ze+=Math.pow(je.get(qe,Ve),2)/(je.rows-1);$e.push(Math.sqrt(ze))}return $e}function scaleByColumn(je,$e){for(let Ve=0;Ve<je.rows;Ve++)for(let ze=0;ze<je.columns;ze++)je.set(Ve,ze,je.get(Ve,ze)/$e[ze])}function getScaleAll(je){const $e=je.size-1;let Ve=0;for(let ze=0;ze<je.columns;ze++)for(let qe=0;qe<je.rows;qe++)Ve+=Math.pow(je.get(qe,ze),2)/$e;return Math.sqrt(Ve)}function scaleAll(je,$e){for(let Ve=0;Ve<je.rows;Ve++)for(let ze=0;ze<je.columns;ze++)je.set(Ve,ze,je.get(Ve,ze)/$e)}class AbstractMatrix{static from1DArray($e,Ve,ze){if($e*Ve!==ze.length)throw new RangeError("data length does not match given dimensions");let qe=new Matrix$3($e,Ve);for(let Xe=0;Xe<$e;Xe++)for(let We=0;We<Ve;We++)qe.set(Xe,We,ze[Xe*Ve+We]);return qe}static rowVector($e){let Ve=new Matrix$3(1,$e.length);for(let ze=0;ze<$e.length;ze++)Ve.set(0,ze,$e[ze]);return Ve}static columnVector($e){let Ve=new Matrix$3($e.length,1);for(let ze=0;ze<$e.length;ze++)Ve.set(ze,0,$e[ze]);return Ve}static zeros($e,Ve){return new Matrix$3($e,Ve)}static ones($e,Ve){return new Matrix$3($e,Ve).fill(1)}static rand($e,Ve,ze={}){if(typeof ze!="object")throw new TypeError("options must be an object");const{random:qe=Math.random}=ze;let Xe=new Matrix$3($e,Ve);for(let We=0;We<$e;We++)for(let Ke=0;Ke<Ve;Ke++)Xe.set(We,Ke,qe());return Xe}static randInt($e,Ve,ze={}){if(typeof ze!="object")throw new TypeError("options must be an object");const{min:qe=0,max:Xe=1e3,random:We=Math.random}=ze;if(!Number.isInteger(qe))throw new TypeError("min must be an integer");if(!Number.isInteger(Xe))throw new TypeError("max must be an integer");if(qe>=Xe)throw new RangeError("min must be smaller than max");let Ke=Xe-qe,Je=new Matrix$3($e,Ve);for(let Ze=0;Ze<$e;Ze++)for(let Qe=0;Qe<Ve;Qe++){let St=qe+Math.round(We()*Ke);Je.set(Ze,Qe,St)}return Je}static eye($e,Ve,ze){Ve===void 0&&(Ve=$e),ze===void 0&&(ze=1);let qe=Math.min($e,Ve),Xe=this.zeros($e,Ve);for(let We=0;We<qe;We++)Xe.set(We,We,ze);return Xe}static diag($e,Ve,ze){let qe=$e.length;Ve===void 0&&(Ve=qe),ze===void 0&&(ze=Ve);let Xe=Math.min(qe,Ve,ze),We=this.zeros(Ve,ze);for(let Ke=0;Ke<Xe;Ke++)We.set(Ke,Ke,$e[Ke]);return We}static min($e,Ve){$e=this.checkMatrix($e),Ve=this.checkMatrix(Ve);let ze=$e.rows,qe=$e.columns,Xe=new Matrix$3(ze,qe);for(let We=0;We<ze;We++)for(let Ke=0;Ke<qe;Ke++)Xe.set(We,Ke,Math.min($e.get(We,Ke),Ve.get(We,Ke)));return Xe}static max($e,Ve){$e=this.checkMatrix($e),Ve=this.checkMatrix(Ve);let ze=$e.rows,qe=$e.columns,Xe=new this(ze,qe);for(let We=0;We<ze;We++)for(let Ke=0;Ke<qe;Ke++)Xe.set(We,Ke,Math.max($e.get(We,Ke),Ve.get(We,Ke)));return Xe}static checkMatrix($e){return AbstractMatrix.isMatrix($e)?$e:new Matrix$3($e)}static isMatrix($e){return $e!=null&&$e.klass==="Matrix"}get size(){return this.rows*this.columns}apply($e){if(typeof $e!="function")throw new TypeError("callback must be a function");for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<this.columns;ze++)$e.call(this,Ve,ze);return this}to1DArray(){let $e=[];for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<this.columns;ze++)$e.push(this.get(Ve,ze));return $e}to2DArray(){let $e=[];for(let Ve=0;Ve<this.rows;Ve++){$e.push([]);for(let ze=0;ze<this.columns;ze++)$e[Ve].push(this.get(Ve,ze))}return $e}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let $e=0;$e<this.rows;$e++)for(let Ve=0;Ve<=$e;Ve++)if(this.get($e,Ve)!==this.get(Ve,$e))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let $e=0;$e<this.rows;$e++)if(this.get($e,$e)!==0)return!1;return!0}isEchelonForm(){let $e=0,Ve=0,ze=-1,qe=!0,Xe=!1;for(;$e<this.rows&&qe;){for(Ve=0,Xe=!1;Ve<this.columns&&Xe===!1;)this.get($e,Ve)===0?Ve++:this.get($e,Ve)===1&&Ve>ze?(Xe=!0,ze=Ve):(qe=!1,Xe=!0);$e++}return qe}isReducedEchelonForm(){let $e=0,Ve=0,ze=-1,qe=!0,Xe=!1;for(;$e<this.rows&&qe;){for(Ve=0,Xe=!1;Ve<this.columns&&Xe===!1;)this.get($e,Ve)===0?Ve++:this.get($e,Ve)===1&&Ve>ze?(Xe=!0,ze=Ve):(qe=!1,Xe=!0);for(let We=Ve+1;We<this.rows;We++)this.get($e,We)!==0&&(qe=!1);$e++}return qe}echelonForm(){let $e=this.clone(),Ve=0,ze=0;for(;Ve<$e.rows&&ze<$e.columns;){let qe=Ve;for(let Xe=Ve;Xe<$e.rows;Xe++)$e.get(Xe,ze)>$e.get(qe,ze)&&(qe=Xe);if($e.get(qe,ze)===0)ze++;else{$e.swapRows(Ve,qe);let Xe=$e.get(Ve,ze);for(let We=ze;We<$e.columns;We++)$e.set(Ve,We,$e.get(Ve,We)/Xe);for(let We=Ve+1;We<$e.rows;We++){let Ke=$e.get(We,ze)/$e.get(Ve,ze);$e.set(We,ze,0);for(let Je=ze+1;Je<$e.columns;Je++)$e.set(We,Je,$e.get(We,Je)-$e.get(Ve,Je)*Ke)}Ve++,ze++}}return $e}reducedEchelonForm(){let $e=this.echelonForm(),Ve=$e.columns,ze=$e.rows,qe=ze-1;for(;qe>=0;)if($e.maxRow(qe)===0)qe--;else{let Xe=0,We=!1;for(;Xe<ze&&We===!1;)$e.get(qe,Xe)===1?We=!0:Xe++;for(let Ke=0;Ke<qe;Ke++){let Je=$e.get(Ke,Xe);for(let Ze=Xe;Ze<Ve;Ze++){let Qe=$e.get(Ke,Ze)-Je*$e.get(qe,Ze);$e.set(Ke,Ze,Qe)}}qe--}return $e}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat($e={}){if(typeof $e!="object")throw new TypeError("options must be an object");const{rows:Ve=1,columns:ze=1}=$e;if(!Number.isInteger(Ve)||Ve<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(ze)||ze<=0)throw new TypeError("columns must be a positive integer");let qe=new Matrix$3(this.rows*Ve,this.columns*ze);for(let Xe=0;Xe<Ve;Xe++)for(let We=0;We<ze;We++)qe.setSubMatrix(this,this.rows*Xe,this.columns*We);return qe}fill($e){for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<this.columns;ze++)this.set(Ve,ze,$e);return this}neg(){return this.mulS(-1)}getRow($e){checkRowIndex(this,$e);let Ve=[];for(let ze=0;ze<this.columns;ze++)Ve.push(this.get($e,ze));return Ve}getRowVector($e){return Matrix$3.rowVector(this.getRow($e))}setRow($e,Ve){checkRowIndex(this,$e),Ve=checkRowVector(this,Ve);for(let ze=0;ze<this.columns;ze++)this.set($e,ze,Ve[ze]);return this}swapRows($e,Ve){checkRowIndex(this,$e),checkRowIndex(this,Ve);for(let ze=0;ze<this.columns;ze++){let qe=this.get($e,ze);this.set($e,ze,this.get(Ve,ze)),this.set(Ve,ze,qe)}return this}getColumn($e){checkColumnIndex(this,$e);let Ve=[];for(let ze=0;ze<this.rows;ze++)Ve.push(this.get(ze,$e));return Ve}getColumnVector($e){return Matrix$3.columnVector(this.getColumn($e))}setColumn($e,Ve){checkColumnIndex(this,$e),Ve=checkColumnVector(this,Ve);for(let ze=0;ze<this.rows;ze++)this.set(ze,$e,Ve[ze]);return this}swapColumns($e,Ve){checkColumnIndex(this,$e),checkColumnIndex(this,Ve);for(let ze=0;ze<this.rows;ze++){let qe=this.get(ze,$e);this.set(ze,$e,this.get(ze,Ve)),this.set(ze,Ve,qe)}return this}addRowVector($e){$e=checkRowVector(this,$e);for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<this.columns;ze++)this.set(Ve,ze,this.get(Ve,ze)+$e[ze]);return this}subRowVector($e){$e=checkRowVector(this,$e);for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<this.columns;ze++)this.set(Ve,ze,this.get(Ve,ze)-$e[ze]);return this}mulRowVector($e){$e=checkRowVector(this,$e);for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<this.columns;ze++)this.set(Ve,ze,this.get(Ve,ze)*$e[ze]);return this}divRowVector($e){$e=checkRowVector(this,$e);for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<this.columns;ze++)this.set(Ve,ze,this.get(Ve,ze)/$e[ze]);return this}addColumnVector($e){$e=checkColumnVector(this,$e);for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<this.columns;ze++)this.set(Ve,ze,this.get(Ve,ze)+$e[Ve]);return this}subColumnVector($e){$e=checkColumnVector(this,$e);for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<this.columns;ze++)this.set(Ve,ze,this.get(Ve,ze)-$e[Ve]);return this}mulColumnVector($e){$e=checkColumnVector(this,$e);for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<this.columns;ze++)this.set(Ve,ze,this.get(Ve,ze)*$e[Ve]);return this}divColumnVector($e){$e=checkColumnVector(this,$e);for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<this.columns;ze++)this.set(Ve,ze,this.get(Ve,ze)/$e[Ve]);return this}mulRow($e,Ve){checkRowIndex(this,$e);for(let ze=0;ze<this.columns;ze++)this.set($e,ze,this.get($e,ze)*Ve);return this}mulColumn($e,Ve){checkColumnIndex(this,$e);for(let ze=0;ze<this.rows;ze++)this.set(ze,$e,this.get(ze,$e)*Ve);return this}max($e){if(this.isEmpty())return NaN;switch($e){case"row":{const Ve=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.get(ze,qe)>Ve[ze]&&(Ve[ze]=this.get(ze,qe));return Ve}case"column":{const Ve=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.get(ze,qe)>Ve[qe]&&(Ve[qe]=this.get(ze,qe));return Ve}case void 0:{let Ve=this.get(0,0);for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.get(ze,qe)>Ve&&(Ve=this.get(ze,qe));return Ve}default:throw new Error(`invalid option: ${$e}`)}}maxIndex(){checkNonEmpty(this);let $e=this.get(0,0),Ve=[0,0];for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.get(ze,qe)>$e&&($e=this.get(ze,qe),Ve[0]=ze,Ve[1]=qe);return Ve}min($e){if(this.isEmpty())return NaN;switch($e){case"row":{const Ve=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.get(ze,qe)<Ve[ze]&&(Ve[ze]=this.get(ze,qe));return Ve}case"column":{const Ve=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.get(ze,qe)<Ve[qe]&&(Ve[qe]=this.get(ze,qe));return Ve}case void 0:{let Ve=this.get(0,0);for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.get(ze,qe)<Ve&&(Ve=this.get(ze,qe));return Ve}default:throw new Error(`invalid option: ${$e}`)}}minIndex(){checkNonEmpty(this);let $e=this.get(0,0),Ve=[0,0];for(let ze=0;ze<this.rows;ze++)for(let qe=0;qe<this.columns;qe++)this.get(ze,qe)<$e&&($e=this.get(ze,qe),Ve[0]=ze,Ve[1]=qe);return Ve}maxRow($e){if(checkRowIndex(this,$e),this.isEmpty())return NaN;let Ve=this.get($e,0);for(let ze=1;ze<this.columns;ze++)this.get($e,ze)>Ve&&(Ve=this.get($e,ze));return Ve}maxRowIndex($e){checkRowIndex(this,$e),checkNonEmpty(this);let Ve=this.get($e,0),ze=[$e,0];for(let qe=1;qe<this.columns;qe++)this.get($e,qe)>Ve&&(Ve=this.get($e,qe),ze[1]=qe);return ze}minRow($e){if(checkRowIndex(this,$e),this.isEmpty())return NaN;let Ve=this.get($e,0);for(let ze=1;ze<this.columns;ze++)this.get($e,ze)<Ve&&(Ve=this.get($e,ze));return Ve}minRowIndex($e){checkRowIndex(this,$e),checkNonEmpty(this);let Ve=this.get($e,0),ze=[$e,0];for(let qe=1;qe<this.columns;qe++)this.get($e,qe)<Ve&&(Ve=this.get($e,qe),ze[1]=qe);return ze}maxColumn($e){if(checkColumnIndex(this,$e),this.isEmpty())return NaN;let Ve=this.get(0,$e);for(let ze=1;ze<this.rows;ze++)this.get(ze,$e)>Ve&&(Ve=this.get(ze,$e));return Ve}maxColumnIndex($e){checkColumnIndex(this,$e),checkNonEmpty(this);let Ve=this.get(0,$e),ze=[0,$e];for(let qe=1;qe<this.rows;qe++)this.get(qe,$e)>Ve&&(Ve=this.get(qe,$e),ze[0]=qe);return ze}minColumn($e){if(checkColumnIndex(this,$e),this.isEmpty())return NaN;let Ve=this.get(0,$e);for(let ze=1;ze<this.rows;ze++)this.get(ze,$e)<Ve&&(Ve=this.get(ze,$e));return Ve}minColumnIndex($e){checkColumnIndex(this,$e),checkNonEmpty(this);let Ve=this.get(0,$e),ze=[0,$e];for(let qe=1;qe<this.rows;qe++)this.get(qe,$e)<Ve&&(Ve=this.get(qe,$e),ze[0]=qe);return ze}diag(){let $e=Math.min(this.rows,this.columns),Ve=[];for(let ze=0;ze<$e;ze++)Ve.push(this.get(ze,ze));return Ve}norm($e="frobenius"){switch($e){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError(`unknown norm type: ${$e}`)}}cumulativeSum(){let $e=0;for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<this.columns;ze++)$e+=this.get(Ve,ze),this.set(Ve,ze,$e);return this}dot($e){AbstractMatrix.isMatrix($e)&&($e=$e.to1DArray());let Ve=this.to1DArray();if(Ve.length!==$e.length)throw new RangeError("vectors do not have the same size");let ze=0;for(let qe=0;qe<Ve.length;qe++)ze+=Ve[qe]*$e[qe];return ze}mmul($e){$e=Matrix$3.checkMatrix($e);let Ve=this.rows,ze=this.columns,qe=$e.columns,Xe=new Matrix$3(Ve,qe),We=new Float64Array(ze);for(let Ke=0;Ke<qe;Ke++){for(let Je=0;Je<ze;Je++)We[Je]=$e.get(Je,Ke);for(let Je=0;Je<Ve;Je++){let Ze=0;for(let Qe=0;Qe<ze;Qe++)Ze+=this.get(Je,Qe)*We[Qe];Xe.set(Je,Ke,Ze)}}return Xe}strassen2x2($e){$e=Matrix$3.checkMatrix($e);let Ve=new Matrix$3(2,2);const ze=this.get(0,0),qe=$e.get(0,0),Xe=this.get(0,1),We=$e.get(0,1),Ke=this.get(1,0),Je=$e.get(1,0),Ze=this.get(1,1),Qe=$e.get(1,1),St=(ze+Ze)*(qe+Qe),ei=(Ke+Ze)*qe,ti=ze*(We-Qe),ni=Ze*(Je-qe),oi=(ze+Xe)*Qe,ai=(Ke-ze)*(qe+We),si=(Xe-Ze)*(Je+Qe),ri=St+ni-oi+si,ii=ti+oi,ui=ei+ni,ci=St-ei+ti+ai;return Ve.set(0,0,ri),Ve.set(0,1,ii),Ve.set(1,0,ui),Ve.set(1,1,ci),Ve}strassen3x3($e){$e=Matrix$3.checkMatrix($e);let Ve=new Matrix$3(3,3);const ze=this.get(0,0),qe=this.get(0,1),Xe=this.get(0,2),We=this.get(1,0),Ke=this.get(1,1),Je=this.get(1,2),Ze=this.get(2,0),Qe=this.get(2,1),St=this.get(2,2),ei=$e.get(0,0),ti=$e.get(0,1),ni=$e.get(0,2),oi=$e.get(1,0),ai=$e.get(1,1),si=$e.get(1,2),ri=$e.get(2,0),ii=$e.get(2,1),ui=$e.get(2,2),ci=(ze+qe+Xe-We-Ke-Qe-St)*ai,hi=(ze-We)*(-ti+ai),mi=Ke*(-ei+ti+oi-ai-si-ri+ui),di=(-ze+We+Ke)*(ei-ti+ai),fi=(We+Ke)*(-ei+ti),yi=ze*ei,pi=(-ze+Ze+Qe)*(ei-ni+si),xi=(-ze+Ze)*(ni-si),Si=(Ze+Qe)*(-ei+ni),vi=(ze+qe+Xe-Ke-Je-Ze-Qe)*si,Di=Qe*(-ei+ni+oi-ai-si-ri+ii),Ti=(-Xe+Qe+St)*(ai+ri-ii),Fi=(Xe-St)*(ai-ii),Ci=Xe*ri,Ni=(Qe+St)*(-ri+ii),Ri=(-Xe+Ke+Je)*(si+ri-ui),Yi=(Xe-Je)*(si-ui),ki=(Ke+Je)*(-ri+ui),ji=qe*oi,Vi=Je*ii,Bi=We*ni,Xi=Ze*ti,en=St*ui,tn=yi+Ci+ji,Ji=ci+di+fi+yi+Ti+Ci+Ni,Li=yi+pi+Si+vi+Ci+Ri+ki,wi=hi+mi+di+yi+Ci+Ri+Yi,_i=hi+di+fi+yi+Vi,Ai=Ci+Ri+Yi+ki+Bi,Oi=yi+pi+xi+Di+Ti+Fi+Ci,Ii=Ti+Fi+Ci+Ni+Xi,Mi=yi+pi+xi+Si+en;return Ve.set(0,0,tn),Ve.set(0,1,Ji),Ve.set(0,2,Li),Ve.set(1,0,wi),Ve.set(1,1,_i),Ve.set(1,2,Ai),Ve.set(2,0,Oi),Ve.set(2,1,Ii),Ve.set(2,2,Mi),Ve}mmulStrassen($e){$e=Matrix$3.checkMatrix($e);let Ve=this.clone(),ze=Ve.rows,qe=Ve.columns,Xe=$e.rows,We=$e.columns;qe!==Xe&&console.warn(`Multiplying ${ze} x ${qe} and ${Xe} x ${We} matrix: dimensions do not match.`);function Ke(St,ei,ti){let ni=St.rows,oi=St.columns;if(ni===ei&&oi===ti)return St;{let ai=AbstractMatrix.zeros(ei,ti);return ai=ai.setSubMatrix(St,0,0),ai}}let Je=Math.max(ze,Xe),Ze=Math.max(qe,We);Ve=Ke(Ve,Je,Ze),$e=Ke($e,Je,Ze);function Qe(St,ei,ti,ni){if(ti<=512||ni<=512)return St.mmul(ei);ti%2===1&&ni%2===1?(St=Ke(St,ti+1,ni+1),ei=Ke(ei,ti+1,ni+1)):ti%2===1?(St=Ke(St,ti+1,ni),ei=Ke(ei,ti+1,ni)):ni%2===1&&(St=Ke(St,ti,ni+1),ei=Ke(ei,ti,ni+1));let oi=parseInt(St.rows/2,10),ai=parseInt(St.columns/2,10),si=St.subMatrix(0,oi-1,0,ai-1),ri=ei.subMatrix(0,oi-1,0,ai-1),ii=St.subMatrix(0,oi-1,ai,St.columns-1),ui=ei.subMatrix(0,oi-1,ai,ei.columns-1),ci=St.subMatrix(oi,St.rows-1,0,ai-1),hi=ei.subMatrix(oi,ei.rows-1,0,ai-1),mi=St.subMatrix(oi,St.rows-1,ai,St.columns-1),di=ei.subMatrix(oi,ei.rows-1,ai,ei.columns-1),fi=Qe(AbstractMatrix.add(si,mi),AbstractMatrix.add(ri,di),oi,ai),yi=Qe(AbstractMatrix.add(ci,mi),ri,oi,ai),pi=Qe(si,AbstractMatrix.sub(ui,di),oi,ai),xi=Qe(mi,AbstractMatrix.sub(hi,ri),oi,ai),Si=Qe(AbstractMatrix.add(si,ii),di,oi,ai),vi=Qe(AbstractMatrix.sub(ci,si),AbstractMatrix.add(ri,ui),oi,ai),Di=Qe(AbstractMatrix.sub(ii,mi),AbstractMatrix.add(hi,di),oi,ai),Ti=AbstractMatrix.add(fi,xi);Ti.sub(Si),Ti.add(Di);let Fi=AbstractMatrix.add(pi,Si),Ci=AbstractMatrix.add(yi,xi),Ni=AbstractMatrix.sub(fi,yi);Ni.add(pi),Ni.add(vi);let Ri=AbstractMatrix.zeros(2*Ti.rows,2*Ti.columns);return Ri=Ri.setSubMatrix(Ti,0,0),Ri=Ri.setSubMatrix(Fi,Ti.rows,0),Ri=Ri.setSubMatrix(Ci,0,Ti.columns),Ri=Ri.setSubMatrix(Ni,Ti.rows,Ti.columns),Ri.subMatrix(0,ti-1,0,ni-1)}return Qe(Ve,$e,Je,Ze)}scaleRows($e={}){if(typeof $e!="object")throw new TypeError("options must be an object");const{min:Ve=0,max:ze=1}=$e;if(!Number.isFinite(Ve))throw new TypeError("min must be a number");if(!Number.isFinite(ze))throw new TypeError("max must be a number");if(Ve>=ze)throw new RangeError("min must be smaller than max");let qe=new Matrix$3(this.rows,this.columns);for(let Xe=0;Xe<this.rows;Xe++){const We=this.getRow(Xe);We.length>0&&rescale(We,{min:Ve,max:ze,output:We}),qe.setRow(Xe,We)}return qe}scaleColumns($e={}){if(typeof $e!="object")throw new TypeError("options must be an object");const{min:Ve=0,max:ze=1}=$e;if(!Number.isFinite(Ve))throw new TypeError("min must be a number");if(!Number.isFinite(ze))throw new TypeError("max must be a number");if(Ve>=ze)throw new RangeError("min must be smaller than max");let qe=new Matrix$3(this.rows,this.columns);for(let Xe=0;Xe<this.columns;Xe++){const We=this.getColumn(Xe);We.length&&rescale(We,{min:Ve,max:ze,output:We}),qe.setColumn(Xe,We)}return qe}flipRows(){const $e=Math.ceil(this.columns/2);for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<$e;ze++){let qe=this.get(Ve,ze),Xe=this.get(Ve,this.columns-1-ze);this.set(Ve,ze,Xe),this.set(Ve,this.columns-1-ze,qe)}return this}flipColumns(){const $e=Math.ceil(this.rows/2);for(let Ve=0;Ve<this.columns;Ve++)for(let ze=0;ze<$e;ze++){let qe=this.get(ze,Ve),Xe=this.get(this.rows-1-ze,Ve);this.set(ze,Ve,Xe),this.set(this.rows-1-ze,Ve,qe)}return this}kroneckerProduct($e){$e=Matrix$3.checkMatrix($e);let Ve=this.rows,ze=this.columns,qe=$e.rows,Xe=$e.columns,We=new Matrix$3(Ve*qe,ze*Xe);for(let Ke=0;Ke<Ve;Ke++)for(let Je=0;Je<ze;Je++)for(let Ze=0;Ze<qe;Ze++)for(let Qe=0;Qe<Xe;Qe++)We.set(qe*Ke+Ze,Xe*Je+Qe,this.get(Ke,Je)*$e.get(Ze,Qe));return We}kroneckerSum($e){if($e=Matrix$3.checkMatrix($e),!this.isSquare()||!$e.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let Ve=this.rows,ze=$e.rows,qe=this.kroneckerProduct(Matrix$3.eye(ze,ze)),Xe=Matrix$3.eye(Ve,Ve).kroneckerProduct($e);return qe.add(Xe)}transpose(){let $e=new Matrix$3(this.columns,this.rows);for(let Ve=0;Ve<this.rows;Ve++)for(let ze=0;ze<this.columns;ze++)$e.set(ze,Ve,this.get(Ve,ze));return $e}sortRows($e=compareNumbers){for(let Ve=0;Ve<this.rows;Ve++)this.setRow(Ve,this.getRow(Ve).sort($e));return this}sortColumns($e=compareNumbers){for(let Ve=0;Ve<this.columns;Ve++)this.setColumn(Ve,this.getColumn(Ve).sort($e));return this}subMatrix($e,Ve,ze,qe){checkRange(this,$e,Ve,ze,qe);let Xe=new Matrix$3(Ve-$e+1,qe-ze+1);for(let We=$e;We<=Ve;We++)for(let Ke=ze;Ke<=qe;Ke++)Xe.set(We-$e,Ke-ze,this.get(We,Ke));return Xe}subMatrixRow($e,Ve,ze){if(Ve===void 0&&(Ve=0),ze===void 0&&(ze=this.columns-1),Ve>ze||Ve<0||Ve>=this.columns||ze<0||ze>=this.columns)throw new RangeError("Argument out of range");let qe=new Matrix$3($e.length,ze-Ve+1);for(let Xe=0;Xe<$e.length;Xe++)for(let We=Ve;We<=ze;We++){if($e[Xe]<0||$e[Xe]>=this.rows)throw new RangeError(`Row index out of range: ${$e[Xe]}`);qe.set(Xe,We-Ve,this.get($e[Xe],We))}return qe}subMatrixColumn($e,Ve,ze){if(Ve===void 0&&(Ve=0),ze===void 0&&(ze=this.rows-1),Ve>ze||Ve<0||Ve>=this.rows||ze<0||ze>=this.rows)throw new RangeError("Argument out of range");let qe=new Matrix$3(ze-Ve+1,$e.length);for(let Xe=0;Xe<$e.length;Xe++)for(let We=Ve;We<=ze;We++){if($e[Xe]<0||$e[Xe]>=this.columns)throw new RangeError(`Column index out of range: ${$e[Xe]}`);qe.set(We-Ve,Xe,this.get(We,$e[Xe]))}return qe}setSubMatrix($e,Ve,ze){if($e=Matrix$3.checkMatrix($e),$e.isEmpty())return this;let qe=Ve+$e.rows-1,Xe=ze+$e.columns-1;checkRange(this,Ve,qe,ze,Xe);for(let We=0;We<$e.rows;We++)for(let Ke=0;Ke<$e.columns;Ke++)this.set(Ve+We,ze+Ke,$e.get(We,Ke));return this}selection($e,Ve){checkRowIndices(this,$e),checkColumnIndices(this,Ve);let ze=new Matrix$3($e.length,Ve.length);for(let qe=0;qe<$e.length;qe++){let Xe=$e[qe];for(let We=0;We<Ve.length;We++){let Ke=Ve[We];ze.set(qe,We,this.get(Xe,Ke))}}return ze}trace(){let $e=Math.min(this.rows,this.columns),Ve=0;for(let ze=0;ze<$e;ze++)Ve+=this.get(ze,ze);return Ve}clone(){return this.constructor.copy(this,new Matrix$3(this.rows,this.columns))}static copy($e,Ve){for(const[ze,qe,Xe]of $e.entries())Ve.set(ze,qe,Xe);return Ve}sum($e){switch($e){case"row":return sumByRow(this);case"column":return sumByColumn(this);case void 0:return sumAll(this);default:throw new Error(`invalid option: ${$e}`)}}product($e){switch($e){case"row":return productByRow(this);case"column":return productByColumn(this);case void 0:return productAll(this);default:throw new Error(`invalid option: ${$e}`)}}mean($e){const Ve=this.sum($e);switch($e){case"row":{for(let ze=0;ze<this.rows;ze++)Ve[ze]/=this.columns;return Ve}case"column":{for(let ze=0;ze<this.columns;ze++)Ve[ze]/=this.rows;return Ve}case void 0:return Ve/this.size;default:throw new Error(`invalid option: ${$e}`)}}variance($e,Ve={}){if(typeof $e=="object"&&(Ve=$e,$e=void 0),typeof Ve!="object")throw new TypeError("options must be an object");const{unbiased:ze=!0,mean:qe=this.mean($e)}=Ve;if(typeof ze!="boolean")throw new TypeError("unbiased must be a boolean");switch($e){case"row":{if(!isAnyArray.isAnyArray(qe))throw new TypeError("mean must be an array");return varianceByRow(this,ze,qe)}case"column":{if(!isAnyArray.isAnyArray(qe))throw new TypeError("mean must be an array");return varianceByColumn(this,ze,qe)}case void 0:{if(typeof qe!="number")throw new TypeError("mean must be a number");return varianceAll(this,ze,qe)}default:throw new Error(`invalid option: ${$e}`)}}standardDeviation($e,Ve){typeof $e=="object"&&(Ve=$e,$e=void 0);const ze=this.variance($e,Ve);if($e===void 0)return Math.sqrt(ze);for(let qe=0;qe<ze.length;qe++)ze[qe]=Math.sqrt(ze[qe]);return ze}center($e,Ve={}){if(typeof $e=="object"&&(Ve=$e,$e=void 0),typeof Ve!="object")throw new TypeError("options must be an object");const{center:ze=this.mean($e)}=Ve;switch($e){case"row":{if(!isAnyArray.isAnyArray(ze))throw new TypeError("center must be an array");return centerByRow(this,ze),this}case"column":{if(!isAnyArray.isAnyArray(ze))throw new TypeError("center must be an array");return centerByColumn(this,ze),this}case void 0:{if(typeof ze!="number")throw new TypeError("center must be a number");return centerAll(this,ze),this}default:throw new Error(`invalid option: ${$e}`)}}scale($e,Ve={}){if(typeof $e=="object"&&(Ve=$e,$e=void 0),typeof Ve!="object")throw new TypeError("options must be an object");let ze=Ve.scale;switch($e){case"row":{if(ze===void 0)ze=getScaleByRow(this);else if(!isAnyArray.isAnyArray(ze))throw new TypeError("scale must be an array");return scaleByRow(this,ze),this}case"column":{if(ze===void 0)ze=getScaleByColumn(this);else if(!isAnyArray.isAnyArray(ze))throw new TypeError("scale must be an array");return scaleByColumn(this,ze),this}case void 0:{if(ze===void 0)ze=getScaleAll(this);else if(typeof ze!="number")throw new TypeError("scale must be a number");return scaleAll(this,ze),this}default:throw new Error(`invalid option: ${$e}`)}}toString($e){return inspectMatrixWithOptions(this,$e)}[Symbol.iterator](){return this.entries()}*entries(){for(let $e=0;$e<this.rows;$e++)for(let Ve=0;Ve<this.columns;Ve++)yield[$e,Ve,this.get($e,Ve)]}*values(){for(let $e=0;$e<this.rows;$e++)for(let Ve=0;Ve<this.columns;Ve++)yield this.get($e,Ve)}}AbstractMatrix.prototype.klass="Matrix";typeof Symbol<"u"&&(AbstractMatrix.prototype[Symbol.for("nodejs.util.inspect.custom")]=inspectMatrix);function compareNumbers(je,$e){return je-$e}function isArrayOfNumbers(je){return je.every($e=>typeof $e=="number")}AbstractMatrix.random=AbstractMatrix.rand;AbstractMatrix.randomInt=AbstractMatrix.randInt;AbstractMatrix.diagonal=AbstractMatrix.diag;AbstractMatrix.prototype.diagonal=AbstractMatrix.prototype.diag;AbstractMatrix.identity=AbstractMatrix.eye;AbstractMatrix.prototype.negate=AbstractMatrix.prototype.neg;AbstractMatrix.prototype.tensorProduct=AbstractMatrix.prototype.kroneckerProduct;var xe,Ue$1,fe$1;let Matrix$3=(fe$1=class extends AbstractMatrix{constructor(je,$e){if(super(),Le$1(this,xe),D$1(this,"data"),fe$1.isMatrix(je))Be$1(this,xe,Ue$1).call(this,je.rows,je.columns),fe$1.copy(je,this);else if(Number.isInteger(je)&&je>=0)Be$1(this,xe,Ue$1).call(this,je,$e);else if(isAnyArray.isAnyArray(je)){const Ve=je;if(je=Ve.length,$e=je?Ve[0].length:0,typeof $e!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let ze=0;ze<je;ze++){if(Ve[ze].length!==$e)throw new RangeError("Inconsistent array dimensions");if(!isArrayOfNumbers(Ve[ze]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(Ve[ze]))}this.rows=je,this.columns=$e}else throw new TypeError("First argument must be a positive number or an array")}set(je,$e,Ve){return this.data[je][$e]=Ve,this}get(je,$e){return this.data[je][$e]}removeRow(je){return checkRowIndex(this,je),this.data.splice(je,1),this.rows-=1,this}addRow(je,$e){return $e===void 0&&($e=je,je=this.rows),checkRowIndex(this,je,!0),$e=Float64Array.from(checkRowVector(this,$e)),this.data.splice(je,0,$e),this.rows+=1,this}removeColumn(je){checkColumnIndex(this,je);for(let $e=0;$e<this.rows;$e++){const Ve=new Float64Array(this.columns-1);for(let ze=0;ze<je;ze++)Ve[ze]=this.data[$e][ze];for(let ze=je+1;ze<this.columns;ze++)Ve[ze-1]=this.data[$e][ze];this.data[$e]=Ve}return this.columns-=1,this}addColumn(je,$e){typeof $e>"u"&&($e=je,je=this.columns),checkColumnIndex(this,je,!0),$e=checkColumnVector(this,$e);for(let Ve=0;Ve<this.rows;Ve++){const ze=new Float64Array(this.columns+1);let qe=0;for(;qe<je;qe++)ze[qe]=this.data[Ve][qe];for(ze[qe++]=$e[Ve];qe<this.columns+1;qe++)ze[qe]=this.data[Ve][qe-1];this.data[Ve]=ze}return this.columns+=1,this}},xe=new WeakSet,Ue$1=function(je,$e){if(this.data=[],Number.isInteger($e)&&$e>=0)for(let Ve=0;Ve<je;Ve++)this.data.push(new Float64Array($e));else throw new TypeError("nColumns must be a positive integer");this.rows=je,this.columns=$e},fe$1);installMathOperations(AbstractMatrix,Matrix$3);var Ht$1;const ve$2=class Xl extends AbstractMatrix{constructor($e){if(super(),Le$1(this,Ht$1,void 0),Matrix$3.isMatrix($e)){if(!$e.isSymmetric())throw new TypeError("not symmetric data");we$1(this,Ht$1,Matrix$3.copy($e,new Matrix$3($e.rows,$e.rows)))}else if(Number.isInteger($e)&&$e>=0)we$1(this,Ht$1,new Matrix$3($e,$e));else if(we$1(this,Ht$1,new Matrix$3($e)),!this.isSymmetric())throw new TypeError("not symmetric data")}get size(){return Wt$1(this,Ht$1).size}get rows(){return Wt$1(this,Ht$1).rows}get columns(){return Wt$1(this,Ht$1).columns}get diagonalSize(){return this.rows}static isSymmetricMatrix($e){return Matrix$3.isMatrix($e)&&$e.klassType==="SymmetricMatrix"}static zeros($e){return new this($e)}static ones($e){return new this($e).fill(1)}clone(){const $e=new Xl(this.diagonalSize);for(const[Ve,ze,qe]of this.upperRightEntries())$e.set(Ve,ze,qe);return $e}toMatrix(){return new Matrix$3(this)}get($e,Ve){return Wt$1(this,Ht$1).get($e,Ve)}set($e,Ve,ze){return Wt$1(this,Ht$1).set($e,Ve,ze),Wt$1(this,Ht$1).set(Ve,$e,ze),this}removeCross($e){return Wt$1(this,Ht$1).removeRow($e),Wt$1(this,Ht$1).removeColumn($e),this}addCross($e,Ve){Ve===void 0&&(Ve=$e,$e=this.diagonalSize);const ze=Ve.slice();return ze.splice($e,1),Wt$1(this,Ht$1).addRow($e,ze),Wt$1(this,Ht$1).addColumn($e,Ve),this}applyMask($e){if($e.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");const Ve=[];for(const[ze,qe]of $e.entries())qe||Ve.push(ze);Ve.reverse();for(const ze of Ve)this.removeCross(ze);return this}toCompact(){const{diagonalSize:$e}=this,Ve=new Array($e*($e+1)/2);for(let ze=0,qe=0,Xe=0;Xe<Ve.length;Xe++)Ve[Xe]=this.get(qe,ze),++ze>=$e&&(ze=++qe);return Ve}static fromCompact($e){const Ve=$e.length,ze=(Math.sqrt(8*Ve+1)-1)/2;if(!Number.isInteger(ze))throw new TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify($e)}`);const qe=new Xl(ze);for(let Xe=0,We=0,Ke=0;Ke<Ve;Ke++)qe.set(Xe,We,$e[Ke]),++Xe>=ze&&(Xe=++We);return qe}*upperRightEntries(){for(let $e=0,Ve=0;$e<this.diagonalSize;void 0){const ze=this.get($e,Ve);yield[$e,Ve,ze],++Ve>=this.diagonalSize&&(Ve=++$e)}}*upperRightValues(){for(let $e=0,Ve=0;$e<this.diagonalSize;void 0)yield this.get($e,Ve),++Ve>=this.diagonalSize&&(Ve=++$e)}};Ht$1=new WeakMap;let SymmetricMatrix=ve$2;SymmetricMatrix.prototype.klassType="SymmetricMatrix";class DistanceMatrix extends SymmetricMatrix{static isDistanceMatrix($e){return SymmetricMatrix.isSymmetricMatrix($e)&&$e.klassSubType==="DistanceMatrix"}constructor($e){if(super($e),!this.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix")}set($e,Ve,ze){return $e===Ve&&(ze=0),super.set($e,Ve,ze)}addCross($e,Ve){return Ve===void 0&&(Ve=$e,$e=this.diagonalSize),Ve=Ve.slice(),Ve[$e]=0,super.addCross($e,Ve)}toSymmetricMatrix(){return new SymmetricMatrix(this)}clone(){const $e=new DistanceMatrix(this.diagonalSize);for(const[Ve,ze,qe]of this.upperRightEntries())Ve!==ze&&$e.set(Ve,ze,qe);return $e}toCompact(){const{diagonalSize:$e}=this,Ve=($e-1)*$e/2,ze=new Array(Ve);for(let qe=1,Xe=0,We=0;We<ze.length;We++)ze[We]=this.get(Xe,qe),++qe>=$e&&(qe=++Xe+1);return ze}static fromCompact($e){const Ve=$e.length,ze=(Math.sqrt(8*Ve+1)+1)/2;if(!Number.isInteger(ze))throw new TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify($e)}`);const qe=new this(ze);for(let Xe=1,We=0,Ke=0;Ke<Ve;Ke++)qe.set(Xe,We,$e[Ke]),++Xe>=ze&&(Xe=++We+1);return qe}}DistanceMatrix.prototype.klassSubType="DistanceMatrix";class BaseView extends AbstractMatrix{constructor($e,Ve,ze){super(),this.matrix=$e,this.rows=Ve,this.columns=ze}}class MatrixColumnView extends BaseView{constructor($e,Ve){checkColumnIndex($e,Ve),super($e,$e.rows,1),this.column=Ve}set($e,Ve,ze){return this.matrix.set($e,this.column,ze),this}get($e){return this.matrix.get($e,this.column)}}class MatrixColumnSelectionView extends BaseView{constructor($e,Ve){checkColumnIndices($e,Ve),super($e,$e.rows,Ve.length),this.columnIndices=Ve}set($e,Ve,ze){return this.matrix.set($e,this.columnIndices[Ve],ze),this}get($e,Ve){return this.matrix.get($e,this.columnIndices[Ve])}}class MatrixFlipColumnView extends BaseView{constructor($e){super($e,$e.rows,$e.columns)}set($e,Ve,ze){return this.matrix.set($e,this.columns-Ve-1,ze),this}get($e,Ve){return this.matrix.get($e,this.columns-Ve-1)}}class MatrixFlipRowView extends BaseView{constructor($e){super($e,$e.rows,$e.columns)}set($e,Ve,ze){return this.matrix.set(this.rows-$e-1,Ve,ze),this}get($e,Ve){return this.matrix.get(this.rows-$e-1,Ve)}}class MatrixRowView extends BaseView{constructor($e,Ve){checkRowIndex($e,Ve),super($e,1,$e.columns),this.row=Ve}set($e,Ve,ze){return this.matrix.set(this.row,Ve,ze),this}get($e,Ve){return this.matrix.get(this.row,Ve)}}class MatrixRowSelectionView extends BaseView{constructor($e,Ve){checkRowIndices($e,Ve),super($e,Ve.length,$e.columns),this.rowIndices=Ve}set($e,Ve,ze){return this.matrix.set(this.rowIndices[$e],Ve,ze),this}get($e,Ve){return this.matrix.get(this.rowIndices[$e],Ve)}}class MatrixSelectionView extends BaseView{constructor($e,Ve,ze){checkRowIndices($e,Ve),checkColumnIndices($e,ze),super($e,Ve.length,ze.length),this.rowIndices=Ve,this.columnIndices=ze}set($e,Ve,ze){return this.matrix.set(this.rowIndices[$e],this.columnIndices[Ve],ze),this}get($e,Ve){return this.matrix.get(this.rowIndices[$e],this.columnIndices[Ve])}}class MatrixSubView extends BaseView{constructor($e,Ve,ze,qe,Xe){checkRange($e,Ve,ze,qe,Xe),super($e,ze-Ve+1,Xe-qe+1),this.startRow=Ve,this.startColumn=qe}set($e,Ve,ze){return this.matrix.set(this.startRow+$e,this.startColumn+Ve,ze),this}get($e,Ve){return this.matrix.get(this.startRow+$e,this.startColumn+Ve)}}let MatrixTransposeView$1=class extends BaseView{constructor(je){super(je,je.columns,je.rows)}set(je,$e,Ve){return this.matrix.set($e,je,Ve),this}get(je,$e){return this.matrix.get($e,je)}};class WrapperMatrix1D extends AbstractMatrix{constructor($e,Ve={}){const{rows:ze=1}=Ve;if($e.length%ze!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=ze,this.columns=$e.length/ze,this.data=$e}set($e,Ve,ze){let qe=this._calculateIndex($e,Ve);return this.data[qe]=ze,this}get($e,Ve){let ze=this._calculateIndex($e,Ve);return this.data[ze]}_calculateIndex($e,Ve){return $e*this.columns+Ve}}class WrapperMatrix2D extends AbstractMatrix{constructor($e){super(),this.data=$e,this.rows=$e.length,this.columns=$e[0].length}set($e,Ve,ze){return this.data[$e][Ve]=ze,this}get($e,Ve){return this.data[$e][Ve]}}function wrap(je,$e){if(isAnyArray.isAnyArray(je))return je[0]&&isAnyArray.isAnyArray(je[0])?new WrapperMatrix2D(je):new WrapperMatrix1D(je,$e);throw new Error("the argument is not an array")}class LuDecomposition{constructor($e){$e=WrapperMatrix2D.checkMatrix($e);let Ve=$e.clone(),ze=Ve.rows,qe=Ve.columns,Xe=new Float64Array(ze),We=1,Ke,Je,Ze,Qe,St,ei,ti,ni,oi;for(Ke=0;Ke<ze;Ke++)Xe[Ke]=Ke;for(ni=new Float64Array(ze),Je=0;Je<qe;Je++){for(Ke=0;Ke<ze;Ke++)ni[Ke]=Ve.get(Ke,Je);for(Ke=0;Ke<ze;Ke++){for(oi=Math.min(Ke,Je),St=0,Ze=0;Ze<oi;Ze++)St+=Ve.get(Ke,Ze)*ni[Ze];ni[Ke]-=St,Ve.set(Ke,Je,ni[Ke])}for(Qe=Je,Ke=Je+1;Ke<ze;Ke++)Math.abs(ni[Ke])>Math.abs(ni[Qe])&&(Qe=Ke);if(Qe!==Je){for(Ze=0;Ze<qe;Ze++)ei=Ve.get(Qe,Ze),Ve.set(Qe,Ze,Ve.get(Je,Ze)),Ve.set(Je,Ze,ei);ti=Xe[Qe],Xe[Qe]=Xe[Je],Xe[Je]=ti,We=-We}if(Je<ze&&Ve.get(Je,Je)!==0)for(Ke=Je+1;Ke<ze;Ke++)Ve.set(Ke,Je,Ve.get(Ke,Je)/Ve.get(Je,Je))}this.LU=Ve,this.pivotVector=Xe,this.pivotSign=We}isSingular(){let $e=this.LU,Ve=$e.columns;for(let ze=0;ze<Ve;ze++)if($e.get(ze,ze)===0)return!0;return!1}solve($e){$e=Matrix$3.checkMatrix($e);let Ve=this.LU;if(Ve.rows!==$e.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let ze=$e.columns,qe=$e.subMatrixRow(this.pivotVector,0,ze-1),Xe=Ve.columns,We,Ke,Je;for(Je=0;Je<Xe;Je++)for(We=Je+1;We<Xe;We++)for(Ke=0;Ke<ze;Ke++)qe.set(We,Ke,qe.get(We,Ke)-qe.get(Je,Ke)*Ve.get(We,Je));for(Je=Xe-1;Je>=0;Je--){for(Ke=0;Ke<ze;Ke++)qe.set(Je,Ke,qe.get(Je,Ke)/Ve.get(Je,Je));for(We=0;We<Je;We++)for(Ke=0;Ke<ze;Ke++)qe.set(We,Ke,qe.get(We,Ke)-qe.get(Je,Ke)*Ve.get(We,Je))}return qe}get determinant(){let $e=this.LU;if(!$e.isSquare())throw new Error("Matrix must be square");let Ve=this.pivotSign,ze=$e.columns;for(let qe=0;qe<ze;qe++)Ve*=$e.get(qe,qe);return Ve}get lowerTriangularMatrix(){let $e=this.LU,Ve=$e.rows,ze=$e.columns,qe=new Matrix$3(Ve,ze);for(let Xe=0;Xe<Ve;Xe++)for(let We=0;We<ze;We++)Xe>We?qe.set(Xe,We,$e.get(Xe,We)):Xe===We?qe.set(Xe,We,1):qe.set(Xe,We,0);return qe}get upperTriangularMatrix(){let $e=this.LU,Ve=$e.rows,ze=$e.columns,qe=new Matrix$3(Ve,ze);for(let Xe=0;Xe<Ve;Xe++)for(let We=0;We<ze;We++)Xe<=We?qe.set(Xe,We,$e.get(Xe,We)):qe.set(Xe,We,0);return qe}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function hypotenuse$1(je,$e){let Ve=0;return Math.abs(je)>Math.abs($e)?(Ve=$e/je,Math.abs(je)*Math.sqrt(1+Ve*Ve)):$e!==0?(Ve=je/$e,Math.abs($e)*Math.sqrt(1+Ve*Ve)):0}class QrDecomposition{constructor($e){$e=WrapperMatrix2D.checkMatrix($e);let Ve=$e.clone(),ze=$e.rows,qe=$e.columns,Xe=new Float64Array(qe),We,Ke,Je,Ze;for(Je=0;Je<qe;Je++){let Qe=0;for(We=Je;We<ze;We++)Qe=hypotenuse$1(Qe,Ve.get(We,Je));if(Qe!==0){for(Ve.get(Je,Je)<0&&(Qe=-Qe),We=Je;We<ze;We++)Ve.set(We,Je,Ve.get(We,Je)/Qe);for(Ve.set(Je,Je,Ve.get(Je,Je)+1),Ke=Je+1;Ke<qe;Ke++){for(Ze=0,We=Je;We<ze;We++)Ze+=Ve.get(We,Je)*Ve.get(We,Ke);for(Ze=-Ze/Ve.get(Je,Je),We=Je;We<ze;We++)Ve.set(We,Ke,Ve.get(We,Ke)+Ze*Ve.get(We,Je))}}Xe[Je]=-Qe}this.QR=Ve,this.Rdiag=Xe}solve($e){$e=Matrix$3.checkMatrix($e);let Ve=this.QR,ze=Ve.rows;if($e.rows!==ze)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let qe=$e.columns,Xe=$e.clone(),We=Ve.columns,Ke,Je,Ze,Qe;for(Ze=0;Ze<We;Ze++)for(Je=0;Je<qe;Je++){for(Qe=0,Ke=Ze;Ke<ze;Ke++)Qe+=Ve.get(Ke,Ze)*Xe.get(Ke,Je);for(Qe=-Qe/Ve.get(Ze,Ze),Ke=Ze;Ke<ze;Ke++)Xe.set(Ke,Je,Xe.get(Ke,Je)+Qe*Ve.get(Ke,Ze))}for(Ze=We-1;Ze>=0;Ze--){for(Je=0;Je<qe;Je++)Xe.set(Ze,Je,Xe.get(Ze,Je)/this.Rdiag[Ze]);for(Ke=0;Ke<Ze;Ke++)for(Je=0;Je<qe;Je++)Xe.set(Ke,Je,Xe.get(Ke,Je)-Xe.get(Ze,Je)*Ve.get(Ke,Ze))}return Xe.subMatrix(0,We-1,0,qe-1)}isFullRank(){let $e=this.QR.columns;for(let Ve=0;Ve<$e;Ve++)if(this.Rdiag[Ve]===0)return!1;return!0}get upperTriangularMatrix(){let $e=this.QR,Ve=$e.columns,ze=new Matrix$3(Ve,Ve),qe,Xe;for(qe=0;qe<Ve;qe++)for(Xe=0;Xe<Ve;Xe++)qe<Xe?ze.set(qe,Xe,$e.get(qe,Xe)):qe===Xe?ze.set(qe,Xe,this.Rdiag[qe]):ze.set(qe,Xe,0);return ze}get orthogonalMatrix(){let $e=this.QR,Ve=$e.rows,ze=$e.columns,qe=new Matrix$3(Ve,ze),Xe,We,Ke,Je;for(Ke=ze-1;Ke>=0;Ke--){for(Xe=0;Xe<Ve;Xe++)qe.set(Xe,Ke,0);for(qe.set(Ke,Ke,1),We=Ke;We<ze;We++)if($e.get(Ke,Ke)!==0){for(Je=0,Xe=Ke;Xe<Ve;Xe++)Je+=$e.get(Xe,Ke)*qe.get(Xe,We);for(Je=-Je/$e.get(Ke,Ke),Xe=Ke;Xe<Ve;Xe++)qe.set(Xe,We,qe.get(Xe,We)+Je*$e.get(Xe,Ke))}}return qe}}let SingularValueDecomposition$1=class{constructor(je,$e={}){if(je=WrapperMatrix2D.checkMatrix(je),je.isEmpty())throw new Error("Matrix must be non-empty");let Ve=je.rows,ze=je.columns;const{computeLeftSingularVectors:qe=!0,computeRightSingularVectors:Xe=!0,autoTranspose:We=!1}=$e;let Ke=!!qe,Je=!!Xe,Ze=!1,Qe;if(Ve<ze)if(!We)Qe=je.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{Qe=je.transpose(),Ve=Qe.rows,ze=Qe.columns,Ze=!0;let fi=Ke;Ke=Je,Je=fi}else Qe=je.clone();let St=Math.min(Ve,ze),ei=Math.min(Ve+1,ze),ti=new Float64Array(ei),ni=new Matrix$3(Ve,St),oi=new Matrix$3(ze,ze),ai=new Float64Array(ze),si=new Float64Array(Ve),ri=new Float64Array(ei);for(let fi=0;fi<ei;fi++)ri[fi]=fi;let ii=Math.min(Ve-1,ze),ui=Math.max(0,Math.min(ze-2,Ve)),ci=Math.max(ii,ui);for(let fi=0;fi<ci;fi++){if(fi<ii){ti[fi]=0;for(let yi=fi;yi<Ve;yi++)ti[fi]=hypotenuse$1(ti[fi],Qe.get(yi,fi));if(ti[fi]!==0){Qe.get(fi,fi)<0&&(ti[fi]=-ti[fi]);for(let yi=fi;yi<Ve;yi++)Qe.set(yi,fi,Qe.get(yi,fi)/ti[fi]);Qe.set(fi,fi,Qe.get(fi,fi)+1)}ti[fi]=-ti[fi]}for(let yi=fi+1;yi<ze;yi++){if(fi<ii&&ti[fi]!==0){let pi=0;for(let xi=fi;xi<Ve;xi++)pi+=Qe.get(xi,fi)*Qe.get(xi,yi);pi=-pi/Qe.get(fi,fi);for(let xi=fi;xi<Ve;xi++)Qe.set(xi,yi,Qe.get(xi,yi)+pi*Qe.get(xi,fi))}ai[yi]=Qe.get(fi,yi)}if(Ke&&fi<ii)for(let yi=fi;yi<Ve;yi++)ni.set(yi,fi,Qe.get(yi,fi));if(fi<ui){ai[fi]=0;for(let yi=fi+1;yi<ze;yi++)ai[fi]=hypotenuse$1(ai[fi],ai[yi]);if(ai[fi]!==0){ai[fi+1]<0&&(ai[fi]=0-ai[fi]);for(let yi=fi+1;yi<ze;yi++)ai[yi]/=ai[fi];ai[fi+1]+=1}if(ai[fi]=-ai[fi],fi+1<Ve&&ai[fi]!==0){for(let yi=fi+1;yi<Ve;yi++)si[yi]=0;for(let yi=fi+1;yi<Ve;yi++)for(let pi=fi+1;pi<ze;pi++)si[yi]+=ai[pi]*Qe.get(yi,pi);for(let yi=fi+1;yi<ze;yi++){let pi=-ai[yi]/ai[fi+1];for(let xi=fi+1;xi<Ve;xi++)Qe.set(xi,yi,Qe.get(xi,yi)+pi*si[xi])}}if(Je)for(let yi=fi+1;yi<ze;yi++)oi.set(yi,fi,ai[yi])}}let hi=Math.min(ze,Ve+1);if(ii<ze&&(ti[ii]=Qe.get(ii,ii)),Ve<hi&&(ti[hi-1]=0),ui+1<hi&&(ai[ui]=Qe.get(ui,hi-1)),ai[hi-1]=0,Ke){for(let fi=ii;fi<St;fi++){for(let yi=0;yi<Ve;yi++)ni.set(yi,fi,0);ni.set(fi,fi,1)}for(let fi=ii-1;fi>=0;fi--)if(ti[fi]!==0){for(let yi=fi+1;yi<St;yi++){let pi=0;for(let xi=fi;xi<Ve;xi++)pi+=ni.get(xi,fi)*ni.get(xi,yi);pi=-pi/ni.get(fi,fi);for(let xi=fi;xi<Ve;xi++)ni.set(xi,yi,ni.get(xi,yi)+pi*ni.get(xi,fi))}for(let yi=fi;yi<Ve;yi++)ni.set(yi,fi,-ni.get(yi,fi));ni.set(fi,fi,1+ni.get(fi,fi));for(let yi=0;yi<fi-1;yi++)ni.set(yi,fi,0)}else{for(let yi=0;yi<Ve;yi++)ni.set(yi,fi,0);ni.set(fi,fi,1)}}if(Je)for(let fi=ze-1;fi>=0;fi--){if(fi<ui&&ai[fi]!==0)for(let yi=fi+1;yi<ze;yi++){let pi=0;for(let xi=fi+1;xi<ze;xi++)pi+=oi.get(xi,fi)*oi.get(xi,yi);pi=-pi/oi.get(fi+1,fi);for(let xi=fi+1;xi<ze;xi++)oi.set(xi,yi,oi.get(xi,yi)+pi*oi.get(xi,fi))}for(let yi=0;yi<ze;yi++)oi.set(yi,fi,0);oi.set(fi,fi,1)}let mi=hi-1,di=Number.EPSILON;for(;hi>0;){let fi,yi;for(fi=hi-2;fi>=-1&&fi!==-1;fi--){const pi=Number.MIN_VALUE+di*Math.abs(ti[fi]+Math.abs(ti[fi+1]));if(Math.abs(ai[fi])<=pi||Number.isNaN(ai[fi])){ai[fi]=0;break}}if(fi===hi-2)yi=4;else{let pi;for(pi=hi-1;pi>=fi&&pi!==fi;pi--){let xi=(pi!==hi?Math.abs(ai[pi]):0)+(pi!==fi+1?Math.abs(ai[pi-1]):0);if(Math.abs(ti[pi])<=di*xi){ti[pi]=0;break}}pi===fi?yi=3:pi===hi-1?yi=1:(yi=2,fi=pi)}switch(fi++,yi){case 1:{let pi=ai[hi-2];ai[hi-2]=0;for(let xi=hi-2;xi>=fi;xi--){let Si=hypotenuse$1(ti[xi],pi),vi=ti[xi]/Si,Di=pi/Si;if(ti[xi]=Si,xi!==fi&&(pi=-Di*ai[xi-1],ai[xi-1]=vi*ai[xi-1]),Je)for(let Ti=0;Ti<ze;Ti++)Si=vi*oi.get(Ti,xi)+Di*oi.get(Ti,hi-1),oi.set(Ti,hi-1,-Di*oi.get(Ti,xi)+vi*oi.get(Ti,hi-1)),oi.set(Ti,xi,Si)}break}case 2:{let pi=ai[fi-1];ai[fi-1]=0;for(let xi=fi;xi<hi;xi++){let Si=hypotenuse$1(ti[xi],pi),vi=ti[xi]/Si,Di=pi/Si;if(ti[xi]=Si,pi=-Di*ai[xi],ai[xi]=vi*ai[xi],Ke)for(let Ti=0;Ti<Ve;Ti++)Si=vi*ni.get(Ti,xi)+Di*ni.get(Ti,fi-1),ni.set(Ti,fi-1,-Di*ni.get(Ti,xi)+vi*ni.get(Ti,fi-1)),ni.set(Ti,xi,Si)}break}case 3:{const pi=Math.max(Math.abs(ti[hi-1]),Math.abs(ti[hi-2]),Math.abs(ai[hi-2]),Math.abs(ti[fi]),Math.abs(ai[fi])),xi=ti[hi-1]/pi,Si=ti[hi-2]/pi,vi=ai[hi-2]/pi,Di=ti[fi]/pi,Ti=ai[fi]/pi,Fi=((Si+xi)*(Si-xi)+vi*vi)/2,Ci=xi*vi*(xi*vi);let Ni=0;(Fi!==0||Ci!==0)&&(Fi<0?Ni=0-Math.sqrt(Fi*Fi+Ci):Ni=Math.sqrt(Fi*Fi+Ci),Ni=Ci/(Fi+Ni));let Ri=(Di+xi)*(Di-xi)+Ni,Yi=Di*Ti;for(let ki=fi;ki<hi-1;ki++){let ji=hypotenuse$1(Ri,Yi);ji===0&&(ji=Number.MIN_VALUE);let Vi=Ri/ji,Bi=Yi/ji;if(ki!==fi&&(ai[ki-1]=ji),Ri=Vi*ti[ki]+Bi*ai[ki],ai[ki]=Vi*ai[ki]-Bi*ti[ki],Yi=Bi*ti[ki+1],ti[ki+1]=Vi*ti[ki+1],Je)for(let Xi=0;Xi<ze;Xi++)ji=Vi*oi.get(Xi,ki)+Bi*oi.get(Xi,ki+1),oi.set(Xi,ki+1,-Bi*oi.get(Xi,ki)+Vi*oi.get(Xi,ki+1)),oi.set(Xi,ki,ji);if(ji=hypotenuse$1(Ri,Yi),ji===0&&(ji=Number.MIN_VALUE),Vi=Ri/ji,Bi=Yi/ji,ti[ki]=ji,Ri=Vi*ai[ki]+Bi*ti[ki+1],ti[ki+1]=-Bi*ai[ki]+Vi*ti[ki+1],Yi=Bi*ai[ki+1],ai[ki+1]=Vi*ai[ki+1],Ke&&ki<Ve-1)for(let Xi=0;Xi<Ve;Xi++)ji=Vi*ni.get(Xi,ki)+Bi*ni.get(Xi,ki+1),ni.set(Xi,ki+1,-Bi*ni.get(Xi,ki)+Vi*ni.get(Xi,ki+1)),ni.set(Xi,ki,ji)}ai[hi-2]=Ri;break}case 4:{if(ti[fi]<=0&&(ti[fi]=ti[fi]<0?-ti[fi]:0,Je))for(let pi=0;pi<=mi;pi++)oi.set(pi,fi,-oi.get(pi,fi));for(;fi<mi&&!(ti[fi]>=ti[fi+1]);){let pi=ti[fi];if(ti[fi]=ti[fi+1],ti[fi+1]=pi,Je&&fi<ze-1)for(let xi=0;xi<ze;xi++)pi=oi.get(xi,fi+1),oi.set(xi,fi+1,oi.get(xi,fi)),oi.set(xi,fi,pi);if(Ke&&fi<Ve-1)for(let xi=0;xi<Ve;xi++)pi=ni.get(xi,fi+1),ni.set(xi,fi+1,ni.get(xi,fi)),ni.set(xi,fi,pi);fi++}hi--;break}}}if(Ze){let fi=oi;oi=ni,ni=fi}this.m=Ve,this.n=ze,this.s=ti,this.U=ni,this.V=oi}solve(je){let $e=je,Ve=this.threshold,ze=this.s.length,qe=Matrix$3.zeros(ze,ze);for(let St=0;St<ze;St++)Math.abs(this.s[St])<=Ve?qe.set(St,St,0):qe.set(St,St,1/this.s[St]);let Xe=this.U,We=this.rightSingularVectors,Ke=We.mmul(qe),Je=We.rows,Ze=Xe.rows,Qe=Matrix$3.zeros(Je,Ze);for(let St=0;St<Je;St++)for(let ei=0;ei<Ze;ei++){let ti=0;for(let ni=0;ni<ze;ni++)ti+=Ke.get(St,ni)*Xe.get(ei,ni);Qe.set(St,ei,ti)}return Qe.mmul($e)}solveForDiagonal(je){return this.solve(Matrix$3.diag(je))}inverse(){let je=this.V,$e=this.threshold,Ve=je.rows,ze=je.columns,qe=new Matrix$3(Ve,this.s.length);for(let Ze=0;Ze<Ve;Ze++)for(let Qe=0;Qe<ze;Qe++)Math.abs(this.s[Qe])>$e&&qe.set(Ze,Qe,je.get(Ze,Qe)/this.s[Qe]);let Xe=this.U,We=Xe.rows,Ke=Xe.columns,Je=new Matrix$3(Ve,We);for(let Ze=0;Ze<Ve;Ze++)for(let Qe=0;Qe<We;Qe++){let St=0;for(let ei=0;ei<Ke;ei++)St+=qe.get(Ze,ei)*Xe.get(Qe,ei);Je.set(Ze,Qe,St)}return Je}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let je=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,$e=0,Ve=this.s;for(let ze=0,qe=Ve.length;ze<qe;ze++)Ve[ze]>je&&$e++;return $e}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return Matrix$3.diag(this.s)}};function inverse$1(je,$e=!1){return je=WrapperMatrix2D.checkMatrix(je),$e?new SingularValueDecomposition$1(je).inverse():solve$1(je,Matrix$3.eye(je.rows))}function solve$1(je,$e,Ve=!1){return je=WrapperMatrix2D.checkMatrix(je),$e=WrapperMatrix2D.checkMatrix($e),Ve?new SingularValueDecomposition$1(je).solve($e):je.isSquare()?new LuDecomposition(je).solve($e):new QrDecomposition(je).solve($e)}function determinant(je){if(je=Matrix$3.checkMatrix(je),je.isSquare()){if(je.columns===0)return 1;let $e,Ve,ze,qe;if(je.columns===2)return $e=je.get(0,0),Ve=je.get(0,1),ze=je.get(1,0),qe=je.get(1,1),$e*qe-Ve*ze;if(je.columns===3){let Xe,We,Ke;return Xe=new MatrixSelectionView(je,[1,2],[1,2]),We=new MatrixSelectionView(je,[1,2],[0,2]),Ke=new MatrixSelectionView(je,[1,2],[0,1]),$e=je.get(0,0),Ve=je.get(0,1),ze=je.get(0,2),$e*determinant(Xe)-Ve*determinant(We)+ze*determinant(Ke)}else return new LuDecomposition(je).determinant}else throw Error("determinant can only be calculated for a square matrix")}function xrange(je,$e){let Ve=[];for(let ze=0;ze<je;ze++)ze!==$e&&Ve.push(ze);return Ve}function dependenciesOneRow(je,$e,Ve,ze=1e-9,qe=1e-9){if(je>qe)return new Array($e.rows+1).fill(0);{let Xe=$e.addRow(Ve,[0]);for(let We=0;We<Xe.rows;We++)Math.abs(Xe.get(We,0))<ze&&Xe.set(We,0,0);return Xe.to1DArray()}}function linearDependencies(je,$e={}){const{thresholdValue:Ve=1e-9,thresholdError:ze=1e-9}=$e;je=Matrix$3.checkMatrix(je);let qe=je.rows,Xe=new Matrix$3(qe,qe);for(let We=0;We<qe;We++){let Ke=Matrix$3.columnVector(je.getRow(We)),Je=je.subMatrixRow(xrange(qe,We)).transpose(),Ze=new SingularValueDecomposition$1(Je).solve(Ke),Qe=Matrix$3.sub(Ke,Je.mmul(Ze)).abs().max();Xe.setRow(We,dependenciesOneRow(Qe,Ze,We,Ve,ze))}return Xe}function pseudoInverse(je,$e=Number.EPSILON){if(je=Matrix$3.checkMatrix(je),je.isEmpty())return je.transpose();let Ve=new SingularValueDecomposition$1(je,{autoTranspose:!0}),ze=Ve.leftSingularVectors,qe=Ve.rightSingularVectors,Xe=Ve.diagonal;for(let We=0;We<Xe.length;We++)Math.abs(Xe[We])>$e?Xe[We]=1/Xe[We]:Xe[We]=0;return qe.mmul(Matrix$3.diag(Xe).mmul(ze.transpose()))}function covariance$1(je,$e=je,Ve={}){je=new Matrix$3(je);let ze=!1;if(typeof $e=="object"&&!Matrix$3.isMatrix($e)&&!isAnyArray.isAnyArray($e)?(Ve=$e,$e=je,ze=!0):$e=new Matrix$3($e),je.rows!==$e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:qe=!0}=Ve;qe&&(je=je.center("column"),ze||($e=$e.center("column")));const Xe=je.transpose().mmul($e);for(let We=0;We<Xe.rows;We++)for(let Ke=0;Ke<Xe.columns;Ke++)Xe.set(We,Ke,Xe.get(We,Ke)*(1/(je.rows-1)));return Xe}function correlation(je,$e=je,Ve={}){je=new Matrix$3(je);let ze=!1;if(typeof $e=="object"&&!Matrix$3.isMatrix($e)&&!isAnyArray.isAnyArray($e)?(Ve=$e,$e=je,ze=!0):$e=new Matrix$3($e),je.rows!==$e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:qe=!0,scale:Xe=!0}=Ve;qe&&(je.center("column"),ze||$e.center("column")),Xe&&(je.scale("column"),ze||$e.scale("column"));const We=je.standardDeviation("column",{unbiased:!0}),Ke=ze?We:$e.standardDeviation("column",{unbiased:!0}),Je=je.transpose().mmul($e);for(let Ze=0;Ze<Je.rows;Ze++)for(let Qe=0;Qe<Je.columns;Qe++)Je.set(Ze,Qe,Je.get(Ze,Qe)*(1/(We[Ze]*Ke[Qe]))*(1/(je.rows-1)));return Je}class EigenvalueDecomposition{constructor($e,Ve={}){const{assumeSymmetric:ze=!1}=Ve;if($e=WrapperMatrix2D.checkMatrix($e),!$e.isSquare())throw new Error("Matrix is not a square matrix");if($e.isEmpty())throw new Error("Matrix must be non-empty");let qe=$e.columns,Xe=new Matrix$3(qe,qe),We=new Float64Array(qe),Ke=new Float64Array(qe),Je=$e,Ze,Qe,St=!1;if(ze?St=!0:St=$e.isSymmetric(),St){for(Ze=0;Ze<qe;Ze++)for(Qe=0;Qe<qe;Qe++)Xe.set(Ze,Qe,Je.get(Ze,Qe));tred2(qe,Ke,We,Xe),tql2(qe,Ke,We,Xe)}else{let ei=new Matrix$3(qe,qe),ti=new Float64Array(qe);for(Qe=0;Qe<qe;Qe++)for(Ze=0;Ze<qe;Ze++)ei.set(Ze,Qe,Je.get(Ze,Qe));orthes(qe,ei,ti,Xe),hqr2(qe,Ke,We,Xe,ei)}this.n=qe,this.e=Ke,this.d=We,this.V=Xe}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let $e=this.n,Ve=this.e,ze=this.d,qe=new Matrix$3($e,$e),Xe,We;for(Xe=0;Xe<$e;Xe++){for(We=0;We<$e;We++)qe.set(Xe,We,0);qe.set(Xe,Xe,ze[Xe]),Ve[Xe]>0?qe.set(Xe,Xe+1,Ve[Xe]):Ve[Xe]<0&&qe.set(Xe,Xe-1,Ve[Xe])}return qe}}function tred2(je,$e,Ve,ze){let qe,Xe,We,Ke,Je,Ze,Qe,St;for(Je=0;Je<je;Je++)Ve[Je]=ze.get(je-1,Je);for(Ke=je-1;Ke>0;Ke--){for(St=0,We=0,Ze=0;Ze<Ke;Ze++)St=St+Math.abs(Ve[Ze]);if(St===0)for($e[Ke]=Ve[Ke-1],Je=0;Je<Ke;Je++)Ve[Je]=ze.get(Ke-1,Je),ze.set(Ke,Je,0),ze.set(Je,Ke,0);else{for(Ze=0;Ze<Ke;Ze++)Ve[Ze]/=St,We+=Ve[Ze]*Ve[Ze];for(qe=Ve[Ke-1],Xe=Math.sqrt(We),qe>0&&(Xe=-Xe),$e[Ke]=St*Xe,We=We-qe*Xe,Ve[Ke-1]=qe-Xe,Je=0;Je<Ke;Je++)$e[Je]=0;for(Je=0;Je<Ke;Je++){for(qe=Ve[Je],ze.set(Je,Ke,qe),Xe=$e[Je]+ze.get(Je,Je)*qe,Ze=Je+1;Ze<=Ke-1;Ze++)Xe+=ze.get(Ze,Je)*Ve[Ze],$e[Ze]+=ze.get(Ze,Je)*qe;$e[Je]=Xe}for(qe=0,Je=0;Je<Ke;Je++)$e[Je]/=We,qe+=$e[Je]*Ve[Je];for(Qe=qe/(We+We),Je=0;Je<Ke;Je++)$e[Je]-=Qe*Ve[Je];for(Je=0;Je<Ke;Je++){for(qe=Ve[Je],Xe=$e[Je],Ze=Je;Ze<=Ke-1;Ze++)ze.set(Ze,Je,ze.get(Ze,Je)-(qe*$e[Ze]+Xe*Ve[Ze]));Ve[Je]=ze.get(Ke-1,Je),ze.set(Ke,Je,0)}}Ve[Ke]=We}for(Ke=0;Ke<je-1;Ke++){if(ze.set(je-1,Ke,ze.get(Ke,Ke)),ze.set(Ke,Ke,1),We=Ve[Ke+1],We!==0){for(Ze=0;Ze<=Ke;Ze++)Ve[Ze]=ze.get(Ze,Ke+1)/We;for(Je=0;Je<=Ke;Je++){for(Xe=0,Ze=0;Ze<=Ke;Ze++)Xe+=ze.get(Ze,Ke+1)*ze.get(Ze,Je);for(Ze=0;Ze<=Ke;Ze++)ze.set(Ze,Je,ze.get(Ze,Je)-Xe*Ve[Ze])}}for(Ze=0;Ze<=Ke;Ze++)ze.set(Ze,Ke+1,0)}for(Je=0;Je<je;Je++)Ve[Je]=ze.get(je-1,Je),ze.set(je-1,Je,0);ze.set(je-1,je-1,1),$e[0]=0}function tql2(je,$e,Ve,ze){let qe,Xe,We,Ke,Je,Ze,Qe,St,ei,ti,ni,oi,ai,si,ri,ii;for(We=1;We<je;We++)$e[We-1]=$e[We];$e[je-1]=0;let ui=0,ci=0,hi=Number.EPSILON;for(Ze=0;Ze<je;Ze++){for(ci=Math.max(ci,Math.abs(Ve[Ze])+Math.abs($e[Ze])),Qe=Ze;Qe<je&&!(Math.abs($e[Qe])<=hi*ci);)Qe++;if(Qe>Ze)do{for(qe=Ve[Ze],St=(Ve[Ze+1]-qe)/(2*$e[Ze]),ei=hypotenuse$1(St,1),St<0&&(ei=-ei),Ve[Ze]=$e[Ze]/(St+ei),Ve[Ze+1]=$e[Ze]*(St+ei),ti=Ve[Ze+1],Xe=qe-Ve[Ze],We=Ze+2;We<je;We++)Ve[We]-=Xe;for(ui=ui+Xe,St=Ve[Qe],ni=1,oi=ni,ai=ni,si=$e[Ze+1],ri=0,ii=0,We=Qe-1;We>=Ze;We--)for(ai=oi,oi=ni,ii=ri,qe=ni*$e[We],Xe=ni*St,ei=hypotenuse$1(St,$e[We]),$e[We+1]=ri*ei,ri=$e[We]/ei,ni=St/ei,St=ni*Ve[We]-ri*qe,Ve[We+1]=Xe+ri*(ni*qe+ri*Ve[We]),Je=0;Je<je;Je++)Xe=ze.get(Je,We+1),ze.set(Je,We+1,ri*ze.get(Je,We)+ni*Xe),ze.set(Je,We,ni*ze.get(Je,We)-ri*Xe);St=-ri*ii*ai*si*$e[Ze]/ti,$e[Ze]=ri*St,Ve[Ze]=ni*St}while(Math.abs($e[Ze])>hi*ci);Ve[Ze]=Ve[Ze]+ui,$e[Ze]=0}for(We=0;We<je-1;We++){for(Je=We,St=Ve[We],Ke=We+1;Ke<je;Ke++)Ve[Ke]<St&&(Je=Ke,St=Ve[Ke]);if(Je!==We)for(Ve[Je]=Ve[We],Ve[We]=St,Ke=0;Ke<je;Ke++)St=ze.get(Ke,We),ze.set(Ke,We,ze.get(Ke,Je)),ze.set(Ke,Je,St)}}function orthes(je,$e,Ve,ze){let qe=0,Xe=je-1,We,Ke,Je,Ze,Qe,St,ei;for(St=qe+1;St<=Xe-1;St++){for(ei=0,Ze=St;Ze<=Xe;Ze++)ei=ei+Math.abs($e.get(Ze,St-1));if(ei!==0){for(Je=0,Ze=Xe;Ze>=St;Ze--)Ve[Ze]=$e.get(Ze,St-1)/ei,Je+=Ve[Ze]*Ve[Ze];for(Ke=Math.sqrt(Je),Ve[St]>0&&(Ke=-Ke),Je=Je-Ve[St]*Ke,Ve[St]=Ve[St]-Ke,Qe=St;Qe<je;Qe++){for(We=0,Ze=Xe;Ze>=St;Ze--)We+=Ve[Ze]*$e.get(Ze,Qe);for(We=We/Je,Ze=St;Ze<=Xe;Ze++)$e.set(Ze,Qe,$e.get(Ze,Qe)-We*Ve[Ze])}for(Ze=0;Ze<=Xe;Ze++){for(We=0,Qe=Xe;Qe>=St;Qe--)We+=Ve[Qe]*$e.get(Ze,Qe);for(We=We/Je,Qe=St;Qe<=Xe;Qe++)$e.set(Ze,Qe,$e.get(Ze,Qe)-We*Ve[Qe])}Ve[St]=ei*Ve[St],$e.set(St,St-1,ei*Ke)}}for(Ze=0;Ze<je;Ze++)for(Qe=0;Qe<je;Qe++)ze.set(Ze,Qe,Ze===Qe?1:0);for(St=Xe-1;St>=qe+1;St--)if($e.get(St,St-1)!==0){for(Ze=St+1;Ze<=Xe;Ze++)Ve[Ze]=$e.get(Ze,St-1);for(Qe=St;Qe<=Xe;Qe++){for(Ke=0,Ze=St;Ze<=Xe;Ze++)Ke+=Ve[Ze]*ze.get(Ze,Qe);for(Ke=Ke/Ve[St]/$e.get(St,St-1),Ze=St;Ze<=Xe;Ze++)ze.set(Ze,Qe,ze.get(Ze,Qe)+Ke*Ve[Ze])}}}function hqr2(je,$e,Ve,ze,qe){let Xe=je-1,We=0,Ke=je-1,Je=Number.EPSILON,Ze=0,Qe=0,St=0,ei=0,ti=0,ni=0,oi=0,ai=0,si,ri,ii,ui,ci,hi,mi,di,fi,yi,pi,xi,Si,vi,Di;for(si=0;si<je;si++)for((si<We||si>Ke)&&(Ve[si]=qe.get(si,si),$e[si]=0),ri=Math.max(si-1,0);ri<je;ri++)Qe=Qe+Math.abs(qe.get(si,ri));for(;Xe>=We;){for(ui=Xe;ui>We&&(ni=Math.abs(qe.get(ui-1,ui-1))+Math.abs(qe.get(ui,ui)),ni===0&&(ni=Qe),!(Math.abs(qe.get(ui,ui-1))<Je*ni));)ui--;if(ui===Xe)qe.set(Xe,Xe,qe.get(Xe,Xe)+Ze),Ve[Xe]=qe.get(Xe,Xe),$e[Xe]=0,Xe--,ai=0;else if(ui===Xe-1){if(mi=qe.get(Xe,Xe-1)*qe.get(Xe-1,Xe),St=(qe.get(Xe-1,Xe-1)-qe.get(Xe,Xe))/2,ei=St*St+mi,oi=Math.sqrt(Math.abs(ei)),qe.set(Xe,Xe,qe.get(Xe,Xe)+Ze),qe.set(Xe-1,Xe-1,qe.get(Xe-1,Xe-1)+Ze),di=qe.get(Xe,Xe),ei>=0){for(oi=St>=0?St+oi:St-oi,Ve[Xe-1]=di+oi,Ve[Xe]=Ve[Xe-1],oi!==0&&(Ve[Xe]=di-mi/oi),$e[Xe-1]=0,$e[Xe]=0,di=qe.get(Xe,Xe-1),ni=Math.abs(di)+Math.abs(oi),St=di/ni,ei=oi/ni,ti=Math.sqrt(St*St+ei*ei),St=St/ti,ei=ei/ti,ri=Xe-1;ri<je;ri++)oi=qe.get(Xe-1,ri),qe.set(Xe-1,ri,ei*oi+St*qe.get(Xe,ri)),qe.set(Xe,ri,ei*qe.get(Xe,ri)-St*oi);for(si=0;si<=Xe;si++)oi=qe.get(si,Xe-1),qe.set(si,Xe-1,ei*oi+St*qe.get(si,Xe)),qe.set(si,Xe,ei*qe.get(si,Xe)-St*oi);for(si=We;si<=Ke;si++)oi=ze.get(si,Xe-1),ze.set(si,Xe-1,ei*oi+St*ze.get(si,Xe)),ze.set(si,Xe,ei*ze.get(si,Xe)-St*oi)}else Ve[Xe-1]=di+St,Ve[Xe]=di+St,$e[Xe-1]=oi,$e[Xe]=-oi;Xe=Xe-2,ai=0}else{if(di=qe.get(Xe,Xe),fi=0,mi=0,ui<Xe&&(fi=qe.get(Xe-1,Xe-1),mi=qe.get(Xe,Xe-1)*qe.get(Xe-1,Xe)),ai===10){for(Ze+=di,si=We;si<=Xe;si++)qe.set(si,si,qe.get(si,si)-di);ni=Math.abs(qe.get(Xe,Xe-1))+Math.abs(qe.get(Xe-1,Xe-2)),di=fi=.75*ni,mi=-.4375*ni*ni}if(ai===30&&(ni=(fi-di)/2,ni=ni*ni+mi,ni>0)){for(ni=Math.sqrt(ni),fi<di&&(ni=-ni),ni=di-mi/((fi-di)/2+ni),si=We;si<=Xe;si++)qe.set(si,si,qe.get(si,si)-ni);Ze+=ni,di=fi=mi=.964}for(ai=ai+1,ci=Xe-2;ci>=ui&&(oi=qe.get(ci,ci),ti=di-oi,ni=fi-oi,St=(ti*ni-mi)/qe.get(ci+1,ci)+qe.get(ci,ci+1),ei=qe.get(ci+1,ci+1)-oi-ti-ni,ti=qe.get(ci+2,ci+1),ni=Math.abs(St)+Math.abs(ei)+Math.abs(ti),St=St/ni,ei=ei/ni,ti=ti/ni,!(ci===ui||Math.abs(qe.get(ci,ci-1))*(Math.abs(ei)+Math.abs(ti))<Je*(Math.abs(St)*(Math.abs(qe.get(ci-1,ci-1))+Math.abs(oi)+Math.abs(qe.get(ci+1,ci+1))))));)ci--;for(si=ci+2;si<=Xe;si++)qe.set(si,si-2,0),si>ci+2&&qe.set(si,si-3,0);for(ii=ci;ii<=Xe-1&&(vi=ii!==Xe-1,ii!==ci&&(St=qe.get(ii,ii-1),ei=qe.get(ii+1,ii-1),ti=vi?qe.get(ii+2,ii-1):0,di=Math.abs(St)+Math.abs(ei)+Math.abs(ti),di!==0&&(St=St/di,ei=ei/di,ti=ti/di)),di!==0);ii++)if(ni=Math.sqrt(St*St+ei*ei+ti*ti),St<0&&(ni=-ni),ni!==0){for(ii!==ci?qe.set(ii,ii-1,-ni*di):ui!==ci&&qe.set(ii,ii-1,-qe.get(ii,ii-1)),St=St+ni,di=St/ni,fi=ei/ni,oi=ti/ni,ei=ei/St,ti=ti/St,ri=ii;ri<je;ri++)St=qe.get(ii,ri)+ei*qe.get(ii+1,ri),vi&&(St=St+ti*qe.get(ii+2,ri),qe.set(ii+2,ri,qe.get(ii+2,ri)-St*oi)),qe.set(ii,ri,qe.get(ii,ri)-St*di),qe.set(ii+1,ri,qe.get(ii+1,ri)-St*fi);for(si=0;si<=Math.min(Xe,ii+3);si++)St=di*qe.get(si,ii)+fi*qe.get(si,ii+1),vi&&(St=St+oi*qe.get(si,ii+2),qe.set(si,ii+2,qe.get(si,ii+2)-St*ti)),qe.set(si,ii,qe.get(si,ii)-St),qe.set(si,ii+1,qe.get(si,ii+1)-St*ei);for(si=We;si<=Ke;si++)St=di*ze.get(si,ii)+fi*ze.get(si,ii+1),vi&&(St=St+oi*ze.get(si,ii+2),ze.set(si,ii+2,ze.get(si,ii+2)-St*ti)),ze.set(si,ii,ze.get(si,ii)-St),ze.set(si,ii+1,ze.get(si,ii+1)-St*ei)}}}if(Qe!==0){for(Xe=je-1;Xe>=0;Xe--)if(St=Ve[Xe],ei=$e[Xe],ei===0)for(ui=Xe,qe.set(Xe,Xe,1),si=Xe-1;si>=0;si--){for(mi=qe.get(si,si)-St,ti=0,ri=ui;ri<=Xe;ri++)ti=ti+qe.get(si,ri)*qe.get(ri,Xe);if($e[si]<0)oi=mi,ni=ti;else if(ui=si,$e[si]===0?qe.set(si,Xe,mi!==0?-ti/mi:-ti/(Je*Qe)):(di=qe.get(si,si+1),fi=qe.get(si+1,si),ei=(Ve[si]-St)*(Ve[si]-St)+$e[si]*$e[si],hi=(di*ni-oi*ti)/ei,qe.set(si,Xe,hi),qe.set(si+1,Xe,Math.abs(di)>Math.abs(oi)?(-ti-mi*hi)/di:(-ni-fi*hi)/oi)),hi=Math.abs(qe.get(si,Xe)),Je*hi*hi>1)for(ri=si;ri<=Xe;ri++)qe.set(ri,Xe,qe.get(ri,Xe)/hi)}else if(ei<0)for(ui=Xe-1,Math.abs(qe.get(Xe,Xe-1))>Math.abs(qe.get(Xe-1,Xe))?(qe.set(Xe-1,Xe-1,ei/qe.get(Xe,Xe-1)),qe.set(Xe-1,Xe,-(qe.get(Xe,Xe)-St)/qe.get(Xe,Xe-1))):(Di=cdiv(0,-qe.get(Xe-1,Xe),qe.get(Xe-1,Xe-1)-St,ei),qe.set(Xe-1,Xe-1,Di[0]),qe.set(Xe-1,Xe,Di[1])),qe.set(Xe,Xe-1,0),qe.set(Xe,Xe,1),si=Xe-2;si>=0;si--){for(yi=0,pi=0,ri=ui;ri<=Xe;ri++)yi=yi+qe.get(si,ri)*qe.get(ri,Xe-1),pi=pi+qe.get(si,ri)*qe.get(ri,Xe);if(mi=qe.get(si,si)-St,$e[si]<0)oi=mi,ti=yi,ni=pi;else if(ui=si,$e[si]===0?(Di=cdiv(-yi,-pi,mi,ei),qe.set(si,Xe-1,Di[0]),qe.set(si,Xe,Di[1])):(di=qe.get(si,si+1),fi=qe.get(si+1,si),xi=(Ve[si]-St)*(Ve[si]-St)+$e[si]*$e[si]-ei*ei,Si=(Ve[si]-St)*2*ei,xi===0&&Si===0&&(xi=Je*Qe*(Math.abs(mi)+Math.abs(ei)+Math.abs(di)+Math.abs(fi)+Math.abs(oi))),Di=cdiv(di*ti-oi*yi+ei*pi,di*ni-oi*pi-ei*yi,xi,Si),qe.set(si,Xe-1,Di[0]),qe.set(si,Xe,Di[1]),Math.abs(di)>Math.abs(oi)+Math.abs(ei)?(qe.set(si+1,Xe-1,(-yi-mi*qe.get(si,Xe-1)+ei*qe.get(si,Xe))/di),qe.set(si+1,Xe,(-pi-mi*qe.get(si,Xe)-ei*qe.get(si,Xe-1))/di)):(Di=cdiv(-ti-fi*qe.get(si,Xe-1),-ni-fi*qe.get(si,Xe),oi,ei),qe.set(si+1,Xe-1,Di[0]),qe.set(si+1,Xe,Di[1]))),hi=Math.max(Math.abs(qe.get(si,Xe-1)),Math.abs(qe.get(si,Xe))),Je*hi*hi>1)for(ri=si;ri<=Xe;ri++)qe.set(ri,Xe-1,qe.get(ri,Xe-1)/hi),qe.set(ri,Xe,qe.get(ri,Xe)/hi)}for(si=0;si<je;si++)if(si<We||si>Ke)for(ri=si;ri<je;ri++)ze.set(si,ri,qe.get(si,ri));for(ri=je-1;ri>=We;ri--)for(si=We;si<=Ke;si++){for(oi=0,ii=We;ii<=Math.min(ri,Ke);ii++)oi=oi+ze.get(si,ii)*qe.get(ii,ri);ze.set(si,ri,oi)}}}function cdiv(je,$e,Ve,ze){let qe,Xe;return Math.abs(Ve)>Math.abs(ze)?(qe=ze/Ve,Xe=Ve+qe*ze,[(je+qe*$e)/Xe,($e-qe*je)/Xe]):(qe=Ve/ze,Xe=ze+qe*Ve,[(qe*je+$e)/Xe,(qe*$e-je)/Xe])}class CholeskyDecomposition{constructor($e){if($e=WrapperMatrix2D.checkMatrix($e),!$e.isSymmetric())throw new Error("Matrix is not symmetric");let Ve=$e,ze=Ve.rows,qe=new Matrix$3(ze,ze),Xe=!0,We,Ke,Je;for(Ke=0;Ke<ze;Ke++){let Ze=0;for(Je=0;Je<Ke;Je++){let Qe=0;for(We=0;We<Je;We++)Qe+=qe.get(Je,We)*qe.get(Ke,We);Qe=(Ve.get(Ke,Je)-Qe)/qe.get(Je,Je),qe.set(Ke,Je,Qe),Ze=Ze+Qe*Qe}for(Ze=Ve.get(Ke,Ke)-Ze,Xe&=Ze>0,qe.set(Ke,Ke,Math.sqrt(Math.max(Ze,0))),Je=Ke+1;Je<ze;Je++)qe.set(Ke,Je,0)}this.L=qe,this.positiveDefinite=!!Xe}isPositiveDefinite(){return this.positiveDefinite}solve($e){$e=WrapperMatrix2D.checkMatrix($e);let Ve=this.L,ze=Ve.rows;if($e.rows!==ze)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");let qe=$e.columns,Xe=$e.clone(),We,Ke,Je;for(Je=0;Je<ze;Je++)for(Ke=0;Ke<qe;Ke++){for(We=0;We<Je;We++)Xe.set(Je,Ke,Xe.get(Je,Ke)-Xe.get(We,Ke)*Ve.get(Je,We));Xe.set(Je,Ke,Xe.get(Je,Ke)/Ve.get(Je,Je))}for(Je=ze-1;Je>=0;Je--)for(Ke=0;Ke<qe;Ke++){for(We=Je+1;We<ze;We++)Xe.set(Je,Ke,Xe.get(Je,Ke)-Xe.get(We,Ke)*Ve.get(We,Je));Xe.set(Je,Ke,Xe.get(Je,Ke)/Ve.get(Je,Je))}return Xe}get lowerTriangularMatrix(){return this.L}}class nipals{constructor($e,Ve={}){$e=WrapperMatrix2D.checkMatrix($e);let{Y:ze}=Ve;const{scaleScores:qe=!1,maxIterations:Xe=1e3,terminationCriteria:We=1e-10}=Ve;let Ke;if(ze){if(isAnyArray.isAnyArray(ze)&&typeof ze[0]=="number"?ze=Matrix$3.columnVector(ze):ze=WrapperMatrix2D.checkMatrix(ze),ze.rows!==$e.rows)throw new Error("Y should have the same number of rows as X");Ke=ze.getColumnVector(0)}else Ke=$e.getColumnVector(0);let Je=1,Ze,Qe,St,ei;for(let ti=0;ti<Xe&&Je>We;ti++)St=$e.transpose().mmul(Ke).div(Ke.transpose().mmul(Ke).get(0,0)),St=St.div(St.norm()),Ze=$e.mmul(St).div(St.transpose().mmul(St).get(0,0)),ti>0&&(Je=Ze.clone().sub(ei).pow(2).sum()),ei=Ze.clone(),ze?(Qe=ze.transpose().mmul(Ze).div(Ze.transpose().mmul(Ze).get(0,0)),Qe=Qe.div(Qe.norm()),Ke=ze.mmul(Qe).div(Qe.transpose().mmul(Qe).get(0,0))):Ke=Ze;if(ze){let ti=$e.transpose().mmul(Ze).div(Ze.transpose().mmul(Ze).get(0,0));ti=ti.div(ti.norm());let ni=$e.clone().sub(Ze.clone().mmul(ti.transpose())),oi=Ke.transpose().mmul(Ze).div(Ze.transpose().mmul(Ze).get(0,0)),ai=ze.clone().sub(Ze.clone().mulS(oi.get(0,0)).mmul(Qe.transpose()));this.t=Ze,this.p=ti.transpose(),this.w=St.transpose(),this.q=Qe,this.u=Ke,this.s=Ze.transpose().mmul(Ze),this.xResidual=ni,this.yResidual=ai,this.betas=oi}else this.w=St.transpose(),this.s=Ze.transpose().mmul(Ze).sqrt(),qe?this.t=Ze.clone().div(this.s.get(0,0)):this.t=Ze,this.xResidual=$e.sub(Ze.mmul(St.transpose()))}}matrix.AbstractMatrix=AbstractMatrix;matrix.CHO=CholeskyDecomposition;matrix.CholeskyDecomposition=CholeskyDecomposition;matrix.DistanceMatrix=DistanceMatrix;matrix.EVD=EigenvalueDecomposition;matrix.EigenvalueDecomposition=EigenvalueDecomposition;matrix.LU=LuDecomposition;matrix.LuDecomposition=LuDecomposition;var Matrix_1=matrix.Matrix=Matrix$3;matrix.MatrixColumnSelectionView=MatrixColumnSelectionView;matrix.MatrixColumnView=MatrixColumnView;matrix.MatrixFlipColumnView=MatrixFlipColumnView;matrix.MatrixFlipRowView=MatrixFlipRowView;matrix.MatrixRowSelectionView=MatrixRowSelectionView;matrix.MatrixRowView=MatrixRowView;matrix.MatrixSelectionView=MatrixSelectionView;matrix.MatrixSubView=MatrixSubView;matrix.MatrixTransposeView=MatrixTransposeView$1;matrix.NIPALS=nipals;matrix.Nipals=nipals;matrix.QR=QrDecomposition;matrix.QrDecomposition=QrDecomposition;var SVD$1=matrix.SVD=SingularValueDecomposition$1,SingularValueDecomposition_1=matrix.SingularValueDecomposition=SingularValueDecomposition$1;matrix.SymmetricMatrix=SymmetricMatrix;matrix.WrapperMatrix1D=WrapperMatrix1D;matrix.WrapperMatrix2D=WrapperMatrix2D;matrix.correlation=correlation;matrix.covariance=covariance$1;var _default=matrix.default=Matrix$3;matrix.determinant=determinant;var inverse_1=matrix.inverse=inverse$1;matrix.linearDependencies=linearDependencies;matrix.pseudoInverse=pseudoInverse;var solve_1=matrix.solve=solve$1;matrix.wrap=wrap;const Matrix$2=Matrix_1,SVD=SVD$1,SingularValueDecomposition=SingularValueDecomposition_1;_default.Matrix&&_default.Matrix;const inverse=inverse_1,solve=solve_1;function getSeparatedKernel(je){const $e=new SVD(je,{autoTranspose:!0});if($e.rank!==1)return null;const Ve=Math.sqrt($e.s[0]),ze=$e.U.to2DArray().map(Xe=>Xe[0]*Ve),qe=$e.V.to2DArray().map(Xe=>Xe[0]*Ve);return[ze,qe]}function convolution(je,$e={}){let{channels:Ve,bitDepth:ze,normalize:qe=!1,divisor:Xe=1,border:We="copy",algorithm:Ke="auto"}=$e,Je={};ze&&(Je.bitDepth=ze);let Ze=Image$1.createFrom(this,Je);if(Ve=validateArrayOfChannels(this,Ve),Ke!=="separable")({kernel:je}=validateKernel(je));else if(!Array.isArray(je)||je.length!==2)throw new RangeError("separable convolution requires two arrays of numbers to represent the kernel");if(Ke==="auto"){let ui=getSeparatedKernel(je);ui!==null?(Ke="separable",je=ui):(je.length>9||je[0].length>9)&&this.width<=4096&&this.height<=4096?Ke="fft":Ke="direct"}let Qe,St;Ke==="separable"?(Qe=Math.floor(je[0].length/2),St=Math.floor(je[1].length/2)):(Qe=Math.floor(je.length/2),St=Math.floor(je[0].length/2));let ei=Ze.isClamped,ti=new Array(this.height*this.width),ni,oi,ai,si,ri,ii;for(si=0;si<Ve.length;si++){for(ri=Ve[si],ai=0;ai<this.height;ai++)for(oi=0;oi<this.width;oi++)ni=ai*this.width+oi,ti[ni]=this.data[ni*this.channels+ri];if(Ke==="direct")ii=src$1.direct(ti,je,{rows:this.height,cols:this.width,normalize:qe,divisor:Xe});else if(Ke==="separable"){if(ii=convolutionSeparable(ti,je,this.width,this.height),qe){Xe=0;for(let ui=0;ui<je[0].length;ui++)for(let ci=0;ci<je[1].length;ci++)Xe+=je[0][ui]*je[1][ci]}if(Xe!==1)for(let ui=0;ui<ii.length;ui++)ii[ui]/=Xe}else ii=src$1.fft(ti,je,{rows:this.height,cols:this.width,normalize:qe,divisor:Xe});for(ai=0;ai<this.height;ai++)for(oi=0;oi<this.width;oi++)ni=ai*this.width+oi,ei?Ze.data[ni*this.channels+ri]=clamp(ii[ni],Ze):Ze.data[ni*this.channels+ri]=ii[ni]}if(this.alpha&&!Ve.includes(this.channels))for(oi=this.components;oi<this.data.length;oi=oi+this.channels)Ze.data[oi]=this.data[oi];return We!=="periodic"&&Ze.setBorder({size:[St,Qe],algorithm:We}),Ze}function gradientFilter(je={}){let{direction:$e="xy",border:Ve="copy",kernelX:ze,kernelY:qe,channels:Xe,bitDepth:We=this.bitDepth}=je;switch(this.checkProcessable("gradientFilter",{bitDepth:[8,16]}),$e){case"x":if(!ze)throw new Error("kernelX option is missing");return convolution.call(this,ze,{channels:Xe,border:Ve,bitDepth:We});case"y":if(!qe)throw new Error("kernelY option is missing");return convolution.call(this,qe,{channels:Xe,border:Ve,bitDepth:We});case"xy":{if(!ze)throw new Error("kernelX option is missing");if(!qe)throw new Error("kernelY option is missing");const Ke=convolution.call(this,ze,{channels:Xe,border:Ve,bitDepth:32}),Je=convolution.call(this,qe,{channels:Xe,border:Ve,bitDepth:32});return Ke.hypotenuse(Je,{bitDepth:We,channels:Xe})}default:throw new Error(`Unknown parameter direction: ${$e}`)}}function sobelFilter(je){return gradientFilter.call(this,Object.assign({},je,{kernelX:SOBEL_X,kernelY:SOBEL_Y}))}function scharrFilter(je){return gradientFilter.call(this,Object.assign({},je,{kernelX:SCHARR_X,kernelY:SCHARR_Y}))}var newArray_1=newArray;function newArray(je,$e){je=je||0;for(var Ve=new Array(je),ze=0;ze<je;ze++)Ve[ze]=$e;return Ve}const newArray$1=getDefaultExportFromCjs$1(newArray_1);function level(je={}){let{algorithm:$e="range",channels:Ve,min:ze=this.min,max:qe=this.max}=je;switch(this.checkProcessable("level",{bitDepth:[8,16,32]}),Ve=validateArrayOfChannels(this,{channels:Ve}),Ve.length!==this.channel&&(Array.isArray(ze)&&ze.length===this.channels&&(ze=ze.filter((Xe,We)=>Ve.includes(We))),Array.isArray(qe)&&qe.length===this.channels&&(qe=qe.filter((Xe,We)=>Ve.includes(We)))),$e){case"range":ze<0&&(ze=0),qe>this.maxValue&&(qe=this.maxValue),Array.isArray(ze)||(ze=newArray$1(Ve.length,ze)),Array.isArray(qe)||(qe=newArray$1(Ve.length,qe)),processImage(this,ze,qe,Ve);break;default:throw new Error(`level: algorithm not implement: ${$e}`)}return this}function processImage(je,$e,Ve,ze){let qe=1e-5,Xe=new Array(ze.length);for(let We=0;We<ze.length;We++)$e[We]===0&&Ve[We]===je.maxValue||Ve[We]===$e[We]?Xe[We]=0:Xe[We]=(je.maxValue+1-qe)/(Ve[We]-$e[We]),$e[We]+=(.5-qe/2)/Xe[We];for(let We=0;We<ze.length;We++){let Ke=ze[We];if(Xe[We]!==0)for(let Je=0;Je<je.data.length;Je+=je.channels)je.data[Je+Ke]=Math.min(Math.max(0,(je.data[Je+Ke]-$e[We])*Xe[We]+.5|0),je.maxValue)}}var toString=Object.prototype.toString,isArrayType=function je($e){return toString.call($e).substr(-6,5)==="Array"};const isArray=getDefaultExportFromCjs$1(isArrayType);function checkNumberArray(je){if(isNaN(je)){if(je instanceof Image$1)return je.data;if(!isArray(je))throw new Error("checkNumberArray: the value should be either a number, array or Image");return je}else{if(je<=0)throw new Error("checkNumberArray: the value must be greater than 0");return je}}function add(je,$e={}){let{channels:Ve}=$e;if(this.checkProcessable("add",{bitDepth:[8,16]}),Ve=validateArrayOfChannels(this,{channels:Ve}),je=checkNumberArray(je),isNaN(je)){if(this.data.length!==je.length)throw new Error("add: the data size is different");for(let ze=0;ze<Ve.length;ze++){let qe=Ve[ze];for(let Xe=0;Xe<this.data.length;Xe+=this.channels)this.data[Xe+qe]=Math.max(0,Math.min(this.maxValue,this.data[Xe+qe]+je[Xe+qe]>>0))}}else for(let ze=0;ze<Ve.length;ze++){let qe=Ve[ze];for(let Xe=0;Xe<this.data.length;Xe+=this.channels)this.data[Xe+qe]=Math.min(this.maxValue,this.data[Xe+qe]+je>>0)}return this}function subtract(je,$e={}){let{channels:Ve}=$e;if(this.checkProcessable("subtract",{bitDepth:[8,16]}),Ve=validateArrayOfChannels(this,{channels:Ve}),je=checkNumberArray(je),isNaN(je)){if(this.data.length!==je.length)throw new Error("subtract: the data size is different");for(let ze=0;ze<Ve.length;ze++){let qe=Ve[ze];for(let Xe=0;Xe<this.data.length;Xe+=this.channels)this.data[Xe+qe]=Math.max(0,Math.min(this.maxValue,this.data[Xe+qe]-je[Xe+qe]>>0))}}else for(let ze=0;ze<Ve.length;ze++){let qe=Ve[ze];for(let Xe=0;Xe<this.data.length;Xe+=this.channels)this.data[Xe+qe]=Math.max(0,this.data[Xe+qe]-je>>0)}return this}function subtractImage(je,$e={}){let{channels:Ve,absolute:ze=!1}=$e;if(this.checkProcessable("subtractImage",{bitDepth:[8,16]}),this.width!==je.width||this.height!==je.height)throw new Error("subtractImage: both images must have the same size");if(this.alpha!==je.alpha||this.bitDepth!==je.bitDepth)throw new Error("subtractImage: both images must have the same alpha and bitDepth");if(this.channels!==je.channels)throw new Error("subtractImage: both images must have the same number of channels");let qe=this.clone();Ve=validateArrayOfChannels(this,{channels:Ve});for(let Xe=0;Xe<Ve.length;Xe++){let We=Ve[Xe];for(let Ke=We;Ke<this.data.length;Ke+=this.channels){let Je=this.data[Ke]-je.data[Ke];ze?qe.data[Ke]=Math.abs(Je):qe.data[Ke]=Math.max(Je,0)}}return qe}function hypotenuse(je,$e={}){let{bitDepth:Ve=this.bitDepth,channels:ze}=$e;if(this.checkProcessable("hypotenuse",{bitDepth:[8,16,32]}),this.width!==je.width||this.height!==je.height)throw new Error("hypotenuse: both images must have the same size");if(this.alpha!==je.alpha||this.bitDepth!==je.bitDepth)throw new Error("hypotenuse: both images must have the same alpha and bitDepth");if(this.channels!==je.channels)throw new Error("hypotenuse: both images must have the same number of channels");let qe=Image$1.createFrom(this,{bitDepth:Ve});ze=validateArrayOfChannels(this,{channels:ze});let Xe=qe.isClamped;for(let We=0;We<ze.length;We++){let Ke=ze[We];for(let Je=Ke;Je<this.data.length;Je+=this.channels){let Ze=Math.hypot(this.data[Je],je.data[Je]);Xe?qe.data[Je]=Math.min(Math.max(Math.round(Ze),0),qe.maxValue):qe.data[Je]=Ze}}return qe}function multiply(je,$e={}){let{channels:Ve}=$e;if(this.checkProcessable("multiply",{bitDepth:[8,16]}),je<=0)throw new Error("multiply: the value must be greater than 0");if(Ve=validateArrayOfChannels(this,{channels:Ve}),je=checkNumberArray(je),isNaN(je)){if(this.data.length!==je.length)throw new Error("multiply: the data size is different");for(let ze=0;ze<Ve.length;ze++){let qe=Ve[ze];for(let Xe=0;Xe<this.data.length;Xe+=this.channels)this.data[Xe+qe]=Math.max(0,Math.min(this.maxValue,this.data[Xe+qe]*je[Xe+qe]>>0))}}else for(let ze=0;ze<Ve.length;ze++){let qe=Ve[ze];for(let Xe=0;Xe<this.data.length;Xe+=this.channels)this.data[Xe+qe]=Math.min(this.maxValue,this.data[Xe+qe]*je>>0)}return this}function divide(je,$e={}){let{channels:Ve}=$e;if(this.checkProcessable("divide",{bitDepth:[8,16]}),Ve=validateArrayOfChannels(this,{channels:Ve}),je=checkNumberArray(je),isNaN(je)){if(this.data.length!==je.length)throw new Error("divide: the: the data size is different");for(let ze=0;ze<Ve.length;ze++){let qe=Ve[ze];for(let Xe=0;Xe<this.data.length;Xe+=this.channels)this.data[Xe+qe]=Math.max(0,Math.min(this.maxValue,this.data[Xe+qe]/je[Xe+qe]>>0))}}else for(let ze=0;ze<Ve.length;ze++){let qe=Ve[ze];for(let Xe=0;Xe<this.data.length;Xe+=this.channels)this.data[Xe+qe]=Math.min(this.maxValue,this.data[Xe+qe]/je>>0)}return this}class BaseRegression{constructor(){if(new.target===BaseRegression)throw new Error("BaseRegression must be subclassed")}predict($e){if(typeof $e=="number")return this._predict($e);if(isAnyArray$1($e)){const Ve=[];for(let ze=0;ze<$e.length;ze++)Ve.push(this._predict($e[ze]));return Ve}else throw new TypeError("x must be a number or array")}_predict(){throw new Error("_predict must be implemented")}train(){}toString(){return""}toLaTeX(){return""}score($e,Ve){if(!isAnyArray$1($e)||!isAnyArray$1(Ve)||$e.length!==Ve.length)throw new Error("x and y must be arrays of the same length");const ze=$e.length,qe=new Array(ze);for(let ti=0;ti<ze;ti++)qe[ti]=this._predict($e[ti]);let Xe=0,We=0,Ke=0,Je=0,Ze=0,Qe=0,St=0;for(let ti=0;ti<ze;ti++)Xe+=qe[ti],We+=Ve[ti],Ze+=qe[ti]*qe[ti],Qe+=Ve[ti]*Ve[ti],St+=qe[ti]*Ve[ti],Ve[ti]!==0&&(Ke+=(Ve[ti]-qe[ti])*(Ve[ti]-qe[ti])/Ve[ti]),Je+=(Ve[ti]-qe[ti])*(Ve[ti]-qe[ti]);const ei=(ze*St-Xe*We)/Math.sqrt((ze*Ze-Xe*Xe)*(ze*Qe-We*We));return{r:ei,r2:ei*ei,chi2:Ke,rmsd:Math.sqrt(Je/ze)}}}function squaredEuclidean$4(je,$e){let Ve=0;for(let ze=0;ze<je.length;ze++)Ve+=(je[ze]-$e[ze])*(je[ze]-$e[ze]);return Ve}function euclidean$2(je,$e){return Math.sqrt(squaredEuclidean$4(je,$e))}const euclidean$3=Object.freeze(Object.defineProperty({__proto__:null,euclidean:euclidean$2,squaredEuclidean:squaredEuclidean$4},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(euclidean$3),{squaredEuclidean:squaredEuclidean$3}=require$$0,defaultOptions$b={sigma:1};let GaussianKernel$1=class{constructor(je){je=Object.assign({},defaultOptions$b,je),this.sigma=je.sigma,this.divisor=2*je.sigma*je.sigma}compute(je,$e){const Ve=squaredEuclidean$3(je,$e);return Math.exp(-Ve/this.divisor)}};var gaussianKernel=GaussianKernel$1;const defaultOptions$a={degree:1,constant:1,scale:1};let PolynomialKernel$1=class{constructor(je){je=Object.assign({},defaultOptions$a,je),this.degree=je.degree,this.constant=je.constant,this.scale=je.scale}compute(je,$e){for(var Ve=0,ze=0;ze<je.length;ze++)Ve+=je[ze]*$e[ze];return Math.pow(this.scale*Ve+this.constant,this.degree)}};var polynomialKernel=PolynomialKernel$1;const defaultOptions$9={alpha:.01,constant:-Math.E};let SigmoidKernel$1=class{constructor(je){je=Object.assign({},defaultOptions$9,je),this.alpha=je.alpha,this.constant=je.constant}compute(je,$e){for(var Ve=0,ze=0;ze<je.length;ze++)Ve+=je[ze]*$e[ze];return Math.tanh(this.alpha*Ve+this.constant)}};var sigmoidKernel=SigmoidKernel$1;const defaultOptions$8={sigma:1,degree:1};let ANOVAKernel$1=class{constructor(je){je=Object.assign({},defaultOptions$8,je),this.sigma=je.sigma,this.degree=je.degree}compute(je,$e){for(var Ve=0,ze=Math.min(je.length,$e.length),qe=1;qe<=ze;++qe)Ve+=Math.pow(Math.exp(-this.sigma*Math.pow(Math.pow(je[qe-1],qe)-Math.pow($e[qe-1],qe),2)),this.degree);return Ve}};var anovaKernel=ANOVAKernel$1;const{squaredEuclidean:squaredEuclidean$2}=require$$0,defaultOptions$7={sigma:1};let CauchyKernel$1=class{constructor(je){je=Object.assign({},defaultOptions$7,je),this.sigma=je.sigma}compute(je,$e){return 1/(1+squaredEuclidean$2(je,$e)/(this.sigma*this.sigma))}};var cauchyKernel=CauchyKernel$1;const{euclidean:euclidean$1}=require$$0,defaultOptions$6={sigma:1};let ExponentialKernel$1=class{constructor(je){je=Object.assign({},defaultOptions$6,je),this.sigma=je.sigma,this.divisor=2*je.sigma*je.sigma}compute(je,$e){const Ve=euclidean$1(je,$e);return Math.exp(-Ve/this.divisor)}};var exponentialKernel=ExponentialKernel$1;class HistogramIntersectionKernel{compute($e,Ve){for(var ze=Math.min($e.length,Ve.length),qe=0,Xe=0;Xe<ze;++Xe)qe+=Math.min($e[Xe],Ve[Xe]);return qe}}var histogramIntersectionKernel=HistogramIntersectionKernel;const{euclidean}=require$$0,defaultOptions$5={sigma:1};let LaplacianKernel$1=class{constructor(je){je=Object.assign({},defaultOptions$5,je),this.sigma=je.sigma}compute(je,$e){const Ve=euclidean(je,$e);return Math.exp(-Ve/this.sigma)}};var laplacianKernel=LaplacianKernel$1;const{squaredEuclidean:squaredEuclidean$1}=require$$0,defaultOptions$4={constant:1};let MultiquadraticKernel$1=class{constructor(je){je=Object.assign({},defaultOptions$4,je),this.constant=je.constant}compute(je,$e){return Math.sqrt(squaredEuclidean$1(je,$e)+this.constant*this.constant)}};var multiquadraticKernel=MultiquadraticKernel$1;const{squaredEuclidean}=require$$0,defaultOptions$3={constant:1};class RationalQuadraticKernel{constructor($e){$e=Object.assign({},defaultOptions$3,$e),this.constant=$e.constant}compute($e,Ve){const ze=squaredEuclidean($e,Ve);return 1-ze/(ze+this.constant)}}var rationalQuadraticKernel=RationalQuadraticKernel;const{Matrix:Matrix$1,MatrixTransposeView}=matrix,GaussianKernel=gaussianKernel,PolynomialKernel=polynomialKernel,SigmoidKernel=sigmoidKernel,ANOVAKernel=anovaKernel,CauchyKernel=cauchyKernel,ExponentialKernel=exponentialKernel,HistogramKernel=histogramIntersectionKernel,LaplacianKernel=laplacianKernel,MultiquadraticKernel=multiquadraticKernel,RationalKernel=rationalQuadraticKernel,kernelType={gaussian:GaussianKernel,rbf:GaussianKernel,polynomial:PolynomialKernel,poly:PolynomialKernel,anova:ANOVAKernel,cauchy:CauchyKernel,exponential:ExponentialKernel,histogram:HistogramKernel,min:HistogramKernel,laplacian:LaplacianKernel,multiquadratic:MultiquadraticKernel,rational:RationalKernel,sigmoid:SigmoidKernel,mlp:SigmoidKernel};class Kernel{constructor($e,Ve){if(this.kernelType=$e,$e!=="linear")if(typeof $e=="string"){$e=$e.toLowerCase();var ze=kernelType[$e];if(ze)this.kernelFunction=new ze(Ve);else throw new Error(`unsupported kernel type: ${$e}`)}else if(typeof $e=="object"&&typeof $e.compute=="function")this.kernelFunction=$e;else throw new TypeError("first argument must be a valid kernel type or instance")}compute($e,Ve){if($e=Matrix$1.checkMatrix($e),Ve===void 0?Ve=$e:Ve=Matrix$1.checkMatrix(Ve),this.kernelType==="linear")return $e.mmul(new MatrixTransposeView(Ve));const ze=new Matrix$1($e.rows,Ve.rows);if($e===Ve)for(let qe=0;qe<$e.rows;qe++)for(let Xe=qe;Xe<$e.rows;Xe++){const We=this.kernelFunction.compute($e.getRow(qe),$e.getRow(Xe));ze.set(qe,Xe,We),ze.set(Xe,qe,We)}else for(let qe=0;qe<$e.rows;qe++)for(let Xe=0;Xe<Ve.rows;Xe++)ze.set(qe,Xe,this.kernelFunction.compute($e.getRow(qe),Ve.getRow(Xe)));return ze}}var kernel=Kernel;const Kernel$1=getDefaultExportFromCjs$1(kernel),defaultOptions$2={lambda:.1,kernelType:"gaussian",kernelOptions:{},computeCoefficient:!1};class KernelRidgeRegression extends BaseRegression{constructor($e,Ve,ze){if(super(),$e===!0)this.alpha=Ve.alpha,this.inputs=Ve.inputs,this.kernelType=Ve.kernelType,this.kernelOptions=Ve.kernelOptions,this.kernel=new Kernel$1(Ve.kernelType,Ve.kernelOptions);else{$e=Matrix$2.checkMatrix($e),ze=Object.assign({},defaultOptions$2,ze);const qe=new Kernel$1(ze.kernelType,ze.kernelOptions),Xe=qe.compute($e),We=$e.rows;Xe.add(Matrix$2.eye(We,We).mul(ze.lambda)),this.alpha=solve(Xe,Ve),this.inputs=$e,this.kernelType=ze.kernelType,this.kernelOptions=ze.kernelOptions,this.kernel=qe}}_predict($e){return this.kernel.compute([$e],this.inputs).mmul(this.alpha).getRow(0)}toJSON(){return{name:"kernelRidgeRegression",alpha:this.alpha,inputs:this.inputs,kernelType:this.kernelType,kernelOptions:this.kernelOptions}}static load($e){if($e.name!=="kernelRidgeRegression")throw new TypeError("not a KRR model");return new KernelRidgeRegression(!0,$e)}}function background$1(je,$e,Ve){const ze=new KernelRidgeRegression(je,$e,Ve),qe=new Array(this.size);for(let Ke=0;Ke<this.width;Ke++)for(let Je=0;Je<this.height;Je++)qe[Je*this.width+Ke]=[Ke,Je];const Xe=ze.predict(qe),We=Image$1.createFrom(this);for(let Ke=0;Ke<this.size;Ke++)We.data[Ke]=Math.min(this.maxValue,Math.max(0,Xe[Ke][0]));return We}function dilate(je={}){let{kernel:$e=[[1,1,1],[1,1,1],[1,1,1]],iterations:Ve=1}=je;if(this.checkProcessable("dilate",{bitDepth:[1,8,16],components:1,alpha:0}),$e.columns%2===0||$e.rows%2===0)throw new TypeError("dilate: The number of rows and columns of the kernel must be odd");let ze=!0;e:for(const Xe of $e)for(const We of Xe)if(We!==1){ze=!1;break e}let qe=this;for(let Xe=0;Xe<Ve;Xe++)if(this.bitDepth===1)if(ze){const We=qe.clone();qe=dilateOnceBinaryOnlyOnes(qe,We,$e.length,$e[0].length)}else{const We=Image$1.createFrom(qe);qe=dilateOnceBinary(qe,We,$e)}else if(ze){const We=Image$1.createFrom(qe);qe=dilateOnceGreyOnlyOnes(qe,We,$e.length,$e[0].length)}else{const We=Image$1.createFrom(qe);qe=dilateOnceGrey(qe,We,$e)}return qe}function dilateOnceGrey(je,$e,Ve){const ze=Ve.length,qe=Ve[0].length;let Xe=(ze-1)/2,We=(qe-1)/2;for(let Ke=0;Ke<je.height;Ke++)for(let Je=0;Je<je.width;Je++){let Ze=0;for(let Qe=0;Qe<qe;Qe++)for(let St=0;St<ze;St++){if(Ve[St][Qe]!==1)continue;let ei=St-Xe+Je,ti=Qe-We+Ke;if(ei<0||ti<0||ei>=je.width||ti>=je.height)continue;const ni=je.getValueXY(ei,ti,0);ni>Ze&&(Ze=ni)}$e.setValueXY(Je,Ke,0,Ze)}return $e}function dilateOnceGreyOnlyOnes(je,$e,Ve,ze){const qe=(Ve-1)/2,Xe=(ze-1)/2,We=[];for(let Ke=0;Ke<je.width;Ke++)We.push(0);for(let Ke=0;Ke<je.height;Ke++){for(let Je=0;Je<je.width;Je++){let Ze=0;for(let Qe=Math.max(0,Ke-Xe);Qe<Math.min(je.height,Ke+Xe+1);Qe++){const St=je.getValueXY(Je,Qe,0);St>Ze&&(Ze=St)}We[Je]=Ze}for(let Je=0;Je<je.width;Je++){let Ze=0;for(let Qe=Math.max(0,Je-qe);Qe<Math.min(je.width,Je+qe+1);Qe++)We[Qe]>Ze&&(Ze=We[Qe]);$e.setValueXY(Je,Ke,0,Ze)}}return $e}function dilateOnceBinary(je,$e,Ve){const ze=Ve.length,qe=Ve[0].length;let Xe=(ze-1)/2,We=(qe-1)/2;for(let Ke=0;Ke<je.height;Ke++)for(let Je=0;Je<je.width;Je++){let Ze=0;e:for(let Qe=0;Qe<qe;Qe++)for(let St=0;St<ze;St++){if(Ve[St][Qe]!==1)continue;let ei=St-Xe+Je,ti=Qe-We+Ke;if(!(ti<0||ei<0||ei>=je.width||ti>=je.height)&&je.getBitXY(ei,ti)===1){Ze=1;break e}}Ze===1&&$e.setBitXY(Je,Ke)}return $e}function dilateOnceBinaryOnlyOnes(je,$e,Ve,ze){const qe=(Ve-1)/2,Xe=(ze-1)/2,We=[];for(let Ke=0;Ke<je.width;Ke++)We.push(1);for(let Ke=0;Ke<je.height;Ke++){for(let Je=0;Je<je.width;Je++){We[Je]=0;for(let Ze=Math.max(0,Ke-Xe);Ze<Math.min(je.height,Ke+Xe+1);Ze++)if(je.getBitXY(Je,Ze)===1){We[Je]=1;break}}for(let Je=0;Je<je.width;Je++)if($e.getBitXY(Je,Ke)!==1){for(let Ze=Math.max(0,Je-qe);Ze<Math.min(je.width,Je+qe+1);Ze++)if(We[Ze]===1){$e.setBitXY(Je,Ke);break}}}return $e}function erode(je={}){let{kernel:$e=[[1,1,1],[1,1,1],[1,1,1]],iterations:Ve=1}=je;if(this.checkProcessable("erode",{bitDepth:[1,8,16],components:1,alpha:0}),$e.columns%2===0||$e.rows%2===0)throw new TypeError("erode: The number of rows and columns of the kernel must be odd");let ze=!0;e:for(const Xe of $e)for(const We of Xe)if(We!==1){ze=!1;break e}let qe=this;for(let Xe=0;Xe<Ve;Xe++)if(this.bitDepth===1)if(ze){const We=qe.clone();qe=erodeOnceBinaryOnlyOnes(qe,We,$e.length,$e[0].length)}else{const We=Image$1.createFrom(qe);qe=erodeOnceBinary(qe,We,$e)}else if(ze){const We=Image$1.createFrom(qe);qe=erodeOnceGreyOnlyOnes(qe,We,$e.length,$e[0].length)}else{const We=Image$1.createFrom(qe);qe=erodeOnceGrey(qe,We,$e)}return qe}function erodeOnceGrey(je,$e,Ve){const ze=Ve.length,qe=Ve[0].length;let Xe=(ze-1)/2,We=(qe-1)/2;for(let Ke=0;Ke<je.height;Ke++)for(let Je=0;Je<je.width;Je++){let Ze=je.maxValue;for(let Qe=0;Qe<qe;Qe++)for(let St=0;St<ze;St++){if(Ve[St][Qe]!==1)continue;let ei=St-Xe+Je,ti=Qe-We+Ke;if(ei<0||ti<0||ei>=je.width||ti>=je.height)continue;const ni=je.getValueXY(ei,ti,0);ni<Ze&&(Ze=ni)}$e.setValueXY(Je,Ke,0,Ze)}return $e}function erodeOnceGreyOnlyOnes(je,$e,Ve,ze){const qe=(Ve-1)/2,Xe=(ze-1)/2,We=[];for(let Ke=0;Ke<je.width;Ke++)We.push(0);for(let Ke=0;Ke<je.height;Ke++){for(let Je=0;Je<je.width;Je++){let Ze=je.maxValue;for(let Qe=Math.max(0,Ke-Xe);Qe<Math.min(je.height,Ke+Xe+1);Qe++){const St=je.getValueXY(Je,Qe,0);St<Ze&&(Ze=St)}We[Je]=Ze}for(let Je=0;Je<je.width;Je++){let Ze=je.maxValue;for(let Qe=Math.max(0,Je-qe);Qe<Math.min(je.width,Je+qe+1);Qe++)We[Qe]<Ze&&(Ze=We[Qe]);$e.setValueXY(Je,Ke,0,Ze)}}return $e}function erodeOnceBinary(je,$e,Ve){const ze=Ve.length,qe=Ve[0].length;let Xe=(ze-1)/2,We=(qe-1)/2;for(let Ke=0;Ke<je.height;Ke++)for(let Je=0;Je<je.width;Je++){let Ze=1;e:for(let Qe=0;Qe<qe;Qe++)for(let St=0;St<ze;St++){if(Ve[St][Qe]!==1)continue;let ei=St-Xe+Je,ti=Qe-We+Ke;if(!(ti<0||ei<0||ei>=je.width||ti>=je.height)&&je.getBitXY(ei,ti)===0){Ze=0;break e}}Ze===1&&$e.setBitXY(Je,Ke)}return $e}function erodeOnceBinaryOnlyOnes(je,$e,Ve,ze){const qe=(Ve-1)/2,Xe=(ze-1)/2,We=[];for(let Ke=0;Ke<je.width;Ke++)We.push(0);for(let Ke=0;Ke<je.height;Ke++){for(let Je=0;Je<je.width;Je++){We[Je]=1;for(let Ze=Math.max(0,Ke-Xe);Ze<Math.min(je.height,Ke+Xe+1);Ze++)if(je.getBitXY(Je,Ze)===0){We[Je]=0;break}}for(let Je=0;Je<je.width;Je++)if($e.getBitXY(Je,Ke)!==0){for(let Ze=Math.max(0,Je-qe);Ze<Math.min(je.width,Je+qe+1);Ze++)if(We[Ze]===0){$e.clearBitXY(Je,Ke);break}}}return $e}function open$1(je={}){let{kernel:$e=[[1,1,1],[1,1,1],[1,1,1]],iterations:Ve=1}=je;if(this.checkProcessable("open",{bitDepth:[8,16],components:1,alpha:0}),$e.columns%2===0||$e.rows%2===0)throw new TypeError("open: The number of rows and columns of the kernel must be odd");let ze=this;for(let qe=0;qe<Ve;qe++)ze=ze.erode({kernel:$e}),ze=ze.dilate({kernel:$e});return ze}function close(je={}){let{kernel:$e=[[1,1,1],[1,1,1],[1,1,1]],iterations:Ve=1}=je;if(this.checkProcessable("close",{bitDepth:[1,8,16],components:1,alpha:0}),$e.columns%2===0||$e.rows%2===0)throw new TypeError("close: The number of rows and columns of the kernel must be odd");let ze=this;for(let qe=0;qe<Ve;qe++)ze=ze.dilate({kernel:$e}).erode({kernel:$e});return ze}function topHat(je={}){let{kernel:$e=[[1,1,1],[1,1,1],[1,1,1]],iterations:Ve=1}=je;if(this.checkProcessable("topHat",{bitDepth:[8,16],components:1,alpha:0}),$e.length%2===0||$e[0].length%2===0)throw new TypeError("topHat: The number of rows and columns of the kernel must be odd");let ze=this;for(let qe=0;qe<Ve;qe++)ze=ze.open({kernel:$e}).subtractImage(ze,{absolute:!0});return ze}function blackHat(je={}){let{kernel:$e=[[1,1,1],[1,1,1],[1,1,1]],iterations:Ve=1}=je;if(this.checkProcessable("blackHat",{bitDepth:[8,16],components:1,alpha:0}),$e.columns%2===0||$e.rows%2===0)throw new TypeError("blackHat: The number of rows and columns of the kernel must be odd");let ze=this;for(let qe=0;qe<Ve;qe++)ze=ze.close({kernel:$e}).subtractImage(ze,{absolute:!0});return ze}function morphologicalGradient(je={}){let{kernel:$e=[[1,1,1],[1,1,1],[1,1,1]],iterations:Ve=1}=je;if(this.checkProcessable("morphologicalGradient",{bitDepth:[8,16],components:1,alpha:0}),$e.columns%2===0||$e.rows%2===0)throw new TypeError("morphologicalGradient: The number of rows and columns of the kernel must be odd");let ze=this;for(let qe=0;qe<Ve;qe++){let Xe=ze.dilate({kernel:$e}),We=ze.erode({kernel:$e});ze=Xe.subtractImage(We,{absolute:!0})}return ze}function order4Points(je){let $e=0,Ve=0,ze=0,qe=0,Xe=je[0][0],We=0;for(let Ze=1;Ze<je.length;Ze++)je[Ze][0]<Xe&&(Xe=je[Ze][0],We=Ze);let Ke=je[(We+1)%je.length][0],Je=(We+1)%je.length;for(let Ze=1;Ze<je.length;Ze++)je[Ze][0]<Ke&&Ze!==We&&(Ke=je[Ze][0],Je=Ze);return je[Je][1]<je[We][1]?($e=je[Je],qe=je[We],We!==(Je+1)%4?(Ve=je[(Je+1)%4],ze=je[(Je+2)%4]):(Ve=je[(Je+2)%4],ze=je[(Je+3)%4])):(qe=je[Je],$e=je[We],Je!==(We+1)%4?(Ve=je[(We+1)%4],ze=je[(We+2)%4]):(Ve=je[(We+2)%4],ze=je[(We+3)%4])),[$e,Ve,ze,qe]}function distance2Points(je,$e){return Math.sqrt(Math.pow(je[0]-$e[0],2)+Math.pow(je[1]-$e[1],2))}function crossVect(je,$e){return[je[1]*$e[2]-je[2]*$e[1],je[2]*$e[0]-je[0]*$e[2],je[0]*$e[1]-je[1]*$e[0]]}function dotVect(je,$e){return je[0]*$e[0]+je[1]*$e[1]+je[2]*$e[2]}function computeWidthAndHeigth(je,$e,Ve,ze,qe,Xe){let We=Math.max(distance2Points(je,$e),distance2Points(ze,Ve)),Ke=Math.max(distance2Points(je,ze),distance2Points($e,Ve)),Je=0,Ze=0,Qe=Math.ceil(qe/2),St=Math.ceil(Xe/2),ei=We/Ke,ti=[je[0],je[1],1],ni=[$e[0],$e[1],1],oi=[ze[0],ze[1],1],ai=[Ve[0],Ve[1],1],si=dotVect(crossVect(ti,ai),oi)/dotVect(crossVect(ni,ai),oi),ri=dotVect(crossVect(ti,ai),ni)/dotVect(crossVect(oi,ai),ni),ii=[si*ni[0]-ti[0],si*ni[1]-ti[1],si*ni[2]-ti[2]],ui=[ri*oi[0]-ti[0],ri*oi[1]-ti[1],ri*oi[2]-ti[2]],ci=ii[0],hi=ii[1],mi=ii[2],di=ui[0],fi=ui[1],yi=ui[2],pi=1/(mi*yi)*(ci*di-(ci*yi+mi*di)*Qe+mi*yi*Qe*Qe+(hi*fi-(hi*yi+mi*fi)*St+mi*yi*St*St));pi>=0?pi=Math.sqrt(pi):pi=Math.sqrt(-pi);let xi=new Matrix$2([[pi,0,Qe],[0,pi,St],[0,0,1]]),Si=xi.transpose(),vi=inverse(Si),Di=inverse(xi),Ti=Matrix$2.rowVector(ii),Fi=Matrix$2.rowVector(ui),Ci=Math.sqrt(dotVect(Ti.mmul(vi).mmul(Di).to1DArray(),ii)/dotVect(Fi.mmul(vi).mmul(Di).to1DArray(),ui));return Ci===0||ei===0?(Je=Math.ceil(We),Ze=Math.ceil(Ke)):Ci<ei?(Je=Math.ceil(We),Ze=Math.ceil(Je/Ci)):(Ze=Math.ceil(Ke),Je=Math.ceil(Ci*Ze)),[Je,Ze]}function projectionPoint(je,$e,Ve,ze,qe,Xe,We,Ke,Je,Ze,Qe,St){let[ei,ti]=[(Ve*je+ze*$e+qe)/(Je*je+Ze*$e+1),(Xe*je+We*$e+Ke)/(Je*je+Ze*$e+1)];return Qe.getValueXY(Math.floor(ei),Math.floor(ti),St)}function warpingFourPoints(je,$e={}){let{calculateRatio:Ve=!0}=$e;if(je.length!==4)throw new Error(`The array pts must have four elements, which are the four corners. Currently, pts have ${je.length} elements`);let[ze,qe,Xe,We]=je,Ke=[ze,qe,Xe,We],[Je,Ze,Qe,St]=order4Points(Ke),ei,ti;Ve?[ei,ti]=computeWidthAndHeigth(Je,Ze,Qe,St,this.width,this.height):(ei=Math.ceil(Math.max(distance2Points(Je,Ze),distance2Points(St,Qe))),ti=Math.ceil(Math.max(distance2Points(Je,St),distance2Points(Ze,Qe))));let ni=Image$1.createFrom(this,{width:ei,height:ti}),[oi,ai]=Je,[si,ri]=Ze,[ii,ui]=Qe,[ci,hi]=St,[mi,di]=[0,0],[fi,yi]=[0,ei-1],[pi,xi]=[ti-1,ei-1],[Si,vi]=[ti-1,0],Di=new Matrix$2([[mi,di,1,0,0,0,-mi*oi,-di*oi],[fi,yi,1,0,0,0,-fi*si,-yi*si],[pi,xi,1,0,0,0,-pi*ii,-di*ii],[Si,vi,1,0,0,0,-Si*ci,-vi*ci],[0,0,0,mi,di,1,-mi*ai,-di*ai],[0,0,0,fi,yi,1,-fi*ri,-yi*ri],[0,0,0,pi,xi,1,-pi*ui,-xi*ui],[0,0,0,Si,vi,1,-Si*hi,-vi*hi]]),Ti=Matrix$2.columnVector([oi,si,ii,ci,ai,ri,ui,hi]),Fi=new SingularValueDecomposition(Di).solve(Ti),[Ci,Ni,Ri,Yi,ki,ji,Vi,Bi]=Fi.to1DArray(),Xi=new Matrix$2(ti,ei);for(let en=0;en<this.channels;en++){for(let tn=0;tn<ti;tn++)for(let Ji=0;Ji<ei;Ji++)Xi.set(tn,Ji,projectionPoint(tn,Ji,Ci,Ni,Ri,Yi,ki,ji,Vi,Bi,this,en));ni.setMatrix(Xi,{channel:en})}return ni}function crop(je={}){let{x:$e=0,y:Ve=0,width:ze=this.width-$e,height:qe=this.height-Ve}=je;if(this.checkProcessable("crop",{bitDepth:[1,8,16]}),$e=Math.round($e),Ve=Math.round(Ve),ze=Math.round(ze),qe=Math.round(qe),$e>this.width-1||Ve>this.height-1)throw new RangeError(`crop: origin (x:${$e}, y:${Ve}) out of range (${this.width-1}; ${this.height-1})`);if(ze<=0||qe<=0)throw new RangeError(`crop: width and height (width:${ze}; height:${qe}) must be positive numbers`);if($e<0||Ve<0)throw new RangeError(`crop: x and y (x:${$e}, y:${Ve}) must be positive numbers`);if(ze>this.width-$e||qe>this.height-Ve)throw new RangeError(`crop: (x: ${$e}, y:${Ve}, width:${ze}, height:${qe}) size is out of range`);let Xe=this;if(this.bitDepth===1){const We=new Image$1(ze,qe,{kind:"BINARY",parent:this});Xe=cropBinary(this,We,$e,Ve,ze,qe)}else{const We=Image$1.createFrom(this,{width:ze,height:qe,position:[$e,Ve]});Xe=cropDefault(this,We,$e,Ve,ze,qe)}return Xe}function cropDefault(je,$e,Ve,ze,qe,Xe){let We=qe*je.channels,Ke=ze+Xe,Je=0,Ze=Ve*je.channels;for(let Qe=ze;Qe<Ke;Qe++){let St=Qe*je.width*je.channels+Ze,ei=St+We;for(;St<ei;St++)$e.data[Je++]=je.data[St]}return $e}function cropBinary(je,$e,Ve,ze,qe,Xe){let We=qe*je.channels,Ke=ze+Xe,Je=0,Ze=Ve*je.channels;for(let Qe=ze;Qe<Ke;Qe++){let St=Qe*je.width*je.channels+Ze,ei=St+We;for(;St<ei;St++)je.getBit(St)&&$e.setBit(Je),++Je}return $e}function cropAlpha(je={}){this.checkProcessable("cropAlpha",{alpha:1});const{threshold:$e=this.maxValue}=je;let Ve=findLeft(this,$e,this.components);if(Ve===-1)throw new Error("Could not find new dimensions. Threshold may be too high.");let ze=findTop(this,$e,this.components,Ve),qe=findBottom(this,$e,this.components,Ve),Xe=findRight(this,$e,this.components,Ve,ze,qe);return this.crop({x:Ve,y:ze,width:Xe-Ve+1,height:qe-ze+1})}function findLeft(je,$e,Ve){for(let ze=0;ze<je.width;ze++)for(let qe=0;qe<je.height;qe++)if(je.getValueXY(ze,qe,Ve)>=$e)return ze;return-1}function findTop(je,$e,Ve,ze){for(let qe=0;qe<je.height;qe++)for(let Xe=ze;Xe<je.width;Xe++)if(je.getValueXY(Xe,qe,Ve)>=$e)return qe;return-1}function findBottom(je,$e,Ve,ze){for(let qe=je.height-1;qe>=0;qe--)for(let Xe=ze;Xe<je.width;Xe++)if(je.getValueXY(Xe,qe,Ve)>=$e)return qe;return-1}function findRight(je,$e,Ve,ze,qe,Xe){for(let We=je.width-1;We>=ze;We--)for(let Ke=qe;Ke<=Xe;Ke++)if(je.getValueXY(We,Ke,Ve)>=$e)return We;return-1}function getFactor(je){if(typeof je=="string"){const $e=je[je.length-1];je=parseFloat(je),$e==="%"&&(je/=100)}return je}function getThreshold$1(je,$e){if(!$e)throw Error("getThreshold : the maxValue should be specified");if(typeof je=="string"){if(je[je.length-1]!=="%")throw Error("getThreshold : if the value is a string it must finish by %");return parseFloat(je)/100*$e}else{if(typeof je=="number")return je<1?je*$e:je;throw Error("getThreshold : the value is not valid")}}function factorDimensions(je,$e,Ve){je=getFactor(je);let ze=Math.round(je*$e),qe=Math.round(je*Ve);return ze<=0&&(ze=1),qe<=0&&(qe=1),{width:ze,height:qe}}function checkRow(je,$e){if($e<0||$e>=je.height)throw new RangeError(`row must be included between 0 and ${je.height-1}. Current value: ${$e}`)}function checkColumn(je,$e){if($e<0||$e>=je.width)throw new RangeError(`column must be included between 0 and ${je.width-1}. Current value: ${$e}`)}function checkChannel(je,$e){if($e<0||$e>=je.channels)throw new RangeError(`channel must be included between 0 and ${je.channels-1}. Current value: ${$e}`)}const validInterpolations={nearestneighbor:"nearestNeighbor",nearestneighbour:"nearestNeighbor",bilinear:"bilinear"};function checkInterpolation(je){if(typeof je!="string")throw new TypeError("interpolation must be a string");if(je=je.toLowerCase(),!validInterpolations[je])throw new RangeError(`invalid interpolation algorithm: ${je}`);return validInterpolations[je]}function nearestNeighbor(je,$e,Ve){const ze=this.width/$e,qe=this.height/Ve;if(this.bitDepth>1)for(let Xe=0;Xe<$e;Xe++){const We=Math.floor((Xe+.5)*ze);for(let Ke=0;Ke<Ve;Ke++){const Je=Math.floor((Ke+.5)*qe);for(let Ze=0;Ze<this.channels;Ze++)je.setValueXY(Xe,Ke,Ze,this.getValueXY(We,Je,Ze))}}else for(let Xe=0;Xe<$e;Xe++){const We=Math.floor((Xe+.5)*ze);for(let Ke=0;Ke<Ve;Ke++){const Je=Math.floor((Ke+.5)*qe);this.getBitXY(We,Je)&&je.setBitXY(Xe,Ke)}}}function resize(je={}){const{factor:$e=1,interpolation:Ve=validInterpolations.nearestneighbor,preserveAspectRatio:ze=!0}=je,qe=checkInterpolation(Ve);let Xe=je.width,We=je.height;if(Xe||(We&&ze?Xe=Math.round(We*(this.width/this.height)):Xe=this.width),We||(ze?We=Math.round(Xe*(this.height/this.width)):We=this.height),{width:Xe,height:We}=factorDimensions($e,Xe,We),Xe===this.width&&We===this.height){const Qe=this.clone();return Qe.position=[0,0],Qe}let Ke=Math.round((this.width-Xe)/2),Je=Math.round((this.height-We)/2);const Ze=Image$1.createFrom(this,{width:Xe,height:We,position:[Ke,Je]});switch(qe){case validInterpolations.nearestneighbor:nearestNeighbor.call(this,Ze,Xe,We);break;default:throw new Error(`unsupported resize interpolation: ${qe}`)}return Ze}function hsv(){this.checkProcessable("hsv",{bitDepth:[8,16],alpha:[0,1],colorModel:[RGB$1]});let je=Image$1.createFrom(this,{colorModel:HSV}),$e=0,Ve=this.data;for(let ze=0;ze<Ve.length;ze+=this.channels){let qe=Ve[ze],Xe=Ve[ze+1],We=Ve[ze+2],Ke=Math.min(qe,Xe,We),Je=Math.max(qe,Xe,We),Ze=Je-Ke,Qe=0,St=Je===0?0:Ze/Je,ei=Je;if(Je!==Ke){switch(Je){case qe:Qe=(Xe-We)/Ze+(Xe<We?6:0);break;case Xe:Qe=(We-qe)/Ze+2;break;case We:Qe=(qe-Xe)/Ze+4;break;default:throw new Error("unreachable")}Qe/=6}je.data[$e++]=Qe*this.maxValue,je.data[$e++]=St*this.maxValue,je.data[$e++]=ei,this.alpha&&(je.data[$e++]=Ve[ze+3])}return je}function hsl$1(){this.checkProcessable("hsl",{bitDepth:[8,16],alpha:[0,1],colorModel:[RGB$1]});let je=Image$1.createFrom(this,{colorModel:HSL}),$e=Math.floor(this.maxValue/2),Ve=0,ze=this.data;for(let qe=0;qe<ze.length;qe+=this.channels){let Xe=ze[qe],We=ze[qe+1],Ke=ze[qe+2],Je=Math.max(Xe,We,Ke),Ze=Math.min(Xe,We,Ke),Qe=0,St=0,ei=(Je+Ze)/2;if(Je!==Ze){let ti=Je-Ze;switch(St=ei>$e?ti/(2-Je-Ze):ti/(Je+Ze),Je){case Xe:Qe=(We-Ke)/ti+(We<Ke?6:0);break;case We:Qe=(Ke-Xe)/ti+2;break;case Ke:Qe=(Xe-We)/ti+4;break;default:throw new Error("unreachable")}Qe/=6}je.data[Ve++]=Qe*this.maxValue,je.data[Ve++]=St*this.maxValue,je.data[Ve++]=ei,this.alpha&&(je.data[Ve++]=ze[qe+3])}return je}function cmyk(){this.checkProcessable("cmyk",{bitDepth:[8,16],alpha:[0,1],colorModel:[RGB$1]});let je=Image$1.createFrom(this,{components:4,colorModel:CMYK$1}),$e=0,Ve=this.data;for(let ze=0;ze<Ve.length;ze+=this.channels){let qe=Ve[ze],Xe=Ve[ze+1],We=Ve[ze+2],Ke=Math.min(this.maxValue-qe,this.maxValue-Xe,this.maxValue-We),Je=(this.maxValue-qe-Ke)/(1-Ke/this.maxValue),Ze=(this.maxValue-Xe-Ke)/(1-Ke/this.maxValue),Qe=(this.maxValue-We-Ke)/(1-Ke/this.maxValue);je.data[$e++]=Math.round(Je),je.data[$e++]=Math.round(Ze),je.data[$e++]=Math.round(Qe),je.data[$e++]=Math.round(Ke),this.alpha&&(je.data[$e++]=Ve[ze+3])}return je}function rgba8(){return new Image$1(this.width,this.height,this.getRGBAData(),{kind:"RGBA",parent:this})}const methods$1={luma709(je,$e,Ve){return je*6966+$e*23436+Ve*2366>>15},luma601(je,$e,Ve){return je*9798+$e*19235+Ve*3735>>15},maximum(je,$e,Ve){return Math.max(je,$e,Ve)},minimum(je,$e,Ve){return Math.min(je,$e,Ve)},average(je,$e,Ve){return(je+$e+Ve)/3>>0},minmax(je,$e,Ve){return(Math.max(je,$e,Ve)+Math.min(je,$e,Ve))/2},red(je){return je},green(je,$e){return $e},blue(je,$e,Ve){return Ve},cyan(je,$e,Ve,ze){let qe=methods$1.black(je,$e,Ve,ze);return(ze.maxValue-je-qe)/(1-qe/ze.maxValue)>>0},magenta(je,$e,Ve,ze){let qe=methods$1.black(je,$e,Ve,ze);return(ze.maxValue-$e-qe)/(1-qe/ze.maxValue)>>0},yellow(je,$e,Ve,ze){let qe=methods$1.black(je,$e,Ve,ze);return(ze.maxValue-Ve-qe)/(1-qe/ze.maxValue)>>0},black(je,$e,Ve,ze){return Math.min(ze.maxValue-je,ze.maxValue-$e,ze.maxValue-Ve)},hue(je,$e,Ve,ze){let qe=methods$1.min(je,$e,Ve),Xe=methods$1.max(je,$e,Ve);if(Xe===qe)return 0;let We=0,Ke=Xe-qe;switch(Xe){case je:We=($e-Ve)/Ke+($e<Ve?6:0);break;case $e:We=(Ve-je)/Ke+2;break;case Ve:We=(je-$e)/Ke+4;break;default:throw new Error("unreachable")}return We/6*ze.maxValue>>0},saturation(je,$e,Ve,ze){let qe=methods$1.min(je,$e,Ve),Xe=methods$1.max(je,$e,Ve),We=Xe-qe;return Xe===0?0:We/Xe*ze.maxValue},lightness(je,$e,Ve){let ze=methods$1.min(je,$e,Ve);return(methods$1.max(je,$e,Ve)+ze)/2}};Object.defineProperty(methods$1,"luminosity",{enumerable:!1,value:methods$1.lightness});Object.defineProperty(methods$1,"luminance",{enumerable:!1,value:methods$1.lightness});Object.defineProperty(methods$1,"min",{enumerable:!1,value:methods$1.minimum});Object.defineProperty(methods$1,"max",{enumerable:!1,value:methods$1.maximum});Object.defineProperty(methods$1,"brightness",{enumerable:!1,value:methods$1.maximum});Object.keys(methods$1).forEach(je=>{});function grey(je={}){let{algorithm:$e="luma709",keepAlpha:Ve=!1,mergeAlpha:ze=!0}=je;if(typeof $e!="string"&&typeof $e!="function")throw new TypeError("algorithm must be a string or a function");this.checkProcessable("grey",{bitDepth:[8,16],alpha:[0,1]}),this.components===1&&($e="red"),Ve&=this.alpha,ze&=this.alpha,Ve&&(ze=!1);let qe=getOutputImage(this,je,{components:1,alpha:Ve,colorModel:GREY$1}),Xe;if(typeof $e=="function")Xe=$e;else if(Xe=methods$1[$e.toLowerCase()],!Xe)throw new Error(`unsupported grey algorithm: ${$e}`);let We=0;for(let Ke=0;Ke<this.data.length;Ke+=this.channels)ze?qe.data[We++]=clamp(Xe(this.data[Ke],this.data[Ke+1],this.data[Ke+2],this)*this.data[Ke+this.components]/this.maxValue,this):(qe.data[We++]=clamp(Xe(this.data[Ke],this.data[Ke+1],this.data[Ke+2],this),this),qe.alpha&&(qe.data[We++]=this.data[Ke+this.components]));return qe}function huang(je){let $e=0;for(let Qe=0;Qe<je.length;Qe++)if(je[Qe]!==0){$e=Qe;break}let Ve=je.length-1;for(let Qe=je.length-1;Qe>=$e;Qe--)if(je[Qe]!==0){Ve=Qe;break}let ze=1/(Ve-$e),qe=new Array(je.length),Xe=0,We=0;for(let Qe=$e;Qe<je.length;Qe++)Xe+=Qe*je[Qe],We+=je[Qe],qe[Qe]=Xe/We;let Ke=new Array(je.length);Xe=We=0;for(let Qe=Ve;Qe>0;Qe--)Xe+=Qe*je[Qe],We+=je[Qe],Ke[Qe-1]=Xe/We;let Je=-1,Ze=Number.MAX_VALUE;for(let Qe=0;Qe<je.length;Qe++){let St=0,ei;for(let ti=0;ti<=Qe;ti++)ei=1/(1+ze*Math.abs(ti-qe[Qe])),ei<1e-6||ei>.999999||(St+=je[ti]*(-ei*Math.log(ei)-(1-ei)*Math.log(1-ei)));for(let ti=Qe+1;ti<je.length;ti++)ei=1/(1+ze*Math.abs(ti-Ke[Qe])),ei<1e-6||ei>.999999||(St+=je[ti]*(-ei*Math.log(ei)-(1-ei)*Math.log(1-ei)));St<Ze&&(Ze=St,Je=Qe)}return Je}function intermodes(je){let $e=je.slice(),Ve=0;for(;!bimodalTest$1($e);){let qe=0,Xe=0,We=$e[0];for(let Ke=0;Ke<je.length-1;Ke++)qe=Xe,Xe=We,We=$e[Ke+1],$e[Ke]=(qe+Xe+We)/3;if($e[je.length-1]=(Xe+We)/3,Ve++,Ve>1e4)throw new Error("Intermodes Threshold not found after 10000 iterations")}let ze=0;for(let qe=1;qe<je.length-1;qe++)$e[qe-1]<$e[qe]&&$e[qe+1]<$e[qe]&&(ze+=qe);return Math.floor(ze/2)}function bimodalTest$1(je){let $e=!1,Ve=0;for(let ze=1;ze<je.length-1;ze++)if(je[ze-1]<je[ze]&&je[ze+1]<je[ze]&&(Ve++,Ve>2))return!1;return Ve===2&&($e=!0),$e}function isodata(je){let $e,Ve,ze,qe,Xe=0;for(let We=1;We<je.length;We++)if(je[We]>0){Xe=We+1;break}for(;;){$e=0,ze=0;for(let We=0;We<Xe;We++)ze=ze+je[We],$e=$e+je[We]*We;qe=0,Ve=0;for(let We=Xe+1;We<je.length;We++)Ve+=je[We],qe+=je[We]*We;if(ze>0&&Ve>0&&($e/=ze,qe/=Ve,Xe===Math.round(($e+qe)/2)))break;if(Xe++,Xe>je.length-2)throw new Error("Threshold not found")}return Xe}function li(je,$e){let Ve,ze,qe,Xe,We,Ke,Je,Ze,Qe,St,ei,ti;ei=.5,St=0;for(let ni=0;ni<je.length;ni++)St+=ni*je[ni];St/=$e,Je=St;do{Ke=Je,Ve=Ke+.5|0,ze=0,Xe=0;for(let ni=0;ni<=Ve;ni++)ze+=ni*je[ni],Xe+=je[ni];Ze=Xe===0?0:ze/Xe,qe=0,We=0;for(let ni=Ve+1;ni<je.length;ni++)qe+=ni*je[ni],We+=je[ni];Qe=We===0?0:qe/We,ti=(Ze-Qe)/(Math.log(Ze)-Math.log(Qe)),ti<-Number.EPSILON?Je=ti-.5|0:Je=ti+.5|0}while(Math.abs(Je-Ke)>ei);return Ve}function maxEntropy(je,$e){let Ve=new Array(je.length);for(let ei=0;ei<je.length;ei++)Ve[ei]=je[ei]/$e;let ze=new Array(je.length),qe=new Array(je.length);ze[0]=Ve[0],qe[0]=1-ze[0];for(let ei=1;ei<je.length;ei++)ze[ei]=ze[ei-1]+Ve[ei],qe[ei]=1-ze[ei];let Xe=0;for(let ei=0;ei<je.length;ei++)if(Math.abs(ze[ei])>=Number.EPSILON){Xe=ei;break}let We=je.length-1;for(let ei=je.length-1;ei>=Xe;ei--)if(Math.abs(qe[ei])>=Number.EPSILON){We=ei;break}let Ke=-1,Je,Ze=Number.MIN_VALUE,Qe,St;for(let ei=Xe;ei<=We;ei++){Qe=0;for(let ti=0;ti<=ei;ti++)je[ti]!==0&&(Qe-=Ve[ti]/ze[ei]*Math.log(Ve[ti]/ze[ei]));St=0;for(let ti=ei+1;ti<je.length;ti++)je[ti]!==0&&(St-=Ve[ti]/qe[ei]*Math.log(Ve[ti]/qe[ei]));Je=Qe+St,Ze<Je&&(Ze=Je,Ke=ei)}return Ke}function mean$1(je,$e){let Ve=0;for(let ze=0;ze<je.length;ze++)Ve+=ze*je[ze];return Math.floor(Ve/$e)}function minError(je,$e){let Ve,ze=-2,qe,Xe,We,Ke,Je,Ze,Qe,St,ei,ti,ni,oi=0;for(let ai=0;ai<je.length;ai++)oi+=ai*je[ai];for(oi/=$e,Ve=oi;Ve!==ze;){let ai=sumA(je,Ve),si=sumA(je,je.length-1),ri=sumB(je,Ve),ii=sumB(je,je.length-1),ui=sumC(je,Ve),ci=sumC(je,je.length-1);if(qe=ri/ai,Xe=(ii-ri)/(si-ai),We=ai/si,Ke=(si-ai)/si,Je=ui/ai-qe*qe,Ze=(ci-ui)/(si-ai)-Xe*Xe,Qe=1/Je-1/Ze,St=qe/Je-Xe/Ze,ei=qe*qe/Je-Xe*Xe/Ze+Math.log10(Je*(Ke*Ke)/(Ze*(We*We))),ti=St*St-Qe*ei,ti<0)return Ve;ze=Ve,ni=(St+Math.sqrt(ti))/Qe,isNaN(ni)?Ve=ze:Ve=Math.floor(ni)}return Ve}function sumA(je,$e){let Ve=0;for(let ze=0;ze<=$e;ze++)Ve+=je[ze];return Ve}function sumB(je,$e){let Ve=0;for(let ze=0;ze<=$e;ze++)Ve+=ze*je[ze];return Ve}function sumC(je,$e){let Ve=0;for(let ze=0;ze<=$e;ze++)Ve+=ze*ze*je[ze];return Ve}function minimum(je){if(je.length<2)return 0;let $e=0,Ve=-1,ze=-1,qe=new Array(je.length);for(let Xe=0;Xe<je.length;Xe++)qe[Xe]=je[Xe],je[Xe]>0&&(ze=Xe);for(;!bimodalTest(qe);)if(qe=smoothed(qe),$e++,$e>1e4)return Ve;return Ve=minimumBetweenPeeks(qe,ze),Ve}function smoothed(je){let $e=new Array(je.length);for(let Ve=1;Ve<je.length-1;Ve++)$e[Ve]=(je[Ve-1]+je[Ve]+je[Ve+1])/3;return $e[0]=(je[0]+je[1])/3,$e[je.length-1]=(je[je.length-2]+je[je.length-1])/3,$e}function minimumBetweenPeeks(je,$e){let Ve;for(let ze=1;ze<$e;ze++)if(je[ze-1]>je[ze]&&je[ze+1]>=je[ze]){Ve=ze;break}return Ve}function bimodalTest(je){let $e=je.length,Ve=!1,ze=0;for(let qe=1;qe<$e-1;qe++)if(je[qe-1]<je[qe]&&je[qe+1]<je[qe]&&(ze++,ze>2))return!1;return ze===2&&(Ve=!0),Ve}function moments(je,$e){let Ve=1,ze=0,qe=0,Xe=0,We=0,Ke,Je,Ze,Qe,St,ei,ti=-1,ni=je.length,oi=new Array(ni);for(let ai=0;ai<ni;ai++)oi[ai]=je[ai]/$e;for(let ai=0;ai<ni;ai++)ze+=ai*oi[ai],qe+=ai*ai*oi[ai],Xe+=ai*ai*ai*oi[ai];Je=Ve*qe-ze*ze,Ze=(-qe*qe+ze*Xe)/Je,Qe=(Ve*-Xe+qe*ze)/Je,St=.5*(-Qe-Math.sqrt(Qe*Qe-4*Ze)),ei=.5*(-Qe+Math.sqrt(Qe*Qe-4*Ze)),Ke=(ei-ze)/(ei-St);for(let ai=0;ai<ni;ai++)if(We+=oi[ai],We>Ke){ti=ai;break}return ti}function otsu(je,$e){let Ve=0,ze=0,qe=0,Xe=0,We=0;for(let Ke=0;Ke<je.length;Ke++)We+=Ke*je[Ke];for(let Ke=0;Ke<je.length;Ke++){ze=ze+je[Ke];const Je=$e-ze;if(ze===0||Je===0)continue;Ve=Ve+Ke*je[Ke];const Ze=(We-Ve)/Je,Qe=ze*Je*(Ve/ze-Ze)*(Ve/ze-Ze);Qe>=qe&&(Xe=Ke,qe=Qe)}return Xe}function percentile(je){let $e=-1,Ve=.5,ze=new Array(je.length),qe=partialSum(je,je.length-1),Xe=1;for(let We=0;We<je.length;We++)ze[We]=Math.abs(partialSum(je,We)/qe-Ve),ze[We]<Xe&&(Xe=ze[We],$e=We);return $e}function partialSum(je,$e){let Ve=0;for(let ze=0;ze<=$e;ze++)Ve+=je[ze];return Ve}function renyiEntropy(je,$e){let Ve,ze,qe,Xe=new Array(je.length),We=new Array(je.length),Ke=new Array(je.length),Je=0,Ze=0,Qe=0,St=0,ei=0,ti=0,ni=1/(1-.5),oi=1/-1;for(let ii=0;ii<je.length;ii++)Xe[ii]=je[ii]/$e;We[0]=Xe[0],Ke[0]=1-We[0];for(let ii=1;ii<je.length;ii++)We[ii]=We[ii-1]+Xe[ii],Ke[ii]=1-We[ii];ze=0;for(let ii=0;ii<je.length;ii++)if(Math.abs(We[ii])>=Number.EPSILON){ze=ii;break}qe=je.length-1;for(let ii=je.length-1;ii>=ze;ii--)if(Math.abs(Ke[ii])>=Number.EPSILON){qe=ii;break}for(let ii=ze;ii<=qe;ii++){let ui=0,ci=0,hi=0;for(let Si=0;Si<=ii;Si++)je[Si]!==0&&(ui-=Xe[Si]/We[ii]*Math.log(Xe[Si]/We[ii])),ci+=Math.sqrt(Xe[Si]/We[ii]),hi+=Xe[Si]*Xe[Si]/(We[ii]*We[ii]);let mi=0,di=0,fi=0;for(let Si=ii+1;Si<je.length;Si++)je[Si]!==0&&(mi-=Xe[Si]/Ke[ii]*Math.log(Xe[Si]/Ke[ii])),di+=Math.sqrt(Xe[Si]/Ke[ii]),fi+=Xe[Si]*Xe[Si]/(Ke[ii]*Ke[ii]);let yi=ui+mi,pi=ni*(ci*di>0?Math.log(ci*di):0),xi=oi*(hi*fi>0?Math.log(hi*fi):0);yi>St&&(St=yi,Je=ii),pi>ei&&(ei=pi,Ze=ii),xi>ti&&(ti=xi,Qe=ii)}let ai=[Je,Ze,Qe];ai.sort((ii,ui)=>ii-ui);let si;Math.abs(ai[0]-ai[1])<=5?Math.abs(ai[1]-ai[2])<=5?si=[1,2,1]:si=[0,1,3]:Math.abs(ai[1]-ai[2])<=5?si=[3,1,0]:si=[1,2,1];let ri=We[ai[2]]-We[ai[0]];return Ve=Math.round(ai[0]*(We[ai[0]]+.25*ri*si[0])+.25*ai[1]*ri*si[1]+ai[2]*(Ke[ai[2]]+.25*ri*si[2])),Ve}function shanbhag(je,$e){let Ve=new Array(je.length);for(let ti=0;ti<je.length;ti++)Ve[ti]=je[ti]/$e;let ze=new Array(je.length),qe=new Array(je.length);ze[0]=Ve[0],qe[0]=1-ze[0];for(let ti=1;ti<je.length;ti++)ze[ti]=ze[ti-1]+Ve[ti],qe[ti]=1-ze[ti];let Xe=0;for(let ti=0;ti<je.length;ti++)if(Math.abs(ze[ti])>=Number.EPSILON){Xe=ti;break}let We=je.length-1;for(let ti=je.length-1;ti>=Xe;ti--)if(Math.abs(qe[ti])>=Number.EPSILON){We=ti;break}let Ke=-1,Je=Number.MAX_VALUE,Ze,Qe,St,ei;for(let ti=Xe;ti<=We;ti++){St=0,Ze=.5/ze[ti];for(let ni=1;ni<=ti;ni++)St-=Ve[ni]*Math.log(1-Ze*ze[ni-1]);St*=Ze,ei=0,Ze=.5/qe[ti];for(let ni=ti+1;ni<je.length;ni++)ei-=Ve[ni]*Math.log(1-Ze*qe[ni]);ei*=Ze,Qe=Math.abs(St-ei),Qe<Je&&(Je=Qe,Ke=ti)}return Ke}function triangle$1(je){let $e=0,Ve=0,ze=0,qe=0;for(let St=0;St<je.length;St++)if(je[St]>0){$e=St;break}$e>0&&$e--;for(let St=je.length-1;St>0;St--)if(je[St]>0){qe=St;break}qe<je.length-1&&qe++;for(let St=0;St<je.length;St++)je[St]>Ve&&(ze=St,Ve=je[St]);let Xe=!1;if(ze-$e<qe-ze){Xe=!0;let St=0,ei=je.length-1;for(;St<ei;){let ti=je[St];je[St]=je[ei],je[ei]=ti,St++,ei--}$e=je.length-1-qe,ze=je.length-1-ze}if($e===ze)return $e;let We,Ke,Je;We=je[ze],Ke=$e-ze,Je=Math.sqrt(We*We+Ke*Ke),We/=Je,Ke/=Je,Je=We*$e+Ke*je[$e];let Ze=$e,Qe=0;for(let St=$e+1;St<=ze;St++){let ei=We*St+Ke*je[St]-Je;ei>Qe&&(Ze=St,Qe=ei)}if(Ze--,Xe){let St=0,ei=je.length-1;for(;St<ei;){let ti=je[St];je[St]=je[ei],je[ei]=ti,St++,ei--}return je.length-1-Ze}else return Ze}function yen(je,$e){let Ve=new Array(je.length);for(let Ze=0;Ze<je.length;Ze++)Ve[Ze]=je[Ze]/$e;let ze=new Array(je.length);ze[0]=Ve[0];for(let Ze=1;Ze<je.length;Ze++)ze[Ze]=ze[Ze-1]+Ve[Ze];let qe=new Array(je.length);qe[0]=Ve[0]*Ve[0];for(let Ze=1;Ze<je.length;Ze++)qe[Ze]=qe[Ze-1]+Ve[Ze]*Ve[Ze];let Xe=new Array(je.length);Xe[je.length-1]=0;for(let Ze=je.length-2;Ze>=0;Ze--)Xe[Ze]=Xe[Ze+1]+Ve[Ze+1]*Ve[Ze+1];let We=-1,Ke=Number.MIN_VALUE,Je;for(let Ze=0;Ze<je.length;Ze++)Je=-1*(qe[Ze]*Xe[Ze]>0?Math.log(qe[Ze]*Xe[Ze]):0)+2*(ze[Ze]*(1-ze[Ze])>0?Math.log(ze[Ze]*(1-ze[Ze])):0),Je>Ke&&(Ke=Je,We=Ze);return We}const methods={huang,intermodes,isodata,li,maxentropy:maxEntropy,mean:mean$1,minerror:minError,minimum,moments,otsu,percentile,renyientropy:renyiEntropy,shanbhag,triangle:triangle$1,yen},names={};Object.keys(methods).forEach(je=>{names[je]=je});function getThreshold(je={}){let{algorithm:$e=names.otsu}=je;this.checkProcessable("getThreshold",{components:1,bitDepth:[8,16]});let Ve=methods[$e.toLowerCase()];if(Ve){let ze=this.getHistogram();return Ve(ze,this.size)}else throw new Error(`unknown thresholding algorithm: ${$e}`)}const THRESHOLD="threshold";function mask(je={}){let{algorithm:$e=THRESHOLD,threshold:Ve=.5,useAlpha:ze=!0,invert:qe=!1}=je;this.checkProcessable("mask",{components:1,bitDepth:[8,16]}),$e===THRESHOLD?Ve=getThreshold$1(Ve,this.maxValue):Ve=getThreshold.call(this,je);let Xe=new Image$1(this.width,this.height,{kind:"BINARY",parent:this}),We=0;if(this.alpha&&ze)for(let Ke=0;Ke<this.data.length;Ke+=this.channels){let Je=this.data[Ke]+(this.maxValue-this.data[Ke])*(this.maxValue-this.data[Ke+1])/this.maxValue;(qe&&Je<=Ve||!qe&&Je>=Ve)&&Xe.setBit(We),We++}else for(let Ke=0;Ke<this.data.length;Ke+=this.channels)(qe&&this.data[Ke]<=Ve||!qe&&this.data[Ke]>=Ve)&&Xe.setBit(We),We++;return Xe}function copyImage(je,$e,Ve,ze){let qe=je.width,Xe=je.height,We=$e.width,Ke=je.channels;for(let Je=0;Je<qe;Je++)for(let Ze=0;Ze<Xe;Ze++)for(let Qe=0;Qe<Ke;Qe++){let St=(Ze*qe+Je)*Ke+Qe,ei=((ze+Ze)*We+Ve+Je)*Ke+Qe;$e.data[ei]=je.data[St]}}function pad(je={}){let{size:$e=0,algorithm:Ve="copy",color:ze}=je;if(this.checkProcessable("pad",{bitDepth:[8,16]}),Ve==="set"){if(ze.length!==this.channels)throw new Error(`pad: the color array must have the same length as the number of channels. Here: ${this.channels}`);for(let Je=0;Je<ze.length;Je++)ze[Je]===0&&(ze[Je]=.001)}else ze=newArray$1(this.channels,null);Array.isArray($e)||($e=[$e,$e]);let qe=this.width+$e[0]*2,Xe=this.height+$e[1]*2,We=this.channels,Ke=Image$1.createFrom(this,{width:qe,height:Xe});copyImage(this,Ke,$e[0],$e[1]);for(let Je=$e[0];Je<qe-$e[0];Je++)for(let Ze=0;Ze<We;Ze++){let Qe=ze[Ze]||Ke.data[($e[1]*qe+Je)*We+Ze];for(let St=0;St<$e[1];St++)Ke.data[(St*qe+Je)*We+Ze]=Qe;Qe=ze[Ze]||Ke.data[((Xe-$e[1]-1)*qe+Je)*We+Ze];for(let St=Xe-$e[1];St<Xe;St++)Ke.data[(St*qe+Je)*We+Ze]=Qe}for(let Je=0;Je<Xe;Je++)for(let Ze=0;Ze<We;Ze++){let Qe=ze[Ze]||Ke.data[(Je*qe+$e[0])*We+Ze];for(let St=0;St<$e[0];St++)Ke.data[(Je*qe+St)*We+Ze]=Qe;Qe=ze[Ze]||Ke.data[(Je*qe+qe-$e[0]-1)*We+Ze];for(let St=qe-$e[0];St<qe;St++)Ke.data[(Je*qe+St)*We+Ze]=Qe}return Ke}function colorDepth(je=8){if(this.checkProcessable("colorDepth",{bitDepth:[1,8,16]}),![8,16].includes(je))throw Error("You need to specify the new colorDepth as 8 or 16");if(this.bitDepth===je)return this.clone();let $e=Image$1.createFrom(this,{bitDepth:je});switch(je){case 8:if(this.bitDepth===1)for(let Ve=0;Ve<this.size;Ve++)this.getBit(Ve)&&($e.data[Ve]=255);else for(let Ve=0;Ve<this.data.length;Ve++)$e.data[Ve]=this.data[Ve]>>8;break;case 16:if(this.bitDepth===1)for(let Ve=0;Ve<this.size;Ve++)this.getBit(Ve)&&($e.data[Ve]=65535);else for(let Ve=0;Ve<this.data.length;Ve++)$e.data[Ve]=this.data[Ve]<<8|this.data[Ve];break;default:throw new Error("colorDepth conversion unexpected case")}return $e}function rotateFree(je,$e={}){const{interpolation:Ve=validInterpolations.nearestneighbor,width:ze=this.width,height:qe=this.height}=$e;if(typeof je!="number")throw new TypeError("degrees must be a number");const Xe=checkInterpolation(Ve),We=je*Math.PI/180,Ke=Math.floor(Math.abs(ze*Math.cos(We))+Math.abs(qe*Math.sin(We))),Je=Math.floor(Math.abs(qe*Math.cos(We))+Math.abs(ze*Math.sin(We))),Ze=Math.cos(-We),Qe=Math.sin(-We);let St=Ke/2,ei=Je/2;Ke%2===0?(St=St-.5,Je%2===0?ei=ei-.5:ei=Math.floor(ei)):(St=Math.floor(St),Je%2===0?ei=ei-.5:ei=Math.floor(ei));const ti=Math.floor(ze/2-St),ni=Math.floor(qe/2-ei);if(this.bitDepth===1){const oi=new Image$1(Ke,Je,{kind:"BINARY",parent:this});switch(Xe){case validInterpolations.nearestneighbor:return rotateBinaryNearestNeighbor(this,oi,ti,ni,St,ei,Ze,Qe);case validInterpolations.bilinear:return rotateBinaryBilinear(this,oi,ti,ni,St,ei,Ze,Qe);default:throw new Error(`unsupported rotate interpolation: ${Xe}`)}}else{const oi=Image$1.createFrom(this,{width:Ke,height:Je});switch(Xe){case validInterpolations.nearestneighbor:return rotateNearestNeighbor(this,oi,ti,ni,St,ei,Ze,Qe);case validInterpolations.bilinear:return rotateBilinear(this,oi,ti,ni,St,ei,Ze,Qe);default:throw new Error(`unsupported rotate interpolation: ${Xe}`)}}}function rotateNearestNeighbor(je,$e,Ve,ze,qe,Xe,We,Ke){for(let Je=0;Je<$e.width;Je+=1)for(let Ze=0;Ze<$e.height;Ze+=1)for(let Qe=0;Qe<je.channels;Qe++){let St=Math.round((Je-qe)*We-(Ze-Xe)*Ke+qe)+Ve,ei=Math.round((Ze-Xe)*We+(Je-qe)*Ke+Xe)+ze;St<0||St>=je.width||ei<0||ei>=je.height?je.alpha===1&&Qe===je.channels-1?$e.setValueXY(Je,Ze,Qe,0):$e.setValueXY(Je,Ze,Qe,je.maxValue):$e.setValueXY(Je,Ze,Qe,je.getValueXY(St,ei,Qe))}return $e}function rotateBinaryNearestNeighbor(je,$e,Ve,ze,qe,Xe,We,Ke){for(let Je=0;Je<$e.width;Je+=1)for(let Ze=0;Ze<$e.height;Ze+=1){let Qe=Math.round((Je-qe)*We-(Ze-Xe)*Ke+qe)+Ve,St=Math.round((Ze-Xe)*We+(Je-qe)*Ke+Xe)+ze;(Qe<0||Qe>=je.width||St<0||St>=je.height||je.getBitXY(Qe,St))&&$e.setBitXY(Je,Ze)}return $e}function rotateBilinear(je,$e,Ve,ze,qe,Xe,We,Ke){let Je=je.width*je.channels;for(let Ze=0;Ze<$e.height;Ze++)for(let Qe=0;Qe<$e.width;Qe++){let St=(Qe-qe)*We-(Ze-Xe)*Ke+qe+Ve,ei=(Ze-Xe)*We+(Qe-qe)*Ke+Xe+ze,ti=St|0,ni=ei|0,oi=St-ti,ai=ei-ni;for(let si=0;si<je.channels;si++)if(St<0||St>=je.width||ei<0||ei>=je.height)je.alpha===1&&si===je.channels-1?$e.setValueXY(Qe,Ze,si,0):$e.setValueXY(Qe,Ze,si,je.maxValue);else{let ri=(ni*je.width+ti)*je.channels+si,ii=je.data[ri],ui=je.data[ri+je.channels],ci=je.data[ri+Je],hi=je.data[ri+Je+je.channels],mi=ii+oi*(ui-ii)+ai*(ci-ii)+oi*ai*(ii-ui-ci+hi)|0;$e.setValueXY(Qe,Ze,si,mi)}}return $e}function rotateBinaryBilinear(je,$e,Ve,ze,qe,Xe,We,Ke){let Je=je.width;for(let Ze=0;Ze<$e.height;Ze++)for(let Qe=0;Qe<$e.width;Qe++){let St=(Qe-qe)*We-(Ze-Xe)*Ke+qe+Ve,ei=(Ze-Xe)*We+(Qe-qe)*Ke+Xe+ze,ti=St|0,ni=ei|0,oi=St-ti,ai=ei-ni;if(St<0||St>=je.width||ei<0||ei>=je.height)$e.setBitXY(Qe,Ze);else{let si=ni*je.width+ti,ri=je.getBit(si),ii=je.getBit(si+1),ui=je.getBit(si+Je),ci=je.getBit(si+1+Je);(ri|oi&ii-ri|ai&ui-ri|oi&ai&ri-ii-ui+ci)>0&&$e.setBitXY(Qe,Ze)}}return $e}function rotate$1(je,$e){if(this.checkProcessable("rotate",{bitDepth:[1,8,16]}),typeof je!="number")throw new TypeError("angle must be a number");switch(je<0&&(je=Math.ceil(-je/360)*360+je),je%360){case 0:return this.clone();case 90:return rotateRight.call(this);case 180:return rotate180.call(this);case 270:return rotateLeft.call(this);default:return rotateFree.call(this,je,$e)}}function rotateLeft(){if(this.bitDepth===1){const je=new Image$1(this.height,this.width,{kind:"BINARY",parent:this}),$e=je.height-1;for(let Ve=0;Ve<this.height;Ve++)for(let ze=0;ze<this.width;ze++)this.getBitXY(ze,Ve)&&je.setBitXY(Ve,$e-ze);return je}else{const je=Image$1.createFrom(this,{width:this.height,height:this.width}),$e=je.height-1;for(let Ve=0;Ve<this.height;Ve++)for(let ze=0;ze<this.width;ze++)for(let qe=0;qe<this.channels;qe++)je.setValueXY(Ve,$e-ze,qe,this.getValueXY(ze,Ve,qe));return je}}function rotateRight(){if(this.bitDepth===1){const je=new Image$1(this.height,this.width,{kind:"BINARY",parent:this}),$e=je.width-1;for(let Ve=0;Ve<this.height;Ve++)for(let ze=0;ze<this.width;ze++)this.getBitXY(ze,Ve)&&je.setBitXY($e-Ve,ze);return je}else{const je=Image$1.createFrom(this,{width:this.height,height:this.width}),$e=je.width-1;for(let Ve=0;Ve<this.height;Ve++)for(let ze=0;ze<this.width;ze++)for(let qe=0;qe<this.channels;qe++)je.setValueXY($e-Ve,ze,qe,this.getValueXY(ze,Ve,qe));return je}}function rotate180(){if(this.bitDepth===1){const je=new Image$1(this.width,this.height,{kind:"BINARY",parent:this}),$e=je.width-1,Ve=je.height-1;for(let ze=0;ze<this.height;ze++)for(let qe=0;qe<this.width;qe++)this.getBitXY(qe,ze)&&je.setBitXY($e-qe,Ve-ze);return je}else{const je=Image$1.createFrom(this),$e=je.width-1,Ve=je.height-1;for(let ze=0;ze<this.height;ze++)for(let qe=0;qe<this.width;qe++)for(let Xe=0;Xe<this.channels;Xe++)je.setValueXY($e-qe,Ve-ze,Xe,this.getValueXY(qe,ze,Xe));return je}}function insert(je,$e={}){const Ve=getImageParameters(je);this.checkProcessable("insert",Ve);let{x:ze=0,y:qe=0}=$e;const Xe=getOutputImageOrInPlace(this,$e,{copy:!0}),We=Math.min(Xe.height,qe+je.height),Ke=Math.min(Xe.width,ze+je.width);if(Xe.bitDepth===1)for(let Je=qe;Je<We;Je++)for(let Ze=ze;Ze<Ke;Ze++)je.getBitXY(Ze-ze,Je-qe)?Xe.setBitXY(Ze,Je):Xe.clearBitXY(Ze,Je);else for(let Je=qe;Je<We;Je++)for(let Ze=ze;Ze<Ke;Ze++)Xe.setPixelXY(Ze,Je,je.getPixelXY(Ze-ze,Je-qe));return Xe}function setBorder(je={}){let{size:$e=0,algorithm:Ve="copy",color:ze}=je;if(this.checkProcessable("setBorder",{bitDepth:[8,16,32,64]}),Ve==="set"){if(ze.length!==this.channels)throw new Error(`setBorder: the color array must have the same length as the number of channels. Here: ${this.channels}`);for(let Ke=0;Ke<ze.length;Ke++)ze[Ke]===0&&(ze[Ke]=.001)}else ze=newArray$1(this.channels,null);Array.isArray($e)||($e=[$e,$e]);let qe=$e[0],Xe=$e[1],We=this.channels;for(let Ke=qe;Ke<this.width-qe;Ke++)for(let Je=0;Je<We;Je++){let Ze=ze[Je]||this.data[(Ke+this.width*Xe)*We+Je];for(let Qe=0;Qe<Xe;Qe++)this.data[(Qe*this.width+Ke)*We+Je]=Ze;Ze=ze[Je]||this.data[(Ke+this.width*(this.height-Xe-1))*We+Je];for(let Qe=this.height-Xe;Qe<this.height;Qe++)this.data[(Qe*this.width+Ke)*We+Je]=Ze}for(let Ke=0;Ke<this.height;Ke++)for(let Je=0;Je<We;Je++){let Ze=ze[Je]||this.data[(Ke*this.width+qe)*We+Je];for(let Qe=0;Qe<qe;Qe++)this.data[(Ke*this.width+Qe)*We+Je]=Ze;Ze=ze[Je]||this.data[(Ke*this.width+this.width-qe-1)*We+Je];for(let Qe=this.width-qe;Qe<this.width;Qe++)this.data[(Ke*this.width+Qe)*We+Je]=Ze}return this}function split(je={}){let{preserveAlpha:$e=!0}=je;if(this.checkProcessable("split",{bitDepth:[8,16]}),this.components===1)return new Stack([this.clone()]);let Ve=new Stack,ze=this.data;if(this.alpha&&$e)for(let qe=0;qe<this.components;qe++){let Xe=Image$1.createFrom(this,{components:1,alpha:!0,colorModel:GREY$1}),We=0;for(let Ke=0;Ke<ze.length;Ke+=this.channels)Xe.data[We++]=ze[Ke+qe],Xe.data[We++]=ze[Ke+this.components];Ve.push(Xe)}else for(let qe=0;qe<this.channels;qe++){let Xe=Image$1.createFrom(this,{components:1,alpha:!1,colorModel:GREY$1}),We=0;for(let Ke=0;Ke<ze.length;Ke+=this.channels)Xe.data[We++]=ze[Ke+qe];Ve.push(Xe)}return Ve}function getChannel(je,$e={}){let{keepAlpha:Ve=!1,mergeAlpha:ze=!1}=$e;Ve&=this.alpha,ze&=this.alpha,this.checkProcessable("getChannel",{bitDepth:[8,16]}),je=validateChannel(this,je);let qe=Image$1.createFrom(this,{components:1,alpha:Ve,colorModel:GREY$1}),Xe=0;for(let We=0;We<this.data.length;We+=this.channels)ze?qe.data[Xe++]=this.data[We+je]*this.data[We+this.components]/this.maxValue:(qe.data[Xe++]=this.data[We+je],Ve&&(qe.data[Xe++]=this.data[We+this.components]));return qe}function combineChannels(je=defaultCombineMethod,$e={}){let{mergeAlpha:Ve=!1,keepAlpha:ze=!1}=$e;Ve&=this.alpha,ze&=this.alpha,this.checkProcessable("combineChannels",{bitDepth:[8,16]});let qe=Image$1.createFrom(this,{components:1,alpha:ze,colorModel:GREY$1}),Xe=0;for(let We=0;We<this.size;We++){let Ke=je(this.getPixel(We));Ve?qe.data[Xe++]=Ke*this.data[We*this.channels+this.components]/this.maxValue:(qe.data[Xe++]=Ke,ze&&(qe.data[Xe++]=this.data[We*this.channels+this.components]))}return qe}function defaultCombineMethod(je){return(je[0]+je[1]+je[2])/3}function setChannel(je,$e){if(this.checkProcessable("setChannel",{bitDepth:[8,16]}),$e.checkProcessable("setChannel (image parameter check)",{bitDepth:[this.bitDepth],alpha:[0],components:[1]}),$e.width!==this.width||$e.height!==this.height)throw new Error("Images must have exactly the same width and height");je=validateChannel(this,je);let Ve=je;for(let ze=0;ze<$e.data.length;ze++)this.data[Ve]=$e.data[ze],Ve+=this.channels;return this}function getSimilarity(je,$e={}){let{shift:Ve=[0,0],average:ze,channels:qe,defaultAlpha:Xe,normalize:We,border:Ke=[0,0]}=$e;if(this.checkProcessable("getSimilarity",{bitDepth:[8,16]}),Array.isArray(Ke)||(Ke=[Ke,Ke]),qe=validateArrayOfChannels(this,{channels:qe,defaultAlpha:Xe}),this.bitDepth!==je.bitDepth)throw new Error("Both images must have the same bitDepth");if(this.channels!==je.channels)throw new Error("Both images must have the same number of channels");if(this.colorModel!==je.colorModel)throw new Error("Both images must have the same colorModel");typeof ze>"u"&&(ze=!0);let Je=Math.max(Ke[0],-Ve[0]),Ze=Math.min(this.width-Ke[0],this.width-Ve[0]),Qe=Math.max(Ke[1],-Ve[1]),St=Math.min(this.height-Ke[1],this.height-Ve[1]),ei=newArray$1(qe.length,0);for(let ti=0;ti<qe.length;ti++){let ni=qe[ti],oi=We?this.sum[ni]:Math.max(this.sum[ni],je.sum[ni]),ai=We?je.sum[ni]:Math.max(this.sum[ni],je.sum[ni]);if(oi!==0&&ai!==0)for(let si=Je;si<Ze;si++)for(let ri=Qe;ri<St;ri++){let ii=si*this.multiplierX+ri*this.multiplierY+ni,ui=ii+Ve[0]*this.multiplierX+Ve[1]*this.multiplierY;ei[ti]+=Math.min(this.data[ii]/oi,je.data[ui]/ai)}}return ze?ei.reduce((ti,ni)=>ti+ni)/ei.length:ei}function getPixelsGrid(je={}){let{sampling:$e=[10,10],painted:Ve=!1,mask:ze}=je;this.checkProcessable("getPixelsGrid",{bitDepth:[8,16],channels:1}),Array.isArray($e)||($e=[$e,$e]);const qe=$e[0],Xe=$e[1],We=[],Ke=[],Je=this.width/qe,Ze=this.height/Xe;let Qe=Math.floor(Je/2);for(let ei=0;ei<qe;ei++){let ti=Math.floor(Ze/2);for(let ni=0;ni<Xe;ni++){let oi=Math.round(Qe),ai=Math.round(ti);(!ze||ze.getBitXY(oi,ai))&&(We.push([oi,ai]),Ke.push(this.getPixelXY(oi,ai))),ti+=Ze}Qe+=Je}const St={xyS:We,zS:Ke};return Ve&&(St.painted=this.rgba8().paintPoints(We)),St}function Matrix(je,$e,Ve){const ze=new Array(je);for(let qe=0;qe<je;qe++)ze[qe]=new Array($e);if(Ve)for(let qe=0;qe<je;qe++)for(let Xe=0;Xe<$e;Xe++)ze[qe][Xe]=Ve;return ze.width=je,ze.height=$e,Object.setPrototypeOf(ze,Matrix.prototype),ze}Matrix.prototype.localMin=function(je,$e){let Ve=this[je][$e],ze=[je,$e];for(let qe=Math.max(0,je-1);qe<Math.min(this.length,je+2);qe++)for(let Xe=Math.max(0,$e-1);Xe<Math.min(this[0].length,$e+2);Xe++)this[qe][Xe]<Ve&&(Ve=this[qe][Xe],ze=[qe,Xe]);return{position:ze,value:Ve}};Matrix.prototype.localMax=function(je,$e){let Ve=this[je][$e],ze=[je,$e];for(let qe=Math.max(0,je-1);qe<Math.min(this.length,je+2);qe++)for(let Xe=Math.max(0,$e-1);Xe<Math.min(this[0].length,$e+2);Xe++)this[qe][Xe]>Ve&&(Ve=this[qe][Xe],ze=[qe,Xe]);return{position:ze,value:Ve}};Matrix.prototype.localSearch=function(je,$e,Ve){let ze=[];for(let qe=Math.max(0,je-1);qe<Math.min(this.length,je+2);qe++)for(let Xe=Math.max(0,$e-1);Xe<Math.min(this[0].length,$e+2);Xe++)this[qe][Xe]===Ve&&ze.push([qe,Xe]);return ze};function getBestMatch(je,$e={}){let{border:Ve}=$e;if(this.checkProcessable("getChannel",{bitDepth:[8,16]}),this.bitDepth!==je.bitDepth)throw new Error("Both images must have the same bitDepth");if(this.channels!==je.channels)throw new Error("Both images must have the same number of channels");if(this.colorModel!==je.colorModel)throw new Error("Both images must have the same colorModel");let ze=new Matrix(je.width,je.height,-1/0),qe=Math.floor(je.width/2),Xe=Math.floor(je.height/2),We=qe,Ke=Xe,Je=!1;for(;!Je;){let Ze=ze.localSearch(qe,Xe,-1/0);for(let St=0;St<Ze.length;St++){let ei=Ze[St],ti=this.getSimilarity(je,{border:Ve,shift:[We-ei[0],Ke-ei[1]]});ze[ei[0]][ei[1]]=ti}let Qe=ze.localMax(qe,Xe);Qe.position[0]!==qe||Qe.position[1]!==Xe?(qe=Qe.position[0],Xe=Qe.position[1]):Je=!0}return[qe-We,Xe-Ke]}function getRow(je,$e=0){this.checkProcessable("getRow",{bitDepth:[8,16]}),checkRow(this,je),checkChannel(this,$e);let Ve=new Array(this.width),ze=0,qe=je*this.width*this.channels+$e,Xe=qe+this.width*this.channels;for(let We=qe;We<Xe;We+=this.channels)Ve[ze++]=this.data[We];return Ve}function getColumn(je,$e=0){this.checkProcessable("getColumn",{bitDepth:[8,16]}),checkColumn(this,je),checkChannel(this,$e);let Ve=new Array(this.height),ze=0,qe=this.width*this.channels;for(let Xe=$e+je*this.channels;Xe<this.data.length;Xe+=qe)Ve[ze++]=this.data[Xe];return Ve}function getMatrix(je={}){let{channel:$e}=je;if(this.checkProcessable("getMatrix",{bitDepth:[8,16]}),$e===void 0){if(this.components>1)throw new RangeError("You need to define the channel for an image that contains more than one channel");$e=0}let Ve=new Matrix$2(this.height,this.width);for(let ze=0;ze<this.height;ze++)for(let qe=0;qe<this.width;qe++)Ve.set(ze,qe,this.getValueXY(qe,ze,$e));return Ve}function setMatrix(je,$e={}){je=new Matrix$2(je);let{channel:Ve}=$e;if(this.checkProcessable("getMatrix",{bitDepth:[8,16]}),Ve===void 0){if(this.components>1)throw new RangeError("You need to define the channel for an image that contains more than one channel");Ve=0}if(this.width!==je.columns||this.height!==je.rows)throw new RangeError("The size of the matrix must be equal to the size of the image");for(let ze=0;ze<this.height;ze++)for(let qe=0;qe<this.width;qe++)this.setValueXY(qe,ze,Ve,je.get(ze,qe));return this}function getPixelsArray(){this.checkProcessable("getPixelsArray",{bitDepth:[8,16,32]});let je=new Array(this.size),$e=0;for(let Ve=0;Ve<this.data.length;Ve+=this.channels){let ze=new Array(this.components);for(let qe=0;qe<this.components;qe++)ze[qe]=this.data[Ve+qe];je[$e++]=ze}return je}function getIntersection(je){let $e=this,Ve=$e.getClosestCommonParent(je),ze=$e.getRelativePosition(Ve,{defaultFurther:!0}),qe=getRelativePositionForAllPixels($e,ze),Xe=je.getRelativePosition(Ve,{defaultFurther:!0}),We=getRelativePositionForAllPixels(je,Xe),Ke=getCommonSurface(qe,We),Je={whitePixelsMask1:[],whitePixelsMask2:[],commonWhitePixels:[]};for(let Ze=0;Ze<Ke.length;Ze++){let Qe=Ke[Ze],St=[Qe[0]-ze[0],Qe[1]-ze[1]],ei=[Qe[0]-Xe[0],Qe[1]-Xe[1]],ti=$e.getBitXY(St[0],St[1]),ni=je.getBitXY(ei[0],ei[1]);ti===1&&ni===1&&Je.commonWhitePixels.push(Qe)}for(let Ze=0;Ze<qe.length;Ze++){let Qe,St;Ze!==0&&(Qe=Math.floor(Ze/$e.width),St=Ze%$e.width),$e.getBitXY(Qe,St)===1&&Je.whitePixelsMask1.push(qe[Ze])}for(let Ze=0;Ze<We.length;Ze++){let Qe=0,St=0;Ze!==0&&(Qe=Math.floor(Ze/je.width),St=Ze%je.width),je.getBitXY(Qe,St)===1&&Je.whitePixelsMask2.push(We[Ze])}return Je}function getRelativePositionForAllPixels(je,$e){let Ve=[];for(let ze=0;ze<je.height;ze++)for(let qe=0;qe<je.width;qe++){let Xe=[ze,qe];Ve.push([Xe[0]+$e[0],Xe[1]+$e[1]])}return Ve}function getCommonSurface(je,$e){let Ve=0,ze=0,qe=[];for(;Ve<je.length&&ze<$e.length;)je[Ve][0]===$e[ze][0]&&je[Ve][1]===$e[ze][1]?(qe.push(je[Ve]),Ve++,ze++):je[Ve][0]<$e[ze][0]||je[Ve][0]===$e[ze][0]&&je[Ve][1]<$e[ze][1]?Ve++:ze++;return qe}function getClosestCommonParent(je){let $e=getDepth(this),Ve=getDepth(je),ze;if($e>=Ve?ze=getFurthestParent(this,$e):ze=getFurthestParent(je,Ve),$e===0||Ve===0)return ze;let qe=this,Xe=je;for(;$e!==Ve;)if($e>Ve){if(qe=qe.parent,qe===null)return ze;$e=$e-1}else{if(Xe=Xe.parent,Xe===null)return ze;Ve=Ve-1}for(;qe!==Xe&&qe!==null&&Xe!==null;)if(qe=qe.parent,Xe=Xe.parent,qe===null||Xe===null)return ze;return qe!==Xe?ze:qe}function getDepth(je){let $e=0,Ve=je;for(;Ve.parent!=null;)Ve=Ve.parent,$e++;return $e}function getFurthestParent(je,$e){let Ve=je;for(;$e>0;)Ve=Ve.parent,$e=$e-1;return Ve}const defaultOptions$1={lowThreshold:10,highThreshold:30,gaussianBlur:1.1},Gx=[[-1,0,1],[-2,0,2],[-1,0,1]],Gy=[[-1,-2,-1],[0,0,0],[1,2,1]],convOptions={bitDepth:32,mode:"periodic"};function cannyEdgeDetector(je,$e){je.checkProcessable("Canny edge detector",{bitDepth:8,channels:1,components:1}),$e=Object.assign({},defaultOptions$1,$e);const Ve=je.width,ze=je.height,qe=je.maxValue,Xe={sigma:$e.gaussianBlur,radius:3},We=je.gaussianFilter(Xe),Ke=We.convolution(Gy,convOptions),Je=We.convolution(Gx,convOptions),Ze=Je.hypotenuse(Ke),Qe=je.constructor,St=new Qe(Ve,ze,{kind:"GREY",bitDepth:32}),ei=new Qe(Ve,ze,{kind:"GREY",bitDepth:32}),ti=new Qe(Ve,ze,{kind:"GREY"});for(var ni=1;ni<Ve-1;ni++)for(var oi=1;oi<ze-1;oi++){var ai=(Math.round(Math.atan2(Je.getValueXY(ni,oi,0),Ke.getValueXY(ni,oi,0))*(5/Math.PI))+5)%5;ai===0&&(Ze.getValueXY(ni,oi,0)<=Ze.getValueXY(ni,oi-1,0)||Ze.getValueXY(ni,oi,0)<=Ze.getValueXY(ni,oi+1,0))||ai===1&&(Ze.getValueXY(ni,oi,0)<=Ze.getValueXY(ni-1,oi+1,0)||Ze.getValueXY(ni,oi,0)<=Ze.getValueXY(ni+1,oi-1,0))||ai===2&&(Ze.getValueXY(ni,oi,0)<=Ze.getValueXY(ni-1,oi,0)||Ze.getValueXY(ni,oi,0)<=Ze.getValueXY(ni+1,oi,0))||ai===3&&(Ze.getValueXY(ni,oi,0)<=Ze.getValueXY(ni-1,oi-1,0)||Ze.getValueXY(ni,oi,0)<=Ze.getValueXY(ni+1,oi+1,0))||St.setValueXY(ni,oi,0,Ze.getValueXY(ni,oi,0))}for(ni=0;ni<Ve*ze;++ni){var si=St.data[ni],ri=0;si>$e.highThreshold&&(ri++,ti.data[ni]=qe),si>$e.lowThreshold&&ri++,ei.data[ni]=ri}var ii=[];for(ni=1;ni<Ve-1;++ni)for(oi=1;oi<ze-1;++oi)if(ei.getValueXY(ni,oi,0)===1){e:for(var ui=ni-1;ui<ni+2;++ui)for(var ci=oi-1;ci<oi+2;++ci)if(ei.getValueXY(ui,ci,0)===2){ii.push([ni,oi]),ti.setValueXY(ni,oi,0,qe);break e}}for(;ii.length>0;){var hi=[];for(ni=0;ni<ii.length;++ni)for(oi=-1;oi<2;++oi)for(ui=-1;ui<2;++ui)if(!(oi===0&&ui===0)){var mi=ii[ni][0]+oi,di=ii[ni][1]+ui;ei.getValueXY(mi,di,0)===1&&ti.getValueXY(mi,di,0)===0&&(hi.push([mi,di]),ti.setValueXY(mi,di,0,qe))}ii=hi}return ti}function cannyEdge(je){return cannyEdgeDetector(this,je)}function extract(je,$e={}){let{position:Ve}=$e;if(this.checkProcessable("extract",{bitDepth:[1,8,16]}),!Ve&&(Ve=je.getRelativePosition(this),!Ve))throw new Error("extract : can not extract an image because the relative position can not be determined, try to specify manually the position as an array of 2 elements [x,y].");if(this.bitDepth>1){let ze=Image$1.createFrom(this,{width:je.width,height:je.height,alpha:1,position:Ve,parent:this});for(let qe=0;qe<je.width;qe++)for(let Xe=0;Xe<je.height;Xe++){for(let We=0;We<this.channels;We++){let Ke=this.getValueXY(qe+Ve[0],Xe+Ve[1],We);ze.setValueXY(qe,Xe,We,Ke)}je.getBitXY(qe,Xe)||ze.setValueXY(qe,Xe,this.components,0)}return ze}else{let ze=Image$1.createFrom(this,{width:je.width,height:je.height,position:Ve,parent:this});for(let qe=0;qe<je.height;qe++)for(let Xe=0;Xe<je.width;Xe++)je.getBitXY(Xe,qe)&&this.getBitXY(Xe+Ve[0],qe+Ve[1])&&ze.setBitXY(Xe,qe);return ze}}var fastList={exports:{}};(function(je,$e){(function(){function Ve(qe,Xe,We){this.next=We,We&&(We.prev=this),this.prev=Xe,Xe&&(Xe.next=this),this.data=qe}function ze(){if(!(this instanceof ze))return new ze;this._head=null,this._tail=null,this.length=0}ze.prototype={push:function(qe){this._tail=new Ve(qe,this._tail,null),this._head||(this._head=this._tail),this.length++},pop:function(){if(this.length!==0){var qe=this._tail;return this._tail=qe.prev,qe.prev&&(qe.prev=this._tail.next=null),this.length--,this.length===1?this._head=this._tail:this.length===0&&(this._head=this._tail=null),qe.data}},unshift:function(qe){this._head=new Ve(qe,null,this._head),this._tail||(this._tail=this._head),this.length++},shift:function(){if(this.length!==0){var qe=this._head;return this._head=qe.next,qe.next&&(qe.next=this._head.prev=null),this.length--,this.length===1?this._tail=this._head:this.length===0&&(this._head=this._tail=null),qe.data}},item:function(qe){qe<0&&(qe=this.length+qe);for(var Xe=this._head;qe-- >0&&Xe;)Xe=Xe.next;return Xe?Xe.data:void 0},slice:function(qe,Xe){if(qe||(qe=0),Xe||(Xe=this.length),Xe<0&&(Xe=this.length+Xe),qe<0&&(qe=this.length+qe),Xe===qe)return[];if(Xe<qe)throw new Error("invalid offset: "+qe+","+Xe+" (length="+this.length+")");for(var We=Xe-qe,Ke=new Array(We),Je=0,Ze=this._head;qe-- >0&&Ze;)Ze=Ze.next;for(;Je<We&&Ze;)Ke[Je++]=Ze.data,Ze=Ze.next;return Ke},drop:function(){ze.call(this)},forEach:function(qe,Xe){for(var We=this._head,Ke=0,Je=this.length;Ke<Je&&We;)qe.call(Xe||this,We.data,Ke,this),We=We.next,Ke++},map:function(qe,Xe){var We=new ze;return this.forEach(function(Ke,Je,Ze){We.push(qe.call(Xe||Ze,Ke,Je,Ze))}),We},filter:function(qe,Xe){var We=new ze;return this.forEach(function(Ke,Je,Ze){qe.call(Xe||Ze,Ke,Je,Ze)&&We.push(Ke)}),We},reduce:function(qe,Xe,We){var Ke=0,Je=this._head,Ze=this.length;for(Xe||(Ke=1,Xe=Je&&Je.data,Je=Je&&Je.next);Ke<Ze&&Je;)Xe=qe.call(We||this,Xe,Je.data,this),Ke++,Je=Je.next;return Xe}},je.exports=ze})()})(fastList);var fastListExports=fastList.exports;const LinkedList=getDefaultExportFromCjs$1(fastListExports);function floodFill(je={}){const{x:$e=0,y:Ve=0,inPlace:ze=!0}=je,qe=ze?this:Image$1.createFrom(this);if(this.checkProcessable("floodFill",{bitDepth:1}),this.getBitXY($e,Ve))return qe;const Xe=new LinkedList;for(Xe.push(new Node$1($e,Ve));Xe.length>0;){const We=Xe.shift();qe.setBitXY(We.x,We.y);for(let Ke=We.x+1;Ke<this.width&&!qe.getBitXY(Ke,We.y)&&!this.getBitXY(Ke,We.y);Ke++)qe.setBitXY(Ke,We.y),We.y+1<this.height&&!this.getBitXY(Ke,We.y+1)&&Xe.push(new Node$1(Ke,We.y+1)),We.y-1>=0&&!this.getBitXY(Ke,We.y-1)&&Xe.push(new Node$1(Ke,We.y-1));for(let Ke=We.x-1;Ke>=0&&!qe.getBitXY(Ke,We.y)&&!this.getBitXY(Ke,We.y);Ke++)qe.setBitXY(Ke,We.y),We.y+1<this.height&&!this.getBitXY(Ke,We.y+1)&&Xe.push(new Node$1(Ke,We.y+1)),We.y-1>=0&&!this.getBitXY(Ke,We.y-1)&&Xe.push(new Node$1(Ke,We.y-1))}return qe}function Node$1(je,$e){this.x=je,this.y=$e}function _extends(){return _extends=Object.assign?Object.assign.bind():function(je){for(var $e=1;$e<arguments.length;$e++){var Ve=arguments[$e];for(var ze in Ve)Object.prototype.hasOwnProperty.call(Ve,ze)&&(je[ze]=Ve[ze])}return je},_extends.apply(this,arguments)}function hsv2rgb(je,$e,Ve){$e=$e/100,Ve=Ve/100;var ze=[],qe=Ve*$e,Xe=je/60,We=qe*(1-Math.abs(Xe%2-1)),Ke=Ve-qe;return Xe>=0&&Xe<1?ze=[qe,We,0]:Xe>=1&&Xe<2?ze=[We,qe,0]:Xe>=2&&Xe<3?ze=[0,qe,We]:je>=3&&Xe<4?ze=[0,We,qe]:je>=4&&Xe<5?ze=[We,0,qe]:je>=5&&Xe<=6?ze=[qe,0,We]:ze=[0,0,0],{r:Math.round(255*(ze[0]+Ke)),g:Math.round(255*(ze[1]+Ke)),b:Math.round(255*(ze[2]+Ke))}}function hsl2hsv(je,$e,Ve){return $e*=(Ve<50?Ve:100-Ve)/100,{h:je,s:2*$e/(Ve+$e)*100,v:Ve+$e}}function hsl2rgb$1(je,$e,Ve){var ze=hsl2hsv(je,$e,Ve);return hsv2rgb(ze.h,ze.s,ze.v)}var colors={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]};function parse(je){return named(je)||hex3(je)||hex6(je)||rgb(je)||rgba$1(je)||hsl(je)||hsla(je)}function named(je){var $e=colors[je.toLowerCase()];if($e)return{r:$e[0],g:$e[1],b:$e[2],a:100}}function rgb(je){var $e=je.match(/rgb\(([^)]+)\)/);if($e){var Ve=$e[1].split(/ *, */).map(Number);return{r:Ve[0],g:Ve[1],b:Ve[2],a:100}}}function rgba$1(je){var $e=je.match(/rgba\(([^)]+)\)/);if($e){var Ve=$e[1].split(/ *, */).map(Number);return{r:Ve[0],g:Ve[1],b:Ve[2],a:Ve[3]*100}}}function hex6(je){if(je[0]==="#"&&je.length===7)return{r:parseInt(je.slice(1,3),16),g:parseInt(je.slice(3,5),16),b:parseInt(je.slice(5,7),16),a:100}}function hex3(je){if(je[0]==="#"&&je.length===4)return{r:parseInt(je[1]+je[1],16),g:parseInt(je[2]+je[2],16),b:parseInt(je[3]+je[3],16),a:100}}function hsl(je){var $e=je.match(/hsl\(([^)]+)\)/);if($e){var Ve=$e[1].split(/ *, */),ze=parseInt(Ve[0],10),qe=parseInt(Ve[1],10),Xe=parseInt(Ve[2],10),We=hsl2rgb$1(ze,qe,Xe);return _extends({},We,{a:100})}}function hsla(je){var $e=je.match(/hsla\(([^)]+)\)/);if($e){var Ve=$e[1].split(/ *, */),ze=parseInt(Ve[0],10),qe=parseInt(Ve[1],10),Xe=parseInt(Ve[2],10),We=parseInt(parseFloat(Ve[3])*100,10),Ke=hsl2rgb$1(ze,qe,Xe);return _extends({},Ke,{a:We})}}function css2array(je){let $e=parse(je);return[$e.r,$e.g,$e.b,Math.round($e.a*255/100)]}function hue2rgb(je,$e,Ve){return Ve<0&&(Ve+=1),Ve>1&&(Ve-=1),Ve<1/6?je+($e-je)*6*Ve:Ve<1/2?$e:Ve<2/3?je+($e-je)*(2/3-Ve)*6:je}function hsl2rgb(je,$e,Ve){let ze,qe,Xe,We,Ke,Je;return $e/=100,Ve/=100,$e===0?We=Ke=Je=Ve*255:(Ve<=.5?qe=Ve*($e+1):qe=Ve+$e-Ve*$e,ze=Ve*2-qe,Xe=je/360,We=hue2rgb(ze,qe,Xe+1/3),Ke=hue2rgb(ze,qe,Xe),Je=hue2rgb(ze,qe,Xe-1/3)),{r:We,g:Ke,b:Je}}function getDistinctColors(je){let $e=new Array(je),Ve=0;for(let ze=0;ze<360;ze+=360/je){Ve++;let qe=hsl2rgb(ze,100,30+Ve%4*15);$e[Ve-1]=[Math.round(qe.r*255),Math.round(qe.g*255),Math.round(qe.b*255)]}return $e}function getRandomColor(){return[Math.floor(Math.random()*256),Math.floor(Math.random()*256),Math.floor(Math.random()*256)]}function getColors(je){let{color:$e,colors:Ve,randomColors:ze,numberColors:qe=50}=je;if($e&&!Array.isArray($e)&&($e=css2array($e)),$e)return[$e];if(Ve)return Ve=Ve.map(function(Xe){return Array.isArray(Xe)?Xe:css2array(Xe)}),Ve;if(ze){Ve=new Array(qe);for(let Xe=0;Xe<qe;Xe++)Ve[Xe]=getRandomColor()}return getDistinctColors(qe)}function paintLabels(je,$e,Ve={}){let{color:ze="blue",colors:qe,font:Xe="12px Helvetica",rotate:We=0}=Ve;if(this.checkProcessable("paintMasks",{channels:[3,4],bitDepth:[8,16],colorModel:RGB$1}),!Array.isArray(je))throw Error("paintLabels: labels must be an array");if(!Array.isArray($e))throw Error("paintLabels: positions must be an array");if(ze&&!Array.isArray(ze)&&(ze=css2array(ze)),qe?qe=qe.map(function(Je){return Array.isArray(Je)?Je:css2array(Je)}):qe=[ze],je.length!==$e.length)throw Error("paintLabels: positions and labels must be arrays from the same size");Array.isArray(Xe)||(Xe=[Xe]),Array.isArray(We)||(We=[We]);let Ke=this.getCanvas().getContext("2d");for(let Je=0;Je<je.length;Je++){Ke.save();let Ze=qe[Je%qe.length];Ke.fillStyle=`rgba(${Ze[0]},${Ze[1]},${Ze[2]},${Ze[3]/this.maxValue})`,Ke.font=Xe[Je%Xe.length];let Qe=$e[Je];Ke.translate(Qe[0],Qe[1]),Ke.rotate(We[Je%We.length]/180*Math.PI),Ke.fillText(je[Je],0,0),Ke.restore()}return this.data=Uint8Array.from(Ke.getImageData(0,0,this.width,this.height).data),this}function paintMasks(je,$e={}){let{alpha:Ve=255,labels:ze=[],labelsPosition:qe=[],labelColor:Xe="blue",labelFont:We="12px Helvetica"}=$e;this.checkProcessable("paintMasks",{channels:[3,4],bitDepth:[8,16],colorModel:RGB$1});let Ke=getColors(Object.assign({},$e,{numberColors:je.length}));Array.isArray(je)||(je=[je]);for(let Je=0;Je<je.length;Je++){let Ze=je[Je],Qe=Ke[Je%Ke.length];for(let St=0;St<Ze.width;St++)for(let ei=0;ei<Ze.height;ei++)if(Ze.getBitXY(St,ei))for(let ti=0;ti<Math.min(this.components,Qe.length);ti++)if(Ve===255)this.setValueXY(St+Ze.position[0],ei+Ze.position[1],ti,Qe[ti]);else{let ni=this.getValueXY(St+Ze.position[0],ei+Ze.position[1],ti);ni=Math.round((ni*(255-Ve)+Qe[ti]*Ve)/255),this.setValueXY(St+Ze.position[0],ei+Ze.position[1],ti,ni)}}if(Array.isArray(ze)&&ze.length>0){let Je=this.getCanvas().getContext("2d");Je.fillStyle=Xe,Je.font=We;for(let Ze=0;Ze<Math.min(je.length,ze.length);Ze++){let Qe=qe[Ze]?qe[Ze]:je[Ze].position;Je.fillText(ze[Ze],Qe[0],Qe[1])}this.data=Uint8Array.from(Je.getImageData(0,0,this.width,this.height).data)}return this}function zerosMatrix(je,$e){let Ve=new Array(je);for(let ze=0;ze<je;ze++)Ve[ze]=new Array($e).fill(0);return Ve}const cross=[[0,0,1,0,0],[0,0,1,0,0],[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0]],smallCross=[[0,1,0],[1,1,1],[0,1,0]];class Shape{constructor($e={}){let{kind:Ve="cross",shape:ze,size:qe,width:Xe,height:We,filled:Ke=!0}=$e;if(qe&&(Xe=qe,We=qe),ze)switch(ze.toLowerCase()){case"square":case"rectangle":this.matrix=rectangle(Xe,We,{filled:Ke});break;case"circle":case"ellipse":this.matrix=ellipse(Xe,We,{filled:Ke});break;case"triangle":this.matrix=triangle(Xe,We,{filled:Ke});break;default:throw new Error(`Shape: unexpected shape: ${ze}`)}else if(Ve)switch(Ve.toLowerCase()){case"cross":this.matrix=cross;break;case"smallcross":this.matrix=smallCross;break;default:throw new Error(`Shape: unexpected kind: ${Ve}`)}else throw new Error("Shape: expected a kind or a shape option");this.height=this.matrix.length,this.width=this.matrix[0].length,this.halfHeight=this.height/2>>0,this.halfWidth=this.width/2>>0}getPoints(){let $e=this.matrix,Ve=[];for(let ze=0;ze<$e.length;ze++)for(let qe=0;qe<$e[0].length;qe++)$e[ze][qe]&&Ve.push([qe-this.halfWidth,ze-this.halfHeight]);return Ve}getMask(){let $e=new Image$1(this.width,this.height,{kind:BINARY});for(let Ve=0;Ve<this.matrix.length;Ve++)for(let ze=0;ze<this.matrix[0].length;ze++)this.matrix[Ve][ze]&&$e.setBitXY(ze,Ve);return $e}}function rectangle(je,$e,Ve){const ze=zerosMatrix($e,je);if(Ve.filled)for(let qe=0;qe<$e;qe++)for(let Xe=0;Xe<je;Xe++)ze[qe][Xe]=1;else{for(let qe of[0,$e-1])for(let Xe=0;Xe<je;Xe++)ze[qe][Xe]=1;for(let qe=0;qe<$e;qe++)for(let Xe of[0,je-1])ze[qe][Xe]=1}return ze}function ellipse(je,$e,Ve){const ze=zerosMatrix($e,je);let qe=1-$e%2,Xe=1-je%2,We=Math.floor((je-1)/2),Ke=Math.floor(($e-1)/2),Je=We*We,Ze=Ke*Ke;if(Ve.filled)for(let Qe=0;Qe<=Ke;Qe++){let St=Math.floor(Math.sqrt(Je-Je*Qe*Qe/Ze));for(let ei=We-St;ei<=We;ei++)ze[Ke-Qe][ei]=1,ze[Ke+Qe+qe][ei]=1,ze[Ke-Qe][je-ei-1]=1,ze[Ke+Qe+qe][je-ei-1]=1}else{for(let Qe=0;Qe<=Ke;Qe++){let St=Math.floor(Math.sqrt(Je-Je*Qe*Qe/Ze)),ei=We-St;ze[Ke-Qe][ei]=1,ze[Ke+Qe+qe][ei]=1,ze[Ke-Qe][je-ei-1]=1,ze[Ke+Qe+qe][je-ei-1]=1}for(let Qe=0;Qe<=We;Qe++){let St=Math.floor(Math.sqrt(Ze-Ze*Qe*Qe/Je)),ei=Ke-St;ze[ei][We-Qe]=1,ze[ei][We+Qe+Xe]=1,ze[$e-ei-1][We-Qe]=1,ze[$e-ei-1][We+Qe+Xe]=1}}return ze}function triangle(je,$e,Ve){if(!Ve.filled)throw new Error("Non filled triangle is not implemented");const ze=zerosMatrix($e,je);for(let qe=0;qe<$e;qe++){let Xe=Math.floor((1-qe/$e)*je/2);for(let We=Xe;We<je-Xe;We++)ze[qe][We]=1}return ze}function paintPoints(je,$e={}){let{shape:Ve}=$e;this.checkProcessable("paintPoints",{bitDepth:[8,16]});let ze=getColors(Object.assign({},$e,{numberColors:je.length})),qe=new Shape(Ve).getPoints(),Xe=Math.min(this.channels,ze[0].length);for(let We=0;We<je.length;We++){let Ke=ze[We%ze.length],Je=je[We][0],Ze=je[We][1];for(let Qe=0;Qe<qe.length;Qe++){let St=qe[Qe][0],ei=qe[Qe][1];if(Je+St>=0&&Ze+ei>=0&&Je+St<this.width&&Ze+ei<this.height){let ti=(Je+St+(Ze+ei)*this.width)*this.channels;for(let ni=0;ni<Xe;ni++)this.data[ti+ni]=Ke[ni]}}}return this}function paintPolyline(je,$e={}){let{color:Ve=[this.maxValue,0,0],closed:ze=!1}=$e;this.checkProcessable("paintPoints",{bitDepth:[1,8,16]});let qe=Math.min(this.channels,Ve.length);for(let Xe=0;Xe<je.length-1+ze;Xe++){let We=je[Xe],Ke=je[(Xe+1)%je.length],Je=Ke[0]-We[0],Ze=Ke[1]-We[1],Qe=Math.max(Math.abs(Je),Math.abs(Ze)),St=Je/Qe,ei=Ze/Qe,ti=We[0],ni=We[1];for(let oi=0;oi<=Qe;oi++){let ai=Math.round(ti),si=Math.round(ni);if(ai>=0&&si>=0&&ai<this.width&&si<this.height)if(this.bitDepth===1)this.setBitXY(ai,si);else{let ri=(ai+si*this.width)*this.channels;for(let ii=0;ii<qe;ii++)this.data[ri+ii]=Ve[ii]}ti=ti+St,ni=ni+ei}}return this}function paintPolylines(je,$e={}){let Ve=Object.assign({},$e);this.checkProcessable("paintPolylines",{bitDepth:[8,16]});let ze=getColors(Object.assign({},$e,{numberColors:je.length}));for(let qe=0;qe<je.length;qe++)Ve.color=ze[qe%ze.length],this.paintPolyline(je[qe],Ve);return this}function paintPolygon(je,$e={}){let{color:Ve=[this.maxValue,0,0],filled:ze=!1}=$e;this.checkProcessable("paintPoints",{bitDepth:[1,8,16]}),$e.closed=!0;let qe=deleteDouble(je);if(ze===!1)return this.paintPolyline(je,$e);{let Xe=Array(this.height);for(let We=0;We<this.height;We++){Xe[We]=[];for(let Ke=0;Ke<this.width;Ke++)Xe[We].push(0)}for(let We=0;We<qe.length;We++){const Ke=lineBetweenTwoPoints(qe[We],qe[(We+1)%qe.length]);for(let Je=0;Je<this.height;Je++)for(let Ze=0;Ze<this.width;Ze++)isAtTheRightOfTheLine(Ze,Je,Ke,this.height)&&(Xe[Je][Ze]=Xe[Je][Ze]===0?1:0)}for(let We=0;We<this.height;We++)for(let Ke=0;Ke<this.width;Ke++)if(Xe[We][Ke]===1)if(this.bitDepth===1)this.setBitXY(Ke,We);else{let Je=Math.min(this.channels,Ve.length),Ze=(Ke+We*this.width)*this.channels;for(let Qe=0;Qe<Je;Qe++)this.data[Ze+Qe]=Ve[Qe]}return this.paintPolyline(je,$e)}}function deleteDouble(je){let $e=[];for(let Ve=0;Ve<je.length;Ve++)if(!(je[Ve][0]===je[(Ve+1)%je.length][0]&&je[Ve][1]===je[(Ve+1)%je.length][1])){if(je[Ve][0]===je[(Ve-1+je.length)%je.length][0]&&je[Ve][1]===je[(Ve-1+je.length)%je.length][1]||je[(Ve+1)%je.length][0]===je[(Ve-1+je.length)%je.length][0]&&je[(Ve-1+je.length)%je.length][1]===je[(Ve+1)%je.length][1])continue;$e.push(je[Ve])}return $e}function lineBetweenTwoPoints(je,$e){if(je[0]===$e[0])return{a:0,b:je[0],vertical:!0};{const Ve=($e[1]-je[1])/($e[0]-je[0]),ze=je[1]-Ve*je[0];return{a:Ve,b:ze,vertical:!1}}}function isAtTheRightOfTheLine(je,$e,Ve,ze){if(Ve.vertical===!0)return Ve.b<=je;if(Ve.a===0)return!1;{const qe=($e-Ve.b)/Ve.a;return qe<je&&qe>=0&&qe<=ze}}function paintPolygons(je,$e={}){let Ve=Object.assign({},$e);this.checkProcessable("paintPolygons",{bitDepth:[8,16]});let ze=getColors(Object.assign({},$e,{numberColors:je.length}));for(let qe=0;qe<je.length;qe++)Ve.color=ze[qe%ze.length],this.paintPolygon(je[qe],Ve);return this}function getHistogram(je={}){let{maxSlots:$e=256,channel:Ve,useAlpha:ze=!0}=je;if(this.checkProcessable("getHistogram",{bitDepth:[1,8,16]}),Ve===void 0){if(this.components>1)throw new RangeError("You need to define the channel for an image that contains more than one channel");Ve=0}return getChannelHistogram.call(this,Ve,{useAlpha:ze,maxSlots:$e})}function getHistograms(je={}){const{maxSlots:$e=256,useAlpha:Ve=!0}=je;this.checkProcessable("getHistograms",{bitDepth:[8,16]});let ze=new Array(Ve?this.components:this.channels);for(let qe=0;qe<ze.length;qe++)ze[qe]=getChannelHistogram.call(this,qe,{useAlpha:Ve,maxSlots:$e});return ze}function getChannelHistogram(je,$e){let{useAlpha:Ve,maxSlots:ze}=$e;if(this.bitDepth===1){let Je=[0,0];for(let Ze=0;Ze<this.height;Ze++)for(let Qe=0;Qe<this.width;Qe++){let St=this.getBitXY(Ze,Qe);St===0?Je[0]+=1:St===1&&(Je[1]+=1)}return Je}let qe=Math.log2(ze);if(!isInteger$1(qe))throw new RangeError("maxSlots must be a power of 2, for example: 64, 256, 1024");let Xe=0;this.bitDepth>qe&&(Xe=this.bitDepth-qe);let We=this.data,Ke=newArray$1(Math.pow(2,Math.min(this.bitDepth,qe)),0);if(Ve&&this.alpha){let Je=this.channels-je-1;for(let Ze=je;Ze<We.length;Ze+=this.channels)Ke[We[Ze]>>Xe]+=We[Ze+Je]/this.maxValue}else for(let Je=je;Je<We.length;Je+=this.channels)Ke[We[Je]>>Xe]++;return Ke}function getColorHistogram(je={}){let{useAlpha:$e=!0,nbSlots:Ve=512}=je;this.checkProcessable("getColorHistogram",{bitDepth:[8,16],components:[3]});let ze=Math.log(Ve)/Math.log(8);if(ze!==Math.floor(ze))throw new RangeError("nbSlots must be a power of 8. Usually 8, 64, 512 or 4096");let qe=this.bitDepth-ze,Xe=this.data,We=newArray$1(Math.pow(8,ze),0),Ke=Math.pow(2,ze*2),Je=Math.pow(2,ze);for(let Ze=0;Ze<Xe.length;Ze+=this.channels){let Qe=(Xe[Ze]>>qe)*Ke+(Xe[Ze+1]>>qe)*Je+(Xe[Ze+2]>>qe);$e&&this.alpha?We[Qe]+=Xe[Ze+this.channels-1]/this.maxValue:We[Qe]++}return We}function min(){this.checkProcessable("min",{bitDepth:[8,16,32]});let je=newArray$1(this.channels,1/0);for(let $e=0;$e<this.data.length;$e+=this.channels)for(let Ve=0;Ve<this.channels;Ve++)this.data[$e+Ve]<je[Ve]&&(je[Ve]=this.data[$e+Ve]);return je}function max$3(){this.checkProcessable("max",{bitDepth:[8,16,32]});let je=newArray$1(this.channels,-1/0);for(let $e=0;$e<this.data.length;$e+=this.channels)for(let Ve=0;Ve<this.channels;Ve++)this.data[$e+Ve]>je[Ve]&&(je[Ve]=this.data[$e+Ve]);return je}function sum(){this.checkProcessable("sum",{bitDepth:[8,16]});let je=newArray$1(this.channels,0);for(let $e=0;$e<this.data.length;$e+=this.channels)for(let Ve=0;Ve<this.channels;Ve++)je[Ve]+=this.data[$e+Ve];return je}function getMoment(je=0,$e=0){this.checkProcessable("getMoment",{bitDepth:[1]});let Ve=0;for(let ze=0;ze<this.width;ze++)for(let qe=0;qe<this.height;qe++)this.getBitXY(ze,qe)===1&&(Ve+=ze**je*qe**$e);return Ve}function localMaxima(je={}){let{mask:$e,region:Ve=3,removeClosePoints:ze=0,invert:qe=!1,maxEquals:Xe=2}=je,We=this;this.checkProcessable("localMaxima",{bitDepth:[8,16],components:1}),Ve*=4;let Ke=qe?0:1,Je=[1,0,-1,0,1,1,-1,-1,2,0,-2,0,2,2,-2,-2],Ze=[0,1,0,-1,1,-1,1,-1,0,2,0,-2,2,-2,2,-2],Qe=Ve<=8?1:2,St=[];for(let ei=Qe;ei<We.height-Qe;ei++)for(let ti=Qe;ti<We.width-Qe;ti++){if($e&&$e.getBitXY(ti,ei)!==Ke)continue;let ni=0,oi=0,ai=We.data[ti+ei*We.width];for(let si=0;si<Ve;si++)qe?We.data[ti+Je[si]+(ei+Ze[si])*We.width]>ai&&ni++:We.data[ti+Je[si]+(ei+Ze[si])*We.width]<ai&&ni++,We.data[ti+Je[si]+(ei+Ze[si])*We.width]===ai&&oi++;ni+oi===Ve&&oi<=Xe&&St.push([ti,ei])}if(ze>0)for(let ei=0;ei<St.length;ei++)for(let ti=ei+1;ti<St.length;ti++)Math.sqrt(Math.pow(St[ei][0]-St[ti][0],2)+Math.pow(St[ei][1]-St[ti][1],2))<ze&&(St[ei][0]=St[ei][0]+St[ti][0]>>1,St[ei][1]=St[ei][1]+St[ti][1]>>1,St.splice(ti,1),ti--);return St}function mean(){let je=this.getHistograms({maxSlots:this.maxValue+1}),$e=new Array(je.length);for(let Ve=0;Ve<je.length;Ve++){let ze=je[Ve];$e[Ve]=mean$2(ze)}return $e}function median(){let je=this.getHistograms({maxSlots:this.maxValue+1}),$e=new Array(je.length);for(let Ve=0;Ve<je.length;Ve++){let ze=je[Ve];$e[Ve]=median$2(ze)}return $e}function points$1(){this.checkProcessable("points",{bitDepth:[1]});const je=[];for(let $e=0;$e<this.width;$e++)for(let Ve=0;Ve<this.height;Ve++)this.getBitXY($e,Ve)===1&&je.push([$e,Ve]);return je}function extendedPoints(){this.checkProcessable("extendedPoints",{bitDepth:[1]});const je=[];for(let $e=0;$e<this.height;$e++)for(let Ve=0;Ve<this.width;Ve++)if(this.getBitXY(Ve,$e)===1)for(je.push([Ve,$e]),this.getBitXY(Ve+1,$e)!==1?(je.push([Ve+1,$e]),je.push([Ve+1,$e+1]),this.getBitXY(Ve,$e+1)!==1&&je.push([Ve,$e+1])):this.getBitXY(Ve,$e+1)!==1&&(je.push([Ve,$e+1]),je.push([Ve+1,$e+1]));Ve<this.width-2&&this.getBitXY(Ve+1,$e)===1&&this.getBitXY(Ve+2,$e)===1;)Ve++;return je}function getRelativePosition(je,$e={}){if(this===je)return[0,0];let Ve=[0,0],ze=this;for(;ze;){if(ze===je)return Ve;ze.position&&(Ve[0]+=ze.position[0],Ve[1]+=ze.position[1]),ze=ze.parent}return $e.defaultFurther?Ve:!1}function countAlphaPixels(je={}){let{alpha:$e=1}=je;this.checkProcessable("countAlphaPixels",{bitDepth:[8,16],alpha:1});let Ve=0;if($e!==void 0){for(let ze=this.components;ze<this.data.length;ze+=this.channels)this.data[ze]===$e&&Ve++;return Ve}else return this.size}function monotoneChainConvexHull$1(je,$e={}){const{sorted:Ve}=$e;Ve||(je=je.slice().sort(byXThenY));const ze=je.length,qe=new Array(ze*2);let Xe=0;for(let Ke=0;Ke<ze;Ke++){const Je=je[Ke];for(;Xe>=2&&cw(qe[Xe-2],qe[Xe-1],Je)<=0;)Xe--;qe[Xe++]=Je}const We=Xe+1;for(let Ke=ze-2;Ke>=0;Ke--){const Je=je[Ke];for(;Xe>=We&&cw(qe[Xe-2],qe[Xe-1],Je)<=0;)Xe--;qe[Xe++]=Je}return qe.slice(0,Xe-1)}function cw(je,$e,Ve){return($e[1]-je[1])*(Ve[0]-je[0])-($e[0]-je[0])*(Ve[1]-je[1])}function byXThenY(je,$e){return je[0]===$e[0]?je[1]-$e[1]:je[0]-$e[0]}function monotoneChainConvexHull(){return monotoneChainConvexHull$1(this.extendedPoints,{sorted:!1})}function round$1(je){for(let $e=0;$e<je.length;$e++)je[$e][0]=Math.round(je[$e][0]),je[$e][1]=Math.round(je[$e][1]);return je}function difference(je,$e){return[je[0]-$e[0],je[1]-$e[1]]}function normalize(je){let $e=Math.sqrt(je[0]**2+je[1]**2);return[je[0]/$e,je[1]/$e]}function rotate(je,$e,Ve){Ve===void 0&&(Ve=new Array($e.length));let ze=Math.cos(je),qe=Math.sin(je);for(let Xe=0;Xe<Ve.length;++Xe)Ve[Xe]=[ze*$e[Xe][0]-qe*$e[Xe][1],qe*$e[Xe][0]+ze*$e[Xe][1]];return Ve}function perimeter(je){let $e=0;for(let Ve=0;Ve<je.length;Ve++){let ze=je[Ve][0],qe=je[Ve][1],Xe=je[Ve===je.length-1?0:Ve+1][0],We=je[Ve===je.length-1?0:Ve+1][1];$e+=Math.sqrt((Xe-ze)**2+(We-qe)**2)}return $e}function surface(je){let $e=0;for(let Ve=0;Ve<je.length;Ve++){let ze=je[Ve][0],qe=je[Ve===je.length-1?0:Ve+1][1],Xe=je[Ve===je.length-1?0:Ve+1][0],We=je[Ve][1];$e+=ze*qe*.5,$e-=Xe*We*.5}return Math.abs($e)}function minMax(je){let $e=1/0,Ve=1/0,ze=-1/0,qe=-1/0;for(let Xe=0;Xe<je.length;Xe++)je[Xe][0]<$e&&($e=je[Xe][0]),je[Xe][0]>ze&&(ze=je[Xe][0]),je[Xe][1]<Ve&&(Ve=je[Xe][1]),je[Xe][1]>qe&&(qe=je[Xe][1]);return[[$e,Ve],[ze,qe]]}function moveToZeroZero(je,$e){$e===void 0&&($e=new Array(je.length).fill(0).map(()=>[]));let Ve=minMax(je),ze=Ve[0][0],qe=Ve[0][1];for(let Xe=0;Xe<je.length;Xe++)$e[Xe][0]=je[Xe][0]-ze,$e[Xe][1]=je[Xe][1]-qe;return $e}function minimalBoundingRectangle(je={}){const{originalPoints:$e=monotoneChainConvexHull.call(this)}=je;if($e.length===0)return[];if($e.length===1)return[$e[0],$e[0],$e[0],$e[0]];const Ve=new Array($e.length);let ze=1/0,qe=0,Xe;for(let We=0;We<Ve.length;We++){let Ke=getAngle$1($e[We],$e[(We+1)%Ve.length]);rotate(-Ke,$e,Ve);let Je=Ve[We][0],Ze=Ve[We][1],Qe=Ve[(We+1)%Ve.length][0],St=Ve[(We+1)%Ve.length][1],ei=!0,ti=0,ni=0,oi=0;for(let ii=0;ii<Ve.length;ii++){let ui=Ve[ii][0],ci=Ve[ii][1],hi=(ui-Je)/(Qe-Je);ei===!0?(ei=!1,ti=hi,ni=hi):(hi<ti&&(ti=hi),hi>ni&&(ni=hi));let mi=(-(Qe-Je)*ci+Qe*Ze-St*Je)/(Qe-Je);Math.abs(mi)>Math.abs(oi)&&(oi=mi)}let ai=[Je+ti*(Qe-Je),Ze],si=[Je+ni*(Qe-Je),Ze],ri=Math.abs(oi*(ti-ni)*(Qe-Je));ri<ze&&(qe=Ke,ze=ri,Xe=[ai,si,[si[0],si[1]-oi],[ai[0],ai[1]-oi]])}return rotate(qe,Xe,Xe),Xe}function getAngle$1(je,$e){let Ve=difference($e,je),ze=normalize(Ve),qe=Math.acos(ze[0]);return ze[1]<0?-qe:qe}function extend$1(je){let $e={inPlace:!0};je.extendMethod("invert",invert),je.extendMethod("abs",abs),je.extendMethod("level",level,$e),je.extendMethod("add",add,$e),je.extendMethod("subtract",subtract,$e),je.extendMethod("subtractImage",subtractImage),je.extendMethod("multiply",multiply,$e),je.extendMethod("divide",divide,$e),je.extendMethod("hypotenuse",hypotenuse),je.extendMethod("background",background$1),je.extendMethod("flipX",flipX),je.extendMethod("flipY",flipY),je.extendMethod("blurFilter",blurFilter),je.extendMethod("medianFilter",medianFilter),je.extendMethod("gaussianFilter",gaussianFilter),je.extendMethod("sobelFilter",sobelFilter),je.extendMethod("gradientFilter",gradientFilter),je.extendMethod("scharrFilter",scharrFilter),je.extendMethod("dilate",dilate),je.extendMethod("erode",erode),je.extendMethod("open",open$1),je.extendMethod("close",close),je.extendMethod("topHat",topHat),je.extendMethod("blackHat",blackHat),je.extendMethod("morphologicalGradient",morphologicalGradient),je.extendMethod("warpingFourPoints",warpingFourPoints),je.extendMethod("crop",crop),je.extendMethod("cropAlpha",cropAlpha),je.extendMethod("resize",resize).extendMethod("scale",resize),je.extendMethod("hsv",hsv),je.extendMethod("hsl",hsl$1),je.extendMethod("cmyk",cmyk),je.extendMethod("rgba8",rgba8),je.extendMethod("grey",grey).extendMethod("gray",grey),je.extendMethod("mask",mask),je.extendMethod("pad",pad),je.extendMethod("colorDepth",colorDepth),je.extendMethod("setBorder",setBorder,$e),je.extendMethod("rotate",rotate$1),je.extendMethod("rotateLeft",rotateLeft),je.extendMethod("rotateRight",rotateRight),je.extendMethod("insert",insert),je.extendMethod("getRow",getRow),je.extendMethod("getColumn",getColumn),je.extendMethod("getMatrix",getMatrix),je.extendMethod("setMatrix",setMatrix),je.extendMethod("getPixelsArray",getPixelsArray),je.extendMethod("getIntersection",getIntersection),je.extendMethod("getClosestCommonParent",getClosestCommonParent),je.extendMethod("getThreshold",getThreshold),je.extendMethod("split",split),je.extendMethod("getChannel",getChannel),je.extendMethod("combineChannels",combineChannels),je.extendMethod("setChannel",setChannel),je.extendMethod("getSimilarity",getSimilarity),je.extendMethod("getPixelsGrid",getPixelsGrid),je.extendMethod("getBestMatch",getBestMatch),je.extendMethod("cannyEdge",cannyEdge),je.extendMethod("convolution",convolution),je.extendMethod("extract",extract),je.extendMethod("floodFill",floodFill),je.extendMethod("paintLabels",paintLabels,$e),je.extendMethod("paintMasks",paintMasks,$e),je.extendMethod("paintPoints",paintPoints,$e),je.extendMethod("paintPolyline",paintPolyline,$e),je.extendMethod("paintPolylines",paintPolylines,$e),je.extendMethod("paintPolygon",paintPolygon,$e),je.extendMethod("paintPolygons",paintPolygons,$e),je.extendMethod("countAlphaPixels",countAlphaPixels),je.extendMethod("monotoneChainConvexHull",monotoneChainConvexHull),je.extendMethod("minimalBoundingRectangle",minimalBoundingRectangle),je.extendMethod("getHistogram",getHistogram).extendProperty("histogram",getHistogram),je.extendMethod("getHistograms",getHistograms).extendProperty("histograms",getHistograms),je.extendMethod("getColorHistogram",getColorHistogram).extendProperty("colorHistogram",getColorHistogram),je.extendMethod("getMin",min).extendProperty("min",min),je.extendMethod("getMax",max$3).extendProperty("max",max$3),je.extendMethod("getSum",sum).extendProperty("sum",sum),je.extendMethod("getMoment",getMoment).extendProperty("moment",getMoment),je.extendMethod("getLocalMaxima",localMaxima),je.extendMethod("getMedian",median).extendProperty("median",median),je.extendMethod("getMean",mean).extendProperty("mean",mean),je.extendMethod("getPoints",points$1).extendProperty("points",points$1),je.extendMethod("getExtendedPoints",extendedPoints).extendProperty("extendedPoints",extendedPoints),je.extendMethod("getRelativePosition",getRelativePosition)}var quantities={exports:{}};(function(je,$e){(function(Ve,ze){je.exports=ze()})(commonjsGlobal$1,function(){function Ve(Wi){return typeof Wi=="string"||Wi instanceof String}var ze=Number.isFinite||window.isFinite;function qe(Wi){return ze(Wi)}function Xe(Wi){return Wi}function We(Wi){var mn={};return Wi.filter(function(vn){return mn.hasOwnProperty(vn)?!1:mn[vn]=!0})}function Ke(Wi,mn){if(mn.length!==Wi.length)return!1;for(var vn=0;vn<Wi.length;vn++)if(mn[vn].compareArray&&!mn[vn].compareArray(Wi[vn])||mn[vn]!==Wi[vn])return!1;return!0}function Je(Wi,mn){Object.keys(mn).forEach(function(vn){Wi[vn]=mn[vn]})}function Ze(){for(var Wi=1,mn=0,vn=0;vn<arguments.length;vn++){var Mn=arguments[vn];mn=mn+ei(Mn),Wi*=Mn}return mn!==0?St(Wi,mn):Wi}function Qe(Wi,mn){if(mn===0)throw new Error("Divide by zero");var vn=Math.pow(10,ei(mn)),Mn=vn/(vn*mn);return Ze(Wi,Mn)}function St(Wi,mn){return Math.round(Wi*Math.pow(10,mn))/Math.pow(10,mn)}function ei(Wi){if(!isFinite(Wi))return 0;for(var mn=0;Wi%1!==0;)Wi*=10,mn++;return mn}function ti(){var Wi;if(!this)return Wi=Object.create(ti.prototype),ti.apply(Wi,arguments),Wi;Wi=Error.apply(this,arguments),this.name="QtyError",this.message=Wi.message,this.stack=Wi.stack}ti.prototype=Object.create(Error.prototype,{constructor:{value:ti}});function ni(Wi,mn){throw new ti("Incompatible units: "+Wi+" and "+mn)}var oi={"<googol>":[["googol"],1e100,"prefix"],"<kibi>":[["Ki","Kibi","kibi"],Math.pow(2,10),"prefix"],"<mebi>":[["Mi","Mebi","mebi"],Math.pow(2,20),"prefix"],"<gibi>":[["Gi","Gibi","gibi"],Math.pow(2,30),"prefix"],"<tebi>":[["Ti","Tebi","tebi"],Math.pow(2,40),"prefix"],"<pebi>":[["Pi","Pebi","pebi"],Math.pow(2,50),"prefix"],"<exi>":[["Ei","Exi","exi"],Math.pow(2,60),"prefix"],"<zebi>":[["Zi","Zebi","zebi"],Math.pow(2,70),"prefix"],"<yebi>":[["Yi","Yebi","yebi"],Math.pow(2,80),"prefix"],"<yotta>":[["Y","Yotta","yotta"],1e24,"prefix"],"<zetta>":[["Z","Zetta","zetta"],1e21,"prefix"],"<exa>":[["E","Exa","exa"],1e18,"prefix"],"<peta>":[["P","Peta","peta"],1e15,"prefix"],"<tera>":[["T","Tera","tera"],1e12,"prefix"],"<giga>":[["G","Giga","giga"],1e9,"prefix"],"<mega>":[["M","Mega","mega"],1e6,"prefix"],"<kilo>":[["k","kilo"],1e3,"prefix"],"<hecto>":[["h","Hecto","hecto"],100,"prefix"],"<deca>":[["da","Deca","deca","deka"],10,"prefix"],"<deci>":[["d","Deci","deci"],.1,"prefix"],"<centi>":[["c","Centi","centi"],.01,"prefix"],"<milli>":[["m","Milli","milli"],.001,"prefix"],"<micro>":[["u","μ","µ","Micro","mc","micro"],1e-6,"prefix"],"<nano>":[["n","Nano","nano"],1e-9,"prefix"],"<pico>":[["p","Pico","pico"],1e-12,"prefix"],"<femto>":[["f","Femto","femto"],1e-15,"prefix"],"<atto>":[["a","Atto","atto"],1e-18,"prefix"],"<zepto>":[["z","Zepto","zepto"],1e-21,"prefix"],"<yocto>":[["y","Yocto","yocto"],1e-24,"prefix"],"<1>":[["1","<1>"],1,""],"<meter>":[["m","meter","meters","metre","metres"],1,"length",["<meter>"]],"<inch>":[["in","inch","inches",'"'],.0254,"length",["<meter>"]],"<foot>":[["ft","foot","feet","'"],.3048,"length",["<meter>"]],"<yard>":[["yd","yard","yards"],.9144,"length",["<meter>"]],"<mile>":[["mi","mile","miles"],1609.344,"length",["<meter>"]],"<naut-mile>":[["nmi","naut-mile"],1852,"length",["<meter>"]],"<league>":[["league","leagues"],4828,"length",["<meter>"]],"<furlong>":[["furlong","furlongs"],201.2,"length",["<meter>"]],"<rod>":[["rd","rod","rods"],5.029,"length",["<meter>"]],"<mil>":[["mil","mils"],254e-7,"length",["<meter>"]],"<angstrom>":[["ang","angstrom","angstroms"],1e-10,"length",["<meter>"]],"<fathom>":[["fathom","fathoms"],1.829,"length",["<meter>"]],"<pica>":[["pica","picas"],.00423333333,"length",["<meter>"]],"<point>":[["pt","point","points"],.000352777778,"length",["<meter>"]],"<redshift>":[["z","red-shift","redshift"],1302773e20,"length",["<meter>"]],"<AU>":[["AU","astronomical-unit"],1495979e5,"length",["<meter>"]],"<light-second>":[["ls","light-second"],299792500,"length",["<meter>"]],"<light-minute>":[["lmin","light-minute"],1798755e4,"length",["<meter>"]],"<light-year>":[["ly","light-year"],9460528e9,"length",["<meter>"]],"<parsec>":[["pc","parsec","parsecs"],3085678e10,"length",["<meter>"]],"<datamile>":[["DM","datamile"],1828.8,"length",["<meter>"]],"<kilogram>":[["kg","kilogram","kilograms"],1,"mass",["<kilogram>"]],"<AMU>":[["u","AMU","amu"],1660538921e-36,"mass",["<kilogram>"]],"<dalton>":[["Da","Dalton","Daltons","dalton","daltons"],1660538921e-36,"mass",["<kilogram>"]],"<slug>":[["slug","slugs"],14.5939029,"mass",["<kilogram>"]],"<short-ton>":[["tn","ton","short-ton"],907.18474,"mass",["<kilogram>"]],"<metric-ton>":[["t","tonne","metric-ton"],1e3,"mass",["<kilogram>"]],"<carat>":[["ct","carat","carats"],2e-4,"mass",["<kilogram>"]],"<pound>":[["lbs","lb","pound","pounds","#"],.45359237,"mass",["<kilogram>"]],"<ounce>":[["oz","ounce","ounces"],.0283495231,"mass",["<kilogram>"]],"<gram>":[["g","gram","grams","gramme","grammes"],.001,"mass",["<kilogram>"]],"<grain>":[["grain","grains","gr"],6479891e-11,"mass",["<kilogram>"]],"<dram>":[["dram","drams","dr"],.0017718452,"mass",["<kilogram>"]],"<stone>":[["stone","stones","st"],6.35029318,"mass",["<kilogram>"]],"<hectare>":[["hectare"],1e4,"area",["<meter>","<meter>"]],"<acre>":[["acre","acres"],4046.85642,"area",["<meter>","<meter>"]],"<sqft>":[["sqft"],1,"area",["<foot>","<foot>"]],"<liter>":[["l","L","liter","liters","litre","litres"],.001,"volume",["<meter>","<meter>","<meter>"]],"<gallon>":[["gal","gallon","gallons"],.0037854118,"volume",["<meter>","<meter>","<meter>"]],"<gallon-imp>":[["galimp","gallon-imp","gallons-imp"],.00454609,"volume",["<meter>","<meter>","<meter>"]],"<quart>":[["qt","quart","quarts"],.00094635295,"volume",["<meter>","<meter>","<meter>"]],"<pint>":[["pt","pint","pints"],.000473176475,"volume",["<meter>","<meter>","<meter>"]],"<pint-imp>":[["ptimp","pint-imp","pints-imp"],.00056826125,"volume",["<meter>","<meter>","<meter>"]],"<cup>":[["cu","cup","cups"],.000236588238,"volume",["<meter>","<meter>","<meter>"]],"<fluid-ounce>":[["floz","fluid-ounce","fluid-ounces"],295735297e-13,"volume",["<meter>","<meter>","<meter>"]],"<fluid-ounce-imp>":[["flozimp","floz-imp","fluid-ounce-imp","fluid-ounces-imp"],284130625e-13,"volume",["<meter>","<meter>","<meter>"]],"<tablespoon>":[["tb","tbsp","tbs","tablespoon","tablespoons"],147867648e-13,"volume",["<meter>","<meter>","<meter>"]],"<teaspoon>":[["tsp","teaspoon","teaspoons"],492892161e-14,"volume",["<meter>","<meter>","<meter>"]],"<bushel>":[["bu","bsh","bushel","bushels"],.035239072,"volume",["<meter>","<meter>","<meter>"]],"<oilbarrel>":[["bbl","oilbarrel","oilbarrels","oil-barrel","oil-barrels"],.158987294928,"volume",["<meter>","<meter>","<meter>"]],"<beerbarrel>":[["bl","bl-us","beerbarrel","beerbarrels","beer-barrel","beer-barrels"],.1173477658,"volume",["<meter>","<meter>","<meter>"]],"<beerbarrel-imp>":[["blimp","bl-imp","beerbarrel-imp","beerbarrels-imp","beer-barrel-imp","beer-barrels-imp"],.16365924,"volume",["<meter>","<meter>","<meter>"]],"<kph>":[["kph"],.277777778,"speed",["<meter>"],["<second>"]],"<mph>":[["mph"],.44704,"speed",["<meter>"],["<second>"]],"<knot>":[["kt","kn","kts","knot","knots"],.514444444,"speed",["<meter>"],["<second>"]],"<fps>":[["fps"],.3048,"speed",["<meter>"],["<second>"]],"<gee>":[["gee"],9.80665,"acceleration",["<meter>"],["<second>","<second>"]],"<Gal>":[["Gal"],.01,"acceleration",["<meter>"],["<second>","<second>"]],"<kelvin>":[["degK","kelvin"],1,"temperature",["<kelvin>"]],"<celsius>":[["degC","celsius","celsius","centigrade"],1,"temperature",["<kelvin>"]],"<fahrenheit>":[["degF","fahrenheit"],5/9,"temperature",["<kelvin>"]],"<rankine>":[["degR","rankine"],5/9,"temperature",["<kelvin>"]],"<temp-K>":[["tempK","temp-K"],1,"temperature",["<temp-K>"]],"<temp-C>":[["tempC","temp-C"],1,"temperature",["<temp-K>"]],"<temp-F>":[["tempF","temp-F"],5/9,"temperature",["<temp-K>"]],"<temp-R>":[["tempR","temp-R"],5/9,"temperature",["<temp-K>"]],"<second>":[["s","sec","secs","second","seconds"],1,"time",["<second>"]],"<minute>":[["min","mins","minute","minutes"],60,"time",["<second>"]],"<hour>":[["h","hr","hrs","hour","hours"],3600,"time",["<second>"]],"<day>":[["d","day","days"],3600*24,"time",["<second>"]],"<week>":[["wk","week","weeks"],7*3600*24,"time",["<second>"]],"<fortnight>":[["fortnight","fortnights"],1209600,"time",["<second>"]],"<year>":[["y","yr","year","years","annum"],31556926,"time",["<second>"]],"<decade>":[["decade","decades"],315569260,"time",["<second>"]],"<century>":[["century","centuries"],3155692600,"time",["<second>"]],"<pascal>":[["Pa","pascal","Pascal"],1,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<bar>":[["bar","bars"],1e5,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<mmHg>":[["mmHg"],133.322368,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<inHg>":[["inHg"],3386.3881472,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<torr>":[["torr"],133.322368,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<atm>":[["atm","ATM","atmosphere","atmospheres"],101325,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<psi>":[["psi"],6894.76,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<cmh2o>":[["cmH2O","cmh2o"],98.0638,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<inh2o>":[["inH2O","inh2o"],249.082052,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<poise>":[["P","poise"],.1,"viscosity",["<kilogram>"],["<meter>","<second>"]],"<stokes>":[["St","stokes"],1e-4,"viscosity",["<meter>","<meter>"],["<second>"]],"<mole>":[["mol","mole"],1,"substance",["<mole>"]],"<molar>":[["M","molar"],1e3,"molar_concentration",["<mole>"],["<meter>","<meter>","<meter>"]],"<wtpercent>":[["wt%","wtpercent"],10,"molar_concentration",["<kilogram>"],["<meter>","<meter>","<meter>"]],"<katal>":[["kat","katal","Katal"],1,"activity",["<mole>"],["<second>"]],"<unit>":[["U","enzUnit","unit"],16667e-19,"activity",["<mole>"],["<second>"]],"<farad>":[["F","farad","Farad"],1,"capacitance",["<second>","<second>","<second>","<second>","<ampere>","<ampere>"],["<meter>","<meter>","<kilogram>"]],"<coulomb>":[["C","coulomb","Coulomb"],1,"charge",["<ampere>","<second>"]],"<Ah>":[["Ah"],3600,"charge",["<ampere>","<second>"]],"<ampere>":[["A","Ampere","ampere","amp","amps"],1,"current",["<ampere>"]],"<siemens>":[["S","Siemens","siemens"],1,"conductance",["<second>","<second>","<second>","<ampere>","<ampere>"],["<kilogram>","<meter>","<meter>"]],"<henry>":[["H","Henry","henry"],1,"inductance",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>","<ampere>"]],"<volt>":[["V","Volt","volt","volts"],1,"potential",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<second>","<ampere>"]],"<ohm>":[["Ohm","ohm","Ω","Ω"],1,"resistance",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<second>","<ampere>","<ampere>"]],"<weber>":[["Wb","weber","webers"],1,"magnetism",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>"]],"<tesla>":[["T","tesla","teslas"],1,"magnetism",["<kilogram>"],["<second>","<second>","<ampere>"]],"<gauss>":[["G","gauss"],1e-4,"magnetism",["<kilogram>"],["<second>","<second>","<ampere>"]],"<maxwell>":[["Mx","maxwell","maxwells"],1e-8,"magnetism",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>"]],"<oersted>":[["Oe","oersted","oersteds"],250/Math.PI,"magnetism",["<ampere>"],["<meter>"]],"<joule>":[["J","joule","Joule","joules","Joules"],1,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<erg>":[["erg","ergs"],1e-7,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<btu>":[["BTU","btu","BTUs"],1055.056,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<calorie>":[["cal","calorie","calories"],4.184,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<Calorie>":[["Cal","Calorie","Calories"],4184,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<therm-US>":[["th","therm","therms","Therm","therm-US"],105480400,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<Wh>":[["Wh"],3600,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<electronvolt>":[["eV","electronvolt","electronvolts"],1602176634e-28,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<newton>":[["N","Newton","newton"],1,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<dyne>":[["dyn","dyne"],1e-5,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<pound-force>":[["lbf","pound-force"],4.448222,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<hertz>":[["Hz","hertz","Hertz"],1,"frequency",["<1>"],["<second>"]],"<radian>":[["rad","radian","radians"],1,"angle",["<radian>"]],"<degree>":[["deg","degree","degrees"],Math.PI/180,"angle",["<radian>"]],"<arcminute>":[["arcmin","arcminute","arcminutes"],Math.PI/10800,"angle",["<radian>"]],"<arcsecond>":[["arcsec","arcsecond","arcseconds"],Math.PI/648e3,"angle",["<radian>"]],"<gradian>":[["gon","grad","gradian","grads"],Math.PI/200,"angle",["<radian>"]],"<steradian>":[["sr","steradian","steradians"],1,"solid_angle",["<steradian>"]],"<rotation>":[["rotation"],2*Math.PI,"angle",["<radian>"]],"<rpm>":[["rpm"],2*Math.PI/60,"angular_velocity",["<radian>"],["<second>"]],"<byte>":[["B","byte","bytes"],1,"information",["<byte>"]],"<bit>":[["b","bit","bits"],.125,"information",["<byte>"]],"<Bps>":[["Bps"],1,"information_rate",["<byte>"],["<second>"]],"<bps>":[["bps"],.125,"information_rate",["<byte>"],["<second>"]],"<dollar>":[["USD","dollar"],1,"currency",["<dollar>"]],"<cents>":[["cents"],.01,"currency",["<dollar>"]],"<candela>":[["cd","candela"],1,"luminosity",["<candela>"]],"<lumen>":[["lm","lumen"],1,"luminous_power",["<candela>","<steradian>"]],"<lux>":[["lux"],1,"illuminance",["<candela>","<steradian>"],["<meter>","<meter>"]],"<watt>":[["W","watt","watts"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<volt-ampere>":[["VA","volt-ampere"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<volt-ampere-reactive>":[["var","Var","VAr","VAR","volt-ampere-reactive"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<horsepower>":[["hp","horsepower"],745.699872,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<gray>":[["Gy","gray","grays"],1,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<roentgen>":[["R","roentgen"],.00933,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<sievert>":[["Sv","sievert","sieverts"],1,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<becquerel>":[["Bq","becquerel","becquerels"],1,"radiation",["<1>"],["<second>"]],"<curie>":[["Ci","curie","curies"],37e9,"radiation",["<1>"],["<second>"]],"<cpm>":[["cpm"],1/60,"rate",["<count>"],["<second>"]],"<dpm>":[["dpm"],1/60,"rate",["<count>"],["<second>"]],"<bpm>":[["bpm"],1/60,"rate",["<count>"],["<second>"]],"<dot>":[["dot","dots"],1,"resolution",["<each>"]],"<pixel>":[["pixel","px"],1,"resolution",["<each>"]],"<ppi>":[["ppi"],1,"resolution",["<pixel>"],["<inch>"]],"<dpi>":[["dpi"],1,"typography",["<dot>"],["<inch>"]],"<cell>":[["cells","cell"],1,"counting",["<each>"]],"<each>":[["each"],1,"counting",["<each>"]],"<count>":[["count"],1,"counting",["<each>"]],"<base-pair>":[["bp","base-pair"],1,"counting",["<each>"]],"<nucleotide>":[["nt","nucleotide"],1,"counting",["<each>"]],"<molecule>":[["molecule","molecules"],1,"counting",["<1>"]],"<dozen>":[["doz","dz","dozen"],12,"prefix_only",["<each>"]],"<percent>":[["%","percent"],.01,"prefix_only",["<1>"]],"<ppm>":[["ppm"],1e-6,"prefix_only",["<1>"]],"<ppb>":[["ppb"],1e-9,"prefix_only",["<1>"]],"<ppt>":[["ppt"],1e-12,"prefix_only",["<1>"]],"<ppq>":[["ppq"],1e-15,"prefix_only",["<1>"]],"<gross>":[["gr","gross"],144,"prefix_only",["<dozen>","<dozen>"]],"<decibel>":[["dB","decibel","decibels"],1,"logarithmic",["<decibel>"]]},ai=["<meter>","<kilogram>","<second>","<mole>","<ampere>","<radian>","<kelvin>","<temp-K>","<byte>","<dollar>","<candela>","<each>","<steradian>","<decibel>"],si="<1>",ri=[si];function ii(Wi,mn){var vn=mn[1],Mn=mn[3]||[],Hn=mn[4]||[];if(!qe(vn))throw new ti(Wi+": Invalid unit definition. 'scalar' must be a number");Mn.forEach(function(Xn){if(oi[Xn]===void 0)throw new ti(Wi+": Invalid unit definition. Unit "+Xn+" in 'numerator' is not recognized")}),Hn.forEach(function(Xn){if(oi[Xn]===void 0)throw new ti(Wi+": Invalid unit definition. Unit "+Xn+" in 'denominator' is not recognized")})}var ui={},ci={},hi={},mi={},di={};for(var fi in oi)if(oi.hasOwnProperty(fi)){var yi=oi[fi];if(yi[2]==="prefix"){ui[fi]=yi[1];for(var pi=0;pi<yi[0].length;pi++)ci[yi[0][pi]]=fi}else{ii(fi,yi),hi[fi]={scalar:yi[1],numerator:yi[3],denominator:yi[4]};for(var xi=0;xi<yi[0].length;xi++)mi[yi[0][xi]]=fi}di[fi]=yi[0][0]}function Si(Wi){var mn,vn=[],Mn=Object.keys(oi);if(typeof Wi>"u")for(mn=0;mn<Mn.length;mn++)["","prefix"].indexOf(oi[Mn[mn]][2])===-1&&vn.push(Mn[mn].substr(1,Mn[mn].length-2));else{if(this.getKinds().indexOf(Wi)===-1)throw new ti("Kind not recognized");for(mn=0;mn<Mn.length;mn++)oi[Mn[mn]][2]===Wi&&vn.push(Mn[mn].substr(1,Mn[mn].length-2))}return vn.sort(function(Hn,Xn){return Hn.toLowerCase()<Xn.toLowerCase()?-1:Hn.toLowerCase()>Xn.toLowerCase()?1:0})}function vi(Wi){if(!mi[Wi])throw new ti("Unit not recognized");return oi[mi[Wi]][0]}var Di=["length","time","temperature","mass","current","substance","luminosity","currency","information","angle"];function Ti(){if(this.signature)return this.signature;for(var Wi=Fi.call(this),mn=0;mn<Wi.length;mn++)Wi[mn]*=Math.pow(20,mn);return Wi.reduce(function(vn,Mn){return vn+Mn},0)}function Fi(){if(!this.isBase())return Fi.call(this.toBase());for(var Wi=new Array(Di.length),mn=0;mn<Wi.length;mn++)Wi[mn]=0;for(var vn,Mn,Hn=0;Hn<this.numerator.length;Hn++)(vn=oi[this.numerator[Hn]])&&(Mn=Di.indexOf(vn[2]),Mn>=0&&(Wi[Mn]=Wi[Mn]+1));for(var Xn=0;Xn<this.denominator.length;Xn++)(vn=oi[this.denominator[Xn]])&&(Mn=Di.indexOf(vn[2]),Mn>=0&&(Wi[Mn]=Wi[Mn]-1));return Wi}var Ci="[+-]",Ni="\\d+",Ri=Ci+"?"+Ni,Yi="\\."+Ni,ki="(?:"+Ni+"(?:"+Yi+")?)|(?:"+Yi+")",ji="[Ee]"+Ri,Vi="(?:"+ki+")(?:"+ji+")?",Bi=Ci+"?\\s*"+Vi,Xi="("+Bi+")?\\s*([^/]*)(?:/(.+))?",en=new RegExp("^"+Xi+"$"),tn="\\^|\\*{2}",Ji="[01234]",Li=new RegExp("([^ \\*\\d]+?)(?:"+tn+")?(-?"+Ji+"(?![a-zA-Z]))"),wi=new RegExp("([^ \\*\\d]+?)(?:"+tn+")?("+Ji+"(?![a-zA-Z]))");function _i(Wi){Ve(Wi)||(Wi=Wi.toString()),Wi=Wi.trim();var mn=en.exec(Wi);if(!mn)throw new ti(Wi+": Quantity not recognized");var vn=mn[1];vn?(vn=vn.replace(/\s/g,""),this.scalar=parseFloat(vn)):this.scalar=1;for(var Mn=mn[2],Hn=mn[3],Xn,mr,rr;mn=Li.exec(Mn);){if(Xn=parseFloat(mn[2]),isNaN(Xn))throw new ti("Unit exponent is not a number");if(Xn===0&&!Gi.test(mn[1]))throw new ti("Unit not recognized");mr=mn[1]+" ",rr="";for(var ur=0;ur<Math.abs(Xn);ur++)rr+=mr;Xn>=0?Mn=Mn.replace(mn[0],rr):(Hn=Hn?Hn+rr:rr,Mn=Mn.replace(mn[0],""))}for(;mn=wi.exec(Hn);){if(Xn=parseFloat(mn[2]),isNaN(Xn))throw new ti("Unit exponent is not a number");if(Xn===0&&!Gi.test(mn[1]))throw new ti("Unit not recognized");mr=mn[1]+" ",rr="";for(var Cr=0;Cr<Xn;Cr++)rr+=mr;Hn=Hn.replace(mn[0],rr)}Mn&&(this.numerator=rn(Mn.trim())),Hn&&(this.denominator=rn(Hn.trim()))}var Ai=Object.keys(ci).sort(function(Wi,mn){return mn.length-Wi.length}).join("|"),Oi=Object.keys(mi).sort(function(Wi,mn){return mn.length-Wi.length}).join("|"),Ii="\\b|$",Mi="("+Ai+")??("+Oi+")(?:"+Ii+")",Gi=new RegExp("^\\s*("+Mi+"[\\s\\*]*)+$"),on=new RegExp(Mi,"g"),Ui={};function rn(Wi){var mn=Ui[Wi];if(mn)return mn;var vn,Mn=[];if(!Gi.test(Wi))throw new ti("Unit not recognized");for(;vn=on.exec(Wi);)Mn.push(vn.slice(1));return Mn=Mn.map(function(Hn){return ci[Hn[0]]?[ci[Hn[0]],mi[Hn[1]]]:[mi[Hn[1]]]}),Mn=Mn.reduce(function(Hn,Xn){return Hn.concat(Xn)},[]),Mn=Mn.filter(function(Hn){return Hn}),Ui[Wi]=Mn,Mn}function un(Wi){if(!Ve(Wi))throw new ti("Argument should be a string");try{return this(Wi)}catch{return null}}function dn(Wi){return Wi instanceof hn}function hn(Wi,mn){if(Sn.apply(null,arguments),!dn(this))return new hn(Wi,mn);if(this.scalar=null,this.baseScalar=null,this.signature=null,this._conversionCache={},this.numerator=ri,this.denominator=ri,fn(Wi)?(this.scalar=Wi.scalar,this.numerator=Wi.numerator&&Wi.numerator.length!==0?Wi.numerator:ri,this.denominator=Wi.denominator&&Wi.denominator.length!==0?Wi.denominator:ri):mn?(_i.call(this,mn),this.scalar=Wi):_i.call(this,Wi),this.denominator.join("*").indexOf("temp")>=0)throw new ti("Cannot divide with temperatures");if(this.numerator.join("*").indexOf("temp")>=0){if(this.numerator.length>1)throw new ti("Cannot multiply by temperatures");if(!Ke(this.denominator,ri))throw new ti("Cannot divide with temperatures")}if(this.initValue=Wi,Pn.call(this),this.isTemperature()&&this.baseScalar<0)throw new ti("Temperatures must not be less than absolute zero")}hn.prototype={constructor:hn};function Sn(Wi,mn){if(mn){if(!(qe(Wi)&&Ve(mn)))throw new ti("Only number accepted as initialization value when units are explicitly provided")}else if(!(Ve(Wi)||qe(Wi)||dn(Wi)||fn(Wi)))throw new ti("Only string, number or quantity accepted as single initialization value")}function fn(Wi){return Wi&&typeof Wi=="object"&&Wi.hasOwnProperty("scalar")}function Pn(){if(this.baseScalar)return this.baseScalar;if(this.isBase())this.baseScalar=this.scalar,this.signature=Ti.call(this);else{var Wi=this.toBase();this.baseScalar=Wi.scalar,this.signature=Wi.signature}}var zi={"-312078":"elastance","-312058":"resistance","-312038":"inductance","-152058":"potential","-152040":"magnetism","-152038":"magnetism","-7997":"specific_volume","-79":"snap","-59":"jolt","-39":"acceleration","-38":"radiation","-20":"frequency","-19":"speed","-18":"viscosity","-17":"volumetric_flow","-1":"wavenumber",0:"unitless",1:"length",2:"area",3:"volume",20:"time",400:"temperature",7941:"yank",7942:"power",7959:"pressure",7961:"force",7962:"energy",7979:"viscosity",7981:"momentum",7982:"angular_momentum",7997:"density",7998:"area_density",8e3:"mass",152020:"radiation_exposure",159999:"magnetism",16e4:"current",160020:"charge",312058:"conductance",312078:"capacitance",3199980:"activity",3199997:"molar_concentration",32e5:"substance",63999998:"illuminance",64e6:"luminous_power",128e7:"currency","25599999980":"information_rate","25600000000":"information","511999999980":"angular_velocity","512000000000":"angle"};function En(){return We(Object.keys(zi).map(function(Wi){return zi[Wi]}))}hn.prototype.kind=function(){return zi[this.signature.toString()]},Je(hn.prototype,{isDegrees:function(){return(this.signature===null||this.signature===400)&&this.numerator.length===1&&Ke(this.denominator,ri)&&(this.numerator[0].match(/<temp-[CFRK]>/)||this.numerator[0].match(/<(kelvin|celsius|rankine|fahrenheit)>/))},isTemperature:function(){return this.isDegrees()&&this.numerator[0].match(/<temp-[CFRK]>/)}});function yn(Wi,mn){var vn=Wi.units(),Mn=mn.to(vn),Hn=hn(_n(vn));return hn({scalar:Wi.scalar-Mn.scalar,numerator:Hn.numerator,denominator:Hn.denominator})}function An(Wi,mn){var vn=mn.to(_n(Wi.units()));return hn({scalar:Wi.scalar-vn.scalar,numerator:Wi.numerator,denominator:Wi.denominator})}function sn(Wi,mn){var vn=mn.to(_n(Wi.units()));return hn({scalar:Wi.scalar+vn.scalar,numerator:Wi.numerator,denominator:Wi.denominator})}function _n(Wi){if(Wi==="tempK")return"degK";if(Wi==="tempC")return"degC";if(Wi==="tempF")return"degF";if(Wi==="tempR")return"degR";throw new ti("Unknown type for temp conversion from: "+Wi)}function Tn(Wi,mn){var vn=In(Wi),Mn=mn.units(),Hn;if(Mn==="degK")Hn=vn.scalar;else if(Mn==="degC")Hn=vn.scalar;else if(Mn==="degF")Hn=vn.scalar*9/5;else if(Mn==="degR")Hn=vn.scalar*9/5;else throw new ti("Unknown type for degree conversion to: "+Mn);return hn({scalar:Hn,numerator:mn.numerator,denominator:mn.denominator})}function In(Wi){var mn=Wi.units(),vn;if(mn.match(/(deg)[CFRK]/))vn=Wi.baseScalar;else if(mn==="tempK")vn=Wi.scalar;else if(mn==="tempC")vn=Wi.scalar;else if(mn==="tempF")vn=Wi.scalar*5/9;else if(mn==="tempR")vn=Wi.scalar*5/9;else throw new ti("Unknown type for temp conversion from: "+mn);return hn({scalar:vn,numerator:["<kelvin>"],denominator:ri})}function Rn(Wi,mn){var vn=mn.units(),Mn;if(vn==="tempK")Mn=Wi.baseScalar;else if(vn==="tempC")Mn=Wi.baseScalar-273.15;else if(vn==="tempF")Mn=Wi.baseScalar*9/5-459.67;else if(vn==="tempR")Mn=Wi.baseScalar*9/5;else throw new ti("Unknown type for temp conversion to: "+vn);return hn({scalar:Mn,numerator:mn.numerator,denominator:mn.denominator})}function zn(Wi){var mn=Wi.units(),vn;if(mn.match(/(deg)[CFRK]/))vn=Wi.baseScalar;else if(mn==="tempK")vn=Wi.scalar;else if(mn==="tempC")vn=Wi.scalar+273.15;else if(mn==="tempF")vn=(Wi.scalar+459.67)*5/9;else if(mn==="tempR")vn=Wi.scalar*5/9;else throw new ti("Unknown type for temp conversion from: "+mn);return hn({scalar:vn,numerator:["<temp-K>"],denominator:ri})}Je(hn.prototype,{to:function(Wi){var mn,vn;if(Wi==null)return this;if(!Ve(Wi))return this.to(Wi.units());if(mn=this._conversionCache[Wi],mn)return mn;if(vn=hn(Wi),vn.units()===this.units())return this;if(!this.isCompatible(vn))this.isInverse(vn)?vn=this.inverse().to(Wi):ni(this.units(),vn.units());else if(vn.isTemperature())vn=Rn(this,vn);else if(vn.isDegrees())vn=Tn(this,vn);else{var Mn=Qe(this.baseScalar,vn.baseScalar);vn=hn({scalar:Mn,numerator:vn.numerator,denominator:vn.denominator})}return this._conversionCache[Wi]=vn,vn},toBase:function(){if(this.isBase())return this;if(this.isTemperature())return zn(this);var Wi=qn[this.units()];return Wi||(Wi=er(this.numerator,this.denominator),qn[this.units()]=Wi),Wi.mul(this.scalar)},toFloat:function(){if(this.isUnitless())return this.scalar;throw new ti("Can't convert to Float unless unitless.  Use Unit#scalar")},toPrec:function(Wi){if(Ve(Wi)&&(Wi=hn(Wi)),qe(Wi)&&(Wi=hn(Wi+" "+this.units())),this.isUnitless()?Wi.isUnitless()||ni(this.units(),Wi.units()):Wi=Wi.to(this.units()),Wi.scalar===0)throw new ti("Divide by zero");var mn=Ze(Math.round(this.scalar/Wi.scalar),Wi.scalar);return hn(mn+this.units())}});function Un(Wi,mn){var vn=hn(Wi),Mn=hn(mn);if(vn.eq(Mn))return Xe;var Hn;return vn.isTemperature()?Hn=function(Xn){return vn.mul(Xn).to(Mn).scalar}:Hn=function(Xn){return Xn*vn.baseScalar/Mn.baseScalar},function(Xn){var mr,rr,ur;if(Array.isArray(Xn)){for(rr=Xn.length,ur=[],mr=0;mr<rr;mr++)ur.push(Hn(Xn[mr]));return ur}else return Hn(Xn)}}var qn={};function er(Wi,mn){for(var vn=[],Mn=[],Hn=1,Xn,mr=0;mr<Wi.length;mr++)Xn=Wi[mr],ui[Xn]?Hn=Ze(Hn,ui[Xn]):hi[Xn]&&(Hn*=hi[Xn].scalar,hi[Xn].numerator&&vn.push(hi[Xn].numerator),hi[Xn].denominator&&Mn.push(hi[Xn].denominator));for(var rr=0;rr<mn.length;rr++)Xn=mn[rr],ui[Xn]?Hn/=ui[Xn]:hi[Xn]&&(Hn/=hi[Xn].scalar,hi[Xn].numerator&&Mn.push(hi[Xn].numerator),hi[Xn].denominator&&vn.push(hi[Xn].denominator));return vn=vn.reduce(function(ur,Cr){return ur.concat(Cr)},[]),Mn=Mn.reduce(function(ur,Cr){return ur.concat(Cr)},[]),hn({scalar:Hn,numerator:vn,denominator:Mn})}hn.parse=un,hn.getUnits=Si,hn.getAliases=vi,hn.mulSafe=Ze,hn.divSafe=Qe,hn.getKinds=En,hn.swiftConverter=Un,hn.Error=ti,Je(hn.prototype,{add:function(Wi){if(Ve(Wi)&&(Wi=hn(Wi)),this.isCompatible(Wi)||ni(this.units(),Wi.units()),this.isTemperature()&&Wi.isTemperature())throw new ti("Cannot add two temperatures");return this.isTemperature()?sn(this,Wi):Wi.isTemperature()?sn(Wi,this):hn({scalar:this.scalar+Wi.to(this).scalar,numerator:this.numerator,denominator:this.denominator})},sub:function(Wi){if(Ve(Wi)&&(Wi=hn(Wi)),this.isCompatible(Wi)||ni(this.units(),Wi.units()),this.isTemperature()&&Wi.isTemperature())return yn(this,Wi);if(this.isTemperature())return An(this,Wi);if(Wi.isTemperature())throw new ti("Cannot subtract a temperature from a differential degree unit");return hn({scalar:this.scalar-Wi.to(this).scalar,numerator:this.numerator,denominator:this.denominator})},mul:function(Wi){if(qe(Wi))return hn({scalar:Ze(this.scalar,Wi),numerator:this.numerator,denominator:this.denominator});if(Ve(Wi)&&(Wi=hn(Wi)),(this.isTemperature()||Wi.isTemperature())&&!(this.isUnitless()||Wi.isUnitless()))throw new ti("Cannot multiply by temperatures");var mn=this,vn=Wi;mn.isCompatible(vn)&&mn.signature!==400&&(vn=vn.to(mn));var Mn=ir(mn.numerator,mn.denominator,vn.numerator,vn.denominator);return hn({scalar:Ze(mn.scalar,vn.scalar,Mn[2]),numerator:Mn[0],denominator:Mn[1]})},div:function(Wi){if(qe(Wi)){if(Wi===0)throw new ti("Divide by zero");return hn({scalar:this.scalar/Wi,numerator:this.numerator,denominator:this.denominator})}else Ve(Wi)&&(Wi=hn(Wi));if(Wi.scalar===0)throw new ti("Divide by zero");if(Wi.isTemperature())throw new ti("Cannot divide with temperatures");if(this.isTemperature()&&!Wi.isUnitless())throw new ti("Cannot divide with temperatures");var mn=this,vn=Wi;mn.isCompatible(vn)&&mn.signature!==400&&(vn=vn.to(mn));var Mn=ir(mn.numerator,mn.denominator,vn.denominator,vn.numerator);return hn({scalar:Ze(mn.scalar,Mn[2])/vn.scalar,numerator:Mn[0],denominator:Mn[1]})},inverse:function(){if(this.isTemperature())throw new ti("Cannot divide with temperatures");if(this.scalar===0)throw new ti("Divide by zero");return hn({scalar:1/this.scalar,numerator:this.denominator,denominator:this.numerator})}});function ir(Wi,mn,vn,Mn){function Hn(yr){return yr!==si}Wi=Wi.filter(Hn),vn=vn.filter(Hn),mn=mn.filter(Hn),Mn=Mn.filter(Hn);var Xn={};function mr(yr,Dr){for(var Ar,Tr,Hr,jr=0;jr<yr.length;jr++)if(ui[yr[jr]]?(Ar=yr[jr+1],Tr=yr[jr],Hr=ui[Tr],jr++):(Ar=yr[jr],Tr=null,Hr=1),Ar&&Ar!==si)if(Xn[Ar]){Xn[Ar][0]+=Dr;var ho=Xn[Ar][2]?ui[Xn[Ar][2]]:1;Xn[Ar][Dr===1?3:4]*=Qe(Hr,ho)}else Xn[Ar]=[Dr,Ar,Tr,1,1]}mr(Wi,1),mr(mn,-1),mr(vn,1),mr(Mn,-1);var rr=[],ur=[],Cr=1;for(var oo in Xn)if(Xn.hasOwnProperty(oo)){var Sr=Xn[oo],Nr;if(Sr[0]>0)for(Nr=0;Nr<Sr[0];Nr++)rr.push(Sr[2]===null?Sr[1]:[Sr[2],Sr[1]]);else if(Sr[0]<0)for(Nr=0;Nr<-Sr[0];Nr++)ur.push(Sr[2]===null?Sr[1]:[Sr[2],Sr[1]]);Cr*=Qe(Sr[3],Sr[4])}return rr.length===0&&(rr=ri),ur.length===0&&(ur=ri),rr=rr.reduce(function(yr,Dr){return yr.concat(Dr)},[]),ur=ur.reduce(function(yr,Dr){return yr.concat(Dr)},[]),[rr,ur,Cr]}Je(hn.prototype,{eq:function(Wi){return this.compareTo(Wi)===0},lt:function(Wi){return this.compareTo(Wi)===-1},lte:function(Wi){return this.eq(Wi)||this.lt(Wi)},gt:function(Wi){return this.compareTo(Wi)===1},gte:function(Wi){return this.eq(Wi)||this.gt(Wi)},compareTo:function(Wi){if(Ve(Wi))return this.compareTo(hn(Wi));if(this.isCompatible(Wi)||ni(this.units(),Wi.units()),this.baseScalar<Wi.baseScalar)return-1;if(this.baseScalar===Wi.baseScalar)return 0;if(this.baseScalar>Wi.baseScalar)return 1},same:function(Wi){return this.scalar===Wi.scalar&&this.units()===Wi.units()}}),Je(hn.prototype,{isUnitless:function(){return[this.numerator,this.denominator].every(function(Wi){return Ke(Wi,ri)})},isCompatible:function(Wi){return Ve(Wi)?this.isCompatible(hn(Wi)):dn(Wi)&&Wi.signature!==void 0?this.signature===Wi.signature:!1},isInverse:function(Wi){return this.inverse().isCompatible(Wi)},isBase:function(){return this._isBase!==void 0?this._isBase:this.isDegrees()&&this.numerator[0].match(/<(kelvin|temp-K)>/)?(this._isBase=!0,this._isBase):(this.numerator.concat(this.denominator).forEach(function(Wi){Wi!==si&&ai.indexOf(Wi)===-1&&(this._isBase=!1)},this),this._isBase===!1?this._isBase:(this._isBase=!0,this._isBase))}});function dr(){}dr.prototype.get=function(Wi){return arguments.length>1&&(Wi=Array.apply(null,arguments)),Wi.reduce(function(mn,vn,Mn){if(mn){var Hn=mn[vn];return Mn===Wi.length-1?Hn?Hn.data:void 0:Hn}},this)},dr.prototype.set=function(Wi,mn){return arguments.length>2&&(Wi=Array.prototype.slice.call(arguments,0,-1),mn=arguments[arguments.length-1]),Wi.reduce(function(vn,Mn,Hn){var Xn=vn[Mn];return Xn===void 0&&(Xn=vn[Mn]={}),Hn===Wi.length-1?(Xn.data=mn,mn):Xn},this)};function sr(Wi,mn){return(Wi+" "+mn).trim()}hn.formatter=sr,Je(hn.prototype,{units:function(){if(this._units!==void 0)return this._units;var Wi=Ke(this.numerator,ri),mn=Ke(this.denominator,ri);if(Wi&&mn)return this._units="",this._units;var vn=Jn(this.numerator),Mn=Jn(this.denominator);return this._units=vn+(mn?"":"/"+Mn),this._units},toString:function(Wi,mn){var vn;if(qe(Wi))vn=this.units(),mn=Wi;else if(Ve(Wi))vn=Wi;else if(dn(Wi))return this.toPrec(Wi).toString(mn);var Mn=this.to(vn),Hn=mn!==void 0?St(Mn.scalar,mn):Mn.scalar;return Mn=(Hn+" "+Mn.units()).trim(),Mn},format:function(Wi,mn){arguments.length===1&&typeof Wi=="function"&&(mn=Wi,Wi=void 0),mn=mn||hn.formatter;var vn=this.to(Wi);return mn.call(this,vn.scalar,vn.units())}});var nr=new dr;function Jn(Wi){var mn=nr.get(Wi);if(mn)return mn;var vn=Ke(Wi,ri);return vn?mn="1":mn=Ln(cr(Wi)).join("*"),nr.set(Wi,mn),mn}function cr(Wi){for(var mn=[],vn,Mn,Hn=0;Hn<Wi.length;Hn++)vn=Wi[Hn],Mn=Wi[Hn+1],ui[vn]?(mn.push(di[vn]+di[Mn]),Hn++):mn.push(di[vn]);return mn}function Ln(Wi){var mn=Wi.reduce(function(vn,Mn){var Hn=vn[Mn];return Hn||vn.push(Hn=vn[Mn]=[Mn,0]),Hn[1]++,vn},[]);return mn.map(function(vn){return vn[0]+(vn[1]>1?vn[1]:"")})}return hn.version="1.8.0",hn})})(quantities);var quantitiesExports=quantities.exports;const Qty=getDefaultExportFromCjs$1(quantitiesExports);function deepValue(je,$e=""){let Ve=$e.split(".");for(let ze of Ve){if(je[ze]===void 0)return;je=je[ze]}return je}var orientation={exports:{}},twoProduct_1=twoProduct$1,SPLITTER=+(Math.pow(2,27)+1);function twoProduct$1(je,$e,Ve){var ze=je*$e,qe=SPLITTER*je,Xe=qe-je,We=qe-Xe,Ke=je-We,Je=SPLITTER*$e,Ze=Je-$e,Qe=Je-Ze,St=$e-Qe,ei=ze-We*Qe,ti=ei-Ke*Qe,ni=ti-We*St,oi=Ke*St-ni;return Ve?(Ve[0]=oi,Ve[1]=ze,Ve):[oi,ze]}var robustSum=linearExpansionSum;function scalarScalar$1(je,$e){var Ve=je+$e,ze=Ve-je,qe=Ve-ze,Xe=$e-ze,We=je-qe,Ke=We+Xe;return Ke?[Ke,Ve]:[Ve]}function linearExpansionSum(je,$e){var Ve=je.length|0,ze=$e.length|0;if(Ve===1&&ze===1)return scalarScalar$1(je[0],$e[0]);var qe=Ve+ze,Xe=new Array(qe),We=0,Ke=0,Je=0,Ze=Math.abs,Qe=je[Ke],St=Ze(Qe),ei=$e[Je],ti=Ze(ei),ni,oi;St<ti?(oi=Qe,Ke+=1,Ke<Ve&&(Qe=je[Ke],St=Ze(Qe))):(oi=ei,Je+=1,Je<ze&&(ei=$e[Je],ti=Ze(ei))),Ke<Ve&&St<ti||Je>=ze?(ni=Qe,Ke+=1,Ke<Ve&&(Qe=je[Ke],St=Ze(Qe))):(ni=ei,Je+=1,Je<ze&&(ei=$e[Je],ti=Ze(ei)));for(var ai=ni+oi,si=ai-ni,ri=oi-si,ii=ri,ui=ai,ci,hi,mi,di,fi;Ke<Ve&&Je<ze;)St<ti?(ni=Qe,Ke+=1,Ke<Ve&&(Qe=je[Ke],St=Ze(Qe))):(ni=ei,Je+=1,Je<ze&&(ei=$e[Je],ti=Ze(ei))),oi=ii,ai=ni+oi,si=ai-ni,ri=oi-si,ri&&(Xe[We++]=ri),ci=ui+ai,hi=ci-ui,mi=ci-hi,di=ai-hi,fi=ui-mi,ii=fi+di,ui=ci;for(;Ke<Ve;)ni=Qe,oi=ii,ai=ni+oi,si=ai-ni,ri=oi-si,ri&&(Xe[We++]=ri),ci=ui+ai,hi=ci-ui,mi=ci-hi,di=ai-hi,fi=ui-mi,ii=fi+di,ui=ci,Ke+=1,Ke<Ve&&(Qe=je[Ke]);for(;Je<ze;)ni=ei,oi=ii,ai=ni+oi,si=ai-ni,ri=oi-si,ri&&(Xe[We++]=ri),ci=ui+ai,hi=ci-ui,mi=ci-hi,di=ai-hi,fi=ui-mi,ii=fi+di,ui=ci,Je+=1,Je<ze&&(ei=$e[Je]);return ii&&(Xe[We++]=ii),ui&&(Xe[We++]=ui),We||(Xe[We++]=0),Xe.length=We,Xe}var twoSum$1=fastTwoSum;function fastTwoSum(je,$e,Ve){var ze=je+$e,qe=ze-je,Xe=ze-qe,We=$e-qe,Ke=je-Xe;return Ve?(Ve[0]=Ke+We,Ve[1]=ze,Ve):[Ke+We,ze]}var twoProduct=twoProduct_1,twoSum=twoSum$1,robustScale=scaleLinearExpansion;function scaleLinearExpansion(je,$e){var Ve=je.length;if(Ve===1){var ze=twoProduct(je[0],$e);return ze[0]?ze:[ze[1]]}var qe=new Array(2*Ve),Xe=[.1,.1],We=[.1,.1],Ke=0;twoProduct(je[0],$e,Xe),Xe[0]&&(qe[Ke++]=Xe[0]);for(var Je=1;Je<Ve;++Je){twoProduct(je[Je],$e,We);var Ze=Xe[1];twoSum(Ze,We[0],Xe),Xe[0]&&(qe[Ke++]=Xe[0]);var Qe=We[1],St=Xe[1],ei=Qe+St,ti=ei-Qe,ni=St-ti;Xe[1]=ei,ni&&(qe[Ke++]=ni)}return Xe[1]&&(qe[Ke++]=Xe[1]),Ke===0&&(qe[Ke++]=0),qe.length=Ke,qe}var robustDiff=robustSubtract;function scalarScalar(je,$e){var Ve=je+$e,ze=Ve-je,qe=Ve-ze,Xe=$e-ze,We=je-qe,Ke=We+Xe;return Ke?[Ke,Ve]:[Ve]}function robustSubtract(je,$e){var Ve=je.length|0,ze=$e.length|0;if(Ve===1&&ze===1)return scalarScalar(je[0],-$e[0]);var qe=Ve+ze,Xe=new Array(qe),We=0,Ke=0,Je=0,Ze=Math.abs,Qe=je[Ke],St=Ze(Qe),ei=-$e[Je],ti=Ze(ei),ni,oi;St<ti?(oi=Qe,Ke+=1,Ke<Ve&&(Qe=je[Ke],St=Ze(Qe))):(oi=ei,Je+=1,Je<ze&&(ei=-$e[Je],ti=Ze(ei))),Ke<Ve&&St<ti||Je>=ze?(ni=Qe,Ke+=1,Ke<Ve&&(Qe=je[Ke],St=Ze(Qe))):(ni=ei,Je+=1,Je<ze&&(ei=-$e[Je],ti=Ze(ei)));for(var ai=ni+oi,si=ai-ni,ri=oi-si,ii=ri,ui=ai,ci,hi,mi,di,fi;Ke<Ve&&Je<ze;)St<ti?(ni=Qe,Ke+=1,Ke<Ve&&(Qe=je[Ke],St=Ze(Qe))):(ni=ei,Je+=1,Je<ze&&(ei=-$e[Je],ti=Ze(ei))),oi=ii,ai=ni+oi,si=ai-ni,ri=oi-si,ri&&(Xe[We++]=ri),ci=ui+ai,hi=ci-ui,mi=ci-hi,di=ai-hi,fi=ui-mi,ii=fi+di,ui=ci;for(;Ke<Ve;)ni=Qe,oi=ii,ai=ni+oi,si=ai-ni,ri=oi-si,ri&&(Xe[We++]=ri),ci=ui+ai,hi=ci-ui,mi=ci-hi,di=ai-hi,fi=ui-mi,ii=fi+di,ui=ci,Ke+=1,Ke<Ve&&(Qe=je[Ke]);for(;Je<ze;)ni=ei,oi=ii,ai=ni+oi,si=ai-ni,ri=oi-si,ri&&(Xe[We++]=ri),ci=ui+ai,hi=ci-ui,mi=ci-hi,di=ai-hi,fi=ui-mi,ii=fi+di,ui=ci,Je+=1,Je<ze&&(ei=-$e[Je]);return ii&&(Xe[We++]=ii),ui&&(Xe[We++]=ui),We||(Xe[We++]=0),Xe.length=We,Xe}(function(je){var $e=twoProduct_1,Ve=robustSum,ze=robustScale,qe=robustDiff,Xe=5,We=11102230246251565e-32,Ke=(3+16*We)*We,Je=(7+56*We)*We;function Ze(ii,ui,ci,hi){return function(mi,di,fi){var yi=ii(ii(ui(di[1],fi[0]),ui(-fi[1],di[0])),ii(ui(mi[1],di[0]),ui(-di[1],mi[0]))),pi=ii(ui(mi[1],fi[0]),ui(-fi[1],mi[0])),xi=hi(yi,pi);return xi[xi.length-1]}}function Qe(ii,ui,ci,hi){return function(mi,di,fi,yi){var pi=ii(ii(ci(ii(ui(fi[1],yi[0]),ui(-yi[1],fi[0])),di[2]),ii(ci(ii(ui(di[1],yi[0]),ui(-yi[1],di[0])),-fi[2]),ci(ii(ui(di[1],fi[0]),ui(-fi[1],di[0])),yi[2]))),ii(ci(ii(ui(di[1],yi[0]),ui(-yi[1],di[0])),mi[2]),ii(ci(ii(ui(mi[1],yi[0]),ui(-yi[1],mi[0])),-di[2]),ci(ii(ui(mi[1],di[0]),ui(-di[1],mi[0])),yi[2])))),xi=ii(ii(ci(ii(ui(fi[1],yi[0]),ui(-yi[1],fi[0])),mi[2]),ii(ci(ii(ui(mi[1],yi[0]),ui(-yi[1],mi[0])),-fi[2]),ci(ii(ui(mi[1],fi[0]),ui(-fi[1],mi[0])),yi[2]))),ii(ci(ii(ui(di[1],fi[0]),ui(-fi[1],di[0])),mi[2]),ii(ci(ii(ui(mi[1],fi[0]),ui(-fi[1],mi[0])),-di[2]),ci(ii(ui(mi[1],di[0]),ui(-di[1],mi[0])),fi[2])))),Si=hi(pi,xi);return Si[Si.length-1]}}function St(ii,ui,ci,hi){return function(mi,di,fi,yi,pi){var xi=ii(ii(ii(ci(ii(ci(ii(ui(yi[1],pi[0]),ui(-pi[1],yi[0])),fi[2]),ii(ci(ii(ui(fi[1],pi[0]),ui(-pi[1],fi[0])),-yi[2]),ci(ii(ui(fi[1],yi[0]),ui(-yi[1],fi[0])),pi[2]))),di[3]),ii(ci(ii(ci(ii(ui(yi[1],pi[0]),ui(-pi[1],yi[0])),di[2]),ii(ci(ii(ui(di[1],pi[0]),ui(-pi[1],di[0])),-yi[2]),ci(ii(ui(di[1],yi[0]),ui(-yi[1],di[0])),pi[2]))),-fi[3]),ci(ii(ci(ii(ui(fi[1],pi[0]),ui(-pi[1],fi[0])),di[2]),ii(ci(ii(ui(di[1],pi[0]),ui(-pi[1],di[0])),-fi[2]),ci(ii(ui(di[1],fi[0]),ui(-fi[1],di[0])),pi[2]))),yi[3]))),ii(ci(ii(ci(ii(ui(fi[1],yi[0]),ui(-yi[1],fi[0])),di[2]),ii(ci(ii(ui(di[1],yi[0]),ui(-yi[1],di[0])),-fi[2]),ci(ii(ui(di[1],fi[0]),ui(-fi[1],di[0])),yi[2]))),-pi[3]),ii(ci(ii(ci(ii(ui(yi[1],pi[0]),ui(-pi[1],yi[0])),di[2]),ii(ci(ii(ui(di[1],pi[0]),ui(-pi[1],di[0])),-yi[2]),ci(ii(ui(di[1],yi[0]),ui(-yi[1],di[0])),pi[2]))),mi[3]),ci(ii(ci(ii(ui(yi[1],pi[0]),ui(-pi[1],yi[0])),mi[2]),ii(ci(ii(ui(mi[1],pi[0]),ui(-pi[1],mi[0])),-yi[2]),ci(ii(ui(mi[1],yi[0]),ui(-yi[1],mi[0])),pi[2]))),-di[3])))),ii(ii(ci(ii(ci(ii(ui(di[1],pi[0]),ui(-pi[1],di[0])),mi[2]),ii(ci(ii(ui(mi[1],pi[0]),ui(-pi[1],mi[0])),-di[2]),ci(ii(ui(mi[1],di[0]),ui(-di[1],mi[0])),pi[2]))),yi[3]),ii(ci(ii(ci(ii(ui(di[1],yi[0]),ui(-yi[1],di[0])),mi[2]),ii(ci(ii(ui(mi[1],yi[0]),ui(-yi[1],mi[0])),-di[2]),ci(ii(ui(mi[1],di[0]),ui(-di[1],mi[0])),yi[2]))),-pi[3]),ci(ii(ci(ii(ui(fi[1],yi[0]),ui(-yi[1],fi[0])),di[2]),ii(ci(ii(ui(di[1],yi[0]),ui(-yi[1],di[0])),-fi[2]),ci(ii(ui(di[1],fi[0]),ui(-fi[1],di[0])),yi[2]))),mi[3]))),ii(ci(ii(ci(ii(ui(fi[1],yi[0]),ui(-yi[1],fi[0])),mi[2]),ii(ci(ii(ui(mi[1],yi[0]),ui(-yi[1],mi[0])),-fi[2]),ci(ii(ui(mi[1],fi[0]),ui(-fi[1],mi[0])),yi[2]))),-di[3]),ii(ci(ii(ci(ii(ui(di[1],yi[0]),ui(-yi[1],di[0])),mi[2]),ii(ci(ii(ui(mi[1],yi[0]),ui(-yi[1],mi[0])),-di[2]),ci(ii(ui(mi[1],di[0]),ui(-di[1],mi[0])),yi[2]))),fi[3]),ci(ii(ci(ii(ui(di[1],fi[0]),ui(-fi[1],di[0])),mi[2]),ii(ci(ii(ui(mi[1],fi[0]),ui(-fi[1],mi[0])),-di[2]),ci(ii(ui(mi[1],di[0]),ui(-di[1],mi[0])),fi[2]))),-yi[3]))))),Si=ii(ii(ii(ci(ii(ci(ii(ui(yi[1],pi[0]),ui(-pi[1],yi[0])),fi[2]),ii(ci(ii(ui(fi[1],pi[0]),ui(-pi[1],fi[0])),-yi[2]),ci(ii(ui(fi[1],yi[0]),ui(-yi[1],fi[0])),pi[2]))),mi[3]),ci(ii(ci(ii(ui(yi[1],pi[0]),ui(-pi[1],yi[0])),mi[2]),ii(ci(ii(ui(mi[1],pi[0]),ui(-pi[1],mi[0])),-yi[2]),ci(ii(ui(mi[1],yi[0]),ui(-yi[1],mi[0])),pi[2]))),-fi[3])),ii(ci(ii(ci(ii(ui(fi[1],pi[0]),ui(-pi[1],fi[0])),mi[2]),ii(ci(ii(ui(mi[1],pi[0]),ui(-pi[1],mi[0])),-fi[2]),ci(ii(ui(mi[1],fi[0]),ui(-fi[1],mi[0])),pi[2]))),yi[3]),ci(ii(ci(ii(ui(fi[1],yi[0]),ui(-yi[1],fi[0])),mi[2]),ii(ci(ii(ui(mi[1],yi[0]),ui(-yi[1],mi[0])),-fi[2]),ci(ii(ui(mi[1],fi[0]),ui(-fi[1],mi[0])),yi[2]))),-pi[3]))),ii(ii(ci(ii(ci(ii(ui(fi[1],pi[0]),ui(-pi[1],fi[0])),di[2]),ii(ci(ii(ui(di[1],pi[0]),ui(-pi[1],di[0])),-fi[2]),ci(ii(ui(di[1],fi[0]),ui(-fi[1],di[0])),pi[2]))),mi[3]),ci(ii(ci(ii(ui(fi[1],pi[0]),ui(-pi[1],fi[0])),mi[2]),ii(ci(ii(ui(mi[1],pi[0]),ui(-pi[1],mi[0])),-fi[2]),ci(ii(ui(mi[1],fi[0]),ui(-fi[1],mi[0])),pi[2]))),-di[3])),ii(ci(ii(ci(ii(ui(di[1],pi[0]),ui(-pi[1],di[0])),mi[2]),ii(ci(ii(ui(mi[1],pi[0]),ui(-pi[1],mi[0])),-di[2]),ci(ii(ui(mi[1],di[0]),ui(-di[1],mi[0])),pi[2]))),fi[3]),ci(ii(ci(ii(ui(di[1],fi[0]),ui(-fi[1],di[0])),mi[2]),ii(ci(ii(ui(mi[1],fi[0]),ui(-fi[1],mi[0])),-di[2]),ci(ii(ui(mi[1],di[0]),ui(-di[1],mi[0])),fi[2]))),-pi[3])))),vi=hi(xi,Si);return vi[vi.length-1]}}function ei(ii){var ui=ii===3?Ze:ii===4?Qe:St;return ui(Ve,$e,ze,qe)}var ti=ei(3),ni=ei(4),oi=[function(){return 0},function(){return 0},function(ii,ui){return ui[0]-ii[0]},function(ii,ui,ci){var hi=(ii[1]-ci[1])*(ui[0]-ci[0]),mi=(ii[0]-ci[0])*(ui[1]-ci[1]),di=hi-mi,fi;if(hi>0){if(mi<=0)return di;fi=hi+mi}else if(hi<0){if(mi>=0)return di;fi=-(hi+mi)}else return di;var yi=Ke*fi;return di>=yi||di<=-yi?di:ti(ii,ui,ci)},function(ii,ui,ci,hi){var mi=ii[0]-hi[0],di=ui[0]-hi[0],fi=ci[0]-hi[0],yi=ii[1]-hi[1],pi=ui[1]-hi[1],xi=ci[1]-hi[1],Si=ii[2]-hi[2],vi=ui[2]-hi[2],Di=ci[2]-hi[2],Ti=di*xi,Fi=fi*pi,Ci=fi*yi,Ni=mi*xi,Ri=mi*pi,Yi=di*yi,ki=Si*(Ti-Fi)+vi*(Ci-Ni)+Di*(Ri-Yi),ji=(Math.abs(Ti)+Math.abs(Fi))*Math.abs(Si)+(Math.abs(Ci)+Math.abs(Ni))*Math.abs(vi)+(Math.abs(Ri)+Math.abs(Yi))*Math.abs(Di),Vi=Je*ji;return ki>Vi||-ki>Vi?ki:ni(ii,ui,ci,hi)}];function ai(ii){var ui=oi[ii.length];return ui||(ui=oi[ii.length]=ei(ii.length)),ui.apply(void 0,ii)}function si(ii,ui,ci,hi,mi,di,fi){return function(yi,pi,xi,Si,vi){switch(arguments.length){case 0:case 1:return 0;case 2:return hi(yi,pi);case 3:return mi(yi,pi,xi);case 4:return di(yi,pi,xi,Si);case 5:return fi(yi,pi,xi,Si,vi)}for(var Di=new Array(arguments.length),Ti=0;Ti<arguments.length;++Ti)Di[Ti]=arguments[Ti];return ii(Di)}}function ri(){for(;oi.length<=Xe;)oi.push(ei(oi.length));je.exports=si.apply(void 0,[ai].concat(oi));for(var ii=0;ii<=Xe;++ii)je.exports[ii]=oi[ii]}ri()})(orientation);var orientationExports=orientation.exports,robustPnp=robustPointInPolygon,orient=orientationExports;function robustPointInPolygon(je,$e){for(var Ve=$e[0],ze=$e[1],qe=je.length,Xe=1,We=qe,Ke=0,Je=qe-1;Ke<We;Je=Ke++){var Ze=je[Ke],Qe=je[Je],St=Ze[1],ei=Qe[1];if(ei<St){if(ei<ze&&ze<St){var ti=orient(Ze,Qe,$e);if(ti===0)return 0;Xe^=0<ti|0}else if(ze===St){var ni=je[(Ke+1)%qe],oi=ni[1];if(St<oi){var ti=orient(Ze,Qe,$e);if(ti===0)return 0;Xe^=0<ti|0}}}else if(St<ei){if(St<ze&&ze<ei){var ti=orient(Ze,Qe,$e);if(ti===0)return 0;Xe^=ti<0|0}else if(ze===St){var ni=je[(Ke+1)%qe],oi=ni[1];if(oi<St){var ti=orient(Ze,Qe,$e);if(ti===0)return 0;Xe^=ti<0|0}}}else if(ze===St){var ai=Math.min(Ze[0],Qe[0]),si=Math.max(Ze[0],Qe[0]);if(Ke===0){for(;Je>0;){var ri=(Je+qe-1)%qe,ii=je[ri];if(ii[1]!==ze)break;var ui=ii[0];ai=Math.min(ai,ui),si=Math.max(si,ui),Je=ri}if(Je===0)return ai<=Ve&&Ve<=si?0:1;We=Je+1}for(var ci=je[(Je+qe-1)%qe][1];Ke+1<We;){var ii=je[Ke+1];if(ii[1]!==ze)break;var ui=ii[0];ai=Math.min(ai,ui),si=Math.max(si,ui),Ke+=1}if(ai<=Ve&&Ve<=si)return 0;var hi=je[(Ke+1)%qe][1];Ve<ai&&ci<ze!=hi<ze&&(Xe^=1)}}return 2*Xe-1}const robustPointInPolygon$1=getDefaultExportFromCjs$1(robustPnp);function feretDiameters(je={}){const{originalPoints:$e=monotoneChainConvexHull.call(this)}=je;if($e.length===0)return{min:0,max:0,minLine:[],maxLine:[],aspectRatio:1};if($e.length===1)return{min:1,max:1,minLine:[$e[0],$e[0]],maxLine:[$e[0],$e[0]],aspectRatio:1};const Ve=new Array($e.length);let ze=1/0,qe=0,Xe=[];for(let Ze=0;Ze<$e.length;Ze++){let Qe=getAngle($e[Ze],$e[(Ze+1)%$e.length]);rotate(-Qe,$e,Ve);let St=0,ei=[];for(let ti=0;ti<$e.length;ti++){let ni=Math.abs(Ve[Ze][1]-Ve[ti][1]);ni>St&&(St=ni,ei=[],ei.push([Ve[ti][0],Ve[Ze][1]],[Ve[ti][0],Ve[ti][1]]))}St<ze&&(ze=St,qe=Qe,Xe=ei)}rotate(qe,Xe,Xe);let We=0,Ke=[],Je=0;for(let Ze=0;Ze<$e.length-1;Ze++)for(let Qe=Ze+1;Qe<$e.length;Qe++){let St=($e[Ze][0]-$e[Qe][0])**2+($e[Ze][1]-$e[Qe][1])**2;St>Je&&(Je=St,We=Math.sqrt(St),Ke=[$e[Ze],$e[Qe]])}return{min:ze,minLine:Xe,max:We,maxLine:Ke,aspectRatio:ze/We}}function getAngle(je,$e){let Ve=difference($e,je),ze=normalize(Ve),qe=Math.acos(ze[0]);return ze[1]<0?-qe:qe}class Roi{constructor($e,Ve){this.map=$e,this.id=Ve,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY,this.meanX=0,this.meanY=0,this.surface=0,this.computed={}}getMask($e={}){const{scale:Ve=1,kind:ze=""}=$e;let qe;switch(ze){case"contour":qe=this.contourMask;break;case"box":qe=this.boxMask;break;case"filled":qe=this.filledMask;break;case"center":qe=this.centerMask;break;case"mbr":qe=this.mbrFilledMask;break;case"hull":qe=this.convexHullFilledMask;break;case"hullContour":qe=this.convexHullMask;break;case"mbrContour":qe=this.mbrMask;break;case"feret":qe=this.feretMask;break;default:qe=this.mask}return Ve<1&&(qe=qe.resize({factor:Ve}),qe.parent=this.mask.parent,qe.position[0]+=this.minX,qe.position[1]+=this.minY),qe}get mean(){throw new Error("Roi mean not implemented yet")}get center(){return this.computed.center||(this.computed.center=[this.width/2>>0,this.height/2>>0]),this.computed.center}get ratio(){return this.width/this.height}get width(){return this.maxX-this.minX+1}get height(){return this.maxY-this.minY+1}_computExternalIDs(){let $e=this.borderIDs,Ve=this.borderLengths;this.computed.externalIDs=[],this.computed.externalLengths=[];let ze=this.internalIDs;for(let qe=0;qe<$e.length;qe++)ze.includes($e[qe])||(this.computed.externalIDs.push($e[qe]),this.computed.externalLengths.push(Ve[qe]))}get externalIDs(){return this.computed.externalIDs?this.computed.externalIDs:(this._computExternalIDs(),this.computed.externalIDs)}get externalLengths(){return this.computed.externalLengths?this.computed.externalLengths:(this._computExternalIDs(),this.computed.externalLengths)}_computeBorderIDs(){let $e=getBorders(this);this.computed.borderIDs=$e.ids,this.computed.borderLengths=$e.lengths}get borderIDs(){return this.computed.borderIDs?this.computed.borderIDs:(this._computeBorderIDs(),this.computed.borderIDs)}get borderLengths(){return this.computed.borderLengths?this.computed.borderLengths:(this._computeBorderIDs(),this.computed.borderLengths)}get boxIDs(){return this.computed.boxIDs||(this.computed.boxIDs=getBoxIDs(this)),this.computed.boxIDs}get internalIDs(){return this.computed.internalIDs||(this.computed.internalIDs=getInternalIDs(this)),this.computed.internalIDs}get box(){return this.computed.box||(this.computed.box=getBox(this)),this.computed.box}get external(){return this.computed.external||(this.computed.external=getExternal(this)),this.computed.external}get holesInfo(){return this.computed.holesInfo||(this.computed.holesInfo=getHolesInfo(this)),this.computed.holesInfo}get border(){return this.computed.border||(this.computed.border=getBorder(this)),this.computed.border}get contourMask(){if(!this.computed.contourMask){let $e=new Image$1(this.width,this.height,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent});for(let Ve=0;Ve<this.width;Ve++)for(let ze=0;ze<this.height;ze++)this.map.data[Ve+this.minX+(ze+this.minY)*this.map.width]===this.id&&(Ve>0&&Ve<this.width-1&&ze>0&&ze<this.height-1?(this.map.data[Ve-1+this.minX+(ze+this.minY)*this.map.width]!==this.id||this.map.data[Ve+1+this.minX+(ze+this.minY)*this.map.width]!==this.id||this.map.data[Ve+this.minX+(ze-1+this.minY)*this.map.width]!==this.id||this.map.data[Ve+this.minX+(ze+1+this.minY)*this.map.width]!==this.id)&&$e.setBitXY(Ve,ze):$e.setBitXY(Ve,ze));this.computed.contourMask=$e}return this.computed.contourMask}get boxMask(){if(!this.computed.boxMask){let $e=new Image$1(this.width,this.height,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent});for(let Ve=0;Ve<this.width;Ve++)$e.setBitXY(Ve,0),$e.setBitXY(Ve,this.height-1);for(let Ve=0;Ve<this.height;Ve++)$e.setBitXY(0,Ve),$e.setBitXY(this.width-1,Ve);this.computed.boxMask=$e}return this.computed.boxMask}get mask(){if(!this.computed.mask){let $e=new Image$1(this.width,this.height,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent});for(let Ve=0;Ve<this.width;Ve++)for(let ze=0;ze<this.height;ze++)this.map.data[Ve+this.minX+(ze+this.minY)*this.map.width]===this.id&&$e.setBitXY(Ve,ze);this.computed.mask=$e}return this.computed.mask}get filledMask(){if(!this.computed.filledMask){let $e=new Image$1(this.width,this.height,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent});for(let Ve=0;Ve<this.width;Ve++)for(let ze=0;ze<this.height;ze++){let qe=Ve+this.minX+(ze+this.minY)*this.map.width;this.internalIDs.includes(this.map.data[qe])&&$e.setBitXY(Ve,ze)}this.computed.filledMask=$e}return this.computed.filledMask}get centerMask(){if(!this.computed.centerMask){let $e=new Shape({kind:"smallCross"}).getMask();$e.parent=this.map.parent,$e.position=[this.minX+this.center[0]-1,this.minY+this.center[1]-1],this.computed.centerMask=$e}return this.computed.centerMask}get convexHull(){if(!this.computed.convexHull){const $e=[];for(let ze=0;ze<this.width;ze++)for(let qe=0;qe<this.height;qe++)this.map.data[ze+this.minX+(qe+this.minY)*this.map.width]===this.id&&(ze>0&&ze<this.width-1&&qe>0&&qe<this.height-1?(this.map.data[ze-1+this.minX+(qe+this.minY)*this.map.width]!==this.id||this.map.data[ze+1+this.minX+(qe+this.minY)*this.map.width]!==this.id||this.map.data[ze+this.minX+(qe-1+this.minY)*this.map.width]!==this.id||this.map.data[ze+this.minX+(qe+1+this.minY)*this.map.width]!==this.id)&&($e.push([ze,qe]),$e.push([ze+1,qe]),$e.push([ze,qe+1]),$e.push([ze+1,qe+1])):($e.push([ze,qe]),$e.push([ze+1,qe]),$e.push([ze,qe+1]),$e.push([ze+1,qe+1])));const Ve=monotoneChainConvexHull$1($e);this.computed.convexHull={polyline:Ve,surface:surface(Ve),perimeter:perimeter(Ve)}}return this.computed.convexHull}get convexHullMask(){if(!this.computed.convexHullMask){const $e=this.convexHull,Ve=new Image$1(this.width+1,this.height+1,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent});Ve.paintPolyline($e.polyline,{closed:!0}),this.computed.convexHullMask=Ve}return this.computed.convexHullMask}get convexHullFilledMask(){if(!this.computed.convexHullFilledMask){const $e=this.convexHull,Ve=new Image$1(this.width,this.height,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent});for(let ze=0;ze<this.width;ze++)for(let qe=0;qe<this.height;qe++)robustPointInPolygon$1($e.polyline,[ze,qe])!==1&&Ve.setBitXY(ze,qe);this.computed.convexHullFilledMask=Ve}return this.computed.convexHullFilledMask}get mbr(){if(!this.computed.mbr){let $e=minimalBoundingRectangle({originalPoints:this.convexHull.polyline});if($e.length===0)this.computed.mbr={width:0,height:0,surface:0,perimeter:0,rectangle:$e};else{let Ve=$e[0],ze=$e[1],qe=$e[2],Xe=Math.sqrt((Ve[0]-ze[0])**2+(Ve[1]-ze[1])**2),We=Math.sqrt((qe[0]-ze[0])**2+(qe[1]-ze[1])**2);this.computed.mbr={width:Xe,height:We,elongation:1-Xe/We,aspectRatio:Xe/We,surface:Xe*We,perimeter:(Xe+We)*2,rectangle:$e}}}return this.computed.mbr}get fillRatio(){return this.surface/(this.surface+this.holesInfo.surface)}get feretDiameters(){return this.computed.feretDiameters||(this.computed.feretDiameters=feretDiameters({originalPoints:this.convexHull.polyline})),this.computed.feretDiameters}get eqpc(){return this.computed.eqpc||(this.computed.eqpc=2*Math.sqrt(this.surface/Math.PI)),this.computed.eqpc}get perimeterInfo(){return this.computed.perimeterInfo||(this.computed.perimeterInfo=getPerimeterInfo(this)),this.computed.perimeterInfo}get perimeter(){let $e=this.perimeterInfo,Ve=2-Math.sqrt(2);return $e.one+$e.two*2+$e.three*3+$e.four*4-Ve*($e.two+$e.three*2+$e.four)}get ped(){return this.computed.ped||(this.computed.ped=this.perimeter/Math.PI),this.computed.ped}get feretMask(){if(!this.computed.feretMask){const $e=new Image$1(this.width+1,this.height+1,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent});$e.paintPolyline(this.feretDiameters.minLine),$e.paintPolyline(this.feretDiameters.maxLine),this.computed.feretMask=$e}return this.computed.feretMask}get mbrMask(){if(!this.computed.mbrMask){let $e=round$1(this.mbr.rectangle);if($e.length>0){const Ve=minMax($e),ze=new Image$1(Ve[1][0]-Ve[0][0]+1,Ve[1][1]-Ve[0][1]+1,{kind:BINARY,position:[this.minX+Ve[0][0],this.minY+Ve[0][1]],parent:this.map.parent});$e=moveToZeroZero($e),ze.paintPolyline($e,{closed:!0}),this.computed.mbrMask=ze}else this.computed.mbrMask=new Image$1(1,1,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent})}return this.computed.mbrMask}get mbrFilledMask(){if(!this.computed.mbrFilledMask){const $e=new Image$1(this.width,this.height,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent}),Ve=this.mask.minimalBoundingRectangle();for(let ze=0;ze<this.width;ze++)for(let qe=0;qe<this.height;qe++)robustPointInPolygon$1(Ve,[ze,qe])!==1&&$e.setBitXY(ze,qe);this.computed.mbrFilledMask=$e}return this.computed.mbrFilledMask}get points(){if(!this.computed.points){let $e=[];for(let Ve=0;Ve<this.height;Ve++)for(let ze=0;ze<this.width;ze++){let qe=(Ve+this.minY)*this.map.width+ze+this.minX;this.map.data[qe]===this.id&&$e.push([ze,Ve])}this.computed.points=$e}return this.computed.points}get maxLengthPoints(){if(!this.computed.maxLengthPoints){let $e=0,Ve;const ze=this.points;for(let qe=0;qe<ze.length;qe++)for(let Xe=qe+1;Xe<ze.length;Xe++){let We=Math.pow(ze[qe][0]-ze[Xe][0],2)+Math.pow(ze[qe][1]-ze[Xe][1],2);We>=$e&&($e=We,Ve=[ze[qe],ze[Xe]])}this.computed.maxLengthPoints=Ve}return this.computed.maxLengthPoints}get maxLength(){if(!this.computed.maxLength){let $e=Math.sqrt(Math.pow(this.maxLengthPoints[0][0]-this.maxLengthPoints[1][0],2)+Math.pow(this.maxLengthPoints[0][1]-this.maxLengthPoints[1][1],2));this.computed.maxLength=$e}return this.computed.maxLength}get roundness(){return 4*this.surface/(Math.PI*this.feretDiameters.max**2)}get sphericity(){return 2*Math.sqrt(this.surface*Math.PI)/this.perimeter}get solidity(){return this.surface/this.convexHull.surface}get angle(){if(!this.computed.angle){let $e=this.maxLengthPoints,Ve=-Math.atan2($e[0][1]-$e[1][1],$e[0][0]-$e[1][0])*180/Math.PI;this.computed.angle=Ve}return this.computed.angle}toJSON(){return{id:this.id,minX:this.minX,maxX:this.maxX,minY:this.minY,maxY:this.maxY,meanX:this.meanX,meanY:this.meanY,height:this.height,width:this.width,surface:this.surface,mbrWidth:this.mbr.width,mbrHeight:this.mbr.height,mbrSurface:this.mbr.surface,eqpc:this.eqpc,ped:this.ped,feretDiameterMin:this.feretDiameters.min,feretDiameterMax:this.feretDiameters.max,aspectRatio:this.feretDiameters.aspectRatio,fillRatio:this.fillRatio,sphericity:this.sphericity,roundness:this.roundness,solidity:this.solidity,perimeter:this.perimeter}}}function getBorders(je){let $e=je.map,Ve=$e.data,ze=new Set,qe=new Map,Xe=new Set,We=[1,0,-1,0],Ke=[0,1,0,-1];for(let Qe=je.minX;Qe<=je.maxX;Qe++)for(let St=je.minY;St<=je.maxY;St++){let ei=Qe+St*$e.width;if(Ve[ei]===je.id)for(let ti=0;ti<4;ti++){let ni=Qe+We[ti],oi=St+Ke[ti];if(ni>=0&&oi>=0&&ni<$e.width&&oi<$e.height){let ai=ni+oi*$e.width;if(Ve[ai]!==je.id&&!Xe.has(ai)){Xe.add(ai),ze.add(Ve[ai]);let si=qe.get(Ve[ai]);si?qe.set(Ve[ai],++si):qe.set(Ve[ai],1)}}}}let Je=Array.from(ze),Ze=Je.map(function(Qe){return qe.get(Qe)});return{ids:Je,lengths:Ze}}function getBoxIDs(je){let $e=new Set,Ve=je.map,ze=Ve.data;for(let qe of[0,je.height-1])for(let Xe=0;Xe<je.width;Xe++){let We=(qe+je.minY)*Ve.width+Xe+je.minX;if(Xe-je.minX>0&&ze[We]===je.id&&ze[We-1]!==je.id){let Ke=ze[We-1];$e.add(Ke)}if(Ve.width-Xe-je.minX>1&&ze[We]===je.id&&ze[We+1]!==je.id){let Ke=ze[We+1];$e.add(Ke)}}for(let qe of[0,je.width-1])for(let Xe=0;Xe<je.height;Xe++){let We=(Xe+je.minY)*Ve.width+qe+je.minX;if(Xe-je.minY>0&&ze[We]===je.id&&ze[We-Ve.width]!==je.id){let Ke=ze[We-Ve.width];$e.add(Ke)}if(Ve.height-Xe-je.minY>1&&ze[We]===je.id&&ze[We+Ve.width]!==je.id){let Ke=ze[We+Ve.width];$e.add(Ke)}}return Array.from($e)}function getBox(je){let $e=0,Ve=je.map,ze=Ve.data,qe=[0];je.height>1&&(qe[1]=je.height-1);for(let We of qe)for(let Ke=1;Ke<je.width-1;Ke++){let Je=(We+je.minY)*Ve.width+Ke+je.minX;ze[Je]===je.id&&$e++}let Xe=[0];je.width>1&&(Xe[1]=je.width-1);for(let We of Xe)for(let Ke=0;Ke<je.height;Ke++){let Je=(Ke+je.minY)*Ve.width+We+je.minX;ze[Je]===je.id&&$e++}return $e}function getBorder(je){let $e=0,Ve=je.map,ze=Ve.data;for(let qe=1;qe<je.width-1;qe++)for(let Xe=1;Xe<je.height-1;Xe++){let We=(Xe+je.minY)*Ve.width+qe+je.minX;ze[We]===je.id&&(ze[We-1]!==je.id||ze[We+1]!==je.id||ze[We-Ve.width]!==je.id||ze[We+Ve.width]!==je.id)&&$e++}return $e+je.box}function getPerimeterInfo(je){let $e=je.map,Ve=$e.data,ze=0,qe=0,Xe=0,We=0;for(let Ke=0;Ke<je.width;Ke++)for(let Je=0;Je<je.height;Je++){let Ze=(Je+je.minY)*$e.width+Ke+je.minX;if(Ve[Ze]===je.id){let Qe=0;switch((Ke===0||je.externalIDs.includes(Ve[Ze-1]))&&Qe++,(Ke===je.width-1||je.externalIDs.includes(Ve[Ze+1]))&&Qe++,(Je===0||je.externalIDs.includes(Ve[Ze-$e.width]))&&Qe++,(Je===je.height-1||je.externalIDs.includes(Ve[Ze+$e.width]))&&Qe++,Qe){case 1:ze++;break;case 2:qe++;break;case 3:Xe++;break;case 4:We++;break}}}return{one:ze,two:qe,three:Xe,four:We}}function getExternal(je){let $e=0,Ve=je.map,ze=Ve.data;for(let qe=1;qe<je.width-1;qe++)for(let Xe=1;Xe<je.height-1;Xe++){let We=(Xe+je.minY)*Ve.width+qe+je.minX;ze[We]===je.id&&(je.externalIDs.includes(ze[We-1])||je.externalIDs.includes(ze[We+1])||je.externalIDs.includes(ze[We-Ve.width])||je.externalIDs.includes(ze[We+Ve.width]))&&$e++}return $e+je.box}function getHolesInfo(je){let $e=0,Ve=je.map.width,ze=je.map.data;for(let qe=1;qe<je.width-1;qe++)for(let Xe=1;Xe<je.height-1;Xe++){let We=(Xe+je.minY)*Ve+qe+je.minX;je.internalIDs.includes(ze[We])&&ze[We]!==je.id&&$e++}return{number:je.internalIDs.length-1,surface:$e}}function getInternalIDs(je){let $e=[je.id],Ve=je.map,ze=Ve.data;if(je.height>2)for(let Xe=0;Xe<je.width;Xe++){let We=je.minY*Ve.width+Xe+je.minX;if($e.includes(ze[We])){let Ke=ze[We+Ve.width];!$e.includes(Ke)&&!je.boxIDs.includes(Ke)&&$e.push(Ke)}}let qe=new Array(4);for(let Xe=1;Xe<je.width-1;Xe++)for(let We=1;We<je.height-1;We++){let Ke=(We+je.minY)*Ve.width+Xe+je.minX;if($e.includes(ze[Ke])){qe[0]=ze[Ke-1],qe[1]=ze[Ke+1],qe[2]=ze[Ke-Ve.width],qe[3]=ze[Ke+Ve.width];for(let Je=0;Je<4;Je++){let Ze=qe[Je];!$e.includes(Ze)&&!je.boxIDs.includes(Ze)&&$e.push(Ze)}}}return $e}class RoiLayer{constructor($e,Ve){this.roiMap=$e,this.options=Ve,this.roi=this.createRoi()}createRoi(){let $e=this.roiMap.data,Ve={};this.roiMap.positive=0,this.roiMap.negative=0;for(let Ke=0;Ke<$e.length;Ke++)$e[Ke]&&!Ve[$e[Ke]]&&(Ve[$e[Ke]]=!0,$e[Ke]>0?this.roiMap.positive++:this.roiMap.negative++);let ze={};for(let Ke in Ve)ze[Ke]=new Roi(this.roiMap,Ke*1);let qe=this.roiMap.width,Xe=this.roiMap.height;for(let Ke=0;Ke<Xe;Ke++)for(let Je=0;Je<qe;Je++){let Ze=Ke*qe+Je;if($e[Ze]!==0){const Qe=$e[Ze],St=ze[Qe];Je<St.minX&&(St.minX=Je),Je>St.maxX&&(St.maxX=Je),Ke<St.minY&&(St.minY=Ke),Ke>St.maxY&&(St.maxY=Ke),St.meanX+=Je,St.meanY+=Ke,St.surface++}}let We=[];for(let Ke in Ve)ze[Ke].meanX/=ze[Ke].surface,ze[Ke].meanY/=ze[Ke].surface,We.push(ze[Ke]);return We}}function commonBorderLength(je){let $e=je.data,Ve=[1,0,-1,0],ze=[0,1,0,-1],qe=je.minMax,Xe=-qe.min,We=qe.max+Xe,Ke=[];for(let Ze=0;Ze<=We;Ze++)Ke.push(Object.create(null));for(let Ze=0;Ze<je.width;Ze++)for(let Qe=0;Qe<je.height;Qe++){let St=Ze+Qe*je.width,ei=$e[St];if(ei!==0){let ti=Object.create(null),ni=!1;for(let oi=0;oi<4;oi++){let ai=Ze+Ve[oi],si=Qe+ze[oi];if(ai>=0&&si>=0&&ai<je.width&&si<je.height){let ri=$e[ai+si*je.width];ei!==ri&&(ni=!0,ri!==0&&ti[ri]===void 0&&(ti[ri]=!0,Ke[ri+Xe][ei]?Ke[ri+Xe][ei]++:Ke[ri+Xe][ei]=1))}else ni=!0}ni&&(Ke[ei+Xe][ei]?Ke[ei+Xe][ei]++:Ke[ei+Xe][ei]=1)}}let Je={};for(let Ze=0;Ze<Ke.length;Ze++)Object.keys(Ke[Ze]).length>0&&(Je[Ze-Xe]=Ke[Ze]);return Je}function mergeRoi(je={}){const{algorithm:$e="commonBorderLength",minCommonBorderLength:Ve=5,maxCommonBorderLength:ze=100,minCommonBorderRatio:qe=.3,maxCommonBorderRatio:Xe=1}=je;let We=function(ai,si,ri){return ai[ri]>=Ve&&ai[ri]<=ze};typeof $e=="function"&&(We=$e),$e.toLowerCase()==="commonborderratio"&&(We=function(ai,si,ri){let ii=Math.min(ai[ri]/ai[si],1);return ii>=qe&&ii<=Xe});const Ke=this,Je=Ke.commonBorderLength;let Ze={},Qe={};for(let ai of Object.keys(Je)){let si=Je[ai],ri=Object.keys(si);for(let ii of ri)if(ii!==ai&&We(si,ai,ii)){let ui=ii;Qe[ii]&&(ui=Qe[ii]);let ci=ai;if(Qe[ai]&&(ci=Qe[ai]),Number(ui)!==ci){let hi=Math.min(ui,ci),mi=Math.max(ui,ci);if(Ze[hi]||(Ze[hi]={}),Ze[hi][mi]=!0,Qe[mi]=hi,Ze[mi]){for(let di of Object.keys(Ze[mi]))Ze[hi][di]=!0,Qe[di]=hi;delete Ze[mi]}}}}let St=Ke.minMax,ei=-St.min,ti=St.max+ei,ni=new Array(ti+1).fill(0);for(let ai of Object.keys(Qe))ni[Number(ai)+ei]=Qe[ai];let oi=Ke.data;for(let ai=0;ai<oi.length;ai++){let si=oi[ai];if(si!==0){let ri=ni[si+ei];ri!==0&&(oi[ai]=ri)}}return Ke.computed={},Ke}class RoiMap{constructor($e,Ve){this.parent=$e,this.width=$e.width,this.height=$e.height,this.data=Ve,this.negative=0,this.positive=0}get total(){return this.negative+this.positive}get minMax(){let $e=Number.MAX_SAFE_INTEGER,Ve=Number.MIN_SAFE_INTEGER;for(let ze=0;ze<this.data.length;ze++)this.data[ze]<$e&&($e=this.data[ze]),this.data[ze]>Ve&&(Ve=this.data[ze]);return{min:$e,max:Ve}}get commonBorderLength(){return commonBorderLength(this)}mergeRoi($e={}){return mergeRoi.call(this,$e)}mergeRois($e){const Ve=$e[0],ze=$e.slice(1);for(let qe=0;qe<this.data.length;qe++)ze.includes(this.data[qe])&&(this.data[qe]=Ve)}rowsInfo(){let $e=new Array(this.height),Ve=0;for(let ze=0;ze<this.data.length;ze+=this.width){let qe={row:Ve,positivePixel:0,negativePixel:0,zeroPixel:0,positiveRoi:0,negativeRoi:0,medianChange:0};$e[Ve++]=qe;let Xe={},We={},Ke=[],Je=this.data[ze],Ze=0;for(let Qe=ze;Qe<ze+this.width;Qe++){let St=this.data[Qe];Je!==St&&(Je=St,Ke.push(Ze),Ze=0),Ze++,St>0?(qe.positivePixel++,Xe[St]||(Xe[St]=!0)):St<0?(qe.negativePixel++,We[St]||(We[St]=!0)):qe.zeroPixel++}Ke.push(Ze),qe.medianChange=Ke.sort((Qe,St)=>Qe-St)[Math.floor(Ke.length/2)],qe.positiveRoiIDs=Object.keys(Xe),qe.negativeRoiIDs=Object.keys(We),qe.positiveRoi=qe.positiveRoiIDs.length,qe.negativeRoi=qe.negativeRoiIDs.length}return $e}colsInfo(){let $e=new Array(this.width),Ve=0;for(let ze=0;ze<this.width;ze++){let qe={col:Ve,positivePixel:0,negativePixel:0,zeroPixel:0,positiveRoi:0,negativeRoi:0,medianChange:0};$e[Ve++]=qe;let Xe={},We={},Ke=[],Je=this.data[ze],Ze=0;for(let Qe=ze;Qe<ze+this.data.length;Qe+=this.width){let St=this.data[Qe];Je!==St&&(Je=St,Ke.push(Ze),Ze=0),Ze++,St>0?(qe.positivePixel++,Xe[St]||(Xe[St]=!0)):St<0?(qe.negativePixel++,We[St]||(We[St]=!0)):qe.zeroPixel++}Ke.push(Ze),qe.medianChange=Ke.sort((Qe,St)=>Qe-St)[Math.floor(Ke.length/2)],qe.positiveRoiIDs=Object.keys(Xe),qe.negativeRoiIDs=Object.keys(We),qe.positiveRoi=qe.positiveRoiIDs.length,qe.negativeRoi=qe.negativeRoiIDs.length}return $e}}function fromMask(je,$e={}){const{allowCorners:Ve=!1}=$e,ze=65535;let qe=new Int16Array(je.size),Xe=0,We=0,Ke=new Uint16Array(ze+1),Je=new Uint16Array(ze+1);for(let Qe=0;Qe<je.width;Qe++)for(let St=0;St<je.height;St++)qe[St*je.width+Qe]===0&&Ze(Qe,St);function Ze(Qe,St){let ei=0,ti=0,ni=je.getBitXY(Qe,St),oi=ni?++Xe:--We;if(Xe>32767||We<-32768)throw new Error("Too many regions of interest");for(Ke[0]=Qe,Je[0]=St;ei<=ti;){let ai=Ke[ei&ze],si=Je[ei&ze];if(qe[si*je.width+ai]=oi,ai>0&&qe[si*je.width+ai-1]===0&&je.getBitXY(ai-1,si)===ni&&(ti++,Ke[ti&ze]=ai-1,Je[ti&ze]=si,qe[si*je.width+ai-1]=-32768),si>0&&qe[(si-1)*je.width+ai]===0&&je.getBitXY(ai,si-1)===ni&&(ti++,Ke[ti&ze]=ai,Je[ti&ze]=si-1,qe[(si-1)*je.width+ai]=-32768),ai<je.width-1&&qe[si*je.width+ai+1]===0&&je.getBitXY(ai+1,si)===ni&&(ti++,Ke[ti&ze]=ai+1,Je[ti&ze]=si,qe[si*je.width+ai+1]=-32768),si<je.height-1&&qe[(si+1)*je.width+ai]===0&&je.getBitXY(ai,si+1)===ni&&(ti++,Ke[ti&ze]=ai,Je[ti&ze]=si+1,qe[(si+1)*je.width+ai]=-32768),Ve&&(ai>0&&si>0&&qe[(si-1)*je.width+ai-1]===0&&je.getBitXY(ai-1,si-1)===ni&&(ti++,Ke[ti&ze]=ai-1,Je[ti&ze]=si-1,qe[(si-1)*je.width+ai-1]=-32768),ai<je.width-1&&si>0&&qe[(si-1)*je.width+ai+1]===0&&je.getBitXY(ai+1,si-1)===ni&&(ti++,Ke[ti&ze]=ai+1,Je[ti&ze]=si-1,qe[(si-1)*je.width+ai+1]=-32768),ai>0&&si<je.height-1&&qe[(si+1)*je.width+ai-1]===0&&je.getBitXY(ai-1,si+1)===ni&&(ti++,Ke[ti&ze]=ai-1,Je[ti&ze]=si+1,qe[(si+1)*je.width+ai-1]=-32768),ai<je.width-1&&si<je.height-1&&qe[(si+1)*je.width+ai+1]===0&&je.getBitXY(ai+1,si+1)===ni&&(ti++,Ke[ti&ze]=ai+1,Je[ti&ze]=si+1,qe[(si+1)*je.width+ai+1]=-32768)),ei++,ti-ei>ze)throw new Error("analyseMask can not finish, the array to manage internal data is not big enough.You could improve mask by changing MAX_ARRAY")}}return new RoiMap(je,qe)}class DisjointSet{constructor(){this.nodes=new Map}add($e){var Ve=this.nodes.get($e);return Ve||(Ve=new DisjointSetNode($e),this.nodes.set($e,Ve)),Ve}union($e,Ve){const ze=this.find($e),qe=this.find(Ve);ze!==qe&&(ze.rank<qe.rank?ze.parent=qe:ze.rank>qe.rank?qe.parent=ze:(qe.parent=ze,ze.rank++))}find($e){for(var Ve=$e;Ve.parent!==null;)Ve=Ve.parent;for(var ze=$e;ze.parent!==null;){var qe=ze;ze=ze.parent,qe.parent=Ve}return Ve}connected($e,Ve){return this.find($e)===this.find(Ve)}}var DisjointSet_1=DisjointSet;function DisjointSetNode(je){this.value=je,this.parent=null,this.rank=0}const DisjointSet$1=getDefaultExportFromCjs$1(DisjointSet_1),direction4X=[-1,0],direction4Y=[0,-1],neighbours4=[null,null],direction8X=[-1,-1,0,1],direction8Y=[0,-1,-1,-1],neighbours8=[null,null,null,null];function fromMaskConnectedComponentLabelingAlgorithm(je,$e={}){const{allowCorners:Ve=!1}=$e;let ze=4;Ve&&(ze=8);let qe,Xe,We;if(ze===8)qe=direction8X,Xe=direction8Y,We=neighbours8;else if(ze===4)qe=direction4X,Xe=direction4Y,We=neighbours4;else throw new RangeError(`unsupported neighbours count: ${ze}`);const Ke=je.size,Je=je.width,Ze=je.height,Qe=new Array(Ke),St=new Uint32Array(Ke),ei=new DisjointSet$1;let ti=1;for(let ni=0;ni<Ze;ni++)for(let oi=0;oi<Je;oi++){const ai=oi+ni*Je;if(je.getBit(ai)){let si=null;for(let ri=0;ri<We.length;ri++){const ii=oi+qe[ri],ui=ni+Xe[ri];if(ii>=0&&ui>=0&&ii<Je&&ui<Ze){const ci=ii+ui*Je;let hi=Qe[ci];hi?(We[ri]=hi,(!si||We[ri].value<si.value)&&(si=We[ri])):We[ri]=null}}if(!si)Qe[ai]=ei.add(ti++);else{Qe[ai]=si;for(let ri=0;ri<We.length;ri++)We[ri]&&We[ri]!==si&&ei.union(si,We[ri])}}}for(let ni=0;ni<Ze;ni++)for(let oi=0;oi<Je;oi++){const ai=oi+ni*Je;je.getBit(ai)&&(St[ai]=ei.find(Qe[ai]).value)}return new RoiMap(je,St)}function fromMaxima(je={}){let{allowCorner:$e=!0,onlyTop:Ve=!1,invert:ze=!1}=je,qe=this;qe.checkProcessable("fromMaxima",{components:[1]});const Xe=1,We=2;let Ke=0,Je=0,Ze=new Int16Array(qe.size),Qe=new Int8Array(qe.size),St=new Float32Array(qe.size),ei=1048575,ti=new Uint16Array(ei+1),ni=new Uint16Array(ei+1),oi=0,ai=0,si=new Uint16Array(ei+1),ri=new Uint16Array(ei+1),ii=0,ui=0;for(ci(qe);oi<ai;){let di=ti[oi&ei],fi=ni[oi&ei];mi(di,fi,We),oi++}return new RoiMap(qe,Ze);function ci({maxima:di=!0}){for(let fi=1;fi<qe.height-1;fi++)for(let yi=1;yi<qe.width-1;yi++){let pi=yi+fi*qe.width;if(Qe[pi]===0){let xi=di?qe.data[pi]:-qe.data[yi+fi*qe.width];if(qe.data[fi*qe.width+yi-1]>xi||qe.data[fi*qe.width+yi+1]>xi||qe.data[(fi-1)*qe.width+yi]>xi||qe.data[(fi+1)*qe.width+yi]>xi||$e&&(qe.data[(fi-1)*qe.width+yi-1]>xi||qe.data[(fi-1)*qe.width+yi+1]>xi||qe.data[(fi+1)*qe.width+yi-1]>xi||qe.data[(fi+1)*qe.width+yi+1]>xi))continue;Ze[pi]=di?++Ke:--Je,hi(yi,fi)||(di?--Ke:++Je)}}}function hi(di,fi){let yi=ai;ii=0,ui=1,si[0]=di,ri[0]=fi;let pi=!0;for(;ii<ui;){let xi=si[ii&ei],Si=ri[ii&ei];pi&=mi(xi,Si,Xe),ii++}if(!pi){for(let xi=0;xi<ui;xi++){let Si=si[xi&ei],vi=ri[xi&ei]*qe.width+Si;Ze[vi]=0}ai=yi}return pi}function mi(di,fi,yi){let pi=Ze[fi*qe.width+di],xi=qe.data[fi*qe.width+di];for(let Si=fi-1;Si<=fi+1;Si++)for(let vi=di-1;vi<=di+1;vi++){let Di=Si*qe.width+vi;if(Qe[Di]===0)switch(Qe[Di]=1,St[Di]=qe.data[Di]-xi,yi){case Xe:if(St[Di]===0){if(vi===0||Si===0||vi===qe.width-1||Si===qe.height-1)return!1;Ze[Di]=pi,si[ui&ei]=vi,ri[ui&ei]=Si,ui++}else{if(St[Di]>0)return!1;Ve||(Ze[Di]=pi,ti[ai&ei]=vi,ni[ai&ei]=Si,ai++)}break;case We:St[Di]<=0&&(Ze[Di]=pi,ti[ai&ei]=vi,ni[ai&ei]=Si,ai++);break;default:throw new Error("unreachable")}}return!0}}function fromPoints(je,$e={}){let Ve=new Shape($e),ze=new Int16Array(this.size),qe=0,Xe=Ve.getPoints();for(let We=0;We<je.length;We++){qe++;let Ke=je[We][0],Je=je[We][1];for(let Ze=0;Ze<Xe.length;Ze++){let Qe=Xe[Ze][0],St=Xe[Ze][1];Ke+Qe>=0&&Je+St>=0&&Ke+Qe<this.width&&Je+St<this.height&&(ze[Ke+Qe+(Je+St)*this.width]=qe)}}return new RoiMap(this,ze)}function commonjsRequire(je){throw new Error('Could not dynamically require "'+je+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var priorityQueue={exports:{}};(function(je,$e){(function(Ve){je.exports=Ve()})(function(){return function Ve(ze,qe,Xe){function We(Ze,Qe){if(!qe[Ze]){if(!ze[Ze]){var St=typeof commonjsRequire=="function"&&commonjsRequire;if(!Qe&&St)return St(Ze,!0);if(Ke)return Ke(Ze,!0);var ei=new Error("Cannot find module '"+Ze+"'");throw ei.code="MODULE_NOT_FOUND",ei}var ti=qe[Ze]={exports:{}};ze[Ze][0].call(ti.exports,function(ni){var oi=ze[Ze][1][ni];return We(oi||ni)},ti,ti.exports,Ve,ze,qe,Xe)}return qe[Ze].exports}for(var Ke=typeof commonjsRequire=="function"&&commonjsRequire,Je=0;Je<Xe.length;Je++)We(Xe[Je]);return We}({1:[function(Ve,ze,qe){var Xe,We,Ke,Je,Ze,Qe=function(ei,ti){for(var ni in ti)St.call(ti,ni)&&(ei[ni]=ti[ni]);function oi(){this.constructor=ei}return oi.prototype=ti.prototype,ei.prototype=new oi,ei.__super__=ti.prototype,ei},St={}.hasOwnProperty;Xe=Ve("./PriorityQueue/AbstractPriorityQueue"),We=Ve("./PriorityQueue/ArrayStrategy"),Je=Ve("./PriorityQueue/BinaryHeapStrategy"),Ke=Ve("./PriorityQueue/BHeapStrategy"),Ze=function(ei){Qe(ti,ei);function ti(ni){ni||(ni={}),ni.strategy||(ni.strategy=Je),ni.comparator||(ni.comparator=function(oi,ai){return(oi||0)-(ai||0)}),ti.__super__.constructor.call(this,ni)}return ti}(Xe),Ze.ArrayStrategy=We,Ze.BinaryHeapStrategy=Je,Ze.BHeapStrategy=Ke,ze.exports=Ze},{"./PriorityQueue/AbstractPriorityQueue":2,"./PriorityQueue/ArrayStrategy":3,"./PriorityQueue/BHeapStrategy":4,"./PriorityQueue/BinaryHeapStrategy":5}],2:[function(Ve,ze,qe){ze.exports=function(){function Xe(We){var Ke;if((We!=null?We.strategy:void 0)==null)throw"Must pass options.strategy, a strategy";if((We!=null?We.comparator:void 0)==null)throw"Must pass options.comparator, a comparator";this.priv=new We.strategy(We),this.length=(We!=null&&(Ke=We.initialValues)!=null?Ke.length:void 0)||0}return Xe.prototype.queue=function(We){this.length++,this.priv.queue(We)},Xe.prototype.dequeue=function(We){if(!this.length)throw"Empty queue";return this.length--,this.priv.dequeue()},Xe.prototype.peek=function(We){if(!this.length)throw"Empty queue";return this.priv.peek()},Xe.prototype.clear=function(){return this.length=0,this.priv.clear()},Xe}()},{}],3:[function(Ve,ze,qe){var Xe;Xe=function(We,Ke,Je){var Ze,Qe,St;for(Qe=0,Ze=We.length;Qe<Ze;)St=Qe+Ze>>>1,Je(We[St],Ke)>=0?Qe=St+1:Ze=St;return Qe},ze.exports=function(){function We(Ke){var Je;this.options=Ke,this.comparator=this.options.comparator,this.data=((Je=this.options.initialValues)!=null?Je.slice(0):void 0)||[],this.data.sort(this.comparator).reverse()}return We.prototype.queue=function(Ke){var Je;Je=Xe(this.data,Ke,this.comparator),this.data.splice(Je,0,Ke)},We.prototype.dequeue=function(){return this.data.pop()},We.prototype.peek=function(){return this.data[this.data.length-1]},We.prototype.clear=function(){this.data.length=0},We}()},{}],4:[function(Ve,ze,qe){ze.exports=function(){function Xe(We){var Ke,Je,Ze,Qe,St,ei,ti,ni;for(this.comparator=(We!=null?We.comparator:void 0)||function(oi,ai){return oi-ai},this.pageSize=(We!=null?We.pageSize:void 0)||512,this.length=0,ti=0;1<<ti<this.pageSize;)ti+=1;if(1<<ti!==this.pageSize)throw"pageSize must be a power of two";for(this._shift=ti,this._emptyMemoryPageTemplate=Ke=[],Je=0,St=this.pageSize;0<=St?Je<St:Je>St;0<=St?++Je:--Je)Ke.push(null);if(this._memory=[],this._mask=this.pageSize-1,We.initialValues)for(ei=We.initialValues,Ze=0,Qe=ei.length;Ze<Qe;Ze++)ni=ei[Ze],this.queue(ni)}return Xe.prototype.queue=function(We){this.length+=1,this._write(this.length,We),this._bubbleUp(this.length,We)},Xe.prototype.dequeue=function(){var We,Ke;return We=this._read(1),Ke=this._read(this.length),this.length-=1,this.length>0&&(this._write(1,Ke),this._bubbleDown(1,Ke)),We},Xe.prototype.peek=function(){return this._read(1)},Xe.prototype.clear=function(){this.length=0,this._memory.length=0},Xe.prototype._write=function(We,Ke){var Je;for(Je=We>>this._shift;Je>=this._memory.length;)this._memory.push(this._emptyMemoryPageTemplate.slice(0));return this._memory[Je][We&this._mask]=Ke},Xe.prototype._read=function(We){return this._memory[We>>this._shift][We&this._mask]},Xe.prototype._bubbleUp=function(We,Ke){var Je,Ze,Qe,St;for(Je=this.comparator;We>1&&(Ze=We&this._mask,We<this.pageSize||Ze>3?Qe=We&~this._mask|Ze>>1:Ze<2?(Qe=We-this.pageSize>>this._shift,Qe+=Qe&~(this._mask>>1),Qe|=this.pageSize>>1):Qe=We-2,St=this._read(Qe),!(Je(St,Ke)<0));)this._write(Qe,Ke),this._write(We,St),We=Qe},Xe.prototype._bubbleDown=function(We,Ke){var Je,Ze,Qe,St,ei;for(ei=this.comparator;We<this.length;)if(We>this._mask&&!(We&this._mask-1)?Je=Ze=We+2:We&this.pageSize>>1?(Je=(We&~this._mask)>>1,Je|=We&this._mask>>1,Je=Je+1<<this._shift,Ze=Je+1):(Je=We+(We&this._mask),Ze=Je+1),Je!==Ze&&Ze<=this.length)if(Qe=this._read(Je),St=this._read(Ze),ei(Qe,Ke)<0&&ei(Qe,St)<=0)this._write(Je,Ke),this._write(We,Qe),We=Je;else if(ei(St,Ke)<0)this._write(Ze,Ke),this._write(We,St),We=Ze;else break;else if(Je<=this.length)if(Qe=this._read(Je),ei(Qe,Ke)<0)this._write(Je,Ke),this._write(We,Qe),We=Je;else break;else break},Xe}()},{}],5:[function(Ve,ze,qe){ze.exports=function(){function Xe(We){var Ke;this.comparator=(We!=null?We.comparator:void 0)||function(Je,Ze){return Je-Ze},this.length=0,this.data=((Ke=We.initialValues)!=null?Ke.slice(0):void 0)||[],this._heapify()}return Xe.prototype._heapify=function(){var We,Ke,Je;if(this.data.length>0)for(We=Ke=1,Je=this.data.length;1<=Je?Ke<Je:Ke>Je;We=1<=Je?++Ke:--Ke)this._bubbleUp(We)},Xe.prototype.queue=function(We){this.data.push(We),this._bubbleUp(this.data.length-1)},Xe.prototype.dequeue=function(){var We,Ke;return Ke=this.data[0],We=this.data.pop(),this.data.length>0&&(this.data[0]=We,this._bubbleDown(0)),Ke},Xe.prototype.peek=function(){return this.data[0]},Xe.prototype.clear=function(){this.length=0,this.data.length=0},Xe.prototype._bubbleUp=function(We){for(var Ke,Je;We>0&&(Ke=We-1>>>1,this.comparator(this.data[We],this.data[Ke])<0);)Je=this.data[Ke],this.data[Ke]=this.data[We],this.data[We]=Je,We=Ke},Xe.prototype._bubbleDown=function(We){var Ke,Je,Ze,Qe,St;for(Ke=this.data.length-1;Je=(We<<1)+1,Qe=Je+1,Ze=We,Je<=Ke&&this.comparator(this.data[Je],this.data[Ze])<0&&(Ze=Je),Qe<=Ke&&this.comparator(this.data[Qe],this.data[Ze])<0&&(Ze=Qe),Ze!==We;)St=this.data[Ze],this.data[Ze]=this.data[We],this.data[We]=St,We=Ze},Xe}()},{}]},{},[1])(1)})})(priorityQueue);var priorityQueueExports=priorityQueue.exports;const PriorityQueue=getDefaultExportFromCjs$1(priorityQueueExports),dxs=[1,0,-1,0,1,1,-1,-1],dys=[0,1,0,-1,1,-1,1,-1];function fromWaterShed(je={}){let{points:$e,mask:Ve,image:ze,fillMaxValue:qe=this.maxValue,invert:Xe=!1}=je,We=ze||this;We.checkProcessable("fromWaterShed",{bitDepth:[8,16],components:1}),Xe=!Xe,$e||($e=We.getLocalMaxima({invert:Xe,mask:Ve}));let Ke=Xe?0:1,Je=new Int16Array(We.size),Ze=We.width,Qe=We.height,St=new PriorityQueue({comparator:(ei,ti)=>ei[2]-ti[2],strategy:PriorityQueue.BinaryHeapStrategy});for(let ei=0;ei<$e.length;ei++){let ti=$e[ei][0]+$e[ei][1]*Ze;Je[ti]=ei+1;let ni=We.data[ti];(Xe&&ni<=qe||!Xe&&ni>=qe)&&St.queue([$e[ei][0],$e[ei][1],ni])}for(;St.length>0;){let ei=St.dequeue(),ti=ei[0]+ei[1]*Ze;for(let ni=0;ni<4;ni++){let oi=ei[0]+dxs[ni],ai=ei[1]+dys[ni];if(oi>=0&&ai>=0&&oi<Ze&&ai<Qe){let si=oi+ai*Ze;if(!Ve||Ve.getBit(si)===Ke){let ri=We.data[si];(Xe&&ri<=qe||!Xe&&ri>=qe)&&Je[si]===0&&(Je[si]=Je[ti],St.queue([ei[0]+dxs[ni],ei[1]+dys[ni],ri]))}}}}return new RoiMap(We,Je)}class RoiManager{constructor($e,Ve={}){this._image=$e,this._options=Ve,this._options.label||(this._options.label="default"),this._layers={},this._painted=null}fromMaxima($e={}){let Ve=Object.assign({},this._options,$e),ze=fromMaxima.call(this._image,$e);this._layers[Ve.label]=new RoiLayer(ze,Ve)}fromPoints($e,Ve={}){let ze=Object.assign({},this._options,Ve),qe=fromPoints.call(this._image,$e,Ve);return this._layers[ze.label]=new RoiLayer(qe,ze),this}putMap($e,Ve={}){let ze=new RoiMap(this._image,$e),qe=Object.assign({},this._options,Ve);return this._layers[qe.label]=new RoiLayer(ze,qe),this}fromWaterShed($e={}){let Ve=Object.assign({},this._options,$e),ze=fromWaterShed.call(this._image,$e);this._layers[Ve.label]=new RoiLayer(ze,Ve)}fromMask($e,Ve={}){let ze=Object.assign({},this._options,Ve),qe=fromMask.call(this._image,$e,Ve);return this._layers[ze.label]=new RoiLayer(qe,ze),this}fromMaskConnectedComponentLabelingAlgorithm($e,Ve={}){let ze=Object.assign({},this._options,Ve),qe=fromMaskConnectedComponentLabelingAlgorithm.call(this._image,$e,Ve);return this._layers[ze.label]=new RoiLayer(qe,ze),this}getMap($e={}){let Ve=Object.assign({},this._options,$e);return this._assertLayerWithLabel(Ve.label),this._layers[Ve.label].roiMap}rowsInfo($e={}){return this.getMap($e).rowsInfo()}colsInfo($e={}){return this.getMap($e).rowsInfo()}getRoiIds($e={}){let Ve=this.getRois($e);if(Ve){let ze=new Array(Ve.length);for(let qe=0;qe<Ve.length;qe++)ze[qe]=Ve[qe].id;return ze}throw new Error("ROIs not found")}getRois($e={}){let{label:Ve=this._options.label,positive:ze=!0,negative:qe=!0,minSurface:Xe=0,maxSurface:We=Number.POSITIVE_INFINITY,minWidth:Ke=0,maxWidth:Je=Number.POSITIVE_INFINITY,minHeight:Ze=0,maxHeight:Qe=Number.POSITIVE_INFINITY,minRatio:St=0,maxRatio:ei=Number.POSITIVE_INFINITY}=$e;if(!this._layers[Ve])throw new Error(`this Roi layer (${Ve}) does not exist`);const ti=this._layers[Ve].roi,ni=[];for(const oi of ti)(oi.id<0&&qe||oi.id>0&&ze)&&oi.surface>=Xe&&oi.surface<=We&&oi.width>=Ke&&oi.width<=Je&&oi.height>=Ze&&oi.height<=Qe&&oi.ratio>=St&&oi.ratio<=ei&&ni.push(oi);return ni}getRoi($e,Ve={}){const{label:ze=this._options.label}=Ve;if(!this._layers[ze])throw new Error(`this Roi layer (${ze}) does not exist`);const qe=this._layers[ze].roi.find(Xe=>Xe.id===$e);if(!qe)throw new Error(`found no Roi with id ${$e}`);return qe}getMasks($e={}){let Ve=this.getRois($e),ze=new Array(Ve.length);for(let qe=0;qe<Ve.length;qe++)ze[qe]=Ve[qe].getMask($e);return ze}getAnalysisMasks($e={}){const{analysisProperty:Ve}=$e;let ze=`${Ve}Mask`,qe=this.getRois($e);return qe.length===0||!qe[0][ze]?[]:qe.map(Xe=>Xe[ze])}getData($e={}){let Ve=Object.assign({},this._options,$e);return this._assertLayerWithLabel(Ve.label),this._layers[Ve.label].roiMap.data}paint($e={}){let{labelProperty:Ve,analysisProperty:ze}=$e;this._painted||(this._painted=this._image.rgba8());let qe=this.getMasks($e);if(Ve){const Xe=this.getRois($e);$e.labels=Xe.map(Ze=>deepValue(Ze,Ve));const We=Math.max(...$e.labels);let Ke=!1,Je=!1;if(Ve.includes("surface")?Ke=!0:/(?:perimeter|min|max|external|width|height|length)/.test(Ve)&&(Je=!0),isFinite(We)){let Ze="";if($e.unit!=="pixel"&&$e.pixelSize&&(Je||Ke)){Ze=Ke?`${$e.unit}^2`:$e.unit;let Qe=Ke?"m^2":"m",St=Ke?$e.pixelSize**2:$e.pixelSize;const ei=Qty.swiftConverter(Qe,Ze);$e.labels=$e.labels.map(ti=>ei(St*ti))}We>50?$e.labels=$e.labels.map(Qe=>Math.round(Qe)+Ze):We>10?$e.labels=$e.labels.map(Qe=>Qe.toFixed(1)+Ze):$e.labels=$e.labels.map(Qe=>Qe.toFixed(2)+Ze)}$e.labelsPosition=Xe.map(Ze=>[Ze.meanX,Ze.meanY])}if(this._painted.paintMasks(qe,$e),ze){let Xe=this.getAnalysisMasks($e);this._painted.paintMasks(Xe,{color:$e.analysisColor,alpha:$e.analysisAlpha})}return this._painted}getMask($e={}){let Ve=new Image$1(this._image.width,this._image.height,{kind:"BINARY"}),ze=this.getMasks($e);for(let qe=0;qe<ze.length;qe++){let Xe=ze[qe];for(let We=0;We<Xe.width;We++)for(let Ke=0;Ke<Xe.height;Ke++)Xe.getBitXY(We,Ke)&&Ve.setBitXY(We+Xe.position[0],Ke+Xe.position[1])}return Ve}resetPainted($e={}){const{image:Ve}=$e;Ve?this._painted=this.image.rgba8():this._painted=this._image.rgba8()}mergeRoi($e={}){const Ve=this.getMap($e);return Ve.mergeRoi($e),this.putMap(Ve.data,$e),this}mergeRois($e,Ve={}){if(!Array.isArray($e)||$e.some(qe=>!Number.isInteger(qe)))throw new Error("Roi ids must be an array of integers");if($e.length<2)throw new Error("Roi ids must have at least two elements");if(new Set($e).size!==$e.length)throw new Error("Roi ids must be all different");$e.forEach(qe=>this.getRoi(qe));const ze=this.getMap(Ve);return ze.mergeRois($e),this.putMap(ze.data,Ve),this}findCorrespondingRoi($e,Ve={}){let ze=this.getRois(Ve),qe=[];for(let Xe=0;Xe<ze.length;Xe++){let We=ze[Xe],Ke=We.minX,Je=We.minY,Ze=We.points,Qe=Math.sign(We.id),St=correspondingRoisInformation(Ke,Je,Ze,$e,Qe);qe.push(St)}return qe}_assertLayerWithLabel($e){if(!this._layers[$e])throw new Error(`no layer with label ${$e}`)}}function correspondingRoisInformation(je,$e,Ve,ze,qe){let Xe={id:[],surface:[],roiSurfaceCovered:[],same:0,opposite:0,total:0};for(let We=0;We<Ve.length;We++){let Ke=Ve[We],Je=Ke[0],Ze=Ke[1],Qe=Je+je+(Ze+$e)*ze.width,St=ze.data[Qe];(St>0||St<0)&&(Xe.id.includes(St)?Xe.surface[Xe.id.indexOf(St)]+=1:(Xe.id.push(St),Xe.surface.push(1)))}for(let We=0;We<Xe.id.length;We++)Math.sign(Xe.id[We])===qe?Xe.same+=Xe.surface[We]:Xe.opposite+=Xe.surface[We],Xe.roiSurfaceCovered[We]=Xe.surface[We]/Ve.length;return Xe.total=Xe.opposite+Xe.same,Xe}const objectToString=Object.prototype.toString;let Image$1=class el{constructor($e,Ve,ze,qe){if(arguments.length===1?(qe=$e,{width:$e,height:Ve,data:ze}=qe):ze&&!ze.length&&(qe=ze,{data:ze}=qe),$e===void 0&&($e=1),Ve===void 0&&(Ve=1),qe===void 0&&(qe={}),typeof qe!="object"||qe===null)throw new TypeError("options must be an object");if(!Number.isInteger($e)||$e<=0)throw new RangeError("width must be a positive integer");if(!Number.isInteger(Ve)||Ve<=0)throw new RangeError("height must be a positive integer");const{kind:Xe=RGBA}=qe;if(typeof Xe!="string")throw new TypeError("kind must be a string");const We=getKind(Xe),Ke=Object.assign({},qe);for(const oi in We)Ke[oi]===void 0&&(Ke[oi]=We[oi]);verifyKindDefinition(Ke);const{components:Je,bitDepth:Ze,colorModel:Qe}=Ke,St=Ke.alpha+0,ei=$e*Ve,ti=Je+St,ni=Ze===32?Number.MAX_VALUE:2**Ze-1;if(ze===void 0)ze=createPixelArray(ei,Je,St,ti,Ze,ni);else{const oi=getTheoreticalPixelArraySize(ei,ti,Ze);if(ze.length!==oi)throw new RangeError(`incorrect data size: ${ze.length}. Should be ${oi}`)}this.width=$e,this.height=Ve,this.data=ze,this.size=ei,this.components=Je,this.alpha=St,this.bitDepth=Ze,this.maxValue=ni,this.colorModel=Qe,this.channels=ti,this.meta=qe.meta||{},Object.defineProperty(this,"parent",{enumerable:!1,writable:!0,configurable:!0,value:qe.parent||null}),this.position=qe.position||[0,0],this.computed=null,this.sizes=[this.width,this.height],this.multiplierX=this.channels,this.multiplierY=this.channels*this.width,this.isClamped=this.bitDepth<32,this.borderSizes=[0,0]}get[Symbol.toStringTag](){return"IJSImage"}static isImage($e){return objectToString.call($e)==="[object IJSImage]"}static fromCanvas($e){const Ve=$e.getContext("2d").getImageData(0,0,$e.width,$e.height);return new el(Ve.width,Ve.height,Ve.data)}static createFrom($e,Ve){const ze=getImageParameters($e);return Object.assign(ze,{parent:$e,position:[0,0]},Ve),new el(ze)}getRoiManager($e){return new RoiManager(this,$e)}clone(){const $e=this.data.slice();return new el(this.width,this.height,$e,this)}apply($e){for(let Ve=0;Ve<this.height;Ve++)for(let ze=0;ze<this.width;ze++){let qe=(Ve*this.width+ze)*this.channels;$e.call(this,qe)}}};setValueMethods(Image$1);setBitMethods(Image$1);setExportMethods(Image$1);Image$1.prototype.checkProcessable=checkProcessable;Image$1.prototype.getRGBAData=getRGBAData;Image$1.load=load;Image$1.extendMethod=extendMethod;Image$1.extendProperty=extendProperty;extend$1(Image$1);var workerTemplate$1={},worker$1=function(){self.window=self;function je(){this._listeners={}}je.prototype.on=function(Ve,ze){if(this._listeners[Ve])throw new RangeError("there is already a listener for "+Ve);if(typeof ze!="function")throw new TypeError("callback argument must be a function");this._listeners[Ve]=ze},je.prototype._send=function(Ve,ze,qe){qe===void 0?qe=[]:Array.isArray(qe)||(qe=[qe]),self.postMessage({id:Ve,data:ze},qe)},je.prototype._trigger=function(Ve,ze){if(!this._listeners[Ve])throw new Error("event "+Ve+" is not defined");this._listeners[Ve].apply(null,ze)};var $e=new je;self.onmessage=function(Ve){switch(Ve.data.action){case"exec":Ve.data.args.unshift(function(ze,qe){$e._send(Ve.data.id,ze,qe)}),$e._trigger(Ve.data.event,Ve.data.args);break;case"ping":$e._send(Ve.data.id,"pong");break;default:throw new Error("unexpected action: "+Ve.data.action)}}},workerStr=worker$1.toString().split('"CODE";');workerTemplate$1.newWorkerURL=function je($e,Ve){var ze=new Blob(["(",workerStr[0],"importScripts.apply(self, "+JSON.stringify(Ve)+`);
`,"(",$e,")();",workerStr[1],")();"],{type:"application/javascript"});return URL.createObjectURL(ze)};var workerTemplate=workerTemplate$1,CORES=navigator.hardwareConcurrency||1;function WorkerManager(je,$e){if(typeof je!="string"&&typeof je!="function")throw new TypeError("func argument must be a function");if($e===void 0&&($e={}),typeof $e!="object"||$e===null)throw new TypeError("options argument must be an object");this._workerCode=je.toString(),$e.maxWorkers===void 0||$e.maxWorkers==="auto"?this._numWorkers=Math.min(CORES-1,1):$e.maxWorkers>0?this._numWorkers=Math.min($e.maxWorkers,CORES):this._numWorkers=CORES,this._workers=new Map,this._timeout=$e.timeout||0,this._terminateOnError=!!$e.terminateOnError;var Ve=$e.deps;typeof Ve=="string"&&(Ve=[Ve]),Array.isArray(Ve)||(Ve=void 0),this._id=0,this._terminated=!1,this._working=0,this._waiting=[],this._init(Ve)}WorkerManager.prototype._init=function(je){for(var $e=workerTemplate.newWorkerURL(this._workerCode,je),Ve=0;Ve<this._numWorkers;Ve++){var ze=new Worker($e);ze.onmessage=this._onmessage.bind(this,ze),ze.onerror=this._onerror.bind(this,ze),ze.running=!1,ze.id=Ve,this._workers.set(ze,null)}URL.revokeObjectURL($e)};WorkerManager.prototype._onerror=function(je,$e){if(!this._terminated){this._working--,je.running=!1;var Ve=this._workers.get(je);Ve&&Ve[1]($e.message),this._workers.set(je,null),this._terminateOnError?this.terminate():this._exec()}};WorkerManager.prototype._onmessage=function(je,$e){if(!this._terminated){this._working--,je.running=!1;var Ve=this._workers.get(je);Ve&&Ve[0]($e.data.data),this._workers.set(je,null),this._exec()}};WorkerManager.prototype._exec=function(){for(var je of this._workers.keys()){if(this._working===this._numWorkers||this._waiting.length===0)return;if(!je.running)for(var $e=0;$e<this._waiting.length;$e++){var Ve=this._waiting[$e];if(!(typeof Ve[4]=="number"&&Ve[4]!==je.id)){this._waiting.splice($e,1),je.postMessage({action:"exec",event:Ve[0],args:Ve[1]},Ve[2]),je.running=!0,je.time=Date.now(),this._workers.set(je,Ve[3]),this._working++;break}}}};WorkerManager.prototype.terminate=function(){if(!this._terminated){for(var je of this._workers)je[0].terminate(),je[1]&&je[1][1](new Error("Terminated"));this._workers.clear(),this._waiting=[],this._working=0,this._terminated=!0}};WorkerManager.prototype.postAll=function(je,$e){if(this._terminated)throw new Error("Cannot post (terminated)");var Ve=[];for(var ze of this._workers.keys())Ve.push(this.post(je,$e,[],ze.id));return Promise.all(Ve)};WorkerManager.prototype.post=function(je,$e,Ve,ze){$e===void 0&&($e=[]),Ve===void 0&&(Ve=[]),Array.isArray($e)||($e=[$e]),Array.isArray(Ve)||(Ve=[Ve]);var qe=this;return new Promise(function(Xe,We){if(qe._terminated)throw new Error("Cannot post (terminated)");qe._waiting.push([je,$e,Ve,[Xe,We],ze]),qe._exec()})};var src=WorkerManager;const WorkerManager$1=getDefaultExportFromCjs$1(src),defaultOptions={regression:{kernelType:"polynomial",kernelOptions:{degree:2,constant:1}},threshold:.02,roi:{minSurface:100,positive:!1},sampling:20,include:[]};function run(je,$e,Ve){$e=Object.assign({},defaultOptions,$e);const ze=this.manager;return Array.isArray(je)?Promise.all(je.map(function(qe){const Xe=runOnce(ze,qe,$e);return typeof Ve=="function"&&Xe.then(Ve),Xe})):runOnce(ze,je,$e)}function runOnce(je,$e,Ve){return je.post("data",[$e,Ve]).then(function(ze){for(let qe in ze)ze[qe]=new Image$1(ze[qe]);return ze})}function work(){worker.on("data",function(je,$e,Ve){$e=new IJS($e);const ze={},qe=[],Xe=$e.grey(),We=Xe.sobelFilter();ti("sobel",We);const Ke=We.level().mask({threshold:Ve.threshold});ti("mask",Ke);const Je=We.getRoiManager();Je.fromMask(Ke);const Ze=Je.getMask(Ve.roi);ti("realMask",Ze);const Qe=Xe.getPixelsGrid({sampling:Ve.sampling,mask:Ze}),St=$e.getBackground(Qe.xyS,Qe.zS,Ve.regression);ti("background",St);const ei=$e.subtract(St);ze.result=ei,qe.push(ei.data.buffer),je(ze,qe);function ti(ni,oi){Ve.include.includes(ni)&&(ze[ni]=oi,qe.push(oi.data.buffer))}})}const background={run,work};function extend(je){je.extendMethod("background",background)}let Worker$1=class Nu{constructor(){this._url=null,this._deps=[null]}checkUrl(){if(this._url===null)throw new Error("image worker must be initialized with an URL")}get url(){return this._url}set url($e){if(typeof $e!="string")throw new TypeError("worker URL must be a string");this._url=$e,this._deps[0]=$e}static extendMethod($e,Ve){let ze,qe,Xe={};function We(...Ke){return ze||(this.checkUrl(),qe=this.url,ze=new WorkerManager$1(Ve.work,{deps:qe}),Xe.manager=ze),Ve.run.call(Xe,...Ke)}We.reset=function(){ze&&(ze.terminate(),ze=new WorkerManager$1(Ve.work,{deps:qe}),Xe.manager=ze)},Nu.prototype[$e]=We}};extend(Worker$1);let _imageService=null;function getImageService(){return _imageService||(_imageService=new DefaultOxyImageService,_imageService)}class DefaultOxyImageService{async decode($e){const Ve=await Image$1.load($e),ze=Ve.height,qe=Ve.width,Xe=Ve.data,We=create2DArray(qe,ze);for(let Ke=0;Ke<ze;Ke++)for(let Je=0;Je<qe;Je++){let Ze=Ke*qe+Je;const Qe=Xe[Ze++],St=Xe[Ze++],ei=Xe[Ze++],ti=Xe[Ze++];We[Ke][Je]=OxyColor.fromArgb(ti,Qe,St,ei)}return We}encode($e){const Ve=new DataView(new ArrayBuffer($e.imageInfo.width*$e.imageInfo.height*4));let ze=0;const qe=$e.pixels;for(let We=0;We<$e.imageInfo.height;We++)for(let Ke=0;Ke<$e.imageInfo.width;Ke++){const Je=qe.get(Ke,We);Ve.setUint8(ze++,Je.r),Ve.setUint8(ze++,Je.g),Ve.setUint8(ze++,Je.b),Ve.setUint8(ze++,Je.a)}const Xe=new Image$1($e.imageInfo.width,$e.imageInfo.height,new Uint8Array(Ve.buffer)).toBuffer();return Promise.resolve(Xe)}async getImageInfo($e){const Ve=await Image$1.load($e);return{width:Ve.width,height:Ve.height,bitsPerPixel:Ve.bitDepth,dpiX:0,dpiY:0,format:OxyImage.getImageFormat($e)}}async load($e){const Ve=await Image$1.load($e),ze=Ve.toBuffer(),qe=new OxyImage(ze);return qe.format=OxyImage.getImageFormat(ze),qe.width=Ve.width,qe.height=Ve.height,qe}}function isUndef(je){return je===void 0}function isNullOrUndef(je){return je==null}function removeProperties(je,...$e){if(je)for(const Ve of $e)delete je[Ve]}function getOrDefault(je,$e,Ve){if(!je||!$e)return Ve;const ze=je[$e];return isNullOrUndef(ze)?Ve:ze}function removeUndef(je,$e){const Ve=je;if(Array.isArray(Ve))return Ve.forEach(qe=>removeUndef(qe,$e)),je;const ze=Object.assign({removeNull:!0,removeEmptyStr:!1,deep:1},$e);return Object.keys(Ve).forEach(qe=>{const Xe=Ve[qe];if(Xe===void 0){delete Ve[qe];return}if(Xe===null&&ze.removeNull){delete Ve[qe];return}if(ze.removeEmptyStr&&typeof Xe=="string"&&Xe.length==0){delete Ve[qe];return}if(typeof Xe=="object"&&ze.deep>1){const We=Object.assign({},ze,{deep:ze.deep-1});removeUndef(Xe,We);return}}),je}function hashCode(je){let $e=0;for(let Ve=0;Ve<je.length;Ve++)$e=Math.imul(31,$e)+je[Ve];return $e}const Number_MIN_VALUE=-17976931348623157e292,Number_MAX_VALUE=Number.MAX_VALUE;function round(je,$e){if($e<0){const Ve=Math.pow(10,$e);return Math.round(je*Ve)/Ve}return+(Math.round(+(je+"e+"+$e))+"e-"+$e)}function isInfinity(je){return!isFinite(je)}function isNegativeInfinity(je){return je===Number.NEGATIVE_INFINITY}function isPositiveInfinity(je){return je===Number.POSITIVE_INFINITY}function toUint(je){return je>=0?je:je>>>0}function log$1(je,$e){return isNaN(je)?je:isNaN($e)?$e:$e===1?NaN:je!==1&&($e===0||Number.POSITIVE_INFINITY===$e)?NaN:Math.log(je)/Math.log($e)}function pettyNumber(je,$e){let Ve;if(je>=1e6||je<=-1e6?Ve=je.toExponential($e):Ve=je.toString(),Ve.includes("e")){const ze=Number(Ve.split("e")[0]);return round(ze,$e).toString()+"e"+Ve.split("e")[1]}return round(je,$e).toString()}function toPercent(je,$e=1){return isNullOrUndef(je)?"":isNaN(je)?"NaN":round(je*100,$e)+"%"}function assertInteger(je,$e){if(Math.round(je)!==je)throw new Error(`${$e||"number"} must be an integer.`)}function trimString(je,$e){return je&&je.replace(new RegExp(`^${$e}+|${$e}+$`,"g"),"")}function substring(je,$e,Ve){return Ve===void 0?je.substring($e):je.substring($e,$e+Ve)}const $1Second=1e3,$1Minute=6e4,$1Hour=36e5,$1Day=864e5;class TimeSpan{constructor($e){D$1(this,"_totalMs",0),D$1(this,"_ms",0),D$1(this,"_seconds",0),D$1(this,"_minutes",0),D$1(this,"_hours",0),D$1(this,"_days",0),D$1(this,"toString",()=>`${this._days}day ${this._hours}hour ${this._minutes}minute ${this._seconds}second ${this._ms}ms`),this.ms=$e,this._totalMs=$e;const Ve=$e<0?-1:1;let ze=Math.abs($e);ze>=$1Day&&(this._days=Ve*Math.floor(ze/$1Day),ze=ze%$1Day),ze>=$1Hour&&(this._hours=Ve*Math.floor(ze/$1Hour),ze=ze%$1Hour),ze>=$1Minute&&(this._minutes=Ve*Math.floor(ze/$1Minute),ze=ze%$1Minute),ze>=$1Second&&(this._seconds=Ve*Math.floor(ze/$1Second),ze=ze%$1Second),this._ms=Ve*ze}get milliseconds(){return this._ms}get seconds(){return this._seconds}get minutes(){return this._minutes}get hours(){return this._hours}get days(){return this._days}get totalMs(){return this._totalMs}get totalSeconds(){return this._totalMs/$1Second}get totalMinutes(){return this._totalMs/$1Minute}get totalHours(){return this._totalMs/$1Hour}get totalDays(){return this._totalMs/$1Day}static fromMilliseconds($e){return new TimeSpan($e)}static fromSeconds($e){return new TimeSpan($e*$1Second)}static fromMinutes($e){return new TimeSpan($e*$1Minute)}static fromHours($e){return new TimeSpan($e*$1Hour)}static fromDays($e){return new TimeSpan($e*$1Day)}static from($e=0,Ve=0,ze=0,qe=0,Xe=0){return new TimeSpan($e*$1Day+Ve*$1Hour+ze*$1Minute+qe*$1Second+Xe)}}class TwoDimensionalArray{constructor($e,Ve,ze){D$1(this,"_data"),this.columnCount=$e,this.rowCount=Ve,this._data=create2DArray(Ve,$e,ze)}static fromArray($e){const Ve=$e.length,ze=$e[0].length,qe=new TwoDimensionalArray(ze,Ve);for(let Xe=0;Xe<Ve;Xe++)for(let We=0;We<ze;We++)qe.set(We,Xe,$e[Xe][We]);return qe}toArray(){const $e=create2DArray(this.rowCount,this.columnCount);for(let Ve=0;Ve<this.rowCount;Ve++)for(let ze=0;ze<this.columnCount;ze++)$e[Ve][ze]=this.get(ze,Ve);return $e}get height(){return this.rowCount}get width(){return this.columnCount}get($e,Ve){return this._data[Ve][$e]}set($e,Ve,ze){this._data[Ve][$e]=ze}}const zt$1=class So{constructor($e,Ve,ze,qe){D$1(this,"_r"),D$1(this,"_g"),D$1(this,"_b"),D$1(this,"_a"),this._a=toByte($e),this._r=toByte(Ve),this._g=toByte(ze),this._b=toByte(qe)}get a(){return this._a}get b(){return this._b}get g(){return this._g}get r(){return this._r}static parse($e){if(!$e||$e.toLowerCase()==="none")return this._undefined;if($e.toLowerCase()==="auto")return this._automatic;if($e=$e.trim(),$e.startsWith("#")){$e=trimString($e,"#"),$e.length===3&&($e=`${$e[0]}${$e[0]}${$e[1]}${$e[1]}${$e[2]}${$e[2]}`);let Je=parseInt($e,16);return $e.length<8&&(Je+=4278190080),So.fromUInt32(Je)}const Ve=$e.split(",");if(Ve.length<3||Ve.length>4)throw new Error("Invalid format.");let ze=0,qe=255;Ve.length>3&&(qe=parseInt(Ve[ze],10),ze++);const Xe=parseInt(Ve[ze],10),We=parseInt(Ve[ze+1],10),Ke=parseInt(Ve[ze+2],10);return So.fromArgb(qe,Xe,We,Ke)}static colorDifference($e,Ve){const ze=($e.r-Ve.r)/255,qe=($e.g-Ve.g)/255,Xe=($e.b-Ve.b)/255,We=($e.a-Ve.a)/255,Ke=ze*ze+qe*qe+Xe*Xe+We*We;return Math.sqrt(Ke)}static fromUInt32($e){const Ve=$e>>24&255,ze=$e>>16&255,qe=$e>>8&255,Xe=$e&255;return So.fromArgb(Ve,ze,qe,Xe)}static fromHsv($e,Ve,ze){let qe,Xe,We=qe=Xe=0;if(Ve===0)We=qe=Xe=ze;else{$e===1&&($e=0),$e*=6;const Ke=Math.floor($e),Je=$e-Ke,Ze=ze*(1-Ve),Qe=ze*(1-Ve*Je),St=ze*(1-Ve*(1-Je));switch(Ke){case 0:We=ze,qe=St,Xe=Ze;break;case 1:We=Qe,qe=ze,Xe=Ze;break;case 2:We=Ze,qe=ze,Xe=St;break;case 3:We=Ze,qe=Qe,Xe=ze;break;case 4:We=St,qe=Ze,Xe=ze;break;case 5:We=ze,qe=Ze,Xe=Qe;break}}return So.fromRgb(We*255,qe*255,Xe*255)}static fromAColor($e,Ve){return So.fromArgb($e,Ve.r,Ve.g,Ve.b)}static fromArgb($e,Ve,ze,qe){return new So($e,Ve,ze,qe)}static fromRgb($e,Ve,ze){return new So(255,$e,Ve,ze)}static interpolate($e,Ve,ze){const qe=$e.a*(1-ze)+Ve.a*ze,Xe=$e.r*(1-ze)+Ve.r*ze,We=$e.g*(1-ze)+Ve.g*ze,Ke=$e.b*(1-ze)+Ve.b*ze;return So.fromArgb(toByte(qe),toByte(Xe),toByte(We),toByte(Ke))}equals($e){return $e.a===this.a&&$e.r===this.r&&$e.g===this.g&&$e.b===this.b}toArgb(){return this.toArgbInner("start")}toRgba(){return this.toArgbInner("end")}toRgb(){return this.toArgbInner("none")}toArgbInner($e){const Ve=qe=>qe.toString(16).padStart(2,"0"),ze=`${Ve(this.r)}${Ve(this.g)}${Ve(this.b)}`;return $e==="start"?`#${Ve(this.a)}${ze}`:$e==="end"?`#${ze}${Ve(this.a)}`:`#${ze}`}toString(){return this.toArgb()}isInvisible(){return this.a===0}isVisible(){return this.a>0}isUndefined(){return this.equals(So._undefined)}isAutomatic(){return this.equals(So._automatic)}getActualColor($e){return this.isAutomatic()?$e:this}};D$1(zt$1,"_undefined",zt$1.fromUInt32(0)),D$1(zt$1,"_automatic",zt$1.fromUInt32(1));let OxyColor=zt$1;function toByte(je){return Math.round(je)}const OxyColors={Undefined:OxyColor.fromUInt32(0),Automatic:OxyColor.fromUInt32(1),AliceBlue:OxyColor.fromUInt32(4293982463),AntiqueWhite:OxyColor.fromUInt32(4294634455),Aqua:OxyColor.fromUInt32(4278255615),Aquamarine:OxyColor.fromUInt32(4286578644),Azure:OxyColor.fromUInt32(4293984255),Beige:OxyColor.fromUInt32(4294309340),Bisque:OxyColor.fromUInt32(4294960324),Black:OxyColor.fromUInt32(4278190080),BlanchedAlmond:OxyColor.fromUInt32(4294962125),Blue:OxyColor.fromUInt32(4278190335),BlueViolet:OxyColor.fromUInt32(4287245282),Brown:OxyColor.fromUInt32(4289014314),BurlyWood:OxyColor.fromUInt32(4292786311),CadetBlue:OxyColor.fromUInt32(4284456608),Chartreuse:OxyColor.fromUInt32(4286578432),Chocolate:OxyColor.fromUInt32(4291979550),Coral:OxyColor.fromUInt32(4294934352),CornflowerBlue:OxyColor.fromUInt32(4284782061),Cornsilk:OxyColor.fromUInt32(4294965468),Crimson:OxyColor.fromUInt32(4292613180),Cyan:OxyColor.fromUInt32(4278255615),DarkBlue:OxyColor.fromUInt32(4278190219),DarkCyan:OxyColor.fromUInt32(4278225803),DarkGoldenrod:OxyColor.fromUInt32(4290283019),DarkGray:OxyColor.fromUInt32(4289309097),DarkGreen:OxyColor.fromUInt32(4278215680),DarkKhaki:OxyColor.fromUInt32(4290623339),DarkMagenta:OxyColor.fromUInt32(4287299723),DarkOliveGreen:OxyColor.fromUInt32(4283788079),DarkOrange:OxyColor.fromUInt32(4294937600),DarkOrchid:OxyColor.fromUInt32(4288230092),DarkRed:OxyColor.fromUInt32(4287299584),DarkSalmon:OxyColor.fromUInt32(4293498490),DarkSeaGreen:OxyColor.fromUInt32(4287609999),DarkSlateBlue:OxyColor.fromUInt32(4282924427),DarkSlateGray:OxyColor.fromUInt32(4281290575),DarkTurquoise:OxyColor.fromUInt32(4278243025),DarkViolet:OxyColor.fromUInt32(4287889619),DeepPink:OxyColor.fromUInt32(4294907027),DeepSkyBlue:OxyColor.fromUInt32(4278239231),DimGray:OxyColor.fromUInt32(4285098345),DodgerBlue:OxyColor.fromUInt32(4280193279),Firebrick:OxyColor.fromUInt32(4289864226),FloralWhite:OxyColor.fromUInt32(4294966e3),ForestGreen:OxyColor.fromUInt32(4280453922),Fuchsia:OxyColor.fromUInt32(4294902015),Gainsboro:OxyColor.fromUInt32(4292664540),GhostWhite:OxyColor.fromUInt32(4294506751),Gold:OxyColor.fromUInt32(4294956800),Goldenrod:OxyColor.fromUInt32(4292519200),Gray:OxyColor.fromUInt32(4286611584),Green:OxyColor.fromUInt32(4278222848),GreenYellow:OxyColor.fromUInt32(4289593135),Honeydew:OxyColor.fromUInt32(4293984240),HotPink:OxyColor.fromUInt32(4294928820),IndianRed:OxyColor.fromUInt32(4291648604),Indigo:OxyColor.fromUInt32(4283105410),Ivory:OxyColor.fromUInt32(4294967280),Khaki:OxyColor.fromUInt32(4293977740),Lavender:OxyColor.fromUInt32(4293322490),LavenderBlush:OxyColor.fromUInt32(4294963445),LawnGreen:OxyColor.fromUInt32(4286381056),LemonChiffon:OxyColor.fromUInt32(4294965965),LightBlue:OxyColor.fromUInt32(4289583334),LightCoral:OxyColor.fromUInt32(4293951616),LightCyan:OxyColor.fromUInt32(4292935679),LightGoldenrodYellow:OxyColor.fromUInt32(4294638290),LightGray:OxyColor.fromUInt32(4292072403),LightGreen:OxyColor.fromUInt32(4287688336),LightPink:OxyColor.fromUInt32(4294948545),LightSalmon:OxyColor.fromUInt32(4294942842),LightSeaGreen:OxyColor.fromUInt32(4280332970),LightSkyBlue:OxyColor.fromUInt32(4287090426),LightSlateGray:OxyColor.fromUInt32(4286023833),LightSteelBlue:OxyColor.fromUInt32(4289774814),LightYellow:OxyColor.fromUInt32(4294967264),Lime:OxyColor.fromUInt32(4278255360),LimeGreen:OxyColor.fromUInt32(4281519410),Linen:OxyColor.fromUInt32(4294635750),Magenta:OxyColor.fromUInt32(4294902015),Maroon:OxyColor.fromUInt32(4286578688),MediumAquamarine:OxyColor.fromUInt32(4284927402),MediumBlue:OxyColor.fromUInt32(4278190285),MediumOrchid:OxyColor.fromUInt32(4290401747),MediumPurple:OxyColor.fromUInt32(4287852763),MediumSeaGreen:OxyColor.fromUInt32(4282168177),MediumSlateBlue:OxyColor.fromUInt32(4286277870),MediumSpringGreen:OxyColor.fromUInt32(4278254234),MediumTurquoise:OxyColor.fromUInt32(4282962380),MediumVioletRed:OxyColor.fromUInt32(4291237253),MidnightBlue:OxyColor.fromUInt32(4279834992),MintCream:OxyColor.fromUInt32(4294311930),MistyRose:OxyColor.fromUInt32(4294960353),Moccasin:OxyColor.fromUInt32(4294960309),NavajoWhite:OxyColor.fromUInt32(4294958765),Navy:OxyColor.fromUInt32(4278190208),OldLace:OxyColor.fromUInt32(4294833638),Olive:OxyColor.fromUInt32(4286611456),OliveDrab:OxyColor.fromUInt32(4285238819),Orange:OxyColor.fromUInt32(4294944e3),OrangeRed:OxyColor.fromUInt32(4294919424),Orchid:OxyColor.fromUInt32(4292505814),PaleGoldenrod:OxyColor.fromUInt32(4293847210),PaleGreen:OxyColor.fromUInt32(4288215960),PaleTurquoise:OxyColor.fromUInt32(4289720046),PaleVioletRed:OxyColor.fromUInt32(4292571283),PapayaWhip:OxyColor.fromUInt32(4294963157),PeachPuff:OxyColor.fromUInt32(4294957753),Peru:OxyColor.fromUInt32(4291659071),Pink:OxyColor.fromUInt32(4294951115),Plum:OxyColor.fromUInt32(4292714717),PowderBlue:OxyColor.fromUInt32(4289781990),Purple:OxyColor.fromUInt32(4286578816),Red:OxyColor.fromUInt32(4294901760),RosyBrown:OxyColor.fromUInt32(4290547599),RoyalBlue:OxyColor.fromUInt32(4282477025),SaddleBrown:OxyColor.fromUInt32(4287317267),Salmon:OxyColor.fromUInt32(4294606962),SandyBrown:OxyColor.fromUInt32(4294222944),SeaGreen:OxyColor.fromUInt32(4281240407),SeaShell:OxyColor.fromUInt32(4294964718),Sienna:OxyColor.fromUInt32(4288696877),Silver:OxyColor.fromUInt32(4290822336),SkyBlue:OxyColor.fromUInt32(4287090411),SlateBlue:OxyColor.fromUInt32(4285160141),SlateGray:OxyColor.fromUInt32(4285563024),Snow:OxyColor.fromUInt32(4294966010),SpringGreen:OxyColor.fromUInt32(4278255487),SteelBlue:OxyColor.fromUInt32(4282811060),Tan:OxyColor.fromUInt32(4291998860),Teal:OxyColor.fromUInt32(4278222976),Thistle:OxyColor.fromUInt32(4292394968),Tomato:OxyColor.fromUInt32(4294927175),Transparent:OxyColor.fromUInt32(16777215),Turquoise:OxyColor.fromUInt32(4282441936),Violet:OxyColor.fromUInt32(4293821166),Wheat:OxyColor.fromUInt32(4294303411),White:OxyColor.fromUInt32(4294967295),WhiteSmoke:OxyColor.fromUInt32(4294309365),Yellow:OxyColor.fromUInt32(4294967040),YellowGreen:OxyColor.fromUInt32(4288335154)};Object.freeze(OxyColors);const colorNamesCache=new Map,OxyColorExtensions={changeIntensity:(je,$e)=>{const Ve=OxyColorExtensions.toHsv(je);return Ve[2]*=$e,Ve[2]>1&&(Ve[2]=1),OxyColor.fromHsv(Ve[0],Ve[1],Ve[2])},changeSaturation:(je,$e)=>{const Ve=OxyColorExtensions.toHsv(je);return Ve[1]*=$e,Ve[1]>1&&(Ve[1]=1),OxyColor.fromHsv(Ve[0],Ve[1],Ve[2])},changeOpacity:(je,$e)=>OxyColor.fromAColor(je.a*$e,je),complementary:je=>{const $e=OxyColorExtensions.toHsv(je);let Ve=$e[0]-.5;return Ve<0&&(Ve+=1),OxyColor.fromHsv(Ve,$e[1],$e[2])},toHsv:je=>{const $e=je.r,Ve=je.g,ze=je.b,qe=Math.min(Math.min($e,Ve),ze),Xe=Math.max(Math.max($e,Ve),ze),We=Xe-qe,Ke=Xe===0?0:We/Xe;let Je=0;Ke===0?Je=0:($e===Xe?Je=(Ve-ze)/We:Ve===Xe?Je=2+(ze-$e)/We:ze===Xe&&(Je=4+($e-Ve)/We),Je*=60,Je<0&&(Je+=360));const Ze=new Array(3);return Ze[0]=Je/360,Ze[1]=Ke,Ze[2]=Xe/255,Ze},toUint:je=>{let $e=toUint(je.a<<24);return $e+=toUint(je.r<<16),$e+=toUint(je.g<<8),$e+=toUint(je.b),toUint($e)},toByteString:je=>`${je.a},${je.r},${je.g},${je.b}`,getColorName:je=>{const $e=OxyColorExtensions.toUint(je);if(colorNamesCache.has($e))return colorNamesCache.get($e);const Ve=OxyColors;for(const ze of Object.keys(Ve)){const qe=Ve[ze];if(OxyColorExtensions.toUint(qe)===$e)return colorNamesCache.set($e,ze),ze}},hueDifference:(je,$e)=>{const Ve=OxyColorExtensions.toHsv(je),ze=OxyColorExtensions.toHsv($e);let qe=Ve[0]-ze[0];qe>.5&&(qe-=1),qe<-.5&&(qe+=1);const Xe=Math.pow(qe,2);return Math.sqrt(Xe)}};class OxyPalette{constructor($e){D$1(this,"colors",[]),$e&&(this.colors=[...$e],Object.freeze(this.colors))}static interpolate($e,...Ve){if(!Ve||Ve.length===0||$e<1)return new OxyPalette([]);const ze=[],qe=$e===1?0:1/($e-1);for(let Xe=0;Xe<$e;Xe++){const We=Xe*qe*(Ve.length-1),Ke=Math.floor(We),Je=Ke+1<Ve.length?Ke+1:Ke;ze[Xe]=OxyColor.interpolate(Ve[Ke],Ve[Je],We-Ke)}return new OxyPalette(ze)}reverse(){return new OxyPalette(getReversedCopy(this.colors))}}class OxyPalettes{static blackWhiteRed($e){return OxyPalette.interpolate($e,OxyColors.Black,OxyColors.White,OxyColors.Red)}static blueWhiteRed($e){return OxyPalette.interpolate($e,OxyColors.Blue,OxyColors.White,OxyColors.Red)}static cool($e){return OxyPalette.interpolate($e,OxyColors.Cyan,OxyColors.Magenta)}static gray($e){return OxyPalette.interpolate($e,OxyColors.Black,OxyColors.White)}static hot($e){return OxyPalette.interpolate($e,OxyColors.Black,OxyColor.fromRgb(127,0,0),OxyColor.fromRgb(255,127,0),OxyColor.fromRgb(255,255,127),OxyColors.White)}static hue($e){return OxyPalette.interpolate($e,OxyColors.Red,OxyColors.Yellow,OxyColors.Green,OxyColors.Cyan,OxyColors.Blue,OxyColors.Magenta,OxyColors.Red)}static hueDistinct($e){return OxyPalette.interpolate($e,OxyColors.Magenta,OxyColors.Blue,OxyColors.Cyan,OxyColors.Green,OxyColors.Yellow,OxyColors.Red)}static jet($e){return OxyPalette.interpolate($e,OxyColors.DarkBlue,OxyColors.Cyan,OxyColors.Yellow,OxyColors.Orange,OxyColors.DarkRed)}static rainbow($e){return OxyPalette.interpolate($e,OxyColors.Violet,OxyColors.Indigo,OxyColors.Blue,OxyColors.Green,OxyColors.Yellow,OxyColors.Orange,OxyColors.Red)}static cividis($e=256){return $e===cividisColors.length?new OxyPalette(cividisColors):OxyPalette.interpolate($e,...cividisColors)}static inferno($e=256){return $e===infernoColors.length?new OxyPalette(infernoColors):OxyPalette.interpolate($e,...infernoColors)}static magma($e=256){return $e===magmaColors.length?new OxyPalette(magmaColors):OxyPalette.interpolate($e,...magmaColors)}static plasma($e=256){return $e===plasmaColors.length?new OxyPalette(plasmaColors):OxyPalette.interpolate($e,...plasmaColors)}static viridis($e=256){return $e===viridisColors.length?new OxyPalette(viridisColors):OxyPalette.interpolate($e,...viridisColors)}}D$1(OxyPalettes,"blueWhiteRed31"),D$1(OxyPalettes,"hot64"),D$1(OxyPalettes,"hue64");OxyPalettes.blueWhiteRed31=OxyPalettes.blueWhiteRed(31);OxyPalettes.hot64=OxyPalettes.hot(64);OxyPalettes.hue64=OxyPalettes.hue(64);const cividisColors=[OxyColor.fromRgb(0,32,77),OxyColor.fromRgb(0,33,78),OxyColor.fromRgb(0,34,80),OxyColor.fromRgb(0,34,82),OxyColor.fromRgb(0,35,83),OxyColor.fromRgb(0,36,85),OxyColor.fromRgb(0,37,87),OxyColor.fromRgb(0,37,88),OxyColor.fromRgb(0,38,90),OxyColor.fromRgb(0,39,92),OxyColor.fromRgb(0,39,94),OxyColor.fromRgb(0,40,96),OxyColor.fromRgb(0,41,97),OxyColor.fromRgb(0,42,99),OxyColor.fromRgb(0,42,101),OxyColor.fromRgb(0,43,103),OxyColor.fromRgb(0,44,105),OxyColor.fromRgb(0,44,106),OxyColor.fromRgb(0,45,108),OxyColor.fromRgb(0,46,110),OxyColor.fromRgb(0,46,111),OxyColor.fromRgb(0,47,111),OxyColor.fromRgb(0,47,111),OxyColor.fromRgb(0,48,111),OxyColor.fromRgb(0,48,111),OxyColor.fromRgb(0,49,111),OxyColor.fromRgb(0,50,111),OxyColor.fromRgb(0,51,111),OxyColor.fromRgb(0,51,111),OxyColor.fromRgb(0,52,111),OxyColor.fromRgb(0,53,110),OxyColor.fromRgb(1,54,110),OxyColor.fromRgb(6,54,110),OxyColor.fromRgb(11,55,110),OxyColor.fromRgb(15,56,110),OxyColor.fromRgb(18,56,109),OxyColor.fromRgb(21,57,109),OxyColor.fromRgb(24,58,109),OxyColor.fromRgb(26,59,109),OxyColor.fromRgb(29,59,109),OxyColor.fromRgb(31,60,109),OxyColor.fromRgb(33,61,109),OxyColor.fromRgb(35,62,108),OxyColor.fromRgb(36,62,108),OxyColor.fromRgb(38,63,108),OxyColor.fromRgb(40,64,108),OxyColor.fromRgb(42,64,108),OxyColor.fromRgb(43,65,108),OxyColor.fromRgb(45,66,108),OxyColor.fromRgb(46,67,108),OxyColor.fromRgb(48,67,108),OxyColor.fromRgb(49,68,107),OxyColor.fromRgb(50,69,107),OxyColor.fromRgb(52,69,107),OxyColor.fromRgb(53,70,107),OxyColor.fromRgb(54,71,107),OxyColor.fromRgb(56,72,107),OxyColor.fromRgb(57,72,107),OxyColor.fromRgb(58,73,107),OxyColor.fromRgb(59,74,107),OxyColor.fromRgb(61,74,107),OxyColor.fromRgb(62,75,107),OxyColor.fromRgb(63,76,107),OxyColor.fromRgb(64,77,107),OxyColor.fromRgb(65,77,107),OxyColor.fromRgb(66,78,107),OxyColor.fromRgb(67,79,107),OxyColor.fromRgb(68,79,107),OxyColor.fromRgb(70,80,107),OxyColor.fromRgb(71,81,107),OxyColor.fromRgb(72,82,107),OxyColor.fromRgb(73,82,107),OxyColor.fromRgb(74,83,107),OxyColor.fromRgb(75,84,108),OxyColor.fromRgb(76,84,108),OxyColor.fromRgb(77,85,108),OxyColor.fromRgb(78,86,108),OxyColor.fromRgb(79,87,108),OxyColor.fromRgb(80,87,108),OxyColor.fromRgb(81,88,108),OxyColor.fromRgb(82,89,108),OxyColor.fromRgb(83,89,108),OxyColor.fromRgb(84,90,108),OxyColor.fromRgb(85,91,109),OxyColor.fromRgb(86,92,109),OxyColor.fromRgb(87,92,109),OxyColor.fromRgb(88,93,109),OxyColor.fromRgb(89,94,109),OxyColor.fromRgb(89,95,109),OxyColor.fromRgb(90,95,109),OxyColor.fromRgb(91,96,110),OxyColor.fromRgb(92,97,110),OxyColor.fromRgb(93,97,110),OxyColor.fromRgb(94,98,110),OxyColor.fromRgb(95,99,110),OxyColor.fromRgb(96,100,111),OxyColor.fromRgb(97,100,111),OxyColor.fromRgb(98,101,111),OxyColor.fromRgb(99,102,111),OxyColor.fromRgb(100,102,111),OxyColor.fromRgb(100,103,112),OxyColor.fromRgb(101,104,112),OxyColor.fromRgb(102,105,112),OxyColor.fromRgb(103,105,112),OxyColor.fromRgb(104,106,113),OxyColor.fromRgb(105,107,113),OxyColor.fromRgb(106,108,113),OxyColor.fromRgb(107,108,113),OxyColor.fromRgb(108,109,114),OxyColor.fromRgb(108,110,114),OxyColor.fromRgb(109,110,114),OxyColor.fromRgb(110,111,115),OxyColor.fromRgb(111,112,115),OxyColor.fromRgb(112,113,115),OxyColor.fromRgb(113,113,116),OxyColor.fromRgb(114,114,116),OxyColor.fromRgb(114,115,116),OxyColor.fromRgb(115,116,117),OxyColor.fromRgb(116,116,117),OxyColor.fromRgb(117,117,117),OxyColor.fromRgb(118,118,118),OxyColor.fromRgb(119,119,118),OxyColor.fromRgb(120,119,119),OxyColor.fromRgb(120,120,119),OxyColor.fromRgb(121,121,119),OxyColor.fromRgb(122,122,120),OxyColor.fromRgb(123,122,120),OxyColor.fromRgb(124,123,120),OxyColor.fromRgb(125,124,120),OxyColor.fromRgb(126,125,120),OxyColor.fromRgb(127,125,120),OxyColor.fromRgb(128,126,121),OxyColor.fromRgb(129,127,121),OxyColor.fromRgb(130,128,121),OxyColor.fromRgb(131,128,121),OxyColor.fromRgb(132,129,121),OxyColor.fromRgb(132,130,121),OxyColor.fromRgb(133,131,121),OxyColor.fromRgb(134,131,121),OxyColor.fromRgb(135,132,121),OxyColor.fromRgb(136,133,121),OxyColor.fromRgb(137,134,121),OxyColor.fromRgb(138,135,121),OxyColor.fromRgb(139,135,121),OxyColor.fromRgb(140,136,121),OxyColor.fromRgb(141,137,121),OxyColor.fromRgb(142,138,121),OxyColor.fromRgb(143,138,121),OxyColor.fromRgb(144,139,121),OxyColor.fromRgb(145,140,120),OxyColor.fromRgb(146,141,120),OxyColor.fromRgb(147,142,120),OxyColor.fromRgb(148,142,120),OxyColor.fromRgb(149,143,120),OxyColor.fromRgb(150,144,120),OxyColor.fromRgb(151,145,120),OxyColor.fromRgb(152,146,120),OxyColor.fromRgb(153,146,120),OxyColor.fromRgb(154,147,119),OxyColor.fromRgb(155,148,119),OxyColor.fromRgb(156,149,119),OxyColor.fromRgb(157,150,119),OxyColor.fromRgb(158,150,119),OxyColor.fromRgb(159,151,119),OxyColor.fromRgb(160,152,119),OxyColor.fromRgb(161,153,118),OxyColor.fromRgb(162,154,118),OxyColor.fromRgb(163,154,118),OxyColor.fromRgb(164,155,118),OxyColor.fromRgb(165,156,118),OxyColor.fromRgb(166,157,117),OxyColor.fromRgb(168,158,117),OxyColor.fromRgb(169,159,117),OxyColor.fromRgb(170,159,117),OxyColor.fromRgb(171,160,116),OxyColor.fromRgb(172,161,116),OxyColor.fromRgb(173,162,116),OxyColor.fromRgb(174,163,116),OxyColor.fromRgb(175,164,115),OxyColor.fromRgb(176,164,115),OxyColor.fromRgb(177,165,115),OxyColor.fromRgb(178,166,114),OxyColor.fromRgb(179,167,114),OxyColor.fromRgb(180,168,114),OxyColor.fromRgb(181,169,113),OxyColor.fromRgb(182,169,113),OxyColor.fromRgb(183,170,113),OxyColor.fromRgb(184,171,112),OxyColor.fromRgb(185,172,112),OxyColor.fromRgb(186,173,112),OxyColor.fromRgb(187,174,111),OxyColor.fromRgb(188,175,111),OxyColor.fromRgb(190,175,111),OxyColor.fromRgb(191,176,110),OxyColor.fromRgb(192,177,110),OxyColor.fromRgb(193,178,109),OxyColor.fromRgb(194,179,109),OxyColor.fromRgb(195,180,109),OxyColor.fromRgb(196,181,108),OxyColor.fromRgb(197,181,108),OxyColor.fromRgb(198,182,107),OxyColor.fromRgb(199,183,107),OxyColor.fromRgb(200,184,106),OxyColor.fromRgb(201,185,106),OxyColor.fromRgb(203,186,105),OxyColor.fromRgb(204,187,105),OxyColor.fromRgb(205,188,104),OxyColor.fromRgb(206,188,104),OxyColor.fromRgb(207,189,103),OxyColor.fromRgb(208,190,103),OxyColor.fromRgb(209,191,102),OxyColor.fromRgb(210,192,102),OxyColor.fromRgb(211,193,101),OxyColor.fromRgb(212,194,100),OxyColor.fromRgb(214,195,100),OxyColor.fromRgb(215,196,99),OxyColor.fromRgb(216,197,99),OxyColor.fromRgb(217,197,98),OxyColor.fromRgb(218,198,97),OxyColor.fromRgb(219,199,97),OxyColor.fromRgb(220,200,96),OxyColor.fromRgb(221,201,95),OxyColor.fromRgb(222,202,95),OxyColor.fromRgb(224,203,94),OxyColor.fromRgb(225,204,93),OxyColor.fromRgb(226,205,92),OxyColor.fromRgb(227,206,92),OxyColor.fromRgb(228,207,91),OxyColor.fromRgb(229,208,90),OxyColor.fromRgb(230,209,89),OxyColor.fromRgb(232,210,89),OxyColor.fromRgb(233,211,88),OxyColor.fromRgb(234,211,87),OxyColor.fromRgb(235,212,86),OxyColor.fromRgb(236,213,85),OxyColor.fromRgb(237,214,84),OxyColor.fromRgb(239,215,83),OxyColor.fromRgb(240,216,82),OxyColor.fromRgb(241,217,81),OxyColor.fromRgb(242,218,80),OxyColor.fromRgb(243,219,79),OxyColor.fromRgb(244,220,78),OxyColor.fromRgb(246,221,77),OxyColor.fromRgb(247,222,76),OxyColor.fromRgb(248,223,75),OxyColor.fromRgb(249,224,74),OxyColor.fromRgb(250,225,73),OxyColor.fromRgb(251,226,72),OxyColor.fromRgb(253,227,70),OxyColor.fromRgb(254,228,69),OxyColor.fromRgb(255,229,68),OxyColor.fromRgb(255,230,66),OxyColor.fromRgb(255,231,66),OxyColor.fromRgb(255,232,67),OxyColor.fromRgb(255,233,68),OxyColor.fromRgb(255,234,70)],infernoColors=[OxyColor.fromRgb(0,0,4),OxyColor.fromRgb(1,0,5),OxyColor.fromRgb(1,1,6),OxyColor.fromRgb(1,1,8),OxyColor.fromRgb(2,1,10),OxyColor.fromRgb(2,2,12),OxyColor.fromRgb(2,2,14),OxyColor.fromRgb(3,2,16),OxyColor.fromRgb(4,3,18),OxyColor.fromRgb(4,3,20),OxyColor.fromRgb(5,4,23),OxyColor.fromRgb(6,4,25),OxyColor.fromRgb(7,5,27),OxyColor.fromRgb(8,5,29),OxyColor.fromRgb(9,6,31),OxyColor.fromRgb(10,7,34),OxyColor.fromRgb(11,7,36),OxyColor.fromRgb(12,8,38),OxyColor.fromRgb(13,8,41),OxyColor.fromRgb(14,9,43),OxyColor.fromRgb(16,9,45),OxyColor.fromRgb(17,10,48),OxyColor.fromRgb(18,10,50),OxyColor.fromRgb(20,11,52),OxyColor.fromRgb(21,11,55),OxyColor.fromRgb(22,11,57),OxyColor.fromRgb(24,12,60),OxyColor.fromRgb(25,12,62),OxyColor.fromRgb(27,12,65),OxyColor.fromRgb(28,12,67),OxyColor.fromRgb(30,12,69),OxyColor.fromRgb(31,12,72),OxyColor.fromRgb(33,12,74),OxyColor.fromRgb(35,12,76),OxyColor.fromRgb(36,12,79),OxyColor.fromRgb(38,12,81),OxyColor.fromRgb(40,11,83),OxyColor.fromRgb(41,11,85),OxyColor.fromRgb(43,11,87),OxyColor.fromRgb(45,11,89),OxyColor.fromRgb(47,10,91),OxyColor.fromRgb(49,10,92),OxyColor.fromRgb(50,10,94),OxyColor.fromRgb(52,10,95),OxyColor.fromRgb(54,9,97),OxyColor.fromRgb(56,9,98),OxyColor.fromRgb(57,9,99),OxyColor.fromRgb(59,9,100),OxyColor.fromRgb(61,9,101),OxyColor.fromRgb(62,9,102),OxyColor.fromRgb(64,10,103),OxyColor.fromRgb(66,10,104),OxyColor.fromRgb(68,10,104),OxyColor.fromRgb(69,10,105),OxyColor.fromRgb(71,11,106),OxyColor.fromRgb(73,11,106),OxyColor.fromRgb(74,12,107),OxyColor.fromRgb(76,12,107),OxyColor.fromRgb(77,13,108),OxyColor.fromRgb(79,13,108),OxyColor.fromRgb(81,14,108),OxyColor.fromRgb(82,14,109),OxyColor.fromRgb(84,15,109),OxyColor.fromRgb(85,15,109),OxyColor.fromRgb(87,16,110),OxyColor.fromRgb(89,16,110),OxyColor.fromRgb(90,17,110),OxyColor.fromRgb(92,18,110),OxyColor.fromRgb(93,18,110),OxyColor.fromRgb(95,19,110),OxyColor.fromRgb(97,19,110),OxyColor.fromRgb(98,20,110),OxyColor.fromRgb(100,21,110),OxyColor.fromRgb(101,21,110),OxyColor.fromRgb(103,22,110),OxyColor.fromRgb(105,22,110),OxyColor.fromRgb(106,23,110),OxyColor.fromRgb(108,24,110),OxyColor.fromRgb(109,24,110),OxyColor.fromRgb(111,25,110),OxyColor.fromRgb(113,25,110),OxyColor.fromRgb(114,26,110),OxyColor.fromRgb(116,26,110),OxyColor.fromRgb(117,27,110),OxyColor.fromRgb(119,28,109),OxyColor.fromRgb(120,28,109),OxyColor.fromRgb(122,29,109),OxyColor.fromRgb(124,29,109),OxyColor.fromRgb(125,30,109),OxyColor.fromRgb(127,30,108),OxyColor.fromRgb(128,31,108),OxyColor.fromRgb(130,32,108),OxyColor.fromRgb(132,32,107),OxyColor.fromRgb(133,33,107),OxyColor.fromRgb(135,33,107),OxyColor.fromRgb(136,34,106),OxyColor.fromRgb(138,34,106),OxyColor.fromRgb(140,35,105),OxyColor.fromRgb(141,35,105),OxyColor.fromRgb(143,36,105),OxyColor.fromRgb(144,37,104),OxyColor.fromRgb(146,37,104),OxyColor.fromRgb(147,38,103),OxyColor.fromRgb(149,38,103),OxyColor.fromRgb(151,39,102),OxyColor.fromRgb(152,39,102),OxyColor.fromRgb(154,40,101),OxyColor.fromRgb(155,41,100),OxyColor.fromRgb(157,41,100),OxyColor.fromRgb(159,42,99),OxyColor.fromRgb(160,42,99),OxyColor.fromRgb(162,43,98),OxyColor.fromRgb(163,44,97),OxyColor.fromRgb(165,44,96),OxyColor.fromRgb(166,45,96),OxyColor.fromRgb(168,46,95),OxyColor.fromRgb(169,46,94),OxyColor.fromRgb(171,47,94),OxyColor.fromRgb(173,48,93),OxyColor.fromRgb(174,48,92),OxyColor.fromRgb(176,49,91),OxyColor.fromRgb(177,50,90),OxyColor.fromRgb(179,50,90),OxyColor.fromRgb(180,51,89),OxyColor.fromRgb(182,52,88),OxyColor.fromRgb(183,53,87),OxyColor.fromRgb(185,53,86),OxyColor.fromRgb(186,54,85),OxyColor.fromRgb(188,55,84),OxyColor.fromRgb(189,56,83),OxyColor.fromRgb(191,57,82),OxyColor.fromRgb(192,58,81),OxyColor.fromRgb(193,58,80),OxyColor.fromRgb(195,59,79),OxyColor.fromRgb(196,60,78),OxyColor.fromRgb(198,61,77),OxyColor.fromRgb(199,62,76),OxyColor.fromRgb(200,63,75),OxyColor.fromRgb(202,64,74),OxyColor.fromRgb(203,65,73),OxyColor.fromRgb(204,66,72),OxyColor.fromRgb(206,67,71),OxyColor.fromRgb(207,68,70),OxyColor.fromRgb(208,69,69),OxyColor.fromRgb(210,70,68),OxyColor.fromRgb(211,71,67),OxyColor.fromRgb(212,72,66),OxyColor.fromRgb(213,74,65),OxyColor.fromRgb(215,75,63),OxyColor.fromRgb(216,76,62),OxyColor.fromRgb(217,77,61),OxyColor.fromRgb(218,78,60),OxyColor.fromRgb(219,80,59),OxyColor.fromRgb(221,81,58),OxyColor.fromRgb(222,82,56),OxyColor.fromRgb(223,83,55),OxyColor.fromRgb(224,85,54),OxyColor.fromRgb(225,86,53),OxyColor.fromRgb(226,87,52),OxyColor.fromRgb(227,89,51),OxyColor.fromRgb(228,90,49),OxyColor.fromRgb(229,92,48),OxyColor.fromRgb(230,93,47),OxyColor.fromRgb(231,94,46),OxyColor.fromRgb(232,96,45),OxyColor.fromRgb(233,97,43),OxyColor.fromRgb(234,99,42),OxyColor.fromRgb(235,100,41),OxyColor.fromRgb(235,102,40),OxyColor.fromRgb(236,103,38),OxyColor.fromRgb(237,105,37),OxyColor.fromRgb(238,106,36),OxyColor.fromRgb(239,108,35),OxyColor.fromRgb(239,110,33),OxyColor.fromRgb(240,111,32),OxyColor.fromRgb(241,113,31),OxyColor.fromRgb(241,115,29),OxyColor.fromRgb(242,116,28),OxyColor.fromRgb(243,118,27),OxyColor.fromRgb(243,120,25),OxyColor.fromRgb(244,121,24),OxyColor.fromRgb(245,123,23),OxyColor.fromRgb(245,125,21),OxyColor.fromRgb(246,126,20),OxyColor.fromRgb(246,128,19),OxyColor.fromRgb(247,130,18),OxyColor.fromRgb(247,132,16),OxyColor.fromRgb(248,133,15),OxyColor.fromRgb(248,135,14),OxyColor.fromRgb(248,137,12),OxyColor.fromRgb(249,139,11),OxyColor.fromRgb(249,140,10),OxyColor.fromRgb(249,142,9),OxyColor.fromRgb(250,144,8),OxyColor.fromRgb(250,146,7),OxyColor.fromRgb(250,148,7),OxyColor.fromRgb(251,150,6),OxyColor.fromRgb(251,151,6),OxyColor.fromRgb(251,153,6),OxyColor.fromRgb(251,155,6),OxyColor.fromRgb(251,157,7),OxyColor.fromRgb(252,159,7),OxyColor.fromRgb(252,161,8),OxyColor.fromRgb(252,163,9),OxyColor.fromRgb(252,165,10),OxyColor.fromRgb(252,166,12),OxyColor.fromRgb(252,168,13),OxyColor.fromRgb(252,170,15),OxyColor.fromRgb(252,172,17),OxyColor.fromRgb(252,174,18),OxyColor.fromRgb(252,176,20),OxyColor.fromRgb(252,178,22),OxyColor.fromRgb(252,180,24),OxyColor.fromRgb(251,182,26),OxyColor.fromRgb(251,184,29),OxyColor.fromRgb(251,186,31),OxyColor.fromRgb(251,188,33),OxyColor.fromRgb(251,190,35),OxyColor.fromRgb(250,192,38),OxyColor.fromRgb(250,194,40),OxyColor.fromRgb(250,196,42),OxyColor.fromRgb(250,198,45),OxyColor.fromRgb(249,199,47),OxyColor.fromRgb(249,201,50),OxyColor.fromRgb(249,203,53),OxyColor.fromRgb(248,205,55),OxyColor.fromRgb(248,207,58),OxyColor.fromRgb(247,209,61),OxyColor.fromRgb(247,211,64),OxyColor.fromRgb(246,213,67),OxyColor.fromRgb(246,215,70),OxyColor.fromRgb(245,217,73),OxyColor.fromRgb(245,219,76),OxyColor.fromRgb(244,221,79),OxyColor.fromRgb(244,223,83),OxyColor.fromRgb(244,225,86),OxyColor.fromRgb(243,227,90),OxyColor.fromRgb(243,229,93),OxyColor.fromRgb(242,230,97),OxyColor.fromRgb(242,232,101),OxyColor.fromRgb(242,234,105),OxyColor.fromRgb(241,236,109),OxyColor.fromRgb(241,237,113),OxyColor.fromRgb(241,239,117),OxyColor.fromRgb(241,241,121),OxyColor.fromRgb(242,242,125),OxyColor.fromRgb(242,244,130),OxyColor.fromRgb(243,245,134),OxyColor.fromRgb(243,246,138),OxyColor.fromRgb(244,248,142),OxyColor.fromRgb(245,249,146),OxyColor.fromRgb(246,250,150),OxyColor.fromRgb(248,251,154),OxyColor.fromRgb(249,252,157),OxyColor.fromRgb(250,253,161),OxyColor.fromRgb(252,255,164)],magmaColors=[OxyColor.fromRgb(0,0,4),OxyColor.fromRgb(1,0,5),OxyColor.fromRgb(1,1,6),OxyColor.fromRgb(1,1,8),OxyColor.fromRgb(2,1,9),OxyColor.fromRgb(2,2,11),OxyColor.fromRgb(2,2,13),OxyColor.fromRgb(3,3,15),OxyColor.fromRgb(3,3,18),OxyColor.fromRgb(4,4,20),OxyColor.fromRgb(5,4,22),OxyColor.fromRgb(6,5,24),OxyColor.fromRgb(6,5,26),OxyColor.fromRgb(7,6,28),OxyColor.fromRgb(8,7,30),OxyColor.fromRgb(9,7,32),OxyColor.fromRgb(10,8,34),OxyColor.fromRgb(11,9,36),OxyColor.fromRgb(12,9,38),OxyColor.fromRgb(13,10,41),OxyColor.fromRgb(14,11,43),OxyColor.fromRgb(16,11,45),OxyColor.fromRgb(17,12,47),OxyColor.fromRgb(18,13,49),OxyColor.fromRgb(19,13,52),OxyColor.fromRgb(20,14,54),OxyColor.fromRgb(21,14,56),OxyColor.fromRgb(22,15,59),OxyColor.fromRgb(24,15,61),OxyColor.fromRgb(25,16,63),OxyColor.fromRgb(26,16,66),OxyColor.fromRgb(28,16,68),OxyColor.fromRgb(29,17,71),OxyColor.fromRgb(30,17,73),OxyColor.fromRgb(32,17,75),OxyColor.fromRgb(33,17,78),OxyColor.fromRgb(34,17,80),OxyColor.fromRgb(36,18,83),OxyColor.fromRgb(37,18,85),OxyColor.fromRgb(39,18,88),OxyColor.fromRgb(41,17,90),OxyColor.fromRgb(42,17,92),OxyColor.fromRgb(44,17,95),OxyColor.fromRgb(45,17,97),OxyColor.fromRgb(47,17,99),OxyColor.fromRgb(49,17,101),OxyColor.fromRgb(51,16,103),OxyColor.fromRgb(52,16,105),OxyColor.fromRgb(54,16,107),OxyColor.fromRgb(56,16,108),OxyColor.fromRgb(57,15,110),OxyColor.fromRgb(59,15,112),OxyColor.fromRgb(61,15,113),OxyColor.fromRgb(63,15,114),OxyColor.fromRgb(64,15,116),OxyColor.fromRgb(66,15,117),OxyColor.fromRgb(68,15,118),OxyColor.fromRgb(69,16,119),OxyColor.fromRgb(71,16,120),OxyColor.fromRgb(73,16,120),OxyColor.fromRgb(74,16,121),OxyColor.fromRgb(76,17,122),OxyColor.fromRgb(78,17,123),OxyColor.fromRgb(79,18,123),OxyColor.fromRgb(81,18,124),OxyColor.fromRgb(82,19,124),OxyColor.fromRgb(84,19,125),OxyColor.fromRgb(86,20,125),OxyColor.fromRgb(87,21,126),OxyColor.fromRgb(89,21,126),OxyColor.fromRgb(90,22,126),OxyColor.fromRgb(92,22,127),OxyColor.fromRgb(93,23,127),OxyColor.fromRgb(95,24,127),OxyColor.fromRgb(96,24,128),OxyColor.fromRgb(98,25,128),OxyColor.fromRgb(100,26,128),OxyColor.fromRgb(101,26,128),OxyColor.fromRgb(103,27,128),OxyColor.fromRgb(104,28,129),OxyColor.fromRgb(106,28,129),OxyColor.fromRgb(107,29,129),OxyColor.fromRgb(109,29,129),OxyColor.fromRgb(110,30,129),OxyColor.fromRgb(112,31,129),OxyColor.fromRgb(114,31,129),OxyColor.fromRgb(115,32,129),OxyColor.fromRgb(117,33,129),OxyColor.fromRgb(118,33,129),OxyColor.fromRgb(120,34,129),OxyColor.fromRgb(121,34,130),OxyColor.fromRgb(123,35,130),OxyColor.fromRgb(124,35,130),OxyColor.fromRgb(126,36,130),OxyColor.fromRgb(128,37,130),OxyColor.fromRgb(129,37,129),OxyColor.fromRgb(131,38,129),OxyColor.fromRgb(132,38,129),OxyColor.fromRgb(134,39,129),OxyColor.fromRgb(136,39,129),OxyColor.fromRgb(137,40,129),OxyColor.fromRgb(139,41,129),OxyColor.fromRgb(140,41,129),OxyColor.fromRgb(142,42,129),OxyColor.fromRgb(144,42,129),OxyColor.fromRgb(145,43,129),OxyColor.fromRgb(147,43,128),OxyColor.fromRgb(148,44,128),OxyColor.fromRgb(150,44,128),OxyColor.fromRgb(152,45,128),OxyColor.fromRgb(153,45,128),OxyColor.fromRgb(155,46,127),OxyColor.fromRgb(156,46,127),OxyColor.fromRgb(158,47,127),OxyColor.fromRgb(160,47,127),OxyColor.fromRgb(161,48,126),OxyColor.fromRgb(163,48,126),OxyColor.fromRgb(165,49,126),OxyColor.fromRgb(166,49,125),OxyColor.fromRgb(168,50,125),OxyColor.fromRgb(170,51,125),OxyColor.fromRgb(171,51,124),OxyColor.fromRgb(173,52,124),OxyColor.fromRgb(174,52,123),OxyColor.fromRgb(176,53,123),OxyColor.fromRgb(178,53,123),OxyColor.fromRgb(179,54,122),OxyColor.fromRgb(181,54,122),OxyColor.fromRgb(183,55,121),OxyColor.fromRgb(184,55,121),OxyColor.fromRgb(186,56,120),OxyColor.fromRgb(188,57,120),OxyColor.fromRgb(189,57,119),OxyColor.fromRgb(191,58,119),OxyColor.fromRgb(192,58,118),OxyColor.fromRgb(194,59,117),OxyColor.fromRgb(196,60,117),OxyColor.fromRgb(197,60,116),OxyColor.fromRgb(199,61,115),OxyColor.fromRgb(200,62,115),OxyColor.fromRgb(202,62,114),OxyColor.fromRgb(204,63,113),OxyColor.fromRgb(205,64,113),OxyColor.fromRgb(207,64,112),OxyColor.fromRgb(208,65,111),OxyColor.fromRgb(210,66,111),OxyColor.fromRgb(211,67,110),OxyColor.fromRgb(213,68,109),OxyColor.fromRgb(214,69,108),OxyColor.fromRgb(216,69,108),OxyColor.fromRgb(217,70,107),OxyColor.fromRgb(219,71,106),OxyColor.fromRgb(220,72,105),OxyColor.fromRgb(222,73,104),OxyColor.fromRgb(223,74,104),OxyColor.fromRgb(224,76,103),OxyColor.fromRgb(226,77,102),OxyColor.fromRgb(227,78,101),OxyColor.fromRgb(228,79,100),OxyColor.fromRgb(229,80,100),OxyColor.fromRgb(231,82,99),OxyColor.fromRgb(232,83,98),OxyColor.fromRgb(233,84,98),OxyColor.fromRgb(234,86,97),OxyColor.fromRgb(235,87,96),OxyColor.fromRgb(236,88,96),OxyColor.fromRgb(237,90,95),OxyColor.fromRgb(238,91,94),OxyColor.fromRgb(239,93,94),OxyColor.fromRgb(240,95,94),OxyColor.fromRgb(241,96,93),OxyColor.fromRgb(242,98,93),OxyColor.fromRgb(242,100,92),OxyColor.fromRgb(243,101,92),OxyColor.fromRgb(244,103,92),OxyColor.fromRgb(244,105,92),OxyColor.fromRgb(245,107,92),OxyColor.fromRgb(246,108,92),OxyColor.fromRgb(246,110,92),OxyColor.fromRgb(247,112,92),OxyColor.fromRgb(247,114,92),OxyColor.fromRgb(248,116,92),OxyColor.fromRgb(248,118,92),OxyColor.fromRgb(249,120,93),OxyColor.fromRgb(249,121,93),OxyColor.fromRgb(249,123,93),OxyColor.fromRgb(250,125,94),OxyColor.fromRgb(250,127,94),OxyColor.fromRgb(250,129,95),OxyColor.fromRgb(251,131,95),OxyColor.fromRgb(251,133,96),OxyColor.fromRgb(251,135,97),OxyColor.fromRgb(252,137,97),OxyColor.fromRgb(252,138,98),OxyColor.fromRgb(252,140,99),OxyColor.fromRgb(252,142,100),OxyColor.fromRgb(252,144,101),OxyColor.fromRgb(253,146,102),OxyColor.fromRgb(253,148,103),OxyColor.fromRgb(253,150,104),OxyColor.fromRgb(253,152,105),OxyColor.fromRgb(253,154,106),OxyColor.fromRgb(253,155,107),OxyColor.fromRgb(254,157,108),OxyColor.fromRgb(254,159,109),OxyColor.fromRgb(254,161,110),OxyColor.fromRgb(254,163,111),OxyColor.fromRgb(254,165,113),OxyColor.fromRgb(254,167,114),OxyColor.fromRgb(254,169,115),OxyColor.fromRgb(254,170,116),OxyColor.fromRgb(254,172,118),OxyColor.fromRgb(254,174,119),OxyColor.fromRgb(254,176,120),OxyColor.fromRgb(254,178,122),OxyColor.fromRgb(254,180,123),OxyColor.fromRgb(254,182,124),OxyColor.fromRgb(254,183,126),OxyColor.fromRgb(254,185,127),OxyColor.fromRgb(254,187,129),OxyColor.fromRgb(254,189,130),OxyColor.fromRgb(254,191,132),OxyColor.fromRgb(254,193,133),OxyColor.fromRgb(254,194,135),OxyColor.fromRgb(254,196,136),OxyColor.fromRgb(254,198,138),OxyColor.fromRgb(254,200,140),OxyColor.fromRgb(254,202,141),OxyColor.fromRgb(254,204,143),OxyColor.fromRgb(254,205,144),OxyColor.fromRgb(254,207,146),OxyColor.fromRgb(254,209,148),OxyColor.fromRgb(254,211,149),OxyColor.fromRgb(254,213,151),OxyColor.fromRgb(254,215,153),OxyColor.fromRgb(254,216,154),OxyColor.fromRgb(253,218,156),OxyColor.fromRgb(253,220,158),OxyColor.fromRgb(253,222,160),OxyColor.fromRgb(253,224,161),OxyColor.fromRgb(253,226,163),OxyColor.fromRgb(253,227,165),OxyColor.fromRgb(253,229,167),OxyColor.fromRgb(253,231,169),OxyColor.fromRgb(253,233,170),OxyColor.fromRgb(253,235,172),OxyColor.fromRgb(252,236,174),OxyColor.fromRgb(252,238,176),OxyColor.fromRgb(252,240,178),OxyColor.fromRgb(252,242,180),OxyColor.fromRgb(252,244,182),OxyColor.fromRgb(252,246,184),OxyColor.fromRgb(252,247,185),OxyColor.fromRgb(252,249,187),OxyColor.fromRgb(252,251,189),OxyColor.fromRgb(252,253,191)],plasmaColors=[OxyColor.fromRgb(13,8,135),OxyColor.fromRgb(16,7,136),OxyColor.fromRgb(19,7,137),OxyColor.fromRgb(22,7,138),OxyColor.fromRgb(25,6,140),OxyColor.fromRgb(27,6,141),OxyColor.fromRgb(29,6,142),OxyColor.fromRgb(32,6,143),OxyColor.fromRgb(34,6,144),OxyColor.fromRgb(36,6,145),OxyColor.fromRgb(38,5,145),OxyColor.fromRgb(40,5,146),OxyColor.fromRgb(42,5,147),OxyColor.fromRgb(44,5,148),OxyColor.fromRgb(46,5,149),OxyColor.fromRgb(47,5,150),OxyColor.fromRgb(49,5,151),OxyColor.fromRgb(51,5,151),OxyColor.fromRgb(53,4,152),OxyColor.fromRgb(55,4,153),OxyColor.fromRgb(56,4,154),OxyColor.fromRgb(58,4,154),OxyColor.fromRgb(60,4,155),OxyColor.fromRgb(62,4,156),OxyColor.fromRgb(63,4,156),OxyColor.fromRgb(65,4,157),OxyColor.fromRgb(67,3,158),OxyColor.fromRgb(68,3,158),OxyColor.fromRgb(70,3,159),OxyColor.fromRgb(72,3,159),OxyColor.fromRgb(73,3,160),OxyColor.fromRgb(75,3,161),OxyColor.fromRgb(76,2,161),OxyColor.fromRgb(78,2,162),OxyColor.fromRgb(80,2,162),OxyColor.fromRgb(81,2,163),OxyColor.fromRgb(83,2,163),OxyColor.fromRgb(85,2,164),OxyColor.fromRgb(86,1,164),OxyColor.fromRgb(88,1,164),OxyColor.fromRgb(89,1,165),OxyColor.fromRgb(91,1,165),OxyColor.fromRgb(92,1,166),OxyColor.fromRgb(94,1,166),OxyColor.fromRgb(96,1,166),OxyColor.fromRgb(97,0,167),OxyColor.fromRgb(99,0,167),OxyColor.fromRgb(100,0,167),OxyColor.fromRgb(102,0,167),OxyColor.fromRgb(103,0,168),OxyColor.fromRgb(105,0,168),OxyColor.fromRgb(106,0,168),OxyColor.fromRgb(108,0,168),OxyColor.fromRgb(110,0,168),OxyColor.fromRgb(111,0,168),OxyColor.fromRgb(113,0,168),OxyColor.fromRgb(114,1,168),OxyColor.fromRgb(116,1,168),OxyColor.fromRgb(117,1,168),OxyColor.fromRgb(119,1,168),OxyColor.fromRgb(120,1,168),OxyColor.fromRgb(122,2,168),OxyColor.fromRgb(123,2,168),OxyColor.fromRgb(125,3,168),OxyColor.fromRgb(126,3,168),OxyColor.fromRgb(128,4,168),OxyColor.fromRgb(129,4,167),OxyColor.fromRgb(131,5,167),OxyColor.fromRgb(132,5,167),OxyColor.fromRgb(134,6,166),OxyColor.fromRgb(135,7,166),OxyColor.fromRgb(136,8,166),OxyColor.fromRgb(138,9,165),OxyColor.fromRgb(139,10,165),OxyColor.fromRgb(141,11,165),OxyColor.fromRgb(142,12,164),OxyColor.fromRgb(143,13,164),OxyColor.fromRgb(145,14,163),OxyColor.fromRgb(146,15,163),OxyColor.fromRgb(148,16,162),OxyColor.fromRgb(149,17,161),OxyColor.fromRgb(150,19,161),OxyColor.fromRgb(152,20,160),OxyColor.fromRgb(153,21,159),OxyColor.fromRgb(154,22,159),OxyColor.fromRgb(156,23,158),OxyColor.fromRgb(157,24,157),OxyColor.fromRgb(158,25,157),OxyColor.fromRgb(160,26,156),OxyColor.fromRgb(161,27,155),OxyColor.fromRgb(162,29,154),OxyColor.fromRgb(163,30,154),OxyColor.fromRgb(165,31,153),OxyColor.fromRgb(166,32,152),OxyColor.fromRgb(167,33,151),OxyColor.fromRgb(168,34,150),OxyColor.fromRgb(170,35,149),OxyColor.fromRgb(171,36,148),OxyColor.fromRgb(172,38,148),OxyColor.fromRgb(173,39,147),OxyColor.fromRgb(174,40,146),OxyColor.fromRgb(176,41,145),OxyColor.fromRgb(177,42,144),OxyColor.fromRgb(178,43,143),OxyColor.fromRgb(179,44,142),OxyColor.fromRgb(180,46,141),OxyColor.fromRgb(181,47,140),OxyColor.fromRgb(182,48,139),OxyColor.fromRgb(183,49,138),OxyColor.fromRgb(184,50,137),OxyColor.fromRgb(186,51,136),OxyColor.fromRgb(187,52,136),OxyColor.fromRgb(188,53,135),OxyColor.fromRgb(189,55,134),OxyColor.fromRgb(190,56,133),OxyColor.fromRgb(191,57,132),OxyColor.fromRgb(192,58,131),OxyColor.fromRgb(193,59,130),OxyColor.fromRgb(194,60,129),OxyColor.fromRgb(195,61,128),OxyColor.fromRgb(196,62,127),OxyColor.fromRgb(197,64,126),OxyColor.fromRgb(198,65,125),OxyColor.fromRgb(199,66,124),OxyColor.fromRgb(200,67,123),OxyColor.fromRgb(201,68,122),OxyColor.fromRgb(202,69,122),OxyColor.fromRgb(203,70,121),OxyColor.fromRgb(204,71,120),OxyColor.fromRgb(204,73,119),OxyColor.fromRgb(205,74,118),OxyColor.fromRgb(206,75,117),OxyColor.fromRgb(207,76,116),OxyColor.fromRgb(208,77,115),OxyColor.fromRgb(209,78,114),OxyColor.fromRgb(210,79,113),OxyColor.fromRgb(211,81,113),OxyColor.fromRgb(212,82,112),OxyColor.fromRgb(213,83,111),OxyColor.fromRgb(213,84,110),OxyColor.fromRgb(214,85,109),OxyColor.fromRgb(215,86,108),OxyColor.fromRgb(216,87,107),OxyColor.fromRgb(217,88,106),OxyColor.fromRgb(218,90,106),OxyColor.fromRgb(218,91,105),OxyColor.fromRgb(219,92,104),OxyColor.fromRgb(220,93,103),OxyColor.fromRgb(221,94,102),OxyColor.fromRgb(222,95,101),OxyColor.fromRgb(222,97,100),OxyColor.fromRgb(223,98,99),OxyColor.fromRgb(224,99,99),OxyColor.fromRgb(225,100,98),OxyColor.fromRgb(226,101,97),OxyColor.fromRgb(226,102,96),OxyColor.fromRgb(227,104,95),OxyColor.fromRgb(228,105,94),OxyColor.fromRgb(229,106,93),OxyColor.fromRgb(229,107,93),OxyColor.fromRgb(230,108,92),OxyColor.fromRgb(231,110,91),OxyColor.fromRgb(231,111,90),OxyColor.fromRgb(232,112,89),OxyColor.fromRgb(233,113,88),OxyColor.fromRgb(233,114,87),OxyColor.fromRgb(234,116,87),OxyColor.fromRgb(235,117,86),OxyColor.fromRgb(235,118,85),OxyColor.fromRgb(236,119,84),OxyColor.fromRgb(237,121,83),OxyColor.fromRgb(237,122,82),OxyColor.fromRgb(238,123,81),OxyColor.fromRgb(239,124,81),OxyColor.fromRgb(239,126,80),OxyColor.fromRgb(240,127,79),OxyColor.fromRgb(240,128,78),OxyColor.fromRgb(241,129,77),OxyColor.fromRgb(241,131,76),OxyColor.fromRgb(242,132,75),OxyColor.fromRgb(243,133,75),OxyColor.fromRgb(243,135,74),OxyColor.fromRgb(244,136,73),OxyColor.fromRgb(244,137,72),OxyColor.fromRgb(245,139,71),OxyColor.fromRgb(245,140,70),OxyColor.fromRgb(246,141,69),OxyColor.fromRgb(246,143,68),OxyColor.fromRgb(247,144,68),OxyColor.fromRgb(247,145,67),OxyColor.fromRgb(247,147,66),OxyColor.fromRgb(248,148,65),OxyColor.fromRgb(248,149,64),OxyColor.fromRgb(249,151,63),OxyColor.fromRgb(249,152,62),OxyColor.fromRgb(249,154,62),OxyColor.fromRgb(250,155,61),OxyColor.fromRgb(250,156,60),OxyColor.fromRgb(250,158,59),OxyColor.fromRgb(251,159,58),OxyColor.fromRgb(251,161,57),OxyColor.fromRgb(251,162,56),OxyColor.fromRgb(252,163,56),OxyColor.fromRgb(252,165,55),OxyColor.fromRgb(252,166,54),OxyColor.fromRgb(252,168,53),OxyColor.fromRgb(252,169,52),OxyColor.fromRgb(253,171,51),OxyColor.fromRgb(253,172,51),OxyColor.fromRgb(253,174,50),OxyColor.fromRgb(253,175,49),OxyColor.fromRgb(253,177,48),OxyColor.fromRgb(253,178,47),OxyColor.fromRgb(253,180,47),OxyColor.fromRgb(253,181,46),OxyColor.fromRgb(254,183,45),OxyColor.fromRgb(254,184,44),OxyColor.fromRgb(254,186,44),OxyColor.fromRgb(254,187,43),OxyColor.fromRgb(254,189,42),OxyColor.fromRgb(254,190,42),OxyColor.fromRgb(254,192,41),OxyColor.fromRgb(253,194,41),OxyColor.fromRgb(253,195,40),OxyColor.fromRgb(253,197,39),OxyColor.fromRgb(253,198,39),OxyColor.fromRgb(253,200,39),OxyColor.fromRgb(253,202,38),OxyColor.fromRgb(253,203,38),OxyColor.fromRgb(252,205,37),OxyColor.fromRgb(252,206,37),OxyColor.fromRgb(252,208,37),OxyColor.fromRgb(252,210,37),OxyColor.fromRgb(251,211,36),OxyColor.fromRgb(251,213,36),OxyColor.fromRgb(251,215,36),OxyColor.fromRgb(250,216,36),OxyColor.fromRgb(250,218,36),OxyColor.fromRgb(249,220,36),OxyColor.fromRgb(249,221,37),OxyColor.fromRgb(248,223,37),OxyColor.fromRgb(248,225,37),OxyColor.fromRgb(247,226,37),OxyColor.fromRgb(247,228,37),OxyColor.fromRgb(246,230,38),OxyColor.fromRgb(246,232,38),OxyColor.fromRgb(245,233,38),OxyColor.fromRgb(245,235,39),OxyColor.fromRgb(244,237,39),OxyColor.fromRgb(243,238,39),OxyColor.fromRgb(243,240,39),OxyColor.fromRgb(242,242,39),OxyColor.fromRgb(241,244,38),OxyColor.fromRgb(241,245,37),OxyColor.fromRgb(240,247,36),OxyColor.fromRgb(240,249,33)],viridisColors=[OxyColor.fromRgb(68,1,84),OxyColor.fromRgb(68,2,86),OxyColor.fromRgb(69,4,87),OxyColor.fromRgb(69,5,89),OxyColor.fromRgb(70,7,90),OxyColor.fromRgb(70,8,92),OxyColor.fromRgb(70,10,93),OxyColor.fromRgb(70,11,94),OxyColor.fromRgb(71,13,96),OxyColor.fromRgb(71,14,97),OxyColor.fromRgb(71,16,99),OxyColor.fromRgb(71,17,100),OxyColor.fromRgb(71,19,101),OxyColor.fromRgb(72,20,103),OxyColor.fromRgb(72,22,104),OxyColor.fromRgb(72,23,105),OxyColor.fromRgb(72,24,106),OxyColor.fromRgb(72,26,108),OxyColor.fromRgb(72,27,109),OxyColor.fromRgb(72,28,110),OxyColor.fromRgb(72,29,111),OxyColor.fromRgb(72,31,112),OxyColor.fromRgb(72,32,113),OxyColor.fromRgb(72,33,115),OxyColor.fromRgb(72,35,116),OxyColor.fromRgb(72,36,117),OxyColor.fromRgb(72,37,118),OxyColor.fromRgb(72,38,119),OxyColor.fromRgb(72,40,120),OxyColor.fromRgb(72,41,121),OxyColor.fromRgb(71,42,122),OxyColor.fromRgb(71,44,122),OxyColor.fromRgb(71,45,123),OxyColor.fromRgb(71,46,124),OxyColor.fromRgb(71,47,125),OxyColor.fromRgb(70,48,126),OxyColor.fromRgb(70,50,126),OxyColor.fromRgb(70,51,127),OxyColor.fromRgb(70,52,128),OxyColor.fromRgb(69,53,129),OxyColor.fromRgb(69,55,129),OxyColor.fromRgb(69,56,130),OxyColor.fromRgb(68,57,131),OxyColor.fromRgb(68,58,131),OxyColor.fromRgb(68,59,132),OxyColor.fromRgb(67,61,132),OxyColor.fromRgb(67,62,133),OxyColor.fromRgb(66,63,133),OxyColor.fromRgb(66,64,134),OxyColor.fromRgb(66,65,134),OxyColor.fromRgb(65,66,135),OxyColor.fromRgb(65,68,135),OxyColor.fromRgb(64,69,136),OxyColor.fromRgb(64,70,136),OxyColor.fromRgb(63,71,136),OxyColor.fromRgb(63,72,137),OxyColor.fromRgb(62,73,137),OxyColor.fromRgb(62,74,137),OxyColor.fromRgb(62,76,138),OxyColor.fromRgb(61,77,138),OxyColor.fromRgb(61,78,138),OxyColor.fromRgb(60,79,138),OxyColor.fromRgb(60,80,139),OxyColor.fromRgb(59,81,139),OxyColor.fromRgb(59,82,139),OxyColor.fromRgb(58,83,139),OxyColor.fromRgb(58,84,140),OxyColor.fromRgb(57,85,140),OxyColor.fromRgb(57,86,140),OxyColor.fromRgb(56,88,140),OxyColor.fromRgb(56,89,140),OxyColor.fromRgb(55,90,140),OxyColor.fromRgb(55,91,141),OxyColor.fromRgb(54,92,141),OxyColor.fromRgb(54,93,141),OxyColor.fromRgb(53,94,141),OxyColor.fromRgb(53,95,141),OxyColor.fromRgb(52,96,141),OxyColor.fromRgb(52,97,141),OxyColor.fromRgb(51,98,141),OxyColor.fromRgb(51,99,141),OxyColor.fromRgb(50,100,142),OxyColor.fromRgb(50,101,142),OxyColor.fromRgb(49,102,142),OxyColor.fromRgb(49,103,142),OxyColor.fromRgb(49,104,142),OxyColor.fromRgb(48,105,142),OxyColor.fromRgb(48,106,142),OxyColor.fromRgb(47,107,142),OxyColor.fromRgb(47,108,142),OxyColor.fromRgb(46,109,142),OxyColor.fromRgb(46,110,142),OxyColor.fromRgb(46,111,142),OxyColor.fromRgb(45,112,142),OxyColor.fromRgb(45,113,142),OxyColor.fromRgb(44,113,142),OxyColor.fromRgb(44,114,142),OxyColor.fromRgb(44,115,142),OxyColor.fromRgb(43,116,142),OxyColor.fromRgb(43,117,142),OxyColor.fromRgb(42,118,142),OxyColor.fromRgb(42,119,142),OxyColor.fromRgb(42,120,142),OxyColor.fromRgb(41,121,142),OxyColor.fromRgb(41,122,142),OxyColor.fromRgb(41,123,142),OxyColor.fromRgb(40,124,142),OxyColor.fromRgb(40,125,142),OxyColor.fromRgb(39,126,142),OxyColor.fromRgb(39,127,142),OxyColor.fromRgb(39,128,142),OxyColor.fromRgb(38,129,142),OxyColor.fromRgb(38,130,142),OxyColor.fromRgb(38,130,142),OxyColor.fromRgb(37,131,142),OxyColor.fromRgb(37,132,142),OxyColor.fromRgb(37,133,142),OxyColor.fromRgb(36,134,142),OxyColor.fromRgb(36,135,142),OxyColor.fromRgb(35,136,142),OxyColor.fromRgb(35,137,142),OxyColor.fromRgb(35,138,141),OxyColor.fromRgb(34,139,141),OxyColor.fromRgb(34,140,141),OxyColor.fromRgb(34,141,141),OxyColor.fromRgb(33,142,141),OxyColor.fromRgb(33,143,141),OxyColor.fromRgb(33,144,141),OxyColor.fromRgb(33,145,140),OxyColor.fromRgb(32,146,140),OxyColor.fromRgb(32,146,140),OxyColor.fromRgb(32,147,140),OxyColor.fromRgb(31,148,140),OxyColor.fromRgb(31,149,139),OxyColor.fromRgb(31,150,139),OxyColor.fromRgb(31,151,139),OxyColor.fromRgb(31,152,139),OxyColor.fromRgb(31,153,138),OxyColor.fromRgb(31,154,138),OxyColor.fromRgb(30,155,138),OxyColor.fromRgb(30,156,137),OxyColor.fromRgb(30,157,137),OxyColor.fromRgb(31,158,137),OxyColor.fromRgb(31,159,136),OxyColor.fromRgb(31,160,136),OxyColor.fromRgb(31,161,136),OxyColor.fromRgb(31,161,135),OxyColor.fromRgb(31,162,135),OxyColor.fromRgb(32,163,134),OxyColor.fromRgb(32,164,134),OxyColor.fromRgb(33,165,133),OxyColor.fromRgb(33,166,133),OxyColor.fromRgb(34,167,133),OxyColor.fromRgb(34,168,132),OxyColor.fromRgb(35,169,131),OxyColor.fromRgb(36,170,131),OxyColor.fromRgb(37,171,130),OxyColor.fromRgb(37,172,130),OxyColor.fromRgb(38,173,129),OxyColor.fromRgb(39,173,129),OxyColor.fromRgb(40,174,128),OxyColor.fromRgb(41,175,127),OxyColor.fromRgb(42,176,127),OxyColor.fromRgb(44,177,126),OxyColor.fromRgb(45,178,125),OxyColor.fromRgb(46,179,124),OxyColor.fromRgb(47,180,124),OxyColor.fromRgb(49,181,123),OxyColor.fromRgb(50,182,122),OxyColor.fromRgb(52,182,121),OxyColor.fromRgb(53,183,121),OxyColor.fromRgb(55,184,120),OxyColor.fromRgb(56,185,119),OxyColor.fromRgb(58,186,118),OxyColor.fromRgb(59,187,117),OxyColor.fromRgb(61,188,116),OxyColor.fromRgb(63,188,115),OxyColor.fromRgb(64,189,114),OxyColor.fromRgb(66,190,113),OxyColor.fromRgb(68,191,112),OxyColor.fromRgb(70,192,111),OxyColor.fromRgb(72,193,110),OxyColor.fromRgb(74,193,109),OxyColor.fromRgb(76,194,108),OxyColor.fromRgb(78,195,107),OxyColor.fromRgb(80,196,106),OxyColor.fromRgb(82,197,105),OxyColor.fromRgb(84,197,104),OxyColor.fromRgb(86,198,103),OxyColor.fromRgb(88,199,101),OxyColor.fromRgb(90,200,100),OxyColor.fromRgb(92,200,99),OxyColor.fromRgb(94,201,98),OxyColor.fromRgb(96,202,96),OxyColor.fromRgb(99,203,95),OxyColor.fromRgb(101,203,94),OxyColor.fromRgb(103,204,92),OxyColor.fromRgb(105,205,91),OxyColor.fromRgb(108,205,90),OxyColor.fromRgb(110,206,88),OxyColor.fromRgb(112,207,87),OxyColor.fromRgb(115,208,86),OxyColor.fromRgb(117,208,84),OxyColor.fromRgb(119,209,83),OxyColor.fromRgb(122,209,81),OxyColor.fromRgb(124,210,80),OxyColor.fromRgb(127,211,78),OxyColor.fromRgb(129,211,77),OxyColor.fromRgb(132,212,75),OxyColor.fromRgb(134,213,73),OxyColor.fromRgb(137,213,72),OxyColor.fromRgb(139,214,70),OxyColor.fromRgb(142,214,69),OxyColor.fromRgb(144,215,67),OxyColor.fromRgb(147,215,65),OxyColor.fromRgb(149,216,64),OxyColor.fromRgb(152,216,62),OxyColor.fromRgb(155,217,60),OxyColor.fromRgb(157,217,59),OxyColor.fromRgb(160,218,57),OxyColor.fromRgb(162,218,55),OxyColor.fromRgb(165,219,54),OxyColor.fromRgb(168,219,52),OxyColor.fromRgb(170,220,50),OxyColor.fromRgb(173,220,48),OxyColor.fromRgb(176,221,47),OxyColor.fromRgb(178,221,45),OxyColor.fromRgb(181,222,43),OxyColor.fromRgb(184,222,41),OxyColor.fromRgb(186,222,40),OxyColor.fromRgb(189,223,38),OxyColor.fromRgb(192,223,37),OxyColor.fromRgb(194,223,35),OxyColor.fromRgb(197,224,33),OxyColor.fromRgb(200,224,32),OxyColor.fromRgb(202,225,31),OxyColor.fromRgb(205,225,29),OxyColor.fromRgb(208,225,28),OxyColor.fromRgb(210,226,27),OxyColor.fromRgb(213,226,26),OxyColor.fromRgb(216,226,25),OxyColor.fromRgb(218,227,25),OxyColor.fromRgb(221,227,24),OxyColor.fromRgb(223,227,24),OxyColor.fromRgb(226,228,24),OxyColor.fromRgb(229,228,25),OxyColor.fromRgb(231,228,25),OxyColor.fromRgb(234,229,26),OxyColor.fromRgb(236,229,27),OxyColor.fromRgb(239,229,28),OxyColor.fromRgb(241,229,29),OxyColor.fromRgb(244,230,30),OxyColor.fromRgb(246,230,32),OxyColor.fromRgb(248,230,33),OxyColor.fromRgb(251,231,35),OxyColor.fromRgb(253,231,37)];let Element$1=class{constructor($e){D$1(this,"parent"),D$1(this,"keyDown"),D$1(this,"mouseDown"),D$1(this,"mouseMove"),D$1(this,"mouseUp"),D$1(this,"touchStarted"),D$1(this,"touchDelta"),D$1(this,"touchCompleted"),D$1(this,"selection"),D$1(this,"selectionChanged"),D$1(this,"selectable",!0),D$1(this,"selectionMode",SelectionMode.All)}hitTest($e){return this.hitTestOverride($e)}hitTestOverride($e){}onMouseDown($e){this.mouseDown&&this.mouseDown(this,$e)}onMouseMove($e){this.mouseMove&&this.mouseMove(this,$e)}onKeyDown($e){this.keyDown&&this.keyDown(this,$e)}onMouseUp($e){this.mouseUp&&this.mouseUp(this,$e)}onTouchStarted($e){this.touchStarted&&this.touchStarted(this,$e)}onTouchDelta($e){this.touchDelta&&this.touchDelta(this,$e)}onTouchCompleted($e){this.touchCompleted&&this.touchCompleted(this,$e)}get actualSelectedColor(){return this.parent?this.parent.selectionColor.getActualColor(Model.DefaultSelectionColor):Model.DefaultSelectionColor}isSelected(){return!!this.selection}getSelectedItems(){return this.ensureSelection(),this.selection.getSelectedItems()}clearSelection(){this.selection=void 0,this.onSelectionChanged()}unselect(){this.selection=void 0,this.onSelectionChanged()}isItemSelected($e){return this.selection?$e===-1?this.selection.isEverythingSelected():this.selection.isItemSelected($e):!1}select(){this.selection=Selection.Everything,this.onSelectionChanged()}selectItem($e){if(this.selectionMode===SelectionMode.All)throw new Error("Use the select() method when using SelectionMode.All");this.ensureSelection(),this.selectionMode===SelectionMode.Single&&this.selection.clear(),this.selection.select($e),this.onSelectionChanged()}unselectItem($e){if(this.selectionMode===SelectionMode.All)throw new Error("Use the unselect() method when using SelectionMode.All");this.ensureSelection(),this.selection.unselect($e),this.onSelectionChanged()}getSelectableColor($e,Ve=-1){return $e.isUndefined()?OxyColors.Undefined:this.isItemSelected(Ve)?this.actualSelectedColor:$e}getSelectableFillColor($e,Ve=-1){return this.getSelectableColor($e,Ve)}ensureSelection(){this.selection=this.selection||new Selection}onSelectionChanged($e){this.selectionChanged&&this.selectionChanged(this,$e)}};class PlotElement extends Element$1{constructor($e){super($e),D$1(this,"font"),D$1(this,"fontSize",NaN),D$1(this,"fontWeight",FontWeights.Normal),D$1(this,"tag"),D$1(this,"textColor"),D$1(this,"edgeRenderingMode"),D$1(this,"toolTip"),D$1(this,"_plotElementId"),this.fontSize=NaN,this.fontWeight=FontWeights.Normal,this.textColor=OxyColors.Automatic,this.edgeRenderingMode=EdgeRenderingMode.Automatic}get plotModel(){return this.parent}get actualFont(){return this.font||this.plotModel.defaultFont}get actualFontSize(){return isNaN(this.fontSize)?this.plotModel.defaultFontSize:this.fontSize}get actualFontWeight(){return this.fontWeight}get actualTextColor(){return this.textColor.getActualColor(this.plotModel.textColor)}getClippingRect(){return OxyRect.Everything}getElementHashCode(){return isUndef(this._plotElementId)&&(plotElementId++,this._plotElementId=plotElementId),this._plotElementId}}let plotElementId=0;var AnnotationLayer=(je=>(je[je.BelowAxes=0]="BelowAxes",je[je.BelowSeries=1]="BelowSeries",je[je.AboveSeries=2]="AboveSeries",je))(AnnotationLayer||{}),AnnotationTextOrientation=(je=>(je[je.Horizontal=0]="Horizontal",je[je.Vertical=1]="Vertical",je[je.AlongLine=2]="AlongLine",je))(AnnotationTextOrientation||{});class Annotation extends PlotElement{constructor($e){super(),D$1(this,"layer"),D$1(this,"_xAxis"),D$1(this,"xAxisKey"),D$1(this,"_yAxis"),D$1(this,"clipByXAxis"),D$1(this,"clipByYAxis"),D$1(this,"yAxisKey"),this.layer=AnnotationLayer.AboveSeries,this.clipByXAxis=!0,this.clipByYAxis=!0,$e&&($e.xAxis&&(this._xAxis=$e.xAxis),$e.yAxis&&(this._yAxis=$e.yAxis))}get xAxis(){return this._xAxis}get yAxis(){return this._yAxis}ensureAxes(){this._xAxis=this.xAxisKey?this.plotModel.getAxis(this.xAxisKey):this.plotModel.defaultXAxis,this._yAxis=this.yAxisKey?this.plotModel.getAxis(this.yAxisKey):this.plotModel.defaultYAxis}getClippingRect(){const $e=this.plotModel.plotArea,Ve=PlotElementUtilities.getClippingRect(this);let ze=0,qe=Number.POSITIVE_INFINITY,Xe=0,We=Number.POSITIVE_INFINITY;this.clipByXAxis&&(ze=Ve.topLeft.x,qe=Ve.bottomRight.x),this.clipByYAxis&&(Xe=Ve.topLeft.y,We=Ve.bottomRight.y);const Ke=newScreenPoint(ze,Xe),Je=newScreenPoint(qe,We),Ze=OxyRect.fromScreenPoints(Ke,Je);return $e.clip(Ze)}transform($e){return PlotElementUtilities.transform(this,$e)}inverseTransform($e){return PlotElementUtilities.inverseTransform(this,$e)}}class TransposableAnnotation extends Annotation{constructor($e){super($e),setTransposablePlotElement(this)}getClippingRect(){const $e=this.plotModel.plotArea,Ve=PlotElementUtilities.getClippingRect(this);let ze=0,qe=Number.POSITIVE_INFINITY,Xe=0,We=Number.POSITIVE_INFINITY;this.clipByXAxis&&(ze=PlotElementExtensions.orientate(this,Ve.topLeft).x,qe=PlotElementExtensions.orientate(this,Ve.bottomRight).x),this.clipByYAxis&&(Xe=PlotElementExtensions.orientate(this,Ve.topLeft).y,We=PlotElementExtensions.orientate(this,Ve.bottomRight).y);const Ke=PlotElementExtensions.orientate(this,newScreenPoint(ze,Xe)),Je=PlotElementExtensions.orientate(this,newScreenPoint(qe,We)),Ze=OxyRect.fromScreenPoints(Ke,Je);return $e.clip(Ze)}transform($e){return PlotElementUtilities.transformOrientated(this,$e)}inverseTransform($e){return PlotElementUtilities.inverseTransformOrientated(this,$e)}}class TextualAnnotation extends TransposableAnnotation{constructor($e){super($e),D$1(this,"text"),D$1(this,"textPosition"),D$1(this,"textHorizontalAlignment"),D$1(this,"textVerticalAlignment"),D$1(this,"textRotation"),this.textHorizontalAlignment=HorizontalAlignment.Center,this.textVerticalAlignment=VerticalAlignment.Middle,this.textPosition=DataPoint_Undefined,this.textRotation=0}getActualTextPosition($e){return DataPoint_isDefined(this.textPosition)?this.transform(this.textPosition):$e()}getActualTextAlignment(){return[this.textHorizontalAlignment,this.textVerticalAlignment]}}class TextAnnotation extends TextualAnnotation{constructor($e){super($e),D$1(this,"actualBounds"),D$1(this,"background"),D$1(this,"offset",ScreenVector.Zero),D$1(this,"padding"),D$1(this,"stroke"),D$1(this,"strokeThickness"),this.stroke=OxyColors.Black,this.background=OxyColors.Undefined,this.strokeThickness=1,this.textVerticalAlignment=VerticalAlignment.Bottom,this.padding=new OxyThickness(4),$e&&Object.assign(this,removeUndef($e))}async render($e){if(!this.text)throw new Error("text must be non-undefined before rendering.");const Ve=screenPointPlus(this.transform(this.textPosition),PlotElementExtensions.orientateVector(this,this.offset)),ze=$e.measureText(this.text,this.actualFont,this.actualFontSize,this.actualFontWeight),[qe,Xe]=this.getActualTextAlignment();if(this.actualBounds=TextAnnotation.getTextBounds(Ve,ze,this.padding,this.textRotation,qe,Xe),this.textRotation%90===0){const We=OxyRect.fromScreenPoints(this.actualBounds[0],this.actualBounds[2]);await $e.drawRectangle(We,this.background,this.stroke,this.strokeThickness,this.edgeRenderingMode)}else await $e.drawPolygon(this.actualBounds,this.background,this.stroke,this.strokeThickness,this.edgeRenderingMode);await MathRenderingExtensions.drawMathText($e,Ve,this.text,this.getSelectableFillColor(this.actualTextColor),this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,qe,Xe)}hitTestOverride($e){if(this.actualBounds)return ScreenPointHelper.isPointInPolygon($e.point,this.actualBounds)?{element:this,nearestHitPoint:$e.point}:void 0}static getTextBounds($e,Ve,ze,qe,Xe,We){let Ke,Je,Ze,Qe;switch(Xe){case HorizontalAlignment.Center:Ke=-Ve.width*.5,Je=-Ke;break;case HorizontalAlignment.Right:Ke=-Ve.width,Je=0;break;default:Ke=0,Je=Ve.width;break}switch(We){case VerticalAlignment.Middle:Ze=-Ve.height*.5,Qe=-Ze;break;case VerticalAlignment.Bottom:Ze=-Ve.height,Qe=0;break;default:Ze=0,Qe=Ve.height;break}const St=Math.cos(qe/180*Math.PI),ei=Math.sin(qe/180*Math.PI),ti=new ScreenVector(St,ei),ni=new ScreenVector(-ei,St),oi=new Array(4);return oi[0]=screenPointPlus(screenPointPlus($e,ti.times(Ke-ze.left)),ni.times(Ze-ze.top)),oi[1]=screenPointPlus(screenPointPlus($e,ti.times(Je+ze.right)),ni.times(Ze-ze.top)),oi[2]=screenPointPlus(screenPointPlus($e,ti.times(Je+ze.right)),ni.times(Qe+ze.bottom)),oi[3]=screenPointPlus(screenPointPlus($e,ti.times(Ke-ze.left)),ni.times(Qe+ze.bottom)),oi}}class PathAnnotation extends TextualAnnotation{constructor($e){super($e),D$1(this,"screenPoints"),D$1(this,"color"),D$1(this,"lineJoin"),D$1(this,"lineStyle"),D$1(this,"maximumX"),D$1(this,"maximumY"),D$1(this,"minimumX"),D$1(this,"minimumY"),D$1(this,"strokeThickness"),D$1(this,"textMargin"),D$1(this,"textPadding",0),D$1(this,"borderPadding",OxyThickness.Zero),D$1(this,"borderBackground",OxyColors.Undefined),D$1(this,"borderStroke",OxyColors.Undefined),D$1(this,"borderStrokeThickness",0),D$1(this,"textOrientation"),D$1(this,"textLinePosition"),D$1(this,"minimumSegmentLength"),D$1(this,"actualMinimumX",NaN),D$1(this,"actualMinimumY",NaN),D$1(this,"actualMaximumX",NaN),D$1(this,"actualMaximumY",NaN),this.minimumX=Number_MIN_VALUE,this.maximumX=Number_MAX_VALUE,this.minimumY=Number_MIN_VALUE,this.maximumY=Number_MAX_VALUE,this.color=OxyColors.Blue,this.strokeThickness=1,this.lineStyle=LineStyle.Dash,this.lineJoin=LineJoin.Miter,this.textLinePosition=1,this.textOrientation=AnnotationTextOrientation.AlongLine,this.textMargin=12,this.textHorizontalAlignment=HorizontalAlignment.Right,this.textVerticalAlignment=VerticalAlignment.Top,this.minimumSegmentLength=2}async render($e){if(this.calculateActualMinimumsMaximums(),this.actualMinimumX>this.actualMaximumX||this.actualMinimumY>this.actualMaximumY)return;this.screenPoints=this.getScreenPoints();const Ve=[],ze=LineStyleHelper.getDashArray(this.lineStyle);this.strokeThickness>0&&this.lineStyle!==LineStyle.None&&await RenderingExtensions.drawReducedLine($e,this.screenPoints,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(this.color),this.strokeThickness,this.edgeRenderingMode,ze,this.lineJoin,void 0,ti=>Ve.push(...ti));let qe=this.textMargin;const[Xe,We]=this.getActualTextAlignment(),Ke=PlotElementExtensions.isTransposed(this)?this.yAxis.isReversed?1-this.textLinePosition:this.textLinePosition:this.xAxis.isReversed?1-this.textLinePosition:this.textLinePosition;Xe===HorizontalAlignment.Center?qe=0:qe*=Ke<.5?1:-1;const Je=PathAnnotation.getPointAtRelativeDistance(Ve,Ke,qe);if(!Je)return;let{position:Ze,angle:Qe}=Je;switch(Qe<-90&&(Qe+=180),Qe>=90&&(Qe-=180),this.textOrientation){case AnnotationTextOrientation.Horizontal:Qe=0;break;case AnnotationTextOrientation.Vertical:Qe=-90;break}const St=Qe/180*Math.PI;let ei=1;if(Xe===HorizontalAlignment.Right&&(ei=-1),Xe===HorizontalAlignment.Center&&(ei=0),Ze=screenPointPlus(Ze,new ScreenVector(ei*this.textPadding*Math.cos(St),ei*this.textPadding*Math.sin(St))),this.text){const ti=this.getActualTextPosition(()=>Ze);DataPoint_isDefined(this.textPosition)&&(Qe=this.textRotation);const ni=$e.measureText(this.text,this.actualFont,this.actualFontSize,this.actualFontWeight),oi=TextAnnotation.getTextBounds(Ze,ni,this.borderPadding,Qe,Xe,We);if(Qe%90==0){const ai=OxyRect.fromScreenPoints(oi[0],oi[2]);await $e.drawRectangle(ai,this.borderBackground,this.borderStroke,this.borderStrokeThickness,this.edgeRenderingMode)}else await $e.drawPolygon(oi,this.borderBackground,this.borderStroke,this.borderStrokeThickness,this.edgeRenderingMode);await $e.drawText(ti,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,Qe,Xe,We)}}hitTestOverride($e){if(!this.screenPoints)return;const Ve=ScreenPointHelper.findNearestPointOnPolyline($e.point,this.screenPoints);if(screenPointMinus($e.point,Ve).length<$e.tolerance)return{element:this,nearestHitPoint:Ve}}calculateActualMinimumsMaximums(){if(!this.xAxis)throw new Error("xAxis is undefined.");if(!this.yAxis)throw new Error("yAxis is undefined.");this.actualMinimumX=Math.max(this.minimumX,this.xAxis.clipMinimum),this.actualMaximumX=Math.min(this.maximumX,this.xAxis.clipMaximum),this.actualMinimumY=Math.max(this.minimumY,this.yAxis.clipMinimum),this.actualMaximumY=Math.min(this.maximumY,this.yAxis.clipMaximum);const $e=this.inverseTransform(this.plotModel.plotArea.topLeft),Ve=this.inverseTransform(this.plotModel.plotArea.bottomRight);this.clipByXAxis||(this.actualMaximumX=Math.max($e.x,Ve.x),this.actualMinimumX=Math.min($e.x,Ve.x)),this.clipByYAxis||(this.actualMaximumY=Math.max($e.y,Ve.y),this.actualMinimumY=Math.min($e.y,Ve.y))}static getPointAtRelativeDistance($e,Ve,ze){if(!$e||$e.length===0)return;let qe=0;for(let Ke=1;Ke<$e.length;Ke++)qe+=screenPointMinus($e[Ke],$e[Ke-1]).length;const Xe=qe*Ve+ze,We=1e-8;qe=0;for(let Ke=1;Ke<$e.length;Ke++){const Je=screenPointMinus($e[Ke],$e[Ke-1]).length;if(Xe>=qe-We&&Xe<=qe+Je+We){const Ze=(Xe-qe)/Je,Qe=$e[Ke].x*Ze+$e[Ke-1].x*(1-Ze),St=$e[Ke].y*Ze+$e[Ke-1].y*(1-Ze),ei=newScreenPoint(Qe,St),ti=$e[Ke].x-$e[Ke-1].x,ni=$e[Ke].y-$e[Ke-1].y,oi=Math.atan2(ni,ti)/Math.PI*180;return{position:ei,angle:oi}}qe+=Je}}}var LineAnnotationType=(je=>(je[je.Horizontal=0]="Horizontal",je[je.Vertical=1]="Vertical",je[je.LinearEquation=2]="LinearEquation",je))(LineAnnotationType||{});class LineAnnotation extends PathAnnotation{constructor($e){super($e),D$1(this,"intercept",0),D$1(this,"slope",0),D$1(this,"type"),D$1(this,"x",0),D$1(this,"y",0),this.type=2,$e&&Object.assign(this,removeUndef($e))}getScreenPoints(){let $e,Ve;switch(this.type){case 0:$e=qe=>this.y;break;case 1:Ve=qe=>this.x;break;default:$e=qe=>this.slope*qe+this.intercept;break}const ze=[];if(this.xAxis instanceof LinearAxis&&this.yAxis instanceof LinearAxis)if($e)ze.push(newDataPoint(this.actualMinimumX,$e(this.actualMinimumX))),ze.push(newDataPoint(this.actualMaximumX,$e(this.actualMaximumX)));else if(Ve)ze.push(newDataPoint(Ve(this.actualMinimumY),this.actualMinimumY)),ze.push(newDataPoint(Ve(this.actualMaximumY),this.actualMaximumY));else throw new Error("fx or fy must be non-undefined.");else if($e){const qe=(this.actualMaximumX-this.actualMinimumX)/100;for(let Xe=0;Xe<=100;Xe++){const We=this.actualMinimumX+Xe*qe;ze.push(newDataPoint(We,$e(We)))}}else if(Ve){const qe=(this.actualMaximumY-this.actualMinimumY)/100;for(let Xe=0;Xe<=100;Xe++){const We=this.actualMinimumY+Xe*qe;ze.push(newDataPoint(Ve(We),We))}}return ze.map(qe=>this.transform(qe))}}class ShapeAnnotation extends TextualAnnotation{constructor($e){super($e),D$1(this,"fill"),D$1(this,"stroke"),D$1(this,"strokeThickness",0),this.stroke=OxyColors.Black,this.fill=OxyColors.LightBlue}}class PointAnnotation extends ShapeAnnotation{constructor($e){super($e),D$1(this,"screenPosition",ScreenPoint_LeftTop),D$1(this,"x",0),D$1(this,"y",0),D$1(this,"size"),D$1(this,"textMargin"),D$1(this,"shape"),D$1(this,"customOutline"),this.size=4,this.textMargin=2,this.shape=MarkerType.Circle,this.textVerticalAlignment=VerticalAlignment.Top,$e&&Object.assign(this,removeUndef($e))}async render($e){if(this.screenPosition=PlotElementExtensions.transform(this,this.x,this.y),await RenderingExtensions.drawMarker($e,this.screenPosition,this.shape,this.customOutline,this.size,this.fill,this.stroke,this.strokeThickness,this.edgeRenderingMode),this.text){const[Ve,ze]=this.getActualTextAlignment(),qe=-Number(Ve)*(this.size+this.textMargin),Xe=-Number(ze)*(this.size+this.textMargin),We=screenPointPlus(this.screenPosition,new ScreenVector(qe,Xe));await $e.drawText(We,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,Ve,ze)}}hitTestOverride($e){if(screenPointDistanceTo(this.screenPosition,$e.point)<this.size)return{element:this,nearestHitPoint:this.screenPosition}}}class FunctionAnnotation extends PathAnnotation{constructor($e){super($e),D$1(this,"type"),D$1(this,"equation"),D$1(this,"resolution"),this.resolution=400,this.type=0,$e&&Object.assign(this,removeUndef($e))}getScreenPoints(){let $e,Ve;switch(this.type){case 0:$e=this.equation;break;case 1:Ve=this.equation;break}const ze=[];if($e){let qe=this.actualMinimumX;const Xe=(this.actualMaximumX-this.actualMinimumX)/this.resolution;for(;ze.push(newDataPoint(qe,$e(qe))),!(qe>this.actualMaximumX);)qe+=Xe}else if(Ve){let qe=this.actualMinimumY;const Xe=(this.actualMaximumY-this.actualMinimumY)/this.resolution;for(;ze.push(newDataPoint(Ve(qe),qe)),!(qe>this.actualMaximumY);)qe+=Xe}return ze.map(qe=>this.transform(qe))}}var FunctionAnnotationType=(je=>(je[je.EquationX=0]="EquationX",je[je.EquationY=1]="EquationY",je))(FunctionAnnotationType||{});class ArrowAnnotation extends TextualAnnotation{constructor($e){super(),D$1(this,"screenEndPoint",ScreenPoint_LeftTop),D$1(this,"screenStartPoint",ScreenPoint_LeftTop),D$1(this,"arrowDirection",ScreenVector.Zero),D$1(this,"color"),D$1(this,"endPoint",DataPoint_Zero),D$1(this,"headLength"),D$1(this,"headWidth"),D$1(this,"lineJoin"),D$1(this,"lineStyle"),D$1(this,"startPoint",DataPoint_Zero),D$1(this,"strokeThickness"),D$1(this,"veeness",0),this.headLength=10,this.headWidth=3,this.color=OxyColors.Blue,this.strokeThickness=2,this.lineStyle=LineStyle.Solid,this.lineJoin=LineJoin.Miter,$e&&Object.assign(this,removeUndef($e))}async render($e){this.screenEndPoint=this.transform(this.endPoint),this.arrowDirection.lengthSquared>0?this.screenStartPoint=screenPointMinusVector(this.screenEndPoint,PlotElementExtensions.orientateVector(this,this.arrowDirection)):this.screenStartPoint=this.transform(this.startPoint);const Ve=screenPointMinus(this.screenEndPoint,this.screenStartPoint);Ve.normalize();const ze=new ScreenVector(Ve.y,-Ve.x),qe=screenPointMinusVector(this.screenEndPoint,Ve.times(this.headLength*this.strokeThickness)),Xe=screenPointPlus(qe,ze.times(this.headWidth*this.strokeThickness)),We=screenPointMinusVector(qe,ze.times(this.headWidth*this.strokeThickness)),Ke=screenPointPlus(qe,Ve.times(this.veeness*this.strokeThickness)),Je=0,Ze=LineStyleHelper.getDashArray(this.lineStyle);if(this.strokeThickness>0&&this.lineStyle!==LineStyle.None&&(await RenderingExtensions.drawReducedLine($e,[this.screenStartPoint,Ke],Je*Je,this.getSelectableColor(this.color),this.strokeThickness,this.edgeRenderingMode,Ze,this.lineJoin),await RenderingExtensions.drawReducedPolygon($e,[We,this.screenEndPoint,Xe,Ke],Je*Je,this.getSelectableColor(this.color),OxyColors.Undefined,0,this.edgeRenderingMode)),!this.text)return;let Qe,St;if(DataPoint_isDefined(this.textPosition))[Qe,St]=this.getActualTextAlignment();else{const ti=Math.atan2(Ve.y,Ve.x),ni=Math.PI/8;ti<3*ni&&ti>-3*ni?Qe=HorizontalAlignment.Right:ti>5*ni||ti<-5*ni?Qe=HorizontalAlignment.Left:Qe=HorizontalAlignment.Center,ti>ni&&ti<7*ni?St=VerticalAlignment.Bottom:ti<-ni&&ti>-7*ni?St=VerticalAlignment.Top:St=VerticalAlignment.Middle}const ei=this.getActualTextPosition(()=>this.screenStartPoint);await $e.drawText(ei,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,Qe,St)}hitTestOverride($e){if(screenPointMinus($e.point,this.screenStartPoint).length<$e.tolerance)return{element:this,nearestHitPoint:this.screenStartPoint,index:0};if(screenPointMinus($e.point,this.screenEndPoint).length<$e.tolerance)return{element:this,nearestHitPoint:this.screenEndPoint,index:2};const Ve=ScreenPointHelper.findPointOnLine($e.point,this.screenStartPoint,this.screenEndPoint);if(screenPointMinus(Ve,$e.point).length<$e.tolerance)return{element:this,nearestHitPoint:Ve}}}class DelegateAnnotation extends Annotation{constructor($e){super(),D$1(this,"rendering"),this.rendering=$e}async render($e){await this.rendering($e)}getClippingRect(){return OxyRect.Everything}}class EllipseAnnotation extends ShapeAnnotation{constructor($e){super($e),D$1(this,"screenRectangle",OxyRect.Empty),D$1(this,"x",0),D$1(this,"y",0),D$1(this,"width",0),D$1(this,"height",0),this.width=NaN,this.height=NaN,$e&&Object.assign(this,removeUndef($e))}async render($e){const Ve=PlotElementExtensions.transform(this,this.x-this.width/2,this.y-this.height/2),ze=PlotElementExtensions.transform(this,this.x+this.width/2,this.y+this.height/2);if(this.screenRectangle=OxyRect.fromScreenPoints(Ve,ze),await $e.drawEllipse(this.screenRectangle,this.getSelectableFillColor(this.fill),this.getSelectableColor(this.stroke),this.strokeThickness,this.edgeRenderingMode),this.text){const qe=this.getActualTextPosition(()=>this.screenRectangle.center),[Xe,We]=this.getActualTextAlignment();await $e.drawText(qe,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,Xe,We)}}hitTestOverride($e){if(this.screenRectangle.containsPoint($e.point))return{element:this,nearestHitPoint:$e.point}}}class PolygonAnnotation extends ShapeAnnotation{constructor($e){super($e),D$1(this,"screenPoints",[]),D$1(this,"lineJoin"),D$1(this,"lineStyle"),D$1(this,"minimumSegmentLength"),D$1(this,"points",[]),this.lineStyle=LineStyle.Solid,this.lineJoin=LineJoin.Miter,this.minimumSegmentLength=2,$e&&Object.assign(this,$e)}async render($e){if(this.points&&(this.screenPoints=this.points.map(Ve=>this.transform(Ve)),this.screenPoints.length!==0&&(await RenderingExtensions.drawReducedPolygon($e,this.screenPoints,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableFillColor(this.fill),this.getSelectableColor(this.stroke),this.strokeThickness,this.edgeRenderingMode,this.lineStyle,this.lineJoin),this.text))){const[Ve,ze]=this.getActualTextAlignment(),qe=this.getActualTextPosition(()=>ScreenPointHelper.getCentroid(this.screenPoints));await $e.drawText(qe,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,Ve,ze)}}hitTestOverride($e){if(!(!this.screenPoints||this.screenPoints.length===0))return ScreenPointHelper.isPointInPolygon($e.point,this.screenPoints)?{element:this,nearestHitPoint:$e.point}:void 0}}class PolylineAnnotation extends PathAnnotation{constructor($e){super($e),D$1(this,"_points",[]),D$1(this,"interpolationAlgorithm"),$e&&Object.assign(this,removeUndef($e))}get points(){return this._points}getScreenPoints(){const $e=this.points.map(Ve=>this.transform(Ve));if(this.interpolationAlgorithm){const Ve=ScreenPointHelper.resamplePoints($e,this.minimumSegmentLength);return this.interpolationAlgorithm.createSplineSp(Ve,!1,.25)}return this.points.map(Ve=>this.transform(Ve))}}class RectangleAnnotation extends ShapeAnnotation{constructor($e){super($e),D$1(this,"screenRectangle",OxyRect.Empty),D$1(this,"minimumX"),D$1(this,"maximumX"),D$1(this,"minimumY"),D$1(this,"maximumY"),this.minimumX=-1/0,this.maximumX=1/0,this.minimumY=-1/0,this.maximumY=1/0,this.textRotation=0,this.textHorizontalAlignment=HorizontalAlignment.Center,this.textVerticalAlignment=VerticalAlignment.Middle,$e&&Object.assign(this,removeUndef($e))}async render($e){const Ve=this.getClippingRect(),ze=this.inverseTransform(Ve.topLeft),qe=this.inverseTransform(Ve.bottomRight),Xe=this.minimumX===-1/0||isNaN(this.minimumX)?Math.min(ze.x,qe.x):this.minimumX,We=this.maximumX===1/0||isNaN(this.maximumX)?Math.max(ze.x,qe.x):this.maximumX,Ke=this.minimumY===-1/0||isNaN(this.minimumY)?Math.min(ze.y,qe.y):this.minimumY,Je=this.maximumY===1/0||isNaN(this.maximumY)?Math.max(ze.y,qe.y):this.maximumY,Ze=PlotElementExtensions.transform;this.screenRectangle=OxyRect.fromScreenPoints(Ze(this,Xe,Ke),Ze(this,We,Je));const Qe=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);if(await $e.drawRectangle(this.screenRectangle,this.getSelectableFillColor(this.fill),this.getSelectableColor(this.stroke),this.strokeThickness,Qe),this.text){const[St,ei]=this.getActualTextAlignment(),ti=this.getActualTextPosition(()=>this.screenRectangle.center);await $e.drawText(ti,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,St,ei)}}hitTestOverride($e){if(this.screenRectangle.containsPoint($e.point))return{element:this,nearestHitPoint:$e.point}}}class ImageAnnotation extends TransposableAnnotation{constructor($e){super($e),D$1(this,"actualBounds",OxyRect.Empty),D$1(this,"imageSource"),D$1(this,"horizontalAlignment"),D$1(this,"x"),D$1(this,"y"),D$1(this,"offsetX"),D$1(this,"offsetY"),D$1(this,"width"),D$1(this,"height"),D$1(this,"opacity"),D$1(this,"interpolate"),D$1(this,"verticalAlignment"),this.x=new PlotLength(.5,PlotLengthUnit.RelativeToPlotArea),this.y=new PlotLength(.5,PlotLengthUnit.RelativeToPlotArea),this.offsetX=new PlotLength(0,PlotLengthUnit.ScreenUnits),this.offsetY=new PlotLength(0,PlotLengthUnit.ScreenUnits),this.width=new PlotLength(NaN,PlotLengthUnit.ScreenUnits),this.height=new PlotLength(NaN,PlotLengthUnit.ScreenUnits),this.opacity=1,this.interpolate=!0,this.horizontalAlignment=HorizontalAlignment.Center,this.verticalAlignment=VerticalAlignment.Middle,$e&&Object.assign(this,removeUndef($e))}async render($e){if(!this.imageSource)throw new Error(`${this.imageSource} must be non-null before rendering.`);const Ve=this.getPoint(this.x,this.y,this.plotModel),ze=this.getVector(this.offsetX,this.offsetY,this.plotModel),qe=screenPointPlus(Ve,ze),Xe=this.getVector(this.width,this.height,this.plotModel);let We=Xe.x,Ke=Xe.y;isNaN(We)&&isNaN(Ke)&&(We=this.imageSource.width,Ke=this.imageSource.height),isNaN(We)&&(We=Ke/this.imageSource.height*this.imageSource.width),isNaN(Ke)&&(Ke=We/this.imageSource.width*this.imageSource.height),We=Math.abs(We),Ke=Math.abs(Ke);let Je=qe.x,Ze=qe.y;const Qe=this.horizontalAlignment,St=this.verticalAlignment;Qe===HorizontalAlignment.Center?Je-=We*.5:Qe===HorizontalAlignment.Right&&(Je-=We),St===VerticalAlignment.Middle?Ze-=Ke*.5:St===VerticalAlignment.Bottom&&(Ze-=Ke),this.actualBounds=new OxyRect(Je,Ze,We,Ke),await RenderingExtensions.drawImage($e,this.imageSource,Je,Ze,We,Ke,this.opacity,this.interpolate)}hitTestOverride($e){if(this.actualBounds.containsPoint($e.point))return{element:this,nearestHitPoint:$e.point}}getPoint($e,Ve,ze){let qe=NaN,Xe=NaN;if($e.unit===PlotLengthUnit.Data||Ve.unit===PlotLengthUnit.Data){const We=$e.unit===PlotLengthUnit.Data?$e.value:NaN,Ke=Ve.unit===PlotLengthUnit.Data?Ve.value:NaN,Je=PlotElementExtensions.transform(this,We,Ke);qe=Je.x,Xe=Je.y}switch($e.unit){case PlotLengthUnit.Data:break;case PlotLengthUnit.ScreenUnits:qe=$e.value;break;case PlotLengthUnit.RelativeToViewport:qe=ze.width*$e.value;break;case PlotLengthUnit.RelativeToPlotArea:qe=ze.plotArea.left+ze.plotArea.width*$e.value;break;default:throw new Error("Invalid unit")}switch(Ve.unit){case PlotLengthUnit.Data:break;case PlotLengthUnit.ScreenUnits:Xe=Ve.value;break;case PlotLengthUnit.RelativeToViewport:Xe=ze.height*Ve.value;break;case PlotLengthUnit.RelativeToPlotArea:Xe=ze.plotArea.top+ze.plotArea.height*Ve.value;break;default:throw new Error("Invalid unit")}return newScreenPoint(qe,Xe)}getVector($e,Ve,ze){let qe=NaN,Xe=NaN;if($e.unit===PlotLengthUnit.Data||Ve.unit===PlotLengthUnit.Data){const We=$e.unit===PlotLengthUnit.Data?$e.value:NaN,Ke=Ve.unit===PlotLengthUnit.Data?Ve.value:NaN,Je=PlotElementExtensions.transform(this,We,Ke),Ze=screenPointMinus(Je,this.transform(DataPoint_Zero));qe=Ze.x,Xe=Ze.y}switch($e.unit){case PlotLengthUnit.Data:break;case PlotLengthUnit.ScreenUnits:qe=$e.value;break;case PlotLengthUnit.RelativeToViewport:qe=ze.width*$e.value;break;case PlotLengthUnit.RelativeToPlotArea:qe=ze.plotArea.width*$e.value;break;default:throw new Error("Invalid unit")}switch(Ve.unit){case PlotLengthUnit.Data:break;case PlotLengthUnit.ScreenUnits:Xe=Ve.value;break;case PlotLengthUnit.RelativeToViewport:Xe=ze.height*Ve.value;break;case PlotLengthUnit.RelativeToPlotArea:Xe=ze.plotArea.height*Ve.value;break;default:throw new Error("Invalid unit")}return new ScreenVector(qe,Xe)}getClippingRect(){return this.x.unit===PlotLengthUnit.Data||this.y.unit===PlotLengthUnit.Data?super.getClippingRect():OxyRect.Everything}}const Zt$1=class Wl extends PlotElement{constructor($e){super($e),D$1(this,"_offset",0),D$1(this,"_scale",1),D$1(this,"axisChanged"),D$1(this,"transformChanged"),D$1(this,"absoluteMaximum"),D$1(this,"absoluteMinimum"),D$1(this,"_actualMajorStep",0),D$1(this,"minimumMajorIntervalCount"),D$1(this,"maximumMajorIntervalCount"),D$1(this,"_actualMaximum",0),D$1(this,"_actualMinimum",0),D$1(this,"_clipMaximum",0),D$1(this,"_clipMinimum",0),D$1(this,"_actualMinorStep",0),D$1(this,"_actualStringFormatter"),D$1(this,"angle"),D$1(this,"axisTickToLabelDistance"),D$1(this,"axisTitleDistance"),D$1(this,"axisDistance"),D$1(this,"axislineColor"),D$1(this,"axislineStyle"),D$1(this,"axislineThickness"),D$1(this,"clipTitle"),D$1(this,"cropGridlines",!1),D$1(this,"_dataMaximum",0),D$1(this,"_dataMinimum",0),D$1(this,"endPosition"),D$1(this,"extraGridlineColor"),D$1(this,"extraGridlineStyle"),D$1(this,"extraGridlineThickness"),D$1(this,"extraGridlines"),D$1(this,"filterFunction"),D$1(this,"filterMaxValue"),D$1(this,"filterMinValue"),D$1(this,"intervalLength"),D$1(this,"isAxisVisible"),D$1(this,"isPanEnabled"),D$1(this,"isZoomEnabled"),D$1(this,"key"),D$1(this,"labelFormatter"),D$1(this,"layer"),D$1(this,"majorGridlineColor"),D$1(this,"majorGridlineStyle"),D$1(this,"majorGridlineThickness"),D$1(this,"majorStep"),D$1(this,"majorTickSize"),D$1(this,"maximum"),D$1(this,"maximumPadding"),D$1(this,"maximumDataMargin"),D$1(this,"maximumMargin"),D$1(this,"maximumRange"),D$1(this,"minimum"),D$1(this,"minimumMajorStep"),D$1(this,"minimumMinorStep"),D$1(this,"minimumPadding"),D$1(this,"minimumDataMargin"),D$1(this,"minimumMargin"),D$1(this,"minimumRange"),D$1(this,"minorGridlineColor"),D$1(this,"minorGridlineStyle"),D$1(this,"minorGridlineThickness"),D$1(this,"minorStep"),D$1(this,"minorTicklineColor"),D$1(this,"minorTickSize"),D$1(this,"position",AxisPosition.Left),D$1(this,"positionAtZeroCrossing",!1),D$1(this,"positionTier",0),D$1(this,"_screenMax",ScreenPoint_Undefined),D$1(this,"_screenMin",ScreenPoint_Undefined),D$1(this,"startPosition"),D$1(this,"stringFormatter"),D$1(this,"tickStyle"),D$1(this,"ticklineColor"),D$1(this,"title"),D$1(this,"titleClippingLength"),D$1(this,"titleColor"),D$1(this,"titleFont"),D$1(this,"titleFontSize"),D$1(this,"titleFontWeight"),D$1(this,"titleFormatter"),D$1(this,"titlePosition"),D$1(this,"unit"),D$1(this,"useSuperExponentialFormat",!1),D$1(this,"_desiredMargin",OxyThickness.Zero),D$1(this,"positionTierMaxShift",0),D$1(this,"positionTierMinShift",0),D$1(this,"positionTierSize",0),D$1(this,"viewMaximum"),D$1(this,"viewMinimum"),this.position=AxisPosition.Left,this.positionTier=0,this.isAxisVisible=!0,this.layer=AxisLayer.BelowSeries,this.viewMaximum=Number.NaN,this.viewMinimum=Number.NaN,this.absoluteMaximum=Number_MAX_VALUE,this.absoluteMinimum=Number_MIN_VALUE,this.minimum=Number.NaN,this.maximum=Number.NaN,this.minorStep=Number.NaN,this.majorStep=Number.NaN,this.minimumMinorStep=0,this.minimumMajorStep=0,this.minimumMajorIntervalCount=2,this.maximumMajorIntervalCount=Number_MAX_VALUE,this.minimumPadding=.01,this.maximumPadding=.01,this.minimumRange=0,this.maximumRange=Number.POSITIVE_INFINITY,this.minimumDataMargin=0,this.maximumDataMargin=0,this.minimumMargin=0,this.maximumMargin=0,this.tickStyle=TickStyle.Outside,this.ticklineColor=OxyColors.Black,this.minorTicklineColor=OxyColors.Automatic,this.axislineStyle=LineStyle.None,this.axislineColor=OxyColors.Black,this.axislineThickness=1,this.majorGridlineStyle=LineStyle.None,this.majorGridlineColor=OxyColor.fromArgb(64,0,0,0),this.majorGridlineThickness=1,this.minorGridlineStyle=LineStyle.None,this.minorGridlineColor=OxyColor.fromArgb(32,0,0,0),this.minorGridlineThickness=1,this.extraGridlineStyle=LineStyle.Solid,this.extraGridlineColor=OxyColors.Black,this.extraGridlineThickness=1,this.minorTickSize=4,this.majorTickSize=7,this.startPosition=0,this.endPosition=1,this.titlePosition=.5,this.titleFormatter=(Ve,ze)=>`${Ve||""} [${ze||""}]`,this.titleClippingLength=.9,this.titleColor=OxyColors.Automatic,this.titleFontSize=Number.NaN,this.titleFontWeight=FontWeights.Normal,this.clipTitle=!0,this.angle=0,this.isZoomEnabled=!0,this.isPanEnabled=!0,this.filterMinValue=Number_MIN_VALUE,this.filterMaxValue=Number_MAX_VALUE,this.filterFunction=void 0,this.intervalLength=60,this.axisDistance=0,this.axisTitleDistance=4,this.axisTickToLabelDistance=4,this.dataMaximum=Number.NaN,this.dataMinimum=Number.NaN}get actualMajorStep(){return this._actualMajorStep}set actualMajorStep($e){this._actualMajorStep=$e}get actualMaximum(){return this._actualMaximum}set actualMaximum($e){this._actualMaximum=$e}get actualMinimum(){return this._actualMinimum}set actualMinimum($e){this._actualMinimum=$e}get clipMaximum(){return this._clipMaximum}set clipMaximum($e){this._clipMaximum=$e}get clipMinimum(){return this._clipMinimum}set clipMinimum($e){this._clipMinimum=$e}get actualMinorStep(){return this._actualMinorStep}set actualMinorStep($e){this._actualMinorStep=$e}get actualStringFormatter(){return this._actualStringFormatter}set actualStringFormatter($e){this._actualStringFormatter=$e}get actualTitle(){return this.unit?`${this.title} [${this.unit}]`:this.title}get dataMaximum(){return this._dataMaximum}set dataMaximum($e){this._dataMaximum=$e}get dataMinimum(){return this._dataMinimum}set dataMinimum($e){this._dataMinimum=$e}get isReversed(){return this.startPosition>this.endPosition}get offset(){return this._offset}get scale(){return this._scale}get screenMax(){return this._screenMax}set screenMax($e){this._screenMax=$e}get screenMin(){return this._screenMin}set screenMin($e){this._screenMin=$e}get desiredMargin(){return this._desiredMargin}set desiredMargin($e){this._desiredMargin=$e}get actualTitleColor(){return this.titleColor.getActualColor(this.plotModel.textColor)}get actualTitleFont(){return this.titleFont||this.plotModel.defaultFont}get actualTitleFontSize(){return isNaN(this.titleFontSize)?this.actualFontSize:this.titleFontSize}get actualTitleFontWeight(){return isNaN(this.titleFontWeight)?this.actualFontWeight:this.titleFontWeight}itemToDouble($e){return Number($e)}static inverseTransform($e,Ve,ze){return Ve.inverseTransformPoint($e.x,$e.y,ze)}formatValue($e){return this.labelFormatter?this.labelFormatter($e):this.formatValueOverride($e)}getTickValues(){const $e=[],Ve=[],ze=[],qe=this.createTickValues(this.clipMinimum,this.clipMaximum,this.actualMinorStep);return Ve.push(...this.createTickValues(this.clipMinimum,this.clipMaximum,this.actualMajorStep)),$e.push(...Ve),ze.push(...AxisUtilities.filterRedundantMinorTicks(Ve,qe)),{majorLabelValues:$e,majorTickValues:Ve,minorTickValues:ze}}getValue($e){return $e}inverseTransformPoint($e,Ve,ze){return newDataPoint(this.inverseTransform($e),ze?ze.inverseTransform(Ve):0)}inverseTransform($e){return $e/this._scale+this._offset}isHorizontal(){return this.position===AxisPosition.Top||this.position===AxisPosition.Bottom}isValidValue($e){return Number.isFinite($e)&&$e<this.filterMaxValue&&$e>this.filterMinValue&&(!this.filterFunction||this.filterFunction($e))}isVertical(){return this.position===AxisPosition.Left||this.position===AxisPosition.Right}isLogarithmic(){return!1}measure($e){if(this.position===AxisPosition.None){this.desiredMargin=new OxyThickness(0);return}const{majorLabelValues:Ve}=this.getTickValues();let ze=new OxySize;for(const ei of Ve){const ti=this.formatValue(ei),ni=RenderingExtensions.measureText($e,ti,this.actualFont,this.actualFontSize,this.actualFontWeight,this.angle);ze=ze.include(ni)}const qe=$e.measureText(this.actualTitle||"",this.actualTitleFont,this.actualTitleFontSize,this.actualTitleFontWeight);let Xe=0,We=0,Ke=0,Je=0;const Ze=Math.max(0,this.isReversed?this.maximumMargin:this.minimumMargin),Qe=Math.max(0,this.isReversed?this.minimumMargin:this.maximumMargin);let St=0;switch(this.tickStyle){case TickStyle.Outside:St=this.majorTickSize;break;case TickStyle.Crossing:St=this.majorTickSize*.75;break}switch(St+=this.axisDistance+this.axisTickToLabelDistance,qe.height>0&&(St+=this.axisTitleDistance+qe.height),this.position){case AxisPosition.Left:Xe=St+ze.width;break;case AxisPosition.Right:Ke=St+ze.width;break;case AxisPosition.Top:We=St+ze.height;break;case AxisPosition.Bottom:Je=St+ze.height;break;case AxisPosition.All:Xe=Ke=St+ze.width,We=Je=St+ze.height;break;default:throw new Error("Invalid operation")}if(this.isPanEnabled||this.isZoomEnabled){const ei=Math.min(this.startPosition,this.endPosition)<.01,ti=Math.max(this.startPosition,this.endPosition)>.99;switch(this.position){case AxisPosition.Left:case AxisPosition.Right:ei&&(Je=Math.max(0,ze.height/2-Ze)),ti&&(We=Math.max(0,ze.height/2-Qe));break;case AxisPosition.Top:case AxisPosition.Bottom:ei&&(Xe=Math.max(0,ze.width/2-Ze)),ti&&(Ke=Math.max(0,ze.width/2-Qe));break}}else if(Ve.length>0){const ei=Math.min(...Ve),ti=Math.max(...Ve),ni=this.formatValue(ei),oi=this.formatValue(ti);let ai=RenderingExtensions.measureText($e,ni,this.actualFont,this.actualFontSize,this.actualFontWeight,this.angle),si=RenderingExtensions.measureText($e,oi,this.actualFont,this.actualFontSize,this.actualFontWeight,this.angle),ri=this.transform(ei),ii=this.transform(ti);ri>ii&&([ri,ii]=[ii,ri],[ai,si]=[si,ai]);let ui=0,ci=0,hi=0,mi=0;switch(this.position){case AxisPosition.Left:case AxisPosition.Right:ui=Math.min(this.screenMin.y,this.screenMax.y),ci=Math.max(this.screenMin.y,this.screenMax.y),We=Math.max(0,ui-ri+ai.height/2-Ze),Je=Math.max(0,ii-ci+si.height/2-Qe);break;case AxisPosition.Top:case AxisPosition.Bottom:hi=Math.min(this.screenMin.x,this.screenMax.x),mi=Math.max(this.screenMin.x,this.screenMax.x),Xe=Math.max(0,hi-ri+ai.width/2-Ze),Ke=Math.max(0,ii-mi+si.width/2-Qe);break}}this.desiredMargin=new OxyThickness(Xe,We,Ke,Je)}pan($e,Ve){if(typeof $e=="number"){this.pan2($e);return}this.pan1($e,Ve)}pan1($e,Ve){if(!this.isPanEnabled)return;const ze=this.isHorizontal()?Ve.x-$e.x:Ve.y-$e.y;this.pan(ze)}pan2($e){if(!this.isPanEnabled)return;const Ve=this.actualMinimum,ze=this.actualMaximum,qe=$e/this._scale;let Xe=this.actualMinimum-qe,We=this.actualMaximum-qe;Xe<this.absoluteMinimum&&(Xe=this.absoluteMinimum,We=Math.min(Xe+this.actualMaximum-this.actualMinimum,this.absoluteMaximum)),We>this.absoluteMaximum&&(We=this.absoluteMaximum,Xe=Math.max(We-(this.actualMaximum-this.actualMinimum),this.absoluteMinimum)),this.viewMinimum=Xe,this.viewMaximum=We,this.updateActualMaxMin();const Ke=this.actualMinimum-Ve,Je=this.actualMaximum-ze;this.onAxisChanged({changeType:AxisChangeTypes.Pan,deltaMaximum:Je,deltaMinimum:Ke})}async render($e,Ve){this.position!==AxisPosition.None&&await new HorizontalAndVerticalAxisRenderer($e,this.plotModel).render(this,Ve)}reset(){const $e=this.actualMinimum,Ve=this.actualMaximum;this.viewMinimum=NaN,this.viewMaximum=NaN,this.updateActualMaxMin();const ze=this.actualMinimum-$e,qe=this.actualMaximum-Ve;this.onAxisChanged({changeType:AxisChangeTypes.Reset,deltaMinimum:ze,deltaMaximum:qe})}toString(){return`${this.constructor.name}(${this.position}, ${this.clipMinimum}, ${this.clipMaximum}, ${this.actualMajorStep})`}transformPoint($e,Ve,ze){if(!ze)throw new Error("Y axis should not be null when transforming.");return newScreenPoint(this.transform($e),ze.transform(Ve))}transform($e){return($e-this._offset)*this._scale}zoomScale($e){const Ve=this.actualMinimum,ze=this.actualMaximum,qe=this.transform(this.actualMaximum),Xe=this.transform(this.actualMinimum),We=Math.sign(this._scale),Ke=(this.preTransform(this.actualMaximum)+this.preTransform(this.actualMinimum))/2,Je=(this._offset-Ke)*this._scale/(We*$e)+Ke;this.setTransform(We*$e,Je);let Ze=this.inverseTransform(qe),Qe=this.inverseTransform(Xe);if(Qe<this.absoluteMinimum&&Ze>this.absoluteMaximum)Qe=this.absoluteMinimum,Ze=this.absoluteMaximum;else if(Qe<this.absoluteMinimum){const ti=Ze-Qe;Qe=this.absoluteMinimum,Ze=this.absoluteMinimum+ti,Ze>this.absoluteMaximum&&(Ze=this.absoluteMaximum)}else if(Ze>this.absoluteMaximum){const ti=Ze-Qe;Ze=this.absoluteMaximum,Qe=this.absoluteMaximum-ti,Qe<this.absoluteMinimum&&(Qe=this.absoluteMinimum)}this.clipMaximum=this.viewMaximum=Ze,this.clipMinimum=this.viewMinimum=Qe,this.updateActualMaxMin();const St=this.actualMinimum-Ve,ei=this.actualMaximum-ze;this.actualMaximumAndMinimumChangedOverride(),this.onAxisChanged({changeType:AxisChangeTypes.Zoom,deltaMinimum:St,deltaMaximum:ei})}zoom($e,Ve){if(!this.isZoomEnabled)return;const ze=this.actualMinimum,qe=this.actualMaximum,Xe=Math.max(Math.min($e,Ve),this.absoluteMinimum),We=Math.min(Math.max($e,Ve),this.absoluteMaximum);this.viewMinimum=Xe,this.viewMaximum=We,this.updateActualMaxMin();const Ke=this.actualMinimum-ze,Je=this.actualMaximum-qe;this.onAxisChanged({changeType:AxisChangeTypes.Zoom,deltaMinimum:Ke,deltaMaximum:Je})}zoomAt($e,Ve){if(!this.isZoomEnabled)return;const ze=this.actualMinimum,qe=this.actualMaximum,Xe=(this.actualMinimum-Ve)*this._scale,We=(this.actualMaximum-Ve)*this._scale;this._scale*=$e;let Ke=Xe/this._scale+Ve,Je=We/this._scale+Ve;if(Je-Ke>this.maximumRange){const St=(Ke+Je)*.5;Je=St+this.maximumRange*.5,Ke=St-this.maximumRange*.5}if(Je-Ke<this.minimumRange){const St=(Ke+Je)*.5;Je=St+this.minimumRange*.5,Ke=St-this.minimumRange*.5}Ke=Math.max(Ke,this.absoluteMinimum),Je=Math.min(Je,this.absoluteMaximum),this.viewMinimum=Ke,this.viewMaximum=Je,this.updateActualMaxMin();const Ze=this.actualMinimum-ze,Qe=this.actualMaximum-qe;this.onAxisChanged({changeType:AxisChangeTypes.Zoom,deltaMinimum:Ze,deltaMaximum:Qe})}zoomAtCenter($e){const Ve=(this.transform(this.clipMaximum)+this.transform(this.clipMinimum))*.5,ze=this.inverseTransform(Ve);this.zoomAt($e,ze)}include($e){this.isValidValue($e)&&(this.dataMinimum=isNaN(this.dataMinimum)?$e:Math.min(this.dataMinimum,$e),this.dataMaximum=isNaN(this.dataMaximum)?$e:Math.max(this.dataMaximum,$e))}resetDataMaxMin(){this.dataMaximum=this.dataMinimum=this.actualMaximum=this.actualMinimum=NaN}updateActualMaxMin(){isNaN(this.viewMaximum)?isNaN(this.maximum)?this.actualMaximum=this.calculateActualMaximum():this.actualMaximum=this.maximum:this.actualMaximum=this.viewMaximum,isNaN(this.viewMinimum)?isNaN(this.minimum)?this.actualMinimum=this.calculateActualMinimum():this.actualMinimum=this.minimum:this.actualMinimum=this.viewMinimum,this.coerceActualMaxMin()}updateIntervals($e){const Ve=this.intervalLength;let ze=this.isHorizontal()?$e.width:$e.height;ze*=Math.abs(this.endPosition-this.startPosition),this.actualMajorStep=isNaN(this.majorStep)?this.calculateActualInterval(ze,Ve,this.minimumMajorIntervalCount,this.maximumMajorIntervalCount):this.majorStep,this.actualMinorStep=isNaN(this.minorStep)?this.calculateMinorInterval(this.actualMajorStep):this.minorStep,isNaN(this.actualMinorStep)&&(this.actualMinorStep=2),isNaN(this.actualMajorStep)&&(this.actualMajorStep=10),this.actualMinorStep=Math.max(this.actualMinorStep,this.minimumMinorStep),this.actualMajorStep=Math.max(this.actualMajorStep,this.minimumMajorStep),this.actualStringFormatter=this.stringFormatter||this.getDefaultStringFormatter()}updateTransform($e){const Ve=$e.left,ze=$e.right,qe=$e.bottom,Xe=$e.top;let We=this.isHorizontal()?Ve:qe,Ke=this.isHorizontal()?ze:Xe;const Je=Ke-We;Ke=We+this.endPosition*Je,We=We+this.startPosition*Je;const Ze=this.isHorizontal()!=this.isReversed?1:-1;this.minimumMargin>0&&(We+=this.minimumMargin*Ze),this.maximumMargin>0&&(Ke-=this.maximumMargin*Ze),this.isHorizontal()?(this.screenMin=newScreenPoint(We,Xe),this.screenMax=newScreenPoint(Ke,qe)):this.isVertical()&&(this.screenMin=newScreenPoint(Ve,Ke),this.screenMax=newScreenPoint(ze,We)),this.minimumDataMargin>0&&(We+=this.minimumDataMargin*Ze),this.maximumDataMargin>0&&(Ke-=this.maximumDataMargin*Ze),this.actualMaximum-this.actualMinimum<=0&&(this.actualMaximum=this.actualMinimum+1);const Qe=this.preTransform(this.actualMaximum),St=this.preTransform(this.actualMinimum),ei=We-Ke;let ti,ni;Math.abs(ei)>Number.EPSILON?ti=We/ei*Qe-Ke/ei*St:ti=0;const oi=Qe-St;Math.abs(oi)>Number.EPSILON?ni=(Ke-We)/oi:ni=1,this.setTransform(ni,ti),this.minimumDataMargin>0?this.clipMinimum=this.inverseTransform(We-this.minimumDataMargin*Ze):this.clipMinimum=this.actualMinimum,this.maximumDataMargin>0?this.clipMaximum=this.inverseTransform(Ke+this.maximumDataMargin*Ze):this.clipMaximum=this.actualMaximum,this.actualMaximumAndMinimumChangedOverride()}actualMaximumAndMinimumChangedOverride(){}getDefaultStringFormatter(){return $e=>pettyNumber($e,4)}postInverseTransform($e){return $e}preTransform($e){return $e}calculateMinorInterval($e){return AxisUtilities.calculateMinorInterval($e)}createTickValues($e,Ve,ze,qe=1e3){return AxisUtilities.createTickValues($e,Ve,ze,qe)}coerceActualMaxMin(){if(this.absoluteMaximum<=this.absoluteMinimum)throw new Error("AbsoluteMaximum must be larger than AbsoluteMinimum.");if(this.absoluteMaximum-this.absoluteMinimum<this.minimumRange)throw new Error("MinimumRange must not be larger than AbsoluteMaximum-AbsoluteMinimum.");if(this.maximumRange<this.minimumRange)throw new Error("MinimumRange must not be larger than MaximumRange.");if((isNaN(this.actualMinimum)||isInfinity(this.actualMinimum))&&(this.actualMinimum=0),(isNaN(this.actualMaximum)||isInfinity(this.actualMaximum))&&(this.actualMaximum=100),this.absoluteMinimum>Number_MIN_VALUE&&this.absoluteMinimum<Number_MAX_VALUE&&(this.actualMinimum=Math.max(this.actualMinimum,this.absoluteMinimum),this.maximumRange<Number_MAX_VALUE&&(this.actualMaximum=Math.min(this.actualMaximum,this.absoluteMinimum+this.maximumRange))),this.absoluteMaximum>Number_MIN_VALUE&&this.absoluteMaximum<Number_MAX_VALUE&&(this.actualMaximum=Math.min(this.actualMaximum,this.absoluteMaximum),this.maximumRange<Number_MAX_VALUE&&(this.actualMinimum=Math.max(this.actualMinimum,this.absoluteMaximum-this.maximumRange))),this.actualMaximum-this.actualMinimum<this.minimumRange)if(this.actualMinimum+this.minimumRange<this.absoluteMaximum){const $e=(this.actualMaximum+this.actualMinimum)*.5,Ve=this.minimumRange/2;if(this.actualMinimum=$e-Ve,this.actualMaximum=$e+Ve,this.actualMinimum<this.absoluteMinimum){const ze=this.absoluteMinimum-this.actualMinimum;this.actualMinimum=this.absoluteMinimum,this.actualMaximum+=ze}if(this.actualMaximum>this.absoluteMaximum){const ze=this.absoluteMaximum-this.actualMaximum;this.actualMaximum=this.absoluteMaximum,this.actualMinimum+=ze}}else this.absoluteMaximum-this.minimumRange>this.absoluteMinimum?(this.actualMinimum=this.absoluteMaximum-this.minimumRange,this.actualMaximum=this.absoluteMaximum):(this.actualMaximum=this.absoluteMaximum,this.actualMinimum=this.absoluteMinimum);if(this.actualMaximum-this.actualMinimum>this.maximumRange)if(this.actualMinimum+this.maximumRange<this.absoluteMaximum){const $e=(this.actualMaximum+this.actualMinimum)*.5,Ve=this.maximumRange/2;if(this.actualMinimum=$e-Ve,this.actualMaximum=$e+Ve,this.actualMinimum<this.absoluteMinimum){const ze=this.absoluteMinimum-this.actualMinimum;this.actualMinimum=this.absoluteMinimum,this.actualMaximum+=ze}if(this.actualMaximum>this.absoluteMaximum){const ze=this.absoluteMaximum-this.actualMaximum;this.actualMaximum=this.absoluteMaximum,this.actualMinimum+=ze}}else this.absoluteMaximum-this.maximumRange>this.absoluteMinimum?(this.actualMinimum=this.absoluteMaximum-this.maximumRange,this.actualMaximum=this.absoluteMaximum):(this.actualMaximum=this.absoluteMaximum,this.actualMinimum=this.absoluteMinimum);this.actualMaximum<=this.actualMinimum&&(this.actualMaximum=this.actualMinimum+100)}formatValueOverride($e){let Ve=this.stringFormatter;if(this.useSuperExponentialFormat&&$e!==0){const ze=Wl.Exponent($e),qe=Wl.Mantissa($e);if(Ve){if(typeof Ve=="function")return`${Ve($e)}·10^{${ze}}`}else return Math.abs(qe-1)<1e-6?`10^{${ze}}`:`${qe}·10^{${ze}}`;throw new Error("invalid stringFormat")}if(Ve=this.actualStringFormatter||this.stringFormatter,typeof Ve=="function")return Ve($e);if(!Ve)return $e.toString();throw new Error("invalid stringFormat")}calculateActualMaximum(){let $e=this.dataMaximum;if(this.dataMaximum-this.dataMinimum<=0){const Ve=this.dataMaximum>0?this.dataMaximum:1;$e+=Ve*.5}if(!isNaN(this.dataMinimum)&&!isNaN($e)){const Ve=this.preTransform($e),ze=this.preTransform(this.dataMinimum),qe=this.maximumPadding*(Ve-ze);return this.postInverseTransform(Ve+qe)}return $e}calculateActualMinimum(){let $e=this.dataMinimum;if(this.dataMaximum-this.dataMinimum<=0){const Ve=this.dataMaximum>0?this.dataMaximum:1;$e-=Ve*.5}if(!isNaN(this.actualMaximum)){const Ve=this.preTransform(this.actualMaximum),ze=this.preTransform($e),qe=this.maximumPadding,Xe=this.minimumPadding*((Ve-ze)/(1+qe));return this.postInverseTransform(ze-Xe)}return $e}setTransform($e,Ve){this._scale=$e,this._offset=Ve,this.onTransformChanged()}calculateActualInterval($e,Ve,ze,qe,Xe){if(isNullOrUndef(Xe)&&(Xe=Math.abs(this.clipMinimum-this.clipMaximum)),$e<=0)return Ve;if(Math.abs(Ve)<=0)throw new Error("Maximum interval size cannot be zero.");if(Math.abs(Xe)<=0)throw new Error("Range cannot be zero.");const We=St=>Math.ceil(Math.log10(St)),Ke=St=>St/Math.pow(10,We(St)-1);ze=Math.max(ze,0),qe=Math.min(qe,$e/Ve),Xe=Math.abs(Xe);let Je=Math.pow(10,We(Xe)),Ze=Je;const Qe=St=>parseFloat(St.toPrecision(14));for(;Ke(Ze)===5?Ze=Qe(Ze/2.5):Ze=Qe(Ze/2),!(Xe/Je>=ze&&Xe/Ze>qe||isNaN(Ze)||isInfinity(Ze));)Je=Ze;return Je}onAxisChanged($e){this.updateActualMaxMin();const Ve=this.axisChanged;Ve&&Ve(this,$e)}onTransformChanged(){const $e=this.transformChanged;$e&&$e(this)}};D$1(Zt$1,"Exponent",je=>Math.floor(Zt$1.ThresholdRound(Math.log(Math.abs(je))/Math.LN10))),D$1(Zt$1,"Mantissa",je=>Zt$1.ThresholdRound(je/Math.pow(10,Zt$1.Exponent(je)))),D$1(Zt$1,"ThresholdRound",je=>Math.abs(Math.round(je)-je)<1e-6?Math.round(je):je);let Axis=Zt$1;class LinearAxis extends Axis{constructor($e){super(),D$1(this,"formatAsFractions"),D$1(this,"fractionUnit"),D$1(this,"fractionUnitSymbol"),this.fractionUnit=1,this.fractionUnitSymbol=void 0,this.formatAsFractions=!1,$e&&Object.assign(this,removeUndef($e))}isXyAxis(){return!0}isLogarithmic(){return!1}formatValueOverride($e){return this.formatAsFractions?FractionHelper.convertToFractionString($e,this.fractionUnit,this.fractionUnitSymbol,1e-6,this.stringFormatter):super.formatValueOverride($e)}}class AngleAxis extends LinearAxis{constructor($e){super($e),D$1(this,"startAngle"),D$1(this,"endAngle"),this.position=AxisPosition.All,this.tickStyle=TickStyle.None,this.isPanEnabled=!1,this.isZoomEnabled=!1,this.majorGridlineStyle=LineStyle.Solid,this.minorGridlineStyle=LineStyle.Solid,this.startAngle=0,this.endAngle=360,$e&&Object.assign(this,removeUndef($e))}getTickValues(){const $e=this.startAngle/this.scale,Ve=this.endAngle/this.scale;let ze=this.createTickValues($e,Ve,this.actualMinorStep);const qe=this.createTickValues($e,Ve,this.actualMajorStep),Xe=this.createTickValues(this.minimum,this.maximum,this.actualMajorStep);return ze=AxisUtilities.filterRedundantMinorTicks(qe,ze),{majorLabelValues:Xe,majorTickValues:qe,minorTickValues:ze}}inverseTransformPoint($e,Ve,ze){throw new Error("Angle axis should always be the y-axis.")}isXyAxis(){return!1}async render($e,Ve){await new AngleAxisRenderer($e,this.plotModel).render(this,Ve)}transformPoint($e,Ve,ze){throw new Error("Angle axis should always be the y-axis.")}updateTransform($e){const Ve=$e.left,ze=$e.right,qe=$e.bottom,Xe=$e.top;this.screenMin=newScreenPoint(Ve,Xe),this.screenMax=newScreenPoint(ze,qe);const We=(this.endAngle-this.startAngle)/(this.actualMaximum-this.actualMinimum),Ke=this.actualMinimum-this.startAngle/We;this.setTransform(We,Ke),this.clipMinimum=this.actualMinimum,this.clipMaximum=this.actualMaximum}}class AngleAxisFullPlotArea extends AngleAxis{async render($e,Ve){await new AngleAxisFullPlotAreaRenderer($e,this.plotModel).render(this,Ve)}}var AxisChangeTypes=(je=>(je[je.Zoom=0]="Zoom",je[je.Pan=1]="Pan",je[je.Reset=2]="Reset",je))(AxisChangeTypes||{}),AxisLayer=(je=>(je[je.BelowSeries=0]="BelowSeries",je[je.AboveSeries=1]="AboveSeries",je))(AxisLayer||{}),AxisPosition=(je=>(je[je.None=0]="None",je[je.Left=1]="Left",je[je.Right=2]="Right",je[je.Top=3]="Top",je[je.Bottom=4]="Bottom",je[je.All=5]="All",je))(AxisPosition||{});class AxisUtilities{static calculateMinorInterval($e){return Math.abs((Math.log10($e)+1e3)%1-Math.log10(2))<1e-10?$e/4:$e/5}static calculateMinorInterval2($e){const Ve=Math.ceil(Math.log($e)/Math.LN10);return($e/Math.pow(10,Ve-1)|0)===2?$e/4:$e/5}static createTickValues($e,Ve,ze,qe=1e3){if(ze<=0)throw new Error("Step cannot be zero or negative.");Ve<$e&&(ze=-ze);const Xe=ze*.001;$e-=Xe,Ve+=Xe;let We=Math.ceil($e/ze)*ze;Math.abs(We)<Number.EPSILON&&(We=0);const Ke=[],Je=Math.sign(ze);let Ze=0,Qe=We;for(;(Ve-Qe)*Je>=0&&Ze<qe;)Ke.push(Qe),Qe=We+ ++Ze*ze;return Ke}static filterRedundantMinorTicks($e,Ve){if($e.length===0||Ve.length===0)return Ve;const ze=[];let qe=0,Xe=1,We=$e.length>1?$e[Xe]:$e[0];const Ke=(Qe,St)=>Math.abs(Qe-St)*.001;let Je=Ve.length>1?Ke(Ve[0],Ve[1]):0,Ze=1;$e.length>1&&$e[0]>$e[1]&&(Ze=-1);for(let Qe=0;Qe<Ve.length;Qe++){const St=Ve[Qe];for(Qe>0&&(Je=Ke(St,qe));(We-St)*Ze<0&&Xe<$e.length-1;)We=$e[++Xe];const ei=$e[Xe-1];Math.abs(St-We)>Je&&Math.abs(St-ei)>Je&&ze.push(St),qe=St}return ze}}class CategoryAxis extends LinearAxis{constructor($e){super($e),D$1(this,"_autoGeneratedLabels",[]),D$1(this,"_itemsSourceLabels",[]),D$1(this,"gapWidth"),D$1(this,"isTickCentered",!1),D$1(this,"itemsSource"),D$1(this,"labelField"),D$1(this,"_labels",[]),this.tickStyle=TickStyle.Outside,this.position=AxisPosition.Bottom,this.minimumPadding=0,this.maximumPadding=0,this.majorStep=1,this.gapWidth=1,$e&&Object.assign(this,removeUndef($e))}get actualLabels(){return this.itemsSource?this._itemsSourceLabels:this.labels.length>0?this.labels:this._autoGeneratedLabels}get labels(){return this._labels}getTickValues(){const{majorLabelValues:$e,majorTickValues:Ve,minorTickValues:ze}=super.getTickValues();if(ze.length=0,!this.isTickCentered){let qe=[];if(qe=$e.map(Xe=>Xe-.5).filter(Xe=>Xe>this.clipMinimum-.001),qe.length>0){const Xe=qe[qe.length-1]+this.majorStep;Xe<this.clipMaximum+.001&&qe.push(Xe)}Ve.length=0,Ve.push(...qe)}return{majorLabelValues:$e,majorTickValues:Ve,minorTickValues:ze}}getValue($e){return this.formatValue($e)}updateActualMaxMin(){this.include(-.5);const $e=this.actualLabels;$e.length>0?this.include($e.length-1+.5):this.include(.5),super.updateActualMaxMin(),this.minorStep=1}updateLabels($e){if(this.itemsSource){this._itemsSourceLabels.length=0;const Ve=[];for(let ze of this.itemsSource||[])ze=this.labelField?ze[this.labelField]:ze,this.stringFormatter?Ve.push(this.stringFormatter(ze)):Ve.push(ze.toString());this._itemsSourceLabels.push(...Ve);return}if(this.labels.length===0){if(this._autoGeneratedLabels.length===$e)return;this._autoGeneratedLabels.length=0,this._autoGeneratedLabels.push(...Array.from({length:$e},(Ve,ze)=>(ze+1).toString()))}}formatValueOverride($e){const Ve=Math.floor($e),ze=this.actualLabels;return Ve>=0&&Ve<ze.length?ze[Ve]:""}}function isColorAxis(je){return je&&typeof je.getColor=="function"&&typeof je.getPaletteIndex=="function"}function toColorAxis(je){return je}class MagnitudeAxis extends LinearAxis{constructor($e){super($e),D$1(this,"midPoint",ScreenPoint_LeftTop),this.position=AxisPosition.None,this.isPanEnabled=!1,this.isZoomEnabled=!1,this.majorGridlineStyle=LineStyle.Solid,this.minorGridlineStyle=LineStyle.Solid,$e&&Object.assign(this,$e)}inverseTransformPoint($e,Ve,ze){if(!(ze instanceof AngleAxis))throw new Error("Polar angle axis not defined!");const qe=ze;$e-=this.midPoint.x,Ve-=this.midPoint.y,Ve*=-1;const Xe=Math.atan2(Ve,$e);return $e=Math.sqrt($e*$e+Ve*Ve)/this.scale+this.offset,Ve=Xe/qe.scale+qe.offset*Math.PI/180,newDataPoint($e,Ve)}isXyAxis(){return!1}async render($e,Ve){await new MagnitudeAxisRenderer($e,this.plotModel).render(this,Ve)}transformPoint($e,Ve,ze){if(!(ze instanceof AngleAxis))throw new Error("Polar angle axis not defined!");const qe=ze,Xe=($e-this.offset)*this.scale,We=(Ve-qe.offset)*qe.scale;return newScreenPoint(this.midPoint.x+Xe*Math.cos(We/180*Math.PI),this.midPoint.y-Xe*Math.sin(We/180*Math.PI))}updateTransform($e){const Ve=$e.left,ze=$e.right,qe=$e.bottom,Xe=$e.top;this.screenMin=newScreenPoint(Ve,Xe),this.screenMax=newScreenPoint(ze,qe),this.midPoint=newScreenPoint((Ve+ze)/2,(qe+Xe)/2);const We=Math.min(Math.abs(ze-Ve),Math.abs(Xe-qe));let Ke=0,Je=We*.5;const Ze=Je-Ke;Je=Ke+this.endPosition*Ze,Ke=Ke+this.startPosition*Ze;const Qe=this.isReversed?-1:1;this.minimumMargin>0&&(Ke+=this.minimumMargin*Qe),this.maximumMargin>0&&(Je-=this.maximumMargin*Qe),this.minimumDataMargin>0&&(Ke+=this.minimumDataMargin*Qe),this.maximumDataMargin>0&&(Je-=this.maximumDataMargin*Qe),this.actualMaximum-this.actualMinimum<=0&&(this.actualMaximum=this.actualMinimum+1);const St=this.preTransform(this.actualMaximum),ei=this.preTransform(this.actualMinimum),ti=Ke-Je;let ni,oi;Math.abs(ti)>Number.EPSILON?ni=Ke/ti*St-Je/ti*ei:ni=0;const ai=St-ei;Math.abs(ai)>Number.EPSILON?oi=(Je-Ke)/ai:oi=1,this.setTransform(oi,ni),this.minimumDataMargin>0?this.clipMinimum=this.inverseTransform(0):this.clipMinimum=this.actualMinimum,this.maximumDataMargin>0?this.clipMaximum=this.inverseTransform(We*.5):this.clipMaximum=this.actualMaximum,this.actualMaximumAndMinimumChangedOverride()}}var TickStyle=(je=>(je[je.Crossing=0]="Crossing",je[je.Inside=1]="Inside",je[je.Outside=2]="Outside",je[je.None=3]="None",je))(TickStyle||{});class AxisRendererBase{constructor($e,Ve){D$1(this,"_plot"),D$1(this,"rc"),D$1(this,"minorTickValues",[]),D$1(this,"axislinePen"),D$1(this,"extraPen"),D$1(this,"majorLabelValues",[]),D$1(this,"majorPen"),D$1(this,"majorTickPen"),D$1(this,"majorTickValues",[]),D$1(this,"minorPen"),D$1(this,"minorTickPen"),D$1(this,"zeroPen"),this._plot=Ve,this.rc=$e}get plot(){return this._plot}get renderContext(){return this.rc}async render($e,Ve){if(!$e)return;const{majorLabelValues:ze,majorTickValues:qe,minorTickValues:Xe}=$e.getTickValues();this.majorLabelValues=ze,this.majorTickValues=qe,this.minorTickValues=Xe,this.createPens($e)}createPens($e){const Ve=$e.minorTicklineColor.isAutomatic()?$e.ticklineColor:$e.minorTicklineColor;this.minorPen=OxyPen.create($e.minorGridlineColor,$e.minorGridlineThickness,$e.minorGridlineStyle),this.majorPen=OxyPen.create($e.majorGridlineColor,$e.majorGridlineThickness,$e.majorGridlineStyle),this.minorTickPen=OxyPen.create(Ve,$e.minorGridlineThickness),this.majorTickPen=OxyPen.create($e.ticklineColor,$e.majorGridlineThickness),this.zeroPen=OxyPen.create($e.ticklineColor,$e.majorGridlineThickness),this.extraPen=OxyPen.create($e.extraGridlineColor,$e.extraGridlineThickness,$e.extraGridlineStyle),this.axislinePen=OxyPen.create($e.axislineColor,$e.axislineThickness,$e.axislineStyle)}getTickPositions($e,Ve,ze,qe){let Xe=0,We=0;const Ke=qe===AxisPosition.Top||qe===AxisPosition.Left?-1:1;switch(Ve){case TickStyle.Crossing:Xe=-ze*Ke*.75,We=ze*Ke*.75;break;case TickStyle.Inside:Xe=-ze*Ke;break;case TickStyle.Outside:We=ze*Ke;break}return[Xe,We]}isWithin($e,Ve,ze){return $e<Ve?!1:$e<=ze}}class AngleAxisRenderer extends AxisRendererBase{constructor($e,Ve){super($e,Ve)}async render($e,Ve){const ze=$e;await super.render($e,Ve);const qe=this.plot.defaultMagnitudeAxis;if(!qe)throw new Error("Magnitude axis not defined.");const Xe=ze.startAngle/ze.scale,We=ze.endAngle/ze.scale,Ke=Math.abs(We-Xe);if(this.minorPen){const Qe=Math.abs(Ke/$e.actualMinorStep|0),St=this.minorTickValues.slice(0,Qe+1).map(ei=>qe.transformPoint(qe.clipMaximum,ei,$e));for(const ei of St)await RenderingExtensions.drawLine(this.renderContext,qe.midPoint.x,qe.midPoint.y,ei.x,ei.y,this.minorPen,$e.edgeRenderingMode)}const Je=Math.abs(Math.abs(Math.max(ze.endAngle,ze.startAngle)-Math.min(ze.startAngle,ze.endAngle))-360)<.001;let Ze=Ke/$e.actualMajorStep|0;if(Je||Ze++,this.majorPen){const Qe=this.majorTickValues.slice(0,Ze).map(St=>qe.transformPoint(qe.clipMaximum,St,$e));for(const St of Qe)await RenderingExtensions.drawLine(this.renderContext,qe.midPoint.x,qe.midPoint.y,St.x,St.y,this.majorPen,$e.edgeRenderingMode)}for(const Qe of this.majorLabelValues.slice(0,Ze)){let St=qe.transformPoint(qe.clipMaximum,Qe,$e);const ei=Math.atan2(St.y-qe.midPoint.y,St.x-qe.midPoint.x);let{x:ti,y:ni}=St;ti+=Math.cos(ei)*$e.axisTickToLabelDistance,ni+=Math.sin(ei)*$e.axisTickToLabelDistance,St=newScreenPoint(ti,ni);let oi=ei*180/Math.PI;const ai=$e.formatValue(Qe);let si=HorizontalAlignment.Left,ri=VerticalAlignment.Middle;Math.abs(Math.abs(oi)-90)<10?(si=HorizontalAlignment.Center,ri=oi>=90?VerticalAlignment.Top:VerticalAlignment.Bottom,oi=0):(oi>90||oi<-90)&&(oi-=180,si=HorizontalAlignment.Right),await MathRenderingExtensions.drawMathText(this.renderContext,St,ai,$e.actualTextColor,$e.actualFont,$e.actualFontSize,$e.actualFontWeight,oi,si,ri)}}}class HorizontalAndVerticalAxisRenderer extends AxisRendererBase{constructor($e,Ve){super($e,Ve)}async render($e,Ve){await super.render($e,Ve);let ze=!0;const qe=$e.axisDistance+$e.positionTierMinShift,Xe=$e.positionTierSize-this.plot.axisTierDistance,We=this.plot.plotArea.left,Ke=this.plot.plotArea.right,Je=this.plot.plotArea.top,Ze=this.plot.plotArea.bottom;let Qe=0,St=0;switch($e.position){case AxisPosition.Left:Qe=We-qe;break;case AxisPosition.Right:Qe=Ke+qe;break;case AxisPosition.Top:Qe=Je-qe;break;case AxisPosition.Bottom:Qe=Ze+qe;break}if($e.positionAtZeroCrossing){const ei=$e.isHorizontal()?this.plot.defaultYAxis:this.plot.defaultXAxis;Qe=ei.transform(0);const ti=$e.isHorizontal()?ei.screenMin.y:ei.screenMin.x,ni=$e.isHorizontal()?ei.screenMax.y:ei.screenMax.x;let oi=Math.min(ti,ni),ai=Math.max(ti,ni);const si=$e.isHorizontal()?Je:We,ri=$e.isHorizontal()?Ze:Ke;if(oi=Math.max(oi,si),ai=Math.min(ai,ri),Qe<oi){Qe=oi;const ii=$e.isHorizontal()?this.plot.plotAreaBorderThickness.top:this.plot.plotAreaBorderThickness.left,ui=$e.isHorizontal()?this.plot.plotArea.top:this.plot.plotArea.left;Qe<=ui&&ii>0&&this.plot.plotAreaBorderColor.isVisible()&&(ze=!1)}if(Qe>ai){Qe=ai;const ii=$e.isHorizontal()?this.plot.plotAreaBorderThickness.bottom:this.plot.plotAreaBorderThickness.right,ui=$e.isHorizontal()?this.plot.plotArea.bottom:this.plot.plotArea.right;Qe>=ui&&ii>0&&this.plot.plotAreaBorderColor.isVisible()&&(ze=!1)}}switch($e.position){case AxisPosition.Left:St=Qe-Xe;break;case AxisPosition.Right:St=Qe+Xe;break;case AxisPosition.Top:St=Qe-Xe;break;case AxisPosition.Bottom:St=Qe+Xe;break}switch($e.position){case AxisPosition.Left:case AxisPosition.Top:St+=$e.axisDistance;break;case AxisPosition.Right:case AxisPosition.Bottom:St-=$e.axisDistance;break}Ve==0&&await this.renderMinorItems($e,Qe),Ve==1&&(await this.renderMajorItems($e,Qe,St,ze),await this.renderAxisTitle($e,St))}static lerp($e,Ve,ze){return $e*(1-ze)+Ve*ze}static snapTo($e,Ve,ze=.5){return Ve>$e-ze&&Ve<$e+ze?$e:Ve}getAxisTitlePositionAndAlignment($e,Ve){let ze=-90,qe=HorizontalAlignment.Center,Xe=VerticalAlignment.Top,We=$e.isHorizontal()?HorizontalAndVerticalAxisRenderer.lerp($e.screenMin.x,$e.screenMax.x,$e.titlePosition):HorizontalAndVerticalAxisRenderer.lerp($e.screenMax.y,$e.screenMin.y,$e.titlePosition);$e.positionAtZeroCrossing&&(We=HorizontalAndVerticalAxisRenderer.lerp($e.transform($e.clipMaximum),$e.transform($e.clipMinimum),$e.titlePosition));let Ke=ScreenPoint_LeftTop;switch($e.position){case AxisPosition.Left:Ke=newScreenPoint(Ve,We);break;case AxisPosition.Right:Xe=VerticalAlignment.Bottom,Ke=newScreenPoint(Ve,We);break;case AxisPosition.Top:qe=HorizontalAlignment.Center,Xe=VerticalAlignment.Top,ze=0,Ke=newScreenPoint(We,Ve);break;case AxisPosition.Bottom:qe=HorizontalAlignment.Center,Xe=VerticalAlignment.Bottom,ze=0,Ke=newScreenPoint(We,Ve);break;default:throw new Error("Invalid axis position")}return{point:Ke,angle:ze,halign:qe,valign:Xe}}async renderAxisTitle($e,Ve){if(!$e.actualTitle)return;const ze=$e.isHorizontal();let qe;if($e.clipTitle){const Ze=Math.abs(ze?$e.screenMax.x-$e.screenMin.x:$e.screenMax.y-$e.screenMin.y);qe=new OxySize(Ze*$e.titleClippingLength,Number_MAX_VALUE)}const{point:Xe,angle:We,halign:Ke,valign:Je}=this.getAxisTitlePositionAndAlignment($e,Ve);await MathRenderingExtensions.drawMathText(this.renderContext,Xe,$e.actualTitle,$e.actualTitleColor,$e.actualTitleFont,$e.actualTitleFontSize,$e.actualTitleFontWeight,We,Ke,Je,qe)}async renderMajorItems($e,Ve,ze,qe){const Xe=$e.actualMinorStep*.001,We=$e.clipMinimum,Ke=$e.clipMaximum,Je=this.plot.plotArea.left,Ze=this.plot.plotArea.right,Qe=this.plot.plotArea.top,St=this.plot.plotArea.bottom,ei=$e.isHorizontal(),ti=$e.cropGridlines,ni=[],oi=[],[ai,si]=this.getTickPositions($e,$e.tickStyle,$e.majorTickSize,$e.position),ri=$e.isHorizontal()?this.plot.defaultYAxis:this.plot.defaultXAxis,ii=$e.positionAtZeroCrossing&&(ri==null?void 0:ri.positionAtZeroCrossing);let ui=[];ti&&(ei?ui=this.plot.axes.filter(mi=>mi.isXyAxis()&&mi.isVertical()):ui=this.plot.axes.filter(mi=>mi.isXyAxis()&&mi.isHorizontal()));const ci=HorizontalAndVerticalAxisRenderer.snapTo;for(const mi of this.majorTickValues){if(ii&&Math.abs(mi)<Xe)continue;let di=$e.transform(mi);ei?(di=ci(Je,di),di=ci(Ze,di)):(di=ci(Qe,di),di=ci(St,di)),this.majorPen&&this.addSegments(ni,ui,ei,ti,di,Je,Ze,Qe,St),$e.tickStyle!=TickStyle.None&&$e.majorTickSize>0&&(ei?(oi.push(newScreenPoint(di,Ve+ai)),oi.push(newScreenPoint(di,Ve+si))):(oi.push(newScreenPoint(Ve+ai,di)),oi.push(newScreenPoint(Ve+si,di))))}for(const mi of this.majorLabelValues){if(mi<We-Xe||mi>Ke+Xe||ii&&Math.abs(mi)<Xe)continue;let di=$e.transform(mi);ei?(di=ci(Je,di),di=ci(Ze,di)):(di=ci(Qe,di),di=ci(St,di));let fi=ScreenPoint_LeftTop,yi=[HorizontalAlignment.Center,VerticalAlignment.Middle];switch($e.position){case AxisPosition.Left:fi=newScreenPoint(Ve+si-$e.axisTickToLabelDistance,di),yi=this.getRotatedAlignments($e.angle,-90);break;case AxisPosition.Right:fi=newScreenPoint(Ve+si+$e.axisTickToLabelDistance,di),yi=this.getRotatedAlignments($e.angle,90);break;case AxisPosition.Top:fi=newScreenPoint(di,Ve+si-$e.axisTickToLabelDistance),yi=this.getRotatedAlignments($e.angle,0);break;case AxisPosition.Bottom:fi=newScreenPoint(di,Ve+si+$e.axisTickToLabelDistance),yi=this.getRotatedAlignments($e.angle,-180);break}const[pi,xi]=yi,Si=$e.formatValue(mi);await MathRenderingExtensions.drawMathText(this.renderContext,fi,Si,$e.actualTextColor,$e.actualFont,$e.actualFontSize,$e.actualFontWeight,$e.angle,pi,xi)}const hi=RenderingExtensions.getActualEdgeRenderingMode($e.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);if($e.extraGridlines&&this.extraPen){const mi=[];for(const di of $e.extraGridlines){if(!this.isWithin(di,We,Ke))continue;const fi=$e.transform(di);this.addSegments(mi,ui,ei,ti,fi,Je,Ze,Qe,St)}await RenderingExtensions.drawLineSegments(this.renderContext,mi,this.extraPen,hi)}qe&&(ei?await RenderingExtensions.drawLine(this.renderContext,$e.transform(We),Ve,$e.transform(Ke),Ve,this.axislinePen,hi):await RenderingExtensions.drawLine(this.renderContext,Ve,$e.transform(We),Ve,$e.transform(Ke),this.axislinePen,hi)),this.majorPen&&await RenderingExtensions.drawLineSegments(this.renderContext,ni,this.majorPen,hi),this.majorTickPen&&await RenderingExtensions.drawLineSegments(this.renderContext,oi,this.majorTickPen,hi)}async renderMinorItems($e,Ve){const ze=$e.actualMinorStep*.001,qe=this.plot.plotArea.left,Xe=this.plot.plotArea.right,We=this.plot.plotArea.top,Ke=this.plot.plotArea.bottom,Je=$e.cropGridlines,Ze=$e.isHorizontal(),Qe=[],St=[];let ei=[];Je&&(Ze?ei=this.plot.axes.filter(si=>si.isXyAxis()&&si.isVertical()):ei=this.plot.axes.filter(si=>si.isXyAxis()&&si.isHorizontal()));const[ti,ni]=this.getTickPositions($e,$e.tickStyle,$e.minorTickSize,$e.position),oi=HorizontalAndVerticalAxisRenderer.snapTo;for(const si of this.minorTickValues){if($e.positionAtZeroCrossing&&Math.abs(si)<ze)continue;let ri=$e.transform(si);Ze?(ri=oi(qe,ri),ri=oi(Xe,ri)):(ri=oi(We,ri),ri=oi(Ke,ri)),this.minorPen&&this.addSegments(Qe,ei,Ze,Je,ri,qe,Xe,We,Ke),$e.tickStyle!=TickStyle.None&&$e.minorTickSize>0&&(Ze?(St.push(newScreenPoint(ri,Ve+ti)),St.push(newScreenPoint(ri,Ve+ni))):(St.push(newScreenPoint(Ve+ti,ri)),St.push(newScreenPoint(Ve+ni,ri))))}const ai=RenderingExtensions.getActualEdgeRenderingMode($e.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);this.minorPen&&await RenderingExtensions.drawLineSegments(this.renderContext,Qe,this.minorPen,ai),this.minorTickPen&&await RenderingExtensions.drawLineSegments(this.renderContext,St,this.minorTickPen,ai)}addSegments($e,Ve,ze,qe,Xe,We,Ke,Je,Ze){if(ze)if(!qe)$e.push(newScreenPoint(Xe,Je)),$e.push(newScreenPoint(Xe,Ze));else for(const Qe of Ve)$e.push(newScreenPoint(Xe,Qe.transform(Qe.clipMinimum))),$e.push(newScreenPoint(Xe,Qe.transform(Qe.clipMaximum)));else if(!qe)$e.push(newScreenPoint(We,Xe)),$e.push(newScreenPoint(Ke,Xe));else for(const Qe of Ve)$e.push(newScreenPoint(Qe.transform(Qe.clipMinimum),Xe)),$e.push(newScreenPoint(Qe.transform(Qe.clipMaximum),Xe))}getRotatedAlignments($e,Ve){const ze=(Ve+360)%360-180;let qe=$e>=Math.min(Ve,ze)&&$e<Math.max(Ve,ze)?HorizontalAlignment.Left:HorizontalAlignment.Right,Xe=VerticalAlignment.Middle;return Ve<0&&(qe=qe===HorizontalAlignment.Left?HorizontalAlignment.Right:HorizontalAlignment.Left),(Math.abs($e-ze)<10||Math.abs($e-Ve)<10)&&(qe=HorizontalAlignment.Center),Math.abs($e-Ve)<10&&(Xe=VerticalAlignment.Bottom),Math.abs($e-ze)<10&&(Xe=VerticalAlignment.Top),[qe,Xe]}}class MagnitudeAxisRenderer extends AxisRendererBase{constructor($e,Ve){super($e,Ve)}async render($e,Ve){await super.render($e,Ve);const ze=this.plot.defaultAngleAxis;if(!ze)throw new Error("Angle axis should not be null.");if(ze.updateActualMaxMin(),Ve===0&&this.extraPen){const qe=$e.extraGridlines;if(qe)for(let Xe=0;Xe<qe.length;Xe++)await this.renderTick($e,ze,qe[Xe],this.extraPen)}if(Ve===0&&this.minorPen)for(const qe of this.minorTickValues)await this.renderTick($e,ze,qe,this.minorPen);if(Ve===0&&this.majorPen)for(const qe of this.majorTickValues)await this.renderTick($e,ze,qe,this.majorPen);if(Ve===1)for(const qe of this.majorTickValues)await this.renderTickText($e,qe,ze)}static getActualAngle($e,Ve){const ze=$e.transformPoint(0,Ve.angle,Ve),qe=$e.transformPoint(1,Ve.angle,Ve);return Math.atan2(qe.y-ze.y,qe.x-ze.x)}static getTickTextAlignment($e){let Ve=HorizontalAlignment.Center,ze=VerticalAlignment.Bottom;return $e>3*Math.PI/4||$e<-3*Math.PI/4?(Ve=HorizontalAlignment.Center,ze=VerticalAlignment.Top):$e<-Math.PI/4?(Ve=HorizontalAlignment.Right,ze=VerticalAlignment.Middle):$e>Math.PI/4?(Ve=HorizontalAlignment.Left,ze=VerticalAlignment.Middle):(Ve=HorizontalAlignment.Center,ze=VerticalAlignment.Bottom),[Ve,ze]}async renderTick($e,Ve,ze,qe){Math.abs(Math.abs(Ve.endAngle-Ve.startAngle)-360)<1e-6&&!qe.actualDashArray?await this.renderTickCircle($e,Ve,ze,qe):await this.renderTickArc($e,Ve,ze,qe)}async renderTickCircle($e,Ve,ze,qe){const Xe=Ve.offset,We=$e.transformPoint($e.clipMinimum,Xe,Ve),Ke=$e.transformPoint(ze,Xe,Ve).x,Je=Ke-We.x,Ze=Je*2,Qe=Ke-Ze,St=We.y-Je,ei=Ze;await this.renderContext.drawEllipse(new OxyRect(Qe,St,Ze,ei),OxyColors.Undefined,qe.color,qe.thickness,$e.edgeRenderingMode)}async renderTickArc($e,Ve,ze,qe){const Xe=Ve.clipMinimum,We=Ve.clipMaximum,Ke=Math.round(90*Math.abs(Ve.endAngle-Ve.startAngle)/360),Je=(We-Xe)/(Ke-1),Ze=[];for(let Qe=0;Qe<Ke;Qe++){const St=Xe+Qe*Je;Ze.push($e.transformPoint(ze,St,Ve))}await this.renderContext.drawLine(Ze,qe.color,qe.thickness,$e.edgeRenderingMode,qe.actualDashArray)}async renderTickText($e,Ve,ze){const qe=MagnitudeAxisRenderer.getActualAngle($e,ze),Xe=$e.axisTickToLabelDistance*Math.sin(qe),We=-$e.axisTickToLabelDistance*Math.cos(qe),[Ke,Je]=MagnitudeAxisRenderer.getTickTextAlignment(qe);let Ze=$e.transformPoint(Ve,ze.angle,ze);Ze=newScreenPoint(Ze.x+Xe,Ze.y+We);const Qe=$e.formatValue(Ve);await MathRenderingExtensions.drawMathText(this.renderContext,Ze,Qe,$e.actualTextColor,$e.actualFont,$e.actualFontSize,$e.actualFontWeight,$e.angle,Ke,Je)}}class AngleAxisFullPlotAreaRenderer extends AxisRendererBase{constructor($e,Ve){super($e,Ve)}async render($e,Ve){const ze=$e;await super.render($e,Ve);const qe=this.plot.defaultMagnitudeAxis;if(!qe)throw new Error("Magnitude axis not defined.");const Xe=ze.startAngle/ze.scale,We=ze.endAngle/ze.scale,Ke=Math.abs(We-Xe);if(this.minorPen){const Qe=Math.abs(Ke/$e.actualMinorStep),St=this.minorTickValues.slice(0,Qe+1).map(ei=>this.transformToClientRectangle(qe.clipMaximum,ei,$e,this.plot.plotArea,qe.midPoint));for(const ei of St)await RenderingExtensions.drawLine(this.renderContext,qe.midPoint.x,qe.midPoint.y,ei.x,ei.y,this.minorPen,$e.edgeRenderingMode)}const Je=Math.abs(Math.abs(Math.max(ze.endAngle,ze.startAngle)-Math.min(ze.startAngle,ze.endAngle))-360)<.001;let Ze=Math.floor(Ke/$e.actualMajorStep);if(Je||Ze++,this.majorPen){const Qe=this.majorTickValues.slice(0,Ze).map(St=>this.transformToClientRectangle(qe.clipMaximum,St,$e,this.plot.plotArea,qe.midPoint));for(const St of Qe)await RenderingExtensions.drawLine(this.renderContext,qe.midPoint.x,qe.midPoint.y,St.x,St.y,this.majorPen,$e.edgeRenderingMode)}for(const Qe of this.majorLabelValues.slice(0,Ze)){const St=this.transformToClientRectangle(qe.clipMaximum,Qe,$e,this.plot.plotArea,qe.midPoint),ei=$e.formatValue(Qe);let ti=HorizontalAlignment.Center,ni=VerticalAlignment.Middle;const oi=this.plot.plotArea;let ai=St.y,si=St.x;ai<=oi.top?(ti=HorizontalAlignment.Center,ni=VerticalAlignment.Top,ai+=$e.axisTickToLabelDistance):ai>=oi.bottom?(ti=HorizontalAlignment.Center,ni=VerticalAlignment.Bottom,ai-=$e.axisTickToLabelDistance):si<=oi.left?(ti=HorizontalAlignment.Left,ni=VerticalAlignment.Middle,si+=$e.axisTickToLabelDistance):si>=oi.right&&(ti=HorizontalAlignment.Right,ni=VerticalAlignment.Middle,si-=$e.axisTickToLabelDistance);const ri=newScreenPoint(si,ai);await MathRenderingExtensions.drawMathText(this.renderContext,ri,ei,$e.actualTextColor,$e.actualFont,$e.actualFontSize,$e.actualFontWeight,0,ti,ni)}}transformToClientRectangle($e,Ve,ze,qe,Xe){let We=ScreenPoint_LeftTop,Ke=(Ve-ze.offset)*ze.scale;Ke%=360;const Je=Ke/180*Math.PI,Ze=Math.cos(Je),Qe=-Math.sin(Je);if(Ze!==0){let St=0;Ze>0?St=qe.right-Xe.x:Ze<0&&(St=qe.left-Xe.x);const ei=St/Ze;let ti=ei*Ze,ni=ei*Qe;if(ni+Xe.y>qe.bottom||ni+Xe.y<qe.top){let oi=0;Qe>0?oi=qe.bottom-Xe.y:oi=qe.top-Xe.y;const ai=oi/Qe;ti=ai*Ze,ni=ai*Qe,We=newScreenPoint(ai*Ze+Xe.x,ai*Qe+Xe.y)}else We=newScreenPoint(ti+Xe.x,ni+Xe.y)}return We}}const degree=180/Math.PI,rad=Math.PI/180,ee$1=class Is extends AxisRendererBase{constructor($e,Ve){super($e,Ve)}async render($e,Ve){await super.render($e,Ve);const ze=this.plot.defaultAngleAxis,qe=this.plot.defaultMagnitudeAxis;if(!ze)throw new Error("Angle axis should not be undefined.");ze.updateActualMaxMin();const Xe=Math.abs($e.plotModel.plotArea.top-qe.midPoint.y),We=Math.abs($e.plotModel.plotArea.bottom-qe.midPoint.y),Ke=Math.abs($e.plotModel.plotArea.left-qe.midPoint.x),Je=Math.abs($e.plotModel.plotArea.right-qe.midPoint.x),Ze=$e.plotModel.plotArea.offset(-qe.midPoint.x,-qe.midPoint.y),Qe=-degree*Math.atan2(Ze.top,Ze.right);let St=-degree*Math.atan2(Ze.top,Ze.left),ei=360-degree*Math.atan2(Ze.bottom,Ze.left);const ti=360-degree*Math.atan2(Ze.bottom,Ze.right);St<0&&(St+=360),ei>360&&(ei-=360);const ni=Math.sqrt(Math.pow(Ze.top,2)+Math.pow(Ze.right,2)),oi=Math.sqrt(Math.pow(Ze.top,2)+Math.pow(Ze.left,2)),ai=Math.sqrt(Math.pow(Ze.bottom,2)+Math.pow(Ze.left,2)),si=Math.sqrt(Math.pow(Ze.bottom,2)+Math.pow(Ze.right,2));if(Ve===0&&this.minorPen){const ri=this.minorPen;for(const ii of this.minorTickValues){const ui=$e.transform(ii);let ci=0,hi=90,mi=90,di=180,fi=180,yi=270,pi=270,xi=360;const Si=Je/ui,vi=Xe/ui,Di=Ke/ui,Ti=We/ui;ui>Je&&(xi=360-degree*Math.acos(Si),ci=degree*Math.acos(Si)),ui>Xe&&(hi=degree*Math.asin(vi),mi=180-degree*Math.asin(vi)),ui>Ke&&(di=180-degree*Math.acos(Di),fi=180+degree*Math.acos(Di)),ui>We&&(yi=180+degree*Math.asin(Ti),pi=360-degree*Math.asin(Ti)),ui<=ni&&(ci<Qe&&await this.renderTickArc($e,ze,ii,ri,ci+ze.offset,Qe+ze.offset),Qe<hi&&await this.renderTickArc($e,ze,ii,ri,Qe+ze.offset,hi+ze.offset)),ui<=oi&&(mi<St&&await this.renderTickArc($e,ze,ii,ri,mi+ze.offset,St+ze.offset),St<di&&await this.renderTickArc($e,ze,ii,ri,St+ze.offset,di+ze.offset)),ui<=ai&&(fi<ei&&await this.renderTickArc($e,ze,ii,ri,fi+ze.offset,ei+ze.offset),ei<yi&&await this.renderTickArc($e,ze,ii,ri,ei+ze.offset,yi+ze.offset)),ui<=si&&(pi<ti&&await this.renderTickArc($e,ze,ii,ri,pi+ze.offset,ti+ze.offset),ti<xi&&await this.renderTickArc($e,ze,ii,ri,ti+ze.offset,xi+ze.offset))}}if(Ve===0&&this.majorPen){const ri=this.majorPen;for(const ii of this.majorTickValues){const ui=$e.transform(ii);let ci=0,hi=90,mi=90,di=180,fi=180,yi=270,pi=270,xi=360;const Si=Je/ui,vi=Xe/ui,Di=Ke/ui,Ti=We/ui;ui>Je&&(xi=360-degree*Math.acos(Si),ci=degree*Math.acos(Si)),ui>Xe&&(hi=degree*Math.asin(vi),mi=180-degree*Math.asin(vi)),ui>Ke&&(di=180-degree*Math.acos(Di),fi=180+degree*Math.acos(Di)),ui>We&&(yi=180+degree*Math.asin(Ti),pi=360-degree*Math.asin(Ti)),ui<=ni&&(ci<Qe&&await this.renderTickArc($e,ze,ii,ri,ci+ze.offset,Qe+ze.offset),Qe<hi&&await this.renderTickArc($e,ze,ii,ri,Qe+ze.offset,hi+ze.offset)),ui<=oi&&(mi<St&&await this.renderTickArc($e,ze,ii,ri,mi+ze.offset,St+ze.offset),St<di&&await this.renderTickArc($e,ze,ii,ri,St+ze.offset,di+ze.offset)),ui<=ai&&(fi<ei&&await this.renderTickArc($e,ze,ii,ri,fi+ze.offset,ei+ze.offset),ei<yi&&await this.renderTickArc($e,ze,ii,ri,ei+ze.offset,yi+ze.offset)),ui<=si&&(pi<ti&&await this.renderTickArc($e,ze,ii,ri,pi+ze.offset,ti+ze.offset),ti<xi&&await this.renderTickArc($e,ze,ii,ri,ti+ze.offset,xi+ze.offset))}}if(Ve===1){const ri=RenderingExtensions.autoResetClip(this.renderContext,OxyRect.fromScreenPoints($e.screenMin,$e.screenMax));for(const ii of this.majorLabelValues)await this.renderTickText($e,ii,ze);ri.dispose()}}static getActualAngle($e,Ve){const ze=$e.transformPoint(0,Ve.angle,Ve),qe=$e.transformPoint(1,Ve.angle,Ve);return Math.atan2(qe.y-ze.y,qe.x-ze.x)}static getTickTextAligment($e){let Ve=HorizontalAlignment.Center,ze=VerticalAlignment.Bottom;return $e>3*Math.PI/4||$e<-3*Math.PI/4?(Ve=HorizontalAlignment.Center,ze=VerticalAlignment.Top):$e<-Math.PI/4?(Ve=HorizontalAlignment.Right,ze=VerticalAlignment.Middle):$e>Math.PI/4?(Ve=HorizontalAlignment.Left,ze=VerticalAlignment.Middle):(Ve=HorizontalAlignment.Center,ze=VerticalAlignment.Bottom),[Ve,ze]}async renderTickArc($e,Ve,ze,qe,Xe,We){let Ke=Is.maxSegments*Math.abs(We-Xe)/360;(Ve.fractionUnit===Math.PI||Ve.actualMaximum===2*Math.PI)&&(Ke=Is.maxSegments*Math.abs(We-Xe)/(2*Math.PI),Xe*=rad,We*=rad),Ke=Math.max(Ke,2),Ke=Math.min(Ke,Is.maxSegments);const Je=Math.abs(We-Xe)/(Ke-1),Ze=[];for(let Qe=0;Qe<Ke;Qe++){const St=Xe+Qe*Je,ei=$e.transformPoint(ze,St,Ve);Ze.push(ei)}await this.renderContext.drawLine(Ze,qe.color,qe.thickness,$e.edgeRenderingMode,qe.actualDashArray)}async renderTickText($e,Ve,ze){const qe=Is.getActualAngle($e,ze),Xe=$e.axisTickToLabelDistance*Math.sin(qe),We=-$e.axisTickToLabelDistance*Math.cos(qe),[Ke,Je]=Is.getTickTextAligment(qe);let Ze=$e.transformPoint(Ve,ze.angle,ze);Ze=newScreenPoint(Ze.x+Xe,Ze.y+We);const Qe=$e.formatValue(Ve);await MathRenderingExtensions.drawMathText(this.renderContext,Ze,Qe,$e.actualTextColor,$e.actualFont,$e.actualFontSize,$e.actualFontWeight,$e.angle,Ke,Je)}};D$1(ee$1,"maxSegments",180);let MagnitudeAxisFullPlotAreaRenderer=ee$1;class LogarithmicAxis extends Axis{constructor($e){super($e),D$1(this,"base"),D$1(this,"powerPadding"),D$1(this,"logActualMaximum",0),D$1(this,"logActualMinimum",0),D$1(this,"logClipMaximum",0),D$1(this,"logClipMinimum",0),this.powerPadding=!0,this.base=10,this.filterMinValue=0,$e&&Object.assign(this,removeUndef($e))}getTickValues(){let $e=[],Ve=[],ze=[];const qe=Math.abs(this.logClipMaximum-this.logClipMinimum),Xe=Math.abs(this.isVertical()?this.screenMax.y-this.screenMin.y:this.screenMax.x-this.screenMin.x)/this.intervalLength/qe,We=1/Math.floor(Xe),Ke=Math.round(this.base);if(Xe<.75){const Je=Math.pow(2,Math.ceil(Math.log(1/Xe)/Math.log(2)));$e=this.decadeTicks(Je),ze=this.decadeTicks(Math.ceil(Je/8))}else if(Math.abs(this.base-Ke)>1e-10)$e=this.decadeTicks(We),ze=this.decadeTicks(.5*We);else if(Xe<2)$e=this.decadeTicks(),ze=this.subdividedDecadeTicks();else{if(Xe>this.base*1.5)return super.getTickValues();{const Je=this.logSubdividedDecadeTicks(!1);if(Je.length<2)return super.getTickValues();const Ze=this.logCalculateMinorCandidates(Je,We);ze=this.powList(Ze,!0),$e=this.alignTicksToCandidates(Je,We)}}return Ve=$e,ze=AxisUtilities.filterRedundantMinorTicks($e,ze),{majorLabelValues:Ve,majorTickValues:$e,minorTickValues:ze}}isXyAxis(){return!0}isLogarithmic(){return!0}pan($e,Ve){if(!this.isPanEnabled)return;const ze=this.isHorizontal(),qe=this.inverseTransform(ze?$e.x:$e.y),Xe=this.inverseTransform(ze?Ve.x:Ve.y);if(Math.abs(Xe)<=0)return;const We=this.actualMinimum,Ke=this.actualMaximum,Je=qe/Xe;let Ze=this.actualMinimum*Je,Qe=this.actualMaximum*Je;Ze<this.absoluteMinimum&&(Ze=this.absoluteMinimum,Qe=Ze*this.actualMaximum/this.actualMinimum),Qe>this.absoluteMaximum&&(Qe=this.absoluteMaximum,Ze=Qe*this.actualMinimum/this.actualMaximum),this.viewMinimum=Ze,this.viewMaximum=Qe;const St=this.actualMinimum-We,ei=this.actualMaximum-Ke;this.onAxisChanged({changeType:AxisChangeTypes.Pan,deltaMinimum:St,deltaMaximum:ei})}inverseTransform($e){return Math.exp($e/this.scale+this.offset)}transform($e){return $e<=0?-1:(Math.log($e)-this.offset)*this.scale}zoomAt($e,Ve){if(!this.isZoomEnabled)return;const ze=this.actualMinimum,qe=this.actualMaximum,Xe=this.preTransform(Ve),We=this.preTransform(this.actualMinimum)-Xe,Ke=this.preTransform(this.actualMaximum)-Xe,Je=this.postInverseTransform(We/$e+Xe),Ze=this.postInverseTransform(Ke/$e+Xe),Qe=Math.max(Je,this.absoluteMinimum),St=Math.min(Ze,this.absoluteMaximum);this.viewMinimum=Qe,this.viewMaximum=St,this.updateActualMaxMin();const ei=this.actualMinimum-ze,ti=this.actualMaximum-qe;this.onAxisChanged({changeType:AxisChangeTypes.Zoom,deltaMinimum:ei,deltaMaximum:ti})}powList($e,Ve=!1){return $e.filter(ze=>!Ve||!(ze<this.logClipMinimum)).filter(ze=>!Ve||!(ze>this.logClipMaximum)).map(ze=>Math.pow(this.base,ze))}logList($e,Ve=!1){return $e.filter(ze=>!Ve||!(ze<this.clipMinimum)).filter(ze=>!Ve||!(ze>this.clipMaximum)).map(ze=>Math.log(ze)/Math.log(this.base))}decadeTicks($e=1){return this.powList(this.logDecadeTicks($e))}logDecadeTicks($e=1){const Ve=[];if($e<=0)return Ve;let ze=Number.NaN;for(let qe=Math.ceil(this.logClipMinimum);qe<=this.logClipMaximum&&!(qe<=ze);qe+=$e)ze=qe,qe>=this.logClipMinimum&&Ve.push(qe);return Ve}logSubdividedDecadeTicks($e=!0){return this.logList(this.subdividedDecadeTicks($e))}subdividedDecadeTicks($e=!0){const Ve=[];for(let ze=Math.floor(this.logClipMinimum);!(ze>this.logClipMaximum);ze++){const qe=Math.pow(this.base,ze);for(let Xe=1;Xe<this.base;Xe++){const We=qe*Xe;if(!($e&&We<this.clipMinimum)){if($e&&We>this.clipMaximum)break;Ve.push(qe*Xe)}}}return Ve}alignTicksToCandidates($e,Ve){return this.powList(this.logAlignTicksToCandidates($e,Ve))}logAlignTicksToCandidates($e,Ve){const ze=[];let qe=1,Xe=Number.NaN;for(let We=Math.floor(this.logClipMinimum);;We+=Ve){if(We<this.logClipMinimum-Ve)continue;if(We>this.logClipMaximum+Ve)break;for(;qe<$e.length-1&&$e[qe]<We;)qe++;const Ke=Math.abs($e[qe]-We)<Math.abs($e[qe-1]-We)?$e[qe]:$e[qe-1];Ke!=Xe&&Ke>=this.logClipMinimum&&Ke<=this.logClipMaximum&&ze.push(Ke),Xe=Ke}return ze}logCalculateMinorCandidates($e,Ve){const ze=[];for(let qe=1;qe<$e.length;qe++){const Xe=$e[qe-1],We=$e[qe];if(!(We<this.logClipMinimum)){if(Xe>this.logClipMaximum)break;(We-Xe)/Ve>2&&this.logSubdivideInterval(ze,this.base,Xe,We),ze.push(We)}}return ze}logSubdivideInterval($e,Ve,ze,qe){let Xe=1;const We=Math.round(this.base);if(Ve<2)return;if(Math.abs(this.base-We)>this.base*1e-10)Xe=Math.round(Ve);else if(We&We-1)for(We!=10&&(Xe=We);!(Xe>=Ve||(Xe*=2,Xe>=Ve)||(Xe=Math.round(Xe*2.5),Xe>=Ve));)Xe*=2;else for(;Xe<Ve;)Xe*=2;const Ke=Math.pow(this.base,ze),Je=Math.pow(this.base,qe);for(let Ze=1;Ze<Xe;Ze++){const Qe=Ze/Xe,St=Math.log(Ke+(Je-Ke)*Qe)/Math.log(this.base);$e.push(St)}}updateActualMaxMin(){if(this.powerPadding){const $e=Math.log(this.base),Ve=Math.floor(Math.log(this.actualMinimum)/$e),ze=Math.ceil(Math.log(this.actualMaximum)/$e);isNaN(this.actualMinimum)||(this.actualMinimum=round(Math.exp(Ve*$e),14)),isNaN(this.actualMaximum)||(this.actualMaximum=round(Math.exp(ze*$e),14))}super.updateActualMaxMin(),this.actualMinimum<=0&&(this.actualMinimum=.1)}actualMaximumAndMinimumChangedOverride(){this.logActualMinimum=log$1(this.actualMinimum,this.base),this.logActualMaximum=log$1(this.actualMaximum,this.base),this.logClipMinimum=log$1(this.clipMinimum,this.base),this.logClipMaximum=log$1(this.clipMaximum,this.base)}postInverseTransform($e){return Math.exp($e)}preTransform($e){if($e<=0)throw new Error("Value should be positive.");return $e<=0?0:Math.log($e)}coerceActualMaxMin(){(isNaN(this.actualMinimum)||isInfinity(this.actualMinimum))&&(this.actualMinimum=1),this.actualMinimum<=0&&(this.actualMinimum=1),this.actualMaximum<=this.actualMinimum&&(this.actualMaximum=this.actualMinimum*100),super.coerceActualMaxMin()}calculateActualMaximum(){let $e=this.dataMaximum;if(this.dataMaximum-this.dataMinimum<Number.EPSILON){const Ve=this.dataMaximum>0?this.dataMaximum:1;$e+=Ve*.5}if(!isNaN(this.dataMinimum)&&!isNaN($e)){const Ve=$e,ze=this.dataMinimum;return Math.pow(Ve,this.maximumPadding+1)*(ze>Number.EPSILON?Math.pow(ze,-this.maximumPadding):1)}return $e}calculateActualMinimum(){let $e=this.dataMinimum;if(this.dataMaximum-this.dataMinimum<Number.EPSILON){const Ve=this.dataMaximum>0?this.dataMaximum:1;$e-=Ve*.5}if(!isNaN(this.actualMaximum)){const Ve=this.actualMaximum,ze=$e,qe=this.maximumPadding;return Math.pow(ze,1+this.minimumPadding-this.minimumPadding*qe/(1+qe))*Math.pow(Ve,-this.minimumPadding/(1+qe))}return $e}}var DateTimeIntervalType=(je=>(je[je.Auto=0]="Auto",je[je.Manual=1]="Manual",je[je.Milliseconds=2]="Milliseconds",je[je.Seconds=3]="Seconds",je[je.Minutes=4]="Minutes",je[je.Hours=5]="Hours",je[je.Days=6]="Days",je[je.Weeks=7]="Weeks",je[je.Months=8]="Months",je[je.Years=9]="Years",je))(DateTimeIntervalType||{});const Lt$1=class eo extends LinearAxis{constructor($e){super($e),D$1(this,"actualIntervalType",DateTimeIntervalType.Auto),D$1(this,"actualMinorIntervalType",DateTimeIntervalType.Auto),D$1(this,"_dateService"),D$1(this,"firstDayOfWeek"),D$1(this,"intervalType"),D$1(this,"minorIntervalType",DateTimeIntervalType.Auto),D$1(this,"timeZone"),this.position=AxisPosition.Bottom,this.intervalType=DateTimeIntervalType.Auto,this.firstDayOfWeek=DayOfWeek.Monday,this._dateService=getDateService(),$e&&Object.assign(this,removeUndef($e))}static createDataPoint($e,Ve){return newDataPoint(eo.toDouble($e),Ve)}static toDateTime($e){return isNaN($e)||$e<eo.MinDayValue||$e>eo.MaxDayValue?new Date:getDateService().addTimespan(eo.TimeOrigin,TimeSpan.fromDays($e-1))}static toDouble($e){return getDateService().diff($e,eo.TimeOrigin).totalDays+1}itemToDouble($e){return $e instanceof Date?eo.toDouble($e):super.itemToDouble($e)}getTickValues(){let $e=this.createDateTimeTickValues(this.clipMinimum,this.clipMaximum,this.actualMinorStep,this.actualMinorIntervalType);const Ve=this.createDateTimeTickValues(this.clipMinimum,this.clipMaximum,this.actualMajorStep,this.actualIntervalType),ze=Ve;return $e=AxisUtilities.filterRedundantMinorTicks(Ve,$e),{majorLabelValues:ze,majorTickValues:Ve,minorTickValues:$e}}getValue($e){const Ve=eo.toDateTime($e);return this.timeZone?this._dateService.convertTime(Ve,this.timeZone):Ve}updateIntervals($e){super.updateIntervals($e);const Ve=!isNullOrUndef(this.stringFormatter);switch(this.actualIntervalType){case DateTimeIntervalType.Years:this.actualMinorStep=31,this.actualMinorIntervalType=DateTimeIntervalType.Years,Ve||(this.actualStringFormatter=ze=>this._dateService.format(ze,"YYYY"));break;case DateTimeIntervalType.Months:this.actualMinorIntervalType=DateTimeIntervalType.Months,Ve||(this.actualStringFormatter=ze=>this._dateService.format(ze,"YYYY-MM-DD"));break;case DateTimeIntervalType.Weeks:this.actualMinorIntervalType=DateTimeIntervalType.Days,this.actualMajorStep=7,this.actualMinorStep=1,Ve||(this.actualStringFormatter=ze=>this._dateService.format(ze,"YYYY/ww"));break;case DateTimeIntervalType.Days:this.actualMinorStep=this.actualMajorStep,Ve||(this.actualStringFormatter=ze=>this._dateService.format(ze,"YYYY-MM-DD"));break;case DateTimeIntervalType.Hours:this.actualMinorStep=this.actualMajorStep,Ve||(this.actualStringFormatter=ze=>this._dateService.format(ze,"HH:mm"));break;case DateTimeIntervalType.Minutes:this.actualMinorStep=this.actualMajorStep,Ve||(this.actualStringFormatter=ze=>this._dateService.format(ze,"HH:mm"));break;case DateTimeIntervalType.Seconds:this.actualMinorStep=this.actualMajorStep,Ve||(this.actualStringFormatter=ze=>this._dateService.format(ze,"HH:mm:ss"));break;case DateTimeIntervalType.Milliseconds:this.actualMinorStep=this.actualMajorStep,Ve||(this.actualStringFormatter=ze=>this._dateService.format(ze,"HH:mm:ss.SSS"));break;case DateTimeIntervalType.Manual:break;case DateTimeIntervalType.Auto:break}}getDefaultStringFormatter(){return $e=>this._dateService.format($e,"yyyy-MM-dd")}formatValueOverride($e){let Ve=eo.toDateTime($e);this.timeZone&&(Ve=this._dateService.convertTime(Ve,this.timeZone));const ze=this.actualStringFormatter;return ze?ze(Ve):Ve.toLocaleDateString()}calculateActualInterval($e,Ve,ze,qe,Xe){const We=.041666666666666664,Ke=We/60,Je=Ke/60,Ze=Je/1e3;Xe=Math.abs(this.clipMinimum-this.clipMaximum);const Qe=[Ze,2*Ze,10*Ze,100*Ze,Je,2*Je,5*Je,10*Je,30*Je,Ke,2*Ke,5*Ke,10*Ke,30*Ke,We,4*We,8*We,12*We,1,2*1,5*1,7,2*7,30.5,2*30.5,3*30.5,4*30.5,6*30.5,365.25];let St=Qe[0];for(ze=Math.max(ze,0),qe=Math.min(qe,Math.max(Math.floor($e/Ve),2));!(Xe/St<qe);){let ei=Qe.find(ti=>ti>St);if(isUndef(ei))throw new Error(`cannot calculate interval,range=${Xe}`);if(Math.abs(ei)<=0&&(ei=St*2),Xe/ei<ze)break;St=ei}if(this.actualIntervalType=this.intervalType,this.actualMinorIntervalType=this.minorIntervalType,this.intervalType===DateTimeIntervalType.Auto&&(this.actualIntervalType=DateTimeIntervalType.Milliseconds,St>=1/24/60/60&&(this.actualIntervalType=DateTimeIntervalType.Seconds),St>=1/24/60&&(this.actualIntervalType=DateTimeIntervalType.Minutes),St>=1/24&&(this.actualIntervalType=DateTimeIntervalType.Hours),St>=1&&(this.actualIntervalType=DateTimeIntervalType.Days),St>=30&&(this.actualIntervalType=DateTimeIntervalType.Months),Xe>=365.25&&(this.actualIntervalType=DateTimeIntervalType.Years)),this.actualIntervalType===DateTimeIntervalType.Months){const ei=Xe/30.5;St=super.calculateActualInterval($e,Ve,this.minimumMajorIntervalCount,this.maximumMajorIntervalCount,ei)}if(this.actualIntervalType===DateTimeIntervalType.Years){const ei=Xe/365.25;St=super.calculateActualInterval($e,Ve,this.minimumMajorIntervalCount,this.maximumMajorIntervalCount,ei)}if(this.actualMinorIntervalType===DateTimeIntervalType.Auto)switch(this.actualIntervalType){case DateTimeIntervalType.Years:this.actualMinorIntervalType=DateTimeIntervalType.Months;break;case DateTimeIntervalType.Months:this.actualMinorIntervalType=DateTimeIntervalType.Days;break;case DateTimeIntervalType.Weeks:this.actualMinorIntervalType=DateTimeIntervalType.Days;break;case DateTimeIntervalType.Days:this.actualMinorIntervalType=DateTimeIntervalType.Hours;break;case DateTimeIntervalType.Hours:this.actualMinorIntervalType=DateTimeIntervalType.Minutes;break;default:this.actualMinorIntervalType=DateTimeIntervalType.Days;break}return St}createDateTickValues($e,Ve,ze,qe){const Xe=[];let We=eo.toDateTime($e);if(!We)return Xe;let Ke=0;switch(qe){case DateTimeIntervalType.Weeks:Ke=this._dateService.dayOfWeek(We),We=this._dateService.addTimespan(We,TimeSpan.fromDays(-Ke+this.firstDayOfWeek));break;case DateTimeIntervalType.Months:We=new Date(We.getFullYear(),We.getMonth(),1);break;case DateTimeIntervalType.Years:We=new Date(We.getFullYear(),0,1);break}const Je=this._dateService.addTimespan(eo.toDateTime(Ve),TimeSpan.fromMilliseconds(1));if(!Je)return Xe;let Ze=We;const Qe=ze*.001,St=eo.toDateTime($e-Qe),ei=eo.toDateTime(Ve+Qe);if(!St||!ei)return Xe;for(;Ze<Je;)switch(Ze>St&&Ze<ei&&Xe.push(eo.toDouble(Ze)),qe){case DateTimeIntervalType.Months:Ze=this._dateService.addMonths(Ze,Math.ceil(ze));break;case DateTimeIntervalType.Years:Ze=this._dateService.addYears(Ze,Math.ceil(ze));break;default:Ze=this._dateService.addTimespan(Ze,TimeSpan.fromDays(ze));break}return Xe}createDateTimeTickValues($e,Ve,ze,qe){return qe>DateTimeIntervalType.Days?this.createDateTickValues($e,Ve,ze,qe):this.createTickValues($e,Ve,ze)}};D$1(Lt$1,"TimeOrigin",new Date(Date.UTC(1901,0,1,0,0,0))),D$1(Lt$1,"MaxDayValue",TimeSpan.fromMilliseconds(DateTime_MaxValue.getTime()-Lt$1.TimeOrigin.getTime()).totalDays),D$1(Lt$1,"MinDayValue",TimeSpan.fromMilliseconds(DateTime_MinValue.getTime()-Lt$1.TimeOrigin.getTime()).totalDays);let DateTimeAxis=Lt$1;class TimeSpanAxis extends LinearAxis{static toDouble($e){return $e.totalSeconds}itemToDouble($e){return $e instanceof TimeSpan?TimeSpanAxis.toDouble($e):super.itemToDouble($e)}static toTimeSpan($e){return TimeSpan.fromSeconds($e)}getValue($e){return TimeSpanAxis.toTimeSpan($e)}getDefaultStringFormatter(){function $e(Ve){return Ve.toString().padStart(2,"0")}return Ve=>`${Ve.hours}:${$e(Ve.minutes)}:${$e(Ve.seconds)}`}formatValueOverride($e){const Ve=TimeSpanAxis.toTimeSpan($e),ze=this.actualStringFormatter??this.stringFormatter;return ze?ze(Ve):Ve.toString()}calculateActualInterval($e,Ve,ze,qe){const Xe=Math.abs(this.clipMinimum-this.clipMaximum);let We=1;const Ke=[1,5,10,30,60,120,300,600,900,1200,1800,3600];for(ze=Math.max(ze,0),qe=Math.min(qe,Math.max(Math.floor($e/Ve),2));!(Xe/We<qe);){let Je=Ke.find(Ze=>Ze>We);if(Je||(Je=We*2),Xe/Je<ze)break;We=Je}return We}}class LinearColorAxis extends LinearAxis{constructor($e){super($e),D$1(this,"invalidNumberColor"),D$1(this,"highColor"),D$1(this,"lowColor"),D$1(this,"palette"),D$1(this,"renderAsImage",!1),this.position=AxisPosition.None,this.axisDistance=20,this.isPanEnabled=!1,this.isZoomEnabled=!1,this.palette=OxyPalettes.viridis(),this.lowColor=OxyColors.Undefined,this.highColor=OxyColors.Undefined,this.invalidNumberColor=OxyColors.Gray,$e&&Object.assign(this,removeUndef($e))}isXyAxis(){return!1}getColor($e){return assertInteger($e,"paletteIndex"),$e===Number_MIN_VALUE?this.invalidNumberColor:$e===0?this.lowColor:$e===this.palette.colors.length+1?this.highColor:this.palette.colors[$e-1]}getColors(){return[this.lowColor,...this.palette.colors,this.highColor]}getPaletteIndex($e){if(isNaN($e))return Number_MIN_VALUE;if(!this.lowColor.isUndefined()&&$e<this.clipMinimum)return 0;if(!this.highColor.isUndefined()&&$e>this.clipMaximum)return this.palette.colors.length+1;let Ve=1+Math.floor(($e-this.clipMinimum)/(this.clipMaximum-this.clipMinimum)*this.palette.colors.length);return Ve<1&&(Ve=1),Ve>this.palette.colors.length&&(Ve=this.palette.colors.length),Ve}async render($e,Ve){if(this.position!==AxisPosition.None){if(this.palette===void 0)throw new Error("No Palette defined for color axis.");if(Ve===0){const ze=this.axisDistance;let qe=this.plotModel.plotArea.left,Xe=this.plotModel.plotArea.top;const We=this.majorTickSize-2,Ke=this.majorTickSize-2;switch(this.position){case AxisPosition.Left:qe=this.plotModel.plotArea.left-this.positionTierMinShift-We-ze,Xe=this.plotModel.plotArea.top;break;case AxisPosition.Right:qe=this.plotModel.plotArea.right+this.positionTierMinShift+ze,Xe=this.plotModel.plotArea.top;break;case AxisPosition.Top:qe=this.plotModel.plotArea.left,Xe=this.plotModel.plotArea.top-this.positionTierMinShift-Ke-ze;break;case AxisPosition.Bottom:qe=this.plotModel.plotArea.left,Xe=this.plotModel.plotArea.bottom+this.positionTierMinShift+ze;break}if(this.renderAsImage){const Je=this.transform(this.clipMaximum)-this.transform(this.clipMinimum),Ze=Je>0,Qe=Math.abs(Je);if(this.isHorizontal()){const St=await this.generateColorAxisImage(Ze);await RenderingExtensions.drawImage($e,St,qe,Xe,Qe,Ke,1,!0)}else{const St=await this.generateColorAxisImage(Ze);await RenderingExtensions.drawImage($e,St,qe,Xe,We,Qe,1,!0)}}else{const Je=async(St,ei,ti)=>{const ni=Math.min(St,ei),oi=Math.max(St,ei)+.5;await $e.drawRectangle(this.isHorizontal()?new OxyRect(ni,Xe,oi-ni,Ke):new OxyRect(qe,ni,We,oi-ni),ti,OxyColors.Undefined,0,this.edgeRenderingMode)},Ze=this.palette.colors.length;for(let St=0;St<Ze;St++){const ei=this.transform(this.getLowValue(St)),ti=this.transform(this.getHighValue(St));await Je(ei,ti,this.palette.colors[St])}let Qe=10;if(this.isHorizontal()&&(Qe*=-1),!this.lowColor.isUndefined()){const St=this.transform(this.clipMinimum);await Je(St,St+Qe,this.lowColor)}if(!this.highColor.isUndefined()){const St=this.transform(this.clipMaximum);await Je(St,St-Qe,this.highColor)}}}await super.render($e,Ve)}}getHighValue($e){return this.getLowValue($e+1)}getLowValue($e){return $e/this.palette.colors.length*(this.clipMaximum-this.clipMinimum)+this.clipMinimum}generateColorAxisImage($e){const Ve=this.palette.colors.length,ze=this.isHorizontal()?Ve:1,qe=this.isHorizontal()?1:Ve,Xe=new TwoDimensionalArray(ze,qe);for(let We=0;We<Ve;We++){const Ke=this.palette.colors[We],Je=$e?Ve-1-We:We;this.isHorizontal()?Xe.set(Je,0,Ke):Xe.set(0,Je,Ke)}return OxyImage.create(Xe,ImageFormat.Png)}}class RangeColorAxis extends LinearAxis{constructor($e){super($e),D$1(this,"ranges",[]),D$1(this,"invalidNumberColor"),D$1(this,"highColor"),D$1(this,"lowColor"),this.position=AxisPosition.None,this.axisDistance=20,this.lowColor=OxyColors.Undefined,this.highColor=OxyColors.Undefined,this.invalidNumberColor=OxyColors.Gray,this.isPanEnabled=!1,this.isZoomEnabled=!1,$e&&Object.assign(this,$e)}addRange($e,Ve,ze){this.ranges.push({lowerBound:$e,upperBound:Ve,color:ze})}clearRanges(){this.ranges.length=0}getPaletteIndex($e){if(!this.lowColor.isUndefined()&&$e<this.ranges[0].lowerBound)return-1;if(!this.highColor.isUndefined()&&$e>this.ranges[this.ranges.length-1].upperBound)return this.ranges.length;for(let Ve=0;Ve<this.ranges.length;Ve++){const ze=this.ranges[Ve];if(ze.lowerBound<=$e&&ze.upperBound>$e)return Ve}return Number_MIN_VALUE}getColor($e){return $e===Number_MIN_VALUE?this.invalidNumberColor:$e===-1?this.lowColor:$e===this.ranges.length?this.highColor:this.ranges[$e].color}async render($e,Ve){if(this.position!==AxisPosition.None){if(Ve===0){const ze=this.axisDistance;let qe=this.plotModel.plotArea.left,Xe=this.plotModel.plotArea.top;const We=this.majorTickSize-2,Ke=this.majorTickSize-2,Je=0;switch(this.position){case AxisPosition.Left:qe=this.plotModel.plotArea.left-Je-We-ze,Xe=this.plotModel.plotArea.top;break;case AxisPosition.Right:qe=this.plotModel.plotArea.right+Je+ze,Xe=this.plotModel.plotArea.top;break;case AxisPosition.Top:qe=this.plotModel.plotArea.left,Xe=this.plotModel.plotArea.top-Je-Ke-ze;break;case AxisPosition.Bottom:qe=this.plotModel.plotArea.left,Xe=this.plotModel.plotArea.bottom+Je+ze;break}const Ze=async(ti,ni,oi)=>{const ai=Math.min(ti,ni),si=Math.max(ti,ni);await $e.drawRectangle(this.isHorizontal()?new OxyRect(ai,Xe,si-ai,Ke):new OxyRect(qe,ai,We,si-ai),oi,OxyColors.Undefined,0,this.edgeRenderingMode)},Qe=this.transform(this.isReversed?this.actualMinimum:this.actualMaximum),St=this.transform(this.isReversed?this.actualMaximum:this.actualMinimum);for(const ti of this.ranges){let ni=this.transform(ti.lowerBound),oi=this.transform(ti.upperBound);this.isHorizontal()?(ni<St&&(ni=St),oi>Qe&&(oi=Qe)):(ni>St&&(ni=St),oi<Qe&&(oi=Qe)),await Ze(ni,oi,ti.color)}let ei=10;if(this.isHorizontal()&&(ei*=-1),!this.lowColor.isUndefined()){const ti=this.transform(this.actualMinimum);await Ze(ti,ti+ei,this.lowColor)}if(!this.highColor.isUndefined()){const ti=this.transform(this.actualMaximum);await Ze(ti,ti-ei,this.highColor)}}await new HorizontalAndVerticalAxisRenderer($e,this.plotModel).render(this,Ve)}}}class MagnitudeAxisFullPlotArea extends MagnitudeAxis{constructor($e){super($e),D$1(this,"_midShiftH",0),D$1(this,"_midShiftV",0),this.position=AxisPosition.None,this.isPanEnabled=!0,this.isZoomEnabled=!1,this.majorGridlineStyle=LineStyle.Solid,this.minorGridlineStyle=LineStyle.Solid,$e&&Object.assign(this,$e)}get midShiftH(){return this._midShiftH}set midShiftH($e){this._midShiftH=$e,this._midShiftH=Math.max(this._midShiftH,-.5),this._midShiftH=Math.min(this._midShiftH,.5)}get midShiftV(){return this._midShiftV}set midShiftV($e){this._midShiftV=$e,this._midShiftV=Math.max(this._midShiftV,-.5),this._midShiftV=Math.min(this._midShiftV,.5)}async render($e,Ve){await new MagnitudeAxisFullPlotAreaRenderer($e,this.plotModel).render(this,Ve)}getTickValues(){const $e=OxyRect.fromScreenPoints(this.screenMin,this.screenMax),Ve=screenPointDistanceTo($e.topLeft,this.midPoint),ze=screenPointDistanceTo($e.topRight,this.midPoint),qe=screenPointDistanceTo($e.bottomRight,this.midPoint),Xe=screenPointDistanceTo($e.bottomLeft,this.midPoint);let We=Math.max(Ve,ze);We=Math.max(We,qe),We=Math.max(We,Xe);const Ke=this.inverseTransform(We),Je=AxisUtilities.createTickValues(this.actualMinimum,Ke,this.actualMajorStep);let Ze=AxisUtilities.createTickValues(this.actualMinimum,Ke,this.actualMinorStep);return Ze=AxisUtilities.filterRedundantMinorTicks(Je,Ze),{majorLabelValues:Je,majorTickValues:Je,minorTickValues:Ze}}updateTransform($e){const Ve=$e.left,ze=$e.right,qe=$e.bottom,Xe=$e.top;this.screenMin=newScreenPoint(Ve,Xe),this.screenMax=newScreenPoint(ze,qe),this.midPoint=newScreenPoint((Ve+ze)/2+this.midShiftH*$e.width,(qe+Xe)/2+this.midShiftV*$e.height);const We=Math.min(Math.abs(ze-Ve),Math.abs(Xe-qe));let Ke=0,Je=We*.5;const Ze=Je-Ke;Je=Ke+this.endPosition*Ze,Ke=Ke+this.startPosition*Ze;const Qe=this.isReversed?-1:1;this.minimumDataMargin>0&&(Ke+=this.minimumDataMargin*Qe),this.maximumDataMargin>0&&(Je-=this.maximumDataMargin*Qe),this.actualMaximum-this.actualMinimum<=0&&(this.actualMaximum=this.actualMinimum+1);const St=this.preTransform(this.actualMaximum),ei=this.preTransform(this.actualMinimum),ti=Ke-Je;let ni,oi;Math.abs(ti)>Number.EPSILON?ni=Ke/ti*St-Je/ti*ei:ni=0;const ai=St-ei;Math.abs(ai)>Number.EPSILON?oi=(Je-Ke)/ai:oi=1,this.setTransform(oi,ni),this.minimumDataMargin>0?this.clipMinimum=this.inverseTransform(0):this.clipMinimum=this.actualMinimum,this.maximumDataMargin>0?this.clipMaximum=this.inverseTransform(We*.5):this.clipMaximum=this.actualMaximum,this.actualMaximumAndMinimumChangedOverride()}pan($e,Ve){if(!this.isPanEnabled)return;const ze=Ve.x-$e.x,qe=Ve.y-$e.y,Xe=ze/this.plotModel.plotArea.width,We=qe/this.plotModel.plotArea.height;this.midShiftH+=Xe,this.midShiftV+=We,this.onAxisChanged({changeType:AxisChangeTypes.Pan,deltaMinimum:0,deltaMaximum:0})}zoomAt($e,Ve){this.isZoomEnabled&&super.zoomAt($e,0)}}class ColorAxisExtensions{static getColor($e,Ve){return $e.getColor($e.getPaletteIndex(Ve))}}class CategoryColorAxis extends CategoryAxis{constructor($e){super($e),D$1(this,"invalidCategoryColor",OxyColors.Undefined),D$1(this,"palette"),this.palette=new OxyPalette,$e&&Object.assign(this,$e)}getColor($e){return $e===-1?this.invalidCategoryColor:$e>=this.palette.colors.length?this.invalidCategoryColor:this.palette.colors[$e]}getPaletteIndex($e){return Math.floor($e)}async render($e,Ve){if(this.position!==AxisPosition.None){if(Ve===0){let ze=this.plotModel.plotArea.left,qe=this.plotModel.plotArea.top;const Xe=this.majorTickSize-2,We=this.majorTickSize-2;switch(this.position){case AxisPosition.Left:ze=this.plotModel.plotArea.left-this.positionTierMinShift-Xe,qe=this.plotModel.plotArea.top;break;case AxisPosition.Right:ze=this.plotModel.plotArea.right+this.positionTierMinShift,qe=this.plotModel.plotArea.top;break;case AxisPosition.Top:ze=this.plotModel.plotArea.left,qe=this.plotModel.plotArea.top-this.positionTierMinShift-We;break;case AxisPosition.Bottom:ze=this.plotModel.plotArea.left,qe=this.plotModel.plotArea.bottom+this.positionTierMinShift;break}const Ke=async(Qe,St,ei)=>{const ti=Math.min(Qe,St),ni=Math.max(Qe,St);await $e.drawRectangle(this.isHorizontal()?new OxyRect(ti,qe,ni-ti,We):new OxyRect(ze,ti,Xe,ni-ti),ei,OxyColors.Undefined,0,this.edgeRenderingMode)},{majorLabelValues:Je}=this.getTickValues(),Ze=this.palette.colors.length;for(let Qe=0;Qe<Ze;Qe++){const St=this.transform(this.getLowValue(Qe,Je)),ei=this.transform(this.getHighValue(Qe,Je));await Ke(St,ei,this.palette.colors[Qe])}}await super.render($e,Ve)}}getHighValue($e,Ve){return $e>=this.palette.colors.length-1?this.clipMaximum:(Ve[$e]+Ve[$e+1])/2}getLowValue($e,Ve){return $e===0?this.clipMinimum:(Ve[$e-1]+Ve[$e])/2}}const DataPoint_Undefined=Object.freeze({x:NaN,y:NaN}),DataPoint_Zero=Object.freeze({x:0,y:0});function DataPoint_isUnDefined(je){return isNaN(je.x)&&isNaN(je.y)}function DataPoint_isDefined(je){return!DataPoint_isUnDefined(je)}function newDataPoint(je,$e){return{x:je,y:$e}}function isDataPoint(je){return je&&typeof je.x=="number"&&typeof je.y=="number"}function dataPointMinus(je,$e){return new DataVector(je.x-$e.x,je.y-$e.y)}function dataPointMinusVector(je,$e){return newDataPoint(je.x-$e.x,je.y-$e.y)}function dataPointPlus(je,$e){return newDataPoint(je.x+$e.x,je.y+$e.y)}function dataPointEquals(je,$e){return je.x===$e.x&&je.y===$e.y}const ie$1=class ha{constructor($e,Ve){D$1(this,"_x"),D$1(this,"_y"),this._x=$e,this._y=Ve}get length(){return Math.sqrt(this._x*this._x+this._y*this._y)}get lengthSquared(){return this._x*this._x+this._y*this._y}get x(){return this._x}get y(){return this._y}times($e){const Ve=this;return new ha(Ve._x*$e,Ve._y*$e)}plus($e){const Ve=this;return new ha(Ve._x+$e._x,Ve._y+$e._y)}minus($e){const Ve=this;return new ha(Ve._x-$e._x,Ve._y-$e._y)}negate(){const $e=this;return new ha(-$e._x,-$e._y)}equals($e){return this._x===$e._x&&this._y===$e._y}toString(){return`${this._x} ${this._y}`}isDefined(){return this._x===this._x&&this._y===this._y}};D$1(ie$1,"Undefined",new ie$1(NaN,NaN));let DataVector=ie$1;function isDataPointProvider(je){return je.getDataPoint&&typeof je.getDataPoint=="function"}var MarkerType=(je=>(je[je.None=0]="None",je[je.Circle=1]="Circle",je[je.Square=2]="Square",je[je.Diamond=3]="Diamond",je[je.Triangle=4]="Triangle",je[je.Cross=5]="Cross",je[je.Plus=6]="Plus",je[je.Star=7]="Star",je[je.Custom=8]="Custom",je))(MarkerType||{}),PlotLengthUnit=(je=>(je[je.Data=0]="Data",je[je.ScreenUnits=1]="ScreenUnits",je[je.RelativeToViewport=2]="RelativeToViewport",je[je.RelativeToPlotArea=3]="RelativeToPlotArea",je))(PlotLengthUnit||{});class PlotLength{constructor($e,Ve){D$1(this,"_unit"),D$1(this,"_value"),this._value=$e,this._unit=Ve}get value(){return this._value}get unit(){return this._unit}equals($e){return this._value===$e.value&&this._unit===$e.unit}}var CursorType=(je=>(je[je.Default=0]="Default",je[je.Pan=1]="Pan",je[je.ZoomRectangle=2]="ZoomRectangle",je[je.ZoomHorizontal=3]="ZoomHorizontal",je[je.ZoomVertical=4]="ZoomVertical",je))(CursorType||{});function newElementCollection(je){const $e=[];return new Proxy($e,{deleteProperty:function(Ve,ze){const qe=Ve[ze];return qe&&qe instanceof Element$1&&(qe.parent=void 0),delete Ve[ze],!0},set:function(Ve,ze,qe,Xe){return Ve[ze]=qe,ze==="length"||qe&&qe instanceof Element$1&&(qe.parent=je),!0}})}class HitTestArguments{constructor($e,Ve){D$1(this,"point"),D$1(this,"tolerance"),this.point=$e,this.tolerance=Ve}}class ManipulatorBase{constructor($e){D$1(this,"view"),this.view=$e}completed($e){}delta($e){}started($e){}}const ae$1=class Yl{constructor(){D$1(this,"selectionColor"),D$1(this,"currentMouseEventElement"),D$1(this,"currentTouchEventElement"),D$1(this,"keyDown"),D$1(this,"mouseDown"),D$1(this,"mouseMove"),D$1(this,"mouseUp"),D$1(this,"mouseEnter"),D$1(this,"mouseLeave"),D$1(this,"touchStarted"),D$1(this,"touchDelta"),D$1(this,"touchCompleted"),this.selectionColor=OxyColors.Yellow}hitTest($e){const Ve=this.getHitTestElements(),ze=[];for(const qe of Ve){const Xe=qe.hitTest($e);Xe&&ze.push(Xe)}return ze}handleMouseDown($e,Ve){const ze=new HitTestArguments(Ve.position,Yl.mouseHitTolerance);for(const qe of this.hitTest(ze)){Ve.hitTestResult=qe;const Xe=qe.element;if(Xe.onMouseDown(Ve),Ve.handled){this.currentMouseEventElement=Xe;return}}Ve.handled||this.onMouseDown($e,Ve)}handleMouseMove($e,Ve){this.currentMouseEventElement&&this.currentMouseEventElement.onMouseMove(Ve),Ve.handled||this.onMouseMove($e,Ve)}handleMouseUp($e,Ve){this.currentMouseEventElement&&(this.currentMouseEventElement.onMouseUp(Ve),this.currentMouseEventElement=void 0),Ve.handled||this.onMouseUp($e,Ve)}handleMouseEnter($e,Ve){Ve.handled||this.onMouseEnter($e,Ve)}handleMouseLeave($e,Ve){Ve.handled||this.onMouseLeave($e,Ve)}handleTouchStarted($e,Ve){const ze=new HitTestArguments(Ve.position,Yl.mouseHitTolerance);for(const qe of this.hitTest(ze)){const Xe=qe.element;if(Xe.onTouchStarted(Ve),Ve.handled){this.currentTouchEventElement=Xe;return}}Ve.handled||this.onTouchStarted($e,Ve)}handleTouchDelta($e,Ve){this.currentTouchEventElement&&this.currentTouchEventElement.onTouchDelta(Ve),Ve.handled||this.onTouchDelta($e,Ve)}handleTouchCompleted($e,Ve){this.currentTouchEventElement&&(this.currentTouchEventElement.onTouchCompleted(Ve),this.currentTouchEventElement=void 0),Ve.handled||this.onTouchCompleted($e,Ve)}handleKeyDown($e,Ve){for(const ze of this.getHitTestElements())if(ze.onKeyDown(Ve),Ve.handled)break;Ve.handled||this.onKeyDown($e,Ve)}onKeyDown($e,Ve){const ze=this.keyDown;ze&&ze($e,Ve)}onMouseDown($e,Ve){const ze=this.mouseDown;ze&&ze($e,Ve)}onMouseMove($e,Ve){const ze=this.mouseMove;ze&&ze($e,Ve)}onMouseUp($e,Ve){const ze=this.mouseUp;ze&&ze($e,Ve)}onMouseEnter($e,Ve){const ze=this.mouseEnter;ze&&ze($e,Ve)}onMouseLeave($e,Ve){const ze=this.mouseLeave;ze&&ze($e,Ve)}onTouchStarted($e,Ve){const ze=this.touchStarted;ze&&ze($e,Ve)}onTouchDelta($e,Ve){const ze=this.touchDelta;ze&&ze($e,Ve)}onTouchCompleted($e,Ve){const ze=this.touchCompleted;ze&&ze($e,Ve)}};D$1(ae$1,"DefaultSelectionColor",OxyColors.Yellow),D$1(ae$1,"mouseHitTolerance",10);let Model=ae$1;const le$1=class Gl{constructor(){D$1(this,"selection",new Map)}static get Everything(){return Gl.EverythingSelection}isEverythingSelected(){return this===Gl.EverythingSelection}getSelectedItems(){return Array.from(this.selection.keys()).map($e=>$e.Index)}getSelectedItemsByFeature($e){return Array.from(this.selection.keys()).filter(Ve=>Ve.Feature===$e).map(Ve=>Ve.Index)}clear(){this.selection.clear()}isItemSelected($e,Ve=null){if(this.isEverythingSelected())return!0;const ze=new SelectionItem($e,Ve);return this.hasSelection(ze)}select($e,Ve=null){const ze=new SelectionItem($e,Ve);this.setSelection(ze,!0)}unselect($e,Ve=null){const ze=new SelectionItem($e,Ve);if(!this.hasSelection(ze))throw new Error(`Item ${$e} and feature ${Ve} is not selected. Cannot unselect.`);this.deleteSelection(ze)}getSameKey($e){for(const Ve of this.selection.keys())if(Ve.equals($e))return Ve}hasSelection($e){return!!this.getSameKey($e)}deleteSelection($e){const Ve=this.getSameKey($e);Ve&&this.selection.delete(Ve)}setSelection($e,Ve){const ze=this.getSameKey($e)||$e;this.selection.set(ze,Ve)}};D$1(le$1,"EverythingSelection",new le$1);let Selection=le$1;class SelectionItem{constructor($e,Ve){D$1(this,"index"),D$1(this,"feature"),this.index=$e,this.feature=Ve}get Index(){return this.index}get Feature(){return this.feature}equals($e){return $e.index===this.index&&$e.feature===this.feature}}var SelectionMode=(je=>(je[je.All=0]="All",je[je.Single=1]="Single",je[je.Multiple=2]="Multiple",je))(SelectionMode||{});class InputCommandBinding{constructor($e,Ve){D$1(this,"gesture"),D$1(this,"command"),this.gesture=$e,this.command=Ve}static fromKeyGesture($e,Ve,ze){return new InputCommandBinding(new OxyKeyGesture($e,Ve),ze)}static fromMouseGesture($e,Ve,ze){return new InputCommandBinding(new OxyMouseDownGesture($e,Ve),ze)}getGesture(){return this.gesture}getCommand(){return this.command}}class ControllerBase{constructor(){D$1(this,"inputCommandBindings",[]),D$1(this,"mouseDownManipulators",[]),D$1(this,"mouseHoverManipulators",[]),D$1(this,"touchManipulators",[])}handleGesture($e,Ve,ze){const qe=this.getCommand(Ve);return this.handleCommand(qe,$e,ze)}handleMouseDown($e,Ve){if($e.actualModel&&($e.actualModel.handleMouseDown(this,Ve),Ve.handled))return!0;const ze=this.getCommand(new OxyMouseDownGesture(Ve.changedButton,Ve.modifierKeys,Ve.clickCount));return this.handleCommand(ze,$e,Ve)}handleMouseEnter($e,Ve){if($e.actualModel&&($e.actualModel.handleMouseEnter(this,Ve),Ve.handled))return!0;const ze=this.getCommand(new OxyMouseEnterGesture(Ve.modifierKeys));return this.handleCommand(ze,$e,Ve)}handleMouseLeave($e,Ve){if($e.actualModel&&($e.actualModel.handleMouseLeave(this,Ve),Ve.handled))return!0;for(const ze of[...this.mouseHoverManipulators])ze.completed(Ve),arrayRemoveFirst(this.mouseHoverManipulators,ze);return Ve.handled}handleMouseMove($e,Ve){if($e.actualModel&&($e.actualModel.handleMouseMove(this,Ve),Ve.handled))return!0;for(const ze of this.mouseDownManipulators)ze.delta(Ve);for(const ze of this.mouseHoverManipulators)ze.delta(Ve);return Ve.handled}handleMouseUp($e,Ve){if($e.actualModel&&($e.actualModel.handleMouseUp(this,Ve),Ve.handled))return!0;for(const ze of[...this.mouseDownManipulators])ze.completed(Ve),arrayRemoveFirst(this.mouseDownManipulators,ze);return Ve.handled}handleMouseWheel($e,Ve){const ze=this.getCommand(new OxyMouseWheelGesture(Ve.modifierKeys));return this.handleCommand(ze,$e,Ve)}handleTouchStarted($e,Ve){if($e.actualModel&&($e.actualModel.handleTouchStarted(this,Ve),Ve.handled))return!0;const ze=this.getCommand(new OxyTouchGesture);return this.handleCommand(ze,$e,Ve)}handleTouchDelta($e,Ve){if($e.actualModel&&($e.actualModel.handleTouchDelta(this,Ve),Ve.handled))return!0;for(const ze of this.touchManipulators)ze.delta(Ve);return Ve.handled}handleTouchCompleted($e,Ve){if($e.actualModel&&($e.actualModel.handleTouchCompleted(this,Ve),Ve.handled))return!0;for(const ze of[...this.touchManipulators])ze.completed(Ve),arrayRemoveFirst(this.touchManipulators,ze);return Ve.handled}handleKeyDown($e,Ve){if(!$e.actualModel)return!1;if($e.actualModel.handleKeyDown(this,Ve),Ve.handled)return!0;const ze=this.getCommand(new OxyKeyGesture(Ve.key,Ve.modifierKeys));return this.handleCommand(ze,$e,Ve)}addMouseManipulator($e,Ve,ze){this.mouseDownManipulators.push(Ve),Ve.started(ze)}addHoverManipulator($e,Ve,ze){this.mouseHoverManipulators.push(Ve),Ve.started(ze)}addTouchManipulator($e,Ve,ze){this.touchManipulators.push(Ve),Ve.started(ze)}bindMouseDown($e,Ve){this.bindCore($e,Ve)}bindMouseEnter($e,Ve){this.bindCore($e,Ve)}bindMouseWheel($e,Ve){this.bindCore($e,Ve)}bindTouch($e,Ve){this.bindCore($e,Ve)}bindKey($e,Ve){this.bindCore($e,Ve)}unbindInput($e){arrayRemoveIf(this.inputCommandBindings,Ve=>Ve.getGesture().equals($e))}unbindViewCommand($e){arrayRemoveIf(this.inputCommandBindings,Ve=>Ve.getCommand()===$e)}unbindAll(){this.inputCommandBindings.length=0}bindCore($e,Ve){const ze=this.inputCommandBindings.find(qe=>qe.getGesture().equals($e));ze&&arrayRemoveFirst(this.inputCommandBindings,ze),Ve&&this.inputCommandBindings.push(new InputCommandBinding($e,Ve))}getCommand($e){const Ve=this.inputCommandBindings.find(ze=>ze.getGesture().equals($e));return Ve?Ve.getCommand():void 0}handleCommand($e,Ve,ze){return $e?($e.execute(Ve,this,ze),ze.handled):!1}}class ControllerExtensions{static bindKeyDown($e,Ve,ze,qe=OxyModifierKeys.None){$e.bindKey(new OxyKeyGesture(Ve,qe),ze)}static bindMouseDown($e,Ve,ze,qe=OxyModifierKeys.None,Xe=1){$e.bindMouseDown(new OxyMouseDownGesture(Ve,qe,Xe),ze)}static bindTouchDown($e,Ve){$e.bindTouch(new OxyTouchGesture,Ve)}static bindMouseEnter($e,Ve){$e.bindMouseEnter(new OxyMouseEnterGesture,Ve)}static bindMouseWheel($e,Ve,ze=OxyModifierKeys.None){$e.bindMouseWheel(new OxyMouseWheelGesture(ze),Ve)}static unbindMouseDown($e,Ve,ze=OxyModifierKeys.None,qe=1){$e.unbindInput(new OxyMouseDownGesture(Ve,ze,qe))}static unbindKeyDown($e,Ve,ze=OxyModifierKeys.None){$e.unbindInput(new OxyKeyGesture(Ve,ze))}static unbindMouseEnter($e){$e.unbindInput(new OxyMouseEnterGesture)}static unbindTouchDown($e){$e.unbindInput(new OxyTouchGesture)}static unbindMouseWheel($e){$e.unbindInput(new OxyMouseWheelGesture)}}class DelegateViewCommand{constructor($e){D$1(this,"handler"),this.handler=$e}execute($e,Ve,ze){this.handler($e,Ve,ze)}}var ImageFormat=(je=>(je[je.Png=0]="Png",je[je.Bmp=1]="Bmp",je[je.Jpeg=2]="Jpeg",je[je.Unknown=3]="Unknown",je))(ImageFormat||{});class OxyImage{constructor($e){D$1(this,"_data"),D$1(this,"uri"),D$1(this,"format",ImageFormat.Unknown),D$1(this,"width",0),D$1(this,"height",0),D$1(this,"bitsPerPixel",0),D$1(this,"dpiX",96),D$1(this,"dpiY",96),D$1(this,"_hashCode"),this._data=$e}static async create($e,Ve,ze,qe){const Xe=getImageService(),We=$e.height,Ke=$e.width,Je={pixels:$e,palette:qe,imageInfo:{width:Ke,height:We,bitsPerPixel:0,dpiX:ze==null?void 0:ze.dpiX,dpiY:ze==null?void 0:ze.dpiY,format:Ve}},Ze=await Xe.encode(Je),Qe=new OxyImage(Ze);return Qe.width=Ke,Qe.height=We,Qe}get data(){return this._data}static getImageFormat($e){return $e.length>=2&&$e[0]===255&&$e[1]===216?ImageFormat.Jpeg:$e.length>=2&&$e[0]===66&&$e[1]===77?ImageFormat.Bmp:$e.length>=4&&$e[0]===137&&$e[1]===80&&$e[2]===78&&$e[3]===71?ImageFormat.Png:ImageFormat.Unknown}getHashCode(){return this._hashCode===void 0&&(this._hashCode=hashCode([...this._data])),this._hashCode}}var OxyKey=(je=>(je[je.Space=0]="Space",je[je.Enter=1]="Enter",je[je.Escape=2]="Escape",je[je.Tab=3]="Tab",je[je.Backspace=4]="Backspace",je[je.Insert=5]="Insert",je[je.Delete=6]="Delete",je[je.Home=7]="Home",je[je.End=8]="End",je[je.Up=9]="Up",je[je.Down=10]="Down",je[je.Left=11]="Left",je[je.Right=12]="Right",je[je.PageUp=13]="PageUp",je[je.PageDown=14]="PageDown",je[je.A=15]="A",je[je.B=16]="B",je[je.C=17]="C",je[je.D=18]="D",je[je.E=19]="E",je[je.F=20]="F",je[je.G=21]="G",je[je.H=22]="H",je[je.I=23]="I",je[je.J=24]="J",je[je.K=25]="K",je[je.L=26]="L",je[je.M=27]="M",je[je.N=28]="N",je[je.O=29]="O",je[je.P=30]="P",je[je.Q=31]="Q",je[je.R=32]="R",je[je.S=33]="S",je[je.T=34]="T",je[je.U=35]="U",je[je.V=36]="V",je[je.W=37]="W",je[je.X=38]="X",je[je.Y=39]="Y",je[je.Z=40]="Z",je[je.D0=41]="D0",je[je.D1=42]="D1",je[je.D2=43]="D2",je[je.D3=44]="D3",je[je.D4=45]="D4",je[je.D5=46]="D5",je[je.D6=47]="D6",je[je.D7=48]="D7",je[je.D8=49]="D8",je[je.D9=50]="D9",je[je.NumPad0=51]="NumPad0",je[je.NumPad1=52]="NumPad1",je[je.NumPad2=53]="NumPad2",je[je.NumPad3=54]="NumPad3",je[je.NumPad4=55]="NumPad4",je[je.NumPad5=56]="NumPad5",je[je.NumPad6=57]="NumPad6",je[je.NumPad7=58]="NumPad7",je[je.NumPad8=59]="NumPad8",je[je.NumPad9=60]="NumPad9",je[je.Add=61]="Add",je[je.Subtract=62]="Subtract",je[je.Multiply=63]="Multiply",je[je.Divide=64]="Divide",je[je.Decimal=65]="Decimal",je[je.F1=66]="F1",je[je.F2=67]="F2",je[je.F3=68]="F3",je[je.F4=69]="F4",je[je.F5=70]="F5",je[je.F6=71]="F6",je[je.F7=72]="F7",je[je.F8=73]="F8",je[je.F9=74]="F9",je[je.F10=75]="F10",je[je.F11=76]="F11",je[je.F12=77]="F12",je[je.Unknown=78]="Unknown",je))(OxyKey||{}),OxyModifierKeys=(je=>(je[je.None=0]="None",je[je.Control=1]="Control",je[je.Alt=2]="Alt",je[je.Shift=4]="Shift",je[je.Windows=8]="Windows",je))(OxyModifierKeys||{}),OxyMouseButton=(je=>(je[je.None=0]="None",je[je.Left=1]="Left",je[je.Middle=2]="Middle",je[je.Right=3]="Right",je[je.XButton1=4]="XButton1",je[je.XButton2=5]="XButton2",je))(OxyMouseButton||{});class OxyKeyGesture{constructor($e,Ve=OxyModifierKeys.None){this.key=$e,this.modifiers=Ve}equals($e){if(!($e instanceof OxyKeyGesture))return!1;const Ve=$e;return Ve.modifiers===this.modifiers&&Ve.key===this.key}}class OxyMouseDownGesture{constructor($e,Ve=OxyModifierKeys.None,ze=1){this.mouseButton=$e,this.modifiers=Ve,this.clickCount=ze}equals($e){if(!($e instanceof OxyMouseDownGesture))return!1;const Ve=$e;return Ve.modifiers===this.modifiers&&Ve.mouseButton===this.mouseButton&&Ve.clickCount===this.clickCount}}class OxyMouseEnterGesture{constructor($e=OxyModifierKeys.None){this.modifiers=$e}equals($e){return $e instanceof OxyMouseEnterGesture?$e.modifiers===this.modifiers:!1}}class OxyMouseWheelGesture{constructor($e=OxyModifierKeys.None){this.modifiers=$e}equals($e){return $e instanceof OxyMouseWheelGesture?$e.modifiers===this.modifiers:!1}}class OxyShakeGesture{equals($e){return $e instanceof OxyShakeGesture}}class OxyTouchGesture{equals($e){return $e instanceof OxyTouchGesture}}var LegendPlacement=(je=>(je[je.Inside=0]="Inside",je[je.Outside=1]="Outside",je))(LegendPlacement||{}),LegendPosition=(je=>(je[je.TopLeft=0]="TopLeft",je[je.TopCenter=1]="TopCenter",je[je.TopRight=2]="TopRight",je[je.BottomLeft=3]="BottomLeft",je[je.BottomCenter=4]="BottomCenter",je[je.BottomRight=5]="BottomRight",je[je.LeftTop=6]="LeftTop",je[je.LeftMiddle=7]="LeftMiddle",je[je.LeftBottom=8]="LeftBottom",je[je.RightTop=9]="RightTop",je[je.RightMiddle=10]="RightMiddle",je[je.RightBottom=11]="RightBottom",je))(LegendPosition||{});const isLeftLegend=je=>je===6||je===7||je===8,isRightLegend=je=>je===9||je===10||je===11,isTopLegend=je=>je===0||je===1||je===2,isBottomLegend=je=>je===3||je===4||je===5;var LegendOrientation=(je=>(je[je.Horizontal=0]="Horizontal",je[je.Vertical=1]="Vertical",je))(LegendOrientation||{}),LegendItemOrder=(je=>(je[je.Normal=0]="Normal",je[je.Reverse=1]="Reverse",je))(LegendItemOrder||{}),LegendSymbolPlacement=(je=>(je[je.Left=0]="Left",je[je.Right=1]="Right",je))(LegendSymbolPlacement||{});class LegendBase extends PlotElement{constructor($e){super($e),D$1(this,"key"),D$1(this,"isLegendVisible",!1),D$1(this,"legendOrientation",0),D$1(this,"legendPadding",0),D$1(this,"legendSymbolLength",0),D$1(this,"legendSymbolMargin",0),D$1(this,"legendSymbolPlacement",0),D$1(this,"legendTitle"),D$1(this,"legendTitleColor",OxyColors.Undefined),D$1(this,"legendTitleFont"),D$1(this,"legendTitleFontSize",0),D$1(this,"legendTitleFontWeight",0),D$1(this,"legendArea",OxyRect.Empty),D$1(this,"legendSize",OxySize.Empty),D$1(this,"legendBackground",OxyColors.Undefined),D$1(this,"legendBorder",OxyColors.Undefined),D$1(this,"legendBorderThickness",0),D$1(this,"legendColumnSpacing",0),D$1(this,"legendFont"),D$1(this,"legendFontSize",0),D$1(this,"legendTextColor"),D$1(this,"legendFontWeight",0),D$1(this,"legendItemAlignment",HorizontalAlignment.Left),D$1(this,"legendItemOrder",0),D$1(this,"legendItemSpacing",0),D$1(this,"legendLineSpacing",0),D$1(this,"legendMargin",0),D$1(this,"legendMaxWidth",0),D$1(this,"legendMaxHeight",0),D$1(this,"legendPlacement",0),D$1(this,"legendPosition",0),D$1(this,"allowUseFullExtent",!1),D$1(this,"showInvisibleSeries",!1)}hitTestOverride($e){return this.legendHitTest($e)}}class Legend extends LegendBase{constructor($e){super($e),D$1(this,"legendBox"),D$1(this,"seriesPosMap",new Map),D$1(this,"groupNameFont"),D$1(this,"groupNameFontSize"),D$1(this,"groupNameFontWeight"),D$1(this,"seriesInvisibleTextColor"),this.isLegendVisible=!0,this.legendBox=OxyRect.Empty,this.key=void 0,this.groupNameFont=void 0,this.groupNameFontWeight=FontWeights.Normal,this.groupNameFontSize=NaN,this.legendTitleFont=void 0,this.legendTitleFontSize=NaN,this.legendTitleFontWeight=FontWeights.Bold,this.legendFont=void 0,this.legendFontSize=NaN,this.legendFontWeight=FontWeights.Normal,this.legendSymbolLength=16,this.legendSymbolMargin=4,this.legendPadding=8,this.legendColumnSpacing=8,this.legendItemSpacing=24,this.legendLineSpacing=0,this.legendMargin=8,this.legendBackground=OxyColors.Undefined,this.legendBorder=OxyColors.Undefined,this.legendBorderThickness=1,this.legendTextColor=OxyColors.Automatic,this.legendTitleColor=OxyColors.Automatic,this.legendMaxWidth=NaN,this.legendMaxHeight=NaN,this.legendPlacement=LegendPlacement.Inside,this.legendPosition=LegendPosition.RightTop,this.legendOrientation=LegendOrientation.Vertical,this.legendItemOrder=LegendItemOrder.Normal,this.legendItemAlignment=HorizontalAlignment.Left,this.legendSymbolPlacement=LegendSymbolPlacement.Left,this.showInvisibleSeries=!0,this.seriesInvisibleTextColor=OxyColor.fromAColor(64,this.legendTextColor),this.selectable=!0,this.selectionMode=SelectionMode.Single,$e&&Object.assign(this,removeUndef($e))}legendHitTest($e){if(!this.isLegendVisible||!this.plotModel.isLegendVisible)return;const Ve=$e.point;if(this.isPointInLegend(Ve)&&this.seriesPosMap&&this.seriesPosMap.size>0){for(const[ze,qe]of this.seriesPosMap)if(qe.containsPoint(Ve)&&this.showInvisibleSeries){ze.isVisible=!ze.isVisible,this.plotModel.invalidatePlot(!1);break}}}isPointInLegend($e){return this.legendBox.containsPoint($e)}ensureLegendProperties(){switch(this.legendPosition){case LegendPosition.LeftTop:case LegendPosition.LeftMiddle:case LegendPosition.LeftBottom:case LegendPosition.RightTop:case LegendPosition.RightMiddle:case LegendPosition.RightBottom:this.legendOrientation===LegendOrientation.Horizontal&&(this.legendOrientation=LegendOrientation.Vertical);break}}async renderLegends($e){await this.renderOrMeasureLegends($e,this.legendArea)}async getLegendSize($e,Ve){const ze=Ve.width,qe=Ve.height;let Xe=await this.measureLegends($e,new OxySize(Math.max(0,ze),Math.max(0,qe)));return Xe=new OxySize(Math.max(0,Xe.width),Math.max(0,Xe.height)),Xe}getLegendRectangle($e){let Ve=0,ze=0;if(this.legendPlacement===LegendPlacement.Outside){switch(this.legendPosition){case LegendPosition.LeftTop:case LegendPosition.LeftMiddle:case LegendPosition.LeftBottom:ze=this.plotModel.plotAndAxisArea.left-$e.width-this.legendMargin;break;case LegendPosition.RightTop:case LegendPosition.RightMiddle:case LegendPosition.RightBottom:ze=this.plotModel.plotAndAxisArea.right+this.legendMargin;break;case LegendPosition.TopLeft:case LegendPosition.TopCenter:case LegendPosition.TopRight:Ve=this.plotModel.plotAndAxisArea.top-$e.height-this.legendMargin;break;case LegendPosition.BottomLeft:case LegendPosition.BottomCenter:case LegendPosition.BottomRight:Ve=this.plotModel.plotAndAxisArea.bottom+this.legendMargin;break}const qe=this.allowUseFullExtent?this.plotModel.plotAndAxisArea:this.plotModel.plotArea;switch(this.legendPosition){case LegendPosition.TopLeft:case LegendPosition.BottomLeft:ze=qe.left;break;case LegendPosition.TopRight:case LegendPosition.BottomRight:ze=qe.right-$e.width;break;case LegendPosition.LeftTop:case LegendPosition.RightTop:Ve=qe.top;break;case LegendPosition.LeftBottom:case LegendPosition.RightBottom:Ve=qe.bottom-$e.height;break;case LegendPosition.LeftMiddle:case LegendPosition.RightMiddle:Ve=(qe.top+qe.bottom-$e.height)*.5;break;case LegendPosition.TopCenter:case LegendPosition.BottomCenter:ze=(qe.left+qe.right-$e.width)*.5;break}}else{switch(this.legendPosition){case LegendPosition.LeftTop:case LegendPosition.LeftMiddle:case LegendPosition.LeftBottom:ze=this.plotModel.plotArea.left+this.legendMargin;break;case LegendPosition.RightTop:case LegendPosition.RightMiddle:case LegendPosition.RightBottom:ze=this.plotModel.plotArea.right-$e.width-this.legendMargin;break;case LegendPosition.TopLeft:case LegendPosition.TopCenter:case LegendPosition.TopRight:Ve=this.plotModel.plotArea.top+this.legendMargin;break;case LegendPosition.BottomLeft:case LegendPosition.BottomCenter:case LegendPosition.BottomRight:Ve=this.plotModel.plotArea.bottom-$e.height-this.legendMargin;break}switch(this.legendPosition){case LegendPosition.TopLeft:case LegendPosition.BottomLeft:ze=this.plotModel.plotArea.left+this.legendMargin;break;case LegendPosition.TopRight:case LegendPosition.BottomRight:ze=this.plotModel.plotArea.right-$e.width-this.legendMargin;break;case LegendPosition.LeftTop:case LegendPosition.RightTop:Ve=this.plotModel.plotArea.top+this.legendMargin;break;case LegendPosition.LeftBottom:case LegendPosition.RightBottom:Ve=this.plotModel.plotArea.bottom-$e.height-this.legendMargin;break;case LegendPosition.LeftMiddle:case LegendPosition.RightMiddle:Ve=(this.plotModel.plotArea.top+this.plotModel.plotArea.bottom-$e.height)*.5;break;case LegendPosition.TopCenter:case LegendPosition.BottomCenter:ze=(this.plotModel.plotArea.left+this.plotModel.plotArea.right-$e.width)*.5;break}}return new OxyRect(ze,Ve,$e.width,$e.height)}async renderLegend($e,Ve,ze){let qe=this.legendItemAlignment;this.legendOrientation===LegendOrientation.Horizontal&&(qe=HorizontalAlignment.Left);let Xe=ze.left;switch(qe){case HorizontalAlignment.Center:Xe=(ze.left+ze.right)/2,this.legendSymbolPlacement===LegendSymbolPlacement.Left?Xe-=(this.legendSymbolLength+this.legendSymbolMargin)/2:Xe-=(this.legendSymbolLength+this.legendSymbolMargin)/2;break;case HorizontalAlignment.Right:Xe=ze.right,this.legendSymbolPlacement===LegendSymbolPlacement.Right&&(Xe-=this.legendSymbolLength+this.legendSymbolMargin);break}this.legendSymbolPlacement===LegendSymbolPlacement.Left&&(Xe+=this.legendSymbolLength+this.legendSymbolMargin);const We=ze.top,Ke=new OxySize(Math.max(ze.width-this.legendSymbolLength-this.legendSymbolMargin,0),ze.height),Je=isNaN(this.legendFontSize)?this.plotModel.defaultFontSize:this.legendFontSize;let Ze=Ve.isVisible?this.legendTextColor:this.seriesInvisibleTextColor;Ze=Ze||OxyColors.Black,$e.setToolTip(Ve.toolTip);const Qe=await MathRenderingExtensions.drawMathText($e,newScreenPoint(Xe,We),Ve.title||"",Ze.getActualColor(this.plotModel.textColor),this.legendFont??this.plotModel.defaultFont,Je,this.legendFontWeight,0,qe,VerticalAlignment.Top,Ke,!0);this.seriesPosMap.set(Ve,OxyRect.fromScreenPointAndSize(newScreenPoint(Xe,We),Qe));let St=Xe;switch(qe){case HorizontalAlignment.Center:St=Xe-Qe.width*.5;break;case HorizontalAlignment.Right:St=Xe-Qe.width;break}if(Ve.isVisible){const ei=new OxyRect(this.legendSymbolPlacement===LegendSymbolPlacement.Right?St+Qe.width+this.legendSymbolMargin:St-this.legendSymbolMargin-this.legendSymbolLength,ze.top,this.legendSymbolLength,Qe.height);await Ve.renderLegend($e,ei)}$e.setToolTip(void 0)}measureLegends($e,Ve){return this.renderOrMeasureLegends($e,new OxyRect(0,0,Ve.width,Ve.height),!0)}async renderOrMeasureLegends($e,Ve,ze=!1){if(!ze&&Ve.width>0&&Ve.height>0){this.legendBox=Ve;const ci=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);await $e.drawRectangle(Ve,this.legendBackground,this.legendBorder,this.legendBorderThickness,ci)}const qe=Ve.width,Xe=Ve.height;let We=this.legendPadding,Ke=this.legendPadding,Je=OxySize.Empty;const Ze=isNaN(this.legendFontSize)?this.plotModel.defaultFontSize:this.legendFontSize,Qe=isNaN(this.legendTitleFontSize)?Ze:this.legendTitleFontSize,St=isNaN(this.groupNameFontSize)?Ze:this.groupNameFontSize;if(this.legendTitle){let ci;ze?ci=await MathRenderingExtensions.measureMathText($e,this.legendTitle,this.legendTitleFont??this.plotModel.defaultFont,Qe,this.legendTitleFontWeight):ci=await MathRenderingExtensions.drawMathText($e,newScreenPoint(Ve.left+We,Ve.top+Ke),this.legendTitle,this.legendTitleColor.getActualColor(this.plotModel.textColor),this.legendTitleFont??this.plotModel.defaultFont,Qe,this.legendTitleFontWeight,0,HorizontalAlignment.Left,VerticalAlignment.Top,void 0,!0),Ke+=ci.height,Je=new OxySize(We+ci.width+this.legendPadding,Ke+ci.height)}let ei=Ke,ti=0;const ni=.001;let oi=0;const ai=getReversedCopy(this.plotModel.series),si=this.legendItemOrder===LegendItemOrder.Reverse?ai.filter(ci=>ci.renderInLegend&&ci.legendKey===this.key):this.plotModel.series.filter(ci=>ci.renderInLegend&&ci.legendKey===this.key),ri=[];for(const ci of si)ri.includes(ci.seriesGroupName||"")||ri.push(ci.seriesGroupName||"");this.seriesPosMap.clear();const ii=new Map,ui=async()=>{const ci=[];for(const[hi,mi]of ii){if(hi.seriesGroupName&&!ci.includes(hi.seriesGroupName)){ci.push(hi.seriesGroupName);const pi=await MathRenderingExtensions.measureMathText($e,hi.seriesGroupName,this.groupNameFont??this.plotModel.defaultFont,St,this.groupNameFontWeight);let xi=mi.top,Si=mi.left;this.legendOrientation===LegendOrientation.Vertical?xi-=pi.height+this.legendLineSpacing/2:Si-=pi.width+this.legendItemSpacing/2,await MathRenderingExtensions.drawMathText($e,newScreenPoint(Si,xi),hi.seriesGroupName,this.legendTitleColor.getActualColor(this.plotModel.textColor),this.groupNameFont??this.plotModel.defaultFont,St,this.groupNameFontWeight,0,HorizontalAlignment.Left,VerticalAlignment.Top,void 0,!0)}let di=qe;mi.left+di+this.legendPadding>Ve.left+qe&&(di=Ve.left+qe-mi.left-this.legendPadding);let fi=mi.height;Ve.top+fi+this.legendPadding>Ve.top+Xe&&(fi=Ve.top+Xe-Ve.top-this.legendPadding);const yi=new OxyRect(mi.left,mi.top,Math.max(di,0),Math.max(fi,0));await this.renderLegend($e,hi,yi)}ci.length=0,ii.clear()};ze||$e.pushClip(Ve);for(const ci of ri){const hi=si.filter(fi=>(fi.seriesGroupName||"")===ci);let mi=OxySize.Empty;hi.length>0&&ci&&(mi=await MathRenderingExtensions.measureMathText($e,ci,this.groupNameFont??this.plotModel.defaultFont,St,this.groupNameFontWeight),this.legendOrientation===LegendOrientation.Vertical?ei+=mi.height:We+=mi.width);let di=0;for(const fi of hi){if(!fi.title||!fi.renderInLegend||!fi.isVisible&&!this.showInvisibleSeries)continue;const yi=await MathRenderingExtensions.measureMathText($e,fi.title,this.legendFont??this.plotModel.defaultFont,Ze,this.legendFontWeight),pi=this.legendSymbolLength+this.legendSymbolMargin+yi.width,xi=yi.height;this.legendOrientation===LegendOrientation.Horizontal?(We>this.legendPadding&&(We+=this.legendItemSpacing),We+pi>qe-this.legendPadding+ni&&(We=this.legendPadding,di===0&&mi.width>0&&(We+=mi.width+this.legendItemSpacing),ei+=ti+this.legendLineSpacing,ti=0),ti=Math.max(ti,yi.height),ze||ii.set(fi,new OxyRect(Ve.left+We,Ve.top+ei,pi,xi)),We+=pi,We=Math.max(mi.width,We),Je=new OxySize(Math.max(Je.width,We),Math.max(Je.height,ei+yi.height))):(ei+xi>Xe-this.legendPadding+ni&&(await ui(),ei=Ke+mi.height,We+=oi+this.legendColumnSpacing,oi=0),ze||ii.set(fi,new OxyRect(Ve.left+We,Ve.top+ei,pi,xi)),ei+=xi+this.legendLineSpacing,oi=Math.max(oi,pi),Je=new OxySize(Math.max(Je.width,We+pi),Math.max(Je.height,ei))),di++}await ui()}return ze||$e.popClip(),Je.width>0&&(Je=new OxySize(Je.width+this.legendPadding,Je.height)),Je.height>0&&(Je=new OxySize(Je.width,Je.height+this.legendPadding)),Je.width>qe&&(Je=new OxySize(qe,Je.height)),Je.height>Xe&&(Je=new OxySize(Je.width,Xe)),!isNaN(this.legendMaxWidth)&&Je.width>this.legendMaxWidth&&(Je=new OxySize(this.legendMaxWidth,Je.height)),!isNaN(this.legendMaxHeight)&&Je.height>this.legendMaxHeight&&(Je=new OxySize(Je.width,this.legendMaxHeight)),Je}}class OxyModifierKeysExtensions{static isAltDown($e){return($e.modifierKeys&OxyModifierKeys.Alt)===OxyModifierKeys.Alt}static isControlDown($e){return($e.modifierKeys&OxyModifierKeys.Control)===OxyModifierKeys.Control}static isShiftDown($e){return($e.modifierKeys&OxyModifierKeys.Shift)===OxyModifierKeys.Shift}}class TrackerHitResult{constructor($e){D$1(this,"dataPoint"),D$1(this,"item"),D$1(this,"index",0),D$1(this,"lineExtents"),D$1(this,"plotModel"),D$1(this,"position"),D$1(this,"series"),D$1(this,"text"),$e&&Object.assign(this,removeUndef($e))}get xAxis(){return!this.series||!(this.series instanceof XYAxisSeries)?void 0:this.series.xAxis}get yAxis(){return!this.series||!(this.series instanceof XYAxisSeries)?void 0:this.series.yAxis}toString(){return this.text?this.text.trim():""}}var AxisPreference=(je=>(je[je.None=0]="None",je[je.X=1]="X",je[je.Y=2]="Y",je))(AxisPreference||{});class PlotManipulator extends ManipulatorBase{constructor($e){super($e),D$1(this,"plotView"),D$1(this,"axisPreference",AxisPreference.None),D$1(this,"xAxis"),D$1(this,"yAxis"),this.plotView=$e}inverseTransform($e,Ve){return this.xAxis?this.xAxis.inverseTransformPoint($e,Ve,this.yAxis):this.yAxis?newDataPoint(0,this.yAxis.inverseTransform(Ve)):DataPoint_Zero}assignAxes($e){let Ve,ze;this.plotView.actualModel?([Ve,ze]=this.plotView.actualModel.getAxesFromPoint($e),this.axisPreference!==AxisPreference.None&&this.plotView.actualModel.plotArea.containsPoint($e)&&(this.axisPreference===AxisPreference.X?Ve&&(ze=void 0):this.axisPreference===AxisPreference.Y&&ze&&(Ve=void 0))):(Ve=void 0,ze=void 0),this.xAxis=Ve,this.yAxis=ze}}class MouseManipulator extends PlotManipulator{constructor($e){super($e),D$1(this,"startPosition")}started($e){this.assignAxes($e.position),this.startPosition=$e.position}}class ZoomStepManipulator extends MouseManipulator{constructor($e,Ve,ze){super($e),D$1(this,"fineControl"),D$1(this,"step"),this.step=Ve,this.fineControl=ze}started($e){if(super.started($e),!(this.xAxis&&this.xAxis.isZoomEnabled||this.yAxis&&this.yAxis.isZoomEnabled))return;const Ve=this.inverseTransform($e.position.x,$e.position.y);let ze=this.step;this.fineControl&&(ze*=3),ze>0?ze=1+ze:ze=1/(1-ze),this.xAxis&&this.xAxis.zoomAt(ze,Ve.x),this.yAxis&&this.yAxis.zoomAt(ze,Ve.y),this.plotView.invalidatePlot(!1),$e.handled=!0}}class PanManipulator extends MouseManipulator{constructor($e){super($e),D$1(this,"previousPosition",ScreenPoint_LeftTop),D$1(this,"isPanEnabled",!1)}completed($e){super.completed($e),this.isPanEnabled&&(this.view.setCursorType(CursorType.Default),$e.handled=!0)}delta($e){super.delta($e),this.isPanEnabled&&(this.xAxis&&this.xAxis.pan(this.previousPosition,$e.position),this.yAxis&&this.yAxis.pan(this.previousPosition,$e.position),this.plotView.invalidatePlot(!1),this.previousPosition=$e.position,$e.handled=!0)}started($e){super.started($e),this.previousPosition=$e.position,this.isPanEnabled=!!(this.xAxis&&this.xAxis.isPanEnabled||this.yAxis&&this.yAxis.isPanEnabled),this.isPanEnabled&&(this.view.setCursorType(CursorType.Pan),$e.handled=!0)}}class ZoomRectangleManipulator extends MouseManipulator{constructor($e){super($e),D$1(this,"zoomRectangle",OxyRect.Empty),D$1(this,"isZoomEnabled",!1)}completed($e){if(super.completed($e),!!this.isZoomEnabled){if(this.plotView.setCursorType(CursorType.Default),this.plotView.hideZoomRectangle(),this.zoomRectangle.width>10&&this.zoomRectangle.height>10){const Ve=this.inverseTransform(this.zoomRectangle.left,this.zoomRectangle.top),ze=this.inverseTransform(this.zoomRectangle.right,this.zoomRectangle.bottom);this.xAxis&&this.xAxis.zoom(Ve.x,ze.x),this.yAxis&&this.yAxis.zoom(Ve.y,ze.y),this.plotView.invalidatePlot()}$e.handled=!0}}delta($e){if(super.delta($e),!this.plotView.actualModel||!this.isZoomEnabled||!this.startPosition)return;const Ve=this.plotView.actualModel.plotArea;let ze=Math.min(this.startPosition.x,$e.position.x),qe=Math.abs(this.startPosition.x-$e.position.x),Xe=Math.min(this.startPosition.y,$e.position.y),We=Math.abs(this.startPosition.y-$e.position.y);(this.xAxis===void 0||!this.xAxis.isZoomEnabled)&&(ze=Ve.left,qe=Ve.width),(this.yAxis===void 0||!this.yAxis.isZoomEnabled)&&(Xe=Ve.top,We=Ve.height),this.zoomRectangle=new OxyRect(ze,Xe,qe,We),this.plotView.showZoomRectangle(this.zoomRectangle),$e.handled=!0}started($e){super.started($e),this.isZoomEnabled=!!(this.xAxis&&this.xAxis.isZoomEnabled||this.yAxis&&this.yAxis.isZoomEnabled),this.isZoomEnabled&&this.startPosition&&(this.zoomRectangle=new OxyRect(this.startPosition.x,this.startPosition.y,0,0),this.plotView.showZoomRectangle(this.zoomRectangle),this.plotView.setCursorType(this.getCursorType()),$e.handled=!0)}getCursorType(){return this.xAxis===void 0?CursorType.ZoomVertical:this.yAxis===void 0?CursorType.ZoomHorizontal:CursorType.ZoomRectangle}}class TouchManipulator extends PlotManipulator{constructor($e){super($e),D$1(this,"setHandledForPanOrZoom"),D$1(this,"isPanEnabled",!1),D$1(this,"isZoomEnabled",!1),this.setHandledForPanOrZoom=!0}completed($e){super.completed($e),this.setHandledForPanOrZoom&&($e.handled=$e.handled||this.isPanEnabled||this.isZoomEnabled)}delta($e){if(super.delta($e),!this.isPanEnabled&&!this.isZoomEnabled)return;const Ve=$e.position,ze=screenPointMinusVector(Ve,$e.deltaTranslation);this.xAxis&&this.xAxis.pan(ze,Ve),this.yAxis&&this.yAxis.pan(ze,Ve);const qe=this.inverseTransform(Ve.x,Ve.y);this.xAxis&&this.xAxis.zoomAt($e.deltaScale.x,qe.x),this.yAxis&&this.yAxis.zoomAt($e.deltaScale.y,qe.y),this.plotView.invalidatePlot(!1),$e.handled=!0}started($e){this.assignAxes($e.position),super.started($e),this.setHandledForPanOrZoom&&(this.isPanEnabled=!!(this.xAxis&&this.xAxis.isPanEnabled||this.yAxis&&this.yAxis.isPanEnabled),this.isZoomEnabled=!!(this.xAxis&&this.xAxis.isZoomEnabled||this.yAxis&&this.yAxis.isZoomEnabled),$e.handled=$e.handled||this.isPanEnabled||this.isZoomEnabled)}}class TrackerManipulator extends MouseManipulator{constructor($e,Ve){super($e),D$1(this,"currentSeries"),D$1(this,"pointsOnly"),D$1(this,"snap"),D$1(this,"lockToInitialSeries"),D$1(this,"firesDistance"),D$1(this,"checkDistanceBetweenPoints"),D$1(this,"isTrackAnnotations",!0),this.snap=!0,this.pointsOnly=!1,this.lockToInitialSeries=!0,this.firesDistance=20,this.checkDistanceBetweenPoints=!1,this.isTrackAnnotations=!0,Ve&&Object.assign(this,removeUndef(Ve))}completed($e){super.completed($e),$e.handled=!0,this.currentSeries=void 0,this.plotView.hideTracker(),this.plotView.actualModel&&this.plotView.actualModel.raiseTrackerChanged(void 0)}delta($e){var Ve;if(super.delta($e),$e.handled=!0,(!this.currentSeries||!this.lockToInitialSeries)&&(this.currentSeries=(Ve=this.plotView.actualModel)==null?void 0:Ve.getSeriesFromPoint($e.position,this.firesDistance)),!this.currentSeries){this.lockToInitialSeries||this.plotView.hideTracker(),this.isTrackAnnotations&&this.trackAnnotations($e.position);return}const ze=this.plotView.actualModel;if(!ze||!ze.plotArea.contains($e.position.x,$e.position.y))return;const qe=TrackerHelper.getNearestHit(this.currentSeries,$e.position,this.snap,this.pointsOnly,this.firesDistance,this.checkDistanceBetweenPoints);qe&&(qe.plotModel=this.plotView.actualModel,this.plotView.showTracker(qe),this.plotView.actualModel.raiseTrackerChanged(qe))}started($e){var Ve;super.started($e),this.currentSeries=(Ve=this.plotView.actualModel)==null?void 0:Ve.getSeriesFromPoint($e.position,this.firesDistance),this.delta($e)}trackAnnotations($e){const Ve=this.plotView.actualModel;for(const ze of Ve.annotations.filter(qe=>qe.toolTip).reverse()){if(!ze.toolTip)continue;const qe=new HitTestArguments($e,this.firesDistance);if(!ze.hitTest(qe))continue;const Xe=ze.inverseTransform($e),We=new TrackerHitResult({position:$e,dataPoint:Xe,text:ze.toolTip,plotModel:this.plotView.actualModel});this.plotView.showTracker(We),Ve.raiseTrackerChanged(We);break}}}class TouchTrackerManipulator extends TouchManipulator{constructor($e,Ve){super($e),D$1(this,"currentSeries"),D$1(this,"pointsOnly"),D$1(this,"snap"),D$1(this,"lockToInitialSeries"),D$1(this,"firesDistance"),D$1(this,"checkDistanceBetweenPoints"),this.snap=!0,this.pointsOnly=!1,this.lockToInitialSeries=!0,this.firesDistance=20,this.checkDistanceBetweenPoints=!1,this.setHandledForPanOrZoom=!1,Ve&&Object.assign(this,removeUndef(Ve))}completed($e){super.completed($e),this.currentSeries=void 0,this.plotView.hideTracker(),this.plotView.actualModel&&this.plotView.actualModel.raiseTrackerChanged(void 0)}delta($e){super.delta($e),this.plotView.hideTracker()}started($e){var Ve;super.started($e),this.currentSeries=(Ve=this.plotView.actualModel)==null?void 0:Ve.getSeriesFromPoint($e.position,this.firesDistance),this.updateTracker($e.position)}updateTracker($e){var Ve;if((!this.currentSeries||!this.lockToInitialSeries)&&(this.currentSeries=(Ve=this.plotView.actualModel)==null?void 0:Ve.getSeriesFromPoint($e,this.firesDistance)),!this.currentSeries){this.lockToInitialSeries||this.plotView.hideTracker();return}const ze=this.plotView.actualModel;if(!ze||!ze.plotArea.contains($e.x,$e.y))return;const qe=TrackerHelper.getNearestHit(this.currentSeries,$e,this.snap,this.pointsOnly,this.firesDistance,this.checkDistanceBetweenPoints);qe&&(qe.plotModel=this.plotView.actualModel,this.plotView.showTracker(qe),this.plotView.actualModel.raiseTrackerChanged(qe))}}class DelegatePlotCommand extends DelegateViewCommand{constructor($e){super((Ve,ze,qe)=>$e(Ve,ze,qe))}}class PlotCommands{static init(){this.reset=new DelegatePlotCommand(($e,Ve,ze)=>this.handleReset($e,ze)),this.resetAt=new DelegatePlotCommand(($e,Ve,ze)=>this.handleReset($e,ze)),this.panAt=new DelegatePlotCommand(($e,Ve,ze)=>Ve.addMouseManipulator($e,new PanManipulator($e),ze)),this.zoomRectangle=new DelegatePlotCommand(($e,Ve,ze)=>Ve.addMouseManipulator($e,new ZoomRectangleManipulator($e),ze)),this.track=new DelegatePlotCommand(($e,Ve,ze)=>Ve.addMouseManipulator($e,new TrackerManipulator($e,{snap:!1,pointsOnly:!1}),ze)),this.snapTrack=new DelegatePlotCommand(($e,Ve,ze)=>Ve.addMouseManipulator($e,new TrackerManipulator($e,{snap:!0,pointsOnly:!1}),ze)),this.pointsOnlyTrack=new DelegatePlotCommand(($e,Ve,ze)=>Ve.addMouseManipulator($e,new TrackerManipulator($e,{snap:!1,pointsOnly:!0}),ze)),this.zoomWheel=new DelegatePlotCommand(($e,Ve,ze)=>this.handleZoomByWheel($e,ze)),this.zoomWheelFine=new DelegatePlotCommand(($e,Ve,ze)=>this.handleZoomByWheel($e,ze,.1)),this.zoomInAt=new DelegatePlotCommand(($e,Ve,ze)=>this.handleZoomAt($e,ze,.05)),this.zoomOutAt=new DelegatePlotCommand(($e,Ve,ze)=>this.handleZoomAt($e,ze,-.05)),this.hoverTrack=new DelegatePlotCommand(($e,Ve,ze)=>Ve.addHoverManipulator($e,new TrackerManipulator($e,{lockToInitialSeries:!1,snap:!1,pointsOnly:!1}),ze)),this.hoverSnapTrack=new DelegatePlotCommand(($e,Ve,ze)=>Ve.addHoverManipulator($e,new TrackerManipulator($e,{lockToInitialSeries:!1,snap:!0,pointsOnly:!1}),ze)),this.hoverPointsOnlyTrack=new DelegatePlotCommand(($e,Ve,ze)=>Ve.addHoverManipulator($e,new TrackerManipulator($e,{lockToInitialSeries:!1,snap:!1,pointsOnly:!0}),ze)),this.snapTrackTouch=new DelegatePlotCommand(($e,Ve,ze)=>Ve.addTouchManipulator($e,new TouchTrackerManipulator($e,{snap:!0,pointsOnly:!1}),ze)),this.pointsOnlyTrackTouch=new DelegatePlotCommand(($e,Ve,ze)=>Ve.addTouchManipulator($e,new TouchTrackerManipulator($e,{snap:!0,pointsOnly:!0}),ze)),this.panZoomByTouch=new DelegatePlotCommand(($e,Ve,ze)=>Ve.addTouchManipulator($e,new TouchManipulator($e),ze)),this.panLeft=new DelegatePlotCommand(($e,Ve,ze)=>this.handlePan($e,ze,-.1,0)),this.panRight=new DelegatePlotCommand(($e,Ve,ze)=>this.handlePan($e,ze,.1,0)),this.panUp=new DelegatePlotCommand(($e,Ve,ze)=>this.handlePan($e,ze,0,-.1)),this.panDown=new DelegatePlotCommand(($e,Ve,ze)=>this.handlePan($e,ze,0,.1)),this.panLeftFine=new DelegatePlotCommand(($e,Ve,ze)=>this.handlePan($e,ze,-.01,0)),this.panRightFine=new DelegatePlotCommand(($e,Ve,ze)=>this.handlePan($e,ze,.01,0)),this.panUpFine=new DelegatePlotCommand(($e,Ve,ze)=>this.handlePan($e,ze,0,-.01)),this.panDownFine=new DelegatePlotCommand(($e,Ve,ze)=>this.handlePan($e,ze,0,.01)),this.zoomIn=new DelegatePlotCommand(($e,Ve,ze)=>this.handleZoomCenter($e,ze,1)),this.zoomOut=new DelegatePlotCommand(($e,Ve,ze)=>this.handleZoomCenter($e,ze,-1)),this.zoomInFine=new DelegatePlotCommand(($e,Ve,ze)=>this.handleZoomCenter($e,ze,.1)),this.zoomOutFine=new DelegatePlotCommand(($e,Ve,ze)=>this.handleZoomCenter($e,ze,-.1))}static handleReset($e,Ve){$e.actualModel&&(Ve.handled=!0,$e.actualModel.resetAllAxes(),$e.invalidatePlot(!1))}static handleZoomAt($e,Ve,ze){const qe=OxyModifierKeysExtensions.isControlDown(Ve);new ZoomStepManipulator($e,ze,qe).started(Ve)}static handleZoomByWheel($e,Ve,ze=1){const qe=OxyModifierKeysExtensions.isControlDown(Ve);new ZoomStepManipulator($e,Ve.delta*.001*ze,qe).started(Ve)}static handleZoomCenter($e,Ve,ze){$e.actualModel&&(Ve.handled=!0,$e.actualModel.zoomAllAxes(1+ze*.12),$e.invalidatePlot(!1))}static handlePan($e,Ve,ze,qe){$e.actualModel&&(Ve.handled=!0,ze*=$e.actualModel.plotArea.width,qe*=$e.actualModel.plotArea.height,$e.actualModel.panAllAxes(ze,qe),$e.invalidatePlot(!1))}}D$1(PlotCommands,"reset"),D$1(PlotCommands,"resetAt"),D$1(PlotCommands,"panZoomByTouch"),D$1(PlotCommands,"panAt"),D$1(PlotCommands,"zoomRectangle"),D$1(PlotCommands,"zoomWheel"),D$1(PlotCommands,"zoomWheelFine"),D$1(PlotCommands,"track"),D$1(PlotCommands,"snapTrack"),D$1(PlotCommands,"snapTrackTouch"),D$1(PlotCommands,"pointsOnlyTrack"),D$1(PlotCommands,"pointsOnlyTrackTouch"),D$1(PlotCommands,"hoverTrack"),D$1(PlotCommands,"hoverSnapTrack"),D$1(PlotCommands,"hoverPointsOnlyTrack"),D$1(PlotCommands,"panLeft"),D$1(PlotCommands,"panRight"),D$1(PlotCommands,"panUp"),D$1(PlotCommands,"panDown"),D$1(PlotCommands,"panLeftFine"),D$1(PlotCommands,"panRightFine"),D$1(PlotCommands,"panUpFine"),D$1(PlotCommands,"panDownFine"),D$1(PlotCommands,"zoomInAt"),D$1(PlotCommands,"zoomOutAt"),D$1(PlotCommands,"zoomIn"),D$1(PlotCommands,"zoomOut"),D$1(PlotCommands,"zoomInFine"),D$1(PlotCommands,"zoomOutFine");PlotCommands.init();class PlotController extends ControllerBase{constructor(){super(),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Middle,PlotCommands.zoomRectangle),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Right,PlotCommands.zoomRectangle,OxyModifierKeys.Control),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Left,PlotCommands.zoomRectangle,OxyModifierKeys.Control|OxyModifierKeys.Alt),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Middle,PlotCommands.resetAt,OxyModifierKeys.None,2),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Right,PlotCommands.resetAt,OxyModifierKeys.Control,2),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Left,PlotCommands.resetAt,OxyModifierKeys.Control|OxyModifierKeys.Alt,2),ControllerExtensions.bindKeyDown(this,OxyKey.A,PlotCommands.reset),ControllerExtensions.bindKeyDown(this,OxyKey.Home,PlotCommands.reset),this.bindCore(new OxyShakeGesture,PlotCommands.reset),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Right,PlotCommands.panAt),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Left,PlotCommands.panAt,OxyModifierKeys.Alt),ControllerExtensions.bindKeyDown(this,OxyKey.Left,PlotCommands.panLeft),ControllerExtensions.bindKeyDown(this,OxyKey.Right,PlotCommands.panRight),ControllerExtensions.bindKeyDown(this,OxyKey.Up,PlotCommands.panUp),ControllerExtensions.bindKeyDown(this,OxyKey.Down,PlotCommands.panDown),ControllerExtensions.bindKeyDown(this,OxyKey.Left,PlotCommands.panLeftFine,OxyModifierKeys.Control),ControllerExtensions.bindKeyDown(this,OxyKey.Right,PlotCommands.panRightFine,OxyModifierKeys.Control),ControllerExtensions.bindKeyDown(this,OxyKey.Up,PlotCommands.panUpFine,OxyModifierKeys.Control),ControllerExtensions.bindKeyDown(this,OxyKey.Down,PlotCommands.panDownFine,OxyModifierKeys.Control),ControllerExtensions.bindTouchDown(this,PlotCommands.panZoomByTouch),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Left,PlotCommands.snapTrack),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Left,PlotCommands.track,OxyModifierKeys.Control),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Left,PlotCommands.pointsOnlyTrack,OxyModifierKeys.Shift),ControllerExtensions.bindTouchDown(this,PlotCommands.snapTrackTouch),ControllerExtensions.bindMouseDown(this,OxyMouseButton.XButton1,PlotCommands.zoomInAt),ControllerExtensions.bindMouseDown(this,OxyMouseButton.XButton2,PlotCommands.zoomOutAt),ControllerExtensions.bindMouseWheel(this,PlotCommands.zoomWheel),ControllerExtensions.bindMouseWheel(this,PlotCommands.zoomWheelFine,OxyModifierKeys.Control),ControllerExtensions.bindKeyDown(this,OxyKey.Add,PlotCommands.zoomIn),ControllerExtensions.bindKeyDown(this,OxyKey.Subtract,PlotCommands.zoomOut),ControllerExtensions.bindKeyDown(this,OxyKey.PageUp,PlotCommands.zoomIn),ControllerExtensions.bindKeyDown(this,OxyKey.PageDown,PlotCommands.zoomOut),ControllerExtensions.bindKeyDown(this,OxyKey.Add,PlotCommands.zoomInFine,OxyModifierKeys.Control),ControllerExtensions.bindKeyDown(this,OxyKey.Subtract,PlotCommands.zoomOutFine,OxyModifierKeys.Control),ControllerExtensions.bindKeyDown(this,OxyKey.PageUp,PlotCommands.zoomInFine,OxyModifierKeys.Control),ControllerExtensions.bindKeyDown(this,OxyKey.PageDown,PlotCommands.zoomOutFine,OxyModifierKeys.Control)}}function isTransposablePlotElement(je){return je instanceof Object&&"__isTransposable"in je}function setTransposablePlotElement(je){je.__isTransposable=!0}class PlotElementExtensions{static inverseTransform($e,Ve,ze){return $e.inverseTransform(newScreenPoint(Ve,ze))}static isTransposed($e){return $e.xAxis.isVertical()}static orientate($e,Ve){return PlotElementExtensions.isTransposed($e)?newScreenPoint(Ve.y,Ve.x):Ve}static orientateVector($e,Ve){return Ve=new ScreenVector($e.xAxis.isReversed?-Ve.x:Ve.x,$e.yAxis.isReversed?-Ve.y:Ve.y),PlotElementExtensions.isTransposed($e)?new ScreenVector(-Ve.y,-Ve.x):Ve}static orientateAlignment($e,Ve,ze){if($e.xAxis.isReversed&&(Ve=-Ve),$e.yAxis.isReversed&&(ze=-ze),PlotElementExtensions.isTransposed($e)){const qe=-ze;ze=-Ve,Ve=qe}return[Ve,ze]}static transform($e,Ve,ze){return $e.transform(newDataPoint(Ve,ze))}}class PlotElementUtilities{static getClippingRect($e){const Ve=OxyRect.fromScreenPoints($e.xAxis.screenMin,$e.xAxis.screenMax),ze=OxyRect.fromScreenPoints($e.yAxis.screenMin,$e.yAxis.screenMax);return Ve.intersect(ze)}static inverseTransform($e,Ve){return $e.xAxis.inverseTransformPoint(Ve.x,Ve.y,$e.yAxis)}static inverseTransformOrientated($e,Ve){return this.inverseTransform($e,PlotElementExtensions.orientate($e,Ve))}static transform($e,Ve){return $e.xAxis.transformPoint(Ve.x,Ve.y,$e.yAxis)}static transformOrientated($e,Ve){return PlotElementExtensions.orientate($e,this.transform($e,Ve))}}var PlotType=(je=>(je[je.XY=0]="XY",je[je.Cartesian=1]="Cartesian",je[je.Polar=2]="Polar",je))(PlotType||{}),TitleHorizontalAlignment=(je=>(je[je.CenteredWithinPlotArea=0]="CenteredWithinPlotArea",je[je.CenteredWithinView=1]="CenteredWithinView",je))(TitleHorizontalAlignment||{});class PlotModel extends Model{constructor($e){super(),D$1(this,"barSeriesManagers",[]),D$1(this,"plotViewReference"),D$1(this,"currentColorIndex",0),D$1(this,"isDataUpdated",!1),D$1(this,"lastPlotException"),D$1(this,"trackerChanged"),D$1(this,"updated"),D$1(this,"updating"),D$1(this,"defaultFont"),D$1(this,"defaultFontSize"),D$1(this,"_actualPlotMargins",OxyThickness.Zero),D$1(this,"_annotations"),D$1(this,"_axes"),D$1(this,"_legends"),D$1(this,"background",OxyColors.Undefined),D$1(this,"defaultColors"),D$1(this,"edgeRenderingMode"),D$1(this,"assignColorsToInvisibleSeries"),D$1(this,"isLegendVisible"),D$1(this,"padding",OxyThickness.Zero),D$1(this,"_plotBounds",OxyRect.Empty),D$1(this,"_plotAndAxisArea",OxyRect.Empty),D$1(this,"_plotArea",OxyRect.Empty),D$1(this,"axisTierDistance"),D$1(this,"plotAreaBackground",OxyColors.Undefined),D$1(this,"plotAreaBorderColor",OxyColors.Undefined),D$1(this,"plotAreaBorderThickness"),D$1(this,"plotMargins"),D$1(this,"plotType"),D$1(this,"_series"),D$1(this,"renderingDecorator"),D$1(this,"subtitle"),D$1(this,"subtitleFont"),D$1(this,"subtitleFontSize"),D$1(this,"subtitleFontWeight"),D$1(this,"textColor",OxyColors.Black),D$1(this,"title"),D$1(this,"titleToolTip"),D$1(this,"titleColor",OxyColors.Automatic),D$1(this,"clipTitle"),D$1(this,"titleClippingLength"),D$1(this,"subtitleColor",OxyColors.Automatic),D$1(this,"titleHorizontalAlignment",0),D$1(this,"_titleArea",OxyRect.Empty),D$1(this,"titleFont"),D$1(this,"titleFontSize"),D$1(this,"titleFontWeight"),D$1(this,"titlePadding"),D$1(this,"_defaultAngleAxis"),D$1(this,"_defaultMagnitudeAxis"),D$1(this,"_defaultXAxis"),D$1(this,"_defaultYAxis"),D$1(this,"_defaultColorAxis"),this._axes=newElementCollection(this),this._series=newElementCollection(this),this._annotations=newElementCollection(this),this._legends=newElementCollection(this),this.plotType=0,this.plotMargins=new OxyThickness(NaN),this.padding=new OxyThickness(8),this.background=OxyColors.Undefined,this.plotAreaBackground=OxyColors.Undefined,this.textColor=OxyColors.Black,this.titleColor=OxyColors.Automatic,this.subtitleColor=OxyColors.Automatic,this.defaultFont="Segoe UI",this.defaultFontSize=12,this.titleToolTip=void 0,this.titleFont=void 0,this.titleFontSize=18,this.titleFontWeight=FontWeights.Bold,this.subtitleFont=void 0,this.subtitleFontSize=14,this.subtitleFontWeight=FontWeights.Normal,this.titlePadding=6,this.clipTitle=!0,this.titleClippingLength=.9,this.plotAreaBorderColor=OxyColors.Black,this.plotAreaBorderThickness=new OxyThickness(1),this.edgeRenderingMode=EdgeRenderingMode.Automatic,this.assignColorsToInvisibleSeries=!0,this.isLegendVisible=!0,this.defaultColors=[OxyColor.fromRgb(78,154,6),OxyColor.fromRgb(200,141,0),OxyColor.fromRgb(204,0,0),OxyColor.fromRgb(32,74,135),OxyColors.Red,OxyColors.Orange,OxyColors.Yellow,OxyColors.Green,OxyColors.Blue,OxyColors.Indigo,OxyColors.Violet],this.axisTierDistance=4,$e&&this.applyOptions($e)}applyOptions($e){removeProperties($e,"_axes","_series","_annotations","_legends"),$e.axes&&$e.axes.length>0&&this._axes.push(...$e.axes),$e.series&&$e.series.length>0&&this._series.push(...$e.series),$e.annotations&&$e.annotations.length>0&&this._annotations.push(...$e.annotations),$e.legends&&$e.legends.length>0&&this._legends.push(...$e.legends),removeProperties($e,"axes","series","annotations","legends"),Object.assign(this,removeUndef($e))}get actualPlotMargins(){return this._actualPlotMargins}get plotView(){return this.plotViewReference}get annotations(){return this._annotations}get axes(){return this._axes}get legends(){return this._legends}get plotBounds(){return this._plotBounds}get width(){return this.plotBounds.width}get height(){return this.plotBounds.height}get plotAndAxisArea(){return this._plotAndAxisArea}get plotArea(){return this._plotArea}get series(){return this._series}get titleArea(){return this._titleArea}get defaultAngleAxis(){return this._defaultAngleAxis}get defaultMagnitudeAxis(){return this._defaultMagnitudeAxis}get defaultXAxis(){return this._defaultXAxis}get defaultYAxis(){return this._defaultYAxis}get defaultColorAxis(){return this._defaultColorAxis}get actualTitleFont(){return this.titleFont||this.defaultFont}get actualSubtitleFont(){return this.subtitleFont||this.defaultFont}attachPlotView($e){const Ve=this.plotView;if(Ve&&$e&&Ve!==$e)throw new Error("This PlotModel is already in use by some other PlotView control.");this.plotViewReference=$e}invalidatePlot($e){var Ve;(Ve=this.plotView)==null||Ve.invalidatePlot($e)}getAxesFromPoint($e){let Ve,ze,qe,Xe=0;$e.x<this.plotArea.left&&(qe=AxisPosition.Left,Xe=this.plotArea.left),$e.x>this.plotArea.right&&(qe=AxisPosition.Right,Xe=this.plotArea.right),$e.y<this.plotArea.top&&(qe=AxisPosition.Top,Xe=this.plotArea.top),$e.y>this.plotArea.bottom&&(qe=AxisPosition.Bottom,Xe=this.plotArea.bottom);for(const We of this.axes){if(!We.isAxisVisible||isColorAxis(We))continue;if(We instanceof MagnitudeAxis){Ve=We;continue}if(We instanceof AngleAxis){ze=We;continue}let Ke=NaN;if(We.isHorizontal()&&(Ke=We.inverseTransform($e.x)),We.isVertical()&&(Ke=We.inverseTransform($e.y)),Ke>=We.clipMinimum&&Ke<=We.clipMaximum){if(!qe)We.isHorizontal()?Ve||(Ve=We):We.isVertical()&&(ze||(ze=We));else if(qe===We.position){const Je=We.positionTierMinShift,Ze=We.positionTierMaxShift,Qe=We.isHorizontal()?$e.y:$e.x,St=qe===AxisPosition.Top||qe===AxisPosition.Left;(Qe>=Xe+Je&&Qe<Xe+Ze&&!St||Qe<=Xe-Je&&Qe>Xe-Ze&&St)&&(We.isHorizontal()?isNullOrUndef(Ve)&&(Ve=We):We.isVertical()&&isNullOrUndef(ze)&&(ze=We))}}}return[Ve,ze]}getDefaultColor(){return this.defaultColors[this.currentColorIndex++%this.defaultColors.length]}getDefaultLineStyle(){return this.currentColorIndex/this.defaultColors.length%Number(LineStyle.None)}getSeriesFromPoint($e,Ve=100){let ze=Number_MAX_VALUE,qe;const Xe=getReversedCopy(this.series);for(const We of Xe.filter(Ke=>Ke.isVisible)){const Ke=We.getNearestPoint($e,!0)||We.getNearestPoint($e,!1);if(!(Ke!=null&&Ke.position))continue;const Je=screenPointDistanceTo($e,Ke.position);Je<ze&&(qe=We,ze=Je)}if(ze<Ve)return qe}toString(){return this.title||""}getLastPlotException(){return this.lastPlotException}update($e){try{this.lastPlotException=null,this.onUpdating(),this.ensureDefaultAxes();const Ve=this.series.filter(qe=>qe.isVisible);if($e||!this.isDataUpdated){for(const qe of Ve)qe.updateData();this.isDataUpdated=!0}this.updateBarSeriesManagers(),this.updateMaxMin($e),this.updateUnmanagedCategoryAxes();const ze=this.assignColorsToInvisibleSeries?this.series:Ve;this.resetDefaultColor();for(const qe of ze)qe.setDefaultValues();this.onUpdated()}catch(Ve){console.log(Ve),this.lastPlotException=Ve}}getAxis($e){if(!$e)throw new Error("Axis key cannot be null.");const Ve=this.axes.find(ze=>ze.key===$e);if(!Ve)throw new Error(`Cannot find axis with Key = "${$e}"`);return Ve}getAxisOrDefault($e,Ve){return $e?Ve:this.axes.find(ze=>ze.key===$e)||Ve}resetAllAxes(){for(const $e of this.axes)$e.reset()}panAllAxes($e,Ve){for(const ze of this.axes)ze.pan(ze.isHorizontal()?$e:Ve)}zoomAllAxes($e){for(const Ve of this.axes)Ve.zoomAtCenter($e)}raiseTrackerChanged($e){const Ve=this.trackerChanged;Ve&&Ve(this,{hitResult:$e})}onTrackerChanged($e){this.raiseTrackerChanged($e)}getHitTestElements(){const $e=[],Ve=getReversedCopy(this.axes);for(const Xe of Ve.filter(We=>We.isAxisVisible&&We.layer===AxisLayer.AboveSeries))$e.push(Xe);const ze=getReversedCopy(this.annotations);for(const Xe of ze.filter(We=>We.layer===AnnotationLayer.AboveSeries))$e.push(Xe);const qe=getReversedCopy(this.series);for(const Xe of qe.filter(We=>We.isVisible))$e.push(Xe);for(const Xe of ze.filter(We=>We.layer===AnnotationLayer.BelowSeries))$e.push(Xe);for(const Xe of Ve.filter(We=>We.isAxisVisible&&We.layer===AxisLayer.BelowSeries))$e.push(Xe);for(const Xe of ze.filter(We=>We.layer===AnnotationLayer.BelowAxes))$e.push(Xe);for(const Xe of this.legends)$e.push(Xe);return $e}onUpdated(){const $e=this.updated;$e&&$e(this)}onUpdating(){const $e=this.updating;$e&&$e(this)}updateAxisTransforms(){for(const $e of this.axes)$e.updateTransform(this.plotArea)}enforceCartesianTransforms(){const $e=this.axes.filter(ze=>!isColorAxis(ze));let Ve=Math.min(...$e.map(ze=>Math.abs(ze.scale)));for(const ze of $e)ze.zoomScale(Ve);Ve=Math.max(...$e.map(ze=>Math.abs(ze.scale)));for(const ze of $e)ze.zoomScale(Ve);for(const ze of $e)ze.updateTransform(this.plotArea)}updateIntervals(){for(const $e of this.axes)$e.updateIntervals(this.plotArea)}ensureDefaultAxes(){const $e=this.axes,Ve=this.series;if(this._defaultXAxis=$e.find(ze=>ze.isHorizontal()&&ze.isXyAxis()),this._defaultYAxis=$e.find(ze=>ze.isVertical()&&ze.isXyAxis()),this._defaultMagnitudeAxis=$e.find(ze=>ze instanceof MagnitudeAxis),this._defaultAngleAxis=$e.find(ze=>ze instanceof AngleAxis),this._defaultColorAxis=$e.find(ze=>isColorAxis(ze)),isNullOrUndef(this.defaultXAxis)&&(this._defaultXAxis=this.defaultMagnitudeAxis),isNullOrUndef(this.defaultYAxis)&&(this._defaultYAxis=this.defaultAngleAxis),this.plotType===2)isNullOrUndef(this.defaultXAxis)&&(this._defaultXAxis=this._defaultMagnitudeAxis=new MagnitudeAxis),isNullOrUndef(this.defaultYAxis)&&(this._defaultYAxis=this._defaultAngleAxis=new AngleAxis);else{let ze=!1,qe=!1;isNullOrUndef(this.defaultXAxis)&&(this._defaultXAxis=new LinearAxis({position:AxisPosition.Bottom}),ze=!0),isNullOrUndef(this.defaultYAxis)&&(Ve.some(Xe=>Xe.isVisible&&Xe instanceof BarSeries)?this._defaultYAxis=new CategoryAxis({position:AxisPosition.Left}):(this._defaultYAxis=new LinearAxis({position:AxisPosition.Left}),qe=!0)),ze&&this.defaultXAxis&&this.defaultYAxis instanceof CategoryAxis&&(this.defaultXAxis.minimumPadding=0),qe&&this.defaultYAxis&&this.defaultXAxis instanceof CategoryAxis&&(this.defaultYAxis.minimumPadding=0)}Ve.some(ze=>ze.isVisible&&ze.areAxesRequired())&&($e.includes(this.defaultXAxis)||(console.assert(this.defaultXAxis,"Default x-axis not created."),this.defaultXAxis&&this.axes.push(this.defaultXAxis)),$e.includes(this.defaultYAxis)||(console.assert(this.defaultYAxis,"Default y-axis not created."),this.defaultYAxis&&this.axes.push(this.defaultYAxis)));for(const ze of this.series)ze.isVisible&&ze.areAxesRequired()&&ze.ensureAxes();for(const ze of this.annotations)ze.ensureAxes()}resetDefaultColor(){this.currentColorIndex=0}updateMaxMin($e){if($e){for(const Ve of this.axes)Ve.resetDataMaxMin();for(const Ve of this.series.filter(ze=>ze.isVisible))Ve.updateMaxMin()}for(const Ve of this.series.filter(ze=>ze.isVisible))Ve.updateAxisMaxMin();for(const Ve of this.axes)Ve.updateActualMaxMin()}updateBarSeriesManagers(){this.barSeriesManagers=[];const $e=this.series.filter(ze=>ze.isVisible&&isBarSeries(ze)).map(ze=>ze),Ve=new Map;for(const ze of $e){const qe=[...Ve.keys()].find(Xe=>Xe.ca===ze.categoryAxis&&Xe.va===ze.valueAxis);if(qe){Ve.get(qe).push(ze);continue}Ve.set({ca:ze.categoryAxis,va:ze.valueAxis},[ze])}Ve.forEach((ze,qe)=>{const Xe=new BarSeriesManager(qe.ca,qe.va,ze);Xe.update(),this.barSeriesManagers.push(Xe)})}updateUnmanagedCategoryAxes(){const $e=this.barSeriesManagers.map(ze=>ze.categoryAxis),Ve=this.axes.filter(ze=>ze instanceof CategoryAxis).map(ze=>ze).filter(ze=>!$e.includes(ze));for(const ze of Ve){let qe=0;!isInfinity(ze.dataMaximum)&&!isNaN(ze.dataMaximum)&&ze.dataMaximum>0&&(qe=Math.floor(ze.dataMaximum)+1),ze.updateLabels(qe)}}render($e,Ve){return this.renderOverride($e,Ve)}async renderOverride($e,Ve){var ze;const qe=$e.clipCount;let Xe=null;try{if(Xe=RenderingExtensions.autoResetClip($e,Ve),this.lastPlotException){const We=`An exception of type ${this.lastPlotException.constructor.name} was thrown when updating the plot model.\r
${this.lastPlotException.stack}`;await this.renderErrorMessage($e,`OxyPlot exception: ${this.lastPlotException.message}`,We);return}this.renderingDecorator&&($e=this.renderingDecorator($e)),this._plotBounds=Ve,this._actualPlotMargins=new OxyThickness(isNaN(this.plotMargins.left)?0:this.plotMargins.left,isNaN(this.plotMargins.top)?0:this.plotMargins.top,isNaN(this.plotMargins.right)?0:this.plotMargins.right,isNaN(this.plotMargins.bottom)?0:this.plotMargins.bottom);for(const We of this.legends)We.ensureLegendProperties();for(let We=0;We<10&&(await this.updatePlotArea($e),this.updateAxisTransforms(),this.updateIntervals(),!!this.adjustPlotMargins($e));We++);if(this.plotType===1&&(this.enforceCartesianTransforms(),this.updateIntervals()),await this.renderBackgrounds($e),await this.renderAnnotations($e,AnnotationLayer.BelowAxes),await this.renderAxes($e,AxisLayer.BelowSeries),await this.renderAnnotations($e,AnnotationLayer.BelowSeries),await this.renderSeries($e),await this.renderAnnotations($e,AnnotationLayer.AboveSeries),await this.renderTitle($e),await this.renderBox($e),await this.renderAxes($e,AxisLayer.AboveSeries),this.isLegendVisible&&await this.renderLegends($e),$e.clipCount!==qe+1)throw new Error("Unbalanced calls to IRenderContext.pushClip were made during rendering.")}catch(We){debugger;for(console.log(We);$e.clipCount>qe;)$e.popClip();const Ke=`An exception of type ${(ze=We.constructor)==null?void 0:ze.name} was thrown when rendering the plot model.\r
${We.stack}`;this.lastPlotException=We,await this.renderErrorMessage($e,`OxyPlot exception: ${We.message}`,Ke)}finally{Xe==null||Xe.dispose(),$e.cleanUp()}}async renderErrorMessage($e,Ve,ze,qe=12){const Xe=newScreenPoint(10,10);await $e.drawText(Xe,Ve,this.textColor,void 0,qe,FontWeights.Bold),await RenderingExtensions.drawMultilineText($e,screenPointPlus(Xe,new ScreenVector(0,qe*1.5)),ze,this.textColor,void 0,qe,qe*1.25)}adjustPlotMargins($e){const Ve=this.axes.filter(We=>We.isAxisVisible);Ve.forEach(We=>{We.measure($e)});let ze=OxyThickness.Zero;const qe=(We,Ke)=>{switch(Ke){case AxisPosition.Bottom:ze=new OxyThickness(ze.left,ze.top,ze.right,Math.max(ze.bottom,We));break;case AxisPosition.Left:ze=new OxyThickness(Math.max(ze.left,We),ze.top,ze.right,ze.bottom);break;case AxisPosition.Right:ze=new OxyThickness(ze.left,ze.top,Math.max(ze.right,We),ze.bottom);break;case AxisPosition.Top:ze=new OxyThickness(ze.left,Math.max(ze.top,We),ze.right,ze.bottom);break}};for(let We=AxisPosition.Left;We<=AxisPosition.Bottom;We++){const Ke=Ve.filter(Ze=>Ze.position===We),Je=this.adjustAxesPositions(Ke);qe(Je,We)}Ve.forEach(We=>{ze=ze.include(We.desiredMargin)});let Xe=this.plotMargins;return Xe=new OxyThickness(isNaN(Xe.left)?ze.left:Xe.left,isNaN(Xe.top)?ze.top:Xe.top,isNaN(Xe.right)?ze.right:Xe.right,isNaN(Xe.bottom)?ze.bottom:Xe.bottom),Xe.equals(this.actualPlotMargins)?!1:(this._actualPlotMargins=Xe,!0)}adjustAxesPositions($e){let Ve=0;const ze=qe=>{switch(qe.position){case AxisPosition.Left:return qe.desiredMargin.left;case AxisPosition.Right:return qe.desiredMargin.right;case AxisPosition.Top:return qe.desiredMargin.top;case AxisPosition.Bottom:return qe.desiredMargin.bottom;default:throw new Error("We don't do this for polar axes")}};return $e.reduce((qe,Xe)=>{const We=Xe.positionTier,Ke=qe.get(We);return Ke?Ke.push(Xe):qe.set(We,[Xe]),qe},new Map).forEach((qe,Xe)=>{const We=Math.max(...qe.map(ze)),Ke=Ve;Math.abs(Ve)>1e-5&&(Ve+=this.axisTierDistance),Ve+=We,qe.forEach(Je=>{Je.positionTierSize=We,Je.positionTierMinShift=Ke,Je.positionTierMaxShift=Ve})}),Ve}measureTitles($e){const Ve=$e.measureText(this.title||"",this.actualTitleFont,this.titleFontSize,this.titleFontWeight),ze=$e.measureText(this.subtitle||"",this.subtitleFont||this.actualSubtitleFont,this.subtitleFontSize,this.subtitleFontWeight),qe=Ve.height+ze.height,Xe=Math.max(Ve.width,ze.width);return new OxySize(Xe,qe)}renderAnnotations($e,Ve){return this.renderPlotElements(this.annotations.filter(ze=>ze.layer===Ve),$e,async ze=>ze.render($e))}async renderAxes($e,Ve){for(const ze of this.axes.filter(qe=>qe.isAxisVisible&&qe.layer===Ve))$e.setToolTip(ze.toolTip),await ze.render($e,0);for(const ze of this.axes.filter(qe=>qe.isAxisVisible&&qe.layer===Ve))$e.setToolTip(ze.toolTip),await ze.render($e,1);$e.setToolTip(void 0)}async renderLegends($e){if(this.isLegendVisible)return this.legends.filter(Ve=>Ve.isLegendVisible).forEach(Ve=>($e.setToolTip(Ve.toolTip),Ve.renderLegends($e)))}async renderBackgrounds($e){this.axes.length>0&&this.plotAreaBackground.isVisible()&&await $e.drawRectangle(this.plotArea,this.plotAreaBackground,OxyColors.Undefined,0,this.edgeRenderingMode);const Ve=this.series.filter(ze=>ze instanceof XYAxisSeries).map(ze=>ze).filter(ze=>ze.isVisible&&ze.background.isVisible());for(const ze of Ve)await $e.drawRectangle(ze.getScreenRectangle(),ze.background,OxyColors.Undefined,0,this.edgeRenderingMode)}async renderBox($e){if(this.axes.length>0){const Ve=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);await RenderingExtensions.drawRectangle($e,this.plotArea,this.plotAreaBorderColor,this.plotAreaBorderThickness,Ve)}}async renderSeries($e){return this.barSeriesManagers.forEach(Ve=>{Ve.initializeRender()}),this.renderPlotElements(this.series.filter(Ve=>Ve.isVisible),$e,async Ve=>Ve.render($e))}async renderPlotElements($e,Ve,ze){let qe=OxyRect.Everything;for(const Xe of $e){const We=Xe.getClippingRect();We.equals(qe)||(qe.equals(OxyRect.Everything)||(Ve.popClip(),qe=OxyRect.Everything),We.equals(OxyRect.Everything)||(Ve.pushClip(We),qe=We)),Ve.setToolTip(Xe.toolTip),await ze(Xe)}qe.equals(OxyRect.Everything)||Ve.popClip(),Ve.setToolTip(void 0)}async renderTitle($e){let Ve;this.clipTitle&&(Ve=new OxySize(this.titleArea.width*this.titleClippingLength,Number_MAX_VALUE));const ze=$e.measureText(this.title||"",this.actualTitleFont,this.titleFontSize,this.titleFontWeight),qe=(this.titleArea.left+this.titleArea.right)*.5;let Xe=this.titleArea.top;this.title&&($e.setToolTip(this.titleToolTip),await MathRenderingExtensions.drawMathText($e,newScreenPoint(qe,Xe),this.title,this.titleColor.getActualColor(this.textColor),this.actualTitleFont,this.titleFontSize,this.titleFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Top,Ve),Xe+=ze.height,$e.setToolTip(void 0)),this.subtitle&&await MathRenderingExtensions.drawMathText($e,newScreenPoint(qe,Xe),this.subtitle,this.subtitleColor.getActualColor(this.textColor),this.actualSubtitleFont,this.subtitleFontSize,this.subtitleFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Top,Ve)}async updatePlotArea($e){let Ve=new OxyRect(this.plotBounds.left+this.padding.left,this.plotBounds.top+this.padding.top,Math.max(0,this.width-this.padding.left-this.padding.right),Math.max(0,this.height-this.padding.top-this.padding.bottom));const ze=this.measureTitles($e);if(ze.height>0){const Xe=ze.height+this.titlePadding;Ve=new OxyRect(Ve.left,Ve.top+Xe,Ve.width,Math.max(0,Ve.height-Xe))}let qe=Ve.deflate(this.actualPlotMargins);if(this.isLegendVisible){let Xe=new OxySize(0,0),We=0;const Ke=this.legends.filter(Je=>Je.legendPlacement===LegendPlacement.Outside&&Je.isLegendVisible);for(const Je of Ke.filter(Ze=>isLeftLegend(Ze.legendPosition))){const Ze=Je.allowUseFullExtent?Ve.width:qe.width;let Qe=Je.allowUseFullExtent?Ve.height:qe.height;Qe=isNaN(Je.legendMaxHeight)?Qe:Math.min(Qe,Je.legendMaxHeight);const St=await Je.getLegendSize($e,new OxySize(Ze,Qe));Je.legendSize=St,Xe=new OxySize(Math.max(Xe.width,St.width),Math.max(Xe.height,St.height)),Je.legendMargin>We&&(We=Je.legendMargin)}(Xe.width>0||Xe.height>0)&&(qe=new OxyRect(qe.left+Xe.width+We,qe.top,Math.max(0,qe.width-(Xe.width+We)),qe.height)),Xe=new OxySize(0,0),We=0;for(const Je of Ke.filter(Ze=>isRightLegend(Ze.legendPosition))){const Ze=Je.allowUseFullExtent?Ve.width:qe.width;let Qe=Je.allowUseFullExtent?Ve.height:qe.height;Qe=isNaN(Je.legendMaxHeight)?Qe:Math.min(Qe,Je.legendMaxHeight);const St=await Je.getLegendSize($e,new OxySize(Ze,Qe));Je.legendSize=St,Xe=new OxySize(Math.max(Xe.width,St.width),Math.max(Xe.height,St.height)),Je.legendMargin>We&&(We=Je.legendMargin)}(Xe.width>0||Xe.height>0)&&(qe=new OxyRect(qe.left,qe.top,Math.max(0,qe.width-(Xe.width+We)),qe.height)),Xe=new OxySize(0,0),We=0;for(const Je of Ke.filter(Ze=>isTopLegend(Ze.legendPosition))){const Ze=Je.allowUseFullExtent?Ve.width:qe.width;let Qe=Je.allowUseFullExtent?Ve.height:qe.height;Qe=isNaN(Je.legendMaxHeight)?Qe:Math.min(Qe,Je.legendMaxHeight);const St=await Je.getLegendSize($e,new OxySize(Ze,Qe));Je.legendSize=St,Xe=new OxySize(Math.max(Xe.width,St.width),Math.max(Xe.height,St.height)),Je.legendMargin>We&&(We=Je.legendMargin)}(Xe.width>0||Xe.height>0)&&(qe=new OxyRect(qe.left,qe.top+Xe.height+We,qe.width,Math.max(0,qe.height-(Xe.height+We)))),Xe=new OxySize(0,0),We=0;for(const Je of Ke.filter(Ze=>isBottomLegend(Ze.legendPosition))){const Ze=Je.allowUseFullExtent?Ve.width:qe.width;let Qe=Je.allowUseFullExtent?Ve.height:qe.height;Qe=isNaN(Je.legendMaxHeight)?Qe:Math.min(Qe,Je.legendMaxHeight);const St=await Je.getLegendSize($e,new OxySize(Ze,Qe));Je.legendSize=St,Xe=new OxySize(Math.max(Xe.width,St.width),Math.max(Xe.height,St.height)),Je.legendMargin>We&&(We=Je.legendMargin)}(Xe.width>0||Xe.height>0)&&(qe=new OxyRect(qe.left,qe.top,qe.width,Math.max(0,qe.height-(Xe.height+We))));for(const Je of this.legends.filter(Ze=>Ze.legendPlacement===LegendPlacement.Inside&&Ze.isLegendVisible)){let Ze=qe.width,Qe=isNaN(Je.legendMaxHeight)?qe.height:Math.min(qe.height,Je.legendMaxHeight);Je.legendPlacement===LegendPlacement.Inside&&(Ze-=Je.legendMargin*2,Qe-=Je.legendMargin*2),Je.legendSize=await Je.getLegendSize($e,new OxySize(Ze,Qe))}}switch(qe.height<0&&(qe=new OxyRect(qe.left,qe.top,qe.width,1)),qe.width<0&&(qe=new OxyRect(qe.left,qe.top,1,qe.height)),this._plotArea=qe,this._plotAndAxisArea=qe.inflateAll(this.actualPlotMargins),this.titleHorizontalAlignment){case 1:this._titleArea=new OxyRect(this.plotBounds.left,this.plotBounds.top+this.padding.top,this.width,ze.height+this.titlePadding*2);break;default:this._titleArea=new OxyRect(this.plotArea.left,this.plotBounds.top+this.padding.top,this.plotArea.width,ze.height+this.titlePadding*2);break}for(const Xe of this.legends)Xe.legendArea=Xe.getLegendRectangle(Xe.legendSize)}}class FontWeights{}D$1(FontWeights,"Bold",700),D$1(FontWeights,"Normal",400);var HorizontalAlignment=(je=>(je[je.Left=-1]="Left",je[je.Center=0]="Center",je[je.Right=1]="Right",je))(HorizontalAlignment||{}),LineJoin=(je=>(je[je.Miter=0]="Miter",je[je.Round=1]="Round",je[je.Bevel=2]="Bevel",je))(LineJoin||{}),LineStyle=(je=>(je[je.Solid=0]="Solid",je[je.Dash=1]="Dash",je[je.Dot=2]="Dot",je[je.DashDot=3]="DashDot",je[je.DashDashDot=4]="DashDashDot",je[je.DashDotDot=5]="DashDotDot",je[je.DashDashDotDot=6]="DashDashDotDot",je[je.LongDash=7]="LongDash",je[je.LongDashDot=8]="LongDashDot",je[je.LongDashDotDot=9]="LongDashDotDot",je[je.None=10]="None",je[je.Automatic=11]="Automatic",je))(LineStyle||{});class LineStyleHelper{static getDashArray($e){switch($e){case LineStyle.Solid:return;case LineStyle.Dash:return[4,1];case LineStyle.Dot:return[1,1];case LineStyle.DashDot:return[4,1,1,1];case LineStyle.DashDashDot:return[4,1,4,1,1,1];case LineStyle.DashDotDot:return[4,1,1,1,1,1];case LineStyle.DashDashDotDot:return[4,1,4,1,1,1,1,1];case LineStyle.LongDash:return[10,1];case LineStyle.LongDashDot:return[10,1,1,1];case LineStyle.LongDashDotDot:return[10,1,1,1,1,1];default:return}}}class OxyPen{constructor($e,Ve=1,ze=LineStyle.Solid,qe=LineJoin.Miter){D$1(this,"dashArray"),this.color=$e,this.thickness=Ve,this.lineStyle=ze,this.lineJoin=qe,this.dashArray=LineStyleHelper.getDashArray(ze)}get actualDashArray(){return this.dashArray||LineStyleHelper.getDashArray(this.lineStyle)}static create($e,Ve,ze=LineStyle.Solid,qe=LineJoin.Miter){if(!($e.isInvisible()||ze===LineStyle.None||Math.abs(Ve)<=0))return new OxyPen($e,Ve,ze,qe)}}const Xt$1=class Ao{constructor($e,Ve,ze,qe){if(D$1(this,"_height"),D$1(this,"_left"),D$1(this,"_top"),D$1(this,"_width"),ze<0)throw new Error("width;The width should not be negative.");if(qe<0)throw new Error("height;The height should not be negative.");this._left=$e,this._top=Ve,this._width=ze,this._height=qe}static fromScreenPoints($e,Ve){return new Ao(Math.min($e.x,Ve.x),Math.min($e.y,Ve.y),Math.abs(Ve.x-$e.x),Math.abs(Ve.y-$e.y))}static fromScreenPointAndSize($e,Ve){return new Ao($e.x,$e.y,Ve.width,Ve.height)}get bottom(){return this._top+this._height}get height(){return this._height}get left(){return this._left}get right(){return this._left+this._width}get top(){return this._top}get width(){return this._width}get center(){return newScreenPoint(this._left+this._width*.5,this._top+this._height*.5)}get topLeft(){return newScreenPoint(this.left,this.top)}get topRight(){return newScreenPoint(this.right,this.top)}get bottomLeft(){return newScreenPoint(this.left,this.bottom)}get bottomRight(){return newScreenPoint(this.right,this.bottom)}static create($e,Ve,ze,qe){return new Ao(Math.min($e,ze),Math.min(Ve,qe),Math.abs(ze-$e),Math.abs(qe-Ve))}contains($e,Ve){return $e>=this.left&&$e<=this.right&&Ve>=this.top&&Ve<=this.bottom}containsPoint($e){return this.contains($e.x,$e.y)}toString(){return`(${this._left}, ${this._top}, ${this._width}, ${this._height})`}equals($e){return this.left===$e.left&&this.top===$e.top&&this.width===$e.width&&this.height===$e.height}inflate($e,Ve){return new Ao(this._left-$e,this._top-Ve,this._width+$e*2,this._height+Ve*2)}inflateAll($e){return new Ao(this._left-$e.left,this._top-$e.top,this._width+$e.left+$e.right,this._height+$e.top+$e.bottom)}intersect($e){const Ve=Math.max(this.left,$e.left),ze=Math.max(this.top,$e.top),qe=Math.min(this.right,$e.right),Xe=Math.min(this.bottom,$e.bottom);return qe<Ve||Xe<ze?Ao.Empty:new Ao(Ve,ze,qe-Ve,Xe-ze)}deflate($e){return new Ao(this._left+$e.left,this._top+$e.top,Math.max(0,this._width-$e.left-$e.right),Math.max(0,this._height-$e.top-$e.bottom))}offset($e,Ve){return new Ao(this._left+$e,this._top+Ve,this._width,this._height)}clip($e){const Ve=isNegativeInfinity($e.left)&&isPositiveInfinity($e.width)?$e.right:1/0,ze=isNegativeInfinity($e.top)&&isPositiveInfinity($e.height)?$e.bottom:1/0;return Ao.create(Math.max(Math.min(this.left,Ve),$e.left),Math.max(Math.min(this.top,ze),$e.top),Math.max(Math.min(this.right,Ve),$e.left),Math.max(Math.min(this.bottom,ze),$e.top))}};D$1(Xt$1,"Everything",new Xt$1(0,0,1/0,1/0)),D$1(Xt$1,"Empty",new Xt$1(0,0,0,0));let OxyRect=Xt$1;const me$2=class Ru{constructor($e,Ve){D$1(this,"_height"),D$1(this,"_width"),this._width=$e||0,this._height=Ve||0}get height(){return this._height}get width(){return this._width}toString(){return`(${this.width}, ${this.height})`}equals($e){return this.width===$e.width&&this.height===$e.height}include($e){return new Ru(Math.max(this.width,$e.width),Math.max(this.height,$e.height))}};D$1(me$2,"Empty",new me$2(0,0));let OxySize=me$2;OxySize.prototype.getBounds=function(je,$e,Ve){return OxySizeExtensions.getBounds(this,je,$e,Ve)};class OxySizeExtensions{static getBounds($e,Ve,ze,qe){const Xe=ze===HorizontalAlignment.Left?0:ze===HorizontalAlignment.Center?.5:1,We=qe===VerticalAlignment.Top?0:qe===VerticalAlignment.Middle?.5:1,Ke=new ScreenVector(Xe*$e.width,We*$e.height);if(Ve===0)return new OxyRect(-Ke.x,-Ke.y,$e.width,$e.height);const Je=new ScreenVector(0,0).minus(Ke),Ze=new ScreenVector($e.width,0).minus(Ke),Qe=new ScreenVector($e.width,$e.height).minus(Ke),St=new ScreenVector(0,$e.height).minus(Ke),ei=Ve*Math.PI/180,ti=Math.cos(ei),ni=Math.sin(ei),oi=di=>new ScreenVector(ti*di.x-ni*di.y,ni*di.x+ti*di.y),ai=oi(Je),si=oi(Ze),ri=oi(Qe),ii=oi(St),ui=Math.min(Math.min(ai.x,si.x),Math.min(ri.x,ii.x)),ci=Math.min(Math.min(ai.y,si.y),Math.min(ri.y,ii.y)),hi=Math.max(Math.max(ai.x-ui,si.x-ui),Math.max(ri.x-ui,ii.x-ui)),mi=Math.max(Math.max(ai.y-ci,si.y-ci),Math.max(ri.y-ci,ii.y-ci));return new OxyRect(ui,ci,hi,mi)}static getPolygon($e,Ve,ze,qe,Xe){const We=qe===HorizontalAlignment.Left?0:qe===HorizontalAlignment.Center?.5:1,Ke=Xe===VerticalAlignment.Top?0:Xe===VerticalAlignment.Middle?.5:1,Je=new ScreenVector(We*$e.width,Ke*$e.height);let Ze=new ScreenVector(0,0).minus(Je),Qe=new ScreenVector($e.width,0).minus(Je),St=new ScreenVector($e.width,$e.height).minus(Je),ei=new ScreenVector(0,$e.height).minus(Je);if(ze!==0){const ti=ze*Math.PI/180,ni=Math.cos(ti),oi=Math.sin(ti),ai=si=>new ScreenVector(ni*si.x-oi*si.y,oi*si.x+ni*si.y);Ze=ai(Ze),Qe=ai(Qe),St=ai(St),ei=ai(ei)}return[screenPointPlus(Ve,Ze),screenPointPlus(Ve,Qe),screenPointPlus(Ve,St),screenPointPlus(Ve,ei)]}}const pe$2=class Fu{constructor($e,Ve,ze,qe){if(D$1(this,"_bottom"),D$1(this,"_left"),D$1(this,"_right"),D$1(this,"_top"),isNullOrUndef(Ve)&&isNullOrUndef(ze)&&isNullOrUndef(qe))this._left=this._top=this._right=this._bottom=$e;else if(!isNullOrUndef(Ve)&&!isNullOrUndef(ze)&&!isNullOrUndef(qe))this._left=$e,this._top=Ve,this._right=ze,this._bottom=qe;else throw new Error("Invalid arguments")}get bottom(){return this._bottom}get left(){return this._left}get right(){return this._right}get top(){return this._top}toString(){return`(${this._left}, ${this._top}, ${this._right}, ${this._bottom})`}equals($e){return this.left===$e.left&&this.top===$e.top&&this.right===$e.right&&this.bottom===$e.bottom}include($e){return new Fu(Math.max($e.left,this.left),Math.max($e.top,this.top),Math.max($e.right,this.right),Math.max($e.bottom,this.bottom))}};D$1(pe$2,"Zero",new pe$2(0));let OxyThickness=pe$2;const ScreenPoint_Undefined=Object.freeze({x:NaN,y:NaN}),ScreenPoint_LeftTop=Object.freeze({x:0,y:0});function newScreenPoint(je,$e){return{x:je,y:$e}}function screenPointPlus(je,$e){return newScreenPoint(je.x+$e.x,je.y+$e.y)}function screenPointMinus(je,$e){return new ScreenVector(je.x-$e.x,je.y-$e.y)}function screenPointMinusVector(je,$e){return newScreenPoint(je.x-$e.x,je.y-$e.y)}function screenPointDistanceTo(je,$e){const Ve=$e.x-je.x,ze=$e.y-je.y;return Math.sqrt(Ve*Ve+ze*ze)}function screenPointDistanceToSquared(je,$e){const Ve=$e.x-je.x,ze=$e.y-je.y;return Ve*Ve+ze*ze}function ScreenPoint_isUndefined(je){return isNaN(je.x)&&isNaN(je.y)}function screenPointEquals(je,$e){return je.x===$e.x&&je.y===$e.y}class ScreenPointHelper{static findNearestPointOnPolyline($e,Ve){if(!Ve)throw new Error("points is null");let ze=Number_MAX_VALUE,qe=ScreenPoint_LeftTop;for(let Xe=0;Xe+1<Ve.length;Xe++){const We=Ve[Xe],Ke=Ve[Xe+1];if(ScreenPoint_isUndefined(We)||ScreenPoint_isUndefined(Ke))continue;const Je=ScreenPointHelper.findPointOnLine($e,We,Ke);if(ScreenPoint_isUndefined(Je))continue;const Ze=screenPointMinus($e,Je).lengthSquared;Ze<ze&&(qe=Je,ze=Ze)}return qe}static findPointOnLine($e,Ve,ze){const qe=ze.x-Ve.x,Xe=ze.y-Ve.y;let We=ScreenPointHelper.findPositionOnLine($e,Ve,ze);return isNaN(We)&&(We=0),We<0&&(We=0),We>1&&(We=1),newScreenPoint(Ve.x+We*qe,Ve.y+We*Xe)}static findPositionOnLine($e,Ve,ze){const qe=ze.x-Ve.x,Xe=ze.y-Ve.y,We=($e.x-Ve.x)*qe+($e.y-Ve.y)*Xe,Ke=qe*qe+Xe*Xe;return Ke<1e-6?NaN:We/Ke}static isPointInPolygon($e,Ve){if(!Ve)return!1;const ze=Ve.length;let qe=!1;for(let Xe=0,We=ze-1;Xe<ze;We=Xe++)Ve[Xe].y>$e.y!=Ve[We].y>$e.y&&$e.x<(Ve[We].x-Ve[Xe].x)*(($e.y-Ve[Xe].y)/(Ve[We].y-Ve[Xe].y))+Ve[Xe].x&&(qe=!qe);return qe}static resamplePoints($e,Ve){const ze=Ve*Ve,qe=$e.length,Xe=[];if(qe>0){Xe.push($e[0]);let We=0;for(let Ke=1;Ke<qe;Ke++)screenPointDistanceToSquared($e[We],$e[Ke])<ze&&Ke!==qe-1||(We=Ke,Xe.push($e[Ke]))}return Xe}static getCentroid($e){let Ve=0,ze=0,qe=0;for(let Xe=0;Xe<$e.length;Xe++){const We=(Xe+1)%$e.length,Ke=$e[Xe].x*$e[We].y-$e[We].x*$e[Xe].y;Ve+=($e[Xe].x+$e[We].x)*Ke,ze+=($e[Xe].y+$e[We].y)*Ke,qe+=Ke}return qe*=.5,Ve/=6*qe,ze/=6*qe,newScreenPoint(Ve,ze)}}const Qt$1=class Ns{constructor($e,Ve){D$1(this,"_x"),D$1(this,"_y"),this._x=$e,this._y=Ve}get length(){return Math.sqrt(this._x*this._x+this._y*this._y)}get lengthSquared(){return this._x*this._x+this._y*this._y}get x(){return this._x}get y(){return this._y}normalize(){if(this===Ns.Zero)throw new Error("Cannot normalize the zero vector");const $e=Math.sqrt(this._x*this._x+this._y*this._y);$e>0&&(this._x/=$e,this._y/=$e)}plus($e){const Ve=this;return new Ns(Ve.x+$e.x,Ve.y+$e.y)}minus($e){const Ve=this;return new Ns(Ve.x-$e.x,Ve.y-$e.y)}times($e){const Ve=this;return new Ns(Ve.x*$e,Ve.y*$e)}negate(){const $e=this;return new Ns(-$e.x,-$e.y)}toString(){return`${this._x} ${this._y}`}equals($e){return this._x===$e._x&&this._y===$e._y}};D$1(Qt$1,"Zero",Object.freeze(new Qt$1(0,0)));let ScreenVector=Qt$1;var VerticalAlignment=(je=>(je[je.Top=-1]="Top",je[je.Middle=0]="Middle",je[je.Bottom=1]="Bottom",je))(VerticalAlignment||{}),EdgeRenderingMode=(je=>(je[je.Automatic=0]="Automatic",je[je.Adaptive=1]="Adaptive",je[je.PreferSharpness=2]="PreferSharpness",je[je.PreferSpeed=3]="PreferSpeed",je[je.PreferGeometricAccuracy=4]="PreferGeometricAccuracy",je))(EdgeRenderingMode||{});const SubAlignment=.6,SubSize=.62,SuperAlignment=0,SuperSize=.62;class MathRenderingExtensions{static async drawMathText($e,Ve,ze,qe,Xe,We,Ke,Je,Ze,Qe,St,ei=!1){if(!ze)return OxySize.Empty;if(ze.includes("^{")||ze.includes("_{")){const ti=Ve.x,ni=Ve.y,oi=await this.internalDrawMathText($e,ti,ni,0,0,ze,qe,Xe,We,Ke,!0,Je);let ai=0,si=0;switch(Ze){case HorizontalAlignment.Right:ai=-oi.width;break;case HorizontalAlignment.Center:ai=-oi.width*.5;break}switch(Qe){case VerticalAlignment.Bottom:si=-oi.height;break;case VerticalAlignment.Middle:si=-oi.height*.5;break}return await this.internalDrawMathText($e,ti,ni,ai,si,ze,qe,Xe,We,Ke,!1,Je),ei?oi:OxySize.Empty}return await $e.drawText(Ve,ze,qe,Xe,We,Ke,Je,Ze,Qe,St),ei?$e.measureText(ze,Xe,We,Ke):OxySize.Empty}static async measureMathText($e,Ve,ze,qe,Xe){return Ve.includes("^{")||Ve.includes("_{")?this.internalDrawMathText($e,0,0,0,0,Ve,OxyColors.Black,ze,qe,Xe,!0,0):$e.measureText(Ve,ze,qe,Xe)}static async internalDrawMathText($e,Ve,ze,qe,Xe,We,Ke,Je,Ze,Qe,St,ei){let ti=0;const ni=ei*Math.PI/180,oi=round(Math.cos(ni),5),ai=round(Math.sin(ni),5);let si=Ve,ri=Ve,ii=Ve;const ui=ze;let ci=ze,hi=ze;const mi=Ze*SuperAlignment,di=Ze*SubAlignment,fi=Ze*SuperSize,yi=Ze*SubSize,pi=async(xi,Si,vi,Di)=>{if(!St){const Fi=Ve+(xi-Ve+qe)*oi-(Si-ze+Xe)*ai,Ci=ze+(xi-Ve+qe)*ai+(Si-ze+Xe)*oi;await $e.drawText(newScreenPoint(Fi,Ci),vi,Ke,Je,Di,Qe,ei)}const Ti=$e.measureText(vi,Je,Di,Qe);return new OxySize(Ti.width,Ti.height)};for(;ti<We.length;){if(ti+1<We.length&&We[ti]==="^"&&We[ti+1]==="{"){const Di=We.indexOf("}",ti);if(Di!==-1){const Ti=substring(We,ti+2,Di-ti-2);ti=Di+1;const Fi=si,Ci=ui+mi,Ni=await pi(Fi,Ci,Ti,fi);ri=Math.max(Fi+Ni.width,ri),ci=Math.max(Ci+Ni.height,ci),ii=Math.min(Fi,ii),hi=Math.min(Ci,hi);continue}}if(ti+1<We.length&&We[ti]==="_"&&We[ti+1]==="{"){const Di=We.indexOf("}",ti);if(Di!==-1){const Ti=substring(We,ti+2,Di-ti-2);ti=Di+1;const Fi=si,Ci=ui+di,Ni=await pi(Fi,Ci,Ti,yi);ri=Math.max(Fi+Ni.width,ri),ci=Math.max(Ci+Ni.height,ci),ii=Math.min(Fi,ii),hi=Math.min(Ci,hi);continue}}const xi=indexOfAny(We.split(""),["^","_"],ti+1);let Si;xi===-1?(Si=substring(We,ti),ti=We.length):(Si=substring(We,ti,xi-ti),ti=xi),si=ri+2;const vi=await pi(si,ui,Si,Ze);ri=Math.max(si+vi.width,ri),ci=Math.max(ui+vi.height,ci),ii=Math.min(si,ii),hi=Math.min(ui,hi),si=ri}return new OxySize(ri-ii,ci-hi)}}class RenderContextBase{constructor(){D$1(this,"rendersToScreen"),this.rendersToScreen=!0}static isStraightLine($e,Ve){return Math.abs($e.x-Ve.x)<1e-5||Math.abs($e.y-Ve.y)<1e-5}static isStraightLine2($e){for(let Ve=1;Ve<$e.length;Ve++)if(!this.isStraightLine($e[Ve-1],$e[Ve]))return!1;return!0}async drawEllipse($e,Ve,ze,qe,Xe){const We=RenderContextBase.createEllipse($e);await this.drawPolygon(We,Ve,ze,qe,Xe,void 0,LineJoin.Miter)}async drawEllipses($e,Ve,ze,qe,Xe){for(const We of $e)await this.drawEllipse(We,Ve,ze,qe,Xe)}async drawLineSegments($e,Ve,ze,qe,Xe,We){for(let Ke=0;Ke+1<$e.length;Ke+=2)await this.drawLine([$e[Ke],$e[Ke+1]],Ve,ze,qe,Xe,We)}async drawPolygons($e,Ve,ze,qe,Xe,We,Ke){for(const Je of $e)await this.drawPolygon(Je,Ve,ze,qe,Xe,We,Ke)}async drawRectangle($e,Ve,ze,qe,Xe){const We=RenderContextBase.createRectangle($e);await this.drawPolygon(We,Ve,ze,qe,Xe,void 0,LineJoin.Miter)}async drawRectangles($e,Ve,ze,qe,Xe){for(const We of $e)await this.drawRectangle(We,Ve,ze,qe,Xe)}setToolTip($e){}cleanUp(){}static createEllipse($e,Ve=40){const ze=$e.center.x,qe=$e.center.y,Xe=$e.width/2,We=$e.height/2,Ke=new Array(Ve);for(let Je=0;Je<Ve;Je++){const Ze=Math.PI*2*Je/Ve;Ke[Je]=newScreenPoint(ze+Math.cos(Ze)*Xe,qe+Math.sin(Ze)*We)}return Ke}static createRectangle($e){return[newScreenPoint($e.left,$e.top),newScreenPoint($e.left,$e.bottom),newScreenPoint($e.right,$e.bottom),newScreenPoint($e.right,$e.top)]}shouldUseAntiAliasingForRect($e){switch($e){case EdgeRenderingMode.PreferGeometricAccuracy:return!0;default:return!1}}shouldUseAntiAliasingForEllipse($e){switch($e){case EdgeRenderingMode.PreferSpeed:return!1;default:return!0}}shouldUseAntiAliasingForLine($e,Ve){switch($e){case EdgeRenderingMode.PreferSpeed:case EdgeRenderingMode.PreferSharpness:return!1;case EdgeRenderingMode.Automatic:if(RenderContextBase.isStraightLine2(Ve))return!1;break;case EdgeRenderingMode.Adaptive:if(RenderContextBase.isStraightLine2(Ve))return!1;break;default:return!0}return!0}}const oe$1=class{static getActualEdgeRenderingMode($e,Ve){return $e===EdgeRenderingMode.Automatic?Ve:$e}static async drawReducedLine($e,Ve,ze,qe,Xe,We,Ke,Je,Ze,Qe){Ve.length!==0&&(Ze?Ze.length=0:Ze=[],this.reducePoints(Ve,ze,Ze),await $e.drawLine(Ze,qe,Xe,We,Ke,Je),Ze.length=0,pushMany(Ze,Ve),Qe&&Qe(Ze))}static async drawReducedPolygon($e,Ve,ze,qe,Xe,We,Ke,Je=LineStyle.Solid,Ze=LineJoin.Miter){if(Ve.length===0||Je===LineStyle.None)return;const Qe=[];this.reducePoints(Ve,ze,Qe),await $e.drawPolygon(Qe,qe,Xe,We,Ke,LineStyleHelper.getDashArray(Je),Ze)}static async drawImage($e,Ve,ze,qe,Xe,We,Ke,Je){await $e.drawImage(Ve,0,0,Ve.width,Ve.height,ze,qe,Xe,We,Ke,Je)}static async drawMultilineText($e,Ve,ze,qe,Xe,We=10,Ke=FontWeights.Normal,Je=12){const Ze=StringHelper.splitLines(ze);for(let Qe=0;Qe<Ze.length;Qe++)await $e.drawText(newScreenPoint(Ve.x,Ve.y+Qe*Je),Ze[Qe],qe,void 0,We,Ke)}static async drawLine($e,Ve,ze,qe,Xe,We,Ke){We&&await $e.drawLine([newScreenPoint(Ve,ze),newScreenPoint(qe,Xe)],We.color,We.thickness,Ke,We.actualDashArray,We.lineJoin)}static async drawLineSegments($e,Ve,ze,qe){ze&&await $e.drawLineSegments(Ve,ze.color,ze.thickness,qe,ze.actualDashArray,ze.lineJoin)}static async drawMarker($e,Ve,ze,qe,Xe,We,Ke,Je,Ze){await this.drawMarkers($e,[Ve],ze,qe,[Xe],We,Ke,Je,Ze)}static async drawMarkers($e,Ve,ze,qe,Xe,We,Ke,Je,Ze,Qe=0,St=ScreenPoint_LeftTop){if(ze===MarkerType.None)return;const ei=[],ti=[],ni=[],oi=[],ai=new Set;let si=0;for(const ri of Ve){if(Qe>1){const ui=Math.floor((ri.x-St.x)/Qe),ci=Math.floor((ri.y-St.y)/Qe),hi=toUint(ui<<16)+toUint(ci);if(ai.has(hi)){si++;continue}ai.add(hi)}const ii=si<Xe.length?si:0;this.addMarkerGeometry(ri,ze,qe,Xe[ii],ei,ti,ni,oi),si++}Ze===EdgeRenderingMode.Automatic&&(Ze=EdgeRenderingMode.PreferGeometricAccuracy),ei.length>0&&await $e.drawEllipses(ei,We,Ke,Je,Ze),ti.length>0&&await $e.drawRectangles(ti,We,Ke,Je,Ze),ni.length>0&&await $e.drawPolygons(ni,We,Ke,Je,Ze),oi.length>0&&await $e.drawLineSegments(oi,Ke,Je,Ze)}static async drawCircle($e,Ve,ze,qe,Xe,We,Ke,Je){await $e.drawEllipse(new OxyRect(Ve-qe,ze-qe,qe*2,qe*2),Xe,We,Ke,Je)}static async drawCircle2($e,Ve,ze,qe,Xe,We,Ke){await this.drawCircle($e,Ve.x,Ve.y,ze,qe,Xe,We,Ke)}static async fillCircle($e,Ve,ze,qe,Xe){await this.drawCircle($e,Ve.x,Ve.y,ze,qe,OxyColors.Undefined,0,Xe)}static async fillRectangle($e,Ve,ze,qe){await $e.drawRectangle(Ve,ze,OxyColors.Undefined,0,qe)}static async drawRectangle($e,Ve,ze,qe,Xe){if(qe.left===qe.right&&qe.left===qe.top&&qe.left===qe.bottom){await $e.drawRectangle(Ve,OxyColors.Undefined,ze,qe.left,Xe);return}const We=Ve.left-qe.left/2+.5,Ke=Ve.right+qe.right/2-.5,Je=Ve.top-qe.top/2+.5,Ze=Ve.bottom+qe.bottom/2-.5,Qe=[newScreenPoint(We,Ve.top),newScreenPoint(Ke,Ve.top)],St=[newScreenPoint(Ve.right,Je),newScreenPoint(Ve.right,Ze)],ei=[newScreenPoint(We,Ve.bottom),newScreenPoint(Ke,Ve.bottom)],ti=[newScreenPoint(Ve.left,Je),newScreenPoint(Ve.left,Ze)];await $e.drawLine(Qe,ze,qe.top,Xe,void 0,LineJoin.Miter),await $e.drawLine(St,ze,qe.right,Xe,void 0,LineJoin.Miter),await $e.drawLine(ei,ze,qe.bottom,Xe,void 0,LineJoin.Miter),await $e.drawLine(ti,ze,qe.left,Xe,void 0,LineJoin.Miter)}static measureText($e,Ve,ze,qe,Xe,We){const Ke=$e.measureText(Ve,ze,qe,Xe);return this.measureRotatedRectangleBound(Ke,We)}static autoResetClip($e,Ve){return new AutoResetClipToken($e,Ve)}static addMarkerGeometry($e,Ve,ze,qe,Xe,We,Ke,Je){if(Ve===MarkerType.Custom){if(!ze)throw new Error("The outline should be set when MarkerType is 'Custom'.");const Qe=ze.map(St=>newScreenPoint($e.x+St.x*qe,$e.y+St.y*qe));Ke.push(Qe);return}switch(Ve){case MarkerType.Circle:Xe.push(new OxyRect($e.x-qe,$e.y-qe,qe*2,qe*2));break;case MarkerType.Square:We.push(new OxyRect($e.x-qe,$e.y-qe,qe*2,qe*2));break;case MarkerType.Diamond:Ke.push([newScreenPoint($e.x,$e.y-this.M2*qe),newScreenPoint($e.x+this.M2*qe,$e.y),newScreenPoint($e.x,$e.y+this.M2*qe),newScreenPoint($e.x-this.M2*qe,$e.y)]);break;case MarkerType.Triangle:Ke.push([newScreenPoint($e.x-qe,$e.y+this.M1*qe),newScreenPoint($e.x+qe,$e.y+this.M1*qe),newScreenPoint($e.x,$e.y-this.M2*qe)]);break;case MarkerType.Plus:case MarkerType.Star:Je.push(newScreenPoint($e.x-qe,$e.y)),Je.push(newScreenPoint($e.x+qe,$e.y)),Je.push(newScreenPoint($e.x,$e.y-qe)),Je.push(newScreenPoint($e.x,$e.y+qe));break}const Ze=this.M3;switch(Ve){case MarkerType.Cross:case MarkerType.Star:Je.push(newScreenPoint($e.x-qe*Ze,$e.y-qe*Ze)),Je.push(newScreenPoint($e.x+qe*Ze,$e.y+qe*Ze)),Je.push(newScreenPoint($e.x-qe*Ze,$e.y+qe*Ze)),Je.push(newScreenPoint($e.x+qe*Ze,$e.y-qe*Ze));break}}static measureRotatedRectangleBound($e,Ve){const ze=$e.getBounds(Ve,HorizontalAlignment.Center,VerticalAlignment.Middle);return new OxySize(ze.width,ze.height)}static reducePoints($e,Ve,ze){const qe=$e.length;if(qe===0)return;ze.push($e[0]);let Xe=0;for(let We=1;We<qe;We++){const Ke=$e[We],Je=Ke.x-$e[Xe].x,Ze=Ke.y-$e[Xe].y;(Je*Je+Ze*Ze>Ve||We===qe-1)&&(ze.push(newScreenPoint(Ke.x,Ke.y)),Xe=We)}}static transformAndInterpolateLines($e,Ve,ze,qe){const Xe=$e.xAxis,We=$e.yAxis;if(Xe.isLogarithmic()||We.isLogarithmic()){let Ke=!1,Je=!0,Ze=DataPoint_Undefined;for(const Qe of Ve)if(DataPoint_isUnDefined(Qe)||Xe.isLogarithmic()&&Qe.x<=0||We.isLogarithmic()&&Qe.y<=0)Je=!0;else{if(Je)ze.length>0&&ze.push(ScreenPoint_Undefined),Je=!1,Ke=!0;else if(Ke){const St=dataPointMinus(Qe,Ze);this.interpolatePoints(ei=>$e.transform(dataPointPlus(Ze,St.times(ei))),ze,qe,Ke)}Ze=Qe}}else{let Ke=!0;for(const Je of Ve)DataPoint_isUnDefined(Je)?Ke=!0:(Ke&&ze.length>0&&ze.push(ScreenPoint_Undefined),ze.push($e.transform(Je)),Ke=!1)}}static interpolatePoints($e,Ve,ze,qe){const Xe=ze*ze,We=[],Ke=[];We.push(1),Ke.push($e(1));let Je=0,Ze=$e(0);for(qe&&Ve.push(Ze);We.length>0;){let Qe=We[We.length-1],St=Ke[Ke.length-1];screenPointDistanceToSquared(St,Ze)<Xe?(Je=Qe,Ze=St,Ve.push(St),We.pop(),Ke.pop()):(Qe=Je+(Qe-Je)/2,St=$e(Qe),We.push(Qe),Ke.push(St))}}};D$1(oe$1,"M1",Math.tan(Math.PI/6)),D$1(oe$1,"M2",Math.sqrt(1+oe$1.M1*oe$1.M1)),D$1(oe$1,"M3",Math.tan(Math.PI/4));let RenderingExtensions=oe$1;class AutoResetClipToken{constructor($e,Ve){D$1(this,"renderContext"),this.renderContext=$e,$e.pushClip(Ve)}dispose(){this.renderContext.popClip()}}class ClippingRenderContext extends RenderContextBase{constructor(){super(...arguments),D$1(this,"clipStack",[])}popClip(){if(this.clipStack.length===0)throw new Error("Unbalanced call to popClip.");const $e=this.clipStack.pop();if(this.clipStack.length>0){const Ve=this.clipStack[this.clipStack.length-1];$e.equals(Ve)||(this.resetClip(),this.setClip(Ve))}else this.resetClip()}pushClip($e){if(this.clipStack.length>0){const Ve=this.clipStack[this.clipStack.length-1],ze=$e.intersect(Ve);Ve.equals(ze)||(this.resetClip(),this.setClip(ze)),this.clipStack.push(ze)}else this.setClip($e),this.clipStack.push($e)}get clipCount(){return this.clipStack.length}}class XkcdRenderingDecorator extends RenderContextBase{constructor($e){super(),D$1(this,"rc"),D$1(this,"distortionFactor"),D$1(this,"interpolationDistance"),D$1(this,"fontFamily"),D$1(this,"thicknessScale"),this.rc=$e,this.rendersToScreen=this.rc.rendersToScreen,this.distortionFactor=7,this.interpolationDistance=10,this.thicknessScale=2,this.fontFamily="Humor Sans"}get clipCount(){return this.rc.clipCount}async drawLine($e,Ve,ze,qe,Xe,We){const Ke=this.distort($e);await this.rc.drawLine(Ke,Ve,ze*this.thicknessScale,qe,Xe,We)}async drawPolygon($e,Ve,ze,qe,Xe,We,Ke){const Je=[...$e,$e[0]],Ze=this.distort(Je);await this.rc.drawPolygon(Ze,Ve,ze,qe*this.thicknessScale,Xe,We,Ke)}async drawText($e,Ve,ze,qe,Xe,We,Ke,Je,Ze,Qe){await this.rc.drawText($e,Ve,ze,this.getFontFamily(qe),Xe,We,Ke,Je,Ze,Qe)}measureText($e,Ve,ze,qe){return this.rc.measureText($e,this.getFontFamily(Ve),ze,qe)}setToolTip($e){this.rc.setToolTip($e)}cleanUp(){this.rc.cleanUp()}async drawImage($e,Ve,ze,qe,Xe,We,Ke,Je,Ze,Qe,St){await this.rc.drawImage($e,Ve,ze,qe,Xe,We,Ke,Je,Ze,Qe,St)}pushClip($e){this.rc.pushClip($e)}popClip(){this.rc.popClip()}getFontFamily($e){return this.fontFamily}distort($e){const Ve=this.interpolate($e,this.interpolationDistance),ze=new Array(Ve.length);let qe=this.generateRandomNumbers(Ve.length);qe=this.applyMovingAverage(qe,5);const Xe=this.distortionFactor,We=Xe/2;for(let Ke=0;Ke<Ve.length;Ke++){if(Ke===0||Ke===Ve.length-1){ze[Ke]=Ve[Ke];continue}const Je=screenPointMinus(Ve[Ke+1],Ve[Ke-1]);Je.normalize();const Ze=new ScreenVector(Je.y,-Je.x).times(qe[Ke]*Xe-We);ze[Ke]=screenPointPlus(Ve[Ke],Ze)}return ze}generateRandomNumbers($e){const Ve=new Array($e);for(let ze=0;ze<$e;ze++)Ve[ze]=Math.random();return Ve}applyMovingAverage($e,Ve){const ze=$e.length,qe=new Array(ze).fill(0),Xe=Math.round(Ve/2);for(let We=0;We<ze;We++){const Ke=Math.max(0,We-Xe),Je=Math.min(ze-1,We+Xe);for(let Ze=Ke;Ze<=Je;Ze++)qe[We]+=$e[Ze];qe[We]/=Ve}return qe}interpolate($e,Ve){let ze=ScreenPoint_LeftTop,qe=-1,Xe=Ve;const We=[];for(const Ke of $e){if(qe<0){We.push(Ke),ze=Ke,qe=0;continue}const Je=screenPointMinus(Ke,ze).length;if(Je>0)for(;Xe>=qe&&Xe<=qe+Je;){const Ze=(Xe-qe)/Je;We.push(newScreenPoint(ze.x*(1-Ze)+Ke.x*Ze,ze.y*(1-Ze)+Ke.y*Ze)),Xe+=Ve}qe+=Je,ze=Ke}return We.push(ze),We}}class Decimator{static decimate($e,Ve){if($e===void 0||$e.length===0)return;let ze=$e[0],qe=Math.round(ze.x),Xe=Math.round(ze.y),We=Xe,Ke=Xe,Je=Xe;for(let Ze=1;Ze<$e.length;++Ze){ze=$e[Ze];const Qe=Math.round(ze.x),St=Math.round(ze.y);if(Qe!==qe){Decimator.addVerticalPoints(Ve,qe,Ke,Je,Xe,We),Ke=Je=Xe=We=St,qe=Qe;continue}St<Xe&&(Xe=St),St>We&&(We=St),Je=St}Je=Ke===Xe?We:Xe,Decimator.addVerticalPoints(Ve,qe,Ke,Je,Xe,We)}static addVerticalPoints($e,Ve,ze,qe,Xe,We){if($e.push(newScreenPoint(Ve,ze)),ze===Xe){Xe!==We&&$e.push(newScreenPoint(Ve,We)),We!==qe&&$e.push(newScreenPoint(Ve,qe));return}if(ze===We){We!==Xe&&$e.push(newScreenPoint(Ve,Xe)),Xe!==qe&&$e.push(newScreenPoint(Ve,qe));return}qe===Xe?Xe!==We&&$e.push(newScreenPoint(Ve,We)):qe===We?We!==Xe&&$e.push(newScreenPoint(Ve,Xe)):($e.push(newScreenPoint(Ve,Xe)),$e.push(newScreenPoint(Ve,We))),$e.push(newScreenPoint(Ve,qe))}}class CanonicalSpline{constructor($e){D$1(this,"tension"),this.tension=$e}createSplineDp($e,Ve,ze){return CanonicalSpline.createSplineForDp($e,this.tension,void 0,Ve,ze)}createSplineSp($e,Ve,ze){return CanonicalSpline.createSpline($e,this.tension,void 0,Ve,ze)}static createSplineForDp($e,Ve,ze,qe,Xe){const We=$e.map(Ze=>newScreenPoint(Ze.x,Ze.y)),Ke=CanonicalSpline.createSpline(We,Ve,ze,qe,Xe),Je=[];for(const Ze of Ke)Je.push(newDataPoint(Ze.x,Ze.y));return Je}static createSpline($e,Ve,ze,qe,Xe){const We=[];if(!$e)return We;const Ke=$e.length;if(Ke<1)return We;if(Ke<2)return We.push(...$e),We;if(Ke===2)qe?(CanonicalSpline.segment(We,$e[1],$e[0],$e[1],$e[0],Ve,Ve,Xe),CanonicalSpline.segment(We,$e[0],$e[1],$e[0],$e[1],Ve,Ve,Xe)):CanonicalSpline.segment(We,$e[0],$e[0],$e[1],$e[1],Ve,Ve,Xe);else{const Je=ze&&ze.length>0;for(let Ze=0;Ze<Ke;Ze++){const Qe=Je?ze[Ze%ze.length]:Ve,St=Je?ze[(Ze+1)%ze.length]:Ve;Ze===0?CanonicalSpline.segment(We,qe?$e[Ke-1]:$e[0],$e[0],$e[1],$e[2],Qe,St,Xe):Ze===Ke-2?CanonicalSpline.segment(We,$e[Ze-1],$e[Ze],$e[Ze+1],qe?$e[0]:$e[Ze+1],Qe,St,Xe):Ze===Ke-1?qe&&CanonicalSpline.segment(We,$e[Ze-1],$e[Ze],$e[0],$e[1],Qe,St,Xe):CanonicalSpline.segment(We,$e[Ze-1],$e[Ze],$e[Ze+1],$e[Ze+2],Qe,St,Xe)}}return We}static segment($e,Ve,ze,qe,Xe,We,Ke,Je,Ze=1e3){const Qe=We*(qe.x-Ve.x),St=We*(qe.y-Ve.y),ei=Ke*(Xe.x-ze.x),ti=Ke*(Xe.y-ze.y),ni=Qe+ei+2*ze.x-2*qe.x,oi=St+ti+2*ze.y-2*qe.y,ai=-2*Qe-ei-3*ze.x+3*qe.x,si=-2*St-ti-3*ze.y+3*qe.y,ri=Qe,ii=St,ui=ze.x,ci=ze.y,hi=Math.min(Ze,Math.round((Math.abs(ze.x-qe.x)+Math.abs(ze.y-qe.y))/Je));for(let mi=1;mi<hi;mi++){const di=mi/(hi-1),fi=newScreenPoint(ni*di*di*di+ai*di*di+ri*di+ui,oi*di*di*di+si*di*di+ii*di+ci);$e.push(fi)}}}class CatmullRomSpline{constructor($e){D$1(this,"alpha"),D$1(this,"maxSegments"),this.alpha=$e,this.maxSegments=100}createSplineDp($e,Ve,ze){return CatmullRomSpline.createSplineForDp($e,this.alpha,Ve,ze,this.maxSegments)}createSplineSp($e,Ve,ze){return CatmullRomSpline.createSpline($e,this.alpha,Ve,ze,this.maxSegments)}static createSplineForDp($e,Ve,ze,qe,Xe){const We=$e.map(Ze=>newScreenPoint(Ze.x,Ze.y)),Ke=this.createSpline(We,Ve,ze,qe,Xe),Je=[];for(const Ze of Ke)Je.push(newDataPoint(Ze.x,Ze.y));return Je}static createSpline($e,Ve,ze,qe,Xe){const We=[];if($e===void 0)return We;const Ke=$e.length;if(Ke<1)return We;if(Ke<2)return We.push(...$e),We;if(Ke===2)ze?(this.segment(We,$e[1],$e[0],$e[1],$e[0],Ve,qe,Xe),this.segment(We,$e[0],$e[1],$e[0],$e[1],Ve,qe,Xe)):this.segment(We,$e[0],$e[0],$e[1],$e[1],Ve,qe,Xe);else for(let Je=0;Je<Ke;Je++)Je===0?this.segment(We,ze?$e[Ke-1]:$e[0],$e[0],$e[1],$e[2],Ve,qe,Xe):Je===Ke-2?this.segment(We,$e[Je-1],$e[Je],$e[Je+1],ze?$e[0]:$e[Je+1],Ve,qe,Xe):Je===Ke-1?ze&&this.segment(We,$e[Je-1],$e[Je],$e[0],$e[1],Ve,qe,Xe):this.segment(We,$e[Je-1],$e[Je],$e[Je+1],$e[Je+2],Ve,qe,Xe);return We}static segment($e,Ve,ze,qe,Xe,We,Ke,Je){if(screenPointEquals(ze,qe)){$e.push(ze);return}screenPointEquals(Ve,ze)&&(Ve=this.prev(ze,qe)),screenPointEquals(qe,Xe)&&(Xe=this.prev(qe,ze));const Ze=0,Qe=this.getT(Ze,Ve,ze,We),St=this.getT(Qe,ze,qe,We),ei=this.getT(St,qe,Xe,We);let ti=Math.round((Math.abs(ze.x-qe.x)+Math.abs(ze.y-qe.y))/Ke);ti=Math.max(0,ti),ti=Math.min(Je,ti);for(let ni=Qe;ni<St;ni+=(St-Qe)/ti){const oi=this.sum(this.mult((Qe-ni)/(Qe-Ze),Ve),this.mult((ni-Ze)/(Qe-Ze),ze)),ai=this.sum(this.mult((St-ni)/(St-Qe),ze),this.mult((ni-Qe)/(St-Qe),qe)),si=this.sum(this.mult((ei-ni)/(ei-St),qe),this.mult((ni-St)/(ei-St),Xe)),ri=this.sum(this.mult((St-ni)/(St-Ze),oi),this.mult((ni-Ze)/(St-Ze),ai)),ii=this.sum(this.mult((ei-ni)/(ei-Qe),ai),this.mult((ni-Qe)/(ei-Qe),si)),ui=this.sum(this.mult((St-ni)/(St-Qe),ri),this.mult((ni-Qe)/(St-Qe),ii));$e.push(ui)}}static getT($e,Ve,ze,qe){const Xe=Math.pow(ze.x-Ve.x,2)+Math.pow(ze.y-Ve.y,2),We=Math.sqrt(Xe);return Math.pow(We,qe)+$e}static mult($e,Ve){return newScreenPoint(Ve.x*$e,Ve.y*$e)}static equals($e,Ve){return $e.x===Ve.x&&$e.y===Ve.y}static prev($e,Ve){return newScreenPoint($e.x-1e-4*(Ve.x-$e.x),$e.y-1e-4*(Ve.y-$e.y))}static sum($e,Ve){return newScreenPoint($e.x+Ve.x,$e.y+Ve.y)}}class InterpolationAlgorithms{}D$1(InterpolationAlgorithms,"CanonicalSpline",new CanonicalSpline(.5)),D$1(InterpolationAlgorithms,"CatmullRomSpline",new CatmullRomSpline(.5)),D$1(InterpolationAlgorithms,"UniformCatmullRomSpline",new CatmullRomSpline(0)),D$1(InterpolationAlgorithms,"ChordalCatmullRomSpline",new CatmullRomSpline(1));let Series$1=class extends PlotElement{constructor($e){super($e),D$1(this,"background"),D$1(this,"isVisible"),D$1(this,"title"),D$1(this,"legendKey"),D$1(this,"seriesGroupName"),D$1(this,"renderInLegend"),D$1(this,"trackerStringFormatter"),D$1(this,"trackerKey"),this.isVisible=!0,this.background=OxyColors.Undefined,this.renderInLegend=!0}getNearestPoint($e,Ve){}hitTestOverride($e){const Ve=this.getNearestPoint($e.point,!0)||this.getNearestPoint($e.point,!1);if(Ve!=null&&Ve.position)return screenPointDistanceTo(Ve.position,$e.point)>$e.tolerance?void 0:{element:this,nearestHitPoint:Ve.position,item:Ve.item,index:Ve.index}}};class ItemsSeries extends Series$1{constructor($e){super($e),D$1(this,"itemsSource")}static getItem($e,Ve){if(!(!$e||Ve<0)&&Ve<$e.length&&Ve>=0)return $e[Ve]}getItem($e){if(this.itemsSource)return ItemsSeries.getItem(this.itemsSource,$e)}}const ne$1=class tl extends ItemsSeries{constructor($e){super($e),D$1(this,"trackerStringFormatter"),D$1(this,"_maxX",0),D$1(this,"_maxY",0),D$1(this,"_minX",0),D$1(this,"_minY",0),D$1(this,"_xAxis"),D$1(this,"xAxisKey"),D$1(this,"_yAxis"),D$1(this,"yAxisKey"),D$1(this,"isXMonotonic",!1),D$1(this,"windowStartIndex",0),this.trackerStringFormatter=tl.DefaultTrackerFormatter,setTransposablePlotElement(this)}get maxX(){return this._maxX}set maxX($e){this._maxX=$e}get maxY(){return this._maxY}set maxY($e){this._maxY=$e}get minX(){return this._minX}set minX($e){this._minX=$e}get minY(){return this._minY}set minY($e){this._minY=$e}get xAxis(){return this._xAxis}get yAxis(){return this._yAxis}getClippingRect(){return PlotElementUtilities.getClippingRect(this)}getScreenRectangle(){return this.getClippingRect()}inverseTransform($e){return PlotElementUtilities.inverseTransformOrientated(this,$e)}async renderLegend($e,Ve){}transform($e){return PlotElementUtilities.transformOrientated(this,$e)}areAxesRequired(){return!0}ensureAxes(){this._xAxis=this.xAxisKey?this.plotModel.getAxis(this.xAxisKey):this.plotModel.defaultXAxis,this._yAxis=this.yAxisKey?this.plotModel.getAxis(this.yAxisKey):this.plotModel.defaultYAxis}isUsing($e){return!1}setDefaultValues(){}updateAxisMaxMin(){this.xAxis.include(this.minX),this.xAxis.include(this.maxX),this.yAxis.include(this.minY),this.yAxis.include(this.maxY)}updateData(){this.windowStartIndex=0}updateMaxMin(){this.minX=this.minY=this.maxX=this.maxY=Number.NaN}getNearestInterpolatedPointInternal($e,Ve,ze){if(!this.xAxis||!this.yAxis||!$e)return;let qe=ScreenPoint_LeftTop,Xe=DataPoint_Zero,We=-1,Ke=Number_MAX_VALUE;for(let Je=Ve;Je+1<$e.length;Je++){const Ze=$e[Je],Qe=$e[Je+1];if(!this.isValidPoint(Ze)||!this.isValidPoint(Qe))continue;const St=this.transform(Ze),ei=this.transform(Qe),ti=ScreenPointHelper.findPointOnLine(ze,St,ei);if(ScreenPoint_isUndefined(ti))continue;const ni=screenPointMinus(ze,ti).lengthSquared;if(ni<Ke){const oi=screenPointMinus(ei,St).length,ai=oi>0?screenPointMinus(ti,St).length/oi:0;Xe=this.inverseTransform(ti),qe=ti,Ke=ni,We=Je+ai}}if(Ke<Number_MAX_VALUE){const Je=this.getItem(Math.round(We));return new TrackerHitResult({series:this,dataPoint:Xe,position:qe,item:Je,index:We})}}getNearestPointInternal($e,Ve,ze){let qe=ScreenPoint_LeftTop,Xe=DataPoint_Zero,We=-1,Ke=Number_MAX_VALUE,Je=Ve;for(const Ze of $e.slice(Ve)){if(!this.isValidPoint(Ze)){Je++;continue}const Qe=PlotElementExtensions.transform(this,Ze.x,Ze.y),St=screenPointMinus(Qe,ze).lengthSquared;St<Ke&&(Xe=Ze,qe=Qe,Ke=St,We=Je),Je++}if(Ke<Number_MAX_VALUE){const Ze=this.getItem(Math.round(We));return new TrackerHitResult({series:this,dataPoint:Xe,position:qe,item:Ze,index:We})}}isValidPoint($e){return this.isValidPoint2($e.x,$e.y)}isValidPoint2($e,Ve){return!!(this.xAxis&&this.xAxis.isValidValue($e)&&this.yAxis&&this.yAxis.isValidValue(Ve))}internalUpdateMaxMin($e){if(!$e)throw new Error("points is null");if(this.isXMonotonic=!0,$e.length===0)return;let Ve=this.minX,ze=this.minY,qe=this.maxX,Xe=this.maxY;isNaN(Ve)&&(Ve=Number_MAX_VALUE),isNaN(ze)&&(ze=Number_MAX_VALUE),isNaN(qe)&&(qe=Number_MIN_VALUE),isNaN(Xe)&&(Xe=Number_MIN_VALUE);let We=Number_MIN_VALUE;for(const Ke of $e){const Je=Ke.x,Ze=Ke.y;this.isValidPoint2(Je,Ze)&&(Je<We&&(this.isXMonotonic=!1),Je<Ve&&(Ve=Je),Je>qe&&(qe=Je),Ze<ze&&(ze=Ze),Ze>Xe&&(Xe=Ze),We=Je)}Ve<Number_MAX_VALUE&&(this.minX=Ve),ze<Number_MAX_VALUE&&(this.minY=ze),qe>Number_MIN_VALUE&&(this.maxX=qe),Xe>Number_MIN_VALUE&&(this.maxY=Xe)}internalUpdateMaxMin2($e,Ve,ze){if(!$e)throw new Error("items is null");if(this.isXMonotonic=!0,$e.length===0)return;let qe=this.minX,Xe=this.minY,We=this.maxX,Ke=this.maxY;isNaN(qe)&&(qe=Number_MAX_VALUE),isNaN(Xe)&&(Xe=Number_MAX_VALUE),isNaN(We)&&(We=Number_MIN_VALUE),isNaN(Ke)&&(Ke=Number_MIN_VALUE);let Je=Number_MIN_VALUE;for(const Ze of $e){const Qe=Ve(Ze),St=ze(Ze);this.isValidPoint2(Qe,St)&&(Qe<Je&&(this.isXMonotonic=!1),Qe<qe&&(qe=Qe),Qe>We&&(We=Qe),St<Xe&&(Xe=St),St>Ke&&(Ke=St),Je=Qe)}qe<Number_MAX_VALUE&&(this.minX=qe),Xe<Number_MAX_VALUE&&(this.minY=Xe),We>Number_MIN_VALUE&&(this.maxX=We),Ke>Number_MIN_VALUE&&(this.maxY=Ke)}internalUpdateMaxMin3($e,Ve,ze,qe,Xe){if(!$e)throw new Error("items is null");if(this.isXMonotonic=!0,$e.length===0)return;let We=this.minX,Ke=this.minY,Je=this.maxX,Ze=this.maxY;isNaN(We)&&(We=Number_MAX_VALUE),isNaN(Ke)&&(Ke=Number_MAX_VALUE),isNaN(Je)&&(Je=Number_MIN_VALUE),isNaN(Ze)&&(Ze=Number_MIN_VALUE);let Qe=Number_MIN_VALUE,St=Number_MIN_VALUE;for(const ei of $e){const ti=Ve(ei),ni=ze(ei),oi=qe(ei),ai=Xe(ei);!this.isValidPoint2(ti,oi)||!this.isValidPoint2(ni,ai)||((ti<Qe||ni<St)&&(this.isXMonotonic=!1),ti<We&&(We=ti),ni>Je&&(Je=ni),oi<Ke&&(Ke=oi),ai>Ze&&(Ze=ai),Qe=ti,St=ni)}We<Number_MAX_VALUE&&(this.minX=We),Ke<Number_MAX_VALUE&&(this.minY=Ke),Je>Number_MIN_VALUE&&(this.maxX=Je),Ze>Number_MIN_VALUE&&(this.maxY=Ze)}verifyAxes(){if(!this.xAxis)throw new Error("XAxis not defined.");if(!this.yAxis)throw new Error("YAxis not defined.")}updateWindowStartIndex($e,Ve,ze,qe){return qe=this.findWindowStartIndex($e,Ve,ze,qe),qe>0&&qe--,qe}findWindowStartIndex($e,Ve,ze,qe){let Xe=0,We=$e.length-1;for(;We>0&&isNaN(Ve($e[We]));)We-=1;let Ke=We,Je=Math.max(0,Math.min(Ke,qe));const Ze=Qe=>{for(;Qe<=We;){const St=Ve($e[Qe]);if(isNaN(St))Qe+=1;else return St}return Ve($e[We])};for(;Xe<Ke;){const Qe=Ze(Je);if(Qe===ze){Xe=Je;break}else Qe>ze?Ke=Je-1:Xe=Je;if(Xe>=Ke)break;const St=Ze(Ke),ei=Ze(Xe),ti=(Ke-Xe+1)/(St-ei);Je=Xe+Math.round((ze-ei)*ti),Je=Math.max(Xe+1,Math.min(Je,Ke))}for(;Xe>0&&Ve($e[Xe])>ze;)Xe-=1;return Xe}formatDefaultTrackerString($e,Ve,ze){var qe,Xe,We,Ke;if(!this.trackerStringFormatter)return;const Je={item:$e,title:this.title||""};return Ve&&(Je.xTitle=((qe=this.xAxis)==null?void 0:qe.title)??tl.defaultXAxisTitle,Je.xValue=(Xe=this.xAxis)==null?void 0:Xe.getValue(Ve.x),Je.yTitle=((We=this.yAxis)==null?void 0:We.title)??tl.defaultYAxisTitle,Je.yValue=(Ke=this.yAxis)==null?void 0:Ke.getValue(Ve.y)),ze&&ze(Je),this.trackerStringFormatter(Je)}};D$1(ne$1,"DefaultTrackerFormatter",je=>`${je.title||""}
${je.xTitle}: ${je.xValue}
${je.yTitle}: ${je.yValue}`),D$1(ne$1,"defaultXAxisTitle","X"),D$1(ne$1,"defaultYAxisTitle","Y");let XYAxisSeries=ne$1;class DataPointSeries extends XYAxisSeries{constructor($e){super($e),D$1(this,"_points",[]),D$1(this,"_itemsSourcePoints",[]),D$1(this,"canTrackerInterpolatePoints",!1),D$1(this,"dataFieldX"),D$1(this,"dataFieldY"),D$1(this,"mapping"),$e&&$e.points&&(this._points.push(...$e.points),delete $e.points)}get points(){return this._points}get actualPoints(){return this.itemsSource?this._itemsSourcePoints:this._points}getNearestPoint($e,Ve){if(Ve&&!this.canTrackerInterpolatePoints)return;let ze;return Ve&&(ze=this.getNearestInterpolatedPointInternal(this.actualPoints,0,$e)),ze||(ze=this.getNearestPointInternal(this.actualPoints,0,$e)),ze&&this.trackerStringFormatter&&(ze.text=this.formatDefaultTrackerString(ze.item,ze.dataPoint)),ze}updateData(){this.itemsSource&&this.updateItemsSourcePoints()}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMin(this.actualPoints)}getItem($e){const Ve=this.actualPoints;return!this.itemsSource&&Ve&&$e<Ve.length?Ve[$e]:super.getItem($e)}clearItemsSourcePoints(){this._itemsSourcePoints&&(this._itemsSourcePoints.length=0)}updateItemsSourcePoints(){if(!this.itemsSource)return;const $e=this.itemsSource;if(this.mapping){this.clearItemsSourcePoints();for(const Ve of $e)this._itemsSourcePoints.push(this.mapping(Ve));return}this.clearItemsSourcePoints();for(const Ve of $e){const ze=this.convertToDataPoint(Ve);ze&&this._itemsSourcePoints.push(ze)}}convertToDataPoint($e){if($e){if(isDataPoint($e))return $e;if(this.dataFieldX&&this.dataFieldY){const Ve=this.xAxis?this.xAxis.itemToDouble($e[this.dataFieldX]):Number($e[this.dataFieldX]),ze=this.yAxis?this.yAxis.itemToDouble($e[this.dataFieldY]):Number($e[this.dataFieldY]);return newDataPoint(Ve,ze)}if(isDataPointProvider($e))return $e.getDataPoint();throw new Error(`Cannot convert item ${$e} to DataPoint`)}}}var LineLegendPosition=(je=>(je[je.None=0]="None",je[je.Start=1]="Start",je[je.End=2]="End",je))(LineLegendPosition||{});const _e=class Bu extends DataPointSeries{constructor($e){super($e),D$1(this,"outputBuffer"),D$1(this,"contiguousScreenPointsBuffer"),D$1(this,"decimatorBuffer",[]),D$1(this,"defaultColor",OxyColors.Undefined),D$1(this,"defaultMarkerFill",OxyColors.Undefined),D$1(this,"defaultLineStyle",LineStyle.Solid),D$1(this,"_smoothedPoints"),D$1(this,"color"),D$1(this,"brokenLineColor"),D$1(this,"brokenLineStyle",LineStyle.Solid),D$1(this,"brokenLineThickness",0),D$1(this,"dashes"),D$1(this,"decimator"),D$1(this,"labelStringFormatter"),D$1(this,"labelMargin"),D$1(this,"lineJoin"),D$1(this,"lineStyle"),D$1(this,"lineLegendPosition",0),D$1(this,"markerFill"),D$1(this,"markerOutline"),D$1(this,"markerResolution"),D$1(this,"markerSize"),D$1(this,"markerStroke"),D$1(this,"markerStrokeThickness"),D$1(this,"markerType"),D$1(this,"minimumSegmentLength"),D$1(this,"interpolationAlgorithm"),D$1(this,"strokeThickness"),this.strokeThickness=2,this.lineJoin=LineJoin.Bevel,this.lineStyle=LineStyle.Automatic,this.color=OxyColors.Automatic,this.brokenLineColor=OxyColors.Undefined,this.markerFill=OxyColors.Automatic,this.markerStroke=OxyColors.Automatic,this.markerResolution=0,this.markerSize=3,this.markerStrokeThickness=1,this.markerType=MarkerType.None,this.minimumSegmentLength=2,this.canTrackerInterpolatePoints=!0,this.labelMargin=6,this._smoothedPoints=new Array,$e&&Object.assign(this,removeUndef($e))}get actualColor(){return this.color.getActualColor(this.defaultColor)}get actualMarkerFill(){return this.markerFill.getActualColor(this.defaultMarkerFill)}get actualLineStyle(){return this.lineStyle!=LineStyle.Automatic?this.lineStyle:this.defaultLineStyle}get actualDashArray(){return this.dashes??LineStyleHelper.getDashArray(this.actualLineStyle)}get smoothedPoints(){return this._smoothedPoints}getNearestPoint($e,Ve){if(Ve&&(this.actualColor.isInvisible()||this.strokeThickness===0||!this.canTrackerInterpolatePoints))return;const ze=this.trackerStringFormatter;if(Ve&&this.interpolationAlgorithm){const qe=this.getNearestInterpolatedPointInternal(this.smoothedPoints,0,$e);return qe&&ze&&(qe.text=ze({item:qe.item,title:this.title,xTitle:this.xAxis.title??XYAxisSeries.defaultXAxisTitle,xValue:this.xAxis.getValue(qe.dataPoint.x),yTitle:this.yAxis.title??XYAxisSeries.defaultYAxisTitle,yValue:this.yAxis.getValue(qe.dataPoint.y)})),qe}return super.getNearestPoint($e,Ve)}async render($e){const Ve=this.actualPoints;!Ve||Ve.length===0||(this.verifyAxes(),await this.renderPoints($e,Ve),this.labelStringFormatter&&await this.renderPointLabels($e),this.lineLegendPosition!==0&&this.title&&await this.renderLegendOnLine($e))}async renderLegend($e,Ve){const ze=(Ve.left+Ve.right)/2,qe=(Ve.top+Ve.bottom)/2,Xe=[newScreenPoint(Ve.left,qe),newScreenPoint(Ve.right,qe)];await $e.drawLine(Xe,this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode,this.actualDashArray);const We=newScreenPoint(ze,qe);await RenderingExtensions.drawMarker($e,We,this.markerType,this.markerOutline,this.markerSize,this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)}setDefaultValues(){this.lineStyle===LineStyle.Automatic&&(this.defaultLineStyle=this.plotModel.getDefaultLineStyle()),this.color.isAutomatic()&&(this.defaultColor=this.plotModel.getDefaultColor()),this.markerFill.isAutomatic()&&(this.defaultMarkerFill=this.color.isAutomatic()?this.defaultColor:this.color)}updateMaxMin(){if(this.interpolationAlgorithm){if(super.updateMaxMin(),this.resetSmoothedPoints(),this.smoothedPoints.every(ze=>isNaN(ze.x)))return;const $e=this.smoothedPoints.filter(ze=>!isNaN(ze.x)).map(ze=>ze.x),Ve=this.smoothedPoints.filter(ze=>!isNaN(ze.y)).map(ze=>ze.y);this.minX=minValueOfArray($e),this.minY=minValueOfArray(Ve),this.maxX=maxValueOfArray($e),this.maxY=maxValueOfArray(Ve)}else super.updateMaxMin()}async renderPoints($e,Ve){let ze;const qe=this.brokenLineThickness>0&&this.brokenLineStyle!==LineStyle.None,Xe=qe?LineStyleHelper.getDashArray(this.brokenLineStyle):void 0,We=qe?[]:void 0;this.contiguousScreenPointsBuffer||(this.contiguousScreenPointsBuffer=[]);let Ke=0,Je=Number_MAX_VALUE;if(this.isXMonotonic){const Ze=this.xAxis.clipMinimum;Je=this.xAxis.clipMaximum,this.windowStartIndex=this.updateWindowStartIndex(Ve,Qe=>Qe.x,Ze,this.windowStartIndex),Ke=this.windowStartIndex}for(let Ze=Ke;Ze<Ve.length;Ze++){const{result:Qe,pointIdx:St,previousContiguousLineSegmentEndPoint:ei}=this.extractNextContiguousLineSegment(Ve,Ze,ze,Je,We,this.contiguousScreenPointsBuffer);if(Ze=St,ze=ei,!Qe)break;if(qe){if(We&&We.length>0){const ti=this.brokenLineColor.isAutomatic()?this.actualColor:this.brokenLineColor;await $e.drawLineSegments(We,ti,this.brokenLineThickness,this.edgeRenderingMode,Xe,this.lineJoin),We.length=0}}else ze=void 0;this.decimator?(this.decimatorBuffer?this.decimatorBuffer.length=0:this.decimatorBuffer=[],this.decimator(this.contiguousScreenPointsBuffer,this.decimatorBuffer),await this.renderLineAndMarkers($e,this.decimatorBuffer)):await this.renderLineAndMarkers($e,this.contiguousScreenPointsBuffer),this.contiguousScreenPointsBuffer.length=0}}extractNextContiguousLineSegment($e,Ve,ze,qe,Xe,We){let Ke=newDataPoint(0,0),Je=!1;for(;Ve<$e.length;Ve++){if(Ke=$e[Ve],Ke.x>qe)return{result:!1,pointIdx:Ve,previousContiguousLineSegmentEndPoint:ze};if(Je=this.isValidPoint(Ke),Je)break}if(!Je)return{result:!1,pointIdx:Ve,previousContiguousLineSegmentEndPoint:ze};let Ze=this.transform(Ke);ze&&(Xe.push(ze),Xe.push(Ze)),We.push(Ze);let Qe=0;for(Ve++;Ve<$e.length&&(Ke=$e[Ve],Qe+=Ke.x>qe?1:0,!(Qe>1||!this.isValidPoint(Ke)));Ve++)Ze=this.transform(Ke),We.push(Ze);return ze=Ze,{result:!0,pointIdx:Ve,previousContiguousLineSegmentEndPoint:ze}}async renderPointLabels($e){if(!this.labelStringFormatter)return;let Ve=-1;for(const ze of this.actualPoints){if(Ve++,!this.isValidPoint(ze))continue;const qe=screenPointPlus(this.transform(ze),new ScreenVector(0,-this.labelMargin)),Xe=this.getItem(Ve),We=this.labelStringFormatter(Xe,[ze.x,ze.y]);await $e.drawText(qe,We,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Bottom)}}async renderLegendOnLine($e){if(!this.title)return;let Ve,ze,qe=VerticalAlignment.Middle,Xe=4;switch(this.lineLegendPosition){case 1:Ve=this.actualPoints[0],ze=HorizontalAlignment.Right,Xe=-Xe;break;case 2:Ve=this.actualPoints[this.actualPoints.length-1],ze=HorizontalAlignment.Left;break;case 0:return;default:throw new Error("Invalid LineLegendPosition")}const We=PlotElementExtensions.orientateAlignment(this,ze,qe);ze=We[0],qe=We[1];const Ke=PlotElementExtensions.orientateVector(this,new ScreenVector(Xe,0)),Je=screenPointPlus(this.transform(Ve),Ke);await $e.drawText(Je,this.title,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,ze,qe)}async renderLineAndMarkers($e,Ve){let ze=Ve;if(this.interpolationAlgorithm){const qe=ScreenPointHelper.resamplePoints(Ve,this.minimumSegmentLength);ze=this.interpolationAlgorithm.createSplineSp(qe,!1,.25)}if(this.strokeThickness>0&&this.actualLineStyle!==LineStyle.None&&await this.renderLine($e,ze),this.markerType!==MarkerType.None){const qe=this.markerResolution>0?PlotElementExtensions.transform(this,this.minX,this.minY):ScreenPoint_LeftTop;await RenderingExtensions.drawMarkers($e,Ve,this.markerType,this.markerOutline,[this.markerSize],this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,this.markerResolution,qe)}}async renderLine($e,Ve){const ze=this.actualDashArray;this.outputBuffer||(this.outputBuffer=[]),await RenderingExtensions.drawReducedLine($e,Ve,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode,ze,this.lineJoin,this.outputBuffer)}resetSmoothedPoints(){const $e=Math.abs(Math.max(this.maxX-this.minX,this.maxY-this.minY)/Bu.ToleranceDivisor);this._smoothedPoints=this.interpolationAlgorithm.createSplineDp(this.actualPoints,!1,$e)}};D$1(_e,"ToleranceDivisor",200);let LineSeries=_e;class BarItemBase{constructor($e){D$1(this,"categoryIndex"),this.categoryIndex=-1,$e&&(isNullOrUndef($e.categoryIndex)||(this.categoryIndex=$e.categoryIndex))}getCategoryIndex($e){return this.categoryIndex<0?$e:this.categoryIndex}}class BarItem extends BarItemBase{constructor($e){super($e),D$1(this,"color"),D$1(this,"value",0),this.color=OxyColors.Automatic,$e&&Object.assign(this,removeUndef($e))}static fromValue($e){return new BarItem({value:$e})}}class BarSeriesBase extends XYAxisSeries{constructor($e){super($e),D$1(this,"barWidth"),D$1(this,"itemsSourceItems"),D$1(this,"strokeColor"),D$1(this,"strokeThickness",0),D$1(this,"manager"),D$1(this,"validItems",[]),D$1(this,"validItemsIndexInversion",new Map),D$1(this,"labelColor",OxyColors.Undefined),D$1(this,"labelMargin",0),D$1(this,"labelAngle",0),D$1(this,"labelPlacement",LabelPlacement.Outside),D$1(this,"items",[]),this.strokeColor=OxyColors.Black,this.barWidth=1}get actualItems(){return this.itemsSource?this.itemsSourceItems:this.items}getActualBarWidth(){if(!this.manager)return 0;const $e=this.getCategoryAxis();return this.barWidth/(1+$e.gapWidth)/this.manager.getMaxWidth()}get categoryAxis(){return this.getCategoryAxis()}getCategoryAxis(){if(!(this.yAxis instanceof CategoryAxis))throw new Error("BarSeries requires a CategoryAxis on the Y Axis.");return this.yAxis}get valueAxis(){return this.xAxis}getItem($e){return this.itemsSource||!this.actualItems||this.actualItems.length===0?super.getItem($e):this.actualItems[$e]}clearItemsSourceItems(){this.itemsSourceItems&&(this.itemsSourceItems.length=0)}isUsing($e){return this.xAxis===$e||this.yAxis===$e}async renderLabel($e,Ve,ze,qe,Xe,We,Ke,...Je){const Ze=[];if(Je.length)Ze.push(...Je);else if(Ve instanceof BarItem)Ze.push(Ve.value);else if(Ve instanceof IntervalBarItem)Ze.push(Ve.start),Ze.push(Ve.end);else throw Ve instanceof TornadoBarItem?new Error("RenderLabel does not support automatic determination of label values for TornadoBarItem objects. Please populate the labelValues parameter."):new Error(`RenderLabel automatic value determination not implemented for ${this.constructor.name}. Please populate the labelValues parameter.`);const Qe=Ke?Ke(Ve,Ze):"";let St;const ei=(We+Xe)/2,ti=Math.sign(qe-ze);let ni=new ScreenVector(this.labelMargin,0).times(ti),oi=new ScreenVector(0,0);const ai=RenderingExtensions.measureText($e,Qe,this.actualFont,this.actualFontSize,this.actualFontWeight,this.labelAngle),si=(PlotElementExtensions.isTransposed(this)?ai.height:ai.width)/2,ri=PlotElementExtensions.transform;switch(this.labelPlacement){case LabelPlacement.Inside:St=ri(this,qe,ei),ni=ni.negate(),oi=new ScreenVector(-ti*si,0);break;case LabelPlacement.Outside:St=ri(this,qe,ei),oi=new ScreenVector(ti*si,0);break;case LabelPlacement.Middle:St=ri(this,(qe+ze)/2,ei),ni=new ScreenVector(0,0);break;case LabelPlacement.Base:St=ri(this,ze,ei),oi=new ScreenVector(ti*si,0);break;default:throw new Error("Invalid label placement")}const ii=PlotElementExtensions.orientateVector;St=screenPointPlus(screenPointPlus(St,ii(this,ni)),ii(this,oi)),await $e.drawText(St,Qe,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.labelAngle,HorizontalAlignment.Center,VerticalAlignment.Middle)}updateAxisMaxMin(){this.xAxis.include(this.minX),this.xAxis.include(this.maxX)}updateData(){this.clearItemsSourceItems(),!(!this.itemsSource||this.itemsSource.length==0)&&(this.updateFromDataFields()||(this.itemsSourceItems||(this.itemsSourceItems=[]),this.itemsSourceItems.push(...this.itemsSource)))}updateValidData(){this.validItems.length=0,this.validItemsIndexInversion.clear();const $e=this.manager.categories.length;for(let Ve=0;Ve<this.actualItems.length;Ve++){const ze=this.actualItems[Ve];ze&&ze.getCategoryIndex(Ve)<$e&&this.isValid(ze)&&(this.validItemsIndexInversion.set(this.validItems.length,Ve),this.validItems.push(ze))}}}D$1(BarSeriesBase,"DefaultCategoryAxisTitle","Category"),D$1(BarSeriesBase,"DefaultValueAxisTitle","Value");const Se=class $u extends BarSeriesBase{constructor($e){super($e),D$1(this,"defaultFillColor",OxyColors.Undefined),D$1(this,"trackerStringFormatter"),D$1(this,"baseValue"),D$1(this,"baseLine"),D$1(this,"actualBaseLine"),D$1(this,"colorField"),D$1(this,"fillColor"),D$1(this,"isStacked",!1),D$1(this,"overlapsStack",!1),D$1(this,"labelStringFormatter"),D$1(this,"negativeFillColor"),D$1(this,"stackGroup"),D$1(this,"valueField"),D$1(this,"actualBarRectangles"),this.fillColor=OxyColors.Automatic,this.negativeFillColor=OxyColors.Undefined,this.trackerStringFormatter=$u.DefaultTrackerFormatter,this.labelMargin=2,this.labelAngle=0,this.stackGroup="",this.strokeThickness=0,this.baseValue=0,this.baseLine=NaN,this.actualBaseLine=NaN,$e&&Object.assign(this,removeUndef($e))}get actualFillColor(){return this.fillColor.getActualColor(this.defaultFillColor)}getNearestPoint($e,Ve){if(!this.actualBarRectangles||this.validItems.length===0)return;let ze=0;for(const qe of this.actualBarRectangles){if(qe.containsPoint($e)){const Xe=this.validItems[ze],We=Xe.getCategoryIndex(ze),Ke=newDataPoint(We,this.validItems[ze].value),Je=this.getItem(this.validItemsIndexInversion.get(ze));return new TrackerHitResult({series:this,dataPoint:Ke,position:$e,item:Je,index:ze,text:this.getTrackerText(Xe,Je,We)})}ze++}}renderLegend($e,Ve){const ze=(Ve.left+Ve.right)/2,qe=(Ve.top+Ve.bottom)/2,Xe=(Ve.bottom-Ve.top)*.8,We=Xe;return $e.drawRectangle(new OxyRect(ze-.5*We,qe-.5*Xe,We,Xe),this.getSelectableColor(this.actualFillColor),this.strokeColor,this.strokeThickness,this.edgeRenderingMode)}setDefaultValues(){this.fillColor.isAutomatic()&&(this.defaultFillColor=this.plotModel.getDefaultColor())}updateAxisMaxMin(){super.updateAxisMaxMin(),this.computeActualBaseLine(),this.xAxis.include(this.actualBaseLine)}computeActualBaseLine(){if(isNaN(this.baseLine))if(this.xAxis.isLogarithmic()){const $e=(this.actualItems||[]).map(ze=>ze.value),Ve=minValueOfArray($e.filter(ze=>ze>0),1);this.actualBaseLine=Math.max(Ve/10,this.baseValue)}else this.actualBaseLine=0;else this.actualBaseLine=this.baseLine}updateMaxMin(){if(super.updateMaxMin(),this.validItems.length===0)return;const $e=this.getCategoryAxis();let Ve=Number_MAX_VALUE,ze=Number_MIN_VALUE;const qe=this.manager;if(this.isStacked){const Xe=$e.actualLabels;for(let We=0;We<Xe.length;We++){let Ke=0;const Je=this.validItems.filter(ni=>ni.getCategoryIndex(Ke++)===We).map(ni=>ni.value).concat([0]);let Ze=Je.filter(ni=>ni<=0).reduce((ni,oi)=>ni+oi,0),Qe=Je.filter(ni=>ni>=0).reduce((ni,oi)=>ni+oi,0);const St=qe.getStackIndex(this.stackGroup),ei=qe.getCurrentMinValue(St,We);isNaN(ei)||(Ze+=ei),qe.setCurrentMinValue(St,We,Ze);const ti=qe.getCurrentMaxValue(St,We);!this.overlapsStack&&!isNaN(ti)&&(Qe+=ti),qe.setCurrentMaxValue(St,We,Qe),Ve=Math.min(Ve,Ze+this.baseValue),ze=Math.max(ze,Qe+this.baseValue)}}else{const Xe=this.validItems.map(We=>We.value).concat([0]);Ve=minValueOfArray(Xe),ze=maxValueOfArray(Xe),this.baseValue<Ve&&(Ve=this.baseValue),this.baseValue>ze&&(ze=this.baseValue)}this.minX=Ve,this.maxX=ze}getTrackerText($e,Ve,ze){if(!this.trackerStringFormatter)return;const qe=this.getCategoryAxis(),Xe=this.xAxis;return this.trackerStringFormatter({item:Ve,title:this.title,category:qe.formatValue(ze),value:Xe==null?void 0:Xe.getValue($e.value)})}isValid($e){return this.xAxis.isValidValue($e.value)}async renderItem($e,Ve,ze,qe,Xe,We){let Ke=Xe.color;Ke.isAutomatic()&&(Ke=this.actualFillColor,Xe.value<0&&!this.negativeFillColor.isUndefined()&&(Ke=this.negativeFillColor));const Je=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);await $e.drawRectangle(We,this.getSelectableFillColor(Ke),this.strokeColor,this.strokeThickness,Je)}async render($e){if(this.actualBarRectangles=[],this.validItems.length===0)return;const Ve=this.manager,ze=this.yAxis,qe=this.xAxis,Xe=PlotElementExtensions.transform,We=this.getActualBarWidth(),Ke=this.isStacked?Ve.getStackIndex(this.stackGroup):0;for(let Je=0;Je<this.validItems.length;Je++){const Ze=this.validItems[Je],Qe=Ze.getCategoryIndex(Je),St=Ze.value;let ei=NaN;this.isStacked&&!this.overlapsStack&&(ei=Ve.getCurrentBaseValue(Ke,Qe,St<0)),isNaN(ei)&&(ei=this.baseValue);const ti=this.isStacked?ei+St:St;if(ze.isLogarithmic()&&!ze.isValidValue(ti))continue;let ni;this.isStacked?ni=Ve.getCategoryValue(Qe,Ke,We):ni=Qe-.5+Ve.getCurrentBarOffset(Qe),this.isStacked&&Ve.setCurrentBaseValue(Ke,Qe,St<0,ti);const oi=qe.isLogarithmic()&&!qe.isValidValue(ei),ai=Xe(this,oi?qe.clipMinimum:ei,ni),si=Xe(this,ti,ni+We),ri=OxyRect.fromScreenPoints(ai,si);this.actualBarRectangles.push(ri),await this.renderItem($e,ti,ni,We,Ze,ri),this.labelStringFormatter&&await this.renderLabel($e,Ze,ei,ti,ni,ni+We,this.labelStringFormatter),this.isStacked||Ve.increaseCurrentBarOffset(Qe,We)}}updateFromDataFields(){if(!this.valueField)return!1;if(!this.itemsSource||this.itemsSource.length==0)return!0;this.itemsSourceItems=this.itemsSourceItems||[];for(const $e of this.itemsSource){if(isNullOrUndef($e))continue;const Ve=$e[this.valueField],ze=new BarItem;ze.value=isNullOrUndef(Ve)?NaN:Ve;let qe=OxyColors.Automatic;this.colorField&&$e[this.colorField]&&$e[this.colorField]instanceof OxyColor&&(qe=$e[this.colorField]),ze.color=qe,this.itemsSourceItems.push(ze)}return!0}};D$1(Se,"DefaultTrackerFormatter",je=>`${je.title||""}
${je.category}: ${je.value}`);let BarSeries=Se;class BarSeriesManager{constructor($e,Ve,ze){if(D$1(this,"currentBarOffset"),D$1(this,"currentMaxValue"),D$1(this,"currentMinValue"),D$1(this,"currentNegativeBaseValues"),D$1(this,"currentPositiveBaseValues"),D$1(this,"maxWidth",NaN),D$1(this,"_categoryAxis"),D$1(this,"_series"),D$1(this,"_valueAxis"),D$1(this,"_barOffset"),D$1(this,"_stackedBarOffset"),D$1(this,"_stackIndexMapping",new Map),!$e.plotModel)throw new Error("The category axis must be part of a plot model.");this._categoryAxis=$e,this._valueAxis=Ve,this._series=ze;for(const qe of this._series)qe.manager=this}get categoryAxis(){return this._categoryAxis}get managedSeries(){return this._series}get plotModel(){return this.categoryAxis.plotModel}get valueAxis(){return this._valueAxis}get categories(){return this._categoryAxis.actualLabels}get stackIndexMapping(){return this._stackIndexMapping}getCategoryValue($e,Ve,ze){const qe=this._stackedBarOffset[Ve][$e],Xe=this._stackedBarOffset[Ve+1][$e];return $e-.5+(Xe+qe-ze)*.5}getCurrentBarOffset($e){return this.currentBarOffset?this.currentBarOffset[$e]:0}getCurrentBaseValue($e,Ve,ze){return ze?this.currentNegativeBaseValues[$e][Ve]:this.currentPositiveBaseValues[$e][Ve]}getCurrentMaxValue($e,Ve){return this.currentMaxValue?this.currentMaxValue[$e][Ve]:0}getCurrentMinValue($e,Ve){return this.currentMinValue?this.currentMinValue[$e][Ve]:0}getMaxWidth(){return this.maxWidth}getStackIndex($e){const Ve=this._stackIndexMapping.get($e);return isUndef(Ve)?-1:Ve}increaseCurrentBarOffset($e,Ve){this.currentBarOffset&&(this.currentBarOffset[$e]+=Ve)}initializeRender(){this.resetCurrentValues()}setCurrentBaseValue($e,Ve,ze,qe){ze?this.currentNegativeBaseValues[$e][Ve]=qe:this.currentPositiveBaseValues[$e][Ve]=qe}setCurrentMaxValue($e,Ve,ze){this.currentMaxValue[$e][Ve]=ze}setCurrentMinValue($e,Ve,ze){this.currentMinValue[$e][Ve]=ze}update(){this.categoryAxis.updateLabels(Math.max(...this.managedSeries.map($e=>$e.actualItems.length))),this.updateBarOffsets(),this.updateValidData(),this.resetCurrentValues()}static hasCategory($e,Ve){return $e.actualItems.length>Ve&&$e.actualItems[Ve].categoryIndex<0?!0:$e.actualItems.some(ze=>ze.categoryIndex===Ve)}resetCurrentValues(){this.currentBarOffset=[...this._barOffset||[]];const $e=this.categoryAxis.actualLabels,Ve=this._stackIndexMapping.size;Ve>0?(this.currentPositiveBaseValues=create2DArray(Ve,$e.length,Number.NaN),this.currentNegativeBaseValues=create2DArray(Ve,$e.length,Number.NaN),this.currentMaxValue=create2DArray(Ve,$e.length,Number.NaN),this.currentMinValue=create2DArray(Ve,$e.length,Number.NaN)):(this.currentPositiveBaseValues=void 0,this.currentNegativeBaseValues=void 0,this.currentMaxValue=void 0,this.currentMinValue=void 0)}updateBarOffsets(){if(this.categories.length===0){this.maxWidth=Number.NaN,this._stackedBarOffset=void 0,this._stackIndexMapping.clear();return}const $e=new Array(this.categories.length).fill(0),Ve=new Map;this._barOffset=new Array(this.categories.length).fill(0);const ze=this.managedSeries.filter(Ke=>isStackableSeries(Ke)).map(Ke=>Ke),qe=Array.from(ze.filter(Ke=>Ke.isStacked).reduce((Ke,Je)=>Ke.set(Je.stackGroup,(Ke.get(Je.stackGroup)||[]).concat(Je)),new Map).values());for(const Ke of qe){const Je=Math.max(...Ke.map(Ze=>Ze.barWidth));Ve.set(Ke[0].stackGroup,Je);for(let Ze=0;Ze<this.categories.length;Ze++)Ke.some(Qe=>BarSeriesManager.hasCategory(Qe,Ze))&&($e[Ze]+=Je)}for(const Ke of this.managedSeries.filter(Je=>!isStackableSeries(Je)||!Je.isStacked))for(let Je=0;Je<this.categories.length;Je++){let Ze=Ke.actualItems.filter(Qe=>Qe.categoryIndex===Je).length;Ke.actualItems.length>Je&&Ke.actualItems[Je].categoryIndex<0&&Ze++,$e[Je]+=Ke.barWidth*Ze}this.maxWidth=Math.max(...$e),this._stackedBarOffset=create2DArray(qe.length+1,this.categories.length,0);const Xe=1/(1+this.categoryAxis.gapWidth)/this.maxWidth;for(let Ke=0;Ke<this.categories.length;Ke++)this._barOffset[Ke]=.5-$e[Ke]*Xe*.5;for(let Ke=0;Ke<qe.length;Ke++){const Je=qe[Ke];for(let Ze=0;Ze<this.categories.length;Ze++)this._stackedBarOffset[Ke][Ze]=this._barOffset[Ze],Je.some(Qe=>BarSeriesManager.hasCategory(Qe,Ze))&&(this._barOffset[Ze]+=Ve.get(Je[0].stackGroup)*Xe)}for(let Ke=0;Ke<this.categories.length;Ke++)this._stackedBarOffset[qe.length][Ke]=this._barOffset[Ke];this._stackIndexMapping.clear();let We=0;for(const Ke of qe.map(Je=>Je[0].stackGroup).sort())this._stackIndexMapping.set(Ke,We++)}updateValidData(){for(const $e of this.managedSeries)$e.updateValidData()}}function isBarSeries(je){return je&&!isNullOrUndef(je.barWidth)&&je.categoryAxis}class IntervalBarItem extends BarItemBase{constructor($e){super($e),D$1(this,"color"),D$1(this,"end",0),D$1(this,"start",0),D$1(this,"title"),this.color=OxyColors.Automatic,$e&&Object.assign(this,removeUndef($e))}}const Ce=class ju extends BarSeriesBase{constructor($e){super($e),D$1(this,"defaultFillColor",OxyColors.Undefined),D$1(this,"trackerStringFormatter"),D$1(this,"colorField"),D$1(this,"endField"),D$1(this,"fillColor"),D$1(this,"isStacked",!0),D$1(this,"overlapsStack",!0),D$1(this,"labelStringFormatter",(Ve,ze)=>`${ze[0]} - ${ze[1]}`),D$1(this,"stackGroup",""),D$1(this,"startField"),D$1(this,"actualBarRectangles",[]),this.fillColor=OxyColors.Automatic,this.strokeThickness=1,this.trackerStringFormatter=ju.DefaultTrackerStringFormatter,this.labelMargin=4,this.labelPlacement=LabelPlacement.Middle,$e&&Object.assign(this,removeUndef($e))}get actualFillColor(){return this.fillColor.getActualColor(this.defaultFillColor)}getNearestPoint($e,Ve){for(let ze=0;ze<this.actualBarRectangles.length;ze++){if(!this.actualBarRectangles[ze].containsPoint($e))continue;const qe=this.getItem(this.validItemsIndexInversion.get(ze)),Xe=qe.getCategoryIndex(ze),We=(this.validItems[ze].start+this.validItems[ze].end)/2,Ke=newDataPoint(Xe,We),Je=this.getCategoryAxis(),Ze=this.xAxis,Qe=this.trackerStringFormatter({item:qe,title:this.title,categoryTitle:Je.title??BarSeriesBase.DefaultCategoryAxisTitle,categoryValue:Je.formatValue(Xe),valueTitle:Ze.title??BarSeriesBase.DefaultValueAxisTitle});return new TrackerHitResult({series:this,dataPoint:Ke,position:$e,item:qe,index:ze,text:Qe})}}async renderLegend($e,Ve){const ze=(Ve.left+Ve.right)/2,qe=(Ve.top+Ve.bottom)/2,Xe=(Ve.bottom-Ve.top)*.8,We=Xe;await $e.drawRectangle(new OxyRect(ze-.5*We,qe-.5*Xe,We,Xe),this.getSelectableFillColor(this.actualFillColor),this.strokeColor,this.strokeThickness,this.edgeRenderingMode)}setDefaultValues(){this.fillColor.isAutomatic()&&(this.defaultFillColor=this.plotModel.getDefaultColor())}updateMaxMin(){if(super.updateMaxMin(),this.validItems.length===0)return;let $e=Number_MAX_VALUE,Ve=Number_MIN_VALUE;for(const ze of this.validItems)$e=Math.min($e,ze.start),$e=Math.min($e,ze.end),Ve=Math.max(Ve,ze.start),Ve=Math.max(Ve,ze.end);this.minX=$e,this.maxX=Ve}isValid($e){return this.xAxis.isValidValue($e.start)&&this.xAxis.isValidValue($e.end)}async render($e){if(this.actualBarRectangles=[],this.validItems.length===0)return;const Ve=this.getActualBarWidth(),ze=this.manager.getStackIndex(this.stackGroup),qe=PlotElementExtensions.transform,Xe=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);for(let We=0;We<this.validItems.length;We++){const Ke=this.validItems[We],Je=Ke.getCategoryIndex(We),Ze=this.manager.getCategoryValue(Je,ze,Ve),Qe=qe(this,Ke.start,Ze),St=qe(this,Ke.end,Ze+Ve),ei=OxyRect.fromScreenPoints(Qe,St);this.actualBarRectangles.push(ei),await $e.drawRectangle(ei,this.getSelectableFillColor(Ke.color.getActualColor(this.actualFillColor)),this.strokeColor,this.strokeThickness,Xe),this.labelStringFormatter&&await this.renderLabel($e,this.getItem(We),Ke.start,Ke.end,Ze,Ze+Ve,this.labelStringFormatter)}}updateFromDataFields(){var $e;if(!this.startField||!this.endField||!this.itemsSource)return!1;for(const Ve of this.itemsSource){const ze=getOrDefault(Ve,this.startField,NaN),qe=getOrDefault(Ve,this.endField,NaN),Xe=getOrDefault(Ve,this.colorField,OxyColors.Automatic);($e=this.itemsSourceItems)==null||$e.push(new IntervalBarItem({start:ze,end:qe,color:Xe}))}return!0}};D$1(Ce,"DefaultTrackerStringFormatter",je=>{var $e,Ve;return`${je.title}
${je.categoryTitle}: ${je.categoryValue}
${je.valueTitle}: ${($e=je.item)==null?void 0:$e.start} - ${(Ve=je.item)==null?void 0:Ve.end}`});let IntervalBarSeries=Ce;function isStackableSeries(je){return je&&!isUndef(je.isStacked)&&typeof je.isStacked=="boolean"&&!isUndef(je.stackGroup)&&typeof je.stackGroup=="string"}var LabelPlacement=(je=>(je[je.Outside=0]="Outside",je[je.Inside=1]="Inside",je[je.Middle=2]="Middle",je[je.Base=3]="Base",je))(LabelPlacement||{});class ErrorBarItem extends BarItem{constructor($e){super($e),D$1(this,"error",0),this.color=OxyColors.Automatic,$e&&Object.assign(this,removeUndef($e))}}const Ae=class Vu extends BarSeries{constructor($e){super($e),D$1(this,"errorStrokeThickness"),D$1(this,"errorWidth"),this.errorWidth=.4,this.errorStrokeThickness=1,this.trackerStringFormatter=Vu.DefaultTrackerStringFormatter,$e&&Object.assign(this,removeUndef($e))}updateMaxMin(){if(super.updateMaxMin(),this.validItems.length===0)return;let $e=Number_MAX_VALUE,Ve=Number_MIN_VALUE;if(!this.isStacked){const ze=this.validItems.map(Xe=>Xe.value-Xe.error).concat([0]),qe=this.validItems.map(Xe=>Xe.value+Xe.error).concat([0]);$e=minValueOfArray(ze),Ve=maxValueOfArray(qe),this.baseValue<$e&&($e=this.baseValue),this.baseValue>Ve&&(Ve=this.baseValue)}this.minX=$e,this.maxX=Ve}async renderItem($e,Ve,ze,qe,Xe,We){await super.renderItem($e,Ve,ze,qe,Xe,We);const Ke=Ve-Xe.error,Je=Ve+Xe.error,Ze=.5-this.errorWidth/2,Qe=.5+this.errorWidth/2,St=ze+Ze*qe,ei=ze+.5*qe,ti=ze+Qe*qe,ni=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness),oi=PlotElementExtensions.transform,ai=oi(this,Ke,ei),si=oi(this,Je,ei);if(await $e.drawLine([ai,si],this.strokeColor,this.errorStrokeThickness,ni,void 0,LineJoin.Miter),this.errorWidth>0){const ri=oi(this,Ke,St),ii=oi(this,Ke,ti);await $e.drawLine([ri,ii],this.strokeColor,this.errorStrokeThickness,ni,void 0,LineJoin.Miter);const ui=oi(this,Je,St),ci=oi(this,Je,ti);await $e.drawLine([ui,ci],this.strokeColor,this.errorStrokeThickness,ni,void 0,LineJoin.Miter)}}};D$1(Ae,"DefaultTrackerStringFormatter",je=>`${je.title||""}
${je.category}: ${je.value}, Error: ${round(je.item.error,3)}`);let ErrorBarSeries=Ae;class LinearBarSeries extends DataPointSeries{constructor($e){super($e),D$1(this,"rectangles",[]),D$1(this,"rectanglesPointIndexes",[]),D$1(this,"defaultColor",OxyColors.Undefined),D$1(this,"fillColor"),D$1(this,"barWidth"),D$1(this,"strokeThickness"),D$1(this,"strokeColor"),D$1(this,"negativeFillColor"),D$1(this,"negativeStrokeColor"),D$1(this,"baseValue"),D$1(this,"baseLine"),D$1(this,"actualBaseLine"),this.fillColor=OxyColors.Automatic,this.barWidth=5,this.strokeColor=OxyColors.Black,this.strokeThickness=0,this.negativeFillColor=OxyColors.Undefined,this.negativeStrokeColor=OxyColors.Undefined,this.baseValue=0,this.baseLine=Number.NaN,this.actualBaseLine=Number.NaN,$e&&Object.assign(this,removeUndef($e))}get actualColor(){return this.fillColor.getActualColor(this.defaultColor)}getNearestPoint($e,Ve){const ze=this.findRectangleIndex($e);if(ze<0||!this.rectangles[ze].containsPoint($e))return;const qe=this.rectanglesPointIndexes[ze],Xe=this.actualPoints[qe],We=this.getItem(qe),Ke=this.formatDefaultTrackerString(We,Xe);return new TrackerHitResult({series:this,dataPoint:Xe,position:$e,item:We,index:qe,text:Ke})}async render($e){this.rectangles.length=0,this.rectanglesPointIndexes.length=0;const Ve=this.actualPoints;!Ve||Ve.length===0||(this.verifyAxes(),await this.renderBars($e,Ve))}async renderLegend($e,Ve){const ze=(Ve.left+Ve.right)/2,qe=(Ve.top+Ve.bottom)/2,Xe=(Ve.bottom-Ve.top)*.8,We=Xe;await $e.drawRectangle(new OxyRect(ze-.5*We,qe-.5*Xe,We,Xe),this.getSelectableColor(this.actualColor),this.strokeColor,this.strokeThickness,this.edgeRenderingMode)}setDefaultValues(){this.fillColor.isAutomatic()&&(this.defaultColor=this.plotModel.getDefaultColor())}updateAxisMaxMin(){super.updateAxisMaxMin(),this.computeActualBaseLine(),this.yAxis.include(this.actualBaseLine)}computeActualBaseLine(){if(isNaN(this.baseLine))if(this.yAxis.isLogarithmic()){const $e=this.actualPoints?minValueOfArray(this.actualPoints.filter(Ve=>Ve.y>0).map(Ve=>Ve.y),1):1;this.actualBaseLine=Math.max($e/10,this.baseValue)}else this.actualBaseLine=0;else this.actualBaseLine=this.baseLine}findRectangleIndex($e){let Ve;return PlotElementExtensions.isTransposed(this)?Ve=(ze,qe)=>ze.bottom<$e.y?1:ze.top>$e.y?-1:0:Ve=(ze,qe)=>ze.right<$e.x?-1:ze.left>$e.x?1:0,this.rectangles.findIndex(ze=>Ve(ze,OxyRect.Empty)===0)}async renderBars($e,Ve){const ze=this.yAxis.isLogarithmic()&&!this.yAxis.isValidValue(this.baseValue),qe=this.getBarWidth(Ve)/2,Xe=PlotElementExtensions.orientateVector(this,new ScreenVector(qe,0)),We=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);for(let Ke=0;Ke<Ve.length;Ke++){const Je=Ve[Ke];if(!this.isValidPoint(Je))continue;const Ze=screenPointMinusVector(this.transform(Je),Xe),Qe=this.transform(newDataPoint(Je.x,ze?this.yAxis.clipMinimum:this.baseValue)),St=screenPointPlus(Qe,Xe),ei=OxyRect.fromScreenPoints(St,Ze);this.rectangles.push(ei),this.rectanglesPointIndexes.push(Ke);const ti=this.getBarColors(Je.y);await $e.drawRectangle(ei,ti.fillColor,ti.strokeColor,this.strokeThickness,We)}}getBarWidth($e){let Ve=this.barWidth/this.xAxis.scale;for(let ze=1;ze<$e.length;ze++){const qe=$e[ze].x-$e[ze-1].x;qe<Ve&&(Ve=qe)}return Ve*this.xAxis.scale}getBarColors($e){const Ve=$e>=this.baseValue,ze=Ve||this.negativeFillColor.isUndefined()?this.getSelectableFillColor(this.actualColor):this.negativeFillColor,qe=Ve||this.negativeStrokeColor.isUndefined()?this.strokeColor:this.negativeStrokeColor;return{fillColor:ze,strokeColor:qe}}}class TornadoBarItem extends BarItemBase{constructor($e){super($e),D$1(this,"baseValue"),D$1(this,"maximum"),D$1(this,"maximumColor"),D$1(this,"minimum"),D$1(this,"minimumColor"),this.minimum=NaN,this.maximum=NaN,this.baseValue=NaN,this.minimumColor=OxyColors.Automatic,this.maximumColor=OxyColors.Automatic,$e&&Object.assign(this,removeUndef($e))}}const Me=class Uu extends BarSeriesBase{constructor($e){super($e),D$1(this,"defaultMaximumFillColor",OxyColors.Undefined),D$1(this,"defaultMinimumFillColor",OxyColors.Undefined),D$1(this,"baseField"),D$1(this,"baseValue",NaN),D$1(this,"maximumColorField"),D$1(this,"maximumField"),D$1(this,"maximumFillColor"),D$1(this,"maximumLabelStringFormatter"),D$1(this,"minimumColorField"),D$1(this,"minimumField"),D$1(this,"minimumFillColor"),D$1(this,"minimumLabelStringFormatter"),D$1(this,"actualMaximumBarRectangles",[]),D$1(this,"actualMinimumBarRectangles",[]),this.maximumFillColor=OxyColor.fromRgb(216,82,85),this.minimumFillColor=OxyColor.fromRgb(84,138,209),this.strokeColor=OxyColors.Black,this.strokeThickness=1,this.trackerStringFormatter=Uu.defaultTrackerStringFormatter,this.labelMargin=4,this.minimumLabelStringFormatter=(Ve,ze)=>ze[0].toString(),this.maximumLabelStringFormatter=(Ve,ze)=>ze[0].toString(),$e&&Object.assign(this,removeUndef($e))}get actualMaximumFillColor(){return this.maximumFillColor.getActualColor(this.defaultMaximumFillColor)}get actualMinimumFillColor(){return this.minimumFillColor.getActualColor(this.defaultMinimumFillColor)}getNearestPoint($e,Ve){for(let ze=0;ze<this.actualMinimumBarRectangles.length;ze++){const qe=this.actualMinimumBarRectangles[ze].containsPoint($e),Xe=this.actualMaximumBarRectangles[ze].containsPoint($e);if(qe||Xe){const We=this.getItem(this.validItemsIndexInversion.get(ze)),Ke=We.getCategoryIndex(ze),Je=Xe?this.validItems[ze].maximum:this.validItems[ze].minimum,Ze=newDataPoint(Ke,Je),Qe=this.getCategoryAxis(),St=this.trackerStringFormatter({item:We,title:this.title,yTitle:Qe.title??BarSeriesBase.DefaultCategoryAxisTitle,yValue:Qe.formatValue(Ke),xTitle:this.xAxis.title??BarSeriesBase.DefaultValueAxisTitle,xValue:this.xAxis.getValue(Je)});return new TrackerHitResult({series:this,dataPoint:Ze,position:$e,item:We,index:ze,text:St})}}}async render($e){if(this.actualMinimumBarRectangles=[],this.actualMaximumBarRectangles=[],this.validItems.length===0)return;const Ve=this.getActualBarWidth();for(let ze=0;ze<this.validItems.length;ze++){const qe=this.validItems[ze],Xe=qe.getCategoryIndex(ze),We=isNaN(qe.baseValue)?this.baseValue:qe.baseValue,Ke=this.manager.getCurrentBarOffset(Xe),Je=Xe-.5+Ke,Ze=Je+Ve,Qe=PlotElementExtensions.transform,St=Qe(this,qe.minimum,Je),ei=Qe(this,qe.maximum,Je),ti=Qe(this,We,Je+Ve),ni=OxyRect.fromScreenPoints(St,ti),oi=OxyRect.fromScreenPoints(ei,ti);this.actualMinimumBarRectangles.push(ni),this.actualMaximumBarRectangles.push(oi);const ai=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);await $e.drawRectangle(ni,qe.minimumColor.getActualColor(this.actualMinimumFillColor),this.strokeColor,this.strokeThickness,ai),await $e.drawRectangle(oi,qe.maximumColor.getActualColor(this.actualMaximumFillColor),this.strokeColor,this.strokeThickness,ai),this.minimumLabelStringFormatter&&await this.renderLabel($e,qe,We,qe.minimum,Je,Ze,this.minimumLabelStringFormatter,qe.minimum),this.maximumLabelStringFormatter&&await this.renderLabel($e,qe,We,qe.maximum,Je,Ze,this.maximumLabelStringFormatter,qe.maximum)}}async renderLegend($e,Ve){const ze=(Ve.left+Ve.right)/2,qe=(Ve.top+Ve.bottom)/2,Xe=(Ve.bottom-Ve.top)*.8,We=Xe,Ke=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);await $e.drawRectangle(new OxyRect(ze-.5*We,qe-.5*Xe,.5*We,Xe),this.actualMinimumFillColor,this.strokeColor,this.strokeThickness,Ke),await $e.drawRectangle(new OxyRect(ze,qe-.5*Xe,.5*We,Xe),this.actualMaximumFillColor,this.strokeColor,this.strokeThickness,Ke)}setDefaultValues(){this.maximumFillColor.isAutomatic()&&(this.defaultMaximumFillColor=this.plotModel.getDefaultColor()),this.minimumFillColor.isAutomatic()&&(this.defaultMinimumFillColor=this.plotModel.getDefaultColor())}updateMaxMin(){if(super.updateMaxMin(),this.validItems.length===0)return;let $e=Number_MAX_VALUE,Ve=Number_MIN_VALUE;for(const ze of this.validItems)$e=Math.min($e,ze.minimum),Ve=Math.max(Ve,ze.maximum);this.minX=$e,this.maxX=Ve}isValid($e){return this.xAxis.isValidValue($e.minimum)&&this.xAxis.isValidValue($e.maximum)}updateFromDataFields(){if(!this.minimumField||!this.maximumField||!this.itemsSource)return!1;this.itemsSourceItems?this.itemsSourceItems.length=0:this.itemsSourceItems=[];for(const $e of this.itemsSource){if(!$e)continue;if($e instanceof TornadoBarItem){this.itemsSourceItems.push($e);continue}const Ve=getOrDefault($e,this.minimumField,Number.NaN),ze=getOrDefault($e,this.maximumField,Number.NaN),qe=getOrDefault($e,this.baseField,Number.NaN),Xe=getOrDefault($e,this.minimumColorField,OxyColors.Automatic),We=getOrDefault($e,this.maximumColorField,OxyColors.Automatic);this.itemsSourceItems.push(new TornadoBarItem({minimum:Ve,maximum:ze,baseValue:qe,minimumColor:Xe,maximumColor:We}))}return!0}};D$1(Me,"defaultTrackerStringFormatter",je=>`${je.title||""}
${je.yTitle}: ${je.yValue}
${je.xTitle}: ${je.xValue}`);let TornadoBarSeries=Me;const Ee=class zu extends XYAxisSeries{constructor($e){super($e),D$1(this,"defaultFillColor",OxyColors.Undefined),D$1(this,"fillColor"),D$1(this,"items"),D$1(this,"labelStringFormatter"),D$1(this,"strokeColor"),D$1(this,"strokeThickness"),D$1(this,"actualBarRectangles",[]),D$1(this,"actualItems",[]),this.items=[],this.fillColor=OxyColors.Automatic,this.strokeColor=OxyColors.Black,this.strokeThickness=1,this.trackerStringFormatter=zu.defaultTrackerStringFormatter,this.labelStringFormatter=(Ve,ze)=>`${ze[4]||""}`,$e&&Object.assign(this,removeUndef($e))}get actualFillColor(){return this.fillColor.getActualColor(this.defaultFillColor)}getNearestPoint($e,Ve){if(!(!this.actualBarRectangles||!this.actualItems)){for(let ze=0;ze<this.actualBarRectangles.length;ze++)if(this.actualBarRectangles[ze].containsPoint($e)){const qe=(this.actualItems[ze].y0+this.actualItems[ze].y1)/2,Xe=$e,We=newDataPoint(ze,qe),Ke=this.actualItems[ze],Je=this.formatDefaultTrackerString(Ke,newDataPoint(this.actualItems[ze].x0,this.actualItems[ze].y0),Ze=>{Ze.x1Value=this.xAxis.getValue(this.actualItems[ze].x1),Ze.y1Value=this.yAxis.getValue(this.actualItems[ze].y1)});return new TrackerHitResult({series:this,dataPoint:We,position:Xe,item:Ke,index:ze,text:Je})}}}async render($e){if(this.items.length===0)return;let Ve=0,ze=Number_MAX_VALUE;if(this.actualBarRectangles=[],this.actualItems=[],this.isXMonotonic){const We=this.xAxis.clipMinimum;ze=this.xAxis.clipMaximum,this.windowStartIndex=this.updateWindowStartIndex(this.items,Ke=>Ke.x0,We,this.windowStartIndex),Ve=this.windowStartIndex}const qe=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);let Xe=0;for(let We=Ve;We<this.items.length;We++){const Ke=this.items[We];if(!this.isValid(Ke.x0)||!this.isValid(Ke.x1)||!this.isValid(Ke.y0)||!this.isValid(Ke.y1))continue;const Je=PlotElementExtensions.transform,Ze=Je(this,Ke.x0,Ke.y0),Qe=Je(this,Ke.x1,Ke.y1),St=OxyRect.create(Ze.x,Ze.y,Qe.x,Qe.y);if(this.actualBarRectangles.push(St),this.actualItems.push(Ke),await $e.drawRectangle(St,this.getSelectableFillColor(Ke.color.getActualColor(this.actualFillColor)),this.strokeColor,this.strokeThickness,qe),this.labelStringFormatter){const ei=this.labelStringFormatter(this.getItem(We),[Ke.x0,Ke.x1,Ke.y0,Ke.y1,Ke.title]),ti=newScreenPoint((St.left+St.right)/2,(St.top+St.bottom)/2);await $e.drawText(ti,ei,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Middle)}if(Xe+=Ke.x0>ze?1:0,Xe>1)break}}async renderLegend($e,Ve){const ze=(Ve.left+Ve.right)/2,qe=(Ve.top+Ve.bottom)/2,Xe=(Ve.bottom-Ve.top)*.8,We=Xe;await $e.drawRectangle(new OxyRect(ze-.5*We,qe-.5*Xe,We,Xe),this.getSelectableFillColor(this.actualFillColor),this.strokeColor,this.strokeThickness,this.edgeRenderingMode)}setDefaultValues(){this.fillColor.isAutomatic()&&(this.defaultFillColor=this.plotModel.getDefaultColor())}updateData(){if(this.itemsSource)throw this.items=[],new Error("Not implemented")}updateMaxMin(){if(super.updateMaxMin(),this.isXMonotonic=!0,this.items===null||this.items.length===0)return;let $e=Number_MAX_VALUE,Ve=Number_MIN_VALUE,ze=Number_MAX_VALUE,qe=Number_MIN_VALUE,Xe=Number_MIN_VALUE,We=Number_MIN_VALUE;for(const Ke of this.items)(Ke.x0<Xe||Ke.x1<We)&&(this.isXMonotonic=!1),$e=Math.min($e,Math.min(Ke.x0,Ke.x1)),Ve=Math.max(Ve,Math.max(Ke.x1,Ke.x0)),ze=Math.min(ze,Math.min(Ke.y0,Ke.y1)),qe=Math.max(qe,Math.max(Ke.y0,Ke.y1)),Xe=Ke.x0,We=Ke.x1;this.minX=$e,this.maxX=Ve,this.minY=ze,this.maxY=qe}isValid($e){return!isNaN($e)&&isFinite($e)}};D$1(Ee,"defaultTrackerStringFormatter",je=>`${je.title}
${je.xTitle}: ${je.xValue} ${je.x1Value}  
${je.yTitle}: ${je.yValue} ${je.y1Value}`);let RectangleBarSeries=Ee;function createHighLowItem(je,$e,Ve,ze=NaN,qe=NaN){return{x:je,high:$e,low:Ve,open:ze,close:qe}}const De=class Hu extends XYAxisSeries{constructor($e){super($e),D$1(this,"_items",[]),D$1(this,"defaultColor",OxyColors.Undefined),D$1(this,"trackerStringFormatter"),D$1(this,"color"),D$1(this,"dashes"),D$1(this,"dataFieldClose"),D$1(this,"dataFieldHigh"),D$1(this,"dataFieldLow"),D$1(this,"dataFieldOpen"),D$1(this,"dataFieldX"),D$1(this,"lineJoin",LineJoin.Miter),D$1(this,"lineStyle",LineStyle.Solid),D$1(this,"mapping"),D$1(this,"strokeThickness"),D$1(this,"tickLength"),this.color=OxyColors.Automatic,this.tickLength=4,this.strokeThickness=1,this.trackerStringFormatter=Hu.DefaultTrackerStringFormatter,$e&&Object.assign(this,removeUndef($e))}get actualColor(){return this.color.getActualColor(this.defaultColor)}get items(){return this._items}getNearestPoint($e,Ve){if(!this.xAxis||!this.yAxis||Ve)return;let ze=Number_MAX_VALUE,qe;const Xe=(We,Ke,Je)=>{const Ze=this.transform(We),Qe=Ze.x-$e.x,St=Ze.y-$e.y,ei=Qe*Qe+St*St;if(ei<ze){const ti=this.formatHighLowItemTrackerString(Ke);qe=new TrackerHitResult({series:this,dataPoint:We,position:Ze,item:Ke,index:Je,text:ti}),ze=ei}};for(let We=0;We<this.items.length;We++){const Ke=this.items[We];Xe(newDataPoint(Ke.x,Ke.high),Ke,We),Xe(newDataPoint(Ke.x,Ke.low),Ke,We),Xe(newDataPoint(Ke.x,Ke.open),Ke,We),Xe(newDataPoint(Ke.x,Ke.close),Ke,We)}if(ze<Number_MAX_VALUE)return qe}formatHighLowItemTrackerString($e){return this.trackerStringFormatter&&this.trackerStringFormatter({item:$e,title:this.title||"",xTitle:this.xAxis.title??XYAxisSeries.defaultXAxisTitle,xValue:this.xAxis.getValue($e.x),high:this.yAxis.getValue($e.high),low:this.yAxis.getValue($e.low),open:this.yAxis.getValue($e.open),close:this.yAxis.getValue($e.close)})||""}isValidItem($e,Ve,ze){return!isNaN($e.x)&&isFinite($e.x)&&!isNaN($e.high)&&isFinite($e.high)&&!isNaN($e.low)&&isFinite($e.low)}async render($e){if(this.items.length===0)return;this.verifyAxes();const Ve=LineStyleHelper.getDashArray(this.lineStyle),ze=this.getSelectableColor(this.actualColor),qe=PlotElementExtensions.transform;for(const Xe of this.items)if(this.isValidItem(Xe,this.xAxis,this.yAxis)&&this.strokeThickness>0&&this.lineStyle!==LineStyle.None){const We=qe(this,Xe.x,Xe.high),Ke=qe(this,Xe.x,Xe.low);await $e.drawLine([Ke,We],ze,this.strokeThickness,this.edgeRenderingMode,Ve,this.lineJoin);const Je=PlotElementExtensions.orientateVector(this,new ScreenVector(this.tickLength,0));if(!isNaN(Xe.open)){const Ze=qe(this,Xe.x,Xe.open),Qe=screenPointMinusVector(Ze,Je);await $e.drawLine([Ze,Qe],ze,this.strokeThickness,this.edgeRenderingMode,Ve,this.lineJoin)}if(!isNaN(Xe.close)){const Ze=qe(this,Xe.x,Xe.close),Qe=screenPointPlus(Ze,Je);await $e.drawLine([Ze,Qe],ze,this.strokeThickness,this.edgeRenderingMode,Ve,this.lineJoin)}}}async renderLegend($e,Ve){const ze=(Ve.left+Ve.right)/2,qe=Ve.top+(Ve.bottom-Ve.top)*.7,Xe=Ve.top+(Ve.bottom-Ve.top)*.3,We=LineStyleHelper.getDashArray(this.lineStyle),Ke=this.getSelectableColor(this.actualColor);this.strokeThickness>0&&this.lineStyle!==LineStyle.None&&(await $e.drawLine([newScreenPoint(ze,Ve.top),newScreenPoint(ze,Ve.bottom)],Ke,this.strokeThickness,this.edgeRenderingMode,We,LineJoin.Miter),await $e.drawLine([newScreenPoint(ze-this.tickLength,qe),newScreenPoint(ze,qe)],Ke,this.strokeThickness,this.edgeRenderingMode,We,LineJoin.Miter),await $e.drawLine([newScreenPoint(ze+this.tickLength,Xe),newScreenPoint(ze,Xe)],Ke,this.strokeThickness,this.edgeRenderingMode,We,LineJoin.Miter))}setDefaultValues(){this.color.isAutomatic()&&(this.lineStyle=this.plotModel.getDefaultLineStyle(),this.defaultColor=this.plotModel.getDefaultColor())}updateData(){if(this.itemsSource){if(this._items.length=0,this.mapping){for(const $e of this.itemsSource)this._items.push(this.mapping($e));return}for(const $e of this.itemsSource){if(!$e)continue;if("high"in $e&&"low"in $e&&"x"in $e){this._items.push($e);continue}if(!this.dataFieldX||!this.dataFieldHigh||!this.dataFieldLow)throw new Error("HighLowSeries: dataFieldX, dataFieldHigh and dataFieldLow are required");const Ve=getOrDefault($e,this.dataFieldX,NaN),ze=getOrDefault($e,this.dataFieldHigh,NaN),qe=getOrDefault($e,this.dataFieldLow,NaN),Xe=getOrDefault($e,this.dataFieldOpen,NaN),We=getOrDefault($e,this.dataFieldClose,NaN);this._items.push({x:Ve,high:ze,low:qe,open:Xe,close:We})}}}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMin3(this.items,$e=>$e.x,$e=>$e.x,$e=>$e.low,$e=>$e.high)}};D$1(De,"DefaultTrackerStringFormatter",je=>`${je.title}
${je.xTitle}: ${je.xValue}
High: ${round(je.high,3)}
Low: ${round(je.low,3)}
Open: ${round(je.open,3)}
Close: ${round(je.close,3)}`);let HighLowSeries=De;const Te=class{constructor($e=NaN,Ve,ze){D$1(this,"x"),D$1(this,"buyVolume"),D$1(this,"sellVolume"),this.x=$e||NaN,this.buyVolume=Ve,this.sellVolume=ze}static findIndex($e,Ve,ze){let qe=0,Xe=0,We=$e.length-1;for(;Xe<=We;){if(ze<Xe)return qe;if(ze>We)return We;const Ke=$e[ze].x;if(Ke===Ve)return ze;if(Ke>Ve){if(We=ze-1,We<Xe)return qe;if(We===Xe)return We}else Xe=ze+1,qe=ze;if(Xe>=We)return qe;const Je=$e[We].x,Ze=$e[Xe].x,Qe=(We-Xe+1)/(Je-Ze);ze=Xe+Math.round((Ve-Ze)*Qe)}return qe}isValid(){return!isNaN(this.x)&&!isNaN(this.buyVolume)&&!isNaN(this.sellVolume)}};D$1(Te,"Undefined",new Te(NaN,NaN,NaN));let OhlcvItem=Te;var VolumeStyle=(je=>(je[je.None=0]="None",je[je.Combined=1]="Combined",je[je.Stacked=2]="Stacked",je[je.PositiveNegative=3]="PositiveNegative",je))(VolumeStyle||{});const Oe=class qu extends XYAxisSeries{constructor($e){super($e),D$1(this,"data",[]),D$1(this,"minDx",0),D$1(this,"winIndex",0),D$1(this,"volumeStyle"),D$1(this,"strokeThickness"),D$1(this,"strokeIntensity"),D$1(this,"positiveColor"),D$1(this,"negativeColor"),D$1(this,"interceptColor"),D$1(this,"interceptStrokeThickness"),D$1(this,"interceptLineStyle"),D$1(this,"positiveHollow"),D$1(this,"negativeHollow"),D$1(this,"barWidth"),D$1(this,"minimumVolume",0),D$1(this,"maximumVolume",0),D$1(this,"averageVolume",0),this.positiveColor=OxyColors.DarkGreen,this.negativeColor=OxyColors.Red,this.barWidth=0,this.strokeThickness=1,this.negativeHollow=!1,this.positiveHollow=!0,this.strokeIntensity=.8,this.volumeStyle=1,this.interceptColor=OxyColors.Gray,this.interceptLineStyle=LineStyle.Dash,this.interceptStrokeThickness=1,this.trackerStringFormatter=qu.DefaultTrackerStringFormatter,$e&&Object.assign(this,removeUndef($e))}get items(){return this.data}set items($e){this.data=$e}append($e){if(this.data===null&&(this.data=[]),this.data.length>0&&this.data[this.data.length-1].x>$e.x)throw new Error("cannot append bar out of order, must be sequential in X");this.data.push($e)}async render($e){if(this.data===null||this.data.length===0)return;const Ve=this.data,ze=this.data.length;this.verifyAxes();const qe=this.getClippingRect();this.barWidth>0?this.barWidth:this.minDx*.8;const Xe=this.getSelectableFillColor(this.positiveColor),We=this.getSelectableFillColor(this.negativeColor),Ke=this.positiveHollow?OxyColors.Transparent:Xe,Je=this.negativeHollow?OxyColors.Transparent:We,Ze=OxyColorExtensions.changeIntensity(this.positiveColor,this.strokeIntensity),Qe=OxyColorExtensions.changeIntensity(this.negativeColor,this.strokeIntensity),St=this.getSelectableColor(Ze),ei=this.getSelectableColor(Qe),ti=this.xAxis.clipMinimum,ni=this.xAxis.clipMaximum;this.winIndex=OhlcvItem.findIndex(Ve,ti,this.winIndex);const oi=PlotElementExtensions.transform;for(let ai=this.winIndex;ai<ze;ai++){const si=Ve[ai];if(si.x>ni)break;if(!si.isValid())continue;const ri=this.getBuyBarRect(si),ii=this.getSellBarRect(si);switch(this.volumeStyle){case 1:{const ui=si.buyVolume>si.sellVolume?Ke:Je,ci=si.buyVolume>si.sellVolume?St:ei;await $e.drawRectangle(ri,ui,ci,this.strokeThickness,this.edgeRenderingMode)}break;case 3:await $e.drawRectangle(ri,Xe,St,this.strokeThickness,this.edgeRenderingMode),await $e.drawRectangle(ii,We,ei,this.strokeThickness,this.edgeRenderingMode);break;case 2:{await $e.drawRectangle(ri,Xe,St,this.strokeThickness,this.edgeRenderingMode),await $e.drawRectangle(ii,We,ei,this.strokeThickness,this.edgeRenderingMode);break}case 0:break;default:throw new Error("Invalid VolumeStyle")}}if(this.interceptStrokeThickness>0&&this.interceptLineStyle!==LineStyle.None){const ai=this.inverseTransform(qe.bottomLeft),si=this.inverseTransform(qe.topRight),ri=oi(this,ai.x,0),ii=oi(this,si.x,0);await $e.drawLine([ri,ii],this.interceptColor,this.interceptStrokeThickness,this.edgeRenderingMode,LineStyleHelper.getDashArray(this.interceptLineStyle),LineJoin.Miter)}}getBuyBarRect($e){const Ve=PlotElementExtensions.transform,ze=(this.barWidth>0?this.barWidth:this.minDx*.8)*.5,qe=Ve(this,$e.x-ze,0);switch(this.volumeStyle){case 1:{const Xe=Ve(this,$e.x+ze,Math.abs($e.buyVolume-$e.sellVolume));return OxyRect.fromScreenPoints(qe,Xe)}case 3:{const Xe=Ve(this,$e.x+ze,$e.buyVolume);return OxyRect.fromScreenPoints(qe,Xe)}case 2:{const Xe=Ve(this,$e.x+ze,$e.buyVolume),We=Ve(this,$e.x+ze,$e.sellVolume),Ke=Ve(this,$e.x-ze,$e.buyVolume+$e.sellVolume);return $e.buyVolume>$e.sellVolume?OxyRect.fromScreenPoints(We,Ke):OxyRect.fromScreenPoints(qe,Xe)}}throw new Error("Invalid VolumeStyle")}getSellBarRect($e){const Ve=PlotElementExtensions.transform,ze=(this.barWidth>0?this.barWidth:this.minDx*.8)*.5,qe=Ve(this,$e.x-ze,0);switch(this.volumeStyle){case 1:{const Xe=Ve(this,$e.x+ze,Math.abs($e.buyVolume-$e.sellVolume));return OxyRect.fromScreenPoints(qe,Xe)}case 3:{const Xe=Ve(this,$e.x+ze,-$e.sellVolume);return OxyRect.fromScreenPoints(qe,Xe)}case 2:{const Xe=Ve(this,$e.x+ze,$e.buyVolume),We=Ve(this,$e.x+ze,$e.sellVolume),Ke=Ve(this,$e.x-ze,$e.buyVolume+$e.sellVolume);return $e.buyVolume>$e.sellVolume?OxyRect.fromScreenPoints(qe,We):OxyRect.fromScreenPoints(Xe,Ke)}}throw new Error("Invalid VolumeStyle")}async renderLegend($e,Ve){const ze=(Ve.left+Ve.right)/2,qe=Ve.top+(Ve.bottom-Ve.top)*.7,Xe=Ve.top+(Ve.bottom-Ve.top)*.3,We=LineStyleHelper.getDashArray(LineStyle.Solid),Ke=this.getSelectableFillColor(this.positiveColor),Je=this.getSelectableColor(OxyColorExtensions.changeIntensity(this.positiveColor,this.strokeIntensity)),Ze=Ve.width*.75;this.strokeThickness>0&&(await $e.drawLine([newScreenPoint(ze,Ve.top),newScreenPoint(ze,Ve.bottom)],Je,this.strokeThickness,this.edgeRenderingMode,We,LineJoin.Miter),await $e.drawRectangle(new OxyRect(ze-Ze*.5,Xe,Ze,qe-Xe),Ke,Je,this.strokeThickness,this.edgeRenderingMode))}getNearestPoint($e,Ve){if(!this.xAxis||!this.yAxis||Ve||!this.data||this.data.length===0)return;const ze=this.data.length,qe=this.inverseTransform($e),Xe=qe.x;if(Xe>this.data[ze-1].x+this.minDx||Xe<this.data[0].x-this.minDx)return;const We=OhlcvItem.findIndex(this.data,Xe,this.winIndex),Ke=We+1<this.data.length?We+1:We,Je=ti=>{const ni=ti.x-qe.x;return ni*ni},Ze=Je(this.data[We])<=Je(this.data[Ke])?We:Ke,Qe=this.data[Ze];let St=!1;if(this.getBuyBarRect(Qe).containsPoint($e)&&(St=!0),St||this.getSellBarRect(Qe).containsPoint($e)&&(St=!0),St)return;const ei=this.formatDefaultTrackerString(Qe,newDataPoint(Qe.x,0));return new TrackerHitResult({series:this,dataPoint:qe,position:$e,item:Qe,index:Ze,text:ei})}updateData(){if(super.updateData(),this.winIndex=0,!this.data||this.data.length===0)return;const $e=this.data,Ve=$e.length;this.minDx=Number_MAX_VALUE;for(let ze=1;ze<Ve;ze++)if(this.minDx=Math.min(this.minDx,$e[ze].x-$e[ze-1].x),this.minDx<0)throw new Error("bars are out of order, must be sequential in x");Ve<=1&&(this.minDx=1)}updateAxisMaxMin(){this.xAxis.include(this.minX),this.xAxis.include(this.maxX);let $e=this.minimumVolume,Ve=this.maximumVolume;const ze=this.averageVolume,qe=(Ve-$e)/4;switch(this.volumeStyle){case 3:$e=-(ze+qe/2),Ve=+(ze+qe/2);break;case 2:Ve=ze+qe,$e=0;break;default:Ve=ze+qe/2,$e=0;break}$e=Math.max(this.yAxis.filterMinValue,$e),Ve=Math.min(this.yAxis.filterMaxValue,Ve),this.yAxis.include($e),this.yAxis.include(Ve)}updateMaxMin(){super.updateMaxMin();let $e=Number_MAX_VALUE,Ve=Number_MIN_VALUE,ze=0,qe=Number_MIN_VALUE,Xe=0,We=0;for(const Ke of this.items)Ke.isValid()&&(Ke.sellVolume>0&&Xe++,Ke.buyVolume>0&&Xe++,We+=Ke.buyVolume,We+=Ke.sellVolume,$e=Math.min($e,Ke.x),Ve=Math.max(Ve,Ke.x),ze=Math.min(ze,-Ke.sellVolume),qe=Math.max(qe,+Ke.buyVolume));this.minX=Math.max(this.xAxis.filterMinValue,$e),this.maxX=Math.min(this.xAxis.filterMaxValue,Ve),this.minimumVolume=ze,this.maximumVolume=qe,this.averageVolume=We/Xe}};D$1(Oe,"DefaultTrackerStringFormatter",je=>{const $e=je.item;return`Time: ${je.xValue}
Buy Volume: ${$e.buyVolume}
Sell Volume: ${$e.sellVolume}`});let VolumeSeries=Oe;class CandleStickSeries extends HighLowSeries{constructor($e){super(),D$1(this,"minDx",0),D$1(this,"increasingColor"),D$1(this,"decreasingColor"),D$1(this,"candleWidth"),this.increasingColor=OxyColors.DarkGreen,this.decreasingColor=OxyColors.Red,this.candleWidth=0,$e&&Object.assign(this,removeUndef($e))}findByX($e,Ve=-1){return Ve<0&&(Ve=this.windowStartIndex),this.findWindowStartIndex(this.items,ze=>ze.x,$e,Ve)}async render($e){const Ve=this.items.length,ze=this.items;if(Ve===0||this.strokeThickness<=0||this.lineStyle===LineStyle.None)return;this.verifyAxes();const qe=LineStyleHelper.getDashArray(this.lineStyle),Xe=.5*(this.candleWidth>0?this.candleWidth:this.minDx*.8),We=this.getSelectableFillColor(this.increasingColor),Ke=this.getSelectableFillColor(this.decreasingColor),Je=this.getSelectableColor(OxyColorExtensions.changeIntensity(this.increasingColor,.7)),Ze=this.getSelectableColor(OxyColorExtensions.changeIntensity(this.decreasingColor,.7)),Qe=this.xAxis.clipMinimum,St=this.xAxis.clipMaximum;this.windowStartIndex=this.updateWindowStartIndex(ze,ti=>ti.x,Qe,this.windowStartIndex);const ei=PlotElementExtensions.transform;for(let ti=this.windowStartIndex;ti<Ve;ti++){const ni=ze[ti];if(ni.x>St)return;if(!this.isValidItem(ni,this.xAxis,this.yAxis))continue;const oi=ni.close>ni.open?We:Ke,ai=ni.close>ni.open?Je:Ze,si=ei(this,ni.x,ni.high),ri=ei(this,ni.x,ni.low),ii=ei(this,ni.x,Math.max(ni.open,ni.close)),ui=ei(this,ni.x,Math.min(ni.open,ni.close));this.strokeThickness>0&&(await $e.drawLine([si,ii],ai,this.strokeThickness,this.edgeRenderingMode,qe,this.lineJoin),await $e.drawLine([ui,ri],ai,this.strokeThickness,this.edgeRenderingMode,qe,this.lineJoin));const ci=ei(this,ni.x-Xe,ni.open),hi=ei(this,ni.x+Xe,ni.close),mi=OxyRect.fromScreenPoints(ci,hi);await $e.drawRectangle(mi,oi,ai,this.strokeThickness,this.edgeRenderingMode)}}async renderLegend($e,Ve){const ze=(Ve.left+Ve.right)/2,qe=Ve.top+(Ve.bottom-Ve.top)*.7,Xe=Ve.top+(Ve.bottom-Ve.top)*.3,We=LineStyleHelper.getDashArray(this.lineStyle),Ke=Ve.width*.75;this.strokeThickness>0&&this.lineStyle!==LineStyle.None&&await $e.drawLine([newScreenPoint(ze,Ve.top),newScreenPoint(ze,Ve.bottom)],this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode,We,LineJoin.Miter),await $e.drawRectangle(new OxyRect(ze-Ke*.5,Xe,Ke,qe-Xe),this.getSelectableFillColor(this.increasingColor),this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode)}getNearestPoint($e,Ve){if(!this.xAxis||!this.yAxis||Ve||this.items.length===0)return;const ze=this.items.length,qe=this.inverseTransform($e),Xe=qe.x;if(Xe>this.items[ze-1].x+this.minDx||Xe<this.items[0].x-this.minDx)return;const We=this.findWindowStartIndex(this.items,ti=>ti.x,Xe,this.windowStartIndex),Ke=We+1<this.items.length?We+1:We,Je=ti=>{const ni=ti.x-qe.x,oi=ti.open-qe.y,ai=ti.high-qe.y,si=ti.low-qe.y,ri=ti.close-qe.y,ii=ni*ni+oi*oi,ui=ni*ni+ai*ai,ci=ni*ni+si*si,hi=ni*ni+ri*ri;return Math.min(ii,Math.min(ui,Math.min(ci,hi)))},Ze=Je(this.items[We])<=Je(this.items[Ke])?We:Ke,Qe=this.items[Ze],St=newDataPoint(Qe.x,Qe.close),ei=this.formatHighLowItemTrackerString(Qe);return new TrackerHitResult({series:this,dataPoint:St,position:this.transform(St),item:Qe,index:Ze,text:ei})}updateData(){super.updateData();const $e=this.items,Ve=$e.length;this.minDx=Number_MAX_VALUE;for(let ze=1;ze<Ve;ze++)if(this.minDx=Math.min(this.minDx,$e[ze].x-$e[ze-1].x),this.minDx<0)throw new Error("bars are out of order, must be sequential in x");Ve<=1&&(this.minDx=1)}}class FunctionSeries extends LineSeries{constructor($e){if(super($e),$e.title&&(this.title=$e.title),$e.f){$e.dx?this.f1($e.f,$e.x0,$e.x1,$e.dx):$e.n&&this.f2($e.f,$e.x0,$e.x1,$e.n);return}$e.fx&&$e.fy&&($e.dt?this.f3($e.fx,$e.fy,$e.t0,$e.t1,$e.dt):$e.n&&this.f4($e.fx,$e.fy,$e.t0,$e.t1,$e.n))}static fromDx($e,Ve,ze,qe,Xe){return new FunctionSeries({f:$e,x0:Ve,x1:ze,dx:qe,title:Xe})}static fromN($e,Ve,ze,qe,Xe){return assertInteger(qe,"n"),new FunctionSeries({f:$e,x0:Ve,x1:ze,n:qe,title:Xe})}static fromFxFyDt($e,Ve,ze,qe,Xe,We){return new FunctionSeries({fx:$e,fy:Ve,t0:ze,t1:qe,dt:Xe,title:We})}static fromFxFyN($e,Ve,ze,qe,Xe,We){return assertInteger(Xe,"n"),new FunctionSeries({fx:$e,fy:Ve,t0:ze,t1:qe,n:Xe,title:We})}f1($e,Ve,ze,qe){for(let Xe=Ve;Xe<=ze+qe*.5;Xe+=qe)this.points.push(newDataPoint(Xe,$e(Xe)))}f2($e,Ve,ze,qe){this.f1($e,Ve,ze,(ze-Ve)/(qe-1))}f3($e,Ve,ze,qe,Xe){for(let We=ze;We<=qe+Xe*.5;We+=Xe)this.points.push(newDataPoint($e(We),Ve(We)))}f4($e,Ve,ze,qe,Xe){this.f3($e,Ve,ze,qe,(qe-ze)/(Xe-1))}}class HistogramItem{constructor($e,Ve,ze,qe,Xe=OxyColors.Automatic){D$1(this,"rangeStart"),D$1(this,"rangeEnd"),D$1(this,"area"),D$1(this,"count"),D$1(this,"color"),this.rangeStart=$e,this.rangeEnd=Ve,this.area=ze,this.count=qe,this.color=Xe}get rangeCenter(){return this.rangeStart+(this.rangeEnd-this.rangeStart)/2}get width(){return this.rangeEnd-this.rangeStart}get height(){return this.area/this.width}get value(){return this.height}contains($e){return this.height<0?$e.x<=this.rangeEnd&&$e.x>=this.rangeStart&&$e.y>=this.height&&$e.y<=0||$e.x<=this.rangeStart&&$e.x>=this.rangeEnd&&$e.y>=this.height&&$e.y<=0:$e.x<=this.rangeEnd&&$e.x>=this.rangeStart&&$e.y<=this.height&&$e.y>=0||$e.x<=this.rangeStart&&$e.x>=this.rangeEnd&&$e.y<=this.height&&$e.y>=0}toString(){return`${this.rangeStart} ${this.rangeEnd} ${this.area} ${this.count}`}}const Pe=class Xu extends XYAxisSeries{constructor($e){super($e),D$1(this,"defaultFillColor",OxyColors.Undefined),D$1(this,"_actualItems"),D$1(this,"baseValue"),D$1(this,"baseLine"),D$1(this,"actualBaseLine"),D$1(this,"fillColor"),D$1(this,"strokeColor"),D$1(this,"negativeFillColor"),D$1(this,"negativeStrokeColor"),D$1(this,"strokeThickness"),D$1(this,"minValue",0),D$1(this,"maxValue",0),D$1(this,"labelStringFormatter"),D$1(this,"trackerStringFormatter"),D$1(this,"labelMargin",0),D$1(this,"labelPlacement"),D$1(this,"colorMapping"),D$1(this,"mapping"),D$1(this,"items",[]),this.fillColor=OxyColors.Automatic,this.strokeColor=OxyColors.Black,this.strokeThickness=0,this.trackerStringFormatter=Xu.defaultTrackerStringFormatter,this.labelPlacement=LabelPlacement.Outside,this.colorMapping=this.getDefaultColor,this.negativeFillColor=OxyColors.Undefined,this.negativeStrokeColor=OxyColors.Undefined,this.baseValue=0,this.baseLine=NaN,this.actualBaseLine=NaN,$e&&Object.assign(this,removeUndef($e))}get actualFillColor(){return this.fillColor.getActualColor(this.defaultFillColor)}get actualItems(){return this.itemsSource?this._actualItems:this.items}async render($e){this.verifyAxes(),await this.renderBins($e,this.actualItems)}getNearestPoint($e,Ve){const ze=this.inverseTransform($e);if(this.isPointInRange(ze)&&this.actualItems)for(let qe=0;qe<this.actualItems.length;qe++){const Xe=this.actualItems[qe];if(Xe.contains(ze)){const We=this.getItem(qe);return new TrackerHitResult({series:this,dataPoint:ze,position:$e,item:We,index:qe,text:this.formatDefaultTrackerString(Xe,ze)})}}}async renderLegend($e,Ve){const ze=(Ve.left+Ve.right)/2,qe=(Ve.top+Ve.bottom)/2,Xe=(Ve.bottom-Ve.top)*.8,We=Xe,Ke=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);await $e.drawRectangle(new OxyRect(ze-.5*We,qe-.5*Xe,We,Xe),this.getSelectableColor(this.actualFillColor),this.strokeColor,this.strokeThickness,Ke)}updateData(){this.itemsSource&&this.updateActualItems()}setDefaultValues(){this.fillColor.isAutomatic()&&(this.defaultFillColor=this.plotModel.getDefaultColor())}updateAxisMaxMin(){super.updateAxisMaxMin(),this.computeActualBaseLine(),this.yAxis.include(this.actualBaseLine)}computeActualBaseLine(){if(isNaN(this.baseLine))if(this.yAxis.isLogarithmic()){const $e=this.actualItems?minValueOfArray(this.actualItems.map(Ve=>Ve.value).filter(Ve=>Ve>0),1):1;this.actualBaseLine=Math.max($e/10,this.baseValue)}else this.actualBaseLine=0;else this.actualBaseLine=this.baseLine}updateMaxMinXY(){if(this.actualItems&&this.actualItems.length>0){const $e=this.actualItems.map(qe=>qe.rangeStart),Ve=this.actualItems.map(qe=>qe.rangeEnd),ze=this.actualItems.map(qe=>qe.height);this.minX=Math.min(minValueOfArray($e),minValueOfArray(Ve)),this.maxX=Math.max(maxValueOfArray($e),maxValueOfArray(Ve)),this.yAxis.isLogarithmic()?(this.minY=Math.max(minValueOfArray(ze),Number.EPSILON),this.maxY=maxValueOfArray(ze,Number.EPSILON)):(this.minY=minValueOfArray(ze,0),this.maxY=maxValueOfArray(ze,0))}}updateMaxMin(){super.updateMaxMin();const $e=[];if(pushMany($e,this.actualItems.map(Ve=>newDataPoint(Ve.rangeStart,0))),pushMany($e,this.actualItems.map(Ve=>newDataPoint(Ve.rangeEnd,Ve.height))),this.internalUpdateMaxMin($e),this.updateMaxMinXY(),this.actualItems&&this.actualItems.length>0){const Ve=this.actualItems.map(ze=>ze.value);this.minValue=minValueOfArray(Ve),this.maxValue=maxValueOfArray(Ve)}}getItem($e){const Ve=this.actualItems;return!this.itemsSource&&Ve&&$e<Ve.length?Ve[$e]:super.getItem($e)}async renderBins($e,Ve){const ze=this.yAxis,qe=ze.isLogarithmic()&&!ze.isValidValue(this.baseValue);for(const Xe of Ve){if(ze.isLogarithmic()&&!ze.isValidValue(Xe.height))continue;const We=this.getItemFillColor(Xe),Ke=this.getItemStrokeColor(Xe),Je=this.transform(newDataPoint(Xe.rangeStart,qe?ze.clipMinimum:this.baseValue)),Ze=this.transform(newDataPoint(Xe.rangeEnd,Xe.height)),Qe=OxyRect.fromScreenPoints(Je,Ze),St=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);await $e.drawRectangle(Qe,We,Ke,this.strokeThickness,St),this.labelStringFormatter&&await this.renderLabel($e,Qe,Xe)}}getItemFillColor($e){return $e.color.isAutomatic()?this.colorMapping($e):$e.color}getItemStrokeColor($e){return this.negativeStrokeColor.isUndefined()||$e.height>=this.baseValue?this.strokeColor:this.negativeStrokeColor}async renderLabel($e,Ve,ze){const qe=this.labelStringFormatter(ze,[ze.value,ze.rangeStart,ze.rangeEnd,ze.area,ze.count]);let Xe,We,Ke=HorizontalAlignment.Center;const Je=(ze.rangeStart+ze.rangeEnd)/2,Ze=Math.sign(ze.value);let Qe=Ze*this.labelMargin;switch(this.labelPlacement){case LabelPlacement.Inside:Xe=newDataPoint(Je,ze.value),We=-Ze;break;case LabelPlacement.Middle:{const ni=this.inverseTransform(Ve.topLeft),oi=this.inverseTransform(Ve.bottomRight);Xe=newDataPoint(Je,(ni.y+oi.y)/2),We=VerticalAlignment.Middle;break}case LabelPlacement.Base:Xe=newDataPoint(Je,0),Qe=-Qe,We=Ze;break;case LabelPlacement.Outside:Xe=newDataPoint(Je,ze.value),Qe=-Qe,We=Ze;break;default:throw new Error("Invalid label placement")}const St=PlotElementExtensions.orientateAlignment(this,Ke,We);Ke=St[0],We=St[1];const ei=PlotElementExtensions.orientateVector(this,new ScreenVector(0,Qe)),ti=screenPointPlus(this.transform(Xe),ei);await $e.drawText(ti,qe,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,Ke,We)}isPointInRange($e){return this.updateMaxMinXY(),$e.x>=this.minX&&$e.x<=this.maxX&&$e.y>=this.minY&&$e.y<=this.maxY}clearActualItems(){this._actualItems&&(this._actualItems.length=0)}getDefaultColor($e){return this.negativeFillColor.isUndefined()||$e.value>=this.baseValue?this.actualFillColor:this.negativeFillColor}updateActualItems(){if(this.mapping){if(!this.itemsSource)throw new Error("itemsSource is required when using the Mapping property");this.clearActualItems(),this._actualItems=this._actualItems||[];for(const $e of this.itemsSource)this._actualItems.push(this.mapping($e));return}this.clearActualItems(),this._actualItems=this._actualItems||[];for(const $e of this.itemsSource||[])if($e)throw $e instanceof HistogramItem&&this._actualItems.push($e),new Error("invalid item type")}};D$1(Pe,"defaultTrackerStringFormatter",je=>`Start: ${je.item.rangeStart}
End: ${je.item.rangeEnd}
Value: ${je.item.value}
Area: ${je.item.area}
Count: ${je.item.count}`);let HistogramSeries=Pe;function isScatterPointProvider(je){return je&&typeof je.getScatterPoint=="function"}const ke=class Wu extends XYAxisSeries{constructor($e){super($e),D$1(this,"_points",[]),D$1(this,"defaultMarkerFillColor",OxyColors.Undefined),D$1(this,"markerFill",OxyColors.Automatic),D$1(this,"markerOutline"),D$1(this,"markerSize",5),D$1(this,"markerType",MarkerType.Square),D$1(this,"markerStroke",OxyColors.Automatic),D$1(this,"markerStrokeThickness",1),D$1(this,"labelStringFormatter"),D$1(this,"labelMargin",6),D$1(this,"binSize",0),D$1(this,"colorAxisKey"),D$1(this,"dataFieldX"),D$1(this,"dataFieldY"),D$1(this,"dataFieldSize"),D$1(this,"dataFieldTag"),D$1(this,"dataFieldValue"),D$1(this,"mapping"),D$1(this,"colorAxis"),D$1(this,"itemsSourcePoints"),D$1(this,"maxValue",0),D$1(this,"minValue",0),this.markerFill=OxyColors.Automatic,this.markerSize=5,this.markerType=MarkerType.Square,this.markerStroke=OxyColors.Automatic,this.markerStrokeThickness=1,this.labelMargin=6,$e&&Object.assign(this,removeUndef($e))}get actualMarkerFillColor(){return this.markerFill.getActualColor(this.defaultMarkerFillColor)}get points(){return this._points}get actualPoints(){return this.itemsSource?this.itemsSourcePoints:this.points}getNearestPoint($e,Ve){if(!this.xAxis||!this.yAxis||Ve)return;const ze=this.actualPoints;if(!ze||ze.length===0)return;let qe,Xe=Number_MAX_VALUE,We=0;const Ke=this.colorAxis?this.colorAxis.title:Wu.defaultColorAxisTitle,Je=this.xAxis.clipMinimum,Ze=this.xAxis.clipMaximum,Qe=this.yAxis.clipMinimum,St=this.yAxis.clipMaximum;for(const ei of ze){if(ei.x<Je||ei.x>Ze||ei.y<Qe||ei.y>St){We++;continue}const ti=this.transform(newDataPoint(ei.x,ei.y)),ni=ti.x-$e.x,oi=ti.y-$e.y,ai=ni*ni+oi*oi;if(ai<Xe){const si=this.getItem(We)??ei;let ri;!isNullOrUndef(ei.value)&&!isNaN(ei.value)&&!isInfinity(ei.value)&&(ri=ei.value);const ii=newDataPoint(ei.x,ei.y);qe=new TrackerHitResult({series:this,dataPoint:ii,position:ti,item:si,index:We,text:this.formatDefaultTrackerString(si,ii,ui=>{ui.colorAxisTitle=Ke,ui.zValue=ri})}),Xe=ai}We++}return qe}async render($e){const Ve=this.actualPoints;if(!Ve||Ve.length===0)return;const ze=this.getClippingRect(),qe=Ve.length,Xe=[],We=[],Ke=[],Je=[],Ze=new Map,Qe=new Map,St=this.isSelected();for(let ti=0;ti<qe;ti++){const ni=newDataPoint(Ve[ti].x,Ve[ti].y);if(!this.isValidPoint(ni))continue;let oi=NaN,ai=NaN;const si=Ve[ti];si&&(isNullOrUndef(si.size)||(oi=si.size),isNullOrUndef(si.value)||(ai=si.value)),isNaN(oi)&&(oi=this.markerSize);const ri=this.transform(newDataPoint(ni.x,ni.y));if(St&&this.isItemSelected(ti)){Ke.push(ri),Je.push(oi);continue}if(this.colorAxis){if(isNaN(ai))continue;const ii=this.colorAxis.getPaletteIndex(ai);Ze.has(ii)||(Ze.set(ii,[]),Qe.set(ii,[])),Ze.get(ii).push(ri),Qe.get(ii).push(oi)}else Xe.push(ri),We.push(oi)}const ei=this.transform(newDataPoint(this.minX,this.maxY));if(this.colorAxis){const ti=this.markerType===MarkerType.Plus||this.markerType===MarkerType.Star||this.markerType===MarkerType.Cross;for(const[ni,oi]of Ze){const ai=this.colorAxis.getColor(ni);await RenderingExtensions.drawMarkers($e,oi,this.markerType,this.markerOutline,Qe.get(ni),this.markerFill.getActualColor(ai),ti?ai:this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,this.binSize,ei)}}await RenderingExtensions.drawMarkers($e,Xe,this.markerType,this.markerOutline,We,this.actualMarkerFillColor,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,this.binSize,ei),await RenderingExtensions.drawMarkers($e,Ke,this.markerType,this.markerOutline,Je,this.plotModel.selectionColor,this.plotModel.selectionColor,this.markerStrokeThickness,this.edgeRenderingMode,this.binSize,ei),this.labelStringFormatter&&await this.renderPointLabels($e,ze)}async renderLegend($e,Ve){const ze=(Ve.left+Ve.right)/2,qe=(Ve.top+Ve.bottom)/2,Xe=newScreenPoint(ze,qe);await RenderingExtensions.drawMarker($e,Xe,this.markerType,this.markerOutline,this.markerSize,this.isSelected()?this.plotModel.selectionColor:this.actualMarkerFillColor,this.isSelected()?this.plotModel.selectionColor:this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}setDefaultValues(){this.markerFill.isAutomatic()&&(this.defaultMarkerFillColor=this.plotModel.getDefaultColor())}updateData(){this.itemsSource&&this.updateItemsSourcePoints()}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMinValue(this.actualPoints)}async renderPointLabels($e,Ve){const ze=this.actualPoints;if(!ze||ze.length===0)return;let qe=-1;for(const Xe of ze){qe++;const We=newDataPoint(Xe.x,Xe.y);if(!this.isValidPoint(We))continue;const Ke=screenPointPlus(this.transform(We),new ScreenVector(0,-this.labelMargin));if(!Ve.containsPoint(Ke))continue;const Je=this.getItem(qe),Ze=this.labelStringFormatter(Je,[Xe.x,Xe.y]);await $e.drawText(Ke,Ze,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Bottom)}}internalUpdateMaxMinValue($e){if(!$e||$e.length===0)return;let Ve=Number_MAX_VALUE,ze=Number_MAX_VALUE,qe=Number_MAX_VALUE,Xe=Number_MIN_VALUE,We=Number_MIN_VALUE,Ke=Number_MIN_VALUE;isNaN(Ve)&&(Ve=Number_MAX_VALUE),isNaN(ze)&&(ze=Number_MAX_VALUE),isNaN(Xe)&&(Xe=Number_MIN_VALUE),isNaN(We)&&(We=Number_MIN_VALUE),isNaN(qe)&&(qe=Number_MIN_VALUE),isNaN(Ke)&&(Ke=Number_MIN_VALUE);for(const Je of $e){const Ze=Je.x,Qe=Je.y;if(Ze!==Ze||Qe!==Qe)continue;const St=isNullOrUndef(Je.value)?Number.NaN:Je.value;Ze<Ve&&(Ve=Ze),Ze>Xe&&(Xe=Ze),Qe<ze&&(ze=Qe),Qe>We&&(We=Qe),St<qe&&(qe=St),St>Ke&&(Ke=St)}Ve<Number_MAX_VALUE&&(this.minX=Ve),ze<Number_MAX_VALUE&&(this.minY=ze),Xe>Number_MIN_VALUE&&(this.maxX=Xe),We>Number_MIN_VALUE&&(this.maxY=We),qe<Number_MAX_VALUE&&(this.minValue=qe),Ke>Number_MIN_VALUE&&(this.maxValue=Ke),this.colorAxis instanceof Axis&&(this.colorAxis.include(this.minValue),this.colorAxis.include(this.maxValue))}clearItemsSourcePoints(){this.itemsSourcePoints&&(this.itemsSourcePoints.length=0)}updateItemsSourcePoints(){var $e,Ve,ze;if(this.clearItemsSourcePoints(),this.mapping){if(!this.itemsSource)throw new Error("itemsSource is required when mapping is set");this.itemsSourcePoints=this.itemsSourcePoints||[];for(const qe of this.itemsSource)this.itemsSourcePoints.push(this.mapping(qe));return}this.itemsSourcePoints=this.itemsSourcePoints||[];for(const qe of this.itemsSource||[])if(!isNullOrUndef(qe)){if(!isUndef(qe.x)&&!isUndef(qe.y)){($e=this.itemsSourcePoints)==null||$e.push(qe);continue}if(this.dataFieldX&&this.dataFieldY){const Xe=this.updateFromDataFields(qe);if(!Xe)continue;(Ve=this.itemsSourcePoints)==null||Ve.push(Xe);continue}if(isScatterPointProvider(qe)){const Xe=qe.getScatterPoint();if(!Xe)continue;(ze=this.itemsSourcePoints)==null||ze.push(Xe);continue}throw new Error("Invalid item type")}}updateFromDataFields($e){const Ve=getOrDefault($e,this.dataFieldX,Number.NaN),ze=getOrDefault($e,this.dataFieldY,Number.NaN);return{x:Ve,y:ze,size:getOrDefault($e,this.dataFieldSize,Number.NaN),value:getOrDefault($e,this.dataFieldValue,Number.NaN),tag:getOrDefault($e,this.dataFieldTag,void 0)}}};D$1(ke,"defaultColorAxisTitle","Value");let ScatterSeries=ke;const ue$2=class Kl extends XYAxisSeries{constructor($e){super($e),D$1(this,"_actualItems"),D$1(this,"defaultColor",OxyColors.Undefined),D$1(this,"defaultLineStyle",LineStyle.Solid),D$1(this,"color"),D$1(this,"minValue",0),D$1(this,"maxValue",0),D$1(this,"arrowHeadLength"),D$1(this,"arrowHeadWidth"),D$1(this,"arrowHeadPosition"),D$1(this,"lineJoin"),D$1(this,"lineStyle"),D$1(this,"strokeThickness"),D$1(this,"minimumSegmentLength"),D$1(this,"arrowVeeness"),D$1(this,"arrowStartPosition"),D$1(this,"arrowLabelPosition"),D$1(this,"colorAxis"),D$1(this,"colorAxisKey"),D$1(this,"labelStringFormatter"),D$1(this,"trackerStringFormatter"),D$1(this,"labelFontSize"),D$1(this,"canTrackerInterpolatePoints",!1),D$1(this,"mapping"),D$1(this,"items",[]),this.color=OxyColors.Automatic,this.minimumSegmentLength=2,this.strokeThickness=2,this.lineStyle=LineStyle.Solid,this.lineJoin=LineJoin.Miter,this.arrowHeadLength=3,this.arrowHeadWidth=2,this.arrowHeadPosition=1,this.arrowVeeness=0,this.arrowStartPosition=0,this.arrowLabelPosition=0,this.trackerStringFormatter=Kl.DefaultTrackerStringFormatter,this.labelStringFormatter=Ve=>Ve.value.toFixed(2),this.labelFontSize=0,$e&&Object.assign(this,$e)}get actualLineStyle(){return this.lineStyle!=LineStyle.Automatic?this.lineStyle:this.defaultLineStyle}get ActualItems(){return this.itemsSource?this._actualItems:this.items}async render($e){const Ve=this.ActualItems;this.verifyAxes(),await this.renderVectors($e,Ve)}updateData(){this.itemsSource&&this.updateActualItems()}clearActualItems(){this._actualItems&&(this._actualItems.length=0)}updateActualItems(){if(!this.itemsSource)return;this.clearActualItems(),this._actualItems=this._actualItems||[];let $e=this.itemsSource;this.mapping&&($e=this.itemsSource.map(Ve=>this.mapping(Ve))),this._actualItems.push(...$e)}async renderVectors($e,Ve){let ze=0;for(const qe of Ve){let Xe;this.colorAxis&&(this.color.isUndefined()||this.color.isAutomatic())?Xe=ColorAxisExtensions.getColor(this.colorAxis,qe.value):Xe=this.color.getActualColor(this.defaultColor),Xe=this.getSelectableColor(Xe,ze);const We=qe.direction,Ke=dataPointMinusVector(qe.origin,We.times(this.arrowStartPosition)),Je=dataPointPlus(Ke,We.times(this.arrowLabelPosition));await this.drawVector($e,Ke,We,Xe),this.labelFontSize>0&&this.labelStringFormatter&&await $e.drawText(this.transform(Je),this.labelStringFormatter(qe),this.actualTextColor,this.actualFont,this.labelFontSize,this.actualFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Middle),ze++}}async drawVector($e,Ve,ze,qe){const Xe=[Ve,dataPointPlus(Ve,ze)],We=[];RenderingExtensions.transformAndInterpolateLines(this,Xe,We,this.minimumSegmentLength),We.length>=2&&await this.drawArrow($e,We,screenPointMinus(We[We.length-1],We[We.length-2]),qe)}async drawArrow($e,Ve,ze,qe){const Xe=ze;Xe.normalize();const We=new ScreenVector(Xe.y,-Xe.x),Ke=this.arrowHeadLength*this.strokeThickness,Je=this.arrowHeadWidth*this.strokeThickness,Ze=screenPointMinusVector(Ve[Ve.length-1],Xe.times(Ke*this.arrowHeadPosition)),Qe=Xe.times(this.arrowVeeness*this.strokeThickness),St=screenPointPlus(Ze,Xe.times(Ke)),ei=screenPointMinusVector(screenPointPlus(Ze,We.times(Je)),Qe),ti=screenPointMinusVector(screenPointMinusVector(Ze,We.times(Je)),Qe),ni=this.actualLineStyle,oi=LineStyleHelper.getDashArray(ni);if(this.arrowHeadPosition>0&&this.arrowHeadPosition<=1){const ai=Ke*this.arrowHeadPosition*Ke*this.arrowHeadPosition;for(let si=Ve.length-1;si>=0;si--)screenPointDistanceToSquared(Ve[si],St)<=ai&&Ve.splice(si,1);Ve.length>0&&Ve.push(Ze)}this.strokeThickness>0&&ni!==LineStyle.None&&(await $e.drawLine(Ve,qe,this.strokeThickness,this.edgeRenderingMode,oi,this.lineJoin),await $e.drawPolygon([ti,St,ei,Ze],qe,OxyColors.Undefined,0,this.edgeRenderingMode))}getNearestPoint($e,Ve){const ze=this.colorAxis,qe=(ze==null?void 0:ze.title)??Kl.DefaultColorAxisTitle;if(!(this.ActualItems&&this.ActualItems.length>0))return;const Xe=argMin(this.ActualItems,Je=>screenPointDistanceToSquared(this.transform(Je.origin),$e)),We=Xe.origin,Ke=this.formatDefaultTrackerString(Xe,We,Je=>{const Ze=Je;Ze.colorAxisTitle=qe,Ze.itemDirection=Xe.direction});return new TrackerHitResult({series:this,dataPoint:We,position:this.transform(We),item:void 0,index:-1,text:Ke})}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}setDefaultValues(){this.color.isAutomatic()&&this.colorAxis===void 0&&(this.defaultLineStyle=this.plotModel.getDefaultLineStyle(),this.defaultColor=this.plotModel.getDefaultColor())}updateMaxMinXY(){const $e=this.ActualItems;$e&&$e.length>0&&(this.minX=Math.min(...$e.map(Ve=>Ve.origin.x-Ve.direction.x*this.arrowStartPosition),...$e.map(Ve=>Ve.origin.x-Ve.direction.x*(this.arrowStartPosition-1))),this.maxX=Math.max(...$e.map(Ve=>Ve.origin.x-Ve.direction.x*this.arrowStartPosition),...$e.map(Ve=>Ve.origin.x-Ve.direction.x*(this.arrowStartPosition-1))),this.minY=Math.min(...$e.map(Ve=>Ve.origin.y-Ve.direction.y*this.arrowStartPosition),...$e.map(Ve=>Ve.origin.y-Ve.direction.y*(this.arrowStartPosition-1))),this.maxY=Math.max(...$e.map(Ve=>Ve.origin.y-Ve.direction.y*this.arrowStartPosition),...$e.map(Ve=>Ve.origin.y-Ve.direction.y*(this.arrowStartPosition-1))))}updateMaxMin(){super.updateMaxMin();const $e=this.ActualItems,Ve=[];if(Ve.push(...$e.map(ze=>dataPointMinusVector(ze.origin,ze.direction.times(this.arrowStartPosition)))),Ve.push(...$e.map(ze=>dataPointPlus(ze.origin,ze.direction.times(1-this.arrowStartPosition)))),this.internalUpdateMaxMin(Ve),this.updateMaxMinXY(),$e&&$e.length>0){const ze=$e.map(qe=>qe.value);this.minValue=minValueOfArray(ze),this.maxValue=maxValueOfArray(ze)}}updateAxisMaxMin(){if(super.updateAxisMaxMin(),!this.colorAxis)return;const $e=this.colorAxis;$e.include(this.minValue),$e.include(this.maxValue)}};D$1(ue$2,"DefaultTrackerStringFormatter",je=>`${je.title}
${je.xTitle}: ${je.xValue}
${je.yTitle}: ${je.yValue}
${je.colorAxisTitle}: ${je.item.value}
Δ${je.xTitle}: ${je.itemDirection.x}
Δ${je.yTitle}: ${je.itemDirection.y}`),D$1(ue$2,"DefaultColorAxisTitle","Value");let VectorSeries=ue$2;const argMin=(je,$e)=>{if(!je)throw new Error("Sequence must be defined.");if(!$e)throw new Error("Projection must be defined.");let Ve,ze,qe=!0;for(const Xe of je){const We=$e(Xe);(qe||We<ze)&&(Ve=Xe,ze=We,qe=!1)}if(qe)throw new Error("Sequence must be non-empty.");return Ve};class DataRange{constructor($e,Ve){if(D$1(this,"_minimum"),D$1(this,"_maximum"),D$1(this,"_isDefined"),isNaN($e)||isNaN(Ve))throw new Error("NaN values are not permitted");if(Ve<$e)throw new Error("max must be larger or equal min");this._minimum=$e,this._maximum=Ve,this._isDefined=!0}get minimum(){return this._minimum}get maximum(){return this._maximum}get range(){return this.maximum-this.minimum}isDefined(){return this._isDefined}contains($e){return $e>=this.minimum&&$e<=this.maximum}intersectsWith($e){return this.isDefined()&&$e.isDefined()&&(this.contains($e.minimum)||this.contains($e.maximum)||$e.contains(this.minimum)||$e.contains(this.maximum))}toString(){return`[${this.minimum}, ${this.maximum}]`}}const DataRange_Undefined=new DataRange(0,0);DataRange_Undefined._isDefined=!1;Object.freeze(DataRange_Undefined);class ExtrapolationLineSeries extends LineSeries{constructor($e){super($e),D$1(this,"defaultExtrapolationColor",OxyColors.Black),D$1(this,"defaultExtrapolationLineStyle",LineStyle.Dash),D$1(this,"orderedIntervals",[]),D$1(this,"extrapolationColor"),D$1(this,"extrapolationDashes"),D$1(this,"extrapolationLineStyle",LineStyle.Solid),D$1(this,"ignoreExtraplotationForScaling",!1),D$1(this,"intervals",[]),this.extrapolationColor=OxyColors.Black,this.lineStyle=LineStyle.Dot,$e&&Object.assign(this,$e)}get actualExtrapolationColor(){return this.extrapolationColor.getActualColor(this.defaultExtrapolationColor)}get actualExtrapolationLineStyle(){return this.extrapolationLineStyle!==LineStyle.Automatic?this.extrapolationLineStyle:this.defaultExtrapolationLineStyle}get actualExtrapolationDashArray(){return this.extrapolationDashes||LineStyleHelper.getDashArray(this.actualExtrapolationLineStyle)}async renderLegend($e,Ve){const ze=(Ve.left+Ve.right)/2,qe=(Ve.top+Ve.bottom)/2;let Xe=[newScreenPoint(Ve.left,qe),newScreenPoint(ze,qe)];await $e.drawLine(Xe,this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode,this.actualDashArray),Xe=[newScreenPoint(ze,qe),newScreenPoint(Ve.right,qe)],await $e.drawLine(Xe,this.getSelectableColor(this.actualExtrapolationColor),this.strokeThickness,this.edgeRenderingMode,this.actualExtrapolationDashArray);const We=newScreenPoint(ze,qe);await RenderingExtensions.drawMarker($e,We,this.markerType,this.markerOutline,this.markerSize,this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)}updateData(){super.updateData(),this.orderedIntervals=this.mergeOverlaps(this.intervals)}updateMaxMin(){this.ignoreExtraplotationForScaling&&this.orderedIntervals.length>0?(this.minX=this.points.filter($e=>!this.inAnyInterval($e.x)).map($e=>$e.x).filter($e=>!isNaN($e)).reduce(($e,Ve)=>Math.min($e,Ve),Number.NaN),this.minY=this.points.filter($e=>!this.inAnyInterval($e.x)).map($e=>$e.y).filter($e=>!isNaN($e)).reduce(($e,Ve)=>Math.min($e,Ve),Number.NaN),this.maxX=this.points.filter($e=>!this.inAnyInterval($e.x)).map($e=>$e.x).filter($e=>!isNaN($e)).reduce(($e,Ve)=>Math.max($e,Ve),Number.NaN),this.maxY=this.points.filter($e=>!this.inAnyInterval($e.x)).map($e=>$e.y).filter($e=>!isNaN($e)).reduce(($e,Ve)=>Math.max($e,Ve),Number.NaN)):super.updateMaxMin()}async renderLine($e,Ve){if(this.strokeThickness<=0||this.actualLineStyle===LineStyle.None)return;const ze=this.getClippingRect(),qe=this.inverseTransform(ze.bottomLeft),Xe=this.inverseTransform(ze.topRight),We=Math.min(qe.x,Xe.x),Ke=Math.max(qe.x,Xe.x),Je=Math.min(qe.y,Xe.y),Ze=Math.max(qe.y,Xe.y),Qe=this.createClippingRectangles(ze,We,Ke,Je,Ze);for(const St of Qe){const ei=this.inverseTransform(St.center).x,ti=this.orderedIntervals&&this.orderedIntervals.some(oi=>oi.contains(ei)),ni=RenderingExtensions.autoResetClip($e,St);await this.renderLinePart($e,Ve,ti),ni.dispose()}}createClippingRectangles($e,Ve,ze,qe,Xe){const We=[];let Ke=Ve;const Je=PlotElementExtensions.transform;if(this.orderedIntervals&&this.orderedIntervals.length>0){const Ze=this.flatten(this.orderedIntervals).filter(Qe=>Qe>=Ve&&Qe<=ze);for(const Qe of Ze){const St=OxyRect.fromScreenPoints(Je(this,Ke,qe),Je(this,Qe,Xe));We.push(St.clip($e)),Ke=Qe}}return We.push(OxyRect.fromScreenPoints(Je(this,Ke,qe),Je(this,ze,Xe)).clip($e)),We}flatten($e){const Ve=[];for(const ze of $e)Ve.push(ze.minimum),Ve.push(ze.maximum);return Ve}async renderLinePart($e,Ve,ze){const qe=ze?this.extrapolationColor:this.color,Xe=ze?this.actualExtrapolationDashArray:this.actualDashArray;await RenderingExtensions.drawReducedLine($e,Ve,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(qe),this.strokeThickness,this.edgeRenderingMode,Xe,this.lineJoin)}mergeOverlaps($e){const Ve=[];if($e){const ze=$e.sort((qe,Xe)=>qe.minimum-Xe.minimum);for(const qe of ze){const Xe=Ve[Ve.length-1]||DataRange_Undefined;qe.intersectsWith(Xe)?Ve[Ve.length-1]=new DataRange(Xe.minimum,Math.max(Xe.maximum,qe.maximum)):Ve.push(qe)}}return Ve}inAnyInterval($e){let Ve=0,ze=this.orderedIntervals.length-1;for(;Ve<=ze;){const qe=Math.floor((Ve+ze)/2),Xe=this.compare(this.orderedIntervals[qe],$e);if(Xe===0)return!0;Xe<0?ze=qe-1:Ve=qe+1}return!1}compare($e,Ve){return Ve<$e.minimum?-1:Ve>$e.maximum?1:0}}const ge$1=class Zl extends XYAxisSeries{constructor($e){super($e),D$1(this,"contours"),D$1(this,"segments",[]),D$1(this,"defaultColor",OxyColors.Undefined),D$1(this,"color"),D$1(this,"columnCoordinates",[]),D$1(this,"contourLevelStep"),D$1(this,"contourLevels"),D$1(this,"contourColors",[]),D$1(this,"data"),D$1(this,"labelBackground"),D$1(this,"labelStringFormatter"),D$1(this,"trackerStringFormatter"),D$1(this,"labelSpacing"),D$1(this,"multiLabel"),D$1(this,"labelStep"),D$1(this,"lineStyle"),D$1(this,"rowCoordinates",[]),D$1(this,"strokeThickness"),D$1(this,"minimumSegmentLength"),this.contourLevelStep=NaN,this.labelStep=1,this.multiLabel=!1,this.labelSpacing=150,this.labelBackground=OxyColor.fromAColor(220,OxyColors.White),this.color=OxyColors.Automatic,this.strokeThickness=1,this.lineStyle=LineStyle.Solid,this.minimumSegmentLength=2,this.trackerStringFormatter=Zl.DefaultTrackerFormatString,$e&&Object.assign(this,removeUndef($e))}get actualColor(){return this.color.getActualColor(this.defaultColor)}calculateContours(){if(!this.data)return;let $e=this.contourLevels;this.segments=[];const Ve=(ze,qe,Xe,We,Ke)=>{this.segments.push({startPoint:newDataPoint(ze,qe),endPoint:newDataPoint(Xe,We),contourLevel:Ke})};if(!$e){let ze=this.data[0][0],qe=this.data[0][0];for(let We=0;We<this.data.length;We++)for(let Ke=0;Ke<this.data[We].length;Ke++)ze=Math.max(ze,this.data[We][Ke]),qe=Math.min(qe,this.data[We][Ke]);let Xe=this.contourLevelStep;if(isNaN(Xe)){const We=(ze-qe)/20,Ke=Math.round(Math.log(Math.abs(We))/Math.LN10);Xe=Math.pow(10,Math.floor(Ke)),this.contourLevelStep=Xe}ze=Math.round(Xe*Math.ceil(ze/Xe)*1e14)/1e14,qe=Math.round(Xe*Math.floor(qe/Xe)*1e14)/1e14,$e=ArrayBuilder.createVectorWithStep(qe,ze,Xe)}if(Conrec.contour(this.data,this.columnCoordinates,this.rowCoordinates,$e,Ve),this.joinContourSegments(),this.contourColors&&this.contourColors.length>0)for(const ze of this.contours){let qe=Zl.indexOf($e,ze.contourLevel);qe>=0&&(qe=qe%this.contourColors.length,ze.color=this.contourColors[qe])}}getNearestPoint($e,Ve){let ze;const qe="Z";for(const Xe of this.contours){const We=Ve?this.getNearestInterpolatedPointInternal(Xe.points,0,$e):this.getNearestPointInternal(Xe.points,0,$e);We&&(!ze||screenPointDistanceToSquared(ze.position,$e)>screenPointDistanceToSquared(We.position,$e))&&(ze=We,ze.text=this.formatDefaultTrackerString(Xe,We.dataPoint,Ke=>{const Je=Ke;Je.zTitle=qe,Je.contourLevel=Xe.contourLevel}))}return ze}async render($e){if(this.contours||this.calculateContours(),this.contours.length===0)return;this.verifyAxes();const Ve=[],ze=LineStyleHelper.getDashArray(this.lineStyle);for(const qe of this.contours){if(this.strokeThickness<=0||this.lineStyle===LineStyle.None)continue;const Xe=qe.points.map(ni=>this.transform(ni)),We=qe.color.getActualColor(this.actualColor);await RenderingExtensions.drawReducedLine($e,Xe,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(We),this.strokeThickness,this.edgeRenderingMode,ze,LineJoin.Miter);let Ke=0;for(let ni=1;ni<Xe.length;ni++)Ke+=screenPointMinus(Xe[ni],Xe[ni-1]).length;if(Xe.length<=10||Math.round(qe.contourLevel/this.contourLevelStep)%this.labelStep!==0)continue;if(!this.multiLabel){this.addContourLabels(qe,Xe,Ve,(Xe.length-1)*.5);continue}const Je=Math.floor(Ke/this.labelSpacing);if(Je===0){this.addContourLabels(qe,Xe,Ve,(Xe.length-1)*.5);continue}let Ze=0,Qe=0,St=1,ei=0;const ti=(Ke-(Je-1)*this.labelSpacing)/2;for(let ni=0;ni<Je;ni++){let oi=0;St===1?ei=ti:ei=ti+ni*this.labelSpacing;for(let ai=St;ai<Xe.length;ai++){if(Ze+=screenPointMinus(Xe[ai],Xe[ai-1]).length,Ze>ei){oi=ai-1+(ei-Qe)/(Ze-Qe),St=ai+1;break}Qe=Ze}this.addContourLabels(qe,Xe,Ve,oi)}}for(const qe of Ve)await this.renderLabelBackground($e,qe);for(const qe of Ve)await this.renderLabel($e,qe)}setDefaultValues(){this.color.isAutomatic()&&(this.lineStyle=this.plotModel.getDefaultLineStyle(),this.defaultColor=this.plotModel.getDefaultColor())}updateMaxMin(){this.minX=Math.min(...this.columnCoordinates),this.maxX=Math.max(...this.columnCoordinates),this.minY=Math.min(...this.rowCoordinates),this.maxY=Math.max(...this.rowCoordinates)}static indexOf($e,Ve){let ze=Number_MAX_VALUE,qe=-1;for(let Xe=0;Xe<$e.length;Xe++){const We=Math.abs($e[Xe]-Ve);We<ze&&(ze=We,qe=Xe)}return qe}addContourLabels($e,Ve,ze,qe){if(Ve.length<2)return;const Xe=Math.floor(qe),We=Xe+1,Ke=Ve[We].x-Ve[Xe].x,Je=Ve[We].y-Ve[Xe].y,Ze=Ve[Xe].x+Ke*(qe-Xe),Qe=Ve[Xe].y+Je*(qe-Xe),St=newScreenPoint(Ze,Qe);let ei=Math.atan2(Je,Ke)*180/Math.PI;ei>90&&(ei-=180),ei<-90&&(ei+=180);const ti=this.labelStringFormatter?this.labelStringFormatter($e.contourLevel,[]):$e.contourLevel.toString();ze.push({position:St,angle:ei,text:ti})}joinContourSegments($e=1e-10){this.contours=new Array;const Ve=qe=>{const Xe=new SegmentPoint(qe.startPoint),We=new SegmentPoint(qe.endPoint);return Xe.partner=We,We.partner=Xe,[Xe,We]},ze=groupBy(this.segments,"contourLevel");for(const qe of ze){const Xe=qe[0],We=qe[1].flatMap(Ke=>Ve(Ke)).sort((Ke,Je)=>Ke.point.x-Je.point.x);for(let Ke=0;Ke<We.length-1;Ke++){const Je=We[Ke];if(Je.join)continue;const Ze=Math.sqrt(Math.pow(Je.point.x,2)+Math.pow(Je.point.y,2))*$e,Qe=Je.point.x+Ze;let St=Ke+1,ei;for(;;){if(St>=We.length){ei=void 0;break}if(ei=We[St],St++,!ei.join){if(ei.point.x>Qe){ei=void 0;break}if(Math.sqrt(Math.pow(ei.point.x-Je.point.x,2)+Math.pow(ei.point.y-Je.point.y,2))<Ze)break}}ei&&(Je.join=ei,ei.join=Je)}for(const Ke of We){if(Ke.processed)continue;let Je=Ke;for(;Je.join&&(Je=Je.join.partner,Je!==Ke););const Ze=new Array(Je.point,Je.partner.point);for(Je.processed=!0,Je=Je.partner,Je.processed=!0;Je.join&&(Je=Je.join,!Je.processed);)Je.processed=!0,Je=Je.partner,Je.processed=!0,Ze.push(Je.point);const Qe=new Contour(Ze,Xe);this.contours.push(Qe)}}}async renderLabel($e,Ve){this.actualFontSize>0&&await $e.drawText(Ve.position,Ve.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,Ve.angle,HorizontalAlignment.Center,VerticalAlignment.Middle)}async renderLabelBackground($e,Ve){if(this.labelBackground.isInvisible())return;const ze=$e.measureText(Ve.text,this.actualFont,this.actualFontSize,this.actualFontWeight),qe=Ve.angle/180*Math.PI,Xe=Math.cos(qe),We=Math.sin(qe),Ke=Xe*.6,Je=We*.6,Ze=-We*.5,Qe=Xe*.5,St=Ve.position.x,ei=Ve.position.y,ti=[newScreenPoint(St-ze.width*Ke-ze.height*Ze,ei-ze.width*Je-ze.height*Qe),newScreenPoint(St+ze.width*Ke-ze.height*Ze,ei+ze.width*Je-ze.height*Qe),newScreenPoint(St+ze.width*Ke+ze.height*Ze,ei+ze.width*Je+ze.height*Qe),newScreenPoint(St-ze.width*Ke+ze.height*Ze,ei-ze.width*Je+ze.height*Qe)];await $e.drawPolygon(ti,this.labelBackground,OxyColors.Undefined,0,this.edgeRenderingMode)}};D$1(ge$1,"DefaultTrackerFormatString",je=>`${je.title}
${je.xTitle}: ${je.xValue}
${je.yTitle}: ${je.yValue}
${je.zTitle}: ${je.contourLevel}`);let ContourSeries=ge$1;class SegmentPoint{constructor($e){D$1(this,"partner"),D$1(this,"join"),D$1(this,"processed"),D$1(this,"point"),this.point=$e,this.processed=!1}}class Contour{constructor($e,Ve){D$1(this,"contourLevel"),D$1(this,"points"),D$1(this,"color"),this.points=$e,this.contourLevel=Ve,this.color=OxyColors.Automatic}}class StairStepSeries extends LineSeries{constructor($e){super($e),D$1(this,"verticalStrokeThickness"),D$1(this,"verticalLineStyle"),this.verticalStrokeThickness=NaN,this.verticalLineStyle=this.lineStyle,$e&&Object.assign(this,removeUndef($e))}getNearestPoint($e,Ve){if(!this.xAxis||!this.yAxis)return;let ze=16*16,qe=this.getNearestPointInternal(this.actualPoints,0,$e);if(!Ve&&qe&&screenPointDistanceToSquared(qe.position,$e)<ze)return qe.text=this.formatDefaultTrackerString(qe.item,qe.dataPoint),qe;qe=void 0;const Xe=this.actualPoints.length;for(let We=0;We<Xe;We++){const Ke=this.actualPoints[We],Je=this.actualPoints[We+1<Xe?We+1:We],Ze=PlotElementExtensions.transform(this,Ke.x,Ke.y),Qe=PlotElementExtensions.transform(this,Je.x,Ke.y),St=Qe.x-Ze.x,ei=Qe.y-Ze.y;let ti=($e.x-Ze.x)*St+($e.y-Ze.y)*ei,ni=St*St+ei*ei;if(St*St+ei*ei<4&&(ti=0,ni=1),Math.abs(ni)<=0)continue;const oi=ti/ni;if(oi<0||oi>1)continue;const ai=Ze.x+oi*St,si=Ze.y+oi*ei,ri=$e.x-ai,ii=$e.y-si,ui=ri*ri+ii*ii;if(ui>=ze)continue;const ci=Ke.x+oi*(Je.x-Ke.x),hi=Ke.y,mi=this.getItem(We),di=this.formatDefaultTrackerString(mi,newDataPoint(ci,hi));qe=new TrackerHitResult({series:this,dataPoint:newDataPoint(ci,hi),position:newScreenPoint(ai,si),item:mi,index:We,text:di}),ze=ui}return qe}async render($e){if(!this.actualPoints||this.actualPoints.length===0)return;this.verifyAxes();const Ve=this.actualDashArray,ze=LineStyleHelper.getDashArray(this.verticalLineStyle),qe=this.actualLineStyle,Xe=isNaN(this.verticalStrokeThickness)?this.strokeThickness:this.verticalStrokeThickness,We=this.getSelectableColor(this.actualColor),Ke=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness),Je=async(ni,oi)=>{if(this.strokeThickness>0&&qe!==LineStyle.None)if(Xe!==this.strokeThickness||this.verticalLineStyle!==qe){const ai=[],si=[];if(ni.length>=2){ai.push(ni[0]),ai.push(ni[1]);for(let ri=1;ri+2<ni.length;ri+=2)si.push(ni[ri]),si.push(ni[ri+1]),ai.push(ni[ri+1]),ai.push(ni[ri+2])}await $e.drawLineSegments(ai,We,this.strokeThickness,Ke,Ve,this.lineJoin),await $e.drawLineSegments(si,We,Xe,Ke,ze,this.lineJoin)}else await $e.drawLine(ni,We,this.strokeThickness,Ke,Ve,this.lineJoin);this.markerType!==MarkerType.None&&await RenderingExtensions.drawMarkers($e,oi,this.markerType,this.markerOutline,[this.markerSize],this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)},Ze=this.actualPoints;let Qe=0,St=Number_MAX_VALUE;if(this.isXMonotonic){const ni=this.xAxis.clipMinimum;St=this.xAxis.clipMaximum,this.windowStartIndex=this.updateWindowStartIndex(Ze,oi=>oi.x,ni,this.windowStartIndex),Qe=this.windowStartIndex}const ei=[],ti=[];for(let ni=Qe;ni<Ze.length;){const{valid:oi,validOffset:ai,endOffset:si}=this.findNextValidSegment(Ze,ni,St);if(!oi)break;let ri=newScreenPoint(0,0),ii=DataPoint_Undefined,ui=!1,ci=!1;for(ni=ai;ni<si;++ni){const hi=Ze[ni];ui=ui||hi.x>ii.x,ci=ci||hi.x<ii.x,ui&&ci&&(ei.push(this.transform(ii)),ei.push(this.transform(ii)),ui=hi.x>ii.x,ci=hi.x<ii.x),ri=this.transform(hi),hi.y!==ii.y&&(isNaN(ii.y)||ei.push(this.transform(newDataPoint(hi.x,ii.y))),ei.push(ri),ui=!1,ci=!1),ii=hi,ti.push(ri)}ni<Ze.length&&this.xAxis.isValidValue(Ze[ni].x)?ei.push(this.transform(newDataPoint(Ze[ni].x,ii.y))):ei.push(ri),await Je(ei,ti),ei.length=0,ti.length=0}this.labelStringFormatter&&await this.renderPointLabels($e)}findNextValidSegment($e,Ve,ze){for(;;++Ve){if(Ve>=$e.length)return{valid:!1,validOffset:0,endOffset:0};const Xe=$e[Ve];if(Xe.x>ze)return{valid:!1,validOffset:0,endOffset:0};if(this.isValidPoint(Xe))break}const qe=Ve;for(;!(Ve>=$e.length);++Ve){const Xe=$e[Ve];if(!this.isValidPoint(Xe)||Xe.x>ze)break}return{valid:!0,validOffset:qe,endOffset:Ve}}}const Re=class Yu extends XYAxisSeries{constructor($e){super($e),D$1(this,"itemsSourceItems",[]),D$1(this,"trackerStringFormatter"),D$1(this,"boxWidth"),D$1(this,"fill"),D$1(this,"items"),D$1(this,"lineStyle"),D$1(this,"medianPointSize"),D$1(this,"medianThickness"),D$1(this,"meanPointSize"),D$1(this,"meanThickness"),D$1(this,"outlierSize"),D$1(this,"outlierTrackerStringFormatter"),D$1(this,"outlierType"),D$1(this,"outlierOutline"),D$1(this,"showBox"),D$1(this,"showMedianAsDot"),D$1(this,"showMeanAsDot"),D$1(this,"stroke"),D$1(this,"strokeThickness"),D$1(this,"whiskerWidth"),this.items=[],this.trackerStringFormatter=Yu.DefaultTrackerFormatString,this.outlierTrackerStringFormatter=Ve=>`${Ve.title||""}
${Ve.xTitle}: ${Ve.xValue}
Y: ${Ve.outlier.toFixed(2)}`,this.title=void 0,this.fill=OxyColors.Automatic,this.stroke=OxyColors.Black,this.boxWidth=.3,this.strokeThickness=1,this.medianThickness=2,this.meanThickness=2,this.outlierSize=2,this.outlierType=MarkerType.Circle,this.medianPointSize=2,this.meanPointSize=2,this.whiskerWidth=.5,this.lineStyle=LineStyle.Solid,this.showMedianAsDot=!1,this.showMeanAsDot=!1,this.showBox=!0,$e&&Object.assign(this,removeUndef($e))}get actualItems(){return this.itemsSource?this.itemsSourceItems:this.items}getNearestPoint($e,Ve){if(!this.xAxis||!this.yAxis)return;let ze=Number_MAX_VALUE,qe;for(const Xe of this.actualItems){for(const St of Xe.outliers){const ei=PlotElementExtensions.transform(this,Xe.x,St),ti=screenPointMinus(ei,$e).lengthSquared;if(ti<ze){const ni=this.outlierTrackerStringFormatter({item:Xe,title:this.title,xTitle:this.xAxis.title||XYAxisSeries.defaultXAxisTitle,xValue:this.xAxis.getValue(Xe.x),outlier:St});qe=new TrackerHitResult({series:this,dataPoint:newDataPoint(Xe.x,St),position:ei,item:Xe,text:ni}),ze=ti}}let We=DataPoint_Undefined;if(this.getBoxRect(Xe).containsPoint($e)){const St=this.inverseTransform($e);We=newDataPoint(Xe.x,St.y),ze=0}const Ke=PlotElementExtensions.transform(this,Xe.x,Xe.upperWhisker),Je=PlotElementExtensions.transform(this,Xe.x,Xe.lowerWhisker),Ze=ScreenPointHelper.findPointOnLine($e,Ke,Je),Qe=screenPointMinus(Ze,$e).lengthSquared;if(Qe<ze&&(We=this.inverseTransform(Ze),ze=Qe),DataPoint_isDefined(We)){const St=this.trackerStringFormatter({item:Xe,title:this.title,xTitle:this.xAxis.title||XYAxisSeries.defaultXAxisTitle,xValue:this.xAxis.getValue(Xe.x),upperWhisker:this.yAxis.getValue(Xe.upperWhisker),boxTop:this.yAxis.getValue(Xe.boxTop),median:this.yAxis.getValue(Xe.median),boxBottom:this.yAxis.getValue(Xe.boxBottom),lowerWhisker:this.yAxis.getValue(Xe.lowerWhisker),mean:this.yAxis.getValue(Xe.mean!==void 0?Xe.mean:NaN)});qe=new TrackerHitResult({series:this,dataPoint:We,position:this.transform(We),item:Xe,text:St})}}if(ze<Number_MAX_VALUE)return qe}isValidPointBoxPlot($e,Ve,ze){const qe=getBoxPlotItemValues($e);return!isNaN($e.x)&&!isInfinity($e.x)&&!qe.some(isNaN)&&!qe.some(isInfinity)&&Ve&&Ve.isValidValue($e.x)&&ze&&qe.every(Xe=>ze.isValidValue(Xe))}async render($e){if(this.actualItems.length===0)return;const Ve=this.getClippingRect(),ze=[],qe=this.boxWidth*.5,Xe=qe*this.whiskerWidth,We=this.getSelectableColor(this.stroke),Ke=this.getSelectableFillColor(this.fill),Je=LineStyleHelper.getDashArray(this.lineStyle),Ze=PlotElementExtensions.transform,Qe=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);for(const St of this.actualItems){const ei=St.mean!==void 0?St.mean:NaN;ze.push(...St.outliers.map(si=>Ze(this,St.x,si)));const ti=Ze(this,St.x,St.upperWhisker),ni=Ze(this,St.x,St.boxTop),oi=Ze(this,St.x,St.boxBottom),ai=Ze(this,St.x,St.lowerWhisker);if(this.strokeThickness>0&&this.lineStyle!==LineStyle.None&&(await $e.drawLine([ti,ni],We,this.strokeThickness,Qe,Je,LineJoin.Miter),await $e.drawLine([oi,ai],We,this.strokeThickness,Qe,Je,LineJoin.Miter)),this.whiskerWidth>0){const si=Ze(this,St.x-Xe,St.upperWhisker),ri=Ze(this,St.x+Xe,St.upperWhisker),ii=Ze(this,St.x-Xe,St.lowerWhisker),ui=Ze(this,St.x+Xe,St.lowerWhisker);await $e.drawLine([si,ri],We,this.strokeThickness,Qe,void 0,LineJoin.Miter),await $e.drawLine([ii,ui],We,this.strokeThickness,Qe,void 0,LineJoin.Miter)}if(this.showBox){const si=this.getBoxRect(St);await $e.drawRectangle(si,Ke,We,this.strokeThickness,Qe)}if(this.showMedianAsDot){const si=Ze(this,St.x,St.median);if(Ve.containsPoint(si)){const ri=new OxyRect(si.x-this.medianPointSize,si.y-this.medianPointSize,this.medianPointSize*2,this.medianPointSize*2);await $e.drawEllipse(ri,Ke,OxyColors.Undefined,0,this.edgeRenderingMode)}}else{const si=Ze(this,St.x-qe,St.median),ri=Ze(this,St.x+qe,St.median);await $e.drawLine([si,ri],We,this.strokeThickness*this.medianThickness,Qe,void 0,LineJoin.Miter)}if(!this.showMeanAsDot&&!isNaN(ei)){const si=Ze(this,St.x-qe,ei),ri=Ze(this,St.x+qe,ei);await $e.drawLine([si,ri],We,this.strokeThickness*this.meanThickness,Qe,LineStyleHelper.getDashArray(LineStyle.Dash),LineJoin.Miter)}else if(!isNaN(ei)){const si=Ze(this,St.x,ei);if(Ve.containsPoint(si)){const ri=new OxyRect(si.x-this.meanPointSize,si.y-this.meanPointSize,this.meanPointSize*2,this.meanPointSize*2);await $e.drawEllipse(ri,Ke,OxyColors.Undefined,0,this.edgeRenderingMode)}}}if(this.outlierType!==MarkerType.None){const St=ze.map(ei=>this.outlierSize);await RenderingExtensions.drawMarkers($e,ze,this.outlierType,this.outlierOutline,St,Ke,We,this.strokeThickness,this.edgeRenderingMode)}}async renderLegend($e,Ve){const ze=(Ve.left+Ve.right)/2,qe=Ve.top+(Ve.bottom-Ve.top)*.7,Xe=Ve.top+(Ve.bottom-Ve.top)*.3,We=(qe+Xe)*.5,Ke=Ve.width*.24,Je=Ke*this.whiskerWidth,Ze=1,Qe=this.getSelectableColor(this.stroke),St=this.getSelectableFillColor(this.fill),ei=LineStyleHelper.getDashArray(LineStyle.Solid),ti=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferGeometricAccuracy);if(await $e.drawLine([newScreenPoint(ze,Ve.top),newScreenPoint(ze,Xe)],Qe,Ze,ti,ei,LineJoin.Miter),await $e.drawLine([newScreenPoint(ze,qe),newScreenPoint(ze,Ve.bottom)],Qe,Ze,ti,ei,LineJoin.Miter),this.whiskerWidth>0&&(await $e.drawLine([newScreenPoint(ze-Je,Ve.bottom),newScreenPoint(ze+Je,Ve.bottom)],Qe,Ze,ti,ei,LineJoin.Miter),await $e.drawLine([newScreenPoint(ze-Je,Ve.top),newScreenPoint(ze+Je,Ve.top)],Qe,Ze,ti,ei,LineJoin.Miter)),this.showBox&&await $e.drawRectangle(new OxyRect(ze-Ke,Xe,2*Ke,qe-Xe),St,Qe,Ze,ti),!this.showMedianAsDot)await $e.drawLine([newScreenPoint(ze-Ke,We),newScreenPoint(ze+Ke,We)],Qe,Ze*this.medianThickness,ti,ei,LineJoin.Miter);else{const ni=new OxyRect(ze-this.medianPointSize,We-this.medianPointSize,this.medianPointSize*2,this.medianPointSize*2);await $e.drawEllipse(ni,St,OxyColors.Undefined,0,ti)}}updateData(){this.itemsSource&&(this.clearItemsSourceItems(),this.itemsSourceItems.push(...this.itemsSource),this.itemsSourceItems.forEach($e=>{$e.mean===void 0&&($e.median=NaN)}))}updateMaxMin(){super.updateMaxMin(),this.internalUpdateBoxPlotMaxMin(this.actualItems)}internalUpdateBoxPlotMaxMin($e){if(!$e||$e.length===0)return;let Ve=this.minX,ze=this.minY,qe=this.maxX,Xe=this.maxY;for(const We of $e){if(!this.isValidPointBoxPlot(We,this.xAxis,this.yAxis))continue;const Ke=We.x;(Ke<Ve||isNaN(Ve))&&(Ve=Ke),(Ke>qe||isNaN(qe))&&(qe=Ke);const Je=getBoxPlotItemValues(We);for(const Ze of Je)(Ze<ze||isNaN(ze))&&(ze=Ze),(Ze>Xe||isNaN(Xe))&&(Xe=Ze)}this.minX=Ve,this.minY=ze,this.maxX=qe,this.maxY=Xe}getItem($e){return this.itemsSource||!this.actualItems||this.actualItems.length===0?super.getItem($e):this.actualItems[$e]}getBoxRect($e){const Ve=this.boxWidth*.5,ze=PlotElementExtensions.transform(this,$e.x-Ve,$e.boxTop),qe=PlotElementExtensions.transform(this,$e.x+Ve,$e.boxBottom);return OxyRect.fromScreenPoints(ze,qe)}clearItemsSourceItems(){this.itemsSourceItems.length=0}};D$1(Re,"DefaultTrackerFormatString",je=>`${je.title||""}
${je.xTitle}: ${je.xValue}
Upper Whisker: ${je.upperWhisker.toFixed(2)}
Third Quartil: ${je.boxTop.toFixed(2)}
Median: ${je.median.toFixed(2)}
First Quartil: ${je.boxBottom.toFixed(2)}
Lower Whisker: ${je.lowerWhisker.toFixed(2)}
Mean: ${je.mean.toFixed(2)}`);let BoxPlotSeries=Re;function getBoxPlotItemValues(je){const $e=[je.lowerWhisker,je.boxBottom,je.median,je.boxTop,je.upperWhisker];return je.mean!==void 0&&!isNaN(je.mean)&&$e.push(je.mean),$e.push(...je.outliers),$e}class StemSeries extends LineSeries{constructor($e){super($e),D$1(this,"base"),this.base=0,$e&&(this.base=$e.base??0)}getNearestPoint($e,Ve){if(!this.xAxis||!this.yAxis||Ve)return;let ze,qe=Number_MAX_VALUE;const Xe=this.actualPoints;for(let We=0;We<Xe.length;We++){const Ke=Xe[We],Je=newDataPoint(Ke.x,this.base),Ze=this.transform(Ke),Qe=this.transform(Je);let St=ScreenPointHelper.findPositionOnLine($e,Ze,Qe);isNaN(St)&&(St=1),(St<0||St>1)&&(St=1);const ei=screenPointPlus(Ze,screenPointMinus(Qe,Ze).times(St)),ti=screenPointMinus($e,ei).lengthSquared;if(ti<qe){const ni=this.getItem(We),oi=this.formatDefaultTrackerString(ni,Ke);ze=new TrackerHitResult({series:this,dataPoint:newDataPoint(Ke.x,Ke.y),position:newScreenPoint(Ze.x,Ze.y),item:this.getItem(We),index:We,text:oi}),qe=ti}}return ze}async render($e){if(this.actualPoints.length===0)return;this.verifyAxes();const Ve=this.minimumSegmentLength*this.minimumSegmentLength,ze=this.actualDashArray,qe=this.getSelectableColor(this.actualColor),Xe=[],We=this.markerType!==MarkerType.None?[]:void 0;for(const Ke of this.actualPoints)if(this.isValidPoint(Ke)){if(Xe[0]=PlotElementExtensions.transform(this,Ke.x,this.base),Xe[1]=PlotElementExtensions.transform(this,Ke.x,Ke.y),this.strokeThickness>0&&this.actualLineStyle!==LineStyle.None){const Je=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);await RenderingExtensions.drawReducedLine($e,Xe,Ve,qe,this.strokeThickness,Je,ze,this.lineJoin)}We&&We.push(Xe[1])}We&&We.length>0&&await RenderingExtensions.drawMarkers($e,We,this.markerType,this.markerOutline,[this.markerSize],this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)}}function getActualFillColor(je){return je.fill.getActualColor(je.defaultFillColor)}const Ne$2=class Gu extends ItemsSeries{constructor($e){super($e),D$1(this,"slicePoints",[]),D$1(this,"total",0),D$1(this,"angleIncrement"),D$1(this,"angleSpan"),D$1(this,"areInsideLabelsAngled",!1),D$1(this,"colorField"),D$1(this,"diameter"),D$1(this,"explodedDistance",0),D$1(this,"innerDiameter"),D$1(this,"insideLabelColor"),D$1(this,"insideLabelFormatter"),D$1(this,"insideLabelPosition"),D$1(this,"isExplodedField"),D$1(this,"labelField"),D$1(this,"outsideLabelFormatter"),D$1(this,"slices",[]),D$1(this,"startAngle"),D$1(this,"stroke"),D$1(this,"strokeThickness"),D$1(this,"tickDistance"),D$1(this,"tickHorizontalLength"),D$1(this,"tickLabelDistance"),D$1(this,"tickRadialLength"),D$1(this,"valueField"),D$1(this,"trackerStringFormatter"),this.stroke=OxyColors.White,this.strokeThickness=1,this.diameter=1,this.innerDiameter=0,this.startAngle=0,this.angleSpan=360,this.angleIncrement=1,this.outsideLabelFormatter=(Ve,ze)=>`${round(ze,0)} %`,this.insideLabelColor=OxyColors.Automatic,this.insideLabelFormatter=(Ve,ze)=>Ve.label,this.tickDistance=0,this.tickRadialLength=6,this.tickHorizontalLength=8,this.tickLabelDistance=4,this.insideLabelPosition=.5,this.fontSize=12,this.trackerStringFormatter=Gu.DefaultTrackerStringFormatter,$e&&Object.assign(this,$e)}getNearestPoint($e,Ve){const ze=this.trackerStringFormatter;for(let qe=0;qe<this.slicePoints.length;qe++)if(ScreenPointHelper.isPointInPolygon($e,this.slicePoints[qe])){const Xe=this.slices[qe],We=this.getItem(qe),Ke=ze?ze({item:We,title:this.title,xTitle:Xe.label,xValue:Xe.value,percent:Xe.value/this.total*100}):void 0;return new TrackerHitResult({series:this,position:$e,item:We,index:qe,text:Ke})}}async render($e){if(this.slicePoints=[],this.slices.length===0||(this.total=this.slices.reduce((Ke,Je)=>Ke+Je.value,0),Math.abs(this.total)<=0))return;const Ve=Math.min(this.plotModel.plotArea.width,this.plotModel.plotArea.height)/2,ze=Ve*(this.diameter-this.explodedDistance),qe=Ve*this.innerDiameter;let Xe=this.startAngle;const We=newScreenPoint((this.plotModel.plotArea.left+this.plotModel.plotArea.right)*.5,(this.plotModel.plotArea.top+this.plotModel.plotArea.bottom)*.5);for(const Ke of this.slices){const Je=[],Ze=[],Qe=Ke.value/this.total*this.angleSpan,St=Xe+Qe,ei=Ke.isExploded?this.explodedDistance*Ve:0,ti=Xe+Qe/2,ni=ti*Math.PI/180,oi=newScreenPoint(We.x+ei*Math.cos(ni),We.y+ei*Math.sin(ni));for(;;){let si=!1;Xe>=St&&(Xe=St,si=!0);const ri=Xe*Math.PI/180,ii=newScreenPoint(oi.x+ze*Math.cos(ri),oi.y+ze*Math.sin(ri));Je.push(ii);const ui=newScreenPoint(oi.x+qe*Math.cos(ri),oi.y+qe*Math.sin(ri));if(qe+ei>0&&Ze.push(ui),si)break;Xe+=this.angleIncrement}Ze.reverse(),Ze.length===0&&Ze.push(oi),Ze.push(Je[0]);const ai=[...Je,...Ze];if(await $e.drawPolygon(ai,getActualFillColor(Ke),this.stroke,this.strokeThickness,this.edgeRenderingMode,void 0,LineJoin.Bevel),this.slicePoints.push(ai),this.outsideLabelFormatter){const si=this.outsideLabelFormatter(Ke,Ke.value/this.total*100),ri=Math.sign(Math.cos(ni)),ii=newScreenPoint(oi.x+(ze+this.tickDistance)*Math.cos(ni),oi.y+(ze+this.tickDistance)*Math.sin(ni)),ui=newScreenPoint(ii.x+this.tickRadialLength*Math.cos(ni),ii.y+this.tickRadialLength*Math.sin(ni)),ci=newScreenPoint(ui.x+this.tickHorizontalLength*ri,ui.y);await $e.drawLine([ii,ui,ci],this.actualTextColor,1,this.edgeRenderingMode,void 0,LineJoin.Bevel);const hi=newScreenPoint(ci.x+this.tickLabelDistance*ri,ci.y);await $e.drawText(hi,si,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,ri>0?HorizontalAlignment.Left:HorizontalAlignment.Right,VerticalAlignment.Middle)}if(this.insideLabelFormatter&&!this.insideLabelColor.isUndefined()){const si=this.insideLabelFormatter(Ke,Ke.value/this.total*100),ri=qe*(1-this.insideLabelPosition)+ze*this.insideLabelPosition,ii=newScreenPoint(oi.x+ri*Math.cos(ni),oi.y+ri*Math.sin(ni));let ui=0;this.areInsideLabelsAngled&&(ui=ti,Math.cos(ni)<0&&(ui+=180));const ci=this.insideLabelColor.isAutomatic()?this.actualTextColor:this.insideLabelColor;await $e.drawText(ii,si,ci,this.actualFont,this.actualFontSize,this.actualFontWeight,ui,HorizontalAlignment.Center,VerticalAlignment.Middle)}}}async renderLegend($e,Ve){}areAxesRequired(){return!1}ensureAxes(){}isUsing($e){return!1}setDefaultValues(){for(const $e of this.slices)$e.fill=$e.fill||OxyColors.Automatic,$e.fill.isAutomatic()&&($e.defaultFillColor=this.plotModel.getDefaultColor())}updateAxisMaxMin(){}updateData(){if(this.itemsSource){this.slices=[];for(const $e of this.itemsSource){const Ve=getOrDefault($e,this.labelField,""),ze=getOrDefault($e,this.valueField,NaN),qe=getOrDefault($e,this.colorField,OxyColors.Automatic),Xe=getOrDefault($e,this.isExplodedField,!1);this.slices.push({label:Ve,value:ze,fill:qe,isExploded:Xe})}}}updateMaxMin(){}};D$1(Ne$2,"DefaultTrackerStringFormatter",je=>`${je.xTitle}: ${round(je.xValue,3)} (${toPercent((je.percent||0)/100)})`);let PieSeries=Ne$2;class AreaSeries extends LineSeries{constructor($e){super($e),D$1(this,"_points2",[]),D$1(this,"itemsSourcePoints2",[]),D$1(this,"_actualPoints2"),D$1(this,"constantY2",0),D$1(this,"dataFieldX2"),D$1(this,"dataFieldY2"),D$1(this,"color2"),D$1(this,"fill"),D$1(this,"reverse2",!1),D$1(this,"windowStartIndex2",0),D$1(this,"isPoints2Defined",!1),this.reverse2=!0,this.color2=OxyColors.Automatic,this.fill=OxyColors.Automatic,$e&&Object.assign(this,removeUndef($e))}get actualColor2(){return this.color2.getActualColor(this.actualColor)}get actualFill(){return this.fill.getActualColor(OxyColor.fromAColor(100,this.actualColor))}get points2(){return this._points2}get actualPoints2(){return this.itemsSource?this.itemsSourcePoints2:this._actualPoints2}getNearestPoint($e,Ve){const ze=this.isXMonotonic?this.windowStartIndex:0,qe=this.isXMonotonic?this.windowStartIndex2:0;let Xe,We;Ve&&this.canTrackerInterpolatePoints?(Xe=this.getNearestInterpolatedPointInternal(this.actualPoints,ze,$e),We=this.getNearestInterpolatedPointInternal(this.actualPoints2,qe,$e)):(Xe=this.getNearestPointInternal(this.actualPoints,ze,$e),We=this.getNearestPointInternal(this.actualPoints2,qe,$e));let Ke;if(Xe&&We){const Je=screenPointDistanceTo(Xe.position,$e),Ze=screenPointDistanceTo(We.position,$e);Ke=Je<Ze?Xe:We}else Ke=Xe??We;return Ke&&(Ke.text=this.formatDefaultTrackerString(Ke.item,Ke.dataPoint)),Ke}async render($e){this.verifyAxes();const Ve=this.actualPoints;if(!Ve||Ve.length===0)return;const ze=this.actualPoints2;if(!ze||ze.length===0)return;let qe=0,Xe=0,We=Number_MAX_VALUE;if(this.isXMonotonic){const St=this.xAxis.clipMinimum;We=this.xAxis.clipMaximum,this.windowStartIndex=this.updateWindowStartIndex(Ve,ei=>ei.x,St,this.windowStartIndex),this.windowStartIndex2=this.updateWindowStartIndex(ze,ei=>ei.x,St,this.windowStartIndex2),qe=this.windowStartIndex,Xe=this.windowStartIndex2}const Ke=this.minimumSegmentLength*this.minimumSegmentLength,Je={points:Ve,windowStartIndex:qe,xMax:We,renderContext:$e,minDistSquared:Ke,reverse:!1,color:this.actualColor,dashArray:this.actualDashArray},Ze=await this.renderChunkedPoints(Je);Je.points=ze,Je.windowStartIndex=Xe,Je.reverse=this.reverse2,Je.color=this.actualColor2;const Qe=await this.renderChunkedPoints(Je);if(Ze.length===Qe.length)for(let St=0;St<Ze.length;St++){const ei=Ze[St],ti=Qe[St],ni=[];ni.push(...ti),ni.push(...ei),await RenderingExtensions.drawReducedPolygon($e,ni,Ke,this.getSelectableFillColor(this.actualFill),OxyColors.Undefined,0,this.edgeRenderingMode);const oi=[this.markerSize];await RenderingExtensions.drawMarkers($e,ei,this.markerType,void 0,oi,this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,1),await RenderingExtensions.drawMarkers($e,ti,this.markerType,void 0,oi,this.markerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,1)}}async renderLegend($e,Ve){const ze=Ve.top*.2+Ve.bottom*.8,qe=Ve.top*.4+Ve.bottom*.6,Xe=Ve.top*.8+Ve.bottom*.2,We=[newScreenPoint(Ve.left,ze),newScreenPoint(Ve.right,ze)],Ke=[newScreenPoint(Ve.right,Xe),newScreenPoint(Ve.left,qe)],Je=[...We,...Ke];if(this.strokeThickness>0&&this.actualLineStyle!==LineStyle.None){const Ze=LineStyleHelper.getDashArray(this.actualLineStyle);await $e.drawLine(We,this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode,Ze),await $e.drawLine(Ke,this.getSelectableColor(this.actualColor2),this.strokeThickness,this.edgeRenderingMode,Ze)}await $e.drawPolygon(Je,this.getSelectableFillColor(this.actualFill),OxyColors.Undefined,0,this.edgeRenderingMode)}updateData(){if(super.updateData(),!this.itemsSource){this.isPoints2Defined=this._points2.length>0,this.isPoints2Defined?this._actualPoints2=this._points2:this._actualPoints2=this.getConstantPoints2();return}if(this.itemsSourcePoints2.length=0,this.isPoints2Defined=!!(this.dataFieldX2&&this.dataFieldY2),this.isPoints2Defined)for(const $e of this.itemsSource){if(!$e)continue;const Ve=getOrDefault($e,this.dataFieldX2,Number.NaN),ze=getOrDefault($e,this.dataFieldY2,Number.NaN),qe=newDataPoint(this.xAxis.itemToDouble(Ve),this.yAxis.itemToDouble(ze));this.itemsSourcePoints2.push(qe)}else this.itemsSourcePoints2.push(...this.getConstantPoints2())}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMin(this.actualPoints2)}async renderChunkedPoints($e){const Ve=[];let ze=[],qe=0;const Xe=$e.points;for(let We=$e.windowStartIndex;We<Xe.length;We++){const Ke=Xe[We];if(isNaN(Ke.y)){if(ze.length===0)continue;Ve.push(await this.renderScreenPoints($e,ze)),ze=[]}else{const Je=PlotElementExtensions.transform(this,Ke.x,Ke.y);ze.push(Je)}if(qe+=Ke.x>$e.xMax?1:0,qe>1)break}return ze.length>0&&Ve.push(await this.renderScreenPoints($e,ze)),Ve}async renderScreenPoints($e,Ve){let ze=Ve;if($e.reverse&&ze.reverse(),this.interpolationAlgorithm){const qe=ScreenPointHelper.resamplePoints(ze,this.minimumSegmentLength);ze=this.interpolationAlgorithm.createSplineSp(qe,!1,.25)}return await RenderingExtensions.drawReducedLine($e.renderContext,ze,$e.minDistSquared,this.getSelectableColor($e.color),this.strokeThickness,this.edgeRenderingMode,$e.dashArray,this.lineJoin),ze}getConstantPoints2(){const $e=this.actualPoints,Ve=[];if(!isNaN(this.constantY2)&&$e.length>0){const ze=$e[0].x,qe=$e[$e.length-1].x;Ve.push(newDataPoint(ze,this.constantY2)),Ve.push(newDataPoint(qe,this.constantY2))}return Ve}}var HeatMapCoordinateDefinition=(je=>(je[je.Center=0]="Center",je[je.Edge=1]="Edge",je))(HeatMapCoordinateDefinition||{}),HeatMapRenderMethod=(je=>(je[je.Bitmap=0]="Bitmap",je[je.Rectangles=1]="Rectangles",je))(HeatMapRenderMethod||{});const re$1=class da extends XYAxisSeries{constructor($e){super($e),D$1(this,"dataHash",0),D$1(this,"colorAxisHash",0),D$1(this,"image"),D$1(this,"x0",0),D$1(this,"x1",0),D$1(this,"y0",0),D$1(this,"y1",0),D$1(this,"data"),D$1(this,"interpolate",!0),D$1(this,"minValue",0),D$1(this,"maxValue",0),D$1(this,"colorAxis"),D$1(this,"colorAxisKey"),D$1(this,"coordinateDefinition",0),D$1(this,"renderMethod",0),D$1(this,"labelStringFormatter",Ve=>Ve.toFixed(2)),D$1(this,"labelFontSize",0),this.trackerStringFormatter=da.DefaultTrackerFormatString,this.interpolate=!0,this.labelFontSize=0,$e&&Object.assign(this,removeUndef($e))}invalidate(){this.image=void 0}async render($e){if(!this.data){this.image=void 0;return}if(!this.colorAxis)throw new Error("Color axis not specified.");let Ve=this.x0,ze=this.x1,qe=this.y0,Xe=this.y1;const We=this.data.length,Ke=this.data[0].length,Je=(this.x1-this.x0)/(We-1),Ze=(this.y1-this.y0)/(Ke-1);if(this.coordinateDefinition===0){if(this.xAxis.isLogarithmic()){const si=Math.log(this.x1/this.x0)/(We-1);Ve*=Math.exp(si/-2),ze*=Math.exp(si/2)}else Ve-=Je/2,ze+=Je/2;if(this.yAxis.isLogarithmic()){const si=Math.log(this.y1/this.y0)/(Ke-1);qe*=Math.exp(si/-2),Xe*=Math.exp(si/2)}else qe-=Ze/2,Xe+=Ze/2}const Qe=PlotElementExtensions.transform(this,Ve,qe),St=PlotElementExtensions.transform(this,ze,Xe),ei=OxyRect.fromScreenPoints(Qe,St),ti=this.renderMethod===0,ni=calculateHashcode(this.data),oi=this.colorAxis.getElementHashCode();(ti&&!this.image||ni!==this.dataHash||oi!==this.colorAxisHash)&&(ti&&await this.updateImage(),this.dataHash=ni,this.colorAxisHash=oi);const ai=PlotElementExtensions.orientate;if(ti)this.image&&await RenderingExtensions.drawImage($e,this.image,ei.left,ei.top,ei.width,ei.height,1,this.interpolate);else{const si=ai(this,Qe),ri=ai(this,St),ii=(ri.x-si.x)/We,ui=(ri.y-si.y)/Ke,ci=ColorAxisExtensions.getColor;for(let hi=0;hi<We;hi++)for(let mi=0;mi<Ke;mi++){const di=ci(this.colorAxis,this.data[hi][mi]),fi=ai(this,newScreenPoint(si.x+hi*ii,si.y+mi*ui)),yi=ai(this,newScreenPoint(si.x+(hi+1)*ii,si.y+(mi+1)*ui)),pi=OxyRect.fromScreenPoints(fi,yi);await $e.drawRectangle(pi,di,OxyColors.Undefined,0,this.edgeRenderingMode)}}this.labelFontSize>0&&await this.renderLabels($e,ei)}getNearestPoint($e,Ve){if(!this.data)return;this.interpolate||(Ve=!1);let ze=this.inverseTransform($e);if(!this.isPointInRange(ze))return;let qe,Xe;if(this.xAxis.isLogarithmic()){const Qe=Math.log(this.x1/this.x0)/(this.data.length-1);qe=Math.log(ze.x/this.x0)/Qe}else{const Qe=(this.x1-this.x0)/(this.data.length-1);qe=(ze.x-this.x0)/Qe}if(this.yAxis.isLogarithmic()){const Qe=Math.log(this.y1/this.y0)/(this.data[0].length-1);Xe=Math.log(ze.y/this.y0)/Qe}else{const Qe=(this.y1-this.y0)/(this.data[0].length-1);Xe=(ze.y-this.y0)/Qe}if(!Ve){qe=Math.round(qe),Xe=Math.round(Xe);let Qe,St;if(this.xAxis.isLogarithmic()){const ei=Math.log(this.x1/this.x0)/(this.data.length-1);Qe=this.x0*Math.exp(qe*ei)}else{const ei=(this.x1-this.x0)/(this.data.length-1);Qe=qe*ei+this.x0}if(this.yAxis.isLogarithmic()){const ei=Math.log(this.y1/this.y0)/(this.data[0].length-1);St=this.y0*Math.exp(Xe*ei)}else{const ei=(this.y1-this.y0)/(this.data[0].length-1);St=Xe*ei+this.y0}ze=newDataPoint(Qe,St),$e=this.transform(ze)}if(qe<-.5||qe>this.data.length-.5||Xe<-.5||Xe>this.data[0].length-.5)return;const We=da.getValue(this.data,qe,Xe),Ke=this.colorAxis,Je=(Ke==null?void 0:Ke.title)??da.DefaultColorAxisTitle,Ze=this.formatDefaultTrackerString(void 0,ze,Qe=>{Qe.colorAxisTitle=Je,Qe.value=We});return new TrackerHitResult({series:this,dataPoint:ze,position:$e,item:null,index:-1,text:Ze})}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}updateMaxMinXY(){if(!this.data)return;const $e=this.data.length,Ve=this.data[0].length;if(this.minX=Math.min(this.x0,this.x1),this.maxX=Math.max(this.x0,this.x1),this.minY=Math.min(this.y0,this.y1),this.maxY=Math.max(this.y0,this.y1),this.coordinateDefinition===0){if(this.xAxis.isLogarithmic()){const ze=Math.log(this.maxX/this.minX)/($e-1);this.minX*=Math.exp(ze/-2),this.maxX*=Math.exp(ze/2)}else{const ze=(this.maxX-this.minX)/($e-1);this.minX-=ze/2,this.maxX+=ze/2}if(this.yAxis.isLogarithmic()){const ze=Math.log(this.maxY/this.minY)/(Ve-1);this.minY*=Math.exp(ze/-2),this.maxY*=Math.exp(ze/2)}else{const ze=(this.maxY-this.minY)/(Ve-1);this.minY-=ze/2,this.maxY+=ze/2}}}updateMaxMin(){if(super.updateMaxMin(),this.updateMaxMinXY(),!this.data)return;const $e=this.data.flat().filter(Ve=>!isNaN(Ve));this.minValue=minValueOfArray($e),this.maxValue=maxValueOfArray($e)}updateAxisMaxMin(){super.updateAxisMaxMin();const $e=this.colorAxis;$e&&($e.include(this.minValue),$e.include(this.maxValue))}async renderLabels($e,Ve){if(!this.data)return;const ze=this.data.length,qe=this.data[0].length,Xe=Ve.height/qe*this.labelFontSize,We=this.x0,Ke=this.x1,Je=this.y0,Ze=this.y1,Qe=PlotElementExtensions.orientate,St=PlotElementExtensions.transform,ei=Qe(this,St(this,We,Je)),ti=Qe(this,St(this,Ke,Ze)),ni=(ti.x-ei.x)/(ze-1),oi=(ti.y-ei.y)/(qe-1),ai=ColorAxisExtensions.getColor;for(let si=0;si<ze;si++)for(let ri=0;ri<qe;ri++){const ii=Qe(this,newScreenPoint(ei.x+si*ni,ei.y+ri*oi)),ui=da.getValue(this.data,si,ri),ci=ai(this.colorAxis,ui),hi=OxyColorExtensions.toHsv(ci)[2]>.6?OxyColors.Black:OxyColors.White,mi=this.getLabel(ui,si,ri);await $e.drawText(ii,mi,hi,this.actualFont,Xe,500,0,HorizontalAlignment.Center,VerticalAlignment.Middle)}}getLabel($e,Ve,ze){return this.labelStringFormatter($e,[])}static getValue($e,Ve,ze){Ve=Math.max(Ve,0),ze=Math.max(ze,0);const qe=Math.floor(Ve),Xe=qe+1<$e.length?qe+1:qe,We=Math.floor(ze),Ke=We+1<$e[0].length?We+1:We;if(Ve=Math.min(Ve,Xe),ze=Math.min(ze,Ke),Ve===qe&&ze===We)return $e[qe][We];if(Ve!==qe&&ze===We){if(isNaN($e[qe][We])||isNaN($e[Xe][We]))return NaN;const Je=Ve-qe;return qe!==Xe?$e[qe][We]*(1-Je)+$e[Xe][We]*Je:$e[qe][We]}if(Ve===qe&&ze!==We){if(isNaN($e[qe][We])||isNaN($e[qe][Ke]))return NaN;const Je=ze-We;return We!==Ke?$e[qe][We]*(1-Je)+$e[qe][Ke]*Je:$e[qe][We]}else{if(isNaN($e[qe][We])||isNaN($e[Xe][We])||isNaN($e[qe][Ke])||isNaN($e[Xe][Ke]))return NaN;const Je=Ve-qe,Ze=ze-We;let Qe,St;return qe!==Xe?(Qe=$e[qe][We]*(1-Je)+$e[Xe][We]*Je,St=$e[qe][Ke]*(1-Je)+$e[Xe][Ke]*Je):(Qe=$e[qe][We],St=$e[qe][Ke]),We!==Ke?Qe*(1-Ze)+St*Ze:Qe}}isPointInRange($e){return this.updateMaxMinXY(),$e.x>=this.minX&&$e.x<=this.maxX&&$e.y>=this.minY&&$e.y<=this.maxY}async updateImage(){if(!this.data)return;const $e=this.xAxis.transform(this.x0)>this.xAxis.transform(this.x1),Ve=this.yAxis.transform(this.y0)>this.yAxis.transform(this.y1),ze=PlotElementExtensions.isTransposed(this),qe=this.data.length,Xe=this.data[0].length,We=ze?new TwoDimensionalArray(Xe,qe):new TwoDimensionalArray(qe,Xe),Ke=ColorAxisExtensions.getColor;for(let Je=0;Je<qe;Je++){const Ze=$e?qe-1-Je:Je;for(let Qe=0;Qe<Xe;Qe++){const St=Ve?Xe-1-Qe:Qe,ei=Ke(this.colorAxis,this.data[Ze][St]);ze?We.set(Qe,Je,ei):We.set(Je,Qe,ei)}}this.image=await OxyImage.create(We,ImageFormat.Png)}};D$1(re$1,"DefaultTrackerFormatString",je=>`${je.title}
${je.xTitle}: ${je.xValue}
${je.yTitle}: ${je.yValue}
${je.colorAxisTitle}: ${je.value}`),D$1(re$1,"DefaultColorAxisTitle","Value");let HeatMapSeries=re$1;function calculateHashcode(je){return hashCode(je.flat())}const Ie=class{constructor($e,Ve,ze,qe,Xe){D$1(this,"a"),D$1(this,"b"),D$1(this,"value"),typeof $e=="number"?(this.a=newDataPoint($e,ze),this.b=newDataPoint(Ve,qe),this.value=Xe):(this.a=$e,this.b=Ve,this.value=ze)}contains($e){return $e.x<=this.b.x&&$e.x>=this.a.x&&$e.y<=this.b.y&&$e.y>=this.a.y||$e.x<=this.a.x&&$e.x>=this.b.x&&$e.y<=this.a.y&&$e.y>=this.b.y}equals($e){return dataPointEquals(this.a,$e.a)&&dataPointEquals(this.b,$e.b)&&this.value===$e.value}toString(){return`${this.a} ${this.b} ${this.value}`}isDefined(){return DataPoint_isDefined(this.a)&&DataPoint_isDefined(this.b)&&!isNaN(this.value)}};D$1(Ie,"Undefined",new Ie(DataPoint_Undefined,DataPoint_Undefined,Number.NaN));let RectangleItem=Ie;const he$1=class Jl extends XYAxisSeries{constructor($e){super($e),D$1(this,"_actualItems",[]),D$1(this,"_minValue",0),D$1(this,"_maxValue",0),D$1(this,"_colorAxis"),D$1(this,"colorAxisKey"),D$1(this,"labelStringFormatter",Ve=>Ve.toFixed(2)),D$1(this,"labelFontSize"),D$1(this,"mapping"),D$1(this,"items",[]),this.trackerStringFormatter=Jl.DefaultTrackerFormatString,this.labelFontSize=0,$e&&Object.assign(this,removeUndef($e))}get minValue(){return this._minValue}get maxValue(){return this._maxValue}get colorAxis(){return this._colorAxis}set colorAxis($e){this._colorAxis=$e}get actualItems(){return this.itemsSource?this._actualItems:this.items}async render($e){this.verifyAxes(),await this.renderRectangles($e,this.actualItems)}updateData(){this.itemsSource&&this.updateActualItems()}getItem($e){const Ve=this.actualItems;return!this.itemsSource&&Ve&&$e<Ve.length?Ve[$e]:super.getItem($e)}clearActualItems(){this._actualItems.length=0}updateActualItems(){if(this.clearActualItems(),!(!this.itemsSource||this.itemsSource.length==0)){for(const $e of this.itemsSource)if($e){if($e instanceof RectangleItem){this._actualItems.push($e);continue}if(this.mapping){this._actualItems.push(this.mapping($e));continue}throw new Error("Invalid itemsSource")}}}async renderRectangles($e,Ve){const ze=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness),qe=PlotElementExtensions.transform;for(const Xe of Ve){const We=ColorAxisExtensions.getColor(this.colorAxis,Xe.value),Ke=qe(this,Xe.a.x,Xe.a.y),Je=qe(this,Xe.b.x,Xe.b.y),Ze=OxyRect.fromScreenPoints(Ke,Je);await $e.drawRectangle(Ze,We,OxyColors.Undefined,0,ze),this.labelFontSize>0&&await $e.drawText(Ze.center,this.labelStringFormatter(Xe.value,[]),this.actualTextColor,this.actualFont,this.labelFontSize,this.actualFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Middle)}}getNearestPoint($e,Ve){const ze=this.inverseTransform($e);if(!this.isPointInRange(ze)||!this.actualItems)return;const qe=this.colorAxis,Xe=(qe==null?void 0:qe.title)??Jl.DefaultColorAxisTitle;for(const We of this.actualItems)if(We.contains(ze)){const Ke=this.formatDefaultTrackerString(We,ze,Je=>{Je.colorAxisTitle=Xe,Je.value=We.value});return new TrackerHitResult({series:this,dataPoint:ze,position:$e,item:null,index:-1,text:Ke})}}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}updateMaxMinXY(){if(this.actualItems&&this.actualItems.length>0){const $e=minValueOfArray(this.actualItems.map(Ze=>Ze.a.x)),Ve=minValueOfArray(this.actualItems.map(Ze=>Ze.b.x)),ze=maxValueOfArray(this.actualItems.map(Ze=>Ze.a.x)),qe=maxValueOfArray(this.actualItems.map(Ze=>Ze.b.x)),Xe=minValueOfArray(this.actualItems.map(Ze=>Ze.a.y)),We=minValueOfArray(this.actualItems.map(Ze=>Ze.b.y)),Ke=maxValueOfArray(this.actualItems.map(Ze=>Ze.a.y)),Je=maxValueOfArray(this.actualItems.map(Ze=>Ze.b.y));this.minX=Math.min($e,Ve),this.maxX=Math.max(ze,qe),this.minY=Math.min(Xe,We),this.maxY=Math.max(Ke,Je)}}updateMaxMin(){super.updateMaxMin();const $e=[];if(pushMany($e,this.actualItems.map(Ve=>Ve.a)),pushMany($e,this.actualItems.map(Ve=>Ve.b)),this.internalUpdateMaxMin($e),this.updateMaxMinXY(),this.actualItems&&this.actualItems.length>0){const Ve=this.actualItems.map(ze=>ze.value);this._minValue=minValueOfArray(Ve),this._maxValue=minValueOfArray(Ve)}}updateAxisMaxMin(){super.updateAxisMaxMin();const $e=this.colorAxis;$e&&($e.include(this.minValue),$e.include(this.maxValue))}isPointInRange($e){return this.updateMaxMinXY(),$e.x>=this.minX&&$e.x<=this.maxX&&$e.y>=this.minY&&$e.y<=this.maxY}};D$1(he$1,"DefaultTrackerFormatString",je=>`${je.title}
${je.xTitle}: ${je.xValue}
${je.yTitle}: ${je.yValue}
${je.colorAxisTitle}: ${je.value}`),D$1(he$1,"DefaultColorAxisTitle","Value");let RectangleSeries=he$1;class ThreeColorLineSeries extends LineSeries{constructor($e){super($e),D$1(this,"defaultColorLo",OxyColors.Undefined),D$1(this,"defaultColorHi",OxyColors.Undefined),D$1(this,"colorLo"),D$1(this,"colorHi"),D$1(this,"limitHi"),D$1(this,"limitLo"),D$1(this,"dashesHi"),D$1(this,"dashesLo"),D$1(this,"lineStyleHi"),D$1(this,"lineStyleLo"),this.limitLo=-5,this.colorLo=OxyColor.fromRgb(0,0,255),this.lineStyleLo=LineStyle.Solid,this.limitHi=5,this.colorHi=OxyColor.fromRgb(255,0,0),this.lineStyleHi=LineStyle.Solid,$e&&Object.assign(this,removeUndef($e))}get actualColorLo(){return this.colorLo.getActualColor(this.defaultColorLo)}get actualColorHi(){return this.colorHi.getActualColor(this.defaultColorHi)}get actualLineStyleHi(){return this.lineStyleHi!==LineStyle.Automatic?this.lineStyleHi:LineStyle.Solid}get actualLineStyleLo(){return this.lineStyleLo!==LineStyle.Automatic?this.lineStyleLo:LineStyle.Solid}get actualDashArrayHi(){return this.dashesHi??LineStyleHelper.getDashArray(this.actualLineStyleHi)}get actualDashArrayLo(){return this.dashesLo??LineStyleHelper.getDashArray(this.actualLineStyleLo)}setDefaultValues(){super.setDefaultValues(),this.colorLo.isAutomatic()&&(this.defaultColorLo=this.plotModel.getDefaultColor()),this.lineStyleLo===LineStyle.Automatic&&(this.lineStyleLo=this.plotModel.getDefaultLineStyle()),this.colorHi.isAutomatic()&&(this.defaultColorHi=this.plotModel.getDefaultColor()),this.lineStyleHi===LineStyle.Automatic&&(this.lineStyleHi=this.plotModel.getDefaultLineStyle())}async renderLine($e,Ve){const ze=this.getClippingRect(),qe=this.inverseTransform(ze.bottomLeft),Xe=this.inverseTransform(ze.topRight),We=PlotElementExtensions.transform;let Ke=We(this,qe.x,Math.min(qe.y,Xe.y)),Je=We(this,Xe.x,this.limitLo);const Ze=OxyRect.fromScreenPoints(Ke,Je).clip(ze);Ke=We(this,qe.x,this.limitLo),Je=We(this,Xe.x,this.limitHi);const Qe=OxyRect.fromScreenPoints(Ke,Je).clip(ze);Ke=We(this,qe.x,Math.max(qe.y,Xe.y)),Je=We(this,Xe.x,this.limitHi);const St=OxyRect.fromScreenPoints(Ke,Je).clip(ze);if(this.strokeThickness<=0||this.actualLineStyle===LineStyle.None)return;const ei=async ni=>{await RenderingExtensions.drawReducedLine($e,Ve,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(ni),this.strokeThickness,this.edgeRenderingMode,this.actualDashArray,this.lineJoin)};let ti=RenderingExtensions.autoResetClip($e,Qe);await ei(this.actualColor),ti.dispose(),ti=RenderingExtensions.autoResetClip($e,Ze),await ei(this.actualColorLo),ti.dispose(),ti=RenderingExtensions.autoResetClip($e,St),await ei(this.actualColorHi),ti.dispose()}}class TwoColorAreaSeries extends AreaSeries{constructor($e){super($e),D$1(this,"defaultColor2",OxyColors.Undefined),D$1(this,"abovePoints",[]),D$1(this,"belowPoints",[]),D$1(this,"markerStartIndex",0),D$1(this,"fill2"),D$1(this,"dashes2"),D$1(this,"lineStyle2"),D$1(this,"markerFill2"),D$1(this,"markerStroke2"),D$1(this,"limit",0),this.color2=OxyColor.fromRgb(0,0,255),this.fill=OxyColors.Automatic,this.fill2=OxyColors.Automatic,this.markerFill2=OxyColors.Automatic,this.markerStroke2=OxyColors.Automatic,this.lineStyle2=LineStyle.Solid,$e&&Object.assign(this,removeUndef($e))}get actualFill2(){return this.fill2.getActualColor(OxyColor.fromAColor(100,this.actualColor2))}get actualColor2(){return this.color2.getActualColor(this.defaultColor2)}get actualLineStyle2(){return this.lineStyle2!==LineStyle.Automatic?this.lineStyle2:LineStyle.Solid}get actualDashArray2(){return this.dashes2??LineStyleHelper.getDashArray(this.actualLineStyle2)}getNearestPoint($e,Ve){let ze;return Ve&&this.canTrackerInterpolatePoints?ze=this.getNearestInterpolatedPointInternal(this.actualPoints,0,$e):ze=this.getNearestPointInternal(this.actualPoints,0,$e),ze&&(ze.text=this.formatDefaultTrackerString(ze.item,ze.dataPoint)),ze}async render($e){const Ve=this.xAxis.clipMinimum,ze=this.xAxis.clipMaximum,qe=Ke=>Ke.x;this.windowStartIndex=this.updateWindowStartIndex(this.abovePoints,qe,Ve,this.windowStartIndex),this.windowStartIndex2=this.updateWindowStartIndex(this.belowPoints,qe,Ve,this.windowStartIndex2);const Xe=this.minimumSegmentLength*this.minimumSegmentLength,We={points:this.abovePoints,windowStartIndex:this.windowStartIndex,xMax:ze,renderContext:$e,minDistSquared:Xe,reverse:!1,color:this.actualColor,fill:this.actualFill,markerFill:this.actualMarkerFill,markerStroke:this.markerStroke,dashArray:this.actualDashArray,baseline:this.limit};if(await this.renderChunkedPoints(We),We.points=this.belowPoints,We.windowStartIndex=this.windowStartIndex2,We.reverse=this.reverse2,We.color=this.actualColor2,We.fill=this.actualFill2,We.markerFill=this.markerFill2,We.markerStroke=this.markerStroke2,We.dashArray=this.actualDashArray2,this.isPoints2Defined&&(We.baseline=this.constantY2),await this.renderChunkedPoints(We),!this.isPoints2Defined){const Ke=[this.markerSize],Je=this.limit,Ze=this.actualPoints,Qe=[],St=[];this.markerStartIndex=this.updateWindowStartIndex(Ze,qe,Ve,this.markerStartIndex);let ei=0;for(let ti=this.markerStartIndex;ti<Ze.length;ti++){const ni=Ze[ti];if((ni.y>=Je?Qe:St).push(this.transform(ni)),ei+=ni.x>ze?1:0,ei>1)break}await RenderingExtensions.drawMarkers($e,Qe,this.markerType,void 0,Ke,this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,1),await RenderingExtensions.drawMarkers($e,St,this.markerType,void 0,Ke,this.markerFill2,this.markerStroke2,this.markerStrokeThickness,this.edgeRenderingMode,1)}}setDefaultValues(){super.setDefaultValues(),this.color2.isAutomatic()&&(this.defaultColor2=this.plotModel.getDefaultColor()),this.lineStyle2===LineStyle.Automatic&&(this.lineStyle2=this.plotModel.getDefaultLineStyle())}updateData(){super.updateData(),this.isPoints2Defined?(this.abovePoints=this.actualPoints,this.belowPoints=this.actualPoints2):this.splitPoints(this.actualPoints)}async renderScreenPoints($e,Ve){const ze=await super.renderScreenPoints($e,Ve),qe=$e,Xe=[...this.getConstantScreenPoints2(ze,qe.baseline),...ze],We=$e.renderContext;if(await RenderingExtensions.drawReducedPolygon(We,Xe,$e.minDistSquared,this.getSelectableFillColor(qe.fill),OxyColors.Undefined,0,this.edgeRenderingMode),this.isPoints2Defined){const Ke=[this.markerSize];await RenderingExtensions.drawMarkers(We,ze,this.markerType,void 0,Ke,qe.markerFill,qe.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,1)}return ze}splitPoints($e){const Ve=newDataPoint(Number.NaN,Number.NaN),ze=this.limit;this.abovePoints=new Array,this.belowPoints=new Array;let qe=!1,Xe=null;for(const We of $e){const Ke=We.y>=ze;if(Xe&&Ke!==qe){const Je=newDataPoint(this.getInterpolatedX(Xe,We,ze),ze);this.abovePoints.push(Ke?Ve:Je),this.abovePoints.push(Ke?Je:Ve),this.belowPoints.push(Ke?Je:Ve),this.belowPoints.push(Ke?Ve:Je)}(Ke?this.abovePoints:this.belowPoints).push(We),Xe=We,qe=Ke}}getConstantScreenPoints2($e,Ve){const ze=[];if(isNaN(Ve)||$e.length<=0)return ze;let qe=this.inverseTransform($e[0]);qe=newDataPoint(qe.x,Ve),ze.push(this.transform(qe));let Xe=this.inverseTransform($e[$e.length-1]);return Xe=newDataPoint(Xe.x,Ve),ze.push(this.transform(Xe)),this.reverse2&&ze.reverse(),ze}getInterpolatedX($e,Ve,ze){return(ze-$e.y)/(Ve.y-$e.y)*(Ve.x-$e.x)+$e.x}}class TwoColorLineSeries extends LineSeries{constructor($e){super($e),D$1(this,"defaultColor2",OxyColors.Undefined),D$1(this,"color2"),D$1(this,"limit"),this.limit=0,this.color2=OxyColor.fromRgb(0,0,255),$e&&Object.assign(this,removeUndef($e))}get actualColor2(){return this.color2.getActualColor(this.defaultColor2)}setDefaultValues(){super.setDefaultValues(),this.color2.isAutomatic()&&(this.defaultColor2=this.plotModel.getDefaultColor())}async renderLine($e,Ve){const ze=this.getClippingRect(),qe=this.inverseTransform(ze.bottomLeft),Xe=this.inverseTransform(ze.topRight),We=PlotElementExtensions.transform;let Ke=We(this,qe.x,Math.min(qe.y,Xe.y));const Je=We(this,Xe.x,this.limit),Ze=OxyRect.fromScreenPoints(Ke,Je).clip(ze);Ke=We(this,qe.x,Math.max(qe.y,Xe.y));const Qe=OxyRect.fromScreenPoints(Ke,Je).clip(ze);if(this.strokeThickness<=0||this.actualLineStyle===LineStyle.None)return;const St=async ti=>{await RenderingExtensions.drawReducedLine($e,Ve,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(ti),this.strokeThickness,this.edgeRenderingMode,this.actualDashArray,this.lineJoin)};let ei=RenderingExtensions.autoResetClip($e,Ze);await St(this.actualColor2),ei.dispose(),ei=RenderingExtensions.autoResetClip($e,Qe),await St(this.actualColor),ei.dispose()}}const ce$2=class Ql extends XYAxisSeries{constructor($e){super($e),D$1(this,"_actualItems",[]),D$1(this,"minValue",0),D$1(this,"maxValue",0),D$1(this,"colorAxis"),D$1(this,"colorAxisKey"),D$1(this,"labelStringFormatter",(Ve,ze)=>Ve.value.toFixed(2)),D$1(this,"labelFontSize",0),D$1(this,"mapping"),D$1(this,"items",[]),D$1(this,"stroke",OxyColors.Undefined),D$1(this,"strokeThickness",2),this.trackerStringFormatter=Ql.defaultTrackerStringFormatter,this.strokeThickness=2,$e&&Object.assign(this,removeUndef($e))}get actualItems(){return this.itemsSource?this._actualItems:this.items}async render($e){this.verifyAxes(),await this.renderPolygons($e,this.actualItems)}updateData(){this.itemsSource&&this.updateActualItems()}getItem($e){const Ve=this.actualItems;return!this.itemsSource&&Ve&&$e<Ve.length?Ve[$e]:super.getItem($e)}clearActualItems(){this._actualItems&&(this._actualItems.length=0),this._actualItems=[]}updateActualItems(){this.clearActualItems();for(const $e of this.itemsSource||[]){if(isPolygonItem($e)){this._actualItems.push($e);continue}if(this.mapping){this._actualItems.push(this.mapping($e));continue}throw new Error("Invalid item")}}async renderPolygons($e,Ve){const ze=[];for(const qe of Ve){const Xe=ColorAxisExtensions.getColor(this.colorAxis,qe.value),We=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);for(const Ke of qe.outlines)if(ze.length=0,ze.push(...Ke.map(Je=>this.transform(Je))),await $e.drawPolygon(ze,Xe,this.stroke,this.strokeThickness,We),this.labelFontSize>0){const Je=this.labelStringFormatter(qe,[]);await $e.drawText(ScreenPointHelper.getCentroid(ze),Je,this.actualTextColor,this.actualFont,this.labelFontSize,this.actualFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Middle)}}}getNearestPoint($e,Ve){const ze=this.inverseTransform($e);if(!this.isPointInRange(ze))return;const qe=this.colorAxis,Xe=(qe==null?void 0:qe.title)??Ql.defaultColorAxisTitle,We=[],Ke=this.actualItems;if(Ke){for(const Je of Ke)for(let Ze=0;Ze<Je.outlines.length;Ze++)if(Je.bounds[Ze].contains(ze.x,ze.y)&&(We.length=0,We.push(...Je.outlines[Ze].map(this.transform)),ScreenPointHelper.isPointInPolygon($e,We))){const Qe=super.formatDefaultTrackerString(Je,ze,St=>{St.colorAxisTitle=Xe});return new TrackerHitResult({series:this,dataPoint:ze,position:$e,item:Je,index:-1,text:Qe})}}}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}updateMaxMin(){super.updateMaxMin(),this.updateMaxMinXY();const $e=this.actualItems;$e&&$e.length>0&&(this.minValue=minValueOfArray($e.map(Ve=>Ve.value)),this.maxValue=maxValueOfArray($e.map(Ve=>Ve.value)))}updateAxisMaxMin(){super.updateAxisMaxMin();const $e=this.colorAxis;$e&&($e.include(this.minValue),$e.include(this.maxValue))}updateMaxMinXY(){const $e=this.actualItems;if($e&&$e.length>0){const Ve=$e.flatMap(ze=>ze.bounds);this.minX=minValueOfArray(Ve.map(ze=>ze.left)),this.maxX=maxValueOfArray(Ve.map(ze=>ze.right)),this.minY=minValueOfArray(Ve.map(ze=>ze.top)),this.maxY=maxValueOfArray(Ve.map(ze=>ze.bottom))}}isPointInRange($e){return this.updateMaxMinXY(),$e.x>=this.minX&&$e.x<=this.maxX&&$e.y>=this.minY&&$e.y<=this.maxY}};D$1(ce$2,"defaultTrackerStringFormatter",je=>`${je.title}
${je.xTitle}: ${je.xValue}
${je.yTitle}: ${je.yValue}
${je.colorAxisTitle}: ${je.item.value}`),D$1(ce$2,"defaultColorAxisTitle","Value");let PolygonSeries=ce$2;function newPolygonItem(je,$e){if(!je||je.length===0)throw new Error("Outlines does not contain any sub-polygons.");Array.isArray(je[0])||(je=[je]);const Ve=je.map(qe=>qe.slice());for(const qe of Ve)for(const Xe of qe)if(DataPoint_isUnDefined(Xe)||isInfinity(Xe.x)||isInfinity(Xe.y))throw new Error("Outline contains non-finite elements.");const ze=Ve.map(qe=>computeBounds(qe));return{outlines:Ve,value:$e,bounds:ze}}function computeBounds(je){let $e=je[0].x,Ve=je[0].y,ze=je[0].x,qe=je[0].y;for(let Xe=1;Xe<je.length;Xe++)$e=Math.min($e,je[Xe].x),Ve=Math.min(Ve,je[Xe].y),ze=Math.max(ze,je[Xe].x),qe=Math.max(qe,je[Xe].y);return new OxyRect($e,Ve,ze-$e,qe-Ve)}function isPolygonItem(je){return je&&je.outlines&&je.value&&je.bounds}var xmlbuilder2_min={exports:{}};(function(je,$e){(function(Ve,ze){je.exports=ze()})(commonjsGlobal$1,function(){return function(Ve){var ze={};function qe(Xe){if(ze[Xe])return ze[Xe].exports;var We=ze[Xe]={i:Xe,l:!1,exports:{}};return Ve[Xe].call(We.exports,We,We.exports,qe),We.l=!0,We.exports}return qe.m=Ve,qe.c=ze,qe.d=function(Xe,We,Ke){qe.o(Xe,We)||Object.defineProperty(Xe,We,{enumerable:!0,get:Ke})},qe.r=function(Xe){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Xe,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Xe,"__esModule",{value:!0})},qe.t=function(Xe,We){if(1&We&&(Xe=qe(Xe)),8&We||4&We&&typeof Xe=="object"&&Xe&&Xe.__esModule)return Xe;var Ke=Object.create(null);if(qe.r(Ke),Object.defineProperty(Ke,"default",{enumerable:!0,value:Xe}),2&We&&typeof Xe!="string")for(var Je in Xe)qe.d(Ke,Je,(function(Ze){return Xe[Ze]}).bind(null,Je));return Ke},qe.n=function(Xe){var We=Xe&&Xe.__esModule?function(){return Xe.default}:function(){return Xe};return qe.d(We,"a",We),We},qe.o=function(Xe,We){return Object.prototype.hasOwnProperty.call(Xe,We)},qe.p="",qe(qe.s=184)}([function(Ve,ze,qe){function Xe(We){for(var Ke in We)ze.hasOwnProperty(Ke)||(ze[Ke]=We[Ke])}Object.defineProperty(ze,"__esModule",{value:!0}),Xe(qe(240)),Xe(qe(251)),Xe(qe(175)),Xe(qe(107)),Xe(qe(29)),Xe(qe(73)),Xe(qe(106)),Xe(qe(30)),Xe(qe(252)),Xe(qe(52)),Xe(qe(97)),Xe(qe(253)),Xe(qe(37)),Xe(qe(51)),Xe(qe(173)),Xe(qe(176)),Xe(qe(172)),Xe(qe(108)),Xe(qe(254)),Xe(qe(255)),Xe(qe(256)),Xe(qe(72)),Xe(qe(177)),Xe(qe(105)),Xe(qe(17)),Xe(qe(257)),Xe(qe(12)),Xe(qe(174))},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0}),function(Xe){Xe[Xe.Before=0]="Before",Xe[Xe.Equal=1]="Equal",Xe[Xe.After=2]="After"}(ze.BoundaryPosition||(ze.BoundaryPosition={})),function(Xe){Xe[Xe.None=0]="None",Xe[Xe.Capturing=1]="Capturing",Xe[Xe.AtTarget=2]="AtTarget",Xe[Xe.Bubbling=3]="Bubbling"}(ze.EventPhase||(ze.EventPhase={})),function(Xe){Xe[Xe.Element=1]="Element",Xe[Xe.Attribute=2]="Attribute",Xe[Xe.Text=3]="Text",Xe[Xe.CData=4]="CData",Xe[Xe.EntityReference=5]="EntityReference",Xe[Xe.Entity=6]="Entity",Xe[Xe.ProcessingInstruction=7]="ProcessingInstruction",Xe[Xe.Comment=8]="Comment",Xe[Xe.Document=9]="Document",Xe[Xe.DocumentType=10]="DocumentType",Xe[Xe.DocumentFragment=11]="DocumentFragment",Xe[Xe.Notation=12]="Notation"}(ze.NodeType||(ze.NodeType={})),function(Xe){Xe[Xe.Disconnected=1]="Disconnected",Xe[Xe.Preceding=2]="Preceding",Xe[Xe.Following=4]="Following",Xe[Xe.Contains=8]="Contains",Xe[Xe.ContainedBy=16]="ContainedBy",Xe[Xe.ImplementationSpecific=32]="ImplementationSpecific"}(ze.Position||(ze.Position={})),function(Xe){Xe[Xe.Accept=1]="Accept",Xe[Xe.Reject=2]="Reject",Xe[Xe.Skip=3]="Skip"}(ze.FilterResult||(ze.FilterResult={})),function(Xe){Xe[Xe.All=4294967295]="All",Xe[Xe.Element=1]="Element",Xe[Xe.Attribute=2]="Attribute",Xe[Xe.Text=4]="Text",Xe[Xe.CDataSection=8]="CDataSection",Xe[Xe.EntityReference=16]="EntityReference",Xe[Xe.Entity=32]="Entity",Xe[Xe.ProcessingInstruction=64]="ProcessingInstruction",Xe[Xe.Comment=128]="Comment",Xe[Xe.Document=256]="Document",Xe[Xe.DocumentType=512]="DocumentType",Xe[Xe.DocumentFragment=1024]="DocumentFragment",Xe[Xe.Notation=2048]="Notation"}(ze.WhatToShow||(ze.WhatToShow={})),function(Xe){Xe[Xe.StartToStart=0]="StartToStart",Xe[Xe.StartToEnd=1]="StartToEnd",Xe[Xe.EndToEnd=2]="EndToEnd",Xe[Xe.EndToStart=3]="EndToStart"}(ze.HowToCompare||(ze.HowToCompare={}))},function(Ve,ze,qe){var Xe=this&&this.__values||function(ii){var ui=typeof Symbol=="function"&&Symbol.iterator,ci=ui&&ii[ui],hi=0;if(ci)return ci.call(ii);if(ii&&typeof ii.length=="number")return{next:function(){return ii&&hi>=ii.length&&(ii=void 0),{value:ii&&ii[hi++],done:!ii}}};throw new TypeError(ui?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ze,"__esModule",{value:!0});var We=qe(212);ze.FixedSizeSet=We.FixedSizeSet;var Ke=qe(213);ze.ObjectCache=Ke.ObjectCache;var Je=qe(214);ze.CompareCache=Je.CompareCache;var Ze=qe(215);ze.Lazy=Ze.Lazy;var Qe=qe(216);function St(ii,ui,ci){if(si(ii))ii.forEach(function(mi,di){return ui.call(ci,di,mi)});else for(var hi in ii)ii.hasOwnProperty(hi)&&ui.call(ci,hi,ii[hi])}function ei(ii){var ui,ci;if(ti(ii))return ii;if(oi(ii)){var hi=[];try{for(var mi=Xe(ii),di=mi.next();!di.done;di=mi.next()){var fi=di.value;hi.push(ei(fi))}}catch(xi){ui={error:xi}}finally{try{di&&!di.done&&(ci=mi.return)&&ci.call(mi)}finally{if(ui)throw ui.error}}return hi}if(ni(ii)){hi={};for(var yi in ii)if(ii.hasOwnProperty(yi)){var pi=ii[yi];hi[yi]=ei(pi)}return hi}return ii}function ti(ii){return!!ii&&Object.prototype.toString.call(ii)==="[object Function]"}function ni(ii){var ui=typeof ii;return!!ii&&(ui==="function"||ui==="object")}function oi(ii){return Array.isArray(ii)}function ai(ii){return ii instanceof Set}function si(ii){return ii instanceof Map}function ri(ii){if(ni(ii)){var ui=Object.getPrototypeOf(ii),ci=ui.constructor;return ui&&ci&&typeof ci=="function"&&ci instanceof ci&&Function.prototype.toString.call(ci)===Function.prototype.toString.call(Object)}return!1}ze.StringWalker=Qe.StringWalker,ze.applyMixin=function(ii,ui){for(var ci=[],hi=2;hi<arguments.length;hi++)ci[hi-2]=arguments[hi];Object.getOwnPropertyNames(ui.prototype).forEach(function(mi){if(mi!=="constructor"){if(ci.indexOf(mi)!==-1){var di=Object.getOwnPropertyDescriptor(ii.prototype,mi);di&&Object.defineProperty(ii.prototype,"_"+mi,di)}var fi=Object.getOwnPropertyDescriptor(ui.prototype,mi);fi&&Object.defineProperty(ii.prototype,mi,fi)}})},ze.applyDefaults=function ii(ui,ci,hi){hi===void 0&&(hi=!1);var mi=ei(ui||{});return St(ci,function(di,fi){ri(fi)?mi[di]=ii(mi[di],fi,hi):(hi||mi[di]===void 0)&&(mi[di]=fi)}),mi},ze.forEachArray=function(ii,ui,ci){ii.forEach(ui,ci)},ze.forEachObject=St,ze.arrayLength=function(ii){return ai(ii)?ii.size:ii.length},ze.objectLength=function(ii){return si(ii)?ii.size:Object.keys(ii).length},ze.getObjectValue=function(ii,ui){return si(ii)?ii.get(ui):ii[ui]},ze.removeObjectValue=function(ii,ui){si(ii)?ii.delete(ui):delete ii[ui]},ze.clone=ei,ze.isBoolean=function(ii){return typeof ii=="boolean"},ze.isNumber=function(ii){return typeof ii=="number"},ze.isString=function(ii){return typeof ii=="string"},ze.isFunction=ti,ze.isObject=ni,ze.isArray=oi,ze.isSet=ai,ze.isMap=si,ze.isEmpty=function(ii){if(oi(ii))return!ii.length;if(ai(ii)||si(ii))return!ii.size;if(ni(ii)){for(var ui in ii)if(ii.hasOwnProperty(ui))return!1;return!0}return!1},ze.isPlainObject=ri,ze.isIterable=function(ii){return ii&&typeof ii[Symbol.iterator]=="function"},ze.getValue=function(ii){return ti(ii.valueOf)?ii.valueOf():ii},ze.utf8Encode=function(ii){for(var ui=new Uint8Array(4*ii.length),ci=0,hi=0;hi<ii.length;hi++){var mi=ii.charCodeAt(hi);if(mi<128)ui[ci++]=mi;else{if(mi<2048)ui[ci++]=mi>>6|192;else{if(mi>55295&&mi<56320){if(++hi>=ii.length)throw new Error("Incomplete surrogate pair.");var di=ii.charCodeAt(hi);if(di<56320||di>57343)throw new Error("Invalid surrogate character.");mi=65536+((1023&mi)<<10)+(1023&di),ui[ci++]=mi>>18|240,ui[ci++]=mi>>12&63|128}else ui[ci++]=mi>>12|224;ui[ci++]=mi>>6&63|128}ui[ci++]=63&mi|128}}return ui.subarray(0,ci)},ze.utf8Decode=function(ii){for(var ui="",ci=0;ci<ii.length;){var hi=ii[ci++];if(hi>127)if(hi>191&&hi<224){if(ci>=ii.length)throw new Error("Incomplete 2-byte sequence.");hi=(31&hi)<<6|63&ii[ci++]}else if(hi>223&&hi<240){if(ci+1>=ii.length)throw new Error("Incomplete 3-byte sequence.");hi=(15&hi)<<12|(63&ii[ci++])<<6|63&ii[ci++]}else{if(!(hi>239&&hi<248))throw new Error("Unknown multi-byte start.");if(ci+2>=ii.length)throw new Error("Incomplete 4-byte sequence.");hi=(7&hi)<<18|(63&ii[ci++])<<12|(63&ii[ci++])<<6|63&ii[ci++]}if(hi<=65535)ui+=String.fromCharCode(hi);else{if(!(hi<=1114111))throw new Error("Code point exceeds UTF-16 limit.");hi-=65536,ui+=String.fromCharCode(hi>>10|55296),ui+=String.fromCharCode(1023&hi|56320)}}return ui}},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=qe(241);ze.Cast=Xe.Cast;var We=qe(150);ze.Guard=We.Guard;var Ke=qe(242);ze.EmptySet=Ke.EmptySet},function(Ve,ze,qe){var Xe=qe(11),We=qe(55).f,Ke=qe(21),Je=qe(25),Ze=qe(80),Qe=qe(119),St=qe(123);Ve.exports=function(ei,ti){var ni,oi,ai,si,ri,ii=ei.target,ui=ei.global,ci=ei.stat;if(ni=ui?Xe:ci?Xe[ii]||Ze(ii,{}):(Xe[ii]||{}).prototype)for(oi in ti){if(si=ti[oi],ai=ei.noTargetGet?(ri=We(ni,oi))&&ri.value:ni[oi],!St(ui?oi:ii+(ci?".":"#")+oi,ei.forced)&&ai!==void 0){if(typeof si==typeof ai)continue;Qe(si,ai)}(ei.sham||ai&&ai.sham)&&Ke(si,"sham",!0),Je(ni,oi,si,ei)}}},function(Ve,ze,qe){var Xe=qe(11),We=qe(81),Ke=qe(14),Je=qe(58),Ze=qe(86),Qe=qe(124),St=We("wks"),ei=Xe.Symbol,ti=Qe?ei:ei&&ei.withoutSetter||Je;Ve.exports=function(ni){return Ke(St,ni)||(Ze&&Ke(ei,ni)?St[ni]=ei[ni]:St[ni]=ti("Symbol."+ni)),St[ni]}},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=qe(2),We=qe(29),Ke=function(){function Je(){this._features={mutationObservers:!0,customElements:!0,slots:!0,steps:!0},this._window=null,this._compareCache=new Xe.CompareCache,this._rangeList=new Xe.FixedSizeSet}return Je.prototype.setFeatures=function(Ze){if(Ze===void 0&&(Ze=!0),Xe.isObject(Ze))for(var Qe in Ze)this._features[Qe]=Ze[Qe]||!1;else for(var Qe in this._features)this._features[Qe]=Ze},Object.defineProperty(Je.prototype,"features",{get:function(){return this._features},enumerable:!0,configurable:!0}),Object.defineProperty(Je.prototype,"window",{get:function(){return this._window===null&&(this._window=We.create_window()),this._window},enumerable:!0,configurable:!0}),Object.defineProperty(Je.prototype,"compareCache",{get:function(){return this._compareCache},enumerable:!0,configurable:!0}),Object.defineProperty(Je.prototype,"rangeList",{get:function(){return this._rangeList},enumerable:!0,configurable:!0}),Object.defineProperty(Je,"instance",{get:function(){return Je._instance||(Je._instance=new Je),Je._instance},enumerable:!0,configurable:!0}),Je}();ze.dom=Ke.instance},function(Ve,ze,qe){var Xe=this&&this.__importStar||function(ri){if(ri&&ri.__esModule)return ri;var ii={};if(ri!=null)for(var ui in ri)Object.hasOwnProperty.call(ri,ui)&&(ii[ui]=ri[ui]);return ii.default=ri,ii};Object.defineProperty(ze,"__esModule",{value:!0});var We=Xe(qe(228));ze.base64=We;var Ke=Xe(qe(146));ze.byte=Ke;var Je=Xe(qe(147));ze.byteSequence=Je;var Ze=Xe(qe(96));ze.codePoint=Ze;var Qe=Xe(qe(232));ze.json=Qe;var St=Xe(qe(233));ze.list=St;var ei=Xe(qe(234));ze.map=ei;var ti=Xe(qe(235));ze.namespace=ti;var ni=Xe(qe(236));ze.queue=ni;var oi=Xe(qe(237));ze.set=oi;var ai=Xe(qe(238));ze.stack=ai;var si=Xe(qe(239));ze.string=si},function(Ve,ze){Ve.exports=function(qe){try{return!!qe()}catch{return!0}}},function(Ve,ze,qe){var Xe,We=this&&this.__extends||(Xe=function(Ci,Ni){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ri,Yi){Ri.__proto__=Yi}||function(Ri,Yi){for(var ki in Yi)Yi.hasOwnProperty(ki)&&(Ri[ki]=Yi[ki])})(Ci,Ni)},function(Ci,Ni){function Ri(){this.constructor=Ci}Xe(Ci,Ni),Ci.prototype=Ni===null?Object.create(Ni):(Ri.prototype=Ni.prototype,new Ri)});Object.defineProperty(ze,"__esModule",{value:!0});var Ke=function(Ci){function Ni(Ri,Yi){Yi===void 0&&(Yi="");var ki=Ci.call(this,Yi)||this;return ki.name=Ri,ki}return We(Ni,Ci),Ni}(Error);ze.DOMException=Ke;var Je=function(Ci){function Ni(Ri){return Ri===void 0&&(Ri=""),Ci.call(this,"DOMStringSizeError",Ri)||this}return We(Ni,Ci),Ni}(Ke);ze.DOMStringSizeError=Je;var Ze=function(Ci){function Ni(Ri){return Ri===void 0&&(Ri=""),Ci.call(this,"WrongDocumentError","The object is in the wrong document. "+Ri)||this}return We(Ni,Ci),Ni}(Ke);ze.WrongDocumentError=Ze;var Qe=function(Ci){function Ni(Ri){return Ri===void 0&&(Ri=""),Ci.call(this,"NoDataAllowedError",Ri)||this}return We(Ni,Ci),Ni}(Ke);ze.NoDataAllowedError=Qe;var St=function(Ci){function Ni(Ri){return Ri===void 0&&(Ri=""),Ci.call(this,"NoModificationAllowedError","The object can not be modified. "+Ri)||this}return We(Ni,Ci),Ni}(Ke);ze.NoModificationAllowedError=St;var ei=function(Ci){function Ni(Ri){return Ri===void 0&&(Ri=""),Ci.call(this,"NotSupportedError","The operation is not supported. "+Ri)||this}return We(Ni,Ci),Ni}(Ke);ze.NotSupportedError=ei;var ti=function(Ci){function Ni(Ri){return Ri===void 0&&(Ri=""),Ci.call(this,"InUseAttributeError",Ri)||this}return We(Ni,Ci),Ni}(Ke);ze.InUseAttributeError=ti;var ni=function(Ci){function Ni(Ri){return Ri===void 0&&(Ri=""),Ci.call(this,"InvalidStateError","The object is in an invalid state. "+Ri)||this}return We(Ni,Ci),Ni}(Ke);ze.InvalidStateError=ni;var oi=function(Ci){function Ni(Ri){return Ri===void 0&&(Ri=""),Ci.call(this,"InvalidModificationError","The object can not be modified in this way. "+Ri)||this}return We(Ni,Ci),Ni}(Ke);ze.InvalidModificationError=oi;var ai=function(Ci){function Ni(Ri){return Ri===void 0&&(Ri=""),Ci.call(this,"NamespaceError","The operation is not allowed by Namespaces in XML. [XMLNS] "+Ri)||this}return We(Ni,Ci),Ni}(Ke);ze.NamespaceError=ai;var si=function(Ci){function Ni(Ri){return Ri===void 0&&(Ri=""),Ci.call(this,"InvalidAccessError","The object does not support the operation or argument. "+Ri)||this}return We(Ni,Ci),Ni}(Ke);ze.InvalidAccessError=si;var ri=function(Ci){function Ni(Ri){return Ri===void 0&&(Ri=""),Ci.call(this,"ValidationError",Ri)||this}return We(Ni,Ci),Ni}(Ke);ze.ValidationError=ri;var ii=function(Ci){function Ni(Ri){return Ri===void 0&&(Ri=""),Ci.call(this,"TypeMismatchError",Ri)||this}return We(Ni,Ci),Ni}(Ke);ze.TypeMismatchError=ii;var ui=function(Ci){function Ni(Ri){return Ri===void 0&&(Ri=""),Ci.call(this,"SecurityError","The operation is insecure. "+Ri)||this}return We(Ni,Ci),Ni}(Ke);ze.SecurityError=ui;var ci=function(Ci){function Ni(Ri){return Ri===void 0&&(Ri=""),Ci.call(this,"NetworkError","A network error occurred. "+Ri)||this}return We(Ni,Ci),Ni}(Ke);ze.NetworkError=ci;var hi=function(Ci){function Ni(Ri){return Ri===void 0&&(Ri=""),Ci.call(this,"AbortError","The operation was aborted. "+Ri)||this}return We(Ni,Ci),Ni}(Ke);ze.AbortError=hi;var mi=function(Ci){function Ni(Ri){return Ri===void 0&&(Ri=""),Ci.call(this,"URLMismatchError","The given URL does not match another URL. "+Ri)||this}return We(Ni,Ci),Ni}(Ke);ze.URLMismatchError=mi;var di=function(Ci){function Ni(Ri){return Ri===void 0&&(Ri=""),Ci.call(this,"QuotaExceededError","The quota has been exceeded. "+Ri)||this}return We(Ni,Ci),Ni}(Ke);ze.QuotaExceededError=di;var fi=function(Ci){function Ni(Ri){return Ri===void 0&&(Ri=""),Ci.call(this,"TimeoutError","The operation timed out. "+Ri)||this}return We(Ni,Ci),Ni}(Ke);ze.TimeoutError=fi;var yi=function(Ci){function Ni(Ri){return Ri===void 0&&(Ri=""),Ci.call(this,"InvalidNodeTypeError","The supplied node is incorrect or has an incorrect ancestor for this operation. "+Ri)||this}return We(Ni,Ci),Ni}(Ke);ze.InvalidNodeTypeError=yi;var pi=function(Ci){function Ni(Ri){return Ri===void 0&&(Ri=""),Ci.call(this,"DataCloneError","The object can not be cloned. "+Ri)||this}return We(Ni,Ci),Ni}(Ke);ze.DataCloneError=pi;var xi=function(Ci){function Ni(Ri){return Ri===void 0&&(Ri=""),Ci.call(this,"NotImplementedError","The DOM method is not implemented by this module. "+Ri)||this}return We(Ni,Ci),Ni}(Ke);ze.NotImplementedError=xi;var Si=function(Ci){function Ni(Ri){return Ri===void 0&&(Ri=""),Ci.call(this,"HierarchyRequestError","The operation would yield an incorrect node tree. "+Ri)||this}return We(Ni,Ci),Ni}(Ke);ze.HierarchyRequestError=Si;var vi=function(Ci){function Ni(Ri){return Ri===void 0&&(Ri=""),Ci.call(this,"NotFoundError","The object can not be found here. "+Ri)||this}return We(Ni,Ci),Ni}(Ke);ze.NotFoundError=vi;var Di=function(Ci){function Ni(Ri){return Ri===void 0&&(Ri=""),Ci.call(this,"IndexSizeError","The index is not in the allowed range. "+Ri)||this}return We(Ni,Ci),Ni}(Ke);ze.IndexSizeError=Di;var Ti=function(Ci){function Ni(Ri){return Ri===void 0&&(Ri=""),Ci.call(this,"SyntaxError","The string did not match the expected pattern. "+Ri)||this}return We(Ni,Ci),Ni}(Ke);ze.SyntaxError=Ti;var Fi=function(Ci){function Ni(Ri){return Ri===void 0&&(Ri=""),Ci.call(this,"InvalidCharacterError","The string contains invalid characters. "+Ri)||this}return We(Ni,Ci),Ni}(Ke);ze.InvalidCharacterError=Fi},function(Ve,ze,qe){var Xe=qe(53),We=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],Ke=["scalar","sequence","mapping"];Ve.exports=function(Je,Ze){var Qe,St;if(Ze=Ze||{},Object.keys(Ze).forEach(function(ei){if(We.indexOf(ei)===-1)throw new Xe('Unknown option "'+ei+'" is met in definition of "'+Je+'" YAML type.')}),this.tag=Je,this.kind=Ze.kind||null,this.resolve=Ze.resolve||function(){return!0},this.construct=Ze.construct||function(ei){return ei},this.instanceOf=Ze.instanceOf||null,this.predicate=Ze.predicate||null,this.represent=Ze.represent||null,this.defaultStyle=Ze.defaultStyle||null,this.styleAliases=(Qe=Ze.styleAliases||null,St={},Qe!==null&&Object.keys(Qe).forEach(function(ei){Qe[ei].forEach(function(ti){St[String(ti)]=ei})}),St),Ke.indexOf(this.kind)===-1)throw new Xe('Unknown kind "'+this.kind+'" is specified for "'+Je+'" YAML type.')}},function(Ve,ze,qe){(function(Xe){var We=function(Ke){return Ke&&Ke.Math==Math&&Ke};Ve.exports=We(typeof globalThis=="object"&&globalThis)||We(typeof window=="object"&&window)||We(typeof self=="object"&&self)||We(typeof Xe=="object"&&Xe)||Function("return this")()}).call(this,qe(78))},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0}),ze.idl_defineConst=function(Xe,We,Ke){Object.defineProperty(Xe,We,{writable:!1,enumerable:!0,configurable:!1,value:Ke})}},function(Ve,ze){Ve.exports=function(qe){return typeof qe=="object"?qe!==null:typeof qe=="function"}},function(Ve,ze){var qe={}.hasOwnProperty;Ve.exports=function(Xe,We){return qe.call(Xe,We)}},function(Ve,ze,qe){var Xe=qe(16),We=qe(115),Ke=qe(18),Je=qe(56),Ze=Object.defineProperty;ze.f=Xe?Ze:function(Qe,St,ei){if(Ke(Qe),St=Je(St,!0),Ke(ei),We)try{return Ze(Qe,St,ei)}catch{}if("get"in ei||"set"in ei)throw TypeError("Accessors not supported");return"value"in ei&&(Qe[St]=ei.value),Qe}},function(Ve,ze,qe){var Xe=qe(8);Ve.exports=!Xe(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(Ve,ze,qe){var Xe=this&&this.__values||function(ii){var ui=typeof Symbol=="function"&&Symbol.iterator,ci=ui&&ii[ui],hi=0;if(ci)return ci.call(ii);if(ii&&typeof ii.length=="number")return{next:function(){return ii&&hi>=ii.length&&(ii=void 0),{value:ii&&ii[hi++],done:!ii}}};throw new TypeError(ui?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ze,"__esModule",{value:!0});var We=qe(3),Ke=qe(1);function Je(ii,ui,ci){if(ci===void 0&&(ci=!1),ci&&We.Guard.isElementNode(ui)&&We.Guard.isShadowRoot(ui.shadowRoot)&&ui.shadowRoot._firstChild)return ui.shadowRoot._firstChild;if(ui._firstChild)return ui._firstChild;if(ui===ii)return null;if(ui._nextSibling)return ui._nextSibling;for(var hi=ui._parent;hi&&hi!==ii;){if(hi._nextSibling)return hi._nextSibling;hi=hi._parent}return null}function Ze(){var ii;return(ii={})[Symbol.iterator]=function(){return{next:function(){return{done:!0,value:null}}}},ii}function Qe(ii,ui,ci,hi){ui===void 0&&(ui=!1),ci===void 0&&(ci=!1);for(var mi=ui?ii:Je(ii,ii,ci);mi&&hi&&!hi(mi);)mi=Je(ii,mi,ci);return mi}function St(ii,ui,ci,hi,mi){hi===void 0&&(hi=!1);for(var di=Je(ii,ui,hi);di&&mi&&!mi(di);)di=Je(ii,di,hi);return di}function ei(ii,ui,ci,hi){var mi;return ui===void 0&&(ui=!1),ci===void 0&&(ci=!1),ui||ii._children.size!==0?((mi={})[Symbol.iterator]=function(){var di=ui?ii:Je(ii,ii,ci);return{next:function(){for(;di&&hi&&!hi(di);)di=Je(ii,di,ci);if(di===null)return{done:!0,value:null};var fi={done:!1,value:di};return di=Je(ii,di,ci),fi}}},mi):Ze()}function ti(ii,ui,ci){ui===void 0&&(ui=!1);for(var hi=ui?ii:ii._parent;hi&&ci&&!ci(hi);)hi=hi._parent;return hi}function ni(ii,ui,ci,hi){for(var mi=ui._parent;mi&&hi&&!hi(mi);)mi=mi._parent;return mi}function oi(ii){return We.Guard.isDocumentTypeNode(ii)?0:We.Guard.isCharacterDataNode(ii)?ii._data.length:ii._children.size}function ai(ii,ui){if(ui===void 0&&(ui=!1),ui){var ci=ai(ii,!1);return We.Guard.isShadowRoot(ci)?ai(ci._host,!0):ci}return ii._parent?ai(ii._parent):ii}function si(ii,ui,ci,hi){ci===void 0&&(ci=!1),hi===void 0&&(hi=!1);for(var mi=ci?ii:hi&&We.Guard.isShadowRoot(ii)?ii._host:ii._parent;mi!==null;){if(mi===ui)return!0;mi=hi&&We.Guard.isShadowRoot(mi)?mi._host:mi._parent}return!1}function ri(ii){for(var ui=ai(ii),ci=0,hi=Qe(ui);hi!==null;){if(ci++,hi===ii)return ci;hi=St(ui,hi)}return-1}ze.tree_getFirstDescendantNode=Qe,ze.tree_getNextDescendantNode=St,ze.tree_getDescendantNodes=ei,ze.tree_getDescendantElements=function(ii,ui,ci,hi){var mi;return ui===void 0&&(ui=!1),ci===void 0&&(ci=!1),ui||ii._children.size!==0?((mi={})[Symbol.iterator]=function(){var di=ei(ii,ui,ci,function(yi){return We.Guard.isElementNode(yi)})[Symbol.iterator](),fi=di.next().value;return{next:function(){for(;fi&&hi&&!hi(fi);)fi=di.next().value;if(fi===null)return{done:!0,value:null};var yi={done:!1,value:fi};return fi=di.next().value,yi}}},mi):Ze()},ze.tree_getSiblingNodes=function(ii,ui,ci){var hi;return ui===void 0&&(ui=!1),ii._parent&&ii._parent._children.size!==0?((hi={})[Symbol.iterator]=function(){var mi=ii._parent?ii._parent._firstChild:null;return{next:function(){for(;mi&&(ci&&!ci(mi)||!ui&&mi===ii);)mi=mi._nextSibling;if(mi===null)return{done:!0,value:null};var di={done:!1,value:mi};return mi=mi._nextSibling,di}}},hi):Ze()},ze.tree_getFirstAncestorNode=ti,ze.tree_getNextAncestorNode=ni,ze.tree_getAncestorNodes=function(ii,ui,ci){var hi;return ui===void 0&&(ui=!1),ui||ii._parent?((hi={})[Symbol.iterator]=function(){var mi=ti(ii,ui,ci);return{next:function(){if(mi===null)return{done:!0,value:null};var di={done:!1,value:mi};return mi=ni(0,mi,ui,ci),di}}},hi):Ze()},ze.tree_getCommonAncestor=function(ii,ui){if(ii===ui)return ii._parent;for(var ci=[],hi=[],mi=ti(ii,!0);mi!==null;)ci.push(mi),mi=ni(0,mi);for(var di=ti(ui,!0);di!==null;)hi.push(di),di=ni(0,di);for(var fi=ci.length,yi=hi.length,pi=null,xi=Math.min(fi,yi);xi>0;xi--){var Si=ci[--fi];if(Si!==hi[--yi])break;pi=Si}return pi},ze.tree_getFollowingNode=function(ii,ui){if(ui._firstChild)return ui._firstChild;if(ui._nextSibling)return ui._nextSibling;for(;;){var ci=ui._parent;if(ci===null||ci===ii)return null;if(ci._nextSibling)return ci._nextSibling;ui=ci}},ze.tree_getPrecedingNode=function(ii,ui){return ui===ii?null:ui._previousSibling?(ui=ui._previousSibling)._lastChild?ui._lastChild:ui:ui._parent},ze.tree_isConstrained=function ii(ui){var ci,hi,mi,di,fi,yi;switch(ui._nodeType){case Ke.NodeType.Document:var pi=!1,xi=!1;try{for(var Si=Xe(ui._children),vi=Si.next();!vi.done;vi=Si.next())switch(vi.value._nodeType){case Ke.NodeType.ProcessingInstruction:case Ke.NodeType.Comment:break;case Ke.NodeType.DocumentType:if(pi||xi)return!1;pi=!0;break;case Ke.NodeType.Element:if(xi)return!1;xi=!0;break;default:return!1}}catch(Ni){ci={error:Ni}}finally{try{vi&&!vi.done&&(hi=Si.return)&&hi.call(Si)}finally{if(ci)throw ci.error}}break;case Ke.NodeType.DocumentFragment:case Ke.NodeType.Element:try{for(var Di=Xe(ui._children),Ti=Di.next();!Ti.done;Ti=Di.next())switch(Ti.value._nodeType){case Ke.NodeType.Element:case Ke.NodeType.Text:case Ke.NodeType.ProcessingInstruction:case Ke.NodeType.CData:case Ke.NodeType.Comment:break;default:return!1}}catch(Ni){mi={error:Ni}}finally{try{Ti&&!Ti.done&&(di=Di.return)&&di.call(Di)}finally{if(mi)throw mi.error}}break;case Ke.NodeType.DocumentType:case Ke.NodeType.Text:case Ke.NodeType.ProcessingInstruction:case Ke.NodeType.CData:case Ke.NodeType.Comment:return!ui.hasChildNodes()}try{for(var Fi=Xe(ui._children),Ci=Fi.next();!Ci.done;Ci=Fi.next())if(!ii(Ci.value))return!1}catch(Ni){fi={error:Ni}}finally{try{Ci&&!Ci.done&&(yi=Fi.return)&&yi.call(Fi)}finally{if(fi)throw fi.error}}return!0},ze.tree_nodeLength=oi,ze.tree_isEmpty=function(ii){return oi(ii)===0},ze.tree_rootNode=ai,ze.tree_isDescendantOf=function(ii,ui,ci,hi){ci===void 0&&(ci=!1),hi===void 0&&(hi=!1);for(var mi=Qe(ii,ci,hi);mi!==null;){if(mi===ui)return!0;mi=St(ii,mi,ci,hi)}return!1},ze.tree_isAncestorOf=si,ze.tree_isHostIncludingAncestorOf=function ii(ui,ci,hi){if(hi===void 0&&(hi=!1),si(ui,ci,hi))return!0;var mi=ai(ui);return!(!We.Guard.isDocumentFragmentNode(mi)||mi._host===null||!ii(mi._host,ci,hi))},ze.tree_isSiblingOf=function(ii,ui,ci){return ci===void 0&&(ci=!1),ii!==ui?ii._parent!==null&&ii._parent===ui._parent:!!ci},ze.tree_isPreceding=function(ii,ui){var ci=ri(ii),hi=ri(ui);return ci!==-1&&hi!==-1&&ai(ii)===ai(ui)&&hi<ci},ze.tree_isFollowing=function(ii,ui){var ci=ri(ii),hi=ri(ui);return ci!==-1&&hi!==-1&&ai(ii)===ai(ui)&&hi>ci},ze.tree_isParentOf=function(ii,ui){return ii._parent===ui},ze.tree_isChildOf=function(ii,ui){return ui._parent===ii},ze.tree_previousSibling=function(ii){return ii._previousSibling},ze.tree_nextSibling=function(ii){return ii._nextSibling},ze.tree_firstChild=function(ii){return ii._firstChild},ze.tree_lastChild=function(ii){return ii._lastChild},ze.tree_treePosition=ri,ze.tree_index=function(ii){for(var ui=0;ii._previousSibling!==null;)ui++,ii=ii._previousSibling;return ui},ze.tree_retarget=function(ii,ui){for(;;){if(!ii||!We.Guard.isNode(ii))return ii;var ci=ai(ii);if(!We.Guard.isShadowRoot(ci)||ui&&We.Guard.isNode(ui)&&si(ci,ui,!0,!0))return ii;ii=ci.host}}},function(Ve,ze,qe){var Xe=qe(13);Ve.exports=function(We){if(!Xe(We))throw TypeError(String(We)+" is not an object");return We}},function(Ve,ze,qe){var Xe=qe(24),We=qe(130),Ke=qe(49),Je=qe(43),Ze=qe(88),Qe=Je.set,St=Je.getterFor("Array Iterator");Ve.exports=Ze(Array,"Array",function(ei,ti){Qe(this,{type:"Array Iterator",target:Xe(ei),index:0,kind:ti})},function(){var ei=St(this),ti=ei.target,ni=ei.kind,oi=ei.index++;return!ti||oi>=ti.length?(ei.target=void 0,{value:void 0,done:!0}):ni=="keys"?{value:oi,done:!1}:ni=="values"?{value:ti[oi],done:!1}:{value:[oi,ti[oi]],done:!1}},"values"),Ke.Arguments=Ke.Array,We("keys"),We("values"),We("entries")},function(Ve,ze,qe){var Xe=qe(90),We=qe(25),Ke=qe(202);Xe||We(Object.prototype,"toString",Ke,{unsafe:!0})},function(Ve,ze,qe){var Xe=qe(16),We=qe(15),Ke=qe(40);Ve.exports=Xe?function(Je,Ze,Qe){return We.f(Je,Ze,Ke(1,Qe))}:function(Je,Ze,Qe){return Je[Ze]=Qe,Je}},function(Ve,ze,qe){var Xe=qe(137).charAt,We=qe(43),Ke=qe(88),Je=We.set,Ze=We.getterFor("String Iterator");Ke(String,"String",function(Qe){Je(this,{type:"String Iterator",string:String(Qe),index:0})},function(){var Qe,St=Ze(this),ei=St.string,ti=St.index;return ti>=ei.length?{value:void 0,done:!0}:(Qe=Xe(ei,ti),St.index+=Qe.length,{value:Qe,done:!1})})},function(Ve,ze,qe){var Xe=qe(11),We=qe(203),Ke=qe(19),Je=qe(21),Ze=qe(5),Qe=Ze("iterator"),St=Ze("toStringTag"),ei=Ke.values;for(var ti in We){var ni=Xe[ti],oi=ni&&ni.prototype;if(oi){if(oi[Qe]!==ei)try{Je(oi,Qe,ei)}catch{oi[Qe]=ei}if(oi[St]||Je(oi,St,ti),We[ti]){for(var ai in Ke)if(oi[ai]!==Ke[ai])try{Je(oi,ai,Ke[ai])}catch{oi[ai]=Ke[ai]}}}}},function(Ve,ze,qe){var Xe=qe(41),We=qe(35);Ve.exports=function(Ke){return Xe(We(Ke))}},function(Ve,ze,qe){var Xe=qe(11),We=qe(21),Ke=qe(14),Je=qe(80),Ze=qe(117),Qe=qe(43),St=Qe.get,ei=Qe.enforce,ti=String(String).split("String");(Ve.exports=function(ni,oi,ai,si){var ri=!!si&&!!si.unsafe,ii=!!si&&!!si.enumerable,ui=!!si&&!!si.noTargetGet;typeof ai=="function"&&(typeof oi!="string"||Ke(ai,"name")||We(ai,"name",oi),ei(ai).source=ti.join(typeof oi=="string"?oi:"")),ni!==Xe?(ri?!ui&&ni[oi]&&(ii=!0):delete ni[oi],ii?ni[oi]=ai:We(ni,oi,ai)):ii?ni[oi]=ai:Je(oi,ai)})(Function.prototype,"toString",function(){return typeof this=="function"&&St(this).source||Ze(this)})},function(Ve,ze,qe){var Xe=qe(47),We=Math.min;Ve.exports=function(Ke){return Ke>0?We(Xe(Ke),9007199254740991):0}},function(Ve,ze,qe){var Xe=qe(35);Ve.exports=function(We){return Object(Xe(We))}},function(Ve,ze,qe){var Xe=qe(16),We=qe(8),Ke=qe(14),Je=Object.defineProperty,Ze={},Qe=function(St){throw St};Ve.exports=function(St,ei){if(Ke(Ze,St))return Ze[St];ei||(ei={});var ti=[][St],ni=!!Ke(ei,"ACCESSORS")&&ei.ACCESSORS,oi=Ke(ei,0)?ei[0]:Qe,ai=Ke(ei,1)?ei[1]:void 0;return Ze[St]=!!ti&&!We(function(){if(ni&&!Xe)return!0;var si={length:-1};ni?Je(si,1,{enumerable:!0,get:Qe}):si[1]=1,ti.call(si,oi,ai)})}},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=qe(148),We=qe(149),Ke=qe(151),Je=qe(98),Ze=qe(153),Qe=qe(154),St=qe(155),ei=qe(99),ti=qe(100),ni=qe(156),oi=qe(157),ai=qe(101),si=qe(158),ri=qe(159),ii=qe(160),ui=qe(161),ci=qe(162),hi=qe(163),mi=qe(164),di=qe(165),fi=qe(166),yi=qe(167),pi=qe(168),xi=qe(169),Si=qe(170);ze.create_domImplementation=function(vi){return Xe.DOMImplementationImpl._create(vi)},ze.create_window=function(){return We.WindowImpl._create()},ze.create_xmlDocument=function(){return new Ke.XMLDocumentImpl},ze.create_document=function(){return new Je.DocumentImpl},ze.create_abortController=function(){return new Ze.AbortControllerImpl},ze.create_abortSignal=function(){return Qe.AbortSignalImpl._create()},ze.create_documentType=function(vi,Di,Ti,Fi){return St.DocumentTypeImpl._create(vi,Di,Ti,Fi)},ze.create_element=function(vi,Di,Ti,Fi){return ei.ElementImpl._create(vi,Di,Ti,Fi)},ze.create_htmlElement=function(vi,Di,Ti,Fi){return ei.ElementImpl._create(vi,Di,Ti,Fi)},ze.create_htmlUnknownElement=function(vi,Di,Ti,Fi){return ei.ElementImpl._create(vi,Di,Ti,Fi)},ze.create_documentFragment=function(vi){return ti.DocumentFragmentImpl._create(vi)},ze.create_shadowRoot=function(vi,Di){return ni.ShadowRootImpl._create(vi,Di)},ze.create_attr=function(vi,Di){return oi.AttrImpl._create(vi,Di)},ze.create_text=function(vi,Di){return ai.TextImpl._create(vi,Di)},ze.create_cdataSection=function(vi,Di){return si.CDATASectionImpl._create(vi,Di)},ze.create_comment=function(vi,Di){return ri.CommentImpl._create(vi,Di)},ze.create_processingInstruction=function(vi,Di,Ti){return ii.ProcessingInstructionImpl._create(vi,Di,Ti)},ze.create_htmlCollection=function(vi,Di){return Di===void 0&&(Di=function(){return!0}),ui.HTMLCollectionImpl._create(vi,Di)},ze.create_nodeList=function(vi){return ci.NodeListImpl._create(vi)},ze.create_nodeListStatic=function(vi,Di){return hi.NodeListStaticImpl._create(vi,Di)},ze.create_namedNodeMap=function(vi){return mi.NamedNodeMapImpl._create(vi)},ze.create_range=function(vi,Di){return di.RangeImpl._create(vi,Di)},ze.create_nodeIterator=function(vi,Di,Ti){return fi.NodeIteratorImpl._create(vi,Di,Ti)},ze.create_treeWalker=function(vi,Di){return yi.TreeWalkerImpl._create(vi,Di)},ze.create_nodeFilter=function(){return pi.NodeFilterImpl._create()},ze.create_mutationRecord=function(vi,Di,Ti,Fi,Ci,Ni,Ri,Yi,ki){return xi.MutationRecordImpl._create(vi,Di,Ti,Fi,Ci,Ni,Ri,Yi,ki)},ze.create_domTokenList=function(vi,Di){return Si.DOMTokenListImpl._create(vi,Di)}},function(Ve,ze,qe){var Xe=this&&this.__values||function(oi){var ai=typeof Symbol=="function"&&Symbol.iterator,si=ai&&oi[ai],ri=0;if(si)return si.call(oi);if(oi&&typeof oi.length=="number")return{next:function(){return oi&&ri>=oi.length&&(oi=void 0),{value:oi&&oi[ri++],done:!oi}}};throw new TypeError(ai?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ze,"__esModule",{value:!0});var We=qe(6),Ke=qe(17),Je=qe(3),Ze=qe(72),Qe=new Map;function St(oi,ai){if(ai!==oi._root&&Ke.tree_isAncestorOf(oi._reference,ai,!0)){if(oi._pointerBeforeReference)for(;;){var si=Ke.tree_getFollowingNode(oi._root,ai);if(si!==null&&Ke.tree_isDescendantOf(oi._root,si,!0)&&!Ke.tree_isDescendantOf(ai,si,!0))return void(oi._reference=si);if(si===null)return void(oi._pointerBeforeReference=!1)}if(ai._previousSibling===null)ai._parent!==null&&(oi._reference=ai._parent);else{for(var ri=ai._previousSibling,ii=Ke.tree_getFirstDescendantNode(ai._previousSibling,!0,!1);ii!==null;)ii!==null&&(ri=ii),ii=Ke.tree_getNextDescendantNode(ai._previousSibling,ii,!0,!1);oi._reference=ri}}}function ei(oi,ai,si,ri,ii){if(Je.Guard.isSlot(oi)&&ai==="name"&&ii===null){if(ri===si||ri===null&&si===""||ri===""&&si===null)return;oi._name=ri===null||ri===""?"":ri,Ze.shadowTree_assignSlotablesForATree(Ke.tree_rootNode(oi))}}function ti(oi,ai,si,ri,ii){if(Je.Guard.isSlotable(oi)&&ai==="slot"&&ii===null){if(ri===si||ri===null&&si===""||ri===""&&si===null)return;oi._name=ri===null||ri===""?"":ri,Ze.shadowTree_isAssigned(oi)&&Ze.shadowTree_assignSlotables(oi._assignedSlot),Ze.shadowTree_assignASlot(oi)}}function ni(oi,ai,si,ri){ai==="id"&&ri===null&&(oi._uniqueIdentifier=si||void 0)}ze.dom_runRemovingSteps=function(oi,ai){},ze.dom_runCloningSteps=function(oi,ai,si,ri){},ze.dom_runAdoptingSteps=function(oi,ai){},ze.dom_runAttributeChangeSteps=function(oi,ai,si,ri,ii){var ui,ci;We.dom.features.slots&&(ti.call(oi,oi,ai,si,ri,ii),ei.call(oi,oi,ai,si,ri,ii)),ni.call(oi,oi,ai,ri,ii);try{for(var hi=Xe(oi._attributeChangeSteps),mi=hi.next();!mi.done;mi=hi.next())mi.value.call(oi,oi,ai,si,ri,ii)}catch(di){ui={error:di}}finally{try{mi&&!mi.done&&(ci=hi.return)&&ci.call(hi)}finally{if(ui)throw ui.error}}},ze.dom_runInsertionSteps=function(oi){},ze.dom_runNodeIteratorPreRemovingSteps=function(oi,ai){St.call(oi,oi,ai)},ze.dom_hasSupportedTokens=function(oi){return Qe.has(oi)},ze.dom_getSupportedTokens=function(oi){return Qe.get(oi)||new Set},ze.dom_runEventConstructingSteps=function(oi){},ze.dom_runChildTextContentChangeSteps=function(oi){}},function(Ve,ze,qe){var Xe=qe(4),We=qe(11),Ke=qe(46),Je=qe(44),Ze=qe(16),Qe=qe(86),St=qe(124),ei=qe(8),ti=qe(14),ni=qe(59),oi=qe(13),ai=qe(18),si=qe(27),ri=qe(24),ii=qe(56),ui=qe(40),ci=qe(60),hi=qe(61),mi=qe(82),di=qe(190),fi=qe(85),yi=qe(55),pi=qe(15),xi=qe(79),Si=qe(21),vi=qe(25),Di=qe(81),Ti=qe(57),Fi=qe(45),Ci=qe(58),Ni=qe(5),Ri=qe(125),Yi=qe(126),ki=qe(62),ji=qe(43),Vi=qe(36).forEach,Bi=Ti("hidden"),Xi=Ni("toPrimitive"),en=ji.set,tn=ji.getterFor("Symbol"),Ji=Object.prototype,Li=We.Symbol,wi=Ke("JSON","stringify"),_i=yi.f,Ai=pi.f,Oi=di.f,Ii=xi.f,Mi=Di("symbols"),Gi=Di("op-symbols"),on=Di("string-to-symbol-registry"),Ui=Di("symbol-to-string-registry"),rn=Di("wks"),un=We.QObject,dn=!un||!un.prototype||!un.prototype.findChild,hn=Ze&&ei(function(){return ci(Ai({},"a",{get:function(){return Ai(this,"a",{value:7}).a}})).a!=7})?function(_n,Tn,In){var Rn=_i(Ji,Tn);Rn&&delete Ji[Tn],Ai(_n,Tn,In),Rn&&_n!==Ji&&Ai(Ji,Tn,Rn)}:Ai,Sn=function(_n,Tn){var In=Mi[_n]=ci(Li.prototype);return en(In,{type:"Symbol",tag:_n,description:Tn}),Ze||(In.description=Tn),In},fn=St?function(_n){return typeof _n=="symbol"}:function(_n){return Object(_n)instanceof Li},Pn=function(_n,Tn,In){_n===Ji&&Pn(Gi,Tn,In),ai(_n);var Rn=ii(Tn,!0);return ai(In),ti(Mi,Rn)?(In.enumerable?(ti(_n,Bi)&&_n[Bi][Rn]&&(_n[Bi][Rn]=!1),In=ci(In,{enumerable:ui(0,!1)})):(ti(_n,Bi)||Ai(_n,Bi,ui(1,{})),_n[Bi][Rn]=!0),hn(_n,Rn,In)):Ai(_n,Rn,In)},zi=function(_n,Tn){ai(_n);var In=ri(Tn),Rn=hi(In).concat(sn(In));return Vi(Rn,function(zn){Ze&&!En.call(In,zn)||Pn(_n,zn,In[zn])}),_n},En=function(_n){var Tn=ii(_n,!0),In=Ii.call(this,Tn);return!(this===Ji&&ti(Mi,Tn)&&!ti(Gi,Tn))&&(!(In||!ti(this,Tn)||!ti(Mi,Tn)||ti(this,Bi)&&this[Bi][Tn])||In)},yn=function(_n,Tn){var In=ri(_n),Rn=ii(Tn,!0);if(In!==Ji||!ti(Mi,Rn)||ti(Gi,Rn)){var zn=_i(In,Rn);return!zn||!ti(Mi,Rn)||ti(In,Bi)&&In[Bi][Rn]||(zn.enumerable=!0),zn}},An=function(_n){var Tn=Oi(ri(_n)),In=[];return Vi(Tn,function(Rn){ti(Mi,Rn)||ti(Fi,Rn)||In.push(Rn)}),In},sn=function(_n){var Tn=_n===Ji,In=Oi(Tn?Gi:ri(_n)),Rn=[];return Vi(In,function(zn){!ti(Mi,zn)||Tn&&!ti(Ji,zn)||Rn.push(Mi[zn])}),Rn};Qe||(vi((Li=function(){if(this instanceof Li)throw TypeError("Symbol is not a constructor");var _n=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,Tn=Ci(_n),In=function(Rn){this===Ji&&In.call(Gi,Rn),ti(this,Bi)&&ti(this[Bi],Tn)&&(this[Bi][Tn]=!1),hn(this,Tn,ui(1,Rn))};return Ze&&dn&&hn(Ji,Tn,{configurable:!0,set:In}),Sn(Tn,_n)}).prototype,"toString",function(){return tn(this).tag}),vi(Li,"withoutSetter",function(_n){return Sn(Ci(_n),_n)}),xi.f=En,pi.f=Pn,yi.f=yn,mi.f=di.f=An,fi.f=sn,Ri.f=function(_n){return Sn(Ni(_n),_n)},Ze&&(Ai(Li.prototype,"description",{configurable:!0,get:function(){return tn(this).description}}),Je||vi(Ji,"propertyIsEnumerable",En,{unsafe:!0}))),Xe({global:!0,wrap:!0,forced:!Qe,sham:!Qe},{Symbol:Li}),Vi(hi(rn),function(_n){Yi(_n)}),Xe({target:"Symbol",stat:!0,forced:!Qe},{for:function(_n){var Tn=String(_n);if(ti(on,Tn))return on[Tn];var In=Li(Tn);return on[Tn]=In,Ui[In]=Tn,In},keyFor:function(_n){if(!fn(_n))throw TypeError(_n+" is not a symbol");if(ti(Ui,_n))return Ui[_n]},useSetter:function(){dn=!0},useSimple:function(){dn=!1}}),Xe({target:"Object",stat:!0,forced:!Qe,sham:!Ze},{create:function(_n,Tn){return Tn===void 0?ci(_n):zi(ci(_n),Tn)},defineProperty:Pn,defineProperties:zi,getOwnPropertyDescriptor:yn}),Xe({target:"Object",stat:!0,forced:!Qe},{getOwnPropertyNames:An,getOwnPropertySymbols:sn}),Xe({target:"Object",stat:!0,forced:ei(function(){fi.f(1)})},{getOwnPropertySymbols:function(_n){return fi.f(si(_n))}}),wi&&Xe({target:"JSON",stat:!0,forced:!Qe||ei(function(){var _n=Li();return wi([_n])!="[null]"||wi({a:_n})!="{}"||wi(Object(_n))!="{}"})},{stringify:function(_n,Tn,In){for(var Rn,zn=[_n],Un=1;arguments.length>Un;)zn.push(arguments[Un++]);if(Rn=Tn,(oi(Tn)||_n!==void 0)&&!fn(_n))return ni(Tn)||(Tn=function(qn,er){if(typeof Rn=="function"&&(er=Rn.call(this,qn,er)),!fn(er))return er}),zn[1]=Tn,wi.apply(null,zn)}}),Li.prototype[Xi]||Si(Li.prototype,Xi,Li.prototype.valueOf),ki(Li,"Symbol"),Fi[Bi]=!0},function(Ve,ze,qe){var Xe=qe(4),We=qe(16),Ke=qe(11),Je=qe(14),Ze=qe(13),Qe=qe(15).f,St=qe(119),ei=Ke.Symbol;if(We&&typeof ei=="function"&&(!("description"in ei.prototype)||ei().description!==void 0)){var ti={},ni=function(){var ii=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),ui=this instanceof ni?new ei(ii):ii===void 0?ei():ei(ii);return ii===""&&(ti[ui]=!0),ui};St(ni,ei);var oi=ni.prototype=ei.prototype;oi.constructor=ni;var ai=oi.toString,si=String(ei("test"))=="Symbol(test)",ri=/^Symbol\((.*)\)[^)]+$/;Qe(oi,"description",{configurable:!0,get:function(){var ii=Ze(this)?this.valueOf():this,ui=ai.call(ii);if(Je(ti,ii))return"";var ci=si?ui.slice(7,-1):ui.replace(ri,"$1");return ci===""?void 0:ci}}),Xe({global:!0,forced:!0},{Symbol:ni})}},function(Ve,ze,qe){qe(126)("iterator")},function(Ve,ze,qe){var Xe,We=this&&this.__extends||(Xe=function(si,ri){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ii,ui){ii.__proto__=ui}||function(ii,ui){for(var ci in ui)ui.hasOwnProperty(ci)&&(ii[ci]=ui[ci])})(si,ri)},function(si,ri){function ii(){this.constructor=si}Xe(si,ri),si.prototype=ri===null?Object.create(ri):(ii.prototype=ri.prototype,new ii)}),Ke=this&&this.__values||function(si){var ri=typeof Symbol=="function"&&Symbol.iterator,ii=ri&&si[ri],ui=0;if(ii)return ii.call(si);if(si&&typeof si.length=="number")return{next:function(){return si&&ui>=si.length&&(si=void 0),{value:si&&si[ui++],done:!si}}};throw new TypeError(ri?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ze,"__esModule",{value:!0});var Je=qe(6),Ze=qe(1),Qe=qe(70),St=qe(3),ei=qe(9),ti=qe(0),ni=qe(152),oi=qe(12),ai=function(si){function ri(){var ii=si.call(this)||this;return ii._parent=null,ii._firstChild=null,ii._lastChild=null,ii._previousSibling=null,ii._nextSibling=null,ii}return We(ri,si),Object.defineProperty(ri.prototype,"_childNodes",{get:function(){return this.__childNodes||(this.__childNodes=ti.create_nodeList(this))},enumerable:!0,configurable:!0}),Object.defineProperty(ri.prototype,"_nodeDocument",{get:function(){return this._nodeDocumentOverride||Je.dom.window._associatedDocument},set:function(ii){this._nodeDocumentOverride=ii},enumerable:!0,configurable:!0}),Object.defineProperty(ri.prototype,"_registeredObserverList",{get:function(){return this.__registeredObserverList||(this.__registeredObserverList=[])},enumerable:!0,configurable:!0}),Object.defineProperty(ri.prototype,"nodeType",{get:function(){return this._nodeType},enumerable:!0,configurable:!0}),Object.defineProperty(ri.prototype,"nodeName",{get:function(){return St.Guard.isElementNode(this)?this._htmlUppercasedQualifiedName:St.Guard.isAttrNode(this)?this._qualifiedName:St.Guard.isExclusiveTextNode(this)?"#text":St.Guard.isCDATASectionNode(this)?"#cdata-section":St.Guard.isProcessingInstructionNode(this)?this._target:St.Guard.isCommentNode(this)?"#comment":St.Guard.isDocumentNode(this)?"#document":St.Guard.isDocumentTypeNode(this)?this._name:St.Guard.isDocumentFragmentNode(this)?"#document-fragment":""},enumerable:!0,configurable:!0}),Object.defineProperty(ri.prototype,"baseURI",{get:function(){return ni.urlSerializer(this._nodeDocument._URL)},enumerable:!0,configurable:!0}),Object.defineProperty(ri.prototype,"isConnected",{get:function(){return St.Guard.isElementNode(this)&&ti.shadowTree_isConnected(this)},enumerable:!0,configurable:!0}),Object.defineProperty(ri.prototype,"ownerDocument",{get:function(){return this._nodeType===Ze.NodeType.Document?null:this._nodeDocument},enumerable:!0,configurable:!0}),ri.prototype.getRootNode=function(ii){return ti.tree_rootNode(this,!!ii&&ii.composed)},Object.defineProperty(ri.prototype,"parentNode",{get:function(){return this._nodeType===Ze.NodeType.Attribute?null:this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(ri.prototype,"parentElement",{get:function(){return this._parent&&St.Guard.isElementNode(this._parent)?this._parent:null},enumerable:!0,configurable:!0}),ri.prototype.hasChildNodes=function(){return this._firstChild!==null},Object.defineProperty(ri.prototype,"childNodes",{get:function(){return this._childNodes},enumerable:!0,configurable:!0}),Object.defineProperty(ri.prototype,"firstChild",{get:function(){return this._firstChild},enumerable:!0,configurable:!0}),Object.defineProperty(ri.prototype,"lastChild",{get:function(){return this._lastChild},enumerable:!0,configurable:!0}),Object.defineProperty(ri.prototype,"previousSibling",{get:function(){return this._previousSibling},enumerable:!0,configurable:!0}),Object.defineProperty(ri.prototype,"nextSibling",{get:function(){return this._nextSibling},enumerable:!0,configurable:!0}),Object.defineProperty(ri.prototype,"nodeValue",{get:function(){return St.Guard.isAttrNode(this)?this._value:St.Guard.isCharacterDataNode(this)?this._data:null},set:function(ii){ii===null&&(ii=""),St.Guard.isAttrNode(this)?ti.attr_setAnExistingAttributeValue(this,ii):St.Guard.isCharacterDataNode(this)&&ti.characterData_replaceData(this,0,this._data.length,ii)},enumerable:!0,configurable:!0}),Object.defineProperty(ri.prototype,"textContent",{get:function(){return St.Guard.isDocumentFragmentNode(this)||St.Guard.isElementNode(this)?ti.text_descendantTextContent(this):St.Guard.isAttrNode(this)?this._value:St.Guard.isCharacterDataNode(this)?this._data:null},set:function(ii){ii===null&&(ii=""),St.Guard.isDocumentFragmentNode(this)||St.Guard.isElementNode(this)?ti.node_stringReplaceAll(ii,this):St.Guard.isAttrNode(this)?ti.attr_setAnExistingAttributeValue(this,ii):St.Guard.isCharacterDataNode(this)&&ti.characterData_replaceData(this,0,ti.tree_nodeLength(this),ii)},enumerable:!0,configurable:!0}),ri.prototype.normalize=function(){for(var ii,ui,ci,hi,mi=[],di=ti.tree_getFirstDescendantNode(this,!1,!1,function(Vi){return St.Guard.isExclusiveTextNode(Vi)});di!==null;)mi.push(di),di=ti.tree_getNextDescendantNode(this,di,!1,!1,function(Vi){return St.Guard.isExclusiveTextNode(Vi)});for(var fi=0;fi<mi.length;fi++){var yi=mi[fi];if(yi._parent!==null){var pi=ti.tree_nodeLength(yi);if(pi!==0){var xi=[],Si="";try{for(var vi=(ii=void 0,Ke(ti.text_contiguousExclusiveTextNodes(yi))),Di=vi.next();!Di.done;Di=vi.next()){var Ti=Di.value;xi.push(Ti),Si+=Ti._data}}catch(Vi){ii={error:Vi}}finally{try{Di&&!Di.done&&(ui=vi.return)&&ui.call(vi)}finally{if(ii)throw ii.error}}if(ti.characterData_replaceData(yi,pi,0,Si),Je.dom.rangeList.size!==0)for(var Fi=yi._nextSibling;Fi!==null&&St.Guard.isExclusiveTextNode(Fi);){var Ci=Fi,Ni=ti.tree_index(Ci);try{for(var Ri=(ci=void 0,Ke(Je.dom.rangeList)),Yi=Ri.next();!Yi.done;Yi=Ri.next()){var ki=Yi.value;ki._start[0]===Ci&&(ki._start[0]=yi,ki._start[1]+=pi),ki._end[0]===Ci&&(ki._end[0]=yi,ki._end[1]+=pi),ki._start[0]===Ci._parent&&ki._start[1]===Ni&&(ki._start[0]=yi,ki._start[1]=pi),ki._end[0]===Ci._parent&&ki._end[1]===Ni&&(ki._end[0]=yi,ki._end[1]=pi)}}catch(Vi){ci={error:Vi}}finally{try{Yi&&!Yi.done&&(hi=Ri.return)&&hi.call(Ri)}finally{if(ci)throw ci.error}}pi+=ti.tree_nodeLength(Fi),Fi=Fi._nextSibling}for(var ji=0;ji<xi.length;ji++)(Ti=xi[ji])._parent!==null&&ti.mutation_remove(Ti,Ti._parent)}else ti.mutation_remove(yi,yi._parent)}}},ri.prototype.cloneNode=function(ii){if(ii===void 0&&(ii=!1),St.Guard.isShadowRoot(this))throw new ei.NotSupportedError;return ti.node_clone(this,null,ii)},ri.prototype.isEqualNode=function(ii){return ii===void 0&&(ii=null),ii!==null&&ti.node_equals(this,ii)},ri.prototype.isSameNode=function(ii){return ii===void 0&&(ii=null),this===ii},ri.prototype.compareDocumentPosition=function(ii){if(ii===this)return 0;var ui=ii,ci=this,hi=null,mi=null;if(St.Guard.isAttrNode(ui)&&(ui=(hi=ui)._element),St.Guard.isAttrNode(ci)&&(ci=(mi=ci)._element,hi&&ui&&ui===ci))for(var di=0;di<ci._attributeList.length;di++){var fi=ci._attributeList[di];if(ti.node_equals(fi,hi))return Ze.Position.ImplementationSpecific|Ze.Position.Preceding;if(ti.node_equals(fi,mi))return Ze.Position.ImplementationSpecific|Ze.Position.Following}return ui===null||ci===null||ti.tree_rootNode(ui)!==ti.tree_rootNode(ci)?Ze.Position.Disconnected|Ze.Position.ImplementationSpecific|(Je.dom.compareCache.check(this,ii)?Ze.Position.Preceding:Ze.Position.Following):!hi&&ti.tree_isAncestorOf(ci,ui)||mi&&ui===ci?Ze.Position.Contains|Ze.Position.Preceding:!mi&&ti.tree_isDescendantOf(ci,ui)||hi&&ui===ci?Ze.Position.ContainedBy|Ze.Position.Following:ti.tree_isPreceding(ci,ui)?Ze.Position.Preceding:Ze.Position.Following},ri.prototype.contains=function(ii){return ii!==null&&ti.tree_isDescendantOf(this,ii,!0)},ri.prototype.lookupPrefix=function(ii){return ii?St.Guard.isElementNode(this)?ti.node_locateANamespacePrefix(this,ii):St.Guard.isDocumentNode(this)?this.documentElement===null?null:ti.node_locateANamespacePrefix(this.documentElement,ii):St.Guard.isDocumentTypeNode(this)||St.Guard.isDocumentFragmentNode(this)?null:St.Guard.isAttrNode(this)?this._element===null?null:ti.node_locateANamespacePrefix(this._element,ii):this._parent!==null&&St.Guard.isElementNode(this._parent)?ti.node_locateANamespacePrefix(this._parent,ii):null:null},ri.prototype.lookupNamespaceURI=function(ii){return ti.node_locateANamespace(this,ii||null)},ri.prototype.isDefaultNamespace=function(ii){return ii||(ii=null),ti.node_locateANamespace(this,null)===ii},ri.prototype.insertBefore=function(ii,ui){return ti.mutation_preInsert(ii,this,ui)},ri.prototype.appendChild=function(ii){return ti.mutation_append(ii,this)},ri.prototype.replaceChild=function(ii,ui){return ti.mutation_replace(ui,ii,this)},ri.prototype.removeChild=function(ii){return ti.mutation_preRemove(ii,this)},ri.prototype._getTheParent=function(ii){return St.Guard.isSlotable(this)&&ti.shadowTree_isAssigned(this)?this._assignedSlot:this._parent},ri.ELEMENT_NODE=1,ri.ATTRIBUTE_NODE=2,ri.TEXT_NODE=3,ri.CDATA_SECTION_NODE=4,ri.ENTITY_REFERENCE_NODE=5,ri.ENTITY_NODE=6,ri.PROCESSING_INSTRUCTION_NODE=7,ri.COMMENT_NODE=8,ri.DOCUMENT_NODE=9,ri.DOCUMENT_TYPE_NODE=10,ri.DOCUMENT_FRAGMENT_NODE=11,ri.NOTATION_NODE=12,ri.DOCUMENT_POSITION_DISCONNECTED=1,ri.DOCUMENT_POSITION_PRECEDING=2,ri.DOCUMENT_POSITION_FOLLOWING=4,ri.DOCUMENT_POSITION_CONTAINS=8,ri.DOCUMENT_POSITION_CONTAINED_BY=16,ri.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32,ri}(Qe.EventTargetImpl);ze.NodeImpl=ai,ai.prototype._children=new St.EmptySet,oi.idl_defineConst(ai.prototype,"ELEMENT_NODE",1),oi.idl_defineConst(ai.prototype,"ATTRIBUTE_NODE",2),oi.idl_defineConst(ai.prototype,"TEXT_NODE",3),oi.idl_defineConst(ai.prototype,"CDATA_SECTION_NODE",4),oi.idl_defineConst(ai.prototype,"ENTITY_REFERENCE_NODE",5),oi.idl_defineConst(ai.prototype,"ENTITY_NODE",6),oi.idl_defineConst(ai.prototype,"PROCESSING_INSTRUCTION_NODE",7),oi.idl_defineConst(ai.prototype,"COMMENT_NODE",8),oi.idl_defineConst(ai.prototype,"DOCUMENT_NODE",9),oi.idl_defineConst(ai.prototype,"DOCUMENT_TYPE_NODE",10),oi.idl_defineConst(ai.prototype,"DOCUMENT_FRAGMENT_NODE",11),oi.idl_defineConst(ai.prototype,"NOTATION_NODE",12),oi.idl_defineConst(ai.prototype,"DOCUMENT_POSITION_DISCONNECTED",1),oi.idl_defineConst(ai.prototype,"DOCUMENT_POSITION_PRECEDING",2),oi.idl_defineConst(ai.prototype,"DOCUMENT_POSITION_FOLLOWING",4),oi.idl_defineConst(ai.prototype,"DOCUMENT_POSITION_CONTAINS",8),oi.idl_defineConst(ai.prototype,"DOCUMENT_POSITION_CONTAINED_BY",16),oi.idl_defineConst(ai.prototype,"DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC",32)},function(Ve,ze){Ve.exports=function(qe){if(qe==null)throw TypeError("Can't call method on "+qe);return qe}},function(Ve,ze,qe){var Xe=qe(87),We=qe(41),Ke=qe(27),Je=qe(26),Ze=qe(128),Qe=[].push,St=function(ei){var ti=ei==1,ni=ei==2,oi=ei==3,ai=ei==4,si=ei==6,ri=ei==5||si;return function(ii,ui,ci,hi){for(var mi,di,fi=Ke(ii),yi=We(fi),pi=Xe(ui,ci,3),xi=Je(yi.length),Si=0,vi=hi||Ze,Di=ti?vi(ii,xi):ni?vi(ii,0):void 0;xi>Si;Si++)if((ri||Si in yi)&&(di=pi(mi=yi[Si],Si,fi),ei)){if(ti)Di[Si]=di;else if(di)switch(ei){case 3:return!0;case 5:return mi;case 6:return Si;case 2:Qe.call(Di,mi)}else if(ai)return!1}return si?-1:oi||ai?ai:Di}};Ve.exports={forEach:St(0),map:St(1),filter:St(2),some:St(3),every:St(4),find:St(5),findIndex:St(6)}},function(Ve,ze,qe){var Xe=this&&this.__values||function(fi){var yi=typeof Symbol=="function"&&Symbol.iterator,pi=yi&&fi[yi],xi=0;if(pi)return pi.call(fi);if(fi&&typeof fi.length=="number")return{next:function(){return fi&&xi>=fi.length&&(fi=void 0),{value:fi&&fi[xi++],done:!fi}}};throw new TypeError(yi?"Object is not iterable.":"Symbol.iterator is not defined.")},We=this&&this.__read||function(fi,yi){var pi=typeof Symbol=="function"&&fi[Symbol.iterator];if(!pi)return fi;var xi,Si,vi=pi.call(fi),Di=[];try{for(;(yi===void 0||yi-- >0)&&!(xi=vi.next()).done;)Di.push(xi.value)}catch(Ti){Si={error:Ti}}finally{try{xi&&!xi.done&&(pi=vi.return)&&pi.call(vi)}finally{if(Si)throw Si.error}}return Di},Ke=this&&this.__spread||function(){for(var fi=[],yi=0;yi<arguments.length;yi++)fi=fi.concat(We(arguments[yi]));return fi};Object.defineProperty(ze,"__esModule",{value:!0});var Je=qe(6),Ze=qe(9),Qe=qe(1),St=qe(3),ei=qe(2),ti=qe(7),ni=qe(73),oi=qe(17),ai=qe(172),si=qe(72),ri=qe(51),ii=qe(30),ui=qe(106);function ci(fi,yi,pi){var xi,Si,vi,Di,Ti,Fi,Ci,Ni,Ri=yi._nodeType,Yi=fi._nodeType,ki=pi?pi._nodeType:null;if(Ri!==Qe.NodeType.Document&&Ri!==Qe.NodeType.DocumentFragment&&Ri!==Qe.NodeType.Element)throw new Ze.HierarchyRequestError("Only document, document fragment and element nodes can contain child nodes. Parent node is "+yi.nodeName+".");if(oi.tree_isHostIncludingAncestorOf(yi,fi,!0))throw new Ze.HierarchyRequestError("The node to be inserted cannot be an inclusive ancestor of parent node. Node is "+fi.nodeName+", parent node is "+yi.nodeName+".");if(pi!==null&&pi._parent!==yi)throw new Ze.NotFoundError("The reference child node cannot be found under parent node. Child node is "+pi.nodeName+", parent node is "+yi.nodeName+".");if(Yi!==Qe.NodeType.DocumentFragment&&Yi!==Qe.NodeType.DocumentType&&Yi!==Qe.NodeType.Element&&Yi!==Qe.NodeType.Text&&Yi!==Qe.NodeType.ProcessingInstruction&&Yi!==Qe.NodeType.CData&&Yi!==Qe.NodeType.Comment)throw new Ze.HierarchyRequestError("Only document fragment, document type, element, text, processing instruction, cdata section or comment nodes can be inserted. Node is "+fi.nodeName+".");if(Yi===Qe.NodeType.Text&&Ri===Qe.NodeType.Document)throw new Ze.HierarchyRequestError("Cannot insert a text node as a child of a document node. Node is "+fi.nodeName+".");if(Yi===Qe.NodeType.DocumentType&&Ri!==Qe.NodeType.Document)throw new Ze.HierarchyRequestError("A document type node can only be inserted under a document node. Parent node is "+yi.nodeName+".");if(Ri===Qe.NodeType.Document){if(Yi===Qe.NodeType.DocumentFragment){var ji=0;try{for(var Vi=Xe(fi._children),Bi=Vi.next();!Bi.done;Bi=Vi.next()){var Xi=Bi.value;if(Xi._nodeType===Qe.NodeType.Element)ji++;else if(Xi._nodeType===Qe.NodeType.Text)throw new Ze.HierarchyRequestError("Cannot insert text a node as a child of a document node. Node is "+Xi.nodeName+".")}}catch(Ii){xi={error:Ii}}finally{try{Bi&&!Bi.done&&(Si=Vi.return)&&Si.call(Vi)}finally{if(xi)throw xi.error}}if(ji>1)throw new Ze.HierarchyRequestError("A document node can only have one document element node. Document fragment to be inserted has "+ji+" element nodes.");if(ji===1){try{for(var en=Xe(yi._children),tn=en.next();!tn.done;tn=en.next())if(tn.value._nodeType===Qe.NodeType.Element)throw new Ze.HierarchyRequestError("The document node already has a document element node.")}catch(Ii){vi={error:Ii}}finally{try{tn&&!tn.done&&(Di=en.return)&&Di.call(en)}finally{if(vi)throw vi.error}}if(pi){if(ki===Qe.NodeType.DocumentType)throw new Ze.HierarchyRequestError("Cannot insert an element node before a document type node.");for(var Ji=pi._nextSibling;Ji;){if(Ji._nodeType===Qe.NodeType.DocumentType)throw new Ze.HierarchyRequestError("Cannot insert an element node before a document type node.");Ji=Ji._nextSibling}}}}else if(Yi===Qe.NodeType.Element){try{for(var Li=Xe(yi._children),wi=Li.next();!wi.done;wi=Li.next())if(wi.value._nodeType===Qe.NodeType.Element)throw new Ze.HierarchyRequestError("Document already has a document element node. Node is "+fi.nodeName+".")}catch(Ii){Ti={error:Ii}}finally{try{wi&&!wi.done&&(Fi=Li.return)&&Fi.call(Li)}finally{if(Ti)throw Ti.error}}if(pi){if(ki===Qe.NodeType.DocumentType)throw new Ze.HierarchyRequestError("Cannot insert an element node before a document type node. Node is "+fi.nodeName+".");for(Ji=pi._nextSibling;Ji;){if(Ji._nodeType===Qe.NodeType.DocumentType)throw new Ze.HierarchyRequestError("Cannot insert an element node before a document type node. Node is "+fi.nodeName+".");Ji=Ji._nextSibling}}}else if(Yi===Qe.NodeType.DocumentType){try{for(var _i=Xe(yi._children),Ai=_i.next();!Ai.done;Ai=_i.next())if(Ai.value._nodeType===Qe.NodeType.DocumentType)throw new Ze.HierarchyRequestError("Document already has a document type node. Node is "+fi.nodeName+".")}catch(Ii){Ci={error:Ii}}finally{try{Ai&&!Ai.done&&(Ni=_i.return)&&Ni.call(_i)}finally{if(Ci)throw Ci.error}}if(pi)for(var Oi=pi._previousSibling;Oi;){if(Oi._nodeType===Qe.NodeType.Element)throw new Ze.HierarchyRequestError("Cannot insert a document type node before an element node. Node is "+fi.nodeName+".");Oi=Oi._previousSibling}else for(Oi=yi._firstChild;Oi;){if(Oi._nodeType===Qe.NodeType.Element)throw new Ze.HierarchyRequestError("Cannot insert a document type node before an element node. Node is "+fi.nodeName+".");Oi=Oi._nextSibling}}}}function hi(fi,yi,pi){ci(fi,yi,pi);var xi=pi;return xi===fi&&(xi=fi._nextSibling),ui.document_adopt(fi,yi._nodeDocument),mi(fi,yi,xi),fi}function mi(fi,yi,pi,xi){var Si,vi;if(pi!==null||fi._nodeType===Qe.NodeType.DocumentFragment){var Di=fi._nodeType===Qe.NodeType.DocumentFragment?fi._children.size:1;if(pi!==null&&Je.dom.rangeList.size!==0){var Ti=oi.tree_index(pi);try{for(var Fi=Xe(Je.dom.rangeList),Ci=Fi.next();!Ci.done;Ci=Fi.next()){var Ni=Ci.value;Ni._start[0]===yi&&Ni._start[1]>Ti&&(Ni._start[1]+=Di),Ni._end[0]===yi&&Ni._end[1]>Ti&&(Ni._end[1]+=Di)}}catch(tn){Si={error:tn}}finally{try{Ci&&!Ci.done&&(vi=Fi.return)&&vi.call(Fi)}finally{if(Si)throw Si.error}}}var Ri=fi._nodeType===Qe.NodeType.DocumentFragment?new(Array.bind.apply(Array,Ke([void 0],fi._children))):[fi];if(fi._nodeType===Qe.NodeType.DocumentFragment)for(;fi._firstChild;)di(fi._firstChild,fi,!0);Je.dom.features.mutationObservers&&fi._nodeType===Qe.NodeType.DocumentFragment&&ri.observer_queueTreeMutationRecord(fi,[],Ri,null,null);for(var Yi=pi?pi._previousSibling:yi._lastChild,ki=pi===null?-1:oi.tree_index(pi),ji=0;ji<Ri.length;ji++){var Vi=Ri[ji];if(St.Guard.isElementNode(Vi)&&(St.Guard.isDocumentNode(yi)&&(yi._documentElement=Vi),Vi._nodeDocument._hasNamespaces||Vi._namespace===null&&Vi._namespacePrefix===null||(Vi._nodeDocument._hasNamespaces=!0)),Vi._parent=yi,pi===null?ti.set.append(yi._children,Vi):(ti.set.insert(yi._children,Vi,ki),ki++),yi._firstChild===null)Vi._previousSibling=null,Vi._nextSibling=null,yi._firstChild=Vi,yi._lastChild=Vi;else{var Bi=pi?pi._previousSibling:yi._lastChild,Xi=pi||null;Vi._previousSibling=Bi,Vi._nextSibling=Xi,Bi&&(Bi._nextSibling=Vi),Xi&&(Xi._previousSibling=Vi),Bi||(yi._firstChild=Vi),Xi||(yi._lastChild=Vi)}Je.dom.features.slots&&yi._shadowRoot!==null&&St.Guard.isSlotable(Vi)&&si.shadowTree_assignASlot(Vi),Je.dom.features.steps&&St.Guard.isTextNode(Vi)&&ii.dom_runChildTextContentChangeSteps(yi),Je.dom.features.slots&&St.Guard.isShadowRoot(oi.tree_rootNode(yi))&&St.Guard.isSlot(yi)&&ei.isEmpty(yi._assignedNodes)&&si.shadowTree_signalASlotChange(yi),Je.dom.features.slots&&si.shadowTree_assignSlotablesForATree(oi.tree_rootNode(Vi));for(var en=oi.tree_getFirstDescendantNode(Vi,!0,!0);en!==null;)Je.dom.features.steps&&ii.dom_runInsertionSteps(en),Je.dom.features.customElements&&St.Guard.isElementNode(en)&&si.shadowTree_isConnected(en)&&(St.Guard.isCustomElementNode(en)?ni.customElement_enqueueACustomElementCallbackReaction(en,"connectedCallback",[]):ni.customElement_tryToUpgrade(en)),en=oi.tree_getNextDescendantNode(Vi,en,!0,!0)}Je.dom.features.mutationObservers&&(xi||ri.observer_queueTreeMutationRecord(yi,Ri,[],Yi,pi))}else(function(tn,Ji,Li){var wi=Ji._lastChild;if(St.Guard.isElementNode(tn)&&(St.Guard.isDocumentNode(Ji)&&(Ji._documentElement=tn),tn._nodeDocument._hasNamespaces||tn._namespace===null&&tn._namespacePrefix===null||(tn._nodeDocument._hasNamespaces=!0)),tn._parent=Ji,Ji._children.add(tn),Ji._firstChild===null)tn._previousSibling=null,tn._nextSibling=null,Ji._firstChild=tn,Ji._lastChild=tn;else{var _i=Ji._lastChild;tn._previousSibling=_i,tn._nextSibling=null,_i&&(_i._nextSibling=tn),_i||(Ji._firstChild=tn),Ji._lastChild=tn}Je.dom.features.slots&&Ji._shadowRoot!==null&&St.Guard.isSlotable(tn)&&si.shadowTree_assignASlot(tn),Je.dom.features.steps&&St.Guard.isTextNode(tn)&&ii.dom_runChildTextContentChangeSteps(Ji),Je.dom.features.slots&&St.Guard.isShadowRoot(oi.tree_rootNode(Ji))&&St.Guard.isSlot(Ji)&&ei.isEmpty(Ji._assignedNodes)&&si.shadowTree_signalASlotChange(Ji),Je.dom.features.slots&&si.shadowTree_assignSlotablesForATree(oi.tree_rootNode(tn)),Je.dom.features.steps&&ii.dom_runInsertionSteps(tn),Je.dom.features.customElements&&St.Guard.isElementNode(tn)&&si.shadowTree_isConnected(tn)&&(St.Guard.isCustomElementNode(tn)?ni.customElement_enqueueACustomElementCallbackReaction(tn,"connectedCallback",[]):ni.customElement_tryToUpgrade(tn)),Je.dom.features.mutationObservers&&(Li||ri.observer_queueTreeMutationRecord(Ji,[tn],[],wi,null))})(fi,yi,xi)}function di(fi,yi,pi){var xi,Si,vi,Di,Ti,Fi,Ci,Ni;if(Je.dom.rangeList.size!==0){var Ri=oi.tree_index(fi);try{for(var Yi=Xe(Je.dom.rangeList),ki=Yi.next();!ki.done;ki=Yi.next()){var ji=ki.value;oi.tree_isDescendantOf(fi,ji._start[0],!0)&&(ji._start=[yi,Ri]),oi.tree_isDescendantOf(fi,ji._end[0],!0)&&(ji._end=[yi,Ri]),ji._start[0]===yi&&ji._start[1]>Ri&&ji._start[1]--,ji._end[0]===yi&&ji._end[1]>Ri&&ji._end[1]--}}catch(on){xi={error:on}}finally{try{ki&&!ki.done&&(Si=Yi.return)&&Si.call(Yi)}finally{if(xi)throw xi.error}}try{for(var Vi=Xe(Je.dom.rangeList),Bi=Vi.next();!Bi.done;Bi=Vi.next())(ji=Bi.value)._start[0]===yi&&ji._start[1]>Ri&&(ji._start[1]-=1),ji._end[0]===yi&&ji._end[1]>Ri&&(ji._end[1]-=1)}catch(on){vi={error:on}}finally{try{Bi&&!Bi.done&&(Di=Vi.return)&&Di.call(Vi)}finally{if(vi)throw vi.error}}}if(Je.dom.features.steps)try{for(var Xi=Xe(ai.nodeIterator_iteratorList()),en=Xi.next();!en.done;en=Xi.next()){var tn=en.value;tn._root._nodeDocument===fi._nodeDocument&&ii.dom_runNodeIteratorPreRemovingSteps(tn,fi)}}catch(on){Ti={error:on}}finally{try{en&&!en.done&&(Fi=Xi.return)&&Fi.call(Xi)}finally{if(Ti)throw Ti.error}}var Ji=fi._previousSibling,Li=fi._nextSibling;St.Guard.isDocumentNode(yi)&&St.Guard.isElementNode(fi)&&(yi._documentElement=null),fi._parent=null,yi._children.delete(fi);var wi=fi._previousSibling,_i=fi._nextSibling;fi._previousSibling=null,fi._nextSibling=null,wi&&(wi._nextSibling=_i),_i&&(_i._previousSibling=wi),wi||(yi._firstChild=_i),_i||(yi._lastChild=wi),Je.dom.features.slots&&St.Guard.isSlotable(fi)&&fi._assignedSlot!==null&&si.shadowTree_isAssigned(fi)&&si.shadowTree_assignSlotables(fi._assignedSlot),Je.dom.features.slots&&St.Guard.isShadowRoot(oi.tree_rootNode(yi))&&St.Guard.isSlot(yi)&&ei.isEmpty(yi._assignedNodes)&&si.shadowTree_signalASlotChange(yi),Je.dom.features.slots&&oi.tree_getFirstDescendantNode(fi,!0,!1,function(on){return St.Guard.isSlot(on)})!==null&&(si.shadowTree_assignSlotablesForATree(oi.tree_rootNode(yi)),si.shadowTree_assignSlotablesForATree(fi)),Je.dom.features.steps&&ii.dom_runRemovingSteps(fi,yi),Je.dom.features.customElements&&St.Guard.isCustomElementNode(fi)&&ni.customElement_enqueueACustomElementCallbackReaction(fi,"disconnectedCallback",[]);for(var Ai=oi.tree_getFirstDescendantNode(fi,!1,!0);Ai!==null;)Je.dom.features.steps&&ii.dom_runRemovingSteps(Ai,fi),Je.dom.features.customElements&&St.Guard.isCustomElementNode(Ai)&&ni.customElement_enqueueACustomElementCallbackReaction(Ai,"disconnectedCallback",[]),Ai=oi.tree_getNextDescendantNode(fi,Ai,!1,!0);if(Je.dom.features.mutationObservers)for(var Oi=oi.tree_getFirstAncestorNode(yi,!0);Oi!==null;){try{for(var Ii=(Ci=void 0,Xe(Oi._registeredObserverList)),Mi=Ii.next();!Mi.done;Mi=Ii.next()){var Gi=Mi.value;Gi.options.subtree&&fi._registeredObserverList.push({observer:Gi.observer,options:Gi.options,source:Gi})}}catch(on){Ci={error:on}}finally{try{Mi&&!Mi.done&&(Ni=Ii.return)&&Ni.call(Ii)}finally{if(Ci)throw Ci.error}}Oi=oi.tree_getNextAncestorNode(yi,Oi,!0)}Je.dom.features.mutationObservers&&(pi||ri.observer_queueTreeMutationRecord(yi,[],[fi],Ji,Li)),Je.dom.features.steps&&St.Guard.isTextNode(fi)&&ii.dom_runChildTextContentChangeSteps(yi)}ze.mutation_ensurePreInsertionValidity=ci,ze.mutation_preInsert=hi,ze.mutation_insert=mi,ze.mutation_append=function(fi,yi){return hi(fi,yi,null)},ze.mutation_replace=function(fi,yi,pi){var xi,Si,vi,Di,Ti,Fi,Ci,Ni;if(pi._nodeType!==Qe.NodeType.Document&&pi._nodeType!==Qe.NodeType.DocumentFragment&&pi._nodeType!==Qe.NodeType.Element)throw new Ze.HierarchyRequestError("Only document, document fragment and element nodes can contain child nodes. Parent node is "+pi.nodeName+".");if(oi.tree_isHostIncludingAncestorOf(pi,yi,!0))throw new Ze.HierarchyRequestError("The node to be inserted cannot be an ancestor of parent node. Node is "+yi.nodeName+", parent node is "+pi.nodeName+".");if(fi._parent!==pi)throw new Ze.NotFoundError("The reference child node cannot be found under parent node. Child node is "+fi.nodeName+", parent node is "+pi.nodeName+".");if(yi._nodeType!==Qe.NodeType.DocumentFragment&&yi._nodeType!==Qe.NodeType.DocumentType&&yi._nodeType!==Qe.NodeType.Element&&yi._nodeType!==Qe.NodeType.Text&&yi._nodeType!==Qe.NodeType.ProcessingInstruction&&yi._nodeType!==Qe.NodeType.CData&&yi._nodeType!==Qe.NodeType.Comment)throw new Ze.HierarchyRequestError("Only document fragment, document type, element, text, processing instruction, cdata section or comment nodes can be inserted. Node is "+yi.nodeName+".");if(yi._nodeType===Qe.NodeType.Text&&pi._nodeType===Qe.NodeType.Document)throw new Ze.HierarchyRequestError("Cannot insert a text node as a child of a document node. Node is "+yi.nodeName+".");if(yi._nodeType===Qe.NodeType.DocumentType&&pi._nodeType!==Qe.NodeType.Document)throw new Ze.HierarchyRequestError("A document type node can only be inserted under a document node. Parent node is "+pi.nodeName+".");if(pi._nodeType===Qe.NodeType.Document){if(yi._nodeType===Qe.NodeType.DocumentFragment){var Ri=0;try{for(var Yi=Xe(yi._children),ki=Yi.next();!ki.done;ki=Yi.next()){var ji=ki.value;if(ji._nodeType===Qe.NodeType.Element)Ri++;else if(ji._nodeType===Qe.NodeType.Text)throw new Ze.HierarchyRequestError("Cannot insert text a node as a child of a document node. Node is "+ji.nodeName+".")}}catch(Gi){xi={error:Gi}}finally{try{ki&&!ki.done&&(Si=Yi.return)&&Si.call(Yi)}finally{if(xi)throw xi.error}}if(Ri>1)throw new Ze.HierarchyRequestError("A document node can only have one document element node. Document fragment to be inserted has "+Ri+" element nodes.");if(Ri===1){try{for(var Vi=Xe(pi._children),Bi=Vi.next();!Bi.done;Bi=Vi.next())if((wi=Bi.value)._nodeType===Qe.NodeType.Element&&wi!==fi)throw new Ze.HierarchyRequestError("The document node already has a document element node.")}catch(Gi){vi={error:Gi}}finally{try{Bi&&!Bi.done&&(Di=Vi.return)&&Di.call(Vi)}finally{if(vi)throw vi.error}}for(var Xi=fi._nextSibling;Xi;){if(Xi._nodeType===Qe.NodeType.DocumentType)throw new Ze.HierarchyRequestError("Cannot insert an element node before a document type node.");Xi=Xi._nextSibling}}}else if(yi._nodeType===Qe.NodeType.Element){try{for(var en=Xe(pi._children),tn=en.next();!tn.done;tn=en.next())if((wi=tn.value)._nodeType===Qe.NodeType.Element&&wi!==fi)throw new Ze.HierarchyRequestError("Document already has a document element node. Node is "+yi.nodeName+".")}catch(Gi){Ti={error:Gi}}finally{try{tn&&!tn.done&&(Fi=en.return)&&Fi.call(en)}finally{if(Ti)throw Ti.error}}for(Xi=fi._nextSibling;Xi;){if(Xi._nodeType===Qe.NodeType.DocumentType)throw new Ze.HierarchyRequestError("Cannot insert an element node before a document type node. Node is "+yi.nodeName+".");Xi=Xi._nextSibling}}else if(yi._nodeType===Qe.NodeType.DocumentType){try{for(var Ji=Xe(pi._children),Li=Ji.next();!Li.done;Li=Ji.next()){var wi;if((wi=Li.value)._nodeType===Qe.NodeType.DocumentType&&wi!==fi)throw new Ze.HierarchyRequestError("Document already has a document type node. Node is "+yi.nodeName+".")}}catch(Gi){Ci={error:Gi}}finally{try{Li&&!Li.done&&(Ni=Ji.return)&&Ni.call(Ji)}finally{if(Ci)throw Ci.error}}for(var _i=fi._previousSibling;_i;){if(_i._nodeType===Qe.NodeType.Element)throw new Ze.HierarchyRequestError("Cannot insert a document type node before an element node. Node is "+yi.nodeName+".");_i=_i._previousSibling}}}var Ai=fi._nextSibling;Ai===yi&&(Ai=yi._nextSibling);var Oi=fi._previousSibling;ui.document_adopt(yi,pi._nodeDocument);var Ii=[];fi._parent!==null&&(Ii.push(fi),di(fi,fi._parent,!0));var Mi=[];return yi._nodeType===Qe.NodeType.DocumentFragment?Mi=Array.from(yi._children):Mi.push(yi),mi(yi,pi,Ai,!0),Je.dom.features.mutationObservers&&ri.observer_queueTreeMutationRecord(pi,Mi,Ii,Oi,Ai),fi},ze.mutation_replaceAll=function(fi,yi){var pi,xi;fi!==null&&ui.document_adopt(fi,yi._nodeDocument);var Si=Array.from(yi._children),vi=[];fi&&fi._nodeType===Qe.NodeType.DocumentFragment?vi=Array.from(fi._children):fi!==null&&vi.push(fi);try{for(var Di=Xe(Si),Ti=Di.next();!Ti.done;Ti=Di.next())di(Ti.value,yi,!0)}catch(Fi){pi={error:Fi}}finally{try{Ti&&!Ti.done&&(xi=Di.return)&&xi.call(Di)}finally{if(pi)throw pi.error}}fi!==null&&mi(fi,yi,null,!0),Je.dom.features.mutationObservers&&ri.observer_queueTreeMutationRecord(yi,vi,Si,null,null)},ze.mutation_preRemove=function(fi,yi){if(fi._parent!==yi)throw new Ze.NotFoundError("The child node cannot be found under parent node. Child node is "+fi.nodeName+", parent node is "+yi.nodeName+".");return di(fi,yi),fi},ze.mutation_remove=di},function(Ve,ze,qe){function Xe(We){return We==null}Ve.exports.isNothing=Xe,Ve.exports.isObject=function(We){return typeof We=="object"&&We!==null},Ve.exports.toArray=function(We){return Array.isArray(We)?We:Xe(We)?[]:[We]},Ve.exports.repeat=function(We,Ke){var Je,Ze="";for(Je=0;Je<Ke;Je+=1)Ze+=We;return Ze},Ve.exports.isNegativeZero=function(We){return We===0&&Number.NEGATIVE_INFINITY===1/We},Ve.exports.extend=function(We,Ke){var Je,Ze,Qe,St;if(Ke)for(Je=0,Ze=(St=Object.keys(Ke)).length;Je<Ze;Je+=1)We[Qe=St[Je]]=Ke[Qe];return We}},function(Ve,ze,qe){var Xe=qe(38),We=qe(53),Ke=qe(10);function Je(Qe,St,ei){var ti=[];return Qe.include.forEach(function(ni){ei=Je(ni,St,ei)}),Qe[St].forEach(function(ni){ei.forEach(function(oi,ai){oi.tag===ni.tag&&oi.kind===ni.kind&&ti.push(ai)}),ei.push(ni)}),ei.filter(function(ni,oi){return ti.indexOf(oi)===-1})}function Ze(Qe){this.include=Qe.include||[],this.implicit=Qe.implicit||[],this.explicit=Qe.explicit||[],this.implicit.forEach(function(St){if(St.loadKind&&St.loadKind!=="scalar")throw new We("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=Je(this,"implicit",[]),this.compiledExplicit=Je(this,"explicit",[]),this.compiledTypeMap=function(){var St,ei,ti={scalar:{},sequence:{},mapping:{},fallback:{}};function ni(oi){ti[oi.kind][oi.tag]=ti.fallback[oi.tag]=oi}for(St=0,ei=arguments.length;St<ei;St+=1)arguments[St].forEach(ni);return ti}(this.compiledImplicit,this.compiledExplicit)}Ze.DEFAULT=null,Ze.create=function(){var Qe,St;switch(arguments.length){case 1:Qe=Ze.DEFAULT,St=arguments[0];break;case 2:Qe=arguments[0],St=arguments[1];break;default:throw new We("Wrong number of arguments for Schema.create function")}if(Qe=Xe.toArray(Qe),St=Xe.toArray(St),!Qe.every(function(ei){return ei instanceof Ze}))throw new We("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!St.every(function(ei){return ei instanceof Ke}))throw new We("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new Ze({include:Qe,explicit:St})},Ve.exports=Ze},function(Ve,ze){Ve.exports=function(qe,Xe){return{enumerable:!(1&qe),configurable:!(2&qe),writable:!(4&qe),value:Xe}}},function(Ve,ze,qe){var Xe=qe(8),We=qe(42),Ke="".split;Ve.exports=Xe(function(){return!Object("z").propertyIsEnumerable(0)})?function(Je){return We(Je)=="String"?Ke.call(Je,""):Object(Je)}:Object},function(Ve,ze){var qe={}.toString;Ve.exports=function(Xe){return qe.call(Xe).slice(8,-1)}},function(Ve,ze,qe){var Xe,We,Ke,Je=qe(186),Ze=qe(11),Qe=qe(13),St=qe(21),ei=qe(14),ti=qe(57),ni=qe(45),oi=Ze.WeakMap;if(Je){var ai=new oi,si=ai.get,ri=ai.has,ii=ai.set;Xe=function(ci,hi){return ii.call(ai,ci,hi),hi},We=function(ci){return si.call(ai,ci)||{}},Ke=function(ci){return ri.call(ai,ci)}}else{var ui=ti("state");ni[ui]=!0,Xe=function(ci,hi){return St(ci,ui,hi),hi},We=function(ci){return ei(ci,ui)?ci[ui]:{}},Ke=function(ci){return ei(ci,ui)}}Ve.exports={set:Xe,get:We,has:Ke,enforce:function(ci){return Ke(ci)?We(ci):Xe(ci,{})},getterFor:function(ci){return function(hi){var mi;if(!Qe(hi)||(mi=We(hi)).type!==ci)throw TypeError("Incompatible receiver, "+ci+" required");return mi}}}},function(Ve,ze){Ve.exports=!1},function(Ve,ze){Ve.exports={}},function(Ve,ze,qe){var Xe=qe(120),We=qe(11),Ke=function(Je){return typeof Je=="function"?Je:void 0};Ve.exports=function(Je,Ze){return arguments.length<2?Ke(Xe[Je])||Ke(We[Je]):Xe[Je]&&Xe[Je][Ze]||We[Je]&&We[Je][Ze]}},function(Ve,ze){var qe=Math.ceil,Xe=Math.floor;Ve.exports=function(We){return isNaN(We=+We)?0:(We>0?Xe:qe)(We)}},function(Ve,ze,qe){var Xe=qe(8);Ve.exports=function(We,Ke){var Je=[][We];return!!Je&&Xe(function(){Je.call(null,Ke||function(){throw 1},1)})}},function(Ve,ze){Ve.exports={}},function(Ve,ze,qe){qe(31),qe(32),qe(33),qe(220),qe(64),qe(19),qe(65),qe(20),qe(68),qe(66),qe(92),qe(144),qe(22),qe(94),qe(23);var Xe=this&&this.__values||function(oi){var ai=typeof Symbol=="function"&&Symbol.iterator,si=ai&&oi[ai],ri=0;if(si)return si.call(oi);if(oi&&typeof oi.length=="number")return{next:function(){return oi&&ri>=oi.length&&(oi=void 0),{value:oi&&oi[ri++],done:!oi}}};throw new TypeError(ai?"Object is not iterable.":"Symbol.iterator is not defined.")},We=this&&this.__read||function(oi,ai){var si=typeof Symbol=="function"&&oi[Symbol.iterator];if(!si)return oi;var ri,ii,ui=si.call(oi),ci=[];try{for(;(ai===void 0||ai-- >0)&&!(ri=ui.next()).done;)ci.push(ri.value)}catch(hi){ii={error:hi}}finally{try{ri&&!ri.done&&(si=ui.return)&&si.call(ui)}finally{if(ii)throw ii.error}}return ci},Ke=this&&this.__spread||function(){for(var oi=[],ai=0;ai<arguments.length;ai++)oi=oi.concat(We(arguments[ai]));return oi};Object.defineProperty(ze,"__esModule",{value:!0});var Je=qe(1),Ze=qe(69),Qe=qe(95),St=qe(7),ei=qe(0),ti=qe(258),ni=function(){function oi(ai){this.level=0,this._builderOptions=ai}return oi.prototype.declaration=function(ai,si,ri){},oi.prototype.docType=function(ai,si,ri){},oi.prototype.comment=function(ai){},oi.prototype.text=function(ai){},oi.prototype.instruction=function(ai,si){},oi.prototype.cdata=function(ai){},oi.prototype.openTagBegin=function(ai){},oi.prototype.openTagEnd=function(ai,si,ri){},oi.prototype.closeTag=function(ai){},oi.prototype.attributes=function(ai){var si,ri;try{for(var ii=Xe(ai),ui=ii.next();!ui.done;ui=ii.next()){var ci=ui.value;this.attribute(ci[1]===null?ci[2]:ci[1]+":"+ci[2],ci[3])}}catch(hi){si={error:hi}}finally{try{ui&&!ui.done&&(ri=ii.return)&&ri.call(ii)}finally{if(si)throw si.error}}},oi.prototype.attribute=function(ai,si){},oi.prototype.beginElement=function(ai){},oi.prototype.endElement=function(ai){},oi.prototype.serializeNode=function(ai,si){var ri=ai._nodeDocument!==void 0&&ai._nodeDocument._hasNamespaces;if(this.level=0,this.currentNode=ai,ri){var ii=new Qe.NamespacePrefixMap;ii.set("xml",St.namespace.XML),this._serializeNodeNS(ai,null,ii,{value:1},si)}else this._serializeNode(ai,si)},oi.prototype._serializeNodeNS=function(ai,si,ri,ii,ui){switch(this.currentNode=ai,ai.nodeType){case Je.NodeType.Element:this._serializeElementNS(ai,si,ri,ii,ui);break;case Je.NodeType.Document:this._serializeDocumentNS(ai,si,ri,ii,ui);break;case Je.NodeType.Comment:this._serializeComment(ai,ui);break;case Je.NodeType.Text:this._serializeText(ai,ui);break;case Je.NodeType.DocumentFragment:this._serializeDocumentFragmentNS(ai,si,ri,ii,ui);break;case Je.NodeType.DocumentType:this._serializeDocumentType(ai,ui);break;case Je.NodeType.ProcessingInstruction:this._serializeProcessingInstruction(ai,ui);break;case Je.NodeType.CData:this._serializeCData(ai,ui);break;default:throw new Error("Unknown node type: "+ai.nodeType)}},oi.prototype._serializeNode=function(ai,si){switch(this.currentNode=ai,ai.nodeType){case Je.NodeType.Element:this._serializeElement(ai,si);break;case Je.NodeType.Document:this._serializeDocument(ai,si);break;case Je.NodeType.Comment:this._serializeComment(ai,si);break;case Je.NodeType.Text:this._serializeText(ai,si);break;case Je.NodeType.DocumentFragment:this._serializeDocumentFragment(ai,si);break;case Je.NodeType.DocumentType:this._serializeDocumentType(ai,si);break;case Je.NodeType.ProcessingInstruction:this._serializeProcessingInstruction(ai,si);break;case Je.NodeType.CData:this._serializeCData(ai,si);break;default:throw new Error("Unknown node type: "+ai.nodeType)}},oi.prototype._serializeElementNS=function(ai,si,ri,ii,ui){var ci,hi,mi=[];if(ui&&(ai.localName.indexOf(":")!==-1||!ei.xml_isName(ai.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var di="",fi=!1,yi=!1,pi=ri.copy(),xi={},Si=this._recordNamespaceInformation(ai,pi,xi),vi=si,Di=ai.namespaceURI;if(vi===Di)Si!==null&&(yi=!0),di=Di===St.namespace.XML?"xml:"+ai.localName:ai.localName,this.beginElement(di),this.openTagBegin(di);else{var Ti=ai.prefix,Fi=null;if(Ti===null&&Di===Si||(Fi=pi.get(Ti,Di)),Ti==="xmlns"){if(ui)throw new Error("An element cannot have the 'xmlns' prefix (well-formed required).");Fi=Ti}Fi!==null?(di=Fi+":"+ai.localName,Si!==null&&Si!==St.namespace.XML&&(vi=Si||null),this.beginElement(di),this.openTagBegin(di)):Ti!==null?(Ti in xi&&(Ti=this._generatePrefix(Di,pi,ii)),pi.set(Ti,Di),di+=Ti+":"+ai.localName,this.beginElement(di),this.openTagBegin(di),mi.push([null,"xmlns",Ti,this._serializeAttributeValue(Di,ui)]),Si!==null&&(vi=Si||null)):Si===null||Si!==null&&Si!==Di?(yi=!0,di+=ai.localName,vi=Di,this.beginElement(di),this.openTagBegin(di),mi.push([null,null,"xmlns",this._serializeAttributeValue(Di,ui)])):(di+=ai.localName,vi=Di,this.beginElement(di),this.openTagBegin(di))}mi.push.apply(mi,Ke(this._serializeAttributesNS(ai,pi,ii,xi,yi,ui))),this.attributes(mi);var Ci=Di===St.namespace.HTML;if(Ci&&ai.childNodes.length===0&&oi._VoidElementNames.has(ai.localName)?(this.openTagEnd(di,!0,!0),this.endElement(di),fi=!0):Ci||ai.childNodes.length!==0?this.openTagEnd(di,!1,!1):(this.openTagEnd(di,!0,!1),this.endElement(di),fi=!0),!fi){if(!(Ci&&ai.localName==="template"))try{for(var Ni=Xe(ai.childNodes),Ri=Ni.next();!Ri.done;Ri=Ni.next()){var Yi=Ri.value;this.level++,this._serializeNodeNS(Yi,vi,pi,ii,ui),this.level--}}catch(ki){ci={error:ki}}finally{try{Ri&&!Ri.done&&(hi=Ni.return)&&hi.call(Ni)}finally{if(ci)throw ci.error}}this.closeTag(di),this.endElement(di)}},oi.prototype._serializeElement=function(ai,si){var ri,ii;if(si&&(ai.localName.indexOf(":")!==-1||!ei.xml_isName(ai.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var ui=!1,ci=ai.localName;this.beginElement(ci),this.openTagBegin(ci);var hi=this._serializeAttributes(ai,si);if(this.attributes(hi),ai.hasChildNodes()?this.openTagEnd(ci,!1,!1):(this.openTagEnd(ci,!0,!1),this.endElement(ci),ui=!0),!ui){try{for(var mi=Xe(ai._children),di=mi.next();!di.done;di=mi.next()){var fi=di.value;this.level++,this._serializeNode(fi,si),this.level--}}catch(yi){ri={error:yi}}finally{try{di&&!di.done&&(ii=mi.return)&&ii.call(mi)}finally{if(ri)throw ri.error}}this.closeTag(ci),this.endElement(ci)}},oi.prototype._serializeDocumentNS=function(ai,si,ri,ii,ui){var ci,hi;if(ui&&ai.documentElement===null)throw new Error("Missing document element (well-formed required).");try{for(var mi=Xe(ai.childNodes),di=mi.next();!di.done;di=mi.next()){var fi=di.value;this._serializeNodeNS(fi,si,ri,ii,ui)}}catch(yi){ci={error:yi}}finally{try{di&&!di.done&&(hi=mi.return)&&hi.call(mi)}finally{if(ci)throw ci.error}}},oi.prototype._serializeDocument=function(ai,si){var ri,ii;if(si&&ai.documentElement===null)throw new Error("Missing document element (well-formed required).");try{for(var ui=Xe(ai._children),ci=ui.next();!ci.done;ci=ui.next()){var hi=ci.value;this._serializeNode(hi,si)}}catch(mi){ri={error:mi}}finally{try{ci&&!ci.done&&(ii=ui.return)&&ii.call(ui)}finally{if(ri)throw ri.error}}},oi.prototype._serializeComment=function(ai,si){if(si&&(!ei.xml_isLegalChar(ai.data)||ai.data.indexOf("--")!==-1||ai.data.endsWith("-")))throw new Error("Comment data contains invalid characters (well-formed required).");this.comment(ai.data)},oi.prototype._serializeText=function(ai,si){if(si&&!ei.xml_isLegalChar(ai.data))throw new Error("Text data contains invalid characters (well-formed required).");var ri=ai.data.replace(ti.nonEntityAmpersandRegex,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");this.text(ri)},oi.prototype._serializeDocumentFragmentNS=function(ai,si,ri,ii,ui){var ci,hi;try{for(var mi=Xe(ai.childNodes),di=mi.next();!di.done;di=mi.next()){var fi=di.value;this._serializeNodeNS(fi,si,ri,ii,ui)}}catch(yi){ci={error:yi}}finally{try{di&&!di.done&&(hi=mi.return)&&hi.call(mi)}finally{if(ci)throw ci.error}}},oi.prototype._serializeDocumentFragment=function(ai,si){var ri,ii;try{for(var ui=Xe(ai._children),ci=ui.next();!ci.done;ci=ui.next()){var hi=ci.value;this._serializeNode(hi,si)}}catch(mi){ri={error:mi}}finally{try{ci&&!ci.done&&(ii=ui.return)&&ii.call(ui)}finally{if(ri)throw ri.error}}},oi.prototype._serializeDocumentType=function(ai,si){if(si&&!ei.xml_isPubidChar(ai.publicId))throw new Error("DocType public identifier does not match PubidChar construct (well-formed required).");if(si&&(!ei.xml_isLegalChar(ai.systemId)||ai.systemId.indexOf('"')!==-1&&ai.systemId.indexOf("'")!==-1))throw new Error("DocType system identifier contains invalid characters (well-formed required).");this.docType(ai.name,ai.publicId,ai.systemId)},oi.prototype._serializeProcessingInstruction=function(ai,si){if(si&&(ai.target.indexOf(":")!==-1||/^xml$/i.test(ai.target)))throw new Error("Processing instruction target contains invalid characters (well-formed required).");if(si&&(!ei.xml_isLegalChar(ai.data)||ai.data.indexOf("?>")!==-1))throw new Error("Processing instruction data contains invalid characters (well-formed required).");this.instruction(ai.target,ai.data)},oi.prototype._serializeCData=function(ai,si){if(si&&ai.data.indexOf("]]>")!==-1)throw new Error("CDATA contains invalid characters (well-formed required).");this.cdata(ai.data)},oi.prototype._serializeAttributesNS=function(ai,si,ri,ii,ui,ci){var hi,mi,di=[],fi=ci?new Ze.LocalNameSet:void 0;try{for(var yi=Xe(ai.attributes),pi=yi.next();!pi.done;pi=yi.next()){var xi=pi.value;if(ci||ui||xi.namespaceURI!==null){if(ci&&fi&&fi.has(xi.namespaceURI,xi.localName))throw new Error("Element contains duplicate attributes (well-formed required).");ci&&fi&&fi.set(xi.namespaceURI,xi.localName);var Si=xi.namespaceURI,vi=null;if(Si!==null)if(vi=si.get(xi.prefix,Si),Si===St.namespace.XMLNS){if(xi.value===St.namespace.XML||xi.prefix===null&&ui||xi.prefix!==null&&(!(xi.localName in ii)||ii[xi.localName]!==xi.value)&&si.has(xi.localName,xi.value))continue;if(ci&&xi.value===St.namespace.XMLNS)throw new Error("XMLNS namespace is reserved (well-formed required).");if(ci&&xi.value==="")throw new Error("Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required).");xi.prefix==="xmlns"&&(vi="xmlns")}else vi===null&&(vi=xi.prefix===null||si.hasPrefix(xi.prefix)&&!si.has(xi.prefix,Si)?this._generatePrefix(Si,si,ri):xi.prefix,di.push([null,"xmlns",vi,this._serializeAttributeValue(Si,ci)]));if(ci&&(xi.localName.indexOf(":")!==-1||!ei.xml_isName(xi.localName)||xi.localName==="xmlns"&&Si===null))throw new Error("Attribute local name contains invalid characters (well-formed required).");di.push([Si,vi,xi.localName,this._serializeAttributeValue(xi.value,ci)])}else di.push([null,null,xi.localName,this._serializeAttributeValue(xi.value,ci)])}}catch(Di){hi={error:Di}}finally{try{pi&&!pi.done&&(mi=yi.return)&&mi.call(yi)}finally{if(hi)throw hi.error}}return di},oi.prototype._serializeAttributes=function(ai,si){var ri,ii,ui=[],ci=si?{}:void 0;try{for(var hi=Xe(ai.attributes),mi=hi.next();!mi.done;mi=hi.next()){var di=mi.value;if(si){if(si&&ci&&di.localName in ci)throw new Error("Element contains duplicate attributes (well-formed required).");if(si&&ci&&(ci[di.localName]=!0),si&&(di.localName.indexOf(":")!==-1||!ei.xml_isName(di.localName)))throw new Error("Attribute local name contains invalid characters (well-formed required).");ui.push([null,null,di.localName,this._serializeAttributeValue(di.value,si)])}else ui.push([null,null,di.localName,this._serializeAttributeValue(di.value,si)])}}catch(fi){ri={error:fi}}finally{try{mi&&!mi.done&&(ii=hi.return)&&ii.call(hi)}finally{if(ri)throw ri.error}}return ui},oi.prototype._recordNamespaceInformation=function(ai,si,ri){var ii,ui,ci=null;try{for(var hi=Xe(ai.attributes),mi=hi.next();!mi.done;mi=hi.next()){var di=mi.value,fi=di.namespaceURI,yi=di.prefix;if(fi===St.namespace.XMLNS){if(yi===null){ci=di.value;continue}var pi=di.localName,xi=di.value;if(xi===St.namespace.XML||(xi===""&&(xi=null),si.has(pi,xi)))continue;si.set(pi,xi),ri[pi]=xi||""}}}catch(Si){ii={error:Si}}finally{try{mi&&!mi.done&&(ui=hi.return)&&ui.call(hi)}finally{if(ii)throw ii.error}}return ci},oi.prototype._generatePrefix=function(ai,si,ri){var ii="ns"+ri.value.toString();return ri.value++,si.set(ii,ai),ii},oi.prototype._serializeAttributeValue=function(ai,si){if(si&&ai!==null&&!ei.xml_isLegalChar(ai))throw new Error("Invalid characters in attribute value.");return ai===null?"":ai.replace(ti.nonEntityAmpersandRegex,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},oi._VoidElementNames=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),oi}();ze.BaseWriter=ni},function(Ve,ze,qe){var Xe=this&&this.__values||function(ai){var si=typeof Symbol=="function"&&Symbol.iterator,ri=si&&ai[si],ii=0;if(ri)return ri.call(ai);if(ai&&typeof ai.length=="number")return{next:function(){return ai&&ii>=ai.length&&(ai=void 0),{value:ai&&ai[ii++],done:!ai}}};throw new TypeError(si?"Object is not iterable.":"Symbol.iterator is not defined.")},We=this&&this.__read||function(ai,si){var ri=typeof Symbol=="function"&&ai[Symbol.iterator];if(!ri)return ai;var ii,ui,ci=ri.call(ai),hi=[];try{for(;(si===void 0||si-- >0)&&!(ii=ci.next()).done;)hi.push(ii.value)}catch(mi){ui={error:mi}}finally{try{ii&&!ii.done&&(ri=ci.return)&&ri.call(ci)}finally{if(ui)throw ui.error}}return hi};Object.defineProperty(ze,"__esModule",{value:!0});var Ke=qe(6),Je=qe(3),Ze=qe(7),Qe=qe(29),St=qe(17),ei=qe(97);function ti(){var ai=Ke.dom.window;ai._mutationObserverMicrotaskQueued||(ai._mutationObserverMicrotaskQueued=!0,Promise.resolve().then(function(){ni()}))}function ni(){var ai,si,ri,ii,ui=Ke.dom.window;ui._mutationObserverMicrotaskQueued=!1;var ci=Ze.set.clone(ui._mutationObservers),hi=Ze.set.clone(ui._signalSlots);Ze.set.empty(ui._signalSlots);var mi=function(Si){var vi=Ze.list.clone(Si._recordQueue);Ze.list.empty(Si._recordQueue);for(var Di=0;Di<Si._nodeList.length;Di++){var Ti=Si._nodeList[Di];Ze.list.remove(Ti._registeredObserverList,function(Fi){return Je.Guard.isTransientRegisteredObserver(Fi)&&Fi.observer===Si})}if(!Ze.list.isEmpty(vi))try{Si._callback.call(Si,vi,Si)}catch{}};try{for(var di=Xe(ci),fi=di.next();!fi.done;fi=di.next())mi(fi.value)}catch(Si){ai={error:Si}}finally{try{fi&&!fi.done&&(si=di.return)&&si.call(di)}finally{if(ai)throw ai.error}}if(Ke.dom.features.slots)try{for(var yi=Xe(hi),pi=yi.next();!pi.done;pi=yi.next()){var xi=pi.value;ei.event_fireAnEvent("slotchange",xi,void 0,{bubbles:!0})}}catch(Si){ri={error:Si}}finally{try{pi&&!pi.done&&(ii=yi.return)&&ii.call(yi)}finally{if(ri)throw ri.error}}}function oi(ai,si,ri,ii,ui,ci,hi,mi,di){for(var fi,yi,pi=new Map,xi=St.tree_getFirstAncestorNode(si,!0);xi!==null;){for(var Si=0;Si<xi._registeredObserverList.length;Si++){var vi=xi._registeredObserverList[Si],Di=vi.options;if((xi===si||Di.subtree)&&(ai!=="attributes"||Di.attributes)&&(ai!=="attributes"||!Di.attributeFilter||Di.attributeFilter.indexOf(ri||"")&&ii===null)&&(ai!=="characterData"||Di.characterData)&&(ai!=="childList"||Di.childList)){var Ti=vi.observer;pi.has(Ti)||pi.set(Ti,null),(ai==="attributes"&&Di.attributeOldValue||ai==="characterData"&&Di.characterDataOldValue)&&pi.set(Ti,ui)}}xi=St.tree_getNextAncestorNode(si,xi,!0)}try{for(var Fi=Xe(pi),Ci=Fi.next();!Ci.done;Ci=Fi.next()){var Ni=We(Ci.value,2),Ri=Ni[0],Yi=Ni[1],ki=Qe.create_mutationRecord(ai,si,Qe.create_nodeListStatic(si,ci),Qe.create_nodeListStatic(si,hi),mi,di,ri,ii,Yi);Ri._recordQueue.push(ki)}}catch(ji){fi={error:ji}}finally{try{Ci&&!Ci.done&&(yi=Fi.return)&&yi.call(Fi)}finally{if(fi)throw fi.error}}ti()}ze.observer_queueAMutationObserverMicrotask=ti,ze.observer_notifyMutationObservers=ni,ze.observer_queueMutationRecord=oi,ze.observer_queueTreeMutationRecord=function(ai,si,ri,ii,ui){oi("childList",ai,null,null,null,si,ri,ii,ui)},ze.observer_queueAttributeMutationRecord=function(ai,si,ri,ii){oi("attributes",ai,si,ri,ii,[],[],null,null)}},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=qe(6),We=qe(7),Ke=qe(3),Je=qe(9),Ze=qe(29),Qe=qe(73),St=qe(51),ei=qe(30),ti=qe(37),ni=qe(106);function oi(ci,hi,mi){Xe.dom.features.mutationObservers&&St.observer_queueAttributeMutationRecord(hi,ci._localName,ci._namespace,ci._value),Xe.dom.features.customElements&&Ke.Guard.isCustomElementNode(hi)&&Qe.customElement_enqueueACustomElementCallbackReaction(hi,"attributeChangedCallback",[ci._localName,ci._value,mi,ci._namespace]),Xe.dom.features.steps&&ei.dom_runAttributeChangeSteps(hi,ci._localName,ci._value,mi,ci._namespace),ci._value=mi}function ai(ci,hi){Xe.dom.features.mutationObservers&&St.observer_queueAttributeMutationRecord(hi,ci._localName,ci._namespace,null),Xe.dom.features.customElements&&Ke.Guard.isCustomElementNode(hi)&&Qe.customElement_enqueueACustomElementCallbackReaction(hi,"attributeChangedCallback",[ci._localName,null,ci._value,ci._namespace]),Xe.dom.features.steps&&ei.dom_runAttributeChangeSteps(hi,ci._localName,null,ci._value,ci._namespace),hi._attributeList._asArray().push(ci),ci._element=hi,hi._nodeDocument._hasNamespaces||ci._namespace===null&&ci._namespacePrefix===null&&ci._localName!=="xmlns"||(hi._nodeDocument._hasNamespaces=!0)}function si(ci,hi){Xe.dom.features.mutationObservers&&St.observer_queueAttributeMutationRecord(hi,ci._localName,ci._namespace,ci._value),Xe.dom.features.customElements&&Ke.Guard.isCustomElementNode(hi)&&Qe.customElement_enqueueACustomElementCallbackReaction(hi,"attributeChangedCallback",[ci._localName,ci._value,null,ci._namespace]),Xe.dom.features.steps&&ei.dom_runAttributeChangeSteps(hi,ci._localName,ci._value,null,ci._namespace);var mi=hi._attributeList._asArray().indexOf(ci);hi._attributeList._asArray().splice(mi,1),ci._element=null}function ri(ci,hi,mi){Xe.dom.features.mutationObservers&&St.observer_queueAttributeMutationRecord(mi,ci._localName,ci._namespace,ci._value),Xe.dom.features.customElements&&Ke.Guard.isCustomElementNode(mi)&&Qe.customElement_enqueueACustomElementCallbackReaction(mi,"attributeChangedCallback",[ci._localName,ci._value,hi._value,ci._namespace]),Xe.dom.features.steps&&ei.dom_runAttributeChangeSteps(mi,ci._localName,ci._value,hi._value,ci._namespace);var di=mi._attributeList._asArray().indexOf(ci);di!==-1&&(mi._attributeList._asArray()[di]=hi),ci._element=null,hi._element=mi,mi._nodeDocument._hasNamespaces||hi._namespace===null&&hi._namespacePrefix===null&&hi._localName!=="xmlns"||(mi._nodeDocument._hasNamespaces=!0)}function ii(ci,hi){return hi._namespace===We.namespace.HTML&&hi._nodeDocument._type==="html"&&(ci=ci.toLowerCase()),hi._attributeList._asArray().find(function(mi){return mi._qualifiedName===ci})||null}function ui(ci,hi,mi){var di=ci||null;return mi._attributeList._asArray().find(function(fi){return fi._namespace===di&&fi._localName===hi})||null}ze.element_has=function(ci,hi){return hi._attributeList._asArray().indexOf(ci)!==-1},ze.element_change=oi,ze.element_append=ai,ze.element_remove=si,ze.element_replace=ri,ze.element_getAnAttributeByName=ii,ze.element_getAnAttributeByNamespaceAndLocalName=ui,ze.element_getAnAttributeValue=function(ci,hi,mi){mi===void 0&&(mi="");var di=ui(mi,hi,ci);return di===null?"":di._value},ze.element_setAnAttribute=function(ci,hi){if(ci._element!==null&&ci._element!==hi)throw new Je.InUseAttributeError("This attribute already exists in the document: "+ci._qualifiedName+" as a child of "+ci._element._qualifiedName+".");var mi=ui(ci._namespace||"",ci._localName,hi);return mi===ci?ci:(mi!==null?ri(mi,ci,hi):ai(ci,hi),mi)},ze.element_setAnAttributeValue=function(ci,hi,mi,di,fi){di===void 0&&(di=null),fi===void 0&&(fi=null);var yi=ui(fi||"",hi,ci);if(yi===null){var pi=Ze.create_attr(ci._nodeDocument,hi);return pi._namespace=fi,pi._namespacePrefix=di,pi._value=mi,void ai(pi,ci)}oi(yi,ci,mi)},ze.element_removeAnAttributeByName=function(ci,hi){var mi=ii(ci,hi);return mi!==null&&si(mi,hi),mi},ze.element_removeAnAttributeByNamespaceAndLocalName=function(ci,hi,mi){var di=ui(ci,hi,mi);return di!==null&&si(di,mi),di},ze.element_createAnElement=function(ci,hi,mi,di,fi,yi){di===void 0&&(di=null),fi===void 0&&(fi=null),yi===void 0&&(yi=!1);var pi=null;if(!Xe.dom.features.customElements)return(pi=Ze.create_element(ci,hi,mi,di))._customElementState="uncustomized",pi._customElementDefinition=null,pi._is=fi,pi;var xi=Qe.customElement_lookUpACustomElementDefinition(ci,mi,hi,fi);if(xi!==null&&xi.name!==xi.localName)(pi=new(ni.document_elementInterface(hi,We.namespace.HTML)))._localName=hi,pi._namespace=We.namespace.HTML,pi._namespacePrefix=di,pi._customElementState="undefined",pi._customElementDefinition=null,pi._is=fi,pi._nodeDocument=ci,yi?Qe.customElement_upgrade(xi,pi):Qe.customElement_enqueueACustomElementUpgradeReaction(pi,xi);else if(xi!==null)if(yi)try{var Si=new xi.constructor;if(console.assert(Si._customElementState!==void 0),console.assert(Si._customElementDefinition!==void 0),console.assert(Si._namespace===We.namespace.HTML),Si._attributeList.length!==0)throw new Je.NotSupportedError("Custom element already has attributes.");if(Si._children.size!==0)throw new Je.NotSupportedError("Custom element already has child nodes.");if(Si._parent!==null)throw new Je.NotSupportedError("Custom element already has a parent node.");if(Si._nodeDocument!==ci)throw new Je.NotSupportedError("Custom element is already in a document.");if(Si._localName!==hi)throw new Je.NotSupportedError("Custom element has a different local name.");Si._namespacePrefix=di,Si._is=null}catch{(pi=Ze.create_htmlUnknownElement(ci,hi,We.namespace.HTML,di))._customElementState="failed",pi._customElementDefinition=null,pi._is=null}else(pi=Ze.create_htmlElement(ci,hi,We.namespace.HTML,di))._customElementState="undefined",pi._customElementDefinition=null,pi._is=null,Qe.customElement_enqueueACustomElementUpgradeReaction(pi,xi);else(pi=new(ni.document_elementInterface(hi,mi)))._localName=hi,pi._namespace=mi,pi._namespacePrefix=di,pi._customElementState="uncustomized",pi._customElementDefinition=null,pi._is=fi,pi._nodeDocument=ci,mi!==We.namespace.HTML||fi===null&&!Qe.customElement_isValidCustomElementName(hi)||(pi._customElementState="undefined");if(pi===null)throw new Error("Unable to create element.");return pi},ze.element_insertAdjacent=function(ci,hi,mi){switch(hi.toLowerCase()){case"beforebegin":return ci._parent===null?null:ti.mutation_preInsert(mi,ci._parent,ci);case"afterbegin":return ti.mutation_preInsert(mi,ci,ci._firstChild);case"beforeend":return ti.mutation_preInsert(mi,ci,null);case"afterend":return ci._parent===null?null:ti.mutation_preInsert(mi,ci._parent,ci._nextSibling);default:throw new Je.SyntaxError(`Invalid 'where' argument. "beforebegin", "afterbegin", "beforeend" or "afterend" expected`)}}},function(Ve,ze,qe){function Xe(We,Ke){Error.call(this),this.name="YAMLException",this.reason=We,this.mark=Ke,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Xe.prototype=Object.create(Error.prototype),Xe.prototype.constructor=Xe,Xe.prototype.toString=function(We){var Ke=this.name+": ";return Ke+=this.reason||"(unknown reason)",!We&&this.mark&&(Ke+=" "+this.mark.toString()),Ke},Ve.exports=Xe},function(Ve,ze,qe){var Xe=qe(39);Ve.exports=new Xe({include:[qe(181)],implicit:[qe(294),qe(295)],explicit:[qe(296),qe(297),qe(298),qe(299)]})},function(Ve,ze,qe){var Xe=qe(16),We=qe(79),Ke=qe(40),Je=qe(24),Ze=qe(56),Qe=qe(14),St=qe(115),ei=Object.getOwnPropertyDescriptor;ze.f=Xe?ei:function(ti,ni){if(ti=Je(ti),ni=Ze(ni,!0),St)try{return ei(ti,ni)}catch{}if(Qe(ti,ni))return Ke(!We.f.call(ti,ni),ti[ni])}},function(Ve,ze,qe){var Xe=qe(13);Ve.exports=function(We,Ke){if(!Xe(We))return We;var Je,Ze;if(Ke&&typeof(Je=We.toString)=="function"&&!Xe(Ze=Je.call(We))||typeof(Je=We.valueOf)=="function"&&!Xe(Ze=Je.call(We))||!Ke&&typeof(Je=We.toString)=="function"&&!Xe(Ze=Je.call(We)))return Ze;throw TypeError("Can't convert object to primitive value")}},function(Ve,ze,qe){var Xe=qe(81),We=qe(58),Ke=Xe("keys");Ve.exports=function(Je){return Ke[Je]||(Ke[Je]=We(Je))}},function(Ve,ze){var qe=0,Xe=Math.random();Ve.exports=function(We){return"Symbol("+String(We===void 0?"":We)+")_"+(++qe+Xe).toString(36)}},function(Ve,ze,qe){var Xe=qe(42);Ve.exports=Array.isArray||function(We){return Xe(We)=="Array"}},function(Ve,ze,qe){var Xe,We=qe(18),Ke=qe(188),Je=qe(84),Ze=qe(45),Qe=qe(189),St=qe(116),ei=qe(57),ti=ei("IE_PROTO"),ni=function(){},oi=function(si){return"<script>"+si+"<\/script>"},ai=function(){try{Xe=document.domain&&new ActiveXObject("htmlfile")}catch{}var si,ri;ai=Xe?function(ui){ui.write(oi("")),ui.close();var ci=ui.parentWindow.Object;return ui=null,ci}(Xe):((ri=St("iframe")).style.display="none",Qe.appendChild(ri),ri.src="javascript:",(si=ri.contentWindow.document).open(),si.write(oi("document.F=Object")),si.close(),si.F);for(var ii=Je.length;ii--;)delete ai.prototype[Je[ii]];return ai()};Ze[ti]=!0,Ve.exports=Object.create||function(si,ri){var ii;return si!==null?(ni.prototype=We(si),ii=new ni,ni.prototype=null,ii[ti]=si):ii=ai(),ri===void 0?ii:Ke(ii,ri)}},function(Ve,ze,qe){var Xe=qe(121),We=qe(84);Ve.exports=Object.keys||function(Ke){return Xe(Ke,We)}},function(Ve,ze,qe){var Xe=qe(15).f,We=qe(14),Ke=qe(5)("toStringTag");Ve.exports=function(Je,Ze,Qe){Je&&!We(Je=Qe?Je:Je.prototype,Ke)&&Xe(Je,Ke,{configurable:!0,value:Ze})}},function(Ve,ze,qe){var Xe=qe(8),We=qe(5),Ke=qe(129),Je=We("species");Ve.exports=function(Ze){return Ke>=51||!Xe(function(){var Qe=[];return(Qe.constructor={})[Je]=function(){return{foo:1}},Qe[Ze](Boolean).foo!==1})}},function(Ve,ze,qe){var Xe=qe(4),We=qe(122).indexOf,Ke=qe(48),Je=qe(28),Ze=[].indexOf,Qe=!!Ze&&1/[1].indexOf(1,-0)<0,St=Ke("indexOf"),ei=Je("indexOf",{ACCESSORS:!0,1:0});Xe({target:"Array",proto:!0,forced:Qe||!St||!ei},{indexOf:function(ti){return Qe?Ze.apply(this,arguments)||0:We(this,ti,arguments.length>1?arguments[1]:void 0)}})},function(Ve,ze,qe){var Xe=qe(16),We=qe(15).f,Ke=Function.prototype,Je=Ke.toString,Ze=/^\s*function ([^ (]*)/;Xe&&!("name"in Ke)&&We(Ke,"name",{configurable:!0,get:function(){try{return Je.call(this).match(Ze)[1]}catch{return""}}})},function(Ve,ze,qe){var Xe=qe(25),We=qe(18),Ke=qe(8),Je=qe(136),Ze=RegExp.prototype,Qe=Ze.toString,St=Ke(function(){return Qe.call({source:"a",flags:"b"})!="/a/b"}),ei=Qe.name!="toString";(St||ei)&&Xe(RegExp.prototype,"toString",function(){var ti=We(this),ni=String(ti.source),oi=ti.flags;return"/"+ni+"/"+String(oi===void 0&&ti instanceof RegExp&&!("flags"in Ze)?Je.call(ti):oi)},{unsafe:!0})},function(Ve,ze,qe){qe(31),qe(32),qe(33),qe(19),qe(138),qe(20),qe(66),qe(22),qe(23);var Xe,We=this&&this.__extends||(Xe=function(St,ei){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ti,ni){ti.__proto__=ni}||function(ti,ni){for(var oi in ni)ni.hasOwnProperty(oi)&&(ti[oi]=ni[oi])})(St,ei)},function(St,ei){function ti(){this.constructor=St}Xe(St,ei),St.prototype=ei===null?Object.create(ei):(ti.prototype=ei.prototype,new ti)}),Ke=this&&this.__values||function(St){var ei=typeof Symbol=="function"&&Symbol.iterator,ti=ei&&St[ei],ni=0;if(ti)return ti.call(St);if(St&&typeof St.length=="number")return{next:function(){return St&&ni>=St.length&&(St=void 0),{value:St&&St[ni++],done:!St}}};throw new TypeError(ei?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ze,"__esModule",{value:!0});var Je=qe(2),Ze=qe(1),Qe=function(St){function ei(ti,ni){var oi=St.call(this,ti)||this;return oi._writerOptions=Je.applyDefaults(ni,{format:"object",wellFormed:!1,group:!1,verbose:!1}),oi}return We(ei,St),ei.prototype.serialize=function(ti){return this._currentList=[],this._currentIndex=0,this._listRegister=[this._currentList],this.serializeNode(ti,this._writerOptions.wellFormed),this._process(this._currentList,this._writerOptions)},ei.prototype._process=function(ti,ni){var oi,ai,si,ri,ii,ui,ci;if(ti.length===0)return{};for(var hi={},mi=!1,di=0,fi=0,yi=0,pi=0,xi=0;xi<ti.length;xi++){var Si=ti[xi];switch(Ji=Object.keys(Si)[0]){case"@":continue;case"#":di++;break;case"!":fi++;break;case"?":yi++;break;case"$":pi++;break;default:hi[Ji]?mi=!0:hi[Ji]=!0}}var vi=this._getAttrKey(),Di=this._getNodeKey(Ze.NodeType.Text),Ti=this._getNodeKey(Ze.NodeType.Comment),Fi=this._getNodeKey(Ze.NodeType.ProcessingInstruction),Ci=this._getNodeKey(Ze.NodeType.CData);if(di===1&&ti.length===1&&Je.isString(ti[0]["#"]))return ti[0]["#"];if(mi){var Ni={};for(xi=0;xi<ti.length;xi++)if(Si=ti[xi],(Ji=Object.keys(Si)[0])==="@"){var Ri=Si["@"];(Li=Object.keys(Ri)).length===1?Ni[vi+Li[0]]=Ri[Li[0]]:Ni[vi]=Si["@"]}var Yi=[];for(xi=0;xi<ti.length;xi++)switch(Si=ti[xi],Ji=Object.keys(Si)[0]){case"@":break;case"#":Yi.push(((oi={})[Di]=Si["#"],oi));break;case"!":Yi.push(((ai={})[Ti]=Si["!"],ai));break;case"?":Yi.push(((si={})[Fi]=Si["?"],si));break;case"$":Yi.push(((ri={})[Ci]=Si.$,ri));break;default:if((_i=Si)[Ji].length!==0&&Je.isArray(_i[Ji][0])){for(var ki=[],ji=_i[Ji],Vi=0;Vi<ji.length;Vi++)ki.push(this._process(ji[Vi],ni));Yi.push(((ii={})[Ji]=ki,ii))}else ni.verbose?Yi.push(((ui={})[Ji]=[this._process(_i[Ji],ni)],ui)):Yi.push(((ci={})[Ji]=this._process(_i[Ji],ni),ci))}return Ni[Di]=Yi,Ni}var Bi=1,Xi=1,en=1,tn=1;for(Ni={},xi=0;xi<ti.length;xi++){var Ji;switch(Si=ti[xi],Ji=Object.keys(Si)[0]){case"@":Ri=Si["@"];var Li=Object.keys(Ri);if(ni.group&&Li.length!==1)Ni[vi]=Ri;else for(var wi in Ri)Ni[vi+wi]=Ri[wi];break;case"#":Bi=this._processSpecItem(Si["#"],Ni,ni.group,Di,di,Bi);break;case"!":Xi=this._processSpecItem(Si["!"],Ni,ni.group,Ti,fi,Xi);break;case"?":en=this._processSpecItem(Si["?"],Ni,ni.group,Fi,yi,en);break;case"$":tn=this._processSpecItem(Si.$,Ni,ni.group,Ci,pi,tn);break;default:var _i;if((_i=Si)[Ji].length!==0&&Je.isArray(_i[Ji][0])){ki=[],ji=_i[Ji];for(var Ai=0;Ai<ji.length;Ai++)ki.push(this._process(ji[Ai],ni));Ni[Ji]=ki}else ni.verbose?Ni[Ji]=[this._process(_i[Ji],ni)]:Ni[Ji]=this._process(_i[Ji],ni)}}return Ni},ei.prototype._processSpecItem=function(ti,ni,oi,ai,si,ri){var ii,ui;if(!oi&&Je.isArray(ti)&&si+ti.length>2)try{for(var ci=Ke(ti),hi=ci.next();!hi.done;hi=ci.next()){var mi=hi.value;ni[ai+(ri++).toString()]=mi}}catch(di){ii={error:di}}finally{try{hi&&!hi.done&&(ui=ci.return)&&ui.call(ci)}finally{if(ii)throw ii.error}}else ni[si>1?ai+(ri++).toString():ai]=ti;return ri},ei.prototype.beginElement=function(ti){var ni,oi,ai=[];if(this._currentList.length===0)this._currentList.push(((ni={})[ti]=ai,ni));else{var si=this._currentList[this._currentList.length-1];this._isElementNode(si,ti)?si[ti].length!==0&&Je.isArray(si[ti][0])?si[ti].push(ai):si[ti]=[si[ti],ai]:this._currentList.push(((oi={})[ti]=ai,oi))}this._currentIndex++,this._listRegister.length>this._currentIndex?this._listRegister[this._currentIndex]=ai:this._listRegister.push(ai),this._currentList=ai},ei.prototype.endElement=function(){this._currentList=this._listRegister[--this._currentIndex]},ei.prototype.attribute=function(ti,ni){var oi,ai;if(this._currentList.length===0)this._currentList.push({"@":(oi={},oi[ti]=ni,oi)});else{var si=this._currentList[this._currentList.length-1];this._isAttrNode(si)?si["@"][ti]=ni:this._currentList.push({"@":(ai={},ai[ti]=ni,ai)})}},ei.prototype.comment=function(ti){if(this._currentList.length===0)this._currentList.push({"!":ti});else{var ni=this._currentList[this._currentList.length-1];this._isCommentNode(ni)?Je.isArray(ni["!"])?ni["!"].push(ti):ni["!"]=[ni["!"],ti]:this._currentList.push({"!":ti})}},ei.prototype.text=function(ti){if(this._currentList.length===0)this._currentList.push({"#":ti});else{var ni=this._currentList[this._currentList.length-1];this._isTextNode(ni)?Je.isArray(ni["#"])?ni["#"].push(ti):ni["#"]=[ni["#"],ti]:this._currentList.push({"#":ti})}},ei.prototype.instruction=function(ti,ni){var oi=ni===""?ti:ti+" "+ni;if(this._currentList.length===0)this._currentList.push({"?":oi});else{var ai=this._currentList[this._currentList.length-1];this._isInstructionNode(ai)?Je.isArray(ai["?"])?ai["?"].push(oi):ai["?"]=[ai["?"],oi]:this._currentList.push({"?":oi})}},ei.prototype.cdata=function(ti){if(this._currentList.length===0)this._currentList.push({$:ti});else{var ni=this._currentList[this._currentList.length-1];this._isCDATANode(ni)?Je.isArray(ni.$)?ni.$.push(ti):ni.$=[ni.$,ti]:this._currentList.push({$:ti})}},ei.prototype._isAttrNode=function(ti){return"@"in ti},ei.prototype._isTextNode=function(ti){return"#"in ti},ei.prototype._isCommentNode=function(ti){return"!"in ti},ei.prototype._isInstructionNode=function(ti){return"?"in ti},ei.prototype._isCDATANode=function(ti){return"$"in ti},ei.prototype._isElementNode=function(ti,ni){return ni in ti},ei.prototype._getAttrKey=function(){return this._builderOptions.convert.att},ei.prototype._getNodeKey=function(ti){switch(ti){case Ze.NodeType.Comment:return this._builderOptions.convert.comment;case Ze.NodeType.Text:return this._builderOptions.convert.text;case Ze.NodeType.ProcessingInstruction:return this._builderOptions.convert.ins;case Ze.NodeType.CData:return this._builderOptions.convert.cdata;default:throw new Error("Invalid node type.")}},ei}(qe(50).BaseWriter);ze.ObjectWriter=Qe},function(Ve,ze,qe){var Xe=qe(4),We=qe(93);Xe({target:"RegExp",proto:!0,forced:/./.exec!==We},{exec:We})},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=function(){function We(){this._items={},this._nullItems={}}return We.prototype.set=function(Ke,Je){Ke===null?this._nullItems[Je]=!0:(this._items[Ke]||(this._items[Ke]={}),this._items[Ke][Je]=!0)},We.prototype.has=function(Ke,Je){return Ke===null?this._nullItems[Je]===!0:!!this._items[Ke]&&this._items[Ke][Je]===!0},We}();ze.LocalNameSet=Xe},function(Ve,ze,qe){var Xe=this&&this.__read||function(Qe,St){var ei=typeof Symbol=="function"&&Qe[Symbol.iterator];if(!ei)return Qe;var ti,ni,oi=ei.call(Qe),ai=[];try{for(;(St===void 0||St-- >0)&&!(ti=oi.next()).done;)ai.push(ti.value)}catch(si){ni={error:si}}finally{try{ti&&!ti.done&&(ei=oi.return)&&ei.call(oi)}finally{if(ni)throw ni.error}}return ai};Object.defineProperty(ze,"__esModule",{value:!0});var We=qe(9),Ke=qe(3),Je=qe(0),Ze=function(){function Qe(){}return Object.defineProperty(Qe.prototype,"_eventListenerList",{get:function(){return this.__eventListenerList||(this.__eventListenerList=[])},enumerable:!0,configurable:!0}),Object.defineProperty(Qe.prototype,"_eventHandlerMap",{get:function(){return this.__eventHandlerMap||(this.__eventHandlerMap={})},enumerable:!0,configurable:!0}),Qe.prototype.addEventListener=function(St,ei,ti){ti===void 0&&(ti={passive:!1,once:!1,capture:!1});var ni,oi=Xe(Je.eventTarget_flattenMore(ti),3),ai=oi[0],si=oi[1],ri=oi[2];ei&&(ni=Ke.Guard.isEventListener(ei)?ei:{handleEvent:ei},Je.eventTarget_addEventListener(this,{type:St,callback:ni,capture:ai,passive:si,once:ri,removed:!1}))},Qe.prototype.removeEventListener=function(St,ei,ti){ti===void 0&&(ti={capture:!1});var ni=Je.eventTarget_flatten(ti);if(ei)for(var oi=0;oi<this._eventListenerList.length;oi++){var ai=this._eventListenerList[oi];if(ai.type===St&&ai.capture===ni){if(Ke.Guard.isEventListener(ei)&&ai.callback===ei){Je.eventTarget_removeEventListener(this,ai,oi);break}if(ei&&ai.callback.handleEvent===ei){Je.eventTarget_removeEventListener(this,ai,oi);break}}}},Qe.prototype.dispatchEvent=function(St){if(St._dispatchFlag||!St._initializedFlag)throw new We.InvalidStateError;return St._isTrusted=!1,Je.event_dispatch(St,this)},Qe.prototype._getTheParent=function(St){return null},Qe}();ze.EventTargetImpl=Ze},function(Ve,ze,qe){var Xe,We=this&&this.__extends||(Xe=function(Qe,St){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ei,ti){ei.__proto__=ti}||function(ei,ti){for(var ni in ti)ti.hasOwnProperty(ni)&&(ei[ni]=ti[ni])})(Qe,St)},function(Qe,St){function ei(){this.constructor=Qe}Xe(Qe,St),Qe.prototype=St===null?Object.create(St):(ei.prototype=St.prototype,new ei)});Object.defineProperty(ze,"__esModule",{value:!0});var Ke=qe(34),Je=qe(0),Ze=function(Qe){function St(ei){var ti=Qe.call(this)||this;return ti._data=ei,ti}return We(St,Qe),Object.defineProperty(St.prototype,"data",{get:function(){return this._data},set:function(ei){Je.characterData_replaceData(this,0,this._data.length,ei)},enumerable:!0,configurable:!0}),Object.defineProperty(St.prototype,"length",{get:function(){return this._data.length},enumerable:!0,configurable:!0}),St.prototype.substringData=function(ei,ti){return Je.characterData_substringData(this,ei,ti)},St.prototype.appendData=function(ei){return Je.characterData_replaceData(this,this._data.length,0,ei)},St.prototype.insertData=function(ei,ti){Je.characterData_replaceData(this,ei,0,ti)},St.prototype.deleteData=function(ei,ti){Je.characterData_replaceData(this,ei,ti,"")},St.prototype.replaceData=function(ei,ti,ni){Je.characterData_replaceData(this,ei,ti,ni)},Object.defineProperty(St.prototype,"previousElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(St.prototype,"nextElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),St.prototype.before=function(){for(var ei=[],ti=0;ti<arguments.length;ti++)ei[ti]=arguments[ti];throw new Error("Mixin: ChildNode not implemented.")},St.prototype.after=function(){for(var ei=[],ti=0;ti<arguments.length;ti++)ei[ti]=arguments[ti];throw new Error("Mixin: ChildNode not implemented.")},St.prototype.replaceWith=function(){for(var ei=[],ti=0;ti<arguments.length;ti++)ei[ti]=arguments[ti];throw new Error("Mixin: ChildNode not implemented.")},St.prototype.remove=function(){throw new Error("Mixin: ChildNode not implemented.")},St}(Ke.NodeImpl);ze.CharacterDataImpl=Ze},function(Ve,ze,qe){var Xe=this&&this.__values||function(si){var ri=typeof Symbol=="function"&&Symbol.iterator,ii=ri&&si[ri],ui=0;if(ii)return ii.call(si);if(si&&typeof si.length=="number")return{next:function(){return si&&ui>=si.length&&(si=void 0),{value:si&&si[ui++],done:!si}}};throw new TypeError(ri?"Object is not iterable.":"Symbol.iterator is not defined.")},We=this&&this.__read||function(si,ri){var ii=typeof Symbol=="function"&&si[Symbol.iterator];if(!ii)return si;var ui,ci,hi=ii.call(si),mi=[];try{for(;(ri===void 0||ri-- >0)&&!(ui=hi.next()).done;)mi.push(ui.value)}catch(di){ci={error:di}}finally{try{ui&&!ui.done&&(ii=hi.return)&&ii.call(hi)}finally{if(ci)throw ci.error}}return mi},Ke=this&&this.__spread||function(){for(var si=[],ri=0;ri<arguments.length;ri++)si=si.concat(We(arguments[ri]));return si};Object.defineProperty(ze,"__esModule",{value:!0});var Je=qe(6),Ze=qe(3),Qe=qe(2),St=qe(17),ei=qe(51);function ti(si){Je.dom.window._signalSlots.add(si),ei.observer_queueAMutationObserverMicrotask()}function ni(si,ri){ri===void 0&&(ri=!1);var ii=Ze.Cast.asNode(si)._parent;if(ii===null)return null;var ui=ii._shadowRoot||null;if(ui===null||ri&&ui._mode!=="open")return null;for(var ci=St.tree_getFirstDescendantNode(ui,!1,!0,function(hi){return Ze.Guard.isSlot(hi)});ci!==null;){if(ci._name===si._name)return ci;ci=St.tree_getNextDescendantNode(ui,ci,!1,!0,function(hi){return Ze.Guard.isSlot(hi)})}return null}function oi(si){var ri,ii,ui=[],ci=St.tree_rootNode(si);if(!Ze.Guard.isShadowRoot(ci))return ui;var hi=ci._host;try{for(var mi=Xe(hi._children),di=mi.next();!di.done;di=mi.next()){var fi=di.value;Ze.Guard.isSlotable(fi)&&ni(fi)===si&&ui.push(fi)}}catch(yi){ri={error:yi}}finally{try{di&&!di.done&&(ii=mi.return)&&ii.call(mi)}finally{if(ri)throw ri.error}}return ui}function ai(si){var ri,ii,ui=oi(si);if(ui.length===si._assignedNodes.length){for(var ci=!0,hi=0;hi<ui.length;hi++)if(ui[hi]!==si._assignedNodes[hi]){ci=!1;break}ci||ti(si)}si._assignedNodes=ui;try{for(var mi=Xe(ui),di=mi.next();!di.done;di=mi.next())di.value._assignedSlot=si}catch(fi){ri={error:fi}}finally{try{di&&!di.done&&(ii=mi.return)&&ii.call(mi)}finally{if(ri)throw ri.error}}}ze.shadowTree_signalASlotChange=ti,ze.shadowTree_isConnected=function(si){return Ze.Guard.isDocumentNode(St.tree_rootNode(si,!0))},ze.shadowTree_isAssigned=function(si){return si._assignedSlot!==null},ze.shadowTree_findASlot=ni,ze.shadowTree_findSlotables=oi,ze.shadowTree_findFlattenedSlotables=function si(ri){var ii,ui,ci,hi,mi=[],di=St.tree_rootNode(ri);if(!Ze.Guard.isShadowRoot(di))return mi;var fi=oi(ri);if(Qe.isEmpty(fi))try{for(var yi=Xe(ri._children),pi=yi.next();!pi.done;pi=yi.next()){var xi=pi.value;Ze.Guard.isSlotable(xi)&&fi.push(xi)}}catch(Fi){ii={error:Fi}}finally{try{pi&&!pi.done&&(ui=yi.return)&&ui.call(yi)}finally{if(ii)throw ii.error}}try{for(var Si=Xe(fi),vi=Si.next();!vi.done;vi=Si.next()){var Di=vi.value;if(Ze.Guard.isSlot(Di)&&Ze.Guard.isShadowRoot(St.tree_rootNode(Di))){var Ti=si(Di);mi.push.apply(mi,Ke(Ti))}else mi.push(Di)}}catch(Fi){ci={error:Fi}}finally{try{vi&&!vi.done&&(hi=Si.return)&&hi.call(Si)}finally{if(ci)throw ci.error}}return mi},ze.shadowTree_assignSlotables=ai,ze.shadowTree_assignSlotablesForATree=function(si){for(var ri=St.tree_getFirstDescendantNode(si,!0,!1,function(ii){return Ze.Guard.isSlot(ii)});ri!==null;)ai(ri),ri=St.tree_getNextDescendantNode(si,ri,!0,!1,function(ii){return Ze.Guard.isSlot(ii)})},ze.shadowTree_assignASlot=function(si){var ri=ni(si);ri!==null&&ai(ri)}},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=/[a-z]([\0-\t\x2D\._a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*-([\0-\t\x2D\._a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*/,We=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]),Ke=new Set(["article","aside","blockquote","body","div","footer","h1","h2","h3","h4","h5","h6","header","main","nav","p","section","span"]),Je=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),Ze=new Set(["article","aside","blockquote","body","div","footer","h1","h2","h3","h4","h5","h6","header","main","nav","p","section","span"]);ze.customElement_isValidCustomElementName=function(Qe){return!!Xe.test(Qe)&&!We.has(Qe)},ze.customElement_isValidElementName=function(Qe){return Ke.has(Qe)},ze.customElement_isVoidElementName=function(Qe){return Je.has(Qe)},ze.customElement_isValidShadowHostName=function(Qe){return Ze.has(Qe)},ze.customElement_enqueueACustomElementUpgradeReaction=function(Qe,St){},ze.customElement_enqueueACustomElementCallbackReaction=function(Qe,St,ei){},ze.customElement_upgrade=function(Qe,St){},ze.customElement_tryToUpgrade=function(Qe){},ze.customElement_lookUpACustomElementDefinition=function(Qe,St,ei,ti){return null}},function(Ve,ze,qe){qe(4)({target:"String",proto:!0},{repeat:qe(260)})},function(Ve,ze,qe){qe(279),qe(68),qe(179),qe(94),Object.defineProperty(ze,"__esModule",{value:!0});var Xe=qe(109),We=function(){function Ke(Je){this._builderOptions=Je,Je.parser&&Object.assign(this,Je.parser)}return Ke.prototype._docType=function(Je,Ze,Qe,St){return Je.dtd({name:Ze,pubID:Qe,sysID:St})},Ke.prototype._comment=function(Je,Ze){return Je.com(Ze)},Ke.prototype._text=function(Je,Ze){return Je.txt(Ze)},Ke.prototype._instruction=function(Je,Ze,Qe){return Je.ins(Ze,Qe)},Ke.prototype._cdata=function(Je,Ze){return Je.dat(Ze)},Ke.prototype._element=function(Je,Ze,Qe){return Ze===void 0?Je.ele(Qe):Je.ele(Ze,Qe)},Ke.prototype._attribute=function(Je,Ze,Qe,St){return Ze===void 0?Je.att(Qe,St):Je.att(Ze,Qe,St)},Ke.prototype._sanitize=function(Je){return Xe.sanitizeInput(Je,this._builderOptions.invalidCharReplacement)},Ke.prototype._decodeText=function(Je){return Je==null?Je:Je.replace(/&(quot|amp|apos|lt|gt);/g,function(Ze,Qe){return Ke._entityTable[Qe]}).replace(/&#(?:x([a-fA-F0-9]+)|([0-9]+));/g,function(Ze,Qe,St){return String.fromCodePoint(parseInt(Qe||St,Qe?16:10))})},Ke.prototype._decodeAttributeValue=function(Je){return this._decodeText(Je)},Ke.prototype.parse=function(Je,Ze){return this._parse(Je,Ze)},Ke.prototype.docType=function(Je,Ze,Qe,St){return this._docType(Je,Ze,Qe,St)},Ke.prototype.comment=function(Je,Ze){return this._comment(Je,Ze)},Ke.prototype.text=function(Je,Ze){return this._text(Je,Ze)},Ke.prototype.instruction=function(Je,Ze,Qe){return this._instruction(Je,Ze,Qe)},Ke.prototype.cdata=function(Je,Ze){return this._cdata(Je,Ze)},Ke.prototype.element=function(Je,Ze,Qe){return this._element(Je,Ze,Qe)},Ke.prototype.attribute=function(Je,Ze,Qe,St){return this._attribute(Je,Ze,Qe,St)},Ke.prototype.sanitize=function(Je){return this._sanitize(Je)},Ke._entityTable={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"},Ke}();ze.BaseReader=We},function(Ve,ze,qe){var Xe=qe(39);Ve.exports=Xe.DEFAULT=new Xe({include:[qe(54)],explicit:[qe(300),qe(301),qe(302)]})},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=qe(185);ze.XMLBuilderImpl=Xe.XMLBuilderImpl;var We=qe(305);ze.XMLBuilderCBImpl=We.XMLBuilderCBImpl;var Ke=qe(183);ze.builder=Ke.builder,ze.create=Ke.create,ze.fragment=Ke.fragment,ze.convert=Ke.convert;var Je=qe(310);ze.createCB=Je.createCB,ze.fragmentCB=Je.fragmentCB},function(Ve,ze){var qe;qe=function(){return this}();try{qe=qe||new Function("return this")()}catch{typeof window=="object"&&(qe=window)}Ve.exports=qe},function(Ve,ze,qe){var Xe={}.propertyIsEnumerable,We=Object.getOwnPropertyDescriptor,Ke=We&&!Xe.call({1:2},1);ze.f=Ke?function(Je){var Ze=We(this,Je);return!!Ze&&Ze.enumerable}:Xe},function(Ve,ze,qe){var Xe=qe(11),We=qe(21);Ve.exports=function(Ke,Je){try{We(Xe,Ke,Je)}catch{Xe[Ke]=Je}return Je}},function(Ve,ze,qe){var Xe=qe(44),We=qe(118);(Ve.exports=function(Ke,Je){return We[Ke]||(We[Ke]=Je!==void 0?Je:{})})("versions",[]).push({version:"3.6.5",mode:Xe?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(Ve,ze,qe){var Xe=qe(121),We=qe(84).concat("length","prototype");ze.f=Object.getOwnPropertyNames||function(Ke){return Xe(Ke,We)}},function(Ve,ze,qe){var Xe=qe(47),We=Math.max,Ke=Math.min;Ve.exports=function(Je,Ze){var Qe=Xe(Je);return Qe<0?We(Qe+Ze,0):Ke(Qe,Ze)}},function(Ve,ze){Ve.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(Ve,ze){ze.f=Object.getOwnPropertySymbols},function(Ve,ze,qe){var Xe=qe(8);Ve.exports=!!Object.getOwnPropertySymbols&&!Xe(function(){return!String(Symbol())})},function(Ve,ze,qe){var Xe=qe(127);Ve.exports=function(We,Ke,Je){if(Xe(We),Ke===void 0)return We;switch(Je){case 0:return function(){return We.call(Ke)};case 1:return function(Ze){return We.call(Ke,Ze)};case 2:return function(Ze,Qe){return We.call(Ke,Ze,Qe)};case 3:return function(Ze,Qe,St){return We.call(Ke,Ze,Qe,St)}}return function(){return We.apply(Ke,arguments)}}},function(Ve,ze,qe){var Xe=qe(4),We=qe(195),Ke=qe(132),Je=qe(133),Ze=qe(62),Qe=qe(21),St=qe(25),ei=qe(5),ti=qe(44),ni=qe(49),oi=qe(131),ai=oi.IteratorPrototype,si=oi.BUGGY_SAFARI_ITERATORS,ri=ei("iterator"),ii=function(){return this};Ve.exports=function(ui,ci,hi,mi,di,fi,yi){We(hi,ci,mi);var pi,xi,Si,vi=function(Yi){if(Yi===di&&Ni)return Ni;if(!si&&Yi in Fi)return Fi[Yi];switch(Yi){case"keys":case"values":case"entries":return function(){return new hi(this,Yi)}}return function(){return new hi(this)}},Di=ci+" Iterator",Ti=!1,Fi=ui.prototype,Ci=Fi[ri]||Fi["@@iterator"]||di&&Fi[di],Ni=!si&&Ci||vi(di),Ri=ci=="Array"&&Fi.entries||Ci;if(Ri&&(pi=Ke(Ri.call(new ui)),ai!==Object.prototype&&pi.next&&(ti||Ke(pi)===ai||(Je?Je(pi,ai):typeof pi[ri]!="function"&&Qe(pi,ri,ii)),Ze(pi,Di,!0,!0),ti&&(ni[Di]=ii))),di=="values"&&Ci&&Ci.name!=="values"&&(Ti=!0,Ni=function(){return Ci.call(this)}),ti&&!yi||Fi[ri]===Ni||Qe(Fi,ri,Ni),ni[ci]=Ni,di)if(xi={values:vi("values"),keys:fi?Ni:vi("keys"),entries:vi("entries")},yi)for(Si in xi)(si||Ti||!(Si in Fi))&&St(Fi,Si,xi[Si]);else Xe({target:ci,proto:!0,forced:si||Ti},xi);return xi}},function(Ve,ze,qe){var Xe=qe(4),We=qe(13),Ke=qe(59),Je=qe(83),Ze=qe(26),Qe=qe(24),St=qe(134),ei=qe(5),ti=qe(63),ni=qe(28),oi=ti("slice"),ai=ni("slice",{ACCESSORS:!0,0:0,1:2}),si=ei("species"),ri=[].slice,ii=Math.max;Xe({target:"Array",proto:!0,forced:!oi||!ai},{slice:function(ui,ci){var hi,mi,di,fi=Qe(this),yi=Ze(fi.length),pi=Je(ui,yi),xi=Je(ci===void 0?yi:ci,yi);if(Ke(fi)&&(typeof(hi=fi.constructor)!="function"||hi!==Array&&!Ke(hi.prototype)?We(hi)&&(hi=hi[si])===null&&(hi=void 0):hi=void 0,hi===Array||hi===void 0))return ri.call(fi,pi,xi);for(mi=new(hi===void 0?Array:hi)(ii(xi-pi,0)),di=0;pi<xi;pi++,di++)pi in fi&&St(mi,di,fi[pi]);return mi.length=di,mi}})},function(Ve,ze,qe){var Xe={};Xe[qe(5)("toStringTag")]="z",Ve.exports=String(Xe)==="[object z]"},function(Ve,ze,qe){qe(19),qe(138),qe(20),qe(92),qe(22),qe(23),Object.defineProperty(ze,"__esModule",{value:!0}),ze.DefaultBuilderOptions={version:"1.0",encoding:void 0,standalone:void 0,keepNullNodes:!1,keepNullAttributes:!1,ignoreConverters:!1,skipWhitespaceOnlyText:!0,convert:{att:"@",ins:"?",text:"#",cdata:"$",comment:"!"},defaultNamespace:{ele:void 0,att:void 0},namespaceAlias:{html:"http://www.w3.org/1999/xhtml",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"},invalidCharReplacement:void 0,parser:void 0},ze.XMLBuilderOptionKeys=new Set(Object.keys(ze.DefaultBuilderOptions)),ze.DefaultXMLBuilderCBOptions={format:"xml",wellFormed:!1,prettyPrint:!1,indent:"  ",newline:`
`,offset:0,width:0,allowEmptyTags:!1,spaceBeforeSlash:!1,keepNullNodes:!1,keepNullAttributes:!1,ignoreConverters:!1,convert:{att:"@",ins:"?",text:"#",cdata:"$",comment:"!"},defaultNamespace:{ele:void 0,att:void 0},namespaceAlias:{html:"http://www.w3.org/1999/xhtml",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"}}},function(Ve,ze,qe){var Xe=qe(139),We=qe(143);Ve.exports=Xe("Set",function(Ke){return function(){return Ke(this,arguments.length?arguments[0]:void 0)}},We)},function(Ve,ze,qe){var Xe,We,Ke=qe(136),Je=qe(221),Ze=RegExp.prototype.exec,Qe=String.prototype.replace,St=Ze,ei=(Xe=/a/,We=/b*/g,Ze.call(Xe,"a"),Ze.call(We,"a"),Xe.lastIndex!==0||We.lastIndex!==0),ti=Je.UNSUPPORTED_Y||Je.BROKEN_CARET,ni=/()??/.exec("")[1]!==void 0;(ei||ni||ti)&&(St=function(oi){var ai,si,ri,ii,ui=this,ci=ti&&ui.sticky,hi=Ke.call(ui),mi=ui.source,di=0,fi=oi;return ci&&((hi=hi.replace("y","")).indexOf("g")===-1&&(hi+="g"),fi=String(oi).slice(ui.lastIndex),ui.lastIndex>0&&(!ui.multiline||ui.multiline&&oi[ui.lastIndex-1]!==`
`)&&(mi="(?: "+mi+")",fi=" "+fi,di++),si=new RegExp("^(?:"+mi+")",hi)),ni&&(si=new RegExp("^"+mi+"$(?!\\s)",hi)),ei&&(ai=ui.lastIndex),ri=Ze.call(ci?si:ui,fi),ci?ri?(ri.input=ri.input.slice(di),ri[0]=ri[0].slice(di),ri.index=ui.lastIndex,ui.lastIndex+=ri[0].length):ui.lastIndex=0:ei&&ri&&(ui.lastIndex=ui.global?ri.index+ri[0].length:ai),ni&&ri&&ri.length>1&&Qe.call(ri[0],si,function(){for(ii=1;ii<arguments.length-2;ii++)arguments[ii]===void 0&&(ri[ii]=void 0)}),ri}),Ve.exports=St},function(Ve,ze,qe){var Xe=qe(225),We=qe(18),Ke=qe(27),Je=qe(26),Ze=qe(47),Qe=qe(35),St=qe(226),ei=qe(227),ti=Math.max,ni=Math.min,oi=Math.floor,ai=/\$([$&'`]|\d\d?|<[^>]*>)/g,si=/\$([$&'`]|\d\d?)/g;Xe("replace",2,function(ri,ii,ui,ci){var hi=ci.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,mi=ci.REPLACE_KEEPS_$0,di=hi?"$":"$0";return[function(yi,pi){var xi=Qe(this),Si=yi==null?void 0:yi[ri];return Si!==void 0?Si.call(yi,xi,pi):ii.call(String(xi),yi,pi)},function(yi,pi){if(!hi&&mi||typeof pi=="string"&&pi.indexOf(di)===-1){var xi=ui(ii,yi,this,pi);if(xi.done)return xi.value}var Si=We(yi),vi=String(this),Di=typeof pi=="function";Di||(pi=String(pi));var Ti=Si.global;if(Ti){var Fi=Si.unicode;Si.lastIndex=0}for(var Ci=[];;){var Ni=ei(Si,vi);if(Ni===null||(Ci.push(Ni),!Ti))break;String(Ni[0])===""&&(Si.lastIndex=St(vi,Je(Si.lastIndex),Fi))}for(var Ri,Yi="",ki=0,ji=0;ji<Ci.length;ji++){Ni=Ci[ji];for(var Vi=String(Ni[0]),Bi=ti(ni(Ze(Ni.index),vi.length),0),Xi=[],en=1;en<Ni.length;en++)Xi.push((Ri=Ni[en])===void 0?Ri:String(Ri));var tn=Ni.groups;if(Di){var Ji=[Vi].concat(Xi,Bi,vi);tn!==void 0&&Ji.push(tn);var Li=String(pi.apply(void 0,Ji))}else Li=fi(Vi,vi,Bi,Xi,tn,pi);Bi>=ki&&(Yi+=vi.slice(ki,Bi)+Li,ki=Bi+Vi.length)}return Yi+vi.slice(ki)}];function fi(yi,pi,xi,Si,vi,Di){var Ti=xi+yi.length,Fi=Si.length,Ci=si;return vi!==void 0&&(vi=Ke(vi),Ci=ai),ii.call(Di,Ci,function(Ni,Ri){var Yi;switch(Ri.charAt(0)){case"$":return"$";case"&":return yi;case"`":return pi.slice(0,xi);case"'":return pi.slice(Ti);case"<":Yi=vi[Ri.slice(1,-1)];break;default:var ki=+Ri;if(ki===0)return Ni;if(ki>Fi){var ji=oi(ki/10);return ji===0?Ni:ji<=Fi?Si[ji-1]===void 0?Ri.charAt(1):Si[ji-1]+Ri.charAt(1):Ni}Yi=Si[ki-1]}return Yi===void 0?"":Yi})}})},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=function(){function We(){this._items={},this._nullItems=[]}return We.prototype.copy=function(){var Ke=new We;for(var Je in this._items)Ke._items[Je]=this._items[Je].slice(0);return Ke._nullItems=this._nullItems.slice(0),Ke},We.prototype.get=function(Ke,Je){var Ze=Je===null?this._nullItems:this._items[Je]||null;if(Ze===null)return null;for(var Qe=null,St=0;St<Ze.length;St++)if((Qe=Ze[St])===Ke)return Qe;return Qe},We.prototype.has=function(Ke,Je){var Ze=Je===null?this._nullItems:this._items[Je]||null;return Ze!==null&&Ze.indexOf(Ke)!==-1},We.prototype.hasPrefix=function(Ke){if(this._nullItems.indexOf(Ke)!==-1)return!0;for(var Je in this._items)if(this._items[Je].indexOf(Ke)!==-1)return!0;return!1},We.prototype.set=function(Ke,Je){var Ze=Je===null?this._nullItems:this._items[Je]||null;Je!==null&&Ze===null?this._items[Je]=[Ke]:Ze.push(Ke)},We}();ze.NamespacePrefixMap=Xe},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0}),ze.Surrogate=/[\uD800-\uDFFF]/,ze.ScalarValue=/[\uD800-\uDFFF]/,ze.NonCharacter=/[\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]/,ze.ASCIICodePoint=/[\u0000-\u007F]/,ze.ASCIITabOrNewLine=/[\t\n\r]/,ze.ASCIIWhiteSpace=/[\t\n\f\r ]/,ze.C0Control=/[\u0000-\u001F]/,ze.C0ControlOrSpace=/[\u0000-\u001F ]/,ze.Control=/[\u0000-\u001F\u007F-\u009F]/,ze.ASCIIDigit=/[0-9]/,ze.ASCIIUpperHexDigit=/[0-9A-F]/,ze.ASCIILowerHexDigit=/[0-9a-f]/,ze.ASCIIHexDigit=/[0-9A-Fa-f]/,ze.ASCIIUpperAlpha=/[A-Z]/,ze.ASCIILowerAlpha=/[a-z]/,ze.ASCIIAlpha=/[A-Za-z]/,ze.ASCIIAlphanumeric=/[0-9A-Za-z]/},function(Ve,ze,qe){var Xe=this&&this.__values||function(pi){var xi=typeof Symbol=="function"&&Symbol.iterator,Si=xi&&pi[xi],vi=0;if(Si)return Si.call(pi);if(pi&&typeof pi.length=="number")return{next:function(){return pi&&vi>=pi.length&&(pi=void 0),{value:pi&&pi[vi++],done:!pi}}};throw new TypeError(xi?"Object is not iterable.":"Symbol.iterator is not defined.")},We=this&&this.__read||function(pi,xi){var Si=typeof Symbol=="function"&&pi[Symbol.iterator];if(!Si)return pi;var vi,Di,Ti=Si.call(pi),Fi=[];try{for(;(xi===void 0||xi-- >0)&&!(vi=Ti.next()).done;)Fi.push(vi.value)}catch(Ci){Di={error:Ci}}finally{try{vi&&!vi.done&&(Si=Ti.return)&&Si.call(Ti)}finally{if(Di)throw Di.error}}return Fi},Ke=this&&this.__spread||function(){for(var pi=[],xi=0;xi<arguments.length;xi++)pi=pi.concat(We(arguments[xi]));return pi};Object.defineProperty(ze,"__esModule",{value:!0});var Je=qe(6),Ze=qe(1),Qe=qe(3),St=qe(171),ei=qe(104),ti=qe(9),ni=qe(17),oi=qe(72),ai=qe(30);function si(pi,xi){xi===void 0&&(xi=void 0),xi===void 0&&(xi=null);var Si=ri(pi,xi,new Date,{});return Si._isTrusted=!0,Si}function ri(pi,xi,Si,vi){var Di=new pi("");return Di._initializedFlag=!0,Di._timeStamp=Si.getTime(),Object.assign(Di,vi),Je.dom.features.steps&&ai.dom_runEventConstructingSteps(Di),Di}function ii(pi,xi,Si,vi){var Di,Ti,Fi,Ci;Si===void 0&&(Si=!1),vi===void 0&&(vi={value:!1});var Ni=!1;pi._dispatchFlag=!0;var Ri=xi;if(Si){var Yi=xi._associatedDocument;Qe.Guard.isDocumentNode(Yi)&&(Ri=Yi)}var ki=null,ji=ni.tree_retarget(pi._relatedTarget,xi);if(xi!==ji||xi===pi._relatedTarget){var Vi=[];try{for(var Bi=Xe(pi._touchTargetList),Xi=Bi.next();!Xi.done;Xi=Bi.next()){var en=Xi.value;Vi.push(ni.tree_retarget(en,xi))}}catch(rn){Di={error:rn}}finally{try{Xi&&!Xi.done&&(Ti=Bi.return)&&Ti.call(Bi)}finally{if(Di)throw Di.error}}ui(pi,xi,Ri,ji,Vi,!1);var tn=Qe.Guard.isMouseEvent(pi)&&pi._type==="click";tn&&xi._activationBehavior!==void 0&&(ki=xi);for(var Ji=Qe.Guard.isSlotable(xi)&&oi.shadowTree_isAssigned(xi)?xi:null,Li=!1,wi=xi._getTheParent(pi);wi!==null&&Qe.Guard.isNode(wi);){if(Ji!==null){if(!Qe.Guard.isSlot(wi))throw new Error("Parent node of a slotable should be a slot.");Ji=null;var _i=ni.tree_rootNode(wi,!0);Qe.Guard.isShadowRoot(_i)&&_i._mode==="closed"&&(Li=!0)}Qe.Guard.isSlotable(wi)&&oi.shadowTree_isAssigned(wi)&&(Ji=wi),ji=ni.tree_retarget(pi._relatedTarget,wi),Vi=[];try{for(var Ai=(Fi=void 0,Xe(pi._touchTargetList)),Oi=Ai.next();!Oi.done;Oi=Ai.next())en=Oi.value,Vi.push(ni.tree_retarget(en,wi))}catch(rn){Fi={error:rn}}finally{try{Oi&&!Oi.done&&(Ci=Ai.return)&&Ci.call(Ai)}finally{if(Fi)throw Fi.error}}Qe.Guard.isWindow(wi)||Qe.Guard.isNode(wi)&&Qe.Guard.isNode(xi)&&ni.tree_isAncestorOf(ni.tree_rootNode(xi,!0),wi,!0,!0)?(tn&&pi._bubbles&&ki===null&&wi._activationBehavior&&(ki=wi),ui(pi,wi,null,ji,Vi,Li)):wi===ji?wi=null:(xi=wi,tn&&ki===null&&xi._activationBehavior&&(ki=xi),ui(pi,wi,xi,ji,Vi,Li)),wi!==null&&(wi=wi._getTheParent(pi)),Li=!1}for(var Ii=null,Mi=pi._path,Gi=Mi.length-1;Gi>=0;Gi--)if((Ui=Mi[Gi]).shadowAdjustedTarget!==null){Ii=Ui;break}if(Ii!==null)if(Qe.Guard.isNode(Ii.shadowAdjustedTarget)&&Qe.Guard.isShadowRoot(ni.tree_rootNode(Ii.shadowAdjustedTarget,!0)))Ni=!0;else if(Qe.Guard.isNode(Ii.relatedTarget)&&Qe.Guard.isShadowRoot(ni.tree_rootNode(Ii.relatedTarget,!0)))Ni=!0;else for(var on=0;on<Ii.touchTargetList.length;on++){var Ui=Ii.touchTargetList[on];if(Qe.Guard.isNode(Ui)&&Qe.Guard.isShadowRoot(ni.tree_rootNode(Ui,!0))){Ni=!0;break}}for(ki!==null&&ki._legacyPreActivationBehavior!==void 0&&ki._legacyPreActivationBehavior(pi),Gi=Mi.length-1;Gi>=0;Gi--)(Ui=Mi[Gi]).shadowAdjustedTarget!==null?pi._eventPhase=Ze.EventPhase.AtTarget:pi._eventPhase=Ze.EventPhase.Capturing,ci(Ui,pi,"capturing",vi);for(Gi=0;Gi<Mi.length;Gi++){if((Ui=Mi[Gi]).shadowAdjustedTarget!==null)pi._eventPhase=Ze.EventPhase.AtTarget;else{if(!pi._bubbles)continue;pi._eventPhase=Ze.EventPhase.Bubbling}ci(Ui,pi,"bubbling",vi)}}return pi._eventPhase=Ze.EventPhase.None,pi._currentTarget=null,pi._path=[],pi._dispatchFlag=!1,pi._stopPropagationFlag=!1,pi._stopImmediatePropagationFlag=!1,Ni&&(pi._target=null,pi._relatedTarget=null,pi._touchTargetList=[]),ki!==null&&(pi._canceledFlag||ki._activationBehavior===void 0?ki._legacyCanceledActivationBehavior!==void 0&&ki._legacyCanceledActivationBehavior(pi):ki._activationBehavior(pi)),!pi._canceledFlag}function ui(pi,xi,Si,vi,Di,Ti){var Fi=!1;Qe.Guard.isNode(xi)&&Qe.Guard.isShadowRoot(ni.tree_rootNode(xi))&&(Fi=!0);var Ci=!1;Qe.Guard.isShadowRoot(xi)&&xi._mode==="closed"&&(Ci=!0),pi._path.push({invocationTarget:xi,invocationTargetInShadowTree:Fi,shadowAdjustedTarget:Si,relatedTarget:vi,touchTargetList:Di,rootOfClosedTree:Ci,slotInClosedTree:Ti})}function ci(pi,xi,Si,vi){vi===void 0&&(vi={value:!1});for(var Di=xi._path,Ti=-1,Fi=0;Fi<Di.length;Fi++)if(Di[Fi]===pi){Ti=Fi;break}if(Ti!==-1){var Ci=Di[Ti];(Ci.shadowAdjustedTarget!==null||Ti>0&&(Ci=Di[Ti-1]).shadowAdjustedTarget!==null)&&(xi._target=Ci.shadowAdjustedTarget)}if(xi._relatedTarget=pi.relatedTarget,xi._touchTargetList=pi.touchTargetList,!xi._stopPropagationFlag){xi._currentTarget=pi.invocationTarget;var Ni=xi._currentTarget._eventListenerList,Ri=new(Array.bind.apply(Array,Ke([void 0],Ni)));if(!hi(xi,Ri,Si,pi,vi)&&xi._isTrusted){var Yi=xi._type;Yi==="animationend"?xi._type="webkitAnimationEnd":Yi==="animationiteration"?xi._type="webkitAnimationIteration":Yi==="animationstart"?xi._type="webkitAnimationStart":Yi==="transitionend"&&(xi._type="webkitTransitionEnd"),hi(xi,Ri,Si,pi,vi),xi._type=Yi}}}function hi(pi,xi,Si,vi,Di){Di===void 0&&(Di={value:!1});for(var Ti=!1,Fi=0;Fi<xi.length;Fi++){var Ci=xi[Fi];if(!Ci.removed){if(pi._type!==Ci.type||(Ti=!0,Si==="capturing"&&!Ci.capture)||Si==="bubbling"&&Ci.capture)continue;if(Ci.once&&pi._currentTarget!==null){for(var Ni=pi._currentTarget,Ri=-1,Yi=0;Yi<Ni._eventListenerList.length;Yi++)if(Ni._eventListenerList[Yi]===Ci){Ri=Yi;break}Ri!==-1&&Ni._eventListenerList.splice(Ri,1)}var ki=void 0,ji=void 0;Qe.Guard.isWindow(ki)&&(ji=ki._currentEvent,vi.invocationTargetInShadowTree===!1&&(ki._currentEvent=pi)),Ci.passive&&(pi._inPassiveListenerFlag=!0);try{Ci.callback.handleEvent.call(pi._currentTarget,pi)}catch{Di.value=!0}if(Ci.passive&&(pi._inPassiveListenerFlag=!1),Qe.Guard.isWindow(ki)&&(ki._currentEvent=ji),pi._stopImmediatePropagationFlag)return Ti}}return Ti}function mi(pi,xi){return null}function di(pi,xi){return null}function fi(pi,xi){}function yi(pi,xi){}ze.event_setTheCanceledFlag=function(pi){pi._cancelable&&!pi._inPassiveListenerFlag&&(pi._canceledFlag=!0)},ze.event_initialize=function(pi,xi,Si,vi){pi._initializedFlag=!0,pi._stopPropagationFlag=!1,pi._stopImmediatePropagationFlag=!1,pi._canceledFlag=!1,pi._isTrusted=!1,pi._target=null,pi._type=xi,pi._bubbles=Si,pi._cancelable=vi},ze.event_createAnEvent=si,ze.event_innerEventCreationSteps=ri,ze.event_dispatch=ii,ze.event_appendToAnEventPath=ui,ze.event_invoke=ci,ze.event_innerInvoke=hi,ze.event_fireAnEvent=function(pi,xi,Si,vi,Di){Si===void 0&&(Si=ei.EventImpl);var Ti=si(Si);if(Ti._type=pi,vi)for(var Fi in vi)Ti[Fi]=vi[Fi];return ii(Ti,xi,Di)},ze.event_createLegacyEvent=function(pi){var xi=null;switch(pi.toLowerCase()){case"beforeunloadevent":case"compositionevent":break;case"customevent":xi=St.CustomEventImpl;break;case"devicemotionevent":case"deviceorientationevent":case"dragevent":break;case"event":case"events":xi=ei.EventImpl}if(xi===null)throw new ti.NotSupportedError("Event constructor not found for interface "+pi+".");var Si=new xi("");return Si._type="",Si._timeStamp=new Date().getTime(),Si._isTrusted=!1,Si._initializedFlag=!1,Si},ze.event_getterEventHandlerIDLAttribute=function(pi,xi){return null},ze.event_setterEventHandlerIDLAttribute=function(pi,xi,Si){},ze.event_determineTheTargetOfAnEventHandler=mi,ze.event_getTheCurrentValueOfAnEventHandler=di,ze.event_activateAnEventHandler=fi,ze.event_deactivateAnEventHandler=yi},function(Ve,ze,qe){var Xe,We=this&&this.__extends||(Xe=function(ui,ci){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(hi,mi){hi.__proto__=mi}||function(hi,mi){for(var di in mi)mi.hasOwnProperty(di)&&(hi[di]=mi[di])})(ui,ci)},function(ui,ci){function hi(){this.constructor=ui}Xe(ui,ci),ui.prototype=ci===null?Object.create(ci):(hi.prototype=ci.prototype,new hi)}),Ke=this&&this.__values||function(ui){var ci=typeof Symbol=="function"&&Symbol.iterator,hi=ci&&ui[ci],mi=0;if(hi)return hi.call(ui);if(ui&&typeof ui.length=="number")return{next:function(){return ui&&mi>=ui.length&&(ui=void 0),{value:ui&&ui[mi++],done:!ui}}};throw new TypeError(ci?"Object is not iterable.":"Symbol.iterator is not defined.")},Je=this&&this.__read||function(ui,ci){var hi=typeof Symbol=="function"&&ui[Symbol.iterator];if(!hi)return ui;var mi,di,fi=hi.call(ui),yi=[];try{for(;(ci===void 0||ci-- >0)&&!(mi=fi.next()).done;)yi.push(mi.value)}catch(pi){di={error:pi}}finally{try{mi&&!mi.done&&(hi=fi.return)&&hi.call(fi)}finally{if(di)throw di.error}}return yi};Object.defineProperty(ze,"__esModule",{value:!0});var Ze=qe(6),Qe=qe(1),St=qe(9),ei=qe(34),ti=qe(3),ni=qe(2),oi=qe(7),ai=qe(152),si=qe(0),ri=qe(12),ii=function(ui){function ci(){var hi=ui.call(this)||this;return hi._children=new Set,hi._encoding={name:"UTF-8",labels:["unicode-1-1-utf-8","utf-8","utf8"]},hi._contentType="application/xml",hi._URL={scheme:"about",username:"",password:"",host:null,port:null,path:["blank"],query:null,fragment:null,_cannotBeABaseURLFlag:!0,_blobURLEntry:null},hi._origin=null,hi._type="xml",hi._mode="no-quirks",hi._documentElement=null,hi._hasNamespaces=!1,hi._nodeDocumentOverwrite=null,hi}return We(ci,ui),Object.defineProperty(ci.prototype,"_nodeDocument",{get:function(){return this._nodeDocumentOverwrite||this},set:function(hi){this._nodeDocumentOverwrite=hi},enumerable:!0,configurable:!0}),Object.defineProperty(ci.prototype,"implementation",{get:function(){return this._implementation||(this._implementation=si.create_domImplementation(this))},enumerable:!0,configurable:!0}),Object.defineProperty(ci.prototype,"URL",{get:function(){return ai.urlSerializer(this._URL)},enumerable:!0,configurable:!0}),Object.defineProperty(ci.prototype,"documentURI",{get:function(){return this.URL},enumerable:!0,configurable:!0}),Object.defineProperty(ci.prototype,"origin",{get:function(){return"null"},enumerable:!0,configurable:!0}),Object.defineProperty(ci.prototype,"compatMode",{get:function(){return this._mode==="quirks"?"BackCompat":"CSS1Compat"},enumerable:!0,configurable:!0}),Object.defineProperty(ci.prototype,"characterSet",{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(ci.prototype,"charset",{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(ci.prototype,"inputEncoding",{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(ci.prototype,"contentType",{get:function(){return this._contentType},enumerable:!0,configurable:!0}),Object.defineProperty(ci.prototype,"doctype",{get:function(){var hi,mi;try{for(var di=Ke(this._children),fi=di.next();!fi.done;fi=di.next()){var yi=fi.value;if(ti.Guard.isDocumentTypeNode(yi))return yi}}catch(pi){hi={error:pi}}finally{try{fi&&!fi.done&&(mi=di.return)&&mi.call(di)}finally{if(hi)throw hi.error}}return null},enumerable:!0,configurable:!0}),Object.defineProperty(ci.prototype,"documentElement",{get:function(){return this._documentElement},enumerable:!0,configurable:!0}),ci.prototype.getElementsByTagName=function(hi){return si.node_listOfElementsWithQualifiedName(hi,this)},ci.prototype.getElementsByTagNameNS=function(hi,mi){return si.node_listOfElementsWithNamespace(hi,mi,this)},ci.prototype.getElementsByClassName=function(hi){return si.node_listOfElementsWithClassNames(hi,this)},ci.prototype.createElement=function(hi,mi){if(!si.xml_isName(hi))throw new St.InvalidCharacterError;this._type==="html"&&(hi=hi.toLowerCase());var di=null;mi!==void 0&&(di=ni.isString(mi)?mi:mi.is);var fi=this._type==="html"||this._contentType==="application/xhtml+xml"?oi.namespace.HTML:null;return si.element_createAnElement(this,hi,fi,null,di,!0)},ci.prototype.createElementNS=function(hi,mi,di){return si.document_internalCreateElementNS(this,hi,mi,di)},ci.prototype.createDocumentFragment=function(){return si.create_documentFragment(this)},ci.prototype.createTextNode=function(hi){return si.create_text(this,hi)},ci.prototype.createCDATASection=function(hi){if(this._type==="html")throw new St.NotSupportedError;if(hi.indexOf("]]>")!==-1)throw new St.InvalidCharacterError;return si.create_cdataSection(this,hi)},ci.prototype.createComment=function(hi){return si.create_comment(this,hi)},ci.prototype.createProcessingInstruction=function(hi,mi){if(!si.xml_isName(hi))throw new St.InvalidCharacterError;if(mi.indexOf("?>")!==-1)throw new St.InvalidCharacterError;return si.create_processingInstruction(this,hi,mi)},ci.prototype.importNode=function(hi,mi){if(mi===void 0&&(mi=!1),ti.Guard.isDocumentNode(hi)||ti.Guard.isShadowRoot(hi))throw new St.NotSupportedError;return si.node_clone(hi,this,mi)},ci.prototype.adoptNode=function(hi){if(ti.Guard.isDocumentNode(hi))throw new St.NotSupportedError;if(ti.Guard.isShadowRoot(hi))throw new St.HierarchyRequestError;return si.document_adopt(hi,this),hi},ci.prototype.createAttribute=function(hi){if(!si.xml_isName(hi))throw new St.InvalidCharacterError;return this._type==="html"&&(hi=hi.toLowerCase()),si.create_attr(this,hi)},ci.prototype.createAttributeNS=function(hi,mi){var di=Je(si.namespace_validateAndExtract(hi,mi),3),fi=di[0],yi=di[1],pi=di[2],xi=si.create_attr(this,pi);return xi._namespace=fi,xi._namespacePrefix=yi,xi},ci.prototype.createEvent=function(hi){return si.event_createLegacyEvent(hi)},ci.prototype.createRange=function(){var hi=si.create_range();return hi._start=[this,0],hi._end=[this,0],hi},ci.prototype.createNodeIterator=function(hi,mi,di){mi===void 0&&(mi=Qe.WhatToShow.All),di===void 0&&(di=null);var fi=si.create_nodeIterator(hi,hi,!0);return fi._whatToShow=mi,fi._iteratorCollection=si.create_nodeList(hi),ni.isFunction(di)?(fi._filter=si.create_nodeFilter(),fi._filter.acceptNode=di):fi._filter=di,fi},ci.prototype.createTreeWalker=function(hi,mi,di){mi===void 0&&(mi=Qe.WhatToShow.All),di===void 0&&(di=null);var fi=si.create_treeWalker(hi,hi);return fi._whatToShow=mi,ni.isFunction(di)?(fi._filter=si.create_nodeFilter(),fi._filter.acceptNode=di):fi._filter=di,fi},ci.prototype._getTheParent=function(hi){return hi._type==="load"?null:Ze.dom.window},ci.prototype.getElementById=function(hi){throw new Error("Mixin: NonElementParentNode not implemented.")},Object.defineProperty(ci.prototype,"children",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(ci.prototype,"firstElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(ci.prototype,"lastElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(ci.prototype,"childElementCount",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),ci.prototype.prepend=function(){for(var hi=[],mi=0;mi<arguments.length;mi++)hi[mi]=arguments[mi];throw new Error("Mixin: ParentNode not implemented.")},ci.prototype.append=function(){for(var hi=[],mi=0;mi<arguments.length;mi++)hi[mi]=arguments[mi];throw new Error("Mixin: ParentNode not implemented.")},ci.prototype.querySelector=function(hi){throw new Error("Mixin: ParentNode not implemented.")},ci.prototype.querySelectorAll=function(hi){throw new Error("Mixin: ParentNode not implemented.")},ci}(ei.NodeImpl);ze.DocumentImpl=ii,ri.idl_defineConst(ii.prototype,"_nodeType",Qe.NodeType.Document)},function(Ve,ze,qe){var Xe,We=this&&this.__extends||(Xe=function(ai,si){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ri,ii){ri.__proto__=ii}||function(ri,ii){for(var ui in ii)ii.hasOwnProperty(ui)&&(ri[ui]=ii[ui])})(ai,si)},function(ai,si){function ri(){this.constructor=ai}Xe(ai,si),ai.prototype=si===null?Object.create(si):(ri.prototype=si.prototype,new ri)}),Ke=this&&this.__values||function(ai){var si=typeof Symbol=="function"&&Symbol.iterator,ri=si&&ai[si],ii=0;if(ri)return ri.call(ai);if(ai&&typeof ai.length=="number")return{next:function(){return ai&&ii>=ai.length&&(ai=void 0),{value:ai&&ai[ii++],done:!ai}}};throw new TypeError(si?"Object is not iterable.":"Symbol.iterator is not defined.")},Je=this&&this.__read||function(ai,si){var ri=typeof Symbol=="function"&&ai[Symbol.iterator];if(!ri)return ai;var ii,ui,ci=ri.call(ai),hi=[];try{for(;(si===void 0||si-- >0)&&!(ii=ci.next()).done;)hi.push(ii.value)}catch(mi){ui={error:mi}}finally{try{ii&&!ii.done&&(ri=ci.return)&&ri.call(ci)}finally{if(ui)throw ui.error}}return hi};Object.defineProperty(ze,"__esModule",{value:!0});var Ze=qe(1),Qe=qe(34),St=qe(9),ei=qe(7),ti=qe(0),ni=qe(12),oi=function(ai){function si(){var ri=ai.call(this)||this;return ri._children=new Set,ri._namespace=null,ri._namespacePrefix=null,ri._localName="",ri._customElementState="undefined",ri._customElementDefinition=null,ri._is=null,ri._shadowRoot=null,ri._attributeList=ti.create_namedNodeMap(ri),ri._attributeChangeSteps=[],ri._name="",ri._assignedSlot=null,ri}return We(si,ai),Object.defineProperty(si.prototype,"namespaceURI",{get:function(){return this._namespace},enumerable:!0,configurable:!0}),Object.defineProperty(si.prototype,"prefix",{get:function(){return this._namespacePrefix},enumerable:!0,configurable:!0}),Object.defineProperty(si.prototype,"localName",{get:function(){return this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(si.prototype,"tagName",{get:function(){return this._htmlUppercasedQualifiedName},enumerable:!0,configurable:!0}),Object.defineProperty(si.prototype,"id",{get:function(){return ti.element_getAnAttributeValue(this,"id")},set:function(ri){ti.element_setAnAttributeValue(this,"id",ri)},enumerable:!0,configurable:!0}),Object.defineProperty(si.prototype,"className",{get:function(){return ti.element_getAnAttributeValue(this,"class")},set:function(ri){ti.element_setAnAttributeValue(this,"class",ri)},enumerable:!0,configurable:!0}),Object.defineProperty(si.prototype,"classList",{get:function(){var ri=ti.element_getAnAttributeByName("class",this);return ri===null&&(ri=ti.create_attr(this._nodeDocument,"class")),ti.create_domTokenList(this,ri)},enumerable:!0,configurable:!0}),Object.defineProperty(si.prototype,"slot",{get:function(){return ti.element_getAnAttributeValue(this,"slot")},set:function(ri){ti.element_setAnAttributeValue(this,"slot",ri)},enumerable:!0,configurable:!0}),si.prototype.hasAttributes=function(){return this._attributeList.length!==0},Object.defineProperty(si.prototype,"attributes",{get:function(){return this._attributeList},enumerable:!0,configurable:!0}),si.prototype.getAttributeNames=function(){var ri,ii,ui=[];try{for(var ci=Ke(this._attributeList),hi=ci.next();!hi.done;hi=ci.next()){var mi=hi.value;ui.push(mi._qualifiedName)}}catch(di){ri={error:di}}finally{try{hi&&!hi.done&&(ii=ci.return)&&ii.call(ci)}finally{if(ri)throw ri.error}}return ui},si.prototype.getAttribute=function(ri){var ii=ti.element_getAnAttributeByName(ri,this);return ii?ii._value:null},si.prototype.getAttributeNS=function(ri,ii){var ui=ti.element_getAnAttributeByNamespaceAndLocalName(ri,ii,this);return ui?ui._value:null},si.prototype.setAttribute=function(ri,ii){if(!ti.xml_isName(ri))throw new St.InvalidCharacterError;this._namespace===ei.namespace.HTML&&this._nodeDocument._type==="html"&&(ri=ri.toLowerCase());for(var ui=null,ci=0;ci<this._attributeList.length;ci++){var hi=this._attributeList[ci];if(hi._qualifiedName===ri){ui=hi;break}}if(ui===null)return(ui=ti.create_attr(this._nodeDocument,ri))._value=ii,void ti.element_append(ui,this);ti.element_change(ui,this,ii)},si.prototype.setAttributeNS=function(ri,ii,ui){var ci=Je(ti.namespace_validateAndExtract(ri,ii),3),hi=ci[0],mi=ci[1],di=ci[2];ti.element_setAnAttributeValue(this,di,ui,mi,hi)},si.prototype.removeAttribute=function(ri){ti.element_removeAnAttributeByName(ri,this)},si.prototype.removeAttributeNS=function(ri,ii){ti.element_removeAnAttributeByNamespaceAndLocalName(ri,ii,this)},si.prototype.hasAttribute=function(ri){this._namespace===ei.namespace.HTML&&this._nodeDocument._type==="html"&&(ri=ri.toLowerCase());for(var ii=0;ii<this._attributeList.length;ii++)if(this._attributeList[ii]._qualifiedName===ri)return!0;return!1},si.prototype.toggleAttribute=function(ri,ii){if(!ti.xml_isName(ri))throw new St.InvalidCharacterError;this._namespace===ei.namespace.HTML&&this._nodeDocument._type==="html"&&(ri=ri.toLowerCase());for(var ui=null,ci=0;ci<this._attributeList.length;ci++){var hi=this._attributeList[ci];if(hi._qualifiedName===ri){ui=hi;break}}return ui===null?(ii===void 0||ii===!0)&&((ui=ti.create_attr(this._nodeDocument,ri))._value="",ti.element_append(ui,this),!0):ii!==void 0&&ii!==!1||(ti.element_removeAnAttributeByName(ri,this),!1)},si.prototype.hasAttributeNS=function(ri,ii){for(var ui=ri||null,ci=0;ci<this._attributeList.length;ci++){var hi=this._attributeList[ci];if(hi._namespace===ui&&hi._localName===ii)return!0}return!1},si.prototype.getAttributeNode=function(ri){return ti.element_getAnAttributeByName(ri,this)},si.prototype.getAttributeNodeNS=function(ri,ii){return ti.element_getAnAttributeByNamespaceAndLocalName(ri,ii,this)},si.prototype.setAttributeNode=function(ri){return ti.element_setAnAttribute(ri,this)},si.prototype.setAttributeNodeNS=function(ri){return ti.element_setAnAttribute(ri,this)},si.prototype.removeAttributeNode=function(ri){for(var ii=!1,ui=0;ui<this._attributeList.length;ui++)if(this._attributeList[ui]===ri){ii=!0;break}if(!ii)throw new St.NotFoundError;return ti.element_remove(ri,this),ri},si.prototype.attachShadow=function(ri){if(this._namespace!==ei.namespace.HTML)throw new St.NotSupportedError;if(!ti.customElement_isValidCustomElementName(this._localName)&&!ti.customElement_isValidShadowHostName(this._localName))throw new St.NotSupportedError;if(ti.customElement_isValidCustomElementName(this._localName)||this._is!==null){var ii=ti.customElement_lookUpACustomElementDefinition(this._nodeDocument,this._namespace,this._localName,this._is);if(ii!==null&&ii.disableShadow===!0)throw new St.NotSupportedError}if(this._shadowRoot!==null)throw new St.NotSupportedError;var ui=ti.create_shadowRoot(this._nodeDocument,this);return ui._mode=ri.mode,this._shadowRoot=ui,ui},Object.defineProperty(si.prototype,"shadowRoot",{get:function(){var ri=this._shadowRoot;return ri===null||ri.mode==="closed"?null:ri},enumerable:!0,configurable:!0}),si.prototype.closest=function(ri){throw new St.NotImplementedError},si.prototype.matches=function(ri){throw new St.NotImplementedError},si.prototype.webkitMatchesSelector=function(ri){return this.matches(ri)},si.prototype.getElementsByTagName=function(ri){return ti.node_listOfElementsWithQualifiedName(ri,this)},si.prototype.getElementsByTagNameNS=function(ri,ii){return ti.node_listOfElementsWithNamespace(ri,ii,this)},si.prototype.getElementsByClassName=function(ri){return ti.node_listOfElementsWithClassNames(ri,this)},si.prototype.insertAdjacentElement=function(ri,ii){return ti.element_insertAdjacent(this,ri,ii)},si.prototype.insertAdjacentText=function(ri,ii){var ui=ti.create_text(this._nodeDocument,ii);ti.element_insertAdjacent(this,ri,ui)},Object.defineProperty(si.prototype,"_qualifiedName",{get:function(){return this._namespacePrefix?this._namespacePrefix+":"+this._localName:this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(si.prototype,"_htmlUppercasedQualifiedName",{get:function(){var ri=this._qualifiedName;return this._namespace===ei.namespace.HTML&&this._nodeDocument._type==="html"&&(ri=ri.toUpperCase()),ri},enumerable:!0,configurable:!0}),Object.defineProperty(si.prototype,"children",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(si.prototype,"firstElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(si.prototype,"lastElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(si.prototype,"childElementCount",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),si.prototype.prepend=function(){for(var ri=[],ii=0;ii<arguments.length;ii++)ri[ii]=arguments[ii];throw new Error("Mixin: ParentNode not implemented.")},si.prototype.append=function(){for(var ri=[],ii=0;ii<arguments.length;ii++)ri[ii]=arguments[ii];throw new Error("Mixin: ParentNode not implemented.")},si.prototype.querySelector=function(ri){throw new Error("Mixin: ParentNode not implemented.")},si.prototype.querySelectorAll=function(ri){throw new Error("Mixin: ParentNode not implemented.")},Object.defineProperty(si.prototype,"previousElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(si.prototype,"nextElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),si.prototype.before=function(){for(var ri=[],ii=0;ii<arguments.length;ii++)ri[ii]=arguments[ii];throw new Error("Mixin: ChildNode not implemented.")},si.prototype.after=function(){for(var ri=[],ii=0;ii<arguments.length;ii++)ri[ii]=arguments[ii];throw new Error("Mixin: ChildNode not implemented.")},si.prototype.replaceWith=function(){for(var ri=[],ii=0;ii<arguments.length;ii++)ri[ii]=arguments[ii];throw new Error("Mixin: ChildNode not implemented.")},si.prototype.remove=function(){throw new Error("Mixin: ChildNode not implemented.")},Object.defineProperty(si.prototype,"assignedSlot",{get:function(){throw new Error("Mixin: Slotable not implemented.")},enumerable:!0,configurable:!0}),si._create=function(ri,ii,ui,ci){ui===void 0&&(ui=null),ci===void 0&&(ci=null);var hi=new si;return hi._localName=ii,hi._namespace=ui,hi._namespacePrefix=ci,hi._nodeDocument=ri,hi},si}(Qe.NodeImpl);ze.ElementImpl=oi,ni.idl_defineConst(oi.prototype,"_nodeType",Ze.NodeType.Element)},function(Ve,ze,qe){var Xe,We=this&&this.__extends||(Xe=function(St,ei){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ti,ni){ti.__proto__=ni}||function(ti,ni){for(var oi in ni)ni.hasOwnProperty(oi)&&(ti[oi]=ni[oi])})(St,ei)},function(St,ei){function ti(){this.constructor=St}Xe(St,ei),St.prototype=ei===null?Object.create(ei):(ti.prototype=ei.prototype,new ti)});Object.defineProperty(ze,"__esModule",{value:!0});var Ke=qe(1),Je=qe(34),Ze=qe(12),Qe=function(St){function ei(ti){ti===void 0&&(ti=null);var ni=St.call(this)||this;return ni._children=new Set,ni._host=ti,ni}return We(ei,St),ei.prototype.getElementById=function(ti){throw new Error("Mixin: NonElementParentNode not implemented.")},Object.defineProperty(ei.prototype,"children",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"firstElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"lastElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"childElementCount",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),ei.prototype.prepend=function(){for(var ti=[],ni=0;ni<arguments.length;ni++)ti[ni]=arguments[ni];throw new Error("Mixin: ParentNode not implemented.")},ei.prototype.append=function(){for(var ti=[],ni=0;ni<arguments.length;ni++)ti[ni]=arguments[ni];throw new Error("Mixin: ParentNode not implemented.")},ei.prototype.querySelector=function(ti){throw new Error("Mixin: ParentNode not implemented.")},ei.prototype.querySelectorAll=function(ti){throw new Error("Mixin: ParentNode not implemented.")},ei._create=function(ti,ni){ni===void 0&&(ni=null);var oi=new ei(ni);return oi._nodeDocument=ti,oi},ei}(Je.NodeImpl);ze.DocumentFragmentImpl=Qe,Ze.idl_defineConst(Qe.prototype,"_nodeType",Ke.NodeType.DocumentFragment)},function(Ve,ze,qe){var Xe,We=this&&this.__extends||(Xe=function(ti,ni){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(oi,ai){oi.__proto__=ai}||function(oi,ai){for(var si in ai)ai.hasOwnProperty(si)&&(oi[si]=ai[si])})(ti,ni)},function(ti,ni){function oi(){this.constructor=ti}Xe(ti,ni),ti.prototype=ni===null?Object.create(ni):(oi.prototype=ni.prototype,new oi)}),Ke=this&&this.__values||function(ti){var ni=typeof Symbol=="function"&&Symbol.iterator,oi=ni&&ti[ni],ai=0;if(oi)return oi.call(ti);if(ti&&typeof ti.length=="number")return{next:function(){return ti&&ai>=ti.length&&(ti=void 0),{value:ti&&ti[ai++],done:!ti}}};throw new TypeError(ni?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ze,"__esModule",{value:!0});var Je=qe(1),Ze=qe(71),Qe=qe(0),St=qe(12),ei=function(ti){function ni(oi){oi===void 0&&(oi="");var ai=ti.call(this,oi)||this;return ai._name="",ai._assignedSlot=null,ai}return We(ni,ti),Object.defineProperty(ni.prototype,"wholeText",{get:function(){var oi,ai,si="";try{for(var ri=Ke(Qe.text_contiguousTextNodes(this,!0)),ii=ri.next();!ii.done;ii=ri.next())si+=ii.value._data}catch(ui){oi={error:ui}}finally{try{ii&&!ii.done&&(ai=ri.return)&&ai.call(ri)}finally{if(oi)throw oi.error}}return si},enumerable:!0,configurable:!0}),ni.prototype.splitText=function(oi){return Qe.text_split(this,oi)},Object.defineProperty(ni.prototype,"assignedSlot",{get:function(){throw new Error("Mixin: Slotable not implemented.")},enumerable:!0,configurable:!0}),ni._create=function(oi,ai){ai===void 0&&(ai="");var si=new ni(ai);return si._nodeDocument=oi,si},ni}(Ze.CharacterDataImpl);ze.TextImpl=ei,St.idl_defineConst(ei.prototype,"_nodeType",Je.NodeType.Text)},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=function(){function We(){}return Object.defineProperty(We.prototype,"_startNode",{get:function(){return this._start[0]},enumerable:!0,configurable:!0}),Object.defineProperty(We.prototype,"_startOffset",{get:function(){return this._start[1]},enumerable:!0,configurable:!0}),Object.defineProperty(We.prototype,"_endNode",{get:function(){return this._end[0]},enumerable:!0,configurable:!0}),Object.defineProperty(We.prototype,"_endOffset",{get:function(){return this._end[1]},enumerable:!0,configurable:!0}),Object.defineProperty(We.prototype,"_collapsed",{get:function(){return this._start[0]===this._end[0]&&this._start[1]===this._end[1]},enumerable:!0,configurable:!0}),Object.defineProperty(We.prototype,"startContainer",{get:function(){return this._startNode},enumerable:!0,configurable:!0}),Object.defineProperty(We.prototype,"startOffset",{get:function(){return this._startOffset},enumerable:!0,configurable:!0}),Object.defineProperty(We.prototype,"endContainer",{get:function(){return this._endNode},enumerable:!0,configurable:!0}),Object.defineProperty(We.prototype,"endOffset",{get:function(){return this._endOffset},enumerable:!0,configurable:!0}),Object.defineProperty(We.prototype,"collapsed",{get:function(){return this._collapsed},enumerable:!0,configurable:!0}),We}();ze.AbstractRangeImpl=Xe},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=qe(1),We=function(){function Ke(Je){this._activeFlag=!1,this._root=Je,this._whatToShow=Xe.WhatToShow.All,this._filter=null}return Object.defineProperty(Ke.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),Object.defineProperty(Ke.prototype,"whatToShow",{get:function(){return this._whatToShow},enumerable:!0,configurable:!0}),Object.defineProperty(Ke.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),Ke}();ze.TraverserImpl=We},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=qe(1),We=qe(0),Ke=qe(12),Je=function(){function Ze(Qe,St){this._target=null,this._relatedTarget=null,this._touchTargetList=[],this._path=[],this._currentTarget=null,this._eventPhase=Xe.EventPhase.None,this._stopPropagationFlag=!1,this._stopImmediatePropagationFlag=!1,this._canceledFlag=!1,this._inPassiveListenerFlag=!1,this._composedFlag=!1,this._initializedFlag=!1,this._dispatchFlag=!1,this._isTrusted=!1,this._bubbles=!1,this._cancelable=!1,this._type=Qe,St&&(this._bubbles=St.bubbles||!1,this._cancelable=St.cancelable||!1,this._composedFlag=St.composed||!1),this._initializedFlag=!0,this._timeStamp=new Date().getTime()}return Object.defineProperty(Ze.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(Ze.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(Ze.prototype,"srcElement",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(Ze.prototype,"currentTarget",{get:function(){return this._currentTarget},enumerable:!0,configurable:!0}),Ze.prototype.composedPath=function(){var Qe=[],St=this._path;if(St.length===0)return Qe;var ei=this._currentTarget;if(ei===null)throw new Error("Event currentTarget is null.");Qe.push(ei);for(var ti=0,ni=0,oi=St.length-1;oi>=0;){if(St[oi].rootOfClosedTree&&ni++,St[oi].invocationTarget===ei){ti=oi;break}St[oi].slotInClosedTree&&ni--,oi--}var ai=ni,si=ni;for(oi=ti-1;oi>=0;)St[oi].rootOfClosedTree&&ai++,ai<=si&&Qe.unshift(St[oi].invocationTarget),St[oi].slotInClosedTree&&--ai<si&&(si=ai),oi--;for(ai=ni,si=ni,oi=ti+1;oi<St.length;)St[oi].slotInClosedTree&&ai++,ai<=si&&Qe.push(St[oi].invocationTarget),St[oi].rootOfClosedTree&&--ai<si&&(si=ai),oi++;return Qe},Object.defineProperty(Ze.prototype,"eventPhase",{get:function(){return this._eventPhase},enumerable:!0,configurable:!0}),Ze.prototype.stopPropagation=function(){this._stopPropagationFlag=!0},Object.defineProperty(Ze.prototype,"cancelBubble",{get:function(){return this._stopPropagationFlag},set:function(Qe){Qe&&this.stopPropagation()},enumerable:!0,configurable:!0}),Ze.prototype.stopImmediatePropagation=function(){this._stopPropagationFlag=!0,this._stopImmediatePropagationFlag=!0},Object.defineProperty(Ze.prototype,"bubbles",{get:function(){return this._bubbles},enumerable:!0,configurable:!0}),Object.defineProperty(Ze.prototype,"cancelable",{get:function(){return this._cancelable},enumerable:!0,configurable:!0}),Object.defineProperty(Ze.prototype,"returnValue",{get:function(){return!this._canceledFlag},set:function(Qe){Qe||We.event_setTheCanceledFlag(this)},enumerable:!0,configurable:!0}),Ze.prototype.preventDefault=function(){We.event_setTheCanceledFlag(this)},Object.defineProperty(Ze.prototype,"defaultPrevented",{get:function(){return this._canceledFlag},enumerable:!0,configurable:!0}),Object.defineProperty(Ze.prototype,"composed",{get:function(){return this._composedFlag},enumerable:!0,configurable:!0}),Object.defineProperty(Ze.prototype,"isTrusted",{get:function(){return this._isTrusted},enumerable:!0,configurable:!0}),Object.defineProperty(Ze.prototype,"timeStamp",{get:function(){return this._timeStamp},enumerable:!0,configurable:!0}),Ze.prototype.initEvent=function(Qe,St,ei){St===void 0&&(St=!1),ei===void 0&&(ei=!1),this._dispatchFlag||We.event_initialize(this,Qe,St,ei)},Ze.NONE=0,Ze.CAPTURING_PHASE=1,Ze.AT_TARGET=2,Ze.BUBBLING_PHASE=3,Ze}();ze.EventImpl=Je,Ke.idl_defineConst(Je.prototype,"NONE",0),Ke.idl_defineConst(Je.prototype,"CAPTURING_PHASE",1),Ke.idl_defineConst(Je.prototype,"AT_TARGET",2),Ke.idl_defineConst(Je.prototype,"BUBBLING_PHASE",3)},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=qe(1),We=qe(9);ze.traversal_filter=function(Ke,Je){if(Ke._activeFlag)throw new We.InvalidStateError;var Ze=1<<Je._nodeType-1;if(!(Ke.whatToShow&Ze))return Xe.FilterResult.Skip;if(!Ke.filter)return Xe.FilterResult.Accept;Ke._activeFlag=!0;var Qe=Xe.FilterResult.Reject;try{Qe=Ke.filter.acceptNode(Je)}catch(St){throw Ke._activeFlag=!1,St}return Ke._activeFlag=!1,Qe}},function(Ve,ze,qe){var Xe=this&&this.__read||function(si,ri){var ii=typeof Symbol=="function"&&si[Symbol.iterator];if(!ii)return si;var ui,ci,hi=ii.call(si),mi=[];try{for(;(ri===void 0||ri-- >0)&&!(ui=hi.next()).done;)mi.push(ui.value)}catch(di){ci={error:di}}finally{try{ui&&!ui.done&&(ii=hi.return)&&ii.call(hi)}finally{if(ci)throw ci.error}}return mi},We=this&&this.__values||function(si){var ri=typeof Symbol=="function"&&Symbol.iterator,ii=ri&&si[ri],ui=0;if(ii)return ii.call(si);if(si&&typeof si.length=="number")return{next:function(){return si&&ui>=si.length&&(si=void 0),{value:si&&si[ui++],done:!si}}};throw new TypeError(ri?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ze,"__esModule",{value:!0});var Ke=qe(6),Je=qe(3),Ze=qe(2),Qe=qe(99),St=qe(73),ei=qe(17),ti=qe(173),ni=qe(30),oi=qe(52),ai=qe(37);ze.document_elementInterface=function(si,ri){return Qe.ElementImpl},ze.document_internalCreateElementNS=function(si,ri,ii,ui){var ci=Xe(ti.namespace_validateAndExtract(ri,ii),3),hi=ci[0],mi=ci[1],di=ci[2],fi=null;return ui!==void 0&&(fi=Ze.isString(ui)?ui:ui.is),oi.element_createAnElement(si,di,hi,mi,fi,!0)},ze.document_adopt=function(si,ri){var ii,ui;if(si._nodeDocument!==ri||si._parent!==null){var ci=si._nodeDocument;if(si._parent&&ai.mutation_remove(si,si._parent),ri!==ci)for(var hi=ei.tree_getFirstDescendantNode(si,!0,!0);hi!==null;){if(hi._nodeDocument=ri,Je.Guard.isElementNode(hi))try{for(var mi=(ii=void 0,We(hi._attributeList._asArray())),di=mi.next();!di.done;di=mi.next())di.value._nodeDocument=ri}catch(fi){ii={error:fi}}finally{try{di&&!di.done&&(ui=mi.return)&&ui.call(mi)}finally{if(ii)throw ii.error}}Ke.dom.features.customElements&&Je.Guard.isElementNode(hi)&&hi._customElementState==="custom"&&St.customElement_enqueueACustomElementCallbackReaction(hi,"adoptedCallback",[ci,ri]),Ke.dom.features.steps&&ni.dom_runAdoptingSteps(hi,ci),hi=ei.tree_getNextDescendantNode(si,hi,!0,!0)}}}},function(Ve,ze,qe){var Xe=this&&this.__values||function(ei){var ti=typeof Symbol=="function"&&Symbol.iterator,ni=ti&&ei[ti],oi=0;if(ni)return ni.call(ei);if(ei&&typeof ei.length=="number")return{next:function(){return ei&&oi>=ei.length&&(ei=void 0),{value:ei&&ei[oi++],done:!ei}}};throw new TypeError(ti?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ze,"__esModule",{value:!0});var We=qe(6),Ke=qe(3),Je=qe(9),Ze=qe(17),Qe=qe(51),St=qe(30);ze.characterData_replaceData=function(ei,ti,ni,oi){var ai,si,ri=Ze.tree_nodeLength(ei);if(ti>ri)throw new Je.IndexSizeError("Offset exceeds character data length. Offset: "+ti+", Length: "+ri+", Node is "+ei.nodeName+".");ti+ni>ri&&(ni=ri-ti),We.dom.features.mutationObservers&&Qe.observer_queueMutationRecord("characterData",ei,null,null,ei._data,[],[],null,null);var ii=ei._data.substring(0,ti)+oi+ei._data.substring(ti+ni);ei._data=ii;try{for(var ui=Xe(We.dom.rangeList),ci=ui.next();!ci.done;ci=ui.next()){var hi=ci.value;hi._start[0]===ei&&hi._start[1]>ti&&hi._start[1]<=ti+ni&&(hi._start[1]=ti),hi._end[0]===ei&&hi._end[1]>ti&&hi._end[1]<=ti+ni&&(hi._end[1]=ti),hi._start[0]===ei&&hi._start[1]>ti+ni&&(hi._start[1]+=oi.length-ni),hi._end[0]===ei&&hi._end[1]>ti+ni&&(hi._end[1]+=oi.length-ni)}}catch(mi){ai={error:mi}}finally{try{ci&&!ci.done&&(si=ui.return)&&si.call(ui)}finally{if(ai)throw ai.error}}We.dom.features.steps&&Ke.Guard.isTextNode(ei)&&ei._parent!==null&&St.dom_runChildTextContentChangeSteps(ei._parent)},ze.characterData_substringData=function(ei,ti,ni){var oi=Ze.tree_nodeLength(ei);if(ti>oi)throw new Je.IndexSizeError("Offset exceeds character data length. Offset: "+ti+", Length: "+oi+", Node is "+ei.nodeName+".");return ti+ni>oi?ei._data.substr(ti):ei._data.substr(ti,ni)}},function(Ve,ze,qe){var Xe=this&&this.__read||function(St,ei){var ti=typeof Symbol=="function"&&St[Symbol.iterator];if(!ti)return St;var ni,oi,ai=ti.call(St),si=[];try{for(;(ei===void 0||ei-- >0)&&!(ni=ai.next()).done;)si.push(ni.value)}catch(ri){oi={error:ri}}finally{try{ni&&!ni.done&&(ti=ai.return)&&ti.call(ai)}finally{if(oi)throw oi.error}}return si},We=this&&this.__spread||function(){for(var St=[],ei=0;ei<arguments.length;ei++)St=St.concat(Xe(arguments[ei]));return St},Ke=this&&this.__values||function(St){var ei=typeof Symbol=="function"&&Symbol.iterator,ti=ei&&St[ei],ni=0;if(ti)return ti.call(St);if(St&&typeof St.length=="number")return{next:function(){return St&&ni>=St.length&&(St=void 0),{value:St&&St[ni++],done:!St}}};throw new TypeError(ei?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ze,"__esModule",{value:!0});var Je=qe(7);function Ze(St){var ei=Je.string.splitAStringOnASCIIWhitespace(St);return new Set(ei)}function Qe(St){return We(St).join(" ")}ze.orderedSet_parse=Ze,ze.orderedSet_serialize=Qe,ze.orderedSet_sanitize=function(St){return Qe(Ze(St))},ze.orderedSet_contains=function(St,ei,ti){var ni,oi,ai,si;try{for(var ri=Ke(ei),ii=ri.next();!ii.done;ii=ri.next()){var ui=ii.value,ci=!1;try{for(var hi=(ai=void 0,Ke(St)),mi=hi.next();!mi.done;mi=hi.next()){var di=mi.value;if(ti){if(di===ui){ci=!0;break}}else if(di.toUpperCase()===ui.toUpperCase()){ci=!0;break}}}catch(fi){ai={error:fi}}finally{try{mi&&!mi.done&&(si=hi.return)&&si.call(hi)}finally{if(ai)throw ai.error}}if(!ci)return!1}}catch(fi){ni={error:fi}}finally{try{ii&&!ii.done&&(oi=ri.return)&&oi.call(ri)}finally{if(ni)throw ni.error}}return!0}},function(Ve,ze,qe){qe(179),Object.defineProperty(ze,"__esModule",{value:!0});var Xe=qe(263),We=qe(110),Ke=qe(2);We.dom.setFeatures(!1),ze.createDocument=function(){var Je=new Xe.DOMImplementation().createDocument(null,"root",null);return Je.documentElement&&Je.removeChild(Je.documentElement),Je},ze.sanitizeInput=function(Je,Ze){if(Je==null)return Je;if(Ze===void 0)return Je+"";var Qe="";Je+="";for(var St=0;St<Je.length;St++){var ei=Je.charCodeAt(St);if(ei===9||ei===10||ei===13||ei>=32&&ei<=55295||ei>=57344&&ei<=65533)Qe+=Je.charAt(St);else if(ei>=55296&&ei<=56319&&St<Je.length-1){var ti=Je.charCodeAt(St+1);ti>=56320&&ti<=57343?(ei=1024*(ei-55296)+ti-56320+65536,Qe+=String.fromCodePoint(ei),St++):Qe+=Ke.isString(Ze)?Ze:Ze(Je.charAt(St),St,Je)}else Qe+=Ke.isString(Ze)?Ze:Ze(Je.charAt(St),St,Je)}return Qe}},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=qe(2),We=qe(153);ze.AbortController=We.AbortControllerImpl;var Ke=qe(154);ze.AbortSignal=Ke.AbortSignalImpl;var Je=qe(102);ze.AbstractRange=Je.AbstractRangeImpl;var Ze=qe(157);ze.Attr=Ze.AttrImpl;var Qe=qe(158);ze.CDATASection=Qe.CDATASectionImpl;var St=qe(71);ze.CharacterData=St.CharacterDataImpl;var ei=qe(264),ti=qe(159);ze.Comment=ti.CommentImpl;var ni=qe(171);ze.CustomEvent=ni.CustomEventImpl;var oi=qe(100);ze.DocumentFragment=oi.DocumentFragmentImpl;var ai=qe(98);ze.Document=ai.DocumentImpl;var si=qe(265),ri=qe(155);ze.DocumentType=ri.DocumentTypeImpl;var ii=qe(6);ze.dom=ii.dom;var ui=qe(148);ze.DOMImplementation=ui.DOMImplementationImpl;var ci=qe(170);ze.DOMTokenList=ci.DOMTokenListImpl;var hi=qe(99);ze.Element=hi.ElementImpl;var mi=qe(104);ze.Event=mi.EventImpl;var di=qe(70);ze.EventTarget=di.EventTargetImpl;var fi=qe(161);ze.HTMLCollection=fi.HTMLCollectionImpl;var yi=qe(266);ze.MutationObserver=yi.MutationObserverImpl;var pi=qe(169);ze.MutationRecord=pi.MutationRecordImpl;var xi=qe(164);ze.NamedNodeMap=xi.NamedNodeMapImpl;var Si=qe(168);ze.NodeFilter=Si.NodeFilterImpl;var vi=qe(34);ze.Node=vi.NodeImpl;var Di=qe(166);ze.NodeIterator=Di.NodeIteratorImpl;var Ti=qe(162);ze.NodeList=Ti.NodeListImpl;var Fi=qe(163);ze.NodeListStatic=Fi.NodeListStaticImpl;var Ci=qe(267),Ni=qe(268),Ri=qe(269),Yi=qe(160);ze.ProcessingInstruction=Yi.ProcessingInstructionImpl;var ki=qe(165);ze.Range=ki.RangeImpl;var ji=qe(156);ze.ShadowRoot=ji.ShadowRootImpl;var Vi=qe(270),Bi=qe(271);ze.StaticRange=Bi.StaticRangeImpl;var Xi=qe(101);ze.Text=Xi.TextImpl;var en=qe(103);ze.Traverser=en.TraverserImpl;var tn=qe(167);ze.TreeWalker=tn.TreeWalkerImpl;var Ji=qe(149);ze.Window=Ji.WindowImpl;var Li=qe(151);ze.XMLDocument=Li.XMLDocumentImpl,Xe.applyMixin(hi.ElementImpl,ei.ChildNodeImpl),Xe.applyMixin(St.CharacterDataImpl,ei.ChildNodeImpl),Xe.applyMixin(ri.DocumentTypeImpl,ei.ChildNodeImpl),Xe.applyMixin(ai.DocumentImpl,si.DocumentOrShadowRootImpl),Xe.applyMixin(ji.ShadowRootImpl,si.DocumentOrShadowRootImpl),Xe.applyMixin(hi.ElementImpl,Ci.NonDocumentTypeChildNodeImpl),Xe.applyMixin(St.CharacterDataImpl,Ci.NonDocumentTypeChildNodeImpl),Xe.applyMixin(ai.DocumentImpl,Ni.NonElementParentNodeImpl),Xe.applyMixin(oi.DocumentFragmentImpl,Ni.NonElementParentNodeImpl),Xe.applyMixin(ai.DocumentImpl,Ri.ParentNodeImpl),Xe.applyMixin(oi.DocumentFragmentImpl,Ri.ParentNodeImpl),Xe.applyMixin(hi.ElementImpl,Ri.ParentNodeImpl),Xe.applyMixin(Xi.TextImpl,Vi.SlotableImpl),Xe.applyMixin(hi.ElementImpl,Vi.SlotableImpl)},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0}),function(Xe){Xe[Xe.EOF=0]="EOF",Xe[Xe.Declaration=1]="Declaration",Xe[Xe.DocType=2]="DocType",Xe[Xe.Element=3]="Element",Xe[Xe.Text=4]="Text",Xe[Xe.CDATA=5]="CDATA",Xe[Xe.PI=6]="PI",Xe[Xe.Comment=7]="Comment",Xe[Xe.ClosingTag=8]="ClosingTag"}(ze.TokenType||(ze.TokenType={}))},function(Ve,ze,qe){qe(64),qe(20),qe(66);var Xe,We=this&&this.__extends||(Xe=function(Ze,Qe){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(St,ei){St.__proto__=ei}||function(St,ei){for(var ti in ei)ei.hasOwnProperty(ti)&&(St[ti]=ei[ti])})(Ze,Qe)},function(Ze,Qe){function St(){this.constructor=Ze}Xe(Ze,Qe),Ze.prototype=Qe===null?Object.create(Qe):(St.prototype=Qe.prototype,new St)});Object.defineProperty(ze,"__esModule",{value:!0});var Ke=qe(2),Je=function(Ze){function Qe(){return Ze!==null&&Ze.apply(this,arguments)||this}return We(Qe,Ze),Qe.prototype._parse=function(St,ei){var ti=this,ni=this._builderOptions,oi=null;return Ke.isFunction(ei)?oi=this.parse(St,ei.apply(this)):Ke.isArray(ei)||Ke.isSet(ei)?Ke.forEachArray(ei,function(ai){return oi=ti.parse(St,ai)},this):Ke.isMap(ei)||Ke.isObject(ei)?Ke.forEachObject(ei,function(ai,si){if(Ke.isFunction(si)&&(si=si.apply(ti)),ni.ignoreConverters||ai.indexOf(ni.convert.att)!==0)if(ni.ignoreConverters||ai.indexOf(ni.convert.text)!==0)if(ni.ignoreConverters||ai.indexOf(ni.convert.cdata)!==0)if(ni.ignoreConverters||ai.indexOf(ni.convert.comment)!==0)if(ni.ignoreConverters||ai.indexOf(ni.convert.ins)!==0){if(!((Ke.isArray(si)||Ke.isSet(si))&&Ke.isEmpty(si))){if((Ke.isMap(si)||Ke.isObject(si))&&Ke.isEmpty(si))oi=ti.element(St,void 0,ti.sanitize(ai))||oi;else if(ni.keepNullNodes||si!=null)if(Ke.isArray(si)||Ke.isSet(si))Ke.forEachArray(si,function(hi){var mi={};mi[ai]=hi,oi=ti.parse(St,mi)},ti);else if(Ke.isMap(si)||Ke.isObject(si))(ri=ti.element(St,void 0,ti.sanitize(ai)))&&(oi=ri,ti.parse(ri,si));else if(si!=null&&si!==""){var ri;(ri=ti.element(St,void 0,ti.sanitize(ai)))&&(oi=ri,ti.text(ri,ti._decodeText(ti.sanitize(si))))}else oi=ti.element(St,void 0,ti.sanitize(ai))||oi}}else if(Ke.isString(si)){var ii=si.indexOf(" "),ui=ii===-1?si:si.substr(0,ii),ci=ii===-1?"":si.substr(ii+1);oi=ti.instruction(St,ti.sanitize(ui),ti.sanitize(ci))||oi}else Ke.isArray(si)||Ke.isSet(si)?Ke.forEachArray(si,function(hi){var mi=hi.indexOf(" "),di=mi===-1?hi:hi.substr(0,mi),fi=mi===-1?"":hi.substr(mi+1);oi=ti.instruction(St,ti.sanitize(di),ti.sanitize(fi))||oi},ti):Ke.forEachObject(si,function(hi,mi){return oi=ti.instruction(St,ti.sanitize(hi),ti.sanitize(mi))||oi},ti);else Ke.isArray(si)||Ke.isSet(si)?Ke.forEachArray(si,function(hi){return oi=ti.comment(St,ti.sanitize(hi))||oi},ti):oi=ti.comment(St,ti.sanitize(si))||oi;else Ke.isArray(si)||Ke.isSet(si)?Ke.forEachArray(si,function(hi){return oi=ti.cdata(St,ti.sanitize(hi))||oi},ti):oi=ti.cdata(St,ti.sanitize(si))||oi;else oi=Ke.isMap(si)||Ke.isObject(si)?ti.parse(St,si):ti.text(St,ti._decodeText(ti.sanitize(si)))||oi;else if(ai===ni.convert.att){if(Ke.isArray(si)||Ke.isSet(si))throw new Error("Invalid attribute: "+si.toString()+". "+St._debugInfo());Ke.forEachObject(si,function(hi,mi){oi=ti.attribute(St,void 0,ti.sanitize(hi),ti._decodeAttributeValue(ti.sanitize(mi)))||oi})}else oi=ti.attribute(St,void 0,ti.sanitize(ai.substr(ni.convert.att.length)),ti._decodeAttributeValue(ti.sanitize(si)))||oi},this):(ni.keepNullNodes||ei!=null)&&(oi=this.text(St,this._decodeText(this.sanitize(ei)))||oi),oi||St},Qe}(qe(75).BaseReader);ze.ObjectReader=Je},function(Ve,ze,qe){var Xe=qe(39);Ve.exports=new Xe({explicit:[qe(287),qe(288),qe(289)]})},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=function(We){this.level=0,this._builderOptions=We,this._writerOptions=We};ze.BaseCBWriter=Xe},function(Ve,ze,qe){var Xe=qe(16),We=qe(8),Ke=qe(116);Ve.exports=!Xe&&!We(function(){return Object.defineProperty(Ke("div"),"a",{get:function(){return 7}}).a!=7})},function(Ve,ze,qe){var Xe=qe(11),We=qe(13),Ke=Xe.document,Je=We(Ke)&&We(Ke.createElement);Ve.exports=function(Ze){return Je?Ke.createElement(Ze):{}}},function(Ve,ze,qe){var Xe=qe(118),We=Function.toString;typeof Xe.inspectSource!="function"&&(Xe.inspectSource=function(Ke){return We.call(Ke)}),Ve.exports=Xe.inspectSource},function(Ve,ze,qe){var Xe=qe(11),We=qe(80),Ke=Xe["__core-js_shared__"]||We("__core-js_shared__",{});Ve.exports=Ke},function(Ve,ze,qe){var Xe=qe(14),We=qe(187),Ke=qe(55),Je=qe(15);Ve.exports=function(Ze,Qe){for(var St=We(Qe),ei=Je.f,ti=Ke.f,ni=0;ni<St.length;ni++){var oi=St[ni];Xe(Ze,oi)||ei(Ze,oi,ti(Qe,oi))}}},function(Ve,ze,qe){var Xe=qe(11);Ve.exports=Xe},function(Ve,ze,qe){var Xe=qe(14),We=qe(24),Ke=qe(122).indexOf,Je=qe(45);Ve.exports=function(Ze,Qe){var St,ei=We(Ze),ti=0,ni=[];for(St in ei)!Xe(Je,St)&&Xe(ei,St)&&ni.push(St);for(;Qe.length>ti;)Xe(ei,St=Qe[ti++])&&(~Ke(ni,St)||ni.push(St));return ni}},function(Ve,ze,qe){var Xe=qe(24),We=qe(26),Ke=qe(83),Je=function(Ze){return function(Qe,St,ei){var ti,ni=Xe(Qe),oi=We(ni.length),ai=Ke(ei,oi);if(Ze&&St!=St){for(;oi>ai;)if((ti=ni[ai++])!=ti)return!0}else for(;oi>ai;ai++)if((Ze||ai in ni)&&ni[ai]===St)return Ze||ai||0;return!Ze&&-1}};Ve.exports={includes:Je(!0),indexOf:Je(!1)}},function(Ve,ze,qe){var Xe=qe(8),We=/#|\.prototype\./,Ke=function(ei,ti){var ni=Ze[Je(ei)];return ni==St||ni!=Qe&&(typeof ti=="function"?Xe(ti):!!ti)},Je=Ke.normalize=function(ei){return String(ei).replace(We,".").toLowerCase()},Ze=Ke.data={},Qe=Ke.NATIVE="N",St=Ke.POLYFILL="P";Ve.exports=Ke},function(Ve,ze,qe){var Xe=qe(86);Ve.exports=Xe&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(Ve,ze,qe){var Xe=qe(5);ze.f=Xe},function(Ve,ze,qe){var Xe=qe(120),We=qe(14),Ke=qe(125),Je=qe(15).f;Ve.exports=function(Ze){var Qe=Xe.Symbol||(Xe.Symbol={});We(Qe,Ze)||Je(Qe,Ze,{value:Ke.f(Ze)})}},function(Ve,ze){Ve.exports=function(qe){if(typeof qe!="function")throw TypeError(String(qe)+" is not a function");return qe}},function(Ve,ze,qe){var Xe=qe(13),We=qe(59),Ke=qe(5)("species");Ve.exports=function(Je,Ze){var Qe;return We(Je)&&(typeof(Qe=Je.constructor)!="function"||Qe!==Array&&!We(Qe.prototype)?Xe(Qe)&&(Qe=Qe[Ke])===null&&(Qe=void 0):Qe=void 0),new(Qe===void 0?Array:Qe)(Ze===0?0:Ze)}},function(Ve,ze,qe){var Xe,We,Ke=qe(11),Je=qe(193),Ze=Ke.process,Qe=Ze&&Ze.versions,St=Qe&&Qe.v8;St?We=(Xe=St.split("."))[0]+Xe[1]:Je&&(!(Xe=Je.match(/Edge\/(\d+)/))||Xe[1]>=74)&&(Xe=Je.match(/Chrome\/(\d+)/))&&(We=Xe[1]),Ve.exports=We&&+We},function(Ve,ze,qe){var Xe=qe(5),We=qe(60),Ke=qe(15),Je=Xe("unscopables"),Ze=Array.prototype;Ze[Je]==null&&Ke.f(Ze,Je,{configurable:!0,value:We(null)}),Ve.exports=function(Qe){Ze[Je][Qe]=!0}},function(Ve,ze,qe){var Xe,We,Ke,Je=qe(132),Ze=qe(21),Qe=qe(14),St=qe(5),ei=qe(44),ti=St("iterator"),ni=!1;[].keys&&("next"in(Ke=[].keys())?(We=Je(Je(Ke)))!==Object.prototype&&(Xe=We):ni=!0),Xe==null&&(Xe={}),ei||Qe(Xe,ti)||Ze(Xe,ti,function(){return this}),Ve.exports={IteratorPrototype:Xe,BUGGY_SAFARI_ITERATORS:ni}},function(Ve,ze,qe){var Xe=qe(14),We=qe(27),Ke=qe(57),Je=qe(196),Ze=Ke("IE_PROTO"),Qe=Object.prototype;Ve.exports=Je?Object.getPrototypeOf:function(St){return St=We(St),Xe(St,Ze)?St[Ze]:typeof St.constructor=="function"&&St instanceof St.constructor?St.constructor.prototype:St instanceof Object?Qe:null}},function(Ve,ze,qe){var Xe=qe(18),We=qe(197);Ve.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var Ke,Je=!1,Ze={};try{(Ke=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(Ze,[]),Je=Ze instanceof Array}catch{}return function(Qe,St){return Xe(Qe),We(St),Je?Ke.call(Qe,St):Qe.__proto__=St,Qe}}():void 0)},function(Ve,ze,qe){var Xe=qe(56),We=qe(15),Ke=qe(40);Ve.exports=function(Je,Ze,Qe){var St=Xe(Ze);St in Je?We.f(Je,St,Ke(0,Qe)):Je[St]=Qe}},function(Ve,ze,qe){var Xe=qe(90),We=qe(42),Ke=qe(5)("toStringTag"),Je=We(function(){return arguments}())=="Arguments";Ve.exports=Xe?We:function(Ze){var Qe,St,ei;return Ze===void 0?"Undefined":Ze===null?"Null":typeof(St=function(ti,ni){try{return ti[ni]}catch{}}(Qe=Object(Ze),Ke))=="string"?St:Je?We(Qe):(ei=We(Qe))=="Object"&&typeof Qe.callee=="function"?"Arguments":ei}},function(Ve,ze,qe){var Xe=qe(18);Ve.exports=function(){var We=Xe(this),Ke="";return We.global&&(Ke+="g"),We.ignoreCase&&(Ke+="i"),We.multiline&&(Ke+="m"),We.dotAll&&(Ke+="s"),We.unicode&&(Ke+="u"),We.sticky&&(Ke+="y"),Ke}},function(Ve,ze,qe){var Xe=qe(47),We=qe(35),Ke=function(Je){return function(Ze,Qe){var St,ei,ti=String(We(Ze)),ni=Xe(Qe),oi=ti.length;return ni<0||ni>=oi?Je?"":void 0:(St=ti.charCodeAt(ni))<55296||St>56319||ni+1===oi||(ei=ti.charCodeAt(ni+1))<56320||ei>57343?Je?ti.charAt(ni):St:Je?ti.slice(ni,ni+2):ei-56320+(St-55296<<10)+65536}};Ve.exports={codeAt:Ke(!1),charAt:Ke(!0)}},function(Ve,ze,qe){var Xe=qe(4),We=qe(27),Ke=qe(61);Xe({target:"Object",stat:!0,forced:qe(8)(function(){Ke(1)})},{keys:function(Je){return Ke(We(Je))}})},function(Ve,ze,qe){var Xe=qe(4),We=qe(11),Ke=qe(123),Je=qe(25),Ze=qe(140),Qe=qe(141),St=qe(142),ei=qe(13),ti=qe(8),ni=qe(208),oi=qe(62),ai=qe(209);Ve.exports=function(si,ri,ii){var ui=si.indexOf("Map")!==-1,ci=si.indexOf("Weak")!==-1,hi=ui?"set":"add",mi=We[si],di=mi&&mi.prototype,fi=mi,yi={},pi=function(Fi){var Ci=di[Fi];Je(di,Fi,Fi=="add"?function(Ni){return Ci.call(this,Ni===0?0:Ni),this}:Fi=="delete"?function(Ni){return!(ci&&!ei(Ni))&&Ci.call(this,Ni===0?0:Ni)}:Fi=="get"?function(Ni){return ci&&!ei(Ni)?void 0:Ci.call(this,Ni===0?0:Ni)}:Fi=="has"?function(Ni){return!(ci&&!ei(Ni))&&Ci.call(this,Ni===0?0:Ni)}:function(Ni,Ri){return Ci.call(this,Ni===0?0:Ni,Ri),this})};if(Ke(si,typeof mi!="function"||!(ci||di.forEach&&!ti(function(){new mi().entries().next()}))))fi=ii.getConstructor(ri,si,ui,hi),Ze.REQUIRED=!0;else if(Ke(si,!0)){var xi=new fi,Si=xi[hi](ci?{}:-0,1)!=xi,vi=ti(function(){xi.has(1)}),Di=ni(function(Fi){new mi(Fi)}),Ti=!ci&&ti(function(){for(var Fi=new mi,Ci=5;Ci--;)Fi[hi](Ci,Ci);return!Fi.has(-0)});Di||((fi=ri(function(Fi,Ci){St(Fi,fi,si);var Ni=ai(new mi,Fi,fi);return Ci!=null&&Qe(Ci,Ni[hi],Ni,ui),Ni})).prototype=di,di.constructor=fi),(vi||Ti)&&(pi("delete"),pi("has"),ui&&pi("get")),(Ti||Si)&&pi(hi),ci&&di.clear&&delete di.clear}return yi[si]=fi,Xe({global:!0,forced:fi!=mi},yi),oi(fi,si),ci||ii.setStrong(fi,si,ui),fi}},function(Ve,ze,qe){var Xe=qe(45),We=qe(13),Ke=qe(14),Je=qe(15).f,Ze=qe(58),Qe=qe(204),St=Ze("meta"),ei=0,ti=Object.isExtensible||function(){return!0},ni=function(ai){Je(ai,St,{value:{objectID:"O"+ ++ei,weakData:{}}})},oi=Ve.exports={REQUIRED:!1,fastKey:function(ai,si){if(!We(ai))return typeof ai=="symbol"?ai:(typeof ai=="string"?"S":"P")+ai;if(!Ke(ai,St)){if(!ti(ai))return"F";if(!si)return"E";ni(ai)}return ai[St].objectID},getWeakData:function(ai,si){if(!Ke(ai,St)){if(!ti(ai))return!0;if(!si)return!1;ni(ai)}return ai[St].weakData},onFreeze:function(ai){return Qe&&oi.REQUIRED&&ti(ai)&&!Ke(ai,St)&&ni(ai),ai}};Xe[St]=!0},function(Ve,ze,qe){var Xe=qe(18),We=qe(205),Ke=qe(26),Je=qe(87),Ze=qe(206),Qe=qe(207),St=function(ei,ti){this.stopped=ei,this.result=ti};(Ve.exports=function(ei,ti,ni,oi,ai){var si,ri,ii,ui,ci,hi,mi,di=Je(ti,ni,oi?2:1);if(ai)si=ei;else{if(typeof(ri=Ze(ei))!="function")throw TypeError("Target is not iterable");if(We(ri)){for(ii=0,ui=Ke(ei.length);ui>ii;ii++)if((ci=oi?di(Xe(mi=ei[ii])[0],mi[1]):di(ei[ii]))&&ci instanceof St)return ci;return new St(!1)}si=ri.call(ei)}for(hi=si.next;!(mi=hi.call(si)).done;)if(typeof(ci=Qe(si,di,mi.value,oi))=="object"&&ci&&ci instanceof St)return ci;return new St(!1)}).stop=function(ei){return new St(!0,ei)}},function(Ve,ze){Ve.exports=function(qe,Xe,We){if(!(qe instanceof Xe))throw TypeError("Incorrect "+(We?We+" ":"")+"invocation");return qe}},function(Ve,ze,qe){var Xe=qe(15).f,We=qe(60),Ke=qe(210),Je=qe(87),Ze=qe(142),Qe=qe(141),St=qe(88),ei=qe(211),ti=qe(16),ni=qe(140).fastKey,oi=qe(43),ai=oi.set,si=oi.getterFor;Ve.exports={getConstructor:function(ri,ii,ui,ci){var hi=ri(function(yi,pi){Ze(yi,hi,ii),ai(yi,{type:ii,index:We(null),first:void 0,last:void 0,size:0}),ti||(yi.size=0),pi!=null&&Qe(pi,yi[ci],yi,ui)}),mi=si(ii),di=function(yi,pi,xi){var Si,vi,Di=mi(yi),Ti=fi(yi,pi);return Ti?Ti.value=xi:(Di.last=Ti={index:vi=ni(pi,!0),key:pi,value:xi,previous:Si=Di.last,next:void 0,removed:!1},Di.first||(Di.first=Ti),Si&&(Si.next=Ti),ti?Di.size++:yi.size++,vi!=="F"&&(Di.index[vi]=Ti)),yi},fi=function(yi,pi){var xi,Si=mi(yi),vi=ni(pi);if(vi!=="F")return Si.index[vi];for(xi=Si.first;xi;xi=xi.next)if(xi.key==pi)return xi};return Ke(hi.prototype,{clear:function(){for(var yi=mi(this),pi=yi.index,xi=yi.first;xi;)xi.removed=!0,xi.previous&&(xi.previous=xi.previous.next=void 0),delete pi[xi.index],xi=xi.next;yi.first=yi.last=void 0,ti?yi.size=0:this.size=0},delete:function(yi){var pi=mi(this),xi=fi(this,yi);if(xi){var Si=xi.next,vi=xi.previous;delete pi.index[xi.index],xi.removed=!0,vi&&(vi.next=Si),Si&&(Si.previous=vi),pi.first==xi&&(pi.first=Si),pi.last==xi&&(pi.last=vi),ti?pi.size--:this.size--}return!!xi},forEach:function(yi){for(var pi,xi=mi(this),Si=Je(yi,arguments.length>1?arguments[1]:void 0,3);pi=pi?pi.next:xi.first;)for(Si(pi.value,pi.key,this);pi&&pi.removed;)pi=pi.previous},has:function(yi){return!!fi(this,yi)}}),Ke(hi.prototype,ui?{get:function(yi){var pi=fi(this,yi);return pi&&pi.value},set:function(yi,pi){return di(this,yi===0?0:yi,pi)}}:{add:function(yi){return di(this,yi=yi===0?0:yi,yi)}}),ti&&Xe(hi.prototype,"size",{get:function(){return mi(this).size}}),hi},setStrong:function(ri,ii,ui){var ci=ii+" Iterator",hi=si(ii),mi=si(ci);St(ri,ii,function(di,fi){ai(this,{type:ci,target:di,state:hi(di),kind:fi,last:void 0})},function(){for(var di=mi(this),fi=di.kind,yi=di.last;yi&&yi.removed;)yi=yi.previous;return di.target&&(di.last=yi=yi?yi.next:di.state.first)?fi=="keys"?{value:yi.key,done:!1}:fi=="values"?{value:yi.value,done:!1}:{value:[yi.key,yi.value],done:!1}:(di.target=void 0,{value:void 0,done:!0})},ui?"entries":"values",!ui,!0),ei(ii)}}},function(Ve,ze,qe){var Xe,We=qe(4),Ke=qe(55).f,Je=qe(26),Ze=qe(222),Qe=qe(35),St=qe(224),ei=qe(44),ti="".endsWith,ni=Math.min,oi=St("endsWith");We({target:"String",proto:!0,forced:!!(ei||oi||(Xe=Ke(String.prototype,"endsWith"),!Xe||Xe.writable))&&!oi},{endsWith:function(ai){var si=String(Qe(this));Ze(ai);var ri=arguments.length>1?arguments[1]:void 0,ii=Je(si.length),ui=ri===void 0?ii:ni(Je(ri),ii),ci=String(ai);return ti?ti.call(si,ci,ui):si.slice(ui-ci.length,ui)===ci}})},function(Ve,ze,qe){(function(Xe){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var We=qe(229),Ke=qe(230),Je=qe(231);function Ze(){return St.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Qe(Li,wi){if(Ze()<wi)throw new RangeError("Invalid typed array length");return St.TYPED_ARRAY_SUPPORT?(Li=new Uint8Array(wi)).__proto__=St.prototype:(Li===null&&(Li=new St(wi)),Li.length=wi),Li}function St(Li,wi,_i){if(!(St.TYPED_ARRAY_SUPPORT||this instanceof St))return new St(Li,wi,_i);if(typeof Li=="number"){if(typeof wi=="string")throw new Error("If encoding is specified then the first argument must be a string");return ni(this,Li)}return ei(this,Li,wi,_i)}function ei(Li,wi,_i,Ai){if(typeof wi=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&wi instanceof ArrayBuffer?function(Oi,Ii,Mi,Gi){if(Ii.byteLength,Mi<0||Ii.byteLength<Mi)throw new RangeError("'offset' is out of bounds");if(Ii.byteLength<Mi+(Gi||0))throw new RangeError("'length' is out of bounds");return Ii=Mi===void 0&&Gi===void 0?new Uint8Array(Ii):Gi===void 0?new Uint8Array(Ii,Mi):new Uint8Array(Ii,Mi,Gi),St.TYPED_ARRAY_SUPPORT?(Oi=Ii).__proto__=St.prototype:Oi=oi(Oi,Ii),Oi}(Li,wi,_i,Ai):typeof wi=="string"?function(Oi,Ii,Mi){if(typeof Mi=="string"&&Mi!==""||(Mi="utf8"),!St.isEncoding(Mi))throw new TypeError('"encoding" must be a valid string encoding');var Gi=0|si(Ii,Mi),on=(Oi=Qe(Oi,Gi)).write(Ii,Mi);return on!==Gi&&(Oi=Oi.slice(0,on)),Oi}(Li,wi,_i):function(Oi,Ii){if(St.isBuffer(Ii)){var Mi=0|ai(Ii.length);return(Oi=Qe(Oi,Mi)).length===0||Ii.copy(Oi,0,0,Mi),Oi}if(Ii){if(typeof ArrayBuffer<"u"&&Ii.buffer instanceof ArrayBuffer||"length"in Ii)return typeof Ii.length!="number"||(Gi=Ii.length)!=Gi?Qe(Oi,0):oi(Oi,Ii);if(Ii.type==="Buffer"&&Je(Ii.data))return oi(Oi,Ii.data)}var Gi;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(Li,wi)}function ti(Li){if(typeof Li!="number")throw new TypeError('"size" argument must be a number');if(Li<0)throw new RangeError('"size" argument must not be negative')}function ni(Li,wi){if(ti(wi),Li=Qe(Li,wi<0?0:0|ai(wi)),!St.TYPED_ARRAY_SUPPORT)for(var _i=0;_i<wi;++_i)Li[_i]=0;return Li}function oi(Li,wi){var _i=wi.length<0?0:0|ai(wi.length);Li=Qe(Li,_i);for(var Ai=0;Ai<_i;Ai+=1)Li[Ai]=255&wi[Ai];return Li}function ai(Li){if(Li>=Ze())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Ze().toString(16)+" bytes");return 0|Li}function si(Li,wi){if(St.isBuffer(Li))return Li.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(Li)||Li instanceof ArrayBuffer))return Li.byteLength;typeof Li!="string"&&(Li=""+Li);var _i=Li.length;if(_i===0)return 0;for(var Ai=!1;;)switch(wi){case"ascii":case"latin1":case"binary":return _i;case"utf8":case"utf-8":case void 0:return en(Li).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*_i;case"hex":return _i>>>1;case"base64":return tn(Li).length;default:if(Ai)return en(Li).length;wi=(""+wi).toLowerCase(),Ai=!0}}function ri(Li,wi,_i){var Ai=!1;if((wi===void 0||wi<0)&&(wi=0),wi>this.length||((_i===void 0||_i>this.length)&&(_i=this.length),_i<=0)||(_i>>>=0)<=(wi>>>=0))return"";for(Li||(Li="utf8");;)switch(Li){case"hex":return Ti(this,wi,_i);case"utf8":case"utf-8":return Si(this,wi,_i);case"ascii":return vi(this,wi,_i);case"latin1":case"binary":return Di(this,wi,_i);case"base64":return xi(this,wi,_i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Fi(this,wi,_i);default:if(Ai)throw new TypeError("Unknown encoding: "+Li);Li=(Li+"").toLowerCase(),Ai=!0}}function ii(Li,wi,_i){var Ai=Li[wi];Li[wi]=Li[_i],Li[_i]=Ai}function ui(Li,wi,_i,Ai,Oi){if(Li.length===0)return-1;if(typeof _i=="string"?(Ai=_i,_i=0):_i>2147483647?_i=2147483647:_i<-2147483648&&(_i=-2147483648),_i=+_i,isNaN(_i)&&(_i=Oi?0:Li.length-1),_i<0&&(_i=Li.length+_i),_i>=Li.length){if(Oi)return-1;_i=Li.length-1}else if(_i<0){if(!Oi)return-1;_i=0}if(typeof wi=="string"&&(wi=St.from(wi,Ai)),St.isBuffer(wi))return wi.length===0?-1:ci(Li,wi,_i,Ai,Oi);if(typeof wi=="number")return wi&=255,St.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?Oi?Uint8Array.prototype.indexOf.call(Li,wi,_i):Uint8Array.prototype.lastIndexOf.call(Li,wi,_i):ci(Li,[wi],_i,Ai,Oi);throw new TypeError("val must be string, number or Buffer")}function ci(Li,wi,_i,Ai,Oi){var Ii,Mi=1,Gi=Li.length,on=wi.length;if(Ai!==void 0&&((Ai=String(Ai).toLowerCase())==="ucs2"||Ai==="ucs-2"||Ai==="utf16le"||Ai==="utf-16le")){if(Li.length<2||wi.length<2)return-1;Mi=2,Gi/=2,on/=2,_i/=2}function Ui(hn,Sn){return Mi===1?hn[Sn]:hn.readUInt16BE(Sn*Mi)}if(Oi){var rn=-1;for(Ii=_i;Ii<Gi;Ii++)if(Ui(Li,Ii)===Ui(wi,rn===-1?0:Ii-rn)){if(rn===-1&&(rn=Ii),Ii-rn+1===on)return rn*Mi}else rn!==-1&&(Ii-=Ii-rn),rn=-1}else for(_i+on>Gi&&(_i=Gi-on),Ii=_i;Ii>=0;Ii--){for(var un=!0,dn=0;dn<on;dn++)if(Ui(Li,Ii+dn)!==Ui(wi,dn)){un=!1;break}if(un)return Ii}return-1}function hi(Li,wi,_i,Ai){_i=Number(_i)||0;var Oi=Li.length-_i;Ai?(Ai=Number(Ai))>Oi&&(Ai=Oi):Ai=Oi;var Ii=wi.length;if(Ii%2!=0)throw new TypeError("Invalid hex string");Ai>Ii/2&&(Ai=Ii/2);for(var Mi=0;Mi<Ai;++Mi){var Gi=parseInt(wi.substr(2*Mi,2),16);if(isNaN(Gi))return Mi;Li[_i+Mi]=Gi}return Mi}function mi(Li,wi,_i,Ai){return Ji(en(wi,Li.length-_i),Li,_i,Ai)}function di(Li,wi,_i,Ai){return Ji(function(Oi){for(var Ii=[],Mi=0;Mi<Oi.length;++Mi)Ii.push(255&Oi.charCodeAt(Mi));return Ii}(wi),Li,_i,Ai)}function fi(Li,wi,_i,Ai){return di(Li,wi,_i,Ai)}function yi(Li,wi,_i,Ai){return Ji(tn(wi),Li,_i,Ai)}function pi(Li,wi,_i,Ai){return Ji(function(Oi,Ii){for(var Mi,Gi,on,Ui=[],rn=0;rn<Oi.length&&!((Ii-=2)<0);++rn)Mi=Oi.charCodeAt(rn),Gi=Mi>>8,on=Mi%256,Ui.push(on),Ui.push(Gi);return Ui}(wi,Li.length-_i),Li,_i,Ai)}function xi(Li,wi,_i){return wi===0&&_i===Li.length?We.fromByteArray(Li):We.fromByteArray(Li.slice(wi,_i))}function Si(Li,wi,_i){_i=Math.min(Li.length,_i);for(var Ai=[],Oi=wi;Oi<_i;){var Ii,Mi,Gi,on,Ui=Li[Oi],rn=null,un=Ui>239?4:Ui>223?3:Ui>191?2:1;if(Oi+un<=_i)switch(un){case 1:Ui<128&&(rn=Ui);break;case 2:(192&(Ii=Li[Oi+1]))==128&&(on=(31&Ui)<<6|63&Ii)>127&&(rn=on);break;case 3:Ii=Li[Oi+1],Mi=Li[Oi+2],(192&Ii)==128&&(192&Mi)==128&&(on=(15&Ui)<<12|(63&Ii)<<6|63&Mi)>2047&&(on<55296||on>57343)&&(rn=on);break;case 4:Ii=Li[Oi+1],Mi=Li[Oi+2],Gi=Li[Oi+3],(192&Ii)==128&&(192&Mi)==128&&(192&Gi)==128&&(on=(15&Ui)<<18|(63&Ii)<<12|(63&Mi)<<6|63&Gi)>65535&&on<1114112&&(rn=on)}rn===null?(rn=65533,un=1):rn>65535&&(rn-=65536,Ai.push(rn>>>10&1023|55296),rn=56320|1023&rn),Ai.push(rn),Oi+=un}return function(dn){var hn=dn.length;if(hn<=4096)return String.fromCharCode.apply(String,dn);for(var Sn="",fn=0;fn<hn;)Sn+=String.fromCharCode.apply(String,dn.slice(fn,fn+=4096));return Sn}(Ai)}ze.Buffer=St,ze.SlowBuffer=function(Li){return+Li!=Li&&(Li=0),St.alloc(+Li)},ze.INSPECT_MAX_BYTES=50,St.TYPED_ARRAY_SUPPORT=Xe.TYPED_ARRAY_SUPPORT!==void 0?Xe.TYPED_ARRAY_SUPPORT:function(){try{var Li=new Uint8Array(1);return Li.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},Li.foo()===42&&typeof Li.subarray=="function"&&Li.subarray(1,1).byteLength===0}catch{return!1}}(),ze.kMaxLength=Ze(),St.poolSize=8192,St._augment=function(Li){return Li.__proto__=St.prototype,Li},St.from=function(Li,wi,_i){return ei(null,Li,wi,_i)},St.TYPED_ARRAY_SUPPORT&&(St.prototype.__proto__=Uint8Array.prototype,St.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&St[Symbol.species]===St&&Object.defineProperty(St,Symbol.species,{value:null,configurable:!0})),St.alloc=function(Li,wi,_i){return function(Ai,Oi,Ii,Mi){return ti(Oi),Oi<=0?Qe(Ai,Oi):Ii!==void 0?typeof Mi=="string"?Qe(Ai,Oi).fill(Ii,Mi):Qe(Ai,Oi).fill(Ii):Qe(Ai,Oi)}(null,Li,wi,_i)},St.allocUnsafe=function(Li){return ni(null,Li)},St.allocUnsafeSlow=function(Li){return ni(null,Li)},St.isBuffer=function(Li){return!(Li==null||!Li._isBuffer)},St.compare=function(Li,wi){if(!St.isBuffer(Li)||!St.isBuffer(wi))throw new TypeError("Arguments must be Buffers");if(Li===wi)return 0;for(var _i=Li.length,Ai=wi.length,Oi=0,Ii=Math.min(_i,Ai);Oi<Ii;++Oi)if(Li[Oi]!==wi[Oi]){_i=Li[Oi],Ai=wi[Oi];break}return _i<Ai?-1:Ai<_i?1:0},St.isEncoding=function(Li){switch(String(Li).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},St.concat=function(Li,wi){if(!Je(Li))throw new TypeError('"list" argument must be an Array of Buffers');if(Li.length===0)return St.alloc(0);var _i;if(wi===void 0)for(wi=0,_i=0;_i<Li.length;++_i)wi+=Li[_i].length;var Ai=St.allocUnsafe(wi),Oi=0;for(_i=0;_i<Li.length;++_i){var Ii=Li[_i];if(!St.isBuffer(Ii))throw new TypeError('"list" argument must be an Array of Buffers');Ii.copy(Ai,Oi),Oi+=Ii.length}return Ai},St.byteLength=si,St.prototype._isBuffer=!0,St.prototype.swap16=function(){var Li=this.length;if(Li%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var wi=0;wi<Li;wi+=2)ii(this,wi,wi+1);return this},St.prototype.swap32=function(){var Li=this.length;if(Li%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var wi=0;wi<Li;wi+=4)ii(this,wi,wi+3),ii(this,wi+1,wi+2);return this},St.prototype.swap64=function(){var Li=this.length;if(Li%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var wi=0;wi<Li;wi+=8)ii(this,wi,wi+7),ii(this,wi+1,wi+6),ii(this,wi+2,wi+5),ii(this,wi+3,wi+4);return this},St.prototype.toString=function(){var Li=0|this.length;return Li===0?"":arguments.length===0?Si(this,0,Li):ri.apply(this,arguments)},St.prototype.equals=function(Li){if(!St.isBuffer(Li))throw new TypeError("Argument must be a Buffer");return this===Li||St.compare(this,Li)===0},St.prototype.inspect=function(){var Li="",wi=ze.INSPECT_MAX_BYTES;return this.length>0&&(Li=this.toString("hex",0,wi).match(/.{2}/g).join(" "),this.length>wi&&(Li+=" ... ")),"<Buffer "+Li+">"},St.prototype.compare=function(Li,wi,_i,Ai,Oi){if(!St.isBuffer(Li))throw new TypeError("Argument must be a Buffer");if(wi===void 0&&(wi=0),_i===void 0&&(_i=Li?Li.length:0),Ai===void 0&&(Ai=0),Oi===void 0&&(Oi=this.length),wi<0||_i>Li.length||Ai<0||Oi>this.length)throw new RangeError("out of range index");if(Ai>=Oi&&wi>=_i)return 0;if(Ai>=Oi)return-1;if(wi>=_i)return 1;if(this===Li)return 0;for(var Ii=(Oi>>>=0)-(Ai>>>=0),Mi=(_i>>>=0)-(wi>>>=0),Gi=Math.min(Ii,Mi),on=this.slice(Ai,Oi),Ui=Li.slice(wi,_i),rn=0;rn<Gi;++rn)if(on[rn]!==Ui[rn]){Ii=on[rn],Mi=Ui[rn];break}return Ii<Mi?-1:Mi<Ii?1:0},St.prototype.includes=function(Li,wi,_i){return this.indexOf(Li,wi,_i)!==-1},St.prototype.indexOf=function(Li,wi,_i){return ui(this,Li,wi,_i,!0)},St.prototype.lastIndexOf=function(Li,wi,_i){return ui(this,Li,wi,_i,!1)},St.prototype.write=function(Li,wi,_i,Ai){if(wi===void 0)Ai="utf8",_i=this.length,wi=0;else if(_i===void 0&&typeof wi=="string")Ai=wi,_i=this.length,wi=0;else{if(!isFinite(wi))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");wi|=0,isFinite(_i)?(_i|=0,Ai===void 0&&(Ai="utf8")):(Ai=_i,_i=void 0)}var Oi=this.length-wi;if((_i===void 0||_i>Oi)&&(_i=Oi),Li.length>0&&(_i<0||wi<0)||wi>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ai||(Ai="utf8");for(var Ii=!1;;)switch(Ai){case"hex":return hi(this,Li,wi,_i);case"utf8":case"utf-8":return mi(this,Li,wi,_i);case"ascii":return di(this,Li,wi,_i);case"latin1":case"binary":return fi(this,Li,wi,_i);case"base64":return yi(this,Li,wi,_i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pi(this,Li,wi,_i);default:if(Ii)throw new TypeError("Unknown encoding: "+Ai);Ai=(""+Ai).toLowerCase(),Ii=!0}},St.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function vi(Li,wi,_i){var Ai="";_i=Math.min(Li.length,_i);for(var Oi=wi;Oi<_i;++Oi)Ai+=String.fromCharCode(127&Li[Oi]);return Ai}function Di(Li,wi,_i){var Ai="";_i=Math.min(Li.length,_i);for(var Oi=wi;Oi<_i;++Oi)Ai+=String.fromCharCode(Li[Oi]);return Ai}function Ti(Li,wi,_i){var Ai=Li.length;(!wi||wi<0)&&(wi=0),(!_i||_i<0||_i>Ai)&&(_i=Ai);for(var Oi="",Ii=wi;Ii<_i;++Ii)Oi+=Xi(Li[Ii]);return Oi}function Fi(Li,wi,_i){for(var Ai=Li.slice(wi,_i),Oi="",Ii=0;Ii<Ai.length;Ii+=2)Oi+=String.fromCharCode(Ai[Ii]+256*Ai[Ii+1]);return Oi}function Ci(Li,wi,_i){if(Li%1!=0||Li<0)throw new RangeError("offset is not uint");if(Li+wi>_i)throw new RangeError("Trying to access beyond buffer length")}function Ni(Li,wi,_i,Ai,Oi,Ii){if(!St.isBuffer(Li))throw new TypeError('"buffer" argument must be a Buffer instance');if(wi>Oi||wi<Ii)throw new RangeError('"value" argument is out of bounds');if(_i+Ai>Li.length)throw new RangeError("Index out of range")}function Ri(Li,wi,_i,Ai){wi<0&&(wi=65535+wi+1);for(var Oi=0,Ii=Math.min(Li.length-_i,2);Oi<Ii;++Oi)Li[_i+Oi]=(wi&255<<8*(Ai?Oi:1-Oi))>>>8*(Ai?Oi:1-Oi)}function Yi(Li,wi,_i,Ai){wi<0&&(wi=4294967295+wi+1);for(var Oi=0,Ii=Math.min(Li.length-_i,4);Oi<Ii;++Oi)Li[_i+Oi]=wi>>>8*(Ai?Oi:3-Oi)&255}function ki(Li,wi,_i,Ai,Oi,Ii){if(_i+Ai>Li.length)throw new RangeError("Index out of range");if(_i<0)throw new RangeError("Index out of range")}function ji(Li,wi,_i,Ai,Oi){return Oi||ki(Li,0,_i,4),Ke.write(Li,wi,_i,Ai,23,4),_i+4}function Vi(Li,wi,_i,Ai,Oi){return Oi||ki(Li,0,_i,8),Ke.write(Li,wi,_i,Ai,52,8),_i+8}St.prototype.slice=function(Li,wi){var _i,Ai=this.length;if((Li=~~Li)<0?(Li+=Ai)<0&&(Li=0):Li>Ai&&(Li=Ai),(wi=wi===void 0?Ai:~~wi)<0?(wi+=Ai)<0&&(wi=0):wi>Ai&&(wi=Ai),wi<Li&&(wi=Li),St.TYPED_ARRAY_SUPPORT)(_i=this.subarray(Li,wi)).__proto__=St.prototype;else{var Oi=wi-Li;_i=new St(Oi,void 0);for(var Ii=0;Ii<Oi;++Ii)_i[Ii]=this[Ii+Li]}return _i},St.prototype.readUIntLE=function(Li,wi,_i){Li|=0,wi|=0,_i||Ci(Li,wi,this.length);for(var Ai=this[Li],Oi=1,Ii=0;++Ii<wi&&(Oi*=256);)Ai+=this[Li+Ii]*Oi;return Ai},St.prototype.readUIntBE=function(Li,wi,_i){Li|=0,wi|=0,_i||Ci(Li,wi,this.length);for(var Ai=this[Li+--wi],Oi=1;wi>0&&(Oi*=256);)Ai+=this[Li+--wi]*Oi;return Ai},St.prototype.readUInt8=function(Li,wi){return wi||Ci(Li,1,this.length),this[Li]},St.prototype.readUInt16LE=function(Li,wi){return wi||Ci(Li,2,this.length),this[Li]|this[Li+1]<<8},St.prototype.readUInt16BE=function(Li,wi){return wi||Ci(Li,2,this.length),this[Li]<<8|this[Li+1]},St.prototype.readUInt32LE=function(Li,wi){return wi||Ci(Li,4,this.length),(this[Li]|this[Li+1]<<8|this[Li+2]<<16)+16777216*this[Li+3]},St.prototype.readUInt32BE=function(Li,wi){return wi||Ci(Li,4,this.length),16777216*this[Li]+(this[Li+1]<<16|this[Li+2]<<8|this[Li+3])},St.prototype.readIntLE=function(Li,wi,_i){Li|=0,wi|=0,_i||Ci(Li,wi,this.length);for(var Ai=this[Li],Oi=1,Ii=0;++Ii<wi&&(Oi*=256);)Ai+=this[Li+Ii]*Oi;return Ai>=(Oi*=128)&&(Ai-=Math.pow(2,8*wi)),Ai},St.prototype.readIntBE=function(Li,wi,_i){Li|=0,wi|=0,_i||Ci(Li,wi,this.length);for(var Ai=wi,Oi=1,Ii=this[Li+--Ai];Ai>0&&(Oi*=256);)Ii+=this[Li+--Ai]*Oi;return Ii>=(Oi*=128)&&(Ii-=Math.pow(2,8*wi)),Ii},St.prototype.readInt8=function(Li,wi){return wi||Ci(Li,1,this.length),128&this[Li]?-1*(255-this[Li]+1):this[Li]},St.prototype.readInt16LE=function(Li,wi){wi||Ci(Li,2,this.length);var _i=this[Li]|this[Li+1]<<8;return 32768&_i?4294901760|_i:_i},St.prototype.readInt16BE=function(Li,wi){wi||Ci(Li,2,this.length);var _i=this[Li+1]|this[Li]<<8;return 32768&_i?4294901760|_i:_i},St.prototype.readInt32LE=function(Li,wi){return wi||Ci(Li,4,this.length),this[Li]|this[Li+1]<<8|this[Li+2]<<16|this[Li+3]<<24},St.prototype.readInt32BE=function(Li,wi){return wi||Ci(Li,4,this.length),this[Li]<<24|this[Li+1]<<16|this[Li+2]<<8|this[Li+3]},St.prototype.readFloatLE=function(Li,wi){return wi||Ci(Li,4,this.length),Ke.read(this,Li,!0,23,4)},St.prototype.readFloatBE=function(Li,wi){return wi||Ci(Li,4,this.length),Ke.read(this,Li,!1,23,4)},St.prototype.readDoubleLE=function(Li,wi){return wi||Ci(Li,8,this.length),Ke.read(this,Li,!0,52,8)},St.prototype.readDoubleBE=function(Li,wi){return wi||Ci(Li,8,this.length),Ke.read(this,Li,!1,52,8)},St.prototype.writeUIntLE=function(Li,wi,_i,Ai){Li=+Li,wi|=0,_i|=0,Ai||Ni(this,Li,wi,_i,Math.pow(2,8*_i)-1,0);var Oi=1,Ii=0;for(this[wi]=255&Li;++Ii<_i&&(Oi*=256);)this[wi+Ii]=Li/Oi&255;return wi+_i},St.prototype.writeUIntBE=function(Li,wi,_i,Ai){Li=+Li,wi|=0,_i|=0,Ai||Ni(this,Li,wi,_i,Math.pow(2,8*_i)-1,0);var Oi=_i-1,Ii=1;for(this[wi+Oi]=255&Li;--Oi>=0&&(Ii*=256);)this[wi+Oi]=Li/Ii&255;return wi+_i},St.prototype.writeUInt8=function(Li,wi,_i){return Li=+Li,wi|=0,_i||Ni(this,Li,wi,1,255,0),St.TYPED_ARRAY_SUPPORT||(Li=Math.floor(Li)),this[wi]=255&Li,wi+1},St.prototype.writeUInt16LE=function(Li,wi,_i){return Li=+Li,wi|=0,_i||Ni(this,Li,wi,2,65535,0),St.TYPED_ARRAY_SUPPORT?(this[wi]=255&Li,this[wi+1]=Li>>>8):Ri(this,Li,wi,!0),wi+2},St.prototype.writeUInt16BE=function(Li,wi,_i){return Li=+Li,wi|=0,_i||Ni(this,Li,wi,2,65535,0),St.TYPED_ARRAY_SUPPORT?(this[wi]=Li>>>8,this[wi+1]=255&Li):Ri(this,Li,wi,!1),wi+2},St.prototype.writeUInt32LE=function(Li,wi,_i){return Li=+Li,wi|=0,_i||Ni(this,Li,wi,4,4294967295,0),St.TYPED_ARRAY_SUPPORT?(this[wi+3]=Li>>>24,this[wi+2]=Li>>>16,this[wi+1]=Li>>>8,this[wi]=255&Li):Yi(this,Li,wi,!0),wi+4},St.prototype.writeUInt32BE=function(Li,wi,_i){return Li=+Li,wi|=0,_i||Ni(this,Li,wi,4,4294967295,0),St.TYPED_ARRAY_SUPPORT?(this[wi]=Li>>>24,this[wi+1]=Li>>>16,this[wi+2]=Li>>>8,this[wi+3]=255&Li):Yi(this,Li,wi,!1),wi+4},St.prototype.writeIntLE=function(Li,wi,_i,Ai){if(Li=+Li,wi|=0,!Ai){var Oi=Math.pow(2,8*_i-1);Ni(this,Li,wi,_i,Oi-1,-Oi)}var Ii=0,Mi=1,Gi=0;for(this[wi]=255&Li;++Ii<_i&&(Mi*=256);)Li<0&&Gi===0&&this[wi+Ii-1]!==0&&(Gi=1),this[wi+Ii]=(Li/Mi>>0)-Gi&255;return wi+_i},St.prototype.writeIntBE=function(Li,wi,_i,Ai){if(Li=+Li,wi|=0,!Ai){var Oi=Math.pow(2,8*_i-1);Ni(this,Li,wi,_i,Oi-1,-Oi)}var Ii=_i-1,Mi=1,Gi=0;for(this[wi+Ii]=255&Li;--Ii>=0&&(Mi*=256);)Li<0&&Gi===0&&this[wi+Ii+1]!==0&&(Gi=1),this[wi+Ii]=(Li/Mi>>0)-Gi&255;return wi+_i},St.prototype.writeInt8=function(Li,wi,_i){return Li=+Li,wi|=0,_i||Ni(this,Li,wi,1,127,-128),St.TYPED_ARRAY_SUPPORT||(Li=Math.floor(Li)),Li<0&&(Li=255+Li+1),this[wi]=255&Li,wi+1},St.prototype.writeInt16LE=function(Li,wi,_i){return Li=+Li,wi|=0,_i||Ni(this,Li,wi,2,32767,-32768),St.TYPED_ARRAY_SUPPORT?(this[wi]=255&Li,this[wi+1]=Li>>>8):Ri(this,Li,wi,!0),wi+2},St.prototype.writeInt16BE=function(Li,wi,_i){return Li=+Li,wi|=0,_i||Ni(this,Li,wi,2,32767,-32768),St.TYPED_ARRAY_SUPPORT?(this[wi]=Li>>>8,this[wi+1]=255&Li):Ri(this,Li,wi,!1),wi+2},St.prototype.writeInt32LE=function(Li,wi,_i){return Li=+Li,wi|=0,_i||Ni(this,Li,wi,4,2147483647,-2147483648),St.TYPED_ARRAY_SUPPORT?(this[wi]=255&Li,this[wi+1]=Li>>>8,this[wi+2]=Li>>>16,this[wi+3]=Li>>>24):Yi(this,Li,wi,!0),wi+4},St.prototype.writeInt32BE=function(Li,wi,_i){return Li=+Li,wi|=0,_i||Ni(this,Li,wi,4,2147483647,-2147483648),Li<0&&(Li=4294967295+Li+1),St.TYPED_ARRAY_SUPPORT?(this[wi]=Li>>>24,this[wi+1]=Li>>>16,this[wi+2]=Li>>>8,this[wi+3]=255&Li):Yi(this,Li,wi,!1),wi+4},St.prototype.writeFloatLE=function(Li,wi,_i){return ji(this,Li,wi,!0,_i)},St.prototype.writeFloatBE=function(Li,wi,_i){return ji(this,Li,wi,!1,_i)},St.prototype.writeDoubleLE=function(Li,wi,_i){return Vi(this,Li,wi,!0,_i)},St.prototype.writeDoubleBE=function(Li,wi,_i){return Vi(this,Li,wi,!1,_i)},St.prototype.copy=function(Li,wi,_i,Ai){if(_i||(_i=0),Ai||Ai===0||(Ai=this.length),wi>=Li.length&&(wi=Li.length),wi||(wi=0),Ai>0&&Ai<_i&&(Ai=_i),Ai===_i||Li.length===0||this.length===0)return 0;if(wi<0)throw new RangeError("targetStart out of bounds");if(_i<0||_i>=this.length)throw new RangeError("sourceStart out of bounds");if(Ai<0)throw new RangeError("sourceEnd out of bounds");Ai>this.length&&(Ai=this.length),Li.length-wi<Ai-_i&&(Ai=Li.length-wi+_i);var Oi,Ii=Ai-_i;if(this===Li&&_i<wi&&wi<Ai)for(Oi=Ii-1;Oi>=0;--Oi)Li[Oi+wi]=this[Oi+_i];else if(Ii<1e3||!St.TYPED_ARRAY_SUPPORT)for(Oi=0;Oi<Ii;++Oi)Li[Oi+wi]=this[Oi+_i];else Uint8Array.prototype.set.call(Li,this.subarray(_i,_i+Ii),wi);return Ii},St.prototype.fill=function(Li,wi,_i,Ai){if(typeof Li=="string"){if(typeof wi=="string"?(Ai=wi,wi=0,_i=this.length):typeof _i=="string"&&(Ai=_i,_i=this.length),Li.length===1){var Oi=Li.charCodeAt(0);Oi<256&&(Li=Oi)}if(Ai!==void 0&&typeof Ai!="string")throw new TypeError("encoding must be a string");if(typeof Ai=="string"&&!St.isEncoding(Ai))throw new TypeError("Unknown encoding: "+Ai)}else typeof Li=="number"&&(Li&=255);if(wi<0||this.length<wi||this.length<_i)throw new RangeError("Out of range index");if(_i<=wi)return this;var Ii;if(wi>>>=0,_i=_i===void 0?this.length:_i>>>0,Li||(Li=0),typeof Li=="number")for(Ii=wi;Ii<_i;++Ii)this[Ii]=Li;else{var Mi=St.isBuffer(Li)?Li:en(new St(Li,Ai).toString()),Gi=Mi.length;for(Ii=0;Ii<_i-wi;++Ii)this[Ii+wi]=Mi[Ii%Gi]}return this};var Bi=/[^+\/0-9A-Za-z-_]/g;function Xi(Li){return Li<16?"0"+Li.toString(16):Li.toString(16)}function en(Li,wi){var _i;wi=wi||1/0;for(var Ai=Li.length,Oi=null,Ii=[],Mi=0;Mi<Ai;++Mi){if((_i=Li.charCodeAt(Mi))>55295&&_i<57344){if(!Oi){if(_i>56319){(wi-=3)>-1&&Ii.push(239,191,189);continue}if(Mi+1===Ai){(wi-=3)>-1&&Ii.push(239,191,189);continue}Oi=_i;continue}if(_i<56320){(wi-=3)>-1&&Ii.push(239,191,189),Oi=_i;continue}_i=65536+(Oi-55296<<10|_i-56320)}else Oi&&(wi-=3)>-1&&Ii.push(239,191,189);if(Oi=null,_i<128){if((wi-=1)<0)break;Ii.push(_i)}else if(_i<2048){if((wi-=2)<0)break;Ii.push(_i>>6|192,63&_i|128)}else if(_i<65536){if((wi-=3)<0)break;Ii.push(_i>>12|224,_i>>6&63|128,63&_i|128)}else{if(!(_i<1114112))throw new Error("Invalid code point");if((wi-=4)<0)break;Ii.push(_i>>18|240,_i>>12&63|128,_i>>6&63|128,63&_i|128)}}return Ii}function tn(Li){return We.toByteArray(function(wi){if((wi=function(_i){return _i.trim?_i.trim():_i.replace(/^\s+|\s+$/g,"")}(wi).replace(Bi,"")).length<2)return"";for(;wi.length%4!=0;)wi+="=";return wi}(Li))}function Ji(Li,wi,_i,Ai){for(var Oi=0;Oi<Ai&&!(Oi+_i>=wi.length||Oi>=Li.length);++Oi)wi[Oi+_i]=Li[Oi];return Oi}}).call(this,qe(78))},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0}),ze.isASCIIByte=function(Xe){return Xe>=0&&Xe<=127}},function(Ve,ze,qe){var Xe=this&&this.__read||function(Ke,Je){var Ze=typeof Symbol=="function"&&Ke[Symbol.iterator];if(!Ze)return Ke;var Qe,St,ei=Ze.call(Ke),ti=[];try{for(;(Je===void 0||Je-- >0)&&!(Qe=ei.next()).done;)ti.push(Qe.value)}catch(ni){St={error:ni}}finally{try{Qe&&!Qe.done&&(Ze=ei.return)&&Ze.call(ei)}finally{if(St)throw St.error}}return ti},We=this&&this.__spread||function(){for(var Ke=[],Je=0;Je<arguments.length;Je++)Ke=Ke.concat(Xe(arguments[Je]));return Ke};Object.defineProperty(ze,"__esModule",{value:!0}),ze.length=function(Ke){return Ke.length},ze.byteLowercase=function(Ke){for(var Je=0;Je<Ke.length;Je++){var Ze=Ke[Je];Ze>=65&&Ze<=90&&(Ke[Je]=Ze+32)}},ze.byteUppercase=function(Ke){for(var Je=0;Je<Ke.length;Je++){var Ze=Ke[Je];Ze>=97&&Ze<=122&&(Ke[Je]=Ze-32)}},ze.byteCaseInsensitiveMatch=function(Ke,Je){if(Ke.length!==Je.length)return!1;for(var Ze=0;Ze<Ke.length;Ze++){var Qe=Ke[Ze],St=Je[Ze];if(Qe>=65&&Qe<=90&&(Qe+=32),St>=65&&St<=90&&(St+=32),Qe!==St)return!1}return!0},ze.startsWith=function(Ke,Je){for(var Ze=0;;){if(Ze>=Ke.length)return!1;if(Ze>=Je.length)return!0;if(Ke[Ze]!==Je[Ze])return!1;Ze++}},ze.byteLessThan=function(Ke,Je){for(var Ze=0;;){if(Ze>=Ke.length)return!1;if(Ze>=Je.length)return!0;var Qe=Ke[Ze],St=Je[Ze];if(Qe<St)return!0;if(Qe>St)return!1;Ze++}},ze.isomorphicDecode=function(Ke){return String.fromCodePoint.apply(String,We(Ke))}},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=qe(6),We=qe(7),Ke=qe(0),Je=qe(12),Ze=function(){function Qe(St){this._associatedDocument=St||Xe.dom.window.document}return Qe.prototype.createDocumentType=function(St,ei,ti){return Ke.namespace_validate(St),Ke.create_documentType(this._associatedDocument,St,ei,ti)},Qe.prototype.createDocument=function(St,ei,ti){ti===void 0&&(ti=null);var ni=Ke.create_xmlDocument(),oi=null;return ei&&(oi=Ke.document_internalCreateElementNS(ni,St,ei)),ti&&ni.appendChild(ti),oi&&ni.appendChild(oi),ni._origin=this._associatedDocument._origin,St===We.namespace.HTML?ni._contentType="application/xhtml+xml":St===We.namespace.SVG?ni._contentType="image/svg+xml":ni._contentType="application/xml",ni},Qe.prototype.createHTMLDocument=function(St){var ei=Ke.create_document();ei._type="html",ei._contentType="text/html",ei.appendChild(Ke.create_documentType(ei,"html","",""));var ti=Ke.element_createAnElement(ei,"html",We.namespace.HTML);ei.appendChild(ti);var ni=Ke.element_createAnElement(ei,"head",We.namespace.HTML);if(ti.appendChild(ni),St!==void 0){var oi=Ke.element_createAnElement(ei,"title",We.namespace.HTML);ni.appendChild(oi);var ai=Ke.create_text(ei,St);oi.appendChild(ai)}var si=Ke.element_createAnElement(ei,"body",We.namespace.HTML);return ti.appendChild(si),ei._origin=this._associatedDocument._origin,ei},Qe.prototype.hasFeature=function(){return!0},Qe._create=function(St){return new Qe(St)},Qe}();ze.DOMImplementationImpl=Ze,Je.idl_defineConst(Ze.prototype,"_ID","@oozcitak/dom")},function(Ve,ze,qe){var Xe,We=this&&this.__extends||(Xe=function(St,ei){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ti,ni){ti.__proto__=ni}||function(ti,ni){for(var oi in ni)ni.hasOwnProperty(oi)&&(ti[oi]=ni[oi])})(St,ei)},function(St,ei){function ti(){this.constructor=St}Xe(St,ei),St.prototype=ei===null?Object.create(ei):(ti.prototype=ei.prototype,new ti)});Object.defineProperty(ze,"__esModule",{value:!0});var Ke=qe(70),Je=qe(2),Ze=qe(0),Qe=function(St){function ei(){var ti=St.call(this)||this;return ti._signalSlots=new Set,ti._mutationObserverMicrotaskQueued=!1,ti._mutationObservers=new Set,ti._iteratorList=new Je.FixedSizeSet,ti._associatedDocument=Ze.create_document(),ti}return We(ei,St),Object.defineProperty(ei.prototype,"document",{get:function(){return this._associatedDocument},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"event",{get:function(){return this._currentEvent},enumerable:!0,configurable:!0}),ei._create=function(){return new ei},ei}(Ke.EventTargetImpl);ze.WindowImpl=Qe},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=qe(1),We=function(){function Ke(){}return Ke.isNode=function(Je){return!!Je&&Je._nodeType!==void 0},Ke.isDocumentNode=function(Je){return Ke.isNode(Je)&&Je._nodeType===Xe.NodeType.Document},Ke.isDocumentTypeNode=function(Je){return Ke.isNode(Je)&&Je._nodeType===Xe.NodeType.DocumentType},Ke.isDocumentFragmentNode=function(Je){return Ke.isNode(Je)&&Je._nodeType===Xe.NodeType.DocumentFragment},Ke.isAttrNode=function(Je){return Ke.isNode(Je)&&Je._nodeType===Xe.NodeType.Attribute},Ke.isCharacterDataNode=function(Je){if(!Ke.isNode(Je))return!1;var Ze=Je._nodeType;return Ze===Xe.NodeType.Text||Ze===Xe.NodeType.ProcessingInstruction||Ze===Xe.NodeType.Comment||Ze===Xe.NodeType.CData},Ke.isTextNode=function(Je){return Ke.isNode(Je)&&(Je._nodeType===Xe.NodeType.Text||Je._nodeType===Xe.NodeType.CData)},Ke.isExclusiveTextNode=function(Je){return Ke.isNode(Je)&&Je._nodeType===Xe.NodeType.Text},Ke.isCDATASectionNode=function(Je){return Ke.isNode(Je)&&Je._nodeType===Xe.NodeType.CData},Ke.isCommentNode=function(Je){return Ke.isNode(Je)&&Je._nodeType===Xe.NodeType.Comment},Ke.isProcessingInstructionNode=function(Je){return Ke.isNode(Je)&&Je._nodeType===Xe.NodeType.ProcessingInstruction},Ke.isElementNode=function(Je){return Ke.isNode(Je)&&Je._nodeType===Xe.NodeType.Element},Ke.isCustomElementNode=function(Je){return Ke.isElementNode(Je)&&Je._customElementState==="custom"},Ke.isShadowRoot=function(Je){return!!Je&&Je.host!==void 0},Ke.isMouseEvent=function(Je){return!!Je&&Je.screenX!==void 0&&Je.screenY!=null},Ke.isSlotable=function(Je){return!!Je&&Je._name!==void 0&&Je._assignedSlot!==void 0&&(Ke.isTextNode(Je)||Ke.isElementNode(Je))},Ke.isSlot=function(Je){return!!Je&&Je._name!==void 0&&Je._assignedNodes!==void 0&&Ke.isElementNode(Je)},Ke.isWindow=function(Je){return!!Je&&Je.navigator!==void 0},Ke.isEventListener=function(Je){return!!Je&&Je.handleEvent!==void 0},Ke.isRegisteredObserver=function(Je){return!!Je&&Je.observer!==void 0&&Je.options!==void 0},Ke.isTransientRegisteredObserver=function(Je){return!!Je&&Je.source!==void 0&&Ke.isRegisteredObserver(Je)},Ke}();ze.Guard=We},function(Ve,ze,qe){var Xe,We=this&&this.__extends||(Xe=function(Je,Ze){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Qe,St){Qe.__proto__=St}||function(Qe,St){for(var ei in St)St.hasOwnProperty(ei)&&(Qe[ei]=St[ei])})(Je,Ze)},function(Je,Ze){function Qe(){this.constructor=Je}Xe(Je,Ze),Je.prototype=Ze===null?Object.create(Ze):(Qe.prototype=Ze.prototype,new Qe)});Object.defineProperty(ze,"__esModule",{value:!0});var Ke=function(Je){function Ze(){return Je.call(this)||this}return We(Ze,Je),Ze}(qe(98).DocumentImpl);ze.XMLDocumentImpl=Ke},function(Ve,ze,qe){var Xe=this&&this.__values||function(Ai){var Oi=typeof Symbol=="function"&&Symbol.iterator,Ii=Oi&&Ai[Oi],Mi=0;if(Ii)return Ii.call(Ai);if(Ai&&typeof Ai.length=="number")return{next:function(){return Ai&&Mi>=Ai.length&&(Ai=void 0),{value:Ai&&Ai[Mi++],done:!Ai}}};throw new TypeError(Oi?"Object is not iterable.":"Symbol.iterator is not defined.")},We=this&&this.__read||function(Ai,Oi){var Ii=typeof Symbol=="function"&&Ai[Symbol.iterator];if(!Ii)return Ai;var Mi,Gi,on=Ii.call(Ai),Ui=[];try{for(;(Oi===void 0||Oi-- >0)&&!(Mi=on.next()).done;)Ui.push(Mi.value)}catch(rn){Gi={error:rn}}finally{try{Mi&&!Mi.done&&(Ii=on.return)&&Ii.call(on)}finally{if(Gi)throw Gi.error}}return Ui};Object.defineProperty(ze,"__esModule",{value:!0});var Ke,Je=qe(2),Ze=qe(243),Qe=qe(7),St=qe(244),ei={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ti=/[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,ni=/[ "<>`]|[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,oi=/[ "<>`#?{}]|[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,ai=/[ "<>`#?{}/:;=@\[\]\\\^\|]|[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,si=/[0-9A-Za-z!\$&-\/:;=\?@_~\xA0-\uD7FF\uE000-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uD83E\uD840-\uD87E\uD880-\uD8BE\uD8C0-\uD8FE\uD900-\uD93E\uD940-\uD97E\uD980-\uD9BE\uD9C0-\uD9FE\uDA00-\uDA3E\uDA40-\uDA7E\uDA80-\uDABE\uDAC0-\uDAFE\uDB00-\uDB3E\uDB40-\uDB7E\uDB80-\uDBBE\uDBC0-\uDBFE][\uDC00-\uDFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDC00-\uDFFD]/,ri=/[\0\t\f\r #%/:?@\[\\\]]/;function ii(Ai){Ke!==void 0&&Ke.call(null,"Validation Error: "+Ai)}function ui(){return{scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,_cannotBeABaseURLFlag:!1,_blobURLEntry:null}}function ci(Ai){return Ai in ei}function hi(Ai){return ci(Ai.scheme)}function mi(Ai){return ei[Ai]||null}function di(Ai){return Ai.username!==""||Ai.password!==""}function fi(Ai,Oi){var Ii,Mi;Oi===void 0&&(Oi=!1);var Gi=Ai.scheme+":";if(Ai.host!==null?(Gi+="//",di(Ai)&&(Gi+=Ai.username,Ai.password!==""&&(Gi+=":"+Ai.password),Gi+="@"),Gi+=yi(Ai.host),Ai.port!==null&&(Gi+=":"+Ai.port)):Ai.host===null&&Ai.scheme==="file"&&(Gi+="//"),Ai._cannotBeABaseURLFlag)Gi+=Ai.path[0];else try{for(var on=Xe(Ai.path),Ui=on.next();!Ui.done;Ui=on.next())Gi+="/"+Ui.value}catch(rn){Ii={error:rn}}finally{try{Ui&&!Ui.done&&(Mi=on.return)&&Mi.call(on)}finally{if(Ii)throw Ii.error}}return Ai.query!==null&&(Gi+="?"+Ai.query),Oi||Ai.fragment===null||(Gi+="#"+Ai.fragment),Gi}function yi(Ai){return Je.isNumber(Ai)?pi(Ai):Je.isArray(Ai)?"["+xi(Ai)+"]":Ai}function pi(Ai){for(var Oi="",Ii=Ai,Mi=1;Mi<=4;Mi++)Oi=(Ii%256).toString()+Oi,Mi!==4&&(Oi="."+Oi),Ii=Math.floor(Ii/256);return Oi}function xi(Ai){for(var Oi="",Ii=null,Mi=-1,Gi=0,on=0,Ui=0;Ui<8;Ui++)if(Ai[Ui]===0){Gi=1;for(var rn=Ui+1;rn<8&&Ai[rn]===0;rn++)Gi++;Gi>on&&(on=Gi,Mi=Ui)}on>1&&(Ii=Mi);for(var un=!1,dn=0;dn<8;dn++)un&&Ai[dn]===0||(un&&(un=!1),Ii!==dn?(Oi+=Ai[dn].toString(16),dn!==7&&(Oi+=":")):(Oi+=dn===0?"::":":",un=!0));return Oi}function Si(Ai,Oi,Ii,Mi,Gi){var on,Ui,rn,un;if(Mi===void 0){Mi={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,_cannotBeABaseURLFlag:!1,_blobURLEntry:null};var dn=/^[\u0000-\u001F\u0020]+/,hn=/[\u0000-\u001F\u0020]+$/;(dn.test(Ai)||hn.test(Ai))&&ii("Input string contains leading or trailing control characters or space."),Ai=(Ai=Ai.replace(dn,"")).replace(hn,"")}var Sn=/[\u0009\u000A\u000D]/g;Sn.test(Ai)&&ii("Input string contains tab or newline characters."),Ai=Ai.replace(Sn,"");var fn=Gi===void 0?Ze.ParserState.SchemeStart:Gi;Oi===void 0&&(Oi=null);for(var Pn=Ii===void 0||Ii==="replacement"||Ii==="UTF-16BE"||Ii==="UTF-16LE"?"UTF-8":Ii,zi="",En=!1,yn=!1,An=!1,sn=new Je.StringWalker(Ai);;){switch(fn){case Ze.ParserState.SchemeStart:if(Qe.codePoint.ASCIIAlpha.test(sn.c()))zi+=sn.c().toLowerCase(),fn=Ze.ParserState.Scheme;else{if(Gi!==void 0)return ii("Invalid scheme start character."),null;fn=Ze.ParserState.NoScheme,sn.pointer--}break;case Ze.ParserState.Scheme:if(Qe.codePoint.ASCIIAlphanumeric.test(sn.c())||sn.c()==="+"||sn.c()==="-"||sn.c()===".")zi+=sn.c().toLowerCase();else{if(sn.c()!==":"){if(Gi===void 0){zi="",fn=Ze.ParserState.NoScheme,sn.pointer=0;continue}return ii("Invalid input string."),null}if(Gi!==void 0&&(ci(Mi.scheme)&&!ci(zi)||!ci(Mi.scheme)&&ci(zi)||(di(Mi)||Mi.port!==null)&&zi==="file"||Mi.scheme==="file"&&(Mi.host===""||Mi.host===null)))return Mi;if(Mi.scheme=zi,Gi!==void 0)return Mi.port===mi(Mi.scheme)&&(Mi.port=null),Mi;zi="",Mi.scheme==="file"?(sn.remaining().startsWith("//")||ii("Invalid file URL scheme, '//' expected."),fn=Ze.ParserState.File):hi(Mi)&&Oi!==null&&Oi.scheme===Mi.scheme?fn=Ze.ParserState.SpecialRelativeOrAuthority:hi(Mi)?fn=Ze.ParserState.SpecialAuthoritySlashes:sn.remaining().startsWith("/")?(fn=Ze.ParserState.PathOrAuthority,sn.pointer++):(Mi._cannotBeABaseURLFlag=!0,Mi.path.push(""),fn=Ze.ParserState.CannotBeABaseURLPath)}break;case Ze.ParserState.NoScheme:if(Oi===null||Oi._cannotBeABaseURLFlag&&sn.c()!=="#")return ii("Invalid input string."),null;Oi._cannotBeABaseURLFlag&&sn.c()==="#"?(Mi.scheme=Oi.scheme,Mi.path=Qe.list.clone(Oi.path),Mi.query=Oi.query,Mi.fragment="",Mi._cannotBeABaseURLFlag=!0,fn=Ze.ParserState.Fragment):Oi.scheme!=="file"?(fn=Ze.ParserState.Relative,sn.pointer--):(fn=Ze.ParserState.File,sn.pointer--);break;case Ze.ParserState.SpecialRelativeOrAuthority:sn.c()==="/"&&sn.remaining().startsWith("/")?(fn=Ze.ParserState.SpecialAuthorityIgnoreSlashes,sn.pointer++):(ii("Invalid input string."),fn=Ze.ParserState.Relative,sn.pointer--);break;case Ze.ParserState.PathOrAuthority:sn.c()==="/"?fn=Ze.ParserState.Authority:(fn=Ze.ParserState.Path,sn.pointer--);break;case Ze.ParserState.Relative:if(Oi===null)throw new Error("Invalid parser state. Base URL is null.");switch(Mi.scheme=Oi.scheme,sn.c()){case"":Mi.username=Oi.username,Mi.password=Oi.password,Mi.host=Oi.host,Mi.port=Oi.port,Mi.path=Qe.list.clone(Oi.path),Mi.query=Oi.query;break;case"/":fn=Ze.ParserState.RelativeSlash;break;case"?":Mi.username=Oi.username,Mi.password=Oi.password,Mi.host=Oi.host,Mi.port=Oi.port,Mi.path=Qe.list.clone(Oi.path),Mi.query="",fn=Ze.ParserState.Query;break;case"#":Mi.username=Oi.username,Mi.password=Oi.password,Mi.host=Oi.host,Mi.port=Oi.port,Mi.path=Qe.list.clone(Oi.path),Mi.query=Oi.query,Mi.fragment="",fn=Ze.ParserState.Fragment;break;default:hi(Mi)&&sn.c()==="\\"?(ii("Invalid input string."),fn=Ze.ParserState.RelativeSlash):(Mi.username=Oi.username,Mi.password=Oi.password,Mi.host=Oi.host,Mi.port=Oi.port,Mi.path=Qe.list.clone(Oi.path),Mi.path.length!==0&&Mi.path.splice(Mi.path.length-1,1),fn=Ze.ParserState.Path,sn.pointer--)}break;case Ze.ParserState.RelativeSlash:if(!hi(Mi)||sn.c()!=="/"&&sn.c()!=="\\")if(sn.c()==="/")fn=Ze.ParserState.Authority;else{if(Oi===null)throw new Error("Invalid parser state. Base URL is null.");Mi.username=Oi.username,Mi.password=Oi.password,Mi.host=Oi.host,Mi.port=Oi.port,fn=Ze.ParserState.Path,sn.pointer--}else sn.c()==="\\"&&ii("Invalid input string."),fn=Ze.ParserState.SpecialAuthorityIgnoreSlashes;break;case Ze.ParserState.SpecialAuthoritySlashes:sn.c()==="/"&&sn.remaining().startsWith("/")?(fn=Ze.ParserState.SpecialAuthorityIgnoreSlashes,sn.pointer++):(ii("Expected '//'."),fn=Ze.ParserState.SpecialAuthorityIgnoreSlashes,sn.pointer--);break;case Ze.ParserState.SpecialAuthorityIgnoreSlashes:sn.c()!=="/"&&sn.c()!=="\\"?(fn=Ze.ParserState.Authority,sn.pointer--):ii("Unexpected '/' or '\\'.");break;case Ze.ParserState.Authority:if(sn.c()==="@"){ii("Unexpected '@'."),En&&(zi="%40"+zi),En=!0;try{for(var _n=(on=void 0,Xe(zi)),Tn=_n.next();!Tn.done;Tn=_n.next()){var In=Tn.value;if(In!==":"||An){var Rn=Ji(In,ai);An?Mi.password+=Rn:Mi.username+=Rn}else An=!0}}catch(nr){on={error:nr}}finally{try{Tn&&!Tn.done&&(Ui=_n.return)&&Ui.call(_n)}finally{if(on)throw on.error}}zi=""}else if(sn.c()===""||sn.c()==="/"||sn.c()==="?"||sn.c()==="#"||hi(Mi)&&sn.c()==="\\"){if(En&&zi==="")return ii("Invalid input string."),null;sn.pointer-=zi.length+1,zi="",fn=Ze.ParserState.Host}else zi+=sn.c();break;case Ze.ParserState.Host:case Ze.ParserState.Hostname:if(Gi!==void 0&&Mi.scheme==="file")sn.pointer--,fn=Ze.ParserState.FileHost;else if(sn.c()!==":"||yn)if(sn.c()===""||sn.c()==="/"||sn.c()==="?"||sn.c()==="#"||hi(Mi)&&sn.c()==="\\"){if(sn.pointer--,hi(Mi)&&zi==="")return ii("Invalid input string."),null;if(Gi!==void 0&&zi===""&&(di(Mi)||Mi.port!==null))return ii("Invalid input string."),Mi;if((Un=Ri(zi,!hi(Mi)))===null)return null;if(Mi.host=Un,zi="",fn=Ze.ParserState.PathStart,Gi!==void 0)return Mi}else sn.c()==="["&&(yn=!0),sn.c()==="]"&&(yn=!1),zi+=sn.c();else{if(zi==="")return ii("Invalid input string."),null;if((Un=Ri(zi,!hi(Mi)))===null)return null;if(Mi.host=Un,zi="",fn=Ze.ParserState.Port,Gi===Ze.ParserState.Hostname)return Mi}break;case Ze.ParserState.Port:if(Qe.codePoint.ASCIIDigit.test(sn.c()))zi+=sn.c();else{if(!(sn.c()===""||sn.c()==="/"||sn.c()==="?"||sn.c()==="#"||hi(Mi)&&sn.c()==="\\"||Gi))return ii("Invalid input string."),null;if(zi!==""&&zi!==""){var zn=parseInt(zi,10);if(zn>Math.pow(2,16)-1)return ii("Invalid port number."),null;Mi.port=zn===mi(Mi.scheme)?null:zn,zi=""}if(Gi!==void 0)return Mi;fn=Ze.ParserState.PathStart,sn.pointer--}break;case Ze.ParserState.File:if(Mi.scheme="file",sn.c()==="/"||sn.c()==="\\")sn.c()==="\\"&&ii("Invalid input string."),fn=Ze.ParserState.FileSlash;else if(Oi!==null&&Oi.scheme==="file")switch(sn.c()){case"":Mi.host=Oi.host,Mi.path=Qe.list.clone(Oi.path),Mi.query=Oi.query;break;case"?":Mi.host=Oi.host,Mi.path=Qe.list.clone(Oi.path),Mi.query="",fn=Ze.ParserState.Query;break;case"#":Mi.host=Oi.host,Mi.path=Qe.list.clone(Oi.path),Mi.query=Oi.query,Mi.fragment="",fn=Ze.ParserState.Fragment;break;default:Ni(sn.substring())?ii("Unexpected windows drive letter in input string."):(Mi.host=Oi.host,Mi.path=Qe.list.clone(Oi.path),Ti(Mi)),fn=Ze.ParserState.Path,sn.pointer--}else fn=Ze.ParserState.Path,sn.pointer--;break;case Ze.ParserState.FileSlash:sn.c()==="/"||sn.c()==="\\"?(sn.c()==="\\"&&ii("Invalid input string."),fn=Ze.ParserState.FileHost):(Oi===null||Oi.scheme!=="file"||Ni(sn.substring())||(Fi(Oi.path[0])?Mi.path.push(Oi.path[0]):Mi.host=Oi.host),fn=Ze.ParserState.Path,sn.pointer--);break;case Ze.ParserState.FileHost:if(sn.c()===""||sn.c()==="/"||sn.c()==="\\"||sn.c()==="?"||sn.c()==="#")if(sn.pointer--,Gi===void 0&&Ci(zi))ii("Unexpected windows drive letter in input string."),fn=Ze.ParserState.Path;else if(zi===""){if(Mi.host="",Gi!==void 0)return Mi;fn=Ze.ParserState.PathStart}else{var Un;if((Un=Ri(zi,!hi(Mi)))===null)return null;if(Un==="localhost"&&(Un=""),Mi.host=Un,Gi!==void 0)return Mi;zi="",fn=Ze.ParserState.PathStart}else zi+=sn.c();break;case Ze.ParserState.PathStart:hi(Mi)?(sn.c()==="\\"&&ii("Invalid input string."),fn=Ze.ParserState.Path,sn.c()!=="/"&&sn.c()!=="\\"&&sn.pointer--):Gi===void 0&&sn.c()==="?"?(Mi.query="",fn=Ze.ParserState.Query):Gi===void 0&&sn.c()==="#"?(Mi.fragment="",fn=Ze.ParserState.Fragment):sn.c()!==""&&(fn=Ze.ParserState.Path,sn.c()!=="/"&&sn.pointer--);break;case Ze.ParserState.Path:if(sn.c()===""||sn.c()==="/"||hi(Mi)&&sn.c()==="\\"||Gi===void 0&&(sn.c()==="?"||sn.c()==="#")){if(hi(Mi)&&sn.c()==="\\"&&ii("Invalid input string."),Di(zi))Ti(Mi),sn.c()==="/"||hi(Mi)&&sn.c()==="\\"||Mi.path.push("");else if(!vi(zi)||sn.c()==="/"||hi(Mi)&&sn.c()==="\\"){if(!vi(zi)){if(Mi.scheme==="file"&&Mi.path.length===0&&Ci(zi)){Mi.host!==null&&Mi.host!==""&&(ii("Invalid input string."),Mi.host="");var qn=Array.from(zi);zi=qn.slice(0,1)+":"+qn.slice(2)}Mi.path.push(zi)}}else Mi.path.push("");if(zi="",Mi.scheme==="file"&&(sn.c()===""||sn.c()==="?"||sn.c()==="#"))for(;Mi.path.length>1&&Mi.path[0]==="";)ii("Invalid input string."),Mi.path.splice(0,1);sn.c()==="?"&&(Mi.query="",fn=Ze.ParserState.Query),sn.c()==="#"&&(Mi.fragment="",fn=Ze.ParserState.Fragment)}else si.test(sn.c())||sn.c()==="%"||ii("Character is not a URL code point or a percent encoded character."),sn.c()!=="%"||/^[0-9a-fA-F][0-9a-fA-F]/.test(sn.remaining())||ii("Percent encoded character must be followed by two hex digits."),zi+=Ji(sn.c(),oi);break;case Ze.ParserState.CannotBeABaseURLPath:sn.c()==="?"?(Mi.query="",fn=Ze.ParserState.Query):sn.c()==="#"?(Mi.fragment="",fn=Ze.ParserState.Fragment):(sn.c()===""||si.test(sn.c())||sn.c()==="%"||ii("Character is not a URL code point or a percent encoded character."),sn.c()!=="%"||/^[0-9a-fA-F][0-9a-fA-F]/.test(sn.remaining())||ii("Percent encoded character must be followed by two hex digits."),sn.c()!==""&&(Mi.path[0]+=Ji(sn.c(),ti)));break;case Ze.ParserState.Query:if(Pn==="UTF-8"||hi(Mi)&&Mi.scheme!=="ws"&&Mi.scheme!=="wss"||(Pn="UTF-8"),Gi===void 0&&sn.c()==="#")Mi.fragment="",fn=Ze.ParserState.Fragment;else if(sn.c()!==""){if(si.test(sn.c())||sn.c()==="%"||ii("Character is not a URL code point or a percent encoded character."),sn.c()!=="%"||/^[0-9a-fA-F][0-9a-fA-F]/.test(sn.remaining())||ii("Percent encoded character must be followed by two hex digits."),Pn.toUpperCase()!=="UTF-8")throw new Error("Only UTF-8 encoding is supported.");var er=Je.utf8Encode(sn.c());if(er.length>=3&&er[0]===38&&er[1]===35&&er[er.length-1]===59)er=er.subarray(2,er.length-1),Mi.query+="%26%23"+Qe.byteSequence.isomorphicDecode(er)+"%3B";else try{for(var ir=(rn=void 0,Xe(er)),dr=ir.next();!dr.done;dr=ir.next()){var sr=dr.value;sr<33||sr>126||sr===34||sr===35||sr===60||sr===62||sr===39&&hi(Mi)?Mi.query+=Xi(sr):Mi.query+=String.fromCharCode(sr)}}catch(nr){rn={error:nr}}finally{try{dr&&!dr.done&&(un=ir.return)&&un.call(ir)}finally{if(rn)throw rn.error}}}break;case Ze.ParserState.Fragment:sn.c()===""||(sn.c()==="\0"?ii("NULL character in input string."):(si.test(sn.c())||sn.c()==="%"||ii("Unexpected character in fragment string."),sn.c()!=="%"||/^[A-Za-z0-9][A-Za-z0-9]/.test(sn.remaining())||ii("Unexpected character in fragment string."),Mi.fragment+=Ji(sn.c(),ni)))}if(sn.eof)break;sn.pointer++}return Mi}function vi(Ai){return Ai==="."||Ai.toLowerCase()==="%2e"}function Di(Ai){var Oi=Ai.toLowerCase();return Oi===".."||Oi===".%2e"||Oi==="%2e."||Oi==="%2e%2e"}function Ti(Ai){var Oi=Ai.path;Oi.length!==0&&(Ai.scheme==="file"&&Oi.length===1&&Fi(Oi[0])||Ai.path.splice(Ai.path.length-1,1))}function Fi(Ai){return Ai.length>=2&&Qe.codePoint.ASCIIAlpha.test(Ai[0])&&Ai[1]===":"}function Ci(Ai){return Ai.length>=2&&Qe.codePoint.ASCIIAlpha.test(Ai[0])&&(Ai[1]===":"||Ai[1]==="|")}function Ni(Ai){return Ai.length>=2&&Ci(Ai)&&(Ai.length===2||Ai[2]==="/"||Ai[2]==="\\"||Ai[2]==="?"||Ai[2]==="#")}function Ri(Ai,Oi){if(Oi===void 0&&(Oi=!1),Ai.startsWith("["))return Ai.endsWith("]")?ji(Ai.substring(1,Ai.length-1)):(ii("Expected ']' after '['."),null);if(Oi)return Vi(Ai);var Ii=_i(Je.utf8Decode(tn(Ai)));if(Ii===null||ri.test(Ii))return ii("Invalid domain."),null;var Mi=ki(Ii);return Mi===null||Je.isNumber(Mi)?Mi:Ii}function Yi(Ai,Oi){Oi===void 0&&(Oi={value:!1});var Ii=10;return Ai.startsWith("0x")||Ai.startsWith("0X")?(Oi.value=!0,Ai=Ai.substr(2),Ii=16):Ai.length>=2&&Ai[0]==="0"&&(Oi.value=!0,Ai=Ai.substr(1),Ii=8),Ai===""?0:(Ii===10?/^[0-9]+$/:Ii===16?/^[0-9A-Fa-f]+$/:/^[0-7]+$/).test(Ai)?parseInt(Ai,Ii):null}function ki(Ai){var Oi,Ii,Mi,Gi,on={value:!1},Ui=Ai.split(".");if(Ui[Ui.length-1]===""&&(on.value=!0,Ui.length>1&&Ui.pop()),Ui.length>4)return Ai;var rn=[];try{for(var un=Xe(Ui),dn=un.next();!dn.done;dn=un.next()){var hn=dn.value;if(hn===""||(yn=Yi(hn,on))===null)return Ai;rn.push(yn)}}catch(An){Oi={error:An}}finally{try{dn&&!dn.done&&(Ii=un.return)&&Ii.call(un)}finally{if(Oi)throw Oi.error}}on.value&&ii("Invalid IP v4 address.");for(var Sn=0;Sn<rn.length;Sn++)if(rn[Sn]>255&&(ii("Invalid IP v4 address."),Sn<rn.length-1))return null;if(rn[rn.length-1]>=Math.pow(256,5-rn.length))return ii("Invalid IP v4 address."),null;var fn=rn[rn.length-1];rn.pop();var Pn=0;try{for(var zi=Xe(rn),En=zi.next();!En.done;En=zi.next()){var yn;fn+=(yn=En.value)*Math.pow(256,3-Pn),Pn++}}catch(An){Mi={error:An}}finally{try{En&&!En.done&&(Gi=zi.return)&&Gi.call(zi)}finally{if(Mi)throw Mi.error}}return fn}function ji(Ai){var Oi,Ii=[0,0,0,0,0,0,0,0],Mi=0,Gi=null,on=new Je.StringWalker(Ai);if(on.c()===":"){if(!on.remaining().startsWith(":"))return ii("Invalid IP v6 address."),null;on.pointer+=2,Gi=Mi+=1}for(;on.c()!=="";){if(Mi===8)return ii("Invalid IP v6 address."),null;if(on.c()!==":"){for(var Ui=0,rn=0;rn<4&&Qe.codePoint.ASCIIHexDigit.test(on.c());)Ui=16*Ui+parseInt(on.c(),16),on.pointer++,rn++;if(on.c()==="."){if(rn===0||(on.pointer-=rn,Mi>6))return ii("Invalid IP v6 address."),null;for(var un=0;on.c()!=="";){var dn=null;if(un>0){if(!(on.c()==="."&&un<4))return ii("Invalid IP v6 address."),null;on.pointer++}if(!Qe.codePoint.ASCIIDigit.test(on.c()))return ii("Invalid IP v6 address."),null;for(;Qe.codePoint.ASCIIDigit.test(on.c());){var hn=parseInt(on.c(),10);if(dn===null)dn=hn;else{if(dn===0)return ii("Invalid IP v6 address."),null;dn=10*dn+hn}if(dn>255)return ii("Invalid IP v6 address."),null;on.pointer++}if(dn===null)return ii("Invalid IP v6 address."),null;Ii[Mi]=256*Ii[Mi]+dn,++un!==2&&un!==4||Mi++}if(un!==4)return ii("Invalid IP v6 address."),null;break}if(on.c()===":"){if(on.pointer++,on.c()==="")return ii("Invalid IP v6 address."),null}else if(on.c()!=="")return ii("Invalid IP v6 address."),null;Ii[Mi]=Ui,Mi++}else{if(Gi!==null)return ii("Invalid IP v6 address."),null;on.pointer++,Gi=++Mi}}if(Gi!==null){var Sn=Mi-Gi;for(Mi=7;Mi!==0&&Sn>0;)Oi=We([Ii[Gi+Sn-1],Ii[Mi]],2),Ii[Mi]=Oi[0],Ii[Gi+Sn-1]=Oi[1],Mi--,Sn--}else if(Gi===null&&Mi!==8)return ii("Invalid IP v6 address."),null;return Ii}function Vi(Ai){var Oi,Ii;if(/[\x00\t\f\r #/:?@\[\\\]]/.test(Ai))return ii("Invalid host string."),null;var Mi="";try{for(var Gi=Xe(Ai),on=Gi.next();!on.done;on=Gi.next())Mi+=Ji(on.value,ti)}catch(Ui){Oi={error:Ui}}finally{try{on&&!on.done&&(Ii=Gi.return)&&Ii.call(Gi)}finally{if(Oi)throw Oi.error}}return Mi}function Bi(Ai){return null}function Xi(Ai){return"%"+("00"+Ai.toString(16).toUpperCase()).slice(-2)}function en(Ai){for(var Oi=function(rn){return rn>=48&&rn<=57||rn>=65&&rn<=70||rn>=97&&rn<=102},Ii=new Uint8Array(Ai.length),Mi=0,Gi=0;Gi<Ai.length;Gi++){var on=Ai[Gi];if(on!==37)Ii[Mi]=on,Mi++;else if(on===37&&Gi>=Ai.length-2)Ii[Mi]=on,Mi++;else if(on!==37||Oi(Ai[Gi+1])&&Oi(Ai[Gi+2])){var Ui=parseInt(Je.utf8Decode(Uint8Array.of(Ai[Gi+1],Ai[Gi+2])),16);Ii[Mi]=Ui,Mi++,Gi+=2}else Ii[Mi]=on,Mi++}return Ii.subarray(0,Mi)}function tn(Ai){return en(Je.utf8Encode(Ai))}function Ji(Ai,Oi){var Ii,Mi;if(!Oi.test(Ai))return Ai;var Gi=Je.utf8Encode(Ai),on="";try{for(var Ui=Xe(Gi),rn=Ui.next();!rn.done;rn=Ui.next())on+=Xi(rn.value)}catch(un){Ii={error:un}}finally{try{rn&&!rn.done&&(Mi=Ui.return)&&Mi.call(Ui)}finally{if(Ii)throw Ii.error}}return on}function Li(Ai){var Oi,Ii,Mi,Gi,on=[],Ui=[];try{for(var rn=Xe(Ai),un=rn.next();!un.done;un=rn.next()){var dn=un.value;dn===38?(on.push(Uint8Array.from(Ui)),Ui=[]):Ui.push(dn)}}catch(Tn){Oi={error:Tn}}finally{try{un&&!un.done&&(Ii=rn.return)&&Ii.call(rn)}finally{if(Oi)throw Oi.error}}Ui.length!==0&&on.push(Uint8Array.from(Ui));var hn=[];try{for(var Sn=Xe(on),fn=Sn.next();!fn.done;fn=Sn.next()){var Pn=fn.value;if(Pn.length!==0){for(var zi=Pn.indexOf(61),En=zi!==-1?Pn.slice(0,zi):Pn,yn=zi!==-1?Pn.slice(zi+1):new Uint8Array,An=0;An<En.length;An++)En[An]===43&&(En[An]=32);for(An=0;An<yn.length;An++)yn[An]===43&&(yn[An]=32);var sn=Je.utf8Decode(En),_n=Je.utf8Decode(yn);hn.push([sn,_n])}}}catch(Tn){Mi={error:Tn}}finally{try{fn&&!fn.done&&(Gi=Sn.return)&&Gi.call(Sn)}finally{if(Mi)throw Mi.error}}return hn}function wi(Ai){var Oi,Ii,Mi="";try{for(var Gi=Xe(Ai),on=Gi.next();!on.done;on=Gi.next()){var Ui=on.value;Mi+=Ui===32?"+":Ui===42||Ui===45||Ui===46||Ui>=48&&Ui<=57||Ui>=65&&Ui<=90||Ui===95||Ui>=97&&Ui<=122?String.fromCodePoint(Ui):Xi(Ui)}}catch(rn){Oi={error:rn}}finally{try{on&&!on.done&&(Ii=Gi.return)&&Ii.call(Gi)}finally{if(Oi)throw Oi.error}}return Mi}function _i(Ai,Oi){var Ii=St.domainToASCII(Ai);return Ii===""?(ii("Invalid domain name."),null):Ii}ze.setValidationErrorCallback=function(Ai){Ke=Ai},ze.newURL=ui,ze.isSpecialScheme=ci,ze.isSpecial=hi,ze.defaultPort=mi,ze.includesCredentials=di,ze.cannotHaveAUsernamePasswordPort=function(Ai){return Ai.host===null||Ai.host===""||Ai._cannotBeABaseURLFlag||Ai.scheme==="file"},ze.urlSerializer=fi,ze.hostSerializer=yi,ze.iPv4Serializer=pi,ze.iPv6Serializer=xi,ze.urlParser=function(Ai,Oi,Ii){var Mi=Si(Ai,Oi,Ii);return Mi===null?null:(Mi.scheme!=="blob"||(Mi._blobURLEntry=null),Mi)},ze.basicURLParser=Si,ze.setTheUsername=function(Ai,Oi){var Ii,Mi,Gi="";try{for(var on=Xe(Oi),Ui=on.next();!Ui.done;Ui=on.next())Gi+=Ji(Ui.value,ai)}catch(rn){Ii={error:rn}}finally{try{Ui&&!Ui.done&&(Mi=on.return)&&Mi.call(on)}finally{if(Ii)throw Ii.error}}Ai.username=Gi},ze.setThePassword=function(Ai,Oi){var Ii,Mi,Gi="";try{for(var on=Xe(Oi),Ui=on.next();!Ui.done;Ui=on.next())Gi+=Ji(Ui.value,ai)}catch(rn){Ii={error:rn}}finally{try{Ui&&!Ui.done&&(Mi=on.return)&&Mi.call(on)}finally{if(Ii)throw Ii.error}}Ai.password=Gi},ze.isSingleDotPathSegment=vi,ze.isDoubleDotPathSegment=Di,ze.shorten=Ti,ze.isNormalizedWindowsDriveLetter=Fi,ze.isWindowsDriveLetter=Ci,ze.startsWithAWindowsDriveLetter=Ni,ze.hostParser=Ri,ze.iPv4NumberParser=Yi,ze.iPv4Parser=ki,ze.iPv6Parser=ji,ze.opaqueHostParser=Vi,ze.resolveABlobURL=Bi,ze.percentEncode=Xi,ze.percentDecode=en,ze.stringPercentDecode=tn,ze.utf8PercentEncode=Ji,ze.hostEquals=function(Ai,Oi){return Ai===Oi},ze.urlEquals=function(Ai,Oi,Ii){return Ii===void 0&&(Ii=!1),fi(Ai,Ii)===fi(Oi,Ii)},ze.urlEncodedStringParser=function(Ai){return Li(Je.utf8Encode(Ai))},ze.urlEncodedParser=Li,ze.urlEncodedByteSerializer=wi,ze.urlEncodedSerializer=function(Ai,Oi){var Ii,Mi;if((Oi===void 0||Oi==="replacement"||Oi==="UTF-16BE"||Oi==="UTF-16LE"?"UTF-8":Oi).toUpperCase()!=="UTF-8")throw new Error("Only UTF-8 encoding is supported.");var Gi="";try{for(var on=Xe(Ai),Ui=on.next();!Ui.done;Ui=on.next()){var rn=Ui.value,un=wi(Je.utf8Encode(rn[0])),dn=rn[1];dn=wi(Je.utf8Encode(dn)),Gi!==""&&(Gi+="&"),Gi+=un+"="+dn}}catch(hn){Ii={error:hn}}finally{try{Ui&&!Ui.done&&(Mi=on.return)&&Mi.call(on)}finally{if(Ii)throw Ii.error}}return Gi},ze.origin=function Ai(Oi){switch(Oi.scheme){case"blob":Oi._blobURLEntry;var Ii=Si(Oi.path[0]);return Ii===null?Ze.OpaqueOrigin:Ai(Ii);case"ftp":case"http":case"https":case"ws":case"wss":return[Oi.scheme,Oi.host===null?"":Oi.host,Oi.port,null];case"file":default:return Ze.OpaqueOrigin}},ze.domainToASCII=_i,ze.domainToUnicode=function(Ai,Oi){var Ii=St.domainToUnicode(Ai);return Ii===""&&ii("Invalid domain name."),Ii},ze.asciiSerializationOfAnOrigin=function(Ai){if(Ai[0]===""&&Ai[1]===""&&Ai[2]===null&&Ai[3]===null)return"null";var Oi=Ai[0]+"://"+yi(Ai[1]);return Ai[2]!==null&&(Oi+=":"+Ai[2].toString()),Oi}},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=qe(0),We=function(){function Ke(){this._signal=Xe.create_abortSignal()}return Object.defineProperty(Ke.prototype,"signal",{get:function(){return this._signal},enumerable:!0,configurable:!0}),Ke.prototype.abort=function(){Xe.abort_signalAbort(this._signal)},Ke}();ze.AbortControllerImpl=We},function(Ve,ze,qe){var Xe,We=this&&this.__extends||(Xe=function(Qe,St){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ei,ti){ei.__proto__=ti}||function(ei,ti){for(var ni in ti)ti.hasOwnProperty(ni)&&(ei[ni]=ti[ni])})(Qe,St)},function(Qe,St){function ei(){this.constructor=Qe}Xe(Qe,St),Qe.prototype=St===null?Object.create(St):(ei.prototype=St.prototype,new ei)});Object.defineProperty(ze,"__esModule",{value:!0});var Ke=qe(70),Je=qe(0),Ze=function(Qe){function St(){var ei=Qe.call(this)||this;return ei._abortedFlag=!1,ei._abortAlgorithms=new Set,ei}return We(St,Qe),Object.defineProperty(St.prototype,"aborted",{get:function(){return this._abortedFlag},enumerable:!0,configurable:!0}),Object.defineProperty(St.prototype,"onabort",{get:function(){return Je.event_getterEventHandlerIDLAttribute(this,"onabort")},set:function(ei){Je.event_setterEventHandlerIDLAttribute(this,"onabort",ei)},enumerable:!0,configurable:!0}),St._create=function(){return new St},St}(Ke.EventTargetImpl);ze.AbortSignalImpl=Ze},function(Ve,ze,qe){var Xe,We=this&&this.__extends||(Xe=function(St,ei){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ti,ni){ti.__proto__=ni}||function(ti,ni){for(var oi in ni)ni.hasOwnProperty(oi)&&(ti[oi]=ni[oi])})(St,ei)},function(St,ei){function ti(){this.constructor=St}Xe(St,ei),St.prototype=ei===null?Object.create(ei):(ti.prototype=ei.prototype,new ti)});Object.defineProperty(ze,"__esModule",{value:!0});var Ke=qe(1),Je=qe(34),Ze=qe(12),Qe=function(St){function ei(ti,ni,oi){var ai=St.call(this)||this;return ai._name="",ai._publicId="",ai._systemId="",ai._name=ti,ai._publicId=ni,ai._systemId=oi,ai}return We(ei,St),Object.defineProperty(ei.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"publicId",{get:function(){return this._publicId},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"systemId",{get:function(){return this._systemId},enumerable:!0,configurable:!0}),ei.prototype.before=function(){for(var ti=[],ni=0;ni<arguments.length;ni++)ti[ni]=arguments[ni];throw new Error("Mixin: ChildNode not implemented.")},ei.prototype.after=function(){for(var ti=[],ni=0;ni<arguments.length;ni++)ti[ni]=arguments[ni];throw new Error("Mixin: ChildNode not implemented.")},ei.prototype.replaceWith=function(){for(var ti=[],ni=0;ni<arguments.length;ni++)ti[ni]=arguments[ni];throw new Error("Mixin: ChildNode not implemented.")},ei.prototype.remove=function(){throw new Error("Mixin: ChildNode not implemented.")},ei._create=function(ti,ni,oi,ai){oi===void 0&&(oi=""),ai===void 0&&(ai="");var si=new ei(ni,oi,ai);return si._nodeDocument=ti,si},ei}(Je.NodeImpl);ze.DocumentTypeImpl=Qe,Ze.idl_defineConst(Qe.prototype,"_nodeType",Ke.NodeType.DocumentType)},function(Ve,ze,qe){var Xe,We=this&&this.__extends||(Xe=function(St,ei){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ti,ni){ti.__proto__=ni}||function(ti,ni){for(var oi in ni)ni.hasOwnProperty(oi)&&(ti[oi]=ni[oi])})(St,ei)},function(St,ei){function ti(){this.constructor=St}Xe(St,ei),St.prototype=ei===null?Object.create(ei):(ti.prototype=ei.prototype,new ti)});Object.defineProperty(ze,"__esModule",{value:!0});var Ke=qe(100),Je=qe(2),Ze=qe(0),Qe=function(St){function ei(ti,ni){var oi=St.call(this)||this;return oi._host=ti,oi._mode=ni,oi}return We(ei,St),Object.defineProperty(ei.prototype,"mode",{get:function(){return this._mode},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"host",{get:function(){return this._host},enumerable:!0,configurable:!0}),ei.prototype._getTheParent=function(ti){return ti._composedFlag||Je.isEmpty(ti._path)||Ze.tree_rootNode(ti._path[0].invocationTarget)!==this?this._host:null},ei._create=function(ti,ni){return new ei(ni,"closed")},ei}(Ke.DocumentFragmentImpl);ze.ShadowRootImpl=Qe},function(Ve,ze,qe){var Xe,We=this&&this.__extends||(Xe=function(ei,ti){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ni,oi){ni.__proto__=oi}||function(ni,oi){for(var ai in oi)oi.hasOwnProperty(ai)&&(ni[ai]=oi[ai])})(ei,ti)},function(ei,ti){function ni(){this.constructor=ei}Xe(ei,ti),ei.prototype=ti===null?Object.create(ti):(ni.prototype=ti.prototype,new ni)});Object.defineProperty(ze,"__esModule",{value:!0});var Ke=qe(1),Je=qe(34),Ze=qe(0),Qe=qe(12),St=function(ei){function ti(ni){var oi=ei.call(this)||this;return oi._namespace=null,oi._namespacePrefix=null,oi._element=null,oi._value="",oi._localName=ni,oi}return We(ti,ei),Object.defineProperty(ti.prototype,"ownerElement",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(ti.prototype,"namespaceURI",{get:function(){return this._namespace},enumerable:!0,configurable:!0}),Object.defineProperty(ti.prototype,"prefix",{get:function(){return this._namespacePrefix},enumerable:!0,configurable:!0}),Object.defineProperty(ti.prototype,"localName",{get:function(){return this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(ti.prototype,"name",{get:function(){return this._qualifiedName},enumerable:!0,configurable:!0}),Object.defineProperty(ti.prototype,"value",{get:function(){return this._value},set:function(ni){Ze.attr_setAnExistingAttributeValue(this,ni)},enumerable:!0,configurable:!0}),Object.defineProperty(ti.prototype,"_qualifiedName",{get:function(){return this._namespacePrefix!==null?this._namespacePrefix+":"+this._localName:this._localName},enumerable:!0,configurable:!0}),ti._create=function(ni,oi){var ai=new ti(oi);return ai._nodeDocument=ni,ai},ti}(Je.NodeImpl);ze.AttrImpl=St,Qe.idl_defineConst(St.prototype,"_nodeType",Ke.NodeType.Attribute),Qe.idl_defineConst(St.prototype,"specified",!0)},function(Ve,ze,qe){var Xe,We=this&&this.__extends||(Xe=function(St,ei){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ti,ni){ti.__proto__=ni}||function(ti,ni){for(var oi in ni)ni.hasOwnProperty(oi)&&(ti[oi]=ni[oi])})(St,ei)},function(St,ei){function ti(){this.constructor=St}Xe(St,ei),St.prototype=ei===null?Object.create(ei):(ti.prototype=ei.prototype,new ti)});Object.defineProperty(ze,"__esModule",{value:!0});var Ke=qe(101),Je=qe(1),Ze=qe(12),Qe=function(St){function ei(ti){return St.call(this,ti)||this}return We(ei,St),ei._create=function(ti,ni){ni===void 0&&(ni="");var oi=new ei(ni);return oi._nodeDocument=ti,oi},ei}(Ke.TextImpl);ze.CDATASectionImpl=Qe,Ze.idl_defineConst(Qe.prototype,"_nodeType",Je.NodeType.CData)},function(Ve,ze,qe){var Xe,We=this&&this.__extends||(Xe=function(St,ei){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ti,ni){ti.__proto__=ni}||function(ti,ni){for(var oi in ni)ni.hasOwnProperty(oi)&&(ti[oi]=ni[oi])})(St,ei)},function(St,ei){function ti(){this.constructor=St}Xe(St,ei),St.prototype=ei===null?Object.create(ei):(ti.prototype=ei.prototype,new ti)});Object.defineProperty(ze,"__esModule",{value:!0});var Ke=qe(1),Je=qe(71),Ze=qe(12),Qe=function(St){function ei(ti){return ti===void 0&&(ti=""),St.call(this,ti)||this}return We(ei,St),ei._create=function(ti,ni){ni===void 0&&(ni="");var oi=new ei(ni);return oi._nodeDocument=ti,oi},ei}(Je.CharacterDataImpl);ze.CommentImpl=Qe,Ze.idl_defineConst(Qe.prototype,"_nodeType",Ke.NodeType.Comment)},function(Ve,ze,qe){var Xe,We=this&&this.__extends||(Xe=function(St,ei){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ti,ni){ti.__proto__=ni}||function(ti,ni){for(var oi in ni)ni.hasOwnProperty(oi)&&(ti[oi]=ni[oi])})(St,ei)},function(St,ei){function ti(){this.constructor=St}Xe(St,ei),St.prototype=ei===null?Object.create(ei):(ti.prototype=ei.prototype,new ti)});Object.defineProperty(ze,"__esModule",{value:!0});var Ke=qe(1),Je=qe(71),Ze=qe(12),Qe=function(St){function ei(ti,ni){var oi=St.call(this,ni)||this;return oi._target=ti,oi}return We(ei,St),Object.defineProperty(ei.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),ei._create=function(ti,ni,oi){var ai=new ei(ni,oi);return ai._nodeDocument=ti,ai},ei}(Je.CharacterDataImpl);ze.ProcessingInstructionImpl=Qe,Ze.idl_defineConst(Qe.prototype,"_nodeType",Ke.NodeType.ProcessingInstruction)},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=qe(7),We=qe(0),Ke=qe(3),Je=qe(2),Ze=function(){function Qe(St,ei){return this._live=!0,this._root=St,this._filter=ei,new Proxy(this,this)}return Object.defineProperty(Qe.prototype,"length",{get:function(){for(var St=this,ei=0,ti=We.tree_getFirstDescendantNode(this._root,!1,!1,function(ni){return Ke.Guard.isElementNode(ni)&&St._filter(ni)});ti!==null;)ei++,ti=We.tree_getNextDescendantNode(this._root,ti,!1,!1,function(ni){return Ke.Guard.isElementNode(ni)&&St._filter(ni)});return ei},enumerable:!0,configurable:!0}),Qe.prototype.item=function(St){for(var ei=this,ti=0,ni=We.tree_getFirstDescendantNode(this._root,!1,!1,function(oi){return Ke.Guard.isElementNode(oi)&&ei._filter(oi)});ni!==null;){if(ti===St)return ni;ti++,ni=We.tree_getNextDescendantNode(this._root,ni,!1,!1,function(oi){return Ke.Guard.isElementNode(oi)&&ei._filter(oi)})}return null},Qe.prototype.namedItem=function(St){var ei=this;if(St==="")return null;for(var ti=We.tree_getFirstDescendantNode(this._root,!1,!1,function(ai){return Ke.Guard.isElementNode(ai)&&ei._filter(ai)});ti!=null;){if(ti._uniqueIdentifier===St)return ti;if(ti._namespace===Xe.namespace.HTML)for(var ni=0;ni<ti._attributeList.length;ni++){var oi=ti._attributeList[ni];if(oi._localName==="name"&&oi._namespace===null&&oi._namespacePrefix===null&&oi._value===St)return ti}ti=We.tree_getNextDescendantNode(this._root,ti,!1,!1,function(ai){return Ke.Guard.isElementNode(ai)&&ei._filter(ai)})}return null},Qe.prototype[Symbol.iterator]=function(){var St=this._root,ei=this._filter,ti=We.tree_getFirstDescendantNode(St,!1,!1,function(ni){return Ke.Guard.isElementNode(ni)&&ei(ni)});return{next:function(){if(ti===null)return{done:!0,value:null};var ni={done:!1,value:ti};return ti=We.tree_getNextDescendantNode(St,ti,!1,!1,function(oi){return Ke.Guard.isElementNode(oi)&&ei(oi)}),ni}}},Qe.prototype.get=function(St,ei,ti){if(!Je.isString(ei)||Qe.reservedNames.indexOf(ei)!==-1)return Reflect.get(St,ei,ti);var ni=Number(ei);return isNaN(ni)?St.namedItem(ei)||void 0:St.item(ni)||void 0},Qe.prototype.set=function(St,ei,ti,ni){if(!Je.isString(ei)||Qe.reservedNames.indexOf(ei)!==-1)return Reflect.set(St,ei,ti,ni);var oi=Number(ei),ai=isNaN(oi)?St.namedItem(ei)||void 0:St.item(oi)||void 0;return!(!ai||!ai._parent)&&(We.mutation_replace(ai,ti,ai._parent),!0)},Qe._create=function(St,ei){return ei===void 0&&(ei=function(){return!0}),new Qe(St,ei)},Qe.reservedNames=["_root","_live","_filter","length","item","namedItem","get","set"],Qe}();ze.HTMLCollectionImpl=Ze},function(Ve,ze,qe){var Xe=this&&this.__values||function(Qe){var St=typeof Symbol=="function"&&Symbol.iterator,ei=St&&Qe[St],ti=0;if(ei)return ei.call(Qe);if(Qe&&typeof Qe.length=="number")return{next:function(){return Qe&&ti>=Qe.length&&(Qe=void 0),{value:Qe&&Qe[ti++],done:!Qe}}};throw new TypeError(St?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ze,"__esModule",{value:!0});var We=qe(6),Ke=qe(2),Je=qe(0),Ze=function(){function Qe(St){return this._live=!0,this._filter=null,this._length=0,this._root=St,new Proxy(this,this)}return Object.defineProperty(Qe.prototype,"length",{get:function(){return this._root._children.size},enumerable:!0,configurable:!0}),Qe.prototype.item=function(St){if(St<0||St>this.length-1)return null;if(St<this.length/2){for(var ei=0,ti=this._root._firstChild;ti!==null&&ei!==St;)ti=ti._nextSibling,ei++;return ti}for(ei=this.length-1,ti=this._root._lastChild;ti!==null&&ei!==St;)ti=ti._previousSibling,ei--;return ti},Qe.prototype.keys=function(){var St;return(St={})[Symbol.iterator]=(function(){var ei=0;return{next:(function(){return ei===this.length?{done:!0,value:null}:{done:!1,value:ei++}}).bind(this)}}).bind(this),St},Qe.prototype.values=function(){var St;return(St={})[Symbol.iterator]=(function(){var ei=this[Symbol.iterator]();return{next:function(){return ei.next()}}}).bind(this),St},Qe.prototype.entries=function(){var St;return(St={})[Symbol.iterator]=(function(){var ei=this[Symbol.iterator](),ti=0;return{next:function(){var ni=ei.next();return ni.done?{done:!0,value:null}:{done:!1,value:[ti++,ni.value]}}}}).bind(this),St},Qe.prototype[Symbol.iterator]=function(){return this._root._children[Symbol.iterator]()},Qe.prototype.forEach=function(St,ei){var ti,ni;ei===void 0&&(ei=We.dom.window);var oi=0;try{for(var ai=Xe(this._root._children),si=ai.next();!si.done;si=ai.next()){var ri=si.value;St.call(ei,ri,oi++,this)}}catch(ii){ti={error:ii}}finally{try{si&&!si.done&&(ni=ai.return)&&ni.call(ai)}finally{if(ti)throw ti.error}}},Qe.prototype.get=function(St,ei,ti){if(!Ke.isString(ei))return Reflect.get(St,ei,ti);var ni=Number(ei);return isNaN(ni)?Reflect.get(St,ei,ti):St.item(ni)||void 0},Qe.prototype.set=function(St,ei,ti,ni){if(!Ke.isString(ei))return Reflect.set(St,ei,ti,ni);var oi=Number(ei);if(isNaN(oi))return Reflect.set(St,ei,ti,ni);var ai=St.item(oi)||void 0;return!!ai&&!!ai._parent&&(Je.mutation_replace(ai,ti,ai._parent),!0)},Qe._create=function(St){return new Qe(St)},Qe}();ze.NodeListImpl=Ze},function(Ve,ze,qe){var Xe=this&&this.__values||function(Ze){var Qe=typeof Symbol=="function"&&Symbol.iterator,St=Qe&&Ze[Qe],ei=0;if(St)return St.call(Ze);if(Ze&&typeof Ze.length=="number")return{next:function(){return Ze&&ei>=Ze.length&&(Ze=void 0),{value:Ze&&Ze[ei++],done:!Ze}}};throw new TypeError(Qe?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ze,"__esModule",{value:!0});var We=qe(6),Ke=qe(2),Je=function(){function Ze(Qe){return this._live=!1,this._items=[],this._length=0,this._root=Qe,this._items=[],this._filter=function(St){return!0},new Proxy(this,this)}return Object.defineProperty(Ze.prototype,"length",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),Ze.prototype.item=function(Qe){return Qe<0||Qe>this.length-1?null:this._items[Qe]},Ze.prototype.keys=function(){var Qe;return(Qe={})[Symbol.iterator]=(function(){var St=0;return{next:(function(){return St===this.length?{done:!0,value:null}:{done:!1,value:St++}}).bind(this)}}).bind(this),Qe},Ze.prototype.values=function(){var Qe;return(Qe={})[Symbol.iterator]=(function(){var St=this[Symbol.iterator]();return{next:function(){return St.next()}}}).bind(this),Qe},Ze.prototype.entries=function(){var Qe;return(Qe={})[Symbol.iterator]=(function(){var St=this[Symbol.iterator](),ei=0;return{next:function(){var ti=St.next();return ti.done?{done:!0,value:null}:{done:!1,value:[ei++,ti.value]}}}}).bind(this),Qe},Ze.prototype[Symbol.iterator]=function(){var Qe=this._items[Symbol.iterator]();return{next:function(){return Qe.next()}}},Ze.prototype.forEach=function(Qe,St){var ei,ti;St===void 0&&(St=We.dom.window);var ni=0;try{for(var oi=Xe(this._items),ai=oi.next();!ai.done;ai=oi.next()){var si=ai.value;Qe.call(St,si,ni++,this)}}catch(ri){ei={error:ri}}finally{try{ai&&!ai.done&&(ti=oi.return)&&ti.call(oi)}finally{if(ei)throw ei.error}}},Ze.prototype.get=function(Qe,St,ei){if(!Ke.isString(St))return Reflect.get(Qe,St,ei);var ti=Number(St);return isNaN(ti)?Reflect.get(Qe,St,ei):Qe._items[ti]||void 0},Ze.prototype.set=function(Qe,St,ei,ti){if(!Ke.isString(St))return Reflect.set(Qe,St,ei,ti);var ni=Number(St);return isNaN(ni)?Reflect.set(Qe,St,ei,ti):ni>=0&&ni<Qe._items.length&&(Qe._items[ni]=ei,!0)},Ze._create=function(Qe,St){var ei=new Ze(Qe);return ei._items=St,ei},Ze}();ze.NodeListStaticImpl=Je},function(Ve,ze,qe){var Xe,We=this&&this.__extends||(Xe=function(Qe,St){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ei,ti){ei.__proto__=ti}||function(ei,ti){for(var ni in ti)ti.hasOwnProperty(ni)&&(ei[ni]=ti[ni])})(Qe,St)},function(Qe,St){function ei(){this.constructor=Qe}Xe(Qe,St),Qe.prototype=St===null?Object.create(St):(ei.prototype=St.prototype,new ei)});Object.defineProperty(ze,"__esModule",{value:!0});var Ke=qe(9),Je=qe(0),Ze=function(Qe){function St(ei){var ti=Qe.call(this)||this;return ti._element=ei,Object.setPrototypeOf(ti,St.prototype),ti}return We(St,Qe),St.prototype._asArray=function(){return this},St.prototype.item=function(ei){return this[ei]||null},St.prototype.getNamedItem=function(ei){return Je.element_getAnAttributeByName(ei,this._element)},St.prototype.getNamedItemNS=function(ei,ti){return Je.element_getAnAttributeByNamespaceAndLocalName(ei||"",ti,this._element)},St.prototype.setNamedItem=function(ei){return Je.element_setAnAttribute(ei,this._element)},St.prototype.setNamedItemNS=function(ei){return Je.element_setAnAttribute(ei,this._element)},St.prototype.removeNamedItem=function(ei){var ti=Je.element_removeAnAttributeByName(ei,this._element);if(ti===null)throw new Ke.NotFoundError;return ti},St.prototype.removeNamedItemNS=function(ei,ti){var ni=Je.element_removeAnAttributeByNamespaceAndLocalName(ei||"",ti,this._element);if(ni===null)throw new Ke.NotFoundError;return ni},St._create=function(ei){return new St(ei)},St}(Array);ze.NamedNodeMapImpl=Ze},function(Ve,ze,qe){var Xe,We=this&&this.__extends||(Xe=function(ai,si){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ri,ii){ri.__proto__=ii}||function(ri,ii){for(var ui in ii)ii.hasOwnProperty(ui)&&(ri[ui]=ii[ui])})(ai,si)},function(ai,si){function ri(){this.constructor=ai}Xe(ai,si),ai.prototype=si===null?Object.create(si):(ri.prototype=si.prototype,new ri)}),Ke=this&&this.__values||function(ai){var si=typeof Symbol=="function"&&Symbol.iterator,ri=si&&ai[si],ii=0;if(ri)return ri.call(ai);if(ai&&typeof ai.length=="number")return{next:function(){return ai&&ii>=ai.length&&(ai=void 0),{value:ai&&ai[ii++],done:!ai}}};throw new TypeError(si?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ze,"__esModule",{value:!0});var Je=qe(6),Ze=qe(1),Qe=qe(102),St=qe(9),ei=qe(0),ti=qe(12),ni=qe(3),oi=function(ai){function si(){var ri=ai.call(this)||this,ii=Je.dom.window._associatedDocument;return ri._start=[ii,0],ri._end=[ii,0],Je.dom.rangeList.add(ri),ri}return We(si,ai),Object.defineProperty(si.prototype,"commonAncestorContainer",{get:function(){for(var ri=this._start[0];!ei.tree_isAncestorOf(this._end[0],ri,!0);){if(ri._parent===null)throw new Error("Parent node  is null.");ri=ri._parent}return ri},enumerable:!0,configurable:!0}),si.prototype.setStart=function(ri,ii){ei.range_setTheStart(this,ri,ii)},si.prototype.setEnd=function(ri,ii){ei.range_setTheEnd(this,ri,ii)},si.prototype.setStartBefore=function(ri){var ii=ri._parent;if(ii===null)throw new St.InvalidNodeTypeError;ei.range_setTheStart(this,ii,ei.tree_index(ri))},si.prototype.setStartAfter=function(ri){var ii=ri._parent;if(ii===null)throw new St.InvalidNodeTypeError;ei.range_setTheStart(this,ii,ei.tree_index(ri)+1)},si.prototype.setEndBefore=function(ri){var ii=ri._parent;if(ii===null)throw new St.InvalidNodeTypeError;ei.range_setTheEnd(this,ii,ei.tree_index(ri))},si.prototype.setEndAfter=function(ri){var ii=ri._parent;if(ii===null)throw new St.InvalidNodeTypeError;ei.range_setTheEnd(this,ii,ei.tree_index(ri)+1)},si.prototype.collapse=function(ri){ri?this._end=this._start:this._start=this._end},si.prototype.selectNode=function(ri){ei.range_select(ri,this)},si.prototype.selectNodeContents=function(ri){if(ni.Guard.isDocumentTypeNode(ri))throw new St.InvalidNodeTypeError;var ii=ei.tree_nodeLength(ri);this._start=[ri,0],this._end=[ri,ii]},si.prototype.compareBoundaryPoints=function(ri,ii){if(ri!==Ze.HowToCompare.StartToStart&&ri!==Ze.HowToCompare.StartToEnd&&ri!==Ze.HowToCompare.EndToEnd&&ri!==Ze.HowToCompare.EndToStart)throw new St.NotSupportedError;if(ei.range_root(this)!==ei.range_root(ii))throw new St.WrongDocumentError;var ui,ci;switch(ri){case Ze.HowToCompare.StartToStart:ui=this._start,ci=ii._start;break;case Ze.HowToCompare.StartToEnd:ui=this._end,ci=ii._start;break;case Ze.HowToCompare.EndToEnd:ui=this._end,ci=ii._end;break;case Ze.HowToCompare.EndToStart:ui=this._start,ci=ii._end;break;default:throw new St.NotSupportedError}var hi=ei.boundaryPoint_position(ui,ci);return hi===Ze.BoundaryPosition.Before?-1:hi===Ze.BoundaryPosition.After?1:0},si.prototype.deleteContents=function(){var ri,ii,ui,ci;if(!ei.range_collapsed(this)){var hi=this._startNode,mi=this._startOffset,di=this._endNode,fi=this._endOffset;if(hi===di&&ni.Guard.isCharacterDataNode(hi))ei.characterData_replaceData(hi,mi,fi-mi,"");else{var yi,pi,xi=[];try{for(var Si=Ke(ei.range_getContainedNodes(this)),vi=Si.next();!vi.done;vi=Si.next()){var Di=(Ni=vi.value)._parent;Di!==null&&ei.range_isContained(Di,this)||xi.push(Ni)}}catch(Ri){ri={error:Ri}}finally{try{vi&&!vi.done&&(ii=Si.return)&&ii.call(Si)}finally{if(ri)throw ri.error}}if(ei.tree_isAncestorOf(di,hi,!0))yi=hi,pi=mi;else{for(var Ti=hi;Ti._parent!==null&&!ei.tree_isAncestorOf(di,Ti._parent,!0);)Ti=Ti._parent;if(Ti._parent===null)throw new Error("Parent node is null.");yi=Ti._parent,pi=ei.tree_index(Ti)+1}ni.Guard.isCharacterDataNode(hi)&&ei.characterData_replaceData(hi,mi,ei.tree_nodeLength(hi)-mi,"");try{for(var Fi=Ke(xi),Ci=Fi.next();!Ci.done;Ci=Fi.next()){var Ni;(Ni=Ci.value)._parent&&ei.mutation_remove(Ni,Ni._parent)}}catch(Ri){ui={error:Ri}}finally{try{Ci&&!Ci.done&&(ci=Fi.return)&&ci.call(Fi)}finally{if(ui)throw ui.error}}ni.Guard.isCharacterDataNode(di)&&ei.characterData_replaceData(di,0,fi,""),this._start=[yi,pi],this._end=[yi,pi]}}},si.prototype.extractContents=function(){return ei.range_extract(this)},si.prototype.cloneContents=function(){return ei.range_cloneTheContents(this)},si.prototype.insertNode=function(ri){return ei.range_insert(ri,this)},si.prototype.surroundContents=function(ri){var ii,ui;try{for(var ci=Ke(ei.range_getPartiallyContainedNodes(this)),hi=ci.next();!hi.done;hi=ci.next()){var mi=hi.value;if(!ni.Guard.isTextNode(mi))throw new St.InvalidStateError}}catch(fi){ii={error:fi}}finally{try{hi&&!hi.done&&(ui=ci.return)&&ui.call(ci)}finally{if(ii)throw ii.error}}if(ni.Guard.isDocumentNode(ri)||ni.Guard.isDocumentTypeNode(ri)||ni.Guard.isDocumentFragmentNode(ri))throw new St.InvalidNodeTypeError;var di=ei.range_extract(this);ri._children.size!==0&&ei.mutation_replaceAll(null,ri),ei.range_insert(ri,this),ei.mutation_append(di,ri),ei.range_select(ri,this)},si.prototype.cloneRange=function(){return ei.create_range(this._start,this._end)},si.prototype.detach=function(){Je.dom.rangeList.delete(this)},si.prototype.isPointInRange=function(ri,ii){if(ei.tree_rootNode(ri)!==ei.range_root(this))return!1;if(ni.Guard.isDocumentTypeNode(ri))throw new St.InvalidNodeTypeError;if(ii>ei.tree_nodeLength(ri))throw new St.IndexSizeError;var ui=[ri,ii];return ei.boundaryPoint_position(ui,this._start)!==Ze.BoundaryPosition.Before&&ei.boundaryPoint_position(ui,this._end)!==Ze.BoundaryPosition.After},si.prototype.comparePoint=function(ri,ii){if(ei.tree_rootNode(ri)!==ei.range_root(this))throw new St.WrongDocumentError;if(ni.Guard.isDocumentTypeNode(ri))throw new St.InvalidNodeTypeError;if(ii>ei.tree_nodeLength(ri))throw new St.IndexSizeError;var ui=[ri,ii];return ei.boundaryPoint_position(ui,this._start)===Ze.BoundaryPosition.Before?-1:ei.boundaryPoint_position(ui,this._end)===Ze.BoundaryPosition.After?1:0},si.prototype.intersectsNode=function(ri){if(ei.tree_rootNode(ri)!==ei.range_root(this))return!1;var ii=ri._parent;if(ii===null)return!0;var ui=ei.tree_index(ri);return ei.boundaryPoint_position([ii,ui],this._end)===Ze.BoundaryPosition.Before&&ei.boundaryPoint_position([ii,ui+1],this._start)===Ze.BoundaryPosition.After},si.prototype.toString=function(){var ri,ii,ui="";if(this._startNode===this._endNode&&ni.Guard.isTextNode(this._startNode))return this._startNode._data.substring(this._startOffset,this._endOffset);ni.Guard.isTextNode(this._startNode)&&(ui+=this._startNode._data.substring(this._startOffset));try{for(var ci=Ke(ei.range_getContainedNodes(this)),hi=ci.next();!hi.done;hi=ci.next()){var mi=hi.value;ni.Guard.isTextNode(mi)&&(ui+=mi._data)}}catch(di){ri={error:di}}finally{try{hi&&!hi.done&&(ii=ci.return)&&ii.call(ci)}finally{if(ri)throw ri.error}}return ni.Guard.isTextNode(this._endNode)&&(ui+=this._endNode._data.substring(0,this._endOffset)),ui},si._create=function(ri,ii){var ui=new si;return ri&&(ui._start=ri),ii&&(ui._end=ii),ui},si.START_TO_START=0,si.START_TO_END=1,si.END_TO_END=2,si.END_TO_START=3,si}(Qe.AbstractRangeImpl);ze.RangeImpl=oi,ti.idl_defineConst(oi.prototype,"START_TO_START",0),ti.idl_defineConst(oi.prototype,"START_TO_END",1),ti.idl_defineConst(oi.prototype,"END_TO_END",2),ti.idl_defineConst(oi.prototype,"END_TO_START",3)},function(Ve,ze,qe){var Xe,We=this&&this.__extends||(Xe=function(Qe,St){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ei,ti){ei.__proto__=ti}||function(ei,ti){for(var ni in ti)ti.hasOwnProperty(ni)&&(ei[ni]=ti[ni])})(Qe,St)},function(Qe,St){function ei(){this.constructor=Qe}Xe(Qe,St),Qe.prototype=St===null?Object.create(St):(ei.prototype=St.prototype,new ei)});Object.defineProperty(ze,"__esModule",{value:!0});var Ke=qe(103),Je=qe(0),Ze=function(Qe){function St(ei,ti,ni){var oi=Qe.call(this,ei)||this;return oi._iteratorCollection=void 0,oi._reference=ti,oi._pointerBeforeReference=ni,Je.nodeIterator_iteratorList().add(oi),oi}return We(St,Qe),Object.defineProperty(St.prototype,"referenceNode",{get:function(){return this._reference},enumerable:!0,configurable:!0}),Object.defineProperty(St.prototype,"pointerBeforeReferenceNode",{get:function(){return this._pointerBeforeReference},enumerable:!0,configurable:!0}),St.prototype.nextNode=function(){return Je.nodeIterator_traverse(this,!0)},St.prototype.previousNode=function(){return Je.nodeIterator_traverse(this,!1)},St.prototype.detach=function(){Je.nodeIterator_iteratorList().delete(this)},St._create=function(ei,ti,ni){return new St(ei,ti,ni)},St}(Ke.TraverserImpl);ze.NodeIteratorImpl=Ze},function(Ve,ze,qe){var Xe,We=this&&this.__extends||(Xe=function(St,ei){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ti,ni){ti.__proto__=ni}||function(ti,ni){for(var oi in ni)ni.hasOwnProperty(oi)&&(ti[oi]=ni[oi])})(St,ei)},function(St,ei){function ti(){this.constructor=St}Xe(St,ei),St.prototype=ei===null?Object.create(ei):(ti.prototype=ei.prototype,new ti)});Object.defineProperty(ze,"__esModule",{value:!0});var Ke=qe(1),Je=qe(103),Ze=qe(0),Qe=function(St){function ei(ti,ni){var oi=St.call(this,ti)||this;return oi._current=ni,oi}return We(ei,St),Object.defineProperty(ei.prototype,"currentNode",{get:function(){return this._current},set:function(ti){this._current=ti},enumerable:!0,configurable:!0}),ei.prototype.parentNode=function(){for(var ti=this._current;ti!==null&&ti!==this._root;)if((ti=ti._parent)!==null&&Ze.traversal_filter(this,ti)===Ke.FilterResult.Accept)return this._current=ti,ti;return null},ei.prototype.firstChild=function(){return Ze.treeWalker_traverseChildren(this,!0)},ei.prototype.lastChild=function(){return Ze.treeWalker_traverseChildren(this,!1)},ei.prototype.nextSibling=function(){return Ze.treeWalker_traverseSiblings(this,!0)},ei.prototype.previousNode=function(){for(var ti=this._current;ti!==this._root;){for(var ni=ti._previousSibling;ni;){ti=ni;for(var oi=Ze.traversal_filter(this,ti);oi!==Ke.FilterResult.Reject&&ti._lastChild;)ti=ti._lastChild,oi=Ze.traversal_filter(this,ti);if(oi===Ke.FilterResult.Accept)return this._current=ti,ti;ni=ti._previousSibling}if(ti===this._root||ti._parent===null)return null;if(ti=ti._parent,Ze.traversal_filter(this,ti)===Ke.FilterResult.Accept)return this._current=ti,ti}return null},ei.prototype.previousSibling=function(){return Ze.treeWalker_traverseSiblings(this,!1)},ei.prototype.nextNode=function(){for(var ti=this._current,ni=Ke.FilterResult.Accept;;){for(;ni!==Ke.FilterResult.Reject&&ti._firstChild;)if(ti=ti._firstChild,(ni=Ze.traversal_filter(this,ti))===Ke.FilterResult.Accept)return this._current=ti,ti;for(var oi=null,ai=ti;ai!==null;){if(ai===this._root)return null;if((oi=ai._nextSibling)!==null){ti=oi;break}ai=ai._parent}if((ni=Ze.traversal_filter(this,ti))===Ke.FilterResult.Accept)return this._current=ti,ti}},ei._create=function(ti,ni){return new ei(ti,ni)},ei}(Je.TraverserImpl);ze.TreeWalkerImpl=Qe},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=qe(1),We=qe(12),Ke=function(){function Je(){}return Je.prototype.acceptNode=function(Ze){return Xe.FilterResult.Accept},Je._create=function(){return new Je},Je.FILTER_ACCEPT=1,Je.FILTER_REJECT=2,Je.FILTER_SKIP=3,Je.SHOW_ALL=4294967295,Je.SHOW_ELEMENT=1,Je.SHOW_ATTRIBUTE=2,Je.SHOW_TEXT=4,Je.SHOW_CDATA_SECTION=8,Je.SHOW_ENTITY_REFERENCE=16,Je.SHOW_ENTITY=32,Je.SHOW_PROCESSING_INSTRUCTION=64,Je.SHOW_COMMENT=128,Je.SHOW_DOCUMENT=256,Je.SHOW_DOCUMENT_TYPE=512,Je.SHOW_DOCUMENT_FRAGMENT=1024,Je.SHOW_NOTATION=2048,Je}();ze.NodeFilterImpl=Ke,We.idl_defineConst(Ke.prototype,"FILTER_ACCEPT",1),We.idl_defineConst(Ke.prototype,"FILTER_REJECT",2),We.idl_defineConst(Ke.prototype,"FILTER_SKIP",3),We.idl_defineConst(Ke.prototype,"SHOW_ALL",4294967295),We.idl_defineConst(Ke.prototype,"SHOW_ELEMENT",1),We.idl_defineConst(Ke.prototype,"SHOW_ATTRIBUTE",2),We.idl_defineConst(Ke.prototype,"SHOW_TEXT",4),We.idl_defineConst(Ke.prototype,"SHOW_CDATA_SECTION",8),We.idl_defineConst(Ke.prototype,"SHOW_ENTITY_REFERENCE",16),We.idl_defineConst(Ke.prototype,"SHOW_ENTITY",32),We.idl_defineConst(Ke.prototype,"SHOW_PROCESSING_INSTRUCTION",64),We.idl_defineConst(Ke.prototype,"SHOW_COMMENT",128),We.idl_defineConst(Ke.prototype,"SHOW_DOCUMENT",256),We.idl_defineConst(Ke.prototype,"SHOW_DOCUMENT_TYPE",512),We.idl_defineConst(Ke.prototype,"SHOW_DOCUMENT_FRAGMENT",1024),We.idl_defineConst(Ke.prototype,"SHOW_NOTATION",2048)},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=function(){function We(Ke,Je,Ze,Qe,St,ei,ti,ni,oi){this._type=Ke,this._target=Je,this._addedNodes=Ze,this._removedNodes=Qe,this._previousSibling=St,this._nextSibling=ei,this._attributeName=ti,this._attributeNamespace=ni,this._oldValue=oi}return Object.defineProperty(We.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(We.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(We.prototype,"addedNodes",{get:function(){return this._addedNodes},enumerable:!0,configurable:!0}),Object.defineProperty(We.prototype,"removedNodes",{get:function(){return this._removedNodes},enumerable:!0,configurable:!0}),Object.defineProperty(We.prototype,"previousSibling",{get:function(){return this._previousSibling},enumerable:!0,configurable:!0}),Object.defineProperty(We.prototype,"nextSibling",{get:function(){return this._nextSibling},enumerable:!0,configurable:!0}),Object.defineProperty(We.prototype,"attributeName",{get:function(){return this._attributeName},enumerable:!0,configurable:!0}),Object.defineProperty(We.prototype,"attributeNamespace",{get:function(){return this._attributeNamespace},enumerable:!0,configurable:!0}),Object.defineProperty(We.prototype,"oldValue",{get:function(){return this._oldValue},enumerable:!0,configurable:!0}),We._create=function(Ke,Je,Ze,Qe,St,ei,ti,ni,oi){return new We(Ke,Je,Ze,Qe,St,ei,ti,ni,oi)},We}();ze.MutationRecordImpl=Xe},function(Ve,ze,qe){var Xe=this&&this.__values||function(St){var ei=typeof Symbol=="function"&&Symbol.iterator,ti=ei&&St[ei],ni=0;if(ti)return ti.call(St);if(St&&typeof St.length=="number")return{next:function(){return St&&ni>=St.length&&(St=void 0),{value:St&&St[ni++],done:!St}}};throw new TypeError(ei?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ze,"__esModule",{value:!0});var We=qe(6),Ke=qe(9),Je=qe(7),Ze=qe(0),Qe=function(){function St(ei,ti){this._element=ei,this._attribute=ti,this._tokenSet=new Set;var ni=ti._localName,oi=Ze.element_getAnAttributeValue(ei,ni),ai=this;this._element._attributeChangeSteps.push(function(si,ri,ii,ui,ci){ri===ai._attribute._localName&&ci===null&&(ui?ai._tokenSet=Ze.orderedSet_parse(ui):ai._tokenSet.clear())}),We.dom.features.steps&&Ze.dom_runAttributeChangeSteps(ei,ni,oi,oi,null)}return Object.defineProperty(St.prototype,"length",{get:function(){return this._tokenSet.size},enumerable:!0,configurable:!0}),St.prototype.item=function(ei){var ti,ni,oi=0;try{for(var ai=Xe(this._tokenSet),si=ai.next();!si.done;si=ai.next()){var ri=si.value;if(oi===ei)return ri;oi++}}catch(ii){ti={error:ii}}finally{try{si&&!si.done&&(ni=ai.return)&&ni.call(ai)}finally{if(ti)throw ti.error}}return null},St.prototype.contains=function(ei){return this._tokenSet.has(ei)},St.prototype.add=function(){for(var ei,ti,ni=[],oi=0;oi<arguments.length;oi++)ni[oi]=arguments[oi];try{for(var ai=Xe(ni),si=ai.next();!si.done;si=ai.next()){var ri=si.value;if(ri==="")throw new Ke.SyntaxError("Cannot add an empty token.");if(Je.codePoint.ASCIIWhiteSpace.test(ri))throw new Ke.InvalidCharacterError("Token cannot contain whitespace.");this._tokenSet.add(ri)}}catch(ii){ei={error:ii}}finally{try{si&&!si.done&&(ti=ai.return)&&ti.call(ai)}finally{if(ei)throw ei.error}}Ze.tokenList_updateSteps(this)},St.prototype.remove=function(){for(var ei,ti,ni=[],oi=0;oi<arguments.length;oi++)ni[oi]=arguments[oi];try{for(var ai=Xe(ni),si=ai.next();!si.done;si=ai.next()){var ri=si.value;if(ri==="")throw new Ke.SyntaxError("Cannot remove an empty token.");if(Je.codePoint.ASCIIWhiteSpace.test(ri))throw new Ke.InvalidCharacterError("Token cannot contain whitespace.");this._tokenSet.delete(ri)}}catch(ii){ei={error:ii}}finally{try{si&&!si.done&&(ti=ai.return)&&ti.call(ai)}finally{if(ei)throw ei.error}}Ze.tokenList_updateSteps(this)},St.prototype.toggle=function(ei,ti){if(ti===void 0&&(ti=void 0),ei==="")throw new Ke.SyntaxError("Cannot toggle an empty token.");if(Je.codePoint.ASCIIWhiteSpace.test(ei))throw new Ke.InvalidCharacterError("Token cannot contain whitespace.");return this._tokenSet.has(ei)?ti!==void 0&&ti!==!1||(this._tokenSet.delete(ei),Ze.tokenList_updateSteps(this),!1):(ti===void 0||ti===!0)&&(this._tokenSet.add(ei),Ze.tokenList_updateSteps(this),!0)},St.prototype.replace=function(ei,ti){if(ei===""||ti==="")throw new Ke.SyntaxError("Cannot replace an empty token.");if(Je.codePoint.ASCIIWhiteSpace.test(ei)||Je.codePoint.ASCIIWhiteSpace.test(ti))throw new Ke.InvalidCharacterError("Token cannot contain whitespace.");return!!this._tokenSet.has(ei)&&(Je.set.replace(this._tokenSet,ei,ti),Ze.tokenList_updateSteps(this),!0)},St.prototype.supports=function(ei){return Ze.tokenList_validationSteps(this,ei)},Object.defineProperty(St.prototype,"value",{get:function(){return Ze.tokenList_serializeSteps(this)},set:function(ei){Ze.element_setAnAttributeValue(this._element,this._attribute._localName,ei)},enumerable:!0,configurable:!0}),St.prototype[Symbol.iterator]=function(){var ei=this._tokenSet[Symbol.iterator]();return{next:function(){return ei.next()}}},St._create=function(ei,ti){return new St(ei,ti)},St}();ze.DOMTokenListImpl=Qe},function(Ve,ze,qe){var Xe,We=this&&this.__extends||(Xe=function(Qe,St){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ei,ti){ei.__proto__=ti}||function(ei,ti){for(var ni in ti)ti.hasOwnProperty(ni)&&(ei[ni]=ti[ni])})(Qe,St)},function(Qe,St){function ei(){this.constructor=Qe}Xe(Qe,St),Qe.prototype=St===null?Object.create(St):(ei.prototype=St.prototype,new ei)});Object.defineProperty(ze,"__esModule",{value:!0});var Ke=qe(104),Je=qe(0),Ze=function(Qe){function St(ei,ti){var ni=Qe.call(this,ei,ti)||this;return ni._detail=null,ni._detail=ti&&ti.detail||null,ni}return We(St,Qe),Object.defineProperty(St.prototype,"detail",{get:function(){return this._detail},enumerable:!0,configurable:!0}),St.prototype.initCustomEvent=function(ei,ti,ni,oi){ti===void 0&&(ti=!1),ni===void 0&&(ni=!1),oi===void 0&&(oi=null),this._dispatchFlag||(Je.event_initialize(this,ei,ti,ni),this._detail=oi)},St}(Ke.EventImpl);ze.CustomEventImpl=Ze},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=qe(6),We=qe(1),Ke=qe(105),Je=qe(17);ze.nodeIterator_traverse=function(Ze,Qe){for(var St=Ze._reference,ei=Ze._pointerBeforeReference;;){if(Qe)if(ei)ei=!1;else{var ti=Je.tree_getFollowingNode(Ze._root,St);if(!ti)return null;St=ti}else if(ei){var ni=Je.tree_getPrecedingNode(Ze.root,St);if(!ni)return null;St=ni}else ei=!0;if(Ke.traversal_filter(Ze,St)===We.FilterResult.Accept)break}return Ze._reference=St,Ze._pointerBeforeReference=ei,St},ze.nodeIterator_iteratorList=function(){return Xe.dom.window._iteratorList}},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=qe(9),We=qe(7),Ke=qe(174);function Je(Ze){if(!Ke.xml_isName(Ze))throw new Xe.InvalidCharacterError("Invalid XML name: "+Ze);if(!Ke.xml_isQName(Ze))throw new Xe.InvalidCharacterError("Invalid XML qualified name: "+Ze+".")}ze.namespace_validate=Je,ze.namespace_validateAndExtract=function(Ze,Qe){Ze||(Ze=null),Je(Qe);var St=Qe.split(":"),ei=St.length===2?St[0]:null,ti=St.length===2?St[1]:Qe;if(ei&&Ze===null)throw new Xe.NamespaceError("Qualified name includes a prefix but the namespace is null.");if(ei==="xml"&&Ze!==We.namespace.XML)throw new Xe.NamespaceError('Qualified name includes the "xml" prefix but the namespace is not the XML namespace.');if(Ze!==We.namespace.XMLNS&&(ei==="xmlns"||Qe==="xmlns"))throw new Xe.NamespaceError('Qualified name includes the "xmlns" prefix but the namespace is not the XMLNS namespace.');if(Ze===We.namespace.XMLNS&&ei!=="xmlns"&&Qe!=="xmlns")throw new Xe.NamespaceError('Qualified name does not include the "xmlns" prefix but the namespace is the XMLNS namespace.');return[Ze,ei,ti]},ze.namespace_extractQName=function(Ze){Je(Ze);var Qe=Ze.split(":");return[Qe.length===2?Qe[0]:null,Qe.length===2?Qe[1]:Ze]}},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0}),ze.xml_isName=function(Xe){for(var We=0;We<Xe.length;We++){var Ke=Xe.charCodeAt(We);if(!(Ke>=97&&Ke<=122||Ke>=65&&Ke<=90||Ke===58||Ke===95||Ke>=192&&Ke<=214||Ke>=216&&Ke<=246||Ke>=248&&Ke<=767||Ke>=880&&Ke<=893||Ke>=895&&Ke<=8191||Ke>=8204&&Ke<=8205||Ke>=8304&&Ke<=8591||Ke>=11264&&Ke<=12271||Ke>=12289&&Ke<=55295||Ke>=63744&&Ke<=64975||Ke>=65008&&Ke<=65533)&&(We===0||!(Ke===45||Ke===46||Ke>=48&&Ke<=57||Ke===183||Ke>=768&&Ke<=879||Ke>=8255&&Ke<=8256))){if(Ke>=55296&&Ke<=56319&&We<Xe.length-1){var Je=Xe.charCodeAt(We+1);if(Je>=56320&&Je<=57343&&(We++,(Ke=1024*(Ke-55296)+Je-56320+65536)>=65536&&Ke<=983039))continue}return!1}}return!0},ze.xml_isQName=function(Xe){for(var We=!1,Ke=0;Ke<Xe.length;Ke++){var Je=Xe.charCodeAt(Ke);if(!(Je>=97&&Je<=122||Je>=65&&Je<=90||Je===95||Je>=192&&Je<=214||Je>=216&&Je<=246||Je>=248&&Je<=767||Je>=880&&Je<=893||Je>=895&&Je<=8191||Je>=8204&&Je<=8205||Je>=8304&&Je<=8591||Je>=11264&&Je<=12271||Je>=12289&&Je<=55295||Je>=63744&&Je<=64975||Je>=65008&&Je<=65533)&&(Ke===0||!(Je===45||Je===46||Je>=48&&Je<=57||Je===183||Je>=768&&Je<=879||Je>=8255&&Je<=8256))){if(Ke===0||Je!==58){if(Je>=55296&&Je<=56319&&Ke<Xe.length-1){var Ze=Xe.charCodeAt(Ke+1);if(Ze>=56320&&Ze<=57343&&(Ke++,(Je=1024*(Je-55296)+Ze-56320+65536)>=65536&&Je<=983039))continue}return!1}if(We||Ke===Xe.length-1)return!1;We=!0}}return!0},ze.xml_isLegalChar=function(Xe){for(var We=0;We<Xe.length;We++){var Ke=Xe.charCodeAt(We);if(!(Ke===9||Ke===10||Ke===13||Ke>=32&&Ke<=55295||Ke>=57344&&Ke<=65533)){if(Ke>=55296&&Ke<=56319&&We<Xe.length-1){var Je=Xe.charCodeAt(We+1);if(Je>=56320&&Je<=57343&&(We++,(Ke=1024*(Ke-55296)+Je-56320+65536)>=65536&&Ke<=1114111))continue}return!1}}return!0},ze.xml_isPubidChar=function(Xe){for(var We=0;We<Xe.length;We++){var Ke=Xe.charCodeAt(We);if(!(Ke>=97&&Ke<=122||Ke>=65&&Ke<=90||Ke>=39&&Ke<=59||Ke===32||Ke===13||Ke===10||Ke>=35&&Ke<=37||Ke===33||Ke===61||Ke===63||Ke===64||Ke===95))return!1}return!0}},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=qe(1),We=qe(17);ze.boundaryPoint_position=function Ke(Je,Ze){var Qe=Je[0],St=Je[1],ei=Ze[0],ti=Ze[1];if(console.assert(We.tree_rootNode(Qe)===We.tree_rootNode(ei),"Boundary points must share the same root node."),Qe===ei)return St===ti?Xe.BoundaryPosition.Equal:St<ti?Xe.BoundaryPosition.Before:Xe.BoundaryPosition.After;if(We.tree_isFollowing(ei,Qe)){var ni=Ke([ei,ti],[Qe,St]);if(ni===Xe.BoundaryPosition.Before)return Xe.BoundaryPosition.After;if(ni===Xe.BoundaryPosition.After)return Xe.BoundaryPosition.Before}if(We.tree_isAncestorOf(ei,Qe)){for(var oi=ei;!We.tree_isChildOf(Qe,oi);)oi._parent!==null&&(oi=oi._parent);if(We.tree_index(oi)<St)return Xe.BoundaryPosition.After}return Xe.BoundaryPosition.Before}},function(Ve,ze,qe){var Xe=this&&this.__values||function(ni){var oi=typeof Symbol=="function"&&Symbol.iterator,ai=oi&&ni[oi],si=0;if(ai)return ai.call(ni);if(ni&&typeof ni.length=="number")return{next:function(){return ni&&si>=ni.length&&(ni=void 0),{value:ni&&ni[si++],done:!ni}}};throw new TypeError(oi?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ze,"__esModule",{value:!0});var We=qe(6),Ke=qe(3),Je=qe(7),Ze=qe(29),Qe=qe(108),St=qe(30),ei=qe(37),ti=qe(52);ze.node_stringReplaceAll=function(ni,oi){var ai=null;ni!==""&&(ai=Ze.create_text(oi._nodeDocument,ni)),ei.mutation_replaceAll(ai,oi)},ze.node_clone=function ni(oi,ai,si){var ri,ii,ui,ci,hi;if(ai===void 0&&(ai=null),si===void 0&&(si=!1),ai===null&&(ai=oi._nodeDocument),Ke.Guard.isElementNode(oi)){hi=ti.element_createAnElement(ai,oi._localName,oi._namespace,oi._namespacePrefix,oi._is,!1);try{for(var mi=Xe(oi._attributeList),di=mi.next();!di.done;di=mi.next()){var fi=ni(di.value,ai);ti.element_append(fi,hi)}}catch(Di){ri={error:Di}}finally{try{di&&!di.done&&(ii=mi.return)&&ii.call(mi)}finally{if(ri)throw ri.error}}}else if(Ke.Guard.isDocumentNode(oi)){var yi=Ze.create_document();yi._encoding=oi._encoding,yi._contentType=oi._contentType,yi._URL=oi._URL,yi._origin=oi._origin,yi._type=oi._type,yi._mode=oi._mode,hi=yi}else if(Ke.Guard.isDocumentTypeNode(oi))hi=Ze.create_documentType(ai,oi._name,oi._publicId,oi._systemId);else if(Ke.Guard.isAttrNode(oi)){var pi=Ze.create_attr(ai,oi.localName);pi._namespace=oi._namespace,pi._namespacePrefix=oi._namespacePrefix,pi._value=oi._value,hi=pi}else hi=Ke.Guard.isExclusiveTextNode(oi)?Ze.create_text(ai,oi._data):Ke.Guard.isCDATASectionNode(oi)?Ze.create_cdataSection(ai,oi._data):Ke.Guard.isCommentNode(oi)?Ze.create_comment(ai,oi._data):Ke.Guard.isProcessingInstructionNode(oi)?Ze.create_processingInstruction(ai,oi._target,oi._data):Ke.Guard.isDocumentFragmentNode(oi)?Ze.create_documentFragment(ai):Object.create(oi);if(Ke.Guard.isDocumentNode(hi)?(hi._nodeDocument=hi,ai=hi):hi._nodeDocument=ai,We.dom.features.steps&&St.dom_runCloningSteps(hi,oi,ai,si),si)try{for(var xi=Xe(oi._children),Si=xi.next();!Si.done;Si=xi.next()){var vi=ni(Si.value,ai,!0);ei.mutation_append(vi,hi)}}catch(Di){ui={error:Di}}finally{try{Si&&!Si.done&&(ci=xi.return)&&ci.call(xi)}finally{if(ui)throw ui.error}}return hi},ze.node_equals=function ni(oi,ai){var si,ri,ii,ui;if(oi._nodeType!==ai._nodeType)return!1;if(Ke.Guard.isDocumentTypeNode(oi)&&Ke.Guard.isDocumentTypeNode(ai)){if(oi._name!==ai._name||oi._publicId!==ai._publicId||oi._systemId!==ai._systemId)return!1}else if(Ke.Guard.isElementNode(oi)&&Ke.Guard.isElementNode(ai)){if(oi._namespace!==ai._namespace||oi._namespacePrefix!==ai._namespacePrefix||oi._localName!==ai._localName||oi._attributeList.length!==ai._attributeList.length)return!1}else if(Ke.Guard.isAttrNode(oi)&&Ke.Guard.isAttrNode(ai)){if(oi._namespace!==ai._namespace||oi._localName!==ai._localName||oi._value!==ai._value)return!1}else if(Ke.Guard.isProcessingInstructionNode(oi)&&Ke.Guard.isProcessingInstructionNode(ai)){if(oi._target!==ai._target||oi._data!==ai._data)return!1}else if(Ke.Guard.isCharacterDataNode(oi)&&Ke.Guard.isCharacterDataNode(ai)&&oi._data!==ai._data)return!1;if(Ke.Guard.isElementNode(oi)&&Ke.Guard.isElementNode(ai)){var ci={};try{for(var hi=Xe(oi._attributeList),mi=hi.next();!mi.done;mi=hi.next())ci[(yi=mi.value)._localName]=yi}catch(Ti){si={error:Ti}}finally{try{mi&&!mi.done&&(ri=hi.return)&&ri.call(hi)}finally{if(si)throw si.error}}try{for(var di=Xe(ai._attributeList),fi=di.next();!fi.done;fi=di.next()){var yi,pi=fi.value;if(!(yi=ci[pi._localName])||!ni(yi,pi))return!1}}catch(Ti){ii={error:Ti}}finally{try{fi&&!fi.done&&(ui=di.return)&&ui.call(di)}finally{if(ii)throw ii.error}}}if(oi._children.size!==ai._children.size)return!1;for(var xi=oi._children[Symbol.iterator](),Si=ai._children[Symbol.iterator](),vi=xi.next(),Di=Si.next();!vi.done&&!Di.done;){if(!ni(vi.value,Di.value))return!1;vi=xi.next(),Di=Si.next()}return!0},ze.node_listOfElementsWithQualifiedName=function(ni,oi){return ni==="*"?Ze.create_htmlCollection(oi):oi._nodeDocument._type==="html"?Ze.create_htmlCollection(oi,function(ai){return ai._namespace===Je.namespace.HTML&&ai._qualifiedName===ni.toLowerCase()||ai._namespace!==Je.namespace.HTML&&ai._qualifiedName===ni}):Ze.create_htmlCollection(oi,function(ai){return ai._qualifiedName===ni})},ze.node_listOfElementsWithNamespace=function(ni,oi,ai){return ni===""&&(ni=null),ni==="*"&&oi==="*"?Ze.create_htmlCollection(ai):ni==="*"?Ze.create_htmlCollection(ai,function(si){return si._localName===oi}):oi==="*"?Ze.create_htmlCollection(ai,function(si){return si._namespace===ni}):Ze.create_htmlCollection(ai,function(si){return si._localName===oi&&si._namespace===ni})},ze.node_listOfElementsWithClassNames=function(ni,oi){var ai=Qe.orderedSet_parse(ni);if(ai.size===0)return Ze.create_htmlCollection(oi,function(){return!1});var si=oi._nodeDocument._mode!=="quirks";return Ze.create_htmlCollection(oi,function(ri){var ii=ri.classList;return Qe.orderedSet_contains(ii._tokenSet,ai,si)})},ze.node_locateANamespacePrefix=function ni(oi,ai){if(oi._namespace===ai&&oi._namespacePrefix!==null)return oi._namespacePrefix;for(var si=0;si<oi._attributeList.length;si++){var ri=oi._attributeList[si];if(ri._namespacePrefix==="xmlns"&&ri._value===ai)return ri._localName}return oi._parent&&Ke.Guard.isElementNode(oi._parent)?ni(oi._parent,ai):null},ze.node_locateANamespace=function ni(oi,ai){if(Ke.Guard.isElementNode(oi)){if(oi._namespace!==null&&oi._namespacePrefix===ai)return oi._namespace;for(var si=0;si<oi._attributeList.length;si++){var ri=oi._attributeList[si];if(ri._namespace===Je.namespace.XMLNS&&ri._namespacePrefix==="xmlns"&&ri._localName===ai||ai===null&&ri._namespace===Je.namespace.XMLNS&&ri._namespacePrefix===null&&ri._localName==="xmlns")return ri._value||null}return oi.parentElement===null?null:ni(oi.parentElement,ai)}return Ke.Guard.isDocumentNode(oi)?oi.documentElement===null?null:ni(oi.documentElement,ai):Ke.Guard.isDocumentTypeNode(oi)||Ke.Guard.isDocumentFragmentNode(oi)?null:Ke.Guard.isAttrNode(oi)?oi._element===null?null:ni(oi._element,ai):oi._parent&&Ke.Guard.isElementNode(oi._parent)?ni(oi._parent,ai):null}},function(Ve,ze,qe){var Xe=this&&this.__values||function(ti){var ni=typeof Symbol=="function"&&Symbol.iterator,oi=ni&&ti[ni],ai=0;if(oi)return oi.call(ti);if(ti&&typeof ti.length=="number")return{next:function(){return ti&&ai>=ti.length&&(ti=void 0),{value:ti&&ti[ai++],done:!ti}}};throw new TypeError(ni?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ze,"__esModule",{value:!0});var We=qe(6),Ke=qe(3),Je=qe(9),Ze=qe(29),Qe=qe(17),St=qe(107),ei=qe(37);ze.text_contiguousTextNodes=function(ti,ni){var oi;return ni===void 0&&(ni=!1),(oi={})[Symbol.iterator]=function(){for(var ai=ti;ai&&Ke.Guard.isTextNode(ai._previousSibling);)ai=ai._previousSibling;return{next:function(){if(ai&&!ni&&ai===ti&&(ai=Ke.Guard.isTextNode(ai._nextSibling)?ai._nextSibling:null),ai===null)return{done:!0,value:null};var si={done:!1,value:ai};return ai=Ke.Guard.isTextNode(ai._nextSibling)?ai._nextSibling:null,si}}},oi},ze.text_contiguousExclusiveTextNodes=function(ti,ni){var oi;return ni===void 0&&(ni=!1),(oi={})[Symbol.iterator]=function(){for(var ai=ti;ai&&Ke.Guard.isExclusiveTextNode(ai._previousSibling);)ai=ai._previousSibling;return{next:function(){if(ai&&!ni&&ai===ti&&(ai=Ke.Guard.isExclusiveTextNode(ai._nextSibling)?ai._nextSibling:null),ai===null)return{done:!0,value:null};var si={done:!1,value:ai};return ai=Ke.Guard.isExclusiveTextNode(ai._nextSibling)?ai._nextSibling:null,si}}},oi},ze.text_descendantTextContent=function(ti){for(var ni="",oi=Qe.tree_getFirstDescendantNode(ti,!1,!1,function(ai){return Ke.Guard.isTextNode(ai)});oi!==null;)ni+=oi._data,oi=Qe.tree_getNextDescendantNode(ti,oi,!1,!1,function(ai){return Ke.Guard.isTextNode(ai)});return ni},ze.text_split=function(ti,ni){var oi,ai,si=ti._data.length;if(ni>si)throw new Je.IndexSizeError;var ri=si-ni,ii=St.characterData_substringData(ti,ni,ri),ui=Ze.create_text(ti._nodeDocument,ii),ci=ti._parent;if(ci!==null){ei.mutation_insert(ui,ci,ti._nextSibling);try{for(var hi=Xe(We.dom.rangeList),mi=hi.next();!mi.done;mi=hi.next()){var di=mi.value;di._start[0]===ti&&di._start[1]>ni&&(di._start[0]=ui,di._start[1]-=ni),di._end[0]===ti&&di._end[1]>ni&&(di._end[0]=ui,di._end[1]-=ni);var fi=Qe.tree_index(ti);di._start[0]===ci&&di._start[1]===fi+1&&di._start[1]++,di._end[0]===ci&&di._end[1]===fi+1&&di._end[1]++}}catch(yi){oi={error:yi}}finally{try{mi&&!mi.done&&(ai=hi.return)&&ai.call(hi)}finally{if(oi)throw oi.error}}}return St.characterData_replaceData(ti,ni,ri,""),ui}},function(Ve,ze,qe){var Xe=qe(4),We=qe(41),Ke=qe(24),Je=qe(48),Ze=[].join,Qe=We!=Object,St=Je("join",",");Xe({target:"Array",proto:!0,forced:Qe||!St},{join:function(ei){return Ze.call(Ke(this),ei===void 0?",":ei)}})},function(Ve,ze,qe){var Xe=qe(4),We=qe(83),Ke=String.fromCharCode,Je=String.fromCodePoint;Xe({target:"String",stat:!0,forced:!!Je&&Je.length!=1},{fromCodePoint:function(Ze){for(var Qe,St=[],ei=arguments.length,ti=0;ei>ti;){if(Qe=+arguments[ti++],We(Qe,1114111)!==Qe)throw RangeError(Qe+" is not a valid code point");St.push(Qe<65536?Ke(Qe):Ke(55296+((Qe-=65536)>>10),Qe%1024+56320))}return St.join("")}})},function(Ve,ze,qe){var Xe=this&&this.__read||function(Je,Ze){var Qe=typeof Symbol=="function"&&Je[Symbol.iterator];if(!Qe)return Je;var St,ei,ti=Qe.call(Je),ni=[];try{for(;(Ze===void 0||Ze-- >0)&&!(St=ti.next()).done;)ni.push(St.value)}catch(oi){ei={error:oi}}finally{try{St&&!St.done&&(Qe=ti.return)&&Qe.call(ti)}finally{if(ei)throw ei.error}}return ni};Object.defineProperty(ze,"__esModule",{value:!0});var We=qe(111),Ke=function(){function Je(Ze,Qe){this._options={skipWhitespaceOnlyText:!1},this.err={line:-1,col:-1,index:-1,str:""},this._str=Ze,this._index=0,this._length=Ze.length,Qe&&(this._options.skipWhitespaceOnlyText=Qe.skipWhitespaceOnlyText||!1)}return Je.prototype.nextToken=function(){if(this.eof())return{type:We.TokenType.EOF};var Ze=this.skipIfStartsWith("<")?this.openBracket():this.text();return this._options.skipWhitespaceOnlyText&&Ze.type===We.TokenType.Text&&Je.isWhiteSpaceToken(Ze)&&(Ze=this.nextToken()),Ze},Je.prototype.openBracket=function(){return this.skipIfStartsWith("?")?this.skipIfStartsWith("xml")?Je.isSpace(this._str[this._index])?this.declaration():(this.seek(-3),this.pi()):this.pi():this.skipIfStartsWith("!")?this.skipIfStartsWith("--")?this.comment():this.skipIfStartsWith("[CDATA[")?this.cdata():this.skipIfStartsWith("DOCTYPE")?this.doctype():void this.throwError("Invalid '!' in opening tag."):this.skipIfStartsWith("/")?this.closeTag():this.openTag()},Je.prototype.declaration=function(){for(var Ze="",Qe="",St="";!this.eof();){if(this.skipSpace(),this.skipIfStartsWith("?>"))return{type:We.TokenType.Declaration,version:Ze,encoding:Qe,standalone:St};var ei=Xe(this.attribute(),2),ti=ei[0],ni=ei[1];ti==="version"?Ze=ni:ti==="encoding"?Qe=ni:ti==="standalone"?St=ni:this.throwError("Invalid attribute name: "+ti)}this.throwError("Missing declaration end symbol `?>`")},Je.prototype.doctype=function(){var Ze="",Qe="";this.skipSpace();var St=this.takeUntil2("[",">",!0);return this.skipSpace(),this.skipIfStartsWith("PUBLIC")?(Ze=this.quotedString(),Qe=this.quotedString()):this.skipIfStartsWith("SYSTEM")&&(Qe=this.quotedString()),this.skipSpace(),this.skipIfStartsWith("[")&&(this.skipUntil("]"),this.skipIfStartsWith("]")||this.throwError("Missing end bracket of DTD internal subset")),this.skipSpace(),this.skipIfStartsWith(">")||this.throwError("Missing doctype end symbol `>`"),{type:We.TokenType.DocType,name:St,pubId:Ze,sysId:Qe}},Je.prototype.pi=function(){var Ze=this.takeUntilStartsWith("?>",!0);if(this.eof()&&this.throwError("Missing processing instruction end symbol `?>`"),this.skipSpace(),this.skipIfStartsWith("?>"))return{type:We.TokenType.PI,target:Ze,data:""};var Qe=this.takeUntilStartsWith("?>");return this.eof()&&this.throwError("Missing processing instruction end symbol `?>`"),this.seek(2),{type:We.TokenType.PI,target:Ze,data:Qe}},Je.prototype.text=function(){var Ze=this.takeUntil("<");return{type:We.TokenType.Text,data:Ze}},Je.prototype.comment=function(){var Ze=this.takeUntilStartsWith("-->");return this.eof()&&this.throwError("Missing comment end symbol `-->`"),this.seek(3),{type:We.TokenType.Comment,data:Ze}},Je.prototype.cdata=function(){var Ze=this.takeUntilStartsWith("]]>");return this.eof()&&this.throwError("Missing CDATA end symbol `]>`"),this.seek(3),{type:We.TokenType.CDATA,data:Ze}},Je.prototype.openTag=function(){this.skipSpace();var Ze=this.takeUntil2(">","/",!0);if(this.skipSpace(),this.skipIfStartsWith(">"))return{type:We.TokenType.Element,name:Ze,attributes:[],selfClosing:!1};if(this.skipIfStartsWith("/>"))return{type:We.TokenType.Element,name:Ze,attributes:[],selfClosing:!0};for(var Qe=[];!this.eof();){if(this.skipSpace(),this.skipIfStartsWith(">"))return{type:We.TokenType.Element,name:Ze,attributes:Qe,selfClosing:!1};if(this.skipIfStartsWith("/>"))return{type:We.TokenType.Element,name:Ze,attributes:Qe,selfClosing:!0};var St=this.attribute();Qe.push(St)}this.throwError("Missing opening element tag end symbol `>`")},Je.prototype.closeTag=function(){this.skipSpace();var Ze=this.takeUntil(">",!0);return this.skipSpace(),this.skipIfStartsWith(">")||this.throwError("Missing closing element tag end symbol `>`"),{type:We.TokenType.ClosingTag,name:Ze}},Je.prototype.attribute=function(){this.skipSpace();var Ze=this.takeUntil("=",!0);return this.skipSpace(),this.skipIfStartsWith("=")||this.throwError("Missing equals sign before attribute value"),[Ze,this.quotedString()]},Je.prototype.quotedString=function(){this.skipSpace();var Ze=this.take(1);Je.isQuote(Ze)||this.throwError("Missing start quote character before quoted value");var Qe=this.takeUntil(Ze);return this.skipIfStartsWith(Ze)||this.throwError("Missing end quote character after quoted value"),Qe},Je.prototype.eof=function(){return this._index>=this._length},Je.prototype.skipIfStartsWith=function(Ze){var Qe=Ze.length;if(Qe===1)return this._str[this._index]===Ze&&(this._index++,!0);for(var St=0;St<Qe;St++)if(this._str[this._index+St]!==Ze[St])return!1;return this._index+=Qe,!0},Je.prototype.seek=function(Ze){this._index+=Ze,this._index<0&&(this._index=0),this._index>this._length&&(this._index=this._length)},Je.prototype.skipSpace=function(){for(;!this.eof()&&Je.isSpace(this._str[this._index]);)this._index++},Je.prototype.take=function(Ze){if(Ze===1)return this._str[this._index++];var Qe=this._index;return this.seek(Ze),this._str.slice(Qe,this._index)},Je.prototype.takeUntil=function(Ze,Qe){Qe===void 0&&(Qe=!1);for(var St=this._index;this._index<this._length;){var ei=this._str[this._index];if(ei===Ze||Qe&&Je.isSpace(ei))break;this._index++}return this._str.slice(St,this._index)},Je.prototype.takeUntil2=function(Ze,Qe,St){St===void 0&&(St=!1);for(var ei=this._index;this._index<this._length;){var ti=this._str[this._index];if(ti===Ze||ti===Qe||St&&Je.isSpace(ti))break;this._index++}return this._str.slice(ei,this._index)},Je.prototype.takeUntilStartsWith=function(Ze,Qe){Qe===void 0&&(Qe=!1);for(var St=this._index,ei=Ze.length;this._index<this._length;){for(var ti=!0,ni=0;ni<ei;ni++){var oi=this._str[this._index+ni],ai=Ze[ni];if(Qe&&Je.isSpace(oi))return this._str.slice(St,this._index);if(oi!==ai){this._index++,ti=!1;break}}if(ti)return this._str.slice(St,this._index)}return this._index=this._length,this._str.slice(St)},Je.prototype.skipUntil=function(Ze){for(;this._index<this._length&&this._str[this._index]!==Ze;)this._index++},Je.isWhiteSpaceToken=function(Ze){for(var Qe=Ze.data,St=0;St<Qe.length;St++){var ei=Qe[St];if(ei!==" "&&ei!==`
`&&ei!=="\r"&&ei!=="	"&&ei!=="\f")return!1}return!0},Je.isSpace=function(Ze){return Ze===" "||Ze===`
`||Ze==="\r"||Ze==="	"},Je.isQuote=function(Ze){return Ze==='"'||Ze==="'"},Je.prototype.throwError=function(Ze){for(var Qe=/\r\n|\r|\n/g,St=null,ei=0,ti=0,ni=this._str.length;(St=Qe.exec(this._str))!==null&&St!==null;)if(ei++,St.index<this._index&&(ti=Qe.lastIndex),St.index>this._index){ni=St.index;break}throw this.err={line:ei,col:this._index-ti,index:this._index,str:this._str.substring(ti,ni)},new Error(Ze+`
Index: `+this.err.index+`
Ln: `+this.err.line+", Col: "+this.err.col+`
Input: `+this.err.str)},Je.prototype[Symbol.iterator]=function(){return this._index=0,{next:(function(){var Ze=this.nextToken();return Ze.type===We.TokenType.EOF?{done:!0,value:null}:{done:!1,value:Ze}}).bind(this)}},Je}();ze.XMLStringLexer=Ke},function(Ve,ze,qe){var Xe=qe(39);Ve.exports=new Xe({include:[qe(182)]})},function(Ve,ze,qe){var Xe=qe(39);Ve.exports=new Xe({include:[qe(113)],implicit:[qe(290),qe(291),qe(292),qe(293)]})},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=qe(91),We=qe(2),Ke=qe(3),Je=qe(77),Ze=qe(109);function Qe(ni,oi){var ai=ei(ni===void 0||St(ni)?ni:Xe.DefaultBuilderOptions),si=St(ni)?oi:ni,ri=Ze.createDocument();ti(ri,ai);var ii=new Je.XMLBuilderImpl(ri);return si!==void 0&&ii.ele(si),ii}function St(ni){if(!We.isPlainObject(ni))return!1;for(var oi in ni)if(ni.hasOwnProperty(oi)&&!Xe.XMLBuilderOptionKeys.has(oi))return!1;return!0}function ei(ni){ni===void 0&&(ni={});var oi=We.applyDefaults(ni,Xe.DefaultBuilderOptions);if(oi.convert.att.length===0||oi.convert.ins.length===0||oi.convert.text.length===0||oi.convert.cdata.length===0||oi.convert.comment.length===0)throw new Error("JS object converter strings cannot be zero length.");return oi}function ti(ni,oi,ai){var si=ni;si._xmlBuilderOptions=oi,si._isFragment=ai}ze.builder=function(ni,oi){var ai=ei(St(ni)?ni:Xe.DefaultBuilderOptions),si=Ke.Guard.isNode(ni)||We.isArray(ni)?ni:oi;if(si===void 0)throw new Error("Invalid arguments.");if(We.isArray(si)){for(var ri=[],ii=0;ii<si.length;ii++){var ui=new Je.XMLBuilderImpl(si[ii]);ui.set(ai),ri.push(ui)}return ri}var ci=new Je.XMLBuilderImpl(si);return ci.set(ai),ci},ze.create=Qe,ze.fragment=function(ni,oi){var ai=ei(ni===void 0||St(ni)?ni:Xe.DefaultBuilderOptions),si=St(ni)?oi:ni,ri=Ze.createDocument();ti(ri,ai,!0);var ii=new Je.XMLBuilderImpl(ri.createDocumentFragment());return si!==void 0&&ii.ele(si),ii},ze.convert=function(ni,oi,ai){var si,ri,ii;return St(ni)&&oi!==void 0?(si=ni,ri=oi,ii=ai):(si=Xe.DefaultBuilderOptions,ri=ni,ii=oi||void 0),Qe(si,ri).end(ii)}},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=qe(77);ze.builder=Xe.builder,ze.create=Xe.create,ze.fragment=Xe.fragment,ze.convert=Xe.convert,ze.createCB=Xe.createCB,ze.fragmentCB=Xe.fragmentCB},function(Ve,ze,qe){qe(31),qe(32),qe(33),qe(191),qe(192),qe(194),qe(64),qe(19),qe(198),qe(199),qe(89),qe(201),qe(65),qe(20),qe(66),qe(22),qe(23);var Xe=this&&this.__read||function(si,ri){var ii=typeof Symbol=="function"&&si[Symbol.iterator];if(!ii)return si;var ui,ci,hi=ii.call(si),mi=[];try{for(;(ri===void 0||ri-- >0)&&!(ui=hi.next()).done;)mi.push(ui.value)}catch(di){ci={error:di}}finally{try{ui&&!ui.done&&(ii=hi.return)&&ii.call(hi)}finally{if(ci)throw ci.error}}return mi},We=this&&this.__values||function(si){var ri=typeof Symbol=="function"&&Symbol.iterator,ii=ri&&si[ri],ui=0;if(ii)return ii.call(si);if(si&&typeof si.length=="number")return{next:function(){return si&&ui>=si.length&&(si=void 0),{value:si&&si[ui++],done:!si}}};throw new TypeError(ri?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ze,"__esModule",{value:!0});var Ke=qe(91),Je=qe(2),Ze=qe(217),Qe=qe(1),St=qe(3),ei=qe(0),ti=qe(109),ni=qe(7),oi=qe(277),ai=function(){function si(ri){this._domNode=ri}return Object.defineProperty(si.prototype,"node",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),Object.defineProperty(si.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),si.prototype.set=function(ri){return this._options=Je.applyDefaults(Je.applyDefaults(this._options,ri,!0),Ke.DefaultBuilderOptions),this},si.prototype.ele=function(ri,ii,ui){var ci,hi,mi,di,fi,yi;if(Je.isObject(ri))return new oi.ObjectReader(this._options).parse(this,ri);if(ri!==null&&/^\s*</.test(ri))return new oi.XMLReader(this._options).parse(this,ri);if(ri!==null&&/^\s*[\{\[]/.test(ri))return new oi.JSONReader(this._options).parse(this,ri);if(ri!==null&&/^(\s*|(#.*)|(%.*))*---/.test(ri))return new oi.YAMLReader(this._options).parse(this,ri);if((ri===null||Je.isString(ri))&&Je.isString(ii))di=(ci=Xe([ri,ii,ui],3))[0],fi=ci[1],yi=ci[2];else{if(ri===null)throw new Error("Element name cannot be null. "+this._debugInfo());di=(hi=Xe([void 0,ri,Je.isObject(ii)?ii:void 0],3))[0],fi=hi[1],yi=hi[2]}if(yi&&(yi=Je.getValue(yi)),di=(mi=Xe(this._extractNamespace(ti.sanitizeInput(di,this._options.invalidCharReplacement),ti.sanitizeInput(fi,this._options.invalidCharReplacement),!0),2))[0],fi=mi[1],di===void 0){var pi=Xe(ei.namespace_extractQName(fi),1)[0];di=this.node.lookupNamespaceURI(pi)}var xi=di!=null?this._doc.createElementNS(di,fi):this._doc.createElement(fi);this.node.appendChild(xi);var Si=new si(xi),vi=this._doc.doctype;if(xi===this._doc.documentElement&&vi!==null){var Di=this._doc.implementation.createDocumentType(this._doc.documentElement.tagName,vi.publicId,vi.systemId);this._doc.replaceChild(Di,vi)}return yi&&!Je.isEmpty(yi)&&Si.att(yi),Si},si.prototype.remove=function(){var ri=this.up();return ri.node.removeChild(this.node),ri},si.prototype.att=function(ri,ii,ui){var ci,hi,mi,di,fi,yi,pi=this;if(Je.isMap(ri)||Je.isObject(ri))return Je.forEachObject(ri,function(Ci,Ni){return pi.att(Ci,Ni)},this),this;if(ri!=null&&(ri=Je.getValue(ri+"")),ii!=null&&(ii=Je.getValue(ii+"")),ui!=null&&(ui=Je.getValue(ui+"")),ri!==null&&!Je.isString(ri)||!Je.isString(ii)||ui!==null&&!Je.isString(ui)){if(!Je.isString(ri)||ii!=null&&!Je.isString(ii))throw new Error("Attribute name and value not specified. "+this._debugInfo());di=(hi=Xe([void 0,ri,ii],3))[0],fi=hi[1],yi=hi[2]}else di=(ci=Xe([ri,ii,ui],3))[0],fi=ci[1],yi=ci[2];if(this._options.keepNullAttributes&&yi==null)yi="";else if(yi==null)return this;if(!St.Guard.isElementNode(this.node))throw new Error("An attribute can only be assigned to an element node.");var xi=this.node;di=(mi=Xe(this._extractNamespace(di,fi,!1),2))[0],fi=mi[1],fi=ti.sanitizeInput(fi,this._options.invalidCharReplacement),di=ti.sanitizeInput(di,this._options.invalidCharReplacement),yi=ti.sanitizeInput(yi,this._options.invalidCharReplacement);var Si=Xe(ei.namespace_extractQName(fi),2),vi=Si[0],Di=Si[1],Ti=Xe(ei.namespace_extractQName(xi.prefix?xi.prefix+":"+xi.localName:xi.localName),1)[0],Fi=null;return vi==="xmlns"?(di=ni.namespace.XMLNS,xi.namespaceURI===null&&Ti===Di&&(Fi=yi)):vi===null&&Di==="xmlns"&&Ti===null&&(di=ni.namespace.XMLNS,Fi=yi),Fi!==null&&(this._updateNamespace(Fi),xi=this.node),di!==void 0?xi.setAttributeNS(di,fi,yi):xi.setAttribute(fi,yi),this},si.prototype.removeAtt=function(ri,ii){var ui,ci,hi=this;if(!St.Guard.isElementNode(this.node))throw new Error("An attribute can only be removed from an element node.");if(ri=Je.getValue(ri),ii!==void 0&&(ii=Je.getValue(ii)),ri!==null&&ii===void 0)ci=ri;else{if(ri!==null&&!Je.isString(ri)||ii===void 0)throw new Error("Attribute namespace must be a string. "+this._debugInfo());ui=ri,ci=ii}return Je.isArray(ci)||Je.isSet(ci)?Je.forEachArray(ci,function(mi){return ui===void 0?hi.removeAtt(mi):hi.removeAtt(ui,mi)},this):ui!==void 0?(ci=ti.sanitizeInput(ci,this._options.invalidCharReplacement),ui=ti.sanitizeInput(ui,this._options.invalidCharReplacement),this.node.removeAttributeNS(ui,ci)):(ci=ti.sanitizeInput(ci,this._options.invalidCharReplacement),this.node.removeAttribute(ci)),this},si.prototype.txt=function(ri){if(ri==null){if(!this._options.keepNullNodes)return this;ri=""}var ii=this._doc.createTextNode(ti.sanitizeInput(ri,this._options.invalidCharReplacement));return this.node.appendChild(ii),this},si.prototype.com=function(ri){if(ri==null){if(!this._options.keepNullNodes)return this;ri=""}var ii=this._doc.createComment(ti.sanitizeInput(ri,this._options.invalidCharReplacement));return this.node.appendChild(ii),this},si.prototype.dat=function(ri){if(ri==null){if(!this._options.keepNullNodes)return this;ri=""}var ii=this._doc.createCDATASection(ti.sanitizeInput(ri,this._options.invalidCharReplacement));return this.node.appendChild(ii),this},si.prototype.ins=function(ri,ii){var ui=this;if(ii===void 0&&(ii=""),ii==null){if(!this._options.keepNullNodes)return this;ii=""}if(Je.isArray(ri)||Je.isSet(ri))Je.forEachArray(ri,function(hi){var mi=(hi+="").indexOf(" "),di=mi===-1?hi:hi.substr(0,mi),fi=mi===-1?"":hi.substr(mi+1);ui.ins(di,fi)},this);else if(Je.isMap(ri)||Je.isObject(ri))Je.forEachObject(ri,function(hi,mi){return ui.ins(hi,mi)},this);else{var ci=this._doc.createProcessingInstruction(ti.sanitizeInput(ri,this._options.invalidCharReplacement),ti.sanitizeInput(ii,this._options.invalidCharReplacement));this.node.appendChild(ci)}return this},si.prototype.dec=function(ri){return this._options.version=ri.version||"1.0",this._options.encoding=ri.encoding,this._options.standalone=ri.standalone,this},si.prototype.dtd=function(ri){var ii=ti.sanitizeInput(ri&&ri.name||(this._doc.documentElement?this._doc.documentElement.tagName:"ROOT"),this._options.invalidCharReplacement),ui=ti.sanitizeInput(ri&&ri.pubID||"",this._options.invalidCharReplacement),ci=ti.sanitizeInput(ri&&ri.sysID||"",this._options.invalidCharReplacement);if(this._doc.documentElement!==null&&ii!==this._doc.documentElement.tagName)throw new Error("DocType name does not match document element name.");var hi=this._doc.implementation.createDocumentType(ii,ui,ci);return this._doc.doctype!==null?this._doc.replaceChild(hi,this._doc.doctype):this._doc.insertBefore(hi,this._doc.documentElement),this},si.prototype.import=function(ri){var ii,ui,ci=this._domNode,hi=this._doc,mi=ri.node;if(St.Guard.isDocumentNode(mi)){var di=mi.documentElement;if(di===null)throw new Error("Imported document has no document element node. "+this._debugInfo());var fi=hi.importNode(di,!0);ci.appendChild(fi);var yi=Xe(ei.namespace_extractQName(fi.prefix?fi.prefix+":"+fi.localName:fi.localName),1)[0],pi=ci.lookupNamespaceURI(yi);new si(fi)._updateNamespace(pi)}else if(St.Guard.isDocumentFragmentNode(mi))try{for(var xi=We(mi.childNodes),Si=xi.next();!Si.done;Si=xi.next()){var vi=Si.value;fi=hi.importNode(vi,!0),ci.appendChild(fi),St.Guard.isElementNode(fi)&&(yi=Xe(ei.namespace_extractQName(fi.prefix?fi.prefix+":"+fi.localName:fi.localName),1)[0],pi=ci.lookupNamespaceURI(yi),new si(fi)._updateNamespace(pi))}}catch(Di){ii={error:Di}}finally{try{Si&&!Si.done&&(ui=xi.return)&&ui.call(xi)}finally{if(ii)throw ii.error}}else fi=hi.importNode(mi,!0),ci.appendChild(fi),St.Guard.isElementNode(fi)&&(yi=Xe(ei.namespace_extractQName(fi.prefix?fi.prefix+":"+fi.localName:fi.localName),1)[0],pi=ci.lookupNamespaceURI(yi),new si(fi)._updateNamespace(pi));return this},si.prototype.doc=function(){if(this._doc._isFragment){for(var ri=this.node;ri&&ri.nodeType!==Qe.NodeType.DocumentFragment;)ri=ri.parentNode;if(ri===null)throw new Error("Node has no parent node while searching for document fragment ancestor. "+this._debugInfo());return new si(ri)}return new si(this._doc)},si.prototype.root=function(){var ri=this._doc.documentElement;if(!ri)throw new Error("Document root element is null. "+this._debugInfo());return new si(ri)},si.prototype.up=function(){var ri=this._domNode.parentNode;if(!ri)throw new Error("Parent node is null. "+this._debugInfo());return new si(ri)},si.prototype.prev=function(){var ri=this._domNode.previousSibling;if(!ri)throw new Error("Previous sibling node is null. "+this._debugInfo());return new si(ri)},si.prototype.next=function(){var ri=this._domNode.nextSibling;if(!ri)throw new Error("Next sibling node is null. "+this._debugInfo());return new si(ri)},si.prototype.first=function(){var ri=this._domNode.firstChild;if(!ri)throw new Error("First child node is null. "+this._debugInfo());return new si(ri)},si.prototype.last=function(){var ri=this._domNode.lastChild;if(!ri)throw new Error("Last child node is null. "+this._debugInfo());return new si(ri)},si.prototype.each=function(ri,ii,ui,ci){ii===void 0&&(ii=!1),ui===void 0&&(ui=!1);for(var hi=this._getFirstDescendantNode(this._domNode,ii,ui);hi[0];){var mi=this._getNextDescendantNode(this._domNode,hi[0],ui,hi[1],hi[2]);ri.call(ci,new si(hi[0]),hi[1],hi[2]),hi=mi}return this},si.prototype.map=function(ri,ii,ui,ci){ii===void 0&&(ii=!1),ui===void 0&&(ui=!1);var hi=[];return this.each(function(mi,di,fi){return hi.push(ri.call(ci,mi,di,fi))},ii,ui),hi},si.prototype.reduce=function(ri,ii,ui,ci,hi){ui===void 0&&(ui=!1),ci===void 0&&(ci=!1);var mi=ii;return this.each(function(di,fi,yi){return mi=ri.call(hi,mi,di,fi,yi)},ui,ci),mi},si.prototype.find=function(ri,ii,ui,ci){ii===void 0&&(ii=!1),ui===void 0&&(ui=!1);for(var hi=this._getFirstDescendantNode(this._domNode,ii,ui);hi[0];){var mi=new si(hi[0]);if(ri.call(ci,mi,hi[1],hi[2]))return mi;hi=this._getNextDescendantNode(this._domNode,hi[0],ui,hi[1],hi[2])}},si.prototype.filter=function(ri,ii,ui,ci){ii===void 0&&(ii=!1),ui===void 0&&(ui=!1);var hi=[];return this.each(function(mi,di,fi){ri.call(ci,mi,di,fi)&&hi.push(mi)},ii,ui),hi},si.prototype.every=function(ri,ii,ui,ci){ii===void 0&&(ii=!1),ui===void 0&&(ui=!1);for(var hi=this._getFirstDescendantNode(this._domNode,ii,ui);hi[0];){var mi=new si(hi[0]);if(!ri.call(ci,mi,hi[1],hi[2]))return!1;hi=this._getNextDescendantNode(this._domNode,hi[0],ui,hi[1],hi[2])}return!0},si.prototype.some=function(ri,ii,ui,ci){ii===void 0&&(ii=!1),ui===void 0&&(ui=!1);for(var hi=this._getFirstDescendantNode(this._domNode,ii,ui);hi[0];){var mi=new si(hi[0]);if(ri.call(ci,mi,hi[1],hi[2]))return!0;hi=this._getNextDescendantNode(this._domNode,hi[0],ui,hi[1],hi[2])}return!1},si.prototype.toArray=function(ri,ii){ri===void 0&&(ri=!1),ii===void 0&&(ii=!1);var ui=[];return this.each(function(ci){return ui.push(ci)},ri,ii),ui},si.prototype.toString=function(ri){return(ri=ri||{}).format===void 0&&(ri.format="xml"),this._serialize(ri)},si.prototype.toObject=function(ri){return(ri=ri||{}).format===void 0&&(ri.format="object"),this._serialize(ri)},si.prototype.end=function(ri){return(ri=ri||{}).format===void 0&&(ri.format="xml"),this.doc()._serialize(ri)},si.prototype._getFirstDescendantNode=function(ri,ii,ui){return ii?[this._domNode,0,0]:ui?this._getNextDescendantNode(ri,ri,ui,0,0):[this._domNode.firstChild,0,1]},si.prototype._getNextDescendantNode=function(ri,ii,ui,ci,hi){if(!ui)return ri===ii?[ii.firstChild,0,hi+1]:[ii.nextSibling,ci+1,hi];if(ii.firstChild)return[ii.firstChild,0,hi+1];if(ii===ri)return[null,-1,-1];if(ii.nextSibling)return[ii.nextSibling,ci+1,hi];for(var mi=ii.parentNode;mi&&mi!==ri;){if(mi.nextSibling)return[mi.nextSibling,ei.tree_index(mi.nextSibling),hi-1];mi=mi.parentNode,hi--}return[null,-1,-1]},si.prototype._serialize=function(ri){if(ri.format==="xml")return new Ze.XMLWriter(this._options,ri).serialize(this.node);if(ri.format==="map")return new Ze.MapWriter(this._options,ri).serialize(this.node);if(ri.format==="object")return new Ze.ObjectWriter(this._options,ri).serialize(this.node);if(ri.format==="json")return new Ze.JSONWriter(this._options,ri).serialize(this.node);if(ri.format==="yaml")return new Ze.YAMLWriter(this._options,ri).serialize(this.node);throw new Error("Invalid writer format: "+ri.format+". "+this._debugInfo())},si.prototype._extractNamespace=function(ri,ii,ui){var ci=ii.indexOf("@");if(ci>0&&(ri===void 0&&(ri=ii.slice(ci+1)),ii=ii.slice(0,ci)),ri===void 0)ri=ui?this._options.defaultNamespace.ele:this._options.defaultNamespace.att;else if(ri!==null&&ri[0]==="@"){var hi=ri.slice(1);if((ri=this._options.namespaceAlias[hi])===void 0)throw new Error("Namespace alias `"+hi+"` is not defined. "+this._debugInfo())}return[ri,ii]},si.prototype._updateNamespace=function(ri){var ii,ui,ci,hi,mi=this._domNode;if(St.Guard.isElementNode(mi)&&ri!==null&&mi.namespaceURI!==ri){var di=Xe(ei.namespace_extractQName(mi.prefix?mi.prefix+":"+mi.localName:mi.localName),2),fi=di[0],yi=di[1],pi=ei.create_element(this._doc,yi,ri,fi);try{for(var xi=We(mi.attributes),Si=xi.next();!Si.done;Si=xi.next()){var vi=Si.value,Di=vi.prefix?vi.prefix+":"+vi.localName:vi.localName,Ti=Xe(ei.namespace_extractQName(Di),1)[0],Fi=vi.namespaceURI;Fi===null&&Ti!==null&&(Fi=mi.lookupNamespaceURI(Ti)),Fi===null?pi.setAttribute(Di,vi.value):pi.setAttributeNS(Fi,Di,vi.value)}}catch(Vi){ii={error:Vi}}finally{try{Si&&!Si.done&&(ui=xi.return)&&ui.call(xi)}finally{if(ii)throw ii.error}}var Ci=mi.parentNode;if(Ci===null)throw new Error("Parent node is null."+this._debugInfo());Ci.replaceChild(pi,mi),this._domNode=pi;try{for(var Ni=We(mi.childNodes),Ri=Ni.next();!Ri.done;Ri=Ni.next()){var Yi=Ri.value.cloneNode(!0);if(pi.appendChild(Yi),St.Guard.isElementNode(Yi)){var ki=Xe(ei.namespace_extractQName(Yi.prefix?Yi.prefix+":"+Yi.localName:Yi.localName),1)[0],ji=pi.lookupNamespaceURI(ki);new si(Yi)._updateNamespace(ji)}}}catch(Vi){ci={error:Vi}}finally{try{Ri&&!Ri.done&&(hi=Ni.return)&&hi.call(Ni)}finally{if(ci)throw ci.error}}}},Object.defineProperty(si.prototype,"_doc",{get:function(){var ri=this.node;if(St.Guard.isDocumentNode(ri))return ri;var ii=ri.ownerDocument;if(!ii)throw new Error("Owner document is null. "+this._debugInfo());return ii},enumerable:!0,configurable:!0}),si.prototype._debugInfo=function(ri){var ii=this.node,ui=ii.parentNode;ri=ri||ii.nodeName;var ci=ui?ui.nodeName:"";return ci?"node: <"+ri+">, parent: <"+ci+">":"node: <"+ri+">"},Object.defineProperty(si.prototype,"_options",{get:function(){var ri=this._doc;if(ri._xmlBuilderOptions===void 0)throw new Error("Builder options is not set.");return ri._xmlBuilderOptions},set:function(ri){this._doc._xmlBuilderOptions=ri},enumerable:!0,configurable:!0}),si}();ze.XMLBuilderImpl=ai},function(Ve,ze,qe){var Xe=qe(11),We=qe(117),Ke=Xe.WeakMap;Ve.exports=typeof Ke=="function"&&/native code/.test(We(Ke))},function(Ve,ze,qe){var Xe=qe(46),We=qe(82),Ke=qe(85),Je=qe(18);Ve.exports=Xe("Reflect","ownKeys")||function(Ze){var Qe=We.f(Je(Ze)),St=Ke.f;return St?Qe.concat(St(Ze)):Qe}},function(Ve,ze,qe){var Xe=qe(16),We=qe(15),Ke=qe(18),Je=qe(61);Ve.exports=Xe?Object.defineProperties:function(Ze,Qe){Ke(Ze);for(var St,ei=Je(Qe),ti=ei.length,ni=0;ti>ni;)We.f(Ze,St=ei[ni++],Qe[St]);return Ze}},function(Ve,ze,qe){var Xe=qe(46);Ve.exports=Xe("document","documentElement")},function(Ve,ze,qe){var Xe=qe(24),We=qe(82).f,Ke={}.toString,Je=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Ve.exports.f=function(Ze){return Je&&Ke.call(Ze)=="[object Window]"?function(Qe){try{return We(Qe)}catch{return Je.slice()}}(Ze):We(Xe(Ze))}},function(Ve,ze,qe){var Xe=qe(4),We=qe(36).every,Ke=qe(48),Je=qe(28),Ze=Ke("every"),Qe=Je("every");Xe({target:"Array",proto:!0,forced:!Ze||!Qe},{every:function(St){return We(this,St,arguments.length>1?arguments[1]:void 0)}})},function(Ve,ze,qe){var Xe=qe(4),We=qe(36).filter,Ke=qe(63),Je=qe(28),Ze=Ke("filter"),Qe=Je("filter");Xe({target:"Array",proto:!0,forced:!Ze||!Qe},{filter:function(St){return We(this,St,arguments.length>1?arguments[1]:void 0)}})},function(Ve,ze,qe){var Xe=qe(46);Ve.exports=Xe("navigator","userAgent")||""},function(Ve,ze,qe){var Xe=qe(4),We=qe(36).find,Ke=qe(130),Je=qe(28),Ze=!0,Qe=Je("find");"find"in[]&&Array(1).find(function(){Ze=!1}),Xe({target:"Array",proto:!0,forced:Ze||!Qe},{find:function(St){return We(this,St,arguments.length>1?arguments[1]:void 0)}}),Ke("find")},function(Ve,ze,qe){var Xe=qe(131).IteratorPrototype,We=qe(60),Ke=qe(40),Je=qe(62),Ze=qe(49),Qe=function(){return this};Ve.exports=function(St,ei,ti){var ni=ei+" Iterator";return St.prototype=We(Xe,{next:Ke(1,ti)}),Je(St,ni,!1,!0),Ze[ni]=Qe,St}},function(Ve,ze,qe){var Xe=qe(8);Ve.exports=!Xe(function(){function We(){}return We.prototype.constructor=null,Object.getPrototypeOf(new We)!==We.prototype})},function(Ve,ze,qe){var Xe=qe(13);Ve.exports=function(We){if(!Xe(We)&&We!==null)throw TypeError("Can't set "+String(We)+" as a prototype");return We}},function(Ve,ze,qe){var Xe=qe(4),We=qe(36).map,Ke=qe(63),Je=qe(28),Ze=Ke("map"),Qe=Je("map");Xe({target:"Array",proto:!0,forced:!Ze||!Qe},{map:function(St){return We(this,St,arguments.length>1?arguments[1]:void 0)}})},function(Ve,ze,qe){var Xe=qe(4),We=qe(200).left,Ke=qe(48),Je=qe(28),Ze=Ke("reduce"),Qe=Je("reduce",{1:0});Xe({target:"Array",proto:!0,forced:!Ze||!Qe},{reduce:function(St){return We(this,St,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(Ve,ze,qe){var Xe=qe(127),We=qe(27),Ke=qe(41),Je=qe(26),Ze=function(Qe){return function(St,ei,ti,ni){Xe(ei);var oi=We(St),ai=Ke(oi),si=Je(oi.length),ri=Qe?si-1:0,ii=Qe?-1:1;if(ti<2)for(;;){if(ri in ai){ni=ai[ri],ri+=ii;break}if(ri+=ii,Qe?ri<0:si<=ri)throw TypeError("Reduce of empty array with no initial value")}for(;Qe?ri>=0:si>ri;ri+=ii)ri in ai&&(ni=ei(ni,ai[ri],ri,oi));return ni}};Ve.exports={left:Ze(!1),right:Ze(!0)}},function(Ve,ze,qe){var Xe=qe(4),We=qe(36).some,Ke=qe(48),Je=qe(28),Ze=Ke("some"),Qe=Je("some");Xe({target:"Array",proto:!0,forced:!Ze||!Qe},{some:function(St){return We(this,St,arguments.length>1?arguments[1]:void 0)}})},function(Ve,ze,qe){var Xe=qe(90),We=qe(135);Ve.exports=Xe?{}.toString:function(){return"[object "+We(this)+"]"}},function(Ve,ze){Ve.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(Ve,ze,qe){var Xe=qe(8);Ve.exports=!Xe(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(Ve,ze,qe){var Xe=qe(5),We=qe(49),Ke=Xe("iterator"),Je=Array.prototype;Ve.exports=function(Ze){return Ze!==void 0&&(We.Array===Ze||Je[Ke]===Ze)}},function(Ve,ze,qe){var Xe=qe(135),We=qe(49),Ke=qe(5)("iterator");Ve.exports=function(Je){if(Je!=null)return Je[Ke]||Je["@@iterator"]||We[Xe(Je)]}},function(Ve,ze,qe){var Xe=qe(18);Ve.exports=function(We,Ke,Je,Ze){try{return Ze?Ke(Xe(Je)[0],Je[1]):Ke(Je)}catch(St){var Qe=We.return;throw Qe!==void 0&&Xe(Qe.call(We)),St}}},function(Ve,ze,qe){var Xe=qe(5)("iterator"),We=!1;try{var Ke=0,Je={next:function(){return{done:!!Ke++}},return:function(){We=!0}};Je[Xe]=function(){return this},Array.from(Je,function(){throw 2})}catch{}Ve.exports=function(Ze,Qe){if(!Qe&&!We)return!1;var St=!1;try{var ei={};ei[Xe]=function(){return{next:function(){return{done:St=!0}}}},Ze(ei)}catch{}return St}},function(Ve,ze,qe){var Xe=qe(13),We=qe(133);Ve.exports=function(Ke,Je,Ze){var Qe,St;return We&&typeof(Qe=Je.constructor)=="function"&&Qe!==Ze&&Xe(St=Qe.prototype)&&St!==Ze.prototype&&We(Ke,St),Ke}},function(Ve,ze,qe){var Xe=qe(25);Ve.exports=function(We,Ke,Je){for(var Ze in Ke)Xe(We,Ze,Ke[Ze],Je);return We}},function(Ve,ze,qe){var Xe=qe(46),We=qe(15),Ke=qe(5),Je=qe(16),Ze=Ke("species");Ve.exports=function(Qe){var St=Xe(Qe),ei=We.f;Je&&St&&!St[Ze]&&ei(St,Ze,{configurable:!0,get:function(){return this}})}},function(Ve,ze,qe){var Xe=this&&this.__generator||function(Je,Ze){var Qe,St,ei,ti,ni={label:0,sent:function(){if(1&ei[0])throw ei[1];return ei[1]},trys:[],ops:[]};return ti={next:oi(0),throw:oi(1),return:oi(2)},typeof Symbol=="function"&&(ti[Symbol.iterator]=function(){return this}),ti;function oi(ai){return function(si){return function(ri){if(Qe)throw new TypeError("Generator is already executing.");for(;ni;)try{if(Qe=1,St&&(ei=2&ri[0]?St.return:ri[0]?St.throw||((ei=St.return)&&ei.call(St),0):St.next)&&!(ei=ei.call(St,ri[1])).done)return ei;switch(St=0,ei&&(ri=[2&ri[0],ei.value]),ri[0]){case 0:case 1:ei=ri;break;case 4:return ni.label++,{value:ri[1],done:!1};case 5:ni.label++,St=ri[1],ri=[0];continue;case 7:ri=ni.ops.pop(),ni.trys.pop();continue;default:if(ei=ni.trys,!((ei=ei.length>0&&ei[ei.length-1])||ri[0]!==6&&ri[0]!==2)){ni=0;continue}if(ri[0]===3&&(!ei||ri[1]>ei[0]&&ri[1]<ei[3])){ni.label=ri[1];break}if(ri[0]===6&&ni.label<ei[1]){ni.label=ei[1],ei=ri;break}if(ei&&ni.label<ei[2]){ni.label=ei[2],ni.ops.push(ri);break}ei[2]&&ni.ops.pop(),ni.trys.pop();continue}ri=Ze.call(Je,ni)}catch(ii){ri=[6,ii],St=0}finally{Qe=ei=0}if(5&ri[0])throw ri[1];return{value:ri[0]?ri[1]:void 0,done:!0}}([ai,si])}}},We=this&&this.__values||function(Je){var Ze=typeof Symbol=="function"&&Symbol.iterator,Qe=Ze&&Je[Ze],St=0;if(Qe)return Qe.call(Je);if(Je&&typeof Je.length=="number")return{next:function(){return Je&&St>=Je.length&&(Je=void 0),{value:Je&&Je[St++],done:!Je}}};throw new TypeError(Ze?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ze,"__esModule",{value:!0});var Ke=function(){function Je(Ze){Ze===void 0&&(Ze=1e3),this._items=new Set,this._limit=Ze}return Je.prototype.add=function(Ze){if(this._items.add(Ze),this._items.size>this._limit){var Qe=this._items.values().next();Qe.done||this._items.delete(Qe.value)}return this},Je.prototype.delete=function(Ze){return this._items.delete(Ze)},Je.prototype.has=function(Ze){return this._items.has(Ze)},Je.prototype.clear=function(){this._items.clear()},Object.defineProperty(Je.prototype,"size",{get:function(){return this._items.size},enumerable:!0,configurable:!0}),Je.prototype.forEach=function(Ze,Qe){var St=this;this._items.forEach(function(ei){return Ze.call(Qe,ei,ei,St)})},Je.prototype.keys=function(){return Xe(this,function(Ze){switch(Ze.label){case 0:return[5,We(this._items.keys())];case 1:return Ze.sent(),[2]}})},Je.prototype.values=function(){return Xe(this,function(Ze){switch(Ze.label){case 0:return[5,We(this._items.values())];case 1:return Ze.sent(),[2]}})},Je.prototype.entries=function(){return Xe(this,function(Ze){switch(Ze.label){case 0:return[5,We(this._items.entries())];case 1:return Ze.sent(),[2]}})},Je.prototype[Symbol.iterator]=function(){return Xe(this,function(Ze){switch(Ze.label){case 0:return[5,We(this._items)];case 1:return Ze.sent(),[2]}})},Object.defineProperty(Je.prototype,Symbol.toStringTag,{get:function(){return"FixedSizeSet"},enumerable:!0,configurable:!0}),Je}();ze.FixedSizeSet=Ke},function(Ve,ze,qe){var Xe=this&&this.__generator||function(Je,Ze){var Qe,St,ei,ti,ni={label:0,sent:function(){if(1&ei[0])throw ei[1];return ei[1]},trys:[],ops:[]};return ti={next:oi(0),throw:oi(1),return:oi(2)},typeof Symbol=="function"&&(ti[Symbol.iterator]=function(){return this}),ti;function oi(ai){return function(si){return function(ri){if(Qe)throw new TypeError("Generator is already executing.");for(;ni;)try{if(Qe=1,St&&(ei=2&ri[0]?St.return:ri[0]?St.throw||((ei=St.return)&&ei.call(St),0):St.next)&&!(ei=ei.call(St,ri[1])).done)return ei;switch(St=0,ei&&(ri=[2&ri[0],ei.value]),ri[0]){case 0:case 1:ei=ri;break;case 4:return ni.label++,{value:ri[1],done:!1};case 5:ni.label++,St=ri[1],ri=[0];continue;case 7:ri=ni.ops.pop(),ni.trys.pop();continue;default:if(ei=ni.trys,!((ei=ei.length>0&&ei[ei.length-1])||ri[0]!==6&&ri[0]!==2)){ni=0;continue}if(ri[0]===3&&(!ei||ri[1]>ei[0]&&ri[1]<ei[3])){ni.label=ri[1];break}if(ri[0]===6&&ni.label<ei[1]){ni.label=ei[1],ei=ri;break}if(ei&&ni.label<ei[2]){ni.label=ei[2],ni.ops.push(ri);break}ei[2]&&ni.ops.pop(),ni.trys.pop();continue}ri=Ze.call(Je,ni)}catch(ii){ri=[6,ii],St=0}finally{Qe=ei=0}if(5&ri[0])throw ri[1];return{value:ri[0]?ri[1]:void 0,done:!0}}([ai,si])}}},We=this&&this.__values||function(Je){var Ze=typeof Symbol=="function"&&Symbol.iterator,Qe=Ze&&Je[Ze],St=0;if(Qe)return Qe.call(Je);if(Je&&typeof Je.length=="number")return{next:function(){return Je&&St>=Je.length&&(Je=void 0),{value:Je&&Je[St++],done:!Je}}};throw new TypeError(Ze?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ze,"__esModule",{value:!0});var Ke=function(){function Je(Ze){Ze===void 0&&(Ze=1e3),this._items=new Map,this._limit=Ze}return Je.prototype.get=function(Ze){return this._items.get(Ze)},Je.prototype.set=function(Ze,Qe){if(this._items.set(Ze,Qe),this._items.size>this._limit){var St=this._items.keys().next();St.done||this._items.delete(St.value)}},Je.prototype.delete=function(Ze){return this._items.delete(Ze)},Je.prototype.has=function(Ze){return this._items.has(Ze)},Je.prototype.clear=function(){this._items.clear()},Object.defineProperty(Je.prototype,"size",{get:function(){return this._items.size},enumerable:!0,configurable:!0}),Je.prototype.forEach=function(Ze,Qe){this._items.forEach(function(St,ei){return Ze.call(Qe,ei,St)})},Je.prototype.keys=function(){return Xe(this,function(Ze){switch(Ze.label){case 0:return[5,We(this._items.keys())];case 1:return Ze.sent(),[2]}})},Je.prototype.values=function(){return Xe(this,function(Ze){switch(Ze.label){case 0:return[5,We(this._items.values())];case 1:return Ze.sent(),[2]}})},Je.prototype.entries=function(){return Xe(this,function(Ze){switch(Ze.label){case 0:return[5,We(this._items.entries())];case 1:return Ze.sent(),[2]}})},Je.prototype[Symbol.iterator]=function(){return Xe(this,function(Ze){switch(Ze.label){case 0:return[5,We(this._items)];case 1:return Ze.sent(),[2]}})},Object.defineProperty(Je.prototype,Symbol.toStringTag,{get:function(){return"ObjectCache"},enumerable:!0,configurable:!0}),Je}();ze.ObjectCache=Ke},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=function(){function We(Ke){Ke===void 0&&(Ke=1e3),this._items=new Map,this._limit=Ke}return We.prototype.check=function(Ke,Je){if(this._items.get(Ke)===Je)return!0;if(this._items.get(Je)===Ke)return!1;var Ze=Math.random()<.5;if(Ze?this._items.set(Ke,Je):this._items.set(Je,Ke),this._items.size>this._limit){var Qe=this._items.keys().next();Qe.done||this._items.delete(Qe.value)}return Ze},We}();ze.CompareCache=Xe},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=function(){function We(Ke){this._initialized=!1,this._value=void 0,this._initFunc=Ke}return Object.defineProperty(We.prototype,"value",{get:function(){return this._initialized||(this._value=this._initFunc(),this._initialized=!0),this._value},enumerable:!0,configurable:!0}),We}();ze.Lazy=Xe},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=function(){function We(Ke){this._pointer=0,this._chars=Array.from(Ke),this._length=this._chars.length}return Object.defineProperty(We.prototype,"eof",{get:function(){return this._pointer>=this._length},enumerable:!0,configurable:!0}),Object.defineProperty(We.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),We.prototype.codePoint=function(){if(this._codePoint===void 0)if(this.eof)this._codePoint=-1;else{var Ke=this._chars[this._pointer].codePointAt(0);this._codePoint=Ke!==void 0?Ke:-1}return this._codePoint},We.prototype.c=function(){return this._c===void 0&&(this._c=this.eof?"":this._chars[this._pointer]),this._c},We.prototype.remaining=function(){return this._remaining===void 0&&(this._remaining=this.eof?"":this._chars.slice(this._pointer+1).join("")),this._remaining},We.prototype.substring=function(){return this._substring===void 0&&(this._substring=this.eof?"":this._chars.slice(this._pointer).join("")),this._substring},Object.defineProperty(We.prototype,"pointer",{get:function(){return this._pointer},set:function(Ke){Ke!==this._pointer&&(this._pointer=Ke,this._codePoint=void 0,this._c=void 0,this._remaining=void 0,this._substring=void 0)},enumerable:!0,configurable:!0}),We}();ze.StringWalker=Xe},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=qe(218);ze.MapWriter=Xe.MapWriter;var We=qe(259);ze.XMLWriter=We.XMLWriter;var Ke=qe(67);ze.ObjectWriter=Ke.ObjectWriter;var Je=qe(261);ze.JSONWriter=Je.JSONWriter;var Ze=qe(262);ze.YAMLWriter=Ze.YAMLWriter},function(Ve,ze,qe){qe(19),qe(219),qe(20),qe(22),qe(23);var Xe,We=this&&this.__extends||(Xe=function(Qe,St){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ei,ti){ei.__proto__=ti}||function(ei,ti){for(var ni in ti)ti.hasOwnProperty(ni)&&(ei[ni]=ti[ni])})(Qe,St)},function(Qe,St){function ei(){this.constructor=Qe}Xe(Qe,St),Qe.prototype=St===null?Object.create(St):(ei.prototype=St.prototype,new ei)});Object.defineProperty(ze,"__esModule",{value:!0});var Ke=qe(2),Je=qe(67),Ze=function(Qe){function St(ei,ti){var ni=Qe.call(this,ei)||this;return ni._writerOptions=Ke.applyDefaults(ti,{format:"map",wellFormed:!1,group:!1,verbose:!1}),ni}return We(St,Qe),St.prototype.serialize=function(ei){var ti=Ke.applyDefaults(this._writerOptions,{format:"object",wellFormed:!1,verbose:!1}),ni=new Je.ObjectWriter(this._builderOptions,ti).serialize(ei);return this._convertObject(ni)},St.prototype._convertObject=function(ei){if(Ke.isArray(ei)){for(var ti=0;ti<ei.length;ti++)ei[ti]=this._convertObject(ei[ti]);return ei}if(Ke.isObject(ei)){var ni=new Map;for(var oi in ei)ni.set(oi,this._convertObject(ei[oi]));return ni}return ei},St}(qe(50).BaseWriter);ze.MapWriter=Ze},function(Ve,ze,qe){var Xe=qe(139),We=qe(143);Ve.exports=Xe("Map",function(Ke){return function(){return Ke(this,arguments.length?arguments[0]:void 0)}},We)},function(Ve,ze,qe){var Xe=qe(4),We=qe(8),Ke=qe(59),Je=qe(13),Ze=qe(27),Qe=qe(26),St=qe(134),ei=qe(128),ti=qe(63),ni=qe(5),oi=qe(129),ai=ni("isConcatSpreadable"),si=oi>=51||!We(function(){var ui=[];return ui[ai]=!1,ui.concat()[0]!==ui}),ri=ti("concat"),ii=function(ui){if(!Je(ui))return!1;var ci=ui[ai];return ci!==void 0?!!ci:Ke(ui)};Xe({target:"Array",proto:!0,forced:!si||!ri},{concat:function(ui){var ci,hi,mi,di,fi,yi=Ze(this),pi=ei(yi,0),xi=0;for(ci=-1,mi=arguments.length;ci<mi;ci++)if(ii(fi=ci===-1?yi:arguments[ci])){if(xi+(di=Qe(fi.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(hi=0;hi<di;hi++,xi++)hi in fi&&St(pi,xi,fi[hi])}else{if(xi>=9007199254740991)throw TypeError("Maximum allowed index exceeded");St(pi,xi++,fi)}return pi.length=xi,pi}})},function(Ve,ze,qe){var Xe=qe(8);function We(Ke,Je){return RegExp(Ke,Je)}ze.UNSUPPORTED_Y=Xe(function(){var Ke=We("a","y");return Ke.lastIndex=2,Ke.exec("abcd")!=null}),ze.BROKEN_CARET=Xe(function(){var Ke=We("^r","gy");return Ke.lastIndex=2,Ke.exec("str")!=null})},function(Ve,ze,qe){var Xe=qe(223);Ve.exports=function(We){if(Xe(We))throw TypeError("The method doesn't accept regular expressions");return We}},function(Ve,ze,qe){var Xe=qe(13),We=qe(42),Ke=qe(5)("match");Ve.exports=function(Je){var Ze;return Xe(Je)&&((Ze=Je[Ke])!==void 0?!!Ze:We(Je)=="RegExp")}},function(Ve,ze,qe){var Xe=qe(5)("match");Ve.exports=function(We){var Ke=/./;try{"/./"[We](Ke)}catch{try{return Ke[Xe]=!1,"/./"[We](Ke)}catch{}}return!1}},function(Ve,ze,qe){qe(68);var Xe=qe(25),We=qe(8),Ke=qe(5),Je=qe(93),Ze=qe(21),Qe=Ke("species"),St=!We(function(){var ai=/./;return ai.exec=function(){var si=[];return si.groups={a:"7"},si},"".replace(ai,"$<a>")!=="7"}),ei="a".replace(/./,"$0")==="$0",ti=Ke("replace"),ni=!!/./[ti]&&/./[ti]("a","$0")==="",oi=!We(function(){var ai=/(?:)/,si=ai.exec;ai.exec=function(){return si.apply(this,arguments)};var ri="ab".split(ai);return ri.length!==2||ri[0]!=="a"||ri[1]!=="b"});Ve.exports=function(ai,si,ri,ii){var ui=Ke(ai),ci=!We(function(){var pi={};return pi[ui]=function(){return 7},""[ai](pi)!=7}),hi=ci&&!We(function(){var pi=!1,xi=/a/;return ai==="split"&&((xi={}).constructor={},xi.constructor[Qe]=function(){return xi},xi.flags="",xi[ui]=/./[ui]),xi.exec=function(){return pi=!0,null},xi[ui](""),!pi});if(!ci||!hi||ai==="replace"&&(!St||!ei||ni)||ai==="split"&&!oi){var mi=/./[ui],di=ri(ui,""[ai],function(pi,xi,Si,vi,Di){return xi.exec===Je?ci&&!Di?{done:!0,value:mi.call(xi,Si,vi)}:{done:!0,value:pi.call(Si,xi,vi)}:{done:!1}},{REPLACE_KEEPS_$0:ei,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:ni}),fi=di[0],yi=di[1];Xe(String.prototype,ai,fi),Xe(RegExp.prototype,ui,si==2?function(pi,xi){return yi.call(pi,this,xi)}:function(pi){return yi.call(pi,this)})}ii&&Ze(RegExp.prototype[ui],"sham",!0)}},function(Ve,ze,qe){var Xe=qe(137).charAt;Ve.exports=function(We,Ke,Je){return Ke+(Je?Xe(We,Ke).length:1)}},function(Ve,ze,qe){var Xe=qe(42),We=qe(93);Ve.exports=function(Ke,Je){var Ze=Ke.exec;if(typeof Ze=="function"){var Qe=Ze.call(Ke,Je);if(typeof Qe!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return Qe}if(Xe(Ke)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return We.call(Ke,Je)}},function(Ve,ze,qe){(function(Xe){Object.defineProperty(ze,"__esModule",{value:!0});var We=qe(96);ze.forgivingBase64Encode=function(Ke){return Xe.from(Ke).toString("base64")},ze.forgivingBase64Decode=function(Ke){return Ke===""?"":((Ke=Ke.replace(We.ASCIIWhiteSpace,"")).length%4==0&&(Ke.endsWith("==")?Ke=Ke.substr(0,Ke.length-2):Ke.endsWith("=")&&(Ke=Ke.substr(0,Ke.length-1))),Ke.length%4==1?null:/[0-9A-Za-z+/]/.test(Ke)?Xe.from(Ke,"base64").toString("utf8"):null)}}).call(this,qe(145).Buffer)},function(Ve,ze,qe){ze.byteLength=function(ti){var ni=St(ti),oi=ni[0],ai=ni[1];return 3*(oi+ai)/4-ai},ze.toByteArray=function(ti){var ni,oi,ai=St(ti),si=ai[0],ri=ai[1],ii=new Ke(function(hi,mi,di){return 3*(mi+di)/4-di}(0,si,ri)),ui=0,ci=ri>0?si-4:si;for(oi=0;oi<ci;oi+=4)ni=We[ti.charCodeAt(oi)]<<18|We[ti.charCodeAt(oi+1)]<<12|We[ti.charCodeAt(oi+2)]<<6|We[ti.charCodeAt(oi+3)],ii[ui++]=ni>>16&255,ii[ui++]=ni>>8&255,ii[ui++]=255&ni;return ri===2&&(ni=We[ti.charCodeAt(oi)]<<2|We[ti.charCodeAt(oi+1)]>>4,ii[ui++]=255&ni),ri===1&&(ni=We[ti.charCodeAt(oi)]<<10|We[ti.charCodeAt(oi+1)]<<4|We[ti.charCodeAt(oi+2)]>>2,ii[ui++]=ni>>8&255,ii[ui++]=255&ni),ii},ze.fromByteArray=function(ti){for(var ni,oi=ti.length,ai=oi%3,si=[],ri=0,ii=oi-ai;ri<ii;ri+=16383)si.push(ei(ti,ri,ri+16383>ii?ii:ri+16383));return ai===1?(ni=ti[oi-1],si.push(Xe[ni>>2]+Xe[ni<<4&63]+"==")):ai===2&&(ni=(ti[oi-2]<<8)+ti[oi-1],si.push(Xe[ni>>10]+Xe[ni>>4&63]+Xe[ni<<2&63]+"=")),si.join("")};for(var Xe=[],We=[],Ke=typeof Uint8Array<"u"?Uint8Array:Array,Je="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ze=0,Qe=Je.length;Ze<Qe;++Ze)Xe[Ze]=Je[Ze],We[Je.charCodeAt(Ze)]=Ze;function St(ti){var ni=ti.length;if(ni%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var oi=ti.indexOf("=");return oi===-1&&(oi=ni),[oi,oi===ni?0:4-oi%4]}function ei(ti,ni,oi){for(var ai,si,ri=[],ii=ni;ii<oi;ii+=3)ai=(ti[ii]<<16&16711680)+(ti[ii+1]<<8&65280)+(255&ti[ii+2]),ri.push(Xe[(si=ai)>>18&63]+Xe[si>>12&63]+Xe[si>>6&63]+Xe[63&si]);return ri.join("")}We[45]=62,We[95]=63},function(Ve,ze){ze.read=function(qe,Xe,We,Ke,Je){var Ze,Qe,St=8*Je-Ke-1,ei=(1<<St)-1,ti=ei>>1,ni=-7,oi=We?Je-1:0,ai=We?-1:1,si=qe[Xe+oi];for(oi+=ai,Ze=si&(1<<-ni)-1,si>>=-ni,ni+=St;ni>0;Ze=256*Ze+qe[Xe+oi],oi+=ai,ni-=8);for(Qe=Ze&(1<<-ni)-1,Ze>>=-ni,ni+=Ke;ni>0;Qe=256*Qe+qe[Xe+oi],oi+=ai,ni-=8);if(Ze===0)Ze=1-ti;else{if(Ze===ei)return Qe?NaN:1/0*(si?-1:1);Qe+=Math.pow(2,Ke),Ze-=ti}return(si?-1:1)*Qe*Math.pow(2,Ze-Ke)},ze.write=function(qe,Xe,We,Ke,Je,Ze){var Qe,St,ei,ti=8*Ze-Je-1,ni=(1<<ti)-1,oi=ni>>1,ai=Je===23?Math.pow(2,-24)-Math.pow(2,-77):0,si=Ke?0:Ze-1,ri=Ke?1:-1,ii=Xe<0||Xe===0&&1/Xe<0?1:0;for(Xe=Math.abs(Xe),isNaN(Xe)||Xe===1/0?(St=isNaN(Xe)?1:0,Qe=ni):(Qe=Math.floor(Math.log(Xe)/Math.LN2),Xe*(ei=Math.pow(2,-Qe))<1&&(Qe--,ei*=2),(Xe+=Qe+oi>=1?ai/ei:ai*Math.pow(2,1-oi))*ei>=2&&(Qe++,ei/=2),Qe+oi>=ni?(St=0,Qe=ni):Qe+oi>=1?(St=(Xe*ei-1)*Math.pow(2,Je),Qe+=oi):(St=Xe*Math.pow(2,oi-1)*Math.pow(2,Je),Qe=0));Je>=8;qe[We+si]=255&St,si+=ri,St/=256,Je-=8);for(Qe=Qe<<Je|St,ti+=Je;ti>0;qe[We+si]=255&Qe,si+=ri,Qe/=256,ti-=8);qe[We+si-ri]|=128*ii}},function(Ve,ze){var qe={}.toString;Ve.exports=Array.isArray||function(Xe){return qe.call(Xe)=="[object Array]"}},function(Ve,ze,qe){var Xe=this&&this.__values||function(Je){var Ze=typeof Symbol=="function"&&Symbol.iterator,Qe=Ze&&Je[Ze],St=0;if(Qe)return Qe.call(Je);if(Je&&typeof Je.length=="number")return{next:function(){return Je&&St>=Je.length&&(Je=void 0),{value:Je&&Je[St++],done:!Je}}};throw new TypeError(Ze?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ze,"__esModule",{value:!0});var We=qe(2);function Ke(Je){var Ze,Qe;if(Je===null||We.isString(Je)||We.isNumber(Je))return Je;if(We.isArray(Je)){var St=new Array;try{for(var ei=Xe(Je),ti=ei.next();!ti.done;ti=ei.next()){var ni=ti.value;St.push(Ke(ni))}}catch(si){Ze={error:si}}finally{try{ti&&!ti.done&&(Qe=ei.return)&&Qe.call(ei)}finally{if(Ze)throw Ze.error}}return St}if(We.isObject(Je)){St=new Map;for(var oi in Je)if(Je.hasOwnProperty(oi)){var ai=Je[oi];St.set(oi,Ke(ai))}return St}return Je}ze.parseJSONFromBytes=function(Je){var Ze=We.utf8Decode(Je);return JSON.parse.call(void 0,Ze)},ze.serializeJSONToBytes=function(Je){var Ze=JSON.stringify.call(void 0,Je);return We.utf8Encode(Ze)},ze.parseJSONIntoInfraValues=function(Je){return Ke(JSON.parse.call(void 0,Je))},ze.convertAJSONDerivedJavaScriptValueToAnInfraValue=Ke},function(Ve,ze,qe){var Xe=this&&this.__generator||function(Qe,St){var ei,ti,ni,oi,ai={label:0,sent:function(){if(1&ni[0])throw ni[1];return ni[1]},trys:[],ops:[]};return oi={next:si(0),throw:si(1),return:si(2)},typeof Symbol=="function"&&(oi[Symbol.iterator]=function(){return this}),oi;function si(ri){return function(ii){return function(ui){if(ei)throw new TypeError("Generator is already executing.");for(;ai;)try{if(ei=1,ti&&(ni=2&ui[0]?ti.return:ui[0]?ti.throw||((ni=ti.return)&&ni.call(ti),0):ti.next)&&!(ni=ni.call(ti,ui[1])).done)return ni;switch(ti=0,ni&&(ui=[2&ui[0],ni.value]),ui[0]){case 0:case 1:ni=ui;break;case 4:return ai.label++,{value:ui[1],done:!1};case 5:ai.label++,ti=ui[1],ui=[0];continue;case 7:ui=ai.ops.pop(),ai.trys.pop();continue;default:if(ni=ai.trys,!((ni=ni.length>0&&ni[ni.length-1])||ui[0]!==6&&ui[0]!==2)){ai=0;continue}if(ui[0]===3&&(!ni||ui[1]>ni[0]&&ui[1]<ni[3])){ai.label=ui[1];break}if(ui[0]===6&&ai.label<ni[1]){ai.label=ni[1],ni=ui;break}if(ni&&ai.label<ni[2]){ai.label=ni[2],ai.ops.push(ui);break}ni[2]&&ai.ops.pop(),ai.trys.pop();continue}ui=St.call(Qe,ai)}catch(ci){ui=[6,ci],ti=0}finally{ei=ni=0}if(5&ui[0])throw ui[1];return{value:ui[0]?ui[1]:void 0,done:!0}}([ri,ii])}}},We=this&&this.__read||function(Qe,St){var ei=typeof Symbol=="function"&&Qe[Symbol.iterator];if(!ei)return Qe;var ti,ni,oi=ei.call(Qe),ai=[];try{for(;(St===void 0||St-- >0)&&!(ti=oi.next()).done;)ai.push(ti.value)}catch(si){ni={error:si}}finally{try{ti&&!ti.done&&(ei=oi.return)&&ei.call(oi)}finally{if(ni)throw ni.error}}return ai},Ke=this&&this.__spread||function(){for(var Qe=[],St=0;St<arguments.length;St++)Qe=Qe.concat(We(arguments[St]));return Qe},Je=this&&this.__values||function(Qe){var St=typeof Symbol=="function"&&Symbol.iterator,ei=St&&Qe[St],ti=0;if(ei)return ei.call(Qe);if(Qe&&typeof Qe.length=="number")return{next:function(){return Qe&&ti>=Qe.length&&(Qe=void 0),{value:Qe&&Qe[ti++],done:!Qe}}};throw new TypeError(St?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ze,"__esModule",{value:!0});var Ze=qe(2);ze.append=function(Qe,St){Qe.push(St)},ze.extend=function(Qe,St){Qe.push.apply(Qe,Ke(St))},ze.prepend=function(Qe,St){Qe.unshift(St)},ze.replace=function(Qe,St,ei){var ti,ni,oi=0;try{for(var ai=Je(Qe),si=ai.next();!si.done;si=ai.next()){var ri=si.value;if(Ze.isFunction(St))St.call(null,ri)&&(Qe[oi]=ei);else if(ri===St)return void(Qe[oi]=ei);oi++}}catch(ii){ti={error:ii}}finally{try{si&&!si.done&&(ni=ai.return)&&ni.call(ai)}finally{if(ti)throw ti.error}}},ze.insert=function(Qe,St,ei){Qe.splice(ei,0,St)},ze.remove=function(Qe,St){for(var ei=Qe.length;ei--;){var ti=Qe[ei];if(Ze.isFunction(St))St.call(null,ti)&&Qe.splice(ei,1);else if(ti===St)return void Qe.splice(ei,1)}},ze.empty=function(Qe){Qe.length=0},ze.contains=function(Qe,St){var ei,ti;try{for(var ni=Je(Qe),oi=ni.next();!oi.done;oi=ni.next()){var ai=oi.value;if(Ze.isFunction(St)){if(St.call(null,ai))return!0}else if(ai===St)return!0}}catch(si){ei={error:si}}finally{try{oi&&!oi.done&&(ti=ni.return)&&ti.call(ni)}finally{if(ei)throw ei.error}}return!1},ze.size=function(Qe,St){var ei,ti;if(St===void 0)return Qe.length;var ni=0;try{for(var oi=Je(Qe),ai=oi.next();!ai.done;ai=oi.next()){var si=ai.value;St.call(null,si)&&ni++}}catch(ri){ei={error:ri}}finally{try{ai&&!ai.done&&(ti=oi.return)&&ti.call(oi)}finally{if(ei)throw ei.error}}return ni},ze.isEmpty=function(Qe){return Qe.length===0},ze.forEach=function(Qe,St){var ei,ti,ni,oi,ai,si;return Xe(this,function(ri){switch(ri.label){case 0:return St!==void 0?[3,2]:[5,Je(Qe)];case 1:return ri.sent(),[3,9];case 2:ri.trys.push([2,7,8,9]),ei=Je(Qe),ti=ei.next(),ri.label=3;case 3:return ti.done?[3,6]:(ni=ti.value,St.call(null,ni)?[4,ni]:[3,5]);case 4:ri.sent(),ri.label=5;case 5:return ti=ei.next(),[3,3];case 6:return[3,9];case 7:return oi=ri.sent(),ai={error:oi},[3,9];case 8:try{ti&&!ti.done&&(si=ei.return)&&si.call(ei)}finally{if(ai)throw ai.error}return[7];case 9:return[2]}})},ze.clone=function(Qe){return new(Array.bind.apply(Array,Ke([void 0],Qe)))},ze.sortInAscendingOrder=function(Qe,St){return Qe.sort(function(ei,ti){return St.call(null,ei,ti)?-1:1})},ze.sortInDescendingOrder=function(Qe,St){return Qe.sort(function(ei,ti){return St.call(null,ei,ti)?1:-1})}},function(Ve,ze,qe){var Xe=this&&this.__generator||function(Qe,St){var ei,ti,ni,oi,ai={label:0,sent:function(){if(1&ni[0])throw ni[1];return ni[1]},trys:[],ops:[]};return oi={next:si(0),throw:si(1),return:si(2)},typeof Symbol=="function"&&(oi[Symbol.iterator]=function(){return this}),oi;function si(ri){return function(ii){return function(ui){if(ei)throw new TypeError("Generator is already executing.");for(;ai;)try{if(ei=1,ti&&(ni=2&ui[0]?ti.return:ui[0]?ti.throw||((ni=ti.return)&&ni.call(ti),0):ti.next)&&!(ni=ni.call(ti,ui[1])).done)return ni;switch(ti=0,ni&&(ui=[2&ui[0],ni.value]),ui[0]){case 0:case 1:ni=ui;break;case 4:return ai.label++,{value:ui[1],done:!1};case 5:ai.label++,ti=ui[1],ui=[0];continue;case 7:ui=ai.ops.pop(),ai.trys.pop();continue;default:if(ni=ai.trys,!((ni=ni.length>0&&ni[ni.length-1])||ui[0]!==6&&ui[0]!==2)){ai=0;continue}if(ui[0]===3&&(!ni||ui[1]>ni[0]&&ui[1]<ni[3])){ai.label=ui[1];break}if(ui[0]===6&&ai.label<ni[1]){ai.label=ni[1],ni=ui;break}if(ni&&ai.label<ni[2]){ai.label=ni[2],ai.ops.push(ui);break}ni[2]&&ai.ops.pop(),ai.trys.pop();continue}ui=St.call(Qe,ai)}catch(ci){ui=[6,ci],ti=0}finally{ei=ni=0}if(5&ui[0])throw ui[1];return{value:ui[0]?ui[1]:void 0,done:!0}}([ri,ii])}}},We=this&&this.__values||function(Qe){var St=typeof Symbol=="function"&&Symbol.iterator,ei=St&&Qe[St],ti=0;if(ei)return ei.call(Qe);if(Qe&&typeof Qe.length=="number")return{next:function(){return Qe&&ti>=Qe.length&&(Qe=void 0),{value:Qe&&Qe[ti++],done:!Qe}}};throw new TypeError(St?"Object is not iterable.":"Symbol.iterator is not defined.")},Ke=this&&this.__read||function(Qe,St){var ei=typeof Symbol=="function"&&Qe[Symbol.iterator];if(!ei)return Qe;var ti,ni,oi=ei.call(Qe),ai=[];try{for(;(St===void 0||St-- >0)&&!(ti=oi.next()).done;)ai.push(ti.value)}catch(si){ni={error:si}}finally{try{ti&&!ti.done&&(ei=oi.return)&&ei.call(oi)}finally{if(ni)throw ni.error}}return ai},Je=this&&this.__spread||function(){for(var Qe=[],St=0;St<arguments.length;St++)Qe=Qe.concat(Ke(arguments[St]));return Qe};Object.defineProperty(ze,"__esModule",{value:!0});var Ze=qe(2);ze.get=function(Qe,St){return Qe.get(St)},ze.set=function(Qe,St,ei){Qe.set(St,ei)},ze.remove=function(Qe,St){var ei,ti,ni,oi;if(Ze.isFunction(St)){var ai=[];try{for(var si=We(Qe),ri=si.next();!ri.done;ri=si.next()){var ii=ri.value;St.call(null,ii)&&ai.push(ii[0])}}catch(mi){ei={error:mi}}finally{try{ri&&!ri.done&&(ti=si.return)&&ti.call(si)}finally{if(ei)throw ei.error}}try{for(var ui=We(ai),ci=ui.next();!ci.done;ci=ui.next()){var hi=ci.value;Qe.delete(hi)}}catch(mi){ni={error:mi}}finally{try{ci&&!ci.done&&(oi=ui.return)&&oi.call(ui)}finally{if(ni)throw ni.error}}}else Qe.delete(St)},ze.contains=function(Qe,St){var ei,ti;if(Ze.isFunction(St)){try{for(var ni=We(Qe),oi=ni.next();!oi.done;oi=ni.next()){var ai=oi.value;if(St.call(null,ai))return!0}}catch(si){ei={error:si}}finally{try{oi&&!oi.done&&(ti=ni.return)&&ti.call(ni)}finally{if(ei)throw ei.error}}return!1}return Qe.has(St)},ze.keys=function(Qe){return new Set(Qe.keys())},ze.values=function(Qe){return Je(Qe.values())},ze.size=function(Qe,St){var ei,ti;if(St===void 0)return Qe.size;var ni=0;try{for(var oi=We(Qe),ai=oi.next();!ai.done;ai=oi.next()){var si=ai.value;St.call(null,si)&&ni++}}catch(ri){ei={error:ri}}finally{try{ai&&!ai.done&&(ti=oi.return)&&ti.call(oi)}finally{if(ei)throw ei.error}}return ni},ze.isEmpty=function(Qe){return Qe.size===0},ze.forEach=function(Qe,St){var ei,ti,ni,oi,ai,si;return Xe(this,function(ri){switch(ri.label){case 0:return St!==void 0?[3,2]:[5,We(Qe)];case 1:return ri.sent(),[3,9];case 2:ri.trys.push([2,7,8,9]),ei=We(Qe),ti=ei.next(),ri.label=3;case 3:return ti.done?[3,6]:(ni=ti.value,St.call(null,ni)?[4,ni]:[3,5]);case 4:ri.sent(),ri.label=5;case 5:return ti=ei.next(),[3,3];case 6:return[3,9];case 7:return oi=ri.sent(),ai={error:oi},[3,9];case 8:try{ti&&!ti.done&&(si=ei.return)&&si.call(ei)}finally{if(ai)throw ai.error}return[7];case 9:return[2]}})},ze.clone=function(Qe){return new Map(Qe)},ze.sortInAscendingOrder=function(Qe,St){var ei=new(Array.bind.apply(Array,Je([void 0],Qe)));return ei.sort(function(ti,ni){return St.call(null,ti,ni)?-1:1}),new Map(ei)},ze.sortInDescendingOrder=function(Qe,St){var ei=new(Array.bind.apply(Array,Je([void 0],Qe)));return ei.sort(function(ti,ni){return St.call(null,ti,ni)?1:-1}),new Map(ei)}},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0}),ze.HTML="http://www.w3.org/1999/xhtml",ze.XML="http://www.w3.org/XML/1998/namespace",ze.XMLNS="http://www.w3.org/2000/xmlns/",ze.MathML="http://www.w3.org/1998/Math/MathML",ze.SVG="http://www.w3.org/2000/svg",ze.XLink="http://www.w3.org/1999/xlink"},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0}),ze.enqueue=function(Xe,We){Xe.push(We)},ze.dequeue=function(Xe){return Xe.shift()||null}},function(Ve,ze,qe){var Xe=this&&this.__generator||function(St,ei){var ti,ni,oi,ai,si={label:0,sent:function(){if(1&oi[0])throw oi[1];return oi[1]},trys:[],ops:[]};return ai={next:ri(0),throw:ri(1),return:ri(2)},typeof Symbol=="function"&&(ai[Symbol.iterator]=function(){return this}),ai;function ri(ii){return function(ui){return function(ci){if(ti)throw new TypeError("Generator is already executing.");for(;si;)try{if(ti=1,ni&&(oi=2&ci[0]?ni.return:ci[0]?ni.throw||((oi=ni.return)&&oi.call(ni),0):ni.next)&&!(oi=oi.call(ni,ci[1])).done)return oi;switch(ni=0,oi&&(ci=[2&ci[0],oi.value]),ci[0]){case 0:case 1:oi=ci;break;case 4:return si.label++,{value:ci[1],done:!1};case 5:si.label++,ni=ci[1],ci=[0];continue;case 7:ci=si.ops.pop(),si.trys.pop();continue;default:if(oi=si.trys,!((oi=oi.length>0&&oi[oi.length-1])||ci[0]!==6&&ci[0]!==2)){si=0;continue}if(ci[0]===3&&(!oi||ci[1]>oi[0]&&ci[1]<oi[3])){si.label=ci[1];break}if(ci[0]===6&&si.label<oi[1]){si.label=oi[1],oi=ci;break}if(oi&&si.label<oi[2]){si.label=oi[2],si.ops.push(ci);break}oi[2]&&si.ops.pop(),si.trys.pop();continue}ci=ei.call(St,si)}catch(hi){ci=[6,hi],ni=0}finally{ti=oi=0}if(5&ci[0])throw ci[1];return{value:ci[0]?ci[1]:void 0,done:!0}}([ii,ui])}}},We=this&&this.__values||function(St){var ei=typeof Symbol=="function"&&Symbol.iterator,ti=ei&&St[ei],ni=0;if(ti)return ti.call(St);if(St&&typeof St.length=="number")return{next:function(){return St&&ni>=St.length&&(St=void 0),{value:St&&St[ni++],done:!St}}};throw new TypeError(ei?"Object is not iterable.":"Symbol.iterator is not defined.")},Ke=this&&this.__read||function(St,ei){var ti=typeof Symbol=="function"&&St[Symbol.iterator];if(!ti)return St;var ni,oi,ai=ti.call(St),si=[];try{for(;(ei===void 0||ei-- >0)&&!(ni=ai.next()).done;)si.push(ni.value)}catch(ri){oi={error:ri}}finally{try{ni&&!ni.done&&(ti=ai.return)&&ti.call(ai)}finally{if(oi)throw oi.error}}return si},Je=this&&this.__spread||function(){for(var St=[],ei=0;ei<arguments.length;ei++)St=St.concat(Ke(arguments[ei]));return St};Object.defineProperty(ze,"__esModule",{value:!0});var Ze=qe(2);function Qe(St,ei){var ti,ni;try{for(var oi=We(St),ai=oi.next();!ai.done;ai=oi.next()){var si=ai.value;if(!ei.has(si))return!1}}catch(ri){ti={error:ri}}finally{try{ai&&!ai.done&&(ni=oi.return)&&ni.call(oi)}finally{if(ti)throw ti.error}}return!0}ze.append=function(St,ei){St.add(ei)},ze.extend=function(St,ei){ei.forEach(St.add,St)},ze.prepend=function(St,ei){var ti=new Set(St);St.clear(),St.add(ei),ti.forEach(St.add,St)},ze.replace=function(St,ei,ti){var ni,oi,ai=new Set;try{for(var si=We(St),ri=si.next();!ri.done;ri=si.next()){var ii=ri.value;Ze.isFunction(ei)?ei.call(null,ii)?ai.add(ti):ai.add(ii):ii===ei?ai.add(ti):ai.add(ii)}}catch(ui){ni={error:ui}}finally{try{ri&&!ri.done&&(oi=si.return)&&oi.call(si)}finally{if(ni)throw ni.error}}St.clear(),ai.forEach(St.add,St)},ze.insert=function(St,ei,ti){var ni,oi,ai=new Set,si=0;try{for(var ri=We(St),ii=ri.next();!ii.done;ii=ri.next()){var ui=ii.value;si===ti&&ai.add(ei),ai.add(ui),si++}}catch(ci){ni={error:ci}}finally{try{ii&&!ii.done&&(oi=ri.return)&&oi.call(ri)}finally{if(ni)throw ni.error}}St.clear(),ai.forEach(St.add,St)},ze.remove=function(St,ei){var ti,ni,oi,ai;if(Ze.isFunction(ei)){var si=[];try{for(var ri=We(St),ii=ri.next();!ii.done;ii=ri.next()){var ui=ii.value;ei.call(null,ui)&&si.push(ui)}}catch(di){ti={error:di}}finally{try{ii&&!ii.done&&(ni=ri.return)&&ni.call(ri)}finally{if(ti)throw ti.error}}try{for(var ci=We(si),hi=ci.next();!hi.done;hi=ci.next()){var mi=hi.value;St.delete(mi)}}catch(di){oi={error:di}}finally{try{hi&&!hi.done&&(ai=ci.return)&&ai.call(ci)}finally{if(oi)throw oi.error}}}else St.delete(ei)},ze.empty=function(St){St.clear()},ze.contains=function(St,ei){var ti,ni;if(!Ze.isFunction(ei))return St.has(ei);try{for(var oi=We(St),ai=oi.next();!ai.done;ai=oi.next()){var si=ai.value;if(ei.call(null,si))return!0}}catch(ri){ti={error:ri}}finally{try{ai&&!ai.done&&(ni=oi.return)&&ni.call(oi)}finally{if(ti)throw ti.error}}return!1},ze.size=function(St,ei){var ti,ni;if(ei===void 0)return St.size;var oi=0;try{for(var ai=We(St),si=ai.next();!si.done;si=ai.next()){var ri=si.value;ei.call(null,ri)&&oi++}}catch(ii){ti={error:ii}}finally{try{si&&!si.done&&(ni=ai.return)&&ni.call(ai)}finally{if(ti)throw ti.error}}return oi},ze.isEmpty=function(St){return St.size===0},ze.forEach=function(St,ei){var ti,ni,oi,ai,si,ri;return Xe(this,function(ii){switch(ii.label){case 0:return ei!==void 0?[3,2]:[5,We(St)];case 1:return ii.sent(),[3,9];case 2:ii.trys.push([2,7,8,9]),ti=We(St),ni=ti.next(),ii.label=3;case 3:return ni.done?[3,6]:(oi=ni.value,ei.call(null,oi)?[4,oi]:[3,5]);case 4:ii.sent(),ii.label=5;case 5:return ni=ti.next(),[3,3];case 6:return[3,9];case 7:return ai=ii.sent(),si={error:ai},[3,9];case 8:try{ni&&!ni.done&&(ri=ti.return)&&ri.call(ti)}finally{if(si)throw si.error}return[7];case 9:return[2]}})},ze.clone=function(St){return new Set(St)},ze.sortInAscendingOrder=function(St,ei){var ti=new(Array.bind.apply(Array,Je([void 0],St)));return ti.sort(function(ni,oi){return ei.call(null,ni,oi)?-1:1}),new Set(ti)},ze.sortInDescendingOrder=function(St,ei){var ti=new(Array.bind.apply(Array,Je([void 0],St)));return ti.sort(function(ni,oi){return ei.call(null,ni,oi)?1:-1}),new Set(ti)},ze.isSubsetOf=Qe,ze.isSupersetOf=function(St,ei){return Qe(ei,St)},ze.intersection=function(St,ei){var ti,ni,oi=new Set;try{for(var ai=We(St),si=ai.next();!si.done;si=ai.next()){var ri=si.value;ei.has(ri)&&oi.add(ri)}}catch(ii){ti={error:ii}}finally{try{si&&!si.done&&(ni=ai.return)&&ni.call(ai)}finally{if(ti)throw ti.error}}return oi},ze.union=function(St,ei){var ti=new Set(St);return ei.forEach(ti.add,ti),ti},ze.range=function(St,ei){for(var ti=new Set,ni=St;ni<=ei;ni++)ti.add(ni);return ti}},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0}),ze.push=function(Xe,We){Xe.push(We)},ze.pop=function(Xe){return Xe.pop()||null}},function(Ve,ze,qe){var Xe=this&&this.__values||function(si){var ri=typeof Symbol=="function"&&Symbol.iterator,ii=ri&&si[ri],ui=0;if(ii)return ii.call(si);if(si&&typeof si.length=="number")return{next:function(){return si&&ui>=si.length&&(si=void 0),{value:si&&si[ui++],done:!si}}};throw new TypeError(ri?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ze,"__esModule",{value:!0});var We=qe(96),Ke=qe(147),Je=qe(146),Ze=qe(2);function Qe(si,ri){for(var ii=0;;){var ui=ii<si.length?si.charCodeAt(ii):null,ci=ii<ri.length?ri.charCodeAt(ii):null;if(ui===null)return!0;if(ui!==ci)return!1;ii++}}function St(si){var ri,ii,ui=Array.from(si),ci=new Uint8Array(ui.length),hi=0;try{for(var mi=Xe(si),di=mi.next();!di.done;di=mi.next()){var fi=di.value.codePointAt(0);console.assert(fi!==void 0&&fi<=255,"isomorphicEncode requires string bytes to be less than or equal to 0x00FF."),fi!==void 0&&fi<=255&&(ci[hi++]=fi)}}catch(yi){ri={error:yi}}finally{try{di&&!di.done&&(ii=mi.return)&&ii.call(mi)}finally{if(ri)throw ri.error}}return ci}function ei(si){return/^[\u0000-\u007F]*$/.test(si)}function ti(si){var ri,ii,ui="";try{for(var ci=Xe(si),hi=ci.next();!hi.done;hi=ci.next()){var mi=hi.value,di=mi.codePointAt(0);ui+=di!==void 0&&di>=65&&di<=90?String.fromCodePoint(di+32):mi}}catch(fi){ri={error:fi}}finally{try{hi&&!hi.done&&(ii=ci.return)&&ii.call(ci)}finally{if(ri)throw ri.error}}return ui}function ni(si){return si.replace(/^[\t\n\f\r ]+/,"").replace(/[\t\n\f\r ]+$/,"")}function oi(si,ri,ii){if(!Ze.isArray(ri))return oi(si,Array.from(ri),ii);for(var ui="";ii.position<ri.length&&si.call(null,ri[ii.position]);)ui+=ri[ii.position],ii.position++;return ui}function ai(si,ri){oi(function(ii){return We.ASCIIWhiteSpace.test(ii)},si,ri)}ze.isCodeUnitPrefix=Qe,ze.isCodeUnitLessThan=function(si,ri){if(Qe(ri,si))return!1;if(Qe(si,ri))return!0;for(var ii=0;ii<Math.min(si.length,ri.length);ii++){var ui=si.charCodeAt(ii),ci=ri.charCodeAt(ii);if(ui!==ci)return ui<ci}return!1},ze.isomorphicEncode=St,ze.isASCIIString=ei,ze.asciiLowercase=ti,ze.asciiUppercase=function(si){var ri,ii,ui="";try{for(var ci=Xe(si),hi=ci.next();!hi.done;hi=ci.next()){var mi=hi.value,di=mi.codePointAt(0);ui+=di!==void 0&&di>=97&&di<=122?String.fromCodePoint(di-32):mi}}catch(fi){ri={error:fi}}finally{try{hi&&!hi.done&&(ii=ci.return)&&ii.call(ci)}finally{if(ri)throw ri.error}}return ui},ze.asciiCaseInsensitiveMatch=function(si,ri){return ti(si)===ti(ri)},ze.asciiEncode=function(si){return console.assert(ei(si),"asciiEncode requires an ASCII string."),St(si)},ze.asciiDecode=function(si){var ri,ii;try{for(var ui=Xe(si),ci=ui.next();!ci.done;ci=ui.next()){var hi=ci.value;console.assert(Je.isASCIIByte(hi),"asciiDecode requires an ASCII byte sequence.")}}catch(mi){ri={error:mi}}finally{try{ci&&!ci.done&&(ii=ui.return)&&ii.call(ui)}finally{if(ri)throw ri.error}}return Ke.isomorphicDecode(si)},ze.stripNewlines=function(si){return si.replace(/[\n\r]/g,"")},ze.normalizeNewlines=function(si){return si.replace(/\r\n/g,`
`).replace(/\r/g,`
`)},ze.stripLeadingAndTrailingASCIIWhitespace=ni,ze.stripAndCollapseASCIIWhitespace=function(si){return ni(si.replace(/[\t\n\f\r ]{2,}/g," "))},ze.collectASequenceOfCodePoints=oi,ze.skipASCIIWhitespace=ai,ze.strictlySplit=function si(ri,ii){if(!Ze.isArray(ri))return si(Array.from(ri),ii);var ui={position:0},ci=[],hi=oi(function(mi){return ii!==mi},ri,ui);for(ci.push(hi);ui.position<ri.length;)console.assert(ri[ui.position]===ii,"strictlySplit found no delimiter in input string."),ui.position++,hi=oi(function(mi){return ii!==mi},ri,ui),ci.push(hi);return ci},ze.splitAStringOnASCIIWhitespace=function si(ri){if(!Ze.isArray(ri))return si(Array.from(ri));var ii={position:0},ui=[];for(ai(ri,ii);ii.position<ri.length;){var ci=oi(function(hi){return!We.ASCIIWhiteSpace.test(hi)},ri,ii);ui.push(ci),ai(ri,ii)}return ui},ze.splitAStringOnCommas=function si(ri){if(!Ze.isArray(ri))return si(Array.from(ri));for(var ii={position:0},ui=[];ii.position<ri.length;){var ci=oi(function(hi){return hi!==","},ri,ii);ui.push(ni(ci)),ii.position<ri.length&&(console.assert(ri[ii.position]===",","splitAStringOnCommas found no delimiter in input string."),ii.position++)}return ui},ze.concatenate=function(si,ri){return ri===void 0&&(ri=""),si.length===0?"":si.join(ri)}},function(Ve,ze,qe){var Xe=this&&this.__values||function(Ke){var Je=typeof Symbol=="function"&&Symbol.iterator,Ze=Je&&Ke[Je],Qe=0;if(Ze)return Ze.call(Ke);if(Ke&&typeof Ke.length=="number")return{next:function(){return Ke&&Qe>=Ke.length&&(Ke=void 0),{value:Ke&&Ke[Qe++],done:!Ke}}};throw new TypeError(Je?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ze,"__esModule",{value:!0});var We=qe(97);ze.abort_add=function(Ke,Je){Je._abortedFlag||Je._abortAlgorithms.add(Ke)},ze.abort_remove=function(Ke,Je){Je._abortAlgorithms.delete(Ke)},ze.abort_signalAbort=function(Ke){var Je,Ze;if(!Ke._abortedFlag){Ke._abortedFlag=!0;try{for(var Qe=Xe(Ke._abortAlgorithms),St=Qe.next();!St.done;St=Qe.next())St.value.call(Ke)}catch(ei){Je={error:ei}}finally{try{St&&!St.done&&(Ze=Qe.return)&&Ze.call(Qe)}finally{if(Je)throw Je.error}}Ke._abortAlgorithms.clear(),We.event_fireAnEvent("abort",Ke)}}},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=qe(150),We=function(){function Ke(){}return Ke.asNode=function(Je){if(Xe.Guard.isNode(Je))return Je;throw new Error("Invalid object. Node expected.")},Ke}();ze.Cast=We},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=function(){function Ke(){}return Object.defineProperty(Ke.prototype,"size",{get:function(){return 0},enumerable:!0,configurable:!0}),Ke.prototype.add=function(Je){throw new Error("Cannot add to an empty set.")},Ke.prototype.clear=function(){},Ke.prototype.delete=function(Je){return!1},Ke.prototype.forEach=function(Je,Ze){},Ke.prototype.has=function(Je){return!1},Ke.prototype[Symbol.iterator]=function(){return new We},Ke.prototype.entries=function(){return new We},Ke.prototype.keys=function(){return new We},Ke.prototype.values=function(){return new We},Object.defineProperty(Ke.prototype,Symbol.toStringTag,{get:function(){return"EmptySet"},enumerable:!0,configurable:!0}),Ke}();ze.EmptySet=Xe;var We=function(){function Ke(){}return Ke.prototype[Symbol.iterator]=function(){return this},Ke.prototype.next=function(){return{done:!0,value:null}},Ke}()},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0}),function(Xe){Xe[Xe.SchemeStart=0]="SchemeStart",Xe[Xe.Scheme=1]="Scheme",Xe[Xe.NoScheme=2]="NoScheme",Xe[Xe.SpecialRelativeOrAuthority=3]="SpecialRelativeOrAuthority",Xe[Xe.PathOrAuthority=4]="PathOrAuthority",Xe[Xe.Relative=5]="Relative",Xe[Xe.RelativeSlash=6]="RelativeSlash",Xe[Xe.SpecialAuthoritySlashes=7]="SpecialAuthoritySlashes",Xe[Xe.SpecialAuthorityIgnoreSlashes=8]="SpecialAuthorityIgnoreSlashes",Xe[Xe.Authority=9]="Authority",Xe[Xe.Host=10]="Host",Xe[Xe.Hostname=11]="Hostname",Xe[Xe.Port=12]="Port",Xe[Xe.File=13]="File",Xe[Xe.FileSlash=14]="FileSlash",Xe[Xe.FileHost=15]="FileHost",Xe[Xe.PathStart=16]="PathStart",Xe[Xe.Path=17]="Path",Xe[Xe.CannotBeABaseURLPath=18]="CannotBeABaseURLPath",Xe[Xe.Query=19]="Query",Xe[Xe.Fragment=20]="Fragment"}(ze.ParserState||(ze.ParserState={})),ze.OpaqueOrigin=["","",null,null]},function(Ve,ze,qe){var Xe=qe(245),We=qe(247);function Ke(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}ze.parse=ci,ze.resolve=function(hi,mi){return ci(hi,!1,!0).resolve(mi)},ze.resolveObject=function(hi,mi){return hi?ci(hi,!1,!0).resolveObject(mi):mi},ze.format=function(hi){return We.isString(hi)&&(hi=ci(hi)),hi instanceof Ke?hi.format():Ke.prototype.format.call(hi)},ze.Url=Ke;var Je=/^([a-z0-9.+-]+:)/i,Ze=/:[0-9]*$/,Qe=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,St=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),ei=["'"].concat(St),ti=["%","/","?",";","#"].concat(ei),ni=["/","?","#"],oi=/^[+a-z0-9A-Z_-]{0,63}$/,ai=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,si={javascript:!0,"javascript:":!0},ri={javascript:!0,"javascript:":!0},ii={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},ui=qe(248);function ci(hi,mi,di){if(hi&&We.isObject(hi)&&hi instanceof Ke)return hi;var fi=new Ke;return fi.parse(hi,mi,di),fi}Ke.prototype.parse=function(hi,mi,di){if(!We.isString(hi))throw new TypeError("Parameter 'url' must be a string, not "+typeof hi);var fi=hi.indexOf("?"),yi=fi!==-1&&fi<hi.indexOf("#")?"?":"#",pi=hi.split(yi);pi[0]=pi[0].replace(/\\/g,"/");var xi=hi=pi.join(yi);if(xi=xi.trim(),!di&&hi.split("#").length===1){var Si=Qe.exec(xi);if(Si)return this.path=xi,this.href=xi,this.pathname=Si[1],Si[2]?(this.search=Si[2],this.query=mi?ui.parse(this.search.substr(1)):this.search.substr(1)):mi&&(this.search="",this.query={}),this}var vi=Je.exec(xi);if(vi){var Di=(vi=vi[0]).toLowerCase();this.protocol=Di,xi=xi.substr(vi.length)}if(di||vi||xi.match(/^\/\/[^@\/]+@[^@\/]+/)){var Ti=xi.substr(0,2)==="//";!Ti||vi&&ri[vi]||(xi=xi.substr(2),this.slashes=!0)}if(!ri[vi]&&(Ti||vi&&!ii[vi])){for(var Fi,Ci,Ni=-1,Ri=0;Ri<ni.length;Ri++)(Yi=xi.indexOf(ni[Ri]))!==-1&&(Ni===-1||Yi<Ni)&&(Ni=Yi);for((Ci=Ni===-1?xi.lastIndexOf("@"):xi.lastIndexOf("@",Ni))!==-1&&(Fi=xi.slice(0,Ci),xi=xi.slice(Ci+1),this.auth=decodeURIComponent(Fi)),Ni=-1,Ri=0;Ri<ti.length;Ri++){var Yi;(Yi=xi.indexOf(ti[Ri]))!==-1&&(Ni===-1||Yi<Ni)&&(Ni=Yi)}Ni===-1&&(Ni=xi.length),this.host=xi.slice(0,Ni),xi=xi.slice(Ni),this.parseHost(),this.hostname=this.hostname||"";var ki=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!ki)for(var ji=this.hostname.split(/\./),Vi=(Ri=0,ji.length);Ri<Vi;Ri++){var Bi=ji[Ri];if(Bi&&!Bi.match(oi)){for(var Xi="",en=0,tn=Bi.length;en<tn;en++)Bi.charCodeAt(en)>127?Xi+="x":Xi+=Bi[en];if(!Xi.match(oi)){var Ji=ji.slice(0,Ri),Li=ji.slice(Ri+1),wi=Bi.match(ai);wi&&(Ji.push(wi[1]),Li.unshift(wi[2])),Li.length&&(xi="/"+Li.join(".")+xi),this.hostname=Ji.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),ki||(this.hostname=Xe.toASCII(this.hostname));var _i=this.port?":"+this.port:"",Ai=this.hostname||"";this.host=Ai+_i,this.href+=this.host,ki&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),xi[0]!=="/"&&(xi="/"+xi))}if(!si[Di])for(Ri=0,Vi=ei.length;Ri<Vi;Ri++){var Oi=ei[Ri];if(xi.indexOf(Oi)!==-1){var Ii=encodeURIComponent(Oi);Ii===Oi&&(Ii=escape(Oi)),xi=xi.split(Oi).join(Ii)}}var Mi=xi.indexOf("#");Mi!==-1&&(this.hash=xi.substr(Mi),xi=xi.slice(0,Mi));var Gi=xi.indexOf("?");if(Gi!==-1?(this.search=xi.substr(Gi),this.query=xi.substr(Gi+1),mi&&(this.query=ui.parse(this.query)),xi=xi.slice(0,Gi)):mi&&(this.search="",this.query={}),xi&&(this.pathname=xi),ii[Di]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){_i=this.pathname||"";var on=this.search||"";this.path=_i+on}return this.href=this.format(),this},Ke.prototype.format=function(){var hi=this.auth||"";hi&&(hi=(hi=encodeURIComponent(hi)).replace(/%3A/i,":"),hi+="@");var mi=this.protocol||"",di=this.pathname||"",fi=this.hash||"",yi=!1,pi="";this.host?yi=hi+this.host:this.hostname&&(yi=hi+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(yi+=":"+this.port)),this.query&&We.isObject(this.query)&&Object.keys(this.query).length&&(pi=ui.stringify(this.query));var xi=this.search||pi&&"?"+pi||"";return mi&&mi.substr(-1)!==":"&&(mi+=":"),this.slashes||(!mi||ii[mi])&&yi!==!1?(yi="//"+(yi||""),di&&di.charAt(0)!=="/"&&(di="/"+di)):yi||(yi=""),fi&&fi.charAt(0)!=="#"&&(fi="#"+fi),xi&&xi.charAt(0)!=="?"&&(xi="?"+xi),mi+yi+(di=di.replace(/[?#]/g,function(Si){return encodeURIComponent(Si)}))+(xi=xi.replace("#","%23"))+fi},Ke.prototype.resolve=function(hi){return this.resolveObject(ci(hi,!1,!0)).format()},Ke.prototype.resolveObject=function(hi){if(We.isString(hi)){var mi=new Ke;mi.parse(hi,!1,!0),hi=mi}for(var di=new Ke,fi=Object.keys(this),yi=0;yi<fi.length;yi++){var pi=fi[yi];di[pi]=this[pi]}if(di.hash=hi.hash,hi.href==="")return di.href=di.format(),di;if(hi.slashes&&!hi.protocol){for(var xi=Object.keys(hi),Si=0;Si<xi.length;Si++){var vi=xi[Si];vi!=="protocol"&&(di[vi]=hi[vi])}return ii[di.protocol]&&di.hostname&&!di.pathname&&(di.path=di.pathname="/"),di.href=di.format(),di}if(hi.protocol&&hi.protocol!==di.protocol){if(!ii[hi.protocol]){for(var Di=Object.keys(hi),Ti=0;Ti<Di.length;Ti++){var Fi=Di[Ti];di[Fi]=hi[Fi]}return di.href=di.format(),di}if(di.protocol=hi.protocol,hi.host||ri[hi.protocol])di.pathname=hi.pathname;else{for(var Ci=(hi.pathname||"").split("/");Ci.length&&!(hi.host=Ci.shift()););hi.host||(hi.host=""),hi.hostname||(hi.hostname=""),Ci[0]!==""&&Ci.unshift(""),Ci.length<2&&Ci.unshift(""),di.pathname=Ci.join("/")}if(di.search=hi.search,di.query=hi.query,di.host=hi.host||"",di.auth=hi.auth,di.hostname=hi.hostname||hi.host,di.port=hi.port,di.pathname||di.search){var Ni=di.pathname||"",Ri=di.search||"";di.path=Ni+Ri}return di.slashes=di.slashes||hi.slashes,di.href=di.format(),di}var Yi=di.pathname&&di.pathname.charAt(0)==="/",ki=hi.host||hi.pathname&&hi.pathname.charAt(0)==="/",ji=ki||Yi||di.host&&hi.pathname,Vi=ji,Bi=di.pathname&&di.pathname.split("/")||[],Xi=(Ci=hi.pathname&&hi.pathname.split("/")||[],di.protocol&&!ii[di.protocol]);if(Xi&&(di.hostname="",di.port=null,di.host&&(Bi[0]===""?Bi[0]=di.host:Bi.unshift(di.host)),di.host="",hi.protocol&&(hi.hostname=null,hi.port=null,hi.host&&(Ci[0]===""?Ci[0]=hi.host:Ci.unshift(hi.host)),hi.host=null),ji=ji&&(Ci[0]===""||Bi[0]==="")),ki)di.host=hi.host||hi.host===""?hi.host:di.host,di.hostname=hi.hostname||hi.hostname===""?hi.hostname:di.hostname,di.search=hi.search,di.query=hi.query,Bi=Ci;else if(Ci.length)Bi||(Bi=[]),Bi.pop(),Bi=Bi.concat(Ci),di.search=hi.search,di.query=hi.query;else if(!We.isNullOrUndefined(hi.search))return Xi&&(di.hostname=di.host=Bi.shift(),(wi=!!(di.host&&di.host.indexOf("@")>0)&&di.host.split("@"))&&(di.auth=wi.shift(),di.host=di.hostname=wi.shift())),di.search=hi.search,di.query=hi.query,We.isNull(di.pathname)&&We.isNull(di.search)||(di.path=(di.pathname?di.pathname:"")+(di.search?di.search:"")),di.href=di.format(),di;if(!Bi.length)return di.pathname=null,di.search?di.path="/"+di.search:di.path=null,di.href=di.format(),di;for(var en=Bi.slice(-1)[0],tn=(di.host||hi.host||Bi.length>1)&&(en==="."||en==="..")||en==="",Ji=0,Li=Bi.length;Li>=0;Li--)(en=Bi[Li])==="."?Bi.splice(Li,1):en===".."?(Bi.splice(Li,1),Ji++):Ji&&(Bi.splice(Li,1),Ji--);if(!ji&&!Vi)for(;Ji--;Ji)Bi.unshift("..");!ji||Bi[0]===""||Bi[0]&&Bi[0].charAt(0)==="/"||Bi.unshift(""),tn&&Bi.join("/").substr(-1)!=="/"&&Bi.push("");var wi,_i=Bi[0]===""||Bi[0]&&Bi[0].charAt(0)==="/";return Xi&&(di.hostname=di.host=_i?"":Bi.length?Bi.shift():"",(wi=!!(di.host&&di.host.indexOf("@")>0)&&di.host.split("@"))&&(di.auth=wi.shift(),di.host=di.hostname=wi.shift())),(ji=ji||di.host&&Bi.length)&&!_i&&Bi.unshift(""),Bi.length?di.pathname=Bi.join("/"):(di.pathname=null,di.path=null),We.isNull(di.pathname)&&We.isNull(di.search)||(di.path=(di.pathname?di.pathname:"")+(di.search?di.search:"")),di.auth=hi.auth||di.auth,di.slashes=di.slashes||hi.slashes,di.href=di.format(),di},Ke.prototype.parseHost=function(){var hi=this.host,mi=Ze.exec(hi);mi&&((mi=mi[0])!==":"&&(this.port=mi.substr(1)),hi=hi.substr(0,hi.length-mi.length)),hi&&(this.hostname=hi)}},function(Ve,ze,qe){(function(Xe,We){var Ke;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(Je){ze&&ze.nodeType,Xe&&Xe.nodeType;var Ze=typeof We=="object"&&We;Ze.global!==Ze&&Ze.window!==Ze&&Ze.self;var Qe,St=2147483647,ei=/^xn--/,ti=/[^\x20-\x7E]/,ni=/[\x2E\u3002\uFF0E\uFF61]/g,oi={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ai=Math.floor,si=String.fromCharCode;function ri(pi){throw new RangeError(oi[pi])}function ii(pi,xi){for(var Si=pi.length,vi=[];Si--;)vi[Si]=xi(pi[Si]);return vi}function ui(pi,xi){var Si=pi.split("@"),vi="";return Si.length>1&&(vi=Si[0]+"@",pi=Si[1]),vi+ii((pi=pi.replace(ni,".")).split("."),xi).join(".")}function ci(pi){for(var xi,Si,vi=[],Di=0,Ti=pi.length;Di<Ti;)(xi=pi.charCodeAt(Di++))>=55296&&xi<=56319&&Di<Ti?(64512&(Si=pi.charCodeAt(Di++)))==56320?vi.push(((1023&xi)<<10)+(1023&Si)+65536):(vi.push(xi),Di--):vi.push(xi);return vi}function hi(pi){return ii(pi,function(xi){var Si="";return xi>65535&&(Si+=si((xi-=65536)>>>10&1023|55296),xi=56320|1023&xi),Si+=si(xi)}).join("")}function mi(pi,xi){return pi+22+75*(pi<26)-((xi!=0)<<5)}function di(pi,xi,Si){var vi=0;for(pi=Si?ai(pi/700):pi>>1,pi+=ai(pi/xi);pi>455;vi+=36)pi=ai(pi/35);return ai(vi+36*pi/(pi+38))}function fi(pi){var xi,Si,vi,Di,Ti,Fi,Ci,Ni,Ri,Yi,ki,ji=[],Vi=pi.length,Bi=0,Xi=128,en=72;for((Si=pi.lastIndexOf("-"))<0&&(Si=0),vi=0;vi<Si;++vi)pi.charCodeAt(vi)>=128&&ri("not-basic"),ji.push(pi.charCodeAt(vi));for(Di=Si>0?Si+1:0;Di<Vi;){for(Ti=Bi,Fi=1,Ci=36;Di>=Vi&&ri("invalid-input"),((Ni=(ki=pi.charCodeAt(Di++))-48<10?ki-22:ki-65<26?ki-65:ki-97<26?ki-97:36)>=36||Ni>ai((St-Bi)/Fi))&&ri("overflow"),Bi+=Ni*Fi,!(Ni<(Ri=Ci<=en?1:Ci>=en+26?26:Ci-en));Ci+=36)Fi>ai(St/(Yi=36-Ri))&&ri("overflow"),Fi*=Yi;en=di(Bi-Ti,xi=ji.length+1,Ti==0),ai(Bi/xi)>St-Xi&&ri("overflow"),Xi+=ai(Bi/xi),Bi%=xi,ji.splice(Bi++,0,Xi)}return hi(ji)}function yi(pi){var xi,Si,vi,Di,Ti,Fi,Ci,Ni,Ri,Yi,ki,ji,Vi,Bi,Xi,en=[];for(ji=(pi=ci(pi)).length,xi=128,Si=0,Ti=72,Fi=0;Fi<ji;++Fi)(ki=pi[Fi])<128&&en.push(si(ki));for(vi=Di=en.length,Di&&en.push("-");vi<ji;){for(Ci=St,Fi=0;Fi<ji;++Fi)(ki=pi[Fi])>=xi&&ki<Ci&&(Ci=ki);for(Ci-xi>ai((St-Si)/(Vi=vi+1))&&ri("overflow"),Si+=(Ci-xi)*Vi,xi=Ci,Fi=0;Fi<ji;++Fi)if((ki=pi[Fi])<xi&&++Si>St&&ri("overflow"),ki==xi){for(Ni=Si,Ri=36;!(Ni<(Yi=Ri<=Ti?1:Ri>=Ti+26?26:Ri-Ti));Ri+=36)Xi=Ni-Yi,Bi=36-Yi,en.push(si(mi(Yi+Xi%Bi,0))),Ni=ai(Xi/Bi);en.push(si(mi(Ni,0))),Ti=di(Si,Vi,vi==Di),Si=0,++vi}++Si,++xi}return en.join("")}Qe={version:"1.4.1",ucs2:{decode:ci,encode:hi},decode:fi,encode:yi,toASCII:function(pi){return ui(pi,function(xi){return ti.test(xi)?"xn--"+yi(xi):xi})},toUnicode:function(pi){return ui(pi,function(xi){return ei.test(xi)?fi(xi.slice(4).toLowerCase()):xi})}},(Ke=(function(){return Qe}).call(ze,qe,ze,Xe))===void 0||(Xe.exports=Ke)})()}).call(this,qe(246)(Ve),qe(78))},function(Ve,ze){Ve.exports=function(qe){return qe.webpackPolyfill||(qe.deprecate=function(){},qe.paths=[],qe.children||(qe.children=[]),Object.defineProperty(qe,"loaded",{enumerable:!0,get:function(){return qe.l}}),Object.defineProperty(qe,"id",{enumerable:!0,get:function(){return qe.i}}),qe.webpackPolyfill=1),qe}},function(Ve,ze,qe){Ve.exports={isString:function(Xe){return typeof Xe=="string"},isObject:function(Xe){return typeof Xe=="object"&&Xe!==null},isNull:function(Xe){return Xe===null},isNullOrUndefined:function(Xe){return Xe==null}}},function(Ve,ze,qe){ze.decode=ze.parse=qe(249),ze.encode=ze.stringify=qe(250)},function(Ve,ze,qe){function Xe(Ke,Je){return Object.prototype.hasOwnProperty.call(Ke,Je)}Ve.exports=function(Ke,Je,Ze,Qe){Je=Je||"&",Ze=Ze||"=";var St={};if(typeof Ke!="string"||Ke.length===0)return St;var ei=/\+/g;Ke=Ke.split(Je);var ti=1e3;Qe&&typeof Qe.maxKeys=="number"&&(ti=Qe.maxKeys);var ni=Ke.length;ti>0&&ni>ti&&(ni=ti);for(var oi=0;oi<ni;++oi){var ai,si,ri,ii,ui=Ke[oi].replace(ei,"%20"),ci=ui.indexOf(Ze);ci>=0?(ai=ui.substr(0,ci),si=ui.substr(ci+1)):(ai=ui,si=""),ri=decodeURIComponent(ai),ii=decodeURIComponent(si),Xe(St,ri)?We(St[ri])?St[ri].push(ii):St[ri]=[St[ri],ii]:St[ri]=ii}return St};var We=Array.isArray||function(Ke){return Object.prototype.toString.call(Ke)==="[object Array]"}},function(Ve,ze,qe){var Xe=function(Ze){switch(typeof Ze){case"string":return Ze;case"boolean":return Ze?"true":"false";case"number":return isFinite(Ze)?Ze:"";default:return""}};Ve.exports=function(Ze,Qe,St,ei){return Qe=Qe||"&",St=St||"=",Ze===null&&(Ze=void 0),typeof Ze=="object"?Ke(Je(Ze),function(ti){var ni=encodeURIComponent(Xe(ti))+St;return We(Ze[ti])?Ke(Ze[ti],function(oi){return ni+encodeURIComponent(Xe(oi))}).join(Qe):ni+encodeURIComponent(Xe(Ze[ti]))}).join(Qe):ei?encodeURIComponent(Xe(ei))+St+encodeURIComponent(Xe(Ze)):""};var We=Array.isArray||function(Ze){return Object.prototype.toString.call(Ze)==="[object Array]"};function Ke(Ze,Qe){if(Ze.map)return Ze.map(Qe);for(var St=[],ei=0;ei<Ze.length;ei++)St.push(Qe(Ze[ei],ei));return St}var Je=Object.keys||function(Ze){var Qe=[];for(var St in Ze)Object.prototype.hasOwnProperty.call(Ze,St)&&Qe.push(St);return Qe}},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=qe(52);ze.attr_setAnExistingAttributeValue=function(We,Ke){We._element===null?We._value=Ke:Xe.element_change(We,We._element,Ke)}},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=qe(108),We=qe(30),Ke=qe(52);ze.tokenList_validationSteps=function(Je,Ze){if(!We.dom_hasSupportedTokens(Je._attribute._localName))throw new TypeError("There are no supported tokens defined for attribute name: '"+Je._attribute._localName+"'.");return We.dom_getSupportedTokens(Je._attribute._localName).has(Ze.toLowerCase())},ze.tokenList_updateSteps=function(Je){(Je._element.hasAttribute(Je._attribute._localName)||Je._tokenSet.size!==0)&&Ke.element_setAnAttributeValue(Je._element,Je._attribute._localName,Xe.orderedSet_serialize(Je._tokenSet))},ze.tokenList_serializeSteps=function(Je){return Ke.element_getAnAttributeValue(Je._element,Je._attribute._localName)}},function(Ve,ze,qe){var Xe=this&&this.__values||function(Je){var Ze=typeof Symbol=="function"&&Symbol.iterator,Qe=Ze&&Je[Ze],St=0;if(Qe)return Qe.call(Je);if(Je&&typeof Je.length=="number")return{next:function(){return Je&&St>=Je.length&&(Je=void 0),{value:Je&&Je[St++],done:!Je}}};throw new TypeError(Ze?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ze,"__esModule",{value:!0});var We=qe(2);function Ke(Je){return We.isBoolean(Je)?Je:Je.capture||!1}ze.eventTarget_flatten=Ke,ze.eventTarget_flattenMore=function(Je){var Ze=Ke(Je),Qe=!1,St=!1;return We.isBoolean(Je)||(Qe=Je.once||!1,St=Je.passive||!1),[Ze,St,Qe]},ze.eventTarget_addEventListener=function(Je,Ze){if(Ze.callback!==null){for(var Qe=0;Qe<Je._eventListenerList.length;Qe++){var St=Je._eventListenerList[Qe];if(St.type===Ze.type&&St.callback.handleEvent===Ze.callback.handleEvent&&St.capture===Ze.capture)return}Je._eventListenerList.push(Ze)}},ze.eventTarget_removeEventListener=function(Je,Ze,Qe){Ze.removed=!0,Je._eventListenerList.splice(Qe,1)},ze.eventTarget_removeAllEventListeners=function(Je){var Ze,Qe;try{for(var St=Xe(Je._eventListenerList),ei=St.next();!ei.done;ei=St.next())ei.value.removed=!0}catch(ti){Ze={error:ti}}finally{try{ei&&!ei.done&&(Qe=St.return)&&Qe.call(St)}finally{if(Ze)throw Ze.error}}Je._eventListenerList.length=0}},function(Ve,ze,qe){var Xe=this&&this.__values||function(Je){var Ze=typeof Symbol=="function"&&Symbol.iterator,Qe=Ze&&Je[Ze],St=0;if(Qe)return Qe.call(Je);if(Je&&typeof Je.length=="number")return{next:function(){return Je&&St>=Je.length&&(Je=void 0),{value:Je&&Je[St++],done:!Je}}};throw new TypeError(Ze?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ze,"__esModule",{value:!0});var We=qe(2),Ke=qe(29);ze.parentNode_convertNodesIntoANode=function(Je,Ze){for(var Qe,St,ei=null,ti=0;ti<Je.length;ti++){var ni=Je[ti];if(We.isString(ni)){var oi=Ke.create_text(Ze,ni);Je[ti]=oi}}if(Je.length===1)ei=Je[0];else{var ai=ei=Ke.create_documentFragment(Ze);try{for(var si=Xe(Je),ri=si.next();!ri.done;ri=si.next())ni=ri.value,ai.appendChild(ni)}catch(ii){Qe={error:ii}}finally{try{ri&&!ri.done&&(St=si.return)&&St.call(si)}finally{if(Qe)throw Qe.error}}}return ei}},function(Ve,ze,qe){var Xe=this&&this.__values||function(mi){var di=typeof Symbol=="function"&&Symbol.iterator,fi=di&&mi[di],yi=0;if(fi)return fi.call(mi);if(mi&&typeof mi.length=="number")return{next:function(){return mi&&yi>=mi.length&&(mi=void 0),{value:mi&&mi[yi++],done:!mi}}};throw new TypeError(di?"Object is not iterable.":"Symbol.iterator is not defined.")},We=this&&this.__read||function(mi,di){var fi=typeof Symbol=="function"&&mi[Symbol.iterator];if(!fi)return mi;var yi,pi,xi=fi.call(mi),Si=[];try{for(;(di===void 0||di-- >0)&&!(yi=xi.next()).done;)Si.push(yi.value)}catch(vi){pi={error:vi}}finally{try{yi&&!yi.done&&(fi=xi.return)&&fi.call(xi)}finally{if(pi)throw pi.error}}return Si},Ke=this&&this.__spread||function(){for(var mi=[],di=0;di<arguments.length;di++)mi=mi.concat(We(arguments[di]));return mi};Object.defineProperty(ze,"__esModule",{value:!0});var Je=qe(1),Ze=qe(9),Qe=qe(3),St=qe(29),ei=qe(17),ti=qe(175),ni=qe(107),oi=qe(176),ai=qe(37),si=qe(177);function ri(mi){return mi._startNode===mi._endNode&&mi._startOffset===mi._endOffset}function ii(mi){return ei.tree_rootNode(mi._startNode)}function ui(mi,di){return ei.tree_rootNode(mi)===ii(di)&&ti.boundaryPoint_position([mi,0],di._start)===Je.BoundaryPosition.After&&ti.boundaryPoint_position([mi,ei.tree_nodeLength(mi)],di._end)===Je.BoundaryPosition.Before}function ci(mi,di){var fi=ei.tree_isAncestorOf(di._startNode,mi,!0),yi=ei.tree_isAncestorOf(di._endNode,mi,!0);return fi&&!yi||!fi&&yi}function hi(mi){var di,fi,yi,pi,xi,Si,vi=St.create_documentFragment(mi._startNode._nodeDocument);if(ri(mi))return vi;var Di=mi._startNode,Ti=mi._startOffset,Fi=mi._endNode,Ci=mi._endOffset;if(Di===Fi&&Qe.Guard.isCharacterDataNode(Di))return(Ai=oi.node_clone(Di))._data=ni.characterData_substringData(Di,Ti,Ci-Ti),ai.mutation_append(Ai,vi),ni.characterData_replaceData(Di,Ti,Ci-Ti,""),vi;for(var Ni=Di;!ei.tree_isAncestorOf(Fi,Ni,!0);){if(Ni._parent===null)throw new Error("Parent node  is null.");Ni=Ni._parent}var Ri=null;if(!ei.tree_isAncestorOf(Fi,Di,!0))try{for(var Yi=Xe(Ni._children),ki=Yi.next();!ki.done;ki=Yi.next())if(ci(Xi=ki.value,mi)){Ri=Xi;break}}catch(on){di={error:on}}finally{try{ki&&!ki.done&&(fi=Yi.return)&&fi.call(Yi)}finally{if(di)throw di.error}}var ji=null;if(!ei.tree_isAncestorOf(Di,Fi,!0))for(var Vi=Ke(Ni._children),Bi=Vi.length-1;Bi>0;Bi--){var Xi;if(ci(Xi=Vi[Bi],mi)){ji=Xi;break}}var en,tn,Ji=[];try{for(var Li=Xe(Ni._children),wi=Li.next();!wi.done;wi=Li.next())if(ui(Gi=wi.value,mi)){if(Qe.Guard.isDocumentTypeNode(Gi))throw new Ze.HierarchyRequestError;Ji.push(Gi)}}catch(on){yi={error:on}}finally{try{wi&&!wi.done&&(pi=Li.return)&&pi.call(Li)}finally{if(yi)throw yi.error}}if(ei.tree_isAncestorOf(Fi,Di,!0))en=Di,tn=Ti;else{for(var _i=Di;_i._parent!==null&&!ei.tree_isAncestorOf(Fi,_i._parent);)_i=_i._parent;if(_i._parent===null)throw new Error("Parent node is null.");en=_i._parent,tn=1+ei.tree_index(_i)}if(Qe.Guard.isCharacterDataNode(Ri))(Ai=oi.node_clone(Di))._data=ni.characterData_substringData(Di,Ti,ei.tree_nodeLength(Di)-Ti),ai.mutation_append(Ai,vi),ni.characterData_replaceData(Di,Ti,ei.tree_nodeLength(Di)-Ti,"");else if(Ri!==null){var Ai=oi.node_clone(Ri);ai.mutation_append(Ai,vi);var Oi=hi(St.create_range([Di,Ti],[Ri,ei.tree_nodeLength(Ri)]));ai.mutation_append(Oi,Ai)}try{for(var Ii=Xe(Ji),Mi=Ii.next();!Mi.done;Mi=Ii.next()){var Gi=Mi.value;ai.mutation_append(Gi,vi)}}catch(on){xi={error:on}}finally{try{Mi&&!Mi.done&&(Si=Ii.return)&&Si.call(Ii)}finally{if(xi)throw xi.error}}return Qe.Guard.isCharacterDataNode(ji)?((Ai=oi.node_clone(Fi))._data=ni.characterData_substringData(Fi,0,Ci),ai.mutation_append(Ai,vi),ni.characterData_replaceData(Fi,0,Ci,"")):ji!==null&&(Ai=oi.node_clone(ji),ai.mutation_append(Ai,vi),Oi=hi(St.create_range([ji,0],[Fi,Ci])),ai.mutation_append(Oi,Ai)),mi._start=[en,tn],mi._end=[en,tn],vi}ze.range_collapsed=ri,ze.range_root=ii,ze.range_isContained=ui,ze.range_isPartiallyContained=ci,ze.range_setTheStart=function(mi,di,fi){if(Qe.Guard.isDocumentTypeNode(di))throw new Ze.InvalidNodeTypeError;if(fi>ei.tree_nodeLength(di))throw new Ze.IndexSizeError;var yi=[di,fi];ii(mi)===ei.tree_rootNode(di)&&ti.boundaryPoint_position(yi,mi._end)!==Je.BoundaryPosition.After||(mi._end=yi),mi._start=yi},ze.range_setTheEnd=function(mi,di,fi){if(Qe.Guard.isDocumentTypeNode(di))throw new Ze.InvalidNodeTypeError;if(fi>ei.tree_nodeLength(di))throw new Ze.IndexSizeError;var yi=[di,fi];ii(mi)===ei.tree_rootNode(di)&&ti.boundaryPoint_position(yi,mi._start)!==Je.BoundaryPosition.Before||(mi._start=yi),mi._end=yi},ze.range_select=function(mi,di){var fi=mi._parent;if(fi===null)throw new Ze.InvalidNodeTypeError;var yi=ei.tree_index(mi);di._start=[fi,yi],di._end=[fi,yi+1]},ze.range_extract=hi,ze.range_cloneTheContents=function mi(di){var fi,yi,pi,xi,Si,vi,Di=St.create_documentFragment(di._startNode._nodeDocument);if(ri(di))return Di;var Ti=di._startNode,Fi=di._startOffset,Ci=di._endNode,Ni=di._endOffset;Ti===Ci&&Qe.Guard.isCharacterDataNode(Ti)&&((wi=oi.node_clone(Ti))._data=ni.characterData_substringData(Ti,Fi,Ni-Fi),ai.mutation_append(wi,Di));for(var Ri=Ti;!ei.tree_isAncestorOf(Ci,Ri,!0);){if(Ri._parent===null)throw new Error("Parent node  is null.");Ri=Ri._parent}var Yi=null;if(!ei.tree_isAncestorOf(Ci,Ti,!0))try{for(var ki=Xe(Ri._children),ji=ki.next();!ji.done;ji=ki.next())if(ci(en=ji.value,di)){Yi=en;break}}catch(Mi){fi={error:Mi}}finally{try{ji&&!ji.done&&(yi=ki.return)&&yi.call(ki)}finally{if(fi)throw fi.error}}var Vi=null;if(!ei.tree_isAncestorOf(Ti,Ci,!0))for(var Bi=Ke(Ri._children),Xi=Bi.length-1;Xi>0;Xi--){var en;if(ci(en=Bi[Xi],di)){Vi=en;break}}var tn=[];try{for(var Ji=Xe(Ri._children),Li=Ji.next();!Li.done;Li=Ji.next())if(ui(Ii=Li.value,di)){if(Qe.Guard.isDocumentTypeNode(Ii))throw new Ze.HierarchyRequestError;tn.push(Ii)}}catch(Mi){pi={error:Mi}}finally{try{Li&&!Li.done&&(xi=Ji.return)&&xi.call(Ji)}finally{if(pi)throw pi.error}}if(Qe.Guard.isCharacterDataNode(Yi))(wi=oi.node_clone(Ti))._data=ni.characterData_substringData(Ti,Fi,ei.tree_nodeLength(Ti)-Fi),ai.mutation_append(wi,Di);else if(Yi!==null){var wi=oi.node_clone(Yi);ai.mutation_append(wi,Di);var _i=mi(St.create_range([Ti,Fi],[Yi,ei.tree_nodeLength(Yi)]));ai.mutation_append(_i,wi)}try{for(var Ai=Xe(tn),Oi=Ai.next();!Oi.done;Oi=Ai.next()){var Ii=Oi.value,wi=oi.node_clone(Ii);ai.mutation_append(wi,Di)}}catch(Mi){Si={error:Mi}}finally{try{Oi&&!Oi.done&&(vi=Ai.return)&&vi.call(Ai)}finally{if(Si)throw Si.error}}return Qe.Guard.isCharacterDataNode(Vi)?((wi=oi.node_clone(Ci))._data=ni.characterData_substringData(Ci,0,Ni),ai.mutation_append(wi,Di)):Vi!==null&&(wi=oi.node_clone(Vi),Di.append(wi),_i=hi(St.create_range([Vi,0],[Ci,Ni])),ai.mutation_append(_i,wi)),Di},ze.range_insert=function(mi,di){var fi,yi;if(Qe.Guard.isProcessingInstructionNode(di._startNode)||Qe.Guard.isCommentNode(di._startNode)||Qe.Guard.isTextNode(di._startNode)&&di._startNode._parent===null||di._startNode===mi)throw new Ze.HierarchyRequestError;var pi,xi=null;if(Qe.Guard.isTextNode(di._startNode))xi=di._startNode;else{var Si=0;try{for(var vi=Xe(di._startNode._children),Di=vi.next();!Di.done;Di=vi.next()){var Ti=Di.value;if(Si===di._startOffset){xi=Ti;break}Si++}}catch(Ci){fi={error:Ci}}finally{try{Di&&!Di.done&&(yi=vi.return)&&yi.call(vi)}finally{if(fi)throw fi.error}}}if(xi===null)pi=di._startNode;else{if(xi._parent===null)throw new Error("Parent node is null.");pi=xi._parent}ai.mutation_ensurePreInsertionValidity(mi,pi,xi),Qe.Guard.isTextNode(di._startNode)&&(xi=si.text_split(di._startNode,di._startOffset)),mi===xi&&(xi=mi._nextSibling),mi._parent!==null&&ai.mutation_remove(mi,mi._parent);var Fi=xi===null?ei.tree_nodeLength(pi):ei.tree_index(xi);Qe.Guard.isDocumentFragmentNode(mi)?Fi+=ei.tree_nodeLength(mi):Fi++,ai.mutation_preInsert(mi,pi,xi),ri(di)&&(di._end=[pi,Fi])},ze.range_getContainedNodes=function(mi){var di;return(di={})[Symbol.iterator]=function(){var fi=mi.commonAncestorContainer,yi=ei.tree_getFirstDescendantNode(fi);return{next:function(){for(;yi&&!ui(yi,mi);)yi=ei.tree_getNextDescendantNode(fi,yi);if(yi===null)return{done:!0,value:null};var pi={done:!1,value:yi};return yi=ei.tree_getNextDescendantNode(fi,yi),pi}}},di},ze.range_getPartiallyContainedNodes=function(mi){var di;return(di={})[Symbol.iterator]=function(){var fi=mi.commonAncestorContainer,yi=ei.tree_getFirstDescendantNode(fi);return{next:function(){for(;yi&&!ci(yi,mi);)yi=ei.tree_getNextDescendantNode(fi,yi);if(yi===null)return{done:!0,value:null};var pi={done:!1,value:yi};return yi=ei.tree_getNextDescendantNode(fi,yi),pi}}},di}},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=qe(9);ze.selectors_scopeMatchASelectorsString=function(We,Ke){throw new Xe.NotSupportedError}},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=qe(1),We=qe(105);ze.treeWalker_traverseChildren=function(Ke,Je){for(var Ze=Je?Ke._current._firstChild:Ke._current._lastChild;Ze!==null;){var Qe=We.traversal_filter(Ke,Ze);if(Qe===Xe.FilterResult.Accept)return Ke._current=Ze,Ze;if(Qe===Xe.FilterResult.Skip){var St=Je?Ze._firstChild:Ze._lastChild;if(St!==null){Ze=St;continue}}for(;Ze!==null;){var ei=Je?Ze._nextSibling:Ze._previousSibling;if(ei!==null){Ze=ei;break}var ti=Ze._parent;if(ti===null||ti===Ke._root||ti===Ke._current)return null;Ze=ti}}return null},ze.treeWalker_traverseSiblings=function(Ke,Je){var Ze=Ke._current;if(Ze===Ke._root)return null;for(;;){for(var Qe=Je?Ze._nextSibling:Ze._previousSibling;Qe!==null;){Ze=Qe;var St=We.traversal_filter(Ke,Ze);if(St===Xe.FilterResult.Accept)return Ke._current=Ze,Ze;Qe=Je?Ze._firstChild:Ze._lastChild,St!==Xe.FilterResult.Reject&&Qe!==null||(Qe=Je?Ze._nextSibling:Ze._previousSibling)}if((Ze=Ze._parent)===null||Ze===Ke._root||We.traversal_filter(Ke,Ze)===Xe.FilterResult.Accept)return null}}},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0}),ze.nonEntityAmpersandRegex=/&(?![A-Za-z]+;|#\d+;)/g},function(Ve,ze,qe){qe(89),qe(74);var Xe,We=this&&this.__extends||(Xe=function(ei,ti){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ni,oi){ni.__proto__=oi}||function(ni,oi){for(var ai in oi)oi.hasOwnProperty(ai)&&(ni[ai]=oi[ai])})(ei,ti)},function(ei,ti){function ni(){this.constructor=ei}Xe(ei,ti),ei.prototype=ti===null?Object.create(ti):(ni.prototype=ti.prototype,new ni)});Object.defineProperty(ze,"__esModule",{value:!0});var Ke=qe(2),Je=qe(1),Ze=qe(50),Qe=qe(3),St=function(ei){function ti(ni,oi){var ai=ei.call(this,ni)||this;return ai._indentation={},ai._lengthToLastNewline=0,ai._writerOptions=Ke.applyDefaults(oi,{wellFormed:!1,headless:!1,prettyPrint:!1,indent:"  ",newline:`
`,offset:0,width:0,allowEmptyTags:!1,indentTextOnlyNodes:!1,spaceBeforeSlash:!1}),ai}return We(ti,ei),ti.prototype.serialize=function(ni){return this._refs={suppressPretty:!1,emptyNode:!1,markup:""},ni.nodeType!==Je.NodeType.Document||this._writerOptions.headless||this.declaration(this._builderOptions.version,this._builderOptions.encoding,this._builderOptions.standalone),this.serializeNode(ni,this._writerOptions.wellFormed),this._writerOptions.prettyPrint&&this._refs.markup.slice(-this._writerOptions.newline.length)===this._writerOptions.newline&&(this._refs.markup=this._refs.markup.slice(0,-this._writerOptions.newline.length)),this._refs.markup},ti.prototype.declaration=function(ni,oi,ai){this._beginLine(),this._refs.markup+='<?xml version="'+ni+'"',oi!==void 0&&(this._refs.markup+=' encoding="'+oi+'"'),ai!==void 0&&(this._refs.markup+=' standalone="'+(ai?"yes":"no")+'"'),this._refs.markup+="?>",this._endLine()},ti.prototype.docType=function(ni,oi,ai){this._beginLine(),this._refs.markup+=oi&&ai?"<!DOCTYPE "+ni+' PUBLIC "'+oi+'" "'+ai+'">':oi?"<!DOCTYPE "+ni+' PUBLIC "'+oi+'">':ai?"<!DOCTYPE "+ni+' SYSTEM "'+ai+'">':"<!DOCTYPE "+ni+">",this._endLine()},ti.prototype.openTagBegin=function(ni){this._beginLine(),this._refs.markup+="<"+ni},ti.prototype.openTagEnd=function(ni,oi,ai){if(this._refs.suppressPretty=!1,this._refs.emptyNode=!1,this._writerOptions.prettyPrint&&!oi&&!ai){for(var si=!0,ri=!0,ii=this.currentNode.firstChild,ui=0,ci=0;ii;){if(Qe.Guard.isExclusiveTextNode(ii))ci++;else{if(!Qe.Guard.isCDATASectionNode(ii)){si=!1,ri=!1;break}ui++}ii.data!==""&&(ri=!1),ii=ii.nextSibling}this._refs.suppressPretty=!this._writerOptions.indentTextOnlyNodes&&si&&(ui<=1&&ci===0||ui===0),this._refs.emptyNode=ri}(ai||oi||this._refs.emptyNode)&&this._writerOptions.allowEmptyTags?this._refs.markup+="></"+ni+">":this._refs.markup+=ai?" />":oi||this._refs.emptyNode?this._writerOptions.spaceBeforeSlash?" />":"/>":">",this._endLine()},ti.prototype.closeTag=function(ni){this._refs.emptyNode||(this._beginLine(),this._refs.markup+="</"+ni+">"),this._refs.suppressPretty=!1,this._refs.emptyNode=!1,this._endLine()},ti.prototype.attribute=function(ni,oi){var ai=ni+'="'+oi+'"';this._writerOptions.prettyPrint&&this._writerOptions.width>0&&this._refs.markup.length-this._lengthToLastNewline+1+ai.length>this._writerOptions.width?(this._endLine(),this._beginLine(),this._refs.markup+=this._indent(1)+ai):this._refs.markup+=" "+ai},ti.prototype.text=function(ni){ni!==""&&(this._beginLine(),this._refs.markup+=ni,this._endLine())},ti.prototype.cdata=function(ni){ni!==""&&(this._beginLine(),this._refs.markup+="<![CDATA["+ni+"]]>",this._endLine())},ti.prototype.comment=function(ni){this._beginLine(),this._refs.markup+="<!--"+ni+"-->",this._endLine()},ti.prototype.instruction=function(ni,oi){this._beginLine(),this._refs.markup+="<?"+(oi===""?ni:ni+" "+oi)+"?>",this._endLine()},ti.prototype._beginLine=function(){this._writerOptions.prettyPrint&&!this._refs.suppressPretty&&(this._refs.markup+=this._indent(this._writerOptions.offset+this.level))},ti.prototype._endLine=function(){this._writerOptions.prettyPrint&&!this._refs.suppressPretty&&(this._refs.markup+=this._writerOptions.newline,this._lengthToLastNewline=this._refs.markup.length)},ti.prototype._indent=function(ni){if(ni<=0)return"";if(this._indentation[ni]!==void 0)return this._indentation[ni];var oi=this._writerOptions.indent.repeat(ni);return this._indentation[ni]=oi,oi},ti}(Ze.BaseWriter);ze.XMLWriter=St},function(Ve,ze,qe){var Xe=qe(47),We=qe(35);Ve.exports="".repeat||function(Ke){var Je=String(We(this)),Ze="",Qe=Xe(Ke);if(Qe<0||Qe==1/0)throw RangeError("Wrong number of repetitions");for(;Qe>0;(Qe>>>=1)&&(Je+=Je))1&Qe&&(Ze+=Je);return Ze}},function(Ve,ze,qe){qe(31),qe(32),qe(33),qe(19),qe(178),qe(20),qe(22),qe(23);var Xe,We=this&&this.__extends||(Xe=function(St,ei){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ti,ni){ti.__proto__=ni}||function(ti,ni){for(var oi in ni)ni.hasOwnProperty(oi)&&(ti[oi]=ni[oi])})(St,ei)},function(St,ei){function ti(){this.constructor=St}Xe(St,ei),St.prototype=ei===null?Object.create(ei):(ti.prototype=ei.prototype,new ti)}),Ke=this&&this.__values||function(St){var ei=typeof Symbol=="function"&&Symbol.iterator,ti=ei&&St[ei],ni=0;if(ti)return ti.call(St);if(St&&typeof St.length=="number")return{next:function(){return St&&ni>=St.length&&(St=void 0),{value:St&&St[ni++],done:!St}}};throw new TypeError(ei?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ze,"__esModule",{value:!0});var Je=qe(67),Ze=qe(2),Qe=function(St){function ei(ti,ni){var oi=St.call(this,ti)||this;return oi._writerOptions=Ze.applyDefaults(ni,{wellFormed:!1,prettyPrint:!1,indent:"  ",newline:`
`,offset:0,group:!1,verbose:!1}),oi}return We(ei,St),ei.prototype.serialize=function(ti){var ni=Ze.applyDefaults(this._writerOptions,{format:"object",wellFormed:!1}),oi=new Je.ObjectWriter(this._builderOptions,ni).serialize(ti);return this._beginLine(this._writerOptions,0)+this._convertObject(oi,this._writerOptions)},ei.prototype._convertObject=function(ti,ni,oi){var ai,si,ri=this;oi===void 0&&(oi=0);var ii="",ui=this._isLeafNode(ti);if(Ze.isArray(ti)){ii+="[";var ci=ti.length,hi=0;try{for(var mi=Ke(ti),di=mi.next();!di.done;di=mi.next()){var fi=di.value;ii+=this._endLine(ni,oi+1)+this._beginLine(ni,oi+1)+this._convertObject(fi,ni,oi+1),hi<ci-1&&(ii+=","),hi++}}catch(xi){ai={error:xi}}finally{try{di&&!di.done&&(si=mi.return)&&si.call(mi)}finally{if(ai)throw ai.error}}ii+=this._endLine(ni,oi)+this._beginLine(ni,oi),ii+="]"}else if(Ze.isObject(ti)){ii+="{";var yi=Ze.objectLength(ti),pi=0;Ze.forEachObject(ti,function(xi,Si){ui&&ni.prettyPrint?ii+=" ":ii+=ri._endLine(ni,oi+1)+ri._beginLine(ni,oi+1),ii+=ri._key(xi),ni.prettyPrint&&(ii+=" "),ii+=ri._convertObject(Si,ni,oi+1),pi<yi-1&&(ii+=","),pi++},this),ui&&ni.prettyPrint?ii+=" ":ii+=this._endLine(ni,oi)+this._beginLine(ni,oi),ii+="}"}else ii+=this._val(ti);return ii},ei.prototype._beginLine=function(ti,ni){if(!ti.prettyPrint)return"";var oi=ti.offset+ni+1;return oi>0?new Array(oi).join(ti.indent):""},ei.prototype._endLine=function(ti,ni){return ti.prettyPrint?ti.newline:""},ei.prototype._key=function(ti){return'"'+ti+'":'},ei.prototype._val=function(ti){return JSON.stringify(ti)},ei.prototype._isLeafNode=function(ti){return this._descendantCount(ti)<=1},ei.prototype._descendantCount=function(ti,ni){var oi=this;return ni===void 0&&(ni=0),Ze.isArray(ti)?Ze.forEachArray(ti,function(ai){return ni+=oi._descendantCount(ai,ni)},this):Ze.isObject(ti)?Ze.forEachObject(ti,function(ai,si){return ni+=oi._descendantCount(si,ni)},this):ni++,ni},ei}(qe(50).BaseWriter);ze.JSONWriter=Qe},function(Ve,ze,qe){qe(31),qe(32),qe(33),qe(19),qe(178),qe(89),qe(20),qe(22),qe(23);var Xe,We=this&&this.__extends||(Xe=function(St,ei){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ti,ni){ti.__proto__=ni}||function(ti,ni){for(var oi in ni)ni.hasOwnProperty(oi)&&(ti[oi]=ni[oi])})(St,ei)},function(St,ei){function ti(){this.constructor=St}Xe(St,ei),St.prototype=ei===null?Object.create(ei):(ti.prototype=ei.prototype,new ti)}),Ke=this&&this.__values||function(St){var ei=typeof Symbol=="function"&&Symbol.iterator,ti=ei&&St[ei],ni=0;if(ti)return ti.call(St);if(St&&typeof St.length=="number")return{next:function(){return St&&ni>=St.length&&(St=void 0),{value:St&&St[ni++],done:!St}}};throw new TypeError(ei?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ze,"__esModule",{value:!0});var Je=qe(67),Ze=qe(2),Qe=function(St){function ei(ti,ni){var oi=St.call(this,ti)||this;if(oi._writerOptions=Ze.applyDefaults(ni,{wellFormed:!1,indent:"  ",newline:`
`,offset:0,group:!1,verbose:!1}),oi._writerOptions.indent.length<2)throw new Error("YAML indententation string must be at least two characters long.");if(oi._writerOptions.offset<0)throw new Error("YAML offset should be zero or a positive number.");return oi}return We(ei,St),ei.prototype.serialize=function(ti){var ni=Ze.applyDefaults(this._writerOptions,{format:"object",wellFormed:!1}),oi=new Je.ObjectWriter(this._builderOptions,ni).serialize(ti),ai=this._beginLine(this._writerOptions,0)+"---"+this._endLine(this._writerOptions)+this._convertObject(oi,this._writerOptions,0);return ai.slice(-this._writerOptions.newline.length)===this._writerOptions.newline&&(ai=ai.slice(0,-this._writerOptions.newline.length)),ai},ei.prototype._convertObject=function(ti,ni,oi,ai){var si,ri,ii=this;ai===void 0&&(ai=!1);var ui="";if(Ze.isArray(ti))try{for(var ci=Ke(ti),hi=ci.next();!hi.done;hi=ci.next()){var mi=hi.value;ui+=this._beginLine(ni,oi,!0),Ze.isObject(mi)?Ze.isEmpty(mi)?ui+='""'+this._endLine(ni):ui+=this._convertObject(mi,ni,oi,!0):ui+=this._val(mi)+this._endLine(ni)}}catch(di){si={error:di}}finally{try{hi&&!hi.done&&(ri=ci.return)&&ri.call(ci)}finally{if(si)throw si.error}}else Ze.forEachObject(ti,function(di,fi){ai?(ui+=ii._key(di),ai=!1):ui+=ii._beginLine(ni,oi)+ii._key(di),Ze.isObject(fi)?Ze.isEmpty(fi)?ui+=' ""'+ii._endLine(ni):ui+=ii._endLine(ni)+ii._convertObject(fi,ni,oi+1):ui+=" "+ii._val(fi)+ii._endLine(ni)},this);return ui},ei.prototype._beginLine=function(ti,ni,oi){oi===void 0&&(oi=!1);var ai=ti.offset+ni+1,si=new Array(ai).join(ti.indent);return oi?si.substr(0,si.length-2)+"-"+si.substr(-1,1):si},ei.prototype._endLine=function(ti){return ti.newline},ei.prototype._key=function(ti){return'"'+ti+'":'},ei.prototype._val=function(ti){return JSON.stringify(ti)},ei}(qe(50).BaseWriter);ze.YAMLWriter=Qe},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0}),qe(110).dom.setFeatures(!0);var Xe=qe(110);ze.DOMImplementation=Xe.DOMImplementation;var We=qe(272);ze.DOMParser=We.DOMParser;var Ke=qe(275);ze.XMLSerializer=Ke.XMLSerializer},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=qe(3),We=qe(0),Ke=function(){function Je(){}return Je.prototype.before=function(){for(var Ze=[],Qe=0;Qe<arguments.length;Qe++)Ze[Qe]=arguments[Qe];var St=Xe.Cast.asNode(this),ei=St._parent;if(ei!==null){for(var ti=St._previousSibling,ni=!0;ni&&ti;){ni=!1;for(var oi=0;oi<Ze.length;oi++){var ai=Ze[oi];if(ai===ti){ti=ti._previousSibling,ni=!0;break}}}var si=We.parentNode_convertNodesIntoANode(Ze,St._nodeDocument);ti=ti===null?ei._firstChild:ti._nextSibling,We.mutation_preInsert(si,ei,ti)}},Je.prototype.after=function(){for(var Ze=[],Qe=0;Qe<arguments.length;Qe++)Ze[Qe]=arguments[Qe];var St=Xe.Cast.asNode(this),ei=St._parent;if(ei){for(var ti=St._nextSibling,ni=!0;ni&&ti;){ni=!1;for(var oi=0;oi<Ze.length;oi++){var ai=Ze[oi];if(ai===ti){ti=ti._nextSibling,ni=!0;break}}}var si=We.parentNode_convertNodesIntoANode(Ze,St._nodeDocument);We.mutation_preInsert(si,ei,ti)}},Je.prototype.replaceWith=function(){for(var Ze=[],Qe=0;Qe<arguments.length;Qe++)Ze[Qe]=arguments[Qe];var St=Xe.Cast.asNode(this),ei=St._parent;if(ei){for(var ti=St._nextSibling,ni=!0;ni&&ti;){ni=!1;for(var oi=0;oi<Ze.length;oi++){var ai=Ze[oi];if(ai===ti){ti=ti._nextSibling,ni=!0;break}}}var si=We.parentNode_convertNodesIntoANode(Ze,St._nodeDocument);St._parent===ei?We.mutation_replace(St,si,ei):We.mutation_preInsert(si,ei,ti)}},Je.prototype.remove=function(){var Ze=Xe.Cast.asNode(this),Qe=Ze._parent;Qe&&We.mutation_remove(Ze,Qe)},Je}();ze.ChildNodeImpl=Ke},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=function(){};ze.DocumentOrShadowRootImpl=Xe},function(Ve,ze,qe){var Xe=this&&this.__values||function(Qe){var St=typeof Symbol=="function"&&Symbol.iterator,ei=St&&Qe[St],ti=0;if(ei)return ei.call(Qe);if(Qe&&typeof Qe.length=="number")return{next:function(){return Qe&&ti>=Qe.length&&(Qe=void 0),{value:Qe&&Qe[ti++],done:!Qe}}};throw new TypeError(St?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ze,"__esModule",{value:!0});var We=qe(6),Ke=qe(3),Je=qe(7),Ze=function(){function Qe(St){this._nodeList=[],this._recordQueue=[],this._callback=St;var ei=We.dom.window;Je.set.append(ei._mutationObservers,this)}return Qe.prototype.observe=function(St,ei){var ti,ni;if((ei=ei||{childList:!1,subtree:!1}).attributeOldValue===void 0&&ei.attributeFilter===void 0||ei.attributes!==void 0||(ei.attributes=!0),ei.characterDataOldValue!==void 0&&ei.characterData===void 0&&(ei.characterData=!0),!ei.childList&&!ei.attributes&&!ei.characterData)throw new TypeError;if(ei.attributeOldValue&&!ei.attributes)throw new TypeError;if(ei.attributeFilter!==void 0&&!ei.attributes)throw new TypeError;if(ei.characterDataOldValue&&!ei.characterData)throw new TypeError;var oi=!1,ai=ei,si=function(ci){var hi,mi;if(ci.observer===ri){oi=!0;try{for(var di=(hi=void 0,Xe(ri._nodeList)),fi=di.next();!fi.done;fi=di.next()){var yi=fi.value;Je.list.remove(yi._registeredObserverList,function(pi){return Ke.Guard.isTransientRegisteredObserver(pi)&&pi.source===ci})}}catch(pi){hi={error:pi}}finally{try{fi&&!fi.done&&(mi=di.return)&&mi.call(di)}finally{if(hi)throw hi.error}}ci.options=ai}},ri=this;try{for(var ii=Xe(St._registeredObserverList),ui=ii.next();!ui.done;ui=ii.next())si(ui.value)}catch(ci){ti={error:ci}}finally{try{ui&&!ui.done&&(ni=ii.return)&&ni.call(ii)}finally{if(ti)throw ti.error}}oi||(St._registeredObserverList.push({observer:this,options:ei}),this._nodeList.push(St))},Qe.prototype.disconnect=function(){var St,ei,ti=this;try{for(var ni=Xe(this._nodeList),oi=ni.next();!oi.done;oi=ni.next()){var ai=oi.value;Je.list.remove(ai._registeredObserverList,function(si){return si.observer===ti})}}catch(si){St={error:si}}finally{try{oi&&!oi.done&&(ei=ni.return)&&ei.call(ni)}finally{if(St)throw St.error}}this._recordQueue=[]},Qe.prototype.takeRecords=function(){var St=this._recordQueue;return this._recordQueue=[],St},Qe}();ze.MutationObserverImpl=Ze},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=qe(3),We=function(){function Ke(){}return Object.defineProperty(Ke.prototype,"previousElementSibling",{get:function(){for(var Je=Xe.Cast.asNode(this)._previousSibling;Je;){if(Xe.Guard.isElementNode(Je))return Je;Je=Je._previousSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(Ke.prototype,"nextElementSibling",{get:function(){for(var Je=Xe.Cast.asNode(this)._nextSibling;Je;){if(Xe.Guard.isElementNode(Je))return Je;Je=Je._nextSibling}return null},enumerable:!0,configurable:!0}),Ke}();ze.NonDocumentTypeChildNodeImpl=We},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=qe(3),We=qe(0),Ke=function(){function Je(){}return Je.prototype.getElementById=function(Ze){for(var Qe=We.tree_getFirstDescendantNode(Xe.Cast.asNode(this),!1,!1,function(St){return Xe.Guard.isElementNode(St)});Qe!==null;){if(Qe._uniqueIdentifier===Ze)return Qe;Qe=We.tree_getNextDescendantNode(Xe.Cast.asNode(this),Qe,!1,!1,function(St){return Xe.Guard.isElementNode(St)})}return null},Je}();ze.NonElementParentNodeImpl=Ke},function(Ve,ze,qe){var Xe=this&&this.__values||function(Ze){var Qe=typeof Symbol=="function"&&Symbol.iterator,St=Qe&&Ze[Qe],ei=0;if(St)return St.call(Ze);if(Ze&&typeof Ze.length=="number")return{next:function(){return Ze&&ei>=Ze.length&&(Ze=void 0),{value:Ze&&Ze[ei++],done:!Ze}}};throw new TypeError(Qe?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ze,"__esModule",{value:!0});var We=qe(3),Ke=qe(0),Je=function(){function Ze(){}return Object.defineProperty(Ze.prototype,"children",{get:function(){return Ke.create_htmlCollection(We.Cast.asNode(this))},enumerable:!0,configurable:!0}),Object.defineProperty(Ze.prototype,"firstElementChild",{get:function(){for(var Qe=We.Cast.asNode(this)._firstChild;Qe;){if(We.Guard.isElementNode(Qe))return Qe;Qe=Qe._nextSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(Ze.prototype,"lastElementChild",{get:function(){for(var Qe=We.Cast.asNode(this)._lastChild;Qe;){if(We.Guard.isElementNode(Qe))return Qe;Qe=Qe._previousSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(Ze.prototype,"childElementCount",{get:function(){var Qe,St,ei=0;try{for(var ti=Xe(We.Cast.asNode(this)._children),ni=ti.next();!ni.done;ni=ti.next()){var oi=ni.value;We.Guard.isElementNode(oi)&&ei++}}catch(ai){Qe={error:ai}}finally{try{ni&&!ni.done&&(St=ti.return)&&St.call(ti)}finally{if(Qe)throw Qe.error}}return ei},enumerable:!0,configurable:!0}),Ze.prototype.prepend=function(){for(var Qe=[],St=0;St<arguments.length;St++)Qe[St]=arguments[St];var ei=We.Cast.asNode(this),ti=Ke.parentNode_convertNodesIntoANode(Qe,ei._nodeDocument);Ke.mutation_preInsert(ti,ei,ei._firstChild)},Ze.prototype.append=function(){for(var Qe=[],St=0;St<arguments.length;St++)Qe[St]=arguments[St];var ei=We.Cast.asNode(this),ti=Ke.parentNode_convertNodesIntoANode(Qe,ei._nodeDocument);Ke.mutation_append(ti,ei)},Ze.prototype.querySelector=function(Qe){var St=We.Cast.asNode(this),ei=Ke.selectors_scopeMatchASelectorsString(Qe,St);return ei.length===0?null:ei[0]},Ze.prototype.querySelectorAll=function(Qe){var St=We.Cast.asNode(this),ei=Ke.selectors_scopeMatchASelectorsString(Qe,St);return Ke.create_nodeListStatic(St,ei)},Ze}();ze.ParentNodeImpl=Je},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=qe(0),We=function(){function Ke(){}return Object.defineProperty(Ke.prototype,"_name",{get:function(){return this.__name||""},set:function(Je){this.__name=Je},enumerable:!0,configurable:!0}),Object.defineProperty(Ke.prototype,"_assignedSlot",{get:function(){return this.__assignedSlot||null},set:function(Je){this.__assignedSlot=Je},enumerable:!0,configurable:!0}),Object.defineProperty(Ke.prototype,"assignedSlot",{get:function(){return Xe.shadowTree_findASlot(this,!0)},enumerable:!0,configurable:!0}),Ke}();ze.SlotableImpl=We},function(Ve,ze,qe){var Xe,We=this&&this.__extends||(Xe=function(St,ei){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ti,ni){ti.__proto__=ni}||function(ti,ni){for(var oi in ni)ni.hasOwnProperty(oi)&&(ti[oi]=ni[oi])})(St,ei)},function(St,ei){function ti(){this.constructor=St}Xe(St,ei),St.prototype=ei===null?Object.create(ei):(ti.prototype=ei.prototype,new ti)});Object.defineProperty(ze,"__esModule",{value:!0});var Ke=qe(102),Je=qe(9),Ze=qe(3),Qe=function(St){function ei(ti){var ni=St.call(this)||this;if(Ze.Guard.isDocumentTypeNode(ti.startContainer)||Ze.Guard.isAttrNode(ti.startContainer)||Ze.Guard.isDocumentTypeNode(ti.endContainer)||Ze.Guard.isAttrNode(ti.endContainer))throw new Je.InvalidNodeTypeError;return ni._start=[ti.startContainer,ti.startOffset],ni._end=[ti.endContainer,ti.endOffset],ni}return We(ei,St),ei}(Ke.AbstractRangeImpl);ze.StaticRangeImpl=Qe},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=qe(273);ze.DOMParser=Xe.DOMParserImpl},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=qe(0),We=qe(274),Ke=function(){function Je(){}return Je.prototype.parseFromString=function(Ze,Qe){if(Qe==="text/html")throw new Error("HTML parser not implemented.");try{return(St=new We.XMLParserImpl().parse(Ze))._contentType=Qe,St}catch(oi){var St,ei="http://www.mozilla.org/newlayout/xml/parsererror.xml",ti=(St=Xe.create_xmlDocument()).createElementNS(ei,"parsererror"),ni=St.createElementNS(ei,"error");return ni.setAttribute("message",oi.message),ti.appendChild(ni),St.appendChild(ti),St}},Je}();ze.DOMParserImpl=Ke},function(Ve,ze,qe){var Xe=this&&this.__read||function(ti,ni){var oi=typeof Symbol=="function"&&ti[Symbol.iterator];if(!oi)return ti;var ai,si,ri=oi.call(ti),ii=[];try{for(;(ni===void 0||ni-- >0)&&!(ai=ri.next()).done;)ii.push(ai.value)}catch(ui){si={error:ui}}finally{try{ai&&!ai.done&&(oi=ri.return)&&oi.call(ri)}finally{if(si)throw si.error}}return ii},We=this&&this.__values||function(ti){var ni=typeof Symbol=="function"&&Symbol.iterator,oi=ni&&ti[ni],ai=0;if(oi)return oi.call(ti);if(ti&&typeof ti.length=="number")return{next:function(){return ti&&ai>=ti.length&&(ti=void 0),{value:ti&&ti[ai++],done:!ti}}};throw new TypeError(ni?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ze,"__esModule",{value:!0});var Ke=qe(180),Je=qe(111),Ze=qe(7),Qe=qe(0),St=qe(69),ei=function(){function ti(){}return ti.prototype.parse=function(ni){for(var oi,ai,si,ri,ii=new Ke.XMLStringLexer(ni,{skipWhitespaceOnlyText:!0}),ui=Qe.create_document(),ci=ui,hi=ii.nextToken();hi.type!==Je.TokenType.EOF;){switch(hi.type){case Je.TokenType.Declaration:var mi=hi;if(mi.version!=="1.0")throw new Error("Invalid xml version: "+mi.version);break;case Je.TokenType.DocType:var di=hi;if(!Qe.xml_isPubidChar(di.pubId))throw new Error("DocType public identifier does not match PubidChar construct.");if(!Qe.xml_isLegalChar(di.sysId)||di.sysId.indexOf('"')!==-1&&di.sysId.indexOf("'")!==-1)throw new Error("DocType system identifier contains invalid characters.");ci.appendChild(ui.implementation.createDocumentType(di.name,di.pubId,di.sysId));break;case Je.TokenType.CDATA:var fi=hi;if(!Qe.xml_isLegalChar(fi.data)||fi.data.indexOf("]]>")!==-1)throw new Error("CDATA contains invalid characters.");ci.appendChild(ui.createCDATASection(fi.data));break;case Je.TokenType.Comment:var yi=hi;if(!Qe.xml_isLegalChar(yi.data)||yi.data.indexOf("--")!==-1||yi.data.endsWith("-"))throw new Error("Comment data contains invalid characters.");ci.appendChild(ui.createComment(yi.data));break;case Je.TokenType.PI:var pi=hi;if(pi.target.indexOf(":")!==-1||/^xml$/i.test(pi.target))throw new Error("Processing instruction target contains invalid characters.");if(!Qe.xml_isLegalChar(pi.data)||pi.data.indexOf("?>")!==-1)throw new Error("Processing instruction data contains invalid characters.");ci.appendChild(ui.createProcessingInstruction(pi.target,pi.data));break;case Je.TokenType.Text:var xi=hi;if(!Qe.xml_isLegalChar(xi.data))throw new Error("Text data contains invalid characters.");ci.appendChild(ui.createTextNode(this._decodeText(xi.data)));break;case Je.TokenType.Element:var Si=hi,vi=Xe(Qe.namespace_extractQName(Si.name),2),Di=vi[0],Ti=vi[1];if(Ti.indexOf(":")!==-1||!Qe.xml_isName(Ti))throw new Error("Node local name contains invalid characters.");if(Di==="xmlns")throw new Error("An element cannot have the 'xmlns' prefix.");var Fi=ci.lookupNamespaceURI(Di),Ci={};try{for(var Ni=(oi=void 0,We(Si.attributes)),Ri=Ni.next();!Ri.done;Ri=Ni.next()){var Yi=Xe(Ri.value,2),ki=Yi[0],ji=Yi[1];if(ki==="xmlns")Fi=ji;else{var Vi=Xe(Qe.namespace_extractQName(ki),2),Bi=Vi[0],Xi=Vi[1];Bi==="xmlns"&&(Xi===Di&&(Fi=ji),Ci[Xi]=ji)}}}catch(Oi){oi={error:Oi}}finally{try{Ri&&!Ri.done&&(ai=Ni.return)&&ai.call(Ni)}finally{if(oi)throw oi.error}}var en=Fi!==null?ui.createElementNS(Fi,Si.name):ui.createElement(Si.name);ci.appendChild(en);var tn=new St.LocalNameSet;try{for(var Ji=(si=void 0,We(Si.attributes)),Li=Ji.next();!Li.done;Li=Ji.next()){var wi=Xe(Li.value,2),_i=(ki=wi[0],ji=wi[1],Xe(Qe.namespace_extractQName(ki),2)),Ai=(Bi=_i[0],Xi=_i[1],null);if(Bi==="xmlns"||Bi===null&&Xi==="xmlns"?Ai=Ze.namespace.XMLNS:(Ai=en.lookupNamespaceURI(Bi))!==null&&en.isDefaultNamespace(Ai)?Ai=null:Ai===null&&Bi!==null&&(Ai=Ci[Bi]||null),tn.has(Ai,Xi))throw new Error("Element contains duplicate attributes.");if(tn.set(Ai,Xi),Ai===Ze.namespace.XMLNS&&ji===Ze.namespace.XMLNS)throw new Error("XMLNS namespace is reserved.");if(Xi.indexOf(":")!==-1||!Qe.xml_isName(Xi))throw new Error("Attribute local name contains invalid characters.");if(Bi==="xmlns"&&ji==="")throw new Error("Empty XML namespace is not allowed.");Ai!==null?en.setAttributeNS(Ai,ki,this._decodeAttributeValue(ji)):en.setAttribute(ki,this._decodeAttributeValue(ji))}}catch(Oi){si={error:Oi}}finally{try{Li&&!Li.done&&(ri=Ji.return)&&ri.call(Ji)}finally{if(si)throw si.error}}Si.selfClosing||(ci=en);break;case Je.TokenType.ClosingTag:if(hi.name!==ci.nodeName)throw new Error("Closing tag name does not match opening tag name.");ci._parent&&(ci=ci._parent)}hi=ii.nextToken()}return ui},ti.prototype._decodeText=function(ni){return ni==null?ni:ni.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},ti.prototype._decodeAttributeValue=function(ni){return ni==null?ni:ni.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},ti}();ze.XMLParserImpl=ei},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=qe(276);ze.XMLSerializer=Xe.XMLSerializerImpl},function(Ve,ze,qe){var Xe=this&&this.__values||function(ti){var ni=typeof Symbol=="function"&&Symbol.iterator,oi=ni&&ti[ni],ai=0;if(oi)return oi.call(ti);if(ti&&typeof ti.length=="number")return{next:function(){return ti&&ai>=ti.length&&(ti=void 0),{value:ti&&ti[ai++],done:!ti}}};throw new TypeError(ni?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ze,"__esModule",{value:!0});var We=qe(1),Ke=qe(69),Je=qe(95),Ze=qe(9),Qe=qe(7),St=qe(0),ei=function(){function ti(){}return ti.prototype.serializeToString=function(ni){return this._xmlSerialization(ni,!1)},ti.prototype._xmlSerialization=function(ni,oi){if(ni._nodeDocument===void 0||ni._nodeDocument._hasNamespaces){var ai=new Je.NamespacePrefixMap;ai.set("xml",Qe.namespace.XML);try{return this._serializeNodeNS(ni,null,ai,{value:1},oi)}catch{throw new Ze.InvalidStateError}}else try{return this._serializeNode(ni,oi)}catch{throw new Ze.InvalidStateError}},ti.prototype._serializeNodeNS=function(ni,oi,ai,si,ri){switch(ni.nodeType){case We.NodeType.Element:return this._serializeElementNS(ni,oi,ai,si,ri);case We.NodeType.Document:return this._serializeDocumentNS(ni,oi,ai,si,ri);case We.NodeType.Comment:return this._serializeComment(ni,ri);case We.NodeType.Text:return this._serializeText(ni,ri);case We.NodeType.DocumentFragment:return this._serializeDocumentFragmentNS(ni,oi,ai,si,ri);case We.NodeType.DocumentType:return this._serializeDocumentType(ni,ri);case We.NodeType.ProcessingInstruction:return this._serializeProcessingInstruction(ni,ri);case We.NodeType.CData:return this._serializeCData(ni,ri);default:throw new Error("Unknown node type: "+ni.nodeType)}},ti.prototype._serializeNode=function(ni,oi){switch(ni.nodeType){case We.NodeType.Element:return this._serializeElement(ni,oi);case We.NodeType.Document:return this._serializeDocument(ni,oi);case We.NodeType.Comment:return this._serializeComment(ni,oi);case We.NodeType.Text:return this._serializeText(ni,oi);case We.NodeType.DocumentFragment:return this._serializeDocumentFragment(ni,oi);case We.NodeType.DocumentType:return this._serializeDocumentType(ni,oi);case We.NodeType.ProcessingInstruction:return this._serializeProcessingInstruction(ni,oi);case We.NodeType.CData:return this._serializeCData(ni,oi);default:throw new Error("Unknown node type: "+ni.nodeType)}},ti.prototype._serializeElementNS=function(ni,oi,ai,si,ri){var ii,ui;if(ri&&(ni.localName.indexOf(":")!==-1||!St.xml_isName(ni.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var ci="<",hi="",mi=!1,di=!1,fi=ai.copy(),yi={},pi=this._recordNamespaceInformation(ni,fi,yi),xi=oi,Si=ni.namespaceURI;if(xi===Si)pi!==null&&(di=!0),ci+=hi=Si===Qe.namespace.XML?"xml:"+ni.localName:ni.localName;else{var vi=ni.prefix,Di=null;if(vi===null&&Si===pi||(Di=fi.get(vi,Si)),vi==="xmlns"){if(ri)throw new Error("An element cannot have the 'xmlns' prefix (well-formed required).");Di=vi}Di!==null?(hi=Di+":"+ni.localName,pi!==null&&pi!==Qe.namespace.XML&&(xi=pi||null),ci+=hi):vi!==null?(vi in yi&&(vi=this._generatePrefix(Si,fi,si)),fi.set(vi,Si),ci+=hi+=vi+":"+ni.localName,ci+=" xmlns:"+vi+'="'+this._serializeAttributeValue(Si,ri)+'"',pi!==null&&(xi=pi||null)):pi===null||pi!==null&&pi!==Si?(di=!0,xi=Si,ci+=hi+=ni.localName,ci+=' xmlns="'+this._serializeAttributeValue(Si,ri)+'"'):(xi=Si,ci+=hi+=ni.localName)}ci+=this._serializeAttributesNS(ni,fi,si,yi,di,ri);var Ti=Si===Qe.namespace.HTML;if(Ti&&ni.childNodes.length===0&&ti._VoidElementNames.has(ni.localName)?(ci+=" /",mi=!0):Ti||ni.childNodes.length!==0||(ci+="/",mi=!0),ci+=">",mi)return ci;if(!(Ti&&ni.localName==="template"))try{for(var Fi=Xe(ni._children||ni.childNodes),Ci=Fi.next();!Ci.done;Ci=Fi.next()){var Ni=Ci.value;ci+=this._serializeNodeNS(Ni,xi,fi,si,ri)}}catch(Ri){ii={error:Ri}}finally{try{Ci&&!Ci.done&&(ui=Fi.return)&&ui.call(Fi)}finally{if(ii)throw ii.error}}return ci+="</"+hi+">"},ti.prototype._serializeDocumentNS=function(ni,oi,ai,si,ri){var ii,ui;if(ri&&ni.documentElement===null)throw new Error("Missing document element (well-formed required).");var ci="";try{for(var hi=Xe(ni._children||ni.childNodes),mi=hi.next();!mi.done;mi=hi.next()){var di=mi.value;ci+=this._serializeNodeNS(di,oi,ai,si,ri)}}catch(fi){ii={error:fi}}finally{try{mi&&!mi.done&&(ui=hi.return)&&ui.call(hi)}finally{if(ii)throw ii.error}}return ci},ti.prototype._serializeComment=function(ni,oi){if(oi&&(!St.xml_isLegalChar(ni.data)||ni.data.indexOf("--")!==-1||ni.data.endsWith("-")))throw new Error("Comment data contains invalid characters (well-formed required).");return"<!--"+ni.data+"-->"},ti.prototype._serializeText=function(ni,oi){if(oi&&!St.xml_isLegalChar(ni.data))throw new Error("Text data contains invalid characters (well-formed required).");for(var ai="",si=0;si<ni.data.length;si++){var ri=ni.data[si];ai+=ri==="&"?"&amp;":ri==="<"?"&lt;":ri===">"?"&gt;":ri}return ai},ti.prototype._serializeDocumentFragmentNS=function(ni,oi,ai,si,ri){var ii,ui,ci="";try{for(var hi=Xe(ni._children||ni.childNodes),mi=hi.next();!mi.done;mi=hi.next()){var di=mi.value;ci+=this._serializeNodeNS(di,oi,ai,si,ri)}}catch(fi){ii={error:fi}}finally{try{mi&&!mi.done&&(ui=hi.return)&&ui.call(hi)}finally{if(ii)throw ii.error}}return ci},ti.prototype._serializeDocumentType=function(ni,oi){if(oi&&!St.xml_isPubidChar(ni.publicId))throw new Error("DocType public identifier does not match PubidChar construct (well-formed required).");if(oi&&(!St.xml_isLegalChar(ni.systemId)||ni.systemId.indexOf('"')!==-1&&ni.systemId.indexOf("'")!==-1))throw new Error("DocType system identifier contains invalid characters (well-formed required).");return ni.publicId&&ni.systemId?"<!DOCTYPE "+ni.name+' PUBLIC "'+ni.publicId+'" "'+ni.systemId+'">':ni.publicId?"<!DOCTYPE "+ni.name+' PUBLIC "'+ni.publicId+'">':ni.systemId?"<!DOCTYPE "+ni.name+' SYSTEM "'+ni.systemId+'">':"<!DOCTYPE "+ni.name+">"},ti.prototype._serializeProcessingInstruction=function(ni,oi){if(oi&&(ni.target.indexOf(":")!==-1||/^xml$/i.test(ni.target)))throw new Error("Processing instruction target contains invalid characters (well-formed required).");if(oi&&(!St.xml_isLegalChar(ni.data)||ni.data.indexOf("?>")!==-1))throw new Error("Processing instruction data contains invalid characters (well-formed required).");return"<?"+(ni.data===""?ni.target:ni.target+" "+ni.data)+"?>"},ti.prototype._serializeCData=function(ni,oi){if(oi&&ni.data.indexOf("]]>")!==-1)throw new Error("CDATA contains invalid characters (well-formed required).");return"<![CDATA["+ni.data+"]]>"},ti.prototype._serializeAttributesNS=function(ni,oi,ai,si,ri,ii){var ui,ci,hi="",mi=ii?new Ke.LocalNameSet:void 0;try{for(var di=Xe(ni.attributes),fi=di.next();!fi.done;fi=di.next()){var yi=fi.value;if(ri||ii||yi.namespaceURI!==null){if(ii&&mi&&mi.has(yi.namespaceURI,yi.localName))throw new Error("Element contains duplicate attributes (well-formed required).");ii&&mi&&mi.set(yi.namespaceURI,yi.localName);var pi=yi.namespaceURI,xi=null;if(pi!==null)if(xi=oi.get(yi.prefix,pi),pi===Qe.namespace.XMLNS){if(yi.value===Qe.namespace.XML||yi.prefix===null&&ri||yi.prefix!==null&&(!(yi.localName in si)||si[yi.localName]!==yi.value)&&oi.has(yi.localName,yi.value))continue;if(ii&&yi.value===Qe.namespace.XMLNS)throw new Error("XMLNS namespace is reserved (well-formed required).");if(ii&&yi.value==="")throw new Error("Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required).");yi.prefix==="xmlns"&&(xi="xmlns")}else xi===null&&(hi+=" xmlns:"+(xi=yi.prefix===null||oi.hasPrefix(yi.prefix)&&!oi.has(yi.prefix,pi)?this._generatePrefix(pi,oi,ai):yi.prefix)+'="'+this._serializeAttributeValue(pi,ii)+'"');if(hi+=" ",xi!==null&&(hi+=xi+":"),ii&&(yi.localName.indexOf(":")!==-1||!St.xml_isName(yi.localName)||yi.localName==="xmlns"&&pi===null))throw new Error("Attribute local name contains invalid characters (well-formed required).");hi+=yi.localName+'="'+this._serializeAttributeValue(yi.value,ii)+'"'}else hi+=" "+yi.localName+'="'+this._serializeAttributeValue(yi.value,ii)+'"'}}catch(Si){ui={error:Si}}finally{try{fi&&!fi.done&&(ci=di.return)&&ci.call(di)}finally{if(ui)throw ui.error}}return hi},ti.prototype._recordNamespaceInformation=function(ni,oi,ai){var si,ri,ii=null;try{for(var ui=Xe(ni.attributes),ci=ui.next();!ci.done;ci=ui.next()){var hi=ci.value,mi=hi.namespaceURI,di=hi.prefix;if(mi===Qe.namespace.XMLNS){if(di===null){ii=hi.value;continue}var fi=hi.localName,yi=hi.value;if(yi===Qe.namespace.XML||(yi===""&&(yi=null),oi.has(fi,yi)))continue;oi.set(fi,yi),ai[fi]=yi||""}}}catch(pi){si={error:pi}}finally{try{ci&&!ci.done&&(ri=ui.return)&&ri.call(ui)}finally{if(si)throw si.error}}return ii},ti.prototype._generatePrefix=function(ni,oi,ai){var si="ns"+ai.value;return ai.value++,oi.set(si,ni),si},ti.prototype._serializeAttributeValue=function(ni,oi){if(oi&&ni!==null&&!St.xml_isLegalChar(ni))throw new Error("Invalid characters in attribute value.");if(ni===null)return"";for(var ai="",si=0;si<ni.length;si++){var ri=ni[si];ai+=ri==='"'?"&quot;":ri==="&"?"&amp;":ri==="<"?"&lt;":ri===">"?"&gt;":ri}return ai},ti.prototype._serializeElement=function(ni,oi){var ai,si;if(oi&&(ni.localName.indexOf(":")!==-1||!St.xml_isName(ni.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var ri=!1,ii=ni.localName,ui="<"+ii;if(ui+=this._serializeAttributes(ni,oi),ni._children.size===0&&(ui+="/",ri=!0),ui+=">",ri)return ui;try{for(var ci=Xe(ni._children),hi=ci.next();!hi.done;hi=ci.next()){var mi=hi.value;ui+=this._serializeNode(mi,oi)}}catch(di){ai={error:di}}finally{try{hi&&!hi.done&&(si=ci.return)&&si.call(ci)}finally{if(ai)throw ai.error}}return ui+="</"+ii+">"},ti.prototype._serializeDocument=function(ni,oi){var ai,si;if(oi&&ni.documentElement===null)throw new Error("Missing document element (well-formed required).");var ri="";try{for(var ii=Xe(ni._children),ui=ii.next();!ui.done;ui=ii.next()){var ci=ui.value;ri+=this._serializeNode(ci,oi)}}catch(hi){ai={error:hi}}finally{try{ui&&!ui.done&&(si=ii.return)&&si.call(ii)}finally{if(ai)throw ai.error}}return ri},ti.prototype._serializeDocumentFragment=function(ni,oi){var ai,si,ri="";try{for(var ii=Xe(ni._children),ui=ii.next();!ui.done;ui=ii.next()){var ci=ui.value;ri+=this._serializeNode(ci,oi)}}catch(hi){ai={error:hi}}finally{try{ui&&!ui.done&&(si=ii.return)&&si.call(ii)}finally{if(ai)throw ai.error}}return ri},ti.prototype._serializeAttributes=function(ni,oi){var ai,si,ri="",ii=oi?{}:void 0;try{for(var ui=Xe(ni.attributes),ci=ui.next();!ci.done;ci=ui.next()){var hi=ci.value;if(oi&&ii&&hi.localName in ii)throw new Error("Element contains duplicate attributes (well-formed required).");if(oi&&ii&&(ii[hi.localName]=!0),oi&&(hi.localName.indexOf(":")!==-1||!St.xml_isName(hi.localName)))throw new Error("Attribute local name contains invalid characters (well-formed required).");ri+=" "+hi.localName+'="'+this._serializeAttributeValue(hi.value,oi)+'"'}}catch(mi){ai={error:mi}}finally{try{ci&&!ci.done&&(si=ui.return)&&si.call(ui)}finally{if(ai)throw ai.error}}return ri},ti._VoidElementNames=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),ti}();ze.XMLSerializerImpl=ei},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=qe(278);ze.XMLReader=Xe.XMLReader;var We=qe(112);ze.ObjectReader=We.ObjectReader;var Ke=qe(281);ze.JSONReader=Ke.JSONReader;var Je=qe(282);ze.YAMLReader=Je.YAMLReader},function(Ve,ze,qe){qe(31),qe(32),qe(33),qe(19),qe(65),qe(20),qe(22),qe(23);var Xe,We=this&&this.__extends||(Xe=function(oi,ai){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(si,ri){si.__proto__=ri}||function(si,ri){for(var ii in ri)ri.hasOwnProperty(ii)&&(si[ii]=ri[ii])})(oi,ai)},function(oi,ai){function si(){this.constructor=oi}Xe(oi,ai),oi.prototype=ai===null?Object.create(ai):(si.prototype=ai.prototype,new si)}),Ke=this&&this.__read||function(oi,ai){var si=typeof Symbol=="function"&&oi[Symbol.iterator];if(!si)return oi;var ri,ii,ui=si.call(oi),ci=[];try{for(;(ai===void 0||ai-- >0)&&!(ri=ui.next()).done;)ci.push(ri.value)}catch(hi){ii={error:hi}}finally{try{ri&&!ri.done&&(si=ui.return)&&si.call(ui)}finally{if(ii)throw ii.error}}return ci},Je=this&&this.__values||function(oi){var ai=typeof Symbol=="function"&&Symbol.iterator,si=ai&&oi[ai],ri=0;if(si)return si.call(oi);if(oi&&typeof oi.length=="number")return{next:function(){return oi&&ri>=oi.length&&(oi=void 0),{value:oi&&oi[ri++],done:!oi}}};throw new TypeError(ai?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ze,"__esModule",{value:!0});var Ze=qe(180),Qe=qe(111),St=qe(1),ei=qe(7),ti=qe(0),ni=function(oi){function ai(){return oi!==null&&oi.apply(this,arguments)||this}return We(ai,oi),ai.prototype._parse=function(si,ri){for(var ii,ui,ci,hi,mi=new Ze.XMLStringLexer(ri,{skipWhitespaceOnlyText:this._builderOptions.skipWhitespaceOnlyText}),di=si,fi=si,yi=mi.nextToken();yi.type!==Qe.TokenType.EOF;){switch(yi.type){case Qe.TokenType.Declaration:var pi=yi,xi=this.sanitize(pi.version);if(xi!=="1.0")throw new Error("Invalid xml version: "+xi);var Si={version:xi};pi.encoding&&(Si.encoding=this.sanitize(pi.encoding)),pi.standalone&&(Si.standalone=this.sanitize(pi.standalone)==="yes"),fi.set(Si);break;case Qe.TokenType.DocType:var vi=yi;fi=this.docType(fi,this.sanitize(vi.name),this.sanitize(vi.pubId),this.sanitize(vi.sysId))||fi;break;case Qe.TokenType.CDATA:var Di=yi;fi=this.cdata(fi,this.sanitize(Di.data))||fi;break;case Qe.TokenType.Comment:var Ti=yi;fi=this.comment(fi,this.sanitize(Ti.data))||fi;break;case Qe.TokenType.PI:var Fi=yi;fi=this.instruction(fi,this.sanitize(Fi.target),this.sanitize(Fi.data))||fi;break;case Qe.TokenType.Text:if(fi.node.nodeType===St.NodeType.Document)break;var Ci=yi;fi=this.text(fi,this._decodeText(this.sanitize(Ci.data)))||fi;break;case Qe.TokenType.Element:var Ni=yi,Ri=this.sanitize(Ni.name),Yi=Ke(ti.namespace_extractQName(Ri),1)[0],ki=fi.node.lookupNamespaceURI(Yi),ji={};try{for(var Vi=(ii=void 0,Je(Ni.attributes)),Bi=Vi.next();!Bi.done;Bi=Vi.next()){var Xi=Ke(Bi.value,2),en=Xi[0],tn=Xi[1];if(en=this.sanitize(en),tn=this.sanitize(tn),en==="xmlns")ki=tn;else{var Ji=Ke(ti.namespace_extractQName(en),2),Li=Ji[0],wi=Ji[1];Li==="xmlns"&&(wi===Yi&&(ki=tn),ji[wi]=tn)}}}catch(on){ii={error:on}}finally{try{Bi&&!Bi.done&&(ui=Vi.return)&&ui.call(Vi)}finally{if(ii)throw ii.error}}var _i=ki!==null?this.element(fi,ki,Ri):this.element(fi,void 0,Ri);if(_i===void 0)break;fi.node===si.node&&(di=_i);try{for(var Ai=(ci=void 0,Je(Ni.attributes)),Oi=Ai.next();!Oi.done;Oi=Ai.next()){var Ii=Ke(Oi.value,2);en=Ii[0],tn=Ii[1],en=this.sanitize(en),tn=this.sanitize(tn);var Mi=Ke(ti.namespace_extractQName(en),2),Gi=(Li=Mi[0],wi=Mi[1],null);Li==="xmlns"||Li===null&&wi==="xmlns"?Gi=ei.namespace.XMLNS:(Gi=_i.node.lookupNamespaceURI(Li))!==null&&_i.node.isDefaultNamespace(Gi)?Gi=null:Gi===null&&Li!==null&&(Gi=ji[Li]||null),Gi!==null?this.attribute(_i,Gi,en,this._decodeAttributeValue(tn)):this.attribute(_i,void 0,en,this._decodeAttributeValue(tn))}}catch(on){ci={error:on}}finally{try{Oi&&!Oi.done&&(hi=Ai.return)&&hi.call(Ai)}finally{if(ci)throw ci.error}}Ni.selfClosing||(fi=_i);break;case Qe.TokenType.ClosingTag:fi.node.parentNode&&(fi=fi.up())}yi=mi.nextToken()}return di},ai}(qe(75).BaseReader);ze.XMLReader=ni},function(Ve,ze,qe){var Xe=qe(4),We=qe(280);Xe({target:"Object",stat:!0,forced:Object.assign!==We},{assign:We})},function(Ve,ze,qe){var Xe=qe(16),We=qe(8),Ke=qe(61),Je=qe(85),Ze=qe(79),Qe=qe(27),St=qe(41),ei=Object.assign,ti=Object.defineProperty;Ve.exports=!ei||We(function(){if(Xe&&ei({b:1},ei(ti({},"a",{enumerable:!0,get:function(){ti(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var ni={},oi={},ai=Symbol();return ni[ai]=7,"abcdefghijklmnopqrst".split("").forEach(function(si){oi[si]=si}),ei({},ni)[ai]!=7||Ke(ei({},oi)).join("")!="abcdefghijklmnopqrst"})?function(ni,oi){for(var ai=Qe(ni),si=arguments.length,ri=1,ii=Je.f,ui=Ze.f;si>ri;)for(var ci,hi=St(arguments[ri++]),mi=ii?Ke(hi).concat(ii(hi)):Ke(hi),di=mi.length,fi=0;di>fi;)ci=mi[fi++],Xe&&!ui.call(hi,ci)||(ai[ci]=hi[ci]);return ai}:ei},function(Ve,ze,qe){var Xe,We=this&&this.__extends||(Xe=function(Ze,Qe){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(St,ei){St.__proto__=ei}||function(St,ei){for(var ti in ei)ei.hasOwnProperty(ti)&&(St[ti]=ei[ti])})(Ze,Qe)},function(Ze,Qe){function St(){this.constructor=Ze}Xe(Ze,Qe),Ze.prototype=Qe===null?Object.create(Qe):(St.prototype=Qe.prototype,new St)});Object.defineProperty(ze,"__esModule",{value:!0});var Ke=qe(112),Je=function(Ze){function Qe(){return Ze!==null&&Ze.apply(this,arguments)||this}return We(Qe,Ze),Qe.prototype._parse=function(St,ei){return new Ke.ObjectReader(this._builderOptions).parse(St,JSON.parse(ei))},Qe}(qe(75).BaseReader);ze.JSONReader=Je},function(Ve,ze,qe){var Xe,We=this&&this.__extends||(Xe=function(St,ei){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ti,ni){ti.__proto__=ni}||function(ti,ni){for(var oi in ni)ni.hasOwnProperty(oi)&&(ti[oi]=ni[oi])})(St,ei)},function(St,ei){function ti(){this.constructor=St}Xe(St,ei),St.prototype=ei===null?Object.create(ei):(ti.prototype=ei.prototype,new ti)});Object.defineProperty(ze,"__esModule",{value:!0});var Ke=qe(112),Je=qe(75),Ze=qe(283),Qe=function(St){function ei(){return St!==null&&St.apply(this,arguments)||this}return We(ei,St),ei.prototype._parse=function(ti,ni){var oi=Ze.safeLoad(ni);if(oi===void 0)throw new Error("Unable to parse YAML document.");return new Ke.ObjectReader(this._builderOptions).parse(ti,oi)},ei}(Je.BaseReader);ze.YAMLReader=Qe},function(Ve,ze,qe){var Xe=qe(284);Ve.exports=Xe},function(Ve,ze,qe){var Xe=qe(285),We=qe(304);function Ke(Je){return function(){throw new Error("Function "+Je+" is deprecated and cannot be used.")}}Ve.exports.Type=qe(10),Ve.exports.Schema=qe(39),Ve.exports.FAILSAFE_SCHEMA=qe(113),Ve.exports.JSON_SCHEMA=qe(182),Ve.exports.CORE_SCHEMA=qe(181),Ve.exports.DEFAULT_SAFE_SCHEMA=qe(54),Ve.exports.DEFAULT_FULL_SCHEMA=qe(76),Ve.exports.load=Xe.load,Ve.exports.loadAll=Xe.loadAll,Ve.exports.safeLoad=Xe.safeLoad,Ve.exports.safeLoadAll=Xe.safeLoadAll,Ve.exports.dump=We.dump,Ve.exports.safeDump=We.safeDump,Ve.exports.YAMLException=qe(53),Ve.exports.MINIMAL_SCHEMA=qe(113),Ve.exports.SAFE_SCHEMA=qe(54),Ve.exports.DEFAULT_SCHEMA=qe(76),Ve.exports.scan=Ke("scan"),Ve.exports.parse=Ke("parse"),Ve.exports.compose=Ke("compose"),Ve.exports.addConstructor=Ke("addConstructor")},function(Ve,ze,qe){var Xe=qe(38),We=qe(53),Ke=qe(286),Je=qe(54),Ze=qe(76),Qe=Object.prototype.hasOwnProperty,St=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,ei=/[\x85\u2028\u2029]/,ti=/[,\[\]\{\}]/,ni=/^(?:!|!!|![a-z\-]+!)$/i,oi=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function ai(wi){return Object.prototype.toString.call(wi)}function si(wi){return wi===10||wi===13}function ri(wi){return wi===9||wi===32}function ii(wi){return wi===9||wi===32||wi===10||wi===13}function ui(wi){return wi===44||wi===91||wi===93||wi===123||wi===125}function ci(wi){var _i;return 48<=wi&&wi<=57?wi-48:97<=(_i=32|wi)&&_i<=102?_i-97+10:-1}function hi(wi){return wi===48?"\0":wi===97?"\x07":wi===98?"\b":wi===116||wi===9?"	":wi===110?`
`:wi===118?"\v":wi===102?"\f":wi===114?"\r":wi===101?"\x1B":wi===32?" ":wi===34?'"':wi===47?"/":wi===92?"\\":wi===78?"":wi===95?" ":wi===76?"\u2028":wi===80?"\u2029":""}function mi(wi){return wi<=65535?String.fromCharCode(wi):String.fromCharCode(55296+(wi-65536>>10),56320+(wi-65536&1023))}for(var di=new Array(256),fi=new Array(256),yi=0;yi<256;yi++)di[yi]=hi(yi)?1:0,fi[yi]=hi(yi);function pi(wi,_i){this.input=wi,this.filename=_i.filename||null,this.schema=_i.schema||Ze,this.onWarning=_i.onWarning||null,this.legacy=_i.legacy||!1,this.json=_i.json||!1,this.listener=_i.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=wi.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function xi(wi,_i){return new We(_i,new Ke(wi.filename,wi.input,wi.position,wi.line,wi.position-wi.lineStart))}function Si(wi,_i){throw xi(wi,_i)}function vi(wi,_i){wi.onWarning&&wi.onWarning.call(null,xi(wi,_i))}var Di={YAML:function(wi,_i,Ai){var Oi,Ii,Mi;wi.version!==null&&Si(wi,"duplication of %YAML directive"),Ai.length!==1&&Si(wi,"YAML directive accepts exactly one argument"),(Oi=/^([0-9]+)\.([0-9]+)$/.exec(Ai[0]))===null&&Si(wi,"ill-formed argument of the YAML directive"),Ii=parseInt(Oi[1],10),Mi=parseInt(Oi[2],10),Ii!==1&&Si(wi,"unacceptable YAML version of the document"),wi.version=Ai[0],wi.checkLineBreaks=Mi<2,Mi!==1&&Mi!==2&&vi(wi,"unsupported YAML version of the document")},TAG:function(wi,_i,Ai){var Oi,Ii;Ai.length!==2&&Si(wi,"TAG directive accepts exactly two arguments"),Oi=Ai[0],Ii=Ai[1],ni.test(Oi)||Si(wi,"ill-formed tag handle (first argument) of the TAG directive"),Qe.call(wi.tagMap,Oi)&&Si(wi,'there is a previously declared suffix for "'+Oi+'" tag handle'),oi.test(Ii)||Si(wi,"ill-formed tag prefix (second argument) of the TAG directive"),wi.tagMap[Oi]=Ii}};function Ti(wi,_i,Ai,Oi){var Ii,Mi,Gi,on;if(_i<Ai){if(on=wi.input.slice(_i,Ai),Oi)for(Ii=0,Mi=on.length;Ii<Mi;Ii+=1)(Gi=on.charCodeAt(Ii))===9||32<=Gi&&Gi<=1114111||Si(wi,"expected valid JSON character");else St.test(on)&&Si(wi,"the stream contains non-printable characters");wi.result+=on}}function Fi(wi,_i,Ai,Oi){var Ii,Mi,Gi,on;for(Xe.isObject(Ai)||Si(wi,"cannot merge mappings; the provided source object is unacceptable"),Gi=0,on=(Ii=Object.keys(Ai)).length;Gi<on;Gi+=1)Mi=Ii[Gi],Qe.call(_i,Mi)||(_i[Mi]=Ai[Mi],Oi[Mi]=!0)}function Ci(wi,_i,Ai,Oi,Ii,Mi,Gi,on){var Ui,rn;if(Array.isArray(Ii))for(Ui=0,rn=(Ii=Array.prototype.slice.call(Ii)).length;Ui<rn;Ui+=1)Array.isArray(Ii[Ui])&&Si(wi,"nested arrays are not supported inside keys"),typeof Ii=="object"&&ai(Ii[Ui])==="[object Object]"&&(Ii[Ui]="[object Object]");if(typeof Ii=="object"&&ai(Ii)==="[object Object]"&&(Ii="[object Object]"),Ii=String(Ii),_i===null&&(_i={}),Oi==="tag:yaml.org,2002:merge")if(Array.isArray(Mi))for(Ui=0,rn=Mi.length;Ui<rn;Ui+=1)Fi(wi,_i,Mi[Ui],Ai);else Fi(wi,_i,Mi,Ai);else wi.json||Qe.call(Ai,Ii)||!Qe.call(_i,Ii)||(wi.line=Gi||wi.line,wi.position=on||wi.position,Si(wi,"duplicated mapping key")),_i[Ii]=Mi,delete Ai[Ii];return _i}function Ni(wi){var _i;(_i=wi.input.charCodeAt(wi.position))===10?wi.position++:_i===13?(wi.position++,wi.input.charCodeAt(wi.position)===10&&wi.position++):Si(wi,"a line break is expected"),wi.line+=1,wi.lineStart=wi.position}function Ri(wi,_i,Ai){for(var Oi=0,Ii=wi.input.charCodeAt(wi.position);Ii!==0;){for(;ri(Ii);)Ii=wi.input.charCodeAt(++wi.position);if(_i&&Ii===35)do Ii=wi.input.charCodeAt(++wi.position);while(Ii!==10&&Ii!==13&&Ii!==0);if(!si(Ii))break;for(Ni(wi),Ii=wi.input.charCodeAt(wi.position),Oi++,wi.lineIndent=0;Ii===32;)wi.lineIndent++,Ii=wi.input.charCodeAt(++wi.position)}return Ai!==-1&&Oi!==0&&wi.lineIndent<Ai&&vi(wi,"deficient indentation"),Oi}function Yi(wi){var _i,Ai=wi.position;return!((_i=wi.input.charCodeAt(Ai))!==45&&_i!==46||_i!==wi.input.charCodeAt(Ai+1)||_i!==wi.input.charCodeAt(Ai+2)||(Ai+=3,(_i=wi.input.charCodeAt(Ai))!==0&&!ii(_i)))}function ki(wi,_i){_i===1?wi.result+=" ":_i>1&&(wi.result+=Xe.repeat(`
`,_i-1))}function ji(wi,_i){var Ai,Oi,Ii=wi.tag,Mi=wi.anchor,Gi=[],on=!1;for(wi.anchor!==null&&(wi.anchorMap[wi.anchor]=Gi),Oi=wi.input.charCodeAt(wi.position);Oi!==0&&Oi===45&&ii(wi.input.charCodeAt(wi.position+1));)if(on=!0,wi.position++,Ri(wi,!0,-1)&&wi.lineIndent<=_i)Gi.push(null),Oi=wi.input.charCodeAt(wi.position);else if(Ai=wi.line,Xi(wi,_i,3,!1,!0),Gi.push(wi.result),Ri(wi,!0,-1),Oi=wi.input.charCodeAt(wi.position),(wi.line===Ai||wi.lineIndent>_i)&&Oi!==0)Si(wi,"bad indentation of a sequence entry");else if(wi.lineIndent<_i)break;return!!on&&(wi.tag=Ii,wi.anchor=Mi,wi.kind="sequence",wi.result=Gi,!0)}function Vi(wi){var _i,Ai,Oi,Ii,Mi=!1,Gi=!1;if((Ii=wi.input.charCodeAt(wi.position))!==33)return!1;if(wi.tag!==null&&Si(wi,"duplication of a tag property"),(Ii=wi.input.charCodeAt(++wi.position))===60?(Mi=!0,Ii=wi.input.charCodeAt(++wi.position)):Ii===33?(Gi=!0,Ai="!!",Ii=wi.input.charCodeAt(++wi.position)):Ai="!",_i=wi.position,Mi){do Ii=wi.input.charCodeAt(++wi.position);while(Ii!==0&&Ii!==62);wi.position<wi.length?(Oi=wi.input.slice(_i,wi.position),Ii=wi.input.charCodeAt(++wi.position)):Si(wi,"unexpected end of the stream within a verbatim tag")}else{for(;Ii!==0&&!ii(Ii);)Ii===33&&(Gi?Si(wi,"tag suffix cannot contain exclamation marks"):(Ai=wi.input.slice(_i-1,wi.position+1),ni.test(Ai)||Si(wi,"named tag handle cannot contain such characters"),Gi=!0,_i=wi.position+1)),Ii=wi.input.charCodeAt(++wi.position);Oi=wi.input.slice(_i,wi.position),ti.test(Oi)&&Si(wi,"tag suffix cannot contain flow indicator characters")}return Oi&&!oi.test(Oi)&&Si(wi,"tag name cannot contain such characters: "+Oi),Mi?wi.tag=Oi:Qe.call(wi.tagMap,Ai)?wi.tag=wi.tagMap[Ai]+Oi:Ai==="!"?wi.tag="!"+Oi:Ai==="!!"?wi.tag="tag:yaml.org,2002:"+Oi:Si(wi,'undeclared tag handle "'+Ai+'"'),!0}function Bi(wi){var _i,Ai;if((Ai=wi.input.charCodeAt(wi.position))!==38)return!1;for(wi.anchor!==null&&Si(wi,"duplication of an anchor property"),Ai=wi.input.charCodeAt(++wi.position),_i=wi.position;Ai!==0&&!ii(Ai)&&!ui(Ai);)Ai=wi.input.charCodeAt(++wi.position);return wi.position===_i&&Si(wi,"name of an anchor node must contain at least one character"),wi.anchor=wi.input.slice(_i,wi.position),!0}function Xi(wi,_i,Ai,Oi,Ii){var Mi,Gi,on,Ui,rn,un,dn,hn,Sn=1,fn=!1,Pn=!1;if(wi.listener!==null&&wi.listener("open",wi),wi.tag=null,wi.anchor=null,wi.kind=null,wi.result=null,Mi=Gi=on=Ai===4||Ai===3,Oi&&Ri(wi,!0,-1)&&(fn=!0,wi.lineIndent>_i?Sn=1:wi.lineIndent===_i?Sn=0:wi.lineIndent<_i&&(Sn=-1)),Sn===1)for(;Vi(wi)||Bi(wi);)Ri(wi,!0,-1)?(fn=!0,on=Mi,wi.lineIndent>_i?Sn=1:wi.lineIndent===_i?Sn=0:wi.lineIndent<_i&&(Sn=-1)):on=!1;if(on&&(on=fn||Ii),Sn!==1&&Ai!==4||(dn=Ai===1||Ai===2?_i:_i+1,hn=wi.position-wi.lineStart,Sn===1?on&&(ji(wi,hn)||function(zi,En,yn){var An,sn,_n,Tn,In,Rn=zi.tag,zn=zi.anchor,Un={},qn={},er=null,ir=null,dr=null,sr=!1,nr=!1;for(zi.anchor!==null&&(zi.anchorMap[zi.anchor]=Un),In=zi.input.charCodeAt(zi.position);In!==0;){if(An=zi.input.charCodeAt(zi.position+1),_n=zi.line,Tn=zi.position,In!==63&&In!==58||!ii(An)){if(!Xi(zi,yn,2,!1,!0))break;if(zi.line===_n){for(In=zi.input.charCodeAt(zi.position);ri(In);)In=zi.input.charCodeAt(++zi.position);if(In===58)ii(In=zi.input.charCodeAt(++zi.position))||Si(zi,"a whitespace character is expected after the key-value separator within a block mapping"),sr&&(Ci(zi,Un,qn,er,ir,null),er=ir=dr=null),nr=!0,sr=!1,sn=!1,er=zi.tag,ir=zi.result;else{if(!nr)return zi.tag=Rn,zi.anchor=zn,!0;Si(zi,"can not read an implicit mapping pair; a colon is missed")}}else{if(!nr)return zi.tag=Rn,zi.anchor=zn,!0;Si(zi,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else In===63?(sr&&(Ci(zi,Un,qn,er,ir,null),er=ir=dr=null),nr=!0,sr=!0,sn=!0):sr?(sr=!1,sn=!0):Si(zi,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),zi.position+=1,In=An;if((zi.line===_n||zi.lineIndent>En)&&(Xi(zi,En,4,!0,sn)&&(sr?ir=zi.result:dr=zi.result),sr||(Ci(zi,Un,qn,er,ir,dr,_n,Tn),er=ir=dr=null),Ri(zi,!0,-1),In=zi.input.charCodeAt(zi.position)),zi.lineIndent>En&&In!==0)Si(zi,"bad indentation of a mapping entry");else if(zi.lineIndent<En)break}return sr&&Ci(zi,Un,qn,er,ir,null),nr&&(zi.tag=Rn,zi.anchor=zn,zi.kind="mapping",zi.result=Un),nr}(wi,hn,dn))||function(zi,En){var yn,An,sn,_n,Tn,In,Rn,zn,Un,qn,er=!0,ir=zi.tag,dr=zi.anchor,sr={};if((qn=zi.input.charCodeAt(zi.position))===91)sn=93,In=!1,An=[];else{if(qn!==123)return!1;sn=125,In=!0,An={}}for(zi.anchor!==null&&(zi.anchorMap[zi.anchor]=An),qn=zi.input.charCodeAt(++zi.position);qn!==0;){if(Ri(zi,!0,En),(qn=zi.input.charCodeAt(zi.position))===sn)return zi.position++,zi.tag=ir,zi.anchor=dr,zi.kind=In?"mapping":"sequence",zi.result=An,!0;er||Si(zi,"missed comma between flow collection entries"),Un=null,_n=Tn=!1,qn===63&&ii(zi.input.charCodeAt(zi.position+1))&&(_n=Tn=!0,zi.position++,Ri(zi,!0,En)),yn=zi.line,Xi(zi,En,1,!1,!0),zn=zi.tag,Rn=zi.result,Ri(zi,!0,En),qn=zi.input.charCodeAt(zi.position),!Tn&&zi.line!==yn||qn!==58||(_n=!0,qn=zi.input.charCodeAt(++zi.position),Ri(zi,!0,En),Xi(zi,En,1,!1,!0),Un=zi.result),In?Ci(zi,An,sr,zn,Rn,Un):_n?An.push(Ci(zi,null,sr,zn,Rn,Un)):An.push(Rn),Ri(zi,!0,En),(qn=zi.input.charCodeAt(zi.position))===44?(er=!0,qn=zi.input.charCodeAt(++zi.position)):er=!1}Si(zi,"unexpected end of the stream within a flow collection")}(wi,dn)?Pn=!0:(Gi&&function(zi,En){var yn,An,sn,_n,Tn,In=1,Rn=!1,zn=!1,Un=En,qn=0,er=!1;if((_n=zi.input.charCodeAt(zi.position))===124)An=!1;else{if(_n!==62)return!1;An=!0}for(zi.kind="scalar",zi.result="";_n!==0;)if((_n=zi.input.charCodeAt(++zi.position))===43||_n===45)In===1?In=_n===43?3:2:Si(zi,"repeat of a chomping mode identifier");else{if(!((sn=48<=(Tn=_n)&&Tn<=57?Tn-48:-1)>=0))break;sn===0?Si(zi,"bad explicit indentation width of a block scalar; it cannot be less than one"):zn?Si(zi,"repeat of an indentation width identifier"):(Un=En+sn-1,zn=!0)}if(ri(_n)){do _n=zi.input.charCodeAt(++zi.position);while(ri(_n));if(_n===35)do _n=zi.input.charCodeAt(++zi.position);while(!si(_n)&&_n!==0)}for(;_n!==0;){for(Ni(zi),zi.lineIndent=0,_n=zi.input.charCodeAt(zi.position);(!zn||zi.lineIndent<Un)&&_n===32;)zi.lineIndent++,_n=zi.input.charCodeAt(++zi.position);if(!zn&&zi.lineIndent>Un&&(Un=zi.lineIndent),si(_n))qn++;else{if(zi.lineIndent<Un){In===3?zi.result+=Xe.repeat(`
`,Rn?1+qn:qn):In===1&&Rn&&(zi.result+=`
`);break}for(An?ri(_n)?(er=!0,zi.result+=Xe.repeat(`
`,Rn?1+qn:qn)):er?(er=!1,zi.result+=Xe.repeat(`
`,qn+1)):qn===0?Rn&&(zi.result+=" "):zi.result+=Xe.repeat(`
`,qn):zi.result+=Xe.repeat(`
`,Rn?1+qn:qn),Rn=!0,zn=!0,qn=0,yn=zi.position;!si(_n)&&_n!==0;)_n=zi.input.charCodeAt(++zi.position);Ti(zi,yn,zi.position,!1)}}return!0}(wi,dn)||function(zi,En){var yn,An,sn;if((yn=zi.input.charCodeAt(zi.position))!==39)return!1;for(zi.kind="scalar",zi.result="",zi.position++,An=sn=zi.position;(yn=zi.input.charCodeAt(zi.position))!==0;)if(yn===39){if(Ti(zi,An,zi.position,!0),(yn=zi.input.charCodeAt(++zi.position))!==39)return!0;An=zi.position,zi.position++,sn=zi.position}else si(yn)?(Ti(zi,An,sn,!0),ki(zi,Ri(zi,!1,En)),An=sn=zi.position):zi.position===zi.lineStart&&Yi(zi)?Si(zi,"unexpected end of the document within a single quoted scalar"):(zi.position++,sn=zi.position);Si(zi,"unexpected end of the stream within a single quoted scalar")}(wi,dn)||function(zi,En){var yn,An,sn,_n,Tn,In,Rn;if((In=zi.input.charCodeAt(zi.position))!==34)return!1;for(zi.kind="scalar",zi.result="",zi.position++,yn=An=zi.position;(In=zi.input.charCodeAt(zi.position))!==0;){if(In===34)return Ti(zi,yn,zi.position,!0),zi.position++,!0;if(In===92){if(Ti(zi,yn,zi.position,!0),si(In=zi.input.charCodeAt(++zi.position)))Ri(zi,!1,En);else if(In<256&&di[In])zi.result+=fi[In],zi.position++;else if((Tn=(Rn=In)===120?2:Rn===117?4:Rn===85?8:0)>0){for(sn=Tn,_n=0;sn>0;sn--)(Tn=ci(In=zi.input.charCodeAt(++zi.position)))>=0?_n=(_n<<4)+Tn:Si(zi,"expected hexadecimal character");zi.result+=mi(_n),zi.position++}else Si(zi,"unknown escape sequence");yn=An=zi.position}else si(In)?(Ti(zi,yn,An,!0),ki(zi,Ri(zi,!1,En)),yn=An=zi.position):zi.position===zi.lineStart&&Yi(zi)?Si(zi,"unexpected end of the document within a double quoted scalar"):(zi.position++,An=zi.position)}Si(zi,"unexpected end of the stream within a double quoted scalar")}(wi,dn)?Pn=!0:function(zi){var En,yn,An;if((An=zi.input.charCodeAt(zi.position))!==42)return!1;for(An=zi.input.charCodeAt(++zi.position),En=zi.position;An!==0&&!ii(An)&&!ui(An);)An=zi.input.charCodeAt(++zi.position);return zi.position===En&&Si(zi,"name of an alias node must contain at least one character"),yn=zi.input.slice(En,zi.position),Qe.call(zi.anchorMap,yn)||Si(zi,'unidentified alias "'+yn+'"'),zi.result=zi.anchorMap[yn],Ri(zi,!0,-1),!0}(wi)?(Pn=!0,wi.tag===null&&wi.anchor===null||Si(wi,"alias node should not have any properties")):function(zi,En,yn){var An,sn,_n,Tn,In,Rn,zn,Un,qn=zi.kind,er=zi.result;if(ii(Un=zi.input.charCodeAt(zi.position))||ui(Un)||Un===35||Un===38||Un===42||Un===33||Un===124||Un===62||Un===39||Un===34||Un===37||Un===64||Un===96||(Un===63||Un===45)&&(ii(An=zi.input.charCodeAt(zi.position+1))||yn&&ui(An)))return!1;for(zi.kind="scalar",zi.result="",sn=_n=zi.position,Tn=!1;Un!==0;){if(Un===58){if(ii(An=zi.input.charCodeAt(zi.position+1))||yn&&ui(An))break}else if(Un===35){if(ii(zi.input.charCodeAt(zi.position-1)))break}else{if(zi.position===zi.lineStart&&Yi(zi)||yn&&ui(Un))break;if(si(Un)){if(In=zi.line,Rn=zi.lineStart,zn=zi.lineIndent,Ri(zi,!1,-1),zi.lineIndent>=En){Tn=!0,Un=zi.input.charCodeAt(zi.position);continue}zi.position=_n,zi.line=In,zi.lineStart=Rn,zi.lineIndent=zn;break}}Tn&&(Ti(zi,sn,_n,!1),ki(zi,zi.line-In),sn=_n=zi.position,Tn=!1),ri(Un)||(_n=zi.position+1),Un=zi.input.charCodeAt(++zi.position)}return Ti(zi,sn,_n,!1),!!zi.result||(zi.kind=qn,zi.result=er,!1)}(wi,dn,Ai===1)&&(Pn=!0,wi.tag===null&&(wi.tag="?")),wi.anchor!==null&&(wi.anchorMap[wi.anchor]=wi.result)):Sn===0&&(Pn=on&&ji(wi,hn))),wi.tag!==null&&wi.tag!=="!")if(wi.tag==="?"){for(wi.result!==null&&wi.kind!=="scalar"&&Si(wi,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+wi.kind+'"'),Ui=0,rn=wi.implicitTypes.length;Ui<rn;Ui+=1)if((un=wi.implicitTypes[Ui]).resolve(wi.result)){wi.result=un.construct(wi.result),wi.tag=un.tag,wi.anchor!==null&&(wi.anchorMap[wi.anchor]=wi.result);break}}else Qe.call(wi.typeMap[wi.kind||"fallback"],wi.tag)?(un=wi.typeMap[wi.kind||"fallback"][wi.tag],wi.result!==null&&un.kind!==wi.kind&&Si(wi,"unacceptable node kind for !<"+wi.tag+'> tag; it should be "'+un.kind+'", not "'+wi.kind+'"'),un.resolve(wi.result)?(wi.result=un.construct(wi.result),wi.anchor!==null&&(wi.anchorMap[wi.anchor]=wi.result)):Si(wi,"cannot resolve a node with !<"+wi.tag+"> explicit tag")):Si(wi,"unknown tag !<"+wi.tag+">");return wi.listener!==null&&wi.listener("close",wi),wi.tag!==null||wi.anchor!==null||Pn}function en(wi){var _i,Ai,Oi,Ii,Mi=wi.position,Gi=!1;for(wi.version=null,wi.checkLineBreaks=wi.legacy,wi.tagMap={},wi.anchorMap={};(Ii=wi.input.charCodeAt(wi.position))!==0&&(Ri(wi,!0,-1),Ii=wi.input.charCodeAt(wi.position),!(wi.lineIndent>0||Ii!==37));){for(Gi=!0,Ii=wi.input.charCodeAt(++wi.position),_i=wi.position;Ii!==0&&!ii(Ii);)Ii=wi.input.charCodeAt(++wi.position);for(Oi=[],(Ai=wi.input.slice(_i,wi.position)).length<1&&Si(wi,"directive name must not be less than one character in length");Ii!==0;){for(;ri(Ii);)Ii=wi.input.charCodeAt(++wi.position);if(Ii===35){do Ii=wi.input.charCodeAt(++wi.position);while(Ii!==0&&!si(Ii));break}if(si(Ii))break;for(_i=wi.position;Ii!==0&&!ii(Ii);)Ii=wi.input.charCodeAt(++wi.position);Oi.push(wi.input.slice(_i,wi.position))}Ii!==0&&Ni(wi),Qe.call(Di,Ai)?Di[Ai](wi,Ai,Oi):vi(wi,'unknown document directive "'+Ai+'"')}Ri(wi,!0,-1),wi.lineIndent===0&&wi.input.charCodeAt(wi.position)===45&&wi.input.charCodeAt(wi.position+1)===45&&wi.input.charCodeAt(wi.position+2)===45?(wi.position+=3,Ri(wi,!0,-1)):Gi&&Si(wi,"directives end mark is expected"),Xi(wi,wi.lineIndent-1,4,!1,!0),Ri(wi,!0,-1),wi.checkLineBreaks&&ei.test(wi.input.slice(Mi,wi.position))&&vi(wi,"non-ASCII line breaks are interpreted as content"),wi.documents.push(wi.result),wi.position===wi.lineStart&&Yi(wi)?wi.input.charCodeAt(wi.position)===46&&(wi.position+=3,Ri(wi,!0,-1)):wi.position<wi.length-1&&Si(wi,"end of the stream or a document separator is expected")}function tn(wi,_i){_i=_i||{},(wi=String(wi)).length!==0&&(wi.charCodeAt(wi.length-1)!==10&&wi.charCodeAt(wi.length-1)!==13&&(wi+=`
`),wi.charCodeAt(0)===65279&&(wi=wi.slice(1)));var Ai=new pi(wi,_i),Oi=wi.indexOf("\0");for(Oi!==-1&&(Ai.position=Oi,Si(Ai,"null byte is not allowed in input")),Ai.input+="\0";Ai.input.charCodeAt(Ai.position)===32;)Ai.lineIndent+=1,Ai.position+=1;for(;Ai.position<Ai.length-1;)en(Ai);return Ai.documents}function Ji(wi,_i,Ai){_i!==null&&typeof _i=="object"&&Ai===void 0&&(Ai=_i,_i=null);var Oi=tn(wi,Ai);if(typeof _i!="function")return Oi;for(var Ii=0,Mi=Oi.length;Ii<Mi;Ii+=1)_i(Oi[Ii])}function Li(wi,_i){var Ai=tn(wi,_i);if(Ai.length!==0){if(Ai.length===1)return Ai[0];throw new We("expected a single document in the stream, but found more")}}Ve.exports.loadAll=Ji,Ve.exports.load=Li,Ve.exports.safeLoadAll=function(wi,_i,Ai){return typeof _i=="object"&&_i!==null&&Ai===void 0&&(Ai=_i,_i=null),Ji(wi,_i,Xe.extend({schema:Je},Ai))},Ve.exports.safeLoad=function(wi,_i){return Li(wi,Xe.extend({schema:Je},_i))}},function(Ve,ze,qe){var Xe=qe(38);function We(Ke,Je,Ze,Qe,St){this.name=Ke,this.buffer=Je,this.position=Ze,this.line=Qe,this.column=St}We.prototype.getSnippet=function(Ke,Je){var Ze,Qe,St,ei,ti;if(!this.buffer)return null;for(Ke=Ke||4,Je=Je||75,Ze="",Qe=this.position;Qe>0&&`\0\r
\u2028\u2029`.indexOf(this.buffer.charAt(Qe-1))===-1;)if(Qe-=1,this.position-Qe>Je/2-1){Ze=" ... ",Qe+=5;break}for(St="",ei=this.position;ei<this.buffer.length&&`\0\r
\u2028\u2029`.indexOf(this.buffer.charAt(ei))===-1;)if((ei+=1)-this.position>Je/2-1){St=" ... ",ei-=5;break}return ti=this.buffer.slice(Qe,ei),Xe.repeat(" ",Ke)+Ze+ti+St+`
`+Xe.repeat(" ",Ke+this.position-Qe+Ze.length)+"^"},We.prototype.toString=function(Ke){var Je,Ze="";return this.name&&(Ze+='in "'+this.name+'" '),Ze+="at line "+(this.line+1)+", column "+(this.column+1),Ke||(Je=this.getSnippet())&&(Ze+=`:
`+Je),Ze},Ve.exports=We},function(Ve,ze,qe){var Xe=qe(10);Ve.exports=new Xe("tag:yaml.org,2002:str",{kind:"scalar",construct:function(We){return We!==null?We:""}})},function(Ve,ze,qe){var Xe=qe(10);Ve.exports=new Xe("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(We){return We!==null?We:[]}})},function(Ve,ze,qe){var Xe=qe(10);Ve.exports=new Xe("tag:yaml.org,2002:map",{kind:"mapping",construct:function(We){return We!==null?We:{}}})},function(Ve,ze,qe){var Xe=qe(10);Ve.exports=new Xe("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(We){if(We===null)return!0;var Ke=We.length;return Ke===1&&We==="~"||Ke===4&&(We==="null"||We==="Null"||We==="NULL")},construct:function(){return null},predicate:function(We){return We===null},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},function(Ve,ze,qe){var Xe=qe(10);Ve.exports=new Xe("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(We){if(We===null)return!1;var Ke=We.length;return Ke===4&&(We==="true"||We==="True"||We==="TRUE")||Ke===5&&(We==="false"||We==="False"||We==="FALSE")},construct:function(We){return We==="true"||We==="True"||We==="TRUE"},predicate:function(We){return Object.prototype.toString.call(We)==="[object Boolean]"},represent:{lowercase:function(We){return We?"true":"false"},uppercase:function(We){return We?"TRUE":"FALSE"},camelcase:function(We){return We?"True":"False"}},defaultStyle:"lowercase"})},function(Ve,ze,qe){var Xe=qe(38),We=qe(10);function Ke(Ze){return 48<=Ze&&Ze<=55}function Je(Ze){return 48<=Ze&&Ze<=57}Ve.exports=new We("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(Ze){if(Ze===null)return!1;var Qe,St,ei=Ze.length,ti=0,ni=!1;if(!ei)return!1;if((Qe=Ze[ti])!=="-"&&Qe!=="+"||(Qe=Ze[++ti]),Qe==="0"){if(ti+1===ei)return!0;if((Qe=Ze[++ti])==="b"){for(ti++;ti<ei;ti++)if((Qe=Ze[ti])!=="_"){if(Qe!=="0"&&Qe!=="1")return!1;ni=!0}return ni&&Qe!=="_"}if(Qe==="x"){for(ti++;ti<ei;ti++)if((Qe=Ze[ti])!=="_"){if(!(48<=(St=Ze.charCodeAt(ti))&&St<=57||65<=St&&St<=70||97<=St&&St<=102))return!1;ni=!0}return ni&&Qe!=="_"}for(;ti<ei;ti++)if((Qe=Ze[ti])!=="_"){if(!Ke(Ze.charCodeAt(ti)))return!1;ni=!0}return ni&&Qe!=="_"}if(Qe==="_")return!1;for(;ti<ei;ti++)if((Qe=Ze[ti])!=="_"){if(Qe===":")break;if(!Je(Ze.charCodeAt(ti)))return!1;ni=!0}return!(!ni||Qe==="_")&&(Qe!==":"||/^(:[0-5]?[0-9])+$/.test(Ze.slice(ti)))},construct:function(Ze){var Qe,St,ei=Ze,ti=1,ni=[];return ei.indexOf("_")!==-1&&(ei=ei.replace(/_/g,"")),(Qe=ei[0])!=="-"&&Qe!=="+"||(Qe==="-"&&(ti=-1),Qe=(ei=ei.slice(1))[0]),ei==="0"?0:Qe==="0"?ei[1]==="b"?ti*parseInt(ei.slice(2),2):ei[1]==="x"?ti*parseInt(ei,16):ti*parseInt(ei,8):ei.indexOf(":")!==-1?(ei.split(":").forEach(function(oi){ni.unshift(parseInt(oi,10))}),ei=0,St=1,ni.forEach(function(oi){ei+=oi*St,St*=60}),ti*ei):ti*parseInt(ei,10)},predicate:function(Ze){return Object.prototype.toString.call(Ze)==="[object Number]"&&Ze%1==0&&!Xe.isNegativeZero(Ze)},represent:{binary:function(Ze){return Ze>=0?"0b"+Ze.toString(2):"-0b"+Ze.toString(2).slice(1)},octal:function(Ze){return Ze>=0?"0"+Ze.toString(8):"-0"+Ze.toString(8).slice(1)},decimal:function(Ze){return Ze.toString(10)},hexadecimal:function(Ze){return Ze>=0?"0x"+Ze.toString(16).toUpperCase():"-0x"+Ze.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},function(Ve,ze,qe){var Xe=qe(38),We=qe(10),Ke=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),Je=/^[-+]?[0-9]+e/;Ve.exports=new We("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(Ze){return Ze!==null&&!(!Ke.test(Ze)||Ze[Ze.length-1]==="_")},construct:function(Ze){var Qe,St,ei,ti;return St=(Qe=Ze.replace(/_/g,"").toLowerCase())[0]==="-"?-1:1,ti=[],"+-".indexOf(Qe[0])>=0&&(Qe=Qe.slice(1)),Qe===".inf"?St===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:Qe===".nan"?NaN:Qe.indexOf(":")>=0?(Qe.split(":").forEach(function(ni){ti.unshift(parseFloat(ni,10))}),Qe=0,ei=1,ti.forEach(function(ni){Qe+=ni*ei,ei*=60}),St*Qe):St*parseFloat(Qe,10)},predicate:function(Ze){return Object.prototype.toString.call(Ze)==="[object Number]"&&(Ze%1!=0||Xe.isNegativeZero(Ze))},represent:function(Ze,Qe){var St;if(isNaN(Ze))switch(Qe){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===Ze)switch(Qe){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===Ze)switch(Qe){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Xe.isNegativeZero(Ze))return"-0.0";return St=Ze.toString(10),Je.test(St)?St.replace("e",".e"):St},defaultStyle:"lowercase"})},function(Ve,ze,qe){var Xe=qe(10),We=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Ke=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");Ve.exports=new Xe("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(Je){return Je!==null&&(We.exec(Je)!==null||Ke.exec(Je)!==null)},construct:function(Je){var Ze,Qe,St,ei,ti,ni,oi,ai,si=0,ri=null;if((Ze=We.exec(Je))===null&&(Ze=Ke.exec(Je)),Ze===null)throw new Error("Date resolve error");if(Qe=+Ze[1],St=+Ze[2]-1,ei=+Ze[3],!Ze[4])return new Date(Date.UTC(Qe,St,ei));if(ti=+Ze[4],ni=+Ze[5],oi=+Ze[6],Ze[7]){for(si=Ze[7].slice(0,3);si.length<3;)si+="0";si=+si}return Ze[9]&&(ri=6e4*(60*+Ze[10]+ +(Ze[11]||0)),Ze[9]==="-"&&(ri=-ri)),ai=new Date(Date.UTC(Qe,St,ei,ti,ni,oi,si)),ri&&ai.setTime(ai.getTime()-ri),ai},instanceOf:Date,represent:function(Je){return Je.toISOString()}})},function(Ve,ze,qe){var Xe=qe(10);Ve.exports=new Xe("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(We){return We==="<<"||We===null}})},function(Ve,ze,qe){var Xe;try{Xe=qe(145).Buffer}catch{}var We=qe(10),Ke=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;Ve.exports=new We("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(Je){if(Je===null)return!1;var Ze,Qe,St=0,ei=Je.length,ti=Ke;for(Qe=0;Qe<ei;Qe++)if(!((Ze=ti.indexOf(Je.charAt(Qe)))>64)){if(Ze<0)return!1;St+=6}return St%8==0},construct:function(Je){var Ze,Qe,St=Je.replace(/[\r\n=]/g,""),ei=St.length,ti=Ke,ni=0,oi=[];for(Ze=0;Ze<ei;Ze++)Ze%4==0&&Ze&&(oi.push(ni>>16&255),oi.push(ni>>8&255),oi.push(255&ni)),ni=ni<<6|ti.indexOf(St.charAt(Ze));return(Qe=ei%4*6)===0?(oi.push(ni>>16&255),oi.push(ni>>8&255),oi.push(255&ni)):Qe===18?(oi.push(ni>>10&255),oi.push(ni>>2&255)):Qe===12&&oi.push(ni>>4&255),Xe?Xe.from?Xe.from(oi):new Xe(oi):oi},predicate:function(Je){return Xe&&Xe.isBuffer(Je)},represent:function(Je){var Ze,Qe,St="",ei=0,ti=Je.length,ni=Ke;for(Ze=0;Ze<ti;Ze++)Ze%3==0&&Ze&&(St+=ni[ei>>18&63],St+=ni[ei>>12&63],St+=ni[ei>>6&63],St+=ni[63&ei]),ei=(ei<<8)+Je[Ze];return(Qe=ti%3)===0?(St+=ni[ei>>18&63],St+=ni[ei>>12&63],St+=ni[ei>>6&63],St+=ni[63&ei]):Qe===2?(St+=ni[ei>>10&63],St+=ni[ei>>4&63],St+=ni[ei<<2&63],St+=ni[64]):Qe===1&&(St+=ni[ei>>2&63],St+=ni[ei<<4&63],St+=ni[64],St+=ni[64]),St}})},function(Ve,ze,qe){var Xe=qe(10),We=Object.prototype.hasOwnProperty,Ke=Object.prototype.toString;Ve.exports=new Xe("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(Je){if(Je===null)return!0;var Ze,Qe,St,ei,ti,ni=[],oi=Je;for(Ze=0,Qe=oi.length;Ze<Qe;Ze+=1){if(St=oi[Ze],ti=!1,Ke.call(St)!=="[object Object]")return!1;for(ei in St)if(We.call(St,ei)){if(ti)return!1;ti=!0}if(!ti||ni.indexOf(ei)!==-1)return!1;ni.push(ei)}return!0},construct:function(Je){return Je!==null?Je:[]}})},function(Ve,ze,qe){var Xe=qe(10),We=Object.prototype.toString;Ve.exports=new Xe("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(Ke){if(Ke===null)return!0;var Je,Ze,Qe,St,ei,ti=Ke;for(ei=new Array(ti.length),Je=0,Ze=ti.length;Je<Ze;Je+=1){if(Qe=ti[Je],We.call(Qe)!=="[object Object]"||(St=Object.keys(Qe)).length!==1)return!1;ei[Je]=[St[0],Qe[St[0]]]}return!0},construct:function(Ke){if(Ke===null)return[];var Je,Ze,Qe,St,ei,ti=Ke;for(ei=new Array(ti.length),Je=0,Ze=ti.length;Je<Ze;Je+=1)Qe=ti[Je],St=Object.keys(Qe),ei[Je]=[St[0],Qe[St[0]]];return ei}})},function(Ve,ze,qe){var Xe=qe(10),We=Object.prototype.hasOwnProperty;Ve.exports=new Xe("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(Ke){if(Ke===null)return!0;var Je,Ze=Ke;for(Je in Ze)if(We.call(Ze,Je)&&Ze[Je]!==null)return!1;return!0},construct:function(Ke){return Ke!==null?Ke:{}}})},function(Ve,ze,qe){var Xe=qe(10);Ve.exports=new Xe("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:function(){return!0},construct:function(){},predicate:function(We){return We===void 0},represent:function(){return""}})},function(Ve,ze,qe){var Xe=qe(10);Ve.exports=new Xe("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:function(We){if(We===null||We.length===0)return!1;var Ke=We,Je=/\/([gim]*)$/.exec(We),Ze="";return!(Ke[0]==="/"&&(Je&&(Ze=Je[1]),Ze.length>3||Ke[Ke.length-Ze.length-1]!=="/"))},construct:function(We){var Ke=We,Je=/\/([gim]*)$/.exec(We),Ze="";return Ke[0]==="/"&&(Je&&(Ze=Je[1]),Ke=Ke.slice(1,Ke.length-Ze.length-1)),new RegExp(Ke,Ze)},predicate:function(We){return Object.prototype.toString.call(We)==="[object RegExp]"},represent:function(We){var Ke="/"+We.source+"/";return We.global&&(Ke+="g"),We.multiline&&(Ke+="m"),We.ignoreCase&&(Ke+="i"),Ke}})},function(Ve,ze,qe){var Xe;try{Xe=qe(303)}catch{typeof window<"u"&&(Xe=window.esprima)}var We=qe(10);Ve.exports=new We("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:function(Ke){if(Ke===null)return!1;try{var Je="("+Ke+")",Ze=Xe.parse(Je,{range:!0});return Ze.type==="Program"&&Ze.body.length===1&&Ze.body[0].type==="ExpressionStatement"&&(Ze.body[0].expression.type==="ArrowFunctionExpression"||Ze.body[0].expression.type==="FunctionExpression")}catch{return!1}},construct:function(Ke){var Je,Ze="("+Ke+")",Qe=Xe.parse(Ze,{range:!0}),St=[];if(Qe.type!=="Program"||Qe.body.length!==1||Qe.body[0].type!=="ExpressionStatement"||Qe.body[0].expression.type!=="ArrowFunctionExpression"&&Qe.body[0].expression.type!=="FunctionExpression")throw new Error("Failed to resolve function");return Qe.body[0].expression.params.forEach(function(ei){St.push(ei.name)}),Je=Qe.body[0].expression.body.range,Qe.body[0].expression.body.type==="BlockStatement"?new Function(St,Ze.slice(Je[0]+1,Je[1]-1)):new Function(St,"return "+Ze.slice(Je[0],Je[1]))},predicate:function(Ke){return Object.prototype.toString.call(Ke)==="[object Function]"},represent:function(Ke){return Ke.toString()}})},function(Ve,ze,qe){var Xe;Xe=function(){return function(We){var Ke={};function Je(Ze){if(Ke[Ze])return Ke[Ze].exports;var Qe=Ke[Ze]={exports:{},id:Ze,loaded:!1};return We[Ze].call(Qe.exports,Qe,Qe.exports,Je),Qe.loaded=!0,Qe.exports}return Je.m=We,Je.c=Ke,Je.p="",Je(0)}([function(We,Ke,Je){Object.defineProperty(Ke,"__esModule",{value:!0});var Ze=Je(1),Qe=Je(3),St=Je(8),ei=Je(15);function ti(oi,ai,si){var ri=null,ii=function(yi,pi){si&&si(yi,pi),ri&&ri.visit(yi,pi)},ui=typeof si=="function"?ii:null,ci=!1;if(ai){ci=typeof ai.comment=="boolean"&&ai.comment;var hi=typeof ai.attachComment=="boolean"&&ai.attachComment;(ci||hi)&&((ri=new Ze.CommentHandler).attach=hi,ai.comment=!0,ui=ii)}var mi,di=!1;ai&&typeof ai.sourceType=="string"&&(di=ai.sourceType==="module"),mi=ai&&typeof ai.jsx=="boolean"&&ai.jsx?new Qe.JSXParser(oi,ai,ui):new St.Parser(oi,ai,ui);var fi=di?mi.parseModule():mi.parseScript();return ci&&ri&&(fi.comments=ri.comments),mi.config.tokens&&(fi.tokens=mi.tokens),mi.config.tolerant&&(fi.errors=mi.errorHandler.errors),fi}Ke.parse=ti,Ke.parseModule=function(oi,ai,si){var ri=ai||{};return ri.sourceType="module",ti(oi,ri,si)},Ke.parseScript=function(oi,ai,si){var ri=ai||{};return ri.sourceType="script",ti(oi,ri,si)},Ke.tokenize=function(oi,ai,si){var ri,ii=new ei.Tokenizer(oi,ai);ri=[];try{for(;;){var ui=ii.getNextToken();if(!ui)break;si&&(ui=si(ui)),ri.push(ui)}}catch(ci){ii.errorHandler.tolerate(ci)}return ii.errorHandler.tolerant&&(ri.errors=ii.errors()),ri};var ni=Je(2);Ke.Syntax=ni.Syntax,Ke.version="4.0.1"},function(We,Ke,Je){Object.defineProperty(Ke,"__esModule",{value:!0});var Ze=Je(2),Qe=function(){function St(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return St.prototype.insertInnerComments=function(ei,ti){if(ei.type===Ze.Syntax.BlockStatement&&ei.body.length===0){for(var ni=[],oi=this.leading.length-1;oi>=0;--oi){var ai=this.leading[oi];ti.end.offset>=ai.start&&(ni.unshift(ai.comment),this.leading.splice(oi,1),this.trailing.splice(oi,1))}ni.length&&(ei.innerComments=ni)}},St.prototype.findTrailingComments=function(ei){var ti=[];if(this.trailing.length>0){for(var ni=this.trailing.length-1;ni>=0;--ni){var oi=this.trailing[ni];oi.start>=ei.end.offset&&ti.unshift(oi.comment)}return this.trailing.length=0,ti}var ai=this.stack[this.stack.length-1];if(ai&&ai.node.trailingComments){var si=ai.node.trailingComments[0];si&&si.range[0]>=ei.end.offset&&(ti=ai.node.trailingComments,delete ai.node.trailingComments)}return ti},St.prototype.findLeadingComments=function(ei){for(var ti,ni=[];this.stack.length>0&&(si=this.stack[this.stack.length-1])&&si.start>=ei.start.offset;)ti=si.node,this.stack.pop();if(ti){for(var oi=(ti.leadingComments?ti.leadingComments.length:0)-1;oi>=0;--oi){var ai=ti.leadingComments[oi];ai.range[1]<=ei.start.offset&&(ni.unshift(ai),ti.leadingComments.splice(oi,1))}return ti.leadingComments&&ti.leadingComments.length===0&&delete ti.leadingComments,ni}for(oi=this.leading.length-1;oi>=0;--oi){var si;(si=this.leading[oi]).start<=ei.start.offset&&(ni.unshift(si.comment),this.leading.splice(oi,1))}return ni},St.prototype.visitNode=function(ei,ti){if(!(ei.type===Ze.Syntax.Program&&ei.body.length>0)){this.insertInnerComments(ei,ti);var ni=this.findTrailingComments(ti),oi=this.findLeadingComments(ti);oi.length>0&&(ei.leadingComments=oi),ni.length>0&&(ei.trailingComments=ni),this.stack.push({node:ei,start:ti.start.offset})}},St.prototype.visitComment=function(ei,ti){var ni=ei.type[0]==="L"?"Line":"Block",oi={type:ni,value:ei.value};if(ei.range&&(oi.range=ei.range),ei.loc&&(oi.loc=ei.loc),this.comments.push(oi),this.attach){var ai={comment:{type:ni,value:ei.value,range:[ti.start.offset,ti.end.offset]},start:ti.start.offset};ei.loc&&(ai.comment.loc=ei.loc),ei.type=ni,this.leading.push(ai),this.trailing.push(ai)}},St.prototype.visit=function(ei,ti){ei.type==="LineComment"||ei.type==="BlockComment"?this.visitComment(ei,ti):this.attach&&this.visitNode(ei,ti)},St}();Ke.CommentHandler=Qe},function(We,Ke){Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(We,Ke,Je){var Ze,Qe=this&&this.__extends||(Ze=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ui,ci){ui.__proto__=ci}||function(ui,ci){for(var hi in ci)ci.hasOwnProperty(hi)&&(ui[hi]=ci[hi])},function(ui,ci){function hi(){this.constructor=ui}Ze(ui,ci),ui.prototype=ci===null?Object.create(ci):(hi.prototype=ci.prototype,new hi)});Object.defineProperty(Ke,"__esModule",{value:!0});var St=Je(4),ei=Je(5),ti=Je(6),ni=Je(7),oi=Je(8),ai=Je(13),si=Je(14);function ri(ui){var ci;switch(ui.type){case ti.JSXSyntax.JSXIdentifier:ci=ui.name;break;case ti.JSXSyntax.JSXNamespacedName:var hi=ui;ci=ri(hi.namespace)+":"+ri(hi.name);break;case ti.JSXSyntax.JSXMemberExpression:var mi=ui;ci=ri(mi.object)+"."+ri(mi.property)}return ci}ai.TokenName[100]="JSXIdentifier",ai.TokenName[101]="JSXText";var ii=function(ui){function ci(hi,mi,di){return ui.call(this,hi,mi,di)||this}return Qe(ci,ui),ci.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():ui.prototype.parsePrimaryExpression.call(this)},ci.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.line,this.scanner.lineStart=this.startMarker.index-this.startMarker.column},ci.prototype.finishJSX=function(){this.nextToken()},ci.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX("}"),this.config.tokens&&this.tokens.pop()},ci.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},ci.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},ci.prototype.scanXHTMLEntity=function(hi){for(var mi="&",di=!0,fi=!1,yi=!1,pi=!1;!this.scanner.eof()&&di&&!fi;){var xi=this.scanner.source[this.scanner.index];if(xi===hi)break;if(fi=xi===";",mi+=xi,++this.scanner.index,!fi)switch(mi.length){case 2:yi=xi==="#";break;case 3:yi&&(di=(pi=xi==="x")||St.Character.isDecimalDigit(xi.charCodeAt(0)),yi=yi&&!pi);break;default:di=(di=di&&!(yi&&!St.Character.isDecimalDigit(xi.charCodeAt(0))))&&!(pi&&!St.Character.isHexDigit(xi.charCodeAt(0)))}}if(di&&fi&&mi.length>2){var Si=mi.substr(1,mi.length-2);yi&&Si.length>1?mi=String.fromCharCode(parseInt(Si.substr(1),10)):pi&&Si.length>2?mi=String.fromCharCode(parseInt("0"+Si.substr(1),16)):yi||pi||!si.XHTMLEntities[Si]||(mi=si.XHTMLEntities[Si])}return mi},ci.prototype.lexJSX=function(){var hi=this.scanner.source.charCodeAt(this.scanner.index);if(hi===60||hi===62||hi===47||hi===58||hi===61||hi===123||hi===125)return{type:7,value:xi=this.scanner.source[this.scanner.index++],lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index};if(hi===34||hi===39){for(var mi=this.scanner.index,di=this.scanner.source[this.scanner.index++],fi="";!this.scanner.eof()&&(Si=this.scanner.source[this.scanner.index++])!==di;)fi+=Si==="&"?this.scanXHTMLEntity(di):Si;return{type:8,value:fi,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:mi,end:this.scanner.index}}if(hi===46){var yi=this.scanner.source.charCodeAt(this.scanner.index+1),pi=this.scanner.source.charCodeAt(this.scanner.index+2),xi=yi===46&&pi===46?"...":".";return mi=this.scanner.index,this.scanner.index+=xi.length,{type:7,value:xi,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:mi,end:this.scanner.index}}if(hi===96)return{type:10,value:"",lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(St.Character.isIdentifierStart(hi)&&hi!==92){for(mi=this.scanner.index,++this.scanner.index;!this.scanner.eof();){var Si=this.scanner.source.charCodeAt(this.scanner.index);if(St.Character.isIdentifierPart(Si)&&Si!==92)++this.scanner.index;else{if(Si!==45)break;++this.scanner.index}}return{type:100,value:this.scanner.source.slice(mi,this.scanner.index),lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:mi,end:this.scanner.index}}return this.scanner.lex()},ci.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;var hi=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(hi)),hi},ci.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;for(var hi=this.scanner.index,mi="";!this.scanner.eof();){var di=this.scanner.source[this.scanner.index];if(di==="{"||di==="<")break;++this.scanner.index,mi+=di,St.Character.isLineTerminator(di.charCodeAt(0))&&(++this.scanner.lineNumber,di==="\r"&&this.scanner.source[this.scanner.index]===`
`&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart;var fi={type:101,value:mi,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:hi,end:this.scanner.index};return mi.length>0&&this.config.tokens&&this.tokens.push(this.convertToken(fi)),fi},ci.prototype.peekJSXToken=function(){var hi=this.scanner.saveState();this.scanner.scanComments();var mi=this.lexJSX();return this.scanner.restoreState(hi),mi},ci.prototype.expectJSX=function(hi){var mi=this.nextJSXToken();mi.type===7&&mi.value===hi||this.throwUnexpectedToken(mi)},ci.prototype.matchJSX=function(hi){var mi=this.peekJSXToken();return mi.type===7&&mi.value===hi},ci.prototype.parseJSXIdentifier=function(){var hi=this.createJSXNode(),mi=this.nextJSXToken();return mi.type!==100&&this.throwUnexpectedToken(mi),this.finalize(hi,new ei.JSXIdentifier(mi.value))},ci.prototype.parseJSXElementName=function(){var hi=this.createJSXNode(),mi=this.parseJSXIdentifier();if(this.matchJSX(":")){var di=mi;this.expectJSX(":");var fi=this.parseJSXIdentifier();mi=this.finalize(hi,new ei.JSXNamespacedName(di,fi))}else if(this.matchJSX("."))for(;this.matchJSX(".");){var yi=mi;this.expectJSX(".");var pi=this.parseJSXIdentifier();mi=this.finalize(hi,new ei.JSXMemberExpression(yi,pi))}return mi},ci.prototype.parseJSXAttributeName=function(){var hi,mi=this.createJSXNode(),di=this.parseJSXIdentifier();if(this.matchJSX(":")){var fi=di;this.expectJSX(":");var yi=this.parseJSXIdentifier();hi=this.finalize(mi,new ei.JSXNamespacedName(fi,yi))}else hi=di;return hi},ci.prototype.parseJSXStringLiteralAttribute=function(){var hi=this.createJSXNode(),mi=this.nextJSXToken();mi.type!==8&&this.throwUnexpectedToken(mi);var di=this.getTokenRaw(mi);return this.finalize(hi,new ni.Literal(mi.value,di))},ci.prototype.parseJSXExpressionAttribute=function(){var hi=this.createJSXNode();this.expectJSX("{"),this.finishJSX(),this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var mi=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(hi,new ei.JSXExpressionContainer(mi))},ci.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},ci.prototype.parseJSXNameValueAttribute=function(){var hi=this.createJSXNode(),mi=this.parseJSXAttributeName(),di=null;return this.matchJSX("=")&&(this.expectJSX("="),di=this.parseJSXAttributeValue()),this.finalize(hi,new ei.JSXAttribute(mi,di))},ci.prototype.parseJSXSpreadAttribute=function(){var hi=this.createJSXNode();this.expectJSX("{"),this.expectJSX("..."),this.finishJSX();var mi=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(hi,new ei.JSXSpreadAttribute(mi))},ci.prototype.parseJSXAttributes=function(){for(var hi=[];!this.matchJSX("/")&&!this.matchJSX(">");){var mi=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();hi.push(mi)}return hi},ci.prototype.parseJSXOpeningElement=function(){var hi=this.createJSXNode();this.expectJSX("<");var mi=this.parseJSXElementName(),di=this.parseJSXAttributes(),fi=this.matchJSX("/");return fi&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(hi,new ei.JSXOpeningElement(mi,fi,di))},ci.prototype.parseJSXBoundaryElement=function(){var hi=this.createJSXNode();if(this.expectJSX("<"),this.matchJSX("/")){this.expectJSX("/");var mi=this.parseJSXElementName();return this.expectJSX(">"),this.finalize(hi,new ei.JSXClosingElement(mi))}var di=this.parseJSXElementName(),fi=this.parseJSXAttributes(),yi=this.matchJSX("/");return yi&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(hi,new ei.JSXOpeningElement(di,yi,fi))},ci.prototype.parseJSXEmptyExpression=function(){var hi=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.finalize(hi,new ei.JSXEmptyExpression)},ci.prototype.parseJSXExpressionContainer=function(){var hi,mi=this.createJSXNode();return this.expectJSX("{"),this.matchJSX("}")?(hi=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),hi=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(mi,new ei.JSXExpressionContainer(hi))},ci.prototype.parseJSXChildren=function(){for(var hi=[];!this.scanner.eof();){var mi=this.createJSXChildNode(),di=this.nextJSXText();if(di.start<di.end){var fi=this.getTokenRaw(di),yi=this.finalize(mi,new ei.JSXText(di.value,fi));hi.push(yi)}if(this.scanner.source[this.scanner.index]!=="{")break;var pi=this.parseJSXExpressionContainer();hi.push(pi)}return hi},ci.prototype.parseComplexJSXElement=function(hi){for(var mi=[];!this.scanner.eof();){hi.children=hi.children.concat(this.parseJSXChildren());var di=this.createJSXChildNode(),fi=this.parseJSXBoundaryElement();if(fi.type===ti.JSXSyntax.JSXOpeningElement){var yi=fi;if(yi.selfClosing){var pi=this.finalize(di,new ei.JSXElement(yi,[],null));hi.children.push(pi)}else mi.push(hi),hi={node:di,opening:yi,closing:null,children:[]}}if(fi.type===ti.JSXSyntax.JSXClosingElement){hi.closing=fi;var xi=ri(hi.opening.name);if(xi!==ri(hi.closing.name)&&this.tolerateError("Expected corresponding JSX closing tag for %0",xi),!(mi.length>0))break;pi=this.finalize(hi.node,new ei.JSXElement(hi.opening,hi.children,hi.closing)),(hi=mi[mi.length-1]).children.push(pi),mi.pop()}}return hi},ci.prototype.parseJSXElement=function(){var hi=this.createJSXNode(),mi=this.parseJSXOpeningElement(),di=[],fi=null;if(!mi.selfClosing){var yi=this.parseComplexJSXElement({node:hi,opening:mi,closing:fi,children:di});di=yi.children,fi=yi.closing}return this.finalize(hi,new ei.JSXElement(mi,di,fi))},ci.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var hi=this.parseJSXElement();return this.finishJSX(),hi},ci.prototype.isStartOfExpression=function(){return ui.prototype.isStartOfExpression.call(this)||this.match("<")},ci}(oi.Parser);Ke.JSXParser=ii},function(We,Ke){Object.defineProperty(Ke,"__esModule",{value:!0});var Je={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};Ke.Character={fromCodePoint:function(Ze){return Ze<65536?String.fromCharCode(Ze):String.fromCharCode(55296+(Ze-65536>>10))+String.fromCharCode(56320+(Ze-65536&1023))},isWhiteSpace:function(Ze){return Ze===32||Ze===9||Ze===11||Ze===12||Ze===160||Ze>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(Ze)>=0},isLineTerminator:function(Ze){return Ze===10||Ze===13||Ze===8232||Ze===8233},isIdentifierStart:function(Ze){return Ze===36||Ze===95||Ze>=65&&Ze<=90||Ze>=97&&Ze<=122||Ze===92||Ze>=128&&Je.NonAsciiIdentifierStart.test(Ke.Character.fromCodePoint(Ze))},isIdentifierPart:function(Ze){return Ze===36||Ze===95||Ze>=65&&Ze<=90||Ze>=97&&Ze<=122||Ze>=48&&Ze<=57||Ze===92||Ze>=128&&Je.NonAsciiIdentifierPart.test(Ke.Character.fromCodePoint(Ze))},isDecimalDigit:function(Ze){return Ze>=48&&Ze<=57},isHexDigit:function(Ze){return Ze>=48&&Ze<=57||Ze>=65&&Ze<=70||Ze>=97&&Ze<=102},isOctalDigit:function(Ze){return Ze>=48&&Ze<=55}}},function(We,Ke,Je){Object.defineProperty(Ke,"__esModule",{value:!0});var Ze=Je(6),Qe=function(ci){this.type=Ze.JSXSyntax.JSXClosingElement,this.name=ci};Ke.JSXClosingElement=Qe;var St=function(ci,hi,mi){this.type=Ze.JSXSyntax.JSXElement,this.openingElement=ci,this.children=hi,this.closingElement=mi};Ke.JSXElement=St;var ei=function(){this.type=Ze.JSXSyntax.JSXEmptyExpression};Ke.JSXEmptyExpression=ei;var ti=function(ci){this.type=Ze.JSXSyntax.JSXExpressionContainer,this.expression=ci};Ke.JSXExpressionContainer=ti;var ni=function(ci){this.type=Ze.JSXSyntax.JSXIdentifier,this.name=ci};Ke.JSXIdentifier=ni;var oi=function(ci,hi){this.type=Ze.JSXSyntax.JSXMemberExpression,this.object=ci,this.property=hi};Ke.JSXMemberExpression=oi;var ai=function(ci,hi){this.type=Ze.JSXSyntax.JSXAttribute,this.name=ci,this.value=hi};Ke.JSXAttribute=ai;var si=function(ci,hi){this.type=Ze.JSXSyntax.JSXNamespacedName,this.namespace=ci,this.name=hi};Ke.JSXNamespacedName=si;var ri=function(ci,hi,mi){this.type=Ze.JSXSyntax.JSXOpeningElement,this.name=ci,this.selfClosing=hi,this.attributes=mi};Ke.JSXOpeningElement=ri;var ii=function(ci){this.type=Ze.JSXSyntax.JSXSpreadAttribute,this.argument=ci};Ke.JSXSpreadAttribute=ii;var ui=function(ci,hi){this.type=Ze.JSXSyntax.JSXText,this.value=ci,this.raw=hi};Ke.JSXText=ui},function(We,Ke){Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(We,Ke,Je){Object.defineProperty(Ke,"__esModule",{value:!0});var Ze=Je(2),Qe=function(Ln){this.type=Ze.Syntax.ArrayExpression,this.elements=Ln};Ke.ArrayExpression=Qe;var St=function(Ln){this.type=Ze.Syntax.ArrayPattern,this.elements=Ln};Ke.ArrayPattern=St;var ei=function(Ln,Wi,mn){this.type=Ze.Syntax.ArrowFunctionExpression,this.id=null,this.params=Ln,this.body=Wi,this.generator=!1,this.expression=mn,this.async=!1};Ke.ArrowFunctionExpression=ei;var ti=function(Ln,Wi,mn){this.type=Ze.Syntax.AssignmentExpression,this.operator=Ln,this.left=Wi,this.right=mn};Ke.AssignmentExpression=ti;var ni=function(Ln,Wi){this.type=Ze.Syntax.AssignmentPattern,this.left=Ln,this.right=Wi};Ke.AssignmentPattern=ni;var oi=function(Ln,Wi,mn){this.type=Ze.Syntax.ArrowFunctionExpression,this.id=null,this.params=Ln,this.body=Wi,this.generator=!1,this.expression=mn,this.async=!0};Ke.AsyncArrowFunctionExpression=oi;var ai=function(Ln,Wi,mn){this.type=Ze.Syntax.FunctionDeclaration,this.id=Ln,this.params=Wi,this.body=mn,this.generator=!1,this.expression=!1,this.async=!0};Ke.AsyncFunctionDeclaration=ai;var si=function(Ln,Wi,mn){this.type=Ze.Syntax.FunctionExpression,this.id=Ln,this.params=Wi,this.body=mn,this.generator=!1,this.expression=!1,this.async=!0};Ke.AsyncFunctionExpression=si;var ri=function(Ln){this.type=Ze.Syntax.AwaitExpression,this.argument=Ln};Ke.AwaitExpression=ri;var ii=function(Ln,Wi,mn){var vn=Ln==="||"||Ln==="&&";this.type=vn?Ze.Syntax.LogicalExpression:Ze.Syntax.BinaryExpression,this.operator=Ln,this.left=Wi,this.right=mn};Ke.BinaryExpression=ii;var ui=function(Ln){this.type=Ze.Syntax.BlockStatement,this.body=Ln};Ke.BlockStatement=ui;var ci=function(Ln){this.type=Ze.Syntax.BreakStatement,this.label=Ln};Ke.BreakStatement=ci;var hi=function(Ln,Wi){this.type=Ze.Syntax.CallExpression,this.callee=Ln,this.arguments=Wi};Ke.CallExpression=hi;var mi=function(Ln,Wi){this.type=Ze.Syntax.CatchClause,this.param=Ln,this.body=Wi};Ke.CatchClause=mi;var di=function(Ln){this.type=Ze.Syntax.ClassBody,this.body=Ln};Ke.ClassBody=di;var fi=function(Ln,Wi,mn){this.type=Ze.Syntax.ClassDeclaration,this.id=Ln,this.superClass=Wi,this.body=mn};Ke.ClassDeclaration=fi;var yi=function(Ln,Wi,mn){this.type=Ze.Syntax.ClassExpression,this.id=Ln,this.superClass=Wi,this.body=mn};Ke.ClassExpression=yi;var pi=function(Ln,Wi){this.type=Ze.Syntax.MemberExpression,this.computed=!0,this.object=Ln,this.property=Wi};Ke.ComputedMemberExpression=pi;var xi=function(Ln,Wi,mn){this.type=Ze.Syntax.ConditionalExpression,this.test=Ln,this.consequent=Wi,this.alternate=mn};Ke.ConditionalExpression=xi;var Si=function(Ln){this.type=Ze.Syntax.ContinueStatement,this.label=Ln};Ke.ContinueStatement=Si;var vi=function(){this.type=Ze.Syntax.DebuggerStatement};Ke.DebuggerStatement=vi;var Di=function(Ln,Wi){this.type=Ze.Syntax.ExpressionStatement,this.expression=Ln,this.directive=Wi};Ke.Directive=Di;var Ti=function(Ln,Wi){this.type=Ze.Syntax.DoWhileStatement,this.body=Ln,this.test=Wi};Ke.DoWhileStatement=Ti;var Fi=function(){this.type=Ze.Syntax.EmptyStatement};Ke.EmptyStatement=Fi;var Ci=function(Ln){this.type=Ze.Syntax.ExportAllDeclaration,this.source=Ln};Ke.ExportAllDeclaration=Ci;var Ni=function(Ln){this.type=Ze.Syntax.ExportDefaultDeclaration,this.declaration=Ln};Ke.ExportDefaultDeclaration=Ni;var Ri=function(Ln,Wi,mn){this.type=Ze.Syntax.ExportNamedDeclaration,this.declaration=Ln,this.specifiers=Wi,this.source=mn};Ke.ExportNamedDeclaration=Ri;var Yi=function(Ln,Wi){this.type=Ze.Syntax.ExportSpecifier,this.exported=Wi,this.local=Ln};Ke.ExportSpecifier=Yi;var ki=function(Ln){this.type=Ze.Syntax.ExpressionStatement,this.expression=Ln};Ke.ExpressionStatement=ki;var ji=function(Ln,Wi,mn){this.type=Ze.Syntax.ForInStatement,this.left=Ln,this.right=Wi,this.body=mn,this.each=!1};Ke.ForInStatement=ji;var Vi=function(Ln,Wi,mn){this.type=Ze.Syntax.ForOfStatement,this.left=Ln,this.right=Wi,this.body=mn};Ke.ForOfStatement=Vi;var Bi=function(Ln,Wi,mn,vn){this.type=Ze.Syntax.ForStatement,this.init=Ln,this.test=Wi,this.update=mn,this.body=vn};Ke.ForStatement=Bi;var Xi=function(Ln,Wi,mn,vn){this.type=Ze.Syntax.FunctionDeclaration,this.id=Ln,this.params=Wi,this.body=mn,this.generator=vn,this.expression=!1,this.async=!1};Ke.FunctionDeclaration=Xi;var en=function(Ln,Wi,mn,vn){this.type=Ze.Syntax.FunctionExpression,this.id=Ln,this.params=Wi,this.body=mn,this.generator=vn,this.expression=!1,this.async=!1};Ke.FunctionExpression=en;var tn=function(Ln){this.type=Ze.Syntax.Identifier,this.name=Ln};Ke.Identifier=tn;var Ji=function(Ln,Wi,mn){this.type=Ze.Syntax.IfStatement,this.test=Ln,this.consequent=Wi,this.alternate=mn};Ke.IfStatement=Ji;var Li=function(Ln,Wi){this.type=Ze.Syntax.ImportDeclaration,this.specifiers=Ln,this.source=Wi};Ke.ImportDeclaration=Li;var wi=function(Ln){this.type=Ze.Syntax.ImportDefaultSpecifier,this.local=Ln};Ke.ImportDefaultSpecifier=wi;var _i=function(Ln){this.type=Ze.Syntax.ImportNamespaceSpecifier,this.local=Ln};Ke.ImportNamespaceSpecifier=_i;var Ai=function(Ln,Wi){this.type=Ze.Syntax.ImportSpecifier,this.local=Ln,this.imported=Wi};Ke.ImportSpecifier=Ai;var Oi=function(Ln,Wi){this.type=Ze.Syntax.LabeledStatement,this.label=Ln,this.body=Wi};Ke.LabeledStatement=Oi;var Ii=function(Ln,Wi){this.type=Ze.Syntax.Literal,this.value=Ln,this.raw=Wi};Ke.Literal=Ii;var Mi=function(Ln,Wi){this.type=Ze.Syntax.MetaProperty,this.meta=Ln,this.property=Wi};Ke.MetaProperty=Mi;var Gi=function(Ln,Wi,mn,vn,Mn){this.type=Ze.Syntax.MethodDefinition,this.key=Ln,this.computed=Wi,this.value=mn,this.kind=vn,this.static=Mn};Ke.MethodDefinition=Gi;var on=function(Ln){this.type=Ze.Syntax.Program,this.body=Ln,this.sourceType="module"};Ke.Module=on;var Ui=function(Ln,Wi){this.type=Ze.Syntax.NewExpression,this.callee=Ln,this.arguments=Wi};Ke.NewExpression=Ui;var rn=function(Ln){this.type=Ze.Syntax.ObjectExpression,this.properties=Ln};Ke.ObjectExpression=rn;var un=function(Ln){this.type=Ze.Syntax.ObjectPattern,this.properties=Ln};Ke.ObjectPattern=un;var dn=function(Ln,Wi,mn,vn,Mn,Hn){this.type=Ze.Syntax.Property,this.key=Wi,this.computed=mn,this.value=vn,this.kind=Ln,this.method=Mn,this.shorthand=Hn};Ke.Property=dn;var hn=function(Ln,Wi,mn,vn){this.type=Ze.Syntax.Literal,this.value=Ln,this.raw=Wi,this.regex={pattern:mn,flags:vn}};Ke.RegexLiteral=hn;var Sn=function(Ln){this.type=Ze.Syntax.RestElement,this.argument=Ln};Ke.RestElement=Sn;var fn=function(Ln){this.type=Ze.Syntax.ReturnStatement,this.argument=Ln};Ke.ReturnStatement=fn;var Pn=function(Ln){this.type=Ze.Syntax.Program,this.body=Ln,this.sourceType="script"};Ke.Script=Pn;var zi=function(Ln){this.type=Ze.Syntax.SequenceExpression,this.expressions=Ln};Ke.SequenceExpression=zi;var En=function(Ln){this.type=Ze.Syntax.SpreadElement,this.argument=Ln};Ke.SpreadElement=En;var yn=function(Ln,Wi){this.type=Ze.Syntax.MemberExpression,this.computed=!1,this.object=Ln,this.property=Wi};Ke.StaticMemberExpression=yn;var An=function(){this.type=Ze.Syntax.Super};Ke.Super=An;var sn=function(Ln,Wi){this.type=Ze.Syntax.SwitchCase,this.test=Ln,this.consequent=Wi};Ke.SwitchCase=sn;var _n=function(Ln,Wi){this.type=Ze.Syntax.SwitchStatement,this.discriminant=Ln,this.cases=Wi};Ke.SwitchStatement=_n;var Tn=function(Ln,Wi){this.type=Ze.Syntax.TaggedTemplateExpression,this.tag=Ln,this.quasi=Wi};Ke.TaggedTemplateExpression=Tn;var In=function(Ln,Wi){this.type=Ze.Syntax.TemplateElement,this.value=Ln,this.tail=Wi};Ke.TemplateElement=In;var Rn=function(Ln,Wi){this.type=Ze.Syntax.TemplateLiteral,this.quasis=Ln,this.expressions=Wi};Ke.TemplateLiteral=Rn;var zn=function(){this.type=Ze.Syntax.ThisExpression};Ke.ThisExpression=zn;var Un=function(Ln){this.type=Ze.Syntax.ThrowStatement,this.argument=Ln};Ke.ThrowStatement=Un;var qn=function(Ln,Wi,mn){this.type=Ze.Syntax.TryStatement,this.block=Ln,this.handler=Wi,this.finalizer=mn};Ke.TryStatement=qn;var er=function(Ln,Wi){this.type=Ze.Syntax.UnaryExpression,this.operator=Ln,this.argument=Wi,this.prefix=!0};Ke.UnaryExpression=er;var ir=function(Ln,Wi,mn){this.type=Ze.Syntax.UpdateExpression,this.operator=Ln,this.argument=Wi,this.prefix=mn};Ke.UpdateExpression=ir;var dr=function(Ln,Wi){this.type=Ze.Syntax.VariableDeclaration,this.declarations=Ln,this.kind=Wi};Ke.VariableDeclaration=dr;var sr=function(Ln,Wi){this.type=Ze.Syntax.VariableDeclarator,this.id=Ln,this.init=Wi};Ke.VariableDeclarator=sr;var nr=function(Ln,Wi){this.type=Ze.Syntax.WhileStatement,this.test=Ln,this.body=Wi};Ke.WhileStatement=nr;var Jn=function(Ln,Wi){this.type=Ze.Syntax.WithStatement,this.object=Ln,this.body=Wi};Ke.WithStatement=Jn;var cr=function(Ln,Wi){this.type=Ze.Syntax.YieldExpression,this.argument=Ln,this.delegate=Wi};Ke.YieldExpression=cr},function(We,Ke,Je){Object.defineProperty(Ke,"__esModule",{value:!0});var Ze=Je(9),Qe=Je(10),St=Je(11),ei=Je(7),ti=Je(12),ni=Je(2),oi=Je(13),ai=function(){function si(ri,ii,ui){ii===void 0&&(ii={}),this.config={range:typeof ii.range=="boolean"&&ii.range,loc:typeof ii.loc=="boolean"&&ii.loc,source:null,tokens:typeof ii.tokens=="boolean"&&ii.tokens,comment:typeof ii.comment=="boolean"&&ii.comment,tolerant:typeof ii.tolerant=="boolean"&&ii.tolerant},this.config.loc&&ii.source&&ii.source!==null&&(this.config.source=String(ii.source)),this.delegate=ui,this.errorHandler=new Qe.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new ti.Scanner(ri,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.hasLineTerminator=!1,this.context={isModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.lastMarker={index:0,line:this.scanner.lineNumber,column:0},this.nextToken(),this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}return si.prototype.throwError=function(ri){for(var ii=[],ui=1;ui<arguments.length;ui++)ii[ui-1]=arguments[ui];var ci=Array.prototype.slice.call(arguments,1),hi=ri.replace(/%(\d)/g,function(yi,pi){return Ze.assert(pi<ci.length,"Message reference must be in range"),ci[pi]}),mi=this.lastMarker.index,di=this.lastMarker.line,fi=this.lastMarker.column+1;throw this.errorHandler.createError(mi,di,fi,hi)},si.prototype.tolerateError=function(ri){for(var ii=[],ui=1;ui<arguments.length;ui++)ii[ui-1]=arguments[ui];var ci=Array.prototype.slice.call(arguments,1),hi=ri.replace(/%(\d)/g,function(yi,pi){return Ze.assert(pi<ci.length,"Message reference must be in range"),ci[pi]}),mi=this.lastMarker.index,di=this.scanner.lineNumber,fi=this.lastMarker.column+1;this.errorHandler.tolerateError(mi,di,fi,hi)},si.prototype.unexpectedTokenError=function(ri,ii){var ui,ci=ii||St.Messages.UnexpectedToken;if(ri?(ii||(ci=ri.type===2?St.Messages.UnexpectedEOS:ri.type===3?St.Messages.UnexpectedIdentifier:ri.type===6?St.Messages.UnexpectedNumber:ri.type===8?St.Messages.UnexpectedString:ri.type===10?St.Messages.UnexpectedTemplate:St.Messages.UnexpectedToken,ri.type===4&&(this.scanner.isFutureReservedWord(ri.value)?ci=St.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(ri.value)&&(ci=St.Messages.StrictReservedWord))),ui=ri.value):ui="ILLEGAL",ci=ci.replace("%0",ui),ri&&typeof ri.lineNumber=="number"){var hi=ri.start,mi=ri.lineNumber,di=this.lastMarker.index-this.lastMarker.column,fi=ri.start-di+1;return this.errorHandler.createError(hi,mi,fi,ci)}return hi=this.lastMarker.index,mi=this.lastMarker.line,fi=this.lastMarker.column+1,this.errorHandler.createError(hi,mi,fi,ci)},si.prototype.throwUnexpectedToken=function(ri,ii){throw this.unexpectedTokenError(ri,ii)},si.prototype.tolerateUnexpectedToken=function(ri,ii){this.errorHandler.tolerate(this.unexpectedTokenError(ri,ii))},si.prototype.collectComments=function(){if(this.config.comment){var ri=this.scanner.scanComments();if(ri.length>0&&this.delegate)for(var ii=0;ii<ri.length;++ii){var ui=ri[ii],ci=void 0;ci={type:ui.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(ui.slice[0],ui.slice[1])},this.config.range&&(ci.range=ui.range),this.config.loc&&(ci.loc=ui.loc);var hi={start:{line:ui.loc.start.line,column:ui.loc.start.column,offset:ui.range[0]},end:{line:ui.loc.end.line,column:ui.loc.end.column,offset:ui.range[1]}};this.delegate(ci,hi)}}else this.scanner.scanComments()},si.prototype.getTokenRaw=function(ri){return this.scanner.source.slice(ri.start,ri.end)},si.prototype.convertToken=function(ri){var ii={type:oi.TokenName[ri.type],value:this.getTokenRaw(ri)};if(this.config.range&&(ii.range=[ri.start,ri.end]),this.config.loc&&(ii.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),ri.type===9){var ui=ri.pattern,ci=ri.flags;ii.regex={pattern:ui,flags:ci}}return ii},si.prototype.nextToken=function(){var ri=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.collectComments(),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var ii=this.scanner.lex();return this.hasLineTerminator=ri.lineNumber!==ii.lineNumber,ii&&this.context.strict&&ii.type===3&&this.scanner.isStrictModeReservedWord(ii.value)&&(ii.type=4),this.lookahead=ii,this.config.tokens&&ii.type!==2&&this.tokens.push(this.convertToken(ii)),ri},si.prototype.nextRegexToken=function(){this.collectComments();var ri=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(ri))),this.lookahead=ri,this.nextToken(),ri},si.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}},si.prototype.startNode=function(ri,ii){ii===void 0&&(ii=0);var ui=ri.start-ri.lineStart,ci=ri.lineNumber;return ui<0&&(ui+=ii,ci--),{index:ri.start,line:ci,column:ui}},si.prototype.finalize=function(ri,ii){if(this.config.range&&(ii.range=[ri.index,this.lastMarker.index]),this.config.loc&&(ii.loc={start:{line:ri.line,column:ri.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(ii.loc.source=this.config.source)),this.delegate){var ui={start:{line:ri.line,column:ri.column,offset:ri.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}};this.delegate(ii,ui)}return ii},si.prototype.expect=function(ri){var ii=this.nextToken();ii.type===7&&ii.value===ri||this.throwUnexpectedToken(ii)},si.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var ri=this.lookahead;ri.type===7&&ri.value===","?this.nextToken():ri.type===7&&ri.value===";"?(this.nextToken(),this.tolerateUnexpectedToken(ri)):this.tolerateUnexpectedToken(ri,St.Messages.UnexpectedToken)}else this.expect(",")},si.prototype.expectKeyword=function(ri){var ii=this.nextToken();ii.type===4&&ii.value===ri||this.throwUnexpectedToken(ii)},si.prototype.match=function(ri){return this.lookahead.type===7&&this.lookahead.value===ri},si.prototype.matchKeyword=function(ri){return this.lookahead.type===4&&this.lookahead.value===ri},si.prototype.matchContextualKeyword=function(ri){return this.lookahead.type===3&&this.lookahead.value===ri},si.prototype.matchAssign=function(){if(this.lookahead.type!==7)return!1;var ri=this.lookahead.value;return ri==="="||ri==="*="||ri==="**="||ri==="/="||ri==="%="||ri==="+="||ri==="-="||ri==="<<="||ri===">>="||ri===">>>="||ri==="&="||ri==="^="||ri==="|="},si.prototype.isolateCoverGrammar=function(ri){var ii=this.context.isBindingElement,ui=this.context.isAssignmentTarget,ci=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var hi=ri.call(this);return this.context.firstCoverInitializedNameError!==null&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=ii,this.context.isAssignmentTarget=ui,this.context.firstCoverInitializedNameError=ci,hi},si.prototype.inheritCoverGrammar=function(ri){var ii=this.context.isBindingElement,ui=this.context.isAssignmentTarget,ci=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var hi=ri.call(this);return this.context.isBindingElement=this.context.isBindingElement&&ii,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&ui,this.context.firstCoverInitializedNameError=ci||this.context.firstCoverInitializedNameError,hi},si.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(this.lookahead.type===2||this.match("}")||this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)},si.prototype.parsePrimaryExpression=function(){var ri,ii,ui,ci=this.createNode();switch(this.lookahead.type){case 3:(this.context.isModule||this.context.await)&&this.lookahead.value==="await"&&this.tolerateUnexpectedToken(this.lookahead),ri=this.matchAsyncFunction()?this.parseFunctionExpression():this.finalize(ci,new ei.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,St.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,ii=this.nextToken(),ui=this.getTokenRaw(ii),ri=this.finalize(ci,new ei.Literal(ii.value,ui));break;case 1:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,ii=this.nextToken(),ui=this.getTokenRaw(ii),ri=this.finalize(ci,new ei.Literal(ii.value==="true",ui));break;case 5:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,ii=this.nextToken(),ui=this.getTokenRaw(ii),ri=this.finalize(ci,new ei.Literal(null,ui));break;case 10:ri=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case"(":this.context.isBindingElement=!1,ri=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":ri=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":ri=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,ii=this.nextRegexToken(),ui=this.getTokenRaw(ii),ri=this.finalize(ci,new ei.RegexLiteral(ii.regex,ui,ii.pattern,ii.flags));break;default:ri=this.throwUnexpectedToken(this.nextToken())}break;case 4:!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")?ri=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?ri=this.finalize(ci,new ei.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?ri=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),ri=this.finalize(ci,new ei.ThisExpression)):ri=this.matchKeyword("class")?this.parseClassExpression():this.throwUnexpectedToken(this.nextToken()));break;default:ri=this.throwUnexpectedToken(this.nextToken())}return ri},si.prototype.parseSpreadElement=function(){var ri=this.createNode();this.expect("...");var ii=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(ri,new ei.SpreadElement(ii))},si.prototype.parseArrayInitializer=function(){var ri=this.createNode(),ii=[];for(this.expect("[");!this.match("]");)if(this.match(","))this.nextToken(),ii.push(null);else if(this.match("...")){var ui=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(",")),ii.push(ui)}else ii.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");return this.expect("]"),this.finalize(ri,new ei.ArrayExpression(ii))},si.prototype.parsePropertyMethod=function(ri){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var ii=this.context.strict,ui=this.context.allowStrictDirective;this.context.allowStrictDirective=ri.simple;var ci=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&ri.firstRestricted&&this.tolerateUnexpectedToken(ri.firstRestricted,ri.message),this.context.strict&&ri.stricted&&this.tolerateUnexpectedToken(ri.stricted,ri.message),this.context.strict=ii,this.context.allowStrictDirective=ui,ci},si.prototype.parsePropertyMethodFunction=function(){var ri=this.createNode(),ii=this.context.allowYield;this.context.allowYield=!0;var ui=this.parseFormalParameters(),ci=this.parsePropertyMethod(ui);return this.context.allowYield=ii,this.finalize(ri,new ei.FunctionExpression(null,ui.params,ci,!1))},si.prototype.parsePropertyMethodAsyncFunction=function(){var ri=this.createNode(),ii=this.context.allowYield,ui=this.context.await;this.context.allowYield=!1,this.context.await=!0;var ci=this.parseFormalParameters(),hi=this.parsePropertyMethod(ci);return this.context.allowYield=ii,this.context.await=ui,this.finalize(ri,new ei.AsyncFunctionExpression(null,ci.params,hi))},si.prototype.parseObjectPropertyKey=function(){var ri,ii=this.createNode(),ui=this.nextToken();switch(ui.type){case 8:case 6:this.context.strict&&ui.octal&&this.tolerateUnexpectedToken(ui,St.Messages.StrictOctalLiteral);var ci=this.getTokenRaw(ui);ri=this.finalize(ii,new ei.Literal(ui.value,ci));break;case 3:case 1:case 5:case 4:ri=this.finalize(ii,new ei.Identifier(ui.value));break;case 7:ui.value==="["?(ri=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):ri=this.throwUnexpectedToken(ui);break;default:ri=this.throwUnexpectedToken(ui)}return ri},si.prototype.isPropertyKey=function(ri,ii){return ri.type===ni.Syntax.Identifier&&ri.name===ii||ri.type===ni.Syntax.Literal&&ri.value===ii},si.prototype.parseObjectProperty=function(ri){var ii,ui=this.createNode(),ci=this.lookahead,hi=null,mi=null,di=!1,fi=!1,yi=!1,pi=!1;if(ci.type===3){var xi=ci.value;this.nextToken(),di=this.match("["),hi=(pi=!(this.hasLineTerminator||xi!=="async"||this.match(":")||this.match("(")||this.match("*")||this.match(",")))?this.parseObjectPropertyKey():this.finalize(ui,new ei.Identifier(xi))}else this.match("*")?this.nextToken():(di=this.match("["),hi=this.parseObjectPropertyKey());var Si=this.qualifiedPropertyName(this.lookahead);if(ci.type===3&&!pi&&ci.value==="get"&&Si)ii="get",di=this.match("["),hi=this.parseObjectPropertyKey(),this.context.allowYield=!1,mi=this.parseGetterMethod();else if(ci.type===3&&!pi&&ci.value==="set"&&Si)ii="set",di=this.match("["),hi=this.parseObjectPropertyKey(),mi=this.parseSetterMethod();else if(ci.type===7&&ci.value==="*"&&Si)ii="init",di=this.match("["),hi=this.parseObjectPropertyKey(),mi=this.parseGeneratorMethod(),fi=!0;else if(hi||this.throwUnexpectedToken(this.lookahead),ii="init",this.match(":")&&!pi)!di&&this.isPropertyKey(hi,"__proto__")&&(ri.value&&this.tolerateError(St.Messages.DuplicateProtoProperty),ri.value=!0),this.nextToken(),mi=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match("("))mi=pi?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),fi=!0;else if(ci.type===3)if(xi=this.finalize(ui,new ei.Identifier(ci.value)),this.match("=")){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),yi=!0;var vi=this.isolateCoverGrammar(this.parseAssignmentExpression);mi=this.finalize(ui,new ei.AssignmentPattern(xi,vi))}else yi=!0,mi=xi;else this.throwUnexpectedToken(this.nextToken());return this.finalize(ui,new ei.Property(ii,hi,di,mi,fi,yi))},si.prototype.parseObjectInitializer=function(){var ri=this.createNode();this.expect("{");for(var ii=[],ui={value:!1};!this.match("}");)ii.push(this.parseObjectProperty(ui)),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(ri,new ei.ObjectExpression(ii))},si.prototype.parseTemplateHead=function(){Ze.assert(this.lookahead.head,"Template literal must start with a template head");var ri=this.createNode(),ii=this.nextToken(),ui=ii.value,ci=ii.cooked;return this.finalize(ri,new ei.TemplateElement({raw:ui,cooked:ci},ii.tail))},si.prototype.parseTemplateElement=function(){this.lookahead.type!==10&&this.throwUnexpectedToken();var ri=this.createNode(),ii=this.nextToken(),ui=ii.value,ci=ii.cooked;return this.finalize(ri,new ei.TemplateElement({raw:ui,cooked:ci},ii.tail))},si.prototype.parseTemplateLiteral=function(){var ri=this.createNode(),ii=[],ui=[],ci=this.parseTemplateHead();for(ui.push(ci);!ci.tail;)ii.push(this.parseExpression()),ci=this.parseTemplateElement(),ui.push(ci);return this.finalize(ri,new ei.TemplateLiteral(ui,ii))},si.prototype.reinterpretExpressionAsPattern=function(ri){switch(ri.type){case ni.Syntax.Identifier:case ni.Syntax.MemberExpression:case ni.Syntax.RestElement:case ni.Syntax.AssignmentPattern:break;case ni.Syntax.SpreadElement:ri.type=ni.Syntax.RestElement,this.reinterpretExpressionAsPattern(ri.argument);break;case ni.Syntax.ArrayExpression:ri.type=ni.Syntax.ArrayPattern;for(var ii=0;ii<ri.elements.length;ii++)ri.elements[ii]!==null&&this.reinterpretExpressionAsPattern(ri.elements[ii]);break;case ni.Syntax.ObjectExpression:for(ri.type=ni.Syntax.ObjectPattern,ii=0;ii<ri.properties.length;ii++)this.reinterpretExpressionAsPattern(ri.properties[ii].value);break;case ni.Syntax.AssignmentExpression:ri.type=ni.Syntax.AssignmentPattern,delete ri.operator,this.reinterpretExpressionAsPattern(ri.left)}},si.prototype.parseGroupExpression=function(){var ri;if(this.expect("("),this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),ri={type:"ArrowParameterPlaceHolder",params:[],async:!1};else{var ii=this.lookahead,ui=[];if(this.match("..."))ri=this.parseRestElement(ui),this.expect(")"),this.match("=>")||this.expect("=>"),ri={type:"ArrowParameterPlaceHolder",params:[ri],async:!1};else{var ci=!1;if(this.context.isBindingElement=!0,ri=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(",")){var hi=[];for(this.context.isAssignmentTarget=!1,hi.push(ri);this.lookahead.type!==2&&this.match(",");){if(this.nextToken(),this.match(")")){this.nextToken();for(var mi=0;mi<hi.length;mi++)this.reinterpretExpressionAsPattern(hi[mi]);ci=!0,ri={type:"ArrowParameterPlaceHolder",params:hi,async:!1}}else if(this.match("...")){for(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),hi.push(this.parseRestElement(ui)),this.expect(")"),this.match("=>")||this.expect("=>"),this.context.isBindingElement=!1,mi=0;mi<hi.length;mi++)this.reinterpretExpressionAsPattern(hi[mi]);ci=!0,ri={type:"ArrowParameterPlaceHolder",params:hi,async:!1}}else hi.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(ci)break}ci||(ri=this.finalize(this.startNode(ii),new ei.SequenceExpression(hi)))}if(!ci){if(this.expect(")"),this.match("=>")&&(ri.type===ni.Syntax.Identifier&&ri.name==="yield"&&(ci=!0,ri={type:"ArrowParameterPlaceHolder",params:[ri],async:!1}),!ci)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),ri.type===ni.Syntax.SequenceExpression)for(mi=0;mi<ri.expressions.length;mi++)this.reinterpretExpressionAsPattern(ri.expressions[mi]);else this.reinterpretExpressionAsPattern(ri);ri={type:"ArrowParameterPlaceHolder",params:ri.type===ni.Syntax.SequenceExpression?ri.expressions:[ri],async:!1}}this.context.isBindingElement=!1}}}return ri},si.prototype.parseArguments=function(){this.expect("(");var ri=[];if(!this.match(")"))for(;;){var ii=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(ri.push(ii),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),ri},si.prototype.isIdentifierName=function(ri){return ri.type===3||ri.type===4||ri.type===1||ri.type===5},si.prototype.parseIdentifierName=function(){var ri=this.createNode(),ii=this.nextToken();return this.isIdentifierName(ii)||this.throwUnexpectedToken(ii),this.finalize(ri,new ei.Identifier(ii.value))},si.prototype.parseNewExpression=function(){var ri,ii=this.createNode(),ui=this.parseIdentifierName();if(Ze.assert(ui.name==="new","New expression must start with `new`"),this.match("."))if(this.nextToken(),this.lookahead.type===3&&this.context.inFunctionBody&&this.lookahead.value==="target"){var ci=this.parseIdentifierName();ri=new ei.MetaProperty(ui,ci)}else this.throwUnexpectedToken(this.lookahead);else{var hi=this.isolateCoverGrammar(this.parseLeftHandSideExpression),mi=this.match("(")?this.parseArguments():[];ri=new ei.NewExpression(hi,mi),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(ii,ri)},si.prototype.parseAsyncArgument=function(){var ri=this.parseAssignmentExpression();return this.context.firstCoverInitializedNameError=null,ri},si.prototype.parseAsyncArguments=function(){this.expect("(");var ri=[];if(!this.match(")"))for(;;){var ii=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAsyncArgument);if(ri.push(ii),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),ri},si.prototype.parseLeftHandSideExpressionAllowCall=function(){var ri,ii=this.lookahead,ui=this.matchContextualKeyword("async"),ci=this.context.allowIn;for(this.context.allowIn=!0,this.matchKeyword("super")&&this.context.inFunctionBody?(ri=this.createNode(),this.nextToken(),ri=this.finalize(ri,new ei.Super),this.match("(")||this.match(".")||this.match("[")||this.throwUnexpectedToken(this.lookahead)):ri=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var hi=this.parseIdentifierName();ri=this.finalize(this.startNode(ii),new ei.StaticMemberExpression(ri,hi))}else if(this.match("(")){var mi=ui&&ii.lineNumber===this.lookahead.lineNumber;this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var di=mi?this.parseAsyncArguments():this.parseArguments();if(ri=this.finalize(this.startNode(ii),new ei.CallExpression(ri,di)),mi&&this.match("=>")){for(var fi=0;fi<di.length;++fi)this.reinterpretExpressionAsPattern(di[fi]);ri={type:"ArrowParameterPlaceHolder",params:di,async:!0}}}else if(this.match("["))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("["),hi=this.isolateCoverGrammar(this.parseExpression),this.expect("]"),ri=this.finalize(this.startNode(ii),new ei.ComputedMemberExpression(ri,hi));else{if(this.lookahead.type!==10||!this.lookahead.head)break;var yi=this.parseTemplateLiteral();ri=this.finalize(this.startNode(ii),new ei.TaggedTemplateExpression(ri,yi))}return this.context.allowIn=ci,ri},si.prototype.parseSuper=function(){var ri=this.createNode();return this.expectKeyword("super"),this.match("[")||this.match(".")||this.throwUnexpectedToken(this.lookahead),this.finalize(ri,new ei.Super)},si.prototype.parseLeftHandSideExpression=function(){Ze.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var ri=this.startNode(this.lookahead),ii=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var ui=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),ii=this.finalize(ri,new ei.ComputedMemberExpression(ii,ui))}else if(this.match("."))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("."),ui=this.parseIdentifierName(),ii=this.finalize(ri,new ei.StaticMemberExpression(ii,ui));else{if(this.lookahead.type!==10||!this.lookahead.head)break;var ci=this.parseTemplateLiteral();ii=this.finalize(ri,new ei.TaggedTemplateExpression(ii,ci))}return ii},si.prototype.parseUpdateExpression=function(){var ri,ii=this.lookahead;if(this.match("++")||this.match("--")){var ui=this.startNode(ii),ci=this.nextToken();ri=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&ri.type===ni.Syntax.Identifier&&this.scanner.isRestrictedWord(ri.name)&&this.tolerateError(St.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(St.Messages.InvalidLHSInAssignment);var hi=!0;ri=this.finalize(ui,new ei.UpdateExpression(ci.value,ri,hi)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(ri=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&this.lookahead.type===7&&(this.match("++")||this.match("--"))){this.context.strict&&ri.type===ni.Syntax.Identifier&&this.scanner.isRestrictedWord(ri.name)&&this.tolerateError(St.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(St.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var mi=this.nextToken().value;hi=!1,ri=this.finalize(this.startNode(ii),new ei.UpdateExpression(mi,ri,hi))}return ri},si.prototype.parseAwaitExpression=function(){var ri=this.createNode();this.nextToken();var ii=this.parseUnaryExpression();return this.finalize(ri,new ei.AwaitExpression(ii))},si.prototype.parseUnaryExpression=function(){var ri;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var ii=this.startNode(this.lookahead),ui=this.nextToken();ri=this.inheritCoverGrammar(this.parseUnaryExpression),ri=this.finalize(ii,new ei.UnaryExpression(ui.value,ri)),this.context.strict&&ri.operator==="delete"&&ri.argument.type===ni.Syntax.Identifier&&this.tolerateError(St.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else ri=this.context.await&&this.matchContextualKeyword("await")?this.parseAwaitExpression():this.parseUpdateExpression();return ri},si.prototype.parseExponentiationExpression=function(){var ri=this.lookahead,ii=this.inheritCoverGrammar(this.parseUnaryExpression);if(ii.type!==ni.Syntax.UnaryExpression&&this.match("**")){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var ui=ii,ci=this.isolateCoverGrammar(this.parseExponentiationExpression);ii=this.finalize(this.startNode(ri),new ei.BinaryExpression("**",ui,ci))}return ii},si.prototype.binaryPrecedence=function(ri){var ii=ri.value;return ri.type===7?this.operatorPrecedence[ii]||0:ri.type===4&&(ii==="instanceof"||this.context.allowIn&&ii==="in")?7:0},si.prototype.parseBinaryExpression=function(){var ri=this.lookahead,ii=this.inheritCoverGrammar(this.parseExponentiationExpression),ui=this.lookahead,ci=this.binaryPrecedence(ui);if(ci>0){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var hi=[ri,this.lookahead],mi=ii,di=this.isolateCoverGrammar(this.parseExponentiationExpression),fi=[mi,ui.value,di],yi=[ci];!((ci=this.binaryPrecedence(this.lookahead))<=0);){for(;fi.length>2&&ci<=yi[yi.length-1];){di=fi.pop();var pi=fi.pop();yi.pop(),mi=fi.pop(),hi.pop();var xi=this.startNode(hi[hi.length-1]);fi.push(this.finalize(xi,new ei.BinaryExpression(pi,mi,di)))}fi.push(this.nextToken().value),yi.push(ci),hi.push(this.lookahead),fi.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var Si=fi.length-1;ii=fi[Si];for(var vi=hi.pop();Si>1;){var Di=hi.pop(),Ti=vi&&vi.lineStart;xi=this.startNode(Di,Ti),pi=fi[Si-1],ii=this.finalize(xi,new ei.BinaryExpression(pi,fi[Si-2],ii)),Si-=2,vi=Di}}return ii},si.prototype.parseConditionalExpression=function(){var ri=this.lookahead,ii=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var ui=this.context.allowIn;this.context.allowIn=!0;var ci=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=ui,this.expect(":");var hi=this.isolateCoverGrammar(this.parseAssignmentExpression);ii=this.finalize(this.startNode(ri),new ei.ConditionalExpression(ii,ci,hi)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return ii},si.prototype.checkPatternParam=function(ri,ii){switch(ii.type){case ni.Syntax.Identifier:this.validateParam(ri,ii,ii.name);break;case ni.Syntax.RestElement:this.checkPatternParam(ri,ii.argument);break;case ni.Syntax.AssignmentPattern:this.checkPatternParam(ri,ii.left);break;case ni.Syntax.ArrayPattern:for(var ui=0;ui<ii.elements.length;ui++)ii.elements[ui]!==null&&this.checkPatternParam(ri,ii.elements[ui]);break;case ni.Syntax.ObjectPattern:for(ui=0;ui<ii.properties.length;ui++)this.checkPatternParam(ri,ii.properties[ui].value)}ri.simple=ri.simple&&ii instanceof ei.Identifier},si.prototype.reinterpretAsCoverFormalsList=function(ri){var ii,ui=[ri],ci=!1;switch(ri.type){case ni.Syntax.Identifier:break;case"ArrowParameterPlaceHolder":ui=ri.params,ci=ri.async;break;default:return null}ii={simple:!0,paramSet:{}};for(var hi=0;hi<ui.length;++hi)(mi=ui[hi]).type===ni.Syntax.AssignmentPattern?mi.right.type===ni.Syntax.YieldExpression&&(mi.right.argument&&this.throwUnexpectedToken(this.lookahead),mi.right.type=ni.Syntax.Identifier,mi.right.name="yield",delete mi.right.argument,delete mi.right.delegate):ci&&mi.type===ni.Syntax.Identifier&&mi.name==="await"&&this.throwUnexpectedToken(this.lookahead),this.checkPatternParam(ii,mi),ui[hi]=mi;if(this.context.strict||!this.context.allowYield)for(hi=0;hi<ui.length;++hi){var mi;(mi=ui[hi]).type===ni.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}if(ii.message===St.Messages.StrictParamDupe){var di=this.context.strict?ii.stricted:ii.firstRestricted;this.throwUnexpectedToken(di,ii.message)}return{simple:ii.simple,params:ui,stricted:ii.stricted,firstRestricted:ii.firstRestricted,message:ii.message}},si.prototype.parseAssignmentExpression=function(){var ri;if(!this.context.allowYield&&this.matchKeyword("yield"))ri=this.parseYieldExpression();else{var ii=this.lookahead,ui=ii;if(ri=this.parseConditionalExpression(),ui.type===3&&ui.lineNumber===this.lookahead.lineNumber&&ui.value==="async"&&(this.lookahead.type===3||this.matchKeyword("yield"))){var ci=this.parsePrimaryExpression();this.reinterpretExpressionAsPattern(ci),ri={type:"ArrowParameterPlaceHolder",params:[ci],async:!0}}if(ri.type==="ArrowParameterPlaceHolder"||this.match("=>")){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var hi=ri.async,mi=this.reinterpretAsCoverFormalsList(ri);if(mi){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var di=this.context.strict,fi=this.context.allowStrictDirective;this.context.allowStrictDirective=mi.simple;var yi=this.context.allowYield,pi=this.context.await;this.context.allowYield=!0,this.context.await=hi;var xi=this.startNode(ii);this.expect("=>");var Si=void 0;if(this.match("{")){var vi=this.context.allowIn;this.context.allowIn=!0,Si=this.parseFunctionSourceElements(),this.context.allowIn=vi}else Si=this.isolateCoverGrammar(this.parseAssignmentExpression);var Di=Si.type!==ni.Syntax.BlockStatement;this.context.strict&&mi.firstRestricted&&this.throwUnexpectedToken(mi.firstRestricted,mi.message),this.context.strict&&mi.stricted&&this.tolerateUnexpectedToken(mi.stricted,mi.message),ri=hi?this.finalize(xi,new ei.AsyncArrowFunctionExpression(mi.params,Si,Di)):this.finalize(xi,new ei.ArrowFunctionExpression(mi.params,Si,Di)),this.context.strict=di,this.context.allowStrictDirective=fi,this.context.allowYield=yi,this.context.await=pi}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(St.Messages.InvalidLHSInAssignment),this.context.strict&&ri.type===ni.Syntax.Identifier){var Ti=ri;this.scanner.isRestrictedWord(Ti.name)&&this.tolerateUnexpectedToken(ui,St.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(Ti.name)&&this.tolerateUnexpectedToken(ui,St.Messages.StrictReservedWord)}this.match("=")?this.reinterpretExpressionAsPattern(ri):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1);var Fi=(ui=this.nextToken()).value,Ci=this.isolateCoverGrammar(this.parseAssignmentExpression);ri=this.finalize(this.startNode(ii),new ei.AssignmentExpression(Fi,ri,Ci)),this.context.firstCoverInitializedNameError=null}}return ri},si.prototype.parseExpression=function(){var ri=this.lookahead,ii=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var ui=[];for(ui.push(ii);this.lookahead.type!==2&&this.match(",");)this.nextToken(),ui.push(this.isolateCoverGrammar(this.parseAssignmentExpression));ii=this.finalize(this.startNode(ri),new ei.SequenceExpression(ui))}return ii},si.prototype.parseStatementListItem=function(){var ri;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,this.lookahead.type===4)switch(this.lookahead.value){case"export":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,St.Messages.IllegalExportDeclaration),ri=this.parseExportDeclaration();break;case"import":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,St.Messages.IllegalImportDeclaration),ri=this.parseImportDeclaration();break;case"const":ri=this.parseLexicalDeclaration({inFor:!1});break;case"function":ri=this.parseFunctionDeclaration();break;case"class":ri=this.parseClassDeclaration();break;case"let":ri=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:ri=this.parseStatement()}else ri=this.parseStatement();return ri},si.prototype.parseBlock=function(){var ri=this.createNode();this.expect("{");for(var ii=[];!this.match("}");)ii.push(this.parseStatementListItem());return this.expect("}"),this.finalize(ri,new ei.BlockStatement(ii))},si.prototype.parseLexicalBinding=function(ri,ii){var ui=this.createNode(),ci=this.parsePattern([],ri);this.context.strict&&ci.type===ni.Syntax.Identifier&&this.scanner.isRestrictedWord(ci.name)&&this.tolerateError(St.Messages.StrictVarName);var hi=null;return ri==="const"?this.matchKeyword("in")||this.matchContextualKeyword("of")||(this.match("=")?(this.nextToken(),hi=this.isolateCoverGrammar(this.parseAssignmentExpression)):this.throwError(St.Messages.DeclarationMissingInitializer,"const")):(!ii.inFor&&ci.type!==ni.Syntax.Identifier||this.match("="))&&(this.expect("="),hi=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(ui,new ei.VariableDeclarator(ci,hi))},si.prototype.parseBindingList=function(ri,ii){for(var ui=[this.parseLexicalBinding(ri,ii)];this.match(",");)this.nextToken(),ui.push(this.parseLexicalBinding(ri,ii));return ui},si.prototype.isLexicalDeclaration=function(){var ri=this.scanner.saveState();this.scanner.scanComments();var ii=this.scanner.lex();return this.scanner.restoreState(ri),ii.type===3||ii.type===7&&ii.value==="["||ii.type===7&&ii.value==="{"||ii.type===4&&ii.value==="let"||ii.type===4&&ii.value==="yield"},si.prototype.parseLexicalDeclaration=function(ri){var ii=this.createNode(),ui=this.nextToken().value;Ze.assert(ui==="let"||ui==="const","Lexical declaration must be either let or const");var ci=this.parseBindingList(ui,ri);return this.consumeSemicolon(),this.finalize(ii,new ei.VariableDeclaration(ci,ui))},si.prototype.parseBindingRestElement=function(ri,ii){var ui=this.createNode();this.expect("...");var ci=this.parsePattern(ri,ii);return this.finalize(ui,new ei.RestElement(ci))},si.prototype.parseArrayPattern=function(ri,ii){var ui=this.createNode();this.expect("[");for(var ci=[];!this.match("]");)if(this.match(","))this.nextToken(),ci.push(null);else{if(this.match("...")){ci.push(this.parseBindingRestElement(ri,ii));break}ci.push(this.parsePatternWithDefault(ri,ii)),this.match("]")||this.expect(",")}return this.expect("]"),this.finalize(ui,new ei.ArrayPattern(ci))},si.prototype.parsePropertyPattern=function(ri,ii){var ui,ci,hi=this.createNode(),mi=!1,di=!1;if(this.lookahead.type===3){var fi=this.lookahead;ui=this.parseVariableIdentifier();var yi=this.finalize(hi,new ei.Identifier(fi.value));if(this.match("=")){ri.push(fi),di=!0,this.nextToken();var pi=this.parseAssignmentExpression();ci=this.finalize(this.startNode(fi),new ei.AssignmentPattern(yi,pi))}else this.match(":")?(this.expect(":"),ci=this.parsePatternWithDefault(ri,ii)):(ri.push(fi),di=!0,ci=yi)}else mi=this.match("["),ui=this.parseObjectPropertyKey(),this.expect(":"),ci=this.parsePatternWithDefault(ri,ii);return this.finalize(hi,new ei.Property("init",ui,mi,ci,!1,di))},si.prototype.parseObjectPattern=function(ri,ii){var ui=this.createNode(),ci=[];for(this.expect("{");!this.match("}");)ci.push(this.parsePropertyPattern(ri,ii)),this.match("}")||this.expect(",");return this.expect("}"),this.finalize(ui,new ei.ObjectPattern(ci))},si.prototype.parsePattern=function(ri,ii){var ui;return this.match("[")?ui=this.parseArrayPattern(ri,ii):this.match("{")?ui=this.parseObjectPattern(ri,ii):(!this.matchKeyword("let")||ii!=="const"&&ii!=="let"||this.tolerateUnexpectedToken(this.lookahead,St.Messages.LetInLexicalBinding),ri.push(this.lookahead),ui=this.parseVariableIdentifier(ii)),ui},si.prototype.parsePatternWithDefault=function(ri,ii){var ui=this.lookahead,ci=this.parsePattern(ri,ii);if(this.match("=")){this.nextToken();var hi=this.context.allowYield;this.context.allowYield=!0;var mi=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=hi,ci=this.finalize(this.startNode(ui),new ei.AssignmentPattern(ci,mi))}return ci},si.prototype.parseVariableIdentifier=function(ri){var ii=this.createNode(),ui=this.nextToken();return ui.type===4&&ui.value==="yield"?this.context.strict?this.tolerateUnexpectedToken(ui,St.Messages.StrictReservedWord):this.context.allowYield||this.throwUnexpectedToken(ui):ui.type!==3?this.context.strict&&ui.type===4&&this.scanner.isStrictModeReservedWord(ui.value)?this.tolerateUnexpectedToken(ui,St.Messages.StrictReservedWord):(this.context.strict||ui.value!=="let"||ri!=="var")&&this.throwUnexpectedToken(ui):(this.context.isModule||this.context.await)&&ui.type===3&&ui.value==="await"&&this.tolerateUnexpectedToken(ui),this.finalize(ii,new ei.Identifier(ui.value))},si.prototype.parseVariableDeclaration=function(ri){var ii=this.createNode(),ui=this.parsePattern([],"var");this.context.strict&&ui.type===ni.Syntax.Identifier&&this.scanner.isRestrictedWord(ui.name)&&this.tolerateError(St.Messages.StrictVarName);var ci=null;return this.match("=")?(this.nextToken(),ci=this.isolateCoverGrammar(this.parseAssignmentExpression)):ui.type===ni.Syntax.Identifier||ri.inFor||this.expect("="),this.finalize(ii,new ei.VariableDeclarator(ui,ci))},si.prototype.parseVariableDeclarationList=function(ri){var ii={inFor:ri.inFor},ui=[];for(ui.push(this.parseVariableDeclaration(ii));this.match(",");)this.nextToken(),ui.push(this.parseVariableDeclaration(ii));return ui},si.prototype.parseVariableStatement=function(){var ri=this.createNode();this.expectKeyword("var");var ii=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(ri,new ei.VariableDeclaration(ii,"var"))},si.prototype.parseEmptyStatement=function(){var ri=this.createNode();return this.expect(";"),this.finalize(ri,new ei.EmptyStatement)},si.prototype.parseExpressionStatement=function(){var ri=this.createNode(),ii=this.parseExpression();return this.consumeSemicolon(),this.finalize(ri,new ei.ExpressionStatement(ii))},si.prototype.parseIfClause=function(){return this.context.strict&&this.matchKeyword("function")&&this.tolerateError(St.Messages.StrictFunction),this.parseStatement()},si.prototype.parseIfStatement=function(){var ri,ii=this.createNode(),ui=null;this.expectKeyword("if"),this.expect("(");var ci=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),ri=this.finalize(this.createNode(),new ei.EmptyStatement)):(this.expect(")"),ri=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),ui=this.parseIfClause())),this.finalize(ii,new ei.IfStatement(ci,ri,ui))},si.prototype.parseDoWhileStatement=function(){var ri=this.createNode();this.expectKeyword("do");var ii=this.context.inIteration;this.context.inIteration=!0;var ui=this.parseStatement();this.context.inIteration=ii,this.expectKeyword("while"),this.expect("(");var ci=this.parseExpression();return!this.match(")")&&this.config.tolerant?this.tolerateUnexpectedToken(this.nextToken()):(this.expect(")"),this.match(";")&&this.nextToken()),this.finalize(ri,new ei.DoWhileStatement(ui,ci))},si.prototype.parseWhileStatement=function(){var ri,ii=this.createNode();this.expectKeyword("while"),this.expect("(");var ui=this.parseExpression();if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),ri=this.finalize(this.createNode(),new ei.EmptyStatement);else{this.expect(")");var ci=this.context.inIteration;this.context.inIteration=!0,ri=this.parseStatement(),this.context.inIteration=ci}return this.finalize(ii,new ei.WhileStatement(ui,ri))},si.prototype.parseForStatement=function(){var ri,ii,ui,ci=null,hi=null,mi=null,di=!0,fi=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){ci=this.createNode(),this.nextToken();var yi=this.context.allowIn;this.context.allowIn=!1;var pi=this.parseVariableDeclarationList({inFor:!0});if(this.context.allowIn=yi,pi.length===1&&this.matchKeyword("in")){var xi=pi[0];xi.init&&(xi.id.type===ni.Syntax.ArrayPattern||xi.id.type===ni.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(St.Messages.ForInOfLoopInitializer,"for-in"),ci=this.finalize(ci,new ei.VariableDeclaration(pi,"var")),this.nextToken(),ri=ci,ii=this.parseExpression(),ci=null}else pi.length===1&&pi[0].init===null&&this.matchContextualKeyword("of")?(ci=this.finalize(ci,new ei.VariableDeclaration(pi,"var")),this.nextToken(),ri=ci,ii=this.parseAssignmentExpression(),ci=null,di=!1):(ci=this.finalize(ci,new ei.VariableDeclaration(pi,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){ci=this.createNode();var Si=this.nextToken().value;this.context.strict||this.lookahead.value!=="in"?(yi=this.context.allowIn,this.context.allowIn=!1,pi=this.parseBindingList(Si,{inFor:!0}),this.context.allowIn=yi,pi.length===1&&pi[0].init===null&&this.matchKeyword("in")?(ci=this.finalize(ci,new ei.VariableDeclaration(pi,Si)),this.nextToken(),ri=ci,ii=this.parseExpression(),ci=null):pi.length===1&&pi[0].init===null&&this.matchContextualKeyword("of")?(ci=this.finalize(ci,new ei.VariableDeclaration(pi,Si)),this.nextToken(),ri=ci,ii=this.parseAssignmentExpression(),ci=null,di=!1):(this.consumeSemicolon(),ci=this.finalize(ci,new ei.VariableDeclaration(pi,Si)))):(ci=this.finalize(ci,new ei.Identifier(Si)),this.nextToken(),ri=ci,ii=this.parseExpression(),ci=null)}else{var vi=this.lookahead;if(yi=this.context.allowIn,this.context.allowIn=!1,ci=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=yi,this.matchKeyword("in"))this.context.isAssignmentTarget&&ci.type!==ni.Syntax.AssignmentExpression||this.tolerateError(St.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(ci),ri=ci,ii=this.parseExpression(),ci=null;else if(this.matchContextualKeyword("of"))this.context.isAssignmentTarget&&ci.type!==ni.Syntax.AssignmentExpression||this.tolerateError(St.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(ci),ri=ci,ii=this.parseAssignmentExpression(),ci=null,di=!1;else{if(this.match(",")){for(var Di=[ci];this.match(",");)this.nextToken(),Di.push(this.isolateCoverGrammar(this.parseAssignmentExpression));ci=this.finalize(this.startNode(vi),new ei.SequenceExpression(Di))}this.expect(";")}}if(ri===void 0&&(this.match(";")||(hi=this.parseExpression()),this.expect(";"),this.match(")")||(mi=this.parseExpression())),!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),ui=this.finalize(this.createNode(),new ei.EmptyStatement);else{this.expect(")");var Ti=this.context.inIteration;this.context.inIteration=!0,ui=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=Ti}return ri===void 0?this.finalize(fi,new ei.ForStatement(ci,hi,mi,ui)):di?this.finalize(fi,new ei.ForInStatement(ri,ii,ui)):this.finalize(fi,new ei.ForOfStatement(ri,ii,ui))},si.prototype.parseContinueStatement=function(){var ri=this.createNode();this.expectKeyword("continue");var ii=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var ui=this.parseVariableIdentifier();ii=ui;var ci="$"+ui.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,ci)||this.throwError(St.Messages.UnknownLabel,ui.name)}return this.consumeSemicolon(),ii!==null||this.context.inIteration||this.throwError(St.Messages.IllegalContinue),this.finalize(ri,new ei.ContinueStatement(ii))},si.prototype.parseBreakStatement=function(){var ri=this.createNode();this.expectKeyword("break");var ii=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var ui=this.parseVariableIdentifier(),ci="$"+ui.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,ci)||this.throwError(St.Messages.UnknownLabel,ui.name),ii=ui}return this.consumeSemicolon(),ii!==null||this.context.inIteration||this.context.inSwitch||this.throwError(St.Messages.IllegalBreak),this.finalize(ri,new ei.BreakStatement(ii))},si.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(St.Messages.IllegalReturn);var ri=this.createNode();this.expectKeyword("return");var ii=(this.match(";")||this.match("}")||this.hasLineTerminator||this.lookahead.type===2)&&this.lookahead.type!==8&&this.lookahead.type!==10?null:this.parseExpression();return this.consumeSemicolon(),this.finalize(ri,new ei.ReturnStatement(ii))},si.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(St.Messages.StrictModeWith);var ri,ii=this.createNode();this.expectKeyword("with"),this.expect("(");var ui=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),ri=this.finalize(this.createNode(),new ei.EmptyStatement)):(this.expect(")"),ri=this.parseStatement()),this.finalize(ii,new ei.WithStatement(ui,ri))},si.prototype.parseSwitchCase=function(){var ri,ii=this.createNode();this.matchKeyword("default")?(this.nextToken(),ri=null):(this.expectKeyword("case"),ri=this.parseExpression()),this.expect(":");for(var ui=[];!(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"));)ui.push(this.parseStatementListItem());return this.finalize(ii,new ei.SwitchCase(ri,ui))},si.prototype.parseSwitchStatement=function(){var ri=this.createNode();this.expectKeyword("switch"),this.expect("(");var ii=this.parseExpression();this.expect(")");var ui=this.context.inSwitch;this.context.inSwitch=!0;var ci=[],hi=!1;for(this.expect("{");!this.match("}");){var mi=this.parseSwitchCase();mi.test===null&&(hi&&this.throwError(St.Messages.MultipleDefaultsInSwitch),hi=!0),ci.push(mi)}return this.expect("}"),this.context.inSwitch=ui,this.finalize(ri,new ei.SwitchStatement(ii,ci))},si.prototype.parseLabelledStatement=function(){var ri,ii=this.createNode(),ui=this.parseExpression();if(ui.type===ni.Syntax.Identifier&&this.match(":")){this.nextToken();var ci=ui,hi="$"+ci.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,hi)&&this.throwError(St.Messages.Redeclaration,"Label",ci.name),this.context.labelSet[hi]=!0;var mi=void 0;if(this.matchKeyword("class"))this.tolerateUnexpectedToken(this.lookahead),mi=this.parseClassDeclaration();else if(this.matchKeyword("function")){var di=this.lookahead,fi=this.parseFunctionDeclaration();this.context.strict?this.tolerateUnexpectedToken(di,St.Messages.StrictFunction):fi.generator&&this.tolerateUnexpectedToken(di,St.Messages.GeneratorInLegacyContext),mi=fi}else mi=this.parseStatement();delete this.context.labelSet[hi],ri=new ei.LabeledStatement(ci,mi)}else this.consumeSemicolon(),ri=new ei.ExpressionStatement(ui);return this.finalize(ii,ri)},si.prototype.parseThrowStatement=function(){var ri=this.createNode();this.expectKeyword("throw"),this.hasLineTerminator&&this.throwError(St.Messages.NewlineAfterThrow);var ii=this.parseExpression();return this.consumeSemicolon(),this.finalize(ri,new ei.ThrowStatement(ii))},si.prototype.parseCatchClause=function(){var ri=this.createNode();this.expectKeyword("catch"),this.expect("("),this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var ii=[],ui=this.parsePattern(ii),ci={},hi=0;hi<ii.length;hi++){var mi="$"+ii[hi].value;Object.prototype.hasOwnProperty.call(ci,mi)&&this.tolerateError(St.Messages.DuplicateBinding,ii[hi].value),ci[mi]=!0}this.context.strict&&ui.type===ni.Syntax.Identifier&&this.scanner.isRestrictedWord(ui.name)&&this.tolerateError(St.Messages.StrictCatchVariable),this.expect(")");var di=this.parseBlock();return this.finalize(ri,new ei.CatchClause(ui,di))},si.prototype.parseFinallyClause=function(){return this.expectKeyword("finally"),this.parseBlock()},si.prototype.parseTryStatement=function(){var ri=this.createNode();this.expectKeyword("try");var ii=this.parseBlock(),ui=this.matchKeyword("catch")?this.parseCatchClause():null,ci=this.matchKeyword("finally")?this.parseFinallyClause():null;return ui||ci||this.throwError(St.Messages.NoCatchOrFinally),this.finalize(ri,new ei.TryStatement(ii,ui,ci))},si.prototype.parseDebuggerStatement=function(){var ri=this.createNode();return this.expectKeyword("debugger"),this.consumeSemicolon(),this.finalize(ri,new ei.DebuggerStatement)},si.prototype.parseStatement=function(){var ri;switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:ri=this.parseExpressionStatement();break;case 7:var ii=this.lookahead.value;ri=ii==="{"?this.parseBlock():ii==="("?this.parseExpressionStatement():ii===";"?this.parseEmptyStatement():this.parseExpressionStatement();break;case 3:ri=this.matchAsyncFunction()?this.parseFunctionDeclaration():this.parseLabelledStatement();break;case 4:switch(this.lookahead.value){case"break":ri=this.parseBreakStatement();break;case"continue":ri=this.parseContinueStatement();break;case"debugger":ri=this.parseDebuggerStatement();break;case"do":ri=this.parseDoWhileStatement();break;case"for":ri=this.parseForStatement();break;case"function":ri=this.parseFunctionDeclaration();break;case"if":ri=this.parseIfStatement();break;case"return":ri=this.parseReturnStatement();break;case"switch":ri=this.parseSwitchStatement();break;case"throw":ri=this.parseThrowStatement();break;case"try":ri=this.parseTryStatement();break;case"var":ri=this.parseVariableStatement();break;case"while":ri=this.parseWhileStatement();break;case"with":ri=this.parseWithStatement();break;default:ri=this.parseExpressionStatement()}break;default:ri=this.throwUnexpectedToken(this.lookahead)}return ri},si.prototype.parseFunctionSourceElements=function(){var ri=this.createNode();this.expect("{");var ii=this.parseDirectivePrologues(),ui=this.context.labelSet,ci=this.context.inIteration,hi=this.context.inSwitch,mi=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;this.lookahead.type!==2&&!this.match("}");)ii.push(this.parseStatementListItem());return this.expect("}"),this.context.labelSet=ui,this.context.inIteration=ci,this.context.inSwitch=hi,this.context.inFunctionBody=mi,this.finalize(ri,new ei.BlockStatement(ii))},si.prototype.validateParam=function(ri,ii,ui){var ci="$"+ui;this.context.strict?(this.scanner.isRestrictedWord(ui)&&(ri.stricted=ii,ri.message=St.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(ri.paramSet,ci)&&(ri.stricted=ii,ri.message=St.Messages.StrictParamDupe)):ri.firstRestricted||(this.scanner.isRestrictedWord(ui)?(ri.firstRestricted=ii,ri.message=St.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(ui)?(ri.firstRestricted=ii,ri.message=St.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(ri.paramSet,ci)&&(ri.stricted=ii,ri.message=St.Messages.StrictParamDupe)),typeof Object.defineProperty=="function"?Object.defineProperty(ri.paramSet,ci,{value:!0,enumerable:!0,writable:!0,configurable:!0}):ri.paramSet[ci]=!0},si.prototype.parseRestElement=function(ri){var ii=this.createNode();this.expect("...");var ui=this.parsePattern(ri);return this.match("=")&&this.throwError(St.Messages.DefaultRestParameter),this.match(")")||this.throwError(St.Messages.ParameterAfterRestParameter),this.finalize(ii,new ei.RestElement(ui))},si.prototype.parseFormalParameter=function(ri){for(var ii=[],ui=this.match("...")?this.parseRestElement(ii):this.parsePatternWithDefault(ii),ci=0;ci<ii.length;ci++)this.validateParam(ri,ii[ci],ii[ci].value);ri.simple=ri.simple&&ui instanceof ei.Identifier,ri.params.push(ui)},si.prototype.parseFormalParameters=function(ri){var ii;if(ii={simple:!0,params:[],firstRestricted:ri},this.expect("("),!this.match(")"))for(ii.paramSet={};this.lookahead.type!==2&&(this.parseFormalParameter(ii),!this.match(")"))&&(this.expect(","),!this.match(")")););return this.expect(")"),{simple:ii.simple,params:ii.params,stricted:ii.stricted,firstRestricted:ii.firstRestricted,message:ii.message}},si.prototype.matchAsyncFunction=function(){var ri=this.matchContextualKeyword("async");if(ri){var ii=this.scanner.saveState();this.scanner.scanComments();var ui=this.scanner.lex();this.scanner.restoreState(ii),ri=ii.lineNumber===ui.lineNumber&&ui.type===4&&ui.value==="function"}return ri},si.prototype.parseFunctionDeclaration=function(ri){var ii=this.createNode(),ui=this.matchContextualKeyword("async");ui&&this.nextToken(),this.expectKeyword("function");var ci,hi=!ui&&this.match("*");hi&&this.nextToken();var mi=null,di=null;if(!ri||!this.match("(")){var fi=this.lookahead;mi=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(fi.value)&&this.tolerateUnexpectedToken(fi,St.Messages.StrictFunctionName):this.scanner.isRestrictedWord(fi.value)?(di=fi,ci=St.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(fi.value)&&(di=fi,ci=St.Messages.StrictReservedWord)}var yi=this.context.await,pi=this.context.allowYield;this.context.await=ui,this.context.allowYield=!hi;var xi=this.parseFormalParameters(di),Si=xi.params,vi=xi.stricted;di=xi.firstRestricted,xi.message&&(ci=xi.message);var Di=this.context.strict,Ti=this.context.allowStrictDirective;this.context.allowStrictDirective=xi.simple;var Fi=this.parseFunctionSourceElements();return this.context.strict&&di&&this.throwUnexpectedToken(di,ci),this.context.strict&&vi&&this.tolerateUnexpectedToken(vi,ci),this.context.strict=Di,this.context.allowStrictDirective=Ti,this.context.await=yi,this.context.allowYield=pi,ui?this.finalize(ii,new ei.AsyncFunctionDeclaration(mi,Si,Fi)):this.finalize(ii,new ei.FunctionDeclaration(mi,Si,Fi,hi))},si.prototype.parseFunctionExpression=function(){var ri=this.createNode(),ii=this.matchContextualKeyword("async");ii&&this.nextToken(),this.expectKeyword("function");var ui,ci=!ii&&this.match("*");ci&&this.nextToken();var hi,mi=null,di=this.context.await,fi=this.context.allowYield;if(this.context.await=ii,this.context.allowYield=!ci,!this.match("(")){var yi=this.lookahead;mi=this.context.strict||ci||!this.matchKeyword("yield")?this.parseVariableIdentifier():this.parseIdentifierName(),this.context.strict?this.scanner.isRestrictedWord(yi.value)&&this.tolerateUnexpectedToken(yi,St.Messages.StrictFunctionName):this.scanner.isRestrictedWord(yi.value)?(hi=yi,ui=St.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(yi.value)&&(hi=yi,ui=St.Messages.StrictReservedWord)}var pi=this.parseFormalParameters(hi),xi=pi.params,Si=pi.stricted;hi=pi.firstRestricted,pi.message&&(ui=pi.message);var vi=this.context.strict,Di=this.context.allowStrictDirective;this.context.allowStrictDirective=pi.simple;var Ti=this.parseFunctionSourceElements();return this.context.strict&&hi&&this.throwUnexpectedToken(hi,ui),this.context.strict&&Si&&this.tolerateUnexpectedToken(Si,ui),this.context.strict=vi,this.context.allowStrictDirective=Di,this.context.await=di,this.context.allowYield=fi,ii?this.finalize(ri,new ei.AsyncFunctionExpression(mi,xi,Ti)):this.finalize(ri,new ei.FunctionExpression(mi,xi,Ti,ci))},si.prototype.parseDirective=function(){var ri=this.lookahead,ii=this.createNode(),ui=this.parseExpression(),ci=ui.type===ni.Syntax.Literal?this.getTokenRaw(ri).slice(1,-1):null;return this.consumeSemicolon(),this.finalize(ii,ci?new ei.Directive(ui,ci):new ei.ExpressionStatement(ui))},si.prototype.parseDirectivePrologues=function(){for(var ri=null,ii=[];;){var ui=this.lookahead;if(ui.type!==8)break;var ci=this.parseDirective();ii.push(ci);var hi=ci.directive;if(typeof hi!="string")break;hi==="use strict"?(this.context.strict=!0,ri&&this.tolerateUnexpectedToken(ri,St.Messages.StrictOctalLiteral),this.context.allowStrictDirective||this.tolerateUnexpectedToken(ui,St.Messages.IllegalLanguageModeDirective)):!ri&&ui.octal&&(ri=ui)}return ii},si.prototype.qualifiedPropertyName=function(ri){switch(ri.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return ri.value==="["}return!1},si.prototype.parseGetterMethod=function(){var ri=this.createNode(),ii=this.context.allowYield;this.context.allowYield=!0;var ui=this.parseFormalParameters();ui.params.length>0&&this.tolerateError(St.Messages.BadGetterArity);var ci=this.parsePropertyMethod(ui);return this.context.allowYield=ii,this.finalize(ri,new ei.FunctionExpression(null,ui.params,ci,!1))},si.prototype.parseSetterMethod=function(){var ri=this.createNode(),ii=this.context.allowYield;this.context.allowYield=!0;var ui=this.parseFormalParameters();ui.params.length!==1?this.tolerateError(St.Messages.BadSetterArity):ui.params[0]instanceof ei.RestElement&&this.tolerateError(St.Messages.BadSetterRestParameter);var ci=this.parsePropertyMethod(ui);return this.context.allowYield=ii,this.finalize(ri,new ei.FunctionExpression(null,ui.params,ci,!1))},si.prototype.parseGeneratorMethod=function(){var ri=this.createNode(),ii=this.context.allowYield;this.context.allowYield=!0;var ui=this.parseFormalParameters();this.context.allowYield=!1;var ci=this.parsePropertyMethod(ui);return this.context.allowYield=ii,this.finalize(ri,new ei.FunctionExpression(null,ui.params,ci,!0))},si.prototype.isStartOfExpression=function(){var ri=!0,ii=this.lookahead.value;switch(this.lookahead.type){case 7:ri=ii==="["||ii==="("||ii==="{"||ii==="+"||ii==="-"||ii==="!"||ii==="~"||ii==="++"||ii==="--"||ii==="/"||ii==="/=";break;case 4:ri=ii==="class"||ii==="delete"||ii==="function"||ii==="let"||ii==="new"||ii==="super"||ii==="this"||ii==="typeof"||ii==="void"||ii==="yield"}return ri},si.prototype.parseYieldExpression=function(){var ri=this.createNode();this.expectKeyword("yield");var ii=null,ui=!1;if(!this.hasLineTerminator){var ci=this.context.allowYield;this.context.allowYield=!1,(ui=this.match("*"))?(this.nextToken(),ii=this.parseAssignmentExpression()):this.isStartOfExpression()&&(ii=this.parseAssignmentExpression()),this.context.allowYield=ci}return this.finalize(ri,new ei.YieldExpression(ii,ui))},si.prototype.parseClassElement=function(ri){var ii=this.lookahead,ui=this.createNode(),ci="",hi=null,mi=null,di=!1,fi=!1,yi=!1,pi=!1;if(this.match("*"))this.nextToken();else if(di=this.match("["),(hi=this.parseObjectPropertyKey()).name==="static"&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(ii=this.lookahead,yi=!0,di=this.match("["),this.match("*")?this.nextToken():hi=this.parseObjectPropertyKey()),ii.type===3&&!this.hasLineTerminator&&ii.value==="async"){var xi=this.lookahead.value;xi!==":"&&xi!=="("&&xi!=="*"&&(pi=!0,ii=this.lookahead,hi=this.parseObjectPropertyKey(),ii.type===3&&ii.value==="constructor"&&this.tolerateUnexpectedToken(ii,St.Messages.ConstructorIsAsync))}var Si=this.qualifiedPropertyName(this.lookahead);return ii.type===3?ii.value==="get"&&Si?(ci="get",di=this.match("["),hi=this.parseObjectPropertyKey(),this.context.allowYield=!1,mi=this.parseGetterMethod()):ii.value==="set"&&Si&&(ci="set",di=this.match("["),hi=this.parseObjectPropertyKey(),mi=this.parseSetterMethod()):ii.type===7&&ii.value==="*"&&Si&&(ci="init",di=this.match("["),hi=this.parseObjectPropertyKey(),mi=this.parseGeneratorMethod(),fi=!0),!ci&&hi&&this.match("(")&&(ci="init",mi=pi?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),fi=!0),ci||this.throwUnexpectedToken(this.lookahead),ci==="init"&&(ci="method"),di||(yi&&this.isPropertyKey(hi,"prototype")&&this.throwUnexpectedToken(ii,St.Messages.StaticPrototype),!yi&&this.isPropertyKey(hi,"constructor")&&((ci!=="method"||!fi||mi&&mi.generator)&&this.throwUnexpectedToken(ii,St.Messages.ConstructorSpecialMethod),ri.value?this.throwUnexpectedToken(ii,St.Messages.DuplicateConstructor):ri.value=!0,ci="constructor")),this.finalize(ui,new ei.MethodDefinition(hi,di,mi,ci,yi))},si.prototype.parseClassElementList=function(){var ri=[],ii={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():ri.push(this.parseClassElement(ii));return this.expect("}"),ri},si.prototype.parseClassBody=function(){var ri=this.createNode(),ii=this.parseClassElementList();return this.finalize(ri,new ei.ClassBody(ii))},si.prototype.parseClassDeclaration=function(ri){var ii=this.createNode(),ui=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var ci=ri&&this.lookahead.type!==3?null:this.parseVariableIdentifier(),hi=null;this.matchKeyword("extends")&&(this.nextToken(),hi=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var mi=this.parseClassBody();return this.context.strict=ui,this.finalize(ii,new ei.ClassDeclaration(ci,hi,mi))},si.prototype.parseClassExpression=function(){var ri=this.createNode(),ii=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var ui=this.lookahead.type===3?this.parseVariableIdentifier():null,ci=null;this.matchKeyword("extends")&&(this.nextToken(),ci=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var hi=this.parseClassBody();return this.context.strict=ii,this.finalize(ri,new ei.ClassExpression(ui,ci,hi))},si.prototype.parseModule=function(){this.context.strict=!0,this.context.isModule=!0,this.scanner.isModule=!0;for(var ri=this.createNode(),ii=this.parseDirectivePrologues();this.lookahead.type!==2;)ii.push(this.parseStatementListItem());return this.finalize(ri,new ei.Module(ii))},si.prototype.parseScript=function(){for(var ri=this.createNode(),ii=this.parseDirectivePrologues();this.lookahead.type!==2;)ii.push(this.parseStatementListItem());return this.finalize(ri,new ei.Script(ii))},si.prototype.parseModuleSpecifier=function(){var ri=this.createNode();this.lookahead.type!==8&&this.throwError(St.Messages.InvalidModuleSpecifier);var ii=this.nextToken(),ui=this.getTokenRaw(ii);return this.finalize(ri,new ei.Literal(ii.value,ui))},si.prototype.parseImportSpecifier=function(){var ri,ii,ui=this.createNode();return this.lookahead.type===3?(ii=ri=this.parseVariableIdentifier(),this.matchContextualKeyword("as")&&(this.nextToken(),ii=this.parseVariableIdentifier())):(ii=ri=this.parseIdentifierName(),this.matchContextualKeyword("as")?(this.nextToken(),ii=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(ui,new ei.ImportSpecifier(ii,ri))},si.prototype.parseNamedImports=function(){this.expect("{");for(var ri=[];!this.match("}");)ri.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");return this.expect("}"),ri},si.prototype.parseImportDefaultSpecifier=function(){var ri=this.createNode(),ii=this.parseIdentifierName();return this.finalize(ri,new ei.ImportDefaultSpecifier(ii))},si.prototype.parseImportNamespaceSpecifier=function(){var ri=this.createNode();this.expect("*"),this.matchContextualKeyword("as")||this.throwError(St.Messages.NoAsAfterImportNamespace),this.nextToken();var ii=this.parseIdentifierName();return this.finalize(ri,new ei.ImportNamespaceSpecifier(ii))},si.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(St.Messages.IllegalImportDeclaration);var ri,ii=this.createNode();this.expectKeyword("import");var ui=[];if(this.lookahead.type===8)ri=this.parseModuleSpecifier();else{if(this.match("{")?ui=ui.concat(this.parseNamedImports()):this.match("*")?ui.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(ui.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?ui.push(this.parseImportNamespaceSpecifier()):this.match("{")?ui=ui.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),!this.matchContextualKeyword("from")){var ci=this.lookahead.value?St.Messages.UnexpectedToken:St.Messages.MissingFromClause;this.throwError(ci,this.lookahead.value)}this.nextToken(),ri=this.parseModuleSpecifier()}return this.consumeSemicolon(),this.finalize(ii,new ei.ImportDeclaration(ui,ri))},si.prototype.parseExportSpecifier=function(){var ri=this.createNode(),ii=this.parseIdentifierName(),ui=ii;return this.matchContextualKeyword("as")&&(this.nextToken(),ui=this.parseIdentifierName()),this.finalize(ri,new ei.ExportSpecifier(ii,ui))},si.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(St.Messages.IllegalExportDeclaration);var ri,ii=this.createNode();if(this.expectKeyword("export"),this.matchKeyword("default"))if(this.nextToken(),this.matchKeyword("function")){var ui=this.parseFunctionDeclaration(!0);ri=this.finalize(ii,new ei.ExportDefaultDeclaration(ui))}else this.matchKeyword("class")?(ui=this.parseClassDeclaration(!0),ri=this.finalize(ii,new ei.ExportDefaultDeclaration(ui))):this.matchContextualKeyword("async")?(ui=this.matchAsyncFunction()?this.parseFunctionDeclaration(!0):this.parseAssignmentExpression(),ri=this.finalize(ii,new ei.ExportDefaultDeclaration(ui))):(this.matchContextualKeyword("from")&&this.throwError(St.Messages.UnexpectedToken,this.lookahead.value),ui=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression(),this.consumeSemicolon(),ri=this.finalize(ii,new ei.ExportDefaultDeclaration(ui)));else if(this.match("*")){if(this.nextToken(),!this.matchContextualKeyword("from")){var ci=this.lookahead.value?St.Messages.UnexpectedToken:St.Messages.MissingFromClause;this.throwError(ci,this.lookahead.value)}this.nextToken();var hi=this.parseModuleSpecifier();this.consumeSemicolon(),ri=this.finalize(ii,new ei.ExportAllDeclaration(hi))}else if(this.lookahead.type===4){switch(ui=void 0,this.lookahead.value){case"let":case"const":ui=this.parseLexicalDeclaration({inFor:!1});break;case"var":case"class":case"function":ui=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}ri=this.finalize(ii,new ei.ExportNamedDeclaration(ui,[],null))}else if(this.matchAsyncFunction())ui=this.parseFunctionDeclaration(),ri=this.finalize(ii,new ei.ExportNamedDeclaration(ui,[],null));else{var mi=[],di=null,fi=!1;for(this.expect("{");!this.match("}");)fi=fi||this.matchKeyword("default"),mi.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");this.expect("}"),this.matchContextualKeyword("from")?(this.nextToken(),di=this.parseModuleSpecifier(),this.consumeSemicolon()):fi?(ci=this.lookahead.value?St.Messages.UnexpectedToken:St.Messages.MissingFromClause,this.throwError(ci,this.lookahead.value)):this.consumeSemicolon(),ri=this.finalize(ii,new ei.ExportNamedDeclaration(null,mi,di))}return ri},si}();Ke.Parser=ai},function(We,Ke){Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.assert=function(Je,Ze){if(!Je)throw new Error("ASSERT: "+Ze)}},function(We,Ke){Object.defineProperty(Ke,"__esModule",{value:!0});var Je=function(){function Ze(){this.errors=[],this.tolerant=!1}return Ze.prototype.recordError=function(Qe){this.errors.push(Qe)},Ze.prototype.tolerate=function(Qe){if(!this.tolerant)throw Qe;this.recordError(Qe)},Ze.prototype.constructError=function(Qe,St){var ei=new Error(Qe);try{throw ei}catch(ti){Object.create&&Object.defineProperty&&(ei=Object.create(ti),Object.defineProperty(ei,"column",{value:St}))}return ei},Ze.prototype.createError=function(Qe,St,ei,ti){var ni="Line "+St+": "+ti,oi=this.constructError(ni,ei);return oi.index=Qe,oi.lineNumber=St,oi.description=ti,oi},Ze.prototype.throwError=function(Qe,St,ei,ti){throw this.createError(Qe,St,ei,ti)},Ze.prototype.tolerateError=function(Qe,St,ei,ti){var ni=this.createError(Qe,St,ei,ti);if(!this.tolerant)throw ni;this.recordError(ni)},Ze}();Ke.ErrorHandler=Je},function(We,Ke){Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.Messages={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"}},function(We,Ke,Je){Object.defineProperty(Ke,"__esModule",{value:!0});var Ze=Je(9),Qe=Je(4),St=Je(11);function ei(oi){return"0123456789abcdef".indexOf(oi.toLowerCase())}function ti(oi){return"01234567".indexOf(oi)}var ni=function(){function oi(ai,si){this.source=ai,this.errorHandler=si,this.trackComment=!1,this.isModule=!1,this.length=ai.length,this.index=0,this.lineNumber=ai.length>0?1:0,this.lineStart=0,this.curlyStack=[]}return oi.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart}},oi.prototype.restoreState=function(ai){this.index=ai.index,this.lineNumber=ai.lineNumber,this.lineStart=ai.lineStart},oi.prototype.eof=function(){return this.index>=this.length},oi.prototype.throwUnexpectedToken=function(ai){return ai===void 0&&(ai=St.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,ai)},oi.prototype.tolerateUnexpectedToken=function(ai){ai===void 0&&(ai=St.Messages.UnexpectedTokenIllegal),this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,ai)},oi.prototype.skipSingleLineComment=function(ai){var si,ri,ii=[];for(this.trackComment&&(ii=[],si=this.index-ai,ri={start:{line:this.lineNumber,column:this.index-this.lineStart-ai},end:{}});!this.eof();){var ui=this.source.charCodeAt(this.index);if(++this.index,Qe.Character.isLineTerminator(ui)){if(this.trackComment){ri.end={line:this.lineNumber,column:this.index-this.lineStart-1};var ci={multiLine:!1,slice:[si+ai,this.index-1],range:[si,this.index-1],loc:ri};ii.push(ci)}return ui===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,ii}}return this.trackComment&&(ri.end={line:this.lineNumber,column:this.index-this.lineStart},ci={multiLine:!1,slice:[si+ai,this.index],range:[si,this.index],loc:ri},ii.push(ci)),ii},oi.prototype.skipMultiLineComment=function(){var ai,si,ri=[];for(this.trackComment&&(ri=[],ai=this.index-2,si={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var ii=this.source.charCodeAt(this.index);if(Qe.Character.isLineTerminator(ii))ii===13&&this.source.charCodeAt(this.index+1)===10&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(ii===42){if(this.source.charCodeAt(this.index+1)===47){if(this.index+=2,this.trackComment){si.end={line:this.lineNumber,column:this.index-this.lineStart};var ui={multiLine:!0,slice:[ai+2,this.index-2],range:[ai,this.index],loc:si};ri.push(ui)}return ri}++this.index}else++this.index}return this.trackComment&&(si.end={line:this.lineNumber,column:this.index-this.lineStart},ui={multiLine:!0,slice:[ai+2,this.index],range:[ai,this.index],loc:si},ri.push(ui)),this.tolerateUnexpectedToken(),ri},oi.prototype.scanComments=function(){var ai;this.trackComment&&(ai=[]);for(var si=this.index===0;!this.eof();){var ri=this.source.charCodeAt(this.index);if(Qe.Character.isWhiteSpace(ri))++this.index;else if(Qe.Character.isLineTerminator(ri))++this.index,ri===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,si=!0;else if(ri===47)if((ri=this.source.charCodeAt(this.index+1))===47){this.index+=2;var ii=this.skipSingleLineComment(2);this.trackComment&&(ai=ai.concat(ii)),si=!0}else{if(ri!==42)break;this.index+=2,ii=this.skipMultiLineComment(),this.trackComment&&(ai=ai.concat(ii))}else if(si&&ri===45){if(this.source.charCodeAt(this.index+1)!==45||this.source.charCodeAt(this.index+2)!==62)break;this.index+=3,ii=this.skipSingleLineComment(3),this.trackComment&&(ai=ai.concat(ii))}else{if(ri!==60||this.isModule||this.source.slice(this.index+1,this.index+4)!=="!--")break;this.index+=4,ii=this.skipSingleLineComment(4),this.trackComment&&(ai=ai.concat(ii))}}return ai},oi.prototype.isFutureReservedWord=function(ai){switch(ai){case"enum":case"export":case"import":case"super":return!0;default:return!1}},oi.prototype.isStrictModeReservedWord=function(ai){switch(ai){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}},oi.prototype.isRestrictedWord=function(ai){return ai==="eval"||ai==="arguments"},oi.prototype.isKeyword=function(ai){switch(ai.length){case 2:return ai==="if"||ai==="in"||ai==="do";case 3:return ai==="var"||ai==="for"||ai==="new"||ai==="try"||ai==="let";case 4:return ai==="this"||ai==="else"||ai==="case"||ai==="void"||ai==="with"||ai==="enum";case 5:return ai==="while"||ai==="break"||ai==="catch"||ai==="throw"||ai==="const"||ai==="yield"||ai==="class"||ai==="super";case 6:return ai==="return"||ai==="typeof"||ai==="delete"||ai==="switch"||ai==="export"||ai==="import";case 7:return ai==="default"||ai==="finally"||ai==="extends";case 8:return ai==="function"||ai==="continue"||ai==="debugger";case 10:return ai==="instanceof";default:return!1}},oi.prototype.codePointAt=function(ai){var si=this.source.charCodeAt(ai);if(si>=55296&&si<=56319){var ri=this.source.charCodeAt(ai+1);ri>=56320&&ri<=57343&&(si=1024*(si-55296)+ri-56320+65536)}return si},oi.prototype.scanHexEscape=function(ai){for(var si=ai==="u"?4:2,ri=0,ii=0;ii<si;++ii){if(this.eof()||!Qe.Character.isHexDigit(this.source.charCodeAt(this.index)))return null;ri=16*ri+ei(this.source[this.index++])}return String.fromCharCode(ri)},oi.prototype.scanUnicodeCodePointEscape=function(){var ai=this.source[this.index],si=0;for(ai==="}"&&this.throwUnexpectedToken();!this.eof()&&(ai=this.source[this.index++],Qe.Character.isHexDigit(ai.charCodeAt(0)));)si=16*si+ei(ai);return(si>1114111||ai!=="}")&&this.throwUnexpectedToken(),Qe.Character.fromCodePoint(si)},oi.prototype.getIdentifier=function(){for(var ai=this.index++;!this.eof();){var si=this.source.charCodeAt(this.index);if(si===92)return this.index=ai,this.getComplexIdentifier();if(si>=55296&&si<57343)return this.index=ai,this.getComplexIdentifier();if(!Qe.Character.isIdentifierPart(si))break;++this.index}return this.source.slice(ai,this.index)},oi.prototype.getComplexIdentifier=function(){var ai,si=this.codePointAt(this.index),ri=Qe.Character.fromCodePoint(si);for(this.index+=ri.length,si===92&&(this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,ai=this.scanUnicodeCodePointEscape()):(ai=this.scanHexEscape("u"))!==null&&ai!=="\\"&&Qe.Character.isIdentifierStart(ai.charCodeAt(0))||this.throwUnexpectedToken(),ri=ai);!this.eof()&&(si=this.codePointAt(this.index),Qe.Character.isIdentifierPart(si));)ri+=ai=Qe.Character.fromCodePoint(si),this.index+=ai.length,si===92&&(ri=ri.substr(0,ri.length-1),this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,ai=this.scanUnicodeCodePointEscape()):(ai=this.scanHexEscape("u"))!==null&&ai!=="\\"&&Qe.Character.isIdentifierPart(ai.charCodeAt(0))||this.throwUnexpectedToken(),ri+=ai);return ri},oi.prototype.octalToDecimal=function(ai){var si=ai!=="0",ri=ti(ai);return!this.eof()&&Qe.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(si=!0,ri=8*ri+ti(this.source[this.index++]),"0123".indexOf(ai)>=0&&!this.eof()&&Qe.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(ri=8*ri+ti(this.source[this.index++]))),{code:ri,octal:si}},oi.prototype.scanIdentifier=function(){var ai,si=this.index,ri=this.source.charCodeAt(si)===92?this.getComplexIdentifier():this.getIdentifier();if((ai=ri.length===1?3:this.isKeyword(ri)?4:ri==="null"?5:ri==="true"||ri==="false"?1:3)!=3&&si+ri.length!==this.index){var ii=this.index;this.index=si,this.tolerateUnexpectedToken(St.Messages.InvalidEscapedReservedWord),this.index=ii}return{type:ai,value:ri,lineNumber:this.lineNumber,lineStart:this.lineStart,start:si,end:this.index}},oi.prototype.scanPunctuator=function(){var ai=this.index,si=this.source[this.index];switch(si){case"(":case"{":si==="{"&&this.curlyStack.push("{"),++this.index;break;case".":++this.index,this.source[this.index]==="."&&this.source[this.index+1]==="."&&(this.index+=2,si="...");break;case"}":++this.index,this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:(si=this.source.substr(this.index,4))===">>>="?this.index+=4:(si=si.substr(0,3))==="==="||si==="!=="||si===">>>"||si==="<<="||si===">>="||si==="**="?this.index+=3:(si=si.substr(0,2))==="&&"||si==="||"||si==="=="||si==="!="||si==="+="||si==="-="||si==="*="||si==="/="||si==="++"||si==="--"||si==="<<"||si===">>"||si==="&="||si==="|="||si==="^="||si==="%="||si==="<="||si===">="||si==="=>"||si==="**"?this.index+=2:(si=this.source[this.index],"<>=!+-*%&|^/".indexOf(si)>=0&&++this.index)}return this.index===ai&&this.throwUnexpectedToken(),{type:7,value:si,lineNumber:this.lineNumber,lineStart:this.lineStart,start:ai,end:this.index}},oi.prototype.scanHexLiteral=function(ai){for(var si="";!this.eof()&&Qe.Character.isHexDigit(this.source.charCodeAt(this.index));)si+=this.source[this.index++];return si.length===0&&this.throwUnexpectedToken(),Qe.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseInt("0x"+si,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:ai,end:this.index}},oi.prototype.scanBinaryLiteral=function(ai){for(var si,ri="";!this.eof()&&((si=this.source[this.index])==="0"||si==="1");)ri+=this.source[this.index++];return ri.length===0&&this.throwUnexpectedToken(),this.eof()||(si=this.source.charCodeAt(this.index),(Qe.Character.isIdentifierStart(si)||Qe.Character.isDecimalDigit(si))&&this.throwUnexpectedToken()),{type:6,value:parseInt(ri,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:ai,end:this.index}},oi.prototype.scanOctalLiteral=function(ai,si){var ri="",ii=!1;for(Qe.Character.isOctalDigit(ai.charCodeAt(0))?(ii=!0,ri="0"+this.source[this.index++]):++this.index;!this.eof()&&Qe.Character.isOctalDigit(this.source.charCodeAt(this.index));)ri+=this.source[this.index++];return ii||ri.length!==0||this.throwUnexpectedToken(),(Qe.Character.isIdentifierStart(this.source.charCodeAt(this.index))||Qe.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:6,value:parseInt(ri,8),octal:ii,lineNumber:this.lineNumber,lineStart:this.lineStart,start:si,end:this.index}},oi.prototype.isImplicitOctalLiteral=function(){for(var ai=this.index+1;ai<this.length;++ai){var si=this.source[ai];if(si==="8"||si==="9")return!1;if(!Qe.Character.isOctalDigit(si.charCodeAt(0)))return!0}return!0},oi.prototype.scanNumericLiteral=function(){var ai=this.index,si=this.source[ai];Ze.assert(Qe.Character.isDecimalDigit(si.charCodeAt(0))||si===".","Numeric literal must start with a decimal digit or a decimal point");var ri="";if(si!=="."){if(ri=this.source[this.index++],si=this.source[this.index],ri==="0"){if(si==="x"||si==="X")return++this.index,this.scanHexLiteral(ai);if(si==="b"||si==="B")return++this.index,this.scanBinaryLiteral(ai);if(si==="o"||si==="O")return this.scanOctalLiteral(si,ai);if(si&&Qe.Character.isOctalDigit(si.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(si,ai)}for(;Qe.Character.isDecimalDigit(this.source.charCodeAt(this.index));)ri+=this.source[this.index++];si=this.source[this.index]}if(si==="."){for(ri+=this.source[this.index++];Qe.Character.isDecimalDigit(this.source.charCodeAt(this.index));)ri+=this.source[this.index++];si=this.source[this.index]}if(si==="e"||si==="E")if(ri+=this.source[this.index++],(si=this.source[this.index])!=="+"&&si!=="-"||(ri+=this.source[this.index++]),Qe.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;Qe.Character.isDecimalDigit(this.source.charCodeAt(this.index));)ri+=this.source[this.index++];else this.throwUnexpectedToken();return Qe.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseFloat(ri),lineNumber:this.lineNumber,lineStart:this.lineStart,start:ai,end:this.index}},oi.prototype.scanStringLiteral=function(){var ai=this.index,si=this.source[ai];Ze.assert(si==="'"||si==='"',"String literal must starts with a quote"),++this.index;for(var ri=!1,ii="";!this.eof();){var ui=this.source[this.index++];if(ui===si){si="";break}if(ui==="\\")if((ui=this.source[this.index++])&&Qe.Character.isLineTerminator(ui.charCodeAt(0)))++this.lineNumber,ui==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else switch(ui){case"u":if(this.source[this.index]==="{")++this.index,ii+=this.scanUnicodeCodePointEscape();else{var ci=this.scanHexEscape(ui);ci===null&&this.throwUnexpectedToken(),ii+=ci}break;case"x":var hi=this.scanHexEscape(ui);hi===null&&this.throwUnexpectedToken(St.Messages.InvalidHexEscapeSequence),ii+=hi;break;case"n":ii+=`
`;break;case"r":ii+="\r";break;case"t":ii+="	";break;case"b":ii+="\b";break;case"f":ii+="\f";break;case"v":ii+="\v";break;case"8":case"9":ii+=ui,this.tolerateUnexpectedToken();break;default:if(ui&&Qe.Character.isOctalDigit(ui.charCodeAt(0))){var mi=this.octalToDecimal(ui);ri=mi.octal||ri,ii+=String.fromCharCode(mi.code)}else ii+=ui}else{if(Qe.Character.isLineTerminator(ui.charCodeAt(0)))break;ii+=ui}}return si!==""&&(this.index=ai,this.throwUnexpectedToken()),{type:8,value:ii,octal:ri,lineNumber:this.lineNumber,lineStart:this.lineStart,start:ai,end:this.index}},oi.prototype.scanTemplate=function(){var ai="",si=!1,ri=this.index,ii=this.source[ri]==="`",ui=!1,ci=2;for(++this.index;!this.eof();){var hi=this.source[this.index++];if(hi==="`"){ci=1,ui=!0,si=!0;break}if(hi==="$"){if(this.source[this.index]==="{"){this.curlyStack.push("${"),++this.index,si=!0;break}ai+=hi}else if(hi==="\\")if(hi=this.source[this.index++],Qe.Character.isLineTerminator(hi.charCodeAt(0)))++this.lineNumber,hi==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else switch(hi){case"n":ai+=`
`;break;case"r":ai+="\r";break;case"t":ai+="	";break;case"u":if(this.source[this.index]==="{")++this.index,ai+=this.scanUnicodeCodePointEscape();else{var mi=this.index,di=this.scanHexEscape(hi);di!==null?ai+=di:(this.index=mi,ai+=hi)}break;case"x":var fi=this.scanHexEscape(hi);fi===null&&this.throwUnexpectedToken(St.Messages.InvalidHexEscapeSequence),ai+=fi;break;case"b":ai+="\b";break;case"f":ai+="\f";break;case"v":ai+="\v";break;default:hi==="0"?(Qe.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(St.Messages.TemplateOctalLiteral),ai+="\0"):Qe.Character.isOctalDigit(hi.charCodeAt(0))?this.throwUnexpectedToken(St.Messages.TemplateOctalLiteral):ai+=hi}else Qe.Character.isLineTerminator(hi.charCodeAt(0))?(++this.lineNumber,hi==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index,ai+=`
`):ai+=hi}return si||this.throwUnexpectedToken(),ii||this.curlyStack.pop(),{type:10,value:this.source.slice(ri+1,this.index-ci),cooked:ai,head:ii,tail:ui,lineNumber:this.lineNumber,lineStart:this.lineStart,start:ri,end:this.index}},oi.prototype.testRegExp=function(ai,si){var ri=ai,ii=this;si.indexOf("u")>=0&&(ri=ri.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,function(ui,ci,hi){var mi=parseInt(ci||hi,16);return mi>1114111&&ii.throwUnexpectedToken(St.Messages.InvalidRegExp),mi<=65535?String.fromCharCode(mi):"￿"}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"￿"));try{RegExp(ri)}catch{this.throwUnexpectedToken(St.Messages.InvalidRegExp)}try{return new RegExp(ai,si)}catch{return null}},oi.prototype.scanRegExpBody=function(){var ai=this.source[this.index];Ze.assert(ai==="/","Regular expression literal must start with a slash");for(var si=this.source[this.index++],ri=!1,ii=!1;!this.eof();)if(si+=ai=this.source[this.index++],ai==="\\")ai=this.source[this.index++],Qe.Character.isLineTerminator(ai.charCodeAt(0))&&this.throwUnexpectedToken(St.Messages.UnterminatedRegExp),si+=ai;else if(Qe.Character.isLineTerminator(ai.charCodeAt(0)))this.throwUnexpectedToken(St.Messages.UnterminatedRegExp);else if(ri)ai==="]"&&(ri=!1);else{if(ai==="/"){ii=!0;break}ai==="["&&(ri=!0)}return ii||this.throwUnexpectedToken(St.Messages.UnterminatedRegExp),si.substr(1,si.length-2)},oi.prototype.scanRegExpFlags=function(){for(var ai="";!this.eof();){var si=this.source[this.index];if(!Qe.Character.isIdentifierPart(si.charCodeAt(0)))break;if(++this.index,si!=="\\"||this.eof())ai+=si;else if((si=this.source[this.index])==="u"){++this.index;var ri=this.index,ii=this.scanHexEscape("u");if(ii!==null)for(ai+=ii;ri<this.index;++ri)this.source[ri];else this.index=ri,ai+="u";this.tolerateUnexpectedToken()}else this.tolerateUnexpectedToken()}return ai},oi.prototype.scanRegExp=function(){var ai=this.index,si=this.scanRegExpBody(),ri=this.scanRegExpFlags();return{type:9,value:"",pattern:si,flags:ri,regex:this.testRegExp(si,ri),lineNumber:this.lineNumber,lineStart:this.lineStart,start:ai,end:this.index}},oi.prototype.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var ai=this.source.charCodeAt(this.index);return Qe.Character.isIdentifierStart(ai)?this.scanIdentifier():ai===40||ai===41||ai===59?this.scanPunctuator():ai===39||ai===34?this.scanStringLiteral():ai===46?Qe.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():Qe.Character.isDecimalDigit(ai)?this.scanNumericLiteral():ai===96||ai===125&&this.curlyStack[this.curlyStack.length-1]==="${"?this.scanTemplate():ai>=55296&&ai<57343&&Qe.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},oi}();Ke.Scanner=ni},function(We,Ke){Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.TokenName={},Ke.TokenName[1]="Boolean",Ke.TokenName[2]="<end>",Ke.TokenName[3]="Identifier",Ke.TokenName[4]="Keyword",Ke.TokenName[5]="Null",Ke.TokenName[6]="Numeric",Ke.TokenName[7]="Punctuator",Ke.TokenName[8]="String",Ke.TokenName[9]="RegularExpression",Ke.TokenName[10]="Template"},function(We,Ke){Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",frasl:"⁄",euro:"€",image:"ℑ",weierp:"℘",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",lang:"⟨",rang:"⟩"}},function(We,Ke,Je){Object.defineProperty(Ke,"__esModule",{value:!0});var Ze=Je(10),Qe=Je(12),St=Je(13),ei=function(){function ni(){this.values=[],this.curly=this.paren=-1}return ni.prototype.beforeFunctionExpression=function(oi){return["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(oi)>=0},ni.prototype.isRegexStart=function(){var oi=this.values[this.values.length-1],ai=oi!==null;switch(oi){case"this":case"]":ai=!1;break;case")":var si=this.values[this.paren-1];ai=si==="if"||si==="while"||si==="for"||si==="with";break;case"}":if(ai=!1,this.values[this.curly-3]==="function")ai=!!(ri=this.values[this.curly-4])&&!this.beforeFunctionExpression(ri);else if(this.values[this.curly-4]==="function"){var ri;ai=!(ri=this.values[this.curly-5])||!this.beforeFunctionExpression(ri)}}return ai},ni.prototype.push=function(oi){oi.type===7||oi.type===4?(oi.value==="{"?this.curly=this.values.length:oi.value==="("&&(this.paren=this.values.length),this.values.push(oi.value)):this.values.push(null)},ni}(),ti=function(){function ni(oi,ai){this.errorHandler=new Ze.ErrorHandler,this.errorHandler.tolerant=!!ai&&typeof ai.tolerant=="boolean"&&ai.tolerant,this.scanner=new Qe.Scanner(oi,this.errorHandler),this.scanner.trackComment=!!ai&&typeof ai.comment=="boolean"&&ai.comment,this.trackRange=!!ai&&typeof ai.range=="boolean"&&ai.range,this.trackLoc=!!ai&&typeof ai.loc=="boolean"&&ai.loc,this.buffer=[],this.reader=new ei}return ni.prototype.errors=function(){return this.errorHandler.errors},ni.prototype.getNextToken=function(){if(this.buffer.length===0){var oi=this.scanner.scanComments();if(this.scanner.trackComment)for(var ai=0;ai<oi.length;++ai){var si=oi[ai],ri=this.scanner.source.slice(si.slice[0],si.slice[1]),ii={type:si.multiLine?"BlockComment":"LineComment",value:ri};this.trackRange&&(ii.range=si.range),this.trackLoc&&(ii.loc=si.loc),this.buffer.push(ii)}if(!this.scanner.eof()){var ui=void 0;this.trackLoc&&(ui={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var ci=this.scanner.source[this.scanner.index]==="/"&&this.reader.isRegexStart()?this.scanner.scanRegExp():this.scanner.lex();this.reader.push(ci);var hi={type:St.TokenName[ci.type],value:this.scanner.source.slice(ci.start,ci.end)};if(this.trackRange&&(hi.range=[ci.start,ci.end]),this.trackLoc&&(ui.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},hi.loc=ui),ci.type===9){var mi=ci.pattern,di=ci.flags;hi.regex={pattern:mi,flags:di}}this.buffer.push(hi)}}return this.buffer.shift()},ni}();Ke.Tokenizer=ti}])},Ve.exports=Xe()},function(Ve,ze,qe){var Xe=qe(38),We=qe(53),Ke=qe(76),Je=qe(54),Ze=Object.prototype.toString,Qe=Object.prototype.hasOwnProperty,St={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},ei=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function ti(vi){var Di,Ti,Fi;if(Di=vi.toString(16).toUpperCase(),vi<=255)Ti="x",Fi=2;else if(vi<=65535)Ti="u",Fi=4;else{if(!(vi<=4294967295))throw new We("code point within a string may not be greater than 0xFFFFFFFF");Ti="U",Fi=8}return"\\"+Ti+Xe.repeat("0",Fi-Di.length)+Di}function ni(vi){this.schema=vi.schema||Ke,this.indent=Math.max(1,vi.indent||2),this.noArrayIndent=vi.noArrayIndent||!1,this.skipInvalid=vi.skipInvalid||!1,this.flowLevel=Xe.isNothing(vi.flowLevel)?-1:vi.flowLevel,this.styleMap=function(Di,Ti){var Fi,Ci,Ni,Ri,Yi,ki,ji;if(Ti===null)return{};for(Fi={},Ni=0,Ri=(Ci=Object.keys(Ti)).length;Ni<Ri;Ni+=1)Yi=Ci[Ni],ki=String(Ti[Yi]),Yi.slice(0,2)==="!!"&&(Yi="tag:yaml.org,2002:"+Yi.slice(2)),(ji=Di.compiledTypeMap.fallback[Yi])&&Qe.call(ji.styleAliases,ki)&&(ki=ji.styleAliases[ki]),Fi[Yi]=ki;return Fi}(this.schema,vi.styles||null),this.sortKeys=vi.sortKeys||!1,this.lineWidth=vi.lineWidth||80,this.noRefs=vi.noRefs||!1,this.noCompatMode=vi.noCompatMode||!1,this.condenseFlow=vi.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function oi(vi,Di){for(var Ti,Fi=Xe.repeat(" ",Di),Ci=0,Ni=-1,Ri="",Yi=vi.length;Ci<Yi;)(Ni=vi.indexOf(`
`,Ci))===-1?(Ti=vi.slice(Ci),Ci=Yi):(Ti=vi.slice(Ci,Ni+1),Ci=Ni+1),Ti.length&&Ti!==`
`&&(Ri+=Fi),Ri+=Ti;return Ri}function ai(vi,Di){return`
`+Xe.repeat(" ",vi.indent*Di)}function si(vi){return vi===32||vi===9}function ri(vi){return 32<=vi&&vi<=126||161<=vi&&vi<=55295&&vi!==8232&&vi!==8233||57344<=vi&&vi<=65533&&vi!==65279||65536<=vi&&vi<=1114111}function ii(vi,Di){return ri(vi)&&vi!==65279&&vi!==44&&vi!==91&&vi!==93&&vi!==123&&vi!==125&&vi!==58&&(vi!==35||Di&&function(Ti){return ri(Ti)&&!si(Ti)&&Ti!==65279&&Ti!==13&&Ti!==10}(Di))}function ui(vi){return/^\n* /.test(vi)}function ci(vi,Di,Ti,Fi,Ci){var Ni,Ri,Yi,ki,ji=!1,Vi=!1,Bi=Fi!==-1,Xi=-1,en=ri(ki=vi.charCodeAt(0))&&ki!==65279&&!si(ki)&&ki!==45&&ki!==63&&ki!==58&&ki!==44&&ki!==91&&ki!==93&&ki!==123&&ki!==125&&ki!==35&&ki!==38&&ki!==42&&ki!==33&&ki!==124&&ki!==61&&ki!==62&&ki!==39&&ki!==34&&ki!==37&&ki!==64&&ki!==96&&!si(vi.charCodeAt(vi.length-1));if(Di)for(Ni=0;Ni<vi.length;Ni++){if(!ri(Ri=vi.charCodeAt(Ni)))return 5;Yi=Ni>0?vi.charCodeAt(Ni-1):null,en=en&&ii(Ri,Yi)}else{for(Ni=0;Ni<vi.length;Ni++){if((Ri=vi.charCodeAt(Ni))===10)ji=!0,Bi&&(Vi=Vi||Ni-Xi-1>Fi&&vi[Xi+1]!==" ",Xi=Ni);else if(!ri(Ri))return 5;Yi=Ni>0?vi.charCodeAt(Ni-1):null,en=en&&ii(Ri,Yi)}Vi=Vi||Bi&&Ni-Xi-1>Fi&&vi[Xi+1]!==" "}return ji||Vi?Ti>9&&ui(vi)?5:Vi?4:3:en&&!Ci(vi)?1:2}function hi(vi,Di,Ti,Fi){vi.dump=function(){if(Di.length===0)return"''";if(!vi.noCompatMode&&ei.indexOf(Di)!==-1)return"'"+Di+"'";var Ci=vi.indent*Math.max(1,Ti),Ni=vi.lineWidth===-1?-1:Math.max(Math.min(vi.lineWidth,40),vi.lineWidth-Ci),Ri=Fi||vi.flowLevel>-1&&Ti>=vi.flowLevel;switch(ci(Di,Ri,vi.indent,Ni,function(Yi){return function(ki,ji){var Vi,Bi;for(Vi=0,Bi=ki.implicitTypes.length;Vi<Bi;Vi+=1)if(ki.implicitTypes[Vi].resolve(ji))return!0;return!1}(vi,Yi)})){case 1:return Di;case 2:return"'"+Di.replace(/'/g,"''")+"'";case 3:return"|"+mi(Di,vi.indent)+di(oi(Di,Ci));case 4:return">"+mi(Di,vi.indent)+di(oi(function(Yi,ki){for(var ji,Vi,Bi=/(\n+)([^\n]*)/g,Xi=(tn=Yi.indexOf(`
`),tn=tn!==-1?tn:Yi.length,Bi.lastIndex=tn,fi(Yi.slice(0,tn),ki)),en=Yi[0]===`
`||Yi[0]===" ",tn;Vi=Bi.exec(Yi);){var Ji=Vi[1],Li=Vi[2];ji=Li[0]===" ",Xi+=Ji+(en||ji||Li===""?"":`
`)+fi(Li,ki),en=ji}return Xi}(Di,Ni),Ci));case 5:return'"'+function(Yi){for(var ki,ji,Vi,Bi="",Xi=0;Xi<Yi.length;Xi++)(ki=Yi.charCodeAt(Xi))>=55296&&ki<=56319&&(ji=Yi.charCodeAt(Xi+1))>=56320&&ji<=57343?(Bi+=ti(1024*(ki-55296)+ji-56320+65536),Xi++):(Vi=St[ki],Bi+=!Vi&&ri(ki)?Yi[Xi]:Vi||ti(ki));return Bi}(Di)+'"';default:throw new We("impossible error: invalid scalar style")}}()}function mi(vi,Di){var Ti=ui(vi)?String(Di):"",Fi=vi[vi.length-1]===`
`;return Ti+(Fi&&(vi[vi.length-2]===`
`||vi===`
`)?"+":Fi?"":"-")+`
`}function di(vi){return vi[vi.length-1]===`
`?vi.slice(0,-1):vi}function fi(vi,Di){if(vi===""||vi[0]===" ")return vi;for(var Ti,Fi,Ci=/ [^ ]/g,Ni=0,Ri=0,Yi=0,ki="";Ti=Ci.exec(vi);)(Yi=Ti.index)-Ni>Di&&(Fi=Ri>Ni?Ri:Yi,ki+=`
`+vi.slice(Ni,Fi),Ni=Fi+1),Ri=Yi;return ki+=`
`,vi.length-Ni>Di&&Ri>Ni?ki+=vi.slice(Ni,Ri)+`
`+vi.slice(Ri+1):ki+=vi.slice(Ni),ki.slice(1)}function yi(vi,Di,Ti){var Fi,Ci,Ni,Ri,Yi,ki;for(Ni=0,Ri=(Ci=Ti?vi.explicitTypes:vi.implicitTypes).length;Ni<Ri;Ni+=1)if(((Yi=Ci[Ni]).instanceOf||Yi.predicate)&&(!Yi.instanceOf||typeof Di=="object"&&Di instanceof Yi.instanceOf)&&(!Yi.predicate||Yi.predicate(Di))){if(vi.tag=Ti?Yi.tag:"?",Yi.represent){if(ki=vi.styleMap[Yi.tag]||Yi.defaultStyle,Ze.call(Yi.represent)==="[object Function]")Fi=Yi.represent(Di,ki);else{if(!Qe.call(Yi.represent,ki))throw new We("!<"+Yi.tag+'> tag resolver accepts not "'+ki+'" style');Fi=Yi.represent[ki](Di,ki)}vi.dump=Fi}return!0}return!1}function pi(vi,Di,Ti,Fi,Ci,Ni){vi.tag=null,vi.dump=Ti,yi(vi,Ti,!1)||yi(vi,Ti,!0);var Ri=Ze.call(vi.dump);Fi&&(Fi=vi.flowLevel<0||vi.flowLevel>Di);var Yi,ki,ji=Ri==="[object Object]"||Ri==="[object Array]";if(ji&&(ki=(Yi=vi.duplicates.indexOf(Ti))!==-1),(vi.tag!==null&&vi.tag!=="?"||ki||vi.indent!==2&&Di>0)&&(Ci=!1),ki&&vi.usedDuplicates[Yi])vi.dump="*ref_"+Yi;else{if(ji&&ki&&!vi.usedDuplicates[Yi]&&(vi.usedDuplicates[Yi]=!0),Ri==="[object Object]")Fi&&Object.keys(vi.dump).length!==0?(function(Bi,Xi,en,tn){var Ji,Li,wi,_i,Ai,Oi,Ii="",Mi=Bi.tag,Gi=Object.keys(en);if(Bi.sortKeys===!0)Gi.sort();else if(typeof Bi.sortKeys=="function")Gi.sort(Bi.sortKeys);else if(Bi.sortKeys)throw new We("sortKeys must be a boolean or a function");for(Ji=0,Li=Gi.length;Ji<Li;Ji+=1)Oi="",tn&&Ji===0||(Oi+=ai(Bi,Xi)),_i=en[wi=Gi[Ji]],pi(Bi,Xi+1,wi,!0,!0,!0)&&((Ai=Bi.tag!==null&&Bi.tag!=="?"||Bi.dump&&Bi.dump.length>1024)&&(Bi.dump&&Bi.dump.charCodeAt(0)===10?Oi+="?":Oi+="? "),Oi+=Bi.dump,Ai&&(Oi+=ai(Bi,Xi)),pi(Bi,Xi+1,_i,!0,Ai)&&(Bi.dump&&Bi.dump.charCodeAt(0)===10?Oi+=":":Oi+=": ",Ii+=Oi+=Bi.dump));Bi.tag=Mi,Bi.dump=Ii||"{}"}(vi,Di,vi.dump,Ci),ki&&(vi.dump="&ref_"+Yi+vi.dump)):(function(Bi,Xi,en){var tn,Ji,Li,wi,_i,Ai="",Oi=Bi.tag,Ii=Object.keys(en);for(tn=0,Ji=Ii.length;tn<Ji;tn+=1)_i="",tn!==0&&(_i+=", "),Bi.condenseFlow&&(_i+='"'),wi=en[Li=Ii[tn]],pi(Bi,Xi,Li,!1,!1)&&(Bi.dump.length>1024&&(_i+="? "),_i+=Bi.dump+(Bi.condenseFlow?'"':"")+":"+(Bi.condenseFlow?"":" "),pi(Bi,Xi,wi,!1,!1)&&(Ai+=_i+=Bi.dump));Bi.tag=Oi,Bi.dump="{"+Ai+"}"}(vi,Di,vi.dump),ki&&(vi.dump="&ref_"+Yi+" "+vi.dump));else if(Ri==="[object Array]"){var Vi=vi.noArrayIndent&&Di>0?Di-1:Di;Fi&&vi.dump.length!==0?(function(Bi,Xi,en,tn){var Ji,Li,wi="",_i=Bi.tag;for(Ji=0,Li=en.length;Ji<Li;Ji+=1)pi(Bi,Xi+1,en[Ji],!0,!0)&&(tn&&Ji===0||(wi+=ai(Bi,Xi)),Bi.dump&&Bi.dump.charCodeAt(0)===10?wi+="-":wi+="- ",wi+=Bi.dump);Bi.tag=_i,Bi.dump=wi||"[]"}(vi,Vi,vi.dump,Ci),ki&&(vi.dump="&ref_"+Yi+vi.dump)):(function(Bi,Xi,en){var tn,Ji,Li="",wi=Bi.tag;for(tn=0,Ji=en.length;tn<Ji;tn+=1)pi(Bi,Xi,en[tn],!1,!1)&&(tn!==0&&(Li+=","+(Bi.condenseFlow?"":" ")),Li+=Bi.dump);Bi.tag=wi,Bi.dump="["+Li+"]"}(vi,Vi,vi.dump),ki&&(vi.dump="&ref_"+Yi+" "+vi.dump))}else{if(Ri!=="[object String]"){if(vi.skipInvalid)return!1;throw new We("unacceptable kind of an object to dump "+Ri)}vi.tag!=="?"&&hi(vi,vi.dump,Di,Ni)}vi.tag!==null&&vi.tag!=="?"&&(vi.dump="!<"+vi.tag+"> "+vi.dump)}return!0}function xi(vi,Di){var Ti,Fi,Ci=[],Ni=[];for(function Ri(Yi,ki,ji){var Vi,Bi,Xi;if(Yi!==null&&typeof Yi=="object")if((Bi=ki.indexOf(Yi))!==-1)ji.indexOf(Bi)===-1&&ji.push(Bi);else if(ki.push(Yi),Array.isArray(Yi))for(Bi=0,Xi=Yi.length;Bi<Xi;Bi+=1)Ri(Yi[Bi],ki,ji);else for(Vi=Object.keys(Yi),Bi=0,Xi=Vi.length;Bi<Xi;Bi+=1)Ri(Yi[Vi[Bi]],ki,ji)}(vi,Ci,Ni),Ti=0,Fi=Ni.length;Ti<Fi;Ti+=1)Di.duplicates.push(Ci[Ni[Ti]]);Di.usedDuplicates=new Array(Fi)}function Si(vi,Di){var Ti=new ni(Di=Di||{});return Ti.noRefs||xi(vi,Ti),pi(Ti,0,vi,!0,!0)?Ti.dump+`
`:""}Ve.exports.dump=Si,Ve.exports.safeDump=function(vi,Di){return Si(vi,Xe.extend({schema:Je},Di))}},function(Ve,ze,qe){qe(31),qe(32),qe(33),qe(64),qe(19),qe(65),qe(20),qe(68),qe(92),qe(144),qe(22),qe(94),qe(23);var Xe,We=this&&this.__extends||(Xe=function(ci,hi){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(mi,di){mi.__proto__=di}||function(mi,di){for(var fi in di)di.hasOwnProperty(fi)&&(mi[fi]=di[fi])})(ci,hi)},function(ci,hi){function mi(){this.constructor=ci}Xe(ci,hi),ci.prototype=hi===null?Object.create(hi):(mi.prototype=hi.prototype,new mi)}),Ke=this&&this.__values||function(ci){var hi=typeof Symbol=="function"&&Symbol.iterator,mi=hi&&ci[hi],di=0;if(mi)return mi.call(ci);if(ci&&typeof ci.length=="number")return{next:function(){return ci&&di>=ci.length&&(ci=void 0),{value:ci&&ci[di++],done:!ci}}};throw new TypeError(hi?"Object is not iterable.":"Symbol.iterator is not defined.")},Je=this&&this.__read||function(ci,hi){var mi=typeof Symbol=="function"&&ci[Symbol.iterator];if(!mi)return ci;var di,fi,yi=mi.call(ci),pi=[];try{for(;(hi===void 0||hi-- >0)&&!(di=yi.next()).done;)pi.push(di.value)}catch(xi){fi={error:xi}}finally{try{di&&!di.done&&(mi=yi.return)&&mi.call(yi)}finally{if(fi)throw fi.error}}return pi};Object.defineProperty(ze,"__esModule",{value:!0});var Ze=qe(91),Qe=qe(2),St=qe(183),ei=qe(0),ti=qe(7),ni=qe(95),oi=qe(69),ai=qe(3),si=qe(306),ri=qe(307),ii=qe(308),ui=function(ci){function hi(mi,di){di===void 0&&(di=!1);var fi=ci.call(this)||this;return fi._hasDeclaration=!1,fi._docTypeName="",fi._hasDocumentElement=!1,fi._currentElementSerialized=!1,fi._openTags=[],fi._ended=!1,fi._fragment=di,fi._options=Qe.applyDefaults(mi||{},Ze.DefaultXMLBuilderCBOptions),fi._builderOptions={defaultNamespace:fi._options.defaultNamespace,namespaceAlias:fi._options.namespaceAlias},fi._options.format==="json"?fi._writer=new ri.JSONCBWriter(fi._options):fi._options.format==="yaml"?fi._writer=new ii.YAMLCBWriter(fi._options):fi._writer=new si.XMLCBWriter(fi._options),fi._options.data!==void 0&&fi.on("data",fi._options.data),fi._options.end!==void 0&&fi.on("end",fi._options.end),fi._options.error!==void 0&&fi.on("error",fi._options.error),fi._prefixMap=new ni.NamespacePrefixMap,fi._prefixMap.set("xml",ti.namespace.XML),fi._prefixIndex={value:1},fi._push(fi._writer.frontMatter()),fi}return We(hi,ci),hi.prototype.ele=function(mi,di,fi){var yi,pi;if(Qe.isObject(mi)||Qe.isString(mi)&&(/^\s*</.test(mi)||/^\s*[\{\[]/.test(mi)||/^(\s*|(#.*)|(%.*))*---/.test(mi))){var xi=St.fragment().set(this._options);try{xi.ele(mi)}catch(Ti){return this.emit("error",Ti),this}try{for(var Si=Ke(xi.node.childNodes),vi=Si.next();!vi.done;vi=Si.next()){var Di=vi.value;this._fromNode(Di)}}catch(Ti){yi={error:Ti}}finally{try{vi&&!vi.done&&(pi=Si.return)&&pi.call(Si)}finally{if(yi)throw yi.error}}return this}if(this._serializeOpenTag(!0),!this._fragment&&this._hasDocumentElement&&this._writer.level===0)return this.emit("error",new Error("Document cannot have multiple document element nodes.")),this;try{this._currentElement=St.fragment(this._builderOptions).ele(mi,di,fi)}catch(Ti){return this.emit("error",Ti),this}return this._fragment||this._hasDocumentElement||this._docTypeName===""||this._currentElement.node._qualifiedName===this._docTypeName?(this._currentElementSerialized=!1,this._fragment||(this._hasDocumentElement=!0),this):(this.emit("error",new Error("Document element name does not match DocType declaration name.")),this)},hi.prototype.att=function(mi,di,fi){if(this._currentElement===void 0)return this.emit("error",new Error("Cannot insert an attribute node as child of a document node.")),this;try{this._currentElement.att(mi,di,fi)}catch(yi){return this.emit("error",yi),this}return this},hi.prototype.com=function(mi){var di;this._serializeOpenTag(!0);try{di=St.fragment(this._builderOptions).com(mi).first().node}catch(fi){return this.emit("error",fi),this}return!this._options.wellFormed||ei.xml_isLegalChar(di.data)&&di.data.indexOf("--")===-1&&!di.data.endsWith("-")?(this._push(this._writer.comment(di.data)),this):(this.emit("error",new Error("Comment data contains invalid characters (well-formed required).")),this)},hi.prototype.txt=function(mi){if(!this._fragment&&this._currentElement===void 0)return this.emit("error",new Error("Cannot insert a text node as child of a document node.")),this;var di;this._serializeOpenTag(!0);try{di=St.fragment(this._builderOptions).txt(mi).first().node}catch(yi){return this.emit("error",yi),this}if(this._options.wellFormed&&!ei.xml_isLegalChar(di.data))return this.emit("error",new Error("Text data contains invalid characters (well-formed required).")),this;var fi=di.data.replace(/(?!&(lt|gt|amp|apos|quot);)&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return this._push(this._writer.text(fi)),this},hi.prototype.ins=function(mi,di){var fi;di===void 0&&(di=""),this._serializeOpenTag(!0);try{fi=St.fragment(this._builderOptions).ins(mi,di).first().node}catch(yi){return this.emit("error",yi),this}return this._options.wellFormed&&(fi.target.indexOf(":")!==-1||/^xml$/i.test(fi.target))?(this.emit("error",new Error("Processing instruction target contains invalid characters (well-formed required).")),this):this._options.wellFormed&&!ei.xml_isLegalChar(fi.data)?(this.emit("error",Error("Processing instruction data contains invalid characters (well-formed required).")),this):(this._push(this._writer.instruction(fi.target,fi.data)),this)},hi.prototype.dat=function(mi){var di;this._serializeOpenTag(!0);try{di=St.fragment(this._builderOptions).dat(mi).first().node}catch(fi){return this.emit("error",fi),this}return this._push(this._writer.cdata(di.data)),this},hi.prototype.dec=function(mi){return mi===void 0&&(mi={version:"1.0"}),this._fragment?(this.emit("error",Error("Cannot insert an XML declaration into a document fragment.")),this):this._hasDeclaration?(this.emit("error",Error("XML declaration is already inserted.")),this):(this._push(this._writer.declaration(mi.version||"1.0",mi.encoding,mi.standalone)),this._hasDeclaration=!0,this)},hi.prototype.dtd=function(mi){if(this._fragment)return this.emit("error",Error("Cannot insert a DocType declaration into a document fragment.")),this;if(this._docTypeName!=="")return this.emit("error",new Error("DocType declaration is already inserted.")),this;if(this._hasDocumentElement)return this.emit("error",new Error("Cannot insert DocType declaration after document element.")),this;var di;try{di=St.create().dtd(mi).first().node}catch(fi){return this.emit("error",fi),this}return this._options.wellFormed&&!ei.xml_isPubidChar(di.publicId)?(this.emit("error",new Error("DocType public identifier does not match PubidChar construct (well-formed required).")),this):this._options.wellFormed&&(!ei.xml_isLegalChar(di.systemId)||di.systemId.indexOf('"')!==-1&&di.systemId.indexOf("'")!==-1)?(this.emit("error",new Error("DocType system identifier contains invalid characters (well-formed required).")),this):(this._docTypeName=mi.name,this._push(this._writer.docType(mi.name,di.publicId,di.systemId)),this)},hi.prototype.import=function(mi){var di,fi,yi=St.fragment().set(this._options);try{yi.import(mi)}catch(vi){return this.emit("error",vi),this}try{for(var pi=Ke(yi.node.childNodes),xi=pi.next();!xi.done;xi=pi.next()){var Si=xi.value;this._fromNode(Si)}}catch(vi){di={error:vi}}finally{try{xi&&!xi.done&&(fi=pi.return)&&fi.call(pi)}finally{if(di)throw di.error}}return this},hi.prototype.up=function(){return this._serializeOpenTag(!1),this._serializeCloseTag(),this},hi.prototype.end=function(){for(this._serializeOpenTag(!1);this._openTags.length>0;)this._serializeCloseTag();return this._push(null),this},hi.prototype._serializeOpenTag=function(mi){if(!this._currentElementSerialized&&this._currentElement!==void 0){var di=this._currentElement.node;if(!this._options.wellFormed||di.localName.indexOf(":")===-1&&ei.xml_isName(di.localName)){var fi="",yi=!1,pi=this._prefixMap.copy(),xi={},Si=this._recordNamespaceInformation(di,pi,xi),vi=this._openTags.length===0?null:this._openTags[this._openTags.length-1][1],Di=di.namespaceURI;if(Di===null&&(Di=vi),vi===Di)Si!==null&&(yi=!0),fi=Di===ti.namespace.XML?"xml:"+di.localName:di.localName,this._writer.beginElement(fi),this._push(this._writer.openTagBegin(fi));else{var Ti=di.prefix,Fi=null;if(Ti===null&&Di===Si||(Fi=pi.get(Ti,Di)),Ti==="xmlns"){if(this._options.wellFormed)return void this.emit("error",new Error("An element cannot have the 'xmlns' prefix (well-formed required)."));Fi=Ti}Fi!==null?(fi=Fi+":"+di.localName,Si!==null&&Si!==ti.namespace.XML&&(vi=Si||null),this._writer.beginElement(fi),this._push(this._writer.openTagBegin(fi))):Ti!==null?(Ti in xi&&(Ti=this._generatePrefix(Di,pi,this._prefixIndex)),pi.set(Ti,Di),fi+=Ti+":"+di.localName,this._writer.beginElement(fi),this._push(this._writer.openTagBegin(fi)),this._push(this._writer.attribute("xmlns:"+Ti,this._serializeAttributeValue(Di,this._options.wellFormed))),Si!==null&&(vi=Si||null)):Si===null||Si!==null&&Si!==Di?(yi=!0,fi+=di.localName,vi=Di,this._writer.beginElement(fi),this._push(this._writer.openTagBegin(fi)),this._push(this._writer.attribute("xmlns",this._serializeAttributeValue(Di,this._options.wellFormed)))):(fi+=di.localName,vi=Di,this._writer.beginElement(fi),this._push(this._writer.openTagBegin(fi)))}this._serializeAttributes(di,pi,this._prefixIndex,xi,yi,this._options.wellFormed);var Ci=Di===ti.namespace.HTML;Ci&&!mi&&hi._VoidElementNames.has(di.localName)?(this._push(this._writer.openTagEnd(fi,!0,!0)),this._writer.endElement(fi)):Ci||mi?this._push(this._writer.openTagEnd(fi,!1,!1)):(this._push(this._writer.openTagEnd(fi,!0,!1)),this._writer.endElement(fi)),this._currentElementSerialized=!0,this._openTags.push([fi,vi,this._prefixMap,mi]),this._isPrefixMapModified(this._prefixMap,pi)&&(this._prefixMap=pi),this._writer.level++}else this.emit("error",new Error("Node local name contains invalid characters (well-formed required)."))}},hi.prototype._serializeCloseTag=function(){this._writer.level--;var mi=this._openTags.pop();if(mi!==void 0){var di=Je(mi,4),fi=di[0],yi=(di[1],di[2]),pi=di[3];this._prefixMap=yi,pi&&(this._push(this._writer.closeTag(fi)),this._writer.endElement(fi))}else this.emit("error",new Error("Last element is undefined."))},hi.prototype._push=function(mi){mi===null?(this._ended=!0,this.emit("end")):this._ended?this.emit("error",new Error("Cannot push to ended stream.")):mi.length!==0&&(this._writer.hasData=!0,this.emit("data",mi,this._writer.level))},hi.prototype._fromNode=function(mi){var di,fi,yi,pi;if(ai.Guard.isElementNode(mi)){var xi=mi.prefix?mi.prefix+":"+mi.localName:mi.localName;mi.namespaceURI!==null?this.ele(mi.namespaceURI,xi):this.ele(xi);try{for(var Si=Ke(mi.attributes),vi=Si.next();!vi.done;vi=Si.next()){var Di=vi.value,Ti=Di.prefix?Di.prefix+":"+Di.localName:Di.localName;Di.namespaceURI!==null?this.att(Di.namespaceURI,Ti,Di.value):this.att(Ti,Di.value)}}catch(Ri){di={error:Ri}}finally{try{vi&&!vi.done&&(fi=Si.return)&&fi.call(Si)}finally{if(di)throw di.error}}try{for(var Fi=Ke(mi.childNodes),Ci=Fi.next();!Ci.done;Ci=Fi.next()){var Ni=Ci.value;this._fromNode(Ni)}}catch(Ri){yi={error:Ri}}finally{try{Ci&&!Ci.done&&(pi=Fi.return)&&pi.call(Fi)}finally{if(yi)throw yi.error}}this.up()}else ai.Guard.isExclusiveTextNode(mi)&&mi.data?this.txt(mi.data):ai.Guard.isCommentNode(mi)?this.com(mi.data):ai.Guard.isCDATASectionNode(mi)?this.dat(mi.data):ai.Guard.isProcessingInstructionNode(mi)&&this.ins(mi.target,mi.data)},hi.prototype._serializeAttributes=function(mi,di,fi,yi,pi,xi){var Si,vi,Di=xi?new oi.LocalNameSet:void 0;try{for(var Ti=Ke(mi.attributes),Fi=Ti.next();!Fi.done;Fi=Ti.next()){var Ci=Fi.value;if(xi||pi||Ci.namespaceURI!==null){if(xi&&Di&&Di.has(Ci.namespaceURI,Ci.localName))return void this.emit("error",new Error("Element contains duplicate attributes (well-formed required)."));xi&&Di&&Di.set(Ci.namespaceURI,Ci.localName);var Ni=Ci.namespaceURI,Ri=null;if(Ni!==null)if(Ri=di.get(Ci.prefix,Ni),Ni===ti.namespace.XMLNS){if(Ci.value===ti.namespace.XML||Ci.prefix===null&&pi||Ci.prefix!==null&&(!(Ci.localName in yi)||yi[Ci.localName]!==Ci.value)&&di.has(Ci.localName,Ci.value))continue;if(xi&&Ci.value===ti.namespace.XMLNS)return void this.emit("error",new Error("XMLNS namespace is reserved (well-formed required)."));if(xi&&Ci.value==="")return void this.emit("error",new Error("Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required)."));Ci.prefix==="xmlns"&&(Ri="xmlns")}else Ri===null&&(Ri=Ci.prefix===null||di.hasPrefix(Ci.prefix)&&!di.has(Ci.prefix,Ni)?this._generatePrefix(Ni,di,fi):Ci.prefix,this._push(this._writer.attribute("xmlns:"+Ri,this._serializeAttributeValue(Ni,this._options.wellFormed))));if(xi&&(Ci.localName.indexOf(":")!==-1||!ei.xml_isName(Ci.localName)||Ci.localName==="xmlns"&&Ni===null))return void this.emit("error",new Error("Attribute local name contains invalid characters (well-formed required)."));this._push(this._writer.attribute((Ri!==null?Ri+":":"")+Ci.localName,this._serializeAttributeValue(Ci.value,this._options.wellFormed)))}else this._push(this._writer.attribute(Ci.localName,this._serializeAttributeValue(Ci.value,this._options.wellFormed)))}}catch(Yi){Si={error:Yi}}finally{try{Fi&&!Fi.done&&(vi=Ti.return)&&vi.call(Ti)}finally{if(Si)throw Si.error}}},hi.prototype._serializeAttributeValue=function(mi,di){return di&&mi!==null&&!ei.xml_isLegalChar(mi)?(this.emit("error",new Error("Invalid characters in attribute value.")),""):mi===null?"":mi.replace(/(?!&(lt|gt|amp|apos|quot);)&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},hi.prototype._recordNamespaceInformation=function(mi,di,fi){var yi,pi,xi=null;try{for(var Si=Ke(mi.attributes),vi=Si.next();!vi.done;vi=Si.next()){var Di=vi.value,Ti=Di.namespaceURI,Fi=Di.prefix;if(Ti===ti.namespace.XMLNS){if(Fi===null){xi=Di.value;continue}var Ci=Di.localName,Ni=Di.value;if(Ni===ti.namespace.XML||(Ni===""&&(Ni=null),di.has(Ci,Ni)))continue;di.set(Ci,Ni),fi[Ci]=Ni||""}}}catch(Ri){yi={error:Ri}}finally{try{vi&&!vi.done&&(pi=Si.return)&&pi.call(Si)}finally{if(yi)throw yi.error}}return xi},hi.prototype._generatePrefix=function(mi,di,fi){var yi="ns"+fi.value;return fi.value++,di.set(yi,mi),yi},hi.prototype._isPrefixMapModified=function(mi,di){var fi=mi._items,yi=di._items,pi=mi._nullItems,xi=di._nullItems;for(var Si in yi){var vi=fi[Si];if(vi===void 0)return!0;var Di=yi[Si];if(vi.length!==Di.length)return!0;for(var Ti=0;Ti<vi.length;Ti++)if(vi[Ti]!==Di[Ti])return!0}if(pi.length!==xi.length)return!0;for(Ti=0;Ti<pi.length;Ti++)if(pi[Ti]!==xi[Ti])return!0;return!1},hi._VoidElementNames=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),hi}(qe(309).EventEmitter);ze.XMLBuilderCBImpl=ui},function(Ve,ze,qe){qe(74);var Xe,We=this&&this.__extends||(Xe=function(Je,Ze){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Qe,St){Qe.__proto__=St}||function(Qe,St){for(var ei in St)St.hasOwnProperty(ei)&&(Qe[ei]=St[ei])})(Je,Ze)},function(Je,Ze){function Qe(){this.constructor=Je}Xe(Je,Ze),Je.prototype=Ze===null?Object.create(Ze):(Qe.prototype=Ze.prototype,new Qe)});Object.defineProperty(ze,"__esModule",{value:!0});var Ke=function(Je){function Ze(Qe){var St=Je.call(this,Qe)||this;return St._lineLength=0,St}return We(Ze,Je),Ze.prototype.frontMatter=function(){return""},Ze.prototype.declaration=function(Qe,St,ei){var ti=this._beginLine()+"<?xml";return ti+=' version="'+Qe+'"',St!==void 0&&(ti+=' encoding="'+St+'"'),ei!==void 0&&(ti+=' standalone="'+(ei?"yes":"no")+'"'),ti+="?>"},Ze.prototype.docType=function(Qe,St,ei){var ti=this._beginLine();return ti+=St&&ei?"<!DOCTYPE "+Qe+' PUBLIC "'+St+'" "'+ei+'">':St?"<!DOCTYPE "+Qe+' PUBLIC "'+St+'">':ei?"<!DOCTYPE "+Qe+' SYSTEM "'+ei+'">':"<!DOCTYPE "+Qe+">"},Ze.prototype.comment=function(Qe){return this._beginLine()+"<!--"+Qe+"-->"},Ze.prototype.text=function(Qe){return this._beginLine()+Qe},Ze.prototype.instruction=function(Qe,St){return St?this._beginLine()+"<?"+Qe+" "+St+"?>":this._beginLine()+"<?"+Qe+"?>"},Ze.prototype.cdata=function(Qe){return this._beginLine()+"<![CDATA["+Qe+"]]>"},Ze.prototype.openTagBegin=function(Qe){return this._lineLength+=1+Qe.length,this._beginLine()+"<"+Qe},Ze.prototype.openTagEnd=function(Qe,St,ei){return ei?" />":St?this._writerOptions.allowEmptyTags?"></"+Qe+">":this._writerOptions.spaceBeforeSlash?" />":"/>":">"},Ze.prototype.closeTag=function(Qe){return this._beginLine()+"</"+Qe+">"},Ze.prototype.attribute=function(Qe,St){var ei=Qe+'="'+St+'"';return this._writerOptions.prettyPrint&&this._writerOptions.width>0&&this._lineLength+1+ei.length>this._writerOptions.width?(ei=this._beginLine()+this._indent(1)+ei,this._lineLength=ei.length,ei):(this._lineLength+=1+ei.length," "+ei)},Ze.prototype.beginElement=function(Qe){},Ze.prototype.endElement=function(Qe){},Ze.prototype._beginLine=function(){if(this._writerOptions.prettyPrint){var Qe=(this.hasData?this._writerOptions.newline:"")+this._indent(this._writerOptions.offset+this.level);return this._lineLength=Qe.length,Qe}return""},Ze.prototype._indent=function(Qe){return Qe<=0?"":this._writerOptions.indent.repeat(Qe)},Ze}(qe(114).BaseCBWriter);ze.XMLCBWriter=Ke},function(Ve,ze,qe){qe(74);var Xe,We=this&&this.__extends||(Xe=function(Je,Ze){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Qe,St){Qe.__proto__=St}||function(Qe,St){for(var ei in St)St.hasOwnProperty(ei)&&(Qe[ei]=St[ei])})(Je,Ze)},function(Je,Ze){function Qe(){this.constructor=Je}Xe(Je,Ze),Je.prototype=Ze===null?Object.create(Ze):(Qe.prototype=Ze.prototype,new Qe)});Object.defineProperty(ze,"__esModule",{value:!0});var Ke=function(Je){function Ze(Qe){var St=Je.call(this,Qe)||this;return St._hasChildren=[],St._additionalLevel=0,St}return We(Ze,Je),Ze.prototype.frontMatter=function(){return""},Ze.prototype.declaration=function(Qe,St,ei){return""},Ze.prototype.docType=function(Qe,St,ei){return""},Ze.prototype.comment=function(Qe){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.comment)+this._sep()+this._val(Qe)+this._sep()+"}"},Ze.prototype.text=function(Qe){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.text)+this._sep()+this._val(Qe)+this._sep()+"}"},Ze.prototype.instruction=function(Qe,St){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.ins)+this._sep()+this._val(St?Qe+" "+St:Qe)+this._sep()+"}"},Ze.prototype.cdata=function(Qe){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.cdata)+this._sep()+this._val(Qe)+this._sep()+"}"},Ze.prototype.attribute=function(Qe,St){return this._comma()+this._beginLine(1)+"{"+this._sep()+this._key(this._builderOptions.convert.att+Qe)+this._sep()+this._val(St)+this._sep()+"}"},Ze.prototype.openTagBegin=function(Qe){var St=this._comma()+this._beginLine()+"{"+this._sep()+this._key(Qe)+this._sep()+"{";return this._additionalLevel++,this.hasData=!0,St+=this._beginLine()+this._key(this._builderOptions.convert.text)+this._sep()+"[",this._hasChildren.push(!1),St},Ze.prototype.openTagEnd=function(Qe,St,ei){if(St){var ti=this._sep()+"]";return this._additionalLevel--,ti+=this._beginLine()+"}"+this._sep()+"}"}return""},Ze.prototype.closeTag=function(Qe){var St=this._beginLine()+"]";return this._additionalLevel--,St+=this._beginLine()+"}"+this._sep()+"}"},Ze.prototype.beginElement=function(Qe){},Ze.prototype.endElement=function(Qe){this._hasChildren.pop()},Ze.prototype._beginLine=function(Qe){return Qe===void 0&&(Qe=0),this._writerOptions.prettyPrint?(this.hasData?this._writerOptions.newline:"")+this._indent(this._writerOptions.offset+this.level+Qe):""},Ze.prototype._indent=function(Qe){return Qe+this._additionalLevel<=0?"":this._writerOptions.indent.repeat(Qe+this._additionalLevel)},Ze.prototype._comma=function(){var Qe=this._hasChildren[this._hasChildren.length-1]?",":"";return this._hasChildren.length>0&&(this._hasChildren[this._hasChildren.length-1]=!0),Qe},Ze.prototype._sep=function(){return this._writerOptions.prettyPrint?" ":""},Ze.prototype._key=function(Qe){return'"'+Qe+'":'},Ze.prototype._val=function(Qe){return JSON.stringify(Qe)},Ze}(qe(114).BaseCBWriter);ze.JSONCBWriter=Ke},function(Ve,ze,qe){qe(74);var Xe,We=this&&this.__extends||(Xe=function(Je,Ze){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Qe,St){Qe.__proto__=St}||function(Qe,St){for(var ei in St)St.hasOwnProperty(ei)&&(Qe[ei]=St[ei])})(Je,Ze)},function(Je,Ze){function Qe(){this.constructor=Je}Xe(Je,Ze),Je.prototype=Ze===null?Object.create(Ze):(Qe.prototype=Ze.prototype,new Qe)});Object.defineProperty(ze,"__esModule",{value:!0});var Ke=function(Je){function Ze(Qe){var St=Je.call(this,Qe)||this;if(St._rootWritten=!1,St._additionalLevel=0,Qe.indent.length<2)throw new Error("YAML indententation string must be at least two characters long.");if(Qe.offset<0)throw new Error("YAML offset should be zero or a positive number.");return St}return We(Ze,Je),Ze.prototype.frontMatter=function(){return this._beginLine()+"---"},Ze.prototype.declaration=function(Qe,St,ei){return""},Ze.prototype.docType=function(Qe,St,ei){return""},Ze.prototype.comment=function(Qe){return this._beginLine()+this._key(this._builderOptions.convert.comment)+" "+this._val(Qe)},Ze.prototype.text=function(Qe){return this._beginLine()+this._key(this._builderOptions.convert.text)+" "+this._val(Qe)},Ze.prototype.instruction=function(Qe,St){return this._beginLine()+this._key(this._builderOptions.convert.ins)+" "+this._val(St?Qe+" "+St:Qe)},Ze.prototype.cdata=function(Qe){return this._beginLine()+this._key(this._builderOptions.convert.cdata)+" "+this._val(Qe)},Ze.prototype.attribute=function(Qe,St){this._additionalLevel++;var ei=this._beginLine()+this._key(this._builderOptions.convert.att+Qe)+" "+this._val(St);return this._additionalLevel--,ei},Ze.prototype.openTagBegin=function(Qe){var St=this._beginLine()+this._key(Qe);return this._rootWritten||(this._rootWritten=!0),this.hasData=!0,this._additionalLevel++,St+=this._beginLine(!0)+this._key(this._builderOptions.convert.text)},Ze.prototype.openTagEnd=function(Qe,St,ei){return St?" "+this._val(""):""},Ze.prototype.closeTag=function(Qe){return this._additionalLevel--,""},Ze.prototype.beginElement=function(Qe){},Ze.prototype.endElement=function(Qe){},Ze.prototype._beginLine=function(Qe){return Qe===void 0&&(Qe=!1),(this.hasData?this._writerOptions.newline:"")+this._indent(this._writerOptions.offset+this.level,Qe)},Ze.prototype._indent=function(Qe,St){if(Qe+this._additionalLevel<=0)return"";var ei=this._writerOptions.indent.repeat(Qe+this._additionalLevel);return!St&&this._rootWritten?ei.substr(0,ei.length-2)+"-"+ei.substr(-1,1):ei},Ze.prototype._key=function(Qe){return'"'+Qe+'":'},Ze.prototype._val=function(Qe){return JSON.stringify(Qe)},Ze}(qe(114).BaseCBWriter);ze.YAMLCBWriter=Ke},function(Ve,ze,qe){var Xe,We=typeof Reflect=="object"?Reflect:null,Ke=We&&typeof We.apply=="function"?We.apply:function(ii,ui,ci){return Function.prototype.apply.call(ii,ui,ci)};Xe=We&&typeof We.ownKeys=="function"?We.ownKeys:Object.getOwnPropertySymbols?function(ii){return Object.getOwnPropertyNames(ii).concat(Object.getOwnPropertySymbols(ii))}:function(ii){return Object.getOwnPropertyNames(ii)};var Je=Number.isNaN||function(ii){return ii!=ii};function Ze(){Ze.init.call(this)}Ve.exports=Ze,Ze.EventEmitter=Ze,Ze.prototype._events=void 0,Ze.prototype._eventsCount=0,Ze.prototype._maxListeners=void 0;var Qe=10;function St(ii){if(typeof ii!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof ii)}function ei(ii){return ii._maxListeners===void 0?Ze.defaultMaxListeners:ii._maxListeners}function ti(ii,ui,ci,hi){var mi,di,fi,yi;if(St(ci),(di=ii._events)===void 0?(di=ii._events=Object.create(null),ii._eventsCount=0):(di.newListener!==void 0&&(ii.emit("newListener",ui,ci.listener?ci.listener:ci),di=ii._events),fi=di[ui]),fi===void 0)fi=di[ui]=ci,++ii._eventsCount;else if(typeof fi=="function"?fi=di[ui]=hi?[ci,fi]:[fi,ci]:hi?fi.unshift(ci):fi.push(ci),(mi=ei(ii))>0&&fi.length>mi&&!fi.warned){fi.warned=!0;var pi=new Error("Possible EventEmitter memory leak detected. "+fi.length+" "+String(ui)+" listeners added. Use emitter.setMaxListeners() to increase limit");pi.name="MaxListenersExceededWarning",pi.emitter=ii,pi.type=ui,pi.count=fi.length,yi=pi,console&&console.warn&&console.warn(yi)}return ii}function ni(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function oi(ii,ui,ci){var hi={fired:!1,wrapFn:void 0,target:ii,type:ui,listener:ci},mi=ni.bind(hi);return mi.listener=ci,hi.wrapFn=mi,mi}function ai(ii,ui,ci){var hi=ii._events;if(hi===void 0)return[];var mi=hi[ui];return mi===void 0?[]:typeof mi=="function"?ci?[mi.listener||mi]:[mi]:ci?function(di){for(var fi=new Array(di.length),yi=0;yi<fi.length;++yi)fi[yi]=di[yi].listener||di[yi];return fi}(mi):ri(mi,mi.length)}function si(ii){var ui=this._events;if(ui!==void 0){var ci=ui[ii];if(typeof ci=="function")return 1;if(ci!==void 0)return ci.length}return 0}function ri(ii,ui){for(var ci=new Array(ui),hi=0;hi<ui;++hi)ci[hi]=ii[hi];return ci}Object.defineProperty(Ze,"defaultMaxListeners",{enumerable:!0,get:function(){return Qe},set:function(ii){if(typeof ii!="number"||ii<0||Je(ii))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+ii+".");Qe=ii}}),Ze.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Ze.prototype.setMaxListeners=function(ii){if(typeof ii!="number"||ii<0||Je(ii))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+ii+".");return this._maxListeners=ii,this},Ze.prototype.getMaxListeners=function(){return ei(this)},Ze.prototype.emit=function(ii){for(var ui=[],ci=1;ci<arguments.length;ci++)ui.push(arguments[ci]);var hi=ii==="error",mi=this._events;if(mi!==void 0)hi=hi&&mi.error===void 0;else if(!hi)return!1;if(hi){var di;if(ui.length>0&&(di=ui[0]),di instanceof Error)throw di;var fi=new Error("Unhandled error."+(di?" ("+di.message+")":""));throw fi.context=di,fi}var yi=mi[ii];if(yi===void 0)return!1;if(typeof yi=="function")Ke(yi,this,ui);else{var pi=yi.length,xi=ri(yi,pi);for(ci=0;ci<pi;++ci)Ke(xi[ci],this,ui)}return!0},Ze.prototype.addListener=function(ii,ui){return ti(this,ii,ui,!1)},Ze.prototype.on=Ze.prototype.addListener,Ze.prototype.prependListener=function(ii,ui){return ti(this,ii,ui,!0)},Ze.prototype.once=function(ii,ui){return St(ui),this.on(ii,oi(this,ii,ui)),this},Ze.prototype.prependOnceListener=function(ii,ui){return St(ui),this.prependListener(ii,oi(this,ii,ui)),this},Ze.prototype.removeListener=function(ii,ui){var ci,hi,mi,di,fi;if(St(ui),(hi=this._events)===void 0)return this;if((ci=hi[ii])===void 0)return this;if(ci===ui||ci.listener===ui)--this._eventsCount==0?this._events=Object.create(null):(delete hi[ii],hi.removeListener&&this.emit("removeListener",ii,ci.listener||ui));else if(typeof ci!="function"){for(mi=-1,di=ci.length-1;di>=0;di--)if(ci[di]===ui||ci[di].listener===ui){fi=ci[di].listener,mi=di;break}if(mi<0)return this;mi===0?ci.shift():function(yi,pi){for(;pi+1<yi.length;pi++)yi[pi]=yi[pi+1];yi.pop()}(ci,mi),ci.length===1&&(hi[ii]=ci[0]),hi.removeListener!==void 0&&this.emit("removeListener",ii,fi||ui)}return this},Ze.prototype.off=Ze.prototype.removeListener,Ze.prototype.removeAllListeners=function(ii){var ui,ci,hi;if((ci=this._events)===void 0)return this;if(ci.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):ci[ii]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete ci[ii]),this;if(arguments.length===0){var mi,di=Object.keys(ci);for(hi=0;hi<di.length;++hi)(mi=di[hi])!=="removeListener"&&this.removeAllListeners(mi);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(ui=ci[ii])=="function")this.removeListener(ii,ui);else if(ui!==void 0)for(hi=ui.length-1;hi>=0;hi--)this.removeListener(ii,ui[hi]);return this},Ze.prototype.listeners=function(ii){return ai(this,ii,!0)},Ze.prototype.rawListeners=function(ii){return ai(this,ii,!1)},Ze.listenerCount=function(ii,ui){return typeof ii.listenerCount=="function"?ii.listenerCount(ui):si.call(ii,ui)},Ze.prototype.listenerCount=si,Ze.prototype.eventNames=function(){return this._eventsCount>0?Xe(this._events):[]}},function(Ve,ze,qe){Object.defineProperty(ze,"__esModule",{value:!0});var Xe=qe(77);ze.createCB=function(We){return new Xe.XMLBuilderCBImpl(We)},ze.fragmentCB=function(We){return new Xe.XMLBuilderCBImpl(We,!0)}}])})})(xmlbuilder2_min);var xmlbuilder2_minExports=xmlbuilder2_min.exports;const version="1.0",encoding="utf-8",log=je=>{};class XmlWriterBase{constructor($e){D$1(this,"_no",0),D$1(this,"w"),D$1(this,"_stream"),D$1(this,"_xml",""),D$1(this,"_disposed",!1),this._stream=$e,this.w=xmlbuilder2_minExports.create({version,encoding})}close(){}flush(){}getXml(){return this._xml}writeAttributeString($e,Ve){this._no++,log(`${this._no},writeAttributeString,${$e},${Ve}`),this.w.att($e,Ve)}writeAttributeString2($e,Ve,ze,qe){this._no++,log(`${this._no},writeAttributeString,${$e},${Ve},${ze},${qe}`),Ve=$e?`${$e}:${Ve}`:Ve,this.w.att(ze,Ve,qe)}writeDocType($e,Ve,ze,qe){this._no++,log(`${this._no},writeDocType,${$e},${Ve},${ze}`),this.w.dtd({name:$e,pubID:Ve,sysID:ze})}writeElementString($e,Ve){this._no++,log(`${this._no},writeElementString,${$e},${Ve}`),this.writeStartElement($e),this.writeString(Ve)}writeEndDocument(){this._no++,log(`${this._no},writeEndDocument`),this._xml=this.w.end({prettyPrint:!0}),this._no=0}writeEndElement(){this._no++,log(`${this._no},writeEndElement`),this.w=this.w.up()}writeRaw($e){this._no++,log(`${this._no},writeRaw,${$e}`),this.w.dat($e)}writeStartDocument($e){this._no++,log(`${this._no},writeStartDocument,${$e}`),this.w.dec({version,encoding,standalone:$e})}writeStartElement($e,Ve){this._no++,log(`${this._no},writeStartElement,${$e},${Ve||""}`),Ve?this.w=this.w.ele(Ve,$e):this.w=this.w.ele($e)}writeString($e){this._no++,log(`${this._no},writeString,${$e}`),this.w.txt($e)}dispose(){this._disposed||(this._disposed=!0,this.close())}}class SvgWriter extends XmlWriterBase{constructor($e,Ve,ze=!0){super(),D$1(this,"endIsWritten",!1),D$1(this,"clipPathNumber",1),D$1(this,"isDocument"),D$1(this,"numberFormat"),this.isDocument=ze,this.numberFormat=qe=>round(qe,4).toString(),this.writeHeader($e,Ve)}close(){this.endIsWritten||this.complete()}complete(){this.writeEndElement(),this.isDocument&&this.writeEndDocument(),this.endIsWritten=!0}createStyle($e,Ve,ze,qe=[],Xe=LineJoin.Miter){let We="";if($e.isInvisible()?We+="fill:none;":(We+=`fill:${this.colorToString($e)};`,$e.a!==255&&(We+=`fill-opacity:${$e.a/255};`)),Ve.isInvisible())We+="stroke:none;";else{const Ke=this.numberFormat(ze);switch(We+=`stroke:${this.colorToString(Ve)};stroke-width:${Ke}`,Xe){case LineJoin.Round:We+=";stroke-linejoin:round";break;case LineJoin.Bevel:We+=";stroke-linejoin:bevel";break}if(Ve.a!==255&&(We+=`;stroke-opacity:${Ve.a/255}`),qe&&qe.length>0){We+=";stroke-dasharray:";for(let Je=0;Je<qe.length;Je++)We+=`${Je>0?",":""}${qe[Je]}`}}return We}writeEllipse($e,Ve,ze,qe,Xe,We){this.writeStartElement("ellipse"),this.writeAttributeNumberString("cx",$e+ze/2),this.writeAttributeNumberString("cy",Ve+qe/2),this.writeAttributeNumberString("rx",ze/2),this.writeAttributeNumberString("ry",qe/2),this.writeAttributeString("style",Xe),this.writeEdgeRenderingModeAttribute(We),this.writeEndElement()}beginClip($e,Ve,ze,qe){const Xe="clipPath"+this.clipPathNumber++;this.writeStartElement("defs"),this.writeStartElement("clipPath"),this.writeAttributeString("id",Xe),this.writeStartElement("rect"),this.writeAttributeNumberString("x",$e),this.writeAttributeNumberString("y",Ve),this.writeAttributeNumberString("width",ze),this.writeAttributeNumberString("height",qe),this.writeEndElement(),this.writeEndElement(),this.writeEndElement(),this.writeStartElement("g"),this.writeAttributeString("clip-path",`url(#${Xe})`)}endClip(){this.writeEndElement()}writeImage($e,Ve,ze,qe,Xe,We,Ke,Je,Ze,Qe){const St=Xe-$e/ze*Ke,ei=Ze.width/ze*Ke,ti=We-Ve/qe*Je,ni=Ze.height/qe*Je;this.beginClip(Xe,We,Ke,Je),this.writeImage2(St,ti,ei,ni,Ze,Qe),this.endClip()}writeImage2($e,Ve,ze,qe,Xe,We){this.writeStartElement("image"),this.writeAttributeNumberString("x",$e),this.writeAttributeNumberString("y",Ve),this.writeAttributeNumberString("width",ze),this.writeAttributeNumberString("height",qe),this.writeAttributeString("preserveAspectRatio","none"),We||this.writeAttributeString("image-rendering","pixelated");const Ke="data:image/png;base64,"+arrayBufferToBase64(Xe.data);this.writeAttributeString("xlink:href",Ke),this.writeEndElement()}writeLine($e,Ve,ze,qe){this.writeStartElement("line"),this.writeAttributeNumberString("x1",$e.x),this.writeAttributeNumberString("y1",$e.y),this.writeAttributeNumberString("x2",Ve.x),this.writeAttributeNumberString("y2",Ve.y),this.writeAttributeString("style",ze),this.writeEdgeRenderingModeAttribute(qe),this.writeEndElement()}writePolygon($e,Ve,ze){this.writeStartElement("polygon"),this.writeAttributeString("points",this.pointsToString($e)),this.writeAttributeString("style",Ve),this.writeEdgeRenderingModeAttribute(ze),this.writeEndElement()}writePolyline($e,Ve,ze){this.writeStartElement("polyline"),this.writeAttributeString("points",this.pointsToString($e)),this.writeAttributeString("style",Ve),this.writeEdgeRenderingModeAttribute(ze),this.writeEndElement()}writeRectangle($e,Ve,ze,qe,Xe,We){this.writeStartElement("rect"),this.writeAttributeNumberString("x",$e),this.writeAttributeNumberString("y",Ve),this.writeAttributeNumberString("width",ze),this.writeAttributeNumberString("height",qe),this.writeAttributeString("style",Xe),this.writeEdgeRenderingModeAttribute(We),this.writeEndElement()}writeText($e,Ve,ze,qe=null,Xe=10,We=FontWeights.Normal,Ke=0,Je=HorizontalAlignment.Left,Ze=VerticalAlignment.Top){this.writeStartElement("text");let Qe="hanging";Ze===VerticalAlignment.Middle&&(Qe="middle"),Ze===VerticalAlignment.Bottom&&(Qe="baseline"),this.writeAttributeString("dominant-baseline",Qe);let St="start";Je===HorizontalAlignment.Center&&(St="middle"),Je===HorizontalAlignment.Right&&(St="end"),this.writeAttributeString("text-anchor",St);let ei=`translate(${$e.x},${$e.y})`;Math.abs(Ke)>0&&(ei+=` rotate(${Ke})`),this.writeAttributeString("transform",ei),qe&&this.writeAttributeString("font-family",qe),Xe>0&&this.writeAttributeNumberString("font-size",Xe),We>0&&this.writeAttributeNumberString("font-weight",We),ze.isInvisible()?this.writeAttributeString("fill","none"):(this.writeAttributeString("fill",this.colorToString(ze)),ze.a!==255&&this.writeAttributeNumberString("fill-opacity",ze.a/255)),this.writeString(Ve),this.writeEndElement()}colorToString($e){return $e.equals(OxyColors.Black)?"black":`rgb(${$e.r},${$e.g},${$e.b})`}writeAttributeNumberString($e,Ve){this.writeAttributeString($e,this.numberFormat(Ve))}writeEdgeRenderingModeAttribute($e){let Ve;switch($e){case EdgeRenderingMode.PreferSharpness:Ve="crispEdges";break;case EdgeRenderingMode.PreferSpeed:Ve="optimizeSpeed";break;case EdgeRenderingMode.PreferGeometricAccuracy:Ve="geometricPrecision";break;default:return}this.writeAttributeString("shape-rendering",Ve)}getAutoValue($e,Ve){return isNaN($e)?Ve:this.numberFormat($e)}pointsToString($e){let Ve="";for(const ze of $e)Ve+=`${this.numberFormat(ze.x)},${this.numberFormat(ze.y)} `;return Ve.trim()}writeHeader($e,Ve){this.isDocument&&(this.writeStartDocument(!1),this.writeDocType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd")),this.writeStartElement("svg","http://www.w3.org/2000/svg"),this.writeAttributeString("width",this.getAutoValue($e,"100%")),this.writeAttributeString("height",this.getAutoValue(Ve,"100%")),this.writeAttributeString("version","1.1"),this.writeAttributeString("xmlns:xlink","http://www.w3.org/1999/xlink")}}class SvgRenderContext extends ClippingRenderContext{constructor($e,Ve,ze,qe,Xe,We=!1){if(super(),D$1(this,"w"),D$1(this,"textMeasurer"),D$1(this,"useVerticalTextAlignmentWorkaround"),D$1(this,"disposed",!1),!qe)throw new Error("A text measuring render context must be provided.");this.w=new SvgWriter($e,Ve,ze),this.textMeasurer=qe,this.useVerticalTextAlignmentWorkaround=We,Xe.isVisible()&&this.w.writeRectangle(0,0,$e,Ve,this.w.createStyle(Xe,OxyColors.Undefined,0),EdgeRenderingMode.Adaptive)}close(){this.w.close()}complete(){this.w.complete()}getXml(){return this.w.getXml()}async drawEllipse($e,Ve,ze,qe,Xe){this.w.writeEllipse($e.left,$e.top,$e.width,$e.height,this.w.createStyle(Ve,ze,qe),Xe)}async drawLine($e,Ve,ze,qe,Xe,We){this.w.writePolyline($e,this.w.createStyle(OxyColors.Undefined,Ve,ze,Xe,We),qe)}async drawPolygon($e,Ve,ze,qe,Xe,We,Ke){this.w.writePolygon($e,this.w.createStyle(Ve,ze,qe,We,Ke),Xe)}async drawRectangle($e,Ve,ze,qe,Xe){this.w.writeRectangle($e.left,$e.top,$e.width,$e.height,this.w.createStyle(Ve,ze,qe),Xe)}async drawText($e,Ve,ze,qe,Xe,We,Ke,Je,Ze,Qe){if(!Ve)return;const St=StringHelper.splitLines(Ve),ei=this.measureText(Ve,qe,Xe,We).height/St.length,ti=new ScreenVector(-Math.sin(Ke/180*Math.PI)*ei,+Math.cos(Ke/180*Math.PI)*ei);if(this.useVerticalTextAlignmentWorkaround){const ni=Ze===VerticalAlignment.Bottom?1-St.length:Ze===VerticalAlignment.Top?1:1-St.length/2;Ze=VerticalAlignment.Bottom,$e=screenPointPlus($e,ti.times(ni));for(const oi of St)this.w.writeText($e,oi,ze,qe,Xe,We,Ke,Je,Ze),$e=screenPointPlus($e,ti)}else if(Ze===VerticalAlignment.Bottom)for(let ni=St.length-1;ni>=0;ni--){const oi=St[ni];this.w.writeText($e,oi,ze,qe,Xe,We,Ke,Je,Ze),$e=screenPointMinusVector($e,ti)}else for(const ni of St)this.w.writeText($e,ni,ze,qe,Xe,We,Ke,Je,Ze),$e=screenPointPlus($e,ti)}flush(){this.w.flush()}measureText($e,Ve,ze,qe){return $e===""?OxySize.Empty:this.textMeasurer.measureText($e,Ve,ze,qe)}async drawImage($e,Ve,ze,qe,Xe,We,Ke,Je,Ze,Qe,St){this.w.writeImage(Ve,ze,qe,Xe,We,Ke,Je,Ze,$e,St)}dispose($e){this.disposed||$e&&this.w.dispose(),this.disposed=!0}setClip($e){this.w.beginClip($e.left,$e.top,$e.width,$e.height)}resetClip(){this.w.endClip()}}class FractionHelper{static convertToFractionString($e,Ve=1,ze,qe=1e-6,Xe){if(Math.abs($e)<qe)return"0";$e/=Ve;for(let We=1;We<=64;We++){const Ke=$e*We,Je=Math.round(Ke);if(Math.abs(Ke-Je)<qe){const Ze=!ze||Je!=1?Je.toString():"";return We==1?`${Ze}${ze}`:`${Ze}${ze}/${We}`}}return Xe?Xe($e)+(ze||""):`${$e.toString()}${ze||""}`}}class StringHelper{static splitLines($e){return $e.split(/\r?\n/)}}class PlotModelUtilities{static isReversible($e){if($e.axes.length===0&&$e.series.length===0)return!1;for(const Ve of $e.axes){if(Ve.position===AxisPosition.None)return!1;const ze=Ve.__isReversible;if(ze!==void 0&&!ze)return!1}for(const Ve of $e.series){const ze=Ve.constructor.name;if(!(Ve instanceof XYAxisSeries)||this.NonReversibleSeriesTypes.has(ze))return!1}for(const Ve of $e.annotations){const ze=Ve.constructor.name;if(this.NonReversibleDataSpaceAnnotationTypes.has(ze))return!1}return!0}static isTransposable($e){if($e.axes.length===0&&$e.series.length===0)return!1;for(const Ve of $e.axes)if(Ve.position===AxisPosition.None)return!1;for(const Ve of $e.series){const ze=Ve.constructor.name;if(!isTransposablePlotElement(Ve)||this.NonTransposableSeriesTypes.has(ze))return!1}for(const Ve of $e.annotations){const ze=Ve.constructor.name;if(!isTransposablePlotElement(Ve)||this.NonTransposableDataSpaceAnnotationTypes.has(ze))return!1}return!0}static reverseXAxis($e){$e.title&&($e.title+=" (reversed X Axis)");let Ve=!1;for(const ze of $e.axes)ze.position===AxisPosition.Bottom&&(ze.startPosition=1-ze.startPosition,ze.endPosition=1-ze.endPosition,Ve=!0);return Ve||$e.axes.push(new LinearAxis({position:AxisPosition.Bottom,startPosition:1,endPosition:0})),$e}static reverseYAxis($e){$e.title&&($e.title+=" (reversed Y Axis)");let Ve=!1;for(const ze of $e.axes)ze.position===AxisPosition.Left&&(ze.startPosition=1-ze.startPosition,ze.endPosition=1-ze.endPosition,Ve=!0);return Ve||$e.axes.push(new LinearAxis({position:AxisPosition.Left,startPosition:1,endPosition:0})),$e}static reverseAllAxes($e){$e.title&&($e.title+=" (reversed all Axes)"),$e.update(!1);for(const Ve of $e.axes)(Ve.position===AxisPosition.Left||Ve.position===AxisPosition.Bottom||Ve.position===AxisPosition.Right||Ve.position===AxisPosition.Top)&&(Ve.startPosition=1-Ve.startPosition,Ve.endPosition=1-Ve.endPosition);return $e}static transpose($e){$e.title&&($e.title+=" (transposed)"),$e.update(!1);for(const Ve of $e.axes)switch(Ve.position){case AxisPosition.Bottom:Ve.position=AxisPosition.Left;break;case AxisPosition.Left:Ve.position=AxisPosition.Bottom;break;case AxisPosition.Right:Ve.position=AxisPosition.Top;break;case AxisPosition.Top:Ve.position=AxisPosition.Right;break;case AxisPosition.None:break;default:throw new Error("Invalid axis position")}for(const Ve of $e.annotations)Ve.xAxis&&!Ve.xAxisKey&&(Ve.xAxis.key||(Ve.xAxis.key=this.XAXIS_KEY),Ve.xAxisKey=Ve.xAxis.key),Ve.yAxis&&!Ve.yAxisKey&&(Ve.yAxis.key||(Ve.yAxis.key=this.YAXIS_KEY),Ve.yAxisKey=Ve.yAxis.key);for(const Ve of $e.series)Ve instanceof XYAxisSeries&&(Ve.xAxisKey||(Ve.xAxis?(Ve.xAxis.key||(Ve.xAxis.key=this.XAXIS_KEY),Ve.xAxisKey=Ve.xAxis.key):Ve.xAxisKey=this.XAXIS_KEY),Ve.yAxisKey||(Ve.yAxis?(Ve.yAxis.key||(Ve.yAxis.key=this.YAXIS_KEY),Ve.yAxisKey=Ve.yAxis.key):Ve.yAxisKey=this.YAXIS_KEY));return $e}}D$1(PlotModelUtilities,"XAXIS_KEY","x"),D$1(PlotModelUtilities,"YAXIS_KEY","y"),D$1(PlotModelUtilities,"NonReversibleSeriesTypes",new Set),D$1(PlotModelUtilities,"NonReversibleDataSpaceAnnotationTypes",new Set([])),D$1(PlotModelUtilities,"NonTransposableSeriesTypes",new Set(["CandleStickAndVolumeSeries","OldCandleStickSeries"])),D$1(PlotModelUtilities,"NonTransposableDataSpaceAnnotationTypes",new Set);class ArrayBuilder{static createVector($e,Ve,ze){if(ze.toFixed(0)!==ze.toString())throw new Error("use createVectorWithStep instead");const qe=[];for(let Xe=0;Xe<ze;Xe++)qe[Xe]=Number(($e+(Ve-$e)*Xe/(ze-1)).toFixed(8));return qe}static createVectorWithStep($e,Ve,ze){const qe=Math.round((Ve-$e)/ze),Xe=[];for(let We=0;We<=qe;We++)Xe[We]=Number(($e+We*ze).toFixed(8));return Xe}static evaluate($e,Ve,ze){const qe=Ve.length,Xe=ze.length,We=[];for(let Ke=0;Ke<qe;Ke++){We[Ke]=[];for(let Je=0;Je<Xe;Je++)We[Ke][Je]=$e(Ve[Ke],ze[Je])}return We}static fill($e,Ve){for(let ze=0;ze<$e.length;ze++)$e[ze]=Ve}static fill2D($e,Ve){for(let ze=0;ze<$e.length;ze++)for(let qe=0;qe<$e[ze].length;qe++)$e[ze][qe]=Ve}}class TrackerHelper{static getNearestHit($e,Ve,ze,qe,Xe,We){if($e){if(ze||qe){const Ke=$e.getNearestPoint(Ve,!1);if(this.shouldTrackerOpen(Ke,Ve,Xe))return Ke}if(!qe){const Ke=$e.getNearestPoint(Ve,!0);if(!We||this.shouldTrackerOpen(Ke,Ve,Xe))return Ke}}}static shouldTrackerOpen($e,Ve,ze){return $e!=null&&$e.position?screenPointDistanceTo($e.position,Ve)<ze:!1}}class Conrec{static contour($e,Ve,ze,qe,Xe){let We=0,Ke=0,Je=0,Ze=0;const Qe=new Array(5),St=new Array(5),ei=new Array(5),ti=new Array(5),ni=0,oi=$e.length-1,ai=0,si=$e[0].length-1,ri=qe.length,ii=[0,1,1,0],ui=[0,0,1,1],ci=[[[0,0,8],[0,2,5],[7,6,9]],[[0,3,4],[1,3,1],[4,3,0]],[[9,6,7],[5,2,0],[8,0,0]]],hi=(di,fi)=>(Qe[fi]*ei[di]-Qe[di]*ei[fi])/(Qe[fi]-Qe[di]),mi=(di,fi)=>(Qe[fi]*ti[di]-Qe[di]*ti[fi])/(Qe[fi]-Qe[di]);for(let di=si-1;di>=ai;di--)for(let fi=ni;fi<=oi-1;fi++){const yi=Math.min($e[fi][di],$e[fi][di+1]),pi=Math.min($e[fi+1][di],$e[fi+1][di+1]),xi=Math.min(yi,pi),Si=Math.max($e[fi][di],$e[fi][di+1]),vi=Math.max($e[fi+1][di],$e[fi+1][di+1]),Di=Math.max(Si,vi);if(Di>=qe[0]&&xi<=qe[ri-1]){for(let Ti=0;Ti<ri;Ti++)if(qe[Ti]>=xi&&qe[Ti]<=Di){for(let Fi=4;Fi>=0;Fi--)Fi>0?(Qe[Fi]=$e[fi+ii[Fi-1]][di+ui[Fi-1]]-qe[Ti],ei[Fi]=Ve[fi+ii[Fi-1]],ti[Fi]=ze[di+ui[Fi-1]]):(Qe[0]=.25*(Qe[1]+Qe[2]+Qe[3]+Qe[4]),ei[0]=.5*(Ve[fi]+Ve[fi+1]),ti[0]=.5*(ze[di]+ze[di+1])),Qe[Fi]>0?St[Fi]=1:Qe[Fi]<0?St[Fi]=-1:St[Fi]=0;for(let Fi=1;Fi<=4;Fi++){const Ci=Fi,Ni=0,Ri=Fi!==4?Fi+1:1,Yi=ci[St[Ci]+1][St[Ni]+1][St[Ri]+1];if(Yi!==0){switch(Yi){case 1:We=ei[Ci],Je=ti[Ci],Ke=ei[Ni],Ze=ti[Ni];break;case 2:We=ei[Ni],Je=ti[Ni],Ke=ei[Ri],Ze=ti[Ri];break;case 3:We=ei[Ri],Je=ti[Ri],Ke=ei[Ci],Ze=ti[Ci];break;case 4:We=ei[Ci],Je=ti[Ci],Ke=hi(Ni,Ri),Ze=mi(Ni,Ri);break;case 5:We=ei[Ni],Je=ti[Ni],Ke=hi(Ri,Ci),Ze=mi(Ri,Ci);break;case 6:We=ei[Ri],Je=ti[Ri],Ke=hi(Ci,Ni),Ze=mi(Ci,Ni);break;case 7:We=hi(Ci,Ni),Je=mi(Ci,Ni),Ke=hi(Ni,Ri),Ze=mi(Ni,Ri);break;case 8:We=hi(Ni,Ri),Je=mi(Ni,Ri),Ke=hi(Ri,Ci),Ze=mi(Ri,Ci);break;case 9:We=hi(Ri,Ci),Je=mi(Ri,Ci),Ke=hi(Ci,Ni),Ze=mi(Ci,Ni);break}Xe(We,Je,Ke,Ze,qe[Ti])}}}}}}}var BinningOutlierMode=(je=>(je[je.RejectOutliers=0]="RejectOutliers",je[je.IgnoreOutliers=1]="IgnoreOutliers",je[je.CountOutliers=2]="CountOutliers",je))(BinningOutlierMode||{}),BinningIntervalType=(je=>(je[je.InclusiveLowerBound=0]="InclusiveLowerBound",je[je.InclusiveUpperBound=1]="InclusiveUpperBound",je))(BinningIntervalType||{}),BinningExtremeValueMode=(je=>(je[je.ExcludeExtremeValues=0]="ExcludeExtremeValues",je[je.IncludeExtremeValues=1]="IncludeExtremeValues",je))(BinningExtremeValueMode||{});class BinningOptions{constructor($e,Ve,ze){if(this.outlierMode=$e,this.intervalType=Ve,this.extremeValuesMode=ze,$e!==0&&$e!==2&&$e!==1)throw new Error("Unsupported binning outlier mode");if(Ve!==0&&Ve!==1)throw new Error("Unsupported bin interval type");if(ze!==0&&ze!==1)throw new Error("Unsupported bin interval type")}}class HistogramHelpers{static createUniformBins($e,Ve,ze){if(ze<1)throw new Error("The bin count must be positive.");if(isNaN($e)||!isFinite($e))throw new Error("The start may not be NaN or infinite.");if(isNaN(Ve)||!isFinite(Ve))throw new Error("The start may not be NaN or infinite.");if(Ve<=$e)throw new Error("The end must be strictly greater than the start.");const qe=[];qe.push($e);for(let Xe=1;Xe<ze;Xe++)qe.push($e+(Ve-$e)*Xe/ze);return qe.push(Ve),qe}static collect($e,Ve,ze){if(!$e)throw new Error("Samples cannot be undefined.");if(!Ve)throw new Error("Bin breaks cannot be undefined.");if(!ze)throw new Error("Binning options cannot be undefined.");const qe=Array.from(new Set(Ve)).sort((Ze,Qe)=>Ze-Qe);if(qe.length<2)throw new Error("At least 2 distinct bin breaks must be provided.");if(qe.some(Ze=>isNaN(Ze)||!isFinite(Ze)))throw new Error("Bin breaks may not be NaN or infinite.");const Xe=new Array(qe.length-1).fill(0);let We=0;function Ke(Ze,Qe){return Ze-Qe}for(const Ze of $e){if(isNaN(Ze)||!isFinite(Ze))throw new Error("Samples may not be NaN or infinite.");let Qe=HistogramHelpers.binarySearch(qe,Ze,Ke),St=!1;if(Qe>=0?ze.intervalType===BinningIntervalType.InclusiveUpperBound?Qe>0?(Xe[Qe-1]+=1,St=!0):ze.extremeValuesMode===BinningExtremeValueMode.IncludeExtremeValues&&(Xe[Qe]+=1,St=!0):Qe<Xe.length?(Xe[Qe]+=1,St=!0):ze.extremeValuesMode===BinningExtremeValueMode.IncludeExtremeValues&&(Xe[Qe-1]+=1,St=!0):(Qe=~Qe-1,Qe>=0&&Qe<Xe.length&&(Xe[Qe]+=1,St=!0)),St)We++;else switch(ze.outlierMode){case BinningOutlierMode.RejectOutliers:throw new Error(`Sample with value ${Ze} could not be assigned to any bin.`);case BinningOutlierMode.IgnoreOutliers:break;case BinningOutlierMode.CountOutliers:We++;break}}We===0&&(We=1);const Je=[];for(let Ze=0;Ze<qe.length-1;Ze++){const Qe=Xe[Ze];Je.push(new HistogramItem(qe[Ze],qe[Ze+1],Qe/We,Qe))}return Je}static binarySearch($e,Ve,ze){let qe=0,Xe=$e.length-1;for(;qe<=Xe;){const We=Xe+qe>>1,Ke=ze(Ve,$e[We]);if(Ke>0)qe=We+1;else if(Ke<0)Xe=We-1;else return We}return-qe-1}}function createNormalDistributionModel(){const je=new PlotModel({title:"Normal distribution",subtitle:"Probability density function"});return je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-.05,maximum:1.05,majorStep:.2,minorStep:.05,tickStyle:TickStyle.Inside})),je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-5.25,maximum:5.25,majorStep:1,minorStep:.25,tickStyle:TickStyle.Inside})),je.series.push(createNormalDistributionSeries(-5,5,0,.2)),je.series.push(createNormalDistributionSeries(-5,5,0,1)),je.series.push(createNormalDistributionSeries(-5,5,0,5)),je.series.push(createNormalDistributionSeries(-5,5,-2,.5)),je}const createNormalDistributionSeries=(je,$e,Ve,ze,qe=1001)=>{const Xe=new LineSeries;Xe.title=`μ=${Ve}, σ²=${ze}`;for(let We=0;We<qe;We++){const Ke=je+($e-je)*We/(qe-1),Je=1/Math.sqrt(2*Math.PI*ze)*Math.exp(-(Ke-Ve)*(Ke-Ve)/2/ze);Xe.points.push(newDataPoint(Ke,Je))}return Xe};function lineLegendPositionAtEnd(){const je=new PlotModel({title:"Average (Mean) monthly temperatures in 2003",plotMargins:new OxyThickness(60,4,60,40),plotAreaBorderThickness:new OxyThickness(0),isLegendVisible:!1}),$e=Ze=>`${Ze.title}: ${Number(Ze.yValue).toFixed(1)}ºF`,Ve=new LineSeries({title:"Phoenix",lineLegendPosition:LineLegendPosition.End,trackerStringFormatter:$e}),ze=new LineSeries({title:"Raleigh",lineLegendPosition:LineLegendPosition.End,trackerStringFormatter:$e}),qe=new LineSeries({title:"Minneapolis",lineLegendPosition:LineLegendPosition.End,trackerStringFormatter:$e}),Xe=[52.1,55.1,59.7,67.7,76.3,84.6,91.2,89.1,83.8,72.2,59.8,52.5],We=[40.5,42.2,49.2,59.5,67.4,74.4,77.5,76.5,70.6,60.2,50,41.2],Ke=[12.2,16.5,28.3,45.1,57.1,66.9,71.9,70.2,60,50,32.4,18.6];for(let Ze=0;Ze<12;Ze++)Ve.points.push(newDataPoint(Ze,Xe[Ze])),ze.points.push(newDataPoint(Ze,We[Ze])),qe.points.push(newDataPoint(Ze,Ke[Ze]));je.series.push(Ve),je.series.push(ze),je.series.push(qe);const Je=new CategoryAxis({axislineStyle:LineStyle.Solid});return Je.labels.push("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"),je.axes.push(Je),je.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Fahrenheit",axislineStyle:LineStyle.Solid})),je}const category$10="1 ShowCases",ShowCases$1={category:category$10,tags:["Showcase"],examples:[{title:"Normal distribution",example:{model:createNormalDistributionModel}},{title:"Average (Mean) monthly temperatures in 2003",example:{model:lineLegendPositionAtEnd}}]};function graph1(){const je=new PlotModel({title:"Q1 2003 Calls by Region",plotAreaBorderThickness:new OxyThickness(0)}),$e=new CategoryAxis({axislineStyle:LineStyle.Solid,tickStyle:TickStyle.None,key:"y"});$e.labels.push("North","East","South","West"),je.axes.push($e),je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:6e3,majorStep:1e3,minorStep:1e3,axislineStyle:LineStyle.Solid,tickStyle:TickStyle.Outside,key:"x"}));const Ve=new BarSeries({fillColor:OxyColors.Black,xAxisKey:"x",yAxisKey:"y"});return Ve.items.push(new BarItem({value:3e3})),Ve.items.push(new BarItem({value:4500})),Ve.items.push(new BarItem({value:2100})),Ve.items.push(new BarItem({value:4800})),je.series.push(Ve),je}function graph2(){const je=new PlotModel({title:"2003 Sales",plotAreaBorderThickness:new OxyThickness(0),isLegendVisible:!1}),$e=[1e3,1010,1020,1010,1020,1030,1e3,500,1e3,900,900,1e3],Ve=[2250,2500,2750,2500,2750,3e3,2500,2750,3100,2800,3100,3500],ze=new CategoryAxis({axislineStyle:LineStyle.Solid,tickStyle:TickStyle.None});ze.labels.push("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov"),je.axes.push(ze),je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:4e3,majorStep:500,minorStep:500,axislineStyle:LineStyle.Solid,tickStyle:TickStyle.Outside}));const qe=new LineSeries({color:OxyColors.Orange});for(let We=0;We<12;We++)qe.points.push(newDataPoint(We,$e[We]));const Xe=new LineSeries({color:OxyColors.Gray});for(let We=0;We<12;We++)Xe.points.push(newDataPoint(We,Ve[We]));return je.series.push(qe),je.series.push(Xe),je}function graph3(){const je=new PlotModel({title:"Headcount",plotAreaBorderThickness:new OxyThickness(0),plotMargins:new OxyThickness(100,40,20,40)}),$e=new Map([["Manufacturing",240],["Sales",160],["Engineering",50],["Operations",45],["Finance",40],["Info Systems",39],["Legal",25],["Marketing",10]]);return je.axes.push(new CategoryAxis({position:AxisPosition.Left,itemsSource:Array.from($e),labelField:"0",tickStyle:TickStyle.None,axisTickToLabelDistance:10,startPosition:1,endPosition:0})),je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:0,maximum:250,majorStep:50,minorStep:50,axislineStyle:LineStyle.Solid,tickStyle:TickStyle.Outside,minimumPadding:0,maximumPadding:0})),je.series.push(new BarSeries({fillColor:OxyColors.Black,itemsSource:Array.from($e),valueField:"1"})),je}function graph4(){const je=new PlotModel({title:"Regional % of Total Expenses",plotAreaBorderThickness:new OxyThickness(0)}),$e=new CategoryAxis({tickStyle:TickStyle.None,gapWidth:0,key:"y"});$e.labels.push(`West
34%`,`East
30%`,`North
20%`,`South
16%`),je.axes.push($e),je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:.35+Number.EPSILON,majorStep:.05,minorStep:.05,axislineStyle:LineStyle.Solid,tickStyle:TickStyle.Outside,stringFormatter:qe=>`${Math.round(qe*100)}%`,key:"x"}));const Ve=new BarSeries({barWidth:1,strokeColor:OxyColors.DarkGray,strokeThickness:1,fillColor:OxyColors.Black,xAxisKey:"x",yAxisKey:"y"}),ze=[.34,.3,.2,.16];return Ve.items=ze.map(qe=>BarItem.fromValue(qe)),je.series.push(Ve),je}function graph5(){const je=new PlotModel({title:"Actual to Plan Variance",plotAreaBorderThickness:new OxyThickness(0)}),$e=new Map([["Sales",7],["Marketing",-7],["Systems",-2],["HR",-17],["Finance",5]]);return je.axes.push(new CategoryAxis({itemsSource:Array.from($e),labelField:"0",tickStyle:TickStyle.None,key:"y"})),je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-20,maximum:10,minorStep:5,majorStep:5,layer:AxisLayer.AboveSeries,axislineStyle:LineStyle.Solid,extraGridlines:[0],extraGridlineColor:OxyColors.Black,extraGridlineThickness:3,tickStyle:TickStyle.Outside,stringFormatter:Ve=>(Ve>0?"+":Ve<0?"-":"")+round(Math.abs(Ve),0),key:"x"})),je.series.push(new BarSeries({fillColor:OxyColors.Orange,negativeFillColor:OxyColors.Gray,itemsSource:Array.from($e),valueField:"1",xAxisKey:"x",yAxisKey:"y"})),je}function graph6(){const je=new PlotModel({title:"Order Count by Order Size",plotAreaBorderThickness:new OxyThickness(0),plotMargins:new OxyThickness(60,4,4,60)}),$e=new Map([[" <$10",5e3],[`>=$10
    &
 <$20`,1500],[`>=$20
    &
 <$30`,1e3],[`>=$40
    &
 <$40`,500],[">=$40",200]]);return je.axes.push(new CategoryAxis({axislineStyle:LineStyle.Solid,itemsSource:Array.from($e),labelField:"0",tickStyle:TickStyle.None,key:"y"})),je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:6e3,majorStep:1e3,minorStep:1e3,axislineStyle:LineStyle.Solid,tickStyle:TickStyle.Outside,stringFormatter:Ve=>(Ve>0?"+":Ve<0?"-":"")+round(Math.abs(Ve),0),key:"x"})),je.series.push(new BarSeries({fillColor:OxyColors.Orange,itemsSource:Array.from($e),valueField:"1",xAxisKey:"x",yAxisKey:"y"})),je}function graph7(){const je=new PlotModel({title:"Correlation of Employee Heights and Salaries",plotAreaBorderThickness:new OxyThickness(0)}),$e=[newDataPoint(62,39e3),newDataPoint(66,44e3),newDataPoint(64,5e4),newDataPoint(66,49500),newDataPoint(67,52e3),newDataPoint(68,5e4),newDataPoint(66,56e3),newDataPoint(67,56e3),newDataPoint(72,56e3),newDataPoint(68,58e3),newDataPoint(69,62e3),newDataPoint(71,63e3),newDataPoint(65,64e3),newDataPoint(68,71e3),newDataPoint(72,72e3),newDataPoint(74,69e3),newDataPoint(74,79e3),newDataPoint(77,81e3)];return je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:3e4,maximum:9e4,majorStep:1e4,minorStep:1e4,axislineStyle:LineStyle.Solid,tickStyle:TickStyle.Outside})),je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:60,maximum:80,majorStep:5,minorStep:5,axislineStyle:LineStyle.Solid,tickStyle:TickStyle.Outside})),je.series.push(new ScatterSeries({itemsSource:$e,markerType:MarkerType.Circle,markerSize:3,markerFill:OxyColors.White,markerStroke:OxyColors.Black,dataFieldX:"x",dataFieldY:"y"})),je}const category$$="Examples from the book 'Show Me the Numbers'",ShowMeTheNumbersExamples={category:category$$,tags:["Showcase"],examples:[{title:"Q1 2003 Calls by Region",example:{model:graph1}},{title:"2003 Sales",example:{model:graph2}},{title:"Headcount",example:{model:graph3}},{title:"Regional % of Total Expenses",example:{model:graph4}},{title:"Actual to Plan Variance",example:{model:graph5}},{title:"Order Count by Order Size",example:{model:graph6}},{title:"Correlation of Employee Heights and Salaries",example:{model:graph7}}]},ShowCases=[ShowCases$1,ShowMeTheNumbersExamples];function toolTips$1(){const je=new PlotModel({title:"Tool tips"});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left})),je.annotations.push(new LineAnnotation({slope:.1,intercept:1,text:"LineAnnotation",toolTip:"This is a tool tip for the LineAnnotation"})),je.annotations.push(new RectangleAnnotation({minimumX:20,maximumX:70,minimumY:10,maximumY:40,textRotation:10,text:"RectangleAnnotation",toolTip:"This is a tooltip for the RectangleAnnotation",fill:OxyColor.fromAColor(99,OxyColors.Blue),stroke:OxyColors.Black,strokeThickness:2})),je.annotations.push(new EllipseAnnotation({x:20,y:60,width:20,height:15,text:"EllipseAnnotation",toolTip:"This is a tool tip for the EllipseAnnotation",textRotation:10,fill:OxyColor.fromAColor(99,OxyColors.Green),stroke:OxyColors.Black,strokeThickness:2})),je.annotations.push(new PointAnnotation({x:50,y:50,text:"P1",toolTip:"This is a tool tip for the PointAnnotation"})),je.annotations.push(new ArrowAnnotation({startPoint:newDataPoint(8,4),endPoint:newDataPoint(0,0),color:OxyColors.Green,text:"ArrowAnnotation",toolTip:"This is a tool tip for the ArrowAnnotation"})),je.annotations.push(new TextAnnotation({textPosition:newDataPoint(60,60),text:"TextAnnotation",toolTip:"This is a tool tip for the TextAnnotation"})),je}const category$_="Annotations",AnnotationExamples={category:category$_,tags:["Annotations"],examples:[{title:"Tool tips",example:{model:toolTips$1}}]};function arrowAnnotation$1(){const je=new PlotModel;return je.title="ArrowAnnotations",je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-40,maximum:60})),je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10})),je.annotations.push(new ArrowAnnotation({startPoint:newDataPoint(8,4),endPoint:newDataPoint(0,0),color:OxyColors.Green,text:"StartPoint and EndPoint"})),je.annotations.push(new ArrowAnnotation({arrowDirection:new ScreenVector(30,70),endPoint:newDataPoint(40,-3),color:OxyColors.Blue,text:"ArrowDirection and EndPoint"})),je.annotations.push(new ArrowAnnotation({arrowDirection:new ScreenVector(30,-70),endPoint:newDataPoint(10,-3),headLength:14,headWidth:6,veeness:4,color:OxyColors.Red,text:"HeadLength = 20, HeadWidth = 10, Veeness = 4"})),je}const category$Z="ArrowAnnotation",ArrowAnnotationExamples={category:category$Z,tags:["Annotations"],examples:[{title:"ArrowAnnotation",example:{model:arrowAnnotation$1}}]};function ellipseAnnotation(){const je=new PlotModel({title:"EllipseAnnotation"});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left})),je.annotations.push(new EllipseAnnotation({x:20,y:60,width:20,height:15,text:"EllipseAnnotation",textRotation:10,fill:OxyColor.fromAColor(99,OxyColors.Green),stroke:OxyColors.Black,strokeThickness:2})),je.annotations.push(new EllipseAnnotation({x:20,y:20,width:20,height:20,fill:OxyColor.fromAColor(99,OxyColors.Green),stroke:OxyColors.Black,strokeThickness:2})),je.annotations.push(new EllipseAnnotation({x:30,y:20,width:20,height:20,fill:OxyColor.fromAColor(99,OxyColors.Red),stroke:OxyColors.Black,strokeThickness:2})),je.annotations.push(new EllipseAnnotation({x:25,y:30,width:20,height:20,fill:OxyColor.fromAColor(99,OxyColors.Blue),stroke:OxyColors.Black,strokeThickness:2})),je}const category$Y="EllipseAnnotation",EllipseAnnotationExamples={category:category$Y,tags:["Annotations"],examples:[{title:"EllipseAnnotation",example:{model:ellipseAnnotation}}]};function annotation(){const je=new PlotModel;return je.title="FunctionAnnotation",je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:80})),je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10})),je.annotations.push(new FunctionAnnotation({equation:Math.sin,strokeThickness:2,color:OxyColor.fromAColor(120,OxyColors.Blue),text:"f(x)=sin(x)"})),je.annotations.push(new FunctionAnnotation({equation:$e=>$e*$e,strokeThickness:2,color:OxyColor.fromAColor(120,OxyColors.Red),type:FunctionAnnotationType.EquationY,text:"f(y)=y^2"})),je}const category$X="FunctionAnnotation",FunctionAnnotationExamples={category:category$X,tags:["Annotations"],examples:[{title:"FunctionAnnotation",example:{model:annotation}}]};async function imageAnnotation$1(){const je=window.oxyPlotImg;if(!je)throw new Error("window.oxyPlotImg not set");const $e=new PlotModel({title:"ImageAnnotation",plotMargins:new OxyThickness(60,4,4,60)});$e.axes.push(new LinearAxis({position:AxisPosition.Bottom})),$e.axes.push(new LinearAxis({position:AxisPosition.Left}));const ze=await getImageService().load(je);$e.annotations.push(new ImageAnnotation({imageSource:ze,opacity:.2,interpolate:!1,x:new PlotLength(.5,PlotLengthUnit.RelativeToPlotArea),y:new PlotLength(.5,PlotLengthUnit.RelativeToPlotArea),width:new PlotLength(1,PlotLengthUnit.RelativeToPlotArea),horizontalAlignment:HorizontalAlignment.Center,verticalAlignment:VerticalAlignment.Middle})),$e.annotations.push(new ImageAnnotation({imageSource:ze,x:new PlotLength(1,PlotLengthUnit.RelativeToPlotArea),y:new PlotLength(0,PlotLengthUnit.RelativeToPlotArea),width:new PlotLength(120,PlotLengthUnit.ScreenUnits),horizontalAlignment:HorizontalAlignment.Right,verticalAlignment:VerticalAlignment.Top})),$e.annotations.push(new ImageAnnotation({imageSource:ze,x:new PlotLength(0,PlotLengthUnit.RelativeToPlotArea),y:new PlotLength(0,PlotLengthUnit.RelativeToPlotArea),offsetY:new PlotLength(-5,PlotLengthUnit.ScreenUnits),height:new PlotLength(20,PlotLengthUnit.ScreenUnits),horizontalAlignment:HorizontalAlignment.Left,verticalAlignment:VerticalAlignment.Bottom})),$e.annotations.push(new ImageAnnotation({imageSource:ze,x:new PlotLength(50,PlotLengthUnit.Data),y:new PlotLength(50,PlotLengthUnit.Data),width:new PlotLength(200,PlotLengthUnit.ScreenUnits),horizontalAlignment:HorizontalAlignment.Left,verticalAlignment:VerticalAlignment.Top})),$e.annotations.push(new ImageAnnotation({imageSource:ze,x:new PlotLength(50,PlotLengthUnit.Data),y:new PlotLength(20,PlotLengthUnit.Data),width:new PlotLength(50,PlotLengthUnit.Data),horizontalAlignment:HorizontalAlignment.Center,verticalAlignment:VerticalAlignment.Top})),$e.annotations.push(new ImageAnnotation({imageSource:ze,x:new PlotLength(.5,PlotLengthUnit.RelativeToViewport),y:new PlotLength(1,PlotLengthUnit.RelativeToViewport),offsetY:new PlotLength(-35,PlotLengthUnit.ScreenUnits),height:new PlotLength(30,PlotLengthUnit.ScreenUnits),horizontalAlignment:HorizontalAlignment.Center,verticalAlignment:VerticalAlignment.Top}));for(let qe=0;qe<10;qe++)$e.annotations.push(new ImageAnnotation({imageSource:ze,opacity:(qe+1)/10,x:new PlotLength(10,PlotLengthUnit.Data),y:new PlotLength(qe*2,PlotLengthUnit.Data),width:new PlotLength(100,PlotLengthUnit.ScreenUnits),horizontalAlignment:HorizontalAlignment.Center,verticalAlignment:VerticalAlignment.Bottom}));return $e}async function imageAnnotationAsBackgroundGradient(){const je=new PlotModel({title:"Using ImageAnnotations to draw a gradient backgrounds",subtitle:"But do you really want this? This is called 'chartjunk'!",plotMargins:new OxyThickness(60,4,4,60)});je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left}));const $e=256,Ve=new TwoDimensionalArray(1,$e);for(let We=0;We<$e;We++)Ve.set(0,We,OxyColor.interpolate(OxyColors.Blue,OxyColors.Red,We/($e-1)));const ze=await OxyImage.create(Ve,ImageFormat.Png),qe=TwoDimensionalArray.fromArray([[OxyColors.Yellow],[OxyColors.Gray]]),Xe=await OxyImage.create(qe,ImageFormat.Png);return je.annotations.push(new ImageAnnotation({imageSource:Xe,interpolate:!0,layer:AnnotationLayer.BelowAxes,x:new PlotLength(0,PlotLengthUnit.RelativeToViewport),y:new PlotLength(0,PlotLengthUnit.RelativeToViewport),width:new PlotLength(1,PlotLengthUnit.RelativeToViewport),height:new PlotLength(1,PlotLengthUnit.RelativeToViewport),horizontalAlignment:HorizontalAlignment.Left,verticalAlignment:VerticalAlignment.Top})),je.annotations.push(new ImageAnnotation({imageSource:ze,interpolate:!0,layer:AnnotationLayer.BelowAxes,x:new PlotLength(0,PlotLengthUnit.RelativeToPlotArea),y:new PlotLength(0,PlotLengthUnit.RelativeToPlotArea),width:new PlotLength(1,PlotLengthUnit.RelativeToPlotArea),height:new PlotLength(1,PlotLengthUnit.RelativeToPlotArea),horizontalAlignment:HorizontalAlignment.Left,verticalAlignment:VerticalAlignment.Top})),je.series.push(new FunctionSeries({f:Math.sin,x0:0,x1:7,dx:.01})),je}const fourColorPixels=TwoDimensionalArray.fromArray([[OxyColors.Blue,OxyColors.Yellow],[OxyColors.Green,OxyColors.Red]]);async function imageAnnotation_NormalAxes(){const je=new PlotModel({title:"ImageAnnotation - normal axes"});je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left}));const $e=fourColorPixels,Ve=await OxyImage.create($e,ImageFormat.Png);return je.annotations.push(new ImageAnnotation({imageSource:Ve,interpolate:!1,x:new PlotLength(0,PlotLengthUnit.Data),y:new PlotLength(0,PlotLengthUnit.Data),width:new PlotLength(80,PlotLengthUnit.Data),height:new PlotLength(50,PlotLengthUnit.Data),horizontalAlignment:HorizontalAlignment.Left,verticalAlignment:VerticalAlignment.Bottom})),je}async function imageAnnotation_ReverseHorizontalAxis(){const je=new PlotModel({title:"ImageAnnotation - reverse horizontal axis"});je.axes.push(new LinearAxis({position:AxisPosition.Bottom,startPosition:1,endPosition:0})),je.axes.push(new LinearAxis({position:AxisPosition.Left}));const $e=fourColorPixels,Ve=await OxyImage.create($e,ImageFormat.Png);return je.annotations.push(new ImageAnnotation({imageSource:Ve,interpolate:!1,x:new PlotLength(100,PlotLengthUnit.Data),y:new PlotLength(0,PlotLengthUnit.Data),width:new PlotLength(80,PlotLengthUnit.Data),height:new PlotLength(50,PlotLengthUnit.Data),horizontalAlignment:HorizontalAlignment.Left,verticalAlignment:VerticalAlignment.Bottom})),je}async function imageAnnotation_ReverseVerticalAxis(){const je=new PlotModel({title:"ImageAnnotation - reverse vertical axis"});je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left,startPosition:1,endPosition:0}));const $e=fourColorPixels,Ve=await OxyImage.create($e,ImageFormat.Png);return je.annotations.push(new ImageAnnotation({imageSource:Ve,interpolate:!1,x:new PlotLength(0,PlotLengthUnit.Data),y:new PlotLength(100,PlotLengthUnit.Data),width:new PlotLength(80,PlotLengthUnit.Data),height:new PlotLength(50,PlotLengthUnit.Data),horizontalAlignment:HorizontalAlignment.Left,verticalAlignment:VerticalAlignment.Bottom})),je}const category$W="ImageAnnotation",ImageAnnotationExamples={category:category$W,tags:["Annotations"],examples:[{title:"ImageAnnotation",example:{model:imageAnnotation$1}},{title:"ImageAnnotation - gradient backgrounds",example:{model:imageAnnotationAsBackgroundGradient}},{title:"ImageAnnotation - normal axes",example:{model:imageAnnotation_NormalAxes}},{title:"ImageAnnotation - reverse horizontal axis",example:{model:imageAnnotation_ReverseHorizontalAxis}},{title:"ImageAnnotation - reverse vertical axis",example:{model:imageAnnotation_ReverseVerticalAxis}}]};function lineAnnotationOnLinearAxes(){const je=new PlotModel;je.title="LineAnnotation on linear axes",je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:80})),je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10}));const $e=OxyColorExtensions.changeOpacity(OxyColors.White,.75);return je.annotations.push(new LineAnnotation({slope:.1,intercept:1,text:"First",borderBackground:$e,borderPadding:new OxyThickness(5)})),je.annotations.push(new LineAnnotation({slope:.3,intercept:2,maximumX:40,color:OxyColors.Red,text:"Second",borderBackground:$e,borderPadding:new OxyThickness(5)})),je.annotations.push(new LineAnnotation({type:LineAnnotationType.Vertical,x:4,maximumY:10,color:OxyColors.Green,text:"Vertical",borderBackground:$e,borderPadding:new OxyThickness(5)})),je.annotations.push(new LineAnnotation({type:LineAnnotationType.Horizontal,y:2,maximumX:4,color:OxyColors.Gold,text:"Horizontal",borderBackground:$e,borderPadding:new OxyThickness(5)})),je}function lineAnnotationOnLogarithmicAxes(){const je=new PlotModel;return je.title="LineAnnotation on logarithmic axes",je.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom,minimum:1,maximum:80})),je.axes.push(new LogarithmicAxis({position:AxisPosition.Left,minimum:1,maximum:10})),je.annotations.push(new LineAnnotation({slope:.1,intercept:1,text:"First",textMargin:40})),je.annotations.push(new LineAnnotation({slope:.3,intercept:2,maximumX:40,color:OxyColors.Red,text:"Second"})),je.annotations.push(new LineAnnotation({type:LineAnnotationType.Vertical,x:4,maximumY:10,color:OxyColors.Green,text:"Vertical"})),je.annotations.push(new LineAnnotation({type:LineAnnotationType.Horizontal,y:2,maximumX:4,color:OxyColors.Gold,text:"Horizontal"})),je}function lineAnnotationOnLinearAxesWithTextOrientation(){const je=new PlotModel;return je.title="LineAnnotations",je.subtitle="with TextOrientation specified",je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:80})),je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10})),je.annotations.push(new LineAnnotation({slope:.1,intercept:1,text:"Horizontal",textOrientation:AnnotationTextOrientation.Horizontal,textVerticalAlignment:VerticalAlignment.Bottom})),je.annotations.push(new LineAnnotation({slope:.3,intercept:2,maximumX:40,color:OxyColors.Red,text:"Vertical",textOrientation:AnnotationTextOrientation.Vertical})),je.annotations.push(new LineAnnotation({type:LineAnnotationType.Vertical,x:4,maximumY:10,color:OxyColors.Green,text:"Horizontal (x=4)",textPadding:8,textOrientation:AnnotationTextOrientation.Horizontal})),je.annotations.push(new LineAnnotation({type:LineAnnotationType.Vertical,x:45,maximumY:10,color:OxyColors.Green,text:"Horizontal (x=45)",textHorizontalAlignment:HorizontalAlignment.Left,textPadding:8,textOrientation:AnnotationTextOrientation.Horizontal})),je.annotations.push(new LineAnnotation({type:LineAnnotationType.Horizontal,y:2,maximumX:4,color:OxyColors.Gold,text:"Horizontal",textLinePosition:.5,textOrientation:AnnotationTextOrientation.Horizontal})),je}function linearAxesMultipleAxes(){const je=new PlotModel;return je.title="ClipByAxis property",je.subtitle="This property specifies if the annotation should be clipped by the current axes or by the full plot area.",je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:80,startPosition:0,endPosition:.45,textColor:OxyColors.Red})),je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10,startPosition:0,endPosition:.45,textColor:OxyColors.Green})),je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:80,startPosition:.55,endPosition:1,textColor:OxyColors.Blue})),je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10,startPosition:.55,endPosition:1,textColor:OxyColors.Orange})),je.annotations.push(new LineAnnotation({clipByYAxis:!0,type:LineAnnotationType.Vertical,x:0,color:OxyColors.Green,text:"Vertical, ClipByAxis = true"})),je.annotations.push(new LineAnnotation({clipByYAxis:!1,type:LineAnnotationType.Vertical,x:20,color:OxyColors.Green,text:"Vertical, ClipByAxis = false"})),je.annotations.push(new LineAnnotation({clipByXAxis:!0,type:LineAnnotationType.Horizontal,y:2,color:OxyColors.Gold,text:"Horizontal, ClipByAxis = true"})),je.annotations.push(new LineAnnotation({clipByXAxis:!1,type:LineAnnotationType.Horizontal,y:8,color:OxyColors.Gold,text:"Horizontal, ClipByAxis = false"})),je}function reversedAxes(){const je=new PlotModel;return je.title="LineAnnotation on reversed axes",je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:80,startPosition:1,endPosition:0})),je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10,startPosition:1,endPosition:0})),je.annotations.push(new LineAnnotation({slope:.1,intercept:1,text:"First",textHorizontalAlignment:HorizontalAlignment.Left})),je.annotations.push(new LineAnnotation({slope:.3,intercept:2,maximumX:40,color:OxyColors.Red,text:"Second",textHorizontalAlignment:HorizontalAlignment.Left,textVerticalAlignment:VerticalAlignment.Bottom})),je.annotations.push(new LineAnnotation({type:LineAnnotationType.Vertical,x:4,maximumY:10,color:OxyColors.Green,text:"Vertical",textHorizontalAlignment:HorizontalAlignment.Right})),je.annotations.push(new LineAnnotation({type:LineAnnotationType.Horizontal,y:2,maximumX:4,color:OxyColors.Gold,text:"Horizontal",textHorizontalAlignment:HorizontalAlignment.Left})),je}const category$V="LineAnnotation",LineAnnotationExamples={category:category$V,tags:["Annotations"],examples:[{title:"LineAnnotation on linear axes",example:{model:lineAnnotationOnLinearAxes}},{title:"LineAnnotation on logarithmic axes",example:{model:lineAnnotationOnLogarithmicAxes}},{title:"LineAnnotation with text orientation specified",example:{model:lineAnnotationOnLinearAxesWithTextOrientation}},{title:"LineAnnotation - ClipByAxis property",example:{model:linearAxesMultipleAxes}},{title:"LineAnnotation on reversed axes",example:{model:reversedAxes}}]};function pointAnnotation(){const je=new PlotModel({title:"PointAnnotation"});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left})),je.annotations.push(new PointAnnotation({x:50,y:50,text:"P1"})),je}function pointAnnotationShapes(){const je=new PlotModel({title:"PointAnnotation - shapes"});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom,maximum:120})),je.axes.push(new LinearAxis({position:AxisPosition.Left})),je.annotations.push(new PointAnnotation({x:20,y:60,text:"Circle",shape:MarkerType.Circle,fill:OxyColors.LightGray,stroke:OxyColors.DarkGray,strokeThickness:1})),je.annotations.push(new PointAnnotation({x:40,y:60,text:"Square",shape:MarkerType.Square,fill:OxyColors.LightBlue,stroke:OxyColors.DarkBlue,strokeThickness:1})),je.annotations.push(new PointAnnotation({x:60,y:60,text:"Triangle",shape:MarkerType.Triangle,fill:OxyColors.IndianRed,stroke:OxyColors.Black,strokeThickness:1})),je.annotations.push(new PointAnnotation({x:80,y:60,text:"Diamond",shape:MarkerType.Diamond,fill:OxyColors.ForestGreen,stroke:OxyColors.Black,strokeThickness:1})),je.annotations.push(new PointAnnotation({x:100,y:60,text:"Custom",shape:MarkerType.Custom,customOutline:[newScreenPoint(-1,-1),newScreenPoint(1,1),newScreenPoint(-1,1),newScreenPoint(1,-1)],stroke:OxyColors.Black,fill:OxyColors.CadetBlue,strokeThickness:1})),je.annotations.push(new PointAnnotation({x:20,y:40,text:"Cross",shape:MarkerType.Cross,stroke:OxyColors.IndianRed,strokeThickness:1})),je.annotations.push(new PointAnnotation({x:40,y:40,text:"Plus",shape:MarkerType.Plus,stroke:OxyColors.Navy,strokeThickness:1})),je.annotations.push(new PointAnnotation({x:60,y:40,text:"Star",shape:MarkerType.Star,stroke:OxyColors.DarkOliveGreen,strokeThickness:1})),je}function pointAnnotationTextAlignment(){const je=new PlotModel({title:"PointAnnotation - text alignments"});je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-50,maximum:50})),je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-50,maximum:50}));for(let $e=-1;$e<=1;$e++){const Ve=$e,ze=getEnumName(HorizontalAlignment,Ve);for(let qe=-1;qe<=1;qe++){const Xe=qe,We=getEnumName(VerticalAlignment,Xe);je.annotations.push(new PointAnnotation({x:$e*20,y:qe*20,size:10,text:`${ze},${We}`,textHorizontalAlignment:Ve,textVerticalAlignment:Xe}))}}return je}const category$U="PointAnnotation",PointAnnotationExamples={category:category$U,tags:["Annotations"],examples:[{title:"PointAnnotation",example:{model:pointAnnotation}},{title:"PointAnnotation - shapes",example:{model:pointAnnotationShapes}},{title:"PointAnnotation - text alignments",example:{model:pointAnnotationTextAlignment}}]};function polygonAnnotation$1(){const je=new PlotModel({title:"PolygonAnnotation"});je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:20})),je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10}));const $e=new PolygonAnnotation({text:"Polygon 1"});return $e.points.push(newDataPoint(4,-2),newDataPoint(8,-4),newDataPoint(17,7),newDataPoint(5,8),newDataPoint(2,5)),je.annotations.push($e),je}function polygonAnnotationTextPosition(){const je=new PlotModel({title:"PolygonAnnotation with fixed text position and alignment"});je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:20})),je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10}));const $e=new PolygonAnnotation({text:"Polygon 1",textHorizontalAlignment:HorizontalAlignment.Left,textVerticalAlignment:VerticalAlignment.Bottom,textPosition:newDataPoint(4.1,-1.9)});return $e.points.push(newDataPoint(4,-2),newDataPoint(8,-2),newDataPoint(17,7),newDataPoint(5,8),newDataPoint(4,5)),je.annotations.push($e),je}function annotationLayerProperty(){const je=new PlotModel({title:"Annotation Layers"});je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:30,majorGridlineStyle:LineStyle.Solid,majorGridlineThickness:1})),je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10,majorGridlineStyle:LineStyle.Solid,majorGridlineThickness:1}));const $e=new PolygonAnnotation({layer:AnnotationLayer.BelowAxes,text:"Layer = BelowAxes",points:[newDataPoint(-11,-2),newDataPoint(-7,-4),newDataPoint(-3,7),newDataPoint(-10,8),newDataPoint(-13,5)]});je.annotations.push($e);const Ve=new PolygonAnnotation({layer:AnnotationLayer.BelowSeries,text:"Layer = BelowSeries",points:[newDataPoint(4,-2),newDataPoint(8,-4),newDataPoint(12,7),newDataPoint(5,8),newDataPoint(2,5)]});je.annotations.push(Ve);const ze=new PolygonAnnotation({layer:AnnotationLayer.AboveSeries,text:"Layer = AboveSeries",points:[newDataPoint(19,-2),newDataPoint(23,-4),newDataPoint(27,7),newDataPoint(20,8),newDataPoint(17,5)]});return je.annotations.push(ze),je.series.push(new FunctionSeries({f:Math.sin,x0:-20,x1:30,n:400})),je}function kockSnowflakes(){function je(We){return[newDataPoint(We.x,We.y+1),newDataPoint(We.x+Math.sin(Math.PI*2/3),We.y+Math.cos(Math.PI*2/3)),newDataPoint(We.x+Math.sin(Math.PI*4/3),We.y+Math.cos(Math.PI*4/3))]}const $e=new PlotModel({title:"PolygonAnnotation",plotType:PlotType.Cartesian});$e.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-4,maximum:4})),$e.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-2,maximum:2}));const Ve=new PolygonAnnotation({text:"MSL = 4",minimumSegmentLength:4});let ze=kochFractal(je(newDataPoint(-2,0)),8,!0,!0);pushMany(Ve.points,ze),$e.annotations.push(Ve);const qe=new PolygonAnnotation({text:"MSL = 2",minimumSegmentLength:2});ze=kochFractal(je(newDataPoint(0,0)),8,!0,!0),pushMany(qe.points,ze),$e.annotations.push(qe);const Xe=new PolygonAnnotation({text:"MSL = 1",minimumSegmentLength:1});return ze=kochFractal(je(newDataPoint(2,0)),8,!0,!0),pushMany(Xe.points,ze),$e.annotations.push(Xe),$e}function kochFractal(je,$e,Ve,ze){const qe=Math.cos(Math.PI/3),Xe=Math.sin(Math.PI/3);let We=je;for(let Ke=0;Ke<$e;Ke++){const Je=new Array(ze?We.length*4:We.length*4-3);for(let Ze=0;Ze<(ze?We.length:We.length-1);Ze++){const Qe=We[Ze],St=We[(Ze+1)%We.length],ei=(St.x-Qe.x)/3,ti=(St.y-Qe.y)/3;let ni,oi;ni=qe*ei-Xe*ti,oi=qe*ti+Xe*ei,Je[Ze*4]=Qe,Je[Ze*4+1]=newDataPoint(Qe.x+ei,Qe.y+ti),Je[Ze*4+2]=newDataPoint(Qe.x+ei+ni,Qe.y+ti+oi),Je[Ze*4+3]=newDataPoint(Qe.x+ei*2,Qe.y+ti*2)}ze||(Je[Je.length-1]=We[We.length-1]),We=Je}return We}const PolygonAnnotationExamples={kochFractal},category$T="PolygonAnnotation",PolygonAnnotationExamples$1={category:category$T,tags:["Annotations"],examples:[{title:"PolygonAnnotation",example:{model:polygonAnnotation$1}},{title:"PolygonAnnotation with custom text position and alignment",example:{model:polygonAnnotationTextPosition}},{title:"AnnotationLayer property",example:{model:annotationLayerProperty}},{title:"Koch Snowflakes",example:{model:kockSnowflakes}}]};function polylineAnnotations(){const je=new PlotModel({title:"PolylineAnnotation"});je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:0,maximum:30})),je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:30}));const $e=new PolylineAnnotation({text:"Polyline"});$e.points.push(newDataPoint(0,10),newDataPoint(5,5),newDataPoint(20,1),newDataPoint(30,20));const Ve=new PolylineAnnotation({text:"Smooth Polyline",interpolationAlgorithm:InterpolationAlgorithms.CanonicalSpline});return Ve.points.push(newDataPoint(0,15),newDataPoint(3,23),newDataPoint(9,30),newDataPoint(20,12),newDataPoint(30,10)),je.annotations.push($e,Ve),je}function kochSurface(){function je(Xe){return[newDataPoint(Xe.x-1,Xe.y),newDataPoint(Xe.x+1,Xe.y)]}const $e=new PlotModel({title:"PolygonAnnotation",plotType:PlotType.Cartesian});$e.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-2,maximum:2})),$e.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-2,maximum:2}));const Ve=new PolylineAnnotation({text:"MSL = 4",minimumSegmentLength:4,lineStyle:LineStyle.Solid,textPosition:newDataPoint(0,1)});Ve.points.push(...PolygonAnnotationExamples.kochFractal(je(newDataPoint(0,1)),8,!0,!1)),$e.annotations.push(Ve);const ze=new PolylineAnnotation({text:"MSL = 2",minimumSegmentLength:2,lineStyle:LineStyle.Solid,textPosition:newDataPoint(0,0)});ze.points.push(...PolygonAnnotationExamples.kochFractal(je(newDataPoint(0,0)),8,!0,!1)),$e.annotations.push(ze);const qe=new PolylineAnnotation({text:"MSL = 1",minimumSegmentLength:1,lineStyle:LineStyle.Solid,textPosition:newDataPoint(0,-1)});return qe.points.push(...PolygonAnnotationExamples.kochFractal(je(newDataPoint(0,-1)),8,!0,!1)),$e.annotations.push(qe),$e}const category$S="PolylineAnnotation",PolylineAnnotationExamples={category:category$S,tags:["Annotations"],examples:[{title:"PolylineAnnotation",example:{model:polylineAnnotations}},{title:"Koch Surfaces",example:{model:kochSurface}}]};function rectangleAnnotation(){const je=new PlotModel({title:"RectangleAnnotation"});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left})),je.annotations.push(new RectangleAnnotation({minimumX:20,maximumX:70,minimumY:10,maximumY:40,textRotation:10,text:"RectangleAnnotation",fill:OxyColor.fromAColor(99,OxyColors.Blue),stroke:OxyColors.Black,strokeThickness:2})),je}function rectangleAnnotationVerticalLimit(){const je=new PlotModel({title:"RectangleAnnotations - vertical limit"});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left})),je.annotations.push(new RectangleAnnotation({maximumY:89.5,text:"Valid area",fill:OxyColor.fromAColor(99,OxyColors.Black)})),je}function rectangleAnnotationHorizontals(){const je=new PlotModel({title:"RectangleAnnotation - horizontal bands"});je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:0,maximum:10})),je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:87,maximum:97,majorStep:1,minorStep:1})),je.annotations.push(new RectangleAnnotation({minimumY:89.5,maximumY:90.8,text:"Invalid",fill:OxyColor.fromAColor(99,OxyColors.Red)})),je.annotations.push(new RectangleAnnotation({minimumY:90.8,maximumY:92.1,fill:OxyColor.fromAColor(99,OxyColors.Orange)})),je.annotations.push(new RectangleAnnotation({minimumY:92.1,maximumY:94.6,fill:OxyColor.fromAColor(99,OxyColors.Yellow)})),je.annotations.push(new RectangleAnnotation({minimumY:94.6,maximumY:96,text:"Ok",fill:OxyColor.fromAColor(99,OxyColors.Green)}));const $e=new LineSeries({color:OxyColors.Black,strokeThickness:6,lineJoin:LineJoin.Round});return $e.points.push(newDataPoint(.5,90.7)),$e.points.push(newDataPoint(1.5,91.2)),$e.points.push(newDataPoint(2.5,91)),$e.points.push(newDataPoint(3.5,89.5)),$e.points.push(newDataPoint(4.5,92.5)),$e.points.push(newDataPoint(5.5,93.1)),$e.points.push(newDataPoint(6.5,94.5)),$e.points.push(newDataPoint(7.5,95.5)),$e.points.push(newDataPoint(8.5,95.7)),$e.points.push(newDataPoint(9.5,96)),je.series.push($e),je}function rectangleAnnotationVerticals(){const je=new PlotModel({title:"RectangleAnnotation - vertical bands"});je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:0,maximum:10})),je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:87,maximum:97,majorStep:1,minorStep:1})),je.annotations.push(new RectangleAnnotation({minimumX:2.5,maximumX:2.8,textRotation:90,text:"Red",fill:OxyColor.fromAColor(99,OxyColors.Red)})),je.annotations.push(new RectangleAnnotation({minimumX:2.8,maximumX:6.1,textRotation:90,text:"Orange",fill:OxyColor.fromAColor(99,OxyColors.Orange)})),je.annotations.push(new RectangleAnnotation({minimumX:6.1,maximumX:7.6,textRotation:90,text:"Yellow",fill:OxyColor.fromAColor(99,OxyColors.Yellow)})),je.annotations.push(new RectangleAnnotation({minimumX:7.6,maximumX:9.7,textRotation:270,text:"Green",fill:OxyColor.fromAColor(99,OxyColors.Green)}));const $e=new LineSeries({color:OxyColors.Black,strokeThickness:6,lineJoin:LineJoin.Round});return $e.points.push(newDataPoint(.5,90.7)),$e.points.push(newDataPoint(1.5,91.2)),$e.points.push(newDataPoint(2.5,91)),$e.points.push(newDataPoint(3.5,89.5)),$e.points.push(newDataPoint(4.5,92.5)),$e.points.push(newDataPoint(5.5,93.1)),$e.points.push(newDataPoint(6.5,94.5)),$e.points.push(newDataPoint(7.5,95.5)),$e.points.push(newDataPoint(8.5,95.7)),$e.points.push(newDataPoint(9.5,96)),je.series.push($e),je}const category$R="RectangleAnnotation",RectangleAnnotationExamples={category:category$R,tags:["Annotations"],examples:[{title:"RectangleAnnotation",example:{model:rectangleAnnotation}},{title:"RectangleAnnotations - vertical limit",example:{model:rectangleAnnotationVerticalLimit}},{title:"RectangleAnnotation - horizontal bands",example:{model:rectangleAnnotationHorizontals}},{title:"RectangleAnnotation - vertical bands",example:{model:rectangleAnnotationVerticals}}]};function textAnnotations(){const je=new PlotModel({title:"TextAnnotation"});je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-15,maximum:25})),je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-5,maximum:18})),je.annotations.push(new TextAnnotation({textPosition:newDataPoint(-6,0),text:"Text annotation 1"})),je.annotations.push(new TextAnnotation({textPosition:newDataPoint(-7,10),textRotation:80,text:"Text annotation 2"})),je.annotations.push(new TextAnnotation({textPosition:newDataPoint(2,2),textRotation:20,textHorizontalAlignment:HorizontalAlignment.Right,textVerticalAlignment:VerticalAlignment.Top,text:"Right/Top"})),je.annotations.push(new TextAnnotation({textPosition:newDataPoint(2,4),textRotation:20,textHorizontalAlignment:HorizontalAlignment.Right,textVerticalAlignment:VerticalAlignment.Middle,text:"Right/Middle"})),je.annotations.push(new TextAnnotation({textPosition:newDataPoint(2,6),textRotation:20,textHorizontalAlignment:HorizontalAlignment.Right,textVerticalAlignment:VerticalAlignment.Bottom,text:"Right/Bottom"})),je.annotations.push(new TextAnnotation({textPosition:newDataPoint(10,2),textRotation:20,textHorizontalAlignment:HorizontalAlignment.Center,textVerticalAlignment:VerticalAlignment.Top,text:"Center/Top"})),je.annotations.push(new TextAnnotation({textPosition:newDataPoint(10,4),textRotation:20,textHorizontalAlignment:HorizontalAlignment.Center,textVerticalAlignment:VerticalAlignment.Middle,text:"Center/Middle"})),je.annotations.push(new TextAnnotation({textPosition:newDataPoint(10,6),textRotation:20,textHorizontalAlignment:HorizontalAlignment.Center,textVerticalAlignment:VerticalAlignment.Bottom,text:"Center/Bottom"})),je.annotations.push(new TextAnnotation({textPosition:newDataPoint(18,2),textRotation:20,textHorizontalAlignment:HorizontalAlignment.Left,textVerticalAlignment:VerticalAlignment.Top,text:"Left/Top"})),je.annotations.push(new TextAnnotation({textPosition:newDataPoint(18,4),textRotation:20,textHorizontalAlignment:HorizontalAlignment.Left,textVerticalAlignment:VerticalAlignment.Middle,text:"Left/Middle"})),je.annotations.push(new TextAnnotation({textPosition:newDataPoint(18,6),textRotation:20,textHorizontalAlignment:HorizontalAlignment.Left,textVerticalAlignment:VerticalAlignment.Bottom,text:"Left/Bottom"}));const $e=.05,Ve=(ze,qe)=>{const Xe=new PolygonAnnotation({layer:AnnotationLayer.BelowAxes,points:[newDataPoint(ze-$e,qe-$e),newDataPoint(ze+$e,qe-$e),newDataPoint(ze+$e,qe+$e),newDataPoint(ze-$e,qe+$e),newDataPoint(ze-$e,qe-$e)]});je.annotations.push(Xe)};for(const ze of[...je.annotations]){const qe=ze;qe&&Ve(qe.textPosition.x,qe.textPosition.y)}return je}function rotations(){const je=new PlotModel({title:"TextAnnotation Rotations"});je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-5,maximum:45})),je.axes.push(new LinearAxis({position:AxisPosition.Left,startPosition:1,endPosition:0,minimum:-1,maximum:8}));for(let $e=0;$e<360;$e+=5)je.annotations.push(new TextAnnotation({textRotation:$e,textPosition:newDataPoint($e%45,$e/45),text:`${$e}°`,textVerticalAlignment:VerticalAlignment.Middle,textHorizontalAlignment:HorizontalAlignment.Center}));return je}const category$Q="TextAnnotation",TextAnnotationExamples={category:category$Q,tags:["Annotations"],examples:[{title:"TextAnnotation",example:{model:textAnnotations}},{title:"Rotations",example:{model:rotations}}]},Annotations=[AnnotationExamples,ArrowAnnotationExamples,EllipseAnnotationExamples,FunctionAnnotationExamples,ImageAnnotationExamples,LineAnnotationExamples,PointAnnotationExamples,PolygonAnnotationExamples$1,PolylineAnnotationExamples,RectangleAnnotationExamples,TextAnnotationExamples];class ErrorItem{constructor($e,Ve,ze,qe){Wn(this,"x");Wn(this,"y");Wn(this,"xError");Wn(this,"yError");this.x=$e||0,this.y=Ve||0,this.xError=ze||0,this.yError=qe||0}}class ErrorSeries extends XYAxisSeries{constructor(){super();Wn(this,"points",[]);Wn(this,"color");Wn(this,"strokeThickness");this.color=OxyColors.Black,this.strokeThickness=1}get pointsList(){return this.points}async render(Ve){const ze=this.points;if(ze.length===0)return;this.verifyAxes();const qe=ze.length,Xe=[];for(let We=0;We<qe;We++){const Ke=this.xAxis.transformPoint(ze[We].x,ze[We].y,this.yAxis),Je=ze[We],Ze=Je?Je.xError*this.xAxis.scale:0,Qe=Je?Je.yError*Math.abs(this.yAxis.scale):0,St=4;if(Ze>0){const ei=newScreenPoint(Ke.x-Ze*.5,Ke.y),ti=newScreenPoint(Ke.x+Ze*.5,Ke.y);Xe.push(ei,ti,newScreenPoint(ei.x,ei.y-St),newScreenPoint(ei.x,ei.y+St),newScreenPoint(ti.x,ti.y-St),newScreenPoint(ti.x,ti.y+St))}if(Qe>0){const ei=newScreenPoint(Ke.x,Ke.y-Qe*.5),ti=newScreenPoint(Ke.x,Ke.y+Qe*.5);Xe.push(ei,ti,newScreenPoint(ei.x-St,ei.y),newScreenPoint(ei.x+St,ei.y),newScreenPoint(ti.x-St,ti.y),newScreenPoint(ti.x+St,ti.y))}}for(let We=0;We+1<Xe.length;We+=2)await RenderingExtensions.drawReducedLine(Ve,[Xe[We],Xe[We+1]],0,this.getSelectableColor(this.color),this.strokeThickness,this.edgeRenderingMode,void 0,LineJoin.Bevel)}async renderLegend(Ve,ze){const qe=(ze.left+ze.right)/2,Xe=(ze.top+ze.bottom)/2,We=[newScreenPoint(ze.left,Xe),newScreenPoint(ze.right,Xe),newScreenPoint(ze.left,Xe-2),newScreenPoint(ze.left,Xe+3),newScreenPoint(ze.right,Xe-2),newScreenPoint(ze.right,Xe+3),newScreenPoint(qe,ze.top),newScreenPoint(qe,ze.bottom),newScreenPoint(qe-2,ze.top),newScreenPoint(qe+3,ze.top),newScreenPoint(qe-2,ze.bottom),newScreenPoint(qe+3,ze.bottom)];await Ve.drawLineSegments(We,this.getSelectableColor(this.color),this.strokeThickness,this.edgeRenderingMode,void 0,LineJoin.Miter)}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMin3(this.points,Ve=>Ve.x-Ve.xError,Ve=>Ve.x+Ve.xError,Ve=>Ve.y-Ve.yError,Ve=>Ve.y+Ve.yError)}}class FlagSeries extends ItemsSeries{constructor(){super();Wn(this,"symbolPosition",0);Wn(this,"symbolSize",OxySize.Empty);Wn(this,"color");Wn(this,"maximumX",0);Wn(this,"minimumX",0);Wn(this,"symbol");Wn(this,"_values",[]);Wn(this,"xAxis");Wn(this,"xAxisKey");this.color=OxyColors.Black,this.fontSize=10,this.symbol="ê",this.font="Wingdings 2",this.trackerStringFormatter=Ve=>`${Ve.title}: ${Ve.item}`}get values(){return this._values}getNearestPoint(Ve,ze){if(this.xAxis)for(const qe of this.values){if(isNaN(qe)||qe<this.xAxis.actualMinimum||qe>this.xAxis.actualMaximum)continue;const Xe=this.xAxis.transform(qe);if(new OxyRect(Xe-this.symbolSize.width/2,this.symbolPosition-this.symbolSize.height,this.symbolSize.width,this.symbolSize.height).containsPoint(Ve)){const Ke=this.trackerStringFormatter({item:qe,title:this.title});return new TrackerHitResult({series:this,dataPoint:newDataPoint(qe,NaN),position:newScreenPoint(Xe,this.symbolPosition-this.symbolSize.height),text:Ke})}}}async render(Ve){if(this.xAxis){this.symbolPosition=this.plotModel.plotArea.bottom,this.symbolSize=Ve.measureText(this.symbol,this.actualFont,this.actualFontSize,this.actualFontWeight);for(const ze of this.values){if(isNaN(ze)||ze<this.xAxis.clipMinimum||ze>this.xAxis.clipMaximum)continue;const qe=this.xAxis.transform(ze);await Ve.drawText(newScreenPoint(qe,this.symbolPosition),this.symbol,this.color,this.actualFont,this.actualFontSize,this.actualFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Bottom)}}}async renderLegend(Ve,ze){await Ve.drawText(ze.center,this.symbol,this.color,this.actualFont,this.actualFontSize,this.actualFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Middle)}areAxesRequired(){return!0}ensureAxes(){this.xAxis=this.xAxisKey!==void 0?this.plotModel.getAxis(this.xAxisKey):this.plotModel.defaultXAxis}isUsing(Ve){return Ve===this.xAxis}setDefaultValues(){}updateAxisMaxMin(){this.xAxis.include(this.minimumX),this.xAxis.include(this.maximumX)}updateData(){}updateMaxMin(){this.minimumX=minValueOfArray(this.values),this.maximumX=maxValueOfArray(this.values)}}class LineSegmentSeries extends LineSeries{constructor(){super();Wn(this,"showVerticals");Wn(this,"epsilon");this.showVerticals=!0,this.epsilon=1e-8}async render(Ve){if(this.points.length===0)return;if(this.points.length%2!==0)throw new Error("The number of points should be even.");if(!this.xAxis||!this.yAxis)throw new Error("Axis has not been defined.");const ze=this.points.map(Xe=>this.transform(Xe)),qe=[];for(let Xe=0;Xe<ze.length;Xe+=2)screenPointDistanceToSquared(ze[Xe],ze[Xe+1])<this.strokeThickness&&(ze[Xe]=newScreenPoint(ze[Xe].x-this.strokeThickness*.5,ze[Xe].y),ze[Xe+1]=newScreenPoint(ze[Xe].x+this.strokeThickness*.5,ze[Xe].y)),this.showVerticals&&Xe>0&&Math.abs(ze[Xe-1].x-ze[Xe].x)<this.epsilon&&(qe.push(ze[Xe-1]),qe.push(ze[Xe]));if(this.strokeThickness>0){if(this.lineStyle!==LineStyle.None){const Xe=LineStyleHelper.getDashArray(this.lineStyle);await Ve.drawLineSegments(ze,this.actualColor,this.strokeThickness,this.edgeRenderingMode,Xe,this.lineJoin)}await Ve.drawLineSegments(qe,this.actualColor,this.strokeThickness/3,this.edgeRenderingMode,LineStyleHelper.getDashArray(LineStyle.Dash),this.lineJoin)}await RenderingExtensions.drawMarkers(Ve,ze,this.markerType,void 0,[this.markerSize],this.markerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)}getNearestPoint(Ve,ze){const qe=this.points;if(!qe)return;let Xe,We,Ke=-1,Je=Number.MAX_VALUE;for(let Ze=0;Ze+1<qe.length;Ze+=2){const Qe=qe[Ze],St=qe[Ze+1];if(!this.isValidPoint(Qe)||!this.isValidPoint(St))continue;const ei=this.transform(Qe),ti=this.transform(St),ni=ScreenPointHelper.findPointOnLine(Ve,ei,ti);if(ScreenPoint_isUndefined(ni))continue;const oi=screenPointDistanceToSquared(Ve,ni);if(oi<Je){const ai=screenPointDistanceTo(ni,ei)/screenPointDistanceTo(ti,ei);We=newDataPoint(Qe.x+ai*(St.x-Qe.x),Qe.y+ai*(St.y-Qe.y)),Xe=ni,Je=oi,Ke=Ze+ai}}if(Je<Number.MAX_VALUE){const Ze=this.getItem(Math.floor(Ke));return new TrackerHitResult({series:this,dataPoint:We,position:Xe,item:Ze,index:Ke,text:`${this.title||""}
x: ${Ze.x}
y: ${Ze.y}`})}}}class MatrixSeries extends XYAxisSeries{constructor(Ve){super(Ve);Wn(this,"image");Wn(this,"_matrix");Wn(this,"gridInterval");Wn(this,"showDiagonal");Wn(this,"minimumGridLineDistance");Wn(this,"gridColor");Wn(this,"borderColor");Wn(this,"notZeroColor");Wn(this,"zeroTolerance");this.gridInterval=1,this.showDiagonal=!1,this.minimumGridLineDistance=4,this.gridColor=OxyColors.LightGray,this.borderColor=OxyColors.Gray,this.notZeroColor=OxyColors.Black,this.zeroTolerance=0,this.trackerStringFormatter=ze=>`${ze.title||""}
[${ze.xValue},${ze.yValue}] = ${ze.item}`,Ve&&Object.assign(this,removeUndef(Ve))}get matrix(){return this._matrix}set matrix(Ve){this._matrix=Ve,this.image=void 0}get matrixValue(){return this.matrix}set matrixValue(Ve){this.image=void 0,this.matrix=Ve}async render(Ve){if(!this.matrixValue)return;const ze=PlotElementExtensions.transform,qe=this.matrixValue.length,Xe=this.matrixValue[0].length,We=ze(this,0,0),Ke=ze(this,Xe,qe);if(!this.image){const ti=new TwoDimensionalArray(Xe,qe);for(let ni=0;ni<qe;ni++)for(let oi=0;oi<Xe;oi++){const ai=Math.abs(this.matrixValue[ni][oi])<=this.zeroTolerance?OxyColors.Transparent:this.notZeroColor;ti.set(oi,ni,ai)}this.image=await OxyImage.create(ti,ImageFormat.Png)}const Je=Math.min(We.x,Ke.x),Ze=Math.min(We.y,Ke.y),Qe=Math.abs(We.x-Ke.x),St=Math.abs(We.y-Ke.y);await RenderingExtensions.drawImage(Ve,this.image,Je,Ze,Qe,St,1,!1);const ei=[];if(this.gridInterval>0){const ti=ze(this,this.gridInterval,this.gridInterval);if(Math.abs(ti.y-We.y)>this.minimumGridLineDistance)for(let ni=1;ni<Xe;ni+=this.gridInterval)ei.push(ze(this,0,ni)),ei.push(ze(this,Xe,ni));if(Math.abs(ti.x-We.x)>this.minimumGridLineDistance)for(let ni=1;ni<qe;ni+=this.gridInterval)ei.push(ze(this,ni,0)),ei.push(ze(this,ni,qe))}if(this.showDiagonal&&(ei.push(ze(this,0,0)),ei.push(ze(this,Xe,qe))),await Ve.drawLineSegments(ei,this.gridColor,1,this.edgeRenderingMode,void 0,LineJoin.Miter),this.borderColor.isVisible()){const ti=[ze(this,0,0),ze(this,qe,0),ze(this,0,Xe),ze(this,qe,Xe),ze(this,0,0),ze(this,0,Xe),ze(this,qe,0),ze(this,qe,Xe)];await Ve.drawLineSegments(ti,this.borderColor,1,this.edgeRenderingMode,void 0,LineJoin.Miter)}}getNearestPoint(Ve,ze){if(!this.matrix)return;const qe=this.inverseTransform(Ve),Xe=Math.floor(qe.y),We=Math.floor(qe.x);if(Xe>=0&&Xe<this.matrix.length&&We>=0&&We<this.matrix[0].length){const Ke=this.matrix[Xe][We];return new TrackerHitResult({series:this,dataPoint:qe,position:Ve,item:null,index:-1,text:this.trackerStringFormatter({item:Ke,title:this.title,xValue:We,yValue:Xe})})}}updateMaxMin(){super.updateMaxMin(),this.matrix&&(this.minX=0,this.maxX=this.matrix[0].length,this.minY=0,this.maxY=this.matrix.length)}}class PolarHeatMapSeries extends XYAxisSeries{constructor(Ve){super(Ve);Wn(this,"image");Wn(this,"pixels");Wn(this,"imageSize",0);Wn(this,"angle0",0);Wn(this,"angle1",0);Wn(this,"magnitude0",0);Wn(this,"magnitude1",0);Wn(this,"data");Wn(this,"interpolate");Wn(this,"minValue",0);Wn(this,"maxValue",0);Wn(this,"colorAxis");Wn(this,"colorAxisKey");this.interpolate=!0,Ve&&Object.assign(this,removeUndef(Ve))}async render(Ve){if(!this.data){this.image=void 0;return}this.imageSize>0?await this.renderFixed(Ve,this.plotModel):await this.renderDynamic(Ve,this.plotModel)}async renderDynamic(Ve,ze){if(!this.data)return;const qe=this.data.length,Xe=this.data[0].length,We=ze.plotArea,Ke=Math.floor(We.width),Je=Math.floor(We.height);if(Ke===0||Je===0)return;(!this.pixels||this.pixels.height!==Je||this.pixels.width!==Ke)&&(this.pixels=new TwoDimensionalArray(Ke,Je));const Ze=this.pixels,Qe=ColorAxisExtensions.getColor;for(let St=0;St<Je;St++)for(let ei=0;ei<Ke;ei++){const ti=newScreenPoint(We.left+ei,We.top+St),ni=this.inverseTransform(ti);let oi,ai;if(this.plotModel.plotType!==PlotType.Polar)oi=Math.atan2(ni.y,ni.x)/Math.PI*180,ai=Math.sqrt(ni.x*ni.x+ni.y*ni.y);else{for(oi=ni.y/Math.PI*180,ai=ni.x;oi<0;)oi+=360;for(;oi>360;)oi-=360}const si=(oi-this.angle0)/(this.angle1-this.angle0)*qe,ri=(ai-this.magnitude0)/(this.magnitude1-this.magnitude0)*Xe;if(si>=0&&si<qe&&ri>=0&&ri<Xe){const ii=this.getValue(si,ri),ui=OxyColor.fromAColor(160,Qe(this.colorAxis,ii));Ze.set(ei,St,ui)}else Ze.set(ei,St,OxyColors.Transparent)}this.image=await OxyImage.create(Ze,ImageFormat.Png),await RenderingExtensions.drawImage(Ve,this.image,We.left,We.top,We.width,We.height,1,!1)}async renderFixed(Ve,ze){if(!this.data)return;if(!this.image){const We=this.data.length,Ke=this.data[0].length,Je=this.imageSize,Ze=this.imageSize;(this.pixels===void 0||this.pixels.height!==Ze||this.pixels.width!==Je)&&(this.pixels=new TwoDimensionalArray(Je,Ze));const Qe=ColorAxisExtensions.getColor,St=this.pixels;for(let ei=0;ei<Ze;ei++)for(let ti=0;ti<Je;ti++){const ni=(ti-Je*.5)/(Je*.5)*this.magnitude1,oi=-(ei-Ze*.5)/(Ze*.5)*this.magnitude1;let ai=Math.atan2(oi,ni)/Math.PI*180;const si=Math.sqrt(ni*ni+oi*oi);for(;ai<0;)ai+=360;for(;ai>360;)ai-=360;const ri=(ai-this.angle0)/(this.angle1-this.angle0)*We,ii=(si-this.magnitude0)/(this.magnitude1-this.magnitude0)*Ke;if(ri>=0&&ri<We&&ii>=0&&ii<Ke){const ui=this.getValue(ri,ii),ci=OxyColor.fromAColor(160,Qe(this.colorAxis,ui));St.set(ti,ei,ci)}else St.set(ti,ei,OxyColors.Transparent)}this.image=await OxyImage.create(St,ImageFormat.Png)}if(!this.image)return;const qe=PlotElementExtensions.transform;let Xe;if(this.plotModel.plotType!==PlotType.Polar){const We=qe(this,-this.magnitude1,this.magnitude1),Ke=qe(this,this.magnitude1,-this.magnitude1);Xe=new OxyRect(We.x,We.y,Ke.x-We.x,Ke.y-We.y)}else{const We=qe(this,this.magnitude1,90),Ke=qe(this,this.magnitude1,270),Je=qe(this,this.magnitude1,180),Ze=qe(this,this.magnitude1,0);Xe=new OxyRect(Je.x,We.y,Ze.x-Je.x,Ke.y-We.y)}await RenderingExtensions.drawImage(Ve,this.image,Xe.left,Xe.top,Xe.width,Xe.height,1,!1)}getValue(Ve,ze){if(!this.data)return NaN;if(!this.interpolate){const ri=Math.floor(Ve),ii=Math.floor(ze);return this.data[ri][ii]}Ve-=.5,ze-=.5;const qe=Math.floor(Ve),Xe=Math.floor(ze),We=qe>0?qe:0,Ke=qe+1<this.data.length?qe+1:qe,Je=Xe>0?Xe:0,Ze=Xe+1<this.data[0].length?Xe+1:Xe,Qe=this.data[We][Je],St=this.data[We][Ze],ei=this.data[Ke][Je],ti=this.data[Ke][Ze],ni=Ve-qe,oi=ze-Xe,ai=Qe*(1-oi)+St*oi,si=ei*(1-oi)+ti*oi;return ai*(1-ni)+si*ni}getNearestPoint(Ve,ze){}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}updateMaxMin(){super.updateMaxMin();const Ve=this.getData();this.minValue=minValueOfArray(Ve),this.maxValue=maxValueOfArray(Ve);const ze=this.colorAxis;ze&&(ze.include(this.minValue),ze.include(this.maxValue))}getData(){if(!this.data)return[];const Ve=this.data.length,ze=[],qe=this.data[0].length;for(let Xe=0;Xe<Ve;Xe++)for(let We=0;We<qe;We++)ze.push(this.data[Xe][We]);return ze}}function errorSeries(){const $e=new PlotModel({title:"ErrorSeries"}),Ve=new Legend({legendPosition:LegendPosition.BottomRight});$e.legends.push(Ve);const ze=new ErrorSeries;ze.title="Measurements";const qe=Math.random();let Xe=0,We=0;for(let Ke=0;Ke<20;Ke++){Xe+=2+qe*10,We+=1+qe;const Je=1+qe*2,Ze=1+qe*2;ze.pointsList.push(new ErrorItem(Xe,We,Je,Ze))}return $e.series.push(ze),$e}function lineSegmentSeries(){const je=new PlotModel({title:"LineSegmentSeries"}),$e=new LineSegmentSeries;$e.title="The first series",$e.points.push(newDataPoint(0,3),newDataPoint(2,3.2)),$e.points.push(newDataPoint(2,2.7),newDataPoint(7,2.9)),je.series.push($e);const Ve=new LineSegmentSeries;return Ve.title="The second series",Ve.points.push(newDataPoint(1,-3),newDataPoint(2,10)),Ve.points.push(newDataPoint(0,4.8),newDataPoint(7,2.3)),Ve.points.push(newDataPoint(6,4),newDataPoint(6,4+1e-8)),je.series.push(Ve),je}function flagSeries(){const je=new PlotModel({title:"FlagSeries"}),$e=new FlagSeries;return $e.title="Incidents",$e.color=OxyColors.Red,$e.values.push(2,3,5,7,11,13,17,19),je.series.push($e),je}function diagonalMatrix(){const je=new PlotModel,$e=[[1,0,0],[0,2,0],[0,0,3],[5,5,5]];return je.axes.push(new LinearAxis({position:AxisPosition.Left,startPosition:1,endPosition:0})),je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.series.push(new MatrixSeries({matrix:$e,showDiagonal:!0})),je}function polarHeatMap(){const je=new PlotModel({title:"Polar heat map",plotMargins:new OxyThickness(40,80,40,40),plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness(0)}),$e=[[0,2],[1.5,.2]];return je.axes.push(new AngleAxis({startAngle:0,endAngle:360,minimum:0,maximum:360,majorStep:30,minorStep:15})),je.axes.push(new MagnitudeAxis({minimum:0,maximum:100,majorStep:25,minorStep:5})),je.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.rainbow(500),highColor:OxyColors.Gray,lowColor:OxyColors.Black})),je.series.push(new PolarHeatMapSeries({data:$e,angle0:30,angle1:150,magnitude0:0,magnitude1:80,interpolate:!1})),je}function polarHeatMapReversedAngleAxis(){const je=polarHeatMap();return je.axes[0]=new AngleAxis({startAngle:360,endAngle:0,minimum:0,maximum:360,majorStep:30,minorStep:15}),je}function polarHeatMapRotatedCounterClockwise90(){const je=polarHeatMap();return je.axes[0]=new AngleAxis({startAngle:90,endAngle:450,minimum:0,maximum:360,majorStep:30,minorStep:15}),je}function polarHeatMapRotatedCounterClockwisePi(){const je=polarHeatMap();return je.axes[0]=new AngleAxis({startAngle:Math.PI,endAngle:Math.PI+360,minimum:0,maximum:360,majorStep:30,minorStep:15}),je}function polarHeatMapInterpolated(){const je=polarHeatMap();return je.title="Polar heat map (interpolated)",je.series[0].interpolate=!0,je}function polarHeatMapFixed(){const je=polarHeatMap();return je.title="Polar heat map with fixed size image",je.series[0].imageSize=800,je}function polarHeatMapLinearAxes(){const je=new PlotModel({title:"Polar heat map on linear axes"}),$e=[[0,2],[1.5,.2]];return je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-100,maximum:100})),je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:100})),je.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.rainbow(500),highColor:OxyColors.Gray,lowColor:OxyColors.Black})),je.series.push(new PolarHeatMapSeries({data:$e,angle0:30,angle1:150,magnitude0:0,magnitude1:80,interpolate:!0})),je}function polarHeatMapLinearAxesFixed256(){const je=polarHeatMapLinearAxes();return je.title="Polar heat map on linear axes & fixed size image (256x256)",je.series[0].imageSize=256,je}function polarHeatMapLinearAxesFixed1000(){const je=polarHeatMapLinearAxes();return je.title="Polar heat map on linear axes & fixed size image (1000x1000)",je.series[0].imageSize=1e3,je}function designStructureMatrix(){const je=new TwoDimensionalArray(7,7,0);je.set(1,0,1),je.set(5,0,1),je.set(3,1,1),je.set(0,2,1),je.set(6,2,1),je.set(4,3,1),je.set(1,4,1),je.set(5,4,1),je.set(2,5,1),je.set(0,6,1),je.set(4,6,1);for(let Xe=0;Xe<7;Xe++)je.set(Xe,Xe,-1);const $e=new PlotModel({title:"Design structure matrix (DSM)"});$e.axes.push(new LinearColorAxis({position:AxisPosition.None,palette:new OxyPalette([OxyColors.White,OxyColors.LightGreen]),lowColor:OxyColors.Black,minimum:0,isAxisVisible:!1}));const Ve=new CategoryAxis({position:AxisPosition.Top});Ve.labels.push("A","B","C","D","E","F","G"),$e.axes.push(Ve);const ze=new CategoryAxis({position:AxisPosition.Left,startPosition:1,endPosition:0});ze.labels.push("Element A","Element B","Element C","Element D","Element E","Element F","Element G"),$e.axes.push(ze);const qe=new DesignStructureMatrixSeries({data:je.toArray(),interpolate:!1,labelStringFormatter:(Xe,We)=>`${Xe||""}`,labelFontSize:.25,x0:0,x1:je.width-1,y0:0,y1:je.height-1});return $e.series.push(qe),$e}class DesignStructureMatrixSeries extends HeatMapSeries{constructor($e){super($e)}getLabel($e,Ve,ze){return Ve===ze?this.xAxis.labels[Ve]:super.getLabel($e,Ve,ze)}}const category$P="Custom series",CustomSeriesExamples={category:category$P,tags:["Series"],examples:[{title:"ErrorSeries",example:{model:errorSeries}},{title:"LineSegmentSeries",example:{model:lineSegmentSeries}},{title:"FlagSeries",example:{model:flagSeries}},{title:"MatrixSeries - diagonal matrix",example:{model:diagonalMatrix}},{title:"PolarHeatMap",example:{model:polarHeatMap}},{title:"PolarHeatMap Reversed Angle Axis",example:{model:polarHeatMapReversedAngleAxis}},{title:"PolarHeatMap Rotated CounterClockwise 90",example:{model:polarHeatMapRotatedCounterClockwise90}},{title:"PolarHeatMap Rotated CounterClockwise on PI degrees",example:{model:polarHeatMapRotatedCounterClockwisePi}},{title:"PolarHeatMap (interpolated)",example:{model:polarHeatMapInterpolated}},{title:"PolarHeatMap fixed size image",example:{model:polarHeatMapFixed}},{title:"PolarHeatMap on linear axes",example:{model:polarHeatMapLinearAxes}},{title:"PolarHeatMap linear axes, fixed size image (256x256)",example:{model:polarHeatMapLinearAxesFixed256}},{title:"PolarHeatMap linear axes, fixed size image (1000x1000)",example:{model:polarHeatMapLinearAxesFixed1000}},{title:"Design structure matrix (DSM)",example:{model:designStructureMatrix}}]},CustomSeries=[CustomSeriesExamples];class Random{constructor($e){}next($e,Ve){return isUndef($e)&&isUndef(Ve)?Math.random():($e=$e||0,Ve=isNullOrUndef(Ve)?1:Ve,Math.floor(Math.random()*(Ve-$e+1))+$e)}}function tickStyleNone$1(){return createTickStyleExample(TickStyle.None)}function tickStyleInside$1(){return createTickStyleExample(TickStyle.Inside)}function tickStyleCrossing$1(){return createTickStyleExample(TickStyle.Crossing)}function tickStyleOutside$1(){return createTickStyleExample(TickStyle.Outside)}function tickLineColor(){const je=new PlotModel({title:"Color major and minor ticks differently"});return je.axes.push(new LinearAxis({position:AxisPosition.Left,majorGridlineThickness:3,minorGridlineThickness:3,ticklineColor:OxyColors.Blue,minorTicklineColor:OxyColors.Gray})),je.axes.push(new LinearAxis({position:AxisPosition.Bottom,majorGridlineThickness:3,minorGridlineThickness:3,ticklineColor:OxyColors.Blue,minorTicklineColor:OxyColors.Gray})),je}function gridlineStyleNone(){const je=new PlotModel({title:"No gridlines"});return je.axes.push(new LinearAxis({position:AxisPosition.Left})),je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je}function gridLinestyleVertical(){const je=new PlotModel({title:"Vertical gridlines"});return je.axes.push(new LinearAxis),je.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,position:AxisPosition.Bottom})),je}function gridLinestyleHorizontal(){const je=new PlotModel({title:"Horizontal gridlines"});return je.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot})),je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je}function gridLinestyleBoth(){const je=new PlotModel({title:"Horizontal and vertical gridlines"});return je.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot})),je.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,position:AxisPosition.Bottom})),je}function axisPositionLeftAndBottom(){const je=new PlotModel;return je.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,title:"Left"})),je.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,position:AxisPosition.Bottom,title:"Bottom"})),je}function axisPositionTopRight(){const je=new PlotModel;return je.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,position:AxisPosition.Right,title:"Right"})),je.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,position:AxisPosition.Top,title:"Top"})),je}function axisAngle45(){const je=new PlotModel({plotMargins:new OxyThickness(60,40,60,30)});return je.axes.push(new LinearAxis({angle:45,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,title:"Left"})),je.axes.push(new LinearAxis({angle:45,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,position:AxisPosition.Bottom,title:"Bottom"})),je}function zeroCrossing(){const je=new PlotModel({title:"PositionAtZeroCrossing = true",plotAreaBorderThickness:new OxyThickness(0),plotMargins:new OxyThickness(10,10,10,10)});return je.axes.push(new LinearAxis({maximum:50,minimum:-30,positionAtZeroCrossing:!0,axislineStyle:LineStyle.Solid,tickStyle:TickStyle.Crossing})),je.axes.push(new LinearAxis({maximum:70,minimum:-50,position:AxisPosition.Bottom,positionAtZeroCrossing:!0,axislineStyle:LineStyle.Solid,tickStyle:TickStyle.Crossing})),je}function horizontalZeroCrossing(){const je=new PlotModel({title:"Bottom axis: PositionAtZeroCrossing = true"});return je.axes.push(new LinearAxis({maximum:50,minimum:-30,position:AxisPosition.Left,positionAtZeroCrossing:!1})),je.axes.push(new LinearAxis({maximum:70,minimum:-50,position:AxisPosition.Bottom,positionAtZeroCrossing:!0,axislineStyle:LineStyle.Solid})),je}function verticalZeroCrossing(){const je=new PlotModel({title:"Left axis: PositionAtZeroCrossing = true"});return je.axes.push(new LinearAxis({maximum:50,minimum:-30,position:AxisPosition.Left,positionAtZeroCrossing:!0,axislineStyle:LineStyle.Solid})),je.axes.push(new LinearAxis({maximum:70,minimum:-50,position:AxisPosition.Bottom,positionAtZeroCrossing:!1})),je}function reversed(){const je=new PlotModel({title:"EndPosition = 0, StartPosition = 1"});return je.axes.push(new LinearAxis({endPosition:0,startPosition:1,maximum:50,minimum:-30,position:AxisPosition.Left})),je.axes.push(new LinearAxis({endPosition:0,startPosition:1,maximum:70,minimum:-50,position:AxisPosition.Bottom})),je}function sharingY(){const je=new PlotModel;je.axes.push(new LinearAxis({endPosition:0,startPosition:1,maximum:1.5,minimum:-1.5,position:AxisPosition.Left}));const $e=new LinearAxis({startPosition:0,endPosition:.45,maximum:7,minimum:0,position:AxisPosition.Bottom,key:"x1"});je.axes.push($e);const Ve=new LinearAxis({startPosition:.55,endPosition:1,maximum:10,minimum:0,position:AxisPosition.Bottom,key:"x2"});return je.axes.push(Ve),je.series.push(new FunctionSeries({f:Math.sin,x0:0,x1:10,n:1e3,xAxisKey:$e.key})),je.series.push(new FunctionSeries({f:Math.sin,x0:0,x1:10,n:1e3,xAxisKey:Ve.key})),je}function fourAxes(){const je=new PlotModel;return je.axes.push(new LinearAxis({maximum:36,minimum:0,title:"km/h"})),je.axes.push(new LinearAxis({maximum:10,minimum:0,position:AxisPosition.Right,title:"m/s"})),je.axes.push(new LinearAxis({maximum:10,minimum:0,position:AxisPosition.Bottom,title:"meter"})),je.axes.push(new LinearAxis({maximum:1e4,minimum:0,position:AxisPosition.Top,title:"millimeter"})),je}function fiveAxes(){const je=new PlotModel;return je.axes.push(new LinearAxis({endPosition:.25,maximum:1,minimum:-1,title:"C1"})),je.axes.push(new LinearAxis({endPosition:.5,maximum:1,minimum:-1,position:AxisPosition.Right,startPosition:.25,title:"C2"})),je.axes.push(new LinearAxis({endPosition:.75,maximum:1,minimum:-1,startPosition:.5,title:"C3"})),je.axes.push(new LinearAxis({maximum:1,minimum:-1,position:AxisPosition.Right,startPosition:.75,title:"C4"})),je.axes.push(new LinearAxis({maximum:100,minimum:0,position:AxisPosition.Bottom,title:"s"})),je}function logarithmicAxes(){const je=new PlotModel;return je.axes.push(new LogarithmicAxis({maximum:1e6,minimum:1,title:"Log axis",useSuperExponentialFormat:!0})),je.axes.push(new LogarithmicAxis({maximum:1e4,minimum:.001,position:AxisPosition.Bottom,title:"Log axis",useSuperExponentialFormat:!0})),je}const cartesianPlotLogarithmicAxes=()=>new PlotModel({plotType:PlotType.Cartesian,axes:[new LogarithmicAxis({maximum:1e6,minimum:1,title:"Log x axis",useSuperExponentialFormat:!0,majorGridlineStyle:LineStyle.Solid,isPanEnabled:!0}),new LogarithmicAxis({maximum:1e4,minimum:.001,position:AxisPosition.Bottom,title:"Log y axis",useSuperExponentialFormat:!0,majorGridlineStyle:LineStyle.Solid,isPanEnabled:!0})]});function bigNumbers(){const je=new PlotModel;return je.axes.push(new LinearAxis({maximum:6e32,minimum:-1e47,title:"big numbers"})),je.axes.push(new LinearAxis({maximum:3e50,minimum:-1e40,position:AxisPosition.Bottom,title:"big numbers"})),je}function bigNumbersSuperExponentialFormat(){const je=new PlotModel;return je.axes.push(new LinearAxis({maximum:6e32,minimum:-1e47,title:"big numbers",useSuperExponentialFormat:!0})),je.axes.push(new LinearAxis({maximum:3e50,minimum:-1e40,position:AxisPosition.Bottom,title:"big numbers",useSuperExponentialFormat:!0})),je}function smallNumbers(){const je=new PlotModel;return je.axes.push(new LinearAxis({maximum:6e-15,minimum:-5e-15,title:"small numbers"})),je.axes.push(new LinearAxis({maximum:3e-15,minimum:-4e-15,position:AxisPosition.Bottom,title:"small numbers"})),je}function defaultPadding(){const je=new PlotModel({title:"Default padding"});je.axes.push(new LinearAxis),je.axes.push(new LinearAxis({position:AxisPosition.Bottom}));const $e=new LineSeries({color:OxyColor.fromArgb(255,78,154,6),markerFill:OxyColor.fromArgb(255,78,154,6)});return $e.points.push(newDataPoint(10,4)),$e.points.push(newDataPoint(12,7)),$e.points.push(newDataPoint(16,3)),$e.points.push(newDataPoint(20,9)),je.series.push($e),je}function noPadding(){const je=new PlotModel({title:"No padding"});je.axes.push(new LinearAxis({maximumPadding:0,minimumPadding:0})),je.axes.push(new LinearAxis({maximumPadding:0,minimumPadding:0,position:AxisPosition.Bottom}));const $e=new LineSeries({color:OxyColor.fromArgb(255,78,154,6),markerFill:OxyColor.fromArgb(255,78,154,6)});return $e.points.push(newDataPoint(10,4)),$e.points.push(newDataPoint(12,7)),$e.points.push(newDataPoint(16,3)),$e.points.push(newDataPoint(20,9)),je.series.push($e),je}function padding(){const je=new PlotModel({title:"Padding 10%"});je.axes.push(new LinearAxis({maximumPadding:.1,minimumPadding:.1})),je.axes.push(new LinearAxis({maximumPadding:.1,minimumPadding:.1,position:AxisPosition.Bottom}));const $e=new LineSeries({color:OxyColor.fromArgb(255,78,154,6),markerFill:OxyColor.fromArgb(255,78,154,6)});return $e.points.push(newDataPoint(10,4)),$e.points.push(newDataPoint(12,7)),$e.points.push(newDataPoint(16,3)),$e.points.push(newDataPoint(20,9)),je.series.push($e),je}function xaxisMinimumPadding(){const je=new PlotModel({title:"X-axis MinimumPadding=0.1"});je.axes.push(new LinearAxis),je.axes.push(new LinearAxis({minimumPadding:.1,position:AxisPosition.Bottom}));const $e=new LineSeries({color:OxyColor.fromArgb(255,78,154,6),markerFill:OxyColor.fromArgb(255,78,154,6)});return $e.points.push(newDataPoint(10,4)),$e.points.push(newDataPoint(12,7)),$e.points.push(newDataPoint(16,3)),$e.points.push(newDataPoint(20,9)),je.series.push($e),je}function xaxisMaximumPadding(){const je=new PlotModel({title:"X-axis MaximumPadding=0.1"});je.axes.push(new LinearAxis),je.axes.push(new LinearAxis({maximumPadding:.1,position:AxisPosition.Bottom}));const $e=new LineSeries({color:OxyColor.fromArgb(255,78,154,6),markerFill:OxyColor.fromArgb(255,78,154,6)});return $e.points.push(newDataPoint(10,4)),$e.points.push(newDataPoint(12,7)),$e.points.push(newDataPoint(16,3)),$e.points.push(newDataPoint(20,9)),je.series.push($e),je}function absoluteMinimumAndMaximum(){const je=new PlotModel({title:"AbsoluteMinimum=-17, AbsoluteMaximum=63",subtitle:"Zooming and panning is limited to these values."});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:0,maximum:50,absoluteMinimum:-17,absoluteMaximum:63})),je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:50,absoluteMinimum:-17,absoluteMaximum:63})),je}function minimumRange(){const je=new PlotModel({title:"MinimumRange = 400"});return je.axes.push(new LinearAxis({position:AxisPosition.Left,minimumRange:400})),je}function maximumRange(){const je=new PlotModel({title:"MaximumRange = 40"});return je.axes.push(new LinearAxis({position:AxisPosition.Left,maximumRange:40})),je}function titleWithUnit(){const je=new PlotModel({title:"Axis titles with units"});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Speed",unit:"km/h"})),je.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Temperature",unit:"°C"})),je}function invisibleVerticalAxis(){const je=new PlotModel({title:"Invisible vertical axis"});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left,isAxisVisible:!1})),je.series.push(new FunctionSeries({f:$e=>Math.sin($e)/$e,x0:-5,x1:5,dx:.1})),je}function invisibleHorizontalAxis(){const je=new PlotModel({title:"Invisible horizontal axis"});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom,isAxisVisible:!1})),je.axes.push(new LinearAxis({position:AxisPosition.Left})),je.series.push(new FunctionSeries({f:$e=>Math.sin($e)*$e*$e,x0:-5,x1:5,dx:.1})),je}function zoomingDisabled(){const je=new PlotModel({title:"Zooming disabled"});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom,isZoomEnabled:!1})),je.axes.push(new LinearAxis({position:AxisPosition.Left,isZoomEnabled:!1})),je}function panningDisabled(){const je=new PlotModel({title:"Panning disabled"});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom,isPanEnabled:!1})),je.axes.push(new LinearAxis({position:AxisPosition.Left,isPanEnabled:!1})),je}function denseIntervals(){const je=new PlotModel({title:"Dense intervals"});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom,intervalLength:30})),je.axes.push(new LinearAxis({position:AxisPosition.Left,intervalLength:20})),je}function graphPaper(){const je=new PlotModel({title:"Graph Paper"}),$e=OxyColors.DarkBlue;return je.plotType=PlotType.Cartesian,je.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"X",majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,$e),minorGridlineColor:OxyColor.fromAColor(20,$e)})),je.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Y",majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,$e),minorGridlineColor:OxyColor.fromAColor(20,$e)})),je}function logLogPaper(){const je=new PlotModel({title:"Log-Log Paper"}),$e=OxyColors.DarkBlue;return je.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom,title:"X",minimum:.1,maximum:1e3,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,$e),minorGridlineColor:OxyColor.fromAColor(20,$e)})),je.axes.push(new LogarithmicAxis({position:AxisPosition.Left,title:"Y",minimum:.1,maximum:1e3,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,$e),minorGridlineColor:OxyColor.fromAColor(20,$e)})),je}function onBlack(){const je=new PlotModel({title:"Black background",background:OxyColors.Black,textColor:OxyColors.White,plotAreaBorderColor:OxyColors.White}),$e=OxyColors.White;return je.plotType=PlotType.Cartesian,je.series.push(new FunctionSeries({f:Math.sin,x0:0,x1:Math.PI*2,n:1e3,title:"f(x)=sin(x)"})),je.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"x",majorStep:Math.PI/2,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"π",majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,$e),minorGridlineColor:OxyColor.fromAColor(20,$e),ticklineColor:OxyColors.White})),je.axes.push(new LinearAxis({position:AxisPosition.Left,title:"f(x)",majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,$e),minorGridlineColor:OxyColor.fromAColor(20,$e),ticklineColor:OxyColors.White})),je}function backgrounds(){const je=new PlotModel({title:"Background and PlotAreaBackground",background:OxyColors.Silver,plotAreaBackground:OxyColors.Gray,plotAreaBorderColor:OxyColors.Black,plotAreaBorderThickness:new OxyThickness(3)});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left})),je}function currentCulture(){const je=new PlotModel({title:"Current culture"});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-1,maximum:1})),je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-1,maximum:1})),je.series.push(new FunctionSeries({f:Math.sin,x0:-1,x1:1,n:100})),je}function longAxisTitlesClipped90(){const je="Long title 12345678901234567890123456789012345678901234567890123456789012345678901234567890",$e="The tool tip is "+je,Ve=new PlotModel({title:"Long axis titles (clipped at 90%)"});return Ve.axes.push(new LinearAxis({position:AxisPosition.Left,title:je,toolTip:$e})),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:je,toolTip:$e})),Ve}function longAxisTitlesClipped100(){const je="Long title 12345678901234567890123456789012345678901234567890123456789012345678901234567890",$e="The tool tip is "+je,Ve=new PlotModel({title:"Long axis titles (clipped at 100%)"});return Ve.axes.push(new LinearAxis({position:AxisPosition.Left,title:je,toolTip:$e,titleClippingLength:1})),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:je,toolTip:$e,titleClippingLength:1})),Ve}function longAxisTitlesNotClipped(){const je="Long title 12345678901234567890123456789012345678901234567890123456789012345678901234567890",$e="The tool tip is "+je,Ve=new PlotModel({title:"Long axis titles (not clipped)"});return Ve.axes.push(new LinearAxis({position:AxisPosition.Left,title:je,toolTip:$e,clipTitle:!1})),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:je,toolTip:$e,clipTitle:!1})),Ve}function positionTier(){const je=new PlotModel,$e=new LinearAxis({maximum:1,minimum:-1,title:"PositionTier=0"});je.axes.push($e);const Ve=new LinearAxis({axislineStyle:LineStyle.Solid,maximum:2,minimum:-2,positionTier:1,title:"PositionTier=1"});je.axes.push(Ve);const ze=new LinearAxis({maximum:1,minimum:-1,position:AxisPosition.Right,title:"PositionTier=0"});je.axes.push(ze);const qe=new LinearAxis({axislineStyle:LineStyle.Solid,maximum:2,minimum:-2,position:AxisPosition.Right,positionTier:1,title:"PositionTier=1"});je.axes.push(qe);const Xe=new LinearAxis({maximum:1,minimum:-1,position:AxisPosition.Top,title:"PositionTier=0"});je.axes.push(Xe);const We=new LinearAxis({axislineStyle:LineStyle.Solid,maximum:2,minimum:-2,position:AxisPosition.Top,positionTier:1,title:"PositionTier=1"});je.axes.push(We);const Ke=new LinearAxis({axislineStyle:LineStyle.Solid,maximum:10,minimum:-10,position:AxisPosition.Top,positionTier:2,title:"PositionTier=2"});je.axes.push(Ke);const Je=new LinearAxis({maximum:1,minimum:-1,position:AxisPosition.Bottom,title:"PositionTier=0"});je.axes.push(Je);const Ze=new LinearAxis({axislineStyle:LineStyle.Solid,maximum:2,minimum:-2,position:AxisPosition.Bottom,positionTier:1,title:"PositionTier=1"});je.axes.push(Ze);const Qe=new LinearAxis({axislineStyle:LineStyle.Solid,maximum:10,minimum:-10,position:AxisPosition.Bottom,positionTier:2,title:"PositionTier=2"});return je.axes.push(Qe),je}function titleColor(){const je=new PlotModel({title:"Custom axis title color"});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-1,maximum:1,title:"Bottom axis",titleColor:OxyColors.Red})),je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-1,maximum:1,title:"Left axis",titleColor:OxyColors.Blue})),je.series.push(new FunctionSeries({f:Math.sin,x0:-1,x1:1,n:100})),je}function labelColor(){const je=new PlotModel({title:"Custom axis label color"});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-1,maximum:1,title:"Bottom axis",textColor:OxyColors.Red})),je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-1,maximum:1,title:"Left axis",textColor:OxyColors.Blue})),je.series.push(new FunctionSeries({f:Math.sin,x0:-1,x1:1,n:100})),je}function angledAxisNumbers(){const je=new PlotModel({title:"Angled axis numbers"});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-1,maximum:1,title:"Bottom axis",angle:45})),je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-1,maximum:1,title:"Left axis",angle:45})),je.axes.push(new LinearAxis({position:AxisPosition.Top,minimum:-1,maximum:1,title:"Top axis",angle:45})),je.axes.push(new LinearAxis({position:AxisPosition.Right,minimum:-1,maximum:1,title:"Right axis",angle:45})),je}function axisDistance(){const je=new PlotModel({title:"AxisDistance = 20"});return je.axes.push(new LinearAxis({axislineStyle:LineStyle.Solid,axisDistance:20,position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({axislineStyle:LineStyle.Solid,axisDistance:20,position:AxisPosition.Left})),je.axes.push(new LinearAxis({axislineStyle:LineStyle.Solid,axisDistance:20,position:AxisPosition.Right})),je.axes.push(new LinearAxis({axislineStyle:LineStyle.Solid,axisDistance:20,position:AxisPosition.Top})),je}function noAxesDefined(){const je=new PlotModel({title:"No axes defined",subtitle:"Bottom and left axes are auto-generated."});return je.series.push(new FunctionSeries({f:Math.sin,x0:0,x1:10,n:400})),je}function labelFormatter$1(){const je=new PlotModel({title:"LabelFormatter"});je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-10,maximum:10,labelFormatter:Ve=>Math.abs(Ve)<Number.EPSILON?"ZERO":Ve.toString()}));const $e=65;return je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:25,majorStep:1,minorStep:1,maximumPadding:0,minimumPadding:0,labelFormatter:Ve=>String.fromCharCode(Ve+$e)})),je}function toolTips(){const je=new PlotModel({title:"Tool tips"});return je.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Left axis",toolTip:"Tool tip for the left axis"})),je.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Bottom axis",toolTip:"Tool tip for the bottom axis"})),je}function subSuperscriptInAxisTitles(){const je=new PlotModel({title:"Sub- and superscript in axis titles"});return je.axes.push(new LinearAxis({title:"Title with^{super}_{sub}script"})),je.axes.push(new LinearAxis({title:"Title with^{super}_{sub}script",position:AxisPosition.Bottom})),je}function minimumMajorStep(){const je=new PlotModel({title:"Axes with MinimumMajorStep"});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"MinimuMajorStep = 1",minimum:0,maximum:2,minimumMajorStep:1})),je.axes.push(new LinearAxis({position:AxisPosition.Left,title:"MinimuMajorStep = 10",minimum:0,maximum:15,minimumMajorStep:10})),je.axes.push(new LinearAxis({position:AxisPosition.Top,title:"MinimuMajorStep = 0 (default)",minimum:0,maximum:2})),je.axes.push(new LinearAxis({position:AxisPosition.Right,title:"MinimuMajorStep = 0 (default)",minimum:0,maximum:15})),je}function minimumMinorStep(){const je=new PlotModel({title:"Axes with MinimumMinorStep"});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"MinimumMinorStep = 1",minimum:0,maximum:20,minimumMinorStep:1})),je.axes.push(new LinearAxis({position:AxisPosition.Left,title:"MinimumMinorStep = 10",minimum:0,maximum:150,minimumMinorStep:10})),je.axes.push(new LinearAxis({position:AxisPosition.Top,title:"MinimumMinorStep = 0 (default)",minimum:0,maximum:20})),je.axes.push(new LinearAxis({position:AxisPosition.Right,title:"MinimumMinorStep = 0 (default)",minimum:0,maximum:150})),je}function defaultAxisTitleDistance(){const je=new PlotModel({title:"AxisTitleDistance = 4 (default)"});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Bottom",minimum:0,maximum:20})),je.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Left",minimum:0,maximum:150})),je.axes.push(new LinearAxis({position:AxisPosition.Top,title:"Top",minimum:0,maximum:20})),je.axes.push(new LinearAxis({position:AxisPosition.Right,title:"Right",minimum:0,maximum:150})),je}function customAxisTitleDistance(){const je=new PlotModel({title:"AxisTitleDistance = 40"});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Bottom",minimum:0,maximum:20,axisTitleDistance:40})),je.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Left",minimum:0,maximum:150,axisTitleDistance:40})),je.axes.push(new LinearAxis({position:AxisPosition.Top,title:"Top",minimum:0,maximum:20,axisTitleDistance:40})),je.axes.push(new LinearAxis({position:AxisPosition.Right,title:"Right",minimum:0,maximum:150,axisTitleDistance:40})),je}function majorGridlineStyle(){const je=new PlotModel({title:"MajorGridlineStyle and MajorGridlineThickness"});return je.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,majorGridlineThickness:10})),je.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,majorGridlineThickness:10,position:AxisPosition.Bottom})),je}function gridlineCroppingBoth(){const je=new PlotModel({title:"Gridline cropping"});return je.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,extraGridlines:[46],extraGridlineColor:OxyColors.Red,startPosition:.1,endPosition:.4,cropGridlines:!0})),je.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,extraGridlines:[46],extraGridlineColor:OxyColors.Red,startPosition:.6,endPosition:.9,cropGridlines:!0})),je.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,position:AxisPosition.Bottom,extraGridlines:[46],extraGridlineColor:OxyColors.Red,startPosition:.1,endPosition:.4,cropGridlines:!0})),je.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,position:AxisPosition.Bottom,extraGridlines:[46],extraGridlineColor:OxyColors.Red,startPosition:.6,endPosition:.9,cropGridlines:!0})),je}function multiVerticalAxes(){const je="axisY_Temperature",$e="axisY_Pressure",Ve="axisY_Humidity",ze=new PlotModel({title:"Multi vertical axes with lineSeries"}),qe=new Legend({legendBackground:OxyColors.White});ze.legends.push(qe);const Xe=new DateTimeAxis({title:"Time",position:AxisPosition.Bottom,majorGridlineStyle:LineStyle.Solid,fontSize:13});ze.axes.push(Xe);let We=null,Ke=null,Je=null,Ze=null,Qe=null,St=null;Ze=new LinearAxis({title:"Temperature",position:AxisPosition.Left,majorGridlineStyle:LineStyle.None,positionTier:1,key:je,isAxisVisible:!0}),We=new LineSeries({title:"Temperature",color:OxyColors.Tomato,lineStyle:LineStyle.Solid,markerType:MarkerType.Circle,markerSize:3,markerFill:OxyColors.Red,yAxisKey:je,isVisible:!0}),ze.axes.push(Ze),ze.series.push(We),Qe=new LinearAxis({title:"Pressure",position:AxisPosition.Left,majorGridlineStyle:LineStyle.None,positionTier:2,key:$e,isAxisVisible:!0}),Ke=new LineSeries({title:"Pressure",color:OxyColors.Peru,lineStyle:LineStyle.Solid,markerType:MarkerType.Circle,markerSize:3,markerFill:OxyColors.Sienna,yAxisKey:$e,isVisible:!0}),ze.axes.push(Qe),ze.series.push(Ke),St=new LinearAxis({title:"Humidity",position:AxisPosition.Left,majorGridlineStyle:LineStyle.None,positionTier:3,key:Ve,isAxisVisible:!0}),Je=new LineSeries({title:"Humidity",color:OxyColors.LightSkyBlue,lineStyle:LineStyle.Solid,markerType:MarkerType.Circle,markerSize:3,markerFill:OxyColors.DeepSkyBlue,yAxisKey:Ve,isVisible:!0}),ze.axes.push(St),ze.series.push(Je);{We.points.length=0,Ke.points.length=0,Je.points.length=0;const ei=TimeSpan.fromMilliseconds(1e3),ti=getDateService();let ni=new Date(2018,8,10);const oi=100;for(let ai=1;ai<=oi;ai++){const si=20+Math.sin(ai),ri=760+1.5*Math.cos(1.5*ai),ii=50+2*Math.sin(2*ai);We.points.push(DateTimeAxis.createDataPoint(ni,si)),Ke.points.push(DateTimeAxis.createDataPoint(ni,ri)),Je.points.push(DateTimeAxis.createDataPoint(ni,ii)),ni=ti.addTimespan(ni,ei)}Ze.minimum=10,Ze.maximum=23,Qe.minimum=750,Qe.maximum=770,St.minimum=47,St.maximum=60}return ze}function autoMargin(){const je=new PlotModel({title:"Auto-adjusting plot margins",subtitle:"When zooming in and out the plot margins should adjust accordingly"});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"X Axis",titleFontSize:16})),je}function manualMargins(){const je=new PlotModel({title:"Manual Margins",subtitle:"PlotMargins = 40",plotMargins:new OxyThickness(40)});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je}function manualLeftMargin(){const je=new PlotModel({title:"Manual Left Margin",subtitle:"PlotMargins = 40,NaN,NaN,NaN",plotMargins:new OxyThickness(40,NaN,NaN,NaN)});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je}function autoMarginWideLabels(){const je=new PlotModel({title:"Auto-adjusting plot margins - wide axis labels",subtitle:"There should be enough space reserved such that the axis labels always fit in the viewport"});return je.axes.push(getLongLabelSeries()),je}function autoMarginWideLabelsRotated(){const je=new PlotModel({title:"Auto-adjusting plot margins - wide rotated axis labels",subtitle:"There should be enough space reserved such that the axis labels always fit in the viewport"}),$e=getLongLabelSeries();return $e.angle=-90,je.axes.push($e),je}function autoMarginWideLabelsFixedRange(){const je=new PlotModel({title:"Auto-adjusting plot margins - wide axis labels, fixed range",subtitle:"When the axis range is fixed there should be no unnecessary space reserved for axis labels"}),$e=getLongLabelSeries();return $e.isPanEnabled=!1,$e.isZoomEnabled=!1,je.axes.push($e),je}function autoMarginWideLabelsFixedRange2(){const je=new PlotModel({title:"Auto-adjusting plot margins - wide axis labels, fixed range",subtitle:"The axis labels should exactly fit in the viewport"}),$e=getLongLabelSeries();return $e.isPanEnabled=!1,$e.isZoomEnabled=!1,$e.minimum=-.01,$e.maximum=3.01,je.axes.push($e),je}function getLongLabelSeries(){const je=new CategoryAxis({position:AxisPosition.Bottom});return je.labels.push("Label"),je.labels.push("Long Label"),je.labels.push("Longer Label"),je.labels.push("Even Longer Label"),je}function minimumAndMaximumDataMargins(){const je=new PlotModel({title:"Normal distribution",subtitle:"Probability density function"});return je.axes.push(new LinearAxis({position:AxisPosition.Left,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,minimum:0,tickStyle:TickStyle.Inside})),je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,tickStyle:TickStyle.Inside})),je.series.push(createNormalDistributionSeries(-5,5,0,.2)),je.series.push(createNormalDistributionSeries(-5,5,0,1)),je.series.push(createNormalDistributionSeries(-5,5,0,5)),je.series.push(createNormalDistributionSeries(-5,5,-2,.5)),je}function minimumAndMaximumDataMarginsZeroCrossing(){const je=new PlotModel({title:"Normal distribution",subtitle:"Probability density function"});return je.axes.push(new LinearAxis({position:AxisPosition.Left,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,minimum:0,tickStyle:TickStyle.Crossing,axislineStyle:LineStyle.Solid,positionAtZeroCrossing:!0})),je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,tickStyle:TickStyle.Crossing,axislineStyle:LineStyle.Solid,positionAtZeroCrossing:!0})),je.series.push(createNormalDistributionSeries(-5,5,0,.2)),je.series.push(createNormalDistributionSeries(-5,5,0,1)),je.series.push(createNormalDistributionSeries(-5,5,0,5)),je.series.push(createNormalDistributionSeries(-5,5,-2,.5)),je}function minimumAndMaximumDataMarginsLog(){const je=new PlotModel({title:"Exponentials"});je.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,tickStyle:TickStyle.Inside})),je.axes.push(new LogarithmicAxis({position:AxisPosition.Left,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,tickStyle:TickStyle.Inside}));for(let $e=1;$e<=5;$e++)je.series.push(new FunctionSeries({f:Ve=>Math.pow($e,Ve),x0:0,x1:10,dx:.01,title:`${$e}^x`}));return je}function minimumAndMaximumMarginsPolar(){const je=new PlotModel({title:"Spiral",plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness(0)});return je.axes.push(new AngleAxis({majorStep:Math.PI/4,minorStep:Math.PI/16,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"π",minimum:0,maximum:2*Math.PI})),je.axes.push(new MagnitudeAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,minimumPadding:0,maximumPadding:0,minimumDataMargin:0,maximumDataMargin:20})),je.series.push(new FunctionSeries({fx:$e=>$e,fy:$e=>$e,t0:0,t1:Math.PI*6,dt:.01})),je}function axisOutMargins(){const je=new PlotModel({title:"YAxes are evenly distributed with a constant gap",plotAreaBorderThickness:new OxyThickness(0)});je.axes.push(new LinearAxis({position:AxisPosition.Bottom,axislineStyle:LineStyle.Solid,key:"X"}));const $e=4,Ve=10;for(let ze=0;ze<$e;ze++)je.axes.push(new LinearAxis({position:AxisPosition.Left,startPosition:ze/$e,endPosition:(ze+1)/$e,minimumMargin:ze/$e*Ve,maximumMargin:($e-ze-1)/$e*Ve,axislineStyle:LineStyle.Solid,key:`Y${ze}`})),je.series.push(new FunctionSeries({f:qe=>Math.sin(qe*(ze+1)),x0:1,x1:10,dx:.01,title:`x^${ze}`,xAxisKey:"X",yAxisKey:`Y${ze}`}));return je}function axisMarginsClipping(){const je=new PlotModel({title:"Axis Margins Clipping",subtitle:"Data Points and Visual Elements are clipped outside the Clip Bounds"});je.axes.push(new LinearAxis({position:AxisPosition.Left,minimumPadding:0,maximumPadding:0,minimumMargin:20,maximumMargin:20})),je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0,maximumPadding:0,minimumMargin:20,maximumMargin:20}));const $e=new Random(1),Ve=new ScatterSeries({markerType:MarkerType.Diamond});for(let ze=0;ze<100;ze++)Ve.points.push({x:$e.next(),y:$e.next()});return je.series.push(Ve),je}function polarOuterMargins(){const je=new PlotModel({title:"Spiral",plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness(0)});return je.axes.push(new AngleAxis({majorStep:Math.PI/4,minorStep:Math.PI/16,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"π",minimum:0,maximum:2*Math.PI})),je.axes.push(new MagnitudeAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,minimumPadding:0,maximumPadding:0,minimumMargin:0,maximumMargin:100})),je.series.push(new FunctionSeries({fx:$e=>$e,fy:$e=>$e,t0:0,t1:Math.PI*6,dt:.01})),je}function marginsAndPadding(){const je=new PlotModel({title:"Try resizing the plot",subtitle:`ClipMinimum/Maximum are Blue
ActualMinimum/Maximum are Red
DataMinimum/Maximum are Green`}),$e=new LinearAxis({position:AxisPosition.Bottom,minimumPadding:.1,maximumPadding:.1,minimumDataMargin:20,maximumDataMargin:20,minimumMargin:30,maximumMargin:30,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dash,cropGridlines:!0});je.axes.push($e);const Ve=new LinearAxis({position:AxisPosition.Left,minimumPadding:.1,maximumPadding:.1,minimumDataMargin:20,maximumDataMargin:20,minimumMargin:30,maximumMargin:30,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dash,cropGridlines:!0});je.axes.push(Ve);const ze=new LineSeries;return ze.color=OxyColors.Green,ze.points.push(newDataPoint(-5,0)),ze.points.push(newDataPoint(-5,20)),ze.points.push(newDataPoint(25,20)),ze.points.push(newDataPoint(25,0)),ze.points.push(newDataPoint(-5,0)),je.series.push(ze),_addAxisMarginAnnotations(je),je}function _addAxisMarginAnnotations(je){je.annotations.push(new DelegateAnnotation(async $e=>{const Ve=RenderingExtensions.drawLine;for(const ze of je.axes)if(ze.isHorizontal()){const qe=ze;await Ve($e,qe.transform(qe.clipMinimum),0,qe.transform(qe.clipMinimum),je.height,new OxyPen(OxyColors.Blue,1,LineStyle.Dot),EdgeRenderingMode.Automatic),await Ve($e,qe.transform(qe.clipMaximum),0,qe.transform(qe.clipMaximum),je.height,new OxyPen(OxyColors.Blue,1,LineStyle.Dot),EdgeRenderingMode.Automatic),await Ve($e,qe.transform(qe.actualMinimum),0,qe.transform(qe.actualMinimum),je.height,new OxyPen(OxyColors.Red,1,LineStyle.Dot),EdgeRenderingMode.Automatic),await Ve($e,qe.transform(qe.actualMaximum),0,qe.transform(qe.actualMaximum),je.height,new OxyPen(OxyColors.Red,1,LineStyle.Dot),EdgeRenderingMode.Automatic),await Ve($e,qe.transform(qe.dataMinimum),0,qe.transform(qe.dataMinimum),je.height,new OxyPen(OxyColors.Green,1,LineStyle.Dot),EdgeRenderingMode.Automatic),await Ve($e,qe.transform(qe.dataMaximum),0,qe.transform(qe.dataMaximum),je.height,new OxyPen(OxyColors.Green,1,LineStyle.Dot),EdgeRenderingMode.Automatic)}else{const qe=ze;await Ve($e,0,qe.transform(qe.clipMinimum),je.width,qe.transform(qe.clipMinimum),new OxyPen(OxyColors.Blue,1,LineStyle.Dot),EdgeRenderingMode.Automatic),await Ve($e,0,qe.transform(qe.clipMaximum),je.width,qe.transform(qe.clipMaximum),new OxyPen(OxyColors.Blue,1,LineStyle.Dot),EdgeRenderingMode.Automatic),await Ve($e,0,qe.transform(qe.actualMinimum),je.width,qe.transform(qe.actualMinimum),new OxyPen(OxyColors.Red,1,LineStyle.Dot),EdgeRenderingMode.Automatic),await Ve($e,0,qe.transform(qe.actualMaximum),je.width,qe.transform(qe.actualMaximum),new OxyPen(OxyColors.Red,1,LineStyle.Dot),EdgeRenderingMode.Automatic),await Ve($e,0,qe.transform(qe.dataMinimum),je.width,qe.transform(qe.dataMinimum),new OxyPen(OxyColors.Green,1,LineStyle.Dot),EdgeRenderingMode.Automatic),await Ve($e,0,qe.transform(qe.dataMaximum),je.width,qe.transform(qe.dataMaximum),new OxyPen(OxyColors.Green,1,LineStyle.Dot),EdgeRenderingMode.Automatic)}}))}function marginsAndPaddingAsymmetrical(){const je=new PlotModel({title:"Try resizing the plot",subtitle:`ClipMinimum/Maximum are Blue
ActualMinimum/Maximum are Red
DataMinimum/Maximum are Green`}),$e=new LinearAxis({position:AxisPosition.Bottom,minimumPadding:.1,maximumPadding:.05,minimumDataMargin:20,maximumDataMargin:10,minimumMargin:30,maximumMargin:15,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dash,cropGridlines:!0});je.axes.push($e);const Ve=new LinearAxis({position:AxisPosition.Left,minimumPadding:.2,maximumPadding:.1,minimumDataMargin:40,maximumDataMargin:20,minimumMargin:60,maximumMargin:30,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dash,cropGridlines:!0});je.axes.push(Ve);const ze=new LineSeries;return ze.color=OxyColors.Green,ze.points.push(newDataPoint(-5,0)),ze.points.push(newDataPoint(-5,20)),ze.points.push(newDataPoint(25,20)),ze.points.push(newDataPoint(25,0)),ze.points.push(newDataPoint(-5,0)),je.series.push(ze),_addAxisMarginAnnotations(je),je}function minimumMajorIntervalCount(){const je=new PlotModel({title:"MinimumMajorIntervalCount = 10"}),$e=new LinearAxis({position:AxisPosition.Bottom,minimumMajorIntervalCount:10});je.axes.push($e);const Ve=new LinearAxis({position:AxisPosition.Left,minimumMajorIntervalCount:10});return je.axes.push(Ve),je}function maximumMajorIntervalCount(){const je=new PlotModel({title:"MaximumMajorIntervalCount = 5"}),$e=new LinearAxis({position:AxisPosition.Bottom,maximumMajorIntervalCount:5});je.axes.push($e);const Ve=new LinearAxis({position:AxisPosition.Left,maximumMajorIntervalCount:5});return je.axes.push(Ve),je}function minimumAndMaximumMajorIntervalCount(){const je=new PlotModel({title:"MinimumMajorIntervalCount = MaximumMajorIntervalCount = 4"}),$e=new LinearAxis({position:AxisPosition.Bottom,minimumMajorIntervalCount:4,maximumMajorIntervalCount:4});je.axes.push($e);const Ve=new LinearAxis({position:AxisPosition.Left,minimumMajorIntervalCount:4,maximumMajorIntervalCount:4});return je.axes.push(Ve),je}function createTickStyleExample(je){const $e=getEnumName(TickStyle,je),Ve=new PlotModel({title:"TickStyle = "+$e});return Ve.axes.push(new LinearAxis({position:AxisPosition.Left,tickStyle:je})),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,tickStyle:je})),Ve}const category$O="Axis examples",AxisExamples={category:category$O,tags:["Axes"],examples:[{title:"TickStyle: None",example:{model:tickStyleNone$1}},{title:"TickStyle: Inside",example:{model:tickStyleInside$1}},{title:"TickStyle: Crossing",example:{model:tickStyleCrossing$1}},{title:"TickStyle: Outside",example:{model:tickStyleOutside$1}},{title:"TickStyle: Color major and minor ticks differently",example:{model:tickLineColor}},{title:"GridLinestyle: None (default)",example:{model:gridlineStyleNone}},{title:"GridLinestyle: Vertical",example:{model:gridLinestyleVertical}},{title:"GridLinestyle: Horizontal",example:{model:gridLinestyleHorizontal}},{title:"GridLinestyle: Horizontal and vertical",example:{model:gridLinestyleBoth}},{title:"Axis position left/bottom",example:{model:axisPositionLeftAndBottom}},{title:"Axis position top/right",example:{model:axisPositionTopRight}},{title:"Axis label angle 45deg",example:{model:axisAngle45}},{title:"Zero crossing axis",example:{model:zeroCrossing}},{title:"Horizontal zero crossing axis",example:{model:horizontalZeroCrossing}},{title:"Vertical zero crossing axis",example:{model:verticalZeroCrossing}},{title:"Reversed",example:{model:reversed}},{title:"Sharing Y axis",example:{model:sharingY}},{title:"Four axes",example:{model:fourAxes}},{title:"Five axes",example:{model:fiveAxes}},{title:"Logarithmic axes",example:{model:logarithmicAxes}},{title:"Logarithmic axes Cartesian Plot",example:{model:cartesianPlotLogarithmicAxes}},{title:"Big numbers",example:{model:bigNumbers}},{title:"Big numbers with super exponential format",example:{model:bigNumbersSuperExponentialFormat}},{title:"Small numbers",example:{model:smallNumbers}},{title:"Default padding",example:{model:defaultPadding}},{title:"No padding",example:{model:noPadding}},{title:"Padding 10%",example:{model:padding}},{title:"X-axis MinimumPadding=0.1",example:{model:xaxisMinimumPadding}},{title:"X-axis MaximumPadding=0.1",example:{model:xaxisMaximumPadding}},{title:"AbsoluteMinimum and AbsoluteMaximum",example:{model:absoluteMinimumAndMaximum}},{title:"MinimumRange",example:{model:minimumRange}},{title:"MaximumRange",example:{model:maximumRange}},{title:"Title with unit",example:{model:titleWithUnit}},{title:"Invisible vertical axis",example:{model:invisibleVerticalAxis}},{title:"Invisible horizontal axis",example:{model:invisibleHorizontalAxis}},{title:"Zooming disabled",example:{model:zoomingDisabled}},{title:"Panning disabled",example:{model:panningDisabled}},{title:"Dense intervals",example:{model:denseIntervals}},{title:"Graph Paper",example:{model:graphPaper}},{title:"Log-Log Paper",example:{model:logLogPaper}},{title:"Black background",example:{model:onBlack}},{title:"Background and PlotAreaBackground",example:{model:backgrounds}},{title:"Current culture",example:{model:currentCulture}},{title:"Long axis titles (clipped at 90%)",example:{model:longAxisTitlesClipped90}},{title:"Long axis titles (clipped at 100%)",example:{model:longAxisTitlesClipped100}},{title:"Long axis titles (not clipped)",example:{model:longAxisTitlesNotClipped}},{title:"PositionTier",example:{model:positionTier}},{title:"Custom axis title color",example:{model:titleColor}},{title:"Custom axis label color",example:{model:labelColor}},{title:"Angled axis numbers",example:{model:angledAxisNumbers}},{title:"Axis distance",example:{model:axisDistance}},{title:"No axes defined",example:{model:noAxesDefined}},{title:"LabelFormatter",example:{model:labelFormatter$1}},{title:"Tool tips",example:{model:toolTips}},{title:"Sub- and superscript in axis titles",example:{model:subSuperscriptInAxisTitles}},{title:"MinimumMajorStep",example:{model:minimumMajorStep}},{title:"MinimumMinorStep",example:{model:minimumMinorStep}},{title:"Default AxisTitleDistance",example:{model:defaultAxisTitleDistance}},{title:"Custom AxisTitleDistance",example:{model:customAxisTitleDistance}},{title:"MajorGridlineStyle",example:{model:majorGridlineStyle}},{title:"Gridlines Cropping: Horizontal and vertical",example:{model:gridlineCroppingBoth}},{title:"Multi vertical axes with lineSeries",example:{model:multiVerticalAxes}},{title:"Auto Margins",example:{model:autoMargin}},{title:"Manual Margins",example:{model:manualMargins}},{title:"Manual Left Margin",example:{model:manualLeftMargin}},{title:"Auto Margins - Wide Labels",example:{model:autoMarginWideLabels}},{title:"Auto Margins - Wide Labels, rotated",example:{model:autoMarginWideLabelsRotated}},{title:"Auto Margins - Wide Labels, fixed Range",example:{model:autoMarginWideLabelsFixedRange}},{title:"Auto Margins - Wide Labels, fixed Range 2",example:{model:autoMarginWideLabelsFixedRange2}},{title:"Data Margins",example:{model:minimumAndMaximumDataMargins}},{title:"Data Margins with Zero-Crossing",example:{model:minimumAndMaximumDataMarginsZeroCrossing}},{title:"Data Margins on Log Axis",example:{model:minimumAndMaximumDataMarginsLog}},{title:"Data Margins on Polar Plot",example:{model:minimumAndMaximumMarginsPolar}},{title:"Axis Margins",example:{model:axisOutMargins}},{title:"Axis Margins Clipping",example:{model:axisMarginsClipping}},{title:"Axis Margins on Polar Plot",example:{model:polarOuterMargins}},{title:"Axis Margins, Data Margins, and Padding",example:{model:marginsAndPadding}},{title:"Axis Margins, Data Margins, and Padding, Asymmetrical",example:{model:marginsAndPaddingAsymmetrical}},{title:"Minimum Major Interval Count",example:{model:minimumMajorIntervalCount}},{title:"Maximum Major Interval Count",example:{model:maximumMajorIntervalCount}},{title:"Minimum and Maximum Major Interval Count",example:{model:minimumAndMaximumMajorIntervalCount}}]};function functionSeries$1(){const je=new PlotModel({title:"Trigonometric functions",plotType:PlotType.Cartesian});return je.series.push(FunctionSeries.fromDx(Math.sin,-10,10,.1,"sin(x)")),je.series.push(FunctionSeries.fromDx(Math.cos,-10,10,.1,"cos(x)")),je.series.push(FunctionSeries.fromFxFyN($e=>5*Math.cos($e),$e=>5*Math.sin($e),0,2*Math.PI,1e3,"cos(t),sin(t)")),je}function clover$1(){const je=new PlotModel({title:"Parametric function",plotType:PlotType.Cartesian});return je.series.push(FunctionSeries.fromFxFyN($e=>2*Math.cos(2*$e)*Math.cos($e),$e=>2*Math.cos(2*$e)*Math.sin($e),0,Math.PI*2,1e3,"2cos(2t)cos(t) , 2cos(2t)sin(t)")),je}function absoluteYmin(){const je=new PlotModel({title:"Y: AbsoluteMinimum = 0",plotType:PlotType.Cartesian}),$e=OxyColors.DarkBlue;return je.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"X-axis",majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,$e),minorGridlineColor:OxyColor.fromAColor(20,$e)})),je.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,$e),minorGridlineColor:OxyColor.fromAColor(20,$e)})),je.series.push(createTestSeries()),je}function absoluteYmin2(){const je=new PlotModel({title:"Y: AbsoluteMinimum = 0",subtitle:"AutoAdjustPlotMargins = false",plotType:PlotType.Cartesian,plotMargins:new OxyThickness(60,4,4,40)}),$e=OxyColors.DarkBlue;return je.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"X-axis",majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,$e),minorGridlineColor:OxyColor.fromAColor(20,$e)})),je.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,$e),minorGridlineColor:OxyColor.fromAColor(20,$e)})),je.series.push(createTestSeries()),je}function absoluteYminXmin(){const je=new PlotModel({title:"X: AbsoluteMinimum = -10, Y: AbsoluteMinimum = 0",plotType:PlotType.Cartesian}),$e=OxyColors.DarkBlue;return je.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"X-axis",absoluteMinimum:-10,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,$e),minorGridlineColor:OxyColor.fromAColor(20,$e)})),je.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,$e),minorGridlineColor:OxyColor.fromAColor(20,$e)})),je.series.push(createTestSeries()),je}function absoluteYminYmax(){const je=new PlotModel({title:"Y: AbsoluteMinimum = 0, AbsoluteMaximum = 2",plotType:PlotType.Cartesian}),$e=OxyColors.DarkBlue;return je.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"X-axis",majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,$e),minorGridlineColor:OxyColor.fromAColor(20,$e)})),je.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,absoluteMaximum:2,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,$e),minorGridlineColor:OxyColor.fromAColor(20,$e)})),je.series.push(createTestSeries()),je}function absoluteYminXminXmax(){const je=new PlotModel({title:"Y: AbsoluteMinimum = 0, X: AbsoluteMinimum = -10, AbsoluteMaximum = 10",plotType:PlotType.Cartesian}),$e=OxyColors.DarkBlue;return je.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"X-axis",absoluteMinimum:-10,absoluteMaximum:10,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,$e),minorGridlineColor:OxyColor.fromAColor(20,$e)})),je.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,$e),minorGridlineColor:OxyColor.fromAColor(20,$e)})),je.series.push(createTestSeries()),je}function absoluteYminYmaxXminXmax(){const je=new PlotModel({title:"Y: AbsoluteMinimum = 0, AbsoluteMaximum = 2, X: AbsoluteMinimum = -10, AbsoluteMaximum = 10",plotType:PlotType.Cartesian}),$e=OxyColors.DarkBlue;return je.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"X-axis",absoluteMinimum:-10,absoluteMaximum:10,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,$e),minorGridlineColor:OxyColor.fromAColor(20,$e)})),je.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,absoluteMaximum:2,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,$e),minorGridlineColor:OxyColor.fromAColor(20,$e)})),je.series.push(createTestSeries()),je}function createTestSeries(){const je=new LineSeries;return je.points.push(newDataPoint(-8,0),newDataPoint(-7.5,.1),newDataPoint(-7,.2),newDataPoint(-6,.4),newDataPoint(-5,.5),newDataPoint(-4,.6),newDataPoint(-3,.7),newDataPoint(-2,.8),newDataPoint(-1,.9),newDataPoint(0,1),newDataPoint(1,.9),newDataPoint(2,.8),newDataPoint(3,.7),newDataPoint(4,.6),newDataPoint(5,.5),newDataPoint(6,.4),newDataPoint(7,.2),newDataPoint(7.5,.1),newDataPoint(8,0),DataPoint_Undefined,newDataPoint(-.5,.5),newDataPoint(-.5,1.5),newDataPoint(.5,1.5),newDataPoint(.5,.5),newDataPoint(-.5,.5)),je}const category$N="Cartesian axes",CartesianAxesExamples={category:category$N,tags:["Axes"],examples:[{title:"Trigonometric functions",example:{model:functionSeries$1}},{title:"Clover",example:{model:clover$1}},{title:"AbsoluteMinimum Y",example:{model:absoluteYmin}},{title:"AbsoluteMinimum Y, manual plotmargins",example:{model:absoluteYmin2}},{title:"AbsoluteMinimum X/Y",example:{model:absoluteYminXmin}},{title:"AbsoluteMinimum/Maximum Y",example:{model:absoluteYminYmax}},{title:"AbsoluteMinimum Y, AbsoluteMinimum/Maximum X",example:{model:absoluteYminXminXmax}},{title:"AbsoluteMinimum/Maximum X/Y",example:{model:absoluteYminYmaxXminXmax}}]};function standardCategoryAxis(){const je=new PlotModel({title:"Standard"}),$e=new CategoryAxis;$e.labels.push("1","2","3","4","5","6","7","8","9","10","11","12"),je.axes.push($e);const Ve=new LinearAxis({position:AxisPosition.Left});return je.axes.push(Ve),je}function itemsSourceStrings(){const je=new PlotModel({title:"CategoryAxis with string[] as ItemsSource"});je.axes.push(new CategoryAxis({stringFormatter:Ve=>`Item ${Ve}`,itemsSource:["A","B","C"]}));const $e=new LinearAxis({position:AxisPosition.Left});return je.axes.push($e),je}function itemsSourceValues(){const je=new PlotModel({title:"CategoryAxis with int[] as ItemsSource"});je.axes.push(new CategoryAxis({stringFormatter:Ve=>`Item ${Ve}`,itemsSource:[10,100,123]}));const $e=new LinearAxis({position:AxisPosition.Left});return je.axes.push($e),je}function majorStepCategoryAxis(){const je=new PlotModel({title:"Major Step = 4, IsTickCentered = false"}),$e=new CategoryAxis({isTickCentered:!1,majorStep:4});$e.labels.push("1","2","3","4","5","6","7","8","9","10","11","12"),je.axes.push($e);const Ve=new LinearAxis({position:AxisPosition.Left});return je.axes.push(Ve),je}function majorStepCategoryTickCenteredAxis(){const je=new PlotModel({title:"Major Step = 4, IsTickCentered = true"}),$e=new CategoryAxis({isTickCentered:!0,majorStep:4});$e.labels.push("1","2","3","4","5","6","7","8","9","10","11","12"),je.axes.push($e);const Ve=new LinearAxis({position:AxisPosition.Left});return je.axes.push(Ve),je}const category$M="CategoryAxis",CategoryAxisExamples={category:category$M,tags:["Axes"],examples:[{title:"Standard",example:{model:standardCategoryAxis}},{title:"ItemsSource - string[]",example:{model:itemsSourceStrings}},{title:"ItemsSource - int[]",example:{model:itemsSourceValues}},{title:"MajorStep",example:{model:majorStepCategoryAxis}},{title:"MajorStep, TickCentered",example:{model:majorStepCategoryTickCenteredAxis}}]};function standardCategoryColorAxis(){const je=new PlotModel({title:"CategoryColorAxis"}),$e=new CategoryColorAxis({key:"ccc",palette:OxyPalettes.blackWhiteRed(12)});$e.labels.push("1","2","3","4","5","6","7","8","9","10","11","12"),je.axes.push($e);const Ve=new LinearAxis({position:AxisPosition.Left}),ze=new ScatterSeries({colorAxisKey:$e.key});return ze.points.push({x:0,y:0,size:NaN,value:0}),ze.points.push({x:3,y:0,size:NaN,value:3}),je.series.push(ze),je.axes.push(Ve),je}function majorStep4(){const je=new PlotModel({title:"Major Step = 4, IsTickCentered = true"}),$e=new CategoryColorAxis({palette:OxyPalettes.blackWhiteRed(3),isTickCentered:!0,majorStep:4});$e.labels.push("1","2","3","4","5","6","7","8","9","10","11","12"),je.axes.push($e);const Ve=new LinearAxis({position:AxisPosition.Left});return je.axes.push(Ve),je}const category$L="CategoryColorAxis",CategoryColorAxisExamples={category:category$L,tags:["Axes"],examples:[{title:"CategoryColorAxis",example:{model:standardCategoryColorAxis}},{title:"Centered ticks, MajorStep = 4",example:{model:majorStep4}}]};function customArrowAxis(){const je=new PlotModel({plotAreaBorderThickness:new OxyThickness(0),plotMargins:new OxyThickness(60,60,60,60)});return je.axes.push(new ArrowAxis({position:AxisPosition.Bottom,axislineStyle:LineStyle.Solid})),je.axes.push(new ArrowAxis({position:AxisPosition.Left,axislineStyle:LineStyle.Solid})),je}class ArrowAxis extends LinearAxis{async render($e,Ve){await super.render($e,Ve);const ze=[];if(this.isHorizontal()){const qe=this.transform(this.actualMaximum);ze.push(newScreenPoint(qe+4,this.plotModel.plotArea.bottom-4)),ze.push(newScreenPoint(qe+18,this.plotModel.plotArea.bottom)),ze.push(newScreenPoint(qe+4,this.plotModel.plotArea.bottom+4))}else{const qe=this.transform(this.actualMaximum);ze.push(newScreenPoint(this.plotModel.plotArea.left-4,qe-4)),ze.push(newScreenPoint(this.plotModel.plotArea.left,qe-18)),ze.push(newScreenPoint(this.plotModel.plotArea.left+4,qe-4))}await $e.drawPolygon(ze,OxyColors.Black,OxyColors.Undefined,0,this.edgeRenderingMode)}}const category$K="Custom axes",CustomAxisExamples={category:category$K,tags:["Axes"],examples:[{title:"ArrowAxis",example:{model:customArrowAxis}}]};var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(je){return je&&je.__esModule&&Object.prototype.hasOwnProperty.call(je,"default")?je.default:je}var dayjs_min={exports:{}};(function(je,$e){(function(Ve,ze){je.exports=ze()})(commonjsGlobal,function(){var Ve=1e3,ze=6e4,qe=36e5,Xe="millisecond",We="second",Ke="minute",Je="hour",Ze="day",Qe="week",St="month",ei="quarter",ti="year",ni="date",oi="Invalid Date",ai=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,si=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,ri={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(vi){var Di=["th","st","nd","rd"],Ti=vi%100;return"["+vi+(Di[(Ti-20)%10]||Di[Ti]||Di[0])+"]"}},ii=function(vi,Di,Ti){var Fi=String(vi);return!Fi||Fi.length>=Di?vi:""+Array(Di+1-Fi.length).join(Ti)+vi},ui={s:ii,z:function(vi){var Di=-vi.utcOffset(),Ti=Math.abs(Di),Fi=Math.floor(Ti/60),Ci=Ti%60;return(Di<=0?"+":"-")+ii(Fi,2,"0")+":"+ii(Ci,2,"0")},m:function vi(Di,Ti){if(Di.date()<Ti.date())return-vi(Ti,Di);var Fi=12*(Ti.year()-Di.year())+(Ti.month()-Di.month()),Ci=Di.clone().add(Fi,St),Ni=Ti-Ci<0,Ri=Di.clone().add(Fi+(Ni?-1:1),St);return+(-(Fi+(Ti-Ci)/(Ni?Ci-Ri:Ri-Ci))||0)},a:function(vi){return vi<0?Math.ceil(vi)||0:Math.floor(vi)},p:function(vi){return{M:St,y:ti,w:Qe,d:Ze,D:ni,h:Je,m:Ke,s:We,ms:Xe,Q:ei}[vi]||String(vi||"").toLowerCase().replace(/s$/,"")},u:function(vi){return vi===void 0}},ci="en",hi={};hi[ci]=ri;var mi="$isDayjsObject",di=function(vi){return vi instanceof xi||!(!vi||!vi[mi])},fi=function vi(Di,Ti,Fi){var Ci;if(!Di)return ci;if(typeof Di=="string"){var Ni=Di.toLowerCase();hi[Ni]&&(Ci=Ni),Ti&&(hi[Ni]=Ti,Ci=Ni);var Ri=Di.split("-");if(!Ci&&Ri.length>1)return vi(Ri[0])}else{var Yi=Di.name;hi[Yi]=Di,Ci=Yi}return!Fi&&Ci&&(ci=Ci),Ci||!Fi&&ci},yi=function(vi,Di){if(di(vi))return vi.clone();var Ti=typeof Di=="object"?Di:{};return Ti.date=vi,Ti.args=arguments,new xi(Ti)},pi=ui;pi.l=fi,pi.i=di,pi.w=function(vi,Di){return yi(vi,{locale:Di.$L,utc:Di.$u,x:Di.$x,$offset:Di.$offset})};var xi=function(){function vi(Ti){this.$L=fi(Ti.locale,null,!0),this.parse(Ti),this.$x=this.$x||Ti.x||{},this[mi]=!0}var Di=vi.prototype;return Di.parse=function(Ti){this.$d=function(Fi){var Ci=Fi.date,Ni=Fi.utc;if(Ci===null)return new Date(NaN);if(pi.u(Ci))return new Date;if(Ci instanceof Date)return new Date(Ci);if(typeof Ci=="string"&&!/Z$/i.test(Ci)){var Ri=Ci.match(ai);if(Ri){var Yi=Ri[2]-1||0,ki=(Ri[7]||"0").substring(0,3);return Ni?new Date(Date.UTC(Ri[1],Yi,Ri[3]||1,Ri[4]||0,Ri[5]||0,Ri[6]||0,ki)):new Date(Ri[1],Yi,Ri[3]||1,Ri[4]||0,Ri[5]||0,Ri[6]||0,ki)}}return new Date(Ci)}(Ti),this.init()},Di.init=function(){var Ti=this.$d;this.$y=Ti.getFullYear(),this.$M=Ti.getMonth(),this.$D=Ti.getDate(),this.$W=Ti.getDay(),this.$H=Ti.getHours(),this.$m=Ti.getMinutes(),this.$s=Ti.getSeconds(),this.$ms=Ti.getMilliseconds()},Di.$utils=function(){return pi},Di.isValid=function(){return this.$d.toString()!==oi},Di.isSame=function(Ti,Fi){var Ci=yi(Ti);return this.startOf(Fi)<=Ci&&Ci<=this.endOf(Fi)},Di.isAfter=function(Ti,Fi){return yi(Ti)<this.startOf(Fi)},Di.isBefore=function(Ti,Fi){return this.endOf(Fi)<yi(Ti)},Di.$g=function(Ti,Fi,Ci){return pi.u(Ti)?this[Fi]:this.set(Ci,Ti)},Di.unix=function(){return Math.floor(this.valueOf()/1e3)},Di.valueOf=function(){return this.$d.getTime()},Di.startOf=function(Ti,Fi){var Ci=this,Ni=!!pi.u(Fi)||Fi,Ri=pi.p(Ti),Yi=function(Ji,Li){var wi=pi.w(Ci.$u?Date.UTC(Ci.$y,Li,Ji):new Date(Ci.$y,Li,Ji),Ci);return Ni?wi:wi.endOf(Ze)},ki=function(Ji,Li){return pi.w(Ci.toDate()[Ji].apply(Ci.toDate("s"),(Ni?[0,0,0,0]:[23,59,59,999]).slice(Li)),Ci)},ji=this.$W,Vi=this.$M,Bi=this.$D,Xi="set"+(this.$u?"UTC":"");switch(Ri){case ti:return Ni?Yi(1,0):Yi(31,11);case St:return Ni?Yi(1,Vi):Yi(0,Vi+1);case Qe:var en=this.$locale().weekStart||0,tn=(ji<en?ji+7:ji)-en;return Yi(Ni?Bi-tn:Bi+(6-tn),Vi);case Ze:case ni:return ki(Xi+"Hours",0);case Je:return ki(Xi+"Minutes",1);case Ke:return ki(Xi+"Seconds",2);case We:return ki(Xi+"Milliseconds",3);default:return this.clone()}},Di.endOf=function(Ti){return this.startOf(Ti,!1)},Di.$set=function(Ti,Fi){var Ci,Ni=pi.p(Ti),Ri="set"+(this.$u?"UTC":""),Yi=(Ci={},Ci[Ze]=Ri+"Date",Ci[ni]=Ri+"Date",Ci[St]=Ri+"Month",Ci[ti]=Ri+"FullYear",Ci[Je]=Ri+"Hours",Ci[Ke]=Ri+"Minutes",Ci[We]=Ri+"Seconds",Ci[Xe]=Ri+"Milliseconds",Ci)[Ni],ki=Ni===Ze?this.$D+(Fi-this.$W):Fi;if(Ni===St||Ni===ti){var ji=this.clone().set(ni,1);ji.$d[Yi](ki),ji.init(),this.$d=ji.set(ni,Math.min(this.$D,ji.daysInMonth())).$d}else Yi&&this.$d[Yi](ki);return this.init(),this},Di.set=function(Ti,Fi){return this.clone().$set(Ti,Fi)},Di.get=function(Ti){return this[pi.p(Ti)]()},Di.add=function(Ti,Fi){var Ci,Ni=this;Ti=Number(Ti);var Ri=pi.p(Fi),Yi=function(Vi){var Bi=yi(Ni);return pi.w(Bi.date(Bi.date()+Math.round(Vi*Ti)),Ni)};if(Ri===St)return this.set(St,this.$M+Ti);if(Ri===ti)return this.set(ti,this.$y+Ti);if(Ri===Ze)return Yi(1);if(Ri===Qe)return Yi(7);var ki=(Ci={},Ci[Ke]=ze,Ci[Je]=qe,Ci[We]=Ve,Ci)[Ri]||1,ji=this.$d.getTime()+Ti*ki;return pi.w(ji,this)},Di.subtract=function(Ti,Fi){return this.add(-1*Ti,Fi)},Di.format=function(Ti){var Fi=this,Ci=this.$locale();if(!this.isValid())return Ci.invalidDate||oi;var Ni=Ti||"YYYY-MM-DDTHH:mm:ssZ",Ri=pi.z(this),Yi=this.$H,ki=this.$m,ji=this.$M,Vi=Ci.weekdays,Bi=Ci.months,Xi=Ci.meridiem,en=function(Li,wi,_i,Ai){return Li&&(Li[wi]||Li(Fi,Ni))||_i[wi].slice(0,Ai)},tn=function(Li){return pi.s(Yi%12||12,Li,"0")},Ji=Xi||function(Li,wi,_i){var Ai=Li<12?"AM":"PM";return _i?Ai.toLowerCase():Ai};return Ni.replace(si,function(Li,wi){return wi||function(_i){switch(_i){case"YY":return String(Fi.$y).slice(-2);case"YYYY":return pi.s(Fi.$y,4,"0");case"M":return ji+1;case"MM":return pi.s(ji+1,2,"0");case"MMM":return en(Ci.monthsShort,ji,Bi,3);case"MMMM":return en(Bi,ji);case"D":return Fi.$D;case"DD":return pi.s(Fi.$D,2,"0");case"d":return String(Fi.$W);case"dd":return en(Ci.weekdaysMin,Fi.$W,Vi,2);case"ddd":return en(Ci.weekdaysShort,Fi.$W,Vi,3);case"dddd":return Vi[Fi.$W];case"H":return String(Yi);case"HH":return pi.s(Yi,2,"0");case"h":return tn(1);case"hh":return tn(2);case"a":return Ji(Yi,ki,!0);case"A":return Ji(Yi,ki,!1);case"m":return String(ki);case"mm":return pi.s(ki,2,"0");case"s":return String(Fi.$s);case"ss":return pi.s(Fi.$s,2,"0");case"SSS":return pi.s(Fi.$ms,3,"0");case"Z":return Ri}return null}(Li)||Ri.replace(":","")})},Di.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Di.diff=function(Ti,Fi,Ci){var Ni,Ri=this,Yi=pi.p(Fi),ki=yi(Ti),ji=(ki.utcOffset()-this.utcOffset())*ze,Vi=this-ki,Bi=function(){return pi.m(Ri,ki)};switch(Yi){case ti:Ni=Bi()/12;break;case St:Ni=Bi();break;case ei:Ni=Bi()/3;break;case Qe:Ni=(Vi-ji)/6048e5;break;case Ze:Ni=(Vi-ji)/864e5;break;case Je:Ni=Vi/qe;break;case Ke:Ni=Vi/ze;break;case We:Ni=Vi/Ve;break;default:Ni=Vi}return Ci?Ni:pi.a(Ni)},Di.daysInMonth=function(){return this.endOf(St).$D},Di.$locale=function(){return hi[this.$L]},Di.locale=function(Ti,Fi){if(!Ti)return this.$L;var Ci=this.clone(),Ni=fi(Ti,Fi,!0);return Ni&&(Ci.$L=Ni),Ci},Di.clone=function(){return pi.w(this.$d,this)},Di.toDate=function(){return new Date(this.valueOf())},Di.toJSON=function(){return this.isValid()?this.toISOString():null},Di.toISOString=function(){return this.$d.toISOString()},Di.toString=function(){return this.$d.toUTCString()},vi}(),Si=xi.prototype;return yi.prototype=Si,[["$ms",Xe],["$s",We],["$m",Ke],["$H",Je],["$W",Ze],["$M",St],["$y",ti],["$D",ni]].forEach(function(vi){Si[vi[1]]=function(Di){return this.$g(Di,vi[0],vi[1])}}),yi.extend=function(vi,Di){return vi.$i||(vi(Di,xi,yi),vi.$i=!0),yi},yi.locale=fi,yi.isDayjs=di,yi.unix=function(vi){return yi(1e3*vi)},yi.en=hi[ci],yi.Ls=hi,yi.p={},yi})})(dayjs_min);var dayjs_minExports=dayjs_min.exports;const dayjs=getDefaultExportFromCjs(dayjs_minExports);class Sun{static deg2Rad($e){return Math.PI*$e/180}static rad2Deg($e){return 180*$e/Math.PI}static fixValue($e,Ve,ze){for(;$e<Ve;)$e+=ze-Ve;for(;$e>=ze;)$e-=ze-Ve;return $e}static calculate($e,Ve,ze,qe,Xe,We=90.5){const Ke=dayjs($e).dayOfYear(),Je=ze/15;let Ze;qe?Ze=Ke+(6-Je)/24:Ze=Ke+(18-Je)/24;const Qe=.9856*Ze-3.289;let St=Qe+1.916*Math.sin(this.deg2Rad(Qe))+.02*Math.sin(this.deg2Rad(2*Qe))+282.634;St=this.fixValue(St,0,360);let ei=this.rad2Deg(Math.atan(.91764*Math.tan(this.deg2Rad(St))));ei=this.fixValue(ei,0,360);const ti=Math.floor(St/90)*90,ni=Math.floor(ei/90)*90;ei=ei+(ti-ni),ei=ei/15;const oi=.39782*Math.sin(this.deg2Rad(St)),ai=Math.cos(Math.asin(oi)),si=(Math.cos(this.deg2Rad(We))-oi*Math.sin(this.deg2Rad(Ve)))/(ai*Math.cos(this.deg2Rad(Ve)));let ri;qe?ri=360-this.rad2Deg(Math.acos(si)):ri=this.rad2Deg(Math.acos(si)),ri=ri/15;let ui=ri+ei-.06571*Ze-6.622-Je;$e=new Date(Date.UTC($e.getFullYear(),$e.getMonth(),$e.getDate(),0,0,0));const ci=new Date($e.getTime()+ui*60*60*1e3);return ui=(Xe(ci).getTime()-$e.getTime())/(60*60*1e3),ui=this.fixValue(ui,0,24),new Date($e.getTime()+ui*60*60*1e3)}}const defaultValues$1=()=>createExample$2(7,void 0),stringFormat$1=()=>{const je=getDateService();return createExample$2(7,$e=>je.format($e,`MMM DD
YYYY`))};function createExample$2(je,$e){const Ve=new PlotModel,ze=new Date(2e3,0,1),qe=DateTimeAxis.toDouble(ze),Xe=qe+je;return Ve.axes.push(new DateTimeAxis({position:AxisPosition.Bottom,minimum:qe,maximum:Xe,stringFormatter:$e})),Ve.axes.push(new DateTimeAxis({position:AxisPosition.Left,minimum:qe,maximum:Xe,stringFormatter:$e})),Ve}function daylightSavingsBreak(){const je=new PlotModel,$e=new DateTimeAxis;$e.position=AxisPosition.Bottom,je.axes.push($e),je.axes.push(new LinearAxis);const Ve=new LineSeries;Ve.markerType=MarkerType.Circle,je.series.push(Ve);const ze=new Date(Date.UTC(2013,2,31,0,0,0));for(let qe=0;qe<400;qe+=10){const Xe=new Date(ze.getTime()+qe*6e4);Ve.points.push(DateTimeAxis.createDataPoint(Xe,qe))}return je}function dateTimeAxisPlotModel(){const je=new Date(2010,0,1),$e=new Date(2015,0,1),Ve=3600*24*14,ze=getDateService(),qe=[];let Xe=je;const We=new Random;for(;Xe<=$e;)qe.push({date:Xe,value:We.next()}),Xe=ze.addTimespan(Xe,TimeSpan.fromSeconds(Ve));const Ke=new PlotModel({title:"DateTime axis"}),Je=new DateTimeAxis({firstDayOfWeek:DayOfWeek.Monday,position:AxisPosition.Bottom});Ke.axes.push(Je);const Ze=new LinearAxis;Ke.axes.push(Ze);const Qe=new LineSeries({color:OxyColor.fromArgb(255,78,154,6),markerFill:OxyColor.fromArgb(255,78,154,6),markerStroke:OxyColors.ForestGreen,markerType:MarkerType.Plus,strokeThickness:1,dataFieldX:"date",dataFieldY:"value",itemsSource:qe});return Ke.series.push(Qe),Ke}function sunriseAndSunsetInOslo(){const je=new Date().getFullYear(),Ve=createSunData(je,59.91,10.75,Je=>{const Ze=isDaylightSaving(Je)?2:1;return new Date(Je.getTime()+Ze*60*60*1e3)}),ze=new PlotModel({title:"Sunrise and sunset in Oslo",subtitle:"UTC time"}),qe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Xe=new DateTimeAxis({firstDayOfWeek:DayOfWeek.Monday,intervalType:DateTimeIntervalType.Months,majorGridlineStyle:LineStyle.Solid,position:AxisPosition.Bottom,stringFormatter:Je=>qe[Je.getMonth()]});ze.axes.push(Xe);const We=new TimeSpanAxis({majorGridlineStyle:LineStyle.Solid,maximum:86400,minimum:0,stringFormatter:Je=>formatTimeSpan(Je,"hh:mm")});ze.axes.push(We);const Ke=new AreaSeries({itemsSource:Ve,dataFieldX:"Day",dataFieldY:"Sunrise",dataFieldX2:"Day",dataFieldY2:"Sunset",fill:OxyColor.fromArgb(128,255,255,0),color:OxyColors.Black});return ze.series.push(Ke),ze}function labelFormatter(){const je=new PlotModel({title:"Using LabelFormatter to format labels by day of week"});je.axes.push(new DateTimeAxis({labelFormatter:Ve=>DateTimeAxis.toDateTime(Ve).getDay().toString().substring(0,3)}));const $e=new LineSeries;je.series.push($e);for(let Ve=0;Ve<7;Ve++){const ze=new Date(2014,9,10);ze.setDate(ze.getDate()+Ve);const qe=DateTimeAxis.toDouble(ze),Xe=Math.sin(Ve*Ve);$e.points.push(newDataPoint(qe,Xe))}return je}function createSunData(je,$e,Ve,ze){const qe=[];let Xe=new Date(je,0,1);const We=TimeSpan.fromMinutes(Xe.getTimezoneOffset()),Ke=getDateService();for(;Xe.getFullYear()===je;){let Je=Sun.calculate(Xe,$e,Ve,!0,ze);Je=Ke.addTimespan(Je,We);let Ze=Sun.calculate(Xe,$e,Ve,!1,ze);Ze=Ke.addTimespan(Ze,We),qe.push({Day:Xe,Sunrise:Ke.diff(Je,Xe),Sunset:Ke.diff(Ze,Xe)}),Xe=Ke.addTimespan(Xe,TimeSpan.fromDays(1))}return qe}function isDaylightSaving(je){const $e=new Date(je.getFullYear(),2,31,2,0,0);$e.setDate($e.getDate()-$e.getDay());const Ve=new Date(je.getFullYear(),9,31,3,0,0);return Ve.setDate(Ve.getDate()-Ve.getDay()),je>=$e&&je<=Ve}const category$J="DateTimeAxis",DateTimeAxisExamples={category:category$J,tags:["Axes"],examples:[{title:"Default StringFormat",example:{model:defaultValues$1}},{title:"StringFormat 'MMM DD\\nYYYY'",example:{model:stringFormat$1}},{title:"TimeZone adjustments",example:{model:daylightSavingsBreak}},{title:"DateTime axis",example:{model:dateTimeAxisPlotModel}},{title:"Sunrise and sunset in Oslo",example:{model:sunriseAndSunsetInOslo}},{title:"LabelFormatter",example:{model:labelFormatter}}]};function stringFormat(){return createExample$1(123456.78901234567,1.2345678901234567e6,void 0)}function stringFormatF2(){return createExample$1(123456.78901234567,1.2345678901234567e6,(je,$e)=>je.toFixed(2))}function tickStyleNone(){return createTickStyleModel(TickStyle.None)}function tickStyleCrossing(){return createTickStyleModel(TickStyle.Crossing)}function tickStyleInside(){return createTickStyleModel(TickStyle.Inside)}function tickStyleOutside(){return createTickStyleModel(TickStyle.Outside)}function gridlinesNone(){return createGridlinesModel("None",LineStyle.None,LineStyle.None)}function gridlinesHorizontal(){return createGridlinesModel("Horizontal",LineStyle.Solid,LineStyle.None)}function gridlinesVertical(){return createGridlinesModel("Vertical",LineStyle.None,LineStyle.Solid)}function gridlinesBoth(){return createGridlinesModel("Both",LineStyle.Solid,LineStyle.Solid)}function createExample$1(je,$e,Ve){const ze=new PlotModel;return ze.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:je,maximum:$e,stringFormatter:Ve})),ze.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:je,maximum:$e,stringFormatter:Ve})),ze}function createTickStyleModel(je){const $e=new PlotModel({title:`TickStyle: ${je}`});return $e.axes.push(new LinearAxis({position:AxisPosition.Bottom,tickStyle:je,majorGridlineStyle:LineStyle.None,minorGridlineStyle:LineStyle.None,maximumPadding:0,minimumPadding:0})),$e.axes.push(new LinearAxis({position:AxisPosition.Left,tickStyle:je,majorGridlineStyle:LineStyle.None,minorGridlineStyle:LineStyle.None,maximumPadding:0,minimumPadding:0})),$e}function createGridlinesModel(je,$e,Ve){const ze=new PlotModel({title:`Gridlines: ${je}`});return ze.axes.push(new LinearAxis({position:AxisPosition.Bottom,majorGridlineStyle:Ve,minorGridlineStyle:Ve===LineStyle.Solid?LineStyle.Dot:LineStyle.None,maximumPadding:0,minimumPadding:0})),ze.axes.push(new LinearAxis({position:AxisPosition.Left,majorGridlineStyle:$e,minorGridlineStyle:$e===LineStyle.Solid?LineStyle.Dot:LineStyle.None,maximumPadding:0,minimumPadding:0})),ze}const category$I="LinearAxis",LinearAxisExamples={category:category$I,tags:["Axes"],examples:[{title:"Default StringFormat ('g6')",example:{model:stringFormat}},{title:"StringFormat = 'f2'",example:{model:stringFormatF2}},{title:"TickStyle: None",example:{model:tickStyleNone}},{title:"TickStyle: Crossing",example:{model:tickStyleCrossing}},{title:"TickStyle: Inside",example:{model:tickStyleInside}},{title:"TickStyle: Outside",example:{model:tickStyleOutside}},{title:"Gridlines: None",example:{model:gridlinesNone}},{title:"Gridlines: Horizontal",example:{model:gridlinesHorizontal}},{title:"Gridlines: Vertical",example:{model:gridlinesVertical}},{title:"Gridlines: Both",example:{model:gridlinesBoth}}]};function peaks$1(){return _createHeatMapPeaks()}function interpolated(){return _createExample("Interpolated",!0)}function interpolatedCartesian(){const je=_createExample("Interpolated, cartesian axes",!0);return je.plotType=PlotType.Cartesian,je}function interpolatedWithNanValue(){const je=_createExample("Interpolated including two NaN values",!0),$e=je.series[0];return $e.data[0][1]=Number.NaN,$e.data[1][0]=Number.NaN,je}function interpolatedWithNanValueFlat(){const je=_createExample("Interpolated including two NaN values, otherwise 4.71",!0),Ve=je.series[0].data,ze=4.71;return Ve[0][0]=ze,Ve[0][1]=ze,Ve[0][2]=ze,Ve[1][0]=ze,Ve[1][1]=ze,Ve[1][2]=ze,Ve[0][1]=Number.NaN,Ve[1][0]=Number.NaN,je}function notInterpolated(){return _createExample("Not interpolated values",!1)}function notInterpolatedWithNanValue(){const je=_createExample("Not interpolated values including two NaN values",!1),$e=je.axes[0];$e.invalidNumberColor=OxyColors.Transparent;const Ve=je.series[0];return Ve.data[0][1]=Number.NaN,Ve.data[1][0]=Number.NaN,je}function notInterpolatedWithNanValueFlat(){const je=_createExample("Not interpolated values including two NaN values, otherwise 4.71",!1),$e=je.axes[0];$e.invalidNumberColor=OxyColors.Transparent;const Ve=je.series[0];if(!Ve.data)return je;const ze=4.71;return Ve.data[0][0]=ze,Ve.data[0][1]=ze,Ve.data[0][2]=ze,Ve.data[1][0]=ze,Ve.data[1][1]=ze,Ve.data[1][2]=ze,Ve.data[0][1]=Number.NaN,Ve.data[1][0]=Number.NaN,je}function notInterpolatedReversedX(){const je=_createExample("Reversed x-axis",!1);return je.axes.push(new LinearAxis({position:AxisPosition.Bottom,startPosition:1,endPosition:0})),je}function x0GreaterThanX1(){const je=_createExample("X0>X1",!1),$e=je.series[0],Ve=$e.x0;return $e.x0=$e.x1,$e.x1=Ve,je}function reversedX_X0GreaterThanX1(){const je=_createExample("Reversed x-axis, X0>X1",!1);je.axes.push(new LinearAxis({position:AxisPosition.Bottom,startPosition:1,endPosition:0}));const $e=je.series[0],Ve=$e.x0;return $e.x0=$e.x1,$e.x1=Ve,je}function notInterpolatedReversedY(){const je=_createExample("Reversed y-axis",!1);return je.axes.push(new LinearAxis({position:AxisPosition.Left,startPosition:1,endPosition:0})),je}function y0GreaterThanY1(){const je=_createExample("Y0>Y1",!1),$e=je.series[0],Ve=$e.y0;return $e.y0=$e.y1,$e.y1=Ve,je}function reversedY_Y0GreaterThanY1(){const je=_createExample("Reversed y-axis, Y0>Y1",!1);je.axes.push(new LinearAxis({position:AxisPosition.Left,startPosition:1,endPosition:0}));const $e=je.series[0],Ve=$e.y0;return $e.y0=$e.y1,$e.y1=Ve,je}function notInterpolatedReversedXY(){const je=_createExample("Reversed x- and y-axis",!1);return je.axes.push(new LinearAxis({position:AxisPosition.Left,startPosition:1,endPosition:0})),je.axes.push(new LinearAxis({position:AxisPosition.Bottom,startPosition:1,endPosition:0})),je}function diagonal(){const je=[[1,0,0],[0,1,0],[0,0,1]],$e=new PlotModel({title:"Diagonal (center defined)"});$e.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.jet(500),highColor:OxyColors.Gray,lowColor:OxyColors.Black}));const Ve=new HeatMapSeries({coordinateDefinition:HeatMapCoordinateDefinition.Center,x0:.5,x1:2.5,y0:2.5,y1:.5,data:je,interpolate:!1});return $e.series.push(Ve),$e}function diagonal2(){const je=[[1,0,0],[0,1,0],[0,0,1]],$e=new PlotModel({title:"Diagonal (edge defined)"});$e.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.jet(500),highColor:OxyColors.Gray,lowColor:OxyColors.Black}));const Ve=new HeatMapSeries({coordinateDefinition:HeatMapCoordinateDefinition.Edge,x0:0,x1:3,y0:3,y1:0,data:je,interpolate:!1});return $e.series.push(Ve),$e}function diagonal_6X6(){const je=Array(6).fill(Array(6).fill(0));je[0][0]=1,je[1][1]=1,je[2][2]=1,je[3][3]=1,je[4][4]=1,je[5][5]=1;const $e=new PlotModel({title:"Diagonal 6×6"});$e.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.jet(500),highColor:OxyColors.Gray,lowColor:OxyColors.Black}));const Ve=new HeatMapSeries({x0:0,x1:5,y0:5,y1:0,data:je,interpolate:!1});return $e.series.push(Ve),$e}function confusionMatrix(){let je=[[1,0,0],[0,.8,.2],[0,0,1]];je=je[0].map((Je,Ze)=>je.map(Qe=>Qe[Ze]));const $e=["class A","class B","class C"],Ve=new PlotModel({title:"Confusion Matrix"}),ze=OxyPalette.interpolate(50,OxyColors.White,OxyColors.Black),qe=new LinearColorAxis({position:AxisPosition.Right,palette:ze,highColor:OxyColors.White,lowColor:OxyColors.White});Ve.axes.push(qe);const Xe=new CategoryAxis({position:AxisPosition.Top,title:"Actual class"});Xe.labels.push(...$e),Ve.axes.push(Xe);const We=new CategoryAxis({position:AxisPosition.Left,title:"Predicted class",angle:-90,startPosition:1,endPosition:0});We.labels.push(...$e),Ve.axes.push(We);const Ke=new HeatMapSeries({data:je,interpolate:!1,labelFontSize:.25,x0:0,x1:je[0].length-1,y0:0,y1:je.length-1});return Ve.series.push(Ke),Ve}function logXInterpolated(){const je=Array(11).fill(0).map(()=>Array(21).fill(0)),$e=Math.pow(2,.1);for(let qe=0;qe<11;qe++)for(let Xe=0;Xe<21;Xe++)je[qe][Xe]=Math.pow($e,qe)*Xe/40;const Ve=new PlotModel({title:"Logarithmic X, interpolated"});Ve.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left})),Ve.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.gray(500),highColor:OxyColors.White,lowColor:OxyColors.Black}));const ze=new HeatMapSeries({x0:1,x1:2,y0:0,y1:20,data:je,interpolate:!0});return Ve.series.push(ze),Ve}function logXNotInterpolated(){const je=Array(11).fill(0).map(()=>Array(21).fill(0)),$e=Math.pow(2,.1);for(let qe=0;qe<11;qe++)for(let Xe=0;Xe<21;Xe++)je[qe][Xe]=Math.pow($e,qe)*Xe/40;const Ve=new PlotModel({title:"Logarithmic X, discrete rectangles"});Ve.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left})),Ve.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.gray(500),highColor:OxyColors.White,lowColor:OxyColors.Black}));const ze=new HeatMapSeries({x0:1,x1:2,y0:0,y1:20,data:je,interpolate:!1,renderMethod:HeatMapRenderMethod.Rectangles,labelFontSize:.4});return Ve.series.push(ze),Ve}function normal_6X4(){return _create6X4("Normal 6×4 Heatmap")}function _createHeatMapPeaks(je,$e=!0,Ve=100){const Ke=(ti,ni)=>3*(1-ti)*(1-ti)*Math.exp(-(ti*ti)-(ni+1)*(ni+1))-10*(ti/5-ti*ti*ti-ni*ni*ni*ni*ni)*Math.exp(-ti*ti-ni*ni)-.3333333333333333*Math.exp(-(ti+1)*(ti+1)-ni*ni),Je=ArrayBuilder.createVector(-3.1,3.1,Ve),Ze=ArrayBuilder.createVector(-3,3,Ve),Qe=ArrayBuilder.evaluate(Ke,Je,Ze),St=new PlotModel({title:"Peaks"});St.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:je??OxyPalettes.jet(500),highColor:OxyColors.Gray,lowColor:OxyColors.Black}));const ei=new HeatMapSeries({x0:-3.1,x1:3.1,y0:-3,y1:3,data:Qe});if(St.series.push(ei),$e){const ti=new ContourSeries({color:OxyColors.Black,fontSize:0,contourLevelStep:1,labelBackground:OxyColors.Undefined,columnCoordinates:Ze,rowCoordinates:Je,data:Qe});St.series.push(ti)}return St}function _create6X4(je){const $e=new TwoDimensionalArray(6,4);for(let ze=1;ze<=6;ze++)for(let qe=1;qe<=4;qe++)$e.set(ze-1,qe-1,ze*qe);const Ve=new PlotModel({title:je,subtitle:"Note the positions of the axes"});return Ve.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.jet(500),highColor:OxyColors.White,lowColor:OxyColors.Black})),Ve.series.push(new HeatMapSeries({x0:1,x1:6,y0:1,y1:4,data:$e.toArray(),interpolate:!0,labelFontSize:.2})),Ve}function _createExample(je,$e){const Ve=[[0,.2,.4],[.1,.3,.2]],ze=new PlotModel({title:"HeatMapSeries",subtitle:je});ze.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.rainbow(500),highColor:OxyColors.Gray,lowColor:OxyColors.Black}));const qe=new HeatMapSeries({coordinateDefinition:HeatMapCoordinateDefinition.Center,x0:.5,x1:1.5,y0:.5,y1:2.5,data:Ve,interpolate:$e,labelFontSize:.2});return ze.series.push(qe),ze}const HeatMapSeriesExamples={createPeaks:_createHeatMapPeaks},category$H="HeatMapSeries",HeatMapSeriesExamples$1={category:category$H,tags:["Series"],examples:[{title:"Peaks",example:{model:peaks$1}},{title:"2×3, interpolated",example:{model:interpolated}},{title:"2×3, interpolated, cartesian axes",example:{model:interpolatedCartesian}},{title:"2×3, interpolated with two NaN values",example:{model:interpolatedWithNanValue}},{title:"2×3, interpolated with two NaN values, flat data",example:{model:interpolatedWithNanValueFlat}},{title:"2×3, not interpolated",example:{model:notInterpolated}},{title:"2×3, not interpolated with two NaN values",example:{model:notInterpolatedWithNanValue}},{title:"2×3, not interpolated with two NaN values, flat data",example:{model:notInterpolatedWithNanValueFlat}},{title:"2×3, reversed x-axis",example:{model:notInterpolatedReversedX}},{title:"2×3, X0>X1",example:{model:x0GreaterThanX1}},{title:"2×3, reversed x-axis, X0>X1",example:{model:reversedX_X0GreaterThanX1}},{title:"2×3, reversed y-axis",example:{model:notInterpolatedReversedY}},{title:"2×3, Y0>Y1",example:{model:y0GreaterThanY1}},{title:"2×3, reversed y-axis, Y0>Y1",example:{model:reversedY_Y0GreaterThanY1}},{title:"2x3, reversed x- and y-axis",example:{model:notInterpolatedReversedXY}},{title:"3×3, diagonal (center defined)",example:{model:diagonal}},{title:"3×3, diagonal (edge defined)",example:{model:diagonal2}},{title:"6×6, diagonal",example:{model:diagonal_6X6}},{title:"Confusion matrix",example:{model:confusionMatrix}},{title:"Logarithmic X, interpolated",example:{model:logXInterpolated}},{title:"Logarithmic X, discrete rectangles",example:{model:logXNotInterpolated}},{title:"6×4, not transposed",example:{model:normal_6X4}}]};function defaultPalette(){const je=HeatMapSeriesExamples.createPeaks(void 0,!1);return je.axes.length=0,je.axes.push(new LinearColorAxis({position:AxisPosition.Right})),je}function jet200(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.jet(200),!1)}function jet20(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.jet(20),!1)}function hue400(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.hue(400),!1)}function hueDistinct200(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.hueDistinct(200),!1)}function hueDistinctReverse200(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.hueDistinct(200).reverse(),!1)}function hot200(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.hot(200),!1)}function hot64(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.hot64,!1)}function hot30(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.hot(30),!1)}function blueWhiteRed200(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.blueWhiteRed(200),!1)}function blueWhiteRed40(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.blueWhiteRed(40),!1)}function blackWhiteRed500(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.blackWhiteRed(500),!1)}function blackWhiteRed3(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.blackWhiteRed(3),!1)}function cool200(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.cool(200),!1)}function rainbow200(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.rainbow(200),!1)}function viridis(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.viridis(),!1)}function plasma(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.plasma(),!1)}function magma(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.magma(),!1)}function inferno(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.inferno(),!1)}function cividis(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.cividis(),!1)}function viridis10(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.viridis(10),!1)}function rainbow7(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.rainbow(7),!1)}function vertical_6(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.jet(6),!1)}function vertical_Reverse_6(){const je=HeatMapSeriesExamples.createPeaks(OxyPalettes.jet(6),!1),$e=je.axes[0];return $e.startPosition=1,$e.endPosition=0,je}function horizontal_6(){const je=HeatMapSeriesExamples.createPeaks(OxyPalettes.jet(6),!1),$e=je.axes[0];return $e.position=AxisPosition.Top,je}function horizontal_Reverse_6(){const je=HeatMapSeriesExamples.createPeaks(OxyPalettes.jet(6),!1),$e=je.axes[0];return $e.position=AxisPosition.Top,$e.startPosition=1,$e.endPosition=0,je}function renderAsImage_Horizontal(){const je=HeatMapSeriesExamples.createPeaks(OxyPalettes.jet(1e3),!1),$e=je.axes[0];return $e.renderAsImage=!0,$e.position=AxisPosition.Top,je}function renderAsImage_Horizontal_Reversed(){const je=HeatMapSeriesExamples.createPeaks(OxyPalettes.jet(1e3),!1),$e=je.axes[0];return $e.renderAsImage=!0,$e.position=AxisPosition.Top,$e.startPosition=1,$e.endPosition=0,je}function renderAsImage_Vertical(){const je=HeatMapSeriesExamples.createPeaks(OxyPalettes.jet(1e3),!1),$e=je.axes[0];return $e.renderAsImage=!0,je}function renderAsImage_Vertical_Reversed(){const je=HeatMapSeriesExamples.createPeaks(OxyPalettes.jet(1e3),!1),$e=je.axes[0];return $e.renderAsImage=!0,$e.startPosition=1,$e.endPosition=0,je}function vertical_Short(){const je=HeatMapSeriesExamples.createPeaks(OxyPalettes.jet(600),!1),$e=je.axes[0];return $e.startPosition=.02,$e.endPosition=.5,je}function position_None(){const je=HeatMapSeriesExamples.createPeaks(OxyPalettes.jet(600),!1),$e=je.axes[0];return $e.position=AxisPosition.None,je}const category$G="LinearColorAxis",LinearColorAxisExamples={category:category$G,tags:["Axes"],examples:[{title:"Default palette",example:{model:defaultPalette}},{title:"Jet (200 colors) palette",example:{model:jet200}},{title:"Jet (20 colors) palette",example:{model:jet20}},{title:"Hue (400 colors) palette",example:{model:hue400}},{title:"Hue distinct (200 colors) palette",example:{model:hueDistinct200}},{title:"Hue distinct reversed (200 colors) palette",example:{model:hueDistinctReverse200}},{title:"Hot (200 colors) palette",example:{model:hot200}},{title:"Hot (64 colors) palette",example:{model:hot64}},{title:"Hot (30 colors) palette",example:{model:hot30}},{title:"Blue-white-red (200 colors) palette",example:{model:blueWhiteRed200}},{title:"Blue-white-red (40 colors) palette",example:{model:blueWhiteRed40}},{title:"Black-white-red (500 colors) palette",example:{model:blackWhiteRed500}},{title:"Black-white-red (3 colors) palette",example:{model:blackWhiteRed3}},{title:"Cool (200 colors) palette",example:{model:cool200}},{title:"Rainbow (200 colors) palette",example:{model:rainbow200}},{title:"Viridis palette",example:{model:viridis}},{title:"Plasma palette",example:{model:plasma}},{title:"Magma palette",example:{model:magma}},{title:"Inferno palette",example:{model:inferno}},{title:"Cividis palette",example:{model:cividis}},{title:"Viridis (10 colors) palette",example:{model:viridis10}},{title:"Rainbow (7 colors) palette",example:{model:rainbow7}},{title:"Vertical (6 colors)",example:{model:vertical_6}},{title:"Vertical reverse (6 colors)",example:{model:vertical_Reverse_6}},{title:"Horizontal (6 colors)",example:{model:horizontal_6}},{title:"Horizontal reverse (6 colors)",example:{model:horizontal_Reverse_6}},{title:"RenderAsImage (horizontal)",example:{model:renderAsImage_Horizontal}},{title:"RenderAsImage (horizontal reversed)",example:{model:renderAsImage_Horizontal_Reversed}},{title:"RenderAsImage (vertical)",example:{model:renderAsImage_Vertical}},{title:"RenderAsImage (vertical reversed)",example:{model:renderAsImage_Vertical_Reversed}},{title:"Short vertical",example:{model:vertical_Short}},{title:"Position None",example:{model:position_None}}]};function defaultValues(){const je=new PlotModel;return je.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom})),je.axes.push(new LogarithmicAxis({position:AxisPosition.Left})),je}function amdahlsLaw(){const je=new PlotModel({title:"Amdahl's law"}),$e=new Legend({legendTitle:"Parallel portion"});je.legends.push($e);const Ve=(qe,Xe)=>1/(1-qe+qe/Xe),ze=qe=>{const Xe=new LineSeries({title:qe.toFixed(0)});for(let We=1;We<=65536;We*=2)Xe.points.push(newDataPoint(We,Ve(qe,We)));return Xe};return je.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom,title:"Number of processors",base:2,majorGridlineStyle:LineStyle.Solid,tickStyle:TickStyle.None})),je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:20,minorStep:2,majorStep:2,title:"Speedup",stringFormatter:qe=>qe.toFixed(2).toString(),majorGridlineStyle:LineStyle.Solid,tickStyle:TickStyle.None})),je.series.push(ze(.5)),je.series.push(ze(.75)),je.series.push(ze(.9)),je.series.push(ze(.95)),je}function richterMagnitudes(){const je=new PlotModel({title:"The Richter magnitude scale",plotMargins:new OxyThickness(80,0,80,40)}),$e=new Legend({legendPlacement:LegendPlacement.Inside,legendPosition:LegendPosition.TopCenter,legendOrientation:LegendOrientation.Horizontal,legendSymbolLength:24});je.legends.push($e),je.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Richter magnitude scale",majorGridlineStyle:LineStyle.None,tickStyle:TickStyle.None}));const Ve=new LineSeries({title:"Frequency",color:OxyColor.fromUInt32(4282150046),strokeThickness:3,markerStroke:OxyColor.fromUInt32(4282150046),markerFill:OxyColors.White,markerType:MarkerType.Circle,markerSize:4,markerStrokeThickness:3});Ve.points.push(newDataPoint(1.5,8e3*365*100)),Ve.points.push(newDataPoint(2.5,1e3*365*100)),Ve.points.push(newDataPoint(3.5,49e3*100)),Ve.points.push(newDataPoint(4.5,6200*100)),Ve.points.push(newDataPoint(5.5,800*100)),Ve.points.push(newDataPoint(6.5,120*100)),Ve.points.push(newDataPoint(7.5,18*100)),Ve.points.push(newDataPoint(8.5,1*100)),Ve.points.push(newDataPoint(9.5,1/20*100)),je.axes.push(new LogarithmicAxis({position:AxisPosition.Left,title:"Frequency / 100 yr",useSuperExponentialFormat:!0,majorGridlineStyle:LineStyle.None,tickStyle:TickStyle.Outside})),je.series.push(Ve);const ze=new LineSeries({title:"Energy",color:OxyColor.fromUInt32(4288572476),strokeThickness:3,markerStroke:OxyColor.fromUInt32(4288572476),markerFill:OxyColors.White,markerType:MarkerType.Circle,markerSize:4,markerStrokeThickness:3});return ze.points.push(newDataPoint(1.5,11e6)),ze.points.push(newDataPoint(2.5,36e7)),ze.points.push(newDataPoint(3.5,11e9)),ze.points.push(newDataPoint(4.5,36e10)),ze.points.push(newDataPoint(5.5,11e12)),ze.points.push(newDataPoint(6.5,36e13)),ze.points.push(newDataPoint(7.5,11e15)),ze.points.push(newDataPoint(8.5,36e16)),ze.points.push(newDataPoint(9.5,11e18)),ze.yAxisKey="energyAxis",je.axes.push(new LogarithmicAxis({position:AxisPosition.Right,title:"Energy / J",key:"energyAxis",useSuperExponentialFormat:!0,majorGridlineStyle:LineStyle.None,tickStyle:TickStyle.Outside})),je.series.push(ze),je}const absoluteMaximum=()=>{const je=new PlotModel({title:"AbsoluteMaximum = 1000"});return je.axes.push(new LogarithmicAxis({position:AxisPosition.Left,minimum:.1,maximum:1e3,absoluteMaximum:1e3})),je.series.push(new FunctionSeries({f:Math.exp,x0:0,x1:Math.log(900),n:100})),je},axisChangedEventHAndler=()=>{const je=new PlotModel({title:"AxisChanged event handler"});let $e=0;const Ve=new LogarithmicAxis({position:AxisPosition.Left,minimum:.1,maximum:1e3});return Ve.axisChanged=(ze,qe)=>{je.subtitle="Changed "+$e+++" times. ActualMaximum="+Ve.actualMaximum},je.axes.push(Ve),je.series.push(new FunctionSeries({f:Math.exp,x0:0,x1:Math.log(900),n:100})),je},negativeValues=()=>{const je=new PlotModel({title:"LogarithmicAxis",subtitle:"LineSeries with negative values"});return je.axes.push(new LogarithmicAxis({position:AxisPosition.Left})),je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.series.push(new FunctionSeries({f:$e=>Math.sin($e),x0:0,x1:40,n:1e3})),je};function tickCalculation(){const je=new PlotModel({title:"Tick calculation for different bases"});return je.axes.push(new LogarithmicAxis({title:"Base 10",position:AxisPosition.Left,minimum:20,maximum:2e4,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),je.axes.push(new LogarithmicAxis({title:"Base 7",position:AxisPosition.Bottom,base:7,minimum:2,maximum:1e4,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),je.axes.push(new LogarithmicAxis({title:"Base 5.5",position:AxisPosition.Top,base:5.5,minimum:1,maximum:100,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),je.axes.push(new LogarithmicAxis({title:"Base 2",position:AxisPosition.Right,base:2,minimum:1,maximum:1e6,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),je}const category$F="LogarithmicAxis",LogarithmicAxisExamples={category:category$F,tags:["Axes"],examples:[{title:"LogarithmicAxis with default values",example:{model:defaultValues}},{title:"Amdahl's Law",example:{model:amdahlsLaw}},{title:"Richter magnitudes",example:{model:richterMagnitudes}},{title:"LogarithmicAxis with AbsoluteMaximum",example:{model:absoluteMaximum}},{title:"LogarithmicAxis with AxisChanged event handler",example:{model:axisChangedEventHAndler}},{title:"Negative values",example:{model:negativeValues}},{title:"Tick calculation",example:{model:tickCalculation}}]};function archimedeanSpiral(){const je=new PlotModel({title:"Polar plot",subtitle:"Archimedean spiral with equation r(θ) = θ for 0 < θ < 6π",plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness(0)});return je.axes.push(new AngleAxis({majorStep:Math.PI/4,minorStep:Math.PI/16,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"π",minimum:0,maximum:2*Math.PI})),je.axes.push(new MagnitudeAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),je.series.push(new FunctionSeries({fx:$e=>$e,fy:$e=>$e,t0:0,t1:Math.PI*6,dt:.01})),je}function archimedeanSpiral2(){const je=archimedeanSpiral();je.title+="(reversed angle axis)";const $e=je.axes[0];return $e.startAngle=360,$e.endAngle=0,je}function archimedeanSpiral3(){const je=archimedeanSpiral();je.title+=" (axis Minimum = 10 and Maximum = 20)";const $e=je.axes[1];return $e.minimum=10,$e.maximum=20,je}function offsetAngles(){const je=new PlotModel({title:"Offset angle axis",plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness(0)}),$e=new AngleAxis({minimum:0,maximum:Math.PI*2,majorStep:Math.PI/4,minorStep:Math.PI/16,stringFormatter:Ve=>Ve.toFixed(2),startAngle:30,endAngle:390});return je.axes.push($e),je.axes.push(new MagnitudeAxis),je.series.push(new FunctionSeries({fx:Ve=>Ve,fy:Ve=>Ve,t0:0,t1:Math.PI*6,dt:.01})),je.mouseDown=(Ve,ze)=>{let qe=0;ze.changedButton===OxyMouseButton.Left&&(qe=15),ze.changedButton===OxyMouseButton.Right&&(qe=-15),Math.abs(qe)>Number.EPSILON&&($e.startAngle+=qe,$e.endAngle+=qe,je.invalidatePlot(!1),ze.handled=!0)},je}function semiCircle(){const je=new PlotModel({title:"Semi-circle polar plot",plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness(0)});return je.axes.push(new AngleAxis({minimum:0,maximum:180,majorStep:45,minorStep:9,startAngle:0,endAngle:180,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),je.axes.push(new MagnitudeAxis({minimum:0,maximum:1,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),je.series.push(circleFunctionSeries()),je}function semiCircleOffsetAngleAxisRange(){const je=new PlotModel({title:"Semi-circle polar plot",subtitle:"Angle axis range offset to -180 - 180",plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness(0)});return je.axes.push(new AngleAxis({minimum:-180,maximum:180,majorStep:45,minorStep:9,startAngle:0,endAngle:360,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),je.axes.push(new MagnitudeAxis({minimum:0,maximum:1,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),je.series.push(circleFunctionSeries()),je}function eastWestDirections(){const je=new PlotModel({title:"East/west directions",plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness(0)});return je.axes.push(new AngleAxis({minimum:0,maximum:360,majorStep:30,minorStep:30,startAngle:-90,endAngle:270,labelFormatter:$e=>$e>0&&$e<180?`${$e}E`:$e>180?`${360-$e}W`:$e.toString(),majorGridlineStyle:LineStyle.Dot,minorGridlineStyle:LineStyle.None})),je.axes.push(new MagnitudeAxis({minimum:0,maximum:1,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),je.series.push(circleFunctionSeries()),je}function semiCircleFullPlotArea(){const je=new PlotModel({title:"Semi-circle polar plot filling the plot area",subtitle:"The center can be moved using the right mouse button",plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness(1)});return je.axes.push(new AngleAxisFullPlotArea({minimum:0,maximum:180,majorStep:45,minorStep:9,startAngle:0,endAngle:180,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),je.axes.push(new MagnitudeAxisFullPlotArea({minimum:0,maximum:1,midShiftH:0,midShiftV:.9,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),je.series.push(circleFunctionSeries()),je}function archimedeanSpiralFullPlotArea(){const je=createFullPlotAreaPlotModel();return je.series.push(new FunctionSeries({fx:$e=>$e,fy:$e=>$e,t0:0,t1:Math.PI*6,dt:.01})),je}function spiralWithNegativeMinium(){const je=createFullPlotAreaPlotModel();return je.title+=" with a negative minimum",je.series.push(new FunctionSeries({fx:$e=>$e,fy:$e=>$e,t0:-Math.PI*6,t1:Math.PI*6,dt:.01})),je}function spiralWithPositiveMinium(){const je=createFullPlotAreaPlotModel();return je.title+=" with a positive minimum",je.series.push(new FunctionSeries({fx:$e=>$e,fy:$e=>$e,t0:Math.PI*6,t1:Math.PI*12,dt:.01})),je}function createFullPlotAreaPlotModel(){const je=new PlotModel({title:"Polar plot filling the plot area",subtitle:"The center can be move using the right mouse button",plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness(1)});return je.axes.push(new AngleAxisFullPlotArea({majorStep:Math.PI/4,minorStep:Math.PI/16,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"π",minimum:0,maximum:2*Math.PI})),je.axes.push(new MagnitudeAxisFullPlotArea({midShiftH:-.1,midShiftV:-.25,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),je}const circleFunctionSeries=()=>new FunctionSeries({fx:je=>Math.sin(je/180*Math.PI),fy:je=>je,t0:0,t1:180,dt:.01}),category$E="Polar Plots",PolarPlotExamples={category:category$E,tags:["Axes"],examples:[{title:"Spiral",example:{model:archimedeanSpiral}},{title:"Spiral2",example:{model:archimedeanSpiral2}},{title:"Spiral with magnitude axis min and max",example:{model:archimedeanSpiral3}},{title:"Angle axis with offset angle",example:{model:offsetAngles}},{title:"Semi-circle",example:{model:semiCircle}},{title:"Semi-circle offset angle axis range",example:{model:semiCircleOffsetAngleAxisRange}},{title:"East/west directions",example:{model:eastWestDirections}},{title:"Semi-circle full plot area",example:{model:semiCircleFullPlotArea}},{title:"Spiral full plot area",example:{model:archimedeanSpiralFullPlotArea}},{title:"Spiral full plot area with negative minimum",example:{model:spiralWithNegativeMinium}},{title:"Spiral full plot area with positive minimum",example:{model:spiralWithPositiveMinium}}]};function reversedHorizontalRangeColorAxis(){return rangeColorAxis(AxisPosition.Top,!0)}function reversedVerticalRangeColorAxis(){return rangeColorAxis(AxisPosition.Right,!0)}function horizontalRangeColorAxis(){return rangeColorAxis(AxisPosition.Top,!1)}function verticalRangeColorAxis(){return rangeColorAxis(AxisPosition.Right,!1)}function rangeColorAxis(je,$e){const ze=$e?"ScatterSeries and Reversed RangeColorAxis (n=1000)":"ScatterSeries and RangeColorAxis (n=1000)",qe=new PlotModel({title:ze,background:OxyColors.LightGray});qe.axes.push(new LinearAxis({position:AxisPosition.Bottom})),qe.axes.push(new LinearAxis({position:AxisPosition.Left}));const Xe=new RangeColorAxis({position:je,maximum:2,minimum:-2});Xe.addRange(0,.5,OxyColors.Blue),Xe.addRange(-.2,-.1,OxyColors.Red),$e&&(Xe.startPosition=1,Xe.endPosition=0),qe.axes.push(Xe);const We=new ScatterSeries({markerType:MarkerType.Square,markerSize:6}),Ke=new Random;for(let Je=0;Je<1e3;Je++){const Ze=Ke.next()*2.2-1.1;We.points.push({x:Ze,y:Ke.next(),value:Ze})}return qe.series.push(We),qe}const category$D="RangeColorAxis",RangeColorAxisExamples={category:category$D,tags:["Axes"],examples:[{title:"ScatterSeries with Reversed RangeColorAxis (Horizontal)",example:{model:reversedHorizontalRangeColorAxis}},{title:"ScatterSeries with Reversed  RangeColorAxis (Vertical)",example:{model:reversedVerticalRangeColorAxis}},{title:"ScatterSeries with RangeColorAxis (Horizontal)",example:{model:horizontalRangeColorAxis}},{title:"ScatterSeries with RangeColorAxis (Vertical)",example:{model:verticalRangeColorAxis}}]};function timeSpanaxisPlotModelDefault(){return timeSpanAxisPlotModel(void 0)}function timeSpanaxisPlotModel1(){return timeSpanAxisPlotModel(je=>`${formatTimeSpan(je,"hh:mm")}`)}function timeSpanAxisPlotModel(je){const qe=[];let Xe=0;const We=new Random;for(;Xe<=86400;)qe.push({time:Xe,value:We.next()}),Xe+=3600;const Ke=new PlotModel({title:"TimeSpan axis"}),Je=new TimeSpanAxis({position:AxisPosition.Bottom,stringFormatter:je});Ke.axes.push(Je);const Ze=new LinearAxis({position:AxisPosition.Left});Ke.axes.push(Ze);const Qe=new LineSeries({color:OxyColor.fromArgb(255,78,154,6),markerFill:OxyColor.fromArgb(255,78,154,6),markerStroke:OxyColors.ForestGreen,markerType:MarkerType.Plus,strokeThickness:1,dataFieldX:"time",dataFieldY:"value",itemsSource:qe});return Ke.series.push(Qe),Ke}const category$C="TimeSpanAxis",TimeSpanAxisExamples={category:category$C,tags:["Axes"],examples:[{title:"Default StringFormat",example:{model:timeSpanaxisPlotModelDefault}},{title:"StringFormat = 'h:mm'",example:{model:timeSpanaxisPlotModel1}}]},Axes=[AxisExamples,CartesianAxesExamples,CategoryAxisExamples,CategoryColorAxisExamples,CustomAxisExamples,DateTimeAxisExamples,LinearAxisExamples,LinearColorAxisExamples,LogarithmicAxisExamples,PolarPlotExamples,RangeColorAxisExamples,TimeSpanAxisExamples];function filteringInvalidPoints(){const je=new PlotModel({title:"Filtering NaN points"});je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left}));const $e=new LineSeries;return $e.points.push(newDataPoint(NaN,NaN)),$e.points.push(newDataPoint(1,0)),$e.points.push(newDataPoint(2,10)),$e.points.push(newDataPoint(NaN,20)),$e.points.push(newDataPoint(3,10)),$e.points.push(newDataPoint(4,0)),$e.points.push(newDataPoint(4.5,NaN)),$e.points.push(newDataPoint(5,0)),$e.points.push(newDataPoint(7,7)),$e.points.push(newDataPoint(NaN,NaN)),$e.points.push(newDataPoint(NaN,NaN)),$e.points.push(newDataPoint(7,0)),$e.points.push(newDataPoint(NaN,NaN)),je.series.push($e),je}function filteringInvalidPointsAreaSeries(){const je=new PlotModel({title:"Filtering NaN points in an AreaSeries"});je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left}));const $e=new AreaSeries;return $e.points.push(newDataPoint(1,0)),$e.points.push(newDataPoint(2,10)),$e.points.push(newDataPoint(3,10)),$e.points.push(newDataPoint(4,0)),$e.points.push(newDataPoint(5,0)),$e.points.push(newDataPoint(6,7)),$e.points.push(newDataPoint(7,7)),$e.points.push(newDataPoint(NaN,NaN)),$e.points.push(newDataPoint(NaN,NaN)),$e.points.push(newDataPoint(8,0)),$e.points.push(newDataPoint(9,0)),$e.points.push(newDataPoint(NaN,NaN)),$e.points2.push(newDataPoint(1,10)),$e.points2.push(newDataPoint(2,110)),$e.points2.push(newDataPoint(3,110)),$e.points2.push(newDataPoint(4,10)),$e.points2.push(newDataPoint(5,10)),$e.points2.push(newDataPoint(6,17)),$e.points2.push(newDataPoint(7,17)),$e.points2.push(newDataPoint(NaN,NaN)),$e.points2.push(newDataPoint(NaN,NaN)),$e.points2.push(newDataPoint(8,10)),$e.points2.push(newDataPoint(9,10)),$e.points2.push(newDataPoint(NaN,NaN)),je.series.push($e),je}function filteringUndefinedPoints(){const je=new PlotModel({title:"Filtering undefined points"});je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left}));const $e=new LineSeries;return $e.points.push(DataPoint_Undefined),$e.points.push(newDataPoint(1,0)),$e.points.push(newDataPoint(2,10)),$e.points.push(DataPoint_Undefined),$e.points.push(newDataPoint(3,10)),$e.points.push(newDataPoint(4,0)),$e.points.push(DataPoint_Undefined),$e.points.push(newDataPoint(5,0)),$e.points.push(newDataPoint(7,7)),$e.points.push(DataPoint_Undefined),$e.points.push(DataPoint_Undefined),$e.points.push(newDataPoint(7,0)),$e.points.push(DataPoint_Undefined),je.series.push($e),je}function filteringInvalidPointsLog(){const je=new PlotModel({title:"Filtering invalid points on logarithmic axes"});je.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom})),je.axes.push(new LogarithmicAxis({position:AxisPosition.Left}));const $e=new LineSeries;return $e.points.push(newDataPoint(NaN,NaN)),$e.points.push(newDataPoint(1,1)),$e.points.push(newDataPoint(10,10)),$e.points.push(newDataPoint(0,20)),$e.points.push(newDataPoint(100,2)),$e.points.push(newDataPoint(1e3,12)),$e.points.push(newDataPoint(4.5,0)),$e.points.push(newDataPoint(1e4,4)),$e.points.push(newDataPoint(1e5,14)),$e.points.push(newDataPoint(NaN,NaN)),$e.points.push(newDataPoint(1e6,5)),$e.points.push(newDataPoint(NaN,NaN)),je.series.push($e),je}function filteringPointsOutsideRange(){const je=new PlotModel({title:"Filtering points outside (-1,1)"});je.axes.push(new LinearAxis({position:AxisPosition.Bottom,filterMinValue:-1,filterMaxValue:1})),je.axes.push(new LinearAxis({position:AxisPosition.Left,filterMinValue:-1,filterMaxValue:1}));const $e=new LineSeries;for(let Ve=0;Ve<200;Ve+=.01)$e.points.push(newDataPoint(.01*Ve*Math.sin(Ve),.01*Ve*Math.cos(Ve)));return je.series.push($e),je}const category$B="Filtering data points",FilteringExamples={category:category$B,examples:[{title:"Filtering NaN points",example:{model:filteringInvalidPoints}},{title:"Filtering NaN points with AreaSeries",example:{model:filteringInvalidPointsAreaSeries}},{title:"Filtering undefined points",example:{model:filteringUndefinedPoints}},{title:"Filtering invalid points (log axis)",example:{model:filteringInvalidPointsLog}},{title:"Filtering points outside (-1,1)",example:{model:filteringPointsOutsideRange}}]},n$4=1e5;function usingIDataPoint(){const je=[];for(let Ve=0;Ve<n$4;Ve++){const ze=Ve/(n$4-1);je.push(newDataPoint(ze,y$4(ze)))}const $e=new PlotModel({title:"Using IDataPoint"});return $e.series.push(new LineSeries({itemsSource:je})),$e}function usingIDataPointProvider(){const je=[];for(let Ve=0;Ve<n$4;Ve++){const ze=Ve/(n$4-1);je.push(new PointType1(ze,y$4(ze)))}const $e=new PlotModel({title:"Items implementing IDataPointProvider"});return $e.series.push(new LineSeries({itemsSource:je})),$e}function usingMappingProperty(){const je=[];for(let Ve=0;Ve<n$4;Ve++){const ze=Ve/(n$4-1);je.push(new PointType2(ze,y$4(ze)))}const $e=new PlotModel({title:"Using Mapping property"});return $e.series.push(new LineSeries({itemsSource:je,mapping:Ve=>newDataPoint(Ve.abscissa,Ve.ordinate)})),$e}function usingReflection(){const je=[];for(let Ve=0;Ve<n$4;Ve++){const ze=Ve/(n$4-1);je.push(new PointType2(ze,y$4(ze)))}const $e=new PlotModel({title:"Using reflection (slow)"});return $e.series.push(new LineSeries({itemsSource:je,dataFieldX:"abscissa",dataFieldY:"ordinate"})),$e}class PointType1{constructor($e,Ve){this.abscissa=$e,this.ordinate=Ve}getDataPoint(){return newDataPoint(this.abscissa,this.ordinate)}}class PointType2{constructor($e,Ve){this.abscissa=$e,this.ordinate=Ve}}function y$4(je){return Math.sin(3/je)*Math.sin(5/(1-je))}const category$A="ItemsSource",ItemsSourceExamples={category:category$A,examples:[{title:"List<DataPoint>",example:{model:usingIDataPoint}},{title:"Items implementing IDataPointProvider",example:{model:usingIDataPointProvider}},{title:"Mapping property",example:{model:usingMappingProperty}},{title:"Using reflection (slow)",example:{model:usingReflection}}]},legendRightTopInside=()=>{const je=createModel$1(),$e=new Legend({legendPlacement:LegendPlacement.Inside,legendPosition:LegendPosition.RightTop,legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return je.legends.push($e),je},legendRightTopOutside=()=>{const je=createModel$1(),$e=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.RightTop,legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return je.legends.push($e),je},legendBottomLeftHorizontal=()=>{const je=createModel$1(4),$e=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomLeft,legendOrientation:LegendOrientation.Horizontal,legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return je.legends.push($e),je},legendTopLeftVertical=()=>{const je=createModel$1(4),$e=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.TopLeft,legendOrientation:LegendOrientation.Vertical,legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return je.legends.push($e),je},legendDefault=()=>{const je=createModel$1(),$e=new Legend;return je.legends.push($e),je},legendItemSpacing=()=>{const je=createModel$1(),$e=new Legend({legendItemSpacing:100,legendPosition:LegendPosition.BottomLeft,legendOrientation:LegendOrientation.Horizontal,legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return je.legends.push($e),je},legendLineSpacingVertical=()=>{const je=createModel$1(),$e=new Legend({legendLineSpacing:30,legendPosition:LegendPosition.TopLeft,legendOrientation:LegendOrientation.Vertical,legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return je.legends.push($e),je},legendLineSpacingHorizontal=()=>{const je=createModel$1(),$e=new Legend({legendLineSpacing:30,legendPosition:LegendPosition.TopLeft,legendOrientation:LegendOrientation.Horizontal,legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return je.legends.push($e),je},legendColumnSpacing=()=>{const je=createModel$1(60),$e=new Legend({legendColumnSpacing:100,legendPosition:LegendPosition.TopRight,legendOrientation:LegendOrientation.Vertical,legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return je.legends.push($e),je},legendHidden=()=>{const je=createModel$1(),$e=new Legend({legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return je.legends.push($e),je.isLegendVisible=!1,je},legendGrayscale=()=>{const je=createModel$1();je.defaultColors=[OxyColors.Black,OxyColors.Gray];const $e=new Legend({legendSymbolLength:32,legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return je.legends.push($e),je},clippedLegends=()=>{const je=createModel$1(1);je.series[0].title="1234567890 abcdefghijklmnopqrstuvwxyzæøå ABCDEFGHIJKLMNOPQRSTUVWXYZÆØÅ 1234567890 abcdefghijklmnopqrstuvwxyzæøå ABCDEFGHIJKLMNOPQRSTUVWXYZÆØÅ";const $e=new Legend({legendPlacement:LegendPlacement.Inside,legendPosition:LegendPosition.RightTop,legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return je.legends.push($e),je},clippedLegendsOutside=()=>{const je=clippedLegends();return je.legends[0].legendPlacement=LegendPlacement.Outside,je.legends[0].legendPosition=LegendPosition.RightTop,je.legends[0].legendMaxWidth=200,je},clippedLegendsRight=()=>{const je=clippedLegends();return je.legends[0].legendPlacement=LegendPlacement.Outside,je.legends[0].legendPosition=LegendPosition.TopRight,je};function createModel$1(je=20){const $e=new PlotModel;$e.title="LineSeries";for(let Ve=1;Ve<=je;Ve++){const ze=new LineSeries;ze.title="Series "+Ve,$e.series.push(ze);for(let qe=0;qe<2*Math.PI;qe+=.1)ze.points.push(newDataPoint(qe,Math.sin(qe*Ve)/Ve+Ve))}return $e}const legendBottomCenterOutsideWithMaxHeight=()=>{const je=createModel$1(),$e=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Vertical,legendMaxHeight:75,legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return je.legends.push($e),je},legendDefaultFontSize=()=>{const je=createModel$1(),$e=new Legend({legendFontSize:NaN,legendTitle:"Title in DefaultFontSize",legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return je.legends.push($e),je.defaultFontSize=20,je},singleLegendWithSeriesGroupsHorizontal=()=>{const je=createModel$1(21);for(let Ve=0;Ve<7;Ve++)je.series[Ve].seriesGroupName="group 1";for(let Ve=7;Ve<14;Ve++)je.series[Ve].seriesGroupName="group 2";for(let Ve=14;Ve<21;Ve++)je.series[Ve].seriesGroupName="group 3";const $e=new Legend({legendFontSize:NaN,legendTitle:"Legend with groups of Series",legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black,groupNameFont:"Segoe UI Black",legendPosition:LegendPosition.TopLeft,legendOrientation:LegendOrientation.Horizontal});return je.legends.push($e),je},singleLegendWithSeriesGroups=()=>{const je=createModel$1(21);for(let Ve=0;Ve<7;Ve++)je.series[Ve].seriesGroupName="group 1";for(let Ve=7;Ve<14;Ve++)je.series[Ve].seriesGroupName="group 2";for(let Ve=14;Ve<21;Ve++)je.series[Ve].seriesGroupName="group 3";const $e=new Legend({legendFontSize:NaN,legendTitle:"Legend with groups of Series",legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return je.legends.push($e),je},singleLegendWithSeriesGroupsMaxHeight=()=>{const je=createModel$1(21);for(let Ve=0;Ve<7;Ve++)je.series[Ve].seriesGroupName="group 1";for(let Ve=7;Ve<14;Ve++)je.series[Ve].seriesGroupName="group 2";for(let Ve=14;Ve<21;Ve++)je.series[Ve].seriesGroupName="group 3";const $e=new Legend({legendFontSize:NaN,legendTitle:"Legend with groups of Series",legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black,legendMaxHeight:275});return je.legends.push($e),je},multipleLegendsWithSeriesGroups=()=>{const je=createModel$1(21);for(let ze=0;ze<7;ze++)je.series[ze].seriesGroupName="group 1",je.series[ze].legendKey="Legend 1";for(let ze=7;ze<14;ze++)je.series[ze].seriesGroupName="group 2",je.series[ze].legendKey="Legend 1";for(let ze=14;ze<21;ze++)je.series[ze].seriesGroupName="group 3",je.series[ze].legendKey="Legend 2";const $e=new Legend({key:"Legend 1",legendFontSize:NaN,legendTitle:"Legend 1 Series",legendPlacement:LegendPlacement.Inside,legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black}),Ve=new Legend({key:"Legend 2",legendFontSize:NaN,legendTitle:"Legend 2 Series",legendPlacement:LegendPlacement.Outside,legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return je.legends.push($e),je.legends.push(Ve),je},legendFullWidth=()=>{const je=createModel$1(21),$e=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.TopCenter,legendOrientation:LegendOrientation.Horizontal,allowUseFullExtent:!0}),Ve=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Horizontal,allowUseFullExtent:!0});return je.plotMargins=new OxyThickness(50),je.legends.push($e),je.legends.push(Ve),je.invalidatePlot(!0),je},legendFullHeight=()=>{const je=createModel$1(21),$e=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.LeftTop,legendOrientation:LegendOrientation.Vertical,allowUseFullExtent:!0}),Ve=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.RightTop,legendOrientation:LegendOrientation.Vertical,allowUseFullExtent:!0});return je.legends.push($e),je.legends.push(Ve),je},legendShowingInvisibleSeries=()=>createModelWithInvisibleSeries(!0),legendNotShowingInvisibleSeries=()=>createModelWithInvisibleSeries(!1),createModelWithInvisibleSeries=je=>{const $e=createModel$1(),Ve=new Legend({showInvisibleSeries:je});$e.legends.push(Ve);for(let ze=0;ze<$e.series.length;ze+=2)$e.series[ze].isVisible=!1;return $e.invalidatePlot(!1),$e},category$z="Legends",LegendExamples={category:category$z,tags:["Legends"],examples:[{title:"Legend at right top inside",example:{model:legendRightTopInside}},{title:"Legend at right top outside",example:{model:legendRightTopOutside}},{title:"Legend at BottomLeft outside horizontal",example:{model:legendBottomLeftHorizontal}},{title:"Legend at TopLeft outside vertical",example:{model:legendTopLeftVertical}},{title:"Legend at default position",example:{model:legendDefault}},{title:"LegendItemSpacing (only for horizontal orientation)",example:{model:legendItemSpacing}},{title:"LegendLineSpacing (vertical legend orientation)",example:{model:legendLineSpacingVertical}},{title:"LegendLineSpacing (horizontal legend orientation)",example:{model:legendLineSpacingHorizontal}},{title:"LegendColumnSpacing (only for vertical orientation)",example:{model:legendColumnSpacing}},{title:"Hidden Legend",example:{model:legendHidden}},{title:"Grayscale colors",example:{model:legendGrayscale}},{title:"Clipped legends",example:{model:clippedLegends}},{title:"Clipped legends RightTop outside with MaxWidth",example:{model:clippedLegendsOutside}},{title:"Clipped legends TopRight outside",example:{model:clippedLegendsRight}},{title:"LegendMaxHeight (vertical legend orientation)",example:{model:legendBottomCenterOutsideWithMaxHeight}},{title:"Legend with DefaultFontSize",example:{model:legendDefaultFontSize}},{title:"Legend with grouped Series Horizontal",example:{model:singleLegendWithSeriesGroupsHorizontal}},{title:"Legend with grouped Series",example:{model:singleLegendWithSeriesGroups}},{title:"Legend with grouped Series and MaxHeight",example:{model:singleLegendWithSeriesGroupsMaxHeight}},{title:"Multiple Legends with grouped Series",example:{model:multipleLegendsWithSeriesGroups}},{title:"Full width legend",example:{model:legendFullWidth}},{title:"Full height legend",example:{model:legendFullHeight}},{title:"Legend showing invisible series",example:{model:legendShowingInvisibleSeries}},{title:"Legend not showing invisible series",example:{model:legendNotShowingInvisibleSeries}}]};function mouseEvents(){const je=new PlotModel({title:"Mouse events",subtitle:"Left click and drag"}),$e=new LinearAxis({position:AxisPosition.Left,minimum:-1,maximum:1}),Ve=new LinearAxis({position:AxisPosition.Bottom,minimum:-1,maximum:1});je.axes.push($e),je.axes.push(Ve);let ze;return je.mouseDown=(qe,Xe)=>{Xe.changedButton===OxyMouseButton.Left&&(ze=new LineSeries({title:"LineSeries"+(je.series.length+1),markerType:MarkerType.None,strokeThickness:2}),ze.points.push(Ve.inverseTransformPoint(Xe.position.x,Xe.position.y,$e)),je.series.push(ze),je.invalidatePlot(!1),Xe.handled=!0)},je.mouseMove=(qe,Xe)=>{ze!==void 0&&(ze.points.push(Ve.inverseTransformPoint(Xe.position.x,Xe.position.y,$e)),je.invalidatePlot(!1),Xe.handled=!0)},je.mouseUp=(qe,Xe)=>{ze!==void 0&&(ze=void 0,Xe.handled=!0)},je}function mouseDownEventHitTestResult(){const je=new PlotModel({title:"MouseDown HitTestResult",subtitle:"Reports the index of the nearest point."}),$e=new LineSeries;$e.points.push(newDataPoint(0,10)),$e.points.push(newDataPoint(10,40)),$e.points.push(newDataPoint(40,20)),$e.points.push(newDataPoint(60,30)),je.series.push($e),$e.mouseDown=(ze,qe)=>{je.subtitle="Index of nearest point in LineSeries: "+Math.round(qe.hitTestResult.index||0),je.invalidatePlot(!1)};const Ve=new ScatterSeries;return Ve.points.push({x:0,y:15}),Ve.points.push({x:10,y:45}),Ve.points.push({x:40,y:25}),Ve.points.push({x:60,y:35}),je.series.push(Ve),Ve.mouseDown=(ze,qe)=>{je.subtitle="Index of nearest point in ScatterSeries: "+Math.round(qe.hitTestResult.index||0),je.invalidatePlot(!1)},je}function mouseDownEvent(){const je=new PlotModel({title:"MouseDown",subtitle:"Left click to edit or add points."}),$e=new LineSeries({title:"LineSeries1",markerType:MarkerType.Circle,markerSize:6,strokeThickness:1.5});$e.points.push(newDataPoint(0,10)),$e.points.push(newDataPoint(10,40)),$e.points.push(newDataPoint(40,20)),$e.points.push(newDataPoint(60,30)),je.series.push($e);let Ve=-1;return $e.mouseDown=(ze,qe)=>{if(qe.changedButton===OxyMouseButton.Left){const Xe=Math.round(qe.hitTestResult.index),We=$e.transform($e.points[Xe]);if(screenPointMinus(We,qe.position).length<10)Ve=Xe;else{const Ke=qe.hitTestResult.index+1;$e.points.splice(Ke,0,$e.inverseTransform(qe.position)),Ve=Ke}$e.lineStyle=LineStyle.DashDot,je.invalidatePlot(!1),qe.handled=!0}},$e.mouseMove=(ze,qe)=>{Ve>=0&&($e.points[Ve]=$e.inverseTransform(qe.position),je.invalidatePlot(!1),qe.handled=!0)},$e.mouseUp=(ze,qe)=>{Ve=-1,$e.lineStyle=LineStyle.Solid,je.invalidatePlot(!1),qe.handled=!0},je.mouseDown=(ze,qe)=>{qe.changedButton===OxyMouseButton.Left&&($e.points.push($e.inverseTransform(qe.position)),Ve=$e.points.length-1,je.invalidatePlot(!1),qe.handled=!0)},je}function addAnnotations(){const je=new PlotModel({title:"Add arrow annotations",subtitle:"Press and drag the left mouse button"}),$e=new LinearAxis({position:AxisPosition.Bottom}),Ve=new LinearAxis({position:AxisPosition.Left});je.axes.push($e),je.axes.push(Ve),je.series.push(new FunctionSeries({f:qe=>Math.sin(qe/4)*Math.acos(Math.sin(qe)),x0:0,x1:Math.PI*8,n:2e3,title:"sin(x/4)*acos(sin(x))"}));let ze=null;return je.mouseDown=(qe,Xe)=>{Xe.changedButton===OxyMouseButton.Left&&(ze=new ArrowAnnotation,ze.startPoint=ze.endPoint=$e.inverseTransformPoint(Xe.position.x,Xe.position.y,Ve),je.annotations.push(ze),Xe.handled=!0)},je.mouseMove=(qe,Xe)=>{ze&&(ze.endPoint=$e.inverseTransformPoint(Xe.position.x,Xe.position.y,Ve),ze.text=`Y = ${ze.endPoint.y.toFixed(3)}`,je.invalidatePlot(!1),Xe.handled=!0)},je.mouseUp=(qe,Xe)=>{ze&&(ze=null,Xe.handled=!0)},je}function lineAnnotation(){const je=new PlotModel({title:"LineAnnotation",subtitle:"Click and drag the annotation line."});je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:80})),je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10}));const $e=new LineAnnotation({type:LineAnnotationType.Vertical,x:4});return $e.mouseDown=(Ve,ze)=>{ze.changedButton===OxyMouseButton.Left&&($e.strokeThickness*=5,je.invalidatePlot(!1),ze.handled=!0)},$e.mouseMove=(Ve,ze)=>{$e.x=$e.inverseTransform(ze.position).x,je.invalidatePlot(!1),ze.handled=!0},$e.mouseUp=(Ve,ze)=>{$e.strokeThickness/=5,je.invalidatePlot(!1),ze.handled=!0},je.annotations.push($e),je}function arrowAnnotation(){const je=new PlotModel({title:"ArrowAnnotation",subtitle:"Click and drag the arrow."});je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-40,maximum:60})),je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10}));const $e=new ArrowAnnotation({startPoint:newDataPoint(8,4),endPoint:newDataPoint(0,0),text:"Move me!"});let Ve=DataPoint_Undefined,ze=!1,qe=!1,Xe=OxyColors.White;return $e.mouseDown=(We,Ke)=>{Ke.changedButton===OxyMouseButton.Left&&(Ve=$e.inverseTransform(Ke.position),ze=Ke.hitTestResult.index!==2,qe=Ke.hitTestResult.index!==1,Xe=$e.color,$e.color=OxyColors.Red,je.invalidatePlot(!1),Ke.handled=!0)},$e.mouseMove=(We,Ke)=>{const Je=$e.inverseTransform(Ke.position),Ze=Je.x-Ve.x,Qe=Je.y-Ve.y;ze&&($e.startPoint=newDataPoint($e.startPoint.x+Ze,$e.startPoint.y+Qe)),qe&&($e.endPoint=newDataPoint($e.endPoint.x+Ze,$e.endPoint.y+Qe)),Ve=Je,je.invalidatePlot(!1),Ke.handled=!0},$e.mouseUp=(We,Ke)=>{$e.color=Xe},je.annotations.push($e),je}function polygonAnnotation(){const je=new PlotModel({title:"PolygonAnnotation",subtitle:"Click the polygon"});je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-20,maximum:20})),je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:20}));const $e=new PolygonAnnotation({text:"Polygon 1"});$e.points.push(newDataPoint(4,-2),newDataPoint(8,-4),newDataPoint(17,7),newDataPoint(5,8),newDataPoint(2,5));let Ve=1;return $e.mouseDown=(ze,qe)=>{qe.changedButton===OxyMouseButton.Left&&($e.text="Hit # "+Ve++,je.invalidatePlot(!1),qe.handled=!0)},je.annotations.push($e),je}function textAnnotation(){const je=new PlotModel({title:"TextAnnotation",subtitle:"Click the text"});je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:20})),je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10}));const $e=new TextAnnotation({textPosition:newDataPoint(4,-2),text:"Click here"});return $e.mouseDown=(Ve,ze)=>{console.log("mouseDown"),ze.changedButton===OxyMouseButton.Left&&($e.background=$e.background.isUndefined()?OxyColors.LightGreen:OxyColors.Undefined,je.invalidatePlot(!1),ze.handled=!0)},je.annotations.push($e),je}async function imageAnnotation(){const je=new PlotModel({title:"ImageAnnotation",subtitle:"Click the image"});je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:20})),je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10}));const $e=window.oxyPlotImg;if(!$e)throw new Error("window.oxyPlotImg not set");const Ve=await getImageService().load($e),ze=new ImageAnnotation({imageSource:Ve,x:new PlotLength(4,PlotLengthUnit.Data),y:new PlotLength(2,PlotLengthUnit.Data),horizontalAlignment:HorizontalAlignment.Right});return je.annotations.push(ze),ze.mouseDown=(qe,Xe)=>{Xe.changedButton===OxyMouseButton.Left&&(ze.horizontalAlignment=ze.horizontalAlignment===HorizontalAlignment.Right?HorizontalAlignment.Left:HorizontalAlignment.Right,je.invalidatePlot(!1),Xe.handled=!0)},je}function addSeriesByMouseDownEvent(){const je=new PlotModel({title:"MouseDown",subtitle:"Left click to add series."}),$e=new Legend({legendSymbolLength:40});return je.legends.push($e),je.mouseDown=(Ve,ze)=>{if(ze.changedButton===OxyMouseButton.Left){const qe=je.series.length+1;je.series.push(new FunctionSeries({f:Xe=>Math.sin(qe*Xe),x0:0,x1:10,n:1e3})),je.invalidatePlot(!0),ze.handled=!0}},je}function selectRange(){const je=new PlotModel({title:"Select range",subtitle:"Left click and drag to select a range."});je.series.push(new FunctionSeries({f:Math.cos,x0:0,x1:40,dx:.1}));const $e=new RectangleAnnotation({fill:OxyColor.fromAColor(120,OxyColors.SkyBlue),minimumX:0,maximumX:0});je.annotations.push($e);let Ve=Number.NaN;return je.mouseDown=(ze,qe)=>{qe.changedButton===OxyMouseButton.Left&&(Ve=$e.inverseTransform(qe.position).x,$e.minimumX=Ve,$e.maximumX=Ve,je.invalidatePlot(!0),qe.handled=!0)},je.mouseMove=(ze,qe)=>{if(!Number.isNaN(Ve)){const Xe=$e.inverseTransform(qe.position).x;$e.minimumX=Math.min(Xe,Ve),$e.maximumX=Math.max(Xe,Ve),$e.text=`∫ cos(x) dx =  ${Math.sin($e.maximumX)-round(Math.sin($e.minimumX),2)}`,je.subtitle=`Integrating from ${$e.minimumX.toFixed(2)} to ${$e.maximumX.toFixed(2)}`,je.invalidatePlot(!0),qe.handled=!0}},je.mouseUp=(ze,qe)=>{Ve=Number.NaN},je}function hover(){const je=new PlotModel({title:"Hover"});let $e=null;return je.mouseEnter=(Ve,ze)=>{je.subtitle="The mouse entered",$e=new LineSeries,je.series.push($e),je.invalidatePlot(!1),ze.handled=!0},je.mouseMove=(Ve,ze)=>{$e&&$e.xAxis&&($e.points.push($e.inverseTransform(ze.position)),je.invalidatePlot(!1))},je.mouseLeave=(Ve,ze)=>{je.subtitle="The mouse left",je.invalidatePlot(!1),ze.handled=!0},je}function touch(){const je=new PlotModel({title:"Touch"}),$e=new LineSeries;return je.series.push($e),je.touchStarted=(Ve,ze)=>{je.subtitle="The touch gesture started",je.invalidatePlot(!1),ze.handled=!0},je.touchDelta=(Ve,ze)=>{$e.points.push($e.inverseTransform(ze.position)),je.invalidatePlot(!1)},je.touchCompleted=(Ve,ze)=>{je.subtitle="The touch gesture completed",je.invalidatePlot(!1),ze.handled=!0},je}function touchSeries(){const je=new PlotModel({title:"Touch on a LineSeries"}),$e=new LineSeries;return $e.points.push(newDataPoint(0,0)),$e.points.push(newDataPoint(10,10)),je.series.push($e),$e.touchStarted=(Ve,ze)=>{je.subtitle="The touch gesture started on the LineSeries",je.invalidatePlot(!1),ze.handled=!0},$e.touchDelta=(Ve,ze)=>{$e.points.push($e.inverseTransform(ze.position)),je.invalidatePlot(!1)},$e.touchCompleted=(Ve,ze)=>{je.subtitle="The touch gesture completed",je.invalidatePlot(!1),ze.handled=!0},je}function rectangleAnnotationClick(){const je=new PlotModel({title:"RectangleAnnotation click"});je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left}));const $e=new RectangleAnnotation({minimumX:10,maximumX:60,minimumY:10,maximumY:20});je.annotations.push($e);let Ve=0;return $e.mouseDown=(ze,qe)=>{$e.text="Clicked "+ ++Ve+" times.",je.invalidatePlot(!1)},je}function clickingOnAnAnnotation$1(){const je=new PlotModel({title:"Clicking on an annotation",subtitle:"Click on the rectangles"});je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left}));const $e=new RectangleAnnotation({fill:OxyColors.Green,text:"RectangleAnnotation 1",minimumX:25,maximumX:75,minimumY:20,maximumY:40});je.annotations.push($e);const Ve=new RectangleAnnotation({fill:OxyColors.SkyBlue,text:"RectangleAnnotation 2",minimumX:25,maximumX:75,minimumY:60,maximumY:80});je.annotations.push(Ve);const ze=(qe,Xe)=>{je.subtitle="You clicked "+qe.text,je.invalidatePlot(!1)};return $e.mouseDown=ze,Ve.mouseDown=ze,je}const category$y="Mouse Events",MouseEventExamples={category:category$y,examples:[{title:"PlotModel mouse events",example:{model:mouseEvents}},{title:"MouseDown event and HitTestResult",example:{model:mouseDownEventHitTestResult}},{title:"LineSeries and PlotModel MouseDown event",example:{model:mouseDownEvent}},{title:"Add arrow annotations",example:{model:addAnnotations}},{title:"LineAnnotation",example:{model:lineAnnotation}},{title:"ArrowAnnotation",example:{model:arrowAnnotation}},{title:"PolygonAnnotation",example:{model:polygonAnnotation}},{title:"TextAnnotation",example:{model:textAnnotation}},{title:"ImageAnnotation",example:{model:imageAnnotation}},{title:"Add Series",example:{model:addSeriesByMouseDownEvent}},{title:"Select range",example:{model:selectRange}},{title:"Hover",example:{model:hover}},{title:"Touch",example:{model:touch}},{title:"Touch on a LineSeries",example:{model:touchSeries}},{title:"RectangleAnnotation click",example:{model:rectangleAnnotationClick}},{title:"Clicking on an annotation",example:{model:clickingOnAnAnnotation$1}}]};function lineSeries1M(){const je=new PlotModel({title:"LineSeries, 1M points"}),$e=new LineSeries;return addDataPoints($e.points,1e6),je.series.push($e),je}function lineSeries1MSpeed(){const je=new PlotModel({title:"LineSeries, 1M points"}),$e=new LineSeries({edgeRenderingMode:EdgeRenderingMode.PreferSpeed});return addDataPoints($e.points,1e6),je.series.push($e),je}function lineSeries(){const je=new PlotModel({title:"LineSeries, 100k points"}),$e=new LineSeries;return addDataPoints($e.points,1e5),je.series.push($e),je}function lineSeriesDashedLines(){const je=new PlotModel({title:"LineSeries, 100k points",subtitle:"LineStyle = Dash"}),$e=new LineSeries({lineStyle:LineStyle.Dash});return addDataPoints($e.points,1e5),je.series.push($e),je}function lineSeries1WithMarkers(){const je=new PlotModel({title:"LineSeries, 100k points",subtitle:"MarkerType = Square"}),$e=new LineSeries({markerType:MarkerType.Square});return addDataPoints($e.points,1e5),je.series.push($e),je}function lineSeries1WithMarkersLowRes(){const je=new PlotModel({title:"LineSeries, 100k points, markers, lower resolution",subtitle:"MarkerType = Square, MarkerResolution = 3"}),$e=new LineSeries({markerType:MarkerType.Square,markerResolution:3});return addDataPoints($e.points,1e5),je.series.push($e),je}function lineSeriesRoundLineJoins(){const je=new PlotModel({title:"LineSeries, 100k points",subtitle:"LineJoin = Round"}),$e=new LineSeries({lineJoin:LineJoin.Round});return addDataPoints($e.points,1e5),je.series.push($e),je}function lineSeriesItemsSourceList(){const je=new PlotModel({title:"LineSeries, 100k points by ItemsSource set to a List<DataPoint>"}),$e=new LineSeries,Ve=[];return addDataPoints(Ve,1e5),$e.itemsSource=Ve,je.series.push($e),je}function lineSeriesItemsSourceMapping(){const je=new PlotModel({title:"LineSeries, 100k points by ItemsSource and Mapping",subtitle:"Using the Mapping function"}),$e=new LineSeries,Ve=[];addDataPoints(Ve,1e5);const ze=Ve.map(qe=>new OxyRect(qe.x,qe.y,0,0));return $e.itemsSource=ze,$e.mapping=qe=>newDataPoint(qe.left,qe.top),je.series.push($e),je}function lineSeriesItemsSourceReflection(){const je=new PlotModel({title:"LineSeries, 100k points, ItemsSource with reflection",subtitle:"DataFieldX and DataFieldY"}),$e=new LineSeries,Ve=[];addDataPoints(Ve,1e5);const ze=Ve.map(qe=>new OxyRect(qe.x,qe.y,0,0));return $e.itemsSource=ze,$e.dataFieldX="left",$e.dataFieldY="top",je.series.push($e),je}function lineSeriesThick(){const je=new PlotModel({title:"LineSeries, 100k points (thick)",subtitle:"StrokeThickness = 10"}),$e=new LineSeries({strokeThickness:10});return addDataPoints($e.points,1e5),je.series.push($e),je}function lineSeries2MiterLineJoins(){const je=new PlotModel({title:"LineSeries, 3k points, miter line joins",subtitle:"LineJoin = Miter"}),$e=new LineSeries({lineJoin:LineJoin.Miter,strokeThickness:8});for(let Ve=0;Ve<3e3;Ve++)$e.points.push(newDataPoint(Ve,Ve%2));return je.series.push($e),je}function lineSeries2RoundLineJoins(){const je=new PlotModel({title:"LineSeries, 3k points, round line joins",subtitle:"LineJoin = Round"}),$e=new LineSeries({lineJoin:LineJoin.Round,strokeThickness:8});for(let Ve=0;Ve<3e3;Ve++)$e.points.push(newDataPoint(Ve,Ve%2));return je.series.push($e),je}function lineSeries2BevelLineJoins(){const je=new PlotModel({title:"LineSeries, 3k points, bevel line joins",subtitle:"LineJoin = Bevel"}),$e=new LineSeries({lineJoin:LineJoin.Bevel,strokeThickness:8});for(let Ve=0;Ve<3e3;Ve++)$e.points.push(newDataPoint(Ve,Ve%2));return je.series.push($e),je}function scatterSeriesSquares(){const je=new PlotModel({title:"ScatterSeries (squares)"}),$e=new ScatterSeries;return addScatterPoints($e.points,2e3),je.series.push($e),je}function scatterSeriesSquaresOutline(){const je=new PlotModel({title:"ScatterSeries (squares with outline)",subtitle:"MarkerStroke = Black"}),$e=new ScatterSeries({markerStroke:OxyColors.Black});return addScatterPoints($e.points,2e3),je.series.push($e),je}function scatterSeriesSquaresOutlineOnly(){const je=new PlotModel({title:"ScatterSeries (squares without fill color)",subtitle:"MarkerFill = Transparent, MarkerStroke = Black"}),$e=new ScatterSeries({markerFill:OxyColors.Transparent,markerStroke:OxyColors.Black});return addScatterPoints($e.points,2e3),je.series.push($e),je}function scatterSeriesItemsSourceReflection(){const je=new PlotModel({title:"ScatterSeries (by ItemsSource)",subtitle:"DataFieldX = 'X', DataFieldY = 'Y'"});return je.series.push(new ScatterSeries({itemsSource:getPoints(2e3),dataFieldX:"X",dataFieldY:"Y"})),je}function scatterSeriesCircles(){const je=new PlotModel({title:"ScatterSeries (circles)",subtitle:"MarkerType = Circle"}),$e=new ScatterSeries({markerType:MarkerType.Circle});return addScatterPoints($e.points,2e3),je.series.push($e),je}function scatterSeriesCirclesOutline(){const je=new PlotModel({title:"ScatterSeries (circles with outline)",subtitle:"MarkerType = Circle, MarkerStroke = Black"}),$e=new ScatterSeries({markerType:MarkerType.Circle,markerStroke:OxyColors.Black});return addScatterPoints($e.points,2e3),je.series.push($e),je}function scatterSeriesCrosses(){const je=new PlotModel({title:"ScatterSeries (cross)",subtitle:"MarkerType = Cross"}),$e=new ScatterSeries({markerType:MarkerType.Cross,markerFill:OxyColors.Undefined,markerStroke:OxyColors.Black});return addScatterPoints($e.points,2e3),je.series.push($e),je}function linearAxisNoGridlines(){const je=new PlotModel({title:"LinearAxis (no gridlines)"});return je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:100,majorStep:1,minorStep:1})),je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:0,maximum:100,majorStep:1,minorStep:1})),je}function linearAxisSolidGridlines(){const je=new PlotModel({title:"LinearAxis (solid gridlines)"});return je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:LineStyle.Solid})),je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:LineStyle.Solid})),je}function linearAxisDashedGridlines(){const je=new PlotModel({title:"LinearAxis (dashed gridlines)"});return je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:LineStyle.Dash})),je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:LineStyle.Dash})),je}function linearAxisDottedGridlines(){const je=new PlotModel({title:"LinearAxis (dotted gridlines)"});return je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:LineStyle.Dot})),je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:LineStyle.Dot})),je}function intOverflow10k(){return intOverflow(1e4)}function intOverflow50k(){return intOverflow(5e4)}function intOverflow100k(){return intOverflow(1e5)}function intOverflow(je){const $e=new PlotModel({title:"int overflow",subtitle:`n = ${je}`}),Ve=new LineSeries;let ze=0;for(let qe=0;qe<je;qe++)Ve.points.push(newDataPoint(qe,ze+=qe*qe));return $e.series.push(Ve),$e}function getPoints(je){const $e=[];return addDataPoints($e,je),$e}function addDataPoints(je,$e){for(let Ve=0;Ve<$e;Ve++){const ze=Math.PI*10*Ve/($e-1);je.push(newDataPoint(ze*Math.cos(ze),ze*Math.sin(ze)))}}function addScatterPoints(je,$e){for(let Ve=0;Ve<$e;Ve++){const ze=Math.PI*10*Ve/($e-1);je.push({x:ze*Math.cos(ze),y:ze*Math.sin(ze)})}}const category$x="Performance",PerformanceExamples={category:category$x,examples:[{title:"LineSeries, 1M points",example:{model:lineSeries1M}},{title:"LineSeries, 1M points, EdgeRenderingMode==PreferSpeed",example:{model:lineSeries1MSpeed}},{title:"LineSeries, 100k points",example:{model:lineSeries}},{title:"LineSeries, 100k points (dashed line)",example:{model:lineSeriesDashedLines}},{title:"LineSeries, 100k points, markers",example:{model:lineSeries1WithMarkers}},{title:"LineSeries, 100k points, markers, lower resolution",example:{model:lineSeries1WithMarkersLowRes}},{title:"LineSeries, 100k points, round line joins",example:{model:lineSeriesRoundLineJoins}},{title:"LineSeries, 100k points by ItemsSource set to a List<DataPoint>",example:{model:lineSeriesItemsSourceList}},{title:"LineSeries, 100k points by ItemsSource and Mapping",example:{model:lineSeriesItemsSourceMapping}},{title:"LineSeries, 100k points by ItemsSource and reflection",example:{model:lineSeriesItemsSourceReflection}},{title:"LineSeries, 100k points (thick)",example:{model:lineSeriesThick}},{title:"LineSeries, 3k points, miter line joins",example:{model:lineSeries2MiterLineJoins}},{title:"LineSeries, 3k points, round line joins",example:{model:lineSeries2RoundLineJoins}},{title:"LineSeries, 3k points, bevel line joins",example:{model:lineSeries2BevelLineJoins}},{title:"ScatterSeries (squares)",example:{model:scatterSeriesSquares}},{title:"ScatterSeries (squares with outline)",example:{model:scatterSeriesSquaresOutline}},{title:"ScatterSeries (squares without fill color)",example:{model:scatterSeriesSquaresOutlineOnly}},{title:"ScatterSeries by ItemsSource and reflection",example:{model:scatterSeriesItemsSourceReflection}},{title:"ScatterSeries (circles)",example:{model:scatterSeriesCircles}},{title:"ScatterSeries (circles with outline)",example:{model:scatterSeriesCirclesOutline}},{title:"ScatterSeries (cross)",example:{model:scatterSeriesCrosses}},{title:"LinearAxis (no gridlines)",example:{model:linearAxisNoGridlines}},{title:"LinearAxis (solid gridlines)",example:{model:linearAxisSolidGridlines}},{title:"LinearAxis (dashed gridlines)",example:{model:linearAxisDashedGridlines}},{title:"LinearAxis (dotted gridlines)",example:{model:linearAxisDottedGridlines}},{title:"int overflow (10k)",example:{model:intOverflow10k}},{title:"int overflow (50k)",example:{model:intOverflow50k}},{title:"int overflow (100k)",example:{model:intOverflow100k}}]};function basicExample(){const je=new PlotModel({title:"Basic Controller example",subtitle:"Panning with left mouse button"});je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left}));const $e=new PlotController;return $e.unbindAll(),ControllerExtensions.bindMouseDown($e,OxyMouseButton.Left,PlotCommands.panAt),{model:()=>je,controller:()=>$e}}function hoverTracking(){const je=new PlotModel({title:"Show tracker without clicking"});je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left})),je.series.push(FunctionSeries.fromFxFyN(Ve=>Math.cos(Ve)*5+Math.cos(Ve*50),Ve=>Math.sin(Ve)*5+Math.sin(Ve*50),0,Math.PI*2,2e4));const $e=new PlotController;return ControllerExtensions.bindMouseEnter($e,PlotCommands.hoverPointsOnlyTrack),{model:()=>je,controller:()=>$e}}function mouseHandlingExample(){const je=new PlotModel({title:"Mouse handling example"}),$e=new ScatterSeries;je.series.push($e);const Ve=new DelegatePlotCommand((qe,Xe,We)=>{We.handled=!0;const Ke=$e.inverseTransform(We.position);$e.points.push({x:Ke.x,y:Ke.y}),je.invalidatePlot(!0)}),ze=new PlotController;return ControllerExtensions.bindMouseDown(ze,OxyMouseButton.Left,Ve),{model:()=>je,controller:()=>ze}}function clickingOnAnAnnotation(){const je=new PlotModel({title:"Clicking on an annotation",subtitle:"Click on the rectangles"});je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left}));const $e=new RectangleAnnotation({fill:OxyColors.Green,text:"RectangleAnnotation 1",minimumX:25,maximumX:75,minimumY:20,maximumY:40});je.annotations.push($e);const Ve=new RectangleAnnotation({fill:OxyColors.SkyBlue,text:"RectangleAnnotation 2",minimumX:25,maximumX:75,minimumY:60,maximumY:80});je.annotations.push(Ve);const ze=(We,Ke)=>{je.subtitle="You clicked "+We.text,je.invalidatePlot(!1)};$e.mouseDown=ze,Ve.mouseDown=ze;const qe=new PlotController,Xe=new DelegatePlotCommand((We,Ke,Je)=>{const Ze=new HitTestArguments(Je.position,10),Qe=We.actualModel.hitTest(Ze).find(St=>St.element instanceof RectangleAnnotation);Qe&&(Je.handled=!0,je.subtitle="You clicked "+Qe.element.text,je.invalidatePlot(!1))});return qe.bindMouseDown(new OxyMouseDownGesture(OxyMouseButton.Left),Xe),{model:()=>je,controller:()=>qe}}function preferringAnAxisForManipulation(){function je(ze,qe,Xe=1){const We=new ZoomStepManipulator(ze,qe.delta*.001*Xe,OxyModifierKeysExtensions.isControlDown(qe));We.axisPreference=AxisPreference.X,We.started(qe)}const $e=new PlotModel({title:"Preferring an axis for manipulation",subtitle:"Mouse wheel over plot area prefers X axis"});$e.axes.push(new LinearAxis({position:AxisPosition.Bottom})),$e.axes.push(new LinearAxis({position:AxisPosition.Left})),$e.series.push(FunctionSeries.fromDx(Math.cos,-7,7,.01));const Ve=new PlotController;return Ve.unbindAll(),ControllerExtensions.bindMouseWheel(Ve,new DelegatePlotCommand((ze,qe,Xe)=>je(ze,Xe))),ControllerExtensions.bindMouseWheel(Ve,new DelegatePlotCommand((ze,qe,Xe)=>je(ze,Xe,.1)),OxyModifierKeys.Control),{model:()=>$e,controller:()=>Ve}}function showHideLegend(){const je=new PlotModel({title:"Show/Hide Legend",subtitle:"Click on the rectangles"}),$e=3;for(let Je=1;Je<=$e;Je++){const Ze=new LineSeries({title:"Series "+Je});je.series.push(Ze);for(let Qe=0;Qe<2*Math.PI;Qe+=.1)Ze.points.push(newDataPoint(Qe,Math.sin(Qe*Je)/Je+Je))}const Ve=new Legend;je.legends.push(Ve);const ze=new RectangleAnnotation({fill:OxyColors.Green,text:"Show Legend",minimumX:.5,maximumX:1.5,minimumY:.2,maximumY:.4});je.annotations.push(ze);const qe=new RectangleAnnotation({fill:OxyColors.SkyBlue,text:"Hide Legend",minimumX:.5,maximumX:1.5,minimumY:.6,maximumY:.8});je.annotations.push(qe);const Xe=(Je,Ze)=>{const Qe=Je.text;Qe==="Show Legend"?je.isLegendVisible=!0:Qe==="Hide Legend"&&(je.isLegendVisible=!1),je.subtitle="You clicked "+Je.text,je.invalidatePlot(!1)};ze.mouseDown=Xe,qe.mouseDown=Xe;const We=new PlotController,Ke=new DelegatePlotCommand((Je,Ze,Qe)=>{const St=new HitTestArguments(Qe.position,10),ei=Je.actualModel.hitTest(St).find(ti=>ti.element instanceof RectangleAnnotation);ei&&(Qe.handled=!0,je.subtitle="You clicked "+ei.element.text,je.invalidatePlot(!1))});return We.bindMouseDown(new OxyMouseDownGesture(OxyMouseButton.Left),Ke),{model:()=>je,controller:()=>We}}const category$w="PlotController examples",PlotControllerExamples={category:category$w,examples:[{title:"Basic controller example",example:basicExample()},{title:"Show tracker without clicking",example:hoverTracking()},{title:"Mouse handling example",example:mouseHandlingExample()},{title:"Clicking on an annotation",example:clickingOnAnAnnotation()},{title:"Preferring an axis for manipulation",example:preferringAnAxisForManipulation()},{title:"Show/Hide Legend",example:showHideLegend()}]};function title(){const je=new PlotModel({title:"Title"});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left})),je}function titleAndSubtitle(){const je=new PlotModel({title:"Title",subtitle:"Subtitle"});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left})),je}function titleAndSubtitleWithSubSuperscript(){const je=new PlotModel({title:"Title with^{super}_{sub}script",subtitle:"Subtitle with^{super}_{sub}script"});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left})),je}function titlePadding0(){const je=new PlotModel({title:"TitlePadding = 0",subtitle:"This controls the distance between the titles and the plot area. The default value is 6",titlePadding:0});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left})),je}function titlePadding100(){const je=new PlotModel({title:"TitlePadding = 100",titlePadding:100});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left})),je}function titlesCenteredWithinView(){const je=new PlotModel({title:"Title",subtitle:"Subtitle",titleHorizontalAlignment:TitleHorizontalAlignment.CenteredWithinView});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left})),je}function titleClippingOff(){const je=new PlotModel({title:"This is a very long title to illustrate that title clipping is necessary, because currently it's not clipped.",clipTitle:!1});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left})),je}function titleClipping60(){const je=new PlotModel({title:"This is a very long title, that shows that title clippling is working with crrently 60% of title area",titleClippingLength:.6});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left})),je}function backgroundUndefined(){const je=new PlotModel({title:"Background = Undefined",background:OxyColors.Undefined});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left})),je}function backgroundWhite50(){const je=new PlotModel({title:"Background = 50% White",background:OxyColor.fromAColor(128,OxyColors.White)});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left})),je}function backgroundTransparent(){const je=new PlotModel({title:"Background = Transparent",background:OxyColors.Transparent});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left})),je}function backgroundLightGray(){const je=new PlotModel({title:"Background = LightSkyBlue",background:OxyColors.LightSkyBlue});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left})),je}function backgroundWhite(){const je=new PlotModel({title:"Background = White",background:OxyColors.White});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left})),je}function backgroundBlack(){const je=new PlotModel({title:"Background = Black",background:OxyColors.Black,textColor:OxyColors.White,titleColor:OxyColors.White,plotAreaBorderColor:OxyColors.White});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom,ticklineColor:OxyColors.White})),je.axes.push(new LinearAxis({position:AxisPosition.Left,ticklineColor:OxyColors.White})),je}function plotAreaBorderThickness2(){const je=new PlotModel({title:"PlotAreaBorderThickness = 2",plotAreaBorderThickness:new OxyThickness(2)});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left})),je}function plotAreaBorderThickness1001(){const je=new PlotModel({title:"PlotAreaBorderThickness = (1,0,0,1)",plotAreaBorderThickness:new OxyThickness(1,0,0,1)});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left})),je}function plotAreaBorderThickness4114(){const je=new PlotModel({title:"PlotAreaBorderThickness = (4,1,1,4)",plotAreaBorderThickness:new OxyThickness(4,1,1,4)});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left})),je}function plotAreaBorderThickness0(){const je=new PlotModel({title:"PlotAreaBorderThickness = 0",plotAreaBorderThickness:new OxyThickness(0)});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left})),je}function plotAreaBorderThickness0AxisLineThickness1(){const je=new PlotModel({title:"PlotAreaBorderThickness = 0",subtitle:"AxislineThickness = 1, AxislineColor = OxyColors.Blue, AxislineStyle = LineStyle.Solid",plotAreaBorderThickness:new OxyThickness(0)});return je.axes.push(new LinearAxis({position:AxisPosition.Bottom,axislineThickness:1,axislineColor:OxyColors.Blue,axislineStyle:LineStyle.Solid})),je.axes.push(new LinearAxis({position:AxisPosition.Left,axislineThickness:1,axislineColor:OxyColors.Blue,axislineStyle:LineStyle.Solid})),je}function invalidAxisKey(){const je=new PlotModel;return je.axes.push(new LinearAxis),je.series.push(new LineSeries({xAxisKey:"invalidKey"})),je}function exceptionClipping(){const je=new PlotModel,$e=new DelegateAnnotation(Ve=>{throw Ve.pushClip(new OxyRect(50,50,50,50)),new Error("This Exception should be completely visible and not clipped by the previously pushed clipping rectangle.")});return je.annotations.push($e),je}function unbalancedClippingPush(){const je=new PlotModel,$e=new DelegateAnnotation(async Ve=>{Ve.pushClip(new OxyRect(50,50,50,50))});return je.annotations.push($e),je}function unbalancedClippingPop(){const je=new PlotModel,$e=new DelegateAnnotation(async Ve=>{Ve.popClip()});return je.annotations.push($e),je}const category$v="PlotModel examples",PlotModelExamples={category:category$v,examples:[{title:"Title",example:{model:title}},{title:"Title and Subtitle",example:{model:titleAndSubtitle}},{title:"Sub- and superscript in titles",example:{model:titleAndSubtitleWithSubSuperscript}},{title:"TitlePadding = 0",example:{model:titlePadding0}},{title:"TitlePadding = 100",example:{model:titlePadding100}},{title:"TitleHorizontalAlignment = CenteredWithinView",example:{model:titlesCenteredWithinView}},{title:"TitleClippingOff",example:{model:titleClippingOff}},{title:"TitleClipping60",example:{model:titleClipping60}},{title:"Background = Undefined (default)",example:{model:backgroundUndefined}},{title:"Background = 50% White",example:{model:backgroundWhite50}},{title:"Background = Transparent",example:{model:backgroundTransparent}},{title:"Background = LightSkyBlue",example:{model:backgroundLightGray}},{title:"Background = White",example:{model:backgroundWhite}},{title:"Background = Black",example:{model:backgroundBlack}},{title:"PlotAreaBorderThickness = 2",example:{model:plotAreaBorderThickness2}},{title:"PlotAreaBorderThickness = (1,0,0,1)",example:{model:plotAreaBorderThickness1001}},{title:"PlotAreaBorderThickness = (4,1,1,4)",example:{model:plotAreaBorderThickness4114}},{title:"PlotAreaBorderThickness = 0",example:{model:plotAreaBorderThickness0}},{title:"PlotAreaBorderThickness / AxisLine",example:{model:plotAreaBorderThickness0AxisLineThickness1}},{title:"Exception handling (invalid XAxisKey)",example:{model:invalidAxisKey}},{title:"Exception handling (with clipping)",example:{model:exceptionClipping}},{title:"Unbalanced clipping (push)",example:{model:unbalancedClippingPush}},{title:"Unbalanced clipping (pop)",example:{model:unbalancedClippingPop}}]};function drawTextColors(){const je=new PlotModel,$e="Arial",Ve=32,ze=FontWeights.Bold,qe=Ve*1.6,Xe=20;let We=20-qe;return je.annotations.push(new DelegateAnnotation(async Ke=>{await Ke.drawText(newScreenPoint(Xe,We+=qe),"Black",OxyColors.Black,$e,Ve,ze),await Ke.drawText(newScreenPoint(Xe,We+=qe),"Red",OxyColors.Red,$e,Ve,ze),await Ke.drawText(newScreenPoint(Xe,We+=qe),"Green",OxyColors.Green,$e,Ve,ze),await Ke.drawText(newScreenPoint(Xe,We+=qe),"Blue",OxyColors.Blue,$e,Ve,ze),await RenderingExtensions.fillRectangle(Ke,new OxyRect(Xe,We+qe+15,200,10),OxyColors.Black,EdgeRenderingMode.Adaptive),await Ke.drawText(newScreenPoint(Xe,We+qe),"Yellow 50%",OxyColor.fromAColor(128,OxyColors.Yellow),$e,Ve,ze)})),je}function drawTextFonts(){const je=new PlotModel,$e=20,Ve=$e*1.6,ze=20;let qe=20-Ve;return je.annotations.push(new DelegateAnnotation(async Xe=>{await Xe.drawText(newScreenPoint(ze,qe+=Ve),"Default font",OxyColors.Black,void 0,$e),await Xe.drawText(newScreenPoint(ze,qe+=Ve),"Helvetica",OxyColors.Black,"Helvetica",$e),await Xe.drawText(newScreenPoint(ze,qe+=Ve),"Arial",OxyColors.Black,"Arial",$e),await Xe.drawText(newScreenPoint(ze,qe+=Ve),"Courier",OxyColors.Black,"Courier",$e),await Xe.drawText(newScreenPoint(ze,qe+=Ve),"Courier New",OxyColors.Black,"Courier New",$e),await Xe.drawText(newScreenPoint(ze,qe+=Ve),"Times",OxyColors.Black,"Times",$e),await Xe.drawText(newScreenPoint(ze,qe+Ve),"Times New Roman",OxyColors.Black,"Times New Roman",$e)})),je}function drawTextFontSizes(){const je=new PlotModel,$e=20;let Ve=20;return je.annotations.push(new DelegateAnnotation(async ze=>{for(const qe of[10,16,24,36,48])await ze.drawText(newScreenPoint($e,Ve),`${qe}pt`,OxyColors.Black,"Arial",qe),await ze.drawText(newScreenPoint($e+200,Ve),`${qe}pt`,OxyColors.Black,"Arial",qe,FontWeights.Bold),Ve+=qe*1.6})),je}function drawTextRotation(){const je=new PlotModel;return je.annotations.push(new DelegateAnnotation(async $e=>{const Ve=newScreenPoint(200,200);await RenderingExtensions.fillCircle($e,Ve,3,OxyColors.Blue,EdgeRenderingMode.Adaptive);for(let ze=0;ze<360;ze+=45)await $e.drawText(Ve,`Rotation ${ze}`,OxyColors.Black,void 0,20,void 0,ze)})),je}function drawTextAlignment(){const je=new PlotModel,$e=20;return je.annotations.push(new DelegateAnnotation(async Ve=>{for(let ze=HorizontalAlignment.Left;ze<=HorizontalAlignment.Right;ze++)for(let qe=VerticalAlignment.Top;qe<=VerticalAlignment.Bottom;qe++){const Xe=newScreenPoint((ze+1)*200+20,(qe+1)*$e*3+20);await RenderingExtensions.fillCircle(Ve,Xe,3,OxyColors.Blue,EdgeRenderingMode.Adaptive);const We=getEnumName(HorizontalAlignment,ze),Ke=getEnumName(VerticalAlignment,qe);await Ve.drawText(Xe,`${We}-${Ke}`,OxyColors.Black,void 0,$e,void 0,0,ze,qe)}})),je}function drawTextMultiLineAlignment(){const je=new PlotModel,$e=20;return je.annotations.push(new DelegateAnnotation(async Ve=>{for(let ze=HorizontalAlignment.Left;ze<=HorizontalAlignment.Right;ze++){const qe=getEnumName(HorizontalAlignment,ze);for(let Xe=VerticalAlignment.Top;Xe<=VerticalAlignment.Bottom;Xe++){const We=getEnumName(VerticalAlignment,Xe),Ke=(ze+1)*200+20,Je=(Xe+1)*$e*6+20,Ze=newScreenPoint(Ke,Je);await RenderingExtensions.fillCircle(Ve,Ze,3,OxyColors.Blue,EdgeRenderingMode.Adaptive),await Ve.drawText(Ze,`${qe}
${We}`,OxyColors.Black,void 0,$e,void 0,0,ze,Xe)}}})),je}function mathTextRotation(){const je=new PlotModel,$e="Arial",Ve=24,ze=FontWeights.Normal;return je.annotations.push(new DelegateAnnotation(async qe=>{const Xe=newScreenPoint(200,200),We=newScreenPoint(400,200);await RenderingExtensions.fillCircle(qe,Xe,3,OxyColors.Blue,EdgeRenderingMode.Adaptive);for(let Ke=0;Ke<360;Ke+=45){const Je="     A_{2}^{3}B";await MathRenderingExtensions.drawMathText(qe,Xe,Je,OxyColors.Black,$e,Ve,ze,Ke,HorizontalAlignment.Left,VerticalAlignment.Middle);const Ze=await MathRenderingExtensions.measureMathText(qe,Je,$e,Ve,ze),Qe=OxySizeExtensions.getPolygon(Ze,Xe,Ke,HorizontalAlignment.Left,VerticalAlignment.Middle);await qe.drawPolygon(Qe,OxyColors.Undefined,OxyColors.Blue,1,EdgeRenderingMode.Adaptive);const St="     A B";await qe.drawText(We,St,OxyColors.Red,$e,Ve,ze,Ke,HorizontalAlignment.Left,VerticalAlignment.Middle);const ei=qe.measureText(St,$e,Ve,ze),ti=OxySizeExtensions.getPolygon(ei,We,Ke,HorizontalAlignment.Left,VerticalAlignment.Middle);await qe.drawPolygon(ti,OxyColors.Undefined,OxyColors.Blue,1,EdgeRenderingMode.Adaptive)}})),je}function drawMathTextAlignment(){const je="A_{2}^{3}B",$e=new PlotModel,Ve="Arial",ze=20,qe=FontWeights.Normal;return $e.annotations.push(new DelegateAnnotation(async Xe=>{for(let We=HorizontalAlignment.Left;We<=HorizontalAlignment.Right;We++)for(let Ke=VerticalAlignment.Top;Ke<=VerticalAlignment.Bottom;Ke++){const Je=newScreenPoint((We+1)*200+20,(Ke+1)*ze*3+20);await RenderingExtensions.fillCircle(Xe,Je,3,OxyColors.Blue,EdgeRenderingMode.Adaptive),await MathRenderingExtensions.drawMathText(Xe,Je,je,OxyColors.Black,Ve,ze,qe,0,We,Ke)}})),$e}function drawTextAlignmentRotation(){const je=new PlotModel;return je.annotations.push(new DelegateAnnotation(async $e=>{for(let Ve=HorizontalAlignment.Left;Ve<=HorizontalAlignment.Right;Ve++)for(let ze=VerticalAlignment.Top;ze<=VerticalAlignment.Bottom;ze++){const qe=(Ve+2)*130,Xe=(ze+2)*130,We=newScreenPoint(qe,Xe);await RenderingExtensions.fillCircle($e,We,3,OxyColors.Blue,EdgeRenderingMode.Adaptive);for(let Ke=0;Ke<360;Ke+=90)await $e.drawText(We,`R${Ke.toString().padStart(3,"0")}`,OxyColors.Black,void 0,20,void 0,Ke,Ve,ze)}})),je}function drawMultilineTextAlignmentRotation(){const je=new PlotModel;return je.annotations.push(new DelegateAnnotation(async $e=>{for(let Ve=HorizontalAlignment.Left;Ve<=HorizontalAlignment.Right;Ve++){const ze=getEnumName(HorizontalAlignment,Ve);for(let qe=VerticalAlignment.Top;qe<=VerticalAlignment.Bottom;qe++){const Xe=getEnumName(VerticalAlignment,qe),We=(Ve+2)*170,Ke=(qe+2)*170,Je=newScreenPoint(We,Ke);await RenderingExtensions.fillCircle($e,Je,3,OxyColors.Blue,EdgeRenderingMode.Adaptive);for(let Ze=0;Ze<360;Ze+=90)await $e.drawText(Je,`R${Ze.toString().padStart(3,"0")}
${ze}
${Xe}`,OxyColors.Black,void 0,20,void 0,Ze,Ve,qe)}}})),je}function drawTextMaxSize(){const je=new PlotModel,$e="Arial",Ve=32,ze=FontWeights.Bold,qe=Ve*1.6,Xe=20,We=200;let Ke=20;const Je=["iii","jjj","OxyPlot","Bottom","100","KML"];return je.annotations.push(new DelegateAnnotation(async Ze=>{for(const Qe of Je){const St=Ze.measureText(Qe,$e,Ve,ze),ei=newScreenPoint(Xe,Ke);await Ze.drawText(ei,Qe,OxyColors.Black,$e,Ve,ze,void 0,void 0,void 0,St);const ti=new OxyRect(ei.x,ei.y,St.width,St.height);await Ze.drawRectangle(ti,OxyColors.Undefined,OxyColors.Black,1,EdgeRenderingMode.Adaptive);const ni=newScreenPoint(We,Ke),oi=new OxySize(St.width/2,St.height/2);await Ze.drawText(ni,Qe,OxyColors.Black,$e,Ve,ze,void 0,void 0,void 0,oi);const ai=new OxyRect(ni.x,ni.y,oi.width,oi.height);await Ze.drawRectangle(ai,OxyColors.Undefined,OxyColors.Black,1,EdgeRenderingMode.Adaptive),Ke+=qe}})),je}function measureText(){const je=new PlotModel,$e="Arial",Ve=["OxyPlot","MMM","III","jikq","gh","123","!#$&"],ze=[10,20,40,60];return je.annotations.push(new DelegateAnnotation(async qe=>{let Xe=5;for(const We of ze){let Ke=5,Je=0;for(const Ze of Ve){const Qe=qe.measureText(Ze,$e,We,FontWeights.Normal);Je=Math.max(Je,Qe.width),await qe.drawRectangle(new OxyRect(Xe,Ke,Qe.width,Qe.height),OxyColors.LightYellow,OxyColors.Black,1,EdgeRenderingMode.Adaptive),await qe.drawText(newScreenPoint(Xe,Ke),Ze,OxyColors.Black,$e,We),Ke+=Qe.height+20}Xe+=Je+20}})),je}const clipping=()=>{const je=new PlotModel;return je.annotations.push(new DelegateAnnotation(async $e=>{const Ve=async ii=>{const ui=new OxyPen(OxyColors.Black,2,LineStyle.Dash);await RenderingExtensions.drawLine($e,ii.left,ii.top,ii.right,ii.top,ui,EdgeRenderingMode.Automatic),await RenderingExtensions.drawLine($e,ii.right,ii.top,ii.right,ii.bottom,ui,EdgeRenderingMode.Automatic),await RenderingExtensions.drawLine($e,ii.right,ii.bottom,ii.left,ii.bottom,ui,EdgeRenderingMode.Automatic),await RenderingExtensions.drawLine($e,ii.left,ii.bottom,ii.left,ii.top,ui,EdgeRenderingMode.Automatic)};let ze=20;const qe=60,Xe=40,We=20,Ke=20,Je=200;let Ze=OxyRect.Empty;const Qe=async ii=>{await RenderingExtensions.drawCircle2($e,ii,Xe*.58,OxyColors.CornflowerBlue,OxyColors.Undefined,0,EdgeRenderingMode.Automatic)},St=async ii=>{const ui=newScreenPoint(We+Xe+Ke+Je,ze);await $e.drawText(ui,ii,OxyColors.Black,void 0,12,void 0,void 0,void 0,VerticalAlignment.Middle)},ei=async ii=>{const ui=newScreenPoint(We+Xe+Ke,ze);await $e.drawText(ui,ii,OxyColors.Black,void 0,12,void 0,void 0,void 0,VerticalAlignment.Middle)},ti=async(ii,ui)=>{await $e.drawText(newScreenPoint(ui,15),ii,OxyColors.Black,void 0,12,700)},ni=()=>{ze+=qe,Ze=new OxyRect(We,ze-Xe/2,Xe,Xe)};await ti("Actual",We),await ti("Test Case",We+Xe+Ke),await ti("Expected",We+Xe+Ke+Je),ni(),$e.pushClip(Ze),$e.popClip(),await Qe(Ze.center),await ei(`1. Push clipping rectangle
2. Pop clipping rectangle
3. Draw circle`),await St("The circle should be fully drawn."),ni(),$e.pushClip(Ze),await Qe(Ze.center),$e.popClip(),await Ve(Ze),await ei(`1. Push clipping rectangle
2. Draw Circle`),await St("The circle should be clipped."),ni();let oi=Ze.deflate(new OxyThickness(Ze.height*.25));$e.pushClip(Ze),$e.pushClip(oi),await Qe(Ze.center),$e.popClip(),$e.popClip(),await Ve(Ze),await Ve(oi),await ei(`1. Push large clipping rectangle
2. Push small clipping rectangle
3. Draw Circle`),await St("The circle should be clipped to the small clipping rectangle."),ni(),oi=Ze.deflate(new OxyThickness(Ze.height*.25)),$e.pushClip(oi),$e.pushClip(Ze),await Qe(Ze.center),$e.popClip(),$e.popClip(),await Ve(Ze),await Ve(oi),await ei(`1. Push small clipping rectangle
2. Push large clipping rectangle
3. Draw Circle`),await St("The circle should be clipped to the small clipping rectangle."),ni(),oi=Ze.offset(Ze.width/2,Ze.height/2).deflate(new OxyThickness(Ze.height*.25)),$e.pushClip(Ze),$e.pushClip(oi),await Qe(Ze.center),$e.popClip(),$e.popClip(),await Ve(Ze),await Ve(oi),await ei(`1. Push large clipping rectangle
2. Push small clipping rectangle
3. Draw Circle`),await St("The circle should be clipped to the intersection of the clipping rectangles."),ni(),oi=Ze.offset(Ze.width/2,Ze.height/2).deflate(new OxyThickness(Ze.height*.25)),$e.pushClip(Ze),$e.pushClip(oi),$e.popClip(),await Qe(Ze.center),$e.popClip(),await Ve(Ze),await Ve(oi),await ei(`1. Push large clipping rectangle
2. Push small clipping rectangle
3. Pop small clipping rectangle
4. Draw Circle`),await St("The circle should be clipped to the large clipping rectangle."),ni();const ai=Ze.offset(Ze.width/3,Ze.height/3).deflate(new OxyThickness(Ze.height*.25)),si=Ze.offset(-Ze.width/3,-Ze.height/3).deflate(new OxyThickness(Ze.height*.25));$e.pushClip(ai),$e.pushClip(si),await Qe(Ze.center),$e.popClip(),$e.popClip(),await Ve(ai),await Ve(si),await ei(`1. Push clipping rectangle
2. Push second clipping rectangle
3. Draw Circle`),await St("The circle should not be drawn at all."),ni();const ri=RenderingExtensions.autoResetClip($e,Ze);await $e.drawText(Ze.center,"OxyPlot",OxyColors.CornflowerBlue,void 0,15,void 0,void 0,HorizontalAlignment.Center,VerticalAlignment.Middle),ri.dispose(),await Ve(Ze),await ei(`1. Push clipping rectangle
2. Draw Text`),await St("The text should be clipped.")})),je},GRID_SIZE=40,TILE_SIZE=30,THICKNESS_STEPS=10,THICKNESS_STEP=.5,OFFSET_LEFT=200,OFFSET_TOP=20,FILL_COLOR=OxyColors.LightBlue,rectangles=()=>{const je=new PlotModel;return je.annotations.push(new DelegateAnnotation(async $e=>{for(let ze=0;ze<THICKNESS_STEPS;ze++){const qe=OFFSET_LEFT+ze*GRID_SIZE+TILE_SIZE/2,Xe=ze*THICKNESS_STEP;await $e.drawText(newScreenPoint(qe,OFFSET_TOP/2),Xe.toString(),OxyColors.Black,void 0,10,void 0,void 0,HorizontalAlignment.Center,VerticalAlignment.Middle)}const Ve=getEnumKeys(EdgeRenderingMode);for(const ze of Ve){const qe=OFFSET_TOP+ze*GRID_SIZE;await $e.drawText(newScreenPoint(10,qe+10),EdgeRenderingMode[ze],OxyColors.Black,void 0,10,void 0,void 0,void 0,VerticalAlignment.Middle);for(let Xe=0;Xe<THICKNESS_STEPS;Xe++){const We=OFFSET_LEFT+Xe*GRID_SIZE,Ke=new OxyRect(We,qe,TILE_SIZE,TILE_SIZE),Je=Xe*THICKNESS_STEP;await $e.drawRectangle(Ke,FILL_COLOR,OxyColors.Black,Je,ze)}}})),je},lines=()=>{const je=new PlotModel;return je.annotations.push(new DelegateAnnotation(async $e=>{for(let ze=0;ze<THICKNESS_STEPS;ze++){const qe=OFFSET_LEFT+ze*GRID_SIZE+TILE_SIZE/2,Xe=ze*THICKNESS_STEP;await $e.drawText(newScreenPoint(qe,OFFSET_TOP/2),Xe.toString(),OxyColors.Black,void 0,10,void 0,void 0,HorizontalAlignment.Center,VerticalAlignment.Middle)}const Ve=getEnumKeys(EdgeRenderingMode);for(const ze of Ve){const qe=OFFSET_TOP+ze*GRID_SIZE;await $e.drawText(newScreenPoint(10,qe+10),EdgeRenderingMode[ze],OxyColors.Black,void 0,10,void 0,void 0,void 0,VerticalAlignment.Middle);for(let Xe=0;Xe<THICKNESS_STEPS;Xe++){const We=OFFSET_LEFT+Xe*GRID_SIZE,Ke=newScreenPoint(We,qe),Je=newScreenPoint(We,qe+TILE_SIZE),Ze=newScreenPoint(We+TILE_SIZE,qe),Qe=newScreenPoint(We+TILE_SIZE,qe+TILE_SIZE),St=newScreenPoint(We,qe+TILE_SIZE/2),ei=Xe*THICKNESS_STEP;await $e.drawLine([Je,Ke,Ze],OxyColors.Black,ei,ze),await $e.drawLine([St,Qe,Ke],OxyColors.Black,ei,ze,void 0,LineJoin.Bevel)}}})),je},polygons=()=>{const je=new PlotModel;return je.annotations.push(new DelegateAnnotation(async $e=>{for(let ze=0;ze<THICKNESS_STEPS;ze++){const qe=OFFSET_LEFT+ze*GRID_SIZE+TILE_SIZE/2,Xe=ze*THICKNESS_STEP;await $e.drawText(newScreenPoint(qe,OFFSET_TOP/2),Xe.toString(),OxyColors.Black,void 0,10,void 0,void 0,HorizontalAlignment.Center,VerticalAlignment.Middle)}const Ve=getEnumKeys(EdgeRenderingMode);for(const ze of Ve){const qe=OFFSET_TOP+ze*GRID_SIZE;await $e.drawText(newScreenPoint(10,qe+10),EdgeRenderingMode[ze],OxyColors.Black,void 0,10,void 0,void 0,void 0,VerticalAlignment.Middle);for(let Xe=0;Xe<THICKNESS_STEPS;Xe++){const We=OFFSET_LEFT+Xe*GRID_SIZE,Ke=[newScreenPoint(We+TILE_SIZE*.4,qe),newScreenPoint(We+TILE_SIZE,qe+TILE_SIZE*.2),newScreenPoint(We+TILE_SIZE*.9,qe+TILE_SIZE*.8),newScreenPoint(We+TILE_SIZE*.5,qe+TILE_SIZE),newScreenPoint(We,qe+TILE_SIZE*.6)],Je=Xe*THICKNESS_STEP;await $e.drawPolygon(Ke,FILL_COLOR,OxyColors.Black,Je,ze)}}})),je},ellipses=()=>{const je=new PlotModel;return je.annotations.push(new DelegateAnnotation(async $e=>{for(let ze=0;ze<THICKNESS_STEPS;ze++){const qe=OFFSET_LEFT+ze*GRID_SIZE+TILE_SIZE/2,Xe=ze*THICKNESS_STEP;await $e.drawText(newScreenPoint(qe,OFFSET_TOP/2),Xe.toString(),OxyColors.Black,void 0,10,void 0,void 0,HorizontalAlignment.Center,VerticalAlignment.Middle)}const Ve=getEnumKeys(EdgeRenderingMode);for(const ze of Ve){const qe=OFFSET_TOP+ze*GRID_SIZE;await $e.drawText(newScreenPoint(10,qe+10),EdgeRenderingMode[ze],OxyColors.Black,void 0,10,void 0,void 0,void 0,VerticalAlignment.Middle);for(let Xe=0;Xe<THICKNESS_STEPS;Xe++){const We=OFFSET_LEFT+Xe*GRID_SIZE,Ke=new OxyRect(We,qe+TILE_SIZE*.1,TILE_SIZE,TILE_SIZE*.8),Je=Xe*THICKNESS_STEP;await $e.drawEllipse(Ke,FILL_COLOR,OxyColors.Black,Je,ze)}}})),je},lineJoins=()=>{const Ve=[135,90,45,22.5],ze=140,qe=90,Xe=50,We=50,Ke=new PlotModel;return Ke.annotations.push(new DelegateAnnotation(async Je=>{let Ze=0,Qe=0;const St=getEnumKeys(LineJoin);for(const ei of St){const ti=newScreenPoint(ze*(Ze+.5)+Xe,We/2);await Je.drawText(ti,LineJoin[ei],OxyColors.Black,void 0,12,void 0,void 0,HorizontalAlignment.Center,VerticalAlignment.Middle),Ze++}for(const ei of Ve){Ze=0;const ti=qe*Qe+We,ni=ei/2/360*2*Math.PI,oi=Math.sin(ni)*60,ai=Math.cos(ni)*60,si=newScreenPoint(15,ti);await Je.drawText(si,ei.toString()+"°",OxyColors.Black,void 0,12);for(const ri of St){const ii=ze*(Ze+.5)+Xe,ui=newScreenPoint(ii,ti),ci=newScreenPoint(ii-oi,ti+ai),hi=newScreenPoint(ii+oi,ti+ai);await Je.drawLine([ci,ui,hi],OxyColors.CornflowerBlue,15,EdgeRenderingMode.PreferGeometricAccuracy,void 0,ri),Ze++}Qe++}})),Ke},ellipseDrawing=()=>{const Xe=new PlotModel;return Xe.annotations.push(new DelegateAnnotation(async We=>{const Ke=new OxyRect(60,20,600,200),Je=new Array(200),Ze=(Ke.left+Ke.right)/2,Qe=(Ke.top+Ke.bottom)/2,St=(Ke.right-Ke.left)/2,ei=(Ke.bottom-Ke.top)/2;for(let ti=0;ti<200;ti++){const ni=Math.PI*2*ti/199;Je[ti]=newScreenPoint(Ze+St*Math.cos(ni),Qe+ei*Math.sin(ni))}await We.drawPolygon(Je,OxyColors.Undefined,OxyColors.Black,4,EdgeRenderingMode.PreferGeometricAccuracy),await We.drawEllipse(Ke,OxyColors.Undefined,OxyColors.White,2,EdgeRenderingMode.PreferGeometricAccuracy),await We.drawText(newScreenPoint(360,120),"The white ellipse (drawn by Renderer) should match the black ellipse (drawn as Path).",OxyColors.Black,void 0,12,void 0,void 0,HorizontalAlignment.Center,VerticalAlignment.Middle)})),Xe},category$u="9 Rendering capabilities",RenderingCapabilities={category:category$u,examples:[{title:"DrawText - Colors",example:{model:drawTextColors}},{title:"DrawText - Fonts",example:{model:drawTextFonts}},{title:"DrawText - Font sizes",example:{model:drawTextFontSizes}},{title:"DrawText - Rotation",example:{model:drawTextRotation}},{title:"DrawText - Alignment",example:{model:drawTextAlignment}},{title:"DrawText - Multi-line Alignment",example:{model:drawTextMultiLineAlignment}},{title:"DrawMathText - Rotation",example:{model:mathTextRotation}},{title:"DrawMathText - Alignment",example:{model:drawMathTextAlignment}},{title:"DrawText - Alignment/Rotation",example:{model:drawTextAlignmentRotation}},{title:"DrawText - Multi-line Alignment/Rotation",example:{model:drawMultilineTextAlignmentRotation}},{title:"DrawText - MaxSize",example:{model:drawTextMaxSize}},{title:"MeasureText",example:{model:measureText}},{title:"Clipping",example:{model:clipping}},{title:"Rectangles - EdgeRenderingMode",example:{model:rectangles}},{title:"Lines - EdgeRenderingMode",example:{model:lines}},{title:"Polygons - EdgeRenderingMode",example:{model:polygons}},{title:"Ellipses - EdgeRenderingMode",example:{model:ellipses}},{title:"LineJoin",example:{model:lineJoins}},{title:"Ellipse Drawing",example:{model:ellipseDrawing}}]};function noInterpolation(){const je=new PlotModel({title:"No tracker interpolation",subtitle:"Used for discrete values or scatter plots."}),$e=new Legend({legendSymbolLength:30});je.legends.push($e);const Ve=new LineSeries({title:"Series 1",canTrackerInterpolatePoints:!1,color:OxyColors.SkyBlue,markerType:MarkerType.Circle,markerSize:6,markerStroke:OxyColors.White,markerFill:OxyColors.SkyBlue,markerStrokeThickness:1.5});for(let ze=0;ze<63;ze++){const qe=Math.round(Math.sqrt(ze)*Math.cos(ze*.1)),Xe=Math.round(Math.sqrt(ze)*Math.sin(ze*.1));Ve.points.push(newDataPoint(qe,Xe))}return je.series.push(Ve),je}function trackerChangedEvent(){const je=new PlotModel({title:"Handling the TrackerChanged event",subtitle:"Press the left mouse button to test the tracker."});return je.series.push(FunctionSeries.fromN(Math.sin,0,10,100)),je.trackerChanged=($e,Ve)=>{je.subtitle=Ve.hitResult?"Tracker item index = "+Ve.hitResult.index:"Not tracking",je.invalidatePlot(!1)},je}function trackerFiresDistance(){const je=new PlotModel({title:"Specified distance of the tracker fires",subtitle:"Press the left mouse button to test the tracker."});je.series.push(FunctionSeries.fromN(Math.sin,0,10,100));const $e=new PlotController;return $e.unbindViewCommand(PlotCommands.snapTrack),$e.unbindViewCommand(PlotCommands.snapTrackTouch),ControllerExtensions.bindMouseDown($e,OxyMouseButton.Left,new DelegatePlotCommand((Ve,ze,qe)=>ze.addMouseManipulator(Ve,new TrackerManipulator(Ve,{snap:!0,pointsOnly:!1,firesDistance:2,checkDistanceBetweenPoints:!0}),qe))),ControllerExtensions.bindTouchDown($e,new DelegatePlotCommand((Ve,ze,qe)=>ze.addTouchManipulator(Ve,new TouchTrackerManipulator(Ve,{snap:!0,pointsOnly:!1,firesDistance:2}),qe))),{model:()=>je,controller:()=>$e}}const category$t="Tracker",TrackerExamples={category:category$t,examples:[{title:"No interpolation",example:{model:noInterpolation}},{title:"TrackerChangedEvent",example:{model:trackerChangedEvent}},{title:"Specified distance of the tracker fires",example:trackerFiresDistance()}]},Exps=[FilteringExamples,ItemsSourceExamples,LegendExamples,MouseEventExamples,PerformanceExamples,PlotControllerExamples,PlotModelExamples,RenderingCapabilities,TrackerExamples],points=[{x:589.3649979,y:16.10595703},{x:437.9979935,y:16.10595703},{x:400.4249954,y:16.10595703},{x:399.1255264,y:16.05047607},{x:397.463356,y:15.92333984},{x:393.5852432,y:15.69073486},{x:389.8589859,y:15.88067627},{x:388.3866653,y:16.28186035},{x:387.3529739,y:16.96594238},{x:386.8373489,y:18.53930664},{x:387.2163773,y:20.51794434},{x:387.9814529,y:22.51843262},{x:388.6240005,y:24.15698242},{x:395.958992,y:45.09094238},{x:399.2686234,y:54.89562988},{x:402.1330338,y:64.90338135},{x:404.5822525,y:75.06884766},{x:406.6462479,y:85.34680176},{x:409.7385635,y:106.0593262},{x:411.6500015,y:126.6789551},{x:412.0961685,y:137.0930786},{x:412.0253677,y:147.4713135},{x:411.4655228,y:157.8103638},{x:410.4446182,y:168.1069336},{x:408.9906387,y:178.3577881},{x:407.1315689,y:188.5595703},{x:404.8953629,y:198.7091064},{x:402.3099747,y:208.8029785},{x:392.9860001,y:237.2509766},{x:392.1175613,y:240.0527954},{x:391.2060013,y:243.0959473},{x:390.5509415,y:246.1691284},{x:390.4520035,y:249.0609741},{x:391.406044,y:252.6694336},{x:393.1980057,y:256.0982056},{x:395.3566971,y:259.3631287},{x:397.4109879,y:262.47995},{x:411.7649918,y:287.7079468},{x:426.5997696,y:312.9102173},{x:441.8913651,y:337.8200684},{x:457.3402786,y:362.6333923},{x:472.6469803,y:387.5459595},{x:478.0007401,y:395.7557983},{x:483.6958694,y:403.8400879},{x:489.2894974,y:411.9628296},{x:494.3389969,y:420.2879639},{x:494.9800491,y:421.8480225},{x:495.4455032,y:423.6903687},{x:496.1577225,y:427.7724609},{x:497.0915604,y:431.6355591},{x:497.8341141,y:433.2041321},{x:498.8629837,y:434.3809509},{x:500.0935135,y:434.9877625},{x:501.7391434,y:435.3059082},{x:505.7623367,y:435.3148193},{x:509.9061356,y:434.8848267},{x:511.7024612,y:434.6542969},{x:513.1439896,y:434.4929504},{x:520.0768509,y:434.1251831},{x:527.3961258,y:434.1952209},{x:534.6892776,y:434.728363},{x:541.544014,y:435.7499695},{x:544.2357864,y:436.3025513},{x:547.021492,y:437.0792236},{x:549.6099319,y:438.2590027},{x:551.7099686,y:440.0209656},{x:552.7028275,y:441.4446106},{x:553.2691116,y:442.791626},{x:553.4498978,y:444.0619202},{x:553.2864456,y:445.2554626},{x:552.0910721,y:447.4119873},{x:550.0122147,y:449.2607117},{x:547.3790359,y:450.8010864},{x:544.5206985,y:452.0325928},{x:541.766304,y:452.9547119},{x:539.445015,y:453.5669556},{x:539.445015,y:454.6409607},{x:542.6554031,y:455.4246521},{x:546.0063553,y:455.8735962},{x:549.2799149,y:456.4869385},{x:552.2580032,y:457.7639465},{x:554.3335648,y:459.5966797},{x:555.6600418,y:461.8208313},{x:556.278389,y:464.282959},{x:556.2294998,y:466.8295898},{x:555.55439,y:469.307251},{x:554.2939529,y:471.5625},{x:552.4892044,y:473.4418945},{x:550.1809769,y:474.7919617},{x:547.1414261,y:475.8059387},{x:543.8482132,y:476.5288391},{x:537.2979813,y:477.0559692},{x:535.5239944,y:476.8666077},{x:533.5114822,y:476.5535889},{x:531.5334549,y:476.4162598},{x:529.8629837,y:476.7539673},{x:529.0471268,y:477.3421631},{x:528.5394363,y:478.1289673},{x:528.1448441,y:480.0927124},{x:528.071846,y:482.2338257},{x:527.7129593,y:484.1409607},{x:526.901741,y:485.4877014},{x:525.8139114,y:486.4950867},{x:523.0528641,y:487.6643372},{x:519.9188919,y:487.9933777},{x:516.9010086,y:487.8269653},{x:511.7325516,y:486.9451599},{x:506.4563065,y:485.4539185},{x:501.155159,y:483.4500427},{x:495.912117,y:481.0302124},{x:485.9321365,y:475.3295898},{x:481.3610916,y:472.2423096},{x:477.1800003,y:469.125946},{x:465.3709793,y:459.3179626},{x:464.3509598,y:458.3116455},{x:463.1867142,y:457.1624451},{x:461.9141312,y:456.2180176},{x:460.5689774,y:455.8259583},{x:459.6923904,y:456.0762939},{x:458.8656693,y:456.7503662},{x:457.3631058,y:458.907959},{x:456.063179,y:461.3753052},{x:455.4898758,y:462.436554},{x:454.9679642,y:463.2289734},{x:453.0795364,y:465.3183289},{x:450.8528519,y:467.2734985},{x:448.3575516,y:468.9848328},{x:445.6630936,y:470.3425903},{x:442.83918,y:471.2370605},{x:439.9552689,y:471.5585938},{x:437.0810318,y:471.1974487},{x:434.2859879,y:470.0439453},{x:432.4744034,y:468.6621399},{x:431.3244705,y:467.0726013},{x:430.7551956,y:465.3302612},{x:430.6856155,y:463.4900818},{x:431.0347672,y:461.6070251},{x:431.7216873,y:459.7360229},{x:433.7849808,y:456.2499695},{x:438.1093216,y:450.118988},{x:441.4749832,y:444.3893433},{x:444.0351639,y:438.28302},{x:445.0610428,y:434.845459},{x:445.9430008,y:431.0219727},{x:446.6270218,y:428.7687378},{x:447.4476395,y:426.4767151},{x:447.9032059,y:424.1760559},{x:447.492012,y:421.8969727},{x:445.6156082,y:418.2295837},{x:443.3608475,y:414.6139832},{x:438.1008682,y:407.5364685},{x:432.48069,y:400.6614685},{x:427.2689896,y:393.9859619},{x:389.1699905,y:339.2359619},{x:374.5550003,y:318.3009644},{x:372.5515823,y:314.8404541},{x:370.2787552,y:310.9485779},{x:367.7467728,y:307.2946777},{x:366.3868484,y:305.7660828},{x:364.9659805,y:304.5479736},{x:363.9477615,y:304.0406799},{x:363.082222,y:304.0159912},{x:361.6236038,y:304.9024658},{x:360.2191849,y:306.1834412},{x:359.4213638,y:306.651886},{x:358.4979935,y:306.8349609},{x:356.6694107,y:306.4464722},{x:354.9371109,y:305.5308228},{x:353.2544937,y:304.4515076},{x:351.5749893,y:303.5719604},{x:343.4895706,y:301.1234131},{x:335.0169449,y:299.8048401},{x:326.3076553,y:299.5128174},{x:317.5122147,y:300.1439514},{x:308.7811966,y:301.5948486},{x:300.2651443,y:303.762085},{x:292.1145401,y:306.5422668},{x:284.4799881,y:309.8319702},{x:282.3371964,y:310.7483521},{x:279.925972,y:311.644928},{x:274.7942581,y:313.5763245},{x:270.0769119,y:316.0212708},{x:268.1836319,y:317.559845},{x:266.7659988,y:319.3749695},{x:271.6227798,y:320.1968384},{x:276.5877457,y:321.7830811},{x:281.472847,y:323.7190247},{x:286.090004,y:325.5899658},{x:298.3649979,y:330.7419739},{x:310.3880997,y:336.8226929},{x:321.8024063,y:343.941803},{x:332.2509842,y:352.2089539},{x:339.2033768,y:358.533844},{x:342.4841385,y:361.901825},{x:345.4439774,y:365.5359497},{x:346.445076,y:367.0002136},{x:347.3386307,y:368.7592163},{x:347.6443558,y:370.5680847},{x:347.4267044,y:371.4147034},{x:346.8819962,y:372.1819458},{x:345.387001,y:372.7861023},{x:343.5981216,y:372.4627075},{x:341.8064041,y:371.7001953},{x:340.3029861,y:370.986969},{x:336.1688919,y:369.4472046},{x:331.5998611,y:368.1002197},{x:326.9541702,y:367.1023254},{x:322.5899734,y:366.6099548},{x:324.6785049,y:369.6851501},{x:327.4601212,y:372.3129578},{x:330.467659,y:374.7735291},{x:333.2339859,y:377.3469543},{x:338.3369217,y:383.6273193},{x:342.70298,y:390.7063293},{x:344.4534683,y:394.4726563},{x:345.8323135,y:398.3514099},{x:346.7769547,y:402.3135376},{x:347.2249832,y:406.3299561},{x:346.8078384,y:412.0097046},{x:345.1297989,y:416.5983276},{x:342.383522,y:420.1838074},{x:338.7616043,y:422.8540955},{x:334.4566727,y:424.6971741},{x:329.6613541,y:425.8010559},{x:324.5682449,y:426.2536621},{x:319.3700027,y:426.1429749},{x:315.144783,y:425.6447144},{x:311.0141983,y:424.7691345},{x:303.0388565,y:422.0056763},{x:295.4478226,y:418.0917969},{x:288.2450027,y:413.2668457},{x:281.4342422,y:407.769989},{x:275.0194168,y:401.8405762},{x:269.0043716,y:395.717804},{x:263.393013,y:389.6409607},{x:255.0782547,y:379.5436707},{x:247.6409988,y:368.3999634},{x:244.4098587,y:362.5210571},{x:241.5882645,y:356.4829712},{x:239.2395096,y:350.3198853},{x:237.4270096,y:344.0659485},{x:236.2694168,y:338.2407532},{x:235.5486526,y:332.3677368},{x:235.0773697,y:320.528717},{x:235.3326797,y:308.6495667},{x:235.6340103,y:296.8309631},{x:233.1889725,y:297.9562988},{x:230.9140091,y:299.4570923},{x:226.5090103,y:302.6929626},{x:206.6489944,y:315.875946},{x:157.2670059,y:346.7819519},{x:136.8219986,y:360.059967},{x:132.2092514,y:363.0340881},{x:130.0033798,y:364.6920166},{x:128.1559982,y:366.6599731},{x:127.0190811,y:368.5368958},{x:126.298027,y:370.4631348},{x:125.9532547,y:372.4280701},{x:125.9451218,y:374.4211121},{x:126.7804031,y:378.4490356},{x:128.4870071,y:382.4620972},{x:130.748024,y:386.3754272},{x:133.2466202,y:390.104248},{x:135.6659012,y:393.5636902},{x:137.689003,y:396.6689453},{x:139.2043839,y:400.197052},{x:139.5524673,y:402.0329285},{x:139.5626297,y:403.8374634},{x:139.1861954,y:405.551239},{x:138.3745499,y:407.1148682},{x:137.0790329,y:408.4689026},{x:135.2509995,y:409.5539551},{x:132.8812943,y:410.31427},{x:130.5507584,y:410.5262146},{x:128.270546,y:410.2424316},{x:126.0518265,y:409.5155334},{x:123.9057388,y:408.3982239},{x:121.8434372,y:406.9431458},{x:118.0148697,y:403.2301941},{x:114.6553879,y:398.7979126},{x:111.8542252,y:394.0675049},{x:109.7006912,y:389.4601135},{x:108.2840042,y:385.3969727},{x:107.7778549,y:382.5092468},{x:107.3788681,y:379.2887268},{x:106.6309433,y:376.2470703},{x:105.0779953,y:373.8959656},{x:103.1701126,y:372.6677246},{x:100.7825394,y:371.7599487},{x:95.13137054,y:370.6252136},{x:89.25051117,y:369.9303284},{x:86.57584381,y:369.5724182},{x:84.26599884,y:369.1139526},{x:78.20024872,y:367.3027649},{x:71.70685577,y:364.820343},{x:65.1133194,y:361.6892395},{x:58.74712372,y:357.9318237},{x:52.93579102,y:353.5706482},{x:48.00682831,y:348.6281433},{x:45.97557068,y:345.9458923},{x:44.28772736,y:343.1267395},{x:42.98422241,y:340.1734924},{x:42.10599518,y:337.0889587},{x:41.90753937,y:335.2592163},{x:42.08698273,y:333.7605286},{x:43.18836975,y:331.3730774},{x:44.62782288,y:329.1598206},{x:45.6230011,y:326.3539734},{x:45.62973022,y:324.9945984},{x:45.33054352,y:323.6192627},{x:44.36862183,y:320.8330994},{x:43.98298645,y:319.4284058},{x:43.84563446,y:318.0201111},{x:44.09512329,y:316.6112671},{x:44.86999512,y:315.2049561},{x:45.80908966,y:314.2088623},{x:46.79941559,y:313.5540161},{x:48.9025116,y:313.1113892},{x:51.11682129,y:313.5637512},{x:53.37987518,y:314.5978394},{x:57.8022995,y:317.1580811},{x:59.83672333,y:318.0577087},{x:61.6700058,y:318.2859497},{x:62.82819366,y:317.6254883},{x:63.23600006,y:316.3283386},{x:63.24330902,y:314.8067627},{x:63.20000458,y:313.4729614},{x:63.68109894,y:310.3050232},{x:64.93375397,y:307.6513367},{x:67.09728241,y:305.979187},{x:68.56415558,y:305.6572571},{x:70.31099701,y:305.7559509},{x:73.2078476,y:306.4935913},{x:76.04866791,y:307.6478271},{x:81.46486664,y:310.9243164},{x:86.36489105,y:315.0218811},{x:90.55399323,y:319.3769531},{x:92.14154816,y:321.4163208},{x:93.72263336,y:323.6399536},{x:95.39614105,y:325.7593689},{x:97.26099396,y:327.4859619},{x:98.87421417,y:328.2453918},{x:100.5960007,y:328.4575806},{x:104.1259995,y:328.1189575},{x:107.9671097,y:328.0540771},{x:112.0256271,y:328.345459},{x:116.0258255,y:328.4305725},{x:119.6919937,y:327.7469482},{x:122.6980515,y:326.2321777},{x:125.5723801,y:324.1764526},{x:128.3242722,y:321.9129944},{x:130.9630051,y:319.7749634},{x:158.6139908,y:297.5969543},{x:183.9269943,y:278.8919678},{x:215.7729874,y:251.3609619},{x:222.6591263,y:245.7957153},{x:229.6908646,y:240.2703247},{x:236.5836563,y:234.5932617},{x:243.0529861,y:228.572937},{x:246.137764,y:224.8230591},{x:248.7661209,y:220.4605103},{x:251.0138321,y:215.6484985},{x:252.9567337,y:210.5499878},{x:256.2312393,y:200.1459351},{x:257.7144547,y:195.1665039},{x:259.1959915,y:190.5529785},{x:263.9845047,y:175.0708008},{x:267.8167191,y:159.2056274},{x:270.6394424,y:143.0612183},{x:272.3993607,y:126.7412109},{x:273.043251,y:110.3493042},{x:272.5178299,y:93.98913574},{x:270.7698441,y:77.76446533},{x:267.7460098,y:61.77893066},{x:260.9010086,y:28.45196533},{x:260.3377457,y:25.5088501},{x:259.7099991,y:22.24182129},{x:258.5879898,y:19.265625},{x:257.7073746,y:18.07867432},{x:256.5419998,y:17.19494629},{x:254.5226212,y:16.44396973},{x:252.1078568,y:16.0401001},{x:246.5816116,y:15.96911621},{x:240.9423294,y:16.37298584},{x:238.3862076,y:16.56274414},{x:236.1689835,y:16.64294434},{x:185.1770096,y:17.17895508},{x:0,y:16.64294434},{x:0,y:.53894043},{x:188.9400101,y:.53894043},{x:242.0799942,y:.53894043},{x:244.6571732,y:.474975586},{x:247.5546951,y:.33001709},{x:253.8458633,y:.078552246},{x:260.0235977,y:.347839355},{x:262.779335,y:.853759766},{x:265.1579971,y:1.70098877},{x:266.7366104,y:2.746398926},{x:268.0821915,y:4.172119141},{x:270.1900101,y:7.797119141},{x:271.7128067,y:11.84075928},{x:272.8819962,y:15.56799316},{x:276.034523,y:25.44775391},{x:279.0441055,y:35.50836182},{x:281.6616287,y:45.66326904},{x:283.6380081,y:55.82598877},{x:285.7761917,y:72.32995605},{x:287.0616837,y:88.9072876},{x:287.4597855,y:105.5118408},{x:286.9358597,y:122.0977173},{x:285.4552994,y:138.6187744},{x:282.9833755,y:155.0289917},{x:279.4855118,y:171.2824097},{x:274.9270096,y:187.3329468},{x:271.4097672,y:198.2474976},{x:267.3623734,y:209.4165039},{x:262.4050369,y:220.1444092},{x:259.4664688,y:225.1257324},{x:256.1579971,y:229.7359619},{x:249.3205032,y:237.2365723},{x:241.720253,y:244.1188354},{x:233.794136,y:250.6709595},{x:225.9790115,y:257.1809692},{x:195.5280228,y:282.9415894},{x:164.2490005,y:307.6559448},{x:141.1689987,y:324.8109741},{x:133.2555008,y:330.7440796},{x:129.0609055,y:333.3323975},{x:124.5289993,y:335.2859497},{x:122.1544113,y:335.8482361},{x:119.7157364,y:336.0837402},{x:114.7126236,y:335.969696},{x:109.6527023,y:335.7345581},{x:104.6689987,y:336.1689453},{x:102.779686,y:336.7739563},{x:100.6949997,y:337.5380859},{x:98.61257172,y:337.9761353},{x:96.73000336,y:337.6029663},{x:94.59128571,y:335.8127136},{x:92.66425323,y:333.2740784},{x:90.92359161,y:330.5338745},{x:89.34400177,y:328.1389465},{x:87.08150482,y:325.4346313},{x:84.48600006,y:322.8813171},{x:78.90499115,y:318.3849487},{x:77.3181076,y:317.091217},{x:75.22336578,y:315.5139465},{x:73.02420807,y:314.5059509},{x:72.01151276,y:314.4819031},{x:71.12400055,y:314.9199524},{x:70.59803009,y:315.7275085},{x:70.51831818,y:316.7388916},{x:71.29537201,y:319.0906982},{x:72.65048981,y:321.4106445},{x:73.77899933,y:323.1339722},{x:77.82125092,y:329.0054626},{x:80.16477203,y:331.7309265},{x:82.71099091,y:334.177948},{x:84.92420197,y:335.9799805},{x:87.10187531,y:337.9599609},{x:88.68236542,y:340.2526855},{x:89.07314301,y:341.5584412},{x:89.10399628,y:342.9929504},{x:89.61742401,y:343.8485413},{x:89.34513092,y:344.4684448},{x:88.5472641,y:344.7538757},{x:87.48400116,y:344.605957},{x:85.91378021,y:343.8370972},{x:84.39550018,y:342.7818298},{x:81.58899689,y:340.4889526},{x:78.80124664,y:338.1679382},{x:75.64672089,y:335.4441223},{x:68.57024384,y:329.6803589},{x:64.81476593,y:327.0864868},{x:61.02541351,y:324.9821167},{x:57.28540802,y:323.5902405},{x:53.6780014,y:323.1339722},{x:55.6113739,y:326.1587524},{x:58.03131866,y:328.9006653},{x:63.8632431,y:333.7370911},{x:70.23856354,y:338.0457153},{x:76.22199249,y:342.2289734},{x:77.03455353,y:342.7995605},{x:78.11525726,y:343.5061951},{x:80.57563019,y:345.232605},{x:82.59217072,y:347.217926},{x:83.11811066,y:348.24823},{x:83.15399933,y:349.2719727},{x:82.68766022,y:350.0397949},{x:81.87210846,y:350.3486328},{x:79.6248703,y:349.9825745},{x:77.27544403,y:348.9604797},{x:76.33216095,y:348.4492188},{x:75.68700409,y:348.0689697},{x:66.5876236,y:342.1790771},{x:61.90306854,y:339.4937744},{x:56.897995,y:337.35495},{x:55.17505646,y:336.726532},{x:53.01000214,y:336.1444702},{x:51.04743958,y:336.2538757},{x:50.34353638,y:336.7695007},{x:49.93199921,y:337.6999512},{x:50.0814743,y:339.3566589},{x:51.06142426,y:341.0038757},{x:52.65550232,y:342.6039124},{x:54.64737701,y:344.1190796},{x:58.95914459,y:346.743988},{x:60.84635162,y:347.7783203},{x:62.26599884,y:348.5769653},{x:70.1079483,y:352.9052734},{x:78.1873703,y:356.6586914},{x:86.4916153,y:359.8837585},{x:95.00800323,y:362.6269531},{x:96.84983063,y:363.0866394},{x:98.97579193,y:363.5275574},{x:103.6091232,y:364.5426941},{x:107.965889,y:366.0517273},{x:109.7461472,y:367.1099854},{x:111.1039963,y:368.43396},{x:112.0068741,y:370.5414429},{x:112.4139938,y:373.21521},{x:112.6441269,y:375.9950867},{x:113.0159988,y:378.4209595},{x:113.902565,y:381.2496643},{x:115.2284775,y:384.6081543},{x:116.9393082,y:388.2300415},{x:118.980629,y:391.8488464},{x:121.2979813,y:395.1981506},{x:123.8369522,y:398.0115662},{x:126.5430984,y:400.022644},{x:129.3619919,y:400.9649658},{x:128.5566483,y:397.5397949},{x:126.8852463,y:394.5133362},{x:124.8594742,y:391.6261902},{x:122.9910049,y:388.6189575},{x:120.504631,y:382.5281982},{x:119.1972427,y:376.1178589},{x:119.0547104,y:372.875061},{x:119.2897568,y:369.6510315},{x:119.9299698,y:366.4787292},{x:121.0029984,y:363.3909607},{x:122.9761124,y:359.8041687},{x:125.5510788,y:356.6000061},{x:128.5915298,y:353.7098083},{x:131.9611282,y:351.0648499},{x:139.1423569,y:346.2359619},{x:146.0040054,y:341.5639648},{x:153.3126602,y:336.4172363},{x:160.8510056,y:331.6148376},{x:176.060997,y:322.2139587},{x:223.2120132,y:292.0619507},{x:241.0090103,y:281.0089722},{x:244.4554214,y:278.2832642},{x:248.0213699,y:275.5827026},{x:251.8383865,y:273.5125122},{x:253.8821487,y:272.9029541},{x:256.038002,y:272.677948},{x:255.5765762,y:275.73526},{x:254.4421158,y:278.3285828},{x:252.9171219,y:280.7803345},{x:251.2840042,y:283.4129639},{x:249.1513138,y:287.4288635},{x:247.2273636,y:291.7029724},{x:245.725502,y:296.1263123},{x:244.8589859,y:300.5899658},{x:244.4298477,y:307.2876587},{x:244.5635757,y:313.9535828},{x:245.2291336,y:320.570282},{x:246.3955154,y:327.1204224},{x:248.0315933,y:333.5866089},{x:250.1063919,y:339.951416},{x:252.5888138,y:346.1975098},{x:255.4478531,y:352.3074646},{x:262.1715469,y:364.0494385},{x:270.0290298,y:375.0382385},{x:278.7719803,y:385.1347656},{x:288.1519852,y:394.1999512},{x:294.92173,y:399.6752014},{x:302.1428604,y:404.5257263},{x:309.7718277,y:408.7135925},{x:317.7649918,y:412.2009583},{x:322.0982132,y:413.5901184},{x:326.4935989,y:414.2129517},{x:328.6687698,y:414.1019592},{x:330.8044205,y:413.6372986},{x:332.8823013,y:412.7649841},{x:334.8839798,y:411.4309692},{x:336.700325,y:409.4726868},{x:337.756813,y:407.2593689},{x:338.1652908,y:404.8675537},{x:338.0374832,y:402.3738403},{x:337.4851761,y:399.8547668},{x:336.6201553,y:397.3868713},{x:334.3989944,y:392.9109497},{x:331.2719803,y:388.0760193},{x:327.7468643,y:383.5949097},{x:319.7087479,y:375.5498352},{x:310.6974869,y:368.4870605},{x:301.1259842,y:362.1179504},{x:289.341011,y:355.3789673},{x:288.3749161,y:354.5166321},{x:287.4871292,y:353.3829651},{x:287.1665115,y:352.1690369},{x:287.3716812,y:351.5917053},{x:287.9019852,y:351.0659485},{x:290.0786819,y:350.5000305},{x:292.8593826,y:350.8098145},{x:295.6623917,y:351.5259399},{x:297.9060135,y:352.1789551},{x:300.6676102,y:353.0059814},{x:303.7700882,y:354.0613708},{x:310.5398636,y:356.3453369},{x:313.9782486,y:357.3178101},{x:317.2997208,y:358.0065918},{x:320.3897781,y:358.2836609},{x:323.1339798,y:358.0209656},{x:311.4509048,y:349.4853516},{x:299.2507401,y:341.6953125},{x:286.5124283,y:334.8171387},{x:273.215004,y:329.0169678},{x:258.7229996,y:323.8179626},{x:257.2878494,y:323.337738},{x:255.7744827,y:322.6670837},{x:254.4943924,y:321.7168884},{x:253.7590103,y:320.3979492},{x:253.827034,y:319.0723267},{x:254.5322647,y:317.7234802},{x:255.711647,y:316.3885193},{x:257.2022476,y:315.1045837},{x:260.465126,y:312.8383789},{x:261.9114456,y:311.9303589},{x:263.0170059,y:311.2219543},{x:271.8112259,y:305.8678284},{x:281.198616,y:301.1617126},{x:290.8884659,y:297.0829773},{x:300.590004,y:293.6109619},{x:310.0823746,y:291.1308289},{x:319.4608536,y:289.9150696},{x:328.9314041,y:289.7652893},{x:338.6999893,y:290.4829712},{x:354.2659988,y:293.3499451},{x:355.8602982,y:293.1119995},{x:357.197731,y:292.2803345},{x:358.3595047,y:291.0731506},{x:359.4267349,y:289.7085876},{x:360.4805679,y:288.4048157},{x:361.6021194,y:287.3800049},{x:362.8725357,y:286.8523254},{x:364.3729935,y:287.0399475},{x:365.9158707,y:287.8427734},{x:367.3995438,y:289.0066833},{x:370.1699905,y:292.0510864},{x:372.6456985,y:295.4399109},{x:374.788002,y:298.4399719},{x:394.8579788,y:325.8149719},{x:397.3873978,y:329.0663757},{x:399.9987259,y:332.6233521},{x:402.1026993,y:336.3991089},{x:402.7802811,y:338.3419189},{x:403.109993,y:340.3069458},{x:403.7992325,y:340.2913818},{x:404.1172256,y:340.3743286},{x:404.2001114,y:340.691864},{x:404.1839981,y:341.3799744},{x:405.9170609,y:342.5977478},{x:407.5672379,y:344.3135681},{x:410.6323624,y:348.6974487},{x:413.4063187,y:353.4481201},{x:414.6925125,y:355.6223755},{x:415.9159927,y:357.4819641},{x:446.1409988,y:402.5239563},{x:447.8941116,y:404.6854248},{x:449.9755325,y:406.9086609},{x:454.483345,y:411.5653381},{x:456.5896683,y:414.0111694},{x:458.3842239,y:416.5435791},{x:459.7070389,y:419.1687927},{x:460.3980179,y:421.8929749},{x:460.330513,y:423.2209473},{x:459.8673782,y:424.4043274},{x:458.1563797,y:426.4813232},{x:456.0694046,y:428.4118958},{x:454.4110184,y:430.4839478},{x:453.6341629,y:432.6287231},{x:453.2503738,y:434.9552002},{x:452.6709671,y:439.6079712},{x:451.6133499,y:443.3995361},{x:450.0984573,y:447.2178345},{x:448.1988602,y:450.8544312},{x:445.9870071,y:454.1009521},{x:445.2327957,y:454.9499512},{x:444.120369,y:456.1347046},{x:441.6337357,y:459.0782166},{x:440.6658401,y:460.6203003},{x:440.1524734,y:462.0648193},{x:440.2967911,y:463.3034973},{x:441.3020096,y:464.2279663},{x:443.0089798,y:464.4325867},{x:444.7705154,y:463.7559509},{x:446.3872757,y:462.6180725},{x:447.6599808,y:461.4389648},{x:449.96418,y:458.7336426},{x:451.896492,y:455.7789612},{x:454.7979813,y:449.3179626},{x:455.2873001,y:447.6248474},{x:455.8775101,y:445.8508301},{x:456.8382034,y:444.3796387},{x:458.4389725,y:443.5949707},{x:460.0345535,y:443.7620239},{x:461.7698441,y:444.6128235},{x:463.5780106,y:445.9676208},{x:465.3921585,y:447.6465759},{x:468.7708817,y:451.2580566},{x:470.2016678,y:452.8309631},{x:471.3709793,y:454.0089722},{x:478.8518143,y:460.0104675},{x:486.9943924,y:465.3340759},{x:495.4878006,y:470.1171265},{x:504.0210037,y:474.4969482},{x:509.5540848,y:477.1457214},{x:515.2860184,y:479.3189697},{x:516.4008255,y:479.6032104},{x:517.6022415,y:479.6870728},{x:518.5872879,y:479.3061523},{x:519.0529861,y:478.1959534},{x:518.8626175,y:476.8864441},{x:518.1857986,y:475.7019958},{x:515.84095,y:473.7122192},{x:512.9545975,y:472.234314},{x:510.4629593,y:471.2759705},{x:507.6074905,y:470.256958},{x:504.0599442,y:468.8930969},{x:496.255867,y:465.2143555},{x:492.682869,y:462.9411621},{x:489.7850418,y:460.4066467},{x:487.9041214,y:457.6316223},{x:487.4518509,y:456.1604309},{x:487.3819656,y:454.6369629},{x:491.1286697,y:455.6597595},{x:494.7612381,y:457.2131958},{x:498.3274002,y:458.9732666},{x:501.8750076,y:460.6159668},{x:508.6896439,y:463.2619934},{x:515.7986526,y:465.5415649},{x:523.0577469,y:467.2131042},{x:530.3230057,y:468.0349731},{x:536.5177689,y:468.0764465},{x:542.669014,y:467.3979492},{x:543.9200516,y:466.9833069},{x:545.0242386,y:466.2348328},{x:545.5588455,y:465.2004089},{x:545.1009598,y:463.927948},{x:544.175972,y:463.0953064},{x:542.9511795,y:462.4622803},{x:539.9430008,y:461.6712036},{x:536.7585526,y:461.3072815},{x:534.0799637,y:461.1229553},{x:520.8706131,y:459.9545898},{x:514.2815628,y:459.0859985},{x:507.7789993,y:457.8509521},{x:506.4525833,y:457.5542603},{x:504.8121414,y:457.1582336},{x:501.1944656,y:455.9819641},{x:499.5198441,y:455.1585083},{x:498.1362991,y:454.1494141},{x:497.1952591,y:452.9331055},{x:496.8479691,y:451.4879456},{x:497.117012,y:450.6549377},{x:497.8393021,y:450.1732788},{x:500.1341019,y:449.9840698},{x:502.7133255,y:450.3605652},{x:503.7911453,y:450.5859985},{x:504.557991,y:450.7429504},{x:511.3823318,y:451.3563843},{x:518.3227615,y:451.0169373},{x:525.2244949,y:449.9740295},{x:531.932991,y:448.4769592},{x:532.8128738,y:448.2760315},{x:534.1250076,y:447.9761353},{x:537.3393631,y:447.0833435},{x:538.8882523,y:446.4923706},{x:540.1627884,y:445.8063354},{x:540.9862747,y:445.0262146},{x:541.1820145,y:444.1529541},{x:540.6489334,y:443.4705505},{x:539.4853592,y:443.0022888},{x:537.8792191,y:442.7068176},{x:536.0183792,y:442.5428467},{x:532.2842484,y:442.4439392},{x:530.7866898,y:442.4263916},{x:529.7860184,y:442.3749695},{x:522.7177811,y:441.8120117},{x:515.5401077,y:441.6993408},{x:501.2470169,y:442.2559509},{x:498.6232986,y:442.5908508},{x:495.6024857,y:442.9595947},{x:492.7076492,y:442.7930298},{x:491.4709549,y:442.3311157},{x:490.4619827,y:441.5219727},{x:489.3800125,y:439.9010925},{x:488.6179276,y:438.0290833},{x:487.6418533,y:433.8266907},{x:486.7113724,y:429.5046997},{x:486.0061722,y:427.4831848},{x:485.0039749,y:425.6529541},{x:464.5570145,y:397.51297},{x:441.859993,y:359.0939636},{x:419.5407486,y:322.4837036},{x:397.7539749,y:285.5569458},{x:392.6534195,y:277.3995361},{x:387.2727432,y:269.1647034},{x:382.4174271,y:260.6722412},{x:380.4385147,y:256.2730713},{x:378.8929825,y:251.7419434},{x:378.4342422,y:247.8017578},{x:378.8919754,y:243.618103},{x:379.8762283,y:239.4705811},{x:380.9969864,y:235.6389771},{x:388.6119766,y:208.7999878},{x:391.0815811,y:198.9997559},{x:393.3593521,y:188.8963623},{x:395.3594131,y:178.5748901},{x:396.9958572,y:168.1204834},{x:398.1828384,y:157.6182251},{x:398.8344498,y:147.1533203},{x:398.8647842,y:136.8108521},{x:398.1879959,y:126.6759644},{x:395.2633438,y:103.3844604},{x:393.3301468,y:91.60638428},{x:390.9952469,y:79.85656738},{x:388.1928177,y:68.22253418},{x:384.8570328,y:56.79168701},{x:380.9220352,y:45.65136719},{x:376.3219986,y:34.88897705},{x:371.1558609,y:23.22259521},{x:366.6760025,y:11.27197266},{x:365.8827591,y:9.214355469},{x:365.0445023,y:6.805603027},{x:364.7049942,y:4.406799316},{x:364.892189,y:3.323974609},{x:365.4079971,y:2.378967285},{x:366.5955276,y:1.439331055},{x:368.2348099,y:.826660156},{x:372.3311234,y:.333557129},{x:376.6218643,y:.40246582},{x:378.5041885,y:.4921875},{x:380.0319901,y:.535949707},{x:420.2889786,y:0},{x:527.1040115,y:0},{x:558.0751419,y:.09362793},{x:573.5140457,y:.204589844},{x:588.6629715,y:.352966309},{x:588.6629715,y:.352966309}],lineaPoints=points.map(je=>newDataPoint(je.x,je.y));function numericOdeSolvers1(){return numericOdeSolvers("Numeric ODE solvers","y'=y, y(0)=1",0,1,Math.exp,(je,$e)=>$e)}function numericOdeSolvers2(){return numericOdeSolvers("Numeric ODE solvers","y'=x, y(0)=0",0,0,je=>.5*je*je,(je,$e)=>je)}function numericOdeSolvers3(){return numericOdeSolvers("Numeric ODE solvers","y'=cos(x), y(0)=0",0,0,Math.sin,(je,$e)=>Math.cos(je))}function trainSchedule(){const je=new PlotModel({title:"Train schedule",subtitle:"Bergensbanen (Oslo-Bergen, Norway)",isLegendVisible:!1,plotAreaBorderColor:OxyColors.LightGray}),$e=new LinearAxis({position:AxisPosition.Left,minimum:-20,maximum:540,title:"Distance from Oslo S",isAxisVisible:!0});je.axes.push($e);const Ve=new CustomAxis({majorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColors.LightGray,minimum:$e.minimum,maximum:$e.maximum,position:AxisPosition.Right,isPanEnabled:!1,isZoomEnabled:!1,majorTickSize:0});$e.axisChanged=(Qe,St)=>{Ve.minimum=$e.actualMinimum,Ve.maximum=$e.actualMaximum},je.axes.push(Ve),je.axes.push(new TimeSpanAxis({position:AxisPosition.Bottom,minimum:0,maximum:TimeSpanAxis.toDouble(TimeSpan.fromHours(24)),stringFormatter:Qe=>Math.abs(Qe.hours).toString().padStart(2,"0"),title:"Time",majorStep:TimeSpanAxis.toDouble(TimeSpan.fromHours(1)),minorStep:TimeSpanAxis.toDouble(TimeSpan.fromMinutes(10)),tickStyle:TickStyle.None,majorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColors.LightGray,minorGridlineStyle:LineStyle.Solid,minorGridlineColor:OxyColor.fromArgb(255,240,240,240)}));const ze=`Stasjon;km;moh;609;61;601;1405;607;603;63;605;62;602;608;604;64;610;1404;606
Oslo;0.00;4.0;0631;0811;1037;;1227;1437;1609;2311;1432;1736;1956;2210;2236;2348;;0626
Lysaker;7.00;7.5;0642;0822;1048;;1238;1448;1620;2322;1420;1724;1944;2158;2224;;;
Asker;23.83;104.6;0653;0832;1059;;1249;1458;1630;2334;1409;1713;1932;2144;2214;2324;;0555
Drammen;52.86;2.2;0708;0846;1115;;1303;1513;1645;2351;1354;1701;1914;2125;2201;2307;;0540
Hokksund;70.22;8.0;;;1136;;1320;1531;;0007;;1638;1854;2111;2140;;;0525
Vikersund;95.91;67.1;;;1158;;1349;1552;;0029;;1617;1833;2048;;;;0503
Hønefoss;124.21;96.8;0804;0937;1222;;1414;1619;1736;0056;1304;1555;1811;2025;2100;2201;;0442
Flå;186.64;155.0;;;1314;;;1712;;;;1503;1715;1934;;2108;;0349
Nesbyen;220.06;168.8;;1045;1340;;1532;1744;1845;0223;1152;1436;1643;1909;1949;2041;;0321
Gol;237.02;207.4;0930;1100;1354;;1545;1800;1900;0239;1141;1423;1630;1858;1938;2028;;0308
Ål;262.85;436.6;0950;1123;1419;1520;1608;1832;1921;0305;1121;1400;1609;1833;1919;2007;1957;0246
Geilo;287.38;794.2;1013;1145;1442;1545;1630;1855;1942;0328;1059;1339;1547;1812;1857;1946;1939;0224
Ustaoset;299.31;990.6;;1156;1454;1556;1643;1905;1953;0341;1048;1326;1536;1800;1845;;1927;0209
Haugastøl;310.14;988.0;1042;;1505;1606;1655;1916;;0352;;1315;1527;1750;;1922;;0158
Finse;336.74;1222.2;1108;1224;1526;1626;1717;1937;2021;0417;1019;1254;1508;1730;1818;1900;1854;0138
Hallingskeid;357.44;1110.1;1123;;1538;1637;1732;1950;;;;1239;1454;1711;;1842;1839;
Myrdal;370.44;866.8;1137;1253;1551;1650;1746;2003;2045;0445;0953;1225;1440;1657;1752;1828;1825;0105
;370.44;866.8;1220;1258;1556;1652;1751;2004;2047;0445;0950;1220;1439;1652;1750;1823;1822;0101
// Upsete;376.79;850.2;;;;;;;;;;;;;;;;
// Mjølfjell;388.86;627.2;;;;;;;;;;;;;;;;
Voss;419.96;56.5;1312;1343;1640;1738;1836;2048;2130;0537;0910;1139;1355;1608;1710;1736;1740;0015
Dale;459;43.4;;;;;1903;;2156;0608;0836;1109;;;;;;2344
Vaksdal;475.17;16.0;;;;;;;;0626;;;;;;;;2326
Arna;501.43;8.0;1410;1441;1740;1840;1935;2155;2228;0644;0806;1037;1248;1506;1606;1618;1637;2307
Bergen;526.64;3.9;1422;1442;1752;1850;1945;2204;2235;0656;0758;1028;1240;1458;1558;1610;1628;2258
`.split(`
`),qe=ze[0];ze.splice(0,1);const Xe=qe.split(";"),We=Xe.length-3,Ke=new LineSeries({strokeThickness:0,markerType:MarkerType.Circle,markerFill:OxyColor.fromAColor(200,OxyColors.Black),markerSize:4}),Je=new Array(We);for(let Qe=0;Qe<Je.length;Qe++)Je[Qe]=new LineSeries({title:Xe[3+Qe],color:OxyColor.fromAColor(180,OxyColors.Black),strokeThickness:2,trackerStringFormatter:St=>`Train ${St.title}
Time: ${formatTimeSpan(St.xValue,"hh:mm:ss")}
Distance from Oslo S: ${St.yValue.toFixed(1)} km`}),je.series.push(Je[Qe]);for(const Qe of ze){if(!Qe||Qe.startsWith("//"))continue;const St=Qe.split(";"),ei=St[0],ti=parseFloat(St[1]);ei&&(Ve.majorTicks.push(ti),Ve.labels.push(ei));for(let ni=0;ni<Je.length;ni++){const oi=St[ni+3];if(!oi)continue;const ai=parseInt(oi),si=TimeSpan.from(0,Math.floor(ai/100),ai%100,0),ri=TimeSpanAxis.toDouble(si);Je[ni].points.push(newDataPoint(ri,ti)),Ke.points.push(newDataPoint(ri,ti))}}const Ze=TimeSpanAxis.toDouble(TimeSpan.fromHours(24));for(const Qe of je.series)if(Qe instanceof DataPointSeries){for(let St=0;St+1<Qe.points.length;St++)if(Math.abs(Qe.points[St].x-Qe.points[St+1].x)>Ze/2){let ei=Qe.points[St].x;ei>Ze/2&&(ei-=Ze);let ti=Qe.points[St+1].x;ti>Ze/2&&(ti-=Ze);const ni=Qe.points[St].y+(Qe.points[St+1].y-Qe.points[St].y)/(ti-ei)*(0-ei);Qe.points.splice(St+1,0,newDataPoint(ei<ti?0:Ze,ni)),Qe.points.splice(St+1,0,newDataPoint(Number.NaN,ni)),Qe.points.splice(St+1,0,newDataPoint(ei<ti?Ze:0,ni)),St+=3}}return console.log(Ve),je.series.push(Ke),je}function laLineaAreaSeries(){const je=new PlotModel({title:"La Linea",plotType:PlotType.Cartesian,background:OxyColor.fromRgb(84,98,207)});je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-500,maximum:1e3}));const $e=new AreaSeries({fill:OxyColors.White,strokeThickness:0});return $e.points.push(...lineaPoints),je.series.push($e),je}function laLinea(){const je=new PlotModel({title:"La Linea",plotType:PlotType.Cartesian,background:OxyColor.fromRgb(84,98,207)});je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-500,maximum:1e3}));const $e=new LineSeries({color:OxyColors.White,strokeThickness:1.5});return $e.points.push(...lineaPoints),je.series.push($e),je}function conwayLife(){const je=new PlotModel({title:"Conway's Game of Life",subtitle:"Click the mouse to step to the next generation."});je.axes.push(new LinearAxis({position:AxisPosition.Left,startPosition:1,endPosition:0})),je.axes.push(new LinearAxis({position:AxisPosition.Bottom}));const $e=40,Ve=40;let ze=create2DArray(Ve,$e,0);const qe=new MatrixSeries({matrix:ze}),Xe=(Qe,St)=>{ze[Qe][St]=ze[Qe][St+1]=ze[Qe][St+2]=1},We=(Qe,St)=>{ze[Qe][St]=ze[Qe+1][St+1]=ze[Qe+1][St+2]=ze[Qe+2][St]=ze[Qe+2][St+1]=1},Ke=(Qe,St)=>{ze[Qe][St+1]=ze[Qe][St+2]=ze[Qe+1][St]=ze[Qe+1][St+1]=ze[Qe+2][St+1]=1};Xe(2,10),We(2,2),Ke(20,20),je.series.push(qe);let Je=0;const Ze=()=>{const Qe=create2DArray(Ve,$e,0);for(let St=1;St<$e-1;St++)for(let ei=1;ei<Ve-1;ei++){const ti=ze[St-1][ei-1]+ze[St-1][ei]+ze[St-1][ei+1]+ze[St][ei-1]+ze[St][ei+1]+ze[St+1][ei-1]+ze[St+1][ei]+ze[St+1][ei+1];if(ze[St][ei]===0&&ti===3){Qe[St][ei]=1;continue}ze[St][ei]===1&&(ti===2||ti===3)&&(Qe[St][ei]=1)}Je++,qe.title="Generation "+Je,qe.matrix=ze=Qe,je.invalidatePlot(!0)};return je.mouseDown=(Qe,St)=>{St.changedButton===OxyMouseButton.Left&&(Ze(),St.handled=!0)},je}function elephantCurve(){const je=Math.sin,$e=qe=>-27/5*je(3/2-30*qe)-16/3*je(9/8-29*qe)-29/5*je(5/4-27*qe)-8/3*je(1/4-26*qe)-25/7*je(1/3-25*qe)-31/4*je(4/7-22*qe)-25/4*je(4/3-20*qe)-33/2*je(2/3-19*qe)-67/4*je(6/5-16*qe)-100/11*je(1/4-10*qe)-425/7*je(1-4*qe)+149/4*je(8*qe)+1172/3*je(qe+21/5)+661/11*je(2*qe+3)+471/8*je(3*qe+10/7)+211/7*je(5*qe+13/4)+39/4*je(6*qe+10/7)+139/10*je(7*qe+7/6)+77/3*je(9*qe+18/7)+135/8*je(11*qe+1/2)+23/4*je(12*qe+8/5)+95/4*je(13*qe+4)+31/4*je(14*qe+3/5)+67/11*je(15*qe+7/3)+127/21*je(17*qe+17/4)+95/8*je(18*qe+7/8)+32/11*je(21*qe+8/3)+81/10*je(23*qe+45/11)+13/3*je(24*qe+13/4)+7/4*je(28*qe+3/2)+11/5*je(31*qe+5/2)+1/3*je(32*qe+12/5)+13/4*je(33*qe+22/5)+14/3*je(34*qe+9/4)+9/5*je(35*qe+8/5)+17/9*je(36*qe+22/5)+1/3*je(37*qe+15/7)+3/2*je(38*qe+39/10)+4/3*je(39*qe+7/2)+5/3*je(40*qe+17/6),Ve=qe=>-13/7*je(1/2-40*qe)-31/8*je(1/11-34*qe)-12/5*je(1/4-31*qe)-9/4*je(4/3-29*qe)-5/3*je(4/3-28*qe)-11/2*je(6/5-26*qe)-17/7*je(3/2-25*qe)-5/2*je(1-24*qe)-39/7*je(1-19*qe)-59/5*je(2/3-18*qe)-179/9*je(13/12-12*qe)-103/2*je(1/10-9*qe)-356/5*je(1-5*qe)-429/2*je(20/19-qe)+288/5*je(2*qe+10/3)+53/6*je(3*qe+5/2)+351/7*je(4*qe+5/2)+201/4*je(6*qe+17/7)+167/3*je(7*qe+19/5)+323/5*je(8*qe+1/4)+153/7*je(10*qe+2/3)+71/5*je(11*qe+6/5)+47/12*je(13*qe+11/5)+391/26*je(14*qe+2)+164/11*je(15*qe+1/7)+11/2*je(16*qe+2/3)+31/3*je(17*qe+1/7)+54/11*je(20*qe+1/4)+43/5*je(21*qe+13/3)+13/5*je(22*qe+3/2)+17/5*je(23*qe+11/5)+19/10*je(27*qe+4)+15/2*je(30*qe+55/18)+4/3*je(32*qe+3/5)+5/3*je(33*qe+4)+27/7*je(35*qe+13/6)+1/4*je(36*qe+43/11)+16/5*je(37*qe+9/2)+20/19*je(38*qe+23/6)+8/3*je(39*qe+4/7),ze=new PlotModel({title:"Elephant curve",plotType:PlotType.Cartesian});return ze.series.push(FunctionSeries.fromFxFyN($e,Ve,0,Math.PI*2,1e3)),ze}function piCurve(){const je=Math.sin,$e=qe=>17/31*je(235/57-32*qe)+19/17*je(192/55-30*qe)+47/32*je(69/25-29*qe)+35/26*je(75/34-27*qe)+6/31*je(23/10-26*qe)+35/43*je(10/33-25*qe)+126/43*je(421/158-24*qe)+143/57*je(35/22-22*qe)+106/27*je(84/29-21*qe)+88/25*je(23/27-20*qe)+74/27*je(53/22-19*qe)+44/53*je(117/25-18*qe)+126/25*je(88/49-17*qe)+79/11*je(43/26-16*qe)+43/12*je(41/17-15*qe)+47/27*je(244/81-14*qe)+8/5*je(79/19-13*qe)+373/46*je(109/38-12*qe)+1200/31*je(133/74-11*qe)+67/24*je(157/61-10*qe)+583/28*je(13/8-8*qe)+772/35*je(59/16-7*qe)+3705/46*je(117/50-6*qe)+862/13*je(19/8-5*qe)+6555/34*je(157/78-3*qe)+6949/13*je(83/27-qe)-6805/54*je(2*qe+1/145)-5207/37*je(4*qe+49/74)-1811/58*je(9*qe+55/43)-63/20*je(23*qe+2/23)-266/177*je(28*qe+13/18)-2/21*je(31*qe+7/16),Ve=qe=>70/37*je(65/32-32*qe)+11/12*je(98/41-31*qe)+26/29*je(35/12-30*qe)+54/41*je(18/7-29*qe)+177/71*je(51/19-27*qe)+59/34*je(125/33-26*qe)+49/29*je(18/11-25*qe)+151/75*je(59/22-24*qe)+52/9*je(118/45-22*qe)+52/33*je(133/52-21*qe)+37/45*je(61/14-20*qe)+143/46*je(144/41-19*qe)+254/47*je(19/52-18*qe)+246/35*je(92/25-17*qe)+722/111*je(176/67-16*qe)+136/23*je(3/19-15*qe)+273/25*je(32/21-13*qe)+229/33*je(117/28-12*qe)+19/4*je(43/11-11*qe)+135/8*je(23/10-10*qe)+205/6*je(33/23-8*qe)+679/45*je(55/12-7*qe)+101/8*je(11/12-6*qe)+2760/59*je(40/11-5*qe)+1207/18*je(21/23-4*qe)+8566/27*je(39/28-3*qe)+12334/29*je(47/37-2*qe)+15410/39*je(185/41-qe)-596/17*je(9*qe+3/26)-247/28*je(14*qe+25/21)-458/131*je(23*qe+21/37)-41/36*je(28*qe+7/8),ze=new PlotModel({title:"PI curve",plotType:PlotType.Cartesian});return ze.series.push(FunctionSeries.fromFxFyN($e,Ve,0,Math.PI*2,1e3)),ze}function numericOdeSolvers(je,$e,Ve,ze,qe,Xe){const We=new PlotModel({title:je,subtitle:$e}),Ke=new Legend({legendPosition:LegendPosition.BottomCenter,legendPlacement:LegendPlacement.Outside,legendOrientation:LegendOrientation.Horizontal});We.legends.push(Ke);const Je=FunctionSeries.fromN(qe,0,4,100);Object.assign(Je,{title:"Exact solution",strokeThickness:5}),We.series.push(Je);const Ze=new LineSeries({title:"Euler, h=0.25",markerType:MarkerType.Circle,markerFill:OxyColors.Black});Ze.points.push(...euler(Xe,Ve,ze,4,.25)),We.series.push(Ze);const Qe=new LineSeries({title:"Heun, h=0.25",markerType:MarkerType.Circle,markerFill:OxyColors.Black});Qe.points.push(...heun(Xe,Ve,ze,4,.25)),We.series.push(Qe);const St=new LineSeries({title:"Midpoint, h=0.25",markerType:MarkerType.Circle,markerFill:OxyColors.Black});St.points.push(...midpoint(Xe,Ve,ze,4,.25)),We.series.push(St);const ei=new LineSeries({title:"RK4, h=0.25",markerType:MarkerType.Circle,markerFill:OxyColors.Black});return ei.points.push(...rungeKutta4(Xe,Ve,ze,4,.25)),We.series.push(ei),We.axes.push(new LinearAxis({position:AxisPosition.Left})),We}function euler(je,$e,Ve,ze,qe){const Xe=[];let We=Ve;for(let Ke=$e;Ke<ze+qe/2;Ke+=qe)Xe.push(newDataPoint(Ke,We)),We+=qe*je(Ke,We);return Xe}function heun(je,$e,Ve,ze,qe){const Xe=[];let We=Ve;for(let Ke=$e;Ke<ze+qe/2;Ke+=qe){Xe.push(newDataPoint(Ke,We));const Je=We+qe*je(Ke,We);We=We+qe/2*(je(Ke,We)+je(Ke+qe,Je))}return Xe}function midpoint(je,$e,Ve,ze,qe){const Xe=[];let We=Ve;for(let Ke=$e;Ke<ze+qe/2;Ke+=qe)Xe.push(newDataPoint(Ke,We)),We+=qe*je(Ke+qe/2,We+qe/2*je(Ke,We));return Xe}function rungeKutta4(je,$e,Ve,ze,qe){const Xe=[];let We=Ve;for(let Ke=$e;Ke<ze+qe/2;Ke+=qe){Xe.push(newDataPoint(Ke,We));const Je=qe*je(Ke,We),Ze=qe*je(Ke+qe/2,We+Je/2),Qe=qe*je(Ke+qe/2,We+Ze/2),St=qe*je(Ke+qe,We+Qe);We+=(Je+2*Ze+2*Qe+St)/6}return Xe}class CustomAxis extends LinearAxis{constructor(Ve){super(Ve);Wn(this,"majorTicks",[]);Wn(this,"minorTicks",[]);Wn(this,"labels",[])}getTickValues(){const Ve=this.majorTicks.filter(Xe=>Xe>=this.actualMinimum&&Xe<=this.actualMaximum),ze=this.minorTicks.filter(Xe=>Xe>=this.actualMinimum&&Xe<=this.actualMaximum);return{majorTickValues:Ve,minorTickValues:ze,majorLabelValues:Ve}}formatValueOverride(Ve){return this.labels[this.majorTicks.indexOf(Ve)]}}const category$s="Misc",MiscExamples={category:category$s,examples:[{title:"Numeric ODE solvers (y'=y)",example:{model:numericOdeSolvers1}},{title:"Numeric ODE solvers (y'=x)",example:{model:numericOdeSolvers2}},{title:"Numeric ODE solvers (y'=cos(x))",example:{model:numericOdeSolvers3}},{title:"Train schedule",example:{model:trainSchedule}},{title:"La Linea (AreaSeries)",example:{model:laLineaAreaSeries}},{title:"La Linea (LineSeries)",example:{model:laLinea}},{title:"Conway's Game of Life",example:{model:conwayLife}},{title:"Elephant curve",example:{model:elephantCurve}},{title:"PI curve",example:{model:piCurve}}]};function test1(){const je=new PlotModel({title:"XKCD style plot",subtitle:"Install the 'Humor Sans' font for the best experience"});je.renderingDecorator=Ve=>new XkcdRenderingDecorator(Ve);const $e=FunctionSeries.fromN(Math.sin,0,10,50,"sin(x)");return je.series.push($e),je}function test2(){const je=new PlotModel({title:"Test #2"});je.renderingDecorator=Ke=>new XkcdRenderingDecorator(Ke),je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:8,title:"INTENSITY"})),je.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"TIME"}));const $e=new LineSeries({color:OxyColors.Cyan,strokeThickness:4}),Ve=new LineSeries({color:OxyColors.White,strokeThickness:14}),ze=new LineSeries({color:OxyColors.Red,strokeThickness:4}),qe=257,Xe=1,We=9;for(let Ke=0;Ke<qe;Ke++){const Je=Xe+(We-Xe)*Ke/(qe-1),Ze=1.5+10*(Math.sin(Je)*Math.sin(Je)/Math.sqrt(Je))*Math.exp(-.5*(Je-5)*(Je-5)),Qe=3+10*(Math.sin(Je)*Math.sin(Je)/Math.sqrt(Je))*Math.exp(-.5*(Je-7)*(Je-7));$e.points.push(newDataPoint(Je,Ze)),Ve.points.push(newDataPoint(Je,Qe)),ze.points.push(newDataPoint(Je,Qe))}return je.series.push($e,Ve,ze),je}function test3(){const je=new PlotModel({title:"Test #3"});je.renderingDecorator=We=>new XkcdRenderingDecorator(We);const $e=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Horizontal,legendBorderThickness:0});je.legends.push($e);const Ve=new BarSeries({title:"Series 1",isStacked:!1,strokeColor:OxyColors.Black,strokeThickness:1,xAxisKey:"x",yAxisKey:"y"});Ve.items.push(new BarItem({value:25})),Ve.items.push(new BarItem({value:137})),Ve.items.push(new BarItem({value:18})),Ve.items.push(new BarItem({value:40}));const ze=new BarSeries({title:"Series 2",isStacked:!1,strokeColor:OxyColors.Black,strokeThickness:1,xAxisKey:"x",yAxisKey:"y"});ze.items.push(new BarItem({value:12})),ze.items.push(new BarItem({value:14})),ze.items.push(new BarItem({value:120})),ze.items.push(new BarItem({value:26}));const qe=new CategoryAxis({position:AxisPosition.Bottom,key:"y"});qe.labels.push("Category A","Category B","Category C","Category D");const Xe=new LinearAxis({position:AxisPosition.Left,minimumPadding:0,maximumPadding:.06,absoluteMinimum:0,key:"x"});return je.series.push(Ve),je.series.push(ze),je.axes.push(qe),je.axes.push(Xe),je}const category$r="XKCD",XkcdExamples={category:category$r,examples:[{title:"XKCD Test #1",example:{model:test1}},{title:"XKCD Test #2",example:{model:test2}},{title:"XKCD Test #3",example:{model:test3}}]},Misc=[MiscExamples,XkcdExamples];class HighLowItemGenerator{static mrProcess($e,Ve=100,ze=.5,qe=.7,Xe=.01){let We=Ve;const Ke=[],Je=new Date;for(let Ze=0;Ze<$e;Ze++){const Qe=-Xe*(We-Ve)+this.randomNormal(0,ze),St=-Xe*(We-Ve)+this.randomNormal(0,qe),ei=-Xe*(We-Ve)+this.randomNormal(0,qe),ti=We,ni=We=We+Qe,oi=this.min(ti,ni,ti+St,ti+ei),ai=this.max(ti,ni,ti+St,ti+ei),si=new Date(Je.getTime()+Ze*1e3),ri=DateTimeAxis.toDouble(si);Ke.push(createHighLowItem(ri,ai,oi,ti,ni))}return Ke}static min($e,Ve,ze,qe){return Math.min($e,Math.min(Ve,Math.min(ze,qe)))}static max($e,Ve,ze,qe){return Math.max($e,Math.max(Ve,Math.max(ze,qe)))}static randomNormal($e,Ve){return this.inverseCumNormal(this.rand.next(),$e,Ve)}static inverseCumNormal($e,Ve,ze){const qe=-39.69683028665376,Xe=220.9460984245205,We=-275.9285104469687,Ke=138.357751867269,Je=-30.66479806614716,Ze=2.506628277459239,Qe=-54.47609879822406,St=161.5858368580409,ei=-155.6989798598866,ti=66.80131188771972,ni=-13.28068155288572,oi=-.007784894002430293,ai=-.3223964580411365,si=-2.400758277161838,ri=-2.549732539343734,ii=4.374664141464968,ui=2.938163982698783,ci=.007784695709041462,hi=.3224671290700398,mi=2.445134137142996,di=3.754408661907416,fi=.02425,yi=1-fi;let pi,xi;return $e<fi?(pi=Math.sqrt(-2*Math.log($e)),pi=(((((oi*pi+ai)*pi+si)*pi+ri)*pi+ii)*pi+ui)/((((ci*pi+hi)*pi+mi)*pi+di)*pi+1)):$e<=yi?(pi=$e-.5,xi=pi*pi,pi=(((((qe*xi+Xe)*xi+We)*xi+Ke)*xi+Je)*xi+Ze)*pi/(((((Qe*xi+St)*xi+ei)*xi+ti)*xi+ni)*xi+1)):(pi=Math.sqrt(-2*Math.log(1-$e)),pi=-(((((oi*pi+ai)*pi+si)*pi+ri)*pi+ii)*pi+ui)/((((ci*pi+hi)*pi+mi)*pi+di)*pi+1)),xi=(this.cumN0(pi)-$e)*Math.sqrt(2)*Math.sqrt(Math.PI)*Math.exp(.5*pi*pi),pi-=xi/(1+.5*pi*xi),Ve+pi*ze}static cumN0($e){const Ve=.31938153,ze=-.356563782,qe=1.781477937,Xe=-1.821255978,We=1.330274429,Ke=.2316419,Je=.39894228;if($e>=0){const Ze=1/(1+Ke*$e);return 1-Je*Math.exp(-$e*$e/2)*Ze*(Ze*(Ze*(Ze*(Ze*We+Xe)+qe)+ze)+Ve)}else{const Ze=1/(1-Ke*$e);return Je*Math.exp(-$e*$e/2)*Ze*(Ze*(Ze*(Ze*(Ze*We+Xe)+qe)+ze)+Ve)}}}Wn(HighLowItemGenerator,"rand",new Random);function largeDataSetWide(){const je=new PlotModel({title:"Large Data Set (wide window)"}),$e=new DateTimeAxis({position:AxisPosition.Bottom});je.axes.push($e);const Ve=new LinearAxis({position:AxisPosition.Left});je.axes.push(Ve);const ze=1e5,qe=HighLowItemGenerator.mrProcess(ze),Xe=new CandleStickSeries({color:OxyColors.Black,increasingColor:OxyColors.DarkGreen,decreasingColor:OxyColors.Red,dataFieldX:"Time",dataFieldHigh:"H",dataFieldLow:"L",dataFieldOpen:"O",dataFieldClose:"C",trackerStringFormatter:Ze=>`High: ${Ze.high.toFixed(2)}
Low: ${Ze.low.toFixed(2)}
Open: ${Ze.open.toFixed(2)}
Close: ${Ze.close.toFixed(2)}`,itemsSource:qe}),We=ze-200,Ke=70;$e.minimum=qe[We].x,$e.maximum=qe[We+Ke].x;const Je=qe.slice(We,We+Ke);return Ve.minimum=Math.min(...Je.map(Ze=>Ze.low)),Ve.maximum=Math.max(...Je.map(Ze=>Ze.high)),je.series.push(Xe),$e.axisChanged=(Ze,Qe)=>_adjustYExtent(Xe,$e,Ve),je}function largeDataSetNarrow(){const je=new PlotModel({title:"Large Data Set (narrow window)"}),$e=new DateTimeAxis({position:AxisPosition.Bottom});je.axes.push($e);const Ve=new LinearAxis({position:AxisPosition.Left});je.axes.push(Ve);const ze=1e5,qe=HighLowItemGenerator.mrProcess(ze),Xe=new CandleStickSeries({color:OxyColors.Black,increasingColor:OxyColors.DarkGreen,decreasingColor:OxyColors.Red,trackerStringFormatter:We=>`High: ${We.high.toFixed(2)}
Low: ${We.low.toFixed(2)}
Open: ${We.open.toFixed(2)}
Close: ${We.close.toFixed(2)}`,itemsSource:qe});return $e.minimum=qe[0].x,$e.maximum=qe[29].x,Ve.minimum=qe.slice(0,30).map(We=>We.low).reduce((We,Ke)=>Math.min(We,Ke)),Ve.maximum=qe.slice(0,30).map(We=>We.high).reduce((We,Ke)=>Math.max(We,Ke)),je.series.push(Xe),$e.axisChanged=(We,Ke)=>_adjustYExtent(Xe,$e,Ve),je}function smallDataSet(){const je=new PlotModel({title:"Small Data Set"}),$e=new DateTimeAxis({position:AxisPosition.Bottom});je.axes.push($e);const Ve=new LinearAxis({position:AxisPosition.Left});je.axes.push(Ve);const ze=100,qe=HighLowItemGenerator.mrProcess(ze),Xe=new CandleStickSeries({color:OxyColors.Black,increasingColor:OxyColors.DarkGreen,decreasingColor:OxyColors.Red,dataFieldX:"X",dataFieldHigh:"High",dataFieldLow:"Low",dataFieldOpen:"Open",dataFieldClose:"Close",trackerStringFormatter:We=>`High: ${We.high.toFixed(2)}
Low: ${We.low.toFixed(2)}
Open: ${We.open.toFixed(2)}
Close: ${We.close.toFixed(2)}`,itemsSource:qe});return je.series.push(Xe),$e.axisChanged=(We,Ke)=>_adjustYExtent(Xe,$e,Ve),je}function simpleExample(){const je=DateTimeAxis.toDouble(new Date(2016,1,1)),$e=new PlotModel({title:"Simple CandleStickSeries example"});$e.axes.push(new DateTimeAxis({position:AxisPosition.Bottom,minimum:je-7,maximum:je+7})),$e.axes.push(new LinearAxis({position:AxisPosition.Left}));const Ve=new CandleStickSeries;return Ve.items.push(createHighLowItem(je,100,80,92,94)),Ve.items.push(createHighLowItem(je+1,102,77,94,93)),Ve.items.push(createHighLowItem(je+2,99,85,93,93)),$e.series.push(Ve),$e}function _adjustYExtent(je,$e,Ve){const ze=$e.actualMinimum,qe=$e.actualMaximum,Xe=je.findByX(ze),We=je.findByX(qe,Xe);let Ke=Number_MAX_VALUE,Je=Number_MIN_VALUE;for(let St=Xe;St<=We;St++){const ei=je.items[St];Ke=Math.min(Ke,ei.low),Je=Math.max(Je,ei.high)}const Qe=(Je-Ke)*.1;Ve.zoom(Ke-Qe,Je+Qe)}const category$q="CandleStickSeries",CandleStickSeriesExamples={category:category$q,tags:["Series"],examples:[{title:"Large Data Set (wide window)",example:{model:largeDataSetWide}},{title:"Large Data Set (narrow window)",example:{model:largeDataSetNarrow}},{title:"Small Set",example:{model:smallDataSet}},{title:"Simple CandleStickSeries example",example:{model:simpleExample}}]};function highLowSeries(){const je=new PlotModel({title:"HighLowSeries"}),$e=new Legend({legendSymbolLength:24});je.legends.push($e);const Ve=new HighLowSeries({title:"HighLowSeries 1",color:OxyColors.Black}),ze=new Random(314);let qe=100;for(let Xe=0;Xe<24;Xe++){qe=qe+ze.next()+.1;const We=qe+10+ze.next()*10,Ke=qe-(10+ze.next()*10),Je=Ke+ze.next()*(We-Ke),Ze=Ke+ze.next()*(We-Ke);Ve.items.push({x:Xe,high:We,low:Ke,open:Je,close:Ze})}return je.series.push(Ve),je.axes.push(new LinearAxis({position:AxisPosition.Left,maximumPadding:.3,minimumPadding:.3})),je}function highLowSeriesDateTimeAxis(){const je=new PlotModel,$e=DateTimeAxis.toDouble(new Date(2013,5,4)),Ve=getDateService(),ze=new DateTimeAxis({position:AxisPosition.Bottom,minimum:$e-.9,maximum:$e+1.9,intervalType:DateTimeIntervalType.Days,majorStep:1,minorStep:1,stringFormatter:Xe=>Ve.format(Xe,"YYYY-MM-DD")});je.axes.push(ze);const qe=new HighLowSeries({trackerStringFormatter:Xe=>`X: ${Ve.format(Xe.xValue,"YYYY-MM-DD")}
High: ${Xe.high.toFixed(2)}
Low: ${Xe.low.toFixed(2)}
Open: ${Xe.open.toFixed(2)}
Close: ${Xe.close.toFixed(2)}`});return qe.items.push(createHighLowItem($e,14,10,13,12.4)),qe.items.push(createHighLowItem($e+1,17,8,12.4,16.3)),je.series.push(qe),je}const category$p="HighLowSeries",HighLowSeriesExamples={category:category$p,tags:["Series"],examples:[{title:"HighLowSeries",example:{model:highLowSeries}},{title:"HighLowSeries (DateTime axis)",example:{model:highLowSeriesDateTimeAxis}}]};class OhlcvItemGenerator{static mrProcess($e,Ve=100,ze=500,qe=.5,Xe=.75,We=.01){let Ke=Ve;const Je=[],Ze=new Date;for(let Qe=0;Qe<$e;Qe++){const St=-We*(Ke-Ve)+this.randomNormal(0,qe),ei=Ke,ni=(Ke=Ke+St)-ei,oi=ze*Math.exp(Math.abs(ni)/qe),si=((ni<0?-Math.min(-ni/Xe,1):Math.min(ni/Xe,1))+1)/2,ri=si*oi,ii=(1-si)*oi,ui=new Date(Ze.getTime()+Qe*1e3),ci=DateTimeAxis.toDouble(ui);Je.push(new OhlcvItem(ci,ri,ii))}return Je}static min($e,Ve,ze,qe){return Math.min($e,Math.min(Ve,Math.min(ze,qe)))}static max($e,Ve,ze,qe){return Math.max($e,Math.max(Ve,Math.max(ze,qe)))}static randomNormal($e,Ve){return HighLowItemGenerator.inverseCumNormal(this.rand.next(),$e,Ve)}}Wn(OhlcvItemGenerator,"rand",new Random);function justVolumeCombinedFixed(){return _createVolumeSeries("Just Volume (combined)",VolumeStyle.Combined,!1)}function justVolumeCombinedNatural(){return _createVolumeSeries("Just Volume (combined)",VolumeStyle.Combined,!0)}function justVolumeStackedFixed(){return _createVolumeSeries("Just Volume (stacked)",VolumeStyle.Stacked,!1)}function justVolumeStackedNatural(){return _createVolumeSeries("Just Volume (stacked)",VolumeStyle.Stacked,!0)}function justVolumePositiveNegativeFixed(){return _createVolumeSeries("Just Volume (+/-)",VolumeStyle.PositiveNegative,!1)}function justVolumePositiveNegativeNatural(){return _createVolumeSeries("Just Volume (+/-)",VolumeStyle.PositiveNegative,!0)}function _createVolumeSeries(je,$e,Ve=!1,ze=1e4){ze=201;const qe=new PlotModel({title:je}),Xe=new VolumeSeries({positiveColor:OxyColors.DarkGreen,negativeColor:OxyColors.Red,positiveHollow:!1,negativeHollow:!1,volumeStyle:$e,title:"VolumeSeries"});for(const ei of OhlcvItemGenerator.mrProcess(ze))Xe.append(ei);const We=ze-200,Ke=ze-120,Je=Xe.items[We].x,Ze=Xe.items[Ke].x,Qe=new DateTimeAxis({position:AxisPosition.Bottom,minimum:Je,maximum:Ze}),St=new LinearAxis({position:AxisPosition.Left,startPosition:0,endPosition:1,minimum:Ve?NaN:0,maximum:Ve?NaN:1e4});switch($e){case VolumeStyle.Combined:case VolumeStyle.Stacked:qe.axes.push(Qe),qe.axes.push(St);break;case VolumeStyle.PositiveNegative:St.minimum=Ve?NaN:-1e4,qe.axes.push(Qe),qe.axes.push(St);break}return qe.series.push(Xe),qe}const category$o="VolumeSeries",VolumeSeriesExamples={category:category$o,tags:["Series"],examples:[{title:"Just Volume (combined), fixed axis",example:{model:justVolumeCombinedFixed}},{title:"Just Volume (combined), natural axis",example:{model:justVolumeCombinedNatural}},{title:"Just Volume (stacked), fixed axis",example:{model:justVolumeStackedFixed}},{title:"Just Volume (stacked), natural axis",example:{model:justVolumeStackedNatural}},{title:"Just Volume (+/-), fixed axis",example:{model:justVolumePositiveNegativeFixed}},{title:"Just Volume (+/-), natural axis",example:{model:justVolumePositiveNegativeNatural}}]},FinancialSeries=[CandleStickSeriesExamples,HighLowSeriesExamples,VolumeSeriesExamples];function defaultStyle$2(){const je=new PlotModel({title:"AreaSeries with default style"});return je.series.push(createExampleAreaSeries()),je}function differentColors$1(){const je=new PlotModel({title:"AreaSeries with different stroke colors"}),$e=createExampleAreaSeries();return $e.color=OxyColors.Red,$e.color2=OxyColors.Blue,je.series.push($e),je}function crossingLines(){const je=new PlotModel({title:"AreaSeries with crossing lines"}),$e=new AreaSeries;return $e.points.push(newDataPoint(0,50)),$e.points.push(newDataPoint(10,140)),$e.points.push(newDataPoint(20,60)),$e.points2.push(newDataPoint(0,60)),$e.points2.push(newDataPoint(5,80)),$e.points2.push(newDataPoint(20,70)),je.series.push($e),je}function trackerFormatString$2(){const je=new PlotModel({title:"AreaSeries with custom TrackerFormatString"});je.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"X-axis"})),je.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Y-axis"}));const $e=createExampleAreaSeries();return $e.title="X={2:0.0} Y={4:0.0}",$e.trackerStringFormatter=Ve=>`X=${Ve.xValue.toFixed(1)} Y=${Ve.yValue.toFixed(1)}`,je.series.push($e),je}function constantBaseline(){const je=new PlotModel({title:"AreaSeries with constant baseline",subtitle:"Empty Points2, ConstantY2 = 0 (default)"}),$e=new AreaSeries;return $e.points.push(newDataPoint(0,50)),$e.points.push(newDataPoint(10,140)),$e.points.push(newDataPoint(20,60)),je.series.push($e),je}function constantBaselineNaN(){const je=new PlotModel({title:"AreaSeries with constant baseline",subtitle:"Empty Points2, ConstantY2 = NaN"}),$e=new AreaSeries;return $e.points.push(newDataPoint(0,50)),$e.points.push(newDataPoint(10,140)),$e.points.push(newDataPoint(20,60)),$e.constantY2=Number.NaN,je.series.push($e),je}function constantBaselineItemsSource(){const je=new PlotModel({title:"AreaSeries with constant baseline",subtitle:"ItemsSource and DataField2 not set, ConstantY2 = -20"}),$e=new AreaSeries,Ve=[newDataPoint(0,50),newDataPoint(10,140),newDataPoint(20,60)];return $e.itemsSource=Ve,$e.dataFieldX="x",$e.dataFieldY="y",$e.constantY2=-20,je.series.push($e),je}function lineSeriesAndAreaSeries(){const je=new PlotModel({title:"LineSeries and AreaSeries"}),$e=new LinearAxis({position:AxisPosition.Bottom});je.axes.push($e);const Ve=new LinearAxis;je.axes.push(Ve);const ze=new AreaSeries({fill:OxyColors.LightBlue,dataFieldX2:"Time",dataFieldY2:"Minimum",color:OxyColors.Red,strokeThickness:0,markerFill:OxyColors.Transparent,dataFieldX:"Time",dataFieldY:"Maximum"});ze.points2.push(newDataPoint(0,-5.04135905692417)),ze.points2.push(newDataPoint(2.5,-4.91731850813018)),ze.points2.push(newDataPoint(5,-4.45266314658926)),ze.points2.push(newDataPoint(7.5,-3.87303874542613)),ze.points2.push(newDataPoint(10,-3.00101110255393)),ze.points2.push(newDataPoint(12.5,-2.17980725503518)),ze.points2.push(newDataPoint(15,-1.67332229254456)),ze.points2.push(newDataPoint(17.5,-1.10537158549082)),ze.points2.push(newDataPoint(20,-.6145459544447)),ze.points2.push(newDataPoint(22.5,.120028106039404)),ze.points2.push(newDataPoint(25,1.06357270435597)),ze.points2.push(newDataPoint(27.5,1.87301405606466)),ze.points2.push(newDataPoint(30,2.57569854952195)),ze.points2.push(newDataPoint(32.5,3.59165537664278)),ze.points2.push(newDataPoint(35,4.87991958133872)),ze.points2.push(newDataPoint(37.5,6.36214537958714)),ze.points2.push(newDataPoint(40,7.62564585126268)),ze.points2.push(newDataPoint(42.5,8.69606320261772)),ze.points2.push(newDataPoint(45,10.0118704438265)),ze.points2.push(newDataPoint(47.5,11.0434480519236)),ze.points2.push(newDataPoint(50,11.9794171576758)),ze.points2.push(newDataPoint(52.5,12.9591851832621)),ze.points2.push(newDataPoint(55,14.172107889304)),ze.points2.push(newDataPoint(57.5,15.5520057698488)),ze.points2.push(newDataPoint(60,17.2274942386092)),ze.points2.push(newDataPoint(62.5,18.6983982186757)),ze.points2.push(newDataPoint(65,20.4560332001448)),ze.points2.push(newDataPoint(67.5,22.4867327382261)),ze.points2.push(newDataPoint(70,24.5319674302041)),ze.points2.push(newDataPoint(72.5,26.600547815813)),ze.points2.push(newDataPoint(75,28.5210891459701)),ze.points2.push(newDataPoint(77.5,30.6793080755413)),ze.points2.push(newDataPoint(80,33.0546651200646)),ze.points2.push(newDataPoint(82.5,35.3256065179713)),ze.points2.push(newDataPoint(85,37.6336074839968)),ze.points2.push(newDataPoint(87.5,40.2012266359763)),ze.points2.push(newDataPoint(90,42.8923555399256)),ze.points2.push(newDataPoint(92.5,45.8665211907432)),ze.points2.push(newDataPoint(95,48.8200195945427)),ze.points2.push(newDataPoint(97.5,51.8304284402311)),ze.points2.push(newDataPoint(100,54.6969868542147)),ze.points2.push(newDataPoint(102.5,57.7047292990632)),ze.points2.push(newDataPoint(105,60.4216644602929)),ze.points2.push(newDataPoint(107.5,62.926258762519)),ze.points2.push(newDataPoint(110,65.1829734629407)),ze.points2.push(newDataPoint(112.5,67.2365592083133)),ze.points2.push(newDataPoint(115,69.5713628691022)),ze.points2.push(newDataPoint(117.5,71.7267046705944)),ze.points2.push(newDataPoint(120,73.633463102781)),ze.points2.push(newDataPoint(122.5,75.4660150158061)),ze.points2.push(newDataPoint(125,77.5669292504745)),ze.points2.push(newDataPoint(127.5,79.564218544664)),ze.points2.push(newDataPoint(130,81.8631309028078)),ze.points2.push(newDataPoint(132.5,83.9698189969034)),ze.points2.push(newDataPoint(135,86.3847886532009)),ze.points2.push(newDataPoint(137.5,88.5559348267764)),ze.points2.push(newDataPoint(140,91.0455050418365)),ze.points2.push(newDataPoint(142.5,93.6964157585504)),ze.points2.push(newDataPoint(145,96.284336864941)),ze.points2.push(newDataPoint(147.5,98.7508602689723)),ze.points2.push(newDataPoint(150,100.904510594255)),ze.points2.push(newDataPoint(152.5,103.266136681506)),ze.points2.push(newDataPoint(155,105.780951269521)),ze.points2.push(newDataPoint(157.5,108.032859257065)),ze.points2.push(newDataPoint(160,110.035478448093)),ze.points2.push(newDataPoint(162.5,112.10655731615)),ze.points2.push(newDataPoint(165,114.37480786097)),ze.points2.push(newDataPoint(167.5,116.403992550869)),ze.points2.push(newDataPoint(170,118.61663988727)),ze.points2.push(newDataPoint(172.5,120.538730287384)),ze.points2.push(newDataPoint(175,122.515721057177)),ze.points2.push(newDataPoint(177.5,124.474386629124)),ze.points2.push(newDataPoint(180,126.448283293214)),ze.points2.push(newDataPoint(182.5,128.373811322299)),ze.points2.push(newDataPoint(185,130.33627914667)),ze.points2.push(newDataPoint(187.5,132.487933658477)),ze.points2.push(newDataPoint(190,134.716989778456)),ze.points2.push(newDataPoint(192.5,136.817287595392)),ze.points2.push(newDataPoint(195,139.216488664698)),ze.points2.push(newDataPoint(197.5,141.50803227574)),ze.points2.push(newDataPoint(200,143.539586683614)),ze.points2.push(newDataPoint(202.5,145.535911545221)),ze.points2.push(newDataPoint(205,147.516964978686)),ze.points2.push(newDataPoint(207.5,149.592416731684)),ze.points2.push(newDataPoint(210,151.600983566512)),ze.points2.push(newDataPoint(212.5,153.498210993362)),ze.points2.push(newDataPoint(215,155.512606828247)),ze.points2.push(newDataPoint(217.5,157.426564302774)),ze.points2.push(newDataPoint(220,159.364474964172)),ze.points2.push(newDataPoint(222.5,161.152806492128)),ze.points2.push(newDataPoint(225,162.679069434562)),ze.points2.push(newDataPoint(227.5,163.893622036741)),ze.points2.push(newDataPoint(230,165.475827621238)),ze.points2.push(newDataPoint(232.5,167.303960444734)),ze.points2.push(newDataPoint(235,169.259393394952)),ze.points2.push(newDataPoint(237.5,171.265193646758)),ze.points2.push(newDataPoint(240,173.074304345192)),ze.points2.push(newDataPoint(242.5,174.975492766814)),ze.points2.push(newDataPoint(245,176.684088218484)),ze.points2.push(newDataPoint(247.5,178.406887247603)),ze.points.push(newDataPoint(0,5.0184649433561)),ze.points.push(newDataPoint(2.5,5.27685959268215)),ze.points.push(newDataPoint(5,5.81437064628786)),ze.points.push(newDataPoint(7.5,6.51022475040994)),ze.points.push(newDataPoint(10,7.49921246878766)),ze.points.push(newDataPoint(12.5,8.41941631823751)),ze.points.push(newDataPoint(15,9.09826907222079)),ze.points.push(newDataPoint(17.5,9.89500750098145)),ze.points.push(newDataPoint(20,10.6633345249404)),ze.points.push(newDataPoint(22.5,11.6249613445368)),ze.points.push(newDataPoint(25,12.8816391467497)),ze.points.push(newDataPoint(27.5,13.9665185705603)),ze.points.push(newDataPoint(30,14.8501816818724)),ze.points.push(newDataPoint(32.5,16.0683128022441)),ze.points.push(newDataPoint(35,17.5378799723172)),ze.points.push(newDataPoint(37.5,19.1262752954039)),ze.points.push(newDataPoint(40,20.4103953650735)),ze.points.push(newDataPoint(42.5,21.5430627723891)),ze.points.push(newDataPoint(45,22.9105459463366)),ze.points.push(newDataPoint(47.5,23.9802361888719)),ze.points.push(newDataPoint(50,24.8659461235003)),ze.points.push(newDataPoint(52.5,25.7303194442439)),ze.points.push(newDataPoint(55,26.7688545912359)),ze.points.push(newDataPoint(57.5,28.0545112571933)),ze.points.push(newDataPoint(60,29.7036634266394)),ze.points.push(newDataPoint(62.5,31.2273634344467)),ze.points.push(newDataPoint(65,33.1038196356519)),ze.points.push(newDataPoint(67.5,35.2639893610328)),ze.points.push(newDataPoint(70,37.434293559489)),ze.points.push(newDataPoint(72.5,39.7109359368267)),ze.points.push(newDataPoint(75,41.7573881676222)),ze.points.push(newDataPoint(77.5,44.0460374479862)),ze.points.push(newDataPoint(80,46.5098714746581)),ze.points.push(newDataPoint(82.5,48.7754012129155)),ze.points.push(newDataPoint(85,51.1619816926597)),ze.points.push(newDataPoint(87.5,53.9036778414639)),ze.points.push(newDataPoint(90,56.7448825012636)),ze.points.push(newDataPoint(92.5,59.9294987878434)),ze.points.push(newDataPoint(95,63.0148831289797)),ze.points.push(newDataPoint(97.5,66.0721745989622)),ze.points.push(newDataPoint(100,68.8980036274521)),ze.points.push(newDataPoint(102.5,71.7719322611447)),ze.points.push(newDataPoint(105,74.4206055336728)),ze.points.push(newDataPoint(107.5,76.816198386632)),ze.points.push(newDataPoint(110,79.0040432726983)),ze.points.push(newDataPoint(112.5,80.9617606926066)),ze.points.push(newDataPoint(115,83.1345574620341)),ze.points.push(newDataPoint(117.5,85.0701022046479)),ze.points.push(newDataPoint(120,86.8557530286516)),ze.points.push(newDataPoint(122.5,88.5673387745243)),ze.points.push(newDataPoint(125,90.6003321543338)),ze.points.push(newDataPoint(127.5,92.439864576254)),ze.points.push(newDataPoint(130,94.5383744861178)),ze.points.push(newDataPoint(132.5,96.4600166864507)),ze.points.push(newDataPoint(135,98.6091052949006)),ze.points.push(newDataPoint(137.5,100.496459351478)),ze.points.push(newDataPoint(140,102.705767030085)),ze.points.push(newDataPoint(142.5,105.009994476992)),ze.points.push(newDataPoint(145,107.31287026052)),ze.points.push(newDataPoint(147.5,109.584842542272)),ze.points.push(newDataPoint(150,111.641435600837)),ze.points.push(newDataPoint(152.5,113.988459973544)),ze.points.push(newDataPoint(155,116.50349048027)),ze.points.push(newDataPoint(157.5,118.753612704274)),ze.points.push(newDataPoint(160,120.801728924085)),ze.points.push(newDataPoint(162.5,122.902486914165)),ze.points.push(newDataPoint(165,125.104391935796)),ze.points.push(newDataPoint(167.5,127.06056966547)),ze.points.push(newDataPoint(170,129.217086578495)),ze.points.push(newDataPoint(172.5,131.151968896274)),ze.points.push(newDataPoint(175,133.159906275133)),ze.points.push(newDataPoint(177.5,135.065263957561)),ze.points.push(newDataPoint(180,137.041870026822)),ze.points.push(newDataPoint(182.5,138.937477489811)),ze.points.push(newDataPoint(185,140.776914926282)),ze.points.push(newDataPoint(187.5,142.786975776398)),ze.points.push(newDataPoint(190,144.862762377347)),ze.points.push(newDataPoint(192.5,146.89654967049)),ze.points.push(newDataPoint(195,149.204343821204)),ze.points.push(newDataPoint(197.5,151.369748673527)),ze.points.push(newDataPoint(200,153.324438580137)),ze.points.push(newDataPoint(202.5,155.173148715344)),ze.points.push(newDataPoint(205,157.0501827528)),ze.points.push(newDataPoint(207.5,159.109122278359)),ze.points.push(newDataPoint(210,161.044446932778)),ze.points.push(newDataPoint(212.5,162.942364031841)),ze.points.push(newDataPoint(215,164.966769883021)),ze.points.push(newDataPoint(217.5,166.89711806788)),ze.points.push(newDataPoint(220,168.906874949069)),ze.points.push(newDataPoint(222.5,170.85692034995)),ze.points.push(newDataPoint(225,172.602125010408)),ze.points.push(newDataPoint(227.5,173.964258466598)),ze.points.push(newDataPoint(230,175.629908385654)),ze.points.push(newDataPoint(232.5,177.495778359378)),ze.points.push(newDataPoint(235,179.432933300749)),ze.points.push(newDataPoint(237.5,181.400180771342)),ze.points.push(newDataPoint(240,183.232300309899)),ze.points.push(newDataPoint(242.5,185.225502661441)),ze.points.push(newDataPoint(245,186.979590140413)),ze.points.push(newDataPoint(247.5,188.816640077725)),ze.title="Maximum/Minimum",je.series.push(ze);const qe=new LineSeries({color:OxyColors.Blue,markerFill:OxyColors.Transparent,dataFieldX:"Time",dataFieldY:"Value"});return qe.points.push(newDataPoint(0,-.011447056784037)),qe.points.push(newDataPoint(2.5,.179770542275985)),qe.points.push(newDataPoint(5,.6808537498493)),qe.points.push(newDataPoint(7.5,1.31859300249191)),qe.points.push(newDataPoint(10,2.24910068311687)),qe.points.push(newDataPoint(12.5,3.11980453160117)),qe.points.push(newDataPoint(15,3.71247338983811)),qe.points.push(newDataPoint(17.5,4.39481795774531)),qe.points.push(newDataPoint(20,5.02439428524784)),qe.points.push(newDataPoint(22.5,5.87249472528812)),qe.points.push(newDataPoint(25,6.97260592555283)),qe.points.push(newDataPoint(27.5,7.91976631331247)),qe.points.push(newDataPoint(30,8.71294011569719)),qe.points.push(newDataPoint(32.5,9.82998408944345)),qe.points.push(newDataPoint(35,11.208899776828)),qe.points.push(newDataPoint(37.5,12.7442103374955)),qe.points.push(newDataPoint(40,14.0180206081681)),qe.points.push(newDataPoint(42.5,15.1195629875034)),qe.points.push(newDataPoint(45,16.4612081950815)),qe.points.push(newDataPoint(47.5,17.5118421203978)),qe.points.push(newDataPoint(50,18.4226816405881)),qe.points.push(newDataPoint(52.5,19.344752313753)),qe.points.push(newDataPoint(55,20.47048124027)),qe.points.push(newDataPoint(57.5,21.8032585135211)),qe.points.push(newDataPoint(60,23.4655788326243)),qe.points.push(newDataPoint(62.5,24.9628808265612)),qe.points.push(newDataPoint(65,26.7799264178984)),qe.points.push(newDataPoint(67.5,28.8753610496295)),qe.points.push(newDataPoint(70,30.9831304948466)),qe.points.push(newDataPoint(72.5,33.1557418763199)),qe.points.push(newDataPoint(75,35.1392386567962)),qe.points.push(newDataPoint(77.5,37.3626727617638)),qe.points.push(newDataPoint(80,39.7822682973613)),qe.points.push(newDataPoint(82.5,42.0505038654434)),qe.points.push(newDataPoint(85,44.3977945883283)),qe.points.push(newDataPoint(87.5,47.0524522387201)),qe.points.push(newDataPoint(90,49.8186190205946)),qe.points.push(newDataPoint(92.5,52.8980099892933)),qe.points.push(newDataPoint(95,55.9174513617612)),qe.points.push(newDataPoint(97.5,58.9513015195966)),qe.points.push(newDataPoint(100,61.7974952408334)),qe.points.push(newDataPoint(102.5,64.738330780104)),qe.points.push(newDataPoint(105,67.4211349969828)),qe.points.push(newDataPoint(107.5,69.8712285745755)),qe.points.push(newDataPoint(110,72.0935083678195)),qe.points.push(newDataPoint(112.5,74.0991599504599)),qe.points.push(newDataPoint(115,76.3529601655682)),qe.points.push(newDataPoint(117.5,78.3984034376212)),qe.points.push(newDataPoint(120,80.2446080657163)),qe.points.push(newDataPoint(122.5,82.0166768951652)),qe.points.push(newDataPoint(125,84.0836307024042)),qe.points.push(newDataPoint(127.5,86.002041560459)),qe.points.push(newDataPoint(130,88.2007526944628)),qe.points.push(newDataPoint(132.5,90.2149178416771)),qe.points.push(newDataPoint(135,92.4969469740507)),qe.points.push(newDataPoint(137.5,94.5261970891274)),qe.points.push(newDataPoint(140,96.875636035961)),qe.points.push(newDataPoint(142.5,99.3532051177711)),qe.points.push(newDataPoint(145,101.798603562731)),qe.points.push(newDataPoint(147.5,104.167851405622)),qe.points.push(newDataPoint(150,106.272973097546)),qe.points.push(newDataPoint(152.5,108.627298327525)),qe.points.push(newDataPoint(155,111.142220874895)),qe.points.push(newDataPoint(157.5,113.39323598067)),qe.points.push(newDataPoint(160,115.418603686089)),qe.points.push(newDataPoint(162.5,117.504522115157)),qe.points.push(newDataPoint(165,119.739599898383)),qe.points.push(newDataPoint(167.5,121.732281108169)),qe.points.push(newDataPoint(170,123.916863232882)),qe.points.push(newDataPoint(172.5,125.845349591829)),qe.points.push(newDataPoint(175,127.837813666155)),qe.points.push(newDataPoint(177.5,129.769825293343)),qe.points.push(newDataPoint(180,131.745076660018)),qe.points.push(newDataPoint(182.5,133.655644406055)),qe.points.push(newDataPoint(185,135.556597036476)),qe.points.push(newDataPoint(187.5,137.637454717438)),qe.points.push(newDataPoint(190,139.789876077902)),qe.points.push(newDataPoint(192.5,141.856918632941)),qe.points.push(newDataPoint(195,144.210416242951)),qe.points.push(newDataPoint(197.5,146.438890474634)),qe.points.push(newDataPoint(200,148.432012631876)),qe.points.push(newDataPoint(202.5,150.354530130282)),qe.points.push(newDataPoint(205,152.283573865743)),qe.points.push(newDataPoint(207.5,154.350769505022)),qe.points.push(newDataPoint(210,156.322715249645)),qe.points.push(newDataPoint(212.5,158.220287512602)),qe.points.push(newDataPoint(215,160.239688355634)),qe.points.push(newDataPoint(217.5,162.161841185327)),qe.points.push(newDataPoint(220,164.135674956621)),qe.points.push(newDataPoint(222.5,166.004863421039)),qe.points.push(newDataPoint(225,167.640597222485)),qe.points.push(newDataPoint(227.5,168.928940251669)),qe.points.push(newDataPoint(230,170.552868003446)),qe.points.push(newDataPoint(232.5,172.399869402056)),qe.points.push(newDataPoint(235,174.346163347851)),qe.points.push(newDataPoint(237.5,176.33268720905)),qe.points.push(newDataPoint(240,178.153302327545)),qe.points.push(newDataPoint(242.5,180.100497714128)),qe.points.push(newDataPoint(245,181.831839179449)),qe.points.push(newDataPoint(247.5,183.611763662664)),qe.title="Average",je.series.push(qe),je}function createExampleAreaSeries(){const je=new AreaSeries;return je.points.push(newDataPoint(0,50)),je.points.push(newDataPoint(10,40)),je.points.push(newDataPoint(20,60)),je.points2.push(newDataPoint(0,60)),je.points2.push(newDataPoint(5,80)),je.points2.push(newDataPoint(20,70)),je}const category$n="AreaSeries",AreaSeriesExamples={category:category$n,tags:["Series"],examples:[{title:"Default style",example:{model:defaultStyle$2}},{title:"Different stroke colors",example:{model:differentColors$1}},{title:"Crossing lines",example:{model:crossingLines}},{title:"Custom TrackerFormatString",example:{model:trackerFormatString$2}},{title:"Constant baseline (empty Points2)",example:{model:constantBaseline}},{title:"Constant baseline (empty Points2, ConstantY2=NaN)",example:{model:constantBaselineNaN}},{title:"Constant baseline (ItemsSource and DataField2 not set)",example:{model:constantBaselineItemsSource}},{title:"LineSeries and AreaSeries",example:{model:lineSeriesAndAreaSeries}}]};function withLabels(){const je=new PlotModel;je.title="With labels";const $e=(We,Ke)=>We.value.toString(),Ve=new Random(1),ze=[new BarSeries({labelStringFormatter:$e,labelPlacement:LabelPlacement.Base,textColor:OxyColors.White,title:"Base"}),new BarSeries({labelStringFormatter:$e,labelPlacement:LabelPlacement.Inside,textColor:OxyColors.White,title:"Inside"}),new BarSeries({labelStringFormatter:$e,labelPlacement:LabelPlacement.Middle,textColor:OxyColors.White,title:"Middle"}),new BarSeries({labelStringFormatter:$e,labelPlacement:LabelPlacement.Outside,title:"Outside"})];for(let We=0;We<4;We++)for(const Ke of ze)Ke.items.push(BarItem.fromValue(Ve.next(-100,100)));const qe=new CategoryAxis;qe.position=AxisPosition.Left,qe.labels.push("Category A","Category B","Category C","Category D");const Xe=new LinearAxis;Xe.position=AxisPosition.Bottom,Xe.minimumPadding=.06,Xe.maximumPadding=.06,Xe.extraGridlines=[0];for(const We of ze)je.series.push(We);return je.axes.push(qe),je.axes.push(Xe),je}function withLabelsAtAnAngle(){const je=withLabels();for(const $e of je.series)$e.labelAngle=-45;return je}const stackedSeries=()=>createSimpleModel(!0,"Simple stacked model"),multipleValueAxes=()=>{const je=new PlotModel({title:"Multiple Value Axes"}),$e=new CategoryAxis({position:AxisPosition.Left}),Ve=new LinearAxis({title:"Value Axis 1",position:AxisPosition.Bottom,minimumPadding:.06,maximumPadding:.06,extraGridlines:[0],endPosition:.5,key:"x1"}),ze=new LinearAxis({title:"Value Axis 2",position:AxisPosition.Bottom,minimumPadding:.06,maximumPadding:.06,extraGridlines:[0],startPosition:.5,key:"x2"});je.axes.push($e,Ve,ze);const qe=[new BarSeries({xAxisKey:"x1"}),new BarSeries({xAxisKey:"x1"}),new BarSeries({xAxisKey:"x2"}),new BarSeries({xAxisKey:"x2"})],Xe=new Random(1);for(const We of qe){for(let Ke=0;Ke<4;Ke++)We.items.push(BarItem.fromValue(Xe.next(-100,100)));je.series.push(We)}return je},stackedMultipleValueAxes=()=>{const je=multipleValueAxes();je.title=`Stacked, ${je.title}`;for(const $e of je.series)$e.isStacked=!0;return je},multipleCategoryAxes=()=>{const je=new PlotModel({title:"Multiple Category Axes"});je.legends.push(new Legend({isLegendVisible:!0,legendPosition:LegendPosition.TopLeft,legendPlacement:LegendPlacement.Inside}));const $e=new LinearAxis({position:AxisPosition.Bottom,key:"x",extraGridlines:[0]}),Ve=new CategoryAxis({title:"Category Axis 1",position:AxisPosition.Left,minimumPadding:.06,maximumPadding:.06,endPosition:.5,key:"y1"}),ze=new CategoryAxis({title:"Category Axis 2",position:AxisPosition.Left,minimumPadding:.06,maximumPadding:.06,startPosition:.5,key:"y2"});je.axes.push($e,Ve,ze);const qe=[new BarSeries({yAxisKey:"y1",xAxisKey:"x",renderInLegend:!0,title:"Y1A"}),new BarSeries({yAxisKey:"y1",xAxisKey:"x",renderInLegend:!0,title:"Y1B"}),new BarSeries({yAxisKey:"y2",xAxisKey:"x",renderInLegend:!0,title:"Y2A"}),new BarSeries({yAxisKey:"y2",xAxisKey:"x",renderInLegend:!0,title:"Y2B"})],Xe=new Random;for(const We of qe){for(let Ke=0;Ke<4;Ke++)We.items.push(BarItem.fromValue(Xe.next(-100,100)));je.series.push(We)}return je},stackedMultipleCategoryAxes=()=>{const je=multipleCategoryAxes();je.title=`Stacked, ${je.title}`;for(const $e of je.series)$e.isStacked=!0;return je},emptySeries=()=>{const je=new PlotModel({title:"Empty series"}),$e=new BarSeries({title:"Series 1"}),Ve=new BarSeries({title:"Series 2"}),ze=new CategoryAxis({position:AxisPosition.Left}),qe=new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0});return je.series.push($e,Ve),je.axes.push(ze,qe),je},noCategoryAxisDefined=()=>{const je=new PlotModel({title:"No category axis defined"}),$e=new BarSeries({title:"Series 1",itemsSource:[BarItem.fromValue(25),BarItem.fromValue(137)]}),Ve=new BarSeries({title:"Series 2",itemsSource:[BarItem.fromValue(52),BarItem.fromValue(317)]}),ze=new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0});return je.series.push($e,Ve),je.axes.push(ze),je},bindingItemsSource=()=>{const je=[{label:"Apples",value1:37,value2:12,value3:19},{label:"Pears",value1:7,value2:21,value3:9},{label:"Bananas",value1:23,value2:2,value3:29}],$e=new PlotModel({title:"Binding to ItemsSource"}),Ve=new Legend({legendPlacement:LegendPlacement.Outside});$e.legends.push(Ve);const ze=new CategoryAxis({position:AxisPosition.Left,labelField:"label",itemsSource:je,majorStep:1,minorStep:1});$e.axes.push(ze);const qe=new LinearAxis({position:AxisPosition.Bottom,absoluteMinimum:0,minimumPadding:0});$e.axes.push(qe);const Xe=new BarSeries({fillColor:OxyColor.fromArgb(255,78,154,6),valueField:"value1",title:"2009",itemsSource:je});$e.series.push(Xe);const We=new BarSeries({fillColor:OxyColor.fromArgb(255,200,141,0),valueField:"value2",title:"2010",itemsSource:je});$e.series.push(We);const Ke=new BarSeries({fillColor:OxyColor.fromArgb(255,204,0,0),valueField:"value3",title:"2011",itemsSource:je});return $e.series.push(Ke),$e},bindingToItemsSourceArray=()=>{const je=new PlotModel({title:"Binding to ItemsSource",subtitle:"The items are defined by an array of BarItem/ColumnItem"});return je.series.push(new BarSeries({title:"Series 1",itemsSource:[new BarItem({value:25}),new BarItem({value:137})]})),je.series.push(new BarSeries({title:"Series 2",itemsSource:[new BarItem({value:52}),new BarItem({value:317})]})),je.axes.push(new CategoryAxis({position:AxisPosition.Left})),je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0})),je},bindingToItemsSourceListT=()=>{const je=new PlotModel({title:"Binding to ItemsSource",subtitle:"The items are defined by a List of BarItem/ColumnItem"});return je.series.push(new BarSeries({title:"Series 1",itemsSource:[new BarItem({value:25}),new BarItem({value:137})]})),je.series.push(new BarSeries({title:"Series 2",itemsSource:[new BarItem({value:52}),new BarItem({value:317})]})),je.axes.push(new CategoryAxis({position:AxisPosition.Left})),je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0})),je},bindingToItemsSourceReflection=()=>{const je=new PlotModel({title:"Binding to ItemsSource",subtitle:"Reflect by 'ValueField'"});return je.series.push(new BarSeries({title:"Series 1",valueField:"value1",itemsSource:[{value1:25},{value1:137}]})),je.series.push(new BarSeries({title:"Series 2",valueField:"value1",itemsSource:[{value1:52},{value1:317}]})),je.axes.push(new CategoryAxis({position:AxisPosition.Left})),je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0})),je},definedByItems=()=>{const je=new PlotModel({title:"Defined by Items",subtitle:"The items are added to the `Items` property."}),$e=new BarSeries({title:"Series 1"});$e.items.push(new BarItem({value:25}),new BarItem({value:137}));const Ve=new BarSeries({title:"Series 2"});return Ve.items.push(new BarItem({value:52}),new BarItem({value:317})),je.series.push($e,Ve),je.axes.push(new CategoryAxis({position:AxisPosition.Left})),je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0})),je};function emptyCategoryAxis(){const je=new PlotModel({title:"Empty category axis"}),$e=new BarSeries({title:"Series 1"});$e.items.push(new BarItem({value:25})),$e.items.push(new BarItem({value:137})),$e.items.push(new BarItem({value:18})),$e.items.push(new BarItem({value:40}));const Ve=new BarSeries({title:"Series 2"});Ve.items.push(new BarItem({value:-12})),Ve.items.push(new BarItem({value:-14})),Ve.items.push(new BarItem({value:-120})),Ve.items.push(new BarItem({value:-26}));const ze=new CategoryAxis({position:AxisPosition.Left}),qe=new LinearAxis({position:AxisPosition.Bottom,minimumPadding:.06,maximumPadding:.06,extraGridlines:[0],extraGridlineStyle:LineStyle.Solid,extraGridlineColor:OxyColors.Black,extraGridlineThickness:1});return je.series.push($e,Ve),je.axes.push(ze,qe),je}function withNegativeValue(){return createModelWithNegativeValues(!1,"With negative values")}function stackedWithNegativeValue(){return createModelWithNegativeValues(!0,"Stacked with negative values")}function mixedWithLineSeries(){const je=createSimpleModel(!1,"Mixed with LineSeries");je.title="Mixed with LineSeries";const $e=new LineSeries({title:"LineSeries 1"});return $e.points.push(newDataPoint(25,0)),$e.points.push(newDataPoint(137,1)),$e.points.push(newDataPoint(18,2)),$e.points.push(newDataPoint(40,3)),je.series.push($e),je}function noAxes(){const je=createSimpleModel(!1,"No axes defined");return je.axes.length=0,je}function stackedNoAxes(){const je=createSimpleModel(!0,"Stacked and no axes defined");return je.axes.length=0,je}function logAxisBaseValue(){const je=new PlotModel({title:"Logarithmic axis"}),$e=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Horizontal,legendBorderThickness:0});je.legends.push($e);const Ve=new BarSeries({title:"Series 1",baseValue:.1,strokeColor:OxyColors.Black,strokeThickness:1});Ve.items.push(new BarItem({value:25})),Ve.items.push(new BarItem({value:37})),Ve.items.push(new BarItem({value:18})),Ve.items.push(new BarItem({value:40}));const ze=new CategoryAxis({position:AxisPosition.Left});return ze.labels.push("Category A","Category B","Category C","Category D"),je.series.push(Ve),je.axes.push(ze),je.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom,minimum:.1,minimumPadding:0,absoluteMinimum:0})),je}function logAxisBaseLine(){const je=new PlotModel({title:"Logarithmic axis"}),$e=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Horizontal,legendBorderThickness:0});je.legends.push($e);const Ve=new BarSeries({title:"Series 1",baseLine:.1,strokeColor:OxyColors.Black,strokeThickness:1});Ve.items.push(new BarItem({value:25})),Ve.items.push(new BarItem({value:37})),Ve.items.push(new BarItem({value:18})),Ve.items.push(new BarItem({value:40}));const ze=new CategoryAxis({position:AxisPosition.Left});return ze.labels.push("Category A","Category B","Category C","Category D"),je.series.push(Ve),je.axes.push(ze),je.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom,minimumPadding:0,absoluteMinimum:0})),je}function logAxisNotStacked(){const je=new PlotModel({title:"Logarithmic axis"}),$e=new Legend({legendPlacement:LegendPlacement.Outside});je.legends.push($e);const Ve=[{label:"Apples",value1:37,value2:12,value3:19},{label:"Pears",value1:7,value2:21,value3:9},{label:"Bananas",value1:23,value2:2,value3:29}];return je.series.push(new BarSeries({title:"2009",itemsSource:Ve,valueField:"value1"})),je.series.push(new BarSeries({title:"2010",itemsSource:Ve,valueField:"value2"})),je.series.push(new BarSeries({title:"2011",itemsSource:Ve,valueField:"value3"})),je.axes.push(new CategoryAxis({position:AxisPosition.Left,itemsSource:Ve,labelField:"label"})),je.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom,minimum:1})),je}function logAxisStacked(){const je=logAxisNotStacked();for(const $e of je.series)$e instanceof BarSeries&&($e.isStacked=!0);return je}function histogram3(){return createHistogram(1e5,5)}function histogram20(){return createHistogram(1e5,20)}function histogram200(){return createHistogram(1e5,200)}function histogramStandardNormalDistribution(){return createNormalDistributionHistogram(1e5,2e3)}function differentColors(){const je=new PlotModel({title:"Different colors within the same series"}),$e=new BarSeries({title:"Series 1"});$e.items.push(new BarItem({value:1,color:OxyColors.Red})),$e.items.push(new BarItem({value:2,color:OxyColors.Green})),$e.items.push(new BarItem({value:1,color:OxyColors.Blue}));const Ve=new CategoryAxis({title:"Category",position:AxisPosition.Left});return Ve.labels.push("A","B","C"),je.axes.push(Ve),je.series.push($e),je}function stackingGroups(){const je=new PlotModel({title:"Stacking groups"}),$e=new BarSeries({title:"Series 1",stackGroup:"1",isStacked:!0});$e.items.push(new BarItem({value:1})),$e.items.push(new BarItem({value:2})),je.series.push($e);const Ve=new BarSeries({title:"Series 2",stackGroup:"2",isStacked:!0});Ve.items.push(new BarItem({value:2})),Ve.items.push(new BarItem({value:1})),je.series.push(Ve);const ze=new BarSeries({title:"Series 3",stackGroup:"1",isStacked:!0});ze.items.push(new BarItem({value:3})),ze.items.push(new BarItem({value:1})),je.series.push(ze);const qe=new CategoryAxis({title:"Category",position:AxisPosition.Left});return qe.labels.push("A","B"),je.axes.push(qe),je}function differentWidths(){const je=new PlotModel({title:"Different widths",subtitle:"Series1=0.6 and Series2=0.3"}),$e=new BarSeries({title:"Series 1",barWidth:.6});$e.items.push(new BarItem({value:1})),$e.items.push(new BarItem({value:2})),je.series.push($e);const Ve=new BarSeries({title:"Series 2",barWidth:.3});Ve.items.push(new BarItem({value:3})),Ve.items.push(new BarItem({value:1})),je.series.push(Ve);const ze=new CategoryAxis({title:"Category",position:AxisPosition.Left});return ze.labels.push("A","B"),je.axes.push(ze),je}function differentWidthsStacked(){const je=new PlotModel({title:"Different widths (stacked)"}),$e=new BarSeries({title:"Series 1",isStacked:!0,barWidth:.6});$e.items.push(new BarItem({value:1})),$e.items.push(new BarItem({value:2})),je.series.push($e);const Ve=new BarSeries({title:"Series 2",isStacked:!0,barWidth:.3});Ve.items.push(new BarItem({value:3})),Ve.items.push(new BarItem({value:1})),je.series.push(Ve);const ze=new CategoryAxis({title:"Category",position:AxisPosition.Left});return ze.labels.push("A","B"),je.axes.push(ze),je}function invalidValues(){const je=new PlotModel({title:"Invalid values",subtitle:"Series 1 contains a NaN value for category B."}),$e=new BarSeries({title:"Series 1"});$e.items.push(new BarItem({value:1})),$e.items.push(new BarItem({value:NaN})),je.series.push($e);const Ve=new BarSeries({title:"Series 2"});Ve.items.push(new BarItem({value:3})),Ve.items.push(new BarItem({value:1})),je.series.push(Ve);const ze=new CategoryAxis({title:"Category",position:AxisPosition.Left});return ze.labels.push("A","B"),je.axes.push(ze),je}function missingValues(){const je=new PlotModel({title:"Missing values",subtitle:"Series 1 contains only one item with CategoryIndex = 1"}),$e=new BarSeries({title:"Series 1"});$e.items.push(new BarItem({value:1,categoryIndex:1})),je.series.push($e);const Ve=new BarSeries({title:"Series 2"});Ve.items.push(new BarItem({value:3})),Ve.items.push(new BarItem({value:1.2})),je.series.push(Ve);const ze=new CategoryAxis({title:"Category",position:AxisPosition.Left});return ze.labels.push("A","B"),je.axes.push(ze),je}function categoryIndex(){const je=new PlotModel({title:"CategoryIndex",subtitle:"Setting CategoryIndex = 0 for both items in the series."}),$e=new BarSeries({title:"Series 1",strokeThickness:1});$e.items.push(new BarItem({value:1,categoryIndex:0})),$e.items.push(new BarItem({value:2,categoryIndex:0})),je.series.push($e);const Ve=new CategoryAxis({title:"Category",position:AxisPosition.Left});return Ve.labels.push("A","B"),je.axes.push(Ve),je}function categoryIndexStacked(){const je=new PlotModel({title:"CategoryIndex (stacked)",subtitle:"Setting CategoryIndex = 0 for both items in the series."}),$e=new BarSeries({title:"Series 1",isStacked:!0,strokeThickness:1});$e.items.push(new BarItem({value:1,categoryIndex:0})),$e.items.push(new BarItem({value:2,categoryIndex:0})),je.series.push($e);const Ve=new CategoryAxis({title:"Category",position:AxisPosition.Left});return Ve.labels.push("A","B"),je.axes.push(Ve),je}function baseValue(){const je=new PlotModel({title:"BaseValue",subtitle:"BaseValue = -1"}),$e=new BarSeries({title:"Series 1",baseValue:-1});$e.items.push(new BarItem({value:1})),$e.items.push(new BarItem({value:2})),je.series.push($e);const Ve=new BarSeries({title:"Series 2",baseValue:-1});Ve.items.push(new BarItem({value:4})),Ve.items.push(new BarItem({value:7})),je.series.push(Ve);const ze=new CategoryAxis({title:"Category",position:AxisPosition.Left});return ze.labels.push("A","B"),je.axes.push(ze),je}function baseValueStacked(){const je=new PlotModel({title:"BaseValue (stacked)",subtitle:"BaseValue = -1"}),$e=new BarSeries({title:"Series 1",isStacked:!0,baseValue:-1});$e.items.push(new BarItem({value:1})),$e.items.push(new BarItem({value:2})),je.series.push($e);const Ve=new BarSeries({title:"Series 2",isStacked:!0,baseValue:-1});Ve.items.push(new BarItem({value:4})),Ve.items.push(new BarItem({value:7})),je.series.push(Ve);const ze=new CategoryAxis({title:"Category",position:AxisPosition.Left});return ze.labels.push("A","B"),je.axes.push(ze),je}function baseValueOverlaping(){const je=new PlotModel({title:"BaseValue (overlaping)",subtitle:"BaseValue = -1"}),$e=new BarSeries({title:"Series 1",isStacked:!0,overlapsStack:!0,baseValue:-1});$e.items.push(new BarItem({value:1})),$e.items.push(new BarItem({value:2})),je.series.push($e);const Ve=new BarSeries({title:"Series 2",isStacked:!0,overlapsStack:!0,baseValue:-1,barWidth:.5});Ve.items.push(new BarItem({value:4})),Ve.items.push(new BarItem({value:7})),je.series.push(Ve);const ze=new CategoryAxis({title:"Category",position:AxisPosition.Left});return ze.labels.push("A","B"),je.axes.push(ze),je}function baseValueLabels(){const je=new PlotModel({title:"BaseValue with Labels"});for(const Ve of getEnumKeys(LabelPlacement)){const ze=new BarSeries({title:Ve.toString(),baseValue:-25,labelPlacement:Ve,labelStringFormatter:BarSeriesLabelStringFormatter});ze.items.push(new BarItem({value:-40})),ze.items.push(new BarItem({value:-25})),ze.items.push(new BarItem({value:-10})),ze.items.push(new BarItem({value:0})),ze.items.push(new BarItem({value:10})),je.series.push(ze)}const $e=new CategoryAxis({title:"Category",position:AxisPosition.Left,startPosition:1,endPosition:0});return $e.labels.push("A","B","C","D","E"),je.axes.push($e),je.legends.push(new Legend),je}function stackedLabels(){const je=new PlotModel({title:"Stacked with Labels"});let $e=0;for(const Ve of getEnumKeys(LabelPlacement)){const ze=new CategoryAxis({title:"Category",position:AxisPosition.Left,startPosition:1-$e*.25,endPosition:.75-$e*.25,key:`C${$e}`}),qe=new BarSeries({title:Ve.toString(),labelPlacement:Ve,labelStringFormatter:BarSeriesLabelStringFormatter,isStacked:!0,yAxisKey:ze.key});qe.items.push(new BarItem({value:5})),qe.items.push(new BarItem({value:10})),qe.items.push(new BarItem({value:15})),je.series.push(qe);const Xe=new BarSeries({title:Ve.toString(),labelPlacement:Ve,labelStringFormatter:BarSeriesLabelStringFormatter,isStacked:!0,yAxisKey:ze.key});Xe.items.push(new BarItem({value:15})),Xe.items.push(new BarItem({value:10})),Xe.items.push(new BarItem({value:5})),je.series.push(Xe),ze.labels.push("A","B","C"),je.axes.push(ze),$e++}return je.legends.push(new Legend),je}function gapWidth0(){return createGapWidthModel(0,"GapWidth 0%")}function gapWidth100(){return createGapWidthModel(1,"GapWidth 100% (default)")}function gapWidth200(){return createGapWidthModel(2,"GapWidth 200%")}function allInOne(){const je=new PlotModel({title:"All in one"}),$e=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Horizontal,legendBorderThickness:0});je.legends.push($e);const Ve=new CategoryAxis({position:AxisPosition.Left,gapWidth:.01});Ve.labels.push("Category A","Category B","Category C","Category D"),je.axes.push(Ve);const ze=new LinearAxis({position:AxisPosition.Bottom,minimumPadding:.06,maximumPadding:.06,extraGridlines:[0],extraGridlineStyle:LineStyle.Solid,extraGridlineColor:OxyColors.Black,extraGridlineThickness:1});je.axes.push(ze);const qe=0,Xe=1,We=2,Ke=3,Je=new BarSeries({title:"Series 1",isStacked:!0,strokeColor:OxyColors.Black,strokeThickness:1,stackGroup:"3"});Je.items.push(new BarItem({value:25}),new BarItem({value:137}),new BarItem({value:18}),new BarItem({value:40})),je.series.push(Je);const Ze=new BarSeries({title:"Series 2",isStacked:!0,strokeColor:OxyColors.Black,strokeThickness:1,stackGroup:"3"});Ze.items.push(new BarItem({value:-12}),new BarItem({value:-14}),new BarItem({value:-120}),new BarItem({value:-26})),je.series.push(Ze);const Qe=new BarSeries({title:"Series 3",isStacked:!0,strokeColor:OxyColors.Black,strokeThickness:1,stackGroup:"5",isVisible:!1});Qe.items.push(new BarItem({value:21}),new BarItem({value:8}),new BarItem({value:48}),new BarItem({value:3})),je.series.push(Qe);const St=new BarSeries({title:"Series 4",isStacked:!0,strokeColor:OxyColors.Black,strokeThickness:1,stackGroup:"5",labelStringFormatter:BarSeriesLabelStringFormatter,labelPlacement:LabelPlacement.Middle});St.items.push(new BarItem({value:-8,categoryIndex:qe}),new BarItem({value:-8,categoryIndex:qe}),new BarItem({value:-8,categoryIndex:qe}),new BarItem({value:-21,categoryIndex:Xe}),new BarItem({value:-3,categoryIndex:We}),new BarItem({value:-48,categoryIndex:Ke}),new BarItem({value:8,categoryIndex:qe}),new BarItem({value:21,categoryIndex:Xe}),new BarItem({value:3,categoryIndex:We}),new BarItem({value:48,categoryIndex:Ke})),je.series.push(St);const ei=new BarSeries({title:"Series 5",isStacked:!1,strokeColor:OxyColors.Black,strokeThickness:1});ei.items.push(new BarItem({value:17,categoryIndex:qe}),new BarItem({value:179,categoryIndex:Xe}),new BarItem({value:45,categoryIndex:We}),new BarItem({value:65,categoryIndex:Ke}),new BarItem({value:97,categoryIndex:qe}),new BarItem({value:21,categoryIndex:Ke})),je.series.push(ei);const ti=new BarSeries({title:"Series 6",isStacked:!1,strokeColor:OxyColors.Black,strokeThickness:1,labelStringFormatter:BarSeriesLabelStringFormatter,labelPlacement:LabelPlacement.Base});ti.items.push(new BarItem({value:7}),new BarItem({value:54}),new BarItem({value:68}),new BarItem({value:12})),je.series.push(ti);const ni=new BarSeries({title:"Series 7",isStacked:!0,overlapsStack:!0,strokeColor:OxyColors.Black,strokeThickness:1,labelStringFormatter:BarSeriesLabelStringFormatter,labelPlacement:LabelPlacement.Base,stackGroup:"3",barWidth:.5});return ni.items.push(new BarItem({value:10}),new BarItem({value:80}),new BarItem({value:100,categoryIndex:Ke})),je.series.push(ni),je}const BarSeriesLabelStringFormatter=je=>je.value.toString();function createGapWidthModel(je,$e){const Ve=createSimpleModel(!1,$e);return Ve.axes[0].gapWidth=je,Ve}function createSimpleModel(je,$e){const Ve=new PlotModel({title:$e}),ze=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Horizontal,legendBorderThickness:0});Ve.legends.push(ze);const qe=new BarSeries({title:"Series 1",isStacked:je,strokeColor:OxyColors.Black,strokeThickness:1});qe.items.push(BarItem.fromValue(25)),qe.items.push(BarItem.fromValue(137)),qe.items.push(BarItem.fromValue(18)),qe.items.push(BarItem.fromValue(40));const Xe=new BarSeries({title:"Series 2",isStacked:je,strokeColor:OxyColors.Black,strokeThickness:1});Xe.items.push(BarItem.fromValue(12)),Xe.items.push(BarItem.fromValue(14)),Xe.items.push(BarItem.fromValue(120)),Xe.items.push(BarItem.fromValue(26));const We=new CategoryAxis({position:AxisPosition.Left});We.labels.push("Category A","Category B","Category C","Category D");const Ke=new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0,maximumPadding:.06,absoluteMinimum:0});return Ve.series.push(qe,Xe),Ve.axes.push(We,Ke),Ve}function createModelWithNegativeValues(je,$e){const Ve=new PlotModel({title:$e}),ze=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Horizontal,legendBorderThickness:0});Ve.legends.push(ze);const qe=new BarSeries({title:"Series 1",isStacked:je,strokeColor:OxyColors.Black,strokeThickness:1});qe.items.push(BarItem.fromValue(25)),qe.items.push(BarItem.fromValue(137)),qe.items.push(BarItem.fromValue(18)),qe.items.push(BarItem.fromValue(40));const Xe=new BarSeries({title:"Series 2",isStacked:je,strokeColor:OxyColors.Black,strokeThickness:1});Xe.items.push(BarItem.fromValue(-12)),Xe.items.push(BarItem.fromValue(-14)),Xe.items.push(BarItem.fromValue(-120)),Xe.items.push(BarItem.fromValue(-26));const We=new BarSeries({title:"Series 3",isStacked:je,strokeColor:OxyColors.Black,strokeThickness:1});We.items.push(BarItem.fromValue(21)),We.items.push(BarItem.fromValue(8)),We.items.push(BarItem.fromValue(48)),We.items.push(BarItem.fromValue(3));const Ke=new BarSeries({title:"Series 4",isStacked:je,strokeColor:OxyColors.Black,strokeThickness:1});Ke.items.push(BarItem.fromValue(-8)),Ke.items.push(BarItem.fromValue(-21)),Ke.items.push(BarItem.fromValue(-3)),Ke.items.push(BarItem.fromValue(-48));const Je=new CategoryAxis({position:AxisPosition.Left});Je.labels.push("Category A","Category B","Category C","Category D");const Ze=new LinearAxis({position:AxisPosition.Bottom,minimumPadding:.06,maximumPadding:.06,extraGridlines:[0],extraGridlineStyle:LineStyle.Solid,extraGridlineColor:OxyColors.Black,extraGridlineThickness:1});return Ve.series.push(qe,Xe,We,Ke),Ve.axes.push(Je,Ze),Ve}function createHistogram(je,$e){const Ve=[];for(let We=0;We<$e;We++)Ve.push({label:We.toString(),value:0});const ze=new Random;for(let We=0;We<je;We++){const Ke=ze.next(0,$e-1);Ve[Ke].value++}const qe=new PlotModel;qe.title=`Histogram (bins=${$e}, n=${je})`,qe.subtitle="Pseudorandom numbers";const Xe=new BarSeries;return Xe.itemsSource=Ve,Xe.valueField="value",$e<100&&(Xe.labelStringFormatter=(We,Ke)=>Ke[0].toString()),qe.series.push(Xe),qe.axes.push(new CategoryAxis({position:AxisPosition.Left,itemsSource:Ve,labelField:"label",gapWidth:0})),qe.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0,maximumPadding:.1,absoluteMinimum:0})),qe}function createNormalDistributionHistogram(je,$e){const Ve=[];for(let Ze=0;Ze<$e;Ze++){const Qe=-10+20*Ze/(Ve.length-1);Ve.push({label:Qe.toFixed(1),value:0})}const Xe=new Random(31);for(let Ze=0;Ze<je;Ze++){const Qe=Xe.next(),St=Xe.next(),ei=Math.sqrt(-2*Math.log(Qe))*Math.cos(2*Math.PI*St),ti=Math.round((ei- -10)/20*(Ve.length-1));ti>=0&&ti<Ve.length&&Ve[ti].value++}const We=new PlotModel;We.title=`Histogram (bins=${$e}, n=${je})`,We.subtitle="Standard normal distribution by Box-Muller transform";const Ke=new BarSeries;Ke.itemsSource=Ve,Ke.valueField="value",We.series.push(Ke);const Je=new CategoryAxis({position:AxisPosition.Left,gapWidth:0});return Je.labels.push(...Ve.map(Ze=>Ze.label)),Je.isAxisVisible=!1,We.axes.push(Je),We.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10})),We.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0,absoluteMinimum:0})),We}const category$m="BarSeries",BarSeriesExamples={category:category$m,tags:["Series"],examples:[{title:"With labels",example:{model:withLabels}},{title:"With labels (at an angle)",example:{model:withLabelsAtAnAngle}},{title:"Stacked",example:{model:stackedSeries}},{title:"Multiple Value Axes",example:{model:multipleValueAxes}},{title:"Stacked, Multiple Value Axes",example:{model:stackedMultipleValueAxes}},{title:"Multiple Category Axes",example:{model:multipleCategoryAxes}},{title:"Stacked, Multiple Category Axes",example:{model:stackedMultipleCategoryAxes}},{title:"Empty series",example:{model:emptySeries}},{title:"No category axis defined",example:{model:noCategoryAxisDefined}},{title:"Binding to ItemsSource",example:{model:bindingItemsSource}},{title:"Binding to ItemsSource (array)",example:{model:bindingToItemsSourceArray}},{title:"Binding to ItemsSource (list)",example:{model:bindingToItemsSourceListT}},{title:"Binding to ItemsSource (reflection)",example:{model:bindingToItemsSourceReflection}},{title:"Defined by Items",example:{model:definedByItems}},{title:"Empty category axis",example:{model:emptyCategoryAxis}},{title:"With negative values",example:{model:withNegativeValue}},{title:"Stacked with negative values",example:{model:stackedWithNegativeValue}},{title:"Mixed with LineSeries",example:{model:mixedWithLineSeries}},{title:"No axes defined",example:{model:noAxes}},{title:"Stacked and no axes defined",example:{model:stackedNoAxes}},{title:"Logarithmic axis (Base Value)",example:{model:logAxisBaseValue}},{title:"Logarithmic axis (Base Line)",example:{model:logAxisBaseLine}},{title:"Logarithmic axis (not stacked)",example:{model:logAxisNotStacked}},{title:"Logarithmic axis (stacked series)",example:{model:logAxisStacked}},{title:"Histogram (bins=5)",example:{model:histogram3}},{title:"Histogram (bins=20)",example:{model:histogram20}},{title:"Histogram (bins=200)",example:{model:histogram200}},{title:"Histogram (standard normal distribution)",example:{model:histogramStandardNormalDistribution}},{title:"Different colors within the same series",example:{model:differentColors}},{title:"Different stacking groups",example:{model:stackingGroups}},{title:"Different widths",example:{model:differentWidths}},{title:"Different widths (stacked)",example:{model:differentWidthsStacked}},{title:"Invalid values",example:{model:invalidValues}},{title:"Missing values",example:{model:missingValues}},{title:"CategoryIndex",example:{model:categoryIndex}},{title:"CategoryIndex (stacked)",example:{model:categoryIndexStacked}},{title:"BaseValue",example:{model:baseValue}},{title:"BaseValue (stacked)",example:{model:baseValueStacked}},{title:"BaseValue (overlaping)",example:{model:baseValueOverlaping}},{title:"BaseValue (labels)",example:{model:baseValueLabels}},{title:"Stacked (labels)",example:{model:stackedLabels}},{title:"GapWidth 0%",example:{model:gapWidth0}},{title:"GapWidth 100% (default)",example:{model:gapWidth100}},{title:"GapWidth 200%",example:{model:gapWidth200}},{title:"All in one",example:{model:allInOne}}]};function boxPlot(){const $e=new PlotModel({title:"BoxPlot (n=10)"}),Ve=new Legend({legendPlacement:LegendPlacement.Outside});$e.legends.push(Ve);const ze=new BoxPlotSeries({title:"BoxPlotSeries",boxWidth:.3}),qe=new Random(31);for(let Xe=0;Xe<10;Xe++){const We=Xe,Ke=5+qe.next(15),Je=[];for(let ii=0;ii<Ke;ii++)Je.push(qe.next(0,20));Je.sort();const Ze=getMedian(Je),Qe=Je.reduce((ii,ui)=>ii+ui,0)/Je.length,St=Je.length%2,ei=getMedian(Je.slice(0,(Je.length+St)/2)),ti=getMedian(Je.slice((Je.length-St)/2)),oi=(ti-ei)*1.5;let ai=ti+oi;ai=maxValueOfArray(Je.filter(ii=>ii<=ai));let si=ei-oi;si=minValueOfArray(Je.filter(ii=>ii>=si));const ri=[ai+qe.next(1,10),si-qe.next(1,10)];ze.items.push({x:We,lowerWhisker:si,boxBottom:ei,median:Ze,boxTop:ti,upperWhisker:ai,mean:Qe,outliers:ri})}return $e.series.push(ze),$e.axes.push(new LinearAxis({position:AxisPosition.Left})),$e.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:.1,maximumPadding:.1})),$e}function getMedian(je){const $e=[...je].sort((ze,qe)=>ze-qe),Ve=$e.length;return Ve%2===1?$e[(Ve-1)/2]:.5*$e[Ve/2]+.5*$e[Ve/2-1]}function boxPlot2(){const je=boxPlot(),$e=je.series[0];return $e.showMedianAsDot=!0,$e.outlierType=MarkerType.Cross,$e.fill=OxyColors.Black,$e.showBox=!1,$e.whiskerWidth=0,je}function boxPlot3(){const je=boxPlot(),$e=je.series[0];return $e.lineStyle=LineStyle.Dash,je}function outlierTypeCross(){const je=boxPlot(),$e=je.series[0];return $e.outlierType=MarkerType.Cross,je}function outlierTypeCustom(){const je=boxPlot(),$e=je.series[0];return $e.outlierType=MarkerType.Custom,$e.outlierOutline=[newScreenPoint(-1,-1),newScreenPoint(1,1),newScreenPoint(-1,1),newScreenPoint(1,-1)],je}function michelsonMorleyExperiment(){const je=new PlotModel,$e=new BoxPlotSeries({title:"Results",stroke:OxyColors.Black,strokeThickness:1,outlierSize:2,boxWidth:.4,items:[]});$e.items.push({x:0,lowerWhisker:740,boxBottom:850,median:945,boxTop:980,upperWhisker:1070,outliers:[650]}),$e.items.push({x:1,lowerWhisker:750,boxBottom:805,median:845,boxTop:890,upperWhisker:970,outliers:[]}),$e.items.push({x:2,lowerWhisker:845,boxBottom:847,median:855,boxTop:880,upperWhisker:910,outliers:[640,950,970]}),$e.items.push({x:3,lowerWhisker:720,boxBottom:760,median:820,boxTop:870,upperWhisker:910,outliers:[]}),$e.items.push({x:4,lowerWhisker:730,boxBottom:805,median:807,boxTop:870,upperWhisker:950,outliers:[]}),je.series.push($e),je.annotations.push(new LineAnnotation({type:LineAnnotationType.Horizontal,lineStyle:LineStyle.Solid,y:792.458,text:"true speed"}));const Ve=new CategoryAxis({title:"Experiment No."});return Ve.labels.push("1","2","3","4","5"),je.axes.push(Ve),je.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Speed of light (km/s minus 299,000)",majorStep:100,minorStep:100})),je}function boxPlotSeries_DateTimeAxis(){const je=getDateService(),$e=new PlotModel,Ve=DateTimeAxis.toDouble(new Date(2013,5,4));$e.axes.push(new DateTimeAxis({position:AxisPosition.Bottom,minimum:Ve-.9,maximum:Ve+1.9,intervalType:DateTimeIntervalType.Days,majorStep:1,minorStep:1,stringFormatter:qe=>je.format(qe,"YYYY-MM-DD")}));const ze=new BoxPlotSeries({trackerStringFormatter:qe=>`X: ${je.format(qe.xValue,"YYYY-MM-DD")}
Upper Whisker: ${qe.upperWhisker.toFixed(2)}
Third Quartil: ${qe.boxTop.toFixed(2)}
Median: ${qe.median.toFixed(2)}
First Quartil: ${qe.boxBottom.toFixed(2)}
Lower Whisker: ${qe.lowerWhisker.toFixed(2)}
Mean: ${qe.mean.toFixed(2)}`,items:[]});return ze.items.push({x:Ve,lowerWhisker:10,boxBottom:14,median:16,boxTop:20,upperWhisker:22,mean:17,outliers:[23.5]}),ze.items.push({x:Ve+1,lowerWhisker:11,boxBottom:13,median:14,boxTop:15,upperWhisker:18,outliers:[23.4]}),$e.series.push(ze),$e}const category$l="BoxPlotSeries",BoxPlotSeriesExamples={category:category$l,tags:["Series"],examples:[{title:"BoxPlot",example:{model:boxPlot}},{title:"BoxPlot (minimal data/ink ratio)",example:{model:boxPlot2}},{title:"BoxPlot (dashed line)",example:{model:boxPlot3}},{title:"Outlier type = Cross",example:{model:outlierTypeCross}},{title:"Outlier type = Custom",example:{model:outlierTypeCustom}},{title:"Michelson-Morley experiment",example:{model:michelsonMorleyExperiment}},{title:"BoxPlot (DateTime axis)",example:{model:boxPlotSeries_DateTimeAxis}}]},peaks=(je,$e)=>3*(1-je)*(1-je)*Math.exp(-(je*je)-($e+1)*($e+1))-10*(je/5-je*je*je-$e*$e*$e*$e*$e)*Math.exp(-je*je-$e*$e)-1/3*Math.exp(-(je+1)*(je+1)-$e*$e),openContours=(je,$e)=>je*je/($e*$e+1)+$e*$e/(je*je+1),createVector=(je,$e,Ve)=>ArrayBuilder.createVectorWithStep(je,$e,Ve);function peaksModel(){const je=new PlotModel({title:"Peaks"}),$e=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3.1,3.1,.05)});return $e.data=ArrayBuilder.evaluate(peaks,$e.columnCoordinates,$e.rowCoordinates),je.subtitle=`${$e.data.length}×${$e.data[0].length}`,je.series.push($e),je}function peaksLabelStep1LevelStepPI2(){const je=new PlotModel({title:"Peaks LabelStep = 1, ContourLevelStep = PI/2"}),$e=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3.1,3.1,.05),contourLevelStep:Math.PI/2,labelStep:1});return $e.data=ArrayBuilder.evaluate(peaks,$e.columnCoordinates,$e.rowCoordinates),je.subtitle=`${$e.data.length}×${$e.data[0].length}`,je.series.push($e),je}function peaksLabelStep2(){const je=new PlotModel({title:"Peaks LabelStep = 2, ContourLevelStep = 0.5"}),$e=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3.1,3.1,.05),contourLevelStep:.5,labelStep:2});return $e.data=ArrayBuilder.evaluate(peaks,$e.columnCoordinates,$e.rowCoordinates),je.subtitle=`${$e.data.length}×${$e.data[0].length}`,je.series.push($e),je}function peaksLabelStep2LevelStep033(){const je=new PlotModel({title:"Peaks LabelStep = 2, ContourLevelStep = 0.33"}),$e=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3.1,3.1,.05),contourLevelStep:.33,labelStep:2});return $e.data=ArrayBuilder.evaluate(peaks,$e.columnCoordinates,$e.rowCoordinates),je.subtitle=`${$e.data.length}×${$e.data[0].length}`,je.series.push($e),je}function peaksLabelStep3(){const je=new PlotModel({title:"Peaks LabelStep = 3, ContourLevelStep = 1"}),$e=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3.1,3.1,.05),labelStep:3});return $e.data=ArrayBuilder.evaluate(peaks,$e.columnCoordinates,$e.rowCoordinates),je.subtitle=`${$e.data.length}×${$e.data[0].length}`,je.series.push($e),je}function peaksMultiLabel(){const je=new PlotModel({title:"Peaks MultiLabel"}),$e=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3.1,3.1,.05),multiLabel:!0});return $e.data=ArrayBuilder.evaluate(peaks,$e.columnCoordinates,$e.rowCoordinates),je.subtitle=`${$e.data.length}×${$e.data[0].length}`,je.series.push($e),je}function peaksLabelSpacing400(){const je=new PlotModel({title:"Peaks LabelSpacing = 400"}),$e=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3.1,3.1,.05),multiLabel:!0,labelSpacing:400});return $e.data=ArrayBuilder.evaluate(peaks,$e.columnCoordinates,$e.rowCoordinates),je.subtitle=`${$e.data.length}×${$e.data[0].length}`,je.series.push($e),je}function peaksWithColors(){const je=new PlotModel({title:"Peaks"}),$e=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3.1,3.1,.05),contourColors:[OxyColors.SeaGreen,OxyColors.RoyalBlue,OxyColors.IndianRed]});return $e.data=ArrayBuilder.evaluate(peaks,$e.columnCoordinates,$e.rowCoordinates),je.subtitle=`${$e.data.length}×${$e.data[0].length}`,je.series.push($e),je}function wideArrayPeaks(){const je=new PlotModel({title:"Peaks"});je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-3.16262,maximum:3.162}));const $e=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-1,1,.05)});return $e.data=ArrayBuilder.evaluate(peaks,$e.columnCoordinates,$e.rowCoordinates),je.subtitle=`${$e.data.length}×${$e.data[0].length}`,je.series.push($e),je}function openContoursModel(){const je=new PlotModel,$e=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3,3,.05)});return $e.data=ArrayBuilder.evaluate(openContours,$e.columnCoordinates,$e.rowCoordinates),je.series.push($e),je}function logPeaks(){const je=(qe,Xe)=>peaks(Math.log(qe)/10,Math.log(Xe)/10),$e=new PlotModel,Ve=createVector(-3,3,.05);for(let qe=0;qe<Ve.length;qe++)Ve[qe]=Math.exp(Ve[qe]*10);const ze=new ContourSeries({columnCoordinates:Ve,rowCoordinates:Ve});return ze.data=ArrayBuilder.evaluate(je,ze.columnCoordinates,ze.rowCoordinates),$e.series.push(ze),$e.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom})),$e.axes.push(new LogarithmicAxis({position:AxisPosition.Left})),$e}const category$k="ContourSeries",ContourSeriesExamples={category:category$k,tags:["Series"],examples:[{title:"Peaks",example:{model:peaksModel}},{title:"Peaks LabelStep = 1, ContourLevelStep = PI/2",example:{model:peaksLabelStep1LevelStepPI2}},{title:"Peaks LabelStep = 2, ContourLevelStep = 0.5",example:{model:peaksLabelStep2}},{title:"Peaks LabelStep = 2, ContourLevelStep = 0.33",example:{model:peaksLabelStep2LevelStep033}},{title:"Peaks LabelStep = 3, ContourLevelStep = 1",example:{model:peaksLabelStep3}},{title:"Peaks MultiLabel",example:{model:peaksMultiLabel}},{title:"Peaks LabelSpacing = 400",example:{model:peaksLabelSpacing400}},{title:"Peaks (different contour colors)",example:{model:peaksWithColors}},{title:"Peaks (wide array)",example:{model:wideArrayPeaks}},{title:"Open Contours",example:{model:openContoursModel}},{title:"Logarithmic Peaks",example:{model:logPeaks}}]};function getErrorBarSeries(){const je=new PlotModel({title:"ErrorBarSeries"}),$e=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Horizontal,legendBorderThickness:0});je.legends.push($e);const Ve=new ErrorBarSeries({title:"Series 1",isStacked:!1,strokeColor:OxyColors.Black,strokeThickness:1});Ve.items.push(new ErrorBarItem({value:25,error:2})),Ve.items.push(new ErrorBarItem({value:137,error:25})),Ve.items.push(new ErrorBarItem({value:18,error:4})),Ve.items.push(new ErrorBarItem({value:40,error:29}));const ze=new ErrorBarSeries({title:"Series 2",isStacked:!1,strokeColor:OxyColors.Black,strokeThickness:1});ze.items.push(new ErrorBarItem({value:35,error:20})),ze.items.push(new ErrorBarItem({value:17,error:7})),ze.items.push(new ErrorBarItem({value:118,error:44})),ze.items.push(new ErrorBarItem({value:49,error:29}));const qe=new CategoryAxis({position:AxisPosition.Left});qe.labels.push("Category A"),qe.labels.push("Category B"),qe.labels.push("Category C"),qe.labels.push("Category D");const Xe=new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0,maximumPadding:.06,absoluteMinimum:0});return je.series.push(Ve),je.series.push(ze),je.axes.push(qe),je.axes.push(Xe),je}function getErrorBarSeriesThickErrorLines(){const je=getErrorBarSeries();for(const $e of je.series)$e instanceof ErrorBarSeries&&($e.errorWidth=0,$e.errorStrokeThickness=4);return je}const category$j="ErrorBarSeries",ErrorBarSeriesExamples={category:category$j,tags:["Series"],examples:[{title:"ErrorBarSeries",example:{model:getErrorBarSeries}},{title:"ErrorBarSeries (thick error lines)",example:{model:getErrorBarSeriesThickErrorLines}}]};function extrapolatedLineSeries(){const je=new PlotModel({title:"Line Fit"}),$e=new ScatterSeries({title:"Data"});$e.points.push({x:3,y:1.4}),$e.points.push({x:4,y:1.3}),$e.points.push({x:5,y:1.6}),$e.points.push({x:6,y:2.3}),$e.points.push({x:7,y:2.2}),$e.points.push({x:8,y:2.5}),$e.points.push({x:9,y:2.9}),$e.points.push({x:10,y:3.1}),$e.points.push({x:11,y:3.1}),$e.points.push({x:12,y:3.8}),je.series.push($e);const{slope:Ve,intercept:ze}=calculateLinearRegressionParameters($e.points),qe=new ExtrapolationLineSeries({title:"Fit",color:OxyColors.Black,lineStyle:LineStyle.Solid,extrapolationColor:OxyColors.DarkGray,extrapolationLineStyle:LineStyle.Dash,strokeThickness:3,ignoreExtraplotationForScaling:!0});qe.intervals.push(new DataRange(Number.NEGATIVE_INFINITY,minValueOfArray($e.points.map(Ke=>Ke.x)))),qe.intervals.push(new DataRange(maxValueOfArray($e.points.map(Ke=>Ke.x)),Number.POSITIVE_INFINITY));const Xe=Array.from({length:200},(Ke,Je)=>Je-100).map(Ke=>newDataPoint(Ke,Ve*Ke+ze));qe.points.push(...Xe),je.series.push(qe);const We=new Legend({legendPosition:LegendPosition.BottomRight});return je.legends.push(We),je}function interpolationStyleLineSeries(){const je=new PlotModel({title:"Interpolation"}),$e=new ExtrapolationLineSeries({title:"Third Order Polynomial",color:OxyColors.Black,lineStyle:LineStyle.Dash,extrapolationColor:OxyColors.Gray,extrapolationLineStyle:LineStyle.Dot,strokeThickness:3});$e.intervals.push(new DataRange(Number.NEGATIVE_INFINITY,-15)),$e.intervals.push(new DataRange(10,30)),$e.intervals.push(new DataRange(55,Number.POSITIVE_INFINITY));const Ve=[.1,-6,-12,0],ze=(We,Ke)=>Ke.reduce((Je,Ze)=>Je*We+Ze,0),qe=Array.from({length:100},(We,Ke)=>Ke-30).map(We=>newDataPoint(We,ze(We,Ve)));$e.points.push(...qe),je.series.push($e);const Xe=new Legend({legendPosition:LegendPosition.TopCenter});return je.legends.push(Xe),je}function twoColorLineSeriesReversed$2(){return PlotModelUtilities.reverseYAxis(interpolationStyleLineSeries())}function intersectingIntervals(){const je=new PlotModel({title:"Intersecting Intervals"}),$e=new DataRange(-20,20),Ve=new DataRange(0,30),ze=new DataRange(10,40),qe=new ExtrapolationLineSeries({title:`Overlapping intervals ${$e}, ${Ve}, ${ze}`,color:OxyColors.Black,lineStyle:LineStyle.Solid,extrapolationColor:OxyColors.Gray,extrapolationLineStyle:LineStyle.Dot,strokeThickness:3});qe.intervals.push($e,Ve,ze);const Xe=[.1,-6,-12,0],We=(Ze,Qe)=>Qe.reduce((St,ei)=>St*Ze+ei,0),Ke=Array.from({length:100},(Ze,Qe)=>Qe-30).map(Ze=>newDataPoint(Ze,We(Ze,Xe)));qe.points.push(...Ke),je.series.push(qe);const Je=new Legend({legendPosition:LegendPosition.TopCenter});return je.legends.push(Je),je}function customDashes(){const je=new PlotModel({title:"Custom Dashes"}),$e=new ExtrapolationLineSeries({title:"y = 5",color:OxyColors.Black,lineStyle:LineStyle.Dash,dashes:[5,1],extrapolationColor:OxyColors.Gray,extrapolationLineStyle:LineStyle.Dot,extrapolationDashes:[1,5],strokeThickness:3});$e.intervals.push(new DataRange(Number.NEGATIVE_INFINITY,0));const Ve=Array.from({length:200},(qe,Xe)=>Xe-100).map(qe=>newDataPoint(qe,5));$e.points.push(...Ve),je.series.push($e);const ze=new Legend({legendPosition:LegendPosition.TopCenter});return je.legends.push(ze),je}function manyIntervals(){const je=new PlotModel({title:"ManyIntervals"}),$e=new ExtrapolationLineSeries({title:"y = x",color:OxyColors.Red,lineStyle:LineStyle.Solid,extrapolationLineStyle:LineStyle.Solid,strokeThickness:3,ignoreExtraplotationForScaling:!0});$e.intervals.push(new DataRange(-1e3,1e4)),Array.from({length:98},(Xe,We)=>new DataRange(1e3*We,1e3*We+500)).forEach(Xe=>$e.intervals.push(Xe)),$e.intervals.push(new DataRange(2e5,Number.POSITIVE_INFINITY));const ze=Array.from({length:1e5},(Xe,We)=>newDataPoint(We,We));$e.points.push(...ze),je.series.push($e);const qe=new Legend({legendPosition:LegendPosition.TopCenter});return je.legends.push(qe),je}function mooresLaw(){const je=new PlotModel({title:"Moore's Law"}),$e=new ScatterSeries({title:"Data"});$e.points.push(...getPointForMooresLaw()),je.series.push($e),je.axes.push(new LinearAxis({title:"Year",position:AxisPosition.Bottom})),je.axes.push(new LogarithmicAxis({title:"Transistors (in thousands)",position:AxisPosition.Left}));const{slope:Ve,intercept:ze}=calculateLinearRegressionParameters($e.points.map(Ke=>({x:Ke.x,y:Math.log10(Ke.y)}))),qe=new ExtrapolationLineSeries({title:"Fit and Extrapolation",color:OxyColors.Black,lineStyle:LineStyle.Solid,extrapolationColor:OxyColors.Blue,extrapolationLineStyle:LineStyle.Dot,strokeThickness:3});qe.intervals.push(new DataRange(2015,Number.POSITIVE_INFINITY));const Xe=Array.from({length:55},(Ke,Je)=>Je+1970).map(Ke=>newDataPoint(Ke,Math.pow(10,Ve*Ke+ze)));qe.points.push(...Xe),je.series.push(qe);const We=new Legend({legendPosition:LegendPosition.TopCenter});return je.legends.push(We),je}function calculateLinearRegressionParameters(je){if(je===void 0)throw new Error("points is undefined");if(je.length<2)throw new Error("at least two points required");const $e=je.reduce((Ke,Je)=>Ke+Je.x,0)/je.length,Ve=je.reduce((Ke,Je)=>Ke+Je.y,0)/je.length,ze=covariance(je,$e,Ve),qe=variance2(je.map(Ke=>Ke.x)),Xe=ze/qe,We=Ve-Xe*$e;return{slope:Xe,intercept:We}}function covariance(je,$e,Ve){let ze=je.reduce((qe,Xe)=>qe+Xe.x*Xe.y,0);return ze-=je.length*$e*Ve,ze/=je.length-1,ze}function variance2(je){const $e=je.reduce((ze,qe)=>ze+qe,0)/je.length;let Ve=je.reduce((ze,qe)=>ze+qe*qe,0);return Ve-=je.length*$e*$e,Ve/=je.length-1,Ve}function getPointForMooresLaw(){return[{x:1971.875,y:2.30824152676},{x:1972.30769231,y:3.55452235561},{x:1974.32692308,y:6.09756235221},{x:1979.56730769,y:29.1637757405},{x:1982.30769231,y:135.772714211},{x:1985.91346154,y:273.841963426},{x:1986.25,y:109.411381058},{x:1988.65384615,y:121.881418484},{x:1989.47115385,y:1207.90074743},{x:1990.57692308,y:1207.90074743},{x:1992.40384615,y:1207.90074743},{x:1992.69230769,y:3105.90022362},{x:1992.69230769,y:1113.97385999},{x:1993.02884615,y:1715.43789634},{x:1993.41346154,y:3105.90022362},{x:1993.41346154,y:922.239565104},{x:1994.71153846,y:1910.95297497},{x:1994.71153846,y:2788.12666541},{x:1995.43269231,y:9646.61619911},{x:1995.72115385,y:3105.90022362},{x:1996.15384615,y:5473.70326288},{x:1996.34615385,y:6792.52507006},{x:1996.34615385,y:3651.74127255},{x:1996.44230769,y:4293.51021008},{x:1996.82692308,y:9646.61619911},{x:1997.35576923,y:5473.70326288},{x:1997.45192308,y:3554.52235561},{x:1997.54807692,y:8896.4911282},{x:1997.64423077,y:7566.6953714},{x:1998.89423077,y:15261.3780258},{x:1999.13461538,y:9389.79801048},{x:1999.18269231,y:6978.3058486},{x:1999.47115385,y:9389.79801048},{x:1999.47115385,y:21673.9216957},{x:2000.19230769,y:22266.7201035},{x:2000.67307692,y:28387.3596476},{x:2000.67307692,y:37180.2666391},{x:2001.10576923,y:29163.7757405},{x:2001.20192308,y:42550.6550247},{x:2001.68269231,y:25482.9674798},{x:2001.82692308,y:37180.2666391},{x:2002.40384615,y:55730.6040127},{x:2002.78846154,y:38197.1754928},{x:2002.88461538,y:220673.406908},{x:2003.41346154,y:151247.254531},{x:2003.50961538,y:54246.9093701},{x:2003.65384615,y:106498.563535},{x:2004.80769231,y:125214.968907},{x:2004.80769231,y:106498.563535},{x:2004.80769231,y:273841.963426},{x:2005.72115385,y:232909.659246},{x:2005.81730769,y:112403.866377},{x:2005.96153846,y:305052.789027},{x:2006.05769231,y:115478.198469},{x:2006.875,y:378551.524926},{x:2006.875,y:155383.983127},{x:2006.92307692,y:245824.406892},{x:2006.97115385,y:296931.48482},{x:2006.97115385,y:582941.534714},{x:2007.06730769,y:151247.254531},{x:2007.64423077,y:582941.534714},{x:2007.74038462,y:232909.659246},{x:2007.78846154,y:805842.187761},{x:2007.83653846,y:115478.198469},{x:2007.98076923,y:509367.521678},{x:2008.22115385,y:445079.406236},{x:2008.46153846,y:410469.838044},{x:2009.18269231,y:457252.669897},{x:2009.27884615,y:784388.558145},{x:2009.66346154,y:230824152676e-5},{x:2009.71153846,y:191095297497e-5},{x:2010.19230769,y:410469.838044},{x:2010.38461538,y:13097472643e-4},{x:2011.16,y:117e4},{x:2011.32,y:26e5},{x:2011.9,y:12e5},{x:2012.4,y:24e5},{x:2012.41,y:23e5},{x:2012.7,y:21e5},{x:2012.9,y:12e5},{x:2013.4,y:5e6},{x:2013.8,y:43e5},{x:2014.16,y:43e5},{x:2014.5,y:42e5},{x:2014.8,y:26e5},{x:2014.81,y:38e5},{x:2014.82,y:57e5}]}const category$i="ExtrapolationLineSeries",ExtrapolationLineSeriesExamples={category:category$i,tags:["Series"],examples:[{title:"Line Fit (Ignore Extrapolation For Scaling)",example:{model:extrapolatedLineSeries}},{title:"Interpolation",example:{model:interpolationStyleLineSeries}},{title:"Interpolation (Y Axis reversed)",example:{model:twoColorLineSeriesReversed$2}},{title:"Intersecting Intervals",example:{model:intersectingIntervals}},{title:"Custom Dashes",example:{model:customDashes}},{title:"Many Intervals",example:{model:manyIntervals}},{title:"Moore's Law",example:{model:mooresLaw}}]};function squareWave(){return _createSquareWave(25)}function clover(){return _createParametricPlot(je=>2*Math.cos(2*je)*Math.cos(je),je=>2*Math.cos(2*je)*Math.sin(je),0,Math.PI*2,1e3,"Parametric function","Using the CartesianAxes property","2cos(2t)cos(t) , 2cos(2t)sin(t)")}function parametricFunction2(){return _createParametricPlot(je=>3*Math.sin(5*je),je=>3*Math.cos(3*je),0,Math.PI*2,1e3,"Parametric function",void 0,"3sin(5t) , 3cos(3t)")}function parametricFunction3(){return _createParametricPlot(je=>2*Math.cos(je)+Math.cos(8*je),je=>2*Math.sin(je)+Math.sin(8*je),0,Math.PI*2,1e3,"Parametric function",void 0,"2cos(t)+cos(8t) , 2sin(t)+sin(8t)")}function lemniscateOfBernoulli(){return _createParametricPlot($e=>1*Math.sqrt(2)*Math.cos($e)/(Math.sin($e)*Math.sin($e)+1),$e=>1*Math.sqrt(2)*Math.cos($e)*Math.sin($e)/(Math.sin($e)*Math.sin($e)+1),0,Math.PI*2,1e3,"Lemniscate of Bernoulli")}function lemniscateOfGerono(){return _createParametricPlot(je=>Math.cos(je),je=>Math.sin(2*je)/2,0,Math.PI*2,1e3,"Lemniscate of Gerono")}function lissajousFigure(){const Ve=Math.PI/2;return _createParametricPlot(ze=>Math.sin(3*ze+Ve),ze=>Math.sin(2*ze),0,Math.PI*2,1e3,"Lissajous figure",void 0,"a=3, b=2, δ = π/2")}function roseCurve(){const je=new PlotModel({title:"Rose curve",plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness(0)});je.axes.push(new AngleAxis({minimum:0,maximum:Math.PI*2,majorStep:Math.PI/4,minorStep:Math.PI/16,majorGridlineStyle:LineStyle.Solid,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"π"})),je.axes.push(new MagnitudeAxis({majorGridlineStyle:LineStyle.Solid}));const $e=4,Ve=3,ze=Ve/$e;return je.series.push(new FunctionSeries({fx:qe=>Math.sin(ze*qe),fy:qe=>qe,t0:0,t1:Math.PI*2*$e,n:1e3,title:`d=${$e}, n=${Ve}`})),je}function limaconOfPascal(){const je=new PlotModel({title:"Limaçon of Pascal",plotType:PlotType.Cartesian});for(let $e=4;$e<=4;$e++)for(let Ve=0;Ve<=10;Ve++)je.series.push(new FunctionSeries({fx:ze=>$e/2+Ve*Math.cos(ze)+$e/2*Math.cos(2*ze),fy:ze=>Ve*Math.sin(ze)+$e/2*Math.sin(2*ze),t0:0,t1:Math.PI*2,n:1e3,title:`a=${$e}, b=${Ve}`}));return je}function descartesFolium(){const je=new PlotModel({title:"Folium of Descartes",plotType:PlotType.Cartesian});je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-3,maximum:3})),je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-3,maximum:3}));const $e=1;return je.series.push(new FunctionSeries({fx:Ve=>3*$e*Ve/(Math.pow(Ve,3)+1),fy:Ve=>3*$e*Math.pow(Ve,2)/(Math.pow(Ve,3)+1),t0:-30,t1:30,n:1001,title:`a=${$e}`})),je}function trisectrixOfMaclaurin(){const je=new PlotModel({title:"Trisectrix of Maclaurin",plotType:PlotType.Cartesian}),$e=1;return je.series.push(new FunctionSeries({fx:Ve=>$e*(Ve*Ve-3)/(Ve*Ve+1),fy:Ve=>$e*Ve*(Ve*Ve-3)/(Ve*Ve+1),t0:-5,t1:5,n:1e3})),je}function fermatsSpiral(){const je=new PlotModel({title:"Fermat's spiral",plotType:PlotType.Cartesian}),$e=1;return je.series.push(new FunctionSeries({fx:Ve=>$e*Math.sqrt(Ve)*Math.cos(Ve),fy:Ve=>$e*Math.sqrt(Ve)*Math.sin(Ve),t0:0,t1:20,n:1e3})),je.series.push(new FunctionSeries({fx:Ve=>-$e*Math.sqrt(Ve)*Math.cos(Ve),fy:Ve=>-$e*Math.sqrt(Ve)*Math.sin(Ve),t0:0,t1:20,n:1e3})),je}function fishCurve(){const je=new PlotModel({title:"Fish curve",plotType:PlotType.Cartesian});for(let $e=.1;$e<1;$e+=.1)je.series.push(new FunctionSeries({fx:Ve=>$e*(Math.cos(Ve)-Math.sin(Ve)*Math.sin(Ve)/Math.sqrt(2)),fy:Ve=>$e*Math.cos(Ve)*Math.sin(Ve),t0:0,t1:2*Math.PI,n:1e3}));return je}function heavisideStepFunction(){const je=new PlotModel({title:"Heaviside step function",plotType:PlotType.Cartesian});return je.series.push(new FunctionSeries({f:$e=>Math.abs($e)<1e-8?NaN:$e<0?0:1,x0:-2,x1:2,dx:.001})),je.annotations.push(new LineAnnotation({type:LineAnnotationType.Vertical,color:je.defaultColors[0],x:0,minimumY:0,maximumY:1})),je}function functionSeries(){const je=new PlotModel({title:"Trigonometric functions",subtitle:"Example using the FunctionSeries",plotType:PlotType.Cartesian,plotAreaBackground:OxyColors.White});return je.series.push(new FunctionSeries({f:Math.sin,x0:-10,x1:10,dx:.1,title:"sin(x)"})),je.series.push(new FunctionSeries({f:Math.cos,x0:-10,x1:10,dx:.1,title:"cos(x)"})),je.series.push(new FunctionSeries({fx:$e=>5*Math.cos($e),fy:$e=>5*Math.sin($e),t0:0,t1:2*Math.PI,n:1e3,title:"cos(t),sin(t)"})),je}function squirqle(){const je=new PlotModel({title:"Squirqle",plotType:PlotType.Cartesian});return je.series.push(_createSuperellipseSeries(4,1,1)),je}function superellipse20(){const je=new PlotModel({title:"Superellipse",plotType:PlotType.Cartesian}),$e=_createSuperellipseSeries(20,1,1);return $e.markerType=MarkerType.Circle,je.series.push($e),je}function lameCurves(){const je=new PlotModel({title:"Lamé curves",plotType:PlotType.Cartesian}),$e=new Legend({legendPlacement:LegendPlacement.Outside});je.legends.push($e);for(let Ve=.25;Ve<2;Ve+=.25)je.series.push(_createSuperellipseSeries(Ve,1,1));for(let Ve=2;Ve<=8+1e-6;Ve+=1)je.series.push(_createSuperellipseSeries(Ve,1,1));return je}function _createSquareWave(je=25){const $e=new PlotModel({title:"Square wave (Gibbs phenomenon)"}),Ve=qe=>{let Xe=0;for(let We=0;We<je;We++){const Ke=We*2+1;Xe+=Math.sin(Ke*qe)/Ke}return Xe},ze=new FunctionSeries({f:Ve,x0:-10,x1:10,dx:1e-4,title:`sin(x)+sin(3x)/3+sin(5x)/5+...+sin(${2*je-1})/${2*je-1}`});return $e.series.push(ze),$e.subtitle=`n = ${ze.points.length}`,$e.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-4,maximum:4})),$e.axes.push(new LinearAxis({position:AxisPosition.Bottom})),$e}function _createSuperellipseSeries(je,$e,Ve){return new FunctionSeries({fx:ze=>$e*Math.sign(Math.cos(ze))*Math.pow(Math.abs(Math.cos(ze)),2/je),fy:ze=>Ve*Math.sign(Math.sin(ze))*Math.pow(Math.abs(Math.sin(ze)),2/je),t0:0,t1:Math.PI*2,n:101,title:`n=${je}, a=${$e}, b=${Ve}`})}function _createParametricPlot(je,$e,Ve,ze,qe,Xe,We,Ke){const Je=new PlotModel({title:Xe,subtitle:We,plotType:PlotType.Cartesian});return Je.series.push(new FunctionSeries({fx:je,fy:$e,t0:Ve,t1:ze,n:qe,title:Ke})),Je}const category$h="FunctionSeries",FunctionSeriesExamples={category:category$h,tags:["Series"],examples:[{title:"Square wave",example:{model:squareWave}},{title:"Parametric function 1",example:{model:clover}},{title:"Parametric function 2",example:{model:parametricFunction2}},{title:"Parametric function 3",example:{model:parametricFunction3}},{title:"Lemniscate of Bernoulli",example:{model:lemniscateOfBernoulli}},{title:"Lemniscate of Gerono",example:{model:lemniscateOfGerono}},{title:"Lissajous figure",example:{model:lissajousFigure}},{title:"Rose curve",example:{model:roseCurve}},{title:"Limaçon of Pascal",example:{model:limaconOfPascal}},{title:"Folium of Descartes",example:{model:descartesFolium}},{title:"Trisectrix of Maclaurin",example:{model:trisectrixOfMaclaurin}},{title:"Fermat's spiral",example:{model:fermatsSpiral}},{title:"Fish curve",example:{model:fishCurve}},{title:"Heaviside step function",example:{model:heavisideStepFunction}},{title:"FunctionSeries",example:{model:functionSeries}},{title:"Squirqle",example:{model:squirqle}},{title:"Superellipse n=20",example:{model:superellipse20}},{title:"Lamé curves",example:{model:lameCurves}}]};function exponentialDistribution(){return createExponentialDistribution()}function exponentialDistributionLogarithmicAxis(){return createExponentialDistribution(!0)}function exponentialDistributionLogarithmicAxisWithBaseValue(){return createExponentialDistribution(!0,1,1e4,.1)}function histogramLabelPlacement(){const je=new PlotModel({title:"Label Placement"}),$e=new HistogramSeries({labelPlacement:LabelPlacement.Base,labelStringFormatter:Xe=>"Base",strokeThickness:1,labelMargin:5}),Ve=new HistogramSeries({labelPlacement:LabelPlacement.Inside,labelStringFormatter:Xe=>"Inside",strokeThickness:1,labelMargin:5}),ze=new HistogramSeries({labelPlacement:LabelPlacement.Middle,labelStringFormatter:Xe=>"Middle",strokeThickness:1,labelMargin:5}),qe=new HistogramSeries({labelPlacement:LabelPlacement.Outside,labelStringFormatter:Xe=>"Outside",strokeThickness:1,labelMargin:5});return $e.items.push(new HistogramItem(1,2,4,4)),$e.items.push(new HistogramItem(2,3,-4,4)),Ve.items.push(new HistogramItem(3,4,2,2)),Ve.items.push(new HistogramItem(4,5,-2,2)),ze.items.push(new HistogramItem(5,6,3,3)),ze.items.push(new HistogramItem(6,7,-3,3)),qe.items.push(new HistogramItem(7,8,1,1)),qe.items.push(new HistogramItem(8,9,-1,-1)),je.series.push($e),je.series.push(Ve),je.series.push(ze),je.series.push(qe),je}function labelPlacementReversed(){const je=histogramLabelPlacement();return PlotModelUtilities.reverseYAxis(je),je}function labelFormatString$1(){const je=createDisconnectedBins(),$e=je.series[0];return $e.labelStringFormatter=Ve=>`Start: ${Ve.rangeStart.toFixed(2)}
End: ${Ve.rangeEnd.toFixed(2)}
Value: ${Ve.value.toFixed(2)}
Area: ${Ve.area.toFixed(2)}
Count: ${Ve.count}`,$e.labelPlacement=LabelPlacement.Inside,je}function customBins(){return createExponentialDistributionCustomBins()}function disconnectedBins(){return createDisconnectedBins()}function normalDistribution(){return createNormalDistribution()}function individualBinColors(){return createIndividualBinColors()}function customItemMapping(){const je=new PlotModel({title:"Custom Item Mapping"}),$e=new HistogramSeries({mapping:Ve=>Ve,trackerStringFormatter:Ve=>Ve.item.description});return $e.items.push(new CustomHistogramItem(1,2,4,4,"Item 1")),$e.items.push(new CustomHistogramItem(2,3,-4,4,"Item 2")),$e.items.push(new CustomHistogramItem(3,4,2,2,"Item 3")),$e.items.push(new CustomHistogramItem(4,5,-2,2,"Item 4")),je.series.push($e),je}class CustomHistogramItem extends HistogramItem{constructor($e,Ve,ze,qe,Xe){super($e,Ve,ze,qe),this.description=Xe}}function createExponentialDistribution(je=!1,$e=1,Ve=1e4,ze=0){const qe=new PlotModel({title:je?"Exponential Distribution (logarithmic)":"Exponential Distribution",subtitle:`Uniformly distributed bins (${Ve} samples)`});qe.axes.push(je?new LogarithmicAxis({position:AxisPosition.Left,title:"Frequency"}):new LinearAxis({position:AxisPosition.Left,title:"Frequency"})),qe.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"x"}));const Xe=new Random(1),We=new HistogramSeries,Ke=new BinningOptions(BinningOutlierMode.CountOutliers,BinningIntervalType.InclusiveLowerBound,BinningExtremeValueMode.ExcludeExtremeValues),Je=HistogramHelpers.createUniformBins(0,5,15);return We.items.push(...HistogramHelpers.collect(sampleExps(Xe,$e,Ve),Je,Ke)),We.strokeThickness=1,We.baseValue=ze,We.negativeFillColor=OxyColors.Red,qe.series.push(We),qe}function createExponentialDistributionCustomBins(je=1,$e=5e4){const Ve=new PlotModel({title:"Exponential Distribution",subtitle:`Custom bins (${$e} samples)`});Ve.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Frequency"})),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"x"}));const ze=new Random(1),qe=new HistogramSeries,Xe=new BinningOptions(BinningOutlierMode.CountOutliers,BinningIntervalType.InclusiveLowerBound,BinningExtremeValueMode.ExcludeExtremeValues);return qe.items.push(...HistogramHelpers.collect(sampleExps(ze,je,$e),[0,.1,.2,.3,.4,.5,.75,1,2,3,4,5],Xe)),qe.strokeThickness=1,qe.fillColor=OxyColors.Purple,Ve.series.push(qe),Ve}function createNormalDistribution(je=0,$e=1,Ve=1e6){const ze=new PlotModel({title:`Normal Distribution (μ=${je}, σ=${$e})`,subtitle:`95% of the distribution (${Ve} samples)`});ze.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Frequency"})),ze.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"x"}));const qe=new Random(1),Xe=new HistogramSeries,We=new BinningOptions(BinningOutlierMode.CountOutliers,BinningIntervalType.InclusiveLowerBound,BinningExtremeValueMode.ExcludeExtremeValues),Ke=HistogramHelpers.createUniformBins(-$e*4,$e*4,100);Xe.items.push(...HistogramHelpers.collect(sampleNormal(qe,je,$e,Ve),Ke,We)),Xe.strokeThickness=1;const Je=je+1.96*$e,Ze=je-1.96*$e,Qe=OxyColors.DarkRed,St=OxyColors.DarkRed;return Xe.colorMapping=ei=>ei.rangeCenter>Je?Qe:ei.rangeCenter<Ze?St:Xe.actualFillColor,ze.series.push(Xe),ze}function createDisconnectedBins(){const je=new PlotModel({title:"Disconnected Bins"});je.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Representation"})),je.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"x"}));const $e=new HistogramSeries;return $e.items.push(new HistogramItem(0,.5,10,7),new HistogramItem(.75,1,10,7)),$e.labelStringFormatter=Ve=>Ve.value.toFixed(2),$e.labelPlacement=LabelPlacement.Middle,je.series.push($e),je}function createIndividualBinColors(je=1,$e=1e4){const Ve=new PlotModel({title:"Individual Bin Colors",subtitle:"Minimum is Red, Maximum is Green"});Ve.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Frequency"})),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Observation"}));const ze=new Random(1),qe=new HistogramSeries({fillColor:OxyColors.Gray,renderInLegend:!0,title:"Measurements"}),Xe=new BinningOptions(BinningOutlierMode.CountOutliers,BinningIntervalType.InclusiveLowerBound,BinningExtremeValueMode.ExcludeExtremeValues),We=HistogramHelpers.createUniformBins(0,10,20),Ke=HistogramHelpers.collect(sampleUniform(ze,0,10,1e3),We,Xe).sort((Je,Ze)=>Je.count-Ze.count);return Ke[0].color=OxyColors.Red,Ke[Ke.length-1].color=OxyColors.Green,qe.items.push(...Ke),qe.strokeThickness=1,Ve.series.push(qe),Ve}function sampleExps(je,$e,Ve){const ze=[];for(let qe=0;qe<Ve;qe++)ze.push(sampleExp(je,$e));return ze}function sampleExp(je,$e){return Math.log(1-je.next())/-$e}function sampleNormal(je,$e,Ve,ze){const qe=[];for(let Xe=0;Xe<ze;Xe++)qe.push(sampleNormalSingle(je,$e,Ve));return qe}function sampleNormalSingle(je,$e,Ve){const ze=1-je.next(),qe=je.next();return Math.sqrt(-2*Math.log(ze))*Math.cos(2*Math.PI*qe)*Ve+$e}function sampleUniform(je,$e,Ve,ze){const qe=[];for(let Xe=0;Xe<ze;Xe++)qe.push(je.next()*(Ve-$e)+$e);return qe}const category$g="HistogramSeries",HistogramSeriesExamples={category:category$g,tags:["Series"],examples:[{title:"Exponential Distribution",example:{model:exponentialDistribution}},{title:"Exponential Distribution (logarithmic)",example:{model:exponentialDistributionLogarithmicAxis}},{title:"Exponential Distribution (logarithmic,with BaseValue)",example:{model:exponentialDistributionLogarithmicAxisWithBaseValue}},{title:"Label Placement",example:{model:histogramLabelPlacement}},{title:"Label Placement (reversed Y Axis)",example:{model:labelPlacementReversed}},{title:"Label Format String",example:{model:labelFormatString$1}},{title:"Custom Bins",example:{model:customBins}},{title:"Disconnected Bins",example:{model:disconnectedBins}},{title:"Normal Distribution Three Colors",example:{model:normalDistribution}},{title:"Individual Bin Colors",example:{model:individualBinColors}},{title:"Custom Item Mapping",example:{model:customItemMapping}}]};function intervalBarSeries(){const je=new PlotModel({title:"IntervalBarSeries"}),$e=new Legend({legendPlacement:LegendPlacement.Outside});je.legends.push($e);const Ve=new IntervalBarSeries({title:"IntervalBarSeries 1"});Ve.items.push(new IntervalBarItem({start:6,end:8})),Ve.items.push(new IntervalBarItem({start:4,end:8})),Ve.items.push(new IntervalBarItem({start:5,end:11})),Ve.items.push(new IntervalBarItem({start:4,end:12})),je.series.push(Ve);const ze=new IntervalBarSeries({title:"IntervalBarSeries 2"});ze.items.push(new IntervalBarItem({start:8,end:9})),ze.items.push(new IntervalBarItem({start:8,end:10})),ze.items.push(new IntervalBarItem({start:11,end:12})),ze.items.push(new IntervalBarItem({start:12,end:12.5})),je.series.push(ze);const qe=new CategoryAxis({position:AxisPosition.Left});qe.labels.push("Activity A"),qe.labels.push("Activity B"),qe.labels.push("Activity C"),qe.labels.push("Activity D");const Xe=new LinearAxis({position:AxisPosition.Bottom,minimumPadding:.1,maximumPadding:.1});return je.axes.push(qe),je.axes.push(Xe),je}function intervalBarSeriesWithLabels(){const je=new PlotModel({title:"IntervalBarSeries"}),$e=new Legend({legendPlacement:LegendPlacement.Outside});je.legends.push($e);const Ve=new IntervalBarSeries({title:"IntervalBarSeries 1",labelPlacement:LabelPlacement.Outside});Ve.items.push(new IntervalBarItem({start:6,end:8,categoryIndex:0})),Ve.items.push(new IntervalBarItem({start:10,end:12,categoryIndex:0})),je.series.push(Ve);const ze=new IntervalBarSeries({title:"IntervalBarSeries 2",labelPlacement:LabelPlacement.Inside});ze.items.push(new IntervalBarItem({start:4,end:8,categoryIndex:1})),ze.items.push(new IntervalBarItem({start:10,end:12,categoryIndex:1})),je.series.push(ze);const qe=new IntervalBarSeries({title:"IntervalBarSeries 3",labelPlacement:LabelPlacement.Middle});qe.items.push(new IntervalBarItem({start:5,end:11,categoryIndex:2})),qe.items.push(new IntervalBarItem({start:13,end:17,categoryIndex:2})),je.series.push(qe);const Xe=new IntervalBarSeries({title:"IntervalBarSeries 4",labelPlacement:LabelPlacement.Base,textColor:OxyColors.White});Xe.items.push(new IntervalBarItem({start:4,end:12,categoryIndex:3})),Xe.items.push(new IntervalBarItem({start:13,end:17,categoryIndex:3})),je.series.push(Xe);const We=new IntervalBarSeries({title:"IntervalBarSeries 5",labelPlacement:LabelPlacement.Outside,labelAngle:-45});We.items.push(new IntervalBarItem({start:6,end:8,categoryIndex:4})),We.items.push(new IntervalBarItem({start:10,end:12,categoryIndex:4})),je.series.push(We);const Ke=new IntervalBarSeries({title:"IntervalBarSeries 6",labelPlacement:LabelPlacement.Inside,labelAngle:-45});Ke.items.push(new IntervalBarItem({start:4,end:8,categoryIndex:5})),Ke.items.push(new IntervalBarItem({start:10,end:12,categoryIndex:5})),je.series.push(Ke);const Je=new IntervalBarSeries({title:"IntervalBarSeries 7",labelPlacement:LabelPlacement.Middle,labelAngle:-45});Je.items.push(new IntervalBarItem({start:5,end:11,categoryIndex:6})),Je.items.push(new IntervalBarItem({start:13,end:17,categoryIndex:6})),je.series.push(Je);const Ze=new IntervalBarSeries({title:"IntervalBarSeries 8",labelPlacement:LabelPlacement.Base,labelAngle:-45});Ze.items.push(new IntervalBarItem({start:4,end:12,categoryIndex:7})),Ze.items.push(new IntervalBarItem({start:13,end:17,categoryIndex:7})),je.series.push(Ze);const Qe=new CategoryAxis({key:"CategoryAxis",position:AxisPosition.Left,startPosition:1,endPosition:0});Qe.labels.push("Label Outside"),Qe.labels.push("Label Inside"),Qe.labels.push("Label Middle"),Qe.labels.push("Label Base"),Qe.labels.push("Label Outside (angled)"),Qe.labels.push("Label Inside (angled)"),Qe.labels.push("Label Middle (angled)"),Qe.labels.push("Label Base (angled)");const St=new LinearAxis({key:"ValueAxis",position:AxisPosition.Bottom,minimumPadding:.1,maximumPadding:.1});return je.axes.push(Qe),je.axes.push(St),je}const category$f="IntervalBarSeries",IntervalBarSeriesExamples={category:category$f,tags:["Series"],examples:[{title:"IntervalBarSeries",example:{model:intervalBarSeries}},{title:"IntervalBarSeries with various label types",example:{model:intervalBarSeriesWithLabels}}]};function defaultStyle$1(){const je=new PlotModel({title:"LinearBarSeries with default style"});je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left}));const $e=_createExampleLinearBarSeries();return $e.title="LinearBarSeries",je.series.push($e),je}function withStroke(){const je=new PlotModel({title:"LinearBarSeries with stroke"});je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left}));const $e=_createExampleLinearBarSeries();return $e.title="LinearBarSeries",$e.fillColor=OxyColor.parse("#454CAF50"),$e.strokeColor=OxyColor.parse("#4CAF50"),$e.strokeThickness=1,je.series.push($e),je}function withNegativeColors(){return _createWithNegativeColors()}function withNegativeColorsLogarithmic(){return _createWithNegativeColors(!0)}function withBaseValue(){return _createWithNegativeColors(void 0,50)}function withBaseValueLogarithmic(){return _createWithNegativeColors(!0,50)}function _createWithNegativeColors(je=!1,$e=0){const Ve=new PlotModel({title:je?"LinearBarSeries with stroke (logarithmic)":"LinearBarSeries with stroke"});Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Ve.axes.push(je?new LogarithmicAxis({position:AxisPosition.Left}):new LinearAxis({position:AxisPosition.Left}));const ze=_createExampleLinearBarSeriesWithNegativeValues();return ze.title="LinearBarSeries",ze.fillColor=OxyColor.parse("#454CAF50"),ze.strokeColor=OxyColor.parse("#4CAF50"),ze.negativeFillColor=OxyColor.parse("#45BF360C"),ze.negativeStrokeColor=OxyColor.parse("#BF360C"),ze.strokeThickness=1,ze.baseValue=$e,Ve.series.push(ze),Ve}function _createExampleLinearBarSeries(){const je=new LinearBarSeries,$e=new Random;let Ve=$e.next(10,31);for(let ze=0;ze<=50;ze++)je.points.push(newDataPoint(ze,Ve)),Ve+=$e.next(-5,5);return je}function _createExampleLinearBarSeriesWithNegativeValues(){const je=new LinearBarSeries,$e=new Random;for(let Ve=0;Ve<=50;Ve++){const ze=-200+$e.next(0,1e3);je.points.push(newDataPoint(Ve,ze))}return je}const category$e="LinearBarSeries",LinearBarSeriesExamples={category:category$e,tags:["Series"],examples:[{title:"Default style",example:{model:defaultStyle$1}},{title:"With stroke",example:{model:withStroke}},{title:"With negative colors",example:{model:withNegativeColors}},{title:"With negative colors (logaritmic)",example:{model:withNegativeColorsLogarithmic}},{title:"With BaseValue",example:{model:withBaseValue}},{title:"With BaseValue (Logarithmic)",example:{model:withBaseValueLogarithmic}}]};function defaultStyle(){const je=new PlotModel({title:"LineSeries with default style"});je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left}));const $e=createExampleLineSeries();return $e.title="LineSeries 1",je.series.push($e),je}function customStyle(){const je=new PlotModel({title:"LineSeries with custom style"}),$e=new Legend({legendSymbolLength:24});je.legends.push($e),je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left}));const Ve=createExampleLineSeries();return Ve.title="LineSeries 1",Ve.toolTip="This is a tooltip for a LineSeries 1",Ve.color=OxyColors.SkyBlue,Ve.strokeThickness=3,Ve.lineStyle=LineStyle.Dash,Ve.markerType=MarkerType.Circle,Ve.markerSize=5,Ve.markerStroke=OxyColors.White,Ve.markerFill=OxyColors.SkyBlue,Ve.markerStrokeThickness=1.5,je.series.push(Ve),je}function twoLineSeries(){const je=new PlotModel({title:"Two LineSeries"});je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left}));const $e=createExampleLineSeries();$e.title="LineSeries 1",je.series.push($e);const Ve=createExampleLineSeries(41);return Ve.title="LineSeries 2",je.series.push(Ve),je}function isVisibleFalse(){const je=new PlotModel({title:"LineSeries with IsVisible = false",subtitle:"Click to change the IsVisible property for LineSeries 2"});je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:50}));const $e=createExampleLineSeries(38);$e.title="LineSeries 1",je.series.push($e);const Ve=createExampleLineSeries(39);return Ve.title="LineSeries 2",Ve.isVisible=!1,je.series.push(Ve),je.mouseDown=(ze,qe)=>{Ve.isVisible=!Ve.isVisible,je.invalidatePlot(!0)},je}function trackerFormatString$1(){const je=new PlotModel({title:"LineSeries with custom TrackerFormatString",subtitle:'TrackerFormatString = "X={2:0.0} Y={4:0.0}"'});je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left}));const $e=createExampleLineSeries();return $e.trackerStringFormatter=Ve=>"X="+Ve.xValue.toFixed(1)+" Y="+Ve.yValue.toFixed(1),je.series.push($e),je}function customMarkers(){const je=new PlotModel({title:"LineSeries with custom markers"}),$e=new Legend({legendSymbolLength:30});je.legends.push($e);const Ve=6,ze=[];for(let Xe=0;Xe<Ve;Xe++){const We=Math.PI*(4*Xe/(Ve-1)-.5),Ke=1;ze[Xe]=newScreenPoint(Math.cos(We)*Ke,Math.sin(We)*Ke)}const qe=createExampleLineSeries(39);return qe.title="LineSeries 1",qe.markerType=MarkerType.Custom,qe.markerSize=8,qe.markerOutline=ze,je.series.push(qe),je}function markerTypes$1(){const je=createModel("LineSeries with different MarkerType",MarkerType.Custom),$e=new Legend({legendBackground:OxyColor.fromAColor(220,OxyColors.White),legendBorder:OxyColors.Black,legendBorderThickness:1});je.legends.push($e);let Ve=0;for(const ze of je.series){const qe=ze;qe.color=OxyColors.Red,qe.markerStroke=OxyColors.Black,qe.markerFill=OxyColors.Green,qe.markerType=Ve++,qe.title=MarkerType[qe.markerType]}return je}function labels(){const je=new PlotModel({title:"LineSeries with labels",subtitle:"Use the 'labelFormatString' property"}),$e=new Legend({legendSymbolLength:24});je.legends.push($e),je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.axes.push(new LinearAxis({position:AxisPosition.Left,maximumPadding:.1}));const Ve=createExampleLineSeries();return Ve.labelStringFormatter=(ze,qe)=>qe[1].toString(),Ve.markerType=MarkerType.Circle,je.series.push(Ve),je}function lineStyles(){const je=createModel("LineSeries with LineStyle",LineStyle.None),$e=new Legend({legendPlacement:LegendPlacement.Outside,legendSymbolLength:50});je.legends.push($e);let Ve=0;for(const ze of je.series){const qe=ze;qe.color=OxyColors.Red,qe.lineStyle=Ve++,qe.title=LineStyle[qe.lineStyle]}return je}function smooth(){const je=new PlotModel({title:"LineSeries with interpolation",subtitle:"InterpolationAlgorithm = CanonicalSpline"}),$e=new Legend({legendSymbolLength:24});je.legends.push($e);const Ve=createExampleLineSeries();return Ve.markerType=MarkerType.Circle,Ve.interpolationAlgorithm=InterpolationAlgorithms.CanonicalSpline,je.series.push(Ve),je}function customLineLegendPosition(){const je=new PlotModel({title:"LineSeries with LineLegendPosition"});je.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:.05,maximumPadding:.05})),je.axes.push(new LinearAxis({position:AxisPosition.Left,minimumPadding:.05,maximumPadding:.05}));const $e=createExampleLineSeries();$e.title="Start",$e.markerType=MarkerType.Circle,$e.lineLegendPosition=LineLegendPosition.Start,je.series.push($e);const Ve=createExampleLineSeries(41);return Ve.title="End",Ve.markerType=MarkerType.Circle,Ve.lineLegendPosition=LineLegendPosition.End,je.series.push(Ve),je}function customLineLegendPositionReversed(){return PlotModelUtilities.reverseXAxis(customLineLegendPosition())}function brokenLine(){const je=new PlotModel({title:"LineSeries with broken lines"}),$e=createExampleLineSeries();$e.points[3]=DataPoint_Undefined,$e.points[7]=DataPoint_Undefined,$e.brokenLineColor=OxyColors.Gray,$e.brokenLineThickness=.5,$e.brokenLineStyle=LineStyle.Solid,je.series.push($e);const Ve=createExampleLineSeries(49);return Ve.points[3]=DataPoint_Undefined,Ve.points[7]=DataPoint_Undefined,Ve.brokenLineColor=OxyColors.Automatic,Ve.brokenLineThickness=1,Ve.brokenLineStyle=LineStyle.Dot,je.series.push(Ve),je}function withoutDecimator(){const je=new PlotModel({title:"LineSeries without Decimator"}),$e=createSeriesSuitableForDecimation();return je.series.push($e),je}function withXDecimator(){const je=new PlotModel({title:"LineSeries with X Decimator"}),$e=createSeriesSuitableForDecimation();return $e.decimator=Decimator.decimate,je.series.push($e),je}function canonicalSplineInterpolation(){const je=createRandomPoints();return new PlotModel({title:"Canonical spline interpolation",series:[new LineSeries({itemsSource:je,title:"Default (0.5)",interpolationAlgorithm:InterpolationAlgorithms.CanonicalSpline,markerType:MarkerType.Circle,markerFill:OxyColors.Black}),new LineSeries({itemsSource:je,title:"0.1",interpolationAlgorithm:new CanonicalSpline(.1)}),new LineSeries({itemsSource:je,title:"1.0",interpolationAlgorithm:new CanonicalSpline(1)})]})}function catmullRomInterpolation(){const je=createRandomPoints();return new PlotModel({title:"Catmull-Rom interpolation",series:[new LineSeries({itemsSource:je,title:"Standard",interpolationAlgorithm:InterpolationAlgorithms.CatmullRomSpline,markerType:MarkerType.Circle,markerFill:OxyColors.Black}),new LineSeries({itemsSource:je,title:"Chordal",interpolationAlgorithm:InterpolationAlgorithms.ChordalCatmullRomSpline}),new LineSeries({itemsSource:je,title:"Uniform",interpolationAlgorithm:InterpolationAlgorithms.UniformCatmullRomSpline})]})}function markerColorOptions(){createRandomPoints();const je=new PlotModel({title:"Marker color options"}),$e=createExampleLineSeries(1);$e.markerType=MarkerType.Circle,je.series.push($e);const Ve=createExampleLineSeries(4);Ve.markerType=MarkerType.Square,Ve.color=OxyColors.LightBlue,je.series.push(Ve);const ze=createExampleLineSeries(13);ze.markerType=MarkerType.Square,ze.markerFill=OxyColors.Black,je.series.push(ze);const qe=createExampleLineSeries(5);return qe.markerType=MarkerType.Square,qe.markerFill=OxyColors.OrangeRed,qe.color=OxyColors.Orange,je.series.push(qe),je}function createRandomPoints(je=50){const $e=new Random,Ve=[];for(let ze=0;ze<je;ze++)ze<5?Ve.push(newDataPoint(ze,0)):ze<10?Ve.push(newDataPoint(ze,1)):ze<12?Ve.push(newDataPoint(ze,0)):Ve.push(newDataPoint(ze,$e.next()));return Ve}function createExampleLineSeries(je=13){const $e=new LineSeries,Ve=new Random(je);let ze=Ve.next(10,30);for(let qe=0;qe<=100;qe+=10)$e.points.push(newDataPoint(qe,ze)),ze+=Ve.next(-5,5);return $e}function createModel(je,$e=20){const Ve=new PlotModel({title:je});for(let ze=1;ze<=$e;ze++){const qe=new LineSeries({title:"Series "+ze});Ve.series.push(qe);for(let Xe=0;Xe<2*Math.PI;Xe+=.1)qe.points.push(newDataPoint(Xe,Math.sin(Xe*ze)/(ze+1)+ze))}return Ve}function createSeriesSuitableForDecimation(){const je=new LineSeries,$e=2e4;for(let Ve=0;Ve<$e;Ve++)je.points.push(newDataPoint(Ve/$e,Math.sin(Ve)));return je}const category$d="LineSeries",LineSeriesExamples={category:category$d,tags:["Series"],examples:[{title:"Default style",example:{model:defaultStyle}},{title:"Custom style",example:{model:customStyle}},{title:"Two LineSeries",example:{model:twoLineSeries}},{title:"Visibility",example:{model:isVisibleFalse}},{title:"Custom TrackerFormatString",example:{model:trackerFormatString$1}},{title:"Custom markers",example:{model:customMarkers}},{title:"Marker types",example:{model:markerTypes$1}},{title:"Labels",example:{model:labels}},{title:"LineStyle",example:{model:lineStyles}},{title:"Interpolation",example:{model:smooth}},{title:"LineLegendPosition",example:{model:customLineLegendPosition}},{title:"LineLegendPosition (reversed X Axis)",example:{model:customLineLegendPositionReversed}},{title:"Broken lines",example:{model:brokenLine}},{title:"Without Decimator",example:{model:withoutDecimator}},{title:"With X Decimator",example:{model:withXDecimator}},{title:"Canonical spline interpolation",example:{model:canonicalSplineInterpolation}},{title:"Catmull-Rom interpolation",example:{model:catmullRomInterpolation}},{title:"Marker color options",example:{model:markerColorOptions}}]};function pieSeries(){return createExample()}function insideLabelColor(){const je=createExample(),$e=je.series[0];return $e.insideLabelColor=OxyColors.White,je}function createExample(){const je=new PlotModel({title:"World population by continent"}),$e=new PieSeries({strokeThickness:2,insideLabelPosition:.8,angleSpan:360,startAngle:0});return $e.slices.push({label:"Africa",value:1030,isExploded:!0}),$e.slices.push({label:"Americas",value:929,isExploded:!0}),$e.slices.push({label:"Asia",value:4157}),$e.slices.push({label:"Europe",value:739,isExploded:!0}),$e.slices.push({label:"Oceania",value:35,isExploded:!0}),je.series.push($e),je}const category$c="PieSeries",PieSeriesExamples={category:category$c,tags:["Series"],examples:[{title:"PieSeries",example:{model:pieSeries}},{title:"PieSeries with inside label color",example:{model:insideLabelColor}}]};function polygonSeries(){const je=new PlotModel({title:"Polygon Series",plotType:PlotType.Cartesian});je.axes.push(new LinearColorAxis);const $e=new PolygonSeries,Ve=[];for(let ze=0;ze<5;ze++)$e.items.push(newPolygonItem(regularPolygon(newDataPoint(ze*5,0),2,3+ze),ze)),Ve.push(regularPolygon(newDataPoint(ze*5,5),2,3+ze));return $e.items.push(newPolygonItem(Ve,10)),je.series.push($e),je}function hexGrid(){const je=new PlotModel({title:"Hexagonal Grid"});je.axes.push(new LinearColorAxis({position:AxisPosition.Right}));const $e=We=>Math.sin(We.x/5)+Math.sqrt(We.y),Ve=1,ze=Ve*2-Math.cos(Math.PI/3)*Ve,qe=Math.sin(Math.PI/3)*Ve*2,Xe=new PolygonSeries({stroke:OxyColors.Black,strokeThickness:1});for(let We=0;We<40;We++)for(let Ke=0;Ke<40;Ke++){const Je=We%2===0?0:qe/2,Ze=newDataPoint(We*ze,Ke*qe+Je);Xe.items.push(newPolygonItem(regularPolygon(Ze,Ve,6),$e(Ze)))}return je.series.push(Xe),je}function regularPolygon(je,$e,Ve){const ze=new Array(Ve);for(let qe=0;qe<ze.length;qe++){const Xe=Math.PI*2*qe/ze.length,We=Math.cos(Xe)*$e,Ke=Math.sin(Xe)*$e;ze[qe]=newDataPoint(je.x+We,je.y+Ke)}return ze}const category$b="PolygonSeries",PolygonSeriesExamples={category:category$b,tags:["Series"],examples:[{title:"PolygonSeries",example:{model:polygonSeries}},{title:"Hexagonal Grid",example:{model:hexGrid}}]};function rectangleBarSeries(){const je=new PlotModel({title:"RectangleBarSeries"}),$e=new Legend({legendPlacement:LegendPlacement.Outside});je.legends.push($e);const Ve=new RectangleBarSeries({title:"RectangleBarSeries 1"}),ze=Xe=>(Xe.color||(Xe.color=OxyColors.Automatic),Xe);Ve.items.push(ze({x0:2,x1:8,y0:1,y1:4})),Ve.items.push(ze({x0:6,x1:12,y0:6,y1:7})),je.series.push(Ve);const qe=new RectangleBarSeries({title:"RectangleBarSeries 2"});return qe.items.push(ze({x0:2,x1:8,y0:-4,y1:-1})),qe.items.push(ze({x0:6,x1:12,y0:-7,y1:-6})),je.series.push(qe),je}const category$a="RectangleBarSeries",RectangleBarSeriesExamples={category:category$a,tags:["Series"],examples:[{title:"RectangleBarSeries",example:{model:rectangleBarSeries}}]};function fromItems$1(){const $e=new PlotModel({title:"RectangleSeries"});$e.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.jet(100)}));const Ve=new RectangleSeries({labelFontSize:12});for(let ze=9;ze>=0;ze--)Ve.items.push(new RectangleItem(-ze*.5,ze*.5,ze*ze,ze*(ze+3),ze));return $e.series.push(Ve),$e}function fromItemsSource$1(){const $e=new PlotModel({title:"RectangleSeries"});$e.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.jet(100)}));const Ve=[];for(let ze=0;ze<10;ze++)Ve.push({x:ze,value:ze});return $e.series.push(new RectangleSeries({itemsSource:Ve,mapping:ze=>{const qe=ze;return new RectangleItem(qe.x,qe.x*2,qe.x,qe.x*2,qe.value)}})),$e}const category$9="RectangleSeries",RectangleSeriesExamples={category:category$9,tags:["Series"],examples:[{title:"RectangleSeries",example:{model:fromItems$1}},{title:"RectangleSeries from ItemsSource and Mapping",example:{model:fromItemsSource$1}}]};function correlatedScatter(){return createCorrelatedScatter(1e3)}function randomScatter1(){return randomScatter(32768,0)}function randomScatter2(){return randomScatter(32768,2)}function randomScatter4(){return randomScatter(32768,4)}function randomScatter6(){return randomScatter(32768,6)}function randomScatter8(){return randomScatter(32768,8)}function randomScatter10(){return randomScatter(32768,10)}function twoScatterSeries(){const je=new PlotModel({title:"Two ScatterSeries (with and without values)",subtitle:"With values (squares), without values (triangles)"}),$e=new LinearColorAxis({position:AxisPosition.Right,key:"ColorAxis",palette:OxyPalettes.jet(30),minimum:-1,maximum:1});return je.axes.push($e),je.series.push(createRandomScatterSeries(50,MarkerType.Triangle,!1,!1,void 0)),je.series.push(createRandomScatterSeries(50,MarkerType.Square,!1,!0,$e)),je}function labelFormatString(){const je=new PlotModel({title:"ScatterSeries with LabelFormatString"}),$e=createRandomScatterSeries(50,MarkerType.Square,!1,!1,void 0);return $e.labelStringFormatter=(Ve,ze)=>round(ze[1],3).toString(),je.series.push($e),je}function createRandomScatterSeries(je,$e,Ve,ze,qe){const Xe=new ScatterSeries({markerType:$e,markerSize:6,colorAxisKey:qe!==void 0?qe.key:void 0}),We=new Random;for(let Ke=0;Ke<je;Ke++){let Je;Ve&&(Je=We.next()*5+5);let Ze;ze&&(Ze=We.next()*2.2-1.1);const Qe={x:We.next()*2.2-1.1,y:We.next(),size:Je,value:Ze};Xe.points.push(Qe)}return Xe}function randomSize(){return createRandomSizeModel(1e3,8)}function createRandomSizeModel(je,$e){const Ve=new PlotModel({title:`ScatterSeries with random MarkerSize (n=${je})`,subtitle:`BinSize = ${$e}`}),ze=new ScatterSeries({title:"Series 1",markerStrokeThickness:0,binSize:$e}),qe=new Random;for(let Xe=0;Xe<je;Xe++)ze.points.push({x:qe.next(),y:qe.next(),size:4+10*qe.next()});return Ve.series.push(ze),Ve}function randomWithFit(){const $e=new PlotModel({title:"Random data (n=20)"}),Ve=new Legend({legendPosition:LegendPosition.LeftTop});$e.legends.push(Ve);const ze=new ScatterSeries({title:"Measurements"}),qe=new Random;let Xe=0,We=0;for(let Ze=0;Ze<20;Ze++){Xe+=2+qe.next()*10,We+=1+qe.next();const Qe={x:Xe,y:We};ze.points.push(Qe)}$e.series.push(ze);const[Ke,Je]=leastSquaresFit(ze.points);return $e.annotations.push(new LineAnnotation({slope:Ke,intercept:Je,text:"Least squares fit"})),$e}function leastSquaresFit(je){let $e=0,Ve=0,ze=0,qe=0,Xe=0;for(const Ze of je)$e+=Ze.x,Ve+=Ze.y,ze+=Ze.x*Ze.y,qe+=Ze.x*Ze.x,Xe++;const We=$e*$e-Xe*qe,Ke=1/We*($e*Ve-Xe*ze),Je=1/We*($e*ze-qe*Ve);return[Ke,Je]}function markerTypes(){const je=new PlotModel({title:"Marker types"}),$e=new Random;return je.series.push(createRandomScatterSeriesWithMarker($e,10,"Circle",MarkerType.Circle)),je.series.push(createRandomScatterSeriesWithMarker($e,10,"Cross",MarkerType.Cross)),je.series.push(createRandomScatterSeriesWithMarker($e,10,"Diamond",MarkerType.Diamond)),je.series.push(createRandomScatterSeriesWithMarker($e,10,"Plus",MarkerType.Plus)),je.series.push(createRandomScatterSeriesWithMarker($e,10,"Square",MarkerType.Square)),je.series.push(createRandomScatterSeriesWithMarker($e,10,"Star",MarkerType.Star)),je.series.push(createRandomScatterSeriesWithMarker($e,10,"Triangle",MarkerType.Triangle)),je}function dataPoints(){const je=new PlotModel({title:"ScatterSeries (n=1000)",subtitle:"The scatter points are added to the Points collection."}),$e=new ScatterSeries;return $e.points.push(...createRandomScatterPoints(1e3)),je.series.push($e),je}function fromItemsSource(){const je=new PlotModel({title:"ScatterSeries (n=1000)",subtitle:"The scatter points are defined in the ItemsSource property."});return je.series.push(new ScatterSeries({itemsSource:createRandomScatterPoints(1e3)})),je}function fromMapping(){const je=new PlotModel({title:"ScatterSeries (n=1000)",subtitle:"The scatter points are defined by a mapping from the ItemsSource."});return je.series.push(new ScatterSeries({itemsSource:createRandomDataPoints(1e3),mapping:$e=>$e})),je}function fromItemsSourceReflection(){const je=new PlotModel({title:"ScatterSeries (n=1000)",subtitle:"The scatter points are defined by reflection from the ItemsSource."});return je.series.push(new ScatterSeries({itemsSource:createRandomDataPoints(1e3),dataFieldX:"x",dataFieldY:"y"})),je}function colorMapRainbow16(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.rainbow(16),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapHue30(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.hue(30),MarkerType.Star,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapHot64(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.hot(64),MarkerType.Triangle,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapCool32(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.cool(32),MarkerType.Circle,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapGray32(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.gray(32),MarkerType.Diamond,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapJet32(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.jet(32),MarkerType.Plus,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapHot64Extreme(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.hot(64),MarkerType.Square,AxisPosition.Right,OxyColors.Magenta,OxyColors.Green)}function colorMapHot64ExtremeTopLegend(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.hot(64),MarkerType.Cross,AxisPosition.Top,OxyColors.Magenta,OxyColors.Green)}function colorMapHot16Big(){return createRandomScatterSeriesWithColorAxisPlotModel(31e3,OxyPalettes.hot(16),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapBlueWhiteRed3(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.blueWhiteRed(3),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapBlueWhiteRed9(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.blueWhiteRed(9),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapBlueWhiteRed256(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.blueWhiteRed(256),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapBlackWhiteRed9(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.blackWhiteRed(9),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapBlackWhiteRed9TopLegend(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.blackWhiteRed(9),MarkerType.Square,AxisPosition.Top,OxyColors.Undefined,OxyColors.Undefined)}function colorMapViridis(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.viridis(),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapPlasma(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.plasma(),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapMagma(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.magma(),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapInferno(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.inferno(),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapCividis(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.cividis(),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function singleSelectItems(){const je=randomScatter(10,8);je.subtitle="Click to select a point",je.selectionColor=OxyColors.Red;const $e=je.series[0];return $e.selectionMode=SelectionMode.Single,$e.selectItem(3),$e.selectItem(5),$e.mouseDown=(Ve,ze)=>{const qe=ze.hitTestResult.index;$e.selectItem(qe),je.invalidatePlot(!1),ze.handled=!0},je.mouseDown=(Ve,ze)=>{$e.clearSelection(),je.invalidatePlot(!1),ze.handled=!0},je}function multiSelectItems(){const je=randomScatter(10,8);je.subtitle="Click to toggle point selection",je.selectionColor=OxyColors.Red;const $e=je.series[0];return $e.selectionMode=SelectionMode.Multiple,$e.selectItem(3),$e.selectItem(5),$e.mouseDown=(Ve,ze)=>{const qe=ze.hitTestResult.index;$e.isItemSelected(qe)?$e.unselectItem(qe):$e.selectItem(qe),je.invalidatePlot(!1),ze.handled=!0},je.mouseDown=(Ve,ze)=>{$e.clearSelection(),je.invalidatePlot(!1),ze.handled=!0},je}function allSelected(){return createAllSelectedModel(!1)}function allSelectedWithTracker(){return createAllSelectedModel(!0)}function trackerFormatString(){const je=new PlotModel({title:"TrackerFormatString"}),$e=new ScatterSeries({trackerStringFormatter:ze=>ze.item.sum.toString(),dataFieldX:"x",dataFieldY:"y"}),Ve=[new MyPoint(10,40),new MyPoint(40,20),new MyPoint(60,30)];return $e.itemsSource=Ve,je.series.push($e),je}function createAllSelectedModel(je){const $e=randomScatter(10,8);$e.subtitle="Click to select all points",$e.selectionColor=OxyColors.Red;const Ve=$e.series[0];return Ve.selectionMode=SelectionMode.All,Ve.mouseDown=(ze,qe)=>{Ve.select(),$e.invalidatePlot(!1),qe.handled=!je},$e.mouseDown=(ze,qe)=>{qe.hitTestResult!==void 0&&je||(Ve.clearSelection(),$e.invalidatePlot(!1),qe.handled=!0)},$e}class MyPoint{constructor($e,Ve){this.x=$e,this.y=Ve}get sum(){return this.x+this.y}}function randomScatter(je,$e){const Ve=new PlotModel({title:`ScatterSeries (n=${je})`,subtitle:$e>0?`BinSize = ${$e}`:"No 'binning'"}),ze=new ScatterSeries({title:"Series 1",markerType:MarkerType.Diamond,markerStrokeThickness:0,binSize:$e}),qe=new Random;for(let Xe=0;Xe<je;Xe++)ze.points.push({x:qe.next(),y:qe.next()});return Ve.series.push(ze),Ve}function createRandomScatterSeriesWithColorAxisPlotModel(je,$e,Ve,ze,qe,Xe){const We=new PlotModel({title:`ScatterSeries (n=${je})`,background:OxyColors.LightGray}),Ke=new LinearColorAxis({position:ze,palette:$e,minimum:-1,maximum:1,highColor:qe,lowColor:Xe});return We.axes.push(Ke),We.series.push(createRandomScatterSeries(je,Ve,!1,!0,Ke)),We}function createCorrelatedScatter(je){const $e=new PlotModel({title:`Correlated ScatterSeries (n=${je})`}),Ve=new ScatterSeries({title:"Series 1",markerType:MarkerType.Diamond,markerStrokeThickness:0}),ze=new Random;for(let qe=0;qe<je;qe++){const Xe=getNormalDistributedValue(ze),We=2*Xe*Xe+getNormalDistributedValue(ze);Ve.points.push({x:Xe,y:We})}return $e.series.push(Ve),$e}function createRandomScatterSeriesWithMarker(je,$e,Ve,ze){const qe=new ScatterSeries({title:Ve,markerType:ze,markerStroke:OxyColors.Black,markerStrokeThickness:1});for(let Xe=0;Xe<$e;Xe++){const We=je.next()*10,Ke=je.next()*10,Je={x:We,y:Ke};qe.points.push(Je)}return qe}function getNormalDistributedValue(je){const $e=je.next(),Ve=je.next();return Math.sqrt(-2*Math.log($e))*Math.sin(2*Math.PI*Ve)}function createRandomDataPoints(je){return createRandomScatterPoints(je).map($e=>newDataPoint($e.x,$e.y))}function createRandomScatterPoints(je){const $e=new Random,Ve=[];for(let ze=0;ze<je;ze++){const qe=$e.next()*10,Xe=$e.next()*10,We={x:qe,y:Xe};Ve.push(We)}return Ve}const category$8="ScatterSeries",ScatterSeriesExamples={category:category$8,tags:["Series"],examples:[{title:"Correlated points",example:{model:correlatedScatter}},{title:"Random points",example:{model:randomScatter1}},{title:"Random points (BinSize=2)",example:{model:randomScatter2}},{title:"Random points (BinSize=4)",example:{model:randomScatter4}},{title:"Random points (BinSize=6)",example:{model:randomScatter6}},{title:"Random points (BinSize=8)",example:{model:randomScatter8}},{title:"Random points (BinSize=10)",example:{model:randomScatter10}},{title:"Two ScatterSeries",example:{model:twoScatterSeries}},{title:"LabelFormatString",example:{model:labelFormatString}},{title:"Random points with random size",example:{model:randomSize}},{title:"Random points with least squares fit",example:{model:randomWithFit}},{title:"Marker types",example:{model:markerTypes}},{title:"ScatterSeries.Points",example:{model:dataPoints}},{title:"ScatterSeries.ItemsSource",example:{model:fromItemsSource}},{title:"ScatterSeries.ItemsSource + Mapping",example:{model:fromMapping}},{title:"ScatterSeries.ItemsSource + reflection",example:{model:fromItemsSourceReflection}},{title:"ScatterSeries with ColorAxis Rainbow(16)",example:{model:colorMapRainbow16}},{title:"ScatterSeries with ColorAxis Hue(30) Star",example:{model:colorMapHue30}},{title:"ScatterSeries with ColorAxis Hot(64)",example:{model:colorMapHot64}},{title:"ScatterSeries with ColorAxis Cool(32)",example:{model:colorMapCool32}},{title:"ScatterSeries with ColorAxis Gray(32)",example:{model:colorMapGray32}},{title:"ScatterSeries with ColorAxis Jet(32)",example:{model:colorMapJet32}},{title:"ScatterSeries with ColorAxis Hot with extreme colors",example:{model:colorMapHot64Extreme}},{title:"ScatterSeries with ColorAxis Hot (top legend)",example:{model:colorMapHot64ExtremeTopLegend}},{title:"ScatterSeries with ColorAxis Hot(16) N=31000",example:{model:colorMapHot16Big}},{title:"ScatterSeries with ColorAxis BlueWhiteRed (3)",example:{model:colorMapBlueWhiteRed3}},{title:"ScatterSeries with ColorAxis BlueWhiteRed (9)",example:{model:colorMapBlueWhiteRed9}},{title:"ScatterSeries with ColorAxis BlueWhiteRed (256)",example:{model:colorMapBlueWhiteRed256}},{title:"ScatterSeries with ColorAxis BlackWhiteRed (9)",example:{model:colorMapBlackWhiteRed9}},{title:"ScatterSeries with ColorAxis BlackWhiteRed (9) top legend",example:{model:colorMapBlackWhiteRed9TopLegend}},{title:"ScatterSeries with ColorAxis Viridis",example:{model:colorMapViridis}},{title:"ScatterSeries with ColorAxis Plasma",example:{model:colorMapPlasma}},{title:"ScatterSeries with ColorAxis Magma",example:{model:colorMapMagma}},{title:"ScatterSeries with ColorAxis Inferno",example:{model:colorMapInferno}},{title:"ScatterSeries with ColorAxis Cividis",example:{model:colorMapCividis}},{title:"ScatterSeries with single-selected items",example:{model:singleSelectItems}},{title:"ScatterSeries with multi-selected items",example:{model:multiSelectItems}},{title:"ScatterSeries with SelectionMode.All (no tracker)",example:{model:allSelected}},{title:"ScatterSeries with SelectionMode.All (with tracker)",example:{model:allSelectedWithTracker}},{title:"TrackerFormatString",example:{model:trackerFormatString}}]};function stairStepSeries(){return createExampleModel$1(new StairStepSeries)}function stairStepSeriesWithLabels(){return createExampleModel$1(new StairStepSeries({labelStringFormatter:(je,$e)=>`${round($e[1],2)}`}))}function stairStepSeriesWithMarkers(){return createExampleModel$1(new StairStepSeries({color:OxyColors.SkyBlue,markerType:MarkerType.Circle,markerSize:6,markerStroke:OxyColors.White,markerFill:OxyColors.SkyBlue,markerStrokeThickness:1.5}))}function stairStepSeriesThinVertical(){return createExampleModel$1(new StairStepSeries({strokeThickness:3,verticalStrokeThickness:.4,markerType:MarkerType.None}))}function stairStepSeriesDashedVertical(){return createExampleModel$1(new StairStepSeries({verticalLineStyle:LineStyle.Dash,markerType:MarkerType.None}))}function stairStepSeriesWithInvalidPoints(){const je=new PlotModel({title:"StairStepSeries with invalid points",subtitle:"Horizontal lines do not continue"});return populateInvalidPointExampleModel(je,$e=>DataPoint_Undefined),je}function stairStepSeriesWithInvalidY(){const je=new PlotModel({title:"StairStepSeries with invalid Y",subtitle:"Horizontal lines continue until X of point with invalid Y"});return populateInvalidPointExampleModel(je,$e=>newDataPoint($e,NaN)),je}function stairStepSeriesWithNonmonotonicX(){const je=new PlotModel({title:"StairStepSeries with non-monotonic X",subtitle:"Lines form a boxed I-beam"}),$e=new StairStepSeries({markerType:MarkerType.Circle,verticalLineStyle:LineStyle.Dash,verticalStrokeThickness:4,points:[newDataPoint(1,1),newDataPoint(3,1),newDataPoint(2,3),newDataPoint(1,3),newDataPoint(3,3)]});je.series.push($e);const Ve=new StairStepSeries({markerType:MarkerType.Circle,verticalLineStyle:LineStyle.Dash,verticalStrokeThickness:4,points:[newDataPoint(1,0),newDataPoint(2,0),newDataPoint(0,0),newDataPoint(4,0),newDataPoint(4,4)]});je.series.push(Ve);const ze=new StairStepSeries({markerType:MarkerType.Circle,verticalLineStyle:LineStyle.Dash,verticalStrokeThickness:4,points:[newDataPoint(3,4),newDataPoint(2,4),newDataPoint(4,4),newDataPoint(0,4),newDataPoint(0,0)]});return je.series.push(ze),je}function createExampleModel$1(je){const $e=new PlotModel({title:"StairStepSeries"}),Ve=new Legend({legendSymbolLength:24});$e.legends.push(Ve),je.title="sin(x)";for(let ze=0;ze<Math.PI*2;ze+=.5)je.points.push(newDataPoint(ze,Math.sin(ze)));return $e.series.push(je),$e}function populateInvalidPointExampleModel(je,$e){je.legends.push(new Legend({legendOrientation:LegendOrientation.Horizontal,legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter}));const Ve=new StairStepSeries({title:"Invalid First Point",markerType:MarkerType.Circle,points:[$e(0),newDataPoint(1,3.5),newDataPoint(2,4),newDataPoint(3,4.5)]});je.series.push(Ve);const ze=new StairStepSeries({title:"Invalid Second Point",markerType:MarkerType.Circle,points:[newDataPoint(0,2),$e(1),newDataPoint(2,3),newDataPoint(3,3.5)]});je.series.push(ze);const qe=new StairStepSeries({title:"Invalid Penultimate Point",markerType:MarkerType.Circle,points:[newDataPoint(0,1),newDataPoint(1,1.5),$e(2),newDataPoint(3,2.5)]});je.series.push(qe);const Xe=new StairStepSeries({title:"Invalid Last Point",markerType:MarkerType.Circle,points:[newDataPoint(0,0),newDataPoint(1,.5),newDataPoint(2,1),$e(3)]});je.series.push(Xe)}const category$7="StairStepSeries",StairStepSeriesExamples={category:category$7,tags:["Series"],examples:[{title:"StairStepSeries",example:{model:stairStepSeries}},{title:"StairStepSeries with labels",example:{model:stairStepSeriesWithLabels}},{title:"StairStepSeries with markers",example:{model:stairStepSeriesWithMarkers}},{title:"StairStepSeries with thin vertical lines",example:{model:stairStepSeriesThinVertical}},{title:"StairStepSeries with dashed vertical lines",example:{model:stairStepSeriesDashedVertical}},{title:"StairStepSeries with invalid points",example:{model:stairStepSeriesWithInvalidPoints}},{title:"StairStepSeries with invalid Y",example:{model:stairStepSeriesWithInvalidY}},{title:"StairStepSeries with non-monotonic X",example:{model:stairStepSeriesWithNonmonotonicX}}]};function stemSeries(){return createExampleModel(new StemSeries({color:OxyColors.SkyBlue,markerType:MarkerType.Circle,markerSize:6,markerStroke:OxyColors.White,markerStrokeThickness:1.5}))}function createExampleModel(je){const $e=new PlotModel({title:"StemSeries"}),Ve=new Legend({legendSymbolLength:24});$e.legends.push(Ve),je.title="sin(x)";for(let ze=0;ze<Math.PI*2;ze+=.1)je.points.push(newDataPoint(ze,Math.sin(ze)));return $e.series.push(je),$e}const category$6="StemSeries",StemSeriesExamples={category:category$6,tags:["Series"],examples:[{title:"StemSeries",example:{model:stemSeries}}]};function threeColorLineSeries(){const je=new PlotModel({title:"ThreeColorLineSeries"}),$e=new Legend({legendSymbolLength:24});je.legends.push($e);const Ve=new ThreeColorLineSeries({title:"Temperature at Eidesmoen, December 1986.",trackerStringFormatter:qe=>`December ${round(qe.xValue,0)}: ${qe.yValue.toFixed(1)} °C`,markerSize:4,markerStroke:OxyColors.Black,markerStrokeThickness:1.5,markerType:MarkerType.Circle,interpolationAlgorithm:InterpolationAlgorithms.CanonicalSpline,strokeThickness:3}),ze=[5,0,7,7,4,3,5,5,11,4,2,3,2,1,0,2,-1,0,0,-3,-6,-13,-10,-10,0,-4,-5,-4,3,0,-5];for(let qe=0;qe<ze.length;qe++)Ve.points.push(newDataPoint(qe+1,ze[qe]));return je.series.push(Ve),je.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Temperature",unit:"°C",extraGridlines:[0]})),je.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Date"})),je}function twoColorLineSeriesReversed$1(){const je=threeColorLineSeries();return PlotModelUtilities.reverseYAxis(je),je}const category$5="ThreeColorLineSeries",ThreeColorLineSeriesExamples={category:category$5,tags:["Series"],examples:[{title:"Temperatures",example:{model:threeColorLineSeries}},{title:"Temperatures (Y Axis reversed)",example:{model:twoColorLineSeriesReversed$1}}]};function tornadoDiagram1(){const je=new PlotModel({title:"Tornado diagram 1"}),$e=new Legend({legendPlacement:LegendPlacement.Outside});je.legends.push($e);const Ve=new BarSeries({title:"High",isStacked:!0,fillColor:OxyColor.fromRgb(216,82,85),baseValue:7,strokeColor:OxyColors.Black,strokeThickness:1});Ve.items.push(new BarItem({value:1})),Ve.items.push(new BarItem({value:1})),Ve.items.push(new BarItem({value:4})),Ve.items.push(new BarItem({value:5}));const ze=new BarSeries({title:"Low",isStacked:!0,fillColor:OxyColor.fromRgb(84,138,209),baseValue:7,strokeColor:OxyColors.Black,strokeThickness:1});ze.items.push(new BarItem({value:-1})),ze.items.push(new BarItem({value:-3})),ze.items.push(new BarItem({value:-2})),ze.items.push(new BarItem({value:-3}));const qe=new CategoryAxis({position:AxisPosition.Left});qe.labels.push("F/X rate"),qe.labels.push("Inflation"),qe.labels.push("Price"),qe.labels.push("Conversion");const Xe=new LinearAxis({position:AxisPosition.Bottom,extraGridlines:[7]});return je.series.push(Ve),je.series.push(ze),je.axes.push(qe),je.axes.push(Xe),je}function tornadoDiagram2(){const je=new PlotModel({title:"Tornado diagram 2"}),$e=new Legend({legendPlacement:LegendPlacement.Outside});je.legends.push($e);const Ve=new TornadoBarSeries({title:"TornadoBarSeries",baseValue:7});Ve.items.push(new TornadoBarItem({minimum:6,maximum:8})),Ve.items.push(new TornadoBarItem({minimum:4,maximum:8})),Ve.items.push(new TornadoBarItem({minimum:5,maximum:11})),Ve.items.push(new TornadoBarItem({minimum:4,maximum:12}));const ze=new CategoryAxis({position:AxisPosition.Left});ze.labels.push("F/X rate"),ze.labels.push("Inflation"),ze.labels.push("Price"),ze.labels.push("Conversion");const qe=new LinearAxis({position:AxisPosition.Bottom,extraGridlines:[7],minimumPadding:.1,maximumPadding:.1});return je.series.push(Ve),je.axes.push(ze),je.axes.push(qe),je}function tornadoDiagramWithLabels(){const je=new PlotModel({title:"Tornado Diagram"}),$e=new Legend({legendPlacement:LegendPlacement.Outside});je.legends.push($e);const Ve=new TornadoBarSeries({baseValue:7,labelPlacement:LabelPlacement.Outside});Ve.items.push(new TornadoBarItem({minimum:6,maximum:8,categoryIndex:0}));const ze=new TornadoBarSeries({baseValue:7,labelPlacement:LabelPlacement.Inside});ze.items.push(new TornadoBarItem({minimum:4,maximum:8,categoryIndex:1}));const qe=new TornadoBarSeries({baseValue:7,labelPlacement:LabelPlacement.Middle});qe.items.push(new TornadoBarItem({minimum:5,maximum:11,categoryIndex:2}));const Xe=new TornadoBarSeries({baseValue:7,labelPlacement:LabelPlacement.Base});Xe.items.push(new TornadoBarItem({minimum:4,maximum:12,categoryIndex:3}));const We=new TornadoBarSeries({baseValue:7,labelPlacement:LabelPlacement.Outside,labelAngle:-45});We.items.push(new TornadoBarItem({minimum:6,maximum:8,categoryIndex:4}));const Ke=new TornadoBarSeries({baseValue:7,labelPlacement:LabelPlacement.Inside,labelAngle:-45});Ke.items.push(new TornadoBarItem({minimum:4,maximum:8,categoryIndex:5}));const Je=new TornadoBarSeries({baseValue:7,labelPlacement:LabelPlacement.Middle,labelAngle:-45});Je.items.push(new TornadoBarItem({minimum:5,maximum:11,categoryIndex:6}));const Ze=new TornadoBarSeries({baseValue:7,labelPlacement:LabelPlacement.Base,labelAngle:-45});Ze.items.push(new TornadoBarItem({minimum:4,maximum:12,categoryIndex:7}));const Qe=new CategoryAxis({position:AxisPosition.Left,startPosition:1,endPosition:0});Qe.labels.push("Labels Outside"),Qe.labels.push("Labels Inside"),Qe.labels.push("Labels Middle"),Qe.labels.push("Labels Base"),Qe.labels.push("Labels Outside (angled)"),Qe.labels.push("Labels Inside (angled)"),Qe.labels.push("Labels Middle (angled)"),Qe.labels.push("Labels Base (angled)");const St=new LinearAxis({position:AxisPosition.Bottom,extraGridlines:[7],minimumPadding:.1,maximumPadding:.1});return je.series.push(Ve),je.series.push(ze),je.series.push(qe),je.series.push(Xe),je.series.push(We),je.series.push(Ke),je.series.push(Je),je.series.push(Ze),je.axes.push(Qe),je.axes.push(St),je}const category$4="TornadoBarSeries",TornadoBarSeriesExamples={category:category$4,tags:["Series"],examples:[{title:"Tornado diagram 1",example:{model:tornadoDiagram1}},{title:"Tornado diagram 2",example:{model:tornadoDiagram2}},{title:"Tornado diagram with various label types",example:{model:tornadoDiagramWithLabels}}]};function twoColorAreaSeries(){const je=new PlotModel({title:"TwoColorAreaSeries"}),$e=new Legend({legendSymbolLength:24});je.legends.push($e);const Ve=new TwoColorAreaSeries({title:"Temperature at Eidesmoen, December 1986.",trackerStringFormatter:qe=>`December ${round(qe.xValue,0)}: ${qe.yValue.toFixed(1)} °C`,color:OxyColors.Tomato,color2:OxyColors.LightBlue,markerFill:OxyColors.Tomato,markerFill2:OxyColors.LightBlue,strokeThickness:2,limit:-1,markerType:MarkerType.Circle,markerSize:3}),ze=[5,0,7,7,4,3,5,5,11,4,2,3,2,1,0,2,-1,0,0,-3,-6,-13,-10,-10,0,-4,-5,-4,3,0,-5];for(let qe=0;qe<ze.length;qe++)Ve.points.push(newDataPoint(qe+1,ze[qe]));return je.series.push(Ve),je.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Temperature",unit:"°C",extraGridlines:[0]})),je.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Date"})),je}function twoColorAreaSeries2(){const je=new PlotModel({title:"TwoColorAreaSeries"}),$e=new Legend({legendSymbolLength:24});je.legends.push($e);const Ve=new TwoColorAreaSeries({title:"Temperature at Eidesmoen, December 1986.",trackerStringFormatter:qe=>`December ${round(qe.xValue,0)}: ${qe.yValue.toFixed(1)} °C`,color:OxyColors.Black,color2:OxyColors.Brown,markerFill:OxyColors.Red,fill:OxyColors.Tomato,fill2:OxyColors.LightBlue,markerFill2:OxyColors.Blue,markerStroke:OxyColors.Brown,markerStroke2:OxyColors.Black,strokeThickness:2,limit:0,markerType:MarkerType.Circle,markerSize:3}),ze=[5,0,7,7,4,3,5,5,11,4,2,3,2,1,0,2,-1,0,0,-3,-6,-13,-10,-10,0,-4,-5,-4,3,0,-5];for(let qe=0;qe<ze.length;qe++)Ve.points.push(newDataPoint(qe+1,ze[qe]));return je.series.push(Ve),je.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Temperature",unit:"°C",extraGridlines:[0]})),je.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Date"})),je}function twoColorAreaSeries3(){const je=new PlotModel({title:"TwoColorAreaSeries"}),$e=new Legend({legendSymbolLength:24});je.legends.push($e);const Ve=new TwoColorAreaSeries({title:"Temperature at Eidesmoen, December 1986.",trackerStringFormatter:qe=>`December ${round(qe.xValue,0)}: ${qe.yValue.toFixed(1)} °C`,color:OxyColors.Black,color2:OxyColors.Brown,markerFill:OxyColors.Red,fill:OxyColors.Tomato,fill2:OxyColors.LightBlue,markerFill2:OxyColors.Blue,markerStroke:OxyColors.Brown,markerStroke2:OxyColors.Black,strokeThickness:1,limit:0,interpolationAlgorithm:InterpolationAlgorithms.CanonicalSpline,markerType:MarkerType.Circle,markerSize:1}),ze=[5,0,7,7,4,3,5,5,11,4,2,3,2,1,0,2,-1,0,0,-3,-6,-13,-10,-10,0,-4,-5,-4,3,0,-5];for(let qe=0;qe<ze.length;qe++)Ve.points.push(newDataPoint(qe+1,ze[qe]));return je.series.push(Ve),je.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Temperature",unit:"°C",extraGridlines:[0]})),je.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Date"})),je}function twoColorAreaSeriesTwoPolygons(){const je=new PlotModel({title:"Two polygons"}),$e=new Legend({legendSymbolLength:24});je.legends.push($e);const Ve=new TwoColorAreaSeries({color:OxyColors.Tomato,color2:OxyColors.LightBlue,markerFill:OxyColors.Tomato,markerFill2:OxyColors.LightBlue,strokeThickness:2,markerType:MarkerType.Circle,markerSize:3});return Ve.points.push(newDataPoint(0,3),newDataPoint(1,5),newDataPoint(2,1),newDataPoint(3,0),newDataPoint(4,3)),Ve.points2.push(newDataPoint(0,-3),newDataPoint(1,-1),newDataPoint(2,0),newDataPoint(3,-6),newDataPoint(4,-4)),je.series.push(Ve),je.axes.push(new LinearAxis({position:AxisPosition.Left})),je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je}const category$3="TwoColorAreaSeries",TwoColorAreaSeriesExamples={category:category$3,tags:["Series"],examples:[{title:"Temperatures",example:{model:twoColorAreaSeries}},{title:"Temperatures ver2",example:{model:twoColorAreaSeries2}},{title:"Temperatures ver3",example:{model:twoColorAreaSeries3}},{title:"Two polygons",example:{model:twoColorAreaSeriesTwoPolygons}}]};function twoColorLineSeries(){const je=new PlotModel({title:"TwoColorLineSeries"}),$e=new Legend({legendSymbolLength:24});je.legends.push($e);const Ve=new TwoColorLineSeries({title:"Temperature at Eidesmoen, December 1986.",trackerStringFormatter:qe=>`December ${round(qe.xValue,0)}: ${qe.yValue.toFixed(1)} °C`,color:OxyColors.Red,color2:OxyColors.LightBlue,strokeThickness:3,limit:0,interpolationAlgorithm:InterpolationAlgorithms.CanonicalSpline,markerType:MarkerType.Circle,markerSize:4,markerStroke:OxyColors.Black,markerStrokeThickness:1.5}),ze=[5,0,7,7,4,3,5,5,11,4,2,3,2,1,0,2,-1,0,0,-3,-6,-13,-10,-10,0,-4,-5,-4,3,0,-5];for(let qe=0;qe<ze.length;qe++)Ve.points.push(newDataPoint(qe+1,ze[qe]));return je.series.push(Ve),je.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Temperature",unit:"°C",extraGridlines:[0]})),je.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Date"})),je}function twoColorLineSeriesReversed(){const je=twoColorLineSeries();return PlotModelUtilities.reverseYAxis(je),je}const category$2="TwoColorLineSeries",TwoColorLineSeriesExamples={category:category$2,tags:["Series"],examples:[{title:"Temperatures",example:{model:twoColorLineSeries}},{title:"Temperatures (Y Axis reversed)",example:{model:twoColorLineSeriesReversed}}]};function fromItems(){const{model:je}=getModel(!0);return je}function fromItemsVeeness(){const{model:je,series:$e}=getModel(!0);return $e.arrowVeeness=2,je}function fromItemsVectorOriginAndLabelPosition(){const{model:je,series:$e}=getModel(!0);return $e.arrowLabelPosition=.25,$e.arrowStartPosition=.5,je}function fromItemsWithoutColorAxis(){const{model:je}=getModel(!1);return je}function vectorField(){const je=new PlotModel({title:"Peaks (Gradient)"}),$e=new VectorSeries,Ve=ArrayBuilder.createVectorWithStep(-3,3,.25),ze=ArrayBuilder.createVectorWithStep(-3.1,3.1,.25);return $e.arrowVeeness=1,$e.arrowStartPosition=.5,$e.itemsSource=Ve.flatMap(qe=>ze.map(Xe=>({origin:newDataPoint(qe,Xe),direction:new DataVector(dpeaksdx(qe,Xe)/40,dpeaksdy(qe,Xe)/40),value:NaN}))),je.series.push($e),je}function logarithmicYAxis(){const $e=new PlotModel({title:"VectorSeries"}),Ve=new Random,ze=100,qe=100,Xe=50;$e.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.cool(10),minimum:0,maximum:Xe})),$e.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-Xe,maximum:ze+Xe})),$e.axes.push(new LogarithmicAxis({position:AxisPosition.Left,minimum:1,maximum:qe+Xe}));const We=new VectorSeries({labelFontSize:12});for(let Ke=99;Ke>=0;Ke--){const Je=Ve.next()*Math.PI*2,Ze=Ve.next()*Xe,Qe=newDataPoint(Ve.next()*ze,Ve.next()*qe+1),St=new DataVector(Math.cos(Je)*Ze,Math.sin(Je)*Ze);We.items.push({origin:Qe,direction:St,value:Ze})}return $e.series.push(We),$e}const dpeaksdx=(je,$e)=>-10*((1/5-3*Math.pow(je,2))*Math.exp(-Math.pow(je,2)-Math.pow($e,2))-2*je*(je/5-Math.pow(je,3)-Math.pow($e,5))*Math.exp(-Math.pow(je,2)-Math.pow($e,2)))+.6666666666666666*(1+je)*Math.exp(-Math.pow(1+je,2)-Math.pow($e,2))+3*(-2*(1-je)*Math.exp(-Math.pow(je,2)-Math.pow(1+$e,2))-2*je*Math.pow(1-je,2)*Math.exp(-Math.pow(je,2)-Math.pow(1+$e,2))),dpeaksdy=(je,$e)=>-10*(-5*Math.pow($e,4)*Math.exp(-Math.pow(je,2)-Math.pow($e,2))-2*$e*(je/5-Math.pow(je,3)-Math.pow($e,5))*Math.exp(-Math.pow(je,2)-Math.pow($e,2)))+.6666666666666666*$e*Math.exp(-Math.pow(1+je,2)-Math.pow($e,2))-6*Math.pow(1-je,2)*(1+$e)*Math.exp(-Math.pow(je,2)-Math.pow(1+$e,2));function getModel(je){const Ve=new PlotModel({title:"VectorSeries (Veeness = 2)"}),ze=new Random,qe=100,Xe=100,We=10;je&&Ve.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:new OxyPalette(OxyPalettes.cool(10).colors.map(Je=>OxyColor.fromAColor(100,Je))),minimum:0,maximum:We})),Ve.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-We,maximum:qe+We})),Ve.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-We,maximum:Xe+We}));const Ke=new VectorSeries({labelFontSize:12});for(let Je=99;Je>=0;Je--){const Ze=ze.next()*Math.PI*2,Qe=ze.next()*We,St=newDataPoint(ze.next()*qe,ze.next()*Xe),ei=new DataVector(Math.cos(Ze)*Qe,Math.sin(Ze)*Qe);Ke.items.push({origin:St,direction:ei,value:Qe})}return Ve.series.push(Ke),{model:Ve,series:Ke}}const category$1="VectorSeries",VectorSeriesExamples={category:category$1,tags:["Series"],examples:[{title:"VectorSeries",example:{model:fromItems}},{title:"VectorSeries (Veeness = 2)",example:{model:fromItemsVeeness}},{title:"VectorSeries (Vector Origin and Label position)",example:{model:fromItemsVectorOriginAndLabelPosition}},{title:"VectorSeries (without ColorAxis)",example:{model:fromItemsWithoutColorAxis}},{title:"Vector Field",example:{model:vectorField}},{title:"VectorSeries on Log Axis",example:{model:logarithmicYAxis}}]},Series=[...FinancialSeries,AreaSeriesExamples,BarSeriesExamples,BoxPlotSeriesExamples,ContourSeriesExamples,ErrorBarSeriesExamples,ExtrapolationLineSeriesExamples,FunctionSeriesExamples,HeatMapSeriesExamples$1,HistogramSeriesExamples,IntervalBarSeriesExamples,LinearBarSeriesExamples,LineSeriesExamples,PieSeriesExamples,PolygonSeriesExamples,RectangleBarSeriesExamples,RectangleSeriesExamples,ScatterSeriesExamples,StairStepSeriesExamples,StemSeriesExamples,ThreeColorLineSeriesExamples,TornadoBarSeriesExamples,TwoColorAreaSeriesExamples,TwoColorLineSeriesExamples,VectorSeriesExamples];function invisibleContourSeries(){const je=new PlotModel;je.title="Invisible contour series";const $e=new ContourSeries;return $e.isVisible=!1,$e.columnCoordinates=ArrayBuilder.createVectorWithStep(-1,1,.05),$e.rowCoordinates=ArrayBuilder.createVectorWithStep(-1,1,.05),$e.data=ArrayBuilder.evaluate((Ve,ze)=>Ve+ze,$e.columnCoordinates,$e.rowCoordinates),je.series.push($e),je}function stairStepSeries_NullReferenceException(){const je=new PlotModel;return je.title="StairStepSeries NullReferenceException",je.series.push(new StairStepSeries),je}function heatMapSeriesInterpolationColor(){const je=[[10,0,-10],[0,0,0]],$e=new PlotModel({title:"HeatMapSeries"});$e.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:new OxyPalette([OxyColors.Red,OxyColors.Green,OxyColors.Blue])}));const Ve=new HeatMapSeries({coordinateDefinition:HeatMapCoordinateDefinition.Center,x0:0,x1:3,y0:0,y1:2,data:je,interpolate:!1,labelFontSize:.2});return $e.series.push(Ve),$e}function peaks400(){return HeatMapSeriesExamples.createPeaks(void 0,!0,400)}function updatingHeatMapSeries1(){const je=HeatMapSeriesExamples.createPeaks();je.title="Updating HeatMapSeries",je.subtitle="Click the heat map to change the Maximum of the color axis.";const $e=je.axes[0],Ve=je.series[0];return Ve.onMouseDown=ze=>{$e.maximum=isNaN($e.maximum)?10:NaN,je.invalidatePlot(!0)},je}function updatingHeatMapSeries2(){const je=HeatMapSeriesExamples.createPeaks();je.title="Updating HeatMapSeries",je.subtitle="Click the heat map to change the Maximum of the color axis and invoke the Invalidate method on the HeatMapSeries.";const $e=je.axes[0],Ve=je.series[0];return Ve.onMouseDown=ze=>{$e.maximum=isNaN($e.maximum)?10:NaN,Ve.invalidate(),je.invalidatePlot(!0)},je}function reducedColorSaturation(){const je=new PlotModel;je.title="Reduced color saturation",je.axes.push(new CategoryAxis({position:AxisPosition.Bottom})),je.defaultColors=je.defaultColors.map(Ve=>OxyColorExtensions.changeSaturation(Ve,.5));const $e=new Random;for(let Ve=0;Ve<je.defaultColors.length;Ve++){const ze=new BarSeries;ze.items.push(BarItem.fromValue(50+$e.next()*50)),ze.items.push(BarItem.fromValue(40+$e.next()*50)),je.series.push(ze)}return je}function mediumIntensityColors(){const je=new PlotModel;je.title="Medium intensity colors",je.axes.push(new CategoryAxis({position:AxisPosition.Bottom})),je.defaultColors=[OxyColor.fromRgb(114,114,114),OxyColor.fromRgb(241,89,95),OxyColor.fromRgb(121,195,106),OxyColor.fromRgb(89,154,211),OxyColor.fromRgb(249,166,90),OxyColor.fromRgb(158,102,171),OxyColor.fromRgb(205,112,88),OxyColor.fromRgb(215,127,179)];const $e=new Random;for(let Ve=0;Ve<je.defaultColors.length;Ve++){const ze=new BarSeries;ze.items.push(BarItem.fromValue(50+$e.next()*50)),ze.items.push(BarItem.fromValue(40+$e.next()*50)),je.series.push(ze)}return je}function brewerColors4(){const je=new PlotModel;je.title="Brewer colors (Accent scheme)",je.axes.push(new CategoryAxis({position:AxisPosition.Bottom})),je.defaultColors=[OxyColor.fromRgb(127,201,127),OxyColor.fromRgb(190,174,212),OxyColor.fromRgb(253,192,134),OxyColor.fromRgb(255,255,153)];const $e=new Random;for(let Ve=0;Ve<je.defaultColors.length;Ve++){const ze=new BarSeries;ze.items.push(BarItem.fromValue(50+$e.next()*50)),ze.items.push(BarItem.fromValue(40+$e.next()*50)),je.series.push(ze)}return je}function brewerColors6(){const je=new PlotModel;je.title="Brewer colors (Paired scheme)",je.axes.push(new CategoryAxis({position:AxisPosition.Bottom})),je.defaultColors=[OxyColor.fromRgb(166,206,227),OxyColor.fromRgb(31,120,180),OxyColor.fromRgb(178,223,138),OxyColor.fromRgb(51,160,44),OxyColor.fromRgb(251,154,153),OxyColor.fromRgb(227,26,28)];const $e=new Random;for(let Ve=0;Ve<je.defaultColors.length;Ve++){const ze=new BarSeries;ze.items.push(BarItem.fromValue(50+$e.next()*50)),ze.items.push(BarItem.fromValue(40+$e.next()*50)),je.series.push(ze)}return je}function sameColorOfLineSeriesAndAxisTitleAndLabels(){const je=new PlotModel;je.title="Same color of LineSeries and axis title & labels";const $e=OxyColors.IndianRed;return je.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Axis 1",titleColor:$e,textColor:$e})),je.axes.push(new LinearAxis({position:AxisPosition.Bottom})),je.series.push(new LineSeries({title:"LineSeries 1",color:$e,itemsSource:[newDataPoint(0,0),newDataPoint(10,3),newDataPoint(20,2)]})),je}function polarPlotWithArrows(){const je=new PlotModel;return je.title="Custom arrow series",je.plotType=PlotType.Polar,je.plotAreaBorderColor=OxyColors.Undefined,je.axes.push(new AngleAxis({minimum:0,maximum:360,majorStep:30,minorStep:30,majorGridlineStyle:LineStyle.Dash})),je.axes.push(new MagnitudeAxis({minimum:0,maximum:5,majorStep:1,minorStep:1,angle:90,majorGridlineStyle:LineStyle.Dash})),je.series.push(new ArrowSeries549839({endPoint:newDataPoint(1,40)})),je.series.push(new ArrowSeries549839({endPoint:newDataPoint(2,75)})),je.series.push(new ArrowSeries549839({endPoint:newDataPoint(3,110)})),je.series.push(new ArrowSeries549839({endPoint:newDataPoint(4,140)})),je.series.push(new ArrowSeries549839({endPoint:newDataPoint(5,180)})),je}function markerTypeCircleProblem(){const je=new PlotModel({plotType:PlotType.Cartesian,plotAreaBorderThickness:new OxyThickness(0)}),$e=new Legend;$e.legendSymbolLength=30;const Ve=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ze=getDateService(),qe=new DateTimeAxis({position:AxisPosition.Bottom,tickStyle:TickStyle.None,axislineStyle:LineStyle.Solid,axislineColor:OxyColor.fromRgb(153,153,153),stringFormatter:(Ke,Je)=>Ve[Ke.getMonth()]+ze.format(Ke,"d HH"),intervalType:DateTimeIntervalType.Hours}),Xe=new LinearAxis({position:AxisPosition.Left,minimum:.001,maximum:3,majorGridlineStyle:LineStyle.Solid,tickStyle:TickStyle.None,intervalLength:50});je.axes.push(qe),je.axes.push(Xe);const We=new LineSeries({color:OxyColor.fromRgb(44,169,173),strokeThickness:1,markerType:MarkerType.Circle,markerStroke:OxyColors.Blue,markerFill:OxyColors.SkyBlue,markerSize:2,dataFieldX:"Date",dataFieldY:"Value",trackerStringFormatter:Ke=>`Date: ${ze.format(Ke.xValue,"DD HH")}
Value: ${Ke.yValue}`});return We.points.push(newDataPoint(.1,.7)),We.points.push(newDataPoint(.6,.9)),We.points.push(newDataPoint(1,.85)),We.points.push(newDataPoint(1.4,.95)),We.points.push(newDataPoint(1.8,1.2)),We.points.push(newDataPoint(2.2,1.7)),We.points.push(newDataPoint(2.6,1.7)),We.points.push(newDataPoint(3,.7)),je.series.push(We),je}class ArrowSeries549839 extends XYAxisSeries{constructor(Ve){super(Ve);Wn(this,"defaultColor",OxyColors.Undefined);Wn(this,"startPoint",DataPoint_Zero);Wn(this,"endPoint",DataPoint_Zero);Wn(this,"color");Wn(this,"strokeThickness");this.color=OxyColors.Automatic,this.strokeThickness=2,Ve&&Object.assign(this,Ve)}setDefaultValues(){this.color.isAutomatic()&&(this.defaultColor=this.plotModel.getDefaultColor())}get actualColor(){return this.color.getActualColor(this.defaultColor)}async render(Ve){const ze=this.transform(this.startPoint),qe=this.transform(this.endPoint),Xe=screenPointMinus(qe,ze),We=new ScreenVector(Xe.y,-Xe.x),Ke=screenPointPlus(screenPointMinusVector(qe,Xe.times(.2)),We.times(.1)),Je=screenPointMinusVector(screenPointMinusVector(qe,Xe.times(.2)),We.times(.1));await Ve.drawLineSegments([ze,qe,qe,Ke,qe,Je],this.actualColor,this.strokeThickness,this.edgeRenderingMode)}}const category="Z0 Discussions",DiscussionExamples={category,examples:[{title:"#445576: Invisible contour series",example:{model:invisibleContourSeries}},{title:"#461507: StairStepSeries NullReferenceException",example:{model:stairStepSeries_NullReferenceException}},{title:"#501409: Heatmap interpolation color",example:{model:heatMapSeriesInterpolationColor}},{title:"#522598: Peaks 400x400",example:{model:peaks400}},{title:"#474875: Updating HeatMapSeries 1",example:{model:updatingHeatMapSeries1}},{title:"#474875: Updating HeatMapSeries 2",example:{model:updatingHeatMapSeries2}},{title:"#539104: Reduced color saturation",example:{model:reducedColorSaturation}},{title:"#539104: Medium intensity colors",example:{model:mediumIntensityColors}},{title:"#539104: Brewer colors (4)",example:{model:brewerColors4}},{title:"#539104: Brewer colors (6)",example:{model:brewerColors6}},{title:"#542701: Same color of LineSeries and axis title & labels",example:{model:sameColorOfLineSeriesAndAxisTitleAndLabels}},{title:"#549839: Polar plot with custom arrow series",example:{model:polarPlotWithArrows}},{title:"MarkerType = Circle problem",example:{model:markerTypeCircleProblem}}]},Discussions=[DiscussionExamples],allExampleCats=[...Annotations,...Axes,...Discussions,...CustomSeries,...Exps,...Misc,...Series,...ShowCases];let finalExamples=[];for(const je of allExampleCats){const $e=finalExamples.find(Ve=>Ve.category===je.category);$e?$e.examples.push(...je.examples):finalExamples.push(je)}finalExamples=sortArray(finalExamples,[["category","ASC"]]);const examples=finalExamples;function u$3(je,$e,...Ve){if(je in $e){let qe=$e[je];return typeof qe=="function"?qe(...Ve):qe}let ze=new Error(`Tried to handle "${je}" but there is no handler defined. Only defined handlers are: ${Object.keys($e).map(qe=>`"${qe}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(ze,u$3),ze}var N$2=(je=>(je[je.None=0]="None",je[je.RenderStrategy=1]="RenderStrategy",je[je.Static=2]="Static",je))(N$2||{}),S$2=(je=>(je[je.Unmount=0]="Unmount",je[je.Hidden=1]="Hidden",je))(S$2||{});function H$1({visible:je=!0,features:$e=0,ourProps:Ve,theirProps:ze,...qe}){var Xe;let We=j$1(ze,Ve),Ke=Object.assign(qe,{props:We});if(je||$e&2&&We.static)return y$3(Ke);if($e&1){let Je=(Xe=We.unmount)==null||Xe?0:1;return u$3(Je,{0(){return null},1(){return y$3({...qe,props:{...We,hidden:!0,style:{display:"none"}}})}})}return y$3(Ke)}function y$3({props:je,attrs:$e,slots:Ve,slot:ze,name:qe}){var Xe,We;let{as:Ke,...Je}=T$3(je,["unmount","static"]),Ze=(Xe=Ve.default)==null?void 0:Xe.call(Ve,ze),Qe={};if(ze){let St=!1,ei=[];for(let[ti,ni]of Object.entries(ze))typeof ni=="boolean"&&(St=!0),ni===!0&&ei.push(ti);St&&(Qe["data-headlessui-state"]=ei.join(" "))}if(Ke==="template"){if(Ze=b$2(Ze??[]),Object.keys(Je).length>0||Object.keys($e).length>0){let[St,...ei]=Ze??[];if(!v$1(St)||ei.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${qe} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(Je).concat(Object.keys($e)).map(oi=>oi.trim()).filter((oi,ai,si)=>si.indexOf(oi)===ai).sort((oi,ai)=>oi.localeCompare(ai)).map(oi=>`  - ${oi}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(oi=>`  - ${oi}`).join(`
`)].join(`
`));let ti=j$1((We=St.props)!=null?We:{},Je),ni=cloneVNode(St,ti);for(let oi in ti)oi.startsWith("on")&&(ni.props||(ni.props={}),ni.props[oi]=ti[oi]);return ni}return Array.isArray(Ze)&&Ze.length===1?Ze[0]:Ze}return h$2(Ke,Object.assign({},Je,Qe),{default:()=>Ze})}function b$2(je){return je.flatMap($e=>$e.type===Fragment?b$2($e.children):[$e])}function j$1(...je){if(je.length===0)return{};if(je.length===1)return je[0];let $e={},Ve={};for(let ze of je)for(let qe in ze)qe.startsWith("on")&&typeof ze[qe]=="function"?(Ve[qe]!=null||(Ve[qe]=[]),Ve[qe].push(ze[qe])):$e[qe]=ze[qe];if($e.disabled||$e["aria-disabled"])return Object.assign($e,Object.fromEntries(Object.keys(Ve).map(ze=>[ze,void 0])));for(let ze in Ve)Object.assign($e,{[ze](qe,...Xe){let We=Ve[ze];for(let Ke of We){if(qe instanceof Event&&qe.defaultPrevented)return;Ke(qe,...Xe)}}});return $e}function K$1(je){let $e=Object.assign({},je);for(let Ve in $e)$e[Ve]===void 0&&delete $e[Ve];return $e}function T$3(je,$e=[]){let Ve=Object.assign({},je);for(let ze of $e)ze in Ve&&delete Ve[ze];return Ve}function v$1(je){return je==null?!1:typeof je.type=="string"||typeof je.type=="object"||typeof je.type=="function"}let e$1=0;function n$3(){return++e$1}function t(){return n$3()}var o$4=(je=>(je.Space=" ",je.Enter="Enter",je.Escape="Escape",je.Backspace="Backspace",je.Delete="Delete",je.ArrowLeft="ArrowLeft",je.ArrowUp="ArrowUp",je.ArrowRight="ArrowRight",je.ArrowDown="ArrowDown",je.Home="Home",je.End="End",je.PageUp="PageUp",je.PageDown="PageDown",je.Tab="Tab",je))(o$4||{});function f$3(je){throw new Error("Unexpected object: "+je)}var a$3=(je=>(je[je.First=0]="First",je[je.Previous=1]="Previous",je[je.Next=2]="Next",je[je.Last=3]="Last",je[je.Specific=4]="Specific",je[je.Nothing=5]="Nothing",je))(a$3||{});function x$2(je,$e){let Ve=$e.resolveItems();if(Ve.length<=0)return null;let ze=$e.resolveActiveIndex(),qe=ze??-1,Xe=(()=>{switch(je.focus){case 0:return Ve.findIndex(We=>!$e.resolveDisabled(We));case 1:{let We=Ve.slice().reverse().findIndex((Ke,Je,Ze)=>qe!==-1&&Ze.length-Je-1>=qe?!1:!$e.resolveDisabled(Ke));return We===-1?We:Ve.length-1-We}case 2:return Ve.findIndex((We,Ke)=>Ke<=qe?!1:!$e.resolveDisabled(We));case 3:{let We=Ve.slice().reverse().findIndex(Ke=>!$e.resolveDisabled(Ke));return We===-1?We:Ve.length-1-We}case 4:return Ve.findIndex(We=>$e.resolveId(We)===je.id);case 5:return null;default:f$3(je)}})();return Xe===-1?ze:Xe}function o$3(je){var $e;return je==null||je.value==null?null:($e=je.value.$el)!=null?$e:je.value}let n$2=Symbol("Context");var l$1=(je=>(je[je.Open=1]="Open",je[je.Closed=2]="Closed",je[je.Closing=4]="Closing",je[je.Opening=8]="Opening",je))(l$1||{});function p$3(){return inject(n$2,null)}function c$3(je){provide(n$2,je)}function r$1(je,$e){if(je)return je;let Ve=$e??"button";if(typeof Ve=="string"&&Ve.toLowerCase()==="button")return"button"}function b$1(je,$e){let Ve=ref(r$1(je.value.type,je.value.as));return onMounted(()=>{Ve.value=r$1(je.value.type,je.value.as)}),watchEffect(()=>{var ze;Ve.value||o$3($e)&&o$3($e)instanceof HTMLButtonElement&&!((ze=o$3($e))!=null&&ze.hasAttribute("type"))&&(Ve.value="button")}),Ve}var i$2=Object.defineProperty,d$2=(je,$e,Ve)=>$e in je?i$2(je,$e,{enumerable:!0,configurable:!0,writable:!0,value:Ve}):je[$e]=Ve,n$1=(je,$e,Ve)=>(d$2(je,typeof $e!="symbol"?$e+"":$e,Ve),Ve);let s$1=class{constructor(){n$1(this,"current",this.detect()),n$1(this,"currentId",0)}set($e){this.current!==$e&&(this.currentId=0,this.current=$e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},c$2=new s$1;function m$1(je){if(c$2.isServer)return null;if(je instanceof Node)return je.ownerDocument;if(je!=null&&je.hasOwnProperty("value")){let $e=o$3(je);if($e)return $e.ownerDocument}return document}let c$1=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(je=>`${je}:not([tabindex='-1'])`).join(",");var N$1=(je=>(je[je.First=1]="First",je[je.Previous=2]="Previous",je[je.Next=4]="Next",je[je.Last=8]="Last",je[je.WrapAround=16]="WrapAround",je[je.NoScroll=32]="NoScroll",je))(N$1||{}),T$2=(je=>(je[je.Error=0]="Error",je[je.Overflow=1]="Overflow",je[je.Success=2]="Success",je[je.Underflow=3]="Underflow",je))(T$2||{}),F$1=(je=>(je[je.Previous=-1]="Previous",je[je.Next=1]="Next",je))(F$1||{}),h$1=(je=>(je[je.Strict=0]="Strict",je[je.Loose=1]="Loose",je))(h$1||{});function w$2(je,$e=0){var Ve;return je===((Ve=m$1(je))==null?void 0:Ve.body)?!1:u$3($e,{0(){return je.matches(c$1)},1(){let ze=je;for(;ze!==null;){if(ze.matches(c$1))return!0;ze=ze.parentElement}return!1}})}var y$2=(je=>(je[je.Keyboard=0]="Keyboard",je[je.Mouse=1]="Mouse",je))(y$2||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",je=>{je.metaKey||je.altKey||je.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",je=>{je.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:je.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function O$2(je,$e=Ve=>Ve){return je.slice().sort((Ve,ze)=>{let qe=$e(Ve),Xe=$e(ze);if(qe===null||Xe===null)return 0;let We=qe.compareDocumentPosition(Xe);return We&Node.DOCUMENT_POSITION_FOLLOWING?-1:We&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function u$2(je,$e,Ve){c$2.isServer||watchEffect(ze=>{document.addEventListener(je,$e,Ve),ze(()=>document.removeEventListener(je,$e,Ve))})}function w$1(je,$e,Ve){c$2.isServer||watchEffect(ze=>{window.addEventListener(je,$e,Ve),ze(()=>window.removeEventListener(je,$e,Ve))})}function y$1(je,$e,Ve=computed(()=>!0)){function ze(Xe,We){if(!Ve.value||Xe.defaultPrevented)return;let Ke=We(Xe);if(Ke===null||!Ke.getRootNode().contains(Ke))return;let Je=function Ze(Qe){return typeof Qe=="function"?Ze(Qe()):Array.isArray(Qe)||Qe instanceof Set?Qe:[Qe]}(je);for(let Ze of Je){if(Ze===null)continue;let Qe=Ze instanceof HTMLElement?Ze:o$3(Ze);if(Qe!=null&&Qe.contains(Ke)||Xe.composed&&Xe.composedPath().includes(Qe))return}return!w$2(Ke,h$1.Loose)&&Ke.tabIndex!==-1&&Xe.preventDefault(),$e(Xe,Ke)}let qe=ref(null);u$2("pointerdown",Xe=>{var We,Ke;Ve.value&&(qe.value=((Ke=(We=Xe.composedPath)==null?void 0:We.call(Xe))==null?void 0:Ke[0])||Xe.target)},!0),u$2("mousedown",Xe=>{var We,Ke;Ve.value&&(qe.value=((Ke=(We=Xe.composedPath)==null?void 0:We.call(Xe))==null?void 0:Ke[0])||Xe.target)},!0),u$2("click",Xe=>{qe.value&&(ze(Xe,()=>qe.value),qe.value=null)},!0),u$2("touchend",Xe=>ze(Xe,()=>Xe.target instanceof HTMLElement?Xe.target:null),!0),w$1("blur",Xe=>ze(Xe,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var a$2=(je=>(je[je.None=1]="None",je[je.Focusable=2]="Focusable",je[je.Hidden=4]="Hidden",je))(a$2||{});let f$2=defineComponent({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(je,{slots:$e,attrs:Ve}){return()=>{let{features:ze,...qe}=je,Xe={"aria-hidden":(ze&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(ze&4)===4&&(ze&2)!==2&&{display:"none"}}};return H$1({ourProps:Xe,theirProps:qe,slot:{},attrs:Ve,slots:$e,name:"Hidden"})}}});function e(je={},$e=null,Ve=[]){for(let[ze,qe]of Object.entries(je))o$2(Ve,f$1($e,ze),qe);return Ve}function f$1(je,$e){return je?je+"["+$e+"]":$e}function o$2(je,$e,Ve){if(Array.isArray(Ve))for(let[ze,qe]of Ve.entries())o$2(je,f$1($e,ze.toString()),qe);else Ve instanceof Date?je.push([$e,Ve.toISOString()]):typeof Ve=="boolean"?je.push([$e,Ve?"1":"0"]):typeof Ve=="string"?je.push([$e,Ve]):typeof Ve=="number"?je.push([$e,`${Ve}`]):Ve==null?je.push([$e,""]):e(Ve,$e,je)}function p$2(je){var $e,Ve;let ze=($e=je==null?void 0:je.form)!=null?$e:je.closest("form");if(ze){for(let qe of ze.elements)if(qe!==je&&(qe.tagName==="INPUT"&&qe.type==="submit"||qe.tagName==="BUTTON"&&qe.type==="submit"||qe.nodeName==="INPUT"&&qe.type==="image")){qe.click();return}(Ve=ze.requestSubmit)==null||Ve.call(ze)}}function d$1(je,$e,Ve){let ze=ref(Ve==null?void 0:Ve.value),qe=computed(()=>je.value!==void 0);return[computed(()=>qe.value?je.value:ze.value),function(Xe){return qe.value||(ze.value=Xe),$e==null?void 0:$e(Xe)}]}function r(je){return[je.screenX,je.screenY]}function u$1(){let je=ref([-1,-1]);return{wasMoved($e){let Ve=r($e);return je.value[0]===Ve[0]&&je.value[1]===Ve[1]?!1:(je.value=Ve,!0)},update($e){je.value=r($e)}}}var $$2=(je=>(je[je.Open=0]="Open",je[je.Closed=1]="Closed",je))($$2||{});let T$1=Symbol("DisclosureContext");function O$1(je){let $e=inject(T$1,null);if($e===null){let Ve=new Error(`<${je} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(Ve,O$1),Ve}return $e}let k$1=Symbol("DisclosurePanelContext");function U$1(){return inject(k$1,null)}let V$1=defineComponent({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(je,{slots:$e,attrs:Ve}){let ze=ref(je.defaultOpen?0:1),qe=ref(null),Xe=ref(null),We={buttonId:ref(`headlessui-disclosure-button-${t()}`),panelId:ref(`headlessui-disclosure-panel-${t()}`),disclosureState:ze,panel:qe,button:Xe,toggleDisclosure(){ze.value=u$3(ze.value,{0:1,1:0})},closeDisclosure(){ze.value!==1&&(ze.value=1)},close(Ke){We.closeDisclosure();let Je=Ke?Ke instanceof HTMLElement?Ke:Ke.value instanceof HTMLElement?o$3(Ke):o$3(We.button):o$3(We.button);Je==null||Je.focus()}};return provide(T$1,We),c$3(computed(()=>u$3(ze.value,{0:l$1.Open,1:l$1.Closed}))),()=>{let{defaultOpen:Ke,...Je}=je,Ze={open:ze.value===0,close:We.close};return H$1({theirProps:Je,ourProps:{},slot:Ze,slots:$e,attrs:Ve,name:"Disclosure"})}}}),X$1=defineComponent({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(je,{attrs:$e,slots:Ve,expose:ze}){let qe=O$1("DisclosureButton"),Xe=U$1(),We=computed(()=>Xe===null?!1:Xe.value===qe.panelId.value);onMounted(()=>{We.value||je.id!==null&&(qe.buttonId.value=je.id)}),onUnmounted(()=>{We.value||(qe.buttonId.value=null)});let Ke=ref(null);ze({el:Ke,$el:Ke}),We.value||watchEffect(()=>{qe.button.value=Ke.value});let Je=b$1(computed(()=>({as:je.as,type:$e.type})),Ke);function Ze(){var ei;je.disabled||(We.value?(qe.toggleDisclosure(),(ei=o$3(qe.button))==null||ei.focus()):qe.toggleDisclosure())}function Qe(ei){var ti;if(!je.disabled)if(We.value)switch(ei.key){case o$4.Space:case o$4.Enter:ei.preventDefault(),ei.stopPropagation(),qe.toggleDisclosure(),(ti=o$3(qe.button))==null||ti.focus();break}else switch(ei.key){case o$4.Space:case o$4.Enter:ei.preventDefault(),ei.stopPropagation(),qe.toggleDisclosure();break}}function St(ei){switch(ei.key){case o$4.Space:ei.preventDefault();break}}return()=>{var ei;let ti={open:qe.disclosureState.value===0},{id:ni,...oi}=je,ai=We.value?{ref:Ke,type:Je.value,onClick:Ze,onKeydown:Qe}:{id:(ei=qe.buttonId.value)!=null?ei:ni,ref:Ke,type:Je.value,"aria-expanded":qe.disclosureState.value===0,"aria-controls":qe.disclosureState.value===0||o$3(qe.panel)?qe.panelId.value:void 0,disabled:je.disabled?!0:void 0,onClick:Ze,onKeydown:Qe,onKeyup:St};return H$1({ourProps:ai,theirProps:oi,slot:ti,attrs:$e,slots:Ve,name:"DisclosureButton"})}}}),Y$1=defineComponent({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(je,{attrs:$e,slots:Ve,expose:ze}){let qe=O$1("DisclosurePanel");onMounted(()=>{je.id!==null&&(qe.panelId.value=je.id)}),onUnmounted(()=>{qe.panelId.value=null}),ze({el:qe.panel,$el:qe.panel}),provide(k$1,qe.panelId);let Xe=p$3(),We=computed(()=>Xe!==null?(Xe.value&l$1.Open)===l$1.Open:qe.disclosureState.value===0);return()=>{var Ke;let Je={open:qe.disclosureState.value===0,close:qe.close},{id:Ze,...Qe}=je,St={id:(Ke=qe.panelId.value)!=null?Ke:Ze,ref:qe.panel};return H$1({ourProps:St,theirProps:Qe,slot:Je,attrs:$e,slots:Ve,features:N$2.RenderStrategy|N$2.Static,visible:We.value,name:"DisclosurePanel"})}}}),a$1=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function o$1(je){var $e,Ve;let ze=($e=je.innerText)!=null?$e:"",qe=je.cloneNode(!0);if(!(qe instanceof HTMLElement))return ze;let Xe=!1;for(let Ke of qe.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))Ke.remove(),Xe=!0;let We=Xe?(Ve=qe.innerText)!=null?Ve:"":ze;return a$1.test(We)&&(We=We.replace(a$1,"")),We}function g$1(je){let $e=je.getAttribute("aria-label");if(typeof $e=="string")return $e.trim();let Ve=je.getAttribute("aria-labelledby");if(Ve){let ze=Ve.split(" ").map(qe=>{let Xe=document.getElementById(qe);if(Xe){let We=Xe.getAttribute("aria-label");return typeof We=="string"?We.trim():o$1(Xe).trim()}return null}).filter(Boolean);if(ze.length>0)return ze.join(", ")}return o$1(je).trim()}function p$1(je){let $e=ref(""),Ve=ref("");return()=>{let ze=o$3(je);if(!ze)return"";let qe=ze.innerText;if($e.value===qe)return Ve.value;let Xe=g$1(ze).trim().toLowerCase();return $e.value=qe,Ve.value=Xe,Xe}}function pe$1(je,$e){return je===$e}var ce$1=(je=>(je[je.Open=0]="Open",je[je.Closed=1]="Closed",je))(ce$1||{}),ve$1=(je=>(je[je.Single=0]="Single",je[je.Multi=1]="Multi",je))(ve$1||{}),be$1=(je=>(je[je.Pointer=0]="Pointer",je[je.Other=1]="Other",je))(be$1||{});function me$1(je){requestAnimationFrame(()=>requestAnimationFrame(je))}let $$1=Symbol("ListboxContext");function A$1(je){let $e=inject($$1,null);if($e===null){let Ve=new Error(`<${je} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(Ve,A$1),Ve}return $e}let Be=defineComponent({name:"Listbox",emits:{"update:modelValue":je=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>pe$1},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(je,{slots:$e,attrs:Ve,emit:ze}){let qe=ref(1),Xe=ref(null),We=ref(null),Ke=ref(null),Je=ref([]),Ze=ref(""),Qe=ref(null),St=ref(1);function ei(ii=ui=>ui){let ui=Qe.value!==null?Je.value[Qe.value]:null,ci=O$2(ii(Je.value.slice()),mi=>o$3(mi.dataRef.domRef)),hi=ui?ci.indexOf(ui):null;return hi===-1&&(hi=null),{options:ci,activeOptionIndex:hi}}let ti=computed(()=>je.multiple?1:0),[ni,oi]=d$1(computed(()=>je.modelValue),ii=>ze("update:modelValue",ii),computed(()=>je.defaultValue)),ai=computed(()=>ni.value===void 0?u$3(ti.value,{1:[],0:void 0}):ni.value),si={listboxState:qe,value:ai,mode:ti,compare(ii,ui){if(typeof je.by=="string"){let ci=je.by;return(ii==null?void 0:ii[ci])===(ui==null?void 0:ui[ci])}return je.by(ii,ui)},orientation:computed(()=>je.horizontal?"horizontal":"vertical"),labelRef:Xe,buttonRef:We,optionsRef:Ke,disabled:computed(()=>je.disabled),options:Je,searchQuery:Ze,activeOptionIndex:Qe,activationTrigger:St,closeListbox(){je.disabled||qe.value!==1&&(qe.value=1,Qe.value=null)},openListbox(){je.disabled||qe.value!==0&&(qe.value=0)},goToOption(ii,ui,ci){if(je.disabled||qe.value===1)return;let hi=ei(),mi=x$2(ii===a$3.Specific?{focus:a$3.Specific,id:ui}:{focus:ii},{resolveItems:()=>hi.options,resolveActiveIndex:()=>hi.activeOptionIndex,resolveId:di=>di.id,resolveDisabled:di=>di.dataRef.disabled});Ze.value="",Qe.value=mi,St.value=ci??1,Je.value=hi.options},search(ii){if(je.disabled||qe.value===1)return;let ui=Ze.value!==""?0:1;Ze.value+=ii.toLowerCase();let ci=(Qe.value!==null?Je.value.slice(Qe.value+ui).concat(Je.value.slice(0,Qe.value+ui)):Je.value).find(mi=>mi.dataRef.textValue.startsWith(Ze.value)&&!mi.dataRef.disabled),hi=ci?Je.value.indexOf(ci):-1;hi===-1||hi===Qe.value||(Qe.value=hi,St.value=1)},clearSearch(){je.disabled||qe.value!==1&&Ze.value!==""&&(Ze.value="")},registerOption(ii,ui){let ci=ei(hi=>[...hi,{id:ii,dataRef:ui}]);Je.value=ci.options,Qe.value=ci.activeOptionIndex},unregisterOption(ii){let ui=ei(ci=>{let hi=ci.findIndex(mi=>mi.id===ii);return hi!==-1&&ci.splice(hi,1),ci});Je.value=ui.options,Qe.value=ui.activeOptionIndex,St.value=1},theirOnChange(ii){je.disabled||oi(ii)},select(ii){je.disabled||oi(u$3(ti.value,{0:()=>ii,1:()=>{let ui=toRaw(si.value.value).slice(),ci=toRaw(ii),hi=ui.findIndex(mi=>si.compare(ci,toRaw(mi)));return hi===-1?ui.push(ci):ui.splice(hi,1),ui}}))}};y$1([We,Ke],(ii,ui)=>{var ci;si.closeListbox(),w$2(ui,h$1.Loose)||(ii.preventDefault(),(ci=o$3(We))==null||ci.focus())},computed(()=>qe.value===0)),provide($$1,si),c$3(computed(()=>u$3(qe.value,{0:l$1.Open,1:l$1.Closed})));let ri=computed(()=>{var ii;return(ii=o$3(We))==null?void 0:ii.closest("form")});return onMounted(()=>{watch([ri],()=>{if(!ri.value||je.defaultValue===void 0)return;function ii(){si.theirOnChange(je.defaultValue)}return ri.value.addEventListener("reset",ii),()=>{var ui;(ui=ri.value)==null||ui.removeEventListener("reset",ii)}},{immediate:!0})}),()=>{let{name:ii,modelValue:ui,disabled:ci,form:hi,...mi}=je,di={open:qe.value===0,disabled:ci,value:ai.value};return h$2(Fragment,[...ii!=null&&ai.value!=null?e({[ii]:ai.value}).map(([fi,yi])=>h$2(f$2,K$1({features:a$2.Hidden,key:fi,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:hi,name:fi,value:yi}))):[],H$1({ourProps:{},theirProps:{...Ve,...T$3(mi,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:di,slots:$e,attrs:Ve,name:"Listbox"})])}}}),Ne$1=defineComponent({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-listbox-button-${t()}`}},setup(je,{attrs:$e,slots:Ve,expose:ze}){let qe=A$1("ListboxButton");ze({el:qe.buttonRef,$el:qe.buttonRef});function Xe(Ze){switch(Ze.key){case o$4.Space:case o$4.Enter:case o$4.ArrowDown:Ze.preventDefault(),qe.openListbox(),nextTick(()=>{var Qe;(Qe=o$3(qe.optionsRef))==null||Qe.focus({preventScroll:!0}),qe.value.value||qe.goToOption(a$3.First)});break;case o$4.ArrowUp:Ze.preventDefault(),qe.openListbox(),nextTick(()=>{var Qe;(Qe=o$3(qe.optionsRef))==null||Qe.focus({preventScroll:!0}),qe.value.value||qe.goToOption(a$3.Last)});break}}function We(Ze){switch(Ze.key){case o$4.Space:Ze.preventDefault();break}}function Ke(Ze){qe.disabled.value||(qe.listboxState.value===0?(qe.closeListbox(),nextTick(()=>{var Qe;return(Qe=o$3(qe.buttonRef))==null?void 0:Qe.focus({preventScroll:!0})})):(Ze.preventDefault(),qe.openListbox(),me$1(()=>{var Qe;return(Qe=o$3(qe.optionsRef))==null?void 0:Qe.focus({preventScroll:!0})})))}let Je=b$1(computed(()=>({as:je.as,type:$e.type})),qe.buttonRef);return()=>{var Ze,Qe;let St={open:qe.listboxState.value===0,disabled:qe.disabled.value,value:qe.value.value},{id:ei,...ti}=je,ni={ref:qe.buttonRef,id:ei,type:Je.value,"aria-haspopup":"listbox","aria-controls":(Ze=o$3(qe.optionsRef))==null?void 0:Ze.id,"aria-expanded":qe.listboxState.value===0,"aria-labelledby":qe.labelRef.value?[(Qe=o$3(qe.labelRef))==null?void 0:Qe.id,ei].join(" "):void 0,disabled:qe.disabled.value===!0?!0:void 0,onKeydown:Xe,onKeyup:We,onClick:Ke};return H$1({ourProps:ni,theirProps:ti,slot:St,attrs:$e,slots:Ve,name:"ListboxButton"})}}}),He=defineComponent({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-listbox-options-${t()}`}},setup(je,{attrs:$e,slots:Ve,expose:ze}){let qe=A$1("ListboxOptions"),Xe=ref(null);ze({el:qe.optionsRef,$el:qe.optionsRef});function We(Ze){switch(Xe.value&&clearTimeout(Xe.value),Ze.key){case o$4.Space:if(qe.searchQuery.value!=="")return Ze.preventDefault(),Ze.stopPropagation(),qe.search(Ze.key);case o$4.Enter:if(Ze.preventDefault(),Ze.stopPropagation(),qe.activeOptionIndex.value!==null){let Qe=qe.options.value[qe.activeOptionIndex.value];qe.select(Qe.dataRef.value)}qe.mode.value===0&&(qe.closeListbox(),nextTick(()=>{var Qe;return(Qe=o$3(qe.buttonRef))==null?void 0:Qe.focus({preventScroll:!0})}));break;case u$3(qe.orientation.value,{vertical:o$4.ArrowDown,horizontal:o$4.ArrowRight}):return Ze.preventDefault(),Ze.stopPropagation(),qe.goToOption(a$3.Next);case u$3(qe.orientation.value,{vertical:o$4.ArrowUp,horizontal:o$4.ArrowLeft}):return Ze.preventDefault(),Ze.stopPropagation(),qe.goToOption(a$3.Previous);case o$4.Home:case o$4.PageUp:return Ze.preventDefault(),Ze.stopPropagation(),qe.goToOption(a$3.First);case o$4.End:case o$4.PageDown:return Ze.preventDefault(),Ze.stopPropagation(),qe.goToOption(a$3.Last);case o$4.Escape:Ze.preventDefault(),Ze.stopPropagation(),qe.closeListbox(),nextTick(()=>{var Qe;return(Qe=o$3(qe.buttonRef))==null?void 0:Qe.focus({preventScroll:!0})});break;case o$4.Tab:Ze.preventDefault(),Ze.stopPropagation();break;default:Ze.key.length===1&&(qe.search(Ze.key),Xe.value=setTimeout(()=>qe.clearSearch(),350));break}}let Ke=p$3(),Je=computed(()=>Ke!==null?(Ke.value&l$1.Open)===l$1.Open:qe.listboxState.value===0);return()=>{var Ze,Qe,St,ei;let ti={open:qe.listboxState.value===0},{id:ni,...oi}=je,ai={"aria-activedescendant":qe.activeOptionIndex.value===null||(Ze=qe.options.value[qe.activeOptionIndex.value])==null?void 0:Ze.id,"aria-multiselectable":qe.mode.value===1?!0:void 0,"aria-labelledby":(ei=(Qe=o$3(qe.labelRef))==null?void 0:Qe.id)!=null?ei:(St=o$3(qe.buttonRef))==null?void 0:St.id,"aria-orientation":qe.orientation.value,id:ni,onKeydown:We,role:"listbox",tabIndex:0,ref:qe.optionsRef};return H$1({ourProps:ai,theirProps:oi,slot:ti,attrs:$e,slots:Ve,features:N$2.RenderStrategy|N$2.Static,visible:Je.value,name:"ListboxOptions"})}}}),Ue=defineComponent({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-listbox.option-${t()}`}},setup(je,{slots:$e,attrs:Ve,expose:ze}){let qe=A$1("ListboxOption"),Xe=ref(null);ze({el:Xe,$el:Xe});let We=computed(()=>qe.activeOptionIndex.value!==null?qe.options.value[qe.activeOptionIndex.value].id===je.id:!1),Ke=computed(()=>u$3(qe.mode.value,{0:()=>qe.compare(toRaw(qe.value.value),toRaw(je.value)),1:()=>toRaw(qe.value.value).some(si=>qe.compare(toRaw(si),toRaw(je.value)))})),Je=computed(()=>u$3(qe.mode.value,{1:()=>{var si;let ri=toRaw(qe.value.value);return((si=qe.options.value.find(ii=>ri.some(ui=>qe.compare(toRaw(ui),toRaw(ii.dataRef.value)))))==null?void 0:si.id)===je.id},0:()=>Ke.value})),Ze=p$1(Xe),Qe=computed(()=>({disabled:je.disabled,value:je.value,get textValue(){return Ze()},domRef:Xe}));onMounted(()=>qe.registerOption(je.id,Qe)),onUnmounted(()=>qe.unregisterOption(je.id)),onMounted(()=>{watch([qe.listboxState,Ke],()=>{qe.listboxState.value===0&&Ke.value&&u$3(qe.mode.value,{1:()=>{Je.value&&qe.goToOption(a$3.Specific,je.id)},0:()=>{qe.goToOption(a$3.Specific,je.id)}})},{immediate:!0})}),watchEffect(()=>{qe.listboxState.value===0&&We.value&&qe.activationTrigger.value!==0&&nextTick(()=>{var si,ri;return(ri=(si=o$3(Xe))==null?void 0:si.scrollIntoView)==null?void 0:ri.call(si,{block:"nearest"})})});function St(si){if(je.disabled)return si.preventDefault();qe.select(je.value),qe.mode.value===0&&(qe.closeListbox(),nextTick(()=>{var ri;return(ri=o$3(qe.buttonRef))==null?void 0:ri.focus({preventScroll:!0})}))}function ei(){if(je.disabled)return qe.goToOption(a$3.Nothing);qe.goToOption(a$3.Specific,je.id)}let ti=u$1();function ni(si){ti.update(si)}function oi(si){ti.wasMoved(si)&&(je.disabled||We.value||qe.goToOption(a$3.Specific,je.id,0))}function ai(si){ti.wasMoved(si)&&(je.disabled||We.value&&qe.goToOption(a$3.Nothing))}return()=>{let{disabled:si}=je,ri={active:We.value,selected:Ke.value,disabled:si},{id:ii,value:ui,disabled:ci,...hi}=je,mi={id:ii,ref:Xe,role:"option",tabIndex:si===!0?void 0:-1,"aria-disabled":si===!0?!0:void 0,"aria-selected":Ke.value,disabled:void 0,onClick:St,onFocus:ei,onPointerenter:ni,onMouseenter:ni,onPointermove:oi,onMousemove:oi,onPointerleave:ai,onMouseleave:ai};return H$1({ourProps:mi,theirProps:hi,slot:ri,attrs:Ve,slots:$e,name:"ListboxOption"})}}}),S$1=Symbol("GroupContext"),ue$1=defineComponent({name:"Switch",emits:{"update:modelValue":je=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:()=>`headlessui-switch-${t()}`}},inheritAttrs:!1,setup(je,{emit:$e,attrs:Ve,slots:ze,expose:qe}){let Xe=inject(S$1,null),[We,Ke]=d$1(computed(()=>je.modelValue),ai=>$e("update:modelValue",ai),computed(()=>je.defaultChecked));function Je(){Ke(!We.value)}let Ze=ref(null),Qe=Xe===null?Ze:Xe.switchRef,St=b$1(computed(()=>({as:je.as,type:Ve.type})),Qe);qe({el:Qe,$el:Qe});function ei(ai){ai.preventDefault(),Je()}function ti(ai){ai.key===o$4.Space?(ai.preventDefault(),Je()):ai.key===o$4.Enter&&p$2(ai.currentTarget)}function ni(ai){ai.preventDefault()}let oi=computed(()=>{var ai,si;return(si=(ai=o$3(Qe))==null?void 0:ai.closest)==null?void 0:si.call(ai,"form")});return onMounted(()=>{watch([oi],()=>{if(!oi.value||je.defaultChecked===void 0)return;function ai(){Ke(je.defaultChecked)}return oi.value.addEventListener("reset",ai),()=>{var si;(si=oi.value)==null||si.removeEventListener("reset",ai)}},{immediate:!0})}),()=>{let{id:ai,name:si,value:ri,form:ii,...ui}=je,ci={checked:We.value},hi={id:ai,ref:Qe,role:"switch",type:St.value,tabIndex:0,"aria-checked":We.value,"aria-labelledby":Xe==null?void 0:Xe.labelledby.value,"aria-describedby":Xe==null?void 0:Xe.describedby.value,onClick:ei,onKeyup:ti,onKeypress:ni};return h$2(Fragment,[si!=null&&We.value!=null?h$2(f$2,K$1({features:a$2.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:We.value,form:ii,name:si,value:ri})):null,H$1({ourProps:hi,theirProps:{...Ve,...T$3(ui,["modelValue","defaultChecked"])},slot:ci,attrs:Ve,slots:ze,name:"Switch"})])}}});function render$1(je,$e){return openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[createBaseVNode("path",{"fill-rule":"evenodd",d:"M10.53 3.47a.75.75 0 0 0-1.06 0L6.22 6.72a.75.75 0 0 0 1.06 1.06L10 5.06l2.72 2.72a.75.75 0 1 0 1.06-1.06l-3.25-3.25Zm-4.31 9.81 3.25 3.25a.75.75 0 0 0 1.06 0l3.25-3.25a.75.75 0 1 0-1.06-1.06L10 14.94l-2.72-2.72a.75.75 0 0 0-1.06 1.06Z","clip-rule":"evenodd"})])}function render(je,$e){return openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[createBaseVNode("path",{"fill-rule":"evenodd",d:"M9.47 6.47a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 1 1-1.06 1.06L10 8.06l-3.72 3.72a.75.75 0 0 1-1.06-1.06l4.25-4.25Z","clip-rule":"evenodd"})])}var duration$1={exports:{}};(function(je,$e){(function(Ve,ze){je.exports=ze()})(commonjsGlobal,function(){var Ve,ze,qe=1e3,Xe=6e4,We=36e5,Ke=864e5,Je=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Ze=31536e6,Qe=2628e6,St=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,ei={years:Ze,months:Qe,days:Ke,hours:We,minutes:Xe,seconds:qe,milliseconds:1,weeks:6048e5},ti=function(hi){return hi instanceof ui},ni=function(hi,mi,di){return new ui(hi,di,mi.$l)},oi=function(hi){return ze.p(hi)+"s"},ai=function(hi){return hi<0},si=function(hi){return ai(hi)?Math.ceil(hi):Math.floor(hi)},ri=function(hi){return Math.abs(hi)},ii=function(hi,mi){return hi?ai(hi)?{negative:!0,format:""+ri(hi)+mi}:{negative:!1,format:""+hi+mi}:{negative:!1,format:""}},ui=function(){function hi(di,fi,yi){var pi=this;if(this.$d={},this.$l=yi,di===void 0&&(this.$ms=0,this.parseFromMilliseconds()),fi)return ni(di*ei[oi(fi)],this);if(typeof di=="number")return this.$ms=di,this.parseFromMilliseconds(),this;if(typeof di=="object")return Object.keys(di).forEach(function(vi){pi.$d[oi(vi)]=di[vi]}),this.calMilliseconds(),this;if(typeof di=="string"){var xi=di.match(St);if(xi){var Si=xi.slice(2).map(function(vi){return vi!=null?Number(vi):0});return this.$d.years=Si[0],this.$d.months=Si[1],this.$d.weeks=Si[2],this.$d.days=Si[3],this.$d.hours=Si[4],this.$d.minutes=Si[5],this.$d.seconds=Si[6],this.calMilliseconds(),this}}return this}var mi=hi.prototype;return mi.calMilliseconds=function(){var di=this;this.$ms=Object.keys(this.$d).reduce(function(fi,yi){return fi+(di.$d[yi]||0)*ei[yi]},0)},mi.parseFromMilliseconds=function(){var di=this.$ms;this.$d.years=si(di/Ze),di%=Ze,this.$d.months=si(di/Qe),di%=Qe,this.$d.days=si(di/Ke),di%=Ke,this.$d.hours=si(di/We),di%=We,this.$d.minutes=si(di/Xe),di%=Xe,this.$d.seconds=si(di/qe),di%=qe,this.$d.milliseconds=di},mi.toISOString=function(){var di=ii(this.$d.years,"Y"),fi=ii(this.$d.months,"M"),yi=+this.$d.days||0;this.$d.weeks&&(yi+=7*this.$d.weeks);var pi=ii(yi,"D"),xi=ii(this.$d.hours,"H"),Si=ii(this.$d.minutes,"M"),vi=this.$d.seconds||0;this.$d.milliseconds&&(vi+=this.$d.milliseconds/1e3,vi=Math.round(1e3*vi)/1e3);var Di=ii(vi,"S"),Ti=di.negative||fi.negative||pi.negative||xi.negative||Si.negative||Di.negative,Fi=xi.format||Si.format||Di.format?"T":"",Ci=(Ti?"-":"")+"P"+di.format+fi.format+pi.format+Fi+xi.format+Si.format+Di.format;return Ci==="P"||Ci==="-P"?"P0D":Ci},mi.toJSON=function(){return this.toISOString()},mi.format=function(di){var fi=di||"YYYY-MM-DDTHH:mm:ss",yi={Y:this.$d.years,YY:ze.s(this.$d.years,2,"0"),YYYY:ze.s(this.$d.years,4,"0"),M:this.$d.months,MM:ze.s(this.$d.months,2,"0"),D:this.$d.days,DD:ze.s(this.$d.days,2,"0"),H:this.$d.hours,HH:ze.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:ze.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:ze.s(this.$d.seconds,2,"0"),SSS:ze.s(this.$d.milliseconds,3,"0")};return fi.replace(Je,function(pi,xi){return xi||String(yi[pi])})},mi.as=function(di){return this.$ms/ei[oi(di)]},mi.get=function(di){var fi=this.$ms,yi=oi(di);return yi==="milliseconds"?fi%=1e3:fi=yi==="weeks"?si(fi/ei[yi]):this.$d[yi],fi||0},mi.add=function(di,fi,yi){var pi;return pi=fi?di*ei[oi(fi)]:ti(di)?di.$ms:ni(di,this).$ms,ni(this.$ms+pi*(yi?-1:1),this)},mi.subtract=function(di,fi){return this.add(di,fi,!0)},mi.locale=function(di){var fi=this.clone();return fi.$l=di,fi},mi.clone=function(){return ni(this.$ms,this)},mi.humanize=function(di){return Ve().add(this.$ms,"ms").locale(this.$l).fromNow(!di)},mi.valueOf=function(){return this.asMilliseconds()},mi.milliseconds=function(){return this.get("milliseconds")},mi.asMilliseconds=function(){return this.as("milliseconds")},mi.seconds=function(){return this.get("seconds")},mi.asSeconds=function(){return this.as("seconds")},mi.minutes=function(){return this.get("minutes")},mi.asMinutes=function(){return this.as("minutes")},mi.hours=function(){return this.get("hours")},mi.asHours=function(){return this.as("hours")},mi.days=function(){return this.get("days")},mi.asDays=function(){return this.as("days")},mi.weeks=function(){return this.get("weeks")},mi.asWeeks=function(){return this.as("weeks")},mi.months=function(){return this.get("months")},mi.asMonths=function(){return this.as("months")},mi.years=function(){return this.get("years")},mi.asYears=function(){return this.as("years")},hi}(),ci=function(hi,mi,di){return hi.add(mi.years()*di,"y").add(mi.months()*di,"M").add(mi.days()*di,"d").add(mi.hours()*di,"h").add(mi.minutes()*di,"m").add(mi.seconds()*di,"s").add(mi.milliseconds()*di,"ms")};return function(hi,mi,di){Ve=di,ze=di().$utils(),di.duration=function(pi,xi){var Si=di.locale();return ni(pi,{$l:Si},xi)},di.isDuration=ti;var fi=mi.prototype.add,yi=mi.prototype.subtract;mi.prototype.add=function(pi,xi){return ti(pi)?ci(this,pi,1):fi.bind(this)(pi,xi)},mi.prototype.subtract=function(pi,xi){return ti(pi)?ci(this,pi,-1):yi.bind(this)(pi,xi)}}})})(duration$1);var durationExports=duration$1.exports;const duration=getDefaultExportFromCjs(durationExports);var dayOfYear$1={exports:{}};(function(je,$e){(function(Ve,ze){je.exports=ze()})(commonjsGlobal,function(){return function(Ve,ze,qe){ze.prototype.dayOfYear=function(Xe){var We=Math.round((qe(this).startOf("day")-qe(this).startOf("year"))/864e5)+1;return Xe==null?We:this.add(Xe-We,"day")}}})})(dayOfYear$1);var dayOfYearExports=dayOfYear$1.exports;const dayOfYear=getDefaultExportFromCjs(dayOfYearExports),oxyPlotImg="/oxyplot-js/assets/OxyPlot-4SQiqpWf.png";class RenderContextImageCacheService{constructor(){Wn(this,"cache",new Map)}get($e){return this.cache.get($e)}set($e,Ve){this.cache.set($e,Ve)}clear($e){$e?this.cache.delete($e):this.cache.clear()}}let renderContextImageCacheService=new RenderContextImageCacheService;function getRenderContextImageCacheService(){return renderContextImageCacheService}let cachedContext=null;function getCanvasContext(){if(cachedContext)return cachedContext;const je=document.createElement("canvas");if(cachedContext=je==null?void 0:je.getContext("2d"),!cachedContext)throw new Error("Could not get canvas context");return cachedContext}let styleConverter=null;const getFont=(je,$e,Ve)=>(styleConverter||(styleConverter=new OxyStyleToCanvasStyleConverter),styleConverter.convertFont(je,$e,Ve||FontWeights.Normal));function canvasTextMeasurer(je){je=je||getCanvasContext();function $e(Ve,ze,qe,Xe){if(!je)throw new Error("Could not get canvas context");je.font=getFont(ze,qe,Xe);const We=je.measureText(Ve);return new OxySize(We.width,qe)}return{measureText:$e}}class OxyStyleToCanvasStyleConverter{convertLineJoin($e){switch($e=$e||LineJoin.Miter,$e){case LineJoin.Miter:return"miter";case LineJoin.Bevel:return"bevel";case LineJoin.Round:return"round"}}convertStrokeOrFillStyle($e){return $e.toRgba()}convertFont($e,Ve,ze){let qe="";return(ze||FontWeights.Normal)>FontWeights.Normal&&(qe+="bold "),qe+=`${Ve||12}px `,$e&&(qe+=`"${$e}" `),qe.trim()}}const scriptRel="modulepreload",assetsURL=function(je){return"/oxyplot-js/"+je},seen={},__vitePreload=function je($e,Ve,ze){let qe=Promise.resolve();if(Ve&&Ve.length>0){const Xe=document.getElementsByTagName("link");qe=Promise.all(Ve.map(We=>{if(We=assetsURL(We),We in seen)return;seen[We]=!0;const Ke=We.endsWith(".css"),Je=Ke?'[rel="stylesheet"]':"";if(!!ze)for(let St=Xe.length-1;St>=0;St--){const ei=Xe[St];if(ei.href===We&&(!Ke||ei.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${We}"]${Je}`))return;const Qe=document.createElement("link");if(Qe.rel=Ke?"stylesheet":scriptRel,Ke||(Qe.as="script",Qe.crossOrigin=""),Qe.href=We,document.head.appendChild(Qe),Ke)return new Promise((St,ei)=>{Qe.addEventListener("load",St),Qe.addEventListener("error",()=>ei(new Error(`Unable to preload CSS for ${We}`)))})}))}return qe.then(()=>$e()).catch(Xe=>{const We=new Event("vite:preloadError",{cancelable:!0});if(We.payload=Xe,window.dispatchEvent(We),!We.defaultPrevented)throw Xe})};function _typeof(je){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($e){return typeof $e}:function($e){return $e&&typeof Symbol=="function"&&$e.constructor===Symbol&&$e!==Symbol.prototype?"symbol":typeof $e},_typeof(je)}var u8=Uint8Array,u16=Uint16Array,u32=Uint32Array,fleb=new u8([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fdeb=new u8([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),clim=new u8([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),freb=function(je,$e){for(var Ve=new u16(31),ze=0;ze<31;++ze)Ve[ze]=$e+=1<<je[ze-1];for(var qe=new u32(Ve[30]),ze=1;ze<30;++ze)for(var Xe=Ve[ze];Xe<Ve[ze+1];++Xe)qe[Xe]=Xe-Ve[ze]<<5|ze;return[Ve,qe]},_a=freb(fleb,2),fl=_a[0],revfl=_a[1];fl[28]=258,revfl[258]=28;var _b=freb(fdeb,0),fd=_b[0],revfd=_b[1],rev=new u16(32768);for(var i$1=0;i$1<32768;++i$1){var x$1=(i$1&43690)>>>1|(i$1&21845)<<1;x$1=(x$1&52428)>>>2|(x$1&13107)<<2,x$1=(x$1&61680)>>>4|(x$1&3855)<<4,rev[i$1]=((x$1&65280)>>>8|(x$1&255)<<8)>>>1}var hMap=function(je,$e,Ve){for(var ze=je.length,qe=0,Xe=new u16($e);qe<ze;++qe)++Xe[je[qe]-1];var We=new u16($e);for(qe=0;qe<$e;++qe)We[qe]=We[qe-1]+Xe[qe-1]<<1;var Ke;if(Ve){Ke=new u16(1<<$e);var Je=15-$e;for(qe=0;qe<ze;++qe)if(je[qe])for(var Ze=qe<<4|je[qe],Qe=$e-je[qe],St=We[je[qe]-1]++<<Qe,ei=St|(1<<Qe)-1;St<=ei;++St)Ke[rev[St]>>>Je]=Ze}else for(Ke=new u16(ze),qe=0;qe<ze;++qe)Ke[qe]=rev[We[je[qe]-1]++]>>>15-je[qe];return Ke},flt=new u8(288);for(var i$1=0;i$1<144;++i$1)flt[i$1]=8;for(var i$1=144;i$1<256;++i$1)flt[i$1]=9;for(var i$1=256;i$1<280;++i$1)flt[i$1]=7;for(var i$1=280;i$1<288;++i$1)flt[i$1]=8;var fdt=new u8(32);for(var i$1=0;i$1<32;++i$1)fdt[i$1]=5;var flm=hMap(flt,9,0),flrm=hMap(flt,9,1),fdm=hMap(fdt,5,0),fdrm=hMap(fdt,5,1),max=function(je){for(var $e=je[0],Ve=1;Ve<je.length;++Ve)je[Ve]>$e&&($e=je[Ve]);return $e},bits=function(je,$e,Ve){var ze=$e/8>>0;return(je[ze]|je[ze+1]<<8)>>>($e&7)&Ve},bits16=function(je,$e){var Ve=$e/8>>0;return(je[Ve]|je[Ve+1]<<8|je[Ve+2]<<16)>>>($e&7)},shft=function(je){return(je/8>>0)+(je&7&&1)},slc=function(je,$e,Ve){($e==null||$e<0)&&($e=0),(Ve==null||Ve>je.length)&&(Ve=je.length);var ze=new(je instanceof u16?u16:je instanceof u32?u32:u8)(Ve-$e);return ze.set(je.subarray($e,Ve)),ze},inflt=function(je,$e,Ve){var ze=je.length,qe=!$e||Ve,Xe=!Ve||Ve.i;Ve||(Ve={}),$e||($e=new u8(ze*3));var We=function(Xi){var en=$e.length;if(Xi>en){var tn=new u8(Math.max(en*2,Xi));tn.set($e),$e=tn}},Ke=Ve.f||0,Je=Ve.p||0,Ze=Ve.b||0,Qe=Ve.l,St=Ve.d,ei=Ve.m,ti=Ve.n,ni=ze*8;do{if(!Qe){Ve.f=Ke=bits(je,Je,1);var oi=bits(je,Je+1,3);if(Je+=3,oi)if(oi==1)Qe=flrm,St=fdrm,ei=9,ti=5;else if(oi==2){var ii=bits(je,Je,31)+257,ui=bits(je,Je+10,15)+4,ci=ii+bits(je,Je+5,31)+1;Je+=14;for(var hi=new u8(ci),mi=new u8(19),di=0;di<ui;++di)mi[clim[di]]=bits(je,Je+di*3,7);Je+=ui*3;var fi=max(mi),yi=(1<<fi)-1;if(!Xe&&Je+ci*(fi+7)>ni)break;for(var pi=hMap(mi,fi,1),di=0;di<ci;){var xi=pi[bits(je,Je,yi)];Je+=xi&15;var ai=xi>>>4;if(ai<16)hi[di++]=ai;else{var Si=0,vi=0;for(ai==16?(vi=3+bits(je,Je,3),Je+=2,Si=hi[di-1]):ai==17?(vi=3+bits(je,Je,7),Je+=3):ai==18&&(vi=11+bits(je,Je,127),Je+=7);vi--;)hi[di++]=Si}}var Di=hi.subarray(0,ii),Ti=hi.subarray(ii);ei=max(Di),ti=max(Ti),Qe=hMap(Di,ei,1),St=hMap(Ti,ti,1)}else throw"invalid block type";else{var ai=shft(Je)+4,si=je[ai-4]|je[ai-3]<<8,ri=ai+si;if(ri>ze){if(Xe)throw"unexpected EOF";break}qe&&We(Ze+si),$e.set(je.subarray(ai,ri),Ze),Ve.b=Ze+=si,Ve.p=Je=ri*8;continue}if(Je>ni)throw"unexpected EOF"}qe&&We(Ze+131072);for(var Fi=(1<<ei)-1,Ci=(1<<ti)-1,Ni=ei+ti+18;Xe||Je+Ni<ni;){var Si=Qe[bits16(je,Je)&Fi],Ri=Si>>>4;if(Je+=Si&15,Je>ni)throw"unexpected EOF";if(!Si)throw"invalid length/literal";if(Ri<256)$e[Ze++]=Ri;else if(Ri==256){Qe=null;break}else{var Yi=Ri-254;if(Ri>264){var di=Ri-257,ki=fleb[di];Yi=bits(je,Je,(1<<ki)-1)+fl[di],Je+=ki}var ji=St[bits16(je,Je)&Ci],Vi=ji>>>4;if(!ji)throw"invalid distance";Je+=ji&15;var Ti=fd[Vi];if(Vi>3){var ki=fdeb[Vi];Ti+=bits16(je,Je)&(1<<ki)-1,Je+=ki}if(Je>ni)throw"unexpected EOF";qe&&We(Ze+131072);for(var Bi=Ze+Yi;Ze<Bi;Ze+=4)$e[Ze]=$e[Ze-Ti],$e[Ze+1]=$e[Ze+1-Ti],$e[Ze+2]=$e[Ze+2-Ti],$e[Ze+3]=$e[Ze+3-Ti];Ze=Bi}}Ve.l=Qe,Ve.p=Je,Ve.b=Ze,Qe&&(Ke=1,Ve.m=ei,Ve.d=St,Ve.n=ti)}while(!Ke);return Ze==$e.length?$e:slc($e,0,Ze)},wbits=function(je,$e,Ve){Ve<<=$e&7;var ze=$e/8>>0;je[ze]|=Ve,je[ze+1]|=Ve>>>8},wbits16=function(je,$e,Ve){Ve<<=$e&7;var ze=$e/8>>0;je[ze]|=Ve,je[ze+1]|=Ve>>>8,je[ze+2]|=Ve>>>16},hTree=function(je,$e){for(var Ve=[],ze=0;ze<je.length;++ze)je[ze]&&Ve.push({s:ze,f:je[ze]});var qe=Ve.length,Xe=Ve.slice();if(!qe)return[new u8(0),0];if(qe==1){var We=new u8(Ve[0].s+1);return We[Ve[0].s]=1,[We,1]}Ve.sort(function(ci,hi){return ci.f-hi.f}),Ve.push({s:-1,f:25001});var Ke=Ve[0],Je=Ve[1],Ze=0,Qe=1,St=2;for(Ve[0]={s:-1,f:Ke.f+Je.f,l:Ke,r:Je};Qe!=qe-1;)Ke=Ve[Ve[Ze].f<Ve[St].f?Ze++:St++],Je=Ve[Ze!=Qe&&Ve[Ze].f<Ve[St].f?Ze++:St++],Ve[Qe++]={s:-1,f:Ke.f+Je.f,l:Ke,r:Je};for(var ei=Xe[0].s,ze=1;ze<qe;++ze)Xe[ze].s>ei&&(ei=Xe[ze].s);var ti=new u16(ei+1),ni=ln(Ve[Qe-1],ti,0);if(ni>$e){var ze=0,oi=0,ai=ni-$e,si=1<<ai;for(Xe.sort(function(hi,mi){return ti[mi.s]-ti[hi.s]||hi.f-mi.f});ze<qe;++ze){var ri=Xe[ze].s;if(ti[ri]>$e)oi+=si-(1<<ni-ti[ri]),ti[ri]=$e;else break}for(oi>>>=ai;oi>0;){var ii=Xe[ze].s;ti[ii]<$e?oi-=1<<$e-ti[ii]++-1:++ze}for(;ze>=0&&oi;--ze){var ui=Xe[ze].s;ti[ui]==$e&&(--ti[ui],++oi)}ni=$e}return[new u8(ti),ni]},ln=function(je,$e,Ve){return je.s==-1?Math.max(ln(je.l,$e,Ve+1),ln(je.r,$e,Ve+1)):$e[je.s]=Ve},lc=function(je){for(var $e=je.length;$e&&!je[--$e];);for(var Ve=new u16(++$e),ze=0,qe=je[0],Xe=1,We=function(Je){Ve[ze++]=Je},Ke=1;Ke<=$e;++Ke)if(je[Ke]==qe&&Ke!=$e)++Xe;else{if(!qe&&Xe>2){for(;Xe>138;Xe-=138)We(32754);Xe>2&&(We(Xe>10?Xe-11<<5|28690:Xe-3<<5|12305),Xe=0)}else if(Xe>3){for(We(qe),--Xe;Xe>6;Xe-=6)We(8304);Xe>2&&(We(Xe-3<<5|8208),Xe=0)}for(;Xe--;)We(qe);Xe=1,qe=je[Ke]}return[Ve.subarray(0,ze),$e]},clen=function(je,$e){for(var Ve=0,ze=0;ze<$e.length;++ze)Ve+=je[ze]*$e[ze];return Ve},wfblk=function(je,$e,Ve){var ze=Ve.length,qe=shft($e+2);je[qe]=ze&255,je[qe+1]=ze>>>8,je[qe+2]=je[qe]^255,je[qe+3]=je[qe+1]^255;for(var Xe=0;Xe<ze;++Xe)je[qe+Xe+4]=Ve[Xe];return(qe+4+ze)*8},wblk=function(je,$e,Ve,ze,qe,Xe,We,Ke,Je,Ze,Qe){wbits($e,Qe++,Ve),++qe[256];for(var St=hTree(qe,15),ei=St[0],ti=St[1],ni=hTree(Xe,15),oi=ni[0],ai=ni[1],si=lc(ei),ri=si[0],ii=si[1],ui=lc(oi),ci=ui[0],hi=ui[1],mi=new u16(19),di=0;di<ri.length;++di)mi[ri[di]&31]++;for(var di=0;di<ci.length;++di)mi[ci[di]&31]++;for(var fi=hTree(mi,7),yi=fi[0],pi=fi[1],xi=19;xi>4&&!yi[clim[xi-1]];--xi);var Si=Ze+5<<3,vi=clen(qe,flt)+clen(Xe,fdt)+We,Di=clen(qe,ei)+clen(Xe,oi)+We+14+3*xi+clen(mi,yi)+(2*mi[16]+3*mi[17]+7*mi[18]);if(Si<=vi&&Si<=Di)return wfblk($e,Qe,je.subarray(Je,Je+Ze));var Ti,Fi,Ci,Ni;if(wbits($e,Qe,1+(Di<vi)),Qe+=2,Di<vi){Ti=hMap(ei,ti,0),Fi=ei,Ci=hMap(oi,ai,0),Ni=oi;var Ri=hMap(yi,pi,0);wbits($e,Qe,ii-257),wbits($e,Qe+5,hi-1),wbits($e,Qe+10,xi-4),Qe+=14;for(var di=0;di<xi;++di)wbits($e,Qe+3*di,yi[clim[di]]);Qe+=3*xi;for(var Yi=[ri,ci],ki=0;ki<2;++ki)for(var ji=Yi[ki],di=0;di<ji.length;++di){var Vi=ji[di]&31;wbits($e,Qe,Ri[Vi]),Qe+=yi[Vi],Vi>15&&(wbits($e,Qe,ji[di]>>>5&127),Qe+=ji[di]>>>12)}}else Ti=flm,Fi=flt,Ci=fdm,Ni=fdt;for(var di=0;di<Ke;++di)if(ze[di]>255){var Vi=ze[di]>>>18&31;wbits16($e,Qe,Ti[Vi+257]),Qe+=Fi[Vi+257],Vi>7&&(wbits($e,Qe,ze[di]>>>23&31),Qe+=fleb[Vi]);var Bi=ze[di]&31;wbits16($e,Qe,Ci[Bi]),Qe+=Ni[Bi],Bi>3&&(wbits16($e,Qe,ze[di]>>>5&8191),Qe+=fdeb[Bi])}else wbits16($e,Qe,Ti[ze[di]]),Qe+=Fi[ze[di]];return wbits16($e,Qe,Ti[256]),Qe+Fi[256]},deo=new u32([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),et$1=new u8(0),dflt=function(je,$e,Ve,ze,qe,Xe){var We=je.length,Ke=new u8(ze+We+5*(1+Math.floor(We/7e3))+qe),Je=Ke.subarray(ze,Ke.length-qe),Ze=0;if(!$e||We<8)for(var Qe=0;Qe<=We;Qe+=65535){var St=Qe+65535;St<We?Ze=wfblk(Je,Ze,je.subarray(Qe,St)):(Je[Qe]=Xe,Ze=wfblk(Je,Ze,je.subarray(Qe,We)))}else{for(var ei=deo[$e-1],ti=ei>>>13,ni=ei&8191,oi=(1<<Ve)-1,ai=new u16(32768),si=new u16(oi+1),ri=Math.ceil(Ve/3),ii=2*ri,ui=function(Oi){return(je[Oi]^je[Oi+1]<<ri^je[Oi+2]<<ii)&oi},ci=new u32(25e3),hi=new u16(288),mi=new u16(32),di=0,fi=0,Qe=0,yi=0,pi=0,xi=0;Qe<We;++Qe){var Si=ui(Qe),vi=Qe&32767,Di=si[Si];if(ai[vi]=Di,si[Si]=vi,pi<=Qe){var Ti=We-Qe;if((di>7e3||yi>24576)&&Ti>423){Ze=wblk(je,Je,0,ci,hi,mi,fi,yi,xi,Qe-xi,Ze),yi=di=fi=0,xi=Qe;for(var Fi=0;Fi<286;++Fi)hi[Fi]=0;for(var Fi=0;Fi<30;++Fi)mi[Fi]=0}var Ci=2,Ni=0,Ri=ni,Yi=vi-Di&32767;if(Ti>2&&Si==ui(Qe-Yi))for(var ki=Math.min(ti,Ti)-1,ji=Math.min(32767,Qe),Vi=Math.min(258,Ti);Yi<=ji&&--Ri&&vi!=Di;){if(je[Qe+Ci]==je[Qe+Ci-Yi]){for(var Bi=0;Bi<Vi&&je[Qe+Bi]==je[Qe+Bi-Yi];++Bi);if(Bi>Ci){if(Ci=Bi,Ni=Yi,Bi>ki)break;for(var Xi=Math.min(Yi,Bi-2),en=0,Fi=0;Fi<Xi;++Fi){var tn=Qe-Yi+Fi+32768&32767,Ji=ai[tn],Li=tn-Ji+32768&32767;Li>en&&(en=Li,Di=tn)}}}vi=Di,Di=ai[vi],Yi+=vi-Di+32768&32767}if(Ni){ci[yi++]=268435456|revfl[Ci]<<18|revfd[Ni];var wi=revfl[Ci]&31,_i=revfd[Ni]&31;fi+=fleb[wi]+fdeb[_i],++hi[257+wi],++mi[_i],pi=Qe+Ci,++di}else ci[yi++]=je[Qe],++hi[je[Qe]]}}Ze=wblk(je,Je,Xe,ci,hi,mi,fi,yi,xi,Qe-xi,Ze),Xe||(Ze=wfblk(Je,Ze,et$1))}return slc(Ke,0,ze+shft(Ze)+qe)},adler=function(){var je=1,$e=0;return{p:function(Ve){for(var ze=je,qe=$e,Xe=Ve.length,We=0;We!=Xe;){for(var Ke=Math.min(We+5552,Xe);We<Ke;++We)ze+=Ve[We],qe+=ze;ze%=65521,qe%=65521}je=ze,$e=qe},d:function(){return(je>>>8<<16|($e&255)<<8|$e>>>8)+((je&255)<<23)*2}}},dopt=function(je,$e,Ve,ze,qe){return dflt(je,$e.level==null?6:$e.level,$e.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(je.length)))*1.5):12+$e.mem,Ve,ze,!qe)},wbytes=function(je,$e,Ve){for(;Ve;++$e)je[$e]=Ve,Ve>>>=8},zlh=function(je,$e){var Ve=$e.level,ze=Ve==0?0:Ve<6?1:Ve==9?3:2;je[0]=120,je[1]=ze<<6|(ze?32-2*ze:1)},zlv=function(je){if((je[0]&15)!=8||je[0]>>>4>7||(je[0]<<8|je[1])%31)throw"invalid zlib data";if(je[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function zlibSync(je,$e){$e===void 0&&($e={});var Ve=adler();Ve.p(je);var ze=dopt(je,$e,2,4);return zlh(ze,$e),wbytes(ze,ze.length-4,Ve.d()),ze}function unzlibSync(je,$e){return inflt((zlv(je),je.subarray(2,-4)),$e)}var n=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function i(){n.console&&typeof n.console.log=="function"&&n.console.log.apply(n.console,arguments)}var a={log:i,warn:function(je){n.console&&(typeof n.console.warn=="function"?n.console.warn.apply(n.console,arguments):i.call(null,arguments))},error:function(je){n.console&&(typeof n.console.error=="function"?n.console.error.apply(n.console,arguments):i(je))}};function o(je,$e,Ve){var ze=new XMLHttpRequest;ze.open("GET",je),ze.responseType="blob",ze.onload=function(){l(ze.response,$e,Ve)},ze.onerror=function(){a.error("could not download file")},ze.send()}function s(je){var $e=new XMLHttpRequest;$e.open("HEAD",je,!1);try{$e.send()}catch{}return $e.status>=200&&$e.status<=299}function c(je){try{je.dispatchEvent(new MouseEvent("click"))}catch{var $e=document.createEvent("MouseEvents");$e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),je.dispatchEvent($e)}}var u,h,l=n.saveAs||((typeof window>"u"?"undefined":_typeof(window))!=="object"||window!==n?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(je,$e,Ve){var ze=n.URL||n.webkitURL,qe=document.createElement("a");$e=$e||je.name||"download",qe.download=$e,qe.rel="noopener",typeof je=="string"?(qe.href=je,qe.origin!==location.origin?s(qe.href)?o(je,$e,Ve):c(qe,qe.target="_blank"):c(qe)):(qe.href=ze.createObjectURL(je),setTimeout(function(){ze.revokeObjectURL(qe.href)},4e4),setTimeout(function(){c(qe)},0))}:"msSaveOrOpenBlob"in navigator?function(je,$e,Ve){if($e=$e||je.name||"download",typeof je=="string")if(s(je))o(je,$e,Ve);else{var ze=document.createElement("a");ze.href=je,ze.target="_blank",setTimeout(function(){c(ze)})}else navigator.msSaveOrOpenBlob(function(qe,Xe){return Xe===void 0?Xe={autoBom:!1}:_typeof(Xe)!=="object"&&(a.warn("Deprecated: Expected third argument to be a object"),Xe={autoBom:!Xe}),Xe.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(qe.type)?new Blob(["\uFEFF",qe],{type:qe.type}):qe}(je,Ve),$e)}:function(je,$e,Ve,ze){if((ze=ze||open("","_blank"))&&(ze.document.title=ze.document.body.innerText="downloading..."),typeof je=="string")return o(je,$e,Ve);var qe=je.type==="application/octet-stream",Xe=/constructor/i.test(n.HTMLElement)||n.safari,We=/CriOS\/[\d]+/.test(navigator.userAgent);if((We||qe&&Xe)&&(typeof FileReader>"u"?"undefined":_typeof(FileReader))==="object"){var Ke=new FileReader;Ke.onloadend=function(){var Qe=Ke.result;Qe=We?Qe:Qe.replace(/^data:[^;]*;/,"data:attachment/file;"),ze?ze.location.href=Qe:location=Qe,ze=null},Ke.readAsDataURL(je)}else{var Je=n.URL||n.webkitURL,Ze=Je.createObjectURL(je);ze?ze.location=Ze:location.href=Ze,ze=null,setTimeout(function(){Je.revokeObjectURL(Ze)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function f(je){var $e;je=je||"",this.ok=!1,je.charAt(0)=="#"&&(je=je.substr(1,6)),je={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[je=(je=je.replace(/ /g,"")).toLowerCase()]||je;for(var Ve=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(Ke){return[parseInt(Ke[1]),parseInt(Ke[2]),parseInt(Ke[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(Ke){return[parseInt(Ke[1],16),parseInt(Ke[2],16),parseInt(Ke[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(Ke){return[parseInt(Ke[1]+Ke[1],16),parseInt(Ke[2]+Ke[2],16),parseInt(Ke[3]+Ke[3],16)]}}],ze=0;ze<Ve.length;ze++){var qe=Ve[ze].re,Xe=Ve[ze].process,We=qe.exec(je);We&&($e=Xe(We),this.r=$e[0],this.g=$e[1],this.b=$e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var Ke=this.r.toString(16),Je=this.g.toString(16),Ze=this.b.toString(16);return Ke.length==1&&(Ke="0"+Ke),Je.length==1&&(Je="0"+Je),Ze.length==1&&(Ze="0"+Ze),"#"+Ke+Je+Ze}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function d(je,$e){var Ve=je[0],ze=je[1],qe=je[2],Xe=je[3];Ve=g(Ve,ze,qe,Xe,$e[0],7,-680876936),Xe=g(Xe,Ve,ze,qe,$e[1],12,-389564586),qe=g(qe,Xe,Ve,ze,$e[2],17,606105819),ze=g(ze,qe,Xe,Ve,$e[3],22,-1044525330),Ve=g(Ve,ze,qe,Xe,$e[4],7,-176418897),Xe=g(Xe,Ve,ze,qe,$e[5],12,1200080426),qe=g(qe,Xe,Ve,ze,$e[6],17,-1473231341),ze=g(ze,qe,Xe,Ve,$e[7],22,-45705983),Ve=g(Ve,ze,qe,Xe,$e[8],7,1770035416),Xe=g(Xe,Ve,ze,qe,$e[9],12,-1958414417),qe=g(qe,Xe,Ve,ze,$e[10],17,-42063),ze=g(ze,qe,Xe,Ve,$e[11],22,-1990404162),Ve=g(Ve,ze,qe,Xe,$e[12],7,1804603682),Xe=g(Xe,Ve,ze,qe,$e[13],12,-40341101),qe=g(qe,Xe,Ve,ze,$e[14],17,-1502002290),Ve=m(Ve,ze=g(ze,qe,Xe,Ve,$e[15],22,1236535329),qe,Xe,$e[1],5,-165796510),Xe=m(Xe,Ve,ze,qe,$e[6],9,-1069501632),qe=m(qe,Xe,Ve,ze,$e[11],14,643717713),ze=m(ze,qe,Xe,Ve,$e[0],20,-373897302),Ve=m(Ve,ze,qe,Xe,$e[5],5,-701558691),Xe=m(Xe,Ve,ze,qe,$e[10],9,38016083),qe=m(qe,Xe,Ve,ze,$e[15],14,-660478335),ze=m(ze,qe,Xe,Ve,$e[4],20,-405537848),Ve=m(Ve,ze,qe,Xe,$e[9],5,568446438),Xe=m(Xe,Ve,ze,qe,$e[14],9,-1019803690),qe=m(qe,Xe,Ve,ze,$e[3],14,-187363961),ze=m(ze,qe,Xe,Ve,$e[8],20,1163531501),Ve=m(Ve,ze,qe,Xe,$e[13],5,-1444681467),Xe=m(Xe,Ve,ze,qe,$e[2],9,-51403784),qe=m(qe,Xe,Ve,ze,$e[7],14,1735328473),Ve=v(Ve,ze=m(ze,qe,Xe,Ve,$e[12],20,-1926607734),qe,Xe,$e[5],4,-378558),Xe=v(Xe,Ve,ze,qe,$e[8],11,-2022574463),qe=v(qe,Xe,Ve,ze,$e[11],16,1839030562),ze=v(ze,qe,Xe,Ve,$e[14],23,-35309556),Ve=v(Ve,ze,qe,Xe,$e[1],4,-1530992060),Xe=v(Xe,Ve,ze,qe,$e[4],11,1272893353),qe=v(qe,Xe,Ve,ze,$e[7],16,-155497632),ze=v(ze,qe,Xe,Ve,$e[10],23,-1094730640),Ve=v(Ve,ze,qe,Xe,$e[13],4,681279174),Xe=v(Xe,Ve,ze,qe,$e[0],11,-358537222),qe=v(qe,Xe,Ve,ze,$e[3],16,-722521979),ze=v(ze,qe,Xe,Ve,$e[6],23,76029189),Ve=v(Ve,ze,qe,Xe,$e[9],4,-640364487),Xe=v(Xe,Ve,ze,qe,$e[12],11,-421815835),qe=v(qe,Xe,Ve,ze,$e[15],16,530742520),Ve=b(Ve,ze=v(ze,qe,Xe,Ve,$e[2],23,-995338651),qe,Xe,$e[0],6,-198630844),Xe=b(Xe,Ve,ze,qe,$e[7],10,1126891415),qe=b(qe,Xe,Ve,ze,$e[14],15,-1416354905),ze=b(ze,qe,Xe,Ve,$e[5],21,-57434055),Ve=b(Ve,ze,qe,Xe,$e[12],6,1700485571),Xe=b(Xe,Ve,ze,qe,$e[3],10,-1894986606),qe=b(qe,Xe,Ve,ze,$e[10],15,-1051523),ze=b(ze,qe,Xe,Ve,$e[1],21,-2054922799),Ve=b(Ve,ze,qe,Xe,$e[8],6,1873313359),Xe=b(Xe,Ve,ze,qe,$e[15],10,-30611744),qe=b(qe,Xe,Ve,ze,$e[6],15,-1560198380),ze=b(ze,qe,Xe,Ve,$e[13],21,1309151649),Ve=b(Ve,ze,qe,Xe,$e[4],6,-145523070),Xe=b(Xe,Ve,ze,qe,$e[11],10,-1120210379),qe=b(qe,Xe,Ve,ze,$e[2],15,718787259),ze=b(ze,qe,Xe,Ve,$e[9],21,-343485551),je[0]=_(Ve,je[0]),je[1]=_(ze,je[1]),je[2]=_(qe,je[2]),je[3]=_(Xe,je[3])}function p(je,$e,Ve,ze,qe,Xe){return $e=_(_($e,je),_(ze,Xe)),_($e<<qe|$e>>>32-qe,Ve)}function g(je,$e,Ve,ze,qe,Xe,We){return p($e&Ve|~$e&ze,je,$e,qe,Xe,We)}function m(je,$e,Ve,ze,qe,Xe,We){return p($e&ze|Ve&~ze,je,$e,qe,Xe,We)}function v(je,$e,Ve,ze,qe,Xe,We){return p($e^Ve^ze,je,$e,qe,Xe,We)}function b(je,$e,Ve,ze,qe,Xe,We){return p(Ve^($e|~ze),je,$e,qe,Xe,We)}function y(je){var $e,Ve=je.length,ze=[1732584193,-271733879,-1732584194,271733878];for($e=64;$e<=je.length;$e+=64)d(ze,w(je.substring($e-64,$e)));je=je.substring($e-64);var qe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for($e=0;$e<je.length;$e++)qe[$e>>2]|=je.charCodeAt($e)<<($e%4<<3);if(qe[$e>>2]|=128<<($e%4<<3),$e>55)for(d(ze,qe),$e=0;$e<16;$e++)qe[$e]=0;return qe[14]=8*Ve,d(ze,qe),ze}function w(je){var $e,Ve=[];for($e=0;$e<64;$e+=4)Ve[$e>>2]=je.charCodeAt($e)+(je.charCodeAt($e+1)<<8)+(je.charCodeAt($e+2)<<16)+(je.charCodeAt($e+3)<<24);return Ve}u=n.atob.bind(n),h=n.btoa.bind(n);var N="0123456789abcdef".split("");function L(je){for(var $e="",Ve=0;Ve<4;Ve++)$e+=N[je>>8*Ve+4&15]+N[je>>8*Ve&15];return $e}function A(je){return String.fromCharCode((255&je)>>0,(65280&je)>>8,(16711680&je)>>16,(4278190080&je)>>24)}function x(je){return y(je).map(A).join("")}var S=function(je){for(var $e=0;$e<je.length;$e++)je[$e]=L(je[$e]);return je.join("")}(y("hello"))!="5d41402abc4b2a76b9719d911017c592";function _(je,$e){if(S){var Ve=(65535&je)+(65535&$e);return(je>>16)+($e>>16)+(Ve>>16)<<16|65535&Ve}return je+$e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function P(je,$e){var Ve,ze,qe,Xe;if(je!==Ve){for(var We=(qe=je,Xe=1+(256/je.length>>0),new Array(Xe+1).join(qe)),Ke=[],Je=0;Je<256;Je++)Ke[Je]=Je;var Ze=0;for(Je=0;Je<256;Je++){var Qe=Ke[Je];Ze=(Ze+Qe+We.charCodeAt(Je))%256,Ke[Je]=Ke[Ze],Ke[Ze]=Qe}Ve=je,ze=Ke}else Ke=ze;var St=$e.length,ei=0,ti=0,ni="";for(Je=0;Je<St;Je++)ti=(ti+(Qe=Ke[ei=(ei+1)%256]))%256,Ke[ei]=Ke[ti],Ke[ti]=Qe,We=Ke[(Ke[ei]+Ke[ti])%256],ni+=String.fromCharCode($e.charCodeAt(Je)^We);return ni}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var k={print:4,modify:8,copy:16,"annot-forms":32};function I(je,$e,Ve,ze){this.v=1,this.r=2;var qe=192;je.forEach(function(Ke){if(k.perm!==void 0)throw new Error("Invalid permission: "+Ke);qe+=k[Ke]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var Xe=($e+this.padding).substr(0,32),We=(Ve+this.padding).substr(0,32);this.O=this.processOwnerPassword(Xe,We),this.P=-(1+(255^qe)),this.encryptionKey=x(Xe+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(ze)).substr(0,5),this.U=P(this.encryptionKey,this.padding)}function F(je){if(/[^\u0000-\u00ff]/.test(je))throw new Error("Invalid PDF Name Object: "+je+", Only accept ASCII characters.");for(var $e="",Ve=je.length,ze=0;ze<Ve;ze++){var qe=je.charCodeAt(ze);qe<33||qe===35||qe===37||qe===40||qe===41||qe===47||qe===60||qe===62||qe===91||qe===93||qe===123||qe===125||qe>126?$e+="#"+("0"+qe.toString(16)).slice(-2):$e+=je[ze]}return $e}function C(je){if(_typeof(je)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var $e={};this.subscribe=function(Ve,ze,qe){if(qe=qe||!1,typeof Ve!="string"||typeof ze!="function"||typeof qe!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");$e.hasOwnProperty(Ve)||($e[Ve]={});var Xe=Math.random().toString(35);return $e[Ve][Xe]=[ze,!!qe],Xe},this.unsubscribe=function(Ve){for(var ze in $e)if($e[ze][Ve])return delete $e[ze][Ve],Object.keys($e[ze]).length===0&&delete $e[ze],!0;return!1},this.publish=function(Ve){if($e.hasOwnProperty(Ve)){var ze=Array.prototype.slice.call(arguments,1),qe=[];for(var Xe in $e[Ve]){var We=$e[Ve][Xe];try{We[0].apply(je,ze)}catch(Ke){n.console&&a.error("jsPDF PubSub Error",Ke.message,Ke)}We[1]&&qe.push(Xe)}qe.length&&qe.forEach(this.unsubscribe)}},this.getTopics=function(){return $e}}function j(je){if(!(this instanceof j))return new j(je);var $e="opacity,stroke-opacity".split(",");for(var Ve in je)je.hasOwnProperty(Ve)&&$e.indexOf(Ve)>=0&&(this[Ve]=je[Ve]);this.id="",this.objectNumber=-1}function O(je,$e){this.gState=je,this.matrix=$e,this.id="",this.objectNumber=-1}function B(je,$e,Ve,ze,qe){if(!(this instanceof B))return new B(je,$e,Ve,ze,qe);this.type=je==="axial"?2:3,this.coords=$e,this.colors=Ve,O.call(this,ze,qe)}function M(je,$e,Ve,ze,qe){if(!(this instanceof M))return new M(je,$e,Ve,ze,qe);this.boundingBox=je,this.xStep=$e,this.yStep=Ve,this.stream="",this.cloneIndex=0,O.call(this,ze,qe)}function E(je){var $e,Ve=typeof arguments[0]=="string"?arguments[0]:"p",ze=arguments[1],qe=arguments[2],Xe=arguments[3],We=[],Ke=1,Je=16,Ze="S",Qe=null;_typeof(je=je||{})==="object"&&(Ve=je.orientation,ze=je.unit||ze,qe=je.format||qe,Xe=je.compress||je.compressPdf||Xe,(Qe=je.encryption||null)!==null&&(Qe.userPassword=Qe.userPassword||"",Qe.ownerPassword=Qe.ownerPassword||"",Qe.userPermissions=Qe.userPermissions||[]),Ke=typeof je.userUnit=="number"?Math.abs(je.userUnit):1,je.precision!==void 0&&($e=je.precision),je.floatPrecision!==void 0&&(Je=je.floatPrecision),Ze=je.defaultPathOperation||"S"),We=je.filters||(Xe===!0?["FlateEncode"]:We),ze=ze||"mm",Ve=(""+(Ve||"P")).toLowerCase();var St=je.putOnlyUsedFonts||!1,ei={},ti={internal:{},__private__:{}};ti.__private__.PubSub=C;var ni="1.3",oi=ti.__private__.getPdfVersion=function(){return ni};ti.__private__.setPdfVersion=function(Pi){ni=Pi};var ai={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};ti.__private__.getPageFormats=function(){return ai};var si=ti.__private__.getPageFormat=function(Pi){return ai[Pi]};qe=qe||"a4";var ri={COMPAT:"compat",ADVANCED:"advanced"},ii=ri.COMPAT;function ui(){this.saveGraphicsState(),Mi(new Mn(sn,0,0,-sn,0,Ho()*sn).toString()+" cm"),this.setFontSize(this.getFontSize()/sn),Ze="n",ii=ri.ADVANCED}function ci(){this.restoreGraphicsState(),Ze="S",ii=ri.COMPAT}var hi=ti.__private__.combineFontStyleAndFontWeight=function(Pi,qi){if(Pi=="bold"&&qi=="normal"||Pi=="bold"&&qi==400||Pi=="normal"&&qi=="italic"||Pi=="bold"&&qi=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return qi&&(Pi=qi==400||qi==="normal"?Pi==="italic"?"italic":"normal":qi!=700&&qi!=="bold"||Pi!=="normal"?(qi==700?"bold":qi)+""+Pi:"bold"),Pi};ti.advancedAPI=function(Pi){var qi=ii===ri.COMPAT;return qi&&ui.call(this),typeof Pi!="function"||(Pi(this),qi&&ci.call(this)),this},ti.compatAPI=function(Pi){var qi=ii===ri.ADVANCED;return qi&&ci.call(this),typeof Pi!="function"||(Pi(this),qi&&ui.call(this)),this},ti.isAdvancedAPI=function(){return ii===ri.ADVANCED};var mi,di=function(Pi){if(ii!==ri.ADVANCED)throw new Error(Pi+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},fi=ti.roundToPrecision=ti.__private__.roundToPrecision=function(Pi,qi){var cn=$e||qi;if(isNaN(Pi)||isNaN(cn))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return Pi.toFixed(cn).replace(/0+$/,"")};mi=ti.hpf=ti.__private__.hpf=typeof Je=="number"?function(Pi){if(isNaN(Pi))throw new Error("Invalid argument passed to jsPDF.hpf");return fi(Pi,Je)}:Je==="smart"?function(Pi){if(isNaN(Pi))throw new Error("Invalid argument passed to jsPDF.hpf");return fi(Pi,Pi>-1&&Pi<1?16:5)}:function(Pi){if(isNaN(Pi))throw new Error("Invalid argument passed to jsPDF.hpf");return fi(Pi,16)};var yi=ti.f2=ti.__private__.f2=function(Pi){if(isNaN(Pi))throw new Error("Invalid argument passed to jsPDF.f2");return fi(Pi,2)},pi=ti.__private__.f3=function(Pi){if(isNaN(Pi))throw new Error("Invalid argument passed to jsPDF.f3");return fi(Pi,3)},xi=ti.scale=ti.__private__.scale=function(Pi){if(isNaN(Pi))throw new Error("Invalid argument passed to jsPDF.scale");return ii===ri.COMPAT?Pi*sn:ii===ri.ADVANCED?Pi:void 0},Si=function(Pi){return ii===ri.COMPAT?Ho()-Pi:ii===ri.ADVANCED?Pi:void 0},vi=function(Pi){return xi(Si(Pi))};ti.__private__.setPrecision=ti.setPrecision=function(Pi){typeof parseInt(Pi,10)=="number"&&($e=parseInt(Pi,10))};var Di,Ti="00000000000000000000000000000000",Fi=ti.__private__.getFileId=function(){return Ti},Ci=ti.__private__.setFileId=function(Pi){return Ti=Pi!==void 0&&/^[a-fA-F0-9]{32}$/.test(Pi)?Pi.toUpperCase():Ti.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),Qe!==null&&(Xr=new I(Qe.userPermissions,Qe.userPassword,Qe.ownerPassword,Ti)),Ti};ti.setFileId=function(Pi){return Ci(Pi),this},ti.getFileId=function(){return Fi()};var Ni=ti.__private__.convertDateToPDFDate=function(Pi){var qi=Pi.getTimezoneOffset(),cn=qi<0?"+":"-",pn=Math.floor(Math.abs(qi/60)),Cn=Math.abs(qi%60),Nn=[cn,Vi(pn),"'",Vi(Cn),"'"].join("");return["D:",Pi.getFullYear(),Vi(Pi.getMonth()+1),Vi(Pi.getDate()),Vi(Pi.getHours()),Vi(Pi.getMinutes()),Vi(Pi.getSeconds()),Nn].join("")},Ri=ti.__private__.convertPDFDateToDate=function(Pi){var qi=parseInt(Pi.substr(2,4),10),cn=parseInt(Pi.substr(6,2),10)-1,pn=parseInt(Pi.substr(8,2),10),Cn=parseInt(Pi.substr(10,2),10),Nn=parseInt(Pi.substr(12,2),10),Vn=parseInt(Pi.substr(14,2),10);return new Date(qi,cn,pn,Cn,Nn,Vn,0)},Yi=ti.__private__.setCreationDate=function(Pi){var qi;if(Pi===void 0&&(Pi=new Date),Pi instanceof Date)qi=Ni(Pi);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(Pi))throw new Error("Invalid argument passed to jsPDF.setCreationDate");qi=Pi}return Di=qi},ki=ti.__private__.getCreationDate=function(Pi){var qi=Di;return Pi==="jsDate"&&(qi=Ri(Di)),qi};ti.setCreationDate=function(Pi){return Yi(Pi),this},ti.getCreationDate=function(Pi){return ki(Pi)};var ji,Vi=ti.__private__.padd2=function(Pi){return("0"+parseInt(Pi)).slice(-2)},Bi=ti.__private__.padd2Hex=function(Pi){return("00"+(Pi=Pi.toString())).substr(Pi.length)},Xi=0,en=[],tn=[],Ji=0,Li=[],wi=[],_i=!1,Ai=tn,Oi=function(){Xi=0,Ji=0,tn=[],en=[],Li=[],Sr=ur(),Nr=ur()};ti.__private__.setCustomOutputDestination=function(Pi){_i=!0,Ai=Pi};var Ii=function(Pi){_i||(Ai=Pi)};ti.__private__.resetCustomOutputDestination=function(){_i=!1,Ai=tn};var Mi=ti.__private__.out=function(Pi){return Pi=Pi.toString(),Ji+=Pi.length+1,Ai.push(Pi),Ai},Gi=ti.__private__.write=function(Pi){return Mi(arguments.length===1?Pi.toString():Array.prototype.join.call(arguments," "))},on=ti.__private__.getArrayBuffer=function(Pi){for(var qi=Pi.length,cn=new ArrayBuffer(qi),pn=new Uint8Array(cn);qi--;)pn[qi]=Pi.charCodeAt(qi);return cn},Ui=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];ti.__private__.getStandardFonts=function(){return Ui};var rn=je.fontSize||16;ti.__private__.setFontSize=ti.setFontSize=function(Pi){return rn=ii===ri.ADVANCED?Pi/sn:Pi,this};var un,dn=ti.__private__.getFontSize=ti.getFontSize=function(){return ii===ri.COMPAT?rn:rn*sn},hn=je.R2L||!1;ti.__private__.setR2L=ti.setR2L=function(Pi){return hn=Pi,this},ti.__private__.getR2L=ti.getR2L=function(){return hn};var Sn,fn=ti.__private__.setZoomMode=function(Pi){var qi=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(Pi))un=Pi;else if(isNaN(Pi)){if(qi.indexOf(Pi)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+Pi+'" is not recognized.');un=Pi}else un=parseInt(Pi,10)};ti.__private__.getZoomMode=function(){return un};var Pn,zi=ti.__private__.setPageMode=function(Pi){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(Pi)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+Pi+'" is not recognized.');Sn=Pi};ti.__private__.getPageMode=function(){return Sn};var En=ti.__private__.setLayoutMode=function(Pi){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(Pi)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+Pi+'" is not recognized.');Pn=Pi};ti.__private__.getLayoutMode=function(){return Pn},ti.__private__.setDisplayMode=ti.setDisplayMode=function(Pi,qi,cn){return fn(Pi),En(qi),zi(cn),this};var yn={title:"",subject:"",author:"",keywords:"",creator:""};ti.__private__.getDocumentProperty=function(Pi){if(Object.keys(yn).indexOf(Pi)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return yn[Pi]},ti.__private__.getDocumentProperties=function(){return yn},ti.__private__.setDocumentProperties=ti.setProperties=ti.setDocumentProperties=function(Pi){for(var qi in yn)yn.hasOwnProperty(qi)&&Pi[qi]&&(yn[qi]=Pi[qi]);return this},ti.__private__.setDocumentProperty=function(Pi,qi){if(Object.keys(yn).indexOf(Pi)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return yn[Pi]=qi};var An,sn,_n,Tn,In,Rn={},zn={},Un=[],qn={},er={},ir={},dr={},sr=null,nr=0,Jn=[],cr=new C(ti),Ln=je.hotfixes||[],Wi={},mn={},vn=[],Mn=function Pi(qi,cn,pn,Cn,Nn,Vn){if(!(this instanceof Pi))return new Pi(qi,cn,pn,Cn,Nn,Vn);isNaN(qi)&&(qi=1),isNaN(cn)&&(cn=0),isNaN(pn)&&(pn=0),isNaN(Cn)&&(Cn=1),isNaN(Nn)&&(Nn=0),isNaN(Vn)&&(Vn=0),this._matrix=[qi,cn,pn,Cn,Nn,Vn]};Object.defineProperty(Mn.prototype,"sx",{get:function(){return this._matrix[0]},set:function(Pi){this._matrix[0]=Pi}}),Object.defineProperty(Mn.prototype,"shy",{get:function(){return this._matrix[1]},set:function(Pi){this._matrix[1]=Pi}}),Object.defineProperty(Mn.prototype,"shx",{get:function(){return this._matrix[2]},set:function(Pi){this._matrix[2]=Pi}}),Object.defineProperty(Mn.prototype,"sy",{get:function(){return this._matrix[3]},set:function(Pi){this._matrix[3]=Pi}}),Object.defineProperty(Mn.prototype,"tx",{get:function(){return this._matrix[4]},set:function(Pi){this._matrix[4]=Pi}}),Object.defineProperty(Mn.prototype,"ty",{get:function(){return this._matrix[5]},set:function(Pi){this._matrix[5]=Pi}}),Object.defineProperty(Mn.prototype,"a",{get:function(){return this._matrix[0]},set:function(Pi){this._matrix[0]=Pi}}),Object.defineProperty(Mn.prototype,"b",{get:function(){return this._matrix[1]},set:function(Pi){this._matrix[1]=Pi}}),Object.defineProperty(Mn.prototype,"c",{get:function(){return this._matrix[2]},set:function(Pi){this._matrix[2]=Pi}}),Object.defineProperty(Mn.prototype,"d",{get:function(){return this._matrix[3]},set:function(Pi){this._matrix[3]=Pi}}),Object.defineProperty(Mn.prototype,"e",{get:function(){return this._matrix[4]},set:function(Pi){this._matrix[4]=Pi}}),Object.defineProperty(Mn.prototype,"f",{get:function(){return this._matrix[5]},set:function(Pi){this._matrix[5]=Pi}}),Object.defineProperty(Mn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Mn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Mn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Mn.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Mn.prototype.join=function(Pi){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(mi).join(Pi)},Mn.prototype.multiply=function(Pi){var qi=Pi.sx*this.sx+Pi.shy*this.shx,cn=Pi.sx*this.shy+Pi.shy*this.sy,pn=Pi.shx*this.sx+Pi.sy*this.shx,Cn=Pi.shx*this.shy+Pi.sy*this.sy,Nn=Pi.tx*this.sx+Pi.ty*this.shx+this.tx,Vn=Pi.tx*this.shy+Pi.ty*this.sy+this.ty;return new Mn(qi,cn,pn,Cn,Nn,Vn)},Mn.prototype.decompose=function(){var Pi=this.sx,qi=this.shy,cn=this.shx,pn=this.sy,Cn=this.tx,Nn=this.ty,Vn=Math.sqrt(Pi*Pi+qi*qi),Kn=(Pi/=Vn)*cn+(qi/=Vn)*pn;cn-=Pi*Kn,pn-=qi*Kn;var Qn=Math.sqrt(cn*cn+pn*pn);return Kn/=Qn,Pi*(pn/=Qn)<qi*(cn/=Qn)&&(Pi=-Pi,qi=-qi,Kn=-Kn,Vn=-Vn),{scale:new Mn(Vn,0,0,Qn,0,0),translate:new Mn(1,0,0,1,Cn,Nn),rotate:new Mn(Pi,qi,-qi,Pi,0,0),skew:new Mn(1,0,Kn,1,0,0)}},Mn.prototype.toString=function(Pi){return this.join(" ")},Mn.prototype.inversed=function(){var Pi=this.sx,qi=this.shy,cn=this.shx,pn=this.sy,Cn=this.tx,Nn=this.ty,Vn=1/(Pi*pn-qi*cn),Kn=pn*Vn,Qn=-qi*Vn,ar=-cn*Vn,hr=Pi*Vn;return new Mn(Kn,Qn,ar,hr,-Kn*Cn-ar*Nn,-Qn*Cn-hr*Nn)},Mn.prototype.applyToPoint=function(Pi){var qi=Pi.x*this.sx+Pi.y*this.shx+this.tx,cn=Pi.x*this.shy+Pi.y*this.sy+this.ty;return new ws(qi,cn)},Mn.prototype.applyToRectangle=function(Pi){var qi=this.applyToPoint(Pi),cn=this.applyToPoint(new ws(Pi.x+Pi.w,Pi.y+Pi.h));return new Xs(qi.x,qi.y,cn.x-qi.x,cn.y-qi.y)},Mn.prototype.clone=function(){var Pi=this.sx,qi=this.shy,cn=this.shx,pn=this.sy,Cn=this.tx,Nn=this.ty;return new Mn(Pi,qi,cn,pn,Cn,Nn)},ti.Matrix=Mn;var Hn=ti.matrixMult=function(Pi,qi){return qi.multiply(Pi)},Xn=new Mn(1,0,0,1,0,0);ti.unitMatrix=ti.identityMatrix=Xn;var mr=function(Pi,qi){if(!er[Pi]){var cn=(qi instanceof B?"Sh":"P")+(Object.keys(qn).length+1).toString(10);qi.id=cn,er[Pi]=cn,qn[cn]=qi,cr.publish("addPattern",qi)}};ti.ShadingPattern=B,ti.TilingPattern=M,ti.addShadingPattern=function(Pi,qi){return di("addShadingPattern()"),mr(Pi,qi),this},ti.beginTilingPattern=function(Pi){di("beginTilingPattern()"),La(Pi.boundingBox[0],Pi.boundingBox[1],Pi.boundingBox[2]-Pi.boundingBox[0],Pi.boundingBox[3]-Pi.boundingBox[1],Pi.matrix)},ti.endTilingPattern=function(Pi,qi){di("endTilingPattern()"),qi.stream=wi[ji].join(`
`),mr(Pi,qi),cr.publish("endTilingPattern",qi),vn.pop().restore()};var rr=ti.__private__.newObject=function(){var Pi=ur();return Cr(Pi,!0),Pi},ur=ti.__private__.newObjectDeferred=function(){return Xi++,en[Xi]=function(){return Ji},Xi},Cr=function(Pi,qi){return qi=typeof qi=="boolean"&&qi,en[Pi]=Ji,qi&&Mi(Pi+" 0 obj"),Pi},oo=ti.__private__.newAdditionalObject=function(){var Pi={objId:ur(),content:""};return Li.push(Pi),Pi},Sr=ur(),Nr=ur(),yr=ti.__private__.decodeColorString=function(Pi){var qi=Pi.split(" ");if(qi.length!==2||qi[1]!=="g"&&qi[1]!=="G")qi.length===5&&(qi[4]==="k"||qi[4]==="K")&&(qi=[(1-qi[0])*(1-qi[3]),(1-qi[1])*(1-qi[3]),(1-qi[2])*(1-qi[3]),"r"]);else{var cn=parseFloat(qi[0]);qi=[cn,cn,cn,"r"]}for(var pn="#",Cn=0;Cn<3;Cn++)pn+=("0"+Math.floor(255*parseFloat(qi[Cn])).toString(16)).slice(-2);return pn},Dr=ti.__private__.encodeColorString=function(Pi){var qi;typeof Pi=="string"&&(Pi={ch1:Pi});var cn=Pi.ch1,pn=Pi.ch2,Cn=Pi.ch3,Nn=Pi.ch4,Vn=Pi.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof cn=="string"&&cn.charAt(0)!=="#"){var Kn=new f(cn);if(Kn.ok)cn=Kn.toHex();else if(!/^\d*\.?\d*$/.test(cn))throw new Error('Invalid color "'+cn+'" passed to jsPDF.encodeColorString.')}if(typeof cn=="string"&&/^#[0-9A-Fa-f]{3}$/.test(cn)&&(cn="#"+cn[1]+cn[1]+cn[2]+cn[2]+cn[3]+cn[3]),typeof cn=="string"&&/^#[0-9A-Fa-f]{6}$/.test(cn)){var Qn=parseInt(cn.substr(1),16);cn=Qn>>16&255,pn=Qn>>8&255,Cn=255&Qn}if(pn===void 0||Nn===void 0&&cn===pn&&pn===Cn)if(typeof cn=="string")qi=cn+" "+Vn[0];else switch(Pi.precision){case 2:qi=yi(cn/255)+" "+Vn[0];break;case 3:default:qi=pi(cn/255)+" "+Vn[0]}else if(Nn===void 0||_typeof(Nn)==="object"){if(Nn&&!isNaN(Nn.a)&&Nn.a===0)return qi=["1.","1.","1.",Vn[1]].join(" ");if(typeof cn=="string")qi=[cn,pn,Cn,Vn[1]].join(" ");else switch(Pi.precision){case 2:qi=[yi(cn/255),yi(pn/255),yi(Cn/255),Vn[1]].join(" ");break;default:case 3:qi=[pi(cn/255),pi(pn/255),pi(Cn/255),Vn[1]].join(" ")}}else if(typeof cn=="string")qi=[cn,pn,Cn,Nn,Vn[2]].join(" ");else switch(Pi.precision){case 2:qi=[yi(cn),yi(pn),yi(Cn),yi(Nn),Vn[2]].join(" ");break;case 3:default:qi=[pi(cn),pi(pn),pi(Cn),pi(Nn),Vn[2]].join(" ")}return qi},Ar=ti.__private__.getFilters=function(){return We},Tr=ti.__private__.putStream=function(Pi){var qi=(Pi=Pi||{}).data||"",cn=Pi.filters||Ar(),pn=Pi.alreadyAppliedFilters||[],Cn=Pi.addLength1||!1,Nn=qi.length,Vn=Pi.objectId,Kn=function(Wr){return Wr};if(Qe!==null&&Vn===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");Qe!==null&&(Kn=Xr.encryptor(Vn,0));var Qn={};cn===!0&&(cn=["FlateEncode"]);var ar=Pi.additionalKeyValues||[],hr=(Qn=E.API.processDataByFilters!==void 0?E.API.processDataByFilters(qi,cn):{data:qi,reverseChain:[]}).reverseChain+(Array.isArray(pn)?pn.join(" "):pn.toString());if(Qn.data.length!==0&&(ar.push({key:"Length",value:Qn.data.length}),Cn===!0&&ar.push({key:"Length1",value:Nn})),hr.length!=0)if(hr.split("/").length-1==1)ar.push({key:"Filter",value:hr});else{ar.push({key:"Filter",value:"["+hr+"]"});for(var pr=0;pr<ar.length;pr+=1)if(ar[pr].key==="DecodeParms"){for(var kr=[],Lr=0;Lr<Qn.reverseChain.split("/").length-1;Lr+=1)kr.push("null");kr.push(ar[pr].value),ar[pr].value="["+kr.join(" ")+"]"}}Mi("<<");for(var Rr=0;Rr<ar.length;Rr++)Mi("/"+ar[Rr].key+" "+ar[Rr].value);Mi(">>"),Qn.data.length!==0&&(Mi("stream"),Mi(Kn(Qn.data)),Mi("endstream"))},Hr=ti.__private__.putPage=function(Pi){var qi=Pi.number,cn=Pi.data,pn=Pi.objId,Cn=Pi.contentsObjId;Cr(pn,!0),Mi("<</Type /Page"),Mi("/Parent "+Pi.rootDictionaryObjId+" 0 R"),Mi("/Resources "+Pi.resourceDictionaryObjId+" 0 R"),Mi("/MediaBox ["+parseFloat(mi(Pi.mediaBox.bottomLeftX))+" "+parseFloat(mi(Pi.mediaBox.bottomLeftY))+" "+mi(Pi.mediaBox.topRightX)+" "+mi(Pi.mediaBox.topRightY)+"]"),Pi.cropBox!==null&&Mi("/CropBox ["+mi(Pi.cropBox.bottomLeftX)+" "+mi(Pi.cropBox.bottomLeftY)+" "+mi(Pi.cropBox.topRightX)+" "+mi(Pi.cropBox.topRightY)+"]"),Pi.bleedBox!==null&&Mi("/BleedBox ["+mi(Pi.bleedBox.bottomLeftX)+" "+mi(Pi.bleedBox.bottomLeftY)+" "+mi(Pi.bleedBox.topRightX)+" "+mi(Pi.bleedBox.topRightY)+"]"),Pi.trimBox!==null&&Mi("/TrimBox ["+mi(Pi.trimBox.bottomLeftX)+" "+mi(Pi.trimBox.bottomLeftY)+" "+mi(Pi.trimBox.topRightX)+" "+mi(Pi.trimBox.topRightY)+"]"),Pi.artBox!==null&&Mi("/ArtBox ["+mi(Pi.artBox.bottomLeftX)+" "+mi(Pi.artBox.bottomLeftY)+" "+mi(Pi.artBox.topRightX)+" "+mi(Pi.artBox.topRightY)+"]"),typeof Pi.userUnit=="number"&&Pi.userUnit!==1&&Mi("/UserUnit "+Pi.userUnit),cr.publish("putPage",{objId:pn,pageContext:Jn[qi],pageNumber:qi,page:cn}),Mi("/Contents "+Cn+" 0 R"),Mi(">>"),Mi("endobj");var Nn=cn.join(`
`);return ii===ri.ADVANCED&&(Nn+=`
Q`),Cr(Cn,!0),Tr({data:Nn,filters:Ar(),objectId:Cn}),Mi("endobj"),pn},jr=ti.__private__.putPages=function(){var Pi,qi,cn=[];for(Pi=1;Pi<=nr;Pi++)Jn[Pi].objId=ur(),Jn[Pi].contentsObjId=ur();for(Pi=1;Pi<=nr;Pi++)cn.push(Hr({number:Pi,data:wi[Pi],objId:Jn[Pi].objId,contentsObjId:Jn[Pi].contentsObjId,mediaBox:Jn[Pi].mediaBox,cropBox:Jn[Pi].cropBox,bleedBox:Jn[Pi].bleedBox,trimBox:Jn[Pi].trimBox,artBox:Jn[Pi].artBox,userUnit:Jn[Pi].userUnit,rootDictionaryObjId:Sr,resourceDictionaryObjId:Nr}));Cr(Sr,!0),Mi("<</Type /Pages");var pn="/Kids [";for(qi=0;qi<nr;qi++)pn+=cn[qi]+" 0 R ";Mi(pn+"]"),Mi("/Count "+nr),Mi(">>"),Mi("endobj"),cr.publish("postPutPages")},ho=function(Pi){cr.publish("putFont",{font:Pi,out:Mi,newObject:rr,putStream:Tr}),Pi.isAlreadyPutted!==!0&&(Pi.objectNumber=rr(),Mi("<<"),Mi("/Type /Font"),Mi("/BaseFont /"+F(Pi.postScriptName)),Mi("/Subtype /Type1"),typeof Pi.encoding=="string"&&Mi("/Encoding /"+Pi.encoding),Mi("/FirstChar 32"),Mi("/LastChar 255"),Mi(">>"),Mi("endobj"))},Mo=function(){for(var Pi in Rn)Rn.hasOwnProperty(Pi)&&(St===!1||St===!0&&ei.hasOwnProperty(Pi))&&ho(Rn[Pi])},Do=function(Pi){Pi.objectNumber=rr();var qi=[];qi.push({key:"Type",value:"/XObject"}),qi.push({key:"Subtype",value:"/Form"}),qi.push({key:"BBox",value:"["+[mi(Pi.x),mi(Pi.y),mi(Pi.x+Pi.width),mi(Pi.y+Pi.height)].join(" ")+"]"}),qi.push({key:"Matrix",value:"["+Pi.matrix.toString()+"]"});var cn=Pi.pages[1].join(`
`);Tr({data:cn,additionalKeyValues:qi,objectId:Pi.objectNumber}),Mi("endobj")},ko=function(){for(var Pi in Wi)Wi.hasOwnProperty(Pi)&&Do(Wi[Pi])},ns=function(Pi,qi){var cn,pn=[],Cn=1/(qi-1);for(cn=0;cn<1;cn+=Cn)pn.push(cn);if(pn.push(1),Pi[0].offset!=0){var Nn={offset:0,color:Pi[0].color};Pi.unshift(Nn)}if(Pi[Pi.length-1].offset!=1){var Vn={offset:1,color:Pi[Pi.length-1].color};Pi.push(Vn)}for(var Kn="",Qn=0,ar=0;ar<pn.length;ar++){for(cn=pn[ar];cn>Pi[Qn+1].offset;)Qn++;var hr=Pi[Qn].offset,pr=(cn-hr)/(Pi[Qn+1].offset-hr),kr=Pi[Qn].color,Lr=Pi[Qn+1].color;Kn+=Bi(Math.round((1-pr)*kr[0]+pr*Lr[0]).toString(16))+Bi(Math.round((1-pr)*kr[1]+pr*Lr[1]).toString(16))+Bi(Math.round((1-pr)*kr[2]+pr*Lr[2]).toString(16))}return Kn.trim()},jo=function(Pi,qi){qi||(qi=21);var cn=rr(),pn=ns(Pi.colors,qi),Cn=[];Cn.push({key:"FunctionType",value:"0"}),Cn.push({key:"Domain",value:"[0.0 1.0]"}),Cn.push({key:"Size",value:"["+qi+"]"}),Cn.push({key:"BitsPerSample",value:"8"}),Cn.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Cn.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Tr({data:pn,additionalKeyValues:Cn,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:cn}),Mi("endobj"),Pi.objectNumber=rr(),Mi("<< /ShadingType "+Pi.type),Mi("/ColorSpace /DeviceRGB");var Nn="/Coords ["+mi(parseFloat(Pi.coords[0]))+" "+mi(parseFloat(Pi.coords[1]))+" ";Pi.type===2?Nn+=mi(parseFloat(Pi.coords[2]))+" "+mi(parseFloat(Pi.coords[3])):Nn+=mi(parseFloat(Pi.coords[2]))+" "+mi(parseFloat(Pi.coords[3]))+" "+mi(parseFloat(Pi.coords[4]))+" "+mi(parseFloat(Pi.coords[5])),Mi(Nn+="]"),Pi.matrix&&Mi("/Matrix ["+Pi.matrix.toString()+"]"),Mi("/Function "+cn+" 0 R"),Mi("/Extend [true true]"),Mi(">>"),Mi("endobj")},il=function(Pi,qi){var cn=ur(),pn=rr();qi.push({resourcesOid:cn,objectOid:pn}),Pi.objectNumber=pn;var Cn=[];Cn.push({key:"Type",value:"/Pattern"}),Cn.push({key:"PatternType",value:"1"}),Cn.push({key:"PaintType",value:"1"}),Cn.push({key:"TilingType",value:"1"}),Cn.push({key:"BBox",value:"["+Pi.boundingBox.map(mi).join(" ")+"]"}),Cn.push({key:"XStep",value:mi(Pi.xStep)}),Cn.push({key:"YStep",value:mi(Pi.yStep)}),Cn.push({key:"Resources",value:cn+" 0 R"}),Pi.matrix&&Cn.push({key:"Matrix",value:"["+Pi.matrix.toString()+"]"}),Tr({data:Pi.stream,additionalKeyValues:Cn,objectId:Pi.objectNumber}),Mi("endobj")},hs=function(Pi){var qi;for(qi in qn)qn.hasOwnProperty(qi)&&(qn[qi]instanceof B?jo(qn[qi]):qn[qi]instanceof M&&il(qn[qi],Pi))},ma=function(Pi){for(var qi in Pi.objectNumber=rr(),Mi("<<"),Pi)switch(qi){case"opacity":Mi("/ca "+yi(Pi[qi]));break;case"stroke-opacity":Mi("/CA "+yi(Pi[qi]))}Mi(">>"),Mi("endobj")},nl=function(){var Pi;for(Pi in ir)ir.hasOwnProperty(Pi)&&ma(ir[Pi])},Rs=function(){for(var Pi in Mi("/XObject <<"),Wi)Wi.hasOwnProperty(Pi)&&Wi[Pi].objectNumber>=0&&Mi("/"+Pi+" "+Wi[Pi].objectNumber+" 0 R");cr.publish("putXobjectDict"),Mi(">>")},rl=function(){Xr.oid=rr(),Mi("<<"),Mi("/Filter /Standard"),Mi("/V "+Xr.v),Mi("/R "+Xr.r),Mi("/U <"+Xr.toHexString(Xr.U)+">"),Mi("/O <"+Xr.toHexString(Xr.O)+">"),Mi("/P "+Xr.P),Mi(">>"),Mi("endobj")},fa=function(){for(var Pi in Mi("/Font <<"),Rn)Rn.hasOwnProperty(Pi)&&(St===!1||St===!0&&ei.hasOwnProperty(Pi))&&Mi("/"+Pi+" "+Rn[Pi].objectNumber+" 0 R");Mi(">>")},ol=function(){if(Object.keys(qn).length>0){for(var Pi in Mi("/Shading <<"),qn)qn.hasOwnProperty(Pi)&&qn[Pi]instanceof B&&qn[Pi].objectNumber>=0&&Mi("/"+Pi+" "+qn[Pi].objectNumber+" 0 R");cr.publish("putShadingPatternDict"),Mi(">>")}},ds=function(Pi){if(Object.keys(qn).length>0){for(var qi in Mi("/Pattern <<"),qn)qn.hasOwnProperty(qi)&&qn[qi]instanceof ti.TilingPattern&&qn[qi].objectNumber>=0&&qn[qi].objectNumber<Pi&&Mi("/"+qi+" "+qn[qi].objectNumber+" 0 R");cr.publish("putTilingPatternDict"),Mi(">>")}},sl=function(){if(Object.keys(ir).length>0){var Pi;for(Pi in Mi("/ExtGState <<"),ir)ir.hasOwnProperty(Pi)&&ir[Pi].objectNumber>=0&&Mi("/"+Pi+" "+ir[Pi].objectNumber+" 0 R");cr.publish("putGStateDict"),Mi(">>")}},Or=function(Pi){Cr(Pi.resourcesOid,!0),Mi("<<"),Mi("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),fa(),ol(),ds(Pi.objectOid),sl(),Rs(),Mi(">>"),Mi("endobj")},pa=function(){var Pi=[];Mo(),nl(),ko(),hs(Pi),cr.publish("putResources"),Pi.forEach(Or),Or({resourcesOid:Nr,objectOid:Number.MAX_SAFE_INTEGER}),cr.publish("postPutResources")},ga=function(){cr.publish("putAdditionalObjects");for(var Pi=0;Pi<Li.length;Pi++){var qi=Li[Pi];Cr(qi.objId,!0),Mi(qi.content),Mi("endobj")}cr.publish("postPutAdditionalObjects")},xa=function(Pi){zn[Pi.fontName]=zn[Pi.fontName]||{},zn[Pi.fontName][Pi.fontStyle]=Pi.id},Fs=function(Pi,qi,cn,pn,Cn){var Nn={id:"F"+(Object.keys(Rn).length+1).toString(10),postScriptName:Pi,fontName:qi,fontStyle:cn,encoding:pn,isStandardFont:Cn||!1,metadata:{}};return cr.publish("addFont",{font:Nn,instance:this}),Rn[Nn.id]=Nn,xa(Nn),Nn.id},al=function(Pi){for(var qi=0,cn=Ui.length;qi<cn;qi++){var pn=Fs.call(this,Pi[qi][0],Pi[qi][1],Pi[qi][2],Ui[qi][3],!0);St===!1&&(ei[pn]=!0);var Cn=Pi[qi][0].split("-");xa({id:pn,fontName:Cn[0],fontStyle:Cn[1]||""})}cr.publish("addFonts",{fonts:Rn,dictionary:zn})},mo=function(Pi){return Pi.foo=function(){try{return Pi.apply(this,arguments)}catch(pn){var qi=pn.stack||"";~qi.indexOf(" at ")&&(qi=qi.split(" at ")[1]);var cn="Error in function "+qi.split(`
`)[0].split("<")[0]+": "+pn.message;if(!n.console)throw new Error(cn);n.console.error(cn,pn),n.alert&&alert(cn)}},Pi.foo.bar=Pi,Pi.foo},ms=function(Pi,qi){var cn,pn,Cn,Nn,Vn,Kn,Qn,ar,hr;if(Cn=(qi=qi||{}).sourceEncoding||"Unicode",Vn=qi.outputEncoding,(qi.autoencode||Vn)&&Rn[An].metadata&&Rn[An].metadata[Cn]&&Rn[An].metadata[Cn].encoding&&(Nn=Rn[An].metadata[Cn].encoding,!Vn&&Rn[An].encoding&&(Vn=Rn[An].encoding),!Vn&&Nn.codePages&&(Vn=Nn.codePages[0]),typeof Vn=="string"&&(Vn=Nn[Vn]),Vn)){for(Qn=!1,Kn=[],cn=0,pn=Pi.length;cn<pn;cn++)(ar=Vn[Pi.charCodeAt(cn)])?Kn.push(String.fromCharCode(ar)):Kn.push(Pi[cn]),Kn[cn].charCodeAt(0)>>8&&(Qn=!0);Pi=Kn.join("")}for(cn=Pi.length;Qn===void 0&&cn!==0;)Pi.charCodeAt(cn-1)>>8&&(Qn=!0),cn--;if(!Qn)return Pi;for(Kn=qi.noBOM?[]:[254,255],cn=0,pn=Pi.length;cn<pn;cn++){if((hr=(ar=Pi.charCodeAt(cn))>>8)>>8)throw new Error("Character at position "+cn+" of string '"+Pi+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Kn.push(hr),Kn.push(ar-(hr<<8))}return String.fromCharCode.apply(void 0,Kn)},Gr=ti.__private__.pdfEscape=ti.pdfEscape=function(Pi,qi){return ms(Pi,qi).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Bs=ti.__private__.beginPage=function(Pi){wi[++nr]=[],Jn[nr]={objId:0,contentsObjId:0,userUnit:Number(Ke),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(Pi[0]),topRightY:Number(Pi[1])}},wa(nr),Ii(wi[ji])},ya=function(Pi,qi){var cn,pn,Cn;switch(Ve=qi||Ve,typeof Pi=="string"&&(cn=si(Pi.toLowerCase()),Array.isArray(cn)&&(pn=cn[0],Cn=cn[1])),Array.isArray(Pi)&&(pn=Pi[0]*sn,Cn=Pi[1]*sn),isNaN(pn)&&(pn=qe[0],Cn=qe[1]),(pn>14400||Cn>14400)&&(a.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),pn=Math.min(14400,pn),Cn=Math.min(14400,Cn)),qe=[pn,Cn],Ve.substr(0,1)){case"l":Cn>pn&&(qe=[Cn,pn]);break;case"p":pn>Cn&&(qe=[Cn,pn])}Bs(qe),Pa(Us),Mi(fo),Hs!==0&&Mi(Hs+" J"),qs!==0&&Mi(qs+" j"),cr.publish("addPage",{pageNumber:nr})},ll=function(Pi){Pi>0&&Pi<=nr&&(wi.splice(Pi,1),Jn.splice(Pi,1),nr--,ji>nr&&(ji=nr),this.setPage(ji))},wa=function(Pi){Pi>0&&Pi<=nr&&(ji=Pi)},ul=ti.__private__.getNumberOfPages=ti.getNumberOfPages=function(){return wi.length-1},ba=function(Pi,qi,cn){var pn,Cn=void 0;return cn=cn||{},Pi=Pi!==void 0?Pi:Rn[An].fontName,qi=qi!==void 0?qi:Rn[An].fontStyle,pn=Pi.toLowerCase(),zn[pn]!==void 0&&zn[pn][qi]!==void 0?Cn=zn[pn][qi]:zn[Pi]!==void 0&&zn[Pi][qi]!==void 0?Cn=zn[Pi][qi]:cn.disableWarning===!1&&a.warn("Unable to look up font label for font '"+Pi+"', '"+qi+"'. Refer to getFontList() for available fonts."),Cn||cn.noFallback||(Cn=zn.times[qi])==null&&(Cn=zn.times.normal),Cn},cl=ti.__private__.putInfo=function(){var Pi=rr(),qi=function(pn){return pn};for(var cn in Qe!==null&&(qi=Xr.encryptor(Pi,0)),Mi("<<"),Mi("/Producer ("+Gr(qi("jsPDF "+E.version))+")"),yn)yn.hasOwnProperty(cn)&&yn[cn]&&Mi("/"+cn.substr(0,1).toUpperCase()+cn.substr(1)+" ("+Gr(qi(yn[cn]))+")");Mi("/CreationDate ("+Gr(qi(Di))+")"),Mi(">>"),Mi("endobj")},$s=ti.__private__.putCatalog=function(Pi){var qi=(Pi=Pi||{}).rootDictionaryObjId||Sr;switch(rr(),Mi("<<"),Mi("/Type /Catalog"),Mi("/Pages "+qi+" 0 R"),un||(un="fullwidth"),un){case"fullwidth":Mi("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Mi("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Mi("/OpenAction [3 0 R /Fit]");break;case"original":Mi("/OpenAction [3 0 R /XYZ null null 1]");break;default:var cn=""+un;cn.substr(cn.length-1)==="%"&&(un=parseInt(un)/100),typeof un=="number"&&Mi("/OpenAction [3 0 R /XYZ null null "+yi(un)+"]")}switch(Pn||(Pn="continuous"),Pn){case"continuous":Mi("/PageLayout /OneColumn");break;case"single":Mi("/PageLayout /SinglePage");break;case"two":case"twoleft":Mi("/PageLayout /TwoColumnLeft");break;case"tworight":Mi("/PageLayout /TwoColumnRight")}Sn&&Mi("/PageMode /"+Sn),cr.publish("putCatalog"),Mi(">>"),Mi("endobj")},hl=ti.__private__.putTrailer=function(){Mi("trailer"),Mi("<<"),Mi("/Size "+(Xi+1)),Mi("/Root "+Xi+" 0 R"),Mi("/Info "+(Xi-1)+" 0 R"),Qe!==null&&Mi("/Encrypt "+Xr.oid+" 0 R"),Mi("/ID [ <"+Ti+"> <"+Ti+"> ]"),Mi(">>")},dl=ti.__private__.putHeader=function(){Mi("%PDF-"+ni),Mi("%ºß¬à")},ml=ti.__private__.putXRef=function(){var Pi="0000000000";Mi("xref"),Mi("0 "+(Xi+1)),Mi("0000000000 65535 f ");for(var qi=1;qi<=Xi;qi++)typeof en[qi]=="function"?Mi((Pi+en[qi]()).slice(-10)+" 00000 n "):en[qi]!==void 0?Mi((Pi+en[qi]).slice(-10)+" 00000 n "):Mi("0000000000 00000 n ")},To=ti.__private__.buildDocument=function(){Oi(),Ii(tn),cr.publish("buildDocument"),dl(),jr(),ga(),pa(),Qe!==null&&rl(),cl(),$s();var Pi=Ji;return ml(),hl(),Mi("startxref"),Mi(""+Pi),Mi("%%EOF"),Ii(wi[ji]),tn.join(`
`)},fs=ti.__private__.getBlob=function(Pi){return new Blob([on(Pi)],{type:"application/pdf"})},ps=ti.output=ti.__private__.output=mo(function(Pi,qi){switch(typeof(qi=qi||{})=="string"?qi={filename:qi}:qi.filename=qi.filename||"generated.pdf",Pi){case void 0:return To();case"save":ti.save(qi.filename);break;case"arraybuffer":return on(To());case"blob":return fs(To());case"bloburi":case"bloburl":if(n.URL!==void 0&&typeof n.URL.createObjectURL=="function")return n.URL&&n.URL.createObjectURL(fs(To()))||void 0;a.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var cn="",pn=To();try{cn=h(pn)}catch{cn=h(unescape(encodeURIComponent(pn)))}return"data:application/pdf;filename="+qi.filename+";base64,"+cn;case"pdfobjectnewwindow":if(Object.prototype.toString.call(n)==="[object Window]"){var Cn="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Nn=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';qi.pdfObjectUrl&&(Cn=qi.pdfObjectUrl,Nn="");var Vn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Cn+'"'+Nn+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(qi)+");<\/script></body></html>",Kn=n.open();return Kn!==null&&Kn.document.write(Vn),Kn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(n)==="[object Window]"){var Qn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(qi.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+qi.filename+'" width="500px" height="400px" /></body></html>',ar=n.open();if(ar!==null){ar.document.write(Qn);var hr=this;ar.document.documentElement.querySelector("#pdfViewer").onload=function(){ar.document.title=qi.filename,ar.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(hr.output("bloburl"))}}return ar}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(n)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var pr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",qi)+'"></iframe></body></html>',kr=n.open();if(kr!==null&&(kr.document.write(pr),kr.document.title=qi.filename),kr||typeof safari>"u")return kr;break;case"datauri":case"dataurl":return n.document.location.href=this.output("datauristring",qi);default:return null}}),va=function(Pi){return Array.isArray(Ln)===!0&&Ln.indexOf(Pi)>-1};switch(ze){case"pt":sn=1;break;case"mm":sn=72/25.4;break;case"cm":sn=72/2.54;break;case"in":sn=72;break;case"px":sn=va("px_scaling")==1?.75:96/72;break;case"pc":case"em":sn=12;break;case"ex":sn=6;break;default:if(typeof ze!="number")throw new Error("Invalid unit: "+ze);sn=ze}var Xr=null;Yi(),Ci();var pl=function(Pi){return Qe!==null?Xr.encryptor(Pi,0):function(qi){return qi}},Sa=ti.__private__.getPageInfo=ti.getPageInfo=function(Pi){if(isNaN(Pi)||Pi%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Jn[Pi].objId,pageNumber:Pi,pageContext:Jn[Pi]}},or=ti.__private__.getPageInfoByObjId=function(Pi){if(isNaN(Pi)||Pi%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var qi in Jn)if(Jn[qi].objId===Pi)break;return Sa(qi)},gl=ti.__private__.getCurrentPageInfo=ti.getCurrentPageInfo=function(){return{objId:Jn[ji].objId,pageNumber:ji,pageContext:Jn[ji]}};ti.addPage=function(){return ya.apply(this,arguments),this},ti.setPage=function(){return wa.apply(this,arguments),Ii.call(this,wi[ji]),this},ti.insertPage=function(Pi){return this.addPage(),this.movePage(ji,Pi),this},ti.movePage=function(Pi,qi){var cn,pn;if(Pi>qi){cn=wi[Pi],pn=Jn[Pi];for(var Cn=Pi;Cn>qi;Cn--)wi[Cn]=wi[Cn-1],Jn[Cn]=Jn[Cn-1];wi[qi]=cn,Jn[qi]=pn,this.setPage(qi)}else if(Pi<qi){cn=wi[Pi],pn=Jn[Pi];for(var Nn=Pi;Nn<qi;Nn++)wi[Nn]=wi[Nn+1],Jn[Nn]=Jn[Nn+1];wi[qi]=cn,Jn[qi]=pn,this.setPage(qi)}return this},ti.deletePage=function(){return ll.apply(this,arguments),this},ti.__private__.text=ti.text=function(Pi,qi,cn,pn,Cn){var Nn,Vn,Kn,Qn,ar,hr,pr,kr,Lr,Rr=(pn=pn||{}).scope||this;if(typeof Pi=="number"&&typeof qi=="number"&&(typeof cn=="string"||Array.isArray(cn))){var Wr=cn;cn=qi,qi=Pi,Pi=Wr}if(arguments[3]instanceof Mn?(di("The transform parameter of text() with a Matrix value"),Lr=Cn):(Kn=arguments[4],Qn=arguments[5],_typeof(pr=arguments[3])==="object"&&pr!==null||(typeof Kn=="string"&&(Qn=Kn,Kn=null),typeof pr=="string"&&(Qn=pr,pr=null),typeof pr=="number"&&(Kn=pr,pr=null),pn={flags:pr,angle:Kn,align:Qn})),isNaN(qi)||isNaN(cn)||Pi==null)throw new Error("Invalid arguments passed to jsPDF.text");if(Pi.length===0)return Rr;var Vr="",po=!1,to=typeof pn.lineHeightFactor=="number"?pn.lineHeightFactor:os,Eo=Rr.internal.scaleFactor;function Ea(Pr){return Pr=Pr.split("	").join(Array(pn.TabLen||9).join(" ")),Gr(Pr,pr)}function Ks(Pr){for(var Mr,Ir=Pr.concat(),$r=[],Ro=Ir.length;Ro--;)typeof(Mr=Ir.shift())=="string"?$r.push(Mr):Array.isArray(Pr)&&(Mr.length===1||Mr[1]===void 0&&Mr[2]===void 0)?$r.push(Mr[0]):$r.push([Mr[0],Mr[1],Mr[2]]);return $r}function Zs(Pr,Mr){var Ir;if(typeof Pr=="string")Ir=Mr(Pr)[0];else if(Array.isArray(Pr)){for(var $r,Ro,Go=Pr.concat(),ks=[],Ia=Go.length;Ia--;)typeof($r=Go.shift())=="string"?ks.push(Mr($r)[0]):Array.isArray($r)&&typeof $r[0]=="string"&&(Ro=Mr($r[0],$r[1],$r[2]),ks.push([Ro[0],Ro[1],Ro[2]]));Ir=ks}return Ir}var vs=!1,Js=!0;if(typeof Pi=="string")vs=!0;else if(Array.isArray(Pi)){var Qs=Pi.concat();Vn=[];for(var Ss,Kr=Qs.length;Kr--;)(typeof(Ss=Qs.shift())!="string"||Array.isArray(Ss)&&typeof Ss[0]!="string")&&(Js=!1);vs=Js}if(vs===!1)throw new Error('Type of text must be string or Array. "'+Pi+'" is not recognized.');typeof Pi=="string"&&(Pi=Pi.match(/[\r?\n]/)?Pi.split(/\r\n|\r|\n/g):[Pi]);var As=rn/Rr.internal.scaleFactor,_s=As*(to-1);switch(pn.baseline){case"bottom":cn-=_s;break;case"top":cn+=As-_s;break;case"hanging":cn+=As-2*_s;break;case"middle":cn+=As/2-_s}if((hr=pn.maxWidth||0)>0&&(typeof Pi=="string"?Pi=Rr.splitTextToSize(Pi,hr):Object.prototype.toString.call(Pi)==="[object Array]"&&(Pi=Pi.reduce(function(Pr,Mr){return Pr.concat(Rr.splitTextToSize(Mr,hr))},[]))),Nn={text:Pi,x:qi,y:cn,options:pn,mutex:{pdfEscape:Gr,activeFontKey:An,fonts:Rn,activeFontSize:rn}},cr.publish("preProcessText",Nn),Pi=Nn.text,Kn=(pn=Nn.options).angle,!(Lr instanceof Mn)&&Kn&&typeof Kn=="number"){Kn*=Math.PI/180,pn.rotationDirection===0&&(Kn=-Kn),ii===ri.ADVANCED&&(Kn=-Kn);var Cs=Math.cos(Kn),ea=Math.sin(Kn);Lr=new Mn(Cs,ea,-ea,Cs,0,0)}else Kn&&Kn instanceof Mn&&(Lr=Kn);ii!==ri.ADVANCED||Lr||(Lr=Xn),(ar=pn.charSpace||ys)!==void 0&&(Vr+=mi(xi(ar))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(kr=pn.horizontalScale)!==void 0&&(Vr+=mi(100*kr)+` Tz
`),pn.lang;var Zr=-1,Pl=pn.renderingMode!==void 0?pn.renderingMode:pn.stroke,ta=Rr.internal.getCurrentPageInfo().pageContext;switch(Pl){case 0:case!1:case"fill":Zr=0;break;case 1:case!0:case"stroke":Zr=1;break;case 2:case"fillThenStroke":Zr=2;break;case 3:case"invisible":Zr=3;break;case 4:case"fillAndAddForClipping":Zr=4;break;case 5:case"strokeAndAddPathForClipping":Zr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Zr=6;break;case 7:case"addToPathForClipping":Zr=7}var Oa=ta.usedRenderingMode!==void 0?ta.usedRenderingMode:-1;Zr!==-1?Vr+=Zr+` Tr
`:Oa!==-1&&(Vr+=`0 Tr
`),Zr!==-1&&(ta.usedRenderingMode=Zr),Qn=pn.align||"left";var go,ia=rn*to,Ml=Rr.internal.pageSize.getWidth(),Dl=Rn[An];ar=pn.charSpace||ys,hr=pn.maxWidth||0,pr=Object.assign({autoencode:!0,noBOM:!0},pn.flags);var qo=[];if(Object.prototype.toString.call(Pi)==="[object Array]"){var so;Vn=Ks(Pi),Qn!=="left"&&(go=Vn.map(function(Pr){return Rr.getStringUnitWidth(Pr,{font:Dl,charSpace:ar,fontSize:rn,doKerning:!1})*rn/Eo}));var xo,Xo=0;if(Qn==="right"){qi-=go[0],Pi=[],Kr=Vn.length;for(var Co=0;Co<Kr;Co++)Co===0?(xo=Lo(qi),so=Uo(cn)):(xo=xi(Xo-go[Co]),so=-ia),Pi.push([Vn[Co],xo,so]),Xo=go[Co]}else if(Qn==="center"){qi-=go[0]/2,Pi=[],Kr=Vn.length;for(var Oo=0;Oo<Kr;Oo++)Oo===0?(xo=Lo(qi),so=Uo(cn)):(xo=xi((Xo-go[Oo])/2),so=-ia),Pi.push([Vn[Oo],xo,so]),Xo=go[Oo]}else if(Qn==="left"){Pi=[],Kr=Vn.length;for(var Ps=0;Ps<Kr;Ps++)Pi.push(Vn[Ps])}else{if(Qn!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');Pi=[],Kr=Vn.length,hr=hr!==0?hr:Ml;for(var yo=0;yo<Kr;yo++)so=yo===0?Uo(cn):-ia,xo=yo===0?Lo(qi):0,yo<Kr-1?qo.push(mi(xi((hr-go[yo])/(Vn[yo].split(" ").length-1)))):qo.push(0),Pi.push([Vn[yo],xo,so])}}var Ms=typeof pn.R2L=="boolean"?pn.R2L:hn;Ms===!0&&(Pi=Zs(Pi,function(Pr,Mr,Ir){return[Pr.split("").reverse().join(""),Mr,Ir]})),Nn={text:Pi,x:qi,y:cn,options:pn,mutex:{pdfEscape:Gr,activeFontKey:An,fonts:Rn,activeFontSize:rn}},cr.publish("postProcessText",Nn),Pi=Nn.text,po=Nn.mutex.isHex||!1;var na=Rn[An].encoding;na!=="WinAnsiEncoding"&&na!=="StandardEncoding"||(Pi=Zs(Pi,function(Pr,Mr,Ir){return[Ea(Pr),Mr,Ir]})),Vn=Ks(Pi),Pi=[];for(var Wo,wo,Io,ls=0,Ds=1,us=Array.isArray(Vn[0])?Ds:ls,Yo="",ra=function(Pr,Mr,Ir){var $r="";return Ir instanceof Mn?(Ir=typeof pn.angle=="number"?Hn(Ir,new Mn(1,0,0,1,Pr,Mr)):Hn(new Mn(1,0,0,1,Pr,Mr),Ir),ii===ri.ADVANCED&&(Ir=Hn(new Mn(1,0,0,-1,0,0),Ir)),$r=Ir.join(" ")+` Tm
`):$r=mi(Pr)+" "+mi(Mr)+` Td
`,$r},ao=0;ao<Vn.length;ao++){switch(Yo="",us){case Ds:Io=(po?"<":"(")+Vn[ao][0]+(po?">":")"),Wo=parseFloat(Vn[ao][1]),wo=parseFloat(Vn[ao][2]);break;case ls:Io=(po?"<":"(")+Vn[ao]+(po?">":")"),Wo=Lo(qi),wo=Uo(cn)}qo!==void 0&&qo[ao]!==void 0&&(Yo=qo[ao]+` Tw
`),ao===0?Pi.push(Yo+ra(Wo,wo,Lr)+Io):us===ls?Pi.push(Yo+Io):us===Ds&&Pi.push(Yo+ra(Wo,wo,Lr)+Io)}Pi=us===ls?Pi.join(` Tj
T* `):Pi.join(` Tj
`),Pi+=` Tj
`;var No=`BT
/`;return No+=An+" "+rn+` Tf
`,No+=mi(rn*to)+` TL
`,No+=ss+`
`,No+=Vr,No+=Pi,Mi(No+="ET"),ei[An]=!0,Rr};var xl=ti.__private__.clip=ti.clip=function(Pi){return Mi(Pi==="evenodd"?"W*":"W"),this};ti.clipEvenOdd=function(){return xl("evenodd")},ti.__private__.discardPath=ti.discardPath=function(){return Mi("n"),this};var _o=ti.__private__.isValidStyle=function(Pi){var qi=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(Pi)!==-1&&(qi=!0),qi};ti.__private__.setDefaultPathOperation=ti.setDefaultPathOperation=function(Pi){return _o(Pi)&&(Ze=Pi),this};var Aa=ti.__private__.getStyle=ti.getStyle=function(Pi){var qi=Ze;switch(Pi){case"D":case"S":qi="S";break;case"F":qi="f";break;case"FD":case"DF":qi="B";break;case"f":case"f*":case"B":case"B*":qi=Pi}return qi},Ca=ti.close=function(){return Mi("h"),this};ti.stroke=function(){return Mi("S"),this},ti.fill=function(Pi){return gs("f",Pi),this},ti.fillEvenOdd=function(Pi){return gs("f*",Pi),this},ti.fillStroke=function(Pi){return gs("B",Pi),this},ti.fillStrokeEvenOdd=function(Pi){return gs("B*",Pi),this};var gs=function(Pi,qi){_typeof(qi)==="object"?wl(qi,Pi):Mi(Pi)},js=function(Pi){Pi===null||ii===ri.ADVANCED&&Pi===void 0||(Pi=Aa(Pi),Mi(Pi))};function yl(Pi,qi,cn,pn,Cn){var Nn=new M(qi||this.boundingBox,cn||this.xStep,pn||this.yStep,this.gState,Cn||this.matrix);Nn.stream=this.stream;var Vn=Pi+"$$"+this.cloneIndex+++"$$";return mr(Vn,Nn),Nn}var wl=function(Pi,qi){var cn=er[Pi.key],pn=qn[cn];if(pn instanceof B)Mi("q"),Mi(bl(qi)),pn.gState&&ti.setGState(pn.gState),Mi(Pi.matrix.toString()+" cm"),Mi("/"+cn+" sh"),Mi("Q");else if(pn instanceof M){var Cn=new Mn(1,0,0,-1,0,Ho());Pi.matrix&&(Cn=Cn.multiply(Pi.matrix||Xn),cn=yl.call(pn,Pi.key,Pi.boundingBox,Pi.xStep,Pi.yStep,Cn).id),Mi("q"),Mi("/Pattern cs"),Mi("/"+cn+" scn"),pn.gState&&ti.setGState(pn.gState),Mi(qi),Mi("Q")}},bl=function(Pi){switch(Pi){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Vs=ti.moveTo=function(Pi,qi){return Mi(mi(xi(Pi))+" "+mi(vi(qi))+" m"),this},rs=ti.lineTo=function(Pi,qi){return Mi(mi(xi(Pi))+" "+mi(vi(qi))+" l"),this},Vo=ti.curveTo=function(Pi,qi,cn,pn,Cn,Nn){return Mi([mi(xi(Pi)),mi(vi(qi)),mi(xi(cn)),mi(vi(pn)),mi(xi(Cn)),mi(vi(Nn)),"c"].join(" ")),this};ti.__private__.line=ti.line=function(Pi,qi,cn,pn,Cn){if(isNaN(Pi)||isNaN(qi)||isNaN(cn)||isNaN(pn)||!_o(Cn))throw new Error("Invalid arguments passed to jsPDF.line");return ii===ri.COMPAT?this.lines([[cn-Pi,pn-qi]],Pi,qi,[1,1],Cn||"S"):this.lines([[cn-Pi,pn-qi]],Pi,qi,[1,1]).stroke()},ti.__private__.lines=ti.lines=function(Pi,qi,cn,pn,Cn,Nn){var Vn,Kn,Qn,ar,hr,pr,kr,Lr,Rr,Wr,Vr,po;if(typeof Pi=="number"&&(po=cn,cn=qi,qi=Pi,Pi=po),pn=pn||[1,1],Nn=Nn||!1,isNaN(qi)||isNaN(cn)||!Array.isArray(Pi)||!Array.isArray(pn)||!_o(Cn)||typeof Nn!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Vs(qi,cn),Vn=pn[0],Kn=pn[1],ar=Pi.length,Wr=qi,Vr=cn,Qn=0;Qn<ar;Qn++)(hr=Pi[Qn]).length===2?(Wr=hr[0]*Vn+Wr,Vr=hr[1]*Kn+Vr,rs(Wr,Vr)):(pr=hr[0]*Vn+Wr,kr=hr[1]*Kn+Vr,Lr=hr[2]*Vn+Wr,Rr=hr[3]*Kn+Vr,Wr=hr[4]*Vn+Wr,Vr=hr[5]*Kn+Vr,Vo(pr,kr,Lr,Rr,Wr,Vr));return Nn&&Ca(),js(Cn),this},ti.path=function(Pi){for(var qi=0;qi<Pi.length;qi++){var cn=Pi[qi],pn=cn.c;switch(cn.op){case"m":Vs(pn[0],pn[1]);break;case"l":rs(pn[0],pn[1]);break;case"c":Vo.apply(this,pn);break;case"h":Ca()}}return this},ti.__private__.rect=ti.rect=function(Pi,qi,cn,pn,Cn){if(isNaN(Pi)||isNaN(qi)||isNaN(cn)||isNaN(pn)||!_o(Cn))throw new Error("Invalid arguments passed to jsPDF.rect");return ii===ri.COMPAT&&(pn=-pn),Mi([mi(xi(Pi)),mi(vi(qi)),mi(xi(cn)),mi(xi(pn)),"re"].join(" ")),js(Cn),this},ti.__private__.triangle=ti.triangle=function(Pi,qi,cn,pn,Cn,Nn,Vn){if(isNaN(Pi)||isNaN(qi)||isNaN(cn)||isNaN(pn)||isNaN(Cn)||isNaN(Nn)||!_o(Vn))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[cn-Pi,pn-qi],[Cn-cn,Nn-pn],[Pi-Cn,qi-Nn]],Pi,qi,[1,1],Vn,!0),this},ti.__private__.roundedRect=ti.roundedRect=function(Pi,qi,cn,pn,Cn,Nn,Vn){if(isNaN(Pi)||isNaN(qi)||isNaN(cn)||isNaN(pn)||isNaN(Cn)||isNaN(Nn)||!_o(Vn))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Kn=4/3*(Math.SQRT2-1);return Cn=Math.min(Cn,.5*cn),Nn=Math.min(Nn,.5*pn),this.lines([[cn-2*Cn,0],[Cn*Kn,0,Cn,Nn-Nn*Kn,Cn,Nn],[0,pn-2*Nn],[0,Nn*Kn,-Cn*Kn,Nn,-Cn,Nn],[2*Cn-cn,0],[-Cn*Kn,0,-Cn,-Nn*Kn,-Cn,-Nn],[0,2*Nn-pn],[0,-Nn*Kn,Cn*Kn,-Nn,Cn,-Nn]],Pi+Cn,qi,[1,1],Vn,!0),this},ti.__private__.ellipse=ti.ellipse=function(Pi,qi,cn,pn,Cn){if(isNaN(Pi)||isNaN(qi)||isNaN(cn)||isNaN(pn)||!_o(Cn))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Nn=4/3*(Math.SQRT2-1)*cn,Vn=4/3*(Math.SQRT2-1)*pn;return Vs(Pi+cn,qi),Vo(Pi+cn,qi-Vn,Pi+Nn,qi-pn,Pi,qi-pn),Vo(Pi-Nn,qi-pn,Pi-cn,qi-Vn,Pi-cn,qi),Vo(Pi-cn,qi+Vn,Pi-Nn,qi+pn,Pi,qi+pn),Vo(Pi+Nn,qi+pn,Pi+cn,qi+Vn,Pi+cn,qi),js(Cn),this},ti.__private__.circle=ti.circle=function(Pi,qi,cn,pn){if(isNaN(Pi)||isNaN(qi)||isNaN(cn)||!_o(pn))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(Pi,qi,cn,cn,pn)},ti.setFont=function(Pi,qi,cn){return cn&&(qi=hi(qi,cn)),An=ba(Pi,qi,{disableWarning:!1}),this};var vl=ti.__private__.getFont=ti.getFont=function(){return Rn[ba.apply(ti,arguments)]};ti.__private__.getFontList=ti.getFontList=function(){var Pi,qi,cn={};for(Pi in zn)if(zn.hasOwnProperty(Pi))for(qi in cn[Pi]=[],zn[Pi])zn[Pi].hasOwnProperty(qi)&&cn[Pi].push(qi);return cn},ti.addFont=function(Pi,qi,cn,pn,Cn){var Nn=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Nn.indexOf(arguments[3])!==-1?Cn=arguments[3]:arguments[3]&&Nn.indexOf(arguments[3])==-1&&(cn=hi(cn,pn)),Cn=Cn||"Identity-H",Fs.call(this,Pi,qi,cn,Cn)};var os,Us=je.lineWidth||.200025,xs=ti.__private__.getLineWidth=ti.getLineWidth=function(){return Us},Pa=ti.__private__.setLineWidth=ti.setLineWidth=function(Pi){return Us=Pi,Mi(mi(xi(Pi))+" w"),this};ti.__private__.setLineDash=E.API.setLineDash=E.API.setLineDashPattern=function(Pi,qi){if(Pi=Pi||[],qi=qi||0,isNaN(qi)||!Array.isArray(Pi))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return Pi=Pi.map(function(cn){return mi(xi(cn))}).join(" "),qi=mi(xi(qi)),Mi("["+Pi+"] "+qi+" d"),this};var Ma=ti.__private__.getLineHeight=ti.getLineHeight=function(){return rn*os};ti.__private__.getLineHeight=ti.getLineHeight=function(){return rn*os};var Da=ti.__private__.setLineHeightFactor=ti.setLineHeightFactor=function(Pi){return typeof(Pi=Pi||1.15)=="number"&&(os=Pi),this},ka=ti.__private__.getLineHeightFactor=ti.getLineHeightFactor=function(){return os};Da(je.lineHeight);var Lo=ti.__private__.getHorizontalCoordinate=function(Pi){return xi(Pi)},Uo=ti.__private__.getVerticalCoordinate=function(Pi){return ii===ri.ADVANCED?Pi:Jn[ji].mediaBox.topRightY-Jn[ji].mediaBox.bottomLeftY-xi(Pi)},Sl=ti.__private__.getHorizontalCoordinateString=ti.getHorizontalCoordinateString=function(Pi){return mi(Lo(Pi))},zo=ti.__private__.getVerticalCoordinateString=ti.getVerticalCoordinateString=function(Pi){return mi(Uo(Pi))},fo=je.strokeColor||"0 G";ti.__private__.getStrokeColor=ti.getDrawColor=function(){return yr(fo)},ti.__private__.setStrokeColor=ti.setDrawColor=function(Pi,qi,cn,pn){return fo=Dr({ch1:Pi,ch2:qi,ch3:cn,ch4:pn,pdfColorType:"draw",precision:2}),Mi(fo),this};var zs=je.fillColor||"0 g";ti.__private__.getFillColor=ti.getFillColor=function(){return yr(zs)},ti.__private__.setFillColor=ti.setFillColor=function(Pi,qi,cn,pn){return zs=Dr({ch1:Pi,ch2:qi,ch3:cn,ch4:pn,pdfColorType:"fill",precision:2}),Mi(zs),this};var ss=je.textColor||"0 g",Al=ti.__private__.getTextColor=ti.getTextColor=function(){return yr(ss)};ti.__private__.setTextColor=ti.setTextColor=function(Pi,qi,cn,pn){return ss=Dr({ch1:Pi,ch2:qi,ch3:cn,ch4:pn,pdfColorType:"text",precision:3}),this};var ys=je.charSpace,_l=ti.__private__.getCharSpace=ti.getCharSpace=function(){return parseFloat(ys||0)};ti.__private__.setCharSpace=ti.setCharSpace=function(Pi){if(isNaN(Pi))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ys=Pi,this};var Hs=0;ti.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},ti.__private__.setLineCap=ti.setLineCap=function(Pi){var qi=ti.CapJoinStyles[Pi];if(qi===void 0)throw new Error("Line cap style of '"+Pi+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Hs=qi,Mi(qi+" J"),this};var qs=0;ti.__private__.setLineJoin=ti.setLineJoin=function(Pi){var qi=ti.CapJoinStyles[Pi];if(qi===void 0)throw new Error("Line join style of '"+Pi+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return qs=qi,Mi(qi+" j"),this},ti.__private__.setLineMiterLimit=ti.__private__.setMiterLimit=ti.setLineMiterLimit=ti.setMiterLimit=function(Pi){if(Pi=Pi||0,isNaN(Pi))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Mi(mi(xi(Pi))+" M"),this},ti.GState=j,ti.setGState=function(Pi){(Pi=typeof Pi=="string"?ir[dr[Pi]]:Ta(null,Pi)).equals(sr)||(Mi("/"+Pi.id+" gs"),sr=Pi)};var Ta=function(Pi,qi){if(!Pi||!dr[Pi]){var cn=!1;for(var pn in ir)if(ir.hasOwnProperty(pn)&&ir[pn].equals(qi)){cn=!0;break}if(cn)qi=ir[pn];else{var Cn="GS"+(Object.keys(ir).length+1).toString(10);ir[Cn]=qi,qi.id=Cn}return Pi&&(dr[Pi]=qi.id),cr.publish("addGState",qi),qi}};ti.addGState=function(Pi,qi){return Ta(Pi,qi),this},ti.saveGraphicsState=function(){return Mi("q"),Un.push({key:An,size:rn,color:ss}),this},ti.restoreGraphicsState=function(){Mi("Q");var Pi=Un.pop();return An=Pi.key,rn=Pi.size,ss=Pi.color,sr=null,this},ti.setCurrentTransformationMatrix=function(Pi){return Mi(Pi.toString()+" cm"),this},ti.comment=function(Pi){return Mi("#"+Pi),this};var ws=function(Pi,qi){var cn=Pi||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return cn},set:function(Nn){isNaN(Nn)||(cn=parseFloat(Nn))}});var pn=qi||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return pn},set:function(Nn){isNaN(Nn)||(pn=parseFloat(Nn))}});var Cn="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Cn},set:function(Nn){Cn=Nn.toString()}}),this},Xs=function(Pi,qi,cn,pn){ws.call(this,Pi,qi),this.type="rect";var Cn=cn||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Cn},set:function(Vn){isNaN(Vn)||(Cn=parseFloat(Vn))}});var Nn=pn||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Nn},set:function(Vn){isNaN(Vn)||(Nn=parseFloat(Vn))}}),this},Ws=function(){this.page=nr,this.currentPage=ji,this.pages=wi.slice(0),this.pagesContext=Jn.slice(0),this.x=_n,this.y=Tn,this.matrix=In,this.width=as(ji),this.height=Ho(ji),this.outputDestination=Ai,this.id="",this.objectNumber=-1};Ws.prototype.restore=function(){nr=this.page,ji=this.currentPage,Jn=this.pagesContext,wi=this.pages,_n=this.x,Tn=this.y,In=this.matrix,Ys(ji,this.width),Gs(ji,this.height),Ai=this.outputDestination};var La=function(Pi,qi,cn,pn,Cn){vn.push(new Ws),nr=ji=0,wi=[],_n=Pi,Tn=qi,In=Cn,Bs([cn,pn])},Cl=function(Pi){if(mn[Pi])vn.pop().restore();else{var qi=new Ws,cn="Xo"+(Object.keys(Wi).length+1).toString(10);qi.id=cn,mn[Pi]=cn,Wi[cn]=qi,cr.publish("addFormObject",qi),vn.pop().restore()}};for(var bs in ti.beginFormObject=function(Pi,qi,cn,pn,Cn){return La(Pi,qi,cn,pn,Cn),this},ti.endFormObject=function(Pi){return Cl(Pi),this},ti.doFormObject=function(Pi,qi){var cn=Wi[mn[Pi]];return Mi("q"),Mi(qi.toString()+" cm"),Mi("/"+cn.id+" Do"),Mi("Q"),this},ti.getFormObject=function(Pi){var qi=Wi[mn[Pi]];return{x:qi.x,y:qi.y,width:qi.width,height:qi.height,matrix:qi.matrix}},ti.save=function(Pi,qi){return Pi=Pi||"generated.pdf",(qi=qi||{}).returnPromise=qi.returnPromise||!1,qi.returnPromise===!1?(l(fs(To()),Pi),typeof l.unload=="function"&&n.setTimeout&&setTimeout(l.unload,911),this):new Promise(function(cn,pn){try{var Cn=l(fs(To()),Pi);typeof l.unload=="function"&&n.setTimeout&&setTimeout(l.unload,911),cn(Cn)}catch(Nn){pn(Nn.message)}})},E.API)E.API.hasOwnProperty(bs)&&(bs==="events"&&E.API.events.length?function(Pi,qi){var cn,pn,Cn;for(Cn=qi.length-1;Cn!==-1;Cn--)cn=qi[Cn][0],pn=qi[Cn][1],Pi.subscribe.apply(Pi,[cn].concat(typeof pn=="function"?[pn]:pn))}(cr,E.API.events):ti[bs]=E.API[bs]);var as=ti.getPageWidth=function(Pi){return(Jn[Pi=Pi||ji].mediaBox.topRightX-Jn[Pi].mediaBox.bottomLeftX)/sn},Ys=ti.setPageWidth=function(Pi,qi){Jn[Pi].mediaBox.topRightX=qi*sn+Jn[Pi].mediaBox.bottomLeftX},Ho=ti.getPageHeight=function(Pi){return(Jn[Pi=Pi||ji].mediaBox.topRightY-Jn[Pi].mediaBox.bottomLeftY)/sn},Gs=ti.setPageHeight=function(Pi,qi){Jn[Pi].mediaBox.topRightY=qi*sn+Jn[Pi].mediaBox.bottomLeftY};return ti.internal={pdfEscape:Gr,getStyle:Aa,getFont:vl,getFontSize:dn,getCharSpace:_l,getTextColor:Al,getLineHeight:Ma,getLineHeightFactor:ka,getLineWidth:xs,write:Gi,getHorizontalCoordinate:Lo,getVerticalCoordinate:Uo,getCoordinateString:Sl,getVerticalCoordinateString:zo,collections:{},newObject:rr,newAdditionalObject:oo,newObjectDeferred:ur,newObjectDeferredBegin:Cr,getFilters:Ar,putStream:Tr,events:cr,scaleFactor:sn,pageSize:{getWidth:function(){return as(ji)},setWidth:function(Pi){Ys(ji,Pi)},getHeight:function(){return Ho(ji)},setHeight:function(Pi){Gs(ji,Pi)}},encryptionOptions:Qe,encryption:Xr,getEncryptor:pl,output:ps,getNumberOfPages:ul,pages:wi,out:Mi,f2:yi,f3:pi,getPageInfo:Sa,getPageInfoByObjId:or,getCurrentPageInfo:gl,getPDFVersion:oi,Point:ws,Rectangle:Xs,Matrix:Mn,hasHotfix:va},Object.defineProperty(ti.internal.pageSize,"width",{get:function(){return as(ji)},set:function(Pi){Ys(ji,Pi)},enumerable:!0,configurable:!0}),Object.defineProperty(ti.internal.pageSize,"height",{get:function(){return Ho(ji)},set:function(Pi){Gs(ji,Pi)},enumerable:!0,configurable:!0}),al.call(ti,Ui),An="F1",ya(qe,Ve),cr.publish("initialized"),ti}I.prototype.lsbFirstWord=function(je){return String.fromCharCode(je>>0&255,je>>8&255,je>>16&255,je>>24&255)},I.prototype.toHexString=function(je){return je.split("").map(function($e){return("0"+(255&$e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},I.prototype.hexToBytes=function(je){for(var $e=[],Ve=0;Ve<je.length;Ve+=2)$e.push(String.fromCharCode(parseInt(je.substr(Ve,2),16)));return $e.join("")},I.prototype.processOwnerPassword=function(je,$e){return P(x($e).substr(0,5),je)},I.prototype.encryptor=function(je,$e){var Ve=x(this.encryptionKey+String.fromCharCode(255&je,je>>8&255,je>>16&255,255&$e,$e>>8&255)).substr(0,10);return function(ze){return P(Ve,ze)}},j.prototype.equals=function(je){var $e,Ve="id,objectNumber,equals";if(!je||_typeof(je)!==_typeof(this))return!1;var ze=0;for($e in this)if(!(Ve.indexOf($e)>=0)){if(this.hasOwnProperty($e)&&!je.hasOwnProperty($e)||this[$e]!==je[$e])return!1;ze++}for($e in je)je.hasOwnProperty($e)&&Ve.indexOf($e)<0&&ze--;return ze===0},E.API={events:[]},E.version="2.5.1";var q=E.API,D=1,R=function(je){return je.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},T=function(je){return je.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},U=function(je){return je.toFixed(2)},z=function(je){return je.toFixed(5)};q.__acroform__={};var H=function(je,$e){je.prototype=Object.create($e.prototype),je.prototype.constructor=je},W=function(je){return je*D},V=function(je){var $e=new ut,Ve=At.internal.getHeight(je)||0,ze=At.internal.getWidth(je)||0;return $e.BBox=[0,0,Number(U(ze)),Number(U(Ve))],$e},G=q.__acroform__.setBit=function(je,$e){if(je=je||0,$e=$e||0,isNaN(je)||isNaN($e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return je|=1<<$e},Y=q.__acroform__.clearBit=function(je,$e){if(je=je||0,$e=$e||0,isNaN(je)||isNaN($e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return je&=~(1<<$e)},J=q.__acroform__.getBit=function(je,$e){if(isNaN(je)||isNaN($e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return je&1<<$e?1:0},X=q.__acroform__.getBitForPdf=function(je,$e){if(isNaN(je)||isNaN($e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return J(je,$e-1)},K=q.__acroform__.setBitForPdf=function(je,$e){if(isNaN(je)||isNaN($e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return G(je,$e-1)},Z=q.__acroform__.clearBitForPdf=function(je,$e){if(isNaN(je)||isNaN($e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Y(je,$e-1)},$=q.__acroform__.calculateCoordinates=function(je,$e){var Ve=$e.internal.getHorizontalCoordinate,ze=$e.internal.getVerticalCoordinate,qe=je[0],Xe=je[1],We=je[2],Ke=je[3],Je={};return Je.lowerLeft_X=Ve(qe)||0,Je.lowerLeft_Y=ze(Xe+Ke)||0,Je.upperRight_X=Ve(qe+We)||0,Je.upperRight_Y=ze(Xe)||0,[Number(U(Je.lowerLeft_X)),Number(U(Je.lowerLeft_Y)),Number(U(Je.upperRight_X)),Number(U(Je.upperRight_Y))]},Q=function(je){if(je.appearanceStreamContent)return je.appearanceStreamContent;if(je.V||je.DV){var $e=[],Ve=je._V||je.DV,ze=tt(je,Ve),qe=je.scope.internal.getFont(je.fontName,je.fontStyle).id;$e.push("/Tx BMC"),$e.push("q"),$e.push("BT"),$e.push(je.scope.__private__.encodeColorString(je.color)),$e.push("/"+qe+" "+U(ze.fontSize)+" Tf"),$e.push("1 0 0 1 0 0 Tm"),$e.push(ze.text),$e.push("ET"),$e.push("Q"),$e.push("EMC");var Xe=V(je);return Xe.scope=je.scope,Xe.stream=$e.join(`
`),Xe}},tt=function(je,$e){var Ve=je.fontSize===0?je.maxFontSize:je.fontSize,ze={text:"",fontSize:""},qe=($e=($e=$e.substr(0,1)=="("?$e.substr(1):$e).substr($e.length-1)==")"?$e.substr(0,$e.length-1):$e).split(" ");qe=je.multiline?qe.map(function(pi){return pi.split(`
`)}):qe.map(function(pi){return[pi]});var Xe=Ve,We=At.internal.getHeight(je)||0;We=We<0?-We:We;var Ke=At.internal.getWidth(je)||0;Ke=Ke<0?-Ke:Ke;var Je=function(pi,xi,Si){if(pi+1<qe.length){var vi=xi+" "+qe[pi+1][0];return et(vi,je,Si).width<=Ke-4}return!1};Xe++;e:for(;Xe>0;){$e="",Xe--;var Ze,Qe,St=et("3",je,Xe).height,ei=je.multiline?We-Xe:(We-St)/2,ti=ei+=2,ni=0,oi=0,ai=0;if(Xe<=0){$e=`(...) Tj
`,$e+="% Width of Text: "+et($e,je,Xe=12).width+", FieldWidth:"+Ke+`
`;break}for(var si="",ri=0,ii=0;ii<qe.length;ii++)if(qe.hasOwnProperty(ii)){var ui=!1;if(qe[ii].length!==1&&ai!==qe[ii].length-1){if((St+2)*(ri+2)+2>We)continue e;si+=qe[ii][ai],ui=!0,oi=ii,ii--}else{si=(si+=qe[ii][ai]+" ").substr(si.length-1)==" "?si.substr(0,si.length-1):si;var ci=parseInt(ii),hi=Je(ci,si,Xe),mi=ii>=qe.length-1;if(hi&&!mi){si+=" ",ai=0;continue}if(hi||mi){if(mi)oi=ci;else if(je.multiline&&(St+2)*(ri+2)+2>We)continue e}else{if(!je.multiline||(St+2)*(ri+2)+2>We)continue e;oi=ci}}for(var di="",fi=ni;fi<=oi;fi++){var yi=qe[fi];if(je.multiline){if(fi===oi){di+=yi[ai]+" ",ai=(ai+1)%yi.length;continue}if(fi===ni){di+=yi[yi.length-1]+" ";continue}}di+=yi[0]+" "}switch(di=di.substr(di.length-1)==" "?di.substr(0,di.length-1):di,Qe=et(di,je,Xe).width,je.textAlign){case"right":Ze=Ke-Qe-2;break;case"center":Ze=(Ke-Qe)/2;break;case"left":default:Ze=2}$e+=U(Ze)+" "+U(ti)+` Td
`,$e+="("+R(di)+`) Tj
`,$e+=-U(Ze)+` 0 Td
`,ti=-(Xe+2),Qe=0,ni=ui?oi:oi+1,ri++,si=""}break}return ze.text=$e,ze.fontSize=Xe,ze},et=function(je,$e,Ve){var ze=$e.scope.internal.getFont($e.fontName,$e.fontStyle),qe=$e.scope.getStringUnitWidth(je,{font:ze,fontSize:parseFloat(Ve),charSpace:0})*parseFloat(Ve);return{height:$e.scope.getStringUnitWidth("3",{font:ze,fontSize:parseFloat(Ve),charSpace:0})*parseFloat(Ve)*1.5,width:qe}},rt={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nt=function(je,$e){var Ve={type:"reference",object:je};$e.internal.getPageInfo(je.page).pageContext.annotations.find(function(ze){return ze.type===Ve.type&&ze.object===Ve.object})===void 0&&$e.internal.getPageInfo(je.page).pageContext.annotations.push(Ve)},it=function(je,$e){for(var Ve in je)if(je.hasOwnProperty(Ve)){var ze=Ve,qe=je[Ve];$e.internal.newObjectDeferredBegin(qe.objId,!0),_typeof(qe)==="object"&&typeof qe.putStream=="function"&&qe.putStream(),delete je[ze]}},at=function(je,$e){if($e.scope=je,je.internal!==void 0&&(je.internal.acroformPlugin===void 0||je.internal.acroformPlugin.isInitialized===!1)){if(lt.FieldNum=0,je.internal.acroformPlugin=JSON.parse(JSON.stringify(rt)),je.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");D=je.internal.scaleFactor,je.internal.acroformPlugin.acroFormDictionaryRoot=new ht,je.internal.acroformPlugin.acroFormDictionaryRoot.scope=je,je.internal.acroformPlugin.acroFormDictionaryRoot._eventID=je.internal.events.subscribe("postPutResources",function(){(function(Ve){Ve.internal.events.unsubscribe(Ve.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete Ve.internal.acroformPlugin.acroFormDictionaryRoot._eventID,Ve.internal.acroformPlugin.printedOut=!0})(je)}),je.internal.events.subscribe("buildDocument",function(){(function(Ve){Ve.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var ze=Ve.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var qe in ze)if(ze.hasOwnProperty(qe)){var Xe=ze[qe];Xe.objId=void 0,Xe.hasAnnotation&&nt(Xe,Ve)}})(je)}),je.internal.events.subscribe("putCatalog",function(){(function(Ve){if(Ve.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");Ve.internal.write("/AcroForm "+Ve.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(je)}),je.internal.events.subscribe("postPutPages",function(Ve){(function(ze,qe){var Xe=!ze;for(var We in ze||(qe.internal.newObjectDeferredBegin(qe.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),qe.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),ze=ze||qe.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(ze.hasOwnProperty(We)){var Ke=ze[We],Je=[],Ze=Ke.Rect;if(Ke.Rect&&(Ke.Rect=$(Ke.Rect,qe)),qe.internal.newObjectDeferredBegin(Ke.objId,!0),Ke.DA=At.createDefaultAppearanceStream(Ke),_typeof(Ke)==="object"&&typeof Ke.getKeyValueListForStream=="function"&&(Je=Ke.getKeyValueListForStream()),Ke.Rect=Ze,Ke.hasAppearanceStream&&!Ke.appearanceStreamContent){var Qe=Q(Ke);Je.push({key:"AP",value:"<</N "+Qe+">>"}),qe.internal.acroformPlugin.xForms.push(Qe)}if(Ke.appearanceStreamContent){var St="";for(var ei in Ke.appearanceStreamContent)if(Ke.appearanceStreamContent.hasOwnProperty(ei)){var ti=Ke.appearanceStreamContent[ei];if(St+="/"+ei+" ",St+="<<",Object.keys(ti).length>=1||Array.isArray(ti)){for(var We in ti)if(ti.hasOwnProperty(We)){var ni=ti[We];typeof ni=="function"&&(ni=ni.call(qe,Ke)),St+="/"+We+" "+ni+" ",qe.internal.acroformPlugin.xForms.indexOf(ni)>=0||qe.internal.acroformPlugin.xForms.push(ni)}}else typeof(ni=ti)=="function"&&(ni=ni.call(qe,Ke)),St+="/"+We+" "+ni,qe.internal.acroformPlugin.xForms.indexOf(ni)>=0||qe.internal.acroformPlugin.xForms.push(ni);St+=">>"}Je.push({key:"AP",value:`<<
`+St+">>"})}qe.internal.putStream({additionalKeyValues:Je,objectId:Ke.objId}),qe.internal.out("endobj")}Xe&&it(qe.internal.acroformPlugin.xForms,qe)})(Ve,je)}),je.internal.acroformPlugin.isInitialized=!0}},ot=q.__acroform__.arrayToPdfArray=function(je,$e,Ve){var ze=function(We){return We};if(Array.isArray(je)){for(var qe="[",Xe=0;Xe<je.length;Xe++)switch(Xe!==0&&(qe+=" "),_typeof(je[Xe])){case"boolean":case"number":case"object":qe+=je[Xe].toString();break;case"string":je[Xe].substr(0,1)!=="/"?($e!==void 0&&Ve&&(ze=Ve.internal.getEncryptor($e)),qe+="("+R(ze(je[Xe].toString()))+")"):qe+=je[Xe].toString()}return qe+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},st=function(je,$e,Ve){var ze=function(qe){return qe};return $e!==void 0&&Ve&&(ze=Ve.internal.getEncryptor($e)),(je=je||"").toString(),je="("+R(ze(je))+")"},ct=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(je){this._objId=je}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ct.prototype.toString=function(){return this.objId+" 0 R"},ct.prototype.putStream=function(){var je=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:je,objectId:this.objId}),this.scope.internal.out("endobj")},ct.prototype.getKeyValueListForStream=function(){var je=[],$e=Object.getOwnPropertyNames(this).filter(function(Xe){return Xe!="content"&&Xe!="appearanceStreamContent"&&Xe!="scope"&&Xe!="objId"&&Xe.substring(0,1)!="_"});for(var Ve in $e)if(Object.getOwnPropertyDescriptor(this,$e[Ve]).configurable===!1){var ze=$e[Ve],qe=this[ze];qe&&(Array.isArray(qe)?je.push({key:ze,value:ot(qe,this.objId,this.scope)}):qe instanceof ct?(qe.scope=this.scope,je.push({key:ze,value:qe.objId+" 0 R"})):typeof qe!="function"&&je.push({key:ze,value:qe}))}return je};var ut=function(){ct.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var je,$e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return $e},set:function(Ve){$e=Ve}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(Ve){je=Ve.trim()},get:function(){return je||null}})};H(ut,ct);var ht=function(){ct.call(this);var je,$e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return $e.length>0?$e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return $e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(je){var Ve=function(ze){return ze};return this.scope&&(Ve=this.scope.internal.getEncryptor(this.objId)),"("+R(Ve(je))+")"}},set:function(Ve){je=Ve}})};H(ht,ct);var lt=function je(){ct.call(this);var $e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return $e},set:function(si){if(isNaN(si))throw new Error('Invalid value "'+si+'" for attribute F supplied.');$e=si}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!X($e,3)},set:function(si){si?this.F=K($e,3):this.F=Z($e,3)}});var Ve=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return Ve},set:function(si){if(isNaN(si))throw new Error('Invalid value "'+si+'" for attribute Ff supplied.');Ve=si}});var ze=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(ze.length!==0)return ze},set:function(si){ze=si!==void 0?si:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!ze||isNaN(ze[0])?0:ze[0]},set:function(si){ze[0]=si}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!ze||isNaN(ze[1])?0:ze[1]},set:function(si){ze[1]=si}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!ze||isNaN(ze[2])?0:ze[2]},set:function(si){ze[2]=si}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!ze||isNaN(ze[3])?0:ze[3]},set:function(si){ze[3]=si}});var qe="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return qe},set:function(si){switch(si){case"/Btn":case"/Tx":case"/Ch":case"/Sig":qe=si;break;default:throw new Error('Invalid value "'+si+'" for attribute FT supplied.')}}});var Xe=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!Xe||Xe.length<1){if(this instanceof yt)return;Xe="FieldObject"+je.FieldNum++}var si=function(ri){return ri};return this.scope&&(si=this.scope.internal.getEncryptor(this.objId)),"("+R(si(Xe))+")"},set:function(si){Xe=si.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return Xe},set:function(si){Xe=si}});var We="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return We},set:function(si){We=si}});var Ke="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return Ke},set:function(si){Ke=si}});var Je=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return Je},set:function(si){Je=si}});var Ze=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return Ze===void 0?50/D:Ze},set:function(si){Ze=si}});var Qe="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return Qe},set:function(si){Qe=si}});var St="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!St||this instanceof yt||this instanceof Nt))return st(St,this.objId,this.scope)},set:function(si){si=si.toString(),St=si}});var ei=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(ei)return this instanceof mt?ei:st(ei,this.objId,this.scope)},set:function(si){si=si.toString(),ei=this instanceof mt?si:si.substr(0,1)==="("?T(si.substr(1,si.length-2)):T(si)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T(ei.substr(1,ei.length-1)):ei},set:function(si){si=si.toString(),ei=this instanceof mt?"/"+si:si}});var ti=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(ti)return ti},set:function(si){this.V=si}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(ti)return this instanceof mt?ti:st(ti,this.objId,this.scope)},set:function(si){si=si.toString(),ti=this instanceof mt?si:si.substr(0,1)==="("?T(si.substr(1,si.length-2)):T(si)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T(ti.substr(1,ti.length-1)):ti},set:function(si){si=si.toString(),ti=this instanceof mt?"/"+si:si}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var ni,oi=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return oi},set:function(si){si=!!si,oi=si}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(ni)return ni},set:function(si){ni=si}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,1)},set:function(si){si?this.Ff=K(this.Ff,1):this.Ff=Z(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,2)},set:function(si){si?this.Ff=K(this.Ff,2):this.Ff=Z(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,3)},set:function(si){si?this.Ff=K(this.Ff,3):this.Ff=Z(this.Ff,3)}});var ai=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(ai!==null)return ai},set:function(si){if([0,1,2].indexOf(si)===-1)throw new Error('Invalid value "'+si+'" for attribute Q supplied.');ai=si}}),Object.defineProperty(this,"textAlign",{get:function(){var si;switch(ai){case 0:default:si="left";break;case 1:si="center";break;case 2:si="right"}return si},configurable:!0,enumerable:!0,set:function(si){switch(si){case"right":case 2:ai=2;break;case"center":case 1:ai=1;break;case"left":case 0:default:ai=0}}})};H(lt,ct);var ft=function(){lt.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var je=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return je},set:function(Ve){je=Ve}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return je},set:function(Ve){je=Ve}});var $e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ot($e,this.objId,this.scope)},set:function(Ve){var ze,qe;qe=[],typeof(ze=Ve)=="string"&&(qe=function(Xe,We,Ke){Ke||(Ke=1);for(var Je,Ze=[];Je=We.exec(Xe);)Ze.push(Je[Ke]);return Ze}(ze,/\((.*?)\)/g)),$e=qe}}),this.getOptions=function(){return $e},this.setOptions=function(Ve){$e=Ve,this.sort&&$e.sort()},this.addOption=function(Ve){Ve=(Ve=Ve||"").toString(),$e.push(Ve),this.sort&&$e.sort()},this.removeOption=function(Ve,ze){for(ze=ze||!1,Ve=(Ve=Ve||"").toString();$e.indexOf(Ve)!==-1&&($e.splice($e.indexOf(Ve),1),ze!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,18)},set:function(Ve){Ve?this.Ff=K(this.Ff,18):this.Ff=Z(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,19)},set:function(Ve){this.combo===!0&&(Ve?this.Ff=K(this.Ff,19):this.Ff=Z(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,20)},set:function(Ve){Ve?(this.Ff=K(this.Ff,20),$e.sort()):this.Ff=Z(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,22)},set:function(Ve){Ve?this.Ff=K(this.Ff,22):this.Ff=Z(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,23)},set:function(Ve){Ve?this.Ff=K(this.Ff,23):this.Ff=Z(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,27)},set:function(Ve){Ve?this.Ff=K(this.Ff,27):this.Ff=Z(this.Ff,27)}}),this.hasAppearanceStream=!1};H(ft,lt);var dt=function(){ft.call(this),this.fontName="helvetica",this.combo=!1};H(dt,ft);var pt=function(){dt.call(this),this.combo=!0};H(pt,dt);var gt=function(){pt.call(this),this.edit=!0};H(gt,pt);var mt=function(){lt.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,15)},set:function(Ve){Ve?this.Ff=K(this.Ff,15):this.Ff=Z(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,16)},set:function(Ve){Ve?this.Ff=K(this.Ff,16):this.Ff=Z(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,17)},set:function(Ve){Ve?this.Ff=K(this.Ff,17):this.Ff=Z(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,26)},set:function(Ve){Ve?this.Ff=K(this.Ff,26):this.Ff=Z(this.Ff,26)}});var je,$e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var Ve=function(Xe){return Xe};if(this.scope&&(Ve=this.scope.internal.getEncryptor(this.objId)),Object.keys($e).length!==0){var ze,qe=[];for(ze in qe.push("<<"),$e)qe.push("/"+ze+" ("+R(Ve($e[ze]))+")");return qe.push(">>"),qe.join(`
`)}},set:function(Ve){_typeof(Ve)==="object"&&($e=Ve)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return $e.CA||""},set:function(Ve){typeof Ve=="string"&&($e.CA=Ve)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return je},set:function(Ve){je=Ve}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return je.substr(1,je.length-1)},set:function(Ve){je="/"+Ve}})};H(mt,lt);var vt=function(){mt.call(this),this.pushButton=!0};H(vt,mt);var bt=function(){mt.call(this),this.radio=!0,this.pushButton=!1;var je=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return je},set:function($e){je=$e!==void 0?$e:[]}})};H(bt,mt);var yt=function(){var je,$e;lt.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return je},set:function(qe){je=qe}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return $e},set:function(qe){$e=qe}});var Ve,ze={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var qe=function(Ke){return Ke};this.scope&&(qe=this.scope.internal.getEncryptor(this.objId));var Xe,We=[];for(Xe in We.push("<<"),ze)We.push("/"+Xe+" ("+R(qe(ze[Xe]))+")");return We.push(">>"),We.join(`
`)},set:function(qe){_typeof(qe)==="object"&&(ze=qe)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return ze.CA||""},set:function(qe){typeof qe=="string"&&(ze.CA=qe)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return Ve},set:function(qe){Ve=qe}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return Ve.substr(1,Ve.length-1)},set:function(qe){Ve="/"+qe}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=At.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};H(yt,lt),bt.prototype.setAppearance=function(je){if(!("createAppearanceStream"in je)||!("getCA"in je))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var $e in this.Kids)if(this.Kids.hasOwnProperty($e)){var Ve=this.Kids[$e];Ve.appearanceStreamContent=je.createAppearanceStream(Ve.optionName),Ve.caption=je.getCA()}},bt.prototype.createOption=function(je){var $e=new yt;return $e.Parent=this,$e.optionName=je,this.Kids.push($e),xt.call(this.scope,$e),$e};var wt=function(){mt.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=At.CheckBox.createAppearanceStream()};H(wt,mt);var Nt=function(){lt.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,13)},set:function($e){$e?this.Ff=K(this.Ff,13):this.Ff=Z(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,21)},set:function($e){$e?this.Ff=K(this.Ff,21):this.Ff=Z(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,23)},set:function($e){$e?this.Ff=K(this.Ff,23):this.Ff=Z(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,24)},set:function($e){$e?this.Ff=K(this.Ff,24):this.Ff=Z(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,25)},set:function($e){$e?this.Ff=K(this.Ff,25):this.Ff=Z(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,26)},set:function($e){$e?this.Ff=K(this.Ff,26):this.Ff=Z(this.Ff,26)}});var je=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return je},set:function($e){je=$e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return je},set:function($e){Number.isInteger($e)&&(je=$e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};H(Nt,lt);var Lt=function(){Nt.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,14)},set:function(je){je?this.Ff=K(this.Ff,14):this.Ff=Z(this.Ff,14)}}),this.password=!0};H(Lt,Nt);var At={CheckBox:{createAppearanceStream:function(){return{N:{On:At.CheckBox.YesNormal},D:{On:At.CheckBox.YesPushDown,Off:At.CheckBox.OffPushDown}}},YesPushDown:function(je){var $e=V(je);$e.scope=je.scope;var Ve=[],ze=je.scope.internal.getFont(je.fontName,je.fontStyle).id,qe=je.scope.__private__.encodeColorString(je.color),Xe=tt(je,je.caption);return Ve.push("0.749023 g"),Ve.push("0 0 "+U(At.internal.getWidth(je))+" "+U(At.internal.getHeight(je))+" re"),Ve.push("f"),Ve.push("BMC"),Ve.push("q"),Ve.push("0 0 1 rg"),Ve.push("/"+ze+" "+U(Xe.fontSize)+" Tf "+qe),Ve.push("BT"),Ve.push(Xe.text),Ve.push("ET"),Ve.push("Q"),Ve.push("EMC"),$e.stream=Ve.join(`
`),$e},YesNormal:function(je){var $e=V(je);$e.scope=je.scope;var Ve=je.scope.internal.getFont(je.fontName,je.fontStyle).id,ze=je.scope.__private__.encodeColorString(je.color),qe=[],Xe=At.internal.getHeight(je),We=At.internal.getWidth(je),Ke=tt(je,je.caption);return qe.push("1 g"),qe.push("0 0 "+U(We)+" "+U(Xe)+" re"),qe.push("f"),qe.push("q"),qe.push("0 0 1 rg"),qe.push("0 0 "+U(We-1)+" "+U(Xe-1)+" re"),qe.push("W"),qe.push("n"),qe.push("0 g"),qe.push("BT"),qe.push("/"+Ve+" "+U(Ke.fontSize)+" Tf "+ze),qe.push(Ke.text),qe.push("ET"),qe.push("Q"),$e.stream=qe.join(`
`),$e},OffPushDown:function(je){var $e=V(je);$e.scope=je.scope;var Ve=[];return Ve.push("0.749023 g"),Ve.push("0 0 "+U(At.internal.getWidth(je))+" "+U(At.internal.getHeight(je))+" re"),Ve.push("f"),$e.stream=Ve.join(`
`),$e}},RadioButton:{Circle:{createAppearanceStream:function(je){var $e={D:{Off:At.RadioButton.Circle.OffPushDown},N:{}};return $e.N[je]=At.RadioButton.Circle.YesNormal,$e.D[je]=At.RadioButton.Circle.YesPushDown,$e},getCA:function(){return"l"},YesNormal:function(je){var $e=V(je);$e.scope=je.scope;var Ve=[],ze=At.internal.getWidth(je)<=At.internal.getHeight(je)?At.internal.getWidth(je)/4:At.internal.getHeight(je)/4;ze=Number((.9*ze).toFixed(5));var qe=At.internal.Bezier_C,Xe=Number((ze*qe).toFixed(5));return Ve.push("q"),Ve.push("1 0 0 1 "+z(At.internal.getWidth(je)/2)+" "+z(At.internal.getHeight(je)/2)+" cm"),Ve.push(ze+" 0 m"),Ve.push(ze+" "+Xe+" "+Xe+" "+ze+" 0 "+ze+" c"),Ve.push("-"+Xe+" "+ze+" -"+ze+" "+Xe+" -"+ze+" 0 c"),Ve.push("-"+ze+" -"+Xe+" -"+Xe+" -"+ze+" 0 -"+ze+" c"),Ve.push(Xe+" -"+ze+" "+ze+" -"+Xe+" "+ze+" 0 c"),Ve.push("f"),Ve.push("Q"),$e.stream=Ve.join(`
`),$e},YesPushDown:function(je){var $e=V(je);$e.scope=je.scope;var Ve=[],ze=At.internal.getWidth(je)<=At.internal.getHeight(je)?At.internal.getWidth(je)/4:At.internal.getHeight(je)/4;ze=Number((.9*ze).toFixed(5));var qe=Number((2*ze).toFixed(5)),Xe=Number((qe*At.internal.Bezier_C).toFixed(5)),We=Number((ze*At.internal.Bezier_C).toFixed(5));return Ve.push("0.749023 g"),Ve.push("q"),Ve.push("1 0 0 1 "+z(At.internal.getWidth(je)/2)+" "+z(At.internal.getHeight(je)/2)+" cm"),Ve.push(qe+" 0 m"),Ve.push(qe+" "+Xe+" "+Xe+" "+qe+" 0 "+qe+" c"),Ve.push("-"+Xe+" "+qe+" -"+qe+" "+Xe+" -"+qe+" 0 c"),Ve.push("-"+qe+" -"+Xe+" -"+Xe+" -"+qe+" 0 -"+qe+" c"),Ve.push(Xe+" -"+qe+" "+qe+" -"+Xe+" "+qe+" 0 c"),Ve.push("f"),Ve.push("Q"),Ve.push("0 g"),Ve.push("q"),Ve.push("1 0 0 1 "+z(At.internal.getWidth(je)/2)+" "+z(At.internal.getHeight(je)/2)+" cm"),Ve.push(ze+" 0 m"),Ve.push(ze+" "+We+" "+We+" "+ze+" 0 "+ze+" c"),Ve.push("-"+We+" "+ze+" -"+ze+" "+We+" -"+ze+" 0 c"),Ve.push("-"+ze+" -"+We+" -"+We+" -"+ze+" 0 -"+ze+" c"),Ve.push(We+" -"+ze+" "+ze+" -"+We+" "+ze+" 0 c"),Ve.push("f"),Ve.push("Q"),$e.stream=Ve.join(`
`),$e},OffPushDown:function(je){var $e=V(je);$e.scope=je.scope;var Ve=[],ze=At.internal.getWidth(je)<=At.internal.getHeight(je)?At.internal.getWidth(je)/4:At.internal.getHeight(je)/4;ze=Number((.9*ze).toFixed(5));var qe=Number((2*ze).toFixed(5)),Xe=Number((qe*At.internal.Bezier_C).toFixed(5));return Ve.push("0.749023 g"),Ve.push("q"),Ve.push("1 0 0 1 "+z(At.internal.getWidth(je)/2)+" "+z(At.internal.getHeight(je)/2)+" cm"),Ve.push(qe+" 0 m"),Ve.push(qe+" "+Xe+" "+Xe+" "+qe+" 0 "+qe+" c"),Ve.push("-"+Xe+" "+qe+" -"+qe+" "+Xe+" -"+qe+" 0 c"),Ve.push("-"+qe+" -"+Xe+" -"+Xe+" -"+qe+" 0 -"+qe+" c"),Ve.push(Xe+" -"+qe+" "+qe+" -"+Xe+" "+qe+" 0 c"),Ve.push("f"),Ve.push("Q"),$e.stream=Ve.join(`
`),$e}},Cross:{createAppearanceStream:function(je){var $e={D:{Off:At.RadioButton.Cross.OffPushDown},N:{}};return $e.N[je]=At.RadioButton.Cross.YesNormal,$e.D[je]=At.RadioButton.Cross.YesPushDown,$e},getCA:function(){return"8"},YesNormal:function(je){var $e=V(je);$e.scope=je.scope;var Ve=[],ze=At.internal.calculateCross(je);return Ve.push("q"),Ve.push("1 1 "+U(At.internal.getWidth(je)-2)+" "+U(At.internal.getHeight(je)-2)+" re"),Ve.push("W"),Ve.push("n"),Ve.push(U(ze.x1.x)+" "+U(ze.x1.y)+" m"),Ve.push(U(ze.x2.x)+" "+U(ze.x2.y)+" l"),Ve.push(U(ze.x4.x)+" "+U(ze.x4.y)+" m"),Ve.push(U(ze.x3.x)+" "+U(ze.x3.y)+" l"),Ve.push("s"),Ve.push("Q"),$e.stream=Ve.join(`
`),$e},YesPushDown:function(je){var $e=V(je);$e.scope=je.scope;var Ve=At.internal.calculateCross(je),ze=[];return ze.push("0.749023 g"),ze.push("0 0 "+U(At.internal.getWidth(je))+" "+U(At.internal.getHeight(je))+" re"),ze.push("f"),ze.push("q"),ze.push("1 1 "+U(At.internal.getWidth(je)-2)+" "+U(At.internal.getHeight(je)-2)+" re"),ze.push("W"),ze.push("n"),ze.push(U(Ve.x1.x)+" "+U(Ve.x1.y)+" m"),ze.push(U(Ve.x2.x)+" "+U(Ve.x2.y)+" l"),ze.push(U(Ve.x4.x)+" "+U(Ve.x4.y)+" m"),ze.push(U(Ve.x3.x)+" "+U(Ve.x3.y)+" l"),ze.push("s"),ze.push("Q"),$e.stream=ze.join(`
`),$e},OffPushDown:function(je){var $e=V(je);$e.scope=je.scope;var Ve=[];return Ve.push("0.749023 g"),Ve.push("0 0 "+U(At.internal.getWidth(je))+" "+U(At.internal.getHeight(je))+" re"),Ve.push("f"),$e.stream=Ve.join(`
`),$e}}},createDefaultAppearanceStream:function(je){var $e=je.scope.internal.getFont(je.fontName,je.fontStyle).id,Ve=je.scope.__private__.encodeColorString(je.color);return"/"+$e+" "+je.fontSize+" Tf "+Ve}};At.internal={Bezier_C:.551915024494,calculateCross:function(je){var $e=At.internal.getWidth(je),Ve=At.internal.getHeight(je),ze=Math.min($e,Ve);return{x1:{x:($e-ze)/2,y:(Ve-ze)/2+ze},x2:{x:($e-ze)/2+ze,y:(Ve-ze)/2},x3:{x:($e-ze)/2,y:(Ve-ze)/2},x4:{x:($e-ze)/2+ze,y:(Ve-ze)/2+ze}}}},At.internal.getWidth=function(je){var $e=0;return _typeof(je)==="object"&&($e=W(je.Rect[2])),$e},At.internal.getHeight=function(je){var $e=0;return _typeof(je)==="object"&&($e=W(je.Rect[3])),$e};var xt=q.addField=function(je){if(at(this,je),!(je instanceof lt))throw new Error("Invalid argument passed to jsPDF.addField.");var $e;return($e=je).scope.internal.acroformPlugin.printedOut&&($e.scope.internal.acroformPlugin.printedOut=!1,$e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),$e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push($e),je.page=je.scope.internal.getCurrentPageInfo().pageNumber,this};q.AcroFormChoiceField=ft,q.AcroFormListBox=dt,q.AcroFormComboBox=pt,q.AcroFormEditBox=gt,q.AcroFormButton=mt,q.AcroFormPushButton=vt,q.AcroFormRadioButton=bt,q.AcroFormCheckBox=wt,q.AcroFormTextField=Nt,q.AcroFormPasswordField=Lt,q.AcroFormAppearance=At,q.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:At},E.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:At};function _t(je){return je.reduce(function($e,Ve,ze){return $e[Ve]=ze,$e},{})}(function(je){je.__addimage__={};var $e="UNKNOWN",Ve={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},ze=je.__addimage__.getImageFileTypeByImageData=function(pi,xi){var Si,vi,Di,Ti,Fi,Ci=$e;if((xi=xi||$e)==="RGBA"||pi.data!==void 0&&pi.data instanceof Uint8ClampedArray&&"height"in pi&&"width"in pi)return"RGBA";if(hi(pi))for(Fi in Ve)for(Di=Ve[Fi],Si=0;Si<Di.length;Si+=1){for(Ti=!0,vi=0;vi<Di[Si].length;vi+=1)if(Di[Si][vi]!==void 0&&Di[Si][vi]!==pi[vi]){Ti=!1;break}if(Ti===!0){Ci=Fi;break}}else for(Fi in Ve)for(Di=Ve[Fi],Si=0;Si<Di.length;Si+=1){for(Ti=!0,vi=0;vi<Di[Si].length;vi+=1)if(Di[Si][vi]!==void 0&&Di[Si][vi]!==pi.charCodeAt(vi)){Ti=!1;break}if(Ti===!0){Ci=Fi;break}}return Ci===$e&&xi!==$e&&(Ci=xi),Ci},qe=function pi(xi){for(var Si=this.internal.write,vi=this.internal.putStream,Di=(0,this.internal.getFilters)();Di.indexOf("FlateEncode")!==-1;)Di.splice(Di.indexOf("FlateEncode"),1);xi.objectId=this.internal.newObject();var Ti=[];if(Ti.push({key:"Type",value:"/XObject"}),Ti.push({key:"Subtype",value:"/Image"}),Ti.push({key:"Width",value:xi.width}),Ti.push({key:"Height",value:xi.height}),xi.colorSpace===ai.INDEXED?Ti.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(xi.palette.length/3-1)+" "+("sMask"in xi&&xi.sMask!==void 0?xi.objectId+2:xi.objectId+1)+" 0 R]"}):(Ti.push({key:"ColorSpace",value:"/"+xi.colorSpace}),xi.colorSpace===ai.DEVICE_CMYK&&Ti.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ti.push({key:"BitsPerComponent",value:xi.bitsPerComponent}),"decodeParameters"in xi&&xi.decodeParameters!==void 0&&Ti.push({key:"DecodeParms",value:"<<"+xi.decodeParameters+">>"}),"transparency"in xi&&Array.isArray(xi.transparency)){for(var Fi="",Ci=0,Ni=xi.transparency.length;Ci<Ni;Ci++)Fi+=xi.transparency[Ci]+" "+xi.transparency[Ci]+" ";Ti.push({key:"Mask",value:"["+Fi+"]"})}xi.sMask!==void 0&&Ti.push({key:"SMask",value:xi.objectId+1+" 0 R"});var Ri=xi.filter!==void 0?["/"+xi.filter]:void 0;if(vi({data:xi.data,additionalKeyValues:Ti,alreadyAppliedFilters:Ri,objectId:xi.objectId}),Si("endobj"),"sMask"in xi&&xi.sMask!==void 0){var Yi="/Predictor "+xi.predictor+" /Colors 1 /BitsPerComponent "+xi.bitsPerComponent+" /Columns "+xi.width,ki={width:xi.width,height:xi.height,colorSpace:"DeviceGray",bitsPerComponent:xi.bitsPerComponent,decodeParameters:Yi,data:xi.sMask};"filter"in xi&&(ki.filter=xi.filter),pi.call(this,ki)}if(xi.colorSpace===ai.INDEXED){var ji=this.internal.newObject();vi({data:di(new Uint8Array(xi.palette)),objectId:ji}),Si("endobj")}},Xe=function(){var pi=this.internal.collections.addImage_images;for(var xi in pi)qe.call(this,pi[xi])},We=function(){var pi,xi=this.internal.collections.addImage_images,Si=this.internal.write;for(var vi in xi)Si("/I"+(pi=xi[vi]).index,pi.objectId,"0","R")},Ke=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",Xe),this.internal.events.subscribe("putXobjectDict",We))},Je=function(){var pi=this.internal.collections.addImage_images;return Ke.call(this),pi},Ze=function(){return Object.keys(this.internal.collections.addImage_images).length},Qe=function(pi){return typeof je["process"+pi.toUpperCase()]=="function"},St=function(pi){return _typeof(pi)==="object"&&pi.nodeType===1},ei=function(pi,xi){if(pi.nodeName==="IMG"&&pi.hasAttribute("src")){var Si=""+pi.getAttribute("src");if(Si.indexOf("data:image/")===0)return u(unescape(Si).split("base64,").pop());var vi=je.loadFile(Si,!0);if(vi!==void 0)return vi}if(pi.nodeName==="CANVAS"){if(pi.width===0||pi.height===0)throw new Error("Given canvas must have data. Canvas width: "+pi.width+", height: "+pi.height);var Di;switch(xi){case"PNG":Di="image/png";break;case"WEBP":Di="image/webp";break;case"JPEG":case"JPG":default:Di="image/jpeg"}return u(pi.toDataURL(Di,1).split("base64,").pop())}},ti=function(pi){var xi=this.internal.collections.addImage_images;if(xi){for(var Si in xi)if(pi===xi[Si].alias)return xi[Si]}},ni=function(pi,xi,Si){return pi||xi||(pi=-96,xi=-96),pi<0&&(pi=-1*Si.width*72/pi/this.internal.scaleFactor),xi<0&&(xi=-1*Si.height*72/xi/this.internal.scaleFactor),pi===0&&(pi=xi*Si.width/Si.height),xi===0&&(xi=pi*Si.height/Si.width),[pi,xi]},oi=function(pi,xi,Si,vi,Di,Ti){var Fi=ni.call(this,Si,vi,Di),Ci=this.internal.getCoordinateString,Ni=this.internal.getVerticalCoordinateString,Ri=Je.call(this);if(Si=Fi[0],vi=Fi[1],Ri[Di.index]=Di,Ti){Ti*=Math.PI/180;var Yi=Math.cos(Ti),ki=Math.sin(Ti),ji=function(Bi){return Bi.toFixed(4)},Vi=[ji(Yi),ji(ki),ji(-1*ki),ji(Yi),0,0,"cm"]}this.internal.write("q"),Ti?(this.internal.write([1,"0","0",1,Ci(pi),Ni(xi+vi),"cm"].join(" ")),this.internal.write(Vi.join(" ")),this.internal.write([Ci(Si),"0","0",Ci(vi),"0","0","cm"].join(" "))):this.internal.write([Ci(Si),"0","0",Ci(vi),Ci(pi),Ni(xi+vi),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Di.index+" Do"),this.internal.write("Q")},ai=je.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};je.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var si=je.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},ri=je.__addimage__.sHashCode=function(pi){var xi,Si,vi=0;if(typeof pi=="string")for(Si=pi.length,xi=0;xi<Si;xi++)vi=(vi<<5)-vi+pi.charCodeAt(xi),vi|=0;else if(hi(pi))for(Si=pi.byteLength/2,xi=0;xi<Si;xi++)vi=(vi<<5)-vi+pi[xi],vi|=0;return vi},ii=je.__addimage__.validateStringAsBase64=function(pi){(pi=pi||"").toString().trim();var xi=!0;return pi.length===0&&(xi=!1),pi.length%4!=0&&(xi=!1),/^[A-Za-z0-9+/]+$/.test(pi.substr(0,pi.length-2))===!1&&(xi=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(pi.substr(-2))===!1&&(xi=!1),xi},ui=je.__addimage__.extractImageFromDataUrl=function(pi){var xi=(pi=pi||"").split("base64,"),Si=null;if(xi.length===2){var vi=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(xi[0]);Array.isArray(vi)&&(Si={mimeType:vi[1],charset:vi[2],data:xi[1]})}return Si},ci=je.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};je.__addimage__.isArrayBuffer=function(pi){return ci()&&pi instanceof ArrayBuffer};var hi=je.__addimage__.isArrayBufferView=function(pi){return ci()&&typeof Uint32Array<"u"&&(pi instanceof Int8Array||pi instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&pi instanceof Uint8ClampedArray||pi instanceof Int16Array||pi instanceof Uint16Array||pi instanceof Int32Array||pi instanceof Uint32Array||pi instanceof Float32Array||pi instanceof Float64Array)},mi=je.__addimage__.binaryStringToUint8Array=function(pi){for(var xi=pi.length,Si=new Uint8Array(xi),vi=0;vi<xi;vi++)Si[vi]=pi.charCodeAt(vi);return Si},di=je.__addimage__.arrayBufferToBinaryString=function(pi){for(var xi="",Si=hi(pi)?pi:new Uint8Array(pi),vi=0;vi<Si.length;vi+=8192)xi+=String.fromCharCode.apply(null,Si.subarray(vi,vi+8192));return xi};je.addImage=function(){var pi,xi,Si,vi,Di,Ti,Fi,Ci,Ni;if(typeof arguments[1]=="number"?(xi=$e,Si=arguments[1],vi=arguments[2],Di=arguments[3],Ti=arguments[4],Fi=arguments[5],Ci=arguments[6],Ni=arguments[7]):(xi=arguments[1],Si=arguments[2],vi=arguments[3],Di=arguments[4],Ti=arguments[5],Fi=arguments[6],Ci=arguments[7],Ni=arguments[8]),_typeof(pi=arguments[0])==="object"&&!St(pi)&&"imageData"in pi){var Ri=pi;pi=Ri.imageData,xi=Ri.format||xi||$e,Si=Ri.x||Si||0,vi=Ri.y||vi||0,Di=Ri.w||Ri.width||Di,Ti=Ri.h||Ri.height||Ti,Fi=Ri.alias||Fi,Ci=Ri.compression||Ci,Ni=Ri.rotation||Ri.angle||Ni}var Yi=this.internal.getFilters();if(Ci===void 0&&Yi.indexOf("FlateEncode")!==-1&&(Ci="SLOW"),isNaN(Si)||isNaN(vi))throw new Error("Invalid coordinates passed to jsPDF.addImage");Ke.call(this);var ki=fi.call(this,pi,xi,Fi,Ci);return oi.call(this,Si,vi,Di,Ti,ki,Ni),this};var fi=function(pi,xi,Si,vi){var Di,Ti,Fi;if(typeof pi=="string"&&ze(pi)===$e){pi=unescape(pi);var Ci=yi(pi,!1);(Ci!==""||(Ci=je.loadFile(pi,!0))!==void 0)&&(pi=Ci)}if(St(pi)&&(pi=ei(pi,xi)),xi=ze(pi,xi),!Qe(xi))throw new Error("addImage does not support files of type '"+xi+"', please ensure that a plugin for '"+xi+"' support is added.");if(((Fi=Si)==null||Fi.length===0)&&(Si=function(Ni){return typeof Ni=="string"||hi(Ni)?ri(Ni):hi(Ni.data)?ri(Ni.data):null}(pi)),(Di=ti.call(this,Si))||(ci()&&(pi instanceof Uint8Array||xi==="RGBA"||(Ti=pi,pi=mi(pi))),Di=this["process"+xi.toUpperCase()](pi,Ze.call(this),Si,function(Ni){return Ni&&typeof Ni=="string"&&(Ni=Ni.toUpperCase()),Ni in je.image_compression?Ni:si.NONE}(vi),Ti)),!Di)throw new Error("An unknown error occurred whilst processing the image.");return Di},yi=je.__addimage__.convertBase64ToBinaryString=function(pi,xi){var Si;xi=typeof xi!="boolean"||xi;var vi,Di="";if(typeof pi=="string"){vi=(Si=ui(pi))!==null?Si.data:pi;try{Di=u(vi)}catch(Ti){if(xi)throw ii(vi)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ti.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Di};je.getImageProperties=function(pi){var xi,Si,vi="";if(St(pi)&&(pi=ei(pi)),typeof pi=="string"&&ze(pi)===$e&&((vi=yi(pi,!1))===""&&(vi=je.loadFile(pi)||""),pi=vi),Si=ze(pi),!Qe(Si))throw new Error("addImage does not support files of type '"+Si+"', please ensure that a plugin for '"+Si+"' support is added.");if(!ci()||pi instanceof Uint8Array||(pi=mi(pi)),!(xi=this["process"+Si.toUpperCase()](pi)))throw new Error("An unknown error occurred whilst processing the image");return xi.fileType=Si,xi}})(E.API),function(je){var $e=function(Ve){if(Ve!==void 0&&Ve!="")return!0};E.API.events.push(["addPage",function(Ve){this.internal.getPageInfo(Ve.pageNumber).pageContext.annotations=[]}]),je.events.push(["putPage",function(Ve){for(var ze,qe,Xe,We=this.internal.getCoordinateString,Ke=this.internal.getVerticalCoordinateString,Je=this.internal.getPageInfoByObjId(Ve.objId),Ze=Ve.pageContext.annotations,Qe=!1,St=0;St<Ze.length&&!Qe;St++)switch((ze=Ze[St]).type){case"link":($e(ze.options.url)||$e(ze.options.pageNumber))&&(Qe=!0);break;case"reference":case"text":case"freetext":Qe=!0}if(Qe!=0){this.internal.write("/Annots [");for(var ei=0;ei<Ze.length;ei++){ze=Ze[ei];var ti=this.internal.pdfEscape,ni=this.internal.getEncryptor(Ve.objId);switch(ze.type){case"reference":this.internal.write(" "+ze.object.objId+" 0 R ");break;case"text":var oi=this.internal.newAdditionalObject(),ai=this.internal.newAdditionalObject(),si=this.internal.getEncryptor(oi.objId),ri=ze.title||"Note";Xe="<</Type /Annot /Subtype /Text "+(qe="/Rect ["+We(ze.bounds.x)+" "+Ke(ze.bounds.y+ze.bounds.h)+" "+We(ze.bounds.x+ze.bounds.w)+" "+Ke(ze.bounds.y)+"] ")+"/Contents ("+ti(si(ze.contents))+")",Xe+=" /Popup "+ai.objId+" 0 R",Xe+=" /P "+Je.objId+" 0 R",Xe+=" /T ("+ti(si(ri))+") >>",oi.content=Xe;var ii=oi.objId+" 0 R";Xe="<</Type /Annot /Subtype /Popup "+(qe="/Rect ["+We(ze.bounds.x+30)+" "+Ke(ze.bounds.y+ze.bounds.h)+" "+We(ze.bounds.x+ze.bounds.w+30)+" "+Ke(ze.bounds.y)+"] ")+" /Parent "+ii,ze.open&&(Xe+=" /Open true"),Xe+=" >>",ai.content=Xe,this.internal.write(oi.objId,"0 R",ai.objId,"0 R");break;case"freetext":qe="/Rect ["+We(ze.bounds.x)+" "+Ke(ze.bounds.y)+" "+We(ze.bounds.x+ze.bounds.w)+" "+Ke(ze.bounds.y+ze.bounds.h)+"] ";var ui=ze.color||"#000000";Xe="<</Type /Annot /Subtype /FreeText "+qe+"/Contents ("+ti(ni(ze.contents))+")",Xe+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+ui+")",Xe+=" /Border [0 0 0]",Xe+=" >>",this.internal.write(Xe);break;case"link":if(ze.options.name){var ci=this.annotations._nameMap[ze.options.name];ze.options.pageNumber=ci.page,ze.options.top=ci.y}else ze.options.top||(ze.options.top=0);if(qe="/Rect ["+ze.finalBounds.x+" "+ze.finalBounds.y+" "+ze.finalBounds.w+" "+ze.finalBounds.h+"] ",Xe="",ze.options.url)Xe="<</Type /Annot /Subtype /Link "+qe+"/Border [0 0 0] /A <</S /URI /URI ("+ti(ni(ze.options.url))+") >>";else if(ze.options.pageNumber)switch(Xe="<</Type /Annot /Subtype /Link "+qe+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(ze.options.pageNumber).objId+" 0 R",ze.options.magFactor=ze.options.magFactor||"XYZ",ze.options.magFactor){case"Fit":Xe+=" /Fit]";break;case"FitH":Xe+=" /FitH "+ze.options.top+"]";break;case"FitV":ze.options.left=ze.options.left||0,Xe+=" /FitV "+ze.options.left+"]";break;case"XYZ":default:var hi=Ke(ze.options.top);ze.options.left=ze.options.left||0,ze.options.zoom===void 0&&(ze.options.zoom=0),Xe+=" /XYZ "+ze.options.left+" "+hi+" "+ze.options.zoom+"]"}Xe!=""&&(Xe+=" >>",this.internal.write(Xe))}}this.internal.write("]")}}]),je.createAnnotation=function(Ve){var ze=this.internal.getCurrentPageInfo();switch(Ve.type){case"link":this.link(Ve.bounds.x,Ve.bounds.y,Ve.bounds.w,Ve.bounds.h,Ve);break;case"text":case"freetext":ze.pageContext.annotations.push(Ve)}},je.link=function(Ve,ze,qe,Xe,We){var Ke=this.internal.getCurrentPageInfo(),Je=this.internal.getCoordinateString,Ze=this.internal.getVerticalCoordinateString;Ke.pageContext.annotations.push({finalBounds:{x:Je(Ve),y:Ze(ze),w:Je(Ve+qe),h:Ze(ze+Xe)},options:We,type:"link"})},je.textWithLink=function(Ve,ze,qe,Xe){var We,Ke,Je=this.getTextWidth(Ve),Ze=this.internal.getLineHeight()/this.internal.scaleFactor;if(Xe.maxWidth!==void 0){Ke=Xe.maxWidth;var Qe=this.splitTextToSize(Ve,Ke).length;We=Math.ceil(Ze*Qe)}else Ke=Je,We=Ze;return this.text(Ve,ze,qe,Xe),qe+=.2*Ze,Xe.align==="center"&&(ze-=Je/2),Xe.align==="right"&&(ze-=Je),this.link(ze,qe-Ze,Ke,We,Xe),Je},je.getTextWidth=function(Ve){var ze=this.internal.getFontSize();return this.getStringUnitWidth(Ve)*ze/this.internal.scaleFactor}}(E.API),function(je){var $e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},Ve={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},ze={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},qe=[1570,1571,1573,1575];je.__arabicParser__={};var Xe=je.__arabicParser__.isInArabicSubstitutionA=function(oi){return $e[oi.charCodeAt(0)]!==void 0},We=je.__arabicParser__.isArabicLetter=function(oi){return typeof oi=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(oi)},Ke=je.__arabicParser__.isArabicEndLetter=function(oi){return We(oi)&&Xe(oi)&&$e[oi.charCodeAt(0)].length<=2},Je=je.__arabicParser__.isArabicAlfLetter=function(oi){return We(oi)&&qe.indexOf(oi.charCodeAt(0))>=0};je.__arabicParser__.arabicLetterHasIsolatedForm=function(oi){return We(oi)&&Xe(oi)&&$e[oi.charCodeAt(0)].length>=1};var Ze=je.__arabicParser__.arabicLetterHasFinalForm=function(oi){return We(oi)&&Xe(oi)&&$e[oi.charCodeAt(0)].length>=2};je.__arabicParser__.arabicLetterHasInitialForm=function(oi){return We(oi)&&Xe(oi)&&$e[oi.charCodeAt(0)].length>=3};var Qe=je.__arabicParser__.arabicLetterHasMedialForm=function(oi){return We(oi)&&Xe(oi)&&$e[oi.charCodeAt(0)].length==4},St=je.__arabicParser__.resolveLigatures=function(oi){var ai=0,si=Ve,ri="",ii=0;for(ai=0;ai<oi.length;ai+=1)si[oi.charCodeAt(ai)]!==void 0?(ii++,typeof(si=si[oi.charCodeAt(ai)])=="number"&&(ri+=String.fromCharCode(si),si=Ve,ii=0),ai===oi.length-1&&(si=Ve,ri+=oi.charAt(ai-(ii-1)),ai-=ii-1,ii=0)):(si=Ve,ri+=oi.charAt(ai-ii),ai-=ii,ii=0);return ri};je.__arabicParser__.isArabicDiacritic=function(oi){return oi!==void 0&&ze[oi.charCodeAt(0)]!==void 0};var ei=je.__arabicParser__.getCorrectForm=function(oi,ai,si){return We(oi)?Xe(oi)===!1?-1:!Ze(oi)||!We(ai)&&!We(si)||!We(si)&&Ke(ai)||Ke(oi)&&!We(ai)||Ke(oi)&&Je(ai)||Ke(oi)&&Ke(ai)?0:Qe(oi)&&We(ai)&&!Ke(ai)&&We(si)&&Ze(si)?3:Ke(oi)||!We(si)?1:2:-1},ti=function(oi){var ai=0,si=0,ri=0,ii="",ui="",ci="",hi=(oi=oi||"").split("\\s+"),mi=[];for(ai=0;ai<hi.length;ai+=1){for(mi.push(""),si=0;si<hi[ai].length;si+=1)ii=hi[ai][si],ui=hi[ai][si-1],ci=hi[ai][si+1],We(ii)?(ri=ei(ii,ui,ci),mi[ai]+=ri!==-1?String.fromCharCode($e[ii.charCodeAt(0)][ri]):ii):mi[ai]+=ii;mi[ai]=St(mi[ai])}return mi.join(" ")},ni=je.__arabicParser__.processArabic=je.processArabic=function(){var oi,ai=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,si=[];if(Array.isArray(ai)){var ri=0;for(si=[],ri=0;ri<ai.length;ri+=1)Array.isArray(ai[ri])?si.push([ti(ai[ri][0]),ai[ri][1],ai[ri][2]]):si.push([ti(ai[ri])]);oi=si}else oi=ti(ai);return typeof arguments[0]=="string"?oi:(arguments[0].text=oi,arguments[0])};je.events.push(["preProcessText",ni])}(E.API),E.API.autoPrint=function(je){var $e;switch((je=je||{}).variant=je.variant||"non-conform",je.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){$e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+$e+" 0 R")})}return this},function(je){var $e=function(){var Ve=void 0;Object.defineProperty(this,"pdf",{get:function(){return Ve},set:function(Ke){Ve=Ke}});var ze=150;Object.defineProperty(this,"width",{get:function(){return ze},set:function(Ke){ze=isNaN(Ke)||Number.isInteger(Ke)===!1||Ke<0?150:Ke,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=ze+1)}});var qe=300;Object.defineProperty(this,"height",{get:function(){return qe},set:function(Ke){qe=isNaN(Ke)||Number.isInteger(Ke)===!1||Ke<0?300:Ke,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=qe+1)}});var Xe=[];Object.defineProperty(this,"childNodes",{get:function(){return Xe},set:function(Ke){Xe=Ke}});var We={};Object.defineProperty(this,"style",{get:function(){return We},set:function(Ke){We=Ke}}),Object.defineProperty(this,"parentNode",{})};$e.prototype.getContext=function(Ve,ze){var qe;if((Ve=Ve||"2d")!=="2d")return null;for(qe in ze)this.pdf.context2d.hasOwnProperty(qe)&&(this.pdf.context2d[qe]=ze[qe]);return this.pdf.context2d._canvas=this,this.pdf.context2d},$e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},je.events.push(["initialized",function(){this.canvas=new $e,this.canvas.pdf=this}])}(E.API),function(je){var $e={left:0,top:0,bottom:0,right:0},Ve=!1,ze=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},$e),this.internal.__cell__.margins.width=this.getPageWidth(),qe.call(this))},qe=function(){this.internal.__cell__.lastCell=new Xe,this.internal.__cell__.pages=1},Xe=function(){var Je=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Je},set:function(oi){Je=oi}});var Ze=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ze},set:function(oi){Ze=oi}});var Qe=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return Qe},set:function(oi){Qe=oi}});var St=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return St},set:function(oi){St=oi}});var ei=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return ei},set:function(oi){ei=oi}});var ti=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return ti},set:function(oi){ti=oi}});var ni=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return ni},set:function(oi){ni=oi}}),this};Xe.prototype.clone=function(){return new Xe(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},Xe.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},je.setHeaderFunction=function(Je){return ze.call(this),this.internal.__cell__.headerFunction=typeof Je=="function"?Je:void 0,this},je.getTextDimensions=function(Je,Ze){ze.call(this);var Qe=(Ze=Ze||{}).fontSize||this.getFontSize(),St=Ze.font||this.getFont(),ei=Ze.scaleFactor||this.internal.scaleFactor,ti=0,ni=0,oi=0,ai=this;if(!Array.isArray(Je)&&typeof Je!="string"){if(typeof Je!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");Je=String(Je)}var si=Ze.maxWidth;si>0?typeof Je=="string"?Je=this.splitTextToSize(Je,si):Object.prototype.toString.call(Je)==="[object Array]"&&(Je=Je.reduce(function(ii,ui){return ii.concat(ai.splitTextToSize(ui,si))},[])):Je=Array.isArray(Je)?Je:[Je];for(var ri=0;ri<Je.length;ri++)ti<(oi=this.getStringUnitWidth(Je[ri],{font:St})*Qe)&&(ti=oi);return ti!==0&&(ni=Je.length),{w:ti/=ei,h:Math.max((ni*Qe*this.getLineHeightFactor()-Qe*(this.getLineHeightFactor()-1))/ei,0)}},je.cellAddPage=function(){ze.call(this),this.addPage();var Je=this.internal.__cell__.margins||$e;return this.internal.__cell__.lastCell=new Xe(Je.left,Je.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var We=je.cell=function(){var Je;Je=arguments[0]instanceof Xe?arguments[0]:new Xe(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),ze.call(this);var Ze=this.internal.__cell__.lastCell,Qe=this.internal.__cell__.padding,St=this.internal.__cell__.margins||$e,ei=this.internal.__cell__.tableHeaderRow,ti=this.internal.__cell__.printHeaders;return Ze.lineNumber!==void 0&&(Ze.lineNumber===Je.lineNumber?(Je.x=(Ze.x||0)+(Ze.width||0),Je.y=Ze.y||0):Ze.y+Ze.height+Je.height+St.bottom>this.getPageHeight()?(this.cellAddPage(),Je.y=St.top,ti&&ei&&(this.printHeaderRow(Je.lineNumber,!0),Je.y+=ei[0].height)):Je.y=Ze.y+Ze.height||Je.y),Je.text[0]!==void 0&&(this.rect(Je.x,Je.y,Je.width,Je.height,Ve===!0?"FD":void 0),Je.align==="right"?this.text(Je.text,Je.x+Je.width-Qe,Je.y+Qe,{align:"right",baseline:"top"}):Je.align==="center"?this.text(Je.text,Je.x+Je.width/2,Je.y+Qe,{align:"center",baseline:"top",maxWidth:Je.width-Qe-Qe}):this.text(Je.text,Je.x+Qe,Je.y+Qe,{align:"left",baseline:"top",maxWidth:Je.width-Qe-Qe})),this.internal.__cell__.lastCell=Je,this};je.table=function(Je,Ze,Qe,St,ei){if(ze.call(this),!Qe)throw new Error("No data for PDF table.");var ti,ni,oi,ai,si=[],ri=[],ii=[],ui={},ci={},hi=[],mi=[],di=(ei=ei||{}).autoSize||!1,fi=ei.printHeaders!==!1,yi=ei.css&&ei.css["font-size"]!==void 0?16*ei.css["font-size"]:ei.fontSize||12,pi=ei.margins||Object.assign({width:this.getPageWidth()},$e),xi=typeof ei.padding=="number"?ei.padding:3,Si=ei.headerBackgroundColor||"#c8c8c8",vi=ei.headerTextColor||"#000";if(qe.call(this),this.internal.__cell__.printHeaders=fi,this.internal.__cell__.margins=pi,this.internal.__cell__.table_font_size=yi,this.internal.__cell__.padding=xi,this.internal.__cell__.headerBackgroundColor=Si,this.internal.__cell__.headerTextColor=vi,this.setFontSize(yi),St==null)ri=si=Object.keys(Qe[0]),ii=si.map(function(){return"left"});else if(Array.isArray(St)&&_typeof(St[0])==="object")for(si=St.map(function(Ri){return Ri.name}),ri=St.map(function(Ri){return Ri.prompt||Ri.name||""}),ii=St.map(function(Ri){return Ri.align||"left"}),ti=0;ti<St.length;ti+=1)ci[St[ti].name]=St[ti].width*(19.049976/25.4);else Array.isArray(St)&&typeof St[0]=="string"&&(ri=si=St,ii=si.map(function(){return"left"}));if(di||Array.isArray(St)&&typeof St[0]=="string")for(ti=0;ti<si.length;ti+=1){for(ui[ai=si[ti]]=Qe.map(function(Ri){return Ri[ai]}),this.setFont(void 0,"bold"),hi.push(this.getTextDimensions(ri[ti],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),ni=ui[ai],this.setFont(void 0,"normal"),oi=0;oi<ni.length;oi+=1)hi.push(this.getTextDimensions(ni[oi],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ci[ai]=Math.max.apply(null,hi)+xi+xi,hi=[]}if(fi){var Di={};for(ti=0;ti<si.length;ti+=1)Di[si[ti]]={},Di[si[ti]].text=ri[ti],Di[si[ti]].align=ii[ti];var Ti=Ke.call(this,Di,ci);mi=si.map(function(Ri){return new Xe(Je,Ze,ci[Ri],Ti,Di[Ri].text,void 0,Di[Ri].align)}),this.setTableHeaderRow(mi),this.printHeaderRow(1,!1)}var Fi=St.reduce(function(Ri,Yi){return Ri[Yi.name]=Yi.align,Ri},{});for(ti=0;ti<Qe.length;ti+=1){"rowStart"in ei&&ei.rowStart instanceof Function&&ei.rowStart({row:ti,data:Qe[ti]},this);var Ci=Ke.call(this,Qe[ti],ci);for(oi=0;oi<si.length;oi+=1){var Ni=Qe[ti][si[oi]];"cellStart"in ei&&ei.cellStart instanceof Function&&ei.cellStart({row:ti,col:oi,data:Ni},this),We.call(this,new Xe(Je,Ze,ci[si[oi]],Ci,Ni,ti+2,Fi[si[oi]]))}}return this.internal.__cell__.table_x=Je,this.internal.__cell__.table_y=Ze,this};var Ke=function(Je,Ze){var Qe=this.internal.__cell__.padding,St=this.internal.__cell__.table_font_size,ei=this.internal.scaleFactor;return Object.keys(Je).map(function(ti){var ni=Je[ti];return this.splitTextToSize(ni.hasOwnProperty("text")?ni.text:ni,Ze[ti]-Qe-Qe)},this).map(function(ti){return this.getLineHeightFactor()*ti.length*St/ei+Qe+Qe},this).reduce(function(ti,ni){return Math.max(ti,ni)},0)};je.setTableHeaderRow=function(Je){ze.call(this),this.internal.__cell__.tableHeaderRow=Je},je.printHeaderRow=function(Je,Ze){if(ze.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var Qe;if(Ve=!0,typeof this.internal.__cell__.headerFunction=="function"){var St=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new Xe(St[0],St[1],St[2],St[3],void 0,-1)}this.setFont(void 0,"bold");for(var ei=[],ti=0;ti<this.internal.__cell__.tableHeaderRow.length;ti+=1){Qe=this.internal.__cell__.tableHeaderRow[ti].clone(),Ze&&(Qe.y=this.internal.__cell__.margins.top||0,ei.push(Qe)),Qe.lineNumber=Je;var ni=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),We.call(this,Qe),this.setTextColor(ni)}ei.length>0&&this.setTableHeaderRow(ei),this.setFont(void 0,"normal"),Ve=!1}}(E.API);var Pt={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kt=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],It=_t(kt),Ft=[100,200,300,400,500,600,700,800,900],Ct=_t(Ft);function jt(je){var $e=je.family.replace(/"|'/g,"").toLowerCase(),Ve=function(Xe){return Pt[Xe=Xe||"normal"]?Xe:"normal"}(je.style),ze=function(Xe){if(!Xe)return 400;if(typeof Xe=="number")return Xe>=100&&Xe<=900&&Xe%100==0?Xe:400;if(/^\d00$/.test(Xe))return parseInt(Xe);switch(Xe){case"bold":return 700;case"normal":default:return 400}}(je.weight),qe=function(Xe){return typeof It[Xe=Xe||"normal"]=="number"?Xe:"normal"}(je.stretch);return{family:$e,style:Ve,weight:ze,stretch:qe,src:je.src||[],ref:je.ref||{name:$e,style:[qe,Ve,ze].join(" ")}}}function Ot(je,$e,Ve,ze){var qe;for(qe=Ve;qe>=0&&qe<$e.length;qe+=ze)if(je[$e[qe]])return je[$e[qe]];for(qe=Ve;qe>=0&&qe<$e.length;qe-=ze)if(je[$e[qe]])return je[$e[qe]]}var Bt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Mt={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Et(je){return[je.stretch,je.style,je.weight,je.family].join(" ")}function qt(je,$e,Ve){for(var ze=(Ve=Ve||{}).defaultFontFamily||"times",qe=Object.assign({},Bt,Ve.genericFontFamilies||{}),Xe=null,We=null,Ke=0;Ke<$e.length;++Ke)if(qe[(Xe=jt($e[Ke])).family]&&(Xe.family=qe[Xe.family]),je.hasOwnProperty(Xe.family)){We=je[Xe.family];break}if(!(We=We||je[ze]))throw new Error("Could not find a font-family for the rule '"+Et(Xe)+"' and default family '"+ze+"'.");if(We=function(Je,Ze){if(Ze[Je])return Ze[Je];var Qe=It[Je],St=Qe<=It.normal?-1:1,ei=Ot(Ze,kt,Qe,St);if(!ei)throw new Error("Could not find a matching font-stretch value for "+Je);return ei}(Xe.stretch,We),We=function(Je,Ze){if(Ze[Je])return Ze[Je];for(var Qe=Pt[Je],St=0;St<Qe.length;++St)if(Ze[Qe[St]])return Ze[Qe[St]];throw new Error("Could not find a matching font-style for "+Je)}(Xe.style,We),!(We=function(Je,Ze){if(Ze[Je])return Ze[Je];if(Je===400&&Ze[500])return Ze[500];if(Je===500&&Ze[400])return Ze[400];var Qe=Ct[Je],St=Ot(Ze,Ft,Qe,Je<400?-1:1);if(!St)throw new Error("Could not find a matching font-weight for value "+Je);return St}(Xe.weight,We)))throw new Error("Failed to resolve a font for the rule '"+Et(Xe)+"'.");return We}function Dt(je){return je.trimLeft()}function Rt(je,$e){for(var Ve=0;Ve<je.length;){if(je.charAt(Ve)===$e)return[je.substring(0,Ve),je.substring(Ve+1)];Ve+=1}return null}function Tt(je){var $e=je.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return $e===null?null:[$e[0],je.substring($e[0].length)]}var Ut,zt,Ht,Wt=["times"];(function(je){var $e,Ve,ze,qe,Xe,We,Ke,Je,Ze,Qe=function(ki){return ki=ki||{},this.isStrokeTransparent=ki.isStrokeTransparent||!1,this.strokeOpacity=ki.strokeOpacity||1,this.strokeStyle=ki.strokeStyle||"#000000",this.fillStyle=ki.fillStyle||"#000000",this.isFillTransparent=ki.isFillTransparent||!1,this.fillOpacity=ki.fillOpacity||1,this.font=ki.font||"10px sans-serif",this.textBaseline=ki.textBaseline||"alphabetic",this.textAlign=ki.textAlign||"left",this.lineWidth=ki.lineWidth||1,this.lineJoin=ki.lineJoin||"miter",this.lineCap=ki.lineCap||"butt",this.path=ki.path||[],this.transform=ki.transform!==void 0?ki.transform.clone():new Je,this.globalCompositeOperation=ki.globalCompositeOperation||"normal",this.globalAlpha=ki.globalAlpha||1,this.clip_path=ki.clip_path||[],this.currentPoint=ki.currentPoint||new We,this.miterLimit=ki.miterLimit||10,this.lastPoint=ki.lastPoint||new We,this.lineDashOffset=ki.lineDashOffset||0,this.lineDash=ki.lineDash||[],this.margin=ki.margin||[0,0,0,0],this.prevPageLastElemOffset=ki.prevPageLastElemOffset||0,this.ignoreClearRect=typeof ki.ignoreClearRect!="boolean"||ki.ignoreClearRect,this};je.events.push(["initialized",function(){this.context2d=new St(this),$e=this.internal.f2,Ve=this.internal.getCoordinateString,ze=this.internal.getVerticalCoordinateString,qe=this.internal.getHorizontalCoordinate,Xe=this.internal.getVerticalCoordinate,We=this.internal.Point,Ke=this.internal.Rectangle,Je=this.internal.Matrix,Ze=new Qe}]);var St=function(ki){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var ji=ki;Object.defineProperty(this,"pdf",{get:function(){return ji}});var Vi=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Vi},set:function(Ii){Vi=!!Ii}});var Bi=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Bi},set:function(Ii){Bi=!!Ii}});var Xi=0;Object.defineProperty(this,"posX",{get:function(){return Xi},set:function(Ii){isNaN(Ii)||(Xi=Ii)}});var en=0;Object.defineProperty(this,"posY",{get:function(){return en},set:function(Ii){isNaN(Ii)||(en=Ii)}}),Object.defineProperty(this,"margin",{get:function(){return Ze.margin},set:function(Ii){var Mi;typeof Ii=="number"?Mi=[Ii,Ii,Ii,Ii]:((Mi=new Array(4))[0]=Ii[0],Mi[1]=Ii.length>=2?Ii[1]:Mi[0],Mi[2]=Ii.length>=3?Ii[2]:Mi[0],Mi[3]=Ii.length>=4?Ii[3]:Mi[1]),Ze.margin=Mi}});var tn=!1;Object.defineProperty(this,"autoPaging",{get:function(){return tn},set:function(Ii){tn=Ii}});var Ji=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ji},set:function(Ii){Ji=Ii}});var Li=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Li},set:function(Ii){Li=Ii}}),Object.defineProperty(this,"ctx",{get:function(){return Ze},set:function(Ii){Ii instanceof Qe&&(Ze=Ii)}}),Object.defineProperty(this,"path",{get:function(){return Ze.path},set:function(Ii){Ze.path=Ii}});var wi=[];Object.defineProperty(this,"ctxStack",{get:function(){return wi},set:function(Ii){wi=Ii}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ii){var Mi;Mi=ei(Ii),this.ctx.fillStyle=Mi.style,this.ctx.isFillTransparent=Mi.a===0,this.ctx.fillOpacity=Mi.a,this.pdf.setFillColor(Mi.r,Mi.g,Mi.b,{a:Mi.a}),this.pdf.setTextColor(Mi.r,Mi.g,Mi.b,{a:Mi.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ii){var Mi=ei(Ii);this.ctx.strokeStyle=Mi.style,this.ctx.isStrokeTransparent=Mi.a===0,this.ctx.strokeOpacity=Mi.a,Mi.a===0?this.pdf.setDrawColor(255,255,255):(Mi.a,this.pdf.setDrawColor(Mi.r,Mi.g,Mi.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ii){["butt","round","square"].indexOf(Ii)!==-1&&(this.ctx.lineCap=Ii,this.pdf.setLineCap(Ii))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ii){isNaN(Ii)||(this.ctx.lineWidth=Ii,this.pdf.setLineWidth(Ii))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ii){["bevel","round","miter"].indexOf(Ii)!==-1&&(this.ctx.lineJoin=Ii,this.pdf.setLineJoin(Ii))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ii){isNaN(Ii)||(this.ctx.miterLimit=Ii,this.pdf.setMiterLimit(Ii))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ii){this.ctx.textBaseline=Ii}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ii){["right","end","center","left","start"].indexOf(Ii)!==-1&&(this.ctx.textAlign=Ii)}});var _i=null;function Ai(Ii,Mi){if(_i===null){var Gi=function(on){var Ui=[];return Object.keys(on).forEach(function(rn){on[rn].forEach(function(un){var dn=null;switch(un){case"bold":dn={family:rn,weight:"bold"};break;case"italic":dn={family:rn,style:"italic"};break;case"bolditalic":dn={family:rn,weight:"bold",style:"italic"};break;case"":case"normal":dn={family:rn}}dn!==null&&(dn.ref={name:rn,style:un},Ui.push(dn))})}),Ui}(Ii.getFontList());_i=function(on){for(var Ui={},rn=0;rn<on.length;++rn){var un=jt(on[rn]),dn=un.family,hn=un.stretch,Sn=un.style,fn=un.weight;Ui[dn]=Ui[dn]||{},Ui[dn][hn]=Ui[dn][hn]||{},Ui[dn][hn][Sn]=Ui[dn][hn][Sn]||{},Ui[dn][hn][Sn][fn]=un}return Ui}(Gi.concat(Mi))}return _i}var Oi=null;Object.defineProperty(this,"fontFaces",{get:function(){return Oi},set:function(Ii){_i=null,Oi=Ii}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ii){var Mi;if(this.ctx.font=Ii,(Mi=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ii))!==null){var Gi=Mi[1],on=(Mi[2],Mi[3]),Ui=Mi[4],rn=(Mi[5],Mi[6]),un=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ui)[2];Ui=Math.floor(un==="px"?parseFloat(Ui)*this.pdf.internal.scaleFactor:un==="em"?parseFloat(Ui)*this.pdf.getFontSize():parseFloat(Ui)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ui);var dn=function(yn){var An,sn,_n=[],Tn=yn.trim();if(Tn==="")return Wt;if(Tn in Mt)return[Mt[Tn]];for(;Tn!=="";){switch(sn=null,An=(Tn=Dt(Tn)).charAt(0)){case'"':case"'":sn=Rt(Tn.substring(1),An);break;default:sn=Tt(Tn)}if(sn===null||(_n.push(sn[0]),(Tn=Dt(sn[1]))!==""&&Tn.charAt(0)!==","))return Wt;Tn=Tn.replace(/^,/,"")}return _n}(rn);if(this.fontFaces){var hn=qt(Ai(this.pdf,this.fontFaces),dn.map(function(yn){return{family:yn,stretch:"normal",weight:on,style:Gi}}));this.pdf.setFont(hn.ref.name,hn.ref.style)}else{var Sn="";(on==="bold"||parseInt(on,10)>=700||Gi==="bold")&&(Sn="bold"),Gi==="italic"&&(Sn+="italic"),Sn.length===0&&(Sn="normal");for(var fn="",Pn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},zi=0;zi<dn.length;zi++){if(this.pdf.internal.getFont(dn[zi],Sn,{noFallback:!0,disableWarning:!0})!==void 0){fn=dn[zi];break}if(Sn==="bolditalic"&&this.pdf.internal.getFont(dn[zi],"bold",{noFallback:!0,disableWarning:!0})!==void 0)fn=dn[zi],Sn="bold";else if(this.pdf.internal.getFont(dn[zi],"normal",{noFallback:!0,disableWarning:!0})!==void 0){fn=dn[zi],Sn="normal";break}}if(fn===""){for(var En=0;En<dn.length;En++)if(Pn[dn[En]]){fn=Pn[dn[En]];break}}fn=fn===""?"Times":fn,this.pdf.setFont(fn,Sn)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ii){this.ctx.globalCompositeOperation=Ii}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ii){this.ctx.globalAlpha=Ii}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ii){this.ctx.lineDashOffset=Ii,Yi.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ii){this.ctx.lineDash=Ii,Yi.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ii){this.ctx.ignoreClearRect=!!Ii}})};St.prototype.setLineDash=function(ki){this.lineDash=ki},St.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},St.prototype.fill=function(){ui.call(this,"fill",!1)},St.prototype.stroke=function(){ui.call(this,"stroke",!1)},St.prototype.beginPath=function(){this.path=[{type:"begin"}]},St.prototype.moveTo=function(ki,ji){if(isNaN(ki)||isNaN(ji))throw a.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Vi=this.ctx.transform.applyToPoint(new We(ki,ji));this.path.push({type:"mt",x:Vi.x,y:Vi.y}),this.ctx.lastPoint=new We(ki,ji)},St.prototype.closePath=function(){var ki=new We(0,0),ji=0;for(ji=this.path.length-1;ji!==-1;ji--)if(this.path[ji].type==="begin"&&_typeof(this.path[ji+1])==="object"&&typeof this.path[ji+1].x=="number"){ki=new We(this.path[ji+1].x,this.path[ji+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new We(ki.x,ki.y)},St.prototype.lineTo=function(ki,ji){if(isNaN(ki)||isNaN(ji))throw a.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Vi=this.ctx.transform.applyToPoint(new We(ki,ji));this.path.push({type:"lt",x:Vi.x,y:Vi.y}),this.ctx.lastPoint=new We(Vi.x,Vi.y)},St.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),ui.call(this,null,!0)},St.prototype.quadraticCurveTo=function(ki,ji,Vi,Bi){if(isNaN(Vi)||isNaN(Bi)||isNaN(ki)||isNaN(ji))throw a.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Xi=this.ctx.transform.applyToPoint(new We(Vi,Bi)),en=this.ctx.transform.applyToPoint(new We(ki,ji));this.path.push({type:"qct",x1:en.x,y1:en.y,x:Xi.x,y:Xi.y}),this.ctx.lastPoint=new We(Xi.x,Xi.y)},St.prototype.bezierCurveTo=function(ki,ji,Vi,Bi,Xi,en){if(isNaN(Xi)||isNaN(en)||isNaN(ki)||isNaN(ji)||isNaN(Vi)||isNaN(Bi))throw a.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var tn=this.ctx.transform.applyToPoint(new We(Xi,en)),Ji=this.ctx.transform.applyToPoint(new We(ki,ji)),Li=this.ctx.transform.applyToPoint(new We(Vi,Bi));this.path.push({type:"bct",x1:Ji.x,y1:Ji.y,x2:Li.x,y2:Li.y,x:tn.x,y:tn.y}),this.ctx.lastPoint=new We(tn.x,tn.y)},St.prototype.arc=function(ki,ji,Vi,Bi,Xi,en){if(isNaN(ki)||isNaN(ji)||isNaN(Vi)||isNaN(Bi)||isNaN(Xi))throw a.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(en=!!en,!this.ctx.transform.isIdentity){var tn=this.ctx.transform.applyToPoint(new We(ki,ji));ki=tn.x,ji=tn.y;var Ji=this.ctx.transform.applyToPoint(new We(0,Vi)),Li=this.ctx.transform.applyToPoint(new We(0,0));Vi=Math.sqrt(Math.pow(Ji.x-Li.x,2)+Math.pow(Ji.y-Li.y,2))}Math.abs(Xi-Bi)>=2*Math.PI&&(Bi=0,Xi=2*Math.PI),this.path.push({type:"arc",x:ki,y:ji,radius:Vi,startAngle:Bi,endAngle:Xi,counterclockwise:en})},St.prototype.arcTo=function(ki,ji,Vi,Bi,Xi){throw new Error("arcTo not implemented.")},St.prototype.rect=function(ki,ji,Vi,Bi){if(isNaN(ki)||isNaN(ji)||isNaN(Vi)||isNaN(Bi))throw a.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(ki,ji),this.lineTo(ki+Vi,ji),this.lineTo(ki+Vi,ji+Bi),this.lineTo(ki,ji+Bi),this.lineTo(ki,ji),this.lineTo(ki+Vi,ji),this.lineTo(ki,ji)},St.prototype.fillRect=function(ki,ji,Vi,Bi){if(isNaN(ki)||isNaN(ji)||isNaN(Vi)||isNaN(Bi))throw a.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!ti.call(this)){var Xi={};this.lineCap!=="butt"&&(Xi.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Xi.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(ki,ji,Vi,Bi),this.fill(),Xi.hasOwnProperty("lineCap")&&(this.lineCap=Xi.lineCap),Xi.hasOwnProperty("lineJoin")&&(this.lineJoin=Xi.lineJoin)}},St.prototype.strokeRect=function(ki,ji,Vi,Bi){if(isNaN(ki)||isNaN(ji)||isNaN(Vi)||isNaN(Bi))throw a.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");ni.call(this)||(this.beginPath(),this.rect(ki,ji,Vi,Bi),this.stroke())},St.prototype.clearRect=function(ki,ji,Vi,Bi){if(isNaN(ki)||isNaN(ji)||isNaN(Vi)||isNaN(Bi))throw a.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(ki,ji,Vi,Bi))},St.prototype.save=function(ki){ki=typeof ki!="boolean"||ki;for(var ji=this.pdf.internal.getCurrentPageInfo().pageNumber,Vi=0;Vi<this.pdf.internal.getNumberOfPages();Vi++)this.pdf.setPage(Vi+1),this.pdf.internal.out("q");if(this.pdf.setPage(ji),ki){this.ctx.fontSize=this.pdf.internal.getFontSize();var Bi=new Qe(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Bi}},St.prototype.restore=function(ki){ki=typeof ki!="boolean"||ki;for(var ji=this.pdf.internal.getCurrentPageInfo().pageNumber,Vi=0;Vi<this.pdf.internal.getNumberOfPages();Vi++)this.pdf.setPage(Vi+1),this.pdf.internal.out("Q");this.pdf.setPage(ji),ki&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},St.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var ei=function(ki){var ji,Vi,Bi,Xi;if(ki.isCanvasGradient===!0&&(ki=ki.getColor()),!ki)return{r:0,g:0,b:0,a:0,style:ki};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(ki))ji=0,Vi=0,Bi=0,Xi=0;else{var en=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(ki);if(en!==null)ji=parseInt(en[1]),Vi=parseInt(en[2]),Bi=parseInt(en[3]),Xi=1;else if((en=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(ki))!==null)ji=parseInt(en[1]),Vi=parseInt(en[2]),Bi=parseInt(en[3]),Xi=parseFloat(en[4]);else{if(Xi=1,typeof ki=="string"&&ki.charAt(0)!=="#"){var tn=new f(ki);ki=tn.ok?tn.toHex():"#000000"}ki.length===4?(ji=ki.substring(1,2),ji+=ji,Vi=ki.substring(2,3),Vi+=Vi,Bi=ki.substring(3,4),Bi+=Bi):(ji=ki.substring(1,3),Vi=ki.substring(3,5),Bi=ki.substring(5,7)),ji=parseInt(ji,16),Vi=parseInt(Vi,16),Bi=parseInt(Bi,16)}}return{r:ji,g:Vi,b:Bi,a:Xi,style:ki}},ti=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},ni=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};St.prototype.fillText=function(ki,ji,Vi,Bi){if(isNaN(ji)||isNaN(Vi)||typeof ki!="string")throw a.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Bi=isNaN(Bi)?void 0:Bi,!ti.call(this)){var Xi=Ci(this.ctx.transform.rotation),en=this.ctx.transform.scaleX;xi.call(this,{text:ki,x:ji,y:Vi,scale:en,angle:Xi,align:this.textAlign,maxWidth:Bi})}},St.prototype.strokeText=function(ki,ji,Vi,Bi){if(isNaN(ji)||isNaN(Vi)||typeof ki!="string")throw a.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!ni.call(this)){Bi=isNaN(Bi)?void 0:Bi;var Xi=Ci(this.ctx.transform.rotation),en=this.ctx.transform.scaleX;xi.call(this,{text:ki,x:ji,y:Vi,scale:en,renderingMode:"stroke",angle:Xi,align:this.textAlign,maxWidth:Bi})}},St.prototype.measureText=function(ki){if(typeof ki!="string")throw a.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var ji=this.pdf,Vi=this.pdf.internal.scaleFactor,Bi=ji.internal.getFontSize(),Xi=ji.getStringUnitWidth(ki)*Bi/ji.internal.scaleFactor,en=function(tn){var Ji=(tn=tn||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ji}}),this};return new en({width:Xi*=Math.round(96*Vi/72*1e4)/1e4})},St.prototype.scale=function(ki,ji){if(isNaN(ki)||isNaN(ji))throw a.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Vi=new Je(ki,0,0,ji,0,0);this.ctx.transform=this.ctx.transform.multiply(Vi)},St.prototype.rotate=function(ki){if(isNaN(ki))throw a.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var ji=new Je(Math.cos(ki),Math.sin(ki),-Math.sin(ki),Math.cos(ki),0,0);this.ctx.transform=this.ctx.transform.multiply(ji)},St.prototype.translate=function(ki,ji){if(isNaN(ki)||isNaN(ji))throw a.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Vi=new Je(1,0,0,1,ki,ji);this.ctx.transform=this.ctx.transform.multiply(Vi)},St.prototype.transform=function(ki,ji,Vi,Bi,Xi,en){if(isNaN(ki)||isNaN(ji)||isNaN(Vi)||isNaN(Bi)||isNaN(Xi)||isNaN(en))throw a.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var tn=new Je(ki,ji,Vi,Bi,Xi,en);this.ctx.transform=this.ctx.transform.multiply(tn)},St.prototype.setTransform=function(ki,ji,Vi,Bi,Xi,en){ki=isNaN(ki)?1:ki,ji=isNaN(ji)?0:ji,Vi=isNaN(Vi)?0:Vi,Bi=isNaN(Bi)?1:Bi,Xi=isNaN(Xi)?0:Xi,en=isNaN(en)?0:en,this.ctx.transform=new Je(ki,ji,Vi,Bi,Xi,en)};var oi=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};St.prototype.drawImage=function(ki,ji,Vi,Bi,Xi,en,tn,Ji,Li){var wi=this.pdf.getImageProperties(ki),_i=1,Ai=1,Oi=1,Ii=1;Bi!==void 0&&Ji!==void 0&&(Oi=Ji/Bi,Ii=Li/Xi,_i=wi.width/Bi*Ji/Bi,Ai=wi.height/Xi*Li/Xi),en===void 0&&(en=ji,tn=Vi,ji=0,Vi=0),Bi!==void 0&&Ji===void 0&&(Ji=Bi,Li=Xi),Bi===void 0&&Ji===void 0&&(Ji=wi.width,Li=wi.height);for(var Mi,Gi=this.ctx.transform.decompose(),on=Ci(Gi.rotate.shx),Ui=new Je,rn=(Ui=(Ui=(Ui=Ui.multiply(Gi.translate)).multiply(Gi.skew)).multiply(Gi.scale)).applyToRectangle(new Ke(en-ji*Oi,tn-Vi*Ii,Bi*_i,Xi*Ai)),un=ai.call(this,rn),dn=[],hn=0;hn<un.length;hn+=1)dn.indexOf(un[hn])===-1&&dn.push(un[hn]);if(ii(dn),this.autoPaging)for(var Sn=dn[0],fn=dn[dn.length-1],Pn=Sn;Pn<fn+1;Pn++){this.pdf.setPage(Pn);var zi=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],En=Pn===1?this.posY+this.margin[0]:this.margin[0],yn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],An=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],sn=Pn===1?0:yn+(Pn-2)*An;if(this.ctx.clip_path.length!==0){var _n=this.path;Mi=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ri(Mi,this.posX+this.margin[3],-sn+En+this.ctx.prevPageLastElemOffset),ci.call(this,"fill",!0),this.path=_n}var Tn=JSON.parse(JSON.stringify(rn));Tn=ri([Tn],this.posX+this.margin[3],-sn+En+this.ctx.prevPageLastElemOffset)[0];var In=(Pn>Sn||Pn<fn)&&oi.call(this);In&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],zi,An,null).clip().discardPath()),this.pdf.addImage(ki,"JPEG",Tn.x,Tn.y,Tn.w,Tn.h,null,null,on),In&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(ki,"JPEG",rn.x,rn.y,rn.w,rn.h,null,null,on)};var ai=function(ki,ji,Vi){var Bi=[];ji=ji||this.pdf.internal.pageSize.width,Vi=Vi||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Xi=this.posY+this.ctx.prevPageLastElemOffset;switch(ki.type){default:case"mt":case"lt":Bi.push(Math.floor((ki.y+Xi)/Vi)+1);break;case"arc":Bi.push(Math.floor((ki.y+Xi-ki.radius)/Vi)+1),Bi.push(Math.floor((ki.y+Xi+ki.radius)/Vi)+1);break;case"qct":var en=Ni(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ki.x1,ki.y1,ki.x,ki.y);Bi.push(Math.floor((en.y+Xi)/Vi)+1),Bi.push(Math.floor((en.y+en.h+Xi)/Vi)+1);break;case"bct":var tn=Ri(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ki.x1,ki.y1,ki.x2,ki.y2,ki.x,ki.y);Bi.push(Math.floor((tn.y+Xi)/Vi)+1),Bi.push(Math.floor((tn.y+tn.h+Xi)/Vi)+1);break;case"rect":Bi.push(Math.floor((ki.y+Xi)/Vi)+1),Bi.push(Math.floor((ki.y+ki.h+Xi)/Vi)+1)}for(var Ji=0;Ji<Bi.length;Ji+=1)for(;this.pdf.internal.getNumberOfPages()<Bi[Ji];)si.call(this);return Bi},si=function(){var ki=this.fillStyle,ji=this.strokeStyle,Vi=this.font,Bi=this.lineCap,Xi=this.lineWidth,en=this.lineJoin;this.pdf.addPage(),this.fillStyle=ki,this.strokeStyle=ji,this.font=Vi,this.lineCap=Bi,this.lineWidth=Xi,this.lineJoin=en},ri=function(ki,ji,Vi){for(var Bi=0;Bi<ki.length;Bi++)switch(ki[Bi].type){case"bct":ki[Bi].x2+=ji,ki[Bi].y2+=Vi;case"qct":ki[Bi].x1+=ji,ki[Bi].y1+=Vi;case"mt":case"lt":case"arc":default:ki[Bi].x+=ji,ki[Bi].y+=Vi}return ki},ii=function(ki){return ki.sort(function(ji,Vi){return ji-Vi})},ui=function(ki,ji){for(var Vi,Bi,Xi=this.fillStyle,en=this.strokeStyle,tn=this.lineCap,Ji=this.lineWidth,Li=Math.abs(Ji*this.ctx.transform.scaleX),wi=this.lineJoin,_i=JSON.parse(JSON.stringify(this.path)),Ai=JSON.parse(JSON.stringify(this.path)),Oi=[],Ii=0;Ii<Ai.length;Ii++)if(Ai[Ii].x!==void 0)for(var Mi=ai.call(this,Ai[Ii]),Gi=0;Gi<Mi.length;Gi+=1)Oi.indexOf(Mi[Gi])===-1&&Oi.push(Mi[Gi]);for(var on=0;on<Oi.length;on++)for(;this.pdf.internal.getNumberOfPages()<Oi[on];)si.call(this);if(ii(Oi),this.autoPaging)for(var Ui=Oi[0],rn=Oi[Oi.length-1],un=Ui;un<rn+1;un++){this.pdf.setPage(un),this.fillStyle=Xi,this.strokeStyle=en,this.lineCap=tn,this.lineWidth=Li,this.lineJoin=wi;var dn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],hn=un===1?this.posY+this.margin[0]:this.margin[0],Sn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],fn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Pn=un===1?0:Sn+(un-2)*fn;if(this.ctx.clip_path.length!==0){var zi=this.path;Vi=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ri(Vi,this.posX+this.margin[3],-Pn+hn+this.ctx.prevPageLastElemOffset),ci.call(this,ki,!0),this.path=zi}if(Bi=JSON.parse(JSON.stringify(_i)),this.path=ri(Bi,this.posX+this.margin[3],-Pn+hn+this.ctx.prevPageLastElemOffset),ji===!1||un===0){var En=(un>Ui||un<rn)&&oi.call(this);En&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dn,fn,null).clip().discardPath()),ci.call(this,ki,ji),En&&this.pdf.restoreGraphicsState()}this.lineWidth=Ji}else this.lineWidth=Li,ci.call(this,ki,ji),this.lineWidth=Ji;this.path=_i},ci=function(ki,ji){if((ki!=="stroke"||ji||!ni.call(this))&&(ki==="stroke"||ji||!ti.call(this))){for(var Vi,Bi,Xi=[],en=this.path,tn=0;tn<en.length;tn++){var Ji=en[tn];switch(Ji.type){case"begin":Xi.push({begin:!0});break;case"close":Xi.push({close:!0});break;case"mt":Xi.push({start:Ji,deltas:[],abs:[]});break;case"lt":var Li=Xi.length;if(en[tn-1]&&!isNaN(en[tn-1].x)&&(Vi=[Ji.x-en[tn-1].x,Ji.y-en[tn-1].y],Li>0)){for(;Li>=0;Li--)if(Xi[Li-1].close!==!0&&Xi[Li-1].begin!==!0){Xi[Li-1].deltas.push(Vi),Xi[Li-1].abs.push(Ji);break}}break;case"bct":Vi=[Ji.x1-en[tn-1].x,Ji.y1-en[tn-1].y,Ji.x2-en[tn-1].x,Ji.y2-en[tn-1].y,Ji.x-en[tn-1].x,Ji.y-en[tn-1].y],Xi[Xi.length-1].deltas.push(Vi);break;case"qct":var wi=en[tn-1].x+2/3*(Ji.x1-en[tn-1].x),_i=en[tn-1].y+2/3*(Ji.y1-en[tn-1].y),Ai=Ji.x+2/3*(Ji.x1-Ji.x),Oi=Ji.y+2/3*(Ji.y1-Ji.y),Ii=Ji.x,Mi=Ji.y;Vi=[wi-en[tn-1].x,_i-en[tn-1].y,Ai-en[tn-1].x,Oi-en[tn-1].y,Ii-en[tn-1].x,Mi-en[tn-1].y],Xi[Xi.length-1].deltas.push(Vi);break;case"arc":Xi.push({deltas:[],abs:[],arc:!0}),Array.isArray(Xi[Xi.length-1].abs)&&Xi[Xi.length-1].abs.push(Ji)}}Bi=ji?null:ki==="stroke"?"stroke":"fill";for(var Gi=!1,on=0;on<Xi.length;on++)if(Xi[on].arc)for(var Ui=Xi[on].abs,rn=0;rn<Ui.length;rn++){var un=Ui[rn];un.type==="arc"?di.call(this,un.x,un.y,un.radius,un.startAngle,un.endAngle,un.counterclockwise,void 0,ji,!Gi):Si.call(this,un.x,un.y),Gi=!0}else if(Xi[on].close===!0)this.pdf.internal.out("h"),Gi=!1;else if(Xi[on].begin!==!0){var dn=Xi[on].start.x,hn=Xi[on].start.y;vi.call(this,Xi[on].deltas,dn,hn),Gi=!0}Bi&&fi.call(this,Bi),ji&&yi.call(this)}},hi=function(ki){var ji=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Vi=ji*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return ki-Vi;case"top":return ki+ji-Vi;case"hanging":return ki+ji-2*Vi;case"middle":return ki+ji/2-Vi;case"ideographic":return ki;case"alphabetic":default:return ki}},mi=function(ki){return ki+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};St.prototype.createLinearGradient=function(){var ki=function(){};return ki.colorStops=[],ki.addColorStop=function(ji,Vi){this.colorStops.push([ji,Vi])},ki.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},ki.isCanvasGradient=!0,ki},St.prototype.createPattern=function(){return this.createLinearGradient()},St.prototype.createRadialGradient=function(){return this.createLinearGradient()};var di=function(ki,ji,Vi,Bi,Xi,en,tn,Ji,Li){for(var wi=Ti.call(this,Vi,Bi,Xi,en),_i=0;_i<wi.length;_i++){var Ai=wi[_i];_i===0&&(Li?pi.call(this,Ai.x1+ki,Ai.y1+ji):Si.call(this,Ai.x1+ki,Ai.y1+ji)),Di.call(this,ki,ji,Ai.x2,Ai.y2,Ai.x3,Ai.y3,Ai.x4,Ai.y4)}Ji?yi.call(this):fi.call(this,tn)},fi=function(ki){switch(ki){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},yi=function(){this.pdf.clip(),this.pdf.discardPath()},pi=function(ki,ji){this.pdf.internal.out(Ve(ki)+" "+ze(ji)+" m")},xi=function(ki){var ji;switch(ki.align){case"right":case"end":ji="right";break;case"center":ji="center";break;case"left":case"start":default:ji="left"}var Vi=this.pdf.getTextDimensions(ki.text),Bi=hi.call(this,ki.y),Xi=mi.call(this,Bi)-Vi.h,en=this.ctx.transform.applyToPoint(new We(ki.x,Bi)),tn=this.ctx.transform.decompose(),Ji=new Je;Ji=(Ji=(Ji=Ji.multiply(tn.translate)).multiply(tn.skew)).multiply(tn.scale);for(var Li,wi,_i,Ai=this.ctx.transform.applyToRectangle(new Ke(ki.x,Bi,Vi.w,Vi.h)),Oi=Ji.applyToRectangle(new Ke(ki.x,Xi,Vi.w,Vi.h)),Ii=ai.call(this,Oi),Mi=[],Gi=0;Gi<Ii.length;Gi+=1)Mi.indexOf(Ii[Gi])===-1&&Mi.push(Ii[Gi]);if(ii(Mi),this.autoPaging)for(var on=Mi[0],Ui=Mi[Mi.length-1],rn=on;rn<Ui+1;rn++){this.pdf.setPage(rn);var un=rn===1?this.posY+this.margin[0]:this.margin[0],dn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],hn=this.pdf.internal.pageSize.height-this.margin[2],Sn=hn-this.margin[0],fn=this.pdf.internal.pageSize.width-this.margin[1],Pn=fn-this.margin[3],zi=rn===1?0:dn+(rn-2)*Sn;if(this.ctx.clip_path.length!==0){var En=this.path;Li=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ri(Li,this.posX+this.margin[3],-1*zi+un),ci.call(this,"fill",!0),this.path=En}var yn=ri([JSON.parse(JSON.stringify(Oi))],this.posX+this.margin[3],-zi+un+this.ctx.prevPageLastElemOffset)[0];ki.scale>=.01&&(wi=this.pdf.internal.getFontSize(),this.pdf.setFontSize(wi*ki.scale),_i=this.lineWidth,this.lineWidth=_i*ki.scale);var An=this.autoPaging!=="text";if(An||yn.y+yn.h<=hn){if(An||yn.y>=un&&yn.x<=fn){var sn=An?ki.text:this.pdf.splitTextToSize(ki.text,ki.maxWidth||fn-yn.x)[0],_n=ri([JSON.parse(JSON.stringify(Ai))],this.posX+this.margin[3],-zi+un+this.ctx.prevPageLastElemOffset)[0],Tn=An&&(rn>on||rn<Ui)&&oi.call(this);Tn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pn,Sn,null).clip().discardPath()),this.pdf.text(sn,_n.x,_n.y,{angle:ki.angle,align:ji,renderingMode:ki.renderingMode}),Tn&&this.pdf.restoreGraphicsState()}}else yn.y<hn&&(this.ctx.prevPageLastElemOffset+=hn-yn.y);ki.scale>=.01&&(this.pdf.setFontSize(wi),this.lineWidth=_i)}else ki.scale>=.01&&(wi=this.pdf.internal.getFontSize(),this.pdf.setFontSize(wi*ki.scale),_i=this.lineWidth,this.lineWidth=_i*ki.scale),this.pdf.text(ki.text,en.x+this.posX,en.y+this.posY,{angle:ki.angle,align:ji,renderingMode:ki.renderingMode,maxWidth:ki.maxWidth}),ki.scale>=.01&&(this.pdf.setFontSize(wi),this.lineWidth=_i)},Si=function(ki,ji,Vi,Bi){Vi=Vi||0,Bi=Bi||0,this.pdf.internal.out(Ve(ki+Vi)+" "+ze(ji+Bi)+" l")},vi=function(ki,ji,Vi){return this.pdf.lines(ki,ji,Vi,null,null)},Di=function(ki,ji,Vi,Bi,Xi,en,tn,Ji){this.pdf.internal.out([$e(qe(Vi+ki)),$e(Xe(Bi+ji)),$e(qe(Xi+ki)),$e(Xe(en+ji)),$e(qe(tn+ki)),$e(Xe(Ji+ji)),"c"].join(" "))},Ti=function(ki,ji,Vi,Bi){for(var Xi=2*Math.PI,en=Math.PI/2;ji>Vi;)ji-=Xi;var tn=Math.abs(Vi-ji);tn<Xi&&Bi&&(tn=Xi-tn);for(var Ji=[],Li=Bi?-1:1,wi=ji;tn>1e-5;){var _i=wi+Li*Math.min(tn,en);Ji.push(Fi.call(this,ki,wi,_i)),tn-=Math.abs(_i-wi),wi=_i}return Ji},Fi=function(ki,ji,Vi){var Bi=(Vi-ji)/2,Xi=ki*Math.cos(Bi),en=ki*Math.sin(Bi),tn=Xi,Ji=-en,Li=tn*tn+Ji*Ji,wi=Li+tn*Xi+Ji*en,_i=4/3*(Math.sqrt(2*Li*wi)-wi)/(tn*en-Ji*Xi),Ai=tn-_i*Ji,Oi=Ji+_i*tn,Ii=Ai,Mi=-Oi,Gi=Bi+ji,on=Math.cos(Gi),Ui=Math.sin(Gi);return{x1:ki*Math.cos(ji),y1:ki*Math.sin(ji),x2:Ai*on-Oi*Ui,y2:Ai*Ui+Oi*on,x3:Ii*on-Mi*Ui,y3:Ii*Ui+Mi*on,x4:ki*Math.cos(Vi),y4:ki*Math.sin(Vi)}},Ci=function(ki){return 180*ki/Math.PI},Ni=function(ki,ji,Vi,Bi,Xi,en){var tn=ki+.5*(Vi-ki),Ji=ji+.5*(Bi-ji),Li=Xi+.5*(Vi-Xi),wi=en+.5*(Bi-en),_i=Math.min(ki,Xi,tn,Li),Ai=Math.max(ki,Xi,tn,Li),Oi=Math.min(ji,en,Ji,wi),Ii=Math.max(ji,en,Ji,wi);return new Ke(_i,Oi,Ai-_i,Ii-Oi)},Ri=function(ki,ji,Vi,Bi,Xi,en,tn,Ji){var Li,wi,_i,Ai,Oi,Ii,Mi,Gi,on,Ui,rn,un,dn,hn,Sn=Vi-ki,fn=Bi-ji,Pn=Xi-Vi,zi=en-Bi,En=tn-Xi,yn=Ji-en;for(wi=0;wi<41;wi++)on=(Mi=(_i=ki+(Li=wi/40)*Sn)+Li*((Oi=Vi+Li*Pn)-_i))+Li*(Oi+Li*(Xi+Li*En-Oi)-Mi),Ui=(Gi=(Ai=ji+Li*fn)+Li*((Ii=Bi+Li*zi)-Ai))+Li*(Ii+Li*(en+Li*yn-Ii)-Gi),wi==0?(rn=on,un=Ui,dn=on,hn=Ui):(rn=Math.min(rn,on),un=Math.min(un,Ui),dn=Math.max(dn,on),hn=Math.max(hn,Ui));return new Ke(Math.round(rn),Math.round(un),Math.round(dn-rn),Math.round(hn-un))},Yi=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var ki,ji,Vi=(ki=this.ctx.lineDash,ji=this.ctx.lineDashOffset,JSON.stringify({lineDash:ki,lineDashOffset:ji}));this.prevLineDash!==Vi&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Vi)}}})(E.API),function(je){var $e=function(Xe){var We,Ke,Je,Ze,Qe,St,ei,ti,ni,oi;for(Ke=[],Je=0,Ze=(Xe+=We="\0\0\0\0".slice(Xe.length%4||4)).length;Ze>Je;Je+=4)(Qe=(Xe.charCodeAt(Je)<<24)+(Xe.charCodeAt(Je+1)<<16)+(Xe.charCodeAt(Je+2)<<8)+Xe.charCodeAt(Je+3))!==0?(St=(Qe=((Qe=((Qe=((Qe=(Qe-(oi=Qe%85))/85)-(ni=Qe%85))/85)-(ti=Qe%85))/85)-(ei=Qe%85))/85)%85,Ke.push(St+33,ei+33,ti+33,ni+33,oi+33)):Ke.push(122);return function(ai,si){for(var ri=si;ri>0;ri--)ai.pop()}(Ke,We.length),String.fromCharCode.apply(String,Ke)+"~>"},Ve=function(Xe){var We,Ke,Je,Ze,Qe,St=String,ei="length",ti=255,ni="charCodeAt",oi="slice",ai="replace";for(Xe[oi](-2),Xe=Xe[oi](0,-2)[ai](/\s/g,"")[ai]("z","!!!!!"),Je=[],Ze=0,Qe=(Xe+=We="uuuuu"[oi](Xe[ei]%5||5))[ei];Qe>Ze;Ze+=5)Ke=52200625*(Xe[ni](Ze)-33)+614125*(Xe[ni](Ze+1)-33)+7225*(Xe[ni](Ze+2)-33)+85*(Xe[ni](Ze+3)-33)+(Xe[ni](Ze+4)-33),Je.push(ti&Ke>>24,ti&Ke>>16,ti&Ke>>8,ti&Ke);return function(si,ri){for(var ii=ri;ii>0;ii--)si.pop()}(Je,We[ei]),St.fromCharCode.apply(St,Je)},ze=function(Xe){var We=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((Xe=Xe.replace(/\s/g,"")).indexOf(">")!==-1&&(Xe=Xe.substr(0,Xe.indexOf(">"))),Xe.length%2&&(Xe+="0"),We.test(Xe)===!1)return"";for(var Ke="",Je=0;Je<Xe.length;Je+=2)Ke+=String.fromCharCode("0x"+(Xe[Je]+Xe[Je+1]));return Ke},qe=function(Xe){for(var We=new Uint8Array(Xe.length),Ke=Xe.length;Ke--;)We[Ke]=Xe.charCodeAt(Ke);return Xe=(We=zlibSync(We)).reduce(function(Je,Ze){return Je+String.fromCharCode(Ze)},"")};je.processDataByFilters=function(Xe,We){var Ke=0,Je=Xe||"",Ze=[];for(typeof(We=We||[])=="string"&&(We=[We]),Ke=0;Ke<We.length;Ke+=1)switch(We[Ke]){case"ASCII85Decode":case"/ASCII85Decode":Je=Ve(Je),Ze.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":Je=$e(Je),Ze.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":Je=ze(Je),Ze.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":Je=Je.split("").map(function(Qe){return("0"+Qe.charCodeAt().toString(16)).slice(-2)}).join("")+">",Ze.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":Je=qe(Je),Ze.push("/FlateDecode");break;default:throw new Error('The filter: "'+We[Ke]+'" is not implemented')}return{data:Je,reverseChain:Ze.reverse().join(" ")}}}(E.API),function(je){je.loadFile=function($e,Ve,ze){return function(qe,Xe,We){Xe=Xe!==!1,We=typeof We=="function"?We:function(){};var Ke=void 0;try{Ke=function(Je,Ze,Qe){var St=new XMLHttpRequest,ei=0,ti=function(ni){var oi=ni.length,ai=[],si=String.fromCharCode;for(ei=0;ei<oi;ei+=1)ai.push(si(255&ni.charCodeAt(ei)));return ai.join("")};if(St.open("GET",Je,!Ze),St.overrideMimeType("text/plain; charset=x-user-defined"),Ze===!1&&(St.onload=function(){St.status===200?Qe(ti(this.responseText)):Qe(void 0)}),St.send(null),Ze&&St.status===200)return ti(St.responseText)}(qe,Xe,We)}catch{}return Ke}($e,Ve,ze)},je.loadImageFile=je.loadFile}(E.API),function(je){function $e(){return(n.html2canvas?Promise.resolve(n.html2canvas):__vitePreload(()=>import("./html2canvas.esm-Ry1SfrtC.js"),__vite__mapDeps([]))).catch(function(We){return Promise.reject(new Error("Could not load html2canvas: "+We))}).then(function(We){return We.default?We.default:We})}function Ve(){return(n.DOMPurify?Promise.resolve(n.DOMPurify):__vitePreload(()=>import("./purify.es-zHtM-7sw.js"),__vite__mapDeps([]))).catch(function(We){return Promise.reject(new Error("Could not load dompurify: "+We))}).then(function(We){return We.default?We.default:We})}var ze=function(We){var Ke=_typeof(We);return Ke==="undefined"?"undefined":Ke==="string"||We instanceof String?"string":Ke==="number"||We instanceof Number?"number":Ke==="function"||We instanceof Function?"function":We&&We.constructor===Array?"array":We&&We.nodeType===1?"element":Ke==="object"?"object":"unknown"},qe=function(We,Ke){var Je=document.createElement(We);for(var Ze in Ke.className&&(Je.className=Ke.className),Ke.innerHTML&&Ke.dompurify&&(Je.innerHTML=Ke.dompurify.sanitize(Ke.innerHTML)),Ke.style)Je.style[Ze]=Ke.style[Ze];return Je},Xe=function We(Ke){var Je=Object.assign(We.convert(Promise.resolve()),JSON.parse(JSON.stringify(We.template))),Ze=We.convert(Promise.resolve(),Je);return Ze=(Ze=Ze.setProgress(1,We,1,[We])).set(Ke)};(Xe.prototype=Object.create(Promise.prototype)).constructor=Xe,Xe.convert=function(We,Ke){return We.__proto__=Ke||Xe.prototype,We},Xe.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},Xe.prototype.from=function(We,Ke){return this.then(function(){switch(Ke=Ke||function(Je){switch(ze(Je)){case"string":return"string";case"element":return Je.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(We)){case"string":return this.then(Ve).then(function(Je){return this.set({src:qe("div",{innerHTML:We,dompurify:Je})})});case"element":return this.set({src:We});case"canvas":return this.set({canvas:We});case"img":return this.set({img:We});default:return this.error("Unknown source type.")}})},Xe.prototype.to=function(We){switch(We){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},Xe.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var We={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},Ke=function Je(Ze,Qe){for(var St=Ze.nodeType===3?document.createTextNode(Ze.nodeValue):Ze.cloneNode(!1),ei=Ze.firstChild;ei;ei=ei.nextSibling)Qe!==!0&&ei.nodeType===1&&ei.nodeName==="SCRIPT"||St.appendChild(Je(ei,Qe));return Ze.nodeType===1&&(Ze.nodeName==="CANVAS"?(St.width=Ze.width,St.height=Ze.height,St.getContext("2d").drawImage(Ze,0,0)):Ze.nodeName!=="TEXTAREA"&&Ze.nodeName!=="SELECT"||(St.value=Ze.value),St.addEventListener("load",function(){St.scrollTop=Ze.scrollTop,St.scrollLeft=Ze.scrollLeft},!0)),St}(this.prop.src,this.opt.html2canvas.javascriptEnabled);Ke.tagName==="BODY"&&(We.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=qe("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=qe("div",{className:"html2pdf__container",style:We}),this.prop.container.appendChild(Ke),this.prop.container.firstChild.appendChild(qe("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},Xe.prototype.toCanvas=function(){var We=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(We).then($e).then(function(Ke){var Je=Object.assign({},this.opt.html2canvas);return delete Je.onrendered,Ke(this.prop.container,Je)}).then(function(Ke){(this.opt.html2canvas.onrendered||function(){})(Ke),this.prop.canvas=Ke,document.body.removeChild(this.prop.overlay)})},Xe.prototype.toContext2d=function(){var We=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(We).then($e).then(function(Ke){var Je=this.opt.jsPDF,Ze=this.opt.fontFaces,Qe=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,St=Object.assign({async:!0,allowTaint:!0,scale:Qe,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete St.onrendered,Je.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,Je.context2d.posX=this.opt.x,Je.context2d.posY=this.opt.y,Je.context2d.margin=this.opt.margin,Je.context2d.fontFaces=Ze,Ze)for(var ei=0;ei<Ze.length;++ei){var ti=Ze[ei],ni=ti.src.find(function(oi){return oi.format==="truetype"});ni&&Je.addFont(ni.url,ti.ref.name,ti.ref.style)}return St.windowHeight=St.windowHeight||0,St.windowHeight=St.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):St.windowHeight,Je.context2d.save(!0),Ke(this.prop.container,St)}).then(function(Ke){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(Ke),this.prop.canvas=Ke,document.body.removeChild(this.prop.overlay)})},Xe.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var We=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=We})},Xe.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},Xe.prototype.output=function(We,Ke,Je){return(Je=Je||"pdf").toLowerCase()==="img"||Je.toLowerCase()==="image"?this.outputImg(We,Ke):this.outputPdf(We,Ke)},Xe.prototype.outputPdf=function(We,Ke){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(We,Ke)})},Xe.prototype.outputImg=function(We){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(We){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+We+'" is not supported.'}})},Xe.prototype.save=function(We){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(We?{filename:We}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},Xe.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},Xe.prototype.set=function(We){if(ze(We)!=="object")return this;var Ke=Object.keys(We||{}).map(function(Je){if(Je in Xe.template.prop)return function(){this.prop[Je]=We[Je]};switch(Je){case"margin":return this.setMargin.bind(this,We.margin);case"jsPDF":return function(){return this.opt.jsPDF=We.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,We.pageSize);default:return function(){this.opt[Je]=We[Je]}}},this);return this.then(function(){return this.thenList(Ke)})},Xe.prototype.get=function(We,Ke){return this.then(function(){var Je=We in Xe.template.prop?this.prop[We]:this.opt[We];return Ke?Ke(Je):Je})},Xe.prototype.setMargin=function(We){return this.then(function(){switch(ze(We)){case"number":We=[We,We,We,We];case"array":if(We.length===2&&(We=[We[0],We[1],We[0],We[1]]),We.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=We}).then(this.setPageSize)},Xe.prototype.setPageSize=function(We){function Ke(Je,Ze){return Math.floor(Je*Ze/72*96)}return this.then(function(){(We=We||E.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(We.inner={width:We.width-this.opt.margin[1]-this.opt.margin[3],height:We.height-this.opt.margin[0]-this.opt.margin[2]},We.inner.px={width:Ke(We.inner.width,We.k),height:Ke(We.inner.height,We.k)},We.inner.ratio=We.inner.height/We.inner.width),this.prop.pageSize=We})},Xe.prototype.setProgress=function(We,Ke,Je,Ze){return We!=null&&(this.progress.val=We),Ke!=null&&(this.progress.state=Ke),Je!=null&&(this.progress.n=Je),Ze!=null&&(this.progress.stack=Ze),this.progress.ratio=this.progress.val/this.progress.state,this},Xe.prototype.updateProgress=function(We,Ke,Je,Ze){return this.setProgress(We?this.progress.val+We:null,Ke||null,Je?this.progress.n+Je:null,Ze?this.progress.stack.concat(Ze):null)},Xe.prototype.then=function(We,Ke){var Je=this;return this.thenCore(We,Ke,function(Ze,Qe){return Je.updateProgress(null,null,1,[Ze]),Promise.prototype.then.call(this,function(St){return Je.updateProgress(null,Ze),St}).then(Ze,Qe).then(function(St){return Je.updateProgress(1),St})})},Xe.prototype.thenCore=function(We,Ke,Je){Je=Je||Promise.prototype.then,We&&(We=We.bind(this)),Ke&&(Ke=Ke.bind(this));var Ze=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:Xe.convert(Object.assign({},this),Promise.prototype),Qe=Je.call(Ze,We,Ke);return Xe.convert(Qe,this.__proto__)},Xe.prototype.thenExternal=function(We,Ke){return Promise.prototype.then.call(this,We,Ke)},Xe.prototype.thenList=function(We){var Ke=this;return We.forEach(function(Je){Ke=Ke.thenCore(Je)}),Ke},Xe.prototype.catch=function(We){We&&(We=We.bind(this));var Ke=Promise.prototype.catch.call(this,We);return Xe.convert(Ke,this)},Xe.prototype.catchExternal=function(We){return Promise.prototype.catch.call(this,We)},Xe.prototype.error=function(We){return this.then(function(){throw new Error(We)})},Xe.prototype.using=Xe.prototype.set,Xe.prototype.saveAs=Xe.prototype.save,Xe.prototype.export=Xe.prototype.output,Xe.prototype.run=Xe.prototype.then,E.getPageSize=function(We,Ke,Je){if(_typeof(We)==="object"){var Ze=We;We=Ze.orientation,Ke=Ze.unit||Ke,Je=Ze.format||Je}Ke=Ke||"mm",Je=Je||"a4",We=(""+(We||"P")).toLowerCase();var Qe,St=(""+Je).toLowerCase(),ei={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(Ke){case"pt":Qe=1;break;case"mm":Qe=72/25.4;break;case"cm":Qe=72/2.54;break;case"in":Qe=72;break;case"px":Qe=.75;break;case"pc":case"em":Qe=12;break;case"ex":Qe=6;break;default:throw"Invalid unit: "+Ke}var ti,ni=0,oi=0;if(ei.hasOwnProperty(St))ni=ei[St][1]/Qe,oi=ei[St][0]/Qe;else try{ni=Je[1],oi=Je[0]}catch{throw new Error("Invalid format: "+Je)}if(We==="p"||We==="portrait")We="p",oi>ni&&(ti=oi,oi=ni,ni=ti);else{if(We!=="l"&&We!=="landscape")throw"Invalid orientation: "+We;We="l",ni>oi&&(ti=oi,oi=ni,ni=ti)}return{width:oi,height:ni,unit:Ke,k:Qe,orientation:We}},je.html=function(We,Ke){(Ke=Ke||{}).callback=Ke.callback||function(){},Ke.html2canvas=Ke.html2canvas||{},Ke.html2canvas.canvas=Ke.html2canvas.canvas||this.canvas,Ke.jsPDF=Ke.jsPDF||this,Ke.fontFaces=Ke.fontFaces?Ke.fontFaces.map(jt):null;var Je=new Xe(Ke);return Ke.worker?Je:Je.from(We).doCallback()}}(E.API),E.API.addJS=function(je){return Ht=je,this.internal.events.subscribe("postPutResources",function(){Ut=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ut+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),zt=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ht+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ut!==void 0&&zt!==void 0&&this.internal.out("/Names <</JavaScript "+Ut+" 0 R>>")}),this},function(je){var $e;je.events.push(["postPutResources",function(){var Ve=this,ze=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var qe=Ve.outline.render().split(/\r\n/),Xe=0;Xe<qe.length;Xe++){var We=qe[Xe],Ke=ze.exec(We);if(Ke!=null){var Je=Ke[1];Ve.internal.newObjectDeferredBegin(Je,!1)}Ve.internal.write(We)}if(this.outline.createNamedDestinations){var Ze=this.internal.pages.length,Qe=[];for(Xe=0;Xe<Ze;Xe++){var St=Ve.internal.newObject();Qe.push(St);var ei=Ve.internal.getPageInfo(Xe+1);Ve.internal.write("<< /D["+ei.objId+" 0 R /XYZ null null null]>> endobj")}var ti=Ve.internal.newObject();for(Ve.internal.write("<< /Names [ "),Xe=0;Xe<Qe.length;Xe++)Ve.internal.write("(page_"+(Xe+1)+")"+Qe[Xe]+" 0 R");Ve.internal.write(" ] >>","endobj"),$e=Ve.internal.newObject(),Ve.internal.write("<< /Dests "+ti+" 0 R"),Ve.internal.write(">>","endobj")}}]),je.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+$e+" 0 R"))}]),je.events.push(["initialized",function(){var Ve=this;Ve.outline={createNamedDestinations:!1,root:{children:[]}},Ve.outline.add=function(ze,qe,Xe){var We={title:qe,options:Xe,children:[]};return ze==null&&(ze=this.root),ze.children.push(We),We},Ve.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=Ve,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},Ve.outline.genIds_r=function(ze){ze.id=Ve.internal.newObjectDeferred();for(var qe=0;qe<ze.children.length;qe++)this.genIds_r(ze.children[qe])},Ve.outline.renderRoot=function(ze){this.objStart(ze),this.line("/Type /Outlines"),ze.children.length>0&&(this.line("/First "+this.makeRef(ze.children[0])),this.line("/Last "+this.makeRef(ze.children[ze.children.length-1]))),this.line("/Count "+this.count_r({count:0},ze)),this.objEnd()},Ve.outline.renderItems=function(ze){for(var qe=this.ctx.pdf.internal.getVerticalCoordinateString,Xe=0;Xe<ze.children.length;Xe++){var We=ze.children[Xe];this.objStart(We),this.line("/Title "+this.makeString(We.title)),this.line("/Parent "+this.makeRef(ze)),Xe>0&&this.line("/Prev "+this.makeRef(ze.children[Xe-1])),Xe<ze.children.length-1&&this.line("/Next "+this.makeRef(ze.children[Xe+1])),We.children.length>0&&(this.line("/First "+this.makeRef(We.children[0])),this.line("/Last "+this.makeRef(We.children[We.children.length-1])));var Ke=this.count=this.count_r({count:0},We);if(Ke>0&&this.line("/Count "+Ke),We.options&&We.options.pageNumber){var Je=Ve.internal.getPageInfo(We.options.pageNumber);this.line("/Dest ["+Je.objId+" 0 R /XYZ 0 "+qe(0)+" 0]")}this.objEnd()}for(var Ze=0;Ze<ze.children.length;Ze++)this.renderItems(ze.children[Ze])},Ve.outline.line=function(ze){this.ctx.val+=ze+`\r
`},Ve.outline.makeRef=function(ze){return ze.id+" 0 R"},Ve.outline.makeString=function(ze){return"("+Ve.internal.pdfEscape(ze)+")"},Ve.outline.objStart=function(ze){this.ctx.val+=`\r
`+ze.id+` 0 obj\r
<<\r
`},Ve.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},Ve.outline.count_r=function(ze,qe){for(var Xe=0;Xe<qe.children.length;Xe++)ze.count++,this.count_r(ze,qe.children[Xe]);return ze.count}}])}(E.API),function(je){var $e=[192,193,194,195,196,197,198,199];je.processJPEG=function(Ve,ze,qe,Xe,We,Ke){var Je,Ze=this.decode.DCT_DECODE,Qe=null;if(typeof Ve=="string"||this.__addimage__.isArrayBuffer(Ve)||this.__addimage__.isArrayBufferView(Ve)){switch(Ve=We||Ve,Ve=this.__addimage__.isArrayBuffer(Ve)?new Uint8Array(Ve):Ve,(Je=function(St){for(var ei,ti=256*St.charCodeAt(4)+St.charCodeAt(5),ni=St.length,oi={width:0,height:0,numcomponents:1},ai=4;ai<ni;ai+=2){if(ai+=ti,$e.indexOf(St.charCodeAt(ai+1))!==-1){ei=256*St.charCodeAt(ai+5)+St.charCodeAt(ai+6),oi={width:256*St.charCodeAt(ai+7)+St.charCodeAt(ai+8),height:ei,numcomponents:St.charCodeAt(ai+9)};break}ti=256*St.charCodeAt(ai+2)+St.charCodeAt(ai+3)}return oi}(Ve=this.__addimage__.isArrayBufferView(Ve)?this.__addimage__.arrayBufferToBinaryString(Ve):Ve)).numcomponents){case 1:Ke=this.color_spaces.DEVICE_GRAY;break;case 4:Ke=this.color_spaces.DEVICE_CMYK;break;case 3:Ke=this.color_spaces.DEVICE_RGB}Qe={data:Ve,width:Je.width,height:Je.height,colorSpace:Ke,bitsPerComponent:8,filter:Ze,index:ze,alias:qe}}return Qe}}(E.API);var Vt,Gt,Yt,Jt,Xt,Kt=function(){var je,$e,Ve;function ze(Xe){var We,Ke,Je,Ze,Qe,St,ei,ti,ni,oi,ai,si,ri,ii;for(this.data=Xe,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},St=null;;){switch(We=this.readUInt32(),ni=(function(){var ui,ci;for(ci=[],ui=0;ui<4;++ui)ci.push(String.fromCharCode(this.data[this.pos++]));return ci}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(We);break;case"fcTL":St&&this.animation.frames.push(St),this.pos+=4,St={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},Qe=this.readUInt16(),Ze=this.readUInt16()||100,St.delay=1e3*Qe/Ze,St.disposeOp=this.data[this.pos++],St.blendOp=this.data[this.pos++],St.data=[];break;case"IDAT":case"fdAT":for(ni==="fdAT"&&(this.pos+=4,We-=4),Xe=(St!=null?St.data:void 0)||this.imgData,si=0;0<=We?si<We:si>We;0<=We?++si:--si)Xe.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(Je=this.palette.length/3,this.transparency.indexed=this.read(We),this.transparency.indexed.length>Je)throw new Error("More transparent colors than palette size");if((oi=Je-this.transparency.indexed.length)>0)for(ri=0;0<=oi?ri<oi:ri>oi;0<=oi?++ri:--ri)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(We)[0];break;case 2:this.transparency.rgb=this.read(We)}break;case"tEXt":ei=(ai=this.read(We)).indexOf(0),ti=String.fromCharCode.apply(String,ai.slice(0,ei)),this.text[ti]=String.fromCharCode.apply(String,ai.slice(ei+1));break;case"IEND":return St&&this.animation.frames.push(St),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(ii=this.colorType)===4||ii===6,Ke=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*Ke,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=We}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}ze.prototype.read=function(Xe){var We,Ke;for(Ke=[],We=0;0<=Xe?We<Xe:We>Xe;0<=Xe?++We:--We)Ke.push(this.data[this.pos++]);return Ke},ze.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},ze.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},ze.prototype.decodePixels=function(Xe){var We=this.pixelBitlength/8,Ke=new Uint8Array(this.width*this.height*We),Je=0,Ze=this;if(Xe==null&&(Xe=this.imgData),Xe.length===0)return new Uint8Array(0);function Qe(St,ei,ti,ni){var oi,ai,si,ri,ii,ui,ci,hi,mi,di,fi,yi,pi,xi,Si,vi,Di,Ti,Fi,Ci,Ni,Ri=Math.ceil((Ze.width-St)/ti),Yi=Math.ceil((Ze.height-ei)/ni),ki=Ze.width==Ri&&Ze.height==Yi;for(xi=We*Ri,yi=ki?Ke:new Uint8Array(xi*Yi),ui=Xe.length,pi=0,ai=0;pi<Yi&&Je<ui;){switch(Xe[Je++]){case 0:for(ri=Di=0;Di<xi;ri=Di+=1)yi[ai++]=Xe[Je++];break;case 1:for(ri=Ti=0;Ti<xi;ri=Ti+=1)oi=Xe[Je++],ii=ri<We?0:yi[ai-We],yi[ai++]=(oi+ii)%256;break;case 2:for(ri=Fi=0;Fi<xi;ri=Fi+=1)oi=Xe[Je++],si=(ri-ri%We)/We,Si=pi&&yi[(pi-1)*xi+si*We+ri%We],yi[ai++]=(Si+oi)%256;break;case 3:for(ri=Ci=0;Ci<xi;ri=Ci+=1)oi=Xe[Je++],si=(ri-ri%We)/We,ii=ri<We?0:yi[ai-We],Si=pi&&yi[(pi-1)*xi+si*We+ri%We],yi[ai++]=(oi+Math.floor((ii+Si)/2))%256;break;case 4:for(ri=Ni=0;Ni<xi;ri=Ni+=1)oi=Xe[Je++],si=(ri-ri%We)/We,ii=ri<We?0:yi[ai-We],pi===0?Si=vi=0:(Si=yi[(pi-1)*xi+si*We+ri%We],vi=si&&yi[(pi-1)*xi+(si-1)*We+ri%We]),ci=ii+Si-vi,hi=Math.abs(ci-ii),di=Math.abs(ci-Si),fi=Math.abs(ci-vi),mi=hi<=di&&hi<=fi?ii:di<=fi?Si:vi,yi[ai++]=(oi+mi)%256;break;default:throw new Error("Invalid filter algorithm: "+Xe[Je-1])}if(!ki){var ji=((ei+pi*ni)*Ze.width+St)*We,Vi=pi*xi;for(ri=0;ri<Ri;ri+=1){for(var Bi=0;Bi<We;Bi+=1)Ke[ji++]=yi[Vi++];ji+=(ti-1)*We}}pi++}}return Xe=unzlibSync(Xe),Ze.interlaceMethod==1?(Qe(0,0,8,8),Qe(4,0,8,8),Qe(0,4,4,8),Qe(2,0,4,4),Qe(0,2,2,4),Qe(1,0,2,2),Qe(0,1,1,2)):Qe(0,0,1,1),Ke},ze.prototype.decodePalette=function(){var Xe,We,Ke,Je,Ze,Qe,St,ei,ti;for(Ke=this.palette,Qe=this.transparency.indexed||[],Ze=new Uint8Array((Qe.length||0)+Ke.length),Je=0,Xe=0,We=St=0,ei=Ke.length;St<ei;We=St+=3)Ze[Je++]=Ke[We],Ze[Je++]=Ke[We+1],Ze[Je++]=Ke[We+2],Ze[Je++]=(ti=Qe[Xe++])!=null?ti:255;return Ze},ze.prototype.copyToImageData=function(Xe,We){var Ke,Je,Ze,Qe,St,ei,ti,ni,oi,ai,si;if(Je=this.colors,oi=null,Ke=this.hasAlphaChannel,this.palette.length&&(oi=(si=this._decodedPalette)!=null?si:this._decodedPalette=this.decodePalette(),Je=4,Ke=!0),ni=(Ze=Xe.data||Xe).length,St=oi||We,Qe=ei=0,Je===1)for(;Qe<ni;)ti=oi?4*We[Qe/4]:ei,ai=St[ti++],Ze[Qe++]=ai,Ze[Qe++]=ai,Ze[Qe++]=ai,Ze[Qe++]=Ke?St[ti++]:255,ei=ti;else for(;Qe<ni;)ti=oi?4*We[Qe/4]:ei,Ze[Qe++]=St[ti++],Ze[Qe++]=St[ti++],Ze[Qe++]=St[ti++],Ze[Qe++]=Ke?St[ti++]:255,ei=ti},ze.prototype.decode=function(){var Xe;return Xe=new Uint8Array(this.width*this.height*4),this.copyToImageData(Xe,this.decodePixels()),Xe};var qe=function(){if(Object.prototype.toString.call(n)==="[object Window]"){try{$e=n.document.createElement("canvas"),Ve=$e.getContext("2d")}catch{return!1}return!0}return!1};return qe(),je=function(Xe){var We;if(qe()===!0)return Ve.width=Xe.width,Ve.height=Xe.height,Ve.clearRect(0,0,Xe.width,Xe.height),Ve.putImageData(Xe,0,0),(We=new Image).src=$e.toDataURL(),We;throw new Error("This method requires a Browser with Canvas-capability.")},ze.prototype.decodeFrames=function(Xe){var We,Ke,Je,Ze,Qe,St,ei,ti;if(this.animation){for(ti=[],Ke=Qe=0,St=(ei=this.animation.frames).length;Qe<St;Ke=++Qe)We=ei[Ke],Je=Xe.createImageData(We.width,We.height),Ze=this.decodePixels(new Uint8Array(We.data)),this.copyToImageData(Je,Ze),We.imageData=Je,ti.push(We.image=je(Je));return ti}},ze.prototype.renderFrame=function(Xe,We){var Ke,Je,Ze;return Ke=(Je=this.animation.frames)[We],Ze=Je[We-1],We===0&&Xe.clearRect(0,0,this.width,this.height),(Ze!=null?Ze.disposeOp:void 0)===1?Xe.clearRect(Ze.xOffset,Ze.yOffset,Ze.width,Ze.height):(Ze!=null?Ze.disposeOp:void 0)===2&&Xe.putImageData(Ze.imageData,Ze.xOffset,Ze.yOffset),Ke.blendOp===0&&Xe.clearRect(Ke.xOffset,Ke.yOffset,Ke.width,Ke.height),Xe.drawImage(Ke.image,Ke.xOffset,Ke.yOffset)},ze.prototype.animate=function(Xe){var We,Ke,Je,Ze,Qe,St,ei=this;return Ke=0,St=this.animation,Ze=St.numFrames,Je=St.frames,Qe=St.numPlays,(We=function(){var ti,ni;if(ti=Ke++%Ze,ni=Je[ti],ei.renderFrame(Xe,ti),Ze>1&&Ke/Ze<Qe)return ei.animation._timeout=setTimeout(We,ni.delay)})()},ze.prototype.stopAnimation=function(){var Xe;return clearTimeout((Xe=this.animation)!=null?Xe._timeout:void 0)},ze.prototype.render=function(Xe){var We,Ke;return Xe._png&&Xe._png.stopAnimation(),Xe._png=this,Xe.width=this.width,Xe.height=this.height,We=Xe.getContext("2d"),this.animation?(this.decodeFrames(We),this.animate(We)):(Ke=We.createImageData(this.width,this.height),this.copyToImageData(Ke,this.decodePixels()),We.putImageData(Ke,0,0))},ze}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Zt(je){var $e=0;if(je[$e++]!==71||je[$e++]!==73||je[$e++]!==70||je[$e++]!==56||(je[$e++]+1&253)!=56||je[$e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var Ve=je[$e++]|je[$e++]<<8,ze=je[$e++]|je[$e++]<<8,qe=je[$e++],Xe=qe>>7,We=1<<(7&qe)+1;je[$e++],je[$e++];var Ke=null,Je=null;Xe&&(Ke=$e,Je=We,$e+=3*We);var Ze=!0,Qe=[],St=0,ei=null,ti=0,ni=null;for(this.width=Ve,this.height=ze;Ze&&$e<je.length;)switch(je[$e++]){case 33:switch(je[$e++]){case 255:if(je[$e]!==11||je[$e+1]==78&&je[$e+2]==69&&je[$e+3]==84&&je[$e+4]==83&&je[$e+5]==67&&je[$e+6]==65&&je[$e+7]==80&&je[$e+8]==69&&je[$e+9]==50&&je[$e+10]==46&&je[$e+11]==48&&je[$e+12]==3&&je[$e+13]==1&&je[$e+16]==0)$e+=14,ni=je[$e++]|je[$e++]<<8,$e++;else for($e+=12;;){if(!((pi=je[$e++])>=0))throw Error("Invalid block size");if(pi===0)break;$e+=pi}break;case 249:if(je[$e++]!==4||je[$e+4]!==0)throw new Error("Invalid graphics extension block.");var oi=je[$e++];St=je[$e++]|je[$e++]<<8,ei=je[$e++],!(1&oi)&&(ei=null),ti=oi>>2&7,$e++;break;case 254:for(;;){if(!((pi=je[$e++])>=0))throw Error("Invalid block size");if(pi===0)break;$e+=pi}break;default:throw new Error("Unknown graphic control label: 0x"+je[$e-1].toString(16))}break;case 44:var ai=je[$e++]|je[$e++]<<8,si=je[$e++]|je[$e++]<<8,ri=je[$e++]|je[$e++]<<8,ii=je[$e++]|je[$e++]<<8,ui=je[$e++],ci=ui>>6&1,hi=1<<(7&ui)+1,mi=Ke,di=Je,fi=!1;ui>>7&&(fi=!0,mi=$e,di=hi,$e+=3*hi);var yi=$e;for($e++;;){var pi;if(!((pi=je[$e++])>=0))throw Error("Invalid block size");if(pi===0)break;$e+=pi}Qe.push({x:ai,y:si,width:ri,height:ii,has_local_palette:fi,palette_offset:mi,palette_size:di,data_offset:yi,data_length:$e-yi,transparent_index:ei,interlaced:!!ci,delay:St,disposal:ti});break;case 59:Ze=!1;break;default:throw new Error("Unknown gif block: 0x"+je[$e-1].toString(16))}this.numFrames=function(){return Qe.length},this.loopCount=function(){return ni},this.frameInfo=function(xi){if(xi<0||xi>=Qe.length)throw new Error("Frame index out of range.");return Qe[xi]},this.decodeAndBlitFrameBGRA=function(xi,Si){var vi=this.frameInfo(xi),Di=vi.width*vi.height,Ti=new Uint8Array(Di);$t(je,vi.data_offset,Ti,Di);var Fi=vi.palette_offset,Ci=vi.transparent_index;Ci===null&&(Ci=256);var Ni=vi.width,Ri=Ve-Ni,Yi=Ni,ki=4*(vi.y*Ve+vi.x),ji=4*((vi.y+vi.height)*Ve+vi.x),Vi=ki,Bi=4*Ri;vi.interlaced===!0&&(Bi+=4*Ve*7);for(var Xi=8,en=0,tn=Ti.length;en<tn;++en){var Ji=Ti[en];if(Yi===0&&(Yi=Ni,(Vi+=Bi)>=ji&&(Bi=4*Ri+4*Ve*(Xi-1),Vi=ki+(Ni+Ri)*(Xi<<1),Xi>>=1)),Ji===Ci)Vi+=4;else{var Li=je[Fi+3*Ji],wi=je[Fi+3*Ji+1],_i=je[Fi+3*Ji+2];Si[Vi++]=_i,Si[Vi++]=wi,Si[Vi++]=Li,Si[Vi++]=255}--Yi}},this.decodeAndBlitFrameRGBA=function(xi,Si){var vi=this.frameInfo(xi),Di=vi.width*vi.height,Ti=new Uint8Array(Di);$t(je,vi.data_offset,Ti,Di);var Fi=vi.palette_offset,Ci=vi.transparent_index;Ci===null&&(Ci=256);var Ni=vi.width,Ri=Ve-Ni,Yi=Ni,ki=4*(vi.y*Ve+vi.x),ji=4*((vi.y+vi.height)*Ve+vi.x),Vi=ki,Bi=4*Ri;vi.interlaced===!0&&(Bi+=4*Ve*7);for(var Xi=8,en=0,tn=Ti.length;en<tn;++en){var Ji=Ti[en];if(Yi===0&&(Yi=Ni,(Vi+=Bi)>=ji&&(Bi=4*Ri+4*Ve*(Xi-1),Vi=ki+(Ni+Ri)*(Xi<<1),Xi>>=1)),Ji===Ci)Vi+=4;else{var Li=je[Fi+3*Ji],wi=je[Fi+3*Ji+1],_i=je[Fi+3*Ji+2];Si[Vi++]=Li,Si[Vi++]=wi,Si[Vi++]=_i,Si[Vi++]=255}--Yi}}}function $t(je,$e,Ve,ze){for(var qe=je[$e++],Xe=1<<qe,We=Xe+1,Ke=We+1,Je=qe+1,Ze=(1<<Je)-1,Qe=0,St=0,ei=0,ti=je[$e++],ni=new Int32Array(4096),oi=null;;){for(;Qe<16&&ti!==0;)St|=je[$e++]<<Qe,Qe+=8,ti===1?ti=je[$e++]:--ti;if(Qe<Je)break;var ai=St&Ze;if(St>>=Je,Qe-=Je,ai!==Xe){if(ai===We)break;for(var si=ai<Ke?ai:oi,ri=0,ii=si;ii>Xe;)ii=ni[ii]>>8,++ri;var ui=ii;if(ei+ri+(si!==ai?1:0)>ze)return void a.log("Warning, gif stream longer than expected.");Ve[ei++]=ui;var ci=ei+=ri;for(si!==ai&&(Ve[ei++]=ui),ii=si;ri--;)ii=ni[ii],Ve[--ci]=255&ii,ii>>=8;oi!==null&&Ke<4096&&(ni[Ke++]=oi<<8|ui,Ke>=Ze+1&&Je<12&&(++Je,Ze=Ze<<1|1)),oi=ai}else Ke=We+1,Ze=(1<<(Je=qe+1))-1,oi=null}return ei!==ze&&a.log("Warning, gif stream shorter than expected."),Ve}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Qt(je){var $e,Ve,ze,qe,Xe,We=Math.floor,Ke=new Array(64),Je=new Array(64),Ze=new Array(64),Qe=new Array(64),St=new Array(65535),ei=new Array(65535),ti=new Array(64),ni=new Array(64),oi=[],ai=0,si=7,ri=new Array(64),ii=new Array(64),ui=new Array(64),ci=new Array(256),hi=new Array(2048),mi=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],di=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],fi=[0,1,2,3,4,5,6,7,8,9,10,11],yi=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],pi=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],xi=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Si=[0,1,2,3,4,5,6,7,8,9,10,11],vi=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Di=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ti(ki,ji){for(var Vi=0,Bi=0,Xi=new Array,en=1;en<=16;en++){for(var tn=1;tn<=ki[en];tn++)Xi[ji[Bi]]=[],Xi[ji[Bi]][0]=Vi,Xi[ji[Bi]][1]=en,Bi++,Vi++;Vi*=2}return Xi}function Fi(ki){for(var ji=ki[0],Vi=ki[1]-1;Vi>=0;)ji&1<<Vi&&(ai|=1<<si),Vi--,--si<0&&(ai==255?(Ci(255),Ci(0)):Ci(ai),si=7,ai=0)}function Ci(ki){oi.push(ki)}function Ni(ki){Ci(ki>>8&255),Ci(255&ki)}function Ri(ki,ji,Vi,Bi,Xi){for(var en,tn=Xi[0],Ji=Xi[240],Li=function(Ui,rn){var un,dn,hn,Sn,fn,Pn,zi,En,yn,An,sn=0;for(yn=0;yn<8;++yn){un=Ui[sn],dn=Ui[sn+1],hn=Ui[sn+2],Sn=Ui[sn+3],fn=Ui[sn+4],Pn=Ui[sn+5],zi=Ui[sn+6];var _n=un+(En=Ui[sn+7]),Tn=un-En,In=dn+zi,Rn=dn-zi,zn=hn+Pn,Un=hn-Pn,qn=Sn+fn,er=Sn-fn,ir=_n+qn,dr=_n-qn,sr=In+zn,nr=In-zn;Ui[sn]=ir+sr,Ui[sn+4]=ir-sr;var Jn=.707106781*(nr+dr);Ui[sn+2]=dr+Jn,Ui[sn+6]=dr-Jn;var cr=.382683433*((ir=er+Un)-(nr=Rn+Tn)),Ln=.5411961*ir+cr,Wi=1.306562965*nr+cr,mn=.707106781*(sr=Un+Rn),vn=Tn+mn,Mn=Tn-mn;Ui[sn+5]=Mn+Ln,Ui[sn+3]=Mn-Ln,Ui[sn+1]=vn+Wi,Ui[sn+7]=vn-Wi,sn+=8}for(sn=0,yn=0;yn<8;++yn){un=Ui[sn],dn=Ui[sn+8],hn=Ui[sn+16],Sn=Ui[sn+24],fn=Ui[sn+32],Pn=Ui[sn+40],zi=Ui[sn+48];var Hn=un+(En=Ui[sn+56]),Xn=un-En,mr=dn+zi,rr=dn-zi,ur=hn+Pn,Cr=hn-Pn,oo=Sn+fn,Sr=Sn-fn,Nr=Hn+oo,yr=Hn-oo,Dr=mr+ur,Ar=mr-ur;Ui[sn]=Nr+Dr,Ui[sn+32]=Nr-Dr;var Tr=.707106781*(Ar+yr);Ui[sn+16]=yr+Tr,Ui[sn+48]=yr-Tr;var Hr=.382683433*((Nr=Sr+Cr)-(Ar=rr+Xn)),jr=.5411961*Nr+Hr,ho=1.306562965*Ar+Hr,Mo=.707106781*(Dr=Cr+rr),Do=Xn+Mo,ko=Xn-Mo;Ui[sn+40]=ko+jr,Ui[sn+24]=ko-jr,Ui[sn+8]=Do+ho,Ui[sn+56]=Do-ho,sn++}for(yn=0;yn<64;++yn)An=Ui[yn]*rn[yn],ti[yn]=An>0?An+.5|0:An-.5|0;return ti}(ki,ji),wi=0;wi<64;++wi)ni[mi[wi]]=Li[wi];var _i=ni[0]-Vi;Vi=ni[0],_i==0?Fi(Bi[0]):(Fi(Bi[ei[en=32767+_i]]),Fi(St[en]));for(var Ai=63;Ai>0&&ni[Ai]==0;)Ai--;if(Ai==0)return Fi(tn),Vi;for(var Oi,Ii=1;Ii<=Ai;){for(var Mi=Ii;ni[Ii]==0&&Ii<=Ai;)++Ii;var Gi=Ii-Mi;if(Gi>=16){Oi=Gi>>4;for(var on=1;on<=Oi;++on)Fi(Ji);Gi&=15}en=32767+ni[Ii],Fi(Xi[(Gi<<4)+ei[en]]),Fi(St[en]),Ii++}return Ai!=63&&Fi(tn),Vi}function Yi(ki){ki=Math.min(Math.max(ki,1),100),Xe!=ki&&(function(ji){for(var Vi=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Bi=0;Bi<64;Bi++){var Xi=We((Vi[Bi]*ji+50)/100);Xi=Math.min(Math.max(Xi,1),255),Ke[mi[Bi]]=Xi}for(var en=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],tn=0;tn<64;tn++){var Ji=We((en[tn]*ji+50)/100);Ji=Math.min(Math.max(Ji,1),255),Je[mi[tn]]=Ji}for(var Li=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],wi=0,_i=0;_i<8;_i++)for(var Ai=0;Ai<8;Ai++)Ze[wi]=1/(Ke[mi[wi]]*Li[_i]*Li[Ai]*8),Qe[wi]=1/(Je[mi[wi]]*Li[_i]*Li[Ai]*8),wi++}(ki<50?Math.floor(5e3/ki):Math.floor(200-2*ki)),Xe=ki)}this.encode=function(ki,ji){ji&&Yi(ji),oi=new Array,ai=0,si=7,Ni(65496),Ni(65504),Ni(16),Ci(74),Ci(70),Ci(73),Ci(70),Ci(0),Ci(1),Ci(1),Ci(0),Ni(1),Ni(1),Ci(0),Ci(0),function(){Ni(65499),Ni(132),Ci(0);for(var dn=0;dn<64;dn++)Ci(Ke[dn]);Ci(1);for(var hn=0;hn<64;hn++)Ci(Je[hn])}(),function(dn,hn){Ni(65472),Ni(17),Ci(8),Ni(hn),Ni(dn),Ci(3),Ci(1),Ci(17),Ci(0),Ci(2),Ci(17),Ci(1),Ci(3),Ci(17),Ci(1)}(ki.width,ki.height),function(){Ni(65476),Ni(418),Ci(0);for(var dn=0;dn<16;dn++)Ci(di[dn+1]);for(var hn=0;hn<=11;hn++)Ci(fi[hn]);Ci(16);for(var Sn=0;Sn<16;Sn++)Ci(yi[Sn+1]);for(var fn=0;fn<=161;fn++)Ci(pi[fn]);Ci(1);for(var Pn=0;Pn<16;Pn++)Ci(xi[Pn+1]);for(var zi=0;zi<=11;zi++)Ci(Si[zi]);Ci(17);for(var En=0;En<16;En++)Ci(vi[En+1]);for(var yn=0;yn<=161;yn++)Ci(Di[yn])}(),Ni(65498),Ni(12),Ci(3),Ci(1),Ci(0),Ci(2),Ci(17),Ci(3),Ci(17),Ci(0),Ci(63),Ci(0);var Vi=0,Bi=0,Xi=0;ai=0,si=7,this.encode.displayName="_encode_";for(var en,tn,Ji,Li,wi,_i,Ai,Oi,Ii,Mi=ki.data,Gi=ki.width,on=ki.height,Ui=4*Gi,rn=0;rn<on;){for(en=0;en<Ui;){for(wi=Ui*rn+en,Ai=-1,Oi=0,Ii=0;Ii<64;Ii++)_i=wi+(Oi=Ii>>3)*Ui+(Ai=4*(7&Ii)),rn+Oi>=on&&(_i-=Ui*(rn+1+Oi-on)),en+Ai>=Ui&&(_i-=en+Ai-Ui+4),tn=Mi[_i++],Ji=Mi[_i++],Li=Mi[_i++],ri[Ii]=(hi[tn]+hi[Ji+256>>0]+hi[Li+512>>0]>>16)-128,ii[Ii]=(hi[tn+768>>0]+hi[Ji+1024>>0]+hi[Li+1280>>0]>>16)-128,ui[Ii]=(hi[tn+1280>>0]+hi[Ji+1536>>0]+hi[Li+1792>>0]>>16)-128;Vi=Ri(ri,Ze,Vi,$e,ze),Bi=Ri(ii,Qe,Bi,Ve,qe),Xi=Ri(ui,Qe,Xi,Ve,qe),en+=32}rn+=8}if(si>=0){var un=[];un[1]=si+1,un[0]=(1<<si+1)-1,Fi(un)}return Ni(65497),new Uint8Array(oi)},je=je||50,function(){for(var ki=String.fromCharCode,ji=0;ji<256;ji++)ci[ji]=ki(ji)}(),$e=Ti(di,fi),Ve=Ti(xi,Si),ze=Ti(yi,pi),qe=Ti(vi,Di),function(){for(var ki=1,ji=2,Vi=1;Vi<=15;Vi++){for(var Bi=ki;Bi<ji;Bi++)ei[32767+Bi]=Vi,St[32767+Bi]=[],St[32767+Bi][1]=Vi,St[32767+Bi][0]=Bi;for(var Xi=-(ji-1);Xi<=-ki;Xi++)ei[32767+Xi]=Vi,St[32767+Xi]=[],St[32767+Xi][1]=Vi,St[32767+Xi][0]=ji-1+Xi;ki<<=1,ji<<=1}}(),function(){for(var ki=0;ki<256;ki++)hi[ki]=19595*ki,hi[ki+256>>0]=38470*ki,hi[ki+512>>0]=7471*ki+32768,hi[ki+768>>0]=-11059*ki,hi[ki+1024>>0]=-21709*ki,hi[ki+1280>>0]=32768*ki+8421375,hi[ki+1536>>0]=-27439*ki,hi[ki+1792>>0]=-5329*ki}(),Yi(je)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function te(je,$e){if(this.pos=0,this.buffer=je,this.datav=new DataView(je.buffer),this.is_with_alpha=!!$e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ee(je){function $e(di){if(!di)throw Error("assert :P")}function Ve(di,fi,yi){for(var pi=0;4>pi;pi++)if(di[fi+pi]!=yi.charCodeAt(pi))return!0;return!1}function ze(di,fi,yi,pi,xi){for(var Si=0;Si<xi;Si++)di[fi+Si]=yi[pi+Si]}function qe(di,fi,yi,pi){for(var xi=0;xi<pi;xi++)di[fi+xi]=yi}function Xe(di){return new Int32Array(di)}function We(di,fi){for(var yi=[],pi=0;pi<di;pi++)yi.push(new fi);return yi}function Ke(di,fi){var yi=[];return function pi(xi,Si,vi){for(var Di=vi[Si],Ti=0;Ti<Di&&(xi.push(vi.length>Si+1?[]:new fi),!(vi.length<Si+1));Ti++)pi(xi[Ti],Si+1,vi)}(yi,0,di),yi}var Je=function(){var di=this;function fi(gi,bi){for(var Ei=1<<bi-1>>>0;gi&Ei;)Ei>>>=1;return Ei?(gi&Ei-1)+Ei:gi}function yi(gi,bi,Ei,$i,Hi){$e(!($i%Ei));do gi[bi+($i-=Ei)]=Hi;while(0<$i)}function pi(gi,bi,Ei,$i,Hi){if($e(2328>=Hi),512>=Hi)var Ki=Xe(512);else if((Ki=Xe(Hi))==null)return 0;return function(Zi,Qi,nn,an,gn,Dn){var kn,bn,$n=Qi,On=1<<nn,xn=Xe(16),wn=Xe(16);for($e(gn!=0),$e(an!=null),$e(Zi!=null),$e(0<nn),bn=0;bn<gn;++bn){if(15<an[bn])return 0;++xn[an[bn]]}if(xn[0]==gn)return 0;for(wn[1]=0,kn=1;15>kn;++kn){if(xn[kn]>1<<kn)return 0;wn[kn+1]=wn[kn]+xn[kn]}for(bn=0;bn<gn;++bn)kn=an[bn],0<an[bn]&&(Dn[wn[kn]++]=bn);if(wn[15]==1)return(an=new xi).g=0,an.value=Dn[0],yi(Zi,$n,1,On,an),On;var Fn,jn=-1,Bn=On-1,Zn=0,Yn=1,tr=1,Gn=1<<nn;for(bn=0,kn=1,gn=2;kn<=nn;++kn,gn<<=1){if(Yn+=tr<<=1,0>(tr-=xn[kn]))return 0;for(;0<xn[kn];--xn[kn])(an=new xi).g=kn,an.value=Dn[bn++],yi(Zi,$n+Zn,gn,Gn,an),Zn=fi(Zn,kn)}for(kn=nn+1,gn=2;15>=kn;++kn,gn<<=1){if(Yn+=tr<<=1,0>(tr-=xn[kn]))return 0;for(;0<xn[kn];--xn[kn]){if(an=new xi,(Zn&Bn)!=jn){for($n+=Gn,Fn=1<<(jn=kn)-nn;15>jn&&!(0>=(Fn-=xn[jn]));)++jn,Fn<<=1;On+=Gn=1<<(Fn=jn-nn),Zi[Qi+(jn=Zn&Bn)].g=Fn+nn,Zi[Qi+jn].value=$n-Qi-jn}an.g=kn-nn,an.value=Dn[bn++],yi(Zi,$n+(Zn>>nn),gn,Gn,an),Zn=fi(Zn,kn)}}return Yn!=2*wn[15]-1?0:On}(gi,bi,Ei,$i,Hi,Ki)}function xi(){this.value=this.g=0}function Si(){this.value=this.g=0}function vi(){this.G=We(5,xi),this.H=Xe(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=We(Kr,Si)}function Di(gi,bi,Ei,$i){$e(gi!=null),$e(bi!=null),$e(2147483648>$i),gi.Ca=254,gi.I=0,gi.b=-8,gi.Ka=0,gi.oa=bi,gi.pa=Ei,gi.Jd=bi,gi.Yc=Ei+$i,gi.Zc=4<=$i?Ei+$i-4+1:Ei,en(gi)}function Ti(gi,bi){for(var Ei=0;0<bi--;)Ei|=Ji(gi,128)<<bi;return Ei}function Fi(gi,bi){var Ei=Ti(gi,bi);return tn(gi)?-Ei:Ei}function Ci(gi,bi,Ei,$i){var Hi,Ki=0;for($e(gi!=null),$e(bi!=null),$e(4294967288>$i),gi.Sb=$i,gi.Ra=0,gi.u=0,gi.h=0,4<$i&&($i=4),Hi=0;Hi<$i;++Hi)Ki+=bi[Ei+Hi]<<8*Hi;gi.Ra=Ki,gi.bb=$i,gi.oa=bi,gi.pa=Ei}function Ni(gi){for(;8<=gi.u&&gi.bb<gi.Sb;)gi.Ra>>>=8,gi.Ra+=gi.oa[gi.pa+gi.bb]<<Cs-8>>>0,++gi.bb,gi.u-=8;Vi(gi)&&(gi.h=1,gi.u=0)}function Ri(gi,bi){if($e(0<=bi),!gi.h&&bi<=_s){var Ei=ji(gi)&As[bi];return gi.u+=bi,Ni(gi),Ei}return gi.h=1,gi.u=0}function Yi(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function ki(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ji(gi){return gi.Ra>>>(gi.u&Cs-1)>>>0}function Vi(gi){return $e(gi.bb<=gi.Sb),gi.h||gi.bb==gi.Sb&&gi.u>Cs}function Bi(gi,bi){gi.u=bi,gi.h=Vi(gi)}function Xi(gi){gi.u>=ea&&($e(gi.u>=ea),Ni(gi))}function en(gi){$e(gi!=null&&gi.oa!=null),gi.pa<gi.Zc?(gi.I=(gi.oa[gi.pa++]|gi.I<<8)>>>0,gi.b+=8):($e(gi!=null&&gi.oa!=null),gi.pa<gi.Yc?(gi.b+=8,gi.I=gi.oa[gi.pa++]|gi.I<<8):gi.Ka?gi.b=0:(gi.I<<=8,gi.b+=8,gi.Ka=1))}function tn(gi){return Ti(gi,1)}function Ji(gi,bi){var Ei=gi.Ca;0>gi.b&&en(gi);var $i=gi.b,Hi=Ei*bi>>>8,Ki=(gi.I>>>$i>Hi)+0;for(Ki?(Ei-=Hi,gi.I-=Hi+1<<$i>>>0):Ei=Hi+1,$i=Ei,Hi=0;256<=$i;)Hi+=8,$i>>=8;return $i=7^Hi+Zr[$i],gi.b-=$i,gi.Ca=(Ei<<$i)-1,Ki}function Li(gi,bi,Ei){gi[bi+0]=Ei>>24&255,gi[bi+1]=Ei>>16&255,gi[bi+2]=Ei>>8&255,gi[bi+3]=Ei>>0&255}function wi(gi,bi){return gi[bi+0]<<0|gi[bi+1]<<8}function _i(gi,bi){return wi(gi,bi)|gi[bi+2]<<16}function Ai(gi,bi){return wi(gi,bi)|wi(gi,bi+2)<<16}function Oi(gi,bi){var Ei=1<<bi;return $e(gi!=null),$e(0<bi),gi.X=Xe(Ei),gi.X==null?0:(gi.Mb=32-bi,gi.Xa=bi,1)}function Ii(gi,bi){$e(gi!=null),$e(bi!=null),$e(gi.Xa==bi.Xa),ze(bi.X,0,gi.X,0,1<<bi.Xa)}function Mi(){this.X=[],this.Xa=this.Mb=0}function Gi(gi,bi,Ei,$i){$e(Ei!=null),$e($i!=null);var Hi=Ei[0],Ki=$i[0];return Hi==0&&(Hi=(gi*Ki+bi/2)/bi),Ki==0&&(Ki=(bi*Hi+gi/2)/gi),0>=Hi||0>=Ki?0:(Ei[0]=Hi,$i[0]=Ki,1)}function on(gi,bi){return gi+(1<<bi)-1>>>bi}function Ui(gi,bi){return((4278255360&gi)+(4278255360&bi)>>>0&4278255360)+((16711935&gi)+(16711935&bi)>>>0&16711935)>>>0}function rn(gi,bi){di[bi]=function(Ei,$i,Hi,Ki,Zi,Qi,nn){var an;for(an=0;an<Zi;++an){var gn=di[gi](Qi[nn+an-1],Hi,Ki+an);Qi[nn+an]=Ui(Ei[$i+an],gn)}}}function un(){this.ud=this.hd=this.jd=0}function dn(gi,bi){return((4278124286&(gi^bi))>>>1)+(gi&bi)>>>0}function hn(gi){return 0<=gi&&256>gi?gi:0>gi?0:255<gi?255:void 0}function Sn(gi,bi){return hn(gi+(gi-bi+.5>>1))}function fn(gi,bi,Ei){return Math.abs(bi-Ei)-Math.abs(gi-Ei)}function Pn(gi,bi,Ei,$i,Hi,Ki,Zi){for($i=Ki[Zi-1],Ei=0;Ei<Hi;++Ei)Ki[Zi+Ei]=$i=Ui(gi[bi+Ei],$i)}function zi(gi,bi,Ei,$i,Hi){var Ki;for(Ki=0;Ki<Ei;++Ki){var Zi=gi[bi+Ki],Qi=Zi>>8&255,nn=16711935&(nn=(nn=16711935&Zi)+((Qi<<16)+Qi));$i[Hi+Ki]=(4278255360&Zi)+nn>>>0}}function En(gi,bi){bi.jd=gi>>0&255,bi.hd=gi>>8&255,bi.ud=gi>>16&255}function yn(gi,bi,Ei,$i,Hi,Ki){var Zi;for(Zi=0;Zi<$i;++Zi){var Qi=bi[Ei+Zi],nn=Qi>>>8,an=Qi,gn=255&(gn=(gn=Qi>>>16)+((gi.jd<<24>>24)*(nn<<24>>24)>>>5));an=255&(an=(an=an+((gi.hd<<24>>24)*(nn<<24>>24)>>>5))+((gi.ud<<24>>24)*(gn<<24>>24)>>>5)),Hi[Ki+Zi]=(4278255360&Qi)+(gn<<16)+an}}function An(gi,bi,Ei,$i,Hi){di[bi]=function(Ki,Zi,Qi,nn,an,gn,Dn,kn,bn){for(nn=Dn;nn<kn;++nn)for(Dn=0;Dn<bn;++Dn)an[gn++]=Hi(Qi[$i(Ki[Zi++])])},di[gi]=function(Ki,Zi,Qi,nn,an,gn,Dn){var kn=8>>Ki.b,bn=Ki.Ea,$n=Ki.K[0],On=Ki.w;if(8>kn)for(Ki=(1<<Ki.b)-1,On=(1<<kn)-1;Zi<Qi;++Zi){var xn,wn=0;for(xn=0;xn<bn;++xn)xn&Ki||(wn=$i(nn[an++])),gn[Dn++]=Hi($n[wn&On]),wn>>=kn}else di["VP8LMapColor"+Ei](nn,an,$n,On,gn,Dn,Zi,Qi,bn)}}function sn(gi,bi,Ei,$i,Hi){for(Ei=bi+Ei;bi<Ei;){var Ki=gi[bi++];$i[Hi++]=Ki>>16&255,$i[Hi++]=Ki>>8&255,$i[Hi++]=Ki>>0&255}}function _n(gi,bi,Ei,$i,Hi){for(Ei=bi+Ei;bi<Ei;){var Ki=gi[bi++];$i[Hi++]=Ki>>16&255,$i[Hi++]=Ki>>8&255,$i[Hi++]=Ki>>0&255,$i[Hi++]=Ki>>24&255}}function Tn(gi,bi,Ei,$i,Hi){for(Ei=bi+Ei;bi<Ei;){var Ki=(Zi=gi[bi++])>>16&240|Zi>>12&15,Zi=Zi>>0&240|Zi>>28&15;$i[Hi++]=Ki,$i[Hi++]=Zi}}function In(gi,bi,Ei,$i,Hi){for(Ei=bi+Ei;bi<Ei;){var Ki=(Zi=gi[bi++])>>16&248|Zi>>13&7,Zi=Zi>>5&224|Zi>>3&31;$i[Hi++]=Ki,$i[Hi++]=Zi}}function Rn(gi,bi,Ei,$i,Hi){for(Ei=bi+Ei;bi<Ei;){var Ki=gi[bi++];$i[Hi++]=Ki>>0&255,$i[Hi++]=Ki>>8&255,$i[Hi++]=Ki>>16&255}}function zn(gi,bi,Ei,$i,Hi,Ki){if(Ki==0)for(Ei=bi+Ei;bi<Ei;)Li($i,((Ki=gi[bi++])[0]>>24|Ki[1]>>8&65280|Ki[2]<<8&16711680|Ki[3]<<24)>>>0),Hi+=32;else ze($i,Hi,gi,bi,Ei)}function Un(gi,bi){di[bi][0]=di[gi+"0"],di[bi][1]=di[gi+"1"],di[bi][2]=di[gi+"2"],di[bi][3]=di[gi+"3"],di[bi][4]=di[gi+"4"],di[bi][5]=di[gi+"5"],di[bi][6]=di[gi+"6"],di[bi][7]=di[gi+"7"],di[bi][8]=di[gi+"8"],di[bi][9]=di[gi+"9"],di[bi][10]=di[gi+"10"],di[bi][11]=di[gi+"11"],di[bi][12]=di[gi+"12"],di[bi][13]=di[gi+"13"],di[bi][14]=di[gi+"0"],di[bi][15]=di[gi+"0"]}function qn(gi){return gi==Ll||gi==El||gi==ja||gi==Ol}function er(){this.eb=[],this.size=this.A=this.fb=0}function ir(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function dr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new er,this.f.kb=new ir,this.sd=null}function sr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function nr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Jn(gi){return alert("todo:WebPSamplerProcessPlane"),gi.T}function cr(gi,bi){var Ei=gi.T,$i=bi.ba.f.RGBA,Hi=$i.eb,Ki=$i.fb+gi.ka*$i.A,Zi=uo[bi.ba.S],Qi=gi.y,nn=gi.O,an=gi.f,gn=gi.N,Dn=gi.ea,kn=gi.W,bn=bi.cc,$n=bi.dc,On=bi.Mc,xn=bi.Nc,wn=gi.ka,Fn=gi.ka+gi.T,jn=gi.U,Bn=jn+1>>1;for(wn==0?Zi(Qi,nn,null,null,an,gn,Dn,kn,an,gn,Dn,kn,Hi,Ki,null,null,jn):(Zi(bi.ec,bi.fc,Qi,nn,bn,$n,On,xn,an,gn,Dn,kn,Hi,Ki-$i.A,Hi,Ki,jn),++Ei);wn+2<Fn;wn+=2)bn=an,$n=gn,On=Dn,xn=kn,gn+=gi.Rc,kn+=gi.Rc,Ki+=2*$i.A,Zi(Qi,(nn+=2*gi.fa)-gi.fa,Qi,nn,bn,$n,On,xn,an,gn,Dn,kn,Hi,Ki-$i.A,Hi,Ki,jn);return nn+=gi.fa,gi.j+Fn<gi.o?(ze(bi.ec,bi.fc,Qi,nn,jn),ze(bi.cc,bi.dc,an,gn,Bn),ze(bi.Mc,bi.Nc,Dn,kn,Bn),Ei--):1&Fn||Zi(Qi,nn,null,null,an,gn,Dn,kn,an,gn,Dn,kn,Hi,Ki+$i.A,null,null,jn),Ei}function Ln(gi,bi,Ei){var $i=gi.F,Hi=[gi.J];if($i!=null){var Ki=gi.U,Zi=bi.ba.S,Qi=Zi==$a||Zi==ja;bi=bi.ba.f.RGBA;var nn=[0],an=gi.ka;nn[0]=gi.T,gi.Kb&&(an==0?--nn[0]:(--an,Hi[0]-=gi.width),gi.j+gi.ka+gi.T==gi.o&&(nn[0]=gi.o-gi.j-an));var gn=bi.eb;an=bi.fb+an*bi.A,gi=Ia($i,Hi[0],gi.width,Ki,nn,gn,an+(Qi?0:3),bi.A),$e(Ei==nn),gi&&qn(Zi)&&Go(gn,an,Qi,Ki,nn,bi.A)}return 0}function Wi(gi){var bi=gi.ma,Ei=bi.ba.S,$i=11>Ei,Hi=Ei==Fa||Ei==Ba||Ei==$a||Ei==Tl||Ei==12||qn(Ei);if(bi.memory=null,bi.Ib=null,bi.Jb=null,bi.Nd=null,!Js(bi.Oa,gi,Hi?11:12))return 0;if(Hi&&qn(Ei)&&Vn(),gi.da)alert("todo:use_scaling");else{if($i){if(bi.Ib=Jn,gi.Kb){if(Ei=gi.U+1>>1,bi.memory=Xe(gi.U+2*Ei),bi.memory==null)return 0;bi.ec=bi.memory,bi.fc=0,bi.cc=bi.ec,bi.dc=bi.fc+gi.U,bi.Mc=bi.cc,bi.Nc=bi.dc+Ei,bi.Ib=cr,Vn()}}else alert("todo:EmitYUV");Hi&&(bi.Jb=Ln,$i&&Cn())}if($i&&!gu){for(gi=0;256>gi;++gi)pc[gi]=89858*(gi-128)+Ua>>Va,yc[gi]=-22014*(gi-128)+Ua,xc[gi]=-45773*(gi-128),gc[gi]=113618*(gi-128)+Ua>>Va;for(gi=sa;gi<Rl;++gi)bi=76283*(gi-16)+Ua>>Va,wc[gi-sa]=to(bi,255),bc[gi-sa]=to(bi+8>>4,15);gu=1}return 1}function mn(gi){var bi=gi.ma,Ei=gi.U,$i=gi.T;return $e(!(1&gi.ka)),0>=Ei||0>=$i?0:(Ei=bi.Ib(gi,bi),bi.Jb!=null&&bi.Jb(gi,bi,Ei),bi.Dc+=Ei,1)}function vn(gi){gi.ma.memory=null}function Mn(gi,bi,Ei,$i){return Ri(gi,8)!=47?0:(bi[0]=Ri(gi,14)+1,Ei[0]=Ri(gi,14)+1,$i[0]=Ri(gi,1),Ri(gi,3)!=0?0:!gi.h)}function Hn(gi,bi){if(4>gi)return gi+1;var Ei=gi-2>>1;return(2+(1&gi)<<Ei)+Ri(bi,Ei)+1}function Xn(gi,bi){return 120<bi?bi-120:1<=(Ei=((Ei=ec[bi-1])>>4)*gi+(8-(15&Ei)))?Ei:1;var Ei}function mr(gi,bi,Ei){var $i=ji(Ei),Hi=gi[bi+=255&$i].g-8;return 0<Hi&&(Bi(Ei,Ei.u+8),$i=ji(Ei),bi+=gi[bi].value,bi+=$i&(1<<Hi)-1),Bi(Ei,Ei.u+gi[bi].g),gi[bi].value}function rr(gi,bi,Ei){return Ei.g+=gi.g,Ei.value+=gi.value<<bi>>>0,$e(8>=Ei.g),gi.g}function ur(gi,bi,Ei){var $i=gi.xc;return $e((bi=$i==0?0:gi.vc[gi.md*(Ei>>$i)+(bi>>$i)])<gi.Wb),gi.Ya[bi]}function Cr(gi,bi,Ei,$i){var Hi=gi.ab,Ki=gi.c*bi,Zi=gi.C;bi=Zi+bi;var Qi=Ei,nn=$i;for($i=gi.Ta,Ei=gi.Ua;0<Hi--;){var an=gi.gc[Hi],gn=Zi,Dn=bi,kn=Qi,bn=nn,$n=(nn=$i,Qi=Ei,an.Ea);switch($e(gn<Dn),$e(Dn<=an.nc),an.hc){case 2:Oa(kn,bn,(Dn-gn)*$n,nn,Qi);break;case 0:var On=gn,xn=Dn,wn=nn,Fn=Qi,jn=(Gn=an).Ea;On==0&&(Pl(kn,bn,null,null,1,wn,Fn),Pn(kn,bn+1,0,0,jn-1,wn,Fn+1),bn+=jn,Fn+=jn,++On);for(var Bn=1<<Gn.b,Zn=Bn-1,Yn=on(jn,Gn.b),tr=Gn.K,Gn=Gn.w+(On>>Gn.b)*Yn;On<xn;){var xr=tr,wr=Gn,gr=1;for(ta(kn,bn,wn,Fn-jn,1,wn,Fn);gr<jn;){var fr=(gr&~Zn)+Bn;fr>jn&&(fr=jn),(0,qo[xr[wr++]>>8&15])(kn,bn+ +gr,wn,Fn+gr-jn,fr-gr,wn,Fn+gr),gr=fr}bn+=jn,Fn+=jn,++On&Zn||(Gn+=Yn)}Dn!=an.nc&&ze(nn,Qi-$n,nn,Qi+(Dn-gn-1)*$n,$n);break;case 1:for($n=kn,xn=bn,jn=(kn=an.Ea)-(Fn=kn&~(wn=(bn=1<<an.b)-1)),On=on(kn,an.b),Bn=an.K,an=an.w+(gn>>an.b)*On;gn<Dn;){for(Zn=Bn,Yn=an,tr=new un,Gn=xn+Fn,xr=xn+kn;xn<Gn;)En(Zn[Yn++],tr),so(tr,$n,xn,bn,nn,Qi),xn+=bn,Qi+=bn;xn<xr&&(En(Zn[Yn++],tr),so(tr,$n,xn,jn,nn,Qi),xn+=jn,Qi+=jn),++gn&wn||(an+=On)}break;case 3:if(kn==nn&&bn==Qi&&0<an.b){for(xn=nn,kn=$n=Qi+(Dn-gn)*$n-(Fn=(Dn-gn)*on(an.Ea,an.b)),bn=nn,wn=Qi,On=[],Fn=(jn=Fn)-1;0<=Fn;--Fn)On[Fn]=bn[wn+Fn];for(Fn=jn-1;0<=Fn;--Fn)xn[kn+Fn]=On[Fn];go(an,gn,Dn,nn,$n,nn,Qi)}else go(an,gn,Dn,kn,bn,nn,Qi)}Qi=$i,nn=Ei}nn!=Ei&&ze($i,Ei,Qi,nn,Ki)}function oo(gi,bi){var Ei=gi.V,$i=gi.Ba+gi.c*gi.C,Hi=bi-gi.C;if($e(bi<=gi.l.o),$e(16>=Hi),0<Hi){var Ki=gi.l,Zi=gi.Ta,Qi=gi.Ua,nn=Ki.width;if(Cr(gi,Hi,Ei,$i),Hi=Qi=[Qi],$e((Ei=gi.C)<($i=bi)),$e(Ki.v<Ki.va),$i>Ki.o&&($i=Ki.o),Ei<Ki.j){var an=Ki.j-Ei;Ei=Ki.j,Hi[0]+=an*nn}if(Ei>=$i?Ei=0:(Hi[0]+=4*Ki.v,Ki.ka=Ei-Ki.j,Ki.U=Ki.va-Ki.v,Ki.T=$i-Ei,Ei=1),Ei){if(Qi=Qi[0],11>(Ei=gi.ca).S){var gn=Ei.f.RGBA,Dn=($i=Ei.S,Hi=Ki.U,Ki=Ki.T,an=gn.eb,gn.A),kn=Ki;for(gn=gn.fb+gi.Ma*gn.A;0<kn--;){var bn=Zi,$n=Qi,On=Hi,xn=an,wn=gn;switch($i){case Ra:xo(bn,$n,On,xn,wn);break;case Fa:Xo(bn,$n,On,xn,wn);break;case Ll:Xo(bn,$n,On,xn,wn),Go(xn,wn,0,On,1,0);break;case su:Ps(bn,$n,On,xn,wn);break;case Ba:zn(bn,$n,On,xn,wn,1);break;case El:zn(bn,$n,On,xn,wn,1),Go(xn,wn,0,On,1,0);break;case $a:zn(bn,$n,On,xn,wn,0);break;case ja:zn(bn,$n,On,xn,wn,0),Go(xn,wn,1,On,1,0);break;case Tl:Co(bn,$n,On,xn,wn);break;case Ol:Co(bn,$n,On,xn,wn),ks(xn,wn,On,1,0);break;case au:Oo(bn,$n,On,xn,wn);break;default:$e(0)}Qi+=nn,gn+=Dn}gi.Ma+=Ki}else alert("todo:EmitRescaledRowsYUVA");$e(gi.Ma<=Ei.height)}}gi.C=bi,$e(gi.C<=gi.i)}function Sr(gi){var bi;if(0<gi.ua)return 0;for(bi=0;bi<gi.Wb;++bi){var Ei=gi.Ya[bi].G,$i=gi.Ya[bi].H;if(0<Ei[1][$i[1]+0].g||0<Ei[2][$i[2]+0].g||0<Ei[3][$i[3]+0].g)return 0}return 1}function Nr(gi,bi,Ei,$i,Hi,Ki){if(gi.Z!=0){var Zi=gi.qd,Qi=gi.rd;for($e(Zo[gi.Z]!=null);bi<Ei;++bi)Zo[gi.Z](Zi,Qi,$i,Hi,$i,Hi,Ki),Zi=$i,Qi=Hi,Hi+=Ki;gi.qd=Zi,gi.rd=Qi}}function yr(gi,bi){var Ei=gi.l.ma,$i=Ei.Z==0||Ei.Z==1?gi.l.j:gi.C;if($i=gi.C<$i?$i:gi.C,$e(bi<=gi.l.o),bi>$i){var Hi=gi.l.width,Ki=Ei.ca,Zi=Ei.tb+Hi*$i,Qi=gi.V,nn=gi.Ba+gi.c*$i,an=gi.gc;$e(gi.ab==1),$e(an[0].hc==3),Ml(an[0],$i,bi,Qi,nn,Ki,Zi),Nr(Ei,$i,bi,Ki,Zi,Hi)}gi.C=gi.Ma=bi}function Dr(gi,bi,Ei,$i,Hi,Ki,Zi){var Qi=gi.$/$i,nn=gi.$%$i,an=gi.m,gn=gi.s,Dn=Ei+gi.$,kn=Dn;Hi=Ei+$i*Hi;var bn=Ei+$i*Ki,$n=280+gn.ua,On=gi.Pb?Qi:16777216,xn=0<gn.ua?gn.Wa:null,wn=gn.wc,Fn=Dn<bn?ur(gn,nn,Qi):null;$e(gi.C<Ki),$e(bn<=Hi);var jn=!1;e:for(;;){for(;jn||Dn<bn;){var Bn=0;if(Qi>=On){var Zn=Dn-Ei;$e((On=gi).Pb),On.wd=On.m,On.xd=Zn,0<On.s.ua&&Ii(On.s.Wa,On.s.vb),On=Qi+ic}if(nn&wn||(Fn=ur(gn,nn,Qi)),$e(Fn!=null),Fn.Qb&&(bi[Dn]=Fn.qb,jn=!0),!jn)if(Xi(an),Fn.jc){Bn=an,Zn=bi;var Yn=Dn,tr=Fn.pd[ji(Bn)&Kr-1];$e(Fn.jc),256>tr.g?(Bi(Bn,Bn.u+tr.g),Zn[Yn]=tr.value,Bn=0):(Bi(Bn,Bn.u+tr.g-256),$e(256<=tr.value),Bn=tr.value),Bn==0&&(jn=!0)}else Bn=mr(Fn.G[0],Fn.H[0],an);if(an.h)break;if(jn||256>Bn){if(!jn)if(Fn.nd)bi[Dn]=(Fn.qb|Bn<<8)>>>0;else{if(Xi(an),jn=mr(Fn.G[1],Fn.H[1],an),Xi(an),Zn=mr(Fn.G[2],Fn.H[2],an),Yn=mr(Fn.G[3],Fn.H[3],an),an.h)break;bi[Dn]=(Yn<<24|jn<<16|Bn<<8|Zn)>>>0}if(jn=!1,++Dn,++nn>=$i&&(nn=0,++Qi,Zi!=null&&Qi<=Ki&&!(Qi%16)&&Zi(gi,Qi),xn!=null))for(;kn<Dn;)Bn=bi[kn++],xn.X[(506832829*Bn&4294967295)>>>xn.Mb]=Bn}else if(280>Bn){if(Bn=Hn(Bn-256,an),Zn=mr(Fn.G[4],Fn.H[4],an),Xi(an),Zn=Xn($i,Zn=Hn(Zn,an)),an.h)break;if(Dn-Ei<Zn||Hi-Dn<Bn)break e;for(Yn=0;Yn<Bn;++Yn)bi[Dn+Yn]=bi[Dn+Yn-Zn];for(Dn+=Bn,nn+=Bn;nn>=$i;)nn-=$i,++Qi,Zi!=null&&Qi<=Ki&&!(Qi%16)&&Zi(gi,Qi);if($e(Dn<=Hi),nn&wn&&(Fn=ur(gn,nn,Qi)),xn!=null)for(;kn<Dn;)Bn=bi[kn++],xn.X[(506832829*Bn&4294967295)>>>xn.Mb]=Bn}else{if(!(Bn<$n))break e;for(jn=Bn-280,$e(xn!=null);kn<Dn;)Bn=bi[kn++],xn.X[(506832829*Bn&4294967295)>>>xn.Mb]=Bn;Bn=Dn,$e(!(jn>>>(Zn=xn).Xa)),bi[Bn]=Zn.X[jn],jn=!0}jn||$e(an.h==Vi(an))}if(gi.Pb&&an.h&&Dn<Hi)$e(gi.m.h),gi.a=5,gi.m=gi.wd,gi.$=gi.xd,0<gi.s.ua&&Ii(gi.s.vb,gi.s.Wa);else{if(an.h)break e;Zi!=null&&Zi(gi,Qi>Ki?Ki:Qi),gi.a=0,gi.$=Dn-Ei}return 1}return gi.a=3,0}function Ar(gi){$e(gi!=null),gi.vc=null,gi.yc=null,gi.Ya=null;var bi=gi.Wa;bi!=null&&(bi.X=null),gi.vb=null,$e(gi!=null)}function Tr(){var gi=new Cl;return gi==null?null:(gi.a=0,gi.xb=cu,Un("Predictor","VP8LPredictors"),Un("Predictor","VP8LPredictors_C"),Un("PredictorAdd","VP8LPredictorsAdd"),Un("PredictorAdd","VP8LPredictorsAdd_C"),Oa=zi,so=yn,xo=sn,Xo=_n,Co=Tn,Oo=In,Ps=Rn,di.VP8LMapColor32b=ia,di.VP8LMapColor8b=Dl,gi)}function Hr(gi,bi,Ei,$i,Hi){var Ki=1,Zi=[gi],Qi=[bi],nn=$i.m,an=$i.s,gn=null,Dn=0;e:for(;;){if(Ei)for(;Ki&&Ri(nn,1);){var kn=Zi,bn=Qi,$n=$i,On=1,xn=$n.m,wn=$n.gc[$n.ab],Fn=Ri(xn,2);if($n.Oc&1<<Fn)Ki=0;else{switch($n.Oc|=1<<Fn,wn.hc=Fn,wn.Ea=kn[0],wn.nc=bn[0],wn.K=[null],++$n.ab,$e(4>=$n.ab),Fn){case 0:case 1:wn.b=Ri(xn,3)+2,On=Hr(on(wn.Ea,wn.b),on(wn.nc,wn.b),0,$n,wn.K),wn.K=wn.K[0];break;case 3:var jn,Bn=Ri(xn,8)+1,Zn=16<Bn?0:4<Bn?1:2<Bn?2:3;if(kn[0]=on(wn.Ea,Zn),wn.b=Zn,jn=On=Hr(Bn,1,0,$n,wn.K)){var Yn,tr=Bn,Gn=wn,xr=1<<(8>>Gn.b),wr=Xe(xr);if(wr==null)jn=0;else{var gr=Gn.K[0],fr=Gn.w;for(wr[0]=Gn.K[0][0],Yn=1;Yn<1*tr;++Yn)wr[Yn]=Ui(gr[fr+Yn],wr[Yn-1]);for(;Yn<4*xr;++Yn)wr[Yn]=0;Gn.K[0]=null,Gn.K[0]=wr,jn=1}}On=jn;break;case 2:break;default:$e(0)}Ki=On}}if(Zi=Zi[0],Qi=Qi[0],Ki&&Ri(nn,1)&&!(Ki=1<=(Dn=Ri(nn,4))&&11>=Dn)){$i.a=3;break e}var _r;if(_r=Ki)t:{var vr,lr,Fr,Jr=$i,Br=Zi,Qr=Qi,br=Dn,no=Ei,ro=Jr.m,Ur=Jr.s,qr=[null],Yr=1,co=0,Po=tc[br];i:for(;;){if(no&&Ri(ro,1)){var zr=Ri(ro,3)+2,Bo=on(Br,zr),cs=on(Qr,zr),Ts=Bo*cs;if(!Hr(Bo,cs,0,Jr,qr))break i;for(qr=qr[0],Ur.xc=zr,vr=0;vr<Ts;++vr){var Jo=qr[vr]>>8&65535;qr[vr]=Jo,Jo>=Yr&&(Yr=Jo+1)}}if(ro.h)break i;for(lr=0;5>lr;++lr){var Er=lu[lr];!lr&&0<br&&(Er+=1<<br),co<Er&&(co=Er)}var Fl=We(Yr*Po,xi),wu=Yr,bu=We(wu,vi);if(bu==null)var Ha=null;else $e(65536>=wu),Ha=bu;var aa=Xe(co);if(Ha==null||aa==null||Fl==null){Jr.a=1;break i}var qa=Fl;for(vr=Fr=0;vr<Yr;++vr){var vo=Ha[vr],Ls=vo.G,Es=vo.H,vu=0,Xa=1,Su=0;for(lr=0;5>lr;++lr){Er=lu[lr],Ls[lr]=qa,Es[lr]=Fr,!lr&&0<br&&(Er+=1<<br);r:{var Wa,Bl=Er,Ya=Jr,la=aa,Ac=qa,_c=Fr,$l=0,Qo=Ya.m,Cc=Ri(Qo,1);if(qe(la,0,0,Bl),Cc){var Pc=Ri(Qo,1)+1,Mc=Ri(Qo,1),Au=Ri(Qo,Mc==0?1:8);la[Au]=1,Pc==2&&(la[Au=Ri(Qo,8)]=1);var Ga=1}else{var _u=Xe(19),Cu=Ri(Qo,4)+4;if(19<Cu){Ya.a=3;var Ka=0;break r}for(Wa=0;Wa<Cu;++Wa)_u[Qu[Wa]]=Ri(Qo,3);var jl=void 0,ua=void 0,Pu=Ya,Dc=_u,Za=Bl,Mu=la,Vl=0,es=Pu.m,Du=8,ku=We(128,xi);n:for(;pi(ku,0,7,Dc,19);){if(Ri(es,1)){var kc=2+2*Ri(es,3);if((jl=2+Ri(es,kc))>Za)break n}else jl=Za;for(ua=0;ua<Za&&jl--;){Xi(es);var Tu=ku[0+(127&ji(es))];Bi(es,es.u+Tu.g);var Os=Tu.value;if(16>Os)Mu[ua++]=Os,Os!=0&&(Du=Os);else{var Tc=Os==16,Lu=Os-16,Lc=Zu[Lu],Eu=Ri(es,Ku[Lu])+Lc;if(ua+Eu>Za)break n;for(var Ec=Tc?Du:0;0<Eu--;)Mu[ua++]=Ec}}Vl=1;break n}Vl||(Pu.a=3),Ga=Vl}(Ga=Ga&&!Qo.h)&&($l=pi(Ac,_c,8,la,Bl)),Ga&&$l!=0?Ka=$l:(Ya.a=3,Ka=0)}if(Ka==0)break i;if(Xa&&Ju[lr]==1&&(Xa=qa[Fr].g==0),vu+=qa[Fr].g,Fr+=Ka,3>=lr){var ca,Ul=aa[0];for(ca=1;ca<Er;++ca)aa[ca]>Ul&&(Ul=aa[ca]);Su+=Ul}}if(vo.nd=Xa,vo.Qb=0,Xa&&(vo.qb=(Ls[3][Es[3]+0].value<<24|Ls[1][Es[1]+0].value<<16|Ls[2][Es[2]+0].value)>>>0,vu==0&&256>Ls[0][Es[0]+0].value&&(vo.Qb=1,vo.qb+=Ls[0][Es[0]+0].value<<8)),vo.jc=!vo.Qb&&6>Su,vo.jc){var Ja,$o=vo;for(Ja=0;Ja<Kr;++Ja){var ts=Ja,is=$o.pd[ts],Qa=$o.G[0][$o.H[0]+ts];256<=Qa.value?(is.g=Qa.g+256,is.value=Qa.value):(is.g=0,is.value=0,ts>>=rr(Qa,8,is),ts>>=rr($o.G[1][$o.H[1]+ts],16,is),ts>>=rr($o.G[2][$o.H[2]+ts],0,is),rr($o.G[3][$o.H[3]+ts],24,is))}}}Ur.vc=qr,Ur.Wb=Yr,Ur.Ya=Ha,Ur.yc=Fl,_r=1;break t}_r=0}if(!(Ki=_r)){$i.a=3;break e}if(0<Dn){if(an.ua=1<<Dn,!Oi(an.Wa,Dn)){$i.a=1,Ki=0;break e}}else an.ua=0;var zl=$i,Ou=Zi,Oc=Qi,Hl=zl.s,ql=Hl.xc;if(zl.c=Ou,zl.i=Oc,Hl.md=on(Ou,ql),Hl.wc=ql==0?-1:(1<<ql)-1,Ei){$i.xb=cc;break e}if((gn=Xe(Zi*Qi))==null){$i.a=1,Ki=0;break e}Ki=(Ki=Dr($i,gn,0,Zi,Qi,Qi,null))&&!nn.h;break e}return Ki?(Hi!=null?Hi[0]=gn:($e(gn==null),$e(Ei)),$i.$=0,Ei||Ar(an)):Ar(an),Ki}function jr(gi,bi){var Ei=gi.c*gi.i,$i=Ei+bi+16*bi;return $e(gi.c<=bi),gi.V=Xe($i),gi.V==null?(gi.Ta=null,gi.Ua=0,gi.a=1,0):(gi.Ta=gi.V,gi.Ua=gi.Ba+Ei+bi,1)}function ho(gi,bi){var Ei=gi.C,$i=bi-Ei,Hi=gi.V,Ki=gi.Ba+gi.c*Ei;for($e(bi<=gi.l.o);0<$i;){var Zi=16<$i?16:$i,Qi=gi.l.ma,nn=gi.l.width,an=nn*Zi,gn=Qi.ca,Dn=Qi.tb+nn*Ei,kn=gi.Ta,bn=gi.Ua;Cr(gi,Zi,Hi,Ki),eu(kn,bn,gn,Dn,an),Nr(Qi,Ei,Ei+Zi,gn,Dn,nn),$i-=Zi,Hi+=Zi*gi.c,Ei+=Zi}$e(Ei==bi),gi.C=gi.Ma=bi}function Mo(){this.ub=this.yd=this.td=this.Rb=0}function Do(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ko(){this.Fb=this.Bb=this.Cb=0,this.Zb=Xe(4),this.Lb=Xe(4)}function ns(){this.Yb=function(){var gi=[];return function bi(Ei,$i,Hi){for(var Ki=Hi[$i],Zi=0;Zi<Ki&&(Ei.push(Hi.length>$i+1?[]:0),!(Hi.length<$i+1));Zi++)bi(Ei[Zi],$i+1,Hi)}(gi,0,[3,11]),gi}()}function jo(){this.jb=Xe(3),this.Wc=Ke([4,8],ns),this.Xc=Ke([4,17],ns)}function il(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new Xe(4),this.od=new Xe(4)}function hs(){this.ld=this.La=this.dd=this.tc=0}function ma(){this.Na=this.la=0}function nl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Rs(){this.ad=Xe(384),this.Za=0,this.Ob=Xe(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function rl(){this.uc=this.M=this.Nb=0,this.wa=Array(new hs),this.Y=0,this.ya=Array(new Rs),this.aa=0,this.l=new ds}function fa(){this.y=Xe(16),this.f=Xe(8),this.ea=Xe(8)}function ol(){this.cb=this.a=0,this.sc="",this.m=new Yi,this.Od=new Mo,this.Kc=new Do,this.ed=new il,this.Qa=new ko,this.Ic=this.$c=this.Aa=0,this.D=new rl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=We(8,Yi),this.ia=0,this.pb=We(4,nl),this.Pa=new jo,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new fa),this.Hd=0,this.rb=Array(new ma),this.sb=0,this.wa=Array(new hs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Rs),this.L=this.aa=0,this.gd=Ke([4,2],hs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ds(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function sl(){var gi=new ol;return gi!=null&&(gi.a=0,gi.sc="OK",gi.cb=0,gi.Xb=0,oa||(oa=xa)),gi}function Or(gi,bi,Ei){return gi.a==0&&(gi.a=bi,gi.sc=Ei,gi.cb=0),0}function pa(gi,bi,Ei){return 3<=Ei&&gi[bi+0]==157&&gi[bi+1]==1&&gi[bi+2]==42}function ga(gi,bi){if(gi==null)return 0;if(gi.a=0,gi.sc="OK",bi==null)return Or(gi,2,"null VP8Io passed to VP8GetHeaders()");var Ei=bi.data,$i=bi.w,Hi=bi.ha;if(4>Hi)return Or(gi,7,"Truncated header.");var Ki=Ei[$i+0]|Ei[$i+1]<<8|Ei[$i+2]<<16,Zi=gi.Od;if(Zi.Rb=!(1&Ki),Zi.td=Ki>>1&7,Zi.yd=Ki>>4&1,Zi.ub=Ki>>5,3<Zi.td)return Or(gi,3,"Incorrect keyframe parameters.");if(!Zi.yd)return Or(gi,4,"Frame not displayable.");$i+=3,Hi-=3;var Qi=gi.Kc;if(Zi.Rb){if(7>Hi)return Or(gi,7,"cannot parse picture header");if(!pa(Ei,$i,Hi))return Or(gi,3,"Bad code word");Qi.c=16383&(Ei[$i+4]<<8|Ei[$i+3]),Qi.Td=Ei[$i+4]>>6,Qi.i=16383&(Ei[$i+6]<<8|Ei[$i+5]),Qi.Ud=Ei[$i+6]>>6,$i+=7,Hi-=7,gi.za=Qi.c+15>>4,gi.Ub=Qi.i+15>>4,bi.width=Qi.c,bi.height=Qi.i,bi.Da=0,bi.j=0,bi.v=0,bi.va=bi.width,bi.o=bi.height,bi.da=0,bi.ib=bi.width,bi.hb=bi.height,bi.U=bi.width,bi.T=bi.height,qe((Ki=gi.Pa).jb,0,255,Ki.jb.length),$e((Ki=gi.Qa)!=null),Ki.Cb=0,Ki.Bb=0,Ki.Fb=1,qe(Ki.Zb,0,0,Ki.Zb.length),qe(Ki.Lb,0,0,Ki.Lb)}if(Zi.ub>Hi)return Or(gi,7,"bad partition length");Di(Ki=gi.m,Ei,$i,Zi.ub),$i+=Zi.ub,Hi-=Zi.ub,Zi.Rb&&(Qi.Ld=tn(Ki),Qi.Kd=tn(Ki)),Qi=gi.Qa;var nn,an=gi.Pa;if($e(Ki!=null),$e(Qi!=null),Qi.Cb=tn(Ki),Qi.Cb){if(Qi.Bb=tn(Ki),tn(Ki)){for(Qi.Fb=tn(Ki),nn=0;4>nn;++nn)Qi.Zb[nn]=tn(Ki)?Fi(Ki,7):0;for(nn=0;4>nn;++nn)Qi.Lb[nn]=tn(Ki)?Fi(Ki,6):0}if(Qi.Bb)for(nn=0;3>nn;++nn)an.jb[nn]=tn(Ki)?Ti(Ki,8):255}else Qi.Bb=0;if(Ki.Ka)return Or(gi,3,"cannot parse segment header");if((Qi=gi.ed).zd=tn(Ki),Qi.Tb=Ti(Ki,6),Qi.wb=Ti(Ki,3),Qi.Pc=tn(Ki),Qi.Pc&&tn(Ki)){for(an=0;4>an;++an)tn(Ki)&&(Qi.vd[an]=Fi(Ki,6));for(an=0;4>an;++an)tn(Ki)&&(Qi.od[an]=Fi(Ki,6))}if(gi.L=Qi.Tb==0?0:Qi.zd?1:2,Ki.Ka)return Or(gi,3,"cannot parse filter header");var gn=Hi;if(Hi=nn=$i,$i=nn+gn,Qi=gn,gi.Xb=(1<<Ti(gi.m,2))-1,gn<3*(an=gi.Xb))Ei=7;else{for(nn+=3*an,Qi-=3*an,gn=0;gn<an;++gn){var Dn=Ei[Hi+0]|Ei[Hi+1]<<8|Ei[Hi+2]<<16;Dn>Qi&&(Dn=Qi),Di(gi.Jc[+gn],Ei,nn,Dn),nn+=Dn,Qi-=Dn,Hi+=3}Di(gi.Jc[+an],Ei,nn,Qi),Ei=nn<$i?0:5}if(Ei!=0)return Or(gi,Ei,"cannot parse partitions");for(Ei=Ti(nn=gi.m,7),Hi=tn(nn)?Fi(nn,4):0,$i=tn(nn)?Fi(nn,4):0,Qi=tn(nn)?Fi(nn,4):0,an=tn(nn)?Fi(nn,4):0,nn=tn(nn)?Fi(nn,4):0,gn=gi.Qa,Dn=0;4>Dn;++Dn){if(gn.Cb){var kn=gn.Zb[Dn];gn.Fb||(kn+=Ei)}else{if(0<Dn){gi.pb[Dn]=gi.pb[0];continue}kn=Ei}var bn=gi.pb[Dn];bn.Sc[0]=Il[to(kn+Hi,127)],bn.Sc[1]=Nl[to(kn+0,127)],bn.Eb[0]=2*Il[to(kn+$i,127)],bn.Eb[1]=101581*Nl[to(kn+Qi,127)]>>16,8>bn.Eb[1]&&(bn.Eb[1]=8),bn.Qc[0]=Il[to(kn+an,117)],bn.Qc[1]=Nl[to(kn+nn,127)],bn.lc=kn+nn}if(!Zi.Rb)return Or(gi,4,"Not a key frame.");for(tn(Ki),Zi=gi.Pa,Ei=0;4>Ei;++Ei){for(Hi=0;8>Hi;++Hi)for($i=0;3>$i;++$i)for(Qi=0;11>Qi;++Qi)an=Ji(Ki,ac[Ei][Hi][$i][Qi])?Ti(Ki,8):oc[Ei][Hi][$i][Qi],Zi.Wc[Ei][Hi].Yb[$i][Qi]=an;for(Hi=0;17>Hi;++Hi)Zi.Xc[Ei][Hi]=Zi.Wc[Ei][uc[Hi]]}return gi.kc=tn(Ki),gi.kc&&(gi.Bd=Ti(Ki,8)),gi.cb=1}function xa(gi,bi,Ei,$i,Hi,Ki,Zi){var Qi=bi[Hi].Yb[Ei];for(Ei=0;16>Hi;++Hi){if(!Ji(gi,Qi[Ei+0]))return Hi;for(;!Ji(gi,Qi[Ei+1]);)if(Qi=bi[++Hi].Yb[0],Ei=0,Hi==16)return 16;var nn=bi[Hi+1].Yb;if(Ji(gi,Qi[Ei+2])){var an=gi,gn=0;if(Ji(an,(kn=Qi)[(Dn=Ei)+3]))if(Ji(an,kn[Dn+6])){for(Qi=0,Dn=2*(gn=Ji(an,kn[Dn+8]))+(kn=Ji(an,kn[Dn+9+gn])),gn=0,kn=nc[Dn];kn[Qi];++Qi)gn+=gn+Ji(an,kn[Qi]);gn+=3+(8<<Dn)}else Ji(an,kn[Dn+7])?(gn=7+2*Ji(an,165),gn+=Ji(an,145)):gn=5+Ji(an,159);else gn=Ji(an,kn[Dn+4])?3+Ji(an,kn[Dn+5]):2;Qi=nn[2]}else gn=1,Qi=nn[1];nn=Zi+rc[Hi],0>(an=gi).b&&en(an);var Dn,kn=an.b,bn=(Dn=an.Ca>>1)-(an.I>>kn)>>31;--an.b,an.Ca+=bn,an.Ca|=1,an.I-=(Dn+1&bn)<<kn,Ki[nn]=((gn^bn)-bn)*$i[(0<Hi)+0]}return 16}function Fs(gi){var bi=gi.rb[gi.sb-1];bi.la=0,bi.Na=0,qe(gi.zc,0,0,gi.zc.length),gi.ja=0}function al(gi,bi){if(gi==null)return 0;if(bi==null)return Or(gi,2,"NULL VP8Io parameter in VP8Decode().");if(!gi.cb&&!ga(gi,bi))return 0;if($e(gi.cb),bi.ac==null||bi.ac(bi)){bi.ob&&(gi.L=0);var Ei=za[gi.L];if(gi.L==2?(gi.yb=0,gi.zb=0):(gi.yb=bi.v-Ei>>4,gi.zb=bi.j-Ei>>4,0>gi.yb&&(gi.yb=0),0>gi.zb&&(gi.zb=0)),gi.Va=bi.o+15+Ei>>4,gi.Hb=bi.va+15+Ei>>4,gi.Hb>gi.za&&(gi.Hb=gi.za),gi.Va>gi.Ub&&(gi.Va=gi.Ub),0<gi.L){var $i=gi.ed;for(Ei=0;4>Ei;++Ei){var Hi;if(gi.Qa.Cb){var Ki=gi.Qa.Lb[Ei];gi.Qa.Fb||(Ki+=$i.Tb)}else Ki=$i.Tb;for(Hi=0;1>=Hi;++Hi){var Zi=gi.gd[Ei][Hi],Qi=Ki;if($i.Pc&&(Qi+=$i.vd[0],Hi&&(Qi+=$i.od[0])),0<(Qi=0>Qi?0:63<Qi?63:Qi)){var nn=Qi;0<$i.wb&&(nn=4<$i.wb?nn>>2:nn>>1)>9-$i.wb&&(nn=9-$i.wb),1>nn&&(nn=1),Zi.dd=nn,Zi.tc=2*Qi+nn,Zi.ld=40<=Qi?2:15<=Qi?1:0}else Zi.tc=0;Zi.La=Hi}}}Ei=0}else Or(gi,6,"Frame setup failed"),Ei=gi.a;if(Ei=Ei==0){if(Ei){gi.$c=0,0<gi.Aa||(gi.Ic=Sc);e:{Ei=gi.Ic,$i=4*(nn=gi.za);var an=32*nn,gn=nn+1,Dn=0<gi.L?nn*(0<gi.Aa?2:1):0,kn=(gi.Aa==2?2:1)*nn;if((Zi=$i+832+(Hi=3*(16*Ei+za[gi.L])/2*an)+(Ki=gi.Fa!=null&&0<gi.Fa.length?gi.Kc.c*gi.Kc.i:0))!=Zi)Ei=0;else{if(Zi>gi.Vb){if(gi.Vb=0,gi.Ec=Xe(Zi),gi.Fc=0,gi.Ec==null){Ei=Or(gi,1,"no memory during frame initialization.");break e}gi.Vb=Zi}Zi=gi.Ec,Qi=gi.Fc,gi.Ac=Zi,gi.Bc=Qi,Qi+=$i,gi.Gd=We(an,fa),gi.Hd=0,gi.rb=We(gn+1,ma),gi.sb=1,gi.wa=Dn?We(Dn,hs):null,gi.Y=0,gi.D.Nb=0,gi.D.wa=gi.wa,gi.D.Y=gi.Y,0<gi.Aa&&(gi.D.Y+=nn),$e(!0),gi.oc=Zi,gi.pc=Qi,Qi+=832,gi.ya=We(kn,Rs),gi.aa=0,gi.D.ya=gi.ya,gi.D.aa=gi.aa,gi.Aa==2&&(gi.D.aa+=nn),gi.R=16*nn,gi.B=8*nn,nn=(an=za[gi.L])*gi.R,an=an/2*gi.B,gi.sa=Zi,gi.ta=Qi+nn,gi.qa=gi.sa,gi.ra=gi.ta+16*Ei*gi.R+an,gi.Ha=gi.qa,gi.Ia=gi.ra+8*Ei*gi.B+an,gi.$c=0,Qi+=Hi,gi.mb=Ki?Zi:null,gi.nb=Ki?Qi:null,$e(Qi+Ki<=gi.Fc+gi.Vb),Fs(gi),qe(gi.Ac,gi.Bc,0,$i),Ei=1}}if(Ei){if(bi.ka=0,bi.y=gi.sa,bi.O=gi.ta,bi.f=gi.qa,bi.N=gi.ra,bi.ea=gi.Ha,bi.Vd=gi.Ia,bi.fa=gi.R,bi.Rc=gi.B,bi.F=null,bi.J=0,!ou){for(Ei=-255;255>=Ei;++Ei)tu[255+Ei]=0>Ei?-Ei:Ei;for(Ei=-1020;1020>=Ei;++Ei)iu[1020+Ei]=-128>Ei?-128:127<Ei?127:Ei;for(Ei=-112;112>=Ei;++Ei)nu[112+Ei]=-16>Ei?-16:15<Ei?15:Ei;for(Ei=-255;510>=Ei;++Ei)ru[255+Ei]=0>Ei?0:255<Ei?255:Ei;ou=1}yo=cl,Ms=ll,Wo=wa,wo=ul,Io=ba,na=ya,ls=zs,Ds=ss,us=_l,Yo=Hs,ra=Al,ao=ys,No=qs,Pr=Ta,Mr=ka,Ir=Lo,$r=Uo,Ro=Sl,bo[0]=_o,bo[1]=hl,bo[2]=gl,bo[3]=xl,bo[4]=Aa,bo[5]=gs,bo[6]=Ca,bo[7]=js,bo[8]=wl,bo[9]=yl,Ko[0]=va,Ko[1]=ml,Ko[2]=To,Ko[3]=fs,Ko[4]=Xr,Ko[5]=pl,Ko[6]=Sa,Fo[0]=Vo,Fo[1]=dl,Fo[2]=bl,Fo[3]=Vs,Fo[4]=os,Fo[5]=vl,Fo[6]=Us,Ei=1}else Ei=0}Ei&&(Ei=function(bn,$n){for(bn.M=0;bn.M<bn.Va;++bn.M){var On,xn=bn.Jc[bn.M&bn.Xb],wn=bn.m,Fn=bn;for(On=0;On<Fn.za;++On){var jn=wn,Bn=Fn,Zn=Bn.Ac,Yn=Bn.Bc+4*On,tr=Bn.zc,Gn=Bn.ya[Bn.aa+On];if(Bn.Qa.Bb?Gn.$b=Ji(jn,Bn.Pa.jb[0])?2+Ji(jn,Bn.Pa.jb[2]):Ji(jn,Bn.Pa.jb[1]):Gn.$b=0,Bn.kc&&(Gn.Ad=Ji(jn,Bn.Bd)),Gn.Za=!Ji(jn,145)+0,Gn.Za){var xr=Gn.Ob,wr=0;for(Bn=0;4>Bn;++Bn){var gr,fr=tr[0+Bn];for(gr=0;4>gr;++gr){fr=sc[Zn[Yn+gr]][fr];for(var _r=uu[Ji(jn,fr[0])];0<_r;)_r=uu[2*_r+Ji(jn,fr[_r])];fr=-_r,Zn[Yn+gr]=fr}ze(xr,wr,Zn,Yn,4),wr+=4,tr[0+Bn]=fr}}else fr=Ji(jn,156)?Ji(jn,128)?1:3:Ji(jn,163)?2:0,Gn.Ob[0]=fr,qe(Zn,Yn,fr,4),qe(tr,0,fr,4);Gn.Dd=Ji(jn,142)?Ji(jn,114)?Ji(jn,183)?1:3:2:0}if(Fn.m.Ka)return Or(bn,7,"Premature end-of-partition0 encountered.");for(;bn.ja<bn.za;++bn.ja){if(Fn=xn,jn=(wn=bn).rb[wn.sb-1],Zn=wn.rb[wn.sb+wn.ja],On=wn.ya[wn.aa+wn.ja],Yn=wn.kc?On.Ad:0)jn.la=Zn.la=0,On.Za||(jn.Na=Zn.Na=0),On.Hc=0,On.Gc=0,On.ia=0;else{var vr,lr;if(jn=Zn,Zn=Fn,Yn=wn.Pa.Xc,tr=wn.ya[wn.aa+wn.ja],Gn=wn.pb[tr.$b],Bn=tr.ad,xr=0,wr=wn.rb[wn.sb-1],fr=gr=0,qe(Bn,xr,0,384),tr.Za)var Fr=0,Jr=Yn[3];else{_r=Xe(16);var Br=jn.Na+wr.Na;if(Br=oa(Zn,Yn[1],Br,Gn.Eb,0,_r,0),jn.Na=wr.Na=(0<Br)+0,1<Br)yo(_r,0,Bn,xr);else{var Qr=_r[0]+3>>3;for(_r=0;256>_r;_r+=16)Bn[xr+_r]=Qr}Fr=1,Jr=Yn[0]}var br=15&jn.la,no=15&wr.la;for(_r=0;4>_r;++_r){var ro=1&no;for(Qr=lr=0;4>Qr;++Qr)br=br>>1|(ro=(Br=oa(Zn,Jr,Br=ro+(1&br),Gn.Sc,Fr,Bn,xr))>Fr)<<7,lr=lr<<2|(3<Br?3:1<Br?2:Bn[xr+0]!=0),xr+=16;br>>=4,no=no>>1|ro<<7,gr=(gr<<8|lr)>>>0}for(Jr=br,Fr=no>>4,vr=0;4>vr;vr+=2){for(lr=0,br=jn.la>>4+vr,no=wr.la>>4+vr,_r=0;2>_r;++_r){for(ro=1&no,Qr=0;2>Qr;++Qr)Br=ro+(1&br),br=br>>1|(ro=0<(Br=oa(Zn,Yn[2],Br,Gn.Qc,0,Bn,xr)))<<3,lr=lr<<2|(3<Br?3:1<Br?2:Bn[xr+0]!=0),xr+=16;br>>=2,no=no>>1|ro<<5}fr|=lr<<4*vr,Jr|=br<<4<<vr,Fr|=(240&no)<<vr}jn.la=Jr,wr.la=Fr,tr.Hc=gr,tr.Gc=fr,tr.ia=43690&fr?0:Gn.ia,Yn=!(gr|fr)}if(0<wn.L&&(wn.wa[wn.Y+wn.ja]=wn.gd[On.$b][On.Za],wn.wa[wn.Y+wn.ja].La|=!Yn),Fn.Ka)return Or(bn,7,"Premature end-of-file encountered.")}if(Fs(bn),wn=$n,Fn=1,On=(xn=bn).D,jn=0<xn.L&&xn.M>=xn.zb&&xn.M<=xn.Va,xn.Aa==0)e:{if(On.M=xn.M,On.uc=jn,Zs(xn,On),Fn=1,On=(lr=xn.D).Nb,jn=(fr=za[xn.L])*xn.R,Zn=fr/2*xn.B,_r=16*On*xn.R,Qr=8*On*xn.B,Yn=xn.sa,tr=xn.ta-jn+_r,Gn=xn.qa,Bn=xn.ra-Zn+Qr,xr=xn.Ha,wr=xn.Ia-Zn+Qr,no=(br=lr.M)==0,gr=br>=xn.Va-1,xn.Aa==2&&Zs(xn,lr),lr.uc)for(ro=(Br=xn).D.M,$e(Br.D.uc),lr=Br.yb;lr<Br.Hb;++lr){Fr=lr,Jr=ro;var Ur=(qr=(Er=Br).D).Nb;vr=Er.R;var qr=qr.wa[qr.Y+Fr],Yr=Er.sa,co=Er.ta+16*Ur*vr+16*Fr,Po=qr.dd,zr=qr.tc;if(zr!=0)if($e(3<=zr),Er.L==1)0<Fr&&Ir(Yr,co,vr,zr+4),qr.La&&Ro(Yr,co,vr,zr),0<Jr&&Mr(Yr,co,vr,zr+4),qr.La&&$r(Yr,co,vr,zr);else{var Bo=Er.B,cs=Er.qa,Ts=Er.ra+8*Ur*Bo+8*Fr,Jo=Er.Ha,Er=Er.Ia+8*Ur*Bo+8*Fr;Ur=qr.ld,0<Fr&&(Ds(Yr,co,vr,zr+4,Po,Ur),Yo(cs,Ts,Jo,Er,Bo,zr+4,Po,Ur)),qr.La&&(ao(Yr,co,vr,zr,Po,Ur),Pr(cs,Ts,Jo,Er,Bo,zr,Po,Ur)),0<Jr&&(ls(Yr,co,vr,zr+4,Po,Ur),us(cs,Ts,Jo,Er,Bo,zr+4,Po,Ur)),qr.La&&(ra(Yr,co,vr,zr,Po,Ur),No(cs,Ts,Jo,Er,Bo,zr,Po,Ur))}}if(xn.ia&&alert("todo:DitherRow"),wn.put!=null){if(lr=16*br,br=16*(br+1),no?(wn.y=xn.sa,wn.O=xn.ta+_r,wn.f=xn.qa,wn.N=xn.ra+Qr,wn.ea=xn.Ha,wn.W=xn.Ia+Qr):(lr-=fr,wn.y=Yn,wn.O=tr,wn.f=Gn,wn.N=Bn,wn.ea=xr,wn.W=wr),gr||(br-=fr),br>wn.o&&(br=wn.o),wn.F=null,wn.J=null,xn.Fa!=null&&0<xn.Fa.length&&lr<br&&(wn.J=Gs(xn,wn,lr,br-lr),wn.F=xn.mb,wn.F==null&&wn.F.length==0)){Fn=Or(xn,3,"Could not decode alpha data.");break e}lr<wn.j&&(fr=wn.j-lr,lr=wn.j,$e(!(1&fr)),wn.O+=xn.R*fr,wn.N+=xn.B*(fr>>1),wn.W+=xn.B*(fr>>1),wn.F!=null&&(wn.J+=wn.width*fr)),lr<br&&(wn.O+=wn.v,wn.N+=wn.v>>1,wn.W+=wn.v>>1,wn.F!=null&&(wn.J+=wn.v),wn.ka=lr-wn.j,wn.U=wn.va-wn.v,wn.T=br-lr,Fn=wn.put(wn))}On+1!=xn.Ic||gr||(ze(xn.sa,xn.ta-jn,Yn,tr+16*xn.R,jn),ze(xn.qa,xn.ra-Zn,Gn,Bn+8*xn.B,Zn),ze(xn.Ha,xn.Ia-Zn,xr,wr+8*xn.B,Zn))}if(!Fn)return Or(bn,6,"Output aborted.")}return 1}(gi,bi)),bi.bc!=null&&bi.bc(bi),Ei&=1}return Ei?(gi.cb=0,Ei):0}function mo(gi,bi,Ei,$i,Hi){Hi=gi[bi+Ei+32*$i]+(Hi>>3),gi[bi+Ei+32*$i]=-256&Hi?0>Hi?0:255:Hi}function ms(gi,bi,Ei,$i,Hi,Ki){mo(gi,bi,0,Ei,$i+Hi),mo(gi,bi,1,Ei,$i+Ki),mo(gi,bi,2,Ei,$i-Ki),mo(gi,bi,3,Ei,$i-Hi)}function Gr(gi){return(20091*gi>>16)+gi}function Bs(gi,bi,Ei,$i){var Hi,Ki=0,Zi=Xe(16);for(Hi=0;4>Hi;++Hi){var Qi=gi[bi+0]+gi[bi+8],nn=gi[bi+0]-gi[bi+8],an=(35468*gi[bi+4]>>16)-Gr(gi[bi+12]),gn=Gr(gi[bi+4])+(35468*gi[bi+12]>>16);Zi[Ki+0]=Qi+gn,Zi[Ki+1]=nn+an,Zi[Ki+2]=nn-an,Zi[Ki+3]=Qi-gn,Ki+=4,bi++}for(Hi=Ki=0;4>Hi;++Hi)Qi=(gi=Zi[Ki+0]+4)+Zi[Ki+8],nn=gi-Zi[Ki+8],an=(35468*Zi[Ki+4]>>16)-Gr(Zi[Ki+12]),mo(Ei,$i,0,0,Qi+(gn=Gr(Zi[Ki+4])+(35468*Zi[Ki+12]>>16))),mo(Ei,$i,1,0,nn+an),mo(Ei,$i,2,0,nn-an),mo(Ei,$i,3,0,Qi-gn),Ki++,$i+=32}function ya(gi,bi,Ei,$i){var Hi=gi[bi+0]+4,Ki=35468*gi[bi+4]>>16,Zi=Gr(gi[bi+4]),Qi=35468*gi[bi+1]>>16;ms(Ei,$i,0,Hi+Zi,gi=Gr(gi[bi+1]),Qi),ms(Ei,$i,1,Hi+Ki,gi,Qi),ms(Ei,$i,2,Hi-Ki,gi,Qi),ms(Ei,$i,3,Hi-Zi,gi,Qi)}function ll(gi,bi,Ei,$i,Hi){Bs(gi,bi,Ei,$i),Hi&&Bs(gi,bi+16,Ei,$i+4)}function wa(gi,bi,Ei,$i){Ms(gi,bi+0,Ei,$i,1),Ms(gi,bi+32,Ei,$i+128,1)}function ul(gi,bi,Ei,$i){var Hi;for(gi=gi[bi+0]+4,Hi=0;4>Hi;++Hi)for(bi=0;4>bi;++bi)mo(Ei,$i,bi,Hi,gi)}function ba(gi,bi,Ei,$i){gi[bi+0]&&wo(gi,bi+0,Ei,$i),gi[bi+16]&&wo(gi,bi+16,Ei,$i+4),gi[bi+32]&&wo(gi,bi+32,Ei,$i+128),gi[bi+48]&&wo(gi,bi+48,Ei,$i+128+4)}function cl(gi,bi,Ei,$i){var Hi,Ki=Xe(16);for(Hi=0;4>Hi;++Hi){var Zi=gi[bi+0+Hi]+gi[bi+12+Hi],Qi=gi[bi+4+Hi]+gi[bi+8+Hi],nn=gi[bi+4+Hi]-gi[bi+8+Hi],an=gi[bi+0+Hi]-gi[bi+12+Hi];Ki[0+Hi]=Zi+Qi,Ki[8+Hi]=Zi-Qi,Ki[4+Hi]=an+nn,Ki[12+Hi]=an-nn}for(Hi=0;4>Hi;++Hi)Zi=(gi=Ki[0+4*Hi]+3)+Ki[3+4*Hi],Qi=Ki[1+4*Hi]+Ki[2+4*Hi],nn=Ki[1+4*Hi]-Ki[2+4*Hi],an=gi-Ki[3+4*Hi],Ei[$i+0]=Zi+Qi>>3,Ei[$i+16]=an+nn>>3,Ei[$i+32]=Zi-Qi>>3,Ei[$i+48]=an-nn>>3,$i+=64}function $s(gi,bi,Ei){var $i,Hi=bi-32,Ki=io,Zi=255-gi[Hi-1];for($i=0;$i<Ei;++$i){var Qi,nn=Ki,an=Zi+gi[bi-1];for(Qi=0;Qi<Ei;++Qi)gi[bi+Qi]=nn[an+gi[Hi+Qi]];bi+=32}}function hl(gi,bi){$s(gi,bi,4)}function dl(gi,bi){$s(gi,bi,8)}function ml(gi,bi){$s(gi,bi,16)}function To(gi,bi){var Ei;for(Ei=0;16>Ei;++Ei)ze(gi,bi+32*Ei,gi,bi-32,16)}function fs(gi,bi){var Ei;for(Ei=16;0<Ei;--Ei)qe(gi,bi,gi[bi-1],16),bi+=32}function ps(gi,bi,Ei){var $i;for($i=0;16>$i;++$i)qe(bi,Ei+32*$i,gi,16)}function va(gi,bi){var Ei,$i=16;for(Ei=0;16>Ei;++Ei)$i+=gi[bi-1+32*Ei]+gi[bi+Ei-32];ps($i>>5,gi,bi)}function Xr(gi,bi){var Ei,$i=8;for(Ei=0;16>Ei;++Ei)$i+=gi[bi-1+32*Ei];ps($i>>4,gi,bi)}function pl(gi,bi){var Ei,$i=8;for(Ei=0;16>Ei;++Ei)$i+=gi[bi+Ei-32];ps($i>>4,gi,bi)}function Sa(gi,bi){ps(128,gi,bi)}function or(gi,bi,Ei){return gi+2*bi+Ei+2>>2}function gl(gi,bi){var Ei,$i=bi-32;for($i=new Uint8Array([or(gi[$i-1],gi[$i+0],gi[$i+1]),or(gi[$i+0],gi[$i+1],gi[$i+2]),or(gi[$i+1],gi[$i+2],gi[$i+3]),or(gi[$i+2],gi[$i+3],gi[$i+4])]),Ei=0;4>Ei;++Ei)ze(gi,bi+32*Ei,$i,0,$i.length)}function xl(gi,bi){var Ei=gi[bi-1],$i=gi[bi-1+32],Hi=gi[bi-1+64],Ki=gi[bi-1+96];Li(gi,bi+0,16843009*or(gi[bi-1-32],Ei,$i)),Li(gi,bi+32,16843009*or(Ei,$i,Hi)),Li(gi,bi+64,16843009*or($i,Hi,Ki)),Li(gi,bi+96,16843009*or(Hi,Ki,Ki))}function _o(gi,bi){var Ei,$i=4;for(Ei=0;4>Ei;++Ei)$i+=gi[bi+Ei-32]+gi[bi-1+32*Ei];for($i>>=3,Ei=0;4>Ei;++Ei)qe(gi,bi+32*Ei,$i,4)}function Aa(gi,bi){var Ei=gi[bi-1+0],$i=gi[bi-1+32],Hi=gi[bi-1+64],Ki=gi[bi-1-32],Zi=gi[bi+0-32],Qi=gi[bi+1-32],nn=gi[bi+2-32],an=gi[bi+3-32];gi[bi+0+96]=or($i,Hi,gi[bi-1+96]),gi[bi+1+96]=gi[bi+0+64]=or(Ei,$i,Hi),gi[bi+2+96]=gi[bi+1+64]=gi[bi+0+32]=or(Ki,Ei,$i),gi[bi+3+96]=gi[bi+2+64]=gi[bi+1+32]=gi[bi+0+0]=or(Zi,Ki,Ei),gi[bi+3+64]=gi[bi+2+32]=gi[bi+1+0]=or(Qi,Zi,Ki),gi[bi+3+32]=gi[bi+2+0]=or(nn,Qi,Zi),gi[bi+3+0]=or(an,nn,Qi)}function Ca(gi,bi){var Ei=gi[bi+1-32],$i=gi[bi+2-32],Hi=gi[bi+3-32],Ki=gi[bi+4-32],Zi=gi[bi+5-32],Qi=gi[bi+6-32],nn=gi[bi+7-32];gi[bi+0+0]=or(gi[bi+0-32],Ei,$i),gi[bi+1+0]=gi[bi+0+32]=or(Ei,$i,Hi),gi[bi+2+0]=gi[bi+1+32]=gi[bi+0+64]=or($i,Hi,Ki),gi[bi+3+0]=gi[bi+2+32]=gi[bi+1+64]=gi[bi+0+96]=or(Hi,Ki,Zi),gi[bi+3+32]=gi[bi+2+64]=gi[bi+1+96]=or(Ki,Zi,Qi),gi[bi+3+64]=gi[bi+2+96]=or(Zi,Qi,nn),gi[bi+3+96]=or(Qi,nn,nn)}function gs(gi,bi){var Ei=gi[bi-1+0],$i=gi[bi-1+32],Hi=gi[bi-1+64],Ki=gi[bi-1-32],Zi=gi[bi+0-32],Qi=gi[bi+1-32],nn=gi[bi+2-32],an=gi[bi+3-32];gi[bi+0+0]=gi[bi+1+64]=Ki+Zi+1>>1,gi[bi+1+0]=gi[bi+2+64]=Zi+Qi+1>>1,gi[bi+2+0]=gi[bi+3+64]=Qi+nn+1>>1,gi[bi+3+0]=nn+an+1>>1,gi[bi+0+96]=or(Hi,$i,Ei),gi[bi+0+64]=or($i,Ei,Ki),gi[bi+0+32]=gi[bi+1+96]=or(Ei,Ki,Zi),gi[bi+1+32]=gi[bi+2+96]=or(Ki,Zi,Qi),gi[bi+2+32]=gi[bi+3+96]=or(Zi,Qi,nn),gi[bi+3+32]=or(Qi,nn,an)}function js(gi,bi){var Ei=gi[bi+0-32],$i=gi[bi+1-32],Hi=gi[bi+2-32],Ki=gi[bi+3-32],Zi=gi[bi+4-32],Qi=gi[bi+5-32],nn=gi[bi+6-32],an=gi[bi+7-32];gi[bi+0+0]=Ei+$i+1>>1,gi[bi+1+0]=gi[bi+0+64]=$i+Hi+1>>1,gi[bi+2+0]=gi[bi+1+64]=Hi+Ki+1>>1,gi[bi+3+0]=gi[bi+2+64]=Ki+Zi+1>>1,gi[bi+0+32]=or(Ei,$i,Hi),gi[bi+1+32]=gi[bi+0+96]=or($i,Hi,Ki),gi[bi+2+32]=gi[bi+1+96]=or(Hi,Ki,Zi),gi[bi+3+32]=gi[bi+2+96]=or(Ki,Zi,Qi),gi[bi+3+64]=or(Zi,Qi,nn),gi[bi+3+96]=or(Qi,nn,an)}function yl(gi,bi){var Ei=gi[bi-1+0],$i=gi[bi-1+32],Hi=gi[bi-1+64],Ki=gi[bi-1+96];gi[bi+0+0]=Ei+$i+1>>1,gi[bi+2+0]=gi[bi+0+32]=$i+Hi+1>>1,gi[bi+2+32]=gi[bi+0+64]=Hi+Ki+1>>1,gi[bi+1+0]=or(Ei,$i,Hi),gi[bi+3+0]=gi[bi+1+32]=or($i,Hi,Ki),gi[bi+3+32]=gi[bi+1+64]=or(Hi,Ki,Ki),gi[bi+3+64]=gi[bi+2+64]=gi[bi+0+96]=gi[bi+1+96]=gi[bi+2+96]=gi[bi+3+96]=Ki}function wl(gi,bi){var Ei=gi[bi-1+0],$i=gi[bi-1+32],Hi=gi[bi-1+64],Ki=gi[bi-1+96],Zi=gi[bi-1-32],Qi=gi[bi+0-32],nn=gi[bi+1-32],an=gi[bi+2-32];gi[bi+0+0]=gi[bi+2+32]=Ei+Zi+1>>1,gi[bi+0+32]=gi[bi+2+64]=$i+Ei+1>>1,gi[bi+0+64]=gi[bi+2+96]=Hi+$i+1>>1,gi[bi+0+96]=Ki+Hi+1>>1,gi[bi+3+0]=or(Qi,nn,an),gi[bi+2+0]=or(Zi,Qi,nn),gi[bi+1+0]=gi[bi+3+32]=or(Ei,Zi,Qi),gi[bi+1+32]=gi[bi+3+64]=or($i,Ei,Zi),gi[bi+1+64]=gi[bi+3+96]=or(Hi,$i,Ei),gi[bi+1+96]=or(Ki,Hi,$i)}function bl(gi,bi){var Ei;for(Ei=0;8>Ei;++Ei)ze(gi,bi+32*Ei,gi,bi-32,8)}function Vs(gi,bi){var Ei;for(Ei=0;8>Ei;++Ei)qe(gi,bi,gi[bi-1],8),bi+=32}function rs(gi,bi,Ei){var $i;for($i=0;8>$i;++$i)qe(bi,Ei+32*$i,gi,8)}function Vo(gi,bi){var Ei,$i=8;for(Ei=0;8>Ei;++Ei)$i+=gi[bi+Ei-32]+gi[bi-1+32*Ei];rs($i>>4,gi,bi)}function vl(gi,bi){var Ei,$i=4;for(Ei=0;8>Ei;++Ei)$i+=gi[bi+Ei-32];rs($i>>3,gi,bi)}function os(gi,bi){var Ei,$i=4;for(Ei=0;8>Ei;++Ei)$i+=gi[bi-1+32*Ei];rs($i>>3,gi,bi)}function Us(gi,bi){rs(128,gi,bi)}function xs(gi,bi,Ei){var $i=gi[bi-Ei],Hi=gi[bi+0],Ki=3*(Hi-$i)+kl[1020+gi[bi-2*Ei]-gi[bi+Ei]],Zi=Na[112+(Ki+4>>3)];gi[bi-Ei]=io[255+$i+Na[112+(Ki+3>>3)]],gi[bi+0]=io[255+Hi-Zi]}function Pa(gi,bi,Ei,$i){var Hi=gi[bi+0],Ki=gi[bi+Ei];return lo[255+gi[bi-2*Ei]-gi[bi-Ei]]>$i||lo[255+Ki-Hi]>$i}function Ma(gi,bi,Ei,$i){return 4*lo[255+gi[bi-Ei]-gi[bi+0]]+lo[255+gi[bi-2*Ei]-gi[bi+Ei]]<=$i}function Da(gi,bi,Ei,$i,Hi){var Ki=gi[bi-3*Ei],Zi=gi[bi-2*Ei],Qi=gi[bi-Ei],nn=gi[bi+0],an=gi[bi+Ei],gn=gi[bi+2*Ei],Dn=gi[bi+3*Ei];return 4*lo[255+Qi-nn]+lo[255+Zi-an]>$i?0:lo[255+gi[bi-4*Ei]-Ki]<=Hi&&lo[255+Ki-Zi]<=Hi&&lo[255+Zi-Qi]<=Hi&&lo[255+Dn-gn]<=Hi&&lo[255+gn-an]<=Hi&&lo[255+an-nn]<=Hi}function ka(gi,bi,Ei,$i){var Hi=2*$i+1;for($i=0;16>$i;++$i)Ma(gi,bi+$i,Ei,Hi)&&xs(gi,bi+$i,Ei)}function Lo(gi,bi,Ei,$i){var Hi=2*$i+1;for($i=0;16>$i;++$i)Ma(gi,bi+$i*Ei,1,Hi)&&xs(gi,bi+$i*Ei,1)}function Uo(gi,bi,Ei,$i){var Hi;for(Hi=3;0<Hi;--Hi)ka(gi,bi+=4*Ei,Ei,$i)}function Sl(gi,bi,Ei,$i){var Hi;for(Hi=3;0<Hi;--Hi)Lo(gi,bi+=4,Ei,$i)}function zo(gi,bi,Ei,$i,Hi,Ki,Zi,Qi){for(Ki=2*Ki+1;0<Hi--;){if(Da(gi,bi,Ei,Ki,Zi))if(Pa(gi,bi,Ei,Qi))xs(gi,bi,Ei);else{var nn=gi,an=bi,gn=Ei,Dn=nn[an-2*gn],kn=nn[an-gn],bn=nn[an+0],$n=nn[an+gn],On=nn[an+2*gn],xn=27*(Fn=kl[1020+3*(bn-kn)+kl[1020+Dn-$n]])+63>>7,wn=18*Fn+63>>7,Fn=9*Fn+63>>7;nn[an-3*gn]=io[255+nn[an-3*gn]+Fn],nn[an-2*gn]=io[255+Dn+wn],nn[an-gn]=io[255+kn+xn],nn[an+0]=io[255+bn-xn],nn[an+gn]=io[255+$n-wn],nn[an+2*gn]=io[255+On-Fn]}bi+=$i}}function fo(gi,bi,Ei,$i,Hi,Ki,Zi,Qi){for(Ki=2*Ki+1;0<Hi--;){if(Da(gi,bi,Ei,Ki,Zi))if(Pa(gi,bi,Ei,Qi))xs(gi,bi,Ei);else{var nn=gi,an=bi,gn=Ei,Dn=nn[an-gn],kn=nn[an+0],bn=nn[an+gn],$n=Na[112+((On=3*(kn-Dn))+4>>3)],On=Na[112+(On+3>>3)],xn=$n+1>>1;nn[an-2*gn]=io[255+nn[an-2*gn]+xn],nn[an-gn]=io[255+Dn+On],nn[an+0]=io[255+kn-$n],nn[an+gn]=io[255+bn-xn]}bi+=$i}}function zs(gi,bi,Ei,$i,Hi,Ki){zo(gi,bi,Ei,1,16,$i,Hi,Ki)}function ss(gi,bi,Ei,$i,Hi,Ki){zo(gi,bi,1,Ei,16,$i,Hi,Ki)}function Al(gi,bi,Ei,$i,Hi,Ki){var Zi;for(Zi=3;0<Zi;--Zi)fo(gi,bi+=4*Ei,Ei,1,16,$i,Hi,Ki)}function ys(gi,bi,Ei,$i,Hi,Ki){var Zi;for(Zi=3;0<Zi;--Zi)fo(gi,bi+=4,1,Ei,16,$i,Hi,Ki)}function _l(gi,bi,Ei,$i,Hi,Ki,Zi,Qi){zo(gi,bi,Hi,1,8,Ki,Zi,Qi),zo(Ei,$i,Hi,1,8,Ki,Zi,Qi)}function Hs(gi,bi,Ei,$i,Hi,Ki,Zi,Qi){zo(gi,bi,1,Hi,8,Ki,Zi,Qi),zo(Ei,$i,1,Hi,8,Ki,Zi,Qi)}function qs(gi,bi,Ei,$i,Hi,Ki,Zi,Qi){fo(gi,bi+4*Hi,Hi,1,8,Ki,Zi,Qi),fo(Ei,$i+4*Hi,Hi,1,8,Ki,Zi,Qi)}function Ta(gi,bi,Ei,$i,Hi,Ki,Zi,Qi){fo(gi,bi+4,1,Hi,8,Ki,Zi,Qi),fo(Ei,$i+4,1,Hi,8,Ki,Zi,Qi)}function ws(){this.ba=new dr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new nr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Xs(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ws(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function La(){this.ua=0,this.Wa=new Mi,this.vb=new Mi,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new vi,this.yc=new xi}function Cl(){this.xb=this.a=0,this.l=new ds,this.ca=new dr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new ki,this.Pb=0,this.wd=new ki,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new La,this.ab=0,this.gc=We(4,Ws),this.Oc=0}function bs(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ds,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function as(gi,bi,Ei,$i,Hi,Ki,Zi){for(gi=gi==null?0:gi[bi+0],bi=0;bi<Zi;++bi)Hi[Ki+bi]=gi+Ei[$i+bi]&255,gi=Hi[Ki+bi]}function Ys(gi,bi,Ei,$i,Hi,Ki,Zi){var Qi;if(gi==null)as(null,null,Ei,$i,Hi,Ki,Zi);else for(Qi=0;Qi<Zi;++Qi)Hi[Ki+Qi]=gi[bi+Qi]+Ei[$i+Qi]&255}function Ho(gi,bi,Ei,$i,Hi,Ki,Zi){if(gi==null)as(null,null,Ei,$i,Hi,Ki,Zi);else{var Qi,nn=gi[bi+0],an=nn,gn=nn;for(Qi=0;Qi<Zi;++Qi)an=gn+(nn=gi[bi+Qi])-an,gn=Ei[$i+Qi]+(-256&an?0>an?0:255:an)&255,an=nn,Hi[Ki+Qi]=gn}}function Gs(gi,bi,Ei,$i){var Hi=bi.width,Ki=bi.o;if($e(gi!=null&&bi!=null),0>Ei||0>=$i||Ei+$i>Ki)return null;if(!gi.Cc){if(gi.ga==null){var Zi;if(gi.ga=new bs,(Zi=gi.ga==null)||(Zi=bi.width*bi.o,$e(gi.Gb.length==0),gi.Gb=Xe(Zi),gi.Uc=0,gi.Gb==null?Zi=0:(gi.mb=gi.Gb,gi.nb=gi.Uc,gi.rc=null,Zi=1),Zi=!Zi),!Zi){Zi=gi.ga;var Qi=gi.Fa,nn=gi.P,an=gi.qc,gn=gi.mb,Dn=gi.nb,kn=nn+1,bn=an-1,$n=Zi.l;if($e(Qi!=null&&gn!=null&&bi!=null),Zo[0]=null,Zo[1]=as,Zo[2]=Ys,Zo[3]=Ho,Zi.ca=gn,Zi.tb=Dn,Zi.c=bi.width,Zi.i=bi.height,$e(0<Zi.c&&0<Zi.i),1>=an)bi=0;else if(Zi.$a=Qi[nn+0]>>0&3,Zi.Z=Qi[nn+0]>>2&3,Zi.Lc=Qi[nn+0]>>4&3,nn=Qi[nn+0]>>6&3,0>Zi.$a||1<Zi.$a||4<=Zi.Z||1<Zi.Lc||nn)bi=0;else if($n.put=mn,$n.ac=Wi,$n.bc=vn,$n.ma=Zi,$n.width=bi.width,$n.height=bi.height,$n.Da=bi.Da,$n.v=bi.v,$n.va=bi.va,$n.j=bi.j,$n.o=bi.o,Zi.$a)e:{$e(Zi.$a==1),bi=Tr();t:for(;;){if(bi==null){bi=0;break e}if($e(Zi!=null),Zi.mc=bi,bi.c=Zi.c,bi.i=Zi.i,bi.l=Zi.l,bi.l.ma=Zi,bi.l.width=Zi.c,bi.l.height=Zi.i,bi.a=0,Ci(bi.m,Qi,kn,bn),!Hr(Zi.c,Zi.i,1,bi,null)||(bi.ab==1&&bi.gc[0].hc==3&&Sr(bi.s)?(Zi.ic=1,Qi=bi.c*bi.i,bi.Ta=null,bi.Ua=0,bi.V=Xe(Qi),bi.Ba=0,bi.V==null?(bi.a=1,bi=0):bi=1):(Zi.ic=0,bi=jr(bi,Zi.c)),!bi))break t;bi=1;break e}Zi.mc=null,bi=0}else bi=bn>=Zi.c*Zi.i;Zi=!bi}if(Zi)return null;gi.ga.Lc!=1?gi.Ga=0:$i=Ki-Ei}$e(gi.ga!=null),$e(Ei+$i<=Ki);e:{if(bi=(Qi=gi.ga).c,Ki=Qi.l.o,Qi.$a==0){if(kn=gi.rc,bn=gi.Vc,$n=gi.Fa,nn=gi.P+1+Ei*bi,an=gi.mb,gn=gi.nb+Ei*bi,$e(nn<=gi.P+gi.qc),Qi.Z!=0)for($e(Zo[Qi.Z]!=null),Zi=0;Zi<$i;++Zi)Zo[Qi.Z](kn,bn,$n,nn,an,gn,bi),kn=an,bn=gn,gn+=bi,nn+=bi;else for(Zi=0;Zi<$i;++Zi)ze(an,gn,$n,nn,bi),kn=an,bn=gn,gn+=bi,nn+=bi;gi.rc=kn,gi.Vc=bn}else{if($e(Qi.mc!=null),bi=Ei+$i,$e((Zi=Qi.mc)!=null),$e(bi<=Zi.i),Zi.C>=bi)bi=1;else if(Qi.ic||Cn(),Qi.ic){Qi=Zi.V,kn=Zi.Ba,bn=Zi.c;var On=Zi.i,xn=($n=1,nn=Zi.$/bn,an=Zi.$%bn,gn=Zi.m,Dn=Zi.s,Zi.$),wn=bn*On,Fn=bn*bi,jn=Dn.wc,Bn=xn<Fn?ur(Dn,an,nn):null;$e(xn<=wn),$e(bi<=On),$e(Sr(Dn));t:for(;;){for(;!gn.h&&xn<Fn;){if(an&jn||(Bn=ur(Dn,an,nn)),$e(Bn!=null),Xi(gn),256>(On=mr(Bn.G[0],Bn.H[0],gn)))Qi[kn+xn]=On,++xn,++an>=bn&&(an=0,++nn<=bi&&!(nn%16)&&yr(Zi,nn));else{if(!(280>On)){$n=0;break t}On=Hn(On-256,gn);var Zn,Yn=mr(Bn.G[4],Bn.H[4],gn);if(Xi(gn),!(xn>=(Yn=Xn(bn,Yn=Hn(Yn,gn)))&&wn-xn>=On)){$n=0;break t}for(Zn=0;Zn<On;++Zn)Qi[kn+xn+Zn]=Qi[kn+xn+Zn-Yn];for(xn+=On,an+=On;an>=bn;)an-=bn,++nn<=bi&&!(nn%16)&&yr(Zi,nn);xn<Fn&&an&jn&&(Bn=ur(Dn,an,nn))}$e(gn.h==Vi(gn))}yr(Zi,nn>bi?bi:nn);break t}!$n||gn.h&&xn<wn?($n=0,Zi.a=gn.h?5:3):Zi.$=xn,bi=$n}else bi=Dr(Zi,Zi.V,Zi.Ba,Zi.c,Zi.i,bi,ho);if(!bi){$i=0;break e}}Ei+$i>=Ki&&(gi.Cc=1),$i=1}if(!$i)return null;if(gi.Cc&&(($i=gi.ga)!=null&&($i.mc=null),gi.ga=null,0<gi.Ga))return alert("todo:WebPDequantizeLevels"),null}return gi.nb+Ei*Hi}function Pi(gi,bi,Ei,$i,Hi,Ki){for(;0<Hi--;){var Zi,Qi=gi,nn=bi+(Ei?1:0),an=gi,gn=bi+(Ei?0:3);for(Zi=0;Zi<$i;++Zi){var Dn=an[gn+4*Zi];Dn!=255&&(Dn*=32897,Qi[nn+4*Zi+0]=Qi[nn+4*Zi+0]*Dn>>23,Qi[nn+4*Zi+1]=Qi[nn+4*Zi+1]*Dn>>23,Qi[nn+4*Zi+2]=Qi[nn+4*Zi+2]*Dn>>23)}bi+=Ki}}function qi(gi,bi,Ei,$i,Hi){for(;0<$i--;){var Ki;for(Ki=0;Ki<Ei;++Ki){var Zi=gi[bi+2*Ki+0],Qi=15&(an=gi[bi+2*Ki+1]),nn=4369*Qi,an=(240&an|an>>4)*nn>>16;gi[bi+2*Ki+0]=(240&Zi|Zi>>4)*nn>>16&240|(15&Zi|Zi<<4)*nn>>16>>4&15,gi[bi+2*Ki+1]=240&an|Qi}bi+=Hi}}function cn(gi,bi,Ei,$i,Hi,Ki,Zi,Qi){var nn,an,gn=255;for(an=0;an<Hi;++an){for(nn=0;nn<$i;++nn){var Dn=gi[bi+nn];Ki[Zi+4*nn]=Dn,gn&=Dn}bi+=Ei,Zi+=Qi}return gn!=255}function pn(gi,bi,Ei,$i,Hi){var Ki;for(Ki=0;Ki<Hi;++Ki)Ei[$i+Ki]=gi[bi+Ki]>>8}function Cn(){Go=Pi,ks=qi,Ia=cn,eu=pn}function Nn(gi,bi,Ei){di[gi]=function($i,Hi,Ki,Zi,Qi,nn,an,gn,Dn,kn,bn,$n,On,xn,wn,Fn,jn){var Bn,Zn=jn-1>>1,Yn=Qi[nn+0]|an[gn+0]<<16,tr=Dn[kn+0]|bn[$n+0]<<16;$e($i!=null);var Gn=3*Yn+tr+131074>>2;for(bi($i[Hi+0],255&Gn,Gn>>16,On,xn),Ki!=null&&(Gn=3*tr+Yn+131074>>2,bi(Ki[Zi+0],255&Gn,Gn>>16,wn,Fn)),Bn=1;Bn<=Zn;++Bn){var xr=Qi[nn+Bn]|an[gn+Bn]<<16,wr=Dn[kn+Bn]|bn[$n+Bn]<<16,gr=Yn+xr+tr+wr+524296,fr=gr+2*(xr+tr)>>3;Gn=fr+Yn>>1,Yn=(gr=gr+2*(Yn+wr)>>3)+xr>>1,bi($i[Hi+2*Bn-1],255&Gn,Gn>>16,On,xn+(2*Bn-1)*Ei),bi($i[Hi+2*Bn-0],255&Yn,Yn>>16,On,xn+(2*Bn-0)*Ei),Ki!=null&&(Gn=gr+tr>>1,Yn=fr+wr>>1,bi(Ki[Zi+2*Bn-1],255&Gn,Gn>>16,wn,Fn+(2*Bn-1)*Ei),bi(Ki[Zi+2*Bn+0],255&Yn,Yn>>16,wn,Fn+(2*Bn+0)*Ei)),Yn=xr,tr=wr}1&jn||(Gn=3*Yn+tr+131074>>2,bi($i[Hi+jn-1],255&Gn,Gn>>16,On,xn+(jn-1)*Ei),Ki!=null&&(Gn=3*tr+Yn+131074>>2,bi(Ki[Zi+jn-1],255&Gn,Gn>>16,wn,Fn+(jn-1)*Ei)))}}function Vn(){uo[Ra]=hc,uo[Fa]=hu,uo[su]=dc,uo[Ba]=du,uo[$a]=mu,uo[Tl]=fu,uo[au]=mc,uo[Ll]=hu,uo[El]=du,uo[ja]=mu,uo[Ol]=fu}function Kn(gi){return gi&~fc?0>gi?0:255:gi>>pu}function Qn(gi,bi){return Kn((19077*gi>>8)+(26149*bi>>8)-14234)}function ar(gi,bi,Ei){return Kn((19077*gi>>8)-(6419*bi>>8)-(13320*Ei>>8)+8708)}function hr(gi,bi){return Kn((19077*gi>>8)+(33050*bi>>8)-17685)}function pr(gi,bi,Ei,$i,Hi){$i[Hi+0]=Qn(gi,Ei),$i[Hi+1]=ar(gi,bi,Ei),$i[Hi+2]=hr(gi,bi)}function kr(gi,bi,Ei,$i,Hi){$i[Hi+0]=hr(gi,bi),$i[Hi+1]=ar(gi,bi,Ei),$i[Hi+2]=Qn(gi,Ei)}function Lr(gi,bi,Ei,$i,Hi){var Ki=ar(gi,bi,Ei);bi=Ki<<3&224|hr(gi,bi)>>3,$i[Hi+0]=248&Qn(gi,Ei)|Ki>>5,$i[Hi+1]=bi}function Rr(gi,bi,Ei,$i,Hi){var Ki=240&hr(gi,bi)|15;$i[Hi+0]=240&Qn(gi,Ei)|ar(gi,bi,Ei)>>4,$i[Hi+1]=Ki}function Wr(gi,bi,Ei,$i,Hi){$i[Hi+0]=255,pr(gi,bi,Ei,$i,Hi+1)}function Vr(gi,bi,Ei,$i,Hi){kr(gi,bi,Ei,$i,Hi),$i[Hi+3]=255}function po(gi,bi,Ei,$i,Hi){pr(gi,bi,Ei,$i,Hi),$i[Hi+3]=255}function to(gi,bi){return 0>gi?0:gi>bi?bi:gi}function Eo(gi,bi,Ei){di[gi]=function($i,Hi,Ki,Zi,Qi,nn,an,gn,Dn){for(var kn=gn+(-2&Dn)*Ei;gn!=kn;)bi($i[Hi+0],Ki[Zi+0],Qi[nn+0],an,gn),bi($i[Hi+1],Ki[Zi+0],Qi[nn+0],an,gn+Ei),Hi+=2,++Zi,++nn,gn+=2*Ei;1&Dn&&bi($i[Hi+0],Ki[Zi+0],Qi[nn+0],an,gn)}}function Ea(gi,bi,Ei){return Ei==0?gi==0?bi==0?6:5:bi==0?4:0:Ei}function Ks(gi,bi,Ei,$i,Hi){switch(gi>>>30){case 3:Ms(bi,Ei,$i,Hi,0);break;case 2:na(bi,Ei,$i,Hi);break;case 1:wo(bi,Ei,$i,Hi)}}function Zs(gi,bi){var Ei,$i,Hi=bi.M,Ki=bi.Nb,Zi=gi.oc,Qi=gi.pc+40,nn=gi.oc,an=gi.pc+584,gn=gi.oc,Dn=gi.pc+600;for(Ei=0;16>Ei;++Ei)Zi[Qi+32*Ei-1]=129;for(Ei=0;8>Ei;++Ei)nn[an+32*Ei-1]=129,gn[Dn+32*Ei-1]=129;for(0<Hi?Zi[Qi-1-32]=nn[an-1-32]=gn[Dn-1-32]=129:(qe(Zi,Qi-32-1,127,21),qe(nn,an-32-1,127,9),qe(gn,Dn-32-1,127,9)),$i=0;$i<gi.za;++$i){var kn=bi.ya[bi.aa+$i];if(0<$i){for(Ei=-1;16>Ei;++Ei)ze(Zi,Qi+32*Ei-4,Zi,Qi+32*Ei+12,4);for(Ei=-1;8>Ei;++Ei)ze(nn,an+32*Ei-4,nn,an+32*Ei+4,4),ze(gn,Dn+32*Ei-4,gn,Dn+32*Ei+4,4)}var bn=gi.Gd,$n=gi.Hd+$i,On=kn.ad,xn=kn.Hc;if(0<Hi&&(ze(Zi,Qi-32,bn[$n].y,0,16),ze(nn,an-32,bn[$n].f,0,8),ze(gn,Dn-32,bn[$n].ea,0,8)),kn.Za){var wn=Zi,Fn=Qi-32+16;for(0<Hi&&($i>=gi.za-1?qe(wn,Fn,bn[$n].y[15],4):ze(wn,Fn,bn[$n+1].y,0,4)),Ei=0;4>Ei;Ei++)wn[Fn+128+Ei]=wn[Fn+256+Ei]=wn[Fn+384+Ei]=wn[Fn+0+Ei];for(Ei=0;16>Ei;++Ei,xn<<=2)wn=Zi,Fn=Qi+xu[Ei],bo[kn.Ob[Ei]](wn,Fn),Ks(xn,On,16*+Ei,wn,Fn)}else if(wn=Ea($i,Hi,kn.Ob[0]),Ko[wn](Zi,Qi),xn!=0)for(Ei=0;16>Ei;++Ei,xn<<=2)Ks(xn,On,16*+Ei,Zi,Qi+xu[Ei]);for(Ei=kn.Gc,wn=Ea($i,Hi,kn.Dd),Fo[wn](nn,an),Fo[wn](gn,Dn),xn=On,wn=nn,Fn=an,255&(kn=Ei>>0)&&(170&kn?Wo(xn,256,wn,Fn):Io(xn,256,wn,Fn)),kn=gn,xn=Dn,255&(Ei>>=8)&&(170&Ei?Wo(On,320,kn,xn):Io(On,320,kn,xn)),Hi<gi.Ub-1&&(ze(bn[$n].y,0,Zi,Qi+480,16),ze(bn[$n].f,0,nn,an+224,8),ze(bn[$n].ea,0,gn,Dn+224,8)),Ei=8*Ki*gi.B,bn=gi.sa,$n=gi.ta+16*$i+16*Ki*gi.R,On=gi.qa,kn=gi.ra+8*$i+Ei,xn=gi.Ha,wn=gi.Ia+8*$i+Ei,Ei=0;16>Ei;++Ei)ze(bn,$n+Ei*gi.R,Zi,Qi+32*Ei,16);for(Ei=0;8>Ei;++Ei)ze(On,kn+Ei*gi.B,nn,an+32*Ei,8),ze(xn,wn+Ei*gi.B,gn,Dn+32*Ei,8)}}function vs(gi,bi,Ei,$i,Hi,Ki,Zi,Qi,nn){var an=[0],gn=[0],Dn=0,kn=nn!=null?nn.kd:0,bn=nn??new Xs;if(gi==null||12>Ei)return 7;bn.data=gi,bn.w=bi,bn.ha=Ei,bi=[bi],Ei=[Ei],bn.gb=[bn.gb];e:{var $n=bi,On=Ei,xn=bn.gb;if($e(gi!=null),$e(On!=null),$e(xn!=null),xn[0]=0,12<=On[0]&&!Ve(gi,$n[0],"RIFF")){if(Ve(gi,$n[0]+8,"WEBP")){xn=3;break e}var wn=Ai(gi,$n[0]+4);if(12>wn||4294967286<wn){xn=3;break e}if(kn&&wn>On[0]-8){xn=7;break e}xn[0]=wn,$n[0]+=12,On[0]-=12}xn=0}if(xn!=0)return xn;for(wn=0<bn.gb[0],Ei=Ei[0];;){e:{var Fn=gi;On=bi,xn=Ei;var jn=an,Bn=gn,Zn=$n=[0];if((Gn=Dn=[Dn])[0]=0,8>xn[0])xn=7;else{if(!Ve(Fn,On[0],"VP8X")){if(Ai(Fn,On[0]+4)!=10){xn=3;break e}if(18>xn[0]){xn=7;break e}var Yn=Ai(Fn,On[0]+8),tr=1+_i(Fn,On[0]+12);if(2147483648<=tr*(Fn=1+_i(Fn,On[0]+15))){xn=3;break e}Zn!=null&&(Zn[0]=Yn),jn!=null&&(jn[0]=tr),Bn!=null&&(Bn[0]=Fn),On[0]+=18,xn[0]-=18,Gn[0]=1}xn=0}}if(Dn=Dn[0],$n=$n[0],xn!=0)return xn;if(On=!!(2&$n),!wn&&Dn)return 3;if(Ki!=null&&(Ki[0]=!!(16&$n)),Zi!=null&&(Zi[0]=On),Qi!=null&&(Qi[0]=0),Zi=an[0],$n=gn[0],Dn&&On&&nn==null){xn=0;break}if(4>Ei){xn=7;break}if(wn&&Dn||!wn&&!Dn&&!Ve(gi,bi[0],"ALPH")){Ei=[Ei],bn.na=[bn.na],bn.P=[bn.P],bn.Sa=[bn.Sa];e:{Yn=gi,xn=bi,wn=Ei;var Gn=bn.gb;jn=bn.na,Bn=bn.P,Zn=bn.Sa,tr=22,$e(Yn!=null),$e(wn!=null),Fn=xn[0];var xr=wn[0];for($e(jn!=null),$e(Zn!=null),jn[0]=null,Bn[0]=null,Zn[0]=0;;){if(xn[0]=Fn,wn[0]=xr,8>xr){xn=7;break e}var wr=Ai(Yn,Fn+4);if(4294967286<wr){xn=3;break e}var gr=8+wr+1&-2;if(tr+=gr,0<Gn&&tr>Gn){xn=3;break e}if(!Ve(Yn,Fn,"VP8 ")||!Ve(Yn,Fn,"VP8L")){xn=0;break e}if(xr[0]<gr){xn=7;break e}Ve(Yn,Fn,"ALPH")||(jn[0]=Yn,Bn[0]=Fn+8,Zn[0]=wr),Fn+=gr,xr-=gr}}if(Ei=Ei[0],bn.na=bn.na[0],bn.P=bn.P[0],bn.Sa=bn.Sa[0],xn!=0)break}Ei=[Ei],bn.Ja=[bn.Ja],bn.xa=[bn.xa];e:if(Gn=gi,xn=bi,wn=Ei,jn=bn.gb[0],Bn=bn.Ja,Zn=bn.xa,Yn=xn[0],Fn=!Ve(Gn,Yn,"VP8 "),tr=!Ve(Gn,Yn,"VP8L"),$e(Gn!=null),$e(wn!=null),$e(Bn!=null),$e(Zn!=null),8>wn[0])xn=7;else{if(Fn||tr){if(Gn=Ai(Gn,Yn+4),12<=jn&&Gn>jn-12){xn=3;break e}if(kn&&Gn>wn[0]-8){xn=7;break e}Bn[0]=Gn,xn[0]+=8,wn[0]-=8,Zn[0]=tr}else Zn[0]=5<=wn[0]&&Gn[Yn+0]==47&&!(Gn[Yn+4]>>5),Bn[0]=wn[0];xn=0}if(Ei=Ei[0],bn.Ja=bn.Ja[0],bn.xa=bn.xa[0],bi=bi[0],xn!=0)break;if(4294967286<bn.Ja)return 3;if(Qi==null||On||(Qi[0]=bn.xa?2:1),Zi=[Zi],$n=[$n],bn.xa){if(5>Ei){xn=7;break}Qi=Zi,kn=$n,On=Ki,gi==null||5>Ei?gi=0:5<=Ei&&gi[bi+0]==47&&!(gi[bi+4]>>5)?(wn=[0],Gn=[0],jn=[0],Ci(Bn=new ki,gi,bi,Ei),Mn(Bn,wn,Gn,jn)?(Qi!=null&&(Qi[0]=wn[0]),kn!=null&&(kn[0]=Gn[0]),On!=null&&(On[0]=jn[0]),gi=1):gi=0):gi=0}else{if(10>Ei){xn=7;break}Qi=$n,gi==null||10>Ei||!pa(gi,bi+3,Ei-3)?gi=0:(kn=gi[bi+0]|gi[bi+1]<<8|gi[bi+2]<<16,On=16383&(gi[bi+7]<<8|gi[bi+6]),gi=16383&(gi[bi+9]<<8|gi[bi+8]),1&kn||3<(kn>>1&7)||!(kn>>4&1)||kn>>5>=bn.Ja||!On||!gi?gi=0:(Zi&&(Zi[0]=On),Qi&&(Qi[0]=gi),gi=1))}if(!gi||(Zi=Zi[0],$n=$n[0],Dn&&(an[0]!=Zi||gn[0]!=$n)))return 3;nn!=null&&(nn[0]=bn,nn.offset=bi-nn.w,$e(4294967286>bi-nn.w),$e(nn.offset==nn.ha-Ei));break}return xn==0||xn==7&&Dn&&nn==null?(Ki!=null&&(Ki[0]|=bn.na!=null&&0<bn.na.length),$i!=null&&($i[0]=Zi),Hi!=null&&(Hi[0]=$n),0):xn}function Js(gi,bi,Ei){var $i=bi.width,Hi=bi.height,Ki=0,Zi=0,Qi=$i,nn=Hi;if(bi.Da=gi!=null&&0<gi.Da,bi.Da&&(Qi=gi.cd,nn=gi.bd,Ki=gi.v,Zi=gi.j,11>Ei||(Ki&=-2,Zi&=-2),0>Ki||0>Zi||0>=Qi||0>=nn||Ki+Qi>$i||Zi+nn>Hi))return 0;if(bi.v=Ki,bi.j=Zi,bi.va=Ki+Qi,bi.o=Zi+nn,bi.U=Qi,bi.T=nn,bi.da=gi!=null&&0<gi.da,bi.da){if(!Gi(Qi,nn,Ei=[gi.ib],Ki=[gi.hb]))return 0;bi.ib=Ei[0],bi.hb=Ki[0]}return bi.ob=gi!=null&&gi.ob,bi.Kb=gi==null||!gi.Sd,bi.da&&(bi.ob=bi.ib<3*$i/4&&bi.hb<3*Hi/4,bi.Kb=0),1}function Qs(gi){if(gi==null)return 2;if(11>gi.S){var bi=gi.f.RGBA;bi.fb+=(gi.height-1)*bi.A,bi.A=-bi.A}else bi=gi.f.kb,gi=gi.height,bi.O+=(gi-1)*bi.fa,bi.fa=-bi.fa,bi.N+=(gi-1>>1)*bi.Ab,bi.Ab=-bi.Ab,bi.W+=(gi-1>>1)*bi.Db,bi.Db=-bi.Db,bi.F!=null&&(bi.J+=(gi-1)*bi.lb,bi.lb=-bi.lb);return 0}function Ss(gi,bi,Ei,$i){if($i==null||0>=gi||0>=bi)return 2;if(Ei!=null){if(Ei.Da){var Hi=Ei.cd,Ki=Ei.bd,Zi=-2&Ei.v,Qi=-2&Ei.j;if(0>Zi||0>Qi||0>=Hi||0>=Ki||Zi+Hi>gi||Qi+Ki>bi)return 2;gi=Hi,bi=Ki}if(Ei.da){if(!Gi(gi,bi,Hi=[Ei.ib],Ki=[Ei.hb]))return 2;gi=Hi[0],bi=Ki[0]}}$i.width=gi,$i.height=bi;e:{var nn=$i.width,an=$i.height;if(gi=$i.S,0>=nn||0>=an||!(gi>=Ra&&13>gi))gi=2;else{if(0>=$i.Rd&&$i.sd==null){Zi=Ki=Hi=bi=0;var gn=(Qi=nn*yu[gi])*an;if(11>gi||(Ki=(an+1)/2*(bi=(nn+1)/2),gi==12&&(Zi=(Hi=nn)*an)),(an=Xe(gn+2*Ki+Zi))==null){gi=1;break e}$i.sd=an,11>gi?((nn=$i.f.RGBA).eb=an,nn.fb=0,nn.A=Qi,nn.size=gn):((nn=$i.f.kb).y=an,nn.O=0,nn.fa=Qi,nn.Fd=gn,nn.f=an,nn.N=0+gn,nn.Ab=bi,nn.Cd=Ki,nn.ea=an,nn.W=0+gn+Ki,nn.Db=bi,nn.Ed=Ki,gi==12&&(nn.F=an,nn.J=0+gn+2*Ki),nn.Tc=Zi,nn.lb=Hi)}if(bi=1,Hi=$i.S,Ki=$i.width,Zi=$i.height,Hi>=Ra&&13>Hi)if(11>Hi)gi=$i.f.RGBA,bi&=(Qi=Math.abs(gi.A))*(Zi-1)+Ki<=gi.size,bi&=Qi>=Ki*yu[Hi],bi&=gi.eb!=null;else{gi=$i.f.kb,Qi=(Ki+1)/2,gn=(Zi+1)/2,nn=Math.abs(gi.fa),an=Math.abs(gi.Ab);var Dn=Math.abs(gi.Db),kn=Math.abs(gi.lb),bn=kn*(Zi-1)+Ki;bi&=nn*(Zi-1)+Ki<=gi.Fd,bi&=an*(gn-1)+Qi<=gi.Cd,bi=(bi&=Dn*(gn-1)+Qi<=gi.Ed)&nn>=Ki&an>=Qi&Dn>=Qi,bi&=gi.y!=null,bi&=gi.f!=null,bi&=gi.ea!=null,Hi==12&&(bi&=kn>=Ki,bi&=bn<=gi.Tc,bi&=gi.F!=null)}else bi=0;gi=bi?0:2}}return gi!=0||Ei!=null&&Ei.fd&&(gi=Qs($i)),gi}var Kr=64,As=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],_s=24,Cs=32,ea=8,Zr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];rn("Predictor0","PredictorAdd0"),di.Predictor0=function(){return 4278190080},di.Predictor1=function(gi){return gi},di.Predictor2=function(gi,bi,Ei){return bi[Ei+0]},di.Predictor3=function(gi,bi,Ei){return bi[Ei+1]},di.Predictor4=function(gi,bi,Ei){return bi[Ei-1]},di.Predictor5=function(gi,bi,Ei){return dn(dn(gi,bi[Ei+1]),bi[Ei+0])},di.Predictor6=function(gi,bi,Ei){return dn(gi,bi[Ei-1])},di.Predictor7=function(gi,bi,Ei){return dn(gi,bi[Ei+0])},di.Predictor8=function(gi,bi,Ei){return dn(bi[Ei-1],bi[Ei+0])},di.Predictor9=function(gi,bi,Ei){return dn(bi[Ei+0],bi[Ei+1])},di.Predictor10=function(gi,bi,Ei){return dn(dn(gi,bi[Ei-1]),dn(bi[Ei+0],bi[Ei+1]))},di.Predictor11=function(gi,bi,Ei){var $i=bi[Ei+0];return 0>=fn($i>>24&255,gi>>24&255,(bi=bi[Ei-1])>>24&255)+fn($i>>16&255,gi>>16&255,bi>>16&255)+fn($i>>8&255,gi>>8&255,bi>>8&255)+fn(255&$i,255&gi,255&bi)?$i:gi},di.Predictor12=function(gi,bi,Ei){var $i=bi[Ei+0];return(hn((gi>>24&255)+($i>>24&255)-((bi=bi[Ei-1])>>24&255))<<24|hn((gi>>16&255)+($i>>16&255)-(bi>>16&255))<<16|hn((gi>>8&255)+($i>>8&255)-(bi>>8&255))<<8|hn((255&gi)+(255&$i)-(255&bi)))>>>0},di.Predictor13=function(gi,bi,Ei){var $i=bi[Ei-1];return(Sn((gi=dn(gi,bi[Ei+0]))>>24&255,$i>>24&255)<<24|Sn(gi>>16&255,$i>>16&255)<<16|Sn(gi>>8&255,$i>>8&255)<<8|Sn(gi>>0&255,$i>>0&255))>>>0};var Pl=di.PredictorAdd0;di.PredictorAdd1=Pn,rn("Predictor2","PredictorAdd2"),rn("Predictor3","PredictorAdd3"),rn("Predictor4","PredictorAdd4"),rn("Predictor5","PredictorAdd5"),rn("Predictor6","PredictorAdd6"),rn("Predictor7","PredictorAdd7"),rn("Predictor8","PredictorAdd8"),rn("Predictor9","PredictorAdd9"),rn("Predictor10","PredictorAdd10"),rn("Predictor11","PredictorAdd11"),rn("Predictor12","PredictorAdd12"),rn("Predictor13","PredictorAdd13");var ta=di.PredictorAdd2;An("ColorIndexInverseTransform","MapARGB","32b",function(gi){return gi>>8&255},function(gi){return gi}),An("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(gi){return gi},function(gi){return gi>>8&255});var Oa,go=di.ColorIndexInverseTransform,ia=di.MapARGB,Ml=di.VP8LColorIndexInverseTransformAlpha,Dl=di.MapAlpha,qo=di.VP8LPredictorsAdd=[];qo.length=16,(di.VP8LPredictors=[]).length=16,(di.VP8LPredictorsAdd_C=[]).length=16,(di.VP8LPredictors_C=[]).length=16;var so,xo,Xo,Co,Oo,Ps,yo,Ms,na,Wo,wo,Io,ls,Ds,us,Yo,ra,ao,No,Pr,Mr,Ir,$r,Ro,Go,ks,Ia,eu,tu=Xe(511),iu=Xe(2041),nu=Xe(225),ru=Xe(767),ou=0,kl=iu,Na=nu,io=ru,lo=tu,Ra=0,Fa=1,su=2,Ba=3,$a=4,Tl=5,au=6,Ll=7,El=8,ja=9,Ol=10,Ku=[2,3,7],Zu=[3,3,11],lu=[280,256,256,256,40],Ju=[0,1,1,1,0],Qu=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ec=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],tc=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ic=8,Il=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Nl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],oa=null,nc=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],rc=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],uu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],oc=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],sc=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ac=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],uc=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ko=[],bo=[],Fo=[],cc=1,cu=2,Zo=[],uo=[];Nn("UpsampleRgbLinePair",pr,3),Nn("UpsampleBgrLinePair",kr,3),Nn("UpsampleRgbaLinePair",po,4),Nn("UpsampleBgraLinePair",Vr,4),Nn("UpsampleArgbLinePair",Wr,4),Nn("UpsampleRgba4444LinePair",Rr,2),Nn("UpsampleRgb565LinePair",Lr,2);var hc=di.UpsampleRgbLinePair,dc=di.UpsampleBgrLinePair,hu=di.UpsampleRgbaLinePair,du=di.UpsampleBgraLinePair,mu=di.UpsampleArgbLinePair,fu=di.UpsampleRgba4444LinePair,mc=di.UpsampleRgb565LinePair,Va=16,Ua=1<<Va-1,sa=-227,Rl=482,pu=6,fc=(256<<pu)-1,gu=0,pc=Xe(256),gc=Xe(256),xc=Xe(256),yc=Xe(256),wc=Xe(Rl-sa),bc=Xe(Rl-sa);Eo("YuvToRgbRow",pr,3),Eo("YuvToBgrRow",kr,3),Eo("YuvToRgbaRow",po,4),Eo("YuvToBgraRow",Vr,4),Eo("YuvToArgbRow",Wr,4),Eo("YuvToRgba4444Row",Rr,2),Eo("YuvToRgb565Row",Lr,2);var xu=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],za=[0,2,8],vc=[8,7,6,4,4,2,2,2,1,1,1,1],Sc=1;this.WebPDecodeRGBA=function(gi,bi,Ei,$i,Hi){var Ki=Fa,Zi=new ws,Qi=new dr;Zi.ba=Qi,Qi.S=Ki,Qi.width=[Qi.width],Qi.height=[Qi.height];var nn=Qi.width,an=Qi.height,gn=new sr;if(gn==null||gi==null)var Dn=2;else $e(gn!=null),Dn=vs(gi,bi,Ei,gn.width,gn.height,gn.Pd,gn.Qd,gn.format,null);if(Dn!=0?nn=0:(nn!=null&&(nn[0]=gn.width[0]),an!=null&&(an[0]=gn.height[0]),nn=1),nn){Qi.width=Qi.width[0],Qi.height=Qi.height[0],$i!=null&&($i[0]=Qi.width),Hi!=null&&(Hi[0]=Qi.height);e:{if($i=new ds,(Hi=new Xs).data=gi,Hi.w=bi,Hi.ha=Ei,Hi.kd=1,bi=[0],$e(Hi!=null),((gi=vs(Hi.data,Hi.w,Hi.ha,null,null,null,bi,null,Hi))==0||gi==7)&&bi[0]&&(gi=4),(bi=gi)==0){if($e(Zi!=null),$i.data=Hi.data,$i.w=Hi.w+Hi.offset,$i.ha=Hi.ha-Hi.offset,$i.put=mn,$i.ac=Wi,$i.bc=vn,$i.ma=Zi,Hi.xa){if((gi=Tr())==null){Zi=1;break e}if(function(kn,bn){var $n=[0],On=[0],xn=[0];t:for(;;){if(kn==null)return 0;if(bn==null)return kn.a=2,0;if(kn.l=bn,kn.a=0,Ci(kn.m,bn.data,bn.w,bn.ha),!Mn(kn.m,$n,On,xn)){kn.a=3;break t}if(kn.xb=cu,bn.width=$n[0],bn.height=On[0],!Hr($n[0],On[0],1,kn,null))break t;return 1}return $e(kn.a!=0),0}(gi,$i)){if($i=(bi=Ss($i.width,$i.height,Zi.Oa,Zi.ba))==0){t:{$i=gi;i:for(;;){if($i==null){$i=0;break t}if($e($i.s.yc!=null),$e($i.s.Ya!=null),$e(0<$i.s.Wb),$e((Ei=$i.l)!=null),$e((Hi=Ei.ma)!=null),$i.xb!=0){if($i.ca=Hi.ba,$i.tb=Hi.tb,$e($i.ca!=null),!Js(Hi.Oa,Ei,Ba)){$i.a=2;break i}if(!jr($i,Ei.width)||Ei.da)break i;if((Ei.da||qn($i.ca.S))&&Cn(),11>$i.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),$i.ca.f.kb.F!=null&&Cn()),$i.Pb&&0<$i.s.ua&&$i.s.vb.X==null&&!Oi($i.s.vb,$i.s.Wa.Xa)){$i.a=1;break i}$i.xb=0}if(!Dr($i,$i.V,$i.Ba,$i.c,$i.i,Ei.o,oo))break i;Hi.Dc=$i.Ma,$i=1;break t}$e($i.a!=0),$i=0}$i=!$i}$i&&(bi=gi.a)}else bi=gi.a}else{if((gi=new sl)==null){Zi=1;break e}if(gi.Fa=Hi.na,gi.P=Hi.P,gi.qc=Hi.Sa,ga(gi,$i)){if((bi=Ss($i.width,$i.height,Zi.Oa,Zi.ba))==0){if(gi.Aa=0,Ei=Zi.Oa,$e((Hi=gi)!=null),Ei!=null){if(0<(nn=0>(nn=Ei.Md)?0:100<nn?255:255*nn/100)){for(an=gn=0;4>an;++an)12>(Dn=Hi.pb[an]).lc&&(Dn.ia=nn*vc[0>Dn.lc?0:Dn.lc]>>3),gn|=Dn.ia;gn&&(alert("todo:VP8InitRandom"),Hi.ia=1)}Hi.Ga=Ei.Id,100<Hi.Ga?Hi.Ga=100:0>Hi.Ga&&(Hi.Ga=0)}al(gi,$i)||(bi=gi.a)}}else bi=gi.a}bi==0&&Zi.Oa!=null&&Zi.Oa.fd&&(bi=Qs(Zi.ba))}Zi=bi}Ki=Zi!=0?null:11>Ki?Qi.f.RGBA.eb:Qi.f.kb.y}else Ki=null;return Ki};var yu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function Ze(di,fi){for(var yi="",pi=0;pi<4;pi++)yi+=String.fromCharCode(di[fi++]);return yi}function Qe(di,fi){return(di[fi+0]<<0|di[fi+1]<<8|di[fi+2]<<16)>>>0}function St(di,fi){return(di[fi+0]<<0|di[fi+1]<<8|di[fi+2]<<16|di[fi+3]<<24)>>>0}new Je;var ei=[0],ti=[0],ni=[],oi=new Je,ai=je,si=function(di,fi){var yi={},pi=0,xi=!1,Si=0,vi=0;if(yi.frames=[],!function(ji,Vi,Bi,Xi){for(var en=0;en<Xi;en++)if(ji[Vi+en]!=Bi.charCodeAt(en))return!0;return!1}(di,fi,"RIFF",4)){var Di,Ti;for(St(di,fi+=4),fi+=8;fi<di.length;){var Fi=Ze(di,fi),Ci=St(di,fi+=4);fi+=4;var Ni=Ci+(1&Ci);switch(Fi){case"VP8 ":case"VP8L":yi.frames[pi]===void 0&&(yi.frames[pi]={}),(ki=yi.frames[pi]).src_off=xi?vi:fi-8,ki.src_size=Si+Ci+8,pi++,xi&&(xi=!1,Si=0,vi=0);break;case"VP8X":(ki=yi.header={}).feature_flags=di[fi];var Ri=fi+4;ki.canvas_width=1+Qe(di,Ri),Ri+=3,ki.canvas_height=1+Qe(di,Ri),Ri+=3;break;case"ALPH":xi=!0,Si=Ni+8,vi=fi-8;break;case"ANIM":(ki=yi.header).bgcolor=St(di,fi),Ri=fi+4,ki.loop_count=(Di=di)[(Ti=Ri)+0]<<0|Di[Ti+1]<<8,Ri+=2;break;case"ANMF":var Yi,ki;(ki=yi.frames[pi]={}).offset_x=2*Qe(di,fi),fi+=3,ki.offset_y=2*Qe(di,fi),fi+=3,ki.width=1+Qe(di,fi),fi+=3,ki.height=1+Qe(di,fi),fi+=3,ki.duration=Qe(di,fi),fi+=3,Yi=di[fi++],ki.dispose=1&Yi,ki.blend=Yi>>1&1}Fi!="ANMF"&&(fi+=Ni)}return yi}}(ai,0);si.response=ai,si.rgbaoutput=!0,si.dataurl=!1;var ri=si.header?si.header:null,ii=si.frames?si.frames:null;if(ri){ri.loop_counter=ri.loop_count,ei=[ri.canvas_height],ti=[ri.canvas_width];for(var ui=0;ui<ii.length&&ii[ui].blend!=0;ui++);}var ci=ii[0],hi=oi.WebPDecodeRGBA(ai,ci.src_off,ci.src_size,ti,ei);ci.rgba=hi,ci.imgwidth=ti[0],ci.imgheight=ei[0];for(var mi=0;mi<ti[0]*ei[0]*4;mi++)ni[mi]=hi[mi];return this.width=ti,this.height=ei,this.data=ni,this}(function(je){var $e=function(){return typeof zlibSync=="function"},Ve=function(ei,ti,ni,oi){var ai=4,si=We;switch(oi){case je.image_compression.FAST:ai=1,si=Xe;break;case je.image_compression.MEDIUM:ai=6,si=Ke;break;case je.image_compression.SLOW:ai=9,si=Je}ei=ze(ei,ti,ni,si);var ri=zlibSync(ei,{level:ai});return je.__addimage__.arrayBufferToBinaryString(ri)},ze=function(ei,ti,ni,oi){for(var ai,si,ri,ii=ei.length/ti,ui=new Uint8Array(ei.length+ii),ci=Qe(),hi=0;hi<ii;hi+=1){if(ri=hi*ti,ai=ei.subarray(ri,ri+ti),oi)ui.set(oi(ai,ni,si),ri+hi);else{for(var mi,di=ci.length,fi=[];mi<di;mi+=1)fi[mi]=ci[mi](ai,ni,si);var yi=St(fi.concat());ui.set(fi[yi],ri+hi)}si=ai}return ui},qe=function(ei){var ti=Array.apply([],ei);return ti.unshift(0),ti},Xe=function(ei,ti){var ni,oi=[],ai=ei.length;oi[0]=1;for(var si=0;si<ai;si+=1)ni=ei[si-ti]||0,oi[si+1]=ei[si]-ni+256&255;return oi},We=function(ei,ti,ni){var oi,ai=[],si=ei.length;ai[0]=2;for(var ri=0;ri<si;ri+=1)oi=ni&&ni[ri]||0,ai[ri+1]=ei[ri]-oi+256&255;return ai},Ke=function(ei,ti,ni){var oi,ai,si=[],ri=ei.length;si[0]=3;for(var ii=0;ii<ri;ii+=1)oi=ei[ii-ti]||0,ai=ni&&ni[ii]||0,si[ii+1]=ei[ii]+256-(oi+ai>>>1)&255;return si},Je=function(ei,ti,ni){var oi,ai,si,ri,ii=[],ui=ei.length;ii[0]=4;for(var ci=0;ci<ui;ci+=1)oi=ei[ci-ti]||0,ai=ni&&ni[ci]||0,si=ni&&ni[ci-ti]||0,ri=Ze(oi,ai,si),ii[ci+1]=ei[ci]-ri+256&255;return ii},Ze=function(ei,ti,ni){if(ei===ti&&ti===ni)return ei;var oi=Math.abs(ti-ni),ai=Math.abs(ei-ni),si=Math.abs(ei+ti-ni-ni);return oi<=ai&&oi<=si?ei:ai<=si?ti:ni},Qe=function(){return[qe,Xe,We,Ke,Je]},St=function(ei){var ti=ei.map(function(ni){return ni.reduce(function(oi,ai){return oi+Math.abs(ai)},0)});return ti.indexOf(Math.min.apply(null,ti))};je.processPNG=function(ei,ti,ni,oi){var ai,si,ri,ii,ui,ci,hi,mi,di,fi,yi,pi,xi,Si,vi,Di=this.decode.FLATE_DECODE,Ti="";if(this.__addimage__.isArrayBuffer(ei)&&(ei=new Uint8Array(ei)),this.__addimage__.isArrayBufferView(ei)){if(ei=(ri=new Kt(ei)).imgData,si=ri.bits,ai=ri.colorSpace,ui=ri.colors,[4,6].indexOf(ri.colorType)!==-1){if(ri.bits===8){di=(mi=ri.pixelBitlength==32?new Uint32Array(ri.decodePixels().buffer):ri.pixelBitlength==16?new Uint16Array(ri.decodePixels().buffer):new Uint8Array(ri.decodePixels().buffer)).length,yi=new Uint8Array(di*ri.colors),fi=new Uint8Array(di);var Fi,Ci=ri.pixelBitlength-ri.bits;for(Si=0,vi=0;Si<di;Si++){for(xi=mi[Si],Fi=0;Fi<Ci;)yi[vi++]=xi>>>Fi&255,Fi+=ri.bits;fi[Si]=xi>>>Fi&255}}if(ri.bits===16){di=(mi=new Uint32Array(ri.decodePixels().buffer)).length,yi=new Uint8Array(di*(32/ri.pixelBitlength)*ri.colors),fi=new Uint8Array(di*(32/ri.pixelBitlength)),pi=ri.colors>1,Si=0,vi=0;for(var Ni=0;Si<di;)xi=mi[Si++],yi[vi++]=xi>>>0&255,pi&&(yi[vi++]=xi>>>16&255,xi=mi[Si++],yi[vi++]=xi>>>0&255),fi[Ni++]=xi>>>16&255;si=8}oi!==je.image_compression.NONE&&$e()?(ei=Ve(yi,ri.width*ri.colors,ri.colors,oi),hi=Ve(fi,ri.width,1,oi)):(ei=yi,hi=fi,Di=void 0)}if(ri.colorType===3&&(ai=this.color_spaces.INDEXED,ci=ri.palette,ri.transparency.indexed)){var Ri=ri.transparency.indexed,Yi=0;for(Si=0,di=Ri.length;Si<di;++Si)Yi+=Ri[Si];if((Yi/=255)===di-1&&Ri.indexOf(0)!==-1)ii=[Ri.indexOf(0)];else if(Yi!==di){for(mi=ri.decodePixels(),fi=new Uint8Array(mi.length),Si=0,di=mi.length;Si<di;Si++)fi[Si]=Ri[mi[Si]];hi=Ve(fi,ri.width,1)}}var ki=function(ji){var Vi;switch(ji){case je.image_compression.FAST:Vi=11;break;case je.image_compression.MEDIUM:Vi=13;break;case je.image_compression.SLOW:Vi=14;break;default:Vi=12}return Vi}(oi);return Di===this.decode.FLATE_DECODE&&(Ti="/Predictor "+ki+" "),Ti+="/Colors "+ui+" /BitsPerComponent "+si+" /Columns "+ri.width,(this.__addimage__.isArrayBuffer(ei)||this.__addimage__.isArrayBufferView(ei))&&(ei=this.__addimage__.arrayBufferToBinaryString(ei)),(hi&&this.__addimage__.isArrayBuffer(hi)||this.__addimage__.isArrayBufferView(hi))&&(hi=this.__addimage__.arrayBufferToBinaryString(hi)),{alias:ni,data:ei,index:ti,filter:Di,decodeParameters:Ti,transparency:ii,palette:ci,sMask:hi,predictor:ki,width:ri.width,height:ri.height,bitsPerComponent:si,colorSpace:ai}}}})(E.API),function(je){je.processGIF89A=function($e,Ve,ze,qe){var Xe=new Zt($e),We=Xe.width,Ke=Xe.height,Je=[];Xe.decodeAndBlitFrameRGBA(0,Je);var Ze={data:Je,width:We,height:Ke},Qe=new Qt(100).encode(Ze,100);return je.processJPEG.call(this,Qe,Ve,ze,qe)},je.processGIF87A=je.processGIF89A}(E.API),te.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var je=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(je);for(var $e=0;$e<je;$e++){var Ve=this.datav.getUint8(this.pos++,!0),ze=this.datav.getUint8(this.pos++,!0),qe=this.datav.getUint8(this.pos++,!0),Xe=this.datav.getUint8(this.pos++,!0);this.palette[$e]={red:qe,green:ze,blue:Ve,quad:Xe}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},te.prototype.parseBGR=function(){this.pos=this.offset;try{var je="bit"+this.bitPP,$e=this.width*this.height*4;this.data=new Uint8Array($e),this[je]()}catch(Ve){a.log("bit decode error:"+Ve)}},te.prototype.bit1=function(){var je,$e=Math.ceil(this.width/8),Ve=$e%4;for(je=this.height-1;je>=0;je--){for(var ze=this.bottom_up?je:this.height-1-je,qe=0;qe<$e;qe++)for(var Xe=this.datav.getUint8(this.pos++,!0),We=ze*this.width*4+8*qe*4,Ke=0;Ke<8&&8*qe+Ke<this.width;Ke++){var Je=this.palette[Xe>>7-Ke&1];this.data[We+4*Ke]=Je.blue,this.data[We+4*Ke+1]=Je.green,this.data[We+4*Ke+2]=Je.red,this.data[We+4*Ke+3]=255}Ve!==0&&(this.pos+=4-Ve)}},te.prototype.bit4=function(){for(var je=Math.ceil(this.width/2),$e=je%4,Ve=this.height-1;Ve>=0;Ve--){for(var ze=this.bottom_up?Ve:this.height-1-Ve,qe=0;qe<je;qe++){var Xe=this.datav.getUint8(this.pos++,!0),We=ze*this.width*4+2*qe*4,Ke=Xe>>4,Je=15&Xe,Ze=this.palette[Ke];if(this.data[We]=Ze.blue,this.data[We+1]=Ze.green,this.data[We+2]=Ze.red,this.data[We+3]=255,2*qe+1>=this.width)break;Ze=this.palette[Je],this.data[We+4]=Ze.blue,this.data[We+4+1]=Ze.green,this.data[We+4+2]=Ze.red,this.data[We+4+3]=255}$e!==0&&(this.pos+=4-$e)}},te.prototype.bit8=function(){for(var je=this.width%4,$e=this.height-1;$e>=0;$e--){for(var Ve=this.bottom_up?$e:this.height-1-$e,ze=0;ze<this.width;ze++){var qe=this.datav.getUint8(this.pos++,!0),Xe=Ve*this.width*4+4*ze;if(qe<this.palette.length){var We=this.palette[qe];this.data[Xe]=We.red,this.data[Xe+1]=We.green,this.data[Xe+2]=We.blue,this.data[Xe+3]=255}else this.data[Xe]=255,this.data[Xe+1]=255,this.data[Xe+2]=255,this.data[Xe+3]=255}je!==0&&(this.pos+=4-je)}},te.prototype.bit15=function(){for(var je=this.width%3,$e=parseInt("11111",2),Ve=this.height-1;Ve>=0;Ve--){for(var ze=this.bottom_up?Ve:this.height-1-Ve,qe=0;qe<this.width;qe++){var Xe=this.datav.getUint16(this.pos,!0);this.pos+=2;var We=(Xe&$e)/$e*255|0,Ke=(Xe>>5&$e)/$e*255|0,Je=(Xe>>10&$e)/$e*255|0,Ze=Xe>>15?255:0,Qe=ze*this.width*4+4*qe;this.data[Qe]=Je,this.data[Qe+1]=Ke,this.data[Qe+2]=We,this.data[Qe+3]=Ze}this.pos+=je}},te.prototype.bit16=function(){for(var je=this.width%3,$e=parseInt("11111",2),Ve=parseInt("111111",2),ze=this.height-1;ze>=0;ze--){for(var qe=this.bottom_up?ze:this.height-1-ze,Xe=0;Xe<this.width;Xe++){var We=this.datav.getUint16(this.pos,!0);this.pos+=2;var Ke=(We&$e)/$e*255|0,Je=(We>>5&Ve)/Ve*255|0,Ze=(We>>11)/$e*255|0,Qe=qe*this.width*4+4*Xe;this.data[Qe]=Ze,this.data[Qe+1]=Je,this.data[Qe+2]=Ke,this.data[Qe+3]=255}this.pos+=je}},te.prototype.bit24=function(){for(var je=this.height-1;je>=0;je--){for(var $e=this.bottom_up?je:this.height-1-je,Ve=0;Ve<this.width;Ve++){var ze=this.datav.getUint8(this.pos++,!0),qe=this.datav.getUint8(this.pos++,!0),Xe=this.datav.getUint8(this.pos++,!0),We=$e*this.width*4+4*Ve;this.data[We]=Xe,this.data[We+1]=qe,this.data[We+2]=ze,this.data[We+3]=255}this.pos+=this.width%4}},te.prototype.bit32=function(){for(var je=this.height-1;je>=0;je--)for(var $e=this.bottom_up?je:this.height-1-je,Ve=0;Ve<this.width;Ve++){var ze=this.datav.getUint8(this.pos++,!0),qe=this.datav.getUint8(this.pos++,!0),Xe=this.datav.getUint8(this.pos++,!0),We=this.datav.getUint8(this.pos++,!0),Ke=$e*this.width*4+4*Ve;this.data[Ke]=Xe,this.data[Ke+1]=qe,this.data[Ke+2]=ze,this.data[Ke+3]=We}},te.prototype.getData=function(){return this.data},function(je){je.processBMP=function($e,Ve,ze,qe){var Xe=new te($e,!1),We=Xe.width,Ke=Xe.height,Je={data:Xe.getData(),width:We,height:Ke},Ze=new Qt(100).encode(Je,100);return je.processJPEG.call(this,Ze,Ve,ze,qe)}}(E.API),ee.prototype.getData=function(){return this.data},function(je){je.processWEBP=function($e,Ve,ze,qe){var Xe=new ee($e),We=Xe.width,Ke=Xe.height,Je={data:Xe.getData(),width:We,height:Ke},Ze=new Qt(100).encode(Je,100);return je.processJPEG.call(this,Ze,Ve,ze,qe)}}(E.API),E.API.processRGBA=function(je,$e,Ve){for(var ze=je.data,qe=ze.length,Xe=new Uint8Array(qe/4*3),We=new Uint8Array(qe/4),Ke=0,Je=0,Ze=0;Ze<qe;Ze+=4){var Qe=ze[Ze],St=ze[Ze+1],ei=ze[Ze+2],ti=ze[Ze+3];Xe[Ke++]=Qe,Xe[Ke++]=St,Xe[Ke++]=ei,We[Je++]=ti}var ni=this.__addimage__.arrayBufferToBinaryString(Xe);return{alpha:this.__addimage__.arrayBufferToBinaryString(We),data:ni,index:$e,alias:Ve,colorSpace:"DeviceRGB",bitsPerComponent:8,width:je.width,height:je.height}},E.API.setLanguage=function(je){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[je]!==void 0&&(this.internal.languageSettings.languageCode=je,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Vt=E.API,Gt=Vt.getCharWidthsArray=function(je,$e){var Ve,ze,qe=($e=$e||{}).font||this.internal.getFont(),Xe=$e.fontSize||this.internal.getFontSize(),We=$e.charSpace||this.internal.getCharSpace(),Ke=$e.widths?$e.widths:qe.metadata.Unicode.widths,Je=Ke.fof?Ke.fof:1,Ze=$e.kerning?$e.kerning:qe.metadata.Unicode.kerning,Qe=Ze.fof?Ze.fof:1,St=$e.doKerning!==!1,ei=0,ti=je.length,ni=0,oi=Ke[0]||Je,ai=[];for(Ve=0;Ve<ti;Ve++)ze=je.charCodeAt(Ve),typeof qe.metadata.widthOfString=="function"?ai.push((qe.metadata.widthOfGlyph(qe.metadata.characterToGlyph(ze))+We*(1e3/Xe)||0)/1e3):(ei=St&&_typeof(Ze[ze])==="object"&&!isNaN(parseInt(Ze[ze][ni],10))?Ze[ze][ni]/Qe:0,ai.push((Ke[ze]||oi)/Je+ei)),ni=ze;return ai},Yt=Vt.getStringUnitWidth=function(je,$e){var Ve=($e=$e||{}).fontSize||this.internal.getFontSize(),ze=$e.font||this.internal.getFont(),qe=$e.charSpace||this.internal.getCharSpace();return Vt.processArabic&&(je=Vt.processArabic(je)),typeof ze.metadata.widthOfString=="function"?ze.metadata.widthOfString(je,Ve,qe)/Ve:Gt.apply(this,arguments).reduce(function(Xe,We){return Xe+We},0)},Jt=function(je,$e,Ve,ze){for(var qe=[],Xe=0,We=je.length,Ke=0;Xe!==We&&Ke+$e[Xe]<Ve;)Ke+=$e[Xe],Xe++;qe.push(je.slice(0,Xe));var Je=Xe;for(Ke=0;Xe!==We;)Ke+$e[Xe]>ze&&(qe.push(je.slice(Je,Xe)),Ke=0,Je=Xe),Ke+=$e[Xe],Xe++;return Je!==Xe&&qe.push(je.slice(Je,Xe)),qe},Xt=function(je,$e,Ve){Ve||(Ve={});var ze,qe,Xe,We,Ke,Je,Ze,Qe=[],St=[Qe],ei=Ve.textIndent||0,ti=0,ni=0,oi=je.split(" "),ai=Gt.apply(this,[" ",Ve])[0];if(Je=Ve.lineIndent===-1?oi[0].length+2:Ve.lineIndent||0){var si=Array(Je).join(" "),ri=[];oi.map(function(ui){(ui=ui.split(/\s*\n/)).length>1?ri=ri.concat(ui.map(function(ci,hi){return(hi&&ci.length?`
`:"")+ci})):ri.push(ui[0])}),oi=ri,Je=Yt.apply(this,[si,Ve])}for(Xe=0,We=oi.length;Xe<We;Xe++){var ii=0;if(ze=oi[Xe],Je&&ze[0]==`
`&&(ze=ze.substr(1),ii=1),ei+ti+(ni=(qe=Gt.apply(this,[ze,Ve])).reduce(function(ui,ci){return ui+ci},0))>$e||ii){if(ni>$e){for(Ke=Jt.apply(this,[ze,qe,$e-(ei+ti),$e]),Qe.push(Ke.shift()),Qe=[Ke.pop()];Ke.length;)St.push([Ke.shift()]);ni=qe.slice(ze.length-(Qe[0]?Qe[0].length:0)).reduce(function(ui,ci){return ui+ci},0)}else Qe=[ze];St.push(Qe),ei=ni+Je,ti=ai}else Qe.push(ze),ei+=ti+ni,ti=ai}return Ze=Je?function(ui,ci){return(ci?si:"")+ui.join(" ")}:function(ui){return ui.join(" ")},St.map(Ze)},Vt.splitTextToSize=function(je,$e,Ve){var ze,qe=(Ve=Ve||{}).fontSize||this.internal.getFontSize(),Xe=(function(Qe){if(Qe.widths&&Qe.kerning)return{widths:Qe.widths,kerning:Qe.kerning};var St=this.internal.getFont(Qe.fontName,Qe.fontStyle);return St.metadata.Unicode?{widths:St.metadata.Unicode.widths||{0:1},kerning:St.metadata.Unicode.kerning||{}}:{font:St.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,Ve);ze=Array.isArray(je)?je:String(je).split(/\r?\n/);var We=1*this.internal.scaleFactor*$e/qe;Xe.textIndent=Ve.textIndent?1*Ve.textIndent*this.internal.scaleFactor/qe:0,Xe.lineIndent=Ve.lineIndent;var Ke,Je,Ze=[];for(Ke=0,Je=ze.length;Ke<Je;Ke++)Ze=Ze.concat(Xt.apply(this,[ze[Ke],We,Xe]));return Ze},function(je){je.__fontmetrics__=je.__fontmetrics__||{};for(var $e="klmnopqrstuvwxyz",Ve={},ze={},qe=0;qe<$e.length;qe++)Ve[$e[qe]]="0123456789abcdef"[qe],ze["0123456789abcdef"[qe]]=$e[qe];var Xe=function(St){return"0x"+parseInt(St,10).toString(16)},We=je.__fontmetrics__.compress=function(St){var ei,ti,ni,oi,ai=["{"];for(var si in St){if(ei=St[si],isNaN(parseInt(si,10))?ti="'"+si+"'":(si=parseInt(si,10),ti=(ti=Xe(si).slice(2)).slice(0,-1)+ze[ti.slice(-1)]),typeof ei=="number")ei<0?(ni=Xe(ei).slice(3),oi="-"):(ni=Xe(ei).slice(2),oi=""),ni=oi+ni.slice(0,-1)+ze[ni.slice(-1)];else{if(_typeof(ei)!=="object")throw new Error("Don't know what to do with value type "+_typeof(ei)+".");ni=We(ei)}ai.push(ti+ni)}return ai.push("}"),ai.join("")},Ke=je.__fontmetrics__.uncompress=function(St){if(typeof St!="string")throw new Error("Invalid argument passed to uncompress.");for(var ei,ti,ni,oi,ai={},si=1,ri=ai,ii=[],ui="",ci="",hi=St.length-1,mi=1;mi<hi;mi+=1)(oi=St[mi])=="'"?ei?(ni=ei.join(""),ei=void 0):ei=[]:ei?ei.push(oi):oi=="{"?(ii.push([ri,ni]),ri={},ni=void 0):oi=="}"?((ti=ii.pop())[0][ti[1]]=ri,ni=void 0,ri=ti[0]):oi=="-"?si=-1:ni===void 0?Ve.hasOwnProperty(oi)?(ui+=Ve[oi],ni=parseInt(ui,16)*si,si=1,ui=""):ui+=oi:Ve.hasOwnProperty(oi)?(ci+=Ve[oi],ri[ni]=parseInt(ci,16)*si,si=1,ni=void 0,ci=""):ci+=oi;return ai},Je={codePages:["WinAnsiEncoding"],WinAnsiEncoding:Ke("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},Ze={Unicode:{Courier:Je,"Courier-Bold":Je,"Courier-BoldOblique":Je,"Courier-Oblique":Je,Helvetica:Je,"Helvetica-Bold":Je,"Helvetica-BoldOblique":Je,"Helvetica-Oblique":Je,"Times-Roman":Je,"Times-Bold":Je,"Times-BoldItalic":Je,"Times-Italic":Je}},Qe={Unicode:{"Courier-Oblique":Ke("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":Ke("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":Ke("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:Ke("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":Ke("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":Ke("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:Ke("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:Ke("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":Ke("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:Ke("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":Ke("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":Ke("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":Ke("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":Ke("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};je.events.push(["addFont",function(St){var ei=St.font,ti=Qe.Unicode[ei.postScriptName];ti&&(ei.metadata.Unicode={},ei.metadata.Unicode.widths=ti.widths,ei.metadata.Unicode.kerning=ti.kerning);var ni=Ze.Unicode[ei.postScriptName];ni&&(ei.metadata.Unicode.encoding=ni,ei.encoding=ni.codePages[0])}])}(E.API),function(je){var $e=function(Ve){for(var ze=Ve.length,qe=new Uint8Array(ze),Xe=0;Xe<ze;Xe++)qe[Xe]=Ve.charCodeAt(Xe);return qe};je.API.events.push(["addFont",function(Ve){var ze=void 0,qe=Ve.font,Xe=Ve.instance;if(!qe.isStandardFont){if(Xe===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+qe.postScriptName+"').");if(typeof(ze=Xe.existsFileInVFS(qe.postScriptName)===!1?Xe.loadFile(qe.postScriptName):Xe.getFileFromVFS(qe.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+qe.postScriptName+"').");(function(We,Ke){Ke=/^\x00\x01\x00\x00/.test(Ke)?$e(Ke):$e(u(Ke)),We.metadata=je.API.TTFFont.open(Ke),We.metadata.Unicode=We.metadata.Unicode||{encoding:{},kerning:{},widths:[]},We.metadata.glyIdsUsed=[0]})(qe,ze)}}])}(E),function(je){function $e(){return(n.canvg?Promise.resolve(n.canvg):__vitePreload(()=>import("./index.es-4CgVzDRu.js"),__vite__mapDeps([]))).catch(function(Ve){return Promise.reject(new Error("Could not load canvg: "+Ve))}).then(function(Ve){return Ve.default?Ve.default:Ve})}E.API.addSvgAsImage=function(Ve,ze,qe,Xe,We,Ke,Je,Ze){if(isNaN(ze)||isNaN(qe))throw a.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(Xe)||isNaN(We))throw a.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var Qe=document.createElement("canvas");Qe.width=Xe,Qe.height=We;var St=Qe.getContext("2d");St.fillStyle="#fff",St.fillRect(0,0,Qe.width,Qe.height);var ei={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},ti=this;return $e().then(function(ni){return ni.fromString(St,Ve,ei)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(ni){return ni.render(ei)}).then(function(){ti.addImage(Qe.toDataURL("image/jpeg",1),ze,qe,Xe,We,Je,Ze)})}}(),E.API.putTotalPages=function(je){var $e,Ve=0;parseInt(this.internal.getFont().id.substr(1),10)<15?($e=new RegExp(je,"g"),Ve=this.internal.getNumberOfPages()):($e=new RegExp(this.pdfEscape16(je,this.internal.getFont()),"g"),Ve=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var ze=1;ze<=this.internal.getNumberOfPages();ze++)for(var qe=0;qe<this.internal.pages[ze].length;qe++)this.internal.pages[ze][qe]=this.internal.pages[ze][qe].replace($e,Ve);return this},E.API.viewerPreferences=function(je,$e){var Ve;je=je||{},$e=$e||!1;var ze,qe,Xe,We={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},Ke=Object.keys(We),Je=[],Ze=0,Qe=0,St=0;function ei(ni,oi){var ai,si=!1;for(ai=0;ai<ni.length;ai+=1)ni[ai]===oi&&(si=!0);return si}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(We)),this.internal.viewerpreferences.isSubscribed=!1),Ve=this.internal.viewerpreferences.configuration,je==="reset"||$e===!0){var ti=Ke.length;for(St=0;St<ti;St+=1)Ve[Ke[St]].value=Ve[Ke[St]].defaultValue,Ve[Ke[St]].explicitSet=!1}if(_typeof(je)==="object"){for(qe in je)if(Xe=je[qe],ei(Ke,qe)&&Xe!==void 0){if(Ve[qe].type==="boolean"&&typeof Xe=="boolean")Ve[qe].value=Xe;else if(Ve[qe].type==="name"&&ei(Ve[qe].valueSet,Xe))Ve[qe].value=Xe;else if(Ve[qe].type==="integer"&&Number.isInteger(Xe))Ve[qe].value=Xe;else if(Ve[qe].type==="array"){for(Ze=0;Ze<Xe.length;Ze+=1)if(ze=!0,Xe[Ze].length===1&&typeof Xe[Ze][0]=="number")Je.push(String(Xe[Ze]-1));else if(Xe[Ze].length>1){for(Qe=0;Qe<Xe[Ze].length;Qe+=1)typeof Xe[Ze][Qe]!="number"&&(ze=!1);ze===!0&&Je.push([Xe[Ze][0]-1,Xe[Ze][1]-1].join(" "))}Ve[qe].value="["+Je.join(" ")+"]"}else Ve[qe].value=Ve[qe].defaultValue;Ve[qe].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var ni,oi=[];for(ni in Ve)Ve[ni].explicitSet===!0&&(Ve[ni].type==="name"?oi.push("/"+ni+" /"+Ve[ni].value):oi.push("/"+ni+" "+Ve[ni].value));oi.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+oi.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=Ve,this},function(je){var $e=function(){var ze='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',qe=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),Xe=unescape(encodeURIComponent(ze)),We=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),Ke=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),Je=unescape(encodeURIComponent("</x:xmpmeta>")),Ze=Xe.length+We.length+Ke.length+qe.length+Je.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+Ze+" >>"),this.internal.write("stream"),this.internal.write(qe+Xe+We+Ke+Je),this.internal.write("endstream"),this.internal.write("endobj")},Ve=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};je.addMetadata=function(ze,qe){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:ze,namespaceuri:qe||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",Ve),this.internal.events.subscribe("postPutResources",$e)),this}}(E.API),function(je){var $e=je.API,Ve=$e.pdfEscape16=function(Xe,We){for(var Ke,Je=We.metadata.Unicode.widths,Ze=["","0","00","000","0000"],Qe=[""],St=0,ei=Xe.length;St<ei;++St){if(Ke=We.metadata.characterToGlyph(Xe.charCodeAt(St)),We.metadata.glyIdsUsed.push(Ke),We.metadata.toUnicode[Ke]=Xe.charCodeAt(St),Je.indexOf(Ke)==-1&&(Je.push(Ke),Je.push([parseInt(We.metadata.widthOfGlyph(Ke),10)])),Ke=="0")return Qe.join("");Ke=Ke.toString(16),Qe.push(Ze[4-Ke.length],Ke)}return Qe.join("")},ze=function(Xe){var We,Ke,Je,Ze,Qe,St,ei;for(Qe=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,Je=[],St=0,ei=(Ke=Object.keys(Xe).sort(function(ti,ni){return ti-ni})).length;St<ei;St++)We=Ke[St],Je.length>=100&&(Qe+=`
`+Je.length+` beginbfchar
`+Je.join(`
`)+`
endbfchar`,Je=[]),Xe[We]!==void 0&&Xe[We]!==null&&typeof Xe[We].toString=="function"&&(Ze=("0000"+Xe[We].toString(16)).slice(-4),We=("0000"+(+We).toString(16)).slice(-4),Je.push("<"+We+"><"+Ze+">"));return Je.length&&(Qe+=`
`+Je.length+` beginbfchar
`+Je.join(`
`)+`
endbfchar
`),Qe+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};$e.events.push(["putFont",function(Xe){(function(We){var Ke=We.font,Je=We.out,Ze=We.newObject,Qe=We.putStream;if(Ke.metadata instanceof je.API.TTFFont&&Ke.encoding==="Identity-H"){for(var St=Ke.metadata.Unicode.widths,ei=Ke.metadata.subset.encode(Ke.metadata.glyIdsUsed,1),ti="",ni=0;ni<ei.length;ni++)ti+=String.fromCharCode(ei[ni]);var oi=Ze();Qe({data:ti,addLength1:!0,objectId:oi}),Je("endobj");var ai=Ze();Qe({data:ze(Ke.metadata.toUnicode),addLength1:!0,objectId:ai}),Je("endobj");var si=Ze();Je("<<"),Je("/Type /FontDescriptor"),Je("/FontName /"+F(Ke.fontName)),Je("/FontFile2 "+oi+" 0 R"),Je("/FontBBox "+je.API.PDFObject.convert(Ke.metadata.bbox)),Je("/Flags "+Ke.metadata.flags),Je("/StemV "+Ke.metadata.stemV),Je("/ItalicAngle "+Ke.metadata.italicAngle),Je("/Ascent "+Ke.metadata.ascender),Je("/Descent "+Ke.metadata.decender),Je("/CapHeight "+Ke.metadata.capHeight),Je(">>"),Je("endobj");var ri=Ze();Je("<<"),Je("/Type /Font"),Je("/BaseFont /"+F(Ke.fontName)),Je("/FontDescriptor "+si+" 0 R"),Je("/W "+je.API.PDFObject.convert(St)),Je("/CIDToGIDMap /Identity"),Je("/DW 1000"),Je("/Subtype /CIDFontType2"),Je("/CIDSystemInfo"),Je("<<"),Je("/Supplement 0"),Je("/Registry (Adobe)"),Je("/Ordering ("+Ke.encoding+")"),Je(">>"),Je(">>"),Je("endobj"),Ke.objectNumber=Ze(),Je("<<"),Je("/Type /Font"),Je("/Subtype /Type0"),Je("/ToUnicode "+ai+" 0 R"),Je("/BaseFont /"+F(Ke.fontName)),Je("/Encoding /"+Ke.encoding),Je("/DescendantFonts ["+ri+" 0 R]"),Je(">>"),Je("endobj"),Ke.isAlreadyPutted=!0}})(Xe)}]),$e.events.push(["putFont",function(Xe){(function(We){var Ke=We.font,Je=We.out,Ze=We.newObject,Qe=We.putStream;if(Ke.metadata instanceof je.API.TTFFont&&Ke.encoding==="WinAnsiEncoding"){for(var St=Ke.metadata.rawData,ei="",ti=0;ti<St.length;ti++)ei+=String.fromCharCode(St[ti]);var ni=Ze();Qe({data:ei,addLength1:!0,objectId:ni}),Je("endobj");var oi=Ze();Qe({data:ze(Ke.metadata.toUnicode),addLength1:!0,objectId:oi}),Je("endobj");var ai=Ze();Je("<<"),Je("/Descent "+Ke.metadata.decender),Je("/CapHeight "+Ke.metadata.capHeight),Je("/StemV "+Ke.metadata.stemV),Je("/Type /FontDescriptor"),Je("/FontFile2 "+ni+" 0 R"),Je("/Flags 96"),Je("/FontBBox "+je.API.PDFObject.convert(Ke.metadata.bbox)),Je("/FontName /"+F(Ke.fontName)),Je("/ItalicAngle "+Ke.metadata.italicAngle),Je("/Ascent "+Ke.metadata.ascender),Je(">>"),Je("endobj"),Ke.objectNumber=Ze();for(var si=0;si<Ke.metadata.hmtx.widths.length;si++)Ke.metadata.hmtx.widths[si]=parseInt(Ke.metadata.hmtx.widths[si]*(1e3/Ke.metadata.head.unitsPerEm));Je("<</Subtype/TrueType/Type/Font/ToUnicode "+oi+" 0 R/BaseFont/"+F(Ke.fontName)+"/FontDescriptor "+ai+" 0 R/Encoding/"+Ke.encoding+" /FirstChar 29 /LastChar 255 /Widths "+je.API.PDFObject.convert(Ke.metadata.hmtx.widths)+">>"),Je("endobj"),Ke.isAlreadyPutted=!0}})(Xe)}]);var qe=function(Xe){var We,Ke=Xe.text||"",Je=Xe.x,Ze=Xe.y,Qe=Xe.options||{},St=Xe.mutex||{},ei=St.pdfEscape,ti=St.activeFontKey,ni=St.fonts,oi=ti,ai="",si=0,ri="",ii=ni[oi].encoding;if(ni[oi].encoding!=="Identity-H")return{text:Ke,x:Je,y:Ze,options:Qe,mutex:St};for(ri=Ke,oi=ti,Array.isArray(Ke)&&(ri=Ke[0]),si=0;si<ri.length;si+=1)ni[oi].metadata.hasOwnProperty("cmap")&&(We=ni[oi].metadata.cmap.unicode.codeMap[ri[si].charCodeAt(0)]),We||ri[si].charCodeAt(0)<256&&ni[oi].metadata.hasOwnProperty("Unicode")?ai+=ri[si]:ai+="";var ui="";return parseInt(oi.slice(1))<14||ii==="WinAnsiEncoding"?ui=ei(ai,oi).split("").map(function(ci){return ci.charCodeAt(0).toString(16)}).join(""):ii==="Identity-H"&&(ui=Ve(ai,ni[oi])),St.isHex=!0,{text:ui,x:Je,y:Ze,options:Qe,mutex:St}};$e.events.push(["postProcessText",function(Xe){var We=Xe.text||"",Ke=[],Je={text:We,x:Xe.x,y:Xe.y,options:Xe.options,mutex:Xe.mutex};if(Array.isArray(We)){var Ze=0;for(Ze=0;Ze<We.length;Ze+=1)Array.isArray(We[Ze])&&We[Ze].length===3?Ke.push([qe(Object.assign({},Je,{text:We[Ze][0]})).text,We[Ze][1],We[Ze][2]]):Ke.push(qe(Object.assign({},Je,{text:We[Ze]})).text);Xe.text=Ke}else Xe.text=qe(Object.assign({},Je,{text:We})).text}])}(E),function(je){var $e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};je.existsFileInVFS=function(Ve){return $e.call(this),this.internal.vFS[Ve]!==void 0},je.addFileToVFS=function(Ve,ze){return $e.call(this),this.internal.vFS[Ve]=ze,this},je.getFileFromVFS=function(Ve){return $e.call(this),this.internal.vFS[Ve]!==void 0?this.internal.vFS[Ve]:null}}(E.API),function(je){je.__bidiEngine__=je.prototype.__bidiEngine__=function(ze){var qe,Xe,We,Ke,Je,Ze,Qe,St=$e,ei=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],ti=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],ni={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},oi={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},ai=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],si=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),ri=!1,ii=0;this.__bidiEngine__={};var ui=function(pi){var xi=pi.charCodeAt(),Si=xi>>8,vi=oi[Si];return vi!==void 0?St[256*vi+(255&xi)]:Si===252||Si===253?"AL":si.test(Si)?"L":Si===8?"R":"N"},ci=function(pi){for(var xi,Si=0;Si<pi.length;Si++){if((xi=ui(pi.charAt(Si)))==="L")return!1;if(xi==="R")return!0}return!1},hi=function(pi,xi,Si,vi){var Di,Ti,Fi,Ci,Ni=xi[vi];switch(Ni){case"L":case"R":ri=!1;break;case"N":case"AN":break;case"EN":ri&&(Ni="AN");break;case"AL":ri=!0,Ni="R";break;case"WS":Ni="N";break;case"CS":vi<1||vi+1>=xi.length||(Di=Si[vi-1])!=="EN"&&Di!=="AN"||(Ti=xi[vi+1])!=="EN"&&Ti!=="AN"?Ni="N":ri&&(Ti="AN"),Ni=Ti===Di?Ti:"N";break;case"ES":Ni=(Di=vi>0?Si[vi-1]:"B")==="EN"&&vi+1<xi.length&&xi[vi+1]==="EN"?"EN":"N";break;case"ET":if(vi>0&&Si[vi-1]==="EN"){Ni="EN";break}if(ri){Ni="N";break}for(Fi=vi+1,Ci=xi.length;Fi<Ci&&xi[Fi]==="ET";)Fi++;Ni=Fi<Ci&&xi[Fi]==="EN"?"EN":"N";break;case"NSM":if(We&&!Ke){for(Ci=xi.length,Fi=vi+1;Fi<Ci&&xi[Fi]==="NSM";)Fi++;if(Fi<Ci){var Ri=pi[vi],Yi=Ri>=1425&&Ri<=2303||Ri===64286;if(Di=xi[Fi],Yi&&(Di==="R"||Di==="AL")){Ni="R";break}}}Ni=vi<1||(Di=xi[vi-1])==="B"?"N":Si[vi-1];break;case"B":ri=!1,qe=!0,Ni=ii;break;case"S":Xe=!0,Ni="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":ri=!1;break;case"BN":Ni="N"}return Ni},mi=function(pi,xi,Si){var vi=pi.split("");return Si&&di(vi,Si,{hiLevel:ii}),vi.reverse(),xi&&xi.reverse(),vi.join("")},di=function(pi,xi,Si){var vi,Di,Ti,Fi,Ci,Ni=-1,Ri=pi.length,Yi=0,ki=[],ji=ii?ti:ei,Vi=[];for(ri=!1,qe=!1,Xe=!1,Di=0;Di<Ri;Di++)Vi[Di]=ui(pi[Di]);for(Ti=0;Ti<Ri;Ti++){if(Ci=Yi,ki[Ti]=hi(pi,Vi,ki,Ti),vi=240&(Yi=ji[Ci][ni[ki[Ti]]]),Yi&=15,xi[Ti]=Fi=ji[Yi][5],vi>0)if(vi===16){for(Di=Ni;Di<Ti;Di++)xi[Di]=1;Ni=-1}else Ni=-1;if(ji[Yi][6])Ni===-1&&(Ni=Ti);else if(Ni>-1){for(Di=Ni;Di<Ti;Di++)xi[Di]=Fi;Ni=-1}Vi[Ti]==="B"&&(xi[Ti]=0),Si.hiLevel|=Fi}Xe&&function(Bi,Xi,en){for(var tn=0;tn<en;tn++)if(Bi[tn]==="S"){Xi[tn]=ii;for(var Ji=tn-1;Ji>=0&&Bi[Ji]==="WS";Ji--)Xi[Ji]=ii}}(Vi,xi,Ri)},fi=function(pi,xi,Si,vi,Di){if(!(Di.hiLevel<pi)){if(pi===1&&ii===1&&!qe)return xi.reverse(),void(Si&&Si.reverse());for(var Ti,Fi,Ci,Ni,Ri=xi.length,Yi=0;Yi<Ri;){if(vi[Yi]>=pi){for(Ci=Yi+1;Ci<Ri&&vi[Ci]>=pi;)Ci++;for(Ni=Yi,Fi=Ci-1;Ni<Fi;Ni++,Fi--)Ti=xi[Ni],xi[Ni]=xi[Fi],xi[Fi]=Ti,Si&&(Ti=Si[Ni],Si[Ni]=Si[Fi],Si[Fi]=Ti);Yi=Ci}Yi++}}},yi=function(pi,xi,Si){var vi=pi.split(""),Di={hiLevel:ii};return Si||(Si=[]),di(vi,Si,Di),function(Ti,Fi,Ci){if(Ci.hiLevel!==0&&Qe)for(var Ni,Ri=0;Ri<Ti.length;Ri++)Fi[Ri]===1&&(Ni=ai.indexOf(Ti[Ri]))>=0&&(Ti[Ri]=ai[Ni+1])}(vi,Si,Di),fi(2,vi,xi,Si,Di),fi(1,vi,xi,Si,Di),vi.join("")};return this.__bidiEngine__.doBidiReorder=function(pi,xi,Si){if(function(Di,Ti){if(Ti)for(var Fi=0;Fi<Di.length;Fi++)Ti[Fi]=Fi;Ke===void 0&&(Ke=ci(Di)),Ze===void 0&&(Ze=ci(Di))}(pi,xi),We||!Je||Ze)if(We&&Je&&Ke^Ze)ii=Ke?1:0,pi=mi(pi,xi,Si);else if(!We&&Je&&Ze)ii=Ke?1:0,pi=yi(pi,xi,Si),pi=mi(pi,xi);else if(!We||Ke||Je||Ze){if(We&&!Je&&Ke^Ze)pi=mi(pi,xi),Ke?(ii=0,pi=yi(pi,xi,Si)):(ii=1,pi=yi(pi,xi,Si),pi=mi(pi,xi));else if(We&&Ke&&!Je&&Ze)ii=1,pi=yi(pi,xi,Si),pi=mi(pi,xi);else if(!We&&!Je&&Ke^Ze){var vi=Qe;Ke?(ii=1,pi=yi(pi,xi,Si),ii=0,Qe=!1,pi=yi(pi,xi,Si),Qe=vi):(ii=0,pi=yi(pi,xi,Si),pi=mi(pi,xi),ii=1,Qe=!1,pi=yi(pi,xi,Si),Qe=vi,pi=mi(pi,xi))}}else ii=0,pi=yi(pi,xi,Si);else ii=Ke?1:0,pi=yi(pi,xi,Si);return pi},this.__bidiEngine__.setOptions=function(pi){pi&&(We=pi.isInputVisual,Je=pi.isOutputVisual,Ke=pi.isInputRtl,Ze=pi.isOutputRtl,Qe=pi.isSymmetricSwapping)},this.__bidiEngine__.setOptions(ze),this.__bidiEngine__};var $e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],Ve=new je.__bidiEngine__({isInputVisual:!0});je.API.events.push(["postProcessText",function(ze){var qe=ze.text,Xe=(ze.x,ze.y,ze.options||{}),We=(ze.mutex,Xe.lang,[]);if(Xe.isInputVisual=typeof Xe.isInputVisual!="boolean"||Xe.isInputVisual,Ve.setOptions(Xe),Object.prototype.toString.call(qe)==="[object Array]"){var Ke=0;for(We=[],Ke=0;Ke<qe.length;Ke+=1)Object.prototype.toString.call(qe[Ke])==="[object Array]"?We.push([Ve.doBidiReorder(qe[Ke][0]),qe[Ke][1],qe[Ke][2]]):We.push([Ve.doBidiReorder(qe[Ke])]);ze.text=We}else ze.text=Ve.doBidiReorder(qe);Ve.setOptions({isInputVisual:!0})}])}(E),E.API.TTFFont=function(){function je($e){var Ve;if(this.rawData=$e,Ve=this.contents=new ne($e),this.contents.pos=4,Ve.readString(4)==="ttcf")throw new Error("TTCF not supported.");Ve.pos=0,this.parse(),this.subset=new Le(this),this.registerTTF()}return je.open=function($e){return new je($e)},je.prototype.parse=function(){return this.directory=new ie(this.contents),this.head=new se(this),this.name=new pe(this),this.cmap=new ue(this),this.toUnicode={},this.hhea=new he(this),this.maxp=new ge(this),this.hmtx=new me(this),this.post=new fe(this),this.os2=new le(this),this.loca=new Ne(this),this.glyf=new be(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},je.prototype.registerTTF=function(){var $e,Ve,ze,qe,Xe;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var We,Ke,Je,Ze;for(Ze=[],We=0,Ke=(Je=this.bbox).length;We<Ke;We++)$e=Je[We],Ze.push(Math.round($e*this.scaleFactor));return Ze}).call(this),this.stemV=0,this.post.exists?(ze=255&(qe=this.post.italic_angle),32768&(Ve=qe>>16)&&(Ve=-(1+(65535^Ve))),this.italicAngle=+(Ve+"."+ze)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(Xe=this.familyClass)===1||Xe===2||Xe===3||Xe===4||Xe===5||Xe===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},je.prototype.characterToGlyph=function($e){var Ve;return((Ve=this.cmap.unicode)!=null?Ve.codeMap[$e]:void 0)||0},je.prototype.widthOfGlyph=function($e){var Ve;return Ve=1e3/this.head.unitsPerEm,this.hmtx.forGlyph($e).advance*Ve},je.prototype.widthOfString=function($e,Ve,ze){var qe,Xe,We,Ke;for(We=0,Xe=0,Ke=($e=""+$e).length;0<=Ke?Xe<Ke:Xe>Ke;Xe=0<=Ke?++Xe:--Xe)qe=$e.charCodeAt(Xe),We+=this.widthOfGlyph(this.characterToGlyph(qe))+ze*(1e3/Ve)||0;return We*(Ve/1e3)},je.prototype.lineHeight=function($e,Ve){var ze;return Ve==null&&(Ve=!1),ze=Ve?this.lineGap:0,(this.ascender+ze-this.decender)/1e3*$e},je}();var re,ne=function(){function je($e){this.data=$e??[],this.pos=0,this.length=this.data.length}return je.prototype.readByte=function(){return this.data[this.pos++]},je.prototype.writeByte=function($e){return this.data[this.pos++]=$e},je.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},je.prototype.writeUInt32=function($e){return this.writeByte($e>>>24&255),this.writeByte($e>>16&255),this.writeByte($e>>8&255),this.writeByte(255&$e)},je.prototype.readInt32=function(){var $e;return($e=this.readUInt32())>=2147483648?$e-4294967296:$e},je.prototype.writeInt32=function($e){return $e<0&&($e+=4294967296),this.writeUInt32($e)},je.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},je.prototype.writeUInt16=function($e){return this.writeByte($e>>8&255),this.writeByte(255&$e)},je.prototype.readInt16=function(){var $e;return($e=this.readUInt16())>=32768?$e-65536:$e},je.prototype.writeInt16=function($e){return $e<0&&($e+=65536),this.writeUInt16($e)},je.prototype.readString=function($e){var Ve,ze;for(ze=[],Ve=0;0<=$e?Ve<$e:Ve>$e;Ve=0<=$e?++Ve:--Ve)ze[Ve]=String.fromCharCode(this.readByte());return ze.join("")},je.prototype.writeString=function($e){var Ve,ze,qe;for(qe=[],Ve=0,ze=$e.length;0<=ze?Ve<ze:Ve>ze;Ve=0<=ze?++Ve:--Ve)qe.push(this.writeByte($e.charCodeAt(Ve)));return qe},je.prototype.readShort=function(){return this.readInt16()},je.prototype.writeShort=function($e){return this.writeInt16($e)},je.prototype.readLongLong=function(){var $e,Ve,ze,qe,Xe,We,Ke,Je;return $e=this.readByte(),Ve=this.readByte(),ze=this.readByte(),qe=this.readByte(),Xe=this.readByte(),We=this.readByte(),Ke=this.readByte(),Je=this.readByte(),128&$e?-1*(72057594037927940*(255^$e)+281474976710656*(255^Ve)+1099511627776*(255^ze)+4294967296*(255^qe)+16777216*(255^Xe)+65536*(255^We)+256*(255^Ke)+(255^Je)+1):72057594037927940*$e+281474976710656*Ve+1099511627776*ze+4294967296*qe+16777216*Xe+65536*We+256*Ke+Je},je.prototype.writeLongLong=function($e){var Ve,ze;return Ve=Math.floor($e/4294967296),ze=4294967295&$e,this.writeByte(Ve>>24&255),this.writeByte(Ve>>16&255),this.writeByte(Ve>>8&255),this.writeByte(255&Ve),this.writeByte(ze>>24&255),this.writeByte(ze>>16&255),this.writeByte(ze>>8&255),this.writeByte(255&ze)},je.prototype.readInt=function(){return this.readInt32()},je.prototype.writeInt=function($e){return this.writeInt32($e)},je.prototype.read=function($e){var Ve,ze;for(Ve=[],ze=0;0<=$e?ze<$e:ze>$e;ze=0<=$e?++ze:--ze)Ve.push(this.readByte());return Ve},je.prototype.write=function($e){var Ve,ze,qe,Xe;for(Xe=[],ze=0,qe=$e.length;ze<qe;ze++)Ve=$e[ze],Xe.push(this.writeByte(Ve));return Xe},je}(),ie=function(){var je;function $e(Ve){var ze,qe,Xe;for(this.scalarType=Ve.readInt(),this.tableCount=Ve.readShort(),this.searchRange=Ve.readShort(),this.entrySelector=Ve.readShort(),this.rangeShift=Ve.readShort(),this.tables={},qe=0,Xe=this.tableCount;0<=Xe?qe<Xe:qe>Xe;qe=0<=Xe?++qe:--qe)ze={tag:Ve.readString(4),checksum:Ve.readInt(),offset:Ve.readInt(),length:Ve.readInt()},this.tables[ze.tag]=ze}return $e.prototype.encode=function(Ve){var ze,qe,Xe,We,Ke,Je,Ze,Qe,St,ei,ti,ni,oi;for(oi in ti=Object.keys(Ve).length,Je=Math.log(2),St=16*Math.floor(Math.log(ti)/Je),We=Math.floor(St/Je),Qe=16*ti-St,(qe=new ne).writeInt(this.scalarType),qe.writeShort(ti),qe.writeShort(St),qe.writeShort(We),qe.writeShort(Qe),Xe=16*ti,Ze=qe.pos+Xe,Ke=null,ni=[],Ve)for(ei=Ve[oi],qe.writeString(oi),qe.writeInt(je(ei)),qe.writeInt(Ze),qe.writeInt(ei.length),ni=ni.concat(ei),oi==="head"&&(Ke=Ze),Ze+=ei.length;Ze%4;)ni.push(0),Ze++;return qe.write(ni),ze=2981146554-je(qe.data),qe.pos=Ke+8,qe.writeUInt32(ze),qe.data},je=function(Ve){var ze,qe,Xe,We;for(Ve=ve.call(Ve);Ve.length%4;)Ve.push(0);for(Xe=new ne(Ve),qe=0,ze=0,We=Ve.length;ze<We;ze=ze+=4)qe+=Xe.readUInt32();return 4294967295&qe},$e}(),ae={}.hasOwnProperty,oe=function(je,$e){for(var Ve in $e)ae.call($e,Ve)&&(je[Ve]=$e[Ve]);function ze(){this.constructor=je}return ze.prototype=$e.prototype,je.prototype=new ze,je.__super__=$e.prototype,je};re=function(){function je($e){var Ve;this.file=$e,Ve=this.file.directory.tables[this.tag],this.exists=!!Ve,Ve&&(this.offset=Ve.offset,this.length=Ve.length,this.parse(this.file.contents))}return je.prototype.parse=function(){},je.prototype.encode=function(){},je.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},je}();var se=function(je){function $e(){return $e.__super__.constructor.apply(this,arguments)}return oe($e,re),$e.prototype.tag="head",$e.prototype.parse=function(Ve){return Ve.pos=this.offset,this.version=Ve.readInt(),this.revision=Ve.readInt(),this.checkSumAdjustment=Ve.readInt(),this.magicNumber=Ve.readInt(),this.flags=Ve.readShort(),this.unitsPerEm=Ve.readShort(),this.created=Ve.readLongLong(),this.modified=Ve.readLongLong(),this.xMin=Ve.readShort(),this.yMin=Ve.readShort(),this.xMax=Ve.readShort(),this.yMax=Ve.readShort(),this.macStyle=Ve.readShort(),this.lowestRecPPEM=Ve.readShort(),this.fontDirectionHint=Ve.readShort(),this.indexToLocFormat=Ve.readShort(),this.glyphDataFormat=Ve.readShort()},$e.prototype.encode=function(Ve){var ze;return(ze=new ne).writeInt(this.version),ze.writeInt(this.revision),ze.writeInt(this.checkSumAdjustment),ze.writeInt(this.magicNumber),ze.writeShort(this.flags),ze.writeShort(this.unitsPerEm),ze.writeLongLong(this.created),ze.writeLongLong(this.modified),ze.writeShort(this.xMin),ze.writeShort(this.yMin),ze.writeShort(this.xMax),ze.writeShort(this.yMax),ze.writeShort(this.macStyle),ze.writeShort(this.lowestRecPPEM),ze.writeShort(this.fontDirectionHint),ze.writeShort(Ve),ze.writeShort(this.glyphDataFormat),ze.data},$e}(),ce=function(){function je($e,Ve){var ze,qe,Xe,We,Ke,Je,Ze,Qe,St,ei,ti,ni,oi,ai,si,ri,ii;switch(this.platformID=$e.readUInt16(),this.encodingID=$e.readShort(),this.offset=Ve+$e.readInt(),St=$e.pos,$e.pos=this.offset,this.format=$e.readUInt16(),this.length=$e.readUInt16(),this.language=$e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(Je=0;Je<256;++Je)this.codeMap[Je]=$e.readByte();break;case 4:for(ti=$e.readUInt16(),ei=ti/2,$e.pos+=6,Xe=function(){var ui,ci;for(ci=[],Je=ui=0;0<=ei?ui<ei:ui>ei;Je=0<=ei?++ui:--ui)ci.push($e.readUInt16());return ci}(),$e.pos+=2,oi=function(){var ui,ci;for(ci=[],Je=ui=0;0<=ei?ui<ei:ui>ei;Je=0<=ei?++ui:--ui)ci.push($e.readUInt16());return ci}(),Ze=function(){var ui,ci;for(ci=[],Je=ui=0;0<=ei?ui<ei:ui>ei;Je=0<=ei?++ui:--ui)ci.push($e.readUInt16());return ci}(),Qe=function(){var ui,ci;for(ci=[],Je=ui=0;0<=ei?ui<ei:ui>ei;Je=0<=ei?++ui:--ui)ci.push($e.readUInt16());return ci}(),qe=(this.length-$e.pos+this.offset)/2,Ke=function(){var ui,ci;for(ci=[],Je=ui=0;0<=qe?ui<qe:ui>qe;Je=0<=qe?++ui:--ui)ci.push($e.readUInt16());return ci}(),Je=si=0,ii=Xe.length;si<ii;Je=++si)for(ai=Xe[Je],ze=ri=ni=oi[Je];ni<=ai?ri<=ai:ri>=ai;ze=ni<=ai?++ri:--ri)Qe[Je]===0?We=ze+Ze[Je]:(We=Ke[Qe[Je]/2+(ze-ni)-(ei-Je)]||0)!==0&&(We+=Ze[Je]),this.codeMap[ze]=65535&We}$e.pos=St}return je.encode=function($e,Ve){var ze,qe,Xe,We,Ke,Je,Ze,Qe,St,ei,ti,ni,oi,ai,si,ri,ii,ui,ci,hi,mi,di,fi,yi,pi,xi,Si,vi,Di,Ti,Fi,Ci,Ni,Ri,Yi,ki,ji,Vi,Bi,Xi,en,tn,Ji,Li,wi,_i;switch(vi=new ne,We=Object.keys($e).sort(function(Ai,Oi){return Ai-Oi}),Ve){case"macroman":for(oi=0,ai=function(){var Ai=[];for(ni=0;ni<256;++ni)Ai.push(0);return Ai}(),ri={0:0},Xe={},Di=0,Ni=We.length;Di<Ni;Di++)ri[Ji=$e[qe=We[Di]]]==null&&(ri[Ji]=++oi),Xe[qe]={old:$e[qe],new:ri[$e[qe]]},ai[qe]=ri[$e[qe]];return vi.writeUInt16(1),vi.writeUInt16(0),vi.writeUInt32(12),vi.writeUInt16(0),vi.writeUInt16(262),vi.writeUInt16(0),vi.write(ai),{charMap:Xe,subtable:vi.data,maxGlyphID:oi+1};case"unicode":for(xi=[],St=[],ii=0,ri={},ze={},si=Ze=null,Ti=0,Ri=We.length;Ti<Ri;Ti++)ri[ci=$e[qe=We[Ti]]]==null&&(ri[ci]=++ii),ze[qe]={old:ci,new:ri[ci]},Ke=ri[ci]-qe,si!=null&&Ke===Ze||(si&&St.push(si),xi.push(qe),Ze=Ke),si=qe;for(si&&St.push(si),St.push(65535),xi.push(65535),yi=2*(fi=xi.length),di=2*Math.pow(Math.log(fi)/Math.LN2,2),ei=Math.log(di/2)/Math.LN2,mi=2*fi-di,Je=[],hi=[],ti=[],ni=Fi=0,Yi=xi.length;Fi<Yi;ni=++Fi){if(pi=xi[ni],Qe=St[ni],pi===65535){Je.push(0),hi.push(0);break}if(pi-(Si=ze[pi].new)>=32768)for(Je.push(0),hi.push(2*(ti.length+fi-ni)),qe=Ci=pi;pi<=Qe?Ci<=Qe:Ci>=Qe;qe=pi<=Qe?++Ci:--Ci)ti.push(ze[qe].new);else Je.push(Si-pi),hi.push(0)}for(vi.writeUInt16(3),vi.writeUInt16(1),vi.writeUInt32(12),vi.writeUInt16(4),vi.writeUInt16(16+8*fi+2*ti.length),vi.writeUInt16(0),vi.writeUInt16(yi),vi.writeUInt16(di),vi.writeUInt16(ei),vi.writeUInt16(mi),en=0,ki=St.length;en<ki;en++)qe=St[en],vi.writeUInt16(qe);for(vi.writeUInt16(0),tn=0,ji=xi.length;tn<ji;tn++)qe=xi[tn],vi.writeUInt16(qe);for(Li=0,Vi=Je.length;Li<Vi;Li++)Ke=Je[Li],vi.writeUInt16(Ke);for(wi=0,Bi=hi.length;wi<Bi;wi++)ui=hi[wi],vi.writeUInt16(ui);for(_i=0,Xi=ti.length;_i<Xi;_i++)oi=ti[_i],vi.writeUInt16(oi);return{charMap:ze,subtable:vi.data,maxGlyphID:ii+1}}},je}(),ue=function(je){function $e(){return $e.__super__.constructor.apply(this,arguments)}return oe($e,re),$e.prototype.tag="cmap",$e.prototype.parse=function(Ve){var ze,qe,Xe;for(Ve.pos=this.offset,this.version=Ve.readUInt16(),Xe=Ve.readUInt16(),this.tables=[],this.unicode=null,qe=0;0<=Xe?qe<Xe:qe>Xe;qe=0<=Xe?++qe:--qe)ze=new ce(Ve,this.offset),this.tables.push(ze),ze.isUnicode&&this.unicode==null&&(this.unicode=ze);return!0},$e.encode=function(Ve,ze){var qe,Xe;return ze==null&&(ze="macroman"),qe=ce.encode(Ve,ze),(Xe=new ne).writeUInt16(0),Xe.writeUInt16(1),qe.table=Xe.data.concat(qe.subtable),qe},$e}(),he=function(je){function $e(){return $e.__super__.constructor.apply(this,arguments)}return oe($e,re),$e.prototype.tag="hhea",$e.prototype.parse=function(Ve){return Ve.pos=this.offset,this.version=Ve.readInt(),this.ascender=Ve.readShort(),this.decender=Ve.readShort(),this.lineGap=Ve.readShort(),this.advanceWidthMax=Ve.readShort(),this.minLeftSideBearing=Ve.readShort(),this.minRightSideBearing=Ve.readShort(),this.xMaxExtent=Ve.readShort(),this.caretSlopeRise=Ve.readShort(),this.caretSlopeRun=Ve.readShort(),this.caretOffset=Ve.readShort(),Ve.pos+=8,this.metricDataFormat=Ve.readShort(),this.numberOfMetrics=Ve.readUInt16()},$e}(),le=function(je){function $e(){return $e.__super__.constructor.apply(this,arguments)}return oe($e,re),$e.prototype.tag="OS/2",$e.prototype.parse=function(Ve){if(Ve.pos=this.offset,this.version=Ve.readUInt16(),this.averageCharWidth=Ve.readShort(),this.weightClass=Ve.readUInt16(),this.widthClass=Ve.readUInt16(),this.type=Ve.readShort(),this.ySubscriptXSize=Ve.readShort(),this.ySubscriptYSize=Ve.readShort(),this.ySubscriptXOffset=Ve.readShort(),this.ySubscriptYOffset=Ve.readShort(),this.ySuperscriptXSize=Ve.readShort(),this.ySuperscriptYSize=Ve.readShort(),this.ySuperscriptXOffset=Ve.readShort(),this.ySuperscriptYOffset=Ve.readShort(),this.yStrikeoutSize=Ve.readShort(),this.yStrikeoutPosition=Ve.readShort(),this.familyClass=Ve.readShort(),this.panose=function(){var ze,qe;for(qe=[],ze=0;ze<10;++ze)qe.push(Ve.readByte());return qe}(),this.charRange=function(){var ze,qe;for(qe=[],ze=0;ze<4;++ze)qe.push(Ve.readInt());return qe}(),this.vendorID=Ve.readString(4),this.selection=Ve.readShort(),this.firstCharIndex=Ve.readShort(),this.lastCharIndex=Ve.readShort(),this.version>0&&(this.ascent=Ve.readShort(),this.descent=Ve.readShort(),this.lineGap=Ve.readShort(),this.winAscent=Ve.readShort(),this.winDescent=Ve.readShort(),this.codePageRange=function(){var ze,qe;for(qe=[],ze=0;ze<2;ze=++ze)qe.push(Ve.readInt());return qe}(),this.version>1))return this.xHeight=Ve.readShort(),this.capHeight=Ve.readShort(),this.defaultChar=Ve.readShort(),this.breakChar=Ve.readShort(),this.maxContext=Ve.readShort()},$e}(),fe=function(je){function $e(){return $e.__super__.constructor.apply(this,arguments)}return oe($e,re),$e.prototype.tag="post",$e.prototype.parse=function(Ve){var ze,qe,Xe;switch(Ve.pos=this.offset,this.format=Ve.readInt(),this.italicAngle=Ve.readInt(),this.underlinePosition=Ve.readShort(),this.underlineThickness=Ve.readShort(),this.isFixedPitch=Ve.readInt(),this.minMemType42=Ve.readInt(),this.maxMemType42=Ve.readInt(),this.minMemType1=Ve.readInt(),this.maxMemType1=Ve.readInt(),this.format){case 65536:break;case 131072:var We;for(qe=Ve.readUInt16(),this.glyphNameIndex=[],We=0;0<=qe?We<qe:We>qe;We=0<=qe?++We:--We)this.glyphNameIndex.push(Ve.readUInt16());for(this.names=[],Xe=[];Ve.pos<this.offset+this.length;)ze=Ve.readByte(),Xe.push(this.names.push(Ve.readString(ze)));return Xe;case 151552:return qe=Ve.readUInt16(),this.offsets=Ve.read(qe);case 196608:break;case 262144:return this.map=(function(){var Ke,Je,Ze;for(Ze=[],We=Ke=0,Je=this.file.maxp.numGlyphs;0<=Je?Ke<Je:Ke>Je;We=0<=Je?++Ke:--Ke)Ze.push(Ve.readUInt32());return Ze}).call(this)}},$e}(),de=function(je,$e){this.raw=je,this.length=je.length,this.platformID=$e.platformID,this.encodingID=$e.encodingID,this.languageID=$e.languageID},pe=function(je){function $e(){return $e.__super__.constructor.apply(this,arguments)}return oe($e,re),$e.prototype.tag="name",$e.prototype.parse=function(Ve){var ze,qe,Xe,We,Ke,Je,Ze,Qe,St,ei,ti;for(Ve.pos=this.offset,Ve.readShort(),ze=Ve.readShort(),Je=Ve.readShort(),qe=[],We=0;0<=ze?We<ze:We>ze;We=0<=ze?++We:--We)qe.push({platformID:Ve.readShort(),encodingID:Ve.readShort(),languageID:Ve.readShort(),nameID:Ve.readShort(),length:Ve.readShort(),offset:this.offset+Je+Ve.readShort()});for(Ze={},We=St=0,ei=qe.length;St<ei;We=++St)Xe=qe[We],Ve.pos=Xe.offset,Qe=Ve.readString(Xe.length),Ke=new de(Qe,Xe),Ze[ti=Xe.nameID]==null&&(Ze[ti]=[]),Ze[Xe.nameID].push(Ke);this.strings=Ze,this.copyright=Ze[0],this.fontFamily=Ze[1],this.fontSubfamily=Ze[2],this.uniqueSubfamily=Ze[3],this.fontName=Ze[4],this.version=Ze[5];try{this.postscriptName=Ze[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=Ze[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=Ze[7],this.manufacturer=Ze[8],this.designer=Ze[9],this.description=Ze[10],this.vendorUrl=Ze[11],this.designerUrl=Ze[12],this.license=Ze[13],this.licenseUrl=Ze[14],this.preferredFamily=Ze[15],this.preferredSubfamily=Ze[17],this.compatibleFull=Ze[18],this.sampleText=Ze[19]},$e}(),ge=function(je){function $e(){return $e.__super__.constructor.apply(this,arguments)}return oe($e,re),$e.prototype.tag="maxp",$e.prototype.parse=function(Ve){return Ve.pos=this.offset,this.version=Ve.readInt(),this.numGlyphs=Ve.readUInt16(),this.maxPoints=Ve.readUInt16(),this.maxContours=Ve.readUInt16(),this.maxCompositePoints=Ve.readUInt16(),this.maxComponentContours=Ve.readUInt16(),this.maxZones=Ve.readUInt16(),this.maxTwilightPoints=Ve.readUInt16(),this.maxStorage=Ve.readUInt16(),this.maxFunctionDefs=Ve.readUInt16(),this.maxInstructionDefs=Ve.readUInt16(),this.maxStackElements=Ve.readUInt16(),this.maxSizeOfInstructions=Ve.readUInt16(),this.maxComponentElements=Ve.readUInt16(),this.maxComponentDepth=Ve.readUInt16()},$e}(),me=function(je){function $e(){return $e.__super__.constructor.apply(this,arguments)}return oe($e,re),$e.prototype.tag="hmtx",$e.prototype.parse=function(Ve){var ze,qe,Xe,We,Ke,Je,Ze;for(Ve.pos=this.offset,this.metrics=[],ze=0,Je=this.file.hhea.numberOfMetrics;0<=Je?ze<Je:ze>Je;ze=0<=Je?++ze:--ze)this.metrics.push({advance:Ve.readUInt16(),lsb:Ve.readInt16()});for(Xe=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var Qe,St;for(St=[],ze=Qe=0;0<=Xe?Qe<Xe:Qe>Xe;ze=0<=Xe?++Qe:--Qe)St.push(Ve.readInt16());return St}(),this.widths=(function(){var Qe,St,ei,ti;for(ti=[],Qe=0,St=(ei=this.metrics).length;Qe<St;Qe++)We=ei[Qe],ti.push(We.advance);return ti}).call(this),qe=this.widths[this.widths.length-1],Ze=[],ze=Ke=0;0<=Xe?Ke<Xe:Ke>Xe;ze=0<=Xe?++Ke:--Ke)Ze.push(this.widths.push(qe));return Ze},$e.prototype.forGlyph=function(Ve){return Ve in this.metrics?this.metrics[Ve]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[Ve-this.metrics.length]}},$e}(),ve=[].slice,be=function(je){function $e(){return $e.__super__.constructor.apply(this,arguments)}return oe($e,re),$e.prototype.tag="glyf",$e.prototype.parse=function(){return this.cache={}},$e.prototype.glyphFor=function(Ve){var ze,qe,Xe,We,Ke,Je,Ze,Qe,St,ei;return Ve in this.cache?this.cache[Ve]:(We=this.file.loca,ze=this.file.contents,qe=We.indexOf(Ve),(Xe=We.lengthOf(Ve))===0?this.cache[Ve]=null:(ze.pos=this.offset+qe,Ke=(Je=new ne(ze.read(Xe))).readShort(),Qe=Je.readShort(),ei=Je.readShort(),Ze=Je.readShort(),St=Je.readShort(),this.cache[Ve]=Ke===-1?new we(Je,Qe,ei,Ze,St):new ye(Je,Ke,Qe,ei,Ze,St),this.cache[Ve]))},$e.prototype.encode=function(Ve,ze,qe){var Xe,We,Ke,Je,Ze;for(Ke=[],We=[],Je=0,Ze=ze.length;Je<Ze;Je++)Xe=Ve[ze[Je]],We.push(Ke.length),Xe&&(Ke=Ke.concat(Xe.encode(qe)));return We.push(Ke.length),{table:Ke,offsets:We}},$e}(),ye=function(){function je($e,Ve,ze,qe,Xe,We){this.raw=$e,this.numberOfContours=Ve,this.xMin=ze,this.yMin=qe,this.xMax=Xe,this.yMax=We,this.compound=!1}return je.prototype.encode=function(){return this.raw.data},je}(),we=function(){function je($e,Ve,ze,qe,Xe){var We,Ke;for(this.raw=$e,this.xMin=Ve,this.yMin=ze,this.xMax=qe,this.yMax=Xe,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],We=this.raw;Ke=We.readShort(),this.glyphOffsets.push(We.pos),this.glyphIDs.push(We.readUInt16()),32&Ke;)We.pos+=1&Ke?4:2,128&Ke?We.pos+=8:64&Ke?We.pos+=4:8&Ke&&(We.pos+=2)}return je.prototype.encode=function(){var $e,Ve,ze;for(Ve=new ne(ve.call(this.raw.data)),$e=0,ze=this.glyphIDs.length;$e<ze;++$e)Ve.pos=this.glyphOffsets[$e];return Ve.data},je}(),Ne=function(je){function $e(){return $e.__super__.constructor.apply(this,arguments)}return oe($e,re),$e.prototype.tag="loca",$e.prototype.parse=function(Ve){var ze,qe;return Ve.pos=this.offset,ze=this.file.head.indexToLocFormat,this.offsets=ze===0?(function(){var Xe,We;for(We=[],qe=0,Xe=this.length;qe<Xe;qe+=2)We.push(2*Ve.readUInt16());return We}).call(this):(function(){var Xe,We;for(We=[],qe=0,Xe=this.length;qe<Xe;qe+=4)We.push(Ve.readUInt32());return We}).call(this)},$e.prototype.indexOf=function(Ve){return this.offsets[Ve]},$e.prototype.lengthOf=function(Ve){return this.offsets[Ve+1]-this.offsets[Ve]},$e.prototype.encode=function(Ve,ze){for(var qe=new Uint32Array(this.offsets.length),Xe=0,We=0,Ke=0;Ke<qe.length;++Ke)if(qe[Ke]=Xe,We<ze.length&&ze[We]==Ke){++We,qe[Ke]=Xe;var Je=this.offsets[Ke],Ze=this.offsets[Ke+1]-Je;Ze>0&&(Xe+=Ze)}for(var Qe=new Array(4*qe.length),St=0;St<qe.length;++St)Qe[4*St+3]=255&qe[St],Qe[4*St+2]=(65280&qe[St])>>8,Qe[4*St+1]=(16711680&qe[St])>>16,Qe[4*St]=(4278190080&qe[St])>>24;return Qe},$e}(),Le=function(){function je($e){this.font=$e,this.subset={},this.unicodes={},this.next=33}return je.prototype.generateCmap=function(){var $e,Ve,ze,qe,Xe;for(Ve in qe=this.font.cmap.tables[0].codeMap,$e={},Xe=this.subset)ze=Xe[Ve],$e[Ve]=qe[ze];return $e},je.prototype.glyphsFor=function($e){var Ve,ze,qe,Xe,We,Ke,Je;for(qe={},We=0,Ke=$e.length;We<Ke;We++)qe[Xe=$e[We]]=this.font.glyf.glyphFor(Xe);for(Xe in Ve=[],qe)(ze=qe[Xe])!=null&&ze.compound&&Ve.push.apply(Ve,ze.glyphIDs);if(Ve.length>0)for(Xe in Je=this.glyphsFor(Ve))ze=Je[Xe],qe[Xe]=ze;return qe},je.prototype.encode=function($e,Ve){var ze,qe,Xe,We,Ke,Je,Ze,Qe,St,ei,ti,ni,oi,ai,si;for(qe in ze=ue.encode(this.generateCmap(),"unicode"),We=this.glyphsFor($e),ti={0:0},si=ze.charMap)ti[(Je=si[qe]).old]=Je.new;for(ni in ei=ze.maxGlyphID,We)ni in ti||(ti[ni]=ei++);return Qe=function(ri){var ii,ui;for(ii in ui={},ri)ui[ri[ii]]=ii;return ui}(ti),St=Object.keys(Qe).sort(function(ri,ii){return ri-ii}),oi=function(){var ri,ii,ui;for(ui=[],ri=0,ii=St.length;ri<ii;ri++)Ke=St[ri],ui.push(Qe[Ke]);return ui}(),Xe=this.font.glyf.encode(We,oi,ti),Ze=this.font.loca.encode(Xe.offsets,oi),ai={cmap:this.font.cmap.raw(),glyf:Xe.table,loca:Ze,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(Ve)},this.font.os2.exists&&(ai["OS/2"]=this.font.os2.raw()),this.font.directory.encode(ai)},je}();E.API.PDFObject=function(){var je;function $e(){}return je=function(Ve,ze){return(Array(ze+1).join("0")+Ve).slice(-ze)},$e.convert=function(Ve){var ze,qe,Xe,We;if(Array.isArray(Ve))return"["+function(){var Ke,Je,Ze;for(Ze=[],Ke=0,Je=Ve.length;Ke<Je;Ke++)ze=Ve[Ke],Ze.push($e.convert(ze));return Ze}().join(" ")+"]";if(typeof Ve=="string")return"/"+Ve;if(Ve!=null&&Ve.isString)return"("+Ve+")";if(Ve instanceof Date)return"(D:"+je(Ve.getUTCFullYear(),4)+je(Ve.getUTCMonth(),2)+je(Ve.getUTCDate(),2)+je(Ve.getUTCHours(),2)+je(Ve.getUTCMinutes(),2)+je(Ve.getUTCSeconds(),2)+"Z)";if({}.toString.call(Ve)==="[object Object]"){for(qe in Xe=["<<"],Ve)We=Ve[qe],Xe.push("/"+qe+" "+$e.convert(We));return Xe.push(">>"),Xe.join(`
`)}return""+Ve},$e}();class PdfRenderContext extends ClippingRenderContext{constructor(Ve){super();Wn(this,"_pdf");Wn(this,"ctx");Wn(this,"_textMeasurer");Wn(this,"styleConverter",new OxyStyleToCanvasStyleConverter);Wn(this,"_ctxInitStyles");this._pdf=new E({unit:"px",orientation:Ve});const ze=this._pdf.context2d;this.ctx=ze,this._ctxInitStyles={fillStyle:ze.fillStyle,strokeStyle:ze.strokeStyle,lineJoin:ze.lineJoin,lineWidth:ze.lineWidth},this._textMeasurer=canvasTextMeasurer()}getPdf(){return this._pdf}async drawImage(Ve,ze,qe,Xe,We,Ke,Je,Ze,Qe,St,ei){if(St<=0)return;const ti=Ke-ze/Xe*Ze,ni=Ve.width/Xe*Ze,oi=Je-qe/We*Qe,ai=Ve.height/We*Qe;this.clearStyles(),this._pdf.addImage(Ve.data,"PNG",ti,oi,ni,ai)}async drawLineSegments(Ve,ze,qe,Xe,We,Ke){if(Ve.length<2||ze.isInvisible()||qe==0)return;this.clearStyles();const Je=this.ctx;Je.beginPath(),this.applyLineStyle(ze,qe,Xe,We,Ke);for(let Ze=0;Ze<Ve.length;Ze+=2){const Qe=Ve[Ze],St=Ve[Ze+1];this.drawPoints([Qe,St])}Je.stroke()}async drawLine(Ve,ze,qe,Xe,We,Ke){if(Ve.length<2||ze.isInvisible()||qe==0)return;this.clearStyles();const Je=this.ctx;Je.beginPath(),this.applyLineStyle(ze,qe,Xe,We,Ke),this.drawPoints(Ve),Je.stroke()}async drawPolygon(Ve,ze,qe,Xe,We,Ke,Je){if(ze.isInvisible()&&!(qe.isVisible()||Xe<=0)||Ve.length<2)return;this.clearStyles();const Ze=this.ctx;if(ze.a<255||qe.a<255){this._pdf.saveGraphicsState();let Qe=1,St=1;ze.a<255&&(Qe=ze.a/255),qe.a<255&&(St=qe.a/255),this._pdf.setGState(this._pdf.GState({opacity:Qe,"stroke-opacity":St}))}Ze.beginPath(),this.applyPolygonStyle(ze,qe,Xe,We,Ke,Je),this.drawPoints(Ve),Ze.closePath(),ze.isVisible()&&Ze.fill(),qe.isVisible()&&Xe>0&&Ze.stroke(),(ze.a<255||qe.a<255)&&this._pdf.restoreGraphicsState()}async drawPolygons(Ve,ze,qe,Xe,We,Ke,Je){if(ze.isInvisible()&&!(qe.isVisible()||Xe<=0)||Ve.length===0)return;this.clearStyles();const Ze=this.ctx;this.applyPolygonStyle(ze,qe,Xe,We,Ke,Je);for(const Qe of Ve)Qe.length<2||(Ze.beginPath(),this.drawPoints(Qe),Ze.closePath(),ze.isVisible()&&Ze.fill(),qe.isVisible()&&Xe>0&&Ze.stroke())}async drawText(Ve,ze,qe,Xe,We,Ke,Je,Ze,Qe,St){if(!ze||qe.isInvisible())return;this.clearStyles(),isNullOrUndef(Ze)&&(Ze=HorizontalAlignment.Left),isNullOrUndef(Qe)&&(Qe=VerticalAlignment.Top);const ei=this.ctx;We=We||12,Ke=Ke||FontWeights.Normal,this.applyTextStyle(qe,Xe,We,Ke),ei.save(),ei.translate(Ve.x,Ve.y),Je&&ei.rotate(Je*(Math.PI/180));const ti=StringHelper.splitLines(ze),ni=[];for(const si of ti){const ri=this.measureText(si,Xe,We,Ke);ni.push(ri)}const oi=ni.reduce((si,ri)=>si+ri.height,0);let ai=0;ei.textBaseline="middle",Qe===VerticalAlignment.Top?ai=0:Qe===VerticalAlignment.Middle?ai=-oi/2:Qe===VerticalAlignment.Bottom&&(ai=-oi);for(let si=0;si<ti.length;si++){const ri=ti[si];let ii=0;const ui=ni[si];Ze===HorizontalAlignment.Center?ii=-ui.width/2:Ze===HorizontalAlignment.Right&&(ii=-ui.width),ei.fillText(ri,ii,ai+ui.height/2),ai+=ui.height}ei.restore()}measureText(Ve,ze,qe,Xe){return this._textMeasurer.measureText(Ve,ze,qe,Xe)}setClip(Ve){this.ctx.save(),this.ctx.rect(Ve.left,Ve.top,Ve.width,Ve.height),this.ctx.clip()}resetClip(){this.ctx.restore()}applyLineStyle(Ve,ze,qe,Xe,We){const Ke=this.ctx;Xe&&Xe.length>0&&Ke.setLineDash(Xe),Ke.lineWidth=ze,Ke.lineJoin=this.styleConverter.convertLineJoin(We),Ke.strokeStyle=this.styleConverter.convertStrokeOrFillStyle(Ve)}clearStyles(){this.ctx.setLineDash([])}applyPolygonStyle(Ve,ze,qe,Xe,We,Ke){ze.isVisible()&&qe>0&&this.applyLineStyle(ze,qe,Xe,We,Ke),Ve.isVisible()&&(this.ctx.fillStyle=this.styleConverter.convertStrokeOrFillStyle(Ve))}applyTextStyle(Ve,ze,qe,Xe){const We=this.ctx;We.fillStyle=this.styleConverter.convertStrokeOrFillStyle(Ve),We.font=this.styleConverter.convertFont(ze,qe,Xe)}drawPoints(Ve){this.ctx.moveTo(Ve[0].x,Ve[0].y);for(let ze=1;ze<Ve.length;ze++){const qe=Ve[ze];this.ctx.lineTo(qe.x,qe.y)}}}class WebPlotViewBase{constructor(){Wn(this,"controller");Wn(this,"defaultController");Wn(this,"_zoomRectangle");Wn(this,"_model");Wn(this,"_isModelInvalidated",!1);Wn(this,"_updateDataFlag",!1);Wn(this,"_rendering",!1)}get actualController(){return this.controller?this.controller:this.defaultController?this.defaultController:(this.defaultController=new PlotController,this.defaultController)}get actualModel(){return this._model}get model(){return this._model}set model($e){const Ve=this._model;this._model=$e,this.onModelChanged(Ve,$e)}onModelChanged($e,Ve){$e&&$e.attachPlotView(void 0),Ve&&Ve.attachPlotView(this),this.invalidatePlot(!0)}invalidatePlot($e){this._isModelInvalidated=!0,this._updateDataFlag=$e||!1,this.render()}render(){const $e=this._model;$e&&(this._isModelInvalidated&&($e.update(this._updateDataFlag),this._isModelInvalidated=!1,this._updateDataFlag=!1),window.requestAnimationFrame(async()=>this.renderSync()))}setClipboardText($e){try{navigator.clipboard.writeText($e)}catch(Ve){console.error(Ve)}}setCursorType($e){}hideTracker(){}showTracker($e){}hideZoomRectangle(){this._zoomRectangle=void 0}showZoomRectangle($e){this._zoomRectangle=$e}async renderSync(){if(this._model&&!this._rendering){this._rendering=!0;try{await this.renderOverride(this._model)}finally{this._rendering=!1}}}}class PdfPlotView extends WebPlotViewBase{constructor(Ve){super();Wn(this,"_view");Wn(this,"_orientation","portrait");Wn(this,"_clientArea",OxyRect.Empty);this._view=Ve,this.calcClientArea()}get orientation(){return this._orientation}set orientation(Ve){Ve!==this._orientation&&(this._orientation=Ve,this.calcClientArea())}calcClientArea(){const Ve=new E({unit:"px",orientation:this.orientation}),ze=new OxySize(Ve.internal.pageSize.width,Ve.internal.pageSize.height);Ve.close(),this._clientArea=OxyRect.fromScreenPointAndSize(ScreenPoint_LeftTop,ze)}get clientArea(){return this._clientArea}async renderOverride(Ve){const ze=new PdfRenderContext(this.orientation);await Ve.render(ze,this.clientArea);const qe=ze.getPdf();qe.internal.pages.length>1&&qe.deletePage(1);const Xe=qe.output("dataurlstring",{filename:Ve.title+".pdf"});this._view.src="",this._view.src=Xe}}function toOxyMouseEventArgs(je){return{position:newScreenPoint(je.offsetX,je.offsetY),modifierKeys:convertModifiers(je),handled:!1}}function toOxyMouseDownEventArgs(je){const $e=toOxyMouseEventArgs(je);return $e.clickCount=je.detail,$e.changedButton=convertMouseButtons(je),$e}function toOxyMouseWheelEventArgs(je){const $e=toOxyMouseEventArgs(je);return $e.delta=je.deltaY!=0?-je.deltaY:je.deltaX,$e}function convertModifiers(je){let $e=OxyModifierKeys.None;return je.ctrlKey&&($e|=OxyModifierKeys.Control),je.shiftKey&&($e|=OxyModifierKeys.Shift),je.altKey&&($e|=OxyModifierKeys.Alt),je.metaKey&&($e|=OxyModifierKeys.Windows),$e}function convertMouseButtons(je){return je.button===0?OxyMouseButton.Left:je.button===1?OxyMouseButton.Middle:je.button===2?OxyMouseButton.Right:je.button===3?OxyMouseButton.XButton1:je.button===4?OxyMouseButton.XButton2:OxyMouseButton.None}function convertCursorType(je){switch(je){case CursorType.Default:return"default";case CursorType.Pan:return"grab";case CursorType.ZoomRectangle:return"nwse-resize";case CursorType.ZoomHorizontal:return"ew-resize";case CursorType.ZoomVertical:return"ns-resize";default:return"default"}}function addPlotViewEvents(je,$e){je.addEventListener("contextmenu",function(Ve){Ve.preventDefault()}),je.addEventListener("resize",async()=>{$e.invalidatePlot(!1)}),je.onmousedown=Ve=>{$e.actualController.handleMouseDown($e,toOxyMouseDownEventArgs(Ve))},je.onmousemove=Ve=>{$e.actualController.handleMouseMove($e,toOxyMouseEventArgs(Ve))},je.onmouseup=Ve=>{$e.actualController.handleMouseUp($e,toOxyMouseEventArgs(Ve))},je.onmouseenter=Ve=>{$e.actualController.handleMouseEnter($e,toOxyMouseEventArgs(Ve))},je.onmouseleave=Ve=>{$e.actualController.handleMouseLeave($e,toOxyMouseEventArgs(Ve))},je.onwheel=Ve=>{$e.actualController.handleMouseWheel($e,toOxyMouseWheelEventArgs(Ve))}}class CanvasRenderContext extends ClippingRenderContext{constructor(Ve){super();Wn(this,"ctx");Wn(this,"_textMeasurer");Wn(this,"styleConverter",new OxyStyleToCanvasStyleConverter);Wn(this,"_ctxInitStyles");Wn(this,"_renderContextImageCacheService");this.canvas=Ve;const ze=Ve.getContext("2d");if(!ze)throw new Error("Could not get canvas context");this.ctx=ze,this._ctxInitStyles={fillStyle:ze.fillStyle,strokeStyle:ze.strokeStyle,lineJoin:ze.lineJoin,lineWidth:ze.lineWidth},this._renderContextImageCacheService=getRenderContextImageCacheService(),this._textMeasurer=canvasTextMeasurer(ze)}async drawImage(Ve,ze,qe,Xe,We,Ke,Je,Ze,Qe,St,ei){if(St<=0)return;this.resetStyles();const ti=this.ctx,ni=await this.getOrCreateImage(Ve,()=>{const oi=new Blob([Ve.data],{type:"image/png"});return createImageBitmap(oi)});ti.imageSmoothingEnabled=ei,ti.drawImage(ni,ze,qe,Xe,We,round(Ke,0),round(Je,0),round(Ze,0),round(Qe,0))}async drawLineSegments(Ve,ze,qe,Xe,We,Ke){if(Ve.length<2||ze.isInvisible()||qe==0)return;this.resetStyles();const Je=this.ctx;Je.beginPath(),this.applyLineStyle(ze,qe,Xe,We,Ke);for(let Ze=0;Ze<Ve.length;Ze+=2){const Qe=Ve[Ze],St=Ve[Ze+1];this.drawPoints([Qe,St])}Je.stroke()}async drawLine(Ve,ze,qe,Xe,We,Ke){if(Ve.length<2||ze.isInvisible()||qe==0)return;this.resetStyles();const Je=this.ctx;Je.beginPath(),this.applyLineStyle(ze,qe,Xe,We,Ke),this.drawPoints(Ve),Je.stroke()}async drawPolygon(Ve,ze,qe,Xe,We,Ke,Je){if(ze.isInvisible()&&!(qe.isVisible()||Xe<=0)||Ve.length<2)return;this.resetStyles();const Ze=this.ctx;Ze.beginPath(),this.applyPolygonStyle(ze,qe,Xe,We,Ke,Je),this.drawPoints(Ve),Ze.closePath(),ze.isVisible()&&Ze.fill(),qe.isVisible()&&Xe>0&&Ze.stroke()}async drawPolygons(Ve,ze,qe,Xe,We,Ke,Je){if(ze.isInvisible()&&!(qe.isVisible()||Xe<=0)||Ve.length===0)return;this.resetStyles();const Ze=this.ctx;this.applyPolygonStyle(ze,qe,Xe,We,Ke,Je);for(const Qe of Ve)Qe.length<2||(Ze.beginPath(),this.drawPoints(Qe),Ze.closePath(),ze.isVisible()&&Ze.fill(),qe.isVisible()&&Xe>0&&Ze.stroke())}async drawText(Ve,ze,qe,Xe,We,Ke,Je,Ze,Qe,St){if(!ze||qe.isInvisible())return;isNullOrUndef(Ze)&&(Ze=HorizontalAlignment.Left),isNullOrUndef(Qe)&&(Qe=VerticalAlignment.Top),this.resetStyles();const ei=this.ctx;We=We||12,Ke=Ke||FontWeights.Normal,this.applyTextStyle(qe,Xe,We,Ke),ei.save(),ei.translate(Ve.x,Ve.y),Je&&ei.rotate(Je*(Math.PI/180));const ti=StringHelper.splitLines(ze),ni=[];for(const si of ti){const ri=this.measureText(si,Xe,We,Ke);ni.push(ri)}const oi=ni.reduce((si,ri)=>si+ri.height,0);let ai=0;ei.textBaseline="middle",Qe===VerticalAlignment.Top?ai=0:Qe===VerticalAlignment.Middle?ai=-oi/2:Qe===VerticalAlignment.Bottom&&(ai=-oi);for(let si=0;si<ti.length;si++){const ri=ti[si];let ii=0;const ui=ni[si];Ze===HorizontalAlignment.Center?ii=-ui.width/2:Ze===HorizontalAlignment.Right&&(ii=-ui.width),ei.fillText(ri,ii,ai+ui.height/2,St==null?void 0:St.width),ai+=ui.height}ei.restore()}measureText(Ve,ze,qe,Xe){return this._textMeasurer.measureText(Ve,ze,qe,Xe)}setClip(Ve){this.ctx.save();const ze=new Path2D;ze.rect(Ve.left,Ve.top,Ve.width,Ve.height),this.ctx.clip(ze)}resetClip(){this.ctx.restore()}resetStyles(){const Ve=this.ctx;Ve.setLineDash([]),Object.assign(Ve,this._ctxInitStyles)}applyLineStyle(Ve,ze,qe,Xe,We){const Ke=this.ctx;Xe&&Xe.length>0&&Ke.setLineDash(Xe),Ke.lineWidth=ze,Ke.lineJoin=this.styleConverter.convertLineJoin(We),Ke.strokeStyle=this.styleConverter.convertStrokeOrFillStyle(Ve)}applyPolygonStyle(Ve,ze,qe,Xe,We,Ke){ze.isVisible()&&qe>0&&this.applyLineStyle(ze,qe,Xe,We,Ke),Ve.isVisible()&&(this.ctx.fillStyle=this.styleConverter.convertStrokeOrFillStyle(Ve))}applyTextStyle(Ve,ze,qe,Xe){const We=this.ctx;We.fillStyle=this.styleConverter.convertStrokeOrFillStyle(Ve),We.font=this.styleConverter.convertFont(ze,qe,Xe)}drawPoints(Ve){this.ctx.moveTo(Ve[0].x,Ve[0].y);for(let ze=1;ze<Ve.length;ze++){const qe=Ve[ze];this.ctx.lineTo(qe.x,qe.y)}}async getOrCreateImage(Ve,ze){const qe=Ve.getHashCode().toString(),Xe=this._renderContextImageCacheService.get(qe);if(Xe)return Promise.resolve(Xe);const We=await ze();return this._renderContextImageCacheService.set(qe,We),We}}class CanvasPlotView extends WebPlotViewBase{constructor(Ve){super();Wn(this,"_view");Wn(this,"_tooltip");Wn(this,"_renderContext");Wn(this,"_drawCtx");Wn(this,"_styleConverter",new OxyStyleToCanvasStyleConverter);if(this._view=Ve,this._drawCtx=this._view.getContext("2d"),!this._drawCtx)throw new Error("Could not get 2d context");this._tooltip=document.createElement("div"),this._tooltip.style.position="absolute",this._tooltip.style.zIndex="100",this._tooltip.style.backgroundColor="#FFFFA0E0",this._tooltip.style.border="1px solid black",this._tooltip.style.padding="8px",this._tooltip.style.visibility="hidden",this._tooltip.style.pointerEvents="none",document.body.appendChild(this._tooltip),this._renderContext=new CanvasRenderContext(this._view),addPlotViewEvents(this._view,this)}get tooltip(){return this._tooltip}get clientArea(){return new OxyRect(0,0,this._view.width,this._view.height)}hideTracker(){this._tooltip.style.visibility="hidden"}showTracker(Ve){if(!(Ve!=null&&Ve.position))return;const ze=Ve.toString()||"";if(ze.trim().length===0)return;const qe=this._view.offsetTop,Xe=this._view.offsetLeft;this._tooltip.innerText=ze,this._tooltip.style.top=`${qe+Ve.position.y}px`,this._tooltip.style.left=`${Xe+Ve.position.x}px`,this._tooltip.style.visibility="visible"}setCursorType(Ve){this._view.style.cursor=convertCursorType(Ve)}async renderOverride(Ve){this._drawCtx=this._view.getContext("2d");const ze=this._view;if(this._drawCtx.reset(),Ve.background.isUndefined()||(this._drawCtx.fillStyle=this._styleConverter.convertStrokeOrFillStyle(Ve.background),this._drawCtx.fillRect(0,0,ze.width,ze.height)),await Ve.render(this._renderContext,new OxyRect(0,0,ze.width,ze.height)),this._zoomRectangle&&this._zoomRectangle.equals(OxyRect.Empty)){const qe=OxyColor.parse("#40FFFF00"),Xe=OxyColors.Black;await this._renderContext.drawRectangle(this._zoomRectangle,qe,Xe,1,EdgeRenderingMode.Automatic)}}}class SvgPlotView extends WebPlotViewBase{constructor(Ve){super();Wn(this,"_view");Wn(this,"_tooltip");Wn(this,"textMeasurer");this._view=Ve,this.textMeasurer=canvasTextMeasurer(),this._tooltip=document.createElement("div"),this._tooltip.style.position="absolute",this._tooltip.style.zIndex="100",this._tooltip.style.backgroundColor="#FFFFA0E0",this._tooltip.style.border="1px solid black",this._tooltip.style.padding="8px",this._tooltip.style.visibility="hidden",this._tooltip.style.pointerEvents="none",document.body.appendChild(this._tooltip),addPlotViewEvents(this._view,this)}get tooltip(){return this._tooltip}get clientArea(){return new OxyRect(0,0,this._view.clientWidth,this._view.clientHeight)}hideTracker(){this._tooltip.style.visibility="hidden"}showTracker(Ve){if(!(Ve!=null&&Ve.position))return;const ze=Ve.toString()||"";if(ze.trim().length===0)return;const qe=this._view.offsetTop,Xe=this._view.offsetLeft;this._tooltip.innerText=ze,this._tooltip.style.top=`${qe+Ve.position.y}px`,this._tooltip.style.left=`${Xe+Ve.position.x}px`,this._tooltip.style.visibility="visible"}setCursorType(Ve){this._view.style.cursor=convertCursorType(Ve)}async renderOverride(Ve){const ze=this._view;this._view.innerHTML="";const qe=new SvgRenderContext(ze.clientWidth,ze.clientHeight,!0,this.textMeasurer,Ve.background);if(Ve.background.isUndefined()||(this._view.style.backgroundColor=Ve.background.toString()),await Ve.render(qe,new OxyRect(0,0,ze.clientWidth,ze.clientHeight)),this._zoomRectangle&&this._zoomRectangle.equals(OxyRect.Empty)){const Xe=OxyColor.parse("#40FFFF00"),We=OxyColors.Black;await qe.drawRectangle(this._zoomRectangle,Xe,We,1,EdgeRenderingMode.Automatic)}qe.complete(),this._view.innerHTML=qe.getXml()}}const _withScopeId=je=>(pushScopeId("data-v-8cec7b19"),je=je(),popScopeId(),je),_hoisted_1={class:"flex py-4"},_hoisted_2={class:"w-[300px]"},_hoisted_3={class:"overflow-x-hidden overflow-y-auto mt-2",style:{"max-height":"calc(100vh - 100px)"}},_hoisted_4=["onClick"],_hoisted_5={class:"flex-grow ml-4"},_hoisted_6={id:"canvasPlotView",class:"border border-gray-200 rounded-lg shadow",style:{width:"800px",height:"600px"}},_hoisted_7={id:"svgPlotView",class:"border border-gray-200 rounded-lg shadow select-none",style:{width:"800px",height:"600px"}},_hoisted_8={class:"flex justify-between mt-2"},_hoisted_9={class:"flex items-center"},_hoisted_10={class:"relative mt-1"},_hoisted_11={class:"block truncate"},_hoisted_12={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"},_hoisted_13=_withScopeId(()=>createBaseVNode("span",{class:"ml-4 mr-2"},"landscape",-1)),_hoisted_14=_withScopeId(()=>createBaseVNode("span",{class:"ml-2"},"portrait",-1)),_hoisted_15={key:0,class:"flex"},_hoisted_16={key:0,class:"flex items-center"},_hoisted_17=["disabled"],_hoisted_18=_withScopeId(()=>createBaseVNode("label",{class:"ml-1 ms-2 text-sm font-medium text-gray-900 dark:text-gray-300",for:"chkTransposed"},"Transposed",-1)),_hoisted_19={key:1,class:"flex items-center ml-2"},_hoisted_20=["disabled"],_hoisted_21=_withScopeId(()=>createBaseVNode("label",{class:"ml-1 ms-2 text-sm font-medium text-gray-900 dark:text-gray-300",for:"chkReversed"},"Reversed",-1)),_sfc_main=defineComponent({__name:"App",setup(je){window.oxyPlotImg=oxyPlotImg,dayjs.extend(duration),dayjs.extend(dayOfYear);const $e=ref(null),Ve=ref(""),ze=ref(!1),qe=ref(!1),Xe=ref(!1),We=ref(!1),Ke=ref("canvas"),Je=ref(["canvas","pdf","svg"]),Ze=ref(!1),Qe=computed(()=>{if(!Ve.value)return examples;const ri=[],ii=Ve.value.toLowerCase();function ui(ci,hi){return(hi.title||"").toLowerCase().includes(ii)||(ci.tags||[]).some(mi=>mi.toLowerCase().includes(ii))}for(const ci of examples){const hi=ci.examples.filter(mi=>ui(ci,mi));hi.length>0&&ri.push({category:ci.category,examples:hi})}return ri});watch([ze,Xe,Ke],async()=>{if(!$e.value)return;const ri=await ai($e.value);ri&&await si(ri)}),watch(Ze,()=>{});let St=null;function ei(){if(St)return St;const ri=document.getElementById("canvasPlotView"),ii=ri.clientWidth,ui=ri.clientHeight,ci=window.devicePixelRatio||1;return ri.width=ii*ci,ri.height=ui*ci,ri.style.width=ii+"px",ri.style.height=ui+"px",St=ri,St}let ti={};function ni(){if(Ke.value==="canvas"){const ri="canvas";if(ti[ri])return ti[ri];const ii=ei(),ui=new CanvasPlotView(ii);return ti[ri]=ui,ui}if(Ke.value==="pdf"){const ri=Ze.value?"pdf-portrait":"pdf-landscape";if(ti[ri])return ti[ri];const ii=new PdfPlotView(document.getElementById("pdfPlotView"));return ii.orientation=Ze.value?"portrait":"landscape",ti[ri]=ii,ii}if(Ke.value==="svg"){const ri="svg";let ii=ti[ri];const ui=document.getElementById("svgPlotView");return ui.innerHTML="",ii||(ii=new SvgPlotView(ui),ti[ri]=ii,ii)}throw new Error(`Unknown renderer type: ${Ke.value}`)}async function oi(ri,ii){if(toRaw($e.value)===ii)return;const ui=await ai(ii);ui&&($e.value=ii,qe.value=PlotModelUtilities.isTransposable(ui.model),We.value=PlotModelUtilities.isReversible(ui.model),getRenderContextImageCacheService().clear(),await si(ui))}async function ai(ri){let ii=null;try{ii=await ri.example.model()}catch(ci){return console.error(ci),alert(ci),null}if(!ii)return null;ze.value&&PlotModelUtilities.isTransposable(ii)&&PlotModelUtilities.transpose(ii),Xe.value&&PlotModelUtilities.isReversible(ii)&&PlotModelUtilities.reverseAllAxes(ii);let ui;return ri.example.controller&&(ui=ri.example.controller()),{model:ii,controller:ui}}async function si(ri){const ii=ri.model;if(!ii)return;const ui=ni();ui.model=ii,ui.controller=ri.controller}return(ri,ii)=>(openBlock(),createElementBlock("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":ii[0]||(ii[0]=ui=>Ve.value=ui),placeholder:"Filter",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"},null,512),[[vModelText,Ve.value]]),createBaseVNode("div",_hoisted_3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Qe.value,ui=>(openBlock(),createBlock(unref(V$1),{as:"div",class:"mt-2 mr-1",key:ui.category},{default:withCtx(({open:ci})=>[createVNode(unref(X$1),{class:"flex w-full justify-between rounded-lg bg-purple-100 px-4 py-2 text-left text-sm font-medium text-purple-900 hover:bg-purple-200 focus:outline-none focus-visible:ring focus-visible:ring-purple-500/75"},{default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(ui.category)+" ("+toDisplayString(ui.examples.length)+")",1),createVNode(unref(render),{class:normalizeClass([ci?"rotate-180 transform":"","h-5 w-5 text-purple-500"])},null,8,["class"])]),_:2},1024),createVNode(unref(Y$1),{class:"px-4 pb-2 text-sm text-gray-500"},{default:withCtx(()=>[createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ui.examples,hi=>(openBlock(),createElementBlock("li",{key:hi.title,class:"my-2 cursor-pointer"},[createBaseVNode("div",{onClick:mi=>oi(ui,hi),class:normalizeClass({"text-sky-500 font-bold":toRaw($e.value)===hi})},toDisplayString(hi.title),11,_hoisted_4)]))),128))])]),_:2},1024)]),_:2},1024))),128))])]),createBaseVNode("div",_hoisted_5,[withDirectives(createBaseVNode("iframe",{id:"pdfPlotView",class:normalizeClass(["border border-gray-200 rounded-lg shadow",[Ze.value?"pdfplotview-portrait":"pdfplotview-landscape"]])},null,2),[[vShow,Ke.value==="pdf"]]),withDirectives(createBaseVNode("canvas",_hoisted_6,null,512),[[vShow,Ke.value==="canvas"]]),withDirectives(createBaseVNode("div",_hoisted_7,null,512),[[vShow,Ke.value==="svg"]]),createBaseVNode("div",_hoisted_8,[createBaseVNode("div",_hoisted_9,[createTextVNode(" Renderer: "),createVNode(unref(Be),{modelValue:Ke.value,"onUpdate:modelValue":ii[1]||(ii[1]=ui=>Ke.value=ui),class:"ml-2",style:{"min-width":"120px"}},{default:withCtx(()=>[createBaseVNode("div",_hoisted_10,[createVNode(unref(Ne$1),{class:"relative w-full cursor-default rounded-lg bg-white py-2 pl-3 pr-10 text-left shadow-md focus:outline-none focus-visible:border-indigo-500 focus-visible:ring-2 focus-visible:ring-white/75 focus-visible:ring-offset-2 focus-visible:ring-offset-orange-300 sm:text-sm"},{default:withCtx(()=>[createBaseVNode("span",_hoisted_11,toDisplayString(Ke.value),1),createBaseVNode("span",_hoisted_12,[createVNode(unref(render$1),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])]),_:1}),createVNode(Transition,{"leave-active-class":"transition duration-100 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:withCtx(()=>[createVNode(unref(He),{class:"absolute mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black/5 focus:outline-none sm:text-sm"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(Je.value,ui=>(openBlock(),createBlock(unref(Ue),{key:ui,value:ui,as:"template"},{default:withCtx(({active:ci,selected:hi})=>[createBaseVNode("li",{class:normalizeClass([ci?"bg-purple-100 text-purple-900":"text-gray-900","relative cursor-default select-none py-2 pl-10 pr-4"])},[createBaseVNode("span",{class:normalizeClass([hi?"font-medium":"font-normal","block truncate"])},toDisplayString(ui),3)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["modelValue"]),Ke.value==="pdf"?(openBlock(),createElementBlock(Fragment,{key:0},[_hoisted_13,createVNode(unref(ue$1),{modelValue:Ze.value,"onUpdate:modelValue":ii[2]||(ii[2]=ui=>Ze.value=ui),class:normalizeClass([Ze.value?"bg-purple-600":"bg-gray-200","relative inline-flex h-6 w-11 items-center rounded-full"])},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass([Ze.value?"translate-x-6":"translate-x-1","inline-block h-4 w-4 transform rounded-full bg-white transition"])},null,2)]),_:1},8,["modelValue","class"]),_hoisted_14],64)):createCommentVNode("",!0)]),Ke.value==="canvas"||Ke.value==="svg"?(openBlock(),createElementBlock("div",_hoisted_15,[$e.value?(openBlock(),createElementBlock("div",_hoisted_16,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":ii[3]||(ii[3]=ui=>ze.value=ui),type:"checkbox",disabled:!qe.value,id:"chkTransposed",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,8,_hoisted_17),[[vModelCheckbox,ze.value]]),_hoisted_18])):createCommentVNode("",!0),$e.value?(openBlock(),createElementBlock("div",_hoisted_19,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":ii[4]||(ii[4]=ui=>Xe.value=ui),disabled:!We.value,type:"checkbox",id:"chkReversed",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,8,_hoisted_20),[[vModelCheckbox,Xe.value]]),_hoisted_21])):createCommentVNode("",!0)])):createCommentVNode("",!0)])])]))}}),_export_sfc=(je,$e)=>{const Ve=je.__vccOpts||je;for(const[ze,qe]of $e)Ve[ze]=qe;return Ve},App=_export_sfc(_sfc_main,[["__scopeId","data-v-8cec7b19"]]);createApp(App).mount("#app");export{_typeof as _,commonjsGlobal as c,getDefaultExportFromCjs as g};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}